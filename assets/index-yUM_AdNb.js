function Lk(e,t){for(var n=0;n<t.length;n++){const r=t[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in e)){const a=Object.getOwnPropertyDescriptor(r,i);a&&Object.defineProperty(e,i,a.get?a:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const a of i)if(a.type==="childList")for(const o of a.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const a={};return i.integrity&&(a.integrity=i.integrity),i.referrerPolicy&&(a.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?a.credentials="include":i.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function r(i){if(i.ep)return;i.ep=!0;const a=n(i);fetch(i.href,a)}})();function ui(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function Im(e){if(Object.prototype.hasOwnProperty.call(e,"__esModule"))return e;var t=e.default;if(typeof t=="function"){var n=function r(){var i=!1;try{i=this instanceof r}catch{}return i?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};n.prototype=t.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(e).forEach(function(r){var i=Object.getOwnPropertyDescriptor(e,r);Object.defineProperty(n,r,i.get?i:{enumerable:!0,get:function(){return e[r]}})}),n}var aw={exports:{}},bh={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var CN;function RH(){if(CN)return bh;CN=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function n(r,i,a){var o=null;if(a!==void 0&&(o=""+a),i.key!==void 0&&(o=""+i.key),"key"in i){a={};for(var c in i)c!=="key"&&(a[c]=i[c])}else a=i;return i=a.ref,{$$typeof:e,type:r,key:o,ref:i!==void 0?i:null,props:a}}return bh.Fragment=t,bh.jsx=n,bh.jsxs=n,bh}var MN;function LH(){return MN||(MN=1,aw.exports=RH()),aw.exports}var x=LH();const g3="harim.theme",IS="harim.settings.v1";function y3(){try{const e=localStorage.getItem(g3);if(e==="dark"||e==="light")return e;const t=localStorage.getItem(IS);if(t){const r=JSON.parse(t)?.theme;if(r==="dark"||r==="light")return r}return null}catch{return null}}function b3(e){try{localStorage.setItem(g3,e);const t=localStorage.getItem(IS),n=t?JSON.parse(t):{};localStorage.setItem(IS,JSON.stringify({...n,theme:e}))}catch{}}function v3(e){const t=document.documentElement;t.classList.toggle("dark",e==="dark"),t.style.setProperty("color-scheme",e)}(function(){try{const e=y3()??(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light");v3(e)}catch{}})();var ow={exports:{}},rt={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var PN;function IH(){if(PN)return rt;PN=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),a=Symbol.for("react.consumer"),o=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),f=Symbol.for("react.memo"),m=Symbol.for("react.lazy"),p=Symbol.for("react.activity"),g=Symbol.iterator;function v(B){return B===null||typeof B!="object"?null:(B=g&&B[g]||B["@@iterator"],typeof B=="function"?B:null)}var _={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},w=Object.assign,E={};function T(B,W,ae){this.props=B,this.context=W,this.refs=E,this.updater=ae||_}T.prototype.isReactComponent={},T.prototype.setState=function(B,W){if(typeof B!="object"&&typeof B!="function"&&B!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,B,W,"setState")},T.prototype.forceUpdate=function(B){this.updater.enqueueForceUpdate(this,B,"forceUpdate")};function N(){}N.prototype=T.prototype;function O(B,W,ae){this.props=B,this.context=W,this.refs=E,this.updater=ae||_}var P=O.prototype=new N;P.constructor=O,w(P,T.prototype),P.isPureReactComponent=!0;var C=Array.isArray;function D(){}var $={H:null,A:null,T:null,S:null},H=Object.prototype.hasOwnProperty;function Y(B,W,ae){var V=ae.ref;return{$$typeof:e,type:B,key:W,ref:V!==void 0?V:null,props:ae}}function K(B,W){return Y(B.type,W,B.props)}function F(B){return typeof B=="object"&&B!==null&&B.$$typeof===e}function z(B){var W={"=":"=0",":":"=2"};return"$"+B.replace(/[=:]/g,function(ae){return W[ae]})}var X=/\/+/g;function Q(B,W){return typeof B=="object"&&B!==null&&B.key!=null?z(""+B.key):W.toString(36)}function J(B){switch(B.status){case"fulfilled":return B.value;case"rejected":throw B.reason;default:switch(typeof B.status=="string"?B.then(D,D):(B.status="pending",B.then(function(W){B.status==="pending"&&(B.status="fulfilled",B.value=W)},function(W){B.status==="pending"&&(B.status="rejected",B.reason=W)})),B.status){case"fulfilled":return B.value;case"rejected":throw B.reason}}throw B}function q(B,W,ae,V,oe){var me=typeof B;(me==="undefined"||me==="boolean")&&(B=null);var pe=!1;if(B===null)pe=!0;else switch(me){case"bigint":case"string":case"number":pe=!0;break;case"object":switch(B.$$typeof){case e:case t:pe=!0;break;case m:return pe=B._init,q(pe(B._payload),W,ae,V,oe)}}if(pe)return oe=oe(B),pe=V===""?"."+Q(B,0):V,C(oe)?(ae="",pe!=null&&(ae=pe.replace(X,"$&/")+"/"),q(oe,W,ae,"",function(Oe){return Oe})):oe!=null&&(F(oe)&&(oe=K(oe,ae+(oe.key==null||B&&B.key===oe.key?"":(""+oe.key).replace(X,"$&/")+"/")+pe)),W.push(oe)),1;pe=0;var be=V===""?".":V+":";if(C(B))for(var ne=0;ne<B.length;ne++)V=B[ne],me=be+Q(V,ne),pe+=q(V,W,ae,me,oe);else if(ne=v(B),typeof ne=="function")for(B=ne.call(B),ne=0;!(V=B.next()).done;)V=V.value,me=be+Q(V,ne++),pe+=q(V,W,ae,me,oe);else if(me==="object"){if(typeof B.then=="function")return q(J(B),W,ae,V,oe);throw W=String(B),Error("Objects are not valid as a React child (found: "+(W==="[object Object]"?"object with keys {"+Object.keys(B).join(", ")+"}":W)+"). If you meant to render a collection of children, use an array instead.")}return pe}function Z(B,W,ae){if(B==null)return B;var V=[],oe=0;return q(B,V,"","",function(me){return W.call(ae,me,oe++)}),V}function re(B){if(B._status===-1){var W=B._result;W=W(),W.then(function(ae){(B._status===0||B._status===-1)&&(B._status=1,B._result=ae)},function(ae){(B._status===0||B._status===-1)&&(B._status=2,B._result=ae)}),B._status===-1&&(B._status=0,B._result=W)}if(B._status===1)return B._result.default;throw B._result}var ue=typeof reportError=="function"?reportError:function(B){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var W=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof B=="object"&&B!==null&&typeof B.message=="string"?String(B.message):String(B),error:B});if(!window.dispatchEvent(W))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",B);return}console.error(B)},se={map:Z,forEach:function(B,W,ae){Z(B,function(){W.apply(this,arguments)},ae)},count:function(B){var W=0;return Z(B,function(){W++}),W},toArray:function(B){return Z(B,function(W){return W})||[]},only:function(B){if(!F(B))throw Error("React.Children.only expected to receive a single React element child.");return B}};return rt.Activity=p,rt.Children=se,rt.Component=T,rt.Fragment=n,rt.Profiler=i,rt.PureComponent=O,rt.StrictMode=r,rt.Suspense=u,rt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=$,rt.__COMPILER_RUNTIME={__proto__:null,c:function(B){return $.H.useMemoCache(B)}},rt.cache=function(B){return function(){return B.apply(null,arguments)}},rt.cacheSignal=function(){return null},rt.cloneElement=function(B,W,ae){if(B==null)throw Error("The argument must be a React element, but you passed "+B+".");var V=w({},B.props),oe=B.key;if(W!=null)for(me in W.key!==void 0&&(oe=""+W.key),W)!H.call(W,me)||me==="key"||me==="__self"||me==="__source"||me==="ref"&&W.ref===void 0||(V[me]=W[me]);var me=arguments.length-2;if(me===1)V.children=ae;else if(1<me){for(var pe=Array(me),be=0;be<me;be++)pe[be]=arguments[be+2];V.children=pe}return Y(B.type,oe,V)},rt.createContext=function(B){return B={$$typeof:o,_currentValue:B,_currentValue2:B,_threadCount:0,Provider:null,Consumer:null},B.Provider=B,B.Consumer={$$typeof:a,_context:B},B},rt.createElement=function(B,W,ae){var V,oe={},me=null;if(W!=null)for(V in W.key!==void 0&&(me=""+W.key),W)H.call(W,V)&&V!=="key"&&V!=="__self"&&V!=="__source"&&(oe[V]=W[V]);var pe=arguments.length-2;if(pe===1)oe.children=ae;else if(1<pe){for(var be=Array(pe),ne=0;ne<pe;ne++)be[ne]=arguments[ne+2];oe.children=be}if(B&&B.defaultProps)for(V in pe=B.defaultProps,pe)oe[V]===void 0&&(oe[V]=pe[V]);return Y(B,me,oe)},rt.createRef=function(){return{current:null}},rt.forwardRef=function(B){return{$$typeof:c,render:B}},rt.isValidElement=F,rt.lazy=function(B){return{$$typeof:m,_payload:{_status:-1,_result:B},_init:re}},rt.memo=function(B,W){return{$$typeof:f,type:B,compare:W===void 0?null:W}},rt.startTransition=function(B){var W=$.T,ae={};$.T=ae;try{var V=B(),oe=$.S;oe!==null&&oe(ae,V),typeof V=="object"&&V!==null&&typeof V.then=="function"&&V.then(D,ue)}catch(me){ue(me)}finally{W!==null&&ae.types!==null&&(W.types=ae.types),$.T=W}},rt.unstable_useCacheRefresh=function(){return $.H.useCacheRefresh()},rt.use=function(B){return $.H.use(B)},rt.useActionState=function(B,W,ae){return $.H.useActionState(B,W,ae)},rt.useCallback=function(B,W){return $.H.useCallback(B,W)},rt.useContext=function(B){return $.H.useContext(B)},rt.useDebugValue=function(){},rt.useDeferredValue=function(B,W){return $.H.useDeferredValue(B,W)},rt.useEffect=function(B,W){return $.H.useEffect(B,W)},rt.useEffectEvent=function(B){return $.H.useEffectEvent(B)},rt.useId=function(){return $.H.useId()},rt.useImperativeHandle=function(B,W,ae){return $.H.useImperativeHandle(B,W,ae)},rt.useInsertionEffect=function(B,W){return $.H.useInsertionEffect(B,W)},rt.useLayoutEffect=function(B,W){return $.H.useLayoutEffect(B,W)},rt.useMemo=function(B,W){return $.H.useMemo(B,W)},rt.useOptimistic=function(B,W){return $.H.useOptimistic(B,W)},rt.useReducer=function(B,W,ae){return $.H.useReducer(B,W,ae)},rt.useRef=function(B){return $.H.useRef(B)},rt.useState=function(B){return $.H.useState(B)},rt.useSyncExternalStore=function(B,W,ae){return $.H.useSyncExternalStore(B,W,ae)},rt.useTransition=function(){return $.H.useTransition()},rt.version="19.2.1",rt}var DN;function Wd(){return DN||(DN=1,ow.exports=IH()),ow.exports}var S=Wd();const Wt=ui(S),$H=Lk({__proto__:null,default:Wt},[S]);var sw={exports:{}},vh={},lw={exports:{}},cw={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var RN;function BH(){return RN||(RN=1,(function(e){function t(q,Z){var re=q.length;q.push(Z);e:for(;0<re;){var ue=re-1>>>1,se=q[ue];if(0<i(se,Z))q[ue]=Z,q[re]=se,re=ue;else break e}}function n(q){return q.length===0?null:q[0]}function r(q){if(q.length===0)return null;var Z=q[0],re=q.pop();if(re!==Z){q[0]=re;e:for(var ue=0,se=q.length,B=se>>>1;ue<B;){var W=2*(ue+1)-1,ae=q[W],V=W+1,oe=q[V];if(0>i(ae,re))V<se&&0>i(oe,ae)?(q[ue]=oe,q[V]=re,ue=V):(q[ue]=ae,q[W]=re,ue=W);else if(V<se&&0>i(oe,re))q[ue]=oe,q[V]=re,ue=V;else break e}}return Z}function i(q,Z){var re=q.sortIndex-Z.sortIndex;return re!==0?re:q.id-Z.id}if(e.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var a=performance;e.unstable_now=function(){return a.now()}}else{var o=Date,c=o.now();e.unstable_now=function(){return o.now()-c}}var u=[],f=[],m=1,p=null,g=3,v=!1,_=!1,w=!1,E=!1,T=typeof setTimeout=="function"?setTimeout:null,N=typeof clearTimeout=="function"?clearTimeout:null,O=typeof setImmediate<"u"?setImmediate:null;function P(q){for(var Z=n(f);Z!==null;){if(Z.callback===null)r(f);else if(Z.startTime<=q)r(f),Z.sortIndex=Z.expirationTime,t(u,Z);else break;Z=n(f)}}function C(q){if(w=!1,P(q),!_)if(n(u)!==null)_=!0,D||(D=!0,z());else{var Z=n(f);Z!==null&&J(C,Z.startTime-q)}}var D=!1,$=-1,H=5,Y=-1;function K(){return E?!0:!(e.unstable_now()-Y<H)}function F(){if(E=!1,D){var q=e.unstable_now();Y=q;var Z=!0;try{e:{_=!1,w&&(w=!1,N($),$=-1),v=!0;var re=g;try{t:{for(P(q),p=n(u);p!==null&&!(p.expirationTime>q&&K());){var ue=p.callback;if(typeof ue=="function"){p.callback=null,g=p.priorityLevel;var se=ue(p.expirationTime<=q);if(q=e.unstable_now(),typeof se=="function"){p.callback=se,P(q),Z=!0;break t}p===n(u)&&r(u),P(q)}else r(u);p=n(u)}if(p!==null)Z=!0;else{var B=n(f);B!==null&&J(C,B.startTime-q),Z=!1}}break e}finally{p=null,g=re,v=!1}Z=void 0}}finally{Z?z():D=!1}}}var z;if(typeof O=="function")z=function(){O(F)};else if(typeof MessageChannel<"u"){var X=new MessageChannel,Q=X.port2;X.port1.onmessage=F,z=function(){Q.postMessage(null)}}else z=function(){T(F,0)};function J(q,Z){$=T(function(){q(e.unstable_now())},Z)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(q){q.callback=null},e.unstable_forceFrameRate=function(q){0>q||125<q?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):H=0<q?Math.floor(1e3/q):5},e.unstable_getCurrentPriorityLevel=function(){return g},e.unstable_next=function(q){switch(g){case 1:case 2:case 3:var Z=3;break;default:Z=g}var re=g;g=Z;try{return q()}finally{g=re}},e.unstable_requestPaint=function(){E=!0},e.unstable_runWithPriority=function(q,Z){switch(q){case 1:case 2:case 3:case 4:case 5:break;default:q=3}var re=g;g=q;try{return Z()}finally{g=re}},e.unstable_scheduleCallback=function(q,Z,re){var ue=e.unstable_now();switch(typeof re=="object"&&re!==null?(re=re.delay,re=typeof re=="number"&&0<re?ue+re:ue):re=ue,q){case 1:var se=-1;break;case 2:se=250;break;case 5:se=1073741823;break;case 4:se=1e4;break;default:se=5e3}return se=re+se,q={id:m++,callback:Z,priorityLevel:q,startTime:re,expirationTime:se,sortIndex:-1},re>ue?(q.sortIndex=re,t(f,q),n(u)===null&&q===n(f)&&(w?(N($),$=-1):w=!0,J(C,re-ue))):(q.sortIndex=se,t(u,q),_||v||(_=!0,D||(D=!0,z()))),q},e.unstable_shouldYield=K,e.unstable_wrapCallback=function(q){var Z=g;return function(){var re=g;g=Z;try{return q.apply(this,arguments)}finally{g=re}}}})(cw)),cw}var LN;function zH(){return LN||(LN=1,lw.exports=BH()),lw.exports}var uw={exports:{}},Sr={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var IN;function UH(){if(IN)return Sr;IN=1;var e=Wd();function t(u){var f="https://react.dev/errors/"+u;if(1<arguments.length){f+="?args[]="+encodeURIComponent(arguments[1]);for(var m=2;m<arguments.length;m++)f+="&args[]="+encodeURIComponent(arguments[m])}return"Minified React error #"+u+"; visit "+f+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var r={d:{f:n,r:function(){throw Error(t(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},i=Symbol.for("react.portal");function a(u,f,m){var p=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:i,key:p==null?null:""+p,children:u,containerInfo:f,implementation:m}}var o=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function c(u,f){if(u==="font")return"";if(typeof f=="string")return f==="use-credentials"?f:""}return Sr.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,Sr.createPortal=function(u,f){var m=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!f||f.nodeType!==1&&f.nodeType!==9&&f.nodeType!==11)throw Error(t(299));return a(u,f,null,m)},Sr.flushSync=function(u){var f=o.T,m=r.p;try{if(o.T=null,r.p=2,u)return u()}finally{o.T=f,r.p=m,r.d.f()}},Sr.preconnect=function(u,f){typeof u=="string"&&(f?(f=f.crossOrigin,f=typeof f=="string"?f==="use-credentials"?f:"":void 0):f=null,r.d.C(u,f))},Sr.prefetchDNS=function(u){typeof u=="string"&&r.d.D(u)},Sr.preinit=function(u,f){if(typeof u=="string"&&f&&typeof f.as=="string"){var m=f.as,p=c(m,f.crossOrigin),g=typeof f.integrity=="string"?f.integrity:void 0,v=typeof f.fetchPriority=="string"?f.fetchPriority:void 0;m==="style"?r.d.S(u,typeof f.precedence=="string"?f.precedence:void 0,{crossOrigin:p,integrity:g,fetchPriority:v}):m==="script"&&r.d.X(u,{crossOrigin:p,integrity:g,fetchPriority:v,nonce:typeof f.nonce=="string"?f.nonce:void 0})}},Sr.preinitModule=function(u,f){if(typeof u=="string")if(typeof f=="object"&&f!==null){if(f.as==null||f.as==="script"){var m=c(f.as,f.crossOrigin);r.d.M(u,{crossOrigin:m,integrity:typeof f.integrity=="string"?f.integrity:void 0,nonce:typeof f.nonce=="string"?f.nonce:void 0})}}else f==null&&r.d.M(u)},Sr.preload=function(u,f){if(typeof u=="string"&&typeof f=="object"&&f!==null&&typeof f.as=="string"){var m=f.as,p=c(m,f.crossOrigin);r.d.L(u,m,{crossOrigin:p,integrity:typeof f.integrity=="string"?f.integrity:void 0,nonce:typeof f.nonce=="string"?f.nonce:void 0,type:typeof f.type=="string"?f.type:void 0,fetchPriority:typeof f.fetchPriority=="string"?f.fetchPriority:void 0,referrerPolicy:typeof f.referrerPolicy=="string"?f.referrerPolicy:void 0,imageSrcSet:typeof f.imageSrcSet=="string"?f.imageSrcSet:void 0,imageSizes:typeof f.imageSizes=="string"?f.imageSizes:void 0,media:typeof f.media=="string"?f.media:void 0})}},Sr.preloadModule=function(u,f){if(typeof u=="string")if(f){var m=c(f.as,f.crossOrigin);r.d.m(u,{as:typeof f.as=="string"&&f.as!=="script"?f.as:void 0,crossOrigin:m,integrity:typeof f.integrity=="string"?f.integrity:void 0})}else r.d.m(u)},Sr.requestFormReset=function(u){r.d.r(u)},Sr.unstable_batchedUpdates=function(u,f){return u(f)},Sr.useFormState=function(u,f,m){return o.H.useFormState(u,f,m)},Sr.useFormStatus=function(){return o.H.useHostTransitionStatus()},Sr.version="19.2.1",Sr}var $N;function x3(){if($N)return uw.exports;$N=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),uw.exports=UH(),uw.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var BN;function HH(){if(BN)return vh;BN=1;var e=zH(),t=Wd(),n=x3();function r(s){var l="https://react.dev/errors/"+s;if(1<arguments.length){l+="?args[]="+encodeURIComponent(arguments[1]);for(var h=2;h<arguments.length;h++)l+="&args[]="+encodeURIComponent(arguments[h])}return"Minified React error #"+s+"; visit "+l+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11)}function a(s){var l=s,h=s;if(s.alternate)for(;l.return;)l=l.return;else{s=l;do l=s,(l.flags&4098)!==0&&(h=l.return),s=l.return;while(s)}return l.tag===3?h:null}function o(s){if(s.tag===13){var l=s.memoizedState;if(l===null&&(s=s.alternate,s!==null&&(l=s.memoizedState)),l!==null)return l.dehydrated}return null}function c(s){if(s.tag===31){var l=s.memoizedState;if(l===null&&(s=s.alternate,s!==null&&(l=s.memoizedState)),l!==null)return l.dehydrated}return null}function u(s){if(a(s)!==s)throw Error(r(188))}function f(s){var l=s.alternate;if(!l){if(l=a(s),l===null)throw Error(r(188));return l!==s?null:s}for(var h=s,b=l;;){var A=h.return;if(A===null)break;var j=A.alternate;if(j===null){if(b=A.return,b!==null){h=b;continue}break}if(A.child===j.child){for(j=A.child;j;){if(j===h)return u(A),s;if(j===b)return u(A),l;j=j.sibling}throw Error(r(188))}if(h.return!==b.return)h=A,b=j;else{for(var I=!1,G=A.child;G;){if(G===h){I=!0,h=A,b=j;break}if(G===b){I=!0,b=A,h=j;break}G=G.sibling}if(!I){for(G=j.child;G;){if(G===h){I=!0,h=j,b=A;break}if(G===b){I=!0,b=j,h=A;break}G=G.sibling}if(!I)throw Error(r(189))}}if(h.alternate!==b)throw Error(r(190))}if(h.tag!==3)throw Error(r(188));return h.stateNode.current===h?s:l}function m(s){var l=s.tag;if(l===5||l===26||l===27||l===6)return s;for(s=s.child;s!==null;){if(l=m(s),l!==null)return l;s=s.sibling}return null}var p=Object.assign,g=Symbol.for("react.element"),v=Symbol.for("react.transitional.element"),_=Symbol.for("react.portal"),w=Symbol.for("react.fragment"),E=Symbol.for("react.strict_mode"),T=Symbol.for("react.profiler"),N=Symbol.for("react.consumer"),O=Symbol.for("react.context"),P=Symbol.for("react.forward_ref"),C=Symbol.for("react.suspense"),D=Symbol.for("react.suspense_list"),$=Symbol.for("react.memo"),H=Symbol.for("react.lazy"),Y=Symbol.for("react.activity"),K=Symbol.for("react.memo_cache_sentinel"),F=Symbol.iterator;function z(s){return s===null||typeof s!="object"?null:(s=F&&s[F]||s["@@iterator"],typeof s=="function"?s:null)}var X=Symbol.for("react.client.reference");function Q(s){if(s==null)return null;if(typeof s=="function")return s.$$typeof===X?null:s.displayName||s.name||null;if(typeof s=="string")return s;switch(s){case w:return"Fragment";case T:return"Profiler";case E:return"StrictMode";case C:return"Suspense";case D:return"SuspenseList";case Y:return"Activity"}if(typeof s=="object")switch(s.$$typeof){case _:return"Portal";case O:return s.displayName||"Context";case N:return(s._context.displayName||"Context")+".Consumer";case P:var l=s.render;return s=s.displayName,s||(s=l.displayName||l.name||"",s=s!==""?"ForwardRef("+s+")":"ForwardRef"),s;case $:return l=s.displayName||null,l!==null?l:Q(s.type)||"Memo";case H:l=s._payload,s=s._init;try{return Q(s(l))}catch{}}return null}var J=Array.isArray,q=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Z=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,re={pending:!1,data:null,method:null,action:null},ue=[],se=-1;function B(s){return{current:s}}function W(s){0>se||(s.current=ue[se],ue[se]=null,se--)}function ae(s,l){se++,ue[se]=s.current,s.current=l}var V=B(null),oe=B(null),me=B(null),pe=B(null);function be(s,l){switch(ae(me,l),ae(oe,s),ae(V,null),l.nodeType){case 9:case 11:s=(s=l.documentElement)&&(s=s.namespaceURI)?eN(s):0;break;default:if(s=l.tagName,l=l.namespaceURI)l=eN(l),s=tN(l,s);else switch(s){case"svg":s=1;break;case"math":s=2;break;default:s=0}}W(V),ae(V,s)}function ne(){W(V),W(oe),W(me)}function Oe(s){s.memoizedState!==null&&ae(pe,s);var l=V.current,h=tN(l,s.type);l!==h&&(ae(oe,s),ae(V,h))}function Ce(s){oe.current===s&&(W(V),W(oe)),pe.current===s&&(W(pe),mh._currentValue=re)}var ve,Ze;function Ne(s){if(ve===void 0)try{throw Error()}catch(h){var l=h.stack.trim().match(/\n( *(at )?)/);ve=l&&l[1]||"",Ze=-1<h.stack.indexOf(`
    at`)?" (<anonymous>)":-1<h.stack.indexOf("@")?"@unknown:0:0":""}return`
`+ve+s+Ze}var _e=!1;function je(s,l){if(!s||_e)return"";_e=!0;var h=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var b={DetermineComponentFrameRoot:function(){try{if(l){var Te=function(){throw Error()};if(Object.defineProperty(Te.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Te,[])}catch(xe){var ye=xe}Reflect.construct(s,[],Te)}else{try{Te.call()}catch(xe){ye=xe}s.call(Te.prototype)}}else{try{throw Error()}catch(xe){ye=xe}(Te=s())&&typeof Te.catch=="function"&&Te.catch(function(){})}}catch(xe){if(xe&&ye&&typeof xe.stack=="string")return[xe.stack,ye.stack]}return[null,null]}};b.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var A=Object.getOwnPropertyDescriptor(b.DetermineComponentFrameRoot,"name");A&&A.configurable&&Object.defineProperty(b.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var j=b.DetermineComponentFrameRoot(),I=j[0],G=j[1];if(I&&G){var te=I.split(`
`),he=G.split(`
`);for(A=b=0;b<te.length&&!te[b].includes("DetermineComponentFrameRoot");)b++;for(;A<he.length&&!he[A].includes("DetermineComponentFrameRoot");)A++;if(b===te.length||A===he.length)for(b=te.length-1,A=he.length-1;1<=b&&0<=A&&te[b]!==he[A];)A--;for(;1<=b&&0<=A;b--,A--)if(te[b]!==he[A]){if(b!==1||A!==1)do if(b--,A--,0>A||te[b]!==he[A]){var Ee=`
`+te[b].replace(" at new "," at ");return s.displayName&&Ee.includes("<anonymous>")&&(Ee=Ee.replace("<anonymous>",s.displayName)),Ee}while(1<=b&&0<=A);break}}}finally{_e=!1,Error.prepareStackTrace=h}return(h=s?s.displayName||s.name:"")?Ne(h):""}function Le(s,l){switch(s.tag){case 26:case 27:case 5:return Ne(s.type);case 16:return Ne("Lazy");case 13:return s.child!==l&&l!==null?Ne("Suspense Fallback"):Ne("Suspense");case 19:return Ne("SuspenseList");case 0:case 15:return je(s.type,!1);case 11:return je(s.type.render,!1);case 1:return je(s.type,!0);case 31:return Ne("Activity");default:return""}}function Ve(s){try{var l="",h=null;do l+=Le(s,h),h=s,s=s.return;while(s);return l}catch(b){return`
Error generating stack: `+b.message+`
`+b.stack}}var bt=Object.prototype.hasOwnProperty,xt=e.unstable_scheduleCallback,Pt=e.unstable_cancelCallback,fe=e.unstable_shouldYield,Me=e.unstable_requestPaint,Be=e.unstable_now,lt=e.unstable_getCurrentPriorityLevel,jt=e.unstable_ImmediatePriority,yt=e.unstable_UserBlockingPriority,Zn=e.unstable_NormalPriority,hi=e.unstable_LowPriority,mi=e.unstable_IdlePriority,Ns=e.log,Cs=e.unstable_setDisableYieldValue,qt=null,mn=null;function pi(s){if(typeof Ns=="function"&&Cs(s),mn&&typeof mn.setStrictMode=="function")try{mn.setStrictMode(qt,s)}catch{}}var Or=Math.clz32?Math.clz32:dx,Ll=Math.log,ux=Math.LN2;function dx(s){return s>>>=0,s===0?32:31-(Ll(s)/ux|0)|0}var Il=256,$l=262144,Bl=4194304;function To(s){var l=s&42;if(l!==0)return l;switch(s&-s){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return s&261888;case 262144:case 524288:case 1048576:case 2097152:return s&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return s&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return s}}function cu(s,l,h){var b=s.pendingLanes;if(b===0)return 0;var A=0,j=s.suspendedLanes,I=s.pingedLanes;s=s.warmLanes;var G=b&134217727;return G!==0?(b=G&~j,b!==0?A=To(b):(I&=G,I!==0?A=To(I):h||(h=G&~s,h!==0&&(A=To(h))))):(G=b&~j,G!==0?A=To(G):I!==0?A=To(I):h||(h=b&~s,h!==0&&(A=To(h)))),A===0?0:l!==0&&l!==A&&(l&j)===0&&(j=A&-A,h=l&-l,j>=h||j===32&&(h&4194048)!==0)?l:A}function zl(s,l){return(s.pendingLanes&~(s.suspendedLanes&~s.pingedLanes)&l)===0}function fx(s,l){switch(s){case 1:case 2:case 4:case 8:case 64:return l+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return l+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function wp(){var s=Bl;return Bl<<=1,(Bl&62914560)===0&&(Bl=4194304),s}function gf(s){for(var l=[],h=0;31>h;h++)l.push(s);return l}function Oo(s,l){s.pendingLanes|=l,l!==268435456&&(s.suspendedLanes=0,s.pingedLanes=0,s.warmLanes=0)}function hx(s,l,h,b,A,j){var I=s.pendingLanes;s.pendingLanes=h,s.suspendedLanes=0,s.pingedLanes=0,s.warmLanes=0,s.expiredLanes&=h,s.entangledLanes&=h,s.errorRecoveryDisabledLanes&=h,s.shellSuspendCounter=0;var G=s.entanglements,te=s.expirationTimes,he=s.hiddenUpdates;for(h=I&~h;0<h;){var Ee=31-Or(h),Te=1<<Ee;G[Ee]=0,te[Ee]=-1;var ye=he[Ee];if(ye!==null)for(he[Ee]=null,Ee=0;Ee<ye.length;Ee++){var xe=ye[Ee];xe!==null&&(xe.lane&=-536870913)}h&=~Te}b!==0&&Sp(s,b,0),j!==0&&A===0&&s.tag!==0&&(s.suspendedLanes|=j&~(I&~l))}function Sp(s,l,h){s.pendingLanes|=l,s.suspendedLanes&=~l;var b=31-Or(l);s.entangledLanes|=l,s.entanglements[b]=s.entanglements[b]|1073741824|h&261930}function Ep(s,l){var h=s.entangledLanes|=l;for(s=s.entanglements;h;){var b=31-Or(h),A=1<<b;A&l|s[b]&l&&(s[b]|=l),h&=~A}}function kp(s,l){var h=l&-l;return h=(h&42)!==0?1:Hr(h),(h&(s.suspendedLanes|l))!==0?0:h}function Hr(s){switch(s){case 2:s=1;break;case 8:s=4;break;case 32:s=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:s=128;break;case 268435456:s=134217728;break;default:s=0}return s}function Fe(s){return s&=-s,2<s?8<s?(s&134217727)!==0?32:268435456:8:2}function yf(){var s=Z.p;return s!==0?s:(s=window.event,s===void 0?32:EN(s.type))}function bf(s,l){var h=Z.p;try{return Z.p=s,l()}finally{Z.p=h}}var ya=Math.random().toString(36).slice(2),An="__reactFiber$"+ya,Xn="__reactProps$"+ya,jo="__reactContainer$"+ya,qa="__reactEvents$"+ya,Ap="__reactListeners$"+ya,mx="__reactHandles$"+ya,Tp="__reactResources$"+ya,Ul="__reactMarker$"+ya;function vf(s){delete s[An],delete s[Xn],delete s[qa],delete s[Ap],delete s[mx]}function No(s){var l=s[An];if(l)return l;for(var h=s.parentNode;h;){if(l=h[jo]||h[An]){if(h=l.alternate,l.child!==null||h!==null&&h.child!==null)for(s=lN(s);s!==null;){if(h=s[An])return h;s=lN(s)}return l}s=h,h=s.parentNode}return null}function Ms(s){if(s=s[An]||s[jo]){var l=s.tag;if(l===5||l===6||l===13||l===31||l===26||l===27||l===3)return s}return null}function Ya(s){var l=s.tag;if(l===5||l===26||l===27||l===6)return s.stateNode;throw Error(r(33))}function Ps(s){var l=s[Tp];return l||(l=s[Tp]={hoistableStyles:new Map,hoistableScripts:new Map}),l}function Tn(s){s[Ul]=!0}var Op=new Set,jp={};function Co(s,l){Ka(s,l),Ka(s+"Capture",l)}function Ka(s,l){for(jp[s]=l,s=0;s<l.length;s++)Op.add(l[s])}var Hl=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),xf={},_f={};function Fl(s){return bt.call(_f,s)?!0:bt.call(xf,s)?!1:Hl.test(s)?_f[s]=!0:(xf[s]=!0,!1)}function ct(s,l,h){if(Fl(l))if(h===null)s.removeAttribute(l);else{switch(typeof h){case"undefined":case"function":case"symbol":s.removeAttribute(l);return;case"boolean":var b=l.toLowerCase().slice(0,5);if(b!=="data-"&&b!=="aria-"){s.removeAttribute(l);return}}s.setAttribute(l,""+h)}}function It(s,l,h){if(h===null)s.removeAttribute(l);else{switch(typeof h){case"undefined":case"function":case"symbol":case"boolean":s.removeAttribute(l);return}s.setAttribute(l,""+h)}}function Fr(s,l,h,b){if(b===null)s.removeAttribute(h);else{switch(typeof b){case"undefined":case"function":case"symbol":case"boolean":s.removeAttribute(h);return}s.setAttributeNS(l,h,""+b)}}function In(s){switch(typeof s){case"bigint":case"boolean":case"number":case"string":case"undefined":return s;case"object":return s;default:return""}}function Mo(s){var l=s.type;return(s=s.nodeName)&&s.toLowerCase()==="input"&&(l==="checkbox"||l==="radio")}function wf(s,l,h){var b=Object.getOwnPropertyDescriptor(s.constructor.prototype,l);if(!s.hasOwnProperty(l)&&typeof b<"u"&&typeof b.get=="function"&&typeof b.set=="function"){var A=b.get,j=b.set;return Object.defineProperty(s,l,{configurable:!0,get:function(){return A.call(this)},set:function(I){h=""+I,j.call(this,I)}}),Object.defineProperty(s,l,{enumerable:b.enumerable}),{getValue:function(){return h},setValue:function(I){h=""+I},stopTracking:function(){s._valueTracker=null,delete s[l]}}}}function nt(s){if(!s._valueTracker){var l=Mo(s)?"checked":"value";s._valueTracker=wf(s,l,""+s[l])}}function en(s){if(!s)return!1;var l=s._valueTracker;if(!l)return!0;var h=l.getValue(),b="";return s&&(b=Mo(s)?s.checked?"true":"false":s.value),s=b,s!==h?(l.setValue(s),!0):!1}function Ds(s){if(s=s||(typeof document<"u"?document:void 0),typeof s>"u")return null;try{return s.activeElement||s.body}catch{return s.body}}var uu=/[\n"\\]/g;function Zt(s){return s.replace(uu,function(l){return"\\"+l.charCodeAt(0).toString(16)+" "})}function Sf(s,l,h,b,A,j,I,G){s.name="",I!=null&&typeof I!="function"&&typeof I!="symbol"&&typeof I!="boolean"?s.type=I:s.removeAttribute("type"),l!=null?I==="number"?(l===0&&s.value===""||s.value!=l)&&(s.value=""+In(l)):s.value!==""+In(l)&&(s.value=""+In(l)):I!=="submit"&&I!=="reset"||s.removeAttribute("value"),l!=null?ba(s,I,In(l)):h!=null?ba(s,I,In(h)):b!=null&&s.removeAttribute("value"),A==null&&j!=null&&(s.defaultChecked=!!j),A!=null&&(s.checked=A&&typeof A!="function"&&typeof A!="symbol"),G!=null&&typeof G!="function"&&typeof G!="symbol"&&typeof G!="boolean"?s.name=""+In(G):s.removeAttribute("name")}function Gl(s,l,h,b,A,j,I,G){if(j!=null&&typeof j!="function"&&typeof j!="symbol"&&typeof j!="boolean"&&(s.type=j),l!=null||h!=null){if(!(j!=="submit"&&j!=="reset"||l!=null)){nt(s);return}h=h!=null?""+In(h):"",l=l!=null?""+In(l):h,G||l===s.value||(s.value=l),s.defaultValue=l}b=b??A,b=typeof b!="function"&&typeof b!="symbol"&&!!b,s.checked=G?s.checked:!!b,s.defaultChecked=!!b,I!=null&&typeof I!="function"&&typeof I!="symbol"&&typeof I!="boolean"&&(s.name=I),nt(s)}function ba(s,l,h){l==="number"&&Ds(s.ownerDocument)===s||s.defaultValue===""+h||(s.defaultValue=""+h)}function Ut(s,l,h,b){if(s=s.options,l){l={};for(var A=0;A<h.length;A++)l["$"+h[A]]=!0;for(h=0;h<s.length;h++)A=l.hasOwnProperty("$"+s[h].value),s[h].selected!==A&&(s[h].selected=A),A&&b&&(s[h].defaultSelected=!0)}else{for(h=""+In(h),l=null,A=0;A<s.length;A++){if(s[A].value===h){s[A].selected=!0,b&&(s[A].defaultSelected=!0);return}l!==null||s[A].disabled||(l=s[A])}l!==null&&(l.selected=!0)}}function Wa(s,l,h){if(l!=null&&(l=""+In(l),l!==s.value&&(s.value=l),h==null)){s.defaultValue!==l&&(s.defaultValue=l);return}s.defaultValue=h!=null?""+In(h):""}function Rs(s,l,h,b){if(l==null){if(b!=null){if(h!=null)throw Error(r(92));if(J(b)){if(1<b.length)throw Error(r(93));b=b[0]}h=b}h==null&&(h=""),l=h}h=In(l),s.defaultValue=h,b=s.textContent,b===h&&b!==""&&b!==null&&(s.value=b),nt(s)}function Hi(s,l){if(l){var h=s.firstChild;if(h&&h===s.lastChild&&h.nodeType===3){h.nodeValue=l;return}}s.textContent=l}var Ef=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Ls(s,l,h){var b=l.indexOf("--")===0;h==null||typeof h=="boolean"||h===""?b?s.setProperty(l,""):l==="float"?s.cssFloat="":s[l]="":b?s.setProperty(l,h):typeof h!="number"||h===0||Ef.has(l)?l==="float"?s.cssFloat=h:s[l]=(""+h).trim():s[l]=h+"px"}function du(s,l,h){if(l!=null&&typeof l!="object")throw Error(r(62));if(s=s.style,h!=null){for(var b in h)!h.hasOwnProperty(b)||l!=null&&l.hasOwnProperty(b)||(b.indexOf("--")===0?s.setProperty(b,""):b==="float"?s.cssFloat="":s[b]="");for(var A in l)b=l[A],l.hasOwnProperty(A)&&h[A]!==b&&Ls(s,A,b)}else for(var j in l)l.hasOwnProperty(j)&&Ls(s,j,l[j])}function ql(s){if(s.indexOf("-")===-1)return!1;switch(s){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var fu=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),kf=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Is(s){return kf.test(""+s)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":s}function Gr(){}var hu=null;function Yl(s){return s=s.target||s.srcElement||window,s.correspondingUseElement&&(s=s.correspondingUseElement),s.nodeType===3?s.parentNode:s}var $s=null,tt=null;function gi(s){var l=Ms(s);if(l&&(s=l.stateNode)){var h=s[Xn]||null;e:switch(s=l.stateNode,l.type){case"input":if(Sf(s,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name),l=h.name,h.type==="radio"&&l!=null){for(h=s;h.parentNode;)h=h.parentNode;for(h=h.querySelectorAll('input[name="'+Zt(""+l)+'"][type="radio"]'),l=0;l<h.length;l++){var b=h[l];if(b!==s&&b.form===s.form){var A=b[Xn]||null;if(!A)throw Error(r(90));Sf(b,A.value,A.defaultValue,A.defaultValue,A.checked,A.defaultChecked,A.type,A.name)}}for(l=0;l<h.length;l++)b=h[l],b.form===s.form&&en(b)}break e;case"textarea":Wa(s,h.value,h.defaultValue);break e;case"select":l=h.value,l!=null&&Ut(s,!!h.multiple,l,!1)}}}var Nt=!1;function Af(s,l,h){if(Nt)return s(l,h);Nt=!0;try{var b=s(l);return b}finally{if(Nt=!1,($s!==null||tt!==null)&&(kg(),$s&&(l=$s,s=tt,tt=$s=null,gi(l),s)))for(l=0;l<s.length;l++)gi(s[l])}}function Po(s,l){var h=s.stateNode;if(h===null)return null;var b=h[Xn]||null;if(b===null)return null;h=b[l];e:switch(l){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(b=!b.disabled)||(s=s.type,b=!(s==="button"||s==="input"||s==="select"||s==="textarea")),s=!b;break e;default:s=!1}if(s)return null;if(h&&typeof h!="function")throw Error(r(231,l,typeof h));return h}var yi=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Kl=!1;if(yi)try{var bi={};Object.defineProperty(bi,"passive",{get:function(){Kl=!0}}),window.addEventListener("test",bi,bi),window.removeEventListener("test",bi,bi)}catch{Kl=!1}var Fi=null,Do=null,pn=null;function Va(){if(pn)return pn;var s,l=Do,h=l.length,b,A="value"in Fi?Fi.value:Fi.textContent,j=A.length;for(s=0;s<h&&l[s]===A[s];s++);var I=h-s;for(b=1;b<=I&&l[h-b]===A[j-b];b++);return pn=A.slice(s,1<b?1-b:void 0)}function Wl(s){var l=s.keyCode;return"charCode"in s?(s=s.charCode,s===0&&l===13&&(s=13)):s=l,s===10&&(s=13),32<=s||s===13?s:0}function Vl(){return!0}function Np(){return!1}function cr(s){function l(h,b,A,j,I){this._reactName=h,this._targetInst=A,this.type=b,this.nativeEvent=j,this.target=I,this.currentTarget=null;for(var G in s)s.hasOwnProperty(G)&&(h=s[G],this[G]=h?h(j):j[G]);return this.isDefaultPrevented=(j.defaultPrevented!=null?j.defaultPrevented:j.returnValue===!1)?Vl:Np,this.isPropagationStopped=Np,this}return p(l.prototype,{preventDefault:function(){this.defaultPrevented=!0;var h=this.nativeEvent;h&&(h.preventDefault?h.preventDefault():typeof h.returnValue!="unknown"&&(h.returnValue=!1),this.isDefaultPrevented=Vl)},stopPropagation:function(){var h=this.nativeEvent;h&&(h.stopPropagation?h.stopPropagation():typeof h.cancelBubble!="unknown"&&(h.cancelBubble=!0),this.isPropagationStopped=Vl)},persist:function(){},isPersistent:Vl}),l}var va={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(s){return s.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},mu=cr(va),Bs=p({},va,{view:0,detail:0}),ht=cr(Bs),Tf,jr,xa,Zl=p({},Bs,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Pf,button:0,buttons:0,relatedTarget:function(s){return s.relatedTarget===void 0?s.fromElement===s.srcElement?s.toElement:s.fromElement:s.relatedTarget},movementX:function(s){return"movementX"in s?s.movementX:(s!==xa&&(xa&&s.type==="mousemove"?(Tf=s.screenX-xa.screenX,jr=s.screenY-xa.screenY):jr=Tf=0,xa=s),Tf)},movementY:function(s){return"movementY"in s?s.movementY:jr}}),Cp=cr(Zl),Of=p({},Zl,{dataTransfer:0}),px=cr(Of),Mp=p({},Bs,{relatedTarget:0}),jf=cr(Mp),gx=p({},va,{animationName:0,elapsedTime:0,pseudoElement:0}),Nf=cr(gx),yx=p({},va,{clipboardData:function(s){return"clipboardData"in s?s.clipboardData:window.clipboardData}}),Gi=cr(yx),bx=p({},va,{data:0}),Cf=cr(bx),Za={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Pp={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Dp={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Mf(s){var l=this.nativeEvent;return l.getModifierState?l.getModifierState(s):(s=Dp[s])?!!l[s]:!1}function Pf(){return Mf}var Rp=p({},Bs,{key:function(s){if(s.key){var l=Za[s.key]||s.key;if(l!=="Unidentified")return l}return s.type==="keypress"?(s=Wl(s),s===13?"Enter":String.fromCharCode(s)):s.type==="keydown"||s.type==="keyup"?Pp[s.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Pf,charCode:function(s){return s.type==="keypress"?Wl(s):0},keyCode:function(s){return s.type==="keydown"||s.type==="keyup"?s.keyCode:0},which:function(s){return s.type==="keypress"?Wl(s):s.type==="keydown"||s.type==="keyup"?s.keyCode:0}}),Lp=cr(Rp),vx=p({},Zl,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Ip=cr(vx),Df=p({},Bs,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Pf}),xx=cr(Df),$p=p({},va,{propertyName:0,elapsedTime:0,pseudoElement:0}),Bp=cr($p),pu=p({},Zl,{deltaX:function(s){return"deltaX"in s?s.deltaX:"wheelDeltaX"in s?-s.wheelDeltaX:0},deltaY:function(s){return"deltaY"in s?s.deltaY:"wheelDeltaY"in s?-s.wheelDeltaY:"wheelDelta"in s?-s.wheelDelta:0},deltaZ:0,deltaMode:0}),Ro=cr(pu),_x=p({},va,{newState:0,oldState:0}),Xl=cr(_x),qr=[9,13,27,32],gu=yi&&"CompositionEvent"in window,zs=null;yi&&"documentMode"in document&&(zs=document.documentMode);var wx=yi&&"TextEvent"in window&&!zs,yu=yi&&(!gu||zs&&8<zs&&11>=zs),bu=" ",zp=!1;function Up(s,l){switch(s){case"keyup":return qr.indexOf(l.keyCode)!==-1;case"keydown":return l.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Rf(s){return s=s.detail,typeof s=="object"&&"data"in s?s.data:null}var Us=!1;function vi(s,l){switch(s){case"compositionend":return Rf(l);case"keypress":return l.which!==32?null:(zp=!0,bu);case"textInput":return s=l.data,s===bu&&zp?null:s;default:return null}}function Hs(s,l){if(Us)return s==="compositionend"||!gu&&Up(s,l)?(s=Va(),pn=Do=Fi=null,Us=!1,s):null;switch(s){case"paste":return null;case"keypress":if(!(l.ctrlKey||l.altKey||l.metaKey)||l.ctrlKey&&l.altKey){if(l.char&&1<l.char.length)return l.char;if(l.which)return String.fromCharCode(l.which)}return null;case"compositionend":return yu&&l.locale!=="ko"?null:l.data;default:return null}}var Sx={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function qi(s){var l=s&&s.nodeName&&s.nodeName.toLowerCase();return l==="input"?!!Sx[s.type]:l==="textarea"}function Hp(s,l,h,b){$s?tt?tt.push(b):tt=[b]:$s=b,l=Mg(l,"onChange"),0<l.length&&(h=new mu("onChange","change",null,h,b),s.push({event:h,listeners:l}))}var Yi=null,Jl=null;function Ql(s){Wj(s,0)}function ec(s){var l=Ya(s);if(en(l))return s}function tc(s,l){if(s==="change")return l}var Fp=!1;if(yi){var Ki;if(yi){var Fs="oninput"in document;if(!Fs){var Gp=document.createElement("div");Gp.setAttribute("oninput","return;"),Fs=typeof Gp.oninput=="function"}Ki=Fs}else Ki=!1;Fp=Ki&&(!document.documentMode||9<document.documentMode)}function vu(){Yi&&(Yi.detachEvent("onpropertychange",qp),Jl=Yi=null)}function qp(s){if(s.propertyName==="value"&&ec(Jl)){var l=[];Hp(l,Jl,s,Yl(s)),Af(Ql,l)}}function _a(s,l,h){s==="focusin"?(vu(),Yi=l,Jl=h,Yi.attachEvent("onpropertychange",qp)):s==="focusout"&&vu()}function Ex(s){if(s==="selectionchange"||s==="keyup"||s==="keydown")return ec(Jl)}function Gs(s,l){if(s==="click")return ec(l)}function kx(s,l){if(s==="input"||s==="change")return ec(l)}function wa(s,l){return s===l&&(s!==0||1/s===1/l)||s!==s&&l!==l}var Jn=typeof Object.is=="function"?Object.is:wa;function qs(s,l){if(Jn(s,l))return!0;if(typeof s!="object"||s===null||typeof l!="object"||l===null)return!1;var h=Object.keys(s),b=Object.keys(l);if(h.length!==b.length)return!1;for(b=0;b<h.length;b++){var A=h[b];if(!bt.call(l,A)||!Jn(s[A],l[A]))return!1}return!0}function xu(s){for(;s&&s.firstChild;)s=s.firstChild;return s}function nc(s,l){var h=xu(s);s=0;for(var b;h;){if(h.nodeType===3){if(b=s+h.textContent.length,s<=l&&b>=l)return{node:h,offset:l-s};s=b}e:{for(;h;){if(h.nextSibling){h=h.nextSibling;break e}h=h.parentNode}h=void 0}h=xu(h)}}function _u(s,l){return s&&l?s===l?!0:s&&s.nodeType===3?!1:l&&l.nodeType===3?_u(s,l.parentNode):"contains"in s?s.contains(l):s.compareDocumentPosition?!!(s.compareDocumentPosition(l)&16):!1:!1}function rc(s){s=s!=null&&s.ownerDocument!=null&&s.ownerDocument.defaultView!=null?s.ownerDocument.defaultView:window;for(var l=Ds(s.document);l instanceof s.HTMLIFrameElement;){try{var h=typeof l.contentWindow.location.href=="string"}catch{h=!1}if(h)s=l.contentWindow;else break;l=Ds(s.document)}return l}function Xa(s){var l=s&&s.nodeName&&s.nodeName.toLowerCase();return l&&(l==="input"&&(s.type==="text"||s.type==="search"||s.type==="tel"||s.type==="url"||s.type==="password")||l==="textarea"||s.contentEditable==="true")}var wu=yi&&"documentMode"in document&&11>=document.documentMode,Ja=null,Su=null,ic=null,Ys=!1;function Yp(s,l,h){var b=h.window===h?h.document:h.nodeType===9?h:h.ownerDocument;Ys||Ja==null||Ja!==Ds(b)||(b=Ja,"selectionStart"in b&&Xa(b)?b={start:b.selectionStart,end:b.selectionEnd}:(b=(b.ownerDocument&&b.ownerDocument.defaultView||window).getSelection(),b={anchorNode:b.anchorNode,anchorOffset:b.anchorOffset,focusNode:b.focusNode,focusOffset:b.focusOffset}),ic&&qs(ic,b)||(ic=b,b=Mg(Su,"onSelect"),0<b.length&&(l=new mu("onSelect","select",null,l,h),s.push({event:l,listeners:b}),l.target=Ja)))}function Qa(s,l){var h={};return h[s.toLowerCase()]=l.toLowerCase(),h["Webkit"+s]="webkit"+l,h["Moz"+s]="moz"+l,h}var Ks={animationend:Qa("Animation","AnimationEnd"),animationiteration:Qa("Animation","AnimationIteration"),animationstart:Qa("Animation","AnimationStart"),transitionrun:Qa("Transition","TransitionRun"),transitionstart:Qa("Transition","TransitionStart"),transitioncancel:Qa("Transition","TransitionCancel"),transitionend:Qa("Transition","TransitionEnd")},Eu={},Kp={};yi&&(Kp=document.createElement("div").style,"AnimationEvent"in window||(delete Ks.animationend.animation,delete Ks.animationiteration.animation,delete Ks.animationstart.animation),"TransitionEvent"in window||delete Ks.transitionend.transition);function Qn(s){if(Eu[s])return Eu[s];if(!Ks[s])return s;var l=Ks[s],h;for(h in l)if(l.hasOwnProperty(h)&&h in Kp)return Eu[s]=l[h];return s}var ac=Qn("animationend"),Wp=Qn("animationiteration"),oc=Qn("animationstart"),Ax=Qn("transitionrun"),Vp=Qn("transitionstart"),Tx=Qn("transitioncancel"),Ws=Qn("transitionend"),Zp=new Map,eo="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");eo.push("scrollEnd");function Yr(s,l){Zp.set(s,l),Co(l,[s])}var sc=typeof reportError=="function"?reportError:function(s){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var l=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof s=="object"&&s!==null&&typeof s.message=="string"?String(s.message):String(s),error:s});if(!window.dispatchEvent(l))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",s);return}console.error(s)},Kr=[],_r=0,ku=0;function lc(){for(var s=_r,l=ku=_r=0;l<s;){var h=Kr[l];Kr[l++]=null;var b=Kr[l];Kr[l++]=null;var A=Kr[l];Kr[l++]=null;var j=Kr[l];if(Kr[l++]=null,b!==null&&A!==null){var I=b.pending;I===null?A.next=A:(A.next=I.next,I.next=A),b.pending=A}j!==0&&Vs(h,A,j)}}function to(s,l,h,b){Kr[_r++]=s,Kr[_r++]=l,Kr[_r++]=h,Kr[_r++]=b,ku|=b,s.lanes|=b,s=s.alternate,s!==null&&(s.lanes|=b)}function Lf(s,l,h,b){return to(s,l,h,b),cc(s)}function Wi(s,l){return to(s,null,null,l),cc(s)}function Vs(s,l,h){s.lanes|=h;var b=s.alternate;b!==null&&(b.lanes|=h);for(var A=!1,j=s.return;j!==null;)j.childLanes|=h,b=j.alternate,b!==null&&(b.childLanes|=h),j.tag===22&&(s=j.stateNode,s===null||s._visibility&1||(A=!0)),s=j,j=j.return;return s.tag===3?(j=s.stateNode,A&&l!==null&&(A=31-Or(h),s=j.hiddenUpdates,b=s[A],b===null?s[A]=[l]:b.push(l),l.lane=h|536870912),j):null}function cc(s){if(50<sh)throw sh=0,j_=null,Error(r(185));for(var l=s.return;l!==null;)s=l,l=s.return;return s.tag===3?s.stateNode:null}var Lo={};function Ox(s,l,h,b){this.tag=s,this.key=h,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=l,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=b,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function wr(s,l,h,b){return new Ox(s,l,h,b)}function Au(s){return s=s.prototype,!(!s||!s.isReactComponent)}function Vi(s,l){var h=s.alternate;return h===null?(h=wr(s.tag,l,s.key,s.mode),h.elementType=s.elementType,h.type=s.type,h.stateNode=s.stateNode,h.alternate=s,s.alternate=h):(h.pendingProps=l,h.type=s.type,h.flags=0,h.subtreeFlags=0,h.deletions=null),h.flags=s.flags&65011712,h.childLanes=s.childLanes,h.lanes=s.lanes,h.child=s.child,h.memoizedProps=s.memoizedProps,h.memoizedState=s.memoizedState,h.updateQueue=s.updateQueue,l=s.dependencies,h.dependencies=l===null?null:{lanes:l.lanes,firstContext:l.firstContext},h.sibling=s.sibling,h.index=s.index,h.ref=s.ref,h.refCleanup=s.refCleanup,h}function If(s,l){s.flags&=65011714;var h=s.alternate;return h===null?(s.childLanes=0,s.lanes=l,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=h.childLanes,s.lanes=h.lanes,s.child=h.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=h.memoizedProps,s.memoizedState=h.memoizedState,s.updateQueue=h.updateQueue,s.type=h.type,l=h.dependencies,s.dependencies=l===null?null:{lanes:l.lanes,firstContext:l.firstContext}),s}function uc(s,l,h,b,A,j){var I=0;if(b=s,typeof s=="function")Au(s)&&(I=1);else if(typeof s=="string")I=SH(s,h,V.current)?26:s==="html"||s==="head"||s==="body"?27:5;else e:switch(s){case Y:return s=wr(31,h,l,A),s.elementType=Y,s.lanes=j,s;case w:return Io(h.children,A,j,l);case E:I=8,A|=24;break;case T:return s=wr(12,h,l,A|2),s.elementType=T,s.lanes=j,s;case C:return s=wr(13,h,l,A),s.elementType=C,s.lanes=j,s;case D:return s=wr(19,h,l,A),s.elementType=D,s.lanes=j,s;default:if(typeof s=="object"&&s!==null)switch(s.$$typeof){case O:I=10;break e;case N:I=9;break e;case P:I=11;break e;case $:I=14;break e;case H:I=16,b=null;break e}I=29,h=Error(r(130,s===null?"null":typeof s,"")),b=null}return l=wr(I,h,l,A),l.elementType=s,l.type=b,l.lanes=j,l}function Io(s,l,h,b){return s=wr(7,s,b,l),s.lanes=h,s}function Tu(s,l,h){return s=wr(6,s,null,l),s.lanes=h,s}function $f(s){var l=wr(18,null,null,0);return l.stateNode=s,l}function Bf(s,l,h){return l=wr(4,s.children!==null?s.children:[],s.key,l),l.lanes=h,l.stateNode={containerInfo:s.containerInfo,pendingChildren:null,implementation:s.implementation},l}var d=new WeakMap;function y(s,l){if(typeof s=="object"&&s!==null){var h=d.get(s);return h!==void 0?h:(l={value:s,source:l,stack:Ve(l)},d.set(s,l),l)}return{value:s,source:l,stack:Ve(l)}}var k=[],M=0,R=null,U=0,ee=[],ce=0,ge=null,Ae=1,Re="";function qe(s,l){k[M++]=U,k[M++]=R,R=s,U=l}function ot(s,l,h){ee[ce++]=Ae,ee[ce++]=Re,ee[ce++]=ge,ge=s;var b=Ae;s=Re;var A=32-Or(b)-1;b&=~(1<<A),h+=1;var j=32-Or(l)+A;if(30<j){var I=A-A%5;j=(b&(1<<I)-1).toString(32),b>>=I,A-=I,Ae=1<<32-Or(l)+A|h<<A|b,Re=j+s}else Ae=1<<j|h<<A|b,Re=s}function $n(s){s.return!==null&&(qe(s,1),ot(s,1,0))}function gn(s){for(;s===R;)R=k[--M],k[M]=null,U=k[--M],k[M]=null;for(;s===ge;)ge=ee[--ce],ee[ce]=null,Re=ee[--ce],ee[ce]=null,Ae=ee[--ce],ee[ce]=null}function Nr(s,l){ee[ce++]=Ae,ee[ce++]=Re,ee[ce++]=ge,Ae=l.id,Re=l.overflow,ge=s}var _t=null,wt=null,ut=!1,no=null,Wr=!1,Ou=Error(r(519));function ro(s){var l=Error(r(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw dc(y(l,s)),Ou}function zf(s){var l=s.stateNode,h=s.type,b=s.memoizedProps;switch(l[An]=s,l[Xn]=b,h){case"dialog":ft("cancel",l),ft("close",l);break;case"iframe":case"object":case"embed":ft("load",l);break;case"video":case"audio":for(h=0;h<ch.length;h++)ft(ch[h],l);break;case"source":ft("error",l);break;case"img":case"image":case"link":ft("error",l),ft("load",l);break;case"details":ft("toggle",l);break;case"input":ft("invalid",l),Gl(l,b.value,b.defaultValue,b.checked,b.defaultChecked,b.type,b.name,!0);break;case"select":ft("invalid",l);break;case"textarea":ft("invalid",l),Rs(l,b.value,b.defaultValue,b.children)}h=b.children,typeof h!="string"&&typeof h!="number"&&typeof h!="bigint"||l.textContent===""+h||b.suppressHydrationWarning===!0||Jj(l.textContent,h)?(b.popover!=null&&(ft("beforetoggle",l),ft("toggle",l)),b.onScroll!=null&&ft("scroll",l),b.onScrollEnd!=null&&ft("scrollend",l),b.onClick!=null&&(l.onclick=Gr),l=!0):l=!1,l||ro(s,!0)}function ln(s){for(_t=s.return;_t;)switch(_t.tag){case 5:case 31:case 13:Wr=!1;return;case 27:case 3:Wr=!0;return;default:_t=_t.return}}function Sa(s){if(s!==_t)return!1;if(!ut)return ln(s),ut=!0,!1;var l=s.tag,h;if((h=l!==3&&l!==27)&&((h=l===5)&&(h=s.type,h=!(h!=="form"&&h!=="button")||G_(s.type,s.memoizedProps)),h=!h),h&&wt&&ro(s),ln(s),l===13){if(s=s.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(r(317));wt=sN(s)}else if(l===31){if(s=s.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(r(317));wt=sN(s)}else l===27?(l=wt,cl(s.type)?(s=V_,V_=null,wt=s):wt=l):wt=_t?Xi(s.stateNode.nextSibling):null;return!0}function $o(){wt=_t=null,ut=!1}function Uf(){var s=no;return s!==null&&(Jr===null?Jr=s:Jr.push.apply(Jr,s),no=null),s}function dc(s){no===null?no=[s]:no.push(s)}var fc=B(null),io=null,Ea=null;function Zs(s,l,h){ae(fc,l._currentValue),l._currentValue=h}function Bo(s){s._currentValue=fc.current,W(fc)}function jx(s,l,h){for(;s!==null;){var b=s.alternate;if((s.childLanes&l)!==l?(s.childLanes|=l,b!==null&&(b.childLanes|=l)):b!==null&&(b.childLanes&l)!==l&&(b.childLanes|=l),s===h)break;s=s.return}}function Nx(s,l,h,b){var A=s.child;for(A!==null&&(A.return=s);A!==null;){var j=A.dependencies;if(j!==null){var I=A.child;j=j.firstContext;e:for(;j!==null;){var G=j;j=A;for(var te=0;te<l.length;te++)if(G.context===l[te]){j.lanes|=h,G=j.alternate,G!==null&&(G.lanes|=h),jx(j.return,h,s),b||(I=null);break e}j=G.next}}else if(A.tag===18){if(I=A.return,I===null)throw Error(r(341));I.lanes|=h,j=I.alternate,j!==null&&(j.lanes|=h),jx(I,h,s),I=null}else I=A.child;if(I!==null)I.return=A;else for(I=A;I!==null;){if(I===s){I=null;break}if(A=I.sibling,A!==null){A.return=I.return,I=A;break}I=I.return}A=I}}function ju(s,l,h,b){s=null;for(var A=l,j=!1;A!==null;){if(!j){if((A.flags&524288)!==0)j=!0;else if((A.flags&262144)!==0)break}if(A.tag===10){var I=A.alternate;if(I===null)throw Error(r(387));if(I=I.memoizedProps,I!==null){var G=A.type;Jn(A.pendingProps.value,I.value)||(s!==null?s.push(G):s=[G])}}else if(A===pe.current){if(I=A.alternate,I===null)throw Error(r(387));I.memoizedState.memoizedState!==A.memoizedState.memoizedState&&(s!==null?s.push(mh):s=[mh])}A=A.return}s!==null&&Nx(l,s,h,b),l.flags|=262144}function Xp(s){for(s=s.firstContext;s!==null;){if(!Jn(s.context._currentValue,s.memoizedValue))return!0;s=s.next}return!1}function hc(s){io=s,Ea=null,s=s.dependencies,s!==null&&(s.firstContext=null)}function ur(s){return IT(io,s)}function Jp(s,l){return io===null&&hc(s),IT(s,l)}function IT(s,l){var h=l._currentValue;if(l={context:l,memoizedValue:h,next:null},Ea===null){if(s===null)throw Error(r(308));Ea=l,s.dependencies={lanes:0,firstContext:l},s.flags|=524288}else Ea=Ea.next=l;return h}var vU=typeof AbortController<"u"?AbortController:function(){var s=[],l=this.signal={aborted:!1,addEventListener:function(h,b){s.push(b)}};this.abort=function(){l.aborted=!0,s.forEach(function(h){return h()})}},xU=e.unstable_scheduleCallback,_U=e.unstable_NormalPriority,On={$$typeof:O,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Cx(){return{controller:new vU,data:new Map,refCount:0}}function Hf(s){s.refCount--,s.refCount===0&&xU(_U,function(){s.controller.abort()})}var Ff=null,Mx=0,Nu=0,Cu=null;function wU(s,l){if(Ff===null){var h=Ff=[];Mx=0,Nu=R_(),Cu={status:"pending",value:void 0,then:function(b){h.push(b)}}}return Mx++,l.then($T,$T),l}function $T(){if(--Mx===0&&Ff!==null){Cu!==null&&(Cu.status="fulfilled");var s=Ff;Ff=null,Nu=0,Cu=null;for(var l=0;l<s.length;l++)(0,s[l])()}}function SU(s,l){var h=[],b={status:"pending",value:null,reason:null,then:function(A){h.push(A)}};return s.then(function(){b.status="fulfilled",b.value=l;for(var A=0;A<h.length;A++)(0,h[A])(l)},function(A){for(b.status="rejected",b.reason=A,A=0;A<h.length;A++)(0,h[A])(void 0)}),b}var BT=q.S;q.S=function(s,l){wj=Be(),typeof l=="object"&&l!==null&&typeof l.then=="function"&&wU(s,l),BT!==null&&BT(s,l)};var mc=B(null);function Px(){var s=mc.current;return s!==null?s:Ht.pooledCache}function Qp(s,l){l===null?ae(mc,mc.current):ae(mc,l.pool)}function zT(){var s=Px();return s===null?null:{parent:On._currentValue,pool:s}}var Mu=Error(r(460)),Dx=Error(r(474)),eg=Error(r(542)),tg={then:function(){}};function UT(s){return s=s.status,s==="fulfilled"||s==="rejected"}function HT(s,l,h){switch(h=s[h],h===void 0?s.push(l):h!==l&&(l.then(Gr,Gr),l=h),l.status){case"fulfilled":return l.value;case"rejected":throw s=l.reason,GT(s),s;default:if(typeof l.status=="string")l.then(Gr,Gr);else{if(s=Ht,s!==null&&100<s.shellSuspendCounter)throw Error(r(482));s=l,s.status="pending",s.then(function(b){if(l.status==="pending"){var A=l;A.status="fulfilled",A.value=b}},function(b){if(l.status==="pending"){var A=l;A.status="rejected",A.reason=b}})}switch(l.status){case"fulfilled":return l.value;case"rejected":throw s=l.reason,GT(s),s}throw gc=l,Mu}}function pc(s){try{var l=s._init;return l(s._payload)}catch(h){throw h!==null&&typeof h=="object"&&typeof h.then=="function"?(gc=h,Mu):h}}var gc=null;function FT(){if(gc===null)throw Error(r(459));var s=gc;return gc=null,s}function GT(s){if(s===Mu||s===eg)throw Error(r(483))}var Pu=null,Gf=0;function ng(s){var l=Gf;return Gf+=1,Pu===null&&(Pu=[]),HT(Pu,s,l)}function qf(s,l){l=l.props.ref,s.ref=l!==void 0?l:null}function rg(s,l){throw l.$$typeof===g?Error(r(525)):(s=Object.prototype.toString.call(l),Error(r(31,s==="[object Object]"?"object with keys {"+Object.keys(l).join(", ")+"}":s)))}function qT(s){function l(le,ie){if(s){var de=le.deletions;de===null?(le.deletions=[ie],le.flags|=16):de.push(ie)}}function h(le,ie){if(!s)return null;for(;ie!==null;)l(le,ie),ie=ie.sibling;return null}function b(le){for(var ie=new Map;le!==null;)le.key!==null?ie.set(le.key,le):ie.set(le.index,le),le=le.sibling;return ie}function A(le,ie){return le=Vi(le,ie),le.index=0,le.sibling=null,le}function j(le,ie,de){return le.index=de,s?(de=le.alternate,de!==null?(de=de.index,de<ie?(le.flags|=67108866,ie):de):(le.flags|=67108866,ie)):(le.flags|=1048576,ie)}function I(le){return s&&le.alternate===null&&(le.flags|=67108866),le}function G(le,ie,de,ke){return ie===null||ie.tag!==6?(ie=Tu(de,le.mode,ke),ie.return=le,ie):(ie=A(ie,de),ie.return=le,ie)}function te(le,ie,de,ke){var Xe=de.type;return Xe===w?Ee(le,ie,de.props.children,ke,de.key):ie!==null&&(ie.elementType===Xe||typeof Xe=="object"&&Xe!==null&&Xe.$$typeof===H&&pc(Xe)===ie.type)?(ie=A(ie,de.props),qf(ie,de),ie.return=le,ie):(ie=uc(de.type,de.key,de.props,null,le.mode,ke),qf(ie,de),ie.return=le,ie)}function he(le,ie,de,ke){return ie===null||ie.tag!==4||ie.stateNode.containerInfo!==de.containerInfo||ie.stateNode.implementation!==de.implementation?(ie=Bf(de,le.mode,ke),ie.return=le,ie):(ie=A(ie,de.children||[]),ie.return=le,ie)}function Ee(le,ie,de,ke,Xe){return ie===null||ie.tag!==7?(ie=Io(de,le.mode,ke,Xe),ie.return=le,ie):(ie=A(ie,de),ie.return=le,ie)}function Te(le,ie,de){if(typeof ie=="string"&&ie!==""||typeof ie=="number"||typeof ie=="bigint")return ie=Tu(""+ie,le.mode,de),ie.return=le,ie;if(typeof ie=="object"&&ie!==null){switch(ie.$$typeof){case v:return de=uc(ie.type,ie.key,ie.props,null,le.mode,de),qf(de,ie),de.return=le,de;case _:return ie=Bf(ie,le.mode,de),ie.return=le,ie;case H:return ie=pc(ie),Te(le,ie,de)}if(J(ie)||z(ie))return ie=Io(ie,le.mode,de,null),ie.return=le,ie;if(typeof ie.then=="function")return Te(le,ng(ie),de);if(ie.$$typeof===O)return Te(le,Jp(le,ie),de);rg(le,ie)}return null}function ye(le,ie,de,ke){var Xe=ie!==null?ie.key:null;if(typeof de=="string"&&de!==""||typeof de=="number"||typeof de=="bigint")return Xe!==null?null:G(le,ie,""+de,ke);if(typeof de=="object"&&de!==null){switch(de.$$typeof){case v:return de.key===Xe?te(le,ie,de,ke):null;case _:return de.key===Xe?he(le,ie,de,ke):null;case H:return de=pc(de),ye(le,ie,de,ke)}if(J(de)||z(de))return Xe!==null?null:Ee(le,ie,de,ke,null);if(typeof de.then=="function")return ye(le,ie,ng(de),ke);if(de.$$typeof===O)return ye(le,ie,Jp(le,de),ke);rg(le,de)}return null}function xe(le,ie,de,ke,Xe){if(typeof ke=="string"&&ke!==""||typeof ke=="number"||typeof ke=="bigint")return le=le.get(de)||null,G(ie,le,""+ke,Xe);if(typeof ke=="object"&&ke!==null){switch(ke.$$typeof){case v:return le=le.get(ke.key===null?de:ke.key)||null,te(ie,le,ke,Xe);case _:return le=le.get(ke.key===null?de:ke.key)||null,he(ie,le,ke,Xe);case H:return ke=pc(ke),xe(le,ie,de,ke,Xe)}if(J(ke)||z(ke))return le=le.get(de)||null,Ee(ie,le,ke,Xe,null);if(typeof ke.then=="function")return xe(le,ie,de,ng(ke),Xe);if(ke.$$typeof===O)return xe(le,ie,de,Jp(ie,ke),Xe);rg(ie,ke)}return null}function ze(le,ie,de,ke){for(var Xe=null,St=null,He=ie,st=ie=0,pt=null;He!==null&&st<de.length;st++){He.index>st?(pt=He,He=null):pt=He.sibling;var Et=ye(le,He,de[st],ke);if(Et===null){He===null&&(He=pt);break}s&&He&&Et.alternate===null&&l(le,He),ie=j(Et,ie,st),St===null?Xe=Et:St.sibling=Et,St=Et,He=pt}if(st===de.length)return h(le,He),ut&&qe(le,st),Xe;if(He===null){for(;st<de.length;st++)He=Te(le,de[st],ke),He!==null&&(ie=j(He,ie,st),St===null?Xe=He:St.sibling=He,St=He);return ut&&qe(le,st),Xe}for(He=b(He);st<de.length;st++)pt=xe(He,le,st,de[st],ke),pt!==null&&(s&&pt.alternate!==null&&He.delete(pt.key===null?st:pt.key),ie=j(pt,ie,st),St===null?Xe=pt:St.sibling=pt,St=pt);return s&&He.forEach(function(ml){return l(le,ml)}),ut&&qe(le,st),Xe}function Qe(le,ie,de,ke){if(de==null)throw Error(r(151));for(var Xe=null,St=null,He=ie,st=ie=0,pt=null,Et=de.next();He!==null&&!Et.done;st++,Et=de.next()){He.index>st?(pt=He,He=null):pt=He.sibling;var ml=ye(le,He,Et.value,ke);if(ml===null){He===null&&(He=pt);break}s&&He&&ml.alternate===null&&l(le,He),ie=j(ml,ie,st),St===null?Xe=ml:St.sibling=ml,St=ml,He=pt}if(Et.done)return h(le,He),ut&&qe(le,st),Xe;if(He===null){for(;!Et.done;st++,Et=de.next())Et=Te(le,Et.value,ke),Et!==null&&(ie=j(Et,ie,st),St===null?Xe=Et:St.sibling=Et,St=Et);return ut&&qe(le,st),Xe}for(He=b(He);!Et.done;st++,Et=de.next())Et=xe(He,le,st,Et.value,ke),Et!==null&&(s&&Et.alternate!==null&&He.delete(Et.key===null?st:Et.key),ie=j(Et,ie,st),St===null?Xe=Et:St.sibling=Et,St=Et);return s&&He.forEach(function(DH){return l(le,DH)}),ut&&qe(le,st),Xe}function zt(le,ie,de,ke){if(typeof de=="object"&&de!==null&&de.type===w&&de.key===null&&(de=de.props.children),typeof de=="object"&&de!==null){switch(de.$$typeof){case v:e:{for(var Xe=de.key;ie!==null;){if(ie.key===Xe){if(Xe=de.type,Xe===w){if(ie.tag===7){h(le,ie.sibling),ke=A(ie,de.props.children),ke.return=le,le=ke;break e}}else if(ie.elementType===Xe||typeof Xe=="object"&&Xe!==null&&Xe.$$typeof===H&&pc(Xe)===ie.type){h(le,ie.sibling),ke=A(ie,de.props),qf(ke,de),ke.return=le,le=ke;break e}h(le,ie);break}else l(le,ie);ie=ie.sibling}de.type===w?(ke=Io(de.props.children,le.mode,ke,de.key),ke.return=le,le=ke):(ke=uc(de.type,de.key,de.props,null,le.mode,ke),qf(ke,de),ke.return=le,le=ke)}return I(le);case _:e:{for(Xe=de.key;ie!==null;){if(ie.key===Xe)if(ie.tag===4&&ie.stateNode.containerInfo===de.containerInfo&&ie.stateNode.implementation===de.implementation){h(le,ie.sibling),ke=A(ie,de.children||[]),ke.return=le,le=ke;break e}else{h(le,ie);break}else l(le,ie);ie=ie.sibling}ke=Bf(de,le.mode,ke),ke.return=le,le=ke}return I(le);case H:return de=pc(de),zt(le,ie,de,ke)}if(J(de))return ze(le,ie,de,ke);if(z(de)){if(Xe=z(de),typeof Xe!="function")throw Error(r(150));return de=Xe.call(de),Qe(le,ie,de,ke)}if(typeof de.then=="function")return zt(le,ie,ng(de),ke);if(de.$$typeof===O)return zt(le,ie,Jp(le,de),ke);rg(le,de)}return typeof de=="string"&&de!==""||typeof de=="number"||typeof de=="bigint"?(de=""+de,ie!==null&&ie.tag===6?(h(le,ie.sibling),ke=A(ie,de),ke.return=le,le=ke):(h(le,ie),ke=Tu(de,le.mode,ke),ke.return=le,le=ke),I(le)):h(le,ie)}return function(le,ie,de,ke){try{Gf=0;var Xe=zt(le,ie,de,ke);return Pu=null,Xe}catch(He){if(He===Mu||He===eg)throw He;var St=wr(29,He,null,le.mode);return St.lanes=ke,St.return=le,St}finally{}}}var yc=qT(!0),YT=qT(!1),Xs=!1;function Rx(s){s.updateQueue={baseState:s.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Lx(s,l){s=s.updateQueue,l.updateQueue===s&&(l.updateQueue={baseState:s.baseState,firstBaseUpdate:s.firstBaseUpdate,lastBaseUpdate:s.lastBaseUpdate,shared:s.shared,callbacks:null})}function Js(s){return{lane:s,tag:0,payload:null,callback:null,next:null}}function Qs(s,l,h){var b=s.updateQueue;if(b===null)return null;if(b=b.shared,(Tt&2)!==0){var A=b.pending;return A===null?l.next=l:(l.next=A.next,A.next=l),b.pending=l,l=cc(s),Vs(s,null,h),l}return to(s,b,l,h),cc(s)}function Yf(s,l,h){if(l=l.updateQueue,l!==null&&(l=l.shared,(h&4194048)!==0)){var b=l.lanes;b&=s.pendingLanes,h|=b,l.lanes=h,Ep(s,h)}}function Ix(s,l){var h=s.updateQueue,b=s.alternate;if(b!==null&&(b=b.updateQueue,h===b)){var A=null,j=null;if(h=h.firstBaseUpdate,h!==null){do{var I={lane:h.lane,tag:h.tag,payload:h.payload,callback:null,next:null};j===null?A=j=I:j=j.next=I,h=h.next}while(h!==null);j===null?A=j=l:j=j.next=l}else A=j=l;h={baseState:b.baseState,firstBaseUpdate:A,lastBaseUpdate:j,shared:b.shared,callbacks:b.callbacks},s.updateQueue=h;return}s=h.lastBaseUpdate,s===null?h.firstBaseUpdate=l:s.next=l,h.lastBaseUpdate=l}var $x=!1;function Kf(){if($x){var s=Cu;if(s!==null)throw s}}function Wf(s,l,h,b){$x=!1;var A=s.updateQueue;Xs=!1;var j=A.firstBaseUpdate,I=A.lastBaseUpdate,G=A.shared.pending;if(G!==null){A.shared.pending=null;var te=G,he=te.next;te.next=null,I===null?j=he:I.next=he,I=te;var Ee=s.alternate;Ee!==null&&(Ee=Ee.updateQueue,G=Ee.lastBaseUpdate,G!==I&&(G===null?Ee.firstBaseUpdate=he:G.next=he,Ee.lastBaseUpdate=te))}if(j!==null){var Te=A.baseState;I=0,Ee=he=te=null,G=j;do{var ye=G.lane&-536870913,xe=ye!==G.lane;if(xe?(mt&ye)===ye:(b&ye)===ye){ye!==0&&ye===Nu&&($x=!0),Ee!==null&&(Ee=Ee.next={lane:0,tag:G.tag,payload:G.payload,callback:null,next:null});e:{var ze=s,Qe=G;ye=l;var zt=h;switch(Qe.tag){case 1:if(ze=Qe.payload,typeof ze=="function"){Te=ze.call(zt,Te,ye);break e}Te=ze;break e;case 3:ze.flags=ze.flags&-65537|128;case 0:if(ze=Qe.payload,ye=typeof ze=="function"?ze.call(zt,Te,ye):ze,ye==null)break e;Te=p({},Te,ye);break e;case 2:Xs=!0}}ye=G.callback,ye!==null&&(s.flags|=64,xe&&(s.flags|=8192),xe=A.callbacks,xe===null?A.callbacks=[ye]:xe.push(ye))}else xe={lane:ye,tag:G.tag,payload:G.payload,callback:G.callback,next:null},Ee===null?(he=Ee=xe,te=Te):Ee=Ee.next=xe,I|=ye;if(G=G.next,G===null){if(G=A.shared.pending,G===null)break;xe=G,G=xe.next,xe.next=null,A.lastBaseUpdate=xe,A.shared.pending=null}}while(!0);Ee===null&&(te=Te),A.baseState=te,A.firstBaseUpdate=he,A.lastBaseUpdate=Ee,j===null&&(A.shared.lanes=0),il|=I,s.lanes=I,s.memoizedState=Te}}function KT(s,l){if(typeof s!="function")throw Error(r(191,s));s.call(l)}function WT(s,l){var h=s.callbacks;if(h!==null)for(s.callbacks=null,s=0;s<h.length;s++)KT(h[s],l)}var Du=B(null),ig=B(0);function VT(s,l){s=Wo,ae(ig,s),ae(Du,l),Wo=s|l.baseLanes}function Bx(){ae(ig,Wo),ae(Du,Du.current)}function zx(){Wo=ig.current,W(Du),W(ig)}var xi=B(null),Zi=null;function el(s){var l=s.alternate;ae(wn,wn.current&1),ae(xi,s),Zi===null&&(l===null||Du.current!==null||l.memoizedState!==null)&&(Zi=s)}function Ux(s){ae(wn,wn.current),ae(xi,s),Zi===null&&(Zi=s)}function ZT(s){s.tag===22?(ae(wn,wn.current),ae(xi,s),Zi===null&&(Zi=s)):tl()}function tl(){ae(wn,wn.current),ae(xi,xi.current)}function _i(s){W(xi),Zi===s&&(Zi=null),W(wn)}var wn=B(0);function ag(s){for(var l=s;l!==null;){if(l.tag===13){var h=l.memoizedState;if(h!==null&&(h=h.dehydrated,h===null||K_(h)||W_(h)))return l}else if(l.tag===19&&(l.memoizedProps.revealOrder==="forwards"||l.memoizedProps.revealOrder==="backwards"||l.memoizedProps.revealOrder==="unstable_legacy-backwards"||l.memoizedProps.revealOrder==="together")){if((l.flags&128)!==0)return l}else if(l.child!==null){l.child.return=l,l=l.child;continue}if(l===s)break;for(;l.sibling===null;){if(l.return===null||l.return===s)return null;l=l.return}l.sibling.return=l.return,l=l.sibling}return null}var zo=0,it=null,$t=null,jn=null,og=!1,Ru=!1,bc=!1,sg=0,Vf=0,Lu=null,EU=0;function yn(){throw Error(r(321))}function Hx(s,l){if(l===null)return!1;for(var h=0;h<l.length&&h<s.length;h++)if(!Jn(s[h],l[h]))return!1;return!0}function Fx(s,l,h,b,A,j){return zo=j,it=l,l.memoizedState=null,l.updateQueue=null,l.lanes=0,q.H=s===null||s.memoizedState===null?PO:i_,bc=!1,j=h(b,A),bc=!1,Ru&&(j=JT(l,h,b,A)),XT(s),j}function XT(s){q.H=Jf;var l=$t!==null&&$t.next!==null;if(zo=0,jn=$t=it=null,og=!1,Vf=0,Lu=null,l)throw Error(r(300));s===null||Nn||(s=s.dependencies,s!==null&&Xp(s)&&(Nn=!0))}function JT(s,l,h,b){it=s;var A=0;do{if(Ru&&(Lu=null),Vf=0,Ru=!1,25<=A)throw Error(r(301));if(A+=1,jn=$t=null,s.updateQueue!=null){var j=s.updateQueue;j.lastEffect=null,j.events=null,j.stores=null,j.memoCache!=null&&(j.memoCache.index=0)}q.H=DO,j=l(h,b)}while(Ru);return j}function kU(){var s=q.H,l=s.useState()[0];return l=typeof l.then=="function"?Zf(l):l,s=s.useState()[0],($t!==null?$t.memoizedState:null)!==s&&(it.flags|=1024),l}function Gx(){var s=sg!==0;return sg=0,s}function qx(s,l,h){l.updateQueue=s.updateQueue,l.flags&=-2053,s.lanes&=~h}function Yx(s){if(og){for(s=s.memoizedState;s!==null;){var l=s.queue;l!==null&&(l.pending=null),s=s.next}og=!1}zo=0,jn=$t=it=null,Ru=!1,Vf=sg=0,Lu=null}function Cr(){var s={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return jn===null?it.memoizedState=jn=s:jn=jn.next=s,jn}function Sn(){if($t===null){var s=it.alternate;s=s!==null?s.memoizedState:null}else s=$t.next;var l=jn===null?it.memoizedState:jn.next;if(l!==null)jn=l,$t=s;else{if(s===null)throw it.alternate===null?Error(r(467)):Error(r(310));$t=s,s={memoizedState:$t.memoizedState,baseState:$t.baseState,baseQueue:$t.baseQueue,queue:$t.queue,next:null},jn===null?it.memoizedState=jn=s:jn=jn.next=s}return jn}function lg(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Zf(s){var l=Vf;return Vf+=1,Lu===null&&(Lu=[]),s=HT(Lu,s,l),l=it,(jn===null?l.memoizedState:jn.next)===null&&(l=l.alternate,q.H=l===null||l.memoizedState===null?PO:i_),s}function cg(s){if(s!==null&&typeof s=="object"){if(typeof s.then=="function")return Zf(s);if(s.$$typeof===O)return ur(s)}throw Error(r(438,String(s)))}function Kx(s){var l=null,h=it.updateQueue;if(h!==null&&(l=h.memoCache),l==null){var b=it.alternate;b!==null&&(b=b.updateQueue,b!==null&&(b=b.memoCache,b!=null&&(l={data:b.data.map(function(A){return A.slice()}),index:0})))}if(l==null&&(l={data:[],index:0}),h===null&&(h=lg(),it.updateQueue=h),h.memoCache=l,h=l.data[l.index],h===void 0)for(h=l.data[l.index]=Array(s),b=0;b<s;b++)h[b]=K;return l.index++,h}function Uo(s,l){return typeof l=="function"?l(s):l}function ug(s){var l=Sn();return Wx(l,$t,s)}function Wx(s,l,h){var b=s.queue;if(b===null)throw Error(r(311));b.lastRenderedReducer=h;var A=s.baseQueue,j=b.pending;if(j!==null){if(A!==null){var I=A.next;A.next=j.next,j.next=I}l.baseQueue=A=j,b.pending=null}if(j=s.baseState,A===null)s.memoizedState=j;else{l=A.next;var G=I=null,te=null,he=l,Ee=!1;do{var Te=he.lane&-536870913;if(Te!==he.lane?(mt&Te)===Te:(zo&Te)===Te){var ye=he.revertLane;if(ye===0)te!==null&&(te=te.next={lane:0,revertLane:0,gesture:null,action:he.action,hasEagerState:he.hasEagerState,eagerState:he.eagerState,next:null}),Te===Nu&&(Ee=!0);else if((zo&ye)===ye){he=he.next,ye===Nu&&(Ee=!0);continue}else Te={lane:0,revertLane:he.revertLane,gesture:null,action:he.action,hasEagerState:he.hasEagerState,eagerState:he.eagerState,next:null},te===null?(G=te=Te,I=j):te=te.next=Te,it.lanes|=ye,il|=ye;Te=he.action,bc&&h(j,Te),j=he.hasEagerState?he.eagerState:h(j,Te)}else ye={lane:Te,revertLane:he.revertLane,gesture:he.gesture,action:he.action,hasEagerState:he.hasEagerState,eagerState:he.eagerState,next:null},te===null?(G=te=ye,I=j):te=te.next=ye,it.lanes|=Te,il|=Te;he=he.next}while(he!==null&&he!==l);if(te===null?I=j:te.next=G,!Jn(j,s.memoizedState)&&(Nn=!0,Ee&&(h=Cu,h!==null)))throw h;s.memoizedState=j,s.baseState=I,s.baseQueue=te,b.lastRenderedState=j}return A===null&&(b.lanes=0),[s.memoizedState,b.dispatch]}function Vx(s){var l=Sn(),h=l.queue;if(h===null)throw Error(r(311));h.lastRenderedReducer=s;var b=h.dispatch,A=h.pending,j=l.memoizedState;if(A!==null){h.pending=null;var I=A=A.next;do j=s(j,I.action),I=I.next;while(I!==A);Jn(j,l.memoizedState)||(Nn=!0),l.memoizedState=j,l.baseQueue===null&&(l.baseState=j),h.lastRenderedState=j}return[j,b]}function QT(s,l,h){var b=it,A=Sn(),j=ut;if(j){if(h===void 0)throw Error(r(407));h=h()}else h=l();var I=!Jn(($t||A).memoizedState,h);if(I&&(A.memoizedState=h,Nn=!0),A=A.queue,Jx(nO.bind(null,b,A,s),[s]),A.getSnapshot!==l||I||jn!==null&&jn.memoizedState.tag&1){if(b.flags|=2048,Iu(9,{destroy:void 0},tO.bind(null,b,A,h,l),null),Ht===null)throw Error(r(349));j||(zo&127)!==0||eO(b,l,h)}return h}function eO(s,l,h){s.flags|=16384,s={getSnapshot:l,value:h},l=it.updateQueue,l===null?(l=lg(),it.updateQueue=l,l.stores=[s]):(h=l.stores,h===null?l.stores=[s]:h.push(s))}function tO(s,l,h,b){l.value=h,l.getSnapshot=b,rO(l)&&iO(s)}function nO(s,l,h){return h(function(){rO(l)&&iO(s)})}function rO(s){var l=s.getSnapshot;s=s.value;try{var h=l();return!Jn(s,h)}catch{return!0}}function iO(s){var l=Wi(s,2);l!==null&&Qr(l,s,2)}function Zx(s){var l=Cr();if(typeof s=="function"){var h=s;if(s=h(),bc){pi(!0);try{h()}finally{pi(!1)}}}return l.memoizedState=l.baseState=s,l.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Uo,lastRenderedState:s},l}function aO(s,l,h,b){return s.baseState=h,Wx(s,$t,typeof b=="function"?b:Uo)}function AU(s,l,h,b,A){if(hg(s))throw Error(r(485));if(s=l.action,s!==null){var j={payload:A,action:s,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(I){j.listeners.push(I)}};q.T!==null?h(!0):j.isTransition=!1,b(j),h=l.pending,h===null?(j.next=l.pending=j,oO(l,j)):(j.next=h.next,l.pending=h.next=j)}}function oO(s,l){var h=l.action,b=l.payload,A=s.state;if(l.isTransition){var j=q.T,I={};q.T=I;try{var G=h(A,b),te=q.S;te!==null&&te(I,G),sO(s,l,G)}catch(he){Xx(s,l,he)}finally{j!==null&&I.types!==null&&(j.types=I.types),q.T=j}}else try{j=h(A,b),sO(s,l,j)}catch(he){Xx(s,l,he)}}function sO(s,l,h){h!==null&&typeof h=="object"&&typeof h.then=="function"?h.then(function(b){lO(s,l,b)},function(b){return Xx(s,l,b)}):lO(s,l,h)}function lO(s,l,h){l.status="fulfilled",l.value=h,cO(l),s.state=h,l=s.pending,l!==null&&(h=l.next,h===l?s.pending=null:(h=h.next,l.next=h,oO(s,h)))}function Xx(s,l,h){var b=s.pending;if(s.pending=null,b!==null){b=b.next;do l.status="rejected",l.reason=h,cO(l),l=l.next;while(l!==b)}s.action=null}function cO(s){s=s.listeners;for(var l=0;l<s.length;l++)(0,s[l])()}function uO(s,l){return l}function dO(s,l){if(ut){var h=Ht.formState;if(h!==null){e:{var b=it;if(ut){if(wt){t:{for(var A=wt,j=Wr;A.nodeType!==8;){if(!j){A=null;break t}if(A=Xi(A.nextSibling),A===null){A=null;break t}}j=A.data,A=j==="F!"||j==="F"?A:null}if(A){wt=Xi(A.nextSibling),b=A.data==="F!";break e}}ro(b)}b=!1}b&&(l=h[0])}}return h=Cr(),h.memoizedState=h.baseState=l,b={pending:null,lanes:0,dispatch:null,lastRenderedReducer:uO,lastRenderedState:l},h.queue=b,h=NO.bind(null,it,b),b.dispatch=h,b=Zx(!1),j=r_.bind(null,it,!1,b.queue),b=Cr(),A={state:l,dispatch:null,action:s,pending:null},b.queue=A,h=AU.bind(null,it,A,j,h),A.dispatch=h,b.memoizedState=s,[l,h,!1]}function fO(s){var l=Sn();return hO(l,$t,s)}function hO(s,l,h){if(l=Wx(s,l,uO)[0],s=ug(Uo)[0],typeof l=="object"&&l!==null&&typeof l.then=="function")try{var b=Zf(l)}catch(I){throw I===Mu?eg:I}else b=l;l=Sn();var A=l.queue,j=A.dispatch;return h!==l.memoizedState&&(it.flags|=2048,Iu(9,{destroy:void 0},TU.bind(null,A,h),null)),[b,j,s]}function TU(s,l){s.action=l}function mO(s){var l=Sn(),h=$t;if(h!==null)return hO(l,h,s);Sn(),l=l.memoizedState,h=Sn();var b=h.queue.dispatch;return h.memoizedState=s,[l,b,!1]}function Iu(s,l,h,b){return s={tag:s,create:h,deps:b,inst:l,next:null},l=it.updateQueue,l===null&&(l=lg(),it.updateQueue=l),h=l.lastEffect,h===null?l.lastEffect=s.next=s:(b=h.next,h.next=s,s.next=b,l.lastEffect=s),s}function pO(){return Sn().memoizedState}function dg(s,l,h,b){var A=Cr();it.flags|=s,A.memoizedState=Iu(1|l,{destroy:void 0},h,b===void 0?null:b)}function fg(s,l,h,b){var A=Sn();b=b===void 0?null:b;var j=A.memoizedState.inst;$t!==null&&b!==null&&Hx(b,$t.memoizedState.deps)?A.memoizedState=Iu(l,j,h,b):(it.flags|=s,A.memoizedState=Iu(1|l,j,h,b))}function gO(s,l){dg(8390656,8,s,l)}function Jx(s,l){fg(2048,8,s,l)}function OU(s){it.flags|=4;var l=it.updateQueue;if(l===null)l=lg(),it.updateQueue=l,l.events=[s];else{var h=l.events;h===null?l.events=[s]:h.push(s)}}function yO(s){var l=Sn().memoizedState;return OU({ref:l,nextImpl:s}),function(){if((Tt&2)!==0)throw Error(r(440));return l.impl.apply(void 0,arguments)}}function bO(s,l){return fg(4,2,s,l)}function vO(s,l){return fg(4,4,s,l)}function xO(s,l){if(typeof l=="function"){s=s();var h=l(s);return function(){typeof h=="function"?h():l(null)}}if(l!=null)return s=s(),l.current=s,function(){l.current=null}}function _O(s,l,h){h=h!=null?h.concat([s]):null,fg(4,4,xO.bind(null,l,s),h)}function Qx(){}function wO(s,l){var h=Sn();l=l===void 0?null:l;var b=h.memoizedState;return l!==null&&Hx(l,b[1])?b[0]:(h.memoizedState=[s,l],s)}function SO(s,l){var h=Sn();l=l===void 0?null:l;var b=h.memoizedState;if(l!==null&&Hx(l,b[1]))return b[0];if(b=s(),bc){pi(!0);try{s()}finally{pi(!1)}}return h.memoizedState=[b,l],b}function e_(s,l,h){return h===void 0||(zo&1073741824)!==0&&(mt&261930)===0?s.memoizedState=l:(s.memoizedState=h,s=Ej(),it.lanes|=s,il|=s,h)}function EO(s,l,h,b){return Jn(h,l)?h:Du.current!==null?(s=e_(s,h,b),Jn(s,l)||(Nn=!0),s):(zo&42)===0||(zo&1073741824)!==0&&(mt&261930)===0?(Nn=!0,s.memoizedState=h):(s=Ej(),it.lanes|=s,il|=s,l)}function kO(s,l,h,b,A){var j=Z.p;Z.p=j!==0&&8>j?j:8;var I=q.T,G={};q.T=G,r_(s,!1,l,h);try{var te=A(),he=q.S;if(he!==null&&he(G,te),te!==null&&typeof te=="object"&&typeof te.then=="function"){var Ee=SU(te,b);Xf(s,l,Ee,Ei(s))}else Xf(s,l,b,Ei(s))}catch(Te){Xf(s,l,{then:function(){},status:"rejected",reason:Te},Ei())}finally{Z.p=j,I!==null&&G.types!==null&&(I.types=G.types),q.T=I}}function jU(){}function t_(s,l,h,b){if(s.tag!==5)throw Error(r(476));var A=AO(s).queue;kO(s,A,l,re,h===null?jU:function(){return TO(s),h(b)})}function AO(s){var l=s.memoizedState;if(l!==null)return l;l={memoizedState:re,baseState:re,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Uo,lastRenderedState:re},next:null};var h={};return l.next={memoizedState:h,baseState:h,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Uo,lastRenderedState:h},next:null},s.memoizedState=l,s=s.alternate,s!==null&&(s.memoizedState=l),l}function TO(s){var l=AO(s);l.next===null&&(l=s.alternate.memoizedState),Xf(s,l.next.queue,{},Ei())}function n_(){return ur(mh)}function OO(){return Sn().memoizedState}function jO(){return Sn().memoizedState}function NU(s){for(var l=s.return;l!==null;){switch(l.tag){case 24:case 3:var h=Ei();s=Js(h);var b=Qs(l,s,h);b!==null&&(Qr(b,l,h),Yf(b,l,h)),l={cache:Cx()},s.payload=l;return}l=l.return}}function CU(s,l,h){var b=Ei();h={lane:b,revertLane:0,gesture:null,action:h,hasEagerState:!1,eagerState:null,next:null},hg(s)?CO(l,h):(h=Lf(s,l,h,b),h!==null&&(Qr(h,s,b),MO(h,l,b)))}function NO(s,l,h){var b=Ei();Xf(s,l,h,b)}function Xf(s,l,h,b){var A={lane:b,revertLane:0,gesture:null,action:h,hasEagerState:!1,eagerState:null,next:null};if(hg(s))CO(l,A);else{var j=s.alternate;if(s.lanes===0&&(j===null||j.lanes===0)&&(j=l.lastRenderedReducer,j!==null))try{var I=l.lastRenderedState,G=j(I,h);if(A.hasEagerState=!0,A.eagerState=G,Jn(G,I))return to(s,l,A,0),Ht===null&&lc(),!1}catch{}finally{}if(h=Lf(s,l,A,b),h!==null)return Qr(h,s,b),MO(h,l,b),!0}return!1}function r_(s,l,h,b){if(b={lane:2,revertLane:R_(),gesture:null,action:b,hasEagerState:!1,eagerState:null,next:null},hg(s)){if(l)throw Error(r(479))}else l=Lf(s,h,b,2),l!==null&&Qr(l,s,2)}function hg(s){var l=s.alternate;return s===it||l!==null&&l===it}function CO(s,l){Ru=og=!0;var h=s.pending;h===null?l.next=l:(l.next=h.next,h.next=l),s.pending=l}function MO(s,l,h){if((h&4194048)!==0){var b=l.lanes;b&=s.pendingLanes,h|=b,l.lanes=h,Ep(s,h)}}var Jf={readContext:ur,use:cg,useCallback:yn,useContext:yn,useEffect:yn,useImperativeHandle:yn,useLayoutEffect:yn,useInsertionEffect:yn,useMemo:yn,useReducer:yn,useRef:yn,useState:yn,useDebugValue:yn,useDeferredValue:yn,useTransition:yn,useSyncExternalStore:yn,useId:yn,useHostTransitionStatus:yn,useFormState:yn,useActionState:yn,useOptimistic:yn,useMemoCache:yn,useCacheRefresh:yn};Jf.useEffectEvent=yn;var PO={readContext:ur,use:cg,useCallback:function(s,l){return Cr().memoizedState=[s,l===void 0?null:l],s},useContext:ur,useEffect:gO,useImperativeHandle:function(s,l,h){h=h!=null?h.concat([s]):null,dg(4194308,4,xO.bind(null,l,s),h)},useLayoutEffect:function(s,l){return dg(4194308,4,s,l)},useInsertionEffect:function(s,l){dg(4,2,s,l)},useMemo:function(s,l){var h=Cr();l=l===void 0?null:l;var b=s();if(bc){pi(!0);try{s()}finally{pi(!1)}}return h.memoizedState=[b,l],b},useReducer:function(s,l,h){var b=Cr();if(h!==void 0){var A=h(l);if(bc){pi(!0);try{h(l)}finally{pi(!1)}}}else A=l;return b.memoizedState=b.baseState=A,s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:s,lastRenderedState:A},b.queue=s,s=s.dispatch=CU.bind(null,it,s),[b.memoizedState,s]},useRef:function(s){var l=Cr();return s={current:s},l.memoizedState=s},useState:function(s){s=Zx(s);var l=s.queue,h=NO.bind(null,it,l);return l.dispatch=h,[s.memoizedState,h]},useDebugValue:Qx,useDeferredValue:function(s,l){var h=Cr();return e_(h,s,l)},useTransition:function(){var s=Zx(!1);return s=kO.bind(null,it,s.queue,!0,!1),Cr().memoizedState=s,[!1,s]},useSyncExternalStore:function(s,l,h){var b=it,A=Cr();if(ut){if(h===void 0)throw Error(r(407));h=h()}else{if(h=l(),Ht===null)throw Error(r(349));(mt&127)!==0||eO(b,l,h)}A.memoizedState=h;var j={value:h,getSnapshot:l};return A.queue=j,gO(nO.bind(null,b,j,s),[s]),b.flags|=2048,Iu(9,{destroy:void 0},tO.bind(null,b,j,h,l),null),h},useId:function(){var s=Cr(),l=Ht.identifierPrefix;if(ut){var h=Re,b=Ae;h=(b&~(1<<32-Or(b)-1)).toString(32)+h,l="_"+l+"R_"+h,h=sg++,0<h&&(l+="H"+h.toString(32)),l+="_"}else h=EU++,l="_"+l+"r_"+h.toString(32)+"_";return s.memoizedState=l},useHostTransitionStatus:n_,useFormState:dO,useActionState:dO,useOptimistic:function(s){var l=Cr();l.memoizedState=l.baseState=s;var h={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return l.queue=h,l=r_.bind(null,it,!0,h),h.dispatch=l,[s,l]},useMemoCache:Kx,useCacheRefresh:function(){return Cr().memoizedState=NU.bind(null,it)},useEffectEvent:function(s){var l=Cr(),h={impl:s};return l.memoizedState=h,function(){if((Tt&2)!==0)throw Error(r(440));return h.impl.apply(void 0,arguments)}}},i_={readContext:ur,use:cg,useCallback:wO,useContext:ur,useEffect:Jx,useImperativeHandle:_O,useInsertionEffect:bO,useLayoutEffect:vO,useMemo:SO,useReducer:ug,useRef:pO,useState:function(){return ug(Uo)},useDebugValue:Qx,useDeferredValue:function(s,l){var h=Sn();return EO(h,$t.memoizedState,s,l)},useTransition:function(){var s=ug(Uo)[0],l=Sn().memoizedState;return[typeof s=="boolean"?s:Zf(s),l]},useSyncExternalStore:QT,useId:OO,useHostTransitionStatus:n_,useFormState:fO,useActionState:fO,useOptimistic:function(s,l){var h=Sn();return aO(h,$t,s,l)},useMemoCache:Kx,useCacheRefresh:jO};i_.useEffectEvent=yO;var DO={readContext:ur,use:cg,useCallback:wO,useContext:ur,useEffect:Jx,useImperativeHandle:_O,useInsertionEffect:bO,useLayoutEffect:vO,useMemo:SO,useReducer:Vx,useRef:pO,useState:function(){return Vx(Uo)},useDebugValue:Qx,useDeferredValue:function(s,l){var h=Sn();return $t===null?e_(h,s,l):EO(h,$t.memoizedState,s,l)},useTransition:function(){var s=Vx(Uo)[0],l=Sn().memoizedState;return[typeof s=="boolean"?s:Zf(s),l]},useSyncExternalStore:QT,useId:OO,useHostTransitionStatus:n_,useFormState:mO,useActionState:mO,useOptimistic:function(s,l){var h=Sn();return $t!==null?aO(h,$t,s,l):(h.baseState=s,[s,h.queue.dispatch])},useMemoCache:Kx,useCacheRefresh:jO};DO.useEffectEvent=yO;function a_(s,l,h,b){l=s.memoizedState,h=h(b,l),h=h==null?l:p({},l,h),s.memoizedState=h,s.lanes===0&&(s.updateQueue.baseState=h)}var o_={enqueueSetState:function(s,l,h){s=s._reactInternals;var b=Ei(),A=Js(b);A.payload=l,h!=null&&(A.callback=h),l=Qs(s,A,b),l!==null&&(Qr(l,s,b),Yf(l,s,b))},enqueueReplaceState:function(s,l,h){s=s._reactInternals;var b=Ei(),A=Js(b);A.tag=1,A.payload=l,h!=null&&(A.callback=h),l=Qs(s,A,b),l!==null&&(Qr(l,s,b),Yf(l,s,b))},enqueueForceUpdate:function(s,l){s=s._reactInternals;var h=Ei(),b=Js(h);b.tag=2,l!=null&&(b.callback=l),l=Qs(s,b,h),l!==null&&(Qr(l,s,h),Yf(l,s,h))}};function RO(s,l,h,b,A,j,I){return s=s.stateNode,typeof s.shouldComponentUpdate=="function"?s.shouldComponentUpdate(b,j,I):l.prototype&&l.prototype.isPureReactComponent?!qs(h,b)||!qs(A,j):!0}function LO(s,l,h,b){s=l.state,typeof l.componentWillReceiveProps=="function"&&l.componentWillReceiveProps(h,b),typeof l.UNSAFE_componentWillReceiveProps=="function"&&l.UNSAFE_componentWillReceiveProps(h,b),l.state!==s&&o_.enqueueReplaceState(l,l.state,null)}function vc(s,l){var h=l;if("ref"in l){h={};for(var b in l)b!=="ref"&&(h[b]=l[b])}if(s=s.defaultProps){h===l&&(h=p({},h));for(var A in s)h[A]===void 0&&(h[A]=s[A])}return h}function IO(s){sc(s)}function $O(s){console.error(s)}function BO(s){sc(s)}function mg(s,l){try{var h=s.onUncaughtError;h(l.value,{componentStack:l.stack})}catch(b){setTimeout(function(){throw b})}}function zO(s,l,h){try{var b=s.onCaughtError;b(h.value,{componentStack:h.stack,errorBoundary:l.tag===1?l.stateNode:null})}catch(A){setTimeout(function(){throw A})}}function s_(s,l,h){return h=Js(h),h.tag=3,h.payload={element:null},h.callback=function(){mg(s,l)},h}function UO(s){return s=Js(s),s.tag=3,s}function HO(s,l,h,b){var A=h.type.getDerivedStateFromError;if(typeof A=="function"){var j=b.value;s.payload=function(){return A(j)},s.callback=function(){zO(l,h,b)}}var I=h.stateNode;I!==null&&typeof I.componentDidCatch=="function"&&(s.callback=function(){zO(l,h,b),typeof A!="function"&&(al===null?al=new Set([this]):al.add(this));var G=b.stack;this.componentDidCatch(b.value,{componentStack:G!==null?G:""})})}function MU(s,l,h,b,A){if(h.flags|=32768,b!==null&&typeof b=="object"&&typeof b.then=="function"){if(l=h.alternate,l!==null&&ju(l,h,A,!0),h=xi.current,h!==null){switch(h.tag){case 31:case 13:return Zi===null?Ag():h.alternate===null&&bn===0&&(bn=3),h.flags&=-257,h.flags|=65536,h.lanes=A,b===tg?h.flags|=16384:(l=h.updateQueue,l===null?h.updateQueue=new Set([b]):l.add(b),M_(s,b,A)),!1;case 22:return h.flags|=65536,b===tg?h.flags|=16384:(l=h.updateQueue,l===null?(l={transitions:null,markerInstances:null,retryQueue:new Set([b])},h.updateQueue=l):(h=l.retryQueue,h===null?l.retryQueue=new Set([b]):h.add(b)),M_(s,b,A)),!1}throw Error(r(435,h.tag))}return M_(s,b,A),Ag(),!1}if(ut)return l=xi.current,l!==null?((l.flags&65536)===0&&(l.flags|=256),l.flags|=65536,l.lanes=A,b!==Ou&&(s=Error(r(422),{cause:b}),dc(y(s,h)))):(b!==Ou&&(l=Error(r(423),{cause:b}),dc(y(l,h))),s=s.current.alternate,s.flags|=65536,A&=-A,s.lanes|=A,b=y(b,h),A=s_(s.stateNode,b,A),Ix(s,A),bn!==4&&(bn=2)),!1;var j=Error(r(520),{cause:b});if(j=y(j,h),oh===null?oh=[j]:oh.push(j),bn!==4&&(bn=2),l===null)return!0;b=y(b,h),h=l;do{switch(h.tag){case 3:return h.flags|=65536,s=A&-A,h.lanes|=s,s=s_(h.stateNode,b,s),Ix(h,s),!1;case 1:if(l=h.type,j=h.stateNode,(h.flags&128)===0&&(typeof l.getDerivedStateFromError=="function"||j!==null&&typeof j.componentDidCatch=="function"&&(al===null||!al.has(j))))return h.flags|=65536,A&=-A,h.lanes|=A,A=UO(A),HO(A,s,h,b),Ix(h,A),!1}h=h.return}while(h!==null);return!1}var l_=Error(r(461)),Nn=!1;function dr(s,l,h,b){l.child=s===null?YT(l,null,h,b):yc(l,s.child,h,b)}function FO(s,l,h,b,A){h=h.render;var j=l.ref;if("ref"in b){var I={};for(var G in b)G!=="ref"&&(I[G]=b[G])}else I=b;return hc(l),b=Fx(s,l,h,I,j,A),G=Gx(),s!==null&&!Nn?(qx(s,l,A),Ho(s,l,A)):(ut&&G&&$n(l),l.flags|=1,dr(s,l,b,A),l.child)}function GO(s,l,h,b,A){if(s===null){var j=h.type;return typeof j=="function"&&!Au(j)&&j.defaultProps===void 0&&h.compare===null?(l.tag=15,l.type=j,qO(s,l,j,b,A)):(s=uc(h.type,null,b,l,l.mode,A),s.ref=l.ref,s.return=l,l.child=s)}if(j=s.child,!g_(s,A)){var I=j.memoizedProps;if(h=h.compare,h=h!==null?h:qs,h(I,b)&&s.ref===l.ref)return Ho(s,l,A)}return l.flags|=1,s=Vi(j,b),s.ref=l.ref,s.return=l,l.child=s}function qO(s,l,h,b,A){if(s!==null){var j=s.memoizedProps;if(qs(j,b)&&s.ref===l.ref)if(Nn=!1,l.pendingProps=b=j,g_(s,A))(s.flags&131072)!==0&&(Nn=!0);else return l.lanes=s.lanes,Ho(s,l,A)}return c_(s,l,h,b,A)}function YO(s,l,h,b){var A=b.children,j=s!==null?s.memoizedState:null;if(s===null&&l.stateNode===null&&(l.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),b.mode==="hidden"){if((l.flags&128)!==0){if(j=j!==null?j.baseLanes|h:h,s!==null){for(b=l.child=s.child,A=0;b!==null;)A=A|b.lanes|b.childLanes,b=b.sibling;b=A&~j}else b=0,l.child=null;return KO(s,l,j,h,b)}if((h&536870912)!==0)l.memoizedState={baseLanes:0,cachePool:null},s!==null&&Qp(l,j!==null?j.cachePool:null),j!==null?VT(l,j):Bx(),ZT(l);else return b=l.lanes=536870912,KO(s,l,j!==null?j.baseLanes|h:h,h,b)}else j!==null?(Qp(l,j.cachePool),VT(l,j),tl(),l.memoizedState=null):(s!==null&&Qp(l,null),Bx(),tl());return dr(s,l,A,h),l.child}function Qf(s,l){return s!==null&&s.tag===22||l.stateNode!==null||(l.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),l.sibling}function KO(s,l,h,b,A){var j=Px();return j=j===null?null:{parent:On._currentValue,pool:j},l.memoizedState={baseLanes:h,cachePool:j},s!==null&&Qp(l,null),Bx(),ZT(l),s!==null&&ju(s,l,b,!0),l.childLanes=A,null}function pg(s,l){return l=yg({mode:l.mode,children:l.children},s.mode),l.ref=s.ref,s.child=l,l.return=s,l}function WO(s,l,h){return yc(l,s.child,null,h),s=pg(l,l.pendingProps),s.flags|=2,_i(l),l.memoizedState=null,s}function PU(s,l,h){var b=l.pendingProps,A=(l.flags&128)!==0;if(l.flags&=-129,s===null){if(ut){if(b.mode==="hidden")return s=pg(l,b),l.lanes=536870912,Qf(null,s);if(Ux(l),(s=wt)?(s=oN(s,Wr),s=s!==null&&s.data==="&"?s:null,s!==null&&(l.memoizedState={dehydrated:s,treeContext:ge!==null?{id:Ae,overflow:Re}:null,retryLane:536870912,hydrationErrors:null},h=$f(s),h.return=l,l.child=h,_t=l,wt=null)):s=null,s===null)throw ro(l);return l.lanes=536870912,null}return pg(l,b)}var j=s.memoizedState;if(j!==null){var I=j.dehydrated;if(Ux(l),A)if(l.flags&256)l.flags&=-257,l=WO(s,l,h);else if(l.memoizedState!==null)l.child=s.child,l.flags|=128,l=null;else throw Error(r(558));else if(Nn||ju(s,l,h,!1),A=(h&s.childLanes)!==0,Nn||A){if(b=Ht,b!==null&&(I=kp(b,h),I!==0&&I!==j.retryLane))throw j.retryLane=I,Wi(s,I),Qr(b,s,I),l_;Ag(),l=WO(s,l,h)}else s=j.treeContext,wt=Xi(I.nextSibling),_t=l,ut=!0,no=null,Wr=!1,s!==null&&Nr(l,s),l=pg(l,b),l.flags|=4096;return l}return s=Vi(s.child,{mode:b.mode,children:b.children}),s.ref=l.ref,l.child=s,s.return=l,s}function gg(s,l){var h=l.ref;if(h===null)s!==null&&s.ref!==null&&(l.flags|=4194816);else{if(typeof h!="function"&&typeof h!="object")throw Error(r(284));(s===null||s.ref!==h)&&(l.flags|=4194816)}}function c_(s,l,h,b,A){return hc(l),h=Fx(s,l,h,b,void 0,A),b=Gx(),s!==null&&!Nn?(qx(s,l,A),Ho(s,l,A)):(ut&&b&&$n(l),l.flags|=1,dr(s,l,h,A),l.child)}function VO(s,l,h,b,A,j){return hc(l),l.updateQueue=null,h=JT(l,b,h,A),XT(s),b=Gx(),s!==null&&!Nn?(qx(s,l,j),Ho(s,l,j)):(ut&&b&&$n(l),l.flags|=1,dr(s,l,h,j),l.child)}function ZO(s,l,h,b,A){if(hc(l),l.stateNode===null){var j=Lo,I=h.contextType;typeof I=="object"&&I!==null&&(j=ur(I)),j=new h(b,j),l.memoizedState=j.state!==null&&j.state!==void 0?j.state:null,j.updater=o_,l.stateNode=j,j._reactInternals=l,j=l.stateNode,j.props=b,j.state=l.memoizedState,j.refs={},Rx(l),I=h.contextType,j.context=typeof I=="object"&&I!==null?ur(I):Lo,j.state=l.memoizedState,I=h.getDerivedStateFromProps,typeof I=="function"&&(a_(l,h,I,b),j.state=l.memoizedState),typeof h.getDerivedStateFromProps=="function"||typeof j.getSnapshotBeforeUpdate=="function"||typeof j.UNSAFE_componentWillMount!="function"&&typeof j.componentWillMount!="function"||(I=j.state,typeof j.componentWillMount=="function"&&j.componentWillMount(),typeof j.UNSAFE_componentWillMount=="function"&&j.UNSAFE_componentWillMount(),I!==j.state&&o_.enqueueReplaceState(j,j.state,null),Wf(l,b,j,A),Kf(),j.state=l.memoizedState),typeof j.componentDidMount=="function"&&(l.flags|=4194308),b=!0}else if(s===null){j=l.stateNode;var G=l.memoizedProps,te=vc(h,G);j.props=te;var he=j.context,Ee=h.contextType;I=Lo,typeof Ee=="object"&&Ee!==null&&(I=ur(Ee));var Te=h.getDerivedStateFromProps;Ee=typeof Te=="function"||typeof j.getSnapshotBeforeUpdate=="function",G=l.pendingProps!==G,Ee||typeof j.UNSAFE_componentWillReceiveProps!="function"&&typeof j.componentWillReceiveProps!="function"||(G||he!==I)&&LO(l,j,b,I),Xs=!1;var ye=l.memoizedState;j.state=ye,Wf(l,b,j,A),Kf(),he=l.memoizedState,G||ye!==he||Xs?(typeof Te=="function"&&(a_(l,h,Te,b),he=l.memoizedState),(te=Xs||RO(l,h,te,b,ye,he,I))?(Ee||typeof j.UNSAFE_componentWillMount!="function"&&typeof j.componentWillMount!="function"||(typeof j.componentWillMount=="function"&&j.componentWillMount(),typeof j.UNSAFE_componentWillMount=="function"&&j.UNSAFE_componentWillMount()),typeof j.componentDidMount=="function"&&(l.flags|=4194308)):(typeof j.componentDidMount=="function"&&(l.flags|=4194308),l.memoizedProps=b,l.memoizedState=he),j.props=b,j.state=he,j.context=I,b=te):(typeof j.componentDidMount=="function"&&(l.flags|=4194308),b=!1)}else{j=l.stateNode,Lx(s,l),I=l.memoizedProps,Ee=vc(h,I),j.props=Ee,Te=l.pendingProps,ye=j.context,he=h.contextType,te=Lo,typeof he=="object"&&he!==null&&(te=ur(he)),G=h.getDerivedStateFromProps,(he=typeof G=="function"||typeof j.getSnapshotBeforeUpdate=="function")||typeof j.UNSAFE_componentWillReceiveProps!="function"&&typeof j.componentWillReceiveProps!="function"||(I!==Te||ye!==te)&&LO(l,j,b,te),Xs=!1,ye=l.memoizedState,j.state=ye,Wf(l,b,j,A),Kf();var xe=l.memoizedState;I!==Te||ye!==xe||Xs||s!==null&&s.dependencies!==null&&Xp(s.dependencies)?(typeof G=="function"&&(a_(l,h,G,b),xe=l.memoizedState),(Ee=Xs||RO(l,h,Ee,b,ye,xe,te)||s!==null&&s.dependencies!==null&&Xp(s.dependencies))?(he||typeof j.UNSAFE_componentWillUpdate!="function"&&typeof j.componentWillUpdate!="function"||(typeof j.componentWillUpdate=="function"&&j.componentWillUpdate(b,xe,te),typeof j.UNSAFE_componentWillUpdate=="function"&&j.UNSAFE_componentWillUpdate(b,xe,te)),typeof j.componentDidUpdate=="function"&&(l.flags|=4),typeof j.getSnapshotBeforeUpdate=="function"&&(l.flags|=1024)):(typeof j.componentDidUpdate!="function"||I===s.memoizedProps&&ye===s.memoizedState||(l.flags|=4),typeof j.getSnapshotBeforeUpdate!="function"||I===s.memoizedProps&&ye===s.memoizedState||(l.flags|=1024),l.memoizedProps=b,l.memoizedState=xe),j.props=b,j.state=xe,j.context=te,b=Ee):(typeof j.componentDidUpdate!="function"||I===s.memoizedProps&&ye===s.memoizedState||(l.flags|=4),typeof j.getSnapshotBeforeUpdate!="function"||I===s.memoizedProps&&ye===s.memoizedState||(l.flags|=1024),b=!1)}return j=b,gg(s,l),b=(l.flags&128)!==0,j||b?(j=l.stateNode,h=b&&typeof h.getDerivedStateFromError!="function"?null:j.render(),l.flags|=1,s!==null&&b?(l.child=yc(l,s.child,null,A),l.child=yc(l,null,h,A)):dr(s,l,h,A),l.memoizedState=j.state,s=l.child):s=Ho(s,l,A),s}function XO(s,l,h,b){return $o(),l.flags|=256,dr(s,l,h,b),l.child}var u_={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function d_(s){return{baseLanes:s,cachePool:zT()}}function f_(s,l,h){return s=s!==null?s.childLanes&~h:0,l&&(s|=Si),s}function JO(s,l,h){var b=l.pendingProps,A=!1,j=(l.flags&128)!==0,I;if((I=j)||(I=s!==null&&s.memoizedState===null?!1:(wn.current&2)!==0),I&&(A=!0,l.flags&=-129),I=(l.flags&32)!==0,l.flags&=-33,s===null){if(ut){if(A?el(l):tl(),(s=wt)?(s=oN(s,Wr),s=s!==null&&s.data!=="&"?s:null,s!==null&&(l.memoizedState={dehydrated:s,treeContext:ge!==null?{id:Ae,overflow:Re}:null,retryLane:536870912,hydrationErrors:null},h=$f(s),h.return=l,l.child=h,_t=l,wt=null)):s=null,s===null)throw ro(l);return W_(s)?l.lanes=32:l.lanes=536870912,null}var G=b.children;return b=b.fallback,A?(tl(),A=l.mode,G=yg({mode:"hidden",children:G},A),b=Io(b,A,h,null),G.return=l,b.return=l,G.sibling=b,l.child=G,b=l.child,b.memoizedState=d_(h),b.childLanes=f_(s,I,h),l.memoizedState=u_,Qf(null,b)):(el(l),h_(l,G))}var te=s.memoizedState;if(te!==null&&(G=te.dehydrated,G!==null)){if(j)l.flags&256?(el(l),l.flags&=-257,l=m_(s,l,h)):l.memoizedState!==null?(tl(),l.child=s.child,l.flags|=128,l=null):(tl(),G=b.fallback,A=l.mode,b=yg({mode:"visible",children:b.children},A),G=Io(G,A,h,null),G.flags|=2,b.return=l,G.return=l,b.sibling=G,l.child=b,yc(l,s.child,null,h),b=l.child,b.memoizedState=d_(h),b.childLanes=f_(s,I,h),l.memoizedState=u_,l=Qf(null,b));else if(el(l),W_(G)){if(I=G.nextSibling&&G.nextSibling.dataset,I)var he=I.dgst;I=he,b=Error(r(419)),b.stack="",b.digest=I,dc({value:b,source:null,stack:null}),l=m_(s,l,h)}else if(Nn||ju(s,l,h,!1),I=(h&s.childLanes)!==0,Nn||I){if(I=Ht,I!==null&&(b=kp(I,h),b!==0&&b!==te.retryLane))throw te.retryLane=b,Wi(s,b),Qr(I,s,b),l_;K_(G)||Ag(),l=m_(s,l,h)}else K_(G)?(l.flags|=192,l.child=s.child,l=null):(s=te.treeContext,wt=Xi(G.nextSibling),_t=l,ut=!0,no=null,Wr=!1,s!==null&&Nr(l,s),l=h_(l,b.children),l.flags|=4096);return l}return A?(tl(),G=b.fallback,A=l.mode,te=s.child,he=te.sibling,b=Vi(te,{mode:"hidden",children:b.children}),b.subtreeFlags=te.subtreeFlags&65011712,he!==null?G=Vi(he,G):(G=Io(G,A,h,null),G.flags|=2),G.return=l,b.return=l,b.sibling=G,l.child=b,Qf(null,b),b=l.child,G=s.child.memoizedState,G===null?G=d_(h):(A=G.cachePool,A!==null?(te=On._currentValue,A=A.parent!==te?{parent:te,pool:te}:A):A=zT(),G={baseLanes:G.baseLanes|h,cachePool:A}),b.memoizedState=G,b.childLanes=f_(s,I,h),l.memoizedState=u_,Qf(s.child,b)):(el(l),h=s.child,s=h.sibling,h=Vi(h,{mode:"visible",children:b.children}),h.return=l,h.sibling=null,s!==null&&(I=l.deletions,I===null?(l.deletions=[s],l.flags|=16):I.push(s)),l.child=h,l.memoizedState=null,h)}function h_(s,l){return l=yg({mode:"visible",children:l},s.mode),l.return=s,s.child=l}function yg(s,l){return s=wr(22,s,null,l),s.lanes=0,s}function m_(s,l,h){return yc(l,s.child,null,h),s=h_(l,l.pendingProps.children),s.flags|=2,l.memoizedState=null,s}function QO(s,l,h){s.lanes|=l;var b=s.alternate;b!==null&&(b.lanes|=l),jx(s.return,l,h)}function p_(s,l,h,b,A,j){var I=s.memoizedState;I===null?s.memoizedState={isBackwards:l,rendering:null,renderingStartTime:0,last:b,tail:h,tailMode:A,treeForkCount:j}:(I.isBackwards=l,I.rendering=null,I.renderingStartTime=0,I.last=b,I.tail=h,I.tailMode=A,I.treeForkCount=j)}function ej(s,l,h){var b=l.pendingProps,A=b.revealOrder,j=b.tail;b=b.children;var I=wn.current,G=(I&2)!==0;if(G?(I=I&1|2,l.flags|=128):I&=1,ae(wn,I),dr(s,l,b,h),b=ut?U:0,!G&&s!==null&&(s.flags&128)!==0)e:for(s=l.child;s!==null;){if(s.tag===13)s.memoizedState!==null&&QO(s,h,l);else if(s.tag===19)QO(s,h,l);else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===l)break e;for(;s.sibling===null;){if(s.return===null||s.return===l)break e;s=s.return}s.sibling.return=s.return,s=s.sibling}switch(A){case"forwards":for(h=l.child,A=null;h!==null;)s=h.alternate,s!==null&&ag(s)===null&&(A=h),h=h.sibling;h=A,h===null?(A=l.child,l.child=null):(A=h.sibling,h.sibling=null),p_(l,!1,A,h,j,b);break;case"backwards":case"unstable_legacy-backwards":for(h=null,A=l.child,l.child=null;A!==null;){if(s=A.alternate,s!==null&&ag(s)===null){l.child=A;break}s=A.sibling,A.sibling=h,h=A,A=s}p_(l,!0,h,null,j,b);break;case"together":p_(l,!1,null,null,void 0,b);break;default:l.memoizedState=null}return l.child}function Ho(s,l,h){if(s!==null&&(l.dependencies=s.dependencies),il|=l.lanes,(h&l.childLanes)===0)if(s!==null){if(ju(s,l,h,!1),(h&l.childLanes)===0)return null}else return null;if(s!==null&&l.child!==s.child)throw Error(r(153));if(l.child!==null){for(s=l.child,h=Vi(s,s.pendingProps),l.child=h,h.return=l;s.sibling!==null;)s=s.sibling,h=h.sibling=Vi(s,s.pendingProps),h.return=l;h.sibling=null}return l.child}function g_(s,l){return(s.lanes&l)!==0?!0:(s=s.dependencies,!!(s!==null&&Xp(s)))}function DU(s,l,h){switch(l.tag){case 3:be(l,l.stateNode.containerInfo),Zs(l,On,s.memoizedState.cache),$o();break;case 27:case 5:Oe(l);break;case 4:be(l,l.stateNode.containerInfo);break;case 10:Zs(l,l.type,l.memoizedProps.value);break;case 31:if(l.memoizedState!==null)return l.flags|=128,Ux(l),null;break;case 13:var b=l.memoizedState;if(b!==null)return b.dehydrated!==null?(el(l),l.flags|=128,null):(h&l.child.childLanes)!==0?JO(s,l,h):(el(l),s=Ho(s,l,h),s!==null?s.sibling:null);el(l);break;case 19:var A=(s.flags&128)!==0;if(b=(h&l.childLanes)!==0,b||(ju(s,l,h,!1),b=(h&l.childLanes)!==0),A){if(b)return ej(s,l,h);l.flags|=128}if(A=l.memoizedState,A!==null&&(A.rendering=null,A.tail=null,A.lastEffect=null),ae(wn,wn.current),b)break;return null;case 22:return l.lanes=0,YO(s,l,h,l.pendingProps);case 24:Zs(l,On,s.memoizedState.cache)}return Ho(s,l,h)}function tj(s,l,h){if(s!==null)if(s.memoizedProps!==l.pendingProps)Nn=!0;else{if(!g_(s,h)&&(l.flags&128)===0)return Nn=!1,DU(s,l,h);Nn=(s.flags&131072)!==0}else Nn=!1,ut&&(l.flags&1048576)!==0&&ot(l,U,l.index);switch(l.lanes=0,l.tag){case 16:e:{var b=l.pendingProps;if(s=pc(l.elementType),l.type=s,typeof s=="function")Au(s)?(b=vc(s,b),l.tag=1,l=ZO(null,l,s,b,h)):(l.tag=0,l=c_(null,l,s,b,h));else{if(s!=null){var A=s.$$typeof;if(A===P){l.tag=11,l=FO(null,l,s,b,h);break e}else if(A===$){l.tag=14,l=GO(null,l,s,b,h);break e}}throw l=Q(s)||s,Error(r(306,l,""))}}return l;case 0:return c_(s,l,l.type,l.pendingProps,h);case 1:return b=l.type,A=vc(b,l.pendingProps),ZO(s,l,b,A,h);case 3:e:{if(be(l,l.stateNode.containerInfo),s===null)throw Error(r(387));b=l.pendingProps;var j=l.memoizedState;A=j.element,Lx(s,l),Wf(l,b,null,h);var I=l.memoizedState;if(b=I.cache,Zs(l,On,b),b!==j.cache&&Nx(l,[On],h,!0),Kf(),b=I.element,j.isDehydrated)if(j={element:b,isDehydrated:!1,cache:I.cache},l.updateQueue.baseState=j,l.memoizedState=j,l.flags&256){l=XO(s,l,b,h);break e}else if(b!==A){A=y(Error(r(424)),l),dc(A),l=XO(s,l,b,h);break e}else{switch(s=l.stateNode.containerInfo,s.nodeType){case 9:s=s.body;break;default:s=s.nodeName==="HTML"?s.ownerDocument.body:s}for(wt=Xi(s.firstChild),_t=l,ut=!0,no=null,Wr=!0,h=YT(l,null,b,h),l.child=h;h;)h.flags=h.flags&-3|4096,h=h.sibling}else{if($o(),b===A){l=Ho(s,l,h);break e}dr(s,l,b,h)}l=l.child}return l;case 26:return gg(s,l),s===null?(h=fN(l.type,null,l.pendingProps,null))?l.memoizedState=h:ut||(h=l.type,s=l.pendingProps,b=Pg(me.current).createElement(h),b[An]=l,b[Xn]=s,fr(b,h,s),Tn(b),l.stateNode=b):l.memoizedState=fN(l.type,s.memoizedProps,l.pendingProps,s.memoizedState),null;case 27:return Oe(l),s===null&&ut&&(b=l.stateNode=cN(l.type,l.pendingProps,me.current),_t=l,Wr=!0,A=wt,cl(l.type)?(V_=A,wt=Xi(b.firstChild)):wt=A),dr(s,l,l.pendingProps.children,h),gg(s,l),s===null&&(l.flags|=4194304),l.child;case 5:return s===null&&ut&&((A=b=wt)&&(b=uH(b,l.type,l.pendingProps,Wr),b!==null?(l.stateNode=b,_t=l,wt=Xi(b.firstChild),Wr=!1,A=!0):A=!1),A||ro(l)),Oe(l),A=l.type,j=l.pendingProps,I=s!==null?s.memoizedProps:null,b=j.children,G_(A,j)?b=null:I!==null&&G_(A,I)&&(l.flags|=32),l.memoizedState!==null&&(A=Fx(s,l,kU,null,null,h),mh._currentValue=A),gg(s,l),dr(s,l,b,h),l.child;case 6:return s===null&&ut&&((s=h=wt)&&(h=dH(h,l.pendingProps,Wr),h!==null?(l.stateNode=h,_t=l,wt=null,s=!0):s=!1),s||ro(l)),null;case 13:return JO(s,l,h);case 4:return be(l,l.stateNode.containerInfo),b=l.pendingProps,s===null?l.child=yc(l,null,b,h):dr(s,l,b,h),l.child;case 11:return FO(s,l,l.type,l.pendingProps,h);case 7:return dr(s,l,l.pendingProps,h),l.child;case 8:return dr(s,l,l.pendingProps.children,h),l.child;case 12:return dr(s,l,l.pendingProps.children,h),l.child;case 10:return b=l.pendingProps,Zs(l,l.type,b.value),dr(s,l,b.children,h),l.child;case 9:return A=l.type._context,b=l.pendingProps.children,hc(l),A=ur(A),b=b(A),l.flags|=1,dr(s,l,b,h),l.child;case 14:return GO(s,l,l.type,l.pendingProps,h);case 15:return qO(s,l,l.type,l.pendingProps,h);case 19:return ej(s,l,h);case 31:return PU(s,l,h);case 22:return YO(s,l,h,l.pendingProps);case 24:return hc(l),b=ur(On),s===null?(A=Px(),A===null&&(A=Ht,j=Cx(),A.pooledCache=j,j.refCount++,j!==null&&(A.pooledCacheLanes|=h),A=j),l.memoizedState={parent:b,cache:A},Rx(l),Zs(l,On,A)):((s.lanes&h)!==0&&(Lx(s,l),Wf(l,null,null,h),Kf()),A=s.memoizedState,j=l.memoizedState,A.parent!==b?(A={parent:b,cache:b},l.memoizedState=A,l.lanes===0&&(l.memoizedState=l.updateQueue.baseState=A),Zs(l,On,b)):(b=j.cache,Zs(l,On,b),b!==A.cache&&Nx(l,[On],h,!0))),dr(s,l,l.pendingProps.children,h),l.child;case 29:throw l.pendingProps}throw Error(r(156,l.tag))}function Fo(s){s.flags|=4}function y_(s,l,h,b,A){if((l=(s.mode&32)!==0)&&(l=!1),l){if(s.flags|=16777216,(A&335544128)===A)if(s.stateNode.complete)s.flags|=8192;else if(Oj())s.flags|=8192;else throw gc=tg,Dx}else s.flags&=-16777217}function nj(s,l){if(l.type!=="stylesheet"||(l.state.loading&4)!==0)s.flags&=-16777217;else if(s.flags|=16777216,!yN(l))if(Oj())s.flags|=8192;else throw gc=tg,Dx}function bg(s,l){l!==null&&(s.flags|=4),s.flags&16384&&(l=s.tag!==22?wp():536870912,s.lanes|=l,Uu|=l)}function eh(s,l){if(!ut)switch(s.tailMode){case"hidden":l=s.tail;for(var h=null;l!==null;)l.alternate!==null&&(h=l),l=l.sibling;h===null?s.tail=null:h.sibling=null;break;case"collapsed":h=s.tail;for(var b=null;h!==null;)h.alternate!==null&&(b=h),h=h.sibling;b===null?l||s.tail===null?s.tail=null:s.tail.sibling=null:b.sibling=null}}function Xt(s){var l=s.alternate!==null&&s.alternate.child===s.child,h=0,b=0;if(l)for(var A=s.child;A!==null;)h|=A.lanes|A.childLanes,b|=A.subtreeFlags&65011712,b|=A.flags&65011712,A.return=s,A=A.sibling;else for(A=s.child;A!==null;)h|=A.lanes|A.childLanes,b|=A.subtreeFlags,b|=A.flags,A.return=s,A=A.sibling;return s.subtreeFlags|=b,s.childLanes=h,l}function RU(s,l,h){var b=l.pendingProps;switch(gn(l),l.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Xt(l),null;case 1:return Xt(l),null;case 3:return h=l.stateNode,b=null,s!==null&&(b=s.memoizedState.cache),l.memoizedState.cache!==b&&(l.flags|=2048),Bo(On),ne(),h.pendingContext&&(h.context=h.pendingContext,h.pendingContext=null),(s===null||s.child===null)&&(Sa(l)?Fo(l):s===null||s.memoizedState.isDehydrated&&(l.flags&256)===0||(l.flags|=1024,Uf())),Xt(l),null;case 26:var A=l.type,j=l.memoizedState;return s===null?(Fo(l),j!==null?(Xt(l),nj(l,j)):(Xt(l),y_(l,A,null,b,h))):j?j!==s.memoizedState?(Fo(l),Xt(l),nj(l,j)):(Xt(l),l.flags&=-16777217):(s=s.memoizedProps,s!==b&&Fo(l),Xt(l),y_(l,A,s,b,h)),null;case 27:if(Ce(l),h=me.current,A=l.type,s!==null&&l.stateNode!=null)s.memoizedProps!==b&&Fo(l);else{if(!b){if(l.stateNode===null)throw Error(r(166));return Xt(l),null}s=V.current,Sa(l)?zf(l):(s=cN(A,b,h),l.stateNode=s,Fo(l))}return Xt(l),null;case 5:if(Ce(l),A=l.type,s!==null&&l.stateNode!=null)s.memoizedProps!==b&&Fo(l);else{if(!b){if(l.stateNode===null)throw Error(r(166));return Xt(l),null}if(j=V.current,Sa(l))zf(l);else{var I=Pg(me.current);switch(j){case 1:j=I.createElementNS("http://www.w3.org/2000/svg",A);break;case 2:j=I.createElementNS("http://www.w3.org/1998/Math/MathML",A);break;default:switch(A){case"svg":j=I.createElementNS("http://www.w3.org/2000/svg",A);break;case"math":j=I.createElementNS("http://www.w3.org/1998/Math/MathML",A);break;case"script":j=I.createElement("div"),j.innerHTML="<script><\/script>",j=j.removeChild(j.firstChild);break;case"select":j=typeof b.is=="string"?I.createElement("select",{is:b.is}):I.createElement("select"),b.multiple?j.multiple=!0:b.size&&(j.size=b.size);break;default:j=typeof b.is=="string"?I.createElement(A,{is:b.is}):I.createElement(A)}}j[An]=l,j[Xn]=b;e:for(I=l.child;I!==null;){if(I.tag===5||I.tag===6)j.appendChild(I.stateNode);else if(I.tag!==4&&I.tag!==27&&I.child!==null){I.child.return=I,I=I.child;continue}if(I===l)break e;for(;I.sibling===null;){if(I.return===null||I.return===l)break e;I=I.return}I.sibling.return=I.return,I=I.sibling}l.stateNode=j;e:switch(fr(j,A,b),A){case"button":case"input":case"select":case"textarea":b=!!b.autoFocus;break e;case"img":b=!0;break e;default:b=!1}b&&Fo(l)}}return Xt(l),y_(l,l.type,s===null?null:s.memoizedProps,l.pendingProps,h),null;case 6:if(s&&l.stateNode!=null)s.memoizedProps!==b&&Fo(l);else{if(typeof b!="string"&&l.stateNode===null)throw Error(r(166));if(s=me.current,Sa(l)){if(s=l.stateNode,h=l.memoizedProps,b=null,A=_t,A!==null)switch(A.tag){case 27:case 5:b=A.memoizedProps}s[An]=l,s=!!(s.nodeValue===h||b!==null&&b.suppressHydrationWarning===!0||Jj(s.nodeValue,h)),s||ro(l,!0)}else s=Pg(s).createTextNode(b),s[An]=l,l.stateNode=s}return Xt(l),null;case 31:if(h=l.memoizedState,s===null||s.memoizedState!==null){if(b=Sa(l),h!==null){if(s===null){if(!b)throw Error(r(318));if(s=l.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(r(557));s[An]=l}else $o(),(l.flags&128)===0&&(l.memoizedState=null),l.flags|=4;Xt(l),s=!1}else h=Uf(),s!==null&&s.memoizedState!==null&&(s.memoizedState.hydrationErrors=h),s=!0;if(!s)return l.flags&256?(_i(l),l):(_i(l),null);if((l.flags&128)!==0)throw Error(r(558))}return Xt(l),null;case 13:if(b=l.memoizedState,s===null||s.memoizedState!==null&&s.memoizedState.dehydrated!==null){if(A=Sa(l),b!==null&&b.dehydrated!==null){if(s===null){if(!A)throw Error(r(318));if(A=l.memoizedState,A=A!==null?A.dehydrated:null,!A)throw Error(r(317));A[An]=l}else $o(),(l.flags&128)===0&&(l.memoizedState=null),l.flags|=4;Xt(l),A=!1}else A=Uf(),s!==null&&s.memoizedState!==null&&(s.memoizedState.hydrationErrors=A),A=!0;if(!A)return l.flags&256?(_i(l),l):(_i(l),null)}return _i(l),(l.flags&128)!==0?(l.lanes=h,l):(h=b!==null,s=s!==null&&s.memoizedState!==null,h&&(b=l.child,A=null,b.alternate!==null&&b.alternate.memoizedState!==null&&b.alternate.memoizedState.cachePool!==null&&(A=b.alternate.memoizedState.cachePool.pool),j=null,b.memoizedState!==null&&b.memoizedState.cachePool!==null&&(j=b.memoizedState.cachePool.pool),j!==A&&(b.flags|=2048)),h!==s&&h&&(l.child.flags|=8192),bg(l,l.updateQueue),Xt(l),null);case 4:return ne(),s===null&&B_(l.stateNode.containerInfo),Xt(l),null;case 10:return Bo(l.type),Xt(l),null;case 19:if(W(wn),b=l.memoizedState,b===null)return Xt(l),null;if(A=(l.flags&128)!==0,j=b.rendering,j===null)if(A)eh(b,!1);else{if(bn!==0||s!==null&&(s.flags&128)!==0)for(s=l.child;s!==null;){if(j=ag(s),j!==null){for(l.flags|=128,eh(b,!1),s=j.updateQueue,l.updateQueue=s,bg(l,s),l.subtreeFlags=0,s=h,h=l.child;h!==null;)If(h,s),h=h.sibling;return ae(wn,wn.current&1|2),ut&&qe(l,b.treeForkCount),l.child}s=s.sibling}b.tail!==null&&Be()>Sg&&(l.flags|=128,A=!0,eh(b,!1),l.lanes=4194304)}else{if(!A)if(s=ag(j),s!==null){if(l.flags|=128,A=!0,s=s.updateQueue,l.updateQueue=s,bg(l,s),eh(b,!0),b.tail===null&&b.tailMode==="hidden"&&!j.alternate&&!ut)return Xt(l),null}else 2*Be()-b.renderingStartTime>Sg&&h!==536870912&&(l.flags|=128,A=!0,eh(b,!1),l.lanes=4194304);b.isBackwards?(j.sibling=l.child,l.child=j):(s=b.last,s!==null?s.sibling=j:l.child=j,b.last=j)}return b.tail!==null?(s=b.tail,b.rendering=s,b.tail=s.sibling,b.renderingStartTime=Be(),s.sibling=null,h=wn.current,ae(wn,A?h&1|2:h&1),ut&&qe(l,b.treeForkCount),s):(Xt(l),null);case 22:case 23:return _i(l),zx(),b=l.memoizedState!==null,s!==null?s.memoizedState!==null!==b&&(l.flags|=8192):b&&(l.flags|=8192),b?(h&536870912)!==0&&(l.flags&128)===0&&(Xt(l),l.subtreeFlags&6&&(l.flags|=8192)):Xt(l),h=l.updateQueue,h!==null&&bg(l,h.retryQueue),h=null,s!==null&&s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(h=s.memoizedState.cachePool.pool),b=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(b=l.memoizedState.cachePool.pool),b!==h&&(l.flags|=2048),s!==null&&W(mc),null;case 24:return h=null,s!==null&&(h=s.memoizedState.cache),l.memoizedState.cache!==h&&(l.flags|=2048),Bo(On),Xt(l),null;case 25:return null;case 30:return null}throw Error(r(156,l.tag))}function LU(s,l){switch(gn(l),l.tag){case 1:return s=l.flags,s&65536?(l.flags=s&-65537|128,l):null;case 3:return Bo(On),ne(),s=l.flags,(s&65536)!==0&&(s&128)===0?(l.flags=s&-65537|128,l):null;case 26:case 27:case 5:return Ce(l),null;case 31:if(l.memoizedState!==null){if(_i(l),l.alternate===null)throw Error(r(340));$o()}return s=l.flags,s&65536?(l.flags=s&-65537|128,l):null;case 13:if(_i(l),s=l.memoizedState,s!==null&&s.dehydrated!==null){if(l.alternate===null)throw Error(r(340));$o()}return s=l.flags,s&65536?(l.flags=s&-65537|128,l):null;case 19:return W(wn),null;case 4:return ne(),null;case 10:return Bo(l.type),null;case 22:case 23:return _i(l),zx(),s!==null&&W(mc),s=l.flags,s&65536?(l.flags=s&-65537|128,l):null;case 24:return Bo(On),null;case 25:return null;default:return null}}function rj(s,l){switch(gn(l),l.tag){case 3:Bo(On),ne();break;case 26:case 27:case 5:Ce(l);break;case 4:ne();break;case 31:l.memoizedState!==null&&_i(l);break;case 13:_i(l);break;case 19:W(wn);break;case 10:Bo(l.type);break;case 22:case 23:_i(l),zx(),s!==null&&W(mc);break;case 24:Bo(On)}}function th(s,l){try{var h=l.updateQueue,b=h!==null?h.lastEffect:null;if(b!==null){var A=b.next;h=A;do{if((h.tag&s)===s){b=void 0;var j=h.create,I=h.inst;b=j(),I.destroy=b}h=h.next}while(h!==A)}}catch(G){Rt(l,l.return,G)}}function nl(s,l,h){try{var b=l.updateQueue,A=b!==null?b.lastEffect:null;if(A!==null){var j=A.next;b=j;do{if((b.tag&s)===s){var I=b.inst,G=I.destroy;if(G!==void 0){I.destroy=void 0,A=l;var te=h,he=G;try{he()}catch(Ee){Rt(A,te,Ee)}}}b=b.next}while(b!==j)}}catch(Ee){Rt(l,l.return,Ee)}}function ij(s){var l=s.updateQueue;if(l!==null){var h=s.stateNode;try{WT(l,h)}catch(b){Rt(s,s.return,b)}}}function aj(s,l,h){h.props=vc(s.type,s.memoizedProps),h.state=s.memoizedState;try{h.componentWillUnmount()}catch(b){Rt(s,l,b)}}function nh(s,l){try{var h=s.ref;if(h!==null){switch(s.tag){case 26:case 27:case 5:var b=s.stateNode;break;case 30:b=s.stateNode;break;default:b=s.stateNode}typeof h=="function"?s.refCleanup=h(b):h.current=b}}catch(A){Rt(s,l,A)}}function ao(s,l){var h=s.ref,b=s.refCleanup;if(h!==null)if(typeof b=="function")try{b()}catch(A){Rt(s,l,A)}finally{s.refCleanup=null,s=s.alternate,s!=null&&(s.refCleanup=null)}else if(typeof h=="function")try{h(null)}catch(A){Rt(s,l,A)}else h.current=null}function oj(s){var l=s.type,h=s.memoizedProps,b=s.stateNode;try{e:switch(l){case"button":case"input":case"select":case"textarea":h.autoFocus&&b.focus();break e;case"img":h.src?b.src=h.src:h.srcSet&&(b.srcset=h.srcSet)}}catch(A){Rt(s,s.return,A)}}function b_(s,l,h){try{var b=s.stateNode;iH(b,s.type,h,l),b[Xn]=l}catch(A){Rt(s,s.return,A)}}function sj(s){return s.tag===5||s.tag===3||s.tag===26||s.tag===27&&cl(s.type)||s.tag===4}function v_(s){e:for(;;){for(;s.sibling===null;){if(s.return===null||sj(s.return))return null;s=s.return}for(s.sibling.return=s.return,s=s.sibling;s.tag!==5&&s.tag!==6&&s.tag!==18;){if(s.tag===27&&cl(s.type)||s.flags&2||s.child===null||s.tag===4)continue e;s.child.return=s,s=s.child}if(!(s.flags&2))return s.stateNode}}function x_(s,l,h){var b=s.tag;if(b===5||b===6)s=s.stateNode,l?(h.nodeType===9?h.body:h.nodeName==="HTML"?h.ownerDocument.body:h).insertBefore(s,l):(l=h.nodeType===9?h.body:h.nodeName==="HTML"?h.ownerDocument.body:h,l.appendChild(s),h=h._reactRootContainer,h!=null||l.onclick!==null||(l.onclick=Gr));else if(b!==4&&(b===27&&cl(s.type)&&(h=s.stateNode,l=null),s=s.child,s!==null))for(x_(s,l,h),s=s.sibling;s!==null;)x_(s,l,h),s=s.sibling}function vg(s,l,h){var b=s.tag;if(b===5||b===6)s=s.stateNode,l?h.insertBefore(s,l):h.appendChild(s);else if(b!==4&&(b===27&&cl(s.type)&&(h=s.stateNode),s=s.child,s!==null))for(vg(s,l,h),s=s.sibling;s!==null;)vg(s,l,h),s=s.sibling}function lj(s){var l=s.stateNode,h=s.memoizedProps;try{for(var b=s.type,A=l.attributes;A.length;)l.removeAttributeNode(A[0]);fr(l,b,h),l[An]=s,l[Xn]=h}catch(j){Rt(s,s.return,j)}}var Go=!1,Cn=!1,__=!1,cj=typeof WeakSet=="function"?WeakSet:Set,er=null;function IU(s,l){if(s=s.containerInfo,H_=zg,s=rc(s),Xa(s)){if("selectionStart"in s)var h={start:s.selectionStart,end:s.selectionEnd};else e:{h=(h=s.ownerDocument)&&h.defaultView||window;var b=h.getSelection&&h.getSelection();if(b&&b.rangeCount!==0){h=b.anchorNode;var A=b.anchorOffset,j=b.focusNode;b=b.focusOffset;try{h.nodeType,j.nodeType}catch{h=null;break e}var I=0,G=-1,te=-1,he=0,Ee=0,Te=s,ye=null;t:for(;;){for(var xe;Te!==h||A!==0&&Te.nodeType!==3||(G=I+A),Te!==j||b!==0&&Te.nodeType!==3||(te=I+b),Te.nodeType===3&&(I+=Te.nodeValue.length),(xe=Te.firstChild)!==null;)ye=Te,Te=xe;for(;;){if(Te===s)break t;if(ye===h&&++he===A&&(G=I),ye===j&&++Ee===b&&(te=I),(xe=Te.nextSibling)!==null)break;Te=ye,ye=Te.parentNode}Te=xe}h=G===-1||te===-1?null:{start:G,end:te}}else h=null}h=h||{start:0,end:0}}else h=null;for(F_={focusedElem:s,selectionRange:h},zg=!1,er=l;er!==null;)if(l=er,s=l.child,(l.subtreeFlags&1028)!==0&&s!==null)s.return=l,er=s;else for(;er!==null;){switch(l=er,j=l.alternate,s=l.flags,l.tag){case 0:if((s&4)!==0&&(s=l.updateQueue,s=s!==null?s.events:null,s!==null))for(h=0;h<s.length;h++)A=s[h],A.ref.impl=A.nextImpl;break;case 11:case 15:break;case 1:if((s&1024)!==0&&j!==null){s=void 0,h=l,A=j.memoizedProps,j=j.memoizedState,b=h.stateNode;try{var ze=vc(h.type,A);s=b.getSnapshotBeforeUpdate(ze,j),b.__reactInternalSnapshotBeforeUpdate=s}catch(Qe){Rt(h,h.return,Qe)}}break;case 3:if((s&1024)!==0){if(s=l.stateNode.containerInfo,h=s.nodeType,h===9)Y_(s);else if(h===1)switch(s.nodeName){case"HEAD":case"HTML":case"BODY":Y_(s);break;default:s.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((s&1024)!==0)throw Error(r(163))}if(s=l.sibling,s!==null){s.return=l.return,er=s;break}er=l.return}}function uj(s,l,h){var b=h.flags;switch(h.tag){case 0:case 11:case 15:Yo(s,h),b&4&&th(5,h);break;case 1:if(Yo(s,h),b&4)if(s=h.stateNode,l===null)try{s.componentDidMount()}catch(I){Rt(h,h.return,I)}else{var A=vc(h.type,l.memoizedProps);l=l.memoizedState;try{s.componentDidUpdate(A,l,s.__reactInternalSnapshotBeforeUpdate)}catch(I){Rt(h,h.return,I)}}b&64&&ij(h),b&512&&nh(h,h.return);break;case 3:if(Yo(s,h),b&64&&(s=h.updateQueue,s!==null)){if(l=null,h.child!==null)switch(h.child.tag){case 27:case 5:l=h.child.stateNode;break;case 1:l=h.child.stateNode}try{WT(s,l)}catch(I){Rt(h,h.return,I)}}break;case 27:l===null&&b&4&&lj(h);case 26:case 5:Yo(s,h),l===null&&b&4&&oj(h),b&512&&nh(h,h.return);break;case 12:Yo(s,h);break;case 31:Yo(s,h),b&4&&hj(s,h);break;case 13:Yo(s,h),b&4&&mj(s,h),b&64&&(s=h.memoizedState,s!==null&&(s=s.dehydrated,s!==null&&(h=YU.bind(null,h),fH(s,h))));break;case 22:if(b=h.memoizedState!==null||Go,!b){l=l!==null&&l.memoizedState!==null||Cn,A=Go;var j=Cn;Go=b,(Cn=l)&&!j?Ko(s,h,(h.subtreeFlags&8772)!==0):Yo(s,h),Go=A,Cn=j}break;case 30:break;default:Yo(s,h)}}function dj(s){var l=s.alternate;l!==null&&(s.alternate=null,dj(l)),s.child=null,s.deletions=null,s.sibling=null,s.tag===5&&(l=s.stateNode,l!==null&&vf(l)),s.stateNode=null,s.return=null,s.dependencies=null,s.memoizedProps=null,s.memoizedState=null,s.pendingProps=null,s.stateNode=null,s.updateQueue=null}var tn=null,Vr=!1;function qo(s,l,h){for(h=h.child;h!==null;)fj(s,l,h),h=h.sibling}function fj(s,l,h){if(mn&&typeof mn.onCommitFiberUnmount=="function")try{mn.onCommitFiberUnmount(qt,h)}catch{}switch(h.tag){case 26:Cn||ao(h,l),qo(s,l,h),h.memoizedState?h.memoizedState.count--:h.stateNode&&(h=h.stateNode,h.parentNode.removeChild(h));break;case 27:Cn||ao(h,l);var b=tn,A=Vr;cl(h.type)&&(tn=h.stateNode,Vr=!1),qo(s,l,h),dh(h.stateNode),tn=b,Vr=A;break;case 5:Cn||ao(h,l);case 6:if(b=tn,A=Vr,tn=null,qo(s,l,h),tn=b,Vr=A,tn!==null)if(Vr)try{(tn.nodeType===9?tn.body:tn.nodeName==="HTML"?tn.ownerDocument.body:tn).removeChild(h.stateNode)}catch(j){Rt(h,l,j)}else try{tn.removeChild(h.stateNode)}catch(j){Rt(h,l,j)}break;case 18:tn!==null&&(Vr?(s=tn,iN(s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s,h.stateNode),Vu(s)):iN(tn,h.stateNode));break;case 4:b=tn,A=Vr,tn=h.stateNode.containerInfo,Vr=!0,qo(s,l,h),tn=b,Vr=A;break;case 0:case 11:case 14:case 15:nl(2,h,l),Cn||nl(4,h,l),qo(s,l,h);break;case 1:Cn||(ao(h,l),b=h.stateNode,typeof b.componentWillUnmount=="function"&&aj(h,l,b)),qo(s,l,h);break;case 21:qo(s,l,h);break;case 22:Cn=(b=Cn)||h.memoizedState!==null,qo(s,l,h),Cn=b;break;default:qo(s,l,h)}}function hj(s,l){if(l.memoizedState===null&&(s=l.alternate,s!==null&&(s=s.memoizedState,s!==null))){s=s.dehydrated;try{Vu(s)}catch(h){Rt(l,l.return,h)}}}function mj(s,l){if(l.memoizedState===null&&(s=l.alternate,s!==null&&(s=s.memoizedState,s!==null&&(s=s.dehydrated,s!==null))))try{Vu(s)}catch(h){Rt(l,l.return,h)}}function $U(s){switch(s.tag){case 31:case 13:case 19:var l=s.stateNode;return l===null&&(l=s.stateNode=new cj),l;case 22:return s=s.stateNode,l=s._retryCache,l===null&&(l=s._retryCache=new cj),l;default:throw Error(r(435,s.tag))}}function xg(s,l){var h=$U(s);l.forEach(function(b){if(!h.has(b)){h.add(b);var A=KU.bind(null,s,b);b.then(A,A)}})}function Zr(s,l){var h=l.deletions;if(h!==null)for(var b=0;b<h.length;b++){var A=h[b],j=s,I=l,G=I;e:for(;G!==null;){switch(G.tag){case 27:if(cl(G.type)){tn=G.stateNode,Vr=!1;break e}break;case 5:tn=G.stateNode,Vr=!1;break e;case 3:case 4:tn=G.stateNode.containerInfo,Vr=!0;break e}G=G.return}if(tn===null)throw Error(r(160));fj(j,I,A),tn=null,Vr=!1,j=A.alternate,j!==null&&(j.return=null),A.return=null}if(l.subtreeFlags&13886)for(l=l.child;l!==null;)pj(l,s),l=l.sibling}var ka=null;function pj(s,l){var h=s.alternate,b=s.flags;switch(s.tag){case 0:case 11:case 14:case 15:Zr(l,s),Xr(s),b&4&&(nl(3,s,s.return),th(3,s),nl(5,s,s.return));break;case 1:Zr(l,s),Xr(s),b&512&&(Cn||h===null||ao(h,h.return)),b&64&&Go&&(s=s.updateQueue,s!==null&&(b=s.callbacks,b!==null&&(h=s.shared.hiddenCallbacks,s.shared.hiddenCallbacks=h===null?b:h.concat(b))));break;case 26:var A=ka;if(Zr(l,s),Xr(s),b&512&&(Cn||h===null||ao(h,h.return)),b&4){var j=h!==null?h.memoizedState:null;if(b=s.memoizedState,h===null)if(b===null)if(s.stateNode===null){e:{b=s.type,h=s.memoizedProps,A=A.ownerDocument||A;t:switch(b){case"title":j=A.getElementsByTagName("title")[0],(!j||j[Ul]||j[An]||j.namespaceURI==="http://www.w3.org/2000/svg"||j.hasAttribute("itemprop"))&&(j=A.createElement(b),A.head.insertBefore(j,A.querySelector("head > title"))),fr(j,b,h),j[An]=s,Tn(j),b=j;break e;case"link":var I=pN("link","href",A).get(b+(h.href||""));if(I){for(var G=0;G<I.length;G++)if(j=I[G],j.getAttribute("href")===(h.href==null||h.href===""?null:h.href)&&j.getAttribute("rel")===(h.rel==null?null:h.rel)&&j.getAttribute("title")===(h.title==null?null:h.title)&&j.getAttribute("crossorigin")===(h.crossOrigin==null?null:h.crossOrigin)){I.splice(G,1);break t}}j=A.createElement(b),fr(j,b,h),A.head.appendChild(j);break;case"meta":if(I=pN("meta","content",A).get(b+(h.content||""))){for(G=0;G<I.length;G++)if(j=I[G],j.getAttribute("content")===(h.content==null?null:""+h.content)&&j.getAttribute("name")===(h.name==null?null:h.name)&&j.getAttribute("property")===(h.property==null?null:h.property)&&j.getAttribute("http-equiv")===(h.httpEquiv==null?null:h.httpEquiv)&&j.getAttribute("charset")===(h.charSet==null?null:h.charSet)){I.splice(G,1);break t}}j=A.createElement(b),fr(j,b,h),A.head.appendChild(j);break;default:throw Error(r(468,b))}j[An]=s,Tn(j),b=j}s.stateNode=b}else gN(A,s.type,s.stateNode);else s.stateNode=mN(A,b,s.memoizedProps);else j!==b?(j===null?h.stateNode!==null&&(h=h.stateNode,h.parentNode.removeChild(h)):j.count--,b===null?gN(A,s.type,s.stateNode):mN(A,b,s.memoizedProps)):b===null&&s.stateNode!==null&&b_(s,s.memoizedProps,h.memoizedProps)}break;case 27:Zr(l,s),Xr(s),b&512&&(Cn||h===null||ao(h,h.return)),h!==null&&b&4&&b_(s,s.memoizedProps,h.memoizedProps);break;case 5:if(Zr(l,s),Xr(s),b&512&&(Cn||h===null||ao(h,h.return)),s.flags&32){A=s.stateNode;try{Hi(A,"")}catch(ze){Rt(s,s.return,ze)}}b&4&&s.stateNode!=null&&(A=s.memoizedProps,b_(s,A,h!==null?h.memoizedProps:A)),b&1024&&(__=!0);break;case 6:if(Zr(l,s),Xr(s),b&4){if(s.stateNode===null)throw Error(r(162));b=s.memoizedProps,h=s.stateNode;try{h.nodeValue=b}catch(ze){Rt(s,s.return,ze)}}break;case 3:if(Lg=null,A=ka,ka=Dg(l.containerInfo),Zr(l,s),ka=A,Xr(s),b&4&&h!==null&&h.memoizedState.isDehydrated)try{Vu(l.containerInfo)}catch(ze){Rt(s,s.return,ze)}__&&(__=!1,gj(s));break;case 4:b=ka,ka=Dg(s.stateNode.containerInfo),Zr(l,s),Xr(s),ka=b;break;case 12:Zr(l,s),Xr(s);break;case 31:Zr(l,s),Xr(s),b&4&&(b=s.updateQueue,b!==null&&(s.updateQueue=null,xg(s,b)));break;case 13:Zr(l,s),Xr(s),s.child.flags&8192&&s.memoizedState!==null!=(h!==null&&h.memoizedState!==null)&&(wg=Be()),b&4&&(b=s.updateQueue,b!==null&&(s.updateQueue=null,xg(s,b)));break;case 22:A=s.memoizedState!==null;var te=h!==null&&h.memoizedState!==null,he=Go,Ee=Cn;if(Go=he||A,Cn=Ee||te,Zr(l,s),Cn=Ee,Go=he,Xr(s),b&8192)e:for(l=s.stateNode,l._visibility=A?l._visibility&-2:l._visibility|1,A&&(h===null||te||Go||Cn||xc(s)),h=null,l=s;;){if(l.tag===5||l.tag===26){if(h===null){te=h=l;try{if(j=te.stateNode,A)I=j.style,typeof I.setProperty=="function"?I.setProperty("display","none","important"):I.display="none";else{G=te.stateNode;var Te=te.memoizedProps.style,ye=Te!=null&&Te.hasOwnProperty("display")?Te.display:null;G.style.display=ye==null||typeof ye=="boolean"?"":(""+ye).trim()}}catch(ze){Rt(te,te.return,ze)}}}else if(l.tag===6){if(h===null){te=l;try{te.stateNode.nodeValue=A?"":te.memoizedProps}catch(ze){Rt(te,te.return,ze)}}}else if(l.tag===18){if(h===null){te=l;try{var xe=te.stateNode;A?aN(xe,!0):aN(te.stateNode,!1)}catch(ze){Rt(te,te.return,ze)}}}else if((l.tag!==22&&l.tag!==23||l.memoizedState===null||l===s)&&l.child!==null){l.child.return=l,l=l.child;continue}if(l===s)break e;for(;l.sibling===null;){if(l.return===null||l.return===s)break e;h===l&&(h=null),l=l.return}h===l&&(h=null),l.sibling.return=l.return,l=l.sibling}b&4&&(b=s.updateQueue,b!==null&&(h=b.retryQueue,h!==null&&(b.retryQueue=null,xg(s,h))));break;case 19:Zr(l,s),Xr(s),b&4&&(b=s.updateQueue,b!==null&&(s.updateQueue=null,xg(s,b)));break;case 30:break;case 21:break;default:Zr(l,s),Xr(s)}}function Xr(s){var l=s.flags;if(l&2){try{for(var h,b=s.return;b!==null;){if(sj(b)){h=b;break}b=b.return}if(h==null)throw Error(r(160));switch(h.tag){case 27:var A=h.stateNode,j=v_(s);vg(s,j,A);break;case 5:var I=h.stateNode;h.flags&32&&(Hi(I,""),h.flags&=-33);var G=v_(s);vg(s,G,I);break;case 3:case 4:var te=h.stateNode.containerInfo,he=v_(s);x_(s,he,te);break;default:throw Error(r(161))}}catch(Ee){Rt(s,s.return,Ee)}s.flags&=-3}l&4096&&(s.flags&=-4097)}function gj(s){if(s.subtreeFlags&1024)for(s=s.child;s!==null;){var l=s;gj(l),l.tag===5&&l.flags&1024&&l.stateNode.reset(),s=s.sibling}}function Yo(s,l){if(l.subtreeFlags&8772)for(l=l.child;l!==null;)uj(s,l.alternate,l),l=l.sibling}function xc(s){for(s=s.child;s!==null;){var l=s;switch(l.tag){case 0:case 11:case 14:case 15:nl(4,l,l.return),xc(l);break;case 1:ao(l,l.return);var h=l.stateNode;typeof h.componentWillUnmount=="function"&&aj(l,l.return,h),xc(l);break;case 27:dh(l.stateNode);case 26:case 5:ao(l,l.return),xc(l);break;case 22:l.memoizedState===null&&xc(l);break;case 30:xc(l);break;default:xc(l)}s=s.sibling}}function Ko(s,l,h){for(h=h&&(l.subtreeFlags&8772)!==0,l=l.child;l!==null;){var b=l.alternate,A=s,j=l,I=j.flags;switch(j.tag){case 0:case 11:case 15:Ko(A,j,h),th(4,j);break;case 1:if(Ko(A,j,h),b=j,A=b.stateNode,typeof A.componentDidMount=="function")try{A.componentDidMount()}catch(he){Rt(b,b.return,he)}if(b=j,A=b.updateQueue,A!==null){var G=b.stateNode;try{var te=A.shared.hiddenCallbacks;if(te!==null)for(A.shared.hiddenCallbacks=null,A=0;A<te.length;A++)KT(te[A],G)}catch(he){Rt(b,b.return,he)}}h&&I&64&&ij(j),nh(j,j.return);break;case 27:lj(j);case 26:case 5:Ko(A,j,h),h&&b===null&&I&4&&oj(j),nh(j,j.return);break;case 12:Ko(A,j,h);break;case 31:Ko(A,j,h),h&&I&4&&hj(A,j);break;case 13:Ko(A,j,h),h&&I&4&&mj(A,j);break;case 22:j.memoizedState===null&&Ko(A,j,h),nh(j,j.return);break;case 30:break;default:Ko(A,j,h)}l=l.sibling}}function w_(s,l){var h=null;s!==null&&s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(h=s.memoizedState.cachePool.pool),s=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(s=l.memoizedState.cachePool.pool),s!==h&&(s!=null&&s.refCount++,h!=null&&Hf(h))}function S_(s,l){s=null,l.alternate!==null&&(s=l.alternate.memoizedState.cache),l=l.memoizedState.cache,l!==s&&(l.refCount++,s!=null&&Hf(s))}function Aa(s,l,h,b){if(l.subtreeFlags&10256)for(l=l.child;l!==null;)yj(s,l,h,b),l=l.sibling}function yj(s,l,h,b){var A=l.flags;switch(l.tag){case 0:case 11:case 15:Aa(s,l,h,b),A&2048&&th(9,l);break;case 1:Aa(s,l,h,b);break;case 3:Aa(s,l,h,b),A&2048&&(s=null,l.alternate!==null&&(s=l.alternate.memoizedState.cache),l=l.memoizedState.cache,l!==s&&(l.refCount++,s!=null&&Hf(s)));break;case 12:if(A&2048){Aa(s,l,h,b),s=l.stateNode;try{var j=l.memoizedProps,I=j.id,G=j.onPostCommit;typeof G=="function"&&G(I,l.alternate===null?"mount":"update",s.passiveEffectDuration,-0)}catch(te){Rt(l,l.return,te)}}else Aa(s,l,h,b);break;case 31:Aa(s,l,h,b);break;case 13:Aa(s,l,h,b);break;case 23:break;case 22:j=l.stateNode,I=l.alternate,l.memoizedState!==null?j._visibility&2?Aa(s,l,h,b):rh(s,l):j._visibility&2?Aa(s,l,h,b):(j._visibility|=2,$u(s,l,h,b,(l.subtreeFlags&10256)!==0||!1)),A&2048&&w_(I,l);break;case 24:Aa(s,l,h,b),A&2048&&S_(l.alternate,l);break;default:Aa(s,l,h,b)}}function $u(s,l,h,b,A){for(A=A&&((l.subtreeFlags&10256)!==0||!1),l=l.child;l!==null;){var j=s,I=l,G=h,te=b,he=I.flags;switch(I.tag){case 0:case 11:case 15:$u(j,I,G,te,A),th(8,I);break;case 23:break;case 22:var Ee=I.stateNode;I.memoizedState!==null?Ee._visibility&2?$u(j,I,G,te,A):rh(j,I):(Ee._visibility|=2,$u(j,I,G,te,A)),A&&he&2048&&w_(I.alternate,I);break;case 24:$u(j,I,G,te,A),A&&he&2048&&S_(I.alternate,I);break;default:$u(j,I,G,te,A)}l=l.sibling}}function rh(s,l){if(l.subtreeFlags&10256)for(l=l.child;l!==null;){var h=s,b=l,A=b.flags;switch(b.tag){case 22:rh(h,b),A&2048&&w_(b.alternate,b);break;case 24:rh(h,b),A&2048&&S_(b.alternate,b);break;default:rh(h,b)}l=l.sibling}}var ih=8192;function Bu(s,l,h){if(s.subtreeFlags&ih)for(s=s.child;s!==null;)bj(s,l,h),s=s.sibling}function bj(s,l,h){switch(s.tag){case 26:Bu(s,l,h),s.flags&ih&&s.memoizedState!==null&&EH(h,ka,s.memoizedState,s.memoizedProps);break;case 5:Bu(s,l,h);break;case 3:case 4:var b=ka;ka=Dg(s.stateNode.containerInfo),Bu(s,l,h),ka=b;break;case 22:s.memoizedState===null&&(b=s.alternate,b!==null&&b.memoizedState!==null?(b=ih,ih=16777216,Bu(s,l,h),ih=b):Bu(s,l,h));break;default:Bu(s,l,h)}}function vj(s){var l=s.alternate;if(l!==null&&(s=l.child,s!==null)){l.child=null;do l=s.sibling,s.sibling=null,s=l;while(s!==null)}}function ah(s){var l=s.deletions;if((s.flags&16)!==0){if(l!==null)for(var h=0;h<l.length;h++){var b=l[h];er=b,_j(b,s)}vj(s)}if(s.subtreeFlags&10256)for(s=s.child;s!==null;)xj(s),s=s.sibling}function xj(s){switch(s.tag){case 0:case 11:case 15:ah(s),s.flags&2048&&nl(9,s,s.return);break;case 3:ah(s);break;case 12:ah(s);break;case 22:var l=s.stateNode;s.memoizedState!==null&&l._visibility&2&&(s.return===null||s.return.tag!==13)?(l._visibility&=-3,_g(s)):ah(s);break;default:ah(s)}}function _g(s){var l=s.deletions;if((s.flags&16)!==0){if(l!==null)for(var h=0;h<l.length;h++){var b=l[h];er=b,_j(b,s)}vj(s)}for(s=s.child;s!==null;){switch(l=s,l.tag){case 0:case 11:case 15:nl(8,l,l.return),_g(l);break;case 22:h=l.stateNode,h._visibility&2&&(h._visibility&=-3,_g(l));break;default:_g(l)}s=s.sibling}}function _j(s,l){for(;er!==null;){var h=er;switch(h.tag){case 0:case 11:case 15:nl(8,h,l);break;case 23:case 22:if(h.memoizedState!==null&&h.memoizedState.cachePool!==null){var b=h.memoizedState.cachePool.pool;b!=null&&b.refCount++}break;case 24:Hf(h.memoizedState.cache)}if(b=h.child,b!==null)b.return=h,er=b;else e:for(h=s;er!==null;){b=er;var A=b.sibling,j=b.return;if(dj(b),b===h){er=null;break e}if(A!==null){A.return=j,er=A;break e}er=j}}}var BU={getCacheForType:function(s){var l=ur(On),h=l.data.get(s);return h===void 0&&(h=s(),l.data.set(s,h)),h},cacheSignal:function(){return ur(On).controller.signal}},zU=typeof WeakMap=="function"?WeakMap:Map,Tt=0,Ht=null,dt=null,mt=0,Dt=0,wi=null,rl=!1,zu=!1,E_=!1,Wo=0,bn=0,il=0,_c=0,k_=0,Si=0,Uu=0,oh=null,Jr=null,A_=!1,wg=0,wj=0,Sg=1/0,Eg=null,al=null,Bn=0,ol=null,Hu=null,Vo=0,T_=0,O_=null,Sj=null,sh=0,j_=null;function Ei(){return(Tt&2)!==0&&mt!==0?mt&-mt:q.T!==null?R_():yf()}function Ej(){if(Si===0)if((mt&536870912)===0||ut){var s=$l;$l<<=1,($l&3932160)===0&&($l=262144),Si=s}else Si=536870912;return s=xi.current,s!==null&&(s.flags|=32),Si}function Qr(s,l,h){(s===Ht&&(Dt===2||Dt===9)||s.cancelPendingCommit!==null)&&(Fu(s,0),sl(s,mt,Si,!1)),Oo(s,h),((Tt&2)===0||s!==Ht)&&(s===Ht&&((Tt&2)===0&&(_c|=h),bn===4&&sl(s,mt,Si,!1)),oo(s))}function kj(s,l,h){if((Tt&6)!==0)throw Error(r(327));var b=!h&&(l&127)===0&&(l&s.expiredLanes)===0||zl(s,l),A=b?FU(s,l):C_(s,l,!0),j=b;do{if(A===0){zu&&!b&&sl(s,l,0,!1);break}else{if(h=s.current.alternate,j&&!UU(h)){A=C_(s,l,!1),j=!1;continue}if(A===2){if(j=l,s.errorRecoveryDisabledLanes&j)var I=0;else I=s.pendingLanes&-536870913,I=I!==0?I:I&536870912?536870912:0;if(I!==0){l=I;e:{var G=s;A=oh;var te=G.current.memoizedState.isDehydrated;if(te&&(Fu(G,I).flags|=256),I=C_(G,I,!1),I!==2){if(E_&&!te){G.errorRecoveryDisabledLanes|=j,_c|=j,A=4;break e}j=Jr,Jr=A,j!==null&&(Jr===null?Jr=j:Jr.push.apply(Jr,j))}A=I}if(j=!1,A!==2)continue}}if(A===1){Fu(s,0),sl(s,l,0,!0);break}e:{switch(b=s,j=A,j){case 0:case 1:throw Error(r(345));case 4:if((l&4194048)!==l)break;case 6:sl(b,l,Si,!rl);break e;case 2:Jr=null;break;case 3:case 5:break;default:throw Error(r(329))}if((l&62914560)===l&&(A=wg+300-Be(),10<A)){if(sl(b,l,Si,!rl),cu(b,0,!0)!==0)break e;Vo=l,b.timeoutHandle=nN(Aj.bind(null,b,h,Jr,Eg,A_,l,Si,_c,Uu,rl,j,"Throttled",-0,0),A);break e}Aj(b,h,Jr,Eg,A_,l,Si,_c,Uu,rl,j,null,-0,0)}}break}while(!0);oo(s)}function Aj(s,l,h,b,A,j,I,G,te,he,Ee,Te,ye,xe){if(s.timeoutHandle=-1,Te=l.subtreeFlags,Te&8192||(Te&16785408)===16785408){Te={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Gr},bj(l,j,Te);var ze=(j&62914560)===j?wg-Be():(j&4194048)===j?wj-Be():0;if(ze=kH(Te,ze),ze!==null){Vo=j,s.cancelPendingCommit=ze(Dj.bind(null,s,l,j,h,b,A,I,G,te,Ee,Te,null,ye,xe)),sl(s,j,I,!he);return}}Dj(s,l,j,h,b,A,I,G,te)}function UU(s){for(var l=s;;){var h=l.tag;if((h===0||h===11||h===15)&&l.flags&16384&&(h=l.updateQueue,h!==null&&(h=h.stores,h!==null)))for(var b=0;b<h.length;b++){var A=h[b],j=A.getSnapshot;A=A.value;try{if(!Jn(j(),A))return!1}catch{return!1}}if(h=l.child,l.subtreeFlags&16384&&h!==null)h.return=l,l=h;else{if(l===s)break;for(;l.sibling===null;){if(l.return===null||l.return===s)return!0;l=l.return}l.sibling.return=l.return,l=l.sibling}}return!0}function sl(s,l,h,b){l&=~k_,l&=~_c,s.suspendedLanes|=l,s.pingedLanes&=~l,b&&(s.warmLanes|=l),b=s.expirationTimes;for(var A=l;0<A;){var j=31-Or(A),I=1<<j;b[j]=-1,A&=~I}h!==0&&Sp(s,h,l)}function kg(){return(Tt&6)===0?(lh(0),!1):!0}function N_(){if(dt!==null){if(Dt===0)var s=dt.return;else s=dt,Ea=io=null,Yx(s),Pu=null,Gf=0,s=dt;for(;s!==null;)rj(s.alternate,s),s=s.return;dt=null}}function Fu(s,l){var h=s.timeoutHandle;h!==-1&&(s.timeoutHandle=-1,sH(h)),h=s.cancelPendingCommit,h!==null&&(s.cancelPendingCommit=null,h()),Vo=0,N_(),Ht=s,dt=h=Vi(s.current,null),mt=l,Dt=0,wi=null,rl=!1,zu=zl(s,l),E_=!1,Uu=Si=k_=_c=il=bn=0,Jr=oh=null,A_=!1,(l&8)!==0&&(l|=l&32);var b=s.entangledLanes;if(b!==0)for(s=s.entanglements,b&=l;0<b;){var A=31-Or(b),j=1<<A;l|=s[A],b&=~j}return Wo=l,lc(),h}function Tj(s,l){it=null,q.H=Jf,l===Mu||l===eg?(l=FT(),Dt=3):l===Dx?(l=FT(),Dt=4):Dt=l===l_?8:l!==null&&typeof l=="object"&&typeof l.then=="function"?6:1,wi=l,dt===null&&(bn=1,mg(s,y(l,s.current)))}function Oj(){var s=xi.current;return s===null?!0:(mt&4194048)===mt?Zi===null:(mt&62914560)===mt||(mt&536870912)!==0?s===Zi:!1}function jj(){var s=q.H;return q.H=Jf,s===null?Jf:s}function Nj(){var s=q.A;return q.A=BU,s}function Ag(){bn=4,rl||(mt&4194048)!==mt&&xi.current!==null||(zu=!0),(il&134217727)===0&&(_c&134217727)===0||Ht===null||sl(Ht,mt,Si,!1)}function C_(s,l,h){var b=Tt;Tt|=2;var A=jj(),j=Nj();(Ht!==s||mt!==l)&&(Eg=null,Fu(s,l)),l=!1;var I=bn;e:do try{if(Dt!==0&&dt!==null){var G=dt,te=wi;switch(Dt){case 8:N_(),I=6;break e;case 3:case 2:case 9:case 6:xi.current===null&&(l=!0);var he=Dt;if(Dt=0,wi=null,Gu(s,G,te,he),h&&zu){I=0;break e}break;default:he=Dt,Dt=0,wi=null,Gu(s,G,te,he)}}HU(),I=bn;break}catch(Ee){Tj(s,Ee)}while(!0);return l&&s.shellSuspendCounter++,Ea=io=null,Tt=b,q.H=A,q.A=j,dt===null&&(Ht=null,mt=0,lc()),I}function HU(){for(;dt!==null;)Cj(dt)}function FU(s,l){var h=Tt;Tt|=2;var b=jj(),A=Nj();Ht!==s||mt!==l?(Eg=null,Sg=Be()+500,Fu(s,l)):zu=zl(s,l);e:do try{if(Dt!==0&&dt!==null){l=dt;var j=wi;t:switch(Dt){case 1:Dt=0,wi=null,Gu(s,l,j,1);break;case 2:case 9:if(UT(j)){Dt=0,wi=null,Mj(l);break}l=function(){Dt!==2&&Dt!==9||Ht!==s||(Dt=7),oo(s)},j.then(l,l);break e;case 3:Dt=7;break e;case 4:Dt=5;break e;case 7:UT(j)?(Dt=0,wi=null,Mj(l)):(Dt=0,wi=null,Gu(s,l,j,7));break;case 5:var I=null;switch(dt.tag){case 26:I=dt.memoizedState;case 5:case 27:var G=dt;if(I?yN(I):G.stateNode.complete){Dt=0,wi=null;var te=G.sibling;if(te!==null)dt=te;else{var he=G.return;he!==null?(dt=he,Tg(he)):dt=null}break t}}Dt=0,wi=null,Gu(s,l,j,5);break;case 6:Dt=0,wi=null,Gu(s,l,j,6);break;case 8:N_(),bn=6;break e;default:throw Error(r(462))}}GU();break}catch(Ee){Tj(s,Ee)}while(!0);return Ea=io=null,q.H=b,q.A=A,Tt=h,dt!==null?0:(Ht=null,mt=0,lc(),bn)}function GU(){for(;dt!==null&&!fe();)Cj(dt)}function Cj(s){var l=tj(s.alternate,s,Wo);s.memoizedProps=s.pendingProps,l===null?Tg(s):dt=l}function Mj(s){var l=s,h=l.alternate;switch(l.tag){case 15:case 0:l=VO(h,l,l.pendingProps,l.type,void 0,mt);break;case 11:l=VO(h,l,l.pendingProps,l.type.render,l.ref,mt);break;case 5:Yx(l);default:rj(h,l),l=dt=If(l,Wo),l=tj(h,l,Wo)}s.memoizedProps=s.pendingProps,l===null?Tg(s):dt=l}function Gu(s,l,h,b){Ea=io=null,Yx(l),Pu=null,Gf=0;var A=l.return;try{if(MU(s,A,l,h,mt)){bn=1,mg(s,y(h,s.current)),dt=null;return}}catch(j){if(A!==null)throw dt=A,j;bn=1,mg(s,y(h,s.current)),dt=null;return}l.flags&32768?(ut||b===1?s=!0:zu||(mt&536870912)!==0?s=!1:(rl=s=!0,(b===2||b===9||b===3||b===6)&&(b=xi.current,b!==null&&b.tag===13&&(b.flags|=16384))),Pj(l,s)):Tg(l)}function Tg(s){var l=s;do{if((l.flags&32768)!==0){Pj(l,rl);return}s=l.return;var h=RU(l.alternate,l,Wo);if(h!==null){dt=h;return}if(l=l.sibling,l!==null){dt=l;return}dt=l=s}while(l!==null);bn===0&&(bn=5)}function Pj(s,l){do{var h=LU(s.alternate,s);if(h!==null){h.flags&=32767,dt=h;return}if(h=s.return,h!==null&&(h.flags|=32768,h.subtreeFlags=0,h.deletions=null),!l&&(s=s.sibling,s!==null)){dt=s;return}dt=s=h}while(s!==null);bn=6,dt=null}function Dj(s,l,h,b,A,j,I,G,te){s.cancelPendingCommit=null;do Og();while(Bn!==0);if((Tt&6)!==0)throw Error(r(327));if(l!==null){if(l===s.current)throw Error(r(177));if(j=l.lanes|l.childLanes,j|=ku,hx(s,h,j,I,G,te),s===Ht&&(dt=Ht=null,mt=0),Hu=l,ol=s,Vo=h,T_=j,O_=A,Sj=b,(l.subtreeFlags&10256)!==0||(l.flags&10256)!==0?(s.callbackNode=null,s.callbackPriority=0,WU(Zn,function(){return Bj(),null})):(s.callbackNode=null,s.callbackPriority=0),b=(l.flags&13878)!==0,(l.subtreeFlags&13878)!==0||b){b=q.T,q.T=null,A=Z.p,Z.p=2,I=Tt,Tt|=4;try{IU(s,l,h)}finally{Tt=I,Z.p=A,q.T=b}}Bn=1,Rj(),Lj(),Ij()}}function Rj(){if(Bn===1){Bn=0;var s=ol,l=Hu,h=(l.flags&13878)!==0;if((l.subtreeFlags&13878)!==0||h){h=q.T,q.T=null;var b=Z.p;Z.p=2;var A=Tt;Tt|=4;try{pj(l,s);var j=F_,I=rc(s.containerInfo),G=j.focusedElem,te=j.selectionRange;if(I!==G&&G&&G.ownerDocument&&_u(G.ownerDocument.documentElement,G)){if(te!==null&&Xa(G)){var he=te.start,Ee=te.end;if(Ee===void 0&&(Ee=he),"selectionStart"in G)G.selectionStart=he,G.selectionEnd=Math.min(Ee,G.value.length);else{var Te=G.ownerDocument||document,ye=Te&&Te.defaultView||window;if(ye.getSelection){var xe=ye.getSelection(),ze=G.textContent.length,Qe=Math.min(te.start,ze),zt=te.end===void 0?Qe:Math.min(te.end,ze);!xe.extend&&Qe>zt&&(I=zt,zt=Qe,Qe=I);var le=nc(G,Qe),ie=nc(G,zt);if(le&&ie&&(xe.rangeCount!==1||xe.anchorNode!==le.node||xe.anchorOffset!==le.offset||xe.focusNode!==ie.node||xe.focusOffset!==ie.offset)){var de=Te.createRange();de.setStart(le.node,le.offset),xe.removeAllRanges(),Qe>zt?(xe.addRange(de),xe.extend(ie.node,ie.offset)):(de.setEnd(ie.node,ie.offset),xe.addRange(de))}}}}for(Te=[],xe=G;xe=xe.parentNode;)xe.nodeType===1&&Te.push({element:xe,left:xe.scrollLeft,top:xe.scrollTop});for(typeof G.focus=="function"&&G.focus(),G=0;G<Te.length;G++){var ke=Te[G];ke.element.scrollLeft=ke.left,ke.element.scrollTop=ke.top}}zg=!!H_,F_=H_=null}finally{Tt=A,Z.p=b,q.T=h}}s.current=l,Bn=2}}function Lj(){if(Bn===2){Bn=0;var s=ol,l=Hu,h=(l.flags&8772)!==0;if((l.subtreeFlags&8772)!==0||h){h=q.T,q.T=null;var b=Z.p;Z.p=2;var A=Tt;Tt|=4;try{uj(s,l.alternate,l)}finally{Tt=A,Z.p=b,q.T=h}}Bn=3}}function Ij(){if(Bn===4||Bn===3){Bn=0,Me();var s=ol,l=Hu,h=Vo,b=Sj;(l.subtreeFlags&10256)!==0||(l.flags&10256)!==0?Bn=5:(Bn=0,Hu=ol=null,$j(s,s.pendingLanes));var A=s.pendingLanes;if(A===0&&(al=null),Fe(h),l=l.stateNode,mn&&typeof mn.onCommitFiberRoot=="function")try{mn.onCommitFiberRoot(qt,l,void 0,(l.current.flags&128)===128)}catch{}if(b!==null){l=q.T,A=Z.p,Z.p=2,q.T=null;try{for(var j=s.onRecoverableError,I=0;I<b.length;I++){var G=b[I];j(G.value,{componentStack:G.stack})}}finally{q.T=l,Z.p=A}}(Vo&3)!==0&&Og(),oo(s),A=s.pendingLanes,(h&261930)!==0&&(A&42)!==0?s===j_?sh++:(sh=0,j_=s):sh=0,lh(0)}}function $j(s,l){(s.pooledCacheLanes&=l)===0&&(l=s.pooledCache,l!=null&&(s.pooledCache=null,Hf(l)))}function Og(){return Rj(),Lj(),Ij(),Bj()}function Bj(){if(Bn!==5)return!1;var s=ol,l=T_;T_=0;var h=Fe(Vo),b=q.T,A=Z.p;try{Z.p=32>h?32:h,q.T=null,h=O_,O_=null;var j=ol,I=Vo;if(Bn=0,Hu=ol=null,Vo=0,(Tt&6)!==0)throw Error(r(331));var G=Tt;if(Tt|=4,xj(j.current),yj(j,j.current,I,h),Tt=G,lh(0,!1),mn&&typeof mn.onPostCommitFiberRoot=="function")try{mn.onPostCommitFiberRoot(qt,j)}catch{}return!0}finally{Z.p=A,q.T=b,$j(s,l)}}function zj(s,l,h){l=y(h,l),l=s_(s.stateNode,l,2),s=Qs(s,l,2),s!==null&&(Oo(s,2),oo(s))}function Rt(s,l,h){if(s.tag===3)zj(s,s,h);else for(;l!==null;){if(l.tag===3){zj(l,s,h);break}else if(l.tag===1){var b=l.stateNode;if(typeof l.type.getDerivedStateFromError=="function"||typeof b.componentDidCatch=="function"&&(al===null||!al.has(b))){s=y(h,s),h=UO(2),b=Qs(l,h,2),b!==null&&(HO(h,b,l,s),Oo(b,2),oo(b));break}}l=l.return}}function M_(s,l,h){var b=s.pingCache;if(b===null){b=s.pingCache=new zU;var A=new Set;b.set(l,A)}else A=b.get(l),A===void 0&&(A=new Set,b.set(l,A));A.has(h)||(E_=!0,A.add(h),s=qU.bind(null,s,l,h),l.then(s,s))}function qU(s,l,h){var b=s.pingCache;b!==null&&b.delete(l),s.pingedLanes|=s.suspendedLanes&h,s.warmLanes&=~h,Ht===s&&(mt&h)===h&&(bn===4||bn===3&&(mt&62914560)===mt&&300>Be()-wg?(Tt&2)===0&&Fu(s,0):k_|=h,Uu===mt&&(Uu=0)),oo(s)}function Uj(s,l){l===0&&(l=wp()),s=Wi(s,l),s!==null&&(Oo(s,l),oo(s))}function YU(s){var l=s.memoizedState,h=0;l!==null&&(h=l.retryLane),Uj(s,h)}function KU(s,l){var h=0;switch(s.tag){case 31:case 13:var b=s.stateNode,A=s.memoizedState;A!==null&&(h=A.retryLane);break;case 19:b=s.stateNode;break;case 22:b=s.stateNode._retryCache;break;default:throw Error(r(314))}b!==null&&b.delete(l),Uj(s,h)}function WU(s,l){return xt(s,l)}var jg=null,qu=null,P_=!1,Ng=!1,D_=!1,ll=0;function oo(s){s!==qu&&s.next===null&&(qu===null?jg=qu=s:qu=qu.next=s),Ng=!0,P_||(P_=!0,ZU())}function lh(s,l){if(!D_&&Ng){D_=!0;do for(var h=!1,b=jg;b!==null;){if(s!==0){var A=b.pendingLanes;if(A===0)var j=0;else{var I=b.suspendedLanes,G=b.pingedLanes;j=(1<<31-Or(42|s)+1)-1,j&=A&~(I&~G),j=j&201326741?j&201326741|1:j?j|2:0}j!==0&&(h=!0,qj(b,j))}else j=mt,j=cu(b,b===Ht?j:0,b.cancelPendingCommit!==null||b.timeoutHandle!==-1),(j&3)===0||zl(b,j)||(h=!0,qj(b,j));b=b.next}while(h);D_=!1}}function VU(){Hj()}function Hj(){Ng=P_=!1;var s=0;ll!==0&&oH()&&(s=ll);for(var l=Be(),h=null,b=jg;b!==null;){var A=b.next,j=Fj(b,l);j===0?(b.next=null,h===null?jg=A:h.next=A,A===null&&(qu=h)):(h=b,(s!==0||(j&3)!==0)&&(Ng=!0)),b=A}Bn!==0&&Bn!==5||lh(s),ll!==0&&(ll=0)}function Fj(s,l){for(var h=s.suspendedLanes,b=s.pingedLanes,A=s.expirationTimes,j=s.pendingLanes&-62914561;0<j;){var I=31-Or(j),G=1<<I,te=A[I];te===-1?((G&h)===0||(G&b)!==0)&&(A[I]=fx(G,l)):te<=l&&(s.expiredLanes|=G),j&=~G}if(l=Ht,h=mt,h=cu(s,s===l?h:0,s.cancelPendingCommit!==null||s.timeoutHandle!==-1),b=s.callbackNode,h===0||s===l&&(Dt===2||Dt===9)||s.cancelPendingCommit!==null)return b!==null&&b!==null&&Pt(b),s.callbackNode=null,s.callbackPriority=0;if((h&3)===0||zl(s,h)){if(l=h&-h,l===s.callbackPriority)return l;switch(b!==null&&Pt(b),Fe(h)){case 2:case 8:h=yt;break;case 32:h=Zn;break;case 268435456:h=mi;break;default:h=Zn}return b=Gj.bind(null,s),h=xt(h,b),s.callbackPriority=l,s.callbackNode=h,l}return b!==null&&b!==null&&Pt(b),s.callbackPriority=2,s.callbackNode=null,2}function Gj(s,l){if(Bn!==0&&Bn!==5)return s.callbackNode=null,s.callbackPriority=0,null;var h=s.callbackNode;if(Og()&&s.callbackNode!==h)return null;var b=mt;return b=cu(s,s===Ht?b:0,s.cancelPendingCommit!==null||s.timeoutHandle!==-1),b===0?null:(kj(s,b,l),Fj(s,Be()),s.callbackNode!=null&&s.callbackNode===h?Gj.bind(null,s):null)}function qj(s,l){if(Og())return null;kj(s,l,!0)}function ZU(){lH(function(){(Tt&6)!==0?xt(jt,VU):Hj()})}function R_(){if(ll===0){var s=Nu;s===0&&(s=Il,Il<<=1,(Il&261888)===0&&(Il=256)),ll=s}return ll}function Yj(s){return s==null||typeof s=="symbol"||typeof s=="boolean"?null:typeof s=="function"?s:Is(""+s)}function Kj(s,l){var h=l.ownerDocument.createElement("input");return h.name=l.name,h.value=l.value,s.id&&h.setAttribute("form",s.id),l.parentNode.insertBefore(h,l),s=new FormData(s),h.parentNode.removeChild(h),s}function XU(s,l,h,b,A){if(l==="submit"&&h&&h.stateNode===A){var j=Yj((A[Xn]||null).action),I=b.submitter;I&&(l=(l=I[Xn]||null)?Yj(l.formAction):I.getAttribute("formAction"),l!==null&&(j=l,I=null));var G=new mu("action","action",null,b,A);s.push({event:G,listeners:[{instance:null,listener:function(){if(b.defaultPrevented){if(ll!==0){var te=I?Kj(A,I):new FormData(A);t_(h,{pending:!0,data:te,method:A.method,action:j},null,te)}}else typeof j=="function"&&(G.preventDefault(),te=I?Kj(A,I):new FormData(A),t_(h,{pending:!0,data:te,method:A.method,action:j},j,te))},currentTarget:A}]})}}for(var L_=0;L_<eo.length;L_++){var I_=eo[L_],JU=I_.toLowerCase(),QU=I_[0].toUpperCase()+I_.slice(1);Yr(JU,"on"+QU)}Yr(ac,"onAnimationEnd"),Yr(Wp,"onAnimationIteration"),Yr(oc,"onAnimationStart"),Yr("dblclick","onDoubleClick"),Yr("focusin","onFocus"),Yr("focusout","onBlur"),Yr(Ax,"onTransitionRun"),Yr(Vp,"onTransitionStart"),Yr(Tx,"onTransitionCancel"),Yr(Ws,"onTransitionEnd"),Ka("onMouseEnter",["mouseout","mouseover"]),Ka("onMouseLeave",["mouseout","mouseover"]),Ka("onPointerEnter",["pointerout","pointerover"]),Ka("onPointerLeave",["pointerout","pointerover"]),Co("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Co("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Co("onBeforeInput",["compositionend","keypress","textInput","paste"]),Co("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Co("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Co("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ch="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),eH=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(ch));function Wj(s,l){l=(l&4)!==0;for(var h=0;h<s.length;h++){var b=s[h],A=b.event;b=b.listeners;e:{var j=void 0;if(l)for(var I=b.length-1;0<=I;I--){var G=b[I],te=G.instance,he=G.currentTarget;if(G=G.listener,te!==j&&A.isPropagationStopped())break e;j=G,A.currentTarget=he;try{j(A)}catch(Ee){sc(Ee)}A.currentTarget=null,j=te}else for(I=0;I<b.length;I++){if(G=b[I],te=G.instance,he=G.currentTarget,G=G.listener,te!==j&&A.isPropagationStopped())break e;j=G,A.currentTarget=he;try{j(A)}catch(Ee){sc(Ee)}A.currentTarget=null,j=te}}}}function ft(s,l){var h=l[qa];h===void 0&&(h=l[qa]=new Set);var b=s+"__bubble";h.has(b)||(Vj(l,s,2,!1),h.add(b))}function $_(s,l,h){var b=0;l&&(b|=4),Vj(h,s,b,l)}var Cg="_reactListening"+Math.random().toString(36).slice(2);function B_(s){if(!s[Cg]){s[Cg]=!0,Op.forEach(function(h){h!=="selectionchange"&&(eH.has(h)||$_(h,!1,s),$_(h,!0,s))});var l=s.nodeType===9?s:s.ownerDocument;l===null||l[Cg]||(l[Cg]=!0,$_("selectionchange",!1,l))}}function Vj(s,l,h,b){switch(EN(l)){case 2:var A=OH;break;case 8:A=jH;break;default:A=ew}h=A.bind(null,l,h,s),A=void 0,!Kl||l!=="touchstart"&&l!=="touchmove"&&l!=="wheel"||(A=!0),b?A!==void 0?s.addEventListener(l,h,{capture:!0,passive:A}):s.addEventListener(l,h,!0):A!==void 0?s.addEventListener(l,h,{passive:A}):s.addEventListener(l,h,!1)}function z_(s,l,h,b,A){var j=b;if((l&1)===0&&(l&2)===0&&b!==null)e:for(;;){if(b===null)return;var I=b.tag;if(I===3||I===4){var G=b.stateNode.containerInfo;if(G===A)break;if(I===4)for(I=b.return;I!==null;){var te=I.tag;if((te===3||te===4)&&I.stateNode.containerInfo===A)return;I=I.return}for(;G!==null;){if(I=No(G),I===null)return;if(te=I.tag,te===5||te===6||te===26||te===27){b=j=I;continue e}G=G.parentNode}}b=b.return}Af(function(){var he=j,Ee=Yl(h),Te=[];e:{var ye=Zp.get(s);if(ye!==void 0){var xe=mu,ze=s;switch(s){case"keypress":if(Wl(h)===0)break e;case"keydown":case"keyup":xe=Lp;break;case"focusin":ze="focus",xe=jf;break;case"focusout":ze="blur",xe=jf;break;case"beforeblur":case"afterblur":xe=jf;break;case"click":if(h.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":xe=Cp;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":xe=px;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":xe=xx;break;case ac:case Wp:case oc:xe=Nf;break;case Ws:xe=Bp;break;case"scroll":case"scrollend":xe=ht;break;case"wheel":xe=Ro;break;case"copy":case"cut":case"paste":xe=Gi;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":xe=Ip;break;case"toggle":case"beforetoggle":xe=Xl}var Qe=(l&4)!==0,zt=!Qe&&(s==="scroll"||s==="scrollend"),le=Qe?ye!==null?ye+"Capture":null:ye;Qe=[];for(var ie=he,de;ie!==null;){var ke=ie;if(de=ke.stateNode,ke=ke.tag,ke!==5&&ke!==26&&ke!==27||de===null||le===null||(ke=Po(ie,le),ke!=null&&Qe.push(uh(ie,ke,de))),zt)break;ie=ie.return}0<Qe.length&&(ye=new xe(ye,ze,null,h,Ee),Te.push({event:ye,listeners:Qe}))}}if((l&7)===0){e:{if(ye=s==="mouseover"||s==="pointerover",xe=s==="mouseout"||s==="pointerout",ye&&h!==hu&&(ze=h.relatedTarget||h.fromElement)&&(No(ze)||ze[jo]))break e;if((xe||ye)&&(ye=Ee.window===Ee?Ee:(ye=Ee.ownerDocument)?ye.defaultView||ye.parentWindow:window,xe?(ze=h.relatedTarget||h.toElement,xe=he,ze=ze?No(ze):null,ze!==null&&(zt=a(ze),Qe=ze.tag,ze!==zt||Qe!==5&&Qe!==27&&Qe!==6)&&(ze=null)):(xe=null,ze=he),xe!==ze)){if(Qe=Cp,ke="onMouseLeave",le="onMouseEnter",ie="mouse",(s==="pointerout"||s==="pointerover")&&(Qe=Ip,ke="onPointerLeave",le="onPointerEnter",ie="pointer"),zt=xe==null?ye:Ya(xe),de=ze==null?ye:Ya(ze),ye=new Qe(ke,ie+"leave",xe,h,Ee),ye.target=zt,ye.relatedTarget=de,ke=null,No(Ee)===he&&(Qe=new Qe(le,ie+"enter",ze,h,Ee),Qe.target=de,Qe.relatedTarget=zt,ke=Qe),zt=ke,xe&&ze)t:{for(Qe=tH,le=xe,ie=ze,de=0,ke=le;ke;ke=Qe(ke))de++;ke=0;for(var Xe=ie;Xe;Xe=Qe(Xe))ke++;for(;0<de-ke;)le=Qe(le),de--;for(;0<ke-de;)ie=Qe(ie),ke--;for(;de--;){if(le===ie||ie!==null&&le===ie.alternate){Qe=le;break t}le=Qe(le),ie=Qe(ie)}Qe=null}else Qe=null;xe!==null&&Zj(Te,ye,xe,Qe,!1),ze!==null&&zt!==null&&Zj(Te,zt,ze,Qe,!0)}}e:{if(ye=he?Ya(he):window,xe=ye.nodeName&&ye.nodeName.toLowerCase(),xe==="select"||xe==="input"&&ye.type==="file")var St=tc;else if(qi(ye))if(Fp)St=kx;else{St=Ex;var He=_a}else xe=ye.nodeName,!xe||xe.toLowerCase()!=="input"||ye.type!=="checkbox"&&ye.type!=="radio"?he&&ql(he.elementType)&&(St=tc):St=Gs;if(St&&(St=St(s,he))){Hp(Te,St,h,Ee);break e}He&&He(s,ye,he),s==="focusout"&&he&&ye.type==="number"&&he.memoizedProps.value!=null&&ba(ye,"number",ye.value)}switch(He=he?Ya(he):window,s){case"focusin":(qi(He)||He.contentEditable==="true")&&(Ja=He,Su=he,ic=null);break;case"focusout":ic=Su=Ja=null;break;case"mousedown":Ys=!0;break;case"contextmenu":case"mouseup":case"dragend":Ys=!1,Yp(Te,h,Ee);break;case"selectionchange":if(wu)break;case"keydown":case"keyup":Yp(Te,h,Ee)}var st;if(gu)e:{switch(s){case"compositionstart":var pt="onCompositionStart";break e;case"compositionend":pt="onCompositionEnd";break e;case"compositionupdate":pt="onCompositionUpdate";break e}pt=void 0}else Us?Up(s,h)&&(pt="onCompositionEnd"):s==="keydown"&&h.keyCode===229&&(pt="onCompositionStart");pt&&(yu&&h.locale!=="ko"&&(Us||pt!=="onCompositionStart"?pt==="onCompositionEnd"&&Us&&(st=Va()):(Fi=Ee,Do="value"in Fi?Fi.value:Fi.textContent,Us=!0)),He=Mg(he,pt),0<He.length&&(pt=new Cf(pt,s,null,h,Ee),Te.push({event:pt,listeners:He}),st?pt.data=st:(st=Rf(h),st!==null&&(pt.data=st)))),(st=wx?vi(s,h):Hs(s,h))&&(pt=Mg(he,"onBeforeInput"),0<pt.length&&(He=new Cf("onBeforeInput","beforeinput",null,h,Ee),Te.push({event:He,listeners:pt}),He.data=st)),XU(Te,s,he,h,Ee)}Wj(Te,l)})}function uh(s,l,h){return{instance:s,listener:l,currentTarget:h}}function Mg(s,l){for(var h=l+"Capture",b=[];s!==null;){var A=s,j=A.stateNode;if(A=A.tag,A!==5&&A!==26&&A!==27||j===null||(A=Po(s,h),A!=null&&b.unshift(uh(s,A,j)),A=Po(s,l),A!=null&&b.push(uh(s,A,j))),s.tag===3)return b;s=s.return}return[]}function tH(s){if(s===null)return null;do s=s.return;while(s&&s.tag!==5&&s.tag!==27);return s||null}function Zj(s,l,h,b,A){for(var j=l._reactName,I=[];h!==null&&h!==b;){var G=h,te=G.alternate,he=G.stateNode;if(G=G.tag,te!==null&&te===b)break;G!==5&&G!==26&&G!==27||he===null||(te=he,A?(he=Po(h,j),he!=null&&I.unshift(uh(h,he,te))):A||(he=Po(h,j),he!=null&&I.push(uh(h,he,te)))),h=h.return}I.length!==0&&s.push({event:l,listeners:I})}var nH=/\r\n?/g,rH=/\u0000|\uFFFD/g;function Xj(s){return(typeof s=="string"?s:""+s).replace(nH,`
`).replace(rH,"")}function Jj(s,l){return l=Xj(l),Xj(s)===l}function Bt(s,l,h,b,A,j){switch(h){case"children":typeof b=="string"?l==="body"||l==="textarea"&&b===""||Hi(s,b):(typeof b=="number"||typeof b=="bigint")&&l!=="body"&&Hi(s,""+b);break;case"className":It(s,"class",b);break;case"tabIndex":It(s,"tabindex",b);break;case"dir":case"role":case"viewBox":case"width":case"height":It(s,h,b);break;case"style":du(s,b,j);break;case"data":if(l!=="object"){It(s,"data",b);break}case"src":case"href":if(b===""&&(l!=="a"||h!=="href")){s.removeAttribute(h);break}if(b==null||typeof b=="function"||typeof b=="symbol"||typeof b=="boolean"){s.removeAttribute(h);break}b=Is(""+b),s.setAttribute(h,b);break;case"action":case"formAction":if(typeof b=="function"){s.setAttribute(h,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof j=="function"&&(h==="formAction"?(l!=="input"&&Bt(s,l,"name",A.name,A,null),Bt(s,l,"formEncType",A.formEncType,A,null),Bt(s,l,"formMethod",A.formMethod,A,null),Bt(s,l,"formTarget",A.formTarget,A,null)):(Bt(s,l,"encType",A.encType,A,null),Bt(s,l,"method",A.method,A,null),Bt(s,l,"target",A.target,A,null)));if(b==null||typeof b=="symbol"||typeof b=="boolean"){s.removeAttribute(h);break}b=Is(""+b),s.setAttribute(h,b);break;case"onClick":b!=null&&(s.onclick=Gr);break;case"onScroll":b!=null&&ft("scroll",s);break;case"onScrollEnd":b!=null&&ft("scrollend",s);break;case"dangerouslySetInnerHTML":if(b!=null){if(typeof b!="object"||!("__html"in b))throw Error(r(61));if(h=b.__html,h!=null){if(A.children!=null)throw Error(r(60));s.innerHTML=h}}break;case"multiple":s.multiple=b&&typeof b!="function"&&typeof b!="symbol";break;case"muted":s.muted=b&&typeof b!="function"&&typeof b!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(b==null||typeof b=="function"||typeof b=="boolean"||typeof b=="symbol"){s.removeAttribute("xlink:href");break}h=Is(""+b),s.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",h);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":b!=null&&typeof b!="function"&&typeof b!="symbol"?s.setAttribute(h,""+b):s.removeAttribute(h);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":b&&typeof b!="function"&&typeof b!="symbol"?s.setAttribute(h,""):s.removeAttribute(h);break;case"capture":case"download":b===!0?s.setAttribute(h,""):b!==!1&&b!=null&&typeof b!="function"&&typeof b!="symbol"?s.setAttribute(h,b):s.removeAttribute(h);break;case"cols":case"rows":case"size":case"span":b!=null&&typeof b!="function"&&typeof b!="symbol"&&!isNaN(b)&&1<=b?s.setAttribute(h,b):s.removeAttribute(h);break;case"rowSpan":case"start":b==null||typeof b=="function"||typeof b=="symbol"||isNaN(b)?s.removeAttribute(h):s.setAttribute(h,b);break;case"popover":ft("beforetoggle",s),ft("toggle",s),ct(s,"popover",b);break;case"xlinkActuate":Fr(s,"http://www.w3.org/1999/xlink","xlink:actuate",b);break;case"xlinkArcrole":Fr(s,"http://www.w3.org/1999/xlink","xlink:arcrole",b);break;case"xlinkRole":Fr(s,"http://www.w3.org/1999/xlink","xlink:role",b);break;case"xlinkShow":Fr(s,"http://www.w3.org/1999/xlink","xlink:show",b);break;case"xlinkTitle":Fr(s,"http://www.w3.org/1999/xlink","xlink:title",b);break;case"xlinkType":Fr(s,"http://www.w3.org/1999/xlink","xlink:type",b);break;case"xmlBase":Fr(s,"http://www.w3.org/XML/1998/namespace","xml:base",b);break;case"xmlLang":Fr(s,"http://www.w3.org/XML/1998/namespace","xml:lang",b);break;case"xmlSpace":Fr(s,"http://www.w3.org/XML/1998/namespace","xml:space",b);break;case"is":ct(s,"is",b);break;case"innerText":case"textContent":break;default:(!(2<h.length)||h[0]!=="o"&&h[0]!=="O"||h[1]!=="n"&&h[1]!=="N")&&(h=fu.get(h)||h,ct(s,h,b))}}function U_(s,l,h,b,A,j){switch(h){case"style":du(s,b,j);break;case"dangerouslySetInnerHTML":if(b!=null){if(typeof b!="object"||!("__html"in b))throw Error(r(61));if(h=b.__html,h!=null){if(A.children!=null)throw Error(r(60));s.innerHTML=h}}break;case"children":typeof b=="string"?Hi(s,b):(typeof b=="number"||typeof b=="bigint")&&Hi(s,""+b);break;case"onScroll":b!=null&&ft("scroll",s);break;case"onScrollEnd":b!=null&&ft("scrollend",s);break;case"onClick":b!=null&&(s.onclick=Gr);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!jp.hasOwnProperty(h))e:{if(h[0]==="o"&&h[1]==="n"&&(A=h.endsWith("Capture"),l=h.slice(2,A?h.length-7:void 0),j=s[Xn]||null,j=j!=null?j[h]:null,typeof j=="function"&&s.removeEventListener(l,j,A),typeof b=="function")){typeof j!="function"&&j!==null&&(h in s?s[h]=null:s.hasAttribute(h)&&s.removeAttribute(h)),s.addEventListener(l,b,A);break e}h in s?s[h]=b:b===!0?s.setAttribute(h,""):ct(s,h,b)}}}function fr(s,l,h){switch(l){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":ft("error",s),ft("load",s);var b=!1,A=!1,j;for(j in h)if(h.hasOwnProperty(j)){var I=h[j];if(I!=null)switch(j){case"src":b=!0;break;case"srcSet":A=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,l));default:Bt(s,l,j,I,h,null)}}A&&Bt(s,l,"srcSet",h.srcSet,h,null),b&&Bt(s,l,"src",h.src,h,null);return;case"input":ft("invalid",s);var G=j=I=A=null,te=null,he=null;for(b in h)if(h.hasOwnProperty(b)){var Ee=h[b];if(Ee!=null)switch(b){case"name":A=Ee;break;case"type":I=Ee;break;case"checked":te=Ee;break;case"defaultChecked":he=Ee;break;case"value":j=Ee;break;case"defaultValue":G=Ee;break;case"children":case"dangerouslySetInnerHTML":if(Ee!=null)throw Error(r(137,l));break;default:Bt(s,l,b,Ee,h,null)}}Gl(s,j,G,te,he,I,A,!1);return;case"select":ft("invalid",s),b=I=j=null;for(A in h)if(h.hasOwnProperty(A)&&(G=h[A],G!=null))switch(A){case"value":j=G;break;case"defaultValue":I=G;break;case"multiple":b=G;default:Bt(s,l,A,G,h,null)}l=j,h=I,s.multiple=!!b,l!=null?Ut(s,!!b,l,!1):h!=null&&Ut(s,!!b,h,!0);return;case"textarea":ft("invalid",s),j=A=b=null;for(I in h)if(h.hasOwnProperty(I)&&(G=h[I],G!=null))switch(I){case"value":b=G;break;case"defaultValue":A=G;break;case"children":j=G;break;case"dangerouslySetInnerHTML":if(G!=null)throw Error(r(91));break;default:Bt(s,l,I,G,h,null)}Rs(s,b,A,j);return;case"option":for(te in h)if(h.hasOwnProperty(te)&&(b=h[te],b!=null))switch(te){case"selected":s.selected=b&&typeof b!="function"&&typeof b!="symbol";break;default:Bt(s,l,te,b,h,null)}return;case"dialog":ft("beforetoggle",s),ft("toggle",s),ft("cancel",s),ft("close",s);break;case"iframe":case"object":ft("load",s);break;case"video":case"audio":for(b=0;b<ch.length;b++)ft(ch[b],s);break;case"image":ft("error",s),ft("load",s);break;case"details":ft("toggle",s);break;case"embed":case"source":case"link":ft("error",s),ft("load",s);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(he in h)if(h.hasOwnProperty(he)&&(b=h[he],b!=null))switch(he){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,l));default:Bt(s,l,he,b,h,null)}return;default:if(ql(l)){for(Ee in h)h.hasOwnProperty(Ee)&&(b=h[Ee],b!==void 0&&U_(s,l,Ee,b,h,void 0));return}}for(G in h)h.hasOwnProperty(G)&&(b=h[G],b!=null&&Bt(s,l,G,b,h,null))}function iH(s,l,h,b){switch(l){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var A=null,j=null,I=null,G=null,te=null,he=null,Ee=null;for(xe in h){var Te=h[xe];if(h.hasOwnProperty(xe)&&Te!=null)switch(xe){case"checked":break;case"value":break;case"defaultValue":te=Te;default:b.hasOwnProperty(xe)||Bt(s,l,xe,null,b,Te)}}for(var ye in b){var xe=b[ye];if(Te=h[ye],b.hasOwnProperty(ye)&&(xe!=null||Te!=null))switch(ye){case"type":j=xe;break;case"name":A=xe;break;case"checked":he=xe;break;case"defaultChecked":Ee=xe;break;case"value":I=xe;break;case"defaultValue":G=xe;break;case"children":case"dangerouslySetInnerHTML":if(xe!=null)throw Error(r(137,l));break;default:xe!==Te&&Bt(s,l,ye,xe,b,Te)}}Sf(s,I,G,te,he,Ee,j,A);return;case"select":xe=I=G=ye=null;for(j in h)if(te=h[j],h.hasOwnProperty(j)&&te!=null)switch(j){case"value":break;case"multiple":xe=te;default:b.hasOwnProperty(j)||Bt(s,l,j,null,b,te)}for(A in b)if(j=b[A],te=h[A],b.hasOwnProperty(A)&&(j!=null||te!=null))switch(A){case"value":ye=j;break;case"defaultValue":G=j;break;case"multiple":I=j;default:j!==te&&Bt(s,l,A,j,b,te)}l=G,h=I,b=xe,ye!=null?Ut(s,!!h,ye,!1):!!b!=!!h&&(l!=null?Ut(s,!!h,l,!0):Ut(s,!!h,h?[]:"",!1));return;case"textarea":xe=ye=null;for(G in h)if(A=h[G],h.hasOwnProperty(G)&&A!=null&&!b.hasOwnProperty(G))switch(G){case"value":break;case"children":break;default:Bt(s,l,G,null,b,A)}for(I in b)if(A=b[I],j=h[I],b.hasOwnProperty(I)&&(A!=null||j!=null))switch(I){case"value":ye=A;break;case"defaultValue":xe=A;break;case"children":break;case"dangerouslySetInnerHTML":if(A!=null)throw Error(r(91));break;default:A!==j&&Bt(s,l,I,A,b,j)}Wa(s,ye,xe);return;case"option":for(var ze in h)if(ye=h[ze],h.hasOwnProperty(ze)&&ye!=null&&!b.hasOwnProperty(ze))switch(ze){case"selected":s.selected=!1;break;default:Bt(s,l,ze,null,b,ye)}for(te in b)if(ye=b[te],xe=h[te],b.hasOwnProperty(te)&&ye!==xe&&(ye!=null||xe!=null))switch(te){case"selected":s.selected=ye&&typeof ye!="function"&&typeof ye!="symbol";break;default:Bt(s,l,te,ye,b,xe)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Qe in h)ye=h[Qe],h.hasOwnProperty(Qe)&&ye!=null&&!b.hasOwnProperty(Qe)&&Bt(s,l,Qe,null,b,ye);for(he in b)if(ye=b[he],xe=h[he],b.hasOwnProperty(he)&&ye!==xe&&(ye!=null||xe!=null))switch(he){case"children":case"dangerouslySetInnerHTML":if(ye!=null)throw Error(r(137,l));break;default:Bt(s,l,he,ye,b,xe)}return;default:if(ql(l)){for(var zt in h)ye=h[zt],h.hasOwnProperty(zt)&&ye!==void 0&&!b.hasOwnProperty(zt)&&U_(s,l,zt,void 0,b,ye);for(Ee in b)ye=b[Ee],xe=h[Ee],!b.hasOwnProperty(Ee)||ye===xe||ye===void 0&&xe===void 0||U_(s,l,Ee,ye,b,xe);return}}for(var le in h)ye=h[le],h.hasOwnProperty(le)&&ye!=null&&!b.hasOwnProperty(le)&&Bt(s,l,le,null,b,ye);for(Te in b)ye=b[Te],xe=h[Te],!b.hasOwnProperty(Te)||ye===xe||ye==null&&xe==null||Bt(s,l,Te,ye,b,xe)}function Qj(s){switch(s){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function aH(){if(typeof performance.getEntriesByType=="function"){for(var s=0,l=0,h=performance.getEntriesByType("resource"),b=0;b<h.length;b++){var A=h[b],j=A.transferSize,I=A.initiatorType,G=A.duration;if(j&&G&&Qj(I)){for(I=0,G=A.responseEnd,b+=1;b<h.length;b++){var te=h[b],he=te.startTime;if(he>G)break;var Ee=te.transferSize,Te=te.initiatorType;Ee&&Qj(Te)&&(te=te.responseEnd,I+=Ee*(te<G?1:(G-he)/(te-he)))}if(--b,l+=8*(j+I)/(A.duration/1e3),s++,10<s)break}}if(0<s)return l/s/1e6}return navigator.connection&&(s=navigator.connection.downlink,typeof s=="number")?s:5}var H_=null,F_=null;function Pg(s){return s.nodeType===9?s:s.ownerDocument}function eN(s){switch(s){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function tN(s,l){if(s===0)switch(l){case"svg":return 1;case"math":return 2;default:return 0}return s===1&&l==="foreignObject"?0:s}function G_(s,l){return s==="textarea"||s==="noscript"||typeof l.children=="string"||typeof l.children=="number"||typeof l.children=="bigint"||typeof l.dangerouslySetInnerHTML=="object"&&l.dangerouslySetInnerHTML!==null&&l.dangerouslySetInnerHTML.__html!=null}var q_=null;function oH(){var s=window.event;return s&&s.type==="popstate"?s===q_?!1:(q_=s,!0):(q_=null,!1)}var nN=typeof setTimeout=="function"?setTimeout:void 0,sH=typeof clearTimeout=="function"?clearTimeout:void 0,rN=typeof Promise=="function"?Promise:void 0,lH=typeof queueMicrotask=="function"?queueMicrotask:typeof rN<"u"?function(s){return rN.resolve(null).then(s).catch(cH)}:nN;function cH(s){setTimeout(function(){throw s})}function cl(s){return s==="head"}function iN(s,l){var h=l,b=0;do{var A=h.nextSibling;if(s.removeChild(h),A&&A.nodeType===8)if(h=A.data,h==="/$"||h==="/&"){if(b===0){s.removeChild(A),Vu(l);return}b--}else if(h==="$"||h==="$?"||h==="$~"||h==="$!"||h==="&")b++;else if(h==="html")dh(s.ownerDocument.documentElement);else if(h==="head"){h=s.ownerDocument.head,dh(h);for(var j=h.firstChild;j;){var I=j.nextSibling,G=j.nodeName;j[Ul]||G==="SCRIPT"||G==="STYLE"||G==="LINK"&&j.rel.toLowerCase()==="stylesheet"||h.removeChild(j),j=I}}else h==="body"&&dh(s.ownerDocument.body);h=A}while(h);Vu(l)}function aN(s,l){var h=s;s=0;do{var b=h.nextSibling;if(h.nodeType===1?l?(h._stashedDisplay=h.style.display,h.style.display="none"):(h.style.display=h._stashedDisplay||"",h.getAttribute("style")===""&&h.removeAttribute("style")):h.nodeType===3&&(l?(h._stashedText=h.nodeValue,h.nodeValue=""):h.nodeValue=h._stashedText||""),b&&b.nodeType===8)if(h=b.data,h==="/$"){if(s===0)break;s--}else h!=="$"&&h!=="$?"&&h!=="$~"&&h!=="$!"||s++;h=b}while(h)}function Y_(s){var l=s.firstChild;for(l&&l.nodeType===10&&(l=l.nextSibling);l;){var h=l;switch(l=l.nextSibling,h.nodeName){case"HTML":case"HEAD":case"BODY":Y_(h),vf(h);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(h.rel.toLowerCase()==="stylesheet")continue}s.removeChild(h)}}function uH(s,l,h,b){for(;s.nodeType===1;){var A=h;if(s.nodeName.toLowerCase()!==l.toLowerCase()){if(!b&&(s.nodeName!=="INPUT"||s.type!=="hidden"))break}else if(b){if(!s[Ul])switch(l){case"meta":if(!s.hasAttribute("itemprop"))break;return s;case"link":if(j=s.getAttribute("rel"),j==="stylesheet"&&s.hasAttribute("data-precedence"))break;if(j!==A.rel||s.getAttribute("href")!==(A.href==null||A.href===""?null:A.href)||s.getAttribute("crossorigin")!==(A.crossOrigin==null?null:A.crossOrigin)||s.getAttribute("title")!==(A.title==null?null:A.title))break;return s;case"style":if(s.hasAttribute("data-precedence"))break;return s;case"script":if(j=s.getAttribute("src"),(j!==(A.src==null?null:A.src)||s.getAttribute("type")!==(A.type==null?null:A.type)||s.getAttribute("crossorigin")!==(A.crossOrigin==null?null:A.crossOrigin))&&j&&s.hasAttribute("async")&&!s.hasAttribute("itemprop"))break;return s;default:return s}}else if(l==="input"&&s.type==="hidden"){var j=A.name==null?null:""+A.name;if(A.type==="hidden"&&s.getAttribute("name")===j)return s}else return s;if(s=Xi(s.nextSibling),s===null)break}return null}function dH(s,l,h){if(l==="")return null;for(;s.nodeType!==3;)if((s.nodeType!==1||s.nodeName!=="INPUT"||s.type!=="hidden")&&!h||(s=Xi(s.nextSibling),s===null))return null;return s}function oN(s,l){for(;s.nodeType!==8;)if((s.nodeType!==1||s.nodeName!=="INPUT"||s.type!=="hidden")&&!l||(s=Xi(s.nextSibling),s===null))return null;return s}function K_(s){return s.data==="$?"||s.data==="$~"}function W_(s){return s.data==="$!"||s.data==="$?"&&s.ownerDocument.readyState!=="loading"}function fH(s,l){var h=s.ownerDocument;if(s.data==="$~")s._reactRetry=l;else if(s.data!=="$?"||h.readyState!=="loading")l();else{var b=function(){l(),h.removeEventListener("DOMContentLoaded",b)};h.addEventListener("DOMContentLoaded",b),s._reactRetry=b}}function Xi(s){for(;s!=null;s=s.nextSibling){var l=s.nodeType;if(l===1||l===3)break;if(l===8){if(l=s.data,l==="$"||l==="$!"||l==="$?"||l==="$~"||l==="&"||l==="F!"||l==="F")break;if(l==="/$"||l==="/&")return null}}return s}var V_=null;function sN(s){s=s.nextSibling;for(var l=0;s;){if(s.nodeType===8){var h=s.data;if(h==="/$"||h==="/&"){if(l===0)return Xi(s.nextSibling);l--}else h!=="$"&&h!=="$!"&&h!=="$?"&&h!=="$~"&&h!=="&"||l++}s=s.nextSibling}return null}function lN(s){s=s.previousSibling;for(var l=0;s;){if(s.nodeType===8){var h=s.data;if(h==="$"||h==="$!"||h==="$?"||h==="$~"||h==="&"){if(l===0)return s;l--}else h!=="/$"&&h!=="/&"||l++}s=s.previousSibling}return null}function cN(s,l,h){switch(l=Pg(h),s){case"html":if(s=l.documentElement,!s)throw Error(r(452));return s;case"head":if(s=l.head,!s)throw Error(r(453));return s;case"body":if(s=l.body,!s)throw Error(r(454));return s;default:throw Error(r(451))}}function dh(s){for(var l=s.attributes;l.length;)s.removeAttributeNode(l[0]);vf(s)}var Ji=new Map,uN=new Set;function Dg(s){return typeof s.getRootNode=="function"?s.getRootNode():s.nodeType===9?s:s.ownerDocument}var Zo=Z.d;Z.d={f:hH,r:mH,D:pH,C:gH,L:yH,m:bH,X:xH,S:vH,M:_H};function hH(){var s=Zo.f(),l=kg();return s||l}function mH(s){var l=Ms(s);l!==null&&l.tag===5&&l.type==="form"?TO(l):Zo.r(s)}var Yu=typeof document>"u"?null:document;function dN(s,l,h){var b=Yu;if(b&&typeof l=="string"&&l){var A=Zt(l);A='link[rel="'+s+'"][href="'+A+'"]',typeof h=="string"&&(A+='[crossorigin="'+h+'"]'),uN.has(A)||(uN.add(A),s={rel:s,crossOrigin:h,href:l},b.querySelector(A)===null&&(l=b.createElement("link"),fr(l,"link",s),Tn(l),b.head.appendChild(l)))}}function pH(s){Zo.D(s),dN("dns-prefetch",s,null)}function gH(s,l){Zo.C(s,l),dN("preconnect",s,l)}function yH(s,l,h){Zo.L(s,l,h);var b=Yu;if(b&&s&&l){var A='link[rel="preload"][as="'+Zt(l)+'"]';l==="image"&&h&&h.imageSrcSet?(A+='[imagesrcset="'+Zt(h.imageSrcSet)+'"]',typeof h.imageSizes=="string"&&(A+='[imagesizes="'+Zt(h.imageSizes)+'"]')):A+='[href="'+Zt(s)+'"]';var j=A;switch(l){case"style":j=Ku(s);break;case"script":j=Wu(s)}Ji.has(j)||(s=p({rel:"preload",href:l==="image"&&h&&h.imageSrcSet?void 0:s,as:l},h),Ji.set(j,s),b.querySelector(A)!==null||l==="style"&&b.querySelector(fh(j))||l==="script"&&b.querySelector(hh(j))||(l=b.createElement("link"),fr(l,"link",s),Tn(l),b.head.appendChild(l)))}}function bH(s,l){Zo.m(s,l);var h=Yu;if(h&&s){var b=l&&typeof l.as=="string"?l.as:"script",A='link[rel="modulepreload"][as="'+Zt(b)+'"][href="'+Zt(s)+'"]',j=A;switch(b){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":j=Wu(s)}if(!Ji.has(j)&&(s=p({rel:"modulepreload",href:s},l),Ji.set(j,s),h.querySelector(A)===null)){switch(b){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(h.querySelector(hh(j)))return}b=h.createElement("link"),fr(b,"link",s),Tn(b),h.head.appendChild(b)}}}function vH(s,l,h){Zo.S(s,l,h);var b=Yu;if(b&&s){var A=Ps(b).hoistableStyles,j=Ku(s);l=l||"default";var I=A.get(j);if(!I){var G={loading:0,preload:null};if(I=b.querySelector(fh(j)))G.loading=5;else{s=p({rel:"stylesheet",href:s,"data-precedence":l},h),(h=Ji.get(j))&&Z_(s,h);var te=I=b.createElement("link");Tn(te),fr(te,"link",s),te._p=new Promise(function(he,Ee){te.onload=he,te.onerror=Ee}),te.addEventListener("load",function(){G.loading|=1}),te.addEventListener("error",function(){G.loading|=2}),G.loading|=4,Rg(I,l,b)}I={type:"stylesheet",instance:I,count:1,state:G},A.set(j,I)}}}function xH(s,l){Zo.X(s,l);var h=Yu;if(h&&s){var b=Ps(h).hoistableScripts,A=Wu(s),j=b.get(A);j||(j=h.querySelector(hh(A)),j||(s=p({src:s,async:!0},l),(l=Ji.get(A))&&X_(s,l),j=h.createElement("script"),Tn(j),fr(j,"link",s),h.head.appendChild(j)),j={type:"script",instance:j,count:1,state:null},b.set(A,j))}}function _H(s,l){Zo.M(s,l);var h=Yu;if(h&&s){var b=Ps(h).hoistableScripts,A=Wu(s),j=b.get(A);j||(j=h.querySelector(hh(A)),j||(s=p({src:s,async:!0,type:"module"},l),(l=Ji.get(A))&&X_(s,l),j=h.createElement("script"),Tn(j),fr(j,"link",s),h.head.appendChild(j)),j={type:"script",instance:j,count:1,state:null},b.set(A,j))}}function fN(s,l,h,b){var A=(A=me.current)?Dg(A):null;if(!A)throw Error(r(446));switch(s){case"meta":case"title":return null;case"style":return typeof h.precedence=="string"&&typeof h.href=="string"?(l=Ku(h.href),h=Ps(A).hoistableStyles,b=h.get(l),b||(b={type:"style",instance:null,count:0,state:null},h.set(l,b)),b):{type:"void",instance:null,count:0,state:null};case"link":if(h.rel==="stylesheet"&&typeof h.href=="string"&&typeof h.precedence=="string"){s=Ku(h.href);var j=Ps(A).hoistableStyles,I=j.get(s);if(I||(A=A.ownerDocument||A,I={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},j.set(s,I),(j=A.querySelector(fh(s)))&&!j._p&&(I.instance=j,I.state.loading=5),Ji.has(s)||(h={rel:"preload",as:"style",href:h.href,crossOrigin:h.crossOrigin,integrity:h.integrity,media:h.media,hrefLang:h.hrefLang,referrerPolicy:h.referrerPolicy},Ji.set(s,h),j||wH(A,s,h,I.state))),l&&b===null)throw Error(r(528,""));return I}if(l&&b!==null)throw Error(r(529,""));return null;case"script":return l=h.async,h=h.src,typeof h=="string"&&l&&typeof l!="function"&&typeof l!="symbol"?(l=Wu(h),h=Ps(A).hoistableScripts,b=h.get(l),b||(b={type:"script",instance:null,count:0,state:null},h.set(l,b)),b):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,s))}}function Ku(s){return'href="'+Zt(s)+'"'}function fh(s){return'link[rel="stylesheet"]['+s+"]"}function hN(s){return p({},s,{"data-precedence":s.precedence,precedence:null})}function wH(s,l,h,b){s.querySelector('link[rel="preload"][as="style"]['+l+"]")?b.loading=1:(l=s.createElement("link"),b.preload=l,l.addEventListener("load",function(){return b.loading|=1}),l.addEventListener("error",function(){return b.loading|=2}),fr(l,"link",h),Tn(l),s.head.appendChild(l))}function Wu(s){return'[src="'+Zt(s)+'"]'}function hh(s){return"script[async]"+s}function mN(s,l,h){if(l.count++,l.instance===null)switch(l.type){case"style":var b=s.querySelector('style[data-href~="'+Zt(h.href)+'"]');if(b)return l.instance=b,Tn(b),b;var A=p({},h,{"data-href":h.href,"data-precedence":h.precedence,href:null,precedence:null});return b=(s.ownerDocument||s).createElement("style"),Tn(b),fr(b,"style",A),Rg(b,h.precedence,s),l.instance=b;case"stylesheet":A=Ku(h.href);var j=s.querySelector(fh(A));if(j)return l.state.loading|=4,l.instance=j,Tn(j),j;b=hN(h),(A=Ji.get(A))&&Z_(b,A),j=(s.ownerDocument||s).createElement("link"),Tn(j);var I=j;return I._p=new Promise(function(G,te){I.onload=G,I.onerror=te}),fr(j,"link",b),l.state.loading|=4,Rg(j,h.precedence,s),l.instance=j;case"script":return j=Wu(h.src),(A=s.querySelector(hh(j)))?(l.instance=A,Tn(A),A):(b=h,(A=Ji.get(j))&&(b=p({},h),X_(b,A)),s=s.ownerDocument||s,A=s.createElement("script"),Tn(A),fr(A,"link",b),s.head.appendChild(A),l.instance=A);case"void":return null;default:throw Error(r(443,l.type))}else l.type==="stylesheet"&&(l.state.loading&4)===0&&(b=l.instance,l.state.loading|=4,Rg(b,h.precedence,s));return l.instance}function Rg(s,l,h){for(var b=h.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),A=b.length?b[b.length-1]:null,j=A,I=0;I<b.length;I++){var G=b[I];if(G.dataset.precedence===l)j=G;else if(j!==A)break}j?j.parentNode.insertBefore(s,j.nextSibling):(l=h.nodeType===9?h.head:h,l.insertBefore(s,l.firstChild))}function Z_(s,l){s.crossOrigin==null&&(s.crossOrigin=l.crossOrigin),s.referrerPolicy==null&&(s.referrerPolicy=l.referrerPolicy),s.title==null&&(s.title=l.title)}function X_(s,l){s.crossOrigin==null&&(s.crossOrigin=l.crossOrigin),s.referrerPolicy==null&&(s.referrerPolicy=l.referrerPolicy),s.integrity==null&&(s.integrity=l.integrity)}var Lg=null;function pN(s,l,h){if(Lg===null){var b=new Map,A=Lg=new Map;A.set(h,b)}else A=Lg,b=A.get(h),b||(b=new Map,A.set(h,b));if(b.has(s))return b;for(b.set(s,null),h=h.getElementsByTagName(s),A=0;A<h.length;A++){var j=h[A];if(!(j[Ul]||j[An]||s==="link"&&j.getAttribute("rel")==="stylesheet")&&j.namespaceURI!=="http://www.w3.org/2000/svg"){var I=j.getAttribute(l)||"";I=s+I;var G=b.get(I);G?G.push(j):b.set(I,[j])}}return b}function gN(s,l,h){s=s.ownerDocument||s,s.head.insertBefore(h,l==="title"?s.querySelector("head > title"):null)}function SH(s,l,h){if(h===1||l.itemProp!=null)return!1;switch(s){case"meta":case"title":return!0;case"style":if(typeof l.precedence!="string"||typeof l.href!="string"||l.href==="")break;return!0;case"link":if(typeof l.rel!="string"||typeof l.href!="string"||l.href===""||l.onLoad||l.onError)break;switch(l.rel){case"stylesheet":return s=l.disabled,typeof l.precedence=="string"&&s==null;default:return!0}case"script":if(l.async&&typeof l.async!="function"&&typeof l.async!="symbol"&&!l.onLoad&&!l.onError&&l.src&&typeof l.src=="string")return!0}return!1}function yN(s){return!(s.type==="stylesheet"&&(s.state.loading&3)===0)}function EH(s,l,h,b){if(h.type==="stylesheet"&&(typeof b.media!="string"||matchMedia(b.media).matches!==!1)&&(h.state.loading&4)===0){if(h.instance===null){var A=Ku(b.href),j=l.querySelector(fh(A));if(j){l=j._p,l!==null&&typeof l=="object"&&typeof l.then=="function"&&(s.count++,s=Ig.bind(s),l.then(s,s)),h.state.loading|=4,h.instance=j,Tn(j);return}j=l.ownerDocument||l,b=hN(b),(A=Ji.get(A))&&Z_(b,A),j=j.createElement("link"),Tn(j);var I=j;I._p=new Promise(function(G,te){I.onload=G,I.onerror=te}),fr(j,"link",b),h.instance=j}s.stylesheets===null&&(s.stylesheets=new Map),s.stylesheets.set(h,l),(l=h.state.preload)&&(h.state.loading&3)===0&&(s.count++,h=Ig.bind(s),l.addEventListener("load",h),l.addEventListener("error",h))}}var J_=0;function kH(s,l){return s.stylesheets&&s.count===0&&Bg(s,s.stylesheets),0<s.count||0<s.imgCount?function(h){var b=setTimeout(function(){if(s.stylesheets&&Bg(s,s.stylesheets),s.unsuspend){var j=s.unsuspend;s.unsuspend=null,j()}},6e4+l);0<s.imgBytes&&J_===0&&(J_=62500*aH());var A=setTimeout(function(){if(s.waitingForImages=!1,s.count===0&&(s.stylesheets&&Bg(s,s.stylesheets),s.unsuspend)){var j=s.unsuspend;s.unsuspend=null,j()}},(s.imgBytes>J_?50:800)+l);return s.unsuspend=h,function(){s.unsuspend=null,clearTimeout(b),clearTimeout(A)}}:null}function Ig(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Bg(this,this.stylesheets);else if(this.unsuspend){var s=this.unsuspend;this.unsuspend=null,s()}}}var $g=null;function Bg(s,l){s.stylesheets=null,s.unsuspend!==null&&(s.count++,$g=new Map,l.forEach(AH,s),$g=null,Ig.call(s))}function AH(s,l){if(!(l.state.loading&4)){var h=$g.get(s);if(h)var b=h.get(null);else{h=new Map,$g.set(s,h);for(var A=s.querySelectorAll("link[data-precedence],style[data-precedence]"),j=0;j<A.length;j++){var I=A[j];(I.nodeName==="LINK"||I.getAttribute("media")!=="not all")&&(h.set(I.dataset.precedence,I),b=I)}b&&h.set(null,b)}A=l.instance,I=A.getAttribute("data-precedence"),j=h.get(I)||b,j===b&&h.set(null,A),h.set(I,A),this.count++,b=Ig.bind(this),A.addEventListener("load",b),A.addEventListener("error",b),j?j.parentNode.insertBefore(A,j.nextSibling):(s=s.nodeType===9?s.head:s,s.insertBefore(A,s.firstChild)),l.state.loading|=4}}var mh={$$typeof:O,Provider:null,Consumer:null,_currentValue:re,_currentValue2:re,_threadCount:0};function TH(s,l,h,b,A,j,I,G,te){this.tag=1,this.containerInfo=s,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=gf(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=gf(0),this.hiddenUpdates=gf(null),this.identifierPrefix=b,this.onUncaughtError=A,this.onCaughtError=j,this.onRecoverableError=I,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=te,this.incompleteTransitions=new Map}function bN(s,l,h,b,A,j,I,G,te,he,Ee,Te){return s=new TH(s,l,h,I,te,he,Ee,Te,G),l=1,j===!0&&(l|=24),j=wr(3,null,null,l),s.current=j,j.stateNode=s,l=Cx(),l.refCount++,s.pooledCache=l,l.refCount++,j.memoizedState={element:b,isDehydrated:h,cache:l},Rx(j),s}function vN(s){return s?(s=Lo,s):Lo}function xN(s,l,h,b,A,j){A=vN(A),b.context===null?b.context=A:b.pendingContext=A,b=Js(l),b.payload={element:h},j=j===void 0?null:j,j!==null&&(b.callback=j),h=Qs(s,b,l),h!==null&&(Qr(h,s,l),Yf(h,s,l))}function _N(s,l){if(s=s.memoizedState,s!==null&&s.dehydrated!==null){var h=s.retryLane;s.retryLane=h!==0&&h<l?h:l}}function Q_(s,l){_N(s,l),(s=s.alternate)&&_N(s,l)}function wN(s){if(s.tag===13||s.tag===31){var l=Wi(s,67108864);l!==null&&Qr(l,s,67108864),Q_(s,67108864)}}function SN(s){if(s.tag===13||s.tag===31){var l=Ei();l=Hr(l);var h=Wi(s,l);h!==null&&Qr(h,s,l),Q_(s,l)}}var zg=!0;function OH(s,l,h,b){var A=q.T;q.T=null;var j=Z.p;try{Z.p=2,ew(s,l,h,b)}finally{Z.p=j,q.T=A}}function jH(s,l,h,b){var A=q.T;q.T=null;var j=Z.p;try{Z.p=8,ew(s,l,h,b)}finally{Z.p=j,q.T=A}}function ew(s,l,h,b){if(zg){var A=tw(b);if(A===null)z_(s,l,b,Ug,h),kN(s,b);else if(CH(A,s,l,h,b))b.stopPropagation();else if(kN(s,b),l&4&&-1<NH.indexOf(s)){for(;A!==null;){var j=Ms(A);if(j!==null)switch(j.tag){case 3:if(j=j.stateNode,j.current.memoizedState.isDehydrated){var I=To(j.pendingLanes);if(I!==0){var G=j;for(G.pendingLanes|=2,G.entangledLanes|=2;I;){var te=1<<31-Or(I);G.entanglements[1]|=te,I&=~te}oo(j),(Tt&6)===0&&(Sg=Be()+500,lh(0))}}break;case 31:case 13:G=Wi(j,2),G!==null&&Qr(G,j,2),kg(),Q_(j,2)}if(j=tw(b),j===null&&z_(s,l,b,Ug,h),j===A)break;A=j}A!==null&&b.stopPropagation()}else z_(s,l,b,null,h)}}function tw(s){return s=Yl(s),nw(s)}var Ug=null;function nw(s){if(Ug=null,s=No(s),s!==null){var l=a(s);if(l===null)s=null;else{var h=l.tag;if(h===13){if(s=o(l),s!==null)return s;s=null}else if(h===31){if(s=c(l),s!==null)return s;s=null}else if(h===3){if(l.stateNode.current.memoizedState.isDehydrated)return l.tag===3?l.stateNode.containerInfo:null;s=null}else l!==s&&(s=null)}}return Ug=s,null}function EN(s){switch(s){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(lt()){case jt:return 2;case yt:return 8;case Zn:case hi:return 32;case mi:return 268435456;default:return 32}default:return 32}}var rw=!1,ul=null,dl=null,fl=null,ph=new Map,gh=new Map,hl=[],NH="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function kN(s,l){switch(s){case"focusin":case"focusout":ul=null;break;case"dragenter":case"dragleave":dl=null;break;case"mouseover":case"mouseout":fl=null;break;case"pointerover":case"pointerout":ph.delete(l.pointerId);break;case"gotpointercapture":case"lostpointercapture":gh.delete(l.pointerId)}}function yh(s,l,h,b,A,j){return s===null||s.nativeEvent!==j?(s={blockedOn:l,domEventName:h,eventSystemFlags:b,nativeEvent:j,targetContainers:[A]},l!==null&&(l=Ms(l),l!==null&&wN(l)),s):(s.eventSystemFlags|=b,l=s.targetContainers,A!==null&&l.indexOf(A)===-1&&l.push(A),s)}function CH(s,l,h,b,A){switch(l){case"focusin":return ul=yh(ul,s,l,h,b,A),!0;case"dragenter":return dl=yh(dl,s,l,h,b,A),!0;case"mouseover":return fl=yh(fl,s,l,h,b,A),!0;case"pointerover":var j=A.pointerId;return ph.set(j,yh(ph.get(j)||null,s,l,h,b,A)),!0;case"gotpointercapture":return j=A.pointerId,gh.set(j,yh(gh.get(j)||null,s,l,h,b,A)),!0}return!1}function AN(s){var l=No(s.target);if(l!==null){var h=a(l);if(h!==null){if(l=h.tag,l===13){if(l=o(h),l!==null){s.blockedOn=l,bf(s.priority,function(){SN(h)});return}}else if(l===31){if(l=c(h),l!==null){s.blockedOn=l,bf(s.priority,function(){SN(h)});return}}else if(l===3&&h.stateNode.current.memoizedState.isDehydrated){s.blockedOn=h.tag===3?h.stateNode.containerInfo:null;return}}}s.blockedOn=null}function Hg(s){if(s.blockedOn!==null)return!1;for(var l=s.targetContainers;0<l.length;){var h=tw(s.nativeEvent);if(h===null){h=s.nativeEvent;var b=new h.constructor(h.type,h);hu=b,h.target.dispatchEvent(b),hu=null}else return l=Ms(h),l!==null&&wN(l),s.blockedOn=h,!1;l.shift()}return!0}function TN(s,l,h){Hg(s)&&h.delete(l)}function MH(){rw=!1,ul!==null&&Hg(ul)&&(ul=null),dl!==null&&Hg(dl)&&(dl=null),fl!==null&&Hg(fl)&&(fl=null),ph.forEach(TN),gh.forEach(TN)}function Fg(s,l){s.blockedOn===l&&(s.blockedOn=null,rw||(rw=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,MH)))}var Gg=null;function ON(s){Gg!==s&&(Gg=s,e.unstable_scheduleCallback(e.unstable_NormalPriority,function(){Gg===s&&(Gg=null);for(var l=0;l<s.length;l+=3){var h=s[l],b=s[l+1],A=s[l+2];if(typeof b!="function"){if(nw(b||h)===null)continue;break}var j=Ms(h);j!==null&&(s.splice(l,3),l-=3,t_(j,{pending:!0,data:A,method:h.method,action:b},b,A))}}))}function Vu(s){function l(te){return Fg(te,s)}ul!==null&&Fg(ul,s),dl!==null&&Fg(dl,s),fl!==null&&Fg(fl,s),ph.forEach(l),gh.forEach(l);for(var h=0;h<hl.length;h++){var b=hl[h];b.blockedOn===s&&(b.blockedOn=null)}for(;0<hl.length&&(h=hl[0],h.blockedOn===null);)AN(h),h.blockedOn===null&&hl.shift();if(h=(s.ownerDocument||s).$$reactFormReplay,h!=null)for(b=0;b<h.length;b+=3){var A=h[b],j=h[b+1],I=A[Xn]||null;if(typeof j=="function")I||ON(h);else if(I){var G=null;if(j&&j.hasAttribute("formAction")){if(A=j,I=j[Xn]||null)G=I.formAction;else if(nw(A)!==null)continue}else G=I.action;typeof G=="function"?h[b+1]=G:(h.splice(b,3),b-=3),ON(h)}}}function jN(){function s(j){j.canIntercept&&j.info==="react-transition"&&j.intercept({handler:function(){return new Promise(function(I){return A=I})},focusReset:"manual",scroll:"manual"})}function l(){A!==null&&(A(),A=null),b||setTimeout(h,20)}function h(){if(!b&&!navigation.transition){var j=navigation.currentEntry;j&&j.url!=null&&navigation.navigate(j.url,{state:j.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var b=!1,A=null;return navigation.addEventListener("navigate",s),navigation.addEventListener("navigatesuccess",l),navigation.addEventListener("navigateerror",l),setTimeout(h,100),function(){b=!0,navigation.removeEventListener("navigate",s),navigation.removeEventListener("navigatesuccess",l),navigation.removeEventListener("navigateerror",l),A!==null&&(A(),A=null)}}}function iw(s){this._internalRoot=s}qg.prototype.render=iw.prototype.render=function(s){var l=this._internalRoot;if(l===null)throw Error(r(409));var h=l.current,b=Ei();xN(h,b,s,l,null,null)},qg.prototype.unmount=iw.prototype.unmount=function(){var s=this._internalRoot;if(s!==null){this._internalRoot=null;var l=s.containerInfo;xN(s.current,2,null,s,null,null),kg(),l[jo]=null}};function qg(s){this._internalRoot=s}qg.prototype.unstable_scheduleHydration=function(s){if(s){var l=yf();s={blockedOn:null,target:s,priority:l};for(var h=0;h<hl.length&&l!==0&&l<hl[h].priority;h++);hl.splice(h,0,s),h===0&&AN(s)}};var NN=t.version;if(NN!=="19.2.1")throw Error(r(527,NN,"19.2.1"));Z.findDOMNode=function(s){var l=s._reactInternals;if(l===void 0)throw typeof s.render=="function"?Error(r(188)):(s=Object.keys(s).join(","),Error(r(268,s)));return s=f(l),s=s!==null?m(s):null,s=s===null?null:s.stateNode,s};var PH={bundleType:0,version:"19.2.1",rendererPackageName:"react-dom",currentDispatcherRef:q,reconcilerVersion:"19.2.1"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Yg=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Yg.isDisabled&&Yg.supportsFiber)try{qt=Yg.inject(PH),mn=Yg}catch{}}return vh.createRoot=function(s,l){if(!i(s))throw Error(r(299));var h=!1,b="",A=IO,j=$O,I=BO;return l!=null&&(l.unstable_strictMode===!0&&(h=!0),l.identifierPrefix!==void 0&&(b=l.identifierPrefix),l.onUncaughtError!==void 0&&(A=l.onUncaughtError),l.onCaughtError!==void 0&&(j=l.onCaughtError),l.onRecoverableError!==void 0&&(I=l.onRecoverableError)),l=bN(s,1,!1,null,null,h,b,null,A,j,I,jN),s[jo]=l.current,B_(s),new iw(l)},vh.hydrateRoot=function(s,l,h){if(!i(s))throw Error(r(299));var b=!1,A="",j=IO,I=$O,G=BO,te=null;return h!=null&&(h.unstable_strictMode===!0&&(b=!0),h.identifierPrefix!==void 0&&(A=h.identifierPrefix),h.onUncaughtError!==void 0&&(j=h.onUncaughtError),h.onCaughtError!==void 0&&(I=h.onCaughtError),h.onRecoverableError!==void 0&&(G=h.onRecoverableError),h.formState!==void 0&&(te=h.formState)),l=bN(s,1,!0,l,h??null,b,A,te,j,I,G,jN),l.context=vN(null),h=l.current,b=Ei(),b=Hr(b),A=Js(b),A.callback=null,Qs(h,A,b),h=b,l.current.lanes=h,Oo(l,h),oo(l),s[jo]=l.current,B_(s),new qg(l)},vh.version="19.2.1",vh}var zN;function FH(){if(zN)return sw.exports;zN=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),sw.exports=HH(),sw.exports}var GH=FH();/**
 * react-router v7.10.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var UN="popstate";function qH(e={}){function t(i,a){let{pathname:o="/",search:c="",hash:u=""}=iu(i.location.hash.substring(1));return!o.startsWith("/")&&!o.startsWith(".")&&(o="/"+o),$S("",{pathname:o,search:c,hash:u},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function n(i,a){let o=i.document.querySelector("base"),c="";if(o&&o.getAttribute("href")){let u=i.location.href,f=u.indexOf("#");c=f===-1?u:u.slice(0,f)}return c+"#"+(typeof a=="string"?a:om(a))}function r(i,a){ua(i.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(a)})`)}return KH(t,n,r,e)}function fn(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function ua(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function YH(){return Math.random().toString(36).substring(2,10)}function HN(e,t){return{usr:e.state,key:e.key,idx:t}}function $S(e,t,n=null,r){return{pathname:typeof e=="string"?e:e.pathname,search:"",hash:"",...typeof t=="string"?iu(t):t,state:n,key:t&&t.key||r||YH()}}function om({pathname:e="/",search:t="",hash:n=""}){return t&&t!=="?"&&(e+=t.charAt(0)==="?"?t:"?"+t),n&&n!=="#"&&(e+=n.charAt(0)==="#"?n:"#"+n),e}function iu(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substring(n),e=e.substring(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substring(r),e=e.substring(0,r)),e&&(t.pathname=e)}return t}function KH(e,t,n,r={}){let{window:i=document.defaultView,v5Compat:a=!1}=r,o=i.history,c="POP",u=null,f=m();f==null&&(f=0,o.replaceState({...o.state,idx:f},""));function m(){return(o.state||{idx:null}).idx}function p(){c="POP";let E=m(),T=E==null?null:E-f;f=E,u&&u({action:c,location:w.location,delta:T})}function g(E,T){c="PUSH";let N=$S(w.location,E,T);n&&n(N,E),f=m()+1;let O=HN(N,f),P=w.createHref(N);try{o.pushState(O,"",P)}catch(C){if(C instanceof DOMException&&C.name==="DataCloneError")throw C;i.location.assign(P)}a&&u&&u({action:c,location:w.location,delta:1})}function v(E,T){c="REPLACE";let N=$S(w.location,E,T);n&&n(N,E),f=m();let O=HN(N,f),P=w.createHref(N);o.replaceState(O,"",P),a&&u&&u({action:c,location:w.location,delta:0})}function _(E){return WH(E)}let w={get action(){return c},get location(){return e(i,o)},listen(E){if(u)throw new Error("A history only accepts one active listener");return i.addEventListener(UN,p),u=E,()=>{i.removeEventListener(UN,p),u=null}},createHref(E){return t(i,E)},createURL:_,encodeLocation(E){let T=_(E);return{pathname:T.pathname,search:T.search,hash:T.hash}},push:g,replace:v,go(E){return o.go(E)}};return w}function WH(e,t=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),fn(n,"No window.location.(origin|href) available to create URL");let r=typeof e=="string"?e:om(e);return r=r.replace(/ $/,"%20"),!t&&r.startsWith("//")&&(r=n+r),new URL(r,n)}function _3(e,t,n="/"){return VH(e,t,n,!1)}function VH(e,t,n,r){let i=typeof t=="string"?iu(t):t,a=us(i.pathname||"/",n);if(a==null)return null;let o=w3(e);ZH(o);let c=null;for(let u=0;c==null&&u<o.length;++u){let f=sF(a);c=aF(o[u],f,r)}return c}function w3(e,t=[],n=[],r="",i=!1){let a=(o,c,u=i,f)=>{let m={relativePath:f===void 0?o.path||"":f,caseSensitive:o.caseSensitive===!0,childrenIndex:c,route:o};if(m.relativePath.startsWith("/")){if(!m.relativePath.startsWith(r)&&u)return;fn(m.relativePath.startsWith(r),`Absolute route path "${m.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),m.relativePath=m.relativePath.slice(r.length)}let p=ss([r,m.relativePath]),g=n.concat(m);o.children&&o.children.length>0&&(fn(o.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${p}".`),w3(o.children,t,g,p,u)),!(o.path==null&&!o.index)&&t.push({path:p,score:rF(p,o.index),routesMeta:g})};return e.forEach((o,c)=>{if(o.path===""||!o.path?.includes("?"))a(o,c);else for(let u of S3(o.path))a(o,c,!0,u)}),t}function S3(e){let t=e.split("/");if(t.length===0)return[];let[n,...r]=t,i=n.endsWith("?"),a=n.replace(/\?$/,"");if(r.length===0)return i?[a,""]:[a];let o=S3(r.join("/")),c=[];return c.push(...o.map(u=>u===""?a:[a,u].join("/"))),i&&c.push(...o),c.map(u=>e.startsWith("/")&&u===""?"/":u)}function ZH(e){e.sort((t,n)=>t.score!==n.score?n.score-t.score:iF(t.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}var XH=/^:[\w-]+$/,JH=3,QH=2,eF=1,tF=10,nF=-2,FN=e=>e==="*";function rF(e,t){let n=e.split("/"),r=n.length;return n.some(FN)&&(r+=nF),t&&(r+=QH),n.filter(i=>!FN(i)).reduce((i,a)=>i+(XH.test(a)?JH:a===""?eF:tF),r)}function iF(e,t){return e.length===t.length&&e.slice(0,-1).every((r,i)=>r===t[i])?e[e.length-1]-t[t.length-1]:0}function aF(e,t,n=!1){let{routesMeta:r}=e,i={},a="/",o=[];for(let c=0;c<r.length;++c){let u=r[c],f=c===r.length-1,m=a==="/"?t:t.slice(a.length)||"/",p=py({path:u.relativePath,caseSensitive:u.caseSensitive,end:f},m),g=u.route;if(!p&&f&&n&&!r[r.length-1].route.index&&(p=py({path:u.relativePath,caseSensitive:u.caseSensitive,end:!1},m)),!p)return null;Object.assign(i,p.params),o.push({params:i,pathname:ss([a,p.pathname]),pathnameBase:fF(ss([a,p.pathnameBase])),route:g}),p.pathnameBase!=="/"&&(a=ss([a,p.pathnameBase]))}return o}function py(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=oF(e.path,e.caseSensitive,e.end),i=t.match(n);if(!i)return null;let a=i[0],o=a.replace(/(.)\/+$/,"$1"),c=i.slice(1);return{params:r.reduce((f,{paramName:m,isOptional:p},g)=>{if(m==="*"){let _=c[g]||"";o=a.slice(0,a.length-_.length).replace(/(.)\/+$/,"$1")}const v=c[g];return p&&!v?f[m]=void 0:f[m]=(v||"").replace(/%2F/g,"/"),f},{}),pathname:a,pathnameBase:o,pattern:e}}function oF(e,t=!1,n=!0){ua(e==="*"||!e.endsWith("*")||e.endsWith("/*"),`Route path "${e}" will be treated as if it were "${e.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${e.replace(/\*$/,"/*")}".`);let r=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,c,u)=>(r.push({paramName:c,isOptional:u!=null}),u?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return e.endsWith("*")?(r.push({paramName:"*"}),i+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":e!==""&&e!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,t?void 0:"i"),r]}function sF(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return ua(!1,`The URL path "${e}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),e}}function us(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&r!=="/"?null:e.slice(n)||"/"}var lF=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,cF=e=>lF.test(e);function uF(e,t="/"){let{pathname:n,search:r="",hash:i=""}=typeof e=="string"?iu(e):e,a;if(n)if(cF(n))a=n;else{if(n.includes("//")){let o=n;n=n.replace(/\/\/+/g,"/"),ua(!1,`Pathnames cannot have embedded double slashes - normalizing ${o} -> ${n}`)}n.startsWith("/")?a=GN(n.substring(1),"/"):a=GN(n,t)}else a=t;return{pathname:a,search:hF(r),hash:mF(i)}}function GN(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function dw(e,t,n,r){return`Cannot include a '${e}' character in a manually specified \`to.${t}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function dF(e){return e.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function E3(e){let t=dF(e);return t.map((n,r)=>r===t.length-1?n.pathname:n.pathnameBase)}function k3(e,t,n,r=!1){let i;typeof e=="string"?i=iu(e):(i={...e},fn(!i.pathname||!i.pathname.includes("?"),dw("?","pathname","search",i)),fn(!i.pathname||!i.pathname.includes("#"),dw("#","pathname","hash",i)),fn(!i.search||!i.search.includes("#"),dw("#","search","hash",i)));let a=e===""||i.pathname==="",o=a?"/":i.pathname,c;if(o==null)c=n;else{let p=t.length-1;if(!r&&o.startsWith("..")){let g=o.split("/");for(;g[0]==="..";)g.shift(),p-=1;i.pathname=g.join("/")}c=p>=0?t[p]:"/"}let u=uF(i,c),f=o&&o!=="/"&&o.endsWith("/"),m=(a||o===".")&&n.endsWith("/");return!u.pathname.endsWith("/")&&(f||m)&&(u.pathname+="/"),u}var ss=e=>e.join("/").replace(/\/\/+/g,"/"),fF=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),hF=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,mF=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function pF(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}function gF(e){return e.map(t=>t.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var A3=["POST","PUT","PATCH","DELETE"];new Set(A3);var yF=["GET",...A3];new Set(yF);var Vd=S.createContext(null);Vd.displayName="DataRouter";var Kb=S.createContext(null);Kb.displayName="DataRouterState";S.createContext(!1);var T3=S.createContext({isTransitioning:!1});T3.displayName="ViewTransition";var bF=S.createContext(new Map);bF.displayName="Fetchers";var vF=S.createContext(null);vF.displayName="Await";var Fa=S.createContext(null);Fa.displayName="Navigation";var $m=S.createContext(null);$m.displayName="Location";var vs=S.createContext({outlet:null,matches:[],isDataRoute:!1});vs.displayName="Route";var Ik=S.createContext(null);Ik.displayName="RouteError";function xF(e,{relative:t}={}){fn(Bm(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:r}=S.useContext(Fa),{hash:i,pathname:a,search:o}=zm(e,{relative:t}),c=a;return n!=="/"&&(c=a==="/"?n:ss([n,a])),r.createHref({pathname:c,search:o,hash:i})}function Bm(){return S.useContext($m)!=null}function Cl(){return fn(Bm(),"useLocation() may be used only in the context of a <Router> component."),S.useContext($m).location}var O3="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function j3(e){S.useContext(Fa).static||S.useLayoutEffect(e)}function _F(){let{isDataRoute:e}=S.useContext(vs);return e?DF():wF()}function wF(){fn(Bm(),"useNavigate() may be used only in the context of a <Router> component.");let e=S.useContext(Vd),{basename:t,navigator:n}=S.useContext(Fa),{matches:r}=S.useContext(vs),{pathname:i}=Cl(),a=JSON.stringify(E3(r)),o=S.useRef(!1);return j3(()=>{o.current=!0}),S.useCallback((u,f={})=>{if(ua(o.current,O3),!o.current)return;if(typeof u=="number"){n.go(u);return}let m=k3(u,JSON.parse(a),i,f.relative==="path");e==null&&t!=="/"&&(m.pathname=m.pathname==="/"?t:ss([t,m.pathname])),(f.replace?n.replace:n.push)(m,f.state,f)},[t,n,a,i,e])}S.createContext(null);function zm(e,{relative:t}={}){let{matches:n}=S.useContext(vs),{pathname:r}=Cl(),i=JSON.stringify(E3(n));return S.useMemo(()=>k3(e,JSON.parse(i),r,t==="path"),[e,i,r,t])}function SF(e,t){return N3(e,t)}function N3(e,t,n,r,i){fn(Bm(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:a}=S.useContext(Fa),{matches:o}=S.useContext(vs),c=o[o.length-1],u=c?c.params:{},f=c?c.pathname:"/",m=c?c.pathnameBase:"/",p=c&&c.route;{let N=p&&p.path||"";C3(f,!p||N.endsWith("*")||N.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${f}" (under <Route path="${N}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${N}"> to <Route path="${N==="/"?"*":`${N}/*`}">.`)}let g=Cl(),v;if(t){let N=typeof t=="string"?iu(t):t;fn(m==="/"||N.pathname?.startsWith(m),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${m}" but pathname "${N.pathname}" was given in the \`location\` prop.`),v=N}else v=g;let _=v.pathname||"/",w=_;if(m!=="/"){let N=m.replace(/^\//,"").split("/");w="/"+_.replace(/^\//,"").split("/").slice(N.length).join("/")}let E=_3(e,{pathname:w});ua(p||E!=null,`No routes matched location "${v.pathname}${v.search}${v.hash}" `),ua(E==null||E[E.length-1].route.element!==void 0||E[E.length-1].route.Component!==void 0||E[E.length-1].route.lazy!==void 0,`Matched leaf route at location "${v.pathname}${v.search}${v.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let T=OF(E&&E.map(N=>Object.assign({},N,{params:Object.assign({},u,N.params),pathname:ss([m,a.encodeLocation?a.encodeLocation(N.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:N.pathname]),pathnameBase:N.pathnameBase==="/"?m:ss([m,a.encodeLocation?a.encodeLocation(N.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:N.pathnameBase])})),o,n,r,i);return t&&T?S.createElement($m.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...v},navigationType:"POP"}},T):T}function EF(){let e=PF(),t=pF(e)?`${e.status} ${e.statusText}`:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,r="rgba(200,200,200, 0.5)",i={padding:"0.5rem",backgroundColor:r},a={padding:"2px 4px",backgroundColor:r},o=null;return console.error("Error handled by React Router default ErrorBoundary:",e),o=S.createElement(S.Fragment,null,S.createElement("p",null," Hey developer "),S.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",S.createElement("code",{style:a},"ErrorBoundary")," or"," ",S.createElement("code",{style:a},"errorElement")," prop on your route.")),S.createElement(S.Fragment,null,S.createElement("h2",null,"Unexpected Application Error!"),S.createElement("h3",{style:{fontStyle:"italic"}},t),n?S.createElement("pre",{style:i},n):null,o)}var kF=S.createElement(EF,null),AF=class extends S.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||t.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){this.props.onError?this.props.onError(e,t):console.error("React Router caught the following error during render",e)}render(){return this.state.error!==void 0?S.createElement(vs.Provider,{value:this.props.routeContext},S.createElement(Ik.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function TF({routeContext:e,match:t,children:n}){let r=S.useContext(Vd);return r&&r.static&&r.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=t.route.id),S.createElement(vs.Provider,{value:e},n)}function OF(e,t=[],n=null,r=null,i=null){if(e==null){if(!n)return null;if(n.errors)e=n.matches;else if(t.length===0&&!n.initialized&&n.matches.length>0)e=n.matches;else return null}let a=e,o=n?.errors;if(o!=null){let m=a.findIndex(p=>p.route.id&&o?.[p.route.id]!==void 0);fn(m>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(o).join(",")}`),a=a.slice(0,Math.min(a.length,m+1))}let c=!1,u=-1;if(n)for(let m=0;m<a.length;m++){let p=a[m];if((p.route.HydrateFallback||p.route.hydrateFallbackElement)&&(u=m),p.route.id){let{loaderData:g,errors:v}=n,_=p.route.loader&&!g.hasOwnProperty(p.route.id)&&(!v||v[p.route.id]===void 0);if(p.route.lazy||_){c=!0,u>=0?a=a.slice(0,u+1):a=[a[0]];break}}}let f=n&&r?(m,p)=>{r(m,{location:n.location,params:n.matches?.[0]?.params??{},unstable_pattern:gF(n.matches),errorInfo:p})}:void 0;return a.reduceRight((m,p,g)=>{let v,_=!1,w=null,E=null;n&&(v=o&&p.route.id?o[p.route.id]:void 0,w=p.route.errorElement||kF,c&&(u<0&&g===0?(C3("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),_=!0,E=null):u===g&&(_=!0,E=p.route.hydrateFallbackElement||null)));let T=t.concat(a.slice(0,g+1)),N=()=>{let O;return v?O=w:_?O=E:p.route.Component?O=S.createElement(p.route.Component,null):p.route.element?O=p.route.element:O=m,S.createElement(TF,{match:p,routeContext:{outlet:m,matches:T,isDataRoute:n!=null},children:O})};return n&&(p.route.ErrorBoundary||p.route.errorElement||g===0)?S.createElement(AF,{location:n.location,revalidation:n.revalidation,component:w,error:v,children:N(),routeContext:{outlet:null,matches:T,isDataRoute:!0},onError:f}):N()},null)}function $k(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function jF(e){let t=S.useContext(Vd);return fn(t,$k(e)),t}function NF(e){let t=S.useContext(Kb);return fn(t,$k(e)),t}function CF(e){let t=S.useContext(vs);return fn(t,$k(e)),t}function Bk(e){let t=CF(e),n=t.matches[t.matches.length-1];return fn(n.route.id,`${e} can only be used on routes that contain a unique "id"`),n.route.id}function MF(){return Bk("useRouteId")}function PF(){let e=S.useContext(Ik),t=NF("useRouteError"),n=Bk("useRouteError");return e!==void 0?e:t.errors?.[n]}function DF(){let{router:e}=jF("useNavigate"),t=Bk("useNavigate"),n=S.useRef(!1);return j3(()=>{n.current=!0}),S.useCallback(async(i,a={})=>{ua(n.current,O3),n.current&&(typeof i=="number"?await e.navigate(i):await e.navigate(i,{fromRouteId:t,...a}))},[e,t])}var qN={};function C3(e,t,n){!t&&!qN[e]&&(qN[e]=!0,ua(!1,n))}S.memo(RF);function RF({routes:e,future:t,state:n,unstable_onError:r}){return N3(e,void 0,n,r,t)}function X0(e){fn(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function LF({basename:e="/",children:t=null,location:n,navigationType:r="POP",navigator:i,static:a=!1,unstable_useTransitions:o}){fn(!Bm(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let c=e.replace(/^\/*/,"/"),u=S.useMemo(()=>({basename:c,navigator:i,static:a,unstable_useTransitions:o,future:{}}),[c,i,a,o]);typeof n=="string"&&(n=iu(n));let{pathname:f="/",search:m="",hash:p="",state:g=null,key:v="default"}=n,_=S.useMemo(()=>{let w=us(f,c);return w==null?null:{location:{pathname:w,search:m,hash:p,state:g,key:v},navigationType:r}},[c,f,m,p,g,v,r]);return ua(_!=null,`<Router basename="${c}"> is not able to match the URL "${f}${m}${p}" because it does not start with the basename, so the <Router> won't render anything.`),_==null?null:S.createElement(Fa.Provider,{value:u},S.createElement($m.Provider,{children:t,value:_}))}function IF({children:e,location:t}){return SF(BS(e),t)}function BS(e,t=[]){let n=[];return S.Children.forEach(e,(r,i)=>{if(!S.isValidElement(r))return;let a=[...t,i];if(r.type===S.Fragment){n.push.apply(n,BS(r.props.children,a));return}fn(r.type===X0,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),fn(!r.props.index||!r.props.children,"An index route cannot have child routes.");let o={id:r.props.id||a.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,middleware:r.props.middleware,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(o.children=BS(r.props.children,a)),n.push(o)}),n}var J0="get",Q0="application/x-www-form-urlencoded";function Wb(e){return typeof HTMLElement<"u"&&e instanceof HTMLElement}function $F(e){return Wb(e)&&e.tagName.toLowerCase()==="button"}function BF(e){return Wb(e)&&e.tagName.toLowerCase()==="form"}function zF(e){return Wb(e)&&e.tagName.toLowerCase()==="input"}function UF(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function HF(e,t){return e.button===0&&(!t||t==="_self")&&!UF(e)}var Kg=null;function FF(){if(Kg===null)try{new FormData(document.createElement("form"),0),Kg=!1}catch{Kg=!0}return Kg}var GF=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function fw(e){return e!=null&&!GF.has(e)?(ua(!1,`"${e}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Q0}"`),null):e}function qF(e,t){let n,r,i,a,o;if(BF(e)){let c=e.getAttribute("action");r=c?us(c,t):null,n=e.getAttribute("method")||J0,i=fw(e.getAttribute("enctype"))||Q0,a=new FormData(e)}else if($F(e)||zF(e)&&(e.type==="submit"||e.type==="image")){let c=e.form;if(c==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let u=e.getAttribute("formaction")||c.getAttribute("action");if(r=u?us(u,t):null,n=e.getAttribute("formmethod")||c.getAttribute("method")||J0,i=fw(e.getAttribute("formenctype"))||fw(c.getAttribute("enctype"))||Q0,a=new FormData(c,e),!FF()){let{name:f,type:m,value:p}=e;if(m==="image"){let g=f?`${f}.`:"";a.append(`${g}x`,"0"),a.append(`${g}y`,"0")}else f&&a.append(f,p)}}else{if(Wb(e))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=J0,r=null,i=Q0,o=e}return a&&i==="text/plain"&&(o=a,a=void 0),{action:r,method:n.toLowerCase(),encType:i,formData:a,body:o}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function zk(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function YF(e,t,n){let r=typeof e=="string"?new URL(e,typeof window>"u"?"server://singlefetch/":window.location.origin):e;return r.pathname==="/"?r.pathname=`_root.${n}`:t&&us(r.pathname,t)==="/"?r.pathname=`${t.replace(/\/$/,"")}/_root.${n}`:r.pathname=`${r.pathname.replace(/\/$/,"")}.${n}`,r}async function KF(e,t){if(e.id in t)return t[e.id];try{let n=await import(e.module);return t[e.id]=n,n}catch(n){return console.error(`Error loading route module \`${e.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function WF(e){return e==null?!1:e.href==null?e.rel==="preload"&&typeof e.imageSrcSet=="string"&&typeof e.imageSizes=="string":typeof e.rel=="string"&&typeof e.href=="string"}async function VF(e,t,n){let r=await Promise.all(e.map(async i=>{let a=t.routes[i.route.id];if(a){let o=await KF(a,n);return o.links?o.links():[]}return[]}));return QF(r.flat(1).filter(WF).filter(i=>i.rel==="stylesheet"||i.rel==="preload").map(i=>i.rel==="stylesheet"?{...i,rel:"prefetch",as:"style"}:{...i,rel:"prefetch"}))}function YN(e,t,n,r,i,a){let o=(u,f)=>n[f]?u.route.id!==n[f].route.id:!0,c=(u,f)=>n[f].pathname!==u.pathname||n[f].route.path?.endsWith("*")&&n[f].params["*"]!==u.params["*"];return a==="assets"?t.filter((u,f)=>o(u,f)||c(u,f)):a==="data"?t.filter((u,f)=>{let m=r.routes[u.route.id];if(!m||!m.hasLoader)return!1;if(o(u,f)||c(u,f))return!0;if(u.route.shouldRevalidate){let p=u.route.shouldRevalidate({currentUrl:new URL(i.pathname+i.search+i.hash,window.origin),currentParams:n[0]?.params||{},nextUrl:new URL(e,window.origin),nextParams:u.params,defaultShouldRevalidate:!0});if(typeof p=="boolean")return p}return!0}):[]}function ZF(e,t,{includeHydrateFallback:n}={}){return XF(e.map(r=>{let i=t.routes[r.route.id];if(!i)return[];let a=[i.module];return i.clientActionModule&&(a=a.concat(i.clientActionModule)),i.clientLoaderModule&&(a=a.concat(i.clientLoaderModule)),n&&i.hydrateFallbackModule&&(a=a.concat(i.hydrateFallbackModule)),i.imports&&(a=a.concat(i.imports)),a}).flat(1))}function XF(e){return[...new Set(e)]}function JF(e){let t={},n=Object.keys(e).sort();for(let r of n)t[r]=e[r];return t}function QF(e,t){let n=new Set;return new Set(t),e.reduce((r,i)=>{let a=JSON.stringify(JF(i));return n.has(a)||(n.add(a),r.push({key:a,link:i})),r},[])}function M3(){let e=S.useContext(Vd);return zk(e,"You must render this element inside a <DataRouterContext.Provider> element"),e}function eG(){let e=S.useContext(Kb);return zk(e,"You must render this element inside a <DataRouterStateContext.Provider> element"),e}var Uk=S.createContext(void 0);Uk.displayName="FrameworkContext";function P3(){let e=S.useContext(Uk);return zk(e,"You must render this element inside a <HydratedRouter> element"),e}function tG(e,t){let n=S.useContext(Uk),[r,i]=S.useState(!1),[a,o]=S.useState(!1),{onFocus:c,onBlur:u,onMouseEnter:f,onMouseLeave:m,onTouchStart:p}=t,g=S.useRef(null);S.useEffect(()=>{if(e==="render"&&o(!0),e==="viewport"){let w=T=>{T.forEach(N=>{o(N.isIntersecting)})},E=new IntersectionObserver(w,{threshold:.5});return g.current&&E.observe(g.current),()=>{E.disconnect()}}},[e]),S.useEffect(()=>{if(r){let w=setTimeout(()=>{o(!0)},100);return()=>{clearTimeout(w)}}},[r]);let v=()=>{i(!0)},_=()=>{i(!1),o(!1)};return n?e!=="intent"?[a,g,{}]:[a,g,{onFocus:xh(c,v),onBlur:xh(u,_),onMouseEnter:xh(f,v),onMouseLeave:xh(m,_),onTouchStart:xh(p,v)}]:[!1,g,{}]}function xh(e,t){return n=>{e&&e(n),n.defaultPrevented||t(n)}}function nG({page:e,...t}){let{router:n}=M3(),r=S.useMemo(()=>_3(n.routes,e,n.basename),[n.routes,e,n.basename]);return r?S.createElement(iG,{page:e,matches:r,...t}):null}function rG(e){let{manifest:t,routeModules:n}=P3(),[r,i]=S.useState([]);return S.useEffect(()=>{let a=!1;return VF(e,t,n).then(o=>{a||i(o)}),()=>{a=!0}},[e,t,n]),r}function iG({page:e,matches:t,...n}){let r=Cl(),{manifest:i,routeModules:a}=P3(),{basename:o}=M3(),{loaderData:c,matches:u}=eG(),f=S.useMemo(()=>YN(e,t,u,i,r,"data"),[e,t,u,i,r]),m=S.useMemo(()=>YN(e,t,u,i,r,"assets"),[e,t,u,i,r]),p=S.useMemo(()=>{if(e===r.pathname+r.search+r.hash)return[];let _=new Set,w=!1;if(t.forEach(T=>{let N=i.routes[T.route.id];!N||!N.hasLoader||(!f.some(O=>O.route.id===T.route.id)&&T.route.id in c&&a[T.route.id]?.shouldRevalidate||N.hasClientLoader?w=!0:_.add(T.route.id))}),_.size===0)return[];let E=YF(e,o,"data");return w&&_.size>0&&E.searchParams.set("_routes",t.filter(T=>_.has(T.route.id)).map(T=>T.route.id).join(",")),[E.pathname+E.search]},[o,c,r,i,f,t,e,a]),g=S.useMemo(()=>ZF(m,i),[m,i]),v=rG(m);return S.createElement(S.Fragment,null,p.map(_=>S.createElement("link",{key:_,rel:"prefetch",as:"fetch",href:_,...n})),g.map(_=>S.createElement("link",{key:_,rel:"modulepreload",href:_,...n})),v.map(({key:_,link:w})=>S.createElement("link",{key:_,nonce:n.nonce,...w})))}function aG(...e){return t=>{e.forEach(n=>{typeof n=="function"?n(t):n!=null&&(n.current=t)})}}var D3=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{D3&&(window.__reactRouterVersion="7.10.1")}catch{}function oG({basename:e,children:t,unstable_useTransitions:n,window:r}){let i=S.useRef();i.current==null&&(i.current=qH({window:r,v5Compat:!0}));let a=i.current,[o,c]=S.useState({action:a.action,location:a.location}),u=S.useCallback(f=>{n===!1?c(f):S.startTransition(()=>c(f))},[n]);return S.useLayoutEffect(()=>a.listen(u),[a,u]),S.createElement(LF,{basename:e,children:t,location:o.location,navigationType:o.action,navigator:a,unstable_useTransitions:n===!0})}var R3=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,L3=S.forwardRef(function({onClick:t,discover:n="render",prefetch:r="none",relative:i,reloadDocument:a,replace:o,state:c,target:u,to:f,preventScrollReset:m,viewTransition:p,...g},v){let{basename:_,unstable_useTransitions:w}=S.useContext(Fa),E=typeof f=="string"&&R3.test(f),T,N=!1;if(typeof f=="string"&&E&&(T=f,D3))try{let K=new URL(window.location.href),F=f.startsWith("//")?new URL(K.protocol+f):new URL(f),z=us(F.pathname,_);F.origin===K.origin&&z!=null?f=z+F.search+F.hash:N=!0}catch{ua(!1,`<Link to="${f}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let O=xF(f,{relative:i}),[P,C,D]=tG(r,g),$=uG(f,{replace:o,state:c,target:u,preventScrollReset:m,relative:i,viewTransition:p,unstable_useTransitions:w});function H(K){t&&t(K),K.defaultPrevented||$(K)}let Y=S.createElement("a",{...g,...D,href:T||O,onClick:N||a?t:H,ref:aG(v,C),target:u,"data-discover":!E&&n==="render"?"true":void 0});return P&&!E?S.createElement(S.Fragment,null,Y,S.createElement(nG,{page:O})):Y});L3.displayName="Link";var sG=S.forwardRef(function({"aria-current":t="page",caseSensitive:n=!1,className:r="",end:i=!1,style:a,to:o,viewTransition:c,children:u,...f},m){let p=zm(o,{relative:f.relative}),g=Cl(),v=S.useContext(Kb),{navigator:_,basename:w}=S.useContext(Fa),E=v!=null&&pG(p)&&c===!0,T=_.encodeLocation?_.encodeLocation(p).pathname:p.pathname,N=g.pathname,O=v&&v.navigation&&v.navigation.location?v.navigation.location.pathname:null;n||(N=N.toLowerCase(),O=O?O.toLowerCase():null,T=T.toLowerCase()),O&&w&&(O=us(O,w)||O);const P=T!=="/"&&T.endsWith("/")?T.length-1:T.length;let C=N===T||!i&&N.startsWith(T)&&N.charAt(P)==="/",D=O!=null&&(O===T||!i&&O.startsWith(T)&&O.charAt(T.length)==="/"),$={isActive:C,isPending:D,isTransitioning:E},H=C?t:void 0,Y;typeof r=="function"?Y=r($):Y=[r,C?"active":null,D?"pending":null,E?"transitioning":null].filter(Boolean).join(" ");let K=typeof a=="function"?a($):a;return S.createElement(L3,{...f,"aria-current":H,className:Y,ref:m,style:K,to:o,viewTransition:c},typeof u=="function"?u($):u)});sG.displayName="NavLink";var lG=S.forwardRef(({discover:e="render",fetcherKey:t,navigate:n,reloadDocument:r,replace:i,state:a,method:o=J0,action:c,onSubmit:u,relative:f,preventScrollReset:m,viewTransition:p,...g},v)=>{let{unstable_useTransitions:_}=S.useContext(Fa),w=hG(),E=mG(c,{relative:f}),T=o.toLowerCase()==="get"?"get":"post",N=typeof c=="string"&&R3.test(c),O=P=>{if(u&&u(P),P.defaultPrevented)return;P.preventDefault();let C=P.nativeEvent.submitter,D=C?.getAttribute("formmethod")||o,$=()=>w(C||P.currentTarget,{fetcherKey:t,method:D,navigate:n,replace:i,state:a,relative:f,preventScrollReset:m,viewTransition:p});_&&n!==!1?S.startTransition(()=>$()):$()};return S.createElement("form",{ref:v,method:T,action:E,onSubmit:r?u:O,...g,"data-discover":!N&&e==="render"?"true":void 0})});lG.displayName="Form";function cG(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function I3(e){let t=S.useContext(Vd);return fn(t,cG(e)),t}function uG(e,{target:t,replace:n,state:r,preventScrollReset:i,relative:a,viewTransition:o,unstable_useTransitions:c}={}){let u=_F(),f=Cl(),m=zm(e,{relative:a});return S.useCallback(p=>{if(HF(p,t)){p.preventDefault();let g=n!==void 0?n:om(f)===om(m),v=()=>u(e,{replace:g,state:r,preventScrollReset:i,relative:a,viewTransition:o});c?S.startTransition(()=>v()):v()}},[f,u,m,n,r,t,e,i,a,o,c])}var dG=0,fG=()=>`__${String(++dG)}__`;function hG(){let{router:e}=I3("useSubmit"),{basename:t}=S.useContext(Fa),n=MF(),r=e.fetch,i=e.navigate;return S.useCallback(async(a,o={})=>{let{action:c,method:u,encType:f,formData:m,body:p}=qF(a,t);if(o.navigate===!1){let g=o.fetcherKey||fG();await r(g,n,o.action||c,{preventScrollReset:o.preventScrollReset,formData:m,body:p,formMethod:o.method||u,formEncType:o.encType||f,flushSync:o.flushSync})}else await i(o.action||c,{preventScrollReset:o.preventScrollReset,formData:m,body:p,formMethod:o.method||u,formEncType:o.encType||f,replace:o.replace,state:o.state,fromRouteId:n,flushSync:o.flushSync,viewTransition:o.viewTransition})},[r,i,t,n])}function mG(e,{relative:t}={}){let{basename:n}=S.useContext(Fa),r=S.useContext(vs);fn(r,"useFormAction must be used inside a RouteContext");let[i]=r.matches.slice(-1),a={...zm(e||".",{relative:t})},o=Cl();if(e==null){a.search=o.search;let c=new URLSearchParams(a.search),u=c.getAll("index");if(u.some(m=>m==="")){c.delete("index"),u.filter(p=>p).forEach(p=>c.append("index",p));let m=c.toString();a.search=m?`?${m}`:""}}return(!e||e===".")&&i.route.index&&(a.search=a.search?a.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(a.pathname=a.pathname==="/"?n:ss([n,a.pathname])),om(a)}function pG(e,{relative:t}={}){let n=S.useContext(T3);fn(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=I3("useViewTransitionState"),i=zm(e,{relative:t});if(!n.isTransitioning)return!1;let a=us(n.currentLocation.pathname,r)||n.currentLocation.pathname,o=us(n.nextLocation.pathname,r)||n.nextLocation.pathname;return py(i.pathname,o)!=null||py(i.pathname,a)!=null}var Zd=x3();const gG=ui(Zd);let yG={data:""},bG=e=>typeof window=="object"?((e?e.querySelector("#_goober"):window._goober)||Object.assign((e||document.head).appendChild(document.createElement("style")),{innerHTML:" ",id:"_goober"})).firstChild:e||yG,vG=/(?:([\u0080-\uFFFF\w-%@]+) *:? *([^{;]+?);|([^;}{]*?) *{)|(}\s*)/g,xG=/\/\*[^]*?\*\/|  +/g,KN=/\n+/g,yl=(e,t)=>{let n="",r="",i="";for(let a in e){let o=e[a];a[0]=="@"?a[1]=="i"?n=a+" "+o+";":r+=a[1]=="f"?yl(o,a):a+"{"+yl(o,a[1]=="k"?"":t)+"}":typeof o=="object"?r+=yl(o,t?t.replace(/([^,])+/g,c=>a.replace(/([^,]*:\S+\([^)]*\))|([^,])+/g,u=>/&/.test(u)?u.replace(/&/g,c):c?c+" "+u:u)):a):o!=null&&(a=/^--/.test(a)?a:a.replace(/[A-Z]/g,"-$&").toLowerCase(),i+=yl.p?yl.p(a,o):a+":"+o+";")}return n+(t&&i?t+"{"+i+"}":i)+r},Xo={},$3=e=>{if(typeof e=="object"){let t="";for(let n in e)t+=n+$3(e[n]);return t}return e},_G=(e,t,n,r,i)=>{let a=$3(e),o=Xo[a]||(Xo[a]=(u=>{let f=0,m=11;for(;f<u.length;)m=101*m+u.charCodeAt(f++)>>>0;return"go"+m})(a));if(!Xo[o]){let u=a!==e?e:(f=>{let m,p,g=[{}];for(;m=vG.exec(f.replace(xG,""));)m[4]?g.shift():m[3]?(p=m[3].replace(KN," ").trim(),g.unshift(g[0][p]=g[0][p]||{})):g[0][m[1]]=m[2].replace(KN," ").trim();return g[0]})(e);Xo[o]=yl(i?{["@keyframes "+o]:u}:u,n?"":"."+o)}let c=n&&Xo.g?Xo.g:null;return n&&(Xo.g=Xo[o]),((u,f,m,p)=>{p?f.data=f.data.replace(p,u):f.data.indexOf(u)===-1&&(f.data=m?u+f.data:f.data+u)})(Xo[o],t,r,c),o},wG=(e,t,n)=>e.reduce((r,i,a)=>{let o=t[a];if(o&&o.call){let c=o(n),u=c&&c.props&&c.props.className||/^go/.test(c)&&c;o=u?"."+u:c&&typeof c=="object"?c.props?"":yl(c,""):c===!1?"":c}return r+i+(o??"")},"");function Vb(e){let t=this||{},n=e.call?e(t.p):e;return _G(n.unshift?n.raw?wG(n,[].slice.call(arguments,1),t.p):n.reduce((r,i)=>Object.assign(r,i&&i.call?i(t.p):i),{}):n,bG(t.target),t.g,t.o,t.k)}let B3,zS,US;Vb.bind({g:1});let ds=Vb.bind({k:1});function SG(e,t,n,r){yl.p=t,B3=e,zS=n,US=r}function Ml(e,t){let n=this||{};return function(){let r=arguments;function i(a,o){let c=Object.assign({},a),u=c.className||i.className;n.p=Object.assign({theme:zS&&zS()},c),n.o=/ *go\d+/.test(u),c.className=Vb.apply(n,r)+(u?" "+u:"");let f=e;return e[0]&&(f=c.as||e,delete c.as),US&&f[0]&&US(c),B3(f,c)}return i}}var EG=e=>typeof e=="function",gy=(e,t)=>EG(e)?e(t):e,kG=(()=>{let e=0;return()=>(++e).toString()})(),z3=(()=>{let e;return()=>{if(e===void 0&&typeof window<"u"){let t=matchMedia("(prefers-reduced-motion: reduce)");e=!t||t.matches}return e}})(),AG=20,Hk="default",U3=(e,t)=>{let{toastLimit:n}=e.settings;switch(t.type){case 0:return{...e,toasts:[t.toast,...e.toasts].slice(0,n)};case 1:return{...e,toasts:e.toasts.map(o=>o.id===t.toast.id?{...o,...t.toast}:o)};case 2:let{toast:r}=t;return U3(e,{type:e.toasts.find(o=>o.id===r.id)?1:0,toast:r});case 3:let{toastId:i}=t;return{...e,toasts:e.toasts.map(o=>o.id===i||i===void 0?{...o,dismissed:!0,visible:!1}:o)};case 4:return t.toastId===void 0?{...e,toasts:[]}:{...e,toasts:e.toasts.filter(o=>o.id!==t.toastId)};case 5:return{...e,pausedAt:t.time};case 6:let a=t.time-(e.pausedAt||0);return{...e,pausedAt:void 0,toasts:e.toasts.map(o=>({...o,pauseDuration:o.pauseDuration+a}))}}},ey=[],H3={toasts:[],pausedAt:void 0,settings:{toastLimit:AG}},go={},F3=(e,t=Hk)=>{go[t]=U3(go[t]||H3,e),ey.forEach(([n,r])=>{n===t&&r(go[t])})},G3=e=>Object.keys(go).forEach(t=>F3(e,t)),TG=e=>Object.keys(go).find(t=>go[t].toasts.some(n=>n.id===e)),Zb=(e=Hk)=>t=>{F3(t,e)},OG={blank:4e3,error:4e3,success:2e3,loading:1/0,custom:4e3},jG=(e={},t=Hk)=>{let[n,r]=S.useState(go[t]||H3),i=S.useRef(go[t]);S.useEffect(()=>(i.current!==go[t]&&r(go[t]),ey.push([t,r]),()=>{let o=ey.findIndex(([c])=>c===t);o>-1&&ey.splice(o,1)}),[t]);let a=n.toasts.map(o=>{var c,u,f;return{...e,...e[o.type],...o,removeDelay:o.removeDelay||((c=e[o.type])==null?void 0:c.removeDelay)||e?.removeDelay,duration:o.duration||((u=e[o.type])==null?void 0:u.duration)||e?.duration||OG[o.type],style:{...e.style,...(f=e[o.type])==null?void 0:f.style,...o.style}}});return{...n,toasts:a}},NG=(e,t="blank",n)=>({createdAt:Date.now(),visible:!0,dismissed:!1,type:t,ariaProps:{role:"status","aria-live":"polite"},message:e,pauseDuration:0,...n,id:n?.id||kG()}),Um=e=>(t,n)=>{let r=NG(t,e,n);return Zb(r.toasterId||TG(r.id))({type:2,toast:r}),r.id},dn=(e,t)=>Um("blank")(e,t);dn.error=Um("error");dn.success=Um("success");dn.loading=Um("loading");dn.custom=Um("custom");dn.dismiss=(e,t)=>{let n={type:3,toastId:e};t?Zb(t)(n):G3(n)};dn.dismissAll=e=>dn.dismiss(void 0,e);dn.remove=(e,t)=>{let n={type:4,toastId:e};t?Zb(t)(n):G3(n)};dn.removeAll=e=>dn.remove(void 0,e);dn.promise=(e,t,n)=>{let r=dn.loading(t.loading,{...n,...n?.loading});return typeof e=="function"&&(e=e()),e.then(i=>{let a=t.success?gy(t.success,i):void 0;return a?dn.success(a,{id:r,...n,...n?.success}):dn.dismiss(r),i}).catch(i=>{let a=t.error?gy(t.error,i):void 0;a?dn.error(a,{id:r,...n,...n?.error}):dn.dismiss(r)}),e};var CG=1e3,MG=(e,t="default")=>{let{toasts:n,pausedAt:r}=jG(e,t),i=S.useRef(new Map).current,a=S.useCallback((p,g=CG)=>{if(i.has(p))return;let v=setTimeout(()=>{i.delete(p),o({type:4,toastId:p})},g);i.set(p,v)},[]);S.useEffect(()=>{if(r)return;let p=Date.now(),g=n.map(v=>{if(v.duration===1/0)return;let _=(v.duration||0)+v.pauseDuration-(p-v.createdAt);if(_<0){v.visible&&dn.dismiss(v.id);return}return setTimeout(()=>dn.dismiss(v.id,t),_)});return()=>{g.forEach(v=>v&&clearTimeout(v))}},[n,r,t]);let o=S.useCallback(Zb(t),[t]),c=S.useCallback(()=>{o({type:5,time:Date.now()})},[o]),u=S.useCallback((p,g)=>{o({type:1,toast:{id:p,height:g}})},[o]),f=S.useCallback(()=>{r&&o({type:6,time:Date.now()})},[r,o]),m=S.useCallback((p,g)=>{let{reverseOrder:v=!1,gutter:_=8,defaultPosition:w}=g||{},E=n.filter(O=>(O.position||w)===(p.position||w)&&O.height),T=E.findIndex(O=>O.id===p.id),N=E.filter((O,P)=>P<T&&O.visible).length;return E.filter(O=>O.visible).slice(...v?[N+1]:[0,N]).reduce((O,P)=>O+(P.height||0)+_,0)},[n]);return S.useEffect(()=>{n.forEach(p=>{if(p.dismissed)a(p.id,p.removeDelay);else{let g=i.get(p.id);g&&(clearTimeout(g),i.delete(p.id))}})},[n,a]),{toasts:n,handlers:{updateHeight:u,startPause:c,endPause:f,calculateOffset:m}}},PG=ds`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
 transform: scale(1) rotate(45deg);
  opacity: 1;
}`,DG=ds`
from {
  transform: scale(0);
  opacity: 0;
}
to {
  transform: scale(1);
  opacity: 1;
}`,RG=ds`
from {
  transform: scale(0) rotate(90deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(90deg);
	opacity: 1;
}`,LG=Ml("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${e=>e.primary||"#ff4b4b"};
  position: relative;
  transform: rotate(45deg);

  animation: ${PG} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;

  &:after,
  &:before {
    content: '';
    animation: ${DG} 0.15s ease-out forwards;
    animation-delay: 150ms;
    position: absolute;
    border-radius: 3px;
    opacity: 0;
    background: ${e=>e.secondary||"#fff"};
    bottom: 9px;
    left: 4px;
    height: 2px;
    width: 12px;
  }

  &:before {
    animation: ${RG} 0.15s ease-out forwards;
    animation-delay: 180ms;
    transform: rotate(90deg);
  }
`,IG=ds`
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
`,$G=Ml("div")`
  width: 12px;
  height: 12px;
  box-sizing: border-box;
  border: 2px solid;
  border-radius: 100%;
  border-color: ${e=>e.secondary||"#e0e0e0"};
  border-right-color: ${e=>e.primary||"#616161"};
  animation: ${IG} 1s linear infinite;
`,BG=ds`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(45deg);
	opacity: 1;
}`,zG=ds`
0% {
	height: 0;
	width: 0;
	opacity: 0;
}
40% {
  height: 0;
	width: 6px;
	opacity: 1;
}
100% {
  opacity: 1;
  height: 10px;
}`,UG=Ml("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${e=>e.primary||"#61d345"};
  position: relative;
  transform: rotate(45deg);

  animation: ${BG} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;
  &:after {
    content: '';
    box-sizing: border-box;
    animation: ${zG} 0.2s ease-out forwards;
    opacity: 0;
    animation-delay: 200ms;
    position: absolute;
    border-right: 2px solid;
    border-bottom: 2px solid;
    border-color: ${e=>e.secondary||"#fff"};
    bottom: 6px;
    left: 6px;
    height: 10px;
    width: 6px;
  }
`,HG=Ml("div")`
  position: absolute;
`,FG=Ml("div")`
  position: relative;
  display: flex;
  justify-content: center;
  align-items: center;
  min-width: 20px;
  min-height: 20px;
`,GG=ds`
from {
  transform: scale(0.6);
  opacity: 0.4;
}
to {
  transform: scale(1);
  opacity: 1;
}`,qG=Ml("div")`
  position: relative;
  transform: scale(0.6);
  opacity: 0.4;
  min-width: 20px;
  animation: ${GG} 0.3s 0.12s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
`,YG=({toast:e})=>{let{icon:t,type:n,iconTheme:r}=e;return t!==void 0?typeof t=="string"?S.createElement(qG,null,t):t:n==="blank"?null:S.createElement(FG,null,S.createElement($G,{...r}),n!=="loading"&&S.createElement(HG,null,n==="error"?S.createElement(LG,{...r}):S.createElement(UG,{...r})))},KG=e=>`
0% {transform: translate3d(0,${e*-200}%,0) scale(.6); opacity:.5;}
100% {transform: translate3d(0,0,0) scale(1); opacity:1;}
`,WG=e=>`
0% {transform: translate3d(0,0,-1px) scale(1); opacity:1;}
100% {transform: translate3d(0,${e*-150}%,-1px) scale(.6); opacity:0;}
`,VG="0%{opacity:0;} 100%{opacity:1;}",ZG="0%{opacity:1;} 100%{opacity:0;}",XG=Ml("div")`
  display: flex;
  align-items: center;
  background: #fff;
  color: #363636;
  line-height: 1.3;
  will-change: transform;
  box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1), 0 3px 3px rgba(0, 0, 0, 0.05);
  max-width: 350px;
  pointer-events: auto;
  padding: 8px 10px;
  border-radius: 8px;
`,JG=Ml("div")`
  display: flex;
  justify-content: center;
  margin: 4px 10px;
  color: inherit;
  flex: 1 1 auto;
  white-space: pre-line;
`,QG=(e,t)=>{let n=e.includes("top")?1:-1,[r,i]=z3()?[VG,ZG]:[KG(n),WG(n)];return{animation:t?`${ds(r)} 0.35s cubic-bezier(.21,1.02,.73,1) forwards`:`${ds(i)} 0.4s forwards cubic-bezier(.06,.71,.55,1)`}},eq=S.memo(({toast:e,position:t,style:n,children:r})=>{let i=e.height?QG(e.position||t||"top-center",e.visible):{opacity:0},a=S.createElement(YG,{toast:e}),o=S.createElement(JG,{...e.ariaProps},gy(e.message,e));return S.createElement(XG,{className:e.className,style:{...i,...n,...e.style}},typeof r=="function"?r({icon:a,message:o}):S.createElement(S.Fragment,null,a,o))});SG(S.createElement);var tq=({id:e,className:t,style:n,onHeightUpdate:r,children:i})=>{let a=S.useCallback(o=>{if(o){let c=()=>{let u=o.getBoundingClientRect().height;r(e,u)};c(),new MutationObserver(c).observe(o,{subtree:!0,childList:!0,characterData:!0})}},[e,r]);return S.createElement("div",{ref:a,className:t,style:n},i)},nq=(e,t)=>{let n=e.includes("top"),r=n?{top:0}:{bottom:0},i=e.includes("center")?{justifyContent:"center"}:e.includes("right")?{justifyContent:"flex-end"}:{};return{left:0,right:0,display:"flex",position:"absolute",transition:z3()?void 0:"all 230ms cubic-bezier(.21,1.02,.73,1)",transform:`translateY(${t*(n?1:-1)}px)`,...r,...i}},rq=Vb`
  z-index: 9999;
  > * {
    pointer-events: auto;
  }
`,Wg=16,q3=({reverseOrder:e,position:t="top-center",toastOptions:n,gutter:r,children:i,toasterId:a,containerStyle:o,containerClassName:c})=>{let{toasts:u,handlers:f}=MG(n,a);return S.createElement("div",{"data-rht-toaster":a||"",style:{position:"fixed",zIndex:9999,top:Wg,left:Wg,right:Wg,bottom:Wg,pointerEvents:"none",...o},className:c,onMouseEnter:f.startPause,onMouseLeave:f.endPause},u.map(m=>{let p=m.position||t,g=f.calculateOffset(m,{reverseOrder:e,gutter:r,defaultPosition:t}),v=nq(p,g);return S.createElement(tq,{id:m.id,key:m.id,onHeightUpdate:f.updateHeight,className:m.visible?rq:"",style:v},m.type==="custom"?gy(m.message,m):i?i(m):S.createElement(eq,{toast:m,position:p}))}))},yy=dn;function iq(e,t,n,r=0,i=0){t<=2&&(e-=1,t+=12);const a=Math.floor(e/100),o=2-a+Math.floor(a/4),c=n+(r+i/60)/24;return Math.floor(365.25*(e+4716))+Math.floor(30.6001*(t+1))+c+o-1524.5}const aq=864e5;function oq(e){const t=(e-24405875e-1)*aq;return new Date(t)}function sq(e,t=7){const n=e+(t-.5)/12;if(n>=1986&&n<2005){const i=n-2e3;return 63.86+.3345*i-.060374*i*i+.0017275*i**3+651814e-9*i**4+2373599e-11*i**5}if(n>=2005&&n<2050){const i=n-2e3;return 62.92+.32217*i+.005589*i*i}if(n>=2050&&n<=2150){const i=(n-1820)/100;return-20+32*i*i-.5628*(2150-n)}if(n>=1900&&n<1986)return-2.79+1.494119*(n-1900)-.0598939*(n-1900)**2+.0061966*(n-1900)**3-197e-6*(n-1900)**4;if(n>=1800&&n<1900){const i=(n-1800)/100;return 13.72-33.244*i+68.612*i**2-65.3*i**3-1.653*i**4+.3343*i**5-.012125*i**6+1348e-7*i**7-175e-8*i**8}const r=(n-1820)/100;return-20+32*r*r}function lq(e){const t=Math.floor(e+.5),n=e+.5-t;let r=t;if(t>=2299161){const p=Math.floor((t-186721625e-2)/36524.25);r=t+1+p-Math.floor(p/4)}const i=r+1524,a=Math.floor((i-122.1)/365.25),o=Math.floor(365.25*a),c=Math.floor((i-o)/30.6001),u=i-o-Math.floor(30.6001*c)+n;let f=c-1;f>12&&(f-=12);let m=a-4715;return f>2&&(m-=1),[m,f,u]}const Xh=Math.PI,Ic=Xh/180,cq=180/Xh,uq=86400;function dq(e){return e%=360,e<0?e+360:e}function fq(e,t){return(e-t+540)%360-180}function WN(e,t){for(;e-t>180;)e-=360;for(;e-t<-180;)e+=360;return e}function hq(e){const[t,n]=lq(e);return e+sq(t,Math.round(n))/uq}function VN(e,t){let n=0,r=1;for(let i=0;i<e.length;i++){let a=0;for(const[o,c,u]of e[i])a+=o*Math.cos(c+u*t);n+=a*r,r*=t}return n*1e-8}function mq(e){const t=(e-2451545)/36525,n=(297.85036+445267.11148*t-.0019142*t*t+t*t*t/189474)*Ic,r=(357.52772+35999.05034*t-1603e-7*t*t-t*t*t/3e5)*Ic,i=(134.96298+477198.867398*t+.0086972*t*t+t*t*t/56250)*Ic,a=(93.27191+483202.017538*t-.0036825*t*t+t*t*t/327270)*Ic,o=(125.04452-1934.136261*t+.0020708*t*t+t*t*t/45e4)*Ic,c=[[0,0,0,0,1,-171996,-174.2,92025,8.9],[0,0,2,-2,2,-13187,-1.6,5736,-3.1],[0,0,2,0,2,-2274,-.2,977,-.5],[0,0,0,0,2,2062,.2,-895,.5],[0,1,0,0,0,1426,-3.4,54,-.1],[1,0,0,0,0,712,.1,-7,0],[0,1,2,-2,2,-517,1.2,224,-.6],[0,0,2,0,1,-386,-.4,200,0],[1,0,2,0,2,-301,0,129,-.1],[0,-1,2,-2,2,217,-.5,-95,.3]];let u=0,f=0;for(const[m,p,g,v,_,w,E,T,N]of c){const O=m*n+p*r+g*i+v*a+_*o;u+=(w+E*t)*Math.sin(O),f+=(T+N*t)*Math.cos(O)}return u*=1e-4,f*=1e-4,{dpsi:u,deps:f}}function Vg(e){const t=hq(e),n=(t-2451545)/365250,r=VN(ZN.L,n),i=VN(ZN.R,n);let a=r+Xh;a>2*Xh&&(a-=2*Xh);const{dpsi:o}=mq(t),c=o/3600*Ic,u=20.4898/(3600*i),f=a+c-u*Ic;return dq(f*cq)}function Un(e,t,n){const r=(t%360+360)%360,i=iq(e,1,1),a=Vg(i);let o=r-a;o<0&&(o+=360);let c=i+o/.98564736;const u=1e-6,f=5e-6;for(let g=0;g<25;g++){const v=Vg(c),_=fq(r,v);if(Math.abs(_)<u)break;const w=Vg(c+f),E=Vg(c-f),T=WN(w,v),N=WN(E,v),O=(T-N)/(2*f);c+=_/O}const m=oq(c),p=new Date(m.getFullYear(),m.getMonth(),m.getDate(),m.getHours(),m.getMinutes(),0,0);if(Number.isFinite(n)){const g=n/15-9;if(Math.abs(g)>1e-12)return new Date(p.getTime()+g*36e5)}return p}const ZN={L:[[[175347046,0,0],[3341656,4.6692568,6283.07585],[34894,4.6261,12566.1517],[3497,2.7441,5753.3849],[3418,2.8289,3.5231],[3136,3.6277,77713.7715],[2676,4.4181,7860.4194],[2343,6.1352,3930.2097],[1324,.7425,11506.7698],[1273,2.0371,529.691],[1199,1.1096,1577.3435],[990,5.233,5884.927],[902,2.045,26.298],[857,3.508,398.149],[780,1.179,5223.694],[753,2.533,5507.553],[505,4.583,18849.228],[492,4.205,775.523],[357,2.92,.067],[317,5.849,11790.629]],[[628331966747,0,0],[206059,2.678235,6283.07585],[4303,2.6351,12566.1517],[425,1.59,3.523],[119,5.796,26.298],[109,2.966,1577.344],[93,2.59,18849.23],[72,1.14,529.69],[68,1.87,398.15],[67,4.41,5507.55],[59,2.89,5223.69],[56,2.17,155.42]],[[52919,0,0],[8720,1.0721,6283.0758],[309,.867,12566.152]],[[289,5.844,6283.076],[35,0,0]],[[114,3.142,0],[8,4.13,6283.08]],[[1,3.14,0]]],R:[[[100013989,0,0],[1670700,3.0984635,6283.07585],[13956,3.05525,12566.1517],[3084,5.1985,77713.7715],[1628,1.1739,5753.3849],[1576,2.8469,7860.4194],[925,5.453,11506.77],[542,4.564,3930.21],[472,3.661,5884.927],[346,.964,5507.553],[329,5.9,5223.694]],[[103019,1.10749,6283.07585],[1721,1.0644,12566.1517],[702,3.142,0],[32,1.02,18849.23]],[[4359,5.7846,6283.0758],[124,5.579,12566.152],[12,3.14,0]],[[145,4.273,6283.076]]]},pq=(e,t)=>(e%t+t)%t,Y3=(e,t)=>(e%t+t)%t,K3=e=>e instanceof Date&&!Number.isNaN(e.getTime()),XN=new Map;function W3(e,t=127.5){const n=`${e}@${t}`,r=XN.get(n);if(r)return r;const i=Un(e,315,t);if(!i)throw new Error(`    : year=${e}, lon=${t}`);return XN.set(n,i),i}function V3(e,t=127.5){if(!K3(e))throw new Error("resolveYearIndex: invalid date");const n=e.getFullYear(),r=W3(n,t),i=e<r?n-1:n,a=pq(i-4,60);return{useYear:i,index60Num:a}}const $r=["","","","","","","","","",""],si=["","","","","","","","","","","",""],HS={:["","","","","","","","","",""],:["","","","","","","","","","","",""]},Ga={:["","","","","","","","","",""],:["","","","","","","","","","","",""]},gq=["","","","","","","","","",""],yq=["","","","","","","","","","","",""],bq=["","","","","","","","","","","","","","","","","","","",""],vq=["","","","","","","","","","","","","","","","","","","","","","","",""],Cd=new Set($r),sm=new Set(si),Rn={:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},Gn={:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},Fk=["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],by=[{branch:"",hanja:"",start:1380,end:60},{branch:"",hanja:"",start:60,end:180},{branch:"",hanja:"",start:180,end:300},{branch:"",hanja:"",start:300,end:420},{branch:"",hanja:"",start:420,end:540},{branch:"",hanja:"",start:540,end:660},{branch:"",hanja:"",start:660,end:780},{branch:"",hanja:"",start:780,end:900},{branch:"",hanja:"",start:900,end:1020},{branch:"",hanja:"",start:1020,end:1140},{branch:"",hanja:"",start:1140,end:1260},{branch:"",hanja:"",start:1260,end:1380}],xq={:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}},_q={:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}};function at(e,t=127.5){const{index60Num:n}=V3(e,t);return Fk[n]}function wq(e,t=127.5){return(at(e,t)||"").charAt(0)}const Sq=[2,4,6,8,0,2,4,6,8,0];function Eq(e,t=127.5){const n=new Array(12);return n[0]=W3(e,t),n[1]=Un(e,345,t),n[2]=Un(e,15,t),n[3]=Un(e,45,t),n[4]=Un(e,75,t),n[5]=Un(e,105,t),n[6]=Un(e,135,t),n[7]=Un(e,165,t),n[8]=Un(e,195,t),n[9]=Un(e,225,t),n[10]=Un(e,255,t),n[11]=Un(e+1,285,t),n.map(r=>new Date(r.getTime()+1800*1e3))}function kq(e,t=127.5){const{useYear:n}=V3(e,t),r=Eq(n,t);let i=0;for(let o=0;o<12;o+=1)e>=r[o]&&(i=o);return{monthIndex:i+1,useYear:n,boundaries:r}}function Aq(e,t=127.5){const n=wq(e,t),r=HS..indexOf(n);if(r<0)throw new Error(`resolveFirstMonthStemIdx: invalid year stem "${n}"`);return Sq[r]}function Tq(e,t,n=127.5){return(Aq(e,n)+(t-1))%10}function kt(e,t=127.5){if(!K3(e))return"";const{monthIndex:n}=kq(e,t),r=(2+(n-1))%12,i=HS.[r],a=Tq(e,n,t);return HS.[a]+i}const vy={JDN:2445731,idx:0};function Z3(e,t,n,r=0,i=0,a=0){t<=2&&(e-=1,t+=12);const o=Math.floor(e/100),c=2-o+Math.floor(o/4),u=(r+i/60+a/3600)/24;return Math.floor(365.25*(e+4716))+Math.floor(30.6001*(t+1))+n+u+c-1524.5}function Oq(e,t){const n=e.getHours(),r=e.getMinutes(),i=n*60+r,a=Cq(e);return t===""&&a===""?i>=1380?1:0:t===""&&(a===""||a==="")?i<180?-1:0:(i<0,0)}function jq(e,t){const r=e.getHours()*60+e.getMinutes();return t===""?r>=1380?1:0:t===""&&r<180?-1:0}function gt(e,t){const n=Oq(e,t),r=new Date(e.getTime());r.setDate(r.getDate()+n);const i=Z3(r.getFullYear(),r.getMonth()+1,r.getDate(),r.getHours(),r.getMinutes()),a=Math.floor(i+.5),o=Y3(a-vy.JDN+vy.idx,60),c=Fk[o];if(!c)throw new Error(`getDayGanZhi: idx=${o} out of range (jdn=${a}, jd=${i})`);return c}function Nq(e,t){const n=new Date(e),r=jq(n,t),i=new Date(e.getTime());i.setDate(i.getDate()+r);const a=Z3(i.getFullYear(),i.getMonth()+1,i.getDate(),i.getHours(),i.getMinutes()),o=Math.floor(a+.5),c=Y3(o-vy.JDN+vy.idx,60),u=Fk[c];if(!u)throw new Error(`getDayGanZhi: idx=${c} out of range (jdn=${o}, jd=${a})`);return u}function Cq(e){e instanceof Date||(e=new Date(e));const t=e.getHours()*60+e.getMinutes();for(let n=0;n<by.length;n+=1){const{branch:r,start:i,end:a}=by[n];if(i<a){if(t>=i&&t<a)return r}else if(t>=i||t<a)return r}return""}function Mq(e){e instanceof Date||(e=new Date(e));const t=e.getHours()*60+e.getMinutes();for(let n=0;n<by.length;n+=1){const{branch:r,start:i,end:a}=by[n];if(i<a){if(t>=i&&t<a)return r}else if(t>=i||t<a)return r}return""}function Pq(e,t,n,r){const i=$r.indexOf(t);if(i<0)return"";let a=(i%5*2+n)%10;const o=e.getHours();return(r===""||r==="/"&&o>=3)&&(n===0||n===1)&&(a=(a+2)%10),$r[a]}function $a(e,t,n){e instanceof Date||(e=new Date(e));const r=Mq(e),i=si.indexOf(r),o=(n??gt(e,t)).charAt(0);return Pq(e,o,i,t)+r}const JN=e=>{let t;const n=new Set,r=(f,m)=>{const p=typeof f=="function"?f(t):f;if(!Object.is(p,t)){const g=t;t=m??(typeof p!="object"||p===null)?p:Object.assign({},t,p),n.forEach(v=>v(t,g))}},i=()=>t,c={setState:r,getState:i,getInitialState:()=>u,subscribe:f=>(n.add(f),()=>n.delete(f))},u=t=e(r,i,c);return c},Dq=(e=>e?JN(e):JN),Rq=e=>e;function Lq(e,t=Rq){const n=Wt.useSyncExternalStore(e.subscribe,Wt.useCallback(()=>t(e.getState()),[e,t]),Wt.useCallback(()=>t(e.getInitialState()),[e,t]));return Wt.useDebugValue(n),n}const QN=e=>{const t=Dq(e),n=r=>Lq(t,r);return Object.assign(n,t),n},au=(e=>e?QN(e):QN);function Iq(e,t){let n;try{n=e()}catch{return}return{getItem:i=>{var a;const o=u=>u===null?null:JSON.parse(u,void 0),c=(a=n.getItem(i))!=null?a:null;return c instanceof Promise?c.then(o):o(c)},setItem:(i,a)=>n.setItem(i,JSON.stringify(a,void 0)),removeItem:i=>n.removeItem(i)}}const FS=e=>t=>{try{const n=e(t);return n instanceof Promise?n:{then(r){return FS(r)(n)},catch(r){return this}}}catch(n){return{then(r){return this},catch(r){return FS(r)(n)}}}},$q=(e,t)=>(n,r,i)=>{let a={storage:Iq(()=>localStorage),partialize:w=>w,version:0,merge:(w,E)=>({...E,...w}),...t},o=!1;const c=new Set,u=new Set;let f=a.storage;if(!f)return e((...w)=>{console.warn(`[zustand persist middleware] Unable to update item '${a.name}', the given storage is currently unavailable.`),n(...w)},r,i);const m=()=>{const w=a.partialize({...r()});return f.setItem(a.name,{state:w,version:a.version})},p=i.setState;i.setState=(w,E)=>(p(w,E),m());const g=e((...w)=>(n(...w),m()),r,i);i.getInitialState=()=>g;let v;const _=()=>{var w,E;if(!f)return;o=!1,c.forEach(N=>{var O;return N((O=r())!=null?O:g)});const T=((E=a.onRehydrateStorage)==null?void 0:E.call(a,(w=r())!=null?w:g))||void 0;return FS(f.getItem.bind(f))(a.name).then(N=>{if(N)if(typeof N.version=="number"&&N.version!==a.version){if(a.migrate){const O=a.migrate(N.state,N.version);return O instanceof Promise?O.then(P=>[!0,P]):[!0,O]}console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return[!1,N.state];return[!1,void 0]}).then(N=>{var O;const[P,C]=N;if(v=a.merge(C,(O=r())!=null?O:g),n(v,!0),P)return m()}).then(()=>{T?.(v,void 0),v=r(),o=!0,u.forEach(N=>N(v))}).catch(N=>{T?.(void 0,N)})};return i.persist={setOptions:w=>{a={...a,...w},w.storage&&(f=w.storage)},clearStorage:()=>{f?.removeItem(a.name)},getOptions:()=>a,rehydrate:()=>_(),hasHydrated:()=>o,onHydrate:w=>(c.add(w),()=>{c.delete(w)}),onFinishHydration:w=>(u.add(w),()=>{u.delete(w)})},a.skipHydration||_(),v||g},X3=$q;var Jo={},Zg={},GS=function(e,t){return GS=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(n[i]=r[i])},GS(e,t)};function J3(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");GS(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}var xy=function(){return xy=Object.assign||function(t){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(t[a]=n[a])}return t},xy.apply(this,arguments)};function Xd(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n}function Q3(e,t,n,r){var i=arguments.length,a=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,n):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")a=Reflect.decorate(e,t,n,r);else for(var c=e.length-1;c>=0;c--)(o=e[c])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a}function e$(e,t){return function(n,r){t(n,r,e)}}function t$(e,t,n,r,i,a){function o(T){if(T!==void 0&&typeof T!="function")throw new TypeError("Function expected");return T}for(var c=r.kind,u=c==="getter"?"get":c==="setter"?"set":"value",f=!t&&e?r.static?e:e.prototype:null,m=t||(f?Object.getOwnPropertyDescriptor(f,r.name):{}),p,g=!1,v=n.length-1;v>=0;v--){var _={};for(var w in r)_[w]=w==="access"?{}:r[w];for(var w in r.access)_.access[w]=r.access[w];_.addInitializer=function(T){if(g)throw new TypeError("Cannot add initializers after decoration has completed");a.push(o(T||null))};var E=(0,n[v])(c==="accessor"?{get:m.get,set:m.set}:m[u],_);if(c==="accessor"){if(E===void 0)continue;if(E===null||typeof E!="object")throw new TypeError("Object expected");(p=o(E.get))&&(m.get=p),(p=o(E.set))&&(m.set=p),(p=o(E.init))&&i.unshift(p)}else(p=o(E))&&(c==="field"?i.unshift(p):m[u]=p)}f&&Object.defineProperty(f,r.name,m),g=!0}function n$(e,t,n){for(var r=arguments.length>2,i=0;i<t.length;i++)n=r?t[i].call(e,n):t[i].call(e);return r?n:void 0}function r$(e){return typeof e=="symbol"?e:"".concat(e)}function i$(e,t,n){return typeof t=="symbol"&&(t=t.description?"[".concat(t.description,"]"):""),Object.defineProperty(e,"name",{configurable:!0,value:n?"".concat(n," ",t):t})}function a$(e,t){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(e,t)}function Ue(e,t,n,r){function i(a){return a instanceof n?a:new n(function(o){o(a)})}return new(n||(n=Promise))(function(a,o){function c(m){try{f(r.next(m))}catch(p){o(p)}}function u(m){try{f(r.throw(m))}catch(p){o(p)}}function f(m){m.done?a(m.value):i(m.value).then(c,u)}f((r=r.apply(e,t||[])).next())})}function o$(e,t){var n={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},r,i,a,o=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return o.next=c(0),o.throw=c(1),o.return=c(2),typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function c(f){return function(m){return u([f,m])}}function u(f){if(r)throw new TypeError("Generator is already executing.");for(;o&&(o=0,f[0]&&(n=0)),n;)try{if(r=1,i&&(a=f[0]&2?i.return:f[0]?i.throw||((a=i.return)&&a.call(i),0):i.next)&&!(a=a.call(i,f[1])).done)return a;switch(i=0,a&&(f=[f[0]&2,a.value]),f[0]){case 0:case 1:a=f;break;case 4:return n.label++,{value:f[1],done:!1};case 5:n.label++,i=f[1],f=[0];continue;case 7:f=n.ops.pop(),n.trys.pop();continue;default:if(a=n.trys,!(a=a.length>0&&a[a.length-1])&&(f[0]===6||f[0]===2)){n=0;continue}if(f[0]===3&&(!a||f[1]>a[0]&&f[1]<a[3])){n.label=f[1];break}if(f[0]===6&&n.label<a[1]){n.label=a[1],a=f;break}if(a&&n.label<a[2]){n.label=a[2],n.ops.push(f);break}a[2]&&n.ops.pop(),n.trys.pop();continue}f=t.call(e,n)}catch(m){f=[6,m],i=0}finally{r=a=0}if(f[0]&5)throw f[1];return{value:f[0]?f[1]:void 0,done:!0}}}var Xb=Object.create?(function(e,t,n,r){r===void 0&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}):(function(e,t,n,r){r===void 0&&(r=n),e[r]=t[n]});function s$(e,t){for(var n in e)n!=="default"&&!Object.prototype.hasOwnProperty.call(t,n)&&Xb(t,e,n)}function _y(e){var t=typeof Symbol=="function"&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function Gk(e,t){var n=typeof Symbol=="function"&&e[Symbol.iterator];if(!n)return e;var r=n.call(e),i,a=[],o;try{for(;(t===void 0||t-- >0)&&!(i=r.next()).done;)a.push(i.value)}catch(c){o={error:c}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(o)throw o.error}}return a}function l$(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(Gk(arguments[t]));return e}function c$(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;for(var r=Array(e),i=0,t=0;t<n;t++)for(var a=arguments[t],o=0,c=a.length;o<c;o++,i++)r[i]=a[o];return r}function u$(e,t,n){if(n||arguments.length===2)for(var r=0,i=t.length,a;r<i;r++)(a||!(r in t))&&(a||(a=Array.prototype.slice.call(t,0,r)),a[r]=t[r]);return e.concat(a||Array.prototype.slice.call(t))}function Md(e){return this instanceof Md?(this.v=e,this):new Md(e)}function d$(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(e,t||[]),i,a=[];return i=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),c("next"),c("throw"),c("return",o),i[Symbol.asyncIterator]=function(){return this},i;function o(v){return function(_){return Promise.resolve(_).then(v,p)}}function c(v,_){r[v]&&(i[v]=function(w){return new Promise(function(E,T){a.push([v,w,E,T])>1||u(v,w)})},_&&(i[v]=_(i[v])))}function u(v,_){try{f(r[v](_))}catch(w){g(a[0][3],w)}}function f(v){v.value instanceof Md?Promise.resolve(v.value.v).then(m,p):g(a[0][2],v)}function m(v){u("next",v)}function p(v){u("throw",v)}function g(v,_){v(_),a.shift(),a.length&&u(a[0][0],a[0][1])}}function f$(e){var t,n;return t={},r("next"),r("throw",function(i){throw i}),r("return"),t[Symbol.iterator]=function(){return this},t;function r(i,a){t[i]=e[i]?function(o){return(n=!n)?{value:Md(e[i](o)),done:!1}:a?a(o):o}:a}}function h$(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t=e[Symbol.asyncIterator],n;return t?t.call(e):(e=typeof _y=="function"?_y(e):e[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(a){n[a]=e[a]&&function(o){return new Promise(function(c,u){o=e[a](o),i(c,u,o.done,o.value)})}}function i(a,o,c,u){Promise.resolve(u).then(function(f){a({value:f,done:c})},o)}}function m$(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e}var Bq=Object.create?(function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}):function(e,t){e.default=t},qS=function(e){return qS=Object.getOwnPropertyNames||function(t){var n=[];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[n.length]=r);return n},qS(e)};function p$(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var n=qS(e),r=0;r<n.length;r++)n[r]!=="default"&&Xb(t,e,n[r]);return Bq(t,e),t}function g$(e){return e&&e.__esModule?e:{default:e}}function y$(e,t,n,r){if(n==="a"&&!r)throw new TypeError("Private accessor was defined without a getter");if(typeof t=="function"?e!==t||!r:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?r:n==="a"?r.call(e):r?r.value:t.get(e)}function b$(e,t,n,r,i){if(r==="m")throw new TypeError("Private method is not writable");if(r==="a"&&!i)throw new TypeError("Private accessor was defined without a setter");if(typeof t=="function"?e!==t||!i:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return r==="a"?i.call(e,n):i?i.value=n:t.set(e,n),n}function v$(e,t){if(t===null||typeof t!="object"&&typeof t!="function")throw new TypeError("Cannot use 'in' operator on non-object");return typeof e=="function"?t===e:e.has(t)}function x$(e,t,n){if(t!=null){if(typeof t!="object"&&typeof t!="function")throw new TypeError("Object expected.");var r,i;if(n){if(!Symbol.asyncDispose)throw new TypeError("Symbol.asyncDispose is not defined.");r=t[Symbol.asyncDispose]}if(r===void 0){if(!Symbol.dispose)throw new TypeError("Symbol.dispose is not defined.");r=t[Symbol.dispose],n&&(i=r)}if(typeof r!="function")throw new TypeError("Object not disposable.");i&&(r=function(){try{i.call(this)}catch(a){return Promise.reject(a)}}),e.stack.push({value:t,dispose:r,async:n})}else n&&e.stack.push({async:!0});return t}var zq=typeof SuppressedError=="function"?SuppressedError:function(e,t,n){var r=new Error(n);return r.name="SuppressedError",r.error=e,r.suppressed=t,r};function _$(e){function t(a){e.error=e.hasError?new zq(a,e.error,"An error was suppressed during disposal."):a,e.hasError=!0}var n,r=0;function i(){for(;n=e.stack.pop();)try{if(!n.async&&r===1)return r=0,e.stack.push(n),Promise.resolve().then(i);if(n.dispose){var a=n.dispose.call(n.value);if(n.async)return r|=2,Promise.resolve(a).then(i,function(o){return t(o),i()})}else r|=1}catch(o){t(o)}if(r===1)return e.hasError?Promise.reject(e.error):Promise.resolve();if(e.hasError)throw e.error}return i()}function w$(e,t){return typeof e=="string"&&/^\.\.?\//.test(e)?e.replace(/\.(tsx)$|((?:\.d)?)((?:\.[^./]+?)?)\.([cm]?)ts$/i,function(n,r,i,a,o){return r?t?".jsx":".js":i&&(!a||!o)?n:i+a+"."+o.toLowerCase()+"js"}):e}const Uq={__extends:J3,__assign:xy,__rest:Xd,__decorate:Q3,__param:e$,__esDecorate:t$,__runInitializers:n$,__propKey:r$,__setFunctionName:i$,__metadata:a$,__awaiter:Ue,__generator:o$,__createBinding:Xb,__exportStar:s$,__values:_y,__read:Gk,__spread:l$,__spreadArrays:c$,__spreadArray:u$,__await:Md,__asyncGenerator:d$,__asyncDelegator:f$,__asyncValues:h$,__makeTemplateObject:m$,__importStar:p$,__importDefault:g$,__classPrivateFieldGet:y$,__classPrivateFieldSet:b$,__classPrivateFieldIn:v$,__addDisposableResource:x$,__disposeResources:_$,__rewriteRelativeImportExtension:w$},Hq=Object.freeze(Object.defineProperty({__proto__:null,__addDisposableResource:x$,get __assign(){return xy},__asyncDelegator:f$,__asyncGenerator:d$,__asyncValues:h$,__await:Md,__awaiter:Ue,__classPrivateFieldGet:y$,__classPrivateFieldIn:v$,__classPrivateFieldSet:b$,__createBinding:Xb,__decorate:Q3,__disposeResources:_$,__esDecorate:t$,__exportStar:s$,__extends:J3,__generator:o$,__importDefault:g$,__importStar:p$,__makeTemplateObject:m$,__metadata:a$,__param:e$,__propKey:r$,__read:Gk,__rest:Xd,__rewriteRelativeImportExtension:w$,__runInitializers:n$,__setFunctionName:i$,__spread:l$,__spreadArray:u$,__spreadArrays:c$,__values:_y,default:Uq},Symbol.toStringTag,{value:"Module"})),Fq=e=>e?(...t)=>e(...t):(...t)=>fetch(...t);let Jb=class extends Error{constructor(t,n="FunctionsError",r){super(t),this.name=n,this.context=r}},S$=class extends Jb{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}},YS=class extends Jb{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}},KS=class extends Jb{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}};var wy;(function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"})(wy||(wy={}));class Gq{constructor(t,{headers:n={},customFetch:r,region:i=wy.Any}={}){this.url=t,this.headers=n,this.region=i,this.fetch=Fq(r)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t){return Ue(this,arguments,void 0,function*(n,r={}){var i;let a,o;try{const{headers:c,method:u,body:f,signal:m,timeout:p}=r;let g={},{region:v}=r;v||(v=this.region);const _=new URL(`${this.url}/${n}`);v&&v!=="any"&&(g["x-region"]=v,_.searchParams.set("forceFunctionRegion",v));let w;f&&(c&&!Object.prototype.hasOwnProperty.call(c,"Content-Type")||!c)?typeof Blob<"u"&&f instanceof Blob||f instanceof ArrayBuffer?(g["Content-Type"]="application/octet-stream",w=f):typeof f=="string"?(g["Content-Type"]="text/plain",w=f):typeof FormData<"u"&&f instanceof FormData?w=f:(g["Content-Type"]="application/json",w=JSON.stringify(f)):w=f;let E=m;p&&(o=new AbortController,a=setTimeout(()=>o.abort(),p),m?(E=o.signal,m.addEventListener("abort",()=>o.abort())):E=o.signal);const T=yield this.fetch(_.toString(),{method:u||"POST",headers:Object.assign(Object.assign(Object.assign({},g),this.headers),c),body:w,signal:E}).catch(C=>{throw new S$(C)}),N=T.headers.get("x-relay-error");if(N&&N==="true")throw new YS(T);if(!T.ok)throw new KS(T);let O=((i=T.headers.get("Content-Type"))!==null&&i!==void 0?i:"text/plain").split(";")[0].trim(),P;return O==="application/json"?P=yield T.json():O==="application/octet-stream"||O==="application/pdf"?P=yield T.blob():O==="text/event-stream"?P=T:O==="multipart/form-data"?P=yield T.formData():P=yield T.text(),{data:P,error:null,response:T}}catch(c){return{data:null,error:c,response:c instanceof KS||c instanceof YS?c.context:void 0}}finally{a&&clearTimeout(a)}})}}const qq=Object.freeze(Object.defineProperty({__proto__:null,get FunctionRegion(){return wy},FunctionsClient:Gq,FunctionsError:Jb,FunctionsFetchError:S$,FunctionsHttpError:KS,FunctionsRelayError:YS},Symbol.toStringTag,{value:"Module"})),E$=Im(qq);var Er={};const Jd=Im(Hq);var Xg={},Jg={},Qg={},e0={},t0={},n0={},eC;function k$(){if(eC)return n0;eC=1,Object.defineProperty(n0,"__esModule",{value:!0});class e extends Error{constructor(n){super(n.message),this.name="PostgrestError",this.details=n.details,this.hint=n.hint,this.code=n.code}}return n0.default=e,n0}var tC;function A$(){if(tC)return t0;tC=1,Object.defineProperty(t0,"__esModule",{value:!0});const t=Jd.__importDefault(k$());let n=class{constructor(i){var a,o;this.shouldThrowOnError=!1,this.method=i.method,this.url=i.url,this.headers=new Headers(i.headers),this.schema=i.schema,this.body=i.body,this.shouldThrowOnError=(a=i.shouldThrowOnError)!==null&&a!==void 0?a:!1,this.signal=i.signal,this.isMaybeSingle=(o=i.isMaybeSingle)!==null&&o!==void 0?o:!1,i.fetch?this.fetch=i.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(i,a){return this.headers=new Headers(this.headers),this.headers.set(i,a),this}then(i,a){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const o=this.fetch;let c=o(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async u=>{var f,m,p,g;let v=null,_=null,w=null,E=u.status,T=u.statusText;if(u.ok){if(this.method!=="HEAD"){const C=await u.text();C===""||(this.headers.get("Accept")==="text/csv"||this.headers.get("Accept")&&(!((f=this.headers.get("Accept"))===null||f===void 0)&&f.includes("application/vnd.pgrst.plan+text"))?_=C:_=JSON.parse(C))}const O=(m=this.headers.get("Prefer"))===null||m===void 0?void 0:m.match(/count=(exact|planned|estimated)/),P=(p=u.headers.get("content-range"))===null||p===void 0?void 0:p.split("/");O&&P&&P.length>1&&(w=parseInt(P[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(_)&&(_.length>1?(v={code:"PGRST116",details:`Results contain ${_.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},_=null,w=null,E=406,T="Not Acceptable"):_.length===1?_=_[0]:_=null)}else{const O=await u.text();try{v=JSON.parse(O),Array.isArray(v)&&u.status===404&&(_=[],v=null,E=200,T="OK")}catch{u.status===404&&O===""?(E=204,T="No Content"):v={message:O}}if(v&&this.isMaybeSingle&&(!((g=v?.details)===null||g===void 0)&&g.includes("0 rows"))&&(v=null,E=200,T="OK"),v&&this.shouldThrowOnError)throw new t.default(v)}return{error:v,data:_,count:w,status:E,statusText:T}});return this.shouldThrowOnError||(c=c.catch(u=>{var f,m,p,g,v,_;let w="";const E=u?.cause;if(E){const T=(f=E?.message)!==null&&f!==void 0?f:"",N=(m=E?.code)!==null&&m!==void 0?m:"";w=`${(p=u?.name)!==null&&p!==void 0?p:"FetchError"}: ${u?.message}`,w+=`

Caused by: ${(g=E?.name)!==null&&g!==void 0?g:"Error"}: ${T}`,N&&(w+=` (${N})`),E?.stack&&(w+=`
${E.stack}`)}else w=(v=u?.stack)!==null&&v!==void 0?v:"";return{error:{message:`${(_=u?.name)!==null&&_!==void 0?_:"FetchError"}: ${u?.message}`,details:w,hint:"",code:""},data:null,count:null,status:0,statusText:""}})),c.then(i,a)}returns(){return this}overrideTypes(){return this}};return t0.default=n,t0}var nC;function T$(){if(nC)return e0;nC=1,Object.defineProperty(e0,"__esModule",{value:!0});const t=Jd.__importDefault(A$());let n=class extends t.default{select(i){let a=!1;const o=(i??"*").split("").map(c=>/\s/.test(c)&&!a?"":(c==='"'&&(a=!a),c)).join("");return this.url.searchParams.set("select",o),this.headers.append("Prefer","return=representation"),this}order(i,{ascending:a=!0,nullsFirst:o,foreignTable:c,referencedTable:u=c}={}){const f=u?`${u}.order`:"order",m=this.url.searchParams.get(f);return this.url.searchParams.set(f,`${m?`${m},`:""}${i}.${a?"asc":"desc"}${o===void 0?"":o?".nullsfirst":".nullslast"}`),this}limit(i,{foreignTable:a,referencedTable:o=a}={}){const c=typeof o>"u"?"limit":`${o}.limit`;return this.url.searchParams.set(c,`${i}`),this}range(i,a,{foreignTable:o,referencedTable:c=o}={}){const u=typeof c>"u"?"offset":`${c}.offset`,f=typeof c>"u"?"limit":`${c}.limit`;return this.url.searchParams.set(u,`${i}`),this.url.searchParams.set(f,`${a-i+1}`),this}abortSignal(i){return this.signal=i,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:i=!1,verbose:a=!1,settings:o=!1,buffers:c=!1,wal:u=!1,format:f="text"}={}){var m;const p=[i?"analyze":null,a?"verbose":null,o?"settings":null,c?"buffers":null,u?"wal":null].filter(Boolean).join("|"),g=(m=this.headers.get("Accept"))!==null&&m!==void 0?m:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${f}; for="${g}"; options=${p};`),f==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(i){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${i}`),this}};return e0.default=n,e0}var rC;function qk(){if(rC)return Qg;rC=1,Object.defineProperty(Qg,"__esModule",{value:!0});const t=Jd.__importDefault(T$()),n=new RegExp("[,()]");let r=class extends t.default{eq(a,o){return this.url.searchParams.append(a,`eq.${o}`),this}neq(a,o){return this.url.searchParams.append(a,`neq.${o}`),this}gt(a,o){return this.url.searchParams.append(a,`gt.${o}`),this}gte(a,o){return this.url.searchParams.append(a,`gte.${o}`),this}lt(a,o){return this.url.searchParams.append(a,`lt.${o}`),this}lte(a,o){return this.url.searchParams.append(a,`lte.${o}`),this}like(a,o){return this.url.searchParams.append(a,`like.${o}`),this}likeAllOf(a,o){return this.url.searchParams.append(a,`like(all).{${o.join(",")}}`),this}likeAnyOf(a,o){return this.url.searchParams.append(a,`like(any).{${o.join(",")}}`),this}ilike(a,o){return this.url.searchParams.append(a,`ilike.${o}`),this}ilikeAllOf(a,o){return this.url.searchParams.append(a,`ilike(all).{${o.join(",")}}`),this}ilikeAnyOf(a,o){return this.url.searchParams.append(a,`ilike(any).{${o.join(",")}}`),this}regexMatch(a,o){return this.url.searchParams.append(a,`match.${o}`),this}regexIMatch(a,o){return this.url.searchParams.append(a,`imatch.${o}`),this}is(a,o){return this.url.searchParams.append(a,`is.${o}`),this}isDistinct(a,o){return this.url.searchParams.append(a,`isdistinct.${o}`),this}in(a,o){const c=Array.from(new Set(o)).map(u=>typeof u=="string"&&n.test(u)?`"${u}"`:`${u}`).join(",");return this.url.searchParams.append(a,`in.(${c})`),this}contains(a,o){return typeof o=="string"?this.url.searchParams.append(a,`cs.${o}`):Array.isArray(o)?this.url.searchParams.append(a,`cs.{${o.join(",")}}`):this.url.searchParams.append(a,`cs.${JSON.stringify(o)}`),this}containedBy(a,o){return typeof o=="string"?this.url.searchParams.append(a,`cd.${o}`):Array.isArray(o)?this.url.searchParams.append(a,`cd.{${o.join(",")}}`):this.url.searchParams.append(a,`cd.${JSON.stringify(o)}`),this}rangeGt(a,o){return this.url.searchParams.append(a,`sr.${o}`),this}rangeGte(a,o){return this.url.searchParams.append(a,`nxl.${o}`),this}rangeLt(a,o){return this.url.searchParams.append(a,`sl.${o}`),this}rangeLte(a,o){return this.url.searchParams.append(a,`nxr.${o}`),this}rangeAdjacent(a,o){return this.url.searchParams.append(a,`adj.${o}`),this}overlaps(a,o){return typeof o=="string"?this.url.searchParams.append(a,`ov.${o}`):this.url.searchParams.append(a,`ov.{${o.join(",")}}`),this}textSearch(a,o,{config:c,type:u}={}){let f="";u==="plain"?f="pl":u==="phrase"?f="ph":u==="websearch"&&(f="w");const m=c===void 0?"":`(${c})`;return this.url.searchParams.append(a,`${f}fts${m}.${o}`),this}match(a){return Object.entries(a).forEach(([o,c])=>{this.url.searchParams.append(o,`eq.${c}`)}),this}not(a,o,c){return this.url.searchParams.append(a,`not.${o}.${c}`),this}or(a,{foreignTable:o,referencedTable:c=o}={}){const u=c?`${c}.or`:"or";return this.url.searchParams.append(u,`(${a})`),this}filter(a,o,c){return this.url.searchParams.append(a,`${o}.${c}`),this}};return Qg.default=r,Qg}var iC;function O$(){if(iC)return Jg;iC=1,Object.defineProperty(Jg,"__esModule",{value:!0});const t=Jd.__importDefault(qk());let n=class{constructor(i,{headers:a={},schema:o,fetch:c}){this.url=i,this.headers=new Headers(a),this.schema=o,this.fetch=c}select(i,a){const{head:o=!1,count:c}=a??{},u=o?"HEAD":"GET";let f=!1;const m=(i??"*").split("").map(p=>/\s/.test(p)&&!f?"":(p==='"'&&(f=!f),p)).join("");return this.url.searchParams.set("select",m),c&&this.headers.append("Prefer",`count=${c}`),new t.default({method:u,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(i,{count:a,defaultToNull:o=!0}={}){var c;const u="POST";if(a&&this.headers.append("Prefer",`count=${a}`),o||this.headers.append("Prefer","missing=default"),Array.isArray(i)){const f=i.reduce((m,p)=>m.concat(Object.keys(p)),[]);if(f.length>0){const m=[...new Set(f)].map(p=>`"${p}"`);this.url.searchParams.set("columns",m.join(","))}}return new t.default({method:u,url:this.url,headers:this.headers,schema:this.schema,body:i,fetch:(c=this.fetch)!==null&&c!==void 0?c:fetch})}upsert(i,{onConflict:a,ignoreDuplicates:o=!1,count:c,defaultToNull:u=!0}={}){var f;const m="POST";if(this.headers.append("Prefer",`resolution=${o?"ignore":"merge"}-duplicates`),a!==void 0&&this.url.searchParams.set("on_conflict",a),c&&this.headers.append("Prefer",`count=${c}`),u||this.headers.append("Prefer","missing=default"),Array.isArray(i)){const p=i.reduce((g,v)=>g.concat(Object.keys(v)),[]);if(p.length>0){const g=[...new Set(p)].map(v=>`"${v}"`);this.url.searchParams.set("columns",g.join(","))}}return new t.default({method:m,url:this.url,headers:this.headers,schema:this.schema,body:i,fetch:(f=this.fetch)!==null&&f!==void 0?f:fetch})}update(i,{count:a}={}){var o;const c="PATCH";return a&&this.headers.append("Prefer",`count=${a}`),new t.default({method:c,url:this.url,headers:this.headers,schema:this.schema,body:i,fetch:(o=this.fetch)!==null&&o!==void 0?o:fetch})}delete({count:i}={}){var a;const o="DELETE";return i&&this.headers.append("Prefer",`count=${i}`),new t.default({method:o,url:this.url,headers:this.headers,schema:this.schema,fetch:(a=this.fetch)!==null&&a!==void 0?a:fetch})}};return Jg.default=n,Jg}var aC;function Yq(){if(aC)return Xg;aC=1,Object.defineProperty(Xg,"__esModule",{value:!0});const e=Jd,t=e.__importDefault(O$()),n=e.__importDefault(qk());let r=class j${constructor(a,{headers:o={},schema:c,fetch:u}={}){this.url=a,this.headers=new Headers(o),this.schemaName=c,this.fetch=u}from(a){if(!a||typeof a!="string"||a.trim()==="")throw new Error("Invalid relation name: relation must be a non-empty string.");const o=new URL(`${this.url}/${a}`);return new t.default(o,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(a){return new j$(this.url,{headers:this.headers,schema:a,fetch:this.fetch})}rpc(a,o={},{head:c=!1,get:u=!1,count:f}={}){var m;let p;const g=new URL(`${this.url}/rpc/${a}`);let v;c||u?(p=c?"HEAD":"GET",Object.entries(o).filter(([w,E])=>E!==void 0).map(([w,E])=>[w,Array.isArray(E)?`{${E.join(",")}}`:`${E}`]).forEach(([w,E])=>{g.searchParams.append(w,E)})):(p="POST",v=o);const _=new Headers(this.headers);return f&&_.set("Prefer",`count=${f}`),new n.default({method:p,url:g,headers:_,schema:this.schemaName,body:v,fetch:(m=this.fetch)!==null&&m!==void 0?m:fetch})}};return Xg.default=r,Xg}var oC;function N$(){if(oC)return Er;oC=1,Object.defineProperty(Er,"__esModule",{value:!0}),Er.PostgrestError=Er.PostgrestBuilder=Er.PostgrestTransformBuilder=Er.PostgrestFilterBuilder=Er.PostgrestQueryBuilder=Er.PostgrestClient=void 0;const e=Jd,t=e.__importDefault(Yq());Er.PostgrestClient=t.default;const n=e.__importDefault(O$());Er.PostgrestQueryBuilder=n.default;const r=e.__importDefault(qk());Er.PostgrestFilterBuilder=r.default;const i=e.__importDefault(T$());Er.PostgrestTransformBuilder=i.default;const a=e.__importDefault(A$());Er.PostgrestBuilder=a.default;const o=e.__importDefault(k$());return Er.PostgrestError=o.default,Er.default={PostgrestClient:t.default,PostgrestQueryBuilder:n.default,PostgrestFilterBuilder:r.default,PostgrestTransformBuilder:i.default,PostgrestBuilder:a.default,PostgrestError:o.default},Er}class C${constructor(){}static detectEnvironment(){var t;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((t=navigator.userAgent)===null||t===void 0)&&t.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const n=process.versions;if(n&&n.node){const r=n.node,i=parseInt(r.replace(/^v/,"").split(".")[0]);return i>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${i} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${i} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const t=this.detectEnvironment();if(t.constructor)return t.constructor;let n=t.error||"WebSocket not supported in this environment.";throw t.workaround&&(n+=`

Suggested solution: ${t.workaround}`),new Error(n)}static createWebSocket(t,n){const r=this.getWebSocketConstructor();return new r(t,n)}static isWebSocketSupported(){try{const t=this.detectEnvironment();return t.type==="native"||t.type==="ws"}catch{return!1}}}const Kq="2.86.2",Wq=`realtime-js/${Kq}`,M$="1.0.0",Vq="2.0.0",sC=M$,WS=1e4,Zq=1e3,Xq=100;var $c;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})($c||($c={}));var Mn;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})(Mn||(Mn={}));var Na;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})(Na||(Na={}));var VS;(function(e){e.websocket="websocket"})(VS||(VS={}));var Bc;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})(Bc||(Bc={}));class Jq{constructor(t){this.HEADER_LENGTH=1,this.USER_BROADCAST_PUSH_META_LENGTH=6,this.KINDS={userBroadcastPush:3,userBroadcast:4},this.BINARY_ENCODING=0,this.JSON_ENCODING=1,this.BROADCAST_EVENT="broadcast",this.allowedMetadataKeys=[],this.allowedMetadataKeys=t??[]}encode(t,n){if(t.event===this.BROADCAST_EVENT&&!(t.payload instanceof ArrayBuffer)&&typeof t.payload.event=="string")return n(this._binaryEncodeUserBroadcastPush(t));let r=[t.join_ref,t.ref,t.topic,t.event,t.payload];return n(JSON.stringify(r))}_binaryEncodeUserBroadcastPush(t){var n;return this._isArrayBuffer((n=t.payload)===null||n===void 0?void 0:n.payload)?this._encodeBinaryUserBroadcastPush(t):this._encodeJsonUserBroadcastPush(t)}_encodeBinaryUserBroadcastPush(t){var n,r;const i=(r=(n=t.payload)===null||n===void 0?void 0:n.payload)!==null&&r!==void 0?r:new ArrayBuffer(0);return this._encodeUserBroadcastPush(t,this.BINARY_ENCODING,i)}_encodeJsonUserBroadcastPush(t){var n,r;const i=(r=(n=t.payload)===null||n===void 0?void 0:n.payload)!==null&&r!==void 0?r:{},o=new TextEncoder().encode(JSON.stringify(i)).buffer;return this._encodeUserBroadcastPush(t,this.JSON_ENCODING,o)}_encodeUserBroadcastPush(t,n,r){var i,a;const o=t.topic,c=(i=t.ref)!==null&&i!==void 0?i:"",u=(a=t.join_ref)!==null&&a!==void 0?a:"",f=t.payload.event,m=this.allowedMetadataKeys?this._pick(t.payload,this.allowedMetadataKeys):{},p=Object.keys(m).length===0?"":JSON.stringify(m);if(u.length>255)throw new Error(`joinRef length ${u.length} exceeds maximum of 255`);if(c.length>255)throw new Error(`ref length ${c.length} exceeds maximum of 255`);if(o.length>255)throw new Error(`topic length ${o.length} exceeds maximum of 255`);if(f.length>255)throw new Error(`userEvent length ${f.length} exceeds maximum of 255`);if(p.length>255)throw new Error(`metadata length ${p.length} exceeds maximum of 255`);const g=this.USER_BROADCAST_PUSH_META_LENGTH+u.length+c.length+o.length+f.length+p.length,v=new ArrayBuffer(this.HEADER_LENGTH+g);let _=new DataView(v),w=0;_.setUint8(w++,this.KINDS.userBroadcastPush),_.setUint8(w++,u.length),_.setUint8(w++,c.length),_.setUint8(w++,o.length),_.setUint8(w++,f.length),_.setUint8(w++,p.length),_.setUint8(w++,n),Array.from(u,T=>_.setUint8(w++,T.charCodeAt(0))),Array.from(c,T=>_.setUint8(w++,T.charCodeAt(0))),Array.from(o,T=>_.setUint8(w++,T.charCodeAt(0))),Array.from(f,T=>_.setUint8(w++,T.charCodeAt(0))),Array.from(p,T=>_.setUint8(w++,T.charCodeAt(0)));var E=new Uint8Array(v.byteLength+r.byteLength);return E.set(new Uint8Array(v),0),E.set(new Uint8Array(r),v.byteLength),E.buffer}decode(t,n){if(this._isArrayBuffer(t)){let r=this._binaryDecode(t);return n(r)}if(typeof t=="string"){const r=JSON.parse(t),[i,a,o,c,u]=r;return n({join_ref:i,ref:a,topic:o,event:c,payload:u})}return n({})}_binaryDecode(t){const n=new DataView(t),r=n.getUint8(0),i=new TextDecoder;switch(r){case this.KINDS.userBroadcast:return this._decodeUserBroadcast(t,n,i)}}_decodeUserBroadcast(t,n,r){const i=n.getUint8(1),a=n.getUint8(2),o=n.getUint8(3),c=n.getUint8(4);let u=this.HEADER_LENGTH+4;const f=r.decode(t.slice(u,u+i));u=u+i;const m=r.decode(t.slice(u,u+a));u=u+a;const p=r.decode(t.slice(u,u+o));u=u+o;const g=t.slice(u,t.byteLength),v=c===this.JSON_ENCODING?JSON.parse(r.decode(g)):g,_={type:this.BROADCAST_EVENT,event:m,payload:v};return o>0&&(_.meta=JSON.parse(p)),{join_ref:null,ref:null,topic:f,event:this.BROADCAST_EVENT,payload:_}}_isArrayBuffer(t){var n;return t instanceof ArrayBuffer||((n=t?.constructor)===null||n===void 0?void 0:n.name)==="ArrayBuffer"}_pick(t,n){return!t||typeof t!="object"?{}:Object.fromEntries(Object.entries(t).filter(([r])=>n.includes(r)))}}class P${constructor(t,n){this.callback=t,this.timerCalc=n,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=n}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var Yt;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(Yt||(Yt={}));const lC=(e,t,n={})=>{var r;const i=(r=n.skipTypes)!==null&&r!==void 0?r:[];return t?Object.keys(t).reduce((a,o)=>(a[o]=Qq(o,e,t,i),a),{}):{}},Qq=(e,t,n,r)=>{const i=t.find(c=>c.name===e),a=i?.type,o=n[e];return a&&!r.includes(a)?D$(a,o):ZS(o)},D$=(e,t)=>{if(e.charAt(0)==="_"){const n=e.slice(1,e.length);return rY(t,n)}switch(e){case Yt.bool:return eY(t);case Yt.float4:case Yt.float8:case Yt.int2:case Yt.int4:case Yt.int8:case Yt.numeric:case Yt.oid:return tY(t);case Yt.json:case Yt.jsonb:return nY(t);case Yt.timestamp:return iY(t);case Yt.abstime:case Yt.date:case Yt.daterange:case Yt.int4range:case Yt.int8range:case Yt.money:case Yt.reltime:case Yt.text:case Yt.time:case Yt.timestamptz:case Yt.timetz:case Yt.tsrange:case Yt.tstzrange:return ZS(t);default:return ZS(t)}},ZS=e=>e,eY=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},tY=e=>{if(typeof e=="string"){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},nY=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch(t){return console.log(`JSON parse error: ${t}`),e}return e},rY=(e,t)=>{if(typeof e!="string")return e;const n=e.length-1,r=e[n];if(e[0]==="{"&&r==="}"){let a;const o=e.slice(1,n);try{a=JSON.parse("["+o+"]")}catch{a=o?o.split(","):[]}return a.map(c=>D$(t,c))}return e},iY=e=>typeof e=="string"?e.replace(" ","T"):e,R$=e=>{const t=new URL(e);return t.protocol=t.protocol.replace(/^ws/i,"http"),t.pathname=t.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),t.pathname===""||t.pathname==="/"?t.pathname="/api/broadcast":t.pathname=t.pathname+"/api/broadcast",t.href};class hw{constructor(t,n,r={},i=WS){this.channel=t,this.event=n,this.payload=r,this.timeout=i,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,n){var r;return this._hasReceived(t)&&n((r=this.receivedResp)===null||r===void 0?void 0:r.response),this.recHooks.push({status:t,callback:n}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=n=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=n,this._matchReceive(n)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,n){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:n})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:n}){this.recHooks.filter(r=>r.status===t).forEach(r=>r.callback(n))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var XS;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})(XS||(XS={}));let L$=class ty{constructor(t,n){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const r=n?.events||{state:"presence_state",diff:"presence_diff"};this.channel._on(r.state,{},i=>{const{onJoin:a,onLeave:o,onSync:c}=this.caller;this.joinRef=this.channel._joinRef(),this.state=ty.syncState(this.state,i,a,o),this.pendingDiffs.forEach(u=>{this.state=ty.syncDiff(this.state,u,a,o)}),this.pendingDiffs=[],c()}),this.channel._on(r.diff,{},i=>{const{onJoin:a,onLeave:o,onSync:c}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(i):(this.state=ty.syncDiff(this.state,i,a,o),c())}),this.onJoin((i,a,o)=>{this.channel._trigger("presence",{event:"join",key:i,currentPresences:a,newPresences:o})}),this.onLeave((i,a,o)=>{this.channel._trigger("presence",{event:"leave",key:i,currentPresences:a,leftPresences:o})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,n,r,i){const a=this.cloneDeep(t),o=this.transformState(n),c={},u={};return this.map(a,(f,m)=>{o[f]||(u[f]=m)}),this.map(o,(f,m)=>{const p=a[f];if(p){const g=m.map(E=>E.presence_ref),v=p.map(E=>E.presence_ref),_=m.filter(E=>v.indexOf(E.presence_ref)<0),w=p.filter(E=>g.indexOf(E.presence_ref)<0);_.length>0&&(c[f]=_),w.length>0&&(u[f]=w)}else c[f]=m}),this.syncDiff(a,{joins:c,leaves:u},r,i)}static syncDiff(t,n,r,i){const{joins:a,leaves:o}={joins:this.transformState(n.joins),leaves:this.transformState(n.leaves)};return r||(r=()=>{}),i||(i=()=>{}),this.map(a,(c,u)=>{var f;const m=(f=t[c])!==null&&f!==void 0?f:[];if(t[c]=this.cloneDeep(u),m.length>0){const p=t[c].map(v=>v.presence_ref),g=m.filter(v=>p.indexOf(v.presence_ref)<0);t[c].unshift(...g)}r(c,m,u)}),this.map(o,(c,u)=>{let f=t[c];if(!f)return;const m=u.map(p=>p.presence_ref);f=f.filter(p=>m.indexOf(p.presence_ref)<0),t[c]=f,i(c,f,u),f.length===0&&delete t[c]}),t}static map(t,n){return Object.getOwnPropertyNames(t).map(r=>n(r,t[r]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((n,r)=>{const i=t[r];return"metas"in i?n[r]=i.metas.map(a=>(a.presence_ref=a.phx_ref,delete a.phx_ref,delete a.phx_ref_prev,a)):n[r]=i,n},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}};var JS;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(JS||(JS={}));var wd;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"})(wd||(wd={}));var uo;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})(uo||(uo={}));const aY=Mn;let I$=class $${constructor(t,n={config:{}},r){var i,a;if(this.topic=t,this.params=n,this.socket=r,this.bindings={},this.state=Mn.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},n.config),this.timeout=this.socket.timeout,this.joinPush=new hw(this,Na.join,this.params,this.timeout),this.rejoinTimer=new P$(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Mn.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(o=>o.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Mn.closed,this.socket._remove(this)}),this._onError(o=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,o),this.state=Mn.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Mn.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",o=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,o),this.state=Mn.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Na.reply,{},(o,c)=>{this._trigger(this._replyEventName(c),o)}),this.presence=new L$(this),this.broadcastEndpointURL=R$(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((a=(i=this.params.config)===null||i===void 0?void 0:i.broadcast)===null||a===void 0)&&a.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(t,n=this.timeout){var r,i,a;if(this.socket.isConnected()||this.socket.connect(),this.state==Mn.closed){const{config:{broadcast:o,presence:c,private:u}}=this.params,f=(i=(r=this.bindings.postgres_changes)===null||r===void 0?void 0:r.map(v=>v.filter))!==null&&i!==void 0?i:[],m=!!this.bindings[wd.PRESENCE]&&this.bindings[wd.PRESENCE].length>0||((a=this.params.config.presence)===null||a===void 0?void 0:a.enabled)===!0,p={},g={broadcast:o,presence:Object.assign(Object.assign({},c),{enabled:m}),postgres_changes:f,private:u};this.socket.accessTokenValue&&(p.access_token=this.socket.accessTokenValue),this._onError(v=>t?.(uo.CHANNEL_ERROR,v)),this._onClose(()=>t?.(uo.CLOSED)),this.updateJoinPayload(Object.assign({config:g},p)),this.joinedOnce=!0,this._rejoin(n),this.joinPush.receive("ok",async({postgres_changes:v})=>{var _;if(this.socket.setAuth(),v===void 0){t?.(uo.SUBSCRIBED);return}else{const w=this.bindings.postgres_changes,E=(_=w?.length)!==null&&_!==void 0?_:0,T=[];for(let N=0;N<E;N++){const O=w[N],{filter:{event:P,schema:C,table:D,filter:$}}=O,H=v&&v[N];if(H&&H.event===P&&H.schema===C&&H.table===D&&H.filter===$)T.push(Object.assign(Object.assign({},O),{id:H.id}));else{this.unsubscribe(),this.state=Mn.errored,t?.(uo.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=T,t&&t(uo.SUBSCRIBED);return}}).receive("error",v=>{this.state=Mn.errored,t?.(uo.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(v).join(", ")||"error")))}).receive("timeout",()=>{t?.(uo.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,n={}){return await this.send({type:"presence",event:"track",payload:t},n.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,n,r){return this.state===Mn.joined&&t===wd.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(()=>this.subscribe())),this._on(t,n,r)}async httpSend(t,n,r={}){var i;const a=this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"";if(n==null)return Promise.reject("Payload is required for httpSend()");const o={method:"POST",headers:{Authorization:a,apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:t,payload:n,private:this.private}]})},c=await this._fetchWithTimeout(this.broadcastEndpointURL,o,(i=r.timeout)!==null&&i!==void 0?i:this.timeout);if(c.status===202)return{success:!0};let u=c.statusText;try{const f=await c.json();u=f.error||f.message||u}catch{}return Promise.reject(new Error(u))}async send(t,n={}){var r,i;if(!this._canPush()&&t.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:a,payload:o}=t,u={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:a,payload:o,private:this.private}]})};try{const f=await this._fetchWithTimeout(this.broadcastEndpointURL,u,(r=n.timeout)!==null&&r!==void 0?r:this.timeout);return await((i=f.body)===null||i===void 0?void 0:i.cancel()),f.ok?"ok":"error"}catch(f){return f.name==="AbortError"?"timed out":"error"}}else return new Promise(a=>{var o,c,u;const f=this._push(t.type,t,n.timeout||this.timeout);t.type==="broadcast"&&!(!((u=(c=(o=this.params)===null||o===void 0?void 0:o.config)===null||c===void 0?void 0:c.broadcast)===null||u===void 0)&&u.ack)&&a("ok"),f.receive("ok",()=>a("ok")),f.receive("error",()=>a("error")),f.receive("timeout",()=>a("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=Mn.leaving;const n=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Na.close,"leave",this._joinRef())};this.joinPush.destroy();let r=null;return new Promise(i=>{r=new hw(this,Na.leave,{},t),r.receive("ok",()=>{n(),i("ok")}).receive("timeout",()=>{n(),i("timed out")}).receive("error",()=>{i("error")}),r.send(),this._canPush()||r.trigger("ok",{})}).finally(()=>{r?.destroy()})}teardown(){this.pushBuffer.forEach(t=>t.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=Mn.closed,this.bindings={}}async _fetchWithTimeout(t,n,r){const i=new AbortController,a=setTimeout(()=>i.abort(),r),o=await this.socket.fetch(t,Object.assign(Object.assign({},n),{signal:i.signal}));return clearTimeout(a),o}_push(t,n,r=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let i=new hw(this,t,n,r);return this._canPush()?i.send():this._addToPushBuffer(i),i}_addToPushBuffer(t){if(t.startTimeout(),this.pushBuffer.push(t),this.pushBuffer.length>Xq){const n=this.pushBuffer.shift();n&&(n.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${n.event}`,n.payload))}}_onMessage(t,n,r){return n}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,n,r){var i,a;const o=t.toLocaleLowerCase(),{close:c,error:u,leave:f,join:m}=Na;if(r&&[c,u,f,m].indexOf(o)>=0&&r!==this._joinRef())return;let g=this._onMessage(o,n,r);if(n&&!g)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(o)?(i=this.bindings.postgres_changes)===null||i===void 0||i.filter(v=>{var _,w,E;return((_=v.filter)===null||_===void 0?void 0:_.event)==="*"||((E=(w=v.filter)===null||w===void 0?void 0:w.event)===null||E===void 0?void 0:E.toLocaleLowerCase())===o}).map(v=>v.callback(g,r)):(a=this.bindings[o])===null||a===void 0||a.filter(v=>{var _,w,E,T,N,O;if(["broadcast","presence","postgres_changes"].includes(o))if("id"in v){const P=v.id,C=(_=v.filter)===null||_===void 0?void 0:_.event;return P&&((w=n.ids)===null||w===void 0?void 0:w.includes(P))&&(C==="*"||C?.toLocaleLowerCase()===((E=n.data)===null||E===void 0?void 0:E.type.toLocaleLowerCase()))}else{const P=(N=(T=v?.filter)===null||T===void 0?void 0:T.event)===null||N===void 0?void 0:N.toLocaleLowerCase();return P==="*"||P===((O=n?.event)===null||O===void 0?void 0:O.toLocaleLowerCase())}else return v.type.toLocaleLowerCase()===o}).map(v=>{if(typeof g=="object"&&"ids"in g){const _=g.data,{schema:w,table:E,commit_timestamp:T,type:N,errors:O}=_;g=Object.assign(Object.assign({},{schema:w,table:E,commit_timestamp:T,eventType:N,new:{},old:{},errors:O}),this._getPayloadRecords(_))}v.callback(g,r)})}_isClosed(){return this.state===Mn.closed}_isJoined(){return this.state===Mn.joined}_isJoining(){return this.state===Mn.joining}_isLeaving(){return this.state===Mn.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,n,r){const i=t.toLocaleLowerCase(),a={type:i,filter:n,callback:r};return this.bindings[i]?this.bindings[i].push(a):this.bindings[i]=[a],this}_off(t,n){const r=t.toLocaleLowerCase();return this.bindings[r]&&(this.bindings[r]=this.bindings[r].filter(i=>{var a;return!(((a=i.type)===null||a===void 0?void 0:a.toLocaleLowerCase())===r&&$$.isEqual(i.filter,n))})),this}static isEqual(t,n){if(Object.keys(t).length!==Object.keys(n).length)return!1;for(const r in t)if(t[r]!==n[r])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(Na.close,{},t)}_onError(t){this._on(Na.error,{},n=>t(n))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Mn.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const n={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(n.new=lC(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(n.old=lC(t.columns,t.old_record)),n}};const mw=()=>{},r0={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},oY=[1e3,2e3,5e3,1e4],sY=1e4,lY=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;let cY=class{constructor(t,n){var r;if(this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=WS,this.transport=null,this.heartbeatIntervalMs=r0.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=mw,this.ref=0,this.reconnectTimer=null,this.vsn=sC,this.logger=mw,this.conn=null,this.sendBuffer=[],this.serializer=new Jq,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=i=>i?(...a)=>i(...a):(...a)=>fetch(...a),!(!((r=n?.params)===null||r===void 0)&&r.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=n.params.apikey,this.endPoint=`${t}/${VS.websocket}`,this.httpEndpoint=R$(t),this._initializeOptions(n),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(n?.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this.accessToken&&!this._authPromise&&this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=C$.createWebSocket(this.endpointURL())}catch(t){this._setConnectionState("disconnected");const n=t.message;throw n.includes("Node.js")?new Error(`${n}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${n}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:this.vsn}))}disconnect(t,n){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const r=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(r),this._setConnectionState("disconnected")},typeof this.conn.close=="function"&&(t?this.conn.close(t,n??""):this.conn.close()),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(t){const n=await t.unsubscribe();return this.channels.length===0&&this.disconnect(),n}async removeAllChannels(){const t=await Promise.all(this.channels.map(n=>n.unsubscribe()));return this.channels=[],this.disconnect(),t}log(t,n,r){this.logger(t,n,r)}connectionState(){switch(this.conn&&this.conn.readyState){case $c.connecting:return Bc.Connecting;case $c.open:return Bc.Open;case $c.closing:return Bc.Closing;default:return Bc.Closed}}isConnected(){return this.connectionState()===Bc.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(t,n={config:{}}){const r=`realtime:${t}`,i=this.getChannels().find(a=>a.topic===r);if(i)return i;{const a=new I$(`realtime:${t}`,n,this);return this.channels.push(a),a}}push(t){const{topic:n,event:r,payload:i,ref:a}=t,o=()=>{this.encode(t,c=>{var u;(u=this.conn)===null||u===void 0||u.send(c)})};this.log("push",`${n} ${r} (${a})`,i),this.isConnected()?o():this.sendBuffer.push(o)}async setAuth(t=null){this._authPromise=this._performAuth(t);try{await this._authPromise}finally{this._authPromise=null}}async sendHeartbeat(){var t;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(n){this.log("error","error in heartbeat callback",n)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(n){this.log("error","error in heartbeat callback",n)}this._wasManualDisconnect=!1,(t=this.conn)===null||t===void 0||t.close(Zq,"heartbeat timeout"),setTimeout(()=>{var n;this.isConnected()||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout()},r0.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(n){this.log("error","error in heartbeat callback",n)}this._setAuthSafely("heartbeat")}onHeartbeat(t){this.heartbeatCallback=t}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let n=this.channels.find(r=>r.topic===t&&(r._isJoined()||r._isJoining()));n&&(this.log("transport",`leaving duplicate topic "${t}"`),n.unsubscribe())}_remove(t){this.channels=this.channels.filter(n=>n.topic!==t.topic)}_onConnMessage(t){this.decode(t.data,n=>{if(n.topic==="phoenix"&&n.event==="phx_reply")try{this.heartbeatCallback(n.payload.status==="ok"?"ok":"error")}catch(f){this.log("error","error in heartbeat callback",f)}n.ref&&n.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:r,event:i,payload:a,ref:o}=n,c=o?`(${o})`:"",u=a.status||"";this.log("receive",`${u} ${r} ${i} ${c}`.trim(),a),this.channels.filter(f=>f._isMember(r)).forEach(f=>f._trigger(i,a,o)),this._triggerStateCallbacks("message",n)})}_clearTimer(t){var n;t==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):t==="reconnect"&&((n=this.reconnectTimer)===null||n===void 0||n.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t))}_teardownConnection(){if(this.conn){if(this.conn.readyState===$c.open||this.conn.readyState===$c.connecting)try{this.conn.close()}catch(t){this.log("error","Error closing connection",t)}this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null}this._clearAllTimers(),this.channels.forEach(t=>t.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),(this._authPromise||(this.accessToken&&!this.accessTokenValue?this.setAuth():Promise.resolve())).then(()=>{this.flushSendBuffer()}).catch(n=>{this.log("error","error waiting for auth on connect",n),this.flushSendBuffer()}),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=n=>{this.log("worker","worker error",n.message),this.workerRef.terminate()},this.workerRef.onmessage=n=>{n.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(t){var n;this._setConnectionState("disconnected"),this.log("transport","close",t),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout(),this._triggerStateCallbacks("close",t)}_onConnError(t){this._setConnectionState("disconnected"),this.log("transport",`${t}`),this._triggerChanError(),this._triggerStateCallbacks("error",t)}_triggerChanError(){this.channels.forEach(t=>t._trigger(Na.error))}_appendParams(t,n){if(Object.keys(n).length===0)return t;const r=t.match(/\?/)?"&":"?",i=new URLSearchParams(n);return`${t}${r}${i}`}_workerObjectUrl(t){let n;if(t)n=t;else{const r=new Blob([lY],{type:"application/javascript"});n=URL.createObjectURL(r)}return n}_setConnectionState(t,n=!1){this._connectionState=t,t==="connecting"?this._wasManualDisconnect=!1:t==="disconnecting"&&(this._wasManualDisconnect=n)}async _performAuth(t=null){let n;t?n=t:this.accessToken?n=await this.accessToken():n=this.accessTokenValue,this.accessTokenValue!=n&&(this.accessTokenValue=n,this.channels.forEach(r=>{const i={access_token:n,version:Wq};n&&r.updateJoinPayload(i),r.joinedOnce&&r._isJoined()&&r._push(Na.access_token,{access_token:n})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(t="general"){this.setAuth().catch(n=>{this.log("error",`error setting auth in ${t}`,n)})}_triggerStateCallbacks(t,n){try{this.stateChangeCallbacks[t].forEach(r=>{try{r(n)}catch(i){this.log("error",`error in ${t} callback`,i)}})}catch(r){this.log("error",`error triggering ${t} callbacks`,r)}}_setupReconnectionTimer(){this.reconnectTimer=new P$(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},r0.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(t){var n,r,i,a,o,c,u,f,m,p,g,v;switch(this.transport=(n=t?.transport)!==null&&n!==void 0?n:null,this.timeout=(r=t?.timeout)!==null&&r!==void 0?r:WS,this.heartbeatIntervalMs=(i=t?.heartbeatIntervalMs)!==null&&i!==void 0?i:r0.HEARTBEAT_INTERVAL,this.worker=(a=t?.worker)!==null&&a!==void 0?a:!1,this.accessToken=(o=t?.accessToken)!==null&&o!==void 0?o:null,this.heartbeatCallback=(c=t?.heartbeatCallback)!==null&&c!==void 0?c:mw,this.vsn=(u=t?.vsn)!==null&&u!==void 0?u:sC,t?.params&&(this.params=t.params),t?.logger&&(this.logger=t.logger),(t?.logLevel||t?.log_level)&&(this.logLevel=t.logLevel||t.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(f=t?.reconnectAfterMs)!==null&&f!==void 0?f:(_=>oY[_-1]||sY),this.vsn){case M$:this.encode=(m=t?.encode)!==null&&m!==void 0?m:((_,w)=>w(JSON.stringify(_))),this.decode=(p=t?.decode)!==null&&p!==void 0?p:((_,w)=>w(JSON.parse(_)));break;case Vq:this.encode=(g=t?.encode)!==null&&g!==void 0?g:this.serializer.encode.bind(this.serializer),this.decode=(v=t?.decode)!==null&&v!==void 0?v:this.serializer.decode.bind(this.serializer);break;default:throw new Error(`Unsupported serializer version: ${this.vsn}`)}if(this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=t?.workerUrl}}};const uY=Object.freeze(Object.defineProperty({__proto__:null,REALTIME_CHANNEL_STATES:aY,get REALTIME_LISTEN_TYPES(){return wd},get REALTIME_POSTGRES_CHANGES_LISTEN_EVENT(){return JS},get REALTIME_PRESENCE_LISTEN_EVENTS(){return XS},get REALTIME_SUBSCRIBE_STATES(){return uo},RealtimeChannel:I$,RealtimeClient:cY,RealtimePresence:L$,WebSocketFactory:C$},Symbol.toStringTag,{value:"Module"})),B$=Im(uY);class Hm extends Error{constructor(t){super(t),this.__isStorageError=!0,this.name="StorageError"}}function nn(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}class z$ extends Hm{constructor(t,n,r){super(t),this.name="StorageApiError",this.status=n,this.statusCode=r}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class Sy extends Hm{constructor(t,n){super(t),this.name="StorageUnknownError",this.originalError=n}}const Yk=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),dY=()=>Response,QS=e=>{if(Array.isArray(e))return e.map(n=>QS(n));if(typeof e=="function"||e!==Object(e))return e;const t={};return Object.entries(e).forEach(([n,r])=>{const i=n.replace(/([-_][a-z])/gi,a=>a.toUpperCase().replace(/[-_]/g,""));t[i]=QS(r)}),t},fY=e=>{if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},hY=e=>!e||typeof e!="string"||e.length===0||e.length>100||e.trim()!==e||e.includes("/")||e.includes("\\")?!1:/^[\w!.\*'() &$@=;:+,?-]+$/.test(e),pw=e=>{var t;return e.msg||e.message||e.error_description||(typeof e.error=="string"?e.error:(t=e.error)===null||t===void 0?void 0:t.message)||JSON.stringify(e)},mY=(e,t,n)=>Ue(void 0,void 0,void 0,function*(){const r=yield dY();e instanceof r&&!n?.noResolveJson?e.json().then(i=>{const a=e.status||500,o=i?.statusCode||a+"";t(new z$(pw(i),a,o))}).catch(i=>{t(new Sy(pw(i),i))}):t(new Sy(pw(e),e))}),pY=(e,t,n,r)=>{const i={method:e,headers:t?.headers||{}};return e==="GET"||!r?i:(fY(r)?(i.headers=Object.assign({"Content-Type":"application/json"},t?.headers),i.body=JSON.stringify(r)):i.body=r,t?.duplex&&(i.duplex=t.duplex),Object.assign(Object.assign({},i),n))};function Fm(e,t,n,r,i,a){return Ue(this,void 0,void 0,function*(){return new Promise((o,c)=>{e(n,pY(t,r,i,a)).then(u=>{if(!u.ok)throw u;return r?.noResolveJson?u:u.json()}).then(u=>o(u)).catch(u=>mY(u,c,r))})})}function lm(e,t,n,r){return Ue(this,void 0,void 0,function*(){return Fm(e,"GET",t,n,r)})}function ja(e,t,n,r,i){return Ue(this,void 0,void 0,function*(){return Fm(e,"POST",t,r,i,n)})}function eE(e,t,n,r,i){return Ue(this,void 0,void 0,function*(){return Fm(e,"PUT",t,r,i,n)})}function gY(e,t,n,r){return Ue(this,void 0,void 0,function*(){return Fm(e,"HEAD",t,Object.assign(Object.assign({},n),{noResolveJson:!0}),r)})}function Kk(e,t,n,r,i){return Ue(this,void 0,void 0,function*(){return Fm(e,"DELETE",t,r,i,n)})}class yY{constructor(t,n){this.downloadFn=t,this.shouldThrowOnError=n}then(t,n){return this.execute().then(t,n)}execute(){return Ue(this,void 0,void 0,function*(){try{return{data:(yield this.downloadFn()).body,error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(nn(t))return{data:null,error:t};throw t}})}}var U$;class bY{constructor(t,n){this.downloadFn=t,this.shouldThrowOnError=n,this[U$]="BlobDownloadBuilder",this.promise=null}asStream(){return new yY(this.downloadFn,this.shouldThrowOnError)}then(t,n){return this.getPromise().then(t,n)}catch(t){return this.getPromise().catch(t)}finally(t){return this.getPromise().finally(t)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}execute(){return Ue(this,void 0,void 0,function*(){try{return{data:yield(yield this.downloadFn()).blob(),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(nn(t))return{data:null,error:t};throw t}})}}U$=Symbol.toStringTag;const vY={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},cC={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class xY{constructor(t,n={},r,i){this.shouldThrowOnError=!1,this.url=t,this.headers=n,this.bucketId=r,this.fetch=Yk(i)}throwOnError(){return this.shouldThrowOnError=!0,this}uploadOrUpdate(t,n,r,i){return Ue(this,void 0,void 0,function*(){try{let a;const o=Object.assign(Object.assign({},cC),i);let c=Object.assign(Object.assign({},this.headers),t==="POST"&&{"x-upsert":String(o.upsert)});const u=o.metadata;typeof Blob<"u"&&r instanceof Blob?(a=new FormData,a.append("cacheControl",o.cacheControl),u&&a.append("metadata",this.encodeMetadata(u)),a.append("",r)):typeof FormData<"u"&&r instanceof FormData?(a=r,a.has("cacheControl")||a.append("cacheControl",o.cacheControl),u&&!a.has("metadata")&&a.append("metadata",this.encodeMetadata(u))):(a=r,c["cache-control"]=`max-age=${o.cacheControl}`,c["content-type"]=o.contentType,u&&(c["x-metadata"]=this.toBase64(this.encodeMetadata(u))),(typeof ReadableStream<"u"&&a instanceof ReadableStream||a&&typeof a=="object"&&"pipe"in a&&typeof a.pipe=="function")&&!o.duplex&&(o.duplex="half")),i?.headers&&(c=Object.assign(Object.assign({},c),i.headers));const f=this._removeEmptyFolders(n),m=this._getFinalPath(f),p=yield(t=="PUT"?eE:ja)(this.fetch,`${this.url}/object/${m}`,a,Object.assign({headers:c},o?.duplex?{duplex:o.duplex}:{}));return{data:{path:f,id:p.Id,fullPath:p.Key},error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(nn(a))return{data:null,error:a};throw a}})}upload(t,n,r){return Ue(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",t,n,r)})}uploadToSignedUrl(t,n,r,i){return Ue(this,void 0,void 0,function*(){const a=this._removeEmptyFolders(t),o=this._getFinalPath(a),c=new URL(this.url+`/object/upload/sign/${o}`);c.searchParams.set("token",n);try{let u;const f=Object.assign({upsert:cC.upsert},i),m=Object.assign(Object.assign({},this.headers),{"x-upsert":String(f.upsert)});typeof Blob<"u"&&r instanceof Blob?(u=new FormData,u.append("cacheControl",f.cacheControl),u.append("",r)):typeof FormData<"u"&&r instanceof FormData?(u=r,u.append("cacheControl",f.cacheControl)):(u=r,m["cache-control"]=`max-age=${f.cacheControl}`,m["content-type"]=f.contentType);const p=yield eE(this.fetch,c.toString(),u,{headers:m});return{data:{path:a,fullPath:p.Key},error:null}}catch(u){if(this.shouldThrowOnError)throw u;if(nn(u))return{data:null,error:u};throw u}})}createSignedUploadUrl(t,n){return Ue(this,void 0,void 0,function*(){try{let r=this._getFinalPath(t);const i=Object.assign({},this.headers);n?.upsert&&(i["x-upsert"]="true");const a=yield ja(this.fetch,`${this.url}/object/upload/sign/${r}`,{},{headers:i}),o=new URL(this.url+a.url),c=o.searchParams.get("token");if(!c)throw new Hm("No token returned by API");return{data:{signedUrl:o.toString(),path:t,token:c},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(nn(r))return{data:null,error:r};throw r}})}update(t,n,r){return Ue(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",t,n,r)})}move(t,n,r){return Ue(this,void 0,void 0,function*(){try{return{data:yield ja(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:t,destinationKey:n,destinationBucket:r?.destinationBucket},{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(nn(i))return{data:null,error:i};throw i}})}copy(t,n,r){return Ue(this,void 0,void 0,function*(){try{return{data:{path:(yield ja(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:t,destinationKey:n,destinationBucket:r?.destinationBucket},{headers:this.headers})).Key},error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(nn(i))return{data:null,error:i};throw i}})}createSignedUrl(t,n,r){return Ue(this,void 0,void 0,function*(){try{let i=this._getFinalPath(t),a=yield ja(this.fetch,`${this.url}/object/sign/${i}`,Object.assign({expiresIn:n},r?.transform?{transform:r.transform}:{}),{headers:this.headers});const o=r?.download?`&download=${r.download===!0?"":r.download}`:"";return a={signedUrl:encodeURI(`${this.url}${a.signedURL}${o}`)},{data:a,error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(nn(i))return{data:null,error:i};throw i}})}createSignedUrls(t,n,r){return Ue(this,void 0,void 0,function*(){try{const i=yield ja(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:n,paths:t},{headers:this.headers}),a=r?.download?`&download=${r.download===!0?"":r.download}`:"";return{data:i.map(o=>Object.assign(Object.assign({},o),{signedUrl:o.signedURL?encodeURI(`${this.url}${o.signedURL}${a}`):null})),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(nn(i))return{data:null,error:i};throw i}})}download(t,n){const i=typeof n?.transform<"u"?"render/image/authenticated":"object",a=this.transformOptsToQueryString(n?.transform||{}),o=a?`?${a}`:"",c=this._getFinalPath(t),u=()=>lm(this.fetch,`${this.url}/${i}/${c}${o}`,{headers:this.headers,noResolveJson:!0});return new bY(u,this.shouldThrowOnError)}info(t){return Ue(this,void 0,void 0,function*(){const n=this._getFinalPath(t);try{const r=yield lm(this.fetch,`${this.url}/object/info/${n}`,{headers:this.headers});return{data:QS(r),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(nn(r))return{data:null,error:r};throw r}})}exists(t){return Ue(this,void 0,void 0,function*(){const n=this._getFinalPath(t);try{return yield gY(this.fetch,`${this.url}/object/${n}`,{headers:this.headers}),{data:!0,error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(nn(r)&&r instanceof Sy){const i=r.originalError;if([400,404].includes(i?.status))return{data:!1,error:r}}throw r}})}getPublicUrl(t,n){const r=this._getFinalPath(t),i=[],a=n?.download?`download=${n.download===!0?"":n.download}`:"";a!==""&&i.push(a);const c=typeof n?.transform<"u"?"render/image":"object",u=this.transformOptsToQueryString(n?.transform||{});u!==""&&i.push(u);let f=i.join("&");return f!==""&&(f=`?${f}`),{data:{publicUrl:encodeURI(`${this.url}/${c}/public/${r}${f}`)}}}remove(t){return Ue(this,void 0,void 0,function*(){try{return{data:yield Kk(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:t},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(nn(n))return{data:null,error:n};throw n}})}list(t,n,r){return Ue(this,void 0,void 0,function*(){try{const i=Object.assign(Object.assign(Object.assign({},vY),n),{prefix:t||""});return{data:yield ja(this.fetch,`${this.url}/object/list/${this.bucketId}`,i,{headers:this.headers},r),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(nn(i))return{data:null,error:i};throw i}})}listV2(t,n){return Ue(this,void 0,void 0,function*(){try{const r=Object.assign({},t);return{data:yield ja(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,r,{headers:this.headers},n),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(nn(r))return{data:null,error:r};throw r}})}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return typeof Buffer<"u"?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t.replace(/^\/+/,"")}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){const n=[];return t.width&&n.push(`width=${t.width}`),t.height&&n.push(`height=${t.height}`),t.resize&&n.push(`resize=${t.resize}`),t.format&&n.push(`format=${t.format}`),t.quality&&n.push(`quality=${t.quality}`),n.join("&")}}const H$="2.86.2",F$={"X-Client-Info":`storage-js/${H$}`};class _Y{constructor(t,n={},r,i){this.shouldThrowOnError=!1;const a=new URL(t);i?.useNewHostname&&/supabase\.(co|in|red)$/.test(a.hostname)&&!a.hostname.includes("storage.supabase.")&&(a.hostname=a.hostname.replace("supabase.","storage.supabase.")),this.url=a.href.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},F$),n),this.fetch=Yk(r)}throwOnError(){return this.shouldThrowOnError=!0,this}listBuckets(t){return Ue(this,void 0,void 0,function*(){try{const n=this.listBucketOptionsToQueryString(t);return{data:yield lm(this.fetch,`${this.url}/bucket${n}`,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(nn(n))return{data:null,error:n};throw n}})}getBucket(t){return Ue(this,void 0,void 0,function*(){try{return{data:yield lm(this.fetch,`${this.url}/bucket/${t}`,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(nn(n))return{data:null,error:n};throw n}})}createBucket(t){return Ue(this,arguments,void 0,function*(n,r={public:!1}){try{return{data:yield ja(this.fetch,`${this.url}/bucket`,{id:n,name:n,type:r.type,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(nn(i))return{data:null,error:i};throw i}})}updateBucket(t,n){return Ue(this,void 0,void 0,function*(){try{return{data:yield eE(this.fetch,`${this.url}/bucket/${t}`,{id:t,name:t,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(nn(r))return{data:null,error:r};throw r}})}emptyBucket(t){return Ue(this,void 0,void 0,function*(){try{return{data:yield ja(this.fetch,`${this.url}/bucket/${t}/empty`,{},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(nn(n))return{data:null,error:n};throw n}})}deleteBucket(t){return Ue(this,void 0,void 0,function*(){try{return{data:yield Kk(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(nn(n))return{data:null,error:n};throw n}})}listBucketOptionsToQueryString(t){const n={};return t&&("limit"in t&&(n.limit=String(t.limit)),"offset"in t&&(n.offset=String(t.offset)),t.search&&(n.search=t.search),t.sortColumn&&(n.sortColumn=t.sortColumn),t.sortOrder&&(n.sortOrder=t.sortOrder)),Object.keys(n).length>0?"?"+new URLSearchParams(n).toString():""}}var cm=class extends Error{constructor(e,t){super(e),this.name="IcebergError",this.status=t.status,this.icebergType=t.icebergType,this.icebergCode=t.icebergCode,this.details=t.details,this.isCommitStateUnknown=t.icebergType==="CommitStateUnknownException"||[500,502,504].includes(t.status)&&t.icebergType?.includes("CommitState")===!0}isNotFound(){return this.status===404}isConflict(){return this.status===409}isAuthenticationTimeout(){return this.status===419}};function wY(e,t,n){const r=new URL(t,e);if(n)for(const[i,a]of Object.entries(n))a!==void 0&&r.searchParams.set(i,a);return r.toString()}async function SY(e){return!e||e.type==="none"?{}:e.type==="bearer"?{Authorization:`Bearer ${e.token}`}:e.type==="header"?{[e.name]:e.value}:e.type==="custom"?await e.getHeaders():{}}function EY(e){const t=e.fetchImpl??globalThis.fetch;return{async request({method:n,path:r,query:i,body:a,headers:o}){const c=wY(e.baseUrl,r,i),u=await SY(e.auth),f=await t(c,{method:n,headers:{...a?{"Content-Type":"application/json"}:{},...u,...o},body:a?JSON.stringify(a):void 0}),m=await f.text(),p=(f.headers.get("content-type")||"").includes("application/json"),g=p&&m?JSON.parse(m):m;if(!f.ok){const v=p?g:void 0,_=v?.error;throw new cm(_?.message??`Request failed with status ${f.status}`,{status:f.status,icebergType:_?.type,icebergCode:_?.code,details:v})}return{status:f.status,headers:f.headers,data:g}}}}function i0(e){return e.join("")}var kY=class{constructor(e,t=""){this.client=e,this.prefix=t}async listNamespaces(e){const t=e?{parent:i0(e.namespace)}:void 0;return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces`,query:t})).data.namespaces.map(r=>({namespace:r}))}async createNamespace(e,t){const n={namespace:e.namespace,properties:t?.properties};return(await this.client.request({method:"POST",path:`${this.prefix}/namespaces`,body:n})).data}async dropNamespace(e){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${i0(e.namespace)}`})}async loadNamespaceMetadata(e){return{properties:(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${i0(e.namespace)}`})).data.properties}}async namespaceExists(e){try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${i0(e.namespace)}`}),!0}catch(t){if(t instanceof cm&&t.status===404)return!1;throw t}}async createNamespaceIfNotExists(e,t){try{return await this.createNamespace(e,t)}catch(n){if(n instanceof cm&&n.status===409)return;throw n}}};function Zu(e){return e.join("")}var AY=class{constructor(e,t="",n){this.client=e,this.prefix=t,this.accessDelegation=n}async listTables(e){return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Zu(e.namespace)}/tables`})).data.identifiers}async createTable(e,t){const n={};return this.accessDelegation&&(n["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${Zu(e.namespace)}/tables`,body:t,headers:n})).data.metadata}async updateTable(e,t){const n=await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${Zu(e.namespace)}/tables/${e.name}`,body:t});return{"metadata-location":n.data["metadata-location"],metadata:n.data.metadata}}async dropTable(e,t){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${Zu(e.namespace)}/tables/${e.name}`,query:{purgeRequested:String(t?.purge??!1)}})}async loadTable(e){const t={};return this.accessDelegation&&(t["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Zu(e.namespace)}/tables/${e.name}`,headers:t})).data.metadata}async tableExists(e){const t={};this.accessDelegation&&(t["X-Iceberg-Access-Delegation"]=this.accessDelegation);try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${Zu(e.namespace)}/tables/${e.name}`,headers:t}),!0}catch(n){if(n instanceof cm&&n.status===404)return!1;throw n}}async createTableIfNotExists(e,t){try{return await this.createTable(e,t)}catch(n){if(n instanceof cm&&n.status===409)return await this.loadTable({namespace:e.namespace,name:t.name});throw n}}},TY=class{constructor(e){let t="v1";e.catalogName&&(t+=`/${e.catalogName}`);const n=e.baseUrl.endsWith("/")?e.baseUrl:`${e.baseUrl}/`;this.client=EY({baseUrl:n,auth:e.auth,fetchImpl:e.fetch}),this.accessDelegation=e.accessDelegation?.join(","),this.namespaceOps=new kY(this.client,t),this.tableOps=new AY(this.client,t,this.accessDelegation)}async listNamespaces(e){return this.namespaceOps.listNamespaces(e)}async createNamespace(e,t){return this.namespaceOps.createNamespace(e,t)}async dropNamespace(e){await this.namespaceOps.dropNamespace(e)}async loadNamespaceMetadata(e){return this.namespaceOps.loadNamespaceMetadata(e)}async listTables(e){return this.tableOps.listTables(e)}async createTable(e,t){return this.tableOps.createTable(e,t)}async updateTable(e,t){return this.tableOps.updateTable(e,t)}async dropTable(e,t){await this.tableOps.dropTable(e,t)}async loadTable(e){return this.tableOps.loadTable(e)}async namespaceExists(e){return this.namespaceOps.namespaceExists(e)}async tableExists(e){return this.tableOps.tableExists(e)}async createNamespaceIfNotExists(e,t){return this.namespaceOps.createNamespaceIfNotExists(e,t)}async createTableIfNotExists(e,t){return this.tableOps.createTableIfNotExists(e,t)}};class G${constructor(t,n={},r){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},F$),n),this.fetch=Yk(r)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(t){return Ue(this,void 0,void 0,function*(){try{return{data:yield ja(this.fetch,`${this.url}/bucket`,{name:t},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(nn(n))return{data:null,error:n};throw n}})}listBuckets(t){return Ue(this,void 0,void 0,function*(){try{const n=new URLSearchParams;t?.limit!==void 0&&n.set("limit",t.limit.toString()),t?.offset!==void 0&&n.set("offset",t.offset.toString()),t?.sortColumn&&n.set("sortColumn",t.sortColumn),t?.sortOrder&&n.set("sortOrder",t.sortOrder),t?.search&&n.set("search",t.search);const r=n.toString(),i=r?`${this.url}/bucket?${r}`:`${this.url}/bucket`;return{data:yield lm(this.fetch,i,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(nn(n))return{data:null,error:n};throw n}})}deleteBucket(t){return Ue(this,void 0,void 0,function*(){try{return{data:yield Kk(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(nn(n))return{data:null,error:n};throw n}})}from(t){if(!hY(t))throw new Hm("Invalid bucket name: File, folder, and bucket names must follow AWS object key naming guidelines and should avoid the use of any other characters.");return new TY({baseUrl:this.url,catalogName:t,auth:{type:"custom",getHeaders:()=>Ue(this,void 0,void 0,function*(){return this.headers})},fetch:this.fetch})}}const Wk={"X-Client-Info":`storage-js/${H$}`,"Content-Type":"application/json"};class Vk extends Error{constructor(t){super(t),this.__isStorageVectorsError=!0,this.name="StorageVectorsError"}}function ii(e){return typeof e=="object"&&e!==null&&"__isStorageVectorsError"in e}class ny extends Vk{constructor(t,n,r){super(t),this.name="StorageVectorsApiError",this.status=n,this.statusCode=r}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class q$ extends Vk{constructor(t,n){super(t),this.name="StorageVectorsUnknownError",this.originalError=n}}var tE;(function(e){e.InternalError="InternalError",e.S3VectorConflictException="S3VectorConflictException",e.S3VectorNotFoundException="S3VectorNotFoundException",e.S3VectorBucketNotEmpty="S3VectorBucketNotEmpty",e.S3VectorMaxBucketsExceeded="S3VectorMaxBucketsExceeded",e.S3VectorMaxIndexesExceeded="S3VectorMaxIndexesExceeded"})(tE||(tE={}));const Qb=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),OY=()=>Response,Y$=e=>{if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},jY=e=>Array.from(new Float32Array(e)),NY=(e,t)=>{if(t!==void 0&&e.float32.length!==t)throw new Error(`Vector dimension mismatch: expected ${t}, got ${e.float32.length}`)},uC=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),CY=(e,t,n)=>Ue(void 0,void 0,void 0,function*(){if(e&&typeof e=="object"&&"status"in e&&"ok"in e&&typeof e.status=="number"&&!n?.noResolveJson){const i=e.status||500,a=e;if(typeof a.json=="function")a.json().then(o=>{const c=o?.statusCode||o?.code||i+"";t(new ny(uC(o),i,c))}).catch(()=>{const o=i+"",c=a.statusText||`HTTP ${i} error`;t(new ny(c,i,o))});else{const o=i+"",c=a.statusText||`HTTP ${i} error`;t(new ny(c,i,o))}}else t(new q$(uC(e),e))}),MY=(e,t,n,r)=>{const i={method:e,headers:t?.headers||{}};return r?(Y$(r)?(i.headers=Object.assign({"Content-Type":"application/json"},t?.headers),i.body=JSON.stringify(r)):i.body=r,Object.assign(Object.assign({},i),n)):i};function PY(e,t,n,r,i,a){return Ue(this,void 0,void 0,function*(){return new Promise((o,c)=>{e(n,MY(t,r,i,a)).then(u=>{if(!u.ok)throw u;if(r?.noResolveJson)return u;const f=u.headers.get("content-type");return!f||!f.includes("application/json")?{}:u.json()}).then(u=>o(u)).catch(u=>CY(u,c,r))})})}function Ni(e,t,n,r,i){return Ue(this,void 0,void 0,function*(){return PY(e,"POST",t,r,i,n)})}class K${constructor(t,n={},r){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},Wk),n),this.fetch=Qb(r)}throwOnError(){return this.shouldThrowOnError=!0,this}createIndex(t){return Ue(this,void 0,void 0,function*(){try{return{data:(yield Ni(this.fetch,`${this.url}/CreateIndex`,t,{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(ii(n))return{data:null,error:n};throw n}})}getIndex(t,n){return Ue(this,void 0,void 0,function*(){try{return{data:yield Ni(this.fetch,`${this.url}/GetIndex`,{vectorBucketName:t,indexName:n},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(ii(r))return{data:null,error:r};throw r}})}listIndexes(t){return Ue(this,void 0,void 0,function*(){try{return{data:yield Ni(this.fetch,`${this.url}/ListIndexes`,t,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(ii(n))return{data:null,error:n};throw n}})}deleteIndex(t,n){return Ue(this,void 0,void 0,function*(){try{return{data:(yield Ni(this.fetch,`${this.url}/DeleteIndex`,{vectorBucketName:t,indexName:n},{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(ii(r))return{data:null,error:r};throw r}})}}class W${constructor(t,n={},r){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},Wk),n),this.fetch=Qb(r)}throwOnError(){return this.shouldThrowOnError=!0,this}putVectors(t){return Ue(this,void 0,void 0,function*(){try{if(t.vectors.length<1||t.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return{data:(yield Ni(this.fetch,`${this.url}/PutVectors`,t,{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(ii(n))return{data:null,error:n};throw n}})}getVectors(t){return Ue(this,void 0,void 0,function*(){try{return{data:yield Ni(this.fetch,`${this.url}/GetVectors`,t,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(ii(n))return{data:null,error:n};throw n}})}listVectors(t){return Ue(this,void 0,void 0,function*(){try{if(t.segmentCount!==void 0){if(t.segmentCount<1||t.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(t.segmentIndex!==void 0&&(t.segmentIndex<0||t.segmentIndex>=t.segmentCount))throw new Error(`segmentIndex must be between 0 and ${t.segmentCount-1}`)}return{data:yield Ni(this.fetch,`${this.url}/ListVectors`,t,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(ii(n))return{data:null,error:n};throw n}})}queryVectors(t){return Ue(this,void 0,void 0,function*(){try{return{data:yield Ni(this.fetch,`${this.url}/QueryVectors`,t,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(ii(n))return{data:null,error:n};throw n}})}deleteVectors(t){return Ue(this,void 0,void 0,function*(){try{if(t.keys.length<1||t.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return{data:(yield Ni(this.fetch,`${this.url}/DeleteVectors`,t,{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(ii(n))return{data:null,error:n};throw n}})}}class V${constructor(t,n={},r){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},Wk),n),this.fetch=Qb(r)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(t){return Ue(this,void 0,void 0,function*(){try{return{data:(yield Ni(this.fetch,`${this.url}/CreateVectorBucket`,{vectorBucketName:t},{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(ii(n))return{data:null,error:n};throw n}})}getBucket(t){return Ue(this,void 0,void 0,function*(){try{return{data:yield Ni(this.fetch,`${this.url}/GetVectorBucket`,{vectorBucketName:t},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(ii(n))return{data:null,error:n};throw n}})}listBuckets(){return Ue(this,arguments,void 0,function*(t={}){try{return{data:yield Ni(this.fetch,`${this.url}/ListVectorBuckets`,t,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(ii(n))return{data:null,error:n};throw n}})}deleteBucket(t){return Ue(this,void 0,void 0,function*(){try{return{data:(yield Ni(this.fetch,`${this.url}/DeleteVectorBucket`,{vectorBucketName:t},{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(ii(n))return{data:null,error:n};throw n}})}}class Z$ extends V${constructor(t,n={}){super(t,n.headers||{},n.fetch)}from(t){return new X$(this.url,this.headers,t,this.fetch)}createBucket(t){const n=Object.create(null,{createBucket:{get:()=>super.createBucket}});return Ue(this,void 0,void 0,function*(){return n.createBucket.call(this,t)})}getBucket(t){const n=Object.create(null,{getBucket:{get:()=>super.getBucket}});return Ue(this,void 0,void 0,function*(){return n.getBucket.call(this,t)})}listBuckets(){const t=Object.create(null,{listBuckets:{get:()=>super.listBuckets}});return Ue(this,arguments,void 0,function*(n={}){return t.listBuckets.call(this,n)})}deleteBucket(t){const n=Object.create(null,{deleteBucket:{get:()=>super.deleteBucket}});return Ue(this,void 0,void 0,function*(){return n.deleteBucket.call(this,t)})}}class X$ extends K${constructor(t,n,r,i){super(t,n,i),this.vectorBucketName=r}createIndex(t){const n=Object.create(null,{createIndex:{get:()=>super.createIndex}});return Ue(this,void 0,void 0,function*(){return n.createIndex.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName}))})}listIndexes(){const t=Object.create(null,{listIndexes:{get:()=>super.listIndexes}});return Ue(this,arguments,void 0,function*(n={}){return t.listIndexes.call(this,Object.assign(Object.assign({},n),{vectorBucketName:this.vectorBucketName}))})}getIndex(t){const n=Object.create(null,{getIndex:{get:()=>super.getIndex}});return Ue(this,void 0,void 0,function*(){return n.getIndex.call(this,this.vectorBucketName,t)})}deleteIndex(t){const n=Object.create(null,{deleteIndex:{get:()=>super.deleteIndex}});return Ue(this,void 0,void 0,function*(){return n.deleteIndex.call(this,this.vectorBucketName,t)})}index(t){return new J$(this.url,this.headers,this.vectorBucketName,t,this.fetch)}}class J$ extends W${constructor(t,n,r,i,a){super(t,n,a),this.vectorBucketName=r,this.indexName=i}putVectors(t){const n=Object.create(null,{putVectors:{get:()=>super.putVectors}});return Ue(this,void 0,void 0,function*(){return n.putVectors.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}getVectors(t){const n=Object.create(null,{getVectors:{get:()=>super.getVectors}});return Ue(this,void 0,void 0,function*(){return n.getVectors.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}listVectors(){const t=Object.create(null,{listVectors:{get:()=>super.listVectors}});return Ue(this,arguments,void 0,function*(n={}){return t.listVectors.call(this,Object.assign(Object.assign({},n),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}queryVectors(t){const n=Object.create(null,{queryVectors:{get:()=>super.queryVectors}});return Ue(this,void 0,void 0,function*(){return n.queryVectors.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}deleteVectors(t){const n=Object.create(null,{deleteVectors:{get:()=>super.deleteVectors}});return Ue(this,void 0,void 0,function*(){return n.deleteVectors.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}}class DY extends _Y{constructor(t,n={},r,i){super(t,n,r,i)}from(t){return new xY(this.url,this.headers,t,this.fetch)}get vectors(){return new Z$(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new G$(this.url+"/iceberg",this.headers,this.fetch)}}const RY=Object.freeze(Object.defineProperty({__proto__:null,StorageAnalyticsClient:G$,StorageApiError:z$,StorageClient:DY,StorageError:Hm,StorageUnknownError:Sy,StorageVectorsApiError:ny,StorageVectorsClient:Z$,StorageVectorsError:Vk,get StorageVectorsErrorCode(){return tE},StorageVectorsUnknownError:q$,VectorBucketApi:V$,VectorBucketScope:X$,VectorDataApi:W$,VectorIndexApi:K$,VectorIndexScope:J$,isPlainObject:Y$,isStorageError:nn,isStorageVectorsError:ii,normalizeToFloat32:jY,resolveFetch:Qb,resolveResponse:OY,validateVectorDimension:NY},Symbol.toStringTag,{value:"Module"})),LY=Im(RY);var gw={},_h={},dC;function IY(){return dC||(dC=1,Object.defineProperty(_h,"__esModule",{value:!0}),_h.version=void 0,_h.version="2.86.2"),_h}var fC;function $Y(){return fC||(fC=1,(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.DEFAULT_REALTIME_OPTIONS=e.DEFAULT_AUTH_OPTIONS=e.DEFAULT_DB_OPTIONS=e.DEFAULT_GLOBAL_OPTIONS=e.DEFAULT_HEADERS=void 0;const t=IY();let n="";typeof Deno<"u"?n="deno":typeof document<"u"?n="web":typeof navigator<"u"&&navigator.product==="ReactNative"?n="react-native":n="node",e.DEFAULT_HEADERS={"X-Client-Info":`supabase-js-${n}/${t.version}`},e.DEFAULT_GLOBAL_OPTIONS={headers:e.DEFAULT_HEADERS},e.DEFAULT_DB_OPTIONS={schema:"public"},e.DEFAULT_AUTH_OPTIONS={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},e.DEFAULT_REALTIME_OPTIONS={}})(gw)),gw}var yw={},hC;function BY(){return hC||(hC=1,(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.fetchWithAuth=e.resolveHeadersConstructor=e.resolveFetch=void 0;const t=i=>i?(...a)=>i(...a):(...a)=>fetch(...a);e.resolveFetch=t;const n=()=>Headers;e.resolveHeadersConstructor=n;const r=(i,a,o)=>{const c=(0,e.resolveFetch)(o),u=(0,e.resolveHeadersConstructor)();return async(f,m)=>{var p;const g=(p=await a())!==null&&p!==void 0?p:i;let v=new u(m?.headers);return v.has("apikey")||v.set("apikey",i),v.has("Authorization")||v.set("Authorization",`Bearer ${g}`),c(f,Object.assign(Object.assign({},m),{headers:v}))}};e.fetchWithAuth=r})(yw)),yw}var Qo={},mC;function zY(){if(mC)return Qo;mC=1,Object.defineProperty(Qo,"__esModule",{value:!0}),Qo.isBrowser=void 0,Qo.uuid=e,Qo.ensureTrailingSlash=t,Qo.applySettingDefaults=r,Qo.validateSupabaseUrl=i;function e(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(a){var o=Math.random()*16|0,c=a=="x"?o:o&3|8;return c.toString(16)})}function t(a){return a.endsWith("/")?a:a+"/"}const n=()=>typeof window<"u";Qo.isBrowser=n;function r(a,o){var c,u;const{db:f,auth:m,realtime:p,global:g}=a,{db:v,auth:_,realtime:w,global:E}=o,T={db:Object.assign(Object.assign({},v),f),auth:Object.assign(Object.assign({},_),m),realtime:Object.assign(Object.assign({},w),p),storage:{},global:Object.assign(Object.assign(Object.assign({},E),g),{headers:Object.assign(Object.assign({},(c=E?.headers)!==null&&c!==void 0?c:{}),(u=g?.headers)!==null&&u!==void 0?u:{})}),accessToken:async()=>""};return a.accessToken?T.accessToken=a.accessToken:delete T.accessToken,T}function i(a){const o=a?.trim();if(!o)throw new Error("supabaseUrl is required.");if(!o.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(t(o))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}return Qo}var wh={};const Q$="2.86.2",ud=30*1e3,nE=3,bw=nE*ud,UY="http://localhost:9999",HY="supabase.auth.token",FY={"X-Client-Info":`gotrue-js/${Q$}`},rE="X-Supabase-Api-Version",eB={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},GY=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,qY=600*1e3;let Pd=class extends Error{constructor(t,n,r){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=n,this.code=r}};function Ge(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}let tB=class extends Pd{constructor(t,n,r){super(t,n,r),this.name="AuthApiError",this.status=n,this.code=r}};function nB(e){return Ge(e)&&e.name==="AuthApiError"}let bl=class extends Pd{constructor(t,n){super(t),this.name="AuthUnknownError",this.originalError=n}},xs=class extends Pd{constructor(t,n,r,i){super(t,r,i),this.name=n,this.status=r}},ei=class extends xs{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}};function rB(e){return Ge(e)&&e.name==="AuthSessionMissingError"}let Nc=class extends xs{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}},Gh=class extends xs{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}},qh=class extends xs{constructor(t,n=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}};function iB(e){return Ge(e)&&e.name==="AuthImplicitGrantRedirectError"}let iE=class extends xs{constructor(t,n=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}},Ey=class extends xs{constructor(t,n){super(t,"AuthRetryableFetchError",n,void 0)}};function ry(e){return Ge(e)&&e.name==="AuthRetryableFetchError"}let aE=class extends xs{constructor(t,n,r){super(t,"AuthWeakPasswordError",n,"weak_password"),this.reasons=r}};function YY(e){return Ge(e)&&e.name==="AuthWeakPasswordError"}let ky=class extends xs{constructor(t){super(t,"AuthInvalidJwtError",400,"invalid_jwt")}};const Ay="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),pC=` 	
\r=`.split(""),KY=(()=>{const e=new Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<pC.length;t+=1)e[pC[t].charCodeAt(0)]=-2;for(let t=0;t<Ay.length;t+=1)e[Ay[t].charCodeAt(0)]=t;return e})();function gC(e,t,n){if(e!==null)for(t.queue=t.queue<<8|e,t.queuedBits+=8;t.queuedBits>=6;){const r=t.queue>>t.queuedBits-6&63;n(Ay[r]),t.queuedBits-=6}else if(t.queuedBits>0)for(t.queue=t.queue<<6-t.queuedBits,t.queuedBits=6;t.queuedBits>=6;){const r=t.queue>>t.queuedBits-6&63;n(Ay[r]),t.queuedBits-=6}}function aB(e,t,n){const r=KY[e];if(r>-1)for(t.queue=t.queue<<6|r,t.queuedBits+=6;t.queuedBits>=8;)n(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else{if(r===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`)}}function yC(e){const t=[],n=o=>{t.push(String.fromCodePoint(o))},r={utf8seq:0,codepoint:0},i={queue:0,queuedBits:0},a=o=>{ZY(o,r,n)};for(let o=0;o<e.length;o+=1)aB(e.charCodeAt(o),i,a);return t.join("")}function WY(e,t){if(e<=127){t(e);return}else if(e<=2047){t(192|e>>6),t(128|e&63);return}else if(e<=65535){t(224|e>>12),t(128|e>>6&63),t(128|e&63);return}else if(e<=1114111){t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),t(128|e&63);return}throw new Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}function VY(e,t){for(let n=0;n<e.length;n+=1){let r=e.charCodeAt(n);if(r>55295&&r<=56319){const i=(r-55296)*1024&65535;r=(e.charCodeAt(n+1)-56320&65535|i)+65536,n+=1}WY(r,t)}}function ZY(e,t,n){if(t.utf8seq===0){if(e<=127){n(e);return}for(let r=1;r<6;r+=1)if((e>>7-r&1)===0){t.utf8seq=r;break}if(t.utf8seq===2)t.codepoint=e&31;else if(t.utf8seq===3)t.codepoint=e&15;else if(t.utf8seq===4)t.codepoint=e&7;else throw new Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|e&63,t.utf8seq-=1,t.utf8seq===0&&n(t.codepoint)}}function Sd(e){const t=[],n={queue:0,queuedBits:0},r=i=>{t.push(i)};for(let i=0;i<e.length;i+=1)aB(e.charCodeAt(i),n,r);return new Uint8Array(t)}function XY(e){const t=[];return VY(e,n=>t.push(n)),new Uint8Array(t)}function zc(e){const t=[],n={queue:0,queuedBits:0},r=i=>{t.push(i)};return e.forEach(i=>gC(i,n,r)),gC(null,n,r),t.join("")}function JY(e){return Math.round(Date.now()/1e3)+e}function QY(){return Symbol("auth-callback")}const pr=()=>typeof window<"u"&&typeof document<"u",wc={tested:!1,writable:!1},oB=()=>{if(!pr())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(wc.tested)return wc.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),wc.tested=!0,wc.writable=!0}catch{wc.tested=!0,wc.writable=!1}return wc.writable};function eK(e){const t={},n=new URL(e);if(n.hash&&n.hash[0]==="#")try{new URLSearchParams(n.hash.substring(1)).forEach((i,a)=>{t[a]=i})}catch{}return n.searchParams.forEach((r,i)=>{t[i]=r}),t}const sB=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),tK=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",dd=async(e,t,n)=>{await e.setItem(t,JSON.stringify(n))},Sc=async(e,t)=>{const n=await e.getItem(t);if(!n)return null;try{return JSON.parse(n)}catch{return n}},hr=async(e,t)=>{await e.removeItem(t)};class ev{constructor(){this.promise=new ev.promiseConstructor((t,n)=>{this.resolve=t,this.reject=n})}}ev.promiseConstructor=Promise;function vw(e){const t=e.split(".");if(t.length!==3)throw new ky("Invalid JWT structure");for(let r=0;r<t.length;r++)if(!GY.test(t[r]))throw new ky("JWT not in base64url format");return{header:JSON.parse(yC(t[0])),payload:JSON.parse(yC(t[1])),signature:Sd(t[2]),raw:{header:t[0],payload:t[1]}}}async function nK(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}function rK(e,t){return new Promise((r,i)=>{(async()=>{for(let a=0;a<1/0;a++)try{const o=await e(a);if(!t(a,null,o)){r(o);return}}catch(o){if(!t(a,o)){i(o);return}}})()})}function iK(e){return("0"+e.toString(16)).substr(-2)}function aK(){const t=new Uint32Array(56);if(typeof crypto>"u"){const n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",r=n.length;let i="";for(let a=0;a<56;a++)i+=n.charAt(Math.floor(Math.random()*r));return i}return crypto.getRandomValues(t),Array.from(t,iK).join("")}async function oK(e){const n=new TextEncoder().encode(e),r=await crypto.subtle.digest("SHA-256",n),i=new Uint8Array(r);return Array.from(i).map(a=>String.fromCharCode(a)).join("")}async function sK(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const n=await oK(e);return btoa(n).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Xu(e,t,n=!1){const r=aK();let i=r;n&&(i+="/PASSWORD_RECOVERY"),await dd(e,`${t}-code-verifier`,i);const a=await sK(r);return[a,r===a?"plain":"s256"]}const lK=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function cK(e){const t=e.headers.get(rE);if(!t||!t.match(lK))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}function uK(e){if(!e)throw new Error("Missing exp claim");const t=Math.floor(Date.now()/1e3);if(e<=t)throw new Error("JWT has expired")}function dK(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const fK=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function Ju(e){if(!fK.test(e))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function xw(){const e={};return new Proxy(e,{get:(t,n)=>{if(n==="__isUserNotAvailableProxy")return!0;if(typeof n=="symbol"){const r=n.toString();if(r==="Symbol(Symbol.toPrimitive)"||r==="Symbol(Symbol.toStringTag)"||r==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${n}" property of the session object is not supported. Please use getUser() instead.`)},set:(t,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(t,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function hK(e,t){return new Proxy(e,{get:(n,r,i)=>{if(r==="__isInsecureUserWarningProxy")return!0;if(typeof r=="symbol"){const a=r.toString();if(a==="Symbol(Symbol.toPrimitive)"||a==="Symbol(Symbol.toStringTag)"||a==="Symbol(util.inspect.custom)"||a==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(n,r,i)}return!t.value&&typeof r=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),t.value=!0),Reflect.get(n,r,i)}})}function bC(e){return JSON.parse(JSON.stringify(e))}const Cc=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),mK=[502,503,504];async function vC(e){var t;if(!tK(e))throw new Ey(Cc(e),0);if(mK.includes(e.status))throw new Ey(Cc(e),e.status);let n;try{n=await e.json()}catch(a){throw new bl(Cc(a),a)}let r;const i=cK(e);if(i&&i.getTime()>=eB["2024-01-01"].timestamp&&typeof n=="object"&&n&&typeof n.code=="string"?r=n.code:typeof n=="object"&&n&&typeof n.error_code=="string"&&(r=n.error_code),r){if(r==="weak_password")throw new aE(Cc(n),e.status,((t=n.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(r==="session_not_found")throw new ei}else if(typeof n=="object"&&n&&typeof n.weak_password=="object"&&n.weak_password&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.reasons.reduce((a,o)=>a&&typeof o=="string",!0))throw new aE(Cc(n),e.status,n.weak_password.reasons);throw new tB(Cc(n),e.status||500,r)}const pK=(e,t,n,r)=>{const i={method:e,headers:t?.headers||{}};return e==="GET"?i:(i.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t?.headers),i.body=JSON.stringify(r),Object.assign(Object.assign({},i),n))};async function et(e,t,n,r){var i;const a=Object.assign({},r?.headers);a[rE]||(a[rE]=eB["2024-01-01"].name),r?.jwt&&(a.Authorization=`Bearer ${r.jwt}`);const o=(i=r?.query)!==null&&i!==void 0?i:{};r?.redirectTo&&(o.redirect_to=r.redirectTo);const c=Object.keys(o).length?"?"+new URLSearchParams(o).toString():"",u=await gK(e,t,n+c,{headers:a,noResolveJson:r?.noResolveJson},{},r?.body);return r?.xform?r?.xform(u):{data:Object.assign({},u),error:null}}async function gK(e,t,n,r,i,a){const o=pK(t,r,i,a);let c;try{c=await e(n,Object.assign({},o))}catch(u){throw console.error(u),new Ey(Cc(u),0)}if(c.ok||await vC(c),r?.noResolveJson)return c;try{return await c.json()}catch(u){await vC(u)}}function Oa(e){var t;let n=null;vK(e)&&(n=Object.assign({},e),e.expires_at||(n.expires_at=JY(e.expires_in)));const r=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:n,user:r},error:null}}function xC(e){const t=Oa(e);return!t.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((n,r)=>n&&typeof r=="string",!0)&&(t.data.weak_password=e.weak_password),t}function vl(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function yK(e){return{data:e,error:null}}function bK(e){const{action_link:t,email_otp:n,hashed_token:r,redirect_to:i,verification_type:a}=e,o=Xd(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),c={action_link:t,email_otp:n,hashed_token:r,redirect_to:i,verification_type:a},u=Object.assign({},o);return{data:{properties:c,user:u},error:null}}function _C(e){return e}function vK(e){return e.access_token&&e.refresh_token&&e.expires_in}const iy=["global","local","others"];let Zk=class{constructor({url:t="",headers:n={},fetch:r}){this.url=t,this.headers=n,this.fetch=sB(r),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(t,n=iy[0]){if(iy.indexOf(n)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${iy.join(", ")}`);try{return await et(this.fetch,"POST",`${this.url}/logout?scope=${n}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(r){if(Ge(r))return{data:null,error:r};throw r}}async inviteUserByEmail(t,n={}){try{return await et(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:n.data},headers:this.headers,redirectTo:n.redirectTo,xform:vl})}catch(r){if(Ge(r))return{data:{user:null},error:r};throw r}}async generateLink(t){try{const{options:n}=t,r=Xd(t,["options"]),i=Object.assign(Object.assign({},r),n);return"newEmail"in r&&(i.new_email=r?.newEmail,delete i.newEmail),await et(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:i,headers:this.headers,xform:bK,redirectTo:n?.redirectTo})}catch(n){if(Ge(n))return{data:{properties:null,user:null},error:n};throw n}}async createUser(t){try{return await et(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:vl})}catch(n){if(Ge(n))return{data:{user:null},error:n};throw n}}async listUsers(t){var n,r,i,a,o,c,u;try{const f={nextPage:null,lastPage:0,total:0},m=await et(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(n=t?.page)===null||n===void 0?void 0:n.toString())!==null&&r!==void 0?r:"",per_page:(a=(i=t?.perPage)===null||i===void 0?void 0:i.toString())!==null&&a!==void 0?a:""},xform:_C});if(m.error)throw m.error;const p=await m.json(),g=(o=m.headers.get("x-total-count"))!==null&&o!==void 0?o:0,v=(u=(c=m.headers.get("link"))===null||c===void 0?void 0:c.split(","))!==null&&u!==void 0?u:[];return v.length>0&&(v.forEach(_=>{const w=parseInt(_.split(";")[0].split("=")[1].substring(0,1)),E=JSON.parse(_.split(";")[1].split("=")[1]);f[`${E}Page`]=w}),f.total=parseInt(g)),{data:Object.assign(Object.assign({},p),f),error:null}}catch(f){if(Ge(f))return{data:{users:[]},error:f};throw f}}async getUserById(t){Ju(t);try{return await et(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:vl})}catch(n){if(Ge(n))return{data:{user:null},error:n};throw n}}async updateUserById(t,n){Ju(t);try{return await et(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:n,headers:this.headers,xform:vl})}catch(r){if(Ge(r))return{data:{user:null},error:r};throw r}}async deleteUser(t,n=!1){Ju(t);try{return await et(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:n},xform:vl})}catch(r){if(Ge(r))return{data:{user:null},error:r};throw r}}async _listFactors(t){Ju(t.userId);try{const{data:n,error:r}=await et(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:i=>({data:{factors:i},error:null})});return{data:n,error:r}}catch(n){if(Ge(n))return{data:null,error:n};throw n}}async _deleteFactor(t){Ju(t.userId),Ju(t.id);try{return{data:await et(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(n){if(Ge(n))return{data:null,error:n};throw n}}async _listOAuthClients(t){var n,r,i,a,o,c,u;try{const f={nextPage:null,lastPage:0,total:0},m=await et(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(n=t?.page)===null||n===void 0?void 0:n.toString())!==null&&r!==void 0?r:"",per_page:(a=(i=t?.perPage)===null||i===void 0?void 0:i.toString())!==null&&a!==void 0?a:""},xform:_C});if(m.error)throw m.error;const p=await m.json(),g=(o=m.headers.get("x-total-count"))!==null&&o!==void 0?o:0,v=(u=(c=m.headers.get("link"))===null||c===void 0?void 0:c.split(","))!==null&&u!==void 0?u:[];return v.length>0&&(v.forEach(_=>{const w=parseInt(_.split(";")[0].split("=")[1].substring(0,1)),E=JSON.parse(_.split(";")[1].split("=")[1]);f[`${E}Page`]=w}),f.total=parseInt(g)),{data:Object.assign(Object.assign({},p),f),error:null}}catch(f){if(Ge(f))return{data:{clients:[]},error:f};throw f}}async _createOAuthClient(t){try{return await et(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:t,headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(Ge(n))return{data:null,error:n};throw n}}async _getOAuthClient(t){try{return await et(this.fetch,"GET",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(Ge(n))return{data:null,error:n};throw n}}async _updateOAuthClient(t,n){try{return await et(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${t}`,{body:n,headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(Ge(r))return{data:null,error:r};throw r}}async _deleteOAuthClient(t){try{return await et(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(n){if(Ge(n))return{data:null,error:n};throw n}}async _regenerateOAuthClientSecret(t){try{return await et(this.fetch,"POST",`${this.url}/admin/oauth/clients/${t}/regenerate_secret`,{headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(Ge(n))return{data:null,error:n};throw n}}};function wC(e={}){return{getItem:t=>e[t]||null,setItem:(t,n)=>{e[t]=n},removeItem:t=>{delete e[t]}}}const Mc={debug:!!(globalThis&&oB()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class Xk extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}let lB=class extends Xk{};class xK extends Xk{}async function cB(e,t,n){Mc.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const r=new globalThis.AbortController;return t>0&&setTimeout(()=>{r.abort(),Mc.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:r.signal},async i=>{if(i){Mc.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,i.name);try{return await n()}finally{Mc.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,i.name)}}else{if(t===0)throw Mc.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new lB(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(Mc.debug)try{const a=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(a,null,"  "))}catch(a){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",a)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await n()}}))}const SC={};async function _K(e,t,n){var r;const i=(r=SC[e])!==null&&r!==void 0?r:Promise.resolve(),a=Promise.race([i.catch(()=>null),t>=0?new Promise((o,c)=>{setTimeout(()=>{c(new xK(`Acquring process lock with name "${e}" timed out`))},t)}):null].filter(o=>o)).catch(o=>{if(o&&o.isAcquireTimeout)throw o;return null}).then(async()=>await n());return SC[e]=a.catch(async o=>{if(o&&o.isAcquireTimeout)return await i,null;throw o}),await a}function wK(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function uB(e){if(!/^0x[a-fA-F0-9]{40}$/.test(e))throw new Error(`@supabase/auth-js: Address "${e}" is invalid.`);return e.toLowerCase()}function SK(e){return parseInt(e,16)}function EK(e){const t=new TextEncoder().encode(e);return"0x"+Array.from(t,r=>r.toString(16).padStart(2,"0")).join("")}function kK(e){var t;const{chainId:n,domain:r,expirationTime:i,issuedAt:a=new Date,nonce:o,notBefore:c,requestId:u,resources:f,scheme:m,uri:p,version:g}=e;{if(!Number.isInteger(n))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${n}`);if(!r)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(o&&o.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${o}`);if(!p)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(g!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${g}`);if(!((t=e.statement)===null||t===void 0)&&t.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${e.statement}`)}const v=uB(e.address),_=m?`${m}://${r}`:r,w=e.statement?`${e.statement}
`:"",E=`${_} wants you to sign in with your Ethereum account:
${v}

${w}`;let T=`URI: ${p}
Version: ${g}
Chain ID: ${n}${o?`
Nonce: ${o}`:""}
Issued At: ${a.toISOString()}`;if(i&&(T+=`
Expiration Time: ${i.toISOString()}`),c&&(T+=`
Not Before: ${c.toISOString()}`),u&&(T+=`
Request ID: ${u}`),f){let N=`
Resources:`;for(const O of f){if(!O||typeof O!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${O}`);N+=`
- ${O}`}T+=N}return`${E}
${T}`}class Pn extends Error{constructor({message:t,code:n,cause:r,name:i}){var a;super(t,{cause:r}),this.__isWebAuthnError=!0,this.name=(a=i??(r instanceof Error?r.name:void 0))!==null&&a!==void 0?a:"Unknown Error",this.code=n}}class Ty extends Pn{constructor(t,n){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:n,message:t}),this.name="WebAuthnUnknownError",this.originalError=n}}function AK({error:e,options:t}){var n,r,i;const{publicKey:a}=t;if(!a)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(t.signal instanceof AbortSignal)return new Pn({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else if(e.name==="ConstraintError"){if(((n=a.authenticatorSelection)===null||n===void 0?void 0:n.requireResidentKey)===!0)return new Pn({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:e});if(t.mediation==="conditional"&&((r=a.authenticatorSelection)===null||r===void 0?void 0:r.userVerification)==="required")return new Pn({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:e});if(((i=a.authenticatorSelection)===null||i===void 0?void 0:i.userVerification)==="required")return new Pn({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:e})}else{if(e.name==="InvalidStateError")return new Pn({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:e});if(e.name==="NotAllowedError")return new Pn({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="NotSupportedError")return a.pubKeyCredParams.filter(c=>c.type==="public-key").length===0?new Pn({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:e}):new Pn({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:e});if(e.name==="SecurityError"){const o=window.location.hostname;if(dB(o)){if(a.rp.id!==o)return new Pn({message:`The RP ID "${a.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else return new Pn({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="TypeError"){if(a.user.id.byteLength<1||a.user.id.byteLength>64)return new Pn({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:e})}else if(e.name==="UnknownError")return new Pn({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new Pn({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}function TK({error:e,options:t}){const{publicKey:n}=t;if(!n)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(t.signal instanceof AbortSignal)return new Pn({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else{if(e.name==="NotAllowedError")return new Pn({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="SecurityError"){const r=window.location.hostname;if(dB(r)){if(n.rpId!==r)return new Pn({message:`The RP ID "${n.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else return new Pn({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="UnknownError")return new Pn({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new Pn({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}class OK{createNewAbortSignal(){if(this.controller){const n=new Error("Cancelling existing WebAuthn API call for new one");n.name="AbortError",this.controller.abort(n)}const t=new AbortController;return this.controller=t,t.signal}cancelCeremony(){if(this.controller){const t=new Error("Manually cancelling existing WebAuthn API call");t.name="AbortError",this.controller.abort(t),this.controller=void 0}}}const jK=new OK;function NK(e){if(!e)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(e);const{challenge:t,user:n,excludeCredentials:r}=e,i=Xd(e,["challenge","user","excludeCredentials"]),a=Sd(t).buffer,o=Object.assign(Object.assign({},n),{id:Sd(n.id).buffer}),c=Object.assign(Object.assign({},i),{challenge:a,user:o});if(r&&r.length>0){c.excludeCredentials=new Array(r.length);for(let u=0;u<r.length;u++){const f=r[u];c.excludeCredentials[u]=Object.assign(Object.assign({},f),{id:Sd(f.id).buffer,type:f.type||"public-key",transports:f.transports})}}return c}function CK(e){if(!e)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(e);const{challenge:t,allowCredentials:n}=e,r=Xd(e,["challenge","allowCredentials"]),i=Sd(t).buffer,a=Object.assign(Object.assign({},r),{challenge:i});if(n&&n.length>0){a.allowCredentials=new Array(n.length);for(let o=0;o<n.length;o++){const c=n[o];a.allowCredentials[o]=Object.assign(Object.assign({},c),{id:Sd(c.id).buffer,type:c.type||"public-key",transports:c.transports})}}return a}function MK(e){var t;if("toJSON"in e&&typeof e.toJSON=="function")return e.toJSON();const n=e;return{id:e.id,rawId:e.id,response:{attestationObject:zc(new Uint8Array(e.response.attestationObject)),clientDataJSON:zc(new Uint8Array(e.response.clientDataJSON))},type:"public-key",clientExtensionResults:e.getClientExtensionResults(),authenticatorAttachment:(t=n.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function PK(e){var t;if("toJSON"in e&&typeof e.toJSON=="function")return e.toJSON();const n=e,r=e.getClientExtensionResults(),i=e.response;return{id:e.id,rawId:e.id,response:{authenticatorData:zc(new Uint8Array(i.authenticatorData)),clientDataJSON:zc(new Uint8Array(i.clientDataJSON)),signature:zc(new Uint8Array(i.signature)),userHandle:i.userHandle?zc(new Uint8Array(i.userHandle)):void 0},type:"public-key",clientExtensionResults:r,authenticatorAttachment:(t=n.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function dB(e){return e==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(e)}function EC(){var e,t;return!!(pr()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((e=navigator?.credentials)===null||e===void 0?void 0:e.create)=="function"&&typeof((t=navigator?.credentials)===null||t===void 0?void 0:t.get)=="function")}async function DK(e){try{const t=await navigator.credentials.create(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new Ty("Browser returned unexpected credential type",t)}:{data:null,error:new Ty("Empty credential response",t)}}catch(t){return{data:null,error:AK({error:t,options:e})}}}async function RK(e){try{const t=await navigator.credentials.get(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new Ty("Browser returned unexpected credential type",t)}:{data:null,error:new Ty("Empty credential response",t)}}catch(t){return{data:null,error:TK({error:t,options:e})}}}const LK={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"direct"},IK={userVerification:"preferred",hints:["security-key"],attestation:"direct"};function Oy(...e){const t=i=>i!==null&&typeof i=="object"&&!Array.isArray(i),n=i=>i instanceof ArrayBuffer||ArrayBuffer.isView(i),r={};for(const i of e)if(i)for(const a in i){const o=i[a];if(o!==void 0)if(Array.isArray(o))r[a]=o;else if(n(o))r[a]=o;else if(t(o)){const c=r[a];t(c)?r[a]=Oy(c,o):r[a]=Oy(o)}else r[a]=o}return r}function $K(e,t){return Oy(LK,e,t||{})}function BK(e,t){return Oy(IK,e,t||{})}class zK{constructor(t){this.client=t,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(t){return this.client.mfa.enroll(Object.assign(Object.assign({},t),{factorType:"webauthn"}))}async _challenge({factorId:t,webauthn:n,friendlyName:r,signal:i},a){try{const{data:o,error:c}=await this.client.mfa.challenge({factorId:t,webauthn:n});if(!o)return{data:null,error:c};const u=i??jK.createNewAbortSignal();if(o.webauthn.type==="create"){const{user:f}=o.webauthn.credential_options.publicKey;f.name||(f.name=`${f.id}:${r}`),f.displayName||(f.displayName=f.name)}switch(o.webauthn.type){case"create":{const f=$K(o.webauthn.credential_options.publicKey,a?.create),{data:m,error:p}=await DK({publicKey:f,signal:u});return m?{data:{factorId:t,challengeId:o.id,webauthn:{type:o.webauthn.type,credential_response:m}},error:null}:{data:null,error:p}}case"request":{const f=BK(o.webauthn.credential_options.publicKey,a?.request),{data:m,error:p}=await RK(Object.assign(Object.assign({},o.webauthn.credential_options),{publicKey:f,signal:u}));return m?{data:{factorId:t,challengeId:o.id,webauthn:{type:o.webauthn.type,credential_response:m}},error:null}:{data:null,error:p}}}}catch(o){return Ge(o)?{data:null,error:o}:{data:null,error:new bl("Unexpected error in challenge",o)}}}async _verify({challengeId:t,factorId:n,webauthn:r}){return this.client.mfa.verify({factorId:n,challengeId:t,webauthn:r})}async _authenticate({factorId:t,webauthn:{rpId:n=typeof window<"u"?window.location.hostname:void 0,rpOrigins:r=typeof window<"u"?[window.location.origin]:void 0,signal:i}={}},a){if(!n)return{data:null,error:new Pd("rpId is required for WebAuthn authentication")};try{if(!EC())return{data:null,error:new bl("Browser does not support WebAuthn",null)};const{data:o,error:c}=await this.challenge({factorId:t,webauthn:{rpId:n,rpOrigins:r},signal:i},{request:a});if(!o)return{data:null,error:c};const{webauthn:u}=o;return this._verify({factorId:t,challengeId:o.challengeId,webauthn:{type:u.type,rpId:n,rpOrigins:r,credential_response:u.credential_response}})}catch(o){return Ge(o)?{data:null,error:o}:{data:null,error:new bl("Unexpected error in authenticate",o)}}}async _register({friendlyName:t,webauthn:{rpId:n=typeof window<"u"?window.location.hostname:void 0,rpOrigins:r=typeof window<"u"?[window.location.origin]:void 0,signal:i}={}},a){if(!n)return{data:null,error:new Pd("rpId is required for WebAuthn registration")};try{if(!EC())return{data:null,error:new bl("Browser does not support WebAuthn",null)};const{data:o,error:c}=await this._enroll({friendlyName:t});if(!o)return await this.client.mfa.listFactors().then(m=>{var p;return(p=m.data)===null||p===void 0?void 0:p.all.find(g=>g.factor_type==="webauthn"&&g.friendly_name===t&&g.status!=="unverified")}).then(m=>m?this.client.mfa.unenroll({factorId:m?.id}):void 0),{data:null,error:c};const{data:u,error:f}=await this._challenge({factorId:o.id,friendlyName:o.friendly_name,webauthn:{rpId:n,rpOrigins:r},signal:i},{create:a});return u?this._verify({factorId:o.id,challengeId:u.challengeId,webauthn:{rpId:n,rpOrigins:r,type:u.webauthn.type,credential_response:u.webauthn.credential_response}}):{data:null,error:f}}catch(o){return Ge(o)?{data:null,error:o}:{data:null,error:new bl("Unexpected error in register",o)}}}}wK();const UK={url:UY,storageKey:HY,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:FY,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1};async function kC(e,t,n){return await n()}const Qu={};let Jk=class oE{get jwks(){var t,n;return(n=(t=Qu[this.storageKey])===null||t===void 0?void 0:t.jwks)!==null&&n!==void 0?n:{keys:[]}}set jwks(t){Qu[this.storageKey]=Object.assign(Object.assign({},Qu[this.storageKey]),{jwks:t})}get jwks_cached_at(){var t,n;return(n=(t=Qu[this.storageKey])===null||t===void 0?void 0:t.cachedAt)!==null&&n!==void 0?n:Number.MIN_SAFE_INTEGER}set jwks_cached_at(t){Qu[this.storageKey]=Object.assign(Object.assign({},Qu[this.storageKey]),{cachedAt:t})}constructor(t){var n,r,i;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;const a=Object.assign(Object.assign({},UK),t);if(this.storageKey=a.storageKey,this.instanceID=(n=oE.nextInstanceID[this.storageKey])!==null&&n!==void 0?n:0,oE.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!a.debug,typeof a.debug=="function"&&(this.logger=a.debug),this.instanceID>0&&pr()){const o=`${this._logPrefix()} Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.`;console.warn(o),this.logDebugMessages&&console.trace(o)}if(this.persistSession=a.persistSession,this.autoRefreshToken=a.autoRefreshToken,this.admin=new Zk({url:a.url,headers:a.headers,fetch:a.fetch}),this.url=a.url,this.headers=a.headers,this.fetch=sB(a.fetch),this.lock=a.lock||kC,this.detectSessionInUrl=a.detectSessionInUrl,this.flowType=a.flowType,this.hasCustomAuthorizationHeader=a.hasCustomAuthorizationHeader,this.throwOnError=a.throwOnError,a.lock?this.lock=a.lock:pr()&&(!((r=globalThis?.navigator)===null||r===void 0)&&r.locks)?this.lock=cB:this.lock=kC,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new zK(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this),listGrants:this._listOAuthGrants.bind(this),revokeGrant:this._revokeOAuthGrant.bind(this)},this.persistSession?(a.storage?this.storage=a.storage:oB()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=wC(this.memoryStorage)),a.userStorage&&(this.userStorage=a.userStorage)):(this.memoryStorage={},this.storage=wC(this.memoryStorage)),pr()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(o){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",o)}(i=this.broadcastChannel)===null||i===void 0||i.addEventListener("message",async o=>{this._debug("received broadcast notification from other tab or client",o),await this._notifyAllSubscribers(o.data.event,o.data.session,!1)})}this.initialize()}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(t){if(this.throwOnError&&t&&t.error)throw t.error;return t}_logPrefix(){return`GoTrueClient@${this.storageKey}:${this.instanceID} (${Q$}) ${new Date().toISOString()}`}_debug(...t){return this.logDebugMessages&&this.logger(this._logPrefix(),...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{let n={},r="none";if(pr()&&(n=eK(window.location.href),this._isImplicitGrantCallback(n)?r="implicit":await this._isPKCECallback(n)&&(r="pkce")),pr()&&this.detectSessionInUrl&&r!=="none"){const{data:i,error:a}=await this._getSessionFromURL(n,r);if(a){if(this._debug("#_initialize()","error detecting session from URL",a),iB(a)){const u=(t=a.details)===null||t===void 0?void 0:t.code;if(u==="identity_already_exists"||u==="identity_not_found"||u==="single_identity_not_deletable")return{error:a}}return await this._removeSession(),{error:a}}const{session:o,redirectType:c}=i;return this._debug("#_initialize()","detected session in URL",o,"redirect type",c),await this._saveSession(o),setTimeout(async()=>{c==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",o):await this._notifyAllSubscribers("SIGNED_IN",o)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(n){return Ge(n)?this._returnResult({error:n}):this._returnResult({error:new bl("Unexpected error during initialization",n)})}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var n,r,i;try{const a=await et(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(r=(n=t?.options)===null||n===void 0?void 0:n.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:(i=t?.options)===null||i===void 0?void 0:i.captchaToken}},xform:Oa}),{data:o,error:c}=a;if(c||!o)return this._returnResult({data:{user:null,session:null},error:c});const u=o.session,f=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",u)),this._returnResult({data:{user:f,session:u},error:null})}catch(a){if(Ge(a))return this._returnResult({data:{user:null,session:null},error:a});throw a}}async signUp(t){var n,r,i;try{let a;if("email"in t){const{email:m,password:p,options:g}=t;let v=null,_=null;this.flowType==="pkce"&&([v,_]=await Xu(this.storage,this.storageKey)),a=await et(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:g?.emailRedirectTo,body:{email:m,password:p,data:(n=g?.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:g?.captchaToken},code_challenge:v,code_challenge_method:_},xform:Oa})}else if("phone"in t){const{phone:m,password:p,options:g}=t;a=await et(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:m,password:p,data:(r=g?.data)!==null&&r!==void 0?r:{},channel:(i=g?.channel)!==null&&i!==void 0?i:"sms",gotrue_meta_security:{captcha_token:g?.captchaToken}},xform:Oa})}else throw new Gh("You must provide either an email or phone number and a password");const{data:o,error:c}=a;if(c||!o)return await hr(this.storage,`${this.storageKey}-code-verifier`),this._returnResult({data:{user:null,session:null},error:c});const u=o.session,f=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",u)),this._returnResult({data:{user:f,session:u},error:null})}catch(a){if(await hr(this.storage,`${this.storageKey}-code-verifier`),Ge(a))return this._returnResult({data:{user:null,session:null},error:a});throw a}}async signInWithPassword(t){try{let n;if("email"in t){const{email:a,password:o,options:c}=t;n=await et(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:a,password:o,gotrue_meta_security:{captcha_token:c?.captchaToken}},xform:xC})}else if("phone"in t){const{phone:a,password:o,options:c}=t;n=await et(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:a,password:o,gotrue_meta_security:{captcha_token:c?.captchaToken}},xform:xC})}else throw new Gh("You must provide either an email or phone number and a password");const{data:r,error:i}=n;if(i)return this._returnResult({data:{user:null,session:null},error:i});if(!r||!r.session||!r.user){const a=new Nc;return this._returnResult({data:{user:null,session:null},error:a})}return r.session&&(await this._saveSession(r.session),await this._notifyAllSubscribers("SIGNED_IN",r.session)),this._returnResult({data:Object.assign({user:r.user,session:r.session},r.weak_password?{weakPassword:r.weak_password}:null),error:i})}catch(n){if(Ge(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async signInWithOAuth(t){var n,r,i,a;return await this._handleProviderSignIn(t.provider,{redirectTo:(n=t.options)===null||n===void 0?void 0:n.redirectTo,scopes:(r=t.options)===null||r===void 0?void 0:r.scopes,queryParams:(i=t.options)===null||i===void 0?void 0:i.queryParams,skipBrowserRedirect:(a=t.options)===null||a===void 0?void 0:a.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(t))}async signInWithWeb3(t){const{chain:n}=t;switch(n){case"ethereum":return await this.signInWithEthereum(t);case"solana":return await this.signInWithSolana(t);default:throw new Error(`@supabase/auth-js: Unsupported chain "${n}"`)}}async signInWithEthereum(t){var n,r,i,a,o,c,u,f,m,p,g;let v,_;if("message"in t)v=t.message,_=t.signature;else{const{chain:w,wallet:E,statement:T,options:N}=t;let O;if(pr())if(typeof E=="object")O=E;else{const Y=window;if("ethereum"in Y&&typeof Y.ethereum=="object"&&"request"in Y.ethereum&&typeof Y.ethereum.request=="function")O=Y.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof E!="object"||!N?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");O=E}const P=new URL((n=N?.url)!==null&&n!==void 0?n:window.location.href),C=await O.request({method:"eth_requestAccounts"}).then(Y=>Y).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!C||C.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const D=uB(C[0]);let $=(r=N?.signInWithEthereum)===null||r===void 0?void 0:r.chainId;if(!$){const Y=await O.request({method:"eth_chainId"});$=SK(Y)}const H={domain:P.host,address:D,statement:T,uri:P.href,version:"1",chainId:$,nonce:(i=N?.signInWithEthereum)===null||i===void 0?void 0:i.nonce,issuedAt:(o=(a=N?.signInWithEthereum)===null||a===void 0?void 0:a.issuedAt)!==null&&o!==void 0?o:new Date,expirationTime:(c=N?.signInWithEthereum)===null||c===void 0?void 0:c.expirationTime,notBefore:(u=N?.signInWithEthereum)===null||u===void 0?void 0:u.notBefore,requestId:(f=N?.signInWithEthereum)===null||f===void 0?void 0:f.requestId,resources:(m=N?.signInWithEthereum)===null||m===void 0?void 0:m.resources};v=kK(H),_=await O.request({method:"personal_sign",params:[EK(v),D]})}try{const{data:w,error:E}=await et(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:v,signature:_},!((p=t.options)===null||p===void 0)&&p.captchaToken?{gotrue_meta_security:{captcha_token:(g=t.options)===null||g===void 0?void 0:g.captchaToken}}:null),xform:Oa});if(E)throw E;if(!w||!w.session||!w.user){const T=new Nc;return this._returnResult({data:{user:null,session:null},error:T})}return w.session&&(await this._saveSession(w.session),await this._notifyAllSubscribers("SIGNED_IN",w.session)),this._returnResult({data:Object.assign({},w),error:E})}catch(w){if(Ge(w))return this._returnResult({data:{user:null,session:null},error:w});throw w}}async signInWithSolana(t){var n,r,i,a,o,c,u,f,m,p,g,v;let _,w;if("message"in t)_=t.message,w=t.signature;else{const{chain:E,wallet:T,statement:N,options:O}=t;let P;if(pr())if(typeof T=="object")P=T;else{const D=window;if("solana"in D&&typeof D.solana=="object"&&("signIn"in D.solana&&typeof D.solana.signIn=="function"||"signMessage"in D.solana&&typeof D.solana.signMessage=="function"))P=D.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof T!="object"||!O?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");P=T}const C=new URL((n=O?.url)!==null&&n!==void 0?n:window.location.href);if("signIn"in P&&P.signIn){const D=await P.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},O?.signInWithSolana),{version:"1",domain:C.host,uri:C.href}),N?{statement:N}:null));let $;if(Array.isArray(D)&&D[0]&&typeof D[0]=="object")$=D[0];else if(D&&typeof D=="object"&&"signedMessage"in D&&"signature"in D)$=D;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in $&&"signature"in $&&(typeof $.signedMessage=="string"||$.signedMessage instanceof Uint8Array)&&$.signature instanceof Uint8Array)_=typeof $.signedMessage=="string"?$.signedMessage:new TextDecoder().decode($.signedMessage),w=$.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in P)||typeof P.signMessage!="function"||!("publicKey"in P)||typeof P!="object"||!P.publicKey||!("toBase58"in P.publicKey)||typeof P.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");_=[`${C.host} wants you to sign in with your Solana account:`,P.publicKey.toBase58(),...N?["",N,""]:[""],"Version: 1",`URI: ${C.href}`,`Issued At: ${(i=(r=O?.signInWithSolana)===null||r===void 0?void 0:r.issuedAt)!==null&&i!==void 0?i:new Date().toISOString()}`,...!((a=O?.signInWithSolana)===null||a===void 0)&&a.notBefore?[`Not Before: ${O.signInWithSolana.notBefore}`]:[],...!((o=O?.signInWithSolana)===null||o===void 0)&&o.expirationTime?[`Expiration Time: ${O.signInWithSolana.expirationTime}`]:[],...!((c=O?.signInWithSolana)===null||c===void 0)&&c.chainId?[`Chain ID: ${O.signInWithSolana.chainId}`]:[],...!((u=O?.signInWithSolana)===null||u===void 0)&&u.nonce?[`Nonce: ${O.signInWithSolana.nonce}`]:[],...!((f=O?.signInWithSolana)===null||f===void 0)&&f.requestId?[`Request ID: ${O.signInWithSolana.requestId}`]:[],...!((p=(m=O?.signInWithSolana)===null||m===void 0?void 0:m.resources)===null||p===void 0)&&p.length?["Resources",...O.signInWithSolana.resources.map($=>`- ${$}`)]:[]].join(`
`);const D=await P.signMessage(new TextEncoder().encode(_),"utf8");if(!D||!(D instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");w=D}}try{const{data:E,error:T}=await et(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:_,signature:zc(w)},!((g=t.options)===null||g===void 0)&&g.captchaToken?{gotrue_meta_security:{captcha_token:(v=t.options)===null||v===void 0?void 0:v.captchaToken}}:null),xform:Oa});if(T)throw T;if(!E||!E.session||!E.user){const N=new Nc;return this._returnResult({data:{user:null,session:null},error:N})}return E.session&&(await this._saveSession(E.session),await this._notifyAllSubscribers("SIGNED_IN",E.session)),this._returnResult({data:Object.assign({},E),error:T})}catch(E){if(Ge(E))return this._returnResult({data:{user:null,session:null},error:E});throw E}}async _exchangeCodeForSession(t){const n=await Sc(this.storage,`${this.storageKey}-code-verifier`),[r,i]=(n??"").split("/");try{const{data:a,error:o}=await et(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:r},xform:Oa});if(await hr(this.storage,`${this.storageKey}-code-verifier`),o)throw o;if(!a||!a.session||!a.user){const c=new Nc;return this._returnResult({data:{user:null,session:null,redirectType:null},error:c})}return a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",a.session)),this._returnResult({data:Object.assign(Object.assign({},a),{redirectType:i??null}),error:o})}catch(a){if(await hr(this.storage,`${this.storageKey}-code-verifier`),Ge(a))return this._returnResult({data:{user:null,session:null,redirectType:null},error:a});throw a}}async signInWithIdToken(t){try{const{options:n,provider:r,token:i,access_token:a,nonce:o}=t,c=await et(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:r,id_token:i,access_token:a,nonce:o,gotrue_meta_security:{captcha_token:n?.captchaToken}},xform:Oa}),{data:u,error:f}=c;if(f)return this._returnResult({data:{user:null,session:null},error:f});if(!u||!u.session||!u.user){const m=new Nc;return this._returnResult({data:{user:null,session:null},error:m})}return u.session&&(await this._saveSession(u.session),await this._notifyAllSubscribers("SIGNED_IN",u.session)),this._returnResult({data:u,error:f})}catch(n){if(Ge(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async signInWithOtp(t){var n,r,i,a,o;try{if("email"in t){const{email:c,options:u}=t;let f=null,m=null;this.flowType==="pkce"&&([f,m]=await Xu(this.storage,this.storageKey));const{error:p}=await et(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:c,data:(n=u?.data)!==null&&n!==void 0?n:{},create_user:(r=u?.shouldCreateUser)!==null&&r!==void 0?r:!0,gotrue_meta_security:{captcha_token:u?.captchaToken},code_challenge:f,code_challenge_method:m},redirectTo:u?.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:p})}if("phone"in t){const{phone:c,options:u}=t,{data:f,error:m}=await et(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:c,data:(i=u?.data)!==null&&i!==void 0?i:{},create_user:(a=u?.shouldCreateUser)!==null&&a!==void 0?a:!0,gotrue_meta_security:{captcha_token:u?.captchaToken},channel:(o=u?.channel)!==null&&o!==void 0?o:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:f?.message_id},error:m})}throw new Gh("You must provide either an email or phone number.")}catch(c){if(await hr(this.storage,`${this.storageKey}-code-verifier`),Ge(c))return this._returnResult({data:{user:null,session:null},error:c});throw c}}async verifyOtp(t){var n,r;try{let i,a;"options"in t&&(i=(n=t.options)===null||n===void 0?void 0:n.redirectTo,a=(r=t.options)===null||r===void 0?void 0:r.captchaToken);const{data:o,error:c}=await et(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:a}}),redirectTo:i,xform:Oa});if(c)throw c;if(!o)throw new Error("An error occurred on token verification.");const u=o.session,f=o.user;return u?.access_token&&(await this._saveSession(u),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",u)),this._returnResult({data:{user:f,session:u},error:null})}catch(i){if(Ge(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}}async signInWithSSO(t){var n,r,i,a,o;try{let c=null,u=null;this.flowType==="pkce"&&([c,u]=await Xu(this.storage,this.storageKey));const f=await et(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(r=(n=t.options)===null||n===void 0?void 0:n.redirectTo)!==null&&r!==void 0?r:void 0}),!((i=t?.options)===null||i===void 0)&&i.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:c,code_challenge_method:u}),headers:this.headers,xform:yK});return!((a=f.data)===null||a===void 0)&&a.url&&pr()&&!(!((o=t.options)===null||o===void 0)&&o.skipBrowserRedirect)&&window.location.assign(f.data.url),this._returnResult(f)}catch(c){if(await hr(this.storage,`${this.storageKey}-code-verifier`),Ge(c))return this._returnResult({data:null,error:c});throw c}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:n},error:r}=t;if(r)throw r;if(!n)throw new ei;const{error:i}=await et(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:n.access_token});return this._returnResult({data:{user:null,session:null},error:i})})}catch(t){if(Ge(t))return this._returnResult({data:{user:null,session:null},error:t});throw t}}async resend(t){try{const n=`${this.url}/resend`;if("email"in t){const{email:r,type:i,options:a}=t,{error:o}=await et(this.fetch,"POST",n,{headers:this.headers,body:{email:r,type:i,gotrue_meta_security:{captcha_token:a?.captchaToken}},redirectTo:a?.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:o})}else if("phone"in t){const{phone:r,type:i,options:a}=t,{data:o,error:c}=await et(this.fetch,"POST",n,{headers:this.headers,body:{phone:r,type:i,gotrue_meta_security:{captcha_token:a?.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:o?.message_id},error:c})}throw new Gh("You must provide either an email or phone number and a type")}catch(n){if(Ge(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async n=>n))}async _acquireLock(t,n){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const r=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),i=(async()=>(await r,await n()))();return this.pendingInLock.push((async()=>{try{await i}catch{}})()),i}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const r=n();for(this.pendingInLock.push((async()=>{try{await r}catch{}})()),await r;this.pendingInLock.length;){const i=[...this.pendingInLock];await Promise.all(i),this.pendingInLock.splice(0,i.length)}return await r}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const n=await this.__loadSession();return await t(n)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const n=await Sc(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",n),n!==null&&(this._isValidSession(n)?t=n:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const r=t.expires_at?t.expires_at*1e3-Date.now()<bw:!1;if(this._debug("#__loadSession()",`session has${r?"":" not"} expired`,"expires_at",t.expires_at),!r){if(this.userStorage){const o=await Sc(this.userStorage,this.storageKey+"-user");o?.user?t.user=o.user:t.user=xw()}if(this.storage.isServer&&t.user&&!t.user.__isUserNotAvailableProxy){const o={value:this.suppressGetSessionWarning};t.user=hK(t.user,o),o.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:t},error:null}}const{data:i,error:a}=await this._callRefreshToken(t.refresh_token);return a?this._returnResult({data:{session:null},error:a}):this._returnResult({data:{session:i},error:null})}finally{this._debug("#__loadSession()","end")}}async getUser(t){if(t)return await this._getUser(t);await this.initializePromise;const n=await this._acquireLock(-1,async()=>await this._getUser());return n.data.user&&(this.suppressGetSessionWarning=!0),n}async _getUser(t){try{return t?await et(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:vl}):await this._useSession(async n=>{var r,i,a;const{data:o,error:c}=n;if(c)throw c;return!(!((r=o.session)===null||r===void 0)&&r.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new ei}:await et(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(a=(i=o.session)===null||i===void 0?void 0:i.access_token)!==null&&a!==void 0?a:void 0,xform:vl})})}catch(n){if(Ge(n))return rB(n)&&(await this._removeSession(),await hr(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({data:{user:null},error:n});throw n}}async updateUser(t,n={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(t,n))}async _updateUser(t,n={}){try{return await this._useSession(async r=>{const{data:i,error:a}=r;if(a)throw a;if(!i.session)throw new ei;const o=i.session;let c=null,u=null;this.flowType==="pkce"&&t.email!=null&&([c,u]=await Xu(this.storage,this.storageKey));const{data:f,error:m}=await et(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:n?.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:c,code_challenge_method:u}),jwt:o.access_token,xform:vl});if(m)throw m;return o.user=f.user,await this._saveSession(o),await this._notifyAllSubscribers("USER_UPDATED",o),this._returnResult({data:{user:o.user},error:null})})}catch(r){if(await hr(this.storage,`${this.storageKey}-code-verifier`),Ge(r))return this._returnResult({data:{user:null},error:r});throw r}}async setSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new ei;const n=Date.now()/1e3;let r=n,i=!0,a=null;const{payload:o}=vw(t.access_token);if(o.exp&&(r=o.exp,i=r<=n),i){const{data:c,error:u}=await this._callRefreshToken(t.refresh_token);if(u)return this._returnResult({data:{user:null,session:null},error:u});if(!c)return{data:{user:null,session:null},error:null};a=c}else{const{data:c,error:u}=await this._getUser(t.access_token);if(u)throw u;a={access_token:t.access_token,refresh_token:t.refresh_token,user:c.user,token_type:"bearer",expires_in:r-n,expires_at:r},await this._saveSession(a),await this._notifyAllSubscribers("SIGNED_IN",a)}return this._returnResult({data:{user:a.user,session:a},error:null})}catch(n){if(Ge(n))return this._returnResult({data:{session:null,user:null},error:n});throw n}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async n=>{var r;if(!t){const{data:o,error:c}=n;if(c)throw c;t=(r=o.session)!==null&&r!==void 0?r:void 0}if(!t?.refresh_token)throw new ei;const{data:i,error:a}=await this._callRefreshToken(t.refresh_token);return a?this._returnResult({data:{user:null,session:null},error:a}):i?this._returnResult({data:{user:i.user,session:i},error:null}):this._returnResult({data:{user:null,session:null},error:null})})}catch(n){if(Ge(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async _getSessionFromURL(t,n){try{if(!pr())throw new qh("No browser detected.");if(t.error||t.error_description||t.error_code)throw new qh(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(n){case"implicit":if(this.flowType==="pkce")throw new iE("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new qh("Not a valid implicit grant flow url.");break;default:}if(n==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new iE("No code detected.");const{data:N,error:O}=await this._exchangeCodeForSession(t.code);if(O)throw O;const P=new URL(window.location.href);return P.searchParams.delete("code"),window.history.replaceState(window.history.state,"",P.toString()),{data:{session:N.session,redirectType:null},error:null}}const{provider_token:r,provider_refresh_token:i,access_token:a,refresh_token:o,expires_in:c,expires_at:u,token_type:f}=t;if(!a||!c||!o||!f)throw new qh("No session defined in URL");const m=Math.round(Date.now()/1e3),p=parseInt(c);let g=m+p;u&&(g=parseInt(u));const v=g-m;v*1e3<=ud&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${v}s, should have been closer to ${p}s`);const _=g-p;m-_>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",_,g,m):m-_<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",_,g,m);const{data:w,error:E}=await this._getUser(a);if(E)throw E;const T={provider_token:r,provider_refresh_token:i,access_token:a,expires_in:p,expires_at:g,refresh_token:o,token_type:f,user:w.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:T,redirectType:t.type},error:null})}catch(r){if(Ge(r))return this._returnResult({data:{session:null,redirectType:null},error:r});throw r}}_isImplicitGrantCallback(t){return!!(t.access_token||t.error_description)}async _isPKCECallback(t){const n=await Sc(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&n)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async n=>{var r;const{data:i,error:a}=n;if(a)return this._returnResult({error:a});const o=(r=i.session)===null||r===void 0?void 0:r.access_token;if(o){const{error:c}=await this.admin.signOut(o,t);if(c&&!(nB(c)&&(c.status===404||c.status===401||c.status===403)))return this._returnResult({error:c})}return t!=="others"&&(await this._removeSession(),await hr(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({error:null})})}onAuthStateChange(t){const n=QY(),r={id:n,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",n),this.stateChangeEmitters.delete(n)}};return this._debug("#onAuthStateChange()","registered callback with id",n),this.stateChangeEmitters.set(n,r),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(n)})))(),{data:{subscription:r}}}async _emitInitialSession(t){return await this._useSession(async n=>{var r,i;try{const{data:{session:a},error:o}=n;if(o)throw o;await((r=this.stateChangeEmitters.get(t))===null||r===void 0?void 0:r.callback("INITIAL_SESSION",a)),this._debug("INITIAL_SESSION","callback id",t,"session",a)}catch(a){await((i=this.stateChangeEmitters.get(t))===null||i===void 0?void 0:i.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",a),console.error(a)}})}async resetPasswordForEmail(t,n={}){let r=null,i=null;this.flowType==="pkce"&&([r,i]=await Xu(this.storage,this.storageKey,!0));try{return await et(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:r,code_challenge_method:i,gotrue_meta_security:{captcha_token:n.captchaToken}},headers:this.headers,redirectTo:n.redirectTo})}catch(a){if(await hr(this.storage,`${this.storageKey}-code-verifier`),Ge(a))return this._returnResult({data:null,error:a});throw a}}async getUserIdentities(){var t;try{const{data:n,error:r}=await this.getUser();if(r)throw r;return this._returnResult({data:{identities:(t=n.user.identities)!==null&&t!==void 0?t:[]},error:null})}catch(n){if(Ge(n))return this._returnResult({data:null,error:n});throw n}}async linkIdentity(t){return"token"in t?this.linkIdentityIdToken(t):this.linkIdentityOAuth(t)}async linkIdentityOAuth(t){var n;try{const{data:r,error:i}=await this._useSession(async a=>{var o,c,u,f,m;const{data:p,error:g}=a;if(g)throw g;const v=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(o=t.options)===null||o===void 0?void 0:o.redirectTo,scopes:(c=t.options)===null||c===void 0?void 0:c.scopes,queryParams:(u=t.options)===null||u===void 0?void 0:u.queryParams,skipBrowserRedirect:!0});return await et(this.fetch,"GET",v,{headers:this.headers,jwt:(m=(f=p.session)===null||f===void 0?void 0:f.access_token)!==null&&m!==void 0?m:void 0})});if(i)throw i;return pr()&&!(!((n=t.options)===null||n===void 0)&&n.skipBrowserRedirect)&&window.location.assign(r?.url),this._returnResult({data:{provider:t.provider,url:r?.url},error:null})}catch(r){if(Ge(r))return this._returnResult({data:{provider:t.provider,url:null},error:r});throw r}}async linkIdentityIdToken(t){return await this._useSession(async n=>{var r;try{const{error:i,data:{session:a}}=n;if(i)throw i;const{options:o,provider:c,token:u,access_token:f,nonce:m}=t,p=await et(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(r=a?.access_token)!==null&&r!==void 0?r:void 0,body:{provider:c,id_token:u,access_token:f,nonce:m,link_identity:!0,gotrue_meta_security:{captcha_token:o?.captchaToken}},xform:Oa}),{data:g,error:v}=p;return v?this._returnResult({data:{user:null,session:null},error:v}):!g||!g.session||!g.user?this._returnResult({data:{user:null,session:null},error:new Nc}):(g.session&&(await this._saveSession(g.session),await this._notifyAllSubscribers("USER_UPDATED",g.session)),this._returnResult({data:g,error:v}))}catch(i){if(await hr(this.storage,`${this.storageKey}-code-verifier`),Ge(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}})}async unlinkIdentity(t){try{return await this._useSession(async n=>{var r,i;const{data:a,error:o}=n;if(o)throw o;return await et(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(i=(r=a.session)===null||r===void 0?void 0:r.access_token)!==null&&i!==void 0?i:void 0})})}catch(n){if(Ge(n))return this._returnResult({data:null,error:n});throw n}}async _refreshAccessToken(t){const n=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(n,"begin");try{const r=Date.now();return await rK(async i=>(i>0&&await nK(200*Math.pow(2,i-1)),this._debug(n,"refreshing attempt",i),await et(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:Oa})),(i,a)=>{const o=200*Math.pow(2,i);return a&&ry(a)&&Date.now()+o-r<ud})}catch(r){if(this._debug(n,"error",r),Ge(r))return this._returnResult({data:{session:null,user:null},error:r});throw r}finally{this._debug(n,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,n){const r=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:n.redirectTo,scopes:n.scopes,queryParams:n.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",n,"url",r),pr()&&!n.skipBrowserRedirect&&window.location.assign(r),{data:{provider:t,url:r},error:null}}async _recoverAndRefresh(){var t,n;const r="#_recoverAndRefresh()";this._debug(r,"begin");try{const i=await Sc(this.storage,this.storageKey);if(i&&this.userStorage){let o=await Sc(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!o&&(o={user:i.user},await dd(this.userStorage,this.storageKey+"-user",o)),i.user=(t=o?.user)!==null&&t!==void 0?t:xw()}else if(i&&!i.user&&!i.user){const o=await Sc(this.storage,this.storageKey+"-user");o&&o?.user?(i.user=o.user,await hr(this.storage,this.storageKey+"-user"),await dd(this.storage,this.storageKey,i)):i.user=xw()}if(this._debug(r,"session from storage",i),!this._isValidSession(i)){this._debug(r,"session is not valid"),i!==null&&await this._removeSession();return}const a=((n=i.expires_at)!==null&&n!==void 0?n:1/0)*1e3-Date.now()<bw;if(this._debug(r,`session has${a?"":" not"} expired with margin of ${bw}s`),a){if(this.autoRefreshToken&&i.refresh_token){const{error:o}=await this._callRefreshToken(i.refresh_token);o&&(console.error(o),ry(o)||(this._debug(r,"refresh failed with a non-retryable error, removing the session",o),await this._removeSession()))}}else if(i.user&&i.user.__isUserNotAvailableProxy===!0)try{const{data:o,error:c}=await this._getUser(i.access_token);!c&&o?.user?(i.user=o.user,await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)):this._debug(r,"could not get user data, skipping SIGNED_IN notification")}catch(o){console.error("Error getting user data:",o),this._debug(r,"error getting user data, skipping SIGNED_IN notification",o)}else await this._notifyAllSubscribers("SIGNED_IN",i)}catch(i){this._debug(r,"error",i),console.error(i);return}finally{this._debug(r,"end")}}async _callRefreshToken(t){var n,r;if(!t)throw new ei;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const i=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(i,"begin");try{this.refreshingDeferred=new ev;const{data:a,error:o}=await this._refreshAccessToken(t);if(o)throw o;if(!a.session)throw new ei;await this._saveSession(a.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",a.session);const c={data:a.session,error:null};return this.refreshingDeferred.resolve(c),c}catch(a){if(this._debug(i,"error",a),Ge(a)){const o={data:null,error:a};return ry(a)||await this._removeSession(),(n=this.refreshingDeferred)===null||n===void 0||n.resolve(o),o}throw(r=this.refreshingDeferred)===null||r===void 0||r.reject(a),a}finally{this.refreshingDeferred=null,this._debug(i,"end")}}async _notifyAllSubscribers(t,n,r=!0){const i=`#_notifyAllSubscribers(${t})`;this._debug(i,"begin",n,`broadcast = ${r}`);try{this.broadcastChannel&&r&&this.broadcastChannel.postMessage({event:t,session:n});const a=[],o=Array.from(this.stateChangeEmitters.values()).map(async c=>{try{await c.callback(t,n)}catch(u){a.push(u)}});if(await Promise.all(o),a.length>0){for(let c=0;c<a.length;c+=1)console.error(a[c]);throw a[0]}}finally{this._debug(i,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0,await hr(this.storage,`${this.storageKey}-code-verifier`);const n=Object.assign({},t),r=n.user&&n.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!r&&n.user&&await dd(this.userStorage,this.storageKey+"-user",{user:n.user});const i=Object.assign({},n);delete i.user;const a=bC(i);await dd(this.storage,this.storageKey,a)}else{const i=bC(n);await dd(this.storage,this.storageKey,i)}}async _removeSession(){this._debug("#_removeSession()"),this.suppressGetSessionWarning=!1,await hr(this.storage,this.storageKey),await hr(this.storage,this.storageKey+"-code-verifier"),await hr(this.storage,this.storageKey+"-user"),this.userStorage&&await hr(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&pr()&&window?.removeEventListener&&window.removeEventListener("visibilitychange",t)}catch(n){console.error("removing visibilitychange callback failed",n)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),ud);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async n=>{const{data:{session:r}}=n;if(!r||!r.refresh_token||!r.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const i=Math.floor((r.expires_at*1e3-t)/ud);this._debug("#_autoRefreshTokenTick()",`access token expires in ${i} ticks, a tick lasts ${ud}ms, refresh threshold is ${nE} ticks`),i<=nE&&await this._callRefreshToken(r.refresh_token)})}catch(n){console.error("Auto refresh tick failed with error. This is likely a transient error.",n)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof Xk)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!pr()||!window?.addEventListener)return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window?.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const n=`#_onVisibilityChanged(${t})`;this._debug(n,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(n,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,n,r){const i=[`provider=${encodeURIComponent(n)}`];if(r?.redirectTo&&i.push(`redirect_to=${encodeURIComponent(r.redirectTo)}`),r?.scopes&&i.push(`scopes=${encodeURIComponent(r.scopes)}`),this.flowType==="pkce"){const[a,o]=await Xu(this.storage,this.storageKey),c=new URLSearchParams({code_challenge:`${encodeURIComponent(a)}`,code_challenge_method:`${encodeURIComponent(o)}`});i.push(c.toString())}if(r?.queryParams){const a=new URLSearchParams(r.queryParams);i.push(a.toString())}return r?.skipBrowserRedirect&&i.push(`skip_http_redirect=${r.skipBrowserRedirect}`),`${t}?${i.join("&")}`}async _unenroll(t){try{return await this._useSession(async n=>{var r;const{data:i,error:a}=n;return a?this._returnResult({data:null,error:a}):await et(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(r=i?.session)===null||r===void 0?void 0:r.access_token})})}catch(n){if(Ge(n))return this._returnResult({data:null,error:n});throw n}}async _enroll(t){try{return await this._useSession(async n=>{var r,i;const{data:a,error:o}=n;if(o)return this._returnResult({data:null,error:o});const c=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:t.factorType==="totp"?{issuer:t.issuer}:{}),{data:u,error:f}=await et(this.fetch,"POST",`${this.url}/factors`,{body:c,headers:this.headers,jwt:(r=a?.session)===null||r===void 0?void 0:r.access_token});return f?this._returnResult({data:null,error:f}):(t.factorType==="totp"&&u.type==="totp"&&(!((i=u?.totp)===null||i===void 0)&&i.qr_code)&&(u.totp.qr_code=`data:image/svg+xml;utf-8,${u.totp.qr_code}`),this._returnResult({data:u,error:null}))})}catch(n){if(Ge(n))return this._returnResult({data:null,error:n});throw n}}async _verify(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var r;const{data:i,error:a}=n;if(a)return this._returnResult({data:null,error:a});const o=Object.assign({challenge_id:t.challengeId},"webauthn"in t?{webauthn:Object.assign(Object.assign({},t.webauthn),{credential_response:t.webauthn.type==="create"?MK(t.webauthn.credential_response):PK(t.webauthn.credential_response)})}:{code:t.code}),{data:c,error:u}=await et(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:o,headers:this.headers,jwt:(r=i?.session)===null||r===void 0?void 0:r.access_token});return u?this._returnResult({data:null,error:u}):(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+c.expires_in},c)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",c),this._returnResult({data:c,error:u}))})}catch(n){if(Ge(n))return this._returnResult({data:null,error:n});throw n}})}async _challenge(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var r;const{data:i,error:a}=n;if(a)return this._returnResult({data:null,error:a});const o=await et(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:t,headers:this.headers,jwt:(r=i?.session)===null||r===void 0?void 0:r.access_token});if(o.error)return o;const{data:c}=o;if(c.type!=="webauthn")return{data:c,error:null};switch(c.webauthn.type){case"create":return{data:Object.assign(Object.assign({},c),{webauthn:Object.assign(Object.assign({},c.webauthn),{credential_options:Object.assign(Object.assign({},c.webauthn.credential_options),{publicKey:NK(c.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},c),{webauthn:Object.assign(Object.assign({},c.webauthn),{credential_options:Object.assign(Object.assign({},c.webauthn.credential_options),{publicKey:CK(c.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(n){if(Ge(n))return this._returnResult({data:null,error:n});throw n}})}async _challengeAndVerify(t){const{data:n,error:r}=await this._challenge({factorId:t.factorId});return r?this._returnResult({data:null,error:r}):await this._verify({factorId:t.factorId,challengeId:n.id,code:t.code})}async _listFactors(){var t;const{data:{user:n},error:r}=await this.getUser();if(r)return{data:null,error:r};const i={all:[],phone:[],totp:[],webauthn:[]};for(const a of(t=n?.factors)!==null&&t!==void 0?t:[])i.all.push(a),a.status==="verified"&&i[a.factor_type].push(a);return{data:i,error:null}}async _getAuthenticatorAssuranceLevel(){var t,n;const{data:{session:r},error:i}=await this.getSession();if(i)return this._returnResult({data:null,error:i});if(!r)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:a}=vw(r.access_token);let o=null;a.aal&&(o=a.aal);let c=o;((n=(t=r.user.factors)===null||t===void 0?void 0:t.filter(m=>m.status==="verified"))!==null&&n!==void 0?n:[]).length>0&&(c="aal2");const f=a.amr||[];return{data:{currentLevel:o,nextLevel:c,currentAuthenticationMethods:f},error:null}}async _getAuthorizationDetails(t){try{return await this._useSession(async n=>{const{data:{session:r},error:i}=n;return i?this._returnResult({data:null,error:i}):r?await et(this.fetch,"GET",`${this.url}/oauth/authorizations/${t}`,{headers:this.headers,jwt:r.access_token,xform:a=>({data:a,error:null})}):this._returnResult({data:null,error:new ei})})}catch(n){if(Ge(n))return this._returnResult({data:null,error:n});throw n}}async _approveAuthorization(t,n){try{return await this._useSession(async r=>{const{data:{session:i},error:a}=r;if(a)return this._returnResult({data:null,error:a});if(!i)return this._returnResult({data:null,error:new ei});const o=await et(this.fetch,"POST",`${this.url}/oauth/authorizations/${t}/consent`,{headers:this.headers,jwt:i.access_token,body:{action:"approve"},xform:c=>({data:c,error:null})});return o.data&&o.data.redirect_url&&pr()&&!n?.skipBrowserRedirect&&window.location.assign(o.data.redirect_url),o})}catch(r){if(Ge(r))return this._returnResult({data:null,error:r});throw r}}async _denyAuthorization(t,n){try{return await this._useSession(async r=>{const{data:{session:i},error:a}=r;if(a)return this._returnResult({data:null,error:a});if(!i)return this._returnResult({data:null,error:new ei});const o=await et(this.fetch,"POST",`${this.url}/oauth/authorizations/${t}/consent`,{headers:this.headers,jwt:i.access_token,body:{action:"deny"},xform:c=>({data:c,error:null})});return o.data&&o.data.redirect_url&&pr()&&!n?.skipBrowserRedirect&&window.location.assign(o.data.redirect_url),o})}catch(r){if(Ge(r))return this._returnResult({data:null,error:r});throw r}}async _listOAuthGrants(){try{return await this._useSession(async t=>{const{data:{session:n},error:r}=t;return r?this._returnResult({data:null,error:r}):n?await et(this.fetch,"GET",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:n.access_token,xform:i=>({data:i,error:null})}):this._returnResult({data:null,error:new ei})})}catch(t){if(Ge(t))return this._returnResult({data:null,error:t});throw t}}async _revokeOAuthGrant(t){try{return await this._useSession(async n=>{const{data:{session:r},error:i}=n;return i?this._returnResult({data:null,error:i}):r?(await et(this.fetch,"DELETE",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:r.access_token,query:{client_id:t.clientId},noResolveJson:!0}),{data:{},error:null}):this._returnResult({data:null,error:new ei})})}catch(n){if(Ge(n))return this._returnResult({data:null,error:n});throw n}}async fetchJwk(t,n={keys:[]}){let r=n.keys.find(c=>c.kid===t);if(r)return r;const i=Date.now();if(r=this.jwks.keys.find(c=>c.kid===t),r&&this.jwks_cached_at+qY>i)return r;const{data:a,error:o}=await et(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(o)throw o;return!a.keys||a.keys.length===0||(this.jwks=a,this.jwks_cached_at=i,r=a.keys.find(c=>c.kid===t),!r)?null:r}async getClaims(t,n={}){try{let r=t;if(!r){const{data:v,error:_}=await this.getSession();if(_||!v.session)return this._returnResult({data:null,error:_});r=v.session.access_token}const{header:i,payload:a,signature:o,raw:{header:c,payload:u}}=vw(r);n?.allowExpired||uK(a.exp);const f=!i.alg||i.alg.startsWith("HS")||!i.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(i.kid,n?.keys?{keys:n.keys}:n?.jwks);if(!f){const{error:v}=await this.getUser(r);if(v)throw v;return{data:{claims:a,header:i,signature:o},error:null}}const m=dK(i.alg),p=await crypto.subtle.importKey("jwk",f,m,!0,["verify"]);if(!await crypto.subtle.verify(m,p,o,XY(`${c}.${u}`)))throw new ky("Invalid JWT signature");return{data:{claims:a,header:i,signature:o},error:null}}catch(r){if(Ge(r))return this._returnResult({data:null,error:r});throw r}}};Jk.nextInstanceID={};const HK=Zk,FK=Jk,GK=Object.freeze(Object.defineProperty({__proto__:null,AuthAdminApi:HK,AuthApiError:tB,AuthClient:FK,AuthError:Pd,AuthImplicitGrantRedirectError:qh,AuthInvalidCredentialsError:Gh,AuthInvalidJwtError:ky,AuthInvalidTokenResponseError:Nc,AuthPKCEGrantCodeExchangeError:iE,AuthRetryableFetchError:Ey,AuthSessionMissingError:ei,AuthUnknownError:bl,AuthWeakPasswordError:aE,CustomAuthError:xs,GoTrueAdminApi:Zk,GoTrueClient:Jk,NavigatorLockAcquireTimeoutError:lB,SIGN_OUT_SCOPES:iy,isAuthApiError:nB,isAuthError:Ge,isAuthImplicitGrantRedirectError:iB,isAuthRetryableFetchError:ry,isAuthSessionMissingError:rB,isAuthWeakPasswordError:YY,lockInternals:Mc,navigatorLock:cB,processLock:_K},Symbol.toStringTag,{value:"Module"})),fB=Im(GK);var AC;function qK(){if(AC)return wh;AC=1,Object.defineProperty(wh,"__esModule",{value:!0}),wh.SupabaseAuthClient=void 0;const e=fB;let t=class extends e.AuthClient{constructor(r){super(r)}};return wh.SupabaseAuthClient=t,wh}var TC;function OC(){if(TC)return Zg;TC=1,Object.defineProperty(Zg,"__esModule",{value:!0});const e=E$,t=N$(),n=B$,r=LY,i=$Y(),a=BY(),o=zY(),c=qK();class u{constructor(m,p,g){var v,_,w;this.supabaseUrl=m,this.supabaseKey=p;const E=(0,o.validateSupabaseUrl)(m);if(!p)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",E),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",E),this.storageUrl=new URL("storage/v1",E),this.functionsUrl=new URL("functions/v1",E);const T=`sb-${E.hostname.split(".")[0]}-auth-token`,N={db:i.DEFAULT_DB_OPTIONS,realtime:i.DEFAULT_REALTIME_OPTIONS,auth:Object.assign(Object.assign({},i.DEFAULT_AUTH_OPTIONS),{storageKey:T}),global:i.DEFAULT_GLOBAL_OPTIONS},O=(0,o.applySettingDefaults)(g??{},N);this.storageKey=(v=O.auth.storageKey)!==null&&v!==void 0?v:"",this.headers=(_=O.global.headers)!==null&&_!==void 0?_:{},O.accessToken?(this.accessToken=O.accessToken,this.auth=new Proxy({},{get:(P,C)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(C)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((w=O.auth)!==null&&w!==void 0?w:{},this.headers,O.global.fetch),this.fetch=(0,a.fetchWithAuth)(p,this._getAccessToken.bind(this),O.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},O.realtime)),this.accessToken&&this.accessToken().then(P=>this.realtime.setAuth(P)).catch(P=>console.warn("Failed to set initial Realtime auth token:",P)),this.rest=new t.PostgrestClient(new URL("rest/v1",E).href,{headers:this.headers,schema:O.db.schema,fetch:this.fetch}),this.storage=new r.StorageClient(this.storageUrl.href,this.headers,this.fetch,g?.storage),O.accessToken||this._listenForAuthEvents()}get functions(){return new e.FunctionsClient(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(m){return this.rest.from(m)}schema(m){return this.rest.schema(m)}rpc(m,p={},g={head:!1,get:!1,count:void 0}){return this.rest.rpc(m,p,g)}channel(m,p={config:{}}){return this.realtime.channel(m,p)}getChannels(){return this.realtime.getChannels()}removeChannel(m){return this.realtime.removeChannel(m)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var m,p;if(this.accessToken)return await this.accessToken();const{data:g}=await this.auth.getSession();return(p=(m=g.session)===null||m===void 0?void 0:m.access_token)!==null&&p!==void 0?p:this.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:m,persistSession:p,detectSessionInUrl:g,storage:v,userStorage:_,storageKey:w,flowType:E,lock:T,debug:N,throwOnError:O},P,C){const D={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new c.SupabaseAuthClient({url:this.authUrl.href,headers:Object.assign(Object.assign({},D),P),storageKey:w,autoRefreshToken:m,persistSession:p,detectSessionInUrl:g,storage:v,userStorage:_,flowType:E,lock:T,debug:N,throwOnError:O,fetch:C,hasCustomAuthorizationHeader:Object.keys(this.headers).some($=>$.toLowerCase()==="authorization")})}_initRealtimeClient(m){return new n.RealtimeClient(this.realtimeUrl.href,Object.assign(Object.assign({},m),{params:Object.assign({apikey:this.supabaseKey},m?.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((p,g)=>{this._handleTokenChanged(p,"CLIENT",g?.access_token)})}_handleTokenChanged(m,p,g){(m==="TOKEN_REFRESHED"||m==="SIGNED_IN")&&this.changedAccessToken!==g?(this.changedAccessToken=g,this.realtime.setAuth(g)):m==="SIGNED_OUT"&&(this.realtime.setAuth(),p=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}return Zg.default=u,Zg}var jC;function YK(){return jC||(jC=1,(function(e){var t=Jo&&Jo.__createBinding||(Object.create?(function(m,p,g,v){v===void 0&&(v=g);var _=Object.getOwnPropertyDescriptor(p,g);(!_||("get"in _?!p.__esModule:_.writable||_.configurable))&&(_={enumerable:!0,get:function(){return p[g]}}),Object.defineProperty(m,v,_)}):(function(m,p,g,v){v===void 0&&(v=g),m[v]=p[g]})),n=Jo&&Jo.__exportStar||function(m,p){for(var g in m)g!=="default"&&!Object.prototype.hasOwnProperty.call(p,g)&&t(p,m,g)},r=Jo&&Jo.__importDefault||function(m){return m&&m.__esModule?m:{default:m}};Object.defineProperty(e,"__esModule",{value:!0}),e.createClient=e.SupabaseClient=e.FunctionRegion=e.FunctionsError=e.FunctionsRelayError=e.FunctionsFetchError=e.FunctionsHttpError=e.PostgrestError=void 0;const i=r(OC());n(fB,e);var a=N$();Object.defineProperty(e,"PostgrestError",{enumerable:!0,get:function(){return a.PostgrestError}});var o=E$;Object.defineProperty(e,"FunctionsHttpError",{enumerable:!0,get:function(){return o.FunctionsHttpError}}),Object.defineProperty(e,"FunctionsFetchError",{enumerable:!0,get:function(){return o.FunctionsFetchError}}),Object.defineProperty(e,"FunctionsRelayError",{enumerable:!0,get:function(){return o.FunctionsRelayError}}),Object.defineProperty(e,"FunctionsError",{enumerable:!0,get:function(){return o.FunctionsError}}),Object.defineProperty(e,"FunctionRegion",{enumerable:!0,get:function(){return o.FunctionRegion}}),n(B$,e);var c=OC();Object.defineProperty(e,"SupabaseClient",{enumerable:!0,get:function(){return r(c).default}});const u=(m,p,g)=>new i.default(m,p,g);e.createClient=u;function f(){if(typeof window<"u"||typeof process>"u")return!1;const m=process.version;if(m==null)return!1;const p=m.match(/^v(\d+)\./);return p?parseInt(p[1],10)<=18:!1}f()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217")})(Jo)),Jo}var hB=YK();const mB=ui(hB),KK=Lk({__proto__:null,default:mB},[hB]),{PostgrestError:XAe,FunctionsHttpError:JAe,FunctionsFetchError:QAe,FunctionsRelayError:eTe,FunctionsError:tTe,FunctionRegion:nTe,SupabaseClient:rTe,createClient:WK,GoTrueAdminApi:iTe,GoTrueClient:aTe,AuthAdminApi:oTe,AuthClient:sTe,navigatorLock:lTe,NavigatorLockAcquireTimeoutError:cTe,lockInternals:uTe,processLock:dTe,SIGN_OUT_SCOPES:fTe,AuthError:hTe,AuthApiError:mTe,AuthUnknownError:pTe,CustomAuthError:gTe,AuthSessionMissingError:yTe,AuthInvalidTokenResponseError:bTe,AuthInvalidCredentialsError:vTe,AuthImplicitGrantRedirectError:xTe,AuthPKCEGrantCodeExchangeError:_Te,AuthRetryableFetchError:wTe,AuthWeakPasswordError:STe,AuthInvalidJwtError:ETe,isAuthError:kTe,isAuthApiError:ATe,isAuthSessionMissingError:TTe,isAuthImplicitGrantRedirectError:OTe,isAuthRetryableFetchError:jTe,isAuthWeakPasswordError:NTe,RealtimePresence:CTe,RealtimeChannel:MTe,RealtimeClient:PTe,REALTIME_LISTEN_TYPES:DTe,REALTIME_POSTGRES_CHANGES_LISTEN_EVENT:RTe,REALTIME_PRESENCE_LISTEN_EVENTS:LTe,REALTIME_SUBSCRIBE_STATES:ITe,REALTIME_CHANNEL_STATES:$Te}=mB||KK,Ie=WK("https://jouhybyquybxbnqztxum.supabase.co","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImpvdWh5YnlxdXlieGJucXp0eHVtIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjQ5NjIwOTgsImV4cCI6MjA4MDUzODA5OH0.qAD7S7yRW8GxcRze_3dyirReIy6HvMr9DeET-djp1Fw",{auth:{persistSession:!0,autoRefreshToken:!0,detectSessionInUrl:!0,storage:localStorage}}),pB="settings_v1",sE=()=>{try{typeof window<"u"&&window.localStorage.removeItem(pB)}catch{}},um={hiddenStem:"all",hiddenStemMode:"classic",ilunRule:"/",sinsalMode:"classic",sinsalBase:"",sinsalBloom:!1,exposure:"",charType:"",thinEum:!1,showSipSin:!0,showSibiSinsal:!0,showSibiUnseong:!0,showNabeum:!0,showEtcShinsal:!0,showRelationBox:!0,showPromptBox:!0,theme:"dark",difficultyMode:!1,sectionOrder:["hiddenStem","hiddenStemMode","ilunRule","sinsalMode","sinsalBase","sinsalBloom","exposure","charType","thinEum","visibility","difficultyMode"]},NC=["theme","hiddenStem","hiddenStemMode","ilunRule","sinsalMode","sinsalBase","sinsalBloom","exposure","charType","thinEum","visibility","difficultyMode"],VK=e=>{const t=Array.isArray(e)?e.filter(r=>typeof r=="string"&&NC.includes(r)):[],n=NC.filter(r=>!t.includes(r));return[...t,...n]},Ed=e=>({...um,...e,sectionOrder:VK(e.sectionOrder)}),ZK=e=>{if(e&&typeof e=="object"){const t=e;if(t.settings&&typeof t.settings=="object")return Ed(t.settings);if(t.state&&typeof t.state=="object"){const n=t.state;if(n.settings&&typeof n.settings=="object")return Ed(n.settings)}}return Ed(e??{})},XK=e=>{if(!e||typeof e!="object")return!1;const t=e;return!!(t.state||t.settings)};sE();const qn=au()(X3((e,t)=>({settings:um,syncing:!1,loaded:!1,setSettings:n=>e({settings:Ed(n)}),setKey:(n,r)=>e({settings:Ed({...t().settings,[n]:r})}),reset:()=>e({settings:um}),loadFromServer:async()=>{try{e({syncing:!0}),sE();const{data:{user:n},error:r}=await Ie.auth.getUser();if(r||!n){e({syncing:!1,loaded:!1});return}const{data:i,error:a}=await Ie.from("user_settings").select("payload").eq("user_id",n.id).single();if(a&&a.code!=="PGRST116"){console.error("loadFromServer(settings) error:",a),e({syncing:!1,loaded:!0});return}if(i?.payload){const o=ZK(i.payload);e({settings:o,syncing:!1,loaded:!0}),XK(i.payload)&&await Ie.from("user_settings").upsert({user_id:n.id,payload:o,updated_at:new Date().toISOString()});return}await t().saveToServer(!0),e({syncing:!1,loaded:!0})}catch(n){console.error("loadFromServer(settings) exception:",n),e({syncing:!1,loaded:!0})}},saveToServer:async(n=!1)=>{try{if(!t().loaded&&!n)return;e({syncing:!0}),sE();const{data:{user:r},error:i}=await Ie.auth.getUser();if(i||!r){e({syncing:!1});return}const a=Ed(t().settings),{error:o}=await Ie.from("user_settings").upsert({user_id:r.id,payload:a,updated_at:new Date().toISOString()});o&&console.error("saveToServer(settings) error:",o),e({syncing:!1,loaded:!0})}catch(r){console.error("saveToServer(settings) exception:",r),e({syncing:!1})}}}),{name:pB,storage:{getItem:()=>null,setItem:()=>null,removeItem:()=>null},merge:(e,t)=>t}));function lE(e){const t=$r.indexOf(e);if(t!==-1)return $r[t];const n=Ga..indexOf(e);return n!==-1?$r[n]:null}function gB(e){const t=si.indexOf(e);if(t!==-1)return si[t];const n=Ga..indexOf(e);return n!==-1?si[n]:null}function CC(e,t){if(t?.difficultyMode)return t?.theme==="light"?"bg-white border border-gray-300 text-neutral-900":"bg-white text-black";switch(e){case"":return"bg-green-600 text-white";case"":return"bg-red-600 text-white";case"":return"bg-yellow-500 text-white";case"":return"bg-gray-400 text-white";case"":return"bg-black text-white";default:return"bg-neutral-700 text-white"}}function Ii(e,t,n){if(t==="stem"){const r=lE(e);if(!r)return console.warn("Invalid stem:",e),"bg-neutral-700";const i=$r.indexOf(r),a=i>=0?gq[i]:void 0;return CC(a,n)}else{const r=gB(e);if(!r)return console.warn("Invalid branch:",e),"bg-neutral-700";const i=si.indexOf(r),a=i>=0?yq[i]:void 0;return CC(a,n)}}function da(e,t){const n=lE(e);if(!n)throw new Error(`getSipSin: invalid dayStem ${e}`);if(t.stem){const r=lE(t.stem);if(!r)throw new Error(`getSipSin: invalid stem ${t.stem}`);return xq[n][r]}if(t.branch){const r=gB(t.branch);if(!r)throw new Error(`getSipSin: invalid branch ${t.branch}`);return _q[n][r]}throw new Error("getSipSin: stem or branch required")}const tv={:["","(-)",""],:["","",""],:["","",""],:["","(-)",""],:["","",""],:["","",""],:["","",""],:["","",""],:["","",""],:["","(-)",""],:["","",""],:["","",""]},nv={:["(-)","(-)",""],:["","",""],:["(-)","",""],:["(-)","(-)",""],:["","",""],:["(-)","",""],:["(-)","(-)",""],:["","",""],:["(-)","",""],:["(-)","(-)",""],:["","",""],:["(-)","",""]};function yB({branch:e,dayStem:t,mode:n="all",mapping:r="classic",variant:i="auto",isUnknownTime:a=!1}){const o=(r==="hgc"?nv:tv)[e]??[],c=n==="main"?[o[2]]:o,u=i==="white",f=u?"text-white":"text-neutral-800 dark:text-white",m=u?"border-white":"border-neutral-800 dark: border-neutral-200",p=u?"text-yellow-900":"text-red-600 dark:text-yellow-300";return x.jsx("div",{className:"w-full flex flex-col gap-1 mt-1",children:c.map((g,v)=>g==="(-)"||a?x.jsx("div",{className:`w-full max-w-[80px] mx-auto text-[10px] desk:text-xs text-neutral-500 py-0.5 desk:px-1 border ${m} ${f} rounded text-center text-nowrap`,children:"(-) ()"},v):x.jsxs("div",{className:`w-full max-w-[80px] mx-auto text-[10px] desk:text-xs py-0.5 desk:px-1 border ${m} ${f} rounded text-center text-nowrap 
            ${n==="main"||v===2?`jeonggi bg-neutral-500/50 ${p} font-bold`:""}`,children:[g," (",da(t,{stem:g}),")"]},v))})}const Gm=au(e=>({manualHour:null,setManualHour:t=>e({manualHour:t}),clearManualHour:()=>e({manualHour:null})})),bB=Object.fromEntries(Object.entries(Rn).map(([e,t])=>[t,e])),vB=Object.fromEntries(Object.entries(Gn).map(([e,t])=>[t,e])),JK=new Set(Object.keys(Rn)),QK=new Set(Object.keys(Gn)),eW=new Set(["","","","","","","","","",""]),tW=new Set(["","","","","","","","","","","",""]);function li(e,t,n){return n===""?t==="stem"?Rn[e]??e:Gn[e]??e:t==="stem"?bB[e]??e:vB[e]??e}function MC(e){const t=bB[e]??e;return JK.has(t)?t:""}function nW(e){const t=vB[e]??e;return QK.has(t)?t:""}function rv(e){if(Cd.has(e))return e;const t=Rn[e]??e;return Cd.has(t)?t:""}function Qk(e){if(sm.has(e))return e;const t=Gn[e]??e;return sm.has(t)?t:""}function Ba(e,t){return t==="stem"?eW.has(e):tW.has(e)}function md({label:e,gz:t,dayStem:n,settings:r,unseongText:i,shinsalText:a,hideBranchSipSin:o=!0,hideHiddenStems:c=!1,size:u="sm",variant:f="auto",isUnknownTime:m=!1}){const{manualHour:p}=Gm(),g=m&&!p,v=t.charAt(0),_=t.charAt(1),w=li(v,"stem",r.charType),E=li(_,"branch",r.charType),T=MC(v),N=nW(_),O=MC(n),P=Qk(_),C=rv(n),D=r.showSipSin?da(O,{stem:T}):null,$=!o&&r.showSipSin?da(O,{branch:N}):null,H=r.thinEum&&Ba(v,"stem")?"font-thin":"font-bold",Y=r.thinEum&&Ba(_,"branch")?"font-thin":"font-bold",K={sm:"w-10 h-10 sm:w-12 sm:h-12",md:"w-12 h-12 sm:w-14 sm:h-14 md:w-16 md:h-16",lg:"w-14 h-14 sm:w-16 sm:h-16 md:w-20 md:h-20"},F=!c&&!!r.hiddenStem,z=r.hiddenStem==="regular"?"main":"all",X=r.hiddenStemMode==="hgc"?"hgc":"classic",Q=f==="white",J=Q?"bg-white text-neutral-900 border border-neutral-200":"bg-white dark:bg-neutral-900 text-neutral-900 dark:text-neutral-100 border border-neutral-200 dark:border-neutral-800",q=Q?"bg-neutral-100 text-neutral-700":"bg-neutral-100 dark:bg-neutral-800/60 text-neutral-700 dark:text-neutral-200",Z=Q?"border-neutral-200":"border-neutral-200 dark:border-neutral-800",re=Q?"text-neutral-500":"text-neutral-400",ue=Q?"text-neutral-500":"text-neutral-400",{settings:se}=qn(),B=g?`bg-white ${Z}`:`${Ii(T,"stem",se)} ${Z}`,W=g?`bg-white ${Z}`:`${Ii(N,"branch",se)} ${Z}`,ae=g?"text-black":se.difficultyMode?se.theme==="light"?"text-neutral-900":"text-black":"text-white",V=g?"text-black":se.difficultyMode?se.theme==="light"?"text-neutral-900":"text-black":"text-white";return x.jsxs("div",{className:`rounded-sm desk:rounded-xl overflow-hidden ${J}`,children:[x.jsx("div",{className:`py-2 text-center text-[10px] desk:text-xs tracking-wider ${q} text-nowrap`,children:e}),x.jsxs("div",{className:"py-3 flex flex-col items-center gap-1",children:[D&&x.jsx("div",{className:`text-[10px] desk:text-xs ${re} text-nowrap`,children:m&&!p?"-":D}),x.jsx("div",{className:`${K[u]} rounded-sm desk:rounded-lg flex items-center justify-center border ${B}`,children:x.jsx("span",{className:`text-2xl md:text-3xl ${ae} ${H}`,children:g?"-":w})}),x.jsx("div",{className:`${K[u]} rounded-sm desk:rounded-lg flex items-center justify-center border ${W}`,children:x.jsx("span",{className:`text-2xl md:text-3xl ${V} ${Y}`,children:g?"-":E})}),F&&x.jsx(yB,{branch:P,dayStem:C,mode:z,mapping:X,isUnknownTime:m&&!p&&(e===""||e==="")}),$&&x.jsx("div",{className:`text-[10px] desk:text-xs ${ue}`,children:m&&!p?"-":$}),r.showSibiUnseong&&x.jsx("div",{className:`text-[10px] desk:text-xs ${ue} text-nowrap`,children:m&&!p?"-":i||""}),r.showSibiSinsal&&x.jsx("div",{className:`text-[10px] desk:text-xs ${ue} text-nowrap`,children:m&&!p?"-":a||""})]})]})}const rW=new Set(Ga.);function iW(e){return Cd.has(e)?e:rW.has(e)?Rn[e]:""}function aW({label:e,settings:t,hideBranchSipSin:n=!0}){const r=t.showSipSin,i=!!t.hiddenStem,o=(t.hiddenStem==="regular"?"main":"all")==="main"?1:3,c=t.showSipSin&&!n;return x.jsxs("div",{className:"rounded-sm desk:rounded-xl bg-white dark:bg-neutral-900 border border-neutral-200 dark:border-neutral-800 overflow-hidden transition-colors",children:[x.jsx("div",{className:"py-2 text-center text-[10px] desk:text-xs tracking-wider bg-neutral-100 dark:bg-neutral-800/60 text-neutral-700 dark:text-neutral-200 text-nowrap",children:e}),x.jsxs("div",{className:"p-3 flex flex-col items-center gap-1",children:[r&&x.jsx("div",{className:"text-[10px] desk:text-xs text-neutral-500 dark:text-neutral-400 text-nowrap",children:"-"}),x.jsx("div",{className:"w-10 h-10 sm:w-12 sm:h-12 rounded-sm desk:rounded-lg flex items-center justify-center border border-neutral-200 dark:border-neutral-800 bg-white",children:x.jsx("span",{className:"text-2xl md:text-3xl font-bold text-neutral-900",children:"-"})}),x.jsx("div",{className:"w-10 h-10 sm:w-12 sm:h-12 rounded-sm desk:rounded-lg flex items-center justify-center border border-neutral-200 dark:border-neutral-800 bg-white",children:x.jsx("span",{className:"text-2xl md:text-3xl font-bold text-neutral-900",children:"-"})}),i&&x.jsx("div",{className:"flex flex-col gap-1 mt-1 w-full",children:Array.from({length:o}).map((u,f)=>x.jsx("div",{className:"w-full max-w-[80px] mx-auto text-[10px] desk:text-xs py-0.5 desk:px-1 border border-neutral-200 dark:border-neutral-800 rounded text-center text-nowrap text-neutral-500 dark:text-neutral-400",children:"-"},f))}),c&&x.jsx("div",{className:"text-[10px] desk:text-xs text-neutral-500 dark:text-neutral-400",children:"-"})]})]})}function oW(){const e=qn(_=>_.settings),[t,n]=S.useState(new Date),[r,i]=S.useState(!0),[a,o]=S.useState("/"),[c,u]=S.useState(!1);S.useEffect(()=>{if(!r)return;const _=setInterval(()=>n(new Date),1e3);return()=>clearInterval(_)},[r]);const f=at(t),m=kt(t),p=gt(t,a),g=$a(t,"/"),v=iW(p.charAt(0));return x.jsx("div",{className:"flex justify-center items-center mt-12 w-full h-[calc(100dvh_-_112px)] ",children:x.jsxs("div",{className:`w-[96%] max-w-[640px] mx-auto mb-4 p-4
                      bg-white dark:bg-neutral-950
                      text-neutral-900 dark:text-neutral-100
                      rounded-xl shadow border border-neutral-200 dark:border-neutral-800 transition-colors`,children:[x.jsxs("header",{className:"flex flex-col desk:flex-row items-center justify-center desk:justify-between mb-4 gap-2",children:[x.jsxs("div",{className:"font-semibold text-sm desk:text-base",children:[" "," ",x.jsxs("span",{className:"text-neutral-500 dark:text-neutral-400",children:["(",r?"":"",") ",cW(t)]})]}),x.jsxs("div",{className:"flex gap-2 items-center",children:[x.jsxs("select",{value:a,onChange:_=>o(_.target.value),className:`text-xs rounded px-2 py-1 h-30 cursor-pointer
                        bg-white dark:bg-neutral-900
                        border border-neutral-300 dark:border-neutral-700
                        text-neutral-900 dark:text-neutral-100
                        focus:outline-none focus:ring-2 focus:ring-amber-500/40`,children:[x.jsx("option",{value:"",children:" ( 23)"}),x.jsx("option",{value:"/",children:"/ ()"}),x.jsx("option",{value:"",children:" ( 3)"})]}),x.jsx("button",{onClick:()=>i(!r),className:`text-xs px-3 py-1 rounded transition-colors cursor-pointer
                        bg-neutral-100 hover:bg-neutral-200
                        dark:bg-neutral-800 dark:hover:bg-neutral-700
                        text-neutral-900 dark:text-neutral-100
                        border border-neutral-200 dark:border-neutral-700`,children:r?" ":" "})]})]}),x.jsxs("div",{className:"grid grid-cols-4 gap-3 mb-6",children:[c?x.jsx(aW,{label:"",settings:e,hideBranchSipSin:!0}):x.jsx(md,{label:"",gz:g,dayStem:v,settings:e,hideBranchSipSin:!0}),x.jsx(md,{label:"",gz:p,dayStem:v,settings:e,hideBranchSipSin:!0}),x.jsx(md,{label:"",gz:m,dayStem:v,settings:e,hideBranchSipSin:!0}),x.jsx(md,{label:"",gz:f,dayStem:v,settings:e,hideBranchSipSin:!0})]}),x.jsxs("div",{className:"flex flex-col desk:flex-row gap-2 desk:gap-3 items-center",children:[x.jsx("label",{className:"text-sm text-neutral-600 dark:text-neutral-300",children:"/ "}),x.jsx("input",{type:"datetime-local",value:sW(t),disabled:r,onChange:_=>{const w=lW(_.target.value);w&&n(w)},className:`rounded px-3 py-1 text-sm transition-colors
                        bg-white dark:bg-neutral-900
                        border border-neutral-300 dark:border-neutral-700
                        text-neutral-900 dark:text-neutral-100
                        focus:outline-none focus:ring-2 focus:ring-amber-500/40
                        ${r?"opacity-50 cursor-not-allowed":"cursor-pointer"}`,min:"1900-01-01T00:00",max:"2100-12-31T23:59"}),x.jsx("button",{onClick:()=>u(_=>!_),className:`text-xs px-3 py-1 rounded border transition-colors cursor-pointer
                        ${c?"bg-white text-neutral-900 border-neutral-300 hover:bg-neutral-100":"bg-neutral-100 text-neutral-900 border-neutral-200 hover:bg-neutral-200 dark:bg-neutral-800 dark:text-neutral-100 dark:border-neutral-700 dark:hover:bg-neutral-700"}`,title:"     ",children:c?" ":" "})]})]})})}function sW(e){const t=n=>n.toString().padStart(2,"0");return`${e.getFullYear()}-${t(e.getMonth()+1)}-${t(e.getDate())}T${t(e.getHours())}:${t(e.getMinutes())}`}function lW(e){if(!e)return null;const[t,n]=e.split("T");if(!t||!n)return null;const[r,i,a]=t.split("-").map(Number),[o,c]=n.split(":").map(Number),u=new Date(r,i-1,a,o,c);return Number.isNaN(u.getTime())?null:u}function cW(e){const t=n=>n.toString().padStart(2,"0");return`${t(e.getHours())}:${t(e.getMinutes())}:${t(e.getSeconds())}`}function uW({placeholderText:e,value:t}){const[n,r]=S.useState(e),[i,a]=S.useState(!1),[o,c]=S.useState(t??""),u=S.useRef(null),f=S.useRef(null),m=S.useRef(null),p=S.useRef(null);return S.useEffect(()=>{t!==void 0&&c(t)},[t]),{btnText:n,setBtnText:r,open:i,setOpen:a,localValue:o,setLocalValue:c,nameRef:u,latRef:f,lonRef:m,triggerBtnRef:p}}var Yh={exports:{}};/* @preserve
 * Leaflet 1.9.4, a JS library for interactive maps. https://leafletjs.com
 * (c) 2010-2023 Vladimir Agafonkin, (c) 2010-2011 CloudMade
 */var dW=Yh.exports,PC;function fW(){return PC||(PC=1,(function(e,t){(function(n,r){r(t)})(dW,(function(n){var r="1.9.4";function i(d){var y,k,M,R;for(k=1,M=arguments.length;k<M;k++){R=arguments[k];for(y in R)d[y]=R[y]}return d}var a=Object.create||(function(){function d(){}return function(y){return d.prototype=y,new d}})();function o(d,y){var k=Array.prototype.slice;if(d.bind)return d.bind.apply(d,k.call(arguments,1));var M=k.call(arguments,2);return function(){return d.apply(y,M.length?M.concat(k.call(arguments)):arguments)}}var c=0;function u(d){return"_leaflet_id"in d||(d._leaflet_id=++c),d._leaflet_id}function f(d,y,k){var M,R,U,ee;return ee=function(){M=!1,R&&(U.apply(k,R),R=!1)},U=function(){M?R=arguments:(d.apply(k,arguments),setTimeout(ee,y),M=!0)},U}function m(d,y,k){var M=y[1],R=y[0],U=M-R;return d===M&&k?d:((d-R)%U+U)%U+R}function p(){return!1}function g(d,y){if(y===!1)return d;var k=Math.pow(10,y===void 0?6:y);return Math.round(d*k)/k}function v(d){return d.trim?d.trim():d.replace(/^\s+|\s+$/g,"")}function _(d){return v(d).split(/\s+/)}function w(d,y){Object.prototype.hasOwnProperty.call(d,"options")||(d.options=d.options?a(d.options):{});for(var k in y)d.options[k]=y[k];return d.options}function E(d,y,k){var M=[];for(var R in d)M.push(encodeURIComponent(k?R.toUpperCase():R)+"="+encodeURIComponent(d[R]));return(!y||y.indexOf("?")===-1?"?":"&")+M.join("&")}var T=/\{ *([\w_ -]+) *\}/g;function N(d,y){return d.replace(T,function(k,M){var R=y[M];if(R===void 0)throw new Error("No value provided for variable "+k);return typeof R=="function"&&(R=R(y)),R})}var O=Array.isArray||function(d){return Object.prototype.toString.call(d)==="[object Array]"};function P(d,y){for(var k=0;k<d.length;k++)if(d[k]===y)return k;return-1}var C="data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs=";function D(d){return window["webkit"+d]||window["moz"+d]||window["ms"+d]}var $=0;function H(d){var y=+new Date,k=Math.max(0,16-(y-$));return $=y+k,window.setTimeout(d,k)}var Y=window.requestAnimationFrame||D("RequestAnimationFrame")||H,K=window.cancelAnimationFrame||D("CancelAnimationFrame")||D("CancelRequestAnimationFrame")||function(d){window.clearTimeout(d)};function F(d,y,k){if(k&&Y===H)d.call(y);else return Y.call(window,o(d,y))}function z(d){d&&K.call(window,d)}var X={__proto__:null,extend:i,create:a,bind:o,get lastId(){return c},stamp:u,throttle:f,wrapNum:m,falseFn:p,formatNum:g,trim:v,splitWords:_,setOptions:w,getParamString:E,template:N,isArray:O,indexOf:P,emptyImageUrl:C,requestFn:Y,cancelFn:K,requestAnimFrame:F,cancelAnimFrame:z};function Q(){}Q.extend=function(d){var y=function(){w(this),this.initialize&&this.initialize.apply(this,arguments),this.callInitHooks()},k=y.__super__=this.prototype,M=a(k);M.constructor=y,y.prototype=M;for(var R in this)Object.prototype.hasOwnProperty.call(this,R)&&R!=="prototype"&&R!=="__super__"&&(y[R]=this[R]);return d.statics&&i(y,d.statics),d.includes&&(J(d.includes),i.apply(null,[M].concat(d.includes))),i(M,d),delete M.statics,delete M.includes,M.options&&(M.options=k.options?a(k.options):{},i(M.options,d.options)),M._initHooks=[],M.callInitHooks=function(){if(!this._initHooksCalled){k.callInitHooks&&k.callInitHooks.call(this),this._initHooksCalled=!0;for(var U=0,ee=M._initHooks.length;U<ee;U++)M._initHooks[U].call(this)}},y},Q.include=function(d){var y=this.prototype.options;return i(this.prototype,d),d.options&&(this.prototype.options=y,this.mergeOptions(d.options)),this},Q.mergeOptions=function(d){return i(this.prototype.options,d),this},Q.addInitHook=function(d){var y=Array.prototype.slice.call(arguments,1),k=typeof d=="function"?d:function(){this[d].apply(this,y)};return this.prototype._initHooks=this.prototype._initHooks||[],this.prototype._initHooks.push(k),this};function J(d){if(!(typeof L>"u"||!L||!L.Mixin)){d=O(d)?d:[d];for(var y=0;y<d.length;y++)d[y]===L.Mixin.Events&&console.warn("Deprecated include of L.Mixin.Events: this property will be removed in future releases, please inherit from L.Evented instead.",new Error().stack)}}var q={on:function(d,y,k){if(typeof d=="object")for(var M in d)this._on(M,d[M],y);else{d=_(d);for(var R=0,U=d.length;R<U;R++)this._on(d[R],y,k)}return this},off:function(d,y,k){if(!arguments.length)delete this._events;else if(typeof d=="object")for(var M in d)this._off(M,d[M],y);else{d=_(d);for(var R=arguments.length===1,U=0,ee=d.length;U<ee;U++)R?this._off(d[U]):this._off(d[U],y,k)}return this},_on:function(d,y,k,M){if(typeof y!="function"){console.warn("wrong listener type: "+typeof y);return}if(this._listens(d,y,k)===!1){k===this&&(k=void 0);var R={fn:y,ctx:k};M&&(R.once=!0),this._events=this._events||{},this._events[d]=this._events[d]||[],this._events[d].push(R)}},_off:function(d,y,k){var M,R,U;if(this._events&&(M=this._events[d],!!M)){if(arguments.length===1){if(this._firingCount)for(R=0,U=M.length;R<U;R++)M[R].fn=p;delete this._events[d];return}if(typeof y!="function"){console.warn("wrong listener type: "+typeof y);return}var ee=this._listens(d,y,k);if(ee!==!1){var ce=M[ee];this._firingCount&&(ce.fn=p,this._events[d]=M=M.slice()),M.splice(ee,1)}}},fire:function(d,y,k){if(!this.listens(d,k))return this;var M=i({},y,{type:d,target:this,sourceTarget:y&&y.sourceTarget||this});if(this._events){var R=this._events[d];if(R){this._firingCount=this._firingCount+1||1;for(var U=0,ee=R.length;U<ee;U++){var ce=R[U],ge=ce.fn;ce.once&&this.off(d,ge,ce.ctx),ge.call(ce.ctx||this,M)}this._firingCount--}}return k&&this._propagateEvent(M),this},listens:function(d,y,k,M){typeof d!="string"&&console.warn('"string" type argument expected');var R=y;typeof y!="function"&&(M=!!y,R=void 0,k=void 0);var U=this._events&&this._events[d];if(U&&U.length&&this._listens(d,R,k)!==!1)return!0;if(M){for(var ee in this._eventParents)if(this._eventParents[ee].listens(d,y,k,M))return!0}return!1},_listens:function(d,y,k){if(!this._events)return!1;var M=this._events[d]||[];if(!y)return!!M.length;k===this&&(k=void 0);for(var R=0,U=M.length;R<U;R++)if(M[R].fn===y&&M[R].ctx===k)return R;return!1},once:function(d,y,k){if(typeof d=="object")for(var M in d)this._on(M,d[M],y,!0);else{d=_(d);for(var R=0,U=d.length;R<U;R++)this._on(d[R],y,k,!0)}return this},addEventParent:function(d){return this._eventParents=this._eventParents||{},this._eventParents[u(d)]=d,this},removeEventParent:function(d){return this._eventParents&&delete this._eventParents[u(d)],this},_propagateEvent:function(d){for(var y in this._eventParents)this._eventParents[y].fire(d.type,i({layer:d.target,propagatedFrom:d.target},d),!0)}};q.addEventListener=q.on,q.removeEventListener=q.clearAllEventListeners=q.off,q.addOneTimeEventListener=q.once,q.fireEvent=q.fire,q.hasEventListeners=q.listens;var Z=Q.extend(q);function re(d,y,k){this.x=k?Math.round(d):d,this.y=k?Math.round(y):y}var ue=Math.trunc||function(d){return d>0?Math.floor(d):Math.ceil(d)};re.prototype={clone:function(){return new re(this.x,this.y)},add:function(d){return this.clone()._add(se(d))},_add:function(d){return this.x+=d.x,this.y+=d.y,this},subtract:function(d){return this.clone()._subtract(se(d))},_subtract:function(d){return this.x-=d.x,this.y-=d.y,this},divideBy:function(d){return this.clone()._divideBy(d)},_divideBy:function(d){return this.x/=d,this.y/=d,this},multiplyBy:function(d){return this.clone()._multiplyBy(d)},_multiplyBy:function(d){return this.x*=d,this.y*=d,this},scaleBy:function(d){return new re(this.x*d.x,this.y*d.y)},unscaleBy:function(d){return new re(this.x/d.x,this.y/d.y)},round:function(){return this.clone()._round()},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},floor:function(){return this.clone()._floor()},_floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},ceil:function(){return this.clone()._ceil()},_ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},trunc:function(){return this.clone()._trunc()},_trunc:function(){return this.x=ue(this.x),this.y=ue(this.y),this},distanceTo:function(d){d=se(d);var y=d.x-this.x,k=d.y-this.y;return Math.sqrt(y*y+k*k)},equals:function(d){return d=se(d),d.x===this.x&&d.y===this.y},contains:function(d){return d=se(d),Math.abs(d.x)<=Math.abs(this.x)&&Math.abs(d.y)<=Math.abs(this.y)},toString:function(){return"Point("+g(this.x)+", "+g(this.y)+")"}};function se(d,y,k){return d instanceof re?d:O(d)?new re(d[0],d[1]):d==null?d:typeof d=="object"&&"x"in d&&"y"in d?new re(d.x,d.y):new re(d,y,k)}function B(d,y){if(d)for(var k=y?[d,y]:d,M=0,R=k.length;M<R;M++)this.extend(k[M])}B.prototype={extend:function(d){var y,k;if(!d)return this;if(d instanceof re||typeof d[0]=="number"||"x"in d)y=k=se(d);else if(d=W(d),y=d.min,k=d.max,!y||!k)return this;return!this.min&&!this.max?(this.min=y.clone(),this.max=k.clone()):(this.min.x=Math.min(y.x,this.min.x),this.max.x=Math.max(k.x,this.max.x),this.min.y=Math.min(y.y,this.min.y),this.max.y=Math.max(k.y,this.max.y)),this},getCenter:function(d){return se((this.min.x+this.max.x)/2,(this.min.y+this.max.y)/2,d)},getBottomLeft:function(){return se(this.min.x,this.max.y)},getTopRight:function(){return se(this.max.x,this.min.y)},getTopLeft:function(){return this.min},getBottomRight:function(){return this.max},getSize:function(){return this.max.subtract(this.min)},contains:function(d){var y,k;return typeof d[0]=="number"||d instanceof re?d=se(d):d=W(d),d instanceof B?(y=d.min,k=d.max):y=k=d,y.x>=this.min.x&&k.x<=this.max.x&&y.y>=this.min.y&&k.y<=this.max.y},intersects:function(d){d=W(d);var y=this.min,k=this.max,M=d.min,R=d.max,U=R.x>=y.x&&M.x<=k.x,ee=R.y>=y.y&&M.y<=k.y;return U&&ee},overlaps:function(d){d=W(d);var y=this.min,k=this.max,M=d.min,R=d.max,U=R.x>y.x&&M.x<k.x,ee=R.y>y.y&&M.y<k.y;return U&&ee},isValid:function(){return!!(this.min&&this.max)},pad:function(d){var y=this.min,k=this.max,M=Math.abs(y.x-k.x)*d,R=Math.abs(y.y-k.y)*d;return W(se(y.x-M,y.y-R),se(k.x+M,k.y+R))},equals:function(d){return d?(d=W(d),this.min.equals(d.getTopLeft())&&this.max.equals(d.getBottomRight())):!1}};function W(d,y){return!d||d instanceof B?d:new B(d,y)}function ae(d,y){if(d)for(var k=y?[d,y]:d,M=0,R=k.length;M<R;M++)this.extend(k[M])}ae.prototype={extend:function(d){var y=this._southWest,k=this._northEast,M,R;if(d instanceof oe)M=d,R=d;else if(d instanceof ae){if(M=d._southWest,R=d._northEast,!M||!R)return this}else return d?this.extend(me(d)||V(d)):this;return!y&&!k?(this._southWest=new oe(M.lat,M.lng),this._northEast=new oe(R.lat,R.lng)):(y.lat=Math.min(M.lat,y.lat),y.lng=Math.min(M.lng,y.lng),k.lat=Math.max(R.lat,k.lat),k.lng=Math.max(R.lng,k.lng)),this},pad:function(d){var y=this._southWest,k=this._northEast,M=Math.abs(y.lat-k.lat)*d,R=Math.abs(y.lng-k.lng)*d;return new ae(new oe(y.lat-M,y.lng-R),new oe(k.lat+M,k.lng+R))},getCenter:function(){return new oe((this._southWest.lat+this._northEast.lat)/2,(this._southWest.lng+this._northEast.lng)/2)},getSouthWest:function(){return this._southWest},getNorthEast:function(){return this._northEast},getNorthWest:function(){return new oe(this.getNorth(),this.getWest())},getSouthEast:function(){return new oe(this.getSouth(),this.getEast())},getWest:function(){return this._southWest.lng},getSouth:function(){return this._southWest.lat},getEast:function(){return this._northEast.lng},getNorth:function(){return this._northEast.lat},contains:function(d){typeof d[0]=="number"||d instanceof oe||"lat"in d?d=me(d):d=V(d);var y=this._southWest,k=this._northEast,M,R;return d instanceof ae?(M=d.getSouthWest(),R=d.getNorthEast()):M=R=d,M.lat>=y.lat&&R.lat<=k.lat&&M.lng>=y.lng&&R.lng<=k.lng},intersects:function(d){d=V(d);var y=this._southWest,k=this._northEast,M=d.getSouthWest(),R=d.getNorthEast(),U=R.lat>=y.lat&&M.lat<=k.lat,ee=R.lng>=y.lng&&M.lng<=k.lng;return U&&ee},overlaps:function(d){d=V(d);var y=this._southWest,k=this._northEast,M=d.getSouthWest(),R=d.getNorthEast(),U=R.lat>y.lat&&M.lat<k.lat,ee=R.lng>y.lng&&M.lng<k.lng;return U&&ee},toBBoxString:function(){return[this.getWest(),this.getSouth(),this.getEast(),this.getNorth()].join(",")},equals:function(d,y){return d?(d=V(d),this._southWest.equals(d.getSouthWest(),y)&&this._northEast.equals(d.getNorthEast(),y)):!1},isValid:function(){return!!(this._southWest&&this._northEast)}};function V(d,y){return d instanceof ae?d:new ae(d,y)}function oe(d,y,k){if(isNaN(d)||isNaN(y))throw new Error("Invalid LatLng object: ("+d+", "+y+")");this.lat=+d,this.lng=+y,k!==void 0&&(this.alt=+k)}oe.prototype={equals:function(d,y){if(!d)return!1;d=me(d);var k=Math.max(Math.abs(this.lat-d.lat),Math.abs(this.lng-d.lng));return k<=(y===void 0?1e-9:y)},toString:function(d){return"LatLng("+g(this.lat,d)+", "+g(this.lng,d)+")"},distanceTo:function(d){return be.distance(this,me(d))},wrap:function(){return be.wrapLatLng(this)},toBounds:function(d){var y=180*d/40075017,k=y/Math.cos(Math.PI/180*this.lat);return V([this.lat-y,this.lng-k],[this.lat+y,this.lng+k])},clone:function(){return new oe(this.lat,this.lng,this.alt)}};function me(d,y,k){return d instanceof oe?d:O(d)&&typeof d[0]!="object"?d.length===3?new oe(d[0],d[1],d[2]):d.length===2?new oe(d[0],d[1]):null:d==null?d:typeof d=="object"&&"lat"in d?new oe(d.lat,"lng"in d?d.lng:d.lon,d.alt):y===void 0?null:new oe(d,y,k)}var pe={latLngToPoint:function(d,y){var k=this.projection.project(d),M=this.scale(y);return this.transformation._transform(k,M)},pointToLatLng:function(d,y){var k=this.scale(y),M=this.transformation.untransform(d,k);return this.projection.unproject(M)},project:function(d){return this.projection.project(d)},unproject:function(d){return this.projection.unproject(d)},scale:function(d){return 256*Math.pow(2,d)},zoom:function(d){return Math.log(d/256)/Math.LN2},getProjectedBounds:function(d){if(this.infinite)return null;var y=this.projection.bounds,k=this.scale(d),M=this.transformation.transform(y.min,k),R=this.transformation.transform(y.max,k);return new B(M,R)},infinite:!1,wrapLatLng:function(d){var y=this.wrapLng?m(d.lng,this.wrapLng,!0):d.lng,k=this.wrapLat?m(d.lat,this.wrapLat,!0):d.lat,M=d.alt;return new oe(k,y,M)},wrapLatLngBounds:function(d){var y=d.getCenter(),k=this.wrapLatLng(y),M=y.lat-k.lat,R=y.lng-k.lng;if(M===0&&R===0)return d;var U=d.getSouthWest(),ee=d.getNorthEast(),ce=new oe(U.lat-M,U.lng-R),ge=new oe(ee.lat-M,ee.lng-R);return new ae(ce,ge)}},be=i({},pe,{wrapLng:[-180,180],R:6371e3,distance:function(d,y){var k=Math.PI/180,M=d.lat*k,R=y.lat*k,U=Math.sin((y.lat-d.lat)*k/2),ee=Math.sin((y.lng-d.lng)*k/2),ce=U*U+Math.cos(M)*Math.cos(R)*ee*ee,ge=2*Math.atan2(Math.sqrt(ce),Math.sqrt(1-ce));return this.R*ge}}),ne=6378137,Oe={R:ne,MAX_LATITUDE:85.0511287798,project:function(d){var y=Math.PI/180,k=this.MAX_LATITUDE,M=Math.max(Math.min(k,d.lat),-k),R=Math.sin(M*y);return new re(this.R*d.lng*y,this.R*Math.log((1+R)/(1-R))/2)},unproject:function(d){var y=180/Math.PI;return new oe((2*Math.atan(Math.exp(d.y/this.R))-Math.PI/2)*y,d.x*y/this.R)},bounds:(function(){var d=ne*Math.PI;return new B([-d,-d],[d,d])})()};function Ce(d,y,k,M){if(O(d)){this._a=d[0],this._b=d[1],this._c=d[2],this._d=d[3];return}this._a=d,this._b=y,this._c=k,this._d=M}Ce.prototype={transform:function(d,y){return this._transform(d.clone(),y)},_transform:function(d,y){return y=y||1,d.x=y*(this._a*d.x+this._b),d.y=y*(this._c*d.y+this._d),d},untransform:function(d,y){return y=y||1,new re((d.x/y-this._b)/this._a,(d.y/y-this._d)/this._c)}};function ve(d,y,k,M){return new Ce(d,y,k,M)}var Ze=i({},be,{code:"EPSG:3857",projection:Oe,transformation:(function(){var d=.5/(Math.PI*Oe.R);return ve(d,.5,-d,.5)})()}),Ne=i({},Ze,{code:"EPSG:900913"});function _e(d){return document.createElementNS("http://www.w3.org/2000/svg",d)}function je(d,y){var k="",M,R,U,ee,ce,ge;for(M=0,U=d.length;M<U;M++){for(ce=d[M],R=0,ee=ce.length;R<ee;R++)ge=ce[R],k+=(R?"L":"M")+ge.x+" "+ge.y;k+=y?Fe.svg?"z":"x":""}return k||"M0 0"}var Le=document.documentElement.style,Ve="ActiveXObject"in window,bt=Ve&&!document.addEventListener,xt="msLaunchUri"in navigator&&!("documentMode"in document),Pt=Hr("webkit"),fe=Hr("android"),Me=Hr("android 2")||Hr("android 3"),Be=parseInt(/WebKit\/([0-9]+)|$/.exec(navigator.userAgent)[1],10),lt=fe&&Hr("Google")&&Be<537&&!("AudioNode"in window),jt=!!window.opera,yt=!xt&&Hr("chrome"),Zn=Hr("gecko")&&!Pt&&!jt&&!Ve,hi=!yt&&Hr("safari"),mi=Hr("phantom"),Ns="OTransition"in Le,Cs=navigator.platform.indexOf("Win")===0,qt=Ve&&"transition"in Le,mn="WebKitCSSMatrix"in window&&"m11"in new window.WebKitCSSMatrix&&!Me,pi="MozPerspective"in Le,Or=!window.L_DISABLE_3D&&(qt||mn||pi)&&!Ns&&!mi,Ll=typeof orientation<"u"||Hr("mobile"),ux=Ll&&Pt,dx=Ll&&mn,Il=!window.PointerEvent&&window.MSPointerEvent,$l=!!(window.PointerEvent||Il),Bl="ontouchstart"in window||!!window.TouchEvent,To=!window.L_NO_TOUCH&&(Bl||$l),cu=Ll&&jt,zl=Ll&&Zn,fx=(window.devicePixelRatio||window.screen.deviceXDPI/window.screen.logicalXDPI)>1,wp=(function(){var d=!1;try{var y=Object.defineProperty({},"passive",{get:function(){d=!0}});window.addEventListener("testPassiveEventSupport",p,y),window.removeEventListener("testPassiveEventSupport",p,y)}catch{}return d})(),gf=(function(){return!!document.createElement("canvas").getContext})(),Oo=!!(document.createElementNS&&_e("svg").createSVGRect),hx=!!Oo&&(function(){var d=document.createElement("div");return d.innerHTML="<svg/>",(d.firstChild&&d.firstChild.namespaceURI)==="http://www.w3.org/2000/svg"})(),Sp=!Oo&&(function(){try{var d=document.createElement("div");d.innerHTML='<v:shape adj="1"/>';var y=d.firstChild;return y.style.behavior="url(#default#VML)",y&&typeof y.adj=="object"}catch{return!1}})(),Ep=navigator.platform.indexOf("Mac")===0,kp=navigator.platform.indexOf("Linux")===0;function Hr(d){return navigator.userAgent.toLowerCase().indexOf(d)>=0}var Fe={ie:Ve,ielt9:bt,edge:xt,webkit:Pt,android:fe,android23:Me,androidStock:lt,opera:jt,chrome:yt,gecko:Zn,safari:hi,phantom:mi,opera12:Ns,win:Cs,ie3d:qt,webkit3d:mn,gecko3d:pi,any3d:Or,mobile:Ll,mobileWebkit:ux,mobileWebkit3d:dx,msPointer:Il,pointer:$l,touch:To,touchNative:Bl,mobileOpera:cu,mobileGecko:zl,retina:fx,passiveEvents:wp,canvas:gf,svg:Oo,vml:Sp,inlineSvg:hx,mac:Ep,linux:kp},yf=Fe.msPointer?"MSPointerDown":"pointerdown",bf=Fe.msPointer?"MSPointerMove":"pointermove",ya=Fe.msPointer?"MSPointerUp":"pointerup",An=Fe.msPointer?"MSPointerCancel":"pointercancel",Xn={touchstart:yf,touchmove:bf,touchend:ya,touchcancel:An},jo={touchstart:Ps,touchmove:Ya,touchend:Ya,touchcancel:Ya},qa={},Ap=!1;function mx(d,y,k){return y==="touchstart"&&Ms(),jo[y]?(k=jo[y].bind(this,k),d.addEventListener(Xn[y],k,!1),k):(console.warn("wrong event specified:",y),p)}function Tp(d,y,k){if(!Xn[y]){console.warn("wrong event specified:",y);return}d.removeEventListener(Xn[y],k,!1)}function Ul(d){qa[d.pointerId]=d}function vf(d){qa[d.pointerId]&&(qa[d.pointerId]=d)}function No(d){delete qa[d.pointerId]}function Ms(){Ap||(document.addEventListener(yf,Ul,!0),document.addEventListener(bf,vf,!0),document.addEventListener(ya,No,!0),document.addEventListener(An,No,!0),Ap=!0)}function Ya(d,y){if(y.pointerType!==(y.MSPOINTER_TYPE_MOUSE||"mouse")){y.touches=[];for(var k in qa)y.touches.push(qa[k]);y.changedTouches=[y],d(y)}}function Ps(d,y){y.MSPOINTER_TYPE_TOUCH&&y.pointerType===y.MSPOINTER_TYPE_TOUCH&&pn(y),Ya(d,y)}function Tn(d){var y={},k,M;for(M in d)k=d[M],y[M]=k&&k.bind?k.bind(d):k;return d=y,y.type="dblclick",y.detail=2,y.isTrusted=!1,y._simulated=!0,y}var Op=200;function jp(d,y){d.addEventListener("dblclick",y);var k=0,M;function R(U){if(U.detail!==1){M=U.detail;return}if(!(U.pointerType==="mouse"||U.sourceCapabilities&&!U.sourceCapabilities.firesTouchEvents)){var ee=Wl(U);if(!(ee.some(function(ge){return ge instanceof HTMLLabelElement&&ge.attributes.for})&&!ee.some(function(ge){return ge instanceof HTMLInputElement||ge instanceof HTMLSelectElement}))){var ce=Date.now();ce-k<=Op?(M++,M===2&&y(Tn(U))):M=1,k=ce}}}return d.addEventListener("click",R),{dblclick:y,simDblclick:R}}function Co(d,y){d.removeEventListener("dblclick",y.dblclick),d.removeEventListener("click",y.simDblclick)}var Ka=Gl(["transform","webkitTransform","OTransform","MozTransform","msTransform"]),Hl=Gl(["webkitTransition","transition","OTransition","MozTransition","msTransition"]),xf=Hl==="webkitTransition"||Hl==="OTransition"?Hl+"End":"transitionend";function _f(d){return typeof d=="string"?document.getElementById(d):d}function Fl(d,y){var k=d.style[y]||d.currentStyle&&d.currentStyle[y];if((!k||k==="auto")&&document.defaultView){var M=document.defaultView.getComputedStyle(d,null);k=M?M[y]:null}return k==="auto"?null:k}function ct(d,y,k){var M=document.createElement(d);return M.className=y||"",k&&k.appendChild(M),M}function It(d){var y=d.parentNode;y&&y.removeChild(d)}function Fr(d){for(;d.firstChild;)d.removeChild(d.firstChild)}function In(d){var y=d.parentNode;y&&y.lastChild!==d&&y.appendChild(d)}function Mo(d){var y=d.parentNode;y&&y.firstChild!==d&&y.insertBefore(d,y.firstChild)}function wf(d,y){if(d.classList!==void 0)return d.classList.contains(y);var k=uu(d);return k.length>0&&new RegExp("(^|\\s)"+y+"(\\s|$)").test(k)}function nt(d,y){if(d.classList!==void 0)for(var k=_(y),M=0,R=k.length;M<R;M++)d.classList.add(k[M]);else if(!wf(d,y)){var U=uu(d);Ds(d,(U?U+" ":"")+y)}}function en(d,y){d.classList!==void 0?d.classList.remove(y):Ds(d,v((" "+uu(d)+" ").replace(" "+y+" "," ")))}function Ds(d,y){d.className.baseVal===void 0?d.className=y:d.className.baseVal=y}function uu(d){return d.correspondingElement&&(d=d.correspondingElement),d.className.baseVal===void 0?d.className:d.className.baseVal}function Zt(d,y){"opacity"in d.style?d.style.opacity=y:"filter"in d.style&&Sf(d,y)}function Sf(d,y){var k=!1,M="DXImageTransform.Microsoft.Alpha";try{k=d.filters.item(M)}catch{if(y===1)return}y=Math.round(y*100),k?(k.Enabled=y!==100,k.Opacity=y):d.style.filter+=" progid:"+M+"(opacity="+y+")"}function Gl(d){for(var y=document.documentElement.style,k=0;k<d.length;k++)if(d[k]in y)return d[k];return!1}function ba(d,y,k){var M=y||new re(0,0);d.style[Ka]=(Fe.ie3d?"translate("+M.x+"px,"+M.y+"px)":"translate3d("+M.x+"px,"+M.y+"px,0)")+(k?" scale("+k+")":"")}function Ut(d,y){d._leaflet_pos=y,Fe.any3d?ba(d,y):(d.style.left=y.x+"px",d.style.top=y.y+"px")}function Wa(d){return d._leaflet_pos||new re(0,0)}var Rs,Hi,Ef;if("onselectstart"in document)Rs=function(){tt(window,"selectstart",pn)},Hi=function(){Nt(window,"selectstart",pn)};else{var Ls=Gl(["userSelect","WebkitUserSelect","OUserSelect","MozUserSelect","msUserSelect"]);Rs=function(){if(Ls){var d=document.documentElement.style;Ef=d[Ls],d[Ls]="none"}},Hi=function(){Ls&&(document.documentElement.style[Ls]=Ef,Ef=void 0)}}function du(){tt(window,"dragstart",pn)}function ql(){Nt(window,"dragstart",pn)}var fu,kf;function Is(d){for(;d.tabIndex===-1;)d=d.parentNode;d.style&&(Gr(),fu=d,kf=d.style.outlineStyle,d.style.outlineStyle="none",tt(window,"keydown",Gr))}function Gr(){fu&&(fu.style.outlineStyle=kf,fu=void 0,kf=void 0,Nt(window,"keydown",Gr))}function hu(d){do d=d.parentNode;while((!d.offsetWidth||!d.offsetHeight)&&d!==document.body);return d}function Yl(d){var y=d.getBoundingClientRect();return{x:y.width/d.offsetWidth||1,y:y.height/d.offsetHeight||1,boundingClientRect:y}}var $s={__proto__:null,TRANSFORM:Ka,TRANSITION:Hl,TRANSITION_END:xf,get:_f,getStyle:Fl,create:ct,remove:It,empty:Fr,toFront:In,toBack:Mo,hasClass:wf,addClass:nt,removeClass:en,setClass:Ds,getClass:uu,setOpacity:Zt,testProp:Gl,setTransform:ba,setPosition:Ut,getPosition:Wa,get disableTextSelection(){return Rs},get enableTextSelection(){return Hi},disableImageDrag:du,enableImageDrag:ql,preventOutline:Is,restoreOutline:Gr,getSizedParentNode:hu,getScale:Yl};function tt(d,y,k,M){if(y&&typeof y=="object")for(var R in y)yi(d,R,y[R],k);else{y=_(y);for(var U=0,ee=y.length;U<ee;U++)yi(d,y[U],k,M)}return this}var gi="_leaflet_events";function Nt(d,y,k,M){if(arguments.length===1)Af(d),delete d[gi];else if(y&&typeof y=="object")for(var R in y)Kl(d,R,y[R],k);else if(y=_(y),arguments.length===2)Af(d,function(ce){return P(y,ce)!==-1});else for(var U=0,ee=y.length;U<ee;U++)Kl(d,y[U],k,M);return this}function Af(d,y){for(var k in d[gi]){var M=k.split(/\d/)[0];(!y||y(M))&&Kl(d,M,null,null,k)}}var Po={mouseenter:"mouseover",mouseleave:"mouseout",wheel:!("onwheel"in window)&&"mousewheel"};function yi(d,y,k,M){var R=y+u(k)+(M?"_"+u(M):"");if(d[gi]&&d[gi][R])return this;var U=function(ce){return k.call(M||d,ce||window.event)},ee=U;!Fe.touchNative&&Fe.pointer&&y.indexOf("touch")===0?U=mx(d,y,U):Fe.touch&&y==="dblclick"?U=jp(d,U):"addEventListener"in d?y==="touchstart"||y==="touchmove"||y==="wheel"||y==="mousewheel"?d.addEventListener(Po[y]||y,U,Fe.passiveEvents?{passive:!1}:!1):y==="mouseenter"||y==="mouseleave"?(U=function(ce){ce=ce||window.event,va(d,ce)&&ee(ce)},d.addEventListener(Po[y],U,!1)):d.addEventListener(y,ee,!1):d.attachEvent("on"+y,U),d[gi]=d[gi]||{},d[gi][R]=U}function Kl(d,y,k,M,R){R=R||y+u(k)+(M?"_"+u(M):"");var U=d[gi]&&d[gi][R];if(!U)return this;!Fe.touchNative&&Fe.pointer&&y.indexOf("touch")===0?Tp(d,y,U):Fe.touch&&y==="dblclick"?Co(d,U):"removeEventListener"in d?d.removeEventListener(Po[y]||y,U,!1):d.detachEvent("on"+y,U),d[gi][R]=null}function bi(d){return d.stopPropagation?d.stopPropagation():d.originalEvent?d.originalEvent._stopped=!0:d.cancelBubble=!0,this}function Fi(d){return yi(d,"wheel",bi),this}function Do(d){return tt(d,"mousedown touchstart dblclick contextmenu",bi),d._leaflet_disable_click=!0,this}function pn(d){return d.preventDefault?d.preventDefault():d.returnValue=!1,this}function Va(d){return pn(d),bi(d),this}function Wl(d){if(d.composedPath)return d.composedPath();for(var y=[],k=d.target;k;)y.push(k),k=k.parentNode;return y}function Vl(d,y){if(!y)return new re(d.clientX,d.clientY);var k=Yl(y),M=k.boundingClientRect;return new re((d.clientX-M.left)/k.x-y.clientLeft,(d.clientY-M.top)/k.y-y.clientTop)}var Np=Fe.linux&&Fe.chrome?window.devicePixelRatio:Fe.mac?window.devicePixelRatio*3:window.devicePixelRatio>0?2*window.devicePixelRatio:1;function cr(d){return Fe.edge?d.wheelDeltaY/2:d.deltaY&&d.deltaMode===0?-d.deltaY/Np:d.deltaY&&d.deltaMode===1?-d.deltaY*20:d.deltaY&&d.deltaMode===2?-d.deltaY*60:d.deltaX||d.deltaZ?0:d.wheelDelta?(d.wheelDeltaY||d.wheelDelta)/2:d.detail&&Math.abs(d.detail)<32765?-d.detail*20:d.detail?d.detail/-32765*60:0}function va(d,y){var k=y.relatedTarget;if(!k)return!0;try{for(;k&&k!==d;)k=k.parentNode}catch{return!1}return k!==d}var mu={__proto__:null,on:tt,off:Nt,stopPropagation:bi,disableScrollPropagation:Fi,disableClickPropagation:Do,preventDefault:pn,stop:Va,getPropagationPath:Wl,getMousePosition:Vl,getWheelDelta:cr,isExternalTarget:va,addListener:tt,removeListener:Nt},Bs=Z.extend({run:function(d,y,k,M){this.stop(),this._el=d,this._inProgress=!0,this._duration=k||.25,this._easeOutPower=1/Math.max(M||.5,.2),this._startPos=Wa(d),this._offset=y.subtract(this._startPos),this._startTime=+new Date,this.fire("start"),this._animate()},stop:function(){this._inProgress&&(this._step(!0),this._complete())},_animate:function(){this._animId=F(this._animate,this),this._step()},_step:function(d){var y=+new Date-this._startTime,k=this._duration*1e3;y<k?this._runFrame(this._easeOut(y/k),d):(this._runFrame(1),this._complete())},_runFrame:function(d,y){var k=this._startPos.add(this._offset.multiplyBy(d));y&&k._round(),Ut(this._el,k),this.fire("step")},_complete:function(){z(this._animId),this._inProgress=!1,this.fire("end")},_easeOut:function(d){return 1-Math.pow(1-d,this._easeOutPower)}}),ht=Z.extend({options:{crs:Ze,center:void 0,zoom:void 0,minZoom:void 0,maxZoom:void 0,layers:[],maxBounds:void 0,renderer:void 0,zoomAnimation:!0,zoomAnimationThreshold:4,fadeAnimation:!0,markerZoomAnimation:!0,transform3DLimit:8388608,zoomSnap:1,zoomDelta:1,trackResize:!0},initialize:function(d,y){y=w(this,y),this._handlers=[],this._layers={},this._zoomBoundLayers={},this._sizeChanged=!0,this._initContainer(d),this._initLayout(),this._onResize=o(this._onResize,this),this._initEvents(),y.maxBounds&&this.setMaxBounds(y.maxBounds),y.zoom!==void 0&&(this._zoom=this._limitZoom(y.zoom)),y.center&&y.zoom!==void 0&&this.setView(me(y.center),y.zoom,{reset:!0}),this.callInitHooks(),this._zoomAnimated=Hl&&Fe.any3d&&!Fe.mobileOpera&&this.options.zoomAnimation,this._zoomAnimated&&(this._createAnimProxy(),tt(this._proxy,xf,this._catchTransitionEnd,this)),this._addLayers(this.options.layers)},setView:function(d,y,k){if(y=y===void 0?this._zoom:this._limitZoom(y),d=this._limitCenter(me(d),y,this.options.maxBounds),k=k||{},this._stop(),this._loaded&&!k.reset&&k!==!0){k.animate!==void 0&&(k.zoom=i({animate:k.animate},k.zoom),k.pan=i({animate:k.animate,duration:k.duration},k.pan));var M=this._zoom!==y?this._tryAnimatedZoom&&this._tryAnimatedZoom(d,y,k.zoom):this._tryAnimatedPan(d,k.pan);if(M)return clearTimeout(this._sizeTimer),this}return this._resetView(d,y,k.pan&&k.pan.noMoveStart),this},setZoom:function(d,y){return this._loaded?this.setView(this.getCenter(),d,{zoom:y}):(this._zoom=d,this)},zoomIn:function(d,y){return d=d||(Fe.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom+d,y)},zoomOut:function(d,y){return d=d||(Fe.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom-d,y)},setZoomAround:function(d,y,k){var M=this.getZoomScale(y),R=this.getSize().divideBy(2),U=d instanceof re?d:this.latLngToContainerPoint(d),ee=U.subtract(R).multiplyBy(1-1/M),ce=this.containerPointToLatLng(R.add(ee));return this.setView(ce,y,{zoom:k})},_getBoundsCenterZoom:function(d,y){y=y||{},d=d.getBounds?d.getBounds():V(d);var k=se(y.paddingTopLeft||y.padding||[0,0]),M=se(y.paddingBottomRight||y.padding||[0,0]),R=this.getBoundsZoom(d,!1,k.add(M));if(R=typeof y.maxZoom=="number"?Math.min(y.maxZoom,R):R,R===1/0)return{center:d.getCenter(),zoom:R};var U=M.subtract(k).divideBy(2),ee=this.project(d.getSouthWest(),R),ce=this.project(d.getNorthEast(),R),ge=this.unproject(ee.add(ce).divideBy(2).add(U),R);return{center:ge,zoom:R}},fitBounds:function(d,y){if(d=V(d),!d.isValid())throw new Error("Bounds are not valid.");var k=this._getBoundsCenterZoom(d,y);return this.setView(k.center,k.zoom,y)},fitWorld:function(d){return this.fitBounds([[-90,-180],[90,180]],d)},panTo:function(d,y){return this.setView(d,this._zoom,{pan:y})},panBy:function(d,y){if(d=se(d).round(),y=y||{},!d.x&&!d.y)return this.fire("moveend");if(y.animate!==!0&&!this.getSize().contains(d))return this._resetView(this.unproject(this.project(this.getCenter()).add(d)),this.getZoom()),this;if(this._panAnim||(this._panAnim=new Bs,this._panAnim.on({step:this._onPanTransitionStep,end:this._onPanTransitionEnd},this)),y.noMoveStart||this.fire("movestart"),y.animate!==!1){nt(this._mapPane,"leaflet-pan-anim");var k=this._getMapPanePos().subtract(d).round();this._panAnim.run(this._mapPane,k,y.duration||.25,y.easeLinearity)}else this._rawPanBy(d),this.fire("move").fire("moveend");return this},flyTo:function(d,y,k){if(k=k||{},k.animate===!1||!Fe.any3d)return this.setView(d,y,k);this._stop();var M=this.project(this.getCenter()),R=this.project(d),U=this.getSize(),ee=this._zoom;d=me(d),y=y===void 0?ee:y;var ce=Math.max(U.x,U.y),ge=ce*this.getZoomScale(ee,y),Ae=R.distanceTo(M)||1,Re=1.42,qe=Re*Re;function ot(ln){var Sa=ln?-1:1,$o=ln?ge:ce,Uf=ge*ge-ce*ce+Sa*qe*qe*Ae*Ae,dc=2*$o*qe*Ae,fc=Uf/dc,io=Math.sqrt(fc*fc+1)-fc,Ea=io<1e-9?-18:Math.log(io);return Ea}function $n(ln){return(Math.exp(ln)-Math.exp(-ln))/2}function gn(ln){return(Math.exp(ln)+Math.exp(-ln))/2}function Nr(ln){return $n(ln)/gn(ln)}var _t=ot(0);function wt(ln){return ce*(gn(_t)/gn(_t+Re*ln))}function ut(ln){return ce*(gn(_t)*Nr(_t+Re*ln)-$n(_t))/qe}function no(ln){return 1-Math.pow(1-ln,1.5)}var Wr=Date.now(),Ou=(ot(1)-_t)/Re,ro=k.duration?1e3*k.duration:1e3*Ou*.8;function zf(){var ln=(Date.now()-Wr)/ro,Sa=no(ln)*Ou;ln<=1?(this._flyToFrame=F(zf,this),this._move(this.unproject(M.add(R.subtract(M).multiplyBy(ut(Sa)/Ae)),ee),this.getScaleZoom(ce/wt(Sa),ee),{flyTo:!0})):this._move(d,y)._moveEnd(!0)}return this._moveStart(!0,k.noMoveStart),zf.call(this),this},flyToBounds:function(d,y){var k=this._getBoundsCenterZoom(d,y);return this.flyTo(k.center,k.zoom,y)},setMaxBounds:function(d){return d=V(d),this.listens("moveend",this._panInsideMaxBounds)&&this.off("moveend",this._panInsideMaxBounds),d.isValid()?(this.options.maxBounds=d,this._loaded&&this._panInsideMaxBounds(),this.on("moveend",this._panInsideMaxBounds)):(this.options.maxBounds=null,this)},setMinZoom:function(d){var y=this.options.minZoom;return this.options.minZoom=d,this._loaded&&y!==d&&(this.fire("zoomlevelschange"),this.getZoom()<this.options.minZoom)?this.setZoom(d):this},setMaxZoom:function(d){var y=this.options.maxZoom;return this.options.maxZoom=d,this._loaded&&y!==d&&(this.fire("zoomlevelschange"),this.getZoom()>this.options.maxZoom)?this.setZoom(d):this},panInsideBounds:function(d,y){this._enforcingBounds=!0;var k=this.getCenter(),M=this._limitCenter(k,this._zoom,V(d));return k.equals(M)||this.panTo(M,y),this._enforcingBounds=!1,this},panInside:function(d,y){y=y||{};var k=se(y.paddingTopLeft||y.padding||[0,0]),M=se(y.paddingBottomRight||y.padding||[0,0]),R=this.project(this.getCenter()),U=this.project(d),ee=this.getPixelBounds(),ce=W([ee.min.add(k),ee.max.subtract(M)]),ge=ce.getSize();if(!ce.contains(U)){this._enforcingBounds=!0;var Ae=U.subtract(ce.getCenter()),Re=ce.extend(U).getSize().subtract(ge);R.x+=Ae.x<0?-Re.x:Re.x,R.y+=Ae.y<0?-Re.y:Re.y,this.panTo(this.unproject(R),y),this._enforcingBounds=!1}return this},invalidateSize:function(d){if(!this._loaded)return this;d=i({animate:!1,pan:!0},d===!0?{animate:!0}:d);var y=this.getSize();this._sizeChanged=!0,this._lastCenter=null;var k=this.getSize(),M=y.divideBy(2).round(),R=k.divideBy(2).round(),U=M.subtract(R);return!U.x&&!U.y?this:(d.animate&&d.pan?this.panBy(U):(d.pan&&this._rawPanBy(U),this.fire("move"),d.debounceMoveend?(clearTimeout(this._sizeTimer),this._sizeTimer=setTimeout(o(this.fire,this,"moveend"),200)):this.fire("moveend")),this.fire("resize",{oldSize:y,newSize:k}))},stop:function(){return this.setZoom(this._limitZoom(this._zoom)),this.options.zoomSnap||this.fire("viewreset"),this._stop()},locate:function(d){if(d=this._locateOptions=i({timeout:1e4,watch:!1},d),!("geolocation"in navigator))return this._handleGeolocationError({code:0,message:"Geolocation not supported."}),this;var y=o(this._handleGeolocationResponse,this),k=o(this._handleGeolocationError,this);return d.watch?this._locationWatchId=navigator.geolocation.watchPosition(y,k,d):navigator.geolocation.getCurrentPosition(y,k,d),this},stopLocate:function(){return navigator.geolocation&&navigator.geolocation.clearWatch&&navigator.geolocation.clearWatch(this._locationWatchId),this._locateOptions&&(this._locateOptions.setView=!1),this},_handleGeolocationError:function(d){if(this._container._leaflet_id){var y=d.code,k=d.message||(y===1?"permission denied":y===2?"position unavailable":"timeout");this._locateOptions.setView&&!this._loaded&&this.fitWorld(),this.fire("locationerror",{code:y,message:"Geolocation error: "+k+"."})}},_handleGeolocationResponse:function(d){if(this._container._leaflet_id){var y=d.coords.latitude,k=d.coords.longitude,M=new oe(y,k),R=M.toBounds(d.coords.accuracy*2),U=this._locateOptions;if(U.setView){var ee=this.getBoundsZoom(R);this.setView(M,U.maxZoom?Math.min(ee,U.maxZoom):ee)}var ce={latlng:M,bounds:R,timestamp:d.timestamp};for(var ge in d.coords)typeof d.coords[ge]=="number"&&(ce[ge]=d.coords[ge]);this.fire("locationfound",ce)}},addHandler:function(d,y){if(!y)return this;var k=this[d]=new y(this);return this._handlers.push(k),this.options[d]&&k.enable(),this},remove:function(){if(this._initEvents(!0),this.options.maxBounds&&this.off("moveend",this._panInsideMaxBounds),this._containerId!==this._container._leaflet_id)throw new Error("Map container is being reused by another instance");try{delete this._container._leaflet_id,delete this._containerId}catch{this._container._leaflet_id=void 0,this._containerId=void 0}this._locationWatchId!==void 0&&this.stopLocate(),this._stop(),It(this._mapPane),this._clearControlPos&&this._clearControlPos(),this._resizeRequest&&(z(this._resizeRequest),this._resizeRequest=null),this._clearHandlers(),this._loaded&&this.fire("unload");var d;for(d in this._layers)this._layers[d].remove();for(d in this._panes)It(this._panes[d]);return this._layers=[],this._panes=[],delete this._mapPane,delete this._renderer,this},createPane:function(d,y){var k="leaflet-pane"+(d?" leaflet-"+d.replace("Pane","")+"-pane":""),M=ct("div",k,y||this._mapPane);return d&&(this._panes[d]=M),M},getCenter:function(){return this._checkIfLoaded(),this._lastCenter&&!this._moved()?this._lastCenter.clone():this.layerPointToLatLng(this._getCenterLayerPoint())},getZoom:function(){return this._zoom},getBounds:function(){var d=this.getPixelBounds(),y=this.unproject(d.getBottomLeft()),k=this.unproject(d.getTopRight());return new ae(y,k)},getMinZoom:function(){return this.options.minZoom===void 0?this._layersMinZoom||0:this.options.minZoom},getMaxZoom:function(){return this.options.maxZoom===void 0?this._layersMaxZoom===void 0?1/0:this._layersMaxZoom:this.options.maxZoom},getBoundsZoom:function(d,y,k){d=V(d),k=se(k||[0,0]);var M=this.getZoom()||0,R=this.getMinZoom(),U=this.getMaxZoom(),ee=d.getNorthWest(),ce=d.getSouthEast(),ge=this.getSize().subtract(k),Ae=W(this.project(ce,M),this.project(ee,M)).getSize(),Re=Fe.any3d?this.options.zoomSnap:1,qe=ge.x/Ae.x,ot=ge.y/Ae.y,$n=y?Math.max(qe,ot):Math.min(qe,ot);return M=this.getScaleZoom($n,M),Re&&(M=Math.round(M/(Re/100))*(Re/100),M=y?Math.ceil(M/Re)*Re:Math.floor(M/Re)*Re),Math.max(R,Math.min(U,M))},getSize:function(){return(!this._size||this._sizeChanged)&&(this._size=new re(this._container.clientWidth||0,this._container.clientHeight||0),this._sizeChanged=!1),this._size.clone()},getPixelBounds:function(d,y){var k=this._getTopLeftPoint(d,y);return new B(k,k.add(this.getSize()))},getPixelOrigin:function(){return this._checkIfLoaded(),this._pixelOrigin},getPixelWorldBounds:function(d){return this.options.crs.getProjectedBounds(d===void 0?this.getZoom():d)},getPane:function(d){return typeof d=="string"?this._panes[d]:d},getPanes:function(){return this._panes},getContainer:function(){return this._container},getZoomScale:function(d,y){var k=this.options.crs;return y=y===void 0?this._zoom:y,k.scale(d)/k.scale(y)},getScaleZoom:function(d,y){var k=this.options.crs;y=y===void 0?this._zoom:y;var M=k.zoom(d*k.scale(y));return isNaN(M)?1/0:M},project:function(d,y){return y=y===void 0?this._zoom:y,this.options.crs.latLngToPoint(me(d),y)},unproject:function(d,y){return y=y===void 0?this._zoom:y,this.options.crs.pointToLatLng(se(d),y)},layerPointToLatLng:function(d){var y=se(d).add(this.getPixelOrigin());return this.unproject(y)},latLngToLayerPoint:function(d){var y=this.project(me(d))._round();return y._subtract(this.getPixelOrigin())},wrapLatLng:function(d){return this.options.crs.wrapLatLng(me(d))},wrapLatLngBounds:function(d){return this.options.crs.wrapLatLngBounds(V(d))},distance:function(d,y){return this.options.crs.distance(me(d),me(y))},containerPointToLayerPoint:function(d){return se(d).subtract(this._getMapPanePos())},layerPointToContainerPoint:function(d){return se(d).add(this._getMapPanePos())},containerPointToLatLng:function(d){var y=this.containerPointToLayerPoint(se(d));return this.layerPointToLatLng(y)},latLngToContainerPoint:function(d){return this.layerPointToContainerPoint(this.latLngToLayerPoint(me(d)))},mouseEventToContainerPoint:function(d){return Vl(d,this._container)},mouseEventToLayerPoint:function(d){return this.containerPointToLayerPoint(this.mouseEventToContainerPoint(d))},mouseEventToLatLng:function(d){return this.layerPointToLatLng(this.mouseEventToLayerPoint(d))},_initContainer:function(d){var y=this._container=_f(d);if(y){if(y._leaflet_id)throw new Error("Map container is already initialized.")}else throw new Error("Map container not found.");tt(y,"scroll",this._onScroll,this),this._containerId=u(y)},_initLayout:function(){var d=this._container;this._fadeAnimated=this.options.fadeAnimation&&Fe.any3d,nt(d,"leaflet-container"+(Fe.touch?" leaflet-touch":"")+(Fe.retina?" leaflet-retina":"")+(Fe.ielt9?" leaflet-oldie":"")+(Fe.safari?" leaflet-safari":"")+(this._fadeAnimated?" leaflet-fade-anim":""));var y=Fl(d,"position");y!=="absolute"&&y!=="relative"&&y!=="fixed"&&y!=="sticky"&&(d.style.position="relative"),this._initPanes(),this._initControlPos&&this._initControlPos()},_initPanes:function(){var d=this._panes={};this._paneRenderers={},this._mapPane=this.createPane("mapPane",this._container),Ut(this._mapPane,new re(0,0)),this.createPane("tilePane"),this.createPane("overlayPane"),this.createPane("shadowPane"),this.createPane("markerPane"),this.createPane("tooltipPane"),this.createPane("popupPane"),this.options.markerZoomAnimation||(nt(d.markerPane,"leaflet-zoom-hide"),nt(d.shadowPane,"leaflet-zoom-hide"))},_resetView:function(d,y,k){Ut(this._mapPane,new re(0,0));var M=!this._loaded;this._loaded=!0,y=this._limitZoom(y),this.fire("viewprereset");var R=this._zoom!==y;this._moveStart(R,k)._move(d,y)._moveEnd(R),this.fire("viewreset"),M&&this.fire("load")},_moveStart:function(d,y){return d&&this.fire("zoomstart"),y||this.fire("movestart"),this},_move:function(d,y,k,M){y===void 0&&(y=this._zoom);var R=this._zoom!==y;return this._zoom=y,this._lastCenter=d,this._pixelOrigin=this._getNewPixelOrigin(d),M?k&&k.pinch&&this.fire("zoom",k):((R||k&&k.pinch)&&this.fire("zoom",k),this.fire("move",k)),this},_moveEnd:function(d){return d&&this.fire("zoomend"),this.fire("moveend")},_stop:function(){return z(this._flyToFrame),this._panAnim&&this._panAnim.stop(),this},_rawPanBy:function(d){Ut(this._mapPane,this._getMapPanePos().subtract(d))},_getZoomSpan:function(){return this.getMaxZoom()-this.getMinZoom()},_panInsideMaxBounds:function(){this._enforcingBounds||this.panInsideBounds(this.options.maxBounds)},_checkIfLoaded:function(){if(!this._loaded)throw new Error("Set map center and zoom first.")},_initEvents:function(d){this._targets={},this._targets[u(this._container)]=this;var y=d?Nt:tt;y(this._container,"click dblclick mousedown mouseup mouseover mouseout mousemove contextmenu keypress keydown keyup",this._handleDOMEvent,this),this.options.trackResize&&y(window,"resize",this._onResize,this),Fe.any3d&&this.options.transform3DLimit&&(d?this.off:this.on).call(this,"moveend",this._onMoveEnd)},_onResize:function(){z(this._resizeRequest),this._resizeRequest=F(function(){this.invalidateSize({debounceMoveend:!0})},this)},_onScroll:function(){this._container.scrollTop=0,this._container.scrollLeft=0},_onMoveEnd:function(){var d=this._getMapPanePos();Math.max(Math.abs(d.x),Math.abs(d.y))>=this.options.transform3DLimit&&this._resetView(this.getCenter(),this.getZoom())},_findEventTargets:function(d,y){for(var k=[],M,R=y==="mouseout"||y==="mouseover",U=d.target||d.srcElement,ee=!1;U;){if(M=this._targets[u(U)],M&&(y==="click"||y==="preclick")&&this._draggableMoved(M)){ee=!0;break}if(M&&M.listens(y,!0)&&(R&&!va(U,d)||(k.push(M),R))||U===this._container)break;U=U.parentNode}return!k.length&&!ee&&!R&&this.listens(y,!0)&&(k=[this]),k},_isClickDisabled:function(d){for(;d&&d!==this._container;){if(d._leaflet_disable_click)return!0;d=d.parentNode}},_handleDOMEvent:function(d){var y=d.target||d.srcElement;if(!(!this._loaded||y._leaflet_disable_events||d.type==="click"&&this._isClickDisabled(y))){var k=d.type;k==="mousedown"&&Is(y),this._fireDOMEvent(d,k)}},_mouseEvents:["click","dblclick","mouseover","mouseout","contextmenu"],_fireDOMEvent:function(d,y,k){if(d.type==="click"){var M=i({},d);M.type="preclick",this._fireDOMEvent(M,M.type,k)}var R=this._findEventTargets(d,y);if(k){for(var U=[],ee=0;ee<k.length;ee++)k[ee].listens(y,!0)&&U.push(k[ee]);R=U.concat(R)}if(R.length){y==="contextmenu"&&pn(d);var ce=R[0],ge={originalEvent:d};if(d.type!=="keypress"&&d.type!=="keydown"&&d.type!=="keyup"){var Ae=ce.getLatLng&&(!ce._radius||ce._radius<=10);ge.containerPoint=Ae?this.latLngToContainerPoint(ce.getLatLng()):this.mouseEventToContainerPoint(d),ge.layerPoint=this.containerPointToLayerPoint(ge.containerPoint),ge.latlng=Ae?ce.getLatLng():this.layerPointToLatLng(ge.layerPoint)}for(ee=0;ee<R.length;ee++)if(R[ee].fire(y,ge,!0),ge.originalEvent._stopped||R[ee].options.bubblingMouseEvents===!1&&P(this._mouseEvents,y)!==-1)return}},_draggableMoved:function(d){return d=d.dragging&&d.dragging.enabled()?d:this,d.dragging&&d.dragging.moved()||this.boxZoom&&this.boxZoom.moved()},_clearHandlers:function(){for(var d=0,y=this._handlers.length;d<y;d++)this._handlers[d].disable()},whenReady:function(d,y){return this._loaded?d.call(y||this,{target:this}):this.on("load",d,y),this},_getMapPanePos:function(){return Wa(this._mapPane)||new re(0,0)},_moved:function(){var d=this._getMapPanePos();return d&&!d.equals([0,0])},_getTopLeftPoint:function(d,y){var k=d&&y!==void 0?this._getNewPixelOrigin(d,y):this.getPixelOrigin();return k.subtract(this._getMapPanePos())},_getNewPixelOrigin:function(d,y){var k=this.getSize()._divideBy(2);return this.project(d,y)._subtract(k)._add(this._getMapPanePos())._round()},_latLngToNewLayerPoint:function(d,y,k){var M=this._getNewPixelOrigin(k,y);return this.project(d,y)._subtract(M)},_latLngBoundsToNewLayerBounds:function(d,y,k){var M=this._getNewPixelOrigin(k,y);return W([this.project(d.getSouthWest(),y)._subtract(M),this.project(d.getNorthWest(),y)._subtract(M),this.project(d.getSouthEast(),y)._subtract(M),this.project(d.getNorthEast(),y)._subtract(M)])},_getCenterLayerPoint:function(){return this.containerPointToLayerPoint(this.getSize()._divideBy(2))},_getCenterOffset:function(d){return this.latLngToLayerPoint(d).subtract(this._getCenterLayerPoint())},_limitCenter:function(d,y,k){if(!k)return d;var M=this.project(d,y),R=this.getSize().divideBy(2),U=new B(M.subtract(R),M.add(R)),ee=this._getBoundsOffset(U,k,y);return Math.abs(ee.x)<=1&&Math.abs(ee.y)<=1?d:this.unproject(M.add(ee),y)},_limitOffset:function(d,y){if(!y)return d;var k=this.getPixelBounds(),M=new B(k.min.add(d),k.max.add(d));return d.add(this._getBoundsOffset(M,y))},_getBoundsOffset:function(d,y,k){var M=W(this.project(y.getNorthEast(),k),this.project(y.getSouthWest(),k)),R=M.min.subtract(d.min),U=M.max.subtract(d.max),ee=this._rebound(R.x,-U.x),ce=this._rebound(R.y,-U.y);return new re(ee,ce)},_rebound:function(d,y){return d+y>0?Math.round(d-y)/2:Math.max(0,Math.ceil(d))-Math.max(0,Math.floor(y))},_limitZoom:function(d){var y=this.getMinZoom(),k=this.getMaxZoom(),M=Fe.any3d?this.options.zoomSnap:1;return M&&(d=Math.round(d/M)*M),Math.max(y,Math.min(k,d))},_onPanTransitionStep:function(){this.fire("move")},_onPanTransitionEnd:function(){en(this._mapPane,"leaflet-pan-anim"),this.fire("moveend")},_tryAnimatedPan:function(d,y){var k=this._getCenterOffset(d)._trunc();return(y&&y.animate)!==!0&&!this.getSize().contains(k)?!1:(this.panBy(k,y),!0)},_createAnimProxy:function(){var d=this._proxy=ct("div","leaflet-proxy leaflet-zoom-animated");this._panes.mapPane.appendChild(d),this.on("zoomanim",function(y){var k=Ka,M=this._proxy.style[k];ba(this._proxy,this.project(y.center,y.zoom),this.getZoomScale(y.zoom,1)),M===this._proxy.style[k]&&this._animatingZoom&&this._onZoomTransitionEnd()},this),this.on("load moveend",this._animMoveEnd,this),this._on("unload",this._destroyAnimProxy,this)},_destroyAnimProxy:function(){It(this._proxy),this.off("load moveend",this._animMoveEnd,this),delete this._proxy},_animMoveEnd:function(){var d=this.getCenter(),y=this.getZoom();ba(this._proxy,this.project(d,y),this.getZoomScale(y,1))},_catchTransitionEnd:function(d){this._animatingZoom&&d.propertyName.indexOf("transform")>=0&&this._onZoomTransitionEnd()},_nothingToAnimate:function(){return!this._container.getElementsByClassName("leaflet-zoom-animated").length},_tryAnimatedZoom:function(d,y,k){if(this._animatingZoom)return!0;if(k=k||{},!this._zoomAnimated||k.animate===!1||this._nothingToAnimate()||Math.abs(y-this._zoom)>this.options.zoomAnimationThreshold)return!1;var M=this.getZoomScale(y),R=this._getCenterOffset(d)._divideBy(1-1/M);return k.animate!==!0&&!this.getSize().contains(R)?!1:(F(function(){this._moveStart(!0,k.noMoveStart||!1)._animateZoom(d,y,!0)},this),!0)},_animateZoom:function(d,y,k,M){this._mapPane&&(k&&(this._animatingZoom=!0,this._animateToCenter=d,this._animateToZoom=y,nt(this._mapPane,"leaflet-zoom-anim")),this.fire("zoomanim",{center:d,zoom:y,noUpdate:M}),this._tempFireZoomEvent||(this._tempFireZoomEvent=this._zoom!==this._animateToZoom),this._move(this._animateToCenter,this._animateToZoom,void 0,!0),setTimeout(o(this._onZoomTransitionEnd,this),250))},_onZoomTransitionEnd:function(){this._animatingZoom&&(this._mapPane&&en(this._mapPane,"leaflet-zoom-anim"),this._animatingZoom=!1,this._move(this._animateToCenter,this._animateToZoom,void 0,!0),this._tempFireZoomEvent&&this.fire("zoom"),delete this._tempFireZoomEvent,this.fire("move"),this._moveEnd(!0))}});function Tf(d,y){return new ht(d,y)}var jr=Q.extend({options:{position:"topright"},initialize:function(d){w(this,d)},getPosition:function(){return this.options.position},setPosition:function(d){var y=this._map;return y&&y.removeControl(this),this.options.position=d,y&&y.addControl(this),this},getContainer:function(){return this._container},addTo:function(d){this.remove(),this._map=d;var y=this._container=this.onAdd(d),k=this.getPosition(),M=d._controlCorners[k];return nt(y,"leaflet-control"),k.indexOf("bottom")!==-1?M.insertBefore(y,M.firstChild):M.appendChild(y),this._map.on("unload",this.remove,this),this},remove:function(){return this._map?(It(this._container),this.onRemove&&this.onRemove(this._map),this._map.off("unload",this.remove,this),this._map=null,this):this},_refocusOnMap:function(d){this._map&&d&&d.screenX>0&&d.screenY>0&&this._map.getContainer().focus()}}),xa=function(d){return new jr(d)};ht.include({addControl:function(d){return d.addTo(this),this},removeControl:function(d){return d.remove(),this},_initControlPos:function(){var d=this._controlCorners={},y="leaflet-",k=this._controlContainer=ct("div",y+"control-container",this._container);function M(R,U){var ee=y+R+" "+y+U;d[R+U]=ct("div",ee,k)}M("top","left"),M("top","right"),M("bottom","left"),M("bottom","right")},_clearControlPos:function(){for(var d in this._controlCorners)It(this._controlCorners[d]);It(this._controlContainer),delete this._controlCorners,delete this._controlContainer}});var Zl=jr.extend({options:{collapsed:!0,position:"topright",autoZIndex:!0,hideSingleBase:!1,sortLayers:!1,sortFunction:function(d,y,k,M){return k<M?-1:M<k?1:0}},initialize:function(d,y,k){w(this,k),this._layerControlInputs=[],this._layers=[],this._lastZIndex=0,this._handlingClick=!1,this._preventClick=!1;for(var M in d)this._addLayer(d[M],M);for(M in y)this._addLayer(y[M],M,!0)},onAdd:function(d){this._initLayout(),this._update(),this._map=d,d.on("zoomend",this._checkDisabledLayers,this);for(var y=0;y<this._layers.length;y++)this._layers[y].layer.on("add remove",this._onLayerChange,this);return this._container},addTo:function(d){return jr.prototype.addTo.call(this,d),this._expandIfNotCollapsed()},onRemove:function(){this._map.off("zoomend",this._checkDisabledLayers,this);for(var d=0;d<this._layers.length;d++)this._layers[d].layer.off("add remove",this._onLayerChange,this)},addBaseLayer:function(d,y){return this._addLayer(d,y),this._map?this._update():this},addOverlay:function(d,y){return this._addLayer(d,y,!0),this._map?this._update():this},removeLayer:function(d){d.off("add remove",this._onLayerChange,this);var y=this._getLayer(u(d));return y&&this._layers.splice(this._layers.indexOf(y),1),this._map?this._update():this},expand:function(){nt(this._container,"leaflet-control-layers-expanded"),this._section.style.height=null;var d=this._map.getSize().y-(this._container.offsetTop+50);return d<this._section.clientHeight?(nt(this._section,"leaflet-control-layers-scrollbar"),this._section.style.height=d+"px"):en(this._section,"leaflet-control-layers-scrollbar"),this._checkDisabledLayers(),this},collapse:function(){return en(this._container,"leaflet-control-layers-expanded"),this},_initLayout:function(){var d="leaflet-control-layers",y=this._container=ct("div",d),k=this.options.collapsed;y.setAttribute("aria-haspopup",!0),Do(y),Fi(y);var M=this._section=ct("section",d+"-list");k&&(this._map.on("click",this.collapse,this),tt(y,{mouseenter:this._expandSafely,mouseleave:this.collapse},this));var R=this._layersLink=ct("a",d+"-toggle",y);R.href="#",R.title="Layers",R.setAttribute("role","button"),tt(R,{keydown:function(U){U.keyCode===13&&this._expandSafely()},click:function(U){pn(U),this._expandSafely()}},this),k||this.expand(),this._baseLayersList=ct("div",d+"-base",M),this._separator=ct("div",d+"-separator",M),this._overlaysList=ct("div",d+"-overlays",M),y.appendChild(M)},_getLayer:function(d){for(var y=0;y<this._layers.length;y++)if(this._layers[y]&&u(this._layers[y].layer)===d)return this._layers[y]},_addLayer:function(d,y,k){this._map&&d.on("add remove",this._onLayerChange,this),this._layers.push({layer:d,name:y,overlay:k}),this.options.sortLayers&&this._layers.sort(o(function(M,R){return this.options.sortFunction(M.layer,R.layer,M.name,R.name)},this)),this.options.autoZIndex&&d.setZIndex&&(this._lastZIndex++,d.setZIndex(this._lastZIndex)),this._expandIfNotCollapsed()},_update:function(){if(!this._container)return this;Fr(this._baseLayersList),Fr(this._overlaysList),this._layerControlInputs=[];var d,y,k,M,R=0;for(k=0;k<this._layers.length;k++)M=this._layers[k],this._addItem(M),y=y||M.overlay,d=d||!M.overlay,R+=M.overlay?0:1;return this.options.hideSingleBase&&(d=d&&R>1,this._baseLayersList.style.display=d?"":"none"),this._separator.style.display=y&&d?"":"none",this},_onLayerChange:function(d){this._handlingClick||this._update();var y=this._getLayer(u(d.target)),k=y.overlay?d.type==="add"?"overlayadd":"overlayremove":d.type==="add"?"baselayerchange":null;k&&this._map.fire(k,y)},_createRadioElement:function(d,y){var k='<input type="radio" class="leaflet-control-layers-selector" name="'+d+'"'+(y?' checked="checked"':"")+"/>",M=document.createElement("div");return M.innerHTML=k,M.firstChild},_addItem:function(d){var y=document.createElement("label"),k=this._map.hasLayer(d.layer),M;d.overlay?(M=document.createElement("input"),M.type="checkbox",M.className="leaflet-control-layers-selector",M.defaultChecked=k):M=this._createRadioElement("leaflet-base-layers_"+u(this),k),this._layerControlInputs.push(M),M.layerId=u(d.layer),tt(M,"click",this._onInputClick,this);var R=document.createElement("span");R.innerHTML=" "+d.name;var U=document.createElement("span");y.appendChild(U),U.appendChild(M),U.appendChild(R);var ee=d.overlay?this._overlaysList:this._baseLayersList;return ee.appendChild(y),this._checkDisabledLayers(),y},_onInputClick:function(){if(!this._preventClick){var d=this._layerControlInputs,y,k,M=[],R=[];this._handlingClick=!0;for(var U=d.length-1;U>=0;U--)y=d[U],k=this._getLayer(y.layerId).layer,y.checked?M.push(k):y.checked||R.push(k);for(U=0;U<R.length;U++)this._map.hasLayer(R[U])&&this._map.removeLayer(R[U]);for(U=0;U<M.length;U++)this._map.hasLayer(M[U])||this._map.addLayer(M[U]);this._handlingClick=!1,this._refocusOnMap()}},_checkDisabledLayers:function(){for(var d=this._layerControlInputs,y,k,M=this._map.getZoom(),R=d.length-1;R>=0;R--)y=d[R],k=this._getLayer(y.layerId).layer,y.disabled=k.options.minZoom!==void 0&&M<k.options.minZoom||k.options.maxZoom!==void 0&&M>k.options.maxZoom},_expandIfNotCollapsed:function(){return this._map&&!this.options.collapsed&&this.expand(),this},_expandSafely:function(){var d=this._section;this._preventClick=!0,tt(d,"click",pn),this.expand();var y=this;setTimeout(function(){Nt(d,"click",pn),y._preventClick=!1})}}),Cp=function(d,y,k){return new Zl(d,y,k)},Of=jr.extend({options:{position:"topleft",zoomInText:'<span aria-hidden="true">+</span>',zoomInTitle:"Zoom in",zoomOutText:'<span aria-hidden="true">&#x2212;</span>',zoomOutTitle:"Zoom out"},onAdd:function(d){var y="leaflet-control-zoom",k=ct("div",y+" leaflet-bar"),M=this.options;return this._zoomInButton=this._createButton(M.zoomInText,M.zoomInTitle,y+"-in",k,this._zoomIn),this._zoomOutButton=this._createButton(M.zoomOutText,M.zoomOutTitle,y+"-out",k,this._zoomOut),this._updateDisabled(),d.on("zoomend zoomlevelschange",this._updateDisabled,this),k},onRemove:function(d){d.off("zoomend zoomlevelschange",this._updateDisabled,this)},disable:function(){return this._disabled=!0,this._updateDisabled(),this},enable:function(){return this._disabled=!1,this._updateDisabled(),this},_zoomIn:function(d){!this._disabled&&this._map._zoom<this._map.getMaxZoom()&&this._map.zoomIn(this._map.options.zoomDelta*(d.shiftKey?3:1))},_zoomOut:function(d){!this._disabled&&this._map._zoom>this._map.getMinZoom()&&this._map.zoomOut(this._map.options.zoomDelta*(d.shiftKey?3:1))},_createButton:function(d,y,k,M,R){var U=ct("a",k,M);return U.innerHTML=d,U.href="#",U.title=y,U.setAttribute("role","button"),U.setAttribute("aria-label",y),Do(U),tt(U,"click",Va),tt(U,"click",R,this),tt(U,"click",this._refocusOnMap,this),U},_updateDisabled:function(){var d=this._map,y="leaflet-disabled";en(this._zoomInButton,y),en(this._zoomOutButton,y),this._zoomInButton.setAttribute("aria-disabled","false"),this._zoomOutButton.setAttribute("aria-disabled","false"),(this._disabled||d._zoom===d.getMinZoom())&&(nt(this._zoomOutButton,y),this._zoomOutButton.setAttribute("aria-disabled","true")),(this._disabled||d._zoom===d.getMaxZoom())&&(nt(this._zoomInButton,y),this._zoomInButton.setAttribute("aria-disabled","true"))}});ht.mergeOptions({zoomControl:!0}),ht.addInitHook(function(){this.options.zoomControl&&(this.zoomControl=new Of,this.addControl(this.zoomControl))});var px=function(d){return new Of(d)},Mp=jr.extend({options:{position:"bottomleft",maxWidth:100,metric:!0,imperial:!0},onAdd:function(d){var y="leaflet-control-scale",k=ct("div",y),M=this.options;return this._addScales(M,y+"-line",k),d.on(M.updateWhenIdle?"moveend":"move",this._update,this),d.whenReady(this._update,this),k},onRemove:function(d){d.off(this.options.updateWhenIdle?"moveend":"move",this._update,this)},_addScales:function(d,y,k){d.metric&&(this._mScale=ct("div",y,k)),d.imperial&&(this._iScale=ct("div",y,k))},_update:function(){var d=this._map,y=d.getSize().y/2,k=d.distance(d.containerPointToLatLng([0,y]),d.containerPointToLatLng([this.options.maxWidth,y]));this._updateScales(k)},_updateScales:function(d){this.options.metric&&d&&this._updateMetric(d),this.options.imperial&&d&&this._updateImperial(d)},_updateMetric:function(d){var y=this._getRoundNum(d),k=y<1e3?y+" m":y/1e3+" km";this._updateScale(this._mScale,k,y/d)},_updateImperial:function(d){var y=d*3.2808399,k,M,R;y>5280?(k=y/5280,M=this._getRoundNum(k),this._updateScale(this._iScale,M+" mi",M/k)):(R=this._getRoundNum(y),this._updateScale(this._iScale,R+" ft",R/y))},_updateScale:function(d,y,k){d.style.width=Math.round(this.options.maxWidth*k)+"px",d.innerHTML=y},_getRoundNum:function(d){var y=Math.pow(10,(Math.floor(d)+"").length-1),k=d/y;return k=k>=10?10:k>=5?5:k>=3?3:k>=2?2:1,y*k}}),jf=function(d){return new Mp(d)},gx='<svg aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="12" height="8" viewBox="0 0 12 8" class="leaflet-attribution-flag"><path fill="#4C7BE1" d="M0 0h12v4H0z"/><path fill="#FFD500" d="M0 4h12v3H0z"/><path fill="#E0BC00" d="M0 7h12v1H0z"/></svg>',Nf=jr.extend({options:{position:"bottomright",prefix:'<a href="https://leafletjs.com" title="A JavaScript library for interactive maps">'+(Fe.inlineSvg?gx+" ":"")+"Leaflet</a>"},initialize:function(d){w(this,d),this._attributions={}},onAdd:function(d){d.attributionControl=this,this._container=ct("div","leaflet-control-attribution"),Do(this._container);for(var y in d._layers)d._layers[y].getAttribution&&this.addAttribution(d._layers[y].getAttribution());return this._update(),d.on("layeradd",this._addAttribution,this),this._container},onRemove:function(d){d.off("layeradd",this._addAttribution,this)},_addAttribution:function(d){d.layer.getAttribution&&(this.addAttribution(d.layer.getAttribution()),d.layer.once("remove",function(){this.removeAttribution(d.layer.getAttribution())},this))},setPrefix:function(d){return this.options.prefix=d,this._update(),this},addAttribution:function(d){return d?(this._attributions[d]||(this._attributions[d]=0),this._attributions[d]++,this._update(),this):this},removeAttribution:function(d){return d?(this._attributions[d]&&(this._attributions[d]--,this._update()),this):this},_update:function(){if(this._map){var d=[];for(var y in this._attributions)this._attributions[y]&&d.push(y);var k=[];this.options.prefix&&k.push(this.options.prefix),d.length&&k.push(d.join(", ")),this._container.innerHTML=k.join(' <span aria-hidden="true">|</span> ')}}});ht.mergeOptions({attributionControl:!0}),ht.addInitHook(function(){this.options.attributionControl&&new Nf().addTo(this)});var yx=function(d){return new Nf(d)};jr.Layers=Zl,jr.Zoom=Of,jr.Scale=Mp,jr.Attribution=Nf,xa.layers=Cp,xa.zoom=px,xa.scale=jf,xa.attribution=yx;var Gi=Q.extend({initialize:function(d){this._map=d},enable:function(){return this._enabled?this:(this._enabled=!0,this.addHooks(),this)},disable:function(){return this._enabled?(this._enabled=!1,this.removeHooks(),this):this},enabled:function(){return!!this._enabled}});Gi.addTo=function(d,y){return d.addHandler(y,this),this};var bx={Events:q},Cf=Fe.touch?"touchstart mousedown":"mousedown",Za=Z.extend({options:{clickTolerance:3},initialize:function(d,y,k,M){w(this,M),this._element=d,this._dragStartTarget=y||d,this._preventOutline=k},enable:function(){this._enabled||(tt(this._dragStartTarget,Cf,this._onDown,this),this._enabled=!0)},disable:function(){this._enabled&&(Za._dragging===this&&this.finishDrag(!0),Nt(this._dragStartTarget,Cf,this._onDown,this),this._enabled=!1,this._moved=!1)},_onDown:function(d){if(this._enabled&&(this._moved=!1,!wf(this._element,"leaflet-zoom-anim"))){if(d.touches&&d.touches.length!==1){Za._dragging===this&&this.finishDrag();return}if(!(Za._dragging||d.shiftKey||d.which!==1&&d.button!==1&&!d.touches)&&(Za._dragging=this,this._preventOutline&&Is(this._element),du(),Rs(),!this._moving)){this.fire("down");var y=d.touches?d.touches[0]:d,k=hu(this._element);this._startPoint=new re(y.clientX,y.clientY),this._startPos=Wa(this._element),this._parentScale=Yl(k);var M=d.type==="mousedown";tt(document,M?"mousemove":"touchmove",this._onMove,this),tt(document,M?"mouseup":"touchend touchcancel",this._onUp,this)}}},_onMove:function(d){if(this._enabled){if(d.touches&&d.touches.length>1){this._moved=!0;return}var y=d.touches&&d.touches.length===1?d.touches[0]:d,k=new re(y.clientX,y.clientY)._subtract(this._startPoint);!k.x&&!k.y||Math.abs(k.x)+Math.abs(k.y)<this.options.clickTolerance||(k.x/=this._parentScale.x,k.y/=this._parentScale.y,pn(d),this._moved||(this.fire("dragstart"),this._moved=!0,nt(document.body,"leaflet-dragging"),this._lastTarget=d.target||d.srcElement,window.SVGElementInstance&&this._lastTarget instanceof window.SVGElementInstance&&(this._lastTarget=this._lastTarget.correspondingUseElement),nt(this._lastTarget,"leaflet-drag-target")),this._newPos=this._startPos.add(k),this._moving=!0,this._lastEvent=d,this._updatePosition())}},_updatePosition:function(){var d={originalEvent:this._lastEvent};this.fire("predrag",d),Ut(this._element,this._newPos),this.fire("drag",d)},_onUp:function(){this._enabled&&this.finishDrag()},finishDrag:function(d){en(document.body,"leaflet-dragging"),this._lastTarget&&(en(this._lastTarget,"leaflet-drag-target"),this._lastTarget=null),Nt(document,"mousemove touchmove",this._onMove,this),Nt(document,"mouseup touchend touchcancel",this._onUp,this),ql(),Hi();var y=this._moved&&this._moving;this._moving=!1,Za._dragging=!1,y&&this.fire("dragend",{noInertia:d,distance:this._newPos.distanceTo(this._startPos)})}});function Pp(d,y,k){var M,R=[1,4,2,8],U,ee,ce,ge,Ae,Re,qe,ot;for(U=0,Re=d.length;U<Re;U++)d[U]._code=Ro(d[U],y);for(ce=0;ce<4;ce++){for(qe=R[ce],M=[],U=0,Re=d.length,ee=Re-1;U<Re;ee=U++)ge=d[U],Ae=d[ee],ge._code&qe?Ae._code&qe||(ot=pu(Ae,ge,qe,y,k),ot._code=Ro(ot,y),M.push(ot)):(Ae._code&qe&&(ot=pu(Ae,ge,qe,y,k),ot._code=Ro(ot,y),M.push(ot)),M.push(ge));d=M}return d}function Dp(d,y){var k,M,R,U,ee,ce,ge,Ae,Re;if(!d||d.length===0)throw new Error("latlngs not passed");qr(d)||(console.warn("latlngs are not flat! Only the first ring will be used"),d=d[0]);var qe=me([0,0]),ot=V(d),$n=ot.getNorthWest().distanceTo(ot.getSouthWest())*ot.getNorthEast().distanceTo(ot.getNorthWest());$n<1700&&(qe=Mf(d));var gn=d.length,Nr=[];for(k=0;k<gn;k++){var _t=me(d[k]);Nr.push(y.project(me([_t.lat-qe.lat,_t.lng-qe.lng])))}for(ce=ge=Ae=0,k=0,M=gn-1;k<gn;M=k++)R=Nr[k],U=Nr[M],ee=R.y*U.x-U.y*R.x,ge+=(R.x+U.x)*ee,Ae+=(R.y+U.y)*ee,ce+=ee*3;ce===0?Re=Nr[0]:Re=[ge/ce,Ae/ce];var wt=y.unproject(se(Re));return me([wt.lat+qe.lat,wt.lng+qe.lng])}function Mf(d){for(var y=0,k=0,M=0,R=0;R<d.length;R++){var U=me(d[R]);y+=U.lat,k+=U.lng,M++}return me([y/M,k/M])}var Pf={__proto__:null,clipPolygon:Pp,polygonCenter:Dp,centroid:Mf};function Rp(d,y){if(!y||!d.length)return d.slice();var k=y*y;return d=xx(d,k),d=Ip(d,k),d}function Lp(d,y,k){return Math.sqrt(Xl(d,y,k,!0))}function vx(d,y,k){return Xl(d,y,k)}function Ip(d,y){var k=d.length,M=typeof Uint8Array<"u"?Uint8Array:Array,R=new M(k);R[0]=R[k-1]=1,Df(d,R,y,0,k-1);var U,ee=[];for(U=0;U<k;U++)R[U]&&ee.push(d[U]);return ee}function Df(d,y,k,M,R){var U=0,ee,ce,ge;for(ce=M+1;ce<=R-1;ce++)ge=Xl(d[ce],d[M],d[R],!0),ge>U&&(ee=ce,U=ge);U>k&&(y[ee]=1,Df(d,y,k,M,ee),Df(d,y,k,ee,R))}function xx(d,y){for(var k=[d[0]],M=1,R=0,U=d.length;M<U;M++)_x(d[M],d[R])>y&&(k.push(d[M]),R=M);return R<U-1&&k.push(d[U-1]),k}var $p;function Bp(d,y,k,M,R){var U=M?$p:Ro(d,k),ee=Ro(y,k),ce,ge,Ae;for($p=ee;;){if(!(U|ee))return[d,y];if(U&ee)return!1;ce=U||ee,ge=pu(d,y,ce,k,R),Ae=Ro(ge,k),ce===U?(d=ge,U=Ae):(y=ge,ee=Ae)}}function pu(d,y,k,M,R){var U=y.x-d.x,ee=y.y-d.y,ce=M.min,ge=M.max,Ae,Re;return k&8?(Ae=d.x+U*(ge.y-d.y)/ee,Re=ge.y):k&4?(Ae=d.x+U*(ce.y-d.y)/ee,Re=ce.y):k&2?(Ae=ge.x,Re=d.y+ee*(ge.x-d.x)/U):k&1&&(Ae=ce.x,Re=d.y+ee*(ce.x-d.x)/U),new re(Ae,Re,R)}function Ro(d,y){var k=0;return d.x<y.min.x?k|=1:d.x>y.max.x&&(k|=2),d.y<y.min.y?k|=4:d.y>y.max.y&&(k|=8),k}function _x(d,y){var k=y.x-d.x,M=y.y-d.y;return k*k+M*M}function Xl(d,y,k,M){var R=y.x,U=y.y,ee=k.x-R,ce=k.y-U,ge=ee*ee+ce*ce,Ae;return ge>0&&(Ae=((d.x-R)*ee+(d.y-U)*ce)/ge,Ae>1?(R=k.x,U=k.y):Ae>0&&(R+=ee*Ae,U+=ce*Ae)),ee=d.x-R,ce=d.y-U,M?ee*ee+ce*ce:new re(R,U)}function qr(d){return!O(d[0])||typeof d[0][0]!="object"&&typeof d[0][0]<"u"}function gu(d){return console.warn("Deprecated use of _flat, please use L.LineUtil.isFlat instead."),qr(d)}function zs(d,y){var k,M,R,U,ee,ce,ge,Ae;if(!d||d.length===0)throw new Error("latlngs not passed");qr(d)||(console.warn("latlngs are not flat! Only the first ring will be used"),d=d[0]);var Re=me([0,0]),qe=V(d),ot=qe.getNorthWest().distanceTo(qe.getSouthWest())*qe.getNorthEast().distanceTo(qe.getNorthWest());ot<1700&&(Re=Mf(d));var $n=d.length,gn=[];for(k=0;k<$n;k++){var Nr=me(d[k]);gn.push(y.project(me([Nr.lat-Re.lat,Nr.lng-Re.lng])))}for(k=0,M=0;k<$n-1;k++)M+=gn[k].distanceTo(gn[k+1])/2;if(M===0)Ae=gn[0];else for(k=0,U=0;k<$n-1;k++)if(ee=gn[k],ce=gn[k+1],R=ee.distanceTo(ce),U+=R,U>M){ge=(U-M)/R,Ae=[ce.x-ge*(ce.x-ee.x),ce.y-ge*(ce.y-ee.y)];break}var _t=y.unproject(se(Ae));return me([_t.lat+Re.lat,_t.lng+Re.lng])}var wx={__proto__:null,simplify:Rp,pointToSegmentDistance:Lp,closestPointOnSegment:vx,clipSegment:Bp,_getEdgeIntersection:pu,_getBitCode:Ro,_sqClosestPointOnSegment:Xl,isFlat:qr,_flat:gu,polylineCenter:zs},yu={project:function(d){return new re(d.lng,d.lat)},unproject:function(d){return new oe(d.y,d.x)},bounds:new B([-180,-90],[180,90])},bu={R:6378137,R_MINOR:6356752314245179e-9,bounds:new B([-2003750834279e-5,-1549657073972e-5],[2003750834279e-5,1876465623138e-5]),project:function(d){var y=Math.PI/180,k=this.R,M=d.lat*y,R=this.R_MINOR/k,U=Math.sqrt(1-R*R),ee=U*Math.sin(M),ce=Math.tan(Math.PI/4-M/2)/Math.pow((1-ee)/(1+ee),U/2);return M=-k*Math.log(Math.max(ce,1e-10)),new re(d.lng*y*k,M)},unproject:function(d){for(var y=180/Math.PI,k=this.R,M=this.R_MINOR/k,R=Math.sqrt(1-M*M),U=Math.exp(-d.y/k),ee=Math.PI/2-2*Math.atan(U),ce=0,ge=.1,Ae;ce<15&&Math.abs(ge)>1e-7;ce++)Ae=R*Math.sin(ee),Ae=Math.pow((1-Ae)/(1+Ae),R/2),ge=Math.PI/2-2*Math.atan(U*Ae)-ee,ee+=ge;return new oe(ee*y,d.x*y/k)}},zp={__proto__:null,LonLat:yu,Mercator:bu,SphericalMercator:Oe},Up=i({},be,{code:"EPSG:3395",projection:bu,transformation:(function(){var d=.5/(Math.PI*bu.R);return ve(d,.5,-d,.5)})()}),Rf=i({},be,{code:"EPSG:4326",projection:yu,transformation:ve(1/180,1,-1/180,.5)}),Us=i({},pe,{projection:yu,transformation:ve(1,0,-1,0),scale:function(d){return Math.pow(2,d)},zoom:function(d){return Math.log(d)/Math.LN2},distance:function(d,y){var k=y.lng-d.lng,M=y.lat-d.lat;return Math.sqrt(k*k+M*M)},infinite:!0});pe.Earth=be,pe.EPSG3395=Up,pe.EPSG3857=Ze,pe.EPSG900913=Ne,pe.EPSG4326=Rf,pe.Simple=Us;var vi=Z.extend({options:{pane:"overlayPane",attribution:null,bubblingMouseEvents:!0},addTo:function(d){return d.addLayer(this),this},remove:function(){return this.removeFrom(this._map||this._mapToAdd)},removeFrom:function(d){return d&&d.removeLayer(this),this},getPane:function(d){return this._map.getPane(d?this.options[d]||d:this.options.pane)},addInteractiveTarget:function(d){return this._map._targets[u(d)]=this,this},removeInteractiveTarget:function(d){return delete this._map._targets[u(d)],this},getAttribution:function(){return this.options.attribution},_layerAdd:function(d){var y=d.target;if(y.hasLayer(this)){if(this._map=y,this._zoomAnimated=y._zoomAnimated,this.getEvents){var k=this.getEvents();y.on(k,this),this.once("remove",function(){y.off(k,this)},this)}this.onAdd(y),this.fire("add"),y.fire("layeradd",{layer:this})}}});ht.include({addLayer:function(d){if(!d._layerAdd)throw new Error("The provided object is not a Layer.");var y=u(d);return this._layers[y]?this:(this._layers[y]=d,d._mapToAdd=this,d.beforeAdd&&d.beforeAdd(this),this.whenReady(d._layerAdd,d),this)},removeLayer:function(d){var y=u(d);return this._layers[y]?(this._loaded&&d.onRemove(this),delete this._layers[y],this._loaded&&(this.fire("layerremove",{layer:d}),d.fire("remove")),d._map=d._mapToAdd=null,this):this},hasLayer:function(d){return u(d)in this._layers},eachLayer:function(d,y){for(var k in this._layers)d.call(y,this._layers[k]);return this},_addLayers:function(d){d=d?O(d)?d:[d]:[];for(var y=0,k=d.length;y<k;y++)this.addLayer(d[y])},_addZoomLimit:function(d){(!isNaN(d.options.maxZoom)||!isNaN(d.options.minZoom))&&(this._zoomBoundLayers[u(d)]=d,this._updateZoomLevels())},_removeZoomLimit:function(d){var y=u(d);this._zoomBoundLayers[y]&&(delete this._zoomBoundLayers[y],this._updateZoomLevels())},_updateZoomLevels:function(){var d=1/0,y=-1/0,k=this._getZoomSpan();for(var M in this._zoomBoundLayers){var R=this._zoomBoundLayers[M].options;d=R.minZoom===void 0?d:Math.min(d,R.minZoom),y=R.maxZoom===void 0?y:Math.max(y,R.maxZoom)}this._layersMaxZoom=y===-1/0?void 0:y,this._layersMinZoom=d===1/0?void 0:d,k!==this._getZoomSpan()&&this.fire("zoomlevelschange"),this.options.maxZoom===void 0&&this._layersMaxZoom&&this.getZoom()>this._layersMaxZoom&&this.setZoom(this._layersMaxZoom),this.options.minZoom===void 0&&this._layersMinZoom&&this.getZoom()<this._layersMinZoom&&this.setZoom(this._layersMinZoom)}});var Hs=vi.extend({initialize:function(d,y){w(this,y),this._layers={};var k,M;if(d)for(k=0,M=d.length;k<M;k++)this.addLayer(d[k])},addLayer:function(d){var y=this.getLayerId(d);return this._layers[y]=d,this._map&&this._map.addLayer(d),this},removeLayer:function(d){var y=d in this._layers?d:this.getLayerId(d);return this._map&&this._layers[y]&&this._map.removeLayer(this._layers[y]),delete this._layers[y],this},hasLayer:function(d){var y=typeof d=="number"?d:this.getLayerId(d);return y in this._layers},clearLayers:function(){return this.eachLayer(this.removeLayer,this)},invoke:function(d){var y=Array.prototype.slice.call(arguments,1),k,M;for(k in this._layers)M=this._layers[k],M[d]&&M[d].apply(M,y);return this},onAdd:function(d){this.eachLayer(d.addLayer,d)},onRemove:function(d){this.eachLayer(d.removeLayer,d)},eachLayer:function(d,y){for(var k in this._layers)d.call(y,this._layers[k]);return this},getLayer:function(d){return this._layers[d]},getLayers:function(){var d=[];return this.eachLayer(d.push,d),d},setZIndex:function(d){return this.invoke("setZIndex",d)},getLayerId:function(d){return u(d)}}),Sx=function(d,y){return new Hs(d,y)},qi=Hs.extend({addLayer:function(d){return this.hasLayer(d)?this:(d.addEventParent(this),Hs.prototype.addLayer.call(this,d),this.fire("layeradd",{layer:d}))},removeLayer:function(d){return this.hasLayer(d)?(d in this._layers&&(d=this._layers[d]),d.removeEventParent(this),Hs.prototype.removeLayer.call(this,d),this.fire("layerremove",{layer:d})):this},setStyle:function(d){return this.invoke("setStyle",d)},bringToFront:function(){return this.invoke("bringToFront")},bringToBack:function(){return this.invoke("bringToBack")},getBounds:function(){var d=new ae;for(var y in this._layers){var k=this._layers[y];d.extend(k.getBounds?k.getBounds():k.getLatLng())}return d}}),Hp=function(d,y){return new qi(d,y)},Yi=Q.extend({options:{popupAnchor:[0,0],tooltipAnchor:[0,0],crossOrigin:!1},initialize:function(d){w(this,d)},createIcon:function(d){return this._createIcon("icon",d)},createShadow:function(d){return this._createIcon("shadow",d)},_createIcon:function(d,y){var k=this._getIconUrl(d);if(!k){if(d==="icon")throw new Error("iconUrl not set in Icon options (see the docs).");return null}var M=this._createImg(k,y&&y.tagName==="IMG"?y:null);return this._setIconStyles(M,d),(this.options.crossOrigin||this.options.crossOrigin==="")&&(M.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),M},_setIconStyles:function(d,y){var k=this.options,M=k[y+"Size"];typeof M=="number"&&(M=[M,M]);var R=se(M),U=se(y==="shadow"&&k.shadowAnchor||k.iconAnchor||R&&R.divideBy(2,!0));d.className="leaflet-marker-"+y+" "+(k.className||""),U&&(d.style.marginLeft=-U.x+"px",d.style.marginTop=-U.y+"px"),R&&(d.style.width=R.x+"px",d.style.height=R.y+"px")},_createImg:function(d,y){return y=y||document.createElement("img"),y.src=d,y},_getIconUrl:function(d){return Fe.retina&&this.options[d+"RetinaUrl"]||this.options[d+"Url"]}});function Jl(d){return new Yi(d)}var Ql=Yi.extend({options:{iconUrl:"marker-icon.png",iconRetinaUrl:"marker-icon-2x.png",shadowUrl:"marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],tooltipAnchor:[16,-28],shadowSize:[41,41]},_getIconUrl:function(d){return typeof Ql.imagePath!="string"&&(Ql.imagePath=this._detectIconPath()),(this.options.imagePath||Ql.imagePath)+Yi.prototype._getIconUrl.call(this,d)},_stripUrl:function(d){var y=function(k,M,R){var U=M.exec(k);return U&&U[R]};return d=y(d,/^url\((['"])?(.+)\1\)$/,2),d&&y(d,/^(.*)marker-icon\.png$/,1)},_detectIconPath:function(){var d=ct("div","leaflet-default-icon-path",document.body),y=Fl(d,"background-image")||Fl(d,"backgroundImage");if(document.body.removeChild(d),y=this._stripUrl(y),y)return y;var k=document.querySelector('link[href$="leaflet.css"]');return k?k.href.substring(0,k.href.length-11-1):""}}),ec=Gi.extend({initialize:function(d){this._marker=d},addHooks:function(){var d=this._marker._icon;this._draggable||(this._draggable=new Za(d,d,!0)),this._draggable.on({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).enable(),nt(d,"leaflet-marker-draggable")},removeHooks:function(){this._draggable.off({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).disable(),this._marker._icon&&en(this._marker._icon,"leaflet-marker-draggable")},moved:function(){return this._draggable&&this._draggable._moved},_adjustPan:function(d){var y=this._marker,k=y._map,M=this._marker.options.autoPanSpeed,R=this._marker.options.autoPanPadding,U=Wa(y._icon),ee=k.getPixelBounds(),ce=k.getPixelOrigin(),ge=W(ee.min._subtract(ce).add(R),ee.max._subtract(ce).subtract(R));if(!ge.contains(U)){var Ae=se((Math.max(ge.max.x,U.x)-ge.max.x)/(ee.max.x-ge.max.x)-(Math.min(ge.min.x,U.x)-ge.min.x)/(ee.min.x-ge.min.x),(Math.max(ge.max.y,U.y)-ge.max.y)/(ee.max.y-ge.max.y)-(Math.min(ge.min.y,U.y)-ge.min.y)/(ee.min.y-ge.min.y)).multiplyBy(M);k.panBy(Ae,{animate:!1}),this._draggable._newPos._add(Ae),this._draggable._startPos._add(Ae),Ut(y._icon,this._draggable._newPos),this._onDrag(d),this._panRequest=F(this._adjustPan.bind(this,d))}},_onDragStart:function(){this._oldLatLng=this._marker.getLatLng(),this._marker.closePopup&&this._marker.closePopup(),this._marker.fire("movestart").fire("dragstart")},_onPreDrag:function(d){this._marker.options.autoPan&&(z(this._panRequest),this._panRequest=F(this._adjustPan.bind(this,d)))},_onDrag:function(d){var y=this._marker,k=y._shadow,M=Wa(y._icon),R=y._map.layerPointToLatLng(M);k&&Ut(k,M),y._latlng=R,d.latlng=R,d.oldLatLng=this._oldLatLng,y.fire("move",d).fire("drag",d)},_onDragEnd:function(d){z(this._panRequest),delete this._oldLatLng,this._marker.fire("moveend").fire("dragend",d)}}),tc=vi.extend({options:{icon:new Ql,interactive:!0,keyboard:!0,title:"",alt:"Marker",zIndexOffset:0,opacity:1,riseOnHover:!1,riseOffset:250,pane:"markerPane",shadowPane:"shadowPane",bubblingMouseEvents:!1,autoPanOnFocus:!0,draggable:!1,autoPan:!1,autoPanPadding:[50,50],autoPanSpeed:10},initialize:function(d,y){w(this,y),this._latlng=me(d)},onAdd:function(d){this._zoomAnimated=this._zoomAnimated&&d.options.markerZoomAnimation,this._zoomAnimated&&d.on("zoomanim",this._animateZoom,this),this._initIcon(),this.update()},onRemove:function(d){this.dragging&&this.dragging.enabled()&&(this.options.draggable=!0,this.dragging.removeHooks()),delete this.dragging,this._zoomAnimated&&d.off("zoomanim",this._animateZoom,this),this._removeIcon(),this._removeShadow()},getEvents:function(){return{zoom:this.update,viewreset:this.update}},getLatLng:function(){return this._latlng},setLatLng:function(d){var y=this._latlng;return this._latlng=me(d),this.update(),this.fire("move",{oldLatLng:y,latlng:this._latlng})},setZIndexOffset:function(d){return this.options.zIndexOffset=d,this.update()},getIcon:function(){return this.options.icon},setIcon:function(d){return this.options.icon=d,this._map&&(this._initIcon(),this.update()),this._popup&&this.bindPopup(this._popup,this._popup.options),this},getElement:function(){return this._icon},update:function(){if(this._icon&&this._map){var d=this._map.latLngToLayerPoint(this._latlng).round();this._setPos(d)}return this},_initIcon:function(){var d=this.options,y="leaflet-zoom-"+(this._zoomAnimated?"animated":"hide"),k=d.icon.createIcon(this._icon),M=!1;k!==this._icon&&(this._icon&&this._removeIcon(),M=!0,d.title&&(k.title=d.title),k.tagName==="IMG"&&(k.alt=d.alt||"")),nt(k,y),d.keyboard&&(k.tabIndex="0",k.setAttribute("role","button")),this._icon=k,d.riseOnHover&&this.on({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&tt(k,"focus",this._panOnFocus,this);var R=d.icon.createShadow(this._shadow),U=!1;R!==this._shadow&&(this._removeShadow(),U=!0),R&&(nt(R,y),R.alt=""),this._shadow=R,d.opacity<1&&this._updateOpacity(),M&&this.getPane().appendChild(this._icon),this._initInteraction(),R&&U&&this.getPane(d.shadowPane).appendChild(this._shadow)},_removeIcon:function(){this.options.riseOnHover&&this.off({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&Nt(this._icon,"focus",this._panOnFocus,this),It(this._icon),this.removeInteractiveTarget(this._icon),this._icon=null},_removeShadow:function(){this._shadow&&It(this._shadow),this._shadow=null},_setPos:function(d){this._icon&&Ut(this._icon,d),this._shadow&&Ut(this._shadow,d),this._zIndex=d.y+this.options.zIndexOffset,this._resetZIndex()},_updateZIndex:function(d){this._icon&&(this._icon.style.zIndex=this._zIndex+d)},_animateZoom:function(d){var y=this._map._latLngToNewLayerPoint(this._latlng,d.zoom,d.center).round();this._setPos(y)},_initInteraction:function(){if(this.options.interactive&&(nt(this._icon,"leaflet-interactive"),this.addInteractiveTarget(this._icon),ec)){var d=this.options.draggable;this.dragging&&(d=this.dragging.enabled(),this.dragging.disable()),this.dragging=new ec(this),d&&this.dragging.enable()}},setOpacity:function(d){return this.options.opacity=d,this._map&&this._updateOpacity(),this},_updateOpacity:function(){var d=this.options.opacity;this._icon&&Zt(this._icon,d),this._shadow&&Zt(this._shadow,d)},_bringToFront:function(){this._updateZIndex(this.options.riseOffset)},_resetZIndex:function(){this._updateZIndex(0)},_panOnFocus:function(){var d=this._map;if(d){var y=this.options.icon.options,k=y.iconSize?se(y.iconSize):se(0,0),M=y.iconAnchor?se(y.iconAnchor):se(0,0);d.panInside(this._latlng,{paddingTopLeft:M,paddingBottomRight:k.subtract(M)})}},_getPopupAnchor:function(){return this.options.icon.options.popupAnchor},_getTooltipAnchor:function(){return this.options.icon.options.tooltipAnchor}});function Fp(d,y){return new tc(d,y)}var Ki=vi.extend({options:{stroke:!0,color:"#3388ff",weight:3,opacity:1,lineCap:"round",lineJoin:"round",dashArray:null,dashOffset:null,fill:!1,fillColor:null,fillOpacity:.2,fillRule:"evenodd",interactive:!0,bubblingMouseEvents:!0},beforeAdd:function(d){this._renderer=d.getRenderer(this)},onAdd:function(){this._renderer._initPath(this),this._reset(),this._renderer._addPath(this)},onRemove:function(){this._renderer._removePath(this)},redraw:function(){return this._map&&this._renderer._updatePath(this),this},setStyle:function(d){return w(this,d),this._renderer&&(this._renderer._updateStyle(this),this.options.stroke&&d&&Object.prototype.hasOwnProperty.call(d,"weight")&&this._updateBounds()),this},bringToFront:function(){return this._renderer&&this._renderer._bringToFront(this),this},bringToBack:function(){return this._renderer&&this._renderer._bringToBack(this),this},getElement:function(){return this._path},_reset:function(){this._project(),this._update()},_clickTolerance:function(){return(this.options.stroke?this.options.weight/2:0)+(this._renderer.options.tolerance||0)}}),Fs=Ki.extend({options:{fill:!0,radius:10},initialize:function(d,y){w(this,y),this._latlng=me(d),this._radius=this.options.radius},setLatLng:function(d){var y=this._latlng;return this._latlng=me(d),this.redraw(),this.fire("move",{oldLatLng:y,latlng:this._latlng})},getLatLng:function(){return this._latlng},setRadius:function(d){return this.options.radius=this._radius=d,this.redraw()},getRadius:function(){return this._radius},setStyle:function(d){var y=d&&d.radius||this._radius;return Ki.prototype.setStyle.call(this,d),this.setRadius(y),this},_project:function(){this._point=this._map.latLngToLayerPoint(this._latlng),this._updateBounds()},_updateBounds:function(){var d=this._radius,y=this._radiusY||d,k=this._clickTolerance(),M=[d+k,y+k];this._pxBounds=new B(this._point.subtract(M),this._point.add(M))},_update:function(){this._map&&this._updatePath()},_updatePath:function(){this._renderer._updateCircle(this)},_empty:function(){return this._radius&&!this._renderer._bounds.intersects(this._pxBounds)},_containsPoint:function(d){return d.distanceTo(this._point)<=this._radius+this._clickTolerance()}});function Gp(d,y){return new Fs(d,y)}var vu=Fs.extend({initialize:function(d,y,k){if(typeof y=="number"&&(y=i({},k,{radius:y})),w(this,y),this._latlng=me(d),isNaN(this.options.radius))throw new Error("Circle radius cannot be NaN");this._mRadius=this.options.radius},setRadius:function(d){return this._mRadius=d,this.redraw()},getRadius:function(){return this._mRadius},getBounds:function(){var d=[this._radius,this._radiusY||this._radius];return new ae(this._map.layerPointToLatLng(this._point.subtract(d)),this._map.layerPointToLatLng(this._point.add(d)))},setStyle:Ki.prototype.setStyle,_project:function(){var d=this._latlng.lng,y=this._latlng.lat,k=this._map,M=k.options.crs;if(M.distance===be.distance){var R=Math.PI/180,U=this._mRadius/be.R/R,ee=k.project([y+U,d]),ce=k.project([y-U,d]),ge=ee.add(ce).divideBy(2),Ae=k.unproject(ge).lat,Re=Math.acos((Math.cos(U*R)-Math.sin(y*R)*Math.sin(Ae*R))/(Math.cos(y*R)*Math.cos(Ae*R)))/R;(isNaN(Re)||Re===0)&&(Re=U/Math.cos(Math.PI/180*y)),this._point=ge.subtract(k.getPixelOrigin()),this._radius=isNaN(Re)?0:ge.x-k.project([Ae,d-Re]).x,this._radiusY=ge.y-ee.y}else{var qe=M.unproject(M.project(this._latlng).subtract([this._mRadius,0]));this._point=k.latLngToLayerPoint(this._latlng),this._radius=this._point.x-k.latLngToLayerPoint(qe).x}this._updateBounds()}});function qp(d,y,k){return new vu(d,y,k)}var _a=Ki.extend({options:{smoothFactor:1,noClip:!1},initialize:function(d,y){w(this,y),this._setLatLngs(d)},getLatLngs:function(){return this._latlngs},setLatLngs:function(d){return this._setLatLngs(d),this.redraw()},isEmpty:function(){return!this._latlngs.length},closestLayerPoint:function(d){for(var y=1/0,k=null,M=Xl,R,U,ee=0,ce=this._parts.length;ee<ce;ee++)for(var ge=this._parts[ee],Ae=1,Re=ge.length;Ae<Re;Ae++){R=ge[Ae-1],U=ge[Ae];var qe=M(d,R,U,!0);qe<y&&(y=qe,k=M(d,R,U))}return k&&(k.distance=Math.sqrt(y)),k},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return zs(this._defaultShape(),this._map.options.crs)},getBounds:function(){return this._bounds},addLatLng:function(d,y){return y=y||this._defaultShape(),d=me(d),y.push(d),this._bounds.extend(d),this.redraw()},_setLatLngs:function(d){this._bounds=new ae,this._latlngs=this._convertLatLngs(d)},_defaultShape:function(){return qr(this._latlngs)?this._latlngs:this._latlngs[0]},_convertLatLngs:function(d){for(var y=[],k=qr(d),M=0,R=d.length;M<R;M++)k?(y[M]=me(d[M]),this._bounds.extend(y[M])):y[M]=this._convertLatLngs(d[M]);return y},_project:function(){var d=new B;this._rings=[],this._projectLatlngs(this._latlngs,this._rings,d),this._bounds.isValid()&&d.isValid()&&(this._rawPxBounds=d,this._updateBounds())},_updateBounds:function(){var d=this._clickTolerance(),y=new re(d,d);this._rawPxBounds&&(this._pxBounds=new B([this._rawPxBounds.min.subtract(y),this._rawPxBounds.max.add(y)]))},_projectLatlngs:function(d,y,k){var M=d[0]instanceof oe,R=d.length,U,ee;if(M){for(ee=[],U=0;U<R;U++)ee[U]=this._map.latLngToLayerPoint(d[U]),k.extend(ee[U]);y.push(ee)}else for(U=0;U<R;U++)this._projectLatlngs(d[U],y,k)},_clipPoints:function(){var d=this._renderer._bounds;if(this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(d))){if(this.options.noClip){this._parts=this._rings;return}var y=this._parts,k,M,R,U,ee,ce,ge;for(k=0,R=0,U=this._rings.length;k<U;k++)for(ge=this._rings[k],M=0,ee=ge.length;M<ee-1;M++)ce=Bp(ge[M],ge[M+1],d,M,!0),ce&&(y[R]=y[R]||[],y[R].push(ce[0]),(ce[1]!==ge[M+1]||M===ee-2)&&(y[R].push(ce[1]),R++))}},_simplifyPoints:function(){for(var d=this._parts,y=this.options.smoothFactor,k=0,M=d.length;k<M;k++)d[k]=Rp(d[k],y)},_update:function(){this._map&&(this._clipPoints(),this._simplifyPoints(),this._updatePath())},_updatePath:function(){this._renderer._updatePoly(this)},_containsPoint:function(d,y){var k,M,R,U,ee,ce,ge=this._clickTolerance();if(!this._pxBounds||!this._pxBounds.contains(d))return!1;for(k=0,U=this._parts.length;k<U;k++)for(ce=this._parts[k],M=0,ee=ce.length,R=ee-1;M<ee;R=M++)if(!(!y&&M===0)&&Lp(d,ce[R],ce[M])<=ge)return!0;return!1}});function Ex(d,y){return new _a(d,y)}_a._flat=gu;var Gs=_a.extend({options:{fill:!0},isEmpty:function(){return!this._latlngs.length||!this._latlngs[0].length},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return Dp(this._defaultShape(),this._map.options.crs)},_convertLatLngs:function(d){var y=_a.prototype._convertLatLngs.call(this,d),k=y.length;return k>=2&&y[0]instanceof oe&&y[0].equals(y[k-1])&&y.pop(),y},_setLatLngs:function(d){_a.prototype._setLatLngs.call(this,d),qr(this._latlngs)&&(this._latlngs=[this._latlngs])},_defaultShape:function(){return qr(this._latlngs[0])?this._latlngs[0]:this._latlngs[0][0]},_clipPoints:function(){var d=this._renderer._bounds,y=this.options.weight,k=new re(y,y);if(d=new B(d.min.subtract(k),d.max.add(k)),this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(d))){if(this.options.noClip){this._parts=this._rings;return}for(var M=0,R=this._rings.length,U;M<R;M++)U=Pp(this._rings[M],d,!0),U.length&&this._parts.push(U)}},_updatePath:function(){this._renderer._updatePoly(this,!0)},_containsPoint:function(d){var y=!1,k,M,R,U,ee,ce,ge,Ae;if(!this._pxBounds||!this._pxBounds.contains(d))return!1;for(U=0,ge=this._parts.length;U<ge;U++)for(k=this._parts[U],ee=0,Ae=k.length,ce=Ae-1;ee<Ae;ce=ee++)M=k[ee],R=k[ce],M.y>d.y!=R.y>d.y&&d.x<(R.x-M.x)*(d.y-M.y)/(R.y-M.y)+M.x&&(y=!y);return y||_a.prototype._containsPoint.call(this,d,!0)}});function kx(d,y){return new Gs(d,y)}var wa=qi.extend({initialize:function(d,y){w(this,y),this._layers={},d&&this.addData(d)},addData:function(d){var y=O(d)?d:d.features,k,M,R;if(y){for(k=0,M=y.length;k<M;k++)R=y[k],(R.geometries||R.geometry||R.features||R.coordinates)&&this.addData(R);return this}var U=this.options;if(U.filter&&!U.filter(d))return this;var ee=Jn(d,U);return ee?(ee.feature=wu(d),ee.defaultOptions=ee.options,this.resetStyle(ee),U.onEachFeature&&U.onEachFeature(d,ee),this.addLayer(ee)):this},resetStyle:function(d){return d===void 0?this.eachLayer(this.resetStyle,this):(d.options=i({},d.defaultOptions),this._setLayerStyle(d,this.options.style),this)},setStyle:function(d){return this.eachLayer(function(y){this._setLayerStyle(y,d)},this)},_setLayerStyle:function(d,y){d.setStyle&&(typeof y=="function"&&(y=y(d.feature)),d.setStyle(y))}});function Jn(d,y){var k=d.type==="Feature"?d.geometry:d,M=k?k.coordinates:null,R=[],U=y&&y.pointToLayer,ee=y&&y.coordsToLatLng||xu,ce,ge,Ae,Re;if(!M&&!k)return null;switch(k.type){case"Point":return ce=ee(M),qs(U,d,ce,y);case"MultiPoint":for(Ae=0,Re=M.length;Ae<Re;Ae++)ce=ee(M[Ae]),R.push(qs(U,d,ce,y));return new qi(R);case"LineString":case"MultiLineString":return ge=nc(M,k.type==="LineString"?0:1,ee),new _a(ge,y);case"Polygon":case"MultiPolygon":return ge=nc(M,k.type==="Polygon"?1:2,ee),new Gs(ge,y);case"GeometryCollection":for(Ae=0,Re=k.geometries.length;Ae<Re;Ae++){var qe=Jn({geometry:k.geometries[Ae],type:"Feature",properties:d.properties},y);qe&&R.push(qe)}return new qi(R);case"FeatureCollection":for(Ae=0,Re=k.features.length;Ae<Re;Ae++){var ot=Jn(k.features[Ae],y);ot&&R.push(ot)}return new qi(R);default:throw new Error("Invalid GeoJSON object.")}}function qs(d,y,k,M){return d?d(y,k):new tc(k,M&&M.markersInheritOptions&&M)}function xu(d){return new oe(d[1],d[0],d[2])}function nc(d,y,k){for(var M=[],R=0,U=d.length,ee;R<U;R++)ee=y?nc(d[R],y-1,k):(k||xu)(d[R]),M.push(ee);return M}function _u(d,y){return d=me(d),d.alt!==void 0?[g(d.lng,y),g(d.lat,y),g(d.alt,y)]:[g(d.lng,y),g(d.lat,y)]}function rc(d,y,k,M){for(var R=[],U=0,ee=d.length;U<ee;U++)R.push(y?rc(d[U],qr(d[U])?0:y-1,k,M):_u(d[U],M));return!y&&k&&R.length>0&&R.push(R[0].slice()),R}function Xa(d,y){return d.feature?i({},d.feature,{geometry:y}):wu(y)}function wu(d){return d.type==="Feature"||d.type==="FeatureCollection"?d:{type:"Feature",properties:{},geometry:d}}var Ja={toGeoJSON:function(d){return Xa(this,{type:"Point",coordinates:_u(this.getLatLng(),d)})}};tc.include(Ja),vu.include(Ja),Fs.include(Ja),_a.include({toGeoJSON:function(d){var y=!qr(this._latlngs),k=rc(this._latlngs,y?1:0,!1,d);return Xa(this,{type:(y?"Multi":"")+"LineString",coordinates:k})}}),Gs.include({toGeoJSON:function(d){var y=!qr(this._latlngs),k=y&&!qr(this._latlngs[0]),M=rc(this._latlngs,k?2:y?1:0,!0,d);return y||(M=[M]),Xa(this,{type:(k?"Multi":"")+"Polygon",coordinates:M})}}),Hs.include({toMultiPoint:function(d){var y=[];return this.eachLayer(function(k){y.push(k.toGeoJSON(d).geometry.coordinates)}),Xa(this,{type:"MultiPoint",coordinates:y})},toGeoJSON:function(d){var y=this.feature&&this.feature.geometry&&this.feature.geometry.type;if(y==="MultiPoint")return this.toMultiPoint(d);var k=y==="GeometryCollection",M=[];return this.eachLayer(function(R){if(R.toGeoJSON){var U=R.toGeoJSON(d);if(k)M.push(U.geometry);else{var ee=wu(U);ee.type==="FeatureCollection"?M.push.apply(M,ee.features):M.push(ee)}}}),k?Xa(this,{geometries:M,type:"GeometryCollection"}):{type:"FeatureCollection",features:M}}});function Su(d,y){return new wa(d,y)}var ic=Su,Ys=vi.extend({options:{opacity:1,alt:"",interactive:!1,crossOrigin:!1,errorOverlayUrl:"",zIndex:1,className:""},initialize:function(d,y,k){this._url=d,this._bounds=V(y),w(this,k)},onAdd:function(){this._image||(this._initImage(),this.options.opacity<1&&this._updateOpacity()),this.options.interactive&&(nt(this._image,"leaflet-interactive"),this.addInteractiveTarget(this._image)),this.getPane().appendChild(this._image),this._reset()},onRemove:function(){It(this._image),this.options.interactive&&this.removeInteractiveTarget(this._image)},setOpacity:function(d){return this.options.opacity=d,this._image&&this._updateOpacity(),this},setStyle:function(d){return d.opacity&&this.setOpacity(d.opacity),this},bringToFront:function(){return this._map&&In(this._image),this},bringToBack:function(){return this._map&&Mo(this._image),this},setUrl:function(d){return this._url=d,this._image&&(this._image.src=d),this},setBounds:function(d){return this._bounds=V(d),this._map&&this._reset(),this},getEvents:function(){var d={zoom:this._reset,viewreset:this._reset};return this._zoomAnimated&&(d.zoomanim=this._animateZoom),d},setZIndex:function(d){return this.options.zIndex=d,this._updateZIndex(),this},getBounds:function(){return this._bounds},getElement:function(){return this._image},_initImage:function(){var d=this._url.tagName==="IMG",y=this._image=d?this._url:ct("img");if(nt(y,"leaflet-image-layer"),this._zoomAnimated&&nt(y,"leaflet-zoom-animated"),this.options.className&&nt(y,this.options.className),y.onselectstart=p,y.onmousemove=p,y.onload=o(this.fire,this,"load"),y.onerror=o(this._overlayOnError,this,"error"),(this.options.crossOrigin||this.options.crossOrigin==="")&&(y.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),this.options.zIndex&&this._updateZIndex(),d){this._url=y.src;return}y.src=this._url,y.alt=this.options.alt},_animateZoom:function(d){var y=this._map.getZoomScale(d.zoom),k=this._map._latLngBoundsToNewLayerBounds(this._bounds,d.zoom,d.center).min;ba(this._image,k,y)},_reset:function(){var d=this._image,y=new B(this._map.latLngToLayerPoint(this._bounds.getNorthWest()),this._map.latLngToLayerPoint(this._bounds.getSouthEast())),k=y.getSize();Ut(d,y.min),d.style.width=k.x+"px",d.style.height=k.y+"px"},_updateOpacity:function(){Zt(this._image,this.options.opacity)},_updateZIndex:function(){this._image&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._image.style.zIndex=this.options.zIndex)},_overlayOnError:function(){this.fire("error");var d=this.options.errorOverlayUrl;d&&this._url!==d&&(this._url=d,this._image.src=d)},getCenter:function(){return this._bounds.getCenter()}}),Yp=function(d,y,k){return new Ys(d,y,k)},Qa=Ys.extend({options:{autoplay:!0,loop:!0,keepAspectRatio:!0,muted:!1,playsInline:!0},_initImage:function(){var d=this._url.tagName==="VIDEO",y=this._image=d?this._url:ct("video");if(nt(y,"leaflet-image-layer"),this._zoomAnimated&&nt(y,"leaflet-zoom-animated"),this.options.className&&nt(y,this.options.className),y.onselectstart=p,y.onmousemove=p,y.onloadeddata=o(this.fire,this,"load"),d){for(var k=y.getElementsByTagName("source"),M=[],R=0;R<k.length;R++)M.push(k[R].src);this._url=k.length>0?M:[y.src];return}O(this._url)||(this._url=[this._url]),!this.options.keepAspectRatio&&Object.prototype.hasOwnProperty.call(y.style,"objectFit")&&(y.style.objectFit="fill"),y.autoplay=!!this.options.autoplay,y.loop=!!this.options.loop,y.muted=!!this.options.muted,y.playsInline=!!this.options.playsInline;for(var U=0;U<this._url.length;U++){var ee=ct("source");ee.src=this._url[U],y.appendChild(ee)}}});function Ks(d,y,k){return new Qa(d,y,k)}var Eu=Ys.extend({_initImage:function(){var d=this._image=this._url;nt(d,"leaflet-image-layer"),this._zoomAnimated&&nt(d,"leaflet-zoom-animated"),this.options.className&&nt(d,this.options.className),d.onselectstart=p,d.onmousemove=p}});function Kp(d,y,k){return new Eu(d,y,k)}var Qn=vi.extend({options:{interactive:!1,offset:[0,0],className:"",pane:void 0,content:""},initialize:function(d,y){d&&(d instanceof oe||O(d))?(this._latlng=me(d),w(this,y)):(w(this,d),this._source=y),this.options.content&&(this._content=this.options.content)},openOn:function(d){return d=arguments.length?d:this._source._map,d.hasLayer(this)||d.addLayer(this),this},close:function(){return this._map&&this._map.removeLayer(this),this},toggle:function(d){return this._map?this.close():(arguments.length?this._source=d:d=this._source,this._prepareOpen(),this.openOn(d._map)),this},onAdd:function(d){this._zoomAnimated=d._zoomAnimated,this._container||this._initLayout(),d._fadeAnimated&&Zt(this._container,0),clearTimeout(this._removeTimeout),this.getPane().appendChild(this._container),this.update(),d._fadeAnimated&&Zt(this._container,1),this.bringToFront(),this.options.interactive&&(nt(this._container,"leaflet-interactive"),this.addInteractiveTarget(this._container))},onRemove:function(d){d._fadeAnimated?(Zt(this._container,0),this._removeTimeout=setTimeout(o(It,void 0,this._container),200)):It(this._container),this.options.interactive&&(en(this._container,"leaflet-interactive"),this.removeInteractiveTarget(this._container))},getLatLng:function(){return this._latlng},setLatLng:function(d){return this._latlng=me(d),this._map&&(this._updatePosition(),this._adjustPan()),this},getContent:function(){return this._content},setContent:function(d){return this._content=d,this.update(),this},getElement:function(){return this._container},update:function(){this._map&&(this._container.style.visibility="hidden",this._updateContent(),this._updateLayout(),this._updatePosition(),this._container.style.visibility="",this._adjustPan())},getEvents:function(){var d={zoom:this._updatePosition,viewreset:this._updatePosition};return this._zoomAnimated&&(d.zoomanim=this._animateZoom),d},isOpen:function(){return!!this._map&&this._map.hasLayer(this)},bringToFront:function(){return this._map&&In(this._container),this},bringToBack:function(){return this._map&&Mo(this._container),this},_prepareOpen:function(d){var y=this._source;if(!y._map)return!1;if(y instanceof qi){y=null;var k=this._source._layers;for(var M in k)if(k[M]._map){y=k[M];break}if(!y)return!1;this._source=y}if(!d)if(y.getCenter)d=y.getCenter();else if(y.getLatLng)d=y.getLatLng();else if(y.getBounds)d=y.getBounds().getCenter();else throw new Error("Unable to get source layer LatLng.");return this.setLatLng(d),this._map&&this.update(),!0},_updateContent:function(){if(this._content){var d=this._contentNode,y=typeof this._content=="function"?this._content(this._source||this):this._content;if(typeof y=="string")d.innerHTML=y;else{for(;d.hasChildNodes();)d.removeChild(d.firstChild);d.appendChild(y)}this.fire("contentupdate")}},_updatePosition:function(){if(this._map){var d=this._map.latLngToLayerPoint(this._latlng),y=se(this.options.offset),k=this._getAnchor();this._zoomAnimated?Ut(this._container,d.add(k)):y=y.add(d).add(k);var M=this._containerBottom=-y.y,R=this._containerLeft=-Math.round(this._containerWidth/2)+y.x;this._container.style.bottom=M+"px",this._container.style.left=R+"px"}},_getAnchor:function(){return[0,0]}});ht.include({_initOverlay:function(d,y,k,M){var R=y;return R instanceof d||(R=new d(M).setContent(y)),k&&R.setLatLng(k),R}}),vi.include({_initOverlay:function(d,y,k,M){var R=k;return R instanceof d?(w(R,M),R._source=this):(R=y&&!M?y:new d(M,this),R.setContent(k)),R}});var ac=Qn.extend({options:{pane:"popupPane",offset:[0,7],maxWidth:300,minWidth:50,maxHeight:null,autoPan:!0,autoPanPaddingTopLeft:null,autoPanPaddingBottomRight:null,autoPanPadding:[5,5],keepInView:!1,closeButton:!0,autoClose:!0,closeOnEscapeKey:!0,className:""},openOn:function(d){return d=arguments.length?d:this._source._map,!d.hasLayer(this)&&d._popup&&d._popup.options.autoClose&&d.removeLayer(d._popup),d._popup=this,Qn.prototype.openOn.call(this,d)},onAdd:function(d){Qn.prototype.onAdd.call(this,d),d.fire("popupopen",{popup:this}),this._source&&(this._source.fire("popupopen",{popup:this},!0),this._source instanceof Ki||this._source.on("preclick",bi))},onRemove:function(d){Qn.prototype.onRemove.call(this,d),d.fire("popupclose",{popup:this}),this._source&&(this._source.fire("popupclose",{popup:this},!0),this._source instanceof Ki||this._source.off("preclick",bi))},getEvents:function(){var d=Qn.prototype.getEvents.call(this);return(this.options.closeOnClick!==void 0?this.options.closeOnClick:this._map.options.closePopupOnClick)&&(d.preclick=this.close),this.options.keepInView&&(d.moveend=this._adjustPan),d},_initLayout:function(){var d="leaflet-popup",y=this._container=ct("div",d+" "+(this.options.className||"")+" leaflet-zoom-animated"),k=this._wrapper=ct("div",d+"-content-wrapper",y);if(this._contentNode=ct("div",d+"-content",k),Do(y),Fi(this._contentNode),tt(y,"contextmenu",bi),this._tipContainer=ct("div",d+"-tip-container",y),this._tip=ct("div",d+"-tip",this._tipContainer),this.options.closeButton){var M=this._closeButton=ct("a",d+"-close-button",y);M.setAttribute("role","button"),M.setAttribute("aria-label","Close popup"),M.href="#close",M.innerHTML='<span aria-hidden="true">&#215;</span>',tt(M,"click",function(R){pn(R),this.close()},this)}},_updateLayout:function(){var d=this._contentNode,y=d.style;y.width="",y.whiteSpace="nowrap";var k=d.offsetWidth;k=Math.min(k,this.options.maxWidth),k=Math.max(k,this.options.minWidth),y.width=k+1+"px",y.whiteSpace="",y.height="";var M=d.offsetHeight,R=this.options.maxHeight,U="leaflet-popup-scrolled";R&&M>R?(y.height=R+"px",nt(d,U)):en(d,U),this._containerWidth=this._container.offsetWidth},_animateZoom:function(d){var y=this._map._latLngToNewLayerPoint(this._latlng,d.zoom,d.center),k=this._getAnchor();Ut(this._container,y.add(k))},_adjustPan:function(){if(this.options.autoPan){if(this._map._panAnim&&this._map._panAnim.stop(),this._autopanning){this._autopanning=!1;return}var d=this._map,y=parseInt(Fl(this._container,"marginBottom"),10)||0,k=this._container.offsetHeight+y,M=this._containerWidth,R=new re(this._containerLeft,-k-this._containerBottom);R._add(Wa(this._container));var U=d.layerPointToContainerPoint(R),ee=se(this.options.autoPanPadding),ce=se(this.options.autoPanPaddingTopLeft||ee),ge=se(this.options.autoPanPaddingBottomRight||ee),Ae=d.getSize(),Re=0,qe=0;U.x+M+ge.x>Ae.x&&(Re=U.x+M-Ae.x+ge.x),U.x-Re-ce.x<0&&(Re=U.x-ce.x),U.y+k+ge.y>Ae.y&&(qe=U.y+k-Ae.y+ge.y),U.y-qe-ce.y<0&&(qe=U.y-ce.y),(Re||qe)&&(this.options.keepInView&&(this._autopanning=!0),d.fire("autopanstart").panBy([Re,qe]))}},_getAnchor:function(){return se(this._source&&this._source._getPopupAnchor?this._source._getPopupAnchor():[0,0])}}),Wp=function(d,y){return new ac(d,y)};ht.mergeOptions({closePopupOnClick:!0}),ht.include({openPopup:function(d,y,k){return this._initOverlay(ac,d,y,k).openOn(this),this},closePopup:function(d){return d=arguments.length?d:this._popup,d&&d.close(),this}}),vi.include({bindPopup:function(d,y){return this._popup=this._initOverlay(ac,this._popup,d,y),this._popupHandlersAdded||(this.on({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!0),this},unbindPopup:function(){return this._popup&&(this.off({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!1,this._popup=null),this},openPopup:function(d){return this._popup&&(this instanceof qi||(this._popup._source=this),this._popup._prepareOpen(d||this._latlng)&&this._popup.openOn(this._map)),this},closePopup:function(){return this._popup&&this._popup.close(),this},togglePopup:function(){return this._popup&&this._popup.toggle(this),this},isPopupOpen:function(){return this._popup?this._popup.isOpen():!1},setPopupContent:function(d){return this._popup&&this._popup.setContent(d),this},getPopup:function(){return this._popup},_openPopup:function(d){if(!(!this._popup||!this._map)){Va(d);var y=d.layer||d.target;if(this._popup._source===y&&!(y instanceof Ki)){this._map.hasLayer(this._popup)?this.closePopup():this.openPopup(d.latlng);return}this._popup._source=y,this.openPopup(d.latlng)}},_movePopup:function(d){this._popup.setLatLng(d.latlng)},_onKeyPress:function(d){d.originalEvent.keyCode===13&&this._openPopup(d)}});var oc=Qn.extend({options:{pane:"tooltipPane",offset:[0,0],direction:"auto",permanent:!1,sticky:!1,opacity:.9},onAdd:function(d){Qn.prototype.onAdd.call(this,d),this.setOpacity(this.options.opacity),d.fire("tooltipopen",{tooltip:this}),this._source&&(this.addEventParent(this._source),this._source.fire("tooltipopen",{tooltip:this},!0))},onRemove:function(d){Qn.prototype.onRemove.call(this,d),d.fire("tooltipclose",{tooltip:this}),this._source&&(this.removeEventParent(this._source),this._source.fire("tooltipclose",{tooltip:this},!0))},getEvents:function(){var d=Qn.prototype.getEvents.call(this);return this.options.permanent||(d.preclick=this.close),d},_initLayout:function(){var d="leaflet-tooltip",y=d+" "+(this.options.className||"")+" leaflet-zoom-"+(this._zoomAnimated?"animated":"hide");this._contentNode=this._container=ct("div",y),this._container.setAttribute("role","tooltip"),this._container.setAttribute("id","leaflet-tooltip-"+u(this))},_updateLayout:function(){},_adjustPan:function(){},_setPosition:function(d){var y,k,M=this._map,R=this._container,U=M.latLngToContainerPoint(M.getCenter()),ee=M.layerPointToContainerPoint(d),ce=this.options.direction,ge=R.offsetWidth,Ae=R.offsetHeight,Re=se(this.options.offset),qe=this._getAnchor();ce==="top"?(y=ge/2,k=Ae):ce==="bottom"?(y=ge/2,k=0):ce==="center"?(y=ge/2,k=Ae/2):ce==="right"?(y=0,k=Ae/2):ce==="left"?(y=ge,k=Ae/2):ee.x<U.x?(ce="right",y=0,k=Ae/2):(ce="left",y=ge+(Re.x+qe.x)*2,k=Ae/2),d=d.subtract(se(y,k,!0)).add(Re).add(qe),en(R,"leaflet-tooltip-right"),en(R,"leaflet-tooltip-left"),en(R,"leaflet-tooltip-top"),en(R,"leaflet-tooltip-bottom"),nt(R,"leaflet-tooltip-"+ce),Ut(R,d)},_updatePosition:function(){var d=this._map.latLngToLayerPoint(this._latlng);this._setPosition(d)},setOpacity:function(d){this.options.opacity=d,this._container&&Zt(this._container,d)},_animateZoom:function(d){var y=this._map._latLngToNewLayerPoint(this._latlng,d.zoom,d.center);this._setPosition(y)},_getAnchor:function(){return se(this._source&&this._source._getTooltipAnchor&&!this.options.sticky?this._source._getTooltipAnchor():[0,0])}}),Ax=function(d,y){return new oc(d,y)};ht.include({openTooltip:function(d,y,k){return this._initOverlay(oc,d,y,k).openOn(this),this},closeTooltip:function(d){return d.close(),this}}),vi.include({bindTooltip:function(d,y){return this._tooltip&&this.isTooltipOpen()&&this.unbindTooltip(),this._tooltip=this._initOverlay(oc,this._tooltip,d,y),this._initTooltipInteractions(),this._tooltip.options.permanent&&this._map&&this._map.hasLayer(this)&&this.openTooltip(),this},unbindTooltip:function(){return this._tooltip&&(this._initTooltipInteractions(!0),this.closeTooltip(),this._tooltip=null),this},_initTooltipInteractions:function(d){if(!(!d&&this._tooltipHandlersAdded)){var y=d?"off":"on",k={remove:this.closeTooltip,move:this._moveTooltip};this._tooltip.options.permanent?k.add=this._openTooltip:(k.mouseover=this._openTooltip,k.mouseout=this.closeTooltip,k.click=this._openTooltip,this._map?this._addFocusListeners():k.add=this._addFocusListeners),this._tooltip.options.sticky&&(k.mousemove=this._moveTooltip),this[y](k),this._tooltipHandlersAdded=!d}},openTooltip:function(d){return this._tooltip&&(this instanceof qi||(this._tooltip._source=this),this._tooltip._prepareOpen(d)&&(this._tooltip.openOn(this._map),this.getElement?this._setAriaDescribedByOnLayer(this):this.eachLayer&&this.eachLayer(this._setAriaDescribedByOnLayer,this))),this},closeTooltip:function(){if(this._tooltip)return this._tooltip.close()},toggleTooltip:function(){return this._tooltip&&this._tooltip.toggle(this),this},isTooltipOpen:function(){return this._tooltip.isOpen()},setTooltipContent:function(d){return this._tooltip&&this._tooltip.setContent(d),this},getTooltip:function(){return this._tooltip},_addFocusListeners:function(){this.getElement?this._addFocusListenersOnLayer(this):this.eachLayer&&this.eachLayer(this._addFocusListenersOnLayer,this)},_addFocusListenersOnLayer:function(d){var y=typeof d.getElement=="function"&&d.getElement();y&&(tt(y,"focus",function(){this._tooltip._source=d,this.openTooltip()},this),tt(y,"blur",this.closeTooltip,this))},_setAriaDescribedByOnLayer:function(d){var y=typeof d.getElement=="function"&&d.getElement();y&&y.setAttribute("aria-describedby",this._tooltip._container.id)},_openTooltip:function(d){if(!(!this._tooltip||!this._map)){if(this._map.dragging&&this._map.dragging.moving()&&!this._openOnceFlag){this._openOnceFlag=!0;var y=this;this._map.once("moveend",function(){y._openOnceFlag=!1,y._openTooltip(d)});return}this._tooltip._source=d.layer||d.target,this.openTooltip(this._tooltip.options.sticky?d.latlng:void 0)}},_moveTooltip:function(d){var y=d.latlng,k,M;this._tooltip.options.sticky&&d.originalEvent&&(k=this._map.mouseEventToContainerPoint(d.originalEvent),M=this._map.containerPointToLayerPoint(k),y=this._map.layerPointToLatLng(M)),this._tooltip.setLatLng(y)}});var Vp=Yi.extend({options:{iconSize:[12,12],html:!1,bgPos:null,className:"leaflet-div-icon"},createIcon:function(d){var y=d&&d.tagName==="DIV"?d:document.createElement("div"),k=this.options;if(k.html instanceof Element?(Fr(y),y.appendChild(k.html)):y.innerHTML=k.html!==!1?k.html:"",k.bgPos){var M=se(k.bgPos);y.style.backgroundPosition=-M.x+"px "+-M.y+"px"}return this._setIconStyles(y,"icon"),y},createShadow:function(){return null}});function Tx(d){return new Vp(d)}Yi.Default=Ql;var Ws=vi.extend({options:{tileSize:256,opacity:1,updateWhenIdle:Fe.mobile,updateWhenZooming:!0,updateInterval:200,zIndex:1,bounds:null,minZoom:0,maxZoom:void 0,maxNativeZoom:void 0,minNativeZoom:void 0,noWrap:!1,pane:"tilePane",className:"",keepBuffer:2},initialize:function(d){w(this,d)},onAdd:function(){this._initContainer(),this._levels={},this._tiles={},this._resetView()},beforeAdd:function(d){d._addZoomLimit(this)},onRemove:function(d){this._removeAllTiles(),It(this._container),d._removeZoomLimit(this),this._container=null,this._tileZoom=void 0},bringToFront:function(){return this._map&&(In(this._container),this._setAutoZIndex(Math.max)),this},bringToBack:function(){return this._map&&(Mo(this._container),this._setAutoZIndex(Math.min)),this},getContainer:function(){return this._container},setOpacity:function(d){return this.options.opacity=d,this._updateOpacity(),this},setZIndex:function(d){return this.options.zIndex=d,this._updateZIndex(),this},isLoading:function(){return this._loading},redraw:function(){if(this._map){this._removeAllTiles();var d=this._clampZoom(this._map.getZoom());d!==this._tileZoom&&(this._tileZoom=d,this._updateLevels()),this._update()}return this},getEvents:function(){var d={viewprereset:this._invalidateAll,viewreset:this._resetView,zoom:this._resetView,moveend:this._onMoveEnd};return this.options.updateWhenIdle||(this._onMove||(this._onMove=f(this._onMoveEnd,this.options.updateInterval,this)),d.move=this._onMove),this._zoomAnimated&&(d.zoomanim=this._animateZoom),d},createTile:function(){return document.createElement("div")},getTileSize:function(){var d=this.options.tileSize;return d instanceof re?d:new re(d,d)},_updateZIndex:function(){this._container&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._container.style.zIndex=this.options.zIndex)},_setAutoZIndex:function(d){for(var y=this.getPane().children,k=-d(-1/0,1/0),M=0,R=y.length,U;M<R;M++)U=y[M].style.zIndex,y[M]!==this._container&&U&&(k=d(k,+U));isFinite(k)&&(this.options.zIndex=k+d(-1,1),this._updateZIndex())},_updateOpacity:function(){if(this._map&&!Fe.ielt9){Zt(this._container,this.options.opacity);var d=+new Date,y=!1,k=!1;for(var M in this._tiles){var R=this._tiles[M];if(!(!R.current||!R.loaded)){var U=Math.min(1,(d-R.loaded)/200);Zt(R.el,U),U<1?y=!0:(R.active?k=!0:this._onOpaqueTile(R),R.active=!0)}}k&&!this._noPrune&&this._pruneTiles(),y&&(z(this._fadeFrame),this._fadeFrame=F(this._updateOpacity,this))}},_onOpaqueTile:p,_initContainer:function(){this._container||(this._container=ct("div","leaflet-layer "+(this.options.className||"")),this._updateZIndex(),this.options.opacity<1&&this._updateOpacity(),this.getPane().appendChild(this._container))},_updateLevels:function(){var d=this._tileZoom,y=this.options.maxZoom;if(d!==void 0){for(var k in this._levels)k=Number(k),this._levels[k].el.children.length||k===d?(this._levels[k].el.style.zIndex=y-Math.abs(d-k),this._onUpdateLevel(k)):(It(this._levels[k].el),this._removeTilesAtZoom(k),this._onRemoveLevel(k),delete this._levels[k]);var M=this._levels[d],R=this._map;return M||(M=this._levels[d]={},M.el=ct("div","leaflet-tile-container leaflet-zoom-animated",this._container),M.el.style.zIndex=y,M.origin=R.project(R.unproject(R.getPixelOrigin()),d).round(),M.zoom=d,this._setZoomTransform(M,R.getCenter(),R.getZoom()),p(M.el.offsetWidth),this._onCreateLevel(M)),this._level=M,M}},_onUpdateLevel:p,_onRemoveLevel:p,_onCreateLevel:p,_pruneTiles:function(){if(this._map){var d,y,k=this._map.getZoom();if(k>this.options.maxZoom||k<this.options.minZoom){this._removeAllTiles();return}for(d in this._tiles)y=this._tiles[d],y.retain=y.current;for(d in this._tiles)if(y=this._tiles[d],y.current&&!y.active){var M=y.coords;this._retainParent(M.x,M.y,M.z,M.z-5)||this._retainChildren(M.x,M.y,M.z,M.z+2)}for(d in this._tiles)this._tiles[d].retain||this._removeTile(d)}},_removeTilesAtZoom:function(d){for(var y in this._tiles)this._tiles[y].coords.z===d&&this._removeTile(y)},_removeAllTiles:function(){for(var d in this._tiles)this._removeTile(d)},_invalidateAll:function(){for(var d in this._levels)It(this._levels[d].el),this._onRemoveLevel(Number(d)),delete this._levels[d];this._removeAllTiles(),this._tileZoom=void 0},_retainParent:function(d,y,k,M){var R=Math.floor(d/2),U=Math.floor(y/2),ee=k-1,ce=new re(+R,+U);ce.z=+ee;var ge=this._tileCoordsToKey(ce),Ae=this._tiles[ge];return Ae&&Ae.active?(Ae.retain=!0,!0):(Ae&&Ae.loaded&&(Ae.retain=!0),ee>M?this._retainParent(R,U,ee,M):!1)},_retainChildren:function(d,y,k,M){for(var R=2*d;R<2*d+2;R++)for(var U=2*y;U<2*y+2;U++){var ee=new re(R,U);ee.z=k+1;var ce=this._tileCoordsToKey(ee),ge=this._tiles[ce];if(ge&&ge.active){ge.retain=!0;continue}else ge&&ge.loaded&&(ge.retain=!0);k+1<M&&this._retainChildren(R,U,k+1,M)}},_resetView:function(d){var y=d&&(d.pinch||d.flyTo);this._setView(this._map.getCenter(),this._map.getZoom(),y,y)},_animateZoom:function(d){this._setView(d.center,d.zoom,!0,d.noUpdate)},_clampZoom:function(d){var y=this.options;return y.minNativeZoom!==void 0&&d<y.minNativeZoom?y.minNativeZoom:y.maxNativeZoom!==void 0&&y.maxNativeZoom<d?y.maxNativeZoom:d},_setView:function(d,y,k,M){var R=Math.round(y);this.options.maxZoom!==void 0&&R>this.options.maxZoom||this.options.minZoom!==void 0&&R<this.options.minZoom?R=void 0:R=this._clampZoom(R);var U=this.options.updateWhenZooming&&R!==this._tileZoom;(!M||U)&&(this._tileZoom=R,this._abortLoading&&this._abortLoading(),this._updateLevels(),this._resetGrid(),R!==void 0&&this._update(d),k||this._pruneTiles(),this._noPrune=!!k),this._setZoomTransforms(d,y)},_setZoomTransforms:function(d,y){for(var k in this._levels)this._setZoomTransform(this._levels[k],d,y)},_setZoomTransform:function(d,y,k){var M=this._map.getZoomScale(k,d.zoom),R=d.origin.multiplyBy(M).subtract(this._map._getNewPixelOrigin(y,k)).round();Fe.any3d?ba(d.el,R,M):Ut(d.el,R)},_resetGrid:function(){var d=this._map,y=d.options.crs,k=this._tileSize=this.getTileSize(),M=this._tileZoom,R=this._map.getPixelWorldBounds(this._tileZoom);R&&(this._globalTileRange=this._pxBoundsToTileRange(R)),this._wrapX=y.wrapLng&&!this.options.noWrap&&[Math.floor(d.project([0,y.wrapLng[0]],M).x/k.x),Math.ceil(d.project([0,y.wrapLng[1]],M).x/k.y)],this._wrapY=y.wrapLat&&!this.options.noWrap&&[Math.floor(d.project([y.wrapLat[0],0],M).y/k.x),Math.ceil(d.project([y.wrapLat[1],0],M).y/k.y)]},_onMoveEnd:function(){!this._map||this._map._animatingZoom||this._update()},_getTiledPixelBounds:function(d){var y=this._map,k=y._animatingZoom?Math.max(y._animateToZoom,y.getZoom()):y.getZoom(),M=y.getZoomScale(k,this._tileZoom),R=y.project(d,this._tileZoom).floor(),U=y.getSize().divideBy(M*2);return new B(R.subtract(U),R.add(U))},_update:function(d){var y=this._map;if(y){var k=this._clampZoom(y.getZoom());if(d===void 0&&(d=y.getCenter()),this._tileZoom!==void 0){var M=this._getTiledPixelBounds(d),R=this._pxBoundsToTileRange(M),U=R.getCenter(),ee=[],ce=this.options.keepBuffer,ge=new B(R.getBottomLeft().subtract([ce,-ce]),R.getTopRight().add([ce,-ce]));if(!(isFinite(R.min.x)&&isFinite(R.min.y)&&isFinite(R.max.x)&&isFinite(R.max.y)))throw new Error("Attempted to load an infinite number of tiles");for(var Ae in this._tiles){var Re=this._tiles[Ae].coords;(Re.z!==this._tileZoom||!ge.contains(new re(Re.x,Re.y)))&&(this._tiles[Ae].current=!1)}if(Math.abs(k-this._tileZoom)>1){this._setView(d,k);return}for(var qe=R.min.y;qe<=R.max.y;qe++)for(var ot=R.min.x;ot<=R.max.x;ot++){var $n=new re(ot,qe);if($n.z=this._tileZoom,!!this._isValidTile($n)){var gn=this._tiles[this._tileCoordsToKey($n)];gn?gn.current=!0:ee.push($n)}}if(ee.sort(function(_t,wt){return _t.distanceTo(U)-wt.distanceTo(U)}),ee.length!==0){this._loading||(this._loading=!0,this.fire("loading"));var Nr=document.createDocumentFragment();for(ot=0;ot<ee.length;ot++)this._addTile(ee[ot],Nr);this._level.el.appendChild(Nr)}}}},_isValidTile:function(d){var y=this._map.options.crs;if(!y.infinite){var k=this._globalTileRange;if(!y.wrapLng&&(d.x<k.min.x||d.x>k.max.x)||!y.wrapLat&&(d.y<k.min.y||d.y>k.max.y))return!1}if(!this.options.bounds)return!0;var M=this._tileCoordsToBounds(d);return V(this.options.bounds).overlaps(M)},_keyToBounds:function(d){return this._tileCoordsToBounds(this._keyToTileCoords(d))},_tileCoordsToNwSe:function(d){var y=this._map,k=this.getTileSize(),M=d.scaleBy(k),R=M.add(k),U=y.unproject(M,d.z),ee=y.unproject(R,d.z);return[U,ee]},_tileCoordsToBounds:function(d){var y=this._tileCoordsToNwSe(d),k=new ae(y[0],y[1]);return this.options.noWrap||(k=this._map.wrapLatLngBounds(k)),k},_tileCoordsToKey:function(d){return d.x+":"+d.y+":"+d.z},_keyToTileCoords:function(d){var y=d.split(":"),k=new re(+y[0],+y[1]);return k.z=+y[2],k},_removeTile:function(d){var y=this._tiles[d];y&&(It(y.el),delete this._tiles[d],this.fire("tileunload",{tile:y.el,coords:this._keyToTileCoords(d)}))},_initTile:function(d){nt(d,"leaflet-tile");var y=this.getTileSize();d.style.width=y.x+"px",d.style.height=y.y+"px",d.onselectstart=p,d.onmousemove=p,Fe.ielt9&&this.options.opacity<1&&Zt(d,this.options.opacity)},_addTile:function(d,y){var k=this._getTilePos(d),M=this._tileCoordsToKey(d),R=this.createTile(this._wrapCoords(d),o(this._tileReady,this,d));this._initTile(R),this.createTile.length<2&&F(o(this._tileReady,this,d,null,R)),Ut(R,k),this._tiles[M]={el:R,coords:d,current:!0},y.appendChild(R),this.fire("tileloadstart",{tile:R,coords:d})},_tileReady:function(d,y,k){y&&this.fire("tileerror",{error:y,tile:k,coords:d});var M=this._tileCoordsToKey(d);k=this._tiles[M],k&&(k.loaded=+new Date,this._map._fadeAnimated?(Zt(k.el,0),z(this._fadeFrame),this._fadeFrame=F(this._updateOpacity,this)):(k.active=!0,this._pruneTiles()),y||(nt(k.el,"leaflet-tile-loaded"),this.fire("tileload",{tile:k.el,coords:d})),this._noTilesToLoad()&&(this._loading=!1,this.fire("load"),Fe.ielt9||!this._map._fadeAnimated?F(this._pruneTiles,this):setTimeout(o(this._pruneTiles,this),250)))},_getTilePos:function(d){return d.scaleBy(this.getTileSize()).subtract(this._level.origin)},_wrapCoords:function(d){var y=new re(this._wrapX?m(d.x,this._wrapX):d.x,this._wrapY?m(d.y,this._wrapY):d.y);return y.z=d.z,y},_pxBoundsToTileRange:function(d){var y=this.getTileSize();return new B(d.min.unscaleBy(y).floor(),d.max.unscaleBy(y).ceil().subtract([1,1]))},_noTilesToLoad:function(){for(var d in this._tiles)if(!this._tiles[d].loaded)return!1;return!0}});function Zp(d){return new Ws(d)}var eo=Ws.extend({options:{minZoom:0,maxZoom:18,subdomains:"abc",errorTileUrl:"",zoomOffset:0,tms:!1,zoomReverse:!1,detectRetina:!1,crossOrigin:!1,referrerPolicy:!1},initialize:function(d,y){this._url=d,y=w(this,y),y.detectRetina&&Fe.retina&&y.maxZoom>0?(y.tileSize=Math.floor(y.tileSize/2),y.zoomReverse?(y.zoomOffset--,y.minZoom=Math.min(y.maxZoom,y.minZoom+1)):(y.zoomOffset++,y.maxZoom=Math.max(y.minZoom,y.maxZoom-1)),y.minZoom=Math.max(0,y.minZoom)):y.zoomReverse?y.minZoom=Math.min(y.maxZoom,y.minZoom):y.maxZoom=Math.max(y.minZoom,y.maxZoom),typeof y.subdomains=="string"&&(y.subdomains=y.subdomains.split("")),this.on("tileunload",this._onTileRemove)},setUrl:function(d,y){return this._url===d&&y===void 0&&(y=!0),this._url=d,y||this.redraw(),this},createTile:function(d,y){var k=document.createElement("img");return tt(k,"load",o(this._tileOnLoad,this,y,k)),tt(k,"error",o(this._tileOnError,this,y,k)),(this.options.crossOrigin||this.options.crossOrigin==="")&&(k.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),typeof this.options.referrerPolicy=="string"&&(k.referrerPolicy=this.options.referrerPolicy),k.alt="",k.src=this.getTileUrl(d),k},getTileUrl:function(d){var y={r:Fe.retina?"@2x":"",s:this._getSubdomain(d),x:d.x,y:d.y,z:this._getZoomForUrl()};if(this._map&&!this._map.options.crs.infinite){var k=this._globalTileRange.max.y-d.y;this.options.tms&&(y.y=k),y["-y"]=k}return N(this._url,i(y,this.options))},_tileOnLoad:function(d,y){Fe.ielt9?setTimeout(o(d,this,null,y),0):d(null,y)},_tileOnError:function(d,y,k){var M=this.options.errorTileUrl;M&&y.getAttribute("src")!==M&&(y.src=M),d(k,y)},_onTileRemove:function(d){d.tile.onload=null},_getZoomForUrl:function(){var d=this._tileZoom,y=this.options.maxZoom,k=this.options.zoomReverse,M=this.options.zoomOffset;return k&&(d=y-d),d+M},_getSubdomain:function(d){var y=Math.abs(d.x+d.y)%this.options.subdomains.length;return this.options.subdomains[y]},_abortLoading:function(){var d,y;for(d in this._tiles)if(this._tiles[d].coords.z!==this._tileZoom&&(y=this._tiles[d].el,y.onload=p,y.onerror=p,!y.complete)){y.src=C;var k=this._tiles[d].coords;It(y),delete this._tiles[d],this.fire("tileabort",{tile:y,coords:k})}},_removeTile:function(d){var y=this._tiles[d];if(y)return y.el.setAttribute("src",C),Ws.prototype._removeTile.call(this,d)},_tileReady:function(d,y,k){if(!(!this._map||k&&k.getAttribute("src")===C))return Ws.prototype._tileReady.call(this,d,y,k)}});function Yr(d,y){return new eo(d,y)}var sc=eo.extend({defaultWmsParams:{service:"WMS",request:"GetMap",layers:"",styles:"",format:"image/jpeg",transparent:!1,version:"1.1.1"},options:{crs:null,uppercase:!1},initialize:function(d,y){this._url=d;var k=i({},this.defaultWmsParams);for(var M in y)M in this.options||(k[M]=y[M]);y=w(this,y);var R=y.detectRetina&&Fe.retina?2:1,U=this.getTileSize();k.width=U.x*R,k.height=U.y*R,this.wmsParams=k},onAdd:function(d){this._crs=this.options.crs||d.options.crs,this._wmsVersion=parseFloat(this.wmsParams.version);var y=this._wmsVersion>=1.3?"crs":"srs";this.wmsParams[y]=this._crs.code,eo.prototype.onAdd.call(this,d)},getTileUrl:function(d){var y=this._tileCoordsToNwSe(d),k=this._crs,M=W(k.project(y[0]),k.project(y[1])),R=M.min,U=M.max,ee=(this._wmsVersion>=1.3&&this._crs===Rf?[R.y,R.x,U.y,U.x]:[R.x,R.y,U.x,U.y]).join(","),ce=eo.prototype.getTileUrl.call(this,d);return ce+E(this.wmsParams,ce,this.options.uppercase)+(this.options.uppercase?"&BBOX=":"&bbox=")+ee},setParams:function(d,y){return i(this.wmsParams,d),y||this.redraw(),this}});function Kr(d,y){return new sc(d,y)}eo.WMS=sc,Yr.wms=Kr;var _r=vi.extend({options:{padding:.1},initialize:function(d){w(this,d),u(this),this._layers=this._layers||{}},onAdd:function(){this._container||(this._initContainer(),nt(this._container,"leaflet-zoom-animated")),this.getPane().appendChild(this._container),this._update(),this.on("update",this._updatePaths,this)},onRemove:function(){this.off("update",this._updatePaths,this),this._destroyContainer()},getEvents:function(){var d={viewreset:this._reset,zoom:this._onZoom,moveend:this._update,zoomend:this._onZoomEnd};return this._zoomAnimated&&(d.zoomanim=this._onAnimZoom),d},_onAnimZoom:function(d){this._updateTransform(d.center,d.zoom)},_onZoom:function(){this._updateTransform(this._map.getCenter(),this._map.getZoom())},_updateTransform:function(d,y){var k=this._map.getZoomScale(y,this._zoom),M=this._map.getSize().multiplyBy(.5+this.options.padding),R=this._map.project(this._center,y),U=M.multiplyBy(-k).add(R).subtract(this._map._getNewPixelOrigin(d,y));Fe.any3d?ba(this._container,U,k):Ut(this._container,U)},_reset:function(){this._update(),this._updateTransform(this._center,this._zoom);for(var d in this._layers)this._layers[d]._reset()},_onZoomEnd:function(){for(var d in this._layers)this._layers[d]._project()},_updatePaths:function(){for(var d in this._layers)this._layers[d]._update()},_update:function(){var d=this.options.padding,y=this._map.getSize(),k=this._map.containerPointToLayerPoint(y.multiplyBy(-d)).round();this._bounds=new B(k,k.add(y.multiplyBy(1+d*2)).round()),this._center=this._map.getCenter(),this._zoom=this._map.getZoom()}}),ku=_r.extend({options:{tolerance:0},getEvents:function(){var d=_r.prototype.getEvents.call(this);return d.viewprereset=this._onViewPreReset,d},_onViewPreReset:function(){this._postponeUpdatePaths=!0},onAdd:function(){_r.prototype.onAdd.call(this),this._draw()},_initContainer:function(){var d=this._container=document.createElement("canvas");tt(d,"mousemove",this._onMouseMove,this),tt(d,"click dblclick mousedown mouseup contextmenu",this._onClick,this),tt(d,"mouseout",this._handleMouseOut,this),d._leaflet_disable_events=!0,this._ctx=d.getContext("2d")},_destroyContainer:function(){z(this._redrawRequest),delete this._ctx,It(this._container),Nt(this._container),delete this._container},_updatePaths:function(){if(!this._postponeUpdatePaths){var d;this._redrawBounds=null;for(var y in this._layers)d=this._layers[y],d._update();this._redraw()}},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){_r.prototype._update.call(this);var d=this._bounds,y=this._container,k=d.getSize(),M=Fe.retina?2:1;Ut(y,d.min),y.width=M*k.x,y.height=M*k.y,y.style.width=k.x+"px",y.style.height=k.y+"px",Fe.retina&&this._ctx.scale(2,2),this._ctx.translate(-d.min.x,-d.min.y),this.fire("update")}},_reset:function(){_r.prototype._reset.call(this),this._postponeUpdatePaths&&(this._postponeUpdatePaths=!1,this._updatePaths())},_initPath:function(d){this._updateDashArray(d),this._layers[u(d)]=d;var y=d._order={layer:d,prev:this._drawLast,next:null};this._drawLast&&(this._drawLast.next=y),this._drawLast=y,this._drawFirst=this._drawFirst||this._drawLast},_addPath:function(d){this._requestRedraw(d)},_removePath:function(d){var y=d._order,k=y.next,M=y.prev;k?k.prev=M:this._drawLast=M,M?M.next=k:this._drawFirst=k,delete d._order,delete this._layers[u(d)],this._requestRedraw(d)},_updatePath:function(d){this._extendRedrawBounds(d),d._project(),d._update(),this._requestRedraw(d)},_updateStyle:function(d){this._updateDashArray(d),this._requestRedraw(d)},_updateDashArray:function(d){if(typeof d.options.dashArray=="string"){var y=d.options.dashArray.split(/[, ]+/),k=[],M,R;for(R=0;R<y.length;R++){if(M=Number(y[R]),isNaN(M))return;k.push(M)}d.options._dashArray=k}else d.options._dashArray=d.options.dashArray},_requestRedraw:function(d){this._map&&(this._extendRedrawBounds(d),this._redrawRequest=this._redrawRequest||F(this._redraw,this))},_extendRedrawBounds:function(d){if(d._pxBounds){var y=(d.options.weight||0)+1;this._redrawBounds=this._redrawBounds||new B,this._redrawBounds.extend(d._pxBounds.min.subtract([y,y])),this._redrawBounds.extend(d._pxBounds.max.add([y,y]))}},_redraw:function(){this._redrawRequest=null,this._redrawBounds&&(this._redrawBounds.min._floor(),this._redrawBounds.max._ceil()),this._clear(),this._draw(),this._redrawBounds=null},_clear:function(){var d=this._redrawBounds;if(d){var y=d.getSize();this._ctx.clearRect(d.min.x,d.min.y,y.x,y.y)}else this._ctx.save(),this._ctx.setTransform(1,0,0,1,0,0),this._ctx.clearRect(0,0,this._container.width,this._container.height),this._ctx.restore()},_draw:function(){var d,y=this._redrawBounds;if(this._ctx.save(),y){var k=y.getSize();this._ctx.beginPath(),this._ctx.rect(y.min.x,y.min.y,k.x,k.y),this._ctx.clip()}this._drawing=!0;for(var M=this._drawFirst;M;M=M.next)d=M.layer,(!y||d._pxBounds&&d._pxBounds.intersects(y))&&d._updatePath();this._drawing=!1,this._ctx.restore()},_updatePoly:function(d,y){if(this._drawing){var k,M,R,U,ee=d._parts,ce=ee.length,ge=this._ctx;if(ce){for(ge.beginPath(),k=0;k<ce;k++){for(M=0,R=ee[k].length;M<R;M++)U=ee[k][M],ge[M?"lineTo":"moveTo"](U.x,U.y);y&&ge.closePath()}this._fillStroke(ge,d)}}},_updateCircle:function(d){if(!(!this._drawing||d._empty())){var y=d._point,k=this._ctx,M=Math.max(Math.round(d._radius),1),R=(Math.max(Math.round(d._radiusY),1)||M)/M;R!==1&&(k.save(),k.scale(1,R)),k.beginPath(),k.arc(y.x,y.y/R,M,0,Math.PI*2,!1),R!==1&&k.restore(),this._fillStroke(k,d)}},_fillStroke:function(d,y){var k=y.options;k.fill&&(d.globalAlpha=k.fillOpacity,d.fillStyle=k.fillColor||k.color,d.fill(k.fillRule||"evenodd")),k.stroke&&k.weight!==0&&(d.setLineDash&&d.setLineDash(y.options&&y.options._dashArray||[]),d.globalAlpha=k.opacity,d.lineWidth=k.weight,d.strokeStyle=k.color,d.lineCap=k.lineCap,d.lineJoin=k.lineJoin,d.stroke())},_onClick:function(d){for(var y=this._map.mouseEventToLayerPoint(d),k,M,R=this._drawFirst;R;R=R.next)k=R.layer,k.options.interactive&&k._containsPoint(y)&&(!(d.type==="click"||d.type==="preclick")||!this._map._draggableMoved(k))&&(M=k);this._fireEvent(M?[M]:!1,d)},_onMouseMove:function(d){if(!(!this._map||this._map.dragging.moving()||this._map._animatingZoom)){var y=this._map.mouseEventToLayerPoint(d);this._handleMouseHover(d,y)}},_handleMouseOut:function(d){var y=this._hoveredLayer;y&&(en(this._container,"leaflet-interactive"),this._fireEvent([y],d,"mouseout"),this._hoveredLayer=null,this._mouseHoverThrottled=!1)},_handleMouseHover:function(d,y){if(!this._mouseHoverThrottled){for(var k,M,R=this._drawFirst;R;R=R.next)k=R.layer,k.options.interactive&&k._containsPoint(y)&&(M=k);M!==this._hoveredLayer&&(this._handleMouseOut(d),M&&(nt(this._container,"leaflet-interactive"),this._fireEvent([M],d,"mouseover"),this._hoveredLayer=M)),this._fireEvent(this._hoveredLayer?[this._hoveredLayer]:!1,d),this._mouseHoverThrottled=!0,setTimeout(o(function(){this._mouseHoverThrottled=!1},this),32)}},_fireEvent:function(d,y,k){this._map._fireDOMEvent(y,k||y.type,d)},_bringToFront:function(d){var y=d._order;if(y){var k=y.next,M=y.prev;if(k)k.prev=M;else return;M?M.next=k:k&&(this._drawFirst=k),y.prev=this._drawLast,this._drawLast.next=y,y.next=null,this._drawLast=y,this._requestRedraw(d)}},_bringToBack:function(d){var y=d._order;if(y){var k=y.next,M=y.prev;if(M)M.next=k;else return;k?k.prev=M:M&&(this._drawLast=M),y.prev=null,y.next=this._drawFirst,this._drawFirst.prev=y,this._drawFirst=y,this._requestRedraw(d)}}});function lc(d){return Fe.canvas?new ku(d):null}var to=(function(){try{return document.namespaces.add("lvml","urn:schemas-microsoft-com:vml"),function(d){return document.createElement("<lvml:"+d+' class="lvml">')}}catch{}return function(d){return document.createElement("<"+d+' xmlns="urn:schemas-microsoft.com:vml" class="lvml">')}})(),Lf={_initContainer:function(){this._container=ct("div","leaflet-vml-container")},_update:function(){this._map._animatingZoom||(_r.prototype._update.call(this),this.fire("update"))},_initPath:function(d){var y=d._container=to("shape");nt(y,"leaflet-vml-shape "+(this.options.className||"")),y.coordsize="1 1",d._path=to("path"),y.appendChild(d._path),this._updateStyle(d),this._layers[u(d)]=d},_addPath:function(d){var y=d._container;this._container.appendChild(y),d.options.interactive&&d.addInteractiveTarget(y)},_removePath:function(d){var y=d._container;It(y),d.removeInteractiveTarget(y),delete this._layers[u(d)]},_updateStyle:function(d){var y=d._stroke,k=d._fill,M=d.options,R=d._container;R.stroked=!!M.stroke,R.filled=!!M.fill,M.stroke?(y||(y=d._stroke=to("stroke")),R.appendChild(y),y.weight=M.weight+"px",y.color=M.color,y.opacity=M.opacity,M.dashArray?y.dashStyle=O(M.dashArray)?M.dashArray.join(" "):M.dashArray.replace(/( *, *)/g," "):y.dashStyle="",y.endcap=M.lineCap.replace("butt","flat"),y.joinstyle=M.lineJoin):y&&(R.removeChild(y),d._stroke=null),M.fill?(k||(k=d._fill=to("fill")),R.appendChild(k),k.color=M.fillColor||M.color,k.opacity=M.fillOpacity):k&&(R.removeChild(k),d._fill=null)},_updateCircle:function(d){var y=d._point.round(),k=Math.round(d._radius),M=Math.round(d._radiusY||k);this._setPath(d,d._empty()?"M0 0":"AL "+y.x+","+y.y+" "+k+","+M+" 0,"+65535*360)},_setPath:function(d,y){d._path.v=y},_bringToFront:function(d){In(d._container)},_bringToBack:function(d){Mo(d._container)}},Wi=Fe.vml?to:_e,Vs=_r.extend({_initContainer:function(){this._container=Wi("svg"),this._container.setAttribute("pointer-events","none"),this._rootGroup=Wi("g"),this._container.appendChild(this._rootGroup)},_destroyContainer:function(){It(this._container),Nt(this._container),delete this._container,delete this._rootGroup,delete this._svgSize},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){_r.prototype._update.call(this);var d=this._bounds,y=d.getSize(),k=this._container;(!this._svgSize||!this._svgSize.equals(y))&&(this._svgSize=y,k.setAttribute("width",y.x),k.setAttribute("height",y.y)),Ut(k,d.min),k.setAttribute("viewBox",[d.min.x,d.min.y,y.x,y.y].join(" ")),this.fire("update")}},_initPath:function(d){var y=d._path=Wi("path");d.options.className&&nt(y,d.options.className),d.options.interactive&&nt(y,"leaflet-interactive"),this._updateStyle(d),this._layers[u(d)]=d},_addPath:function(d){this._rootGroup||this._initContainer(),this._rootGroup.appendChild(d._path),d.addInteractiveTarget(d._path)},_removePath:function(d){It(d._path),d.removeInteractiveTarget(d._path),delete this._layers[u(d)]},_updatePath:function(d){d._project(),d._update()},_updateStyle:function(d){var y=d._path,k=d.options;y&&(k.stroke?(y.setAttribute("stroke",k.color),y.setAttribute("stroke-opacity",k.opacity),y.setAttribute("stroke-width",k.weight),y.setAttribute("stroke-linecap",k.lineCap),y.setAttribute("stroke-linejoin",k.lineJoin),k.dashArray?y.setAttribute("stroke-dasharray",k.dashArray):y.removeAttribute("stroke-dasharray"),k.dashOffset?y.setAttribute("stroke-dashoffset",k.dashOffset):y.removeAttribute("stroke-dashoffset")):y.setAttribute("stroke","none"),k.fill?(y.setAttribute("fill",k.fillColor||k.color),y.setAttribute("fill-opacity",k.fillOpacity),y.setAttribute("fill-rule",k.fillRule||"evenodd")):y.setAttribute("fill","none"))},_updatePoly:function(d,y){this._setPath(d,je(d._parts,y))},_updateCircle:function(d){var y=d._point,k=Math.max(Math.round(d._radius),1),M=Math.max(Math.round(d._radiusY),1)||k,R="a"+k+","+M+" 0 1,0 ",U=d._empty()?"M0 0":"M"+(y.x-k)+","+y.y+R+k*2+",0 "+R+-k*2+",0 ";this._setPath(d,U)},_setPath:function(d,y){d._path.setAttribute("d",y)},_bringToFront:function(d){In(d._path)},_bringToBack:function(d){Mo(d._path)}});Fe.vml&&Vs.include(Lf);function cc(d){return Fe.svg||Fe.vml?new Vs(d):null}ht.include({getRenderer:function(d){var y=d.options.renderer||this._getPaneRenderer(d.options.pane)||this.options.renderer||this._renderer;return y||(y=this._renderer=this._createRenderer()),this.hasLayer(y)||this.addLayer(y),y},_getPaneRenderer:function(d){if(d==="overlayPane"||d===void 0)return!1;var y=this._paneRenderers[d];return y===void 0&&(y=this._createRenderer({pane:d}),this._paneRenderers[d]=y),y},_createRenderer:function(d){return this.options.preferCanvas&&lc(d)||cc(d)}});var Lo=Gs.extend({initialize:function(d,y){Gs.prototype.initialize.call(this,this._boundsToLatLngs(d),y)},setBounds:function(d){return this.setLatLngs(this._boundsToLatLngs(d))},_boundsToLatLngs:function(d){return d=V(d),[d.getSouthWest(),d.getNorthWest(),d.getNorthEast(),d.getSouthEast()]}});function Ox(d,y){return new Lo(d,y)}Vs.create=Wi,Vs.pointsToPath=je,wa.geometryToLayer=Jn,wa.coordsToLatLng=xu,wa.coordsToLatLngs=nc,wa.latLngToCoords=_u,wa.latLngsToCoords=rc,wa.getFeature=Xa,wa.asFeature=wu,ht.mergeOptions({boxZoom:!0});var wr=Gi.extend({initialize:function(d){this._map=d,this._container=d._container,this._pane=d._panes.overlayPane,this._resetStateTimeout=0,d.on("unload",this._destroy,this)},addHooks:function(){tt(this._container,"mousedown",this._onMouseDown,this)},removeHooks:function(){Nt(this._container,"mousedown",this._onMouseDown,this)},moved:function(){return this._moved},_destroy:function(){It(this._pane),delete this._pane},_resetState:function(){this._resetStateTimeout=0,this._moved=!1},_clearDeferredResetState:function(){this._resetStateTimeout!==0&&(clearTimeout(this._resetStateTimeout),this._resetStateTimeout=0)},_onMouseDown:function(d){if(!d.shiftKey||d.which!==1&&d.button!==1)return!1;this._clearDeferredResetState(),this._resetState(),Rs(),du(),this._startPoint=this._map.mouseEventToContainerPoint(d),tt(document,{contextmenu:Va,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseMove:function(d){this._moved||(this._moved=!0,this._box=ct("div","leaflet-zoom-box",this._container),nt(this._container,"leaflet-crosshair"),this._map.fire("boxzoomstart")),this._point=this._map.mouseEventToContainerPoint(d);var y=new B(this._point,this._startPoint),k=y.getSize();Ut(this._box,y.min),this._box.style.width=k.x+"px",this._box.style.height=k.y+"px"},_finish:function(){this._moved&&(It(this._box),en(this._container,"leaflet-crosshair")),Hi(),ql(),Nt(document,{contextmenu:Va,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseUp:function(d){if(!(d.which!==1&&d.button!==1)&&(this._finish(),!!this._moved)){this._clearDeferredResetState(),this._resetStateTimeout=setTimeout(o(this._resetState,this),0);var y=new ae(this._map.containerPointToLatLng(this._startPoint),this._map.containerPointToLatLng(this._point));this._map.fitBounds(y).fire("boxzoomend",{boxZoomBounds:y})}},_onKeyDown:function(d){d.keyCode===27&&(this._finish(),this._clearDeferredResetState(),this._resetState())}});ht.addInitHook("addHandler","boxZoom",wr),ht.mergeOptions({doubleClickZoom:!0});var Au=Gi.extend({addHooks:function(){this._map.on("dblclick",this._onDoubleClick,this)},removeHooks:function(){this._map.off("dblclick",this._onDoubleClick,this)},_onDoubleClick:function(d){var y=this._map,k=y.getZoom(),M=y.options.zoomDelta,R=d.originalEvent.shiftKey?k-M:k+M;y.options.doubleClickZoom==="center"?y.setZoom(R):y.setZoomAround(d.containerPoint,R)}});ht.addInitHook("addHandler","doubleClickZoom",Au),ht.mergeOptions({dragging:!0,inertia:!0,inertiaDeceleration:3400,inertiaMaxSpeed:1/0,easeLinearity:.2,worldCopyJump:!1,maxBoundsViscosity:0});var Vi=Gi.extend({addHooks:function(){if(!this._draggable){var d=this._map;this._draggable=new Za(d._mapPane,d._container),this._draggable.on({dragstart:this._onDragStart,drag:this._onDrag,dragend:this._onDragEnd},this),this._draggable.on("predrag",this._onPreDragLimit,this),d.options.worldCopyJump&&(this._draggable.on("predrag",this._onPreDragWrap,this),d.on("zoomend",this._onZoomEnd,this),d.whenReady(this._onZoomEnd,this))}nt(this._map._container,"leaflet-grab leaflet-touch-drag"),this._draggable.enable(),this._positions=[],this._times=[]},removeHooks:function(){en(this._map._container,"leaflet-grab"),en(this._map._container,"leaflet-touch-drag"),this._draggable.disable()},moved:function(){return this._draggable&&this._draggable._moved},moving:function(){return this._draggable&&this._draggable._moving},_onDragStart:function(){var d=this._map;if(d._stop(),this._map.options.maxBounds&&this._map.options.maxBoundsViscosity){var y=V(this._map.options.maxBounds);this._offsetLimit=W(this._map.latLngToContainerPoint(y.getNorthWest()).multiplyBy(-1),this._map.latLngToContainerPoint(y.getSouthEast()).multiplyBy(-1).add(this._map.getSize())),this._viscosity=Math.min(1,Math.max(0,this._map.options.maxBoundsViscosity))}else this._offsetLimit=null;d.fire("movestart").fire("dragstart"),d.options.inertia&&(this._positions=[],this._times=[])},_onDrag:function(d){if(this._map.options.inertia){var y=this._lastTime=+new Date,k=this._lastPos=this._draggable._absPos||this._draggable._newPos;this._positions.push(k),this._times.push(y),this._prunePositions(y)}this._map.fire("move",d).fire("drag",d)},_prunePositions:function(d){for(;this._positions.length>1&&d-this._times[0]>50;)this._positions.shift(),this._times.shift()},_onZoomEnd:function(){var d=this._map.getSize().divideBy(2),y=this._map.latLngToLayerPoint([0,0]);this._initialWorldOffset=y.subtract(d).x,this._worldWidth=this._map.getPixelWorldBounds().getSize().x},_viscousLimit:function(d,y){return d-(d-y)*this._viscosity},_onPreDragLimit:function(){if(!(!this._viscosity||!this._offsetLimit)){var d=this._draggable._newPos.subtract(this._draggable._startPos),y=this._offsetLimit;d.x<y.min.x&&(d.x=this._viscousLimit(d.x,y.min.x)),d.y<y.min.y&&(d.y=this._viscousLimit(d.y,y.min.y)),d.x>y.max.x&&(d.x=this._viscousLimit(d.x,y.max.x)),d.y>y.max.y&&(d.y=this._viscousLimit(d.y,y.max.y)),this._draggable._newPos=this._draggable._startPos.add(d)}},_onPreDragWrap:function(){var d=this._worldWidth,y=Math.round(d/2),k=this._initialWorldOffset,M=this._draggable._newPos.x,R=(M-y+k)%d+y-k,U=(M+y+k)%d-y-k,ee=Math.abs(R+k)<Math.abs(U+k)?R:U;this._draggable._absPos=this._draggable._newPos.clone(),this._draggable._newPos.x=ee},_onDragEnd:function(d){var y=this._map,k=y.options,M=!k.inertia||d.noInertia||this._times.length<2;if(y.fire("dragend",d),M)y.fire("moveend");else{this._prunePositions(+new Date);var R=this._lastPos.subtract(this._positions[0]),U=(this._lastTime-this._times[0])/1e3,ee=k.easeLinearity,ce=R.multiplyBy(ee/U),ge=ce.distanceTo([0,0]),Ae=Math.min(k.inertiaMaxSpeed,ge),Re=ce.multiplyBy(Ae/ge),qe=Ae/(k.inertiaDeceleration*ee),ot=Re.multiplyBy(-qe/2).round();!ot.x&&!ot.y?y.fire("moveend"):(ot=y._limitOffset(ot,y.options.maxBounds),F(function(){y.panBy(ot,{duration:qe,easeLinearity:ee,noMoveStart:!0,animate:!0})}))}}});ht.addInitHook("addHandler","dragging",Vi),ht.mergeOptions({keyboard:!0,keyboardPanDelta:80});var If=Gi.extend({keyCodes:{left:[37],right:[39],down:[40],up:[38],zoomIn:[187,107,61,171],zoomOut:[189,109,54,173]},initialize:function(d){this._map=d,this._setPanDelta(d.options.keyboardPanDelta),this._setZoomDelta(d.options.zoomDelta)},addHooks:function(){var d=this._map._container;d.tabIndex<=0&&(d.tabIndex="0"),tt(d,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.on({focus:this._addHooks,blur:this._removeHooks},this)},removeHooks:function(){this._removeHooks(),Nt(this._map._container,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.off({focus:this._addHooks,blur:this._removeHooks},this)},_onMouseDown:function(){if(!this._focused){var d=document.body,y=document.documentElement,k=d.scrollTop||y.scrollTop,M=d.scrollLeft||y.scrollLeft;this._map._container.focus(),window.scrollTo(M,k)}},_onFocus:function(){this._focused=!0,this._map.fire("focus")},_onBlur:function(){this._focused=!1,this._map.fire("blur")},_setPanDelta:function(d){var y=this._panKeys={},k=this.keyCodes,M,R;for(M=0,R=k.left.length;M<R;M++)y[k.left[M]]=[-1*d,0];for(M=0,R=k.right.length;M<R;M++)y[k.right[M]]=[d,0];for(M=0,R=k.down.length;M<R;M++)y[k.down[M]]=[0,d];for(M=0,R=k.up.length;M<R;M++)y[k.up[M]]=[0,-1*d]},_setZoomDelta:function(d){var y=this._zoomKeys={},k=this.keyCodes,M,R;for(M=0,R=k.zoomIn.length;M<R;M++)y[k.zoomIn[M]]=d;for(M=0,R=k.zoomOut.length;M<R;M++)y[k.zoomOut[M]]=-d},_addHooks:function(){tt(document,"keydown",this._onKeyDown,this)},_removeHooks:function(){Nt(document,"keydown",this._onKeyDown,this)},_onKeyDown:function(d){if(!(d.altKey||d.ctrlKey||d.metaKey)){var y=d.keyCode,k=this._map,M;if(y in this._panKeys){if(!k._panAnim||!k._panAnim._inProgress)if(M=this._panKeys[y],d.shiftKey&&(M=se(M).multiplyBy(3)),k.options.maxBounds&&(M=k._limitOffset(se(M),k.options.maxBounds)),k.options.worldCopyJump){var R=k.wrapLatLng(k.unproject(k.project(k.getCenter()).add(M)));k.panTo(R)}else k.panBy(M)}else if(y in this._zoomKeys)k.setZoom(k.getZoom()+(d.shiftKey?3:1)*this._zoomKeys[y]);else if(y===27&&k._popup&&k._popup.options.closeOnEscapeKey)k.closePopup();else return;Va(d)}}});ht.addInitHook("addHandler","keyboard",If),ht.mergeOptions({scrollWheelZoom:!0,wheelDebounceTime:40,wheelPxPerZoomLevel:60});var uc=Gi.extend({addHooks:function(){tt(this._map._container,"wheel",this._onWheelScroll,this),this._delta=0},removeHooks:function(){Nt(this._map._container,"wheel",this._onWheelScroll,this)},_onWheelScroll:function(d){var y=cr(d),k=this._map.options.wheelDebounceTime;this._delta+=y,this._lastMousePos=this._map.mouseEventToContainerPoint(d),this._startTime||(this._startTime=+new Date);var M=Math.max(k-(+new Date-this._startTime),0);clearTimeout(this._timer),this._timer=setTimeout(o(this._performZoom,this),M),Va(d)},_performZoom:function(){var d=this._map,y=d.getZoom(),k=this._map.options.zoomSnap||0;d._stop();var M=this._delta/(this._map.options.wheelPxPerZoomLevel*4),R=4*Math.log(2/(1+Math.exp(-Math.abs(M))))/Math.LN2,U=k?Math.ceil(R/k)*k:R,ee=d._limitZoom(y+(this._delta>0?U:-U))-y;this._delta=0,this._startTime=null,ee&&(d.options.scrollWheelZoom==="center"?d.setZoom(y+ee):d.setZoomAround(this._lastMousePos,y+ee))}});ht.addInitHook("addHandler","scrollWheelZoom",uc);var Io=600;ht.mergeOptions({tapHold:Fe.touchNative&&Fe.safari&&Fe.mobile,tapTolerance:15});var Tu=Gi.extend({addHooks:function(){tt(this._map._container,"touchstart",this._onDown,this)},removeHooks:function(){Nt(this._map._container,"touchstart",this._onDown,this)},_onDown:function(d){if(clearTimeout(this._holdTimeout),d.touches.length===1){var y=d.touches[0];this._startPos=this._newPos=new re(y.clientX,y.clientY),this._holdTimeout=setTimeout(o(function(){this._cancel(),this._isTapValid()&&(tt(document,"touchend",pn),tt(document,"touchend touchcancel",this._cancelClickPrevent),this._simulateEvent("contextmenu",y))},this),Io),tt(document,"touchend touchcancel contextmenu",this._cancel,this),tt(document,"touchmove",this._onMove,this)}},_cancelClickPrevent:function d(){Nt(document,"touchend",pn),Nt(document,"touchend touchcancel",d)},_cancel:function(){clearTimeout(this._holdTimeout),Nt(document,"touchend touchcancel contextmenu",this._cancel,this),Nt(document,"touchmove",this._onMove,this)},_onMove:function(d){var y=d.touches[0];this._newPos=new re(y.clientX,y.clientY)},_isTapValid:function(){return this._newPos.distanceTo(this._startPos)<=this._map.options.tapTolerance},_simulateEvent:function(d,y){var k=new MouseEvent(d,{bubbles:!0,cancelable:!0,view:window,screenX:y.screenX,screenY:y.screenY,clientX:y.clientX,clientY:y.clientY});k._simulated=!0,y.target.dispatchEvent(k)}});ht.addInitHook("addHandler","tapHold",Tu),ht.mergeOptions({touchZoom:Fe.touch,bounceAtZoomLimits:!0});var $f=Gi.extend({addHooks:function(){nt(this._map._container,"leaflet-touch-zoom"),tt(this._map._container,"touchstart",this._onTouchStart,this)},removeHooks:function(){en(this._map._container,"leaflet-touch-zoom"),Nt(this._map._container,"touchstart",this._onTouchStart,this)},_onTouchStart:function(d){var y=this._map;if(!(!d.touches||d.touches.length!==2||y._animatingZoom||this._zooming)){var k=y.mouseEventToContainerPoint(d.touches[0]),M=y.mouseEventToContainerPoint(d.touches[1]);this._centerPoint=y.getSize()._divideBy(2),this._startLatLng=y.containerPointToLatLng(this._centerPoint),y.options.touchZoom!=="center"&&(this._pinchStartLatLng=y.containerPointToLatLng(k.add(M)._divideBy(2))),this._startDist=k.distanceTo(M),this._startZoom=y.getZoom(),this._moved=!1,this._zooming=!0,y._stop(),tt(document,"touchmove",this._onTouchMove,this),tt(document,"touchend touchcancel",this._onTouchEnd,this),pn(d)}},_onTouchMove:function(d){if(!(!d.touches||d.touches.length!==2||!this._zooming)){var y=this._map,k=y.mouseEventToContainerPoint(d.touches[0]),M=y.mouseEventToContainerPoint(d.touches[1]),R=k.distanceTo(M)/this._startDist;if(this._zoom=y.getScaleZoom(R,this._startZoom),!y.options.bounceAtZoomLimits&&(this._zoom<y.getMinZoom()&&R<1||this._zoom>y.getMaxZoom()&&R>1)&&(this._zoom=y._limitZoom(this._zoom)),y.options.touchZoom==="center"){if(this._center=this._startLatLng,R===1)return}else{var U=k._add(M)._divideBy(2)._subtract(this._centerPoint);if(R===1&&U.x===0&&U.y===0)return;this._center=y.unproject(y.project(this._pinchStartLatLng,this._zoom).subtract(U),this._zoom)}this._moved||(y._moveStart(!0,!1),this._moved=!0),z(this._animRequest);var ee=o(y._move,y,this._center,this._zoom,{pinch:!0,round:!1},void 0);this._animRequest=F(ee,this,!0),pn(d)}},_onTouchEnd:function(){if(!this._moved||!this._zooming){this._zooming=!1;return}this._zooming=!1,z(this._animRequest),Nt(document,"touchmove",this._onTouchMove,this),Nt(document,"touchend touchcancel",this._onTouchEnd,this),this._map.options.zoomAnimation?this._map._animateZoom(this._center,this._map._limitZoom(this._zoom),!0,this._map.options.zoomSnap):this._map._resetView(this._center,this._map._limitZoom(this._zoom))}});ht.addInitHook("addHandler","touchZoom",$f),ht.BoxZoom=wr,ht.DoubleClickZoom=Au,ht.Drag=Vi,ht.Keyboard=If,ht.ScrollWheelZoom=uc,ht.TapHold=Tu,ht.TouchZoom=$f,n.Bounds=B,n.Browser=Fe,n.CRS=pe,n.Canvas=ku,n.Circle=vu,n.CircleMarker=Fs,n.Class=Q,n.Control=jr,n.DivIcon=Vp,n.DivOverlay=Qn,n.DomEvent=mu,n.DomUtil=$s,n.Draggable=Za,n.Evented=Z,n.FeatureGroup=qi,n.GeoJSON=wa,n.GridLayer=Ws,n.Handler=Gi,n.Icon=Yi,n.ImageOverlay=Ys,n.LatLng=oe,n.LatLngBounds=ae,n.Layer=vi,n.LayerGroup=Hs,n.LineUtil=wx,n.Map=ht,n.Marker=tc,n.Mixin=bx,n.Path=Ki,n.Point=re,n.PolyUtil=Pf,n.Polygon=Gs,n.Polyline=_a,n.Popup=ac,n.PosAnimation=Bs,n.Projection=zp,n.Rectangle=Lo,n.Renderer=_r,n.SVG=Vs,n.SVGOverlay=Eu,n.TileLayer=eo,n.Tooltip=oc,n.Transformation=Ce,n.Util=X,n.VideoOverlay=Qa,n.bind=o,n.bounds=W,n.canvas=lc,n.circle=qp,n.circleMarker=Gp,n.control=xa,n.divIcon=Tx,n.extend=i,n.featureGroup=Hp,n.geoJSON=Su,n.geoJson=ic,n.gridLayer=Zp,n.icon=Jl,n.imageOverlay=Yp,n.latLng=me,n.latLngBounds=V,n.layerGroup=Sx,n.map=Tf,n.marker=Fp,n.point=se,n.polygon=kx,n.polyline=Ex,n.popup=Wp,n.rectangle=Ox,n.setOptions=w,n.stamp=u,n.svg=cc,n.svgOverlay=Kp,n.tileLayer=Yr,n.tooltip=Ax,n.transformation=ve,n.version=r,n.videoOverlay=Ks;var Bf=window.L;n.noConflict=function(){return window.L=Bf,this},window.L=n}))})(Yh,Yh.exports)),Yh.exports}var hW=fW();const _w=ui(hW),a0=e=>e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#39;");function Ec(e){const t=document.getElementById(e);if(!t)throw new Error(`#${e} not found`);return t}function mW(e){const{buttonId:t,buttonInputId:n,modalId:r,closeMapId:i,mapCloseBtnId:a,searchBoxId:o,suggestionsId:c,mapId:u}=e.ids,f=e.initialCenter??{lat:37.5665,lon:126.978},m=Ec(n),p=Ec(t),g=Ec(r),v=Ec(a),_=Ec(o),w=Ec(c),E=i?Ec(i):null;let T=null,N=null,O=null;const P=z=>z.code==="Space"||z.key===" "||z.key==="Spacebar"||z.key==="Space",C=z=>{P(z)&&document.activeElement!==_&&(z.preventDefault(),z.stopPropagation(),_.focus())},D=()=>{g.style.display="flex",T?setTimeout(()=>T?.invalidateSize(),200):setTimeout(()=>{T=_w.map(u,{keyboard:!1}).setView([f.lat,f.lon],11),_w.tileLayer("https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",{attribution:" OpenStreetMap"}).addTo(T),T.invalidateSize()},0),g.addEventListener("keydown",C,!0),g.addEventListener("keyup",C,!0),_.focus()},$=()=>{g.style.display="none",_.value="",w.innerHTML="",O&&(window.clearTimeout(O),O=null),g.removeEventListener("keydown",C,!0),g.removeEventListener("keyup",C,!0)},H=z=>{const X=z.dataset.name??"",Q=Number(z.dataset.lat??""),J=Number(z.dataset.lon??"");!Number.isFinite(Q)||!Number.isFinite(J)||!T||(N?N.setLatLng([Q,J]):N=_w.marker([Q,J]).addTo(T),T.flyTo([Q,J],14,{duration:.5}),m.value=X,m.dataset.lat=String(Q),m.dataset.lon=String(J),e.onSelected?.({name:X,lat:Q,lon:J}),w.innerHTML="",$())},Y=()=>{O&&window.clearTimeout(O);const z=_.value.trim();if(!z){w.innerHTML="";return}O=window.setTimeout(async()=>{try{const X="https://nominatim.openstreetmap.org/search?format=jsonv2&limit=12&accept-language=ko&addressdetails=1&dedupe=1&email=unique950318@gmail.com&q="+encodeURIComponent(z),Q=await fetch(X,{headers:{Accept:"application/json"}});if(!Q.ok)throw new Error(`HTTP ${Q.status}`);const J=await Q.json();if(!Array.isArray(J)||J.length===0){w.innerHTML='<li style="padding:8px"> </li>';return}const q=J.slice(0,12).map((Z,re)=>{const ue=Z.display_name.split(",").slice(0,3).map(W=>W.trim()).join("  "),se="padding:8px;cursor:pointer;outline:none;",B=re===0?"background-color:#1f2937;border-radius:4px;":"";return`<li
                    role="option"
                    data-name="${a0(ue)}"
                    data-lat="${a0(Z.lat)}"
                    data-lon="${a0(Z.lon)}"
                    data-active="${re===0?"1":"0"}"
                    style="${se}${B}"
                  >${a0(ue)}</li>`}).join("");w.innerHTML=q}catch(X){console.error(X),w.innerHTML='<li style="padding:8px;color:#b91c1c"> </li>'}},250)},K=z=>{const X=z.target;X.tagName==="LI"&&H(X)},F=z=>{if(z.key==="Enter"){const X=w.querySelector('li[data-active="1"]')??w.querySelector("li");X&&H(X)}};return p.addEventListener("click",D),v.addEventListener("click",$),E&&E.addEventListener("click",$),_.addEventListener("input",Y),_.addEventListener("keydown",F),w.addEventListener("click",K),()=>{p.removeEventListener("click",D),v.removeEventListener("click",$),E&&E.removeEventListener("click",$),_.removeEventListener("input",Y),_.removeEventListener("keydown",F),w.removeEventListener("click",K),g.removeEventListener("keydown",C,!0),g.removeEventListener("keyup",C,!0),O&&(window.clearTimeout(O),O=null),T&&(T.remove(),T=null)}}function ed(){return document.getElementById("suggestions")}function ay(e){const t=Array.from(e.querySelectorAll('li, [role="option"]'));return t.forEach((n,r)=>{n.getAttribute("role")||n.setAttribute("role","option"),n.setAttribute("aria-selected",n===document.activeElement?"true":"false"),n.tabIndex=-1,n.id||(n.id=`suggestion-item-${r}`)}),t}function ww(e,t){const n=ay(e);if(n.length===0)return;const r=n.length;let i=t;i<0&&(i=r-1),i>=r&&(i=0),n.forEach(o=>{o.tabIndex=-1,o.setAttribute("aria-selected","false")});const a=n[i];a.tabIndex=0,a.setAttribute("aria-selected","true"),a.focus()}const pW='button, [href], input:not([type="hidden"]), select, textarea, [tabindex]:not([tabindex="-1"])';function gW({open:e,setOpen:t,setBtnText:n,setLocalValue:r,nameRef:i,latRef:a,lonRef:o,triggerBtnRef:c,onSelect:u}){S.useEffect(()=>{if(!e)return;const f=mW({ids:{buttonInputId:"inputBirthPlace",buttonId:"inputBirthPlaceBtn",modalId:"mapModal",closeMapId:"closeMap",mapCloseBtnId:"mapCloseBtn",searchBoxId:"searchBox",suggestionsId:"suggestions",mapId:"map"},onSelected:O=>{n(""),r(O.name),i.current&&(i.current.value=O.name),a.current&&(a.current.value=String(O.lat)),o.current&&(o.current.value=String(O.lon)),u?.(O),t(!1)}}),m=document.getElementById("inputBirthPlaceBtn");m&&m.dispatchEvent(new MouseEvent("click",{bubbles:!0}));const p=document.getElementById("mapModal");if(!p)return;const g=document.getElementById("searchBox"),v=ed();setTimeout(()=>g?.focus(),0);const _=O=>{if(O.key==="Escape"){O.preventDefault(),t(!1);return}if(O.key!=="Tab")return;const P=ed();if(P&&P.contains(document.activeElement))return;const C=Array.from(p.querySelectorAll(pW)).filter(Y=>!Y.hasAttribute("disabled")&&Y.tabIndex!==-1);if(C.length===0)return;const D=C[0],$=C[C.length-1],H=document.activeElement;O.shiftKey?(H===D||!p.contains(H))&&(O.preventDefault(),$.focus()):(H===$||!p.contains(H))&&(O.preventDefault(),D.focus())};p.addEventListener("keydown",_);const w=O=>{if(O.key!=="ArrowDown")return;const P=ed();!P||ay(P).length===0||O.preventDefault()};g?.addEventListener("keydown",w);const E=O=>{if(O.target.value.trim()===""){const C=ed();C&&(C.innerHTML="")}};g?.addEventListener("input",E);const T=O=>{const P=ed();if(!P)return;const C=ay(P);if(C.length===0)return;const D=document.activeElement,$=D?C.indexOf(D):-1;if($===-1)return;const H=Y=>{O.preventDefault(),ww(P,$+Y)};switch(O.key){case"Tab":O.preventDefault(),H(O.shiftKey?-1:1);break;case"ArrowDown":O.preventDefault(),H(1);break;case"ArrowUp":O.preventDefault(),H(-1);break;case"Home":O.preventDefault(),ww(P,0);break;case"End":O.preventDefault(),ww(P,C.length-1);break;case"Enter":case" ":O.preventDefault(),D.click();break;case"Backspace":O.preventDefault(),P.innerHTML="",g?.focus();break}O.stopPropagation()};let N=null;return v&&(v.addEventListener("keydown",T),N=new MutationObserver(()=>{const O=ed();!O||ay(O).length}),N.observe(v,{childList:!0,subtree:!1})),()=>{p.removeEventListener("keydown",_),g?.removeEventListener("keydown",w),g?.removeEventListener("input",E),v&&v.removeEventListener("keydown",T),N?.disconnect(),f?.()}},[e,u,n,r,t,i,a,o]),S.useEffect(()=>{e||setTimeout(()=>c.current?.focus(),0)},[e,c])}function xB({onSelect:e,placeholderText:t=" ",buttonStyle:n,value:r}){const i=uW({placeholderText:t,value:r});return gW({...i,onSelect:e}),x.jsxs("li",{className:"flex items-center gap-2",children:[x.jsx("input",{className:`w-[60%] desk:w-[70%] mr-2 border rounded-lg p-2
                   bg-white dark:bg-neutral-900
                   border-neutral-300 dark:border-neutral-700
                   text-neutral-900 dark:text-neutral-100
                   placeholder-neutral-400 dark:placeholder-neutral-500`,type:"text",id:"inputBirthPlace",readOnly:!0,"aria-readonly":"true",value:i.localValue&&i.localValue.trim()!==""?i.localValue:t}),x.jsx("button",{ref:i.triggerBtnRef,type:"button",id:"inputBirthPlaceBtn",className:"btn_style text-sm desk:text-base w-[calc(40%_-_8px)] desk:w-[calc(30%_-_8px)] p-0",style:n,onClick:()=>i.setOpen(!0),"aria-haspopup":"dialog","aria-expanded":i.open,"aria-controls":"mapModal",children:i.btnText}),x.jsx("input",{ref:i.nameRef,type:"hidden",name:"birthPlace_name",defaultValue:""}),x.jsx("input",{ref:i.latRef,type:"hidden",name:"birthPlace_lat",defaultValue:""}),x.jsx("input",{ref:i.lonRef,type:"hidden",name:"birthPlace_lon",defaultValue:""}),i.open&&x.jsx("div",{id:"mapModal",role:"dialog","aria-modal":"true","aria-labelledby":"mapModalTitle",className:"fixed inset-0 z-[999] flex items-center justify-center bg-black/40 dark:bg-black/60 p-4",children:x.jsxs("div",{className:`w-[96vw] desk:w-[920px] rounded-2xl shadow-2xl overflow-hidden flex flex-col
                          bg-white dark:bg-neutral-950
                          text-neutral-900 dark:text-neutral-100
                          border border-neutral-200 dark:border-neutral-800`,children:[x.jsxs("div",{className:"flex items-center justify-between px-4 py-3 border-b border-neutral-200 dark:border-neutral-800",children:[x.jsx("div",{id:"mapModalTitle",className:"font-bold",children:" "}),x.jsx("button",{id:"mapCloseBtn","aria-label":"",className:"text-xl hover:opacity-70 cursor-pointer",onClick:()=>i.setOpen(!1),children:""})]}),x.jsxs("div",{className:"relative grid gap-2 px-3 py-3 border-t border-neutral-200 dark:border-neutral-800",children:[x.jsx("label",{htmlFor:"searchBox",className:"text-xs text-neutral-500 dark:text-neutral-400",children:"/ "}),x.jsxs("div",{className:"relative",children:[x.jsx("input",{id:"searchBox",placeholder:":  / seoul / / tokyo",className:`h-10 w-full rounded-lg border px-3 outline-none
                             bg-white dark:bg-neutral-900
                             border-neutral-300 dark:border-neutral-700
                             placeholder-neutral-400 dark:placeholder-neutral-500
                             text-neutral-900 dark:text-neutral-100
                             focus:border-neutral-400 dark:focus:border-neutral-600`,autoComplete:"off"}),x.jsx("ul",{id:"suggestions",role:"listbox","aria-label":" ",className:`absolute left-0 right-0 mt-1 max-h-60 overflow-y-auto rounded-lg border shadow-xl z-[1005]
                             bg-white dark:bg-neutral-900
                             border-neutral-200 dark:border-neutral-700
                             text-neutral-900 dark:text-neutral-100
                             divide-y divide-neutral-200 dark:divide-neutral-800`})]})]}),x.jsx("div",{className:"relative h-[250px] desk:h-[360px] border-y border-neutral-200 dark:border-neutral-800",children:x.jsx("div",{id:"map",className:"h-full w-full"})}),x.jsxs("div",{className:"gap-2 p-3",children:[x.jsxs("div",{id:"footerHint",className:"pr-2 text-xs text-neutral-600 dark:text-neutral-300 flex-1",children:[x.jsxs("p",{className:"flex mb-1",children:[x.jsx("span",{className:"mr-1",children:"*"}),x.jsx("span",{children:"   ."})]}),x.jsxs("p",{className:"flex",children:[x.jsx("span",{className:"mr-1",children:"*"}),x.jsx("span",{children:"       ."})]})]}),x.jsx("button",{id:"closeMap",style:{display:"none"},"aria-hidden":"true",tabIndex:-1})]})]})})]})}function rr(e){return`Minified Redux error #${e}; visit https://redux.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var yW=typeof Symbol=="function"&&Symbol.observable||"@@observable",DC=yW,Sw=()=>Math.random().toString(36).substring(7).split("").join("."),bW={INIT:`@@redux/INIT${Sw()}`,REPLACE:`@@redux/REPLACE${Sw()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${Sw()}`},jy=bW;function e2(e){if(typeof e!="object"||e===null)return!1;let t=e;for(;Object.getPrototypeOf(t)!==null;)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t||Object.getPrototypeOf(e)===null}function t2(e,t,n){if(typeof e!="function")throw new Error(rr(2));if(typeof t=="function"&&typeof n=="function"||typeof n=="function"&&typeof arguments[3]=="function")throw new Error(rr(0));if(typeof t=="function"&&typeof n>"u"&&(n=t,t=void 0),typeof n<"u"){if(typeof n!="function")throw new Error(rr(1));return n(t2)(e,t)}let r=e,i=t,a=new Map,o=a,c=0,u=!1;function f(){o===a&&(o=new Map,a.forEach((E,T)=>{o.set(T,E)}))}function m(){if(u)throw new Error(rr(3));return i}function p(E){if(typeof E!="function")throw new Error(rr(4));if(u)throw new Error(rr(5));let T=!0;f();const N=c++;return o.set(N,E),function(){if(T){if(u)throw new Error(rr(6));T=!1,f(),o.delete(N),a=null}}}function g(E){if(!e2(E))throw new Error(rr(7));if(typeof E.type>"u")throw new Error(rr(8));if(typeof E.type!="string")throw new Error(rr(17));if(u)throw new Error(rr(9));try{u=!0,i=r(i,E)}finally{u=!1}return(a=o).forEach(N=>{N()}),E}function v(E){if(typeof E!="function")throw new Error(rr(10));r=E,g({type:jy.REPLACE})}function _(){const E=p;return{subscribe(T){if(typeof T!="object"||T===null)throw new Error(rr(11));function N(){const P=T;P.next&&P.next(m())}return N(),{unsubscribe:E(N)}},[DC](){return this}}}return g({type:jy.INIT}),{dispatch:g,subscribe:p,getState:m,replaceReducer:v,[DC]:_}}function vW(e){Object.keys(e).forEach(t=>{const n=e[t];if(typeof n(void 0,{type:jy.INIT})>"u")throw new Error(rr(12));if(typeof n(void 0,{type:jy.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(rr(13))})}function _B(e){const t=Object.keys(e),n={};for(let a=0;a<t.length;a++){const o=t[a];typeof e[o]=="function"&&(n[o]=e[o])}const r=Object.keys(n);let i;try{vW(n)}catch(a){i=a}return function(o={},c){if(i)throw i;let u=!1;const f={};for(let m=0;m<r.length;m++){const p=r[m],g=n[p],v=o[p],_=g(v,c);if(typeof _>"u")throw c&&c.type,new Error(rr(14));f[p]=_,u=u||_!==v}return u=u||r.length!==Object.keys(o).length,u?f:o}}function RC(e,t){return function(...n){return t(e.apply(this,n))}}function LC(e,t){if(typeof e=="function")return RC(e,t);if(typeof e!="object"||e===null)throw new Error(rr(16));const n={};for(const r in e){const i=e[r];typeof i=="function"&&(n[r]=RC(i,t))}return n}function dm(...e){return e.length===0?t=>t:e.length===1?e[0]:e.reduce((t,n)=>(...r)=>t(n(...r)))}function wB(...e){return t=>(n,r)=>{const i=t(n,r);let a=()=>{throw new Error(rr(15))};const o={getState:i.getState,dispatch:(u,...f)=>a(u,...f)},c=e.map(u=>u(o));return a=dm(...c)(i.dispatch),{...i,dispatch:a}}}function SB(e){return e2(e)&&"type"in e&&typeof e.type=="string"}var Ew={exports:{}},kw={};/**
 * @license React
 * use-sync-external-store-with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var IC;function xW(){if(IC)return kw;IC=1;var e=Wd();function t(u,f){return u===f&&(u!==0||1/u===1/f)||u!==u&&f!==f}var n=typeof Object.is=="function"?Object.is:t,r=e.useSyncExternalStore,i=e.useRef,a=e.useEffect,o=e.useMemo,c=e.useDebugValue;return kw.useSyncExternalStoreWithSelector=function(u,f,m,p,g){var v=i(null);if(v.current===null){var _={hasValue:!1,value:null};v.current=_}else _=v.current;v=o(function(){function E(C){if(!T){if(T=!0,N=C,C=p(C),g!==void 0&&_.hasValue){var D=_.value;if(g(D,C))return O=D}return O=C}if(D=O,n(N,C))return D;var $=p(C);return g!==void 0&&g(D,$)?(N=C,D):(N=C,O=$)}var T=!1,N,O,P=m===void 0?null:m;return[function(){return E(f())},P===null?void 0:function(){return E(P())}]},[f,m,p,g]);var w=r(u,v[0],v[1]);return a(function(){_.hasValue=!0,_.value=w},[w]),c(w),w},kw}var $C;function _W(){return $C||($C=1,Ew.exports=xW()),Ew.exports}_W();var wW=S.version.startsWith("19"),SW=Symbol.for(wW?"react.transitional.element":"react.element"),EW=Symbol.for("react.portal"),kW=Symbol.for("react.fragment"),AW=Symbol.for("react.strict_mode"),TW=Symbol.for("react.profiler"),OW=Symbol.for("react.consumer"),jW=Symbol.for("react.context"),EB=Symbol.for("react.forward_ref"),NW=Symbol.for("react.suspense"),CW=Symbol.for("react.suspense_list"),n2=Symbol.for("react.memo"),MW=Symbol.for("react.lazy"),PW=EB,DW=n2;function RW(e){if(typeof e=="object"&&e!==null){const{$$typeof:t}=e;switch(t){case SW:switch(e=e.type,e){case kW:case TW:case AW:case NW:case CW:return e;default:switch(e=e&&e.$$typeof,e){case jW:case EB:case MW:case n2:return e;case OW:return e;default:return t}}case EW:return t}}}function LW(e){return RW(e)===n2}function IW(e,t,n,r,{areStatesEqual:i,areOwnPropsEqual:a,areStatePropsEqual:o}){let c=!1,u,f,m,p,g;function v(N,O){return u=N,f=O,m=e(u,f),p=t(r,f),g=n(m,p,f),c=!0,g}function _(){return m=e(u,f),t.dependsOnOwnProps&&(p=t(r,f)),g=n(m,p,f),g}function w(){return e.dependsOnOwnProps&&(m=e(u,f)),t.dependsOnOwnProps&&(p=t(r,f)),g=n(m,p,f),g}function E(){const N=e(u,f),O=!o(N,m);return m=N,O&&(g=n(m,p,f)),g}function T(N,O){const P=!a(O,f),C=!i(N,u,O,f);return u=N,f=O,P&&C?_():P?w():C?E():g}return function(O,P){return c?T(O,P):v(O,P)}}function $W(e,{initMapStateToProps:t,initMapDispatchToProps:n,initMergeProps:r,...i}){const a=t(e,i),o=n(e,i),c=r(e,i);return IW(a,o,c,e,i)}function BW(e,t){const n={};for(const r in e){const i=e[r];typeof i=="function"&&(n[r]=(...a)=>t(i(...a)))}return n}function cE(e){return function(n){const r=e(n);function i(){return r}return i.dependsOnOwnProps=!1,i}}function BC(e){return e.dependsOnOwnProps?!!e.dependsOnOwnProps:e.length!==1}function kB(e,t){return function(r,{displayName:i}){const a=function(c,u){return a.dependsOnOwnProps?a.mapToProps(c,u):a.mapToProps(c,void 0)};return a.dependsOnOwnProps=!0,a.mapToProps=function(c,u){a.mapToProps=e,a.dependsOnOwnProps=BC(e);let f=a(c,u);return typeof f=="function"&&(a.mapToProps=f,a.dependsOnOwnProps=BC(f),f=a(c,u)),f},a}}function r2(e,t){return(n,r)=>{throw new Error(`Invalid value of type ${typeof e} for ${t} argument when connecting component ${r.wrappedComponentName}.`)}}function zW(e){return e&&typeof e=="object"?cE(t=>BW(e,t)):e?typeof e=="function"?kB(e):r2(e,"mapDispatchToProps"):cE(t=>({dispatch:t}))}function UW(e){return e?typeof e=="function"?kB(e):r2(e,"mapStateToProps"):cE(()=>({}))}function HW(e,t,n){return{...n,...e,...t}}function FW(e){return function(n,{displayName:r,areMergedPropsEqual:i}){let a=!1,o;return function(u,f,m){const p=e(u,f,m);return a?i(p,o)||(o=p):(a=!0,o=p),o}}}function GW(e){return e?typeof e=="function"?FW(e):r2(e,"mergeProps"):()=>HW}function qW(e){e()}function YW(){let e=null,t=null;return{clear(){e=null,t=null},notify(){qW(()=>{let n=e;for(;n;)n.callback(),n=n.next})},get(){const n=[];let r=e;for(;r;)n.push(r),r=r.next;return n},subscribe(n){let r=!0;const i=t={callback:n,next:null,prev:t};return i.prev?i.prev.next=i:e=i,function(){!r||e===null||(r=!1,i.next?i.next.prev=i.prev:t=i.prev,i.prev?i.prev.next=i.next:e=i.next)}}}}var zC={notify(){},get:()=>[]};function AB(e,t){let n,r=zC,i=0,a=!1;function o(w){m();const E=r.subscribe(w);let T=!1;return()=>{T||(T=!0,E(),p())}}function c(){r.notify()}function u(){_.onStateChange&&_.onStateChange()}function f(){return a}function m(){i++,n||(n=t?t.addNestedSub(u):e.subscribe(u),r=YW())}function p(){i--,n&&i===0&&(n(),n=void 0,r.clear(),r=zC)}function g(){a||(a=!0,m())}function v(){a&&(a=!1,p())}const _={addNestedSub:o,notifyNestedSubs:c,handleChangeWrapper:u,isSubscribed:f,trySubscribe:g,tryUnsubscribe:v,getListeners:()=>r};return _}var KW=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",WW=KW(),VW=()=>typeof navigator<"u"&&navigator.product==="ReactNative",ZW=VW(),XW=()=>WW||ZW?S.useLayoutEffect:S.useEffect,Ny=XW();function UC(e,t){return e===t?e!==0||t!==0||1/e===1/t:e!==e&&t!==t}function oy(e,t){if(UC(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;const n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(!Object.prototype.hasOwnProperty.call(t,n[i])||!UC(e[n[i]],t[n[i]]))return!1;return!0}var JW={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},QW={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},eV={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},TB={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},tV={[PW]:eV,[DW]:TB};function HC(e){return LW(e)?TB:tV[e.$$typeof]||JW}var nV=Object.defineProperty,rV=Object.getOwnPropertyNames,FC=Object.getOwnPropertySymbols,iV=Object.getOwnPropertyDescriptor,aV=Object.getPrototypeOf,GC=Object.prototype;function uE(e,t){if(typeof t!="string"){if(GC){const a=aV(t);a&&a!==GC&&uE(e,a)}let n=rV(t);FC&&(n=n.concat(FC(t)));const r=HC(e),i=HC(t);for(let a=0;a<n.length;++a){const o=n[a];if(!QW[o]&&!(i&&i[o])&&!(r&&r[o])){const c=iV(t,o);try{nV(e,o,c)}catch{}}}}return e}var oV=Symbol.for("react-redux-context"),sV=typeof globalThis<"u"?globalThis:{};function lV(){if(!S.createContext)return{};const e=sV[oV]??=new Map;let t=e.get(S.createContext);return t||(t=S.createContext(null),e.set(S.createContext,t)),t}var OB=lV(),cV=[null,null];function uV(e,t,n){Ny(()=>e(...t),n)}function dV(e,t,n,r,i,a){e.current=r,n.current=!1,i.current&&(i.current=null,a())}function fV(e,t,n,r,i,a,o,c,u,f,m){if(!e)return()=>{};let p=!1,g=null;const v=()=>{if(p||!c.current)return;const w=t.getState();let E,T;try{E=r(w,i.current)}catch(N){T=N,g=N}T||(g=null),E===a.current?o.current||f():(a.current=E,u.current=E,o.current=!0,m())};return n.onStateChange=v,n.trySubscribe(),v(),()=>{if(p=!0,n.tryUnsubscribe(),n.onStateChange=null,g)throw g}}function hV(e,t){return e===t}function mV(e,t,n,{pure:r,areStatesEqual:i=hV,areOwnPropsEqual:a=oy,areStatePropsEqual:o=oy,areMergedPropsEqual:c=oy,forwardRef:u=!1,context:f=OB}={}){const m=f,p=UW(e),g=zW(t),v=GW(n),_=!!e;return E=>{const T=E.displayName||E.name||"Component",N=`Connect(${T})`,O={shouldHandleStateChanges:_,displayName:N,wrappedComponentName:T,WrappedComponent:E,initMapStateToProps:p,initMapDispatchToProps:g,initMergeProps:v,areStatesEqual:i,areStatePropsEqual:o,areOwnPropsEqual:a,areMergedPropsEqual:c};function P($){const[H,Y,K]=S.useMemo(()=>{const{reactReduxForwardedRef:ve,...Ze}=$;return[$.context,ve,Ze]},[$]),F=S.useMemo(()=>{let ve=m;return H?.Consumer,ve},[H,m]),z=S.useContext(F),X=!!$.store&&!!$.store.getState&&!!$.store.dispatch,Q=!!z&&!!z.store,J=X?$.store:z.store,q=Q?z.getServerState:J.getState,Z=S.useMemo(()=>$W(J.dispatch,O),[J]),[re,ue]=S.useMemo(()=>{if(!_)return cV;const ve=AB(J,X?void 0:z.subscription),Ze=ve.notifyNestedSubs.bind(ve);return[ve,Ze]},[J,X,z]),se=S.useMemo(()=>X?z:{...z,subscription:re},[X,z,re]),B=S.useRef(void 0),W=S.useRef(K),ae=S.useRef(void 0),V=S.useRef(!1),oe=S.useRef(!1),me=S.useRef(void 0);Ny(()=>(oe.current=!0,()=>{oe.current=!1}),[]);const pe=S.useMemo(()=>()=>ae.current&&K===W.current?ae.current:Z(J.getState(),K),[J,K]),be=S.useMemo(()=>Ze=>re?fV(_,J,re,Z,W,B,V,oe,ae,ue,Ze):()=>{},[re]);uV(dV,[W,B,V,K,ae,ue]);let ne;try{ne=S.useSyncExternalStore(be,pe,q?()=>Z(q(),K):pe)}catch(ve){throw me.current&&(ve.message+=`
The error may be correlated with this previous error:
${me.current.stack}

`),ve}Ny(()=>{me.current=void 0,ae.current=void 0,B.current=ne});const Oe=S.useMemo(()=>S.createElement(E,{...ne,ref:Y}),[Y,E,ne]);return S.useMemo(()=>_?S.createElement(F.Provider,{value:se},Oe):Oe,[F,Oe,se])}const D=S.memo(P);if(D.WrappedComponent=E,D.displayName=P.displayName=N,u){const H=S.forwardRef(function(K,F){return S.createElement(D,{...K,reactReduxForwardedRef:F})});return H.displayName=N,H.WrappedComponent=E,uE(H,E)}return uE(D,E)}}var jB=mV;function pV(e){const{children:t,context:n,serverState:r,store:i}=e,a=S.useMemo(()=>{const u=AB(i);return{store:i,subscription:u,getServerState:r?()=>r:void 0}},[i,r]),o=S.useMemo(()=>i.getState(),[i]);Ny(()=>{const{subscription:u}=a;return u.onStateChange=u.notifyNestedSubs,u.trySubscribe(),o!==i.getState()&&u.notifyNestedSubs(),()=>{u.tryUnsubscribe(),u.onStateChange=void 0}},[a,o]);const c=n||OB;return S.createElement(c.Provider,{value:a},t)}var NB=pV,gV="Invariant failed";function yV(e,t){throw new Error(gV)}var La=function(t){var n=t.top,r=t.right,i=t.bottom,a=t.left,o=r-a,c=i-n,u={top:n,right:r,bottom:i,left:a,width:o,height:c,x:a,y:n,center:{x:(r+a)/2,y:(i+n)/2}};return u},i2=function(t,n){return{top:t.top-n.top,left:t.left-n.left,bottom:t.bottom+n.bottom,right:t.right+n.right}},qC=function(t,n){return{top:t.top+n.top,left:t.left+n.left,bottom:t.bottom-n.bottom,right:t.right-n.right}},bV=function(t,n){return{top:t.top+n.y,left:t.left+n.x,bottom:t.bottom+n.y,right:t.right+n.x}},Aw={top:0,right:0,bottom:0,left:0},a2=function(t){var n=t.borderBox,r=t.margin,i=r===void 0?Aw:r,a=t.border,o=a===void 0?Aw:a,c=t.padding,u=c===void 0?Aw:c,f=La(i2(n,i)),m=La(qC(n,o)),p=La(qC(m,u));return{marginBox:f,borderBox:La(n),paddingBox:m,contentBox:p,margin:i,border:o,padding:u}},Qi=function(t){var n=t.slice(0,-2),r=t.slice(-2);if(r!=="px")return 0;var i=Number(n);return isNaN(i)&&yV(),i},vV=function(){return{x:window.pageXOffset,y:window.pageYOffset}},Cy=function(t,n){var r=t.borderBox,i=t.border,a=t.margin,o=t.padding,c=bV(r,n);return a2({borderBox:c,border:i,margin:a,padding:o})},My=function(t,n){return n===void 0&&(n=vV()),Cy(t,n)},CB=function(t,n){var r={top:Qi(n.marginTop),right:Qi(n.marginRight),bottom:Qi(n.marginBottom),left:Qi(n.marginLeft)},i={top:Qi(n.paddingTop),right:Qi(n.paddingRight),bottom:Qi(n.paddingBottom),left:Qi(n.paddingLeft)},a={top:Qi(n.borderTopWidth),right:Qi(n.borderRightWidth),bottom:Qi(n.borderBottomWidth),left:Qi(n.borderLeftWidth)};return a2({borderBox:t,margin:r,padding:i,border:a})},MB=function(t){var n=t.getBoundingClientRect(),r=window.getComputedStyle(t);return CB(n,r)},fm=function(t){var n=[],r=null,i=function(){for(var o=arguments.length,c=new Array(o),u=0;u<o;u++)c[u]=arguments[u];n=c,!r&&(r=requestAnimationFrame(function(){r=null,t.apply(void 0,n)}))};return i.cancel=function(){r&&(cancelAnimationFrame(r),r=null)},i};function Py(){return Py=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Py.apply(null,arguments)}function PB(e,t){}PB.bind(null,"warn");PB.bind(null,"error");function wl(){}function xV(e,t){return{...e,...t}}function ra(e,t,n){const r=t.map(i=>{const a=xV(n,i.options);return e.addEventListener(i.eventName,i.fn,a),function(){e.removeEventListener(i.eventName,i.fn,a)}});return function(){r.forEach(a=>{a()})}}const _V="Invariant failed";class Dy extends Error{}Dy.prototype.toString=function(){return this.message};function Pe(e,t){throw new Dy(_V)}class wV extends Wt.Component{constructor(...t){super(...t),this.callbacks=null,this.unbind=wl,this.onWindowError=n=>{const r=this.getCallbacks();r.isDragging()&&r.tryAbort(),n.error instanceof Dy&&n.preventDefault()},this.getCallbacks=()=>{if(!this.callbacks)throw new Error("Unable to find AppCallbacks in <ErrorBoundary/>");return this.callbacks},this.setCallbacks=n=>{this.callbacks=n}}componentDidMount(){this.unbind=ra(window,[{eventName:"error",fn:this.onWindowError}])}componentDidCatch(t){if(t instanceof Dy){this.setState({});return}throw t}componentWillUnmount(){this.unbind()}render(){return this.props.children(this.setCallbacks)}}const SV=`
  Press space bar to start a drag.
  When dragging you can use the arrow keys to move the item around and escape to cancel.
  Some screen readers may require you to be in focus mode or to use your pass through key
`,Ry=e=>e+1,EV=e=>`
  You have lifted an item in position ${Ry(e.source.index)}
`,DB=(e,t)=>{const n=e.droppableId===t.droppableId,r=Ry(e.index),i=Ry(t.index);return n?`
      You have moved the item from position ${r}
      to position ${i}
    `:`
    You have moved the item from position ${r}
    in list ${e.droppableId}
    to list ${t.droppableId}
    in position ${i}
  `},RB=(e,t,n)=>t.droppableId===n.droppableId?`
      The item ${e}
      has been combined with ${n.draggableId}`:`
      The item ${e}
      in list ${t.droppableId}
      has been combined with ${n.draggableId}
      in list ${n.droppableId}
    `,kV=e=>{const t=e.destination;if(t)return DB(e.source,t);const n=e.combine;return n?RB(e.draggableId,e.source,n):"You are over an area that cannot be dropped on"},YC=e=>`
  The item has returned to its starting position
  of ${Ry(e.index)}
`,AV=e=>{if(e.reason==="CANCEL")return`
      Movement cancelled.
      ${YC(e.source)}
    `;const t=e.destination,n=e.combine;return t?`
      You have dropped the item.
      ${DB(e.source,t)}
    `:n?`
      You have dropped the item.
      ${RB(e.draggableId,e.source,n)}
    `:`
    The item has been dropped while not over a drop area.
    ${YC(e.source)}
  `},sy={dragHandleUsageInstructions:SV,onDragStart:EV,onDragUpdate:kV,onDragEnd:AV};function TV(e,t){return!!(e===t||Number.isNaN(e)&&Number.isNaN(t))}function LB(e,t){if(e.length!==t.length)return!1;for(let n=0;n<e.length;n++)if(!TV(e[n],t[n]))return!1;return!0}function vt(e,t){const n=S.useState(()=>({inputs:t,result:e()}))[0],r=S.useRef(!0),i=S.useRef(n),o=r.current||!!(t&&i.current.inputs&&LB(t,i.current.inputs))?i.current:{inputs:t,result:e()};return S.useEffect(()=>{r.current=!1,i.current=o},[o]),o.result}function Ke(e,t){return vt(()=>e,t)}const or={x:0,y:0},gr=(e,t)=>({x:e.x+t.x,y:e.y+t.y}),Mi=(e,t)=>({x:e.x-t.x,y:e.y-t.y}),Sl=(e,t)=>e.x===t.x&&e.y===t.y,Qd=e=>({x:e.x!==0?-e.x:0,y:e.y!==0?-e.y:0}),Vc=(e,t,n=0)=>e==="x"?{x:t,y:n}:{x:n,y:t},hm=(e,t)=>Math.sqrt((t.x-e.x)**2+(t.y-e.y)**2),KC=(e,t)=>Math.min(...t.map(n=>hm(e,n))),IB=e=>t=>({x:e(t.x),y:e(t.y)});var OV=(e,t)=>{const n=La({top:Math.max(t.top,e.top),right:Math.min(t.right,e.right),bottom:Math.min(t.bottom,e.bottom),left:Math.max(t.left,e.left)});return n.width<=0||n.height<=0?null:n};const qm=(e,t)=>({top:e.top+t.y,left:e.left+t.x,bottom:e.bottom+t.y,right:e.right+t.x}),WC=e=>[{x:e.left,y:e.top},{x:e.right,y:e.top},{x:e.left,y:e.bottom},{x:e.right,y:e.bottom}],jV={top:0,right:0,bottom:0,left:0},NV=(e,t)=>t?qm(e,t.scroll.diff.displacement):e,CV=(e,t,n)=>n&&n.increasedBy?{...e,[t.end]:e[t.end]+n.increasedBy[t.line]}:e,MV=(e,t)=>t&&t.shouldClipSubject?OV(t.pageMarginBox,e):La(e);var Dd=({page:e,withPlaceholder:t,axis:n,frame:r})=>{const i=NV(e.marginBox,r),a=CV(i,n,t),o=MV(a,r);return{page:e,withPlaceholder:t,active:o}},o2=(e,t)=>{e.frame||Pe();const n=e.frame,r=Mi(t,n.scroll.initial),i=Qd(r),a={...n,scroll:{initial:n.scroll.initial,current:t,diff:{value:r,displacement:i},max:n.scroll.max}},o=Dd({page:e.subject.page,withPlaceholder:e.subject.withPlaceholder,axis:e.axis,frame:a});return{...e,frame:a,subject:o}};function ar(e,t=LB){let n=null;function r(...i){if(n&&n.lastThis===this&&t(i,n.lastArgs))return n.lastResult;const a=e.apply(this,i);return n={lastResult:a,lastArgs:i,lastThis:this},a}return r.clear=function(){n=null},r}const $B=ar(e=>e.reduce((t,n)=>(t[n.descriptor.id]=n,t),{})),BB=ar(e=>e.reduce((t,n)=>(t[n.descriptor.id]=n,t),{})),iv=ar(e=>Object.values(e)),PV=ar(e=>Object.values(e));var ef=ar((e,t)=>PV(t).filter(r=>e===r.descriptor.droppableId).sort((r,i)=>r.descriptor.index-i.descriptor.index));function s2(e){return e.at&&e.at.type==="REORDER"?e.at.destination:null}function av(e){return e.at&&e.at.type==="COMBINE"?e.at.combine:null}var ov=ar((e,t)=>t.filter(n=>n.descriptor.id!==e.descriptor.id)),DV=({isMovingForward:e,draggable:t,destination:n,insideDestination:r,previousImpact:i})=>{if(!n.isCombineEnabled||!s2(i))return null;function o(v){const _={type:"COMBINE",combine:{draggableId:v,droppableId:n.descriptor.id}};return{...i,at:_}}const c=i.displaced.all,u=c.length?c[0]:null;if(e)return u?o(u):null;const f=ov(t,r);if(!u){if(!f.length)return null;const v=f[f.length-1];return o(v.descriptor.id)}const m=f.findIndex(v=>v.descriptor.id===u);m===-1&&Pe();const p=m-1;if(p<0)return null;const g=f[p];return o(g.descriptor.id)},tf=(e,t)=>e.descriptor.droppableId===t.descriptor.id;const zB={point:or,value:0},mm={invisible:{},visible:{},all:[]},RV={displaced:mm,displacedBy:zB,at:null};var la=(e,t)=>n=>e<=n&&n<=t,UB=e=>{const t=la(e.top,e.bottom),n=la(e.left,e.right);return r=>{if(t(r.top)&&t(r.bottom)&&n(r.left)&&n(r.right))return!0;const a=t(r.top)||t(r.bottom),o=n(r.left)||n(r.right);if(a&&o)return!0;const u=r.top<e.top&&r.bottom>e.bottom,f=r.left<e.left&&r.right>e.right;return u&&f?!0:u&&o||f&&a}},LV=e=>{const t=la(e.top,e.bottom),n=la(e.left,e.right);return r=>t(r.top)&&t(r.bottom)&&n(r.left)&&n(r.right)};const l2={direction:"vertical",line:"y",crossAxisLine:"x",start:"top",end:"bottom",size:"height",crossAxisStart:"left",crossAxisEnd:"right",crossAxisSize:"width"},HB={direction:"horizontal",line:"x",crossAxisLine:"y",start:"left",end:"right",size:"width",crossAxisStart:"top",crossAxisEnd:"bottom",crossAxisSize:"height"};var IV=e=>t=>{const n=la(t.top,t.bottom),r=la(t.left,t.right);return i=>e===l2?n(i.top)&&n(i.bottom):r(i.left)&&r(i.right)};const $V=(e,t)=>{const n=t.frame?t.frame.scroll.diff.displacement:or;return qm(e,n)},BV=(e,t,n)=>t.subject.active?n(t.subject.active)(e):!1,zV=(e,t,n)=>n(t)(e),c2=({target:e,destination:t,viewport:n,withDroppableDisplacement:r,isVisibleThroughFrameFn:i})=>{const a=r?$V(e,t):e;return BV(a,t,i)&&zV(a,n,i)},UV=e=>c2({...e,isVisibleThroughFrameFn:UB}),FB=e=>c2({...e,isVisibleThroughFrameFn:LV}),HV=e=>c2({...e,isVisibleThroughFrameFn:IV(e.destination.axis)}),FV=(e,t,n)=>{if(typeof n=="boolean")return n;if(!t)return!0;const{invisible:r,visible:i}=t;if(r[e])return!1;const a=i[e];return a?a.shouldAnimate:!0};function GV(e,t){const n=e.page.marginBox,r={top:t.point.y,right:0,bottom:0,left:t.point.x};return La(i2(n,r))}function pm({afterDragging:e,destination:t,displacedBy:n,viewport:r,forceShouldAnimate:i,last:a}){return e.reduce(function(c,u){const f=GV(u,n),m=u.descriptor.id;if(c.all.push(m),!UV({target:f,destination:t,viewport:r,withDroppableDisplacement:!0}))return c.invisible[u.descriptor.id]=!0,c;const g=FV(m,a,i),v={draggableId:m,shouldAnimate:g};return c.visible[m]=v,c},{all:[],visible:{},invisible:{}})}function qV(e,t){if(!e.length)return 0;const n=e[e.length-1].descriptor.index;return t.inHomeList?n:n+1}function VC({insideDestination:e,inHomeList:t,displacedBy:n,destination:r}){const i=qV(e,{inHomeList:t});return{displaced:mm,displacedBy:n,at:{type:"REORDER",destination:{droppableId:r.descriptor.id,index:i}}}}function Ly({draggable:e,insideDestination:t,destination:n,viewport:r,displacedBy:i,last:a,index:o,forceShouldAnimate:c}){const u=tf(e,n);if(o==null)return VC({insideDestination:t,inHomeList:u,displacedBy:i,destination:n});const f=t.find(_=>_.descriptor.index===o);if(!f)return VC({insideDestination:t,inHomeList:u,displacedBy:i,destination:n});const m=ov(e,t),p=t.indexOf(f),g=m.slice(p);return{displaced:pm({afterDragging:g,destination:n,displacedBy:i,last:a,viewport:r.frame,forceShouldAnimate:c}),displacedBy:i,at:{type:"REORDER",destination:{droppableId:n.descriptor.id,index:o}}}}function kl(e,t){return!!t.effected[e]}var YV=({isMovingForward:e,destination:t,draggables:n,combine:r,afterCritical:i})=>{if(!t.isCombineEnabled)return null;const a=r.draggableId,c=n[a].descriptor.index;return kl(a,i)?e?c:c-1:e?c+1:c},KV=({isMovingForward:e,isInHomeList:t,insideDestination:n,location:r})=>{if(!n.length)return null;const i=r.index,a=e?i+1:i-1,o=n[0].descriptor.index,c=n[n.length-1].descriptor.index,u=t?c:c+1;return a<o||a>u?null:a},WV=({isMovingForward:e,isInHomeList:t,draggable:n,draggables:r,destination:i,insideDestination:a,previousImpact:o,viewport:c,afterCritical:u})=>{const f=o.at;if(f||Pe(),f.type==="REORDER"){const p=KV({isMovingForward:e,isInHomeList:t,location:f.destination,insideDestination:a});return p==null?null:Ly({draggable:n,insideDestination:a,destination:i,viewport:c,last:o.displaced,displacedBy:o.displacedBy,index:p})}const m=YV({isMovingForward:e,destination:i,displaced:o.displaced,draggables:r,combine:f.combine,afterCritical:u});return m==null?null:Ly({draggable:n,insideDestination:a,destination:i,viewport:c,last:o.displaced,displacedBy:o.displacedBy,index:m})},VV=({displaced:e,afterCritical:t,combineWith:n,displacedBy:r})=>{const i=!!(e.visible[n]||e.invisible[n]);return kl(n,t)?i?or:Qd(r.point):i?r.point:or},ZV=({afterCritical:e,impact:t,draggables:n})=>{const r=av(t);r||Pe();const i=r.draggableId,a=n[i].page.borderBox.center,o=VV({displaced:t.displaced,afterCritical:e,combineWith:i,displacedBy:t.displacedBy});return gr(a,o)};const GB=(e,t)=>t.margin[e.start]+t.borderBox[e.size]/2,XV=(e,t)=>t.margin[e.end]+t.borderBox[e.size]/2,u2=(e,t,n)=>t[e.crossAxisStart]+n.margin[e.crossAxisStart]+n.borderBox[e.crossAxisSize]/2,ZC=({axis:e,moveRelativeTo:t,isMoving:n})=>Vc(e.line,t.marginBox[e.end]+GB(e,n),u2(e,t.marginBox,n)),XC=({axis:e,moveRelativeTo:t,isMoving:n})=>Vc(e.line,t.marginBox[e.start]-XV(e,n),u2(e,t.marginBox,n)),JV=({axis:e,moveInto:t,isMoving:n})=>Vc(e.line,t.contentBox[e.start]+GB(e,n),u2(e,t.contentBox,n));var QV=({impact:e,draggable:t,draggables:n,droppable:r,afterCritical:i})=>{const a=ef(r.descriptor.id,n),o=t.page,c=r.axis;if(!a.length)return JV({axis:c,moveInto:r.page,isMoving:o});const{displaced:u,displacedBy:f}=e,m=u.all[0];if(m){const g=n[m];if(kl(m,i))return XC({axis:c,moveRelativeTo:g.page,isMoving:o});const v=Cy(g.page,f.point);return XC({axis:c,moveRelativeTo:v,isMoving:o})}const p=a[a.length-1];if(p.descriptor.id===t.descriptor.id)return o.borderBox.center;if(kl(p.descriptor.id,i)){const g=Cy(p.page,Qd(i.displacedBy.point));return ZC({axis:c,moveRelativeTo:g,isMoving:o})}return ZC({axis:c,moveRelativeTo:p.page,isMoving:o})},dE=(e,t)=>{const n=e.frame;return n?gr(t,n.scroll.diff.displacement):t};const eZ=({impact:e,draggable:t,droppable:n,draggables:r,afterCritical:i})=>{const a=t.page.borderBox.center,o=e.at;return!n||!o?a:o.type==="REORDER"?QV({impact:e,draggable:t,draggables:r,droppable:n,afterCritical:i}):ZV({impact:e,draggables:r,afterCritical:i})};var sv=e=>{const t=eZ(e),n=e.droppable;return n?dE(n,t):t},qB=(e,t)=>{const n=Mi(t,e.scroll.initial),r=Qd(n);return{frame:La({top:t.y,bottom:t.y+e.frame.height,left:t.x,right:t.x+e.frame.width}),scroll:{initial:e.scroll.initial,max:e.scroll.max,current:t,diff:{value:n,displacement:r}}}};function JC(e,t){return e.map(n=>t[n])}function tZ(e,t){for(let n=0;n<t.length;n++){const r=t[n].visible[e];if(r)return r}return null}var nZ=({impact:e,viewport:t,destination:n,draggables:r,maxScrollChange:i})=>{const a=qB(t,gr(t.scroll.current,i)),o=n.frame?o2(n,gr(n.frame.scroll.current,i)):n,c=e.displaced,u=pm({afterDragging:JC(c.all,r),destination:n,displacedBy:e.displacedBy,viewport:a.frame,last:c,forceShouldAnimate:!1}),f=pm({afterDragging:JC(c.all,r),destination:o,displacedBy:e.displacedBy,viewport:t.frame,last:c,forceShouldAnimate:!1}),m={},p={},g=[c,u,f];return c.all.forEach(_=>{const w=tZ(_,g);if(w){p[_]=w;return}m[_]=!0}),{...e,displaced:{all:c.all,invisible:m,visible:p}}},rZ=(e,t)=>gr(e.scroll.diff.displacement,t),d2=({pageBorderBoxCenter:e,draggable:t,viewport:n})=>{const r=rZ(n,e),i=Mi(r,t.page.borderBox.center);return gr(t.client.borderBox.center,i)},YB=({draggable:e,destination:t,newPageBorderBoxCenter:n,viewport:r,withDroppableDisplacement:i,onlyOnMainAxis:a=!1})=>{const o=Mi(n,e.page.borderBox.center),u={target:qm(e.page.borderBox,o),destination:t,withDroppableDisplacement:i,viewport:r};return a?HV(u):FB(u)},iZ=({isMovingForward:e,draggable:t,destination:n,draggables:r,previousImpact:i,viewport:a,previousPageBorderBoxCenter:o,previousClientSelection:c,afterCritical:u})=>{if(!n.isEnabled)return null;const f=ef(n.descriptor.id,r),m=tf(t,n),p=DV({isMovingForward:e,draggable:t,destination:n,insideDestination:f,previousImpact:i})||WV({isMovingForward:e,isInHomeList:m,draggable:t,draggables:r,destination:n,insideDestination:f,previousImpact:i,viewport:a,afterCritical:u});if(!p)return null;const g=sv({impact:p,draggable:t,droppable:n,draggables:r,afterCritical:u});if(YB({draggable:t,destination:n,newPageBorderBoxCenter:g,viewport:a.frame,withDroppableDisplacement:!1,onlyOnMainAxis:!0}))return{clientSelection:d2({pageBorderBoxCenter:g,draggable:t,viewport:a}),impact:p,scrollJumpRequest:null};const _=Mi(g,o),w=nZ({impact:p,viewport:a,destination:n,draggables:r,maxScrollChange:_});return{clientSelection:c,impact:w,scrollJumpRequest:_}};const Mr=e=>{const t=e.subject.active;return t||Pe(),t};var aZ=({isMovingForward:e,pageBorderBoxCenter:t,source:n,droppables:r,viewport:i})=>{const a=n.subject.active;if(!a)return null;const o=n.axis,c=la(a[o.start],a[o.end]),u=iv(r).filter(m=>m!==n).filter(m=>m.isEnabled).filter(m=>!!m.subject.active).filter(m=>UB(i.frame)(Mr(m))).filter(m=>{const p=Mr(m);return e?a[o.crossAxisEnd]<p[o.crossAxisEnd]:p[o.crossAxisStart]<a[o.crossAxisStart]}).filter(m=>{const p=Mr(m),g=la(p[o.start],p[o.end]);return c(p[o.start])||c(p[o.end])||g(a[o.start])||g(a[o.end])}).sort((m,p)=>{const g=Mr(m)[o.crossAxisStart],v=Mr(p)[o.crossAxisStart];return e?g-v:v-g}).filter((m,p,g)=>Mr(m)[o.crossAxisStart]===Mr(g[0])[o.crossAxisStart]);if(!u.length)return null;if(u.length===1)return u[0];const f=u.filter(m=>la(Mr(m)[o.start],Mr(m)[o.end])(t[o.line]));return f.length===1?f[0]:f.length>1?f.sort((m,p)=>Mr(m)[o.start]-Mr(p)[o.start])[0]:u.sort((m,p)=>{const g=KC(t,WC(Mr(m))),v=KC(t,WC(Mr(p)));return g!==v?g-v:Mr(m)[o.start]-Mr(p)[o.start]})[0]};const QC=(e,t)=>{const n=e.page.borderBox.center;return kl(e.descriptor.id,t)?Mi(n,t.displacedBy.point):n},oZ=(e,t)=>{const n=e.page.borderBox;return kl(e.descriptor.id,t)?qm(n,Qd(t.displacedBy.point)):n};var sZ=({pageBorderBoxCenter:e,viewport:t,destination:n,insideDestination:r,afterCritical:i})=>r.filter(o=>FB({target:oZ(o,i),destination:n,viewport:t.frame,withDroppableDisplacement:!0})).sort((o,c)=>{const u=hm(e,dE(n,QC(o,i))),f=hm(e,dE(n,QC(c,i)));return u<f?-1:f<u?1:o.descriptor.index-c.descriptor.index})[0]||null,Ym=ar(function(t,n){const r=n[t.line];return{value:r,point:Vc(t.line,r)}});const lZ=(e,t,n)=>{const r=e.axis;if(e.descriptor.mode==="virtual")return Vc(r.line,t[r.line]);const i=e.subject.page.contentBox[r.size],u=ef(e.descriptor.id,n).reduce((f,m)=>f+m.client.marginBox[r.size],0)+t[r.line]-i;return u<=0?null:Vc(r.line,u)},KB=(e,t)=>({...e,scroll:{...e.scroll,max:t}}),WB=(e,t,n)=>{const r=e.frame;tf(t,e)&&Pe(),e.subject.withPlaceholder&&Pe();const i=Ym(e.axis,t.displaceBy).point,a=lZ(e,i,n),o={placeholderSize:i,increasedBy:a,oldFrameMaxScroll:e.frame?e.frame.scroll.max:null};if(!r){const m=Dd({page:e.subject.page,withPlaceholder:o,axis:e.axis,frame:e.frame});return{...e,subject:m}}const c=a?gr(r.scroll.max,a):r.scroll.max,u=KB(r,c),f=Dd({page:e.subject.page,withPlaceholder:o,axis:e.axis,frame:u});return{...e,subject:f,frame:u}},cZ=e=>{const t=e.subject.withPlaceholder;t||Pe();const n=e.frame;if(!n){const o=Dd({page:e.subject.page,axis:e.axis,frame:null,withPlaceholder:null});return{...e,subject:o}}const r=t.oldFrameMaxScroll;r||Pe();const i=KB(n,r),a=Dd({page:e.subject.page,axis:e.axis,frame:i,withPlaceholder:null});return{...e,subject:a,frame:i}};var uZ=({previousPageBorderBoxCenter:e,moveRelativeTo:t,insideDestination:n,draggable:r,draggables:i,destination:a,viewport:o,afterCritical:c})=>{if(!t){if(n.length)return null;const p={displaced:mm,displacedBy:zB,at:{type:"REORDER",destination:{droppableId:a.descriptor.id,index:0}}},g=sv({impact:p,draggable:r,droppable:a,draggables:i,afterCritical:c}),v=tf(r,a)?a:WB(a,r,i);return YB({draggable:r,destination:v,newPageBorderBoxCenter:g,viewport:o.frame,withDroppableDisplacement:!1,onlyOnMainAxis:!0})?p:null}const u=e[a.axis.line]<=t.page.borderBox.center[a.axis.line],f=(()=>{const p=t.descriptor.index;return t.descriptor.id===r.descriptor.id||u?p:p+1})(),m=Ym(a.axis,r.displaceBy);return Ly({draggable:r,insideDestination:n,destination:a,viewport:o,displacedBy:m,last:mm,index:f})},dZ=({isMovingForward:e,previousPageBorderBoxCenter:t,draggable:n,isOver:r,draggables:i,droppables:a,viewport:o,afterCritical:c})=>{const u=aZ({isMovingForward:e,pageBorderBoxCenter:t,source:r,droppables:a,viewport:o});if(!u)return null;const f=ef(u.descriptor.id,i),m=sZ({pageBorderBoxCenter:t,viewport:o,destination:u,insideDestination:f,afterCritical:c}),p=uZ({previousPageBorderBoxCenter:t,destination:u,draggable:n,draggables:i,moveRelativeTo:m,insideDestination:f,viewport:o,afterCritical:c});if(!p)return null;const g=sv({impact:p,draggable:n,droppable:u,draggables:i,afterCritical:c});return{clientSelection:d2({pageBorderBoxCenter:g,draggable:n,viewport:o}),impact:p,scrollJumpRequest:null}},Di=e=>{const t=e.at;return t?t.type==="REORDER"?t.destination.droppableId:t.combine.droppableId:null};const fZ=(e,t)=>{const n=Di(e);return n?t[n]:null};var hZ=({state:e,type:t})=>{const n=fZ(e.impact,e.dimensions.droppables),r=!!n,i=e.dimensions.droppables[e.critical.droppable.id],a=n||i,o=a.axis.direction,c=o==="vertical"&&(t==="MOVE_UP"||t==="MOVE_DOWN")||o==="horizontal"&&(t==="MOVE_LEFT"||t==="MOVE_RIGHT");if(c&&!r)return null;const u=t==="MOVE_DOWN"||t==="MOVE_RIGHT",f=e.dimensions.draggables[e.critical.draggable.id],m=e.current.page.borderBoxCenter,{draggables:p,droppables:g}=e.dimensions;return c?iZ({isMovingForward:u,previousPageBorderBoxCenter:m,draggable:f,destination:a,draggables:p,viewport:e.viewport,previousClientSelection:e.current.client.selection,previousImpact:e.impact,afterCritical:e.afterCritical}):dZ({isMovingForward:u,previousPageBorderBoxCenter:m,draggable:f,isOver:a,draggables:p,droppables:g,viewport:e.viewport,afterCritical:e.afterCritical})};function Pc(e){return e.phase==="DRAGGING"||e.phase==="COLLECTING"}function VB(e){const t=la(e.top,e.bottom),n=la(e.left,e.right);return function(i){return t(i.y)&&n(i.x)}}function mZ(e,t){return e.left<t.right&&e.right>t.left&&e.top<t.bottom&&e.bottom>t.top}function pZ({pageBorderBox:e,draggable:t,candidates:n}){const r=t.page.borderBox.center,i=n.map(a=>{const o=a.axis,c=Vc(a.axis.line,e.center[o.line],a.page.borderBox.center[o.crossAxisLine]);return{id:a.descriptor.id,distance:hm(r,c)}}).sort((a,o)=>o.distance-a.distance);return i[0]?i[0].id:null}function gZ({pageBorderBox:e,draggable:t,droppables:n}){const r=iv(n).filter(i=>{if(!i.isEnabled)return!1;const a=i.subject.active;if(!a||!mZ(e,a))return!1;if(VB(a)(e.center))return!0;const o=i.axis,c=a.center[o.crossAxisLine],u=e[o.crossAxisStart],f=e[o.crossAxisEnd],m=la(a[o.crossAxisStart],a[o.crossAxisEnd]),p=m(u),g=m(f);return!p&&!g?!0:p?u<c:f>c});return r.length?r.length===1?r[0].descriptor.id:pZ({pageBorderBox:e,draggable:t,candidates:r}):null}const ZB=(e,t)=>La(qm(e,t));var yZ=(e,t)=>{const n=e.frame;return n?ZB(t,n.scroll.diff.value):t};function XB({displaced:e,id:t}){return!!(e.visible[t]||e.invisible[t])}function bZ({draggable:e,closest:t,inHomeList:n}){return t?n&&t.descriptor.index>e.descriptor.index?t.descriptor.index-1:t.descriptor.index:null}var vZ=({pageBorderBoxWithDroppableScroll:e,draggable:t,destination:n,insideDestination:r,last:i,viewport:a,afterCritical:o})=>{const c=n.axis,u=Ym(n.axis,t.displaceBy),f=u.value,m=e[c.start],p=e[c.end],v=ov(t,r).find(w=>{const E=w.descriptor.id,T=w.page.borderBox.center[c.line],N=kl(E,o),O=XB({displaced:i,id:E});return N?O?p<=T:m<T-f:O?p<=T+f:m<T})||null,_=bZ({draggable:t,closest:v,inHomeList:tf(t,n)});return Ly({draggable:t,insideDestination:r,destination:n,viewport:a,last:i,displacedBy:u,index:_})};const xZ=4;var _Z=({draggable:e,pageBorderBoxWithDroppableScroll:t,previousImpact:n,destination:r,insideDestination:i,afterCritical:a})=>{if(!r.isCombineEnabled)return null;const o=r.axis,c=Ym(r.axis,e.displaceBy),u=c.value,f=t[o.start],m=t[o.end],g=ov(e,i).find(_=>{const w=_.descriptor.id,E=_.page.borderBox,N=E[o.size]/xZ,O=kl(w,a),P=XB({displaced:n.displaced,id:w});return O?P?m>E[o.start]+N&&m<E[o.end]-N:f>E[o.start]-u+N&&f<E[o.end]-u-N:P?m>E[o.start]+u+N&&m<E[o.end]+u-N:f>E[o.start]+N&&f<E[o.end]-N});return g?{displacedBy:c,displaced:n.displaced,at:{type:"COMBINE",combine:{draggableId:g.descriptor.id,droppableId:r.descriptor.id}}}:null},JB=({pageOffset:e,draggable:t,draggables:n,droppables:r,previousImpact:i,viewport:a,afterCritical:o})=>{const c=ZB(t.page.borderBox,e),u=gZ({pageBorderBox:c,draggable:t,droppables:r});if(!u)return RV;const f=r[u],m=ef(f.descriptor.id,n),p=yZ(f,c);return _Z({pageBorderBoxWithDroppableScroll:p,draggable:t,previousImpact:i,destination:f,insideDestination:m,afterCritical:o})||vZ({pageBorderBoxWithDroppableScroll:p,draggable:t,destination:f,insideDestination:m,last:i.displaced,viewport:a,afterCritical:o})},f2=(e,t)=>({...e,[t.descriptor.id]:t});const wZ=({previousImpact:e,impact:t,droppables:n})=>{const r=Di(e),i=Di(t);if(!r||r===i)return n;const a=n[r];if(!a.subject.withPlaceholder)return n;const o=cZ(a);return f2(n,o)};var SZ=({draggable:e,draggables:t,droppables:n,previousImpact:r,impact:i})=>{const a=wZ({previousImpact:r,impact:i,droppables:n}),o=Di(i);if(!o)return a;const c=n[o];if(tf(e,c)||c.subject.withPlaceholder)return a;const u=WB(c,e,t);return f2(a,u)},Jh=({state:e,clientSelection:t,dimensions:n,viewport:r,impact:i,scrollJumpRequest:a})=>{const o=r||e.viewport,c=n||e.dimensions,u=t||e.current.client.selection,f=Mi(u,e.initial.client.selection),m={offset:f,selection:u,borderBoxCenter:gr(e.initial.client.borderBoxCenter,f)},p={selection:gr(m.selection,o.scroll.current),borderBoxCenter:gr(m.borderBoxCenter,o.scroll.current),offset:gr(m.offset,o.scroll.diff.value)},g={client:m,page:p};if(e.phase==="COLLECTING")return{...e,dimensions:c,viewport:o,current:g};const v=c.draggables[e.critical.draggable.id],_=i||JB({pageOffset:p.offset,draggable:v,draggables:c.draggables,droppables:c.droppables,previousImpact:e.impact,viewport:o,afterCritical:e.afterCritical}),w=SZ({draggable:v,impact:_,previousImpact:e.impact,draggables:c.draggables,droppables:c.droppables});return{...e,current:g,dimensions:{draggables:c.draggables,droppables:w},impact:_,viewport:o,scrollJumpRequest:a||null,forceShouldAnimate:a?!1:null}};function EZ(e,t){return e.map(n=>t[n])}var QB=({impact:e,viewport:t,draggables:n,destination:r,forceShouldAnimate:i})=>{const a=e.displaced,o=EZ(a.all,n),c=pm({afterDragging:o,destination:r,displacedBy:e.displacedBy,viewport:t.frame,forceShouldAnimate:i,last:a});return{...e,displaced:c}},e5=({impact:e,draggable:t,droppable:n,draggables:r,viewport:i,afterCritical:a})=>{const o=sv({impact:e,draggable:t,draggables:r,droppable:n,afterCritical:a});return d2({pageBorderBoxCenter:o,draggable:t,viewport:i})},t5=({state:e,dimensions:t,viewport:n})=>{e.movementMode!=="SNAP"&&Pe();const r=e.impact,i=n||e.viewport,a=t||e.dimensions,{draggables:o,droppables:c}=a,u=o[e.critical.draggable.id],f=Di(r);f||Pe();const m=c[f],p=QB({impact:r,viewport:i,destination:m,draggables:o}),g=e5({impact:p,draggable:u,droppable:m,draggables:o,viewport:i,afterCritical:e.afterCritical});return Jh({impact:p,clientSelection:g,state:e,dimensions:a,viewport:i})},kZ=e=>({index:e.index,droppableId:e.droppableId}),n5=({draggable:e,home:t,draggables:n,viewport:r})=>{const i=Ym(t.axis,e.displaceBy),a=ef(t.descriptor.id,n),o=a.indexOf(e);o===-1&&Pe();const c=a.slice(o+1),u=c.reduce((g,v)=>(g[v.descriptor.id]=!0,g),{}),f={inVirtualList:t.descriptor.mode==="virtual",displacedBy:i,effected:u};return{impact:{displaced:pm({afterDragging:c,destination:t,displacedBy:i,last:null,viewport:r.frame,forceShouldAnimate:!1}),displacedBy:i,at:{type:"REORDER",destination:kZ(e.descriptor)}},afterCritical:f}},AZ=(e,t)=>({draggables:e.draggables,droppables:f2(e.droppables,t)}),TZ=({draggable:e,offset:t,initialWindowScroll:n})=>{const r=Cy(e.client,t),i=My(r,n);return{...e,placeholder:{...e.placeholder,client:r},client:r,page:i}},OZ=e=>{const t=e.frame;return t||Pe(),t},jZ=({additions:e,updatedDroppables:t,viewport:n})=>{const r=n.scroll.diff.value;return e.map(i=>{const a=i.descriptor.droppableId,o=t[a],u=OZ(o).scroll.diff.value,f=gr(r,u);return TZ({draggable:i,offset:f,initialWindowScroll:n.scroll.initial})})},NZ=({state:e,published:t})=>{const n=t.modified.map(T=>{const N=e.dimensions.droppables[T.droppableId];return o2(N,T.scroll)}),r={...e.dimensions.droppables,...$B(n)},i=BB(jZ({additions:t.additions,updatedDroppables:r,viewport:e.viewport})),a={...e.dimensions.draggables,...i};t.removals.forEach(T=>{delete a[T]});const o={droppables:r,draggables:a},c=Di(e.impact),u=c?o.droppables[c]:null,f=o.draggables[e.critical.draggable.id],m=o.droppables[e.critical.droppable.id],{impact:p,afterCritical:g}=n5({draggable:f,home:m,draggables:a,viewport:e.viewport}),v=u&&u.isCombineEnabled?e.impact:p,_=JB({pageOffset:e.current.page.offset,draggable:o.draggables[e.critical.draggable.id],draggables:o.draggables,droppables:o.droppables,previousImpact:v,viewport:e.viewport,afterCritical:g}),w={...e,phase:"DRAGGING",impact:_,onLiftImpact:p,dimensions:o,afterCritical:g,forceShouldAnimate:!1};return e.phase==="COLLECTING"?w:{...w,phase:"DROP_PENDING",reason:e.reason,isWaiting:!1}};const fE=e=>e.movementMode==="SNAP",Tw=(e,t,n)=>{const r=AZ(e.dimensions,t);return!fE(e)||n?Jh({state:e,dimensions:r}):t5({state:e,dimensions:r})};function Ow(e){return e.isDragging&&e.movementMode==="SNAP"?{...e,scrollJumpRequest:null}:e}const eM={phase:"IDLE",completed:null,shouldFlush:!1};var CZ=(e=eM,t)=>{if(t.type==="FLUSH")return{...eM,shouldFlush:!0};if(t.type==="INITIAL_PUBLISH"){e.phase!=="IDLE"&&Pe();const{critical:n,clientSelection:r,viewport:i,dimensions:a,movementMode:o}=t.payload,c=a.draggables[n.draggable.id],u=a.droppables[n.droppable.id],f={selection:r,borderBoxCenter:c.client.borderBox.center,offset:or},m={client:f,page:{selection:gr(f.selection,i.scroll.initial),borderBoxCenter:gr(f.selection,i.scroll.initial),offset:gr(f.selection,i.scroll.diff.value)}},p=iv(a.droppables).every(w=>!w.isFixedOnPage),{impact:g,afterCritical:v}=n5({draggable:c,home:u,draggables:a.draggables,viewport:i});return{phase:"DRAGGING",isDragging:!0,critical:n,movementMode:o,dimensions:a,initial:m,current:m,isWindowScrollAllowed:p,impact:g,afterCritical:v,onLiftImpact:g,viewport:i,scrollJumpRequest:null,forceShouldAnimate:null}}if(t.type==="COLLECTION_STARTING")return e.phase==="COLLECTING"||e.phase==="DROP_PENDING"?e:(e.phase!=="DRAGGING"&&Pe(),{...e,phase:"COLLECTING"});if(t.type==="PUBLISH_WHILE_DRAGGING")return e.phase==="COLLECTING"||e.phase==="DROP_PENDING"||Pe(),NZ({state:e,published:t.payload});if(t.type==="MOVE"){if(e.phase==="DROP_PENDING")return e;Pc(e)||Pe();const{client:n}=t.payload;return Sl(n,e.current.client.selection)?e:Jh({state:e,clientSelection:n,impact:fE(e)?e.impact:null})}if(t.type==="UPDATE_DROPPABLE_SCROLL"){if(e.phase==="DROP_PENDING"||e.phase==="COLLECTING")return Ow(e);Pc(e)||Pe();const{id:n,newScroll:r}=t.payload,i=e.dimensions.droppables[n];if(!i)return e;const a=o2(i,r);return Tw(e,a,!1)}if(t.type==="UPDATE_DROPPABLE_IS_ENABLED"){if(e.phase==="DROP_PENDING")return e;Pc(e)||Pe();const{id:n,isEnabled:r}=t.payload,i=e.dimensions.droppables[n];i||Pe(),i.isEnabled===r&&Pe();const a={...i,isEnabled:r};return Tw(e,a,!0)}if(t.type==="UPDATE_DROPPABLE_IS_COMBINE_ENABLED"){if(e.phase==="DROP_PENDING")return e;Pc(e)||Pe();const{id:n,isCombineEnabled:r}=t.payload,i=e.dimensions.droppables[n];i||Pe(),i.isCombineEnabled===r&&Pe();const a={...i,isCombineEnabled:r};return Tw(e,a,!0)}if(t.type==="MOVE_BY_WINDOW_SCROLL"){if(e.phase==="DROP_PENDING"||e.phase==="DROP_ANIMATING")return e;Pc(e)||Pe(),e.isWindowScrollAllowed||Pe();const n=t.payload.newScroll;if(Sl(e.viewport.scroll.current,n))return Ow(e);const r=qB(e.viewport,n);return fE(e)?t5({state:e,viewport:r}):Jh({state:e,viewport:r})}if(t.type==="UPDATE_VIEWPORT_MAX_SCROLL"){if(!Pc(e))return e;const n=t.payload.maxScroll;if(Sl(n,e.viewport.scroll.max))return e;const r={...e.viewport,scroll:{...e.viewport.scroll,max:n}};return{...e,viewport:r}}if(t.type==="MOVE_UP"||t.type==="MOVE_DOWN"||t.type==="MOVE_LEFT"||t.type==="MOVE_RIGHT"){if(e.phase==="COLLECTING"||e.phase==="DROP_PENDING")return e;e.phase!=="DRAGGING"&&Pe();const n=hZ({state:e,type:t.type});return n?Jh({state:e,impact:n.impact,clientSelection:n.clientSelection,scrollJumpRequest:n.scrollJumpRequest}):e}if(t.type==="DROP_PENDING"){const n=t.payload.reason;return e.phase!=="COLLECTING"&&Pe(),{...e,phase:"DROP_PENDING",isWaiting:!0,reason:n}}if(t.type==="DROP_ANIMATE"){const{completed:n,dropDuration:r,newHomeClientOffset:i}=t.payload;return e.phase==="DRAGGING"||e.phase==="DROP_PENDING"||Pe(),{phase:"DROP_ANIMATING",completed:n,dropDuration:r,newHomeClientOffset:i,dimensions:e.dimensions}}if(t.type==="DROP_COMPLETE"){const{completed:n}=t.payload;return{phase:"IDLE",completed:n,shouldFlush:!1}}return e};function Mt(e,t){return e instanceof Object&&"type"in e&&e.type===t}const MZ=e=>({type:"BEFORE_INITIAL_CAPTURE",payload:e}),PZ=e=>({type:"LIFT",payload:e}),DZ=e=>({type:"INITIAL_PUBLISH",payload:e}),RZ=e=>({type:"PUBLISH_WHILE_DRAGGING",payload:e}),LZ=()=>({type:"COLLECTION_STARTING",payload:null}),IZ=e=>({type:"UPDATE_DROPPABLE_SCROLL",payload:e}),$Z=e=>({type:"UPDATE_DROPPABLE_IS_ENABLED",payload:e}),BZ=e=>({type:"UPDATE_DROPPABLE_IS_COMBINE_ENABLED",payload:e}),r5=e=>({type:"MOVE",payload:e}),zZ=e=>({type:"MOVE_BY_WINDOW_SCROLL",payload:e}),UZ=e=>({type:"UPDATE_VIEWPORT_MAX_SCROLL",payload:e}),HZ=()=>({type:"MOVE_UP",payload:null}),FZ=()=>({type:"MOVE_DOWN",payload:null}),GZ=()=>({type:"MOVE_RIGHT",payload:null}),qZ=()=>({type:"MOVE_LEFT",payload:null}),h2=()=>({type:"FLUSH",payload:null}),YZ=e=>({type:"DROP_ANIMATE",payload:e}),m2=e=>({type:"DROP_COMPLETE",payload:e}),i5=e=>({type:"DROP",payload:e}),KZ=e=>({type:"DROP_PENDING",payload:e}),a5=()=>({type:"DROP_ANIMATION_FINISHED",payload:null});var WZ=e=>({getState:t,dispatch:n})=>r=>i=>{if(!Mt(i,"LIFT")){r(i);return}const{id:a,clientSelection:o,movementMode:c}=i.payload,u=t();u.phase==="DROP_ANIMATING"&&n(m2({completed:u.completed})),t().phase!=="IDLE"&&Pe(),n(h2()),n(MZ({draggableId:a,movementMode:c}));const m={draggableId:a,scrollOptions:{shouldPublishImmediately:c==="SNAP"}},{critical:p,dimensions:g,viewport:v}=e.startPublishing(m);n(DZ({critical:p,dimensions:g,clientSelection:o,movementMode:c,viewport:v}))},VZ=e=>()=>t=>n=>{Mt(n,"INITIAL_PUBLISH")&&e.dragging(),Mt(n,"DROP_ANIMATE")&&e.dropping(n.payload.completed.result.reason),(Mt(n,"FLUSH")||Mt(n,"DROP_COMPLETE"))&&e.resting(),t(n)};const p2={outOfTheWay:"cubic-bezier(0.2, 0, 0, 1)",drop:"cubic-bezier(.2,1,.1,1)"},gm={opacity:{drop:0,combining:.7},scale:{drop:.75}},o5={outOfTheWay:.2,minDropTime:.33,maxDropTime:.55},kc=`${o5.outOfTheWay}s ${p2.outOfTheWay}`,Qh={fluid:`opacity ${kc}`,snap:`transform ${kc}, opacity ${kc}`,drop:e=>{const t=`${e}s ${p2.drop}`;return`transform ${t}, opacity ${t}`},outOfTheWay:`transform ${kc}`,placeholder:`height ${kc}, width ${kc}, margin ${kc}`},tM=e=>Sl(e,or)?void 0:`translate(${e.x}px, ${e.y}px)`,hE={moveTo:tM,drop:(e,t)=>{const n=tM(e);if(n)return t?`${n} scale(${gm.scale.drop})`:n}},{minDropTime:mE,maxDropTime:s5}=o5,ZZ=s5-mE,nM=1500,XZ=.6;var JZ=({current:e,destination:t,reason:n})=>{const r=hm(e,t);if(r<=0)return mE;if(r>=nM)return s5;const i=r/nM,a=mE+ZZ*i,o=n==="CANCEL"?a*XZ:a;return Number(o.toFixed(2))},QZ=({impact:e,draggable:t,dimensions:n,viewport:r,afterCritical:i})=>{const{draggables:a,droppables:o}=n,c=Di(e),u=c?o[c]:null,f=o[t.descriptor.droppableId],m=e5({impact:e,draggable:t,draggables:a,afterCritical:i,droppable:u||f,viewport:r});return Mi(m,t.client.borderBox.center)},eX=({draggables:e,reason:t,lastImpact:n,home:r,viewport:i,onLiftImpact:a})=>!n.at||t!=="DROP"?{impact:QB({draggables:e,impact:a,destination:r,viewport:i,forceShouldAnimate:!0}),didDropInsideDroppable:!1}:n.at.type==="REORDER"?{impact:n,didDropInsideDroppable:!0}:{impact:{...n,displaced:mm},didDropInsideDroppable:!0};const tX=({getState:e,dispatch:t})=>n=>r=>{if(!Mt(r,"DROP")){n(r);return}const i=e(),a=r.payload.reason;if(i.phase==="COLLECTING"){t(KZ({reason:a}));return}if(i.phase==="IDLE")return;i.phase==="DROP_PENDING"&&i.isWaiting&&Pe(),i.phase==="DRAGGING"||i.phase==="DROP_PENDING"||Pe();const c=i.critical,u=i.dimensions,f=u.draggables[i.critical.draggable.id],{impact:m,didDropInsideDroppable:p}=eX({reason:a,lastImpact:i.impact,afterCritical:i.afterCritical,onLiftImpact:i.onLiftImpact,home:i.dimensions.droppables[i.critical.droppable.id],viewport:i.viewport,draggables:i.dimensions.draggables}),g=p?s2(m):null,v=p?av(m):null,_={index:c.draggable.index,droppableId:c.droppable.id},w={draggableId:f.descriptor.id,type:f.descriptor.type,source:_,reason:a,mode:i.movementMode,destination:g,combine:v},E=QZ({impact:m,draggable:f,dimensions:u,viewport:i.viewport,afterCritical:i.afterCritical}),T={critical:i.critical,afterCritical:i.afterCritical,result:w,impact:m};if(!(!Sl(i.current.client.offset,E)||!!w.combine)){t(m2({completed:T}));return}const O=JZ({current:i.current.client.offset,destination:E,reason:a});t(YZ({newHomeClientOffset:E,dropDuration:O,completed:T}))};var l5=()=>({x:window.pageXOffset,y:window.pageYOffset});function nX(e){return{eventName:"scroll",options:{passive:!0,capture:!1},fn:t=>{t.target!==window&&t.target!==window.document||e()}}}function rX({onWindowScroll:e}){function t(){e(l5())}const n=fm(t),r=nX(n);let i=wl;function a(){return i!==wl}function o(){a()&&Pe(),i=ra(window,[r])}function c(){a()||Pe(),n.cancel(),i(),i=wl}return{start:o,stop:c,isActive:a}}const iX=e=>Mt(e,"DROP_COMPLETE")||Mt(e,"DROP_ANIMATE")||Mt(e,"FLUSH"),aX=e=>{const t=rX({onWindowScroll:n=>{e.dispatch(zZ({newScroll:n}))}});return n=>r=>{!t.isActive()&&Mt(r,"INITIAL_PUBLISH")&&t.start(),t.isActive()&&iX(r)&&t.stop(),n(r)}};var oX=e=>{let t=!1,n=!1;const r=setTimeout(()=>{n=!0}),i=a=>{t||n||(t=!0,e(a),clearTimeout(r))};return i.wasCalled=()=>t,i},sX=()=>{const e=[],t=i=>{const a=e.findIndex(c=>c.timerId===i);a===-1&&Pe();const[o]=e.splice(a,1);o.callback()};return{add:i=>{const a=setTimeout(()=>t(a)),o={timerId:a,callback:i};e.push(o)},flush:()=>{if(!e.length)return;const i=[...e];e.length=0,i.forEach(a=>{clearTimeout(a.timerId),a.callback()})}}};const lX=(e,t)=>e==null&&t==null?!0:e==null||t==null?!1:e.droppableId===t.droppableId&&e.index===t.index,cX=(e,t)=>e==null&&t==null?!0:e==null||t==null?!1:e.draggableId===t.draggableId&&e.droppableId===t.droppableId,uX=(e,t)=>{if(e===t)return!0;const n=e.draggable.id===t.draggable.id&&e.draggable.droppableId===t.draggable.droppableId&&e.draggable.type===t.draggable.type&&e.draggable.index===t.draggable.index,r=e.droppable.id===t.droppable.id&&e.droppable.type===t.droppable.type;return n&&r},Sh=(e,t)=>{t()},o0=(e,t)=>({draggableId:e.draggable.id,type:e.droppable.type,source:{droppableId:e.droppable.id,index:e.draggable.index},mode:t});function jw(e,t,n,r){if(!e){n(r(t));return}const i=oX(n);e(t,{announce:i}),i.wasCalled()||n(r(t))}var dX=(e,t)=>{const n=sX();let r=null;const i=(p,g)=>{r&&Pe(),Sh("onBeforeCapture",()=>{const v=e().onBeforeCapture;v&&v({draggableId:p,mode:g})})},a=(p,g)=>{r&&Pe(),Sh("onBeforeDragStart",()=>{const v=e().onBeforeDragStart;v&&v(o0(p,g))})},o=(p,g)=>{r&&Pe();const v=o0(p,g);r={mode:g,lastCritical:p,lastLocation:v.source,lastCombine:null},n.add(()=>{Sh("onDragStart",()=>jw(e().onDragStart,v,t,sy.onDragStart))})},c=(p,g)=>{const v=s2(g),_=av(g);r||Pe();const w=!uX(p,r.lastCritical);w&&(r.lastCritical=p);const E=!lX(r.lastLocation,v);E&&(r.lastLocation=v);const T=!cX(r.lastCombine,_);if(T&&(r.lastCombine=_),!w&&!E&&!T)return;const N={...o0(p,r.mode),combine:_,destination:v};n.add(()=>{Sh("onDragUpdate",()=>jw(e().onDragUpdate,N,t,sy.onDragUpdate))})},u=()=>{r||Pe(),n.flush()},f=p=>{r||Pe(),r=null,Sh("onDragEnd",()=>jw(e().onDragEnd,p,t,sy.onDragEnd))};return{beforeCapture:i,beforeStart:a,start:o,update:c,flush:u,drop:f,abort:()=>{if(!r)return;const p={...o0(r.lastCritical,r.mode),combine:null,destination:null,reason:"CANCEL"};f(p)}}},fX=(e,t)=>{const n=dX(e,t);return r=>i=>a=>{if(Mt(a,"BEFORE_INITIAL_CAPTURE")){n.beforeCapture(a.payload.draggableId,a.payload.movementMode);return}if(Mt(a,"INITIAL_PUBLISH")){const c=a.payload.critical;n.beforeStart(c,a.payload.movementMode),i(a),n.start(c,a.payload.movementMode);return}if(Mt(a,"DROP_COMPLETE")){const c=a.payload.completed.result;n.flush(),i(a),n.drop(c);return}if(i(a),Mt(a,"FLUSH")){n.abort();return}const o=r.getState();o.phase==="DRAGGING"&&n.update(o.critical,o.impact)}};const hX=e=>t=>n=>{if(!Mt(n,"DROP_ANIMATION_FINISHED")){t(n);return}const r=e.getState();r.phase!=="DROP_ANIMATING"&&Pe(),e.dispatch(m2({completed:r.completed}))},mX=e=>{let t=null,n=null;function r(){n&&(cancelAnimationFrame(n),n=null),t&&(t(),t=null)}return i=>a=>{if((Mt(a,"FLUSH")||Mt(a,"DROP_COMPLETE")||Mt(a,"DROP_ANIMATION_FINISHED"))&&r(),i(a),!Mt(a,"DROP_ANIMATE"))return;const o={eventName:"scroll",options:{capture:!0,passive:!1,once:!0},fn:function(){e.getState().phase==="DROP_ANIMATING"&&e.dispatch(a5())}};n=requestAnimationFrame(()=>{n=null,t=ra(window,[o])})}};var pX=e=>()=>t=>n=>{(Mt(n,"DROP_COMPLETE")||Mt(n,"FLUSH")||Mt(n,"DROP_ANIMATE"))&&e.stopPublishing(),t(n)},gX=e=>{let t=!1;return()=>n=>r=>{if(Mt(r,"INITIAL_PUBLISH")){t=!0,e.tryRecordFocus(r.payload.critical.draggable.id),n(r),e.tryRestoreFocusRecorded();return}if(n(r),!!t){if(Mt(r,"FLUSH")){t=!1,e.tryRestoreFocusRecorded();return}if(Mt(r,"DROP_COMPLETE")){t=!1;const i=r.payload.completed.result;i.combine&&e.tryShiftRecord(i.draggableId,i.combine.draggableId),e.tryRestoreFocusRecorded()}}}};const yX=e=>Mt(e,"DROP_COMPLETE")||Mt(e,"DROP_ANIMATE")||Mt(e,"FLUSH");var bX=e=>t=>n=>r=>{if(yX(r)){e.stop(),n(r);return}if(Mt(r,"INITIAL_PUBLISH")){n(r);const i=t.getState();i.phase!=="DRAGGING"&&Pe(),e.start(i);return}n(r),e.scroll(t.getState())};const vX=e=>t=>n=>{if(t(n),!Mt(n,"PUBLISH_WHILE_DRAGGING"))return;const r=e.getState();r.phase==="DROP_PENDING"&&(r.isWaiting||e.dispatch(i5({reason:r.reason})))},xX=dm;var _X=({dimensionMarshal:e,focusMarshal:t,styleMarshal:n,getResponders:r,announce:i,autoScroller:a})=>t2(CZ,xX(wB(VZ(n),pX(e),WZ(e),tX,hX,mX,vX,bX(a),aX,gX(t),fX(r,i))));const Nw=()=>({additions:{},removals:{},modified:{}});function wX({registry:e,callbacks:t}){let n=Nw(),r=null;const i=()=>{r||(t.collectionStarting(),r=requestAnimationFrame(()=>{r=null;const{additions:u,removals:f,modified:m}=n,p=Object.keys(u).map(_=>e.draggable.getById(_).getDimension(or)).sort((_,w)=>_.descriptor.index-w.descriptor.index),g=Object.keys(m).map(_=>{const E=e.droppable.getById(_).callbacks.getScrollWhileDragging();return{droppableId:_,scroll:E}}),v={additions:p,removals:Object.keys(f),modified:g};n=Nw(),t.publish(v)}))};return{add:u=>{const f=u.descriptor.id;n.additions[f]=u,n.modified[u.descriptor.droppableId]=!0,n.removals[f]&&delete n.removals[f],i()},remove:u=>{const f=u.descriptor;n.removals[f.id]=!0,n.modified[f.droppableId]=!0,n.additions[f.id]&&delete n.additions[f.id],i()},stop:()=>{r&&(cancelAnimationFrame(r),r=null,n=Nw())}}}var c5=({scrollHeight:e,scrollWidth:t,height:n,width:r})=>{const i=Mi({x:t,y:e},{x:r,y:n});return{x:Math.max(0,i.x),y:Math.max(0,i.y)}},u5=()=>{const e=document.documentElement;return e||Pe(),e},d5=()=>{const e=u5();return c5({scrollHeight:e.scrollHeight,scrollWidth:e.scrollWidth,width:e.clientWidth,height:e.clientHeight})},SX=()=>{const e=l5(),t=d5(),n=e.y,r=e.x,i=u5(),a=i.clientWidth,o=i.clientHeight,c=r+a,u=n+o;return{frame:La({top:n,left:r,right:c,bottom:u}),scroll:{initial:e,current:e,max:t,diff:{value:or,displacement:or}}}},EX=({critical:e,scrollOptions:t,registry:n})=>{const r=SX(),i=r.scroll.current,a=e.droppable,o=n.droppable.getAllByType(a.type).map(m=>m.callbacks.getDimensionAndWatchScroll(i,t)),c=n.draggable.getAllByType(e.draggable.type).map(m=>m.getDimension(i));return{dimensions:{draggables:BB(c),droppables:$B(o)},critical:e,viewport:r}};function rM(e,t,n){return!(n.descriptor.id===t.id||n.descriptor.type!==t.type||e.droppable.getById(n.descriptor.droppableId).descriptor.mode!=="virtual")}var kX=(e,t)=>{let n=null;const r=wX({callbacks:{publish:t.publishWhileDragging,collectionStarting:t.collectionStarting},registry:e}),i=(g,v)=>{e.droppable.exists(g)||Pe(),n&&t.updateDroppableIsEnabled({id:g,isEnabled:v})},a=(g,v)=>{n&&(e.droppable.exists(g)||Pe(),t.updateDroppableIsCombineEnabled({id:g,isCombineEnabled:v}))},o=(g,v)=>{n&&(e.droppable.exists(g)||Pe(),t.updateDroppableScroll({id:g,newScroll:v}))},c=(g,v)=>{n&&e.droppable.getById(g).callbacks.scroll(v)},u=()=>{if(!n)return;r.stop();const g=n.critical.droppable;e.droppable.getAllByType(g.type).forEach(v=>v.callbacks.dragStopped()),n.unsubscribe(),n=null},f=g=>{n||Pe();const v=n.critical.draggable;g.type==="ADDITION"&&rM(e,v,g.value)&&r.add(g.value),g.type==="REMOVAL"&&rM(e,v,g.value)&&r.remove(g.value)};return{updateDroppableIsEnabled:i,updateDroppableIsCombineEnabled:a,scrollDroppable:c,updateDroppableScroll:o,startPublishing:g=>{n&&Pe();const v=e.draggable.getById(g.draggableId),_=e.droppable.getById(v.descriptor.droppableId),w={draggable:v.descriptor,droppable:_.descriptor},E=e.subscribe(f);return n={critical:w,unsubscribe:E},EX({critical:w,registry:e,scrollOptions:g.scrollOptions})},stopPublishing:u}},f5=(e,t)=>e.phase==="IDLE"?!0:e.phase!=="DROP_ANIMATING"||e.completed.result.draggableId===t?!1:e.completed.result.reason==="DROP",AX=e=>{window.scrollBy(e.x,e.y)};const TX=ar(e=>iv(e).filter(t=>!(!t.isEnabled||!t.frame))),OX=(e,t)=>TX(t).find(r=>(r.frame||Pe(),VB(r.frame.pageMarginBox)(e)))||null;var jX=({center:e,destination:t,droppables:n})=>{if(t){const i=n[t];return i.frame?i:null}return OX(e,n)};const ym={startFromPercentage:.25,maxScrollAtPercentage:.05,maxPixelScroll:28,ease:e=>e**2,durationDampening:{stopDampeningAt:1200,accelerateAt:360},disabled:!1};var NX=(e,t,n=()=>ym)=>{const r=n(),i=e[t.size]*r.startFromPercentage,a=e[t.size]*r.maxScrollAtPercentage;return{startScrollingFrom:i,maxScrollValueAt:a}},h5=({startOfRange:e,endOfRange:t,current:n})=>{const r=t-e;return r===0?0:(n-e)/r},g2=1,CX=(e,t,n=()=>ym)=>{const r=n();if(e>t.startScrollingFrom)return 0;if(e<=t.maxScrollValueAt)return r.maxPixelScroll;if(e===t.startScrollingFrom)return g2;const a=1-h5({startOfRange:t.maxScrollValueAt,endOfRange:t.startScrollingFrom,current:e}),o=r.maxPixelScroll*r.ease(a);return Math.ceil(o)},MX=(e,t,n)=>{const r=n(),i=r.durationDampening.accelerateAt,a=r.durationDampening.stopDampeningAt,o=t,c=a,f=Date.now()-o;if(f>=a)return e;if(f<i)return g2;const m=h5({startOfRange:i,endOfRange:c,current:f}),p=e*r.ease(m);return Math.ceil(p)},iM=({distanceToEdge:e,thresholds:t,dragStartTime:n,shouldUseTimeDampening:r,getAutoScrollerOptions:i})=>{const a=CX(e,t,i);return a===0?0:r?Math.max(MX(a,n,i),g2):a},aM=({container:e,distanceToEdges:t,dragStartTime:n,axis:r,shouldUseTimeDampening:i,getAutoScrollerOptions:a})=>{const o=NX(e,r,a);return t[r.end]<t[r.start]?iM({distanceToEdge:t[r.end],thresholds:o,dragStartTime:n,shouldUseTimeDampening:i,getAutoScrollerOptions:a}):-1*iM({distanceToEdge:t[r.start],thresholds:o,dragStartTime:n,shouldUseTimeDampening:i,getAutoScrollerOptions:a})},PX=({container:e,subject:t,proposedScroll:n})=>{const r=t.height>e.height,i=t.width>e.width;return!i&&!r?n:i&&r?null:{x:i?0:n.x,y:r?0:n.y}};const DX=IB(e=>e===0?0:e);var m5=({dragStartTime:e,container:t,subject:n,center:r,shouldUseTimeDampening:i,getAutoScrollerOptions:a})=>{const o={top:r.y-t.top,right:t.right-r.x,bottom:t.bottom-r.y,left:r.x-t.left},c=aM({container:t,distanceToEdges:o,dragStartTime:e,axis:l2,shouldUseTimeDampening:i,getAutoScrollerOptions:a}),u=aM({container:t,distanceToEdges:o,dragStartTime:e,axis:HB,shouldUseTimeDampening:i,getAutoScrollerOptions:a}),f=DX({x:u,y:c});if(Sl(f,or))return null;const m=PX({container:t,subject:n,proposedScroll:f});return m?Sl(m,or)?null:m:null};const RX=IB(e=>e===0?0:e>0?1:-1),y2=(()=>{const e=(t,n)=>t<0?t:t>n?t-n:0;return({current:t,max:n,change:r})=>{const i=gr(t,r),a={x:e(i.x,n.x),y:e(i.y,n.y)};return Sl(a,or)?null:a}})(),p5=({max:e,current:t,change:n})=>{const r={x:Math.max(t.x,e.x),y:Math.max(t.y,e.y)},i=RX(n),a=y2({max:r,current:t,change:i});return!a||i.x!==0&&a.x===0||i.y!==0&&a.y===0},b2=(e,t)=>p5({current:e.scroll.current,max:e.scroll.max,change:t}),LX=(e,t)=>{if(!b2(e,t))return null;const n=e.scroll.max,r=e.scroll.current;return y2({current:r,max:n,change:t})},v2=(e,t)=>{const n=e.frame;return n?p5({current:n.scroll.current,max:n.scroll.max,change:t}):!1},IX=(e,t)=>{const n=e.frame;return!n||!v2(e,t)?null:y2({current:n.scroll.current,max:n.scroll.max,change:t})};var $X=({viewport:e,subject:t,center:n,dragStartTime:r,shouldUseTimeDampening:i,getAutoScrollerOptions:a})=>{const o=m5({dragStartTime:r,container:e.frame,subject:t,center:n,shouldUseTimeDampening:i,getAutoScrollerOptions:a});return o&&b2(e,o)?o:null},BX=({droppable:e,subject:t,center:n,dragStartTime:r,shouldUseTimeDampening:i,getAutoScrollerOptions:a})=>{const o=e.frame;if(!o)return null;const c=m5({dragStartTime:r,container:o.pageMarginBox,subject:t,center:n,shouldUseTimeDampening:i,getAutoScrollerOptions:a});return c&&v2(e,c)?c:null},oM=({state:e,dragStartTime:t,shouldUseTimeDampening:n,scrollWindow:r,scrollDroppable:i,getAutoScrollerOptions:a})=>{const o=e.current.page.borderBoxCenter,u=e.dimensions.draggables[e.critical.draggable.id].page.marginBox;if(e.isWindowScrollAllowed){const p=e.viewport,g=$X({dragStartTime:t,viewport:p,subject:u,center:o,shouldUseTimeDampening:n,getAutoScrollerOptions:a});if(g){r(g);return}}const f=jX({center:o,destination:Di(e.impact),droppables:e.dimensions.droppables});if(!f)return;const m=BX({dragStartTime:t,droppable:f,subject:u,center:o,shouldUseTimeDampening:n,getAutoScrollerOptions:a});m&&i(f.descriptor.id,m)},zX=({scrollWindow:e,scrollDroppable:t,getAutoScrollerOptions:n=()=>ym})=>{const r=fm(e),i=fm(t);let a=null;const o=f=>{a||Pe();const{shouldUseTimeDampening:m,dragStartTime:p}=a;oM({state:f,scrollWindow:r,scrollDroppable:i,dragStartTime:p,shouldUseTimeDampening:m,getAutoScrollerOptions:n})};return{start:f=>{a&&Pe();const m=Date.now();let p=!1;const g=()=>{p=!0};oM({state:f,dragStartTime:0,shouldUseTimeDampening:!1,scrollWindow:g,scrollDroppable:g,getAutoScrollerOptions:n}),a={dragStartTime:m,shouldUseTimeDampening:p},p&&o(f)},stop:()=>{a&&(r.cancel(),i.cancel(),a=null)},scroll:o}},UX=({move:e,scrollDroppable:t,scrollWindow:n})=>{const r=(c,u)=>{const f=gr(c.current.client.selection,u);e({client:f})},i=(c,u)=>{if(!v2(c,u))return u;const f=IX(c,u);if(!f)return t(c.descriptor.id,u),null;const m=Mi(u,f);return t(c.descriptor.id,m),Mi(u,m)},a=(c,u,f)=>{if(!c||!b2(u,f))return f;const m=LX(u,f);if(!m)return n(f),null;const p=Mi(f,m);return n(p),Mi(f,p)};return c=>{const u=c.scrollJumpRequest;if(!u)return;const f=Di(c.impact);f||Pe();const m=i(c.dimensions.droppables[f],u);if(!m)return;const p=c.viewport,g=a(c.isWindowScrollAllowed,p,m);g&&r(c,g)}},HX=({scrollDroppable:e,scrollWindow:t,move:n,getAutoScrollerOptions:r})=>{const i=zX({scrollWindow:t,scrollDroppable:e,getAutoScrollerOptions:r}),a=UX({move:n,scrollWindow:t,scrollDroppable:e});return{scroll:u=>{if(!(r().disabled||u.phase!=="DRAGGING")){if(u.movementMode==="FLUID"){i.scroll(u);return}u.scrollJumpRequest&&a(u)}},start:i.start,stop:i.stop}};const Rd="data-rfd",Ld=(()=>{const e=`${Rd}-drag-handle`;return{base:e,draggableId:`${e}-draggable-id`,contextId:`${e}-context-id`}})(),pE=(()=>{const e=`${Rd}-draggable`;return{base:e,contextId:`${e}-context-id`,id:`${e}-id`}})(),FX=(()=>{const e=`${Rd}-droppable`;return{base:e,contextId:`${e}-context-id`,id:`${e}-id`}})(),sM={contextId:`${Rd}-scroll-container-context-id`},GX=e=>t=>`[${t}="${e}"]`,Eh=(e,t)=>e.map(n=>{const r=n.styles[t];return r?`${n.selector} { ${r} }`:""}).join(" "),qX="pointer-events: none;";var YX=e=>{const t=GX(e),n=(()=>{const c=`
      cursor: -webkit-grab;
      cursor: grab;
    `;return{selector:t(Ld.contextId),styles:{always:`
          -webkit-touch-callout: none;
          -webkit-tap-highlight-color: rgba(0,0,0,0);
          touch-action: manipulation;
        `,resting:c,dragging:qX,dropAnimating:c}}})(),r=(()=>{const c=`
      transition: ${Qh.outOfTheWay};
    `;return{selector:t(pE.contextId),styles:{dragging:c,dropAnimating:c,userCancel:c}}})(),i={selector:t(FX.contextId),styles:{always:"overflow-anchor: none;"}},o=[r,n,i,{selector:"body",styles:{dragging:`
        cursor: grabbing;
        cursor: -webkit-grabbing;
        user-select: none;
        -webkit-user-select: none;
        -moz-user-select: none;
        -ms-user-select: none;
        overflow-anchor: none;
      `}}];return{always:Eh(o,"always"),resting:Eh(o,"resting"),dragging:Eh(o,"dragging"),dropAnimating:Eh(o,"dropAnimating"),userCancel:Eh(o,"userCancel")}};const Ri=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u"?S.useLayoutEffect:S.useEffect,Cw=()=>{const e=document.querySelector("head");return e||Pe(),e},lM=e=>{const t=document.createElement("style");return e&&t.setAttribute("nonce",e),t.type="text/css",t};function KX(e,t){const n=vt(()=>YX(e),[e]),r=S.useRef(null),i=S.useRef(null),a=Ke(ar(p=>{const g=i.current;g||Pe(),g.textContent=p}),[]),o=Ke(p=>{const g=r.current;g||Pe(),g.textContent=p},[]);Ri(()=>{!r.current&&!i.current||Pe();const p=lM(t),g=lM(t);return r.current=p,i.current=g,p.setAttribute(`${Rd}-always`,e),g.setAttribute(`${Rd}-dynamic`,e),Cw().appendChild(p),Cw().appendChild(g),o(n.always),a(n.resting),()=>{const v=_=>{const w=_.current;w||Pe(),Cw().removeChild(w),_.current=null};v(r),v(i)}},[t,o,a,n.always,n.resting,e]);const c=Ke(()=>a(n.dragging),[a,n.dragging]),u=Ke(p=>{if(p==="DROP"){a(n.dropAnimating);return}a(n.userCancel)},[a,n.dropAnimating,n.userCancel]),f=Ke(()=>{i.current&&a(n.resting)},[a,n.resting]);return vt(()=>({dragging:c,dropping:u,resting:f}),[c,u,f])}function g5(e,t){return Array.from(e.querySelectorAll(t))}var y5=e=>e&&e.ownerDocument&&e.ownerDocument.defaultView?e.ownerDocument.defaultView:window;function lv(e){return e instanceof y5(e).HTMLElement}function WX(e,t){const n=`[${Ld.contextId}="${e}"]`,r=g5(document,n);if(!r.length)return null;const i=r.find(a=>a.getAttribute(Ld.draggableId)===t);return!i||!lv(i)?null:i}function VX(e){const t=S.useRef({}),n=S.useRef(null),r=S.useRef(null),i=S.useRef(!1),a=Ke(function(g,v){const _={id:g,focus:v};return t.current[g]=_,function(){const E=t.current;E[g]!==_&&delete E[g]}},[]),o=Ke(function(g){const v=WX(e,g);v&&v!==document.activeElement&&v.focus()},[e]),c=Ke(function(g,v){n.current===g&&(n.current=v)},[]),u=Ke(function(){r.current||i.current&&(r.current=requestAnimationFrame(()=>{r.current=null;const g=n.current;g&&o(g)}))},[o]),f=Ke(function(g){n.current=null;const v=document.activeElement;v&&v.getAttribute(Ld.draggableId)===g&&(n.current=g)},[]);return Ri(()=>(i.current=!0,function(){i.current=!1;const g=r.current;g&&cancelAnimationFrame(g)}),[]),vt(()=>({register:a,tryRecordFocus:f,tryRestoreFocusRecorded:u,tryShiftRecord:c}),[a,f,u,c])}function ZX(){const e={draggables:{},droppables:{}},t=[];function n(p){return t.push(p),function(){const v=t.indexOf(p);v!==-1&&t.splice(v,1)}}function r(p){t.length&&t.forEach(g=>g(p))}function i(p){return e.draggables[p]||null}function a(p){const g=i(p);return g||Pe(),g}const o={register:p=>{e.draggables[p.descriptor.id]=p,r({type:"ADDITION",value:p})},update:(p,g)=>{const v=e.draggables[g.descriptor.id];v&&v.uniqueId===p.uniqueId&&(delete e.draggables[g.descriptor.id],e.draggables[p.descriptor.id]=p)},unregister:p=>{const g=p.descriptor.id,v=i(g);v&&p.uniqueId===v.uniqueId&&(delete e.draggables[g],e.droppables[p.descriptor.droppableId]&&r({type:"REMOVAL",value:p}))},getById:a,findById:i,exists:p=>!!i(p),getAllByType:p=>Object.values(e.draggables).filter(g=>g.descriptor.type===p)};function c(p){return e.droppables[p]||null}function u(p){const g=c(p);return g||Pe(),g}const f={register:p=>{e.droppables[p.descriptor.id]=p},unregister:p=>{const g=c(p.descriptor.id);g&&p.uniqueId===g.uniqueId&&delete e.droppables[p.descriptor.id]},getById:u,findById:c,exists:p=>!!c(p),getAllByType:p=>Object.values(e.droppables).filter(g=>g.descriptor.type===p)};function m(){e.draggables={},e.droppables={},t.length=0}return{draggable:o,droppable:f,subscribe:n,clean:m}}function XX(){const e=vt(ZX,[]);return S.useEffect(()=>function(){e.clean()},[e]),e}var x2=Wt.createContext(null),Iy=()=>{const e=document.body;return e||Pe(),e};const JX={position:"absolute",width:"1px",height:"1px",margin:"-1px",border:"0",padding:"0",overflow:"hidden",clip:"rect(0 0 0 0)","clip-path":"inset(100%)"},QX=e=>`rfd-announcement-${e}`;function eJ(e){const t=vt(()=>QX(e),[e]),n=S.useRef(null);return S.useEffect(function(){const a=document.createElement("div");return n.current=a,a.id=t,a.setAttribute("aria-live","assertive"),a.setAttribute("aria-atomic","true"),Py(a.style,JX),Iy().appendChild(a),function(){setTimeout(function(){const u=Iy();u.contains(a)&&u.removeChild(a),a===n.current&&(n.current=null)})}},[t]),Ke(i=>{const a=n.current;if(a){a.textContent=i;return}},[])}const tJ={separator:"::"};function _2(e,t=tJ){const n=Wt.useId();return vt(()=>`${e}${t.separator}${n}`,[t.separator,e,n])}function nJ({contextId:e,uniqueId:t}){return`rfd-hidden-text-${e}-${t}`}function rJ({contextId:e,text:t}){const n=_2("hidden-text",{separator:"-"}),r=vt(()=>nJ({contextId:e,uniqueId:n}),[n,e]);return S.useEffect(function(){const a=document.createElement("div");return a.id=r,a.textContent=t,a.style.display="none",Iy().appendChild(a),function(){const c=Iy();c.contains(a)&&c.removeChild(a)}},[r,t]),r}var cv=Wt.createContext(null);function b5(e){const t=S.useRef(e);return S.useEffect(()=>{t.current=e}),t}function iJ(){let e=null;function t(){return!!e}function n(o){return o===e}function r(o){e&&Pe();const c={abandon:o};return e=c,c}function i(){e||Pe(),e=null}function a(){e&&(e.abandon(),i())}return{isClaimed:t,isActive:n,claim:r,release:i,tryAbandon:a}}function bm(e){return e.phase==="IDLE"||e.phase==="DROP_ANIMATING"?!1:e.isDragging}const aJ=9,oJ=13,w2=27,v5=32,sJ=33,lJ=34,cJ=35,uJ=36,dJ=37,fJ=38,hJ=39,mJ=40,pJ={[oJ]:!0,[aJ]:!0};var x5=e=>{pJ[e.keyCode]&&e.preventDefault()};const uv=(()=>{const e="visibilitychange";return typeof document>"u"?e:[e,`ms${e}`,`webkit${e}`,`moz${e}`,`o${e}`].find(r=>`on${r}`in document)||e})(),_5=0,cM=5;function gJ(e,t){return Math.abs(t.x-e.x)>=cM||Math.abs(t.y-e.y)>=cM}const uM={type:"IDLE"};function yJ({cancel:e,completed:t,getPhase:n,setPhase:r}){return[{eventName:"mousemove",fn:i=>{const{button:a,clientX:o,clientY:c}=i;if(a!==_5)return;const u={x:o,y:c},f=n();if(f.type==="DRAGGING"){i.preventDefault(),f.actions.move(u);return}f.type!=="PENDING"&&Pe();const m=f.point;if(!gJ(m,u))return;i.preventDefault();const p=f.actions.fluidLift(u);r({type:"DRAGGING",actions:p})}},{eventName:"mouseup",fn:i=>{const a=n();if(a.type!=="DRAGGING"){e();return}i.preventDefault(),a.actions.drop({shouldBlockNextClick:!0}),t()}},{eventName:"mousedown",fn:i=>{n().type==="DRAGGING"&&i.preventDefault(),e()}},{eventName:"keydown",fn:i=>{if(n().type==="PENDING"){e();return}if(i.keyCode===w2){i.preventDefault(),e();return}x5(i)}},{eventName:"resize",fn:e},{eventName:"scroll",options:{passive:!0,capture:!1},fn:()=>{n().type==="PENDING"&&e()}},{eventName:"webkitmouseforcedown",fn:i=>{const a=n();if(a.type==="IDLE"&&Pe(),a.actions.shouldRespectForcePress()){e();return}i.preventDefault()}},{eventName:uv,fn:e}]}function bJ(e){const t=S.useRef(uM),n=S.useRef(wl),r=vt(()=>({eventName:"mousedown",fn:function(p){if(p.defaultPrevented||p.button!==_5||p.ctrlKey||p.metaKey||p.shiftKey||p.altKey)return;const g=e.findClosestDraggableId(p);if(!g)return;const v=e.tryGetLock(g,o,{sourceEvent:p});if(!v)return;p.preventDefault();const _={x:p.clientX,y:p.clientY};n.current(),f(v,_)}}),[e]),i=vt(()=>({eventName:"webkitmouseforcewillbegin",fn:m=>{if(m.defaultPrevented)return;const p=e.findClosestDraggableId(m);if(!p)return;const g=e.findOptionsForDraggable(p);g&&(g.shouldRespectForcePress||e.canGetLock(p)&&m.preventDefault())}}),[e]),a=Ke(function(){const p={passive:!1,capture:!0};n.current=ra(window,[i,r],p)},[i,r]),o=Ke(()=>{t.current.type!=="IDLE"&&(t.current=uM,n.current(),a())},[a]),c=Ke(()=>{const m=t.current;o(),m.type==="DRAGGING"&&m.actions.cancel({shouldBlockNextClick:!0}),m.type==="PENDING"&&m.actions.abort()},[o]),u=Ke(function(){const p={capture:!0,passive:!1},g=yJ({cancel:c,completed:o,getPhase:()=>t.current,setPhase:v=>{t.current=v}});n.current=ra(window,g,p)},[c,o]),f=Ke(function(p,g){t.current.type!=="IDLE"&&Pe(),t.current={type:"PENDING",point:g,actions:p},u()},[u]);Ri(function(){return a(),function(){n.current()}},[a])}function vJ(){}const xJ={[lJ]:!0,[sJ]:!0,[uJ]:!0,[cJ]:!0};function _J(e,t){function n(){t(),e.cancel()}function r(){t(),e.drop()}return[{eventName:"keydown",fn:i=>{if(i.keyCode===w2){i.preventDefault(),n();return}if(i.keyCode===v5){i.preventDefault(),r();return}if(i.keyCode===mJ){i.preventDefault(),e.moveDown();return}if(i.keyCode===fJ){i.preventDefault(),e.moveUp();return}if(i.keyCode===hJ){i.preventDefault(),e.moveRight();return}if(i.keyCode===dJ){i.preventDefault(),e.moveLeft();return}if(xJ[i.keyCode]){i.preventDefault();return}x5(i)}},{eventName:"mousedown",fn:n},{eventName:"mouseup",fn:n},{eventName:"click",fn:n},{eventName:"touchstart",fn:n},{eventName:"resize",fn:n},{eventName:"wheel",fn:n,options:{passive:!0}},{eventName:uv,fn:n}]}function wJ(e){const t=S.useRef(vJ),n=vt(()=>({eventName:"keydown",fn:function(a){if(a.defaultPrevented||a.keyCode!==v5)return;const o=e.findClosestDraggableId(a);if(!o)return;const c=e.tryGetLock(o,m,{sourceEvent:a});if(!c)return;a.preventDefault();let u=!0;const f=c.snapLift();t.current();function m(){u||Pe(),u=!1,t.current(),r()}t.current=ra(window,_J(f,m),{capture:!0,passive:!1})}}),[e]),r=Ke(function(){const a={passive:!1,capture:!0};t.current=ra(window,[n],a)},[n]);Ri(function(){return r(),function(){t.current()}},[r])}const Mw={type:"IDLE"},SJ=120,EJ=.15;function kJ({cancel:e,getPhase:t}){return[{eventName:"orientationchange",fn:e},{eventName:"resize",fn:e},{eventName:"contextmenu",fn:n=>{n.preventDefault()}},{eventName:"keydown",fn:n=>{if(t().type!=="DRAGGING"){e();return}n.keyCode===w2&&n.preventDefault(),e()}},{eventName:uv,fn:e}]}function AJ({cancel:e,completed:t,getPhase:n}){return[{eventName:"touchmove",options:{capture:!1},fn:r=>{const i=n();if(i.type!=="DRAGGING"){e();return}i.hasMoved=!0;const{clientX:a,clientY:o}=r.touches[0],c={x:a,y:o};r.preventDefault(),i.actions.move(c)}},{eventName:"touchend",fn:r=>{const i=n();if(i.type!=="DRAGGING"){e();return}r.preventDefault(),i.actions.drop({shouldBlockNextClick:!0}),t()}},{eventName:"touchcancel",fn:r=>{if(n().type!=="DRAGGING"){e();return}r.preventDefault(),e()}},{eventName:"touchforcechange",fn:r=>{const i=n();i.type==="IDLE"&&Pe();const a=r.touches[0];if(!a||!(a.force>=EJ))return;const c=i.actions.shouldRespectForcePress();if(i.type==="PENDING"){c&&e();return}if(c){if(i.hasMoved){r.preventDefault();return}e();return}r.preventDefault()}},{eventName:uv,fn:e}]}function TJ(e){const t=S.useRef(Mw),n=S.useRef(wl),r=Ke(function(){return t.current},[]),i=Ke(function(v){t.current=v},[]),a=vt(()=>({eventName:"touchstart",fn:function(v){if(v.defaultPrevented)return;const _=e.findClosestDraggableId(v);if(!_)return;const w=e.tryGetLock(_,c,{sourceEvent:v});if(!w)return;const E=v.touches[0],{clientX:T,clientY:N}=E,O={x:T,y:N};n.current(),p(w,O)}}),[e]),o=Ke(function(){const v={capture:!0,passive:!1};n.current=ra(window,[a],v)},[a]),c=Ke(()=>{const g=t.current;g.type!=="IDLE"&&(g.type==="PENDING"&&clearTimeout(g.longPressTimerId),i(Mw),n.current(),o())},[o,i]),u=Ke(()=>{const g=t.current;c(),g.type==="DRAGGING"&&g.actions.cancel({shouldBlockNextClick:!0}),g.type==="PENDING"&&g.actions.abort()},[c]),f=Ke(function(){const v={capture:!0,passive:!1},_={cancel:u,completed:c,getPhase:r},w=ra(window,AJ(_),v),E=ra(window,kJ(_),v);n.current=function(){w(),E()}},[u,r,c]),m=Ke(function(){const v=r();v.type!=="PENDING"&&Pe();const _=v.actions.fluidLift(v.point);i({type:"DRAGGING",actions:_,hasMoved:!1})},[r,i]),p=Ke(function(v,_){r().type!=="IDLE"&&Pe();const w=setTimeout(m,SJ);i({type:"PENDING",point:_,actions:v,longPressTimerId:w}),f()},[f,r,i,m]);Ri(function(){return o(),function(){n.current();const _=r();_.type==="PENDING"&&(clearTimeout(_.longPressTimerId),i(Mw))}},[r,o,i]),Ri(function(){return ra(window,[{eventName:"touchmove",fn:()=>{},options:{capture:!1,passive:!1}}])},[])}const OJ=["input","button","textarea","select","option","optgroup","video","audio"];function w5(e,t){if(t==null)return!1;if(OJ.includes(t.tagName.toLowerCase()))return!0;const r=t.getAttribute("contenteditable");return r==="true"||r===""?!0:t===e?!1:w5(e,t.parentElement)}function jJ(e,t){const n=t.target;return lv(n)?w5(e,n):!1}var NJ=e=>La(e.getBoundingClientRect()).center;function CJ(e){return e instanceof y5(e).Element}const MJ=(()=>{const e="matches";return typeof document>"u"?e:[e,"msMatchesSelector","webkitMatchesSelector"].find(r=>r in Element.prototype)||e})();function S5(e,t){return e==null?null:e[MJ](t)?e:S5(e.parentElement,t)}function PJ(e,t){return e.closest?e.closest(t):S5(e,t)}function DJ(e){return`[${Ld.contextId}="${e}"]`}function RJ(e,t){const n=t.target;if(!CJ(n))return null;const r=DJ(e),i=PJ(n,r);return!i||!lv(i)?null:i}function LJ(e,t){const n=RJ(e,t);return n?n.getAttribute(Ld.draggableId):null}function IJ(e,t){const n=`[${pE.contextId}="${e}"]`,i=g5(document,n).find(a=>a.getAttribute(pE.id)===t);return!i||!lv(i)?null:i}function $J(e){e.preventDefault()}function s0({expected:e,phase:t,isLockActive:n,shouldWarn:r}){return!(!n()||e!==t)}function E5({lockAPI:e,store:t,registry:n,draggableId:r}){if(e.isClaimed())return!1;const i=n.draggable.findById(r);return!(!i||!i.options.isEnabled||!f5(t.getState(),r))}function BJ({lockAPI:e,contextId:t,store:n,registry:r,draggableId:i,forceSensorStop:a,sourceEvent:o}){if(!E5({lockAPI:e,store:n,registry:r,draggableId:i}))return null;const u=r.draggable.getById(i),f=IJ(t,u.descriptor.id);if(!f||o&&!u.options.canDragInteractiveElements&&jJ(f,o))return null;const m=e.claim(a||wl);let p="PRE_DRAG";function g(){return u.options.shouldRespectForcePress}function v(){return e.isActive(m)}function _(C,D){s0({expected:C,phase:p,isLockActive:v,shouldWarn:!0})&&n.dispatch(D())}const w=_.bind(null,"DRAGGING");function E(C){function D(){e.release(),p="COMPLETED"}p!=="PRE_DRAG"&&(D(),Pe()),n.dispatch(PZ(C.liftActionArgs)),p="DRAGGING";function $(H,Y={shouldBlockNextClick:!1}){if(C.cleanup(),Y.shouldBlockNextClick){const K=ra(window,[{eventName:"click",fn:$J,options:{once:!0,passive:!1,capture:!0}}]);setTimeout(K)}D(),n.dispatch(i5({reason:H}))}return{isActive:()=>s0({expected:"DRAGGING",phase:p,isLockActive:v,shouldWarn:!1}),shouldRespectForcePress:g,drop:H=>$("DROP",H),cancel:H=>$("CANCEL",H),...C.actions}}function T(C){const D=fm(H=>{w(()=>r5({client:H}))});return{...E({liftActionArgs:{id:i,clientSelection:C,movementMode:"FLUID"},cleanup:()=>D.cancel(),actions:{move:D}}),move:D}}function N(){const C={moveUp:()=>w(HZ),moveRight:()=>w(GZ),moveDown:()=>w(FZ),moveLeft:()=>w(qZ)};return E({liftActionArgs:{id:i,clientSelection:NJ(f),movementMode:"SNAP"},cleanup:wl,actions:C})}function O(){s0({expected:"PRE_DRAG",phase:p,isLockActive:v,shouldWarn:!0})&&e.release()}return{isActive:()=>s0({expected:"PRE_DRAG",phase:p,isLockActive:v,shouldWarn:!1}),shouldRespectForcePress:g,fluidLift:T,snapLift:N,abort:O}}const zJ=[bJ,wJ,TJ];function UJ({contextId:e,store:t,registry:n,customSensors:r,enableDefaultSensors:i}){const a=[...i?zJ:[],...r||[]],o=S.useState(()=>iJ())[0],c=Ke(function(E,T){bm(E)&&!bm(T)&&o.tryAbandon()},[o]);Ri(function(){let E=t.getState();return t.subscribe(()=>{const N=t.getState();c(E,N),E=N})},[o,t,c]),Ri(()=>o.tryAbandon,[o.tryAbandon]);const u=Ke(w=>E5({lockAPI:o,registry:n,store:t,draggableId:w}),[o,n,t]),f=Ke((w,E,T)=>BJ({lockAPI:o,registry:n,contextId:e,store:t,draggableId:w,forceSensorStop:E||null,sourceEvent:T&&T.sourceEvent?T.sourceEvent:null}),[e,o,n,t]),m=Ke(w=>LJ(e,w),[e]),p=Ke(w=>{const E=n.draggable.findById(w);return E?E.options:null},[n.draggable]),g=Ke(function(){o.isClaimed()&&(o.tryAbandon(),t.getState().phase!=="IDLE"&&t.dispatch(h2()))},[o,t]),v=Ke(()=>o.isClaimed(),[o]),_=vt(()=>({canGetLock:u,tryGetLock:f,findClosestDraggableId:m,findOptionsForDraggable:p,tryReleaseLock:g,isLockClaimed:v}),[u,f,m,p,g,v]);for(let w=0;w<a.length;w++)a[w](_)}const HJ=e=>({onBeforeCapture:t=>{const n=()=>{e.onBeforeCapture&&e.onBeforeCapture(t)};Zd.flushSync(n)},onBeforeDragStart:e.onBeforeDragStart,onDragStart:e.onDragStart,onDragEnd:e.onDragEnd,onDragUpdate:e.onDragUpdate}),FJ=e=>({...ym,...e.autoScrollerOptions,durationDampening:{...ym.durationDampening,...e.autoScrollerOptions}});function kh(e){return e.current||Pe(),e.current}function GJ(e){const{contextId:t,setCallbacks:n,sensors:r,nonce:i,dragHandleUsageInstructions:a}=e,o=S.useRef(null),c=b5(e),u=Ke(()=>HJ(c.current),[c]),f=Ke(()=>FJ(c.current),[c]),m=eJ(t),p=rJ({contextId:t,text:a}),g=KX(t,i),v=Ke(K=>{kh(o).dispatch(K)},[]),_=vt(()=>LC({publishWhileDragging:RZ,updateDroppableScroll:IZ,updateDroppableIsEnabled:$Z,updateDroppableIsCombineEnabled:BZ,collectionStarting:LZ},v),[v]),w=XX(),E=vt(()=>kX(w,_),[w,_]),T=vt(()=>HX({scrollWindow:AX,scrollDroppable:E.scrollDroppable,getAutoScrollerOptions:f,...LC({move:r5},v)}),[E.scrollDroppable,v,f]),N=VX(t),O=vt(()=>_X({announce:m,autoScroller:T,dimensionMarshal:E,focusMarshal:N,getResponders:u,styleMarshal:g}),[m,T,E,N,u,g]);o.current=O;const P=Ke(()=>{const K=kh(o);K.getState().phase!=="IDLE"&&K.dispatch(h2())},[]),C=Ke(()=>{const K=kh(o).getState();return K.phase==="DROP_ANIMATING"?!0:K.phase==="IDLE"?!1:K.isDragging},[]),D=vt(()=>({isDragging:C,tryAbort:P}),[C,P]);n(D);const $=Ke(K=>f5(kh(o).getState(),K),[]),H=Ke(()=>Pc(kh(o).getState()),[]),Y=vt(()=>({marshal:E,focus:N,contextId:t,canLift:$,isMovementAllowed:H,dragHandleUsageInstructionsId:p,registry:w}),[t,E,p,N,$,H,w]);return UJ({contextId:t,store:O,registry:w,customSensors:r||null,enableDefaultSensors:e.enableDefaultSensors!==!1}),S.useEffect(()=>P,[P]),Wt.createElement(cv.Provider,{value:Y},Wt.createElement(NB,{context:x2,store:O},e.children))}function qJ(){return Wt.useId()}function Km(e){const t=qJ(),n=e.dragHandleUsageInstructions||sy.dragHandleUsageInstructions;return Wt.createElement(wV,null,r=>Wt.createElement(GJ,{nonce:e.nonce,contextId:t,setCallbacks:r,dragHandleUsageInstructions:n,enableDefaultSensors:e.enableDefaultSensors,sensors:e.sensors,onBeforeCapture:e.onBeforeCapture,onBeforeDragStart:e.onBeforeDragStart,onDragStart:e.onDragStart,onDragUpdate:e.onDragUpdate,onDragEnd:e.onDragEnd,autoScrollerOptions:e.autoScrollerOptions},e.children))}const dM={dragging:5e3,dropAnimating:4500},YJ=(e,t)=>t?Qh.drop(t.duration):e?Qh.snap:Qh.fluid,KJ=(e,t)=>{if(e)return t?gm.opacity.drop:gm.opacity.combining},WJ=e=>e.forceShouldAnimate!=null?e.forceShouldAnimate:e.mode==="SNAP";function VJ(e){const n=e.dimension.client,{offset:r,combineWith:i,dropping:a}=e,o=!!i,c=WJ(e),u=!!a,f=u?hE.drop(r,o):hE.moveTo(r);return{position:"fixed",top:n.marginBox.top,left:n.marginBox.left,boxSizing:"border-box",width:n.borderBox.width,height:n.borderBox.height,transition:YJ(c,a),transform:f,opacity:KJ(o,u),zIndex:u?dM.dropAnimating:dM.dragging,pointerEvents:"none"}}function ZJ(e){return{transform:hE.moveTo(e.offset),transition:e.shouldAnimateDisplacement?void 0:"none"}}function XJ(e){return e.type==="DRAGGING"?VJ(e):ZJ(e)}function JJ(e,t,n=or){const r=window.getComputedStyle(t),i=t.getBoundingClientRect(),a=CB(i,r),o=My(a,n),c={client:a,tagName:t.tagName.toLowerCase(),display:r.display},u={x:a.marginBox.width,y:a.marginBox.height};return{descriptor:e,placeholder:c,displaceBy:u,client:a,page:o}}function QJ(e){const t=_2("draggable"),{descriptor:n,registry:r,getDraggableRef:i,canDragInteractiveElements:a,shouldRespectForcePress:o,isEnabled:c}=e,u=vt(()=>({canDragInteractiveElements:a,shouldRespectForcePress:o,isEnabled:c}),[a,c,o]),f=Ke(v=>{const _=i();return _||Pe(),JJ(n,_,v)},[n,i]),m=vt(()=>({uniqueId:t,descriptor:n,options:u,getDimension:f}),[n,f,u,t]),p=S.useRef(m),g=S.useRef(!0);Ri(()=>(r.draggable.register(p.current),()=>r.draggable.unregister(p.current)),[r.draggable]),Ri(()=>{if(g.current){g.current=!1;return}const v=p.current;p.current=m,r.draggable.update(m,v)},[m,r.draggable])}var S2=Wt.createContext(null);function $y(e){const t=S.useContext(e);return t||Pe(),t}function eQ(e){e.preventDefault()}const tQ=e=>{const t=S.useRef(null),n=Ke((D=null)=>{t.current=D},[]),r=Ke(()=>t.current,[]),{contextId:i,dragHandleUsageInstructionsId:a,registry:o}=$y(cv),{type:c,droppableId:u}=$y(S2),f=vt(()=>({id:e.draggableId,index:e.index,type:c,droppableId:u}),[e.draggableId,e.index,c,u]),{children:m,draggableId:p,isEnabled:g,shouldRespectForcePress:v,canDragInteractiveElements:_,isClone:w,mapped:E,dropAnimationFinished:T}=e;if(!w){const D=vt(()=>({descriptor:f,registry:o,getDraggableRef:r,canDragInteractiveElements:_,shouldRespectForcePress:v,isEnabled:g}),[f,o,r,_,v,g]);QJ(D)}const N=vt(()=>g?{tabIndex:0,role:"button","aria-describedby":a,"data-rfd-drag-handle-draggable-id":p,"data-rfd-drag-handle-context-id":i,draggable:!1,onDragStart:eQ}:null,[i,a,p,g]),O=Ke(D=>{E.type==="DRAGGING"&&E.dropping&&D.propertyName==="transform"&&Zd.flushSync(T)},[T,E]),P=vt(()=>{const D=XJ(E),$=E.type==="DRAGGING"&&E.dropping?O:void 0;return{innerRef:n,draggableProps:{"data-rfd-draggable-context-id":i,"data-rfd-draggable-id":p,style:D,onTransitionEnd:$},dragHandleProps:N}},[i,N,p,E,O,n]),C=vt(()=>({draggableId:f.id,type:f.type,source:{index:f.index,droppableId:f.droppableId}}),[f.droppableId,f.id,f.index,f.type]);return Wt.createElement(Wt.Fragment,null,m(P,E.snapshot,C))};var k5=(e,t)=>e===t,A5=e=>{const{combine:t,destination:n}=e;return n?n.droppableId:t?t.droppableId:null};const nQ=e=>e.combine?e.combine.draggableId:null,rQ=e=>e.at&&e.at.type==="COMBINE"?e.at.combine.draggableId:null;function iQ(){const e=ar((i,a)=>({x:i,y:a})),t=ar((i,a,o=null,c=null,u=null)=>({isDragging:!0,isClone:a,isDropAnimating:!!u,dropAnimation:u,mode:i,draggingOver:o,combineWith:c,combineTargetFor:null})),n=ar((i,a,o,c,u=null,f=null,m=null)=>({mapped:{type:"DRAGGING",dropping:null,draggingOver:u,combineWith:f,mode:a,offset:i,dimension:o,forceShouldAnimate:m,snapshot:t(a,c,u,f,null)}}));return(i,a)=>{if(bm(i)){if(i.critical.draggable.id!==a.draggableId)return null;const o=i.current.client.offset,c=i.dimensions.draggables[a.draggableId],u=Di(i.impact),f=rQ(i.impact),m=i.forceShouldAnimate;return n(e(o.x,o.y),i.movementMode,c,a.isClone,u,f,m)}if(i.phase==="DROP_ANIMATING"){const o=i.completed;if(o.result.draggableId!==a.draggableId)return null;const c=a.isClone,u=i.dimensions.draggables[a.draggableId],f=o.result,m=f.mode,p=A5(f),g=nQ(f),_={duration:i.dropDuration,curve:p2.drop,moveTo:i.newHomeClientOffset,opacity:g?gm.opacity.drop:null,scale:g?gm.scale.drop:null};return{mapped:{type:"DRAGGING",offset:i.newHomeClientOffset,dimension:u,dropping:_,draggingOver:p,combineWith:g,mode:m,forceShouldAnimate:null,snapshot:t(m,c,p,g,_)}}}return null}}function T5(e=null){return{isDragging:!1,isDropAnimating:!1,isClone:!1,dropAnimation:null,mode:null,draggingOver:null,combineTargetFor:e,combineWith:null}}const aQ={mapped:{type:"SECONDARY",offset:or,combineTargetFor:null,shouldAnimateDisplacement:!0,snapshot:T5(null)}};function oQ(){const e=ar((o,c)=>({x:o,y:c})),t=ar(T5),n=ar((o,c=null,u)=>({mapped:{type:"SECONDARY",offset:o,combineTargetFor:c,shouldAnimateDisplacement:u,snapshot:t(c)}})),r=o=>o?n(or,o,!0):null,i=(o,c,u,f)=>{const m=u.displaced.visible[o],p=!!(f.inVirtualList&&f.effected[o]),g=av(u),v=g&&g.draggableId===o?c:null;if(!m){if(!p)return r(v);if(u.displaced.invisible[o])return null;const E=Qd(f.displacedBy.point),T=e(E.x,E.y);return n(T,v,!0)}if(p)return r(v);const _=u.displacedBy.point,w=e(_.x,_.y);return n(w,v,m.shouldAnimate)};return(o,c)=>{if(bm(o))return o.critical.draggable.id===c.draggableId?null:i(c.draggableId,o.critical.draggable.id,o.impact,o.afterCritical);if(o.phase==="DROP_ANIMATING"){const u=o.completed;return u.result.draggableId===c.draggableId?null:i(c.draggableId,u.result.draggableId,u.impact,u.afterCritical)}return null}}const sQ=()=>{const e=iQ(),t=oQ();return(r,i)=>e(r,i)||t(r,i)||aQ},lQ={dropAnimationFinished:a5},cQ=jB(sQ,lQ,null,{context:x2,areStatePropsEqual:k5})(tQ);function O5(e){return $y(S2).isUsingCloneFor===e.draggableId&&!e.isClone?null:Wt.createElement(cQ,e)}function nf(e){const t=typeof e.isDragDisabled=="boolean"?!e.isDragDisabled:!0,n=!!e.disableInteractiveElementBlocking,r=!!e.shouldRespectForcePress;return Wt.createElement(O5,Py({},e,{isClone:!1,isEnabled:t,canDragInteractiveElements:n,shouldRespectForcePress:r}))}const j5=e=>t=>e===t,uQ=j5("scroll"),dQ=j5("auto"),fM=(e,t)=>t(e.overflowX)||t(e.overflowY),fQ=e=>{const t=window.getComputedStyle(e),n={overflowX:t.overflowX,overflowY:t.overflowY};return fM(n,uQ)||fM(n,dQ)},hQ=()=>!1,N5=e=>e==null?null:e===document.body?hQ()?e:null:e===document.documentElement?null:fQ(e)?e:N5(e.parentElement);var gE=e=>({x:e.scrollLeft,y:e.scrollTop});const C5=e=>e?window.getComputedStyle(e).position==="fixed"?!0:C5(e.parentElement):!1;var mQ=e=>{const t=N5(e),n=C5(e);return{closestScrollable:t,isFixedOnPage:n}},pQ=({descriptor:e,isEnabled:t,isCombineEnabled:n,isFixedOnPage:r,direction:i,client:a,page:o,closest:c})=>{const u=(()=>{if(!c)return null;const{scrollSize:g,client:v}=c,_=c5({scrollHeight:g.scrollHeight,scrollWidth:g.scrollWidth,height:v.paddingBox.height,width:v.paddingBox.width});return{pageMarginBox:c.page.marginBox,frameClient:v,scrollSize:g,shouldClipSubject:c.shouldClipSubject,scroll:{initial:c.scroll,current:c.scroll,max:_,diff:{value:or,displacement:or}}}})(),f=i==="vertical"?l2:HB,m=Dd({page:o,withPlaceholder:null,axis:f,frame:u});return{descriptor:e,isCombineEnabled:n,isFixedOnPage:r,axis:f,isEnabled:t,client:a,page:o,frame:u,subject:m}};const gQ=(e,t)=>{const n=MB(e);if(!t||e!==t)return n;const r=n.paddingBox.top-t.scrollTop,i=n.paddingBox.left-t.scrollLeft,a=r+t.scrollHeight,o=i+t.scrollWidth,u=i2({top:r,right:o,bottom:a,left:i},n.border);return a2({borderBox:u,margin:n.margin,border:n.border,padding:n.padding})};var yQ=({ref:e,descriptor:t,env:n,windowScroll:r,direction:i,isDropDisabled:a,isCombineEnabled:o,shouldClipSubject:c})=>{const u=n.closestScrollable,f=gQ(e,u),m=My(f,r),p=(()=>{if(!u)return null;const v=MB(u),_={scrollHeight:u.scrollHeight,scrollWidth:u.scrollWidth};return{client:v,page:My(v,r),scroll:gE(u),scrollSize:_,shouldClipSubject:c}})();return pQ({descriptor:t,isEnabled:!a,isCombineEnabled:o,isFixedOnPage:n.isFixedOnPage,direction:i,client:f,page:m,closest:p})};const bQ={passive:!1},vQ={passive:!0};var hM=e=>e.shouldPublishImmediately?bQ:vQ;const l0=e=>e&&e.env.closestScrollable||null;function xQ(e){const t=S.useRef(null),n=$y(cv),r=_2("droppable"),{registry:i,marshal:a}=n,o=b5(e),c=vt(()=>({id:e.droppableId,type:e.type,mode:e.mode}),[e.droppableId,e.mode,e.type]),u=S.useRef(c),f=vt(()=>ar((P,C)=>{t.current||Pe();const D={x:P,y:C};a.updateDroppableScroll(c.id,D)}),[c.id,a]),m=Ke(()=>{const P=t.current;return!P||!P.env.closestScrollable?or:gE(P.env.closestScrollable)},[]),p=Ke(()=>{const P=m();f(P.x,P.y)},[m,f]),g=vt(()=>fm(p),[p]),v=Ke(()=>{const P=t.current,C=l0(P);if(P&&C||Pe(),P.scrollOptions.shouldPublishImmediately){p();return}g()},[g,p]),_=Ke((P,C)=>{t.current&&Pe();const D=o.current,$=D.getDroppableRef();$||Pe();const H=mQ($),Y={ref:$,descriptor:c,env:H,scrollOptions:C};t.current=Y;const K=yQ({ref:$,descriptor:c,env:H,windowScroll:P,direction:D.direction,isDropDisabled:D.isDropDisabled,isCombineEnabled:D.isCombineEnabled,shouldClipSubject:!D.ignoreContainerClipping}),F=H.closestScrollable;return F&&(F.setAttribute(sM.contextId,n.contextId),F.addEventListener("scroll",v,hM(Y.scrollOptions))),K},[n.contextId,c,v,o]),w=Ke(()=>{const P=t.current,C=l0(P);return P&&C||Pe(),gE(C)},[]),E=Ke(()=>{const P=t.current;P||Pe();const C=l0(P);t.current=null,C&&(g.cancel(),C.removeAttribute(sM.contextId),C.removeEventListener("scroll",v,hM(P.scrollOptions)))},[v,g]),T=Ke(P=>{const C=t.current;C||Pe();const D=l0(C);D||Pe(),D.scrollTop+=P.y,D.scrollLeft+=P.x},[]),N=vt(()=>({getDimensionAndWatchScroll:_,getScrollWhileDragging:w,dragStopped:E,scroll:T}),[E,_,w,T]),O=vt(()=>({uniqueId:r,descriptor:c,callbacks:N}),[N,c,r]);Ri(()=>(u.current=O.descriptor,i.droppable.register(O),()=>{t.current&&E(),i.droppable.unregister(O)}),[N,c,E,O,a,i.droppable]),Ri(()=>{t.current&&a.updateDroppableIsEnabled(u.current.id,!e.isDropDisabled)},[e.isDropDisabled,a]),Ri(()=>{t.current&&a.updateDroppableIsCombineEnabled(u.current.id,e.isCombineEnabled)},[e.isCombineEnabled,a])}function Pw(){}const mM={width:0,height:0,margin:jV},_Q=({isAnimatingOpenOnMount:e,placeholder:t,animate:n})=>e||n==="close"?mM:{height:t.client.borderBox.height,width:t.client.borderBox.width,margin:t.client.margin},wQ=({isAnimatingOpenOnMount:e,placeholder:t,animate:n})=>{const r=_Q({isAnimatingOpenOnMount:e,placeholder:t,animate:n});return{display:t.display,boxSizing:"border-box",width:r.width,height:r.height,marginTop:r.margin.top,marginRight:r.margin.right,marginBottom:r.margin.bottom,marginLeft:r.margin.left,flexShrink:"0",flexGrow:"0",pointerEvents:"none",transition:n!=="none"?Qh.placeholder:null}},SQ=e=>{const t=S.useRef(null),n=Ke(()=>{t.current&&(clearTimeout(t.current),t.current=null)},[]),{animate:r,onTransitionEnd:i,onClose:a,contextId:o}=e,[c,u]=S.useState(e.animate==="open");S.useEffect(()=>c?r!=="open"?(n(),u(!1),Pw):t.current?Pw:(t.current=setTimeout(()=>{t.current=null,u(!1)}),n):Pw,[r,c,n]);const f=Ke(p=>{p.propertyName==="height"&&(i(),r==="close"&&a())},[r,a,i]),m=wQ({isAnimatingOpenOnMount:c,animate:e.animate,placeholder:e.placeholder});return Wt.createElement(e.placeholder.tagName,{style:m,"data-rfd-placeholder-context-id":o,onTransitionEnd:f,ref:e.innerRef})};var EQ=Wt.memo(SQ);class kQ extends Wt.PureComponent{constructor(...t){super(...t),this.state={isVisible:!!this.props.on,data:this.props.on,animate:this.props.shouldAnimate&&this.props.on?"open":"none"},this.onClose=()=>{this.state.animate==="close"&&this.setState({isVisible:!1})}}static getDerivedStateFromProps(t,n){return t.shouldAnimate?t.on?{isVisible:!0,data:t.on,animate:"open"}:n.isVisible?{isVisible:!0,data:n.data,animate:"close"}:{isVisible:!1,animate:"close",data:null}:{isVisible:!!t.on,data:t.on,animate:"none"}}render(){if(!this.state.isVisible)return null;const t={onClose:this.onClose,data:this.state.data,animate:this.state.animate};return this.props.children(t)}}const AQ=e=>{const t=S.useContext(cv);t||Pe();const{contextId:n,isMovementAllowed:r}=t,i=S.useRef(null),a=S.useRef(null),{children:o,droppableId:c,type:u,mode:f,direction:m,ignoreContainerClipping:p,isDropDisabled:g,isCombineEnabled:v,snapshot:_,useClone:w,updateViewportMaxScroll:E,getContainerForClone:T}=e,N=Ke(()=>i.current,[]),O=Ke((F=null)=>{i.current=F},[]);Ke(()=>a.current,[]);const P=Ke((F=null)=>{a.current=F},[]),C=Ke(()=>{r()&&E({maxScroll:d5()})},[r,E]);xQ({droppableId:c,type:u,mode:f,direction:m,isDropDisabled:g,isCombineEnabled:v,ignoreContainerClipping:p,getDroppableRef:N});const D=vt(()=>Wt.createElement(kQ,{on:e.placeholder,shouldAnimate:e.shouldAnimatePlaceholder},({onClose:F,data:z,animate:X})=>Wt.createElement(EQ,{placeholder:z,onClose:F,innerRef:P,animate:X,contextId:n,onTransitionEnd:C})),[n,C,e.placeholder,e.shouldAnimatePlaceholder,P]),$=vt(()=>({innerRef:O,placeholder:D,droppableProps:{"data-rfd-droppable-id":c,"data-rfd-droppable-context-id":n}}),[n,c,D,O]),H=w?w.dragging.draggableId:null,Y=vt(()=>({droppableId:c,type:u,isUsingCloneFor:H}),[c,H,u]);function K(){if(!w)return null;const{dragging:F,render:z}=w,X=Wt.createElement(O5,{draggableId:F.draggableId,index:F.source.index,isClone:!0,isEnabled:!0,shouldRespectForcePress:!1,canDragInteractiveElements:!0},(Q,J)=>z(Q,J,F));return gG.createPortal(X,T())}return Wt.createElement(S2.Provider,{value:Y},o($,_),K())};function TQ(){return document.body||Pe(),document.body}const pM={mode:"standard",type:"DEFAULT",direction:"vertical",isDropDisabled:!1,isCombineEnabled:!1,ignoreContainerClipping:!1,renderClone:null,getContainerForClone:TQ},M5=e=>{let t={...e},n;for(n in pM)e[n]===void 0&&(t={...t,[n]:pM[n]});return t},Dw=(e,t)=>e===t.droppable.type,gM=(e,t)=>t.draggables[e.draggable.id],OQ=()=>{const e={placeholder:null,shouldAnimatePlaceholder:!0,snapshot:{isDraggingOver:!1,draggingOverWith:null,draggingFromThisWith:null,isUsingPlaceholder:!1},useClone:null},t={...e,shouldAnimatePlaceholder:!1},n=ar(a=>({draggableId:a.id,type:a.type,source:{index:a.index,droppableId:a.droppableId}})),r=ar((a,o,c,u,f,m)=>{const p=f.descriptor.id;if(f.descriptor.droppableId===a){const _=m?{render:m,dragging:n(f.descriptor)}:null,w={isDraggingOver:c,draggingOverWith:c?p:null,draggingFromThisWith:p,isUsingPlaceholder:!0};return{placeholder:f.placeholder,shouldAnimatePlaceholder:!1,snapshot:w,useClone:_}}if(!o)return t;if(!u)return e;const v={isDraggingOver:c,draggingOverWith:p,draggingFromThisWith:null,isUsingPlaceholder:!0};return{placeholder:f.placeholder,shouldAnimatePlaceholder:!0,snapshot:v,useClone:null}});return(a,o)=>{const c=M5(o),u=c.droppableId,f=c.type,m=!c.isDropDisabled,p=c.renderClone;if(bm(a)){const g=a.critical;if(!Dw(f,g))return t;const v=gM(g,a.dimensions),_=Di(a.impact)===u;return r(u,m,_,_,v,p)}if(a.phase==="DROP_ANIMATING"){const g=a.completed;if(!Dw(f,g.critical))return t;const v=gM(g.critical,a.dimensions);return r(u,m,A5(g.result)===u,Di(g.impact)===u,v,p)}if(a.phase==="IDLE"&&a.completed&&!a.shouldFlush){const g=a.completed;if(!Dw(f,g.critical))return t;const v=Di(g.impact)===u,_=!!(g.impact.at&&g.impact.at.type==="COMBINE"),w=g.critical.droppable.id===u;return v?_?e:t:w?e:t}return t}},jQ={updateViewportMaxScroll:UZ},rf=jB(OQ,jQ,(e,t,n)=>({...M5(n),...e,...t}),{context:x2,areStatePropsEqual:k5})(AQ),NQ={1948:{start:new Date(1948,4,1),end:new Date(1948,7,13)},1949:{start:new Date(1949,2,3),end:new Date(1949,7,11)},1950:{start:new Date(1950,2,1),end:new Date(1950,7,10)},1951:{start:new Date(1951,3,6),end:new Date(1951,7,9)},1955:{start:new Date(1955,3,5),end:new Date(1955,7,9)},1956:{start:new Date(1956,3,20),end:new Date(1956,7,30)},1957:{start:new Date(1957,3,5),end:new Date(1957,7,22)},1958:{start:new Date(1958,3,4),end:new Date(1958,7,21)},1959:{start:new Date(1959,3,3),end:new Date(1959,7,20)},1960:{start:new Date(1960,3,1),end:new Date(1960,7,18)},1987:{start:new Date(1987,3,10),end:new Date(1987,8,11)},1988:{start:new Date(1988,3,8),end:new Date(1988,8,9)}};function By(e,t,n){const r=NQ[e];if(!r)return!1;const i=new Date(e,t-1,n,0,0,0,0);return i>=r.start&&i<r.end}function CQ(e){if(!isFinite(e.getTime()))return 0;const t=e.getUTCFullYear(),n=Date.UTC(t,0,1),i=Math.floor((e.getTime()-n)/864e5)+1,a=e.getUTCHours(),o=e.getUTCMinutes(),c=e.getUTCSeconds(),u=(a-12)/24+o/1440+c/86400,f=2*Math.PI/365*(i-1+u);return 229.18*(75e-6+.001868*Math.cos(f)-.032077*Math.sin(f)-.014615*Math.cos(2*f)-.040849*Math.sin(2*f))}function MQ(e){return e=(e+540)%360-180,e>=124&&e<=132||e>=129&&e<=146?135:e>=73&&e<=135?120:e>=-161&&e<=-154?-150:e>=-170&&e<-161?-165:e>=-150&&e<-141?-135:e>=-141&&e<-126?-120:e>=-126&&e<-111?-105:e>=-111&&e<-96?-90:e>=-96&&e<-81?-75:Math.round(e/15)*15}function Wm(e,t,n=!1){const r=new Date(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),0,0);if(n)return new Date(r.getTime()-1800*1e3);if(t==null||!isFinite(t))return r;let i=t;Math.abs(i)<=Math.PI+1e-6&&(i=i*180/Math.PI),i=(i+540)%360-180;const a=MQ(i),o=4*(i-a),c=CQ(r);return new Date(r.getTime()+(o+c)*60*1e3)}function P5(e){return e.replace(/\D/g,"")}function PQ(e,t,n){if(!Number.isFinite(e)||!Number.isFinite(t)||!Number.isFinite(n)||e<1800||e>2200||t<1||t>12||n<1||n>31)return!1;const r=new Date(e,t-1,n);return r.getFullYear()===e&&r.getMonth()+1===t&&r.getDate()===n}function DQ(e,t){return!(!Number.isFinite(e)||!Number.isFinite(t)||e<0||e>23||t<0||t>59)}function Vm(e){const t=P5(e.trim());if(t.length!==8)return null;const n=Number(t.slice(0,4)),r=Number(t.slice(4,6)),i=Number(t.slice(6,8));return PQ(n,r,i)?{y:n,m:r,d:i}:null}function dv(e){const t=e.trim();if(!t||t==="")return null;const n=P5(t);if(n.length!==4)return null;const r=Number(n.slice(0,2)),i=Number(n.slice(2,4));return DQ(r,i)?{hh:r,mm:i}:null}function fv(e){const t=e.trim(),n=Vm(t);if(!n)return t;const r=String(n.y).padStart(4,"0"),i=String(n.m).padStart(2,"0"),a=String(n.d).padStart(2,"0");return`${r}${i}${a}`}function hv(e){const t=e.trim();if(t==="")return"";const n=dv(t);if(!n)return t;const r=String(n.hh).padStart(2,"0"),i=String(n.mm).padStart(2,"0");return`${r}${i}`}var ly={exports:{}},RQ=ly.exports,yM;function LQ(){return yM||(yM=1,(function(e,t){(function(n,r){e.exports=r()})(RQ,function(){return(function(n){function r(a){if(i[a])return i[a].exports;var o=i[a]={i:a,l:!1,exports:{}};return n[a].call(o.exports,o,o.exports,r),o.l=!0,o.exports}var i={};return r.m=n,r.c=i,r.d=function(a,o,c){r.o(a,o)||Object.defineProperty(a,o,{configurable:!1,enumerable:!0,get:c})},r.n=function(a){var o=a&&a.__esModule?function(){return a.default}:function(){return a};return r.d(o,"a",o),o},r.o=function(a,o){return Object.prototype.hasOwnProperty.call(a,o)},r.p="",r(r.s=0)})([function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var a=i(1),o=(function(c){return c&&c.__esModule?c:{default:c}})(a);r.default=o.default,n.exports=r.default},function(n,r,i){function a(X){return X&&X.__esModule?X:{default:X}}Object.defineProperty(r,"__esModule",{value:!0});var o=i(2),c=a(o),u=i(3),f=a(u),m=i(4),p=a(m),g=i(5),v=a(g),_=i(6),w=a(_),E=i(7),T=a(E),N=i(8),O=a(N),P=i(9),C=a(P),D=i(10),$=a(D),H=i(11),Y=a(H),K=i(12),F=a(K),z={lunarInfo:c.default,solarMonth:f.default,gan:p.default,zhi:v.default,animals:w.default,lunarTerm:T.default,lTermInfo:O.default,nStr1:C.default,nStr2:$.default,nStr3:Y.default,nStr4:F.default,lYearDays:function(X){var Q,J=348;for(Q=32768;Q>8;Q>>=1)J+=z.lunarInfo[X-1900]&Q?1:0;return J+z.leapDays(X)},leapMonth:function(X){return 15&z.lunarInfo[X-1900]},leapDays:function(X){return z.leapMonth(X)?65536&z.lunarInfo[X-1900]?30:29:0},monthDays:function(X,Q){return Q>12||Q<1?-1:z.lunarInfo[X-1900]&65536>>Q?30:29},solarDays:function(X,Q){if(Q>12||Q<1)return-1;var J=Q-1;return J==1?X%4==0&&X%100!=0||X%400==0?29:28:z.solarMonth[J]},toGanZhi:function(X){return z.gan[X%10]+z.zhi[X%12]},getTerm:function(X,Q){if(X<1900||X>2100||Q<1||Q>24)return-1;var J=z.lTermInfo[X-1900],q=[parseInt("0x"+J.substr(0,5)).toString(),parseInt("0x"+J.substr(5,5)).toString(),parseInt("0x"+J.substr(10,5)).toString(),parseInt("0x"+J.substr(15,5)).toString(),parseInt("0x"+J.substr(20,5)).toString(),parseInt("0x"+J.substr(25,5)).toString()],Z=[q[0].substr(0,1),q[0].substr(1,2),q[0].substr(3,1),q[0].substr(4,2),q[1].substr(0,1),q[1].substr(1,2),q[1].substr(3,1),q[1].substr(4,2),q[2].substr(0,1),q[2].substr(1,2),q[2].substr(3,1),q[2].substr(4,2),q[3].substr(0,1),q[3].substr(1,2),q[3].substr(3,1),q[3].substr(4,2),q[4].substr(0,1),q[4].substr(1,2),q[4].substr(3,1),q[4].substr(4,2),q[5].substr(0,1),q[5].substr(1,2),q[5].substr(3,1),q[5].substr(4,2)];return parseInt(Z[Q-1])},toChinaYear:function(X){var Q=parseInt(X/1e3),J=parseInt(X%1e3/100),q=parseInt(X%100/10),Z=X%10;return z.nStr4[Q]+z.nStr4[J]+z.nStr4[q]+z.nStr4[Z]+""},toChinaMonth:function(X){if(X>12||X<1)return-1;var Q=z.nStr3[X-1];return Q+=""},toChinaDay:function(X){var Q;switch(X){case 10:Q="";break;case 20:Q="";break;case 30:Q="";break;default:Q=z.nStr2[Math.floor(X/10)],Q+=z.nStr1[X%10]}return Q},getAnimal:function(X){return z.animals[(X-4)%12]},solar2lunar:function(ue,se,B){if(ue<1900||ue>2100||ue==1900&&se==1&&B<31)return-1;if(ue)var q=new Date(ue,parseInt(se)-1,B);else var q=new Date;var Z,be=0,re=0,ue=q.getFullYear(),se=q.getMonth()+1,B=q.getDate(),W=(Date.UTC(q.getFullYear(),q.getMonth(),q.getDate())-Date.UTC(1900,0,31))/864e5;for(Z=1900;Z<2101&&W>0;Z++)re=z.lYearDays(Z),W-=re;W<0&&(W+=re,Z--);var ae=new Date,V=!1;ae.getFullYear()==ue&&ae.getMonth()+1==se&&ae.getDate()==B&&(V=!0);var oe=q.getDay(),me=z.nStr1[oe];oe==0&&(oe=7);var pe=Z,be=z.leapMonth(Z),ne=!1;for(Z=1;Z<13&&W>0;Z++)be>0&&Z==be+1&&ne==0?(--Z,ne=!0,re=z.leapDays(pe)):re=z.monthDays(pe,Z),ne==1&&Z==be+1&&(ne=!1),W-=re;W==0&&be>0&&Z==be+1&&(ne?ne=!1:(ne=!0,--Z)),W<0&&(W+=re,--Z);var Oe=Z,Ce=W+1,ve=se-1,Ze=z.getTerm(ue,3),Ne=z.toGanZhi(ue-4),_e=new Date(ue,1,Ze).getTime();new Date(ue,ve,B).getTime()<_e&&(Ne=z.toGanZhi(ue-5));var je=z.getTerm(ue,2*se-1),Le=z.getTerm(ue,2*se),Ve=z.toGanZhi(12*(ue-1900)+se+11);B>=je&&(Ve=z.toGanZhi(12*(ue-1900)+se+12));var bt=!1,xt="";je==B&&(bt=!0,xt=z.lunarTerm[2*se-2]),Le==B&&(bt=!0,xt=z.lunarTerm[2*se-1]);var Pt=Date.UTC(ue,ve,1,0,0,0,0)/864e5+25567+10,fe=z.toGanZhi(Pt+B-1);return{lYear:pe,lMonth:Oe,lDay:Ce,animal:z.getAnimal(pe),yearCn:z.toChinaYear(pe),monthCn:(ne&&be===Oe?"":"")+z.toChinaMonth(Oe),dayCn:z.toChinaDay(Ce),cYear:ue,cMonth:se,cDay:B,gzYear:Ne,gzMonth:Ve,gzDay:fe,isToday:V,isLeap:ne,nWeek:oe,ncWeek:""+me,isTerm:bt,term:xt}},lunar2solar:function(X,Q,J,q){var Z=z.leapMonth(X);if(z.leapDays(X),q&&Z!=Q||X==2100&&Q==12&&J>1||X==1900&&Q==1&&J<31)return-1;var re=z.monthDays(X,Q);if(X<1900||X>2100||J>re)return-1;for(var ue=0,se=1900;se<X;se++)ue+=z.lYearDays(se);for(var B=0,W=!1,se=1;se<Q;se++)B=z.leapMonth(X),W||B<=se&&B>0&&(ue+=z.leapDays(X),W=!0),ue+=z.monthDays(X,se);q&&(ue+=re);var ae=Date.UTC(1900,1,30,0,0,0),V=new Date(864e5*(ue+J-31)+ae),oe=V.getUTCFullYear(),me=V.getUTCMonth()+1,pe=V.getUTCDate();return z.solar2lunar(oe,me,pe)}};r.default=z,n.exports=r.default},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.default=[19416,19168,42352,21717,53856,55632,91476,22176,39632,21970,19168,42422,42192,53840,119381,46400,54944,44450,38320,84343,18800,42160,46261,27216,27968,109396,11104,38256,21234,18800,25958,54432,59984,28309,23248,11104,100067,37600,116951,51536,54432,120998,46416,22176,107956,9680,37584,53938,43344,46423,27808,46416,86869,19872,42416,83315,21168,43432,59728,27296,44710,43856,19296,43748,42352,21088,62051,55632,23383,22176,38608,19925,19152,42192,54484,53840,54616,46400,46752,103846,38320,18864,43380,42160,45690,27216,27968,44870,43872,38256,19189,18800,25776,29859,59984,27480,23232,43872,38613,37600,51552,55636,54432,55888,30034,22176,43959,9680,37584,51893,43344,46240,47780,44368,21977,19360,42416,86390,21168,43312,31060,27296,44368,23378,19296,42726,42208,53856,60005,54576,23200,30371,38608,19195,19152,42192,118966,53840,54560,56645,46496,22224,21938,18864,42359,42160,43600,111189,27936,44448,84835,37744,18936,18800,25776,92326,59984,27424,108228,43744,37600,53987,51552,54615,54432,55888,23893,22176,42704,21972,21200,43448,43344,46240,46758,44368,21920,43940,42416,21168,45683,26928,29495,27296,44368,84821,19296,42352,21732,53600,59752,54560,55968,92838,22224,19168,43476,42192,53584,62034,54560],n.exports=r.default},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.default=[31,28,31,30,31,30,31,31,30,31,30,31],n.exports=r.default},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.default=["","","","","","","","","",""],n.exports=r.default},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.default=["","","","","","","","","","","",""],n.exports=r.default},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.default=["","","","","","","","","","","",""],n.exports=r.default},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.default=["","","","","","","","","","","","","","","","","","","","","","","",""],n.exports=r.default},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.default=["9778397bd097c36b0b6fc9274c91aa","97b6b97bd19801ec9210c965cc920e","97bcf97c3598082c95f8c965cc920f","97bd0b06bdb0722c965ce1cfcc920f","b027097bd097c36b0b6fc9274c91aa","97b6b97bd19801ec9210c965cc920e","97bcf97c359801ec95f8c965cc920f","97bd0b06bdb0722c965ce1cfcc920f","b027097bd097c36b0b6fc9274c91aa","97b6b97bd19801ec9210c965cc920e","97bcf97c359801ec95f8c965cc920f","97bd0b06bdb0722c965ce1cfcc920f","b027097bd097c36b0b6fc9274c91aa","9778397bd19801ec9210c965cc920e","97b6b97bd19801ec95f8c965cc920f","97bd09801d98082c95f8e1cfcc920f","97bd097bd097c36b0b6fc9210c8dc2","9778397bd197c36c9210c9274c91aa","97b6b97bd19801ec95f8c965cc920e","97bd09801d98082c95f8e1cfcc920f","97bd097bd097c36b0b6fc9210c8dc2","9778397bd097c36c9210c9274c91aa","97b6b97bd19801ec95f8c965cc920e","97bcf97c3598082c95f8e1cfcc920f","97bd097bd097c36b0b6fc9210c8dc2","9778397bd097c36c9210c9274c91aa","97b6b97bd19801ec9210c965cc920e","97bcf97c3598082c95f8c965cc920f","97bd097bd097c35b0b6fc920fb0722","9778397bd097c36b0b6fc9274c91aa","97b6b97bd19801ec9210c965cc920e","97bcf97c3598082c95f8c965cc920f","97bd097bd097c35b0b6fc920fb0722","9778397bd097c36b0b6fc9274c91aa","97b6b97bd19801ec9210c965cc920e","97bcf97c359801ec95f8c965cc920f","97bd097bd097c35b0b6fc920fb0722","9778397bd097c36b0b6fc9274c91aa","97b6b97bd19801ec9210c965cc920e","97bcf97c359801ec95f8c965cc920f","97bd097bd097c35b0b6fc920fb0722","9778397bd097c36b0b6fc9274c91aa","97b6b97bd19801ec9210c965cc920e","97bcf97c359801ec95f8c965cc920f","97bd097bd07f595b0b6fc920fb0722","9778397bd097c36b0b6fc9210c8dc2","9778397bd19801ec9210c9274c920e","97b6b97bd19801ec95f8c965cc920f","97bd07f5307f595b0b0bc920fb0722","7f0e397bd097c36b0b6fc9210c8dc2","9778397bd097c36c9210c9274c920e","97b6b97bd19801ec95f8c965cc920f","97bd07f5307f595b0b0bc920fb0722","7f0e397bd097c36b0b6fc9210c8dc2","9778397bd097c36c9210c9274c91aa","97b6b97bd19801ec9210c965cc920e","97bd07f1487f595b0b0bc920fb0722","7f0e397bd097c36b0b6fc9210c8dc2","9778397bd097c36b0b6fc9274c91aa","97b6b97bd19801ec9210c965cc920e","97bcf7f1487f595b0b0bb0b6fb0722","7f0e397bd097c35b0b6fc920fb0722","9778397bd097c36b0b6fc9274c91aa","97b6b97bd19801ec9210c965cc920e","97bcf7f1487f595b0b0bb0b6fb0722","7f0e397bd097c35b0b6fc920fb0722","9778397bd097c36b0b6fc9274c91aa","97b6b97bd19801ec9210c965cc920e","97bcf7f1487f531b0b0bb0b6fb0722","7f0e397bd097c35b0b6fc920fb0722","9778397bd097c36b0b6fc9274c91aa","97b6b97bd19801ec9210c965cc920e","97bcf7f1487f531b0b0bb0b6fb0722","7f0e397bd07f595b0b6fc920fb0722","9778397bd097c36b0b6fc9274c91aa","97b6b97bd19801ec9210c9274c920e","97bcf7f0e47f531b0b0bb0b6fb0722","7f0e397bd07f595b0b0bc920fb0722","9778397bd097c36b0b6fc9210c91aa","97b6b97bd197c36c9210c9274c920e","97bcf7f0e47f531b0b0bb0b6fb0722","7f0e397bd07f595b0b0bc920fb0722","9778397bd097c36b0b6fc9210c8dc2","9778397bd097c36c9210c9274c920e","97b6b7f0e47f531b0723b0b6fb0722","7f0e37f5307f595b0b0bc920fb0722","7f0e397bd097c36b0b6fc9210c8dc2","9778397bd097c36b0b70c9274c91aa","97b6b7f0e47f531b0723b0b6fb0721","7f0e37f1487f595b0b0bb0b6fb0722","7f0e397bd097c35b0b6fc9210c8dc2","9778397bd097c36b0b6fc9274c91aa","97b6b7f0e47f531b0723b0b6fb0721","7f0e27f1487f595b0b0bb0b6fb0722","7f0e397bd097c35b0b6fc920fb0722","9778397bd097c36b0b6fc9274c91aa","97b6b7f0e47f531b0723b0b6fb0721","7f0e27f1487f531b0b0bb0b6fb0722","7f0e397bd097c35b0b6fc920fb0722","9778397bd097c36b0b6fc9274c91aa","97b6b7f0e47f531b0723b0b6fb0721","7f0e27f1487f531b0b0bb0b6fb0722","7f0e397bd097c35b0b6fc920fb0722","9778397bd097c36b0b6fc9274c91aa","97b6b7f0e47f531b0723b0b6fb0721","7f0e27f1487f531b0b0bb0b6fb0722","7f0e397bd07f595b0b0bc920fb0722","9778397bd097c36b0b6fc9274c91aa","97b6b7f0e47f531b0723b0787b0721","7f0e27f0e47f531b0b0bb0b6fb0722","7f0e397bd07f595b0b0bc920fb0722","9778397bd097c36b0b6fc9210c91aa","97b6b7f0e47f149b0723b0787b0721","7f0e27f0e47f531b0723b0b6fb0722","7f0e397bd07f595b0b0bc920fb0722","9778397bd097c36b0b6fc9210c8dc2","977837f0e37f149b0723b0787b0721","7f07e7f0e47f531b0723b0b6fb0722","7f0e37f5307f595b0b0bc920fb0722","7f0e397bd097c35b0b6fc9210c8dc2","977837f0e37f14998082b0787b0721","7f07e7f0e47f531b0723b0b6fb0721","7f0e37f1487f595b0b0bb0b6fb0722","7f0e397bd097c35b0b6fc9210c8dc2","977837f0e37f14998082b0787b06bd","7f07e7f0e47f531b0723b0b6fb0721","7f0e27f1487f531b0b0bb0b6fb0722","7f0e397bd097c35b0b6fc920fb0722","977837f0e37f14998082b0787b06bd","7f07e7f0e47f531b0723b0b6fb0721","7f0e27f1487f531b0b0bb0b6fb0722","7f0e397bd097c35b0b6fc920fb0722","977837f0e37f14998082b0787b06bd","7f07e7f0e47f531b0723b0b6fb0721","7f0e27f1487f531b0b0bb0b6fb0722","7f0e397bd07f595b0b0bc920fb0722","977837f0e37f14998082b0787b06bd","7f07e7f0e47f531b0723b0b6fb0721","7f0e27f1487f531b0b0bb0b6fb0722","7f0e397bd07f595b0b0bc920fb0722","977837f0e37f14998082b0787b06bd","7f07e7f0e47f149b0723b0787b0721","7f0e27f0e47f531b0b0bb0b6fb0722","7f0e397bd07f595b0b0bc920fb0722","977837f0e37f14998082b0723b06bd","7f07e7f0e37f149b0723b0787b0721","7f0e27f0e47f531b0723b0b6fb0722","7f0e397bd07f595b0b0bc920fb0722","977837f0e37f14898082b0723b02d5","7ec967f0e37f14998082b0787b0721","7f07e7f0e47f531b0723b0b6fb0722","7f0e37f1487f595b0b0bb0b6fb0722","7f0e37f0e37f14898082b0723b02d5","7ec967f0e37f14998082b0787b0721","7f07e7f0e47f531b0723b0b6fb0722","7f0e37f1487f531b0b0bb0b6fb0722","7f0e37f0e37f14898082b0723b02d5","7ec967f0e37f14998082b0787b06bd","7f07e7f0e47f531b0723b0b6fb0721","7f0e37f1487f531b0b0bb0b6fb0722","7f0e37f0e37f14898082b072297c35","7ec967f0e37f14998082b0787b06bd","7f07e7f0e47f531b0723b0b6fb0721","7f0e27f1487f531b0b0bb0b6fb0722","7f0e37f0e37f14898082b072297c35","7ec967f0e37f14998082b0787b06bd","7f07e7f0e47f531b0723b0b6fb0721","7f0e27f1487f531b0b0bb0b6fb0722","7f0e37f0e366aa89801eb072297c35","7ec967f0e37f14998082b0787b06bd","7f07e7f0e47f149b0723b0787b0721","7f0e27f1487f531b0b0bb0b6fb0722","7f0e37f0e366aa89801eb072297c35","7ec967f0e37f14998082b0723b06bd","7f07e7f0e47f149b0723b0787b0721","7f0e27f0e47f531b0723b0b6fb0722","7f0e37f0e366aa89801eb072297c35","7ec967f0e37f14998082b0723b06bd","7f07e7f0e37f14998083b0787b0721","7f0e27f0e47f531b0723b0b6fb0722","7f0e37f0e366aa89801eb072297c35","7ec967f0e37f14898082b0723b02d5","7f07e7f0e37f14998082b0787b0721","7f07e7f0e47f531b0723b0b6fb0722","7f0e36665b66aa89801e9808297c35","665f67f0e37f14898082b0723b02d5","7ec967f0e37f14998082b0787b0721","7f07e7f0e47f531b0723b0b6fb0722","7f0e36665b66a449801e9808297c35","665f67f0e37f14898082b0723b02d5","7ec967f0e37f14998082b0787b06bd","7f07e7f0e47f531b0723b0b6fb0721","7f0e36665b66a449801e9808297c35","665f67f0e37f14898082b072297c35","7ec967f0e37f14998082b0787b06bd","7f07e7f0e47f531b0723b0b6fb0721","7f0e26665b66a449801e9808297c35","665f67f0e37f1489801eb072297c35","7ec967f0e37f14998082b0787b06bd","7f07e7f0e47f531b0723b0b6fb0721","7f0e27f1487f531b0b0bb0b6fb0722"],n.exports=r.default},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.default=["","","","","","","","","","",""],n.exports=r.default},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.default=["","","",""],n.exports=r.default},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.default=["","","","","","","","","","","",""],n.exports=r.default},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.default=["","","","","","","","","","",""],n.exports=r.default}])})})(ly)),ly.exports}var D5=LQ();const IQ=ui(D5),$Q=Lk({__proto__:null,default:IQ},[D5]);function E2(e){return typeof e=="object"&&e!==null}function BQ(e){return E2(e)&&"default"in e}function zQ(e){return E2(e)&&typeof e.lunar2solar=="function"}function UQ(e){if(!E2(e))throw new Error("Invalid lunar2solar result");const t=e.cYear,n=e.cMonth,r=e.cDay,i=e.isLeap;if(typeof t!="number"||typeof n!="number"||typeof r!="number")throw new Error("Invalid lunar2solar fields");return{cYear:t,cMonth:n,cDay:r,isLeap:typeof i=="boolean"?i:void 0}}function HQ(e){const t=BQ(e)?e.default:e;if(!zQ(t))throw new Error("solarlunar.lunar2solar not found");return{lunar2solar:(r,i,a,o)=>{const c=t.lunar2solar(r,i,a,o);return UQ(c)}}}const FQ=HQ($Q);function Bi(e,t,n,r=4,i=0){const a=FQ.lunar2solar(e,t,n,!1);return new Date(a.cYear,a.cMonth-1,a.cDay,r,i)}const bM=e=>e<10?`0${e}`:`${e}`;function Zm(e){if(e.calendarType!=="lunar")return e;const t=Vm(e.birthDay??"");if(!t)return e;try{const n=Bi(t.y,t.m,t.d,0,0),r=n.getFullYear(),i=n.getMonth()+1,a=n.getDate();return{...e,birthDay:`${r}${bM(i)}${bM(a)}`,calendarType:"solar"}}catch{return e}}function k2(e){const t=e.mingSikType??"/",n=Vm(e.birthDay??"");if(!n){const P=e.corrected instanceof Date?e.corrected:new Date(NaN),C=typeof e.ganji=="string"?e.ganji:"",D=typeof e.ganjiText=="string"?e.ganjiText:C,$=typeof e.dayStem=="string"?e.dayStem:"";return{corrected:P,correctedLocal:typeof e.correctedLocal=="string"?e.correctedLocal:"",ganji:C,ganjiText:D,dayStem:$}}let r=n.y,i=n.m,a=n.d;if(e.calendarType==="lunar")try{const P=Bi(r,i,a,0,0);r=P.getFullYear(),i=P.getMonth()+1,a=P.getDate()}catch{}const o=dv(e.birthTime??""),c=!e.birthTime||e.birthTime===""||!o,u=c?4:o.hh,f=c?30:o.mm,m=!e.birthPlace||e.birthPlace.name===""||e.birthPlace.lon===0?127.5:e.birthPlace.lon,p=new Date(r,i-1,a,u,f,0,0),g=!e.birthPlace||typeof e.birthPlace=="object"&&e.birthPlace.name==="",v=Wm(p,m,g),_=c?"":v.toLocaleTimeString("ko-KR",{hour:"2-digit",minute:"2-digit",hour12:!1}),w=at(v,m),E=kt(v,m),T=gt(v,t),N=c?null:$a(v,t),O=[` : ${w} ${E} ${T}`,N?`${N}`:null].filter(Boolean).join(" ");return{corrected:v,correctedLocal:_,ganji:O,ganjiText:O,dayStem:T.charAt(0)}}function vM(e,t){return e instanceof Date&&!Number.isNaN(e.getTime())?e:t}function Xm(e){return(typeof e=="string"?e.trim():"")===""?"":""}function xM(e){if(typeof e!="string")return null;const t=e.match(/\s*:\s*(.)/);return t?t[1]:null}function GQ(e){const t=xM(e.ganjiText)??xM(e.ganji);if(!t)return"forward";const r=["","","","",""].includes(t),i=Xm(e.gender)==="";return r?i?"forward":"backward":i?"backward":"forward"}function zy(e){const t={...e,birthDay:fv(e.birthDay??""),birthTime:e.birthTime===""?"":hv(e.birthTime??""),gender:Xm(e.gender),dateObj:vM(e.dateObj,new Date),corrected:vM(e.corrected,new Date(NaN)),correctedLocal:typeof e.correctedLocal=="string"?e.correctedLocal:"",ganjiText:typeof e.ganjiText=="string"?e.ganjiText:"",ganji:typeof e.ganji=="string"?e.ganji:"",dayStem:typeof e.dayStem=="string"?e.dayStem:"",calendarType:e.calendarType==="lunar"?"lunar":"solar",dir:e.dir==="backward"?"backward":"forward"},n=k2(t),r={...t,...n};return{...r,dir:GQ(r)}}function qQ(e){return e===""||e==="/"||e===""?e:"/"}function YQ(e){return e==="lunar"?"lunar":"solar"}function KQ(e,t){if(t||!e||e.name==="")return{name:"",lat:0,lon:127.5};const n=Number.isFinite(e.lat)?e.lat:0,r=Number.isFinite(e.lon)?e.lon:127.5;return{name:typeof e.name=="string"&&e.name.trim()?e.name.trim():"",lat:n,lon:r}}function WQ(e,t){const n=typeof e=="string"?e.trim():"";return n?{ok:!0,value:n}:t?{ok:!1,message:" ."}:{ok:!0,value:""}}function A2(e,t){const r=fv(typeof e=="string"?e:""),i=Vm(r);if(!i)return{ok:!1,message:"(YYYYMMDD)  ."};if(i.y<1900||i.y>2100)return{ok:!1,message:"(YYYY) 1900~2100  ."};if(t==="solar"){const a=new Date(i.y,i.m-1,i.d);if(a.getFullYear()!==i.y||a.getMonth()+1!==i.m||a.getDate()!==i.d)return{ok:!1,message:"  ."}}else try{Bi(i.y,i.m,i.d,0,0)}catch{return{ok:!1,message:"      ."}}return{ok:!0,value:r}}function T2(e,t){if(t)return{ok:!0,value:""};const r=hv(typeof e=="string"?e:"");return dv(r)?{ok:!0,value:r}:{ok:!1,message:"  HHmm  ."}}function R5(e,t){const n=t?.requireName??!1,r=WQ(e.name,n);if(!r.ok)return r;const i=YQ(e.calendarType),a=A2(e.birthDay,i);if(!a.ok)return a;const o=T2(e.birthTime,e.unknownTime);if(!o.ok)return o;const c=qQ(e.mingSikType),u={id:e.id,name:r.value,birthDay:a.value,birthTime:o.value,gender:Xm(e.gender),sortOrder:e.sortOrder,birthPlace:KQ(e.birthPlace,e.unknownPlace),relationship:e.relationship??"",memo:e.memo??"",folder:e.folder,mingSikType:c,DayChangeRule:c===""?"":"",favorite:e.favorite??!1,deletedAt:e.deletedAt??null,dateObj:e.dateObj??new Date,corrected:new Date(NaN),correctedLocal:"",dayStem:"",ganjiText:"",ganji:"",calendarType:i,dir:"forward"};return{ok:!0,value:zy(u)}}function Al(e){const t=Zm(e),n=Vm(t.birthDay??"");if(!n)throw new Error(`Invalid date: ${e.birthDay}`);const r=dv(t.birthTime??""),i=r?r.hh:0,a=r?r.mm:0,o=new Date(n.y,n.m-1,n.d,i,a,0,0);if(Number.isNaN(o.getTime()))throw new Error(`Invalid date: ${e.birthDay} ${e.birthTime}`);const c=!t.birthPlace||typeof t.birthPlace=="object"&&t.birthPlace.name==="",u=t.birthPlace?.lon??127.5;return Wm(o,u,c)}function VQ(e){return typeof e=="object"&&e!==null&&!Array.isArray(e)}function fd(e){return[...e].sort((t,n)=>{const r=typeof t.sortOrder=="number"&&Number.isFinite(t.sortOrder)?t.sortOrder:-1,i=typeof n.sortOrder=="number"&&Number.isFinite(n.sortOrder)?n.sortOrder:-1;if(r!==i)return r-i;const a=(t.name??"").toString(),o=(n.name??"").toString(),c=a.localeCompare(o);return c!==0?c:t.id.localeCompare(n.id)})}function yE(e){if(!VQ(e))return null;const t=typeof e.id=="string"?e.id:null,n=typeof e.user_id=="string"?e.user_id:null;if(!t||!n)return null;const r=o=>typeof o=="number"&&Number.isFinite(o)?o:null,i=o=>typeof o=="string"?o:null,a=o=>typeof o=="boolean"?o:null;return{id:t,user_id:n,name:i(e.name),birth_day:i(e.birth_day),birth_time:i(e.birth_time),gender:i(e.gender),birth_place_name:i(e.birth_place_name),birth_place_lat:r(e.birth_place_lat),birth_place_lon:r(e.birth_place_lon),relationship:i(e.relationship),memo:i(e.memo),folder:i(e.folder),ming_sik_type:i(e.ming_sik_type),day_change_rule:i(e.day_change_rule),calendar_type:i(e.calendar_type),favorite:a(e.favorite),sort_order:typeof e.sort_order=="string"||typeof e.sort_order=="number"?e.sort_order:null,created_at:i(e.created_at),deleted_at:i(e.deleted_at),updated_at:i(e.updated_at)}}function L5(e){const t={name:e.birth_place_name??"",lat:e.birth_place_lat??0,lon:e.birth_place_lon??127.5},n=e.sort_order===null||e.sort_order===void 0?void 0:Number(e.sort_order),r=typeof n=="number"&&Number.isFinite(n)?n:void 0,i={id:e.id,name:e.name??"",birthDay:fv(e.birth_day??""),birthTime:hv(e.birth_time??""),gender:Xm(e.gender),birthPlace:t,relationship:e.relationship??"",memo:e.memo??"",folder:e.folder??"",mingSikType:["","/",""].includes(e.ming_sik_type)?e.ming_sik_type:"",DayChangeRule:e.day_change_rule===""||e.day_change_rule===""?e.day_change_rule:"",favorite:e.favorite??!1,deletedAt:e.deleted_at??null,sortOrder:r,dateObj:new Date,corrected:new Date(NaN),correctedLocal:"",dayStem:"",ganjiText:"",ganji:"",calendarType:e.calendar_type==="lunar"?"lunar":"solar",dir:"forward"};return zy(i)}function ZQ(e,t){const n=typeof e.folder=="string"?e.folder.trim():"",r=typeof e.sortOrder=="number"&&Number.isFinite(e.sortOrder)?e.sortOrder:null;return{id:e.id,user_id:t,sort_order:r,folder:n||null,favorite:!!e.favorite,updated_at:new Date().toISOString()}}function _M(e,t){const n=fv(e.birthDay??""),r=hv(e.birthTime??""),i=e.birthPlace??{name:"",lat:0,lon:127.5},a=typeof e.sortOrder=="number"&&Number.isFinite(e.sortOrder)?e.sortOrder:null;return{id:e.id,user_id:t,name:e.name??null,birth_day:n||null,birth_time:r||null,gender:Xm(e.gender),birth_place_name:i.name??null,birth_place_lat:typeof i.lat=="number"?i.lat:null,birth_place_lon:typeof i.lon=="number"?i.lon:null,relationship:e.relationship??null,memo:e.memo??null,folder:typeof e.folder=="string"?e.folder:null,ming_sik_type:e.mingSikType??null,day_change_rule:e.DayChangeRule??null,calendar_type:e.calendarType??"solar",favorite:e.favorite??!1,deleted_at:e.deletedAt??null,sort_order:a,updated_at:new Date().toISOString()}}const bE="hm_session_started_at_ms",XQ=7200*1e3;function I5(){return typeof window>"u"?null:window.localStorage}function JQ(){const e=I5();if(!e)return Date.now();const t=e.getItem(bE),n=t?Number(t):NaN;if(Number.isFinite(n))return n;const r=Date.now();return e.setItem(bE,String(r)),r}function QQ(e=Date.now()){const t=I5();if(t)try{t.setItem(bE,String(e))}catch{}}function eee(e=Date.now()){const t=JQ();return e-t>=XQ}const c0="myeongsik-list";function tee(e){try{return JSON.parse(e)}catch{return null}}async function nee(e){if(typeof window>"u")return;const t=window.localStorage.getItem(c0);if(!t)return;const n=tee(t);if(!n){window.localStorage.removeItem(c0);return}const r=n.state??{},i=Array.isArray(r.list)?r.list:[];if(i.length===0){window.localStorage.removeItem(c0);return}const a=await e.getUser();if(!a)return;const o=await e.fetchRows(a.id),c=new Set(o.map(f=>f.id)),u=i.filter(f=>!!f&&typeof f.id=="string"&&f.id.trim()!==""&&!c.has(f.id));for(const f of u)await e.upsertOne(a.id,f);window.localStorage.removeItem(c0)}const ree=250;function iee(e){return e.map(t=>{const n=typeof t.folder=="string"?t.folder.trim():"",r=typeof t.sortOrder=="number"&&Number.isFinite(t.sortOrder)?t.sortOrder:"",i=t.favorite?1:0;return`${t.id}:${r}:${n}:${i}`}).join("|")}function aee(e){if(typeof window>"u")return;const t=window,n="__hm_reorder_flush_installed__";t[n]!==!0&&(t[n]=!0,window.addEventListener("beforeunload",()=>e()),document.addEventListener("visibilitychange",()=>{document.visibilityState==="hidden"&&e()}))}function oee(e){let t=null,n=null,r=!1,i="";async function a(){if(!r){r=!0;try{for(;n;){const c=n;if(n=null,c.key&&c.key===i){c.resolve();continue}const u=await e.getUser();if(!u){console.warn("reorder flush skipped: no user"),c.resolve();continue}await e.upsertOrderPatch(u.id,c.list),i=c.key,c.resolve()}}finally{r=!1}}}aee(()=>{a()});function o(c,u){const f=iee(c);if(f&&f===i&&!n)return Promise.resolve();if(n)n.key=f,n.list=c;else{let m;const p=new Promise(g=>{m=g});n={key:f,list:c,promise:p,resolve:m}}return typeof window>"u"?(a(),n.promise):(t&&window.clearTimeout(t),u?.immediate?a():t=window.setTimeout(()=>{t=null,a()},ree),n.promise)}return{queue:o,flushNow:a}}const ai="__UNASSIGNED__",see=[" ",""],kd=e=>typeof e=="string"?e.trim():"",lee=e=>see.includes(e);function pd(e,t){const n=[],r=[];for(const i of e){const a=kd(i);a&&(t[a]?n.push(a):r.push(a))}return[...n,...r]}function O2(e,t){const n=new Set(t.map(o=>kd(o)).filter(o=>o!=="")),r=new Set,i=Object.create(null),a=(o,c)=>{i[o]||(i[o]=[]),i[o].push(c)};for(const o of e){const c=String(o.id??"");if(!c||r.has(c))continue;r.add(c);const u=kd(o.folder),f=!u||lee(u)?ai:n.has(u)?u:ai;a(f,o)}i[ai]||(i[ai]=[]);for(const o of t){const c=kd(o);c&&(i[c]||(i[c]=[]))}return i}function $5(e,t){const n=[];for(const i of t){const a=kd(i);if(!a)continue;const o=e[a];Array.isArray(o)&&n.push(...o)}const r=e[ai];return Array.isArray(r)&&r.length&&n.push(...r),n}function cee(e){const{list:t,orderedFolders:n,source:r,destination:i}=e,a=O2(t,n),o=r.droppableId===ai?ai:r.droppableId,c=i.droppableId===ai?ai:i.droppableId,u=[...a[o]??[]],f=o===c?u:[...a[c]??[]],m=u[r.index];if(!m)return{nextList:t,changedIds:[]};u.splice(r.index,1);const p=Math.max(0,Math.min(i.index,f.length));o===c?u.splice(p,0,m):f.splice(p,0,m);const g=String(m.id),v=new Set([g]),_={...m,folder:c===ai?"":c};return a[o]=u,a[c]=o===c?u:f,a[c]=(a[c]??[]).map(w=>String(w.id)===g?_:w),{nextList:$5(a,n),changedIds:Array.from(v)}}function uee(e){const{list:t,targetId:n,orderedFolders:r}=e,i=O2(t,r);let a=null,o=null;const c=[...r.map(v=>kd(v)),ai].filter(Boolean);for(const v of c){const _=i[v]??[],w=_.findIndex(E=>String(E.id)===n);if(w>=0){a=v,o=_[w]??null;break}}if(!a||!o)return{nextList:t,nextItem:null};const u=[...i[a]??[]],f=u.findIndex(v=>String(v.id)===n);if(f<0)return{nextList:t,nextItem:null};const m=u[f],p=!m.favorite,g={...m,favorite:p};return u.splice(f,1),p?u.unshift(g):u.push(g),i[a]=u,{nextList:$5(i,r),nextItem:g}}function dee(e){const{list:t,folderName:n}=e,r=n.trim();if(!r)return{nextList:t,changedIds:[]};const i=[];return{nextList:t.map(o=>(o.folder??"").trim()!==r?o:(i.push(String(o.id)),{...o,folder:""})),changedIds:i}}function B5(e){return e.trim().length>0}const Ah=e=>e.toLowerCase().replace(/\s+/g," ").trim(),fee=e=>e.replace(/\D/g,""),hee=e=>{const t=typeof e.birthDay=="string"?e.birthDay:"",n=fee(t);if(n.length!==8)return t?[t]:[];const r=n.slice(0,4),i=n.slice(4,6),a=n.slice(6,8);return[n,`${r}-${i}-${a}`,`${r}.${i}.${a}`,`${r}/${i}/${a}`,`${r}${i}${a}`]},mee=e=>{const t=[],n=typeof e.ganji=="string"?e.ganji:"",r=typeof e.ganjiText=="string"?e.ganjiText:"",i=typeof e.dayStem=="string"?e.dayStem:"";return n&&t.push(n),r&&t.push(r),i&&t.push(i),t},pee=e=>{const t=[],n=typeof e.memo=="string"?e.memo:"",r=typeof e.relationship=="string"?e.relationship:"",i=e.birthPlace&&typeof e.birthPlace=="object"&&typeof e.birthPlace.name=="string"?e.birthPlace.name:"";return n&&t.push(n),r&&t.push(r),i&&t.push(i),t},wM=(e,t,n)=>{const r=Ah(t);if(!r)return!0;const i=Ah(typeof e.name=="string"?e.name:""),a=hee(e).map(Ah),o=mee(e).map(Ah),c=pee(e).map(Ah),u=m=>m.includes(r),f=m=>m.some(u);switch(n){case"name":return u(i);case"birth":return f(a);case"ganji":return f(o);case"memo":return f(c);case"all":default:return u(i)||f(a)||f(o)||f(c)}};function gee(e){const{search:t,searchMode:n,orderedFolders:r,grouped:i,unassignedItems:a}=e;if(!B5(t)){const f={};for(const m of r){const p=typeof m=="string"?m.trim():"";p&&(f[p]=i[p]??[])}return{filteredGrouped:f,filteredUnassigned:a??[],totalMatches:(a?.length??0)+r.reduce((m,p)=>m+(i[p]?.length??0),0)}}const o={};let c=0;for(const f of r){const m=typeof f=="string"?f.trim():"";if(!m)continue;const g=(i[m]??[]).filter(v=>wM(v,t,n));o[m]=g,c+=g.length}const u=(a??[]).filter(f=>wM(f,t,n));return c+=u.length,{filteredGrouped:o,filteredUnassigned:u,totalMatches:c}}function yee(e){return"source"in e&&"destination"in e?e:{orderedFolders:e.orderedFolders,source:{droppableId:(e.sourceFolder??ai).toString(),index:e.sourceIndex},destination:{droppableId:(e.destinationFolder??ai).toString(),index:e.destinationIndex}}}function bee(e,t){const n=String(t.eventType??""),r=yE(t.new),i=yE(t.old),a=r??i;if(!a)return e;if(n==="DELETE"||a.deleted_at)return e.filter(f=>f.id!==a.id);const o=L5(a),u=e.some(f=>f.id===o.id)?e.map(f=>f.id===o.id?o:f):[...e,o];return fd(u)}async function vee(e){if(!e)return;const t=Ie;if(typeof t.removeChannel=="function"){await t.removeChannel(e);return}if(typeof t.removeSubscription=="function"){await t.removeSubscription(e);return}}function xee(){return["id","user_id","name","birth_day","birth_time","gender","birth_place_name","birth_place_lat","birth_place_lon","relationship","memo","folder","ming_sik_type","day_change_rule","calendar_type","favorite","deleted_at","created_at","updated_at","sort_order"].join(", ")}function _ee(){return{async getUser(){const{data:e,error:t}=await Ie.auth.getUser();return t||!e.user?null:{id:e.user.id}},async fetchRows(e){const{data:t,error:n}=await Ie.from("myeongsik").select(xee()).eq("user_id",e).is("deleted_at",null).order("sort_order",{ascending:!0,nullsFirst:!0}).order("created_at",{ascending:!1});return n||!t?[]:(Array.isArray(t)?t:[]).map(i=>yE(i)).filter(i=>i!==null).filter(i=>i.user_id===e)},async upsertOne(e,t){const n=_M(t,e),{error:r}=await Ie.from("myeongsik").upsert(n,{onConflict:"id"});r&&console.error("myeongsik upsert error:",r)},async updateOne(e,t,n){const r=_M(n,e),{error:i}=await Ie.from("myeongsik").update(r).eq("id",t);i&&console.error("myeongsik update error:",i)},async softDelete(e){const t=new Date().toISOString(),{error:n}=await Ie.from("myeongsik").update({deleted_at:t}).eq("id",e);n&&console.error("myeongsik softDelete error:",n)},async upsertOrderPatch(e,t){const n=t.map(i=>ZQ(i,e)),{error:r}=await Ie.from("myeongsik").upsert(n,{onConflict:"id"});r&&console.error("myeongsik orderPatch upsert error:",r)},async subscribe(e,t,n){const r=Ie.channel(`myeongsik:${e}`).on("postgres_changes",{event:"*",schema:"public",table:"myeongsik",filter:`user_id=eq.${e}`},a=>{typeof a!="object"||a===null||t(a)}).subscribe(a=>{n&&n(String(a))});return{async unsubscribe(){await vee(r)}}}}}function wee(e){return e.trim().toLowerCase().replace(/\s+/g,"").replace(/-/g,"_")}function j2(e){if(!e)return"PROMPT_LOCKED";const t=wee(e);return t==="prompt_hidden"||t==="prompt_hide"||t==="hidden"||t==="hide"?"PROMPT_HIDDEN":t==="prompt_locked"||t==="prompt_lock"||t==="locked"||t==="lock"?"PROMPT_LOCKED":t==="prompt_full"||t==="full"?"PROMPT_FULL":"PROMPT_LOCKED"}function Uy(e){switch(e){case"PROMPT_HIDDEN":return{maxMyeongsik:null,canManageMyeongsik:!0,canUseLuckTabs:!1,canUseMultiMode:!1,canUseAllPrompts:!1,promptAccess:"hidden"};case"PROMPT_LOCKED":return{maxMyeongsik:null,canManageMyeongsik:!0,canUseLuckTabs:!1,canUseMultiMode:!1,canUseAllPrompts:!1,promptAccess:"locked"};case"PROMPT_FULL":return{maxMyeongsik:null,canManageMyeongsik:!0,canUseLuckTabs:!0,canUseMultiMode:!0,canUseAllPrompts:!0,promptAccess:"full"}}}const See="15b517b3-3d97-41a6-ae17-563abd163a36".split(",").map(e=>e.trim()).filter(Boolean),Eee="".split(",").map(e=>e.trim()).filter(Boolean);function kee(e){return e?See.includes(e)||Eee.includes(e):!1}const Th={plan:"PROMPT_LOCKED",maxMyeongsik:9999,canManageMyeongsik:!0,canUseLuckTabs:!0,canUseMultiMode:!0,canUseAllPrompts:!1,startsAt:null,expiresAt:null};function Aee(e,t){if(typeof e=="number"&&Number.isFinite(e))return Math.floor(e);if(typeof e=="string"&&e.trim()!==""){const n=Number(e);return Number.isFinite(n)?Math.floor(n):t}return t}function SM(e){if(typeof e!="string"||e.trim()==="")return null;const t=new Date(e);return Number.isNaN(t.getTime())?null:t}const _s=au((e,t)=>({loaded:!1,loading:!1,userId:null,...Th,reset:()=>{e({loaded:!1,loading:!1,userId:null,...Th})},loadFromServer:async()=>{e({loading:!0});try{const{data:n,error:r}=await Ie.auth.getUser();if(r){e({loaded:!0,loading:!1,userId:null,...Th});return}const i=n.user?.id??null;if(!i){e({loaded:!0,loading:!1,userId:null,...Th});return}if(kee(i)){const v=Uy("PROMPT_FULL");e({loaded:!0,loading:!1,userId:i,plan:"PROMPT_FULL",maxMyeongsik:9999,canManageMyeongsik:v.canManageMyeongsik,canUseLuckTabs:v.canUseLuckTabs,canUseMultiMode:v.canUseMultiMode,canUseAllPrompts:v.canUseAllPrompts,startsAt:null,expiresAt:null});return}const{data:a,error:o}=await Ie.from("user_entitlements").select("plan,max_myeongsik,starts_at,expires_at").eq("user_id",i).maybeSingle();if(o||!a){e({loaded:!0,loading:!1,userId:i,...Th});return}const c=a,u=j2(c.plan??null),f=Uy(u),m=f.maxMyeongsik===null?9999:f.maxMyeongsik,p=Aee(c.max_myeongsik,m),g=Math.max(1,Math.max(p,m));e({loaded:!0,loading:!1,userId:i,plan:u,maxMyeongsik:g,canManageMyeongsik:f.canManageMyeongsik,canUseLuckTabs:f.canUseLuckTabs,canUseMultiMode:f.canUseMultiMode,canUseAllPrompts:f.canUseAllPrompts,startsAt:SM(c.starts_at??null),expiresAt:SM(c.expires_at??null)})}finally{e({loading:!1})}},isActiveNow:()=>{const{startsAt:n,expiresAt:r}=t(),i=Date.now();return!(n&&n.getTime()>i||r&&r.getTime()<=i)},getRemainingMs:n=>{if(!n)return null;const r=n.getTime()-Date.now();return r>0?r:0},formatRemaining:n=>{const r=Math.floor(n/1e3),i=r%60,a=Math.floor(r/60),o=a%60,c=Math.floor(a/60),u=c%24,f=Math.floor(c/24),m=[];return f>0&&m.push(`${f}`),u>0&&m.push(`${u}`),f===0&&o>0&&m.push(`${o}`),m.length===0&&m.push(`${i}`),m.join(" ")},canAddMyeongsik:n=>{const r=t();return r.loaded?r.isActiveNow()?n>=r.maxMyeongsik?{ok:!1,message:`   ${r.maxMyeongsik}. `}:{ok:!0}:{ok:!1,message:"  "}:{ok:!1,message:"  "}},canManageNow:()=>{const n=t();return n.loaded&&n.isActiveNow()&&n.canManageMyeongsik},canUseLuckTabsNow:()=>{const n=t();return n.loaded&&n.isActiveNow()&&n.canUseLuckTabs},canUseMultiModeNow:()=>{const n=t();return n.loaded&&n.isActiveNow()&&n.canUseMultiMode},canUseAllPromptsNow:()=>{const n=t();return n.loaded&&n.isActiveNow()&&n.canUseAllPrompts}})),Ai=_ee(),Tee=oee(Ai);function td(){const t=_s.getState().canManageNow();return t||console.warn("[myeongsik] blocked: canManageNow=false"),t}function Oee(e){const n=_s.getState().canAddMyeongsik(e);return n.ok||console.warn("[myeongsik] blocked: canAddMyeongsik",n.message),n.ok}const Br=au((e,t)=>({loading:!1,realtimeReady:!1,list:[],currentId:null,_rtSub:null,_rtUserId:null,getCurrent:()=>{const{list:n,currentId:r}=t();return r?n.find(i=>i.id===r)??null:null},setCurrentId:n=>e({currentId:n}),startRealtime:async()=>{if(typeof window>"u")return;if(eee()){QQ(Date.now()),window.location.reload();return}const n=await Ai.getUser();if(!n){await t().stopRealtime(),e({realtimeReady:!1});return}if(t()._rtUserId===n.id&&t()._rtSub){e({realtimeReady:!0});return}await t().stopRealtime();const r=await Ai.subscribe(n.id,i=>{e(a=>({list:bee(a.list,i)}))},i=>{i==="SUBSCRIBED"&&e({realtimeReady:!0})});e({_rtSub:r,_rtUserId:n.id})},stopRealtime:async()=>{const n=t()._rtSub;if(n)try{await n.unsubscribe()}catch(r){console.warn("stopRealtime error",r)}e({_rtSub:null,_rtUserId:null,realtimeReady:!1})},loadFromServer:async()=>{e({loading:!0});try{const n=await Ai.getUser();if(!n){e({list:[],currentId:null}),await t().stopRealtime();return}const r=await Ai.fetchRows(n.id),i=fd(r.map(L5)),a=t().currentId,o=a&&i.some(c=>c.id===a)?a:i[0]?.id??null;e({list:i,currentId:o}),await t().startRealtime()}catch(n){console.error("useMyeongSikStore.loadFromServer exception:",n)}finally{e({loading:!1})}},migrateLocalToServer:async()=>{try{await nee(Ai)}catch(n){console.error("useMyeongSikStore.migrateLocalToServer exception:",n)}},add:async n=>{const r=await Ai.getUser();if(!r)return;const i=t().list.length;if(!Oee(i))return;const a=(i||0)+1,o={...n,sortOrder:n.sortOrder??a},c=zy(o);e(u=>({list:fd([...u.list,c]),currentId:u.currentId??c.id})),await Ai.upsertOne(r.id,c)},update:async(n,r)=>{if(!td())return;const i=t().list.find(c=>c.id===n);if(!i)return;const a=zy({...i,...r});e(c=>({list:fd(c.list.map(u=>u.id===n?a:u))}));const o=await Ai.getUser();o&&await Ai.updateOne(o.id,n,a)},remove:async n=>{td()&&(e(r=>{const i=r.list.filter(o=>o.id!==n),a=r.currentId===n?i[0]?.id??null:r.currentId;return{list:i,currentId:a}}),await Ai.softDelete(n))},moveItemByDnD:async n=>{if(!td())return;const{list:r}=t(),i=yee(n),o=cee({list:r,orderedFolders:i.orderedFolders,source:i.source,destination:i.destination}).nextList;e({list:o}),await t().reorder(o)},toggleFavoriteWithReorder:async(n,r)=>{if(!td())return;const{list:i}=t(),o=uee({list:i,targetId:n,orderedFolders:r}).nextList;e({list:o}),await t().reorder(o)},unsetFolderForFolder:async n=>{if(!td())return;const r=(n??"").trim();if(!r)return;const i=t().list,a=dee({list:i,folderName:r}),o=fd(a.nextList),c=new Set(a.changedIds);if(c.size===0)return;e({list:o});const u=await Ai.getUser();if(!u)return;const f=o.filter(m=>c.has(m.id));await Ai.upsertOrderPatch(u.id,f)},reorder:async n=>{if(!td())return;const r=n.map((a,o)=>({...a,sortOrder:o+1})),i=fd(r);e({list:i}),await Tee.queue(i)},clear:()=>{e({currentId:null,list:[]})}})),EM="__custom__",kM=[{value:"",label:" (1 )"},{value:"/",label:" / "},{value:"",label:""},{value:"",label:""},{value:"",label:""},{value:"",label:""},{value:"",label:""}],z5=({value:e,onChange:t})=>{const[n,r]=S.useState(kM),[i,a]=S.useState(""),[o,c]=S.useState(!1),[u,f]=S.useState(""),[m,p]=S.useState(!1),{list:g}=Br(),_=(e??i??"").trim()==="",E=g.some(C=>(C.relationship??"").trim()==="")&&!_?n.filter(C=>C.value!==""):n;S.useEffect(()=>{e!==void 0&&a(e)},[e]);const T=C=>{const D=C.target.value;D===EM?(c(!0),a(""),t?.("")):(c(!1),f(""),a(D),t?.(D))};S.useEffect(()=>{const C=localStorage.getItem("relationshipOptions");C&&r(JSON.parse(C))},[]),S.useEffect(()=>{(async()=>{const{data:{user:D},error:$}=await Ie.auth.getUser();if($||!D)return;const{data:H,error:Y}=await Ie.from("user_settings").select("payload").eq("user_id",D.id).single();if(Y&&Y.code!=="PGRST116"){console.error("load relationships settings error",Y.message);return}const K=H?.payload?.relationshipOptions;if(!Array.isArray(K))return;const F=K.map(z=>z&&typeof z=="object"&&typeof z.value=="string"&&typeof z.label=="string"?{value:z.value,label:z.label}:typeof z=="string"?{value:z,label:z}:null).filter(z=>!!z);F.length&&r(z=>{const X=new Set,Q=[...F,...z,...kM].filter(J=>X.has(J.value)?!1:(X.add(J.value),!0));return localStorage.setItem("relationshipOptions",JSON.stringify(Q)),Q})})()},[]),S.useEffect(()=>{localStorage.setItem("relationshipOptions",JSON.stringify(n)),(async()=>{const{data:{user:D},error:$}=await Ie.auth.getUser();if($||!D)return;const{data:H,error:Y}=await Ie.from("user_settings").select("payload").eq("user_id",D.id).single();if(Y&&Y.code!=="PGRST116"){console.error("load relationships settings error",Y.message);return}const K={...H?.payload??{},relationshipOptions:n},{error:F}=await Ie.from("user_settings").upsert({user_id:D.id,payload:K,updated_at:new Date().toISOString()});F&&console.error("save relationships settings error",F.message)})()},[n]);const N=()=>{const C=u.trim();if(!C)return;const D={value:C,label:C};r($=>[...$,D]),a(C),t?.(C),f(""),c(!1)},O=C=>{r(n.filter(D=>D.value!==C)),i===C&&a("")},P=C=>{if(!C.destination)return;const D=Array.from(n),[$]=D.splice(C.source.index,1);D.splice(C.destination.index,0,$),r(D)};return x.jsxs(x.Fragment,{children:[x.jsxs("div",{className:"rel_set flex items-center gap-2",children:[x.jsxs("select",{name:"relationship",id:"relationship",value:i,onChange:T,children:[x.jsx("option",{value:"",hidden:!0,children:""}),E.map(C=>x.jsx("option",{value:C.value,children:C.label},C.value)),x.jsx("option",{value:EM,children:" "})]}),x.jsx("button",{type:"button",onClick:()=>p(!0),className:"btn_style",children:""})]}),o&&!m&&x.jsxs("div",{className:"rel_set flex items-center mt-2 gap-2",children:[x.jsx("input",{type:"text",placeholder:" ",value:u,onChange:C=>f(C.target.value)}),x.jsx("button",{type:"button",onClick:N,className:"btn_style",children:""})]}),m&&x.jsxs("div",{className:"p-3 border mt-2 rounded bg-gray-50 dark:bg-neutral-900",children:[x.jsx("h4",{className:"font-bold mb-2",children:" "}),x.jsx(Km,{onDragEnd:P,children:x.jsx(rf,{droppableId:"relList",children:C=>x.jsxs("ul",{ref:C.innerRef,...C.droppableProps,className:"space-y-1",children:[n.map((D,$)=>x.jsx(nf,{draggableId:D.value,index:$,children:H=>x.jsxs("li",{ref:H.innerRef,...H.draggableProps,...H.dragHandleProps,className:"flex justify-between items-center bg-white dark:bg-neutral-800 p-2 rounded border text-sm desk:text-base",children:[x.jsx("span",{className:"cursor-grab mr-2",children:""}),x.jsx("span",{className:"flex-1 pr-1",children:D.label}),x.jsx("button",{type:"button",className:"text-red-500",onClick:()=>O(D.value),children:""})]})},D.value)),C.placeholder]})})}),x.jsx("button",{type:"button",onClick:()=>p(!1),className:"w-full btn_style mt-2",children:""})]})]})},un=" ",U5=["","","","","",""],H5="ms_folders",F5="ms_folder_order",AM="ms_folder_favs",vE="ms_disabled_presets",Tl="myeoun:folder-updated";function Gc(e){if(e!==un)return e||void 0}function mv(e){if(typeof window>"u")return[];const t=window.localStorage.getItem(e);if(!t)return[];try{const n=JSON.parse(t);return Array.isArray(n)?n.filter(r=>typeof r=="string"):[]}catch{return[]}}function N2(e,t){if(!(typeof window>"u"))try{window.localStorage.setItem(e,JSON.stringify(t))}catch{}}function jee(){const e=mv(vE);return U5.filter(t=>!e.includes(t))}function C2(){return mv(H5)}function M2(e){const t=Array.isArray(e)?e.filter(n=>typeof n=="string"&&n.trim()!==""):[];N2(H5,t),typeof window<"u"&&window.dispatchEvent(new Event(Tl))}function Hy(){const e=jee(),t=C2(),n=new Set,r=[];for(const i of[...e,...t])n.has(i)||(n.add(i),r.push(i));return r}function Nee(){return[un,...Hy()]}function G5(e){const t=e.trim();if(!t||t===un)return;const n=C2();if(n.includes(t))return;const r=[...n,t];M2(r)}function Cee(e){const t=C2(),n=t.filter(r=>r!==e);n.length!==t.length&&M2(n)}function Mee(e){const t=mv(vE);if(t.includes(e))return;const n=[...t,e];N2(vE,n),typeof window<"u"&&window.dispatchEvent(new Event(Tl))}function Fy(){return mv(F5)}function gd(e){N2(F5,e),typeof window<"u"&&window.dispatchEvent(new Event(Tl))}function em(e,t){const n=new Set(e),r=[];for(const i of t)n.has(i)&&!r.includes(i)&&r.push(i);for(const i of e)r.includes(i)||r.push(i);return r}function Pee(e){return Array.from(new Set(e))}function u0(e){const t=e.filter(n=>n!==un);return{rest:t,withUnassigned:[un,...t]}}function Dee(e,t){return em(t,e)}function Ree({value:e,onChange:t}){const[n,r]=S.useState([un]),[i,a]=S.useState(!1),[o,c]=S.useState(""),[u,f]=S.useState(!1),m=S.useCallback(async E=>{const{data:{user:T},error:N}=await Ie.auth.getUser();if(N||!T)return;const O=E.map((C,D)=>({user_id:T.id,folder_name:C,sort_order:D+1,updated_at:new Date().toISOString()})),{error:P}=await Ie.from("user_folder_order").upsert(O,{onConflict:"user_id,folder_name"});P&&console.error("save folder order error",P.message)},[]),p=S.useCallback(()=>{if(typeof window>"u")return;const E=Pee(Nee()),T=E.includes(un)?E:[un,...E],{rest:N}=u0(T),O=Fy(),P=Dee(O,N),C=[un,...P];r(C),O.length===P.length&&O.every(($,H)=>$===P[H])||(gd(P),m(P))},[m]);S.useEffect(()=>{if(p(),typeof window<"u"){const E=()=>p();return window.addEventListener(Tl,E),()=>window.removeEventListener(Tl,E)}},[p]);const g=S.useMemo(()=>e||un,[e]),v=E=>{const{rest:T}=u0(E);gd(T),m(T)},_=E=>{const{source:T,destination:N}=E;if(!N||N.index===T.index)return;const{rest:O}=u0(n),P=Array.from(O),[C]=P.splice(T.index,1);P.splice(N.index,0,C);const D=[un,...P];r(D),v(D)},w=E=>{const T=Gc(E);T&&(G5(T),p())};return x.jsxs("div",{className:"space-y-2",children:[x.jsxs("div",{className:"flex items-center gap-2",children:[x.jsxs("select",{className:"flex-1 border rounded-lg p-2",value:i?"__custom__":g,onChange:E=>{const T=E.target.value;if(T==="__custom__"){a(!0),t(void 0);return}a(!1),t(Gc(T))},children:[n.map(E=>x.jsx("option",{value:E,children:E},E)),x.jsx("option",{value:"__custom__",children:"+   "})]}),x.jsx("button",{type:"button",className:"px-3 py-2 rounded bg-neutral-200 hover:bg-neutral-300 dark:bg-neutral-800 dark:hover:bg-neutral-700 text-sm cursor-pointer",onClick:()=>f(E=>!E),children:u?" ":" "})]}),i&&x.jsxs("div",{className:"flex items-center gap-2",children:[x.jsx("input",{type:"text",value:o,onChange:E=>c(E.target.value),placeholder:"  ",className:"flex-1 border rounded-lg p-2"}),x.jsx("button",{type:"button",className:"px-3 py-2 rounded bg-neutral-800 hover:bg-neutral-700 text-sm text-white cursor-pointer",onClick:()=>{const E=o.trim();E&&(w(E),t(Gc(E)),a(!1),c(""))},children:""})]}),u&&x.jsxs("div",{className:"p-3 border rounded bg-neutral-50 dark:bg-neutral-900",children:[x.jsx("h4",{className:"font-bold mb-2 text-s",children:"  "}),x.jsxs("div",{className:"flex items-center justify-between bg-white dark:bg-neutral-800 p-2 rounded border text-sm mb-2",children:[x.jsx("span",{className:"opacity-60 select-none",children:""}),x.jsxs("span",{className:"flex-1 px-2",children:[un," ()"]})]}),x.jsx(Km,{onDragEnd:_,children:x.jsx(rf,{droppableId:"folderList",direction:"vertical",type:"FOLDER",children:E=>x.jsxs("ul",{ref:E.innerRef,...E.droppableProps,className:"space-y-1",children:[u0(n).rest.map((T,N)=>x.jsx(nf,{draggableId:T,index:N,children:O=>x.jsxs("li",{ref:O.innerRef,...O.draggableProps,...O.dragHandleProps,className:"flex items-center justify-between bg-white dark:bg-neutral-800 p-2 rounded border text-sm",children:[x.jsx("span",{className:"cursor-grab select-none mr-2",children:""}),x.jsx("span",{className:"flex-1 pr-1",children:T})]})},T)),E.placeholder]})})})]}),x.jsxs("p",{className:"text-xs text-gray-500",children:['   "',un,'" .      .']})]})}function q5({message:e,onClose:t,ms:n=2e3}){return S.useEffect(()=>{const r=setTimeout(t,n);return()=>clearTimeout(r)},[t,n]),x.jsx("div",{className:"fixed top-4 left-1/2 -translate-x-1/2 bg-black text-white px-4 py-2 rounded-lg shadow-lg z-[9999]",children:e})}const TM=[{key:"name",label:"",placeholder:" ",type:"text"},{key:"birthDay",label:"",placeholder:": 19900101",type:"tel"},{key:"birthTime",label:"",placeholder:": 1524",type:"tel"},{key:"mingSikType",label:" ",type:"mingrule"},{key:"gender",label:"",type:"radio"},{key:"birthPlace",label:"",type:"place"},{key:"relationship",label:"",type:"relationship"},{key:"folder",label:" ",type:"folder"},{key:"memo",label:"",placeholder:" ",type:"textarea"}],Lee=[{value:"solar",label:"",id:"calendarType_solar"},{value:"lunar",label:"",id:"calendarType_lunar"}],Iee=["","/",""],$ee=["",""],Y5={gender:"",mingSikType:"/",DayChangeRule:"",calendarType:"solar"};function Bee(e,t,n){return n==="ArrowRight"||n==="ArrowDown"?(e+1)%t:n==="ArrowLeft"||n==="ArrowUp"?(e-1+t)%t:n==="Home"?0:n==="End"?t-1:e}function zee(e){const t=document.getElementById(e);t instanceof HTMLElement&&t.focus()}function Uee(){const[e,t]=S.useState(0),[n,r]=S.useState({...Y5}),[i,a]=S.useState(null),[o,c]=S.useState(!1),[u,f]=S.useState(!1);return{stepIndex:e,setStepIndex:t,form:n,setForm:r,toast:i,setToast:a,unknownTime:o,setUnknownTime:c,unknownPlace:u,setUnknownPlace:f}}function Hee({currentStepKey:e,birthPlace:t,unknownPlace:n,stepIndex:r}){S.useEffect(()=>{if(["name","birthDay","birthTime","memo"].includes(e)){const a=document.querySelector(".current-step input[type='text']:not([disabled]), .current-step textarea:not([disabled])");if(a){a.focus();return}}if(e==="mingSikType"){const a=document.querySelector("[id^='ming_'][id$='_lbl'][aria-checked='true']");if(a){a.focus();return}}if(e==="gender"){const a=document.querySelector("[id^='gender_'][id$='_lbl'][aria-checked='true']");if(a){a.focus();return}}if(e==="birthPlace"){if(t||n){const a=()=>{const o=document.querySelector(".current-step form button[type='submit']");o&&o.focus()};a(),setTimeout(a,0)}else{const a=document.getElementById("inputBirthPlaceBtn");a&&a.focus()}return}if(e==="relationship"||e==="folder"){setTimeout(()=>{const a=document.querySelector(".current-step select");a&&a.focus()},0);return}document.querySelector(".current-step button, .current-step [tabindex='0']")?.focus()},[n,r,e,t])}function Fee(e,t){if(e!=="lunar"||!t||t.length!==8)return null;try{const n=Number(t.slice(0,4)),r=Number(t.slice(4,6)),i=Number(t.slice(6,8)),a=Bi(n,r,i);return` ${a.getFullYear()}-${String(a.getMonth()+1).padStart(2,"0")}-${String(a.getDate()).padStart(2,"0")}`}catch(n){const r=n instanceof Error?n.message:void 0;return` ${r?`: ${r}`:""}`}}function Gee(e,t,n,r){switch(e){case"birthPlace":return r?"":t.birthPlace?.name||"";case"birthTime":return n?"":t.birthTime||"";case"folder":return t.folder?String(t.folder):un;default:{const a=t[e];return typeof a=="string"?a:a!=null?String(a):""}}}function qee({form:e,unknownTime:t,unknownPlace:n,stepIndex:r}){const i=TM[r],a=S.useMemo(()=>Fee(e.calendarType,e.birthDay),[e.calendarType,e.birthDay]);return{steps:TM,currentStep:i,lunarPreview:a,displayValue:c=>Gee(c,e,t,n),CALENDAR_OPTIONS:Lee,MING_OPTIONS:Iee,GENDER_OPTIONS:$ee,nextIndex:Bee,focusById:zee,isDST:By}}function Yee(){return{add:Br(t=>t.add)}}const mr=[];for(let e=0;e<256;++e)mr.push((e+256).toString(16).slice(1));function Kee(e,t=0){return(mr[e[t+0]]+mr[e[t+1]]+mr[e[t+2]]+mr[e[t+3]]+"-"+mr[e[t+4]]+mr[e[t+5]]+"-"+mr[e[t+6]]+mr[e[t+7]]+"-"+mr[e[t+8]]+mr[e[t+9]]+"-"+mr[e[t+10]]+mr[e[t+11]]+mr[e[t+12]]+mr[e[t+13]]+mr[e[t+14]]+mr[e[t+15]]).toLowerCase()}let Rw;const Wee=new Uint8Array(16);function Vee(){if(!Rw){if(typeof crypto>"u"||!crypto.getRandomValues)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");Rw=crypto.getRandomValues.bind(crypto)}return Rw(Wee)}const Zee=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),OM={randomUUID:Zee};function K5(e,t,n){if(OM.randomUUID&&!e)return OM.randomUUID();e=e||{};const r=e.random??e.rng?.()??Vee();if(r.length<16)throw new Error("Random bytes length must be >= 16");return r[6]=r[6]&15|64,r[8]=r[8]&63|128,Kee(r)}function Xee(e,t,n){const r=Gc(e.folder);return R5({id:K5(),name:e.name,birthDay:e.birthDay??"",calendarType:e.calendarType??"solar",birthTime:e.birthTime,unknownTime:t,gender:e.gender,birthPlace:e.birthPlace,unknownPlace:n,relationship:e.relationship,memo:e.memo,folder:r,mingSikType:e.mingSikType,dateObj:e.dateObj||new Date},{requireName:!1})}function Jee(e,t,n,r){if(e==="name"&&!t.name)return{ok:!0,message:"  '' .",nextForm:{...t,name:""}};if(e==="birthDay"){const i=A2(t.birthDay??"",t.calendarType??"solar");if(!i.ok)return{ok:!1,message:i.message};if(t.birthDay!==i.value)return{ok:!0,nextForm:{...t,birthDay:i.value}}}if(e==="birthTime"){const i=T2(t.birthTime??"",n);if(!i.ok)return{ok:!1,message:i.message};if(i.value!==""&&t.birthTime!==i.value)return{ok:!0,nextForm:{...t,birthTime:i.value}}}return e==="birthPlace"&&!t.birthPlace&&!r?{ok:!1,message:"  ''  ."}:{ok:!0}}function Qee({form:e,setForm:t,stepIndex:n,setStepIndex:r,stepsLength:i,currentStepKey:a,unknownTime:o,setUnknownTime:c,unknownPlace:u,setUnknownPlace:f,setToast:m,onSave:p}){const{add:g}=Yee(),v=S.useCallback(()=>{const w=Jee(a,e,o,u);if(!w.ok){m(w.message??" .");return}if(w.nextForm&&(t(w.nextForm),w.message&&m(w.message)),n<i-1){r(n+1);return}const E=Xee(e,o,u);if(!E.ok){m(E.message);return}const T=E.value;g(T),p(T),m(" !"),t({...Y5}),c(!1),f(!1),r(0)},[a,e,o,u,m,t,n,i,r,g,p,c,f]),_=S.useCallback(w=>{if(w.key!=="Enter")return;const E=w.target,T=E.getAttribute("role");if(T==="radio"||T==="checkbox")return;const N=document.getElementById("mapModal");if(N&&N.contains(E))return;const O=E.tagName.toLowerCase(),P=E instanceof HTMLInputElement?E.type:"";if(O==="textarea"){if(w.shiftKey)return;w.preventDefault(),v();return}if(P==="radio"||P==="checkbox"){w.preventDefault(),E instanceof HTMLInputElement&&E.click();return}O==="button"&&E.type!=="submit"||(w.preventDefault(),v())},[v]);return{handleNext:v,handleFormKeyDown:_}}function ete({onSave:e}){const t=Uee(),n=qee({form:t.form,unknownTime:t.unknownTime,unknownPlace:t.unknownPlace,stepIndex:t.stepIndex});Hee({currentStepKey:n.currentStep.key,birthPlace:t.form.birthPlace,unknownPlace:t.unknownPlace,stepIndex:t.stepIndex});const r=Qee({form:t.form,setForm:t.setForm,stepIndex:t.stepIndex,setStepIndex:t.setStepIndex,stepsLength:n.steps.length,currentStepKey:n.currentStep.key,unknownTime:t.unknownTime,setUnknownTime:t.setUnknownTime,unknownPlace:t.unknownPlace,setUnknownPlace:t.setUnknownPlace,setToast:t.setToast,onSave:e});return{steps:n.steps,stepIndex:t.stepIndex,setStepIndex:t.setStepIndex,currentStep:n.currentStep,form:t.form,setForm:t.setForm,toast:t.toast,setToast:t.setToast,unknownTime:t.unknownTime,setUnknownTime:t.setUnknownTime,unknownPlace:t.unknownPlace,setUnknownPlace:t.setUnknownPlace,lunarPreview:n.lunarPreview,handleNext:r.handleNext,handleFormKeyDown:r.handleFormKeyDown,displayValue:n.displayValue,CALENDAR_OPTIONS:n.CALENDAR_OPTIONS,MING_OPTIONS:n.MING_OPTIONS,GENDER_OPTIONS:n.GENDER_OPTIONS,nextIndex:n.nextIndex,focusById:n.focusById,isDST:n.isDST}}function tte({onSave:e,onClose:t}){const n=ete({onSave:e});return x.jsxs("div",{className:"mx-auto mt-10 space-y-2 max-w-[640px] w-[96%] text-neutral-900 dark:text-neutral-100",children:[n.toast&&x.jsx(q5,{message:n.toast,onClose:()=>n.setToast(null)}),n.steps.slice(0,n.stepIndex).map((r,i)=>x.jsxs("button",{onClick:()=>n.setStepIndex(i),className:"p-3 rounded-lg bg-neutral-100 dark:bg-neutral-900 border border-neutral-200 dark:border-neutral-800 flex justify-between w-full text-left hover:bg-neutral-200 dark:hover:bg-neutral-800/80 transition-colors",children:[x.jsx("span",{className:"font-semibold",children:r.label}),x.jsx("span",{className:"text-neutral-600 dark:text-neutral-300",children:n.displayValue(r.key)})]},r.key)),x.jsx("div",{className:"p-4 border rounded-lg shadow current-step bg-white dark:bg-neutral-900 border-neutral-200 dark:border-neutral-800",children:x.jsxs("form",{onSubmit:r=>{r.preventDefault(),n.handleNext()},onKeyDown:n.handleFormKeyDown,children:[x.jsx("label",{className:"block mb-2 font-bold",children:n.currentStep.label}),n.currentStep.key==="name"&&x.jsx("input",{type:"text",className:"w-full border rounded-lg p-2 bg-white dark:bg-neutral-900 border-neutral-300 dark:border-neutral-700 placeholder-neutral-400 dark:placeholder-neutral-500 text-neutral-900 dark:text-neutral-100",placeholder:n.currentStep.placeholder,value:n.form.name||"",onChange:r=>n.setForm({...n.form,name:r.target.value})}),n.currentStep.key==="birthDay"&&x.jsxs("div",{className:"space-y-2",children:[x.jsxs("div",{className:"flex gap-1 items-center",children:[x.jsx("input",{type:"text",className:"flex-1 border rounded-lg p-2 bg-white dark:bg-neutral-900 border-neutral-300 dark:border-neutral-700 placeholder-neutral-400 dark:placeholder-neutral-500 text-neutral-900 dark:text-neutral-100",placeholder:n.currentStep.placeholder,value:n.form.birthDay||"",onChange:r=>{const i=r.target.value.replace(/\D/g,"");n.setForm({...n.form,birthDay:i.slice(0,8)})},inputMode:"numeric",pattern:"\\d*",maxLength:8}),x.jsx("fieldset",{role:"radiogroup","aria-label":" ",className:"flex gap-1 text-sm",children:n.CALENDAR_OPTIONS.map(({value:r,label:i,id:a})=>{const o=n.form.calendarType===r;return x.jsxs("span",{className:"inline-flex items-center gap-1",children:[x.jsx("input",{id:a,name:"calendarType",type:"radio",style:{display:"none"}}),x.jsx("label",{htmlFor:a,id:`${a}_lbl`,role:"radio","aria-checked":o,tabIndex:0,className:`cursor-pointer select-none px-2 py-1 rounded-md border
                                     border-neutral-300 dark:border-neutral-700
                                     bg-white dark:bg-neutral-900
                                     focus-visible:outline focus-visible:outline-2 focus-visible:outline-amber-500
                                     data-[checked=true]:border-amber-400 data-[checked=true]:bg-amber-50
                                     dark:data-[checked=true]:bg-amber-500/10`,"data-checked":o?"true":"false",onKeyDown:c=>{if(c.stopPropagation(),c.key===" "||c.key==="Enter"){c.preventDefault(),n.setForm({...n.form,calendarType:r});return}if(!["ArrowRight","ArrowLeft","ArrowUp","ArrowDown","Home","End"].includes(c.key))return;c.preventDefault();const f=n.CALENDAR_OPTIONS.findIndex(g=>g.value===n.form.calendarType),m=n.nextIndex(f<0?0:f,n.CALENDAR_OPTIONS.length,c.key),p=n.CALENDAR_OPTIONS[m].value;n.setForm({...n.form,calendarType:p}),n.focusById(`${n.CALENDAR_OPTIONS[m].id}_lbl`)},onClick:c=>{c.preventDefault(),n.setForm({...n.form,calendarType:r})},children:i})]},r)})})]}),n.form.calendarType==="lunar"&&x.jsx("div",{className:"flex items-center justify-end",children:x.jsx("span",{className:"text-xs text-neutral-600 dark:text-neutral-300",children:n.lunarPreview})}),n.form.birthDay&&n.form.birthDay.length===8&&(()=>{const r=Number(n.form.birthDay.slice(0,4)),i=Number(n.form.birthDay.slice(4,6)),a=Number(n.form.birthDay.slice(6,8));return n.isDST(r,i,a)?x.jsx("div",{className:"text-xs text-red-600 dark:text-red-400 mt-1",children:"  ."}):null})()]}),n.currentStep.key==="birthTime"&&x.jsxs("div",{className:"space-y-2",children:[x.jsx("input",{type:"text",className:"w-full border rounded-lg p-2 disabled:opacity-50 bg-white dark:bg-neutral-900 border-neutral-300 dark:border-neutral-700 placeholder-neutral-400 dark:placeholder-neutral-500 text-neutral-900 dark:text-neutral-100",placeholder:n.currentStep.placeholder,value:n.unknownTime?"":n.form.birthTime||"",onChange:r=>{const i=r.target.value.replace(/\D/g,"");n.setForm({...n.form,birthTime:i.slice(0,4)})},inputMode:"numeric",pattern:"\\d*",maxLength:4,disabled:n.unknownTime}),x.jsxs("span",{className:"inline-flex items-center gap-1",children:[x.jsx("input",{id:"birthTimeX",type:"checkbox",style:{display:"none"}}),x.jsx("label",{htmlFor:"birthTimeX",role:"checkbox","aria-checked":n.unknownTime,tabIndex:0,className:`text-sm select-none cursor-pointer px-2 py-1 rounded-md border
                             border-neutral-300 dark:border-neutral-700
                             bg-white dark:bg-neutral-900
                             focus-visible:outline focus-visible:outline-2 focus-visible:outline-amber-500
                             data-[checked=true]:border-amber-400 data-[checked=true]:bg-amber-50
                             dark:data-[checked=true]:bg-amber-500/10`,"data-checked":n.unknownTime?"true":"false",onKeyDown:r=>{r.stopPropagation(),(r.key===" "||r.key==="Enter")&&(r.preventDefault(),n.setUnknownTime(!n.unknownTime))},onClick:r=>{r.preventDefault(),n.setUnknownTime(!n.unknownTime)},children:""})]})]}),n.currentStep.key==="mingSikType"&&x.jsx("fieldset",{role:"radiogroup","aria-label":" ",className:"flex flex-wrap gap-3",children:n.MING_OPTIONS.map(r=>{const i=`ming_${r}`,a=(n.form.mingSikType??"/")===r;return x.jsxs("span",{className:"inline-flex items-center gap-1",children:[x.jsx("input",{id:i,name:"mingSikType",type:"radio",style:{display:"none"}}),x.jsxs("label",{htmlFor:i,id:`${i}_lbl`,role:"radio","aria-checked":a,tabIndex:0,className:`cursor-pointer select-none px-2 py-1 rounded-md border
                                 border-neutral-300 dark:border-neutral-700
                                 bg-white dark:bg-neutral-900
                                 focus-visible:outline focus-visible:outline-2 focus-visible:outline-amber-500
                                 data-[checked=true]:border-amber-400 data-[checked=true]:bg-amber-50
                                 dark:data-[checked=true]:bg-amber-500/10`,"data-checked":a?"true":"false",onKeyDown:o=>{if(o.stopPropagation(),o.key===" "||o.key==="Enter"){o.preventDefault(),n.setForm({...n.form,mingSikType:r});return}if(!["ArrowRight","ArrowLeft","ArrowUp","ArrowDown","Home","End"].includes(o.key))return;o.preventDefault();const u=n.form.mingSikType??"/",f=n.MING_OPTIONS.indexOf(u),m=n.nextIndex(f,n.MING_OPTIONS.length,o.key),p=n.MING_OPTIONS[m];n.setForm({...n.form,mingSikType:p}),n.focusById(`ming_${p}_lbl`)},onClick:o=>{o.preventDefault(),n.setForm({...n.form,mingSikType:r})},children:[r," "]})]},r)})}),n.currentStep.key==="gender"&&x.jsx("fieldset",{role:"radiogroup","aria-label":"",className:"flex gap-2",children:n.GENDER_OPTIONS.map(r=>{const i=`gender_${r}`,a=(n.form.gender??"")===r;return x.jsxs("span",{className:"inline-flex items-center gap-1",children:[x.jsx("input",{id:i,name:"gender",type:"radio",style:{display:"none"}}),x.jsx("label",{htmlFor:i,id:`${i}_lbl`,role:"radio","aria-checked":a,tabIndex:0,className:`cursor-pointer select-none px-2 py-1 rounded-md border
                                 border-neutral-300 dark:border-neutral-700
                                 bg-white dark:bg-neutral-900
                                 focus-visible:outline focus-visible:outline-2 focus-visible:outline-amber-500
                                 data-[checked=true]:border-amber-400 data-[checked=true]:bg-amber-50
                                 dark:data-[checked=true]:bg-amber-500/10`,"data-checked":a?"true":"false",onKeyDown:o=>{if(o.stopPropagation(),o.key===" "||o.key==="Enter"){o.preventDefault(),n.setForm({...n.form,gender:r});return}if(!["ArrowRight","ArrowLeft","ArrowUp","ArrowDown","Home","End"].includes(o.key))return;o.preventDefault();const u=n.form.gender??"",f=n.GENDER_OPTIONS.indexOf(u),m=n.nextIndex(f,n.GENDER_OPTIONS.length,o.key),p=n.GENDER_OPTIONS[m];n.setForm({...n.form,gender:p}),n.focusById(`gender_${p}_lbl`)},onClick:o=>{o.preventDefault(),n.setForm({...n.form,gender:r})},children:r})]},r)})}),n.currentStep.key==="birthPlace"&&x.jsxs("div",{className:"space-y-2",children:[x.jsx(xB,{onSelect:r=>n.setForm({...n.form,birthPlace:r}),value:n.unknownPlace?"":n.form.birthPlace?.name??""}),x.jsxs("span",{className:"inline-flex items-center gap-1",children:[x.jsx("input",{id:"birthPlaceX",type:"checkbox",style:{display:"none"}}),x.jsx("label",{htmlFor:"birthPlaceX",role:"checkbox","aria-checked":n.unknownPlace,tabIndex:0,className:`text-sm select-none cursor-pointer px-2 py-1 rounded-md border
                             border-neutral-300 dark:border-neutral-700
                             bg-white dark:bg-neutral-900
                             focus-visible:outline focus-visible:outline-2 focus-visible:outline-amber-500
                             data-[checked=true]:border-amber-400 data-[checked=true]:bg-amber-50
                             dark:data-[checked=true]:bg-amber-500/10`,"data-checked":n.unknownPlace?"true":"false",onKeyDown:r=>{r.stopPropagation(),(r.key===" "||r.key==="Enter")&&(r.preventDefault(),n.setUnknownPlace(!n.unknownPlace))},onClick:r=>{r.preventDefault(),n.setUnknownPlace(!n.unknownPlace)},children:""})]})]}),n.currentStep.key==="relationship"&&x.jsx(z5,{value:n.form.relationship||"",onChange:r=>n.setForm({...n.form,relationship:r})}),n.currentStep.key==="folder"&&x.jsx(Ree,{value:Gc(n.form.folder),onChange:r=>n.setForm({...n.form,folder:r})}),n.currentStep.key==="memo"&&x.jsx("textarea",{className:"w-full border rounded-lg p-2 bg-white dark:bg-neutral-900 border-neutral-300 dark:border-neutral-700 placeholder-neutral-400 dark:placeholder-neutral-500 text-neutral-900 dark:text-neutral-100",placeholder:n.currentStep.placeholder,value:n.form.memo||"",onChange:r=>n.setForm({...n.form,memo:r.target.value})}),x.jsxs("div",{className:"flex justify-between gap-2",children:[x.jsx("button",{className:"mt-4 w-full btn_style btn_secondary dark:focus:ring-amber-500",onClick:t,children:""}),x.jsx("button",{type:"submit",className:"mt-4 w-full btn_style dark:focus:ring-amber-500",children:n.stepIndex===n.steps.length-1?"":""})]})]})})]})}var d0={},jM;function nte(){if(jM)return d0;jM=1,d0.match=a,d0.parse=o;var e=/(?:(only|not)?\s*([^\s\(\)]+)(?:\s*and)?\s*)?(.+)?/i,t=/\(\s*([^\s\:\)]+)\s*(?:\:\s*([^\s\)]+))?\s*\)/,n=/^(?:(min|max)-)?(.+)/,r=/(em|rem|px|cm|mm|in|pt|pc)?$/,i=/(dpi|dpcm|dppx)?$/;function a(m,p){return o(m).some(function(g){var v=g.inverse,_=g.type==="all"||p.type===g.type;if(_&&v||!(_||v))return!1;var w=g.expressions.every(function(E){var T=E.feature,N=E.modifier,O=E.value,P=p[T];if(!P)return!1;switch(T){case"orientation":case"scan":return P.toLowerCase()===O.toLowerCase();case"width":case"height":case"device-width":case"device-height":O=f(O),P=f(P);break;case"resolution":O=u(O),P=u(P);break;case"aspect-ratio":case"device-aspect-ratio":case"device-pixel-ratio":O=c(O),P=c(P);break;case"grid":case"color":case"color-index":case"monochrome":O=parseInt(O,10)||1,P=parseInt(P,10)||0;break}switch(N){case"min":return P>=O;case"max":return P<=O;default:return P===O}});return w&&!v||!w&&v})}function o(m){return m.split(",").map(function(p){p=p.trim();var g=p.match(e),v=g[1],_=g[2],w=g[3]||"",E={};return E.inverse=!!v&&v.toLowerCase()==="not",E.type=_?_.toLowerCase():"all",w=w.match(/\([^\)]+\)/g)||[],E.expressions=w.map(function(T){var N=T.match(t),O=N[1].toLowerCase().match(n);return{modifier:O[1],feature:O[2],value:N[2]}}),E})}function c(m){var p=Number(m),g;return p||(g=m.match(/^(\d+)\s*\/\s*(\d+)$/),p=g[1]/g[2]),p}function u(m){var p=parseFloat(m),g=String(m).match(i)[1];switch(g){case"dpcm":return p/2.54;case"dppx":return p*96;default:return p}}function f(m){var p=parseFloat(m),g=String(m).match(r)[1];switch(g){case"em":return p*16;case"rem":return p*16;case"cm":return p*96/2.54;case"mm":return p*96/2.54/10;case"in":return p*96;case"pt":return p*72;case"pc":return p*72/12;default:return p}}return d0}var Lw,NM;function rte(){if(NM)return Lw;NM=1;var e=nte().match,t=typeof window<"u"?window.matchMedia:null;function n(i,a,o){var c=this,u;t&&!o&&(u=t.call(window,i)),u?(this.matches=u.matches,this.media=u.media,u.addListener(p)):(this.matches=e(i,a),this.media=i),this.addListener=f,this.removeListener=m,this.dispose=g;function f(v){u&&u.addListener(v)}function m(v){u&&u.removeListener(v)}function p(v){c.matches=v.matches,c.media=v.media}function g(){u&&u.removeListener(p)}}function r(i,a,o){return new n(i,a,o)}return Lw=r,Lw}var ite=rte();const ate=ui(ite);var ote=/[A-Z]/g,ste=/^ms-/,Iw={};function lte(e){return"-"+e.toLowerCase()}function W5(e){if(Iw.hasOwnProperty(e))return Iw[e];var t=e.replace(ote,lte);return Iw[e]=ste.test(t)?"-"+t:t}function cte(e,t){if(e===t)return!0;if(!e||!t)return!1;const n=Object.keys(e),r=Object.keys(t),i=n.length;if(r.length!==i)return!1;for(let a=0;a<i;a++){const o=n[a];if(e[o]!==t[o]||!Object.prototype.hasOwnProperty.call(t,o))return!1}return!0}var $w={exports:{}},Bw,CM;function ute(){if(CM)return Bw;CM=1;var e="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return Bw=e,Bw}var zw,MM;function dte(){if(MM)return zw;MM=1;var e=ute();function t(){}function n(){}return n.resetWarningCache=t,zw=function(){function r(o,c,u,f,m,p){if(p!==e){var g=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw g.name="Invariant Violation",g}}r.isRequired=r;function i(){return r}var a={array:r,bigint:r,bool:r,func:r,number:r,object:r,string:r,symbol:r,any:r,arrayOf:i,element:r,elementType:r,instanceOf:i,node:r,objectOf:i,oneOf:i,oneOfType:i,shape:i,exact:i,checkPropTypes:n,resetWarningCache:t};return a.PropTypes=a,a},zw}var PM;function fte(){return PM||(PM=1,$w.exports=dte()()),$w.exports}var hte=fte();const Ot=ui(hte),Dr=Ot.oneOfType([Ot.string,Ot.number]),V5={all:Ot.bool,grid:Ot.bool,aural:Ot.bool,braille:Ot.bool,handheld:Ot.bool,print:Ot.bool,projection:Ot.bool,screen:Ot.bool,tty:Ot.bool,tv:Ot.bool,embossed:Ot.bool},mte={orientation:Ot.oneOf(["portrait","landscape"]),scan:Ot.oneOf(["progressive","interlace"]),aspectRatio:Ot.string,deviceAspectRatio:Ot.string,height:Dr,deviceHeight:Dr,width:Dr,deviceWidth:Dr,color:Ot.bool,colorIndex:Ot.bool,monochrome:Ot.bool,resolution:Dr,type:Object.keys(V5)},{type:BTe,...pte}=mte,gte={minAspectRatio:Ot.string,maxAspectRatio:Ot.string,minDeviceAspectRatio:Ot.string,maxDeviceAspectRatio:Ot.string,minHeight:Dr,maxHeight:Dr,minDeviceHeight:Dr,maxDeviceHeight:Dr,minWidth:Dr,maxWidth:Dr,minDeviceWidth:Dr,maxDeviceWidth:Dr,minColor:Ot.number,maxColor:Ot.number,minColorIndex:Ot.number,maxColorIndex:Ot.number,minMonochrome:Ot.number,maxMonochrome:Ot.number,minResolution:Dr,maxResolution:Dr,...pte},yte={...V5,...gte};var bte={all:yte};const vte=e=>`not ${e}`,xte=(e,t)=>{const n=W5(e);return typeof t=="number"&&(t=`${t}px`),t===!0?n:t===!1?vte(n):`(${n}: ${t})`},_te=e=>e.join(" and "),wte=e=>{const t=[];return Object.keys(bte.all).forEach(n=>{const r=e[n];r!=null&&t.push(xte(n,r))}),_te(t)},Ste=S.createContext(void 0),Ete=e=>e.query||wte(e),DM=e=>e?Object.keys(e).reduce((n,r)=>(n[W5(r)]=e[r],n),{}):void 0,Z5=()=>{const e=S.useRef(!1);return S.useEffect(()=>{e.current=!0},[]),e.current},kte=e=>{const t=S.useContext(Ste),n=()=>DM(e)||DM(t),[r,i]=S.useState(n);return S.useEffect(()=>{const a=n();cte(r,a)||i(a)},[e,t]),r},Ate=e=>{const t=()=>Ete(e),[n,r]=S.useState(t);return S.useEffect(()=>{const i=t();n!==i&&r(i)},[e]),n},Tte=(e,t)=>{const n=()=>ate(e,t||{},!!t),[r,i]=S.useState(n),a=Z5();return S.useEffect(()=>{if(a){const o=n();return i(o),()=>{o&&o.dispose()}}},[e,t]),r},Ote=e=>{const[t,n]=S.useState(e.matches);return S.useEffect(()=>{const r=i=>{n(i.matches)};return e.addListener(r),n(e.matches),()=>{e.removeListener(r)}},[e]),t},jte=(e,t,n)=>{const r=kte(t),i=Ate(e);if(!i)throw new Error("Invalid or missing MediaQuery!");const a=Tte(i,r),o=Ote(a);return Z5(),S.useEffect(()=>{},[o]),S.useEffect(()=>()=>{a&&a.dispose()},[]),o},X5={Classic:"",Modern:""};function ko(e,t){const r={:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}}[e];return r?r[t]??"":""}function Nte(e,t){return{:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}}[e]?.[t]??""}function Cte(e,t){const n={:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},r={:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}},i=n[e];return i&&r[i]?r[i][t]??"":""}function Mte(e,t){return{:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}}[e]?.[t]??""}function Pte(e,t){const n={:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},r={:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}},i=n[e];return i&&r[i]?r[i][t]??"":""}function Ao(e){const{baseBranch:t,targetBranch:n,era:r,gaehwa:i}=e;return!t||!n?"":r===""?i?Nte(t,n):Cte(t,n):i?Mte(t,n):Pte(t,n)}const ci=au()(X3((e,t)=>{const n=new Date,r="/",i=127.5,a=i,o=at(n,a),c=kt(n,a),u=gt(n,r);return{date:n,scope:"",rule:r,lon:i,yearGZ:o,monthGZ:c,dayGZ:u,setDate:f=>{const{rule:m,lon:p}=t(),g=typeof p=="number"?p:void 0;e({date:f,yearGZ:at(f,g),monthGZ:kt(f,g),dayGZ:gt(f,m)})},resetDate:()=>{const{rule:f,lon:m}=t(),p=new Date,g=typeof m=="number"?m:void 0;e({date:p,yearGZ:at(p,g),monthGZ:kt(p,g),dayGZ:gt(p,f)})},resetMonth:()=>{const{lon:f}=t(),m=new Date;e({date:m,monthGZ:kt(m,typeof f=="number"?f:void 0)})},setScope:f=>e({scope:f}),setRule:f=>{const{date:m,lon:p}=t(),g=typeof p=="number"?p:void 0;e({rule:f,yearGZ:at(m,g),monthGZ:kt(m,g),dayGZ:gt(m,f)})},setLon:f=>{const{date:m,rule:p}=t(),g=typeof f=="number"?f:void 0;e({lon:f,yearGZ:at(m,g),monthGZ:kt(m,g),dayGZ:gt(m,p)})},setFromEvent:(f,m)=>{const{rule:p,lon:g}=t(),v=typeof g=="number"?g:void 0;e({date:f.at,scope:m,yearGZ:at(f.at,v),monthGZ:kt(f.at,v),dayGZ:gt(f.at,p)})},forceKey:new Date}},{name:"luck-picker-v1",merge:(e,t)=>{const n=e;return n.date&&typeof n.date=="string"&&(n.date=new Date(n.date)),{...t,...n}}})),Dte=60*1e3,Rte=60*Dte,Lte=24*Rte,Ite=(e,t)=>{const n=new Date(e.getTime()),r=n.getFullYear()+t,i=n.getMonth(),a=n.getDate();return new Date(Date.UTC(r,i,a,n.getUTCHours(),n.getUTCMinutes()))},xE=e=>{const t=new Date(e);return t.setSeconds(0,0),t},$te={DAY:Lte},ca=e=>{const t=e.getFullYear(),n=[{deg:315,name:""},{deg:345,name:""},{deg:15,name:""},{deg:45,name:""},{deg:75,name:""},{deg:105,name:""},{deg:135,name:""},{deg:165,name:""},{deg:195,name:""},{deg:225,name:""},{deg:255,name:""},{deg:285,name:""}],r={deg:315,name:""},i=n.map(c=>({name:c.name,date:Un(t,c.deg)})).concat([{name:r.name,date:Un(t+1,r.deg)},{name:"",date:Un(t+1,285)}]),a=Un(t,315),o=Un(t+1,315);return i.filter(c=>c.date>=a&&c.date<o).sort((c,u)=>c.date.getTime()-u.date.getTime())},J5=(()=>{const e=[];for(let t=0;t<60;t+=1)e.push(`${$r[t%10]}${si[t%12]}`);return e})(),Bte=e=>{const t=J5.indexOf(e);if(t<0)throw new Error(`Unknown : ${e}`);return t},Gy=(e,t,n=1)=>{const r=Bte(e),i=t==="forward"?n:-n;return J5[(r+i+60*1e3)%60]},zte=(e,t,n)=>{const r=e.getHours(),i=n==="/"?(Math.floor((r+1)/2)*2-1+24)%24:(Math.floor(r/2)*2+1)%24,a=new Date(e);a.setHours(i,0,0,0);const o=new Date(a);o.setHours(i+2,0,0,0);const c=e.getTime()-a.getTime(),u=o.getTime()-e.getTime();return t==="backward"?c:u},Q5=(e,t,n,r=120,i="/")=>{const a=xE(e),o=zte(a,n,i),c=xE(new Date(a.getTime()+o*120)),u=Ite(e,r).getTime(),f=[];let m=Gy(t,n,1);for(let p=c.getTime();p<=u;p+=10*$te.DAY)f.push({at:new Date(p),gz:m}),m=Gy(m,n,1);return{firstChange:c,events:f}},e4=(e,t)=>{const n=t==="forward"?e===""?"":"":e===""?"":"";return r=>r===n},t4=(e,t,n,r)=>{const i=e4(r,n);let a=t;const o=[];for(const c of e.events){const u=c.gz.charAt(1);i(u)&&(a=Gy(a,n,1),o.push({at:c.at,gz:a}))}return{events:o}},Ute={:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},Hte={:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},Fte=e=>Ute[e]??("".includes(e)?e:null),Gte=e=>Hte[e]??("".includes(e)?e:null),RM=e=>{const t=Fte(e[0]),n=Gte(e[1]);if(!t||!n)throw new Error(`Invalid GZ: ${e}`);return`${t}${n}`},qte=e=>Math.floor((e.getHours()+1)%24/2),Uw=e=>["","","","","","","","","","","",""][qte(e)],Yte=(e,t,n)=>{const r=e.charAt(0),i=e.charAt(1),a=$r.indexOf(r),o=si.indexOf(i),c=t==="forward"?n:-n,u=(a+c%10+10)%10,f=(o+c%12+12)%12;return $r[u]+si[f]},Jm=(e,t,n,r=120,i)=>{const a=ca(e).sort((w,E)=>w.date.getTime()-E.date.getTime());let o;if(n==="forward"){const w=a.findIndex(E=>E.date>=e);w>=0&&(o=a[w].date)}else{const w=a.filter(E=>E.date<=e);w.length&&(o=w[w.length-1].date)}const c=(w,E)=>{const T=Uw(w),N={:23,:1,:3,:5,:7,:9,:11,:13,:15,:17,:19,:21},O=N[T],P=(O+2)%24,C=new Date(w);if(C.setSeconds(0,0),n==="backward"&&E){const $=Uw(E),H=N[$],Y=new Date(E);return Y.setHours(H,0,0,0),Y}if(n==="forward"&&E){const $=Uw(E),H=N[$],Y=new Date(E);if(Y.setHours(H,0,0,0),Y>C)return Y}const D=new Date(C);return n==="forward"?(D.setHours(P,0,0,0),D<=C&&D.setDate(D.getDate()+1)):(D.setHours(O,0,0,0),D>=C&&D.setDate(D.getDate()-1)),D},u=RM(kt(e,127.5)),f=c(e,o),m=Math.floor(n==="forward"?(f.getTime()-e.getTime())/6e4:(e.getTime()-f.getTime())/6e4),p=Math.round(m/120*(14400*60*1e3));let g=new Date(e.getTime()+p);try{const w=RM(kt(e,i));(n==="forward"&&u!==w||n==="backward"&&u!==w)&&(g=new Date(e.getTime()+6e4))}catch{}const v=r/10,_=[];for(let w=0;w<v;w+=1){const E=new Date(g);E.setFullYear(E.getFullYear()+w*10),E.setSeconds(0,0);const T=Yte(t,n,w+1);_.push({at:E,gz:T})}return{natalMonthPillar:t,firstChange:g,mPillars:[],events:_}},Kte=(e,t)=>{const r=(t.getTime()-e.getTime())/(365.2425*24*60*60*1e3);return Math.max(0,Math.floor(r))},n4=(e,t,n,r,i)=>{const a=e4(r,n);let o=t;const c=[];for(const u of e.events){const f=u.gz.charAt(1);a(f)&&(o=Gy(o,n,1),c.push({at:u.at,gz:o,age:Kte(i,u.at)}))}return{events:c}},Wte=e=>{const t=Number(e.birthDay.slice(0,4)),n=Number(e.birthDay.slice(4,6)),r=Number(e.birthDay.slice(6,8));let i=12,a=0;return e.birthTime&&e.birthTime!==""&&/^\d{4}$/.test(e.birthTime)&&(i=Number(e.birthTime.slice(0,2)),a=Number(e.birthTime.slice(2,4))),new Date(t,n-1,r,i,a,0,0)},pv=e=>{const t=Wte(e),n=!e.birthPlace||typeof e.birthPlace=="object"&&e.birthPlace.name==="",r=Wm(t,e.birthPlace?.lon??null,n);return xE(r)},P2=(e,t)=>{const n=e.birthPlace?.lon??127.5,r=pv(e),i=gt(r,t),a=$a(r,t,i.charAt(0));return{year:at(r,n),month:kt(r,n),day:i,hour:a}},Vte=(()=>{const e=[];for(let t=0;t<60;t++)e.push(`${$r[t%10]}${si[t%12]}`);return e})(),Zte=e=>Vte.indexOf(e),Hw=e=>{if(Zte(e)<0)throw new Error(`Unknown : ${e}`);return{stem:e[0],branch:e[1]}};function Xte(e,t="/"){const n=S.useMemo(()=>Zm(e),[e]),r=S.useMemo(()=>pv(n),[n]),i=S.useMemo(()=>P2(n,t),[n,t]);return S.useMemo(()=>{const a=Jm(r,i.month,n.dir,120,n?.birthPlace?.lon??127.5),o=new Date;function c(O,P){let C=null;const D=P.getTime();for(const $ of O)if($.at.getTime()<=D)C=$;else break;return C}const u=c(a.events,o)?.gz??i.month,f=Hw(u),m=o.getFullYear(),p=Un(m,315),v=p&&o>=p?m:m-1,_=at(new Date(v,1,10,0,0,0),127.5),w=Hw(_),E=kt(o,127.5),T=Hw(E),N=[];return T&&N.push({key:"wolun",label:"",data:T}),w&&N.push({key:"seun",label:"",data:w}),f&&N.push({key:"daeun",label:"",data:f}),N},[r,n.dir,i.month,n.birthPlace?.lon])}function ou(e,t="/",n=100){const r=S.useMemo(()=>Zm(e),[e]),i=S.useMemo(()=>pv(r),[r]),a=S.useMemo(()=>P2(r,t),[r,t]),o=(c,u)=>{const f=u.getFullYear()-c.getFullYear(),m=u.getMonth()-c.getMonth(),p=u.getDate()-c.getDate(),g=m<0||m===0&&p<0?f-1:f;return Math.max(0,g)};return S.useMemo(()=>Jm(i,a.month,r.dir,n,r.birthPlace?.lon??127.5).events.map(u=>({...u,age:o(i,u.at)})),[i,a.month,r.dir,n,r.birthPlace?.lon])}function Fw(e){return e instanceof Date&&!Number.isNaN(e.getTime())}function Jte(e,t){if(!Array.isArray(e)||e.length===0||!Fw(t))return{gz:"",at:t,index:-1};const n=e;for(let a=0;a<n.length;a++){const o=n[a],c=n[a+1];if(!Fw(o.at))continue;if(t.getTime()>=o.at.getTime()&&(!c||Fw(c.at)&&t.getTime()<c.at.getTime()))return{gz:o.gz??"",at:o.at,index:a}}if(t.getTime()<n[0].at.getTime()){const a=n[0];return{gz:a.gz??"",at:a.at,index:0}}const r=n.length-1,i=n[r];return{gz:i.gz??"",at:i.at,index:r}}function D2(e,t,n){const{date:r,rule:i,lon:a}=ci(),o=S.useMemo(()=>n??r??new Date,[n,r]),c=ou(e,e?.mingSikType),{gz:u}=Jte(c,o);return S.useMemo(()=>{try{const f=a??e?.birthPlace?.lon??127.5,m=i??e?.mingSikType??t??"/";return{dae:{gz:u,at:o},se:{gz:at(o,f),at:o},wol:{gz:kt(o,f),at:o},il:{gz:gt(o,m),at:o}}}catch{const f=new Date;return{dae:{gz:"",at:f},se:{gz:"",at:f},wol:{gz:"",at:f},il:{gz:"",at:f}}}},[o,i,a,e,t,u])}const cn=["","","",""],ri={year:0,month:1,day:2,hour:3},LM=["","","",""],Ad="",Qm=[{name:"",members:["","",""],out:"",wang:""},{name:"",members:["","",""],out:"",wang:""},{name:"",members:["","",""],out:"",wang:""},{name:"",members:["","",""],out:"",wang:""}],r4=[{name:"",members:["","",""],out:"",wang:""},{name:"",members:["","",""],out:"",wang:""},{name:"",members:["","",""],out:"",wang:""},{name:"",members:["","",""],out:"",wang:""}],IM=[{name:"",members:["","",""]},{name:"",members:["","",""]}],Qte={:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},_E={:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""};function De(e){if(!e)return"";const t=e.replace(/[()[\]{}]/g,"").replace(/\s+/g,"").replace(/[\-_.]/g,""),n=t.match(/([]).*?([])/);if(n)return`${n[1]}${n[2]}`;const r=t.match(/([]).*?([])/);if(r){const i=Qte[r[1]]??r[1],a=_E[r[2]]??r[2];return`${i}${a}`}return""}const qy=e=>e&&e.length>=1?e[0]:"",Oi=e=>e&&e.length>=2?e[1]:"",R2=[{pair:["",""],label:""},{pair:["",""],label:""},{pair:["",""],label:""},{pair:["",""],label:""},{pair:["",""],label:""}],L2=[{pair:["",""],label:""},{pair:["",""],label:""},{pair:["",""],label:""},{pair:["",""],label:""}],I2=[{pair:["",""],label:""},{pair:["",""],label:""},{pair:["",""],label:""},{pair:["",""],label:""},{pair:["",""],label:""},{pair:["",""],label:""}],$2=[{pair:["",""],label:""},{pair:["",""],label:""},{pair:["",""],label:""},{pair:["",""],label:""},{pair:["",""],label:""},{pair:["",""],label:""}],B2=[{pair:["",""],label:""},{pair:["",""],label:""},{pair:["",""],label:""},{pair:["",""],label:""},{pair:["",""],label:""},{pair:["",""],label:""}],z2=[{pair:["",""],label:""},{pair:["",""],label:""},{pair:["",""],label:""},{pair:["",""],label:""},{pair:["",""],label:""},{pair:["",""],label:""}],U2=[{pair:["",""],label:""},{pair:["",""],label:""},{pair:["",""],label:""},{pair:["",""],label:""},{pair:["",""],label:""},{pair:["",""],label:""}],H2=[{pair:["",""],label:""},{pair:["",""],label:""},{pair:["",""],label:""},{pair:["",""],label:""},{pair:["",""],label:""},{pair:["",""],label:""}],F2=[{pair:["",""],label:""},{pair:["",""],label:""},{pair:["",""],label:""},{pair:["",""],label:""},{pair:["",""],label:""},{pair:["",""],label:""}],G2=[{pair:["",""],label:""}],q2=new Set(["","","",""]),Yy=new Set(["","","",""]),Y2=[{pair:["",""],label:""},{pair:["",""],label:""},{pair:["",""],label:""},{pair:["",""],label:""},{pair:["",""],label:""}],i4=[{pair:["",""],label:""},{pair:["",""],label:""},{pair:["",""],label:""},{pair:["",""],label:""},{pair:["",""],label:""},{pair:["",""],label:""},{pair:["",""],label:""},{pair:["",""],label:""},{pair:["",""],label:""},{pair:["",""],label:""},{pair:["",""],label:""},{pair:["",""],label:""}];function ti(e,t,n){for(const{pair:[r,i],label:a}of e)if(t===r&&n===i||t===i&&n===r)return a;return null}function Kt(e,t){e.includes(t)||e.push(t)}const ene=e=>[...e].sort((t,n)=>t-n).map(t=>cn[t]).join("X"),$M=(e,t)=>e===0&&t===3||e===3&&t===0;function tne(e,t){const n=[];for(const r of e)for(const i of t){if(r===i)continue;const a=Math.min(r,i),o=Math.max(r,i);n.push([a,o])}return n.sort((r,i)=>{const a=Math.abs(r[0]-r[1]),o=Math.abs(i[0]-i[1]);return a!==o?a-o:0})}function nne(e){const t=[],n=[...e].sort((r,i)=>r-i);for(let r=0;r<n.length;r++)for(let i=r+1;i<n.length;i++){const a=n[r],o=n[i];t.push([a,o])}return t}const a4=e=>{switch(e){case"":return"";case"":return"";case"":return"";case"":return""}};function rne(e){if(!e)return!1;const t=e.normalize("NFC").trim();return/^#\s*$/u.test(t)}const ine=["cheonganHap","cheonganChung","jijiSamhap","jijiBanhap","jijiBanghap","jijiYukhap","jijiChung","jijiHyeong","jijiPa","jijiHae","jijiWonjin","jijiGwimun","amhap","ganjiAmhap"];function ane(e){if(!e||e.length===0)return e;const t=Array.from(new Set(e.map(i=>i?.normalize("NFKC")??""))).filter(Boolean),n=t.some(i=>i.includes("")||i.includes("()")),r=t.some(i=>i.includes("")||i.includes("()"));return t.filter(i=>!(n&&(i.includes("")||i.includes("")||i.includes(""))||r&&(i.includes("")||i.includes("")||i.includes(""))))}function o4(e){for(const t of ine){const r=(e[t]??[]).map(i=>i&&i.normalize("NFKC")).filter(i=>!!i&&!rne(i));e[t]=Array.from(new Set(r))}return e.jijiHyeong=ane(e.jijiHyeong),e}function one(e,t){for(let n=0;n<e.length;n++)if((e[n]??"").includes(t))return n;return-1}function sne(e,t){for(const n of Qm)if(!(n.wang!==e&&n.wang!==t)&&n.members.includes(e)&&n.members.includes(t))return!0;return!1}function BM(e,t,n){const r=one(e,n);if(r<0){Kt(e,t);return}const a=(e[r]??"").includes(Ad),o=t.includes(Ad);a&&!o&&(e[r]=t)}function K2(e,t={}){const{emitGanjiAmhap:n=!0,fillNone:r=!0}=t,i=[De(e[0]??""),De(e[1]??""),De(e[2]??""),De(e[3]??"")],a={title:"",cheonganHap:[],cheonganChung:[],jijiSamhap:[],jijiBanhap:[],jijiBanghap:[],jijiYukhap:[],jijiChung:[],jijiHyeong:[],jijiPa:[],jijiHae:[],jijiWonjin:[],jijiGwimun:[],amhap:[],ganjiAmhap:[]},o=i.map(g=>qy(g)),c=i.map(g=>Oi(g));function u(g,v){if(g===v)return;const _=o[g],w=o[v];if(!_||!w)return;const E=ti(R2,_,w);E&&Kt(a.cheonganHap,`#${cn[g]}X${cn[v]}_${E}`);const T=ti(L2,_,w);T&&Kt(a.cheonganChung,`#${cn[g]}X${cn[v]}_${T}`)}u(ri.year,ri.month),u(ri.month,ri.day),u(ri.day,ri.hour);function f(g,v,_,w,E=!0){const T=[],N=[];for(let P=0;P<4;P++)c[P]===g&&T.push(P),c[P]===v&&N.push(P);const O=tne(T,N);for(const[P,C]of O){const D=$M(P,C),$=`#${cn[P]}X${cn[C]}_${_}${D?Ad:""}`;if(D){Kt(w,$);continue}E?BM(w,$,_):Kt(w,$)}}const m=(g,v)=>{for(const{pair:[_,w],label:E}of g)f(_,w,E,v)};m(I2,a.jijiYukhap),m($2,a.jijiChung),m(B2,a.jijiPa),m(z2,a.jijiHae),m(U2,a.jijiWonjin),m(H2,a.jijiGwimun);for(const g of Qm){if(!g.members.every(T=>c.includes(T)))continue;const _=[];for(let T=0;T<4;T++)g.members.includes(c[T])&&_.push(T);const w=_.includes(ri.year)&&_.includes(ri.hour),E=ene(_);Kt(a.jijiSamhap,`#${E}_${g.name}${w?Ad:""}`)}for(const{pair:[g,v],label:_}of i4)sne(g,v)&&f(g,v,_,a.jijiBanhap,!1);for(const{pair:[g,v],label:_}of F2)f(g,v,_,a.jijiHyeong);for(const{pair:[g,v],label:_}of G2)f(g,v,_,a.jijiHyeong);for(const g of q2){const v=c.map((_,w)=>_===g?w:-1).filter(_=>_>=0);if(!(v.length<2))for(const[_,w]of nne(v)){const E=$M(_,w),T=`#${cn[_]}X${cn[w]}_${g}${E?Ad:""}`;BM(a.jijiHyeong,T,`${g}`)}}for(const{pair:[g,v],label:_}of Y2)f(g,v,_,a.amhap);if(n)for(let g=0;g<4;g++){const v=i[g]??"";if(v.length<2)continue;const _=`${v[0]}${v[1]}`;Yy.has(_)&&Kt(a.ganjiAmhap,`#${a4(cn[g])}_${_}`)}const p=o4(a);if(r)for(const g of Object.keys(p)){if(g==="title")continue;const v=p[g];Array.isArray(v)&&v.length===0&&(p[g]=["#"])}return p}function lne(e,t){return e===ri.year&&t===ri.hour||e===ri.hour&&t===ri.year}function cne(e,t){for(const n of Qm)if(!(n.wang!==e&&n.wang!==t)&&n.members.includes(e)&&n.members.includes(t))return!0;return!1}function une(e,t){const n=[],r=new Set;for(const i of e)for(const a of t){if(i===a)continue;const o=Math.min(i,a),c=Math.max(i,a),u=`${o}-${c}`;r.has(u)||(r.add(u),n.push([o,c]))}return n}function xl(e,t={}){const{emitNatalGanjiAmhap:n=!1}=t,r=[De(e.natal[0]??""),De(e.natal[1]??""),De(e.natal[2]??""),De(e.natal[3]??"")],a=[De(e.daewoon??""),De(e.sewoon??""),De(e.wolwoon??"")].some(p=>p.length>=2),o={cheonganHap:[],cheonganChung:[],jijiSamhap:[],jijiBanhap:[],jijiBanghap:[],jijiYukhap:[],jijiChung:[],jijiHyeong:[],jijiPa:[],jijiHae:[],jijiWonjin:[],jijiGwimun:[],amhap:[],ganjiAmhap:[]},c=r.map(p=>{const g=Oi(p??"");return _E[g]??g});for(const{pair:[p,g],label:v}of i4){if(!cne(p,g))continue;const _=[],w=[];for(let T=0;T<4;T++)c[T]===p&&_.push(T),c[T]===g&&w.push(T);const E=une(_,w);for(const[T,N]of E){const O=lne(T,N),P=`#${cn[T]}X${cn[N]}_${v}${O?Ad:""}`;Kt(o.jijiBanhap,P)}}if(n&&a)for(let p=0;p<4;p++){const g=r[p]??"";if(g.length<2)continue;const v=`${g[0]}${g[1]}`;Yy.has(v)&&Kt(o.ganjiAmhap,`#${a4(cn[p])}_${v}`)}const u=[["",e.daewoon],["",e.sewoon],["",e.wolwoon],["",e.ilwoon]];let f=!1,m=!1;for(const[p,g]of u){if(!g)continue;const v=De(g);if(!v||v.length<2)continue;const _=qy(v),w=Oi(v);{const T=`${_}${w}`;Yy.has(T)&&Kt(o.ganjiAmhap,`#${p}_${T}`)}for(let T=0;T<4;T++){const N=r[T]??"";if(N.length<2)continue;const O=cn[T],P=qy(N),C=Oi(N),D=ti(R2,_,P);D&&Kt(o.cheonganHap,`#${p}X${O}_${D}`);const $=ti(L2,_,P);$&&Kt(o.cheonganChung,`#${p}X${O}_${$}`);const H=ti(I2,w,C);H&&Kt(o.jijiYukhap,`#${p}X${O}_${H}`);const Y=ti($2,w,C);Y&&Kt(o.jijiChung,`#${p}X${O}_${Y}`);const K=ti(B2,w,C);K&&Kt(o.jijiPa,`#${p}X${O}_${K}`);const F=ti(z2,w,C);F&&Kt(o.jijiHae,`#${p}X${O}_${F}`);const z=ti(U2,w,C);z&&Kt(o.jijiWonjin,`#${p}X${O}_${z}`);const X=ti(H2,w,C);X&&Kt(o.jijiGwimun,`#${p}X${O}_${X}`);const Q=ti(F2,w,C);if(Q)Kt(o.jijiHyeong,`#${p}X${O}_${Q}`);else{const q=ti(G2,w,C);q?Kt(o.jijiHyeong,`#${p}X${O}_${q}`):w===C&&q2.has(w)&&Kt(o.jijiHyeong,`#${p}X${O}_${w}${C}`)}const J=ti(Y2,w,C);J&&Kt(o.amhap,`#${p}X${O}_${J}`)}for(const T of Qm){if(!T.members.includes(w))continue;const N=T.members.filter(P=>P!==w),O=c.map((P,C)=>({b:P,pos:cn[C]})).filter(P=>P.b&&N.includes(P.b));if(new Set(O.map(P=>P.b)).size===2){const[P,C]=O.map(D=>D.pos).sort((D,$)=>cn.indexOf(D)-cn.indexOf($));Kt(o.jijiSamhap,`#${p}X${P}X${C}_(${T.name})`)}}for(const T of IM){if(!T.members.includes(w))continue;const N=T.members.filter(P=>P!==w),O=c.map((P,C)=>({b:P,pos:cn[C]})).filter(P=>P.b&&N.includes(P.b));if(new Set(O.map(P=>P.b)).size===2){const[P,C]=O.map(D=>D.pos).sort((D,$)=>cn.indexOf(D)-cn.indexOf($));Kt(o.jijiHyeong,`#${p}X${P}X${C}_${T.name}`),T.name===""&&(f=!0),T.name===""&&(m=!0)}}const E=[...r.map((T,N)=>({b:_E[Oi(T)]??Oi(T),pos:cn[N]}))];for(const T of r4){const N=E.filter(O=>T.members.includes(O.b));if(new Set(N.map(O=>O.b)).size===3){const O=N.map(P=>P.pos).join("X");Kt(o.jijiBanghap,`#${O}_(${T.name})`)}}}{const p=[],g=[["",e.daewoon],["",e.sewoon],["",e.wolwoon],["",e.ilwoon]];for(const[v,_]of g){const w=De(_??"");w.length>=2&&p.push({kind:v,b:Oi(w)})}if(p.length>=2){const v=r.map((_,w)=>({pos:cn[w],b:Oi(_)}));for(const _ of IM)for(let w=0;w<p.length;w++)for(let E=w+1;E<p.length;E++){const T=p[w],N=p[E];for(const O of v){const P=new Set([O.b,T.b,N.b]);if(P.size===3&&_.members.every(C=>P.has(C))){const C=[T.kind,N.kind].sort(($,H)=>LM.indexOf($)-LM.indexOf(H)).join("X"),D=`${O.pos}X${C}`;Kt(o.jijiHyeong,`#${D}_${_.name}`),_.name===""&&(f=!0),_.name===""&&(m=!0)}}}}}return(f||m)&&(o.jijiHyeong=o.jijiHyeong.filter(p=>!(f&&/(||)/.test(p)||m&&/(||)/.test(p)))),o4(dne(o))}function dne(e){const t=/(|||)X(|||)/,n={...e};for(const r of Object.keys(e)){if(r==="title")continue;const i=e[r];Array.isArray(i)&&(n[r]=i.filter(a=>!t.test(a??"")))}return n}const fne={:"",:"",:"",:"",:""},zM={:"",:"",:"",:"",:""},hne={:"",:"",:"",:"",:""},mne={:"",:"",:"",:"",:""},pne={:.15,:.1,:-.15,:-.2,:-.25};function gne(e,t){const n=Array.from(new Set(t)).sort((r,i)=>r-i);if(n.length<3)return!1;for(let r=0;r<n.length;r++){const i=n[r],a=n[r+1],o=n[r+2];if(!(a==null||o==null)&&o-i<=2&&(e===i||e===a||e===o))return!0}return!1}function yne(e){const t=e.includes(ri.month),n=gne(ri.month,e)||e.length>=3;return t&&n?"":t||e.length>=2?"":""}function bne(e,t,n,r){const i=r===""?2:r===""?1:.5;e[t]=(e[t]??0)-i,e[n]=(e[n]??0)+i}function vne(e,t,n={}){const{includeBanghap:r=!0,includeSamhap:i=!0}=n,a=[De(e[0]??""),De(e[1]??""),De(e[2]??""),De(e[3]??"")],o=a.map(m=>Oi(m)).filter(Boolean),c=[],u={...t},f=(m,p)=>{const g=[];for(let T=0;T<a.length;T++){const N=Oi(a[T]??"");p.members.includes(N)&&g.push(T)}if(!p.members.every(T=>o.includes(T)))return;const _=yne(g),w=p.out,E=zM[w];bne(u,E,w,_),c.push({type:m,name:p.name,out:p.out,strength:_})};if(i)for(const m of Qm)f("",m);if(r)for(const m of r4)f("",m);return{applied:c,score:u,strengthAdj:pne,shengNext:fne,shengPrev:zM,ke:hne,keInv:mne}}function Ky(e){return cn[e]}function UM(e){const t=new Map,n=new Map;for(let r=0;r<4;r++){const i=De(e[r]??""),a=qy(i),o=Oi(i);a&&t.set(a,[...t.get(a)??[],r]),o&&n.set(o,[...n.get(o)??[],r])}return{stemPos:t,branchPos:n}}function Oh(e,t,n){const r=[];for(const i of t)for(const a of n)r.push(`#${Ky(i)}X${Ky(a)}_${e}`);return r}function xne(e,t){const n=UM(e),r=UM(t),i={:[],:[],:[],:[],:[],:[],:[],:[],:[],:[],:[],:[],:[],:[]},a=(c,u)=>{c.includes(u)||c.push(u)};for(const{pair:[c,u],label:f}of R2){const m=[...n.stemPos.get(c)??[],...n.stemPos.get(u)??[]],p=[...r.stemPos.get(c)??[],...r.stemPos.get(u)??[]];if(m.length&&p.length)for(const g of Oh(f,m,p))a(i.,g)}for(const{pair:[c,u],label:f}of L2){const m=[...n.stemPos.get(c)??[],...n.stemPos.get(u)??[]],p=[...r.stemPos.get(c)??[],...r.stemPos.get(u)??[]];if(m.length&&p.length)for(const g of Oh(f,m,p))a(i.,g)}const o=(c,u)=>{const f=Array.from(n.branchPos.keys()),m=Array.from(r.branchPos.keys());for(const p of f)for(const g of m){const v=ti(u,p,g);if(!v)continue;const _=n.branchPos.get(p)??[],w=r.branchPos.get(g)??[];for(const E of Oh(v,_,w))a(i[c],E)}};o("",I2),o("",$2),o("",B2),o("",z2),o("",U2),o("",H2),o("",F2),o("",G2);for(const c of q2){const u=n.branchPos.get(c)??[],f=r.branchPos.get(c)??[];if(!(!u.length||!f.length))for(const m of Oh(`${c}`,u,f))a(i.,m)}for(const{label:c,pair:[u,f]}of Y2){const m=[...n.branchPos.get(u)??[],...n.branchPos.get(f)??[]],p=[...r.branchPos.get(u)??[],...r.branchPos.get(f)??[]];if(!(!m.length||!p.length))for(const g of Oh(c,m,p))a(i.,g)}{const c=Array.from(n.stemPos.keys()),u=Array.from(r.stemPos.keys());for(const f of c)for(const m of u){const p=n.stemPos.get(f)??[],g=r.stemPos.get(m)??[];for(const v of p){const _=Oi(De(e[v]??"")),w=`${f}${_}`;if(Yy.has(w))for(const E of g){const T=Oi(De(t[E]??""));`${m}${T}`===w&&a(i.,`#${Ky(v)}X${Ky(E)}_${w}`)}}}}return i}const s4=new Set(Object.keys(Rn)),l4=new Set(Object.keys(Gn)),_ne=e=>e.slice(0,1),wne=e=>e.slice(-1);function is(e){return Cd.has(e)?e:s4.has(e)?Rn[e]??e:e}function vr(e){return sm.has(e)?e:l4.has(e)?Gn[e]??e:e}function fo(e){return is(_ne(e))}function Ft(e){return vr(wne(e))}function Sne(e){if(!e)return null;const t=Array.from(String(e));let n=null,r=null;for(const i of t)!n&&(Cd.has(i)||s4.has(i))&&(n=is(i)),(sm.has(i)||l4.has(i))&&(r=vr(i));return n&&r?{stem:n,branch:r}:null}function Ene(e){return e.map(Ft)}function f0(e,t,n="classic"){const r=fo(t),i=Ft(t),a=(n==="hgc"?nv:tv)[i]??[];return[r,...a].includes(e)}const wE=[["",""],["",""],["",""],["",""],["",""],["",""]],SE=[["",""],["",""],["",""],["",""],["",""],["",""]],kne=new Set(["","","",""]),c4=[["",""],["",""]],Ane=[{set:new Set(["","","","","","","","","",""]),voids:["",""]},{set:new Set(["","","","","","","","","",""]),voids:["",""]},{set:new Set(["","","","","","","","","",""]),voids:["",""]},{set:new Set(["","","","","","","","","",""]),voids:["",""]},{set:new Set(["","","","","","","","","",""]),voids:["",""]},{set:new Set(["","","","","","","","","",""]),voids:["",""]}];function tm(e,t,n){const r=vr(t),i=vr(n);for(const[a,o]of e)if(a===r&&o===i||a===i&&o===r)return!0;return!1}function HM(e,t,n){const r=vr(t),i=vr(n);for(const[a,o]of e)if(a===r&&o===i||a===i&&o===r)return`${a}${o}`;return`${r}${i}`}function Wy(e){for(const t of Ane)if(t.set.has(e))return t.voids;return null}function EE(e){const t=vr(e),n=[{group:new Set(["","",""]),years:new Set(["","",""])},{group:new Set(["","",""]),years:new Set(["","",""])},{group:new Set(["","",""]),years:new Set(["","",""])},{group:new Set(["","",""]),years:new Set(["","",""])}];for(const r of n)if(r.group.has(t))return Array.from(r.years);return null}const zn={2:4,1:3,3:2,0:1},yd={1:4,2:3,0:2,3:1},Se={year:0,month:1,day:2,hour:3};function Tne(e){return e===3?"si":e===2?"il":e===1?"wol":"yeon"}const Zc=e=>e===0?"":e===1?"":e===2?"":"",af=e=>e==="dae"?"":e==="se"?"":e==="wol"?"":"",One=(e,t)=>`#X${Zc(t)}_${e}`,Td=(e,t,n)=>t===Se.month&&n===Se.day?`#X_${e}`:t===Se.year&&n===Se.month?`#X_${e}`:t===Se.year&&n===Se.day?`#X_${e}`:t===Se.month&&n===Se.hour?`#X_${e}`:t===Se.day&&n===Se.hour?`#X_${e}`:`#${Zc(t)}X${Zc(n)}_${e}`,h0=(e,t)=>`#${Zc(t)}_${e}`,u4=(e,t)=>`#X${Zc(t)}_${e}`,jne=(e,t)=>`#(${e==="day"?"":""})X${Zc(t)}_`,nd=e=>`#_${e}`,rd=(e,t)=>`#X${af(t)}_${e}`,jh=(e,t)=>`#X${af(t)}_${e}`,Gw=(e,t,n)=>`#${Zc(n)}X${af(t)}_${e}`,Nne=(e,t)=>`#(${t==="day"?"":""})_${af(e)}_`,Cne=(e,t)=>`#(${t==="day"?"":""})X${af(e)}_`,FM=(e,t)=>`#X${af(e)}_${t}`;function kE(e,t){const n=vr(e),r=[Se.day,Se.month,Se.hour,Se.year];for(const i of r)if(Ft(t[i])===n)return{pos:i,weight:zn[i]??0};return null}function W2(e,t,n){return Ft(t[n])===vr(e)?{pos:n,weight:zn[n]}:null}function Mne(e,t){const n=is(e),r=[Se.day,Se.month,Se.hour,Se.year];for(const i of r)if(fo(t[i])===n)return{pos:i,weight:zn[i]??0};return null}const Pne=e=>(Array.isArray(e)?e:String(e).split("")).map(t=>vr(t.trim())).filter(Boolean),sn=e=>Object.fromEntries(Object.entries(e).map(([t,n])=>[is(t),Pne(n)])),Dne=sn({:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),d4=sn({:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),Rne=sn({:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),Lne=sn({:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),Ine=sn({:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),$ne=sn({:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),Bne=sn({:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),f4=sn({:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),zne=sn({:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),Une=sn({:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),Hne=sn({:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),Fne=sn({:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),Gne=sn({:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),h4=sn({:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),qne=sn({:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),Yne=sn({:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),GM=sn({:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),Kne=sn({:"",:"",:"",:""}),Wne=sn({:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),qM=sn({:"",:"",:""}),YM=sn({:"",:"",:""}),Vne=sn({:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),m4=sn({:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),p4=sn({:"",:"",:"",:"",:"",:"",:""}),Zne=e=>(Array.isArray(e)?e:String(e).split("")).map(t=>vr(t.trim())).filter(Boolean),pa=e=>Object.fromEntries(Object.entries(e).map(([t,n])=>[vr(t),(Array.isArray(n)?n:[n]).map(r=>vr(r))])),gv=e=>Object.fromEntries(Object.entries(e).map(([t,n])=>[vr(t),Zne(n)])),g4={:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},y4={:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},b4={:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},v4={:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},Xne=pa({:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),KM=pa({:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),Jne=gv({:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),Qne=gv({:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),ere=gv({:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),tre=gv({:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),nre=pa({:["",""],:["",""],:["",""],:["",""],:["",""],:["",""],:["",""],:["",""],:["",""],:["",""],:["",""],:["",""]}),rre=pa({:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),ire=pa({:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),are=pa({:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),ore=pa({:["",""],:["",""],:["",""],:["",""],:["",""],:["",""],:["",""],:["",""],:["",""],:["",""],:["",""],:["",""]}),x4=pa({:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),sre=pa({:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),lre=pa({:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),cre=pa({:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),ure=pa({:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),hn=e=>Object.fromEntries(Object.entries(e).map(([t,n])=>[vr(t),(Array.isArray(n)?n:[n]).map(r=>vr(r))])),dre=hn({:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),_4=hn({:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),fre=hn({:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),hre=hn({:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),mre=hn({:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),w4=hn({:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),pre=hn({:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),gre=hn({:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),yre=hn({:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),bre=hn({:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),vre=hn({:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),S4=hn({:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),xre=hn({:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),_re=hn({:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),wre=hn({:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),Sre=hn({:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),Ere=hn({:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),kre=hn({:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),E4=hn({:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),Are=S4,Tre=_4,Ore=E4,jre=hn({:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),Nre=w4,Cre=hn({:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),Mre=hn({:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),Pre=hn({:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""});function ep(e,t){e.push(t)}function qw(e,t,n,r,i=0){const a=yd[n]>=yd[r]?n:r;e.push({name:Td(t,n,r),weight:zn[a]+i,pos:a})}function Dre(e,t,n,r,i){const a=Ft(e[Se.year]),o=t[a];if(!o)return;const c=n==="MONTH"?[Se.month]:n==="DAY"?[Se.day]:n==="HOUR"?[Se.hour]:[Se.year,Se.month,Se.day,Se.hour];for(const u of o)for(const f of c){const m=W2(u,e,f);m&&ep(i,{name:Td(r,Se.year,f),weight:m.weight,pos:f})}}function Rre(e,t,n,r){const i=Ft(e[Se.month]),a=t[i];if(!a)return;const o=is(a),c=Mne(o,e);c&&ep(r,{name:u4(n,c.pos),weight:c.weight,pos:c.pos})}function WM(e,t,n,r,i="ALL"){const a=Ft(e[Se.month]),o=t[a];if(!o)return;const c=i==="YEAR"?[Se.year]:i==="DAY"?[Se.day]:i==="HOUR"?[Se.hour]:i==="DAY_HOUR"?[Se.day,Se.hour]:[Se.year,Se.month,Se.day,Se.hour];for(const u of o)for(const f of c){const m=W2(u,e,f);if(!m)continue;const p=f===Se.month?`#_${n}`:u4(n,f);ep(r,{name:p,weight:m.weight,pos:f})}}function VM(e,t,n,r){const i=Ft(e[Se.month]),a=t[i];if(!a)return;const o=e[Se.day];a.includes(o)&&ep(r,{name:Td(n,Se.month,Se.day),weight:zn[Se.day],pos:Se.day})}function ZM(e,t,n,r,i){const a=fo(e[Se.day]),o=t[a];if(!o)return;const c=i==="DAY"?[Se.day]:i==="HOUR"?[Se.hour]:[Se.year,Se.month,Se.day,Se.hour];for(const u of o)for(const f of c){const m=W2(u,e,f);m&&ep(r,{name:One(n,f),weight:m.weight,pos:f})}}function Lre({natal:e,daewoon:t,basis:n}){const r=fo(e[Se.day]),i=Ft(e[Se.day]),a=Ft(e[Se.month]),o=Ft(e[Se.year]),c=Ene(e),u=[],f=[],m=[[dre,"MONTH",""],[_4,"DAY",""],[hre,"MONTH",""],[mre,"MONTH",""],[pre,"ALL",""],[gre,"HOUR",""],[yre,"ALL",""],[bre,"ALL",""],[vre,"ALL",""],[S4,"ALL",""],[xre,"ALL",""],[_re,"ALL",""],[wre,"ALL",""],[Sre,"ALL",""],[Ere,"ALL",""],[kre,"ALL",""],[E4,"ALL",""],[Are,"ALL",""],[Tre,"ALL",""],[Ore,"ALL",""],[jre,"ALL",""],[Nre,"ALL",""],[Cre,"ALL",""],[Mre,"ALL",""],[Pre,"ALL",""]];for(const[P,C,D]of m)Dre(e,P,C,D,f);const p=[[g4,""],[y4,""],[b4,""],[v4,""]];for(const[P,C]of p)Rre(e,P,C,u);const g=[[Xne,"","ALL"],[KM,"","YEAR"],[KM,"","DAY"],[nre,"","ALL"],[rre,"","ALL"],[ire,"","ALL"],[are,"","ALL"],[ore,"","ALL"]];for(const[P,C,D]of g)WM(e,P,C,f,D);const v=[[x4,"","ALL"],[sre,"","DAY_HOUR"],[lre,"","DAY_HOUR"],[cre,"","ALL"],[ure,"","ALL"]];for(const[P,C,D]of v)WM(e,P,C,u,D);const _=[[Jne,""],[tre,""]];for(const[P,C]of _)VM(e,P,C,u);const w=[[Qne,""],[ere,""]];for(const[P,C]of w)VM(e,P,C,f);const E=[[Dne,"","ALL"],[d4,"","ALL"],[Rne,"","ALL"],[Lne,"","ALL"],[Ine,"","ALL"],[$ne,"","ALL"],[Bne,"","ALL"],[f4,"","ALL"],[zne,"","ALL"],[Une,"","ALL"],[Hne,"","ALL"],[Fne,"","ALL"],[Gne,"","ALL"],[Vne,"","ALL"]];for(const[P,C,D]of E)ZM(e,P,C,u,D);const T=[[h4,"","ALL"],[qne,"","ALL"],[Yne,"","ALL"],[GM,"","DAY"],[GM,"","HOUR"],[qM,"","DAY"],[qM,"","HOUR"],[YM,"","DAY"],[YM,"","HOUR"],[Kne,"","DAY"],[Wne,"","ALL"],[m4,"","ALL"]];for(const[P,C,D]of T)ZM(e,P,C,f,D);if(new Set(["","","",""]).has(e[Se.day])){f.push({name:nd(""),weight:zn[Se.day],pos:Se.day});for(const C of[Se.year,Se.month,Se.hour])e[C]===e[Se.day]&&f.push({name:h0("",C),weight:zn[C],pos:C})}{const P=p4[r];if(P)for(const C of[Se.year,Se.month,Se.day,Se.hour]){const D=fo(e[C]),$=Ft(e[C]);D===r&&P.includes($)&&f.push({name:h0("",C),weight:zn[C],pos:C})}}for(const[P,C]of c4){const D=kE(P,e),$=kE(C,e);D&&$&&qw(f,"",D.pos,$.pos)}{const P=new Set(["",""]),C=new Set(["","","",""]);for(let D=0;D<=3;D++){const $=fo(e[D]),H=Ft(e[D]);(P.has($)||C.has(H))&&f.push({name:h0("",D),weight:zn[D],pos:D})}}{const P=e[Se.hour],C=($,H)=>$.includes(r)&&H.includes(P);(C(["",""],["",""])||C(["",""],["",""])||C(["",""],["",""])||C(["",""],["",""])||C(["",""],["",""]))&&f.push({name:nd(""),weight:zn[Se.hour],pos:Se.hour})}["","","",""].every(P=>c.includes(P))&&u.push({name:nd(""),weight:zn[Se.day],pos:Se.day});{const P=e[Se.day],C=e[Se.hour];(P===""&&C===""||P===""&&C==="")&&f.push({name:Td("",Se.day,Se.hour),weight:zn[Se.hour],pos:Se.hour})}{const P=Ft(e[Se.year]),C=new Set(c.slice(1)),D=(H,Y)=>H.every(K=>C.has(K))&&P===Y;(D(["","",""],"")||D(["","",""],"")||D(["","",""],"")||D(["","",""],""))&&u.push({name:nd(""),weight:zn[Se.day],pos:Se.day})}(e[Se.day]===""||e[Se.day]==="")&&u.push({name:nd(""),weight:zn[Se.day],pos:Se.day});{const C={:{rok:"",maStem:""},:{rok:"",maStem:""},:{rok:"",maStem:""},:{rok:"",maStem:""},:{rok:"",maStem:""},:{rok:"",maStem:""},:{rok:"",maStem:""},:{rok:"",maStem:""},:{rok:"",maStem:""},:{rok:"",maStem:""}}[r];C&&e.some($=>Ft($)===C.rok)&&fo(e[Se.hour])===C.maStem&&u.push({name:Td("",Se.day,Se.hour),weight:zn[Se.hour],pos:Se.hour})}{const P=Ft(e[Se.hour]),D={:{rok:"",ma:"",rokStem:"",maStem:""},:{rok:"",ma:"",rokStem:"",maStem:""},:{rok:"",ma:"",rokStem:"",maStem:""},:{rok:"",ma:"",rokStem:"",maStem:""},:{rok:"",ma:"",rokStem:"",maStem:""},:{rok:"",ma:"",rokStem:"",maStem:""},:{rok:"",ma:"",rokStem:"",maStem:""},:{rok:"",ma:"",rokStem:"",maStem:""},:{rok:"",ma:"",rokStem:"",maStem:""},:{rok:"",ma:"",rokStem:"",maStem:""}}[r];if(D){const $=i===D.rok,H=P===D.ma,Y=f0(D.rokStem,e[Se.day],"classic")||f0(D.rokStem,e[Se.hour],"classic"),K=f0(D.maStem,e[Se.day],"classic")||f0(D.maStem,e[Se.hour],"classic");$&&H&&(Y||K)&&u.push({name:Td("",Se.day,Se.hour),weight:zn[Se.hour],pos:Se.hour})}}{const P=new Set(["","","","","",""]),C=e.map(fo),D=e.map(Ft),$=C.concat(D).filter(F=>P.has(F)).length,H=t?fo(t):"",Y=t?Ft(t):"",K=P.has(H)||P.has(Y);($>=4||$===3&&K)&&f.push({name:nd(""),weight:zn[Se.day],pos:Se.day})}{const P=new Set(["",""]),C=new Set(["",""]);for(let D=0;D<=3;D++){const $=fo(e[D]),H=Ft(e[D]);(P.has($)||C.has(H))&&f.push({name:h0("",D),weight:zn[D],pos:D})}}{const P=[[Se.year,Se.month],[Se.year,Se.day],[Se.month,Se.day],[Se.month,Se.hour],[Se.day,Se.hour]];for(const[C,D]of P){const $=Ft(e[C]),H=Ft(e[D]);if(tm(wE,$,H)){const Y=HM(wE,$,H);qw(f,`${Y}`,C,D)}}}{const P=[[Se.year,Se.month,0],[Se.month,Se.day,1],[Se.month,Se.hour,0],[Se.day,Se.hour,0]];for(const[C,D,$]of P){const H=Ft(e[C]),Y=Ft(e[D]);if(tm(SE,H,Y)){const K=HM(SE,H,Y),F=($?1:0)+(kne.has(H+Y)?1:0);qw(f,`${K}`,C,D,F)}}}const N=Wy(e[Se.day]),O=Wy(e[Se.year]);{const P=(n?.voidBasis??"day")==="day"?N:O;if(P){const[C,D]=P.map(vr);for(const $ of[Se.year,Se.month,Se.day,Se.hour]){const H=Ft(e[$]);(H===C||H===D)&&f.push({name:jne(n?.voidBasis??"day",$),weight:zn[$],pos:$})}}}return{goodPos:u,badPos:f,dayVoid:N,yearVoid:O,dStem:r,dBranch:i,mBranch:a,yBranch:o,branches:c}}function m0({src:e,luck:t,natal:n,dStem:r,dBranch:i,mBranch:a,yBranch:o,branches:c,dayVoid:u,yearVoid:f,basis:m}){const p=[],g=[],v=(N,O)=>{N.includes(O)||N.push(O)},_=Sne(t??null);if(!_)return{good:p,bad:g};const w=_.branch,E=_.stem;is(g4[a]??"")===E&&v(p,jh("",e)),is(y4[a]??"")===E&&v(p,jh("",e)),is(b4[a]??"")===E&&v(p,jh("",e)),is(v4[a]??"")===E&&v(p,jh("",e)),x4[a]?.includes(w)&&v(p,jh("",e)),d4[r]?.includes(w)&&v(p,rd("",e)),f4[r]?.includes(w)&&v(p,rd("",e)),h4[r]?.includes(w)&&v(g,rd("",e)),m4[r]?.includes(w)&&v(g,rd("",e)),p4[r]?.includes(w)&&v(g,rd("",e)),e==="se"&&(fre[o]?.includes(w)&&v(g,FM(e,"")),w4[o]?.includes(w)&&v(g,FM(e,"")));for(const N of c)if(tm(c4,w,N)){const O=kE(N,n)?.pos;O!==void 0&&v(g,Gw("",e,O));break}new Set(["",""]).has(r)&&new Set(["","","",""]).has(w)&&v(g,rd("",e));const T=(m?.voidBasis??"day")==="day"?u:f;T&&(w===T[0]||w===T[1])&&v(g,Nne(e,m?.voidBasis??"day"));for(let N=0;N<=3;N++){const O=Ft(n[N]);tm(wE,w,O)&&v(g,Gw("",e,N)),tm(SE,w,O)&&v(g,Gw("",e,N))}if(e==="se"){const N=(m?.samjaeBasis??"day")==="day"?i:o,O=N?EE(N):null;O&&O.includes(w)&&v(g,Cne(e,m?.samjaeBasis??"day"))}return{good:p,bad:g}}const Ire=/^#(|||)X\1_/,$re=e=>Ire.test(e);function XM(e){const t=new Map;for(const n of e){if($re(n.name))continue;const r=`${n.name}@${n.pos}`,i=t.get(r);(!i||n.weight>i.weight)&&t.set(r,n)}return Array.from(t.values()).sort((n,r)=>r.weight!==n.weight?r.weight-n.weight:n.name.localeCompare(r.name,"ko"))}function Bre(e){const t=e.lastIndexOf("_");return t>=0?e.slice(t+1):e}const zre=new Set(["",""]);function Ure(e){return zre.has(e)?!0:e.endsWith("")||e.endsWith("")}function JM(e){const t=new Map;for(const r of e){const i=Bre(r.name);t.has(i)||t.set(i,[]),t.get(i).push(r)}const n=[];for(const[r,i]of t)if(Ure(r))n.push(...i);else{const a=i.sort((o,c)=>yd[o.pos]!==yd[c.pos]?yd[c.pos]-yd[o.pos]:c.weight-o.weight)[0];n.push(a)}return n}function QM(e,t){const n={si:[],il:[],yeon:[],wol:[]},r=Tne;for(const i of e)n[r(i.pos)].push(i.name);return n}function Id({natal:e,daewoon:t,sewoon:n,wolwoon:r,ilwoon:i,basis:a}){const{goodPos:o,badPos:c,dayVoid:u,yearVoid:f,dStem:m,dBranch:p,mBranch:g,yBranch:v,branches:_}=Lre({natal:e,daewoon:t,basis:a}),w=JM(XM(o)),E=JM(XM(c)),T=QM(w),N=QM(E),O=m0({src:"dae",luck:t??null,natal:e,dStem:m,dBranch:p,mBranch:g,yBranch:v,branches:_,dayVoid:u,yearVoid:f,basis:a}),P=m0({src:"se",luck:n??null,natal:e,dStem:m,dBranch:p,mBranch:g,yBranch:v,branches:_,dayVoid:u,yearVoid:f,basis:a}),C=m0({src:"wol",luck:r??null,natal:e,dStem:m,dBranch:p,mBranch:g,yBranch:v,branches:_,dayVoid:u,yearVoid:f,basis:a}),D=m0({src:"il",luck:i??null,natal:e,dStem:m,dBranch:p,mBranch:g,yBranch:v,branches:_,dayVoid:u,yearVoid:f,basis:a});return{good:{...T,dae:O.good,se:P.good,wolun:C.good,ilun:D.good},bad:{...N,dae:O.bad,se:P.bad,wolun:C.bad,ilun:D.bad},meta:{voidPair:{day:Wy(e[Se.day])??void 0,year:Wy(e[Se.year])??void 0},samjaeYears:{day:EE(Ft(e[Se.day]))??void 0,year:EE(Ft(e[Se.year]))??void 0},currentBasis:{voidBasis:a?.voidBasis??"day",samjaeBasis:a?.samjaeBasis??"day"}}}}function Hre(e){return typeof e=="object"&&e!==null}function of(e){const t=X5;return Hre(t)&&("Classic"in t||"Modern"in t||"classic"in t||"modern"in t)?e==="classic"?t.Classic:t.Modern:e}const eP=["","","","","","","","","",""],Fre=["","","","","","","","","","","",""],Gre=["","","","","","","","","","","",""];function qre(e){const t=rv(e);return t===""||t===""?0:t===""||t===""?2:t===""||t===""?4:t===""||t===""?6:8}function Yre(e,t){const n=qre(e);return(t?Gre:Fre).map((i,a)=>`${eP[(n+a)%10]??eP[0]}${i}`)}function nm(e){const t=n=>n.toString().padStart(2,"0");return`${e.getFullYear()} ${t(e.getMonth()+1)} ${t(e.getDate())} ${t(e.getHours())} ${t(e.getMinutes())}`}function tP(e){return e<10?`0${e}`:`${e}`}function k4(e){return`${tP(e.getHours())}:${tP(e.getMinutes())}`}function V2(e){return!e||e===""?!0:!/^\d{4}$/.test(e)}function nP(e,t){if(!e||!/^\d{8}$/.test(e))return"";const n=e.slice(0,4),r=e.slice(4,6),i=e.slice(6,8),a=`${n}-${r}-${i}`;return!t||V2(t)?a:`${a} ${t.slice(0,2)}:${t.slice(2,4)}`}function Kre(e,t,n){if(n)return"";const r=(e??"").trim();if(r)return r;const i=t instanceof Date?t:new Date(t);return Number.isNaN(i.getTime())?"":k4(i)}const rP=["","/",""],Wre="/";function A4(e,t){return e&&rP.includes(e)?e:t&&rP.includes(t)?t:Wre}function iP(e){return e===""}function Vre(e){return e===""?"":""}function Zre(e){switch(e){case"":return 1;case"":return 2;case"":return 3;case"":default:return 0}}const Xre=e=>e instanceof Date&&!Number.isNaN(e.getTime());function aP(e,t){const n=V2(e.birthTime);let r=Number(e.birthDay?.slice(0,4)??2e3),i=Number(e.birthDay?.slice(4,6)??1),a=Number(e.birthDay?.slice(6,8)??1);if(e.calendarType==="lunar"){const O=Bi(r,i,a);r=O.getFullYear(),i=O.getMonth()+1,a=O.getDate()}const o=n?4:Number(e.birthTime?.slice(0,2)??4),c=n?30:Number(e.birthTime?.slice(2,4)??30),u=new Date(r,i-1,a,o,c,0,0),f=!e.birthPlace||e.birthPlace.name===""||!e.birthPlace.lon,m=f?127.5:e.birthPlace.lon,p=Xre(e.corrected);let g;p?g=e.corrected:f?g=u:g=Wm(u,m,n);const v=t?new Date(g.getTime()-3600*1e3):g,_=A4(e.mingSikType),w=at(v,m),E=kt(v,m),T=gt(v,_),N=n?null:$a(v,_);return{corrected:v,year:{stem:w.charAt(0),branch:w.charAt(1)},month:{stem:E.charAt(0),branch:E.charAt(1)},day:{stem:T.charAt(0),branch:T.charAt(1)},hour:N?{stem:N.charAt(0),branch:N.charAt(1)}:null}}const Jre=[{keys:["",""],label:"",elem:""},{keys:["",""],label:"",elem:""},{keys:["",""],label:"",elem:""},{keys:["",""],label:"",elem:""},{keys:["",""],label:"",elem:""},{keys:["",""],label:"",elem:""},{keys:["",""],label:"",elem:""},{keys:["",""],label:"",elem:""},{keys:["",""],label:"",elem:""},{keys:["",""],label:"",elem:""},{keys:["",""],label:"",elem:""},{keys:["",""],label:"",elem:""},{keys:["",""],label:"",elem:""},{keys:["",""],label:"",elem:""},{keys:["",""],label:"",elem:""},{keys:["",""],label:"",elem:""},{keys:["",""],label:"",elem:""},{keys:["",""],label:"",elem:""},{keys:["",""],label:"",elem:""},{keys:["",""],label:"",elem:""},{keys:["",""],label:"",elem:""},{keys:["",""],label:"",elem:""},{keys:["",""],label:"",elem:""},{keys:["",""],label:"",elem:""},{keys:["",""],label:"",elem:""},{keys:["",""],label:"",elem:""},{keys:["",""],label:"",elem:""},{keys:["",""],label:"",elem:""},{keys:["",""],label:"",elem:""},{keys:["",""],label:"",elem:""}],Qre=(()=>{const e={};for(const t of Jre){const[n,r]=t.keys;e[n]={label:t.label,elem:t.elem},e[r]={label:t.label,elem:t.elem}}return e})(),eie={:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""};function tie(e,t){const n=`${rv(e)}${Qk(t)}`;return Qre[n]??null}function nie(e){switch(e){case"":return"bg-green-600 text-white";case"":return"bg-red-600 text-white";case"":return"bg-yellow-600 text-white";case"":return"bg-gray-500 text-white";case"":return"bg-blue-700 text-white";default:return"bg-neutral-700 text-white"}}function rie(e){switch(eie[Qk(e)]){case"":return"bg-green-600 text-white border-green-600";case"":return"bg-red-600 text-white border-red-600";case"":return"bg-yellow-500 text-white border-yellow-500";case"":return"bg-gray-400 text-white border-gray-400";case"":return"bg-blue-900 text-white border-blue-600";default:return"bg-neutral-700 text-white border-neutral-700"}}function iie({stem:e,branch:t}){const n=tie(e,t);if(!n)return null;const r=nie(n.elem);return x.jsx("span",{className:`inline-block px-1.5 py-[2px] rounded ${r} border border-white/10 text-nowrap`,title:`${n.label}  ${n.elem}`,children:n.label})}function oP({value:e,kind:t,charType:n,thinEum:r,highlighted:i}){const{settings:a}=qn(),o=Ii(e,t,a),c=li(e,t,n),u=Ba(e,t),f=r&&u?"font-thin":"font-bold",m=i?"border-purple-500 border-3":"border-neutral-200 dark:border-neutral-800";return x.jsx("div",{className:`w-11 h-11 sm:w-14 sm:h-14 md:w-14 md:h-14 rounded-md ${o}
                  flex items-center justify-center border ${m}`,children:x.jsx("span",{className:`text-[24px] md:text-2xl ${f} `,children:c})})}function T4({title:e,data:t,dayStem:n,charType:r,thinEum:i,showSipSin:a,showUnseong:o,showShinsal:c,showNabeum:u,hiddenMode:f,hiddenStemMode:m,calcUnseong:p,calcShinsal:g,size:v="regular",highlightedStem:_=!1,highlightedBranch:w=!1}){const E=v==="compact"?"py-1 text-center text-xs tracking-wider":"px-2 py-1 text-center text-xs tracking-wider",T=v==="compact"?"py-2":"p-2";return x.jsxs("div",{className:"rounded-xl bg-white dark:bg-neutral-900 border border-neutral-200 dark:border-neutral-800 overflow-hidden",children:[x.jsx("div",{className:`${E} bg-neutral-50 dark:bg-neutral-800/60 text-neutral-600 dark:text-neutral-300`,children:e}),x.jsx("div",{className:`${T} flex flex-col items-center gap-1`,children:t?x.jsxs(x.Fragment,{children:[a&&x.jsx("div",{className:"text-xs text-neutral-500 dark:text-neutral-400",children:da(n,{stem:t.stem})}),x.jsx(oP,{value:t.stem,kind:"stem",charType:r,thinEum:i,highlighted:_}),x.jsx(oP,{value:t.branch,kind:"branch",charType:r,thinEum:i,highlighted:w}),x.jsx(yB,{branch:t.branch,dayStem:n,mode:f,mapping:m}),(o||c||u)&&x.jsxs("div",{className:"text-[11px] text-neutral-500 dark:text-neutral-400 mt-1 text-center space-y-0.5 w-full",children:[o&&x.jsx("div",{children:p(t.branch)}),c&&x.jsx("div",{children:g(t.branch)}),u&&x.jsx(iie,{stem:t.stem,branch:t.branch})]})]}):x.jsx("span",{className:"text-xs text-neutral-500 dark:text-neutral-400",children:" "})})]})}const aie=(e,t,n,r)=>{let i=e.data.stem,a=e.data.branch;return e.key==="daeun"&&t&&(i=t.charAt(0),a=t.charAt(1)),e.key==="seun"&&n&&(i=n.charAt(0),a=n.charAt(1)),e.key==="wolun"&&r&&(i=r.charAt(0),a=r.charAt(1)),{stem:i,branch:a}};function oie({cards:e,isDesktop:t,dayStem:n,charType:r,thinEum:i,showSipSin:a,showUnseong:o,showShinsal:c,showNabeum:u,hiddenMode:f,hiddenStemMode:m,calcUnseong:p,calcShinsal:g,daeGz:v,seGz:_,wolGz:w,highlightMap:E={}}){const T=t?"regular":"compact",N=e.length===1?"grid-cols-1":e.length===2?"grid-cols-2":"grid-cols-3",O="rounded-lg bg-white dark:bg-neutral-900 text-neutral-900 dark:text-white border border-neutral-200 dark:border-neutral-700 shadow",P=t?"px-3 py-1 text-md text-neutral-600 dark:text-neutral-300":"px-3 py-1 text-[11px] text-neutral-600 dark:text-neutral-300",C=t?`grid gap-2 p-3 ${N}`:`grid gap-1 p-0 ${N}`;return x.jsxs("div",{className:O,children:[x.jsx("div",{className:P,children:x.jsx("b",{children:""})}),x.jsx("div",{className:"pb-2",children:x.jsx("div",{className:C,children:e.map(D=>{const $=aie(D,v,_,w),H=E[D.key]??{stem:!1,branch:!1};return x.jsx(T4,{title:D.label,data:$,dayStem:n,charType:r,thinEum:i,showSipSin:a,showUnseong:o,showShinsal:c,showNabeum:u,hiddenMode:f,hiddenStemMode:m,calcUnseong:p,calcShinsal:g,size:T,highlightedStem:H.stem,highlightedBranch:H.branch},D.key)})})})]})}function sie({pillars:e,isDesktop:t,dayStem:n,charType:r,thinEum:i,showSipSin:a,showUnseong:o,showShinsal:c,showNabeum:u,hiddenMode:f,hiddenStemMode:m,calcUnseong:p,calcShinsal:g,highlightMap:v={}}){const _=t?"regular":"compact",w=t?"px-3 py-1 text-md text-neutral-600 dark:text-neutral-300":"px-3 py-1 text-[11px] text-neutral-600 dark:text-neutral-300",E=t?"grid grid-cols-4 gap-2 p-3":"grid grid-cols-4 gap-1";return x.jsxs("div",{className:"flex-2 rounded-lg bg-white dark:bg-neutral-900 text-neutral-900 dark:text-white border border-neutral-200 dark:border-neutral-700 shadow",children:[x.jsx("div",{className:w,children:x.jsx("b",{children:""})}),x.jsx("div",{className:t?"pb-2":"px-1 pb-2",children:x.jsx("div",{className:E,children:e.map(T=>{const N=v[T.key]??{stem:!1,branch:!1};return x.jsx(T4,{title:T.label,data:T.data,dayStem:n,charType:r,thinEum:i,showSipSin:a,showUnseong:o,showShinsal:c,showNabeum:u,hiddenMode:f,hiddenStemMode:m,calcUnseong:p,calcShinsal:g,size:_,highlightedStem:N.stem,highlightedBranch:N.branch},T.key)})})})]})}function lie({hourCandidates:e,useInsi:t,onToggleRule:n,manualHour:r,onSelectHour:i}){return x.jsxs("div",{className:"mt-4 p-3 border rounded bg-neutral-50 dark:bg-neutral-800",children:[x.jsxs("div",{className:"flex items-center justify-between mb-2",children:[x.jsx("span",{className:"font-semibold text-sm text-neutral-700 dark:text-neutral-300",children:" "}),x.jsx("button",{onClick:n,className:"px-2 py-1 text-xs rounded border bg-white dark:bg-neutral-900 border-neutral-300 dark:border-neutral-600 cursor-pointer",children:t?" : ":" : "})]}),x.jsx("div",{className:"grid grid-cols-4 gap-2",children:e.map(a=>{const o=a.charAt(0),c=a.charAt(1),u=r?.stem===o&&r?.branch===c;return x.jsx("button",{onClick:()=>i(o,c),className:`p-2 text-xs rounded border cursor-pointer ${u?rie(c):"bg-white dark:bg-neutral-900 text-neutral-700 dark:text-neutral-200 border-neutral-300 dark:border-neutral-600"}`,title:`${a} ( )`,children:a},a)})})]})}function cie(e){const i=e.trim().replace(/^#?(|||)(X(|||))?_/u,"").replace(/\((|||)\)$/u,"").replace(/\s+/g," ").trim(),a=i.includes("_")?i.split("_").pop()??i:i;return a.includes("")?"":a.includes("")?"":a.includes("")?"":a===""||a===""||a===""?"":a}const Nh={:{title:"()",kind:"",oneLine:"   .",bullets:["  ,  / ."]},:{title:"()",kind:"",oneLine:"    ."},:{title:"()",kind:"",oneLine:"   ."},:{title:"()",kind:"",oneLine:"   ."},:{title:"() / ",kind:"",oneLine:"   ."},:{title:"()",kind:"",oneLine:"    ."},:{title:"()",kind:"",oneLine:"   ."},:{title:"()",kind:"",oneLine:" ,    ."},:{title:"()",kind:"",oneLine:"  (  ) ."},:{title:"()",kind:"",oneLine:"     ."},:{title:"()",kind:"",oneLine:"    ."},:{title:"()",kind:"",oneLine:"  / ."},:{title:"()",kind:"",oneLine:"    ."},:{title:"()",kind:"",oneLine:"()   ."},:{title:"()",kind:"",oneLine:"  ()  ."},:{title:"()",kind:"",oneLine:"  :   ."},:{title:"()",kind:"",oneLine:"    ."},:{title:"()",kind:"",oneLine:"    ."},:{title:"()",kind:"",oneLine:"/  ."},:{title:"()",kind:"",oneLine:"  ."},:{title:"()",kind:"",oneLine:"   ."},:{title:"()",kind:"",oneLine:"   ."},:{title:"() / ",kind:"",oneLine:"   ."},:{title:"()",kind:"",oneLine:"    ."},:{title:"()",kind:"",oneLine:"//     ."},:{title:"()",kind:"",oneLine:"  :   ."},:{title:"()",kind:"",oneLine:"   : //."},:{title:"",kind:"",oneLine:"  :   ."},:{title:"",kind:"",oneLine:"  :  ."},:{title:"()",kind:"",oneLine:"//     ."},:{title:"()",kind:"",oneLine:"    ."},:{title:"()",kind:"",oneLine:" //  ."},:{title:"()",kind:"",oneLine:"   ."},:{title:"()",kind:"",oneLine:"  : ."},:{title:"()",kind:"",oneLine:": /  ."},:{title:"",kind:"",oneLine:" : //  ."},:{title:"()",kind:"",oneLine:"   ."},:{title:"()",kind:"",oneLine:"  ."},:{title:"()",kind:"",oneLine:" / :   ."},:{title:"()",kind:"",oneLine:"()  ."},:{title:"()",kind:"",oneLine:"   ."},:{title:"()",kind:"",oneLine:"/ :  ."},:{title:"()",kind:"",oneLine:"   ."},:{title:"()",kind:"",oneLine:"   ."},:{title:"()",kind:"",oneLine:"   ."},:{title:"()",kind:"",oneLine:" / :    ."},:{title:"()",kind:"",oneLine:" :   / ."},:{title:"",kind:"",oneLine:"   ."},:{title:"()",kind:"",oneLine:"() //  ."},:{title:"()",kind:"",oneLine:" :      ."},:{title:"()",kind:"",oneLine:" ."},:{title:"()",kind:"",oneLine:"  :  ."},:{title:"()",kind:"",oneLine:"//    ."},:{title:"()",kind:"",oneLine:"    : ."},:{title:"",kind:"",oneLine:"  : //."},:{title:"()",kind:"",oneLine:"/  ."},:{title:"()",kind:"",oneLine:"  : ."},:{title:"()",kind:"",oneLine:" : /  ."},:{title:"()",kind:"",oneLine:"  :  ."},:{title:"()",kind:"",oneLine:" () ."},:{title:"()",kind:"",oneLine:"   ."},:{title:"",kind:"",oneLine:":  ."},:{title:"",kind:"",oneLine:" /  ."},:{title:"()",kind:"",oneLine:"/ :  ."},:{title:"()",kind:"",oneLine:"/ :  ."},:{title:"()",kind:"",oneLine:" /   ."},:{title:"",kind:"",oneLine:"    ."},:{title:"()",kind:"",oneLine:" /.   ."},:{title:"()",kind:"",oneLine:"  .   ."},:{title:"()",kind:"",oneLine:" /    ."},:{title:"()",kind:"",oneLine:" :  ."},:{title:"()",kind:"",oneLine:"  :  ."},:{title:"()",kind:"",oneLine:"   :  ."},:{title:"()",kind:"",oneLine:" :  /."},:{title:"",kind:"",oneLine:"     ."},:{title:"()",kind:"",oneLine:" /  ."},:{title:"()",kind:"",oneLine:"  :   ."},:{title:"()",kind:"",oneLine:"  : /  ."},:{title:"()",kind:"",oneLine:"  : // ."},:{title:"()",kind:"",oneLine:"   :  ."},:{title:"()",kind:"",oneLine:"//   ."},:{title:"()",kind:"",oneLine:"/  :  ."},:{title:"()",kind:"",oneLine:"/    ."},:{title:"()",kind:"",oneLine:" : ."}};function uie(e){const t=cie(e),n=Nh[t];if(n)return n;if(t.endsWith("")){const r=t.replace(/$/,"");if(Nh[r])return Nh[r]}else{const r=`${t}`;if(Nh[r])return Nh[r]}return{title:t||"",kind:"",oneLine:" "}}function die(e){const t=`${e.title}  ${e.kind}`,n=e.oneLine,r=(e.bullets??[]).map(i=>`- ${i}`).join(`
`);return r?`${t}
${n}
${r}`:`${t}
${n}`}function so({columnKey:e,title:t,goodTags:n,badTags:r,isDesktop:i,openTagKey:a,setOpenTagKey:o}){const c=AE(n,Vy),u=AE(r,Vy),f=i||c.length>0,m=i||u.length>0;return!i&&c.length===0&&u.length===0?null:x.jsxs("div",{className:"flex-1 rounded-md border border-neutral-200 dark:border-neutral-800 p-1 desk:p-2",children:[x.jsx("div",{className:"text-[11px] text-neutral-500 dark:text-neutral-400 mb-1",children:t}),x.jsxs("div",{className:"space-y-2",children:[x.jsxs("div",{children:[f&&x.jsx("div",{className:"text-[10px] text-emerald-600 dark:text-emerald-400 mb-1",children:""}),x.jsx(sP,{tags:n,idPrefix:`${e}-good`,isDesktop:i,openTagKey:a,setOpenTagKey:o})]}),x.jsxs("div",{children:[m&&x.jsx("div",{className:"text-[10px] text-rose-600 dark:text-rose-400 mb-1",children:""}),x.jsx(sP,{tags:r,idPrefix:`${e}-bad`,isDesktop:i,openTagKey:a,setOpenTagKey:o})]})]})]})}function sP({tags:e,idPrefix:t,isDesktop:n,openTagKey:r,setOpenTagKey:i}){const a=AE(e,Vy);return a.length===0?n?x.jsx("div",{className:"text-[11px] text-neutral-400 text-center",children:""}):null:x.jsx("div",{className:"flex flex-row flex-wrap desk:flex-col gap-1",children:a.map((o,c)=>{const u=`${t}-${c}`;return x.jsx(fie,{tag:o,id:u,openTagKey:r,setOpenTagKey:i},u)})})}function fie({tag:e,id:t,openTagKey:n,setOpenTagKey:r}){const i=n===t,a=uie(e),o=a?die(a):"",c=Vy(e),u=S.useRef(null),f=S.useRef(null),[m,p]=S.useState("center");return S.useLayoutEffect(()=>{if(!i)return;const g=f.current;if(!g)return;const v=g.getBoundingClientRect(),w=Math.min(300,window.innerWidth-16*2),E=v.left,T=window.innerWidth-v.right;T<w/2&&E>T?p("right"):E<w/2&&T>E?p("left"):p("center")},[i]),S.useLayoutEffect(()=>{if(!i)return;const g=v=>{const _=v.target;!u.current||_&&u.current.contains(_)||r(null)};return document.addEventListener("mousedown",g),document.addEventListener("touchstart",g),()=>{document.removeEventListener("mousedown",g),document.removeEventListener("touchstart",g)}},[i,r]),x.jsxs("div",{ref:u,className:"relative",children:[x.jsx("button",{ref:f,type:"button",onClick:()=>r(i?null:t),className:["px-1 desk:px-2 py-1 text-[10px] text-center desk:text-[11px] rounded border desk:break-keep w-full cursor-pointer ",i?"bg-purple-500/20 text-purple-200 border-purple-500":"bg-neutral-50 dark:bg-neutral-800 text-neutral-600 dark:text-neutral-300 border-neutral-200 dark:border-neutral-700"].join(" "),title:c,children:c}),a&&i&&x.jsx("div",{className:["absolute top-full mt-2 z-50",m==="left"?"left-0":m==="right"?"right-0":"left-1/2 -translate-x-1/2"].join(" "),children:x.jsx("div",{className:"relative whitespace-pre-wrap break-words break-keep rounded-md border border-neutral-700 bg-neutral-900 text-neutral-100 text-[10px] leading-4 p-2 shadow-lg text-center",style:{width:"min(190px, calc(100vw - 24px))"},children:o})})]})}function Vy(e){const t=e.replace(/^#/,""),n=t.split("_"),r=n.length>1?n[n.length-1]:t,i=r.split(" ").filter(Boolean);return i.length>0?i[i.length-1]:r}function AE(e,t){const n=new Set,r=[];for(const i of e){const a=t(i);n.has(a)||(n.add(a),r.push(i))}return r}function hie({isDesktop:e,exposureLevel:t,relationChips:n,relationByPillar:r,activeRelationTag:i,onToggleRelationTag:a,showRelationBox:o,showEtcShinsalBox:c,etcShinsalGood:u,etcShinsalBad:f}){const[m,p]=S.useState(!0),[g,v]=S.useState(!0),[_,w]=S.useState(null);return x.jsxs(x.Fragment,{children:[o&&x.jsx("div",{className:"px-2 desk:px-0 py-2",children:x.jsxs("div",{className:"rounded-lg border border-neutral-200 dark:border-neutral-800 bg-white dark:bg-neutral-900 p-2",children:[x.jsxs("button",{type:"button",onClick:()=>p(E=>!E),className:"w-full flex items-center justify-between text-xs text-neutral-600 dark:text-neutral-300 mb-1 cursor-pointer",children:[x.jsx("span",{children:""}),x.jsx("span",{className:"text-[10px]",children:m?"":""})]}),m&&x.jsxs(x.Fragment,{children:[x.jsx("div",{className:"text-[11px] text-amber-600 dark:text-amber-300 mb-2",children:"     ."}),n.length===0?x.jsx("div",{className:"text-xs text-neutral-400",children:"  ."}):x.jsxs("div",{className:"grid w-full gap-2 desk:gap-4 grid-cols-1",style:{gridTemplateColumns:e?t>=3?"4fr 5fr":t>=2?"3.5fr 6.5fr":t>=1?"2fr 8fr":"1fr":void 0},children:[x.jsx("div",{className:"order-2 desk:order-1 flex-4 grid grid-cols-1 gap-1 desk:gap-2",style:{gridTemplateColumns:e?`repeat(${t>=3?3:t>=2?2:t>=1?1:0}, minmax(60px, 1fr))`:void 0},children:(e?[t>=3&&x.jsx(lo,{title:"",tags:r.luck.wol,activeTag:i,onToggle:a},"wol"),t>=2&&x.jsx(lo,{title:"",tags:r.luck.se,activeTag:i,onToggle:a},"se"),t>=1&&x.jsx(lo,{title:"",tags:r.luck.dae,activeTag:i,onToggle:a},"dae")]:[t>=1&&x.jsx(lo,{title:"",tags:r.luck.dae,activeTag:i,onToggle:a},"dae"),t>=2&&x.jsx(lo,{title:"",tags:r.luck.se,activeTag:i,onToggle:a},"se"),t>=3&&x.jsx(lo,{title:"",tags:r.luck.wol,activeTag:i,onToggle:a},"wol")]).filter(Boolean)}),x.jsxs("div",{className:"order-1 desk:order-2 flex flex-col desk:flex-row flex-5 gap-1 desk:gap-2",children:[x.jsx(lo,{title:"",tags:r.natal.hour,activeTag:i,onToggle:a}),x.jsx(lo,{title:"",tags:r.natal.day,activeTag:i,onToggle:a}),x.jsx(lo,{title:"",tags:r.natal.month,activeTag:i,onToggle:a}),x.jsx(lo,{title:"",tags:r.natal.year,activeTag:i,onToggle:a})]})]})]})]})}),c&&x.jsx("div",{className:"px-2 desk:px-0 py-2",children:x.jsxs("div",{className:"rounded-lg border border-neutral-200 dark:border-neutral-800 bg-white dark:bg-neutral-900 p-2",children:[x.jsxs("button",{type:"button",onClick:()=>v(E=>!E),className:"w-full flex items-center justify-between text-xs text-neutral-600 dark:text-neutral-300 mb-1 cursor-pointer",children:[x.jsx("span",{children:""}),x.jsx("span",{className:"text-[10px]",children:g?"":""})]}),g&&x.jsxs(x.Fragment,{children:[x.jsx("div",{className:"text-[11px] text-amber-600 dark:text-amber-300 mb-2",children:"       ."}),lP(u)||lP(f)?x.jsxs("div",{className:"grid w-full gap-2 desk:gap-4 grid-cols-1",style:{gridTemplateColumns:e?t>=3?"4fr 5fr":t>=2?"3.5fr 6.5fr":t>=1?"2fr 8fr":"1fr":void 0},children:[x.jsx("div",{className:"order-2 desk:order-1 flex-4 grid grid-cols-1 gap-1 desk:gap-2",style:{gridTemplateColumns:e?`repeat(${t>=3?3:t>=2?2:t>=1?1:0}, minmax(60px, 1fr))`:void 0},children:(e?[t>=3&&x.jsx(so,{columnKey:"etc-luck-wol",title:"",goodTags:u.luck.wol,badTags:f.luck.wol,isDesktop:e,openTagKey:_,setOpenTagKey:w},"luck-wol"),t>=2&&x.jsx(so,{columnKey:"etc-luck-se",title:"",goodTags:u.luck.se,badTags:f.luck.se,isDesktop:e,openTagKey:_,setOpenTagKey:w},"luck-se"),t>=1&&x.jsx(so,{columnKey:"etc-luck-dae",title:"",goodTags:u.luck.dae,badTags:f.luck.dae,isDesktop:e,openTagKey:_,setOpenTagKey:w},"luck-dae")]:[t>=1&&x.jsx(so,{columnKey:"etc-luck-dae",title:"",goodTags:u.luck.dae,badTags:f.luck.dae,isDesktop:e,openTagKey:_,setOpenTagKey:w},"luck-dae"),t>=2&&x.jsx(so,{columnKey:"etc-luck-se",title:"",goodTags:u.luck.se,badTags:f.luck.se,isDesktop:e,openTagKey:_,setOpenTagKey:w},"luck-se"),t>=3&&x.jsx(so,{columnKey:"etc-luck-wol",title:"",goodTags:u.luck.wol,badTags:f.luck.wol,isDesktop:e,openTagKey:_,setOpenTagKey:w},"luck-wol")]).filter(Boolean)}),x.jsxs("div",{className:"order-1 desk:order-2 flex flex-col desk:flex-row flex-5 gap-1 desk:gap-2",children:[x.jsx(so,{columnKey:"etc-natal-hour",title:"",goodTags:u.natal.hour,badTags:f.natal.hour,isDesktop:e,openTagKey:_,setOpenTagKey:w}),x.jsx(so,{columnKey:"etc-natal-day",title:"",goodTags:u.natal.day,badTags:f.natal.day,isDesktop:e,openTagKey:_,setOpenTagKey:w}),x.jsx(so,{columnKey:"etc-natal-month",title:"",goodTags:u.natal.month,badTags:f.natal.month,isDesktop:e,openTagKey:_,setOpenTagKey:w}),x.jsx(so,{columnKey:"etc-natal-year",title:"",goodTags:u.natal.year,badTags:f.natal.year,isDesktop:e,openTagKey:_,setOpenTagKey:w})]})]}):x.jsx("div",{className:"text-xs text-neutral-400",children:"  ."})]})]})})]})}function lo({title:e,tags:t,activeTag:n,onToggle:r}){return x.jsxs("div",{className:"flex-1 rounded-md border border-neutral-200 dark:border-neutral-800 p-1 desk:p-2",children:[x.jsx("div",{className:"text-[11px] text-neutral-500 dark:text-neutral-400 mb-1",children:e}),t.length===0?x.jsx("div",{className:"text-[11px] text-neutral-400 text-center",children:""}):x.jsx("div",{className:"flex flex-row desk:flex-col gap-1",children:t.map(i=>{const a=n===i;return x.jsx("button",{type:"button",onClick:()=>r(a?null:i),className:["px-1 desk:px-2 py-1 text-[10px] desk:text-[11px] rounded border transition desk:break-keep cursor-pointer",a?"bg-purple-500 text-white border-purple-500":"bg-neutral-50 dark:bg-neutral-800 text-neutral-600 dark:text-neutral-300 border-neutral-200 dark:border-neutral-700"].join(" "),title:i,children:mie(i)},i)})})]})}function mie(e){const t=e.replace(/^#/,""),n=t.split("_");return(n.length>1?n.slice(1).join("_"):t).replace(/_/g," ")}function lP(e){const{natal:t,luck:n}=e;return t.hour.length>0||t.day.length>0||t.month.length>0||t.year.length>0||n.dae.length>0||n.se.length>0||n.wol.length>0}function cP(e){return String(e).padStart(2,"0")}function pie(e,t,n){if(!e||e.length<8)return nP(e,t);const r=nP(e,t);if(n!=="lunar")return r;try{const i=Number(e.slice(0,4)),a=Number(e.slice(4,6)),o=Number(e.slice(6,8)),c=Bi(i,a,o);return` ${`${c.getFullYear()}.${cP(c.getMonth()+1)}.${cP(c.getDate())}`} ( ${r})`}catch{return` ${r}`}}function gie({data:e,hourTable:t}){const{date:n}=ci(),r=qn(Ne=>Ne.settings),i=r.showNabeum??!0,a=r.showRelationBox??!0,o=r.showEtcShinsal??!0,c=A4(e.mingSikType,t),u=!e.birthPlace||e.birthPlace.name===""||!e.birthPlace.lon?127.5:e.birthPlace.lon,{solarY:f,solarM:m,solarD:p}=S.useMemo(()=>{let Ne=Number(e.birthDay?.slice(0,4)??2e3),_e=Number(e.birthDay?.slice(4,6)??1),je=Number(e.birthDay?.slice(6,8)??1);if(e.calendarType==="lunar"){const Le=Bi(Ne,_e,je);Ne=Le.getFullYear(),_e=Le.getMonth()+1,je=Le.getDate()}return{solarY:Ne,solarM:_e,solarD:je}},[e.birthDay,e.calendarType]),[g,v]=S.useState(!1);S.useEffect(()=>{f&&m&&p&&v(By(f,m,p))},[f,m,p]);const _=V2(e.birthTime),[w,E]=S.useState(()=>aP(e,g));S.useEffect(()=>{E(aP(e,g))},[e,g]);const T=Kre(e.correctedLocal,w.corrected,_),N=e.id??`${e.birthDay}-${e.birthTime}-${e.name??""}`,O=w.day.stem,[P,C]=S.useState(null),[D,$]=S.useState(()=>iP(e.mingSikType));S.useEffect(()=>{C(null),$(iP(e.mingSikType))},[N,e.mingSikType]),S.useEffect(()=>{pe(null)},[N]);const H=S.useMemo(()=>Yre(O,D),[D,O]),Y=P??w.hour,K=Gm(Ne=>Ne.setManualHour),F=(Ne,_e)=>{const je={stem:Ne,branch:_e};C(je),K(je)},z=Vre(r.sinsalBase)===""?w.day.branch:w.year.branch,X=Ne=>r.showSibiUnseong?ko(O,Ne):null,Q=Ne=>r.showSibiSinsal?Ao({baseBranch:z,targetBranch:Ne,era:of(r.sinsalMode),gaehwa:r.sinsalBloom}):null,J=Xte(e,c),q=jte({query:"(min-width: 992px)"}),Z=r.hiddenStem==="regular"?"main":"all",re=Zre(r.exposure),ue=re===0?[]:J.filter(Ne=>(Ne.key==="daeun"?1:Ne.key==="seun"?2:3)<=re),se=By(f,m,p),B=()=>v(Ne=>!Ne),W=D2(e,t,n),ae=W.dae.gz,V=W.se.gz,oe=W.wol.gz,[me,pe]=S.useState(null),be=S.useMemo(()=>{const Ne=_e=>_e?.stem&&_e?.branch?`${_e.stem}${_e.branch}`:"";return xl({natal:[Ne(w.year),Ne(w.month),Ne(w.day),Ne(Y)],daewoon:ae??void 0,sewoon:V??void 0,wolwoon:oe??void 0})},[w,Y,ae,V,oe]),ne=S.useMemo(()=>{const Ne=[...be.cheonganHap,...be.cheonganChung,...be.jijiSamhap,...be.jijiBanhap,...be.jijiBanghap,...be.jijiYukhap,...be.jijiChung,...be.jijiHyeong,...be.jijiPa,...be.jijiHae,...be.amhap,...be.ganjiAmhap].filter(_e=>_e&&_e!=="#");return Array.from(new Set(Ne))},[be]),Oe=S.useMemo(()=>{const Ne=(je,Le)=>{je.includes(Le)||je.push(Le)},_e={luck:{wol:[],se:[],dae:[]},natal:{hour:[],day:[],month:[],year:[]}};for(const je of ne){const Ve=(je.replace(/^#/,"").split("_")[0]??"").split("X").filter(Boolean);Ve.includes("")&&Ne(_e.luck.wol,je),Ve.includes("")&&Ne(_e.luck.se,je),Ve.includes("")&&Ne(_e.luck.dae,je),Ve.includes("")&&Ne(_e.natal.hour,je),Ve.includes("")&&Ne(_e.natal.day,je),Ve.includes("")&&Ne(_e.natal.month,je),Ve.includes("")&&Ne(_e.natal.year,je)}return _e},[ne]),Ce=S.useMemo(()=>{const Ne=Le=>Le?.stem&&Le?.branch?`${Le.stem}${Le.branch}`:"",_e=Id({natal:[Ne(w.year),Ne(w.month),Ne(w.day),Ne(Y)],daewoon:ae??void 0,sewoon:V??void 0,wolwoon:oe??void 0}),je=Le=>Array.from(new Set(Le.filter(Ve=>Ve&&Ve!=="#")));return{good:{natal:{hour:je(_e.good.si??[]),day:je(_e.good.il??[]),month:je(_e.good.wol??[]),year:je(_e.good.yeon??[])},luck:{dae:je(_e.good.dae??[]),se:je(_e.good.se??[]),wol:je(_e.good.wolun??[])}},bad:{natal:{hour:je(_e.bad.si??[]),day:je(_e.bad.il??[]),month:je(_e.bad.wol??[]),year:je(_e.bad.yeon??[])},luck:{dae:je(_e.bad.dae??[]),se:je(_e.bad.se??[]),wol:je(_e.bad.wolun??[])}}}},[w,Y,ae,V,oe]),ve=S.useMemo(()=>{const Ne={},_e=(je,Le)=>{for(const Ve of je)Ne[Ve]=Le};return _e(be.cheonganHap,"stem"),_e(be.cheonganChung,"stem"),_e(be.jijiSamhap,"branch"),_e(be.jijiBanhap,"branch"),_e(be.jijiBanghap,"branch"),_e(be.jijiYukhap,"branch"),_e(be.jijiChung,"branch"),_e(be.jijiHyeong,"branch"),_e(be.jijiPa,"branch"),_e(be.jijiHae,"branch"),_e(be.amhap,"branch"),_e(be.ganjiAmhap,"both"),Ne},[be]),Ze=S.useMemo(()=>{if(!me)return{};const Ne=ve[me]??"branch",je=(me.replace(/^#/,"").split("_")[0]??"").split("X").filter(Boolean),Le={:"year",:"month",:"day",:"hour",:"daeun",:"seun",:"wolun",:"ilun"},Ve={};for(const bt of je){const xt=Le[bt];if(!xt)continue;const Pt=Ve[xt]??{stem:!1,branch:!1};Ne==="stem"?Pt.stem=!0:(Ne==="branch"||(Pt.stem=!0),Pt.branch=!0),Ve[xt]=Pt}return Ve},[me,ve]);return x.jsxs("div",{className:"w-full max-w-[640px] mx-auto",children:[x.jsxs("div",{className:"mb-1 gap-2 p-2",children:[x.jsxs("div",{children:[x.jsxs("div",{className:"text-md desk:text-xl font-bold text-neutral-900 dark:text-neutral-100",children:[(e.name?.trim()||"")+" ",x.jsxs("span",{className:"text-sm text-neutral-500 dark:text-neutral-400 mr-2",children:["(",e.gender,")"]}),se&&x.jsxs("button",{onClick:B,className:`px-2 py-0.5 text-xs rounded cursor-pointer border
                  ${g?"bg-red-600 text-white border-red-600":"bg-neutral-100 text-neutral-700 border-neutral-300 dark:bg-neutral-800 dark:text-neutral-200 dark:border-neutral-700"}`,children:[" ",g?"ON":"OFF"]})]}),x.jsxs("div",{className:"text-xs desk:text-sm text-neutral-600 dark:text-neutral-400",children:[pie(e.birthDay,e.birthTime,e.calendarType)," : ",T]})]}),x.jsxs("div",{className:"text-xs text-neutral-500 dark:text-neutral-400",children:[e.birthPlace?.name?`: ${e.birthPlace.name}`:""," /  : ",u.toFixed(2),"  ",c," "]})]}),x.jsxs("div",{className:`grid gap-2 p-2 desk:p-0 ${ue.length===0?"grid-cols-1":ue.length===1?"grid-cols-[2fr_8fr]":ue.length===2?"grid-cols-[3.5fr_6.5fr]":"grid-cols-[4fr_5fr]"}`,children:[ue.length>0&&x.jsx(oie,{cards:ue,isDesktop:q,dayStem:O,charType:r.charType,thinEum:r.thinEum,showSipSin:r.showSipSin,showUnseong:r.showSibiUnseong,showShinsal:r.showSibiSinsal,showNabeum:i,hiddenMode:Z,hiddenStemMode:r.hiddenStemMode,calcUnseong:X,calcShinsal:Q,daeGz:ae,seGz:V,wolGz:oe,highlightMap:Ze}),x.jsx(sie,{isDesktop:q,dayStem:O,charType:r.charType,thinEum:r.thinEum,showSipSin:r.showSipSin,showUnseong:r.showSibiUnseong,showShinsal:r.showSibiSinsal,showNabeum:i,hiddenMode:Z,hiddenStemMode:r.hiddenStemMode,calcUnseong:X,calcShinsal:Q,highlightMap:Ze,pillars:[{key:"hour",label:"",data:Y},{key:"day",label:"",data:w.day},{key:"month",label:"",data:w.month},{key:"year",label:"",data:w.year}]})]}),x.jsx(hie,{isDesktop:q,exposureLevel:re,relationChips:ne,relationByPillar:Oe,activeRelationTag:me,onToggleRelationTag:pe,showRelationBox:a,showEtcShinsalBox:o,etcShinsalGood:Ce.good,etcShinsalBad:Ce.bad}),_&&x.jsx(lie,{hourCandidates:H,useInsi:D,onToggleRule:()=>$(Ne=>!Ne),manualHour:P,onSelectHour:F})]})}function yv(e,t){const n=e.length;if(n===0||!t)return 0;const r=e[0].at.getTime(),i=e[n-1].at.getTime(),a=t.getTime();if(a<=r)return 0;if(a>=i)return n-1;for(let o=0;o<n-1;o+=1){const c=e[o].at.getTime(),u=e[o+1].at.getTime();if(a>=c&&a<u)return o}return 0}const yie=!1,uP=e=>e<10?`0${e}`:`${e}`;function bv(e){const t=e,n=typeof t.birthDay=="string"?t.birthDay:"",r=typeof t.calendarType=="string"?t.calendarType:"solar";if(n.length<8)return e;const i=Number(n.slice(0,4)),a=Number(n.slice(4,6)),o=Number(n.slice(6,8)),c=["isLeap","isLeapMonth","leapMonth","leap","lunarLeap"];let u=!1;for(const f of c){const m=t[f];if(typeof m=="boolean"){u=m;break}if(typeof m=="number"){u=m===1;break}if(typeof m=="string"){u=m==="1"||m.toLowerCase()==="true";break}}if(r==="lunar")try{const f=Bi(i,a,o,0,0),m=`${f.getFullYear()}${uP(f.getMonth()+1)}${uP(f.getDate())}`;return{...e,birthDay:m,calendarType:"solar"}}catch{return e}return e}function bie({data:e}){const t=ou(e),n=S.useMemo(()=>{const C=bv(e);return Al(C)},[e]),r=S.useMemo(()=>{const C=e.mingSikType??"/";return gt(n,C).charAt(0)},[n,e.mingSikType]),{date:i,setFromEvent:a}=ci(),o=S.useMemo(()=>yv(t,i),[t,i]),c=qn(C=>C.settings),{charType:u,thinEum:f,showSipSin:m,showSibiUnseong:p,showSibiSinsal:g,sinsalBase:v,sinsalMode:_,sinsalBloom:w}=c,E=!e.birthPlace||e.birthPlace.name===""||e.birthPlace.lon===0?127.5:e.birthPlace.lon,T=e.mingSikType??"/",N=v===""?gt(n,T).charAt(1):at(n,E).charAt(1),O=C=>p?ko(r,C):null,P=C=>g?Ao({baseBranch:N,targetBranch:C,era:of(_),gaehwa:!!w}):null;return x.jsxs("div",{className:"w-full max-w-[640px] mx-auto rounded-xl bg-white dark:bg-neutral-900 border border-neutral-200 dark:border-neutral-800 overflow-hidden",children:[x.jsx("div",{className:"px-3 py-2 text-sm font-semibold tracking-wider bg-neutral-50 dark:bg-neutral-800/60 text-neutral-700 dark:text-neutral-300",children:""}),x.jsx("div",{className:"flex gap-0.5 desk:gap-1 py-2 desk:p-2 flex-row-reverse",children:t.map((C,D)=>{const $=C.gz.charAt(0),H=C.gz.charAt(1),Y=vie(n,C.at),K=D===o,F=li($,"stem",u),z=li(H,"branch",u),X=Ba($,"stem"),Q=Ba(H,"branch"),J=f&&X?"font-thin":"font-bold",q=f&&Q?"font-thin":"font-bold",Z=O(H),re=P(H);return x.jsxs("div",{onClick:()=>a(C,""),className:`flex-1 rounded-sm desk:rounded-lg bg-white dark:bg-neutral-900 overflow-hidden cursor-pointer ${K?"border border-yellow-500":"border border-neutral-200 dark:border-neutral-800 hover:border-yellow-500"}`,title:`${C.gz}  ${C.at.toLocaleDateString()}`,children:[x.jsx("div",{className:"desk:px-2 py-1 text-center text-[10px] bg-neutral-50 dark:bg-neutral-800/60 text-neutral-600 dark:text-neutral-300",children:Y}),x.jsxs("div",{className:"p-2 flex flex-col items-center gap-0.5",children:[m&&x.jsx("div",{className:"text-[10px] text-neutral-500 dark:text-neutral-400 text-nowrap",children:da(r,{stem:$})}),x.jsx("div",{className:`w-8 h-8 md:w-10 md:h-10 rounded-sm md:rounded-lg flex items-center justify-center border border-neutral-200 dark:border-neutral-800 ${Ii($,"stem",c)}`,children:x.jsx("span",{className:`text-[20px] md:text-xl ${J}`,children:F})}),x.jsx("div",{className:`w-8 h-8 md:w-10 md:h-10 rounded-sm md:rounded-lg flex items-center justify-center border border-neutral-200 dark:border-neutral-800 ${Ii(H,"branch",c)}`,children:x.jsx("span",{className:`text-[20px] md:text-xl ${q}`,children:z})}),m&&x.jsx("div",{className:"text-[10px] text-neutral-500 dark:text-neutral-400 text-nowrap",children:da(r,{branch:H})}),(p||g)&&x.jsxs("div",{className:"text-[10px] text-neutral-500 dark:text-neutral-400 mt-1 text-center space-y-0.5 text-nowrap",children:[p&&x.jsx("div",{children:Z}),g&&x.jsx("div",{children:re})]})]})]},`${C.gz}-${D}`)})})]})}function vie(e,t){const r=(t.getTime()-e.getTime())/(365.2425*24*60*60*1e3);return Math.max(0,Math.round(r))}function vv(e,t){const n=e,r=typeof n.isUnknownTime=="boolean"?n.isUnknownTime:!1,i=typeof n.birthTime=="string"&&/^(?:\d{4}|\d{2}:\d{2})$/.test(n.birthTime),a=typeof n.birthHour=="number",o=typeof n.birthMinute=="number";if(r||!(i||a||o)){const u=new Date(t);return u.setDate(u.getDate()+1),u.setHours(4,30,0,0),u}return t}function Yw(e){return new Date(e,6,2,12,0,0,0)}function xie(e,t){return t-e+1}function _ie({data:e,list:t,onSelect:n}){const r=qn($=>$.settings),{date:i,setFromEvent:a}=ci(),[o,c]=S.useState(()=>t);S.useEffect(()=>{t&&t.length>0&&c(t)},[t]);const u=Al(e),f=S.useMemo(()=>vv(e,u),[e,u]),m=S.useMemo(()=>f.getFullYear(),[f]),p=!e.birthPlace||e.birthPlace.name===""||e.birthPlace.lon===0?127.5:e.birthPlace.lon,g=S.useMemo(()=>{if(!i)return[];const $=i.getFullYear(),H=Yw($),Y=at(H,p);return[{at:H,gz:Y}]},[i,p]),v=t.length>0?t:o.length>0?o:g,_=S.useMemo(()=>[...v].sort(($,H)=>$.at.getTime()-H.at.getTime()),[v]),w=S.useMemo(()=>{if(_.length===0)return 0;const $=yv(_,i);return $<0?0:$>=_.length?_.length-1:$},[_,i]),[E,T]=S.useState(null);S.useEffect(()=>{T(null)},[i,_]);const N=E??w,O=S.useMemo(()=>{const $=bv(e);return Al($)},[e]),P=e.mingSikType??"/",C=S.useMemo(()=>gt(O,P).charAt(0),[O,P]),D=S.useMemo(()=>r.sinsalBase===""?gt(f,P).charAt(1):at(f,p).charAt(1),[f,P,p,r.sinsalBase]);return x.jsxs("div",{className:"w-full max-w-[640px] mx-auto rounded-xl bg-white dark:bg-neutral-900 border border-neutral-200 dark:border-neutral-800 overflow-hidden",children:[x.jsx("div",{className:"px-3 py-2 text-sm font-semibold tracking-wider bg-neutral-50 dark:bg-neutral-800/60 text-neutral-700 dark:text-neutral-300",children:""}),x.jsx("div",{className:"flex gap-0.5 desk:gap-1 py-2 desk:p-2 flex-row-reverse",children:_.map(($,H)=>{const Y=$.at.getFullYear(),K=Yw(Y),F=at(K,p),z=F.charAt(0),X=F.charAt(1),Q=H===N,J=li(z,"stem",r.charType),q=li(X,"branch",r.charType),Z=Ba(z,"stem"),re=Ba(X,"branch"),ue=r.thinEum&&Z?"font-thin":"font-bold",se=r.thinEum&&re?"font-thin":"font-bold",B=r.showSibiUnseong?ko(C,X):null,W=r.showSibiSinsal?Ao({baseBranch:D,targetBranch:X,era:of(r.sinsalMode),gaehwa:!!r.sinsalBloom}):null,ae=xie(m,Y);return x.jsxs("div",{onClick:()=>{if(H===0){T(H);return}T(H);const V=Yw(Y),oe=at(V,p);a({at:V,gz:oe},""),n&&(typeof queueMicrotask<"u"?queueMicrotask(()=>n(Y)):Promise.resolve().then(()=>n(Y)))},className:`flex-1 rounded-sm desk:rounded-lg bg-white dark:bg-neutral-900 overflow-hidden cursor-pointer ${Q?"border border-yellow-500":"border border-neutral-200 dark:border-neutral-800 hover:border-yellow-500"}`,title:`${F}  ${$.at.toLocaleDateString()}  ${ae}`,children:[x.jsxs("div",{className:"desk:px-2 py-1 text-center text-[10px] bg-neutral-100 dark:bg-neutral-800/60 text-neutral-700 dark:text-neutral-200",children:[ae,""]}),x.jsx("div",{className:"desk:px-2 py-1 text-center text-[10px] bg-neutral-50 dark:bg-neutral-800/60 text-neutral-600 dark:text-neutral-300",children:Y}),x.jsxs("div",{className:"p-2 flex flex-col items-center gap-1",children:[r.showSipSin&&x.jsx("div",{className:"text-[10px] text-neutral-500 dark:text-neutral-400 text-nowrap",children:da(C,{stem:z})}),x.jsx("div",{className:`w-8 h-8 md:w-10 md:h-10 rounded-sm md:rounded-lg flex items-center justify-center border ${Ii(z,"stem",r)}`,children:x.jsx("span",{className:`text-[20px] md:text-xl ${ue}`,children:J})}),x.jsx("div",{className:`w-8 h-8 md:w-10 md:h-10 rounded-sm md:rounded-lg flex items-center justify-center border ${Ii(X,"branch",r)}`,children:x.jsx("span",{className:`text-[20px] md:text-xl ${se}`,children:q})}),r.showSipSin&&x.jsx("div",{className:"text-[10px] text-neutral-500 dark:text-neutral-400 text-nowrap",children:da(C,{branch:X})}),(r.showSibiUnseong||r.showSibiSinsal)&&x.jsxs("div",{className:"text-[10px] text-neutral-500 dark:text-neutral-400 text-center text-nowrap",children:[r.showSibiUnseong&&B&&x.jsx("div",{children:B}),r.showSibiSinsal&&W&&x.jsx("div",{children:W})]})]})]},`${Y}-${$.gz||H}`)})})]})}const wie=new Set(["","","","","","","","","","","",""]);function Sie(e){const t=new Date(e.getFullYear(),e.getMonth()+1),n=t.getFullYear(),i=[...ca(new Date(n-1,5,15,12,0))??[],...ca(new Date(n,5,15,12,0))??[],...ca(new Date(n+1,5,15,12,0))??[]].map(u=>({name:String(u.name),date:new Date(u.date)})).sort((u,f)=>u.date.getTime()-f.date.getTime()).filter(u=>wie.has(u.name));let a=i.findIndex((u,f)=>i[f].date<=t&&t<i[f+1]?.date);a<0&&(a=0);const o=i[a],c=i[a+1];return{start:new Date(o.date.getFullYear(),o.date.getMonth(),o.date.getDate(),0,0,0,0),end:new Date(c.date.getFullYear(),c.date.getMonth(),c.date.getDate(),0,0,0,0),cur:o,next:c}}const Eie=new Set(["","","","","","","","","","","",""]);function kie(e){return new Date(e.getFullYear(),e.getMonth(),e.getDate(),23,59,0,0)}function Aie(e){const t=new Intl.DateTimeFormat("ko-KR",{timeZone:"Asia/Seoul",month:"numeric"}).formatToParts(e);return Number(t.find(n=>n.type==="month")?.value??e.getMonth()+1)}function Kw(e){return new Date(e,5,15,12,0,0,0)}function Tie(e){const n=[...ca(Kw(e-1))??[],...ca(Kw(e))??[],...ca(Kw(e+1))??[]].map(c=>({name:String(c.name),date:new Date(c.date)})).sort((c,u)=>c.date.getTime()-u.date.getTime()).filter(c=>Eie.has(c.name)),r=new Date(e,0,1,0,0,0,0),i=new Date(e+1,0,1,0,0,0,0),a=n.findIndex(c=>c.name===""&&c.date>=r&&c.date<i);if(a===-1)return[];const o=[];for(let c=0;c<12;c++){const u=n[a+c];if(!u)break;const f=new Date(u.date),m=kie(f);o.push({name:u.name,termAt:f,at00:m})}return o}function Oie({data:e,activeYear:t,onSelect:n,onSelectMonth:r}){const i=qn(E=>E.settings),a=!e.birthPlace||e.birthPlace.name===""||e.birthPlace.lon===0?127.5:e.birthPlace.lon,o=Al(e),c=S.useMemo(()=>vv(e,o),[e,o]),u=S.useMemo(()=>{const E=bv(e);return Al(E)},[e]),f=e.mingSikType??"/",m=S.useMemo(()=>gt(u,f).charAt(0),[u,f]),p=i.sinsalBase===""?gt(c,f).charAt(1):at(c,a).charAt(1),g=S.useMemo(()=>t?Tie(t).map(T=>{const N=T.termAt,O=new Date(T.termAt.getTime()+1860*1e3),P=kt(O,a);return{at:N,gz:P,term:T.name,termAt:T.termAt}}):[],[t,a]),{date:v,setFromEvent:_}=ci(),w=yv(g,v);return x.jsxs("div",{className:"w-full max-w-[640px] mx-auto rounded-xl bg-white dark:bg-neutral-900 border border-neutral-200 dark:border-neutral-800 overflow-hidden",children:[x.jsx("div",{className:"px-3 py-2 text-sm font-semibold tracking-wider bg-neutral-50 dark:bg-neutral-800/60 text-neutral-700 dark:text-neutral-300",children:""}),x.jsx("div",{className:"flex gap-0.5 desk:gap-1 py-2 desk:p-2 flex-row-reverse",children:g.map((E,T)=>{const N=E.gz.charAt(0),O=E.gz.charAt(1),P=`${Aie(E.at)}`,C=T===w,D=li(N,"stem",i.charType),$=li(O,"branch",i.charType),H=Ba(N,"stem"),Y=Ba(O,"branch"),K=i.thinEum&&H?"font-thin":"font-bold",F=i.thinEum&&Y?"font-thin":"font-bold",z=i.showSibiUnseong?ko(m,O):null,X=i.showSibiSinsal?Ao({baseBranch:p,targetBranch:O,era:of(i.sinsalMode),gaehwa:!!i.sinsalBloom}):null;return x.jsxs("div",{onClick:()=>{r(E.at);const Q=new Date(E.at),{start:J}=Sie(Q);n?.(J.getFullYear(),J.getMonth()),_({at:Q,gz:kt(Q,a)},"")},className:`flex-1 rounded-sm desk:rounded-lg bg-white dark:bg-neutral-900 overflow-hidden cursor-pointer ${C?"border border-yellow-500":"border border-neutral-200 dark:border-neutral-800 hover:border-yellow-500"}`,title:`${E.term}   ${E.gz}  ${E.termAt.toLocaleString()}`,children:[x.jsx("div",{className:"desk:px-2 py-1 text-center text-[10px] bg-neutral-50 dark:bg-neutral-800/60 text-neutral-600 dark:text-neutral-300",children:P}),x.jsxs("div",{className:"p-2 flex flex-col items-center gap-1",children:[i.showSipSin&&x.jsx("div",{className:"text-[10px] text-neutral-500 dark:text-neutral-400 text-nowrap",children:da(m,{stem:N})}),x.jsx("div",{className:`w-7 h-7 sm:w-8 sm:h-8 md:w-10 md:h-10 rounded-sm md:rounded-lg flex items-center justify-center border border-neutral-200 dark:border-neutral-800 ${Ii(N,"stem",i)}`,children:x.jsx("span",{className:`text-base md:text-xl ${K}`,children:D})}),x.jsx("div",{className:`w-7 h-7 sm:w-8 sm:h-8 md:w-10 md:h-10 rounded-sm md:rounded-lg flex items-center justify-center border border-neutral-200 dark:border-neutral-800 ${Ii(O,"branch",i)}`,children:x.jsx("span",{className:`text-base md:text-xl ${F}`,children:$})}),i.showSipSin&&x.jsx("div",{className:"text-[10px] text-neutral-500 dark:text-neutral-400 text-nowrap",children:da(m,{branch:O})}),(i.showSibiUnseong||i.showSibiSinsal)&&x.jsxs("div",{className:"text-[10px] text-neutral-500 dark:text-neutral-400 text-center text-nowrap",children:[i.showSibiUnseong&&z&&x.jsx("div",{children:z}),i.showSibiSinsal&&X&&x.jsx("div",{children:X})]}),x.jsx("div",{className:"text-[10px] text-neutral-400 dark:text-neutral-500 text-nowrap",children:E.term})]})]},`${E.term}-${E.at.toISOString()}`)})})]})}function jie(){const e=qn(r=>r.settings),{date:t,setFromEvent:n}=ci();return{settings:e,pickedDate:t,setFromEvent:n}}const Nie=(e,t)=>new Date(e,t,15,12,0,0,0),TE=e=>{const t=new Date(e);return t.setHours(23,59,0,0),t},Cie=new Set(["","","","","","","","","","","",""]),O4=e=>[...ca(new Date(e-1,5,15,12,0))??[],...ca(new Date(e,5,15,12,0))??[],...ca(new Date(e+1,5,15,12,0))??[]].map(n=>({name:String(n.name),date:new Date(n.date)})).sort((n,r)=>n.date.getTime()-r.date.getTime()),Mie=e=>{const t=O4(e.getFullYear()),n=t.filter(o=>Cie.has(o.name));if(n.length<12){const o=t.findIndex(f=>f.date>e),c=t[Math.max(0,o-1)],u=t[Math.min(t.length-1,o)];return{start:new Date(c.date),end:new Date(u.date),cur:c,next:u}}let r=n.findIndex(o=>o.date>e)-1;r<0&&(r=n.length-1);const i=n[r],a=n[(r+1)%n.length];return{start:new Date(i.date),end:new Date(a.date),cur:i,next:a}},Pie=e=>{if(!e)return null;const t=new Intl.DateTimeFormat("ko-KR",{timeZone:"Asia/Seoul",month:"numeric",day:"numeric",hour:"2-digit",minute:"2-digit",hour12:!1}).formatToParts(e);let n="",r="",i="",a="";for(const o of t)o.type==="month"&&(n=o.value),o.type==="day"&&(r=o.value),o.type==="hour"&&(i=o.value),o.type==="minute"&&(a=o.value);return`${n}/${r} ${i}:${a}`};function Die({data:e,year:t,month:n,selectedMonth:r,settings:i,pickedDate:a}){const o=i.ilunRule||"/",c=S.useMemo(()=>{const H=bv(e);return Al(H)},[e]),u=S.useMemo(()=>c?gt(c,o).charAt(0):void 0,[c,o]),f=S.useMemo(()=>e?Al(e):null,[e]),m=S.useMemo(()=>e&&f?vv(e,f):null,[e,f]),p=e&&e.birthPlace&&e.birthPlace.name!==""&&e.birthPlace.lon!==0?e.birthPlace.lon:127.5,g=e&&m?i.sinsalBase===""?gt(m,o).charAt(1):at(m,p).charAt(1):null,v=S.useMemo(()=>Nie(t,n),[t,n]),_=S.useMemo(()=>a?TE(new Date(a)):null,[a]),w=S.useMemo(()=>r?TE(r):null,[r]),E=S.useMemo(()=>_??w??v,[_,w,v]),{start:T,end:N,cur:O,next:P}=S.useMemo(()=>Mie(E),[E]),C=S.useMemo(()=>{const H=[],Y=new Date(T);for(;Y<N;)H.push(new Date(Y)),Y.setDate(Y.getDate()+1);return H},[T,N]),D=S.useMemo(()=>{const H=O4(E.getFullYear()),Y=H.filter(F=>F.date>=T&&F.date<N),K=H.find(F=>F.date>=N);return K?[...Y,K]:Y},[E,T,N]),$=S.useMemo(()=>{const H=[];let Y=[];const K=new Date(T).getDay();for(let F=0;F<K;F+=1)Y.push(null);for(const F of C)Y.length===7&&(H.push(Y),Y=[]),Y.push(F);for(;Y.length<7;)Y.push(null);return H.push(Y),H},[C,T]);return{rule:o,dayStem:u,baseBranch:g,pickerNoon:_,termMarks:D,weeks:$,cur:O??null,next:P??null}}function Rie({setFromEvent:e}){return{handleDayClick:S.useCallback(n=>{e({at:n},"")},[e])}}function Lie({data:e,year:t,month:n,selectedMonth:r}){const i=jie(),a=Die({data:e,year:t,month:n,selectedMonth:r,settings:i.settings,pickedDate:i.pickedDate}),o=Rie({setFromEvent:i.setFromEvent});return x.jsxs("div",{className:"w-full max-w-[800px] mx-auto mb-4 rounded-xl bg-white dark:bg-neutral-900 border border-neutral-200 dark:border-neutral-800 overflow-hidden",children:[x.jsx("div",{className:"flex justify-center items-center px-2 desk:px-4 py-2 bg-neutral-50 dark:bg-neutral-800/60",children:x.jsxs("div",{className:"text-center text-[11px] desk:text-sm font-semibold text-neutral-700 dark:text-neutral-200",children:[a.cur?.name?x.jsxs(x.Fragment,{children:[a.cur.name," "," ~ ",a.next?.name??""]}):`${t} ${n}`,a.termMarks.length>0&&x.jsxs("div",{className:"mt-0.5 text-[10px] desk:text-xs font-normal text-neutral-500 dark:text-neutral-400",children:["[",a.termMarks.map((c,u)=>x.jsxs("span",{children:[c.name," ",Pie(c.date),u<a.termMarks.length-1?"  ":""]},`${c.name}_${c.date.getTime()}_${u}`)),"]"]})]})}),x.jsx("div",{className:"grid grid-cols-7 text-center text-xs bg-neutral-100 dark:bg-neutral-800 text-neutral-600 dark:text-neutral-300",children:["","","","","","",""].map(c=>x.jsx("div",{className:"py-1",children:c},c))}),x.jsx("div",{className:"grid grid-cols-7 gap-px bg-neutral-200 dark:bg-neutral-800",children:a.weeks.map((c,u)=>c.map((f,m)=>{if(!f)return x.jsx("div",{className:"bg-white dark:bg-neutral-900"},`${u}-${m}`);const p=TE(f),g=new Date,v=p.getFullYear()===g.getFullYear()&&p.getMonth()===g.getMonth()&&p.getDate()===g.getDate(),w=!!a.pickerNoon&&p.getFullYear()===a.pickerNoon.getFullYear()&&p.getMonth()===a.pickerNoon.getMonth()&&p.getDate()===a.pickerNoon.getDate()||!a.pickerNoon&&v,E=Nq(p,a.rule),T=E.charAt(0),N=E.charAt(1),O=li(T,"stem",i.settings.charType),P=li(N,"branch",i.settings.charType),C=i.settings.thinEum&&Ba(T,"stem")?"font-thin":"font-bold",D=i.settings.thinEum&&Ba(N,"branch")?"font-thin":"font-bold",$=!!a.dayStem&&i.settings.showSipSin,H=!!a.dayStem&&i.settings.showSibiUnseong,Y=!!a.dayStem&&a.baseBranch!=null&&i.settings.showSibiSinsal,K=$?da(a.dayStem,{stem:T}):"",F=$?da(a.dayStem,{branch:N}):"",z=H?ko(a.dayStem,N):"",X=Y?Ao({baseBranch:a.baseBranch,targetBranch:N,era:of(i.settings.sinsalMode),gaehwa:!!i.settings.sinsalBloom}):"",Q=a.termMarks.find(J=>J.date.getFullYear()===p.getFullYear()&&J.date.getMonth()===p.getMonth()&&J.date.getDate()===p.getDate());return x.jsxs("div",{onClick:()=>o.handleDayClick(p),className:`space-y-1 bg-white dark:bg-neutral-900 flex flex-col items-center justify-start p-1 text-xs border cursor-pointer ${w?"border-yellow-500":"border-neutral-200 dark:border-neutral-800"}`,title:`${E} (${p.toLocaleDateString()})`,children:[x.jsxs("div",{className:"text-neutral-600 dark:text-neutral-400 flex items-center gap-1",children:[x.jsx("span",{children:p.getDate()}),Q&&x.jsx("span",{className:"text-[10px] text-nowrap px-1 rounded bg-amber-100 text-amber-700 dark:bg-amber-900/40 dark:text-amber-200",children:Q.name})]}),$&&x.jsx("div",{className:"text-[10px] text-neutral-500 dark:text-neutral-400",children:K}),x.jsx("div",{className:`w-8 h-8 rounded flex items-center justify-center text-base ${Ii(T,"stem",i.settings)}`,children:x.jsx("span",{className:C,children:O})}),x.jsx("div",{className:`w-8 h-8 rounded flex items-center justify-center text-base ${Ii(N,"branch",i.settings)}`,children:x.jsx("span",{className:D,children:P})}),$&&x.jsx("div",{className:"text-[10px] text-neutral-500 dark:text-neutral-400",children:F}),(H||Y)&&x.jsxs("div",{className:"text-[10px] text-neutral-500 dark:text-neutral-400 text-center space-y-0.5",children:[H&&z&&x.jsx("div",{children:z}),Y&&X&&x.jsx("div",{children:X})]})]},f.toISOString())}))})]})}function dP(e,t){const n=e.at.getFullYear(),r=t?t.at.getFullYear():n+10,i=[];for(let a=n;a<r;a++){const o=Un(a,315);let c=a;new Date<o&&(c=a-1);const f=at(new Date(c,1,10));i.push({at:o,gz:f})}return i}function Iie({data:e}){const t=ou(e),[n,r]=S.useState(null),[i,a]=S.useState(null),[o,c]=S.useState("il"),[u,f]=S.useState(null);S.useEffect(()=>{if(!t.length)return;const _=new Date,w=t.findIndex((E,T)=>{const N=t[T+1]?.at;return _>=E.at&&(!N||_<N)});w!==-1&&r(w)},[t]),S.useEffect(()=>{if(n===null)return;const _=t[n],w=t[n+1];if(!_)return;const E=dP(_,w),T=new Date;E.findIndex((O,P)=>{const C=E[P+1]?.at;return T>=O.at&&(!C||T<C)})!==-1&&a({year:T.getFullYear(),month:T.getMonth()})},[n,t]);const m=D2(e),{date:p}=ci(),g=p.getMonth()+1===1?p.getFullYear()-1:p.getFullYear(),v=S.useMemo(()=>{if(!m?.dae?.gz)return[];const _=t.findIndex((T,N)=>{const O=t[N+1]?.at;return m.dae.at>=T.at&&(!O||m.dae.at<O)});if(_===-1)return[];const w=t[_],E=t[_+1];return dP(w,E)},[t,m?.dae]);return x.jsxs("div",{className:"w-full space-y-4",children:[x.jsx(bie,{data:e}),o==="se"||o==="wol"||o==="il"?x.jsx(_ie,{data:e,list:v,onSelect:()=>{c("wol")}}):null,o==="wol"||o==="il"?x.jsx(Oie,{data:e,activeYear:g,onSelect:(_,w)=>{a({year:_,month:w}),c("il")},onSelectMonth:f}):null,o==="il"&&i&&x.jsx(Lie,{data:e,year:i.year,month:i.month+1,selectedMonth:u})]})}const $ie=new Set(bq),Bie=new Set(vq);function fP(e){return typeof e=="string"&&e.length>=2&&$ie.has(e[0])&&Bie.has(e[1])}function ki(e,...t){if(fP(e))return e;for(const n of t)if(fP(n))return n;return""}const zie={:0,:2,:4,:6,:8,:10,:12,:14,:16,:18,:20,:22};function p0(e,t){let n=null;const r=t.getTime();for(const i of e)if(i.at.getTime()<=r)n=i;else break;return n}function Uie({data:e}){const t=qn(K=>K.settings),{manualHour:n}=Gm(),{showSibiUnseong:r,showSibiSinsal:i,sinsalBase:a,sinsalMode:o,sinsalBloom:c}=t,{date:u}=ci(),f=S.useMemo(()=>Zm(e),[e]),m=S.useMemo(()=>pv(f),[f]),p=S.useMemo(()=>P2(f,"/"),[f]),g=S.useMemo(()=>rv(p.day?.charAt(0)??""),[p.day]),v=!e.birthTime||e.birthTime==="",_=S.useMemo(()=>Q5(m,p.hour,e.dir??"forward",120,"/"),[m,p.hour,e.dir]),w=S.useMemo(()=>t4(_,p.day,e.dir??"forward",""),[_,p.day,e.dir]),E=S.useMemo(()=>Jm(m,p.month,e.dir??"forward",120,f.birthPlace?.lon??127.5),[m,p.month,e.dir,f.birthPlace?.lon]),T=S.useMemo(()=>n4(E,p.year,e.dir??"forward","",m),[E,p.year,e.dir,m]),N=S.useMemo(()=>{const K=_?.events?.[0];return K?{at:K.at,from:ki(p.hour),to:ki(K.gz)}:null},[_?.events,p.hour]),O=S.useMemo(()=>{const K=E?.events?.[0];return E?.firstChange?{at:E.firstChange,from:ki(p.month),to:ki(K?.gz??p.month)}:null},[E?.firstChange,E?.events,p.month]),P=S.useMemo(()=>{const K=v?n?n.stem+n.branch:"":ki(p0(_.events,u)?.gz,p.hour);let F;if(v&&n){const z=u.getFullYear(),X=u.getMonth(),Q=u.getDate(),J=zie[n.branch]??0,q=new Date(z,X,Q,J,0),Z=gt(q,e.mingSikType??"/");F=ki(Z,p.day)}else F=ki(p0(w.events,u)?.gz,p.day);return{si:K,il:F,wl:ki(p0(E.events,u)?.gz,p.month),yn:ki(p0(T.events,u)?.gz,p.year)}},[u,_.events,w.events,E.events,T.events,p,v,n,e.mingSikType]),C=S.useMemo(()=>({si:ki($a(u,"/")),il:ki(gt(u,"/")),wl:ki(kt(u)),yn:ki(at(u))}),[u]),D=S.useMemo(()=>a===""?p.day.charAt(1):p.year.charAt(1),[a,p.day,p.year]),$=S.useMemo(()=>of(o),[o]),H=K=>{if(!K)return{unseong:"",shinsal:""};const F=li(g,"stem",""),z=li(K.charAt(1),"branch",""),X=li(D,"branch","");return{unseong:r&&ko(F,z)||"",shinsal:i&&Ao({baseBranch:X,targetBranch:z,era:$,gaehwa:!!c})||""}},Y=(K,F,z="myoun")=>{const X=F,{unseong:Q,shinsal:J}=F?H(F):{unseong:"",shinsal:""},q=z==="myoun"&&v&&(K===""||K==="");return x.jsx(md,{label:K,gz:X,dayStem:g,settings:t,unseongText:F?Q:"",shinsalText:F?J:"",hideBranchSipSin:!0,size:"sm",isUnknownTime:q},`${z}-${K}`)};return x.jsxs("div",{className:"w-full max-w-[640px] mx-auto mb-4 px-2 py-4 desk:p-4 bg-white dark:bg-neutral-950 text-neutral-900 dark:text-neutral-100 rounded-xl shadow border border-neutral-200 dark:border-neutral-800",children:[x.jsx("header",{className:"flex flex-wrap items-center gap-3 justify-between mb-4",children:x.jsxs("div",{className:"font-semibold text-xs desk:text-sm",children:[" +   "," ",x.jsxs("span",{className:"text-neutral-500 dark:text-neutral-400",children:["(: ",nm(m),")"]})]})}),x.jsxs("div",{className:"grid grid-cols-2 gap-2 desk:gap-4 mb-6",children:[x.jsxs("div",{children:[x.jsx("label",{className:"block text-xs mb-2 text-neutral-600 dark:text-neutral-300",children:""}),x.jsxs("div",{className:"grid grid-cols-4 gap-1 desk:gap-2",children:[Y("",P.si,"myoun"),Y("",P.il,"myoun"),Y("",P.wl,"myoun"),Y("",P.yn,"myoun")]})]}),x.jsxs("div",{children:[x.jsx("label",{className:"block text-xs mb-2 text-neutral-600 dark:text-neutral-300",children:" "}),x.jsxs("div",{className:"grid grid-cols-4 gap-1 desk:gap-2",children:[Y("",C.si,"live"),Y("",C.il,"live"),Y("",C.wl,"live"),Y("",C.yn,"live")]})]})]}),x.jsxs("div",{className:"mt-4 text-xs text-neutral-700 dark:text-neutral-300 space-y-1",children:[x.jsx("div",{className:"font-semibold",children:"  "}),x.jsxs("div",{children:[":"," ",N?`${nm(N.at)} (${N.from}  ${N.to})`:" "]}),x.jsxs("div",{children:[":"," ",O?`${nm(O.at)} (${O.from}  ${O.to})`:" "]})]})]})}const hP=["","","","","","","","","",""],Hie={:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},Fie={:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},Gie={:"",:"",:"",:"",:""},qie={:"",:"",:"",:"",:""},Yie={:"",:"",:"",:"",:""},Kie={:"",:"",:"",:"",:""};function Wie(e,t){switch(e){case"":return t;case"":return Gie[t];case"":return Yie[t];case"":return Kie[t];case"":return qie[t];default:return t}}function Vie({data:e,perStemElementScaled:t,elementPercent:n,dayStem:r,width:i=280,height:a=280,revKey:o}){const c=i,u=a,f=c/2,m=u/2,p=Math.min(c,u)*.37,g=S.useMemo(()=>{const O=(r??"").charAt(0);return Fie[O]??null},[r]),v=O=>Math.PI/2+2*-Math.PI*O/5,_=S.useMemo(()=>e.map((O,P)=>({...O,x:f+p*Math.cos(v(P)),y:m-p*Math.sin(v(P))})),[e,f,m,p]),[w,E]=S.useState(0),T=S.useRef(""),N=S.useMemo(()=>{const O=e.map(D=>`${D.name}:${D.value}`).join(","),P=hP.map(D=>`${D}:${t?.[D]??0}`).join(","),C=n?`:${n.??0},:${n.??0},:${n.??0},:${n.??0},:${n.??0}`:"el:none";return[o??"",O,P,C,r??""].join("||")},[o,e,t,r,n]);return S.useEffect(()=>{N!==T.current&&(T.current=N,E(O=>O+1))},[N]),x.jsx("div",{className:"w-full",children:x.jsxs("svg",{width:c,height:u,className:"mx-auto pt-2",children:[_.map((O,P)=>{const C=_[(P+2)%5];return x.jsx("line",{x1:O.x,y1:O.y,x2:C.x,y2:C.y,stroke:"#94a3b8",strokeWidth:1},`line-${P}`)}),_.map((O,P)=>{const C=_[(P+1)%5],D=(O.x+C.x)/2,$=(O.y+C.y)/2,H=D-f,Y=$-m,K=1.5,F=f+H*K,z=m+Y*K;return x.jsx("path",{d:`M${O.x},${O.y} Q${F},${z} ${C.x},${C.y}`,stroke:"#ef4444",strokeWidth:1.5,fill:"none",markerEnd:"url(#arrow)"},`curve-${P}`)}),x.jsx("defs",{children:x.jsx("marker",{id:"arrow",markerWidth:"6",markerHeight:"6",refX:"5",refY:"3",orient:"auto",children:x.jsx("path",{d:"M0,0 L6,3 L0,6 Z",fill:"#ef4444"})})}),_.map(O=>{const P=O.name,C=g?Wie(P,g):null,D=C?hP.filter($=>Hie[$]===C).map($=>[$,t?.[$]??0]):[];return x.jsxs("g",{transform:`translate(${O.x},${O.y})`,children:[x.jsx("circle",{r:33,fill:O.color??"#334155",opacity:O.value===0?.7:1}),x.jsxs("text",{textAnchor:"middle",dy:"-6",fontSize:14,className:"fill-white font-semibold",children:[O.name," ",O.value]}),D.map(([$,H],Y)=>x.jsxs("text",{textAnchor:"middle",dy:8+Y*11,fontSize:10,className:"fill-white",children:[$," ",Math.round(H)]},$))]},`${O.name}-${O.value}`)})]},w)})}const Zie=[{name:"",min:0,max:10},{name:"",min:10,max:20},{name:"",min:20,max:35},{name:"",min:35,max:45},{name:"",min:45,max:55},{name:"",min:55,max:65},{name:"",min:65,max:80},{name:"",min:80,max:100.0001}];function Z2(e){return Math.max(0,Math.min(100,e))}function j4(e){const t=Z2(e);return Zie.find(r=>t>=r.min&&t<r.max)?.name??""}const Xie=[10,20,35,45,55,65,80];function Jie({value:e}){const t=S.useMemo(()=>Z2(e),[e]),n=S.useMemo(()=>j4(t),[t]);return x.jsxs("div",{className:"w-full mx-auto p-2 desk:p-4 bg-neutral-100 dark:bg-neutral-800 rounded-xl",children:[x.jsxs("div",{className:"flex justify-between text-[11px] text-neutral-400 mb-1",children:[x.jsx("span",{children:""}),x.jsx("span",{children:""}),x.jsx("span",{children:""})]}),x.jsxs("div",{className:"relative h-4 rounded bg-gradient-to-r from-blue-500 via-yellow-400 to-red-500",children:[Xie.map(r=>x.jsx("div",{className:"absolute top-0 h-4 w-[1px] bg-black/30",style:{left:`${r}%`},title:`${r}%`},r)),x.jsx("div",{className:"absolute top-0 h-4 w-[1px] bg-black/40",style:{left:"50%"},title:"50%"}),x.jsx("div",{className:"absolute -top-1 h-6 w-2 bg-white rounded shadow-sm",style:{left:`${t}%`,transform:"translateX(-50%)"},"aria-label":`  ${t}%`})]}),x.jsxs("div",{className:"mt-2 flex items-center gap-2",children:[x.jsx("span",{className:"inline-flex items-center px-2 py-0.5 rounded-full text-xs border border-neutral-600 text-neutral-700 dark:text-neutral-200",children:n}),x.jsxs("span",{className:"text-xs text-neutral-400",children:[t.toFixed(1),"%"]})]})]})}function Ch(e,t){if(e==="#")return"bg-neutral-100 text-neutral-500 border-neutral-200 dark:bg-neutral-900 dark:text-neutral-500 dark:border-neutral-700";switch(t){case"natal":return"bg-violet-100 text-violet-800 border-violet-200 dark:bg-violet-900/30 dark:text-violet-200 dark:border-violet-800";case"dae":return"bg-blue-100 text-blue-800 border-blue-200 dark:bg-blue-900/30 dark:text-blue-200 dark:border-blue-800";case"se":return"bg-green-100 text-green-800 border-green-200 dark:bg-green-900/30 dark:text-green-200 dark:border-green-800";case"wol":return"bg-orange-100 text-orange-800 border-orange-200 dark:bg-orange-900/30 dark:text-orange-200 dark:border-orange-800";case"il":return"bg-red-100 text-red-800 border-red-200 dark:bg-red-900/30 dark:text-red-200 dark:border-red-800";default:return""}}function ea({label:e,natal:t,dae:n,se:r,wol:i,il:a}){const o=n.length+r.length+i.length+a.length>0,c=t.length>0?t:["#"],u=o?c.filter(p=>p!=="#"):c,m=u.some(p=>p!=="#")||n.length>0||r.length>0||i.length>0||a.length>0?"shrink-0 w-20 text-xs font-semibold text-orange-700 dark:text-orange-300 mt-1":"shrink-0 w-20 text-xs font-semibold text-neutral-700 dark:text-neutral-400 mt-1";return x.jsxs("div",{className:"flex items-start gap-3 p-1 rounded-sm",children:[x.jsx("div",{className:m,children:e}),x.jsxs("div",{className:"flex flex-wrap gap-2",children:[u.map((p,g)=>x.jsx("span",{className:"text-xs px-2 py-1 rounded-full border whitespace-nowrap "+Ch(p,"natal"),children:p},`natal-${g}`)),n.map((p,g)=>x.jsx("span",{className:"text-xs px-2 py-1 rounded-full border whitespace-nowrap "+Ch(p,"dae"),children:p},`dae-${g}`)),r.map((p,g)=>x.jsx("span",{className:"text-xs px-2 py-1 rounded-full border whitespace-nowrap "+Ch(p,"se"),children:p},`se-${g}`)),i.map((p,g)=>x.jsx("span",{className:"text-xs px-2 py-1 rounded-full border whitespace-nowrap "+Ch(p,"wol"),children:p},`wol-${g}`)),a.map((p,g)=>x.jsx("span",{className:"text-xs px-2 py-1 rounded-full border whitespace-nowrap "+Ch(p,"il"),children:p},`il-${g}`))]})]})}function OE(e){return Array.isArray(e)?e:[]}function g0(e,t){const n=new Set(OE(e));return OE(t).filter(i=>!n.has(i))}function Qie({pillars:e,daewoon:t,sewoon:n,wolwoon:r,ilwoon:i,tab:a=""}){const o=K2(e),c=xl({natal:e}),u=t?xl({natal:e,daewoon:t}):c,f=n?xl({natal:e,daewoon:t,sewoon:n}):u,m=r?xl({natal:e,daewoon:t,sewoon:n,wolwoon:r}):f,p=i?xl({natal:e,daewoon:t,sewoon:n,wolwoon:r,ilwoon:i}):m,g=w=>({natal:OE(o[w]),dae:g0(c[w],u[w]),se:g0(u[w],f[w]),wol:g0(f[w],m[w]),il:g0(m[w],p[w])}),v={cheonganHap:g("cheonganHap"),cheonganChung:g("cheonganChung"),jijiSamhap:g("jijiSamhap"),jijiBanhap:g("jijiBanhap"),jijiBanghap:g("jijiBanghap"),jijiYukhap:g("jijiYukhap"),amhap:g("amhap"),ganjiAmhap:g("ganjiAmhap"),jijiChung:g("jijiChung"),jijiHyeong:g("jijiHyeong"),jijiPa:g("jijiPa"),jijiHae:g("jijiHae")},_=w=>a===""?{natal:w.natal,dae:[],se:[],wol:[],il:[]}:a===""?{natal:w.natal,dae:w.dae,se:[],wol:[],il:[]}:a===""?{natal:w.natal,dae:w.dae,se:w.se,wol:[],il:[]}:a===""?{natal:w.natal,dae:w.dae,se:w.se,wol:w.wol,il:[]}:a===""?{natal:w.natal,dae:w.dae,se:w.se,wol:w.wol,il:w.il}:{natal:[],dae:[],se:[],wol:[],il:[]};return x.jsxs("div",{className:"rounded-xl p-4 bg-neutral-100 dark:bg-neutral-900 text-neutral-900 dark:text-neutral-100 space-y-2",children:[x.jsx("div",{className:"text-base font-bold mb-1",children:""}),x.jsx(ea,{label:"",..._(v.cheonganHap)}),x.jsx(ea,{label:"",..._(v.cheonganChung)}),x.jsx("div",{className:"border-t border-neutral-200 dark:border-neutral-800 my-2"}),x.jsx(ea,{label:"",..._(v.jijiSamhap)}),x.jsx(ea,{label:"",..._(v.jijiBanhap)}),x.jsx(ea,{label:"",..._(v.jijiBanghap)}),x.jsx(ea,{label:"",..._(v.jijiYukhap)}),x.jsx(ea,{label:"",..._(v.amhap)}),x.jsx(ea,{label:"",..._(v.ganjiAmhap)}),x.jsx(ea,{label:"",..._(v.jijiChung)}),x.jsx(ea,{label:"",..._(v.jijiHyeong)}),x.jsx(ea,{label:"",..._(v.jijiPa)}),x.jsx(ea,{label:"",..._(v.jijiHae)})]})}function eae(e,t){if(e==="#")return"bg-neutral-100 text-neutral-500 border-neutral-200 dark:bg-neutral-900 dark:text-neutral-500 dark:border-neutral-700";switch(t){case"natal":return"bg-violet-100 text-violet-800 border-violet-200 dark:bg-violet-900/30 dark:text-violet-200 dark:border-violet-800";case"dae":return"bg-blue-100 text-blue-800 border-blue-200 dark:bg-blue-900/30 dark:text-blue-200 dark:border-blue-800";case"se":return"bg-green-100 text-green-800 border-green-200 dark:bg-green-900/30 dark:text-green-200 dark:border-green-800";case"wol":return"bg-orange-100 text-orange-800 border-orange-200 dark:bg-orange-900/30 dark:text-orange-200 dark:border-orange-800";case"il":return"bg-red-100 text-red-800 border-red-200 dark:bg-red-900/30 dark:text-red-200 dark:border-red-800";default:return""}}function tae({items:e,source:t}){const n=e.length>0?e:["#"];return x.jsx("div",{className:"flex flex-wrap gap-2",children:n.map((r,i)=>x.jsx("span",{className:"text-xs px-2 py-1 rounded-full border whitespace-nowrap "+eae(r,t),children:r},`${t}-${i}-${r}`))})}function mP({title:e,rows:t}){return x.jsxs("div",{className:"space-y-2 desk:flex-1 desk:px-1",children:[x.jsx("div",{className:"text-md font-bold text-neutral-800 dark:text-neutral-200 mt-2",children:e}),t.map(n=>{const i=n.items.some(a=>a!=="#")?"shrink-0 w-12 text-xs font-semibold text-orange-700 dark:text-orange-300 mt-1":"shrink-0 w-12 text-xs font-semibold text-neutral-700 dark:text-neutral-300 mt-1";return x.jsxs("div",{className:"flex items-start gap-3 p-1 rounded-sm",children:[x.jsx("div",{className:i,children:n.label}),x.jsx(tae,{items:n.items.length>0?n.items:["#"],source:n.source})]},`${e}-${n.label}`)})]})}function nae({pillars:e,daewoon:t,sewoon:n,wolwoon:r,ilwoon:i,tab:a=""}){const{settings:o}=qn(),[c,u]=S.useState(""),[f,m]=S.useState("");S.useEffect(()=>{o.sinsalBase===""?(u(""),m("")):(u(""),m(""))},[o.sinsalBase]);const p=S.useMemo(()=>({voidBasis:c===""?"day":"year",samjaeBasis:f===""?"day":"year"}),[c,f]),g=S.useMemo(()=>Id({natal:e,daewoon:t,sewoon:n,wolwoon:r,ilwoon:i,basis:p}),[e,t,n,r,i,p]),{good:v,bad:_,meta:w}=g,E=K=>K.map(F=>F==="#"?F:` ${F}`),T=(K,F)=>{const z=["natal"];return F===""&&z.push("natal"),F===""&&z.push("natal","dae"),F===""&&z.push("natal","dae","se"),F===""&&z.push("natal","dae","se","wol"),F===""&&z.push("natal","dae","se","wol","il"),K.filter(X=>z.includes(X.source))},N=[{label:"",items:E(v.si),source:"natal"},{label:"",items:E(v.il),source:"natal"},{label:"",items:E(v.wol),source:"natal"},{label:"",items:E(v.yeon),source:"natal"},{label:"",items:v.dae,source:"dae"},{label:"",items:v.se,source:"se"},{label:"",items:v.wolun,source:"wol"},{label:"",items:v.ilun,source:"il"}],O=[{label:"",items:E(_.si),source:"natal"},{label:"",items:E(_.il),source:"natal"},{label:"",items:E(_.wol),source:"natal"},{label:"",items:E(_.yeon),source:"natal"},{label:"",items:_.dae,source:"dae"},{label:"",items:_.se,source:"se"},{label:"",items:_.wolun,source:"wol"},{label:"",items:_.ilun,source:"il"}],P=T(N,a),C=T(O,a),D=w.voidPair.day?`(${w.voidPair.day.join("")})`:"()",$=w.voidPair.year?`(${w.voidPair.year.join("")})`:"()",H=w.samjaeYears.day?`(${w.samjaeYears.day.join("")})`:"()",Y=w.samjaeYears.year?`(${w.samjaeYears.year.join("")})`:"()";return x.jsxs("div",{className:"rounded-xl p-4 bg-neutral-100 dark:bg-neutral-900 text-neutral-900 dark:text-neutral-100 space-y-2",children:[x.jsx("div",{className:"text-base font-bold mb-1",children:"(/)"}),x.jsxs("div",{className:"flex flex-wrap items-center gap-3 text-xs",children:[x.jsxs("div",{className:"flex items-center gap-2",children:[x.jsx("label",{className:"text-neutral-600 dark:text-neutral-300",children:" "}),x.jsxs("select",{value:c,onChange:K=>u(K.target.value),className:"px-2 h-30 rounded border border-neutral-300 dark:border-neutral-700 bg-white dark:bg-neutral-800",children:[x.jsx("option",{value:"",children:D}),x.jsx("option",{value:"",children:$})]})]}),x.jsxs("div",{className:"flex items-center gap-2",children:[x.jsx("label",{className:"text-neutral-600 dark:text-neutral-300",children:" "}),x.jsxs("select",{value:f,onChange:K=>m(K.target.value),className:"px-2 h-30 rounded border border-neutral-300 dark:border-neutral-700 bg-white dark:bg-neutral-800",children:[x.jsx("option",{value:"",children:H}),x.jsx("option",{value:"",children:Y})]})]})]}),x.jsxs("div",{className:"desk:flex",children:[x.jsx(mP,{title:"()",rows:P}),x.jsx("div",{className:"block desk:hidden border-t border-neutral-200 dark:border-neutral-800 mt-4 mb-3"}),x.jsx(mP,{title:"()",rows:C})]})]})}const ia={year:0,month:1,day:2,hour:3},N4={[ia.year]:.3,[ia.month]:.5,[ia.day]:.3,[ia.hour]:.3},C4={[ia.year]:.15,[ia.month]:.2,[ia.day]:0,[ia.hour]:.15},rae=e=>sm.has(e)?e:Gn[e]??e,iae=e=>Cd.has(e)?e:Rn[e]??e,aae=e=>typeof e=="string"&&e.length>=2?rae(e.slice(-1)):"",oae=e=>typeof e=="string"&&e.length>=1?iae(e.slice(0,1)):"",vn=(e,t,n,r)=>({han:e,nan:t,jo:n,seup:r}),sae={:vn(2,0,.5,2),:vn(2,0,0,2),:vn(2,0,0,2),:vn(0,2,2,0),:vn(0,2,2,0),:vn(0,2,1,2),:vn(0,2,2,.5),:vn(0,2,2,0),:vn(0,2,2,1),:vn(2,0,0,2),:vn(2,0,0,2),:vn(2,0,1,1)},lae={:vn(0,1,1,0),:vn(0,1,1,0),:vn(0,2,2,0),:vn(0,2,2,0),:vn(0,0,1,0),:vn(0,0,0,1),:vn(1,0,0,1),:vn(1,0,0,1),:vn(2,0,0,2),:vn(2,0,0,2)},pP=e=>Math.max(0,Math.min(100,e));function gP(e,t){const n=Math.max(0,e),r=Math.max(0,t),i=n+r;return i<=0?50:r/i*100}function cae(e){let t=0,n=0,r=0,i=0;return[ia.year,ia.month,ia.day,ia.hour].forEach(a=>{const o=sae[aae(e[a])],c=lae[oae(e[a])],u=N4[a],f=C4[a];u>0&&o&&(t+=o.han*u,n+=o.nan*u,r+=o.jo*u,i+=o.seup*u),f>0&&c&&(t+=c.han*f,n+=c.nan*f,r+=c.jo*f,i+=c.seup*f)}),{han:t,nan:n,jo:r,seup:i}}function uae(e){const t=Array.isArray(e)?e.slice(0,4):[];for(;t.length<4;)t.push("");return t.map(n=>typeof n=="string"?n:"")}function dae(e){const t=uae(e);return S.useMemo(()=>{const{han:n,nan:r,jo:i,seup:a}=cae(t),o=gP(n,r),c=gP(a,i);return{hanNanPct:pP(o),joSeupPct:pP(c),raw:{han:n,nan:r,jo:i,seup:a},weights:{branch:N4,stem:C4}}},[t])}function yP({label:e,percent:t,leftHint:n,midHint:r,rightHint:i}){const a=S.useMemo(()=>Math.max(0,Math.min(100,t)),[t]),o=[10,20,35,45,55,65,80];return x.jsxs("div",{className:"w-full mx-auto p-2 desk:p-4 bg-neutral-100 dark:bg-neutral-800 rounded-xl",children:[x.jsxs("div",{className:"flex justify-between text-[11px] text-neutral-400 mb-1",children:[x.jsx("span",{children:n}),x.jsx("span",{children:r}),x.jsx("span",{children:i})]}),x.jsxs("div",{className:"relative h-4 rounded bg-gradient-to-r from-blue-500 via-yellow-400 to-red-500",children:[o.map(c=>x.jsx("div",{className:"absolute top-0 h-4 w-[1px] bg-black/30",style:{left:`${c}%`},title:`${c}%`},c)),x.jsx("div",{className:"absolute top-0 h-4 w-[1px] bg-black/40",style:{left:"50%"},title:"50%"}),x.jsx("div",{className:"absolute -top-1 h-6 w-2 bg-white rounded shadow-sm",style:{left:`${a}%`,transform:"translateX(-50%)"},"aria-label":`${e} ${a.toFixed(1)}%`})]}),x.jsxs("div",{className:"mt-2 flex items-center gap-2",children:[x.jsx("span",{className:"inline-flex items-center px-2 py-0.5 rounded-full text-xs border border-neutral-600 text-neutral-700 dark:text-neutral-200",children:e}),x.jsxs("span",{className:"text-xs text-neutral-400",children:[a.toFixed(1),"%"]})]})]})}function fae({natal:e}){const{hanNanPct:t,joSeupPct:n}=dae(e);return x.jsxs("div",{className:"flex gap-2",children:[x.jsx(yP,{label:"",percent:t,leftHint:"",midHint:"",rightHint:""}),x.jsx(yP,{label:"",percent:n,leftHint:"",midHint:"",rightHint:""})]})}const Rr={:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},Ca={:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},hae={:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},Zy={:"",:"",:"",:"",:""},M4={:"",:"",:"",:"",:""},vm={:"",:"",:"",:"",:""},P4={:"",:"",:"",:"",:""},mae={:{:{stem:"",w:10},:{stem:"",w:20}},:{:{stem:"",w:9},:{stem:"",w:3},:{stem:"",w:18}},:{:{stem:"",w:7},:{stem:"",w:7},:{stem:"",w:16}},:{:{stem:"",w:10},:{stem:"",w:20}},:{:{stem:"",w:9},:{stem:"",w:3},:{stem:"",w:18}},:{:{stem:"",w:7},:{stem:"",w:7},:{stem:"",w:16}},:{:{stem:"",w:10},:{stem:"",w:9},:{stem:"",w:11}},:{:{stem:"",w:9},:{stem:"",w:3},:{stem:"",w:18}},:{:{stem:"",w:7},:{stem:"",w:7},:{stem:"",w:16}},:{:{stem:"",w:10},:{stem:"",w:20}},:{:{stem:"",w:9},:{stem:"",w:3},:{stem:"",w:18}},:{:{stem:"",w:7},:{stem:"",w:7},:{stem:"",w:16}}},pae={:["","",""],:["","",""],:["","",""],:["","",""],:["","",""],:["","",""],:["","",""],:["","",""],:["","",""],:["","",""],:["","",""],:["","",""]},Ww={:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},D4={:"",:"",:"",:"",:""},R4={:"",:"",:"",:""},gae=[{a:"",b:"",to:""},{a:"",b:"",to:""},{a:"",b:"",to:""},{a:"",b:"",to:""},{a:"",b:"",to:""}],yae=[["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""]],bae={:!0,:!1,:!0,:!1,:!0,:!1,:!0,:!1,:!0,:!1},Ye=(e,t)=>`${e}${t}`,Ti=(e,t,n)=>`${e}${t}${n}`,vae={:["",""],:["",""],:["",""],:["",""],:["",""],:["",""],:["",""],:["",""],:["",""],:["",""],:["",""],:["",""]},bP={[Ye("","")]:[""],[Ye("","")]:["",""],[Ye("","")]:["",""],[Ye("","")]:[""],[Ye("","")]:[""],[Ye("","")]:[""],[Ye("","")]:["",""],[Ye("","")]:[""],[Ye("","")]:[""],[Ye("","")]:[""],[Ye("","")]:[""],[Ye("","")]:[""],[Ye("","")]:[""],[Ye("","")]:[""],[Ye("","")]:[""],[Ye("","")]:[""],[Ye("","")]:[""],[Ye("","")]:[""],[Ye("","")]:[""],[Ye("","")]:[""],[Ye("","")]:[""],[Ye("","")]:[""],[Ye("","")]:[""],[Ye("","")]:[""],[Ye("","")]:[""],[Ye("","")]:[""],[Ye("","")]:[""],[Ye("","")]:[""],[Ye("","")]:[""],[Ye("","")]:[""],[Ye("","")]:[""],[Ye("","")]:[""],[Ye("","")]:[""],[Ye("","")]:[""],[Ye("","")]:[""],[Ye("","")]:[""],[Ye("","")]:[""],[Ye("","")]:[""],[Ye("","")]:[""],[Ye("","")]:[""],[Ye("","")]:[""],[Ye("","")]:[""],[Ye("","")]:[""],[Ye("","")]:[""],[Ye("","")]:[""],[Ye("","")]:[""],[Ye("","")]:[""],[Ye("","")]:["",""],[Ye("","")]:[""],[Ye("","")]:[""],[Ye("","")]:[""],[Ye("","")]:[""],[Ye("","")]:[""],[Ye("","")]:[""],[Ye("","")]:[""]},vP={[Ti("","","")]:[""],[Ti("","","")]:[""],[Ti("","","")]:[""],[Ti("","","")]:[""],[Ti("","","")]:[""],[Ti("","","")]:[""],[Ti("","","")]:[""],[Ti("","","")]:[""],[Ti("","","")]:[""],[Ti("","","")]:[""],[Ti("","","")]:["",""]},xae={:"",:"",:"",:"",:"",:"",:"",:"",:"",:""};function aa(e){return["","","","",""].includes(e)}function _ae(e){return["","","","","",""].includes(e)}const Vw=e=>({:"",:"",:"",:"",:"",:"",:"",:"",:"",:""})[e]??e,na=e=>e&&e.length>=1?e.charAt(0):"",En=e=>e&&e.length>=2?e.charAt(1):"",wae=e=>Array.from(new Set(e));function Sae(e,t){const n=pae[e];if(!n)return!1;const r=new Set(t.filter(Boolean));return n.filter(a=>a!==e).every(a=>r.has(a))}function Eae(e){return Rr[e]??""}function Ma(e,t){const n=Rr[e],r=Rr[t];if(!n||!r)return"";let i;r===n?i="":r===Zy[n]?i="":r===vm[n]?i="":r===P4[n]?i="":r===M4[n]?i="":i="";const a=aa(e)===aa(t);switch(i){case"":return a?"":"";case"":return a?"":"";case"":return a?"":"";case"":return a?"":"";case"":return a?"":""}}function kae(e,t){const n=Rr[e],r=Ca[t];if(!n||!r)return"";let i;r===n?i="":r===Zy[n]?i="":r===vm[n]?i="":r===P4[n]?i="":r===M4[n]?i="":i="";const a=_ae(t)===aa(e);switch(i){case"":return a?"":"";case"":return a?"":"";case"":return a?"":"";case"":return a?"":"";case"":return a?"":""}}function Aae(e){return{:"",:"",:"",:"",:""}[e]??""}function jE(e,t){const n=Eae(e),r=aa(e);let i;t===n?i="":Zy[n]===t?i="":Zy[t]===n?i="":vm[n]===t?i="":vm[t]===n?i="":i="";const a=r===aa(Aae(t));switch(i){case"":return a?"":"";case"":return a?"":"";case"":return a?"":"";case"":return a?"":"";case"":return a?"":""}}const Tae={:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},Oae=e=>/^(|||||||||)$/.test(e);function jae(e){return e?Oae(e)?e:Tae[e]??"":""}function y0(e){return jae(na(e))}function Nae(e){return e?.charAt(0)??""}function Cae(e){return e?.charAt(1)??""}function Mae(e,t,n){const[r,i,a,o]=(e??[]).slice(0,4),c=fe=>(fe?.length??0)>=1?fe.charAt(0):"",u=fe=>(fe?.length??0)>=2?fe.charAt(1):"",f=[r,i,a,o].map(c).filter(Boolean),m=new Set(Object.keys(Ca)),p=[r,i,a,o].map(u).filter(fe=>!!fe&&m.has(fe)),g=c(a),v=bae[g]??!1,_=new Set,w=t==="classic"?tv:nv,E=new Set(["","","","","","","","","",""]),T=fe=>(w[fe]??[]).filter(Me=>E.has(Me)),N=(fe,Me)=>{const Be=Ca[Me];return Be?jE(fe,Be):null},O={:0,:0,:0,:0,:0};for(const fe of f){const Me=Rr[fe];Me&&(O[Me]+=10)}const P=[];for(const fe of p){const Me=hae[fe];Me&&P.push(Me);const Be=Ca[fe];Be&&(O[Be]+=6)}const D=[...f,...P].map(fe=>Ma(g,fe)),$={:["",""],:["",""],:["",""],:["",""],:["",""]},H=fe=>D.filter(Me=>Me===fe).length,Y=fe=>D.filter(Me=>$[fe].includes(Me)).length,K=p[1],F=!!g&&xae[g]===K,z=n.elementPercent100;z.>=20&&z.>=20&&z.>=15&&_.add("");const X=[r,i,a,o].filter(Boolean),Q=[];for(const fe of X){const Me=fe.charAt(0),Be=fe.charAt(1);Q.push(Ma(g,Me)),Q.push(N(g,Be))}const J=(fe,Me)=>{const Be=(lt,jt)=>!!lt&&!!jt&&fe.includes(lt)&&Me.includes(jt)||Me.includes(lt)&&fe.includes(jt);for(let lt=0;lt+1<Q.length;lt+=2)if(Be(Q[lt],Q[lt+1]))return!0;return!1},q=fe=>Q.some(Me=>!!Me&&fe.includes(Me)),Z=H("")+H(""),re=H(""),ue=Y(""),se=Y(""),B=J(["",""],["",""]);if((re>=1||Z>=2)&&ue>=1&&Z>ue&&se<=1&&B&&_.add(""),q($.)&&q($.)&&J($.,$.)){const fe=D.includes("");_.add(fe?"":"")}Y("")>=2&&Y("")>=2&&Math.abs(Y("")-Y(""))<=1&&Y("")<=1&&Y("")<=1&&_.add("");const W=H(""),ae=H(""),V=H("")+H(""),oe=H("")+H(""),me=Y("");ae>=2&&V>=1&&O.+O.>=20&&_.add(""),ae>=2&&oe>=1&&O.+O.>=20&&_.add(""),ae>=2&&oe>=1&&O.+O.>=20&&J([""],["",""])&&me<=1&&_.add(""),W>=2&&oe>=1&&O.+O.>=20&&J([""],["",""])&&me<=1&&_.add("");const pe=(fe,Me)=>{const Be=Rr[fe],lt=Ca[Me];return!!Be&&!!lt&&Be===lt},be=[r,i,a,o].filter(Boolean),ne=u(a),Oe=pe(g,ne),Ce=be.map(fe=>fe.charAt(0)).filter(fe=>["",""].includes(Ma(g,fe)));let ve=!1;for(const fe of be){const Me=fe.charAt(0),Be=fe.charAt(1);if(Ce.includes(Me)&&pe(Me,Be)){ve=!0;break}}Oe&&ve&&_.add(""),Y("")>=3&&Y("")>=.5*(Y("")+Y("")+Y("")+Y(""))&&_.add(""),Y("")>=3&&Y("")>=.5*(Y("")+Y("")+Y("")+Y(""))&&_.add(""),Y("")>=3&&Y("")>=1&&_.add(""),Y("")>=3&&Y("")+Y("")<=1&&_.add("");const Ze=H("");Y("")+Y("")>=2&&Ze===1&&Y("")>=1&&_.add(""),Ze>=2&&V+Y("")>=3&&_.add("");const Ne=W+ae;(W>=2||Ne>=2)&&oe>=1&&Ne>oe&&_.add(""),ae>=2&&oe>=1&&Ne>oe&&_.add("");const _e=H(""),je=H("");_e>=2&&Ze+je>=1&&_.add(""),_e>=2&&Ze+je===0&&_.add(""),v&&_e>=2&&Ze>=1&&_.add(""),!v&&_e>=2&&Ze>=1&&_.add(""),H("")>=2&&H("")>=1&&_.add(""),H("")>=1&&H("")>=1&&J([""],[""])&&_.add(""),F&&Ze>=1&&Y("")+Y("")>=2&&_.add("");const Le=[u(r),u(i),u(a),u(o)].filter(Boolean),Ve=[r?.charAt(0),i?.charAt(0),o?.charAt(0)].filter(Boolean),bt=new Set(Ve.map(fe=>Ma(g,fe))),xt=new Set(Le.flatMap(fe=>{const Me=Ca[fe];return Me?[jE(g,Me)]:[]})),Pt=new Set(Le.flatMap(fe=>T(fe).map(Me=>Ma(g,Me))));return["","","","",""].forEach(fe=>{const Me=$[fe],Be=Me.some(yt=>bt.has(yt)),lt=Me.some(yt=>xt.has(yt)),jt=Me.some(yt=>Pt.has(yt));!Be&&!lt&&!jt?_.add(`${fe}`):!Be&&!lt&&jt&&_.add(`${fe}`)}),Array.from(_)}const Pae=e=>{const t={:0,:0,:0,:0,:0};for(const n of e){const r=na(n),i=En(n),a=Rr[r],o=Ca[i];a&&(t[a]+=10),o&&(t[o]+=6)}return t};function Dae(e){const{pillars:t,dayStem:n,monthBranch:r,mapping:i}=e,[a,o,c,u]=(t??[]).slice(0,4),f=[na(a),na(o),na(c),na(u)].filter(Boolean),m=[En(a),En(o),En(c),En(u)].filter(Boolean),p=Rr[n],g=f.map(fe=>Ma(n,fe)),v=[],_=fe=>f.filter(Me=>Me===fe).length,w=fe=>m.filter(Me=>Me===fe).length,E=fe=>fe.every(Me=>m.includes(Me)),T=fe=>g.some(Me=>fe.includes(Me)),N=na(o),O=fe=>aa(fe),P=()=>{const fe=f.map(Me=>Rr[Me]);return fe.length===4&&fe.every(Me=>Me===fe[0])},C=()=>{if(f.length!==4)return!1;const fe=f.map(O),Me=fe[0]&&!fe[1]&&fe[2]&&!fe[3],Be=!fe[0]&&fe[1]&&!fe[2]&&fe[3];return Me||Be};aa(n)&&D4[n]===r&&v.push("");const D=[["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""]];for(const[fe,Me]of D)if(n===fe&&r===Me){v.push("");break}!aa(n)&&R4[n]===r&&v.push("");const $=Ww[n];$&&En(c)===$&&p===Ca[En(c)]&&v.push(""),$&&En(u)===$&&p===Ca[En(u)]&&v.push("");const H=[a,o,c,u].map(Nae),Y=[a,o,c,u].map(Cae);for(const fe of H);for(const fe of Y);const K=i==="hgc"?nv:tv;function F(fe){return(K[fe]??[]).filter(Me=>["","","","","","","","","",""].includes(Me))}const z=[a,o,c,u].filter(Boolean),Q=z.flatMap(fe=>[fe.charAt(0),fe.charAt(1)]).flatMap(fe=>{try{if(["","","","","","","","","",""].includes(fe))return[Ma(n,fe)];if(["","","","","","","","","","","",""].includes(fe)){const Me=kae(n,fe),Be=F(fe).map(lt=>Ma(n,lt));return[Me,...Be]}return[]}catch{return[]}}),J=fe=>Q.some(Me=>fe.includes(Me)),q=(fe,Me)=>{const Be=[],lt=[];for(const yt of z){const Zn=yt.charAt(0),hi=yt.charAt(1);Be.push(Ma(n,Zn));const mi=Ca[hi];mi?lt.push(jE(n,mi)):lt.push(null)}const jt=(yt,Zn)=>!!yt&&!!Zn&&(fe.includes(yt)&&Me.includes(Zn)||Me.includes(yt)&&fe.includes(Zn));for(let yt=0;yt<Be.length;yt++)if(jt(Be[yt],lt[yt]))return!0;for(let yt=0;yt<Be.length-1;yt++)if(jt(Be[yt],Be[yt+1])||jt(lt[yt],lt[yt+1]))return!0;return!1},Z={:["",""],:["",""],:["",""],:["",""]};J([...Z.])&&J([...Z.])&&q([...Z.],[...Z.])&&v.push(""),J([...Z.])&&J([...Z.])&&q([...Z.],[...Z.])&&v.push("");const re=fe=>g.filter(Me=>fe.includes(Me)).length,ue=re(["",""]),se=re([""]),B=re([""]),W=re(["",""]),ae=re(["",""]),V=re(["",""]);se>=1&&ue>=1&&ue>=se&&B<=se&&v.push("");const oe=re([""]);oe>=1&&W>=1&&oe>=W&&v.push(""),g.includes("")&&W>=1&&v.push("");const pe=Pae(t),be=Object.entries(pe).sort((fe,Me)=>Me[1]-fe[1]),ne=be[0];if(ne&&ne[1]>=60&&v.push(`(${ne[0]})`),be.length>=2){const[fe,Me]=be[0],[,Be]=be[1];Me>=75&&Me-Be>=12&&p!==fe&&v.push(`(${fe})`)}for(const fe of gae){const Me=f.includes(fe.a),Be=f.includes(fe.b);if(!Me||!Be)continue;const lt=fe.to,jt=pe[lt]??0,yt=Rr[fe.a],Zn=Rr[fe.b],hi=Math.max(pe[yt]??0,pe[Zn]??0),mi=Ca[r]===lt,Cs=Object.entries(pe).sort((mn,pi)=>pi[1]-mn[1])[0]?.[0]===lt;let qt=!1;jt>=60&&(mi||Cs)&&hi<=20&&jt-hi>=20&&(v.push(`(${lt})`),qt=!0),!qt&&jt>=50&&(mi||Cs)&&hi<=25&&(v.push(`(${lt})`),qt=!0),!qt&&jt>=35&&v.push(`(${lt})`)}const Oe=`${na(u)}${En(u)}`;["",""].includes(n)&&["","",""].includes(Oe)&&v.push(""),["","","",""].includes(En(u))&&v.push(""),["",""].includes(n)&&(En(c)===""||En(o)==="")&&!m.includes("")&&v.push("");const Ce=f.some(fe=>fe===""||fe===""),ve=m.some(fe=>fe===""||fe==="");["",""].includes(En(c))&&!Ce&&!ve&&v.push(""),["","",""].every(fe=>f.includes(fe))&&v.push(""),["","",""].every(fe=>f.includes(fe))&&v.push(""),["","",""].every(fe=>f.includes(fe))&&v.push("");const Ze=Object.values(pe).sort((fe,Me)=>Me-fe);Ze.length>=3&&Ze[0]-Ze[2]<=8&&Ze[0]+Ze[1]+Ze[2]>=80&&v.push(""),ae>=1&&V>=1&&Math.abs(ae-V)<=1&&v.push(""),E(["","","",""])&&v.push(""),E(["","","",""])&&v.push(""),E(["","","",""])&&v.push(""),m.length===4&&m.every(fe=>fe===m[0])&&v.push(""),f.length===4&&P()&&C()&&v.push(""),t.every(fe=>fe&&fe===t[0])&&v.push(""),f.length===4&&f.every(fe=>fe===f[0])&&m.length===4&&m.every(fe=>fe===m[0])&&v.push(""),ue>=1&&(En(c)===Ww[n]||En(u)===Ww[n])&&v.push(""),_("")>=3&&E(["","",""])&&["","",""].includes(En(c))&&v.push("");const _e=n===""||n==="",je=[["","",""],["","",""]],Le=[["","",""],["","",""]];_e&&(je.some(fe=>E(fe))||Le.some(fe=>E(fe)))&&v.push("");const Ve=new Set(["","","","","",""]),bt=`${na(c)}${En(c)}`;if(Ve.has(bt)&&w("")>=2&&(T(["",""])||m.includes("")||m.includes("")||T(["",""])||v.push("")),new Set(["","","","","",""]).has(bt)&&w("")>=2&&m.includes("")&&v.push(""),n===""&&`${na(u)}${En(u)}`==""){const fe=Ma(n,N);!["","","",""].includes(fe)&&T(["",""])&&!m.includes("")&&!m.includes("")&&v.push("")}return new Set(["","",""]).has(bt)&&`${na(u)}${En(u)}`==""&&!m.includes("")&&!T(["",""])&&v.push(""),bt===""&&w("")+w("")>=2&&v.push(""),(bt===""||bt==="")&&w("")>=2&&!T(["",""])&&!m.includes("")&&v.push(""),n===""&&E(["","",""])&&v.push(""),bt===""&&`${na(u)}${En(u)}`==""&&v.push(""),wae(v)}function Rae(e){const t=[];for(const n of e)switch(n.kind){case"BUNIL_PICK":t.push(`: ${n.from} `);break;case"WANGJI_FIXED_JUNGI":t.push(":   ");break;case"SAENGJI_EMITTED_ONE":t.push(`: ${n.from}  `);break;case"SAENGJI_EMITTED_MULTI":t.push(`:      ${n.from} `);break;case"SAENGJI_NOT_EMITTED_USE_JUNGI":t.push(":    ");break;case"GOJI_SAMHAP_USE_JUNGI":t.push(":     ");break;case"GOJI_EARLY_JEOLIP_USE_CHOGI":t.push(":  +12    ");break;case"GOJI_LATE_JEOLIP_USE_JUNGI":t.push(":  +12    ");break;case"NEUTRALIZED":t.push(":   / ");break;case"EX_GEONLOK":t.push(": /   ");break;case"EX_YANGIN":t.push(":    ");break;case"EX_WOLGEOP":t.push(":    ");break;case"EX_EXCLUDED_BIGEOP":t.push(": /  ");break}return t}function Lae(e){return e===""?"()":{:"",:"",:"",:"",:"",:"",:"",:""}[e]??"-"}const Iae=1e3*60*60*24;function xP(e){return Date.UTC(e.getFullYear(),e.getMonth(),e.getDate())}function $ae(e){let t=ca(e);const n=t[0]?.date;if(n&&e.getTime()<n.getTime()){const r=new Date(e);r.setFullYear(e.getFullYear()-1),t=ca(r)}return t}function Bae(e){const t=vae[e];return Array.isArray(t)&&t.length>0?t[0]:null}function zae(e,t){const n=Bae(e);if(!n)return null;const i=$ae(t).find(o=>o.name===n)?.date;if(!i)return null;const a=Math.floor((xP(t)-xP(i))/Iae)+1;return a<1?1:a}function Uae(e,t){const n=e.?.w??0,r=e.?.w??0;return e.&&t<=n?{stem:e..stem,from:""}:e.&&t<=n+r?{stem:e..stem,from:""}:{stem:e..stem,from:""}}function L4(e){const{dayStem:t,monthBranch:n,date:r,pillars:i,emittedStems:a=[],otherBranches:o=[],isNeutralized:c,mapping:u}=e,f=[],m=mae[n];if(!m)return{:"-",:"-",:"-",:"-",:"-",:"-",:[],reason:["  "],reasonTokens:[]};const p={:m.?{stem:Vw(m..stem),w:m..w}:void 0,:m.?{stem:Vw(m..stem),w:m..w}:void 0,:{stem:Vw(m..stem),w:m..w}},g=p..stem;let v=g;const _=zae(n,r);if(["","","",""].includes(n)&&Sae(n,o)&&p.)v=p..stem,f.push({kind:"GOJI_SAMHAP_USE_JUNGI"});else if(_!=null){const K=Uae(p,_);v=K.stem,f.push({kind:"BUNIL_PICK",from:K.from})}else v=g,f.push({kind:"BUNIL_FALLBACK_USE_WOLRYEONG"});function w(K,F){if(!K)return!1;if(F.includes(K))return!0;const z=Rr[K];return z?F.some(X=>Rr[X]===z):!1}let E="";v&&w(v,a)&&!c?.(v)?(E=v,f.push({kind:"DANRYEONG_CONFIRMED_BY_EMIT"})):v&&c?.(v)&&f.push({kind:"NEUTRALIZED"});const T=E||g;let N="";const O=Rr[T];if(O){const K=Object.entries(vm).find(([,F])=>F===O)?.[0]??null;K&&(N=Object.entries(Rr).find(([z,X])=>X===K&&aa(z)===aa(T))?.[0]??"")}let P="-";const C=Ma(t,T),D=yae.some(([K,F])=>K===t&&F===n),$=aa(t)&&D4[t]===n,H=!aa(t)&&R4[t]===n;C===""||C===""?D?(P="",f.push({kind:"EX_GEONLOK"})):$?(P="",f.push({kind:"EX_YANGIN"})):H?(P="",f.push({kind:"EX_WOLGEOP"})):f.push({kind:"EX_EXCLUDED_BIGEOP"}):P=Lae(C);const Y=Dae({pillars:i,dayStem:t,monthBranch:n,mapping:u});return{:g,:v,:E||"-",:T||"-",:N||"-",:P,:Y,reason:Rae(f),reasonTokens:f}}function Hae(e){const[t,n,r,i]=e,a=y0(i),o=y0(r),c=y0(n),u=y0(t),f=[],m=[[a,o],[o,c],[c,u]];for(const[g,v]of m){if(!g||!v)continue;const _=Ye(g,v),w=bP[_];w?.length&&f.push(...w);const E=Ye(v,g);if(E!==_){const T=bP[E];T?.length&&f.push(...T)}}const p=[[a,o,c],[o,c,u]];for(const[g,v,_]of p){if(!g||!v||!_)continue;const w=Ti(g,v,_),E=vP[w];E?.length&&f.push(...E);const T=Ti(_,v,g);if(T!==w){const N=vP[T];N?.length&&f.push(...N)}}return Array.from(new Set(f))}const Fae=["","","","",""];function Gae(e){return Fae.includes(e)}function qae(e){const t=/^(.+?)\((.+)\)$/.exec(e.trim());return t?{base:t[1].trim(),inner:t[2].trim()}:{base:e.trim()}}function Mh(e,t){if(!t)return e;const n=(Gae(t),t);return`${e}(${n})`}const Yae={:{title:"",short:"    ."},:{title:"",short:"    ."},:{title:"",short:"    ."},:{title:"",short:"   ."},:{title:"",short:"   ."},:{title:"",short:"     ."},:{title:"",short:"   ."},:{title:"",short:"   ."},:{title:"",short:"   ."},:{title:"",short:"    ."},:{title:"",short:"     ."},:{title:"",short:"    ."},:{title:"",short:"    ."},:{title:"",short:"   ."},:{title:"",short:"    ."},:{title:"",short:"    ."},:{title:"",short:"    ."},:{title:"",short:" 3    ."},:{title:"",short:"    ."},:{title:"",short:"    ."},:{title:"",short:"    ."},:{title:"",short:"    ."},:{title:"",short:"   ."},:{title:"",short:"     ."},:{title:"",short:"     ."},:{title:"",short:"     ."},:{title:"",short:"     ."},:{title:"",short:"    ."},:{title:"",short:"    ."},:{title:"",short:"    ."},:{title:"",short:"    ."},:{title:"",short:"   ."},:{title:"",short:"   ."},:{title:"",short:"    ."},:{title:"",short:"    ."},:{title:"",short:"   ."},:{title:"",short:"   ."}},Kae={:e=>({title:Mh("",e),short:"     ."}),:e=>({title:Mh("",e),short:"   ."}),:e=>({title:Mh("",e),short:"   ."}),:e=>({title:Mh("",e),short:"    ."}),:e=>({title:Mh("",e),short:"    ."})};function Wae(e){const{base:t,inner:n}=qae(e);return t===""||t===""||t===""||t===""||t===""?Kae[t](n):Yae[t]}function Vae(e){const t=Wae(e);if(t)return t.detail?`${t.short}

${t.detail}`:t.short}const Zae=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),_P={:"   .   .",:"   .",:"  .",:"    .",:"  .",:"  .  .",:"   .",:"  .   .",:"   .",:"  .",:"   .",:"   .",:"  .",:"   .",:"   .",:"   .",:"   .",:"   .",:"  .",:"  .",:"   .",:"    .",:"   .",:"   .",:"   .",:"   .",:"   .",:"   .",:"  .",:"   .",:"  .  .",:"   .",:"   .",:"  .",:"  .",:"   .",:"    .",:"      .",:"  .",:"  .",:"    .",:"  .",:"  .",:"   .",:"  .",:"   .",:"   .",:"   .",:"   .",:"  .",:"  .",:"  .",:"    .",:"   .",:"  .",:"    .",:"     .",:"   .",:"  .",:"     .",:"    .",:"   .",:"    .",:"    .",:"   .",:"   .",:" .",:"   .",:"   .",:"   .",:"   ."};function Xae(e){if(Zae(_P,e))return _P[e]}const wP={:"(/)",:"(/)",:"(/)",:"(/)",:"(/)"},Jae={:{title:"",short:"    .",detail:"       ."},:{title:"",short:"      .",detail:"  +     ."},:{title:"",short:"     .",detail:"  +     ."},:{title:"",short:"     .",detail:"  +  ."},:{title:"",short:"      .",detail:"     ."},:{title:"",short:"    ."},:{title:"",short:"    .",detail:"  +    ."},:{title:"",short:"()    .",hint:"     "},:{title:"",short:"     ."},:{title:"",short:"    ."},:{title:"",short:"  +    ."},:{title:"",short:"   ."},:{title:"",short:"   ."},:{title:"",short:"    ."},:{title:"",short:"   ."},:{title:"",short:"      ."},:{title:"",short:"    ."},:{title:"",short:"      ."},:{title:"",short:"    ."},:{title:"",short:"       ."},:{title:"",short:"    ."},:{title:"",short:"     ."},:{title:"",short:"     ."},:{title:"",short:"    ."}};function Qae(e){const t=/^(|)(||||)$/.exec(e);if(!t)return null;const n=t[1],r=t[2];return n===""?{kind:"",group:r}:{kind:"",group:r}}function eoe(e,t){return e===""?{title:`${t}`,short:`${wP[t]}() //   .`,hint:"( ) +  +   "}:{title:`${t}`,short:`${wP[t]}()     .`,hint:" X /  O"}}function toe(e){const t=Qae(e);return t?eoe(t.kind,t.group):Jae[e]}function noe(e){const t=toe(e);if(t)return t.detail?`${t.short}

${t.detail}`:t.short}const roe={:{title:"",text:"()  /  .   ."},:{title:"",text:" (//)     .  ."},:{title:"",text:"       .     ."},:{title:"",text:" (/)    ( ).    ."},:{title:"",text:" (/)   ,           ."}};function ioe(e){return roe[e]?.text}const aoe=e=>{switch(e){case"":return"( )";case"":return"";case"":return"()"}},ooe={BUNIL_PICK:{title:"",text:"    //     ."},BUNIL_FALLBACK_USE_WOLRYEONG:{title:" ",text:"    ()    ."},DANRYEONG_CONFIRMED_BY_EMIT:{title:" ",text:"      ."},WANGJI_FIXED_JUNGI:{title:"",text:"       ."},SAENGJI_EMITTED_ONE:{title:" ",text:"        ."},SAENGJI_EMITTED_MULTI:{title:"  ",text:"          ."},SAENGJI_NOT_EMITTED_USE_JUNGI:{title:" ",text:"        ."},GOJI_SAMHAP_USE_JUNGI:{title:" + ",text:"      ."},GOJI_EARLY_JEOLIP_USE_CHOGI:{title:" +  ",text:"   12    ."},GOJI_LATE_JEOLIP_USE_JUNGI:{title:" +  ",text:"   12    ."},NEUTRALIZED:{title:"",text:"       ."},EX_GEONLOK:{title:" ",text:"       ."},EX_YANGIN:{title:" ",text:"       ."},EX_WOLGEOP:{title:" ",text:"        ."},EX_EXCLUDED_BIGEOP:{title:" ",text:"   ."}},soe={:{title:"",text:"      ."},:{title:"",text:"      ."},:{title:"",text:"      ."},:{title:"",text:"      ."},:{title:"",text:"      ."},:{title:"",text:"      ."},"()":{title:"()",text:"      ."},:{title:"",text:"      ."},:{title:"",text:"      ."},:{title:"",text:"/       ."},:{title:"",text:"/        ."},:{title:"",text:"/       ."}},loe=e=>e.replace(/^\s*:\s*/,"").trim();function coe(e){const t=loe(e);return soe[t]}function uoe(e){const t=ooe[e.kind];if(t)return"from"in e?{...t,text:`${t.text} ( : ${aoe(e.from)})`}:t}function doe(e){const{pillars:t,tab:n,birthDate:r,emittedStems:i,otherBranches:a,isNeutralized:o,mapping:c,unified:u}=e,[f,m,p,g]=t,v=V=>V&&V.length>=1?V.charAt(0):"",_=V=>V&&V.length>=2?V.charAt(1):"",w=_(m),E=v(p),T=r instanceof Date&&!Number.isNaN(r.getTime())?r:new Date,N=[v(f),v(m),v(p),v(g)].filter(V=>!!(V&&V.length===1)),O=[_(f),_(p),_(g)].filter(V=>!!(V&&V.length===1)),P=L4({dayStem:E,monthBranch:w,date:T,pillars:t,emittedStems:i??N,otherBranches:a??O,isNeutralized:o,mapping:c}),C=P.reasonTokens??[],D=P.reason??[],$=[` : ${P.||"-"}`,` : ${P.||"-"}`,` : ${P.||"-"}`,` : ${P.||"-"}`,` : ${P.||"-"}`],H=[` : ${P.||"-"}`],Y=Array.isArray(P.)&&P..length>0?P..map(V=>` : ${V}`):[" : -"],K=Hae(t),F=[...K.length?K.map(V=>`${V}`):[]],X=[...Mae(t,c,u)],Q=({text:V,color:oe})=>{const me={violet:"bg-violet-100 text-violet-800 border-violet-200 dark:bg-violet-900/30 dark:text-violet-200 dark:border-violet-800",amber:"bg-amber-100 text-amber-800 border-amber-200 dark:bg-amber-900/30 dark:text-amber-200 dark:border-amber-800",blue:"bg-blue-100 text-blue-800 border-blue-200 dark:bg-blue-900/30 dark:text-blue-200 dark:border-blue-800",green:"bg-green-100 text-green-800 border-green-200 dark:bg-green-900/30 dark:text-green-200 dark:border-green-800",red:"bg-red-100 text-red-800 border-red-200 dark:bg-red-900/30 dark:text-red-200 dark:border-red-800"};return x.jsx("span",{className:`inline-block text-xs px-2 py-1 rounded-full border whitespace-nowrap ${me[oe]}`,title:V,children:V})},J=({children:V})=>x.jsx("li",{className:"!flex flex-wrap gap-1 p-1 rounded-sm",children:V}),[q,Z]=S.useState(null),re=({text:V})=>{const oe=V.replace(/^\s*:\s*/,"").trim(),me=S.useMemo(()=>Vae(oe),[oe]),pe=`outer:${oe}`,be=q===pe;return me?x.jsxs("span",{className:"relative inline-flex",children:[x.jsx("button",{type:"button",onClick:()=>Z(be?null:pe),className:"inline-flex cursor-pointer",title:me,children:x.jsx(Q,{text:V,color:"blue"})}),be&&x.jsx("div",{className:"absolute z-10 left-0 top-full mt-1 w-[180px] text-[11px] leading-4 rounded-md border border-neutral-200 dark:border-neutral-700 bg-white dark:bg-neutral-900 text-neutral-700 dark:text-neutral-200 p-2 shadow text-center",children:me})]}):x.jsx(Q,{text:V,color:"blue"})},ue=({text:V})=>{const oe=V.trim(),me=S.useMemo(()=>Xae(oe),[oe]),pe=`mulsang:${oe}`,be=q===pe;return me?x.jsxs("span",{className:"relative inline-flex",children:[x.jsx("button",{type:"button",onClick:()=>Z(be?null:pe),className:"inline-flex cursor-pointer",title:me,children:x.jsx(Q,{text:V,color:"green"})}),be&&x.jsx("div",{className:"absolute z-10 left-0 top-full mt-1 w-[180px] text-[11px] leading-4 rounded-md border border-neutral-200 dark:border-neutral-700 bg-white dark:bg-neutral-900 text-neutral-700 dark:text-neutral-200 p-2 shadow text-center",children:me})]}):x.jsx(Q,{text:V,color:"green"})},se=({text:V})=>{const oe=V.trim(),me=S.useMemo(()=>noe(oe),[oe]),pe=`structure:${oe}`,be=q===pe;return me?x.jsxs("span",{className:"relative inline-flex",children:[x.jsx("button",{type:"button",onClick:()=>Z(be?null:pe),className:"inline-flex cursor-pointer",title:me,children:x.jsx(Q,{text:V,color:"red"})}),be&&x.jsx("div",{className:"absolute z-10 left-0 top-full mt-1 w-[180px] text-[11px] leading-4 rounded-md border border-neutral-200 dark:border-neutral-700 bg-white dark:bg-neutral-900 text-neutral-700 dark:text-neutral-200 p-2 shadow text-center",children:me})]}):x.jsx(Q,{text:V,color:"red"})},B=({text:V,color:oe})=>{const me=V.trim(),pe=me.split(":")[0]?.trim()??me,be=S.useMemo(()=>ioe(pe),[pe]),ne=`term:${pe}`,Oe=q===ne;return be?x.jsxs("span",{className:"relative inline-flex",children:[x.jsx("button",{type:"button",onClick:()=>Z(Oe?null:ne),className:"inline-flex cursor-pointer",title:be,children:x.jsx(Q,{text:V,color:oe})}),Oe&&x.jsx("div",{className:"absolute z-10 left-0 top-full mt-1 w-[180px] text-[11px] leading-4 rounded-md border border-neutral-200 dark:border-neutral-700 bg-white dark:bg-neutral-900 text-neutral-700 dark:text-neutral-200 p-2 shadow text-center",children:be})]}):x.jsx(Q,{text:V,color:oe})},W=({text:V})=>{const oe=S.useMemo(()=>coe(V),[V]),me=`naegyeok:${V}`,pe=q===me;return oe?x.jsxs("span",{className:"relative inline-flex",children:[x.jsx("button",{type:"button",onClick:()=>Z(pe?null:me),className:"inline-flex cursor-pointer",title:oe.text,children:x.jsx(Q,{text:V,color:"amber"})}),pe&&x.jsx("div",{className:"absolute z-10 left-0 top-full mt-1 w-[200px] text-[11px] leading-4 rounded-md border border-neutral-200 dark:border-neutral-700 bg-white dark:bg-neutral-900 text-neutral-700 dark:text-neutral-200 p-2 shadow text-center",children:oe.text})]}):x.jsx(Q,{text:V,color:"amber"})},ae=({token:V,fallback:oe,idx:me})=>{const pe=uoe(V),be=pe?.title??oe,ne=pe?.text??oe,Oe=`reason:${V.kind}:${"from"in V?V.from:""}:${me}`,Ce=q===Oe;return x.jsxs("span",{className:"relative inline-flex",children:[x.jsx("button",{type:"button",onClick:()=>Z(Ce?null:Oe),className:"inline-flex cursor-pointer",title:ne,children:x.jsx(Q,{text:be,color:"amber"})}),Ce&&x.jsx("div",{className:"absolute z-10 left-0 top-full mt-1 w-[200px] text-[11px] leading-4 rounded-md border border-neutral-200 dark:border-neutral-700 bg-white dark:bg-neutral-900 text-neutral-700 dark:text-neutral-200 p-2 shadow text-center",children:ne})]})};return x.jsxs("div",{className:"p-4 rounded-xl bg-neutral-100 dark:bg-neutral-900 space-y-3 text-sm","data-revkey":`gyeok:${n}|${t.join("")}|${$.join(",")}|${H.join(",")}|${Y.join(",")}`,children:[x.jsx("div",{className:"font-bold text-base",children:"   "}),x.jsx("div",{className:"text-xs text-amber-500 dark:text-amber-400 mb-2",children:"*        ."}),x.jsxs("ul",{className:"space-y-1",children:[x.jsx(J,{children:$.map(V=>x.jsx(B,{text:V,color:"violet"},V))}),x.jsx(J,{children:H.map(V=>x.jsx(W,{text:V},V))}),x.jsx(J,{children:Y.map(V=>x.jsx(re,{text:V},V))}),x.jsx(J,{children:F.map(V=>x.jsx(ue,{text:V},V))}),x.jsx(J,{children:X.map(V=>x.jsx(se,{text:V},V))})]}),C.length>0?x.jsxs("div",{className:"mt-2",children:[x.jsx("div",{className:"text-xs text-neutral-600 dark:text-neutral-400",children:" "}),x.jsx("div",{className:"mt-1",children:x.jsx(J,{children:C.map((V,oe)=>x.jsx(ae,{token:V,fallback:D[oe]??V.kind,idx:oe},`${V.kind}-${oe}`))})})]}):P.reason.length>0?x.jsxs("div",{className:"mt-2 text-xs text-neutral-600 dark:text-neutral-400",children:[": ",P.reason.join(" / ")]}):null]})}const foe=Object.fromEntries(Ga..map((e,t)=>[e,$r[t]])),hoe=Object.fromEntries($r.map((e,t)=>[e,Ga.[t]])),moe=Object.fromEntries(Ga..map((e,t)=>[e,si[t]])),poe=Object.fromEntries(si.map((e,t)=>[e,Ga.[t]])),goe=e=>foe[e]??e,yoe=e=>moe[e]??e,boe=e=>hoe[e]??e,voe=e=>poe[e]??e;function xoe(e){const t={...e};for(const n of Object.keys(e)){const r=/[]/.test(n)?goe(n):boe(n);r&&t[r]===void 0&&(t[r]=e[n])}return t}function X2(e){const t={...e};for(const n of Object.keys(e)){const r=/[]/.test(n)?yoe(n):voe(n);r&&t[r]===void 0&&(t[r]=e[n])}return t}const _oe={:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},woe={:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},I4={:[{stem:"",ratio:1,main:!0}],:[{stem:"",ratio:1,main:!0}],:[{stem:"",ratio:.2},{stem:"",ratio:.3},{stem:"",ratio:.5,main:!0}],:[{stem:"",ratio:.2},{stem:"",ratio:.3},{stem:"",ratio:.5,main:!0}],:[{stem:"",ratio:.3},{stem:"",ratio:.7,main:!0}],:[{stem:"",ratio:.3},{stem:"",ratio:.7,main:!0}],:[{stem:"",ratio:1,main:!0}],:[{stem:"",ratio:1,main:!0}],:[{stem:"",ratio:.2},{stem:"",ratio:.3},{stem:"",ratio:.5,main:!0}],:[{stem:"",ratio:.2},{stem:"",ratio:.3},{stem:"",ratio:.5,main:!0}],:[{stem:"",ratio:.3},{stem:"",ratio:.7,main:!0}],:[{stem:"",ratio:.3},{stem:"",ratio:.7,main:!0}],:[{stem:"",ratio:1,main:!0}],:[{stem:"",ratio:1,main:!0}],:[{stem:"",ratio:.2},{stem:"",ratio:.3},{stem:"",ratio:.5,main:!0}],:[{stem:"",ratio:.2},{stem:"",ratio:.3},{stem:"",ratio:.5,main:!0}],:[{stem:"",ratio:.3},{stem:"",ratio:.7,main:!0}],:[{stem:"",ratio:.3},{stem:"",ratio:.7,main:!0}],:[{stem:"",ratio:1,main:!0}],:[{stem:"",ratio:1,main:!0}],:[{stem:"",ratio:.2},{stem:"",ratio:.3},{stem:"",ratio:.5,main:!0}],:[{stem:"",ratio:.2},{stem:"",ratio:.3},{stem:"",ratio:.5,main:!0}],:[{stem:"",ratio:.3},{stem:"",ratio:.7,main:!0}],:[{stem:"",ratio:.3},{stem:"",ratio:.7,main:!0}]},Soe={...I4,:[{stem:"",ratio:.2},{stem:"",ratio:.3},{stem:"",ratio:.5,main:!0}],:[{stem:"",ratio:.2},{stem:"",ratio:.3},{stem:"",ratio:.5,main:!0}],:[{stem:"",ratio:.2},{stem:"",ratio:.2},{stem:"",ratio:1,main:!0}],:[{stem:"",ratio:.2},{stem:"",ratio:.2},{stem:"",ratio:1,main:!0}],:[{stem:"",ratio:.2},{stem:"",ratio:.3},{stem:"",ratio:.7,main:!0}],:[{stem:"",ratio:.2},{stem:"",ratio:.3},{stem:"",ratio:.7,main:!0}],:[{stem:"",ratio:.2},{stem:"",ratio:.3},{stem:"",ratio:.7,main:!0}],:[{stem:"",ratio:.2},{stem:"",ratio:.3},{stem:"",ratio:.7,main:!0}]},SP=xoe(_oe),EP=X2(woe);X2(I4);X2(Soe);const Eoe=["","","","",""];function koe(){const[e,t]=S.useState("   "),[n,r]=S.useState(""),[i,a]=S.useState(!0);return{bigTab:e,setBigTab:t,blendTab:n,setBlendTab:r,demoteAbsent:i,setDemoteAbsent:a}}const Aoe={:{:"#13B713",:"#DC143C",:"#F0B100",:"#a0a0a0",:"#353535"},:{:"#DC143C",:"#F0B100",:"#a0a0a0",:"#353535",:"#13B713"},:{:"#F0B100",:"#a0a0a0",:"#353535",:"#13B713",:"#DC143C"},:{:"#a0a0a0",:"#353535",:"#13B713",:"#DC143C",:"#F0B100"},:{:"#353535",:"#13B713",:"#DC143C",:"#F0B100",:"#a0a0a0"}},Toe={:"",:"",:"",:"",:"",:"",:"",:"",:"",:""};function $4(e){const t=Toe[e]??"";return Aoe[t]}const Ooe=Object.fromEntries(Ga..map((e,t)=>[e,$r[t]])),joe=Object.fromEntries($r.map((e,t)=>[e,Ga.[t]])),Noe=Object.fromEntries(Ga..map((e,t)=>[e,si[t]])),Coe=Object.fromEntries(si.map((e,t)=>[e,Ga.[t]])),Moe=e=>Ooe[e]??e,Poe=e=>Noe[e]??e,Doe=e=>joe[e]??e,Roe=e=>Coe[e]??e;function B4(e){const t={...e};for(const n of Object.keys(e)){if(n.length<2)continue;const r=n.charAt(0),i=n.charAt(1),a=/[]/.test(r)||/[]/.test(i)?`${Moe(r)}${Poe(i)}`:`${Doe(r)}${Roe(i)}`;t[a]===void 0&&(t[a]=e[n])}return t}const z4={:1,:.2,:1,:1,:.5,:.7,:0,:.5,:1,:1,:0,:1,:0,:0,:.3,:0,:.5,:.3,:0,:0,:.3,:0,:.8,:.3,:0,:.5,:0,:0,:.3,:.3,:0,:.3,:0,:0,:.8,:0,:0,:.8,:0,:0,:.5,:0,:1,:.5,:0,:0,:.7,:0,:1,:.5,:.7,:0,:.2,:.7,:1,:.7,:.7,:1,:.2,:.7},Loe={...z4,:.8,:.3,:.5,:.5,:.2,:.2,:.8,:.2},Ioe=B4(z4),$oe=B4(Loe),Boe={:"",:"",:"",:"",:""},zoe={:"",:"",:"",:"",:""},Uoe={:"",:"",:"",:"",:""},Hoe={:"",:"",:"",:"",:""},Foe=e=>Rn[e]??e,Goe=e=>Gn[e]??e;function U4(e){return!e||e.length<2?"":`${Foe(e[0])}${Goe(e[1])}`}const H4=e=>e&&e.length>=1?e[0]:"",F4=e=>e&&e.length>=2?e[1]:"";function G4(e){return{:e,:Boe[e],:zoe[e],:Uoe[e],:Hoe[e]}}const q4={:["","","","","","","",""],:["","","","","","","",""],:["","","","","","","",""],:["","","","","","","",""],:["","","","","","","","","","","",""],:["","","","","","","","","","","",""],:["","","","","","","","","","","",""],:["","","","","","","","","","","",""],:["","","","","","","",""],:["","","","","","","",""]};function qoe(e,t){const n=(e??[]).slice(0,4).map(U4);if(n.length!==4||n.some(g=>g.length<2))return{flags:{:{:!1,:!1,:!1},:{:!1,:!1,:!1},:{:!1,:!1,:!1},:{:!1,:!1,:!1},:{:!1,:!1,:!1}},monthBranch:"",dayEl:""};const r=H4(n[2]),i=r===""||r===""?"":r===""||r===""?"":r===""||r===""?"":r===""||r===""?"":"",a=n.map(g=>F4(g)),o={:{:!1,:!1,:!1},:{:!1,:!1,:!1},:{:!1,:!1,:!1},:{:!1,:!1,:!1},:{:!1,:!1,:!1}},c=q4[r]??[],u=a[1];c.includes(u)&&(o..=!0,o..=!0);const f=a[2];c.includes(f)&&(o..=!0,o..=!0);const m=G4(i).,p=t[m]??0;return o..=p>=30,{flags:o,monthBranch:u,dayEl:i}}function Y4(e,t){const n=(e??[]).slice(0,4).map(U4);if(n.length<3||n[0].length<2||n[1].length<2||n[2].length<2){const _={:!1,:!1,:!1};return{flags:{:{..._},:{..._},:{..._},:{..._},:{..._},:{..._},:{..._},:{..._},:{..._},:{..._}},monthBranch:"",dayEl:""}}const r=H4(n[2]),i=r===""||r===""?"":r===""||r===""?"":r===""||r===""?"":r===""||r===""?"":"",a=n.map(_=>F4(_)),o={:!1,:!1,:!1},c={:{...o},:{...o},:{...o},:{...o},:{...o},:{...o},:{...o},:{...o},:{...o},:{...o}},u=q4[r]??[],f=a[1];u.includes(f)&&(c..=!0,c..=!0,c..=!0,c..=!0);const m=a[2];u.includes(m)&&(c..=!0,c..=!0,c..=!0,c..=!0);const p=G4(i).;return(t[p]??0)>=30&&(c..=!0,c..=!0,c..=!0,c..=!0),{flags:c,monthBranch:f,dayEl:i}}const Yoe=Object.fromEntries(Object.entries(Rn).map(([e,t])=>[t,e])),Koe=Object.fromEntries(Object.entries(Gn).map(([e,t])=>[t,e])),Woe=e=>Rn[e]??e,Voe=e=>Gn[e]??e;function Zoe(e){return!e||e.length<2?"":`${Woe(e[0])}${Voe(e[1])}`}function Ac(e){return SP[e]??SP[Yoe[e]??""]}function Tc(e){return EP[e]??EP[Koe[e]??""]}const Zw=["year","month","day","hour"],Xoe={year:{stem:10,branch:10},month:{stem:15,branch:30},day:{stem:25,branch:25},hour:{stem:15,branch:15}},Joe={year:{stem:10,branch:10},month:{stem:15,branch:45},day:{stem:25,branch:40},hour:{stem:15,branch:12.5}},Qoe=new Set(["","","","",""]),ese=new Set(["","","","","",""]),tse=new Set(["","","",""]),Xw=e=>Qoe.has(e)?"":"",Jw=e=>{const t=ese.has(e)?"":"";return tse.has(e)?t===""?"":"":t};function kP(e){const t=e.reduce((c,u)=>c+u,0);if(t<=0)return e.map(()=>0);const n=e.map(c=>c*100/t),r=n.map(c=>Math.floor(c+.5)),i=100-r.reduce((c,u)=>c+u,0);if(i===0)return r;const a=n.map((c,u)=>({i:u,frac:c-Math.floor(c+.5)})).sort((c,u)=>u.frac-c.frac),o=r.slice();if(i>0)for(let c=0;c<i;c++)o[a[c].i]+=1;else for(let c=0;c<-i;c++)o[a[a.length-1-c].i]-=1;return o}function nse(e,t){return e===0?t?1:.8:e===1?t?.6:.5:t?.3:.2}const b0={:.15,:.1,:-.15,:-.2,:-.25},fs={:"",:"",:"",:"",:""},Xc={:"",:"",:"",:"",:""},xo={:"",:"",:"",:"",:""},xv={:"",:"",:"",:"",:""};function v0(e,t){return e===t?"":fs[t]===e?"":fs[e]===t?"":xo[e]===t?"":xo[t]===e?"":""}const Oc=e=>e&&e.length>=1?e[0]:"",jc=e=>e&&e.length>=2?e[1]:"";function rse(e,t){const n=e.reduce((u,f)=>u+f,0);if(n<=0||t<=0)return new Array(e.length).fill(0);const r=e.map(u=>u/n*t),i=r.map(u=>Math.floor(u));let a=t-i.reduce((u,f)=>u+f,0);const o=r.map((u,f)=>({i:f,frac:u-Math.floor(u)})).sort((u,f)=>f.frac-u.frac),c=i.slice();for(let u=0;u<o.length&&a>0;u++)c[o[u].i]+=1,a-=1;return c}function AP(e,t){switch(e){case"":return t;case"":return fs[t];case"":return xo[t];case"":return xv[t];case"":return Xc[t];default:return t}}const TP={:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},ise=["","","","",""],ase={:{a:"",b:"",aVal:0,bVal:0},:{a:"",b:"",aVal:0,bVal:0},:{a:"",b:"",aVal:0,bVal:0},:{a:"",b:"",aVal:0,bVal:0},:{a:"",b:"",aVal:0,bVal:0}},OP={:0,:0,:0,:0,:0,:0,:0,:0,:0,:0},ose={:{:!1,:!1,:!1},:{:!1,:!1,:!1},:{:!1,:!1,:!1},:{:!1,:!1,:!1},:{:!1,:!1,:!1}};function sse(e){return e.length===4&&!!e[0]&&e[0].length>=2&&!!e[1]&&e[1].length>=2&&!!e[2]&&e[2].length>=2}function lse(e){const t=ise.map(n=>({name:n,value:0,color:"#999999"}));return{overlay:{totalsSub:{...OP},perStemAugBare:{},perStemAugFull:{}},totals:t,perTenGod:{...ase},PerTenGodSub:{...OP},elementScoreRaw:e,deukFlags:{...ose},perStemElement:{},perStemElementScaled:{},stemScoreRaw:{},elementPercent100:{:0,:0,:0,:0,:0}}}function cse(e,t){const n=e[2]?.[0]??"",r=t??n;return{dayStem:r,dayEl:r===""||r===""?"":r===""||r===""?"":r===""||r===""?"":r===""||r===""?"":""}}function NE(e){const{pillars:t,dayStem:n,mode:r,debug:i,useHarmonyOverlay:a,criteriaMode:o,luck:c}=e,u=o==="modern"?Xoe:Joe,f=r==="classic"?$oe:Ioe,m={:0,:0,:0,:0,:0},p={},g=(t??[]).slice(0,4).map(Zoe);if(!sse(g))return lse(m);const{dayStem:v,dayEl:_}=cse(g,n),w=[{val:0},{val:0},{val:0},{val:0}],E=[[],[],[],[]];for(const B of g){if(!B)continue;const W=B.charAt(0),ae=B.charAt(1);p[W]=(p[W]??0)+50;const V=TP[ae];V&&(p[V]=(p[V]??0)+50)}for(let B=0;B<4;B++){const W=g[B];if(!W||W.length<2)continue;const ae=Zw[B],V=Oc(W),oe=jc(W),me=u[ae],pe=Ac(V);pe&&(m[pe]+=me.stem,w[B]={stem:V,el:pe,pol:Xw(V),val:me.stem});const be=Tc(oe);be&&(m[be]+=me.branch,E[B].push({el:be,pol:Jw(oe),val:me.branch}))}for(let B=0;B<4;B++){const W=g[B];if(!W||W.length<2)continue;const ae=Zw[B],V=f[W]??0;if(V===0)continue;const oe=Oc(W),me=Ac(oe);if(!me)continue;const pe=u[ae].stem*V;m[me]+=pe,w[B].val+=pe}for(let B=0;B<4;B++){const W=g[B];if(!W||W.length<2)continue;const ae=jc(W),V=Tc(ae);if(!V)continue;const oe=u[Zw[B]].branch,me=Jw(ae);let pe=0;const be=[B];B-1>=0&&be.push(B-1),B+1<=3&&be.push(B+1),B-2>=0&&be.push(B-2),B+2<=3&&be.push(B+2);const ne=Array.from(new Set(be));for(const Oe of ne){if(!g[Oe]||g[Oe].length<2)continue;const Ce=Oc(g[Oe]),ve=Ac(Ce);if(!ve||ve!==V)continue;const Ze=Xw(Ce)===me,Ne=Math.abs(Oe-B),_e=nse(Ne,Ze);pe+=oe*_e}pe!==0&&(m[V]+=pe,E[B].push({el:V,pol:me,val:pe}))}for(let B=0;B<4;B++){const W=g[B];if(!W||W.length<2)continue;const ae=Oc(W),V=Ac(ae);if(!V)continue;let oe=0;const me=jc(g[B]),pe=Tc(me);pe&&(oe+=b0[v0(V,pe)]);const be=B===0?[1]:B===3?[2]:[B-1,B+1];for(const Oe of be){const Ce=Oc(g[Oe]),ve=Ac(Ce);ve&&(oe+=b0[v0(V,ve)])}const ne=w[B].val;if(ne!==0&&oe!==0){const Oe=Math.round(ne*(1+oe)*10)/10,Ce=Oe-ne;m[V]+=Ce,w[B].val=Oe}}for(let B=0;B<4;B++){const W=g[B];if(!W||W.length<2)continue;const ae=jc(W),V=Tc(ae);if(!V)continue;let oe=0;const me=Oc(g[B]),pe=Ac(me);pe&&(oe+=b0[v0(V,pe)]);const be=B===0?[1]:B===3?[2]:[B-1,B+1];for(const Oe of be){if(!g[Oe]||g[Oe].length<2)continue;const Ce=jc(g[Oe]),ve=Tc(Ce);ve&&(oe+=b0[v0(V,ve)])}const ne=E[B].reduce((Oe,Ce)=>Oe+Ce.val,0);if(ne!==0&&oe!==0){const Ce=Math.round(ne*(1+oe)*10)/10-ne;m[V]+=Ce,E[B].length>0&&(E[B][0].val+=Ce)}}a&&vne(g,m);const T={dae:{stem:.04,branch:.04},se:{stem:.03,branch:.03},wol:{stem:.02,branch:.02},il:{stem:.01,branch:.01}},N=[];if(!(!c||c.tab==="")){let B=function(W,ae){const V=W?De(W):"";if(!V||V.length<2)return;const oe=Oc(V),me=jc(V),pe=Ac(oe),be=Tc(me),ne=Math.max(1,(m.??0)+(m.??0)+(m.??0)+(m.??0)+(m.??0)),Oe=T[ae];if(pe){const Ce=Math.round(ne*Oe.stem);m[pe]+=Ce,N.push({stem:oe,el:pe,pol:Xw(oe),val:Ce})}if(be){const Ce=Math.round(ne*Oe.branch);m[be]+=Ce,N.push({el:be,pol:Jw(me),val:Ce})}};B(c.dae,"dae"),(c.tab===""||c.tab===""||c.tab==="")&&B(c.se,"se"),(c.tab===""||c.tab==="")&&B(c.wol,"wol"),c.tab===""&&B(c.il,"il")}const O={:0,:0,:0,:0,:0};Object.entries(m).forEach(([B,W])=>{const ae=Y(B,_);O[ae]+=W});const P=["","","","",""],C=kP(P.map(B=>O[B])),D=$4(v),$=P.map((B,W)=>({name:B,value:C[W],color:D[B]})),H={:0,:0,:0,:0,:0,:0,:0,:0,:0,:0};function Y(B,W){return B===W?"":fs[W]===B?"":xo[W]===B?"":xo[B]===W?"":Xc[W]===B?"":""}function K(B,W){switch(Y(B,_)){case"":H.+=W*.5,H.+=W*.5;break;case"":H.+=W*.5,H.+=W*.5;break;case"":H.+=W*.5,H.+=W*.5;break;case"":H.+=W*.5,H.+=W*.5;break;case"":H.+=W*.5,H.+=W*.5;break}}Object.entries(m).forEach(([B,W])=>{W>0&&K(B,W)});const F={:{a:"",b:"",aVal:0,bVal:0},:{a:"",b:"",aVal:0,bVal:0},:{a:"",b:"",aVal:0,bVal:0},:{a:"",b:"",aVal:0,bVal:0},:{a:"",b:"",aVal:0,bVal:0}};for(const B of P){const W=$.find(be=>be.name===B)?.value??0,ae=F[B].a,V=F[B].b,oe=H[ae]??0,me=H[V]??0,pe=oe+me;if(pe>0){const be=Math.floor(W*oe/pe+.5),ne=W-be;F[B].aVal=be,F[B].bVal=ne}else F[B].aVal=Math.floor(W/2+.5),F[B].bVal=W-F[B].aVal}const{flags:z}=qoe(g,m),X={};w.forEach(B=>{if(B.stem&&B.el&&B.val){const W=`${B.stem}${B.el}`;X[W]=(X[W]??0)+B.val}});for(let B=0;B<4;B++){const W=g[B];if(!W||W.length<2)continue;const ae=jc(W),V=TP[ae],oe=Tc(ae);if(!V||!oe)continue;const me=`${V}${oe}`,pe=E[B].reduce((be,ne)=>be+ne.val,0);X[me]=(X[me]??0)+pe}const Q=["","","","","","","","","",""],J={};Q.forEach(B=>{J[B]=0}),P.forEach(B=>{const W=$.find(ne=>ne.name===B)?.value??0,ae=AP(B,_),V=Object.entries(X).filter(([ne])=>ne.endsWith(ae)),oe=V.map(([ne])=>ne),me=V.map(([,ne])=>ne),pe=Math.max(0,Math.round(W*10)),be=rse(me.length?me:[1,1],pe);if(oe.length===2)J[oe[0]]=(be[0]??Math.round(pe/2))/10,J[oe[1]]=(be[1]??pe-(be[0]??0))/10;else if(oe.length===1)J[oe[0]]=pe/10;else{const ne=ae===""?["",""]:ae===""?["",""]:ae===""?["",""]:ae===""?["",""]:["",""],Oe=Math.floor(pe/2),Ce=pe-Oe;J[ne[0]]+=Oe/10,J[ne[1]]+=Ce/10}});const q=["","","","",""],Z={:0,:0,:0,:0,:0};for(const B of $){const W=AP(B.name,_);Z[W]+=B.value}const re=kP(q.map(B=>Z[B])),ue={:re[0],:re[1],:re[2],:re[3],:re[4]};return i&&console.log({elementScore:m,totals:$,perTenGod:F,perStemRaw:X,perStemElementScaled:J,elementPercent100:ue}),{overlay:{totalsSub:H,perStemAugBare:X,perStemAugFull:J},totals:$,perTenGod:F,PerTenGodSub:H,stemScoreRaw:p,elementScoreRaw:m,deukFlags:z,perStemElement:X,perStemElementScaled:J,elementPercent100:ue}}const x0={:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},use=["","","","",""];function jP(e){return use.includes(e)}const dse={:"",:"",:"",:"",:""},fse={:"",:"",:"",:"",:""},hse={:"",:"",:"",:"",:""},mse={:"",:"",:"",:"",:""},CE={:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},pse=["","","","","","","","","",""],gse={natal:50,dae:30,se:20,wol:7,il:3};function Xy(e){if(!e)return null;const t=e.trim();if(["","","","","","","","","",""].includes(t))return t;if(Rn[t])return Rn[t];if(["","","","","","","","","","","",""].includes(t))return x0[t]??null;if(Gn[t])return x0[Gn[t]]??null;const n=t.charAt(0);return Rn[n]?Rn[n]:["","","","","","","","","",""].includes(n)?n:Gn[n]?x0[Gn[n]]??null:["","","","","","","","","","","",""].includes(n)?x0[n]??null:null}function yse(e,t){const n=CE[e],r=CE[t];if(!n||!r)return"";let i;r===n?i="":r===dse[n]?i="":r===fse[n]?i="":r===hse[n]?i="":r===mse[n]?i="":i="";const a=jP(e)===jP(t);switch(i){case"":return a?"":"";case"":return a?"":"";case"":return a?"":"";case"":return a?"":"";case"":return a?"":""}}function Jy(e){const t=Object.entries(e),n=t.reduce((f,[,m])=>f+(m>0?m:0),0);if(n<=0)return Object.fromEntries(t.map(([f])=>[f,0]));const r=t.map(([f,m])=>[f,(m>0?m:0)*100/n]),i=r.map(([f,m])=>[f,Math.round(m)]);let a=i.reduce((f,[,m])=>f+m,0);const o=r.map(([f,m])=>[f,m-Math.round(m)]).sort((f,m)=>m[1]-f[1]),c=Object.fromEntries(i.map(([f,m])=>[f,m]));let u=0;for(;a<100&&u<o.length;)c[o[u][0]]+=1,a+=1,u+=1;return c}function NP(e,t){const n={:0,:0,:0,:0,:0,:0,:0,:0,:0,:0};for(const[r,i]of Object.entries(e??{})){if(i<=0)continue;const a=Xy(r);if(!a)continue;const o=yse(t,a);n[o]+=i}return Jy(n)}function bse(e){return{:{a:"",b:"",aVal:e.,bVal:e.},:{a:"",b:"",aVal:e.,bVal:e.},:{a:"",b:"",aVal:e.,bVal:e.},:{a:"",b:"",aVal:e.,bVal:e.},:{a:"",b:"",aVal:e.,bVal:e.}}}function CP(e){const t={};for(const[n,r]of Object.entries(e??{})){if(r<=0)continue;const i=Xy(n);i&&(t[i]=(t[i]??0)+r)}return t}function MP(e){const n={...{:0,:0,:0,:0,:0,:0,:0,:0,:0,:0}};for(const r of pse){const i=CE[r],a=`${r}${i}`;n[a]=Math.max(0,Math.round(e[r]??0))}return n}function PP(e){const t=["","","","",""],n={:0,:0,:0,:0,:0};for(const r of t)typeof e[r]=="number"&&(n[r]=e[r]);return n}function vse(e,t){const n=t?.dae?_0(t.dae):{},r=t?.se?_0(t.se):{},i=t?.wol?_0(t.wol):{},a=t?.il?_0(t.il):{},o={},c=[{kind:"natal",bare:e},{kind:"dae",bare:n},{kind:"se",bare:r},{kind:"wol",bare:i},{kind:"il",bare:a}];for(const{kind:f,bare:m}of c){const p=gse[f];if(!m||Object.keys(m).length===0)continue;const g=Jy(m);for(const[v,_]of Object.entries(g))o[v]=(o[v]??0)+_*p}const u=Object.values(o).reduce((f,m)=>f+m,0);if(u>0)for(const f of Object.keys(o))o[f]=o[f]/u*100;return o}function xse(e){if(!e)return[];const t=Xy(e.charAt(0)),n=Xy(e.charAt(1));return[t,n].filter(Boolean)}function _0(e){const t=xse(e),n={};for(const r of t)n[r]=(n[r]??0)+1;return n}function _v(e){const{natal:t,tab:n,chain:r,hourKey:i="unified"}=e,a=[De(t[0]??""),De(t[1]??""),De(t[2]??""),De(t[3]??"")],o=a[2]?.charAt(0)??"",{hiddenStemMode:c,hiddenStem:u}=um,f=c==="classic"?"classic":"hgc",m=r?{tab:n,dae:r.dae?De(r.dae):void 0,se:(n===""||n===""||n==="")&&r.se?De(r.se):void 0,wol:(n===""||n==="")&&r.wol?De(r.wol):void 0,il:n===""&&r.il?De(r.il):void 0}:{tab:n},p=NE({pillars:a,dayStem:o,mode:f,criteriaMode:"modern",useHarmonyOverlay:!0,luck:m}),g=NE({pillars:a,dayStem:o,mode:f,criteriaMode:"modern",useHarmonyOverlay:!0,luck:{tab:"",dae:void 0,se:void 0,wol:void 0,il:void 0}}),v=CP(p.perStemElementScaled),_=n===""?v:vse(v,r),w=Jy(_),E=NP(_,o),T=bse(E),N=MP(w),O=CP(g.perStemElementScaled),P=NP(O,o),C=Jy(O),D=MP(C);return{elementScoreRaw:p.elementScoreRaw,elementPercent100:p.elementPercent100,totals:p.totals,perStemElementScaled:p.perStemElementScaled,dayStem:o,mergedStems:w,perTenGodSub:E,perTenGod:T,overlay:{totalsSub:E,perStemAugBare:_,perStemAugFull:N},natalFixed:{elementScoreRaw:PP(g.elementScoreRaw),elementPercent100:PP(g.elementPercent100),totalsSub:P,overlay:{totalsSub:P,perStemAugBare:O,perStemAugFull:D}}}}const ho=["","","","",""],Ol={:0,:0,:0,:0,:0},_se=[{name:"",min:0,max:10},{name:"",min:10,max:20},{name:"",min:20,max:35},{name:"",min:35,max:45},{name:"",min:45,max:55},{name:"",min:55,max:65},{name:"",min:65,max:80},{name:"",min:80,max:100.0001}],wse={:{temp:"cold",wet:"wet"},:{temp:"cold",wet:"wet"},:{temp:"cold",wet:"wet"},:{temp:"mild",wet:"normal"},:{temp:"mild",wet:"normal"},:{temp:"mild",wet:"wet"},:{temp:"hot",wet:"normal"},:{temp:"hot",wet:"dry"},:{temp:"hot",wet:"wet"},:{temp:"mild",wet:"dry"},:{temp:"mild",wet:"dry"},:{temp:"mild",wet:"dry"}},Qw=24,Sse=[[60,0],[55,.01],[50,.03],[45,.06],[40,.1],[35,.18],[30,.32],[27,.48],[24,.62]],Qy=20;Object.fromEntries(Object.entries(Rn).map(([e,t])=>[t,e]));Object.fromEntries(Object.entries(Gn).map(([e,t])=>[t,e]));const K4={:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},Ese={:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""};function W4(e){return Math.max(0,Math.min(100,e))}function $d(e,t,n){return Math.max(t,Math.min(n,e))}function kse(e){const t=W4(e);return _se.find(n=>t>=n.min&&t<n.max)?.name??""}function Ase(e){const t=e?.[2]?.charAt(0)??"";return K4[t]??null}function Tse(e){return(e?.[1]?.charAt(1)??"")||null}function V4(e){return xv[e]}function Ose(e){return e?{peer:e,resource:Xc[e],leak:fs[e],wealth:xo[e],officer:V4(e)}:null}function jse(e){const t={...Ol};for(const n of e){if(!n)continue;const r=n.charAt(0),i=n.charAt(1),a=K4[r],o=Ese[i];a&&(t[a]+=10),o&&(t[o]+=6)}return t}function Nse(e){const t=Object.values(e).reduce((r,i)=>r+i,0);if(t<=0)return{:20,:20,:20,:20,:20};const n={...Ol};return ho.forEach(r=>{n[r]=e[r]/t*100}),n}function Cse(e){if(!e||e.length===0)return null;const t=e.reduce((r,i)=>r+(i?.value??0),0)||0;if(t<=0)return null;const n=r=>e.find(i=>i.name===r)?.value??0;return W4((n("")+n(""))/t*100)}function Mse(e,t){return!e||!t?null:t===e?"":fs[e]===t?"":xo[e]===t?"":V4(e)===t?"":Xc[e]===t?"":null}function Pse(e){for(const[t,n]of Sse)if(e>=t)return n;return 1}const DP=(e,t)=>$d((Qy-(t[e]??0))/Qy,0,1),RP=(e,t)=>$d(((t[e]??0)-Qy)/Qy,0,1);function Dse(e,t,n,r){const i=Mse(e,n);if(!e||!i)return 0;const a=$d((50-t)/50,0,1),o=$d((t-50)/50,0,1),c=DP(n,r),u=RP(n,r),f=DP(e,r),m=RP(e,r),p=6.5;let g=0;if(a>0)switch(i){case"":g=+(.3+.4*f+.15*c)*a;break;case"":g=+(.18+.45*f)*a;break;case"":g=-(.08+.2*(1-c)+.1*m)*a;break;case"":g=-(.22+.25*(1-c)+.1*(1-f))*a;break;case"":g=-(.35+.25*(1-c)+.1*(1-f))*a;break}else if(o>0)switch(i){case"":g=-(.25+.25*(1-c)+.2*m)*o;break;case"":g=-(.28+.2*m)*o;break;case"":g=+(.18+.2*c+.15*m)*o;break;case"":g=+(.22+.25*c+.1*m)*o;break;case"":g=+(.2+.2*c)*o;break}else switch(i){case"":g=.08*(f+c);break;case"":g=.05*f-.03*m;break;case"":g=.02*c-.02*u;break;case"":g=.01*c-.06*u;break;case"":g=-.05*(1-c);break}return Math.round(p*g*10)/10}function Rse(e,t,n){const r=["","",""].includes(t),i=["","","",""].includes(t),a={...Ol};if(r){const o=fs[e],c=xo[e],u=xv[e];a[o]+=28,a[c]+=22,a[u]+=20,n.get(o)?.push(":    ()"),n.get(c)?.push(":     "),n.get(u)?.push(":     ")}if(i){const o=Xc[e],c=e;a[o]+=28,a[c]+=22,n.get(o)?.push(":     "),n.get(c)?.push(":     ")}return a}function LP(e,t){if(!e)return{...Ol};const n=wse[e]??{temp:"mild",wet:"normal"},r={...Ol};return n.temp==="cold"?(r.+=16,r.+=6,t.get("")?.push(":   "),t.get("")?.push(":  ")):n.temp==="hot"&&(r.+=14,r.+=6,t.get("")?.push(":   "),t.get("")?.push(":  ")),n.wet==="wet"?(r.+=8,r.+=4,t.get("")?.push(":   "),t.get("")?.push(":  ")):n.wet==="dry"&&(r.+=8,r.+=4,t.get("")?.push(":   "),t.get("")?.push(":  ")),r}function IP(e,t){const n={...Ol};for(const r of ho){const i=xo[r],a=Math.max(0,(e[r]??0)-(e[i]??0));if(a<=0)continue;const o=fs[r],c=Math.round(a*.35);c>0&&(n[o]+=c,t.get(o)?.push(`: ${r}${i} `))}return n}function $P(e,t){const n={...Ol},r=Object.entries(e),i=Math.min(...r.map(([,o])=>o)),a=r.filter(([,o])=>o<=Math.max(6,i));for(const[o]of a)n[o]+=12,t.get(o)?.push(":  ");return n}const w0=()=>new Map(ho.map(e=>[e,[]]));function Bd(e,t){const n=Ase(e),r=Tse(e),i=jse(e),a=Nse(i);let o=Cse(t);if(o==null)if(!n)o=50;else{const F=n,z=Xc[n],X=Object.values(i).reduce((Q,J)=>Q+J,0)||1;o=Math.min(100,Math.max(0,((i[F]??0)+(i[z]??0))/X*100))}const c=kse(o),u={...Ol},f=w0();if(n){const F=Rse(n,c,f);ho.forEach(z=>{u[z]+=F[z]??0})}const m=LP(r,f);ho.forEach(F=>{u[F]+=m[F]??0});const p=IP(i,f);ho.forEach(F=>{u[F]+=p[F]??0});const g=$P(i,f);ho.forEach(F=>{u[F]+=g[F]??0});const v=Ose(n),_={:0,:0,:0,:0,:0};if(Array.isArray(t))for(const F of t)_[F.name]=F.value;if(o>=45&&o<=55&&v){const F=_.>=30||_.>=Math.max(_.,_.,_.,_.)+5;o<=50?(u[v.resource]+=14,f.get(v.resource)?.push(": -"),u[v.peer]+=10,f.get(v.peer)?.push(": -"),u[v.leak]+=6,f.get(v.leak)?.push(": -"),u[v.wealth]+=3,f.get(v.wealth)?.push(": -"),F&&(u[v.officer]=Math.round(u[v.officer]*.8*10)/10,f.get(v.officer)?.push(":   "))):(u[v.leak]+=14,f.get(v.leak)?.push(": -"),u[v.wealth]+=10,f.get(v.wealth)?.push(": -"),u[v.officer]+=6,f.get(v.officer)?.push(": -"),u[v.resource]+=3,f.get(v.resource)?.push(": -"))}ho.forEach(F=>{const z=Dse(n,o,F,a);u[F]=$d(Math.round((u[F]+z)*10)/10,0,999)});const E=o<50;ho.forEach(F=>{const z=a[F]??0,X=E&&n===F;if(z>=Qw&&!X){const Q=Pse(z);u[F]=Math.round(u[F]*Q*10)/10;const J=Math.min(14,Math.max(0,Math.ceil((z-Qw)*.5)));J>0&&(u[F]=$d(u[F]-J,0,999)),f.get(F)?.push(" ()")}});const T={:[],:[],:[],:[],:[]};if(n){const F=fs[n],z=xo[n],X=xv[n],Q=n,J=Xc[n];T[F].push(""),T[z].push(""),T[X].push(""),T[Q].push(""),T[J].push("")}const N={:(i.??0)>0,:(i.??0)>0,:(i.??0)>0,:(i.??0)>0,:(i.??0)>0},O=F=>{const z=a[F]??0;return z>=Qw&&!(E&&n===F)?z>=55?4:z>=45?3:2:N[F]?0:1},P=LP(r,w0()),C=IP(i,w0()),D=$P(i,w0()),$=ho.map(F=>({element:F,score:Math.round(u[F]*10)/10,via:Lse(F,P,C,D),reasons:(f.get(F)??[]).slice(),tenGodHints:T[F]})).sort((F,z)=>{const X=O(F.element),Q=O(z.element);return X!==Q?X-Q:z.score!==F.score?z.score-F.score:F.element.localeCompare(z.element)}),H=Ise(c,P,C,D),Y={:0,:0,:0,:0,:0},K=t?t.reduce((F,z)=>(F[z.name]=z.value,F),{...Y}):void 0;return{chosenType:H,ordered:$,debug:{band:c,overallPct:o,elementScore:i,tenGodTotals:K,monthBranch:r??void 0}}}function Lse(e,t,n,r){const i=[];return(t[e]??0)>0&&i.push(""),(n[e]??0)>0&&i.push(""),(r[e]??0)>0&&i.push(""),i.length===0&&i.push(""),i}function Ise(e,t,n,r){if(["","","",""].includes(e))return"";const a=f=>Object.values(f).reduce((m,p)=>m+p,0),o=a(t),c=a(n),u=a(r);return o>Math.max(c,u)?"":c>=u?"":""}function $se(e){const t=e.reduce((c,u)=>c+u,0);if(t<=0)return e.map(()=>0);const n=e.map(c=>c*100/t),r=n.map(c=>Math.round(c));let a=100-r.reduce((c,u)=>c+u,0);const o=n.map((c,u)=>({i:u,f:c-Math.round(c)})).sort((c,u)=>u.f-c.f);for(let c=0;c<o.length&&a>0;c++)r[o[c].i]+=1,a-=1;return r}const BP=["","","","",""];function Bse(e,t){const n=[De(e[0]??""),De(e[1]??""),De(e[2]??""),De(e[3]??"")],{elementScoreRaw:r}=NE({pillars:n,criteriaMode:t?.criteriaMode??"modern",useHarmonyOverlay:t?.useHarmonyOverlay??!0,luck:void 0}),i=BP.map(c=>r[c]??0),a=$se(i),o={:0,:0,:0,:0,:0};return BP.forEach((c,u)=>{o[c]=a[u]}),o}function Z4(e,t){const n=Bse(e,t),r=De(e[2]??"").charAt(0),a={:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}[r];if(!a)return 0;const o={:"",:"",:"",:"",:""},c=n[a]??0,u=n[o[a]]??0;return c+u*.7}const zd={:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},X4={:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},S0={:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},zse=["","","","",""];function zP(e){return zse.includes(e)}const Use={:"",:"",:"",:"",:""},Hse={:"",:"",:"",:"",:""},Fse={:"",:"",:"",:"",:""},Gse={:"",:"",:"",:"",:""};function xm(e){if(!e)return null;const t=e.trim();if(["","","","","","","","","",""].includes(t))return t;if(Rn[t])return Rn[t];if(["","","","","","","","","","","",""].includes(t))return S0[t]??null;if(Gn[t])return S0[Gn[t]]??null;const n=t.charAt(0);return Rn[n]?Rn[n]:["","","","","","","","","",""].includes(n)?n:Gn[n]?S0[Gn[n]]??null:["","","","","","","","","","","",""].includes(n)?S0[n]??null:null}function qse(e,t){const n=zd[e],r=zd[t];if(!n||!r)return"";let i;r===n?i="":r===Use[n]?i="":r===Hse[n]?i="":r===Fse[n]?i="":r===Gse[n]?i="":i="";const a=zP(e)===zP(t);switch(i){case"":return a?"":"";case"":return a?"":"";case"":return a?"":"";case"":return a?"":"";case"":return a?"":""}}function Yse(e){switch(e){case"":case"":return"";case"":case"":return"";case"":case"":return"";case"":case"":return"";case"":case"":return""}}function wv(e){const t=Object.entries(e),n=t.reduce((f,[,m])=>f+(m>0?m:0),0);if(n<=0)return Object.fromEntries(t.map(([f])=>[f,0]));const r=t.map(([f,m])=>[f,(m>0?m:0)*100/n]),i=r.map(([f,m])=>[f,Math.floor(m)]);let a=i.reduce((f,[,m])=>f+m,0);const o=r.map(([f,m])=>[f,m-Math.floor(m)]).sort((f,m)=>m[1]-f[1]),c=Object.fromEntries(i.map(([f,m])=>[f,m]));let u=0;for(;a<100&&u<o.length;)c[o[u][0]]+=1,a+=1,u+=1;return c}function Kse(e){const t={:0,:0,:0,:0,:0};for(const[n,r]of Object.entries(e??{})){const i=zd[xm(n)];i&&r>0&&(t[i]+=r)}return wv(t)}function Wse(e,t){const n={:0,:0,:0,:0,:0,:0,:0,:0,:0,:0};for(const[r,i]of Object.entries(e??{})){if(i<=0)continue;const a=xm(r);if(!a)continue;const o=qse(t,a);n[o]+=i}return n}function Vse(e){const t={:0,:0,:0,:0,:0};for(const[n,r]of Object.entries(e)){const i=Yse(n);t[i]+=r}return wv(t)}function UP(e){const t=Array.isArray(e)?e.slice(0,4):[];for(;t.length<4;)t.push("");return t.map((n,r)=>{const i=De(n??"");return i||(r<=2?"--":"")})}function J2(e,t){const n=!!t?.includeBranches,r={:!1,:!1,:!1,:!1,:!1};for(const i of e){if(!i)continue;const a=zd[i.charAt(0)];if(a&&(r[a]=!0),n){const o=X4[i.charAt(1)];o&&(r[o]=!0)}}return r}function Q2(e){const t={:0,:0,:0,:0,:0};for(const n of e){if(!n)continue;const r=zd[n.charAt(0)],i=X4[n.charAt(1)];r&&(t[r]+=10),i&&(t[i]+=6)}return t}function e1(e){return e[0]?.length===2&&e[1]?.length===2&&e[2]?.length===2}const Zse=["","","","","","","","","",""];function Xse(e){const t={};for(const[n,r]of Object.entries(e??{})){if(r<=0)continue;const i=xm(n);i&&(t[i]=(t[i]??0)+r)}return t}function Jse(e){const n={...{:0,:0,:0,:0,:0,:0,:0,:0,:0,:0}};for(const r of Zse){const i=zd[r],a=`${r}${i}`;n[a]=Math.max(0,Math.round(e[r]??0))}return n}const Qse={natal:50,dae:30,se:20,wol:7,il:3};function ele(e){const t={};for(const{kind:r,bare:i}of e){const a=Qse[r]??0;if(a<=0)continue;const o=wv(i);for(const[c,u]of Object.entries(o))t[c]=(t[c]??0)+u*a}const n=Object.values(t).reduce((r,i)=>r+i,0);if(n>0)for(const r of Object.keys(t))t[r]=t[r]/n*100;return t}function tle(e){if(!e)return[];const t=xm(e.charAt(0)),n=xm(e.charAt(1));return[t,n].filter(Boolean)}function E0(e){const t=tle(e),n={};for(const r of t)n[r]=(n[r]??0)+1;return n}const ME=["","","","",""];function nle(e){const t=(e??"").trim(),n=t?t[t.length-1]:"";return["","",""].includes(n)?"WINTER":["","",""].includes(n)?"SUMMER":["","",""].includes(n)?"SPRING":["","",""].includes(n)?"AUTUMN":"UNKNOWN"}function rle(e,t){const n=ME.filter(u=>t[u]),r=n.map(u=>e[u]??0),i=r.length?Math.max(...r):0,a=r.length?Math.min(...r):0,o=Math.round(i-a),c=n.length>=3&&o<=12;return{presentEls:n,spread:o,balancedPresent:c}}function eA(e){return/||wood/i.test(e)?"":/||fire/i.test(e)?"":/||earth/i.test(e)?"":/||metal/i.test(e)?"":/||water/i.test(e)?"":null}function ile(e){switch(e){case"":return"";case"":return"";case"":return"";case"":return"";case"":return""}}function HP(e){switch(e){case"":return"";case"":return"";case"":return"";case"":return"";case"":return""}}function ale(e){const n=[["",""],["",""],["",""],["",""],["",""]],r=[];for(const[i,a]of n){const o=e[i]??0,c=e[a]??0;if(o<20||c<20)continue;let u=null,f=null;if(HP(i)===a)u=i,f=a;else if(HP(a)===i)u=a,f=i;else continue;const m=ile(u),p=`${u}()${f}    ${m}( )`;r.push({a:i,b:a,controller:u,controlled:f,mediator:m,reason:p})}return r}function tA(e,t){const n=Math.max(.1,1-t/120);return Math.max(0,Math.round(e*n))}function Ph(e,t,n){return n?e.map(r=>!r.elNorm||t[r.elNorm]?r:{...r,score:0,reasons:[...r.reasons,":    0"]}):e}function Dh(e,t,n){const r=i=>i?t[i]:!1;return[...e].sort((i,a)=>{if(n){const o=r(i.elNorm)?1:0,c=r(a.elNorm)?1:0;if(o!==c)return c-o}return a.score!==i.score?a.score-i.score:(i.elNorm??i.element).localeCompare(a.elNorm??a.element,"ko")})}function ole(e,t){const n=(e??"").trim(),r=n?n[n.length-1]:"",i=new Set(["","",""]),a=new Set(["","",""]),o=new Set(["","",""]),c=new Set(["","",""]);let u=[];return i.has(r)?u=[{el:"",base:110,why:"():     "},{el:"",base:60,why:" :      "}]:a.has(r)?u=[{el:"",base:110,why:"():     "},{el:"",base:70,why:" :   () "}]:o.has(r)?u=[{el:"",base:90,why:"():     /"},{el:"",base:55,why:" : ()    "}]:c.has(r)?u=[{el:"",base:85,why:"():     "},{el:"",base:75,why:"():     "}]:u=[{el:"",base:60,why:":       ()"},{el:"",base:60,why:":       ()"}],u.map(f=>({element:f.el,elNorm:f.el,score:tA(f.base,t[f.el]??0),reasons:[f.why,` ${f.el}  ${Math.round(t[f.el]??0)}%`]}))}function sle(e){const t=ale(e);if(!t.length)return{applicable:!1,items:[],note:"       "};const n=new Map;for(const i of t){const a=e[i.a]??0,o=e[i.b]??0,c=Math.min(a,o),u=95+Math.round(c/2),f=n.get(i.mediator),m=[i.reason,`(${i.a} ${Math.round(a)}%  ${i.b} ${Math.round(o)}%)`,` : ${i.controller}${i.mediator}${i.controlled}`];f?n.set(i.mediator,{score:Math.max(f.score,u),reasons:[...f.reasons,...m]}):n.set(i.mediator,{score:u,reasons:m})}return{applicable:!0,items:Array.from(n.entries()).map(([i,a])=>({element:i,elNorm:i,score:tA(a.score,e[i]??0),reasons:a.reasons})),note:"////       ( )  "}}function lle(e,t){let n="",r=e.??0;for(const f of ME){const m=e[f]??0;m<r&&(r=m,n=f)}const i=ME.some(f=>!t[f]);if(!(i||r<=8))return{applicable:!1,items:[],note:"    ( )  "};const c=tA((i?85:70)+Math.round((8-Math.min(8,r))*6),e[n]??0);return{applicable:!0,items:[{element:n,elNorm:n,score:c,reasons:[i?"():  /  ":"():      ",`  ${n} = ${Math.round(r)}%`]}],note:" ()  ( 8% )      "}}function nA(e){const{eokbuList:t,monthGz:n,elemPct:r,presentMap:i,demoteAbsent:a,gyeokgukList:o}=e,c=Dh(Ph(t,i,a),i,a),u=Dh(Ph(ole(n,r),i,a),i,a),f=nle(n),m=rle(r,i),p=f==="WINTER"||f==="SUMMER"?.85:.55,g=1.25,v=sle(r),_=Dh(Ph(v.items,i,a),i,a),w=lle(r,i),E=Dh(Ph(w.items,i,a),i,a),T=Array.isArray(o)?o:[],N=T.length>0,O=Dh(Ph(T,i,a),i,a),P=z=>Math.max(0,...z.map(X=>Number.isFinite(X.score)?X.score:0)),D=[{kind:"EOKBU",title:"",marker:"",priority:1,weight:g,applicable:c.length>0,note:"1.  /()  ",candidates:c},{kind:"JOHU",title:"",marker:"",priority:2,weight:p,applicable:!0,note:f==="WINTER"?"2. ()   ":f==="SUMMER"?"2. ()   ":"2.    ,   ",candidates:u},{kind:"TONGGWAN",title:"",marker:"",priority:3,weight:.7,applicable:v.applicable,note:v.note,candidates:_},{kind:"BYEONGYAK",title:"",marker:"",priority:3,weight:.7,applicable:w.applicable,note:w.note,candidates:E},{kind:"GYEOKGUK",title:"",marker:"",priority:4,weight:.55,applicable:N,note:N?"/     ( )":"  (//  )",candidates:O}].map(z=>{const X=P(z.candidates),Q=z.candidates[0];let J=0;if(z.applicable&&Q){if(J=Q.score*z.weight,z.kind==="EOKBU"&&!m.balancedPresent){const q=Math.min(35,Math.round(m.spread*.9));J+=q}z.kind==="EOKBU"&&m.balancedPresent&&(J*=.75),Q.elNorm&&!i[Q.elNorm]&&(J*=.25)}return{...z,maxScore:X,fitScore:Math.round(J),finalScore:Math.round(J)}}).sort((z,X)=>z.priority-X.priority),$=[...D].filter(z=>z.applicable&&z.candidates.length>0).sort((z,X)=>X.fitScore!==z.fitScore?X.fitScore-z.fitScore:z.priority-X.priority)[0],H=Math.max(0,...D.map(z=>z.fitScore)),Y=$?.kind??null,K=D.map(z=>{if(!Y)return z;if(z.kind===Y){const X=z.fitScore<H?H+1:z.fitScore;return{...z,finalScore:X}}return{...z,finalScore:z.fitScore}}),F=Y?K.find(z=>z.kind===Y)??null:null;return{bestKind:Y,best:F,groups:K}}const cle={:"",:"",:"",:"",:""},ule={:"",:"",:"",:"",:""},dle={:"",:"",:"",:"",:""},fle={:"",:"",:"",:"",:""};function t1(e){switch(e){case"":case"":case"":case"":return"";case"":case"":case"":case"":return"";case"":case"":case"":case"":return"";case"":case"":case"":case"":return"";case"":case"":case"":case"":return"";default:return null}}function hle(e){const t=(e||"").trim();return!t||t==="-"?null:t.includes("")?"":t.includes("")?"":t.includes("")?"":t.includes("")?"":t.includes("")?"":t.includes("")||t.includes("")?"":t.includes("")?"":t.includes("")?"":t.includes("")||t.includes("")?"":t.includes("")?"":null}function mle(e){return e===""||e===""?"":e===""||e===""?"":e===""||e===""?"":e===""||e===""?"":""}function ple(e,t){switch(t){case"":return e;case"":return cle[e];case"":return dle[e];case"":return fle[e];case"":return ule[e]}}function gle(e,t){const n=new Map,r=(u,f,m)=>{if(!u)return;const p=n.get(u);if(!p){n.set(u,{element:u,score:f,reasons:[m]});return}p.score=Math.max(p.score,f),p.reasons=p.reasons.includes(m)?p.reasons:[...p.reasons,m]},i=t1(t),a=hle(e.);if(i&&a){const u=mle(a),f=ple(i,u);r(f,92,` ${e.}  ${u} (${f})`)}const o=t1(e.);o&&r(o,86,` ${e.}  (${o})`);const c=t1(e.);return c&&r(c,70,` ${e.}  (${c})`),Array.from(n.values()).sort((u,f)=>f.score-u.score)}const Rh=e=>e&&e.length>=1?e.charAt(0):"",k0=e=>e&&e.length>=2?e.charAt(1):"";function yle(e){const t=String(e??"");if(!/^\d{8}$/.test(t))return new Date;const n=Number(t.slice(0,4)),r=Number(t.slice(4,6)),i=Number(t.slice(6,8)),a=new Date(n,r-1,i,12,0,0,0);return Number.isNaN(a.getTime())?new Date:a}function ble({data:e,pillars:t,lunarPillars:n,daewoonGzProp:r,blendTab:i,demoteAbsent:a}){const{date:o,yearGZ:c,monthGZ:u,dayGZ:f}=ci(),m=S.useMemo(()=>De(c),[c]),p=S.useMemo(()=>De(u),[u]),g=S.useMemo(()=>De(f),[f]),v=ou(e,e?.mingSikType),_=S.useMemo(()=>{if(!v?.length)return 0;const _e=v.findIndex((je,Le)=>{const Ve=v[Le+1]?.at;return o>=je.at&&(!Ve||o<Ve)});return _e!==-1?_e:o<v[0].at?0:v.length-1},[v,o]),w=S.useMemo(()=>{const _e=r??v?.[_]?.gz??"";return De(_e)||null},[r,v,_]),{manualHour:E}=Gm(),T=e.mingSikType??"/",N=S.useMemo(()=>UP(t),[t]),O=S.useMemo(()=>UP(n),[n]),P=S.useMemo(()=>{const _e=[...N];return(!_e[3]||_e[3]===""||_e[3]==="--")&&E&&(_e[3]=E.stem+E.branch),_e},[N,E]),C=S.useMemo(()=>{const _e=[...O];return(!_e[3]||_e[3]===""||_e[3]==="--")&&E&&(_e[3]=E.stem+E.branch),_e},[O,E]),D=S.useMemo(()=>{const _e=Number(e.birthDay?.slice(0,4)),je=Number(e.birthDay?.slice(4,6)),Le=Number(e.birthDay?.slice(6,8));if(!Number.isFinite(_e)||!Number.isFinite(je)||!Number.isFinite(Le))return null;const Ve=new Date(_e,je-1,Le,12,0,0,0),bt=De(at(Ve)||""),xt=De(kt(Ve)||""),Pt=De(gt(Ve,T)||"");return[bt,xt,Pt,""]},[e.birthDay,T]),$=e1(P),H=e1(C),K=(e.calendarType==="lunar"?"lunar":"solar")==="lunar"?H?"lunar":$?"solar":"lunar":$?"solar":H?"lunar":"solar",F=S.useMemo(()=>{const je=[...K==="lunar"?H?C:$?P:D??["","","",""]:$?P:H?C:D??["","","",""]];return(!je[3]||je[3]===""||je[3]==="--")&&E&&(je[3]=E.stem+E.branch),je[3]==="--"&&(je[3]=""),je},[K,$,H,P,C,D,E]),z=S.useMemo(()=>Rh(F[2]??""),[F]),X=S.useMemo(()=>k0(F[1]??""),[F]),Q=S.useMemo(()=>yle(e.birthDay),[e.birthDay]),J=S.useMemo(()=>E?E.stem+E.branch:F[3]||"",[E,F]),q=S.useMemo(()=>({dae:i!==""?w??null:null,se:i===""||i===""||i===""?m??null:null,wol:i===""||i===""?p??null:null,il:i===""?g??null:null}),[i,w,m,p,g]),Z=S.useMemo(()=>_v({natal:F,tab:i,chain:q,hourKey:J}),[F,i,q,J]),re=S.useMemo(()=>{if(!Z)return null;const _e=Xse(Z.perStemElementScaled),je=q.dae?E0(q.dae):{},Le=q.se?E0(q.se):{},Ve=q.wol?E0(q.wol):{},bt=q.il?E0(q.il):{},xt=ele([{kind:"natal",bare:_e},{kind:"dae",bare:je},{kind:"se",bare:Le},{kind:"wol",bare:Ve},{kind:"il",bare:bt}]),Pt=wv(xt),fe=Jse(Pt),Me=Wse(xt,Z.dayStem),Be=Vse(Me),lt=Kse(xt);return{perStemAugBare:xt,perStemAugFull:fe,elemPct100:lt,totalsMain:Be,totalsSub:Me}},[Z,q]),ue=S.useMemo(()=>J2(F,{includeBranches:!0}),[F]),se=S.useMemo(()=>["","","","",""].some(_e=>!ue[_e]),[ue]),B=re?.elemPct100??Z?.elementPercent100??Q2(F),W=S.useMemo(()=>{if(!Z||!re)return[];const _e=$4(Z.dayStem);return Object.entries(re.totalsMain).map(([je,Le])=>({name:je,value:Le,color:_e[je]}))},[Z,re]),ae=re?.elemPct100??{:0,:0,:0,:0,:0},V=re?.totalsSub??null,oe=S.useMemo(()=>[i,w??"",m??"",p??"",g??"",o?.toISOString?.()??"",J].join("|"),[i,w,m,p,g,o,J]),me=S.useMemo(()=>{const _e=V?Object.entries(V).sort(([Le],[Ve])=>Le.localeCompare(Ve)).map(([Le,Ve])=>`${Le}:${Ve}`).join(","):"none",je=W.map(Le=>`${Le.name}:${Le.value}`).join(",");return`${oe}||${F.join("")}||${je}||${_e}`},[oe,F,W,V]),pe=typeof Bd=="function"?Bd(F,Z?.totals):null,be=S.useMemo(()=>(pe?.ordered??[]).map(je=>{const Le=je.element??"",Ve=/||wood/i.test(Le)?"":/||fire/i.test(Le)?"":/||earth/i.test(Le)?"":/||metal/i.test(Le)?"":/||water/i.test(Le)?"":null,bt=typeof je.score=="number"?je.score:Ve?B[Ve]??0:0,xt=Array.isArray(je.reasons)?je.reasons:[];return{element:Le,elNorm:Ve,score:bt,reasons:xt}}),[pe,B]),ne=S.useMemo(()=>be.map(_e=>({element:_e.element,elNorm:_e.elNorm,score:_e.score,reasons:_e.reasons})),[be]),Oe=S.useMemo(()=>{if(!z||!X)return[];const[_e,je,Le,Ve]=F,bt=[Rh(_e),Rh(je),Rh(Le),Rh(Ve)].filter(Boolean),xt=[k0(_e),k0(Le),k0(Ve)].filter(Boolean),Pt=L4({dayStem:z,monthBranch:X,date:Q,pillars:F,emittedStems:bt,otherBranches:xt}),fe=gle(Pt,z),Me=Be=>/||wood/i.test(Be)?"":/||fire/i.test(Be)?"":/||earth/i.test(Be)?"":/||metal/i.test(Be)?"":/||water/i.test(Be)?"":null;return(fe??[]).map(Be=>({element:Be.element,elNorm:Me(Be.element),score:Number.isFinite(Be.score)?Be.score:0,reasons:Array.isArray(Be.reasons)?Be.reasons:[]}))},[F,z,X,Q]),Ce=S.useMemo(()=>{const _e=F[1]||"";return nA({eokbuList:ne,monthGz:_e,elemPct:B,presentMap:ue,demoteAbsent:a,gyeokgukList:Oe})},[F,ne,B,ue,a,Oe]),ve=S.useMemo(()=>{const _e=Ce.best;return _e?.candidates?.length?_e.candidates.map(je=>({element:je.element,elNorm:je.elNorm,score:je.score,reasons:je.reasons})):be},[Ce,be]),Ze=S.useMemo(()=>Math.max(0,...ve.map(_e=>Number.isFinite(_e.score)?_e.score:0)),[ve]),Ne=S.useMemo(()=>Z4(F,{criteriaMode:"modern",useHarmonyOverlay:!0}),[F]);return{seGz:m,wolGz:p,ilGz:g,daewoonGz:w,activePillars:F,chain:q,unified:Z,overlay:re,chartData:W,elementPct:ae,tenSubTotals100:V,hourKeyForUi:J,revKey:me,yongshinMulti:Ce,yongshinRecommend:Ce,yongshinList:ve,maxScore:Ze,hasAbsent:se,dayElementPercent:Ne,isValidActive:e1(F)}}function vle(e){if(typeof e!="object"||e===null)return!1;const t=e,n=t.at,r=t.gz;return n instanceof Date&&!Number.isNaN(n.getTime())&&typeof r=="string"}function xle(e){const t=new Date(e,1,15,12,0,0,0);return De(at(t)||"")}function _le(e,t){return e||Q2(t)}function wle(e,t){return(e?.ordered??[]).map(r=>{const i=r.element??"",a=eA(i),o=typeof r.score=="number"?r.score:a?t[a]??0:0;return{element:i,elNorm:a,score:o,reasons:Array.isArray(r.reasons)?r.reasons:[]}})}function Sle(e){const{data:t,pillars:n,hourKey:r,demoteAbsent:i,gyeokgukList:a}=e,o=ou(t,t?.mingSikType),c=S.useMemo(()=>Array.isArray(o)?o.filter(vle).slice(0,10):[],[o]),[u,f]=S.useState(0),[m,p]=S.useState(0),g=Math.max(0,Math.min(c.length-1,u)),v=c[g]??null,_=S.useMemo(()=>{if(!v)return[];const $=v.at.getFullYear();return Array.from({length:10},(H,Y)=>{const K=$+Y;return{year:K,gz:xle(K)}})},[v]),w=m==null?null:Math.max(0,Math.min(_.length-1,m)),E=w==null?null:_[w]??null,T=S.useMemo(()=>J2(n,{includeBranches:!0}),[n]),N=S.useMemo(()=>["","","","",""].some($=>!T[$]),[T]),O=S.useMemo(()=>{const $=v?De(v.gz):null,H=E?De(E.gz):null;return{dae:$||null,se:H||null,wol:null,il:null}},[v,E]),P=S.useMemo(()=>O.se?"":"",[O.se]),C=S.useMemo(()=>{const $=v?`${v.at.getFullYear()}~ ${De(v.gz)}`:" -",H=E?` / ${E.year} ${De(E.gz)}`:"";return`${$}${H}`},[v,E]),D=S.useMemo(()=>{if(!v)return null;const $=_v({natal:n,tab:P,chain:O,hourKey:r}),H=_le($?.elementPercent100,n),Y=typeof Bd=="function"?Bd(n,$?.totals):null,K=wle(Y,H);return nA({eokbuList:K,monthGz:n[1]||"",elemPct:H,presentMap:T,demoteAbsent:i,gyeokgukList:Array.isArray(a)?a:null})},[v,n,P,O,r,T,i,a]);return{daeIndex:g,setDaeIndex:f,seIndex:w,setSeIndex:p,dae10:c,se10:_,chain:O,tab:P,label:C,recommend:D,presentMap:T,hasAbsent:N}}const Ele={EOKBU:"",JOHU:"",TONGGWAN:"",BYEONGYAK:"",GYEOKGUK:""};function PE(e){return e?Ele[e]??e:""}function kle(e){if(typeof e!="object"||e===null)return!1;const t=e;return t.at instanceof Date&&!Number.isNaN(t.at.getTime())&&typeof t.gz=="string"}function Ale(e){const t=new Date(e,1,15,12,0,0,0);return De(at(t)||"")}function n1(e){const t=e?.best??null,n=t?.candidates?.[0]??null,r=t?.kind??null,i=n?.element??null,a=n?.elNorm??(n?.element?eA(n.element):null),o=typeof t?.fitScore=="number"?t.fitScore:0,c=r&&i?`${PE(r)}:${i}`:r?`${PE(r)}:`:"";return{kind:r,top1:i,top1ElNorm:a,fit:o,label:c,result:e}}function Tle(e,t){return(e?.ordered??[]).map(r=>{const i=r.element??"",a=eA(i),o=typeof r.score=="number"?r.score:a?t[a]??0:0;return{element:i,elNorm:a,score:o,reasons:Array.isArray(r.reasons)?r.reasons:[]}})}function FP(e){const{pillars:t,hourKey:n,chain:r,tab:i,demoteAbsent:a,presentMap:o,gyeokgukList:c}=e,u=_v({natal:t,tab:i,chain:r,hourKey:n}),f=u?.elementPercent100??Q2(t),m=typeof Bd=="function"?Bd(t,u?.totals):null,p=Tle(m,f);return nA({eokbuList:p,monthGz:t[1]||"",elemPct:f,presentMap:o,demoteAbsent:a,gyeokgukList:Array.isArray(c)?c:null})}function Ole(e){const t=[];for(const n of e){const r=t[t.length-1];if(!r){t.push({fromYear:n.year,toYear:n.year,snap:n.snap});continue}r.snap.label===n.snap.label?r.toYear=n.year:t.push({fromYear:n.year,toYear:n.year,snap:n.snap})}return t}const mo=({text:e,tone:t="base",onClick:n,title:r})=>{const i=t==="pick"?"bg-violet-100 text-violet-800 border-violet-200 dark:bg-violet-900/30 dark:text-violet-200 dark:border-violet-800":t==="diff"?"bg-amber-100 text-amber-800 border-amber-200 dark:bg-amber-900/30 dark:text-amber-200 dark:border-amber-800 cursor-pointer":"bg-neutral-200 dark:bg-neutral-800 text-neutral-700 dark:text-neutral-300 border-neutral-200 dark:border-neutral-700",a=x.jsx("span",{className:`inline-flex items-center text-[11px] px-2 py-0.5 rounded-full border whitespace-nowrap ${i}`,title:r,children:e});return n?x.jsx("button",{type:"button",className:"inline-flex",onClick:n,title:r,children:a}):a};function GP({snap:e}){const t=e.result?.best??null,n=t?.candidates?.slice(0,3)??[];return t?x.jsxs("div",{className:"mt-2 rounded-lg border border-neutral-200 dark:border-neutral-800 bg-white dark:bg-neutral-900 p-3",children:[x.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[x.jsx(mo,{text:`: ${PE(t.kind)}`,tone:"pick"}),x.jsx(mo,{text:` ${t.fitScore}`}),n[0]?.element?x.jsx(mo,{text:`1 ${n[0].element}`,tone:"diff"}):null]}),t.note?x.jsx("div",{className:"mt-2 text-xs text-neutral-600 dark:text-neutral-400 whitespace-normal break-words",children:t.note}):null,n.length?x.jsx("ul",{className:"mt-2 space-y-2",children:n.map((r,i)=>x.jsx("li",{className:"text-xs",children:x.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[x.jsx(mo,{text:`${i+1} ${r.element}`}),x.jsx(mo,{text:` ${r.score}`}),(r.reasons??[]).slice(0,4).map((a,o)=>x.jsx(mo,{text:a},o))]})},`${r.elNorm??r.element}-${i}`))}):x.jsx("div",{className:"mt-2 text-xs text-neutral-600 dark:text-neutral-400",children:" "})]}):x.jsx("div",{className:"text-xs text-neutral-600 dark:text-neutral-400",children:" "})}function jle(e){const{data:t,pillars:n,hourKey:r,demoteAbsent:i,natal:a}=e,o=S.useMemo(()=>J2(n,{includeBranches:!0}),[n]),c=ou(t,t?.mingSikType),u=S.useMemo(()=>Array.isArray(c)?c.filter(kle).slice(0,10):[],[c]),f=S.useMemo(()=>n1(a),[a]),[m,p]=S.useState(null),g=w=>p(E=>E===w?null:w),v=S.useMemo(()=>u.map((w,E)=>{const T=De(w.gz)||"",O=FP({pillars:n,hourKey:r,chain:{dae:T||null,se:null,wol:null,il:null},tab:"",demoteAbsent:i,presentMap:o}),P=n1(O),C=w.at.getFullYear(),D=Array.from({length:10},(F,z)=>{const X=C+z,Q=Ale(X),q=FP({pillars:n,hourKey:r,chain:{dae:T||null,se:Q||null,wol:null,il:null},tab:"",demoteAbsent:i,presentMap:o}),Z=n1(q);return{year:X,snap:Z}}),H=Ole(D).filter(F=>F.snap.top1ElNorm!==P.top1ElNorm),Y=P.top1ElNorm!==f.top1ElNorm,K=Y||H.length>0;return{idx:E,dae:w,daeLabel:`${C}~ ${T||""}`,daeSnap:P,daeDiffFromNatal:Y,segDiffOnly:H,hasAnyChange:K}}).filter(w=>w.hasAnyChange),[u,n,r,i,o,f.top1ElNorm]),_=S.useMemo(()=>v.some(w=>w.hasAnyChange),[v]);return x.jsxs("div",{className:"rounded-xl bg-neutral-100 dark:bg-neutral-900 p-4 space-y-3",children:[x.jsxs("div",{className:"flex items-center justify-between gap-2",children:[x.jsx("div",{className:"text-sm font-bold",children:"  "}),x.jsxs("div",{className:"text-xs text-neutral-600 dark:text-neutral-400 whitespace-normal break-words",children:["(): ",f.label," /  ",f.fit]})]}),_?x.jsx("div",{className:"space-y-3",children:v.map(w=>{const E=`dae:${w.idx}`,T=m===E;return x.jsxs("div",{className:"rounded-lg border border-neutral-200 dark:border-neutral-800 bg-white dark:bg-neutral-900 p-3",children:[x.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[x.jsx(mo,{text:` ${w.daeLabel}`,tone:"base"}),x.jsx(mo,{text:` ${w.daeSnap.label} ( ${w.daeSnap.fit})`,tone:w.daeDiffFromNatal?"diff":"base",onClick:()=>g(E),title:" (top3) "}),w.daeDiffFromNatal?x.jsx(mo,{text:" ",tone:"diff"}):null]}),w.segDiffOnly.length?x.jsx("div",{className:"mt-2 flex flex-wrap gap-2",children:w.segDiffOnly.map((N,O)=>{const P=`seg:${w.idx}:${O}`,C=m===P,D=N.fromYear===N.toYear?`${N.fromYear}`:`${N.fromYear}~${N.toYear}`;return x.jsxs("div",{className:"inline-flex flex-col",children:[x.jsx("div",{className:"flex items-center gap-2",children:x.jsx(mo,{text:` ${D}  ${N.snap.label} ( ${N.snap.fit})`,tone:"diff",onClick:()=>g(P),title:" (top3) "})}),C?x.jsx(GP,{snap:N.snap}):null]},P)})}):null,T?x.jsx(GP,{snap:w.daeSnap}):null]},E)})}):x.jsx("div",{className:"w-full p-3 rounded-xl bg-neutral-100 dark:bg-neutral-900 text-sm text-neutral-600 dark:text-neutral-400 text-center",children:"  ."})]})}function Nle(e,t){if(t<=0)return"12%";const n=Math.round(e/t*100);return`${Math.max(2,Math.min(100,n))}%`}function Cle(e){return e.slice(0,3)}const rm=({text:e,tone:t="base"})=>{const n=t==="best"?"bg-violet-100 text-violet-800 border-violet-200 dark:bg-violet-900/30 dark:text-violet-200 dark:border-violet-800":"bg-neutral-200 dark:bg-neutral-800 text-neutral-700 dark:text-neutral-300";return x.jsx("span",{className:`text-[11px] px-2 py-0.5 rounded-full border border-transparent ${n}`,children:e})};function Mle({g:e,isBest:t}){const n=Cle(e.candidates);return x.jsxs("details",{open:t,className:"rounded-lg border border-neutral-200 dark:border-neutral-800 bg-white dark:bg-neutral-900",children:[x.jsx("summary",{className:"list-none cursor-pointer px-3 py-2 flex flex-col gap-2",children:x.jsxs("div",{className:"flex flex-wrap items-start gap-2",children:[x.jsxs("span",{className:"text-xs px-2 py-0.5 rounded-full bg-neutral-200 dark:bg-neutral-800 text-neutral-800 dark:text-neutral-200",children:[e.marker," ",e.title]}),x.jsx("span",{className:"max-w-[62%] text-xs text-neutral-600 dark:text-neutral-400 whitespace-normal break-words",children:e.note}),!e.applicable&&x.jsx(rm,{text:" "}),t&&x.jsx(rm,{text:" ",tone:"best"}),x.jsx(rm,{text:` ${e.fitScore}`})]})}),x.jsx("div",{className:"px-3 pb-3 pt-1",children:n.length===0?x.jsx("div",{className:"text-xs text-neutral-600 dark:text-neutral-400",children:" "}):x.jsx("ul",{className:"space-y-2",children:n.map((r,i)=>x.jsxs("li",{className:"flex items-start justify-between gap-3 rounded-lg border border-neutral-200 dark:border-neutral-800 p-2",children:[x.jsxs("div",{className:"flex items-center gap-2",children:[x.jsxs("span",{className:"text-xs px-2 py-0.5 rounded-full bg-neutral-200 dark:bg-neutral-800 text-neutral-800 dark:text-neutral-200",children:[i+1,""]}),x.jsx("span",{className:"text-sm font-semibold",children:r.element})]}),x.jsxs("div",{className:"flex-1",children:[x.jsx("div",{className:"mt-1 h-1.5 w-full rounded bg-neutral-300 dark:bg-neutral-800 overflow-hidden",children:x.jsx("div",{className:"h-1.5 rounded bg-white dark:bg-neutral-100",style:{width:Nle(r.score??0,e.maxScore)},title:` ${r.score}`})}),x.jsx("div",{className:"mt-2 flex flex-wrap gap-1.5",children:(r.reasons??[]).slice(0,6).map((a,o)=>x.jsx("span",{className:"text-[11px] px-2 py-0.5 rounded-full bg-neutral-200 dark:bg-neutral-800 text-neutral-700 dark:text-neutral-300",children:a},o))})]})]},`${e.kind}-${r.elNorm??r.element}-${i}`))})})]})}function Ple({best:e}){const t=e?.candidates?.[0]??null;return x.jsxs("div",{className:"rounded-lg border border-neutral-200 dark:border-neutral-800 p-3 bg-white/60 dark:bg-neutral-950/20",children:[x.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[x.jsx("span",{className:"text-xs px-2 py-0.5 rounded-full bg-neutral-200 dark:bg-neutral-800 text-neutral-800 dark:text-neutral-200",children:" "}),x.jsx("div",{className:"text-sm font-semibold",children:e?x.jsxs(x.Fragment,{children:[x.jsx("span",{className:"mr-1",children:e.marker}),e.title]}):""}),t?.element?x.jsx(rm,{text:`1: ${t.element}`}):null,e?.fitScore!=null?x.jsx(rm,{text:` ${e.fitScore}`}):null]}),e?.note?x.jsx("div",{className:"mt-2 text-xs text-neutral-600 dark:text-neutral-400 leading-relaxed whitespace-normal break-words",children:e.note}):null]})}function Dle({recommend:e,data:t,pillars:n,hourKey:r,demoteAbsent:i}){const a=e,o=Sle({data:t,pillars:n,hourKey:r,demoteAbsent:i});return x.jsxs("div",{className:"w-full p-4 rounded-xl bg-neutral-100 dark:bg-neutral-900 space-y-4",children:[x.jsxs("div",{className:"space-y-3",children:[x.jsxs("div",{className:"flex items-center justify-between gap-2",children:[x.jsx("div",{className:"text-sm font-bold",children:"  ()"}),o.hasAbsent?x.jsxs("span",{className:"text-xs text-neutral-600 dark:text-neutral-400",children:["*   ",i?" ( ON)":""]}):null]}),x.jsx(Ple,{best:a.best}),x.jsx("div",{className:"space-y-2",children:a.groups.map(c=>x.jsx(Mle,{g:c,isBest:a.bestKind===c.kind},c.kind))})]}),x.jsx(jle,{data:t,pillars:n,hourKey:r,demoteAbsent:i,natal:e})]})}const qP=e=>e<10?`0${e}`:`${e}`;function Rle(e){const t=e,n=typeof t.birthDay=="string"?t.birthDay:"",r=typeof t.calendarType=="string"?t.calendarType:"solar";if(n.length<8)return e;const i=Number(n.slice(0,4)),a=Number(n.slice(4,6)),o=Number(n.slice(6,8));if(r==="lunar")try{const c=Bi(i,a,o),u=`${c.getFullYear()}${qP(c.getMonth()+1)}${qP(c.getDate())}`;return{...e,birthDay:u,calendarType:"solar"}}catch{return e}return e}function Lle(e){if(typeof e!="number"&&typeof e!="string")return null;const t=String(e);if(!/^\d{8}$/.test(t))return null;const n=Number(t.slice(0,4)),r=Number(t.slice(4,6)),i=Number(t.slice(6,8)),a=new Date(n,r-1,i);return Number.isNaN(a.getTime())?null:a}function Ile({data:e,pillars:t,lunarPillars:n,daewoonGz:r}){const i=qn(f=>f.settings),a=koe(),o=Rle(e),c=Lle(o.birthDay)||void 0,u=ble({data:o,pillars:t,lunarPillars:n,daewoonGzProp:r,blendTab:a.blendTab,demoteAbsent:a.demoteAbsent});return u.isValidActive?x.jsxs("div",{className:"space-y-4 mb-4",children:[x.jsx("div",{className:"flex gap-2 justify-center flex-wrap",children:Eoe.map(f=>x.jsx("button",{onClick:()=>a.setBlendTab(f),className:"px-2 py-1 text-xs rounded border cursor-pointer "+(a.blendTab===f?"bg-yellow-500 text-black border-yellow-600":"bg-neutral-400 dark:bg-neutral-900 text-neutral-100 dark:text-neutral-300 border-neutral-400 dark:border-neutral-700"),children:f},f))}),x.jsx("div",{className:"flex gap-2 mb-4 justify-center flex-wrap",children:["  ","   ","","",""].map(f=>x.jsx("button",{onClick:()=>a.setBigTab(f),className:"px-3 py-1 text-sm rounded border cursor-pointer "+(a.bigTab===f?"bg-violet-500 text-white border-violet-600":"bg-neutral-400 dark:bg-neutral-900 text-neutral-100 dark:text-neutral-300 border-neutral-400 dark:border-neutral-700"),children:f},f))}),a.bigTab===""&&x.jsx(Qie,{pillars:u.activePillars,daewoon:u.daewoonGz||void 0,sewoon:u.seGz||void 0,wolwoon:u.wolGz||void 0,ilwoon:u.ilGz||void 0,tab:a.blendTab},`harm-${a.blendTab}-${u.hourKeyForUi}`),a.bigTab==="   "&&x.jsxs("div",{className:"space-y-4",children:[x.jsx(Vie,{data:u.chartData,revKey:u.revKey,perStemElementScaled:u.overlay?.perStemAugFull,elementPercent:u.elementPct,dayStem:u.activePillars[2]?.charAt(0)??null},`pentagon-${u.revKey}`),x.jsx(Jie,{value:u.dayElementPercent}),x.jsx(fae,{natal:u.activePillars})]}),a.bigTab===""&&x.jsx(Dle,{recommend:u.yongshinMulti,data:o,pillars:u.activePillars,hourKey:u.hourKeyForUi,demoteAbsent:a.demoteAbsent},`yongshin-${a.blendTab}-${u.hourKeyForUi}`),a.bigTab===""&&x.jsx(nae,{pillars:u.activePillars,daewoon:u.daewoonGz||void 0,sewoon:u.seGz||void 0,wolwoon:u.wolGz||void 0,ilwoon:u.ilGz||void 0,tab:a.blendTab},`shin-${a.blendTab}-${u.hourKeyForUi}`),a.bigTab==="  "&&x.jsx(doe,{unified:u.unified,pillars:u.activePillars,tab:a.blendTab,mapping:i.hiddenStemMode,birthDate:c},`gyeok-${a.blendTab}-${u.hourKeyForUi}`)]}):x.jsx("div",{className:"p-4 rounded-xl bg-neutral-100 dark:bg-neutral-900 text-sm",children:"   ."})}const A0=e=>typeof e=="string"&&e.length>=2,$le=e=>!Array.isArray(e)||e.length!==4?!1:A0(e[0])&&A0(e[1])&&A0(e[2])&&(e[3]===""||A0(e[3]));function Ble({data:e}){const[t,n]=S.useState("un"),r=S.useMemo(()=>{try{const c=Zm(e);return Al(c)}catch{return new Date}},[e]),i=S.useMemo(()=>vv(e,r),[e,r]),a=!e.birthTime||e.birthTime==="",o=S.useMemo(()=>{try{const c=at(i,e.birthPlace?.lon),u=kt(i,e.birthPlace?.lon),f=gt(i,e.mingSikType),m=a?"":$a(i,e.mingSikType);return[c,u,f,m]}catch{return[]}},[i,e?.mingSikType,e?.birthPlace?.lon,a]);return x.jsxs("div",{className:"w-[96%] max-w-[640px] mx-auto",children:[x.jsxs("div",{className:"flex border-b border-neutral-700 mb-4",children:[x.jsx("button",{onClick:()=>n("un"),className:`px-2 desk:px-4 py-2 text-xs desk:text-sm cursor-pointer border-b hover:border-purple-500 hover:text-purple-500 font-bold ${t==="un"?"border-purple-500 text-purple-500":"border-transparent text-neutral-400"}`,children:" "}),x.jsx("button",{onClick:()=>n("myoun"),className:`px-2 desk:px-4 py-2 text-xs desk:text-sm cursor-pointer border-b hover:border-purple-500 hover:text-purple-500 font-bold ${t==="myoun"?"border-purple-500 text-purple-500":"border-transparent text-neutral-400"}`,children:" "}),x.jsx("button",{onClick:()=>n("report"),className:`px-2 desk:px-4 py-2 text-xs desk:text-sm cursor-pointer border-b hover:border-purple-500 hover:text-purple-500 font-bold ${t==="report"?"border-purple-500 text-purple-500":"border-transparent text-neutral-400"}`,children:" "})]}),t==="un"&&x.jsx(Iie,{data:e}),t==="myoun"&&x.jsx(Uie,{data:e}),t==="report"&&x.jsx(Ile,{data:e,pillars:$le(o)?o:[]})]})}/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zle=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),Ule=e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(t,n,r)=>r?r.toUpperCase():n.toLowerCase()),YP=e=>{const t=Ule(e);return t.charAt(0).toUpperCase()+t.slice(1)},J4=(...e)=>e.filter((t,n,r)=>!!t&&t.trim()!==""&&r.indexOf(t)===n).join(" ").trim(),Hle=e=>{for(const t in e)if(t.startsWith("aria-")||t==="role"||t==="title")return!0};/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var Fle={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gle=S.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:i="",children:a,iconNode:o,...c},u)=>S.createElement("svg",{ref:u,...Fle,width:t,height:t,stroke:e,strokeWidth:r?Number(n)*24/Number(t):n,className:J4("lucide",i),...!a&&!Hle(c)&&{"aria-hidden":"true"},...c},[...o.map(([f,m])=>S.createElement(f,m)),...Array.isArray(a)?a:[a]]));/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zi=(e,t)=>{const n=S.forwardRef(({className:r,...i},a)=>S.createElement(Gle,{ref:a,iconNode:t,className:J4(`lucide-${zle(YP(e))}`,`lucide-${e}`,r),...i}));return n.displayName=YP(e),n};/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qle=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],Yle=zi("chevron-down",qle);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kle=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],Wle=zi("chevron-up",Kle);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vle=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],Zle=zi("circle-x",Vle);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xle=[["path",{d:"M19.414 14.414C21 12.828 22 11.5 22 9.5a5.5 5.5 0 0 0-9.591-3.676.6.6 0 0 1-.818.001A5.5 5.5 0 0 0 2 9.5c0 2.3 1.5 4 3 5.5l5.535 5.362a2 2 0 0 0 2.879.052 2.12 2.12 0 0 0-.004-3 2.124 2.124 0 1 0 3-3 2.124 2.124 0 0 0 3.004 0 2 2 0 0 0 0-2.828l-1.881-1.882a2.41 2.41 0 0 0-3.409 0l-1.71 1.71a2 2 0 0 1-2.828 0 2 2 0 0 1 0-2.828l2.823-2.762",key:"17lmqv"}]],Jle=zi("heart-handshake",Xle);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qle=[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-6a2 2 0 0 1 2.582 0l7 6A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"r6nss1"}]],ece=zi("house",Qle);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tce=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],nce=zi("log-out",tce);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rce=[["path",{d:"M4 5h16",key:"1tepv9"}],["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 19h16",key:"1djgab"}]],ice=zi("menu",rce);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ace=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],oce=zi("plus",ace);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sce=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],lce=zi("settings",sce);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cce=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}],["path",{d:"M7 21v-2a2 2 0 0 1 2-2h6a2 2 0 0 1 2 2v2",key:"1m6ac2"}]],uce=zi("square-user",cce);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dce=[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]],Q4=zi("star",dce);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fce=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]],hce=zi("user-plus",fce);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mce=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],e7=zi("x",mce);function pce({onOpenSidebar:e,onAddNew:t,onOpenCustom:n}){const r=Br(_=>_.list.length),a=_s(_=>_.canAddMyeongsik)(r),o=!a.ok,c=o?a.message:"",u=()=>{if(o){yy(c||"   ");return}t()},f=()=>{if(o){yy(c||"   ");return}n()},m="w-8 h-8 sm:w-10 sm:h-10 flex items-center justify-center rounded-md text-white focus:outline-none focus:ring-2 focus:ring-purple-500 transition-colors",p="bg-purple-600 hover:bg-purple-700 dark:bg-purple-600 dark:hover:bg-purple-500 cursor-pointer",g="bg-orange-600 hover:bg-orange-700 dark:bg-orange-600 dark:hover:bg-orange-500 cursor-pointer",v="bg-neutral-300 dark:bg-neutral-800 text-neutral-100 cursor-not-allowed opacity-80";return x.jsx("header",{className:"fixed min-w-[320px] top-0 left-0 right-0 bg-white dark:bg-neutral-950 border-b border-neutral-200 dark:border-neutral-800 z-55 px-2 desk:px-3 transition-colors",children:x.jsxs("div",{className:"relative max-w-[640px] w-full mx-auto h-12 sm:h-14 flex justify-between items-center",children:[x.jsx("button",{type:"button",onClick:e,"aria-label":" ",className:"p-2 rounded-full text-neutral-700 dark:text-neutral-200 hover:bg-neutral-100 dark:hover:bg-neutral-800 hover:text-purple-600 dark:hover:text-purple-400 focus:outline-none focus:ring-2 focus:ring-purple-500 cursor-pointer transition-colors",children:x.jsx(ice,{size:22})}),x.jsx("h1",{className:"absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 mx-auto text-base sm:text-lg font-bold tracking-tight text-neutral-900 dark:text-neutral-100",children:""}),x.jsxs("div",{className:"flex gap-2",children:[x.jsxs("button",{type:"button",onClick:u,"aria-label":" ",disabled:o,title:c,className:`${m} ${o?v:p}`,children:[x.jsx(hce,{size:18}),o?x.jsx("span",{className:"ml-1 text-[12px]",children:""}):null]}),x.jsxs("button",{type:"button",onClick:f,"aria-label":" ",disabled:o,title:c,className:`${m} ${o?v:g}`,children:[x.jsx(uce,{size:18}),o?x.jsx("span",{className:"ml-1 text-[12px]",children:""}):null]})]})]})})}function gce(e){S.useEffect(()=>{const t=e??y3()??(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light");v3(t),e&&b3(e)},[e])}const t7=["theme","hiddenStem","hiddenStemMode","sinsalMode","sinsalBase","sinsalBloom","exposure","charType","thinEum","visibility","difficultyMode"];function yce(e){return typeof e=="string"&&t7.includes(e)}function DE(e){const t=Array.isArray(e)?e.filter(yce):[],n=t7.filter(r=>!t.includes(r));return[...t,...n]}function RE(e){return{...um,...e,sectionOrder:DE(e.sectionOrder)}}function bce(e,t){return e.theme??t.theme??"dark"}function vce({open:e,settings:t}){const n=S.useMemo(()=>DE(t.sectionOrder),[t.sectionOrder]),r=S.useMemo(()=>RE(t),[t]),[i,a]=S.useState(n),[o,c]=S.useState(r),[u,f]=S.useState(null),[m,p]=S.useState(!1);return S.useEffect(()=>{if(!e||m)return;const v=DE(t.sectionOrder);c({...RE(t),sectionOrder:v}),a(v),p(!1)},[e,t,m]),{order:i,setOrder:a,localSettings:o,setLocalSettings:c,updateSetting:(v,_)=>{c(w=>{const E={...w,[v]:_};return p(!0),E})},toastMessage:u,setToastMessage:f,dirty:m,setDirty:p}}function xce(){try{typeof window<"u"&&window.localStorage.removeItem("settings_v1")}catch{}}function n7(e){b3(e)}function _ce({setSettings:e,saveToServer:t}){return{applyChanges:S.useCallback(async(r,i,a)=>{const o={...RE(r),sectionOrder:i};xce(),e(o),o.theme&&n7(o.theme),await t(!0),a()},[e,t])}}function wce({open:e,onClose:t}){const{settings:n,setSettings:r,saveToServer:i}=qn(),a=vce({open:e,settings:n}),o=_ce({setSettings:r,saveToServer:i}),c=()=>a.setToastMessage(null),u=bce(a.localSettings,n);gce(u),S.useEffect(()=>{n7(u)},[u]);const f=()=>{o.applyChanges(a.localSettings,a.order,()=>{a.setToastMessage(" "),a.setDirty(!1),t()})},m=g=>{const{destination:v,source:_}=g;if(!v||v.index===_.index)return;const w=Array.from(a.order),[E]=w.splice(_.index,1);w.splice(v.index,0,E),a.setOrder(w)},p=g=>{switch(g){case"theme":return x.jsx(Ta,{title:"",children:x.jsx(Sce,{value:a.localSettings.theme??"dark",onChange:v=>a.updateSetting("theme",v)})});case"hiddenStem":return x.jsx(Ta,{title:"  ",children:x.jsx(id,{value:a.localSettings.hiddenStem,onChange:v=>a.updateSetting("hiddenStem",v),options:[{label:"",value:"all"},{label:" ",value:"regular"}]})});case"hiddenStemMode":return x.jsx(Ta,{title:" ",children:x.jsx(id,{value:a.localSettings.hiddenStemMode,onChange:v=>a.updateSetting("hiddenStemMode",v),options:[{label:"",value:"classic"},{label:"",value:"hgc"}]})});case"sinsalMode":return x.jsx(Ta,{title:"",children:x.jsx(id,{value:a.localSettings.sinsalMode,onChange:v=>a.updateSetting("sinsalMode",v),options:[{label:"",value:"classic"},{label:"",value:"modern"}]})});case"sinsalBase":return x.jsx(Ta,{title:"",children:x.jsx(id,{value:a.localSettings.sinsalBase,onChange:v=>a.updateSetting("sinsalBase",v),options:[{label:"",value:""},{label:"",value:""}]})});case"sinsalBloom":return x.jsx(Ta,{title:" ",children:x.jsx(co,{label:" ",checked:!!a.localSettings.sinsalBloom,onChange:v=>a.updateSetting("sinsalBloom",v)})});case"exposure":return x.jsx(Ta,{title:" ",children:x.jsx(id,{value:a.localSettings.exposure,onChange:v=>a.updateSetting("exposure",v),options:[{label:"",value:""},{label:"",value:""},{label:"",value:""},{label:"",value:""}]})});case"charType":return x.jsx(Ta,{title:" ",children:x.jsx(id,{value:a.localSettings.charType,onChange:v=>a.updateSetting("charType",v),options:[{label:"",value:""},{label:"",value:""}]})});case"thinEum":return x.jsx(Ta,{title:" ",children:x.jsx(co,{label:" ",checked:!!a.localSettings.thinEum,onChange:v=>a.updateSetting("thinEum",v)})});case"visibility":return x.jsx(Ta,{title:" ",children:x.jsxs("div",{className:"space-y-2 w-full max-w-[180px] mx-auto",children:[x.jsx(co,{label:" ",checked:!!a.localSettings.showSipSin,onChange:v=>a.updateSetting("showSipSin",v)}),x.jsx(co,{label:" ",checked:!!a.localSettings.showSibiUnseong,onChange:v=>a.updateSetting("showSibiUnseong",v)}),x.jsx(co,{label:" ",checked:!!a.localSettings.showSibiSinsal,onChange:v=>a.updateSetting("showSibiSinsal",v)}),x.jsx(co,{label:" ",checked:!!a.localSettings.showNabeum,onChange:v=>a.updateSetting("showNabeum",v)}),x.jsx(co,{label:" BOX ",checked:!!a.localSettings.showEtcShinsal,onChange:v=>a.updateSetting("showEtcShinsal",v)}),x.jsx(co,{label:" BOX ",checked:!!a.localSettings.showRelationBox,onChange:v=>a.updateSetting("showRelationBox",v)}),x.jsx(co,{label:" BOX ",checked:!!a.localSettings.showPromptBox,onChange:v=>a.updateSetting("showPromptBox",v)})]})});case"difficultyMode":return x.jsx(Ta,{title:" UP ver.",children:x.jsx(co,{label:" UP ",checked:!!a.localSettings.difficultyMode,onChange:v=>a.updateSetting("difficultyMode",v)})});default:return null}};return x.jsxs(x.Fragment,{children:[x.jsx("style",{children:"[data-rbd-drag-handle-context-id]{touch-action:none!important}"}),x.jsx("div",{className:`fixed inset-0 bg-black/60 transition-opacity duration-300 z-90 ${e?"opacity-100 pointer-events-auto":"opacity-0 pointer-events-none"}`,onClick:t}),x.jsxs("div",{className:`fixed inset-x-0 mx-auto w-full max-w-[640px] h-[88dvh] bg-white text-neutral-900 dark:bg-neutral-950 dark:text-white shadow-lg rounded-t-2xl transition-bottom duration-300 z-99 ${e?"bottom-0":"bottom-[-88dvh]"}`,children:[x.jsx("div",{className:"flex justify-between items-center p-4 border-b border-neutral-200 dark:border-neutral-800",children:x.jsxs("div",{className:"flex items-center gap-2",children:[x.jsx("h2",{className:"text-lg font-bold",children:""}),x.jsx("button",{onClick:f,className:"px-3 py-1 rounded bg-indigo-600 hover:bg-indigo-500 text-white text-sm cursor-pointer",children:""})]})}),e&&x.jsx(Km,{onDragEnd:m,children:x.jsx(rf,{droppableId:"settings-sections",children:g=>x.jsxs("ul",{ref:g.innerRef,...g.droppableProps,className:"flex flex-col gap-2 p-4 overflow-y-auto max-h-[80dvh] list-none",children:[a.order.map((v,_)=>x.jsx(nf,{draggableId:v,index:_,children:w=>x.jsxs("li",{ref:w.innerRef,...w.draggableProps,...w.dragHandleProps,className:"!flex justify-between items-center bg-white dark:bg-neutral-800 p-2 rounded border text-sm desk:text-base select-none cursor-grab active:cursor-grabbing",children:[x.jsx("span",{className:"mr-2 select-none text-neutral-500",children:"::"}),x.jsx("div",{className:"flex-1 min-w-0",children:p(v)})]})},v)),g.placeholder]})})})]}),a.toastMessage&&x.jsx(q5,{message:a.toastMessage,onClose:c,ms:1800})]})}function Sce({value:e,onChange:t}){const n=e==="dark";return x.jsxs("button",{"data-no-drag":!0,onClick:()=>t(n?"light":"dark"),className:"flex items-center gap-2 px-3 py-1.5 rounded-md border text-sm cursor-pointer border-neutral-300 bg-white hover:bg-neutral-100 text-neutral-700 dark:border-neutral-700 dark:bg-neutral-900 dark:hover:bg-neutral-800 dark:text-neutral-200",title:"/ ","aria-pressed":n,children:[x.jsx("span",{className:"inline-block w-10 h-5 bg-neutral-300 rounded-full relative after:content-[''] after:w-4 after:h-4 after:bg-white after:rounded-full after:absolute after:top-0.5 after:left-0.5 after:transition-all dark:bg-neutral-700"}),x.jsx("span",{children:n?"":""})]})}function Ta({title:e,children:t}){return x.jsxs("div",{className:"p-3 rounded-lg bg-neutral-50 border border-neutral-200 text-neutral-900 dark:bg-neutral-900 dark:border-neutral-800 dark:text-neutral-100 space-y-3",children:[x.jsx("h3",{className:"text-sm font-semibold text-center",children:e}),x.jsx("div",{className:"flex justify-center",children:t})]})}function id({value:e,onChange:t,options:n}){return x.jsx("div",{"data-no-drag":!0,className:"inline-flex rounded-md overflow-hidden border border-neutral-300 bg-white dark:border-neutral-700 dark:bg-neutral-800",onMouseDown:r=>r.stopPropagation(),onTouchStart:r=>r.stopPropagation(),children:n.map(r=>{const i=e===r.value;return x.jsx("button",{type:"button",onClick:()=>t(r.value),className:`px-3 py-1 text-sm transition-colors ${i?"bg-indigo-600 text-white":"text-neutral-700 hover:bg-neutral-100 dark:text-neutral-300 dark:hover:bg-neutral-700 cursor-pointer"}`,children:r.label},r.value)})})}function co({label:e,checked:t,onChange:n}){const r=`switch-${e}`;return x.jsxs("label",{"data-no-drag":!0,htmlFor:r,className:"flex items-center justify-between w-full max-w-[180px] text-sm cursor-pointer",children:[x.jsx("span",{children:e}),x.jsx("input",{id:r,type:"checkbox",checked:t,onChange:i=>n(i.target.checked),className:"peer hidden"}),x.jsx("span",{className:"w-10 h-5 bg-neutral-300 rounded-full relative after:content-[''] after:w-4 after:h-4 after:bg-white after:rounded-full after:absolute after:top-0.5 after:left-0.5 after:transition-all peer-checked:bg-green-600 peer-checked:after:translate-x-5 dark:bg-neutral-700 dark:peer-checked:bg-green-600"})]})}function Ece({onShowToday:e,onShowCouple:t}){const[n,r]=S.useState(!1),[i,a]=S.useState(!1),[o,c]=S.useState(!1),u=async()=>{if(!i){a(!0);try{await Ie.auth.signOut(),window.location.reload()}catch(f){console.error(f),alert(" .  ."),a(!1)}}};return x.jsxs(x.Fragment,{children:[x.jsx("div",{className:"fixed min-w-[320px] h-[64px] bottom-0 left-0 right-0 bg-white border-t border-neutral-200 py-2 text-xs sm:text-sm z-50 dark:bg-neutral-950 dark:border-neutral-800",children:x.jsxs("nav",{className:"flex justify-around items-center max-w-[640px] w-full mx-auto",children:[x.jsx(T0,{icon:x.jsx(ece,{size:22}),label:" ",onClick:e}),x.jsx(T0,{icon:x.jsx(Jle,{size:22}),label:"",onClick:t}),x.jsx(T0,{icon:x.jsx(lce,{size:22}),label:"",onClick:()=>r(!0)}),x.jsx(T0,{icon:x.jsx(nce,{size:22}),label:"",onClick:()=>c(!0),disabled:i})]})}),x.jsx(wce,{open:n,onClose:()=>r(!1)}),o&&x.jsx("div",{className:"fixed inset-0 z-[120] flex items-center justify-center bg-black/50",onClick:()=>c(!1),children:x.jsxs("div",{className:"w-full max-w-sm bg-white dark:bg-neutral-900 text-neutral-900 dark:text-neutral-100 p-6 rounded-xl shadow-xl",onClick:f=>f.stopPropagation(),children:[x.jsx("h3",{className:"text-lg font-bold mb-4",children:" ?"}),x.jsxs("div",{className:"flex gap-3",children:[x.jsx("button",{type:"button",className:"flex-1 py-2 rounded-lg bg-neutral-200 dark:bg-neutral-800 text-neutral-900 dark:text-neutral-100 cursor-pointer",onClick:()=>c(!1),children:""}),x.jsx("button",{type:"button",className:"flex-1 py-2 rounded-lg bg-red-600 text-white hover:bg-red-700 cursor-pointer",onClick:()=>{c(!1),u()},children:""})]})]})})]})}function T0({icon:e,label:t,onClick:n,disabled:r}){return x.jsxs("button",{onClick:n,disabled:r,className:"flex flex-col items-center justify-center text-neutral-600 hover:text-purple-600 transition-colors cursor-pointer disabled:opacity-50 disabled:cursor-not-allowed dark:text-neutral-300 dark:hover:text-purple-400",children:[e,x.jsx("span",{className:"mt-1",children:t})]})}const r7=e=>e.map(t=>typeof t=="string"?t.trim():"").filter(t=>t!==""),eb=e=>r7(e).join(""),kce=()=>{const[e,t]=S.useState(()=>{if(typeof window>"u")return{};try{const u=localStorage.getItem(AM);return u?JSON.parse(u):{}}catch{return{}}});S.useEffect(()=>{if(!(typeof window>"u"))try{localStorage.setItem(AM,JSON.stringify(e))}catch{}},[e]);const[n,r]=S.useState({}),[i,a]=S.useState(""),[o,c]=S.useState(()=>{const u=Hy(),f=Fy(),m=f.length?em(u,f):u;return pd(m,e)});return S.useEffect(()=>{c(u=>{const f=pd(u,e);return eb(f)===eb(u)?u:f})},[e]),S.useEffect(()=>{r(u=>{const f={...u};for(const m of o)f[m]===void 0&&(f[m]=!0);return f})},[o]),{folderFavMap:e,setFolderFavMap:t,folderOpenMap:n,setFolderOpenMap:r,newFolderName:i,setNewFolderName:a,orderedFolders:o,setOrderedFolders:c}},Ace=({list:e,orderedFolders:t})=>{const{grouped:n,unassignedItems:r}=S.useMemo(()=>{const i=O2(e,t),a={};for(const o of t)a[o]=i[o]??[];return{grouped:a,unassignedItems:i[ai]??[]}},[e,t]);return{grouped:n,unassignedItems:r}},Lh=async()=>{const{data:e,error:t}=await Ie.auth.getUser();return t||!e.user?null:e.user.id},Tce=async e=>{const{data:t,error:n}=await Ie.from("user_custom_folders").select("folder_name").eq("user_id",e);return n&&n.code==="PGRST205"?{data:[],error:n,disabled:!0}:n?{data:[],error:n}:{data:(t??[]).map(a=>a.folder_name?a.folder_name.trim():"").filter(a=>a!==""),error:null}},Oce=async e=>{const{data:t,error:n}=await Ie.from("user_folder_order").select("folder_name, sort_order").eq("user_id",e).order("sort_order",{ascending:!0,nullsFirst:!0});return n?{data:[],error:n}:{data:(t??[]).map(a=>a.folder_name?String(a.folder_name):"").filter(a=>a.trim()!==""),error:null}},jce=async(e,t)=>{const n=t.filter(i=>typeof i=="string"&&i.trim()!=="").map((i,a)=>({user_id:e,folder_name:i.trim(),sort_order:a+1,updated_at:new Date().toISOString()}));if(!n.length){const{error:i}=await Ie.from("user_folder_order").delete().eq("user_id",e);return{data:null,error:i}}const{error:r}=await Ie.from("user_folder_order").upsert(n,{onConflict:"user_id,folder_name"});return{data:null,error:r}},Nce=async(e,t)=>{const{error:n}=await Ie.from("user_folder_order").delete().eq("user_id",e).eq("folder_name",t);return{data:null,error:n}},Cce=async(e,t)=>{const{error:n}=await Ie.from("user_custom_folders").upsert({user_id:e,folder_name:t,updated_at:new Date().toISOString()});return n&&n.code==="PGRST205"?{data:null,error:n,disabled:!0}:{data:null,error:n}},Mce=async(e,t)=>{const{error:n}=await Ie.from("user_custom_folders").delete().eq("user_id",e).eq("folder_name",t);return n&&n.code==="PGRST205"?{data:null,error:n,disabled:!0}:{data:null,error:n}},Pce=({folderFavMap:e,setFolderFavMap:t,setOrderedFolders:n,unsetFolderForFolder:r})=>{const[i,a]=S.useState(!1),o=S.useRef(e),c=S.useRef(!1),u=S.useRef(!1);S.useEffect(()=>{o.current=e},[e]),S.useEffect(()=>{(async()=>{if(i)return;const N=await Lh();if(!N)return;try{if(!u.current){const $=await Tce(N);$.disabled&&(u.current=!0),$.error?console.error("load custom folders from server error:",$.error):$.data.length&&M2($.data)}}catch($){console.error("load custom folders exception:",$)}const O=await Oce(N);if(O.error){console.error("load folder order from server error:",O.error),a(!0);return}const P=Hy(),C=O.data,D=C.length?em(P,C):em(P,Fy());n(pd(D,o.current)),C.length&&gd(C),a(!0)})()},[i,n]);const f=S.useCallback(async T=>{const N=await Lh();if(!N)return;const O=await jce(N,T);O.error&&console.error("save folder order to server error:",O.error)},[]),m=S.useRef(null),p=S.useRef(null),g=S.useRef(""),v=S.useCallback((T,N)=>{const O=r7(T),P=eb(O);if(P&&P===g.current)return;m.current=O;const C=async()=>{const D=m.current;if(m.current=null,!D)return;const $=eb(D);$&&$===g.current||(await f(D),g.current=$)};if(N?.immediate){p.current&&(window.clearTimeout(p.current),p.current=null),C();return}p.current&&window.clearTimeout(p.current),p.current=window.setTimeout(()=>{p.current=null,C()},300)},[f]);S.useEffect(()=>()=>{p.current&&(window.clearTimeout(p.current),p.current=null);const T=m.current;m.current=null,T&&T.length&&f(T)},[f]),S.useEffect(()=>{if(typeof window>"u")return;const T=()=>{if(c.current){c.current=!1;return}const N=Hy(),O=Fy(),P=O.length?em(N,O):N;n(pd(P,o.current))};return window.addEventListener(Tl,T),()=>window.removeEventListener(Tl,T)},[n]);const _=S.useCallback(T=>{const{source:N,destination:O,type:P}=T;if(!O||P!=="FOLDER")return;const C=N.index,D=O.index;C!==D&&n($=>{if(!$.length)return $;const H=[...$],[Y]=H.splice(C,1);H.splice(D,0,Y);const K=pd(H,o.current);return c.current=!0,gd(K),v(K),K})},[v,n]),w=S.useCallback(T=>{const N=T.trim();!N||N===un||(G5(N),(async()=>{if(u.current)return;const O=await Lh();if(!O)return;const P=await Cce(O,N);P.disabled&&(u.current=!0),P.error&&console.error("save custom folder error:",P.error)})(),n(O=>{if(O.includes(N))return O;const P=[...O,N],C=pd(P,o.current);return gd(C),v(C,{immediate:!0}),C}))},[v,n]),E=S.useCallback(T=>{r(T),t(N=>{const O={...N};return delete O[T],O}),n(N=>{const O=N.filter(P=>P!==T);return gd(O),v(O,{immediate:!0}),(async()=>{const P=await Lh();if(!P)return;const C=await Nce(P,T);C.error&&console.error("delete folder order entry error:",C.error)})(),O}),U5.includes(T)?Mee(T):(Cee(T),(async()=>{if(u.current)return;const N=await Lh();if(!N)return;const O=await Mce(N,T);O.disabled&&(u.current=!0),O.error&&console.error("delete custom folder error:",O.error)})())},[v,t,n,r]);return{handleDragEnd:_,createFolder:w,deleteFolder:E,UNASSIGNED_LABEL:un}};function Dce(e,t){const n=kce(),r=Ace({list:e,orderedFolders:n.orderedFolders}),i=Pce({folderFavMap:n.folderFavMap,setFolderFavMap:n.setFolderFavMap,setOrderedFolders:n.setOrderedFolders,unsetFolderForFolder:t.unsetFolderForFolder});return{folderFavMap:n.folderFavMap,setFolderFavMap:n.setFolderFavMap,folderOpenMap:n.folderOpenMap,setFolderOpenMap:n.setFolderOpenMap,newFolderName:n.newFolderName,setNewFolderName:n.setNewFolderName,orderedFolders:n.orderedFolders,grouped:r.grouped,unassignedItems:r.unassignedItems,handleDragEnd:i.handleDragEnd,createFolder:i.createFolder,deleteFolder:i.deleteFolder,UNASSIGNED_LABEL:i.UNASSIGNED_LABEL}}function Rce({onClose:e,onAddNew:t}){const n=Br(u=>u.list.length),i=_s(u=>u.canAddMyeongsik)(n),a=!i.ok,o=a?i.message:"",c=()=>{if(a){yy(o||"   ");return}t()};return x.jsxs("div",{className:"flex justify-between items-center w-full h-12 desk:h-16 p-4 border-b border-neutral-200 dark:border-neutral-800",children:[x.jsx("h2",{className:"text-lg font-bold",children:" "}),x.jsxs("div",{className:"flex items-center gap-2",children:[x.jsxs("button",{type:"button",onClick:c,disabled:a,title:o,className:a?"inline-flex items-center gap-1 px-3 py-1.5 rounded text-sm bg-neutral-200 text-neutral-500 dark:bg-neutral-800 dark:text-neutral-400 cursor-not-allowed opacity-80":"inline-flex items-center gap-1 px-3 py-1.5 rounded text-sm cursor-pointer bg-purple-600 hover:bg-purple-500 text-white",children:[x.jsx(oce,{size:16}),"  ",a?"":""]}),x.jsx("button",{type:"button",onClick:e,className:"p-1 rounded cursor-pointer hover:bg-neutral-100 dark:hover:bg-neutral-900","aria-label":" ",title:"",children:x.jsx(e7,{size:22})})]})]})}function Lce({search:e,setSearch:t,searchMode:n,setSearchMode:r,isFiltering:i,totalMatches:a}){return x.jsx("div",{className:"mb-3 sticky top-[-16px] z-10 pb-2 pt-2 bg-white dark:bg-neutral-950 z-50",children:x.jsxs("div",{className:"flex items-center gap-2",children:[x.jsxs("select",{value:n,onChange:o=>r(o.target.value),className:"h-30 text-xs rounded px-2 py-1 cursor-pointer bg-white dark:bg-neutral-900 border border-neutral-300 dark:border-neutral-700 text-neutral-900 dark:text-neutral-100 focus:outline-none focus:ring-2 focus:ring-amber-500/40",children:[x.jsx("option",{value:"name",children:""}),x.jsx("option",{value:"ganji",children:""}),x.jsx("option",{value:"birth",children:""})]}),x.jsxs("div",{className:"relative flex-1",children:[x.jsx("input",{type:"text",value:e,onChange:o=>t(o.target.value),placeholder:n==="name"?" ":n==="ganji"?"  (: )":"  (: 19961229, 1996-12-29)",className:"w-full pl-7 pr-8 py-1 h-30 rounded bg-white dark:bg-neutral-900 border border-neutral-300 dark:border-neutral-700 text-[16px] text-neutral-900 dark:text-neutral-100 placeholder-neutral-400 dark:placeholder-neutral-500 focus:outline-none focus:ring-2 focus:ring-amber-500/40"}),e&&x.jsx("button",{type:"button",onClick:()=>t(""),className:"absolute right-2 top-1/2 -translate-y-1/2 opacity-60 hover:opacity-100","aria-label":" ",title:" ",children:x.jsx(Zle,{size:16})})]}),i&&x.jsxs("span",{className:"text-xs text-neutral-500 dark:text-neutral-400 whitespace-nowrap",children:[a,""]})]})})}function Ice({newFolderName:e,setNewFolderName:t,onCreate:n,isFiltering:r}){return x.jsxs(x.Fragment,{children:[x.jsxs("div",{className:"flex items-center mb-2 gap-2",children:[x.jsx("input",{type:"text",value:e,onChange:i=>t(i.target.value),placeholder:"  ",className:"flex-1 w-[60%] px-2 py-1 rounded h-30 bg-white dark:bg-neutral-900 border border-neutral-300 dark:border-neutral-700 text-sm text-neutral-900 dark:text-neutral-100 placeholder-neutral-400 dark:placeholder-neutral-500",onClick:i=>i.stopPropagation()}),x.jsx("button",{type:"button",className:"px-3 rounded h-30 text-sm cursor-pointer bg-neutral-100 hover:bg-neutral-200 dark:bg-neutral-800 dark:hover:bg-neutral-700 text-neutral-900 dark:text-neutral-100 border border-neutral-200 dark:border-neutral-700",onClick:i=>{i.stopPropagation(),n()},children:""})]}),x.jsx("p",{className:"text-xs text-neutral-600 dark:text-neutral-400 mb-2",children:r?"   .":"/      ."})]})}function KP({droppableId:e,items:t,isDropDisabled:n,className:r}){return x.jsx(rf,{droppableId:e,type:"ITEM",direction:"vertical",ignoreContainerClipping:!0,isDropDisabled:n,children:i=>x.jsx("div",{ref:i.innerRef,...i.droppableProps,className:r,children:x.jsxs("ul",{className:"flex flex-col gap-2",children:[t,i.placeholder]})})})}function $ce({folderName:e,folderIndex:t,isOpen:n,isFavorite:r,itemCount:i,isDragDisabled:a,onToggleOpen:o,onToggleFavorite:c,onDelete:u,inner:f}){return x.jsx(nf,{draggableId:`folder-${e}`,index:t,isDragDisabled:a,children:m=>x.jsxs("div",{ref:m.innerRef,...m.draggableProps,...m.dragHandleProps,className:"mb-4 cursor-grab active:cursor-grabbing select-none",children:[x.jsxs("div",{className:"flex items-center justify-between px-2 py-2 rounded bg-neutral-50 dark:bg-neutral-900/70 border border-neutral-200 dark:border-neutral-800 text-neutral-800 dark:text-neutral-200",children:[x.jsxs("div",{className:"flex items-center gap-2",children:[x.jsxs("button",{type:"button",onClick:p=>{p.stopPropagation(),o()},className:"inline-flex items-center gap-1 text-sm font-semibold cursor-pointer",children:[n?x.jsx(Wle,{size:16}):x.jsx(Yle,{size:16}),x.jsx("span",{className:"text-sm font-semibold",children:e})]}),x.jsx("button",{type:"button",onClick:p=>{p.stopPropagation(),c()},className:`p-1 rounded cursor-pointer ${r?"text-yellow-400":"text-neutral-400"} hover:text-yellow-400`,"aria-label":"  ",title:r?" ":"",children:x.jsx(Q4,{size:16,fill:r?"currentColor":"none"})})]}),x.jsxs("div",{className:"flex items-center gap-2",children:[x.jsxs("span",{className:"opacity-60 text-xs",children:[i,""]}),x.jsx("button",{type:"button",onClick:p=>{p.stopPropagation(),u()},className:"px-2 py-1 rounded text-xs cursor-pointer border border-red-300 dark:border-red-700 text-red-700 dark:text-red-300 hover:bg-red-50 dark:hover:bg-red-900/30",children:""})]})]}),n?f:null]})},`folder-${e}`)}const Bce=()=>({canManage:_s(t=>!t.loaded||!t.isActiveNow()?!1:t.canManageMyeongsik)}),Sv="";function zce(e,t){if(!/^\d{8}$/.test(e))return e||"";const n=e.slice(0,4),r=e.slice(4,6),i=e.slice(6,8);return t&&/^\d{4}$/.test(t)?`${n} ${r} ${i} ${t.slice(0,2)}:${t.slice(2,4)}`:t===Sv?`${n} ${r} ${i} ( )`:`${n} ${r} ${i}`}function Uce(e){if(!e||e==="")return"";const t=e.split(/[\s,]+/).filter(Boolean);if(t.length===0)return"";const n=o=>t.find(c=>o.some(u=>c.endsWith(u))),r=n(["","","","",""]),i=n(["","","","","",""]);return t.length===1||!n(["","","","","","","","","","",""])&&!n(["","","","","",""])?e:r&&i?`${r} ${i}`:r||e}function Hce(e,t,n){if(n)return Sv;const r=(e??"").trim();if(r)return r;const i=t instanceof Date?t:new Date(t);return Number.isNaN(i.getTime())?"":k4(i)}function WP(e){return(e.ganji??"").replace(/\r\n/g,`
`).replace(/\s*null\s*/gi,"").trim()}function Fce(e){const t=WP(e),n=String(e.birthDay??"").trim();if(!/^\d{8}$/.test(n))return t;const r=Number(n.slice(0,4)),i=Number(n.slice(4,6)),a=Number(n.slice(6,8));if(!By(r,i,a)||!e.birthTime||e.birthTime===Sv)return t;const o=Number(e.birthTime.slice(0,2)),c=e.birthTime.slice(2,4),u=o-1<0?23:o-1,f=String(u).padStart(2,"0")+c,m=e.corrected instanceof Date?e.corrected:new Date(e.corrected);if(Number.isNaN(m.getTime()))return t;const p=new Date(m.getTime()-3600*1e3),g=k2({...e,birthTime:f,corrected:p});return WP({...e,...g})}function Gce(e){const t=String(e??"").trim();if(/^\d{8}$/.test(t)){const r=Number(t.slice(0,4));return Number.isFinite(r)?r:NaN}const n=new Date(t);return Number.isNaN(n.getTime())?NaN:n.getFullYear()}function qce(e,t){return Number.isNaN(e)?0:t-e+1}function Yce(e){return{...e,transition:e?.transform?"transform 0.15s ease":"none"}}function Kce(e){return e===""?"":e===""?"":e??""}function Wce({m:e,memoOpen:t,isDragDisabled:n,canManage:r}){const i=" PRO  .",a=!r,o=n||a,c=`item:${e.id}`,u=Fce(e),f=Uce(e.birthPlace?.name),m=e.relationship?.trim()?e.relationship:" ",p=Kce(e.gender),g=!e.birthTime||e.birthTime===Sv,v=Hce(e.correctedLocal,e.corrected,g),_=!!(f||v),w=zce(e.birthDay,e.birthTime),E=e.calendarType==="lunar"?"":"",T=Gce(e.birthDay),N=qce(T,new Date().getFullYear()),O=!!(e.memo&&e.memo.trim()!==""),P=t?" ":" ",C=e.mingSikType??"/",D=a?"":o?" ":"::",$=e.favorite?" ":"";return{keyId:c,locked:a,lockMsg:i,dragDisabled:o,dragHandleLabel:D,ganji:u,placeDisplay:f,relationshipLabel:m,genderLabel:p,birthDisplay:w,calendarLabel:E,correctedLabel:v,showMetaLine:_,showMemo:O,memoToggleLabel:P,age:N,mingSikTypeValue:C,favoriteLabel:$,editLabel:a?" ":"",deleteLabel:a?" ":"",getDragStyle:Yce}}const Vce=({m:e,locked:t,lockMsg:n,unassignedLabel:r,onToggleMemo:i,onChangeFolder:a,onChangeMingSikType:o,onView:c,onEdit:u,onDelete:f,onToggleFavorite:m})=>{const p=S.useCallback(()=>t?(dn.error(n),!0):!1,[t,n]),g=S.useCallback(P=>{P?.stopPropagation(),t&&dn.error(n)},[t,n]),v=S.useCallback(P=>{P?.stopPropagation(),i(e.id)},[i,e.id]),_=S.useCallback(P=>{P?.stopPropagation(),c(e)},[c,e]),w=S.useCallback(P=>{P?.stopPropagation(),!p()&&u(e)},[p,u,e]),E=S.useCallback(P=>{P?.stopPropagation(),!p()&&f(e)},[p,f,e]),T=S.useCallback(P=>{P?.stopPropagation(),!p()&&m(e.id)},[p,m,e.id]),N=S.useCallback(P=>{if(p())return;const C=P===r?void 0:P;a(e.id,C)},[p,a,e.id,r]),O=S.useCallback(P=>{if(p())return;o(e,P)},[p,o,e]);return{handleLockClick:g,handleToggleMemo:v,handleView:_,handleEdit:w,handleDelete:E,handleToggleFavorite:T,handleFolderChange:N,handleMingSikTypeChange:O}};function VP({m:e,index:t,orderedFolders:n,unassignedLabel:r,isDragDisabled:i,memoOpen:a,onToggleMemo:o,onChangeFolder:c,onChangeMingSikType:u,onView:f,onEdit:m,onDelete:p,onToggleFavorite:g}){const{canManage:v}=Bce(),_=Wce({m:e,memoOpen:a,isDragDisabled:i,canManage:v}),w=Vce({m:e,locked:_.locked,lockMsg:_.lockMsg,unassignedLabel:r,onToggleMemo:o,onChangeFolder:c,onChangeMingSikType:u,onView:f,onEdit:m,onDelete:p,onToggleFavorite:g});return x.jsx(nf,{draggableId:_.keyId,index:t,isDragDisabled:_.dragDisabled,children:E=>x.jsx("li",{ref:E.innerRef,...E.draggableProps,...E.dragHandleProps,style:_.getDragStyle(E.draggableProps.style),className:`list-none select-none rounded-xl border bg-white dark:bg-neutral-900 border-neutral-200 dark:border-neutral-800 text-neutral-900 dark:text-neutral-100 ${_.dragDisabled?"cursor-default":"cursor-grab active:cursor-grabbing"}`,children:x.jsxs("div",{className:"p-3",children:[x.jsxs("div",{className:"flex items-center gap-2",children:[x.jsxs("div",{className:"font-semibold text-sm desk:text-base",children:[e.name," (",_.age," ",_.genderLabel,")"]}),x.jsx("span",{className:"opacity-40",children:""}),x.jsx("div",{className:"text-sm text-neutral-600 dark:text-neutral-300",children:_.relationshipLabel}),x.jsx("span",{title:_.locked?_.lockMsg:"",onClick:w.handleLockClick,className:"ml-auto opacity-50 select-none",children:_.dragHandleLabel})]}),x.jsxs("div",{className:"text-sm text-neutral-600 dark:text-neutral-300 mt-1",children:[_.birthDisplay,", ",_.calendarLabel]}),_.showMetaLine&&x.jsxs("div",{className:"text-sm text-neutral-500 dark:text-neutral-400",children:[_.placeDisplay,_.correctedLabel&&x.jsxs("span",{className:"opacity-70",children:["  ",_.correctedLabel]})]}),_.ganji&&x.jsx("div",{className:"text-sm text-neutral-800 dark:text-neutral-200 mt-1 whitespace-pre-wrap break-keep",children:_.ganji}),_.showMemo&&x.jsxs("div",{children:[x.jsx("button",{type:"button",className:"text-xs text-neutral-500 dark:text-neutral-400 hover:text-neutral-800 dark:hover:text-neutral-200 inline-flex items-center gap-1 cursor-pointer",onClick:w.handleToggleMemo,children:_.memoToggleLabel}),x.jsx("div",{className:a?"mt-1 text-sm text-neutral-800 dark:text-neutral-200 whitespace-pre-wrap":"hidden",children:e.memo})]}),x.jsxs("div",{className:"flex flex-wrap gap-2 mt-3",children:[x.jsx("select",{className:`h-30 text-xs rounded px-2 py-1 bg-white dark:bg-neutral-900 border border-neutral-300 dark:border-neutral-700 text-neutral-900 dark:text-neutral-100 focus:outline-none focus:ring-2 focus:ring-amber-500/40 ${_.locked?"opacity-50 cursor-not-allowed":"cursor-pointer"}`,value:e.folder??r,disabled:_.locked,title:_.locked?_.lockMsg:"",onClick:T=>T.stopPropagation(),onChange:T=>{T.stopPropagation(),w.handleFolderChange(T.target.value)},children:[r,...n].map(T=>x.jsx("option",{value:T,children:T},T))}),x.jsxs("select",{className:`h-30 text-xs rounded px-2 py-1 bg-white dark:bg-neutral-900 border border-neutral-300 dark:border-neutral-700 text-neutral-900 dark:text-neutral-100 focus:outline-none focus:ring-2 focus:ring-amber-500/40 ${_.locked?"opacity-50 cursor-not-allowed":"cursor-pointer"}`,value:_.mingSikTypeValue,disabled:_.locked,title:_.locked?_.lockMsg:"",onClick:T=>T.stopPropagation(),onChange:T=>{T.stopPropagation(),w.handleMingSikTypeChange(T.target.value)},children:[x.jsx("option",{value:"",children:""}),x.jsx("option",{value:"/",children:"/"}),x.jsx("option",{value:"",children:""})]})]}),x.jsxs("div",{className:"flex gap-2 mt-3",children:[x.jsx("button",{type:"button",onClick:w.handleView,className:"px-3 py-1 rounded text-white text-sm cursor-pointer bg-indigo-600 hover:bg-indigo-500",children:""}),x.jsx("button",{type:"button","aria-disabled":_.locked,title:_.locked?_.lockMsg:"",onClick:w.handleEdit,className:`px-3 py-1 rounded text-white text-sm ${_.locked?"bg-amber-600/40 cursor-not-allowed":"bg-amber-600 hover:bg-amber-500 cursor-pointer"}`,children:_.editLabel}),x.jsx("button",{type:"button","aria-disabled":_.locked,title:_.locked?_.lockMsg:"",onClick:w.handleDelete,className:`px-3 py-1 rounded text-white text-sm ${_.locked?"bg-red-600/40 cursor-not-allowed":"bg-red-600 hover:bg-red-500 cursor-pointer"}`,children:_.deleteLabel}),x.jsx("button",{type:"button","aria-disabled":_.locked,title:_.locked?_.lockMsg:_.favoriteLabel,onClick:w.handleToggleFavorite,className:`ml-auto p-1 rounded ${_.locked?"opacity-40 cursor-not-allowed":"cursor-pointer"} ${e.favorite?"text-yellow-400":"text-neutral-400"} ${_.locked?"":"hover:text-yellow-400"}`,"aria-label":_.favoriteLabel,children:_.locked?"":x.jsx(Q4,{size:16,fill:e.favorite?"currentColor":"none"})})]})]})})},_.keyId)}const Zce="list:__unassigned__",Xce=e=>`list:${e}`,ZP=e=>{if(!e.startsWith("list:"))return;const t=e.slice(5);return t==="__unassigned__"?void 0:t},Jce=({search:e,searchMode:t,orderedFolders:n,grouped:r,unassignedItems:i})=>{const a=B5(e),{filteredUnassigned:o,filteredGrouped:c,totalMatches:u}=S.useMemo(()=>gee({search:e,searchMode:t,orderedFolders:n,unassignedItems:i,grouped:r}),[e,t,n,i,r]);return{isFiltering:a,filteredUnassigned:o,filteredGrouped:c,totalMatches:u}},Qce=({list:e,orderedFolders:t})=>{const[n,r]=S.useState(""),[i,a]=S.useState("name"),[o,c]=S.useState({}),u=S.useRef(null),f=S.useRef(null);return S.useEffect(()=>{if(f.current==null)return;const g=u.current;g&&(g.scrollTop=f.current,f.current=null)},[e,t]),{search:n,setSearch:r,searchMode:i,setSearchMode:a,memoOpenMap:o,toggleMemo:g=>{c(v=>({...v,[g]:!v[g]}))},scrollRef:u,stashScrollTop:()=>{const g=u.current;g&&(f.current=g.scrollTop)}}},XP=()=>{typeof window>"u"||window.dispatchEvent(new Event(Tl))},eue=({orderedFolders:e,isFiltering:t,handleFolderDragEnd:n,moveItemByDnD:r,update:i,remove:a,onView:o,onClose:c,onDeleteView:u,folderFavMap:f,setFolderFavMap:m,setFolderOpenMap:p,createFolder:g,deleteFolder:v,newFolderName:_,setNewFolderName:w,stashScrollTop:E})=>{const T=S.useCallback((K,F)=>{i(K,{folder:F})},[i]),N=S.useCallback((K,F)=>{const z={...K,mingSikType:F},X=k2(z);i(K.id,{mingSikType:F,...X}),o({...z,...X}),c()},[i,o,c]),O=S.useCallback(K=>{o(K),c()},[o,c]),P=S.useCallback(K=>{confirm(`'${K.name}'  ?`)&&(a(K.id),u&&u())},[a,u]),C=S.useCallback(()=>{const K=_.trim();K&&(g(K),w(""),XP())},[_,g,w]),D=S.useCallback(K=>{if(f[K]){alert(`'${K}'   .
   .`);return}confirm(`'${K}'  ?
(   )`)&&(v(K),XP())},[f,v]),$=S.useCallback(K=>{p(F=>({...F,[K]:!F[K]}))},[p]),H=S.useCallback(K=>{m(F=>({...F,[K]:!F[K]}))},[m]);return{handleDrop:S.useCallback(K=>{const{type:F,source:z,destination:X,draggableId:Q}=K;if(X&&!t){if(E(),F==="FOLDER"){n(K);return}if(F==="ITEM"){if(!Q.replace(/^item:/,""))return;const q=ZP(z.droppableId),Z=ZP(X.droppableId);r({orderedFolders:e,sourceFolder:q,sourceIndex:z.index,destinationFolder:Z,destinationIndex:X.index})}}},[t,E,n,r,e]),changeFolder:T,changeMingSikType:N,viewAndClose:O,requestDelete:P,createFolderAndNotify:C,requestDeleteFolder:D,toggleFolderOpen:$,toggleFolderFavorite:H}};function tue({open:e,onClose:t,onView:n,onAddNew:r,onEdit:i,onDeleteView:a}){const{list:o,remove:c,update:u,moveItemByDnD:f,toggleFavoriteWithReorder:m,unsetFolderForFolder:p}=Br(),{folderFavMap:g,setFolderFavMap:v,folderOpenMap:_,setFolderOpenMap:w,newFolderName:E,setNewFolderName:T,orderedFolders:N,grouped:O,unassignedItems:P,handleDragEnd:C,createFolder:D,deleteFolder:$,UNASSIGNED_LABEL:H}=Dce(o,{unsetFolderForFolder:p}),Y=Qce({list:o,orderedFolders:N}),{isFiltering:K,filteredUnassigned:F,filteredGrouped:z,totalMatches:X}=Jce({search:Y.search,searchMode:Y.searchMode,orderedFolders:N,unassignedItems:P,grouped:O}),Q=eue({orderedFolders:N,isFiltering:K,handleFolderDragEnd:C,moveItemByDnD:f,update:u,remove:c,onView:n,onClose:t,onDeleteView:a,folderFavMap:g,setFolderFavMap:v,setFolderOpenMap:w,createFolder:D,deleteFolder:$,newFolderName:E,setNewFolderName:T,stashScrollTop:Y.stashScrollTop});return x.jsxs(x.Fragment,{children:[x.jsx("div",{className:`fixed inset-0 bg-black/70 transition-opacity duration-300 z-90 ${e?"opacity-100 pointer-events-auto":"opacity-0 pointer-events-none"}`,onClick:t}),x.jsxs("div",{className:`fixed top-0 left-0 h-[100dvh] min-w-[320px] w-full desk:w-1/3
                    bg-white dark:bg-neutral-950
                    text-neutral-900 dark:text-white
                    shadow-lg z-99 transition-[left] duration-300
                    overflow-hidden
                    ${e?"left-0":"left-[-100%]"}`,children:[x.jsx(Rce,{onClose:t,onAddNew:()=>{r(),t()}}),x.jsx(Km,{onDragEnd:Q.handleDrop,children:x.jsxs("div",{ref:Y.scrollRef,className:"p-4 h-[calc(100%-56px)] overflow-y-auto overscroll-contain",style:{touchAction:"pan-y"},children:[x.jsx(Lce,{search:Y.search,setSearch:Y.setSearch,searchMode:Y.searchMode,setSearchMode:Y.setSearchMode,isFiltering:K,totalMatches:X}),x.jsx(Ice,{newFolderName:E,setNewFolderName:T,isFiltering:K,onCreate:Q.createFolderAndNotify}),x.jsx(KP,{droppableId:Zce,isDropDisabled:K,className:"mb-6",items:F.map((J,q)=>x.jsx(VP,{m:J,index:q,orderedFolders:N,unassignedLabel:H,isDragDisabled:K,memoOpen:!!Y.memoOpenMap[J.id],onToggleMemo:Y.toggleMemo,onChangeFolder:Q.changeFolder,onChangeMingSikType:Q.changeMingSikType,onView:Q.viewAndClose,onEdit:Z=>i(Z),onDelete:Q.requestDelete,onToggleFavorite:Z=>void m(Z,N)},J.id))}),x.jsx(rf,{droppableId:"folders:root",type:"FOLDER",direction:"vertical",ignoreContainerClipping:!0,isDropDisabled:K,children:J=>x.jsxs("div",{ref:J.innerRef,...J.droppableProps,children:[N.map((q,Z)=>{const re=Xce(q),ue=z[q]||[],se=!!_[q],B=!!g[q];return x.jsx($ce,{folderName:q,folderIndex:Z,isOpen:se,isFavorite:B,itemCount:ue.length,isDragDisabled:K,onToggleOpen:()=>Q.toggleFolderOpen(q),onToggleFavorite:()=>Q.toggleFolderFavorite(q),onDelete:()=>Q.requestDeleteFolder(q),inner:x.jsx(KP,{droppableId:re,isDropDisabled:K,className:"mt-2",items:ue.map((W,ae)=>x.jsx(VP,{m:W,index:ae,orderedFolders:N,unassignedLabel:H,isDragDisabled:K,memoOpen:!!Y.memoOpenMap[W.id],onToggleMemo:Y.toggleMemo,onChangeFolder:Q.changeFolder,onChangeMingSikType:Q.changeMingSikType,onView:Q.viewAndClose,onEdit:V=>i(V),onDelete:Q.requestDelete,onToggleFavorite:V=>void m(V,N)},W.id))})},`folder-${q}`)}),J.placeholder]})})]})})]})]})}function JP(e){return{...e,calendarType:e.calendarType??"solar"}}function QP(e){return!e.birthTime||e.birthTime===""}function eD(e){return!e.birthPlace||e.birthPlace.name===""}function nue(e,t){if(t!=="lunar"||!e||e.length!==8)return null;try{const n=Number(e.slice(0,4)),r=Number(e.slice(4,6)),i=Number(e.slice(6,8)),a=Bi(n,r,i),o=String(a.getMonth()+1).padStart(2,"0"),c=String(a.getDate()).padStart(2,"0");return`  ${a.getFullYear()}-${o}-${c}`}catch(n){const r=n instanceof Error?n.message:void 0;return`  ${r?`: ${r}`:""}`}}const i7="ms_folders";function rue(){try{const e=JSON.parse(localStorage.getItem(i7)||"[]");return Array.isArray(e)?e:[]}catch{return[]}}function iue(e){localStorage.setItem(i7,JSON.stringify(e))}function aue(e){const[t,n]=S.useState(!1),[r,i]=S.useState(()=>JP(e)),[a,o]=S.useState(QP(e)),[c,u]=S.useState(eD(e)),[f,m]=S.useState([]);return S.useEffect(()=>{m(rue())},[]),{isEditing:t,setIsEditing:n,form:r,setForm:i,updateForm:(v,_)=>{i(w=>({...w,[v]:_}))},unknownTime:a,setUnknownTime:o,unknownPlace:c,setUnknownPlace:u,customFolders:f,setCustomFolders:m,resetForm:()=>{i(JP(e)),o(QP(e)),u(eD(e))}}}const a7=["","","","","",""];function oue(e,t){const n=Array.from(new Set(e.map(a=>a.folder).filter(Boolean))),r=new Set([...a7,...t,...n]),i=Array.from(r).sort((a,o)=>a.localeCompare(o));return[un,...i]}function sue({list:e,customFolders:t,form:n}){const r=S.useMemo(()=>oue(e,t),[e,t]),i=S.useMemo(()=>nue(n.birthDay,n.calendarType),[n.birthDay,n.calendarType]);return{folderOptions:r,lunarPreview:i}}function lue(e,t,n){if(!e.name||e.name.trim()==="")return" .";const r=A2(e.birthDay??"",e.calendarType??"solar");if(!r.ok)return r.message;const i=T2(e.birthTime??"",t);return i.ok?!n&&!e.birthPlace?"   '' .":null:i.message}function cue({item:e,form:t,unknownTime:n,unknownPlace:r,customFolders:i,setCustomFolders:a,update:o,remove:c,onClose:u,onSaved:f}){return{save:()=>{const g=lue(t,n,r);if(g){alert(g);return}const v=Gc(t.folder===un?void 0:t.folder),_=R5({id:e.id,name:t.name,birthDay:t.birthDay??"",calendarType:t.calendarType??"solar",birthTime:t.birthTime,unknownTime:n,gender:t.gender,birthPlace:t.birthPlace,unknownPlace:r,relationship:t.relationship,memo:t.memo,folder:v,mingSikType:t.mingSikType,favorite:e.favorite,deletedAt:e.deletedAt??null,sortOrder:e.sortOrder,dateObj:e.dateObj},{requireName:!0});if(!_.ok){alert(_.message);return}const w={...e,..._.value};if(w.folder&&!a7.includes(w.folder)&&!i.includes(w.folder)){const E=[...i,w.folder];a(E),iue(E)}o(e.id,w),f?.(),u?.()},removeThis:()=>{confirm(`'${e.name}'  ?`)&&c(e.id)}}}const r1="w-full rounded p-2 border transition-colors duration-200 bg-white text-neutral-900 placeholder-neutral-400 border-neutral-300 focus:outline-none focus:ring-2 focus:ring-violet-500 focus:border-transparent dark:bg-neutral-900 dark:text-neutral-100 dark:placeholder-neutral-500 dark:border-neutral-700 dark:focus:ring-violet-400",uue="w-full rounded p-2 border transition-colors duration-200 bg-white text-neutral-900 border-neutral-300 focus:outline-none focus:ring-2 focus:ring-violet-500 focus:border-transparent dark:bg-neutral-900 dark:text-neutral-100 dark:border-neutral-700 dark:focus:ring-violet-400",due="w-full rounded p-2 border min-h-28 transition-colors duration-200 bg-white text-neutral-900 placeholder-neutral-400 border-neutral-300 focus:outline-none focus:ring-2 focus:ring-violet-500 focus:border-transparent dark:bg-neutral-900 dark:text-neutral-100 dark:placeholder-neutral-500 dark:border-neutral-700 dark:focus:ring-violet-400",es="block text-sm mb-1 font-medium text-neutral-800 dark:text-neutral-200",fue="text-xs text-neutral-500 dark:text-neutral-400",O0="accent-violet-600 dark:accent-violet-400",tD="accent-violet-600 dark:accent-violet-400",Ev="px-3 py-1.5 rounded text-sm font-medium transition-colors duration-200 focus:outline-none focus:ring-2 focus:ring-offset-2 dark:focus:ring-offset-neutral-900",hue=`${Ev} bg-amber-600 text-white hover:bg-amber-500 dark:bg-amber-600 dark:hover:bg-amber-500 cursor-pointer`,mue=`${Ev} bg-red-600 text-white hover:bg-red-500 dark:bg-red-600 dark:hover:bg-red-500 cursor-pointer`,nD=`${Ev} bg-neutral-800 text-white hover:bg-neutral-700 dark:bg-neutral-700 dark:hover:bg-neutral-600 cursor-pointer`,pue=`${Ev} bg-green-600 text-white hover:bg-green-500 dark:bg-green-600 dark:hover:bg-green-500 cursor-pointer`;function gue({item:e,onClose:t}){const{list:n,update:r,remove:i}=Br(),a=aue(e),o=sue({list:n,customFolders:a.customFolders,form:a.form}),c=cue({item:e,form:a.form,unknownTime:a.unknownTime,unknownPlace:a.unknownPlace,customFolders:a.customFolders,setCustomFolders:a.setCustomFolders,update:r,remove:i,onClose:t,onSaved:()=>a.setIsEditing(!1)});return a.isEditing?x.jsxs("div",{className:"space-y-4 max-h-[calc(90dvh_-_40px)] overflow-auto transition-colors duration-200 bg-white text-neutral-900 dark:bg-neutral-950 dark:text-neutral-100 p-4 rounded-xl",children:[x.jsx("h3",{className:"text-lg font-bold",children:" "}),x.jsxs("div",{children:[x.jsx("label",{className:es,children:""}),x.jsx("input",{className:r1,value:a.form.name||"",onChange:u=>a.updateForm("name",u.target.value),placeholder:""})]}),x.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3",children:[x.jsxs("div",{children:[x.jsx("label",{className:es,children:" (YYYYMMDD)"}),x.jsx("input",{className:r1,value:a.form.birthDay||"",onChange:u=>a.updateForm("birthDay",u.target.value.replace(/\D/g,"").slice(0,8)),inputMode:"numeric",maxLength:8,placeholder:": 19900101"}),x.jsxs("div",{className:"flex gap-4 mt-2 items-center justify-between",children:[x.jsxs("div",{className:"flex gap-4",children:[x.jsxs("span",{className:"inline-flex items-center gap-1",children:[x.jsx("input",{type:"radio",className:O0,name:"calendarType",checked:a.form.calendarType==="solar",onChange:()=>a.updateForm("calendarType","solar"),id:"editor_calendar_solar"}),x.jsx("label",{htmlFor:"editor_calendar_solar",className:"inline-flex items-center gap-1 text-sm text-neutral-800 dark:text-neutral-200 cursor-pointer",children:""})]}),x.jsxs("span",{className:"inline-flex items-center gap-1",children:[x.jsx("input",{type:"radio",className:O0,name:"calendarType",checked:a.form.calendarType==="lunar",onChange:()=>a.updateForm("calendarType","lunar"),id:"editor_calendar_lunar"}),x.jsx("label",{htmlFor:"editor_calendar_lunar",className:"inline-flex items-center gap-1 text-sm text-neutral-800 dark:text-neutral-200 cursor-pointer",children:""})]})]}),o.lunarPreview&&x.jsx("span",{className:fue,children:o.lunarPreview})]})]}),x.jsxs("div",{children:[x.jsx("label",{className:es,children:"  (HHMM)"}),x.jsx("input",{className:`${r1} disabled:opacity-50`,value:a.unknownTime?"":a.form.birthTime||"",onChange:u=>a.updateForm("birthTime",u.target.value.replace(/\D/g,"").slice(0,4)),inputMode:"numeric",maxLength:4,placeholder:": 1524",disabled:a.unknownTime}),x.jsxs("div",{className:"mt-1 text-sm flex items-center gap-2",children:[x.jsx("input",{type:"checkbox",className:tD,checked:a.unknownTime,onChange:u=>a.setUnknownTime(u.target.checked),id:"editor_birthTimeX"}),x.jsx("label",{htmlFor:"editor_birthTimeX",className:"text-neutral-800 dark:text-neutral-200 cursor-pointer",children:""})]})]})]}),x.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3",children:[x.jsxs("div",{children:[x.jsx("label",{className:es,children:" "}),x.jsx("div",{className:"flex gap-4 text-sm",children:["","/",""].map(u=>{const f=`editor_ming_${u}`;return x.jsxs("span",{className:"inline-flex items-center gap-1",children:[x.jsx("input",{type:"radio",className:O0,name:"mingSikType",checked:(a.form.mingSikType??"")===u,onChange:()=>a.updateForm("mingSikType",u),id:f}),x.jsx("label",{htmlFor:f,className:"text-neutral-800 dark:text-neutral-200 cursor-pointer",children:u})]},u)})})]}),x.jsxs("div",{children:[x.jsx("label",{className:es,children:""}),x.jsx("div",{className:"flex gap-4 text-sm",children:["",""].map(u=>{const f=`editor_gender_${u}`;return x.jsxs("span",{className:"inline-flex items-center gap-1",children:[x.jsx("input",{type:"radio",className:O0,name:"gender",value:u,checked:a.form.gender===u,onChange:m=>a.updateForm("gender",m.target.value),id:f}),x.jsx("label",{htmlFor:f,className:"text-neutral-800 dark:text-neutral-200 cursor-pointer",children:u})]},u)})})]})]}),x.jsxs("div",{children:[x.jsx("label",{className:es,children:" "}),x.jsx(xB,{onSelect:u=>a.updateForm("birthPlace",u),value:a.unknownPlace?"":a.form.birthPlace?.name??""}),x.jsxs("div",{className:"mt-1 text-sm flex items-center gap-2",children:[x.jsx("input",{type:"checkbox",className:tD,checked:a.unknownPlace,onChange:u=>a.setUnknownPlace(u.target.checked),id:"editor_birthPlaceX"}),x.jsx("label",{htmlFor:"editor_birthPlaceX",className:"text-neutral-800 dark:text-neutral-200 cursor-pointer",children:""})]})]}),x.jsxs("div",{children:[x.jsx("label",{className:es,children:""}),x.jsx(z5,{value:a.form.relationship||"",onChange:u=>a.updateForm("relationship",u)})]}),x.jsxs("div",{children:[x.jsx("label",{className:es,children:""}),x.jsx("select",{className:uue,value:a.form.folder??un,onChange:u=>{const f=u.target.value;f===un?a.updateForm("folder",void 0):a.updateForm("folder",f)},children:o.folderOptions.map(u=>x.jsx("option",{value:u===un?un:u,children:u},u))})]}),x.jsxs("div",{children:[x.jsx("label",{className:es,children:""}),x.jsx("textarea",{className:due,value:a.form.memo||"",onChange:u=>a.updateForm("memo",u.target.value),placeholder:" "})]}),x.jsxs("div",{className:"flex gap-2 justify-end",children:[x.jsx("button",{className:nD,onClick:()=>{a.resetForm(),a.setIsEditing(!1)},children:""}),x.jsx("button",{className:pue,onClick:c.save,children:""})]})]}):x.jsxs("div",{className:"p-4 space-y-3 transition-colors duration-200 bg-white text-neutral-900 dark:bg-neutral-950 dark:text-neutral-100",children:[x.jsxs("div",{className:"flex items-center justify-between",children:[x.jsxs("h3",{className:"text-lg font-bold",children:[" ",e.name," "]}),x.jsxs("div",{className:"flex gap-2",children:[x.jsx("button",{className:hue,onClick:()=>a.setIsEditing(!0),children:""}),x.jsx("button",{className:mue,onClick:c.removeThis,children:""}),t&&x.jsx("button",{className:nD,onClick:t,children:""})]})]}),x.jsxs("div",{className:"text-sm text-neutral-700 dark:text-neutral-300",children:[x.jsxs("div",{children:[": ",e.gender]}),x.jsxs("div",{children:["/: ",e.birthDay," ",e.birthTime===""?"( )":e.birthTime,","," ",e.calendarType==="lunar"?"":""]}),x.jsxs("div",{children:[": ",e.correctedLocal||"-"]}),x.jsxs("div",{children:[": ",e.birthPlace?.name||"-"]}),x.jsxs("div",{children:[": ",e.relationship||"-"]}),x.jsxs("div",{children:[": ",e.folder??un]})]}),e.ganji&&x.jsx("div",{className:"text-sm text-red-500 whitespace-pre-wrap",children:e.ganji}),e.memo&&x.jsxs("div",{className:"text-sm whitespace-pre-wrap text-neutral-800 dark:text-neutral-200",children:[x.jsx("p",{className:"mb-1 font-semibold",children:""}),e.memo]})]})}function yue({children:e}){const t=Cl(),[n,r]=S.useState(!1),i=[{label:" ",href:"/admin/dashboard"},{label:"  ",href:"/admin/user"},{label:"  ",href:"/admin/logs"}];return x.jsxs("div",{className:"flex min-h-screen bg-neutral-950 text-white",children:[x.jsxs("aside",{className:`
          fixed top-0 left-0 h-full bg-neutral-900 border-r border-neutral-800 
          transition-all z-50

          desk:w-60 desk:translate-x-0
          ${n?"w-60 translate-x-0":"-translate-x-full"}
        `,children:[x.jsxs("div",{className:"p-4 font-bold text-lg flex items-center justify-between",children:[x.jsx("span",{className:"desk:block hidden",children:""}),x.jsx("button",{className:"desk:hidden text-neutral-400 hover:text-white",onClick:()=>r(!1),children:""})]}),x.jsx("nav",{className:"mt-4 flex flex-col gap-1 px-2",children:i.map(a=>{const o=t.pathname.startsWith(a.href);return x.jsx("a",{href:a.href,className:`
                  block px-3 py-2 rounded-md text-sm
                  ${o?"bg-neutral-800 text-yellow-400":"text-neutral-300 hover:bg-neutral-800"}
                `,children:a.label},a.href)})})]}),x.jsxs("main",{className:"flex-1 flex flex-col desk:ml-60",children:[x.jsxs("header",{className:"h-14 border-b border-neutral-800 bg-neutral-900 flex items-center px-4 justify-between",children:[x.jsx("button",{className:"desk:hidden text-neutral-300",onClick:()=>r(!0),children:""}),x.jsx("div",{className:"font-semibold",children:" "}),x.jsx("button",{className:"text-sm text-neutral-400 hover:text-white cursor-pointer",onClick:()=>window.location.href="/#/",children:" "})]}),x.jsx("div",{className:"flex-1",children:e})]})]})}function bue(){const[e,t]=S.useState(null),[n,r]=S.useState(!0);return S.useEffect(()=>{(async()=>{const{data:a}=await Ie.auth.getUser(),o=a.user?.id;if(!o){t(null),r(!1);return}const{data:c}=await Ie.from("admin_roles").select("role").eq("user_id",o).maybeSingle();t(c?.role??null),r(!1)})()},[]),{role:e,loading:n}}function vue({allow:e,children:t}){const{role:n,loading:r}=bue();return r?x.jsx("div",{className:"text-white p-6",children:"Checking permission..."}):!n||!e.includes(n)?x.jsx("div",{className:"text-red-400 p-6",children:" ."}):x.jsx(x.Fragment,{children:t})}function o7(e){var t,n,r="";if(typeof e=="string"||typeof e=="number")r+=e;else if(typeof e=="object")if(Array.isArray(e)){var i=e.length;for(t=0;t<i;t++)e[t]&&(n=o7(e[t]))&&(r&&(r+=" "),r+=n)}else for(n in e)e[n]&&(r&&(r+=" "),r+=n);return r}function Qt(){for(var e,t,n=0,r="",i=arguments.length;n<i;n++)(e=arguments[n])&&(t=o7(e))&&(r&&(r+=" "),r+=t);return r}var xue=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"];function rA(e){if(typeof e!="string")return!1;var t=xue;return t.includes(e)}var _ue=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],wue=new Set(_ue);function s7(e){return typeof e!="string"?!1:wue.has(e)}function l7(e){return typeof e=="string"&&e.startsWith("data-")}function za(e){if(typeof e!="object"||e===null)return{};var t={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(s7(n)||l7(n))&&(t[n]=e[n]);return t}function kv(e){if(e==null)return null;if(S.isValidElement(e)&&typeof e.props=="object"&&e.props!==null){var t=e.props;return za(t)}return typeof e=="object"&&!Array.isArray(e)?za(e):null}function fa(e){var t={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(s7(n)||l7(n)||rA(n))&&(t[n]=e[n]);return t}function Sue(e){return e==null?null:S.isValidElement(e)?fa(e.props):typeof e=="object"&&!Array.isArray(e)?fa(e):null}var Eue=["children","width","height","viewBox","className","style","title","desc"];function LE(){return LE=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},LE.apply(null,arguments)}function kue(e,t){if(e==null)return{};var n,r,i=Aue(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function Aue(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var c7=S.forwardRef((e,t)=>{var{children:n,width:r,height:i,viewBox:a,className:o,style:c,title:u,desc:f}=e,m=kue(e,Eue),p=a||{width:r,height:i,x:0,y:0},g=Qt("recharts-surface",o);return S.createElement("svg",LE({},fa(m),{className:g,width:r,height:i,style:c,viewBox:"".concat(p.x," ").concat(p.y," ").concat(p.width," ").concat(p.height),ref:t}),S.createElement("title",null,u),S.createElement("desc",null,f),n)}),Tue=["children","className"];function IE(){return IE=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},IE.apply(null,arguments)}function Oue(e,t){if(e==null)return{};var n,r,i=jue(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function jue(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var _o=S.forwardRef((e,t)=>{var{children:n,className:r}=e,i=Oue(e,Tue),a=Qt("recharts-layer",r);return S.createElement("g",IE({className:a},fa(i),{ref:t}),n)}),Nue=S.createContext(null);function xn(e){return function(){return e}}const $E=Math.PI,BE=2*$E,Dc=1e-6,Cue=BE-Dc;function u7(e){this._+=e[0];for(let t=1,n=e.length;t<n;++t)this._+=arguments[t]+e[t]}function Mue(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return u7;const n=10**t;return function(r){this._+=r[0];for(let i=1,a=r.length;i<a;++i)this._+=Math.round(arguments[i]*n)/n+r[i]}}class Pue{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?u7:Mue(t)}moveTo(t,n){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,n){this._append`L${this._x1=+t},${this._y1=+n}`}quadraticCurveTo(t,n,r,i){this._append`Q${+t},${+n},${this._x1=+r},${this._y1=+i}`}bezierCurveTo(t,n,r,i,a,o){this._append`C${+t},${+n},${+r},${+i},${this._x1=+a},${this._y1=+o}`}arcTo(t,n,r,i,a){if(t=+t,n=+n,r=+r,i=+i,a=+a,a<0)throw new Error(`negative radius: ${a}`);let o=this._x1,c=this._y1,u=r-t,f=i-n,m=o-t,p=c-n,g=m*m+p*p;if(this._x1===null)this._append`M${this._x1=t},${this._y1=n}`;else if(g>Dc)if(!(Math.abs(p*u-f*m)>Dc)||!a)this._append`L${this._x1=t},${this._y1=n}`;else{let v=r-o,_=i-c,w=u*u+f*f,E=v*v+_*_,T=Math.sqrt(w),N=Math.sqrt(g),O=a*Math.tan(($E-Math.acos((w+g-E)/(2*T*N)))/2),P=O/N,C=O/T;Math.abs(P-1)>Dc&&this._append`L${t+P*m},${n+P*p}`,this._append`A${a},${a},0,0,${+(p*v>m*_)},${this._x1=t+C*u},${this._y1=n+C*f}`}}arc(t,n,r,i,a,o){if(t=+t,n=+n,r=+r,o=!!o,r<0)throw new Error(`negative radius: ${r}`);let c=r*Math.cos(i),u=r*Math.sin(i),f=t+c,m=n+u,p=1^o,g=o?i-a:a-i;this._x1===null?this._append`M${f},${m}`:(Math.abs(this._x1-f)>Dc||Math.abs(this._y1-m)>Dc)&&this._append`L${f},${m}`,r&&(g<0&&(g=g%BE+BE),g>Cue?this._append`A${r},${r},0,1,${p},${t-c},${n-u}A${r},${r},0,1,${p},${this._x1=f},${this._y1=m}`:g>Dc&&this._append`A${r},${r},0,${+(g>=$E)},${p},${this._x1=t+r*Math.cos(a)},${this._y1=n+r*Math.sin(a)}`)}rect(t,n,r,i){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+n}h${r=+r}v${+i}h${-r}Z`}toString(){return this._}}function d7(e){let t=3;return e.digits=function(n){if(!arguments.length)return t;if(n==null)t=null;else{const r=Math.floor(n);if(!(r>=0))throw new RangeError(`invalid digits: ${n}`);t=r}return e},()=>new Pue(t)}function iA(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function f7(e){this._context=e}f7.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}};function Av(e){return new f7(e)}function h7(e){return e[0]}function m7(e){return e[1]}function p7(e,t){var n=xn(!0),r=null,i=Av,a=null,o=d7(c);e=typeof e=="function"?e:e===void 0?h7:xn(e),t=typeof t=="function"?t:t===void 0?m7:xn(t);function c(u){var f,m=(u=iA(u)).length,p,g=!1,v;for(r==null&&(a=i(v=o())),f=0;f<=m;++f)!(f<m&&n(p=u[f],f,u))===g&&((g=!g)?a.lineStart():a.lineEnd()),g&&a.point(+e(p,f,u),+t(p,f,u));if(v)return a=null,v+""||null}return c.x=function(u){return arguments.length?(e=typeof u=="function"?u:xn(+u),c):e},c.y=function(u){return arguments.length?(t=typeof u=="function"?u:xn(+u),c):t},c.defined=function(u){return arguments.length?(n=typeof u=="function"?u:xn(!!u),c):n},c.curve=function(u){return arguments.length?(i=u,r!=null&&(a=i(r)),c):i},c.context=function(u){return arguments.length?(u==null?r=a=null:a=i(r=u),c):r},c}function j0(e,t,n){var r=null,i=xn(!0),a=null,o=Av,c=null,u=d7(f);e=typeof e=="function"?e:e===void 0?h7:xn(+e),t=typeof t=="function"?t:xn(t===void 0?0:+t),n=typeof n=="function"?n:n===void 0?m7:xn(+n);function f(p){var g,v,_,w=(p=iA(p)).length,E,T=!1,N,O=new Array(w),P=new Array(w);for(a==null&&(c=o(N=u())),g=0;g<=w;++g){if(!(g<w&&i(E=p[g],g,p))===T)if(T=!T)v=g,c.areaStart(),c.lineStart();else{for(c.lineEnd(),c.lineStart(),_=g-1;_>=v;--_)c.point(O[_],P[_]);c.lineEnd(),c.areaEnd()}T&&(O[g]=+e(E,g,p),P[g]=+t(E,g,p),c.point(r?+r(E,g,p):O[g],n?+n(E,g,p):P[g]))}if(N)return c=null,N+""||null}function m(){return p7().defined(i).curve(o).context(a)}return f.x=function(p){return arguments.length?(e=typeof p=="function"?p:xn(+p),r=null,f):e},f.x0=function(p){return arguments.length?(e=typeof p=="function"?p:xn(+p),f):e},f.x1=function(p){return arguments.length?(r=p==null?null:typeof p=="function"?p:xn(+p),f):r},f.y=function(p){return arguments.length?(t=typeof p=="function"?p:xn(+p),n=null,f):t},f.y0=function(p){return arguments.length?(t=typeof p=="function"?p:xn(+p),f):t},f.y1=function(p){return arguments.length?(n=p==null?null:typeof p=="function"?p:xn(+p),f):n},f.lineX0=f.lineY0=function(){return m().x(e).y(t)},f.lineY1=function(){return m().x(e).y(n)},f.lineX1=function(){return m().x(r).y(t)},f.defined=function(p){return arguments.length?(i=typeof p=="function"?p:xn(!!p),f):i},f.curve=function(p){return arguments.length?(o=p,a!=null&&(c=o(a)),f):o},f.context=function(p){return arguments.length?(p==null?a=c=null:c=o(a=p),f):a},f}class g7{constructor(t,n){this._context=t,this._x=n}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(t,n){switch(t=+t,n=+n,this._point){case 0:{this._point=1,this._line?this._context.lineTo(t,n):this._context.moveTo(t,n);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+t)/2,this._y0,this._x0,n,t,n):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+n)/2,t,this._y0,t,n);break}}this._x0=t,this._y0=n}}function Due(e){return new g7(e,!0)}function Rue(e){return new g7(e,!1)}function tb(){}function nb(e,t,n){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+n)/6)}function y7(e){this._context=e}y7.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:nb(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:nb(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function Lue(e){return new y7(e)}function b7(e){this._context=e}b7.prototype={areaStart:tb,areaEnd:tb,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:nb(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function Iue(e){return new b7(e)}function v7(e){this._context=e}v7.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+e)/6,r=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(n,r):this._context.moveTo(n,r);break;case 3:this._point=4;default:nb(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function $ue(e){return new v7(e)}function x7(e){this._context=e}x7.prototype={areaStart:tb,areaEnd:tb,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}};function Bue(e){return new x7(e)}function rD(e){return e<0?-1:1}function iD(e,t,n){var r=e._x1-e._x0,i=t-e._x1,a=(e._y1-e._y0)/(r||i<0&&-0),o=(n-e._y1)/(i||r<0&&-0),c=(a*i+o*r)/(r+i);return(rD(a)+rD(o))*Math.min(Math.abs(a),Math.abs(o),.5*Math.abs(c))||0}function aD(e,t){var n=e._x1-e._x0;return n?(3*(e._y1-e._y0)/n-t)/2:t}function i1(e,t,n){var r=e._x0,i=e._y0,a=e._x1,o=e._y1,c=(a-r)/3;e._context.bezierCurveTo(r+c,i+c*t,a-c,o-c*n,a,o)}function rb(e){this._context=e}rb.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:i1(this,this._t0,aD(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var n=NaN;if(e=+e,t=+t,!(e===this._x1&&t===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,i1(this,aD(this,n=iD(this,e,t)),n);break;default:i1(this,this._t0,n=iD(this,e,t));break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=n}}};function _7(e){this._context=new w7(e)}(_7.prototype=Object.create(rb.prototype)).point=function(e,t){rb.prototype.point.call(this,t,e)};function w7(e){this._context=e}w7.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,n,r,i,a){this._context.bezierCurveTo(t,e,r,n,a,i)}};function zue(e){return new rb(e)}function Uue(e){return new _7(e)}function S7(e){this._context=e}S7.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,n=e.length;if(n)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),n===2)this._context.lineTo(e[1],t[1]);else for(var r=oD(e),i=oD(t),a=0,o=1;o<n;++a,++o)this._context.bezierCurveTo(r[0][a],i[0][a],r[1][a],i[1][a],e[o],t[o]);(this._line||this._line!==0&&n===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}};function oD(e){var t,n=e.length-1,r,i=new Array(n),a=new Array(n),o=new Array(n);for(i[0]=0,a[0]=2,o[0]=e[0]+2*e[1],t=1;t<n-1;++t)i[t]=1,a[t]=4,o[t]=4*e[t]+2*e[t+1];for(i[n-1]=2,a[n-1]=7,o[n-1]=8*e[n-1]+e[n],t=1;t<n;++t)r=i[t]/a[t-1],a[t]-=r,o[t]-=r*o[t-1];for(i[n-1]=o[n-1]/a[n-1],t=n-2;t>=0;--t)i[t]=(o[t]-i[t+1])/a[t];for(a[n-1]=(e[n]+i[n-1])/2,t=0;t<n-1;++t)a[t]=2*e[t+1]-i[t+1];return[i,a]}function Hue(e){return new S7(e)}function Tv(e,t){this._context=e,this._t=t}Tv.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var n=this._x*(1-this._t)+e*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,t)}break}}this._x=e,this._y=t}};function Fue(e){return new Tv(e,.5)}function Gue(e){return new Tv(e,0)}function que(e){return new Tv(e,1)}function Ud(e,t){if((o=e.length)>1)for(var n=1,r,i,a=e[t[0]],o,c=a.length;n<o;++n)for(i=a,a=e[t[n]],r=0;r<c;++r)a[r][1]+=a[r][0]=isNaN(i[r][1])?i[r][0]:i[r][1]}function zE(e){for(var t=e.length,n=new Array(t);--t>=0;)n[t]=t;return n}function Yue(e,t){return e[t]}function Kue(e){const t=[];return t.key=e,t}function Wue(){var e=xn([]),t=zE,n=Ud,r=Yue;function i(a){var o=Array.from(e.apply(this,arguments),Kue),c,u=o.length,f=-1,m;for(const p of a)for(c=0,++f;c<u;++c)(o[c][f]=[0,+r(p,o[c].key,f,a)]).data=p;for(c=0,m=iA(t(o));c<u;++c)o[m[c]].index=c;return n(o,m),o}return i.keys=function(a){return arguments.length?(e=typeof a=="function"?a:xn(Array.from(a)),i):e},i.value=function(a){return arguments.length?(r=typeof a=="function"?a:xn(+a),i):r},i.order=function(a){return arguments.length?(t=a==null?zE:typeof a=="function"?a:xn(Array.from(a)),i):t},i.offset=function(a){return arguments.length?(n=a??Ud,i):n},i}function Vue(e,t){if((r=e.length)>0){for(var n,r,i=0,a=e[0].length,o;i<a;++i){for(o=n=0;n<r;++n)o+=e[n][i][1]||0;if(o)for(n=0;n<r;++n)e[n][i][1]/=o}Ud(e,t)}}function Zue(e,t){if((i=e.length)>0){for(var n=0,r=e[t[0]],i,a=r.length;n<a;++n){for(var o=0,c=0;o<i;++o)c+=e[o][n][1]||0;r[n][1]+=r[n][0]=-c/2}Ud(e,t)}}function Xue(e,t){if(!(!((o=e.length)>0)||!((a=(i=e[t[0]]).length)>0))){for(var n=0,r=1,i,a,o;r<a;++r){for(var c=0,u=0,f=0;c<o;++c){for(var m=e[t[c]],p=m[r][1]||0,g=m[r-1][1]||0,v=(p-g)/2,_=0;_<c;++_){var w=e[t[_]],E=w[r][1]||0,T=w[r-1][1]||0;v+=E-T}u+=p,f+=v*p}i[r-1][1]+=i[r-1][0]=n,u&&(n-=f/u)}i[r-1][1]+=i[r-1][0]=n,Ud(e,t)}}var a1={},o1={},sD;function Jue(){return sD||(sD=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return n==="__proto__"}e.isUnsafeProperty=t})(o1)),o1}var s1={},lD;function E7(){return lD||(lD=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){switch(typeof n){case"number":case"symbol":return!1;case"string":return n.includes(".")||n.includes("[")||n.includes("]")}}e.isDeepKey=t})(s1)),s1}var l1={},cD;function aA(){return cD||(cD=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return typeof n=="string"||typeof n=="symbol"?n:Object.is(n?.valueOf?.(),-0)?"-0":String(n)}e.toKey=t})(l1)),l1}var c1={},u1={},uD;function Que(){return uD||(uD=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){if(n==null)return"";if(typeof n=="string")return n;if(Array.isArray(n))return n.map(t).join(",");const r=String(n);return r==="0"&&Object.is(Number(n),-0)?"-0":r}e.toString=t})(u1)),u1}var dD;function oA(){return dD||(dD=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Que(),n=aA();function r(i){if(Array.isArray(i))return i.map(n.toKey);if(typeof i=="symbol")return[i];i=t.toString(i);const a=[],o=i.length;if(o===0)return a;let c=0,u="",f="",m=!1;for(i.charCodeAt(0)===46&&(a.push(""),c++);c<o;){const p=i[c];f?p==="\\"&&c+1<o?(c++,u+=i[c]):p===f?f="":u+=p:m?p==='"'||p==="'"?f=p:p==="]"?(m=!1,a.push(u),u=""):u+=p:p==="["?(m=!0,u&&(a.push(u),u="")):p==="."?u&&(a.push(u),u=""):u+=p,c++}return u&&a.push(u),a}e.toPath=r})(c1)),c1}var fD;function sA(){return fD||(fD=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Jue(),n=E7(),r=aA(),i=oA();function a(c,u,f){if(c==null)return f;switch(typeof u){case"string":{if(t.isUnsafeProperty(u))return f;const m=c[u];return m===void 0?n.isDeepKey(u)?a(c,i.toPath(u),f):f:m}case"number":case"symbol":{typeof u=="number"&&(u=r.toKey(u));const m=c[u];return m===void 0?f:m}default:{if(Array.isArray(u))return o(c,u,f);if(Object.is(u?.valueOf(),-0)?u="-0":u=String(u),t.isUnsafeProperty(u))return f;const m=c[u];return m===void 0?f:m}}}function o(c,u,f){if(u.length===0)return f;let m=c;for(let p=0;p<u.length;p++){if(m==null||t.isUnsafeProperty(u[p]))return f;m=m[u[p]]}return m===void 0?f:m}e.get=a})(a1)),a1}var d1,hD;function ede(){return hD||(hD=1,d1=sA().get),d1}var tde=ede();const Ov=ui(tde);var oa=e=>e===0?0:e>0?1:-1,Ua=e=>typeof e=="number"&&e!=+e,hs=e=>typeof e=="string"&&e.indexOf("%")===e.length-1,We=e=>(typeof e=="number"||e instanceof Number)&&!Ua(e),wo=e=>We(e)||typeof e=="string",nde=0,_m=e=>{var t=++nde;return"".concat(e||"").concat(t)},jl=function(t,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!We(t)&&typeof t!="string")return r;var a;if(hs(t)){if(n==null)return r;var o=t.indexOf("%");a=n*parseFloat(t.slice(0,o))/100}else a=+t;return Ua(a)&&(a=r),i&&n!=null&&a>n&&(a=n),a},k7=e=>{if(!Array.isArray(e))return!1;for(var t=e.length,n={},r=0;r<t;r++)if(!n[e[r]])n[e[r]]=!0;else return!0;return!1};function po(e,t,n){return We(e)&&We(t)?e+n*(t-e):t}function A7(e,t,n){if(!(!e||!e.length))return e.find(r=>r&&(typeof t=="function"?t(r):Ov(r,t))===n)}var br=e=>e===null||typeof e>"u",lA=e=>br(e)?e:"".concat(e.charAt(0).toUpperCase()).concat(e.slice(1));function rde(e){return e!=null}function tp(){}var T7=e=>"radius"in e&&"startAngle"in e&&"endAngle"in e,cA=(e,t)=>{if(!e||typeof e=="function"||typeof e=="boolean")return null;var n=e;if(S.isValidElement(e)&&(n=e.props),typeof n!="object"&&typeof n!="function")return null;var r={};return Object.keys(n).forEach(i=>{rA(i)&&(r[i]=(a=>n[i](n,a)))}),r},ide=(e,t,n)=>r=>(e(t,n,r),null),ade=(e,t,n)=>{if(e===null||typeof e!="object"&&typeof e!="function")return null;var r=null;return Object.keys(e).forEach(i=>{var a=e[i];rA(i)&&typeof a=="function"&&(r||(r={}),r[i]=ide(a,t,n))}),r};function mD(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function ode(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?mD(Object(n),!0).forEach(function(r){sde(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):mD(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function sde(e,t,n){return(t=lde(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function lde(e){var t=cde(e,"string");return typeof t=="symbol"?t:t+""}function cde(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Ui(e,t){var n=ode({},e),r=t,i=Object.keys(t),a=i.reduce((o,c)=>(o[c]===void 0&&r[c]!==void 0&&(o[c]=r[c]),o),n);return a}var f1={},h1={},pD;function ude(){return pD||(pD=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n,r){const i=new Map;for(let a=0;a<n.length;a++){const o=n[a],c=r(o);i.has(c)||i.set(c,o)}return Array.from(i.values())}e.uniqBy=t})(h1)),h1}var m1={},gD;function O7(){return gD||(gD=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return n}e.identity=t})(m1)),m1}var p1={},g1={},y1={},yD;function dde(){return yD||(yD=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return Number.isSafeInteger(n)&&n>=0}e.isLength=t})(y1)),y1}var bD;function uA(){return bD||(bD=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=dde();function n(r){return r!=null&&typeof r!="function"&&t.isLength(r.length)}e.isArrayLike=n})(g1)),g1}var b1={},vD;function fde(){return vD||(vD=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return typeof n=="object"&&n!==null}e.isObjectLike=t})(b1)),b1}var xD;function hde(){return xD||(xD=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=uA(),n=fde();function r(i){return n.isObjectLike(i)&&t.isArrayLike(i)}e.isArrayLikeObject=r})(p1)),p1}var v1={},x1={},_D;function mde(){return _D||(_D=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=sA();function n(r){return function(i){return t.get(i,r)}}e.property=n})(x1)),x1}var _1={},w1={},S1={},E1={},wD;function j7(){return wD||(wD=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return n!==null&&(typeof n=="object"||typeof n=="function")}e.isObject=t})(E1)),E1}var k1={},SD;function N7(){return SD||(SD=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return n==null||typeof n!="object"&&typeof n!="function"}e.isPrimitive=t})(k1)),k1}var A1={},ED;function C7(){return ED||(ED=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n,r){return n===r||Number.isNaN(n)&&Number.isNaN(r)}e.eq=t})(A1)),A1}var kD;function pde(){return kD||(kD=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=j7(),n=N7(),r=C7();function i(m,p,g){return typeof g!="function"?i(m,p,()=>{}):a(m,p,function v(_,w,E,T,N,O){const P=g(_,w,E,T,N,O);return P!==void 0?!!P:a(_,w,v,O)},new Map)}function a(m,p,g,v){if(p===m)return!0;switch(typeof p){case"object":return o(m,p,g,v);case"function":return Object.keys(p).length>0?a(m,{...p},g,v):r.eq(m,p);default:return t.isObject(m)?typeof p=="string"?p==="":!0:r.eq(m,p)}}function o(m,p,g,v){if(p==null)return!0;if(Array.isArray(p))return u(m,p,g,v);if(p instanceof Map)return c(m,p,g,v);if(p instanceof Set)return f(m,p,g,v);const _=Object.keys(p);if(m==null)return _.length===0;if(_.length===0)return!0;if(v?.has(p))return v.get(p)===m;v?.set(p,m);try{for(let w=0;w<_.length;w++){const E=_[w];if(!n.isPrimitive(m)&&!(E in m)||p[E]===void 0&&m[E]!==void 0||p[E]===null&&m[E]!==null||!g(m[E],p[E],E,m,p,v))return!1}return!0}finally{v?.delete(p)}}function c(m,p,g,v){if(p.size===0)return!0;if(!(m instanceof Map))return!1;for(const[_,w]of p.entries()){const E=m.get(_);if(g(E,w,_,m,p,v)===!1)return!1}return!0}function u(m,p,g,v){if(p.length===0)return!0;if(!Array.isArray(m))return!1;const _=new Set;for(let w=0;w<p.length;w++){const E=p[w];let T=!1;for(let N=0;N<m.length;N++){if(_.has(N))continue;const O=m[N];let P=!1;if(g(O,E,w,m,p,v)&&(P=!0),P){_.add(N),T=!0;break}}if(!T)return!1}return!0}function f(m,p,g,v){return p.size===0?!0:m instanceof Set?u([...m],[...p],g,v):!1}e.isMatchWith=i,e.isSetMatch=f})(S1)),S1}var AD;function M7(){return AD||(AD=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=pde();function n(r,i){return t.isMatchWith(r,i,()=>{})}e.isMatch=n})(w1)),w1}var T1={},O1={},j1={},TD;function gde(){return TD||(TD=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return Object.getOwnPropertySymbols(n).filter(r=>Object.prototype.propertyIsEnumerable.call(n,r))}e.getSymbols=t})(j1)),j1}var N1={},OD;function P7(){return OD||(OD=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return n==null?n===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(n)}e.getTag=t})(N1)),N1}var C1={},jD;function D7(){return jD||(jD=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t="[object RegExp]",n="[object String]",r="[object Number]",i="[object Boolean]",a="[object Arguments]",o="[object Symbol]",c="[object Date]",u="[object Map]",f="[object Set]",m="[object Array]",p="[object Function]",g="[object ArrayBuffer]",v="[object Object]",_="[object Error]",w="[object DataView]",E="[object Uint8Array]",T="[object Uint8ClampedArray]",N="[object Uint16Array]",O="[object Uint32Array]",P="[object BigUint64Array]",C="[object Int8Array]",D="[object Int16Array]",$="[object Int32Array]",H="[object BigInt64Array]",Y="[object Float32Array]",K="[object Float64Array]";e.argumentsTag=a,e.arrayBufferTag=g,e.arrayTag=m,e.bigInt64ArrayTag=H,e.bigUint64ArrayTag=P,e.booleanTag=i,e.dataViewTag=w,e.dateTag=c,e.errorTag=_,e.float32ArrayTag=Y,e.float64ArrayTag=K,e.functionTag=p,e.int16ArrayTag=D,e.int32ArrayTag=$,e.int8ArrayTag=C,e.mapTag=u,e.numberTag=r,e.objectTag=v,e.regexpTag=t,e.setTag=f,e.stringTag=n,e.symbolTag=o,e.uint16ArrayTag=N,e.uint32ArrayTag=O,e.uint8ArrayTag=E,e.uint8ClampedArrayTag=T})(C1)),C1}var M1={},ND;function yde(){return ND||(ND=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return ArrayBuffer.isView(n)&&!(n instanceof DataView)}e.isTypedArray=t})(M1)),M1}var CD;function R7(){return CD||(CD=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=gde(),n=P7(),r=D7(),i=N7(),a=yde();function o(m,p){return c(m,void 0,m,new Map,p)}function c(m,p,g,v=new Map,_=void 0){const w=_?.(m,p,g,v);if(w!==void 0)return w;if(i.isPrimitive(m))return m;if(v.has(m))return v.get(m);if(Array.isArray(m)){const E=new Array(m.length);v.set(m,E);for(let T=0;T<m.length;T++)E[T]=c(m[T],T,g,v,_);return Object.hasOwn(m,"index")&&(E.index=m.index),Object.hasOwn(m,"input")&&(E.input=m.input),E}if(m instanceof Date)return new Date(m.getTime());if(m instanceof RegExp){const E=new RegExp(m.source,m.flags);return E.lastIndex=m.lastIndex,E}if(m instanceof Map){const E=new Map;v.set(m,E);for(const[T,N]of m)E.set(T,c(N,T,g,v,_));return E}if(m instanceof Set){const E=new Set;v.set(m,E);for(const T of m)E.add(c(T,void 0,g,v,_));return E}if(typeof Buffer<"u"&&Buffer.isBuffer(m))return m.subarray();if(a.isTypedArray(m)){const E=new(Object.getPrototypeOf(m)).constructor(m.length);v.set(m,E);for(let T=0;T<m.length;T++)E[T]=c(m[T],T,g,v,_);return E}if(m instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&m instanceof SharedArrayBuffer)return m.slice(0);if(m instanceof DataView){const E=new DataView(m.buffer.slice(0),m.byteOffset,m.byteLength);return v.set(m,E),u(E,m,g,v,_),E}if(typeof File<"u"&&m instanceof File){const E=new File([m],m.name,{type:m.type});return v.set(m,E),u(E,m,g,v,_),E}if(typeof Blob<"u"&&m instanceof Blob){const E=new Blob([m],{type:m.type});return v.set(m,E),u(E,m,g,v,_),E}if(m instanceof Error){const E=new m.constructor;return v.set(m,E),E.message=m.message,E.name=m.name,E.stack=m.stack,E.cause=m.cause,u(E,m,g,v,_),E}if(m instanceof Boolean){const E=new Boolean(m.valueOf());return v.set(m,E),u(E,m,g,v,_),E}if(m instanceof Number){const E=new Number(m.valueOf());return v.set(m,E),u(E,m,g,v,_),E}if(m instanceof String){const E=new String(m.valueOf());return v.set(m,E),u(E,m,g,v,_),E}if(typeof m=="object"&&f(m)){const E=Object.create(Object.getPrototypeOf(m));return v.set(m,E),u(E,m,g,v,_),E}return m}function u(m,p,g=m,v,_){const w=[...Object.keys(p),...t.getSymbols(p)];for(let E=0;E<w.length;E++){const T=w[E],N=Object.getOwnPropertyDescriptor(m,T);(N==null||N.writable)&&(m[T]=c(p[T],T,g,v,_))}}function f(m){switch(n.getTag(m)){case r.argumentsTag:case r.arrayTag:case r.arrayBufferTag:case r.dataViewTag:case r.booleanTag:case r.dateTag:case r.float32ArrayTag:case r.float64ArrayTag:case r.int8ArrayTag:case r.int16ArrayTag:case r.int32ArrayTag:case r.mapTag:case r.numberTag:case r.objectTag:case r.regexpTag:case r.setTag:case r.stringTag:case r.symbolTag:case r.uint8ArrayTag:case r.uint8ClampedArrayTag:case r.uint16ArrayTag:case r.uint32ArrayTag:return!0;default:return!1}}e.cloneDeepWith=o,e.cloneDeepWithImpl=c,e.copyProperties=u})(O1)),O1}var MD;function bde(){return MD||(MD=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=R7();function n(r){return t.cloneDeepWithImpl(r,void 0,r,new Map,void 0)}e.cloneDeep=n})(T1)),T1}var PD;function vde(){return PD||(PD=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=M7(),n=bde();function r(i){return i=n.cloneDeep(i),a=>t.isMatch(a,i)}e.matches=r})(_1)),_1}var P1={},D1={},R1={},DD;function xde(){return DD||(DD=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=R7(),n=D7();function r(i,a){return t.cloneDeepWith(i,(o,c,u,f)=>{const m=a?.(o,c,u,f);if(m!==void 0)return m;if(typeof i=="object")switch(Object.prototype.toString.call(i)){case n.numberTag:case n.stringTag:case n.booleanTag:{const p=new i.constructor(i?.valueOf());return t.copyProperties(p,i),p}case n.argumentsTag:{const p={};return t.copyProperties(p,i),p.length=i.length,p[Symbol.iterator]=i[Symbol.iterator],p}default:return}})}e.cloneDeepWith=r})(R1)),R1}var RD;function _de(){return RD||(RD=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=xde();function n(r){return t.cloneDeepWith(r)}e.cloneDeep=n})(D1)),D1}var L1={},I1={},LD;function L7(){return LD||(LD=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=/^(?:0|[1-9]\d*)$/;function n(r,i=Number.MAX_SAFE_INTEGER){switch(typeof r){case"number":return Number.isInteger(r)&&r>=0&&r<i;case"symbol":return!1;case"string":return t.test(r)}}e.isIndex=n})(I1)),I1}var $1={},ID;function wde(){return ID||(ID=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=P7();function n(r){return r!==null&&typeof r=="object"&&t.getTag(r)==="[object Arguments]"}e.isArguments=n})($1)),$1}var $D;function Sde(){return $D||($D=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=E7(),n=L7(),r=wde(),i=oA();function a(o,c){let u;if(Array.isArray(c)?u=c:typeof c=="string"&&t.isDeepKey(c)&&o?.[c]==null?u=i.toPath(c):u=[c],u.length===0)return!1;let f=o;for(let m=0;m<u.length;m++){const p=u[m];if((f==null||!Object.hasOwn(f,p))&&!((Array.isArray(f)||r.isArguments(f))&&n.isIndex(p)&&p<f.length))return!1;f=f[p]}return!0}e.has=a})(L1)),L1}var BD;function Ede(){return BD||(BD=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=M7(),n=aA(),r=_de(),i=sA(),a=Sde();function o(c,u){switch(typeof c){case"object":{Object.is(c?.valueOf(),-0)&&(c="-0");break}case"number":{c=n.toKey(c);break}}return u=r.cloneDeep(u),function(f){const m=i.get(f,c);return m===void 0?a.has(f,c):u===void 0?m===void 0:t.isMatch(m,u)}}e.matchesProperty=o})(P1)),P1}var zD;function kde(){return zD||(zD=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=O7(),n=mde(),r=vde(),i=Ede();function a(o){if(o==null)return t.identity;switch(typeof o){case"function":return o;case"object":return Array.isArray(o)&&o.length===2?i.matchesProperty(o[0],o[1]):r.matches(o);case"string":case"symbol":case"number":return n.property(o)}}e.iteratee=a})(v1)),v1}var UD;function Ade(){return UD||(UD=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=ude(),n=O7(),r=hde(),i=kde();function a(o,c=n.identity){return r.isArrayLikeObject(o)?t.uniqBy(Array.from(o),i.iteratee(c)):[]}e.uniqBy=a})(f1)),f1}var B1,HD;function Tde(){return HD||(HD=1,B1=Ade().uniqBy),B1}var Ode=Tde();const FD=ui(Ode);function jde(e,t,n){return t===!0?FD(e,n):typeof t=="function"?FD(e,t):e}var z1={exports:{}},U1={},H1={exports:{}},F1={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var GD;function Nde(){if(GD)return F1;GD=1;var e=Wd();function t(p,g){return p===g&&(p!==0||1/p===1/g)||p!==p&&g!==g}var n=typeof Object.is=="function"?Object.is:t,r=e.useState,i=e.useEffect,a=e.useLayoutEffect,o=e.useDebugValue;function c(p,g){var v=g(),_=r({inst:{value:v,getSnapshot:g}}),w=_[0].inst,E=_[1];return a(function(){w.value=v,w.getSnapshot=g,u(w)&&E({inst:w})},[p,v,g]),i(function(){return u(w)&&E({inst:w}),p(function(){u(w)&&E({inst:w})})},[p]),o(v),v}function u(p){var g=p.getSnapshot;p=p.value;try{var v=g();return!n(p,v)}catch{return!0}}function f(p,g){return g()}var m=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?f:c;return F1.useSyncExternalStore=e.useSyncExternalStore!==void 0?e.useSyncExternalStore:m,F1}var qD;function Cde(){return qD||(qD=1,H1.exports=Nde()),H1.exports}/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var YD;function Mde(){if(YD)return U1;YD=1;var e=Wd(),t=Cde();function n(f,m){return f===m&&(f!==0||1/f===1/m)||f!==f&&m!==m}var r=typeof Object.is=="function"?Object.is:n,i=t.useSyncExternalStore,a=e.useRef,o=e.useEffect,c=e.useMemo,u=e.useDebugValue;return U1.useSyncExternalStoreWithSelector=function(f,m,p,g,v){var _=a(null);if(_.current===null){var w={hasValue:!1,value:null};_.current=w}else w=_.current;_=c(function(){function T(D){if(!N){if(N=!0,O=D,D=g(D),v!==void 0&&w.hasValue){var $=w.value;if(v($,D))return P=$}return P=D}if($=P,r(O,D))return $;var H=g(D);return v!==void 0&&v($,H)?(O=D,$):(O=D,P=H)}var N=!1,O,P,C=p===void 0?null:p;return[function(){return T(m())},C===null?void 0:function(){return T(C())}]},[m,p,g,v]);var E=i(f,_[0],_[1]);return o(function(){w.hasValue=!0,w.value=E},[E]),u(E),E},U1}var KD;function Pde(){return KD||(KD=1,z1.exports=Mde()),z1.exports}var Dde=Pde(),dA=S.createContext(null),Rde=e=>e,sr=()=>{var e=S.useContext(dA);return e?e.store.dispatch:Rde},cy=()=>{},Lde=()=>cy,Ide=(e,t)=>e===t;function Je(e){var t=S.useContext(dA);return Dde.useSyncExternalStoreWithSelector(t?t.subscription.addNestedSub:Lde,t?t.store.getState:cy,t?t.store.getState:cy,t?e:cy,Ide)}function $de(e,t=`expected a function, instead received ${typeof e}`){if(typeof e!="function")throw new TypeError(t)}function Bde(e,t=`expected an object, instead received ${typeof e}`){if(typeof e!="object")throw new TypeError(t)}function zde(e,t="expected all items to be functions, instead received the following types: "){if(!e.every(n=>typeof n=="function")){const n=e.map(r=>typeof r=="function"?`function ${r.name||"unnamed"}()`:typeof r).join(", ");throw new TypeError(`${t}[${n}]`)}}var WD=e=>Array.isArray(e)?e:[e];function Ude(e){const t=Array.isArray(e[0])?e[0]:e;return zde(t,"createSelector expects all input-selectors to be functions, but received the following types: "),t}function Hde(e,t){const n=[],{length:r}=e;for(let i=0;i<r;i++)n.push(e[i].apply(null,t));return n}var Fde=class{constructor(e){this.value=e}deref(){return this.value}},Gde=typeof WeakRef<"u"?WeakRef:Fde,qde=0,VD=1;function N0(){return{s:qde,v:void 0,o:null,p:null}}function I7(e,t={}){let n=N0();const{resultEqualityCheck:r}=t;let i,a=0;function o(){let c=n;const{length:u}=arguments;for(let p=0,g=u;p<g;p++){const v=arguments[p];if(typeof v=="function"||typeof v=="object"&&v!==null){let _=c.o;_===null&&(c.o=_=new WeakMap);const w=_.get(v);w===void 0?(c=N0(),_.set(v,c)):c=w}else{let _=c.p;_===null&&(c.p=_=new Map);const w=_.get(v);w===void 0?(c=N0(),_.set(v,c)):c=w}}const f=c;let m;if(c.s===VD)m=c.v;else if(m=e.apply(null,arguments),a++,r){const p=i?.deref?.()??i;p!=null&&r(p,m)&&(m=p,a!==0&&a--),i=typeof m=="object"&&m!==null||typeof m=="function"?new Gde(m):m}return f.s=VD,f.v=m,m}return o.clearCache=()=>{n=N0(),o.resetResultsCount()},o.resultsCount=()=>a,o.resetResultsCount=()=>{a=0},o}function Yde(e,...t){const n=typeof e=="function"?{memoize:e,memoizeOptions:t}:e,r=(...i)=>{let a=0,o=0,c,u={},f=i.pop();typeof f=="object"&&(u=f,f=i.pop()),$de(f,`createSelector expects an output function after the inputs, but received: [${typeof f}]`);const m={...n,...u},{memoize:p,memoizeOptions:g=[],argsMemoize:v=I7,argsMemoizeOptions:_=[]}=m,w=WD(g),E=WD(_),T=Ude(i),N=p(function(){return a++,f.apply(null,arguments)},...w),O=v(function(){o++;const C=Hde(T,arguments);return c=N.apply(null,C),c},...E);return Object.assign(O,{resultFunc:f,memoizedResultFunc:N,dependencies:T,dependencyRecomputations:()=>o,resetDependencyRecomputations:()=>{o=0},lastResult:()=>c,recomputations:()=>a,resetRecomputations:()=>{a=0},memoize:p,argsMemoize:v})};return Object.assign(r,{withTypes:()=>r}),r}var we=Yde(I7),Kde=Object.assign((e,t=we)=>{Bde(e,`createStructuredSelector expects first argument to be an object where each property is a selector, instead received a ${typeof e}`);const n=Object.keys(e),r=n.map(a=>e[a]);return t(r,(...a)=>a.reduce((o,c,u)=>(o[n[u]]=c,o),{}))},{withTypes:()=>Kde}),G1={},q1={},Y1={},ZD;function Wde(){return ZD||(ZD=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return typeof r=="symbol"?1:r===null?2:r===void 0?3:r!==r?4:0}const n=(r,i,a)=>{if(r!==i){const o=t(r),c=t(i);if(o===c&&o===0){if(r<i)return a==="desc"?1:-1;if(r>i)return a==="desc"?-1:1}return a==="desc"?c-o:o-c}return 0};e.compareValues=n})(Y1)),Y1}var K1={},W1={},XD;function $7(){return XD||(XD=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return typeof n=="symbol"||n instanceof Symbol}e.isSymbol=t})(W1)),W1}var JD;function Vde(){return JD||(JD=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=$7(),n=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,r=/^\w*$/;function i(a,o){return Array.isArray(a)?!1:typeof a=="number"||typeof a=="boolean"||a==null||t.isSymbol(a)?!0:typeof a=="string"&&(r.test(a)||!n.test(a))||o!=null&&Object.hasOwn(o,a)}e.isKey=i})(K1)),K1}var QD;function Zde(){return QD||(QD=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Wde(),n=Vde(),r=oA();function i(a,o,c,u){if(a==null)return[];c=u?void 0:c,Array.isArray(a)||(a=Object.values(a)),Array.isArray(o)||(o=o==null?[null]:[o]),o.length===0&&(o=[null]),Array.isArray(c)||(c=c==null?[]:[c]),c=c.map(v=>String(v));const f=(v,_)=>{let w=v;for(let E=0;E<_.length&&w!=null;++E)w=w[_[E]];return w},m=(v,_)=>_==null||v==null?_:typeof v=="object"&&"key"in v?Object.hasOwn(_,v.key)?_[v.key]:f(_,v.path):typeof v=="function"?v(_):Array.isArray(v)?f(_,v):typeof _=="object"?_[v]:_,p=o.map(v=>(Array.isArray(v)&&v.length===1&&(v=v[0]),v==null||typeof v=="function"||Array.isArray(v)||n.isKey(v)?v:{key:v,path:r.toPath(v)}));return a.map(v=>({original:v,criteria:p.map(_=>m(_,v))})).slice().sort((v,_)=>{for(let w=0;w<p.length;w++){const E=t.compareValues(v.criteria[w],_.criteria[w],c[w]);if(E!==0)return E}return 0}).map(v=>v.original)}e.orderBy=i})(q1)),q1}var V1={},eR;function Xde(){return eR||(eR=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n,r=1){const i=[],a=Math.floor(r),o=(c,u)=>{for(let f=0;f<c.length;f++){const m=c[f];Array.isArray(m)&&u<a?o(m,u+1):i.push(m)}};return o(n,0),i}e.flatten=t})(V1)),V1}var Z1={},tR;function B7(){return tR||(tR=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=L7(),n=uA(),r=j7(),i=C7();function a(o,c,u){return r.isObject(u)&&(typeof c=="number"&&n.isArrayLike(u)&&t.isIndex(c)&&c<u.length||typeof c=="string"&&c in u)?i.eq(u[c],o):!1}e.isIterateeCall=a})(Z1)),Z1}var nR;function Jde(){return nR||(nR=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Zde(),n=Xde(),r=B7();function i(a,...o){const c=o.length;return c>1&&r.isIterateeCall(a,o[0],o[1])?o=[]:c>2&&r.isIterateeCall(o[0],o[1],o[2])&&(o=[o[0]]),t.orderBy(a,n.flatten(o),["asc"])}e.sortBy=i})(G1)),G1}var X1,rR;function Qde(){return rR||(rR=1,X1=Jde().sortBy),X1}var efe=Qde();const jv=ui(efe);var z7=e=>e.legend.settings,tfe=e=>e.legend.size,nfe=e=>e.legend.payload;we([nfe,z7],(e,t)=>{var{itemSorter:n}=t,r=e.flat(1);return n?jv(r,n):r});var C0=1;function rfe(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],[t,n]=S.useState({height:0,left:0,top:0,width:0}),r=S.useCallback(i=>{if(i!=null){var a=i.getBoundingClientRect(),o={height:a.height,left:a.left,top:a.top,width:a.width};(Math.abs(o.height-t.height)>C0||Math.abs(o.left-t.left)>C0||Math.abs(o.top-t.top)>C0||Math.abs(o.width-t.width)>C0)&&n({height:o.height,left:o.left,top:o.top,width:o.width})}},[t.width,t.height,t.top,t.left,...e]);return[t,r]}var U7=Symbol.for("immer-nothing"),iR=Symbol.for("immer-draftable"),zr=Symbol.for("immer-state");function Pa(e,...t){throw new Error(`[Immer] minified error nr: ${e}. Full error at: https://bit.ly/3cXEKWf`)}var Pi=Object,Hd=Pi.getPrototypeOf,ib="constructor",Nv="prototype",UE="configurable",ab="enumerable",uy="writable",wm="value",ms=e=>!!e&&!!e[zr];function Ha(e){return e?H7(e)||Cv(e)||!!e[iR]||!!e[ib]?.[iR]||Mv(e)||Pv(e):!1}var ife=Pi[Nv][ib].toString(),aR=new WeakMap;function H7(e){if(!e||!fA(e))return!1;const t=Hd(e);if(t===null||t===Pi[Nv])return!0;const n=Pi.hasOwnProperty.call(t,ib)&&t[ib];if(n===Object)return!0;if(!hd(n))return!1;let r=aR.get(n);return r===void 0&&(r=Function.toString.call(n),aR.set(n,r)),r===ife}function np(e,t,n=!0){rp(e)===0?(n?Reflect.ownKeys(e):Pi.keys(e)).forEach(i=>{t(i,e[i],e)}):e.forEach((r,i)=>t(i,r,e))}function rp(e){const t=e[zr];return t?t.type_:Cv(e)?1:Mv(e)?2:Pv(e)?3:0}var oR=(e,t,n=rp(e))=>n===2?e.has(t):Pi[Nv].hasOwnProperty.call(e,t),HE=(e,t,n=rp(e))=>n===2?e.get(t):e[t],ob=(e,t,n,r=rp(e))=>{r===2?e.set(t,n):r===3?e.add(n):e[t]=n};function afe(e,t){return e===t?e!==0||1/e===1/t:e!==e&&t!==t}var Cv=Array.isArray,Mv=e=>e instanceof Map,Pv=e=>e instanceof Set,fA=e=>typeof e=="object",hd=e=>typeof e=="function",J1=e=>typeof e=="boolean",ts=e=>e.copy_||e.base_,hA=e=>e.modified_?e.copy_:e.base_;function FE(e,t){if(Mv(e))return new Map(e);if(Pv(e))return new Set(e);if(Cv(e))return Array[Nv].slice.call(e);const n=H7(e);if(t===!0||t==="class_only"&&!n){const r=Pi.getOwnPropertyDescriptors(e);delete r[zr];let i=Reflect.ownKeys(r);for(let a=0;a<i.length;a++){const o=i[a],c=r[o];c[uy]===!1&&(c[uy]=!0,c[UE]=!0),(c.get||c.set)&&(r[o]={[UE]:!0,[uy]:!0,[ab]:c[ab],[wm]:e[o]})}return Pi.create(Hd(e),r)}else{const r=Hd(e);if(r!==null&&n)return{...e};const i=Pi.create(r);return Pi.assign(i,e)}}function mA(e,t=!1){return Dv(e)||ms(e)||!Ha(e)||(rp(e)>1&&Pi.defineProperties(e,{set:M0,add:M0,clear:M0,delete:M0}),Pi.freeze(e),t&&np(e,(n,r)=>{mA(r,!0)},!1)),e}function ofe(){Pa(2)}var M0={[wm]:ofe};function Dv(e){return e===null||!fA(e)?!0:Pi.isFrozen(e)}var sb="MapSet",GE="Patches",F7={};function Fd(e){const t=F7[e];return t||Pa(0,e),t}var sfe=e=>!!F7[e],Sm,G7=()=>Sm,lfe=(e,t)=>({drafts_:[],parent_:e,immer_:t,canAutoFreeze_:!0,unfinalizedDrafts_:0,handledSet_:new Set,processedForPatches_:new Set,mapSetPlugin_:sfe(sb)?Fd(sb):void 0});function sR(e,t){t&&(e.patchPlugin_=Fd(GE),e.patches_=[],e.inversePatches_=[],e.patchListener_=t)}function qE(e){YE(e),e.drafts_.forEach(cfe),e.drafts_=null}function YE(e){e===Sm&&(Sm=e.parent_)}var lR=e=>Sm=lfe(Sm,e);function cfe(e){const t=e[zr];t.type_===0||t.type_===1?t.revoke_():t.revoked_=!0}function cR(e,t){t.unfinalizedDrafts_=t.drafts_.length;const n=t.drafts_[0];if(e!==void 0&&e!==n){n[zr].modified_&&(qE(t),Pa(4)),Ha(e)&&(e=uR(t,e));const{patchPlugin_:i}=t;i&&i.generateReplacementPatches_(n[zr].base_,e,t)}else e=uR(t,n);return ufe(t,e,!0),qE(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),e!==U7?e:void 0}function uR(e,t){if(Dv(t))return t;const n=t[zr];if(!n)return pA(t,e.handledSet_,e);if(!Rv(n,e))return t;if(!n.modified_)return n.base_;if(!n.finalized_){const{callbacks_:r}=n;if(r)for(;r.length>0;)r.pop()(e);K7(n,e)}return n.copy_}function ufe(e,t,n=!1){!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&mA(t,n)}function q7(e){e.finalized_=!0,e.scope_.unfinalizedDrafts_--}var Rv=(e,t)=>e.scope_===t,dfe=[];function Y7(e,t,n,r){const i=ts(e),a=e.type_;if(r!==void 0&&HE(i,r,a)===t){ob(i,r,n,a);return}if(!e.draftLocations_){const c=e.draftLocations_=new Map;np(i,(u,f)=>{if(ms(f)){const m=c.get(f)||[];m.push(u),c.set(f,m)}})}const o=e.draftLocations_.get(t)??dfe;for(const c of o)ob(i,c,n,a)}function ffe(e,t,n){e.callbacks_.push(function(i){const a=t;if(!a||!Rv(a,i))return;i.mapSetPlugin_?.fixSetContents(a);const o=hA(a);Y7(e,a.draft_??a,o,n),K7(a,i)})}function K7(e,t){if(e.modified_&&!e.finalized_&&(e.type_===3||(e.assigned_?.size??0)>0)){const{patchPlugin_:r}=t;if(r){const i=r.getPath(e);i&&r.generatePatches_(e,i,t)}q7(e)}}function hfe(e,t,n){const{scope_:r}=e;if(ms(n)){const i=n[zr];Rv(i,r)&&i.callbacks_.push(function(){dy(e);const o=hA(i);Y7(e,n,o,t)})}else Ha(n)&&e.callbacks_.push(function(){const a=ts(e);HE(a,t,e.type_)===n&&r.drafts_.length>1&&(e.assigned_.get(t)??!1)===!0&&e.copy_&&pA(HE(e.copy_,t,e.type_),r.handledSet_,r)})}function pA(e,t,n){return!n.immer_.autoFreeze_&&n.unfinalizedDrafts_<1||ms(e)||t.has(e)||!Ha(e)||Dv(e)||(t.add(e),np(e,(r,i)=>{if(ms(i)){const a=i[zr];if(Rv(a,n)){const o=hA(a);ob(e,r,o,e.type_),q7(a)}}else Ha(i)&&pA(i,t,n)})),e}function mfe(e,t){const n=Cv(e),r={type_:n?1:0,scope_:t?t.scope_:G7(),modified_:!1,finalized_:!1,assigned_:void 0,parent_:t,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1,callbacks_:void 0};let i=r,a=gA;n&&(i=[r],a=Em);const{revoke:o,proxy:c}=Proxy.revocable(i,a);return r.draft_=c,r.revoke_=o,[c,r]}var gA={get(e,t){if(t===zr)return e;const n=ts(e);if(!oR(n,t,e.type_))return pfe(e,n,t);const r=n[t];if(e.finalized_||!Ha(r))return r;if(r===Q1(e.base_,t)){dy(e);const i=e.type_===1?+t:t,a=WE(e.scope_,r,e,i);return e.copy_[i]=a}return r},has(e,t){return t in ts(e)},ownKeys(e){return Reflect.ownKeys(ts(e))},set(e,t,n){const r=W7(ts(e),t);if(r?.set)return r.set.call(e.draft_,n),!0;if(!e.modified_){const i=Q1(ts(e),t),a=i?.[zr];if(a&&a.base_===n)return e.copy_[t]=n,e.assigned_.set(t,!1),!0;if(afe(n,i)&&(n!==void 0||oR(e.base_,t,e.type_)))return!0;dy(e),KE(e)}return e.copy_[t]===n&&(n!==void 0||t in e.copy_)||Number.isNaN(n)&&Number.isNaN(e.copy_[t])||(e.copy_[t]=n,e.assigned_.set(t,!0),hfe(e,t,n)),!0},deleteProperty(e,t){return dy(e),Q1(e.base_,t)!==void 0||t in e.base_?(e.assigned_.set(t,!1),KE(e)):e.assigned_.delete(t),e.copy_&&delete e.copy_[t],!0},getOwnPropertyDescriptor(e,t){const n=ts(e),r=Reflect.getOwnPropertyDescriptor(n,t);return r&&{[uy]:!0,[UE]:e.type_!==1||t!=="length",[ab]:r[ab],[wm]:n[t]}},defineProperty(){Pa(11)},getPrototypeOf(e){return Hd(e.base_)},setPrototypeOf(){Pa(12)}},Em={};np(gA,(e,t)=>{Em[e]=function(){const n=arguments;return n[0]=n[0][0],t.apply(this,n)}});Em.deleteProperty=function(e,t){return Em.set.call(this,e,t,void 0)};Em.set=function(e,t,n){return gA.set.call(this,e[0],t,n,e[0])};function Q1(e,t){const n=e[zr];return(n?ts(n):e)[t]}function pfe(e,t,n){const r=W7(t,n);return r?wm in r?r[wm]:r.get?.call(e.draft_):void 0}function W7(e,t){if(!(t in e))return;let n=Hd(e);for(;n;){const r=Object.getOwnPropertyDescriptor(n,t);if(r)return r;n=Hd(n)}}function KE(e){e.modified_||(e.modified_=!0,e.parent_&&KE(e.parent_))}function dy(e){e.copy_||(e.assigned_=new Map,e.copy_=FE(e.base_,e.scope_.immer_.useStrictShallowCopy_))}var gfe=class{constructor(t){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.useStrictIteration_=!1,this.produce=(n,r,i)=>{if(hd(n)&&!hd(r)){const o=r;r=n;const c=this;return function(f=o,...m){return c.produce(f,p=>r.call(this,p,...m))}}hd(r)||Pa(6),i!==void 0&&!hd(i)&&Pa(7);let a;if(Ha(n)){const o=lR(this),c=WE(o,n,void 0);let u=!0;try{a=r(c),u=!1}finally{u?qE(o):YE(o)}return sR(o,i),cR(a,o)}else if(!n||!fA(n)){if(a=r(n),a===void 0&&(a=n),a===U7&&(a=void 0),this.autoFreeze_&&mA(a,!0),i){const o=[],c=[];Fd(GE).generateReplacementPatches_(n,a,{patches_:o,inversePatches_:c}),i(o,c)}return a}else Pa(1,n)},this.produceWithPatches=(n,r)=>{if(hd(n))return(c,...u)=>this.produceWithPatches(c,f=>n(f,...u));let i,a;return[this.produce(n,r,(c,u)=>{i=c,a=u}),i,a]},J1(t?.autoFreeze)&&this.setAutoFreeze(t.autoFreeze),J1(t?.useStrictShallowCopy)&&this.setUseStrictShallowCopy(t.useStrictShallowCopy),J1(t?.useStrictIteration)&&this.setUseStrictIteration(t.useStrictIteration)}createDraft(t){Ha(t)||Pa(8),ms(t)&&(t=Ia(t));const n=lR(this),r=WE(n,t,void 0);return r[zr].isManual_=!0,YE(n),r}finishDraft(t,n){const r=t&&t[zr];(!r||!r.isManual_)&&Pa(9);const{scope_:i}=r;return sR(i,n),cR(void 0,i)}setAutoFreeze(t){this.autoFreeze_=t}setUseStrictShallowCopy(t){this.useStrictShallowCopy_=t}setUseStrictIteration(t){this.useStrictIteration_=t}shouldUseStrictIteration(){return this.useStrictIteration_}applyPatches(t,n){let r;for(r=n.length-1;r>=0;r--){const a=n[r];if(a.path.length===0&&a.op==="replace"){t=a.value;break}}r>-1&&(n=n.slice(r+1));const i=Fd(GE).applyPatches_;return ms(t)?i(t,n):this.produce(t,a=>i(a,n))}};function WE(e,t,n,r){const[i,a]=Mv(t)?Fd(sb).proxyMap_(t,n):Pv(t)?Fd(sb).proxySet_(t,n):mfe(t,n);return(n?.scope_??G7()).drafts_.push(i),a.callbacks_=n?.callbacks_??[],a.key_=r,n&&r!==void 0?ffe(n,a,r):a.callbacks_.push(function(u){u.mapSetPlugin_?.fixSetContents(a);const{patchPlugin_:f}=u;a.modified_&&f&&f.generatePatches_(a,[],u)}),i}function Ia(e){return ms(e)||Pa(10,e),V7(e)}function V7(e){if(!Ha(e)||Dv(e))return e;const t=e[zr];let n,r=!0;if(t){if(!t.modified_)return t.base_;t.finalized_=!0,n=FE(e,t.scope_.immer_.useStrictShallowCopy_),r=t.scope_.immer_.shouldUseStrictIteration()}else n=FE(e,!0);return np(n,(i,a)=>{ob(n,i,V7(a))},r),t&&(t.finalized_=!1),n}var yfe=new gfe,Z7=yfe.produce;function X7(e){return({dispatch:n,getState:r})=>i=>a=>typeof a=="function"?a(n,r,e):i(a)}var bfe=X7(),vfe=X7,xfe=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?dm:dm.apply(null,arguments)};function ha(e,t){function n(...r){if(t){let i=t(...r);if(!i)throw new Error(Li(0));return{type:e,payload:i.payload,..."meta"in i&&{meta:i.meta},..."error"in i&&{error:i.error}}}return{type:e,payload:r[0]}}return n.toString=()=>`${e}`,n.type=e,n.match=r=>SB(r)&&r.type===e,n}var J7=class Kh extends Array{constructor(...t){super(...t),Object.setPrototypeOf(this,Kh.prototype)}static get[Symbol.species](){return Kh}concat(...t){return super.concat.apply(this,t)}prepend(...t){return t.length===1&&Array.isArray(t[0])?new Kh(...t[0].concat(this)):new Kh(...t.concat(this))}};function dR(e){return Ha(e)?Z7(e,()=>{}):e}function P0(e,t,n){return e.has(t)?e.get(t):e.set(t,n(t)).get(t)}function _fe(e){return typeof e=="boolean"}var wfe=()=>function(t){const{thunk:n=!0,immutableCheck:r=!0,serializableCheck:i=!0,actionCreatorCheck:a=!0}=t??{};let o=new J7;return n&&(_fe(n)?o.push(bfe):o.push(vfe(n.extraArgument))),o},Q7="RTK_autoBatch",an=()=>e=>({payload:e,meta:{[Q7]:!0}}),fR=e=>t=>{setTimeout(t,e)},e6=(e={type:"raf"})=>t=>(...n)=>{const r=t(...n);let i=!0,a=!1,o=!1;const c=new Set,u=e.type==="tick"?queueMicrotask:e.type==="raf"?typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:fR(10):e.type==="callback"?e.queueNotification:fR(e.timeout),f=()=>{o=!1,a&&(a=!1,c.forEach(m=>m()))};return Object.assign({},r,{subscribe(m){const p=()=>i&&m(),g=r.subscribe(p);return c.add(m),()=>{g(),c.delete(m)}},dispatch(m){try{return i=!m?.meta?.[Q7],a=!i,a&&(o||(o=!0,u(f))),r.dispatch(m)}finally{i=!0}}})},Sfe=e=>function(n){const{autoBatch:r=!0}=n??{};let i=new J7(e);return r&&i.push(e6(typeof r=="object"?r:void 0)),i};function Efe(e){const t=wfe(),{reducer:n=void 0,middleware:r,devTools:i=!0,preloadedState:a=void 0,enhancers:o=void 0}=e||{};let c;if(typeof n=="function")c=n;else if(e2(n))c=_B(n);else throw new Error(Li(1));let u;typeof r=="function"?u=r(t):u=t();let f=dm;i&&(f=xfe({trace:!1,...typeof i=="object"&&i}));const m=wB(...u),p=Sfe(m);let g=typeof o=="function"?o(p):p();const v=f(...g);return t2(c,a,v)}function t6(e){const t={},n=[];let r;const i={addCase(a,o){const c=typeof a=="string"?a:a.type;if(!c)throw new Error(Li(28));if(c in t)throw new Error(Li(29));return t[c]=o,i},addAsyncThunk(a,o){return o.pending&&(t[a.pending.type]=o.pending),o.rejected&&(t[a.rejected.type]=o.rejected),o.fulfilled&&(t[a.fulfilled.type]=o.fulfilled),o.settled&&n.push({matcher:a.settled,reducer:o.settled}),i},addMatcher(a,o){return n.push({matcher:a,reducer:o}),i},addDefaultCase(a){return r=a,i}};return e(i),[t,n,r]}function kfe(e){return typeof e=="function"}function Afe(e,t){let[n,r,i]=t6(t),a;if(kfe(e))a=()=>dR(e());else{const c=dR(e);a=()=>c}function o(c=a(),u){let f=[n[u.type],...r.filter(({matcher:m})=>m(u)).map(({reducer:m})=>m)];return f.filter(m=>!!m).length===0&&(f=[i]),f.reduce((m,p)=>{if(p)if(ms(m)){const v=p(m,u);return v===void 0?m:v}else{if(Ha(m))return Z7(m,g=>p(g,u));{const g=p(m,u);if(g===void 0){if(m===null)return m;throw Error("A case reducer on a non-draftable value must not return undefined")}return g}}return m},c)}return o.getInitialState=a,o}var Tfe="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",Ofe=(e=21)=>{let t="",n=e;for(;n--;)t+=Tfe[Math.random()*64|0];return t},jfe=Symbol.for("rtk-slice-createasyncthunk");function Nfe(e,t){return`${e}/${t}`}function Cfe({creators:e}={}){const t=e?.asyncThunk?.[jfe];return function(r){const{name:i,reducerPath:a=i}=r;if(!i)throw new Error(Li(11));const o=(typeof r.reducers=="function"?r.reducers(Pfe()):r.reducers)||{},c=Object.keys(o),u={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},f={addCase(O,P){const C=typeof O=="string"?O:O.type;if(!C)throw new Error(Li(12));if(C in u.sliceCaseReducersByType)throw new Error(Li(13));return u.sliceCaseReducersByType[C]=P,f},addMatcher(O,P){return u.sliceMatchers.push({matcher:O,reducer:P}),f},exposeAction(O,P){return u.actionCreators[O]=P,f},exposeCaseReducer(O,P){return u.sliceCaseReducersByName[O]=P,f}};c.forEach(O=>{const P=o[O],C={reducerName:O,type:Nfe(i,O),createNotation:typeof r.reducers=="function"};Rfe(P)?Ife(C,P,f,t):Dfe(C,P,f)});function m(){const[O={},P=[],C=void 0]=typeof r.extraReducers=="function"?t6(r.extraReducers):[r.extraReducers],D={...O,...u.sliceCaseReducersByType};return Afe(r.initialState,$=>{for(let H in D)$.addCase(H,D[H]);for(let H of u.sliceMatchers)$.addMatcher(H.matcher,H.reducer);for(let H of P)$.addMatcher(H.matcher,H.reducer);C&&$.addDefaultCase(C)})}const p=O=>O,g=new Map,v=new WeakMap;let _;function w(O,P){return _||(_=m()),_(O,P)}function E(){return _||(_=m()),_.getInitialState()}function T(O,P=!1){function C($){let H=$[O];return typeof H>"u"&&P&&(H=P0(v,C,E)),H}function D($=p){const H=P0(g,P,()=>new WeakMap);return P0(H,$,()=>{const Y={};for(const[K,F]of Object.entries(r.selectors??{}))Y[K]=Mfe(F,$,()=>P0(v,$,E),P);return Y})}return{reducerPath:O,getSelectors:D,get selectors(){return D(C)},selectSlice:C}}const N={name:i,reducer:w,actions:u.actionCreators,caseReducers:u.sliceCaseReducersByName,getInitialState:E,...T(a),injectInto(O,{reducerPath:P,...C}={}){const D=P??a;return O.inject({reducerPath:D,reducer:w},C),{...N,...T(D,!0)}}};return N}}function Mfe(e,t,n,r){function i(a,...o){let c=t(a);return typeof c>"u"&&r&&(c=n()),e(c,...o)}return i.unwrapped=e,i}var di=Cfe();function Pfe(){function e(t,n){return{_reducerDefinitionType:"asyncThunk",payloadCreator:t,...n}}return e.withTypes=()=>e,{reducer(t){return Object.assign({[t.name](...n){return t(...n)}}[t.name],{_reducerDefinitionType:"reducer"})},preparedReducer(t,n){return{_reducerDefinitionType:"reducerWithPrepare",prepare:t,reducer:n}},asyncThunk:e}}function Dfe({type:e,reducerName:t,createNotation:n},r,i){let a,o;if("reducer"in r){if(n&&!Lfe(r))throw new Error(Li(17));a=r.reducer,o=r.prepare}else a=r;i.addCase(e,a).exposeCaseReducer(t,a).exposeAction(t,o?ha(e,o):ha(e))}function Rfe(e){return e._reducerDefinitionType==="asyncThunk"}function Lfe(e){return e._reducerDefinitionType==="reducerWithPrepare"}function Ife({type:e,reducerName:t},n,r,i){if(!i)throw new Error(Li(18));const{payloadCreator:a,fulfilled:o,pending:c,rejected:u,settled:f,options:m}=n,p=i(e,a,m);r.exposeAction(t,p),o&&r.addCase(p.fulfilled,o),c&&r.addCase(p.pending,c),u&&r.addCase(p.rejected,u),f&&r.addMatcher(p.settled,f),r.exposeCaseReducer(t,{fulfilled:o||D0,pending:c||D0,rejected:u||D0,settled:f||D0})}function D0(){}var $fe="task",n6="listener",r6="completed",yA="cancelled",Bfe=`task-${yA}`,zfe=`task-${r6}`,VE=`${n6}-${yA}`,Ufe=`${n6}-${r6}`,Lv=class{constructor(e){this.code=e,this.message=`${$fe} ${yA} (reason: ${e})`}name="TaskAbortError";message},bA=(e,t)=>{if(typeof e!="function")throw new TypeError(Li(32))},lb=()=>{},i6=(e,t=lb)=>(e.catch(t),e),a6=(e,t)=>(e.addEventListener("abort",t,{once:!0}),()=>e.removeEventListener("abort",t)),qc=e=>{if(e.aborted)throw new Lv(e.reason)};function o6(e,t){let n=lb;return new Promise((r,i)=>{const a=()=>i(new Lv(e.reason));if(e.aborted){a();return}n=a6(e,a),t.finally(()=>n()).then(r,i)}).finally(()=>{n=lb})}var Hfe=async(e,t)=>{try{return await Promise.resolve(),{status:"ok",value:await e()}}catch(n){return{status:n instanceof Lv?"cancelled":"rejected",error:n}}finally{t?.()}},cb=e=>t=>i6(o6(e,t).then(n=>(qc(e),n))),s6=e=>{const t=cb(e);return n=>t(new Promise(r=>setTimeout(r,n)))},{assign:Od}=Object,hR={},Iv="listenerMiddleware",Ffe=(e,t)=>{const n=r=>a6(e,()=>r.abort(e.reason));return(r,i)=>{bA(r);const a=new AbortController;n(a);const o=Hfe(async()=>{qc(e),qc(a.signal);const c=await r({pause:cb(a.signal),delay:s6(a.signal),signal:a.signal});return qc(a.signal),c},()=>a.abort(zfe));return i?.autoJoin&&t.push(o.catch(lb)),{result:cb(e)(o),cancel(){a.abort(Bfe)}}}},Gfe=(e,t)=>{const n=async(r,i)=>{qc(t);let a=()=>{};const c=[new Promise((u,f)=>{let m=e({predicate:r,effect:(p,g)=>{g.unsubscribe(),u([p,g.getState(),g.getOriginalState()])}});a=()=>{m(),f()}})];i!=null&&c.push(new Promise(u=>setTimeout(u,i,null)));try{const u=await o6(t,Promise.race(c));return qc(t),u}finally{a()}};return(r,i)=>i6(n(r,i))},l6=e=>{let{type:t,actionCreator:n,matcher:r,predicate:i,effect:a}=e;if(t)i=ha(t).match;else if(n)t=n.type,i=n.match;else if(r)i=r;else if(!i)throw new Error(Li(21));return bA(a),{predicate:i,type:t,effect:a}},c6=Od(e=>{const{type:t,predicate:n,effect:r}=l6(e);return{id:Ofe(),effect:r,type:t,predicate:n,pending:new Set,unsubscribe:()=>{throw new Error(Li(22))}}},{withTypes:()=>c6}),mR=(e,t)=>{const{type:n,effect:r,predicate:i}=l6(t);return Array.from(e.values()).find(a=>(typeof n=="string"?a.type===n:a.predicate===i)&&a.effect===r)},ZE=e=>{e.pending.forEach(t=>{t.abort(VE)})},qfe=(e,t)=>()=>{for(const n of t.keys())ZE(n);e.clear()},pR=(e,t,n)=>{try{e(t,n)}catch(r){setTimeout(()=>{throw r},0)}},u6=Od(ha(`${Iv}/add`),{withTypes:()=>u6}),Yfe=ha(`${Iv}/removeAll`),d6=Od(ha(`${Iv}/remove`),{withTypes:()=>d6}),Kfe=(...e)=>{console.error(`${Iv}/error`,...e)},ip=(e={})=>{const t=new Map,n=new Map,r=v=>{const _=n.get(v)??0;n.set(v,_+1)},i=v=>{const _=n.get(v)??1;_===1?n.delete(v):n.set(v,_-1)},{extra:a,onError:o=Kfe}=e;bA(o);const c=v=>(v.unsubscribe=()=>t.delete(v.id),t.set(v.id,v),_=>{v.unsubscribe(),_?.cancelActive&&ZE(v)}),u=v=>{const _=mR(t,v)??c6(v);return c(_)};Od(u,{withTypes:()=>u});const f=v=>{const _=mR(t,v);return _&&(_.unsubscribe(),v.cancelActive&&ZE(_)),!!_};Od(f,{withTypes:()=>f});const m=async(v,_,w,E)=>{const T=new AbortController,N=Gfe(u,T.signal),O=[];try{v.pending.add(T),r(v),await Promise.resolve(v.effect(_,Od({},w,{getOriginalState:E,condition:(P,C)=>N(P,C).then(Boolean),take:N,delay:s6(T.signal),pause:cb(T.signal),extra:a,signal:T.signal,fork:Ffe(T.signal,O),unsubscribe:v.unsubscribe,subscribe:()=>{t.set(v.id,v)},cancelActiveListeners:()=>{v.pending.forEach((P,C,D)=>{P!==T&&(P.abort(VE),D.delete(P))})},cancel:()=>{T.abort(VE),v.pending.delete(T)},throwIfCancelled:()=>{qc(T.signal)}})))}catch(P){P instanceof Lv||pR(o,P,{raisedBy:"effect"})}finally{await Promise.all(O),T.abort(Ufe),i(v),v.pending.delete(T)}},p=qfe(t,n);return{middleware:v=>_=>w=>{if(!SB(w))return _(w);if(u6.match(w))return u(w.payload);if(Yfe.match(w)){p();return}if(d6.match(w))return f(w.payload);let E=v.getState();const T=()=>{if(E===hR)throw new Error(Li(23));return E};let N;try{if(N=_(w),t.size>0){const O=v.getState(),P=Array.from(t.values());for(const C of P){let D=!1;try{D=C.predicate(w,O,E)}catch($){D=!1,pR(o,$,{raisedBy:"predicate"})}D&&m(C,w,v,T)}}}finally{E=hR}return N},startListening:u,stopListening:f,clearListeners:p}};function Li(e){return`Minified Redux Toolkit error #${e}; visit https://redux-toolkit.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var Wfe={layoutType:"horizontal",width:0,height:0,margin:{top:5,right:5,bottom:5,left:5},scale:1},f6=di({name:"chartLayout",initialState:Wfe,reducers:{setLayout(e,t){e.layoutType=t.payload},setChartSize(e,t){e.width=t.payload.width,e.height=t.payload.height},setMargin(e,t){var n,r,i,a;e.margin.top=(n=t.payload.top)!==null&&n!==void 0?n:0,e.margin.right=(r=t.payload.right)!==null&&r!==void 0?r:0,e.margin.bottom=(i=t.payload.bottom)!==null&&i!==void 0?i:0,e.margin.left=(a=t.payload.left)!==null&&a!==void 0?a:0},setScale(e,t){e.scale=t.payload}}}),{setMargin:Vfe,setLayout:Zfe,setChartSize:Xfe,setScale:Jfe}=f6.actions,Qfe=f6.reducer;function h6(e,t,n){return Array.isArray(e)&&e&&t+n!==0?e.slice(t,n+1):e}function gR(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function bd(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?gR(Object(n),!0).forEach(function(r){ehe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):gR(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function ehe(e,t,n){return(t=the(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function the(e){var t=nhe(e,"string");return typeof t=="symbol"?t:t+""}function nhe(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Tr(e,t,n){return br(e)||br(t)?n:wo(t)?Ov(e,t,n):typeof t=="function"?t(e):n}var rhe=(e,t,n)=>{if(t&&n){var{width:r,height:i}=n,{align:a,verticalAlign:o,layout:c}=t;if((c==="vertical"||c==="horizontal"&&o==="middle")&&a!=="center"&&We(e[a]))return bd(bd({},e),{},{[a]:e[a]+(r||0)});if((c==="horizontal"||c==="vertical"&&a==="center")&&o!=="middle"&&We(e[o]))return bd(bd({},e),{},{[o]:e[o]+(i||0)})}return e},ws=(e,t)=>e==="horizontal"&&t==="xAxis"||e==="vertical"&&t==="yAxis"||e==="centric"&&t==="angleAxis"||e==="radial"&&t==="radiusAxis",m6=(e,t,n,r)=>{if(r)return e.map(c=>c.coordinate);var i,a,o=e.map(c=>(c.coordinate===t&&(i=!0),c.coordinate===n&&(a=!0),c.coordinate));return i||o.push(t),a||o.push(n),o},p6=(e,t,n)=>{if(!e)return null;var{duplicateDomain:r,type:i,range:a,scale:o,realScaleType:c,isCategorical:u,categoricalDomain:f,tickCount:m,ticks:p,niceTicks:g,axisType:v}=e;if(!o)return null;var _=c==="scaleBand"&&o.bandwidth?o.bandwidth()/2:2,w=i==="category"&&o.bandwidth?o.bandwidth()/_:0;if(w=v==="angleAxis"&&a&&a.length>=2?oa(a[0]-a[1])*2*w:w,p||g){var E=(p||g||[]).map((T,N)=>{var O=r?r.indexOf(T):T;return{coordinate:o(O)+w,value:T,offset:w,index:N}});return E.filter(T=>!Ua(T.coordinate))}return u&&f?f.map((T,N)=>({coordinate:o(T)+w,value:T,index:N,offset:w})):o.ticks&&m!=null?o.ticks(m).map((T,N)=>({coordinate:o(T)+w,value:T,offset:w,index:N})):o.domain().map((T,N)=>({coordinate:o(T)+w,value:r?r[T]:T,index:N,offset:w}))},yR=1e-4,ihe=e=>{var t=e.domain();if(!(!t||t.length<=2)){var n=t.length,r=e.range(),i=Math.min(r[0],r[1])-yR,a=Math.max(r[0],r[1])+yR,o=e(t[0]),c=e(t[n-1]);(o<i||o>a||c<i||c>a)&&e.domain([t[0],t[n-1]])}},ahe=e=>{var t=e.length;if(!(t<=0))for(var n=0,r=e[0].length;n<r;++n)for(var i=0,a=0,o=0;o<t;++o){var c=Ua(e[o][n][1])?e[o][n][0]:e[o][n][1];c>=0?(e[o][n][0]=i,e[o][n][1]=i+c,i=e[o][n][1]):(e[o][n][0]=a,e[o][n][1]=a+c,a=e[o][n][1])}},ohe=e=>{var t=e.length;if(!(t<=0))for(var n=0,r=e[0].length;n<r;++n)for(var i=0,a=0;a<t;++a){var o=Ua(e[a][n][1])?e[a][n][0]:e[a][n][1];o>=0?(e[a][n][0]=i,e[a][n][1]=i+o,i=e[a][n][1]):(e[a][n][0]=0,e[a][n][1]=0)}},she={sign:ahe,expand:Vue,none:Ud,silhouette:Zue,wiggle:Xue,positive:ohe},lhe=(e,t,n)=>{var r=she[n],i=Wue().keys(t).value((a,o)=>Number(Tr(a,o,0))).order(zE).offset(r);return i(e)};function che(e){return e==null?void 0:String(e)}function bR(e){var{axis:t,ticks:n,bandSize:r,entry:i,index:a,dataKey:o}=e;if(t.type==="category"){if(!t.allowDuplicatedCategory&&t.dataKey&&!br(i[t.dataKey])){var c=A7(n,"value",i[t.dataKey]);if(c)return c.coordinate+r/2}return n[a]?n[a].coordinate+r/2:null}var u=Tr(i,br(o)?t.dataKey:o);return br(u)?null:t.scale(u)}var uhe=e=>{var t=e.flat(2).filter(We);return[Math.min(...t),Math.max(...t)]},dhe=e=>[e[0]===1/0?0:e[0],e[1]===-1/0?0:e[1]],fhe=(e,t,n)=>{if(e!=null)return dhe(Object.keys(e).reduce((r,i)=>{var a=e[i],{stackedData:o}=a,c=o.reduce((u,f)=>{var m=h6(f,t,n),p=uhe(m);return[Math.min(u[0],p[0]),Math.max(u[1],p[1])]},[1/0,-1/0]);return[Math.min(c[0],r[0]),Math.max(c[1],r[1])]},[1/0,-1/0]))},vR=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,xR=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,ub=(e,t,n)=>{if(e&&e.scale&&e.scale.bandwidth){var r=e.scale.bandwidth();if(!n||r>0)return r}if(e&&t&&t.length>=2){for(var i=jv(t,m=>m.coordinate),a=1/0,o=1,c=i.length;o<c;o++){var u=i[o],f=i[o-1];a=Math.min((u.coordinate||0)-(f.coordinate||0),a)}return a===1/0?0:a}return n?void 0:0};function _R(e){var{tooltipEntrySettings:t,dataKey:n,payload:r,value:i,name:a}=e;return bd(bd({},t),{},{dataKey:n,payload:r,value:i,name:a})}function g6(e,t){if(e)return String(e);if(typeof t=="string")return t}var hhe=(e,t)=>{if(t==="horizontal")return e.chartX;if(t==="vertical")return e.chartY},mhe=(e,t)=>t==="centric"?e.angle:e.radius,Ss=e=>e.layout.width,Es=e=>e.layout.height,phe=e=>e.layout.scale,y6=e=>e.layout.margin,$v=we(e=>e.cartesianAxis.xAxis,e=>Object.values(e)),Bv=we(e=>e.cartesianAxis.yAxis,e=>Object.values(e)),ghe="data-recharts-item-index",yhe="data-recharts-item-data-key",ap=60;function wR(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function R0(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?wR(Object(n),!0).forEach(function(r){bhe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):wR(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function bhe(e,t,n){return(t=vhe(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function vhe(e){var t=xhe(e,"string");return typeof t=="symbol"?t:t+""}function xhe(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var _he=e=>e.brush.height;function whe(e){var t=Bv(e);return t.reduce((n,r)=>{if(r.orientation==="left"&&!r.mirror&&!r.hide){var i=typeof r.width=="number"?r.width:ap;return n+i}return n},0)}function She(e){var t=Bv(e);return t.reduce((n,r)=>{if(r.orientation==="right"&&!r.mirror&&!r.hide){var i=typeof r.width=="number"?r.width:ap;return n+i}return n},0)}function Ehe(e){var t=$v(e);return t.reduce((n,r)=>r.orientation==="top"&&!r.mirror&&!r.hide?n+r.height:n,0)}function khe(e){var t=$v(e);return t.reduce((n,r)=>r.orientation==="bottom"&&!r.mirror&&!r.hide?n+r.height:n,0)}var xr=we([Ss,Es,y6,_he,whe,She,Ehe,khe,z7,tfe],(e,t,n,r,i,a,o,c,u,f)=>{var m={left:(n.left||0)+i,right:(n.right||0)+a},p={top:(n.top||0)+o,bottom:(n.bottom||0)+c},g=R0(R0({},p),m),v=g.bottom;g.bottom+=r,g=rhe(g,u,f);var _=e-g.left-g.right,w=t-g.top-g.bottom;return R0(R0({brushBottom:v},g),{},{width:Math.max(_,0),height:Math.max(w,0)})}),Ahe=we(xr,e=>({x:e.left,y:e.top,width:e.width,height:e.height})),b6=we(Ss,Es,(e,t)=>({x:0,y:0,width:e,height:t})),The=S.createContext(null),fi=()=>S.useContext(The)!=null,zv=e=>e.brush,Uv=we([zv,xr,y6],(e,t,n)=>({height:e.height,x:We(e.x)?e.x:t.left,y:We(e.y)?e.y:t.top+t.height+t.brushBottom-(n?.bottom||0),width:We(e.width)?e.width:t.width})),eS={},tS={},nS={},SR;function Ohe(){return SR||(SR=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n,r,{signal:i,edges:a}={}){let o,c=null;const u=a!=null&&a.includes("leading"),f=a==null||a.includes("trailing"),m=()=>{c!==null&&(n.apply(o,c),o=void 0,c=null)},p=()=>{f&&m(),w()};let g=null;const v=()=>{g!=null&&clearTimeout(g),g=setTimeout(()=>{g=null,p()},r)},_=()=>{g!==null&&(clearTimeout(g),g=null)},w=()=>{_(),o=void 0,c=null},E=()=>{m()},T=function(...N){if(i?.aborted)return;o=this,c=N;const O=g==null;v(),u&&O&&m()};return T.schedule=v,T.cancel=w,T.flush=E,i?.addEventListener("abort",w,{once:!0}),T}e.debounce=t})(nS)),nS}var ER;function jhe(){return ER||(ER=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Ohe();function n(r,i=0,a={}){typeof a!="object"&&(a={});const{leading:o=!1,trailing:c=!0,maxWait:u}=a,f=Array(2);o&&(f[0]="leading"),c&&(f[1]="trailing");let m,p=null;const g=t.debounce(function(...w){m=r.apply(this,w),p=null},i,{edges:f}),v=function(...w){return u!=null&&(p===null&&(p=Date.now()),Date.now()-p>=u)?(m=r.apply(this,w),p=Date.now(),g.cancel(),g.schedule(),m):(g.apply(this,w),m)},_=()=>(g.flush(),m);return v.cancel=g.cancel,v.flush=_,v}e.debounce=n})(tS)),tS}var kR;function Nhe(){return kR||(kR=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=jhe();function n(r,i=0,a={}){const{leading:o=!0,trailing:c=!0}=a;return t.debounce(r,i,{leading:o,maxWait:i,trailing:c})}e.throttle=n})(eS)),eS}var rS,AR;function Che(){return AR||(AR=1,rS=Nhe().throttle),rS}var Mhe=Che();const Phe=ui(Mhe);var db=function(t,n){for(var r=arguments.length,i=new Array(r>2?r-2:0),a=2;a<r;a++)i[a-2]=arguments[a];if(typeof console<"u"&&console.warn&&(n===void 0&&console.warn("LogUtils requires an error message argument"),!t))if(n===void 0)console.warn("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var o=0;console.warn(n.replace(/%s/g,()=>i[o++]))}},v6=(e,t,n)=>{var{width:r="100%",height:i="100%",aspect:a,maxHeight:o}=n,c=hs(r)?e:Number(r),u=hs(i)?t:Number(i);return a&&a>0&&(c?u=c/a:u&&(c=u*a),o&&u!=null&&u>o&&(u=o)),{calculatedWidth:c,calculatedHeight:u}},Dhe={width:0,height:0,overflow:"visible"},Rhe={width:0,overflowX:"visible"},Lhe={height:0,overflowY:"visible"},Ihe={},$he=e=>{var{width:t,height:n}=e,r=hs(t),i=hs(n);return r&&i?Dhe:r?Rhe:i?Lhe:Ihe};function Bhe(e){var{width:t,height:n,aspect:r}=e,i=t,a=n;return i===void 0&&a===void 0?(i="100%",a="100%"):i===void 0?i=r&&r>0?void 0:"100%":a===void 0&&(a=r&&r>0?void 0:"100%"),{width:i,height:a}}function _n(e){return Number.isFinite(e)}function So(e){return typeof e=="number"&&e>0&&Number.isFinite(e)}function XE(){return XE=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},XE.apply(null,arguments)}function TR(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function OR(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?TR(Object(n),!0).forEach(function(r){zhe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):TR(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function zhe(e,t,n){return(t=Uhe(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Uhe(e){var t=Hhe(e,"string");return typeof t=="symbol"?t:t+""}function Hhe(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var x6=S.createContext({width:-1,height:-1});function Fhe(e){return So(e.width)&&So(e.height)}function _6(e){var{children:t,width:n,height:r}=e,i=S.useMemo(()=>({width:n,height:r}),[n,r]);return Fhe(i)?S.createElement(x6.Provider,{value:i},t):null}var vA=()=>S.useContext(x6),Ghe=S.forwardRef((e,t)=>{var{aspect:n,initialDimension:r={width:-1,height:-1},width:i,height:a,minWidth:o=0,minHeight:c,maxHeight:u,children:f,debounce:m=0,id:p,className:g,onResize:v,style:_={}}=e,w=S.useRef(null),E=S.useRef();E.current=v,S.useImperativeHandle(t,()=>w.current);var[T,N]=S.useState({containerWidth:r.width,containerHeight:r.height}),O=S.useCallback((H,Y)=>{N(K=>{var F=Math.round(H),z=Math.round(Y);return K.containerWidth===F&&K.containerHeight===z?K:{containerWidth:F,containerHeight:z}})},[]);S.useEffect(()=>{if(w.current==null||typeof ResizeObserver>"u")return tp;var H=z=>{var X,{width:Q,height:J}=z[0].contentRect;O(Q,J),(X=E.current)===null||X===void 0||X.call(E,Q,J)};m>0&&(H=Phe(H,m,{trailing:!0,leading:!1}));var Y=new ResizeObserver(H),{width:K,height:F}=w.current.getBoundingClientRect();return O(K,F),Y.observe(w.current),()=>{Y.disconnect()}},[O,m]);var{containerWidth:P,containerHeight:C}=T;db(!n||n>0,"The aspect(%s) must be greater than zero.",n);var{calculatedWidth:D,calculatedHeight:$}=v6(P,C,{width:i,height:a,aspect:n,maxHeight:u});return db(D!=null&&D>0||$!=null&&$>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,D,$,i,a,o,c,n),S.createElement("div",{id:p?"".concat(p):void 0,className:Qt("recharts-responsive-container",g),style:OR(OR({},_),{},{width:i,height:a,minWidth:o,minHeight:c,maxHeight:u}),ref:w},S.createElement("div",{style:$he({width:i,height:a})},S.createElement(_6,{width:D,height:$},f)))}),qhe=S.forwardRef((e,t)=>{var n=vA();if(So(n.width)&&So(n.height))return e.children;var{width:r,height:i}=Bhe({width:e.width,height:e.height,aspect:e.aspect}),{calculatedWidth:a,calculatedHeight:o}=v6(void 0,void 0,{width:r,height:i,aspect:e.aspect,maxHeight:e.maxHeight});return We(a)&&We(o)?S.createElement(_6,{width:a,height:o},e.children):S.createElement(Ghe,XE({},e,{width:r,height:i,ref:t}))});function w6(e){if(e)return{x:e.x,y:e.y,upperWidth:"upperWidth"in e?e.upperWidth:e.width,lowerWidth:"lowerWidth"in e?e.lowerWidth:e.width,width:e.width,height:e.height}}var Hv=()=>{var e,t=fi(),n=Je(Ahe),r=Je(Uv),i=(e=Je(zv))===null||e===void 0?void 0:e.padding;return!t||!r||!i?n:{width:r.width-i.left-i.right,height:r.height-i.top-i.bottom,x:i.left,y:i.top}},Yhe={top:0,bottom:0,left:0,right:0,width:0,height:0,brushBottom:0},S6=()=>{var e;return(e=Je(xr))!==null&&e!==void 0?e:Yhe},E6=()=>Je(Ss),k6=()=>Je(Es),Vt=e=>e.layout.layoutType,op=()=>Je(Vt),Khe=()=>{var e=op();if(e==="horizontal"||e==="vertical")return e},Whe=()=>{var e=op();return e!==void 0},Fv=e=>{var t=sr(),n=fi(),{width:r,height:i}=e,a=vA(),o=r,c=i;return a&&(o=a.width>0?a.width:r,c=a.height>0?a.height:i),S.useEffect(()=>{!n&&So(o)&&So(c)&&t(Xfe({width:o,height:c}))},[t,n,o,c]),null},A6=Symbol.for("immer-nothing"),jR=Symbol.for("immer-draftable"),$i=Symbol.for("immer-state");function Da(e,...t){throw new Error(`[Immer] minified error nr: ${e}. Full error at: https://bit.ly/3cXEKWf`)}var km=Object.getPrototypeOf;function Gd(e){return!!e&&!!e[$i]}function Jc(e){return e?T6(e)||Array.isArray(e)||!!e[jR]||!!e.constructor?.[jR]||sp(e)||qv(e):!1}var Vhe=Object.prototype.constructor.toString(),NR=new WeakMap;function T6(e){if(!e||typeof e!="object")return!1;const t=Object.getPrototypeOf(e);if(t===null||t===Object.prototype)return!0;const n=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;if(n===Object)return!0;if(typeof n!="function")return!1;let r=NR.get(n);return r===void 0&&(r=Function.toString.call(n),NR.set(n,r)),r===Vhe}function fb(e,t,n=!0){Gv(e)===0?(n?Reflect.ownKeys(e):Object.keys(e)).forEach(i=>{t(i,e[i],e)}):e.forEach((r,i)=>t(i,r,e))}function Gv(e){const t=e[$i];return t?t.type_:Array.isArray(e)?1:sp(e)?2:qv(e)?3:0}function JE(e,t){return Gv(e)===2?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function O6(e,t,n){const r=Gv(e);r===2?e.set(t,n):r===3?e.add(n):e[t]=n}function Zhe(e,t){return e===t?e!==0||1/e===1/t:e!==e&&t!==t}function sp(e){return e instanceof Map}function qv(e){return e instanceof Set}function Rc(e){return e.copy_||e.base_}function QE(e,t){if(sp(e))return new Map(e);if(qv(e))return new Set(e);if(Array.isArray(e))return Array.prototype.slice.call(e);const n=T6(e);if(t===!0||t==="class_only"&&!n){const r=Object.getOwnPropertyDescriptors(e);delete r[$i];let i=Reflect.ownKeys(r);for(let a=0;a<i.length;a++){const o=i[a],c=r[o];c.writable===!1&&(c.writable=!0,c.configurable=!0),(c.get||c.set)&&(r[o]={configurable:!0,writable:!0,enumerable:c.enumerable,value:e[o]})}return Object.create(km(e),r)}else{const r=km(e);if(r!==null&&n)return{...e};const i=Object.create(r);return Object.assign(i,e)}}function xA(e,t=!1){return Yv(e)||Gd(e)||!Jc(e)||(Gv(e)>1&&Object.defineProperties(e,{set:L0,add:L0,clear:L0,delete:L0}),Object.freeze(e),t&&Object.values(e).forEach(n=>xA(n,!0))),e}function Xhe(){Da(2)}var L0={value:Xhe};function Yv(e){return e===null||typeof e!="object"?!0:Object.isFrozen(e)}var Jhe={};function Qc(e){const t=Jhe[e];return t||Da(0,e),t}var Am;function j6(){return Am}function Qhe(e,t){return{drafts_:[],parent_:e,immer_:t,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function CR(e,t){t&&(Qc("Patches"),e.patches_=[],e.inversePatches_=[],e.patchListener_=t)}function ek(e){tk(e),e.drafts_.forEach(eme),e.drafts_=null}function tk(e){e===Am&&(Am=e.parent_)}function MR(e){return Am=Qhe(Am,e)}function eme(e){const t=e[$i];t.type_===0||t.type_===1?t.revoke_():t.revoked_=!0}function PR(e,t){t.unfinalizedDrafts_=t.drafts_.length;const n=t.drafts_[0];return e!==void 0&&e!==n?(n[$i].modified_&&(ek(t),Da(4)),Jc(e)&&(e=hb(t,e),t.parent_||mb(t,e)),t.patches_&&Qc("Patches").generateReplacementPatches_(n[$i].base_,e,t.patches_,t.inversePatches_)):e=hb(t,n,[]),ek(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),e!==A6?e:void 0}function hb(e,t,n){if(Yv(t))return t;const r=e.immer_.shouldUseStrictIteration(),i=t[$i];if(!i)return fb(t,(a,o)=>DR(e,i,t,a,o,n),r),t;if(i.scope_!==e)return t;if(!i.modified_)return mb(e,i.base_,!0),i.base_;if(!i.finalized_){i.finalized_=!0,i.scope_.unfinalizedDrafts_--;const a=i.copy_;let o=a,c=!1;i.type_===3&&(o=new Set(a),a.clear(),c=!0),fb(o,(u,f)=>DR(e,i,a,u,f,n,c),r),mb(e,a,!1),n&&e.patches_&&Qc("Patches").generatePatches_(i,n,e.patches_,e.inversePatches_)}return i.copy_}function DR(e,t,n,r,i,a,o){if(i==null||typeof i!="object"&&!o)return;const c=Yv(i);if(!(c&&!o)){if(Gd(i)){const u=a&&t&&t.type_!==3&&!JE(t.assigned_,r)?a.concat(r):void 0,f=hb(e,i,u);if(O6(n,r,f),Gd(f))e.canAutoFreeze_=!1;else return}else o&&n.add(i);if(Jc(i)&&!c){if(!e.immer_.autoFreeze_&&e.unfinalizedDrafts_<1||t&&t.base_&&t.base_[r]===i&&c)return;hb(e,i),(!t||!t.scope_.parent_)&&typeof r!="symbol"&&(sp(n)?n.has(r):Object.prototype.propertyIsEnumerable.call(n,r))&&mb(e,i)}}}function mb(e,t,n=!1){!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&xA(t,n)}function tme(e,t){const n=Array.isArray(e),r={type_:n?1:0,scope_:t?t.scope_:j6(),modified_:!1,finalized_:!1,assigned_:{},parent_:t,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1};let i=r,a=_A;n&&(i=[r],a=Tm);const{revoke:o,proxy:c}=Proxy.revocable(i,a);return r.draft_=c,r.revoke_=o,c}var _A={get(e,t){if(t===$i)return e;const n=Rc(e);if(!JE(n,t))return nme(e,n,t);const r=n[t];return e.finalized_||!Jc(r)?r:r===iS(e.base_,t)?(aS(e),e.copy_[t]=rk(r,e)):r},has(e,t){return t in Rc(e)},ownKeys(e){return Reflect.ownKeys(Rc(e))},set(e,t,n){const r=N6(Rc(e),t);if(r?.set)return r.set.call(e.draft_,n),!0;if(!e.modified_){const i=iS(Rc(e),t),a=i?.[$i];if(a&&a.base_===n)return e.copy_[t]=n,e.assigned_[t]=!1,!0;if(Zhe(n,i)&&(n!==void 0||JE(e.base_,t)))return!0;aS(e),nk(e)}return e.copy_[t]===n&&(n!==void 0||t in e.copy_)||Number.isNaN(n)&&Number.isNaN(e.copy_[t])||(e.copy_[t]=n,e.assigned_[t]=!0),!0},deleteProperty(e,t){return iS(e.base_,t)!==void 0||t in e.base_?(e.assigned_[t]=!1,aS(e),nk(e)):delete e.assigned_[t],e.copy_&&delete e.copy_[t],!0},getOwnPropertyDescriptor(e,t){const n=Rc(e),r=Reflect.getOwnPropertyDescriptor(n,t);return r&&{writable:!0,configurable:e.type_!==1||t!=="length",enumerable:r.enumerable,value:n[t]}},defineProperty(){Da(11)},getPrototypeOf(e){return km(e.base_)},setPrototypeOf(){Da(12)}},Tm={};fb(_A,(e,t)=>{Tm[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}});Tm.deleteProperty=function(e,t){return Tm.set.call(this,e,t,void 0)};Tm.set=function(e,t,n){return _A.set.call(this,e[0],t,n,e[0])};function iS(e,t){const n=e[$i];return(n?Rc(n):e)[t]}function nme(e,t,n){const r=N6(t,n);return r?"value"in r?r.value:r.get?.call(e.draft_):void 0}function N6(e,t){if(!(t in e))return;let n=km(e);for(;n;){const r=Object.getOwnPropertyDescriptor(n,t);if(r)return r;n=km(n)}}function nk(e){e.modified_||(e.modified_=!0,e.parent_&&nk(e.parent_))}function aS(e){e.copy_||(e.copy_=QE(e.base_,e.scope_.immer_.useStrictShallowCopy_))}var rme=class{constructor(e){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.useStrictIteration_=!0,this.produce=(t,n,r)=>{if(typeof t=="function"&&typeof n!="function"){const a=n;n=t;const o=this;return function(u=a,...f){return o.produce(u,m=>n.call(this,m,...f))}}typeof n!="function"&&Da(6),r!==void 0&&typeof r!="function"&&Da(7);let i;if(Jc(t)){const a=MR(this),o=rk(t,void 0);let c=!0;try{i=n(o),c=!1}finally{c?ek(a):tk(a)}return CR(a,r),PR(i,a)}else if(!t||typeof t!="object"){if(i=n(t),i===void 0&&(i=t),i===A6&&(i=void 0),this.autoFreeze_&&xA(i,!0),r){const a=[],o=[];Qc("Patches").generateReplacementPatches_(t,i,a,o),r(a,o)}return i}else Da(1,t)},this.produceWithPatches=(t,n)=>{if(typeof t=="function")return(o,...c)=>this.produceWithPatches(o,u=>t(u,...c));let r,i;return[this.produce(t,n,(o,c)=>{r=o,i=c}),r,i]},typeof e?.autoFreeze=="boolean"&&this.setAutoFreeze(e.autoFreeze),typeof e?.useStrictShallowCopy=="boolean"&&this.setUseStrictShallowCopy(e.useStrictShallowCopy),typeof e?.useStrictIteration=="boolean"&&this.setUseStrictIteration(e.useStrictIteration)}createDraft(e){Jc(e)||Da(8),Gd(e)&&(e=ime(e));const t=MR(this),n=rk(e,void 0);return n[$i].isManual_=!0,tk(t),n}finishDraft(e,t){const n=e&&e[$i];(!n||!n.isManual_)&&Da(9);const{scope_:r}=n;return CR(r,t),PR(void 0,r)}setAutoFreeze(e){this.autoFreeze_=e}setUseStrictShallowCopy(e){this.useStrictShallowCopy_=e}setUseStrictIteration(e){this.useStrictIteration_=e}shouldUseStrictIteration(){return this.useStrictIteration_}applyPatches(e,t){let n;for(n=t.length-1;n>=0;n--){const i=t[n];if(i.path.length===0&&i.op==="replace"){e=i.value;break}}n>-1&&(t=t.slice(n+1));const r=Qc("Patches").applyPatches_;return Gd(e)?r(e,t):this.produce(e,i=>r(i,t))}};function rk(e,t){const n=sp(e)?Qc("MapSet").proxyMap_(e,t):qv(e)?Qc("MapSet").proxySet_(e,t):tme(e,t);return(t?t.scope_:j6()).drafts_.push(n),n}function ime(e){return Gd(e)||Da(10,e),C6(e)}function C6(e){if(!Jc(e)||Yv(e))return e;const t=e[$i];let n,r=!0;if(t){if(!t.modified_)return t.base_;t.finalized_=!0,n=QE(e,t.scope_.immer_.useStrictShallowCopy_),r=t.scope_.immer_.shouldUseStrictIteration()}else n=QE(e,!0);return fb(n,(i,a)=>{O6(n,i,C6(a))},r),t&&(t.finalized_=!1),n}var ame=new rme;ame.produce;var ome={settings:{layout:"horizontal",align:"center",verticalAlign:"middle",itemSorter:"value"},size:{width:0,height:0},payload:[]},M6=di({name:"legend",initialState:ome,reducers:{setLegendSize(e,t){e.size.width=t.payload.width,e.size.height=t.payload.height},setLegendSettings(e,t){e.settings.align=t.payload.align,e.settings.layout=t.payload.layout,e.settings.verticalAlign=t.payload.verticalAlign,e.settings.itemSorter=t.payload.itemSorter},addLegendPayload:{reducer(e,t){e.payload.push(t.payload)},prepare:an()},replaceLegendPayload:{reducer(e,t){var{prev:n,next:r}=t.payload,i=Ia(e).payload.indexOf(n);i>-1&&(e.payload[i]=r)},prepare:an()},removeLegendPayload:{reducer(e,t){var n=Ia(e).payload.indexOf(t.payload);n>-1&&e.payload.splice(n,1)},prepare:an()}}}),{setLegendSize:UTe,setLegendSettings:HTe,addLegendPayload:sme,replaceLegendPayload:lme,removeLegendPayload:cme}=M6.actions,ume=M6.reducer;function ik(){return ik=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ik.apply(null,arguments)}function RR(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function oS(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?RR(Object(n),!0).forEach(function(r){dme(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):RR(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function dme(e,t,n){return(t=fme(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function fme(e){var t=hme(e,"string");return typeof t=="symbol"?t:t+""}function hme(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function mme(e){return Array.isArray(e)&&wo(e[0])&&wo(e[1])?e.join(" ~ "):e}var pme=e=>{var{separator:t=" : ",contentStyle:n={},itemStyle:r={},labelStyle:i={},payload:a,formatter:o,itemSorter:c,wrapperClassName:u,labelClassName:f,label:m,labelFormatter:p,accessibilityLayer:g=!1}=e,v=()=>{if(a&&a.length){var C={padding:0,margin:0},D=(c?jv(a,c):a).map(($,H)=>{if($.type==="none")return null;var Y=$.formatter||o||mme,{value:K,name:F}=$,z=K,X=F;if(Y){var Q=Y(K,F,$,H,a);if(Array.isArray(Q))[z,X]=Q;else if(Q!=null)z=Q;else return null}var J=oS({display:"block",paddingTop:4,paddingBottom:4,color:$.color||"#000"},r);return S.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(H),style:J},wo(X)?S.createElement("span",{className:"recharts-tooltip-item-name"},X):null,wo(X)?S.createElement("span",{className:"recharts-tooltip-item-separator"},t):null,S.createElement("span",{className:"recharts-tooltip-item-value"},z),S.createElement("span",{className:"recharts-tooltip-item-unit"},$.unit||""))});return S.createElement("ul",{className:"recharts-tooltip-item-list",style:C},D)}return null},_=oS({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},n),w=oS({margin:0},i),E=!br(m),T=E?m:"",N=Qt("recharts-default-tooltip",u),O=Qt("recharts-tooltip-label",f);E&&p&&a!==void 0&&a!==null&&(T=p(m,a));var P=g?{role:"status","aria-live":"assertive"}:{};return S.createElement("div",ik({className:N,style:_},P),S.createElement("p",{className:O,style:w},S.isValidElement(T)?T:"".concat(T)),v())},Ih="recharts-tooltip-wrapper",gme={visibility:"hidden"};function yme(e){var{coordinate:t,translateX:n,translateY:r}=e;return Qt(Ih,{["".concat(Ih,"-right")]:We(n)&&t&&We(t.x)&&n>=t.x,["".concat(Ih,"-left")]:We(n)&&t&&We(t.x)&&n<t.x,["".concat(Ih,"-bottom")]:We(r)&&t&&We(t.y)&&r>=t.y,["".concat(Ih,"-top")]:We(r)&&t&&We(t.y)&&r<t.y})}function LR(e){var{allowEscapeViewBox:t,coordinate:n,key:r,offsetTopLeft:i,position:a,reverseDirection:o,tooltipDimension:c,viewBox:u,viewBoxDimension:f}=e;if(a&&We(a[r]))return a[r];var m=n[r]-c-(i>0?i:0),p=n[r]+i;if(t[r])return o[r]?m:p;var g=u[r];if(g==null)return 0;if(o[r]){var v=m,_=g;return v<_?Math.max(p,g):Math.max(m,g)}if(f==null)return 0;var w=p+c,E=g+f;return w>E?Math.max(m,g):Math.max(p,g)}function bme(e){var{translateX:t,translateY:n,useTranslate3d:r}=e;return{transform:r?"translate3d(".concat(t,"px, ").concat(n,"px, 0)"):"translate(".concat(t,"px, ").concat(n,"px)")}}function vme(e){var{allowEscapeViewBox:t,coordinate:n,offsetTopLeft:r,position:i,reverseDirection:a,tooltipBox:o,useTranslate3d:c,viewBox:u}=e,f,m,p;return o.height>0&&o.width>0&&n?(m=LR({allowEscapeViewBox:t,coordinate:n,key:"x",offsetTopLeft:r,position:i,reverseDirection:a,tooltipDimension:o.width,viewBox:u,viewBoxDimension:u.width}),p=LR({allowEscapeViewBox:t,coordinate:n,key:"y",offsetTopLeft:r,position:i,reverseDirection:a,tooltipDimension:o.height,viewBox:u,viewBoxDimension:u.height}),f=bme({translateX:m,translateY:p,useTranslate3d:c})):f=gme,{cssProperties:f,cssClasses:yme({translateX:m,translateY:p,coordinate:n})}}function IR(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function I0(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?IR(Object(n),!0).forEach(function(r){ak(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):IR(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function ak(e,t,n){return(t=xme(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function xme(e){var t=_me(e,"string");return typeof t=="symbol"?t:t+""}function _me(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class wme extends S.PureComponent{constructor(){super(...arguments),ak(this,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0}}),ak(this,"handleKeyDown",t=>{if(t.key==="Escape"){var n,r,i,a;this.setState({dismissed:!0,dismissedAtCoordinate:{x:(n=(r=this.props.coordinate)===null||r===void 0?void 0:r.x)!==null&&n!==void 0?n:0,y:(i=(a=this.props.coordinate)===null||a===void 0?void 0:a.y)!==null&&i!==void 0?i:0}})}})}componentDidMount(){document.addEventListener("keydown",this.handleKeyDown)}componentWillUnmount(){document.removeEventListener("keydown",this.handleKeyDown)}componentDidUpdate(){var t,n;this.state.dismissed&&(((t=this.props.coordinate)===null||t===void 0?void 0:t.x)!==this.state.dismissedAtCoordinate.x||((n=this.props.coordinate)===null||n===void 0?void 0:n.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}render(){var{active:t,allowEscapeViewBox:n,animationDuration:r,animationEasing:i,children:a,coordinate:o,hasPayload:c,isAnimationActive:u,offset:f,position:m,reverseDirection:p,useTranslate3d:g,viewBox:v,wrapperStyle:_,lastBoundingBox:w,innerRef:E,hasPortalFromProps:T}=this.props,{cssClasses:N,cssProperties:O}=vme({allowEscapeViewBox:n,coordinate:o,offsetTopLeft:f,position:m,reverseDirection:p,tooltipBox:{height:w.height,width:w.width},useTranslate3d:g,viewBox:v}),P=T?{}:I0(I0({transition:u&&t?"transform ".concat(r,"ms ").concat(i):void 0},O),{},{pointerEvents:"none",visibility:!this.state.dismissed&&t&&c?"visible":"hidden",position:"absolute",top:0,left:0}),C=I0(I0({},P),{},{visibility:!this.state.dismissed&&t&&c?"visible":"hidden"},_);return S.createElement("div",{xmlns:"http://www.w3.org/1999/xhtml",tabIndex:-1,className:N,style:C,ref:E},a)}}var P6=()=>{var e;return(e=Je(t=>t.rootProps.accessibilityLayer))!==null&&e!==void 0?e:!0};function ok(){return ok=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ok.apply(null,arguments)}function $R(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function BR(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?$R(Object(n),!0).forEach(function(r){Sme(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):$R(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Sme(e,t,n){return(t=Eme(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Eme(e){var t=kme(e,"string");return typeof t=="symbol"?t:t+""}function kme(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var zR={curveBasisClosed:Iue,curveBasisOpen:$ue,curveBasis:Lue,curveBumpX:Due,curveBumpY:Rue,curveLinearClosed:Bue,curveLinear:Av,curveMonotoneX:zue,curveMonotoneY:Uue,curveNatural:Hue,curveStep:Fue,curveStepAfter:que,curveStepBefore:Gue},pb=e=>_n(e.x)&&_n(e.y),UR=e=>e.base!=null&&pb(e.base)&&pb(e),$h=e=>e.x,Bh=e=>e.y,Ame=(e,t)=>{if(typeof e=="function")return e;var n="curve".concat(lA(e));return(n==="curveMonotone"||n==="curveBump")&&t?zR["".concat(n).concat(t==="vertical"?"Y":"X")]:zR[n]||Av},Tme=e=>{var{type:t="linear",points:n=[],baseLine:r,layout:i,connectNulls:a=!1}=e,o=Ame(t,i),c=a?n.filter(pb):n,u;if(Array.isArray(r)){var f=n.map((v,_)=>BR(BR({},v),{},{base:r[_]}));i==="vertical"?u=j0().y(Bh).x1($h).x0(v=>v.base.x):u=j0().x($h).y1(Bh).y0(v=>v.base.y);var m=u.defined(UR).curve(o),p=a?f.filter(UR):f;return m(p)}i==="vertical"&&We(r)?u=j0().y(Bh).x1($h).x0(r):We(r)?u=j0().x($h).y1(Bh).y0(r):u=p7().x($h).y(Bh);var g=u.defined(pb).curve(o);return g(c)},fy=e=>{var{className:t,points:n,path:r,pathRef:i}=e;if((!n||!n.length)&&!r)return null;var a=n&&n.length?Tme(e):r;return S.createElement("path",ok({},za(e),cA(e),{className:Qt("recharts-curve",t),d:a===null?void 0:a,ref:i}))},Ome=["x","y","top","left","width","height","className"];function sk(){return sk=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},sk.apply(null,arguments)}function HR(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function jme(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?HR(Object(n),!0).forEach(function(r){Nme(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):HR(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Nme(e,t,n){return(t=Cme(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Cme(e){var t=Mme(e,"string");return typeof t=="symbol"?t:t+""}function Mme(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Pme(e,t){if(e==null)return{};var n,r,i=Dme(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function Dme(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var Rme=(e,t,n,r,i,a)=>"M".concat(e,",").concat(i,"v").concat(r,"M").concat(a,",").concat(t,"h").concat(n),Lme=e=>{var{x:t=0,y:n=0,top:r=0,left:i=0,width:a=0,height:o=0,className:c}=e,u=Pme(e,Ome),f=jme({x:t,y:n,top:r,left:i,width:a,height:o},u);return!We(t)||!We(n)||!We(a)||!We(o)||!We(r)||!We(i)?null:S.createElement("path",sk({},fa(f),{className:Qt("recharts-cross",c),d:Rme(t,n,a,o,r,i)}))};function Ime(e,t,n,r){var i=r/2;return{stroke:"none",fill:"#ccc",x:e==="horizontal"?t.x-i:n.left+.5,y:e==="horizontal"?n.top+.5:t.y-i,width:e==="horizontal"?r:n.width-1,height:e==="horizontal"?n.height-1:r}}function FR(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function GR(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?FR(Object(n),!0).forEach(function(r){$me(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):FR(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function $me(e,t,n){return(t=Bme(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Bme(e){var t=zme(e,"string");return typeof t=="symbol"?t:t+""}function zme(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Ume=e=>e.replace(/([A-Z])/g,t=>"-".concat(t.toLowerCase())),Hme=(e,t,n)=>e.map(r=>"".concat(Ume(r)," ").concat(t,"ms ").concat(n)).join(","),Fme=(e,t)=>[Object.keys(e),Object.keys(t)].reduce((n,r)=>n.filter(i=>r.includes(i))),Om=(e,t)=>Object.keys(t).reduce((n,r)=>GR(GR({},n),{},{[r]:e(r,t[r])}),{});function qR(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Fn(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?qR(Object(n),!0).forEach(function(r){Gme(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):qR(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Gme(e,t,n){return(t=qme(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function qme(e){var t=Yme(e,"string");return typeof t=="symbol"?t:t+""}function Yme(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var gb=(e,t,n)=>e+(t-e)*n,lk=e=>{var{from:t,to:n}=e;return t!==n},D6=(e,t,n)=>{var r=Om((i,a)=>{if(lk(a)){var[o,c]=e(a.from,a.to,a.velocity);return Fn(Fn({},a),{},{from:o,velocity:c})}return a},t);return n<1?Om((i,a)=>lk(a)?Fn(Fn({},a),{},{velocity:gb(a.velocity,r[i].velocity,n),from:gb(a.from,r[i].from,n)}):a,t):D6(e,r,n-1)};function Kme(e,t,n,r,i,a){var o,c=r.reduce((g,v)=>Fn(Fn({},g),{},{[v]:{from:e[v],velocity:0,to:t[v]}}),{}),u=()=>Om((g,v)=>v.from,c),f=()=>!Object.values(c).filter(lk).length,m=null,p=g=>{o||(o=g);var v=g-o,_=v/n.dt;c=D6(n,c,_),i(Fn(Fn(Fn({},e),t),u())),o=g,f()||(m=a.setTimeout(p))};return()=>(m=a.setTimeout(p),()=>{var g;(g=m)===null||g===void 0||g()})}function Wme(e,t,n,r,i,a,o){var c=null,u=i.reduce((p,g)=>Fn(Fn({},p),{},{[g]:[e[g],t[g]]}),{}),f,m=p=>{f||(f=p);var g=(p-f)/r,v=Om((w,E)=>gb(...E,n(g)),u);if(a(Fn(Fn(Fn({},e),t),v)),g<1)c=o.setTimeout(m);else{var _=Om((w,E)=>gb(...E,n(1)),u);a(Fn(Fn(Fn({},e),t),_))}};return()=>(c=o.setTimeout(m),()=>{var p;(p=c)===null||p===void 0||p()})}const Vme=(e,t,n,r,i,a)=>{var o=Fme(e,t);return n==null?()=>(i(Fn(Fn({},e),t)),()=>{}):n.isStepper===!0?Kme(e,t,n,o,i,a):Wme(e,t,n,r,o,i,a)};var yb=1e-4,R6=(e,t)=>[0,3*e,3*t-6*e,3*e-3*t+1],L6=(e,t)=>e.map((n,r)=>n*t**r).reduce((n,r)=>n+r),YR=(e,t)=>n=>{var r=R6(e,t);return L6(r,n)},Zme=(e,t)=>n=>{var r=R6(e,t),i=[...r.map((a,o)=>a*o).slice(1),0];return L6(i,n)},Xme=function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];if(n.length===1)switch(n[0]){case"linear":return[0,0,1,1];case"ease":return[.25,.1,.25,1];case"ease-in":return[.42,0,1,1];case"ease-out":return[.42,0,.58,1];case"ease-in-out":return[0,0,.58,1];default:{var i,a=n[0].split("(");if(a[0]==="cubic-bezier"&&((i=a[1])===null||i===void 0?void 0:i.split(")")[0].split(",").length)===4){var o=a[1].split(")")[0].split(",").map(c=>parseFloat(c));return[o[0],o[1],o[2],o[3]]}}}return n.length===4?n:[0,0,1,1]},Jme=(e,t,n,r)=>{var i=YR(e,n),a=YR(t,r),o=Zme(e,n),c=f=>f>1?1:f<0?0:f,u=f=>{for(var m=f>1?1:f,p=m,g=0;g<8;++g){var v=i(p)-m,_=o(p);if(Math.abs(v-m)<yb||_<yb)return a(p);p=c(p-v/_)}return a(p)};return u.isStepper=!1,u},KR=function(){return Jme(...Xme(...arguments))},Qme=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},{stiff:n=100,damping:r=8,dt:i=17}=t,a=(o,c,u)=>{var f=-(o-c)*n,m=u*r,p=u+(f-m)*i/1e3,g=u*i/1e3+o;return Math.abs(g-c)<yb&&Math.abs(p)<yb?[c,0]:[g,p]};return a.isStepper=!0,a.dt=i,a},epe=e=>{if(typeof e=="string")switch(e){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return KR(e);case"spring":return Qme();default:if(e.split("(")[0]==="cubic-bezier")return KR(e)}return typeof e=="function"?e:null};function tpe(e){var t,n=()=>null,r=!1,i=null,a=o=>{if(!r){if(Array.isArray(o)){if(!o.length)return;var c=o,[u,...f]=c;if(typeof u=="number"){i=e.setTimeout(a.bind(null,f),u);return}a(u),i=e.setTimeout(a.bind(null,f));return}typeof o=="string"&&(t=o,n(t)),typeof o=="object"&&(t=o,n(t)),typeof o=="function"&&o()}};return{stop:()=>{r=!0},start:o=>{r=!1,i&&(i(),i=null),a(o)},subscribe:o=>(n=o,()=>{n=()=>null}),getTimeoutController:()=>e}}class npe{setTimeout(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=performance.now(),i=null,a=o=>{o-r>=n?t(o):typeof requestAnimationFrame=="function"&&(i=requestAnimationFrame(a))};return i=requestAnimationFrame(a),()=>{i!=null&&cancelAnimationFrame(i)}}}function rpe(){return tpe(new npe)}var ipe=S.createContext(rpe);function ape(e,t){var n=S.useContext(ipe);return S.useMemo(()=>t??n(e),[e,t,n])}var ope=()=>!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout),sf={devToolsEnabled:!1,isSsr:ope()},spe={begin:0,duration:1e3,easing:"ease",isActive:!0,canBegin:!0,onAnimationEnd:()=>{},onAnimationStart:()=>{}},WR={t:0},sS={t:1};function I6(e){var t=Ui(e,spe),{isActive:n,canBegin:r,duration:i,easing:a,begin:o,onAnimationEnd:c,onAnimationStart:u,children:f}=t,m=n==="auto"?!sf.isSsr:n,p=ape(t.animationId,t.animationManager),[g,v]=S.useState(m?WR:sS),_=S.useRef(null);return S.useEffect(()=>{m||v(sS)},[m]),S.useEffect(()=>{if(!m||!r)return tp;var w=Vme(WR,sS,epe(a),i,v,p.getTimeoutController()),E=()=>{_.current=w()};return p.start([u,o,E,i,c]),()=>{p.stop(),_.current&&_.current(),c()}},[m,r,i,a,o,u,c,p]),f(g.t)}function $6(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"animation-",n=S.useRef(_m(t)),r=S.useRef(e);return r.current!==e&&(n.current=_m(t),r.current=e),n.current}var lpe=["radius"],cpe=["radius"];function VR(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function ZR(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?VR(Object(n),!0).forEach(function(r){upe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):VR(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function upe(e,t,n){return(t=dpe(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function dpe(e){var t=fpe(e,"string");return typeof t=="symbol"?t:t+""}function fpe(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function bb(){return bb=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},bb.apply(null,arguments)}function XR(e,t){if(e==null)return{};var n,r,i=hpe(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function hpe(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var JR=(e,t,n,r,i)=>{var a=Math.min(Math.abs(n)/2,Math.abs(r)/2),o=r>=0?1:-1,c=n>=0?1:-1,u=r>=0&&n>=0||r<0&&n<0?1:0,f;if(a>0&&i instanceof Array){for(var m=[0,0,0,0],p=0,g=4;p<g;p++)m[p]=i[p]>a?a:i[p];f="M".concat(e,",").concat(t+o*m[0]),m[0]>0&&(f+="A ".concat(m[0],",").concat(m[0],",0,0,").concat(u,",").concat(e+c*m[0],",").concat(t)),f+="L ".concat(e+n-c*m[1],",").concat(t),m[1]>0&&(f+="A ".concat(m[1],",").concat(m[1],",0,0,").concat(u,`,
        `).concat(e+n,",").concat(t+o*m[1])),f+="L ".concat(e+n,",").concat(t+r-o*m[2]),m[2]>0&&(f+="A ".concat(m[2],",").concat(m[2],",0,0,").concat(u,`,
        `).concat(e+n-c*m[2],",").concat(t+r)),f+="L ".concat(e+c*m[3],",").concat(t+r),m[3]>0&&(f+="A ".concat(m[3],",").concat(m[3],",0,0,").concat(u,`,
        `).concat(e,",").concat(t+r-o*m[3])),f+="Z"}else if(a>0&&i===+i&&i>0){var v=Math.min(a,i);f="M ".concat(e,",").concat(t+o*v,`
            A `).concat(v,",").concat(v,",0,0,").concat(u,",").concat(e+c*v,",").concat(t,`
            L `).concat(e+n-c*v,",").concat(t,`
            A `).concat(v,",").concat(v,",0,0,").concat(u,",").concat(e+n,",").concat(t+o*v,`
            L `).concat(e+n,",").concat(t+r-o*v,`
            A `).concat(v,",").concat(v,",0,0,").concat(u,",").concat(e+n-c*v,",").concat(t+r,`
            L `).concat(e+c*v,",").concat(t+r,`
            A `).concat(v,",").concat(v,",0,0,").concat(u,",").concat(e,",").concat(t+r-o*v," Z")}else f="M ".concat(e,",").concat(t," h ").concat(n," v ").concat(r," h ").concat(-n," Z");return f},QR={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},mpe=e=>{var t=Ui(e,QR),n=S.useRef(null),[r,i]=S.useState(-1);S.useEffect(()=>{if(n.current&&n.current.getTotalLength)try{var Z=n.current.getTotalLength();Z&&i(Z)}catch{}},[]);var{x:a,y:o,width:c,height:u,radius:f,className:m}=t,{animationEasing:p,animationDuration:g,animationBegin:v,isAnimationActive:_,isUpdateAnimationActive:w}=t,E=S.useRef(c),T=S.useRef(u),N=S.useRef(a),O=S.useRef(o),P=S.useMemo(()=>({x:a,y:o,width:c,height:u,radius:f}),[a,o,c,u,f]),C=$6(P,"rectangle-");if(a!==+a||o!==+o||c!==+c||u!==+u||c===0||u===0)return null;var D=Qt("recharts-rectangle",m);if(!w){var $=fa(t),{radius:H}=$,Y=XR($,lpe);return S.createElement("path",bb({},Y,{radius:typeof f=="number"?f:void 0,className:D,d:JR(a,o,c,u,f)}))}var K=E.current,F=T.current,z=N.current,X=O.current,Q="0px ".concat(r===-1?1:r,"px"),J="".concat(r,"px 0px"),q=Hme(["strokeDasharray"],g,typeof p=="string"?p:QR.animationEasing);return S.createElement(I6,{animationId:C,key:C,canBegin:r>0,duration:g,easing:p,isActive:w,begin:v},Z=>{var re=po(K,c,Z),ue=po(F,u,Z),se=po(z,a,Z),B=po(X,o,Z);n.current&&(E.current=re,T.current=ue,N.current=se,O.current=B);var W;_?Z>0?W={transition:q,strokeDasharray:J}:W={strokeDasharray:Q}:W={strokeDasharray:J};var ae=fa(t),{radius:V}=ae,oe=XR(ae,cpe);return S.createElement("path",bb({},oe,{radius:typeof f=="number"?f:void 0,className:D,d:JR(se,B,re,ue,f),ref:n,style:ZR(ZR({},W),t.style)}))})};function eL(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function tL(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?eL(Object(n),!0).forEach(function(r){ppe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):eL(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function ppe(e,t,n){return(t=gpe(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function gpe(e){var t=ype(e,"string");return typeof t=="symbol"?t:t+""}function ype(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var vb=Math.PI/180,bpe=e=>e*180/Math.PI,yr=(e,t,n,r)=>({x:e+Math.cos(-vb*r)*n,y:t+Math.sin(-vb*r)*n}),vpe=function(t,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(t-(r.left||0)-(r.right||0)),Math.abs(n-(r.top||0)-(r.bottom||0)))/2},xpe=(e,t)=>{var{x:n,y:r}=e,{x:i,y:a}=t;return Math.sqrt((n-i)**2+(r-a)**2)},_pe=(e,t)=>{var{x:n,y:r}=e,{cx:i,cy:a}=t,o=xpe({x:n,y:r},{x:i,y:a});if(o<=0)return{radius:o,angle:0};var c=(n-i)/o,u=Math.acos(c);return r>a&&(u=2*Math.PI-u),{radius:o,angle:bpe(u),angleInRadian:u}},wpe=e=>{var{startAngle:t,endAngle:n}=e,r=Math.floor(t/360),i=Math.floor(n/360),a=Math.min(r,i);return{startAngle:t-a*360,endAngle:n-a*360}},Spe=(e,t)=>{var{startAngle:n,endAngle:r}=t,i=Math.floor(n/360),a=Math.floor(r/360),o=Math.min(i,a);return e+o*360},Epe=(e,t)=>{var{chartX:n,chartY:r}=e,{radius:i,angle:a}=_pe({x:n,y:r},t),{innerRadius:o,outerRadius:c}=t;if(i<o||i>c||i===0)return null;var{startAngle:u,endAngle:f}=wpe(t),m=a,p;if(u<=f){for(;m>f;)m-=360;for(;m<u;)m+=360;p=m>=u&&m<=f}else{for(;m>u;)m-=360;for(;m<f;)m+=360;p=m>=f&&m<=u}return p?tL(tL({},t),{},{radius:i,angle:Spe(m,t)}):null};function B6(e){var{cx:t,cy:n,radius:r,startAngle:i,endAngle:a}=e,o=yr(t,n,r,i),c=yr(t,n,r,a);return{points:[o,c],cx:t,cy:n,radius:r,startAngle:i,endAngle:a}}function ck(){return ck=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ck.apply(null,arguments)}var kpe=(e,t)=>{var n=oa(t-e),r=Math.min(Math.abs(t-e),359.999);return n*r},$0=e=>{var{cx:t,cy:n,radius:r,angle:i,sign:a,isExternal:o,cornerRadius:c,cornerIsExternal:u}=e,f=c*(o?1:-1)+r,m=Math.asin(c/f)/vb,p=u?i:i+a*m,g=yr(t,n,f,p),v=yr(t,n,r,p),_=u?i-a*m:i,w=yr(t,n,f*Math.cos(m*vb),_);return{center:g,circleTangency:v,lineTangency:w,theta:m}},z6=e=>{var{cx:t,cy:n,innerRadius:r,outerRadius:i,startAngle:a,endAngle:o}=e,c=kpe(a,o),u=a+c,f=yr(t,n,i,a),m=yr(t,n,i,u),p="M ".concat(f.x,",").concat(f.y,`
    A `).concat(i,",").concat(i,`,0,
    `).concat(+(Math.abs(c)>180),",").concat(+(a>u),`,
    `).concat(m.x,",").concat(m.y,`
  `);if(r>0){var g=yr(t,n,r,a),v=yr(t,n,r,u);p+="L ".concat(v.x,",").concat(v.y,`
            A `).concat(r,",").concat(r,`,0,
            `).concat(+(Math.abs(c)>180),",").concat(+(a<=u),`,
            `).concat(g.x,",").concat(g.y," Z")}else p+="L ".concat(t,",").concat(n," Z");return p},Ape=e=>{var{cx:t,cy:n,innerRadius:r,outerRadius:i,cornerRadius:a,forceCornerRadius:o,cornerIsExternal:c,startAngle:u,endAngle:f}=e,m=oa(f-u),{circleTangency:p,lineTangency:g,theta:v}=$0({cx:t,cy:n,radius:i,angle:u,sign:m,cornerRadius:a,cornerIsExternal:c}),{circleTangency:_,lineTangency:w,theta:E}=$0({cx:t,cy:n,radius:i,angle:f,sign:-m,cornerRadius:a,cornerIsExternal:c}),T=c?Math.abs(u-f):Math.abs(u-f)-v-E;if(T<0)return o?"M ".concat(g.x,",").concat(g.y,`
        a`).concat(a,",").concat(a,",0,0,1,").concat(a*2,`,0
        a`).concat(a,",").concat(a,",0,0,1,").concat(-a*2,`,0
      `):z6({cx:t,cy:n,innerRadius:r,outerRadius:i,startAngle:u,endAngle:f});var N="M ".concat(g.x,",").concat(g.y,`
    A`).concat(a,",").concat(a,",0,0,").concat(+(m<0),",").concat(p.x,",").concat(p.y,`
    A`).concat(i,",").concat(i,",0,").concat(+(T>180),",").concat(+(m<0),",").concat(_.x,",").concat(_.y,`
    A`).concat(a,",").concat(a,",0,0,").concat(+(m<0),",").concat(w.x,",").concat(w.y,`
  `);if(r>0){var{circleTangency:O,lineTangency:P,theta:C}=$0({cx:t,cy:n,radius:r,angle:u,sign:m,isExternal:!0,cornerRadius:a,cornerIsExternal:c}),{circleTangency:D,lineTangency:$,theta:H}=$0({cx:t,cy:n,radius:r,angle:f,sign:-m,isExternal:!0,cornerRadius:a,cornerIsExternal:c}),Y=c?Math.abs(u-f):Math.abs(u-f)-C-H;if(Y<0&&a===0)return"".concat(N,"L").concat(t,",").concat(n,"Z");N+="L".concat($.x,",").concat($.y,`
      A`).concat(a,",").concat(a,",0,0,").concat(+(m<0),",").concat(D.x,",").concat(D.y,`
      A`).concat(r,",").concat(r,",0,").concat(+(Y>180),",").concat(+(m>0),",").concat(O.x,",").concat(O.y,`
      A`).concat(a,",").concat(a,",0,0,").concat(+(m<0),",").concat(P.x,",").concat(P.y,"Z")}else N+="L".concat(t,",").concat(n,"Z");return N},Tpe={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},Ope=e=>{var t=Ui(e,Tpe),{cx:n,cy:r,innerRadius:i,outerRadius:a,cornerRadius:o,forceCornerRadius:c,cornerIsExternal:u,startAngle:f,endAngle:m,className:p}=t;if(a<i||f===m)return null;var g=Qt("recharts-sector",p),v=a-i,_=jl(o,v,0,!0),w;return _>0&&Math.abs(f-m)<360?w=Ape({cx:n,cy:r,innerRadius:i,outerRadius:a,cornerRadius:Math.min(_,v/2),forceCornerRadius:c,cornerIsExternal:u,startAngle:f,endAngle:m}):w=z6({cx:n,cy:r,innerRadius:i,outerRadius:a,startAngle:f,endAngle:m}),S.createElement("path",ck({},fa(t),{className:g,d:w}))};function jpe(e,t,n){if(e==="horizontal")return[{x:t.x,y:n.top},{x:t.x,y:n.top+n.height}];if(e==="vertical")return[{x:n.left,y:t.y},{x:n.left+n.width,y:t.y}];if(T7(t)){if(e==="centric"){var{cx:r,cy:i,innerRadius:a,outerRadius:o,angle:c}=t,u=yr(r,i,a,c),f=yr(r,i,o,c);return[{x:u.x,y:u.y},{x:f.x,y:f.y}]}return B6(t)}}var lS={},cS={},uS={},nL;function Npe(){return nL||(nL=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=$7();function n(r){return t.isSymbol(r)?NaN:Number(r)}e.toNumber=n})(uS)),uS}var rL;function Cpe(){return rL||(rL=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Npe();function n(r){return r?(r=t.toNumber(r),r===1/0||r===-1/0?(r<0?-1:1)*Number.MAX_VALUE:r===r?r:0):r===0?r:0}e.toFinite=n})(cS)),cS}var iL;function Mpe(){return iL||(iL=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=B7(),n=Cpe();function r(i,a,o){o&&typeof o!="number"&&t.isIterateeCall(i,a,o)&&(a=o=void 0),i=n.toFinite(i),a===void 0?(a=i,i=0):a=n.toFinite(a),o=o===void 0?i<a?1:-1:n.toFinite(o);const c=Math.max(Math.ceil((a-i)/(o||1)),0),u=new Array(c);for(let f=0;f<c;f++)u[f]=i,i+=o;return u}e.range=r})(lS)),lS}var dS,aL;function Ppe(){return aL||(aL=1,dS=Mpe().range),dS}var Dpe=Ppe();const U6=ui(Dpe);function El(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function Rpe(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function wA(e){let t,n,r;e.length!==2?(t=El,n=(c,u)=>El(e(c),u),r=(c,u)=>e(c)-u):(t=e===El||e===Rpe?e:Lpe,n=e,r=e);function i(c,u,f=0,m=c.length){if(f<m){if(t(u,u)!==0)return m;do{const p=f+m>>>1;n(c[p],u)<0?f=p+1:m=p}while(f<m)}return f}function a(c,u,f=0,m=c.length){if(f<m){if(t(u,u)!==0)return m;do{const p=f+m>>>1;n(c[p],u)<=0?f=p+1:m=p}while(f<m)}return f}function o(c,u,f=0,m=c.length){const p=i(c,u,f,m-1);return p>f&&r(c[p-1],u)>-r(c[p],u)?p-1:p}return{left:i,center:o,right:a}}function Lpe(){return 0}function H6(e){return e===null?NaN:+e}function*Ipe(e,t){for(let n of e)n!=null&&(n=+n)>=n&&(yield n)}const $pe=wA(El),lp=$pe.right;wA(H6).center;class oL extends Map{constructor(t,n=Upe){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),t!=null)for(const[r,i]of t)this.set(r,i)}get(t){return super.get(sL(this,t))}has(t){return super.has(sL(this,t))}set(t,n){return super.set(Bpe(this,t),n)}delete(t){return super.delete(zpe(this,t))}}function sL({_intern:e,_key:t},n){const r=t(n);return e.has(r)?e.get(r):n}function Bpe({_intern:e,_key:t},n){const r=t(n);return e.has(r)?e.get(r):(e.set(r,n),n)}function zpe({_intern:e,_key:t},n){const r=t(n);return e.has(r)&&(n=e.get(r),e.delete(r)),n}function Upe(e){return e!==null&&typeof e=="object"?e.valueOf():e}function Hpe(e=El){if(e===El)return F6;if(typeof e!="function")throw new TypeError("compare is not a function");return(t,n)=>{const r=e(t,n);return r||r===0?r:(e(n,n)===0)-(e(t,t)===0)}}function F6(e,t){return(e==null||!(e>=e))-(t==null||!(t>=t))||(e<t?-1:e>t?1:0)}const Fpe=Math.sqrt(50),Gpe=Math.sqrt(10),qpe=Math.sqrt(2);function xb(e,t,n){const r=(t-e)/Math.max(0,n),i=Math.floor(Math.log10(r)),a=r/Math.pow(10,i),o=a>=Fpe?10:a>=Gpe?5:a>=qpe?2:1;let c,u,f;return i<0?(f=Math.pow(10,-i)/o,c=Math.round(e*f),u=Math.round(t*f),c/f<e&&++c,u/f>t&&--u,f=-f):(f=Math.pow(10,i)*o,c=Math.round(e/f),u=Math.round(t/f),c*f<e&&++c,u*f>t&&--u),u<c&&.5<=n&&n<2?xb(e,t,n*2):[c,u,f]}function uk(e,t,n){if(t=+t,e=+e,n=+n,!(n>0))return[];if(e===t)return[e];const r=t<e,[i,a,o]=r?xb(t,e,n):xb(e,t,n);if(!(a>=i))return[];const c=a-i+1,u=new Array(c);if(r)if(o<0)for(let f=0;f<c;++f)u[f]=(a-f)/-o;else for(let f=0;f<c;++f)u[f]=(a-f)*o;else if(o<0)for(let f=0;f<c;++f)u[f]=(i+f)/-o;else for(let f=0;f<c;++f)u[f]=(i+f)*o;return u}function dk(e,t,n){return t=+t,e=+e,n=+n,xb(e,t,n)[2]}function fk(e,t,n){t=+t,e=+e,n=+n;const r=t<e,i=r?dk(t,e,n):dk(e,t,n);return(r?-1:1)*(i<0?1/-i:i)}function lL(e,t){let n;for(const r of e)r!=null&&(n<r||n===void 0&&r>=r)&&(n=r);return n}function cL(e,t){let n;for(const r of e)r!=null&&(n>r||n===void 0&&r>=r)&&(n=r);return n}function G6(e,t,n=0,r=1/0,i){if(t=Math.floor(t),n=Math.floor(Math.max(0,n)),r=Math.floor(Math.min(e.length-1,r)),!(n<=t&&t<=r))return e;for(i=i===void 0?F6:Hpe(i);r>n;){if(r-n>600){const u=r-n+1,f=t-n+1,m=Math.log(u),p=.5*Math.exp(2*m/3),g=.5*Math.sqrt(m*p*(u-p)/u)*(f-u/2<0?-1:1),v=Math.max(n,Math.floor(t-f*p/u+g)),_=Math.min(r,Math.floor(t+(u-f)*p/u+g));G6(e,t,v,_,i)}const a=e[t];let o=n,c=r;for(zh(e,n,t),i(e[r],a)>0&&zh(e,n,r);o<c;){for(zh(e,o,c),++o,--c;i(e[o],a)<0;)++o;for(;i(e[c],a)>0;)--c}i(e[n],a)===0?zh(e,n,c):(++c,zh(e,c,r)),c<=t&&(n=c+1),t<=c&&(r=c-1)}return e}function zh(e,t,n){const r=e[t];e[t]=e[n],e[n]=r}function Ype(e,t,n){if(e=Float64Array.from(Ipe(e)),!(!(r=e.length)||isNaN(t=+t))){if(t<=0||r<2)return cL(e);if(t>=1)return lL(e);var r,i=(r-1)*t,a=Math.floor(i),o=lL(G6(e,a).subarray(0,a+1)),c=cL(e.subarray(a+1));return o+(c-o)*(i-a)}}function Kpe(e,t,n=H6){if(!(!(r=e.length)||isNaN(t=+t))){if(t<=0||r<2)return+n(e[0],0,e);if(t>=1)return+n(e[r-1],r-1,e);var r,i=(r-1)*t,a=Math.floor(i),o=+n(e[a],a,e),c=+n(e[a+1],a+1,e);return o+(c-o)*(i-a)}}function Wpe(e,t,n){e=+e,t=+t,n=(i=arguments.length)<2?(t=e,e=0,1):i<3?1:+n;for(var r=-1,i=Math.max(0,Math.ceil((t-e)/n))|0,a=new Array(i);++r<i;)a[r]=e+r*n;return a}function ga(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}function ks(e,t){switch(arguments.length){case 0:break;case 1:{typeof e=="function"?this.interpolator(e):this.range(e);break}default:{this.domain(e),typeof t=="function"?this.interpolator(t):this.range(t);break}}return this}const hk=Symbol("implicit");function SA(){var e=new oL,t=[],n=[],r=hk;function i(a){let o=e.get(a);if(o===void 0){if(r!==hk)return r;e.set(a,o=t.push(a)-1)}return n[o%n.length]}return i.domain=function(a){if(!arguments.length)return t.slice();t=[],e=new oL;for(const o of a)e.has(o)||e.set(o,t.push(o)-1);return i},i.range=function(a){return arguments.length?(n=Array.from(a),i):n.slice()},i.unknown=function(a){return arguments.length?(r=a,i):r},i.copy=function(){return SA(t,n).unknown(r)},ga.apply(i,arguments),i}function EA(){var e=SA().unknown(void 0),t=e.domain,n=e.range,r=0,i=1,a,o,c=!1,u=0,f=0,m=.5;delete e.unknown;function p(){var g=t().length,v=i<r,_=v?i:r,w=v?r:i;a=(w-_)/Math.max(1,g-u+f*2),c&&(a=Math.floor(a)),_+=(w-_-a*(g-u))*m,o=a*(1-u),c&&(_=Math.round(_),o=Math.round(o));var E=Wpe(g).map(function(T){return _+a*T});return n(v?E.reverse():E)}return e.domain=function(g){return arguments.length?(t(g),p()):t()},e.range=function(g){return arguments.length?([r,i]=g,r=+r,i=+i,p()):[r,i]},e.rangeRound=function(g){return[r,i]=g,r=+r,i=+i,c=!0,p()},e.bandwidth=function(){return o},e.step=function(){return a},e.round=function(g){return arguments.length?(c=!!g,p()):c},e.padding=function(g){return arguments.length?(u=Math.min(1,f=+g),p()):u},e.paddingInner=function(g){return arguments.length?(u=Math.min(1,g),p()):u},e.paddingOuter=function(g){return arguments.length?(f=+g,p()):f},e.align=function(g){return arguments.length?(m=Math.max(0,Math.min(1,g)),p()):m},e.copy=function(){return EA(t(),[r,i]).round(c).paddingInner(u).paddingOuter(f).align(m)},ga.apply(p(),arguments)}function q6(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return q6(t())},e}function Vpe(){return q6(EA.apply(null,arguments).paddingInner(1))}function kA(e,t,n){e.prototype=t.prototype=n,n.constructor=e}function Y6(e,t){var n=Object.create(e.prototype);for(var r in t)n[r]=t[r];return n}function cp(){}var jm=.7,_b=1/jm,jd="\\s*([+-]?\\d+)\\s*",Nm="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",vo="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",Zpe=/^#([0-9a-f]{3,8})$/,Xpe=new RegExp(`^rgb\\(${jd},${jd},${jd}\\)$`),Jpe=new RegExp(`^rgb\\(${vo},${vo},${vo}\\)$`),Qpe=new RegExp(`^rgba\\(${jd},${jd},${jd},${Nm}\\)$`),ege=new RegExp(`^rgba\\(${vo},${vo},${vo},${Nm}\\)$`),tge=new RegExp(`^hsl\\(${Nm},${vo},${vo}\\)$`),nge=new RegExp(`^hsla\\(${Nm},${vo},${vo},${Nm}\\)$`),uL={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};kA(cp,Cm,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:dL,formatHex:dL,formatHex8:rge,formatHsl:ige,formatRgb:fL,toString:fL});function dL(){return this.rgb().formatHex()}function rge(){return this.rgb().formatHex8()}function ige(){return K6(this).formatHsl()}function fL(){return this.rgb().formatRgb()}function Cm(e){var t,n;return e=(e+"").trim().toLowerCase(),(t=Zpe.exec(e))?(n=t[1].length,t=parseInt(t[1],16),n===6?hL(t):n===3?new oi(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):n===8?B0(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):n===4?B0(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=Xpe.exec(e))?new oi(t[1],t[2],t[3],1):(t=Jpe.exec(e))?new oi(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=Qpe.exec(e))?B0(t[1],t[2],t[3],t[4]):(t=ege.exec(e))?B0(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=tge.exec(e))?gL(t[1],t[2]/100,t[3]/100,1):(t=nge.exec(e))?gL(t[1],t[2]/100,t[3]/100,t[4]):uL.hasOwnProperty(e)?hL(uL[e]):e==="transparent"?new oi(NaN,NaN,NaN,0):null}function hL(e){return new oi(e>>16&255,e>>8&255,e&255,1)}function B0(e,t,n,r){return r<=0&&(e=t=n=NaN),new oi(e,t,n,r)}function age(e){return e instanceof cp||(e=Cm(e)),e?(e=e.rgb(),new oi(e.r,e.g,e.b,e.opacity)):new oi}function mk(e,t,n,r){return arguments.length===1?age(e):new oi(e,t,n,r??1)}function oi(e,t,n,r){this.r=+e,this.g=+t,this.b=+n,this.opacity=+r}kA(oi,mk,Y6(cp,{brighter(e){return e=e==null?_b:Math.pow(_b,e),new oi(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?jm:Math.pow(jm,e),new oi(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new oi(Yc(this.r),Yc(this.g),Yc(this.b),wb(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:mL,formatHex:mL,formatHex8:oge,formatRgb:pL,toString:pL}));function mL(){return`#${Uc(this.r)}${Uc(this.g)}${Uc(this.b)}`}function oge(){return`#${Uc(this.r)}${Uc(this.g)}${Uc(this.b)}${Uc((isNaN(this.opacity)?1:this.opacity)*255)}`}function pL(){const e=wb(this.opacity);return`${e===1?"rgb(":"rgba("}${Yc(this.r)}, ${Yc(this.g)}, ${Yc(this.b)}${e===1?")":`, ${e})`}`}function wb(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function Yc(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function Uc(e){return e=Yc(e),(e<16?"0":"")+e.toString(16)}function gL(e,t,n,r){return r<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new Ra(e,t,n,r)}function K6(e){if(e instanceof Ra)return new Ra(e.h,e.s,e.l,e.opacity);if(e instanceof cp||(e=Cm(e)),!e)return new Ra;if(e instanceof Ra)return e;e=e.rgb();var t=e.r/255,n=e.g/255,r=e.b/255,i=Math.min(t,n,r),a=Math.max(t,n,r),o=NaN,c=a-i,u=(a+i)/2;return c?(t===a?o=(n-r)/c+(n<r)*6:n===a?o=(r-t)/c+2:o=(t-n)/c+4,c/=u<.5?a+i:2-a-i,o*=60):c=u>0&&u<1?0:o,new Ra(o,c,u,e.opacity)}function sge(e,t,n,r){return arguments.length===1?K6(e):new Ra(e,t,n,r??1)}function Ra(e,t,n,r){this.h=+e,this.s=+t,this.l=+n,this.opacity=+r}kA(Ra,sge,Y6(cp,{brighter(e){return e=e==null?_b:Math.pow(_b,e),new Ra(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?jm:Math.pow(jm,e),new Ra(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*t,i=2*n-r;return new oi(fS(e>=240?e-240:e+120,i,r),fS(e,i,r),fS(e<120?e+240:e-120,i,r),this.opacity)},clamp(){return new Ra(yL(this.h),z0(this.s),z0(this.l),wb(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=wb(this.opacity);return`${e===1?"hsl(":"hsla("}${yL(this.h)}, ${z0(this.s)*100}%, ${z0(this.l)*100}%${e===1?")":`, ${e})`}`}}));function yL(e){return e=(e||0)%360,e<0?e+360:e}function z0(e){return Math.max(0,Math.min(1,e||0))}function fS(e,t,n){return(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)*255}const AA=e=>()=>e;function lge(e,t){return function(n){return e+n*t}}function cge(e,t,n){return e=Math.pow(e,n),t=Math.pow(t,n)-e,n=1/n,function(r){return Math.pow(e+r*t,n)}}function uge(e){return(e=+e)==1?W6:function(t,n){return n-t?cge(t,n,e):AA(isNaN(t)?n:t)}}function W6(e,t){var n=t-e;return n?lge(e,n):AA(isNaN(e)?t:e)}const bL=(function e(t){var n=uge(t);function r(i,a){var o=n((i=mk(i)).r,(a=mk(a)).r),c=n(i.g,a.g),u=n(i.b,a.b),f=W6(i.opacity,a.opacity);return function(m){return i.r=o(m),i.g=c(m),i.b=u(m),i.opacity=f(m),i+""}}return r.gamma=e,r})(1);function dge(e,t){t||(t=[]);var n=e?Math.min(t.length,e.length):0,r=t.slice(),i;return function(a){for(i=0;i<n;++i)r[i]=e[i]*(1-a)+t[i]*a;return r}}function fge(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function hge(e,t){var n=t?t.length:0,r=e?Math.min(n,e.length):0,i=new Array(r),a=new Array(n),o;for(o=0;o<r;++o)i[o]=lf(e[o],t[o]);for(;o<n;++o)a[o]=t[o];return function(c){for(o=0;o<r;++o)a[o]=i[o](c);return a}}function mge(e,t){var n=new Date;return e=+e,t=+t,function(r){return n.setTime(e*(1-r)+t*r),n}}function Sb(e,t){return e=+e,t=+t,function(n){return e*(1-n)+t*n}}function pge(e,t){var n={},r={},i;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(i in t)i in e?n[i]=lf(e[i],t[i]):r[i]=t[i];return function(a){for(i in n)r[i]=n[i](a);return r}}var pk=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,hS=new RegExp(pk.source,"g");function gge(e){return function(){return e}}function yge(e){return function(t){return e(t)+""}}function bge(e,t){var n=pk.lastIndex=hS.lastIndex=0,r,i,a,o=-1,c=[],u=[];for(e=e+"",t=t+"";(r=pk.exec(e))&&(i=hS.exec(t));)(a=i.index)>n&&(a=t.slice(n,a),c[o]?c[o]+=a:c[++o]=a),(r=r[0])===(i=i[0])?c[o]?c[o]+=i:c[++o]=i:(c[++o]=null,u.push({i:o,x:Sb(r,i)})),n=hS.lastIndex;return n<t.length&&(a=t.slice(n),c[o]?c[o]+=a:c[++o]=a),c.length<2?u[0]?yge(u[0].x):gge(t):(t=u.length,function(f){for(var m=0,p;m<t;++m)c[(p=u[m]).i]=p.x(f);return c.join("")})}function lf(e,t){var n=typeof t,r;return t==null||n==="boolean"?AA(t):(n==="number"?Sb:n==="string"?(r=Cm(t))?(t=r,bL):bge:t instanceof Cm?bL:t instanceof Date?mge:fge(t)?dge:Array.isArray(t)?hge:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?pge:Sb)(e,t)}function TA(e,t){return e=+e,t=+t,function(n){return Math.round(e*(1-n)+t*n)}}function vge(e,t){t===void 0&&(t=e,e=lf);for(var n=0,r=t.length-1,i=t[0],a=new Array(r<0?0:r);n<r;)a[n]=e(i,i=t[++n]);return function(o){var c=Math.max(0,Math.min(r-1,Math.floor(o*=r)));return a[c](o-c)}}function xge(e){return function(){return e}}function Eb(e){return+e}var vL=[0,1];function Lr(e){return e}function gk(e,t){return(t-=e=+e)?function(n){return(n-e)/t}:xge(isNaN(t)?NaN:.5)}function _ge(e,t){var n;return e>t&&(n=e,e=t,t=n),function(r){return Math.max(e,Math.min(t,r))}}function wge(e,t,n){var r=e[0],i=e[1],a=t[0],o=t[1];return i<r?(r=gk(i,r),a=n(o,a)):(r=gk(r,i),a=n(a,o)),function(c){return a(r(c))}}function Sge(e,t,n){var r=Math.min(e.length,t.length)-1,i=new Array(r),a=new Array(r),o=-1;for(e[r]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++o<r;)i[o]=gk(e[o],e[o+1]),a[o]=n(t[o],t[o+1]);return function(c){var u=lp(e,c,1,r)-1;return a[u](i[u](c))}}function up(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function Kv(){var e=vL,t=vL,n=lf,r,i,a,o=Lr,c,u,f;function m(){var g=Math.min(e.length,t.length);return o!==Lr&&(o=_ge(e[0],e[g-1])),c=g>2?Sge:wge,u=f=null,p}function p(g){return g==null||isNaN(g=+g)?a:(u||(u=c(e.map(r),t,n)))(r(o(g)))}return p.invert=function(g){return o(i((f||(f=c(t,e.map(r),Sb)))(g)))},p.domain=function(g){return arguments.length?(e=Array.from(g,Eb),m()):e.slice()},p.range=function(g){return arguments.length?(t=Array.from(g),m()):t.slice()},p.rangeRound=function(g){return t=Array.from(g),n=TA,m()},p.clamp=function(g){return arguments.length?(o=g?!0:Lr,m()):o!==Lr},p.interpolate=function(g){return arguments.length?(n=g,m()):n},p.unknown=function(g){return arguments.length?(a=g,p):a},function(g,v){return r=g,i=v,m()}}function OA(){return Kv()(Lr,Lr)}function Ege(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function kb(e,t){if((n=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var n,r=e.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+e.slice(n+1)]}function qd(e){return e=kb(Math.abs(e)),e?e[1]:NaN}function kge(e,t){return function(n,r){for(var i=n.length,a=[],o=0,c=e[0],u=0;i>0&&c>0&&(u+c+1>r&&(c=Math.max(1,r-u)),a.push(n.substring(i-=c,i+c)),!((u+=c+1)>r));)c=e[o=(o+1)%e.length];return a.reverse().join(t)}}function Age(e){return function(t){return t.replace(/[0-9]/g,function(n){return e[+n]})}}var Tge=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Mm(e){if(!(t=Tge.exec(e)))throw new Error("invalid format: "+e);var t;return new jA({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}Mm.prototype=jA.prototype;function jA(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}jA.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function Oge(e){e:for(var t=e.length,n=1,r=-1,i;n<t;++n)switch(e[n]){case".":r=i=n;break;case"0":r===0&&(r=n),i=n;break;default:if(!+e[n])break e;r>0&&(r=0);break}return r>0?e.slice(0,r)+e.slice(i+1):e}var V6;function jge(e,t){var n=kb(e,t);if(!n)return e+"";var r=n[0],i=n[1],a=i-(V6=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,o=r.length;return a===o?r:a>o?r+new Array(a-o+1).join("0"):a>0?r.slice(0,a)+"."+r.slice(a):"0."+new Array(1-a).join("0")+kb(e,Math.max(0,t+a-1))[0]}function xL(e,t){var n=kb(e,t);if(!n)return e+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}const _L={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:Ege,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>xL(e*100,t),r:xL,s:jge,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function wL(e){return e}var SL=Array.prototype.map,EL=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function Nge(e){var t=e.grouping===void 0||e.thousands===void 0?wL:kge(SL.call(e.grouping,Number),e.thousands+""),n=e.currency===void 0?"":e.currency[0]+"",r=e.currency===void 0?"":e.currency[1]+"",i=e.decimal===void 0?".":e.decimal+"",a=e.numerals===void 0?wL:Age(SL.call(e.numerals,String)),o=e.percent===void 0?"%":e.percent+"",c=e.minus===void 0?"":e.minus+"",u=e.nan===void 0?"NaN":e.nan+"";function f(p){p=Mm(p);var g=p.fill,v=p.align,_=p.sign,w=p.symbol,E=p.zero,T=p.width,N=p.comma,O=p.precision,P=p.trim,C=p.type;C==="n"?(N=!0,C="g"):_L[C]||(O===void 0&&(O=12),P=!0,C="g"),(E||g==="0"&&v==="=")&&(E=!0,g="0",v="=");var D=w==="$"?n:w==="#"&&/[boxX]/.test(C)?"0"+C.toLowerCase():"",$=w==="$"?r:/[%p]/.test(C)?o:"",H=_L[C],Y=/[defgprs%]/.test(C);O=O===void 0?6:/[gprs]/.test(C)?Math.max(1,Math.min(21,O)):Math.max(0,Math.min(20,O));function K(F){var z=D,X=$,Q,J,q;if(C==="c")X=H(F)+X,F="";else{F=+F;var Z=F<0||1/F<0;if(F=isNaN(F)?u:H(Math.abs(F),O),P&&(F=Oge(F)),Z&&+F==0&&_!=="+"&&(Z=!1),z=(Z?_==="("?_:c:_==="-"||_==="("?"":_)+z,X=(C==="s"?EL[8+V6/3]:"")+X+(Z&&_==="("?")":""),Y){for(Q=-1,J=F.length;++Q<J;)if(q=F.charCodeAt(Q),48>q||q>57){X=(q===46?i+F.slice(Q+1):F.slice(Q))+X,F=F.slice(0,Q);break}}}N&&!E&&(F=t(F,1/0));var re=z.length+F.length+X.length,ue=re<T?new Array(T-re+1).join(g):"";switch(N&&E&&(F=t(ue+F,ue.length?T-X.length:1/0),ue=""),v){case"<":F=z+F+X+ue;break;case"=":F=z+ue+F+X;break;case"^":F=ue.slice(0,re=ue.length>>1)+z+F+X+ue.slice(re);break;default:F=ue+z+F+X;break}return a(F)}return K.toString=function(){return p+""},K}function m(p,g){var v=f((p=Mm(p),p.type="f",p)),_=Math.max(-8,Math.min(8,Math.floor(qd(g)/3)))*3,w=Math.pow(10,-_),E=EL[8+_/3];return function(T){return v(w*T)+E}}return{format:f,formatPrefix:m}}var U0,NA,Z6;Cge({thousands:",",grouping:[3],currency:["$",""]});function Cge(e){return U0=Nge(e),NA=U0.format,Z6=U0.formatPrefix,U0}function Mge(e){return Math.max(0,-qd(Math.abs(e)))}function Pge(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(qd(t)/3)))*3-qd(Math.abs(e)))}function Dge(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,qd(t)-qd(e))+1}function X6(e,t,n,r){var i=fk(e,t,n),a;switch(r=Mm(r??",f"),r.type){case"s":{var o=Math.max(Math.abs(e),Math.abs(t));return r.precision==null&&!isNaN(a=Pge(i,o))&&(r.precision=a),Z6(r,o)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(a=Dge(i,Math.max(Math.abs(e),Math.abs(t))))&&(r.precision=a-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(a=Mge(i))&&(r.precision=a-(r.type==="%")*2);break}}return NA(r)}function Pl(e){var t=e.domain;return e.ticks=function(n){var r=t();return uk(r[0],r[r.length-1],n??10)},e.tickFormat=function(n,r){var i=t();return X6(i[0],i[i.length-1],n??10,r)},e.nice=function(n){n==null&&(n=10);var r=t(),i=0,a=r.length-1,o=r[i],c=r[a],u,f,m=10;for(c<o&&(f=o,o=c,c=f,f=i,i=a,a=f);m-- >0;){if(f=dk(o,c,n),f===u)return r[i]=o,r[a]=c,t(r);if(f>0)o=Math.floor(o/f)*f,c=Math.ceil(c/f)*f;else if(f<0)o=Math.ceil(o*f)/f,c=Math.floor(c*f)/f;else break;u=f}return e},e}function J6(){var e=OA();return e.copy=function(){return up(e,J6())},ga.apply(e,arguments),Pl(e)}function Q6(e){var t;function n(r){return r==null||isNaN(r=+r)?t:r}return n.invert=n,n.domain=n.range=function(r){return arguments.length?(e=Array.from(r,Eb),n):e.slice()},n.unknown=function(r){return arguments.length?(t=r,n):t},n.copy=function(){return Q6(e).unknown(t)},e=arguments.length?Array.from(e,Eb):[0,1],Pl(n)}function e9(e,t){e=e.slice();var n=0,r=e.length-1,i=e[n],a=e[r],o;return a<i&&(o=n,n=r,r=o,o=i,i=a,a=o),e[n]=t.floor(i),e[r]=t.ceil(a),e}function kL(e){return Math.log(e)}function AL(e){return Math.exp(e)}function Rge(e){return-Math.log(-e)}function Lge(e){return-Math.exp(-e)}function Ige(e){return isFinite(e)?+("1e"+e):e<0?0:e}function $ge(e){return e===10?Ige:e===Math.E?Math.exp:t=>Math.pow(e,t)}function Bge(e){return e===Math.E?Math.log:e===10&&Math.log10||e===2&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}function TL(e){return(t,n)=>-e(-t,n)}function CA(e){const t=e(kL,AL),n=t.domain;let r=10,i,a;function o(){return i=Bge(r),a=$ge(r),n()[0]<0?(i=TL(i),a=TL(a),e(Rge,Lge)):e(kL,AL),t}return t.base=function(c){return arguments.length?(r=+c,o()):r},t.domain=function(c){return arguments.length?(n(c),o()):n()},t.ticks=c=>{const u=n();let f=u[0],m=u[u.length-1];const p=m<f;p&&([f,m]=[m,f]);let g=i(f),v=i(m),_,w;const E=c==null?10:+c;let T=[];if(!(r%1)&&v-g<E){if(g=Math.floor(g),v=Math.ceil(v),f>0){for(;g<=v;++g)for(_=1;_<r;++_)if(w=g<0?_/a(-g):_*a(g),!(w<f)){if(w>m)break;T.push(w)}}else for(;g<=v;++g)for(_=r-1;_>=1;--_)if(w=g>0?_/a(-g):_*a(g),!(w<f)){if(w>m)break;T.push(w)}T.length*2<E&&(T=uk(f,m,E))}else T=uk(g,v,Math.min(v-g,E)).map(a);return p?T.reverse():T},t.tickFormat=(c,u)=>{if(c==null&&(c=10),u==null&&(u=r===10?"s":","),typeof u!="function"&&(!(r%1)&&(u=Mm(u)).precision==null&&(u.trim=!0),u=NA(u)),c===1/0)return u;const f=Math.max(1,r*c/t.ticks().length);return m=>{let p=m/a(Math.round(i(m)));return p*r<r-.5&&(p*=r),p<=f?u(m):""}},t.nice=()=>n(e9(n(),{floor:c=>a(Math.floor(i(c))),ceil:c=>a(Math.ceil(i(c)))})),t}function t9(){const e=CA(Kv()).domain([1,10]);return e.copy=()=>up(e,t9()).base(e.base()),ga.apply(e,arguments),e}function OL(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function jL(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function MA(e){var t=1,n=e(OL(t),jL(t));return n.constant=function(r){return arguments.length?e(OL(t=+r),jL(t)):t},Pl(n)}function n9(){var e=MA(Kv());return e.copy=function(){return up(e,n9()).constant(e.constant())},ga.apply(e,arguments)}function NL(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function zge(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function Uge(e){return e<0?-e*e:e*e}function PA(e){var t=e(Lr,Lr),n=1;function r(){return n===1?e(Lr,Lr):n===.5?e(zge,Uge):e(NL(n),NL(1/n))}return t.exponent=function(i){return arguments.length?(n=+i,r()):n},Pl(t)}function DA(){var e=PA(Kv());return e.copy=function(){return up(e,DA()).exponent(e.exponent())},ga.apply(e,arguments),e}function Hge(){return DA.apply(null,arguments).exponent(.5)}function CL(e){return Math.sign(e)*e*e}function Fge(e){return Math.sign(e)*Math.sqrt(Math.abs(e))}function r9(){var e=OA(),t=[0,1],n=!1,r;function i(a){var o=Fge(e(a));return isNaN(o)?r:n?Math.round(o):o}return i.invert=function(a){return e.invert(CL(a))},i.domain=function(a){return arguments.length?(e.domain(a),i):e.domain()},i.range=function(a){return arguments.length?(e.range((t=Array.from(a,Eb)).map(CL)),i):t.slice()},i.rangeRound=function(a){return i.range(a).round(!0)},i.round=function(a){return arguments.length?(n=!!a,i):n},i.clamp=function(a){return arguments.length?(e.clamp(a),i):e.clamp()},i.unknown=function(a){return arguments.length?(r=a,i):r},i.copy=function(){return r9(e.domain(),t).round(n).clamp(e.clamp()).unknown(r)},ga.apply(i,arguments),Pl(i)}function i9(){var e=[],t=[],n=[],r;function i(){var o=0,c=Math.max(1,t.length);for(n=new Array(c-1);++o<c;)n[o-1]=Kpe(e,o/c);return a}function a(o){return o==null||isNaN(o=+o)?r:t[lp(n,o)]}return a.invertExtent=function(o){var c=t.indexOf(o);return c<0?[NaN,NaN]:[c>0?n[c-1]:e[0],c<n.length?n[c]:e[e.length-1]]},a.domain=function(o){if(!arguments.length)return e.slice();e=[];for(let c of o)c!=null&&!isNaN(c=+c)&&e.push(c);return e.sort(El),i()},a.range=function(o){return arguments.length?(t=Array.from(o),i()):t.slice()},a.unknown=function(o){return arguments.length?(r=o,a):r},a.quantiles=function(){return n.slice()},a.copy=function(){return i9().domain(e).range(t).unknown(r)},ga.apply(a,arguments)}function a9(){var e=0,t=1,n=1,r=[.5],i=[0,1],a;function o(u){return u!=null&&u<=u?i[lp(r,u,0,n)]:a}function c(){var u=-1;for(r=new Array(n);++u<n;)r[u]=((u+1)*t-(u-n)*e)/(n+1);return o}return o.domain=function(u){return arguments.length?([e,t]=u,e=+e,t=+t,c()):[e,t]},o.range=function(u){return arguments.length?(n=(i=Array.from(u)).length-1,c()):i.slice()},o.invertExtent=function(u){var f=i.indexOf(u);return f<0?[NaN,NaN]:f<1?[e,r[0]]:f>=n?[r[n-1],t]:[r[f-1],r[f]]},o.unknown=function(u){return arguments.length&&(a=u),o},o.thresholds=function(){return r.slice()},o.copy=function(){return a9().domain([e,t]).range(i).unknown(a)},ga.apply(Pl(o),arguments)}function o9(){var e=[.5],t=[0,1],n,r=1;function i(a){return a!=null&&a<=a?t[lp(e,a,0,r)]:n}return i.domain=function(a){return arguments.length?(e=Array.from(a),r=Math.min(e.length,t.length-1),i):e.slice()},i.range=function(a){return arguments.length?(t=Array.from(a),r=Math.min(e.length,t.length-1),i):t.slice()},i.invertExtent=function(a){var o=t.indexOf(a);return[e[o-1],e[o]]},i.unknown=function(a){return arguments.length?(n=a,i):n},i.copy=function(){return o9().domain(e).range(t).unknown(n)},ga.apply(i,arguments)}const mS=new Date,pS=new Date;function Yn(e,t,n,r){function i(a){return e(a=arguments.length===0?new Date:new Date(+a)),a}return i.floor=a=>(e(a=new Date(+a)),a),i.ceil=a=>(e(a=new Date(a-1)),t(a,1),e(a),a),i.round=a=>{const o=i(a),c=i.ceil(a);return a-o<c-a?o:c},i.offset=(a,o)=>(t(a=new Date(+a),o==null?1:Math.floor(o)),a),i.range=(a,o,c)=>{const u=[];if(a=i.ceil(a),c=c==null?1:Math.floor(c),!(a<o)||!(c>0))return u;let f;do u.push(f=new Date(+a)),t(a,c),e(a);while(f<a&&a<o);return u},i.filter=a=>Yn(o=>{if(o>=o)for(;e(o),!a(o);)o.setTime(o-1)},(o,c)=>{if(o>=o)if(c<0)for(;++c<=0;)for(;t(o,-1),!a(o););else for(;--c>=0;)for(;t(o,1),!a(o););}),n&&(i.count=(a,o)=>(mS.setTime(+a),pS.setTime(+o),e(mS),e(pS),Math.floor(n(mS,pS))),i.every=a=>(a=Math.floor(a),!isFinite(a)||!(a>0)?null:a>1?i.filter(r?o=>r(o)%a===0:o=>i.count(0,o)%a===0):i)),i}const Ab=Yn(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);Ab.every=e=>(e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?Yn(t=>{t.setTime(Math.floor(t/e)*e)},(t,n)=>{t.setTime(+t+n*e)},(t,n)=>(n-t)/e):Ab);Ab.range;const as=1e3,sa=as*60,os=sa*60,ps=os*24,RA=ps*7,ML=ps*30,gS=ps*365,Hc=Yn(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*as)},(e,t)=>(t-e)/as,e=>e.getUTCSeconds());Hc.range;const LA=Yn(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*as)},(e,t)=>{e.setTime(+e+t*sa)},(e,t)=>(t-e)/sa,e=>e.getMinutes());LA.range;const IA=Yn(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*sa)},(e,t)=>(t-e)/sa,e=>e.getUTCMinutes());IA.range;const $A=Yn(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*as-e.getMinutes()*sa)},(e,t)=>{e.setTime(+e+t*os)},(e,t)=>(t-e)/os,e=>e.getHours());$A.range;const BA=Yn(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*os)},(e,t)=>(t-e)/os,e=>e.getUTCHours());BA.range;const dp=Yn(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*sa)/ps,e=>e.getDate()-1);dp.range;const Wv=Yn(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/ps,e=>e.getUTCDate()-1);Wv.range;const s9=Yn(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/ps,e=>Math.floor(e/ps));s9.range;function su(e){return Yn(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(t,n)=>{t.setDate(t.getDate()+n*7)},(t,n)=>(n-t-(n.getTimezoneOffset()-t.getTimezoneOffset())*sa)/RA)}const Vv=su(0),Tb=su(1),Gge=su(2),qge=su(3),Yd=su(4),Yge=su(5),Kge=su(6);Vv.range;Tb.range;Gge.range;qge.range;Yd.range;Yge.range;Kge.range;function lu(e){return Yn(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(t,n)=>{t.setUTCDate(t.getUTCDate()+n*7)},(t,n)=>(n-t)/RA)}const Zv=lu(0),Ob=lu(1),Wge=lu(2),Vge=lu(3),Kd=lu(4),Zge=lu(5),Xge=lu(6);Zv.range;Ob.range;Wge.range;Vge.range;Kd.range;Zge.range;Xge.range;const zA=Yn(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+(t.getFullYear()-e.getFullYear())*12,e=>e.getMonth());zA.range;const UA=Yn(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+(t.getUTCFullYear()-e.getUTCFullYear())*12,e=>e.getUTCMonth());UA.range;const gs=Yn(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear());gs.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:Yn(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,n)=>{t.setFullYear(t.getFullYear()+n*e)});gs.range;const ys=Yn(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());ys.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:Yn(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,n)=>{t.setUTCFullYear(t.getUTCFullYear()+n*e)});ys.range;function l9(e,t,n,r,i,a){const o=[[Hc,1,as],[Hc,5,5*as],[Hc,15,15*as],[Hc,30,30*as],[a,1,sa],[a,5,5*sa],[a,15,15*sa],[a,30,30*sa],[i,1,os],[i,3,3*os],[i,6,6*os],[i,12,12*os],[r,1,ps],[r,2,2*ps],[n,1,RA],[t,1,ML],[t,3,3*ML],[e,1,gS]];function c(f,m,p){const g=m<f;g&&([f,m]=[m,f]);const v=p&&typeof p.range=="function"?p:u(f,m,p),_=v?v.range(f,+m+1):[];return g?_.reverse():_}function u(f,m,p){const g=Math.abs(m-f)/p,v=wA(([,,E])=>E).right(o,g);if(v===o.length)return e.every(fk(f/gS,m/gS,p));if(v===0)return Ab.every(Math.max(fk(f,m,p),1));const[_,w]=o[g/o[v-1][2]<o[v][2]/g?v-1:v];return _.every(w)}return[c,u]}const[Jge,Qge]=l9(ys,UA,Zv,s9,BA,IA),[e0e,t0e]=l9(gs,zA,Vv,dp,$A,LA);function yS(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function bS(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function Uh(e,t,n){return{y:e,m:t,d:n,H:0,M:0,S:0,L:0}}function n0e(e){var t=e.dateTime,n=e.date,r=e.time,i=e.periods,a=e.days,o=e.shortDays,c=e.months,u=e.shortMonths,f=Hh(i),m=Fh(i),p=Hh(a),g=Fh(a),v=Hh(o),_=Fh(o),w=Hh(c),E=Fh(c),T=Hh(u),N=Fh(u),O={a:Z,A:re,b:ue,B:se,c:null,d:$L,e:$L,f:k0e,g:R0e,G:I0e,H:w0e,I:S0e,j:E0e,L:c9,m:A0e,M:T0e,p:B,q:W,Q:UL,s:HL,S:O0e,u:j0e,U:N0e,V:C0e,w:M0e,W:P0e,x:null,X:null,y:D0e,Y:L0e,Z:$0e,"%":zL},P={a:ae,A:V,b:oe,B:me,c:null,d:BL,e:BL,f:H0e,g:J0e,G:eye,H:B0e,I:z0e,j:U0e,L:d9,m:F0e,M:G0e,p:pe,q:be,Q:UL,s:HL,S:q0e,u:Y0e,U:K0e,V:W0e,w:V0e,W:Z0e,x:null,X:null,y:X0e,Y:Q0e,Z:tye,"%":zL},C={a:K,A:F,b:z,B:X,c:Q,d:LL,e:LL,f:b0e,g:RL,G:DL,H:IL,I:IL,j:m0e,L:y0e,m:h0e,M:p0e,p:Y,q:f0e,Q:x0e,s:_0e,S:g0e,u:s0e,U:l0e,V:c0e,w:o0e,W:u0e,x:J,X:q,y:RL,Y:DL,Z:d0e,"%":v0e};O.x=D(n,O),O.X=D(r,O),O.c=D(t,O),P.x=D(n,P),P.X=D(r,P),P.c=D(t,P);function D(ne,Oe){return function(Ce){var ve=[],Ze=-1,Ne=0,_e=ne.length,je,Le,Ve;for(Ce instanceof Date||(Ce=new Date(+Ce));++Ze<_e;)ne.charCodeAt(Ze)===37&&(ve.push(ne.slice(Ne,Ze)),(Le=PL[je=ne.charAt(++Ze)])!=null?je=ne.charAt(++Ze):Le=je==="e"?" ":"0",(Ve=Oe[je])&&(je=Ve(Ce,Le)),ve.push(je),Ne=Ze+1);return ve.push(ne.slice(Ne,Ze)),ve.join("")}}function $(ne,Oe){return function(Ce){var ve=Uh(1900,void 0,1),Ze=H(ve,ne,Ce+="",0),Ne,_e;if(Ze!=Ce.length)return null;if("Q"in ve)return new Date(ve.Q);if("s"in ve)return new Date(ve.s*1e3+("L"in ve?ve.L:0));if(Oe&&!("Z"in ve)&&(ve.Z=0),"p"in ve&&(ve.H=ve.H%12+ve.p*12),ve.m===void 0&&(ve.m="q"in ve?ve.q:0),"V"in ve){if(ve.V<1||ve.V>53)return null;"w"in ve||(ve.w=1),"Z"in ve?(Ne=bS(Uh(ve.y,0,1)),_e=Ne.getUTCDay(),Ne=_e>4||_e===0?Ob.ceil(Ne):Ob(Ne),Ne=Wv.offset(Ne,(ve.V-1)*7),ve.y=Ne.getUTCFullYear(),ve.m=Ne.getUTCMonth(),ve.d=Ne.getUTCDate()+(ve.w+6)%7):(Ne=yS(Uh(ve.y,0,1)),_e=Ne.getDay(),Ne=_e>4||_e===0?Tb.ceil(Ne):Tb(Ne),Ne=dp.offset(Ne,(ve.V-1)*7),ve.y=Ne.getFullYear(),ve.m=Ne.getMonth(),ve.d=Ne.getDate()+(ve.w+6)%7)}else("W"in ve||"U"in ve)&&("w"in ve||(ve.w="u"in ve?ve.u%7:"W"in ve?1:0),_e="Z"in ve?bS(Uh(ve.y,0,1)).getUTCDay():yS(Uh(ve.y,0,1)).getDay(),ve.m=0,ve.d="W"in ve?(ve.w+6)%7+ve.W*7-(_e+5)%7:ve.w+ve.U*7-(_e+6)%7);return"Z"in ve?(ve.H+=ve.Z/100|0,ve.M+=ve.Z%100,bS(ve)):yS(ve)}}function H(ne,Oe,Ce,ve){for(var Ze=0,Ne=Oe.length,_e=Ce.length,je,Le;Ze<Ne;){if(ve>=_e)return-1;if(je=Oe.charCodeAt(Ze++),je===37){if(je=Oe.charAt(Ze++),Le=C[je in PL?Oe.charAt(Ze++):je],!Le||(ve=Le(ne,Ce,ve))<0)return-1}else if(je!=Ce.charCodeAt(ve++))return-1}return ve}function Y(ne,Oe,Ce){var ve=f.exec(Oe.slice(Ce));return ve?(ne.p=m.get(ve[0].toLowerCase()),Ce+ve[0].length):-1}function K(ne,Oe,Ce){var ve=v.exec(Oe.slice(Ce));return ve?(ne.w=_.get(ve[0].toLowerCase()),Ce+ve[0].length):-1}function F(ne,Oe,Ce){var ve=p.exec(Oe.slice(Ce));return ve?(ne.w=g.get(ve[0].toLowerCase()),Ce+ve[0].length):-1}function z(ne,Oe,Ce){var ve=T.exec(Oe.slice(Ce));return ve?(ne.m=N.get(ve[0].toLowerCase()),Ce+ve[0].length):-1}function X(ne,Oe,Ce){var ve=w.exec(Oe.slice(Ce));return ve?(ne.m=E.get(ve[0].toLowerCase()),Ce+ve[0].length):-1}function Q(ne,Oe,Ce){return H(ne,t,Oe,Ce)}function J(ne,Oe,Ce){return H(ne,n,Oe,Ce)}function q(ne,Oe,Ce){return H(ne,r,Oe,Ce)}function Z(ne){return o[ne.getDay()]}function re(ne){return a[ne.getDay()]}function ue(ne){return u[ne.getMonth()]}function se(ne){return c[ne.getMonth()]}function B(ne){return i[+(ne.getHours()>=12)]}function W(ne){return 1+~~(ne.getMonth()/3)}function ae(ne){return o[ne.getUTCDay()]}function V(ne){return a[ne.getUTCDay()]}function oe(ne){return u[ne.getUTCMonth()]}function me(ne){return c[ne.getUTCMonth()]}function pe(ne){return i[+(ne.getUTCHours()>=12)]}function be(ne){return 1+~~(ne.getUTCMonth()/3)}return{format:function(ne){var Oe=D(ne+="",O);return Oe.toString=function(){return ne},Oe},parse:function(ne){var Oe=$(ne+="",!1);return Oe.toString=function(){return ne},Oe},utcFormat:function(ne){var Oe=D(ne+="",P);return Oe.toString=function(){return ne},Oe},utcParse:function(ne){var Oe=$(ne+="",!0);return Oe.toString=function(){return ne},Oe}}}var PL={"-":"",_:" ",0:"0"},lr=/^\s*\d+/,r0e=/^%/,i0e=/[\\^$*+?|[\]().{}]/g;function At(e,t,n){var r=e<0?"-":"",i=(r?-e:e)+"",a=i.length;return r+(a<n?new Array(n-a+1).join(t)+i:i)}function a0e(e){return e.replace(i0e,"\\$&")}function Hh(e){return new RegExp("^(?:"+e.map(a0e).join("|")+")","i")}function Fh(e){return new Map(e.map((t,n)=>[t.toLowerCase(),n]))}function o0e(e,t,n){var r=lr.exec(t.slice(n,n+1));return r?(e.w=+r[0],n+r[0].length):-1}function s0e(e,t,n){var r=lr.exec(t.slice(n,n+1));return r?(e.u=+r[0],n+r[0].length):-1}function l0e(e,t,n){var r=lr.exec(t.slice(n,n+2));return r?(e.U=+r[0],n+r[0].length):-1}function c0e(e,t,n){var r=lr.exec(t.slice(n,n+2));return r?(e.V=+r[0],n+r[0].length):-1}function u0e(e,t,n){var r=lr.exec(t.slice(n,n+2));return r?(e.W=+r[0],n+r[0].length):-1}function DL(e,t,n){var r=lr.exec(t.slice(n,n+4));return r?(e.y=+r[0],n+r[0].length):-1}function RL(e,t,n){var r=lr.exec(t.slice(n,n+2));return r?(e.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function d0e(e,t,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(n,n+6));return r?(e.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function f0e(e,t,n){var r=lr.exec(t.slice(n,n+1));return r?(e.q=r[0]*3-3,n+r[0].length):-1}function h0e(e,t,n){var r=lr.exec(t.slice(n,n+2));return r?(e.m=r[0]-1,n+r[0].length):-1}function LL(e,t,n){var r=lr.exec(t.slice(n,n+2));return r?(e.d=+r[0],n+r[0].length):-1}function m0e(e,t,n){var r=lr.exec(t.slice(n,n+3));return r?(e.m=0,e.d=+r[0],n+r[0].length):-1}function IL(e,t,n){var r=lr.exec(t.slice(n,n+2));return r?(e.H=+r[0],n+r[0].length):-1}function p0e(e,t,n){var r=lr.exec(t.slice(n,n+2));return r?(e.M=+r[0],n+r[0].length):-1}function g0e(e,t,n){var r=lr.exec(t.slice(n,n+2));return r?(e.S=+r[0],n+r[0].length):-1}function y0e(e,t,n){var r=lr.exec(t.slice(n,n+3));return r?(e.L=+r[0],n+r[0].length):-1}function b0e(e,t,n){var r=lr.exec(t.slice(n,n+6));return r?(e.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function v0e(e,t,n){var r=r0e.exec(t.slice(n,n+1));return r?n+r[0].length:-1}function x0e(e,t,n){var r=lr.exec(t.slice(n));return r?(e.Q=+r[0],n+r[0].length):-1}function _0e(e,t,n){var r=lr.exec(t.slice(n));return r?(e.s=+r[0],n+r[0].length):-1}function $L(e,t){return At(e.getDate(),t,2)}function w0e(e,t){return At(e.getHours(),t,2)}function S0e(e,t){return At(e.getHours()%12||12,t,2)}function E0e(e,t){return At(1+dp.count(gs(e),e),t,3)}function c9(e,t){return At(e.getMilliseconds(),t,3)}function k0e(e,t){return c9(e,t)+"000"}function A0e(e,t){return At(e.getMonth()+1,t,2)}function T0e(e,t){return At(e.getMinutes(),t,2)}function O0e(e,t){return At(e.getSeconds(),t,2)}function j0e(e){var t=e.getDay();return t===0?7:t}function N0e(e,t){return At(Vv.count(gs(e)-1,e),t,2)}function u9(e){var t=e.getDay();return t>=4||t===0?Yd(e):Yd.ceil(e)}function C0e(e,t){return e=u9(e),At(Yd.count(gs(e),e)+(gs(e).getDay()===4),t,2)}function M0e(e){return e.getDay()}function P0e(e,t){return At(Tb.count(gs(e)-1,e),t,2)}function D0e(e,t){return At(e.getFullYear()%100,t,2)}function R0e(e,t){return e=u9(e),At(e.getFullYear()%100,t,2)}function L0e(e,t){return At(e.getFullYear()%1e4,t,4)}function I0e(e,t){var n=e.getDay();return e=n>=4||n===0?Yd(e):Yd.ceil(e),At(e.getFullYear()%1e4,t,4)}function $0e(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+At(t/60|0,"0",2)+At(t%60,"0",2)}function BL(e,t){return At(e.getUTCDate(),t,2)}function B0e(e,t){return At(e.getUTCHours(),t,2)}function z0e(e,t){return At(e.getUTCHours()%12||12,t,2)}function U0e(e,t){return At(1+Wv.count(ys(e),e),t,3)}function d9(e,t){return At(e.getUTCMilliseconds(),t,3)}function H0e(e,t){return d9(e,t)+"000"}function F0e(e,t){return At(e.getUTCMonth()+1,t,2)}function G0e(e,t){return At(e.getUTCMinutes(),t,2)}function q0e(e,t){return At(e.getUTCSeconds(),t,2)}function Y0e(e){var t=e.getUTCDay();return t===0?7:t}function K0e(e,t){return At(Zv.count(ys(e)-1,e),t,2)}function f9(e){var t=e.getUTCDay();return t>=4||t===0?Kd(e):Kd.ceil(e)}function W0e(e,t){return e=f9(e),At(Kd.count(ys(e),e)+(ys(e).getUTCDay()===4),t,2)}function V0e(e){return e.getUTCDay()}function Z0e(e,t){return At(Ob.count(ys(e)-1,e),t,2)}function X0e(e,t){return At(e.getUTCFullYear()%100,t,2)}function J0e(e,t){return e=f9(e),At(e.getUTCFullYear()%100,t,2)}function Q0e(e,t){return At(e.getUTCFullYear()%1e4,t,4)}function eye(e,t){var n=e.getUTCDay();return e=n>=4||n===0?Kd(e):Kd.ceil(e),At(e.getUTCFullYear()%1e4,t,4)}function tye(){return"+0000"}function zL(){return"%"}function UL(e){return+e}function HL(e){return Math.floor(+e/1e3)}var ad,h9,m9;nye({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function nye(e){return ad=n0e(e),h9=ad.format,ad.parse,m9=ad.utcFormat,ad.utcParse,ad}function rye(e){return new Date(e)}function iye(e){return e instanceof Date?+e:+new Date(+e)}function HA(e,t,n,r,i,a,o,c,u,f){var m=OA(),p=m.invert,g=m.domain,v=f(".%L"),_=f(":%S"),w=f("%I:%M"),E=f("%I %p"),T=f("%a %d"),N=f("%b %d"),O=f("%B"),P=f("%Y");function C(D){return(u(D)<D?v:c(D)<D?_:o(D)<D?w:a(D)<D?E:r(D)<D?i(D)<D?T:N:n(D)<D?O:P)(D)}return m.invert=function(D){return new Date(p(D))},m.domain=function(D){return arguments.length?g(Array.from(D,iye)):g().map(rye)},m.ticks=function(D){var $=g();return e($[0],$[$.length-1],D??10)},m.tickFormat=function(D,$){return $==null?C:f($)},m.nice=function(D){var $=g();return(!D||typeof D.range!="function")&&(D=t($[0],$[$.length-1],D??10)),D?g(e9($,D)):m},m.copy=function(){return up(m,HA(e,t,n,r,i,a,o,c,u,f))},m}function aye(){return ga.apply(HA(e0e,t0e,gs,zA,Vv,dp,$A,LA,Hc,h9).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function oye(){return ga.apply(HA(Jge,Qge,ys,UA,Zv,Wv,BA,IA,Hc,m9).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function Xv(){var e=0,t=1,n,r,i,a,o=Lr,c=!1,u;function f(p){return p==null||isNaN(p=+p)?u:o(i===0?.5:(p=(a(p)-n)*i,c?Math.max(0,Math.min(1,p)):p))}f.domain=function(p){return arguments.length?([e,t]=p,n=a(e=+e),r=a(t=+t),i=n===r?0:1/(r-n),f):[e,t]},f.clamp=function(p){return arguments.length?(c=!!p,f):c},f.interpolator=function(p){return arguments.length?(o=p,f):o};function m(p){return function(g){var v,_;return arguments.length?([v,_]=g,o=p(v,_),f):[o(0),o(1)]}}return f.range=m(lf),f.rangeRound=m(TA),f.unknown=function(p){return arguments.length?(u=p,f):u},function(p){return a=p,n=p(e),r=p(t),i=n===r?0:1/(r-n),f}}function Dl(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function p9(){var e=Pl(Xv()(Lr));return e.copy=function(){return Dl(e,p9())},ks.apply(e,arguments)}function g9(){var e=CA(Xv()).domain([1,10]);return e.copy=function(){return Dl(e,g9()).base(e.base())},ks.apply(e,arguments)}function y9(){var e=MA(Xv());return e.copy=function(){return Dl(e,y9()).constant(e.constant())},ks.apply(e,arguments)}function FA(){var e=PA(Xv());return e.copy=function(){return Dl(e,FA()).exponent(e.exponent())},ks.apply(e,arguments)}function sye(){return FA.apply(null,arguments).exponent(.5)}function b9(){var e=[],t=Lr;function n(r){if(r!=null&&!isNaN(r=+r))return t((lp(e,r,1)-1)/(e.length-1))}return n.domain=function(r){if(!arguments.length)return e.slice();e=[];for(let i of r)i!=null&&!isNaN(i=+i)&&e.push(i);return e.sort(El),n},n.interpolator=function(r){return arguments.length?(t=r,n):t},n.range=function(){return e.map((r,i)=>t(i/(e.length-1)))},n.quantiles=function(r){return Array.from({length:r+1},(i,a)=>Ype(e,a/r))},n.copy=function(){return b9(t).domain(e)},ks.apply(n,arguments)}function Jv(){var e=0,t=.5,n=1,r=1,i,a,o,c,u,f=Lr,m,p=!1,g;function v(w){return isNaN(w=+w)?g:(w=.5+((w=+m(w))-a)*(r*w<r*a?c:u),f(p?Math.max(0,Math.min(1,w)):w))}v.domain=function(w){return arguments.length?([e,t,n]=w,i=m(e=+e),a=m(t=+t),o=m(n=+n),c=i===a?0:.5/(a-i),u=a===o?0:.5/(o-a),r=a<i?-1:1,v):[e,t,n]},v.clamp=function(w){return arguments.length?(p=!!w,v):p},v.interpolator=function(w){return arguments.length?(f=w,v):f};function _(w){return function(E){var T,N,O;return arguments.length?([T,N,O]=E,f=vge(w,[T,N,O]),v):[f(0),f(.5),f(1)]}}return v.range=_(lf),v.rangeRound=_(TA),v.unknown=function(w){return arguments.length?(g=w,v):g},function(w){return m=w,i=w(e),a=w(t),o=w(n),c=i===a?0:.5/(a-i),u=a===o?0:.5/(o-a),r=a<i?-1:1,v}}function v9(){var e=Pl(Jv()(Lr));return e.copy=function(){return Dl(e,v9())},ks.apply(e,arguments)}function x9(){var e=CA(Jv()).domain([.1,1,10]);return e.copy=function(){return Dl(e,x9()).base(e.base())},ks.apply(e,arguments)}function _9(){var e=MA(Jv());return e.copy=function(){return Dl(e,_9()).constant(e.constant())},ks.apply(e,arguments)}function GA(){var e=PA(Jv());return e.copy=function(){return Dl(e,GA()).exponent(e.exponent())},ks.apply(e,arguments)}function lye(){return GA.apply(null,arguments).exponent(.5)}const Wh=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:EA,scaleDiverging:v9,scaleDivergingLog:x9,scaleDivergingPow:GA,scaleDivergingSqrt:lye,scaleDivergingSymlog:_9,scaleIdentity:Q6,scaleImplicit:hk,scaleLinear:J6,scaleLog:t9,scaleOrdinal:SA,scalePoint:Vpe,scalePow:DA,scaleQuantile:i9,scaleQuantize:a9,scaleRadial:r9,scaleSequential:p9,scaleSequentialLog:g9,scaleSequentialPow:FA,scaleSequentialQuantile:b9,scaleSequentialSqrt:sye,scaleSequentialSymlog:y9,scaleSqrt:Hge,scaleSymlog:n9,scaleThreshold:o9,scaleTime:aye,scaleUtc:oye,tickFormat:X6},Symbol.toStringTag,{value:"Module"}));var Rl=e=>e.chartData,cye=we([Rl],e=>{var t=e.chartData!=null?e.chartData.length-1:0;return{chartData:e.chartData,computedData:e.computedData,dataEndIndex:t,dataStartIndex:0}}),qA=(e,t,n,r)=>r?cye(e):Rl(e);function Nl(e){if(Array.isArray(e)&&e.length===2){var[t,n]=e;if(_n(t)&&_n(n))return!0}return!1}function FL(e,t,n){return n?e:[Math.min(e[0],t[0]),Math.max(e[1],t[1])]}function w9(e,t){if(t&&typeof e!="function"&&Array.isArray(e)&&e.length===2){var[n,r]=e,i,a;if(_n(n))i=n;else if(typeof n=="function")return;if(_n(r))a=r;else if(typeof r=="function")return;var o=[i,a];if(Nl(o))return o}}function uye(e,t,n){if(!(!n&&t==null)){if(typeof e=="function"&&t!=null)try{var r=e(t,n);if(Nl(r))return FL(r,t,n)}catch{}if(Array.isArray(e)&&e.length===2){var[i,a]=e,o,c;if(i==="auto")t!=null&&(o=Math.min(...t));else if(We(i))o=i;else if(typeof i=="function")try{t!=null&&(o=i(t?.[0]))}catch{}else if(typeof i=="string"&&vR.test(i)){var u=vR.exec(i);if(u==null||t==null)o=void 0;else{var f=+u[1];o=t[0]-f}}else o=t?.[0];if(a==="auto")t!=null&&(c=Math.max(...t));else if(We(a))c=a;else if(typeof a=="function")try{t!=null&&(c=a(t?.[1]))}catch{}else if(typeof a=="string"&&xR.test(a)){var m=xR.exec(a);if(m==null||t==null)c=void 0;else{var p=+m[1];c=t[1]+p}}else c=t?.[1];var g=[o,c];if(Nl(g))return t==null?g:FL(g,t,n)}}}var cf=1e9,dye={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},KA,on=!0,ma="[DecimalError] ",Kc=ma+"Invalid argument: ",YA=ma+"Exponent out of range: ",uf=Math.floor,Lc=Math.pow,fye=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,Ci,ir=1e7,Jt=7,S9=9007199254740991,jb=uf(S9/Jt),$e={};$e.absoluteValue=$e.abs=function(){var e=new this.constructor(this);return e.s&&(e.s=1),e};$e.comparedTo=$e.cmp=function(e){var t,n,r,i,a=this;if(e=new a.constructor(e),a.s!==e.s)return a.s||-e.s;if(a.e!==e.e)return a.e>e.e^a.s<0?1:-1;for(r=a.d.length,i=e.d.length,t=0,n=r<i?r:i;t<n;++t)if(a.d[t]!==e.d[t])return a.d[t]>e.d[t]^a.s<0?1:-1;return r===i?0:r>i^a.s<0?1:-1};$e.decimalPlaces=$e.dp=function(){var e=this,t=e.d.length-1,n=(t-e.e)*Jt;if(t=e.d[t],t)for(;t%10==0;t/=10)n--;return n<0?0:n};$e.dividedBy=$e.div=function(e){return ls(this,new this.constructor(e))};$e.dividedToIntegerBy=$e.idiv=function(e){var t=this,n=t.constructor;return Gt(ls(t,new n(e),0,1),n.precision)};$e.equals=$e.eq=function(e){return!this.cmp(e)};$e.exponent=function(){return Ln(this)};$e.greaterThan=$e.gt=function(e){return this.cmp(e)>0};$e.greaterThanOrEqualTo=$e.gte=function(e){return this.cmp(e)>=0};$e.isInteger=$e.isint=function(){return this.e>this.d.length-2};$e.isNegative=$e.isneg=function(){return this.s<0};$e.isPositive=$e.ispos=function(){return this.s>0};$e.isZero=function(){return this.s===0};$e.lessThan=$e.lt=function(e){return this.cmp(e)<0};$e.lessThanOrEqualTo=$e.lte=function(e){return this.cmp(e)<1};$e.logarithm=$e.log=function(e){var t,n=this,r=n.constructor,i=r.precision,a=i+5;if(e===void 0)e=new r(10);else if(e=new r(e),e.s<1||e.eq(Ci))throw Error(ma+"NaN");if(n.s<1)throw Error(ma+(n.s?"NaN":"-Infinity"));return n.eq(Ci)?new r(0):(on=!1,t=ls(Pm(n,a),Pm(e,a),a),on=!0,Gt(t,i))};$e.minus=$e.sub=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?A9(t,e):E9(t,(e.s=-e.s,e))};$e.modulo=$e.mod=function(e){var t,n=this,r=n.constructor,i=r.precision;if(e=new r(e),!e.s)throw Error(ma+"NaN");return n.s?(on=!1,t=ls(n,e,0,1).times(e),on=!0,n.minus(t)):Gt(new r(n),i)};$e.naturalExponential=$e.exp=function(){return k9(this)};$e.naturalLogarithm=$e.ln=function(){return Pm(this)};$e.negated=$e.neg=function(){var e=new this.constructor(this);return e.s=-e.s||0,e};$e.plus=$e.add=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?E9(t,e):A9(t,(e.s=-e.s,e))};$e.precision=$e.sd=function(e){var t,n,r,i=this;if(e!==void 0&&e!==!!e&&e!==1&&e!==0)throw Error(Kc+e);if(t=Ln(i)+1,r=i.d.length-1,n=r*Jt+1,r=i.d[r],r){for(;r%10==0;r/=10)n--;for(r=i.d[0];r>=10;r/=10)n++}return e&&t>n?t:n};$e.squareRoot=$e.sqrt=function(){var e,t,n,r,i,a,o,c=this,u=c.constructor;if(c.s<1){if(!c.s)return new u(0);throw Error(ma+"NaN")}for(e=Ln(c),on=!1,i=Math.sqrt(+c),i==0||i==1/0?(t=yo(c.d),(t.length+e)%2==0&&(t+="0"),i=Math.sqrt(t),e=uf((e+1)/2)-(e<0||e%2),i==1/0?t="5e"+e:(t=i.toExponential(),t=t.slice(0,t.indexOf("e")+1)+e),r=new u(t)):r=new u(i.toString()),n=u.precision,i=o=n+3;;)if(a=r,r=a.plus(ls(c,a,o+2)).times(.5),yo(a.d).slice(0,o)===(t=yo(r.d)).slice(0,o)){if(t=t.slice(o-3,o+1),i==o&&t=="4999"){if(Gt(a,n+1,0),a.times(a).eq(c)){r=a;break}}else if(t!="9999")break;o+=4}return on=!0,Gt(r,n)};$e.times=$e.mul=function(e){var t,n,r,i,a,o,c,u,f,m=this,p=m.constructor,g=m.d,v=(e=new p(e)).d;if(!m.s||!e.s)return new p(0);for(e.s*=m.s,n=m.e+e.e,u=g.length,f=v.length,u<f&&(a=g,g=v,v=a,o=u,u=f,f=o),a=[],o=u+f,r=o;r--;)a.push(0);for(r=f;--r>=0;){for(t=0,i=u+r;i>r;)c=a[i]+v[r]*g[i-r-1]+t,a[i--]=c%ir|0,t=c/ir|0;a[i]=(a[i]+t)%ir|0}for(;!a[--o];)a.pop();return t?++n:a.shift(),e.d=a,e.e=n,on?Gt(e,p.precision):e};$e.toDecimalPlaces=$e.todp=function(e,t){var n=this,r=n.constructor;return n=new r(n),e===void 0?n:(Eo(e,0,cf),t===void 0?t=r.rounding:Eo(t,0,8),Gt(n,e+Ln(n)+1,t))};$e.toExponential=function(e,t){var n,r=this,i=r.constructor;return e===void 0?n=eu(r,!0):(Eo(e,0,cf),t===void 0?t=i.rounding:Eo(t,0,8),r=Gt(new i(r),e+1,t),n=eu(r,!0,e+1)),n};$e.toFixed=function(e,t){var n,r,i=this,a=i.constructor;return e===void 0?eu(i):(Eo(e,0,cf),t===void 0?t=a.rounding:Eo(t,0,8),r=Gt(new a(i),e+Ln(i)+1,t),n=eu(r.abs(),!1,e+Ln(r)+1),i.isneg()&&!i.isZero()?"-"+n:n)};$e.toInteger=$e.toint=function(){var e=this,t=e.constructor;return Gt(new t(e),Ln(e)+1,t.rounding)};$e.toNumber=function(){return+this};$e.toPower=$e.pow=function(e){var t,n,r,i,a,o,c=this,u=c.constructor,f=12,m=+(e=new u(e));if(!e.s)return new u(Ci);if(c=new u(c),!c.s){if(e.s<1)throw Error(ma+"Infinity");return c}if(c.eq(Ci))return c;if(r=u.precision,e.eq(Ci))return Gt(c,r);if(t=e.e,n=e.d.length-1,o=t>=n,a=c.s,o){if((n=m<0?-m:m)<=S9){for(i=new u(Ci),t=Math.ceil(r/Jt+4),on=!1;n%2&&(i=i.times(c),qL(i.d,t)),n=uf(n/2),n!==0;)c=c.times(c),qL(c.d,t);return on=!0,e.s<0?new u(Ci).div(i):Gt(i,r)}}else if(a<0)throw Error(ma+"NaN");return a=a<0&&e.d[Math.max(t,n)]&1?-1:1,c.s=1,on=!1,i=e.times(Pm(c,r+f)),on=!0,i=k9(i),i.s=a,i};$e.toPrecision=function(e,t){var n,r,i=this,a=i.constructor;return e===void 0?(n=Ln(i),r=eu(i,n<=a.toExpNeg||n>=a.toExpPos)):(Eo(e,1,cf),t===void 0?t=a.rounding:Eo(t,0,8),i=Gt(new a(i),e,t),n=Ln(i),r=eu(i,e<=n||n<=a.toExpNeg,e)),r};$e.toSignificantDigits=$e.tosd=function(e,t){var n=this,r=n.constructor;return e===void 0?(e=r.precision,t=r.rounding):(Eo(e,1,cf),t===void 0?t=r.rounding:Eo(t,0,8)),Gt(new r(n),e,t)};$e.toString=$e.valueOf=$e.val=$e.toJSON=$e[Symbol.for("nodejs.util.inspect.custom")]=function(){var e=this,t=Ln(e),n=e.constructor;return eu(e,t<=n.toExpNeg||t>=n.toExpPos)};function E9(e,t){var n,r,i,a,o,c,u,f,m=e.constructor,p=m.precision;if(!e.s||!t.s)return t.s||(t=new m(e)),on?Gt(t,p):t;if(u=e.d,f=t.d,o=e.e,i=t.e,u=u.slice(),a=o-i,a){for(a<0?(r=u,a=-a,c=f.length):(r=f,i=o,c=u.length),o=Math.ceil(p/Jt),c=o>c?o+1:c+1,a>c&&(a=c,r.length=1),r.reverse();a--;)r.push(0);r.reverse()}for(c=u.length,a=f.length,c-a<0&&(a=c,r=f,f=u,u=r),n=0;a;)n=(u[--a]=u[a]+f[a]+n)/ir|0,u[a]%=ir;for(n&&(u.unshift(n),++i),c=u.length;u[--c]==0;)u.pop();return t.d=u,t.e=i,on?Gt(t,p):t}function Eo(e,t,n){if(e!==~~e||e<t||e>n)throw Error(Kc+e)}function yo(e){var t,n,r,i=e.length-1,a="",o=e[0];if(i>0){for(a+=o,t=1;t<i;t++)r=e[t]+"",n=Jt-r.length,n&&(a+=pl(n)),a+=r;o=e[t],r=o+"",n=Jt-r.length,n&&(a+=pl(n))}else if(o===0)return"0";for(;o%10===0;)o/=10;return a+o}var ls=(function(){function e(r,i){var a,o=0,c=r.length;for(r=r.slice();c--;)a=r[c]*i+o,r[c]=a%ir|0,o=a/ir|0;return o&&r.unshift(o),r}function t(r,i,a,o){var c,u;if(a!=o)u=a>o?1:-1;else for(c=u=0;c<a;c++)if(r[c]!=i[c]){u=r[c]>i[c]?1:-1;break}return u}function n(r,i,a){for(var o=0;a--;)r[a]-=o,o=r[a]<i[a]?1:0,r[a]=o*ir+r[a]-i[a];for(;!r[0]&&r.length>1;)r.shift()}return function(r,i,a,o){var c,u,f,m,p,g,v,_,w,E,T,N,O,P,C,D,$,H,Y=r.constructor,K=r.s==i.s?1:-1,F=r.d,z=i.d;if(!r.s)return new Y(r);if(!i.s)throw Error(ma+"Division by zero");for(u=r.e-i.e,$=z.length,C=F.length,v=new Y(K),_=v.d=[],f=0;z[f]==(F[f]||0);)++f;if(z[f]>(F[f]||0)&&--u,a==null?N=a=Y.precision:o?N=a+(Ln(r)-Ln(i))+1:N=a,N<0)return new Y(0);if(N=N/Jt+2|0,f=0,$==1)for(m=0,z=z[0],N++;(f<C||m)&&N--;f++)O=m*ir+(F[f]||0),_[f]=O/z|0,m=O%z|0;else{for(m=ir/(z[0]+1)|0,m>1&&(z=e(z,m),F=e(F,m),$=z.length,C=F.length),P=$,w=F.slice(0,$),E=w.length;E<$;)w[E++]=0;H=z.slice(),H.unshift(0),D=z[0],z[1]>=ir/2&&++D;do m=0,c=t(z,w,$,E),c<0?(T=w[0],$!=E&&(T=T*ir+(w[1]||0)),m=T/D|0,m>1?(m>=ir&&(m=ir-1),p=e(z,m),g=p.length,E=w.length,c=t(p,w,g,E),c==1&&(m--,n(p,$<g?H:z,g))):(m==0&&(c=m=1),p=z.slice()),g=p.length,g<E&&p.unshift(0),n(w,p,E),c==-1&&(E=w.length,c=t(z,w,$,E),c<1&&(m++,n(w,$<E?H:z,E))),E=w.length):c===0&&(m++,w=[0]),_[f++]=m,c&&w[0]?w[E++]=F[P]||0:(w=[F[P]],E=1);while((P++<C||w[0]!==void 0)&&N--)}return _[0]||_.shift(),v.e=u,Gt(v,o?a+Ln(v)+1:a)}})();function k9(e,t){var n,r,i,a,o,c,u=0,f=0,m=e.constructor,p=m.precision;if(Ln(e)>16)throw Error(YA+Ln(e));if(!e.s)return new m(Ci);for(on=!1,c=p,o=new m(.03125);e.abs().gte(.1);)e=e.times(o),f+=5;for(r=Math.log(Lc(2,f))/Math.LN10*2+5|0,c+=r,n=i=a=new m(Ci),m.precision=c;;){if(i=Gt(i.times(e),c),n=n.times(++u),o=a.plus(ls(i,n,c)),yo(o.d).slice(0,c)===yo(a.d).slice(0,c)){for(;f--;)a=Gt(a.times(a),c);return m.precision=p,t==null?(on=!0,Gt(a,p)):a}a=o}}function Ln(e){for(var t=e.e*Jt,n=e.d[0];n>=10;n/=10)t++;return t}function vS(e,t,n){if(t>e.LN10.sd())throw on=!0,n&&(e.precision=n),Error(ma+"LN10 precision limit exceeded");return Gt(new e(e.LN10),t)}function pl(e){for(var t="";e--;)t+="0";return t}function Pm(e,t){var n,r,i,a,o,c,u,f,m,p=1,g=10,v=e,_=v.d,w=v.constructor,E=w.precision;if(v.s<1)throw Error(ma+(v.s?"NaN":"-Infinity"));if(v.eq(Ci))return new w(0);if(t==null?(on=!1,f=E):f=t,v.eq(10))return t==null&&(on=!0),vS(w,f);if(f+=g,w.precision=f,n=yo(_),r=n.charAt(0),a=Ln(v),Math.abs(a)<15e14){for(;r<7&&r!=1||r==1&&n.charAt(1)>3;)v=v.times(e),n=yo(v.d),r=n.charAt(0),p++;a=Ln(v),r>1?(v=new w("0."+n),a++):v=new w(r+"."+n.slice(1))}else return u=vS(w,f+2,E).times(a+""),v=Pm(new w(r+"."+n.slice(1)),f-g).plus(u),w.precision=E,t==null?(on=!0,Gt(v,E)):v;for(c=o=v=ls(v.minus(Ci),v.plus(Ci),f),m=Gt(v.times(v),f),i=3;;){if(o=Gt(o.times(m),f),u=c.plus(ls(o,new w(i),f)),yo(u.d).slice(0,f)===yo(c.d).slice(0,f))return c=c.times(2),a!==0&&(c=c.plus(vS(w,f+2,E).times(a+""))),c=ls(c,new w(p),f),w.precision=E,t==null?(on=!0,Gt(c,E)):c;c=u,i+=2}}function GL(e,t){var n,r,i;for((n=t.indexOf("."))>-1&&(t=t.replace(".","")),(r=t.search(/e/i))>0?(n<0&&(n=r),n+=+t.slice(r+1),t=t.substring(0,r)):n<0&&(n=t.length),r=0;t.charCodeAt(r)===48;)++r;for(i=t.length;t.charCodeAt(i-1)===48;)--i;if(t=t.slice(r,i),t){if(i-=r,n=n-r-1,e.e=uf(n/Jt),e.d=[],r=(n+1)%Jt,n<0&&(r+=Jt),r<i){for(r&&e.d.push(+t.slice(0,r)),i-=Jt;r<i;)e.d.push(+t.slice(r,r+=Jt));t=t.slice(r),r=Jt-t.length}else r-=i;for(;r--;)t+="0";if(e.d.push(+t),on&&(e.e>jb||e.e<-jb))throw Error(YA+n)}else e.s=0,e.e=0,e.d=[0];return e}function Gt(e,t,n){var r,i,a,o,c,u,f,m,p=e.d;for(o=1,a=p[0];a>=10;a/=10)o++;if(r=t-o,r<0)r+=Jt,i=t,f=p[m=0];else{if(m=Math.ceil((r+1)/Jt),a=p.length,m>=a)return e;for(f=a=p[m],o=1;a>=10;a/=10)o++;r%=Jt,i=r-Jt+o}if(n!==void 0&&(a=Lc(10,o-i-1),c=f/a%10|0,u=t<0||p[m+1]!==void 0||f%a,u=n<4?(c||u)&&(n==0||n==(e.s<0?3:2)):c>5||c==5&&(n==4||u||n==6&&(r>0?i>0?f/Lc(10,o-i):0:p[m-1])%10&1||n==(e.s<0?8:7))),t<1||!p[0])return u?(a=Ln(e),p.length=1,t=t-a-1,p[0]=Lc(10,(Jt-t%Jt)%Jt),e.e=uf(-t/Jt)||0):(p.length=1,p[0]=e.e=e.s=0),e;if(r==0?(p.length=m,a=1,m--):(p.length=m+1,a=Lc(10,Jt-r),p[m]=i>0?(f/Lc(10,o-i)%Lc(10,i)|0)*a:0),u)for(;;)if(m==0){(p[0]+=a)==ir&&(p[0]=1,++e.e);break}else{if(p[m]+=a,p[m]!=ir)break;p[m--]=0,a=1}for(r=p.length;p[--r]===0;)p.pop();if(on&&(e.e>jb||e.e<-jb))throw Error(YA+Ln(e));return e}function A9(e,t){var n,r,i,a,o,c,u,f,m,p,g=e.constructor,v=g.precision;if(!e.s||!t.s)return t.s?t.s=-t.s:t=new g(e),on?Gt(t,v):t;if(u=e.d,p=t.d,r=t.e,f=e.e,u=u.slice(),o=f-r,o){for(m=o<0,m?(n=u,o=-o,c=p.length):(n=p,r=f,c=u.length),i=Math.max(Math.ceil(v/Jt),c)+2,o>i&&(o=i,n.length=1),n.reverse(),i=o;i--;)n.push(0);n.reverse()}else{for(i=u.length,c=p.length,m=i<c,m&&(c=i),i=0;i<c;i++)if(u[i]!=p[i]){m=u[i]<p[i];break}o=0}for(m&&(n=u,u=p,p=n,t.s=-t.s),c=u.length,i=p.length-c;i>0;--i)u[c++]=0;for(i=p.length;i>o;){if(u[--i]<p[i]){for(a=i;a&&u[--a]===0;)u[a]=ir-1;--u[a],u[i]+=ir}u[i]-=p[i]}for(;u[--c]===0;)u.pop();for(;u[0]===0;u.shift())--r;return u[0]?(t.d=u,t.e=r,on?Gt(t,v):t):new g(0)}function eu(e,t,n){var r,i=Ln(e),a=yo(e.d),o=a.length;return t?(n&&(r=n-o)>0?a=a.charAt(0)+"."+a.slice(1)+pl(r):o>1&&(a=a.charAt(0)+"."+a.slice(1)),a=a+(i<0?"e":"e+")+i):i<0?(a="0."+pl(-i-1)+a,n&&(r=n-o)>0&&(a+=pl(r))):i>=o?(a+=pl(i+1-o),n&&(r=n-i-1)>0&&(a=a+"."+pl(r))):((r=i+1)<o&&(a=a.slice(0,r)+"."+a.slice(r)),n&&(r=n-o)>0&&(i+1===o&&(a+="."),a+=pl(r))),e.s<0?"-"+a:a}function qL(e,t){if(e.length>t)return e.length=t,!0}function T9(e){var t,n,r;function i(a){var o=this;if(!(o instanceof i))return new i(a);if(o.constructor=i,a instanceof i){o.s=a.s,o.e=a.e,o.d=(a=a.d)?a.slice():a;return}if(typeof a=="number"){if(a*0!==0)throw Error(Kc+a);if(a>0)o.s=1;else if(a<0)a=-a,o.s=-1;else{o.s=0,o.e=0,o.d=[0];return}if(a===~~a&&a<1e7){o.e=0,o.d=[a];return}return GL(o,a.toString())}else if(typeof a!="string")throw Error(Kc+a);if(a.charCodeAt(0)===45?(a=a.slice(1),o.s=-1):o.s=1,fye.test(a))GL(o,a);else throw Error(Kc+a)}if(i.prototype=$e,i.ROUND_UP=0,i.ROUND_DOWN=1,i.ROUND_CEIL=2,i.ROUND_FLOOR=3,i.ROUND_HALF_UP=4,i.ROUND_HALF_DOWN=5,i.ROUND_HALF_EVEN=6,i.ROUND_HALF_CEIL=7,i.ROUND_HALF_FLOOR=8,i.clone=T9,i.config=i.set=hye,e===void 0&&(e={}),e)for(r=["precision","rounding","toExpNeg","toExpPos","LN10"],t=0;t<r.length;)e.hasOwnProperty(n=r[t++])||(e[n]=this[n]);return i.config(e),i}function hye(e){if(!e||typeof e!="object")throw Error(ma+"Object expected");var t,n,r,i=["precision",1,cf,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(t=0;t<i.length;t+=3)if((r=e[n=i[t]])!==void 0)if(uf(r)===r&&r>=i[t+1]&&r<=i[t+2])this[n]=r;else throw Error(Kc+n+": "+r);if((r=e[n="LN10"])!==void 0)if(r==Math.LN10)this[n]=new this(r);else throw Error(Kc+n+": "+r);return this}var KA=T9(dye);Ci=new KA(1);const Lt=KA;var mye=e=>e,O9={},j9=e=>e===O9,YL=e=>function t(){return arguments.length===0||arguments.length===1&&j9(arguments.length<=0?void 0:arguments[0])?t:e(...arguments)},N9=(e,t)=>e===1?t:YL(function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];var a=r.filter(o=>o!==O9).length;return a>=e?t(...r):N9(e-a,YL(function(){for(var o=arguments.length,c=new Array(o),u=0;u<o;u++)c[u]=arguments[u];var f=r.map(m=>j9(m)?c.shift():m);return t(...f,...c)}))}),pye=e=>N9(e.length,e),yk=(e,t)=>{for(var n=[],r=e;r<t;++r)n[r-e]=r;return n},gye=pye((e,t)=>Array.isArray(t)?t.map(e):Object.keys(t).map(n=>t[n]).map(e)),yye=function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];if(!n.length)return mye;var i=n.reverse(),a=i[0],o=i.slice(1);return function(){return o.reduce((c,u)=>u(c),a(...arguments))}},bk=e=>Array.isArray(e)?e.reverse():e.split("").reverse().join("");function C9(e){var t;return e===0?t=1:t=Math.floor(new Lt(e).abs().log(10).toNumber())+1,t}function M9(e,t,n){for(var r=new Lt(e),i=0,a=[];r.lt(t)&&i<1e5;)a.push(r.toNumber()),r=r.add(n),i++;return a}var P9=e=>{var[t,n]=e,[r,i]=[t,n];return t>n&&([r,i]=[n,t]),[r,i]},D9=(e,t,n)=>{if(e.lte(0))return new Lt(0);var r=C9(e.toNumber()),i=new Lt(10).pow(r),a=e.div(i),o=r!==1?.05:.1,c=new Lt(Math.ceil(a.div(o).toNumber())).add(n).mul(o),u=c.mul(i);return t?new Lt(u.toNumber()):new Lt(Math.ceil(u.toNumber()))},bye=(e,t,n)=>{var r=new Lt(1),i=new Lt(e);if(!i.isint()&&n){var a=Math.abs(e);a<1?(r=new Lt(10).pow(C9(e)-1),i=new Lt(Math.floor(i.div(r).toNumber())).mul(r)):a>1&&(i=new Lt(Math.floor(e)))}else e===0?i=new Lt(Math.floor((t-1)/2)):n||(i=new Lt(Math.floor(e)));var o=Math.floor((t-1)/2),c=yye(gye(u=>i.add(new Lt(u-o).mul(r)).toNumber()),yk);return c(0,t)},R9=function(t,n,r,i){var a=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((n-t)/(r-1)))return{step:new Lt(0),tickMin:new Lt(0),tickMax:new Lt(0)};var o=D9(new Lt(n).sub(t).div(r-1),i,a),c;t<=0&&n>=0?c=new Lt(0):(c=new Lt(t).add(n).div(2),c=c.sub(new Lt(c).mod(o)));var u=Math.ceil(c.sub(t).div(o).toNumber()),f=Math.ceil(new Lt(n).sub(c).div(o).toNumber()),m=u+f+1;return m>r?R9(t,n,r,i,a+1):(m<r&&(f=n>0?f+(r-m):f,u=n>0?u:u+(r-m)),{step:o,tickMin:c.sub(new Lt(u).mul(o)),tickMax:c.add(new Lt(f).mul(o))})},vye=function(t){var[n,r]=t,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,o=Math.max(i,2),[c,u]=P9([n,r]);if(c===-1/0||u===1/0){var f=u===1/0?[c,...yk(0,i-1).map(()=>1/0)]:[...yk(0,i-1).map(()=>-1/0),u];return n>r?bk(f):f}if(c===u)return bye(c,i,a);var{step:m,tickMin:p,tickMax:g}=R9(c,u,o,a,0),v=M9(p,g.add(new Lt(.1).mul(m)),m);return n>r?bk(v):v},xye=function(t,n){var[r,i]=t,a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,[o,c]=P9([r,i]);if(o===-1/0||c===1/0)return[r,i];if(o===c)return[o];var u=Math.max(n,2),f=D9(new Lt(c).sub(o).div(u-1),a,0),m=[...M9(new Lt(o),new Lt(c),f),c];return a===!1&&(m=m.map(p=>Math.round(p))),r>i?bk(m):m},_ye=e=>e.rootProps.barCategoryGap,Qv=e=>e.rootProps.stackOffset,L9=e=>e.rootProps.reverseStackOrder,WA=e=>e.options.chartName,VA=e=>e.rootProps.syncId,I9=e=>e.rootProps.syncMethod,ZA=e=>e.options.eventEmitter,wye=e=>e.rootProps.baseValue,Ir={grid:-100,barBackground:-50,area:100,cursorRectangle:200,bar:300,line:400,axis:500,scatter:600,activeBar:1e3,cursorLine:1100,activeDot:1200,label:2e3},ns={allowDuplicatedCategory:!0,angleAxisId:0,reversed:!1,scale:"auto",tick:!0,type:"category"},ji={allowDataOverflow:!1,allowDuplicatedCategory:!0,radiusAxisId:0,scale:"auto",tick:!0,tickCount:5,type:"number"},ex=(e,t)=>{if(!(!e||!t))return e!=null&&e.reversed?[t[1],t[0]]:t},Sye={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:!1,dataKey:void 0,domain:void 0,id:ns.angleAxisId,includeHidden:!1,name:void 0,reversed:ns.reversed,scale:ns.scale,tick:ns.tick,tickCount:void 0,ticks:void 0,type:ns.type,unit:void 0},Eye={allowDataOverflow:ji.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:ji.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:ji.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:ji.scale,tick:ji.tick,tickCount:ji.tickCount,ticks:void 0,type:ji.type,unit:void 0},kye={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:ns.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:ns.angleAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:ns.scale,tick:ns.tick,tickCount:void 0,ticks:void 0,type:"number",unit:void 0},Aye={allowDataOverflow:ji.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:ji.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:ji.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:ji.scale,tick:ji.tick,tickCount:ji.tickCount,ticks:void 0,type:"category",unit:void 0},XA=(e,t)=>e.polarAxis.angleAxis[t]!=null?e.polarAxis.angleAxis[t]:e.layout.layoutType==="radial"?kye:Sye,JA=(e,t)=>e.polarAxis.radiusAxis[t]!=null?e.polarAxis.radiusAxis[t]:e.layout.layoutType==="radial"?Aye:Eye,tx=e=>e.polarOptions,QA=we([Ss,Es,xr],vpe),$9=we([tx,QA],(e,t)=>{if(e!=null)return jl(e.innerRadius,t,0)}),B9=we([tx,QA],(e,t)=>{if(e!=null)return jl(e.outerRadius,t,t*.8)}),Tye=e=>{if(e==null)return[0,0];var{startAngle:t,endAngle:n}=e;return[t,n]},z9=we([tx],Tye);we([XA,z9],ex);var U9=we([QA,$9,B9],(e,t,n)=>{if(!(e==null||t==null||n==null))return[t,n]});we([JA,U9],ex);var H9=we([Vt,tx,$9,B9,Ss,Es],(e,t,n,r,i,a)=>{if(!(e!=="centric"&&e!=="radial"||t==null||n==null||r==null)){var{cx:o,cy:c,startAngle:u,endAngle:f}=t;return{cx:jl(o,i,i/2),cy:jl(c,a,a/2),innerRadius:n,outerRadius:r,startAngle:u,endAngle:f,clockWise:!1}}}),Kn=(e,t)=>t,nx=(e,t,n)=>n;function eT(e){return e?.id}function F9(e,t,n){var{chartData:r=[]}=t,{allowDuplicatedCategory:i,dataKey:a}=n,o=new Map;return e.forEach(c=>{var u,f=(u=c.data)!==null&&u!==void 0?u:r;if(!(f==null||f.length===0)){var m=eT(c);f.forEach((p,g)=>{var v=a==null||i?g:String(Tr(p,a,null)),_=Tr(p,c.dataKey,0),w;o.has(v)?w=o.get(v):w={},Object.assign(w,{[m]:_}),o.set(v,w)})}}),Array.from(o.values())}function tT(e){return e.stackId!=null&&e.dataKey!=null}var rx=(e,t)=>e===t?!0:e==null||t==null?!1:e[0]===t[0]&&e[1]===t[1];function ix(e,t){return Array.isArray(e)&&Array.isArray(t)&&e.length===0&&t.length===0?!0:e===t}function Oye(e,t){if(e.length===t.length){for(var n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0}return!1}var Wn=e=>{var t=Vt(e);return t==="horizontal"?"xAxis":t==="vertical"?"yAxis":t==="centric"?"angleAxis":"radiusAxis"},df=e=>e.tooltip.settings.axisId;function KL(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Nb(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?KL(Object(n),!0).forEach(function(r){jye(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):KL(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function jye(e,t,n){return(t=Nye(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Nye(e){var t=Cye(e,"string");return typeof t=="symbol"?t:t+""}function Cye(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var vk=[0,"auto"],tr={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:void 0,height:30,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"bottom",padding:{left:0,right:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"category",unit:void 0},G9=(e,t)=>e.cartesianAxis.xAxis[t],As=(e,t)=>{var n=G9(e,t);return n??tr},nr={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:vk,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"left",padding:{top:0,bottom:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"number",unit:void 0,width:ap},q9=(e,t)=>e.cartesianAxis.yAxis[t],Ts=(e,t)=>{var n=q9(e,t);return n??nr},Mye={domain:[0,"auto"],includeHidden:!1,reversed:!1,allowDataOverflow:!1,allowDuplicatedCategory:!1,dataKey:void 0,id:0,name:"",range:[64,64],scale:"auto",type:"number",unit:""},nT=(e,t)=>{var n=e.cartesianAxis.zAxis[t];return n??Mye},Ur=(e,t,n)=>{switch(t){case"xAxis":return As(e,n);case"yAxis":return Ts(e,n);case"zAxis":return nT(e,n);case"angleAxis":return XA(e,n);case"radiusAxis":return JA(e,n);default:throw new Error("Unexpected axis type: ".concat(t))}},Pye=(e,t,n)=>{switch(t){case"xAxis":return As(e,n);case"yAxis":return Ts(e,n);default:throw new Error("Unexpected axis type: ".concat(t))}},fp=(e,t,n)=>{switch(t){case"xAxis":return As(e,n);case"yAxis":return Ts(e,n);case"angleAxis":return XA(e,n);case"radiusAxis":return JA(e,n);default:throw new Error("Unexpected axis type: ".concat(t))}},Y9=e=>e.graphicalItems.cartesianItems.some(t=>t.type==="bar")||e.graphicalItems.polarItems.some(t=>t.type==="radialBar");function K9(e,t){return n=>{switch(e){case"xAxis":return"xAxisId"in n&&n.xAxisId===t;case"yAxis":return"yAxisId"in n&&n.yAxisId===t;case"zAxis":return"zAxisId"in n&&n.zAxisId===t;case"angleAxis":return"angleAxisId"in n&&n.angleAxisId===t;case"radiusAxis":return"radiusAxisId"in n&&n.radiusAxisId===t;default:return!1}}}var W9=e=>e.graphicalItems.cartesianItems,Dye=we([Kn,nx],K9),V9=(e,t,n)=>e.filter(n).filter(r=>t?.includeHidden===!0?!0:!r.hide),hp=we([W9,Ur,Dye],V9,{memoizeOptions:{resultEqualityCheck:ix}}),Z9=we([hp],e=>e.filter(t=>t.type==="area"||t.type==="bar").filter(tT)),X9=e=>e.filter(t=>!("stackId"in t)||t.stackId===void 0),Rye=we([hp],X9),J9=e=>e.map(t=>t.data).filter(Boolean).flat(1),Lye=we([hp],J9,{memoizeOptions:{resultEqualityCheck:ix}}),Q9=(e,t)=>{var{chartData:n=[],dataStartIndex:r,dataEndIndex:i}=t;return e.length>0?e:n.slice(r,i+1)},rT=we([Lye,qA],Q9),ez=(e,t,n)=>t?.dataKey!=null?e.map(r=>({value:Tr(r,t.dataKey)})):n.length>0?n.map(r=>r.dataKey).flatMap(r=>e.map(i=>({value:Tr(i,r)}))):e.map(r=>({value:r})),ax=we([rT,Ur,hp],ez);function tz(e,t){switch(e){case"xAxis":return t.direction==="x";case"yAxis":return t.direction==="y";default:return!1}}function hy(e){if(wo(e)||e instanceof Date){var t=Number(e);if(_n(t))return t}}function WL(e){if(Array.isArray(e)){var t=[hy(e[0]),hy(e[1])];return Nl(t)?t:void 0}var n=hy(e);if(n!=null)return[n,n]}function bs(e){return e.map(hy).filter(rde)}function Iye(e,t,n){return!n||typeof t!="number"||Ua(t)?[]:n.length?bs(n.flatMap(r=>{var i=Tr(e,r.dataKey),a,o;if(Array.isArray(i)?[a,o]=i:a=o=i,!(!_n(a)||!_n(o)))return[t-a,t+o]})):[]}var Vn=e=>{var t=Wn(e),n=df(e);return fp(e,t,n)},mp=we([Vn],e=>e?.dataKey),$ye=we([Z9,qA,Vn],F9),nz=(e,t,n,r)=>{var i={},a=t.reduce((o,c)=>(c.stackId==null||(o[c.stackId]==null&&(o[c.stackId]=[]),o[c.stackId].push(c)),o),i);return Object.fromEntries(Object.entries(a).map(o=>{var[c,u]=o,f=r?[...u].reverse():u,m=f.map(eT);return[c,{stackedData:lhe(e,m,n),graphicalItems:f}]}))},xk=we([$ye,Z9,Qv,L9],nz),rz=(e,t,n,r)=>{var{dataStartIndex:i,dataEndIndex:a}=t;if(r==null&&n!=="zAxis"){var o=fhe(e,i,a);if(!(o!=null&&o[0]===0&&o[1]===0))return o}},Bye=we([Ur],e=>e.allowDataOverflow),iT=e=>{var t;if(e==null||!("domain"in e))return vk;if(e.domain!=null)return e.domain;if(e.ticks!=null){if(e.type==="number"){var n=bs(e.ticks);return[Math.min(...n),Math.max(...n)]}if(e.type==="category")return e.ticks.map(String)}return(t=e?.domain)!==null&&t!==void 0?t:vk},iz=we([Ur],iT),az=we([iz,Bye],w9),zye=we([xk,Rl,Kn,az],rz,{memoizeOptions:{resultEqualityCheck:rx}}),aT=e=>e.errorBars,Uye=(e,t,n)=>e.flatMap(r=>t[r.id]).filter(Boolean).filter(r=>tz(n,r)),Cb=function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var i=n.filter(Boolean);if(i.length!==0){var a=i.flat(),o=Math.min(...a),c=Math.max(...a);return[o,c]}},oz=(e,t,n,r,i)=>{var a,o;if(n.length>0&&e.forEach(c=>{n.forEach(u=>{var f,m,p=(f=r[u.id])===null||f===void 0?void 0:f.filter(T=>tz(i,T)),g=Tr(c,(m=t.dataKey)!==null&&m!==void 0?m:u.dataKey),v=Iye(c,g,p);if(v.length>=2){var _=Math.min(...v),w=Math.max(...v);(a==null||_<a)&&(a=_),(o==null||w>o)&&(o=w)}var E=WL(g);E!=null&&(a=a==null?E[0]:Math.min(a,E[0]),o=o==null?E[1]:Math.max(o,E[1]))})}),t?.dataKey!=null&&e.forEach(c=>{var u=WL(Tr(c,t.dataKey));u!=null&&(a=a==null?u[0]:Math.min(a,u[0]),o=o==null?u[1]:Math.max(o,u[1]))}),_n(a)&&_n(o))return[a,o]},Hye=we([rT,Ur,Rye,aT,Kn],oz,{memoizeOptions:{resultEqualityCheck:rx}});function Fye(e){var{value:t}=e;if(wo(t)||t instanceof Date)return t}var Gye=(e,t,n)=>{var r=e.map(Fye).filter(i=>i!=null);return n&&(t.dataKey==null||t.allowDuplicatedCategory&&k7(r))?U6(0,e.length):t.allowDuplicatedCategory?r:Array.from(new Set(r))},sz=e=>e.referenceElements.dots,ff=(e,t,n)=>e.filter(r=>r.ifOverflow==="extendDomain").filter(r=>t==="xAxis"?r.xAxisId===n:r.yAxisId===n),qye=we([sz,Kn,nx],ff),lz=e=>e.referenceElements.areas,Yye=we([lz,Kn,nx],ff),cz=e=>e.referenceElements.lines,Kye=we([cz,Kn,nx],ff),uz=(e,t)=>{var n=bs(e.map(r=>t==="xAxis"?r.x:r.y));if(n.length!==0)return[Math.min(...n),Math.max(...n)]},Wye=we(qye,Kn,uz),dz=(e,t)=>{var n=bs(e.flatMap(r=>[t==="xAxis"?r.x1:r.y1,t==="xAxis"?r.x2:r.y2]));if(n.length!==0)return[Math.min(...n),Math.max(...n)]},Vye=we([Yye,Kn],dz);function Zye(e){var t;if(e.x!=null)return bs([e.x]);var n=(t=e.segment)===null||t===void 0?void 0:t.map(r=>r.x);return n==null||n.length===0?[]:bs(n)}function Xye(e){var t;if(e.y!=null)return bs([e.y]);var n=(t=e.segment)===null||t===void 0?void 0:t.map(r=>r.y);return n==null||n.length===0?[]:bs(n)}var fz=(e,t)=>{var n=e.flatMap(r=>t==="xAxis"?Zye(r):Xye(r));if(n.length!==0)return[Math.min(...n),Math.max(...n)]},Jye=we([Kye,Kn],fz),Qye=we(Wye,Jye,Vye,(e,t,n)=>Cb(e,n,t)),hz=(e,t,n,r,i,a,o,c)=>{if(n!=null)return n;var u=o==="vertical"&&c==="xAxis"||o==="horizontal"&&c==="yAxis",f=u?Cb(r,a,i):Cb(a,i);return uye(t,f,e.allowDataOverflow)},ebe=we([Ur,iz,az,zye,Hye,Qye,Vt,Kn],hz,{memoizeOptions:{resultEqualityCheck:rx}}),tbe=[0,1],mz=(e,t,n,r,i,a,o)=>{if(!((e==null||n==null||n.length===0)&&o===void 0)){var{dataKey:c,type:u}=e,f=ws(t,a);if(f&&c==null){var m;return U6(0,(m=n?.length)!==null&&m!==void 0?m:0)}return u==="category"?Gye(r,e,f):i==="expand"?tbe:o}},oT=we([Ur,Vt,rT,ax,Qv,Kn,ebe],mz),pz=(e,t,n,r,i)=>{if(e!=null){var{scale:a,type:o}=e;if(a==="auto")return t==="radial"&&i==="radiusAxis"?"band":t==="radial"&&i==="angleAxis"?"linear":o==="category"&&r&&(r.indexOf("LineChart")>=0||r.indexOf("AreaChart")>=0||r.indexOf("ComposedChart")>=0&&!n)?"point":o==="category"?"band":"linear";if(typeof a=="string"){var c="scale".concat(lA(a));return c in Wh?c:"point"}}},pp=we([Ur,Vt,Y9,WA,Kn],pz);function nbe(e){if(e!=null){if(e in Wh)return Wh[e]();var t="scale".concat(lA(e));if(t in Wh)return Wh[t]()}}function sT(e,t,n,r){if(!(n==null||r==null)){if(typeof e.scale=="function")return e.scale.copy().domain(n).range(r);var i=nbe(t);if(i!=null){var a=i.domain(n).range(r);return ihe(a),a}}}var gz=(e,t,n)=>{var r=iT(t);if(!(n!=="auto"&&n!=="linear")){if(t!=null&&t.tickCount&&Array.isArray(r)&&(r[0]==="auto"||r[1]==="auto")&&Nl(e))return vye(e,t.tickCount,t.allowDecimals);if(t!=null&&t.tickCount&&t.type==="number"&&Nl(e))return xye(e,t.tickCount,t.allowDecimals)}},lT=we([oT,fp,pp],gz),yz=(e,t,n,r)=>{if(r!=="angleAxis"&&e?.type==="number"&&Nl(t)&&Array.isArray(n)&&n.length>0){var i=t[0],a=n[0],o=t[1],c=n[n.length-1];return[Math.min(i,a),Math.max(o,c)]}return t},rbe=we([Ur,oT,lT,Kn],yz),ibe=we(ax,Ur,(e,t)=>{if(!(!t||t.type!=="number")){var n=1/0,r=Array.from(bs(e.map(c=>c.value))).sort((c,u)=>c-u);if(r.length<2)return 1/0;var i=r[r.length-1]-r[0];if(i===0)return 1/0;for(var a=0;a<r.length-1;a++){var o=r[a+1]-r[a];n=Math.min(n,o)}return n/i}}),bz=we(ibe,Vt,_ye,xr,(e,t,n,r)=>r,(e,t,n,r,i)=>{if(!_n(e))return 0;var a=t==="vertical"?r.height:r.width;if(i==="gap")return e*a/2;if(i==="no-gap"){var o=jl(n,e*a),c=e*a/2;return c-o-(c-o)/a*o}return 0}),abe=(e,t)=>{var n=As(e,t);return n==null||typeof n.padding!="string"?0:bz(e,"xAxis",t,n.padding)},obe=(e,t)=>{var n=Ts(e,t);return n==null||typeof n.padding!="string"?0:bz(e,"yAxis",t,n.padding)},sbe=we(As,abe,(e,t)=>{var n,r;if(e==null)return{left:0,right:0};var{padding:i}=e;return typeof i=="string"?{left:t,right:t}:{left:((n=i.left)!==null&&n!==void 0?n:0)+t,right:((r=i.right)!==null&&r!==void 0?r:0)+t}}),lbe=we(Ts,obe,(e,t)=>{var n,r;if(e==null)return{top:0,bottom:0};var{padding:i}=e;return typeof i=="string"?{top:t,bottom:t}:{top:((n=i.top)!==null&&n!==void 0?n:0)+t,bottom:((r=i.bottom)!==null&&r!==void 0?r:0)+t}}),cbe=we([xr,sbe,Uv,zv,(e,t,n)=>n],(e,t,n,r,i)=>{var{padding:a}=r;return i?[a.left,n.width-a.right]:[e.left+t.left,e.left+e.width-t.right]}),ube=we([xr,Vt,lbe,Uv,zv,(e,t,n)=>n],(e,t,n,r,i,a)=>{var{padding:o}=i;return a?[r.height-o.bottom,o.top]:t==="horizontal"?[e.top+e.height-n.bottom,e.top+n.top]:[e.top+n.top,e.top+e.height-n.bottom]}),gp=(e,t,n,r)=>{var i;switch(t){case"xAxis":return cbe(e,n,r);case"yAxis":return ube(e,n,r);case"zAxis":return(i=nT(e,n))===null||i===void 0?void 0:i.range;case"angleAxis":return z9(e);case"radiusAxis":return U9(e,n);default:return}},vz=we([Ur,gp],ex),hf=we([Ur,pp,rbe,vz],sT);we([hp,aT,Kn],Uye);function xz(e,t){return e.id<t.id?-1:e.id>t.id?1:0}var ox=(e,t)=>t,sx=(e,t,n)=>n,dbe=we($v,ox,sx,(e,t,n)=>e.filter(r=>r.orientation===t).filter(r=>r.mirror===n).sort(xz)),fbe=we(Bv,ox,sx,(e,t,n)=>e.filter(r=>r.orientation===t).filter(r=>r.mirror===n).sort(xz)),_z=(e,t)=>({width:e.width,height:t.height}),hbe=(e,t)=>{var n=typeof t.width=="number"?t.width:ap;return{width:n,height:e.height}},mbe=we(xr,As,_z),pbe=(e,t,n)=>{switch(t){case"top":return e.top;case"bottom":return n-e.bottom;default:return 0}},gbe=(e,t,n)=>{switch(t){case"left":return e.left;case"right":return n-e.right;default:return 0}},ybe=we(Es,xr,dbe,ox,sx,(e,t,n,r,i)=>{var a={},o;return n.forEach(c=>{var u=_z(t,c);o==null&&(o=pbe(t,r,e));var f=r==="top"&&!i||r==="bottom"&&i;a[c.id]=o-Number(f)*u.height,o+=(f?-1:1)*u.height}),a}),bbe=we(Ss,xr,fbe,ox,sx,(e,t,n,r,i)=>{var a={},o;return n.forEach(c=>{var u=hbe(t,c);o==null&&(o=gbe(t,r,e));var f=r==="left"&&!i||r==="right"&&i;a[c.id]=o-Number(f)*u.width,o+=(f?-1:1)*u.width}),a}),vbe=(e,t)=>{var n=As(e,t);if(n!=null)return ybe(e,n.orientation,n.mirror)},xbe=we([xr,As,vbe,(e,t)=>t],(e,t,n,r)=>{if(t!=null){var i=n?.[r];return i==null?{x:e.left,y:0}:{x:e.left,y:i}}}),_be=(e,t)=>{var n=Ts(e,t);if(n!=null)return bbe(e,n.orientation,n.mirror)},wbe=we([xr,Ts,_be,(e,t)=>t],(e,t,n,r)=>{if(t!=null){var i=n?.[r];return i==null?{x:0,y:e.top}:{x:i,y:e.top}}}),Sbe=we(xr,Ts,(e,t)=>{var n=typeof t.width=="number"?t.width:ap;return{width:n,height:e.height}}),wz=(e,t,n,r)=>{if(n!=null){var{allowDuplicatedCategory:i,type:a,dataKey:o}=n,c=ws(e,r),u=t.map(f=>f.value);if(o&&c&&a==="category"&&i&&k7(u))return u}},cT=we([Vt,ax,Ur,Kn],wz),Sz=(e,t,n,r)=>{if(!(n==null||n.dataKey==null)){var{type:i,scale:a}=n,o=ws(e,r);if(o&&(i==="number"||a!=="auto"))return t.map(c=>c.value)}},uT=we([Vt,ax,fp,Kn],Sz),VL=we([Vt,Pye,pp,hf,cT,uT,gp,lT,Kn],(e,t,n,r,i,a,o,c,u)=>{if(t!=null){var f=ws(e,u);return{angle:t.angle,interval:t.interval,minTickGap:t.minTickGap,orientation:t.orientation,tick:t.tick,tickCount:t.tickCount,tickFormatter:t.tickFormatter,ticks:t.ticks,type:t.type,unit:t.unit,axisType:u,categoricalDomain:a,duplicateDomain:i,isCategorical:f,niceTicks:c,range:o,realScaleType:n,scale:r}}}),Ebe=(e,t,n,r,i,a,o,c,u)=>{if(!(t==null||r==null)){var f=ws(e,u),{type:m,ticks:p,tickCount:g}=t,v=n==="scaleBand"&&typeof r.bandwidth=="function"?r.bandwidth()/2:2,_=m==="category"&&r.bandwidth?r.bandwidth()/v:0;_=u==="angleAxis"&&a!=null&&a.length>=2?oa(a[0]-a[1])*2*_:_;var w=p||i;if(w){var E=w.map((T,N)=>{var O=o?o.indexOf(T):T;return{index:N,coordinate:r(O)+_,value:T,offset:_}});return E.filter(T=>_n(T.coordinate))}return f&&c?c.map((T,N)=>({coordinate:r(T)+_,value:T,index:N,offset:_})).filter(T=>_n(T.coordinate)):r.ticks?r.ticks(g).map(T=>({coordinate:r(T)+_,value:T,offset:_})):r.domain().map((T,N)=>({coordinate:r(T)+_,value:o?o[T]:T,index:N,offset:_}))}},Ez=we([Vt,fp,pp,hf,lT,gp,cT,uT,Kn],Ebe),kbe=(e,t,n,r,i,a,o)=>{if(!(t==null||n==null||r==null||r[0]===r[1])){var c=ws(e,o),{tickCount:u}=t,f=0;return f=o==="angleAxis"&&r?.length>=2?oa(r[0]-r[1])*2*f:f,c&&a?a.map((m,p)=>({coordinate:n(m)+f,value:m,index:p,offset:f})):n.ticks?n.ticks(u).map(m=>({coordinate:n(m)+f,value:m,offset:f})):n.domain().map((m,p)=>({coordinate:n(m)+f,value:i?i[m]:m,index:p,offset:f}))}},kz=we([Vt,fp,hf,gp,cT,uT,Kn],kbe),Az=we(Ur,hf,(e,t)=>{if(!(e==null||t==null))return Nb(Nb({},e),{},{scale:t})}),Abe=we([Ur,pp,oT,vz],sT);we((e,t,n)=>nT(e,n),Abe,(e,t)=>{if(!(e==null||t==null))return Nb(Nb({},e),{},{scale:t})});var Tbe=we([Vt,$v,Bv],(e,t,n)=>{switch(e){case"horizontal":return t.some(r=>r.reversed)?"right-to-left":"left-to-right";case"vertical":return n.some(r=>r.reversed)?"bottom-to-top":"top-to-bottom";case"centric":case"radial":return"left-to-right";default:return}}),Tz=e=>e.options.defaultTooltipEventType,Oz=e=>e.options.validateTooltipEventTypes;function jz(e,t,n){if(e==null)return t;var r=e?"axis":"item";return n==null?t:n.includes(r)?r:t}function dT(e,t){var n=Tz(e),r=Oz(e);return jz(t,n,r)}function Obe(e){return Je(t=>dT(t,e))}var Nz=(e,t)=>{var n,r=Number(t);if(!(Ua(r)||t==null))return r>=0?e==null||(n=e[r])===null||n===void 0?void 0:n.value:void 0},jbe=e=>e.tooltip.settings,_l={active:!1,index:null,dataKey:void 0,graphicalItemId:void 0,coordinate:void 0},Nbe={itemInteraction:{click:_l,hover:_l},axisInteraction:{click:_l,hover:_l},keyboardInteraction:_l,syncInteraction:{active:!1,index:null,dataKey:void 0,label:void 0,coordinate:void 0,sourceViewBox:void 0,graphicalItemId:void 0},tooltipItemPayloads:[],settings:{shared:void 0,trigger:"hover",axisId:0,active:!1,defaultIndex:void 0}},Cz=di({name:"tooltip",initialState:Nbe,reducers:{addTooltipEntrySettings:{reducer(e,t){e.tooltipItemPayloads.push(t.payload)},prepare:an()},replaceTooltipEntrySettings:{reducer(e,t){var{prev:n,next:r}=t.payload,i=Ia(e).tooltipItemPayloads.indexOf(n);i>-1&&(e.tooltipItemPayloads[i]=r)},prepare:an()},removeTooltipEntrySettings:{reducer(e,t){var n=Ia(e).tooltipItemPayloads.indexOf(t.payload);n>-1&&e.tooltipItemPayloads.splice(n,1)},prepare:an()},setTooltipSettingsState(e,t){e.settings=t.payload},setActiveMouseOverItemIndex(e,t){e.syncInteraction.active=!1,e.keyboardInteraction.active=!1,e.itemInteraction.hover.active=!0,e.itemInteraction.hover.index=t.payload.activeIndex,e.itemInteraction.hover.dataKey=t.payload.activeDataKey,e.itemInteraction.hover.graphicalItemId=t.payload.activeGraphicalItemId,e.itemInteraction.hover.coordinate=t.payload.activeCoordinate},mouseLeaveChart(e){e.itemInteraction.hover.active=!1,e.axisInteraction.hover.active=!1},mouseLeaveItem(e){e.itemInteraction.hover.active=!1},setActiveClickItemIndex(e,t){e.syncInteraction.active=!1,e.itemInteraction.click.active=!0,e.keyboardInteraction.active=!1,e.itemInteraction.click.index=t.payload.activeIndex,e.itemInteraction.click.dataKey=t.payload.activeDataKey,e.itemInteraction.click.graphicalItemId=t.payload.activeGraphicalItemId,e.itemInteraction.click.coordinate=t.payload.activeCoordinate},setMouseOverAxisIndex(e,t){e.syncInteraction.active=!1,e.axisInteraction.hover.active=!0,e.keyboardInteraction.active=!1,e.axisInteraction.hover.index=t.payload.activeIndex,e.axisInteraction.hover.dataKey=t.payload.activeDataKey,e.axisInteraction.hover.coordinate=t.payload.activeCoordinate},setMouseClickAxisIndex(e,t){e.syncInteraction.active=!1,e.keyboardInteraction.active=!1,e.axisInteraction.click.active=!0,e.axisInteraction.click.index=t.payload.activeIndex,e.axisInteraction.click.dataKey=t.payload.activeDataKey,e.axisInteraction.click.coordinate=t.payload.activeCoordinate},setSyncInteraction(e,t){e.syncInteraction=t.payload},setKeyboardInteraction(e,t){e.keyboardInteraction.active=t.payload.active,e.keyboardInteraction.index=t.payload.activeIndex,e.keyboardInteraction.coordinate=t.payload.activeCoordinate,e.keyboardInteraction.dataKey=t.payload.activeDataKey}}}),{addTooltipEntrySettings:Cbe,replaceTooltipEntrySettings:Mbe,removeTooltipEntrySettings:Pbe,setTooltipSettingsState:Dbe,setActiveMouseOverItemIndex:Rbe,mouseLeaveItem:FTe,mouseLeaveChart:Mz,setActiveClickItemIndex:GTe,setMouseOverAxisIndex:Pz,setMouseClickAxisIndex:Lbe,setSyncInteraction:_k,setKeyboardInteraction:wk}=Cz.actions,Ibe=Cz.reducer;function ZL(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function H0(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?ZL(Object(n),!0).forEach(function(r){$be(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ZL(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function $be(e,t,n){return(t=Bbe(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Bbe(e){var t=zbe(e,"string");return typeof t=="symbol"?t:t+""}function zbe(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Ube(e,t,n){return t==="axis"?n==="click"?e.axisInteraction.click:e.axisInteraction.hover:n==="click"?e.itemInteraction.click:e.itemInteraction.hover}function Hbe(e){return e.index!=null}var Dz=(e,t,n,r)=>{if(t==null)return _l;var i=Ube(e,t,n);if(i==null)return _l;if(i.active)return i;if(e.keyboardInteraction.active)return e.keyboardInteraction;if(e.syncInteraction.active&&e.syncInteraction.index!=null)return e.syncInteraction;var a=e.settings.active===!0;if(Hbe(i)){if(a)return H0(H0({},i),{},{active:!0})}else if(r!=null)return{active:!0,coordinate:void 0,dataKey:void 0,index:r,graphicalItemId:void 0};return H0(H0({},_l),{},{coordinate:i.coordinate})};function Fbe(e){if(typeof e=="number")return Number.isFinite(e)?e:void 0;if(e instanceof Date){var t=e.valueOf();return Number.isFinite(t)?t:void 0}var n=Number(e);return Number.isFinite(n)?n:void 0}function Gbe(e,t){var n=Fbe(e),r=t[0],i=t[1];if(n===void 0)return!1;var a=Math.min(r,i),o=Math.max(r,i);return n>=a&&n<=o}function qbe(e,t,n){if(n==null||t==null)return!0;var r=Tr(e,t);return r==null||!Nl(n)?!0:Gbe(r,n)}var fT=(e,t,n,r)=>{var i=e?.index;if(i==null)return null;var a=Number(i);if(!_n(a))return i;var o=0,c=1/0;t.length>0&&(c=t.length-1);var u=Math.max(o,Math.min(a,c)),f=t[u];return f==null||qbe(f,n,r)?String(u):null},Rz=(e,t,n,r,i,a,o,c)=>{if(!(a==null||c==null)){var u=o[0],f=u==null?void 0:c(u.positions,a);if(f!=null)return f;var m=i?.[Number(a)];if(m)switch(n){case"horizontal":return{x:m.coordinate,y:(r.top+t)/2};default:return{x:(r.left+e)/2,y:m.coordinate}}}},Lz=(e,t,n,r)=>{if(t==="axis")return e.tooltipItemPayloads;if(e.tooltipItemPayloads.length===0)return[];var i;return n==="hover"?i=e.itemInteraction.hover.dataKey:i=e.itemInteraction.click.dataKey,i==null&&r!=null?[e.tooltipItemPayloads[0]]:e.tooltipItemPayloads.filter(a=>{var o;return((o=a.settings)===null||o===void 0?void 0:o.dataKey)===i})},yp=e=>e.options.tooltipPayloadSearcher,mf=e=>e.tooltip;function XL(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function JL(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?XL(Object(n),!0).forEach(function(r){Ybe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):XL(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Ybe(e,t,n){return(t=Kbe(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Kbe(e){var t=Wbe(e,"string");return typeof t=="symbol"?t:t+""}function Wbe(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Vbe(e,t){return e??t}var Iz=(e,t,n,r,i,a,o)=>{if(!(t==null||a==null)){var{chartData:c,computedData:u,dataStartIndex:f,dataEndIndex:m}=n,p=[];return e.reduce((g,v)=>{var _,{dataDefinedOnItem:w,settings:E}=v,T=Vbe(w,c),N=Array.isArray(T)?h6(T,f,m):T,O=(_=E?.dataKey)!==null&&_!==void 0?_:r,P=E?.nameKey,C;if(r&&Array.isArray(N)&&!Array.isArray(N[0])&&o==="axis"?C=A7(N,r,i):C=a(N,t,u,P),Array.isArray(C))C.forEach($=>{var H=JL(JL({},E),{},{name:$.name,unit:$.unit,color:void 0,fill:void 0});g.push(_R({tooltipEntrySettings:H,dataKey:$.dataKey,payload:$.payload,value:Tr($.payload,$.dataKey),name:$.name}))});else{var D;g.push(_R({tooltipEntrySettings:E,dataKey:O,payload:C,value:Tr(C,O),name:(D=Tr(C,P))!==null&&D!==void 0?D:E?.name}))}return g},p)}},hT=we([Vn,Vt,Y9,WA,Wn],pz),Zbe=we([e=>e.graphicalItems.cartesianItems,e=>e.graphicalItems.polarItems],(e,t)=>[...e,...t]),Xbe=we([Wn,df],K9),bp=we([Zbe,Vn,Xbe],V9,{memoizeOptions:{resultEqualityCheck:ix}}),Jbe=we([bp],e=>e.filter(tT)),Qbe=we([bp],J9,{memoizeOptions:{resultEqualityCheck:ix}}),pf=we([Qbe,Rl],Q9),eve=we([Jbe,Rl,Vn],F9),mT=we([pf,Vn,bp],ez),$z=we([Vn],iT),tve=we([Vn],e=>e.allowDataOverflow),Bz=we([$z,tve],w9),nve=we([bp],e=>e.filter(tT)),rve=we([eve,nve,Qv,L9],nz),ive=we([rve,Rl,Wn,Bz],rz),ave=we([bp],X9),ove=we([pf,Vn,ave,aT,Wn],oz,{memoizeOptions:{resultEqualityCheck:rx}}),sve=we([sz,Wn,df],ff),lve=we([sve,Wn],uz),cve=we([lz,Wn,df],ff),uve=we([cve,Wn],dz),dve=we([cz,Wn,df],ff),fve=we([dve,Wn],fz),hve=we([lve,fve,uve],Cb),mve=we([Vn,$z,Bz,ive,ove,hve,Vt,Wn],hz),vp=we([Vn,Vt,pf,mT,Qv,Wn,mve],mz),pve=we([vp,Vn,hT],gz),gve=we([Vn,vp,pve,Wn],yz),zz=e=>{var t=Wn(e),n=df(e),r=!1;return gp(e,t,n,r)},Uz=we([Vn,zz],ex),Hz=we([Vn,hT,gve,Uz],sT),yve=we([Vt,mT,Vn,Wn],wz),bve=we([Vt,mT,Vn,Wn],Sz),vve=(e,t,n,r,i,a,o,c)=>{if(t){var{type:u}=t,f=ws(e,c);if(r){var m=n==="scaleBand"&&r.bandwidth?r.bandwidth()/2:2,p=u==="category"&&r.bandwidth?r.bandwidth()/m:0;return p=c==="angleAxis"&&i!=null&&i?.length>=2?oa(i[0]-i[1])*2*p:p,f&&o?o.map((g,v)=>({coordinate:r(g)+p,value:g,index:v,offset:p})):r.domain().map((g,v)=>({coordinate:r(g)+p,value:a?a[g]:g,index:v,offset:p}))}}},Os=we([Vt,Vn,hT,Hz,zz,yve,bve,Wn],vve),pT=we([Tz,Oz,jbe],(e,t,n)=>jz(n.shared,e,t)),Fz=e=>e.tooltip.settings.trigger,gT=e=>e.tooltip.settings.defaultIndex,xp=we([mf,pT,Fz,gT],Dz),Dm=we([xp,pf,mp,vp],fT),Gz=we([Os,Dm],Nz),xve=we([xp],e=>{if(e)return e.dataKey});we([xp],e=>{if(e)return e.graphicalItemId});var qz=we([mf,pT,Fz,gT],Lz),_ve=we([Ss,Es,Vt,xr,Os,gT,qz,yp],Rz),wve=we([xp,_ve],(e,t)=>e!=null&&e.coordinate?e.coordinate:t),Sve=we([xp],e=>e.active),Eve=we([qz,Dm,Rl,mp,Gz,yp,pT],Iz),kve=we([Eve],e=>{if(e!=null){var t=e.map(n=>n.payload).filter(n=>n!=null);return Array.from(new Set(t))}});function QL(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function eI(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?QL(Object(n),!0).forEach(function(r){Ave(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):QL(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Ave(e,t,n){return(t=Tve(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Tve(e){var t=Ove(e,"string");return typeof t=="symbol"?t:t+""}function Ove(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var jve=()=>Je(Vn),Nve=()=>{var e=jve(),t=Je(Os),n=Je(Hz);return ub(!e||!n?void 0:eI(eI({},e),{},{scale:n}),t)};function tI(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function od(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?tI(Object(n),!0).forEach(function(r){Cve(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):tI(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Cve(e,t,n){return(t=Mve(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Mve(e){var t=Pve(e,"string");return typeof t=="symbol"?t:t+""}function Pve(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Dve=(e,t,n,r)=>{var i=t.find(a=>a&&a.index===n);if(i){if(e==="horizontal")return{x:i.coordinate,y:r.chartY};if(e==="vertical")return{x:r.chartX,y:i.coordinate}}return{x:0,y:0}},Rve=(e,t,n,r)=>{var i=t.find(f=>f&&f.index===n);if(i){if(e==="centric"){var a=i.coordinate,{radius:o}=r;return od(od(od({},r),yr(r.cx,r.cy,o,a)),{},{angle:a,radius:o})}var c=i.coordinate,{angle:u}=r;return od(od(od({},r),yr(r.cx,r.cy,c,u)),{},{angle:u,radius:c})}return{angle:0,clockWise:!1,cx:0,cy:0,endAngle:0,innerRadius:0,outerRadius:0,radius:0,startAngle:0,x:0,y:0}};function Lve(e,t){var{chartX:n,chartY:r}=e;return n>=t.left&&n<=t.left+t.width&&r>=t.top&&r<=t.top+t.height}var Yz=(e,t,n,r,i)=>{var a,o=-1,c=(a=t?.length)!==null&&a!==void 0?a:0;if(c<=1||e==null)return 0;if(r==="angleAxis"&&i!=null&&Math.abs(Math.abs(i[1]-i[0])-360)<=1e-6)for(var u=0;u<c;u++){var f=u>0?n[u-1].coordinate:n[c-1].coordinate,m=n[u].coordinate,p=u>=c-1?n[0].coordinate:n[u+1].coordinate,g=void 0;if(oa(m-f)!==oa(p-m)){var v=[];if(oa(p-m)===oa(i[1]-i[0])){g=p;var _=m+i[1]-i[0];v[0]=Math.min(_,(_+f)/2),v[1]=Math.max(_,(_+f)/2)}else{g=f;var w=p+i[1]-i[0];v[0]=Math.min(m,(w+m)/2),v[1]=Math.max(m,(w+m)/2)}var E=[Math.min(m,(g+m)/2),Math.max(m,(g+m)/2)];if(e>E[0]&&e<=E[1]||e>=v[0]&&e<=v[1]){({index:o}=n[u]);break}}else{var T=Math.min(f,p),N=Math.max(f,p);if(e>(T+m)/2&&e<=(N+m)/2){({index:o}=n[u]);break}}}else if(t){for(var O=0;O<c;O++)if(O===0&&e<=(t[O].coordinate+t[O+1].coordinate)/2||O>0&&O<c-1&&e>(t[O].coordinate+t[O-1].coordinate)/2&&e<=(t[O].coordinate+t[O+1].coordinate)/2||O===c-1&&e>(t[O].coordinate+t[O-1].coordinate)/2){({index:o}=t[O]);break}}return o},Kz=()=>Je(WA),yT=(e,t)=>t,Wz=(e,t,n)=>n,bT=(e,t,n,r)=>r,Ive=we(Os,e=>jv(e,t=>t.coordinate)),vT=we([mf,yT,Wz,bT],Dz),xT=we([vT,pf,mp,vp],fT),$ve=(e,t,n)=>{if(t!=null){var r=mf(e);return t==="axis"?n==="hover"?r.axisInteraction.hover.dataKey:r.axisInteraction.click.dataKey:n==="hover"?r.itemInteraction.hover.dataKey:r.itemInteraction.click.dataKey}},Vz=we([mf,yT,Wz,bT],Lz),Mb=we([Ss,Es,Vt,xr,Os,bT,Vz,yp],Rz),Bve=we([vT,Mb],(e,t)=>{var n;return(n=e.coordinate)!==null&&n!==void 0?n:t}),Zz=we([Os,xT],Nz),zve=we([Vz,xT,Rl,mp,Zz,yp,yT],Iz),Uve=we([vT,xT],(e,t)=>({isActive:e.active&&t!=null,activeIndex:t})),Hve=(e,t,n,r,i,a,o)=>{if(!(!e||!n||!r||!i)&&Lve(e,o)){var c=hhe(e,t),u=Yz(c,a,i,n,r),f=Dve(t,i,u,e);return{activeIndex:String(u),activeCoordinate:f}}},Fve=(e,t,n,r,i,a,o)=>{if(!(!e||!r||!i||!a||!n)){var c=Epe(e,n);if(c){var u=mhe(c,t),f=Yz(u,o,a,r,i),m=Rve(t,a,f,c);return{activeIndex:String(f),activeCoordinate:m}}}},Gve=(e,t,n,r,i,a,o,c)=>{if(!(!e||!t||!r||!i||!a))return t==="horizontal"||t==="vertical"?Hve(e,t,r,i,a,o,c):Fve(e,t,n,r,i,a,o)},qve=we(e=>e.zIndex.zIndexMap,(e,t)=>t,(e,t,n)=>n,(e,t,n)=>{if(t!=null){var r=e[t];if(r!=null)return n?r.panoramaElementId:r.elementId}}),Yve=we(e=>e.zIndex.zIndexMap,e=>{var t=Object.keys(e).map(r=>parseInt(r,10)).concat(Object.values(Ir)),n=Array.from(new Set(t));return n.sort((r,i)=>r-i)},{memoizeOptions:{resultEqualityCheck:Oye}});function nI(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function rI(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?nI(Object(n),!0).forEach(function(r){Kve(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):nI(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Kve(e,t,n){return(t=Wve(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Wve(e){var t=Vve(e,"string");return typeof t=="symbol"?t:t+""}function Vve(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Zve={},Xve={zIndexMap:Object.values(Ir).reduce((e,t)=>rI(rI({},e),{},{[t]:{elementId:void 0,panoramaElementId:void 0,consumers:0}}),Zve)},Jve=new Set(Object.values(Ir));function Qve(e){return Jve.has(e)}var Xz=di({name:"zIndex",initialState:Xve,reducers:{registerZIndexPortal:{reducer:(e,t)=>{var{zIndex:n}=t.payload;e.zIndexMap[n]?e.zIndexMap[n].consumers+=1:e.zIndexMap[n]={consumers:1,elementId:void 0,panoramaElementId:void 0}},prepare:an()},unregisterZIndexPortal:{reducer:(e,t)=>{var{zIndex:n}=t.payload;e.zIndexMap[n]&&(e.zIndexMap[n].consumers-=1,e.zIndexMap[n].consumers<=0&&!Qve(n)&&delete e.zIndexMap[n])},prepare:an()},registerZIndexPortalId:{reducer:(e,t)=>{var{zIndex:n,elementId:r,isPanorama:i}=t.payload;e.zIndexMap[n]?i?e.zIndexMap[n].panoramaElementId=r:e.zIndexMap[n].elementId=r:e.zIndexMap[n]={consumers:0,elementId:i?void 0:r,panoramaElementId:i?r:void 0}},prepare:an()},unregisterZIndexPortalId:{reducer:(e,t)=>{var{zIndex:n}=t.payload;e.zIndexMap[n]&&(t.payload.isPanorama?e.zIndexMap[n].panoramaElementId=void 0:e.zIndexMap[n].elementId=void 0)},prepare:an()}}}),{registerZIndexPortal:exe,unregisterZIndexPortal:txe,registerZIndexPortalId:nxe,unregisterZIndexPortalId:rxe}=Xz.actions,ixe=Xz.reducer;function js(e){var{zIndex:t,children:n}=e,r=Whe(),i=r&&t!==void 0&&t!==0,a=fi(),o=sr();S.useLayoutEffect(()=>i?(o(exe({zIndex:t})),()=>{o(txe({zIndex:t}))}):tp,[o,t,i]);var c=Je(f=>qve(f,t,a));if(!i)return n;if(!c)return null;var u=document.getElementById(c);return u?Zd.createPortal(n,u):null}function Sk(){return Sk=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Sk.apply(null,arguments)}function iI(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function F0(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?iI(Object(n),!0).forEach(function(r){axe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):iI(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function axe(e,t,n){return(t=oxe(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function oxe(e){var t=sxe(e,"string");return typeof t=="symbol"?t:t+""}function sxe(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function lxe(e){var{cursor:t,cursorComp:n,cursorProps:r}=e;return S.isValidElement(t)?S.cloneElement(t,r):S.createElement(n,r)}function cxe(e){var t,{coordinate:n,payload:r,index:i,offset:a,tooltipAxisBandSize:o,layout:c,cursor:u,tooltipEventType:f,chartName:m}=e,p=n,g=r,v=i;if(!u||!p||m!=="ScatterChart"&&f!=="axis")return null;var _,w,E;if(m==="ScatterChart")_=p,w=Lme,E=Ir.cursorLine;else if(m==="BarChart")_=Ime(c,p,a,o),w=mpe,E=Ir.cursorRectangle;else if(c==="radial"&&T7(p)){var{cx:T,cy:N,radius:O,startAngle:P,endAngle:C}=B6(p);_={cx:T,cy:N,startAngle:P,endAngle:C,innerRadius:O,outerRadius:O},w=Ope,E=Ir.cursorLine}else _={points:jpe(c,p,a)},w=fy,E=Ir.cursorLine;var D=typeof u=="object"&&"className"in u?u.className:void 0,$=F0(F0(F0(F0({stroke:"#ccc",pointerEvents:"none"},a),_),kv(u)),{},{payload:g,payloadIndex:v,className:Qt("recharts-tooltip-cursor",D)});return S.createElement(js,{zIndex:(t=e.zIndex)!==null&&t!==void 0?t:E},S.createElement(lxe,{cursor:u,cursorComp:w,cursorProps:$}))}function uxe(e){var t=Nve(),n=S6(),r=op(),i=Kz();return t==null||n==null||r==null||i==null?null:S.createElement(cxe,Sk({},e,{offset:n,layout:r,tooltipAxisBandSize:t,chartName:i}))}var Jz=S.createContext(null),dxe=()=>S.useContext(Jz),xS={exports:{}},aI;function fxe(){return aI||(aI=1,(function(e){var t=Object.prototype.hasOwnProperty,n="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(n=!1));function i(u,f,m){this.fn=u,this.context=f,this.once=m||!1}function a(u,f,m,p,g){if(typeof m!="function")throw new TypeError("The listener must be a function");var v=new i(m,p||u,g),_=n?n+f:f;return u._events[_]?u._events[_].fn?u._events[_]=[u._events[_],v]:u._events[_].push(v):(u._events[_]=v,u._eventsCount++),u}function o(u,f){--u._eventsCount===0?u._events=new r:delete u._events[f]}function c(){this._events=new r,this._eventsCount=0}c.prototype.eventNames=function(){var f=[],m,p;if(this._eventsCount===0)return f;for(p in m=this._events)t.call(m,p)&&f.push(n?p.slice(1):p);return Object.getOwnPropertySymbols?f.concat(Object.getOwnPropertySymbols(m)):f},c.prototype.listeners=function(f){var m=n?n+f:f,p=this._events[m];if(!p)return[];if(p.fn)return[p.fn];for(var g=0,v=p.length,_=new Array(v);g<v;g++)_[g]=p[g].fn;return _},c.prototype.listenerCount=function(f){var m=n?n+f:f,p=this._events[m];return p?p.fn?1:p.length:0},c.prototype.emit=function(f,m,p,g,v,_){var w=n?n+f:f;if(!this._events[w])return!1;var E=this._events[w],T=arguments.length,N,O;if(E.fn){switch(E.once&&this.removeListener(f,E.fn,void 0,!0),T){case 1:return E.fn.call(E.context),!0;case 2:return E.fn.call(E.context,m),!0;case 3:return E.fn.call(E.context,m,p),!0;case 4:return E.fn.call(E.context,m,p,g),!0;case 5:return E.fn.call(E.context,m,p,g,v),!0;case 6:return E.fn.call(E.context,m,p,g,v,_),!0}for(O=1,N=new Array(T-1);O<T;O++)N[O-1]=arguments[O];E.fn.apply(E.context,N)}else{var P=E.length,C;for(O=0;O<P;O++)switch(E[O].once&&this.removeListener(f,E[O].fn,void 0,!0),T){case 1:E[O].fn.call(E[O].context);break;case 2:E[O].fn.call(E[O].context,m);break;case 3:E[O].fn.call(E[O].context,m,p);break;case 4:E[O].fn.call(E[O].context,m,p,g);break;default:if(!N)for(C=1,N=new Array(T-1);C<T;C++)N[C-1]=arguments[C];E[O].fn.apply(E[O].context,N)}}return!0},c.prototype.on=function(f,m,p){return a(this,f,m,p,!1)},c.prototype.once=function(f,m,p){return a(this,f,m,p,!0)},c.prototype.removeListener=function(f,m,p,g){var v=n?n+f:f;if(!this._events[v])return this;if(!m)return o(this,v),this;var _=this._events[v];if(_.fn)_.fn===m&&(!g||_.once)&&(!p||_.context===p)&&o(this,v);else{for(var w=0,E=[],T=_.length;w<T;w++)(_[w].fn!==m||g&&!_[w].once||p&&_[w].context!==p)&&E.push(_[w]);E.length?this._events[v]=E.length===1?E[0]:E:o(this,v)}return this},c.prototype.removeAllListeners=function(f){var m;return f?(m=n?n+f:f,this._events[m]&&o(this,m)):(this._events=new r,this._eventsCount=0),this},c.prototype.off=c.prototype.removeListener,c.prototype.addListener=c.prototype.on,c.prefixed=n,c.EventEmitter=c,e.exports=c})(xS)),xS.exports}var hxe=fxe();const mxe=ui(hxe);var Rm=new mxe,Ek="recharts.syncEvent.tooltip",oI="recharts.syncEvent.brush";function pxe(e,t){if(t){var n=Number.parseInt(t,10);if(!Ua(n))return e?.[n]}}var gxe={chartName:"",tooltipPayloadSearcher:void 0,eventEmitter:void 0,defaultTooltipEventType:"axis"},Qz=di({name:"options",initialState:gxe,reducers:{createEventEmitter:e=>{e.eventEmitter==null&&(e.eventEmitter=Symbol("rechartsEventEmitter"))}}}),yxe=Qz.reducer,{createEventEmitter:bxe}=Qz.actions;function vxe(e){return e.tooltip.syncInteraction}var xxe={chartData:void 0,computedData:void 0,dataStartIndex:0,dataEndIndex:0},e8=di({name:"chartData",initialState:xxe,reducers:{setChartData(e,t){if(e.chartData=t.payload,t.payload==null){e.dataStartIndex=0,e.dataEndIndex=0;return}t.payload.length>0&&e.dataEndIndex!==t.payload.length-1&&(e.dataEndIndex=t.payload.length-1)},setComputedData(e,t){e.computedData=t.payload},setDataStartEndIndexes(e,t){var{startIndex:n,endIndex:r}=t.payload;n!=null&&(e.dataStartIndex=n),r!=null&&(e.dataEndIndex=r)}}}),{setChartData:sI,setDataStartEndIndexes:_xe,setComputedData:qTe}=e8.actions,wxe=e8.reducer,Sxe=["x","y"];function lI(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function sd(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?lI(Object(n),!0).forEach(function(r){Exe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):lI(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Exe(e,t,n){return(t=kxe(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function kxe(e){var t=Axe(e,"string");return typeof t=="symbol"?t:t+""}function Axe(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Txe(e,t){if(e==null)return{};var n,r,i=Oxe(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function Oxe(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function jxe(){var e=Je(VA),t=Je(ZA),n=sr(),r=Je(I9),i=Je(Os),a=op(),o=Hv(),c=Je(u=>u.rootProps.className);S.useEffect(()=>{if(e==null)return tp;var u=(f,m,p)=>{if(t!==p&&e===f){if(r==="index"){var g;if(o&&m!==null&&m!==void 0&&(g=m.payload)!==null&&g!==void 0&&g.coordinate&&m.payload.sourceViewBox){var v=m.payload.coordinate,{x:_,y:w}=v,E=Txe(v,Sxe),{x:T,y:N,width:O,height:P}=m.payload.sourceViewBox,C=sd(sd({},E),{},{x:o.x+(O?(_-T)/O:0)*o.width,y:o.y+(P?(w-N)/P:0)*o.height});n(sd(sd({},m),{},{payload:sd(sd({},m.payload),{},{coordinate:C})}))}else n(m);return}if(i!=null){var D;if(typeof r=="function"){var $={activeTooltipIndex:m.payload.index==null?void 0:Number(m.payload.index),isTooltipActive:m.payload.active,activeIndex:m.payload.index==null?void 0:Number(m.payload.index),activeLabel:m.payload.label,activeDataKey:m.payload.dataKey,activeCoordinate:m.payload.coordinate},H=r(i,$);D=i[H]}else r==="value"&&(D=i.find(q=>String(q.value)===m.payload.label));var{coordinate:Y}=m.payload;if(D==null||m.payload.active===!1||Y==null||o==null){n(_k({active:!1,coordinate:void 0,dataKey:void 0,index:null,label:void 0,sourceViewBox:void 0,graphicalItemId:void 0}));return}var{x:K,y:F}=Y,z=Math.min(K,o.x+o.width),X=Math.min(F,o.y+o.height),Q={x:a==="horizontal"?D.coordinate:z,y:a==="horizontal"?X:D.coordinate},J=_k({active:m.payload.active,coordinate:Q,dataKey:m.payload.dataKey,index:String(D.index),label:m.payload.label,sourceViewBox:m.payload.sourceViewBox,graphicalItemId:m.payload.graphicalItemId});n(J)}}};return Rm.on(Ek,u),()=>{Rm.off(Ek,u)}},[c,n,t,e,r,i,a,o])}function Nxe(){var e=Je(VA),t=Je(ZA),n=sr();S.useEffect(()=>{if(e==null)return tp;var r=(i,a,o)=>{t!==o&&e===i&&n(_xe(a))};return Rm.on(oI,r),()=>{Rm.off(oI,r)}},[n,t,e])}function Cxe(){var e=sr();S.useEffect(()=>{e(bxe())},[e]),jxe(),Nxe()}function Mxe(e,t,n,r,i,a){var o=Je(v=>$ve(v,e,t)),c=Je(ZA),u=Je(VA),f=Je(I9),m=Je(vxe),p=m?.active,g=Hv();S.useEffect(()=>{if(!p&&u!=null&&c!=null){var v=_k({active:a,coordinate:n,dataKey:o,index:i,label:typeof r=="number"?String(r):r,sourceViewBox:g,graphicalItemId:void 0});Rm.emit(Ek,u,v,c)}},[p,n,o,i,r,c,u,f,a,g])}function cI(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function uI(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?cI(Object(n),!0).forEach(function(r){Pxe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):cI(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Pxe(e,t,n){return(t=Dxe(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Dxe(e){var t=Rxe(e,"string");return typeof t=="symbol"?t:t+""}function Rxe(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Lxe(e){return e.dataKey}function Ixe(e,t){return S.isValidElement(e)?S.cloneElement(e,t):typeof e=="function"?S.createElement(e,t):S.createElement(pme,t)}var dI=[],$xe={allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",axisId:0,contentStyle:{},cursor:!0,filterNull:!0,isAnimationActive:"auto",itemSorter:"name",itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,wrapperStyle:{}};function Bxe(e){var t,n,r=Ui(e,$xe),{active:i,allowEscapeViewBox:a,animationDuration:o,animationEasing:c,content:u,filterNull:f,isAnimationActive:m,offset:p,payloadUniqBy:g,position:v,reverseDirection:_,useTranslate3d:w,wrapperStyle:E,cursor:T,shared:N,trigger:O,defaultIndex:P,portal:C,axisId:D}=r,$=sr(),H=typeof P=="number"?String(P):P;S.useEffect(()=>{$(Dbe({shared:N,trigger:O,axisId:D,active:i,defaultIndex:H}))},[$,N,O,D,i,H]);var Y=Hv(),K=P6(),F=Obe(N),{activeIndex:z,isActive:X}=(t=Je(pe=>Uve(pe,F,O,H)))!==null&&t!==void 0?t:{},Q=Je(pe=>zve(pe,F,O,H)),J=Je(pe=>Zz(pe,F,O,H)),q=Je(pe=>Bve(pe,F,O,H)),Z=Q,re=dxe(),ue=(n=i??X)!==null&&n!==void 0?n:!1,[se,B]=rfe([Z,ue]),W=F==="axis"?J:void 0;Mxe(F,O,q,W,z,ue);var ae=C??re;if(ae==null||Y==null||F==null)return null;var V=Z??dI;ue||(V=dI),f&&V.length&&(V=jde(V.filter(pe=>pe.value!=null&&(pe.hide!==!0||r.includeHidden)),g,Lxe));var oe=V.length>0,me=S.createElement(wme,{allowEscapeViewBox:a,animationDuration:o,animationEasing:c,isAnimationActive:m,active:ue,coordinate:q,hasPayload:oe,offset:p,position:v,reverseDirection:_,useTranslate3d:w,viewBox:Y,wrapperStyle:E,lastBoundingBox:se,innerRef:B,hasPortalFromProps:!!C},Ixe(u,uI(uI({},r),{},{payload:V,label:W,active:ue,activeIndex:z,coordinate:q,accessibilityLayer:K})));return S.createElement(S.Fragment,null,Zd.createPortal(me,ae),ue&&S.createElement(uxe,{cursor:T,tooltipEventType:F,coordinate:q,payload:V,index:z}))}function zxe(e,t,n){return(t=Uxe(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Uxe(e){var t=Hxe(e,"string");return typeof t=="symbol"?t:t+""}function Hxe(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class Fxe{constructor(t){zxe(this,"cache",new Map),this.maxSize=t}get(t){var n=this.cache.get(t);return n!==void 0&&(this.cache.delete(t),this.cache.set(t,n)),n}set(t,n){if(this.cache.has(t))this.cache.delete(t);else if(this.cache.size>=this.maxSize){var r=this.cache.keys().next().value;r!=null&&this.cache.delete(r)}this.cache.set(t,n)}clear(){this.cache.clear()}size(){return this.cache.size}}function fI(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Gxe(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?fI(Object(n),!0).forEach(function(r){qxe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):fI(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function qxe(e,t,n){return(t=Yxe(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Yxe(e){var t=Kxe(e,"string");return typeof t=="symbol"?t:t+""}function Kxe(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Wxe={cacheSize:2e3,enableCache:!0},t8=Gxe({},Wxe),hI=new Fxe(t8.cacheSize),Vxe={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},mI="recharts_measurement_span";function Zxe(e,t){var n=t.fontSize||"",r=t.fontFamily||"",i=t.fontWeight||"",a=t.fontStyle||"",o=t.letterSpacing||"",c=t.textTransform||"";return"".concat(e,"|").concat(n,"|").concat(r,"|").concat(i,"|").concat(a,"|").concat(o,"|").concat(c)}var pI=(e,t)=>{try{var n=document.getElementById(mI);n||(n=document.createElement("span"),n.setAttribute("id",mI),n.setAttribute("aria-hidden","true"),document.body.appendChild(n)),Object.assign(n.style,Vxe,t),n.textContent="".concat(e);var r=n.getBoundingClientRect();return{width:r.width,height:r.height}}catch{return{width:0,height:0}}},im=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t==null||sf.isSsr)return{width:0,height:0};if(!t8.enableCache)return pI(t,n);var r=Zxe(t,n),i=hI.get(r);if(i)return i;var a=pI(t,n);return hI.set(r,a),a},gI=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,yI=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,Xxe=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,Jxe=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,n8={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},Qxe=Object.keys(n8),vd="NaN";function e_e(e,t){return e*n8[t]}class ni{static parse(t){var n,[,r,i]=(n=Jxe.exec(t))!==null&&n!==void 0?n:[];return new ni(parseFloat(r),i??"")}constructor(t,n){this.num=t,this.unit=n,this.num=t,this.unit=n,Ua(t)&&(this.unit=""),n!==""&&!Xxe.test(n)&&(this.num=NaN,this.unit=""),Qxe.includes(n)&&(this.num=e_e(t,n),this.unit="px")}add(t){return this.unit!==t.unit?new ni(NaN,""):new ni(this.num+t.num,this.unit)}subtract(t){return this.unit!==t.unit?new ni(NaN,""):new ni(this.num-t.num,this.unit)}multiply(t){return this.unit!==""&&t.unit!==""&&this.unit!==t.unit?new ni(NaN,""):new ni(this.num*t.num,this.unit||t.unit)}divide(t){return this.unit!==""&&t.unit!==""&&this.unit!==t.unit?new ni(NaN,""):new ni(this.num/t.num,this.unit||t.unit)}toString(){return"".concat(this.num).concat(this.unit)}isNaN(){return Ua(this.num)}}function r8(e){if(e.includes(vd))return vd;for(var t=e;t.includes("*")||t.includes("/");){var n,[,r,i,a]=(n=gI.exec(t))!==null&&n!==void 0?n:[],o=ni.parse(r??""),c=ni.parse(a??""),u=i==="*"?o.multiply(c):o.divide(c);if(u.isNaN())return vd;t=t.replace(gI,u.toString())}for(;t.includes("+")||/.-\d+(?:\.\d+)?/.test(t);){var f,[,m,p,g]=(f=yI.exec(t))!==null&&f!==void 0?f:[],v=ni.parse(m??""),_=ni.parse(g??""),w=p==="+"?v.add(_):v.subtract(_);if(w.isNaN())return vd;t=t.replace(yI,w.toString())}return t}var bI=/\(([^()]*)\)/;function t_e(e){for(var t=e,n;(n=bI.exec(t))!=null;){var[,r]=n;t=t.replace(bI,r8(r))}return t}function n_e(e){var t=e.replace(/\s+/g,"");return t=t_e(t),t=r8(t),t}function r_e(e){try{return n_e(e)}catch{return vd}}function _S(e){var t=r_e(e.slice(5,-1));return t===vd?"":t}var i_e=["x","y","lineHeight","capHeight","fill","scaleToFit","textAnchor","verticalAnchor"],a_e=["dx","dy","angle","className","breakAll"];function kk(){return kk=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},kk.apply(null,arguments)}function vI(e,t){if(e==null)return{};var n,r,i=o_e(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function o_e(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var i8=/[ \f\n\r\t\v\u2028\u2029]+/,a8=e=>{var{children:t,breakAll:n,style:r}=e;try{var i=[];br(t)||(n?i=t.toString().split(""):i=t.toString().split(i8));var a=i.map(c=>({word:c,width:im(c,r).width})),o=n?0:im("",r).width;return{wordsWithComputedWidth:a,spaceWidth:o}}catch{return null}};function s_e(e){return e==="start"||e==="middle"||e==="end"||e==="inherit"}var o8=(e,t,n,r)=>e.reduce((i,a)=>{var{word:o,width:c}=a,u=i[i.length-1];if(u&&c!=null&&(t==null||r||u.width+c+n<Number(t)))u.words.push(o),u.width+=c+n;else{var f={words:[o],width:c};i.push(f)}return i},[]),s8=e=>e.reduce((t,n)=>t.width>n.width?t:n),l_e="",xI=(e,t,n,r,i,a,o,c)=>{var u=e.slice(0,t),f=a8({breakAll:n,style:r,children:u+l_e});if(!f)return[!1,[]];var m=o8(f.wordsWithComputedWidth,a,o,c),p=m.length>i||s8(m).width>Number(a);return[p,m]},c_e=(e,t,n,r,i)=>{var{maxLines:a,children:o,style:c,breakAll:u}=e,f=We(a),m=String(o),p=o8(t,r,n,i);if(!f||i)return p;var g=p.length>a||s8(p).width>Number(r);if(!g)return p;for(var v=0,_=m.length-1,w=0,E;v<=_&&w<=m.length-1;){var T=Math.floor((v+_)/2),N=T-1,[O,P]=xI(m,N,u,c,a,r,n,i),[C]=xI(m,T,u,c,a,r,n,i);if(!O&&!C&&(v=T+1),O&&C&&(_=T-1),!O&&C){E=P;break}w++}return E||p},_I=e=>{var t=br(e)?[]:e.toString().split(i8);return[{words:t,width:void 0}]},u_e=e=>{var{width:t,scaleToFit:n,children:r,style:i,breakAll:a,maxLines:o}=e;if((t||n)&&!sf.isSsr){var c,u,f=a8({breakAll:a,children:r,style:i});if(f){var{wordsWithComputedWidth:m,spaceWidth:p}=f;c=m,u=p}else return _I(r);return c_e({breakAll:a,children:r,maxLines:o,style:i},c,u,t,!!n)}return _I(r)},l8="#808080",d_e={angle:0,breakAll:!1,capHeight:"0.71em",fill:l8,lineHeight:"1em",scaleToFit:!1,textAnchor:"start",verticalAnchor:"end",x:0,y:0},_T=S.forwardRef((e,t)=>{var n=Ui(e,d_e),{x:r,y:i,lineHeight:a,capHeight:o,fill:c,scaleToFit:u,textAnchor:f,verticalAnchor:m}=n,p=vI(n,i_e),g=S.useMemo(()=>u_e({breakAll:p.breakAll,children:p.children,maxLines:p.maxLines,scaleToFit:u,style:p.style,width:p.width}),[p.breakAll,p.children,p.maxLines,u,p.style,p.width]),{dx:v,dy:_,angle:w,className:E,breakAll:T}=p,N=vI(p,a_e);if(!wo(r)||!wo(i)||g.length===0)return null;var O=Number(r)+(We(v)?v:0),P=Number(i)+(We(_)?_:0);if(!_n(O)||!_n(P))return null;var C;switch(m){case"start":C=_S("calc(".concat(o,")"));break;case"middle":C=_S("calc(".concat((g.length-1)/2," * -").concat(a," + (").concat(o," / 2))"));break;default:C=_S("calc(".concat(g.length-1," * -").concat(a,")"));break}var D=[];if(u){var $=g[0].width,{width:H}=p;D.push("scale(".concat(We(H)&&We($)?H/$:1,")"))}return w&&D.push("rotate(".concat(w,", ").concat(O,", ").concat(P,")")),D.length&&(N.transform=D.join(" ")),S.createElement("text",kk({},fa(N),{ref:t,x:O,y:P,className:Qt("recharts-text",E),textAnchor:f,fill:c.includes("url")?l8:c}),g.map((Y,K)=>{var F=Y.words.join(T?"":" ");return S.createElement("tspan",{x:O,dy:K===0?C:a,key:"".concat(F,"-").concat(K)},F)}))});_T.displayName="Text";var f_e=["labelRef"];function h_e(e,t){if(e==null)return{};var n,r,i=m_e(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function m_e(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function wI(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function kn(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?wI(Object(n),!0).forEach(function(r){p_e(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):wI(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function p_e(e,t,n){return(t=g_e(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function g_e(e){var t=y_e(e,"string");return typeof t=="symbol"?t:t+""}function y_e(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function rs(){return rs=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},rs.apply(null,arguments)}var c8=S.createContext(null),b_e=e=>{var{x:t,y:n,upperWidth:r,lowerWidth:i,width:a,height:o,children:c}=e,u=S.useMemo(()=>({x:t,y:n,upperWidth:r,lowerWidth:i,width:a,height:o}),[t,n,r,i,a,o]);return S.createElement(c8.Provider,{value:u},c)},u8=()=>{var e=S.useContext(c8),t=Hv();return e||w6(t)},v_e=S.createContext(null),x_e=()=>{var e=S.useContext(v_e),t=Je(H9);return e||t},__e=e=>{var{value:t,formatter:n}=e,r=br(e.children)?t:e.children;return typeof n=="function"?n(r):r},wT=e=>e!=null&&typeof e=="function",w_e=(e,t)=>{var n=oa(t-e),r=Math.min(Math.abs(t-e),360);return n*r},S_e=(e,t,n,r,i)=>{var{offset:a,className:o}=e,{cx:c,cy:u,innerRadius:f,outerRadius:m,startAngle:p,endAngle:g,clockWise:v}=i,_=(f+m)/2,w=w_e(p,g),E=w>=0?1:-1,T,N;switch(t){case"insideStart":T=p+E*a,N=v;break;case"insideEnd":T=g-E*a,N=!v;break;case"end":T=g+E*a,N=v;break;default:throw new Error("Unsupported position ".concat(t))}N=w<=0?N:!N;var O=yr(c,u,_,T),P=yr(c,u,_,T+(N?1:-1)*359),C="M".concat(O.x,",").concat(O.y,`
    A`).concat(_,",").concat(_,",0,1,").concat(N?0:1,`,
    `).concat(P.x,",").concat(P.y),D=br(e.id)?_m("recharts-radial-line-"):e.id;return S.createElement("text",rs({},r,{dominantBaseline:"central",className:Qt("recharts-radial-bar-label",o)}),S.createElement("defs",null,S.createElement("path",{id:D,d:C})),S.createElement("textPath",{xlinkHref:"#".concat(D)},n))},E_e=(e,t,n)=>{var{cx:r,cy:i,innerRadius:a,outerRadius:o,startAngle:c,endAngle:u}=e,f=(c+u)/2;if(n==="outside"){var{x:m,y:p}=yr(r,i,o+t,f);return{x:m,y:p,textAnchor:m>=r?"start":"end",verticalAnchor:"middle"}}if(n==="center")return{x:r,y:i,textAnchor:"middle",verticalAnchor:"middle"};if(n==="centerTop")return{x:r,y:i,textAnchor:"middle",verticalAnchor:"start"};if(n==="centerBottom")return{x:r,y:i,textAnchor:"middle",verticalAnchor:"end"};var g=(a+o)/2,{x:v,y:_}=yr(r,i,g,f);return{x:v,y:_,textAnchor:"middle",verticalAnchor:"middle"}},Ak=e=>"cx"in e&&We(e.cx),k_e=(e,t)=>{var{parentViewBox:n,offset:r,position:i}=e,a;n!=null&&!Ak(n)&&(a=n);var{x:o,y:c,upperWidth:u,lowerWidth:f,height:m}=t,p=o,g=o+(u-f)/2,v=(p+g)/2,_=(u+f)/2,w=p+u/2,E=m>=0?1:-1,T=E*r,N=E>0?"end":"start",O=E>0?"start":"end",P=u>=0?1:-1,C=P*r,D=P>0?"end":"start",$=P>0?"start":"end";if(i==="top"){var H={x:p+u/2,y:c-T,textAnchor:"middle",verticalAnchor:N};return kn(kn({},H),a?{height:Math.max(c-a.y,0),width:u}:{})}if(i==="bottom"){var Y={x:g+f/2,y:c+m+T,textAnchor:"middle",verticalAnchor:O};return kn(kn({},Y),a?{height:Math.max(a.y+a.height-(c+m),0),width:f}:{})}if(i==="left"){var K={x:v-C,y:c+m/2,textAnchor:D,verticalAnchor:"middle"};return kn(kn({},K),a?{width:Math.max(K.x-a.x,0),height:m}:{})}if(i==="right"){var F={x:v+_+C,y:c+m/2,textAnchor:$,verticalAnchor:"middle"};return kn(kn({},F),a?{width:Math.max(a.x+a.width-F.x,0),height:m}:{})}var z=a?{width:_,height:m}:{};return i==="insideLeft"?kn({x:v+C,y:c+m/2,textAnchor:$,verticalAnchor:"middle"},z):i==="insideRight"?kn({x:v+_-C,y:c+m/2,textAnchor:D,verticalAnchor:"middle"},z):i==="insideTop"?kn({x:p+u/2,y:c+T,textAnchor:"middle",verticalAnchor:O},z):i==="insideBottom"?kn({x:g+f/2,y:c+m-T,textAnchor:"middle",verticalAnchor:N},z):i==="insideTopLeft"?kn({x:p+C,y:c+T,textAnchor:$,verticalAnchor:O},z):i==="insideTopRight"?kn({x:p+u-C,y:c+T,textAnchor:D,verticalAnchor:O},z):i==="insideBottomLeft"?kn({x:g+C,y:c+m-T,textAnchor:$,verticalAnchor:N},z):i==="insideBottomRight"?kn({x:g+f-C,y:c+m-T,textAnchor:D,verticalAnchor:N},z):i&&typeof i=="object"&&(We(i.x)||hs(i.x))&&(We(i.y)||hs(i.y))?kn({x:o+jl(i.x,_),y:c+jl(i.y,m),textAnchor:"end",verticalAnchor:"end"},z):kn({x:w,y:c+m/2,textAnchor:"middle",verticalAnchor:"middle"},z)},A_e={angle:0,offset:5,zIndex:Ir.label,position:"middle",textBreakAll:!1};function gl(e){var t=Ui(e,A_e),{viewBox:n,position:r,value:i,children:a,content:o,className:c="",textBreakAll:u,labelRef:f}=t,m=x_e(),p=u8(),g=r==="center"?p:m??p,v,_,w;if(n==null?v=g:Ak(n)?v=n:v=w6(n),!v||br(i)&&br(a)&&!S.isValidElement(o)&&typeof o!="function")return null;var E=kn(kn({},t),{},{viewBox:v});if(S.isValidElement(o)){var{labelRef:T}=E,N=h_e(E,f_e);return S.cloneElement(o,N)}if(typeof o=="function"){if(_=S.createElement(o,E),S.isValidElement(_))return _}else _=__e(t);var O=fa(t);if(Ak(v)){if(r==="insideStart"||r==="insideEnd"||r==="end")return S_e(t,r,_,O,v);w=E_e(v,t.offset,t.position)}else w=k_e(t,v);return S.createElement(js,{zIndex:t.zIndex},S.createElement(_T,rs({ref:f,className:Qt("recharts-label",c)},O,w,{textAnchor:s_e(O.textAnchor)?O.textAnchor:w.textAnchor,breakAll:u}),_))}gl.displayName="Label";var T_e=(e,t,n)=>{if(!e)return null;var r={viewBox:t,labelRef:n};return e===!0?S.createElement(gl,rs({key:"label-implicit"},r)):wo(e)?S.createElement(gl,rs({key:"label-implicit",value:e},r)):S.isValidElement(e)?e.type===gl?S.cloneElement(e,kn({key:"label-implicit"},r)):S.createElement(gl,rs({key:"label-implicit",content:e},r)):wT(e)?S.createElement(gl,rs({key:"label-implicit",content:e},r)):e&&typeof e=="object"?S.createElement(gl,rs({},e,{key:"label-implicit"},r)):null};function O_e(e){var{label:t,labelRef:n}=e,r=u8();return T_e(t,r,n)||null}var wS={},SS={},SI;function j_e(){return SI||(SI=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return n[n.length-1]}e.last=t})(SS)),SS}var ES={},EI;function N_e(){return EI||(EI=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return Array.isArray(n)?n:Array.from(n)}e.toArray=t})(ES)),ES}var kI;function C_e(){return kI||(kI=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=j_e(),n=N_e(),r=uA();function i(a){if(r.isArrayLike(a))return t.last(n.toArray(a))}e.last=i})(wS)),wS}var kS,AI;function M_e(){return AI||(AI=1,kS=C_e().last),kS}var P_e=M_e();const D_e=ui(P_e);var R_e=["valueAccessor"],L_e=["dataKey","clockWise","id","textBreakAll","zIndex"];function Pb(){return Pb=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Pb.apply(null,arguments)}function TI(e,t){if(e==null)return{};var n,r,i=I_e(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function I_e(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var $_e=e=>Array.isArray(e.value)?D_e(e.value):e.value,d8=S.createContext(void 0),B_e=d8.Provider,f8=S.createContext(void 0);f8.Provider;function z_e(){return S.useContext(d8)}function U_e(){return S.useContext(f8)}function my(e){var{valueAccessor:t=$_e}=e,n=TI(e,R_e),{dataKey:r,clockWise:i,id:a,textBreakAll:o,zIndex:c}=n,u=TI(n,L_e),f=z_e(),m=U_e(),p=f||m;return!p||!p.length?null:S.createElement(js,{zIndex:c??Ir.label},S.createElement(_o,{className:"recharts-label-list"},p.map((g,v)=>{var _,w=br(r)?t(g,v):Tr(g&&g.payload,r),E=br(a)?{}:{id:"".concat(a,"-").concat(v)};return S.createElement(gl,Pb({key:"label-".concat(v)},fa(g),u,E,{fill:(_=n.fill)!==null&&_!==void 0?_:g.fill,parentViewBox:g.parentViewBox,value:w,textBreakAll:o,viewBox:g.viewBox,index:v,zIndex:0}))})))}my.displayName="LabelList";function H_e(e){var{label:t}=e;return t?t===!0?S.createElement(my,{key:"labelList-implicit"}):S.isValidElement(t)||wT(t)?S.createElement(my,{key:"labelList-implicit",content:t}):typeof t=="object"?S.createElement(my,Pb({key:"labelList-implicit"},t,{type:String(t.type)})):null:null}function Tk(){return Tk=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Tk.apply(null,arguments)}var h8=e=>{var{cx:t,cy:n,r,className:i}=e,a=Qt("recharts-dot",i);return We(t)&&We(n)&&We(r)?S.createElement("circle",Tk({},za(e),cA(e),{className:a,cx:t,cy:n,r})):null},F_e={radiusAxis:{},angleAxis:{}},m8=di({name:"polarAxis",initialState:F_e,reducers:{addRadiusAxis(e,t){e.radiusAxis[t.payload.id]=t.payload},removeRadiusAxis(e,t){delete e.radiusAxis[t.payload.id]},addAngleAxis(e,t){e.angleAxis[t.payload.id]=t.payload},removeAngleAxis(e,t){delete e.angleAxis[t.payload.id]}}}),{addRadiusAxis:YTe,removeRadiusAxis:KTe,addAngleAxis:WTe,removeAngleAxis:VTe}=m8.actions,G_e=m8.reducer,AS={exports:{}},Ct={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var OI;function q_e(){if(OI)return Ct;OI=1;var e=typeof Symbol=="function"&&Symbol.for,t=e?Symbol.for("react.element"):60103,n=e?Symbol.for("react.portal"):60106,r=e?Symbol.for("react.fragment"):60107,i=e?Symbol.for("react.strict_mode"):60108,a=e?Symbol.for("react.profiler"):60114,o=e?Symbol.for("react.provider"):60109,c=e?Symbol.for("react.context"):60110,u=e?Symbol.for("react.async_mode"):60111,f=e?Symbol.for("react.concurrent_mode"):60111,m=e?Symbol.for("react.forward_ref"):60112,p=e?Symbol.for("react.suspense"):60113,g=e?Symbol.for("react.suspense_list"):60120,v=e?Symbol.for("react.memo"):60115,_=e?Symbol.for("react.lazy"):60116,w=e?Symbol.for("react.block"):60121,E=e?Symbol.for("react.fundamental"):60117,T=e?Symbol.for("react.responder"):60118,N=e?Symbol.for("react.scope"):60119;function O(C){if(typeof C=="object"&&C!==null){var D=C.$$typeof;switch(D){case t:switch(C=C.type,C){case u:case f:case r:case a:case i:case p:return C;default:switch(C=C&&C.$$typeof,C){case c:case m:case _:case v:case o:return C;default:return D}}case n:return D}}}function P(C){return O(C)===f}return Ct.AsyncMode=u,Ct.ConcurrentMode=f,Ct.ContextConsumer=c,Ct.ContextProvider=o,Ct.Element=t,Ct.ForwardRef=m,Ct.Fragment=r,Ct.Lazy=_,Ct.Memo=v,Ct.Portal=n,Ct.Profiler=a,Ct.StrictMode=i,Ct.Suspense=p,Ct.isAsyncMode=function(C){return P(C)||O(C)===u},Ct.isConcurrentMode=P,Ct.isContextConsumer=function(C){return O(C)===c},Ct.isContextProvider=function(C){return O(C)===o},Ct.isElement=function(C){return typeof C=="object"&&C!==null&&C.$$typeof===t},Ct.isForwardRef=function(C){return O(C)===m},Ct.isFragment=function(C){return O(C)===r},Ct.isLazy=function(C){return O(C)===_},Ct.isMemo=function(C){return O(C)===v},Ct.isPortal=function(C){return O(C)===n},Ct.isProfiler=function(C){return O(C)===a},Ct.isStrictMode=function(C){return O(C)===i},Ct.isSuspense=function(C){return O(C)===p},Ct.isValidElementType=function(C){return typeof C=="string"||typeof C=="function"||C===r||C===f||C===a||C===i||C===p||C===g||typeof C=="object"&&C!==null&&(C.$$typeof===_||C.$$typeof===v||C.$$typeof===o||C.$$typeof===c||C.$$typeof===m||C.$$typeof===E||C.$$typeof===T||C.$$typeof===N||C.$$typeof===w)},Ct.typeOf=O,Ct}var jI;function Y_e(){return jI||(jI=1,AS.exports=q_e()),AS.exports}Y_e();var p8=e=>e&&typeof e=="object"&&"clipDot"in e?!!e.clipDot:!0;function K_e(e){var{tooltipEntrySettings:t}=e,n=sr(),r=fi(),i=S.useRef(null);return S.useLayoutEffect(()=>{r||(i.current===null?n(Cbe(t)):i.current!==t&&n(Mbe({prev:i.current,next:t})),i.current=t)},[t,n,r]),S.useLayoutEffect(()=>()=>{i.current&&(n(Pbe(i.current)),i.current=null)},[n]),null}function W_e(e){var{legendPayload:t}=e,n=sr(),r=fi(),i=S.useRef(null);return S.useLayoutEffect(()=>{r||(i.current===null?n(sme(t)):i.current!==t&&n(lme({prev:i.current,next:t})),i.current=t)},[n,r,t]),S.useLayoutEffect(()=>()=>{i.current&&(n(cme(i.current)),i.current=null)},[n]),null}var TS,V_e=()=>{var[e]=S.useState(()=>_m("uid-"));return e},Z_e=(TS=$H.useId)!==null&&TS!==void 0?TS:V_e;function g8(e,t){var n=Z_e();return t||(e?"".concat(e,"-").concat(n):n)}var X_e=S.createContext(void 0),J_e=e=>{var{id:t,type:n,children:r}=e,i=g8("recharts-".concat(n),t);return S.createElement(X_e.Provider,{value:i},r(i))},Q_e={cartesianItems:[],polarItems:[]},y8=di({name:"graphicalItems",initialState:Q_e,reducers:{addCartesianGraphicalItem:{reducer(e,t){e.cartesianItems.push(t.payload)},prepare:an()},replaceCartesianGraphicalItem:{reducer(e,t){var{prev:n,next:r}=t.payload,i=Ia(e).cartesianItems.indexOf(n);i>-1&&(e.cartesianItems[i]=r)},prepare:an()},removeCartesianGraphicalItem:{reducer(e,t){var n=Ia(e).cartesianItems.indexOf(t.payload);n>-1&&e.cartesianItems.splice(n,1)},prepare:an()},addPolarGraphicalItem:{reducer(e,t){e.polarItems.push(t.payload)},prepare:an()},removePolarGraphicalItem:{reducer(e,t){var n=Ia(e).polarItems.indexOf(t.payload);n>-1&&e.polarItems.splice(n,1)},prepare:an()}}}),{addCartesianGraphicalItem:ewe,replaceCartesianGraphicalItem:twe,removeCartesianGraphicalItem:nwe,addPolarGraphicalItem:ZTe,removePolarGraphicalItem:XTe}=y8.actions,rwe=y8.reducer,iwe=e=>{var t=sr(),n=S.useRef(null);return S.useLayoutEffect(()=>{n.current===null?t(ewe(e)):n.current!==e&&t(twe({prev:n.current,next:e})),n.current=e},[t,e]),S.useLayoutEffect(()=>()=>{n.current&&(t(nwe(n.current)),n.current=null)},[t]),null},awe=S.memo(iwe),owe=["points"];function NI(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function OS(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?NI(Object(n),!0).forEach(function(r){swe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):NI(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function swe(e,t,n){return(t=lwe(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function lwe(e){var t=cwe(e,"string");return typeof t=="symbol"?t:t+""}function cwe(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Db(){return Db=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Db.apply(null,arguments)}function uwe(e,t){if(e==null)return{};var n,r,i=dwe(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function dwe(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function fwe(e){var{option:t,dotProps:n,className:r}=e;if(S.isValidElement(t))return S.cloneElement(t,n);if(typeof t=="function")return t(n);var i=Qt(r,typeof t!="boolean"?t.className:""),a=n??{},{points:o}=a,c=uwe(a,owe);return S.createElement(h8,Db({},c,{className:i}))}function hwe(e,t){return e==null?!1:t?!0:e.length===1}function mwe(e){var{points:t,dot:n,className:r,dotClassName:i,dataKey:a,baseProps:o,needClip:c,clipPathId:u,zIndex:f=Ir.scatter}=e;if(!hwe(t,n))return null;var m=p8(n),p=Sue(n),g=t.map((_,w)=>{var E,T,N=OS(OS(OS({r:3},o),p),{},{index:w,cx:(E=_.x)!==null&&E!==void 0?E:void 0,cy:(T=_.y)!==null&&T!==void 0?T:void 0,dataKey:a,value:_.value,payload:_.payload,points:t});return S.createElement(fwe,{key:"dot-".concat(w),option:n,dotProps:N,className:i})}),v={};return c&&u!=null&&(v.clipPath="url(#clipPath-".concat(m?"":"dots-").concat(u,")")),S.createElement(js,{zIndex:f},S.createElement(_o,Db({className:r},v),g))}function CI(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function MI(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?CI(Object(n),!0).forEach(function(r){pwe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):CI(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function pwe(e,t,n){return(t=gwe(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function gwe(e){var t=ywe(e,"string");return typeof t=="symbol"?t:t+""}function ywe(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var bwe={xAxis:{},yAxis:{},zAxis:{}},b8=di({name:"cartesianAxis",initialState:bwe,reducers:{addXAxis:{reducer(e,t){e.xAxis[t.payload.id]=t.payload},prepare:an()},replaceXAxis:{reducer(e,t){var{prev:n,next:r}=t.payload;e.xAxis[n.id]!==void 0&&(n.id!==r.id&&delete e.xAxis[n.id],e.xAxis[r.id]=r)},prepare:an()},removeXAxis:{reducer(e,t){delete e.xAxis[t.payload.id]},prepare:an()},addYAxis:{reducer(e,t){e.yAxis[t.payload.id]=t.payload},prepare:an()},replaceYAxis:{reducer(e,t){var{prev:n,next:r}=t.payload;e.yAxis[n.id]!==void 0&&(n.id!==r.id&&delete e.yAxis[n.id],e.yAxis[r.id]=r)},prepare:an()},removeYAxis:{reducer(e,t){delete e.yAxis[t.payload.id]},prepare:an()},addZAxis:{reducer(e,t){e.zAxis[t.payload.id]=t.payload},prepare:an()},replaceZAxis:{reducer(e,t){var{prev:n,next:r}=t.payload;e.zAxis[n.id]!==void 0&&(n.id!==r.id&&delete e.zAxis[n.id],e.zAxis[r.id]=r)},prepare:an()},removeZAxis:{reducer(e,t){delete e.zAxis[t.payload.id]},prepare:an()},updateYAxisWidth(e,t){var{id:n,width:r}=t.payload,i=e.yAxis[n];if(i){var a=i.widthHistory||[];if(a.length===3&&a[0]===a[2]&&r===a[1]&&r!==i.width&&Math.abs(r-a[0])<=1)return;var o=[...a,r].slice(-3);e.yAxis[n]=MI(MI({},e.yAxis[n]),{},{width:r,widthHistory:o})}}}}),{addXAxis:vwe,replaceXAxis:xwe,removeXAxis:_we,addYAxis:wwe,replaceYAxis:Swe,removeYAxis:Ewe,addZAxis:JTe,replaceZAxis:QTe,removeZAxis:eOe,updateYAxisWidth:kwe}=b8.actions,Awe=b8.reducer,Twe=we([xr],e=>({top:e.top,bottom:e.bottom,left:e.left,right:e.right})),Owe=we([Twe,Ss,Es],(e,t,n)=>{if(!(!e||t==null||n==null))return{x:e.left,y:e.top,width:Math.max(0,t-e.left-e.right),height:Math.max(0,n-e.top-e.bottom)}}),ST=()=>Je(Owe),jwe=()=>Je(kve);function PI(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function jS(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?PI(Object(n),!0).forEach(function(r){Nwe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):PI(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Nwe(e,t,n){return(t=Cwe(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Cwe(e){var t=Mwe(e,"string");return typeof t=="symbol"?t:t+""}function Mwe(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Pwe=e=>{var{point:t,childIndex:n,mainColor:r,activeDot:i,dataKey:a,clipPath:o}=e;if(i===!1||t.x==null||t.y==null)return null;var c={index:n,dataKey:a,cx:t.x,cy:t.y,r:4,fill:r??"none",strokeWidth:2,stroke:"#fff",payload:t.payload,value:t.value},u=jS(jS(jS({},c),kv(i)),cA(i)),f;return S.isValidElement(i)?f=S.cloneElement(i,u):typeof i=="function"?f=i(u):f=S.createElement(h8,u),S.createElement(_o,{className:"recharts-active-dot",clipPath:o},f)};function DI(e){var{points:t,mainColor:n,activeDot:r,itemDataKey:i,clipPath:a,zIndex:o=Ir.activeDot}=e,c=Je(Dm),u=jwe();if(t==null||u==null)return null;var f=t.find(m=>u.includes(m.payload));return br(f)?null:S.createElement(js,{zIndex:o},S.createElement(Pwe,{point:f,childIndex:Number(c),mainColor:n,dataKey:i,activeDot:r,clipPath:a}))}var Dwe={},v8=di({name:"errorBars",initialState:Dwe,reducers:{addErrorBar:(e,t)=>{var{itemId:n,errorBar:r}=t.payload;e[n]||(e[n]=[]),e[n].push(r)},replaceErrorBar:(e,t)=>{var{itemId:n,prev:r,next:i}=t.payload;e[n]&&(e[n]=e[n].map(a=>a.dataKey===r.dataKey&&a.direction===r.direction?i:a))},removeErrorBar:(e,t)=>{var{itemId:n,errorBar:r}=t.payload;e[n]&&(e[n]=e[n].filter(i=>i.dataKey!==r.dataKey||i.direction!==r.direction))}}}),{addErrorBar:tOe,replaceErrorBar:nOe,removeErrorBar:rOe}=v8.actions,Rwe=v8.reducer;function x8(e,t){var n,r,i=Je(f=>As(f,e)),a=Je(f=>Ts(f,t)),o=(n=i?.allowDataOverflow)!==null&&n!==void 0?n:tr.allowDataOverflow,c=(r=a?.allowDataOverflow)!==null&&r!==void 0?r:nr.allowDataOverflow,u=o||c;return{needClip:u,needClipX:o,needClipY:c}}function Lwe(e){var{xAxisId:t,yAxisId:n,clipPathId:r}=e,i=ST(),{needClipX:a,needClipY:o,needClip:c}=x8(t,n);if(!c||!i)return null;var{x:u,y:f,width:m,height:p}=i;return S.createElement("clipPath",{id:"clipPath-".concat(r)},S.createElement("rect",{x:a?u:u-m/2,y:o?f:f-p/2,width:a?m:m*2,height:o?p:p*2}))}var Iwe=new Set(["axisLine","tickLine","activeBar","activeDot","activeLabel","activeShape","allowEscapeViewBox","background","cursor","dot","label","line","margin","padding","position","shape","style","tick","wrapperStyle"]);function $we(e,t){return e==null&&t==null?!0:typeof e=="number"&&typeof t=="number"?e===t||e!==e&&t!==t:e===t}function ET(e,t){var n=new Set([...Object.keys(e),...Object.keys(t)]);for(var r of n)if(Iwe.has(r)){if(e[r]==null&&t[r]==null)continue;if(!oy(e[r],t[r]))return!1}else if(!$we(e[r],t[r]))return!1;return!0}var Bwe=e=>{var{chartData:t}=e,n=sr(),r=fi();return S.useEffect(()=>r?()=>{}:(n(sI(t)),()=>{n(sI(void 0))}),[t,n,r]),null},RI={x:0,y:0,width:0,height:0,padding:{top:0,right:0,bottom:0,left:0}},_8=di({name:"brush",initialState:RI,reducers:{setBrushSettings(e,t){return t.payload==null?RI:t.payload}}}),{setBrushSettings:iOe}=_8.actions,zwe=_8.reducer;function Uwe(e,t,n){return(t=Hwe(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Hwe(e){var t=Fwe(e,"string");return typeof t=="symbol"?t:t+""}function Fwe(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class kT{static create(t){return new kT(t)}constructor(t){this.scale=t}get domain(){return this.scale.domain}get range(){return this.scale.range}get rangeMin(){return this.range()[0]}get rangeMax(){return this.range()[1]}get bandwidth(){return this.scale.bandwidth}apply(t){var{bandAware:n,position:r}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t!==void 0){if(r)switch(r){case"start":return this.scale(t);case"middle":{var i=this.bandwidth?this.bandwidth()/2:0;return this.scale(t)+i}case"end":{var a=this.bandwidth?this.bandwidth():0;return this.scale(t)+a}default:return this.scale(t)}if(n){var o=this.bandwidth?this.bandwidth()/2:0;return this.scale(t)+o}return this.scale(t)}}isInRange(t){var n=this.range(),r=n[0],i=n[n.length-1];return r<=i?t>=r&&t<=i:t>=i&&t<=r}}Uwe(kT,"EPS",1e-4);function Gwe(e){return(e%180+180)%180}var qwe=function(t){var{width:n,height:r}=t,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,a=Gwe(i),o=a*Math.PI/180,c=Math.atan(r/n),u=o>c&&o<Math.PI-c?r/Math.sin(o):n/Math.cos(o);return Math.abs(u)},Ywe={dots:[],areas:[],lines:[]},w8=di({name:"referenceElements",initialState:Ywe,reducers:{addDot:(e,t)=>{e.dots.push(t.payload)},removeDot:(e,t)=>{var n=Ia(e).dots.findIndex(r=>r===t.payload);n!==-1&&e.dots.splice(n,1)},addArea:(e,t)=>{e.areas.push(t.payload)},removeArea:(e,t)=>{var n=Ia(e).areas.findIndex(r=>r===t.payload);n!==-1&&e.areas.splice(n,1)},addLine:(e,t)=>{e.lines.push(t.payload)},removeLine:(e,t)=>{var n=Ia(e).lines.findIndex(r=>r===t.payload);n!==-1&&e.lines.splice(n,1)}}}),{addDot:aOe,removeDot:oOe,addArea:sOe,removeArea:lOe,addLine:cOe,removeLine:uOe}=w8.actions,Kwe=w8.reducer,Wwe=S.createContext(void 0),Vwe=e=>{var{children:t}=e,[n]=S.useState("".concat(_m("recharts"),"-clip")),r=ST();if(r==null)return null;var{x:i,y:a,width:o,height:c}=r;return S.createElement(Wwe.Provider,{value:n},S.createElement("defs",null,S.createElement("clipPath",{id:n},S.createElement("rect",{x:i,y:a,height:c,width:o}))),t)};function S8(e,t){if(t<1)return[];if(t===1)return e;for(var n=[],r=0;r<e.length;r+=t)n.push(e[r]);return n}function Zwe(e,t,n){var r={width:e.width+t.width,height:e.height+t.height};return qwe(r,n)}function Xwe(e,t,n){var r=n==="width",{x:i,y:a,width:o,height:c}=e;return t===1?{start:r?i:a,end:r?i+o:a+c}:{start:r?i+o:a+c,end:r?i:a}}function Rb(e,t,n,r,i){if(e*t<e*r||e*t>e*i)return!1;var a=n();return e*(t-e*a/2-r)>=0&&e*(t+e*a/2-i)<=0}function Jwe(e,t){return S8(e,t+1)}function Qwe(e,t,n,r,i){for(var a=(r||[]).slice(),{start:o,end:c}=t,u=0,f=1,m=o,p=function(){var _=r?.[u];if(_===void 0)return{v:S8(r,f)};var w=u,E,T=()=>(E===void 0&&(E=n(_,w)),E),N=_.coordinate,O=u===0||Rb(e,N,T,m,c);O||(u=0,m=o,f+=1),O&&(m=N+e*(T()/2+i),u+=f)},g;f<=a.length;)if(g=p(),g)return g.v;return[]}function LI(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function kr(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?LI(Object(n),!0).forEach(function(r){e1e(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):LI(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function e1e(e,t,n){return(t=t1e(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function t1e(e){var t=n1e(e,"string");return typeof t=="symbol"?t:t+""}function n1e(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function r1e(e,t,n,r,i){for(var a=(r||[]).slice(),o=a.length,{start:c}=t,{end:u}=t,f=function(g){var v=a[g],_,w=()=>(_===void 0&&(_=n(v,g)),_);if(g===o-1){var E=e*(v.coordinate+e*w()/2-u);a[g]=v=kr(kr({},v),{},{tickCoord:E>0?v.coordinate-E*e:v.coordinate})}else a[g]=v=kr(kr({},v),{},{tickCoord:v.coordinate});if(v.tickCoord!=null){var T=Rb(e,v.tickCoord,w,c,u);T&&(u=v.tickCoord-e*(w()/2+i),a[g]=kr(kr({},v),{},{isShow:!0}))}},m=o-1;m>=0;m--)f(m);return a}function i1e(e,t,n,r,i,a){var o=(r||[]).slice(),c=o.length,{start:u,end:f}=t;if(a){var m=r[c-1],p=n(m,c-1),g=e*(m.coordinate+e*p/2-f);if(o[c-1]=m=kr(kr({},m),{},{tickCoord:g>0?m.coordinate-g*e:m.coordinate}),m.tickCoord!=null){var v=Rb(e,m.tickCoord,()=>p,u,f);v&&(f=m.tickCoord-e*(p/2+i),o[c-1]=kr(kr({},m),{},{isShow:!0}))}}for(var _=a?c-1:c,w=function(N){var O=o[N],P,C=()=>(P===void 0&&(P=n(O,N)),P);if(N===0){var D=e*(O.coordinate-e*C()/2-u);o[N]=O=kr(kr({},O),{},{tickCoord:D<0?O.coordinate-D*e:O.coordinate})}else o[N]=O=kr(kr({},O),{},{tickCoord:O.coordinate});if(O.tickCoord!=null){var $=Rb(e,O.tickCoord,C,u,f);$&&(u=O.tickCoord+e*(C()/2+i),o[N]=kr(kr({},O),{},{isShow:!0}))}},E=0;E<_;E++)w(E);return o}function AT(e,t,n){var{tick:r,ticks:i,viewBox:a,minTickGap:o,orientation:c,interval:u,tickFormatter:f,unit:m,angle:p}=e;if(!i||!i.length||!r)return[];if(We(u)||sf.isSsr){var g;return(g=Jwe(i,We(u)?u:0))!==null&&g!==void 0?g:[]}var v=[],_=c==="top"||c==="bottom"?"width":"height",w=m&&_==="width"?im(m,{fontSize:t,letterSpacing:n}):{width:0,height:0},E=(O,P)=>{var C=typeof f=="function"?f(O.value,P):O.value;return _==="width"?Zwe(im(C,{fontSize:t,letterSpacing:n}),w,p):im(C,{fontSize:t,letterSpacing:n})[_]},T=i.length>=2?oa(i[1].coordinate-i[0].coordinate):1,N=Xwe(a,T,_);return u==="equidistantPreserveStart"?Qwe(T,N,E,i,o):(u==="preserveStart"||u==="preserveStartEnd"?v=i1e(T,N,E,i,o,u==="preserveStartEnd"):v=r1e(T,N,E,i,o),v.filter(O=>O.isShow))}var a1e=e=>{var{ticks:t,label:n,labelGapWithTick:r=5,tickSize:i=0,tickMargin:a=0}=e,o=0;if(t){Array.from(t).forEach(m=>{if(m){var p=m.getBoundingClientRect();p.width>o&&(o=p.width)}});var c=n?n.getBoundingClientRect().width:0,u=i+a,f=o+u+c+(n?r:0);return Math.round(f)}return 0},o1e=["axisLine","width","height","className","hide","ticks","axisType"];function s1e(e,t){if(e==null)return{};var n,r,i=l1e(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function l1e(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function tu(){return tu=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},tu.apply(null,arguments)}function II(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Dn(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?II(Object(n),!0).forEach(function(r){c1e(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):II(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function c1e(e,t,n){return(t=u1e(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function u1e(e){var t=d1e(e,"string");return typeof t=="symbol"?t:t+""}function d1e(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var cs={x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd",zIndex:Ir.axis};function f1e(e){var{x:t,y:n,width:r,height:i,orientation:a,mirror:o,axisLine:c,otherSvgProps:u}=e;if(!c)return null;var f=Dn(Dn(Dn({},u),za(c)),{},{fill:"none"});if(a==="top"||a==="bottom"){var m=+(a==="top"&&!o||a==="bottom"&&o);f=Dn(Dn({},f),{},{x1:t,y1:n+m*i,x2:t+r,y2:n+m*i})}else{var p=+(a==="left"&&!o||a==="right"&&o);f=Dn(Dn({},f),{},{x1:t+p*r,y1:n,x2:t+p*r,y2:n+i})}return S.createElement("line",tu({},f,{className:Qt("recharts-cartesian-axis-line",Ov(c,"className"))}))}function h1e(e,t,n,r,i,a,o,c,u){var f,m,p,g,v,_,w=c?-1:1,E=e.tickSize||o,T=We(e.tickCoord)?e.tickCoord:e.coordinate;switch(a){case"top":f=m=e.coordinate,g=n+ +!c*i,p=g-w*E,_=p-w*u,v=T;break;case"left":p=g=e.coordinate,m=t+ +!c*r,f=m-w*E,v=f-w*u,_=T;break;case"right":p=g=e.coordinate,m=t+ +c*r,f=m+w*E,v=f+w*u,_=T;break;default:f=m=e.coordinate,g=n+ +c*i,p=g+w*E,_=p+w*u,v=T;break}return{line:{x1:f,y1:p,x2:m,y2:g},tick:{x:v,y:_}}}function m1e(e,t){switch(e){case"left":return t?"start":"end";case"right":return t?"end":"start";default:return"middle"}}function p1e(e,t){switch(e){case"left":case"right":return"middle";case"top":return t?"start":"end";default:return t?"end":"start"}}function g1e(e){var{option:t,tickProps:n,value:r}=e,i,a=Qt(n.className,"recharts-cartesian-axis-tick-value");if(S.isValidElement(t))i=S.cloneElement(t,Dn(Dn({},n),{},{className:a}));else if(typeof t=="function")i=t(Dn(Dn({},n),{},{className:a}));else{var o="recharts-cartesian-axis-tick-value";typeof t!="boolean"&&(o=Qt(o,t?.className)),i=S.createElement(_T,tu({},n,{className:o}),r)}return i}var y1e=S.forwardRef((e,t)=>{var{ticks:n=[],tick:r,tickLine:i,stroke:a,tickFormatter:o,unit:c,padding:u,tickTextProps:f,orientation:m,mirror:p,x:g,y:v,width:_,height:w,tickSize:E,tickMargin:T,fontSize:N,letterSpacing:O,getTicksConfig:P,events:C,axisType:D}=e,$=AT(Dn(Dn({},P),{},{ticks:n}),N,O),H=m1e(m,p),Y=p1e(m,p),K=za(P),F=kv(r),z={};typeof i=="object"&&(z=i);var X=Dn(Dn({},K),{},{fill:"none"},z),Q=$.map(Z=>Dn({entry:Z},h1e(Z,g,v,_,w,m,E,p,T))),J=Q.map(Z=>{var{entry:re,line:ue}=Z;return S.createElement(_o,{className:"recharts-cartesian-axis-tick",key:"tick-".concat(re.value,"-").concat(re.coordinate,"-").concat(re.tickCoord)},i&&S.createElement("line",tu({},X,ue,{className:Qt("recharts-cartesian-axis-tick-line",Ov(i,"className"))})))}),q=Q.map((Z,re)=>{var{entry:ue,tick:se}=Z,B=Dn(Dn(Dn(Dn({textAnchor:H,verticalAnchor:Y},K),{},{stroke:"none",fill:a},F),se),{},{index:re,payload:ue,visibleTicksCount:$.length,tickFormatter:o,padding:u},f);return S.createElement(_o,tu({className:"recharts-cartesian-axis-tick-label",key:"tick-label-".concat(ue.value,"-").concat(ue.coordinate,"-").concat(ue.tickCoord)},ade(C,ue,re)),r&&S.createElement(g1e,{option:r,tickProps:B,value:"".concat(typeof o=="function"?o(ue.value,re):ue.value).concat(c||"")}))});return S.createElement("g",{className:"recharts-cartesian-axis-ticks recharts-".concat(D,"-ticks")},q.length>0&&S.createElement(js,{zIndex:Ir.label},S.createElement("g",{className:"recharts-cartesian-axis-tick-labels recharts-".concat(D,"-tick-labels"),ref:t},q)),J.length>0&&S.createElement("g",{className:"recharts-cartesian-axis-tick-lines recharts-".concat(D,"-tick-lines")},J))}),b1e=S.forwardRef((e,t)=>{var{axisLine:n,width:r,height:i,className:a,hide:o,ticks:c,axisType:u}=e,f=s1e(e,o1e),[m,p]=S.useState(""),[g,v]=S.useState(""),_=S.useRef(null);S.useImperativeHandle(t,()=>({getCalculatedWidth:()=>{var E;return a1e({ticks:_.current,label:(E=e.labelRef)===null||E===void 0?void 0:E.current,labelGapWithTick:5,tickSize:e.tickSize,tickMargin:e.tickMargin})}}));var w=S.useCallback(E=>{if(E){var T=E.getElementsByClassName("recharts-cartesian-axis-tick-value");_.current=T;var N=T[0];if(N){var O=window.getComputedStyle(N),P=O.fontSize,C=O.letterSpacing;(P!==m||C!==g)&&(p(P),v(C))}}},[m,g]);return o||r!=null&&r<=0||i!=null&&i<=0?null:S.createElement(js,{zIndex:e.zIndex},S.createElement(_o,{className:Qt("recharts-cartesian-axis",a)},S.createElement(f1e,{x:e.x,y:e.y,width:r,height:i,orientation:e.orientation,mirror:e.mirror,axisLine:n,otherSvgProps:za(e)}),S.createElement(y1e,{ref:w,axisType:u,events:f,fontSize:m,getTicksConfig:e,height:e.height,letterSpacing:g,mirror:e.mirror,orientation:e.orientation,padding:e.padding,stroke:e.stroke,tick:e.tick,tickFormatter:e.tickFormatter,tickLine:e.tickLine,tickMargin:e.tickMargin,tickSize:e.tickSize,tickTextProps:e.tickTextProps,ticks:c,unit:e.unit,width:e.width,x:e.x,y:e.y}),S.createElement(b_e,{x:e.x,y:e.y,width:e.width,height:e.height,lowerWidth:e.width,upperWidth:e.width},S.createElement(O_e,{label:e.label,labelRef:e.labelRef}),e.children)))}),TT=S.forwardRef((e,t)=>{var n=Ui(e,cs);return S.createElement(b1e,tu({},n,{ref:t}))});TT.displayName="CartesianAxis";var v1e=["x1","y1","x2","y2","key"],x1e=["offset"],_1e=["xAxisId","yAxisId"],w1e=["xAxisId","yAxisId"];function $I(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Ar(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?$I(Object(n),!0).forEach(function(r){S1e(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):$I(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function S1e(e,t,n){return(t=E1e(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function E1e(e){var t=k1e(e,"string");return typeof t=="symbol"?t:t+""}function k1e(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Fc(){return Fc=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Fc.apply(null,arguments)}function Lb(e,t){if(e==null)return{};var n,r,i=A1e(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function A1e(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var T1e=e=>{var{fill:t}=e;if(!t||t==="none")return null;var{fillOpacity:n,x:r,y:i,width:a,height:o,ry:c}=e;return S.createElement("rect",{x:r,y:i,ry:c,width:a,height:o,stroke:"none",fill:t,fillOpacity:n,className:"recharts-cartesian-grid-bg"})};function E8(e){var{option:t,lineItemProps:n}=e,r;if(S.isValidElement(t))r=S.cloneElement(t,n);else if(typeof t=="function")r=t(n);else{var i,{x1:a,y1:o,x2:c,y2:u,key:f}=n,m=Lb(n,v1e),p=(i=za(m))!==null&&i!==void 0?i:{},{offset:g}=p,v=Lb(p,x1e);r=S.createElement("line",Fc({},v,{x1:a,y1:o,x2:c,y2:u,fill:"none",key:f}))}return r}function O1e(e){var{x:t,width:n,horizontal:r=!0,horizontalPoints:i}=e;if(!r||!i||!i.length)return null;var{xAxisId:a,yAxisId:o}=e,c=Lb(e,_1e),u=i.map((f,m)=>{var p=Ar(Ar({},c),{},{x1:t,y1:f,x2:t+n,y2:f,key:"line-".concat(m),index:m});return S.createElement(E8,{key:"line-".concat(m),option:r,lineItemProps:p})});return S.createElement("g",{className:"recharts-cartesian-grid-horizontal"},u)}function j1e(e){var{y:t,height:n,vertical:r=!0,verticalPoints:i}=e;if(!r||!i||!i.length)return null;var{xAxisId:a,yAxisId:o}=e,c=Lb(e,w1e),u=i.map((f,m)=>{var p=Ar(Ar({},c),{},{x1:f,y1:t,x2:f,y2:t+n,key:"line-".concat(m),index:m});return S.createElement(E8,{option:r,lineItemProps:p,key:"line-".concat(m)})});return S.createElement("g",{className:"recharts-cartesian-grid-vertical"},u)}function N1e(e){var{horizontalFill:t,fillOpacity:n,x:r,y:i,width:a,height:o,horizontalPoints:c,horizontal:u=!0}=e;if(!u||!t||!t.length||c==null)return null;var f=c.map(p=>Math.round(p+i-i)).sort((p,g)=>p-g);i!==f[0]&&f.unshift(0);var m=f.map((p,g)=>{var v=!f[g+1],_=v?i+o-p:f[g+1]-p;if(_<=0)return null;var w=g%t.length;return S.createElement("rect",{key:"react-".concat(g),y:p,x:r,height:_,width:a,stroke:"none",fill:t[w],fillOpacity:n,className:"recharts-cartesian-grid-bg"})});return S.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},m)}function C1e(e){var{vertical:t=!0,verticalFill:n,fillOpacity:r,x:i,y:a,width:o,height:c,verticalPoints:u}=e;if(!t||!n||!n.length)return null;var f=u.map(p=>Math.round(p+i-i)).sort((p,g)=>p-g);i!==f[0]&&f.unshift(0);var m=f.map((p,g)=>{var v=!f[g+1],_=v?i+o-p:f[g+1]-p;if(_<=0)return null;var w=g%n.length;return S.createElement("rect",{key:"react-".concat(g),x:p,y:a,width:_,height:c,stroke:"none",fill:n[w],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return S.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},m)}var M1e=(e,t)=>{var{xAxis:n,width:r,height:i,offset:a}=e;return m6(AT(Ar(Ar(Ar({},cs),n),{},{ticks:p6(n),viewBox:{x:0,y:0,width:r,height:i}})),a.left,a.left+a.width,t)},P1e=(e,t)=>{var{yAxis:n,width:r,height:i,offset:a}=e;return m6(AT(Ar(Ar(Ar({},cs),n),{},{ticks:p6(n),viewBox:{x:0,y:0,width:r,height:i}})),a.top,a.top+a.height,t)},D1e={horizontal:!0,vertical:!0,horizontalPoints:[],verticalPoints:[],stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[],xAxisId:0,yAxisId:0,syncWithTicks:!1,zIndex:Ir.grid};function k8(e){var t=E6(),n=k6(),r=S6(),i=Ar(Ar({},Ui(e,D1e)),{},{x:We(e.x)?e.x:r.left,y:We(e.y)?e.y:r.top,width:We(e.width)?e.width:r.width,height:We(e.height)?e.height:r.height}),{xAxisId:a,yAxisId:o,x:c,y:u,width:f,height:m,syncWithTicks:p,horizontalValues:g,verticalValues:v}=i,_=fi(),w=Je(Y=>VL(Y,"xAxis",a,_)),E=Je(Y=>VL(Y,"yAxis",o,_));if(!So(f)||!So(m)||!We(c)||!We(u))return null;var T=i.verticalCoordinatesGenerator||M1e,N=i.horizontalCoordinatesGenerator||P1e,{horizontalPoints:O,verticalPoints:P}=i;if((!O||!O.length)&&typeof N=="function"){var C=g&&g.length,D=N({yAxis:E?Ar(Ar({},E),{},{ticks:C?g:E.ticks}):void 0,width:t??f,height:n??m,offset:r},C?!0:p);db(Array.isArray(D),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(typeof D,"]")),Array.isArray(D)&&(O=D)}if((!P||!P.length)&&typeof T=="function"){var $=v&&v.length,H=T({xAxis:w?Ar(Ar({},w),{},{ticks:$?v:w.ticks}):void 0,width:t??f,height:n??m,offset:r},$?!0:p);db(Array.isArray(H),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(typeof H,"]")),Array.isArray(H)&&(P=H)}return S.createElement(js,{zIndex:i.zIndex},S.createElement("g",{className:"recharts-cartesian-grid"},S.createElement(T1e,{fill:i.fill,fillOpacity:i.fillOpacity,x:i.x,y:i.y,width:i.width,height:i.height,ry:i.ry}),S.createElement(N1e,Fc({},i,{horizontalPoints:O})),S.createElement(C1e,Fc({},i,{verticalPoints:P})),S.createElement(O1e,Fc({},i,{offset:r,horizontalPoints:O,xAxis:w,yAxis:E})),S.createElement(j1e,Fc({},i,{offset:r,verticalPoints:P,xAxis:w,yAxis:E}))))}k8.displayName="CartesianGrid";function R1e(e){var t=kv(e),n=3,r=2;if(t!=null){var{r:i,strokeWidth:a}=t,o=Number(i),c=Number(a);return(Number.isNaN(o)||o<0)&&(o=n),(Number.isNaN(c)||c<0)&&(c=r),{r:o,strokeWidth:c}}return{r:n,strokeWidth:r}}var A8=(e,t,n,r)=>Az(e,"xAxis",t,r),T8=(e,t,n,r)=>kz(e,"xAxis",t,r),O8=(e,t,n,r)=>Az(e,"yAxis",n,r),j8=(e,t,n,r)=>kz(e,"yAxis",n,r),L1e=we([Vt,A8,O8,T8,j8],(e,t,n,r,i)=>ws(e,"xAxis")?ub(t,r,!1):ub(n,i,!1)),I1e=(e,t,n,r,i)=>i,N8=we([W9,I1e],(e,t)=>e.filter(n=>n.type==="area").find(n=>n.id===t)),$1e=(e,t,n,r,i)=>{var a,o=N8(e,t,n,r,i);if(o!=null){var c=Vt(e),u=ws(c,"xAxis"),f;if(u?f=xk(e,"yAxis",n,r):f=xk(e,"xAxis",t,r),f!=null){var{stackId:m}=o,p=eT(o);if(!(m==null||p==null)){var g=(a=f[m])===null||a===void 0?void 0:a.stackedData;return g?.find(v=>v.key===p)}}}},B1e=we([Vt,A8,O8,T8,j8,$1e,qA,L1e,N8,wye],(e,t,n,r,i,a,o,c,u,f)=>{var{chartData:m,dataStartIndex:p,dataEndIndex:g}=o;if(!(u==null||e!=="horizontal"&&e!=="vertical"||t==null||n==null||r==null||i==null||r.length===0||i.length===0||c==null)){var{data:v}=u,_;if(v&&v.length>0?_=v:_=m?.slice(p,g+1),_!=null)return iSe({layout:e,xAxis:t,yAxis:n,xAxisTicks:r,yAxisTicks:i,dataStartIndex:p,areaSettings:u,stackedData:a,displayedData:_,chartBaseValue:f,bandSize:c})}}),z1e=["id"],U1e=["activeDot","animationBegin","animationDuration","animationEasing","connectNulls","dot","fill","fillOpacity","hide","isAnimationActive","legendType","stroke","xAxisId","yAxisId"];function Wc(){return Wc=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Wc.apply(null,arguments)}function C8(e,t){if(e==null)return{};var n,r,i=H1e(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function H1e(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function BI(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function xd(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?BI(Object(n),!0).forEach(function(r){F1e(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):BI(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function F1e(e,t,n){return(t=G1e(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function G1e(e){var t=q1e(e,"string");return typeof t=="symbol"?t:t+""}function q1e(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Ib(e,t){return e&&e!=="none"?e:t}var Y1e=e=>{var{dataKey:t,name:n,stroke:r,fill:i,legendType:a,hide:o}=e;return[{inactive:o,dataKey:t,type:a,color:Ib(r,i),value:g6(n,t),payload:e}]},K1e=S.memo(e=>{var{dataKey:t,data:n,stroke:r,strokeWidth:i,fill:a,name:o,hide:c,unit:u,tooltipType:f}=e,m={dataDefinedOnItem:n,positions:void 0,settings:{stroke:r,strokeWidth:i,fill:a,dataKey:t,nameKey:void 0,name:g6(o,t),hide:c,type:f,color:Ib(r,a),unit:u}};return S.createElement(K_e,{tooltipEntrySettings:m})});function W1e(e){var{clipPathId:t,points:n,props:r}=e,{needClip:i,dot:a,dataKey:o}=r,c=za(r);return S.createElement(mwe,{points:n,dot:a,className:"recharts-area-dots",dotClassName:"recharts-area-dot",dataKey:o,baseProps:c,needClip:i,clipPathId:t})}function V1e(e){var{showLabels:t,children:n,points:r}=e,i=r.map(a=>{var o,c,u={x:(o=a.x)!==null&&o!==void 0?o:0,y:(c=a.y)!==null&&c!==void 0?c:0,width:0,lowerWidth:0,upperWidth:0,height:0};return xd(xd({},u),{},{value:a.value,payload:a.payload,parentViewBox:void 0,viewBox:u,fill:void 0})});return S.createElement(B_e,{value:t?i:void 0},n)}function zI(e){var{points:t,baseLine:n,needClip:r,clipPathId:i,props:a}=e,{layout:o,type:c,stroke:u,connectNulls:f,isRange:m}=a,{id:p}=a,g=C8(a,z1e),v=za(g),_=fa(g);return S.createElement(S.Fragment,null,t?.length>1&&S.createElement(_o,{clipPath:r?"url(#clipPath-".concat(i,")"):void 0},S.createElement(fy,Wc({},_,{id:p,points:t,connectNulls:f,type:c,baseLine:n,layout:o,stroke:"none",className:"recharts-area-area"})),u!=="none"&&S.createElement(fy,Wc({},v,{className:"recharts-area-curve",layout:o,type:c,connectNulls:f,fill:"none",points:t})),u!=="none"&&m&&S.createElement(fy,Wc({},v,{className:"recharts-area-curve",layout:o,type:c,connectNulls:f,fill:"none",points:n}))),S.createElement(W1e,{points:t,props:g,clipPathId:i}))}function Z1e(e){var{alpha:t,baseLine:n,points:r,strokeWidth:i}=e,a=r[0].y,o=r[r.length-1].y;if(!_n(a)||!_n(o))return null;var c=t*Math.abs(a-o),u=Math.max(...r.map(f=>f.x||0));return We(n)?u=Math.max(n,u):n&&Array.isArray(n)&&n.length&&(u=Math.max(...n.map(f=>f.x||0),u)),We(u)?S.createElement("rect",{x:0,y:a<o?a:a-c,width:u+(i?parseInt("".concat(i),10):1),height:Math.floor(c)}):null}function X1e(e){var{alpha:t,baseLine:n,points:r,strokeWidth:i}=e,a=r[0].x,o=r[r.length-1].x;if(!_n(a)||!_n(o))return null;var c=t*Math.abs(a-o),u=Math.max(...r.map(f=>f.y||0));return We(n)?u=Math.max(n,u):n&&Array.isArray(n)&&n.length&&(u=Math.max(...n.map(f=>f.y||0),u)),We(u)?S.createElement("rect",{x:a<o?a:a-c,y:0,width:c,height:Math.floor(u+(i?parseInt("".concat(i),10):1))}):null}function J1e(e){var{alpha:t,layout:n,points:r,baseLine:i,strokeWidth:a}=e;return n==="vertical"?S.createElement(Z1e,{alpha:t,points:r,baseLine:i,strokeWidth:a}):S.createElement(X1e,{alpha:t,points:r,baseLine:i,strokeWidth:a})}function Q1e(e){var{needClip:t,clipPathId:n,props:r,previousPointsRef:i,previousBaselineRef:a}=e,{points:o,baseLine:c,isAnimationActive:u,animationBegin:f,animationDuration:m,animationEasing:p,onAnimationStart:g,onAnimationEnd:v}=r,_=S.useMemo(()=>({points:o,baseLine:c}),[o,c]),w=$6(_,"recharts-area-"),E=Khe(),[T,N]=S.useState(!1),O=!T,P=S.useCallback(()=>{typeof v=="function"&&v(),N(!1)},[v]),C=S.useCallback(()=>{typeof g=="function"&&g(),N(!0)},[g]);if(E==null)return null;var D=i.current,$=a.current;return S.createElement(V1e,{showLabels:O,points:o},r.children,S.createElement(I6,{animationId:w,begin:f,duration:m,isActive:u,easing:p,onAnimationEnd:P,onAnimationStart:C,key:w},H=>{if(D){var Y=D.length/o.length,K=H===1?o:o.map((z,X)=>{var Q=Math.floor(X*Y);if(D[Q]){var J=D[Q];return xd(xd({},z),{},{x:po(J.x,z.x,H),y:po(J.y,z.y,H)})}return z}),F;return We(c)?F=po($,c,H):br(c)||Ua(c)?F=po($,0,H):F=c.map((z,X)=>{var Q=Math.floor(X*Y);if(Array.isArray($)&&$[Q]){var J=$[Q];return xd(xd({},z),{},{x:po(J.x,z.x,H),y:po(J.y,z.y,H)})}return z}),H>0&&(i.current=K,a.current=F),S.createElement(zI,{points:K,baseLine:F,needClip:t,clipPathId:n,props:r})}return H>0&&(i.current=o,a.current=c),S.createElement(_o,null,u&&S.createElement("defs",null,S.createElement("clipPath",{id:"animationClipPath-".concat(n)},S.createElement(J1e,{alpha:H,points:o,baseLine:c,layout:E,strokeWidth:r.strokeWidth}))),S.createElement(_o,{clipPath:"url(#animationClipPath-".concat(n,")")},S.createElement(zI,{points:o,baseLine:c,needClip:t,clipPathId:n,props:r})))}),S.createElement(H_e,{label:r.label}))}function eSe(e){var{needClip:t,clipPathId:n,props:r}=e,i=S.useRef(null),a=S.useRef();return S.createElement(Q1e,{needClip:t,clipPathId:n,props:r,previousPointsRef:i,previousBaselineRef:a})}class tSe extends S.PureComponent{render(){var{hide:t,dot:n,points:r,className:i,top:a,left:o,needClip:c,xAxisId:u,yAxisId:f,width:m,height:p,id:g,baseLine:v,zIndex:_}=this.props;if(t)return null;var w=Qt("recharts-area",i),E=g,{r:T,strokeWidth:N}=R1e(n),O=p8(n),P=T*2+N,C=c?"url(#clipPath-".concat(O?"":"dots-").concat(E,")"):void 0;return S.createElement(js,{zIndex:_},S.createElement(_o,{className:w},c&&S.createElement("defs",null,S.createElement(Lwe,{clipPathId:E,xAxisId:u,yAxisId:f}),!O&&S.createElement("clipPath",{id:"clipPath-dots-".concat(E)},S.createElement("rect",{x:o-P/2,y:a-P/2,width:m+P,height:p+P}))),S.createElement(eSe,{needClip:c,clipPathId:E,props:this.props})),S.createElement(DI,{points:r,mainColor:Ib(this.props.stroke,this.props.fill),itemDataKey:this.props.dataKey,activeDot:this.props.activeDot,clipPath:C}),this.props.isRange&&Array.isArray(v)&&S.createElement(DI,{points:v,mainColor:Ib(this.props.stroke,this.props.fill),itemDataKey:this.props.dataKey,activeDot:this.props.activeDot,clipPath:C}))}}var M8={activeDot:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",connectNulls:!1,dot:!1,fill:"#3182bd",fillOpacity:.6,hide:!1,isAnimationActive:"auto",legendType:"line",stroke:"#3182bd",strokeWidth:1,type:"linear",label:!1,xAxisId:0,yAxisId:0,zIndex:Ir.area};function nSe(e){var t,n=Ui(e,M8),{activeDot:r,animationBegin:i,animationDuration:a,animationEasing:o,connectNulls:c,dot:u,fill:f,fillOpacity:m,hide:p,isAnimationActive:g,legendType:v,stroke:_,xAxisId:w,yAxisId:E}=n,T=C8(n,U1e),N=op(),O=Kz(),{needClip:P}=x8(w,E),C=fi(),{points:D,isRange:$,baseLine:H}=(t=Je(Q=>B1e(Q,w,E,C,e.id)))!==null&&t!==void 0?t:{},Y=ST();if(N!=="horizontal"&&N!=="vertical"||Y==null||O!=="AreaChart"&&O!=="ComposedChart")return null;var{height:K,width:F,x:z,y:X}=Y;return!D||!D.length?null:S.createElement(tSe,Wc({},T,{activeDot:r,animationBegin:i,animationDuration:a,animationEasing:o,baseLine:H,connectNulls:c,dot:u,fill:f,fillOpacity:m,height:K,hide:p,layout:N,isAnimationActive:g==="auto"?!sf.isSsr:g,isRange:$,legendType:v,needClip:P,points:D,stroke:_,width:F,left:z,top:X,xAxisId:w,yAxisId:E}))}var rSe=(e,t,n,r,i)=>{var a=n??t;if(We(a))return a;var o=e==="horizontal"?i:r,c=o.scale.domain();if(o.type==="number"){var u=Math.max(c[0],c[1]),f=Math.min(c[0],c[1]);return a==="dataMin"?f:a==="dataMax"||u<0?u:Math.max(Math.min(c[0],c[1]),0)}return a==="dataMin"?c[0]:a==="dataMax"?c[1]:c[0]};function iSe(e){var{areaSettings:{connectNulls:t,baseValue:n,dataKey:r},stackedData:i,layout:a,chartBaseValue:o,xAxis:c,yAxis:u,displayedData:f,dataStartIndex:m,xAxisTicks:p,yAxisTicks:g,bandSize:v}=e,_=i&&i.length,w=rSe(a,o,n,c,u),E=a==="horizontal",T=!1,N=f.map((P,C)=>{var D;_?D=i[m+C]:(D=Tr(P,r),Array.isArray(D)?T=!0:D=[w,D]);var $=D[1]==null||_&&!t&&Tr(P,r)==null;return E?{x:bR({axis:c,ticks:p,bandSize:v,entry:P,index:C}),y:$?null:u.scale(D[1]),value:D,payload:P}:{x:$?null:c.scale(D[1]),y:bR({axis:u,ticks:g,bandSize:v,entry:P,index:C}),value:D,payload:P}}),O;return _||T?O=N.map(P=>{var C=Array.isArray(P.value)?P.value[0]:null;return E?{x:P.x,y:C!=null&&P.y!=null?u.scale(C):null,payload:P.payload}:{x:C!=null?c.scale(C):null,y:P.y,payload:P.payload}}):O=E?u.scale(w):c.scale(w),{points:N,baseLine:O,isRange:T}}function aSe(e){var t=Ui(e,M8),n=fi();return S.createElement(J_e,{id:t.id,type:"area"},r=>S.createElement(S.Fragment,null,S.createElement(W_e,{legendPayload:Y1e(t)}),S.createElement(K1e,{dataKey:t.dataKey,data:t.data,stroke:t.stroke,strokeWidth:t.strokeWidth,fill:t.fill,name:t.name,hide:t.hide,unit:t.unit,tooltipType:t.tooltipType}),S.createElement(awe,{type:"area",id:r,data:t.data,dataKey:t.dataKey,xAxisId:t.xAxisId,yAxisId:t.yAxisId,zAxisId:0,stackId:che(t.stackId),hide:t.hide,barSize:void 0,baseValue:t.baseValue,isPanorama:n,connectNulls:t.connectNulls}),S.createElement(nSe,Wc({},t,{id:r}))))}var P8=S.memo(aSe,ET);P8.displayName="Area";var oSe=["domain","range"],sSe=["domain","range"];function UI(e,t){if(e==null)return{};var n,r,i=lSe(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function lSe(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function HI(e,t){return e===t?!0:Array.isArray(e)&&e.length===2&&Array.isArray(t)&&t.length===2?e[0]===t[0]&&e[1]===t[1]:!1}function D8(e,t){if(e===t)return!0;var{domain:n,range:r}=e,i=UI(e,oSe),{domain:a,range:o}=t,c=UI(t,sSe);return!HI(n,a)||!HI(r,o)?!1:ET(i,c)}var cSe=["dangerouslySetInnerHTML","ticks"],uSe=["id"];function Ok(){return Ok=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ok.apply(null,arguments)}function FI(e,t){if(e==null)return{};var n,r,i=dSe(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function dSe(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function fSe(e){var t=sr(),n=S.useRef(null);return S.useLayoutEffect(()=>{n.current===null?t(vwe(e)):n.current!==e&&t(xwe({prev:n.current,next:e})),n.current=e},[e,t]),S.useLayoutEffect(()=>()=>{n.current&&(t(_we(n.current)),n.current=null)},[t]),null}var hSe=e=>{var{xAxisId:t,className:n}=e,r=Je(b6),i=fi(),a="xAxis",o=Je(E=>hf(E,a,t,i)),c=Je(E=>Ez(E,a,t,i)),u=Je(E=>mbe(E,t)),f=Je(E=>xbe(E,t)),m=Je(E=>G9(E,t));if(u==null||f==null||m==null)return null;var{dangerouslySetInnerHTML:p,ticks:g}=e,v=FI(e,cSe),{id:_}=m,w=FI(m,uSe);return S.createElement(TT,Ok({},v,w,{scale:o,x:f.x,y:f.y,width:u.width,height:u.height,className:Qt("recharts-".concat(a," ").concat(a),n),viewBox:r,ticks:c,axisType:a}))},mSe={allowDataOverflow:tr.allowDataOverflow,allowDecimals:tr.allowDecimals,allowDuplicatedCategory:tr.allowDuplicatedCategory,angle:tr.angle,axisLine:cs.axisLine,height:tr.height,hide:!1,includeHidden:tr.includeHidden,interval:tr.interval,minTickGap:tr.minTickGap,mirror:tr.mirror,orientation:tr.orientation,padding:tr.padding,reversed:tr.reversed,scale:tr.scale,tick:tr.tick,tickCount:tr.tickCount,tickLine:cs.tickLine,tickSize:cs.tickSize,type:tr.type,xAxisId:0},pSe=e=>{var t=Ui(e,mSe);return S.createElement(S.Fragment,null,S.createElement(fSe,{allowDataOverflow:t.allowDataOverflow,allowDecimals:t.allowDecimals,allowDuplicatedCategory:t.allowDuplicatedCategory,angle:t.angle,dataKey:t.dataKey,domain:t.domain,height:t.height,hide:t.hide,id:t.xAxisId,includeHidden:t.includeHidden,interval:t.interval,minTickGap:t.minTickGap,mirror:t.mirror,name:t.name,orientation:t.orientation,padding:t.padding,reversed:t.reversed,scale:t.scale,tick:t.tick,tickCount:t.tickCount,tickFormatter:t.tickFormatter,ticks:t.ticks,type:t.type,unit:t.unit}),S.createElement(hSe,t))},R8=S.memo(pSe,D8);R8.displayName="XAxis";var gSe=["dangerouslySetInnerHTML","ticks"],ySe=["id"];function jk(){return jk=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},jk.apply(null,arguments)}function GI(e,t){if(e==null)return{};var n,r,i=bSe(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function bSe(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function vSe(e){var t=sr(),n=S.useRef(null);return S.useLayoutEffect(()=>{n.current===null?t(wwe(e)):n.current!==e&&t(Swe({prev:n.current,next:e})),n.current=e},[e,t]),S.useLayoutEffect(()=>()=>{n.current&&(t(Ewe(n.current)),n.current=null)},[t]),null}var xSe=e=>{var{yAxisId:t,className:n,width:r,label:i}=e,a=S.useRef(null),o=S.useRef(null),c=Je(b6),u=fi(),f=sr(),m="yAxis",p=Je(C=>hf(C,m,t,u)),g=Je(C=>Sbe(C,t)),v=Je(C=>wbe(C,t)),_=Je(C=>Ez(C,m,t,u)),w=Je(C=>q9(C,t));if(S.useLayoutEffect(()=>{if(!(r!=="auto"||!g||wT(i)||S.isValidElement(i)||w==null)){var C=a.current;if(C){var D=C.getCalculatedWidth();Math.round(g.width)!==Math.round(D)&&f(kwe({id:t,width:D}))}}},[_,g,f,i,t,r,w]),g==null||v==null||w==null)return null;var{dangerouslySetInnerHTML:E,ticks:T}=e,N=GI(e,gSe),{id:O}=w,P=GI(w,ySe);return S.createElement(TT,jk({},N,P,{ref:a,labelRef:o,scale:p,x:v.x,y:v.y,tickTextProps:r==="auto"?{width:void 0}:{width:r},width:g.width,height:g.height,className:Qt("recharts-".concat(m," ").concat(m),n),viewBox:c,ticks:_,axisType:m}))},_Se={allowDataOverflow:nr.allowDataOverflow,allowDecimals:nr.allowDecimals,allowDuplicatedCategory:nr.allowDuplicatedCategory,angle:nr.angle,axisLine:cs.axisLine,hide:!1,includeHidden:nr.includeHidden,interval:nr.interval,minTickGap:nr.minTickGap,mirror:nr.mirror,orientation:nr.orientation,padding:nr.padding,reversed:nr.reversed,scale:nr.scale,tick:nr.tick,tickCount:nr.tickCount,tickLine:cs.tickLine,tickSize:cs.tickSize,type:nr.type,width:nr.width,yAxisId:0},wSe=e=>{var t=Ui(e,_Se);return S.createElement(S.Fragment,null,S.createElement(vSe,{interval:t.interval,id:t.yAxisId,scale:t.scale,type:t.type,domain:t.domain,allowDataOverflow:t.allowDataOverflow,dataKey:t.dataKey,allowDuplicatedCategory:t.allowDuplicatedCategory,allowDecimals:t.allowDecimals,tickCount:t.tickCount,padding:t.padding,includeHidden:t.includeHidden,reversed:t.reversed,ticks:t.ticks,width:t.width,orientation:t.orientation,mirror:t.mirror,hide:t.hide,unit:t.unit,name:t.name,angle:t.angle,minTickGap:t.minTickGap,tick:t.tick,tickFormatter:t.tickFormatter}),S.createElement(xSe,t))},L8=S.memo(wSe,D8);L8.displayName="YAxis";var SSe=(e,t)=>t,OT=we([SSe,Vt,H9,Wn,Uz,Os,Ive,xr],Gve),jT=e=>{var t=e.currentTarget.getBoundingClientRect(),n=t.width/e.currentTarget.offsetWidth,r=t.height/e.currentTarget.offsetHeight;return{chartX:Math.round((e.clientX-t.left)/n),chartY:Math.round((e.clientY-t.top)/r)}},I8=ha("mouseClick"),$8=ip();$8.startListening({actionCreator:I8,effect:(e,t)=>{var n=e.payload,r=OT(t.getState(),jT(n));r?.activeIndex!=null&&t.dispatch(Lbe({activeIndex:r.activeIndex,activeDataKey:void 0,activeCoordinate:r.activeCoordinate}))}});var Nk=ha("mouseMove"),B8=ip(),G0=null;B8.startListening({actionCreator:Nk,effect:(e,t)=>{var n=e.payload;G0!==null&&cancelAnimationFrame(G0);var r=jT(n);G0=requestAnimationFrame(()=>{var i=t.getState(),a=dT(i,i.tooltip.settings.shared);if(a==="axis"){var o=OT(i,r);o?.activeIndex!=null?t.dispatch(Pz({activeIndex:o.activeIndex,activeDataKey:void 0,activeCoordinate:o.activeCoordinate})):t.dispatch(Mz())}G0=null})}});var qI={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,barSize:void 0,className:void 0,maxBarSize:void 0,stackOffset:"none",syncId:void 0,syncMethod:"index",baseValue:void 0,reverseStackOrder:!1},z8=di({name:"rootProps",initialState:qI,reducers:{updateOptions:(e,t)=>{var n;e.accessibilityLayer=t.payload.accessibilityLayer,e.barCategoryGap=t.payload.barCategoryGap,e.barGap=(n=t.payload.barGap)!==null&&n!==void 0?n:qI.barGap,e.barSize=t.payload.barSize,e.maxBarSize=t.payload.maxBarSize,e.stackOffset=t.payload.stackOffset,e.syncId=t.payload.syncId,e.syncMethod=t.payload.syncMethod,e.className=t.payload.className,e.baseValue=t.payload.baseValue,e.reverseStackOrder=t.payload.reverseStackOrder}}}),ESe=z8.reducer,{updateOptions:kSe}=z8.actions,U8=di({name:"polarOptions",initialState:null,reducers:{updatePolarOptions:(e,t)=>t.payload}}),{updatePolarOptions:dOe}=U8.actions,ASe=U8.reducer,H8=ha("keyDown"),F8=ha("focus"),NT=ip();NT.startListening({actionCreator:H8,effect:(e,t)=>{var n=t.getState(),r=n.rootProps.accessibilityLayer!==!1;if(r){var{keyboardInteraction:i}=n.tooltip,a=e.payload;if(!(a!=="ArrowRight"&&a!=="ArrowLeft"&&a!=="Enter")){var o=fT(i,pf(n),mp(n),vp(n)),c=o==null?-1:Number(o);if(!(!Number.isFinite(c)||c<0)){var u=Os(n);if(a==="Enter"){var f=Mb(n,"axis","hover",String(i.index));t.dispatch(wk({active:!i.active,activeIndex:i.index,activeDataKey:i.dataKey,activeCoordinate:f}));return}var m=Tbe(n),p=m==="left-to-right"?1:-1,g=a==="ArrowRight"?1:-1,v=c+g*p;if(!(u==null||v>=u.length||v<0)){var _=Mb(n,"axis","hover",String(v));t.dispatch(wk({active:!0,activeIndex:v.toString(),activeDataKey:void 0,activeCoordinate:_}))}}}}}});NT.startListening({actionCreator:F8,effect:(e,t)=>{var n=t.getState(),r=n.rootProps.accessibilityLayer!==!1;if(r){var{keyboardInteraction:i}=n.tooltip;if(!i.active&&i.index==null){var a="0",o=Mb(n,"axis","hover",String(a));t.dispatch(wk({activeDataKey:void 0,active:!0,activeIndex:a,activeCoordinate:o}))}}}});var ta=ha("externalEvent"),G8=ip(),NS=new Map;G8.startListening({actionCreator:ta,effect:(e,t)=>{var{handler:n,reactEvent:r}=e.payload;if(n!=null){r.persist();var i=r.type,a=NS.get(i);a!==void 0&&cancelAnimationFrame(a);var o=requestAnimationFrame(()=>{try{var c=t.getState(),u={activeCoordinate:wve(c),activeDataKey:xve(c),activeIndex:Dm(c),activeLabel:Gz(c),activeTooltipIndex:Dm(c),isTooltipActive:Sve(c)};n(u,r)}finally{NS.delete(i)}});NS.set(i,o)}}});var TSe=we([mf],e=>e.tooltipItemPayloads),OSe=we([TSe,yp,(e,t,n)=>t,(e,t,n)=>n],(e,t,n,r)=>{var i=e.find(c=>c.settings.dataKey===r);if(i!=null){var{positions:a}=i;if(a!=null){var o=t(a,n);return o}}}),q8=ha("touchMove"),Y8=ip();Y8.startListening({actionCreator:q8,effect:(e,t)=>{var n=e.payload;if(!(n.touches==null||n.touches.length===0)){var r=t.getState(),i=dT(r,r.tooltip.settings.shared);if(i==="axis"){var a=OT(r,jT({clientX:n.touches[0].clientX,clientY:n.touches[0].clientY,currentTarget:n.currentTarget}));a?.activeIndex!=null&&t.dispatch(Pz({activeIndex:a.activeIndex,activeDataKey:void 0,activeCoordinate:a.activeCoordinate}))}else if(i==="item"){var o,c=n.touches[0];if(document.elementFromPoint==null)return;var u=document.elementFromPoint(c.clientX,c.clientY);if(!u||!u.getAttribute)return;var f=u.getAttribute(ghe),m=(o=u.getAttribute(yhe))!==null&&o!==void 0?o:void 0,p=OSe(t.getState(),f,m);t.dispatch(Rbe({activeDataKey:m,activeIndex:f,activeCoordinate:p}))}}}});var jSe=_B({brush:zwe,cartesianAxis:Awe,chartData:wxe,errorBars:Rwe,graphicalItems:rwe,layout:Qfe,legend:ume,options:yxe,polarAxis:G_e,polarOptions:ASe,referenceElements:Kwe,rootProps:ESe,tooltip:Ibe,zIndex:ixe}),NSe=function(t){return Efe({reducer:jSe,preloadedState:t,middleware:n=>{var r;return n({serializableCheck:!1,immutableCheck:!["commonjs","es6","production"].includes((r="es6")!==null&&r!==void 0?r:"")}).concat([$8.middleware,B8.middleware,NT.middleware,G8.middleware,Y8.middleware])},enhancers:n=>{var r=n;return typeof n=="function"&&(r=n()),r.concat(e6({type:"raf"}))},devTools:sf.devToolsEnabled})};function CSe(e){var{preloadedState:t,children:n,reduxStoreName:r}=e,i=fi(),a=S.useRef(null);if(i)return n;a.current==null&&(a.current=NSe(t));var o=dA;return S.createElement(NB,{context:o,store:a.current},n)}function MSe(e){var{layout:t,margin:n}=e,r=sr(),i=fi();return S.useEffect(()=>{i||(r(Zfe(t)),r(Vfe(n)))},[r,i,t,n]),null}var PSe=S.memo(MSe,ET);function DSe(e){var t=sr();return S.useEffect(()=>{t(kSe(e))},[t,e]),null}function YI(e){var{zIndex:t,isPanorama:n}=e,r=n?"recharts-zindex-panorama-":"recharts-zindex-",i=g8("".concat(r).concat(t)),a=sr();return S.useLayoutEffect(()=>(a(nxe({zIndex:t,elementId:i,isPanorama:n})),()=>{a(rxe({zIndex:t,isPanorama:n}))}),[a,t,i,n]),S.createElement("g",{tabIndex:-1,id:i})}function KI(e){var{children:t,isPanorama:n}=e,r=Je(Yve);if(!r||r.length===0)return t;var i=r.filter(o=>o<0),a=r.filter(o=>o>0);return S.createElement(S.Fragment,null,i.map(o=>S.createElement(YI,{key:o,zIndex:o,isPanorama:n})),t,a.map(o=>S.createElement(YI,{key:o,zIndex:o,isPanorama:n})))}var RSe=["children"];function LSe(e,t){if(e==null)return{};var n,r,i=ISe(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function ISe(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function $b(){return $b=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},$b.apply(null,arguments)}var $Se={width:"100%",height:"100%",display:"block"},BSe=S.forwardRef((e,t)=>{var n=E6(),r=k6(),i=P6();if(!So(n)||!So(r))return null;var{children:a,otherAttributes:o,title:c,desc:u}=e,f,m;return o!=null&&(typeof o.tabIndex=="number"?f=o.tabIndex:f=i?0:void 0,typeof o.role=="string"?m=o.role:m=i?"application":void 0),S.createElement(c7,$b({},o,{title:c,desc:u,role:m,tabIndex:f,width:n,height:r,style:$Se,ref:t}),a)}),zSe=e=>{var{children:t}=e,n=Je(Uv);if(!n)return null;var{width:r,height:i,y:a,x:o}=n;return S.createElement(c7,{width:r,height:i,x:o,y:a},t)},WI=S.forwardRef((e,t)=>{var{children:n}=e,r=LSe(e,RSe),i=fi();return i?S.createElement(zSe,null,S.createElement(KI,{isPanorama:!0},n)):S.createElement(BSe,$b({ref:t},r),S.createElement(KI,{isPanorama:!1},n))});function USe(){var e=sr(),[t,n]=S.useState(null),r=Je(phe);return S.useEffect(()=>{if(t!=null){var i=t.getBoundingClientRect(),a=i.width/t.offsetWidth;_n(a)&&a!==r&&e(Jfe(a))}},[t,e,r]),n}function VI(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function HSe(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?VI(Object(n),!0).forEach(function(r){FSe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):VI(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function FSe(e,t,n){return(t=GSe(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function GSe(e){var t=qSe(e,"string");return typeof t=="symbol"?t:t+""}function qSe(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function nu(){return nu=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},nu.apply(null,arguments)}var YSe=()=>(Cxe(),null);function Bb(e){if(typeof e=="number")return e;if(typeof e=="string"){var t=parseFloat(e);if(!Number.isNaN(t))return t}return 0}var KSe=S.forwardRef((e,t)=>{var n,r,i=S.useRef(null),[a,o]=S.useState({containerWidth:Bb((n=e.style)===null||n===void 0?void 0:n.width),containerHeight:Bb((r=e.style)===null||r===void 0?void 0:r.height)}),c=S.useCallback((f,m)=>{o(p=>{var g=Math.round(f),v=Math.round(m);return p.containerWidth===g&&p.containerHeight===v?p:{containerWidth:g,containerHeight:v}})},[]),u=S.useCallback(f=>{if(typeof t=="function"&&t(f),f!=null&&typeof ResizeObserver<"u"){var{width:m,height:p}=f.getBoundingClientRect();c(m,p);var g=_=>{var{width:w,height:E}=_[0].contentRect;c(w,E)},v=new ResizeObserver(g);v.observe(f),i.current=v}},[t,c]);return S.useEffect(()=>()=>{var f=i.current;f?.disconnect()},[c]),S.createElement(S.Fragment,null,S.createElement(Fv,{width:a.containerWidth,height:a.containerHeight}),S.createElement("div",nu({ref:u},e)))}),WSe=S.forwardRef((e,t)=>{var{width:n,height:r}=e,[i,a]=S.useState({containerWidth:Bb(n),containerHeight:Bb(r)}),o=S.useCallback((u,f)=>{a(m=>{var p=Math.round(u),g=Math.round(f);return m.containerWidth===p&&m.containerHeight===g?m:{containerWidth:p,containerHeight:g}})},[]),c=S.useCallback(u=>{if(typeof t=="function"&&t(u),u!=null){var{width:f,height:m}=u.getBoundingClientRect();o(f,m)}},[t,o]);return S.createElement(S.Fragment,null,S.createElement(Fv,{width:i.containerWidth,height:i.containerHeight}),S.createElement("div",nu({ref:c},e)))}),VSe=S.forwardRef((e,t)=>{var{width:n,height:r}=e;return S.createElement(S.Fragment,null,S.createElement(Fv,{width:n,height:r}),S.createElement("div",nu({ref:t},e)))}),ZSe=S.forwardRef((e,t)=>{var{width:n,height:r}=e;return hs(n)||hs(r)?S.createElement(WSe,nu({},e,{ref:t})):S.createElement(VSe,nu({},e,{ref:t}))});function XSe(e){return e===!0?KSe:ZSe}var JSe=S.forwardRef((e,t)=>{var{children:n,className:r,height:i,onClick:a,onContextMenu:o,onDoubleClick:c,onMouseDown:u,onMouseEnter:f,onMouseLeave:m,onMouseMove:p,onMouseUp:g,onTouchEnd:v,onTouchMove:_,onTouchStart:w,style:E,width:T,responsive:N,dispatchTouchEvents:O=!0}=e,P=S.useRef(null),C=sr(),[D,$]=S.useState(null),[H,Y]=S.useState(null),K=USe(),F=vA(),z=F?.width>0?F.width:T,X=F?.height>0?F.height:i,Q=S.useCallback(ne=>{K(ne),typeof t=="function"&&t(ne),$(ne),Y(ne),ne!=null&&(P.current=ne)},[K,t,$,Y]),J=S.useCallback(ne=>{C(I8(ne)),C(ta({handler:a,reactEvent:ne}))},[C,a]),q=S.useCallback(ne=>{C(Nk(ne)),C(ta({handler:f,reactEvent:ne}))},[C,f]),Z=S.useCallback(ne=>{C(Mz()),C(ta({handler:m,reactEvent:ne}))},[C,m]),re=S.useCallback(ne=>{C(Nk(ne)),C(ta({handler:p,reactEvent:ne}))},[C,p]),ue=S.useCallback(()=>{C(F8())},[C]),se=S.useCallback(ne=>{C(H8(ne.key))},[C]),B=S.useCallback(ne=>{C(ta({handler:o,reactEvent:ne}))},[C,o]),W=S.useCallback(ne=>{C(ta({handler:c,reactEvent:ne}))},[C,c]),ae=S.useCallback(ne=>{C(ta({handler:u,reactEvent:ne}))},[C,u]),V=S.useCallback(ne=>{C(ta({handler:g,reactEvent:ne}))},[C,g]),oe=S.useCallback(ne=>{C(ta({handler:w,reactEvent:ne}))},[C,w]),me=S.useCallback(ne=>{O&&C(q8(ne)),C(ta({handler:_,reactEvent:ne}))},[C,O,_]),pe=S.useCallback(ne=>{C(ta({handler:v,reactEvent:ne}))},[C,v]),be=XSe(N);return S.createElement(Jz.Provider,{value:D},S.createElement(Nue.Provider,{value:H},S.createElement(be,{width:z??E?.width,height:X??E?.height,className:Qt("recharts-wrapper",r),style:HSe({position:"relative",cursor:"default",width:z,height:X},E),onClick:J,onContextMenu:B,onDoubleClick:W,onFocus:ue,onKeyDown:se,onMouseDown:ae,onMouseEnter:q,onMouseLeave:Z,onMouseMove:re,onMouseUp:V,onTouchEnd:pe,onTouchMove:me,onTouchStart:oe,ref:Q},S.createElement(YSe,null),n)))}),QSe=["width","height","responsive","children","className","style","compact","title","desc"];function eEe(e,t){if(e==null)return{};var n,r,i=tEe(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function tEe(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var nEe=S.forwardRef((e,t)=>{var{width:n,height:r,responsive:i,children:a,className:o,style:c,compact:u,title:f,desc:m}=e,p=eEe(e,QSe),g=za(p);return u?S.createElement(S.Fragment,null,S.createElement(Fv,{width:n,height:r}),S.createElement(WI,{otherAttributes:g,title:f,desc:m},a)):S.createElement(JSe,{className:o,style:c,width:n,height:r,responsive:i??!1,onClick:e.onClick,onMouseLeave:e.onMouseLeave,onMouseEnter:e.onMouseEnter,onMouseMove:e.onMouseMove,onMouseDown:e.onMouseDown,onMouseUp:e.onMouseUp,onContextMenu:e.onContextMenu,onDoubleClick:e.onDoubleClick,onTouchStart:e.onTouchStart,onTouchMove:e.onTouchMove,onTouchEnd:e.onTouchEnd},S.createElement(WI,{otherAttributes:g,title:f,desc:m,ref:t},S.createElement(Vwe,null,a)))});function Ck(){return Ck=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ck.apply(null,arguments)}var rEe={top:5,right:5,bottom:5,left:5},iEe={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,layout:"horizontal",margin:rEe,responsive:!1,reverseStackOrder:!1,stackOffset:"none",syncMethod:"index"},aEe=S.forwardRef(function(t,n){var r,i=Ui(t.categoricalChartProps,iEe),{chartName:a,defaultTooltipEventType:o,validateTooltipEventTypes:c,tooltipPayloadSearcher:u,categoricalChartProps:f}=t,m={chartName:a,defaultTooltipEventType:o,validateTooltipEventTypes:c,tooltipPayloadSearcher:u,eventEmitter:void 0};return S.createElement(CSe,{preloadedState:{options:m},reduxStoreName:(r=f.id)!==null&&r!==void 0?r:a},S.createElement(Bwe,{chartData:f.data}),S.createElement(PSe,{layout:i.layout,margin:i.margin}),S.createElement(DSe,{baseValue:i.baseValue,accessibilityLayer:i.accessibilityLayer,barCategoryGap:i.barCategoryGap,maxBarSize:i.maxBarSize,stackOffset:i.stackOffset,barGap:i.barGap,barSize:i.barSize,syncId:i.syncId,syncMethod:i.syncMethod,className:i.className,reverseStackOrder:i.reverseStackOrder}),S.createElement(nEe,Ck({},i,{ref:n})))}),oEe=["axis"],sEe=S.forwardRef((e,t)=>S.createElement(aEe,{chartName:"AreaChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:oEe,tooltipPayloadSearcher:pxe,categoricalChartProps:e,ref:t}));function ZI(){const[e,t]=S.useState(0),[n,r]=S.useState(0),[i,a]=S.useState(0),[o,c]=S.useState(0),[u,f]=S.useState([]),[m,p]=S.useState([]),g=S.useMemo(()=>{const E=new Date;return E.setHours(0,0,0,0),E},[]),v=S.useCallback(async()=>{const{count:E}=await Ie.from("profiles").select("*",{count:"exact",head:!0});t(E||0);const{count:T}=await Ie.from("myeongsik").select("*",{count:"exact",head:!0});r(T||0);const{count:N}=await Ie.from("profiles").select("*",{count:"exact",head:!0}).gte("created_at",g.toISOString());a(N||0);const{count:O}=await Ie.from("myeongsik").select("*",{count:"exact",head:!0}).gte("created_at",g.toISOString());c(O||0)},[g]),_=S.useCallback(async()=>{const E=new Date;E.setDate(E.getDate()-30);const{data:T}=await Ie.from("profiles").select("created_at").gte("created_at",E.toISOString()).order("created_at",{ascending:!0}),N={};(T||[]).forEach(P=>{const C=new Date(P.created_at).toISOString().slice(0,10);N[C]=(N[C]||0)+1});const O=Object.entries(N).map(([P,C])=>({day:P,count:C}));f(O)},[]),w=S.useCallback(async()=>{const E=new Date;E.setDate(E.getDate()-30);const{data:T}=await Ie.from("myeongsik").select("created_at").gte("created_at",E.toISOString()).order("created_at",{ascending:!0}),N={};(T||[]).forEach(P=>{const C=new Date(P.created_at).toISOString().slice(0,10);N[C]=(N[C]||0)+1});const O=Object.entries(N).map(([P,C])=>({day:P,count:C}));p(O)},[]);return S.useEffect(()=>{v(),_(),w()},[v,_,w]),x.jsx(vue,{allow:["admin","operator","viewer"],children:x.jsxs("div",{className:"p-6 text-white",children:[x.jsx("h1",{className:"text-2xl font-bold mb-6",children:"Dashboard"}),x.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4 mb-10",children:[x.jsx(q0,{label:" ",value:e}),x.jsx(q0,{label:"  ",value:n}),x.jsx(q0,{label:" ",value:i}),x.jsx(q0,{label:"  ",value:o})]}),x.jsxs("section",{className:"mb-10",children:[x.jsx("h2",{className:"text-xl font-semibold mb-3",children:" 30  "}),x.jsx(XI,{data:u})]}),x.jsxs("section",{children:[x.jsx("h2",{className:"text-xl font-semibold mb-3",children:" 30  "}),x.jsx(XI,{data:m})]})]})})}function q0({label:e,value:t}){return x.jsxs("div",{className:"p-4 bg-neutral-900 border border-neutral-700 rounded-lg",children:[x.jsx("div",{className:"text-neutral-400 text-sm",children:e}),x.jsx("div",{className:"text-3xl font-bold mt-1",children:t})]})}function XI({data:e}){return x.jsx("div",{className:"w-full h-64 bg-neutral-900 border border-neutral-700 rounded-lg p-2 text-xs",children:x.jsx(qhe,{width:"100%",height:"100%",children:x.jsxs(sEe,{data:e,children:[x.jsx(k8,{strokeDasharray:"3 3",stroke:"#333"}),x.jsx(R8,{dataKey:"day",stroke:"#bbb"}),x.jsx(L8,{stroke:"#bbb"}),x.jsx(Bxe,{}),x.jsx(P8,{type:"monotone",dataKey:"count",stroke:"#8884d8",fill:"#8884d855"})]})})})}function lEe(){const[e,t]=S.useState(""),[n,r]=S.useState(1),[i,a]=S.useState({});return{search:e,setSearch:t,page:n,setPage:r,draftByUser:i,setDraftByUser:a,setDraft:(c,u)=>{a(f=>{const m=f[c]??{plan:"PROMPT_LOCKED",startDate:"",endDate:"",saving:!1};return{...f,[c]:{...m,...u}}})}}}const K8=[{value:"PROMPT_HIDDEN",label:" "},{value:"PROMPT_LOCKED",label:" ()"},{value:"PROMPT_FULL",label:"  "}];function cEe(e){return e==="PROMPT_HIDDEN"||e==="PROMPT_LOCKED"||e==="PROMPT_FULL"}function uEe(e){return typeof e!="string"?null:j2(e)}function JI(e){return String(e).padStart(2,"0")}function zb(e){if(!e)return"";const t=new Date(e);if(Number.isNaN(t.getTime()))return"";const n=t.getFullYear(),r=JI(t.getMonth()+1),i=JI(t.getDate());return`${n}-${r}-${i}`}function QI(e,t){const n=(e??"").trim();return/^\d{4}-\d{2}-\d{2}$/.test(n)?t?`${n}T23:59:59+09:00`:`${n}T00:00:00+09:00`:null}function dEe(e){const t=Uy(e),n=t.maxMyeongsik===null?9999:t.maxMyeongsik;return{plan:e,max_myeongsik:n,can_manage_myeongsik:t.canManageMyeongsik,can_use_luck_tabs:t.canUseLuckTabs,can_use_multi_mode:t.canUseMultiMode,can_use_all_prompts:t.canUseAllPrompts}}function fEe(e){const t=e??"PROMPT_LOCKED";return K8.find(n=>n.value===t)?.label??String(t)}function hEe(e){const t=e?.starts_at?zb(e.starts_at):"",n=e?.expires_at?zb(e.expires_at):"";return!t&&!n?" ":t&&!n?`${t} ~ ()`:!t&&n?`( ) ~ ${n}`:`${t} ~ ${n}`}const Mk=20;function mEe(e,t){const n=(t-1)*Mk;return e.slice(n,n+Mk)}function pEe(e){return Math.max(1,Math.ceil(e.length/Mk))}function gEe(e){const{userIds:t,profiles:n,myeongsikRows:r,entRows:i}=e,a={};n.forEach(u=>{const f=u.user_id||u.id;f&&(a[f]=u)});const o={};i.forEach(u=>{const f=uEe(u.plan);o[u.user_id]={user_id:u.user_id,plan:f,starts_at:u.starts_at??null,expires_at:u.expires_at??null}});const c={};return t.forEach(u=>{c[u]={user_id:u,profile:a[u]||null,myeongsikCount:0,lastCreatedAt:null,ent:o[u]||null}}),r.forEach(u=>{c[u.user_id].myeongsikCount++,c[u.user_id].lastCreatedAt||(c[u.user_id].lastCreatedAt=u.created_at)}),Object.values(c)}function yEe(e,t){const n={...e};return t.forEach(r=>{const i=r.ent,a=i?.plan??"PROMPT_LOCKED",o=zb(i?.starts_at??null),c=zb(i?.expires_at??null),u=n[r.user_id];if(!u){n[r.user_id]={plan:a,startDate:o,endDate:c,saving:!1};return}u.saving||(u.plan!==a||u.startDate!==o||u.endDate!==c)&&(n[r.user_id]={...u,plan:a,startDate:o,endDate:c})}),n}async function bEe(e){let t=Ie.from("myeongsik").select("user_id,name");if(e.trim()){const i=`%${e.trim()}%`;t=t.or(`name.ilike.${i},user_id.ilike.${i},birth_json->>birthDay.ilike.${i}`)}const{data:n,error:r}=await t;if(r)throw new Error(r.message);return Array.from(new Set((n||[]).map(i=>i.user_id).filter(Boolean)))}async function vEe(e){const{data:t,error:n}=await Ie.from("profiles").select("id,user_id,name,nickname,email").in("user_id",e);if(n)throw new Error(n.message);return t||[]}async function xEe(e){const{data:t,error:n}=await Ie.from("myeongsik").select("user_id, created_at").in("user_id",e).order("created_at",{ascending:!1});if(n)throw new Error(n.message);return t||[]}async function _Ee(e){const{data:t,error:n}=await Ie.from("user_entitlements").select("user_id,plan,starts_at,expires_at").in("user_id",e);if(n)throw new Error(n.message);return t||[]}async function wEe(e){const{error:t}=await Ie.from("user_entitlements").upsert(e);if(t)throw new Error(t.message)}function SEe(){const[e,t]=S.useState([]),[n,r]=S.useState([]),[i,a]=S.useState(!1),[o,c]=S.useState(null),u=S.useCallback(async(p,g)=>{a(!0),c(null);try{const v=await bEe(p);t(v),g()}catch(v){c(v instanceof Error?v.message:"Unknown error")}a(!1)},[]),f=S.useCallback(async p=>{if(!p.length){r([]);return}a(!0),c(null);try{const g=p.length?p:["__NO_MATCH__"],[v,_,w]=await Promise.all([vEe(g),xEe(g),_Ee(g)]),E=gEe({userIds:g,profiles:v,myeongsikRows:_,entRows:w});r(E)}catch(g){c(g instanceof Error?g.message:"Error")}a(!1)},[]),m=S.useCallback(async(p,g,v,_)=>{if(g){v(p,{saving:!0});try{const w=dEe(g.plan),E=g.startDate?QI(g.startDate,!1):null,T=g.endDate?QI(g.endDate,!0):null,N={user_id:p,...w,starts_at:E,expires_at:T};await wEe(N),v(p,{saving:!1,lastSavedAt:Date.now()}),await _()}catch(w){v(p,{saving:!1}),c(w instanceof Error?w.message:" ")}}},[]);return{userIds:e,summaries:n,loading:i,error:o,setError:c,fetchUserIdList:u,fetchSummaries:f,saveEntitlements:m}}function EEe(){const e=lEe(),{search:t,setSearch:n,page:r,setPage:i,draftByUser:a,setDraftByUser:o,setDraft:c}=e,{userIds:u,summaries:f,loading:m,error:p,fetchUserIdList:g,fetchSummaries:v,saveEntitlements:_}=SEe(),w=S.useMemo(()=>mEe(u,r),[u,r]),E=S.useMemo(()=>pEe(u),[u]);return S.useEffect(()=>{g(t,()=>i(1))},[g,t,i]),S.useEffect(()=>{v(w)},[v,w]),S.useEffect(()=>{o(T=>yEe(T,f))},[f,o]),x.jsxs("div",{className:"p-6 text-white",children:[x.jsx("h1",{className:"text-2xl font-bold mb-4",children:"Users"}),x.jsx("input",{className:"px-3 py-2 bg-neutral-800 border border-neutral-700 rounded w-full max-w-sm mb-4",placeholder:"Search user (name, email, birth, userId...)",value:t,onChange:T=>n(T.target.value)}),p&&x.jsx("div",{className:"text-red-400 mb-2",children:p}),m&&x.jsx("div",{children:"Loading..."}),x.jsx("div",{className:"space-y-3",children:f.map(T=>{const N=T.profile?.name||T.profile?.nickname||"(no profile)",O=T.profile?.email||"",P=a[T.user_id]??{plan:"PROMPT_LOCKED",startDate:"",endDate:"",saving:!1};return x.jsxs("div",{className:"p-4 bg-neutral-900 border border-neutral-700 rounded-lg hover:bg-neutral-800",children:[x.jsxs("div",{className:"font-semibold text-lg flex items-center justify-between gap-3",children:[x.jsxs("div",{className:"min-w-0 flex items-center gap-2",children:[x.jsx("span",{className:"text-nowrap mr-1",children:N}),O?x.jsxs("span",{className:"text-sm text-neutral-400 truncate",children:["(",O,")"]}):null]}),x.jsx("span",{className:"text-neutral-500 text-sm shrink-0",children:T.user_id})]}),x.jsxs("div",{className:"text-sm text-neutral-400 mt-1",children:[" ",T.myeongsikCount,"",T.lastCreatedAt&&x.jsxs(x.Fragment,{children:["    ",new Date(T.lastCreatedAt).toLocaleString()]})]}),x.jsxs("div",{className:"text-sm text-neutral-400 mt-1",children:[" ",fEe(T.ent?.plan),"  ",hEe(T.ent)]}),x.jsxs("div",{className:"mt-3 flex flex-col gap-2",children:[x.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[x.jsx("label",{className:"text-xs text-neutral-400",children:""}),x.jsx("input",{type:"date",className:"px-2 py-1 bg-neutral-800 border border-neutral-700 rounded text-sm",value:P.startDate,onChange:C=>c(T.user_id,{startDate:C.target.value})}),x.jsx("span",{className:"text-neutral-500",children:"~"}),x.jsx("label",{className:"text-xs text-neutral-400",children:""}),x.jsx("input",{type:"date",className:"px-2 py-1 bg-neutral-800 border border-neutral-700 rounded text-sm",value:P.endDate,onChange:C=>c(T.user_id,{endDate:C.target.value})}),x.jsx("select",{className:"px-2 py-1 bg-neutral-800 border border-neutral-700 rounded text-sm",value:P.plan,onChange:C=>{const D=C.target.value;cEe(D)&&c(T.user_id,{plan:D})},children:K8.map(C=>x.jsx("option",{value:C.value,children:C.label},C.value))}),x.jsx("button",{type:"button",disabled:P.saving,onClick:()=>void _(T.user_id,P,e.setDraft,()=>v(w)),className:"px-3 py-1 rounded bg-purple-600 hover:bg-purple-500 disabled:opacity-50 cursor-pointer",children:P.saving?" ...":""}),x.jsx("button",{type:"button",onClick:()=>location.href=`/admin/user/${T.user_id}`,className:"px-3 py-1 rounded bg-neutral-700 hover:bg-neutral-600 cursor-pointer",children:""})]}),P.lastSavedAt?x.jsxs("div",{className:"text-xs text-emerald-400",children:["  ",new Date(P.lastSavedAt).toLocaleString()]}):null]})]},T.user_id)})}),x.jsxs("div",{className:"flex items-center justify-center gap-3 mt-6",children:[x.jsx("button",{disabled:r<=1,onClick:()=>i(T=>T-1),className:"px-3 py-1 border border-neutral-700 rounded disabled:opacity-50",children:""}),x.jsxs("span",{children:[r," / ",E]}),x.jsx("button",{disabled:r>=E,onClick:()=>i(T=>T+1),className:"px-3 py-1 border border-neutral-700 rounded disabled:opacity-50",children:""})]})]})}function kEe(){const[e,t]=S.useState(null),[n,r]=S.useState([]),[i,a]=S.useState(!1);return{profile:e,setProfile:t,myeongsikList:n,setMyeongsikList:r,saving:i,setSaving:a}}function AEe(e){return{isDisabled:!!e?.disabled_at,hasProfile:!!e}}async function CT({action:e,targetUserId:t,targetRecordId:n,payload:r={}}){const a=(await Ie.auth.getSession()).data.session?.user?.id;a&&await Ie.from("audit_logs").insert({action:e,target_user_id:t??null,target_record_id:n??null,actor_admin_id:a,payload:r})}const TEe=async e=>{const{data:t}=await Ie.from("profiles").select("*").eq("user_id",e).maybeSingle();return t??null},OEe=async e=>{const{data:t}=await Ie.from("myeongsik").select("*").eq("user_id",e).order("created_at",{ascending:!1});return t??[]},jEe=async e=>{await Ie.from("profiles").insert({user_id:e,name:"",nickname:"",email:"",mgr_memo:""})},NEe=async(e,t)=>{await Ie.from("profiles").update({name:t.name,nickname:t.nickname,email:t.email,mgr_memo:t.mgr_memo}).eq("user_id",e)},CEe=async(e,t)=>{await Ie.from("profiles").update({disabled_at:t}).eq("user_id",e)},MEe=async e=>{await Ie.from("profiles").update({disabled_at:null}).eq("user_id",e),await Ie.from("myeongsik").update({deleted_at:null}).eq("user_id",e),await CT({action:"restore_account",targetUserId:e,payload:{source:"admin_user_detail"}})},PEe=async e=>{await Ie.from("myeongsik").update({deleted_at:null}).eq("user_id",e),await CT({action:"restore_myeongsik_all",targetUserId:e,payload:{source:"admin_user_detail"}})},DEe=async(e,t,n)=>{await Ie.from("myeongsik").update({deleted_at:n}).eq("id",t),await CT({action:n?"delete_myeongsik":"restore_myeongsik",targetUserId:e,targetRecordId:t,payload:{deleted_at:n,source:"admin_user_detail"}})};function REe({userId:e,profile:t,setProfile:n,setMyeongsikList:r,setSaving:i}){const a=S.useCallback(async()=>{const w=await TEe(e);n(w)},[e,n]),o=S.useCallback(async()=>{const w=await OEe(e);r(w)},[e,r]);S.useEffect(()=>{a(),o()},[a,o]);const c=S.useCallback(async()=>{i(!0),await jEe(e),i(!1),await a()},[e,i,a]),u=S.useCallback(async()=>{t&&(i(!0),await NEe(e,t),i(!1),await a())},[t,e,i,a]),f=S.useCallback(async()=>{if(!t)return;const w=t.disabled_at?null:new Date().toISOString();await CEe(e,w),await a()},[t,e,a]),m=S.useCallback(async()=>{i(!0),await MEe(e),i(!1),await a(),await o()},[e,i,a,o]),p=S.useCallback(async()=>{i(!0),await PEe(e),i(!1),await o()},[e,i,o]),g=S.useCallback(w=>{const E=typeof window<"u"?window.location.origin:"",T=w?`${E}/#/impersonate?userId=${e}&myeongsikId=${w}`:`${E}/#/impersonate?userId=${e}`;window.open(T,"_blank")},[e]),v=S.useCallback(async(w,E)=>{const T=E?null:new Date().toISOString();await DEe(e,w,T),await o()},[e,o]),_=S.useCallback(w=>{window.location.href=w},[]);return{handleCreateProfile:c,handleSaveProfile:u,toggleDisable:f,handleRestoreAccount:m,handleRestoreAllMyeongsik:p,handleViewAsUser:g,toggleDeleteMyeongsik:v,goTo:_}}function LEe({params:e}){const t=e.userId,n=kEe(),r=AEe(n.profile),i=REe({userId:t,profile:n.profile,setProfile:n.setProfile,setMyeongsikList:n.setMyeongsikList,setSaving:n.setSaving});return x.jsxs("div",{className:"p-6 text-white",children:[x.jsx("button",{className:"mb-4 underline cursor-pointer",onClick:()=>i.goTo("/admin/user"),children:"  "}),x.jsx("h1",{className:"text-2xl font-bold mb-4",children:" "}),x.jsxs("div",{className:"p-4 bg-neutral-900 border border-neutral-700 rounded-lg mb-6",children:[x.jsx("div",{className:"flex items-center justify-between mb-3",children:x.jsxs("div",{className:"flex items-center gap-3",children:[x.jsx("h2",{className:"text-xl font-semibold",children:""}),x.jsx("button",{className:"px-3 py-1 bg-blue-700 text-xs rounded cursor-pointer",onClick:()=>i.handleViewAsUser(),children:" ( )"})]})}),!r.hasProfile&&x.jsx("button",{onClick:i.handleCreateProfile,className:"px-3 py-2 bg-blue-600 rounded cursor-pointer",disabled:n.saving,children:" "}),r.hasProfile&&n.profile&&x.jsxs("div",{className:"space-y-3",children:[x.jsxs("div",{children:[x.jsx("label",{children:""}),x.jsx("input",{className:"w-full p-2 bg-neutral-800 border border-neutral-600 rounded",value:n.profile.name??"",onChange:a=>n.setProfile({...n.profile,name:a.target.value})})]}),x.jsxs("div",{children:[x.jsx("label",{children:""}),x.jsx("input",{className:"w-full p-2 bg-neutral-800 border border-neutral-600 rounded",value:n.profile.nickname??"",onChange:a=>n.setProfile({...n.profile,nickname:a.target.value})})]}),x.jsxs("div",{children:[x.jsx("label",{children:"Email"}),x.jsx("input",{className:"w-full p-2 bg-neutral-800 border border-neutral-600 rounded",value:n.profile.email??"",onChange:a=>n.setProfile({...n.profile,email:a.target.value})})]}),x.jsxs("div",{children:[x.jsx("label",{children:" "}),x.jsx("textarea",{className:"w-full p-2 bg-neutral-800 border border-neutral-600 rounded",rows:3,value:n.profile.mgr_memo??"",onChange:a=>n.setProfile({...n.profile,mgr_memo:a.target.value})})]}),x.jsxs("div",{className:"flex gap-2",children:[x.jsx("button",{onClick:i.handleSaveProfile,className:"px-3 py-2 bg-green-600 rounded cursor-pointer text-xs",disabled:n.saving,children:""}),r.isDisabled&&x.jsx("button",{onClick:i.handleRestoreAccount,className:"px-3 py-2 bg-blue-600 rounded cursor-pointer text-xs",disabled:n.saving,children:" "}),x.jsx("button",{onClick:i.toggleDisable,className:`px-3 py-2 rounded cursor-pointer text-xs ${r.isDisabled?"bg-yellow-600":"bg-gray-600"}`,children:r.isDisabled?" ":" "})]})]})]}),x.jsxs("div",{className:"p-4 bg-neutral-900 border border-neutral-700 rounded-lg",children:[x.jsxs("div",{className:"flex items-center justify-between mb-4",children:[x.jsx("h2",{className:"text-xl font-semibold",children:" "}),x.jsx("button",{className:"px-3 py-2 bg-blue-700 rounded text-xs cursor-pointer",onClick:i.handleRestoreAllMyeongsik,disabled:n.saving,children:"  "})]}),n.myeongsikList.map(a=>x.jsx("div",{className:"p-3 bg-neutral-800 border border-neutral-700 rounded mb-3",children:x.jsxs("div",{className:"flex items-center justify-between",children:[x.jsxs("div",{children:[x.jsx("div",{className:"font-semibold",children:a.name||"(no name)"}),x.jsxs("div",{className:"text-sm text-neutral-400",children:["Birth: ",a.birth_json?.birthDay??"-","  ",a.created_at?new Date(a.created_at).toLocaleString():"-"]})]}),x.jsxs("div",{className:"flex gap-2",children:[x.jsx("button",{className:"text-nowrap px-2 py-1 border border-blue-500 text-blue-100 rounded cursor-pointer text-xs",onClick:()=>i.handleViewAsUser(a.id),children:"  ( )"}),x.jsx("button",{className:"text-nowrap px-2 py-1 border border-neutral-500 rounded cursor-pointer text-xs",onClick:()=>i.goTo(`/admin/myeongsik/${a.id}`),children:""}),x.jsx("button",{className:`px-2 py-1 rounded cursor-pointer text-xs text-nowrap ${a.deleted_at?"bg-green-600":"bg-red-600"}`,onClick:()=>i.toggleDeleteMyeongsik(a.id,a.deleted_at),children:a.deleted_at?"":""})]})]})},a.id)),n.myeongsikList.length===0&&x.jsx("div",{className:"text-neutral-400",children:" ."})]})]})}function IEe({open:e,onClose:t,children:n}){return e?x.jsx("div",{className:"fixed inset-0 bg-black/70 z-50 flex items-center justify-center",children:x.jsxs("div",{className:"bg-neutral-900 border border-neutral-700 rounded-lg p-6 max-w-2xl w-full relative",children:[x.jsx("button",{className:"absolute top-3 right-3 text-neutral-400 hover:text-white",onClick:t,children:""}),x.jsx("div",{className:"max-h-[70vh] overflow-y-auto",children:n})]})}):null}const e3=50;function $Ee(){const[e,t]=S.useState(null),[n,r]=S.useState(!1),[i,a]=S.useState([]),[o,c]=S.useState(1),[u,f]=S.useState("all"),[m,p]=S.useState("all"),[g,v]=S.useState("30"),[_,w]=S.useState(""),[E,T]=S.useState(!1),N=S.useCallback(async P=>{await Ie.from("audit_logs").delete().eq("id",P),a(C=>C.filter(D=>D.id!==P))},[]),O=S.useCallback(async()=>{T(!0);const P=new Date;g!=="all"&&P.setDate(P.getDate()-Number(g));let C=Ie.from("audit_logs").select("*").order("created_at",{ascending:!1}).range((o-1)*e3,o*e3-1);g!=="all"&&(C=C.gte("created_at",P.toISOString())),u!=="all"&&(C=C.eq("action",u)),m!=="all"&&(C=C.eq("actor_admin_id",m));const{data:D}=await C;let $=D||[];if(_.trim()!==""){const H=_.toLowerCase();$=$.filter(Y=>(JSON.stringify(Y).toLowerCase()+(Y.payload?JSON.stringify(Y.payload).toLowerCase():"")).includes(H))}a($),T(!1)},[o,u,m,g,_]);return S.useEffect(()=>{O()},[O]),x.jsxs("div",{className:"p-6 text-white",children:[x.jsx("h1",{className:"text-2xl font-bold mb-6",children:"Audit Logs"}),x.jsxs("div",{className:"mb-6 grid grid-cols-1 md:grid-cols-4 gap-3",children:[x.jsxs("select",{className:"p-2 bg-neutral-800 rounded border border-neutral-600",value:u,onChange:P=>f(P.target.value),children:[x.jsx("option",{value:"all",children:" Action"}),x.jsx("option",{value:"delete_myeongsik",children:" "}),x.jsx("option",{value:"restore_myeongsik",children:" "}),x.jsx("option",{value:"update_profile",children:" "}),x.jsx("option",{value:"impersonate_user",children:""})]}),x.jsxs("select",{className:"p-2 bg-neutral-800 rounded border border-neutral-600",value:m,onChange:P=>p(P.target.value),children:[x.jsx("option",{value:"all",children:" "}),x.jsx("option",{value:"",children:""}),x.jsx("option",{value:"system",children:"System"})]}),x.jsxs("select",{className:"p-2 bg-neutral-800 rounded border border-neutral-600",value:g,onChange:P=>v(P.target.value),children:[x.jsx("option",{value:"1",children:"24"}),x.jsx("option",{value:"7",children:"7"}),x.jsx("option",{value:"30",children:"30"}),x.jsx("option",{value:"all",children:""})]}),x.jsx("input",{className:"p-2 bg-neutral-800 rounded border border-neutral-600",placeholder:" (payload )",value:_,onChange:P=>w(P.target.value)})]}),E?x.jsx("div",{children:"Loading..."}):i.map(P=>x.jsxs("div",{className:"p-4 bg-neutral-900 border border-neutral-700 rounded mb-4 cursor-pointer hover:bg-neutral-800",onClick:()=>{t(P),r(!0)},children:[x.jsxs("div",{className:"flex items-center justify-between gap-3",children:[x.jsx("div",{className:"font-semibold text-lg",children:P.action}),x.jsx("button",{className:"px-2 py-1 text-xs bg-red-700 hover:bg-red-600 rounded cursor-pointer",onClick:C=>{C.stopPropagation(),N(P.id)},children:""})]}),x.jsxs("div",{className:"text-sm mt-1 text-neutral-400",children:[x.jsxs("div",{children:["Actor: ",P.actor_admin_id]}),x.jsxs("div",{children:["Target User: ",P.target_user_id||"-"]}),x.jsxs("div",{children:["Target Record: ",P.target_record_id||"-"]}),x.jsxs("div",{children:["Time: ",new Date(P.created_at).toLocaleString()]})]}),P.payload&&x.jsx("pre",{className:"mt-3 text-xs bg-neutral-800 p-2 rounded",children:JSON.stringify(P.payload,null,2)})]},P.id)),x.jsxs("div",{className:"flex items-center justify-center gap-3 mt-6",children:[x.jsx("button",{className:"px-3 py-1 bg-neutral-800 border border-neutral-600 rounded disabled:opacity-40",disabled:o===1,onClick:()=>c(P=>P-1),children:" "}),x.jsxs("span",{className:"text-neutral-400",children:["Page ",o]}),x.jsx("button",{className:"px-3 py-1 bg-neutral-800 border border-neutral-600 rounded",onClick:()=>c(P=>P+1),children:" "})]}),x.jsx(IEe,{open:n,onClose:()=>r(!1),children:e&&x.jsxs("div",{children:[x.jsx("h2",{className:"text-xl font-bold mb-3",children:e.action}),x.jsxs("div",{className:"text-sm text-neutral-400 space-y-1 mb-4",children:[x.jsxs("div",{children:["Actor: ",e.actor_admin_id]}),x.jsxs("div",{children:["Target User: ",e.target_user_id??"-"]}),x.jsxs("div",{children:["Target Record: ",e.target_record_id??"-"]}),x.jsxs("div",{children:["Time: ",new Date(e.created_at).toLocaleString()]})]}),x.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Payload"}),x.jsx("pre",{className:"text-xs bg-neutral-800 p-3 rounded whitespace-pre-wrap",children:JSON.stringify(e.payload,null,2)})]})})]})}const BEe="15b517b3-3d97-41a6-ae17-563abd163a36".split(",").map(e=>e.trim()).filter(Boolean);function W8(){const[e,t]=S.useState(!1),[n,r]=S.useState(!1);if(S.useEffect(()=>{(async()=>{const{data:c}=await Ie.auth.getUser(),u=c.user?.id;r(!!u&&BEe.includes(u)),t(!0)})()},[]),!e)return x.jsx("div",{className:"p-6 text-white",children:"  ...!"});if(!n)return x.jsx("div",{className:"p-6 text-white",children:"  "});const i=window.location.pathname;let a=x.jsx(ZI,{});if(i.startsWith("/admin/user/")){const o=i.replace("/admin/user/","");a=x.jsx(LEe,{params:{userId:o}})}else i.startsWith("/admin/user")?a=x.jsx(EEe,{}):i.startsWith("/admin/logs")?a=x.jsx($Ee,{}):i.startsWith("/admin/dashboard")&&(a=x.jsx(ZI,{}));return x.jsx(yue,{children:a})}function zEe({pillarsA:e,pillarsB:t}){const n=xne(e,t);return x.jsxs("div",{className:"rounded-xl p-4 bg-neutral-100 dark:bg-neutral-900 text-neutral-900 dark:text-neutral-100 space-y-2",children:[x.jsx("div",{className:"text-sm font-bold mb-3",children:"   "}),Object.entries(n).map(([r,i])=>i.length>0?x.jsxs("div",{className:"flex gap-2 text-xs",children:[x.jsx("span",{className:"shrink-0 w-20 text-xs font-semibold text-neutral-700 dark:text-neutral-400 mt-1",children:r}),x.jsx("div",{className:"flex flex-wrap gap-2",children:i.map((a,o)=>x.jsx("span",{className:"text-xs px-2 py-1 rounded-full border whitespace-nowrap bg-violet-100 text-violet-800 border-violet-200 dark:bg-violet-900/30 dark:text-violet-200 dark:border-violet-800",children:a},o))})]},r):null)]})}const UEe=["","","","","","","","","",""],HEe=["","","","","","","","","",""],FEe=["","","","","","","","","","","",""],GEe=["","","","","","","","","","","",""],qEe=new Set([...UEe,...HEe]),YEe=new Set([...FEe,...GEe]);function KEe(e){return typeof e=="object"&&e!==null}function t3(e){return typeof e=="string"&&e.length>=2&&qEe.has(e[0])&&YEe.has(e[1])}function rn(e,...t){if(t3(e))return e;for(const n of t)if(t3(n))return n;return""}function Y0(e,t){let n=null;const r=t.getTime();for(const i of e)if(i.at.getTime()<=r)n=i;else break;return n}function WEe(e){const t=n=>String(n).padStart(2,"0");return`${e.getFullYear()}-${t(e.getMonth()+1)}-${t(e.getDate())}T${t(e.getHours())}:${t(e.getMinutes())}`}function n3(e){if(!e)return null;const t=/^(\d{4})-(\d{2})-(\d{2})T(\d{2}):(\d{2})$/.exec(e);if(!t)return null;const[,n,r,i,a,o]=t,c=new Date(+n,+r-1,+i,+a,+o);return Number.isNaN(c.getTime())?null:c}function Ub(e){const t=e;return typeof t.name=="string"&&t.name?t.name:typeof t.title=="string"&&t.title?t.title:typeof t.memo=="string"&&t.memo?t.memo:" "}function VEe(e){const t=Number(e.birthDay.slice(0,4)),n=Number(e.birthDay.slice(4,6)),r=Number(e.birthDay.slice(6,8));let i=0,a=0;const o=e;return typeof o.birthTime=="string"&&o.birthTime.length>=4&&(i=Number(o.birthTime.slice(0,2)),a=Number(o.birthTime.slice(2,4))),{y:t,m:n,d:r,hh:i,mm:a}}function lx(e){const{y:t,m:n,d:r,hh:i,mm:a}=VEe(e),o=e.corrected instanceof Date&&!Number.isNaN(e.corrected.getTime())?e.corrected:new Date(t,n-1,r,i,a),c=o.getHours(),u=o.getMinutes();return e.calendarType==="lunar"?Bi(t,n,r,c,u):new Date(t,n-1,r,c,u)}function ZEe(e){const t=lx(e);return`${Ub(e)}-${t.toISOString()}`}function ld(e){const t=e;return typeof t.id=="string"&&t.id?t.id:ZEe(e)}function XEe(e){return KEe(e)&&("Classic"in e||"Modern"in e||"classic"in e||"modern"in e)}function JEe(e){const t=X5;return XEe(t)?e==="classic"?t.Classic:t.Modern:e}function QEe(e){if(!e)return"";const t=e,n=c=>typeof t[c]=="string"?String(t[c]).trim().toLowerCase():null,r=c=>typeof t[c]=="boolean"?t[c]:null,i=[n("gender"),n("sex"),n("genderType"),n(""),n("sexType"),n("g")].filter(c=>!!c);for(const c of i){if(["","","male","m","boy","man"].includes(c))return"";if(["","","female","f","girl","woman"].includes(c))return""}const a=r("isMale"),o=r("isFemale");return a===!0?"":o===!0?"":""}const CS="people_picker_order_v1";function eke(e,t,n){const r=e.slice(),[i]=r.splice(t,1);return r.splice(n,0,i),r}function r3({open:e,list:t,onSelect:n,onClose:r}){const[i,a]=S.useState("");S.useEffect(()=>{e||a("")},[e]);const o=S.useMemo(()=>t.map(ld),[t]),c=S.useMemo(()=>new Set(o),[o]),[u,f]=S.useState([]);S.useEffect(()=>{const w=localStorage.getItem(CS),E=w?JSON.parse(w):[],T=E.filter(O=>c.has(O)),N=[...T,...o.filter(O=>!T.includes(O))];f(N),JSON.stringify(N)!==JSON.stringify(E)&&localStorage.setItem(CS,JSON.stringify(N))},[o,c]);const m=w=>{f(w),localStorage.setItem(CS,JSON.stringify(w))},p=S.useMemo(()=>{const w=new Map(t.map(O=>[ld(O),O])),E=[];for(const O of u){const P=w.get(O);P&&E.push(P)}w.forEach((O,P)=>{u.includes(P)||E.push(O)});const T=[],N=[];for(const O of E)(typeof O.relationship=="string"?O.relationship.trim():"")===""?T.push(O):N.push(O);return[...T,...N]},[t,u]),g=S.useMemo(()=>{const w=i.trim().toLowerCase();return w?p.filter(E=>{const T=typeof E.relationship=="string"?E.relationship.trim():"";return`${Ub(E)} ${T}`.toLowerCase().includes(w)}):p},[p,i]),v=i.trim()==="",_=w=>{const{destination:E,source:T}=w;if(!E||!v||E.index===T.index)return;const N=g.map(ld),O=eke(N,T.index,E.index),C=p.map(ld).filter($=>!N.includes($)),D=[...O,...C].filter(($,H,Y)=>Y.indexOf($)===H);m(D)};return x.jsxs(x.Fragment,{children:[x.jsx("style",{children:"[data-rbd-drag-handle-context-id]{touch-action:none!important}"}),x.jsx("div",{className:`fixed inset-0 bg-black/60 transition-opacity duration-200 z-[1000] ${e?"opacity-100 pointer-events-auto":"opacity-0 pointer-events-none"}`,onClick:r}),x.jsxs("div",{className:`fixed bottom-0 inset-x-0 mx-auto w-full max-w-[640px] max-h-[80dvh] bg-white dark:bg-neutral-950 rounded-t-2xl border border-neutral-200 dark:border-neutral-800 p-4 overflow-auto transition-transform duration-300 z-[1001] ${e?"translate-y-0":"translate-y-full"}`,children:[x.jsxs("div",{className:"flex items-center justify-between mb-3",children:[x.jsx("h3",{className:"text-sm font-semibold text-neutral-900 dark:text-neutral-200",children:" "}),x.jsx("button",{onClick:r,className:"text-neutral-500 hover:text-neutral-900 dark:text-neutral-400 dark:hover:text-white text-sm cursor-pointer",children:""})]}),x.jsxs("div",{className:"mb-3",children:[x.jsx("input",{value:i,onChange:w=>a(w.target.value),placeholder:" ",className:"w-full px-3 py-2 rounded border border-neutral-300 dark:border-neutral-700 bg-white dark:bg-neutral-900 text-sm"}),x.jsx("div",{className:"text-[11px] text-neutral-500 mt-1",children:"    ."})]}),x.jsx(Km,{onDragEnd:_,children:x.jsx(rf,{droppableId:"people-picker",children:w=>x.jsxs("ul",{className:"space-y-2",ref:w.innerRef,...w.droppableProps,children:[g.map((E,T)=>{const N=lx(E),O=typeof E.relationship=="string"?E.relationship.trim():"",P=O||" ",C=Ub(E),D=O&&C===" "?O:C;return x.jsx(nf,{draggableId:ld(E),index:T,isDragDisabled:!v,children:$=>x.jsx("li",{ref:$.innerRef,...$.draggableProps,...$.dragHandleProps,className:"flex items-center justify-between gap-2 px-3 py-2 rounded border border-neutral-200 dark:border-neutral-800 bg-white dark:bg-neutral-900",children:x.jsxs("button",{onClick:()=>n(E),className:"flex-1 text-left cursor-pointer",children:[x.jsxs("div",{className:"flex items-center gap-2 text-sm text-neutral-900 dark:text-neutral-100",children:[x.jsx("span",{children:D}),x.jsx("span",{className:`text-[10px] px-1.5 py-0.5 rounded border border-neutral-300 dark:border-neutral-700 ${O?"text-neutral-600 dark:text-neutral-300":"text-neutral-400 dark:text-neutral-500"}`,children:P})]}),x.jsx("div",{className:"text-neutral-500 dark:text-neutral-400 text-xs",children:nm(N)})]})})},ld(E))}),w.placeholder]})})})]})]})}function MS({label:e,gzHour:t,gzDay:n,gzMonth:r,gzYear:i,dayStem:a,cardSettings:o,sinsalBaseBranch:c,sinsalMode:u,sinsalBloom:f}){const m=w=>{const E=o.showSibiUnseong?ko(a,w):"",T=o.showSibiSinsal?Ao({baseBranch:c,targetBranch:w,era:JEe(u),gaehwa:!!f}):"";return{unseongText:E||void 0,shinsalText:T||void 0}},p=rn(t).charAt(1),g=rn(n).charAt(1),v=rn(r).charAt(1),_=rn(i).charAt(1);return x.jsxs("div",{className:"rounded-lg border bg-white dark:bg-neutral-900 border-neutral-200 dark:border-neutral-800 py-2 desk:p-2",children:[x.jsx("div",{className:"px-2 py-1 text-xs text-neutral-600 dark:text-neutral-300",children:e}),x.jsx("div",{className:"grid grid-cols-4 gap-1 text-neutral-900 dark:text-white",children:[["",rn(t),p],["",rn(n),g],["",rn(r),v],["",rn(i),_]].map(([w,E,T])=>{const{unseongText:N,shinsalText:O}=m(T);return x.jsx(md,{label:w,gz:E,dayStem:a,settings:qn.getState().settings,unseongText:N,shinsalText:O,hideBranchSipSin:!0,size:"sm"},`${e}-${w}`)})})]})}function cd({label:e,data:t,mode:n,effectiveDate:r,onPick:i}){const a=qn(D=>D.settings),o=S.useMemo(()=>t?lx(t):null,[t]),c="/",u=rn(o?$a(o,c):void 0),f=rn(o?gt(o,c):void 0),m=rn(o?kt(o):void 0),p=rn(o?at(o):void 0),g=S.useMemo(()=>f.charAt(0)||"",[f]),v=o,_=S.useMemo(()=>{const D=t?.birthPlace;return!D||D.name===""||!D.lon?127.5:D.lon},[t]),w=t?.mingSikType??c,E=S.useMemo(()=>{const D=v?gt(v,w).charAt(1):f.charAt(1)||"",$=v?at(v,_).charAt(1):p.charAt(1)||"";return(a.sinsalBase??"")===""?D:$},[a.sinsalBase,v,w,_,f,p]),T=S.useMemo(()=>{if(n!==""||!o||!t)return null;try{const D=Q5(o,u,t.dir,120,t.mingSikType),$=t4(D,f,t.dir,t.DayChangeRule),H=Jm(o,m,t.dir,120,t?.birthPlace?.lon??127.5),Y=n4(H,p,t.dir,t.DayChangeRule,o),K=r;return{si:rn(Y0(D.events,K)?.gz,u),il:rn(Y0($.events,K)?.gz,f),wl:rn(Y0(H.events,K)?.gz,m),yn:rn(Y0(Y.events,K)?.gz,p)}}catch{return null}},[n,o,u,f,m,p,r,t]),N=S.useMemo(()=>{if(n!=="")return null;const D=r;return{si:rn($a(D,c)),il:rn(gt(D,c)),wl:rn(kt(D)),yn:rn(at(D))}},[n,r]),O=t?Ub(t):"",P=o?nm(o):"",C=t?QEe(t):"";return t?x.jsxs("div",{className:"space-y-2",children:[x.jsx("button",{onClick:i,className:"px-3 py-1 rounded text-xs bg-neutral-900 dark:bg-white text-white dark:text-neutral-900 border border-neutral-900 dark:border-white hover:opacity-90 cursor-pointer",title:"  ",children:" "}),x.jsxs("div",{className:"text-[11px] text-neutral-600 dark:text-neutral-300",children:[x.jsx("span",{className:"font-semibold text-neutral-900 dark:text-neutral-200",children:e}),x.jsx("span",{className:"ml-2 text-neutral-900 dark:text-neutral-50",children:O}),C&&x.jsxs("span",{className:"ml-1 text-neutral-500 dark:text-neutral-400",children:[" ",C]}),P&&x.jsx("span",{className:"block desk:inline-block mt-1 text-neutral-500 dark:text-neutral-400 text-[10px]",children:P})]}),n===""&&x.jsx(MS,{label:"",gzHour:u,gzDay:f,gzMonth:m,gzYear:p,dayStem:g,cardSettings:a,sinsalBaseBranch:E,sinsalMode:a.sinsalMode,sinsalBloom:!!a.sinsalBloom}),n===""&&T&&x.jsx(MS,{label:"",gzHour:T.si,gzDay:T.il,gzMonth:T.wl,gzYear:T.yn,dayStem:g,cardSettings:a,sinsalBaseBranch:E,sinsalMode:a.sinsalMode,sinsalBloom:!!a.sinsalBloom}),n===""&&N&&x.jsx(MS,{label:"",gzHour:N.si,gzDay:N.il,gzMonth:N.wl,gzYear:N.yn,dayStem:g,cardSettings:a,sinsalBaseBranch:E,sinsalMode:a.sinsalMode,sinsalBloom:!!a.sinsalBloom})]}):x.jsx("div",{className:"flex items-center justify-center h-48 rounded-lg border border-dashed bg-white dark:bg-neutral-900 border-neutral-300 dark:border-neutral-700",children:x.jsx("button",{onClick:i,className:"px-3 py-2 rounded bg-neutral-900 dark:bg-white text-white dark:text-neutral-900 text-sm hover:opacity-90 cursor-pointer",children:" "})})}function tke({people:e=[]}){const[t,n]=S.useState(),[r,i]=S.useState(),[a,o]=S.useState(!1),[c,u]=S.useState(!1),f=S.useRef(new Date),[m,p]=S.useState(()=>WEe(f.current)),g=S.useRef(n3(m)??f.current),v=S.useMemo(()=>{const O=n3(m);return O&&(g.current=O),g.current},[m]),[_,w]=S.useState(!1),[E,T]=S.useState(!1);function N(O){if(!O)return["","","",""];try{const P=lx(O),C="/",D={hour:rn($a(P,C)),day:rn(gt(P,C)),month:rn(kt(P)),year:rn(at(P))};return[D.year,D.month,D.day,D.hour]}catch{return["","","",""]}}return x.jsxs(x.Fragment,{children:[x.jsxs("div",{className:"w-[96%] max-w-[640px] mx-auto bg-white dark:bg-neutral-950 text-neutral-900 dark:text-neutral-100 rounded-xl shadow border border-neutral-200 dark:border-neutral-800 px-2 py-4 desk:p-4",children:[x.jsxs("header",{className:"flex gap-3 justify-between items-center mb-4",children:[x.jsx("div",{className:"font-semibold text-sm text-neutral-900 dark:text-neutral-200",children:" "}),x.jsxs("div",{className:"flex items-center gap-4 text-xs text-neutral-600 dark:text-neutral-400",children:[x.jsxs("label",{className:"flex items-center gap-1 cursor-pointer",children:[x.jsx("input",{type:"checkbox",checked:a,onChange:O=>o(O.target.checked),className:"accent-indigo-500"})," "]}),x.jsx("button",{onClick:()=>u(O=>!O),className:"px-2 py-1 rounded border border-neutral-300 dark:border-neutral-700 hover:border-indigo-500 text-neutral-700 dark:text-neutral-300 bg-white dark:bg-neutral-900 cursor-pointer",children:c?" ":" "})]})]}),x.jsxs("div",{className:"grid grid-cols-2 gap-2 desk:gap-4",children:[x.jsx(cd,{label:" A",data:t,mode:"",effectiveDate:v,onPick:()=>w(!0)}),x.jsx(cd,{label:" B",data:r,mode:"",effectiveDate:v,onPick:()=>T(!0)}),a&&t&&x.jsx(cd,{label:" A",data:t,mode:"",effectiveDate:v,onPick:()=>w(!0)}),a&&r&&x.jsx(cd,{label:" B",data:r,mode:"",effectiveDate:v,onPick:()=>T(!0)}),c&&t&&x.jsx(cd,{label:" A",data:t,mode:"",effectiveDate:v,onPick:()=>w(!0)}),c&&r&&x.jsx(cd,{label:" B",data:r,mode:"",effectiveDate:v,onPick:()=>T(!0)})]}),t&&r&&x.jsx("div",{className:"mt-4",children:x.jsx(zEe,{pillarsA:N(t),pillarsB:N(r)})}),x.jsxs("div",{className:"mt-4 max-w-[260px] mx-auto text-center",children:[x.jsx("label",{className:"min-w-0 block text-xs text-neutral-600 dark:text-neutral-400 mb-2",children:" /"}),x.jsx("input",{type:"datetime-local",value:m,onChange:O=>p(O.target.value),className:"min-w-0 bg-white dark:bg-neutral-900 border border-neutral-300 dark:border-neutral-700 rounded px-3 py-1 text-xs w-[260px] max-w-[260px] box-border overflow-x-hidden text-neutral-900 dark:text-neutral-100 h-30",min:"1900-01-01T00:00",max:"2100-12-31T23:59"})]})]}),x.jsx(r3,{open:_,list:e||[],onSelect:O=>{n(O),w(!1)},onClose:()=>w(!1)}),x.jsx(r3,{open:E,list:e||[],onSelect:O=>{i(O),T(!1)},onClose:()=>T(!1)})]})}function nke(){const[e,t]=S.useState(!1),[n,r]=S.useState(!1),i=async()=>{try{const{data:{user:a}}=await Ie.auth.getUser();if(!a){alert("  .");return}const o=a.id,c=new Date().toISOString();await Ie.from("profiles").update({disabled_at:c}).eq("id",o),await Ie.from("myeongsik").update({deleted_at:c}).eq("user_id",o),await Ie.auth.signOut(),alert(" .   ."),window.location.href="/"}catch(a){console.error(a),alert("    .")}};return x.jsxs(x.Fragment,{children:[x.jsxs("footer",{className:"py-8 px-4 border-t border-neutral-200 dark:border-neutral-700",children:[x.jsx("div",{className:"text-center text-[12px] text-orange-600 dark:text-orange-300",children:"Copyright  2025 Hwarim96. All rights reserved."}),x.jsxs("div",{className:"flex justify-center items-center gap-4 mt-3",children:[x.jsx("button",{onClick:()=>t(!0),className:"text-[12px] text-neutral-500 dark:text-neutral-300 underline cursor-pointer hover:text-orange-500 transition",children:" "}),x.jsx("button",{onClick:()=>r(!0),className:"text-[12px] text-red-500 underline hover:text-red-400 transition cursor-pointer",children:""})]})]}),e&&x.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50",onClick:()=>t(!1),children:x.jsxs("div",{className:"w-full max-w-lg bg-white dark:bg-neutral-900 text-neutral-900 dark:text-neutral-200 p-6 rounded-xl shadow-xl relative animate-fadeInUp",onClick:a=>a.stopPropagation(),children:[x.jsx("h2",{className:"text-lg font-bold mb-4",children:" "}),x.jsxs("div",{className:"text-sm leading-relaxed max-h-[60vh] overflow-y-auto pr-2",children:[x.jsx("p",{className:"mb-2",children:"     ,    ."}),x.jsx("p",{className:"font-semibold mt-4 mb-1",children:"1.  "}),x.jsxs("p",{className:"mb-2",children:["   (, )",x.jsx("br",{}),"       ( ,  )"]}),x.jsx("p",{className:"font-semibold mt-4 mb-1",children:"2.  "}),x.jsxs("p",{className:"mb-2",children:["     ",x.jsx("br",{}),"    /  ",x.jsx("br",{}),"      "]}),x.jsx("p",{className:"font-semibold mt-4 mb-1",children:"3.  "}),x.jsxs("p",{className:"mb-2",children:["     ",x.jsx("br",{}),"         "]}),x.jsx("p",{className:"font-semibold mt-4 mb-1",children:"4. 3 "}),x.jsx("p",{className:"mb-2",children:"   3  ."}),x.jsx("p",{className:"font-semibold mt-4 mb-1",children:"5. "}),x.jsx("p",{className:"mb-2",children:" Supabase /DB    ."}),x.jsx("p",{className:"font-semibold mt-4 mb-1",children:"6. "}),x.jsx("p",{children:"   : unique950318@gmail.com"})]}),x.jsx("button",{onClick:()=>t(!1),className:"cursor-pointer mt-4 w-full py-2 bg-neutral-900 dark:bg-neutral-700 text-white rounded-lg hover:bg-neutral-800 transition",children:""})]})}),n&&x.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50",onClick:()=>r(!1),children:x.jsxs("div",{className:"w-full max-w-sm bg-white dark:bg-neutral-900 text-neutral-900 dark:text-neutral-200 p-6 rounded-xl shadow-xl relative animate-fadeInUp",onClick:a=>a.stopPropagation(),children:[x.jsx("h2",{className:"text-lg font-bold mb-4 text-red-500",children:" ?"}),x.jsxs("p",{className:"text-sm leading-relaxed mb-6",children:["        .",x.jsx("br",{}),"    ."]}),x.jsxs("div",{className:"flex gap-3",children:[x.jsx("button",{onClick:()=>r(!1),className:"cursor-pointer flex-1 py-2 bg-neutral-300 dark:bg-neutral-700 text-black dark:text-white rounded-lg hover:bg-neutral-400 transition",children:""}),x.jsx("button",{onClick:i,className:"cursor-pointer flex-1 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition",children:""})]})]})})]})}function rke(e){const t=e.getFullYear(),n=String(e.getMonth()+1).padStart(2,"0"),r=String(e.getDate()).padStart(2,"0");return`${t}-${n}-${r}`}function i3(e){if(!/^\d{4}-\d{2}-\d{2}$/.test(e))return null;const[t,n,r]=e.split("-"),i=Number(t),a=Number(n),o=Number(r);return!Number.isFinite(i)||!Number.isFinite(a)||!Number.isFinite(o)||a<1||a>12||o<1||o>31?null:{y:i,m:a,d:o}}function V8({date:e,onChange:t,min:n="1900-01-01",max:r="2100-12-31"}){const i=S.useMemo(()=>e instanceof Date&&!Number.isNaN(e.getTime())?e:new Date,[e]),a=S.useMemo(()=>rke(i),[i]),[o,c]=S.useState(a);S.useEffect(()=>{c(a)},[a]);const u=S.useRef(null),f=g=>{c(g);const v=i3(g);if(!v)return;const{y:_,m:w,d:E}=v,T=new Date(_,w,0).getDate(),N=Math.min(E,T),O=i.getHours(),P=i.getMinutes(),C=i.getSeconds(),D=i.getMilliseconds(),$=new Date(_,w-1,N,O,P,C,D);Number.isNaN($.getTime())||t($)},m=g=>{if(!g)return;c(g);const v=i3(g);if(!v)return;const{y:_,m:w,d:E}=v,T=i.getHours(),N=i.getMinutes(),O=i.getSeconds(),P=i.getMilliseconds(),C=new Date(_,w-1,E,T,N,O,P);Number.isNaN(C.getTime())||t(C)},p=()=>{const g=u.current;if(g){if(typeof g.showPicker=="function"){g.showPicker();return}g.focus(),g.click()}};return x.jsxs("div",{className:"flex items-center gap-2",children:[x.jsx("input",{type:"text",inputMode:"numeric",placeholder:"YYYY-MM-DD",value:o,onChange:g=>f(g.target.value),className:"w-[140px] h-30 rounded-md border border-neutral-300 dark:border-neutral-700 bg-transparent px-2 py-1 text-base desk:text-sm","aria-label":"()"}),x.jsx("button",{type:"button",onClick:p,className:"rounded-md border border-neutral-300 dark:border-neutral-700 bg-transparent px-2 py-1 text-sm text-neutral-600 dark:text-neutral-300 hover:bg-neutral-100 dark:hover:bg-neutral-900","aria-label":" ",title:"",children:""}),x.jsx("input",{ref:u,type:"date",value:o,onChange:g=>m(g.target.value),min:n,max:r,className:"sr-only","aria-hidden":"true",tabIndex:-1})]})}function ike({ms:e}){const{date:t,setDate:n}=ci(),r=S.useMemo(()=>{const u=typeof e.id=="string"?e.id:"";if(u)return u;const f=typeof e.birthDay=="string"||typeof e.birthDay=="number"?String(e.birthDay):"",m=typeof e.birthTime=="string"?e.birthTime:"";return[typeof e.ganji=="string"?e.ganji:"",f,m].filter(Boolean).join("|")},[e]);S.useEffect(()=>{n(new Date)},[r]);const i=D2(e),a=t instanceof Date&&!Number.isNaN(t.getTime())?t:new Date,o=S.useMemo(()=>{const u=typeof e.ganji=="string"?e.ganji:"",f=i?.dae?.gz?`${i.dae.gz}`:null,m=i?.se?.gz?`${i.se.gz}`:null,p=i?.wol?.gz?`${i.wol.gz}`:null,g=[f,m,p].filter(Boolean).join(" ");return[u,g].filter(Boolean).join(" + ")},[e.ganji,i]),c=u=>{n(u)};return x.jsxs("div",{className:"max-w-[640px] mx-auto mb-4 rounded-xl border border-neutral-200 dark:border-neutral-800 bg-white dark:bg-neutral-950 p-3 space-y-3",children:[o&&x.jsx("div",{className:"text-center text-sm font-medium text-neutral-800 dark:text-neutral-200",children:o}),x.jsx("div",{className:"grid grid-cols-1 gap-3",children:x.jsxs("label",{className:"w-full flex justify-center items-center",children:[x.jsx("span",{className:"text-sm text-neutral-500 mr-4",children:""}),x.jsx(V8,{date:a,onChange:c,min:"1900-01-01",max:"2100-12-31"})]})})]})}function ake(){const[e,t]=S.useState(!1),[n,r]=S.useState(!1),[i,a]=S.useState(!1),[o,c]=S.useState(!1),[u,f]=S.useState(!1);S.useEffect(()=>{setTimeout(()=>t(!0),50),setTimeout(()=>r(!0),250),setTimeout(()=>a(!0),450)},[]);const m=async()=>{if(!u){yy.error(`   
  .`);return}const{error:p}=await Ie.auth.signInWithOAuth({provider:"google",options:{redirectTo:`${window.location.origin}/`}});p&&(console.error("Google Login Error:",p),alert("   ."))};return x.jsxs("main",{className:`flex min-h-screen items-center justify-center bg-neutral-950 text-white px-4 transition-opacity duration-500 ${e?"opacity-100":"opacity-0"}`,children:[x.jsxs("div",{className:`transform transition-all duration-500 ${n?"translate-y-0 opacity-100":"translate-y-4 opacity-0"} absolute top-16 text-center`,children:[x.jsx("h1",{className:"text-3xl font-bold tracking-tight mb-1",children:""}),x.jsx("p",{className:"text-sm text-neutral-400",children:"    "})]}),x.jsxs("div",{className:`w-full max-w-sm rounded-2xl bg-neutral-900 p-8 shadow-xl border border-neutral-800 transition-all duration-500 ${i?"opacity-100 translate-y-0":"opacity-0 translate-y-6"}`,children:[x.jsx("h1",{className:"mb-2 text-2xl font-bold tracking-tight text-center",children:""}),x.jsxs("p",{className:"mb-6 text-sm text-neutral-400 text-center leading-relaxed",children:["  .",x.jsx("br",{}),"     "]}),x.jsx("div",{className:"mb-5 space-y-2",children:x.jsxs("label",{className:"flex items-start gap-2 text-sm text-neutral-300 cursor-pointer",children:[x.jsx("input",{type:"checkbox",checked:u,onChange:()=>f(!u),className:"mt-[2px]"}),x.jsxs("span",{children:["  .",x.jsx("button",{type:"button",onClick:()=>c(!0),className:"ml-1 underline text-orange-400 hover:text-orange-300 cursor-pointer",children:"( )"})]})]})}),x.jsxs("button",{type:"button",onClick:m,"aria-disabled":!u,className:`flex items-center justify-center gap-3 w-full py-3 rounded-lg font-medium text-sm shadow transition-all 
            ${u?"bg-white text-black hover:bg-neutral-100 active:scale-[0.98] cursor-pointer":"bg-neutral-700 text-neutral-400 cursor-pointer"}`,children:[x.jsx("img",{src:"https://www.gstatic.com/firebasejs/ui/2.0.0/images/auth/google.svg",alt:"Google Logo",className:"w-5 h-5 opacity-90"}),x.jsx("span",{children:"  "})]})]}),x.jsx(q3,{position:"top-center",toastOptions:{duration:2e3}}),o&&x.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50",onClick:()=>c(!1),children:x.jsxs("div",{className:"w-full max-w-lg bg-white dark:bg-neutral-900 text-neutral-900 dark:text-neutral-200 p-6 rounded-xl shadow-xl relative animate-fadeInUp",onClick:p=>p.stopPropagation(),children:[x.jsx("h2",{className:"text-lg font-bold mb-4",children:" "}),x.jsxs("div",{className:"text-sm leading-relaxed max-h-[60vh] overflow-y-auto pr-2",children:[x.jsx("p",{className:"mb-2",children:"( )     ,      ."}),x.jsx("p",{className:"font-semibold mt-4 mb-1",children:"1.  "}),x.jsx("p",{className:"mb-2",children:"   ,  (,  )        ( ,  )"}),x.jsx("p",{className:"font-semibold mt-4 mb-1",children:"2.  "}),x.jsx("p",{className:"mb-2",children:"                   "}),x.jsx("p",{className:"font-semibold mt-4 mb-1",children:"3.  "}),x.jsx("p",{className:"mb-2",children:"                 "}),x.jsx("p",{className:"font-semibold mt-4 mb-1",children:"4. 3 "}),x.jsx("p",{className:"mb-2",children:"          ."}),x.jsx("p",{className:"font-semibold mt-4 mb-1",children:"5. "}),x.jsx("p",{className:"mb-2",children:" Supabase        ."}),x.jsx("p",{className:"font-semibold mt-4 mb-1",children:"6. "}),x.jsx("p",{children:"   : unique950318@gmail.com"})]}),x.jsx("button",{onClick:()=>c(!1),className:"mt-4 w-full py-2 bg-neutral-900 dark:bg-neutral-700 text-white rounded-lg hover:bg-neutral-800 transition",children:""})]})})]})}function oke({useWoldu:e,useSiju:t,hourRule:n,gender:r,onToggleWoldu:i,onToggleSiju:a,onChangeHourRule:o,onChangeGender:c}){return x.jsxs("div",{className:"flex flex-wrap items-center gap-6 mb-4",children:[x.jsxs("div",{children:[x.jsx("p",{className:"font-medium mb-2",children:"/"}),x.jsxs("span",{className:"mr-3 chkContainer",children:[x.jsx("input",{type:"checkbox",id:"useWoldu",checked:e,onChange:u=>i(u.target.checked)}),x.jsx("label",{htmlFor:"useWoldu",className:"ml-1",children:" "})]}),x.jsxs("span",{className:"chkContainer",children:[x.jsx("input",{type:"checkbox",id:"useSidu",checked:t,onChange:u=>a(u.target.checked)}),x.jsx("label",{htmlFor:"useSidu",className:"ml-1",children:" "})]})]}),x.jsxs("div",{children:[x.jsx("p",{className:"font-medium mb-2",children:" "}),x.jsxs("span",{className:"mr-3 chkContainer",children:[x.jsx("input",{type:"radio",id:"jasi",checked:n==="",onChange:()=>o("")}),x.jsx("label",{htmlFor:"jasi",className:"ml-1",children:""})]}),x.jsxs("span",{className:"chkContainer",children:[x.jsx("input",{type:"radio",id:"insi",checked:n==="",onChange:()=>o("")}),x.jsx("label",{htmlFor:"insi",className:"ml-1",children:""})]})]}),x.jsxs("div",{children:[x.jsx("p",{className:"font-medium mb-2",children:""}),x.jsxs("span",{className:"mr-3 chkContainer",children:[x.jsx("input",{type:"radio",id:"male",checked:r==="male",onChange:()=>c("male")}),x.jsx("label",{htmlFor:"male",className:"ml-1",children:""})]}),x.jsxs("span",{className:"chkContainer",children:[x.jsx("input",{type:"radio",id:"female",checked:r==="female",onChange:()=>c("female")}),x.jsx("label",{htmlFor:"female",className:"ml-1",children:""})]})]})]})}function ske({pillars:e,active:t,canEnterOthers:n,onActivate:r}){return x.jsx("div",{className:"grid grid-cols-4 gap-2 mb-4",children:[["hourStem",""],["dayStem",""],["monthStem",""],["yearStem",""],["hourBranch",""],["dayBranch",""],["monthBranch",""],["yearBranch",""]].map(([i,a])=>{const o=!n&&!(i==="yearStem"||i==="yearBranch"||i==="dayStem"||i==="dayBranch"),c=t===i;return x.jsxs("button",{onClick:()=>!o&&r(i),disabled:o,className:["border rounded p-2 text-center cursor-pointer",c?"border-purple-500 bg-purple-100 dark:bg-purple-900/30":"border-neutral-300 dark:border-neutral-700",o?"opacity-50 cursor-not-allowed":""].join(" "),children:[a,x.jsx("br",{}),x.jsx("span",{className:"font-bold",children:e[i]??"-"})]},i)})})}function lke({results:e,selectedRow:t,onSelectRow:n,gender:r}){return e?e.length===0?x.jsx("div",{className:"p-4 text-neutral-500",children:"  ."}):x.jsxs("table",{className:"w-full text-xs",children:[x.jsx("thead",{className:"sticky top-0 bg-neutral-50 dark:bg-neutral-800",children:x.jsxs("tr",{children:[x.jsx("th",{className:"p-1 text-center",children:""}),x.jsx("th",{className:"p-1 text-center",children:""}),x.jsx("th",{className:"p-1 text-center",children:""}),x.jsx("th",{className:"p-1 text-center",children:""}),x.jsx("th",{className:"p-1 text-center",children:""}),x.jsx("th",{className:"p-1 text-center",children:""}),x.jsx("th",{className:"p-1 text-center",children:""})]})}),x.jsx("tbody",{children:e.map((i,a)=>x.jsxs("tr",{className:"border-t border-neutral-200 dark:border-neutral-800",children:[x.jsx("td",{className:"p-1 text-center",children:x.jsxs("span",{className:"chkContainer",children:[x.jsx("input",{type:"radio",name:"selectRow",id:`selectRow-${a}`,checked:t===a,onChange:()=>n(a)}),x.jsx("label",{htmlFor:`selectRow-${a}`,children:"ON"})]})}),x.jsx("td",{className:"p-1 text-center",children:i.date}),x.jsx("td",{className:"p-1 text-center",children:i.year}),x.jsx("td",{className:"p-1 text-center",children:i.month}),x.jsx("td",{className:"p-1 text-center",children:i.day}),x.jsx("td",{className:"p-1 text-center",children:x.jsx("div",{className:"flex flex-wrap gap-1",children:i.hourSlots.map((o,c)=>x.jsx("span",{className:"inline-flex items-center mx-auto gap-1 px-1 py-0.5 rounded bg-neutral-100 dark:bg-neutral-800 border border-neutral-200 dark:border-neutral-700",children:x.jsx("b",{children:o.branch})},c))})}),x.jsx("td",{className:"p-1 text-center",children:r==="male"?"":""})]},`${i.date}-${a}`))})]}):x.jsx("div",{className:"p-2 text-neutral-500 text-sm text-center",children:"    ."})}function cke({toast:e,showToast4:t,searchToast:n,error:r}){return x.jsxs(x.Fragment,{children:[e&&x.jsx("div",{className:"pointer-events-none fixed left-1/2 -translate-x-1/2 top-6 z-[1100] border border-white/30",children:x.jsx("div",{className:"px-4 py-2 rounded-md bg-black/80 text-white text-sm shadow-lg",children:e})}),t&&x.jsx("div",{className:"fixed inset-0 flex items-center justify-center z-[2000]",children:x.jsx("div",{className:"bg-black text-white px-4 py-2 rounded-lg shadow-lg",children:" 4  ."})}),n&&x.jsx("div",{className:"fixed inset-0 flex items-center justify-center z-[2000]",children:x.jsxs("div",{className:"bg-black text-white px-4 py-2 rounded-lg shadow-lg text-center",children:["  .",x.jsx("br",{}),"   ."]})}),r&&x.jsx("div",{className:"mt-3 text-xs text-red-600 text-center",children:r})]})}function uke({choices:e,onChoose:t}){return!e||e.length===0?null:x.jsxs("div",{className:"mb-3",children:[x.jsx("p",{className:"text-sm mb-1",children:"  ."}),x.jsx("div",{className:"flex gap-2",children:e.map(n=>x.jsx("button",{onClick:()=>t(n),className:"flex-1 px-2 py-1 border rounded hover:bg-orange-100 dark:hover:bg-orange-800 cursor-pointer",children:n},n))})]})}const MT=["","","","","","","","","",""],_p=["","","","","","","","","","","",""],dke={:0,:1,:2,:3,:4,:5,:6,:7,:8,:9},Z8=["","","","","","","","","","","",""],fke=_p,hke=Z8,mke=["23:00~0:59","01:00~2:59","03:00~4:59","05:00~6:59","07:00~8:59","09:00~10:59","11:00~12:59","13:00~14:59","15:00~16:59","17:00~18:59","19:00~20:59","21:00~22:59"],pke={:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},gke={:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""};function Lm(e,t){let n;e===""||e===""?n="":e===""||e===""?n="":e===""||e===""?n="":e===""||e===""?n="":n="";const r=dke[n],i=Z8.indexOf(t),a=(r+(i>=0?i:0))%10;return MT[a]}function cx(e,t){const n=t===""?fke:hke,r=e===""||e===""?0:e===""||e===""?2:e===""||e===""?4:e===""||e===""?6:8,i=_p.reduce((a,o)=>(a[o]="",a),{});for(let a=0;a<12;a++){const o=MT[(r+a)%10],c=n[a];i[c]=`${o}${c}`}return i}const yke={:{hh:0,mi:0},:{hh:2,mi:0},:{hh:4,mi:0},:{hh:6,mi:0},:{hh:8,mi:0},:{hh:10,mi:0},:{hh:12,mi:0},:{hh:14,mi:0},:{hh:16,mi:0},:{hh:18,mi:0},:{hh:20,mi:0},:{hh:22,mi:0}};function bke(e){return e==="yearStem"?"yearBranch":e==="yearBranch"?"yearStem":e==="monthStem"?"monthBranch":e==="monthBranch"?"monthStem":e==="dayStem"?"dayBranch":e==="dayBranch"?"dayStem":e==="hourStem"?"hourBranch":"hourStem"}function vke({active:e,pillars:t,activeIsStem:n,activeIsBranch:r,onSelect:i,settingsObj:a}){return e?x.jsxs("div",{className:"w-full",children:[n&&x.jsxs("div",{children:[x.jsx("p",{className:"font-medium mb-2",children:""}),x.jsx("div",{className:"grid grid-cols-5 gap-2",children:MT.map(o=>x.jsx("button",{onClick:()=>i(o),className:`border rounded px-2 py-1 cursor-pointer ${Ii(o,"stem",a)}`,children:o},o))})]}),r&&x.jsxs("div",{children:[x.jsx("p",{className:"font-medium mb-2",children:""}),x.jsx("div",{className:"grid grid-cols-6 gap-2",children:_p.filter(o=>{const c=bke(e),u=t[c];return u?gke[o]===pke[u]:!0}).map(o=>x.jsx("button",{onClick:()=>i(o),className:`border rounded px-2 py-1 cursor-pointer ${Ii(o,"branch",a)}`,children:o},o))})]})]}):x.jsx("div",{className:"text-sm text-neutral-500 p-2 border rounded w-full text-center",children:"   ."})}function xke(){const[e,t]=S.useState({}),[n,r]=S.useState(null),[i,a]=S.useState(null),[o,c]=S.useState(!0),[u,f]=S.useState(!0),[m,p]=S.useState(""),[g,v]=S.useState("male"),[_,w]=S.useState(null),[E,T]=S.useState(!1),[N,O]=S.useState(null),[P,C]=S.useState({gender:"",mingSikType:"/",DayChangeRule:"",calendarType:"solar"}),[D,$]=S.useState(!1),[H,Y]=S.useState(null),[K,F]=S.useState(null),[z,X]=S.useState(!1),[Q,J]=S.useState(!1),q=Z=>{F(Z),setTimeout(()=>F(null),1800)};return S.useEffect(()=>{if(!z)return;const Z=setTimeout(()=>X(!1),2e3);return()=>clearTimeout(Z)},[z]),S.useEffect(()=>{if(!Q)return;const Z=setTimeout(()=>J(!1),2e3);return()=>clearTimeout(Z)},[Q]),{pillars:e,setPillars:t,active:n,setActive:r,monthBranchChoices:i,setMonthBranchChoices:a,useWoldu:o,setUseWoldu:c,useSiju:u,setUseSiju:f,hourRule:m,setHourRule:p,gender:g,setGender:v,results:_,setResults:w,searching:E,setSearching:T,selectedRow:N,setSelectedRow:O,form:P,setForm:C,unknownPlace:D,setUnknownPlace:$,error:H,setError:Y,toast:K,showToast4:z,setShowToast:X,searchToast:Q,setSearchToast:J,showToast:q}}function X8(e){return!!(e.yearStem&&e.yearBranch&&e.monthStem&&e.monthBranch&&e.dayStem&&e.dayBranch&&e.hourStem&&e.hourBranch)}function a3(e,t){return _p.filter(n=>Lm(e,n)===t)}function o3(e,t,n){if(!n||!e.yearStem)return{next:e,monthBranchChoices:null};const r={...e};if(!r.yearStem)return{next:r,monthBranchChoices:null};if(t==="monthStem"&&r.monthStem){const i=a3(r.yearStem,r.monthStem);return i.length>=2?{next:r,monthBranchChoices:i.slice(0,2)}:(i.length===1&&(r.monthBranch=i[0]),{next:r,monthBranchChoices:null})}if(t==="monthBranch"&&r.monthBranch)return r.monthStem=Lm(r.yearStem,r.monthBranch),{next:r,monthBranchChoices:null};if(t==="yearStem")if(r.monthStem&&!r.monthBranch){const i=a3(r.yearStem,r.monthStem);if(i.length>=2)return{next:r,monthBranchChoices:i.slice(0,2)};i.length===1&&(r.monthBranch=i[0])}else r.monthBranch&&!r.monthStem&&(r.monthStem=Lm(r.yearStem,r.monthBranch));return{next:r,monthBranchChoices:null}}function _ke(e,t,n,r){if(!n||!e.dayStem)return e;const i={...e};if(!i.dayStem)return i;const a=cx(i.dayStem,r),o=u=>Object.entries(a).find(([,f])=>f.startsWith(u)),c=u=>a[u];if(t==="hourStem"&&i.hourStem){const u=o(i.hourStem);return u&&(i.hourBranch=u[0]),i}if(t==="hourBranch"&&i.hourBranch){const u=c(i.hourBranch);return u&&(i.hourStem=u.slice(0,1)),i}if(t==="dayStem"){if(i.hourStem&&!i.hourBranch){const u=o(i.hourStem);u&&(i.hourBranch=u[0])}else if(i.hourBranch&&!i.hourStem){const u=c(i.hourBranch);u&&(i.hourStem=u.slice(0,1))}}return i}function wke(e,t){return!t||!e.yearStem?!1:e.monthBranch&&e.monthStem?Lm(e.yearStem,e.monthBranch)!==e.monthStem:!1}function Ske(e,t,n){if(!t||!e.dayStem)return!1;if(e.hourBranch&&e.hourStem){const i=cx(e.dayStem,n)[e.hourBranch];return i?i.slice(0,1)!==e.hourStem:!1}return!1}function PS(e,t,n){const i=cx(e,t)[n];return i?i.slice(0,1):null}function Eke({pillars:e,setPillars:t,active:n,setActive:r,monthBranchChoices:i,setMonthBranchChoices:a,useWoldu:o,setUseWoldu:c,useSiju:u,setUseSiju:f,hourRule:m,setHourRule:p,setResults:g,setError:v,showToast:_}){const w=o||u,E=!!(e.yearStem&&e.yearBranch),T=!!(e.dayStem&&e.dayBranch),N=!w||E||T,O=!!n&&n.endsWith("Stem"),P=!!n&&n.endsWith("Branch"),C=S.useMemo(()=>X8(e),[e]);return S.useEffect(()=>{if(!(!u||!e.dayStem||!e.hourBranch)&&(e.hourBranch===""||e.hourBranch==="")){const z=PS(e.dayStem,m,e.hourBranch);z&&t(X=>({...X,hourStem:z}))}},[m,u,e.dayStem,e.hourBranch,t]),{needStartFromYearOrDay:w,canEnterOthers:N,activeIsStem:O,activeIsBranch:P,filledAll:C,monthBranchChoices:i,handleSelect:z=>{if(!n)return;if(!N&&!(n==="yearStem"||n==="yearBranch"||n==="dayStem"||n==="dayBranch")){v("/      ."),setTimeout(()=>v(null),1500);return}let Q={...e,[n]:z};if(n==="yearStem"||n==="monthStem"||n==="monthBranch"){const Z=o3(Q,n,o);Q=Z.next,a(Z.monthBranchChoices)}(n==="dayStem"||n==="hourStem"||n==="hourBranch")&&(Q=_ke(Q,n,u,m));let J=!1;wke(Q,o)&&(c(!1),J=!0),Ske(Q,u,m)&&(f(!1),J=!0),J&&_("/  .  ."),t(Q),g(null),r(n==="yearStem"?"yearBranch":n==="yearBranch"?"yearStem":n==="monthStem"?"monthBranch":n==="monthBranch"?"monthStem":n==="dayStem"?"dayBranch":n==="dayBranch"?"dayStem":n==="hourStem"?"hourBranch":"hourStem"),setTimeout(()=>{const Z={...Q};if(Z.yearStem&&Z.yearBranch&&!Z.monthStem){r("monthStem");return}if(Z.monthStem&&Z.monthBranch&&!Z.dayStem){r("dayStem");return}if(Z.dayStem&&Z.dayBranch&&!Z.hourStem){r("hourStem");return}},0)},handleMonthBranchChoice:z=>{let X={...e,monthBranch:z};a(null),X=o3(X,"monthBranch",o).next,t(X),r("dayStem")},clearAll:()=>{t({}),g(null),v(null),r(null),a(null)},onToggleWoldu:z=>{g(null),z&&t(X=>{const Q={...X};return Q.yearStem&&Q.monthBranch&&(Q.monthStem=Lm(Q.yearStem,Q.monthBranch)),Q}),c(z)},onToggleSiju:z=>{g(null),z&&t(X=>{const Q={...X};if(Q.dayStem&&Q.hourBranch){const J=PS(Q.dayStem,m,Q.hourBranch);J&&(Q.hourStem=J)}return Q}),f(z)},onChangeHourRule:z=>{if(g(null),p(z),u&&e.dayStem&&e.hourBranch&&(e.hourBranch===""||e.hourBranch==="")){const X=PS(e.dayStem,z,e.hourBranch);X&&t(Q=>({...Q,hourStem:X}))}}}}function kke(e){const{selectedRow:t,results:n,gender:r,hourRule:i,form:a,unknownPlace:o}=e,c=t!==null?n?.filter((K,F)=>F===t)??[]:[];if(c.length===0)return{error:"  ."};const u=c[0],f=i===""?"/":"",[m,p,g]=u.date.split("-").map(Number);let v=0,_=0;if(u.hourSlots.length>0){const K=u.hourSlots[0].branch,F=yke[K];F&&(v=F.hh,_=F.mi)}const w=new Date(m,p-1,g,v,_),E=w,T="",N=r==="male"?"":"",O=Ake(u.year.charAt(0),N),P=at(E,127.5),C=kt(E,127.5),D=gt(E,f),$=$a(E,f),H=[`: ${P} ${C} ${D}`,$?`${$}`:null].filter(Boolean).join(" ");return{payload:{id:K5(),name:"",birthDay:`${m}${String(p).padStart(2,"0")}${String(g).padStart(2,"0")}`,birthTime:`${String(v).padStart(2,"0")}${String(_).padStart(2,"0")}`,gender:N,birthPlace:o?{name:"",lat:0,lon:127.5}:a.birthPlace??{name:"",lat:0,lon:127.5},relationship:a.relationship??"",memo:a.memo??"",folder:Gc(a.folder),mingSikType:a.mingSikType??"/",DayChangeRule:a.mingSikType===""?"":"",calendarType:a.calendarType??"solar",ganjiText:`: ${u.year} ${u.month} ${u.day} ${u.hour}`,ganji:H,dayStem:u.day.charAt(0),dateObj:w,corrected:E,correctedLocal:T,dir:O,favorite:!1}}}function Ake(e,t){const r=["","","","","","","","","",""].includes(e),i=t==="";return r?i?"forward":"backward":i?"backward":"forward"}function Tke(e){Br.getState().add(e)}function Oke(e,t,n,r=300){if(!e.yearStem||!e.yearBranch)return[];if(!e.monthStem||!e.monthBranch)return[];if(!e.dayStem||!e.dayBranch)return[];if(!e.hourStem||!e.hourBranch)return[];const i=`${e.yearStem}${e.yearBranch}`,a=`${e.monthStem}${e.monthBranch}`,o=`${e.dayStem}${e.dayBranch}`,c=`${e.hourStem}${e.hourBranch}`,u=[],f=new Date(1900,0,1,12,0,0),m=new Date(2100,11,31,12,0,0);for(let p=f.getTime();p<=m.getTime();p+=24*3600*1e3){const g=new Date(p),v=at(g);if(v!==i)continue;const _=kt(g);if(_!==a)continue;const w=gt(g,n);if(w!==o)continue;const E=cx(e.dayStem,t),T=[];for(let N=0;N<12;N++){const O=_p[N];E[O]===c&&T.push({branch:O,time:mke[N]})}if(T.length!==0&&(u.push({date:`${g.getFullYear()}-${String(g.getMonth()+1).padStart(2,"0")}-${String(g.getDate()).padStart(2,"0")}`,year:v,month:_,day:w,hour:c,hourSlots:T}),u.length>=r))break}return u}function jke({pillars:e,hourRule:t,results:n,selectedRow:r,gender:i,form:a,unknownPlace:o,setResults:c,setSearching:u,setError:f,setSearchToast:m,setForm:p,setUnknownPlace:g,showToast:v,onSave:_,onClose:w}){return{doSearch:()=>{if(c(null),f(null),!X8(e)){f(" 4  .");return}u(!0);try{const O=Oke(e,t,t===""?"/":"");O.length===0&&f("  . (: 1900~2100)"),c(O)}catch(N){N instanceof Error?f(N.message):f(String(N))}finally{u(!1)}},handleSave:()=>{const N=kke({selectedRow:r,results:n,gender:i,hourRule:t,form:a,unknownPlace:o});if("error"in N){m(!0);return}Zd.flushSync(()=>{Tke(N.payload)}),_(N.payload),v(" !"),p({gender:"",mingSikType:"/",DayChangeRule:"",calendarType:"solar"}),g(!1),w()}}}function Nke({open:e,onClose:t,onSave:n}){const{settings:r}=qn(),i=xke(),a=Eke({pillars:i.pillars,setPillars:i.setPillars,active:i.active,setActive:i.setActive,monthBranchChoices:i.monthBranchChoices,setMonthBranchChoices:i.setMonthBranchChoices,useWoldu:i.useWoldu,setUseWoldu:i.setUseWoldu,useSiju:i.useSiju,setUseSiju:i.setUseSiju,hourRule:i.hourRule,setHourRule:i.setHourRule,setResults:i.setResults,setError:i.setError,showToast:i.showToast}),o=jke({pillars:i.pillars,hourRule:i.hourRule,results:i.results,selectedRow:i.selectedRow,gender:i.gender,form:i.form,unknownPlace:i.unknownPlace,setResults:i.setResults,setSearching:i.setSearching,setError:i.setError,setSearchToast:i.setSearchToast,setForm:i.setForm,setUnknownPlace:i.setUnknownPlace,showToast:i.showToast,onSave:n,onClose:t});return e?x.jsx("div",{className:"fixed min-w-[320px] inset-0 z-[1000] flex items-center justify-center bg-black/50",children:x.jsxs("div",{className:"bg-white max-w-[360px] dark:bg-neutral-900 rounded-xl shadow-xl w-full max-w-5xl p-4 relative",children:[x.jsx("button",{onClick:t,className:"absolute top-3 right-3 text-neutral-500 hover:text-neutral-800 dark:hover:text-neutral-200 cursor-pointer","aria-label":"",children:x.jsx(e7,{size:20})}),x.jsx("h2",{className:"text-lg font-semibold mb-4",children:"  "}),x.jsx(oke,{useWoldu:i.useWoldu,useSiju:i.useSiju,hourRule:i.hourRule,gender:i.gender,onToggleWoldu:a.onToggleWoldu,onToggleSiju:a.onToggleSiju,onChangeHourRule:a.onChangeHourRule,onChangeGender:i.setGender}),a.needStartFromYearOrDay&&!a.canEnterOthers&&x.jsxs("div",{className:"mb-3 text-sm text-orange-700 bg-orange-50 dark:text-orange-300 dark:bg-orange-900/30 rounded p-2 text-center",children:["/  . ",x.jsx("br",{}),x.jsx("b",{children:""}),"  ",x.jsx("b",{children:""})," ."]}),x.jsx(ske,{pillars:i.pillars,active:i.active,canEnterOthers:a.canEnterOthers,onActivate:i.setActive}),x.jsx(uke,{choices:i.monthBranchChoices,onChoose:a.handleMonthBranchChoice}),x.jsx("div",{className:"flex w-full flex-wrap gap-6 mb-4",children:x.jsx(vke,{active:i.active,pillars:i.pillars,activeIsStem:a.activeIsStem,activeIsBranch:a.activeIsBranch,onSelect:a.handleSelect,settingsObj:r})}),x.jsxs("div",{className:"flex justify-between items-center gap-3 mb-4",children:[x.jsx("span",{children:x.jsx("button",{type:"button",onClick:()=>{if(!a.filledAll){i.setShowToast(!0);return}o.doSearch()},disabled:i.searching,className:"px-2 py-1 rounded-md bg-blue-600 text-white disabled:opacity-50 cursor-pointer",children:i.searching?"..":""})}),x.jsxs("span",{className:"flex items-center gap-2",children:[x.jsx("button",{type:"button",onClick:a.clearAll,className:"px-2 py-1 rounded-md bg-red-600 border border-neutral-300 dark:border-neutral-700 cursor-pointer",children:""}),x.jsx("button",{type:"button",onClick:o.handleSave,className:"px-2 py-1 rounded-md border bg-yellow-600 border-neutral-300 dark:border-neutral-700 cursor-pointer",children:""})]})]}),x.jsx("div",{className:"max-h-[40vh] overflow-auto rounded border border-neutral-200 dark:border-neutral-800",children:x.jsx(lke,{results:i.results,selectedRow:i.selectedRow,onSelectRow:i.setSelectedRow,gender:i.gender})}),x.jsx(cke,{toast:i.toast,showToast4:i.showToast4,searchToast:i.searchToast,error:i.error})]})}):null}function Cke({copiedInfo:e,copiedAll:t,canCopyInfo:n,canCopyAll:r,lockTitle:i,onCopyInfoOnly:a,onCopyAll:o}){const c=i?" ":"";return x.jsxs("div",{className:"flex flex-col desk:flex-row desk:items-center desk:justify-between gap-2",children:[x.jsx("div",{className:"text-sm font-semibold text-neutral-700 dark:text-neutral-200",children:"AI  "}),x.jsxs("div",{className:"flex gap-2 w-full desk:w-auto",children:[x.jsx("button",{type:"button",onClick:a,disabled:!n,title:n?void 0:i,className:["w-full desk:w-auto px-3 py-1 rounded-md text-xs whitespace-nowrap border",n?"cursor-pointer":"cursor-not-allowed opacity-50",e?"bg-green-600 text-white border-green-600":n?"bg-orange-600 text-white dark:bg-orange-600":"bg-orange-600/70 text-white border-orange-600/50"].join(" "),children:e?"":`  ${n?"":c}`}),x.jsx("button",{type:"button",onClick:o,disabled:!r,title:r?void 0:i,className:["w-full desk:w-auto px-3 py-1 rounded-md text-xs whitespace-nowrap",r?"cursor-pointer":"cursor-not-allowed opacity-50",t?"bg-green-600 text-white":"bg-neutral-900 text-white dark:bg-yellow-500 dark:text-black"].join(" "),children:t?"":`  ${r?"":c}`})]})]})}function Mke({sections:e,toggleSection:t}){return x.jsxs("div",{className:"mt-3 border-t pt-2",children:[x.jsxs("div",{className:"text-[11px] font-semibold mb-2 text-neutral-700 dark:text-neutral-200",children:["   ",x.jsx("span",{className:"text-amber-500",children:"(TIP.     . - 2025/12 )"})]}),x.jsxs("div",{className:"grid grid-cols-4 desk:grid-cols-8 gap-2 text-[11px] text-neutral-700 dark:text-neutral-200",children:[x.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[x.jsx("input",{type:"checkbox",checked:e.twelveUnseong,onChange:()=>t("twelveUnseong"),className:"w-3 h-3"}),""]}),x.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[x.jsx("input",{type:"checkbox",checked:e.twelveShinsal,onChange:()=>t("twelveShinsal"),className:"w-3 h-3"}),""]}),x.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[x.jsx("input",{type:"checkbox",checked:e.shinsal,onChange:()=>t("shinsal"),className:"w-3 h-3"})," "]}),x.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[x.jsx("input",{type:"checkbox",checked:e.nabeum,onChange:()=>t("nabeum"),className:"w-3 h-3"}),""]})]})]})}function Pke({tone:e,toneMeta:t,setTone:n,friendMode:r,setFriendMode:i,teacherMode:a,setTeacherMode:o}){return x.jsxs("div",{className:"w-full mt-2 p-2 border rounded-md bg-neutral-50 dark:bg-neutral-800",children:[x.jsx("div",{className:"text-xs font-semibold mb-1 text-neutral-700 dark:text-neutral-200",children:"  "}),x.jsx("div",{className:"flex gap-1.5 mb-2",children:Object.keys(t).map(c=>x.jsx("button",{type:"button",onClick:()=>n(c),className:`flex-1 p-1 text-[10px] rounded border cursor-pointer ${e===c?"bg-neutral-900 text-white dark:bg-yellow-500 dark:text-black":"bg-white dark:bg-neutral-700 text-neutral-700 dark:text-neutral-200"}`,children:t[c].label},c))}),x.jsx("div",{className:"text-[11px] whitespace-pre-line text-neutral-600 dark:text-neutral-300 leading-4",children:t[e].desc}),x.jsxs("div",{className:"mt-2 flex items-center gap-2",children:[x.jsxs("div",{className:"mr-1 flex items-center gap-2",children:[x.jsx("input",{type:"checkbox",id:"friendMode",checked:r,onChange:i,className:"w-3 h-3"}),x.jsx("label",{htmlFor:"friendMode",className:"text-[11px] text-neutral-700 dark:text-neutral-200 cursor-pointer",children:" "})]}),x.jsxs("div",{className:"flex items-center gap-2",children:[x.jsx("input",{type:"checkbox",id:"teacherMode",checked:a,onChange:o,className:"w-3 h-3"}),x.jsx("label",{htmlFor:"teacherMode",className:"text-[11px] text-neutral-700 dark:text-neutral-200 cursor-pointer",children:" (/)"})]})]})]})}function Dke({mainCategory:e,subCategory:t,mainCategoryMeta:n,currentSubList:r,onMainCategoryChange:i,onSubCategoryChange:a}){return x.jsxs("div",{className:"flex flex-wrap gap-2 items-center",children:[x.jsx("select",{value:e,onChange:o=>i(o.target.value),className:"px-2.5 h-30 h-8 text-[11px] rounded-md border bg-white dark:bg-neutral-800 text-neutral-700 dark:text-neutral-200 border-neutral-200 dark:border-neutral-700",children:Object.keys(n).map(o=>x.jsx("option",{value:o,children:n[o].label},o))}),r.length>0&&x.jsx("select",{value:t,onChange:o=>a(o.target.value),className:"px-2.5 h-30 h-8 text-[11px] rounded-md border bg-white dark:bg-neutral-800 text-neutral-700 dark:text-neutral-200 border-neutral-200 dark:border-neutral-700",children:r.map(o=>x.jsx("option",{value:o.key,children:o.label},o.key))})]})}function Rke({visible:e,relationMode:t,setRelationMode:n,partnerId:r,setPartnerId:i,partnerOptions:a}){return e?x.jsxs("div",{className:"flex flex-col gap-1.5 text-[11px] text-neutral-700 dark:text-neutral-200",children:[x.jsxs("div",{className:"flex items-center gap-2",children:[x.jsx("span",{className:"font-semibold",children:" "}),x.jsxs("div",{className:"inline-flex rounded-full border border-neutral-200 dark:border-neutral-700 overflow-hidden",children:[x.jsx("button",{type:"button",onClick:()=>n("solo"),className:`px-3 py-1 cursor-pointer ${t==="solo"?"bg-neutral-900 text-white dark:bg-yellow-500 dark:text-black":"bg-neutral-50 dark:bg-neutral-800 text-neutral-600 dark:text-neutral-300"}`,children:" "}),x.jsx("button",{type:"button",onClick:()=>n("couple"),className:`px-3 py-1 cursor-pointer ${t==="couple"?"bg-neutral-900 text-white dark:bg-yellow-500 dark:text-black":"bg-neutral-50 dark:bg-neutral-800 text-neutral-600 dark:text-neutral-300"}`,children:" "})]})]}),t==="couple"&&x.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[x.jsx("span",{className:"font-semibold",children:"  "}),x.jsxs("select",{value:r,onChange:o=>i(o.target.value),className:"min-w-[180px] h-30 px-2 py-1 border rounded bg-white dark:bg-neutral-800",children:[x.jsx("option",{value:"",children:" "}),a.map(o=>x.jsx("option",{value:o.id,children:o.label},o.id))]})]})]}):null}function Lke({isMultiMode:e,setIsMultiMode:t,canUseMultiMode:n}){const r=!n;return x.jsxs("div",{className:"flex gap-2",children:[x.jsx("button",{type:"button",onClick:()=>t(!1),className:`px-3 py-1.5 text-xs rounded-md border cursor-pointer ${e?"bg-neutral-100 dark:bg-neutral-800 text-neutral-600 dark:text-neutral-300":"bg-neutral-900 text-white dark:bg-yellow-500 dark:text-black"}`,children:" "}),x.jsxs("button",{type:"button",onClick:()=>t(!0),disabled:r,title:r?" .":" (  )",className:`px-3 py-1.5 text-xs rounded-md border transition-colors ${r?"bg-neutral-200 text-neutral-500 dark:bg-neutral-800 dark:text-neutral-400 cursor-not-allowed opacity-70":e?"bg-neutral-900 text-white dark:bg-yellow-500 dark:text-black cursor-pointer":"bg-neutral-100 dark:bg-neutral-800 text-neutral-600 dark:text-neutral-300 cursor-pointer"}`,children:[" (  ) ",r?"":""]})]})}function Ike({tabs:e,activeTab:t,setActiveTab:n,date:r,setDate:i,canUseLuckTabs:a}){return x.jsxs(x.Fragment,{children:[x.jsxs("div",{className:"flex desk:justify-between flex-col desk:flex-row gap-2",children:[x.jsx("div",{className:"flex gap-1 flex-wrap",children:e.map(o=>{const c=!a&&o!=="",u=!c&&t===o;return x.jsxs("button",{type:"button",onClick:()=>{c||n(o)},disabled:c,title:c?" .":o,className:["px-2 py-1 text-xs rounded-md border transition-colors",c?"bg-neutral-200 text-neutral-500 dark:bg-neutral-800 dark:text-neutral-400 cursor-not-allowed opacity-70":"cursor-pointer",u?"bg-neutral-900 text-white dark:bg-yellow-500 dark:text-black":c?"":"bg-neutral-100 dark:bg-neutral-800 text-neutral-600 dark:text-neutral-300"].join(" "),children:[o," ",c?"":""]},o)})}),x.jsx(V8,{date:r,onChange:i})]}),x.jsxs("div",{className:"text-[11px] text-neutral-500 dark:text-neutral-400",children:[x.jsx("p",{children:"      ."}),x.jsx("p",{children:"     ."}),x.jsx("p",{children:"      ."})]})]})}function $ke({multiTab:e,setMultiTab:t,daeList:n,selectedDaeIdx:r,onToggleDae:i,seStartYear:a,seEndYear:o,onSeStartChange:c,onSeEndChange:u,onSeStartBlur:f,onSeEndBlur:m,seYearsCount:p,wolStartDate:g,wolEndDate:v,onWolStartChange:_,onWolEndChange:w,onWolStartBlur:E,onWolEndBlur:T,wolMonthsCount:N,ilStartDate:O,ilEndDate:P,onIlStartChange:C,onIlEndChange:D,onIlStartBlur:$,onIlEndBlur:H,ilDaysCount:Y}){return x.jsxs("div",{className:"space-y-3 p-3 bg-neutral-50 dark:bg-neutral-800 rounded-lg",children:[x.jsx("div",{className:"flex gap-1.5 border-b pb-2",children:["","","",""].map(K=>x.jsx("button",{type:"button",onClick:()=>t(K),className:`px-3 py-1.5 text-xs rounded-md cursor-pointer transition-colors ${e===K?"bg-blue-600 text-white font-semibold":"bg-white dark:bg-neutral-700 text-neutral-600 dark:text-neutral-300 hover:bg-neutral-100 dark:hover:bg-neutral-600"}`,children:K},K))}),e===""&&x.jsxs("div",{children:[x.jsx("div",{className:"text-xs font-semibold mb-2 text-neutral-700 dark:text-neutral-200",children:"  (  )"}),x.jsx("div",{className:"grid grid-cols-2 gap-1.5",children:n.map((K,F)=>x.jsxs("button",{type:"button",onClick:()=>i(F),className:`px-2 py-1.5 text-xs rounded border cursor-pointer text-left ${r.includes(F)?"bg-blue-600 text-white border-blue-600":"bg-white dark:bg-neutral-700 border-neutral-300 dark:border-neutral-600"}`,children:[x.jsx("div",{className:"font-mono",children:K.gz}),x.jsxs("div",{className:"text-[10px] opacity-80",children:[K.age," (",K.startYear,"~",K.endYear,")"]})]},F))})]}),e===""&&x.jsxs("div",{children:[x.jsx("div",{className:"text-xs font-semibold mb-2 text-neutral-700 dark:text-neutral-200",children:"  ( 10)"}),x.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[x.jsx("input",{type:"number",value:a,onChange:K=>c(Number(K.target.value)),onBlur:f,className:"w-24 px-2 h-30 text-xs border rounded bg-white dark:bg-neutral-700"}),x.jsx("span",{className:"text-xs",children:"~"}),x.jsx("input",{type:"number",value:o,onChange:K=>u(Number(K.target.value)),onBlur:m,className:"w-24 px-2 h-30 text-xs border rounded bg-white dark:bg-neutral-700"})]}),x.jsxs("div",{className:"text-[10px] text-neutral-500 dark:text-neutral-400 mt-1",children:[" : ",p,""]})]}),e===""&&x.jsxs("div",{children:[x.jsx("div",{className:"text-xs font-semibold mb-2 text-neutral-700 dark:text-neutral-200",children:"  ( 12)"}),x.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[x.jsx("input",{type:"month",value:g,onChange:K=>_(K.target.value),onBlur:E,className:"px-2 py-1 text-xs border rounded bg-white dark:bg-neutral-700"}),x.jsx("span",{className:"text-xs",children:"~"}),x.jsx("input",{type:"month",value:v,onChange:K=>w(K.target.value),onBlur:T,className:"px-2 py-1 text-xs border rounded bg-white dark:bg-neutral-700"})]}),x.jsxs("div",{className:"text-[10px] text-neutral-500 dark:text-neutral-400 mt-1",children:[" : ",N,""]})]}),e===""&&x.jsxs("div",{children:[x.jsx("div",{className:"text-xs font-semibold mb-2 text-neutral-700 dark:text-neutral-200",children:"  ( 30)"}),x.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[x.jsx("input",{type:"date",value:O,onChange:K=>C(K.target.value),onBlur:$,className:"px-2 py-1 text-xs border rounded bg-white dark:bg-neutral-700"}),x.jsx("span",{className:"text-xs",children:"~"}),x.jsx("input",{type:"date",value:P,onChange:K=>D(K.target.value),onBlur:H,className:"px-2 py-1 text-xs border rounded bg-white dark:bg-neutral-700"})]}),x.jsxs("div",{className:"text-[10px] text-neutral-500 dark:text-neutral-400 mt-1",children:[" : ",Y,""]})]}),x.jsxs("div",{className:"text-[11px] text-neutral-500 dark:text-neutral-400",children:[x.jsxs("p",{children:[" ",e,"   ."]}),x.jsx("p",{children:"    ."})]})]})}function Bke({questionDraft:e,onChangeDraft:t,onAddQuestion:n,extraQuestions:r,onClearAll:i,onRemoveQuestion:a,locked:o=!1,lockTitle:c}){const u=c?" ":"";return x.jsxs("div",{className:"space-y-1",children:[x.jsxs("div",{className:"flex items-center justify-between gap-2",children:[x.jsx("div",{className:"text-xs font-semibold text-neutral-700 dark:text-neutral-200",children:"   ()"}),r.length>0&&x.jsx("button",{type:"button",onClick:i,disabled:o,title:o?c:void 0,className:"px-2 py-1 text-[10px] rounded-md border border-neutral-300 dark:border-neutral-600 text-neutral-500 dark:text-neutral-300 cursor-pointer",children:" "})]}),x.jsx("textarea",{value:e,onChange:t,readOnly:o,disabled:o,title:o?c:void 0,placeholder:" AI     , ' '  .",rows:3,className:"w-full placeholder:text-xs text-[16px] desk:text-xs rounded-md border bg-white dark:bg-neutral-800 p-2"}),x.jsxs("div",{className:"mb-4 text-center",children:[x.jsx("button",{type:"button",onClick:n,disabled:o,title:o?c:void 0,className:["w-full desk:max-w-[160px] px-1 py-1.5 text-xs rounded-md border",o?"cursor-not-allowed opacity-50 bg-neutral-400 text-white dark:bg-neutral-700":"bg-neutral-900 text-white dark:bg-yellow-500 dark:text-black cursor-pointer"].join(" "),children:o?` ${u}`:" "}),r.length>0&&x.jsxs("div",{className:"flex-1 text-[11px] text-neutral-500 dark:text-neutral-400 text-right",children:["  ",r.length,""]})]}),r.length>0&&x.jsx("ul",{className:"mt-1 space-y-1 max-h-24 overflow-y-auto text-[11px] text-neutral-700 dark:text-neutral-200",children:r.map((f,m)=>x.jsxs("li",{className:"flex gap-1 items-start",children:[x.jsxs("span",{className:"shrink-0",children:[m+1,"."]}),x.jsx("span",{className:"whitespace-pre-wrap break-words flex-1",children:f}),x.jsx("button",{type:"button",onClick:()=>a(m),disabled:o,title:o?c:void 0,className:["shrink-0 ml-2 text-[10px]",o?"text-neutral-400 cursor-not-allowed":"text-red-500 hover:underline"].join(" "),children:""})]},m))})]})}function zke({value:e,lockSelection:t=!1}){return t?x.jsx("div",{className:"w-full h-[320px] text-xs font-mono rounded-md border bg-neutral-50 dark:bg-neutral-800 p-2 select-none flex items-center justify-center text-center text-neutral-500","aria-readonly":"true",children:" ,  ."}):x.jsx("textarea",{readOnly:!0,value:e,placeholder:"   .",className:"w-full h-[320px] text-xs font-mono rounded-md border bg-neutral-50 dark:bg-neutral-800 p-2 overflow-y-auto resize-none"})}const Uke={analysis:{label:"",desc:`-   ,   
- //    
-   `},mentor:{label:"",desc:`-   
-     
-    `},dryHumor:{label:" ",desc:`-     
-   `},softWarm:{label:" ",desc:`-   
-  `},etc:{label:" ",desc:"-     "}},Hke=["","","","",""],Fke={personality:{label:"    "},lifeFlow:{label:"   "},love:{label:"    "},career:{label:"    "},money:{label:"    "},family:{label:"      "},baby:{label:"    "},health:{label:"    "},move:{label:"     "},social:{label:"  "},compat:{label:"   "},risk:{label:"  "},meta:{label:"    "},etc:{label:"  "}},s3={personality:[{key:"overview",label:"  "},{key:"personality_basic",label:" "},{key:"personality_shadow",label:""},{key:"personality_relationshipStyle",label:" "},{key:"personality_workStyle",label:" "},{key:"personality_stressPattern",label:" "}],lifeFlow:[{key:"overview",label:"  "},{key:"lifeFlow_cycle",label:" "},{key:"lifeFlow_turningPoint",label:""},{key:"lifeFlow_peak",label:""},{key:"lifeFlow_down",label:""},{key:"lifeFlow_theme",label:"  "}],love:[{key:"love_pattern",label:" "},{key:"love_timing",label:"/ "},{key:"love_partner",label:" "},{key:"love_current",label:" /"},{key:"love_breakup",label:" "},{key:"love_marriageChange",label:"/ "}],career:[{key:"career_aptitude",label:" "},{key:"career_mode",label:" vs "},{key:"career_jobChange",label:"/ "},{key:"career_promotion",label:""},{key:"career_study",label:""},{key:"career_exam",label:""}],money:[{key:"overview",label:"  "},{key:"money_flow",label:" "},{key:"money_income",label:""},{key:"money_spending",label:" "},{key:"money_saving",label:"/ "},{key:"money_asset",label:" "},{key:"money_debt",label:"/ "},{key:"money_invest",label:" "},{key:"money_bigEvent",label:"  "}],family:[{key:"overview",label:"  "},{key:"family_origin",label:"/ "},{key:"family_current",label:" /"},{key:"family_parents",label:" "},{key:"family_siblings",label:" "},{key:"family_children",label:"/"},{key:"family_care",label:" "}],baby:[{key:"overview",label:" "},{key:"baby_pregnancy",label:"  "},{key:"baby_birth",label:"  "},{key:"baby_selection",label:"  "}],health:[{key:"overview",label:" "},{key:"health_overall",label:""},{key:"health_physical",label:" "},{key:"health_mental",label:""},{key:"health_stress",label:" "},{key:"health_accident",label:" "}],move:[{key:"overview",label:" "},{key:"move_timing",label:" "},{key:"move_chance",label:" "},{key:"move_targetHouse",label:"  "},{key:"move_environment",label:"  "},{key:"move_finance",label:" "}],social:[{key:"overview",label:"  "},{key:"social_overall",label:" "},{key:"social_friend",label:" "},{key:"social_workspace",label:" "},{key:"social_network",label:""},{key:"social_conflict",label:" "}],compat:[{key:"overview",label:" "},{key:"compat_overall",label:"  "},{key:"compat_love",label:"/ "},{key:"compat_marriage",label:"  "},{key:"compat_work",label:"/ "},{key:"compat_family",label:" "},{key:"compat_friend",label:" "}],risk:[{key:"overview",label:" "},{key:"risk_money",label:" "},{key:"risk_relationship",label:" "},{key:"risk_health",label:" "},{key:"risk_lawsuit",label:"/ "},{key:"risk_burnout",label:" "}],meta:[{key:"overview",label:"  "},{key:"meta_structure",label:"  "},{key:"meta_cycle",label:"  "},{key:"meta_trigger",label:" "},{key:"meta_usage",label:" "}],etc:[]};function Gke(e){if(!e)return"PROMPT_LOCKED";const t=_s.getState();return t.loaded?t.userId!==e?(console.warn("[plan] user mismatch",t.userId,e),"PROMPT_LOCKED"):j2(t.plan??null):(console.warn("[plan] entitlements not loaded yet"),"PROMPT_LOCKED")}function qke(){const[e,t]=S.useState(null);return S.useEffect(()=>{let n=!0;return Ie.auth.getUser().then(({data:r})=>{n&&t(r.user?.id??null)}),()=>{n=!1}},[]),e}const Yke={twelveUnseong:!0,twelveShinsal:!0,shinsal:!0,nabeum:!0},Hb=au(e=>({sections:Yke,setSections:t=>e({sections:t}),toggleSection:t=>e(n=>({sections:{...n.sections,[t]:!n.sections[t]}}))})),DS=1e3*60*60*24;function RS(e,t){return(t.getFullYear()-e.getFullYear())*12+(t.getMonth()-e.getMonth())}function K0(e){return`${e.getFullYear()}-${String(e.getMonth()+1).padStart(2,"0")}`}function W0(e){return`${e.getFullYear()}-${String(e.getMonth()+1).padStart(2,"0")}-${String(e.getDate()).padStart(2,"0")}`}function l3(){const e=new Date,t=e.getFullYear(),n=String(e.getMonth()+1).padStart(2,"0"),r=String(e.getDate()).padStart(2,"0");return`${t}-${n}-${r}`}function c3(){const e=new Date;return`${e.getFullYear()}-${String(e.getMonth()+1).padStart(2,"0")}`}function Kke(){const e=new Date().getFullYear(),[t,n]=S.useState(e),[r,i]=S.useState(e),[a,o]=S.useState(()=>c3()),[c,u]=S.useState(()=>c3()),[f,m]=S.useState(()=>l3()),[p,g]=S.useState(()=>l3()),v=J=>{n(J)},_=J=>{i(J)},w=()=>{const J=t;let q=r;q<J&&(q=J),q-J>9&&(q=J+9),i(q)},E=()=>{let J=t;const q=r;q<J&&(J=q),q-J>9&&(J=q-9),n(J)},T=S.useMemo(()=>{if(!Number.isFinite(t)||!Number.isFinite(r))return 0;const J=r-t+1;return J>0?J:0},[t,r]),N=S.useMemo(()=>{const J=[];if(!Number.isFinite(t)||!Number.isFinite(r))return J;for(let q=t;q<=r&&J.length<10;q++)J.push(q);return J},[t,r]),O=J=>{o(J)},P=J=>{u(J)},C=()=>{const[J,q]=a.split("-").map(Number),[Z,re]=c.split("-").map(Number),ue=new Date(J,q-1),se=new Date(Z,re-1);if(se<ue){u(K0(ue));return}if(RS(ue,se)>11){const W=new Date(ue);W.setMonth(ue.getMonth()+11),u(K0(W))}},D=()=>{const[J,q]=a.split("-").map(Number),[Z,re]=c.split("-").map(Number),ue=new Date(J,q-1),se=new Date(Z,re-1);if(se<ue){o(K0(se));return}if(RS(ue,se)>11){const W=new Date(se);W.setMonth(se.getMonth()-11),o(K0(W))}},$=S.useMemo(()=>{const[J,q]=(a||"").split("-").map(Number),[Z,re]=(c||"").split("-").map(Number);if(!Number.isFinite(J)||!Number.isFinite(q)||!Number.isFinite(Z)||!Number.isFinite(re))return 0;const ue=new Date(J,q-1,1),se=new Date(Z,re-1,1),B=RS(ue,se)+1;return B>0?B:0},[a,c]),H=S.useMemo(()=>{const J=[],[q,Z]=a.split("-").map(Number),[re,ue]=c.split("-").map(Number),se=new Date(q,Z-1),B=new Date(re,ue-1);if(Number.isNaN(se.getTime())||Number.isNaN(B.getTime()))return J;for(;se<=B&&J.length<12;)J.push(`${se.getFullYear()}-${String(se.getMonth()+1).padStart(2,"0")}`),se.setMonth(se.getMonth()+1);return J},[a,c]),Y=J=>{m(J)},K=J=>{g(J)},F=()=>{if(!f||!p)return;const[J,q,Z]=f.split("-").map(Number),[re,ue,se]=p.split("-").map(Number),B=new Date(J,q-1,Z,4,0,0),W=new Date(re,ue-1,se,4,0,0);if(W<B){g(W0(B));return}if(Math.floor((W.getTime()-B.getTime())/DS)>7){const V=new Date(B);V.setDate(B.getDate()+6),g(W0(V))}},z=()=>{if(!f||!p)return;const[J,q,Z]=f.split("-").map(Number),[re,ue,se]=p.split("-").map(Number),B=new Date(J,q-1,Z,4,0,0),W=new Date(re,ue-1,se,4,0,0);if(B>W){m(W0(W));return}if(Math.floor((W.getTime()-B.getTime())/DS)>7){const V=new Date(W);V.setDate(W.getDate()-6),m(W0(V))}},X=S.useMemo(()=>{const[J,q,Z]=(f||"").split("-").map(Number),[re,ue,se]=(p||"").split("-").map(Number);if(!Number.isFinite(J)||!Number.isFinite(q)||!Number.isFinite(Z)||!Number.isFinite(re)||!Number.isFinite(ue)||!Number.isFinite(se))return 0;const B=new Date(J,q-1,Z,4,0,0),W=new Date(re,ue-1,se,4,0,0),ae=Math.floor((W.getTime()-B.getTime())/DS)+1;return ae>0?ae:0},[f,p]),Q=S.useMemo(()=>{const J=[],[q,Z,re]=f.split("-").map(Number),[ue,se,B]=p.split("-").map(Number),W=new Date(q,Z-1,re,4,0,0),ae=new Date(ue,se-1,B,4,0,0);if(Number.isNaN(W.getTime())||Number.isNaN(ae.getTime()))return J;const V=new Date(W);for(;V<=ae&&J.length<31;){const oe=V.getFullYear(),me=String(V.getMonth()+1).padStart(2,"0"),pe=String(V.getDate()).padStart(2,"0");J.push(`${oe}-${me}-${pe}`),V.setDate(V.getDate()+1)}return J},[f,p]);return{seStartYear:t,seEndYear:r,wolStartYM:a,wolEndYM:c,ilStartDate:f,ilEndDate:p,onSeStartChange:v,onSeEndChange:_,onSeStartBlur:w,onSeEndBlur:E,onWolStartChange:O,onWolEndChange:P,onWolStartBlur:C,onWolEndBlur:D,onIlStartChange:Y,onIlEndChange:K,onIlStartBlur:F,onIlEndBlur:z,seYearsCount:T,wolMonthsCount:$,ilDaysCount:X,seYearsList:N,wolMonthsList:H,ilDaysList:Q}}function Wke({msId:e,canUseMultiMode:t,canUseLuckTabs:n}){const r=Hb(se=>se.sections),i=Hb(se=>se.toggleSection),[a,o]=S.useState("analysis"),[c,u]=S.useState(!1),[f,m]=S.useState(!1),[p,g]=S.useState(""),[v,_]=S.useState("personality"),[w,E]=S.useState("overview"),[T,N]=S.useState("solo"),[O,P]=S.useState(""),[C,D]=S.useState(!1),[$,H]=S.useState(""),[Y,K]=S.useState([]),[F,z]=S.useState(""),[X,Q]=S.useState([]),J=Kke();S.useEffect(()=>{v!=="love"&&v!=="compat"&&(N("solo"),g(""))},[v]),S.useEffect(()=>{!t&&C&&D(!1)},[t,C]),S.useEffect(()=>{!n&&O!==""&&P("")},[n,O]),S.useEffect(()=>{$!==""&&K([])},[$]),S.useEffect(()=>{z(""),Q([])},[e]);function q(){const se=F.trim();se&&(Q(B=>[...B,se]),z(""))}function Z(se){Q(B=>B.filter((W,ae)=>ae!==se))}function re(){Q([])}function ue(se){K(B=>B.includes(se)?B.filter(W=>W!==se):[...B,se])}return{sections:r,toggleSection:i,tone:a,setTone:o,friendMode:c,setFriendMode:u,teacherMode:f,setTeacherMode:m,partnerId:p,setPartnerId:g,mainCategory:v,setMainCategory:_,subCategory:w,setSubCategory:E,relationMode:T,setRelationMode:N,activeTab:O,setActiveTab:P,isMultiMode:C,setIsMultiMode:D,multiTab:$,setMultiTab:H,selectedDaeIdx:Y,setSelectedDaeIdx:K,handleToggleDae:ue,rangeControls:J,questionDraft:F,setQuestionDraft:z,extraQuestions:X,setExtraQuestions:Q,handleAddQuestion:q,handleRemoveQuestion:Z,handleClearQuestions:re}}const J8=au(e=>({shinsalBase:"",shinsalEra:"",shinsalGaehwa:!1,hiddenStemMode:"hgc",setShinsalBase:t=>e({shinsalBase:t}),setShinsalEra:t=>e({shinsalEra:t}),setShinsalGaehwa:t=>e({shinsalGaehwa:t}),setHiddenStemMode:t=>e({hiddenStemMode:t})}));function PT(e){if(!e)return["","","",""];let t=Number(e.birthDay?.slice(0,4)??2e3),n=Number(e.birthDay?.slice(4,6)??1),r=Number(e.birthDay?.slice(6,8)??1);if(e.calendarType==="lunar"){const O=Bi(t,n,r);t=O.getFullYear(),n=O.getMonth()+1,r=O.getDate()}const i=!e.birthTime||e.birthTime==="",a=i?4:Number(e.birthTime.slice(0,2)),o=i?30:Number(e.birthTime.slice(2,4)),c=new Date(t,n-1,r,a,o,0,0),u=!e.birthPlace||e.birthPlace.name===""||!e.birthPlace.lon?127.5:e.birthPlace.lon,f=Wm(c,u,i),m=e.mingSikType??"/",p=at(f,u),g=kt(f,u),v=gt(f,m),_=i?null:$a(f,m),w=De(p),E=De(g),T=De(v),N=_?De(_):"";return[w,E,T,N]}function Q8(e){const t=new Date(e.corrected),n=PT(e),r=n[0].charAt(0),a=["","","","",""].includes(r),o=e.gender==="",c=o&&a||!o&&!a?"forward":"backward",u=Jm(t,n[1],c,120,e.birthPlace?.lon??127.5),f=u.firstChange;if(!f)return[];const m=[];let p=De(u.events[0]?.gz??n[1]);for(let g=0;g<10;g++){const v=new Date(f);if(v.setFullYear(v.getFullYear()+g*10),g>0){const _=u.events[g];_&&(p=De(_.gz))}m.push(`${v.getFullYear()} ${String(v.getMonth()+1).padStart(2,"0")} ${p}  `)}return m}const Vke=["- AI     ,      . (, ,   )","-   ,  . (     )","-  /    .","- , , , ,       ,    .","-     , (~, ~  ) .","-    .","-  JSON/      .","-       .","-         .","-   ,    ."],Zke=["- :     . ////  .","- :  ,  .    . //   .","- : ~  //     .    .","- , /      , ////   .",""," ( )","-  + (///)  /","-      +   ","- :   +    ","-  + :      ()   ","-  :  ","- : /(  )",""," ","-  .  /  /  ","-   =  . 1~2 "];function Xke(e,t){e.push("### ()");const n=t?Zke:Vke;e.push(...n)}function Jke(e,t){const{mode:n,tab:r,isStudyTone:i}=t,a=(...o)=>e.push(...o);n==="single"?r?i?a("","##  ()",`-  : (${r})  ,    ( + / )  .`,"-     /      ()  ."):a("","##  ()",`-    (${r})   ,         .`,"-   ,          ."):a("","##  ()","-   ,      /  ."):i?a("","##  ()","-       .    .","-      (/// )  1~2 ."):a("","##  ()","-  (///)  ,           ."),i&&e.push("- (teacherMode)     ,   .","-      (/ / )  1~2 .")}function Qke(e,t){const{topic:n,subTopic:r,relationMode:i,isStudyTone:a}=t,o=(...c)=>e.push(...c);switch(n){case"personality":return a?o("","## ()","-     //   .","-    .   + /(   ) +   ,   .","-   :   XX  YY .   .","-        .","1)   : /, , /,        ,      .","2)   :    VS   ,   VS   ,  VS      . ","3) /:   ,     , /        . ","4)   : //  ,    ,       . ","5)  :     ,    ,       ."):o("","## ()","-  /  .","-         .","-        .","1)   : /, , /,        ,      .","2)   :    VS   ,   VS   ,  VS      . ","3) /:   ,     , /        . ","4)   : //  ,    ,       . ","5)  :     ,    ,       ."),r==="personality_shadow"&&o("-    ,    / ,    ."),r==="personality_relationshipStyle"&&o("-  / ,   /  ."),r==="personality_workStyle"&&o("-     /    ."),r==="personality_stressPattern"&&o("-       ."),!0;case"lifeFlow":return a?o("","## ( )","-   . //    .","-   :   +  () + /  +   .","-    /  ."):o("","## ( )","-       .","-     ."),r==="lifeFlow_turningPoint"&&o("-   A/B ,     ."),!0;case"love":return a?o("","## ()","-   : /////// .","- ( )   . +      .","- ///  /  () ."):o("","## ()","- //   .","-  ,   ,    ."),i==="solo"?o("-  :  / ,     ."):i==="couple"&&o("-  :        (//)  ."),!0;case"career":return a?o("","## ()","-  : ///// / .","- ///        .","- (//)   ,  +  ."):o("","## ()","- ///   ."),r==="career_jobChange"&&o("-    / ."),r==="career_promotion"&&o("-     //   ."),!0;case"money":return a?o("","## ()","-   :  /, / ,   , /, , , /  .","-    .   +   +    /  .","-  (    )    ."):o("","## ()","- //   ."),r==="money_debt"&&o("- //   (// )."),r==="money_bigEvent"&&o("-          ."),!0}return!1}function e2e(e,t){const{topic:n,subTopic:r,isStudyTone:i}=t,a=(...o)=>e.push(...o);switch(n){case"family":return i?a("","## ()","-  : /  ,   ,  /,   , / .","- /     ,   ."):a("","## ()","- /   ."),!0;case"baby":return i?a("","## ()","-  :  /,  ,    .","-  /   .  / /  ."):a("","## ()","- //   ."),!0;case"health":return i?a("","## ()","-   : ,   , /, /.","-   .  //      .","-   + /      ."):a("","## ()","- /   ."),r==="health_accident"&&a("-  /(/// ) ."),!0;case"move":return i?a("","## ()","-    : , , , / ,  .","- ()()(/)    .","- /  /    ."):a("","## ()","- /  ."),!0;case"social":return i?a("","## ()","-  ////   .","- ()/()/()     ."):a("","## ()","- /   ."),!0;case"compat":return i?a("","## ( )","-    ,        .","- // ,  //   ."):a("","## ( )","- /    ."),!0;case"risk":return i?a("","## ()","-  .        .","- //  + /    ."):a("","## ()","- /   ."),!0;case"meta":return i?a("","## ()","-    ,        .","- ,  3~7 .   "):a("","## ()","-       ."),!0}return!1}function t2e(e,t){Qke(e,t)||e2e(e,t)}function n2e(e){return e==="multi"?"multi":"single"}function eU(e){const{topic:t,subTopic:n,timeMode:r="single",tab:i,relationMode:a,teacherMode:o}=e;if(!t)return"";const c=n2e(r),u=[],f=o===!0;return Xke(u,f),t==="etc"||(Jke(u,{mode:c,tab:i,isStudyTone:f}),t2e(u,{topic:t,subTopic:n,relationMode:a,isStudyTone:f})),u.join(`
`)}const r2e=!1,u3=e=>e<10?`0${e}`:`${e}`;function i2e(e){const t=e,n=typeof t.birthDay=="string"?t.birthDay:"",r=typeof t.calendarType=="string"?t.calendarType:"solar";if(n.length<8)return e;const i=Number(n.slice(0,4)),a=Number(n.slice(4,6)),o=Number(n.slice(6,8));if(r==="lunar")try{const c=Bi(i,a,o,0,0),u=`${c.getFullYear()}${u3(c.getMonth()+1)}${u3(c.getDate())}`;return{...e,birthDay:u,calendarType:"solar"}}catch{return e}return e}const Vh={:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},Zh={:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},ru={:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},V0={:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},a2e=["","","","",""];function d3(e){return a2e.includes(e)}const tU={:"",:"",:"",:"",:""},nU={:"",:"",:"",:"",:""},rU={:"",:"",:"",:"",:""},iU={:"",:"",:"",:"",:""};function Pk(e){if(!e)return null;const t=e.trim();if(["","","","","","","","","",""].includes(t))return t;if(Vh[t])return Vh[t];if(["","","","","","","","","","","",""].includes(t))return V0[t]??null;if(Zh[t])return V0[Zh[t]]??null;const n=t.charAt(0);return Vh[n]?Vh[n]:["","","","","","","","","",""].includes(n)?n:Zh[n]?V0[Zh[n]]??null:["","","","","","","","","","","",""].includes(n)?V0[n]??null:null}function o2e(e){const t={};for(const[n,r]of Object.entries(e??{})){if(r<=0)continue;const i=Pk(n);i&&(t[i]=(t[i]??0)+r)}return t}function s2e(e){if(!e)return[];const t=Pk(e.charAt(0)),n=Pk(e.charAt(1));return[t,n].filter(Boolean)}function Z0(e){const t=s2e(e),n={};for(const r of t)n[r]=(n[r]??0)+1;return n}function l2e(e,t){const n=ru[e],r=ru[t];if(!n||!r)return"";let i;r===n?i="":r===tU[n]?i="":r===nU[n]?i="":r===rU[n]?i="":r===iU[n]?i="":i="";const a=d3(e)===d3(t);switch(i){case"":return a?"":"";case"":return a?"":"";case"":return a?"":"";case"":return a?"":"";case"":return a?"":""}}function aU(e,t){return t===e?"":t===tU[e]?"":t===nU[e]?"":t===rU[e]?"":t===iU[e]?"":""}function oU(e){const t=Object.entries(e),n=t.reduce((f,[,m])=>f+(m>0?m:0),0);if(n<=0)return Object.fromEntries(t.map(([f])=>[f,0]));const r=t.map(([f,m])=>[f,(m>0?m:0)*100/n]),i=r.map(([f,m])=>[f,Math.floor(m)]);let a=i.reduce((f,[,m])=>f+m,0);const o=r.map(([f,m])=>[f,m-Math.floor(m)]).sort((f,m)=>m[1]-f[1]),c=Object.fromEntries(i.map(([f,m])=>[f,m]));let u=0;for(;a<100&&u<o.length;)c[o[u][0]]+=1,a+=1,u+=1;return c}const c2e={:{name:"",element:"",brief:"  ",keywords:" "},:{name:"",element:"",brief:"  ",keywords:" "},:{name:"",element:"",brief:"  ",keywords:" "},:{name:"",element:"",brief:"  ",keywords:" "},:{name:"",element:"",brief:"  ",keywords:""},:{name:"",element:"",brief:"  ",keywords:""},:{name:"",element:"",brief:" ",keywords:""},:{name:"",element:"",brief:" ",keywords:""},:{name:"",element:"",brief:" ",keywords:""},:{name:"",element:"",brief:" ",keywords:""},:{name:"",element:"",brief:" ",keywords:""},:{name:"",element:"",brief:" ",keywords:""},:{name:"",element:"",brief:"  ",keywords:""},:{name:"",element:"",brief:"  ",keywords:""},:{name:"",element:"",brief:"  ",keywords:""},:{name:"",element:"",brief:"  ",keywords:""},:{name:"",element:"",brief:"  ",keywords:" "},:{name:"",element:"",brief:"  ",keywords:" "},:{name:"",element:"",brief:"",keywords:""},:{name:"",element:"",brief:"",keywords:""},:{name:"",element:"",brief:"()",keywords:""},:{name:"",element:"",brief:"()",keywords:""},:{name:"",element:"",brief:" ",keywords:""},:{name:"",element:"",brief:" ",keywords:""},:{name:"",element:"",brief:"",keywords:"/"},:{name:"",element:"",brief:"",keywords:"/"},:{name:"",element:"",brief:" ",keywords:" "},:{name:"",element:"",brief:" ",keywords:" "},:{name:"",element:"",brief:"  ",keywords:" "},:{name:"",element:"",brief:"  ",keywords:" "},:{name:"",element:"",brief:" ",keywords:"/"},:{name:"",element:"",brief:" ",keywords:"/"},:{name:"",element:"",brief:"",keywords:""},:{name:"",element:"",brief:"",keywords:""},:{name:"",element:"",brief:" ",keywords:""},:{name:"",element:"",brief:" ",keywords:""},:{name:"",element:"",brief:"()",keywords:""},:{name:"",element:"",brief:"()",keywords:""},:{name:"",element:"",brief:"()",keywords:""},:{name:"",element:"",brief:"()",keywords:""},:{name:"",element:"",brief:"(  )",keywords:""},:{name:"",element:"",brief:"(  )",keywords:""},:{name:"",element:"",brief:"()",keywords:" "},:{name:"",element:"",brief:"()",keywords:" "},:{name:"",element:"",brief:"  ",keywords:" "},:{name:"",element:"",brief:"  ",keywords:" "},:{name:"",element:"",brief:" ",keywords:" "},:{name:"",element:"",brief:" ",keywords:" "},:{name:"",element:"",brief:"",keywords:""},:{name:"",element:"",brief:"",keywords:""},:{name:"",element:"",brief:"   ",keywords:" "},:{name:"",element:"",brief:"   ",keywords:" "},:{name:"",element:"",brief:"",keywords:""},:{name:"",element:"",brief:"",keywords:""},:{name:"",element:"",brief:"  ",keywords:""},:{name:"",element:"",brief:"  ",keywords:""},:{name:"",element:"",brief:"",keywords:""},:{name:"",element:"",brief:"",keywords:""},:{name:"",element:"",brief:"  ",keywords:""},:{name:"",element:"",brief:"  ",keywords:""}},u2e=e=>{if(!e||e.length<2)return e;const t=e.charAt(0),n=e.charAt(1),r=Vh[t]??t,i=Zh[n]??n;return`${r}${i}`},DT=e=>{const t=u2e(e),n=c2e[t];return n?{...n,code:t}:null};function sU(e,t){const n=i2e(e),r=n.birthDay??"",i=r.slice(0,4),a=r.slice(4,6),o=r.slice(6,8);let c="";if(n.corrected instanceof Date&&!Number.isNaN(n.corrected.getTime())){const u=String(n.corrected.getHours()).padStart(2,"0"),f=String(n.corrected.getMinutes()).padStart(2,"0");c=t?"":`${u}:${f}`}return`${i} ${a} ${o}  ${c}`}function d2e(e){const t={:0,:0,:0,:0,:0};for(const[n,r]of Object.entries(e)){const i=ru[n];i&&(t[i]+=r)}return t}function f2e(e,t){const n={:0,:0,:0,:0,:0,:0,:0,:0,:0,:0};for(const[r,i]of Object.entries(e)){if(i<=0)continue;const a=l2e(t,r);n[a]+=i}return n}function h2e(e){return{:e.+e.,:e.+e.,:e.+e.,:e.+e.,:e.+e.}}const m2e={natal:50,dae:30,se:20,wol:7,il:3};function p2e(e){const t={};for(const{kind:r,bare:i}of e){const a=m2e[r]??0;if(a<=0)continue;const o=oU(i);for(const[c,u]of Object.entries(o))t[c]=(t[c]??0)+u*a}const n=Object.values(t).reduce((r,i)=>r+i,0);if(n>0)for(const r of Object.keys(t))t[r]=t[r]/n*100;return t}function lU(e,t,n){const r=o2e(e.perStemElementScaled),i=t!==""&&n?.dae?Z0(n.dae):{},a=(t===""||t===""||t==="")&&n?.se?Z0(n.se):{},o=(t===""||t==="")&&n?.wol?Z0(n.wol):{},c=t===""&&n?.il?Z0(n.il):{},u=p2e([{kind:"natal",bare:r},{kind:"dae",bare:i},{kind:"se",bare:a},{kind:"wol",bare:o},{kind:"il",bare:c}]),f=oU(u),m=d2e(f),p=f2e(f,e.dayStem),g=h2e(p);return{perStemAugBare:f,elementPercent:m,totalsSub:p,totalsMain:g}}function cU(e){return!e.birthTime||e.birthTime===""}function uU(e,t){return t[3]?["","","",""]:["","",""]}function g2e(e,t){return e.map((n,r)=>t[r]??"")}const y2e=e=>typeof e=="object"&&e!==null&&!Array.isArray(e);function Fb(e){if(e!=null){if(Array.isArray(e)){const t=e.map(n=>Fb(n)).filter(n=>n!==void 0);return t.length>0?t:void 0}if(y2e(e)){const t={};for(const[n,r]of Object.entries(e)){const i=Fb(r);i!==void 0&&(t[n]=i)}return Object.keys(t).length>0?t:void 0}return e}}function b2e(e){return e==null?"":typeof e=="string"?e:typeof e=="number"||typeof e=="boolean"?String(e):""}function v2e(e,t){const n=Fb(e);if(n===void 0)return"";const r=b2e(n);if(r!=="")return r;const i=JSON.stringify(n,null,2);return t==="plain"?i:["```json",i,"```"].join(`
`)}function dU(e,t,n){const r=v2e(t,n);return r.trim()?`## ${e}
${r}`:""}const Hn=(e,t)=>dU(e,t,"plain"),Pr=(e,t)=>dU(e,t,"fenced"),x2e=(e,t)=>{if(!e)return{};const n=t,r=c=>{if(!c)return;const u={};for(const[f,m]of Object.entries(c)){if(!Array.isArray(m))continue;const p=m.filter(g=>typeof g=="string"&&g.includes(n));p.length>0&&(u[f]=p)}return Object.keys(u).length>0?u:void 0},i=r(e.good),a=r(e.bad),o={};return i&&(o.good=i),a&&(o.bad=a),o},_2e=(e,t)=>{const n={};if(!e||typeof e!="object")return n;for(const[r,i]of Object.entries(e)){if(!Array.isArray(i))continue;const a=Array.from(new Set(i.filter(o=>typeof o=="string"&&o.includes(t))));a.length>0&&(n[r]=a)}return n};function Dk(e,t){return Object.fromEntries(Object.entries(e).map(([n,r])=>[`${n}(${aU(t,n)})`,r]))}function w2e(e){const{tab:t,natal:n,posLabels:r,chain:i}=e,a=[];for(let c=0;c<r.length;c++){const u=n[c]??"";u&&a.push({kind:"natal",pos:r[c],gz:u})}if(t===""||!i)return a;const o=[...a];return i.dae&&o.push({kind:"luck",pos:"",gz:i.dae}),(t===""||t===""||t==="")&&i.se&&o.push({kind:"luck",pos:"",gz:i.se}),(t===""||t==="")&&i.wol&&o.push({kind:"luck",pos:"",gz:i.wol}),t===""&&i.il&&o.push({kind:"luck",pos:"",gz:i.il}),o}function S2e(e,t){if(!t)return"()";const n=[];return(e===""||e===""||e===""||e==="")&&t.dae&&n.push(`:${De(t.dae)}`),(e===""||e===""||e==="")&&t.se&&n.push(`:${De(t.se)}`),(e===""||e==="")&&t.wol&&n.push(`:${De(t.wol)}`),e===""&&t.il&&n.push(`:${De(t.il)}`),n.length>0?n.join(" / "):"()"}function fU(e){const{ms:t,natal:n,chain:r,basis:i,tab:a,unified:o,percent:c,category:u,topic:f,subTopic:m,relationMode:p,teacherMode:g,sections:v}=e,_=v?.tenGod??!0,w=v?.twelveUnseong??!0,E=v?.twelveShinsal??!0,T=v?.shinsal??!0,N=v?.nabeum??!0,O=cU(t),P=De(n[3]??""),C=!!P,D=[De(n[0]??""),De(n[1]??""),De(n[2]??""),P],$=Q8(t).slice(0,10),H=xl({natal:D,daewoon:a!==""?r?.dae??void 0:void 0,sewoon:a===""||a===""||a===""?r?.se??void 0:void 0,wolwoon:a===""||a===""?r?.wol??void 0:void 0,ilwoon:a===""?r?.il??void 0:void 0}),Y=Id({natal:D,daewoon:a!==""?r?.dae??void 0:void 0,sewoon:a===""||a===""||a===""?r?.se??void 0:void 0,wolwoon:a===""||a===""?r?.wol??void 0:void 0,ilwoon:a===""?r?.il??void 0:void 0}),{shinsalEra:K,shinsalGaehwa:F,shinsalBase:z}=J8.getState(),X=z===""?D[0]?.charAt(1)??"":D[2]?.charAt(1)??"",Q=lU(o,a,r),J=Q.elementPercent,q=Q.totalsSub,{flags:Z}=Y4(D,o.elementScoreRaw),re=`${u} (${c.toFixed(1)}%)  ${[` ${Z..||Z..||Z..||Z..?"":""}`,` ${Z..||Z..||Z..||Z..?"":""}`,` ${Z..||Z..?"":""}`].join(", ")}`,ue=uU(t,D),se=o.dayStem,B=ru[se]??ru[o.dayStem]??"",W=[` : ${t.name??""} (${sU(t,O)}) : ${t.gender}`,` ${D[0]} ${D[1]} ${D[2]}`+(C?` ${D[3]}`:""),`: ${S2e(a,r)}`].join(`
`),ae=[];ae.push(Pr("  (10)",$)),ae.push(Pr("",re)),ae.push(Pr("(  )",Dk(o.natalFixed.elementPercent100,B))),a!==""&&ae.push(Pr(`(=${a})`,Dk(J,B))),_&&(ae.push(Pr(" ( 10 100)",o.natalFixed.totalsSub)),a!==""&&ae.push(Pr(` ( 10=${a} 100)`,q)));const V=w2e({tab:a,natal:D,posLabels:ue,chain:r});if(w){const ne=V.map(({pos:Oe,gz:Ce})=>({pos:Oe,gz:Ce,unseong:ko(D[2]?.charAt(0)??"",Ce.charAt(1))}));ae.push(Pr("(+ )",ne))}if(E){const ne=V.map(({pos:Oe,gz:Ce})=>({pos:Oe,gz:Ce,shinsal:Ao({baseBranch:X,targetBranch:Ce.charAt(1),era:K,gaehwa:F})}));ae.push(Pr("(+  )",ne))}if(N){const ne=[];for(const Oe of V){const Ce=DT(Oe.gz);if(!Ce){Oe.kind==="natal"&&ne.push({pos:Oe.pos,gz:Oe.gz,nabeum:null});continue}ne.push({pos:Oe.pos,gz:Oe.gz,nabeum:Ce.name,element:Ce.element,code:Ce.code})}ae.push(Pr("(+ )",ne))}if(ae.push(Pr("()",K2(ue.map((ne,Oe)=>D[Oe]??"")))),ae.push(Pr("( :  )",H)),T)if(a===""){const ne=Id({natal:D,daewoon:null,sewoon:null,wolwoon:null,ilwoon:null,basis:i});ae.push(Pr("( )",{good:ne.good,bad:ne.bad,meta:ne.meta}))}else ae.push(Pr(`( =${a})`,Y));const oe=ae.filter(ne=>ne&&ne.trim().length>0).join(`

`),me=eU({topic:f,subTopic:m,timeMode:"single",tab:a,relationMode:p,teacherMode:g}),pe=["-----","  ","","1.       (////)  .","2.  ,        ."];me&&pe.push("","  ( )",me);const be=pe.join(`
`);return{header:W,body:oe,guide:be}}function E2e(e){const{header:t,body:n,guide:r}=fU(e);return[t,n,r].join(`

`)}function bo(e){const{scope:t,infoText:n,gz:r,chain:i,natal:a,relationArgs:o,basis:c,unified:u,dayEl:f,baseDayStem:m,show:p,shinsalSettings:g,harmonyMode:v="scope",includeBasicInfo:_=!0}=e,w=lU(u,t,i),E=xl({natal:a,daewoon:o.daewoon,sewoon:o.sewoon,wolwoon:o.wolwoon,ilwoon:o.ilwoon}),T=p.shinsal?Id({natal:a,daewoon:o.daewoon,sewoon:o.sewoon,wolwoon:o.wolwoon,ilwoon:o.ilwoon,basis:c}):null,N=p.nabeum?DT(r):null,O=p.twelveUnseong?ko(m,r.charAt(1)):null,P=p.twelveShinsal?Ao({baseBranch:g.baseBranch,targetBranch:r.charAt(1),era:g.era,gaehwa:g.gaehwa}):null,C=v==="full"?E:_2e(E,t);return{..._?{:n,:r}:{},:Dk(w.elementPercent,f),...p.tenGod?{:w.totalsSub}:{},:C,...p.shinsal?{:x2e(T,t)}:{},...p.nabeum?{:N?{gz:r,nabeum:N.name,element:N.element,code:N.code}:null}:{},...p.twelveUnseong?{:{pos:t,gz:r,unseong:O}}:{},...p.twelveShinsal?{:{pos:t,gz:r,shinsal:P}}:{}}}function k2e(e){const{selectedDaeList:t,daeList:n,natal:r,basis:i,unified:a,dayEl:o,baseDayStem:c,show:u,shinsalSettings:f}=e;if(n.length===0||t.length===0)return[];const m=[];for(const p of t){const g={dae:p.gz,se:null,wol:null,il:null},v=bo({scope:"",infoText:`${p.age} ${p.gz} (${p.startYear}~${p.endYear})`,gz:p.gz,chain:g,natal:r,relationArgs:{daewoon:p.gz,sewoon:void 0,wolwoon:void 0,ilwoon:void 0},basis:i,unified:a,dayEl:o,baseDayStem:c,show:u,shinsalSettings:f,harmonyMode:"full",includeBasicInfo:!1});m.push(Hn(`${p.age} ${p.gz} (${p.startYear}~${p.endYear})`,v))}return m.filter(p=>p.trim().length>0)}function RT(e){return new Date(e.startYear,(e.startMonth??1)-1,e.startDay??1)}function hU(e,t){const n=e[t],r=e[t+1];return r?RT(r):new Date(n.endYear+1,0,1)}function mU(e,t,n,r){return e<r&&t>n}function pU(e,t,n){const r=new Date(t,0,1),i=new Date(n+1,0,1),a=[];for(let o=0;o<e.length;o++){const c=e[o],u=RT(c),f=hU(e,o);mU(u,f,r,i)&&(a.some(m=>m.gz===c.gz&&m.startYear===c.startYear)||a.push(c))}return a}function gU(e,t){return pU(e,t,t)}function Gb(e,t,n){const r=new Date(t,n-1,1),i=new Date(t,n,1),a=[];for(let o=0;o<e.length;o++){const c=e[o],u=RT(c),f=hU(e,o);mU(u,f,r,i)&&(a.some(m=>m.gz===c.gz&&m.startYear===c.startYear)||a.push(c))}return a}function yU(e){const t=315569259747e-1,i=Date.UTC(1900,1,4,7,15,0)+(e-1900)*t+3*t/24,a=new Date(i);return new Date(a.getTime()+540*60*1e3)}function qb(e,t){const n=[],r=new Date(e,t-1,15,0,0,0),i=new Date(e,t,1,15,0,0),a=yU(e),o=at(new Date(e-1,5,15)),c=at(new Date(e,5,15)),u=at(new Date(e+1,5,15));if(i<=a)o&&n.push(De(o));else if(r>=a)c&&n.push(De(c));else if(o&&n.push(De(o)),c){const f=De(c);n.includes(f)||n.push(f)}if(t===12&&u){const f=De(u);n.includes(f)||n.push(f)}return n}function A2e(e,t){const n=yU(e),r=new Date(e,t-1,1),i=[];return r<n&&i.push(e-1),r>=n&&i.push(e),t===12&&i.push(e+1),i}function T2e(e){const{seYears:t,daeList:n,natal:r,basis:i,unified:a,dayEl:o,baseDayStem:c,show:u,shinsalSettings:f}=e;if(t.length===0)return[];const m=[],p=t[0],g=t[t.length-1],v=pU(n,p,g);if(v.length>0){const _=p,w=at(new Date(_,5,15)),E=De(w||""),T={:v.map(N=>{const O={dae:N.gz,se:E||null,wol:null,il:null};return bo({scope:"",infoText:`${N.age} ${N.gz} (${N.startYear}~${N.endYear})`,gz:N.gz,chain:O,natal:r,relationArgs:{daewoon:N.gz,sewoon:E||void 0,wolwoon:void 0,ilwoon:void 0},basis:i,unified:a,dayEl:o,baseDayStem:c,show:u,shinsalSettings:f,harmonyMode:"scope",includeBasicInfo:!0})})};m.push(Hn("",T))}for(const _ of t){const w=at(new Date(_,5,15)),E=gU(n,_),T=E.length>0?E[0]:null,N=De(w||""),O={dae:T?T.gz:null,se:N||null,wol:null,il:null},P=bo({scope:"",infoText:`${_} ${N}`,gz:N,chain:O,natal:r,relationArgs:{daewoon:T?.gz,sewoon:N||void 0,wolwoon:void 0,ilwoon:void 0},basis:i,unified:a,dayEl:o,baseDayStem:c,show:u,shinsalSettings:f,harmonyMode:"scope",includeBasicInfo:!0});m.push(Hn(` ${_}`,{:P}))}return m.filter(_=>_.trim().length>0)}function O2e(e){const{wolMonths:t,daeList:n,natal:r,basis:i,unified:a,dayEl:o,baseDayStem:c,show:u,shinsalSettings:f}=e;if(t.length===0)return[];const m=[],p=[],g=new Map;for(const T of t){const[N,O]=T.split("-").map(Number),P=Gb(n,N,O);for(const $ of P)p.some(H=>H.gz===$.gz&&H.startYear===$.startYear)||p.push($);const C=A2e(N,O);qb(N,O).forEach(($,H)=>{const Y=C[H]??C[C.length-1];g.has($)||g.set($,{year:Y,month:O})})}const[v]=t[0].split("-").map(Number),_=at(new Date(v,5,15)),w=De(_||"");if(p.length>0){const T={:p.map(N=>{const O={dae:N.gz,se:w||null,wol:null,il:null};return bo({scope:"",infoText:`${N.age} ${N.gz} (${N.startYear}~${N.endYear})`,gz:N.gz,chain:O,natal:r,relationArgs:{daewoon:N.gz,sewoon:w||void 0,wolwoon:void 0,ilwoon:void 0},basis:i,unified:a,dayEl:o,baseDayStem:c,show:u,shinsalSettings:f,harmonyMode:"scope",includeBasicInfo:!0})})};m.push(Hn("",T))}const E=Array.from(g.keys());if(E.length>0){const T={:E.map(N=>{const P=g.get(N).year,D=gU(n,P)[0]??p[0]??null,$={dae:D?D.gz:null,se:N,wol:null,il:null};return bo({scope:"",infoText:`${P} ${N}`,gz:N,chain:$,natal:r,relationArgs:{daewoon:D?.gz,sewoon:N,wolwoon:void 0,ilwoon:void 0},basis:i,unified:a,dayEl:o,baseDayStem:c,show:u,shinsalSettings:f,harmonyMode:"scope",includeBasicInfo:!0})})};m.push(Hn("",T))}for(const T of t){const[N,O]=T.split("-").map(Number),P=new Date(N,O-1,15),C=kt(P),D=Gb(n,N,O),$=D.length>0?D[0]:null,H=qb(N,O),Y=H.length>0?H[H.length-1]:"",K=De(C||""),F={dae:$?$.gz:null,se:Y||null,wol:K,il:null},z=bo({scope:"",infoText:`${T} ${K}`,gz:K,chain:F,natal:r,relationArgs:{daewoon:$?.gz,sewoon:Y||void 0,wolwoon:K,ilwoon:void 0},basis:i,unified:a,dayEl:o,baseDayStem:c,show:u,shinsalSettings:f,harmonyMode:"scope",includeBasicInfo:!0});m.push(Hn(` ${T}`,{:z}))}return m.filter(T=>T.trim().length>0)}function j2e(e){const{ilDays:t,daeList:n,natal:r,basis:i,unified:a,dayEl:o,baseDayStem:c,show:u,shinsalSettings:f,dayBoundaryRule:m}=e;if(t.length===0)return[];const p=[],[g,v,_]=t[0].split("-").map(Number),w=new Date(g,v-1,_,4,0);if(!Number.isNaN(w.getTime())){const E=Gb(n,g,v),T=E.length>0?E[0]:null,N=qb(g,v),O=N.length>0?N[N.length-1]:"",P=kt(new Date(g,v-1,15)),C=gt(w,m),D=De(P||""),$=De(O||""),H=De(C||"");if(T){const Y={dae:T.gz,se:$,wol:D,il:H},K=bo({scope:"",infoText:`${T.age} ${T.gz} (${T.startYear}~${T.endYear})`,gz:T.gz,chain:Y,natal:r,relationArgs:{daewoon:T.gz,sewoon:$,wolwoon:D,ilwoon:H},basis:i,unified:a,dayEl:o,baseDayStem:c,show:u,shinsalSettings:f,harmonyMode:"scope",includeBasicInfo:!0});p.push(Hn("",K))}if($){const Y={dae:T?T.gz:null,se:$,wol:D,il:H},K=bo({scope:"",infoText:`${g} ${$}`,gz:$,chain:Y,natal:r,relationArgs:{daewoon:T?.gz,sewoon:$,wolwoon:D,ilwoon:H},basis:i,unified:a,dayEl:o,baseDayStem:c,show:u,shinsalSettings:f,harmonyMode:"scope",includeBasicInfo:!0});p.push(Hn("",K))}if(D){const Y={dae:T?T.gz:null,se:$,wol:D,il:H},K=bo({scope:"",infoText:`${g}-${String(v).padStart(2,"0")} ${D}`,gz:D,chain:Y,natal:r,relationArgs:{daewoon:T?.gz,sewoon:$,wolwoon:D,ilwoon:H},basis:i,unified:a,dayEl:o,baseDayStem:c,show:u,shinsalSettings:f,harmonyMode:"scope",includeBasicInfo:!0});p.push(Hn("",K))}}for(const E of t){const[T,N,O]=E.split("-").map(Number),P=new Date(T,N-1,O,4,0);if(Number.isNaN(P.getTime()))continue;const C=Gb(n,T,N),D=C.length>0?C[0]:null,$=qb(T,N),H=$.length>0?$[$.length-1]:"",Y=kt(new Date(T,N-1,15)),K=gt(P,m),F=De(Y||""),z=De(H||""),X=De(K||""),Q={dae:D?D.gz:null,se:z||null,wol:F,il:X},J=bo({scope:"",infoText:`${E} ${X}`,gz:X,chain:Q,natal:r,relationArgs:{daewoon:D?.gz,sewoon:z||void 0,wolwoon:F||void 0,ilwoon:X||void 0},basis:i,unified:a,dayEl:o,baseDayStem:c,show:u,shinsalSettings:f,harmonyMode:"scope",includeBasicInfo:!0});p.push(Hn(` ${E}`,{:J}))}return p.filter(E=>E.trim().length>0)}function bU(e){const{ms:t,natal:n,basis:r,includeTenGod:i,unified:a,percent:o,category:c,selectedDaeList:u,daeList:f,seYears:m,wolMonths:p,ilDays:g,topic:v,subTopic:_,timeMode:w,teacherMode:E,sections:T}=e,N=cU(t),O=De(n[3]??""),P=!!O,C=t.mingSikType??"/",D=[De(n[0]??""),De(n[1]??""),De(n[2]??""),O],$=uU(t,D),H=D[2]?.charAt(0)??"",Y=ru[H]??ru[a.dayStem]??"",K=!!i&&(T?.tenGod??!0),F=T?.twelveUnseong??!0,z=T?.twelveShinsal??!0,X=T?.shinsal??!0,Q=T?.nabeum??!0,{shinsalBase:J,shinsalEra:q,shinsalGaehwa:Z}=J8.getState(),re=J===""?D[0]?.charAt(1)??"":D[2]?.charAt(1)??"",ue=sU(t,N),se=[` : ${t.name??""} (${ue}) : ${t.gender}`,` ${D[0]} ${D[1]} ${D[2]}`+(P?` ${D[3]}`:"")].join(`
`),B=[],{flags:W}=Y4(D,a.elementScoreRaw),ae=`${c} (${o.toFixed(1)}%)  ${[` ${W..||W..||W..||W..?"":""}`,` ${W..||W..||W..||W..?"":""}`,` ${W..||W..||W..||W..?"":""}`].join("  ")}`;if(B.push(Hn("",ae)),B.push(Hn("()",Object.fromEntries(Object.entries(a.natalFixed.elementPercent100).map(([pe,be])=>[`${pe}(${aU(Y,pe)})`,be])))),K&&B.push(Hn(" ( 10 100)",a.natalFixed.totalsSub)),F){const pe=Object.fromEntries($.map((be,ne)=>[be,ko(H,(D[ne]??"").charAt(1))]));B.push(Hn("()",pe))}if(z){const pe=Object.fromEntries($.map((be,ne)=>[be,Ao({baseBranch:re,targetBranch:(D[ne]??"").charAt(1),era:q,gaehwa:Z})]));B.push(Hn("()",pe))}B.push(Hn("//",W));const V=K2(g2e($,D));if(B.push(Hn("()",V)),X){const pe=Id({natal:D,daewoon:null,sewoon:null,wolwoon:null,ilwoon:null,basis:r});B.push(Hn("()",pe))}if(Q){const pe=Object.fromEntries($.map((be,ne)=>{const Oe=D[ne]??"",Ce=DT(Oe);return[be,Ce?{gz:Oe,nabeum:Ce.name,element:Ce.element,code:Ce.code}:null]}));B.push(Hn("()",pe))}f.length>0&&u.length>0&&B.push(...k2e({selectedDaeList:u,daeList:f,natal:D,basis:r,unified:a,dayEl:Y,baseDayStem:H,show:{tenGod:K,twelveUnseong:F,twelveShinsal:z,shinsal:X,nabeum:Q},shinsalSettings:{baseBranch:re,era:q,gaehwa:Z}})),m.length>0&&B.push(...T2e({seYears:m,daeList:f,natal:D,basis:r,unified:a,dayEl:Y,baseDayStem:H,show:{tenGod:K,twelveUnseong:F,twelveShinsal:z,shinsal:X,nabeum:Q},shinsalSettings:{baseBranch:re,era:q,gaehwa:Z}})),p.length>0&&B.push(...O2e({wolMonths:p,daeList:f,natal:D,basis:r,unified:a,dayEl:Y,baseDayStem:H,show:{tenGod:K,twelveUnseong:F,twelveShinsal:z,shinsal:X,nabeum:Q},shinsalSettings:{baseBranch:re,era:q,gaehwa:Z}})),g.length>0&&B.push(...j2e({ilDays:g,daeList:f,natal:D,basis:r,unified:a,dayEl:Y,baseDayStem:H,show:{tenGod:K,twelveUnseong:F,twelveShinsal:z,shinsal:X,nabeum:Q},shinsalSettings:{baseBranch:re,era:q,gaehwa:Z},dayBoundaryRule:C}));const oe=eU({topic:v,subTopic:_,timeMode:w,teacherMode:E}),me=(Fb(B.join(`

`))??"").toString();return{header:se,body:me,guide:oe}}function N2e(e){const{header:t,body:n,guide:r}=bU(e);return[t,"",n,"",r].join(`
`)}function LT(e){if(!e)return null;const t=e.name||"";let n="";if(e.birthDay&&e.birthDay.length===8){const o=e.birthDay.slice(0,4),c=e.birthDay.slice(4,6),u=e.birthDay.slice(6,8);n=`${o}-${c}-${u}`}else e.birthDay&&(n=e.birthDay);let r="";if(e.birthTime&&e.birthTime.trim().length>0){const c=e.birthTime.trim().padEnd(4,"0").slice(0,4),u=c.slice(0,2),f=c.slice(2,4);r=`${u}:${f}`}let i="";e.birthPlace&&typeof e.birthPlace=="object"&&(i=e.birthPlace.name||"");const a=e.ganji||e.ganjiText||"";return{name:t,birthDate:n,birthTime:r,birthPlace:i,ganjiText:a}}function C2e(e){const{header:t,body:n}=fU(e),r=e.relationMode==="couple"?LT(e.partnerMs??null):null,i=r?Pr("  ",r):"";return[t,n,i].filter(a=>a&&a.trim().length>0).join(`

`)}function M2e(e){const{header:t,body:n}=bU(e),r=e.relationMode==="couple"?LT(e.partnerMs??null):null,i=r?Pr("  ",r):"";return[t,n,i].filter(a=>a&&a.trim().length>0).join(`

`)}function P2e(e){const t=(e??"").trim();if(!t)return"";const n=[/\r?\n-----\s*\r?\n/,/\r?\n?\s*\s*/,/\r?\n?\s*\s*/,/\r?\n##\s*\s*/,/\r?\n##\s*/,/\r?\n?###\s*/,/\r?\n?\s*\s*/,/\r?\n?\s*\s*/];let r=-1;for(const i of n){const a=t.search(i);a>=0&&(r=r<0?a:Math.min(r,a))}return r>=0?t.slice(0,r).trimEnd():t}function D2e(e){switch(e){case"analysis":return`   ,   .
`;case"mentor":return`     .
`;case"dryHumor":return`    .
`;case"softWarm":return`    .
`;default:return""}}function R2e(e){return e?`    .
`:""}function L2e(e,t){if(e!=="couple")return"";const n=LT(t);return n?["","","[  -   ]","",`-  : ${n.name}`,`-  : ${n.birthDate}`,`-  : ${n.birthTime}`,`-  : ${n.birthPlace}`,`- ${n.ganjiText}`,"","   /  ,","      .",""].join(`
`):""}function Nd(e){return De(e)}function I2e(e){return e[0]?.length===2&&e[1]?.length===2&&e[2]?.length===2}function f3(e){const t=Array.isArray(e)?e.slice(0,4):[];for(;t.length<4;)t.push("");return t.map((n,r)=>{const i=De(n??"");return i||(r<=2?"--":"")})}function $2e(e,t,n){if(e)return{dae:e.dae??null,se:e.se??null,wol:e.wol??null,il:e.il??null};const r=Nd(at(t)||""),i=Nd(kt(t)||""),a=Nd(gt(t,n)||"");return{dae:null,se:r||null,wol:i||null,il:a||null}}function B2e(e,t){const n=f3(e),r=f3(t);return{solarKo:n,lunarKo:r}}function Rk(e,t,n){const r=[...e];return n&&(!r[3]||r[3]===""||r[3]==="--")&&t&&(r[3]=t.stem+t.branch),r}function z2e(e,t,n){return e?"solar":t?"lunar":"solar"}function U2e(e,t,n,r,i,a,o,c){return Rk(e==="lunar"?n?i:t?r:a??["","","",""]:t?r:n?i:a??["","","",""],o,c)}function H2e(e,t){const n=Number(e.birthDay?.slice(0,4)),r=Number(e.birthDay?.slice(4,6)),i=Number(e.birthDay?.slice(6,8));if(!Number.isFinite(n)||!Number.isFinite(r)||!Number.isFinite(i))return null;const a=new Date(n,r-1,i,12,4,0,0),o=Nd(at(a)||""),c=Nd(kt(a)||""),u=Nd(gt(a,t)||"");return[o,c,u,""]}function F2e(e,t){return t&&e?e.stem+e.branch:""}function G2e(e,t,n){const i=[...PT(e)];return n&&t&&t.length===2&&(i[3]=t),i}function q2e(e){const t=Z4(e,{criteriaMode:"modern",useHarmonyOverlay:!0}),n=Z2(t);return{percent:n,category:j4(n)}}function Y2e(e){const t=Q8(e).slice(0,10),n=e.birthDay?Number(e.birthDay.slice(0,4)):0;return t.map((r,i)=>{const a=r.match(/(\d{4})\s+(\d{1,2})\s+([-]{2})\s+/),o=a?Number(a[1]):0,c=a?Number(a[2]):1,u=1,f=a?a[3]:"",m=n>0?V2e(n,o):i*10;return{gz:f,age:m,startYear:o,startMonth:c,startDay:u,endYear:o+10}})}function K2e(e,t){return e.filter(n=>n.id!==t).map(n=>{const r=(n.name??"").trim()||" ",i=n.birthDay?n.birthDay:"",a=i?`${r} (${i})`:r;return{id:n.id,label:a}})}function W2e(e,t){if(!e)return"";if(t.length===0)return e;const n=["","-----","     ","",...t.map((r,i)=>`${i+1}. ${r}`)];return`${e}
${n.join(`
`)}`}function h3(e){return I2e(e)}function V2e(e,t){return t-e+1}function Z2e({ms:e,natal:t,lunarPillars:n,chain:r,basis:i,includeTenGod:a=!1,canUseMultiMode:o,canUseLuckTabs:c,input:u}){const{tone:f,friendMode:m,teacherMode:p,partnerId:g,mainCategory:v,subCategory:_,relationMode:w,activeTab:E,isMultiMode:T,multiTab:N,selectedDaeIdx:O,rangeControls:P,extraQuestions:C,sections:D}=u,$=Br(qt=>qt.list),{date:H,setDate:Y}=ci();S.useEffect(()=>{Y(new Date)},[e.id,Y]);const K=S.useMemo(()=>g?$.find(qt=>qt.id===g)??null:null,[g,$]),F=e.mingSikType??"/",z=S.useMemo(()=>H??new Date,[H]),X=S.useMemo(()=>$2e(r,z,F),[r,z,F]),Q=S.useMemo(()=>c?X:{dae:null,se:null,wol:null,il:null},[c,X]),J=Gm(qt=>qt.manualHour),q=!e.birthTime||e.birthTime===""||!/^\d{4}$/.test(e.birthTime??""),{solarKo:Z,lunarKo:re}=S.useMemo(()=>B2e(t,n),[t,n]),ue=S.useMemo(()=>Rk(Z,J,q),[Z,J,q]),se=S.useMemo(()=>Rk(re,J,q),[re,J,q]),B=S.useMemo(()=>H2e(e,F),[e,F]),W=h3(ue),ae=h3(se),V=z2e(W,ae),oe=S.useMemo(()=>U2e(V,W,ae,ue,se,B,J,q),[V,W,ae,ue,se,B,J,q]),me=S.useMemo(()=>q&&J?J.stem+J.branch:oe[3]||"",[J,oe,q]),pe=F2e(J,q),be=S.useMemo(()=>G2e(e,pe,q),[e,pe,q]),ne=c?E:"",Oe=v==="love"||v==="compat",ve=Oe&&w==="couple"?K??null:null,Ze=Oe?w:void 0,Ne=S.useMemo(()=>_v({natal:be,tab:ne,chain:Q,hourKey:me}),[be,ne,Q,me]),{percent:_e,category:je}=S.useMemo(()=>q2e(be),[be]),Le=S.useMemo(()=>Y2e(e),[e]),Ve=S.useMemo(()=>K2e($??[],e.id),[$,e.id]),bt=S.useMemo(()=>O.map(qt=>Le[qt]).filter(qt=>!!qt),[O,Le]),xt=S.useMemo(()=>N===""?P.seYearsList:[],[N,P.seYearsList]),Pt=S.useMemo(()=>N===""?P.wolMonthsList:[],[N,P.wolMonthsList]),fe=S.useMemo(()=>N===""?P.ilDaysList:[],[N,P.ilDaysList]),Me=S.useMemo(()=>e?E2e({ms:e,natal:be,chain:Q,basis:i,tab:ne,unified:Ne,percent:_e,category:je,topic:v,subTopic:_,relationMode:w,teacherMode:p,sections:D}):"",[e,i,a,ne,Q,Ne,_e,je,be,v,_,w,ve,p,D]),Be=S.useMemo(()=>!e||!T||!o?"":N2e({ms:e,natal:be,basis:i,includeTenGod:a,unified:Ne,percent:_e,category:je,selectedDaeList:bt,daeList:Le,seYears:xt,wolMonths:Pt,ilDays:fe,topic:v,subTopic:_,timeMode:"multi",teacherMode:p,sections:D}),[e,T,o,xt,bt,Le,Pt,fe,be,i,a,Ne,_e,je,v,_,Ze,ve,p,m,D]),lt=S.useMemo(()=>L2e(w,K),[w,K]),jt=T?Be:Me,yt=S.useMemo(()=>D2e(f),[f]),Zn=S.useMemo(()=>R2e(m),[m]),hi=S.useMemo(()=>jt||lt?`${jt}${lt}
${yt}${Zn}`:"",[yt,Zn,jt,lt]),mi=S.useMemo(()=>W2e(hi,C),[hi,C]),Ns=S.useMemo(()=>e?T?M2e({ms:e,natal:be,basis:i,includeTenGod:a,unified:Ne,percent:_e,category:je,selectedDaeList:bt,daeList:Le,seYears:xt,wolMonths:Pt,ilDays:fe,topic:v,subTopic:_,timeMode:"multi",relationMode:Ze,partnerMs:ve,teacherMode:p,sections:D}):C2e({ms:e,natal:be,chain:Q,basis:i,tab:ne,unified:Ne,percent:_e,category:je,topic:v,subTopic:_,relationMode:w,partnerMs:ve,teacherMode:p,sections:D}):"",[e,T,be,i,a,Ne,_e,je,bt,Le,xt,Pt,fe,v,_,w,Ze,ve,p,m,D,Q,ne]),Cs=S.useMemo(()=>{const qt=Ns.trim();if(qt)return qt;const mn=P2e(jt).trim();return mn||jt.trim()},[Ns,jt]);return{date:H,setDate:Y,partnerMs:K,partnerOptions:Ve,daeList:Le,tabForLogic:ne,baseText:jt,basePrompt:hi,finalText:mi,infoOnlyText:Cs,allowManualHour:q,activePillars:oe}}function m3(e,t=1200){const[n,r]=S.useState(!1),i=!!(e&&e.trim().length>0),a=S.useCallback(async()=>{if(i)try{await navigator.clipboard.writeText(e),r(!0),setTimeout(()=>r(!1),t)}catch{r(!1)}},[i,e,t]);return{copied:n,canCopy:i,onCopy:a}}function X2e(e,t){const{copied:n,canCopy:r,onCopy:i}=m3(e),{copied:a,canCopy:o,onCopy:c}=m3(t);return{copiedAll:n,copiedInfo:a,canCopyAll:r,canCopyInfo:o,onCopyAll:i,onCopyInfoOnly:c}}function J2e({ms:e,natal:t,lunarPillars:n,chain:r,basis:i,includeTenGod:a=!1}){const o=Br(D=>D._rtUserId),u=qke()??o??null,f=S.useMemo(()=>Gke(u),[u]),m=S.useMemo(()=>Uy(f),[f]),p=m.canUseMultiMode,g=m.canUseLuckTabs,v=Wke({msId:e.id,canUseMultiMode:p,canUseLuckTabs:g}),_=Z2e({ms:e,natal:t,lunarPillars:n,chain:r,basis:i,includeTenGod:a,canUseMultiMode:p,canUseLuckTabs:g,input:v}),{copiedAll:w,copiedInfo:E,canCopyAll:T,canCopyInfo:N,onCopyAll:O,onCopyInfoOnly:P}=X2e(_.finalText,_.infoOnlyText);function C(D,$){v.setMainCategory(D),v.setSubCategory($?.[0]?.key??"overview")}return{sections:v.sections,toggleSection:v.toggleSection,tone:v.tone,setTone:v.setTone,friendMode:v.friendMode,setFriendMode:v.setFriendMode,teacherMode:v.teacherMode,setTeacherMode:v.setTeacherMode,date:_.date,setDate:_.setDate,planTier:f,promptAccess:m.promptAccess,canUseMultiMode:p,canUseLuckTabs:g,partnerId:v.partnerId,setPartnerId:v.setPartnerId,partnerMs:_.partnerMs,mainCategory:v.mainCategory,subCategory:v.subCategory,setSubCategory:v.setSubCategory,relationMode:v.relationMode,setRelationMode:v.setRelationMode,activeTab:v.activeTab,setActiveTab:v.setActiveTab,isMultiMode:v.isMultiMode,setIsMultiMode:v.setIsMultiMode,multiTab:v.multiTab,setMultiTab:v.setMultiTab,selectedDaeIdx:v.selectedDaeIdx,handleToggleDae:v.handleToggleDae,rangeControls:v.rangeControls,partnerOptions:_.partnerOptions,daeList:_.daeList,tabForLogic:_.tabForLogic,baseText:_.baseText,basePrompt:_.basePrompt,finalText:_.finalText,infoOnlyText:_.infoOnlyText,copiedAll:w,copiedInfo:E,canCopyAll:T,canCopyInfo:N,onCopyAll:O,onCopyInfoOnly:P,handleMainCategoryChange:C,setQuestionDraft:v.setQuestionDraft,questionDraft:v.questionDraft,extraQuestions:v.extraQuestions,setExtraQuestions:v.setExtraQuestions,handleAddQuestion:v.handleAddQuestion,handleRemoveQuestion:v.handleRemoveQuestion,handleClearQuestions:v.handleClearQuestions,allowManualHour:_.allowManualHour,activePillars:_.activePillars}}function Q2e({ms:e,natal:t,chain:n,basis:r,lunarPillars:i,includeTenGod:a=!1}){const o=J2e({ms:e,natal:t,chain:n,basis:r,lunarPillars:i,includeTenGod:a}),c=s3[o.mainCategory];if(o.promptAccess==="hidden")return null;if(!e)return x.jsx("div",{className:"p-4 border rounded bg-neutral-50 dark:bg-neutral-900 text-sm text-neutral-500",children:"  ."});const u=o.promptAccess==="locked",f=u?" .":void 0,m=o.promptAccess==="full"&&o.canCopyInfo,p=o.promptAccess==="full"&&o.canCopyAll;return x.jsxs("div",{className:"relative rounded-xl border border-neutral-200 dark:border-neutral-800 bg-white dark:bg-neutral-900 p-3 space-y-3",children:[x.jsx(Cke,{copiedInfo:o.copiedInfo,copiedAll:o.copiedAll,canCopyInfo:m,canCopyAll:p,lockTitle:f,onCopyInfoOnly:o.onCopyInfoOnly,onCopyAll:o.onCopyAll}),x.jsx(Mke,{sections:o.sections,toggleSection:o.toggleSection}),x.jsx(Pke,{tone:o.tone,toneMeta:Uke,setTone:o.setTone,friendMode:o.friendMode,setFriendMode:g=>o.setFriendMode(g.target.checked),teacherMode:o.teacherMode,setTeacherMode:g=>o.setTeacherMode(g.target.checked)}),x.jsx(Dke,{mainCategory:o.mainCategory,subCategory:o.subCategory,mainCategoryMeta:Fke,currentSubList:c,onMainCategoryChange:g=>o.handleMainCategoryChange(g,s3[g]),onSubCategoryChange:o.setSubCategory}),x.jsx(Rke,{visible:o.mainCategory==="love"||o.mainCategory==="compat",relationMode:o.relationMode,setRelationMode:o.setRelationMode,partnerId:o.partnerId,setPartnerId:o.setPartnerId,partnerOptions:o.partnerOptions}),x.jsx(Lke,{isMultiMode:o.canUseMultiMode?o.isMultiMode:!1,setIsMultiMode:g=>{!o.canUseMultiMode&&g||o.setIsMultiMode(g)},canUseMultiMode:o.canUseMultiMode}),o.isMultiMode?x.jsx($ke,{multiTab:o.multiTab,setMultiTab:o.setMultiTab,daeList:o.daeList.map(g=>({gz:g.gz,age:g.age,startYear:g.startYear,endYear:g.endYear})),selectedDaeIdx:o.selectedDaeIdx,onToggleDae:o.handleToggleDae,seStartYear:o.rangeControls.seStartYear,seEndYear:o.rangeControls.seEndYear,onSeStartChange:o.rangeControls.onSeStartChange,onSeEndChange:o.rangeControls.onSeEndChange,onSeStartBlur:o.rangeControls.onSeStartBlur,onSeEndBlur:o.rangeControls.onSeEndBlur,seYearsCount:o.rangeControls.seYearsCount,wolStartDate:o.rangeControls.wolStartYM,wolEndDate:o.rangeControls.wolEndYM,onWolStartChange:o.rangeControls.onWolStartChange,onWolEndChange:o.rangeControls.onWolEndChange,onWolStartBlur:o.rangeControls.onWolStartBlur,onWolEndBlur:o.rangeControls.onWolEndBlur,wolMonthsCount:o.rangeControls.wolMonthsCount,ilStartDate:o.rangeControls.ilStartDate,ilEndDate:o.rangeControls.ilEndDate,onIlStartChange:o.rangeControls.onIlStartChange,onIlEndChange:o.rangeControls.onIlEndChange,onIlStartBlur:o.rangeControls.onIlStartBlur,onIlEndBlur:o.rangeControls.onIlEndBlur,ilDaysCount:o.rangeControls.ilDaysCount}):x.jsx(Ike,{tabs:Hke,activeTab:o.tabForLogic,setActiveTab:g=>{!o.canUseLuckTabs&&g!==""||o.setActiveTab(g)},date:o.date,setDate:o.setDate,canUseLuckTabs:o.canUseLuckTabs}),x.jsx(Bke,{questionDraft:o.questionDraft,onChangeDraft:g=>o.setQuestionDraft(g.target.value),onAddQuestion:o.handleAddQuestion,extraQuestions:o.extraQuestions,onClearAll:o.handleClearQuestions,onRemoveQuestion:o.handleRemoveQuestion,locked:u,lockTitle:f}),x.jsx(zke,{value:o.finalText,lockSelection:u})]})}function eAe(){const[e,t]=S.useState(null),[n,r]=S.useState(!1),[i,a]=S.useState(!1),[o]=S.useState(()=>typeof window>"u"?!1:window.location.pathname.startsWith("/admin"));return{userId:e,setUserId:t,authChecked:n,setAuthChecked:r,isLoggedIn:i,setIsLoggedIn:a,adminMode:o}}function tAe(){const e=Br(r=>r.loading),t=qn(r=>r.loaded),n=_s(r=>r.loaded);return{loading:e,settingsLoaded:t,entLoaded:n}}const p3="app_session_started_at_ms",nAe=7200*1e3;function rAe(){const e=sessionStorage.getItem(p3),t=e?Number(e):NaN;if(!Number.isFinite(t)||t<=0){const n=Date.now();return sessionStorage.setItem(p3,String(n)),n}return t}function iAe(e=Date.now()){const t=rAe();return Math.max(0,e-t)}function aAe(e,t=Date.now()){return iAe(t)>=e}async function oAe(e,t){const{data:n,error:r}=await Ie.from("user_settings_kv").select("value").eq("user_id",e).eq("setting_key",t).maybeSingle();if(r)throw r;return n?.value??null}async function sAe(e,t,n){const{error:r}=await Ie.from("user_settings_kv").upsert({user_id:e,setting_key:t,value:n},{onConflict:"user_id,setting_key"});if(r)throw r}const lAe=e=>typeof e=="object"&&e!==null&&!Array.isArray(e);function _d(e){if(e===null)return"null";if(e===void 0)return"undefined";const t=typeof e;return t==="string"?JSON.stringify(e):t==="number"||t==="boolean"?String(e):Array.isArray(e)?`[${e.map(_d).join(",")}]`:lAe(e)?`{${Object.keys(e).sort().map(i=>`${JSON.stringify(i)}:${_d(e[i])}`).join(",")}}`:e instanceof Date?`{"$date":${JSON.stringify(e.toISOString())}}`:JSON.stringify(String(e))}function cAe(e,t){let n=null;return(...r)=>{n!==null&&window.clearTimeout(n),n=window.setTimeout(()=>{n=null,e(...r)},t)}}function uAe(e,t){const n=t.debounceMs??400;let r=!1,i=null,a=_d(t.select(t.store.getState()));const o=cAe(async p=>{try{await sAe(e,t.dbKey,p),a=_d(p)}catch(g){console.error(`[settings] save failed key=${t.dbKey}`,g)}},n),c=p=>{r=!0;try{t.apply(p),a=_d(p)}finally{r=!1}},u=p=>{t.validate&&!t.validate(p)||c(p)},f=async()=>{const p=await oAe(e,t.dbKey);p!==null&&u(p)};i=t.store.subscribe(p=>{if(r)return;const g=t.select(p);_d(g)!==a&&o(g)});const m=()=>{i&&i(),i=null};return{dbKey:t.dbKey,loadFromDb:f,applyRemote:u,stop:m}}function dAe(e){if(typeof e!="object"||e===null)return!1;const t=e;return["twelveUnseong","twelveShinsal","shinsal","nabeum"].every(r=>typeof t[r]=="boolean")}function LS(e){return typeof e=="object"&&e!==null&&!Array.isArray(e)}function fAe(e){S.useEffect(()=>{if(!e)return;const t=[];t.push(uAe(e,{dbKey:"promptCopy.sections",store:Hb,select:o=>o.sections,apply:o=>Hb.setState({sections:o}),validate:dAe,debounceMs:250})),Promise.all(t.map(o=>o.loadFromDb())).catch(o=>{console.error("[settings] initial load failed",o)});const n=[{table:"user_settings_kv",filterByUserId:!0}],r=new Map,i=(o,c,u)=>{const f=r.get(o);f&&window.clearTimeout(f);const m=window.setTimeout(()=>{r.delete(o),u()},c);r.set(o,m)},a=Ie.channel(`app-sync:${e}`);for(const o of n)a.on("postgres_changes",{event:"*",schema:"public",table:o.table,...o.filterByUserId?{filter:`user_id=eq.${e}`}:{}},c=>{if(aAe(nAe)){window.location.reload();return}if(o.table==="user_settings_kv"){if(!LS(c))return;const u=c.new,f=c.old,m=w=>LS(w)&&typeof w.setting_key=="string"?w.setting_key:null,p=w=>LS(w)?w.value:null,g=m(u)??m(f);if(!g)return;const v=t.find(w=>w.dbKey===g);if(!v)return;const _=typeof c.eventType=="string"?c.eventType:"";if(_==="INSERT"||_==="UPDATE"){v.applyRemote(p(u));return}v.loadFromDb();return}if(o.onChange){const u=typeof o.debounceMs=="number"?o.debounceMs:0;u>0?i(o.table,u,()=>o.onChange?.(c)):o.onChange(c)}});return a.subscribe(),()=>{for(const o of t)o.stop();for(const[,o]of r)window.clearTimeout(o);r.clear(),Ie.removeChannel(a)}},[e])}function hAe({setUserId:e,setIsLoggedIn:t,setAuthChecked:n}){S.useEffect(()=>{const r=Ie;(async()=>{const{data:o,error:c}=await r.auth.getSession();if(c){t(!1),e(null),n(!0);return}const u=o.session?.user?.id??null;t(!!o.session),e(u),n(!0)})();const{data:{subscription:a}}=r.auth.onAuthStateChange((o,c)=>{const u=c?.user?.id??null;t(!!c),e(u),n(!0),c||Br.getState().stopRealtime()});return()=>{a.unsubscribe()}},[n,t,e])}function mAe(e){hAe({setUserId:e.setUserId,setIsLoggedIn:e.setIsLoggedIn,setAuthChecked:e.setAuthChecked}),fAe(e.userId);const t=Br(a=>a.migrateLocalToServer),n=Br(a=>a.loadFromServer),r=qn(a=>a.loadFromServer),i=_s(a=>a.loadFromServer);S.useEffect(()=>{e.isLoggedIn&&i()},[e.isLoggedIn,i]),S.useEffect(()=>{e.isLoggedIn&&(async()=>(await t(),await n(),await r()))()},[e.isLoggedIn,t,n,r])}function pAe(e){const[t,n]=S.useState(()=>e.length>0?e[0].id:""),[r,i]=S.useState(!1),[a,o]=S.useState(!1),[c,u]=S.useState(null),[f,m]=S.useState(!0),[p,g]=S.useState(!1),[v,_]=S.useState(!1);return{currentId:t,setCurrentId:n,wizardOpen:r,setWizardOpen:i,showSidebar:a,setShowSidebar:o,editing:c,setEditing:u,showToday:f,setShowToday:m,showCouple:p,setShowCouple:g,openCustom:v,setOpenCustom:_}}function gAe(e){const t=ci(i=>i.date),n=ci(i=>i.rule),r=ou(e);return S.useMemo(()=>{if(!e)return{dae:null,se:null,wol:null,il:null};const i=yv(r,t),a=i>=0?r[i]?.gz??null:null,o=at(t),c=kt(t),u=gt(t,n);return{dae:a,se:o,wol:c,il:u}},[e,r,t,n])}const yAe=e=>typeof e=="string"&&e.length>=2,bAe=e=>Array.isArray(e)&&e.length===4&&e.every(yAe);function vAe({list:e,currentId:t,settings:n,emptyMs:r}){const i=S.useMemo(()=>e.find(g=>g.id===t)??e[0],[e,t]),a=e.length>0&&!!i&&typeof i.birthDay=="string",o=a?i:r,c=S.useMemo(()=>PT(o),[o]),u=gAe(o),f=_s(g=>g.canAddMyeongsik(e.length).ok),m=n.sinsalBase===""?"day":"year",p=n.sinsalBase===""?"day":"year";return{current:i,hasCurrent:a,msForHooks:o,natal:c,chain:u,isValidPillars:bAe,canAdd:f,voidBasis:m,samjaeBasis:p}}function xAe({canAdd:e,hasCurrent:t,current:n,isLoggedIn:r,setWizardOpen:i,setOpenCustom:a,setShowSidebar:o,setShowToday:c,setShowCouple:u,setCurrentId:f,setEditing:m}){const{settings:p,saveToServer:g,loaded:v}=qn();S.useEffect(()=>{!r||!v||g()},[r,v,p,g]);const _=S.useCallback(()=>{if(!e){dn.error("   1   .");return}i(!0)},[e,i]),w=S.useCallback(()=>{if(!e){dn.error("   1   .");return}a(!0)},[e,a]),E=S.useCallback(C=>{f(C.id),o(!1),c(!1),u(!1);const D=new Date;D.setHours(12,0,0,0),ci.getState().setDate(D),t&&n?.id===C.id&&(c(!1),u(!1),o(!1))},[n,t,f,o,c,u]),T=S.useCallback(C=>{m(C),f(C.id),o(!1),c(!1),u(!1)},[m,f,o,c,u]),N=S.useCallback(()=>{const C=Br.getState().list[0]?.id??"";f(C),c(!0),u(!1)},[f,c,u]),O=S.useCallback(C=>{f(C.id),c(!1),u(!1),o(!1),requestAnimationFrame(()=>i(!1))},[f,c,u,o,i]),P=S.useCallback(C=>{f(C.id),c(!1),u(!1),o(!1)},[f,c,u,o]);return{openAdd:_,openCustomModal:w,handleSidebarView:E,handleSidebarEdit:T,handleSidebarDeleteView:N,handleWizardSave:O,handleCustomSave:P}}const _Ae={id:"empty",name:"",birthDay:"",birthTime:"",gender:"",birthPlace:{name:"",lat:0,lon:0},relationship:"",memo:"",folder:"",mingSikType:"/",DayChangeRule:"",favorite:!1,dateObj:new Date,corrected:new Date,correctedLocal:"",dayStem:"",ganjiText:"",ganji:"",calendarType:"solar",dir:"forward"};function wAe(){const e=eAe();mAe(e);const t=tAe();return e.authChecked?t.entLoaded?e.isLoggedIn?e.adminMode?x.jsx(W8,{}):t.settingsLoaded?t.loading?x.jsx("main",{className:"flex min-h-screen items-center justify-center",children:x.jsx("p",{className:"text-sm text-neutral-500",children:"  ..."})}):x.jsx(SAe,{isLoggedIn:e.isLoggedIn}):x.jsx("main",{className:"flex min-h-screen items-center justify-center",children:x.jsx("p",{className:"text-sm text-neutral-500",children:"  ..."})}):x.jsx(ake,{}):x.jsx("main",{className:"flex min-h-screen items-center justify-center",children:x.jsx("p",{className:"text-sm text-neutral-500",children:"  ..."})}):x.jsx("main",{className:"flex min-h-screen items-center justify-center",children:x.jsx("p",{className:"text-sm text-neutral-500",children:"   ..."})})}function SAe({isLoggedIn:e}){const{list:t}=Br(),n=qn(o=>o.settings),r=pAe(t),i=vAe({list:t,currentId:r.currentId,settings:n,emptyMs:_Ae}),a=xAe({canAdd:i.canAdd,hasCurrent:i.hasCurrent,current:i.current,isLoggedIn:e,setWizardOpen:r.setWizardOpen,setOpenCustom:r.setOpenCustom,setShowSidebar:r.setShowSidebar,setShowToday:r.setShowToday,setShowCouple:r.setShowCouple,setCurrentId:r.setCurrentId,setEditing:r.setEditing});return x.jsxs("div",{className:"min-h-screen pb-16",children:[x.jsx(pce,{onOpenSidebar:()=>r.setShowSidebar(!0),onAddNew:a.openAdd,onOpenCustom:a.openCustomModal}),x.jsx(Nke,{open:r.openCustom,onClose:()=>r.setOpenCustom(!1),onSave:a.handleCustomSave}),x.jsx(q3,{position:"top-center"}),x.jsx(tue,{open:r.showSidebar,onClose:()=>r.setShowSidebar(!1),onView:a.handleSidebarView,onAddNew:a.openAdd,onEdit:a.handleSidebarEdit,onDeleteView:a.handleSidebarDeleteView}),r.showToday&&x.jsx(oW,{}),r.wizardOpen&&x.jsxs(x.Fragment,{children:[x.jsx("div",{id:"wizard-dim",className:"bg-black opacity-80 fixed inset-0 w-full min-h-full z-99"}),x.jsx("div",{className:"absolute inset-0 transition-opacity duration-150 opacity-100 z-100",children:x.jsx("div",{className:"py-6 pb-16 overflow-y-auto min-h-[100dvh]",children:x.jsx(tte,{onSave:a.handleWizardSave,onClose:()=>r.setWizardOpen(!1)})})})]}),i.hasCurrent&&!r.showToday&&!r.showCouple&&x.jsxs(x.Fragment,{children:[x.jsx("div",{className:"pt-18 pb-4",children:x.jsx(gie,{data:i.current,hourTable:i.current?.mingSikType??"/"})}),x.jsx("div",{children:x.jsx(Ble,{data:i.current})}),x.jsx(ike,{ms:i.current}),n.showPromptBox&&x.jsx("div",{className:"max-w-[640px] mx-auto mb-8",children:x.jsx(Q2e,{ms:i.current,natal:i.isValidPillars(i.natal)?i.natal:[],chain:i.chain,basis:{voidBasis:i.voidBasis,samjaeBasis:i.samjaeBasis},includeTenGod:!0,lunarPillars:[]})})]}),r.showCouple&&x.jsx("div",{className:"pt-18 pb-4",children:x.jsx(tke,{people:t})}),r.editing&&x.jsx("div",{className:"fixed inset-0 z-55 flex items-center justify-center bg-black/60",children:x.jsx("div",{className:"bg-white dark:bg-neutral-950 p-4 rounded-xl w-full max-h-[90dvh] max-w-xl shadow-lg",children:x.jsx(gue,{item:r.editing,onClose:()=>r.setEditing(null)})})}),x.jsx(Ece,{onShowToday:()=>{r.setShowToday(!0),r.setShowCouple(!1)},onShowCouple:()=>{r.setShowCouple(!0),r.setShowToday(!1)}}),x.jsx(nke,{})]})}const Yb={VITE_SUPABASE_ANON_KEY:"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImpvdWh5YnlxdXlieGJucXp0eHVtIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjQ5NjIwOTgsImV4cCI6MjA4MDUzODA5OH0.qAD7S7yRW8GxcRze_3dyirReIy6HvMr9DeET-djp1Fw"};var am={};const EAe=()=>{const e=typeof import.meta<"u"&&typeof Yb<"u"?Yb:void 0,t=typeof process<"u"?am.NEXT_PUBLIC_FUNCTION_IMPERSONATE_URL||am.NEXT_PUBLIC_IMPERSONATE_API||am.VITE_IMPERSONATE_API:void 0;return e?.VITE_IMPERSONATE_API||e?.NEXT_PUBLIC_FUNCTION_IMPERSONATE_URL||e?.NEXT_PUBLIC_IMPERSONATE_API||t||null},kAe=()=>{const e=typeof import.meta<"u"&&typeof Yb<"u"?Yb:void 0,t=typeof process<"u"?am.NEXT_PUBLIC_SUPABASE_ANON_KEY||am.VITE_SUPABASE_ANON_KEY:void 0;return e?.VITE_SUPABASE_ANON_KEY||e?.NEXT_PUBLIC_SUPABASE_ANON_KEY||t||null};function AAe(){const[e,t]=S.useState(null),[n,r]=S.useState(null),[i,a]=S.useState(null),[o,c]=S.useState([]),[u,f]=S.useState(!1),[m,p]=S.useState(null),g=EAe(),v=kAe();return S.useEffect(()=>{if(typeof window<"u"){const _=window.location.hash?.startsWith("#")?window.location.hash.slice(1):window.location.hash||"",E=new URL(_||"/",window.location.origin).searchParams;t(E.get("userId")),r(E.get("myeongsikId"))}},[]),S.useEffect(()=>{if(!g){p(" API URL   . VITE_IMPERSONATE_API .env.local .");return}if(!e){p("userId .");return}const _=g.startsWith("http");(async()=>{f(!0),p(null);try{const E=new URLSearchParams({userId:e});n&&E.set("myeongsikId",n);const T=_&&v?{Authorization:`Bearer ${v}`,apikey:v}:void 0,N=await fetch(`${g}?${E.toString()}`,{cache:"no-store",headers:T});if(!N.ok){const P=await N.text();throw new Error(P||"fetch error")}const O=await N.json();a(O.profile),c(Array.isArray(O.myeongsik)?O.myeongsik:[])}catch(E){p(E instanceof Error?E.message:String(E))}finally{f(!1)}})()},[e,n,g,v]),u?x.jsx("div",{className:"p-6 text-white",children:"Loading..."}):m?x.jsxs("div",{className:"p-6 text-white",children:["Error: ",m]}):e?x.jsxs("div",{className:"p-6 text-white space-y-6",children:[x.jsxs("div",{className:"flex items-center justify-between",children:[x.jsx("h1",{className:"text-2xl font-bold",children:"  "}),x.jsxs("div",{className:"text-sm text-neutral-400",children:["userId: ",e]})]}),x.jsxs("div",{className:"p-4 bg-neutral-900 border border-neutral-700 rounded",children:[x.jsx("h2",{className:"text-xl font-semibold mb-3",children:""}),i?x.jsxs("div",{className:"space-y-1 text-sm text-neutral-200",children:[x.jsxs("div",{children:[": ",i.name??"-"]}),x.jsxs("div",{children:[": ",i.nickname??"-"]}),x.jsxs("div",{children:["Email: ",i.email??"-"]}),x.jsxs("div",{children:[" : ",i.mgr_memo??"-"]}),x.jsxs("div",{children:[": ",i.disabled_at?i.disabled_at:""]})]}):x.jsx("div",{className:"text-neutral-400 text-sm",children:" ."})]}),x.jsxs("div",{className:"p-4 bg-neutral-900 border border-neutral-700 rounded",children:[x.jsxs("div",{className:"flex items-center justify-between mb-3",children:[x.jsx("h2",{className:"text-xl font-semibold",children:" "}),n&&x.jsxs("div",{className:"text-xs text-neutral-400",children:["myeongsikId: ",n]})]}),o.length===0?x.jsx("div",{className:"text-neutral-400 text-sm",children:" ."}):x.jsx("div",{className:"space-y-3",children:o.map(_=>x.jsxs("div",{className:"p-3 bg-neutral-800 border border-neutral-700 rounded",children:[x.jsxs("div",{className:"flex items-center justify-between",children:[x.jsx("div",{className:"font-semibold",children:_.name||"(no name)"}),_.deleted_at&&x.jsx("span",{className:"text-xs px-2 py-0.5 rounded bg-red-700 text-white",children:"deleted"})]}),x.jsxs("div",{className:"text-sm text-neutral-400",children:["Birth: ",_.birth_json?.birthDay??"-"," "," ",_.created_at?new Date(_.created_at).toLocaleString():"-"]}),_.mgr_memo&&x.jsxs("div",{className:"text-sm text-neutral-300 whitespace-pre-wrap mt-1",children:[": ",_.mgr_memo]})]},_.id))})]})]}):x.jsx("div",{className:"p-6 text-white",children:"userId ."})}GH.createRoot(document.getElementById("root")).render(x.jsx(S.StrictMode,{children:x.jsx(oG,{children:x.jsxs(IF,{children:[x.jsx(X0,{path:"/",element:x.jsx(wAe,{})}),x.jsx(X0,{path:"/admin",element:x.jsx(W8,{})}),x.jsx(X0,{path:"/impersonate",element:x.jsx(AAe,{})})]})})}));
