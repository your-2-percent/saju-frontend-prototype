function i2(e,t){for(var n=0;n<t.length;n++){const r=t[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in e)){const a=Object.getOwnPropertyDescriptor(r,i);a&&Object.defineProperty(e,i,a.get?a:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const a of i)if(a.type==="childList")for(const o of a.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const a={};return i.integrity&&(a.integrity=i.integrity),i.referrerPolicy&&(a.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?a.credentials="include":i.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function r(i){if(i.ep)return;i.ep=!0;const a=n(i);fetch(i.href,a)}})();function hi(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function Qm(e){if(Object.prototype.hasOwnProperty.call(e,"__esModule"))return e;var t=e.default;if(typeof t=="function"){var n=function r(){var i=!1;try{i=this instanceof r}catch{}return i?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};n.prototype=t.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(e).forEach(function(r){var i=Object.getOwnPropertyDescriptor(e,r);Object.defineProperty(n,r,i.get?i:{enumerable:!0,get:function(){return e[r]}})}),n}var gw={exports:{}},jh={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var iC;function IH(){if(iC)return jh;iC=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function n(r,i,a){var o=null;if(a!==void 0&&(o=""+a),i.key!==void 0&&(o=""+i.key),"key"in i){a={};for(var l in i)l!=="key"&&(a[l]=i[l])}else a=i;return i=a.ref,{$$typeof:e,type:r,key:o,ref:i!==void 0?i:null,props:a}}return jh.Fragment=t,jh.jsx=n,jh.jsxs=n,jh}var aC;function $H(){return aC||(aC=1,gw.exports=IH()),gw.exports}var g=$H();const n$="harim.theme",ek="harim.settings.v1";function r$(){try{const e=localStorage.getItem(n$);if(e==="dark"||e==="light")return e;const t=localStorage.getItem(ek);if(t){const r=JSON.parse(t)?.theme;if(r==="dark"||r==="light")return r}return null}catch{return null}}function i$(e){try{localStorage.setItem(n$,e);const t=localStorage.getItem(ek),n=t?JSON.parse(t):{};localStorage.setItem(ek,JSON.stringify({...n,theme:e}))}catch{}}function a$(e){const t=document.documentElement;t.classList.toggle("dark",e==="dark"),t.style.setProperty("color-scheme",e)}(function(){try{const e=r$()??(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light");a$(e)}catch{}})();var bw={exports:{}},at={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var oC;function BH(){if(oC)return at;oC=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),a=Symbol.for("react.consumer"),o=Symbol.for("react.context"),l=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),p=Symbol.for("react.activity"),b=Symbol.iterator;function x(B){return B===null||typeof B!="object"?null:(B=b&&B[b]||B["@@iterator"],typeof B=="function"?B:null)}var k={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},S=Object.assign,_={};function T(B,K,ie){this.props=B,this.context=K,this.refs=_,this.updater=ie||k}T.prototype.isReactComponent={},T.prototype.setState=function(B,K){if(typeof B!="object"&&typeof B!="function"&&B!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,B,K,"setState")},T.prototype.forceUpdate=function(B){this.updater.enqueueForceUpdate(this,B,"forceUpdate")};function N(){}N.prototype=T.prototype;function j(B,K,ie){this.props=B,this.context=K,this.refs=_,this.updater=ie||k}var C=j.prototype=new N;C.constructor=j,S(C,T.prototype),C.isPureReactComponent=!0;var M=Array.isArray;function P(){}var $={H:null,A:null,T:null,S:null},U=Object.prototype.hasOwnProperty;function Y(B,K,ie){var J=ie.ref;return{$$typeof:e,type:B,key:K,ref:J!==void 0?J:null,props:ie}}function W(B,K){return Y(B.type,K,B.props)}function H(B){return typeof B=="object"&&B!==null&&B.$$typeof===e}function z(B){var K={"=":"=0",":":"=2"};return"$"+B.replace(/[=:]/g,function(ie){return K[ie]})}var V=/\/+/g;function X(B,K){return typeof B=="object"&&B!==null&&B.key!=null?z(""+B.key):K.toString(36)}function Z(B){switch(B.status){case"fulfilled":return B.value;case"rejected":throw B.reason;default:switch(typeof B.status=="string"?B.then(P,P):(B.status="pending",B.then(function(K){B.status==="pending"&&(B.status="fulfilled",B.value=K)},function(K){B.status==="pending"&&(B.status="rejected",B.reason=K)})),B.status){case"fulfilled":return B.value;case"rejected":throw B.reason}}throw B}function q(B,K,ie,J,oe){var fe=typeof B;(fe==="undefined"||fe==="boolean")&&(B=null);var he=!1;if(B===null)he=!0;else switch(fe){case"bigint":case"string":case"number":he=!0;break;case"object":switch(B.$$typeof){case e:case t:he=!0;break;case h:return he=B._init,q(he(B._payload),K,ie,J,oe)}}if(he)return oe=oe(B),he=J===""?"."+X(B,0):J,M(oe)?(ie="",he!=null&&(ie=he.replace(V,"$&/")+"/"),q(oe,K,ie,"",function(xe){return xe})):oe!=null&&(H(oe)&&(oe=W(oe,ie+(oe.key==null||B&&B.key===oe.key?"":(""+oe.key).replace(V,"$&/")+"/")+he)),K.push(oe)),1;he=0;var ke=J===""?".":J+":";if(M(B))for(var re=0;re<B.length;re++)J=B[re],fe=ke+X(J,re),he+=q(J,K,ie,fe,oe);else if(re=x(B),typeof re=="function")for(B=re.call(B),re=0;!(J=B.next()).done;)J=J.value,fe=ke+X(J,re++),he+=q(J,K,ie,fe,oe);else if(fe==="object"){if(typeof B.then=="function")return q(Z(B),K,ie,J,oe);throw K=String(B),Error("Objects are not valid as a React child (found: "+(K==="[object Object]"?"object with keys {"+Object.keys(B).join(", ")+"}":K)+"). If you meant to render a collection of children, use an array instead.")}return he}function Q(B,K,ie){if(B==null)return B;var J=[],oe=0;return q(B,J,"","",function(fe){return K.call(ie,fe,oe++)}),J}function ne(B){if(B._status===-1){var K=B._result;K=K(),K.then(function(ie){(B._status===0||B._status===-1)&&(B._status=1,B._result=ie)},function(ie){(B._status===0||B._status===-1)&&(B._status=2,B._result=ie)}),B._status===-1&&(B._status=0,B._result=K)}if(B._status===1)return B._result.default;throw B._result}var ue=typeof reportError=="function"?reportError:function(B){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var K=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof B=="object"&&B!==null&&typeof B.message=="string"?String(B.message):String(B),error:B});if(!window.dispatchEvent(K))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",B);return}console.error(B)},se={map:Q,forEach:function(B,K,ie){Q(B,function(){K.apply(this,arguments)},ie)},count:function(B){var K=0;return Q(B,function(){K++}),K},toArray:function(B){return Q(B,function(K){return K})||[]},only:function(B){if(!H(B))throw Error("React.Children.only expected to receive a single React element child.");return B}};return at.Activity=p,at.Children=se,at.Component=T,at.Fragment=n,at.Profiler=i,at.PureComponent=j,at.StrictMode=r,at.Suspense=u,at.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=$,at.__COMPILER_RUNTIME={__proto__:null,c:function(B){return $.H.useMemoCache(B)}},at.cache=function(B){return function(){return B.apply(null,arguments)}},at.cacheSignal=function(){return null},at.cloneElement=function(B,K,ie){if(B==null)throw Error("The argument must be a React element, but you passed "+B+".");var J=S({},B.props),oe=B.key;if(K!=null)for(fe in K.key!==void 0&&(oe=""+K.key),K)!U.call(K,fe)||fe==="key"||fe==="__self"||fe==="__source"||fe==="ref"&&K.ref===void 0||(J[fe]=K[fe]);var fe=arguments.length-2;if(fe===1)J.children=ie;else if(1<fe){for(var he=Array(fe),ke=0;ke<fe;ke++)he[ke]=arguments[ke+2];J.children=he}return Y(B.type,oe,J)},at.createContext=function(B){return B={$$typeof:o,_currentValue:B,_currentValue2:B,_threadCount:0,Provider:null,Consumer:null},B.Provider=B,B.Consumer={$$typeof:a,_context:B},B},at.createElement=function(B,K,ie){var J,oe={},fe=null;if(K!=null)for(J in K.key!==void 0&&(fe=""+K.key),K)U.call(K,J)&&J!=="key"&&J!=="__self"&&J!=="__source"&&(oe[J]=K[J]);var he=arguments.length-2;if(he===1)oe.children=ie;else if(1<he){for(var ke=Array(he),re=0;re<he;re++)ke[re]=arguments[re+2];oe.children=ke}if(B&&B.defaultProps)for(J in he=B.defaultProps,he)oe[J]===void 0&&(oe[J]=he[J]);return Y(B,fe,oe)},at.createRef=function(){return{current:null}},at.forwardRef=function(B){return{$$typeof:l,render:B}},at.isValidElement=H,at.lazy=function(B){return{$$typeof:h,_payload:{_status:-1,_result:B},_init:ne}},at.memo=function(B,K){return{$$typeof:d,type:B,compare:K===void 0?null:K}},at.startTransition=function(B){var K=$.T,ie={};$.T=ie;try{var J=B(),oe=$.S;oe!==null&&oe(ie,J),typeof J=="object"&&J!==null&&typeof J.then=="function"&&J.then(P,ue)}catch(fe){ue(fe)}finally{K!==null&&ie.types!==null&&(K.types=ie.types),$.T=K}},at.unstable_useCacheRefresh=function(){return $.H.useCacheRefresh()},at.use=function(B){return $.H.use(B)},at.useActionState=function(B,K,ie){return $.H.useActionState(B,K,ie)},at.useCallback=function(B,K){return $.H.useCallback(B,K)},at.useContext=function(B){return $.H.useContext(B)},at.useDebugValue=function(){},at.useDeferredValue=function(B,K){return $.H.useDeferredValue(B,K)},at.useEffect=function(B,K){return $.H.useEffect(B,K)},at.useEffectEvent=function(B){return $.H.useEffectEvent(B)},at.useId=function(){return $.H.useId()},at.useImperativeHandle=function(B,K,ie){return $.H.useImperativeHandle(B,K,ie)},at.useInsertionEffect=function(B,K){return $.H.useInsertionEffect(B,K)},at.useLayoutEffect=function(B,K){return $.H.useLayoutEffect(B,K)},at.useMemo=function(B,K){return $.H.useMemo(B,K)},at.useOptimistic=function(B,K){return $.H.useOptimistic(B,K)},at.useReducer=function(B,K,ie){return $.H.useReducer(B,K,ie)},at.useRef=function(B){return $.H.useRef(B)},at.useState=function(B){return $.H.useState(B)},at.useSyncExternalStore=function(B,K,ie){return $.H.useSyncExternalStore(B,K,ie)},at.useTransition=function(){return $.H.useTransition()},at.version="19.2.1",at}var sC;function af(){return sC||(sC=1,bw.exports=BH()),bw.exports}var w=af();const Kt=hi(w),zH=i2({__proto__:null,default:Kt},[w]);var yw={exports:{}},Oh={},vw={exports:{}},xw={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var lC;function UH(){return lC||(lC=1,(function(e){function t(q,Q){var ne=q.length;q.push(Q);e:for(;0<ne;){var ue=ne-1>>>1,se=q[ue];if(0<i(se,Q))q[ue]=Q,q[ne]=se,ne=ue;else break e}}function n(q){return q.length===0?null:q[0]}function r(q){if(q.length===0)return null;var Q=q[0],ne=q.pop();if(ne!==Q){q[0]=ne;e:for(var ue=0,se=q.length,B=se>>>1;ue<B;){var K=2*(ue+1)-1,ie=q[K],J=K+1,oe=q[J];if(0>i(ie,ne))J<se&&0>i(oe,ie)?(q[ue]=oe,q[J]=ne,ue=J):(q[ue]=ie,q[K]=ne,ue=K);else if(J<se&&0>i(oe,ne))q[ue]=oe,q[J]=ne,ue=J;else break e}}return Q}function i(q,Q){var ne=q.sortIndex-Q.sortIndex;return ne!==0?ne:q.id-Q.id}if(e.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var a=performance;e.unstable_now=function(){return a.now()}}else{var o=Date,l=o.now();e.unstable_now=function(){return o.now()-l}}var u=[],d=[],h=1,p=null,b=3,x=!1,k=!1,S=!1,_=!1,T=typeof setTimeout=="function"?setTimeout:null,N=typeof clearTimeout=="function"?clearTimeout:null,j=typeof setImmediate<"u"?setImmediate:null;function C(q){for(var Q=n(d);Q!==null;){if(Q.callback===null)r(d);else if(Q.startTime<=q)r(d),Q.sortIndex=Q.expirationTime,t(u,Q);else break;Q=n(d)}}function M(q){if(S=!1,C(q),!k)if(n(u)!==null)k=!0,P||(P=!0,z());else{var Q=n(d);Q!==null&&Z(M,Q.startTime-q)}}var P=!1,$=-1,U=5,Y=-1;function W(){return _?!0:!(e.unstable_now()-Y<U)}function H(){if(_=!1,P){var q=e.unstable_now();Y=q;var Q=!0;try{e:{k=!1,S&&(S=!1,N($),$=-1),x=!0;var ne=b;try{t:{for(C(q),p=n(u);p!==null&&!(p.expirationTime>q&&W());){var ue=p.callback;if(typeof ue=="function"){p.callback=null,b=p.priorityLevel;var se=ue(p.expirationTime<=q);if(q=e.unstable_now(),typeof se=="function"){p.callback=se,C(q),Q=!0;break t}p===n(u)&&r(u),C(q)}else r(u);p=n(u)}if(p!==null)Q=!0;else{var B=n(d);B!==null&&Z(M,B.startTime-q),Q=!1}}break e}finally{p=null,b=ne,x=!1}Q=void 0}}finally{Q?z():P=!1}}}var z;if(typeof j=="function")z=function(){j(H)};else if(typeof MessageChannel<"u"){var V=new MessageChannel,X=V.port2;V.port1.onmessage=H,z=function(){X.postMessage(null)}}else z=function(){T(H,0)};function Z(q,Q){$=T(function(){q(e.unstable_now())},Q)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(q){q.callback=null},e.unstable_forceFrameRate=function(q){0>q||125<q?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):U=0<q?Math.floor(1e3/q):5},e.unstable_getCurrentPriorityLevel=function(){return b},e.unstable_next=function(q){switch(b){case 1:case 2:case 3:var Q=3;break;default:Q=b}var ne=b;b=Q;try{return q()}finally{b=ne}},e.unstable_requestPaint=function(){_=!0},e.unstable_runWithPriority=function(q,Q){switch(q){case 1:case 2:case 3:case 4:case 5:break;default:q=3}var ne=b;b=q;try{return Q()}finally{b=ne}},e.unstable_scheduleCallback=function(q,Q,ne){var ue=e.unstable_now();switch(typeof ne=="object"&&ne!==null?(ne=ne.delay,ne=typeof ne=="number"&&0<ne?ue+ne:ue):ne=ue,q){case 1:var se=-1;break;case 2:se=250;break;case 5:se=1073741823;break;case 4:se=1e4;break;default:se=5e3}return se=ne+se,q={id:h++,callback:Q,priorityLevel:q,startTime:ne,expirationTime:se,sortIndex:-1},ne>ue?(q.sortIndex=ne,t(d,q),n(u)===null&&q===n(d)&&(S?(N($),$=-1):S=!0,Z(M,ne-ue))):(q.sortIndex=se,t(u,q),k||x||(k=!0,P||(P=!0,z()))),q},e.unstable_shouldYield=W,e.unstable_wrapCallback=function(q){var Q=b;return function(){var ne=b;b=Q;try{return q.apply(this,arguments)}finally{b=ne}}}})(xw)),xw}var cC;function FH(){return cC||(cC=1,vw.exports=UH()),vw.exports}var _w={exports:{}},Tr={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var uC;function HH(){if(uC)return Tr;uC=1;var e=af();function t(u){var d="https://react.dev/errors/"+u;if(1<arguments.length){d+="?args[]="+encodeURIComponent(arguments[1]);for(var h=2;h<arguments.length;h++)d+="&args[]="+encodeURIComponent(arguments[h])}return"Minified React error #"+u+"; visit "+d+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var r={d:{f:n,r:function(){throw Error(t(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},i=Symbol.for("react.portal");function a(u,d,h){var p=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:i,key:p==null?null:""+p,children:u,containerInfo:d,implementation:h}}var o=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function l(u,d){if(u==="font")return"";if(typeof d=="string")return d==="use-credentials"?d:""}return Tr.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,Tr.createPortal=function(u,d){var h=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!d||d.nodeType!==1&&d.nodeType!==9&&d.nodeType!==11)throw Error(t(299));return a(u,d,null,h)},Tr.flushSync=function(u){var d=o.T,h=r.p;try{if(o.T=null,r.p=2,u)return u()}finally{o.T=d,r.p=h,r.d.f()}},Tr.preconnect=function(u,d){typeof u=="string"&&(d?(d=d.crossOrigin,d=typeof d=="string"?d==="use-credentials"?d:"":void 0):d=null,r.d.C(u,d))},Tr.prefetchDNS=function(u){typeof u=="string"&&r.d.D(u)},Tr.preinit=function(u,d){if(typeof u=="string"&&d&&typeof d.as=="string"){var h=d.as,p=l(h,d.crossOrigin),b=typeof d.integrity=="string"?d.integrity:void 0,x=typeof d.fetchPriority=="string"?d.fetchPriority:void 0;h==="style"?r.d.S(u,typeof d.precedence=="string"?d.precedence:void 0,{crossOrigin:p,integrity:b,fetchPriority:x}):h==="script"&&r.d.X(u,{crossOrigin:p,integrity:b,fetchPriority:x,nonce:typeof d.nonce=="string"?d.nonce:void 0})}},Tr.preinitModule=function(u,d){if(typeof u=="string")if(typeof d=="object"&&d!==null){if(d.as==null||d.as==="script"){var h=l(d.as,d.crossOrigin);r.d.M(u,{crossOrigin:h,integrity:typeof d.integrity=="string"?d.integrity:void 0,nonce:typeof d.nonce=="string"?d.nonce:void 0})}}else d==null&&r.d.M(u)},Tr.preload=function(u,d){if(typeof u=="string"&&typeof d=="object"&&d!==null&&typeof d.as=="string"){var h=d.as,p=l(h,d.crossOrigin);r.d.L(u,h,{crossOrigin:p,integrity:typeof d.integrity=="string"?d.integrity:void 0,nonce:typeof d.nonce=="string"?d.nonce:void 0,type:typeof d.type=="string"?d.type:void 0,fetchPriority:typeof d.fetchPriority=="string"?d.fetchPriority:void 0,referrerPolicy:typeof d.referrerPolicy=="string"?d.referrerPolicy:void 0,imageSrcSet:typeof d.imageSrcSet=="string"?d.imageSrcSet:void 0,imageSizes:typeof d.imageSizes=="string"?d.imageSizes:void 0,media:typeof d.media=="string"?d.media:void 0})}},Tr.preloadModule=function(u,d){if(typeof u=="string")if(d){var h=l(d.as,d.crossOrigin);r.d.m(u,{as:typeof d.as=="string"&&d.as!=="script"?d.as:void 0,crossOrigin:h,integrity:typeof d.integrity=="string"?d.integrity:void 0})}else r.d.m(u)},Tr.requestFormReset=function(u){r.d.r(u)},Tr.unstable_batchedUpdates=function(u,d){return u(d)},Tr.useFormState=function(u,d,h){return o.H.useFormState(u,d,h)},Tr.useFormStatus=function(){return o.H.useHostTransitionStatus()},Tr.version="19.2.1",Tr}var dC;function o$(){if(dC)return _w.exports;dC=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),_w.exports=HH(),_w.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var fC;function GH(){if(fC)return Oh;fC=1;var e=FH(),t=af(),n=o$();function r(s){var c="https://react.dev/errors/"+s;if(1<arguments.length){c+="?args[]="+encodeURIComponent(arguments[1]);for(var m=2;m<arguments.length;m++)c+="&args[]="+encodeURIComponent(arguments[m])}return"Minified React error #"+s+"; visit "+c+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11)}function a(s){var c=s,m=s;if(s.alternate)for(;c.return;)c=c.return;else{s=c;do c=s,(c.flags&4098)!==0&&(m=c.return),s=c.return;while(s)}return c.tag===3?m:null}function o(s){if(s.tag===13){var c=s.memoizedState;if(c===null&&(s=s.alternate,s!==null&&(c=s.memoizedState)),c!==null)return c.dehydrated}return null}function l(s){if(s.tag===31){var c=s.memoizedState;if(c===null&&(s=s.alternate,s!==null&&(c=s.memoizedState)),c!==null)return c.dehydrated}return null}function u(s){if(a(s)!==s)throw Error(r(188))}function d(s){var c=s.alternate;if(!c){if(c=a(s),c===null)throw Error(r(188));return c!==s?null:s}for(var m=s,v=c;;){var A=m.return;if(A===null)break;var O=A.alternate;if(O===null){if(v=A.return,v!==null){m=v;continue}break}if(A.child===O.child){for(O=A.child;O;){if(O===m)return u(A),s;if(O===v)return u(A),c;O=O.sibling}throw Error(r(188))}if(m.return!==v.return)m=A,v=O;else{for(var I=!1,G=A.child;G;){if(G===m){I=!0,m=A,v=O;break}if(G===v){I=!0,v=A,m=O;break}G=G.sibling}if(!I){for(G=O.child;G;){if(G===m){I=!0,m=O,v=A;break}if(G===v){I=!0,v=O,m=A;break}G=G.sibling}if(!I)throw Error(r(189))}}if(m.alternate!==v)throw Error(r(190))}if(m.tag!==3)throw Error(r(188));return m.stateNode.current===m?s:c}function h(s){var c=s.tag;if(c===5||c===26||c===27||c===6)return s;for(s=s.child;s!==null;){if(c=h(s),c!==null)return c;s=s.sibling}return null}var p=Object.assign,b=Symbol.for("react.element"),x=Symbol.for("react.transitional.element"),k=Symbol.for("react.portal"),S=Symbol.for("react.fragment"),_=Symbol.for("react.strict_mode"),T=Symbol.for("react.profiler"),N=Symbol.for("react.consumer"),j=Symbol.for("react.context"),C=Symbol.for("react.forward_ref"),M=Symbol.for("react.suspense"),P=Symbol.for("react.suspense_list"),$=Symbol.for("react.memo"),U=Symbol.for("react.lazy"),Y=Symbol.for("react.activity"),W=Symbol.for("react.memo_cache_sentinel"),H=Symbol.iterator;function z(s){return s===null||typeof s!="object"?null:(s=H&&s[H]||s["@@iterator"],typeof s=="function"?s:null)}var V=Symbol.for("react.client.reference");function X(s){if(s==null)return null;if(typeof s=="function")return s.$$typeof===V?null:s.displayName||s.name||null;if(typeof s=="string")return s;switch(s){case S:return"Fragment";case T:return"Profiler";case _:return"StrictMode";case M:return"Suspense";case P:return"SuspenseList";case Y:return"Activity"}if(typeof s=="object")switch(s.$$typeof){case k:return"Portal";case j:return s.displayName||"Context";case N:return(s._context.displayName||"Context")+".Consumer";case C:var c=s.render;return s=s.displayName,s||(s=c.displayName||c.name||"",s=s!==""?"ForwardRef("+s+")":"ForwardRef"),s;case $:return c=s.displayName||null,c!==null?c:X(s.type)||"Memo";case U:c=s._payload,s=s._init;try{return X(s(c))}catch{}}return null}var Z=Array.isArray,q=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Q=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ne={pending:!1,data:null,method:null,action:null},ue=[],se=-1;function B(s){return{current:s}}function K(s){0>se||(s.current=ue[se],ue[se]=null,se--)}function ie(s,c){se++,ue[se]=s.current,s.current=c}var J=B(null),oe=B(null),fe=B(null),he=B(null);function ke(s,c){switch(ie(fe,c),ie(oe,s),ie(J,null),c.nodeType){case 9:case 11:s=(s=c.documentElement)&&(s=s.namespaceURI)?TN(s):0;break;default:if(s=c.tagName,c=c.namespaceURI)c=TN(c),s=jN(c,s);else switch(s){case"svg":s=1;break;case"math":s=2;break;default:s=0}}K(J),ie(J,s)}function re(){K(J),K(oe),K(fe)}function xe(s){s.memoizedState!==null&&ie(he,s);var c=J.current,m=jN(c,s.type);c!==m&&(ie(oe,s),ie(J,m))}function Ne(s){oe.current===s&&(K(J),K(oe)),he.current===s&&(K(he),kh._currentValue=ne)}var ye,Ze;function qe(s){if(ye===void 0)try{throw Error()}catch(m){var c=m.stack.trim().match(/\n( *(at )?)/);ye=c&&c[1]||"",Ze=-1<m.stack.indexOf(`
    at`)?" (<anonymous>)":-1<m.stack.indexOf("@")?"@unknown:0:0":""}return`
`+ye+s+Ze}var Me=!1;function Ee(s,c){if(!s||Me)return"";Me=!0;var m=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var v={DetermineComponentFrameRoot:function(){try{if(c){var je=function(){throw Error()};if(Object.defineProperty(je.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(je,[])}catch(ve){var be=ve}Reflect.construct(s,[],je)}else{try{je.call()}catch(ve){be=ve}s.call(je.prototype)}}else{try{throw Error()}catch(ve){be=ve}(je=s())&&typeof je.catch=="function"&&je.catch(function(){})}}catch(ve){if(ve&&be&&typeof ve.stack=="string")return[ve.stack,be.stack]}return[null,null]}};v.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var A=Object.getOwnPropertyDescriptor(v.DetermineComponentFrameRoot,"name");A&&A.configurable&&Object.defineProperty(v.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var O=v.DetermineComponentFrameRoot(),I=O[0],G=O[1];if(I&&G){var te=I.split(`
`),pe=G.split(`
`);for(A=v=0;v<te.length&&!te[v].includes("DetermineComponentFrameRoot");)v++;for(;A<pe.length&&!pe[A].includes("DetermineComponentFrameRoot");)A++;if(v===te.length||A===pe.length)for(v=te.length-1,A=pe.length-1;1<=v&&0<=A&&te[v]!==pe[A];)A--;for(;1<=v&&0<=A;v--,A--)if(te[v]!==pe[A]){if(v!==1||A!==1)do if(v--,A--,0>A||te[v]!==pe[A]){var Se=`
`+te[v].replace(" at new "," at ");return s.displayName&&Se.includes("<anonymous>")&&(Se=Se.replace("<anonymous>",s.displayName)),Se}while(1<=v&&0<=A);break}}}finally{Me=!1,Error.prepareStackTrace=m}return(m=s?s.displayName||s.name:"")?qe(m):""}function Oe(s,c){switch(s.tag){case 26:case 27:case 5:return qe(s.type);case 16:return qe("Lazy");case 13:return s.child!==c&&c!==null?qe("Suspense Fallback"):qe("Suspense");case 19:return qe("SuspenseList");case 0:case 15:return Ee(s.type,!1);case 11:return Ee(s.type.render,!1);case 1:return Ee(s.type,!0);case 31:return qe("Activity");default:return""}}function Ie(s){try{var c="",m=null;do c+=Oe(s,m),m=s,s=s.return;while(s);return c}catch(v){return`
Error generating stack: `+v.message+`
`+v.stack}}var Qe=Object.prototype.hasOwnProperty,rt=e.unstable_scheduleCallback,Vt=e.unstable_cancelCallback,de=e.unstable_shouldYield,Ce=e.unstable_requestPaint,Be=e.unstable_now,ut=e.unstable_getCurrentPriorityLevel,Ot=e.unstable_ImmediatePriority,vt=e.unstable_UserBlockingPriority,Jn=e.unstable_NormalPriority,gi=e.unstable_LowPriority,bi=e.unstable_IdlePriority,Ls=e.log,Is=e.unstable_setDisableYieldValue,Gt=null,mn=null;function yi(s){if(typeof Ls=="function"&&Is(s),mn&&typeof mn.setStrictMode=="function")try{mn.setStrictMode(Gt,s)}catch{}}var Dr=Math.clz32?Math.clz32:wx,Hl=Math.log,_x=Math.LN2;function wx(s){return s>>>=0,s===0?32:31-(Hl(s)/_x|0)|0}var Gl=256,ql=262144,Yl=4194304;function Po(s){var c=s&42;if(c!==0)return c;switch(s&-s){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return s&261888;case 262144:case 524288:case 1048576:case 2097152:return s&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return s&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return s}}function _u(s,c,m){var v=s.pendingLanes;if(v===0)return 0;var A=0,O=s.suspendedLanes,I=s.pingedLanes;s=s.warmLanes;var G=v&134217727;return G!==0?(v=G&~O,v!==0?A=Po(v):(I&=G,I!==0?A=Po(I):m||(m=G&~s,m!==0&&(A=Po(m))))):(G=v&~O,G!==0?A=Po(G):I!==0?A=Po(I):m||(m=v&~s,m!==0&&(A=Po(m)))),A===0?0:c!==0&&c!==A&&(c&O)===0&&(O=A&-A,m=c&-c,O>=m||O===32&&(m&4194048)!==0)?c:A}function Kl(s,c){return(s.pendingLanes&~(s.suspendedLanes&~s.pingedLanes)&c)===0}function Sx(s,c){switch(s){case 1:case 2:case 4:case 8:case 64:return c+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return c+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Ip(){var s=Yl;return Yl<<=1,(Yl&62914560)===0&&(Yl=4194304),s}function Af(s){for(var c=[],m=0;31>m;m++)c.push(s);return c}function Ro(s,c){s.pendingLanes|=c,c!==268435456&&(s.suspendedLanes=0,s.pingedLanes=0,s.warmLanes=0)}function kx(s,c,m,v,A,O){var I=s.pendingLanes;s.pendingLanes=m,s.suspendedLanes=0,s.pingedLanes=0,s.warmLanes=0,s.expiredLanes&=m,s.entangledLanes&=m,s.errorRecoveryDisabledLanes&=m,s.shellSuspendCounter=0;var G=s.entanglements,te=s.expirationTimes,pe=s.hiddenUpdates;for(m=I&~m;0<m;){var Se=31-Dr(m),je=1<<Se;G[Se]=0,te[Se]=-1;var be=pe[Se];if(be!==null)for(pe[Se]=null,Se=0;Se<be.length;Se++){var ve=be[Se];ve!==null&&(ve.lane&=-536870913)}m&=~je}v!==0&&$p(s,v,0),O!==0&&A===0&&s.tag!==0&&(s.suspendedLanes|=O&~(I&~c))}function $p(s,c,m){s.pendingLanes|=c,s.suspendedLanes&=~c;var v=31-Dr(c);s.entangledLanes|=c,s.entanglements[v]=s.entanglements[v]|1073741824|m&261930}function Bp(s,c){var m=s.entangledLanes|=c;for(s=s.entanglements;m;){var v=31-Dr(m),A=1<<v;A&c|s[v]&c&&(s[v]|=c),m&=~A}}function zp(s,c){var m=c&-c;return m=(m&42)!==0?1:Yr(m),(m&(s.suspendedLanes|c))!==0?0:m}function Yr(s){switch(s){case 2:s=1;break;case 8:s=4;break;case 32:s=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:s=128;break;case 268435456:s=134217728;break;default:s=0}return s}function He(s){return s&=-s,2<s?8<s?(s&134217727)!==0?32:268435456:8:2}function Tf(){var s=Q.p;return s!==0?s:(s=window.event,s===void 0?32:XN(s.type))}function jf(s,c){var m=Q.p;try{return Q.p=s,c()}finally{Q.p=m}}var _a=Math.random().toString(36).slice(2),On="__reactFiber$"+_a,Qn="__reactProps$"+_a,Lo="__reactContainer$"+_a,Wa="__reactEvents$"+_a,Up="__reactListeners$"+_a,Ex="__reactHandles$"+_a,Fp="__reactResources$"+_a,Wl="__reactMarker$"+_a;function Of(s){delete s[On],delete s[Qn],delete s[Wa],delete s[Up],delete s[Ex]}function Io(s){var c=s[On];if(c)return c;for(var m=s.parentNode;m;){if(c=m[Lo]||m[On]){if(m=c.alternate,c.child!==null||m!==null&&m.child!==null)for(s=RN(s);s!==null;){if(m=s[On])return m;s=RN(s)}return c}s=m,m=s.parentNode}return null}function $s(s){if(s=s[On]||s[Lo]){var c=s.tag;if(c===5||c===6||c===13||c===31||c===26||c===27||c===3)return s}return null}function Va(s){var c=s.tag;if(c===5||c===26||c===27||c===6)return s.stateNode;throw Error(r(33))}function Bs(s){var c=s[Fp];return c||(c=s[Fp]={hoistableStyles:new Map,hoistableScripts:new Map}),c}function Nn(s){s[Wl]=!0}var Hp=new Set,Gp={};function $o(s,c){Za(s,c),Za(s+"Capture",c)}function Za(s,c){for(Gp[s]=c,s=0;s<c.length;s++)Hp.add(c[s])}var Vl=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Nf={},Cf={};function Zl(s){return Qe.call(Cf,s)?!0:Qe.call(Nf,s)?!1:Vl.test(s)?Cf[s]=!0:(Nf[s]=!0,!1)}function dt(s,c,m){if(Zl(c))if(m===null)s.removeAttribute(c);else{switch(typeof m){case"undefined":case"function":case"symbol":s.removeAttribute(c);return;case"boolean":var v=c.toLowerCase().slice(0,5);if(v!=="data-"&&v!=="aria-"){s.removeAttribute(c);return}}s.setAttribute(c,""+m)}}function Lt(s,c,m){if(m===null)s.removeAttribute(c);else{switch(typeof m){case"undefined":case"function":case"symbol":case"boolean":s.removeAttribute(c);return}s.setAttribute(c,""+m)}}function Kr(s,c,m,v){if(v===null)s.removeAttribute(m);else{switch(typeof v){case"undefined":case"function":case"symbol":case"boolean":s.removeAttribute(m);return}s.setAttributeNS(c,m,""+v)}}function Un(s){switch(typeof s){case"bigint":case"boolean":case"number":case"string":case"undefined":return s;case"object":return s;default:return""}}function Bo(s){var c=s.type;return(s=s.nodeName)&&s.toLowerCase()==="input"&&(c==="checkbox"||c==="radio")}function Mf(s,c,m){var v=Object.getOwnPropertyDescriptor(s.constructor.prototype,c);if(!s.hasOwnProperty(c)&&typeof v<"u"&&typeof v.get=="function"&&typeof v.set=="function"){var A=v.get,O=v.set;return Object.defineProperty(s,c,{configurable:!0,get:function(){return A.call(this)},set:function(I){m=""+I,O.call(this,I)}}),Object.defineProperty(s,c,{enumerable:v.enumerable}),{getValue:function(){return m},setValue:function(I){m=""+I},stopTracking:function(){s._valueTracker=null,delete s[c]}}}}function it(s){if(!s._valueTracker){var c=Bo(s)?"checked":"value";s._valueTracker=Mf(s,c,""+s[c])}}function en(s){if(!s)return!1;var c=s._valueTracker;if(!c)return!0;var m=c.getValue(),v="";return s&&(v=Bo(s)?s.checked?"true":"false":s.value),s=v,s!==m?(c.setValue(s),!0):!1}function zs(s){if(s=s||(typeof document<"u"?document:void 0),typeof s>"u")return null;try{return s.activeElement||s.body}catch{return s.body}}var wu=/[\n"\\]/g;function Zt(s){return s.replace(wu,function(c){return"\\"+c.charCodeAt(0).toString(16)+" "})}function Df(s,c,m,v,A,O,I,G){s.name="",I!=null&&typeof I!="function"&&typeof I!="symbol"&&typeof I!="boolean"?s.type=I:s.removeAttribute("type"),c!=null?I==="number"?(c===0&&s.value===""||s.value!=c)&&(s.value=""+Un(c)):s.value!==""+Un(c)&&(s.value=""+Un(c)):I!=="submit"&&I!=="reset"||s.removeAttribute("value"),c!=null?wa(s,I,Un(c)):m!=null?wa(s,I,Un(m)):v!=null&&s.removeAttribute("value"),A==null&&O!=null&&(s.defaultChecked=!!O),A!=null&&(s.checked=A&&typeof A!="function"&&typeof A!="symbol"),G!=null&&typeof G!="function"&&typeof G!="symbol"&&typeof G!="boolean"?s.name=""+Un(G):s.removeAttribute("name")}function Xl(s,c,m,v,A,O,I,G){if(O!=null&&typeof O!="function"&&typeof O!="symbol"&&typeof O!="boolean"&&(s.type=O),c!=null||m!=null){if(!(O!=="submit"&&O!=="reset"||c!=null)){it(s);return}m=m!=null?""+Un(m):"",c=c!=null?""+Un(c):m,G||c===s.value||(s.value=c),s.defaultValue=c}v=v??A,v=typeof v!="function"&&typeof v!="symbol"&&!!v,s.checked=G?s.checked:!!v,s.defaultChecked=!!v,I!=null&&typeof I!="function"&&typeof I!="symbol"&&typeof I!="boolean"&&(s.name=I),it(s)}function wa(s,c,m){c==="number"&&zs(s.ownerDocument)===s||s.defaultValue===""+m||(s.defaultValue=""+m)}function zt(s,c,m,v){if(s=s.options,c){c={};for(var A=0;A<m.length;A++)c["$"+m[A]]=!0;for(m=0;m<s.length;m++)A=c.hasOwnProperty("$"+s[m].value),s[m].selected!==A&&(s[m].selected=A),A&&v&&(s[m].defaultSelected=!0)}else{for(m=""+Un(m),c=null,A=0;A<s.length;A++){if(s[A].value===m){s[A].selected=!0,v&&(s[A].defaultSelected=!0);return}c!==null||s[A].disabled||(c=s[A])}c!==null&&(c.selected=!0)}}function Xa(s,c,m){if(c!=null&&(c=""+Un(c),c!==s.value&&(s.value=c),m==null)){s.defaultValue!==c&&(s.defaultValue=c);return}s.defaultValue=m!=null?""+Un(m):""}function Us(s,c,m,v){if(c==null){if(v!=null){if(m!=null)throw Error(r(92));if(Z(v)){if(1<v.length)throw Error(r(93));v=v[0]}m=v}m==null&&(m=""),c=m}m=Un(c),s.defaultValue=m,v=s.textContent,v===m&&v!==""&&v!==null&&(s.value=v),it(s)}function Yi(s,c){if(c){var m=s.firstChild;if(m&&m===s.lastChild&&m.nodeType===3){m.nodeValue=c;return}}s.textContent=c}var Pf=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Fs(s,c,m){var v=c.indexOf("--")===0;m==null||typeof m=="boolean"||m===""?v?s.setProperty(c,""):c==="float"?s.cssFloat="":s[c]="":v?s.setProperty(c,m):typeof m!="number"||m===0||Pf.has(c)?c==="float"?s.cssFloat=m:s[c]=(""+m).trim():s[c]=m+"px"}function Su(s,c,m){if(c!=null&&typeof c!="object")throw Error(r(62));if(s=s.style,m!=null){for(var v in m)!m.hasOwnProperty(v)||c!=null&&c.hasOwnProperty(v)||(v.indexOf("--")===0?s.setProperty(v,""):v==="float"?s.cssFloat="":s[v]="");for(var A in c)v=c[A],c.hasOwnProperty(A)&&m[A]!==v&&Fs(s,A,v)}else for(var O in c)c.hasOwnProperty(O)&&Fs(s,O,c[O])}function Jl(s){if(s.indexOf("-")===-1)return!1;switch(s){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ku=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Rf=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Hs(s){return Rf.test(""+s)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":s}function Wr(){}var Eu=null;function Ql(s){return s=s.target||s.srcElement||window,s.correspondingUseElement&&(s=s.correspondingUseElement),s.nodeType===3?s.parentNode:s}var Gs=null,nt=null;function vi(s){var c=$s(s);if(c&&(s=c.stateNode)){var m=s[Qn]||null;e:switch(s=c.stateNode,c.type){case"input":if(Df(s,m.value,m.defaultValue,m.defaultValue,m.checked,m.defaultChecked,m.type,m.name),c=m.name,m.type==="radio"&&c!=null){for(m=s;m.parentNode;)m=m.parentNode;for(m=m.querySelectorAll('input[name="'+Zt(""+c)+'"][type="radio"]'),c=0;c<m.length;c++){var v=m[c];if(v!==s&&v.form===s.form){var A=v[Qn]||null;if(!A)throw Error(r(90));Df(v,A.value,A.defaultValue,A.defaultValue,A.checked,A.defaultChecked,A.type,A.name)}}for(c=0;c<m.length;c++)v=m[c],v.form===s.form&&en(v)}break e;case"textarea":Xa(s,m.value,m.defaultValue);break e;case"select":c=m.value,c!=null&&zt(s,!!m.multiple,c,!1)}}}var Nt=!1;function Lf(s,c,m){if(Nt)return s(c,m);Nt=!0;try{var v=s(c);return v}finally{if(Nt=!1,(Gs!==null||nt!==null)&&(zg(),Gs&&(c=Gs,s=nt,nt=Gs=null,vi(c),s)))for(c=0;c<s.length;c++)vi(s[c])}}function zo(s,c){var m=s.stateNode;if(m===null)return null;var v=m[Qn]||null;if(v===null)return null;m=v[c];e:switch(c){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(v=!v.disabled)||(s=s.type,v=!(s==="button"||s==="input"||s==="select"||s==="textarea")),s=!v;break e;default:s=!1}if(s)return null;if(m&&typeof m!="function")throw Error(r(231,c,typeof m));return m}var xi=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),ec=!1;if(xi)try{var _i={};Object.defineProperty(_i,"passive",{get:function(){ec=!0}}),window.addEventListener("test",_i,_i),window.removeEventListener("test",_i,_i)}catch{ec=!1}var Ki=null,Uo=null,pn=null;function Ja(){if(pn)return pn;var s,c=Uo,m=c.length,v,A="value"in Ki?Ki.value:Ki.textContent,O=A.length;for(s=0;s<m&&c[s]===A[s];s++);var I=m-s;for(v=1;v<=I&&c[m-v]===A[O-v];v++);return pn=A.slice(s,1<v?1-v:void 0)}function tc(s){var c=s.keyCode;return"charCode"in s?(s=s.charCode,s===0&&c===13&&(s=13)):s=c,s===10&&(s=13),32<=s||s===13?s:0}function nc(){return!0}function qp(){return!1}function fr(s){function c(m,v,A,O,I){this._reactName=m,this._targetInst=A,this.type=v,this.nativeEvent=O,this.target=I,this.currentTarget=null;for(var G in s)s.hasOwnProperty(G)&&(m=s[G],this[G]=m?m(O):O[G]);return this.isDefaultPrevented=(O.defaultPrevented!=null?O.defaultPrevented:O.returnValue===!1)?nc:qp,this.isPropagationStopped=qp,this}return p(c.prototype,{preventDefault:function(){this.defaultPrevented=!0;var m=this.nativeEvent;m&&(m.preventDefault?m.preventDefault():typeof m.returnValue!="unknown"&&(m.returnValue=!1),this.isDefaultPrevented=nc)},stopPropagation:function(){var m=this.nativeEvent;m&&(m.stopPropagation?m.stopPropagation():typeof m.cancelBubble!="unknown"&&(m.cancelBubble=!0),this.isPropagationStopped=nc)},persist:function(){},isPersistent:nc}),c}var Sa={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(s){return s.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Au=fr(Sa),qs=p({},Sa,{view:0,detail:0}),gt=fr(qs),If,Pr,ka,rc=p({},qs,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Hf,button:0,buttons:0,relatedTarget:function(s){return s.relatedTarget===void 0?s.fromElement===s.srcElement?s.toElement:s.fromElement:s.relatedTarget},movementX:function(s){return"movementX"in s?s.movementX:(s!==ka&&(ka&&s.type==="mousemove"?(If=s.screenX-ka.screenX,Pr=s.screenY-ka.screenY):Pr=If=0,ka=s),If)},movementY:function(s){return"movementY"in s?s.movementY:Pr}}),Yp=fr(rc),$f=p({},rc,{dataTransfer:0}),Ax=fr($f),Kp=p({},qs,{relatedTarget:0}),Bf=fr(Kp),Tx=p({},Sa,{animationName:0,elapsedTime:0,pseudoElement:0}),zf=fr(Tx),jx=p({},Sa,{clipboardData:function(s){return"clipboardData"in s?s.clipboardData:window.clipboardData}}),Wi=fr(jx),Ox=p({},Sa,{data:0}),Uf=fr(Ox),Qa={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Wp={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Vp={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Ff(s){var c=this.nativeEvent;return c.getModifierState?c.getModifierState(s):(s=Vp[s])?!!c[s]:!1}function Hf(){return Ff}var Zp=p({},qs,{key:function(s){if(s.key){var c=Qa[s.key]||s.key;if(c!=="Unidentified")return c}return s.type==="keypress"?(s=tc(s),s===13?"Enter":String.fromCharCode(s)):s.type==="keydown"||s.type==="keyup"?Wp[s.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Hf,charCode:function(s){return s.type==="keypress"?tc(s):0},keyCode:function(s){return s.type==="keydown"||s.type==="keyup"?s.keyCode:0},which:function(s){return s.type==="keypress"?tc(s):s.type==="keydown"||s.type==="keyup"?s.keyCode:0}}),Xp=fr(Zp),Nx=p({},rc,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Jp=fr(Nx),Gf=p({},qs,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Hf}),Cx=fr(Gf),Qp=p({},Sa,{propertyName:0,elapsedTime:0,pseudoElement:0}),eg=fr(Qp),Tu=p({},rc,{deltaX:function(s){return"deltaX"in s?s.deltaX:"wheelDeltaX"in s?-s.wheelDeltaX:0},deltaY:function(s){return"deltaY"in s?s.deltaY:"wheelDeltaY"in s?-s.wheelDeltaY:"wheelDelta"in s?-s.wheelDelta:0},deltaZ:0,deltaMode:0}),Fo=fr(Tu),Mx=p({},Sa,{newState:0,oldState:0}),ic=fr(Mx),Vr=[9,13,27,32],ju=xi&&"CompositionEvent"in window,Ys=null;xi&&"documentMode"in document&&(Ys=document.documentMode);var Dx=xi&&"TextEvent"in window&&!Ys,Ou=xi&&(!ju||Ys&&8<Ys&&11>=Ys),Nu=" ",tg=!1;function ng(s,c){switch(s){case"keyup":return Vr.indexOf(c.keyCode)!==-1;case"keydown":return c.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function qf(s){return s=s.detail,typeof s=="object"&&"data"in s?s.data:null}var Ks=!1;function wi(s,c){switch(s){case"compositionend":return qf(c);case"keypress":return c.which!==32?null:(tg=!0,Nu);case"textInput":return s=c.data,s===Nu&&tg?null:s;default:return null}}function Ws(s,c){if(Ks)return s==="compositionend"||!ju&&ng(s,c)?(s=Ja(),pn=Uo=Ki=null,Ks=!1,s):null;switch(s){case"paste":return null;case"keypress":if(!(c.ctrlKey||c.altKey||c.metaKey)||c.ctrlKey&&c.altKey){if(c.char&&1<c.char.length)return c.char;if(c.which)return String.fromCharCode(c.which)}return null;case"compositionend":return Ou&&c.locale!=="ko"?null:c.data;default:return null}}var Px={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Vi(s){var c=s&&s.nodeName&&s.nodeName.toLowerCase();return c==="input"?!!Px[s.type]:c==="textarea"}function rg(s,c,m,v){Gs?nt?nt.push(v):nt=[v]:Gs=v,c=Kg(c,"onChange"),0<c.length&&(m=new Au("onChange","change",null,m,v),s.push({event:m,listeners:c}))}var Zi=null,ac=null;function oc(s){_N(s,0)}function sc(s){var c=Va(s);if(en(c))return s}function lc(s,c){if(s==="change")return c}var ig=!1;if(xi){var Xi;if(xi){var Vs="oninput"in document;if(!Vs){var ag=document.createElement("div");ag.setAttribute("oninput","return;"),Vs=typeof ag.oninput=="function"}Xi=Vs}else Xi=!1;ig=Xi&&(!document.documentMode||9<document.documentMode)}function Cu(){Zi&&(Zi.detachEvent("onpropertychange",og),ac=Zi=null)}function og(s){if(s.propertyName==="value"&&sc(ac)){var c=[];rg(c,ac,s,Ql(s)),Lf(oc,c)}}function Ea(s,c,m){s==="focusin"?(Cu(),Zi=c,ac=m,Zi.attachEvent("onpropertychange",og)):s==="focusout"&&Cu()}function Rx(s){if(s==="selectionchange"||s==="keyup"||s==="keydown")return sc(ac)}function Zs(s,c){if(s==="click")return sc(c)}function Lx(s,c){if(s==="input"||s==="change")return sc(c)}function Aa(s,c){return s===c&&(s!==0||1/s===1/c)||s!==s&&c!==c}var er=typeof Object.is=="function"?Object.is:Aa;function Xs(s,c){if(er(s,c))return!0;if(typeof s!="object"||s===null||typeof c!="object"||c===null)return!1;var m=Object.keys(s),v=Object.keys(c);if(m.length!==v.length)return!1;for(v=0;v<m.length;v++){var A=m[v];if(!Qe.call(c,A)||!er(s[A],c[A]))return!1}return!0}function Mu(s){for(;s&&s.firstChild;)s=s.firstChild;return s}function cc(s,c){var m=Mu(s);s=0;for(var v;m;){if(m.nodeType===3){if(v=s+m.textContent.length,s<=c&&v>=c)return{node:m,offset:c-s};s=v}e:{for(;m;){if(m.nextSibling){m=m.nextSibling;break e}m=m.parentNode}m=void 0}m=Mu(m)}}function Du(s,c){return s&&c?s===c?!0:s&&s.nodeType===3?!1:c&&c.nodeType===3?Du(s,c.parentNode):"contains"in s?s.contains(c):s.compareDocumentPosition?!!(s.compareDocumentPosition(c)&16):!1:!1}function uc(s){s=s!=null&&s.ownerDocument!=null&&s.ownerDocument.defaultView!=null?s.ownerDocument.defaultView:window;for(var c=zs(s.document);c instanceof s.HTMLIFrameElement;){try{var m=typeof c.contentWindow.location.href=="string"}catch{m=!1}if(m)s=c.contentWindow;else break;c=zs(s.document)}return c}function eo(s){var c=s&&s.nodeName&&s.nodeName.toLowerCase();return c&&(c==="input"&&(s.type==="text"||s.type==="search"||s.type==="tel"||s.type==="url"||s.type==="password")||c==="textarea"||s.contentEditable==="true")}var Pu=xi&&"documentMode"in document&&11>=document.documentMode,to=null,Ru=null,dc=null,Js=!1;function sg(s,c,m){var v=m.window===m?m.document:m.nodeType===9?m:m.ownerDocument;Js||to==null||to!==zs(v)||(v=to,"selectionStart"in v&&eo(v)?v={start:v.selectionStart,end:v.selectionEnd}:(v=(v.ownerDocument&&v.ownerDocument.defaultView||window).getSelection(),v={anchorNode:v.anchorNode,anchorOffset:v.anchorOffset,focusNode:v.focusNode,focusOffset:v.focusOffset}),dc&&Xs(dc,v)||(dc=v,v=Kg(Ru,"onSelect"),0<v.length&&(c=new Au("onSelect","select",null,c,m),s.push({event:c,listeners:v}),c.target=to)))}function no(s,c){var m={};return m[s.toLowerCase()]=c.toLowerCase(),m["Webkit"+s]="webkit"+c,m["Moz"+s]="moz"+c,m}var Qs={animationend:no("Animation","AnimationEnd"),animationiteration:no("Animation","AnimationIteration"),animationstart:no("Animation","AnimationStart"),transitionrun:no("Transition","TransitionRun"),transitionstart:no("Transition","TransitionStart"),transitioncancel:no("Transition","TransitionCancel"),transitionend:no("Transition","TransitionEnd")},Lu={},lg={};xi&&(lg=document.createElement("div").style,"AnimationEvent"in window||(delete Qs.animationend.animation,delete Qs.animationiteration.animation,delete Qs.animationstart.animation),"TransitionEvent"in window||delete Qs.transitionend.transition);function tr(s){if(Lu[s])return Lu[s];if(!Qs[s])return s;var c=Qs[s],m;for(m in c)if(c.hasOwnProperty(m)&&m in lg)return Lu[s]=c[m];return s}var fc=tr("animationend"),cg=tr("animationiteration"),hc=tr("animationstart"),Ix=tr("transitionrun"),ug=tr("transitionstart"),$x=tr("transitioncancel"),el=tr("transitionend"),dg=new Map,ro="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");ro.push("scrollEnd");function Zr(s,c){dg.set(s,c),$o(c,[s])}var mc=typeof reportError=="function"?reportError:function(s){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var c=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof s=="object"&&s!==null&&typeof s.message=="string"?String(s.message):String(s),error:s});if(!window.dispatchEvent(c))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",s);return}console.error(s)},Xr=[],Er=0,Iu=0;function pc(){for(var s=Er,c=Iu=Er=0;c<s;){var m=Xr[c];Xr[c++]=null;var v=Xr[c];Xr[c++]=null;var A=Xr[c];Xr[c++]=null;var O=Xr[c];if(Xr[c++]=null,v!==null&&A!==null){var I=v.pending;I===null?A.next=A:(A.next=I.next,I.next=A),v.pending=A}O!==0&&tl(m,A,O)}}function io(s,c,m,v){Xr[Er++]=s,Xr[Er++]=c,Xr[Er++]=m,Xr[Er++]=v,Iu|=v,s.lanes|=v,s=s.alternate,s!==null&&(s.lanes|=v)}function Yf(s,c,m,v){return io(s,c,m,v),gc(s)}function Ji(s,c){return io(s,null,null,c),gc(s)}function tl(s,c,m){s.lanes|=m;var v=s.alternate;v!==null&&(v.lanes|=m);for(var A=!1,O=s.return;O!==null;)O.childLanes|=m,v=O.alternate,v!==null&&(v.childLanes|=m),O.tag===22&&(s=O.stateNode,s===null||s._visibility&1||(A=!0)),s=O,O=O.return;return s.tag===3?(O=s.stateNode,A&&c!==null&&(A=31-Dr(m),s=O.hiddenUpdates,v=s[A],v===null?s[A]=[c]:v.push(c),c.lane=m|536870912),O):null}function gc(s){if(50<bh)throw bh=0,z_=null,Error(r(185));for(var c=s.return;c!==null;)s=c,c=s.return;return s.tag===3?s.stateNode:null}var Ho={};function Bx(s,c,m,v){this.tag=s,this.key=m,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=c,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=v,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ar(s,c,m,v){return new Bx(s,c,m,v)}function $u(s){return s=s.prototype,!(!s||!s.isReactComponent)}function Qi(s,c){var m=s.alternate;return m===null?(m=Ar(s.tag,c,s.key,s.mode),m.elementType=s.elementType,m.type=s.type,m.stateNode=s.stateNode,m.alternate=s,s.alternate=m):(m.pendingProps=c,m.type=s.type,m.flags=0,m.subtreeFlags=0,m.deletions=null),m.flags=s.flags&65011712,m.childLanes=s.childLanes,m.lanes=s.lanes,m.child=s.child,m.memoizedProps=s.memoizedProps,m.memoizedState=s.memoizedState,m.updateQueue=s.updateQueue,c=s.dependencies,m.dependencies=c===null?null:{lanes:c.lanes,firstContext:c.firstContext},m.sibling=s.sibling,m.index=s.index,m.ref=s.ref,m.refCleanup=s.refCleanup,m}function Kf(s,c){s.flags&=65011714;var m=s.alternate;return m===null?(s.childLanes=0,s.lanes=c,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=m.childLanes,s.lanes=m.lanes,s.child=m.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=m.memoizedProps,s.memoizedState=m.memoizedState,s.updateQueue=m.updateQueue,s.type=m.type,c=m.dependencies,s.dependencies=c===null?null:{lanes:c.lanes,firstContext:c.firstContext}),s}function bc(s,c,m,v,A,O){var I=0;if(v=s,typeof s=="function")$u(s)&&(I=1);else if(typeof s=="string")I=EH(s,m,J.current)?26:s==="html"||s==="head"||s==="body"?27:5;else e:switch(s){case Y:return s=Ar(31,m,c,A),s.elementType=Y,s.lanes=O,s;case S:return Go(m.children,A,O,c);case _:I=8,A|=24;break;case T:return s=Ar(12,m,c,A|2),s.elementType=T,s.lanes=O,s;case M:return s=Ar(13,m,c,A),s.elementType=M,s.lanes=O,s;case P:return s=Ar(19,m,c,A),s.elementType=P,s.lanes=O,s;default:if(typeof s=="object"&&s!==null)switch(s.$$typeof){case j:I=10;break e;case N:I=9;break e;case C:I=11;break e;case $:I=14;break e;case U:I=16,v=null;break e}I=29,m=Error(r(130,s===null?"null":typeof s,"")),v=null}return c=Ar(I,m,c,A),c.elementType=s,c.type=v,c.lanes=O,c}function Go(s,c,m,v){return s=Ar(7,s,v,c),s.lanes=m,s}function Bu(s,c,m){return s=Ar(6,s,null,c),s.lanes=m,s}function Wf(s){var c=Ar(18,null,null,0);return c.stateNode=s,c}function Vf(s,c,m){return c=Ar(4,s.children!==null?s.children:[],s.key,c),c.lanes=m,c.stateNode={containerInfo:s.containerInfo,pendingChildren:null,implementation:s.implementation},c}var f=new WeakMap;function y(s,c){if(typeof s=="object"&&s!==null){var m=f.get(s);return m!==void 0?m:(c={value:s,source:c,stack:Ie(c)},f.set(s,c),c)}return{value:s,source:c,stack:Ie(c)}}var E=[],D=0,R=null,F=0,ee=[],ce=0,ge=null,Te=1,Le="";function Ye(s,c){E[D++]=F,E[D++]=R,R=s,F=c}function lt(s,c,m){ee[ce++]=Te,ee[ce++]=Le,ee[ce++]=ge,ge=s;var v=Te;s=Le;var A=32-Dr(v)-1;v&=~(1<<A),m+=1;var O=32-Dr(c)+A;if(30<O){var I=A-A%5;O=(v&(1<<I)-1).toString(32),v>>=I,A-=I,Te=1<<32-Dr(c)+A|m<<A|v,Le=O+s}else Te=1<<O|m<<A|v,Le=s}function Fn(s){s.return!==null&&(Ye(s,1),lt(s,1,0))}function gn(s){for(;s===R;)R=E[--D],E[D]=null,F=E[--D],E[D]=null;for(;s===ge;)ge=ee[--ce],ee[ce]=null,Le=ee[--ce],ee[ce]=null,Te=ee[--ce],ee[ce]=null}function Rr(s,c){ee[ce++]=Te,ee[ce++]=Le,ee[ce++]=ge,Te=c.id,Le=c.overflow,ge=s}var wt=null,St=null,ft=!1,ao=null,Jr=!1,zu=Error(r(519));function oo(s){var c=Error(r(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw yc(y(c,s)),zu}function Zf(s){var c=s.stateNode,m=s.type,v=s.memoizedProps;switch(c[On]=s,c[Qn]=v,m){case"dialog":mt("cancel",c),mt("close",c);break;case"iframe":case"object":case"embed":mt("load",c);break;case"video":case"audio":for(m=0;m<vh.length;m++)mt(vh[m],c);break;case"source":mt("error",c);break;case"img":case"image":case"link":mt("error",c),mt("load",c);break;case"details":mt("toggle",c);break;case"input":mt("invalid",c),Xl(c,v.value,v.defaultValue,v.checked,v.defaultChecked,v.type,v.name,!0);break;case"select":mt("invalid",c);break;case"textarea":mt("invalid",c),Us(c,v.value,v.defaultValue,v.children)}m=v.children,typeof m!="string"&&typeof m!="number"&&typeof m!="bigint"||c.textContent===""+m||v.suppressHydrationWarning===!0||EN(c.textContent,m)?(v.popover!=null&&(mt("beforetoggle",c),mt("toggle",c)),v.onScroll!=null&&mt("scroll",c),v.onScrollEnd!=null&&mt("scrollend",c),v.onClick!=null&&(c.onclick=Wr),c=!0):c=!1,c||oo(s,!0)}function un(s){for(wt=s.return;wt;)switch(wt.tag){case 5:case 31:case 13:Jr=!1;return;case 27:case 3:Jr=!0;return;default:wt=wt.return}}function Ta(s){if(s!==wt)return!1;if(!ft)return un(s),ft=!0,!1;var c=s.tag,m;if((m=c!==3&&c!==27)&&((m=c===5)&&(m=s.type,m=!(m!=="form"&&m!=="button")||tw(s.type,s.memoizedProps)),m=!m),m&&St&&oo(s),un(s),c===13){if(s=s.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(r(317));St=PN(s)}else if(c===31){if(s=s.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(r(317));St=PN(s)}else c===27?(c=St,pl(s.type)?(s=ow,ow=null,St=s):St=c):St=wt?ta(s.stateNode.nextSibling):null;return!0}function qo(){St=wt=null,ft=!1}function Xf(){var s=ao;return s!==null&&(ni===null?ni=s:ni.push.apply(ni,s),ao=null),s}function yc(s){ao===null?ao=[s]:ao.push(s)}var vc=B(null),so=null,ja=null;function nl(s,c,m){ie(vc,c._currentValue),c._currentValue=m}function Yo(s){s._currentValue=vc.current,K(vc)}function zx(s,c,m){for(;s!==null;){var v=s.alternate;if((s.childLanes&c)!==c?(s.childLanes|=c,v!==null&&(v.childLanes|=c)):v!==null&&(v.childLanes&c)!==c&&(v.childLanes|=c),s===m)break;s=s.return}}function Ux(s,c,m,v){var A=s.child;for(A!==null&&(A.return=s);A!==null;){var O=A.dependencies;if(O!==null){var I=A.child;O=O.firstContext;e:for(;O!==null;){var G=O;O=A;for(var te=0;te<c.length;te++)if(G.context===c[te]){O.lanes|=m,G=O.alternate,G!==null&&(G.lanes|=m),zx(O.return,m,s),v||(I=null);break e}O=G.next}}else if(A.tag===18){if(I=A.return,I===null)throw Error(r(341));I.lanes|=m,O=I.alternate,O!==null&&(O.lanes|=m),zx(I,m,s),I=null}else I=A.child;if(I!==null)I.return=A;else for(I=A;I!==null;){if(I===s){I=null;break}if(A=I.sibling,A!==null){A.return=I.return,I=A;break}I=I.return}A=I}}function Uu(s,c,m,v){s=null;for(var A=c,O=!1;A!==null;){if(!O){if((A.flags&524288)!==0)O=!0;else if((A.flags&262144)!==0)break}if(A.tag===10){var I=A.alternate;if(I===null)throw Error(r(387));if(I=I.memoizedProps,I!==null){var G=A.type;er(A.pendingProps.value,I.value)||(s!==null?s.push(G):s=[G])}}else if(A===he.current){if(I=A.alternate,I===null)throw Error(r(387));I.memoizedState.memoizedState!==A.memoizedState.memoizedState&&(s!==null?s.push(kh):s=[kh])}A=A.return}s!==null&&Ux(c,s,m,v),c.flags|=262144}function fg(s){for(s=s.firstContext;s!==null;){if(!er(s.context._currentValue,s.memoizedValue))return!0;s=s.next}return!1}function xc(s){so=s,ja=null,s=s.dependencies,s!==null&&(s.firstContext=null)}function hr(s){return uj(so,s)}function hg(s,c){return so===null&&xc(s),uj(s,c)}function uj(s,c){var m=c._currentValue;if(c={context:c,memoizedValue:m,next:null},ja===null){if(s===null)throw Error(r(308));ja=c,s.dependencies={lanes:0,firstContext:c},s.flags|=524288}else ja=ja.next=c;return m}var _F=typeof AbortController<"u"?AbortController:function(){var s=[],c=this.signal={aborted:!1,addEventListener:function(m,v){s.push(v)}};this.abort=function(){c.aborted=!0,s.forEach(function(m){return m()})}},wF=e.unstable_scheduleCallback,SF=e.unstable_NormalPriority,Cn={$$typeof:j,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Fx(){return{controller:new _F,data:new Map,refCount:0}}function Jf(s){s.refCount--,s.refCount===0&&wF(SF,function(){s.controller.abort()})}var Qf=null,Hx=0,Fu=0,Hu=null;function kF(s,c){if(Qf===null){var m=Qf=[];Hx=0,Fu=Y_(),Hu={status:"pending",value:void 0,then:function(v){m.push(v)}}}return Hx++,c.then(dj,dj),c}function dj(){if(--Hx===0&&Qf!==null){Hu!==null&&(Hu.status="fulfilled");var s=Qf;Qf=null,Fu=0,Hu=null;for(var c=0;c<s.length;c++)(0,s[c])()}}function EF(s,c){var m=[],v={status:"pending",value:null,reason:null,then:function(A){m.push(A)}};return s.then(function(){v.status="fulfilled",v.value=c;for(var A=0;A<m.length;A++)(0,m[A])(c)},function(A){for(v.status="rejected",v.reason=A,A=0;A<m.length;A++)(0,m[A])(void 0)}),v}var fj=q.S;q.S=function(s,c){VO=Be(),typeof c=="object"&&c!==null&&typeof c.then=="function"&&kF(s,c),fj!==null&&fj(s,c)};var _c=B(null);function Gx(){var s=_c.current;return s!==null?s:Ut.pooledCache}function mg(s,c){c===null?ie(_c,_c.current):ie(_c,c.pool)}function hj(){var s=Gx();return s===null?null:{parent:Cn._currentValue,pool:s}}var Gu=Error(r(460)),qx=Error(r(474)),pg=Error(r(542)),gg={then:function(){}};function mj(s){return s=s.status,s==="fulfilled"||s==="rejected"}function pj(s,c,m){switch(m=s[m],m===void 0?s.push(c):m!==c&&(c.then(Wr,Wr),c=m),c.status){case"fulfilled":return c.value;case"rejected":throw s=c.reason,bj(s),s;default:if(typeof c.status=="string")c.then(Wr,Wr);else{if(s=Ut,s!==null&&100<s.shellSuspendCounter)throw Error(r(482));s=c,s.status="pending",s.then(function(v){if(c.status==="pending"){var A=c;A.status="fulfilled",A.value=v}},function(v){if(c.status==="pending"){var A=c;A.status="rejected",A.reason=v}})}switch(c.status){case"fulfilled":return c.value;case"rejected":throw s=c.reason,bj(s),s}throw Sc=c,Gu}}function wc(s){try{var c=s._init;return c(s._payload)}catch(m){throw m!==null&&typeof m=="object"&&typeof m.then=="function"?(Sc=m,Gu):m}}var Sc=null;function gj(){if(Sc===null)throw Error(r(459));var s=Sc;return Sc=null,s}function bj(s){if(s===Gu||s===pg)throw Error(r(483))}var qu=null,eh=0;function bg(s){var c=eh;return eh+=1,qu===null&&(qu=[]),pj(qu,s,c)}function th(s,c){c=c.props.ref,s.ref=c!==void 0?c:null}function yg(s,c){throw c.$$typeof===b?Error(r(525)):(s=Object.prototype.toString.call(c),Error(r(31,s==="[object Object]"?"object with keys {"+Object.keys(c).join(", ")+"}":s)))}function yj(s){function c(le,ae){if(s){var me=le.deletions;me===null?(le.deletions=[ae],le.flags|=16):me.push(ae)}}function m(le,ae){if(!s)return null;for(;ae!==null;)c(le,ae),ae=ae.sibling;return null}function v(le){for(var ae=new Map;le!==null;)le.key!==null?ae.set(le.key,le):ae.set(le.index,le),le=le.sibling;return ae}function A(le,ae){return le=Qi(le,ae),le.index=0,le.sibling=null,le}function O(le,ae,me){return le.index=me,s?(me=le.alternate,me!==null?(me=me.index,me<ae?(le.flags|=67108866,ae):me):(le.flags|=67108866,ae)):(le.flags|=1048576,ae)}function I(le){return s&&le.alternate===null&&(le.flags|=67108866),le}function G(le,ae,me,Ae){return ae===null||ae.tag!==6?(ae=Bu(me,le.mode,Ae),ae.return=le,ae):(ae=A(ae,me),ae.return=le,ae)}function te(le,ae,me,Ae){var Xe=me.type;return Xe===S?Se(le,ae,me.props.children,Ae,me.key):ae!==null&&(ae.elementType===Xe||typeof Xe=="object"&&Xe!==null&&Xe.$$typeof===U&&wc(Xe)===ae.type)?(ae=A(ae,me.props),th(ae,me),ae.return=le,ae):(ae=bc(me.type,me.key,me.props,null,le.mode,Ae),th(ae,me),ae.return=le,ae)}function pe(le,ae,me,Ae){return ae===null||ae.tag!==4||ae.stateNode.containerInfo!==me.containerInfo||ae.stateNode.implementation!==me.implementation?(ae=Vf(me,le.mode,Ae),ae.return=le,ae):(ae=A(ae,me.children||[]),ae.return=le,ae)}function Se(le,ae,me,Ae,Xe){return ae===null||ae.tag!==7?(ae=Go(me,le.mode,Ae,Xe),ae.return=le,ae):(ae=A(ae,me),ae.return=le,ae)}function je(le,ae,me){if(typeof ae=="string"&&ae!==""||typeof ae=="number"||typeof ae=="bigint")return ae=Bu(""+ae,le.mode,me),ae.return=le,ae;if(typeof ae=="object"&&ae!==null){switch(ae.$$typeof){case x:return me=bc(ae.type,ae.key,ae.props,null,le.mode,me),th(me,ae),me.return=le,me;case k:return ae=Vf(ae,le.mode,me),ae.return=le,ae;case U:return ae=wc(ae),je(le,ae,me)}if(Z(ae)||z(ae))return ae=Go(ae,le.mode,me,null),ae.return=le,ae;if(typeof ae.then=="function")return je(le,bg(ae),me);if(ae.$$typeof===j)return je(le,hg(le,ae),me);yg(le,ae)}return null}function be(le,ae,me,Ae){var Xe=ae!==null?ae.key:null;if(typeof me=="string"&&me!==""||typeof me=="number"||typeof me=="bigint")return Xe!==null?null:G(le,ae,""+me,Ae);if(typeof me=="object"&&me!==null){switch(me.$$typeof){case x:return me.key===Xe?te(le,ae,me,Ae):null;case k:return me.key===Xe?pe(le,ae,me,Ae):null;case U:return me=wc(me),be(le,ae,me,Ae)}if(Z(me)||z(me))return Xe!==null?null:Se(le,ae,me,Ae,null);if(typeof me.then=="function")return be(le,ae,bg(me),Ae);if(me.$$typeof===j)return be(le,ae,hg(le,me),Ae);yg(le,me)}return null}function ve(le,ae,me,Ae,Xe){if(typeof Ae=="string"&&Ae!==""||typeof Ae=="number"||typeof Ae=="bigint")return le=le.get(me)||null,G(ae,le,""+Ae,Xe);if(typeof Ae=="object"&&Ae!==null){switch(Ae.$$typeof){case x:return le=le.get(Ae.key===null?me:Ae.key)||null,te(ae,le,Ae,Xe);case k:return le=le.get(Ae.key===null?me:Ae.key)||null,pe(ae,le,Ae,Xe);case U:return Ae=wc(Ae),ve(le,ae,me,Ae,Xe)}if(Z(Ae)||z(Ae))return le=le.get(me)||null,Se(ae,le,Ae,Xe,null);if(typeof Ae.then=="function")return ve(le,ae,me,bg(Ae),Xe);if(Ae.$$typeof===j)return ve(le,ae,me,hg(ae,Ae),Xe);yg(ae,Ae)}return null}function ze(le,ae,me,Ae){for(var Xe=null,kt=null,Fe=ae,ct=ae=0,yt=null;Fe!==null&&ct<me.length;ct++){Fe.index>ct?(yt=Fe,Fe=null):yt=Fe.sibling;var Et=be(le,Fe,me[ct],Ae);if(Et===null){Fe===null&&(Fe=yt);break}s&&Fe&&Et.alternate===null&&c(le,Fe),ae=O(Et,ae,ct),kt===null?Xe=Et:kt.sibling=Et,kt=Et,Fe=yt}if(ct===me.length)return m(le,Fe),ft&&Ye(le,ct),Xe;if(Fe===null){for(;ct<me.length;ct++)Fe=je(le,me[ct],Ae),Fe!==null&&(ae=O(Fe,ae,ct),kt===null?Xe=Fe:kt.sibling=Fe,kt=Fe);return ft&&Ye(le,ct),Xe}for(Fe=v(Fe);ct<me.length;ct++)yt=ve(Fe,le,ct,me[ct],Ae),yt!==null&&(s&&yt.alternate!==null&&Fe.delete(yt.key===null?ct:yt.key),ae=O(yt,ae,ct),kt===null?Xe=yt:kt.sibling=yt,kt=yt);return s&&Fe.forEach(function(xl){return c(le,xl)}),ft&&Ye(le,ct),Xe}function et(le,ae,me,Ae){if(me==null)throw Error(r(151));for(var Xe=null,kt=null,Fe=ae,ct=ae=0,yt=null,Et=me.next();Fe!==null&&!Et.done;ct++,Et=me.next()){Fe.index>ct?(yt=Fe,Fe=null):yt=Fe.sibling;var xl=be(le,Fe,Et.value,Ae);if(xl===null){Fe===null&&(Fe=yt);break}s&&Fe&&xl.alternate===null&&c(le,Fe),ae=O(xl,ae,ct),kt===null?Xe=xl:kt.sibling=xl,kt=xl,Fe=yt}if(Et.done)return m(le,Fe),ft&&Ye(le,ct),Xe;if(Fe===null){for(;!Et.done;ct++,Et=me.next())Et=je(le,Et.value,Ae),Et!==null&&(ae=O(Et,ae,ct),kt===null?Xe=Et:kt.sibling=Et,kt=Et);return ft&&Ye(le,ct),Xe}for(Fe=v(Fe);!Et.done;ct++,Et=me.next())Et=ve(Fe,le,ct,Et.value,Ae),Et!==null&&(s&&Et.alternate!==null&&Fe.delete(Et.key===null?ct:Et.key),ae=O(Et,ae,ct),kt===null?Xe=Et:kt.sibling=Et,kt=Et);return s&&Fe.forEach(function(LH){return c(le,LH)}),ft&&Ye(le,ct),Xe}function Bt(le,ae,me,Ae){if(typeof me=="object"&&me!==null&&me.type===S&&me.key===null&&(me=me.props.children),typeof me=="object"&&me!==null){switch(me.$$typeof){case x:e:{for(var Xe=me.key;ae!==null;){if(ae.key===Xe){if(Xe=me.type,Xe===S){if(ae.tag===7){m(le,ae.sibling),Ae=A(ae,me.props.children),Ae.return=le,le=Ae;break e}}else if(ae.elementType===Xe||typeof Xe=="object"&&Xe!==null&&Xe.$$typeof===U&&wc(Xe)===ae.type){m(le,ae.sibling),Ae=A(ae,me.props),th(Ae,me),Ae.return=le,le=Ae;break e}m(le,ae);break}else c(le,ae);ae=ae.sibling}me.type===S?(Ae=Go(me.props.children,le.mode,Ae,me.key),Ae.return=le,le=Ae):(Ae=bc(me.type,me.key,me.props,null,le.mode,Ae),th(Ae,me),Ae.return=le,le=Ae)}return I(le);case k:e:{for(Xe=me.key;ae!==null;){if(ae.key===Xe)if(ae.tag===4&&ae.stateNode.containerInfo===me.containerInfo&&ae.stateNode.implementation===me.implementation){m(le,ae.sibling),Ae=A(ae,me.children||[]),Ae.return=le,le=Ae;break e}else{m(le,ae);break}else c(le,ae);ae=ae.sibling}Ae=Vf(me,le.mode,Ae),Ae.return=le,le=Ae}return I(le);case U:return me=wc(me),Bt(le,ae,me,Ae)}if(Z(me))return ze(le,ae,me,Ae);if(z(me)){if(Xe=z(me),typeof Xe!="function")throw Error(r(150));return me=Xe.call(me),et(le,ae,me,Ae)}if(typeof me.then=="function")return Bt(le,ae,bg(me),Ae);if(me.$$typeof===j)return Bt(le,ae,hg(le,me),Ae);yg(le,me)}return typeof me=="string"&&me!==""||typeof me=="number"||typeof me=="bigint"?(me=""+me,ae!==null&&ae.tag===6?(m(le,ae.sibling),Ae=A(ae,me),Ae.return=le,le=Ae):(m(le,ae),Ae=Bu(me,le.mode,Ae),Ae.return=le,le=Ae),I(le)):m(le,ae)}return function(le,ae,me,Ae){try{eh=0;var Xe=Bt(le,ae,me,Ae);return qu=null,Xe}catch(Fe){if(Fe===Gu||Fe===pg)throw Fe;var kt=Ar(29,Fe,null,le.mode);return kt.lanes=Ae,kt.return=le,kt}finally{}}}var kc=yj(!0),vj=yj(!1),rl=!1;function Yx(s){s.updateQueue={baseState:s.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Kx(s,c){s=s.updateQueue,c.updateQueue===s&&(c.updateQueue={baseState:s.baseState,firstBaseUpdate:s.firstBaseUpdate,lastBaseUpdate:s.lastBaseUpdate,shared:s.shared,callbacks:null})}function il(s){return{lane:s,tag:0,payload:null,callback:null,next:null}}function al(s,c,m){var v=s.updateQueue;if(v===null)return null;if(v=v.shared,(Tt&2)!==0){var A=v.pending;return A===null?c.next=c:(c.next=A.next,A.next=c),v.pending=c,c=gc(s),tl(s,null,m),c}return io(s,v,c,m),gc(s)}function nh(s,c,m){if(c=c.updateQueue,c!==null&&(c=c.shared,(m&4194048)!==0)){var v=c.lanes;v&=s.pendingLanes,m|=v,c.lanes=m,Bp(s,m)}}function Wx(s,c){var m=s.updateQueue,v=s.alternate;if(v!==null&&(v=v.updateQueue,m===v)){var A=null,O=null;if(m=m.firstBaseUpdate,m!==null){do{var I={lane:m.lane,tag:m.tag,payload:m.payload,callback:null,next:null};O===null?A=O=I:O=O.next=I,m=m.next}while(m!==null);O===null?A=O=c:O=O.next=c}else A=O=c;m={baseState:v.baseState,firstBaseUpdate:A,lastBaseUpdate:O,shared:v.shared,callbacks:v.callbacks},s.updateQueue=m;return}s=m.lastBaseUpdate,s===null?m.firstBaseUpdate=c:s.next=c,m.lastBaseUpdate=c}var Vx=!1;function rh(){if(Vx){var s=Hu;if(s!==null)throw s}}function ih(s,c,m,v){Vx=!1;var A=s.updateQueue;rl=!1;var O=A.firstBaseUpdate,I=A.lastBaseUpdate,G=A.shared.pending;if(G!==null){A.shared.pending=null;var te=G,pe=te.next;te.next=null,I===null?O=pe:I.next=pe,I=te;var Se=s.alternate;Se!==null&&(Se=Se.updateQueue,G=Se.lastBaseUpdate,G!==I&&(G===null?Se.firstBaseUpdate=pe:G.next=pe,Se.lastBaseUpdate=te))}if(O!==null){var je=A.baseState;I=0,Se=pe=te=null,G=O;do{var be=G.lane&-536870913,ve=be!==G.lane;if(ve?(bt&be)===be:(v&be)===be){be!==0&&be===Fu&&(Vx=!0),Se!==null&&(Se=Se.next={lane:0,tag:G.tag,payload:G.payload,callback:null,next:null});e:{var ze=s,et=G;be=c;var Bt=m;switch(et.tag){case 1:if(ze=et.payload,typeof ze=="function"){je=ze.call(Bt,je,be);break e}je=ze;break e;case 3:ze.flags=ze.flags&-65537|128;case 0:if(ze=et.payload,be=typeof ze=="function"?ze.call(Bt,je,be):ze,be==null)break e;je=p({},je,be);break e;case 2:rl=!0}}be=G.callback,be!==null&&(s.flags|=64,ve&&(s.flags|=8192),ve=A.callbacks,ve===null?A.callbacks=[be]:ve.push(be))}else ve={lane:be,tag:G.tag,payload:G.payload,callback:G.callback,next:null},Se===null?(pe=Se=ve,te=je):Se=Se.next=ve,I|=be;if(G=G.next,G===null){if(G=A.shared.pending,G===null)break;ve=G,G=ve.next,ve.next=null,A.lastBaseUpdate=ve,A.shared.pending=null}}while(!0);Se===null&&(te=je),A.baseState=te,A.firstBaseUpdate=pe,A.lastBaseUpdate=Se,O===null&&(A.shared.lanes=0),ul|=I,s.lanes=I,s.memoizedState=je}}function xj(s,c){if(typeof s!="function")throw Error(r(191,s));s.call(c)}function _j(s,c){var m=s.callbacks;if(m!==null)for(s.callbacks=null,s=0;s<m.length;s++)xj(m[s],c)}var Yu=B(null),vg=B(0);function wj(s,c){s=ts,ie(vg,s),ie(Yu,c),ts=s|c.baseLanes}function Zx(){ie(vg,ts),ie(Yu,Yu.current)}function Xx(){ts=vg.current,K(Yu),K(vg)}var Si=B(null),ea=null;function ol(s){var c=s.alternate;ie(Sn,Sn.current&1),ie(Si,s),ea===null&&(c===null||Yu.current!==null||c.memoizedState!==null)&&(ea=s)}function Jx(s){ie(Sn,Sn.current),ie(Si,s),ea===null&&(ea=s)}function Sj(s){s.tag===22?(ie(Sn,Sn.current),ie(Si,s),ea===null&&(ea=s)):sl()}function sl(){ie(Sn,Sn.current),ie(Si,Si.current)}function ki(s){K(Si),ea===s&&(ea=null),K(Sn)}var Sn=B(0);function xg(s){for(var c=s;c!==null;){if(c.tag===13){var m=c.memoizedState;if(m!==null&&(m=m.dehydrated,m===null||iw(m)||aw(m)))return c}else if(c.tag===19&&(c.memoizedProps.revealOrder==="forwards"||c.memoizedProps.revealOrder==="backwards"||c.memoizedProps.revealOrder==="unstable_legacy-backwards"||c.memoizedProps.revealOrder==="together")){if((c.flags&128)!==0)return c}else if(c.child!==null){c.child.return=c,c=c.child;continue}if(c===s)break;for(;c.sibling===null;){if(c.return===null||c.return===s)return null;c=c.return}c.sibling.return=c.return,c=c.sibling}return null}var Ko=0,st=null,It=null,Mn=null,_g=!1,Ku=!1,Ec=!1,wg=0,ah=0,Wu=null,AF=0;function bn(){throw Error(r(321))}function Qx(s,c){if(c===null)return!1;for(var m=0;m<c.length&&m<s.length;m++)if(!er(s[m],c[m]))return!1;return!0}function e_(s,c,m,v,A,O){return Ko=O,st=c,c.memoizedState=null,c.updateQueue=null,c.lanes=0,q.H=s===null||s.memoizedState===null?oO:p_,Ec=!1,O=m(v,A),Ec=!1,Ku&&(O=Ej(c,m,v,A)),kj(s),O}function kj(s){q.H=lh;var c=It!==null&&It.next!==null;if(Ko=0,Mn=It=st=null,_g=!1,ah=0,Wu=null,c)throw Error(r(300));s===null||Dn||(s=s.dependencies,s!==null&&fg(s)&&(Dn=!0))}function Ej(s,c,m,v){st=s;var A=0;do{if(Ku&&(Wu=null),ah=0,Ku=!1,25<=A)throw Error(r(301));if(A+=1,Mn=It=null,s.updateQueue!=null){var O=s.updateQueue;O.lastEffect=null,O.events=null,O.stores=null,O.memoCache!=null&&(O.memoCache.index=0)}q.H=sO,O=c(m,v)}while(Ku);return O}function TF(){var s=q.H,c=s.useState()[0];return c=typeof c.then=="function"?oh(c):c,s=s.useState()[0],(It!==null?It.memoizedState:null)!==s&&(st.flags|=1024),c}function t_(){var s=wg!==0;return wg=0,s}function n_(s,c,m){c.updateQueue=s.updateQueue,c.flags&=-2053,s.lanes&=~m}function r_(s){if(_g){for(s=s.memoizedState;s!==null;){var c=s.queue;c!==null&&(c.pending=null),s=s.next}_g=!1}Ko=0,Mn=It=st=null,Ku=!1,ah=wg=0,Wu=null}function Lr(){var s={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Mn===null?st.memoizedState=Mn=s:Mn=Mn.next=s,Mn}function kn(){if(It===null){var s=st.alternate;s=s!==null?s.memoizedState:null}else s=It.next;var c=Mn===null?st.memoizedState:Mn.next;if(c!==null)Mn=c,It=s;else{if(s===null)throw st.alternate===null?Error(r(467)):Error(r(310));It=s,s={memoizedState:It.memoizedState,baseState:It.baseState,baseQueue:It.baseQueue,queue:It.queue,next:null},Mn===null?st.memoizedState=Mn=s:Mn=Mn.next=s}return Mn}function Sg(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function oh(s){var c=ah;return ah+=1,Wu===null&&(Wu=[]),s=pj(Wu,s,c),c=st,(Mn===null?c.memoizedState:Mn.next)===null&&(c=c.alternate,q.H=c===null||c.memoizedState===null?oO:p_),s}function kg(s){if(s!==null&&typeof s=="object"){if(typeof s.then=="function")return oh(s);if(s.$$typeof===j)return hr(s)}throw Error(r(438,String(s)))}function i_(s){var c=null,m=st.updateQueue;if(m!==null&&(c=m.memoCache),c==null){var v=st.alternate;v!==null&&(v=v.updateQueue,v!==null&&(v=v.memoCache,v!=null&&(c={data:v.data.map(function(A){return A.slice()}),index:0})))}if(c==null&&(c={data:[],index:0}),m===null&&(m=Sg(),st.updateQueue=m),m.memoCache=c,m=c.data[c.index],m===void 0)for(m=c.data[c.index]=Array(s),v=0;v<s;v++)m[v]=W;return c.index++,m}function Wo(s,c){return typeof c=="function"?c(s):c}function Eg(s){var c=kn();return a_(c,It,s)}function a_(s,c,m){var v=s.queue;if(v===null)throw Error(r(311));v.lastRenderedReducer=m;var A=s.baseQueue,O=v.pending;if(O!==null){if(A!==null){var I=A.next;A.next=O.next,O.next=I}c.baseQueue=A=O,v.pending=null}if(O=s.baseState,A===null)s.memoizedState=O;else{c=A.next;var G=I=null,te=null,pe=c,Se=!1;do{var je=pe.lane&-536870913;if(je!==pe.lane?(bt&je)===je:(Ko&je)===je){var be=pe.revertLane;if(be===0)te!==null&&(te=te.next={lane:0,revertLane:0,gesture:null,action:pe.action,hasEagerState:pe.hasEagerState,eagerState:pe.eagerState,next:null}),je===Fu&&(Se=!0);else if((Ko&be)===be){pe=pe.next,be===Fu&&(Se=!0);continue}else je={lane:0,revertLane:pe.revertLane,gesture:null,action:pe.action,hasEagerState:pe.hasEagerState,eagerState:pe.eagerState,next:null},te===null?(G=te=je,I=O):te=te.next=je,st.lanes|=be,ul|=be;je=pe.action,Ec&&m(O,je),O=pe.hasEagerState?pe.eagerState:m(O,je)}else be={lane:je,revertLane:pe.revertLane,gesture:pe.gesture,action:pe.action,hasEagerState:pe.hasEagerState,eagerState:pe.eagerState,next:null},te===null?(G=te=be,I=O):te=te.next=be,st.lanes|=je,ul|=je;pe=pe.next}while(pe!==null&&pe!==c);if(te===null?I=O:te.next=G,!er(O,s.memoizedState)&&(Dn=!0,Se&&(m=Hu,m!==null)))throw m;s.memoizedState=O,s.baseState=I,s.baseQueue=te,v.lastRenderedState=O}return A===null&&(v.lanes=0),[s.memoizedState,v.dispatch]}function o_(s){var c=kn(),m=c.queue;if(m===null)throw Error(r(311));m.lastRenderedReducer=s;var v=m.dispatch,A=m.pending,O=c.memoizedState;if(A!==null){m.pending=null;var I=A=A.next;do O=s(O,I.action),I=I.next;while(I!==A);er(O,c.memoizedState)||(Dn=!0),c.memoizedState=O,c.baseQueue===null&&(c.baseState=O),m.lastRenderedState=O}return[O,v]}function Aj(s,c,m){var v=st,A=kn(),O=ft;if(O){if(m===void 0)throw Error(r(407));m=m()}else m=c();var I=!er((It||A).memoizedState,m);if(I&&(A.memoizedState=m,Dn=!0),A=A.queue,c_(Oj.bind(null,v,A,s),[s]),A.getSnapshot!==c||I||Mn!==null&&Mn.memoizedState.tag&1){if(v.flags|=2048,Vu(9,{destroy:void 0},jj.bind(null,v,A,m,c),null),Ut===null)throw Error(r(349));O||(Ko&127)!==0||Tj(v,c,m)}return m}function Tj(s,c,m){s.flags|=16384,s={getSnapshot:c,value:m},c=st.updateQueue,c===null?(c=Sg(),st.updateQueue=c,c.stores=[s]):(m=c.stores,m===null?c.stores=[s]:m.push(s))}function jj(s,c,m,v){c.value=m,c.getSnapshot=v,Nj(c)&&Cj(s)}function Oj(s,c,m){return m(function(){Nj(c)&&Cj(s)})}function Nj(s){var c=s.getSnapshot;s=s.value;try{var m=c();return!er(s,m)}catch{return!0}}function Cj(s){var c=Ji(s,2);c!==null&&ri(c,s,2)}function s_(s){var c=Lr();if(typeof s=="function"){var m=s;if(s=m(),Ec){yi(!0);try{m()}finally{yi(!1)}}}return c.memoizedState=c.baseState=s,c.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Wo,lastRenderedState:s},c}function Mj(s,c,m,v){return s.baseState=m,a_(s,It,typeof v=="function"?v:Wo)}function jF(s,c,m,v,A){if(jg(s))throw Error(r(485));if(s=c.action,s!==null){var O={payload:A,action:s,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(I){O.listeners.push(I)}};q.T!==null?m(!0):O.isTransition=!1,v(O),m=c.pending,m===null?(O.next=c.pending=O,Dj(c,O)):(O.next=m.next,c.pending=m.next=O)}}function Dj(s,c){var m=c.action,v=c.payload,A=s.state;if(c.isTransition){var O=q.T,I={};q.T=I;try{var G=m(A,v),te=q.S;te!==null&&te(I,G),Pj(s,c,G)}catch(pe){l_(s,c,pe)}finally{O!==null&&I.types!==null&&(O.types=I.types),q.T=O}}else try{O=m(A,v),Pj(s,c,O)}catch(pe){l_(s,c,pe)}}function Pj(s,c,m){m!==null&&typeof m=="object"&&typeof m.then=="function"?m.then(function(v){Rj(s,c,v)},function(v){return l_(s,c,v)}):Rj(s,c,m)}function Rj(s,c,m){c.status="fulfilled",c.value=m,Lj(c),s.state=m,c=s.pending,c!==null&&(m=c.next,m===c?s.pending=null:(m=m.next,c.next=m,Dj(s,m)))}function l_(s,c,m){var v=s.pending;if(s.pending=null,v!==null){v=v.next;do c.status="rejected",c.reason=m,Lj(c),c=c.next;while(c!==v)}s.action=null}function Lj(s){s=s.listeners;for(var c=0;c<s.length;c++)(0,s[c])()}function Ij(s,c){return c}function $j(s,c){if(ft){var m=Ut.formState;if(m!==null){e:{var v=st;if(ft){if(St){t:{for(var A=St,O=Jr;A.nodeType!==8;){if(!O){A=null;break t}if(A=ta(A.nextSibling),A===null){A=null;break t}}O=A.data,A=O==="F!"||O==="F"?A:null}if(A){St=ta(A.nextSibling),v=A.data==="F!";break e}}oo(v)}v=!1}v&&(c=m[0])}}return m=Lr(),m.memoizedState=m.baseState=c,v={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ij,lastRenderedState:c},m.queue=v,m=rO.bind(null,st,v),v.dispatch=m,v=s_(!1),O=m_.bind(null,st,!1,v.queue),v=Lr(),A={state:c,dispatch:null,action:s,pending:null},v.queue=A,m=jF.bind(null,st,A,O,m),A.dispatch=m,v.memoizedState=s,[c,m,!1]}function Bj(s){var c=kn();return zj(c,It,s)}function zj(s,c,m){if(c=a_(s,c,Ij)[0],s=Eg(Wo)[0],typeof c=="object"&&c!==null&&typeof c.then=="function")try{var v=oh(c)}catch(I){throw I===Gu?pg:I}else v=c;c=kn();var A=c.queue,O=A.dispatch;return m!==c.memoizedState&&(st.flags|=2048,Vu(9,{destroy:void 0},OF.bind(null,A,m),null)),[v,O,s]}function OF(s,c){s.action=c}function Uj(s){var c=kn(),m=It;if(m!==null)return zj(c,m,s);kn(),c=c.memoizedState,m=kn();var v=m.queue.dispatch;return m.memoizedState=s,[c,v,!1]}function Vu(s,c,m,v){return s={tag:s,create:m,deps:v,inst:c,next:null},c=st.updateQueue,c===null&&(c=Sg(),st.updateQueue=c),m=c.lastEffect,m===null?c.lastEffect=s.next=s:(v=m.next,m.next=s,s.next=v,c.lastEffect=s),s}function Fj(){return kn().memoizedState}function Ag(s,c,m,v){var A=Lr();st.flags|=s,A.memoizedState=Vu(1|c,{destroy:void 0},m,v===void 0?null:v)}function Tg(s,c,m,v){var A=kn();v=v===void 0?null:v;var O=A.memoizedState.inst;It!==null&&v!==null&&Qx(v,It.memoizedState.deps)?A.memoizedState=Vu(c,O,m,v):(st.flags|=s,A.memoizedState=Vu(1|c,O,m,v))}function Hj(s,c){Ag(8390656,8,s,c)}function c_(s,c){Tg(2048,8,s,c)}function NF(s){st.flags|=4;var c=st.updateQueue;if(c===null)c=Sg(),st.updateQueue=c,c.events=[s];else{var m=c.events;m===null?c.events=[s]:m.push(s)}}function Gj(s){var c=kn().memoizedState;return NF({ref:c,nextImpl:s}),function(){if((Tt&2)!==0)throw Error(r(440));return c.impl.apply(void 0,arguments)}}function qj(s,c){return Tg(4,2,s,c)}function Yj(s,c){return Tg(4,4,s,c)}function Kj(s,c){if(typeof c=="function"){s=s();var m=c(s);return function(){typeof m=="function"?m():c(null)}}if(c!=null)return s=s(),c.current=s,function(){c.current=null}}function Wj(s,c,m){m=m!=null?m.concat([s]):null,Tg(4,4,Kj.bind(null,c,s),m)}function u_(){}function Vj(s,c){var m=kn();c=c===void 0?null:c;var v=m.memoizedState;return c!==null&&Qx(c,v[1])?v[0]:(m.memoizedState=[s,c],s)}function Zj(s,c){var m=kn();c=c===void 0?null:c;var v=m.memoizedState;if(c!==null&&Qx(c,v[1]))return v[0];if(v=s(),Ec){yi(!0);try{s()}finally{yi(!1)}}return m.memoizedState=[v,c],v}function d_(s,c,m){return m===void 0||(Ko&1073741824)!==0&&(bt&261930)===0?s.memoizedState=c:(s.memoizedState=m,s=XO(),st.lanes|=s,ul|=s,m)}function Xj(s,c,m,v){return er(m,c)?m:Yu.current!==null?(s=d_(s,m,v),er(s,c)||(Dn=!0),s):(Ko&42)===0||(Ko&1073741824)!==0&&(bt&261930)===0?(Dn=!0,s.memoizedState=m):(s=XO(),st.lanes|=s,ul|=s,c)}function Jj(s,c,m,v,A){var O=Q.p;Q.p=O!==0&&8>O?O:8;var I=q.T,G={};q.T=G,m_(s,!1,c,m);try{var te=A(),pe=q.S;if(pe!==null&&pe(G,te),te!==null&&typeof te=="object"&&typeof te.then=="function"){var Se=EF(te,v);sh(s,c,Se,Ti(s))}else sh(s,c,v,Ti(s))}catch(je){sh(s,c,{then:function(){},status:"rejected",reason:je},Ti())}finally{Q.p=O,I!==null&&G.types!==null&&(I.types=G.types),q.T=I}}function CF(){}function f_(s,c,m,v){if(s.tag!==5)throw Error(r(476));var A=Qj(s).queue;Jj(s,A,c,ne,m===null?CF:function(){return eO(s),m(v)})}function Qj(s){var c=s.memoizedState;if(c!==null)return c;c={memoizedState:ne,baseState:ne,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Wo,lastRenderedState:ne},next:null};var m={};return c.next={memoizedState:m,baseState:m,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Wo,lastRenderedState:m},next:null},s.memoizedState=c,s=s.alternate,s!==null&&(s.memoizedState=c),c}function eO(s){var c=Qj(s);c.next===null&&(c=s.alternate.memoizedState),sh(s,c.next.queue,{},Ti())}function h_(){return hr(kh)}function tO(){return kn().memoizedState}function nO(){return kn().memoizedState}function MF(s){for(var c=s.return;c!==null;){switch(c.tag){case 24:case 3:var m=Ti();s=il(m);var v=al(c,s,m);v!==null&&(ri(v,c,m),nh(v,c,m)),c={cache:Fx()},s.payload=c;return}c=c.return}}function DF(s,c,m){var v=Ti();m={lane:v,revertLane:0,gesture:null,action:m,hasEagerState:!1,eagerState:null,next:null},jg(s)?iO(c,m):(m=Yf(s,c,m,v),m!==null&&(ri(m,s,v),aO(m,c,v)))}function rO(s,c,m){var v=Ti();sh(s,c,m,v)}function sh(s,c,m,v){var A={lane:v,revertLane:0,gesture:null,action:m,hasEagerState:!1,eagerState:null,next:null};if(jg(s))iO(c,A);else{var O=s.alternate;if(s.lanes===0&&(O===null||O.lanes===0)&&(O=c.lastRenderedReducer,O!==null))try{var I=c.lastRenderedState,G=O(I,m);if(A.hasEagerState=!0,A.eagerState=G,er(G,I))return io(s,c,A,0),Ut===null&&pc(),!1}catch{}finally{}if(m=Yf(s,c,A,v),m!==null)return ri(m,s,v),aO(m,c,v),!0}return!1}function m_(s,c,m,v){if(v={lane:2,revertLane:Y_(),gesture:null,action:v,hasEagerState:!1,eagerState:null,next:null},jg(s)){if(c)throw Error(r(479))}else c=Yf(s,m,v,2),c!==null&&ri(c,s,2)}function jg(s){var c=s.alternate;return s===st||c!==null&&c===st}function iO(s,c){Ku=_g=!0;var m=s.pending;m===null?c.next=c:(c.next=m.next,m.next=c),s.pending=c}function aO(s,c,m){if((m&4194048)!==0){var v=c.lanes;v&=s.pendingLanes,m|=v,c.lanes=m,Bp(s,m)}}var lh={readContext:hr,use:kg,useCallback:bn,useContext:bn,useEffect:bn,useImperativeHandle:bn,useLayoutEffect:bn,useInsertionEffect:bn,useMemo:bn,useReducer:bn,useRef:bn,useState:bn,useDebugValue:bn,useDeferredValue:bn,useTransition:bn,useSyncExternalStore:bn,useId:bn,useHostTransitionStatus:bn,useFormState:bn,useActionState:bn,useOptimistic:bn,useMemoCache:bn,useCacheRefresh:bn};lh.useEffectEvent=bn;var oO={readContext:hr,use:kg,useCallback:function(s,c){return Lr().memoizedState=[s,c===void 0?null:c],s},useContext:hr,useEffect:Hj,useImperativeHandle:function(s,c,m){m=m!=null?m.concat([s]):null,Ag(4194308,4,Kj.bind(null,c,s),m)},useLayoutEffect:function(s,c){return Ag(4194308,4,s,c)},useInsertionEffect:function(s,c){Ag(4,2,s,c)},useMemo:function(s,c){var m=Lr();c=c===void 0?null:c;var v=s();if(Ec){yi(!0);try{s()}finally{yi(!1)}}return m.memoizedState=[v,c],v},useReducer:function(s,c,m){var v=Lr();if(m!==void 0){var A=m(c);if(Ec){yi(!0);try{m(c)}finally{yi(!1)}}}else A=c;return v.memoizedState=v.baseState=A,s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:s,lastRenderedState:A},v.queue=s,s=s.dispatch=DF.bind(null,st,s),[v.memoizedState,s]},useRef:function(s){var c=Lr();return s={current:s},c.memoizedState=s},useState:function(s){s=s_(s);var c=s.queue,m=rO.bind(null,st,c);return c.dispatch=m,[s.memoizedState,m]},useDebugValue:u_,useDeferredValue:function(s,c){var m=Lr();return d_(m,s,c)},useTransition:function(){var s=s_(!1);return s=Jj.bind(null,st,s.queue,!0,!1),Lr().memoizedState=s,[!1,s]},useSyncExternalStore:function(s,c,m){var v=st,A=Lr();if(ft){if(m===void 0)throw Error(r(407));m=m()}else{if(m=c(),Ut===null)throw Error(r(349));(bt&127)!==0||Tj(v,c,m)}A.memoizedState=m;var O={value:m,getSnapshot:c};return A.queue=O,Hj(Oj.bind(null,v,O,s),[s]),v.flags|=2048,Vu(9,{destroy:void 0},jj.bind(null,v,O,m,c),null),m},useId:function(){var s=Lr(),c=Ut.identifierPrefix;if(ft){var m=Le,v=Te;m=(v&~(1<<32-Dr(v)-1)).toString(32)+m,c="_"+c+"R_"+m,m=wg++,0<m&&(c+="H"+m.toString(32)),c+="_"}else m=AF++,c="_"+c+"r_"+m.toString(32)+"_";return s.memoizedState=c},useHostTransitionStatus:h_,useFormState:$j,useActionState:$j,useOptimistic:function(s){var c=Lr();c.memoizedState=c.baseState=s;var m={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return c.queue=m,c=m_.bind(null,st,!0,m),m.dispatch=c,[s,c]},useMemoCache:i_,useCacheRefresh:function(){return Lr().memoizedState=MF.bind(null,st)},useEffectEvent:function(s){var c=Lr(),m={impl:s};return c.memoizedState=m,function(){if((Tt&2)!==0)throw Error(r(440));return m.impl.apply(void 0,arguments)}}},p_={readContext:hr,use:kg,useCallback:Vj,useContext:hr,useEffect:c_,useImperativeHandle:Wj,useInsertionEffect:qj,useLayoutEffect:Yj,useMemo:Zj,useReducer:Eg,useRef:Fj,useState:function(){return Eg(Wo)},useDebugValue:u_,useDeferredValue:function(s,c){var m=kn();return Xj(m,It.memoizedState,s,c)},useTransition:function(){var s=Eg(Wo)[0],c=kn().memoizedState;return[typeof s=="boolean"?s:oh(s),c]},useSyncExternalStore:Aj,useId:tO,useHostTransitionStatus:h_,useFormState:Bj,useActionState:Bj,useOptimistic:function(s,c){var m=kn();return Mj(m,It,s,c)},useMemoCache:i_,useCacheRefresh:nO};p_.useEffectEvent=Gj;var sO={readContext:hr,use:kg,useCallback:Vj,useContext:hr,useEffect:c_,useImperativeHandle:Wj,useInsertionEffect:qj,useLayoutEffect:Yj,useMemo:Zj,useReducer:o_,useRef:Fj,useState:function(){return o_(Wo)},useDebugValue:u_,useDeferredValue:function(s,c){var m=kn();return It===null?d_(m,s,c):Xj(m,It.memoizedState,s,c)},useTransition:function(){var s=o_(Wo)[0],c=kn().memoizedState;return[typeof s=="boolean"?s:oh(s),c]},useSyncExternalStore:Aj,useId:tO,useHostTransitionStatus:h_,useFormState:Uj,useActionState:Uj,useOptimistic:function(s,c){var m=kn();return It!==null?Mj(m,It,s,c):(m.baseState=s,[s,m.queue.dispatch])},useMemoCache:i_,useCacheRefresh:nO};sO.useEffectEvent=Gj;function g_(s,c,m,v){c=s.memoizedState,m=m(v,c),m=m==null?c:p({},c,m),s.memoizedState=m,s.lanes===0&&(s.updateQueue.baseState=m)}var b_={enqueueSetState:function(s,c,m){s=s._reactInternals;var v=Ti(),A=il(v);A.payload=c,m!=null&&(A.callback=m),c=al(s,A,v),c!==null&&(ri(c,s,v),nh(c,s,v))},enqueueReplaceState:function(s,c,m){s=s._reactInternals;var v=Ti(),A=il(v);A.tag=1,A.payload=c,m!=null&&(A.callback=m),c=al(s,A,v),c!==null&&(ri(c,s,v),nh(c,s,v))},enqueueForceUpdate:function(s,c){s=s._reactInternals;var m=Ti(),v=il(m);v.tag=2,c!=null&&(v.callback=c),c=al(s,v,m),c!==null&&(ri(c,s,m),nh(c,s,m))}};function lO(s,c,m,v,A,O,I){return s=s.stateNode,typeof s.shouldComponentUpdate=="function"?s.shouldComponentUpdate(v,O,I):c.prototype&&c.prototype.isPureReactComponent?!Xs(m,v)||!Xs(A,O):!0}function cO(s,c,m,v){s=c.state,typeof c.componentWillReceiveProps=="function"&&c.componentWillReceiveProps(m,v),typeof c.UNSAFE_componentWillReceiveProps=="function"&&c.UNSAFE_componentWillReceiveProps(m,v),c.state!==s&&b_.enqueueReplaceState(c,c.state,null)}function Ac(s,c){var m=c;if("ref"in c){m={};for(var v in c)v!=="ref"&&(m[v]=c[v])}if(s=s.defaultProps){m===c&&(m=p({},m));for(var A in s)m[A]===void 0&&(m[A]=s[A])}return m}function uO(s){mc(s)}function dO(s){console.error(s)}function fO(s){mc(s)}function Og(s,c){try{var m=s.onUncaughtError;m(c.value,{componentStack:c.stack})}catch(v){setTimeout(function(){throw v})}}function hO(s,c,m){try{var v=s.onCaughtError;v(m.value,{componentStack:m.stack,errorBoundary:c.tag===1?c.stateNode:null})}catch(A){setTimeout(function(){throw A})}}function y_(s,c,m){return m=il(m),m.tag=3,m.payload={element:null},m.callback=function(){Og(s,c)},m}function mO(s){return s=il(s),s.tag=3,s}function pO(s,c,m,v){var A=m.type.getDerivedStateFromError;if(typeof A=="function"){var O=v.value;s.payload=function(){return A(O)},s.callback=function(){hO(c,m,v)}}var I=m.stateNode;I!==null&&typeof I.componentDidCatch=="function"&&(s.callback=function(){hO(c,m,v),typeof A!="function"&&(dl===null?dl=new Set([this]):dl.add(this));var G=v.stack;this.componentDidCatch(v.value,{componentStack:G!==null?G:""})})}function PF(s,c,m,v,A){if(m.flags|=32768,v!==null&&typeof v=="object"&&typeof v.then=="function"){if(c=m.alternate,c!==null&&Uu(c,m,A,!0),m=Si.current,m!==null){switch(m.tag){case 31:case 13:return ea===null?Ug():m.alternate===null&&yn===0&&(yn=3),m.flags&=-257,m.flags|=65536,m.lanes=A,v===gg?m.flags|=16384:(c=m.updateQueue,c===null?m.updateQueue=new Set([v]):c.add(v),H_(s,v,A)),!1;case 22:return m.flags|=65536,v===gg?m.flags|=16384:(c=m.updateQueue,c===null?(c={transitions:null,markerInstances:null,retryQueue:new Set([v])},m.updateQueue=c):(m=c.retryQueue,m===null?c.retryQueue=new Set([v]):m.add(v)),H_(s,v,A)),!1}throw Error(r(435,m.tag))}return H_(s,v,A),Ug(),!1}if(ft)return c=Si.current,c!==null?((c.flags&65536)===0&&(c.flags|=256),c.flags|=65536,c.lanes=A,v!==zu&&(s=Error(r(422),{cause:v}),yc(y(s,m)))):(v!==zu&&(c=Error(r(423),{cause:v}),yc(y(c,m))),s=s.current.alternate,s.flags|=65536,A&=-A,s.lanes|=A,v=y(v,m),A=y_(s.stateNode,v,A),Wx(s,A),yn!==4&&(yn=2)),!1;var O=Error(r(520),{cause:v});if(O=y(O,m),gh===null?gh=[O]:gh.push(O),yn!==4&&(yn=2),c===null)return!0;v=y(v,m),m=c;do{switch(m.tag){case 3:return m.flags|=65536,s=A&-A,m.lanes|=s,s=y_(m.stateNode,v,s),Wx(m,s),!1;case 1:if(c=m.type,O=m.stateNode,(m.flags&128)===0&&(typeof c.getDerivedStateFromError=="function"||O!==null&&typeof O.componentDidCatch=="function"&&(dl===null||!dl.has(O))))return m.flags|=65536,A&=-A,m.lanes|=A,A=mO(A),pO(A,s,m,v),Wx(m,A),!1}m=m.return}while(m!==null);return!1}var v_=Error(r(461)),Dn=!1;function mr(s,c,m,v){c.child=s===null?vj(c,null,m,v):kc(c,s.child,m,v)}function gO(s,c,m,v,A){m=m.render;var O=c.ref;if("ref"in v){var I={};for(var G in v)G!=="ref"&&(I[G]=v[G])}else I=v;return xc(c),v=e_(s,c,m,I,O,A),G=t_(),s!==null&&!Dn?(n_(s,c,A),Vo(s,c,A)):(ft&&G&&Fn(c),c.flags|=1,mr(s,c,v,A),c.child)}function bO(s,c,m,v,A){if(s===null){var O=m.type;return typeof O=="function"&&!$u(O)&&O.defaultProps===void 0&&m.compare===null?(c.tag=15,c.type=O,yO(s,c,O,v,A)):(s=bc(m.type,null,v,c,c.mode,A),s.ref=c.ref,s.return=c,c.child=s)}if(O=s.child,!T_(s,A)){var I=O.memoizedProps;if(m=m.compare,m=m!==null?m:Xs,m(I,v)&&s.ref===c.ref)return Vo(s,c,A)}return c.flags|=1,s=Qi(O,v),s.ref=c.ref,s.return=c,c.child=s}function yO(s,c,m,v,A){if(s!==null){var O=s.memoizedProps;if(Xs(O,v)&&s.ref===c.ref)if(Dn=!1,c.pendingProps=v=O,T_(s,A))(s.flags&131072)!==0&&(Dn=!0);else return c.lanes=s.lanes,Vo(s,c,A)}return x_(s,c,m,v,A)}function vO(s,c,m,v){var A=v.children,O=s!==null?s.memoizedState:null;if(s===null&&c.stateNode===null&&(c.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),v.mode==="hidden"){if((c.flags&128)!==0){if(O=O!==null?O.baseLanes|m:m,s!==null){for(v=c.child=s.child,A=0;v!==null;)A=A|v.lanes|v.childLanes,v=v.sibling;v=A&~O}else v=0,c.child=null;return xO(s,c,O,m,v)}if((m&536870912)!==0)c.memoizedState={baseLanes:0,cachePool:null},s!==null&&mg(c,O!==null?O.cachePool:null),O!==null?wj(c,O):Zx(),Sj(c);else return v=c.lanes=536870912,xO(s,c,O!==null?O.baseLanes|m:m,m,v)}else O!==null?(mg(c,O.cachePool),wj(c,O),sl(),c.memoizedState=null):(s!==null&&mg(c,null),Zx(),sl());return mr(s,c,A,m),c.child}function ch(s,c){return s!==null&&s.tag===22||c.stateNode!==null||(c.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),c.sibling}function xO(s,c,m,v,A){var O=Gx();return O=O===null?null:{parent:Cn._currentValue,pool:O},c.memoizedState={baseLanes:m,cachePool:O},s!==null&&mg(c,null),Zx(),Sj(c),s!==null&&Uu(s,c,v,!0),c.childLanes=A,null}function Ng(s,c){return c=Mg({mode:c.mode,children:c.children},s.mode),c.ref=s.ref,s.child=c,c.return=s,c}function _O(s,c,m){return kc(c,s.child,null,m),s=Ng(c,c.pendingProps),s.flags|=2,ki(c),c.memoizedState=null,s}function RF(s,c,m){var v=c.pendingProps,A=(c.flags&128)!==0;if(c.flags&=-129,s===null){if(ft){if(v.mode==="hidden")return s=Ng(c,v),c.lanes=536870912,ch(null,s);if(Jx(c),(s=St)?(s=DN(s,Jr),s=s!==null&&s.data==="&"?s:null,s!==null&&(c.memoizedState={dehydrated:s,treeContext:ge!==null?{id:Te,overflow:Le}:null,retryLane:536870912,hydrationErrors:null},m=Wf(s),m.return=c,c.child=m,wt=c,St=null)):s=null,s===null)throw oo(c);return c.lanes=536870912,null}return Ng(c,v)}var O=s.memoizedState;if(O!==null){var I=O.dehydrated;if(Jx(c),A)if(c.flags&256)c.flags&=-257,c=_O(s,c,m);else if(c.memoizedState!==null)c.child=s.child,c.flags|=128,c=null;else throw Error(r(558));else if(Dn||Uu(s,c,m,!1),A=(m&s.childLanes)!==0,Dn||A){if(v=Ut,v!==null&&(I=zp(v,m),I!==0&&I!==O.retryLane))throw O.retryLane=I,Ji(s,I),ri(v,s,I),v_;Ug(),c=_O(s,c,m)}else s=O.treeContext,St=ta(I.nextSibling),wt=c,ft=!0,ao=null,Jr=!1,s!==null&&Rr(c,s),c=Ng(c,v),c.flags|=4096;return c}return s=Qi(s.child,{mode:v.mode,children:v.children}),s.ref=c.ref,c.child=s,s.return=c,s}function Cg(s,c){var m=c.ref;if(m===null)s!==null&&s.ref!==null&&(c.flags|=4194816);else{if(typeof m!="function"&&typeof m!="object")throw Error(r(284));(s===null||s.ref!==m)&&(c.flags|=4194816)}}function x_(s,c,m,v,A){return xc(c),m=e_(s,c,m,v,void 0,A),v=t_(),s!==null&&!Dn?(n_(s,c,A),Vo(s,c,A)):(ft&&v&&Fn(c),c.flags|=1,mr(s,c,m,A),c.child)}function wO(s,c,m,v,A,O){return xc(c),c.updateQueue=null,m=Ej(c,v,m,A),kj(s),v=t_(),s!==null&&!Dn?(n_(s,c,O),Vo(s,c,O)):(ft&&v&&Fn(c),c.flags|=1,mr(s,c,m,O),c.child)}function SO(s,c,m,v,A){if(xc(c),c.stateNode===null){var O=Ho,I=m.contextType;typeof I=="object"&&I!==null&&(O=hr(I)),O=new m(v,O),c.memoizedState=O.state!==null&&O.state!==void 0?O.state:null,O.updater=b_,c.stateNode=O,O._reactInternals=c,O=c.stateNode,O.props=v,O.state=c.memoizedState,O.refs={},Yx(c),I=m.contextType,O.context=typeof I=="object"&&I!==null?hr(I):Ho,O.state=c.memoizedState,I=m.getDerivedStateFromProps,typeof I=="function"&&(g_(c,m,I,v),O.state=c.memoizedState),typeof m.getDerivedStateFromProps=="function"||typeof O.getSnapshotBeforeUpdate=="function"||typeof O.UNSAFE_componentWillMount!="function"&&typeof O.componentWillMount!="function"||(I=O.state,typeof O.componentWillMount=="function"&&O.componentWillMount(),typeof O.UNSAFE_componentWillMount=="function"&&O.UNSAFE_componentWillMount(),I!==O.state&&b_.enqueueReplaceState(O,O.state,null),ih(c,v,O,A),rh(),O.state=c.memoizedState),typeof O.componentDidMount=="function"&&(c.flags|=4194308),v=!0}else if(s===null){O=c.stateNode;var G=c.memoizedProps,te=Ac(m,G);O.props=te;var pe=O.context,Se=m.contextType;I=Ho,typeof Se=="object"&&Se!==null&&(I=hr(Se));var je=m.getDerivedStateFromProps;Se=typeof je=="function"||typeof O.getSnapshotBeforeUpdate=="function",G=c.pendingProps!==G,Se||typeof O.UNSAFE_componentWillReceiveProps!="function"&&typeof O.componentWillReceiveProps!="function"||(G||pe!==I)&&cO(c,O,v,I),rl=!1;var be=c.memoizedState;O.state=be,ih(c,v,O,A),rh(),pe=c.memoizedState,G||be!==pe||rl?(typeof je=="function"&&(g_(c,m,je,v),pe=c.memoizedState),(te=rl||lO(c,m,te,v,be,pe,I))?(Se||typeof O.UNSAFE_componentWillMount!="function"&&typeof O.componentWillMount!="function"||(typeof O.componentWillMount=="function"&&O.componentWillMount(),typeof O.UNSAFE_componentWillMount=="function"&&O.UNSAFE_componentWillMount()),typeof O.componentDidMount=="function"&&(c.flags|=4194308)):(typeof O.componentDidMount=="function"&&(c.flags|=4194308),c.memoizedProps=v,c.memoizedState=pe),O.props=v,O.state=pe,O.context=I,v=te):(typeof O.componentDidMount=="function"&&(c.flags|=4194308),v=!1)}else{O=c.stateNode,Kx(s,c),I=c.memoizedProps,Se=Ac(m,I),O.props=Se,je=c.pendingProps,be=O.context,pe=m.contextType,te=Ho,typeof pe=="object"&&pe!==null&&(te=hr(pe)),G=m.getDerivedStateFromProps,(pe=typeof G=="function"||typeof O.getSnapshotBeforeUpdate=="function")||typeof O.UNSAFE_componentWillReceiveProps!="function"&&typeof O.componentWillReceiveProps!="function"||(I!==je||be!==te)&&cO(c,O,v,te),rl=!1,be=c.memoizedState,O.state=be,ih(c,v,O,A),rh();var ve=c.memoizedState;I!==je||be!==ve||rl||s!==null&&s.dependencies!==null&&fg(s.dependencies)?(typeof G=="function"&&(g_(c,m,G,v),ve=c.memoizedState),(Se=rl||lO(c,m,Se,v,be,ve,te)||s!==null&&s.dependencies!==null&&fg(s.dependencies))?(pe||typeof O.UNSAFE_componentWillUpdate!="function"&&typeof O.componentWillUpdate!="function"||(typeof O.componentWillUpdate=="function"&&O.componentWillUpdate(v,ve,te),typeof O.UNSAFE_componentWillUpdate=="function"&&O.UNSAFE_componentWillUpdate(v,ve,te)),typeof O.componentDidUpdate=="function"&&(c.flags|=4),typeof O.getSnapshotBeforeUpdate=="function"&&(c.flags|=1024)):(typeof O.componentDidUpdate!="function"||I===s.memoizedProps&&be===s.memoizedState||(c.flags|=4),typeof O.getSnapshotBeforeUpdate!="function"||I===s.memoizedProps&&be===s.memoizedState||(c.flags|=1024),c.memoizedProps=v,c.memoizedState=ve),O.props=v,O.state=ve,O.context=te,v=Se):(typeof O.componentDidUpdate!="function"||I===s.memoizedProps&&be===s.memoizedState||(c.flags|=4),typeof O.getSnapshotBeforeUpdate!="function"||I===s.memoizedProps&&be===s.memoizedState||(c.flags|=1024),v=!1)}return O=v,Cg(s,c),v=(c.flags&128)!==0,O||v?(O=c.stateNode,m=v&&typeof m.getDerivedStateFromError!="function"?null:O.render(),c.flags|=1,s!==null&&v?(c.child=kc(c,s.child,null,A),c.child=kc(c,null,m,A)):mr(s,c,m,A),c.memoizedState=O.state,s=c.child):s=Vo(s,c,A),s}function kO(s,c,m,v){return qo(),c.flags|=256,mr(s,c,m,v),c.child}var __={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function w_(s){return{baseLanes:s,cachePool:hj()}}function S_(s,c,m){return s=s!==null?s.childLanes&~m:0,c&&(s|=Ai),s}function EO(s,c,m){var v=c.pendingProps,A=!1,O=(c.flags&128)!==0,I;if((I=O)||(I=s!==null&&s.memoizedState===null?!1:(Sn.current&2)!==0),I&&(A=!0,c.flags&=-129),I=(c.flags&32)!==0,c.flags&=-33,s===null){if(ft){if(A?ol(c):sl(),(s=St)?(s=DN(s,Jr),s=s!==null&&s.data!=="&"?s:null,s!==null&&(c.memoizedState={dehydrated:s,treeContext:ge!==null?{id:Te,overflow:Le}:null,retryLane:536870912,hydrationErrors:null},m=Wf(s),m.return=c,c.child=m,wt=c,St=null)):s=null,s===null)throw oo(c);return aw(s)?c.lanes=32:c.lanes=536870912,null}var G=v.children;return v=v.fallback,A?(sl(),A=c.mode,G=Mg({mode:"hidden",children:G},A),v=Go(v,A,m,null),G.return=c,v.return=c,G.sibling=v,c.child=G,v=c.child,v.memoizedState=w_(m),v.childLanes=S_(s,I,m),c.memoizedState=__,ch(null,v)):(ol(c),k_(c,G))}var te=s.memoizedState;if(te!==null&&(G=te.dehydrated,G!==null)){if(O)c.flags&256?(ol(c),c.flags&=-257,c=E_(s,c,m)):c.memoizedState!==null?(sl(),c.child=s.child,c.flags|=128,c=null):(sl(),G=v.fallback,A=c.mode,v=Mg({mode:"visible",children:v.children},A),G=Go(G,A,m,null),G.flags|=2,v.return=c,G.return=c,v.sibling=G,c.child=v,kc(c,s.child,null,m),v=c.child,v.memoizedState=w_(m),v.childLanes=S_(s,I,m),c.memoizedState=__,c=ch(null,v));else if(ol(c),aw(G)){if(I=G.nextSibling&&G.nextSibling.dataset,I)var pe=I.dgst;I=pe,v=Error(r(419)),v.stack="",v.digest=I,yc({value:v,source:null,stack:null}),c=E_(s,c,m)}else if(Dn||Uu(s,c,m,!1),I=(m&s.childLanes)!==0,Dn||I){if(I=Ut,I!==null&&(v=zp(I,m),v!==0&&v!==te.retryLane))throw te.retryLane=v,Ji(s,v),ri(I,s,v),v_;iw(G)||Ug(),c=E_(s,c,m)}else iw(G)?(c.flags|=192,c.child=s.child,c=null):(s=te.treeContext,St=ta(G.nextSibling),wt=c,ft=!0,ao=null,Jr=!1,s!==null&&Rr(c,s),c=k_(c,v.children),c.flags|=4096);return c}return A?(sl(),G=v.fallback,A=c.mode,te=s.child,pe=te.sibling,v=Qi(te,{mode:"hidden",children:v.children}),v.subtreeFlags=te.subtreeFlags&65011712,pe!==null?G=Qi(pe,G):(G=Go(G,A,m,null),G.flags|=2),G.return=c,v.return=c,v.sibling=G,c.child=v,ch(null,v),v=c.child,G=s.child.memoizedState,G===null?G=w_(m):(A=G.cachePool,A!==null?(te=Cn._currentValue,A=A.parent!==te?{parent:te,pool:te}:A):A=hj(),G={baseLanes:G.baseLanes|m,cachePool:A}),v.memoizedState=G,v.childLanes=S_(s,I,m),c.memoizedState=__,ch(s.child,v)):(ol(c),m=s.child,s=m.sibling,m=Qi(m,{mode:"visible",children:v.children}),m.return=c,m.sibling=null,s!==null&&(I=c.deletions,I===null?(c.deletions=[s],c.flags|=16):I.push(s)),c.child=m,c.memoizedState=null,m)}function k_(s,c){return c=Mg({mode:"visible",children:c},s.mode),c.return=s,s.child=c}function Mg(s,c){return s=Ar(22,s,null,c),s.lanes=0,s}function E_(s,c,m){return kc(c,s.child,null,m),s=k_(c,c.pendingProps.children),s.flags|=2,c.memoizedState=null,s}function AO(s,c,m){s.lanes|=c;var v=s.alternate;v!==null&&(v.lanes|=c),zx(s.return,c,m)}function A_(s,c,m,v,A,O){var I=s.memoizedState;I===null?s.memoizedState={isBackwards:c,rendering:null,renderingStartTime:0,last:v,tail:m,tailMode:A,treeForkCount:O}:(I.isBackwards=c,I.rendering=null,I.renderingStartTime=0,I.last=v,I.tail=m,I.tailMode=A,I.treeForkCount=O)}function TO(s,c,m){var v=c.pendingProps,A=v.revealOrder,O=v.tail;v=v.children;var I=Sn.current,G=(I&2)!==0;if(G?(I=I&1|2,c.flags|=128):I&=1,ie(Sn,I),mr(s,c,v,m),v=ft?F:0,!G&&s!==null&&(s.flags&128)!==0)e:for(s=c.child;s!==null;){if(s.tag===13)s.memoizedState!==null&&AO(s,m,c);else if(s.tag===19)AO(s,m,c);else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===c)break e;for(;s.sibling===null;){if(s.return===null||s.return===c)break e;s=s.return}s.sibling.return=s.return,s=s.sibling}switch(A){case"forwards":for(m=c.child,A=null;m!==null;)s=m.alternate,s!==null&&xg(s)===null&&(A=m),m=m.sibling;m=A,m===null?(A=c.child,c.child=null):(A=m.sibling,m.sibling=null),A_(c,!1,A,m,O,v);break;case"backwards":case"unstable_legacy-backwards":for(m=null,A=c.child,c.child=null;A!==null;){if(s=A.alternate,s!==null&&xg(s)===null){c.child=A;break}s=A.sibling,A.sibling=m,m=A,A=s}A_(c,!0,m,null,O,v);break;case"together":A_(c,!1,null,null,void 0,v);break;default:c.memoizedState=null}return c.child}function Vo(s,c,m){if(s!==null&&(c.dependencies=s.dependencies),ul|=c.lanes,(m&c.childLanes)===0)if(s!==null){if(Uu(s,c,m,!1),(m&c.childLanes)===0)return null}else return null;if(s!==null&&c.child!==s.child)throw Error(r(153));if(c.child!==null){for(s=c.child,m=Qi(s,s.pendingProps),c.child=m,m.return=c;s.sibling!==null;)s=s.sibling,m=m.sibling=Qi(s,s.pendingProps),m.return=c;m.sibling=null}return c.child}function T_(s,c){return(s.lanes&c)!==0?!0:(s=s.dependencies,!!(s!==null&&fg(s)))}function LF(s,c,m){switch(c.tag){case 3:ke(c,c.stateNode.containerInfo),nl(c,Cn,s.memoizedState.cache),qo();break;case 27:case 5:xe(c);break;case 4:ke(c,c.stateNode.containerInfo);break;case 10:nl(c,c.type,c.memoizedProps.value);break;case 31:if(c.memoizedState!==null)return c.flags|=128,Jx(c),null;break;case 13:var v=c.memoizedState;if(v!==null)return v.dehydrated!==null?(ol(c),c.flags|=128,null):(m&c.child.childLanes)!==0?EO(s,c,m):(ol(c),s=Vo(s,c,m),s!==null?s.sibling:null);ol(c);break;case 19:var A=(s.flags&128)!==0;if(v=(m&c.childLanes)!==0,v||(Uu(s,c,m,!1),v=(m&c.childLanes)!==0),A){if(v)return TO(s,c,m);c.flags|=128}if(A=c.memoizedState,A!==null&&(A.rendering=null,A.tail=null,A.lastEffect=null),ie(Sn,Sn.current),v)break;return null;case 22:return c.lanes=0,vO(s,c,m,c.pendingProps);case 24:nl(c,Cn,s.memoizedState.cache)}return Vo(s,c,m)}function jO(s,c,m){if(s!==null)if(s.memoizedProps!==c.pendingProps)Dn=!0;else{if(!T_(s,m)&&(c.flags&128)===0)return Dn=!1,LF(s,c,m);Dn=(s.flags&131072)!==0}else Dn=!1,ft&&(c.flags&1048576)!==0&&lt(c,F,c.index);switch(c.lanes=0,c.tag){case 16:e:{var v=c.pendingProps;if(s=wc(c.elementType),c.type=s,typeof s=="function")$u(s)?(v=Ac(s,v),c.tag=1,c=SO(null,c,s,v,m)):(c.tag=0,c=x_(null,c,s,v,m));else{if(s!=null){var A=s.$$typeof;if(A===C){c.tag=11,c=gO(null,c,s,v,m);break e}else if(A===$){c.tag=14,c=bO(null,c,s,v,m);break e}}throw c=X(s)||s,Error(r(306,c,""))}}return c;case 0:return x_(s,c,c.type,c.pendingProps,m);case 1:return v=c.type,A=Ac(v,c.pendingProps),SO(s,c,v,A,m);case 3:e:{if(ke(c,c.stateNode.containerInfo),s===null)throw Error(r(387));v=c.pendingProps;var O=c.memoizedState;A=O.element,Kx(s,c),ih(c,v,null,m);var I=c.memoizedState;if(v=I.cache,nl(c,Cn,v),v!==O.cache&&Ux(c,[Cn],m,!0),rh(),v=I.element,O.isDehydrated)if(O={element:v,isDehydrated:!1,cache:I.cache},c.updateQueue.baseState=O,c.memoizedState=O,c.flags&256){c=kO(s,c,v,m);break e}else if(v!==A){A=y(Error(r(424)),c),yc(A),c=kO(s,c,v,m);break e}else{switch(s=c.stateNode.containerInfo,s.nodeType){case 9:s=s.body;break;default:s=s.nodeName==="HTML"?s.ownerDocument.body:s}for(St=ta(s.firstChild),wt=c,ft=!0,ao=null,Jr=!0,m=vj(c,null,v,m),c.child=m;m;)m.flags=m.flags&-3|4096,m=m.sibling}else{if(qo(),v===A){c=Vo(s,c,m);break e}mr(s,c,v,m)}c=c.child}return c;case 26:return Cg(s,c),s===null?(m=BN(c.type,null,c.pendingProps,null))?c.memoizedState=m:ft||(m=c.type,s=c.pendingProps,v=Wg(fe.current).createElement(m),v[On]=c,v[Qn]=s,pr(v,m,s),Nn(v),c.stateNode=v):c.memoizedState=BN(c.type,s.memoizedProps,c.pendingProps,s.memoizedState),null;case 27:return xe(c),s===null&&ft&&(v=c.stateNode=LN(c.type,c.pendingProps,fe.current),wt=c,Jr=!0,A=St,pl(c.type)?(ow=A,St=ta(v.firstChild)):St=A),mr(s,c,c.pendingProps.children,m),Cg(s,c),s===null&&(c.flags|=4194304),c.child;case 5:return s===null&&ft&&((A=v=St)&&(v=fH(v,c.type,c.pendingProps,Jr),v!==null?(c.stateNode=v,wt=c,St=ta(v.firstChild),Jr=!1,A=!0):A=!1),A||oo(c)),xe(c),A=c.type,O=c.pendingProps,I=s!==null?s.memoizedProps:null,v=O.children,tw(A,O)?v=null:I!==null&&tw(A,I)&&(c.flags|=32),c.memoizedState!==null&&(A=e_(s,c,TF,null,null,m),kh._currentValue=A),Cg(s,c),mr(s,c,v,m),c.child;case 6:return s===null&&ft&&((s=m=St)&&(m=hH(m,c.pendingProps,Jr),m!==null?(c.stateNode=m,wt=c,St=null,s=!0):s=!1),s||oo(c)),null;case 13:return EO(s,c,m);case 4:return ke(c,c.stateNode.containerInfo),v=c.pendingProps,s===null?c.child=kc(c,null,v,m):mr(s,c,v,m),c.child;case 11:return gO(s,c,c.type,c.pendingProps,m);case 7:return mr(s,c,c.pendingProps,m),c.child;case 8:return mr(s,c,c.pendingProps.children,m),c.child;case 12:return mr(s,c,c.pendingProps.children,m),c.child;case 10:return v=c.pendingProps,nl(c,c.type,v.value),mr(s,c,v.children,m),c.child;case 9:return A=c.type._context,v=c.pendingProps.children,xc(c),A=hr(A),v=v(A),c.flags|=1,mr(s,c,v,m),c.child;case 14:return bO(s,c,c.type,c.pendingProps,m);case 15:return yO(s,c,c.type,c.pendingProps,m);case 19:return TO(s,c,m);case 31:return RF(s,c,m);case 22:return vO(s,c,m,c.pendingProps);case 24:return xc(c),v=hr(Cn),s===null?(A=Gx(),A===null&&(A=Ut,O=Fx(),A.pooledCache=O,O.refCount++,O!==null&&(A.pooledCacheLanes|=m),A=O),c.memoizedState={parent:v,cache:A},Yx(c),nl(c,Cn,A)):((s.lanes&m)!==0&&(Kx(s,c),ih(c,null,null,m),rh()),A=s.memoizedState,O=c.memoizedState,A.parent!==v?(A={parent:v,cache:v},c.memoizedState=A,c.lanes===0&&(c.memoizedState=c.updateQueue.baseState=A),nl(c,Cn,v)):(v=O.cache,nl(c,Cn,v),v!==A.cache&&Ux(c,[Cn],m,!0))),mr(s,c,c.pendingProps.children,m),c.child;case 29:throw c.pendingProps}throw Error(r(156,c.tag))}function Zo(s){s.flags|=4}function j_(s,c,m,v,A){if((c=(s.mode&32)!==0)&&(c=!1),c){if(s.flags|=16777216,(A&335544128)===A)if(s.stateNode.complete)s.flags|=8192;else if(tN())s.flags|=8192;else throw Sc=gg,qx}else s.flags&=-16777217}function OO(s,c){if(c.type!=="stylesheet"||(c.state.loading&4)!==0)s.flags&=-16777217;else if(s.flags|=16777216,!GN(c))if(tN())s.flags|=8192;else throw Sc=gg,qx}function Dg(s,c){c!==null&&(s.flags|=4),s.flags&16384&&(c=s.tag!==22?Ip():536870912,s.lanes|=c,Qu|=c)}function uh(s,c){if(!ft)switch(s.tailMode){case"hidden":c=s.tail;for(var m=null;c!==null;)c.alternate!==null&&(m=c),c=c.sibling;m===null?s.tail=null:m.sibling=null;break;case"collapsed":m=s.tail;for(var v=null;m!==null;)m.alternate!==null&&(v=m),m=m.sibling;v===null?c||s.tail===null?s.tail=null:s.tail.sibling=null:v.sibling=null}}function Xt(s){var c=s.alternate!==null&&s.alternate.child===s.child,m=0,v=0;if(c)for(var A=s.child;A!==null;)m|=A.lanes|A.childLanes,v|=A.subtreeFlags&65011712,v|=A.flags&65011712,A.return=s,A=A.sibling;else for(A=s.child;A!==null;)m|=A.lanes|A.childLanes,v|=A.subtreeFlags,v|=A.flags,A.return=s,A=A.sibling;return s.subtreeFlags|=v,s.childLanes=m,c}function IF(s,c,m){var v=c.pendingProps;switch(gn(c),c.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Xt(c),null;case 1:return Xt(c),null;case 3:return m=c.stateNode,v=null,s!==null&&(v=s.memoizedState.cache),c.memoizedState.cache!==v&&(c.flags|=2048),Yo(Cn),re(),m.pendingContext&&(m.context=m.pendingContext,m.pendingContext=null),(s===null||s.child===null)&&(Ta(c)?Zo(c):s===null||s.memoizedState.isDehydrated&&(c.flags&256)===0||(c.flags|=1024,Xf())),Xt(c),null;case 26:var A=c.type,O=c.memoizedState;return s===null?(Zo(c),O!==null?(Xt(c),OO(c,O)):(Xt(c),j_(c,A,null,v,m))):O?O!==s.memoizedState?(Zo(c),Xt(c),OO(c,O)):(Xt(c),c.flags&=-16777217):(s=s.memoizedProps,s!==v&&Zo(c),Xt(c),j_(c,A,s,v,m)),null;case 27:if(Ne(c),m=fe.current,A=c.type,s!==null&&c.stateNode!=null)s.memoizedProps!==v&&Zo(c);else{if(!v){if(c.stateNode===null)throw Error(r(166));return Xt(c),null}s=J.current,Ta(c)?Zf(c):(s=LN(A,v,m),c.stateNode=s,Zo(c))}return Xt(c),null;case 5:if(Ne(c),A=c.type,s!==null&&c.stateNode!=null)s.memoizedProps!==v&&Zo(c);else{if(!v){if(c.stateNode===null)throw Error(r(166));return Xt(c),null}if(O=J.current,Ta(c))Zf(c);else{var I=Wg(fe.current);switch(O){case 1:O=I.createElementNS("http://www.w3.org/2000/svg",A);break;case 2:O=I.createElementNS("http://www.w3.org/1998/Math/MathML",A);break;default:switch(A){case"svg":O=I.createElementNS("http://www.w3.org/2000/svg",A);break;case"math":O=I.createElementNS("http://www.w3.org/1998/Math/MathML",A);break;case"script":O=I.createElement("div"),O.innerHTML="<script><\/script>",O=O.removeChild(O.firstChild);break;case"select":O=typeof v.is=="string"?I.createElement("select",{is:v.is}):I.createElement("select"),v.multiple?O.multiple=!0:v.size&&(O.size=v.size);break;default:O=typeof v.is=="string"?I.createElement(A,{is:v.is}):I.createElement(A)}}O[On]=c,O[Qn]=v;e:for(I=c.child;I!==null;){if(I.tag===5||I.tag===6)O.appendChild(I.stateNode);else if(I.tag!==4&&I.tag!==27&&I.child!==null){I.child.return=I,I=I.child;continue}if(I===c)break e;for(;I.sibling===null;){if(I.return===null||I.return===c)break e;I=I.return}I.sibling.return=I.return,I=I.sibling}c.stateNode=O;e:switch(pr(O,A,v),A){case"button":case"input":case"select":case"textarea":v=!!v.autoFocus;break e;case"img":v=!0;break e;default:v=!1}v&&Zo(c)}}return Xt(c),j_(c,c.type,s===null?null:s.memoizedProps,c.pendingProps,m),null;case 6:if(s&&c.stateNode!=null)s.memoizedProps!==v&&Zo(c);else{if(typeof v!="string"&&c.stateNode===null)throw Error(r(166));if(s=fe.current,Ta(c)){if(s=c.stateNode,m=c.memoizedProps,v=null,A=wt,A!==null)switch(A.tag){case 27:case 5:v=A.memoizedProps}s[On]=c,s=!!(s.nodeValue===m||v!==null&&v.suppressHydrationWarning===!0||EN(s.nodeValue,m)),s||oo(c,!0)}else s=Wg(s).createTextNode(v),s[On]=c,c.stateNode=s}return Xt(c),null;case 31:if(m=c.memoizedState,s===null||s.memoizedState!==null){if(v=Ta(c),m!==null){if(s===null){if(!v)throw Error(r(318));if(s=c.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(r(557));s[On]=c}else qo(),(c.flags&128)===0&&(c.memoizedState=null),c.flags|=4;Xt(c),s=!1}else m=Xf(),s!==null&&s.memoizedState!==null&&(s.memoizedState.hydrationErrors=m),s=!0;if(!s)return c.flags&256?(ki(c),c):(ki(c),null);if((c.flags&128)!==0)throw Error(r(558))}return Xt(c),null;case 13:if(v=c.memoizedState,s===null||s.memoizedState!==null&&s.memoizedState.dehydrated!==null){if(A=Ta(c),v!==null&&v.dehydrated!==null){if(s===null){if(!A)throw Error(r(318));if(A=c.memoizedState,A=A!==null?A.dehydrated:null,!A)throw Error(r(317));A[On]=c}else qo(),(c.flags&128)===0&&(c.memoizedState=null),c.flags|=4;Xt(c),A=!1}else A=Xf(),s!==null&&s.memoizedState!==null&&(s.memoizedState.hydrationErrors=A),A=!0;if(!A)return c.flags&256?(ki(c),c):(ki(c),null)}return ki(c),(c.flags&128)!==0?(c.lanes=m,c):(m=v!==null,s=s!==null&&s.memoizedState!==null,m&&(v=c.child,A=null,v.alternate!==null&&v.alternate.memoizedState!==null&&v.alternate.memoizedState.cachePool!==null&&(A=v.alternate.memoizedState.cachePool.pool),O=null,v.memoizedState!==null&&v.memoizedState.cachePool!==null&&(O=v.memoizedState.cachePool.pool),O!==A&&(v.flags|=2048)),m!==s&&m&&(c.child.flags|=8192),Dg(c,c.updateQueue),Xt(c),null);case 4:return re(),s===null&&Z_(c.stateNode.containerInfo),Xt(c),null;case 10:return Yo(c.type),Xt(c),null;case 19:if(K(Sn),v=c.memoizedState,v===null)return Xt(c),null;if(A=(c.flags&128)!==0,O=v.rendering,O===null)if(A)uh(v,!1);else{if(yn!==0||s!==null&&(s.flags&128)!==0)for(s=c.child;s!==null;){if(O=xg(s),O!==null){for(c.flags|=128,uh(v,!1),s=O.updateQueue,c.updateQueue=s,Dg(c,s),c.subtreeFlags=0,s=m,m=c.child;m!==null;)Kf(m,s),m=m.sibling;return ie(Sn,Sn.current&1|2),ft&&Ye(c,v.treeForkCount),c.child}s=s.sibling}v.tail!==null&&Be()>$g&&(c.flags|=128,A=!0,uh(v,!1),c.lanes=4194304)}else{if(!A)if(s=xg(O),s!==null){if(c.flags|=128,A=!0,s=s.updateQueue,c.updateQueue=s,Dg(c,s),uh(v,!0),v.tail===null&&v.tailMode==="hidden"&&!O.alternate&&!ft)return Xt(c),null}else 2*Be()-v.renderingStartTime>$g&&m!==536870912&&(c.flags|=128,A=!0,uh(v,!1),c.lanes=4194304);v.isBackwards?(O.sibling=c.child,c.child=O):(s=v.last,s!==null?s.sibling=O:c.child=O,v.last=O)}return v.tail!==null?(s=v.tail,v.rendering=s,v.tail=s.sibling,v.renderingStartTime=Be(),s.sibling=null,m=Sn.current,ie(Sn,A?m&1|2:m&1),ft&&Ye(c,v.treeForkCount),s):(Xt(c),null);case 22:case 23:return ki(c),Xx(),v=c.memoizedState!==null,s!==null?s.memoizedState!==null!==v&&(c.flags|=8192):v&&(c.flags|=8192),v?(m&536870912)!==0&&(c.flags&128)===0&&(Xt(c),c.subtreeFlags&6&&(c.flags|=8192)):Xt(c),m=c.updateQueue,m!==null&&Dg(c,m.retryQueue),m=null,s!==null&&s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(m=s.memoizedState.cachePool.pool),v=null,c.memoizedState!==null&&c.memoizedState.cachePool!==null&&(v=c.memoizedState.cachePool.pool),v!==m&&(c.flags|=2048),s!==null&&K(_c),null;case 24:return m=null,s!==null&&(m=s.memoizedState.cache),c.memoizedState.cache!==m&&(c.flags|=2048),Yo(Cn),Xt(c),null;case 25:return null;case 30:return null}throw Error(r(156,c.tag))}function $F(s,c){switch(gn(c),c.tag){case 1:return s=c.flags,s&65536?(c.flags=s&-65537|128,c):null;case 3:return Yo(Cn),re(),s=c.flags,(s&65536)!==0&&(s&128)===0?(c.flags=s&-65537|128,c):null;case 26:case 27:case 5:return Ne(c),null;case 31:if(c.memoizedState!==null){if(ki(c),c.alternate===null)throw Error(r(340));qo()}return s=c.flags,s&65536?(c.flags=s&-65537|128,c):null;case 13:if(ki(c),s=c.memoizedState,s!==null&&s.dehydrated!==null){if(c.alternate===null)throw Error(r(340));qo()}return s=c.flags,s&65536?(c.flags=s&-65537|128,c):null;case 19:return K(Sn),null;case 4:return re(),null;case 10:return Yo(c.type),null;case 22:case 23:return ki(c),Xx(),s!==null&&K(_c),s=c.flags,s&65536?(c.flags=s&-65537|128,c):null;case 24:return Yo(Cn),null;case 25:return null;default:return null}}function NO(s,c){switch(gn(c),c.tag){case 3:Yo(Cn),re();break;case 26:case 27:case 5:Ne(c);break;case 4:re();break;case 31:c.memoizedState!==null&&ki(c);break;case 13:ki(c);break;case 19:K(Sn);break;case 10:Yo(c.type);break;case 22:case 23:ki(c),Xx(),s!==null&&K(_c);break;case 24:Yo(Cn)}}function dh(s,c){try{var m=c.updateQueue,v=m!==null?m.lastEffect:null;if(v!==null){var A=v.next;m=A;do{if((m.tag&s)===s){v=void 0;var O=m.create,I=m.inst;v=O(),I.destroy=v}m=m.next}while(m!==A)}}catch(G){Pt(c,c.return,G)}}function ll(s,c,m){try{var v=c.updateQueue,A=v!==null?v.lastEffect:null;if(A!==null){var O=A.next;v=O;do{if((v.tag&s)===s){var I=v.inst,G=I.destroy;if(G!==void 0){I.destroy=void 0,A=c;var te=m,pe=G;try{pe()}catch(Se){Pt(A,te,Se)}}}v=v.next}while(v!==O)}}catch(Se){Pt(c,c.return,Se)}}function CO(s){var c=s.updateQueue;if(c!==null){var m=s.stateNode;try{_j(c,m)}catch(v){Pt(s,s.return,v)}}}function MO(s,c,m){m.props=Ac(s.type,s.memoizedProps),m.state=s.memoizedState;try{m.componentWillUnmount()}catch(v){Pt(s,c,v)}}function fh(s,c){try{var m=s.ref;if(m!==null){switch(s.tag){case 26:case 27:case 5:var v=s.stateNode;break;case 30:v=s.stateNode;break;default:v=s.stateNode}typeof m=="function"?s.refCleanup=m(v):m.current=v}}catch(A){Pt(s,c,A)}}function lo(s,c){var m=s.ref,v=s.refCleanup;if(m!==null)if(typeof v=="function")try{v()}catch(A){Pt(s,c,A)}finally{s.refCleanup=null,s=s.alternate,s!=null&&(s.refCleanup=null)}else if(typeof m=="function")try{m(null)}catch(A){Pt(s,c,A)}else m.current=null}function DO(s){var c=s.type,m=s.memoizedProps,v=s.stateNode;try{e:switch(c){case"button":case"input":case"select":case"textarea":m.autoFocus&&v.focus();break e;case"img":m.src?v.src=m.src:m.srcSet&&(v.srcset=m.srcSet)}}catch(A){Pt(s,s.return,A)}}function O_(s,c,m){try{var v=s.stateNode;oH(v,s.type,m,c),v[Qn]=c}catch(A){Pt(s,s.return,A)}}function PO(s){return s.tag===5||s.tag===3||s.tag===26||s.tag===27&&pl(s.type)||s.tag===4}function N_(s){e:for(;;){for(;s.sibling===null;){if(s.return===null||PO(s.return))return null;s=s.return}for(s.sibling.return=s.return,s=s.sibling;s.tag!==5&&s.tag!==6&&s.tag!==18;){if(s.tag===27&&pl(s.type)||s.flags&2||s.child===null||s.tag===4)continue e;s.child.return=s,s=s.child}if(!(s.flags&2))return s.stateNode}}function C_(s,c,m){var v=s.tag;if(v===5||v===6)s=s.stateNode,c?(m.nodeType===9?m.body:m.nodeName==="HTML"?m.ownerDocument.body:m).insertBefore(s,c):(c=m.nodeType===9?m.body:m.nodeName==="HTML"?m.ownerDocument.body:m,c.appendChild(s),m=m._reactRootContainer,m!=null||c.onclick!==null||(c.onclick=Wr));else if(v!==4&&(v===27&&pl(s.type)&&(m=s.stateNode,c=null),s=s.child,s!==null))for(C_(s,c,m),s=s.sibling;s!==null;)C_(s,c,m),s=s.sibling}function Pg(s,c,m){var v=s.tag;if(v===5||v===6)s=s.stateNode,c?m.insertBefore(s,c):m.appendChild(s);else if(v!==4&&(v===27&&pl(s.type)&&(m=s.stateNode),s=s.child,s!==null))for(Pg(s,c,m),s=s.sibling;s!==null;)Pg(s,c,m),s=s.sibling}function RO(s){var c=s.stateNode,m=s.memoizedProps;try{for(var v=s.type,A=c.attributes;A.length;)c.removeAttributeNode(A[0]);pr(c,v,m),c[On]=s,c[Qn]=m}catch(O){Pt(s,s.return,O)}}var Xo=!1,Pn=!1,M_=!1,LO=typeof WeakSet=="function"?WeakSet:Set,nr=null;function BF(s,c){if(s=s.containerInfo,Q_=t0,s=uc(s),eo(s)){if("selectionStart"in s)var m={start:s.selectionStart,end:s.selectionEnd};else e:{m=(m=s.ownerDocument)&&m.defaultView||window;var v=m.getSelection&&m.getSelection();if(v&&v.rangeCount!==0){m=v.anchorNode;var A=v.anchorOffset,O=v.focusNode;v=v.focusOffset;try{m.nodeType,O.nodeType}catch{m=null;break e}var I=0,G=-1,te=-1,pe=0,Se=0,je=s,be=null;t:for(;;){for(var ve;je!==m||A!==0&&je.nodeType!==3||(G=I+A),je!==O||v!==0&&je.nodeType!==3||(te=I+v),je.nodeType===3&&(I+=je.nodeValue.length),(ve=je.firstChild)!==null;)be=je,je=ve;for(;;){if(je===s)break t;if(be===m&&++pe===A&&(G=I),be===O&&++Se===v&&(te=I),(ve=je.nextSibling)!==null)break;je=be,be=je.parentNode}je=ve}m=G===-1||te===-1?null:{start:G,end:te}}else m=null}m=m||{start:0,end:0}}else m=null;for(ew={focusedElem:s,selectionRange:m},t0=!1,nr=c;nr!==null;)if(c=nr,s=c.child,(c.subtreeFlags&1028)!==0&&s!==null)s.return=c,nr=s;else for(;nr!==null;){switch(c=nr,O=c.alternate,s=c.flags,c.tag){case 0:if((s&4)!==0&&(s=c.updateQueue,s=s!==null?s.events:null,s!==null))for(m=0;m<s.length;m++)A=s[m],A.ref.impl=A.nextImpl;break;case 11:case 15:break;case 1:if((s&1024)!==0&&O!==null){s=void 0,m=c,A=O.memoizedProps,O=O.memoizedState,v=m.stateNode;try{var ze=Ac(m.type,A);s=v.getSnapshotBeforeUpdate(ze,O),v.__reactInternalSnapshotBeforeUpdate=s}catch(et){Pt(m,m.return,et)}}break;case 3:if((s&1024)!==0){if(s=c.stateNode.containerInfo,m=s.nodeType,m===9)rw(s);else if(m===1)switch(s.nodeName){case"HEAD":case"HTML":case"BODY":rw(s);break;default:s.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((s&1024)!==0)throw Error(r(163))}if(s=c.sibling,s!==null){s.return=c.return,nr=s;break}nr=c.return}}function IO(s,c,m){var v=m.flags;switch(m.tag){case 0:case 11:case 15:Qo(s,m),v&4&&dh(5,m);break;case 1:if(Qo(s,m),v&4)if(s=m.stateNode,c===null)try{s.componentDidMount()}catch(I){Pt(m,m.return,I)}else{var A=Ac(m.type,c.memoizedProps);c=c.memoizedState;try{s.componentDidUpdate(A,c,s.__reactInternalSnapshotBeforeUpdate)}catch(I){Pt(m,m.return,I)}}v&64&&CO(m),v&512&&fh(m,m.return);break;case 3:if(Qo(s,m),v&64&&(s=m.updateQueue,s!==null)){if(c=null,m.child!==null)switch(m.child.tag){case 27:case 5:c=m.child.stateNode;break;case 1:c=m.child.stateNode}try{_j(s,c)}catch(I){Pt(m,m.return,I)}}break;case 27:c===null&&v&4&&RO(m);case 26:case 5:Qo(s,m),c===null&&v&4&&DO(m),v&512&&fh(m,m.return);break;case 12:Qo(s,m);break;case 31:Qo(s,m),v&4&&zO(s,m);break;case 13:Qo(s,m),v&4&&UO(s,m),v&64&&(s=m.memoizedState,s!==null&&(s=s.dehydrated,s!==null&&(m=WF.bind(null,m),mH(s,m))));break;case 22:if(v=m.memoizedState!==null||Xo,!v){c=c!==null&&c.memoizedState!==null||Pn,A=Xo;var O=Pn;Xo=v,(Pn=c)&&!O?es(s,m,(m.subtreeFlags&8772)!==0):Qo(s,m),Xo=A,Pn=O}break;case 30:break;default:Qo(s,m)}}function $O(s){var c=s.alternate;c!==null&&(s.alternate=null,$O(c)),s.child=null,s.deletions=null,s.sibling=null,s.tag===5&&(c=s.stateNode,c!==null&&Of(c)),s.stateNode=null,s.return=null,s.dependencies=null,s.memoizedProps=null,s.memoizedState=null,s.pendingProps=null,s.stateNode=null,s.updateQueue=null}var tn=null,Qr=!1;function Jo(s,c,m){for(m=m.child;m!==null;)BO(s,c,m),m=m.sibling}function BO(s,c,m){if(mn&&typeof mn.onCommitFiberUnmount=="function")try{mn.onCommitFiberUnmount(Gt,m)}catch{}switch(m.tag){case 26:Pn||lo(m,c),Jo(s,c,m),m.memoizedState?m.memoizedState.count--:m.stateNode&&(m=m.stateNode,m.parentNode.removeChild(m));break;case 27:Pn||lo(m,c);var v=tn,A=Qr;pl(m.type)&&(tn=m.stateNode,Qr=!1),Jo(s,c,m),_h(m.stateNode),tn=v,Qr=A;break;case 5:Pn||lo(m,c);case 6:if(v=tn,A=Qr,tn=null,Jo(s,c,m),tn=v,Qr=A,tn!==null)if(Qr)try{(tn.nodeType===9?tn.body:tn.nodeName==="HTML"?tn.ownerDocument.body:tn).removeChild(m.stateNode)}catch(O){Pt(m,c,O)}else try{tn.removeChild(m.stateNode)}catch(O){Pt(m,c,O)}break;case 18:tn!==null&&(Qr?(s=tn,CN(s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s,m.stateNode),sd(s)):CN(tn,m.stateNode));break;case 4:v=tn,A=Qr,tn=m.stateNode.containerInfo,Qr=!0,Jo(s,c,m),tn=v,Qr=A;break;case 0:case 11:case 14:case 15:ll(2,m,c),Pn||ll(4,m,c),Jo(s,c,m);break;case 1:Pn||(lo(m,c),v=m.stateNode,typeof v.componentWillUnmount=="function"&&MO(m,c,v)),Jo(s,c,m);break;case 21:Jo(s,c,m);break;case 22:Pn=(v=Pn)||m.memoizedState!==null,Jo(s,c,m),Pn=v;break;default:Jo(s,c,m)}}function zO(s,c){if(c.memoizedState===null&&(s=c.alternate,s!==null&&(s=s.memoizedState,s!==null))){s=s.dehydrated;try{sd(s)}catch(m){Pt(c,c.return,m)}}}function UO(s,c){if(c.memoizedState===null&&(s=c.alternate,s!==null&&(s=s.memoizedState,s!==null&&(s=s.dehydrated,s!==null))))try{sd(s)}catch(m){Pt(c,c.return,m)}}function zF(s){switch(s.tag){case 31:case 13:case 19:var c=s.stateNode;return c===null&&(c=s.stateNode=new LO),c;case 22:return s=s.stateNode,c=s._retryCache,c===null&&(c=s._retryCache=new LO),c;default:throw Error(r(435,s.tag))}}function Rg(s,c){var m=zF(s);c.forEach(function(v){if(!m.has(v)){m.add(v);var A=VF.bind(null,s,v);v.then(A,A)}})}function ei(s,c){var m=c.deletions;if(m!==null)for(var v=0;v<m.length;v++){var A=m[v],O=s,I=c,G=I;e:for(;G!==null;){switch(G.tag){case 27:if(pl(G.type)){tn=G.stateNode,Qr=!1;break e}break;case 5:tn=G.stateNode,Qr=!1;break e;case 3:case 4:tn=G.stateNode.containerInfo,Qr=!0;break e}G=G.return}if(tn===null)throw Error(r(160));BO(O,I,A),tn=null,Qr=!1,O=A.alternate,O!==null&&(O.return=null),A.return=null}if(c.subtreeFlags&13886)for(c=c.child;c!==null;)FO(c,s),c=c.sibling}var Oa=null;function FO(s,c){var m=s.alternate,v=s.flags;switch(s.tag){case 0:case 11:case 14:case 15:ei(c,s),ti(s),v&4&&(ll(3,s,s.return),dh(3,s),ll(5,s,s.return));break;case 1:ei(c,s),ti(s),v&512&&(Pn||m===null||lo(m,m.return)),v&64&&Xo&&(s=s.updateQueue,s!==null&&(v=s.callbacks,v!==null&&(m=s.shared.hiddenCallbacks,s.shared.hiddenCallbacks=m===null?v:m.concat(v))));break;case 26:var A=Oa;if(ei(c,s),ti(s),v&512&&(Pn||m===null||lo(m,m.return)),v&4){var O=m!==null?m.memoizedState:null;if(v=s.memoizedState,m===null)if(v===null)if(s.stateNode===null){e:{v=s.type,m=s.memoizedProps,A=A.ownerDocument||A;t:switch(v){case"title":O=A.getElementsByTagName("title")[0],(!O||O[Wl]||O[On]||O.namespaceURI==="http://www.w3.org/2000/svg"||O.hasAttribute("itemprop"))&&(O=A.createElement(v),A.head.insertBefore(O,A.querySelector("head > title"))),pr(O,v,m),O[On]=s,Nn(O),v=O;break e;case"link":var I=FN("link","href",A).get(v+(m.href||""));if(I){for(var G=0;G<I.length;G++)if(O=I[G],O.getAttribute("href")===(m.href==null||m.href===""?null:m.href)&&O.getAttribute("rel")===(m.rel==null?null:m.rel)&&O.getAttribute("title")===(m.title==null?null:m.title)&&O.getAttribute("crossorigin")===(m.crossOrigin==null?null:m.crossOrigin)){I.splice(G,1);break t}}O=A.createElement(v),pr(O,v,m),A.head.appendChild(O);break;case"meta":if(I=FN("meta","content",A).get(v+(m.content||""))){for(G=0;G<I.length;G++)if(O=I[G],O.getAttribute("content")===(m.content==null?null:""+m.content)&&O.getAttribute("name")===(m.name==null?null:m.name)&&O.getAttribute("property")===(m.property==null?null:m.property)&&O.getAttribute("http-equiv")===(m.httpEquiv==null?null:m.httpEquiv)&&O.getAttribute("charset")===(m.charSet==null?null:m.charSet)){I.splice(G,1);break t}}O=A.createElement(v),pr(O,v,m),A.head.appendChild(O);break;default:throw Error(r(468,v))}O[On]=s,Nn(O),v=O}s.stateNode=v}else HN(A,s.type,s.stateNode);else s.stateNode=UN(A,v,s.memoizedProps);else O!==v?(O===null?m.stateNode!==null&&(m=m.stateNode,m.parentNode.removeChild(m)):O.count--,v===null?HN(A,s.type,s.stateNode):UN(A,v,s.memoizedProps)):v===null&&s.stateNode!==null&&O_(s,s.memoizedProps,m.memoizedProps)}break;case 27:ei(c,s),ti(s),v&512&&(Pn||m===null||lo(m,m.return)),m!==null&&v&4&&O_(s,s.memoizedProps,m.memoizedProps);break;case 5:if(ei(c,s),ti(s),v&512&&(Pn||m===null||lo(m,m.return)),s.flags&32){A=s.stateNode;try{Yi(A,"")}catch(ze){Pt(s,s.return,ze)}}v&4&&s.stateNode!=null&&(A=s.memoizedProps,O_(s,A,m!==null?m.memoizedProps:A)),v&1024&&(M_=!0);break;case 6:if(ei(c,s),ti(s),v&4){if(s.stateNode===null)throw Error(r(162));v=s.memoizedProps,m=s.stateNode;try{m.nodeValue=v}catch(ze){Pt(s,s.return,ze)}}break;case 3:if(Xg=null,A=Oa,Oa=Vg(c.containerInfo),ei(c,s),Oa=A,ti(s),v&4&&m!==null&&m.memoizedState.isDehydrated)try{sd(c.containerInfo)}catch(ze){Pt(s,s.return,ze)}M_&&(M_=!1,HO(s));break;case 4:v=Oa,Oa=Vg(s.stateNode.containerInfo),ei(c,s),ti(s),Oa=v;break;case 12:ei(c,s),ti(s);break;case 31:ei(c,s),ti(s),v&4&&(v=s.updateQueue,v!==null&&(s.updateQueue=null,Rg(s,v)));break;case 13:ei(c,s),ti(s),s.child.flags&8192&&s.memoizedState!==null!=(m!==null&&m.memoizedState!==null)&&(Ig=Be()),v&4&&(v=s.updateQueue,v!==null&&(s.updateQueue=null,Rg(s,v)));break;case 22:A=s.memoizedState!==null;var te=m!==null&&m.memoizedState!==null,pe=Xo,Se=Pn;if(Xo=pe||A,Pn=Se||te,ei(c,s),Pn=Se,Xo=pe,ti(s),v&8192)e:for(c=s.stateNode,c._visibility=A?c._visibility&-2:c._visibility|1,A&&(m===null||te||Xo||Pn||Tc(s)),m=null,c=s;;){if(c.tag===5||c.tag===26){if(m===null){te=m=c;try{if(O=te.stateNode,A)I=O.style,typeof I.setProperty=="function"?I.setProperty("display","none","important"):I.display="none";else{G=te.stateNode;var je=te.memoizedProps.style,be=je!=null&&je.hasOwnProperty("display")?je.display:null;G.style.display=be==null||typeof be=="boolean"?"":(""+be).trim()}}catch(ze){Pt(te,te.return,ze)}}}else if(c.tag===6){if(m===null){te=c;try{te.stateNode.nodeValue=A?"":te.memoizedProps}catch(ze){Pt(te,te.return,ze)}}}else if(c.tag===18){if(m===null){te=c;try{var ve=te.stateNode;A?MN(ve,!0):MN(te.stateNode,!1)}catch(ze){Pt(te,te.return,ze)}}}else if((c.tag!==22&&c.tag!==23||c.memoizedState===null||c===s)&&c.child!==null){c.child.return=c,c=c.child;continue}if(c===s)break e;for(;c.sibling===null;){if(c.return===null||c.return===s)break e;m===c&&(m=null),c=c.return}m===c&&(m=null),c.sibling.return=c.return,c=c.sibling}v&4&&(v=s.updateQueue,v!==null&&(m=v.retryQueue,m!==null&&(v.retryQueue=null,Rg(s,m))));break;case 19:ei(c,s),ti(s),v&4&&(v=s.updateQueue,v!==null&&(s.updateQueue=null,Rg(s,v)));break;case 30:break;case 21:break;default:ei(c,s),ti(s)}}function ti(s){var c=s.flags;if(c&2){try{for(var m,v=s.return;v!==null;){if(PO(v)){m=v;break}v=v.return}if(m==null)throw Error(r(160));switch(m.tag){case 27:var A=m.stateNode,O=N_(s);Pg(s,O,A);break;case 5:var I=m.stateNode;m.flags&32&&(Yi(I,""),m.flags&=-33);var G=N_(s);Pg(s,G,I);break;case 3:case 4:var te=m.stateNode.containerInfo,pe=N_(s);C_(s,pe,te);break;default:throw Error(r(161))}}catch(Se){Pt(s,s.return,Se)}s.flags&=-3}c&4096&&(s.flags&=-4097)}function HO(s){if(s.subtreeFlags&1024)for(s=s.child;s!==null;){var c=s;HO(c),c.tag===5&&c.flags&1024&&c.stateNode.reset(),s=s.sibling}}function Qo(s,c){if(c.subtreeFlags&8772)for(c=c.child;c!==null;)IO(s,c.alternate,c),c=c.sibling}function Tc(s){for(s=s.child;s!==null;){var c=s;switch(c.tag){case 0:case 11:case 14:case 15:ll(4,c,c.return),Tc(c);break;case 1:lo(c,c.return);var m=c.stateNode;typeof m.componentWillUnmount=="function"&&MO(c,c.return,m),Tc(c);break;case 27:_h(c.stateNode);case 26:case 5:lo(c,c.return),Tc(c);break;case 22:c.memoizedState===null&&Tc(c);break;case 30:Tc(c);break;default:Tc(c)}s=s.sibling}}function es(s,c,m){for(m=m&&(c.subtreeFlags&8772)!==0,c=c.child;c!==null;){var v=c.alternate,A=s,O=c,I=O.flags;switch(O.tag){case 0:case 11:case 15:es(A,O,m),dh(4,O);break;case 1:if(es(A,O,m),v=O,A=v.stateNode,typeof A.componentDidMount=="function")try{A.componentDidMount()}catch(pe){Pt(v,v.return,pe)}if(v=O,A=v.updateQueue,A!==null){var G=v.stateNode;try{var te=A.shared.hiddenCallbacks;if(te!==null)for(A.shared.hiddenCallbacks=null,A=0;A<te.length;A++)xj(te[A],G)}catch(pe){Pt(v,v.return,pe)}}m&&I&64&&CO(O),fh(O,O.return);break;case 27:RO(O);case 26:case 5:es(A,O,m),m&&v===null&&I&4&&DO(O),fh(O,O.return);break;case 12:es(A,O,m);break;case 31:es(A,O,m),m&&I&4&&zO(A,O);break;case 13:es(A,O,m),m&&I&4&&UO(A,O);break;case 22:O.memoizedState===null&&es(A,O,m),fh(O,O.return);break;case 30:break;default:es(A,O,m)}c=c.sibling}}function D_(s,c){var m=null;s!==null&&s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(m=s.memoizedState.cachePool.pool),s=null,c.memoizedState!==null&&c.memoizedState.cachePool!==null&&(s=c.memoizedState.cachePool.pool),s!==m&&(s!=null&&s.refCount++,m!=null&&Jf(m))}function P_(s,c){s=null,c.alternate!==null&&(s=c.alternate.memoizedState.cache),c=c.memoizedState.cache,c!==s&&(c.refCount++,s!=null&&Jf(s))}function Na(s,c,m,v){if(c.subtreeFlags&10256)for(c=c.child;c!==null;)GO(s,c,m,v),c=c.sibling}function GO(s,c,m,v){var A=c.flags;switch(c.tag){case 0:case 11:case 15:Na(s,c,m,v),A&2048&&dh(9,c);break;case 1:Na(s,c,m,v);break;case 3:Na(s,c,m,v),A&2048&&(s=null,c.alternate!==null&&(s=c.alternate.memoizedState.cache),c=c.memoizedState.cache,c!==s&&(c.refCount++,s!=null&&Jf(s)));break;case 12:if(A&2048){Na(s,c,m,v),s=c.stateNode;try{var O=c.memoizedProps,I=O.id,G=O.onPostCommit;typeof G=="function"&&G(I,c.alternate===null?"mount":"update",s.passiveEffectDuration,-0)}catch(te){Pt(c,c.return,te)}}else Na(s,c,m,v);break;case 31:Na(s,c,m,v);break;case 13:Na(s,c,m,v);break;case 23:break;case 22:O=c.stateNode,I=c.alternate,c.memoizedState!==null?O._visibility&2?Na(s,c,m,v):hh(s,c):O._visibility&2?Na(s,c,m,v):(O._visibility|=2,Zu(s,c,m,v,(c.subtreeFlags&10256)!==0||!1)),A&2048&&D_(I,c);break;case 24:Na(s,c,m,v),A&2048&&P_(c.alternate,c);break;default:Na(s,c,m,v)}}function Zu(s,c,m,v,A){for(A=A&&((c.subtreeFlags&10256)!==0||!1),c=c.child;c!==null;){var O=s,I=c,G=m,te=v,pe=I.flags;switch(I.tag){case 0:case 11:case 15:Zu(O,I,G,te,A),dh(8,I);break;case 23:break;case 22:var Se=I.stateNode;I.memoizedState!==null?Se._visibility&2?Zu(O,I,G,te,A):hh(O,I):(Se._visibility|=2,Zu(O,I,G,te,A)),A&&pe&2048&&D_(I.alternate,I);break;case 24:Zu(O,I,G,te,A),A&&pe&2048&&P_(I.alternate,I);break;default:Zu(O,I,G,te,A)}c=c.sibling}}function hh(s,c){if(c.subtreeFlags&10256)for(c=c.child;c!==null;){var m=s,v=c,A=v.flags;switch(v.tag){case 22:hh(m,v),A&2048&&D_(v.alternate,v);break;case 24:hh(m,v),A&2048&&P_(v.alternate,v);break;default:hh(m,v)}c=c.sibling}}var mh=8192;function Xu(s,c,m){if(s.subtreeFlags&mh)for(s=s.child;s!==null;)qO(s,c,m),s=s.sibling}function qO(s,c,m){switch(s.tag){case 26:Xu(s,c,m),s.flags&mh&&s.memoizedState!==null&&AH(m,Oa,s.memoizedState,s.memoizedProps);break;case 5:Xu(s,c,m);break;case 3:case 4:var v=Oa;Oa=Vg(s.stateNode.containerInfo),Xu(s,c,m),Oa=v;break;case 22:s.memoizedState===null&&(v=s.alternate,v!==null&&v.memoizedState!==null?(v=mh,mh=16777216,Xu(s,c,m),mh=v):Xu(s,c,m));break;default:Xu(s,c,m)}}function YO(s){var c=s.alternate;if(c!==null&&(s=c.child,s!==null)){c.child=null;do c=s.sibling,s.sibling=null,s=c;while(s!==null)}}function ph(s){var c=s.deletions;if((s.flags&16)!==0){if(c!==null)for(var m=0;m<c.length;m++){var v=c[m];nr=v,WO(v,s)}YO(s)}if(s.subtreeFlags&10256)for(s=s.child;s!==null;)KO(s),s=s.sibling}function KO(s){switch(s.tag){case 0:case 11:case 15:ph(s),s.flags&2048&&ll(9,s,s.return);break;case 3:ph(s);break;case 12:ph(s);break;case 22:var c=s.stateNode;s.memoizedState!==null&&c._visibility&2&&(s.return===null||s.return.tag!==13)?(c._visibility&=-3,Lg(s)):ph(s);break;default:ph(s)}}function Lg(s){var c=s.deletions;if((s.flags&16)!==0){if(c!==null)for(var m=0;m<c.length;m++){var v=c[m];nr=v,WO(v,s)}YO(s)}for(s=s.child;s!==null;){switch(c=s,c.tag){case 0:case 11:case 15:ll(8,c,c.return),Lg(c);break;case 22:m=c.stateNode,m._visibility&2&&(m._visibility&=-3,Lg(c));break;default:Lg(c)}s=s.sibling}}function WO(s,c){for(;nr!==null;){var m=nr;switch(m.tag){case 0:case 11:case 15:ll(8,m,c);break;case 23:case 22:if(m.memoizedState!==null&&m.memoizedState.cachePool!==null){var v=m.memoizedState.cachePool.pool;v!=null&&v.refCount++}break;case 24:Jf(m.memoizedState.cache)}if(v=m.child,v!==null)v.return=m,nr=v;else e:for(m=s;nr!==null;){v=nr;var A=v.sibling,O=v.return;if($O(v),v===m){nr=null;break e}if(A!==null){A.return=O,nr=A;break e}nr=O}}}var UF={getCacheForType:function(s){var c=hr(Cn),m=c.data.get(s);return m===void 0&&(m=s(),c.data.set(s,m)),m},cacheSignal:function(){return hr(Cn).controller.signal}},FF=typeof WeakMap=="function"?WeakMap:Map,Tt=0,Ut=null,ht=null,bt=0,Dt=0,Ei=null,cl=!1,Ju=!1,R_=!1,ts=0,yn=0,ul=0,jc=0,L_=0,Ai=0,Qu=0,gh=null,ni=null,I_=!1,Ig=0,VO=0,$g=1/0,Bg=null,dl=null,Hn=0,fl=null,ed=null,ns=0,$_=0,B_=null,ZO=null,bh=0,z_=null;function Ti(){return(Tt&2)!==0&&bt!==0?bt&-bt:q.T!==null?Y_():Tf()}function XO(){if(Ai===0)if((bt&536870912)===0||ft){var s=ql;ql<<=1,(ql&3932160)===0&&(ql=262144),Ai=s}else Ai=536870912;return s=Si.current,s!==null&&(s.flags|=32),Ai}function ri(s,c,m){(s===Ut&&(Dt===2||Dt===9)||s.cancelPendingCommit!==null)&&(td(s,0),hl(s,bt,Ai,!1)),Ro(s,m),((Tt&2)===0||s!==Ut)&&(s===Ut&&((Tt&2)===0&&(jc|=m),yn===4&&hl(s,bt,Ai,!1)),co(s))}function JO(s,c,m){if((Tt&6)!==0)throw Error(r(327));var v=!m&&(c&127)===0&&(c&s.expiredLanes)===0||Kl(s,c),A=v?qF(s,c):F_(s,c,!0),O=v;do{if(A===0){Ju&&!v&&hl(s,c,0,!1);break}else{if(m=s.current.alternate,O&&!HF(m)){A=F_(s,c,!1),O=!1;continue}if(A===2){if(O=c,s.errorRecoveryDisabledLanes&O)var I=0;else I=s.pendingLanes&-536870913,I=I!==0?I:I&536870912?536870912:0;if(I!==0){c=I;e:{var G=s;A=gh;var te=G.current.memoizedState.isDehydrated;if(te&&(td(G,I).flags|=256),I=F_(G,I,!1),I!==2){if(R_&&!te){G.errorRecoveryDisabledLanes|=O,jc|=O,A=4;break e}O=ni,ni=A,O!==null&&(ni===null?ni=O:ni.push.apply(ni,O))}A=I}if(O=!1,A!==2)continue}}if(A===1){td(s,0),hl(s,c,0,!0);break}e:{switch(v=s,O=A,O){case 0:case 1:throw Error(r(345));case 4:if((c&4194048)!==c)break;case 6:hl(v,c,Ai,!cl);break e;case 2:ni=null;break;case 3:case 5:break;default:throw Error(r(329))}if((c&62914560)===c&&(A=Ig+300-Be(),10<A)){if(hl(v,c,Ai,!cl),_u(v,0,!0)!==0)break e;ns=c,v.timeoutHandle=ON(QO.bind(null,v,m,ni,Bg,I_,c,Ai,jc,Qu,cl,O,"Throttled",-0,0),A);break e}QO(v,m,ni,Bg,I_,c,Ai,jc,Qu,cl,O,null,-0,0)}}break}while(!0);co(s)}function QO(s,c,m,v,A,O,I,G,te,pe,Se,je,be,ve){if(s.timeoutHandle=-1,je=c.subtreeFlags,je&8192||(je&16785408)===16785408){je={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Wr},qO(c,O,je);var ze=(O&62914560)===O?Ig-Be():(O&4194048)===O?VO-Be():0;if(ze=TH(je,ze),ze!==null){ns=O,s.cancelPendingCommit=ze(sN.bind(null,s,c,O,m,v,A,I,G,te,Se,je,null,be,ve)),hl(s,O,I,!pe);return}}sN(s,c,O,m,v,A,I,G,te)}function HF(s){for(var c=s;;){var m=c.tag;if((m===0||m===11||m===15)&&c.flags&16384&&(m=c.updateQueue,m!==null&&(m=m.stores,m!==null)))for(var v=0;v<m.length;v++){var A=m[v],O=A.getSnapshot;A=A.value;try{if(!er(O(),A))return!1}catch{return!1}}if(m=c.child,c.subtreeFlags&16384&&m!==null)m.return=c,c=m;else{if(c===s)break;for(;c.sibling===null;){if(c.return===null||c.return===s)return!0;c=c.return}c.sibling.return=c.return,c=c.sibling}}return!0}function hl(s,c,m,v){c&=~L_,c&=~jc,s.suspendedLanes|=c,s.pingedLanes&=~c,v&&(s.warmLanes|=c),v=s.expirationTimes;for(var A=c;0<A;){var O=31-Dr(A),I=1<<O;v[O]=-1,A&=~I}m!==0&&$p(s,m,c)}function zg(){return(Tt&6)===0?(yh(0),!1):!0}function U_(){if(ht!==null){if(Dt===0)var s=ht.return;else s=ht,ja=so=null,r_(s),qu=null,eh=0,s=ht;for(;s!==null;)NO(s.alternate,s),s=s.return;ht=null}}function td(s,c){var m=s.timeoutHandle;m!==-1&&(s.timeoutHandle=-1,cH(m)),m=s.cancelPendingCommit,m!==null&&(s.cancelPendingCommit=null,m()),ns=0,U_(),Ut=s,ht=m=Qi(s.current,null),bt=c,Dt=0,Ei=null,cl=!1,Ju=Kl(s,c),R_=!1,Qu=Ai=L_=jc=ul=yn=0,ni=gh=null,I_=!1,(c&8)!==0&&(c|=c&32);var v=s.entangledLanes;if(v!==0)for(s=s.entanglements,v&=c;0<v;){var A=31-Dr(v),O=1<<A;c|=s[A],v&=~O}return ts=c,pc(),m}function eN(s,c){st=null,q.H=lh,c===Gu||c===pg?(c=gj(),Dt=3):c===qx?(c=gj(),Dt=4):Dt=c===v_?8:c!==null&&typeof c=="object"&&typeof c.then=="function"?6:1,Ei=c,ht===null&&(yn=1,Og(s,y(c,s.current)))}function tN(){var s=Si.current;return s===null?!0:(bt&4194048)===bt?ea===null:(bt&62914560)===bt||(bt&536870912)!==0?s===ea:!1}function nN(){var s=q.H;return q.H=lh,s===null?lh:s}function rN(){var s=q.A;return q.A=UF,s}function Ug(){yn=4,cl||(bt&4194048)!==bt&&Si.current!==null||(Ju=!0),(ul&134217727)===0&&(jc&134217727)===0||Ut===null||hl(Ut,bt,Ai,!1)}function F_(s,c,m){var v=Tt;Tt|=2;var A=nN(),O=rN();(Ut!==s||bt!==c)&&(Bg=null,td(s,c)),c=!1;var I=yn;e:do try{if(Dt!==0&&ht!==null){var G=ht,te=Ei;switch(Dt){case 8:U_(),I=6;break e;case 3:case 2:case 9:case 6:Si.current===null&&(c=!0);var pe=Dt;if(Dt=0,Ei=null,nd(s,G,te,pe),m&&Ju){I=0;break e}break;default:pe=Dt,Dt=0,Ei=null,nd(s,G,te,pe)}}GF(),I=yn;break}catch(Se){eN(s,Se)}while(!0);return c&&s.shellSuspendCounter++,ja=so=null,Tt=v,q.H=A,q.A=O,ht===null&&(Ut=null,bt=0,pc()),I}function GF(){for(;ht!==null;)iN(ht)}function qF(s,c){var m=Tt;Tt|=2;var v=nN(),A=rN();Ut!==s||bt!==c?(Bg=null,$g=Be()+500,td(s,c)):Ju=Kl(s,c);e:do try{if(Dt!==0&&ht!==null){c=ht;var O=Ei;t:switch(Dt){case 1:Dt=0,Ei=null,nd(s,c,O,1);break;case 2:case 9:if(mj(O)){Dt=0,Ei=null,aN(c);break}c=function(){Dt!==2&&Dt!==9||Ut!==s||(Dt=7),co(s)},O.then(c,c);break e;case 3:Dt=7;break e;case 4:Dt=5;break e;case 7:mj(O)?(Dt=0,Ei=null,aN(c)):(Dt=0,Ei=null,nd(s,c,O,7));break;case 5:var I=null;switch(ht.tag){case 26:I=ht.memoizedState;case 5:case 27:var G=ht;if(I?GN(I):G.stateNode.complete){Dt=0,Ei=null;var te=G.sibling;if(te!==null)ht=te;else{var pe=G.return;pe!==null?(ht=pe,Fg(pe)):ht=null}break t}}Dt=0,Ei=null,nd(s,c,O,5);break;case 6:Dt=0,Ei=null,nd(s,c,O,6);break;case 8:U_(),yn=6;break e;default:throw Error(r(462))}}YF();break}catch(Se){eN(s,Se)}while(!0);return ja=so=null,q.H=v,q.A=A,Tt=m,ht!==null?0:(Ut=null,bt=0,pc(),yn)}function YF(){for(;ht!==null&&!de();)iN(ht)}function iN(s){var c=jO(s.alternate,s,ts);s.memoizedProps=s.pendingProps,c===null?Fg(s):ht=c}function aN(s){var c=s,m=c.alternate;switch(c.tag){case 15:case 0:c=wO(m,c,c.pendingProps,c.type,void 0,bt);break;case 11:c=wO(m,c,c.pendingProps,c.type.render,c.ref,bt);break;case 5:r_(c);default:NO(m,c),c=ht=Kf(c,ts),c=jO(m,c,ts)}s.memoizedProps=s.pendingProps,c===null?Fg(s):ht=c}function nd(s,c,m,v){ja=so=null,r_(c),qu=null,eh=0;var A=c.return;try{if(PF(s,A,c,m,bt)){yn=1,Og(s,y(m,s.current)),ht=null;return}}catch(O){if(A!==null)throw ht=A,O;yn=1,Og(s,y(m,s.current)),ht=null;return}c.flags&32768?(ft||v===1?s=!0:Ju||(bt&536870912)!==0?s=!1:(cl=s=!0,(v===2||v===9||v===3||v===6)&&(v=Si.current,v!==null&&v.tag===13&&(v.flags|=16384))),oN(c,s)):Fg(c)}function Fg(s){var c=s;do{if((c.flags&32768)!==0){oN(c,cl);return}s=c.return;var m=IF(c.alternate,c,ts);if(m!==null){ht=m;return}if(c=c.sibling,c!==null){ht=c;return}ht=c=s}while(c!==null);yn===0&&(yn=5)}function oN(s,c){do{var m=$F(s.alternate,s);if(m!==null){m.flags&=32767,ht=m;return}if(m=s.return,m!==null&&(m.flags|=32768,m.subtreeFlags=0,m.deletions=null),!c&&(s=s.sibling,s!==null)){ht=s;return}ht=s=m}while(s!==null);yn=6,ht=null}function sN(s,c,m,v,A,O,I,G,te){s.cancelPendingCommit=null;do Hg();while(Hn!==0);if((Tt&6)!==0)throw Error(r(327));if(c!==null){if(c===s.current)throw Error(r(177));if(O=c.lanes|c.childLanes,O|=Iu,kx(s,m,O,I,G,te),s===Ut&&(ht=Ut=null,bt=0),ed=c,fl=s,ns=m,$_=O,B_=A,ZO=v,(c.subtreeFlags&10256)!==0||(c.flags&10256)!==0?(s.callbackNode=null,s.callbackPriority=0,ZF(Jn,function(){return fN(),null})):(s.callbackNode=null,s.callbackPriority=0),v=(c.flags&13878)!==0,(c.subtreeFlags&13878)!==0||v){v=q.T,q.T=null,A=Q.p,Q.p=2,I=Tt,Tt|=4;try{BF(s,c,m)}finally{Tt=I,Q.p=A,q.T=v}}Hn=1,lN(),cN(),uN()}}function lN(){if(Hn===1){Hn=0;var s=fl,c=ed,m=(c.flags&13878)!==0;if((c.subtreeFlags&13878)!==0||m){m=q.T,q.T=null;var v=Q.p;Q.p=2;var A=Tt;Tt|=4;try{FO(c,s);var O=ew,I=uc(s.containerInfo),G=O.focusedElem,te=O.selectionRange;if(I!==G&&G&&G.ownerDocument&&Du(G.ownerDocument.documentElement,G)){if(te!==null&&eo(G)){var pe=te.start,Se=te.end;if(Se===void 0&&(Se=pe),"selectionStart"in G)G.selectionStart=pe,G.selectionEnd=Math.min(Se,G.value.length);else{var je=G.ownerDocument||document,be=je&&je.defaultView||window;if(be.getSelection){var ve=be.getSelection(),ze=G.textContent.length,et=Math.min(te.start,ze),Bt=te.end===void 0?et:Math.min(te.end,ze);!ve.extend&&et>Bt&&(I=Bt,Bt=et,et=I);var le=cc(G,et),ae=cc(G,Bt);if(le&&ae&&(ve.rangeCount!==1||ve.anchorNode!==le.node||ve.anchorOffset!==le.offset||ve.focusNode!==ae.node||ve.focusOffset!==ae.offset)){var me=je.createRange();me.setStart(le.node,le.offset),ve.removeAllRanges(),et>Bt?(ve.addRange(me),ve.extend(ae.node,ae.offset)):(me.setEnd(ae.node,ae.offset),ve.addRange(me))}}}}for(je=[],ve=G;ve=ve.parentNode;)ve.nodeType===1&&je.push({element:ve,left:ve.scrollLeft,top:ve.scrollTop});for(typeof G.focus=="function"&&G.focus(),G=0;G<je.length;G++){var Ae=je[G];Ae.element.scrollLeft=Ae.left,Ae.element.scrollTop=Ae.top}}t0=!!Q_,ew=Q_=null}finally{Tt=A,Q.p=v,q.T=m}}s.current=c,Hn=2}}function cN(){if(Hn===2){Hn=0;var s=fl,c=ed,m=(c.flags&8772)!==0;if((c.subtreeFlags&8772)!==0||m){m=q.T,q.T=null;var v=Q.p;Q.p=2;var A=Tt;Tt|=4;try{IO(s,c.alternate,c)}finally{Tt=A,Q.p=v,q.T=m}}Hn=3}}function uN(){if(Hn===4||Hn===3){Hn=0,Ce();var s=fl,c=ed,m=ns,v=ZO;(c.subtreeFlags&10256)!==0||(c.flags&10256)!==0?Hn=5:(Hn=0,ed=fl=null,dN(s,s.pendingLanes));var A=s.pendingLanes;if(A===0&&(dl=null),He(m),c=c.stateNode,mn&&typeof mn.onCommitFiberRoot=="function")try{mn.onCommitFiberRoot(Gt,c,void 0,(c.current.flags&128)===128)}catch{}if(v!==null){c=q.T,A=Q.p,Q.p=2,q.T=null;try{for(var O=s.onRecoverableError,I=0;I<v.length;I++){var G=v[I];O(G.value,{componentStack:G.stack})}}finally{q.T=c,Q.p=A}}(ns&3)!==0&&Hg(),co(s),A=s.pendingLanes,(m&261930)!==0&&(A&42)!==0?s===z_?bh++:(bh=0,z_=s):bh=0,yh(0)}}function dN(s,c){(s.pooledCacheLanes&=c)===0&&(c=s.pooledCache,c!=null&&(s.pooledCache=null,Jf(c)))}function Hg(){return lN(),cN(),uN(),fN()}function fN(){if(Hn!==5)return!1;var s=fl,c=$_;$_=0;var m=He(ns),v=q.T,A=Q.p;try{Q.p=32>m?32:m,q.T=null,m=B_,B_=null;var O=fl,I=ns;if(Hn=0,ed=fl=null,ns=0,(Tt&6)!==0)throw Error(r(331));var G=Tt;if(Tt|=4,KO(O.current),GO(O,O.current,I,m),Tt=G,yh(0,!1),mn&&typeof mn.onPostCommitFiberRoot=="function")try{mn.onPostCommitFiberRoot(Gt,O)}catch{}return!0}finally{Q.p=A,q.T=v,dN(s,c)}}function hN(s,c,m){c=y(m,c),c=y_(s.stateNode,c,2),s=al(s,c,2),s!==null&&(Ro(s,2),co(s))}function Pt(s,c,m){if(s.tag===3)hN(s,s,m);else for(;c!==null;){if(c.tag===3){hN(c,s,m);break}else if(c.tag===1){var v=c.stateNode;if(typeof c.type.getDerivedStateFromError=="function"||typeof v.componentDidCatch=="function"&&(dl===null||!dl.has(v))){s=y(m,s),m=mO(2),v=al(c,m,2),v!==null&&(pO(m,v,c,s),Ro(v,2),co(v));break}}c=c.return}}function H_(s,c,m){var v=s.pingCache;if(v===null){v=s.pingCache=new FF;var A=new Set;v.set(c,A)}else A=v.get(c),A===void 0&&(A=new Set,v.set(c,A));A.has(m)||(R_=!0,A.add(m),s=KF.bind(null,s,c,m),c.then(s,s))}function KF(s,c,m){var v=s.pingCache;v!==null&&v.delete(c),s.pingedLanes|=s.suspendedLanes&m,s.warmLanes&=~m,Ut===s&&(bt&m)===m&&(yn===4||yn===3&&(bt&62914560)===bt&&300>Be()-Ig?(Tt&2)===0&&td(s,0):L_|=m,Qu===bt&&(Qu=0)),co(s)}function mN(s,c){c===0&&(c=Ip()),s=Ji(s,c),s!==null&&(Ro(s,c),co(s))}function WF(s){var c=s.memoizedState,m=0;c!==null&&(m=c.retryLane),mN(s,m)}function VF(s,c){var m=0;switch(s.tag){case 31:case 13:var v=s.stateNode,A=s.memoizedState;A!==null&&(m=A.retryLane);break;case 19:v=s.stateNode;break;case 22:v=s.stateNode._retryCache;break;default:throw Error(r(314))}v!==null&&v.delete(c),mN(s,m)}function ZF(s,c){return rt(s,c)}var Gg=null,rd=null,G_=!1,qg=!1,q_=!1,ml=0;function co(s){s!==rd&&s.next===null&&(rd===null?Gg=rd=s:rd=rd.next=s),qg=!0,G_||(G_=!0,JF())}function yh(s,c){if(!q_&&qg){q_=!0;do for(var m=!1,v=Gg;v!==null;){if(s!==0){var A=v.pendingLanes;if(A===0)var O=0;else{var I=v.suspendedLanes,G=v.pingedLanes;O=(1<<31-Dr(42|s)+1)-1,O&=A&~(I&~G),O=O&201326741?O&201326741|1:O?O|2:0}O!==0&&(m=!0,yN(v,O))}else O=bt,O=_u(v,v===Ut?O:0,v.cancelPendingCommit!==null||v.timeoutHandle!==-1),(O&3)===0||Kl(v,O)||(m=!0,yN(v,O));v=v.next}while(m);q_=!1}}function XF(){pN()}function pN(){qg=G_=!1;var s=0;ml!==0&&lH()&&(s=ml);for(var c=Be(),m=null,v=Gg;v!==null;){var A=v.next,O=gN(v,c);O===0?(v.next=null,m===null?Gg=A:m.next=A,A===null&&(rd=m)):(m=v,(s!==0||(O&3)!==0)&&(qg=!0)),v=A}Hn!==0&&Hn!==5||yh(s),ml!==0&&(ml=0)}function gN(s,c){for(var m=s.suspendedLanes,v=s.pingedLanes,A=s.expirationTimes,O=s.pendingLanes&-62914561;0<O;){var I=31-Dr(O),G=1<<I,te=A[I];te===-1?((G&m)===0||(G&v)!==0)&&(A[I]=Sx(G,c)):te<=c&&(s.expiredLanes|=G),O&=~G}if(c=Ut,m=bt,m=_u(s,s===c?m:0,s.cancelPendingCommit!==null||s.timeoutHandle!==-1),v=s.callbackNode,m===0||s===c&&(Dt===2||Dt===9)||s.cancelPendingCommit!==null)return v!==null&&v!==null&&Vt(v),s.callbackNode=null,s.callbackPriority=0;if((m&3)===0||Kl(s,m)){if(c=m&-m,c===s.callbackPriority)return c;switch(v!==null&&Vt(v),He(m)){case 2:case 8:m=vt;break;case 32:m=Jn;break;case 268435456:m=bi;break;default:m=Jn}return v=bN.bind(null,s),m=rt(m,v),s.callbackPriority=c,s.callbackNode=m,c}return v!==null&&v!==null&&Vt(v),s.callbackPriority=2,s.callbackNode=null,2}function bN(s,c){if(Hn!==0&&Hn!==5)return s.callbackNode=null,s.callbackPriority=0,null;var m=s.callbackNode;if(Hg()&&s.callbackNode!==m)return null;var v=bt;return v=_u(s,s===Ut?v:0,s.cancelPendingCommit!==null||s.timeoutHandle!==-1),v===0?null:(JO(s,v,c),gN(s,Be()),s.callbackNode!=null&&s.callbackNode===m?bN.bind(null,s):null)}function yN(s,c){if(Hg())return null;JO(s,c,!0)}function JF(){uH(function(){(Tt&6)!==0?rt(Ot,XF):pN()})}function Y_(){if(ml===0){var s=Fu;s===0&&(s=Gl,Gl<<=1,(Gl&261888)===0&&(Gl=256)),ml=s}return ml}function vN(s){return s==null||typeof s=="symbol"||typeof s=="boolean"?null:typeof s=="function"?s:Hs(""+s)}function xN(s,c){var m=c.ownerDocument.createElement("input");return m.name=c.name,m.value=c.value,s.id&&m.setAttribute("form",s.id),c.parentNode.insertBefore(m,c),s=new FormData(s),m.parentNode.removeChild(m),s}function QF(s,c,m,v,A){if(c==="submit"&&m&&m.stateNode===A){var O=vN((A[Qn]||null).action),I=v.submitter;I&&(c=(c=I[Qn]||null)?vN(c.formAction):I.getAttribute("formAction"),c!==null&&(O=c,I=null));var G=new Au("action","action",null,v,A);s.push({event:G,listeners:[{instance:null,listener:function(){if(v.defaultPrevented){if(ml!==0){var te=I?xN(A,I):new FormData(A);f_(m,{pending:!0,data:te,method:A.method,action:O},null,te)}}else typeof O=="function"&&(G.preventDefault(),te=I?xN(A,I):new FormData(A),f_(m,{pending:!0,data:te,method:A.method,action:O},O,te))},currentTarget:A}]})}}for(var K_=0;K_<ro.length;K_++){var W_=ro[K_],eH=W_.toLowerCase(),tH=W_[0].toUpperCase()+W_.slice(1);Zr(eH,"on"+tH)}Zr(fc,"onAnimationEnd"),Zr(cg,"onAnimationIteration"),Zr(hc,"onAnimationStart"),Zr("dblclick","onDoubleClick"),Zr("focusin","onFocus"),Zr("focusout","onBlur"),Zr(Ix,"onTransitionRun"),Zr(ug,"onTransitionStart"),Zr($x,"onTransitionCancel"),Zr(el,"onTransitionEnd"),Za("onMouseEnter",["mouseout","mouseover"]),Za("onMouseLeave",["mouseout","mouseover"]),Za("onPointerEnter",["pointerout","pointerover"]),Za("onPointerLeave",["pointerout","pointerover"]),$o("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),$o("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),$o("onBeforeInput",["compositionend","keypress","textInput","paste"]),$o("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),$o("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),$o("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var vh="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),nH=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(vh));function _N(s,c){c=(c&4)!==0;for(var m=0;m<s.length;m++){var v=s[m],A=v.event;v=v.listeners;e:{var O=void 0;if(c)for(var I=v.length-1;0<=I;I--){var G=v[I],te=G.instance,pe=G.currentTarget;if(G=G.listener,te!==O&&A.isPropagationStopped())break e;O=G,A.currentTarget=pe;try{O(A)}catch(Se){mc(Se)}A.currentTarget=null,O=te}else for(I=0;I<v.length;I++){if(G=v[I],te=G.instance,pe=G.currentTarget,G=G.listener,te!==O&&A.isPropagationStopped())break e;O=G,A.currentTarget=pe;try{O(A)}catch(Se){mc(Se)}A.currentTarget=null,O=te}}}}function mt(s,c){var m=c[Wa];m===void 0&&(m=c[Wa]=new Set);var v=s+"__bubble";m.has(v)||(wN(c,s,2,!1),m.add(v))}function V_(s,c,m){var v=0;c&&(v|=4),wN(m,s,v,c)}var Yg="_reactListening"+Math.random().toString(36).slice(2);function Z_(s){if(!s[Yg]){s[Yg]=!0,Hp.forEach(function(m){m!=="selectionchange"&&(nH.has(m)||V_(m,!1,s),V_(m,!0,s))});var c=s.nodeType===9?s:s.ownerDocument;c===null||c[Yg]||(c[Yg]=!0,V_("selectionchange",!1,c))}}function wN(s,c,m,v){switch(XN(c)){case 2:var A=NH;break;case 8:A=CH;break;default:A=dw}m=A.bind(null,c,m,s),A=void 0,!ec||c!=="touchstart"&&c!=="touchmove"&&c!=="wheel"||(A=!0),v?A!==void 0?s.addEventListener(c,m,{capture:!0,passive:A}):s.addEventListener(c,m,!0):A!==void 0?s.addEventListener(c,m,{passive:A}):s.addEventListener(c,m,!1)}function X_(s,c,m,v,A){var O=v;if((c&1)===0&&(c&2)===0&&v!==null)e:for(;;){if(v===null)return;var I=v.tag;if(I===3||I===4){var G=v.stateNode.containerInfo;if(G===A)break;if(I===4)for(I=v.return;I!==null;){var te=I.tag;if((te===3||te===4)&&I.stateNode.containerInfo===A)return;I=I.return}for(;G!==null;){if(I=Io(G),I===null)return;if(te=I.tag,te===5||te===6||te===26||te===27){v=O=I;continue e}G=G.parentNode}}v=v.return}Lf(function(){var pe=O,Se=Ql(m),je=[];e:{var be=dg.get(s);if(be!==void 0){var ve=Au,ze=s;switch(s){case"keypress":if(tc(m)===0)break e;case"keydown":case"keyup":ve=Xp;break;case"focusin":ze="focus",ve=Bf;break;case"focusout":ze="blur",ve=Bf;break;case"beforeblur":case"afterblur":ve=Bf;break;case"click":if(m.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ve=Yp;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ve=Ax;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ve=Cx;break;case fc:case cg:case hc:ve=zf;break;case el:ve=eg;break;case"scroll":case"scrollend":ve=gt;break;case"wheel":ve=Fo;break;case"copy":case"cut":case"paste":ve=Wi;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ve=Jp;break;case"toggle":case"beforetoggle":ve=ic}var et=(c&4)!==0,Bt=!et&&(s==="scroll"||s==="scrollend"),le=et?be!==null?be+"Capture":null:be;et=[];for(var ae=pe,me;ae!==null;){var Ae=ae;if(me=Ae.stateNode,Ae=Ae.tag,Ae!==5&&Ae!==26&&Ae!==27||me===null||le===null||(Ae=zo(ae,le),Ae!=null&&et.push(xh(ae,Ae,me))),Bt)break;ae=ae.return}0<et.length&&(be=new ve(be,ze,null,m,Se),je.push({event:be,listeners:et}))}}if((c&7)===0){e:{if(be=s==="mouseover"||s==="pointerover",ve=s==="mouseout"||s==="pointerout",be&&m!==Eu&&(ze=m.relatedTarget||m.fromElement)&&(Io(ze)||ze[Lo]))break e;if((ve||be)&&(be=Se.window===Se?Se:(be=Se.ownerDocument)?be.defaultView||be.parentWindow:window,ve?(ze=m.relatedTarget||m.toElement,ve=pe,ze=ze?Io(ze):null,ze!==null&&(Bt=a(ze),et=ze.tag,ze!==Bt||et!==5&&et!==27&&et!==6)&&(ze=null)):(ve=null,ze=pe),ve!==ze)){if(et=Yp,Ae="onMouseLeave",le="onMouseEnter",ae="mouse",(s==="pointerout"||s==="pointerover")&&(et=Jp,Ae="onPointerLeave",le="onPointerEnter",ae="pointer"),Bt=ve==null?be:Va(ve),me=ze==null?be:Va(ze),be=new et(Ae,ae+"leave",ve,m,Se),be.target=Bt,be.relatedTarget=me,Ae=null,Io(Se)===pe&&(et=new et(le,ae+"enter",ze,m,Se),et.target=me,et.relatedTarget=Bt,Ae=et),Bt=Ae,ve&&ze)t:{for(et=rH,le=ve,ae=ze,me=0,Ae=le;Ae;Ae=et(Ae))me++;Ae=0;for(var Xe=ae;Xe;Xe=et(Xe))Ae++;for(;0<me-Ae;)le=et(le),me--;for(;0<Ae-me;)ae=et(ae),Ae--;for(;me--;){if(le===ae||ae!==null&&le===ae.alternate){et=le;break t}le=et(le),ae=et(ae)}et=null}else et=null;ve!==null&&SN(je,be,ve,et,!1),ze!==null&&Bt!==null&&SN(je,Bt,ze,et,!0)}}e:{if(be=pe?Va(pe):window,ve=be.nodeName&&be.nodeName.toLowerCase(),ve==="select"||ve==="input"&&be.type==="file")var kt=lc;else if(Vi(be))if(ig)kt=Lx;else{kt=Rx;var Fe=Ea}else ve=be.nodeName,!ve||ve.toLowerCase()!=="input"||be.type!=="checkbox"&&be.type!=="radio"?pe&&Jl(pe.elementType)&&(kt=lc):kt=Zs;if(kt&&(kt=kt(s,pe))){rg(je,kt,m,Se);break e}Fe&&Fe(s,be,pe),s==="focusout"&&pe&&be.type==="number"&&pe.memoizedProps.value!=null&&wa(be,"number",be.value)}switch(Fe=pe?Va(pe):window,s){case"focusin":(Vi(Fe)||Fe.contentEditable==="true")&&(to=Fe,Ru=pe,dc=null);break;case"focusout":dc=Ru=to=null;break;case"mousedown":Js=!0;break;case"contextmenu":case"mouseup":case"dragend":Js=!1,sg(je,m,Se);break;case"selectionchange":if(Pu)break;case"keydown":case"keyup":sg(je,m,Se)}var ct;if(ju)e:{switch(s){case"compositionstart":var yt="onCompositionStart";break e;case"compositionend":yt="onCompositionEnd";break e;case"compositionupdate":yt="onCompositionUpdate";break e}yt=void 0}else Ks?ng(s,m)&&(yt="onCompositionEnd"):s==="keydown"&&m.keyCode===229&&(yt="onCompositionStart");yt&&(Ou&&m.locale!=="ko"&&(Ks||yt!=="onCompositionStart"?yt==="onCompositionEnd"&&Ks&&(ct=Ja()):(Ki=Se,Uo="value"in Ki?Ki.value:Ki.textContent,Ks=!0)),Fe=Kg(pe,yt),0<Fe.length&&(yt=new Uf(yt,s,null,m,Se),je.push({event:yt,listeners:Fe}),ct?yt.data=ct:(ct=qf(m),ct!==null&&(yt.data=ct)))),(ct=Dx?wi(s,m):Ws(s,m))&&(yt=Kg(pe,"onBeforeInput"),0<yt.length&&(Fe=new Uf("onBeforeInput","beforeinput",null,m,Se),je.push({event:Fe,listeners:yt}),Fe.data=ct)),QF(je,s,pe,m,Se)}_N(je,c)})}function xh(s,c,m){return{instance:s,listener:c,currentTarget:m}}function Kg(s,c){for(var m=c+"Capture",v=[];s!==null;){var A=s,O=A.stateNode;if(A=A.tag,A!==5&&A!==26&&A!==27||O===null||(A=zo(s,m),A!=null&&v.unshift(xh(s,A,O)),A=zo(s,c),A!=null&&v.push(xh(s,A,O))),s.tag===3)return v;s=s.return}return[]}function rH(s){if(s===null)return null;do s=s.return;while(s&&s.tag!==5&&s.tag!==27);return s||null}function SN(s,c,m,v,A){for(var O=c._reactName,I=[];m!==null&&m!==v;){var G=m,te=G.alternate,pe=G.stateNode;if(G=G.tag,te!==null&&te===v)break;G!==5&&G!==26&&G!==27||pe===null||(te=pe,A?(pe=zo(m,O),pe!=null&&I.unshift(xh(m,pe,te))):A||(pe=zo(m,O),pe!=null&&I.push(xh(m,pe,te)))),m=m.return}I.length!==0&&s.push({event:c,listeners:I})}var iH=/\r\n?/g,aH=/\u0000|\uFFFD/g;function kN(s){return(typeof s=="string"?s:""+s).replace(iH,`
`).replace(aH,"")}function EN(s,c){return c=kN(c),kN(s)===c}function $t(s,c,m,v,A,O){switch(m){case"children":typeof v=="string"?c==="body"||c==="textarea"&&v===""||Yi(s,v):(typeof v=="number"||typeof v=="bigint")&&c!=="body"&&Yi(s,""+v);break;case"className":Lt(s,"class",v);break;case"tabIndex":Lt(s,"tabindex",v);break;case"dir":case"role":case"viewBox":case"width":case"height":Lt(s,m,v);break;case"style":Su(s,v,O);break;case"data":if(c!=="object"){Lt(s,"data",v);break}case"src":case"href":if(v===""&&(c!=="a"||m!=="href")){s.removeAttribute(m);break}if(v==null||typeof v=="function"||typeof v=="symbol"||typeof v=="boolean"){s.removeAttribute(m);break}v=Hs(""+v),s.setAttribute(m,v);break;case"action":case"formAction":if(typeof v=="function"){s.setAttribute(m,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof O=="function"&&(m==="formAction"?(c!=="input"&&$t(s,c,"name",A.name,A,null),$t(s,c,"formEncType",A.formEncType,A,null),$t(s,c,"formMethod",A.formMethod,A,null),$t(s,c,"formTarget",A.formTarget,A,null)):($t(s,c,"encType",A.encType,A,null),$t(s,c,"method",A.method,A,null),$t(s,c,"target",A.target,A,null)));if(v==null||typeof v=="symbol"||typeof v=="boolean"){s.removeAttribute(m);break}v=Hs(""+v),s.setAttribute(m,v);break;case"onClick":v!=null&&(s.onclick=Wr);break;case"onScroll":v!=null&&mt("scroll",s);break;case"onScrollEnd":v!=null&&mt("scrollend",s);break;case"dangerouslySetInnerHTML":if(v!=null){if(typeof v!="object"||!("__html"in v))throw Error(r(61));if(m=v.__html,m!=null){if(A.children!=null)throw Error(r(60));s.innerHTML=m}}break;case"multiple":s.multiple=v&&typeof v!="function"&&typeof v!="symbol";break;case"muted":s.muted=v&&typeof v!="function"&&typeof v!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(v==null||typeof v=="function"||typeof v=="boolean"||typeof v=="symbol"){s.removeAttribute("xlink:href");break}m=Hs(""+v),s.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",m);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":v!=null&&typeof v!="function"&&typeof v!="symbol"?s.setAttribute(m,""+v):s.removeAttribute(m);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":v&&typeof v!="function"&&typeof v!="symbol"?s.setAttribute(m,""):s.removeAttribute(m);break;case"capture":case"download":v===!0?s.setAttribute(m,""):v!==!1&&v!=null&&typeof v!="function"&&typeof v!="symbol"?s.setAttribute(m,v):s.removeAttribute(m);break;case"cols":case"rows":case"size":case"span":v!=null&&typeof v!="function"&&typeof v!="symbol"&&!isNaN(v)&&1<=v?s.setAttribute(m,v):s.removeAttribute(m);break;case"rowSpan":case"start":v==null||typeof v=="function"||typeof v=="symbol"||isNaN(v)?s.removeAttribute(m):s.setAttribute(m,v);break;case"popover":mt("beforetoggle",s),mt("toggle",s),dt(s,"popover",v);break;case"xlinkActuate":Kr(s,"http://www.w3.org/1999/xlink","xlink:actuate",v);break;case"xlinkArcrole":Kr(s,"http://www.w3.org/1999/xlink","xlink:arcrole",v);break;case"xlinkRole":Kr(s,"http://www.w3.org/1999/xlink","xlink:role",v);break;case"xlinkShow":Kr(s,"http://www.w3.org/1999/xlink","xlink:show",v);break;case"xlinkTitle":Kr(s,"http://www.w3.org/1999/xlink","xlink:title",v);break;case"xlinkType":Kr(s,"http://www.w3.org/1999/xlink","xlink:type",v);break;case"xmlBase":Kr(s,"http://www.w3.org/XML/1998/namespace","xml:base",v);break;case"xmlLang":Kr(s,"http://www.w3.org/XML/1998/namespace","xml:lang",v);break;case"xmlSpace":Kr(s,"http://www.w3.org/XML/1998/namespace","xml:space",v);break;case"is":dt(s,"is",v);break;case"innerText":case"textContent":break;default:(!(2<m.length)||m[0]!=="o"&&m[0]!=="O"||m[1]!=="n"&&m[1]!=="N")&&(m=ku.get(m)||m,dt(s,m,v))}}function J_(s,c,m,v,A,O){switch(m){case"style":Su(s,v,O);break;case"dangerouslySetInnerHTML":if(v!=null){if(typeof v!="object"||!("__html"in v))throw Error(r(61));if(m=v.__html,m!=null){if(A.children!=null)throw Error(r(60));s.innerHTML=m}}break;case"children":typeof v=="string"?Yi(s,v):(typeof v=="number"||typeof v=="bigint")&&Yi(s,""+v);break;case"onScroll":v!=null&&mt("scroll",s);break;case"onScrollEnd":v!=null&&mt("scrollend",s);break;case"onClick":v!=null&&(s.onclick=Wr);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Gp.hasOwnProperty(m))e:{if(m[0]==="o"&&m[1]==="n"&&(A=m.endsWith("Capture"),c=m.slice(2,A?m.length-7:void 0),O=s[Qn]||null,O=O!=null?O[m]:null,typeof O=="function"&&s.removeEventListener(c,O,A),typeof v=="function")){typeof O!="function"&&O!==null&&(m in s?s[m]=null:s.hasAttribute(m)&&s.removeAttribute(m)),s.addEventListener(c,v,A);break e}m in s?s[m]=v:v===!0?s.setAttribute(m,""):dt(s,m,v)}}}function pr(s,c,m){switch(c){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":mt("error",s),mt("load",s);var v=!1,A=!1,O;for(O in m)if(m.hasOwnProperty(O)){var I=m[O];if(I!=null)switch(O){case"src":v=!0;break;case"srcSet":A=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,c));default:$t(s,c,O,I,m,null)}}A&&$t(s,c,"srcSet",m.srcSet,m,null),v&&$t(s,c,"src",m.src,m,null);return;case"input":mt("invalid",s);var G=O=I=A=null,te=null,pe=null;for(v in m)if(m.hasOwnProperty(v)){var Se=m[v];if(Se!=null)switch(v){case"name":A=Se;break;case"type":I=Se;break;case"checked":te=Se;break;case"defaultChecked":pe=Se;break;case"value":O=Se;break;case"defaultValue":G=Se;break;case"children":case"dangerouslySetInnerHTML":if(Se!=null)throw Error(r(137,c));break;default:$t(s,c,v,Se,m,null)}}Xl(s,O,G,te,pe,I,A,!1);return;case"select":mt("invalid",s),v=I=O=null;for(A in m)if(m.hasOwnProperty(A)&&(G=m[A],G!=null))switch(A){case"value":O=G;break;case"defaultValue":I=G;break;case"multiple":v=G;default:$t(s,c,A,G,m,null)}c=O,m=I,s.multiple=!!v,c!=null?zt(s,!!v,c,!1):m!=null&&zt(s,!!v,m,!0);return;case"textarea":mt("invalid",s),O=A=v=null;for(I in m)if(m.hasOwnProperty(I)&&(G=m[I],G!=null))switch(I){case"value":v=G;break;case"defaultValue":A=G;break;case"children":O=G;break;case"dangerouslySetInnerHTML":if(G!=null)throw Error(r(91));break;default:$t(s,c,I,G,m,null)}Us(s,v,A,O);return;case"option":for(te in m)if(m.hasOwnProperty(te)&&(v=m[te],v!=null))switch(te){case"selected":s.selected=v&&typeof v!="function"&&typeof v!="symbol";break;default:$t(s,c,te,v,m,null)}return;case"dialog":mt("beforetoggle",s),mt("toggle",s),mt("cancel",s),mt("close",s);break;case"iframe":case"object":mt("load",s);break;case"video":case"audio":for(v=0;v<vh.length;v++)mt(vh[v],s);break;case"image":mt("error",s),mt("load",s);break;case"details":mt("toggle",s);break;case"embed":case"source":case"link":mt("error",s),mt("load",s);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(pe in m)if(m.hasOwnProperty(pe)&&(v=m[pe],v!=null))switch(pe){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,c));default:$t(s,c,pe,v,m,null)}return;default:if(Jl(c)){for(Se in m)m.hasOwnProperty(Se)&&(v=m[Se],v!==void 0&&J_(s,c,Se,v,m,void 0));return}}for(G in m)m.hasOwnProperty(G)&&(v=m[G],v!=null&&$t(s,c,G,v,m,null))}function oH(s,c,m,v){switch(c){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var A=null,O=null,I=null,G=null,te=null,pe=null,Se=null;for(ve in m){var je=m[ve];if(m.hasOwnProperty(ve)&&je!=null)switch(ve){case"checked":break;case"value":break;case"defaultValue":te=je;default:v.hasOwnProperty(ve)||$t(s,c,ve,null,v,je)}}for(var be in v){var ve=v[be];if(je=m[be],v.hasOwnProperty(be)&&(ve!=null||je!=null))switch(be){case"type":O=ve;break;case"name":A=ve;break;case"checked":pe=ve;break;case"defaultChecked":Se=ve;break;case"value":I=ve;break;case"defaultValue":G=ve;break;case"children":case"dangerouslySetInnerHTML":if(ve!=null)throw Error(r(137,c));break;default:ve!==je&&$t(s,c,be,ve,v,je)}}Df(s,I,G,te,pe,Se,O,A);return;case"select":ve=I=G=be=null;for(O in m)if(te=m[O],m.hasOwnProperty(O)&&te!=null)switch(O){case"value":break;case"multiple":ve=te;default:v.hasOwnProperty(O)||$t(s,c,O,null,v,te)}for(A in v)if(O=v[A],te=m[A],v.hasOwnProperty(A)&&(O!=null||te!=null))switch(A){case"value":be=O;break;case"defaultValue":G=O;break;case"multiple":I=O;default:O!==te&&$t(s,c,A,O,v,te)}c=G,m=I,v=ve,be!=null?zt(s,!!m,be,!1):!!v!=!!m&&(c!=null?zt(s,!!m,c,!0):zt(s,!!m,m?[]:"",!1));return;case"textarea":ve=be=null;for(G in m)if(A=m[G],m.hasOwnProperty(G)&&A!=null&&!v.hasOwnProperty(G))switch(G){case"value":break;case"children":break;default:$t(s,c,G,null,v,A)}for(I in v)if(A=v[I],O=m[I],v.hasOwnProperty(I)&&(A!=null||O!=null))switch(I){case"value":be=A;break;case"defaultValue":ve=A;break;case"children":break;case"dangerouslySetInnerHTML":if(A!=null)throw Error(r(91));break;default:A!==O&&$t(s,c,I,A,v,O)}Xa(s,be,ve);return;case"option":for(var ze in m)if(be=m[ze],m.hasOwnProperty(ze)&&be!=null&&!v.hasOwnProperty(ze))switch(ze){case"selected":s.selected=!1;break;default:$t(s,c,ze,null,v,be)}for(te in v)if(be=v[te],ve=m[te],v.hasOwnProperty(te)&&be!==ve&&(be!=null||ve!=null))switch(te){case"selected":s.selected=be&&typeof be!="function"&&typeof be!="symbol";break;default:$t(s,c,te,be,v,ve)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var et in m)be=m[et],m.hasOwnProperty(et)&&be!=null&&!v.hasOwnProperty(et)&&$t(s,c,et,null,v,be);for(pe in v)if(be=v[pe],ve=m[pe],v.hasOwnProperty(pe)&&be!==ve&&(be!=null||ve!=null))switch(pe){case"children":case"dangerouslySetInnerHTML":if(be!=null)throw Error(r(137,c));break;default:$t(s,c,pe,be,v,ve)}return;default:if(Jl(c)){for(var Bt in m)be=m[Bt],m.hasOwnProperty(Bt)&&be!==void 0&&!v.hasOwnProperty(Bt)&&J_(s,c,Bt,void 0,v,be);for(Se in v)be=v[Se],ve=m[Se],!v.hasOwnProperty(Se)||be===ve||be===void 0&&ve===void 0||J_(s,c,Se,be,v,ve);return}}for(var le in m)be=m[le],m.hasOwnProperty(le)&&be!=null&&!v.hasOwnProperty(le)&&$t(s,c,le,null,v,be);for(je in v)be=v[je],ve=m[je],!v.hasOwnProperty(je)||be===ve||be==null&&ve==null||$t(s,c,je,be,v,ve)}function AN(s){switch(s){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function sH(){if(typeof performance.getEntriesByType=="function"){for(var s=0,c=0,m=performance.getEntriesByType("resource"),v=0;v<m.length;v++){var A=m[v],O=A.transferSize,I=A.initiatorType,G=A.duration;if(O&&G&&AN(I)){for(I=0,G=A.responseEnd,v+=1;v<m.length;v++){var te=m[v],pe=te.startTime;if(pe>G)break;var Se=te.transferSize,je=te.initiatorType;Se&&AN(je)&&(te=te.responseEnd,I+=Se*(te<G?1:(G-pe)/(te-pe)))}if(--v,c+=8*(O+I)/(A.duration/1e3),s++,10<s)break}}if(0<s)return c/s/1e6}return navigator.connection&&(s=navigator.connection.downlink,typeof s=="number")?s:5}var Q_=null,ew=null;function Wg(s){return s.nodeType===9?s:s.ownerDocument}function TN(s){switch(s){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function jN(s,c){if(s===0)switch(c){case"svg":return 1;case"math":return 2;default:return 0}return s===1&&c==="foreignObject"?0:s}function tw(s,c){return s==="textarea"||s==="noscript"||typeof c.children=="string"||typeof c.children=="number"||typeof c.children=="bigint"||typeof c.dangerouslySetInnerHTML=="object"&&c.dangerouslySetInnerHTML!==null&&c.dangerouslySetInnerHTML.__html!=null}var nw=null;function lH(){var s=window.event;return s&&s.type==="popstate"?s===nw?!1:(nw=s,!0):(nw=null,!1)}var ON=typeof setTimeout=="function"?setTimeout:void 0,cH=typeof clearTimeout=="function"?clearTimeout:void 0,NN=typeof Promise=="function"?Promise:void 0,uH=typeof queueMicrotask=="function"?queueMicrotask:typeof NN<"u"?function(s){return NN.resolve(null).then(s).catch(dH)}:ON;function dH(s){setTimeout(function(){throw s})}function pl(s){return s==="head"}function CN(s,c){var m=c,v=0;do{var A=m.nextSibling;if(s.removeChild(m),A&&A.nodeType===8)if(m=A.data,m==="/$"||m==="/&"){if(v===0){s.removeChild(A),sd(c);return}v--}else if(m==="$"||m==="$?"||m==="$~"||m==="$!"||m==="&")v++;else if(m==="html")_h(s.ownerDocument.documentElement);else if(m==="head"){m=s.ownerDocument.head,_h(m);for(var O=m.firstChild;O;){var I=O.nextSibling,G=O.nodeName;O[Wl]||G==="SCRIPT"||G==="STYLE"||G==="LINK"&&O.rel.toLowerCase()==="stylesheet"||m.removeChild(O),O=I}}else m==="body"&&_h(s.ownerDocument.body);m=A}while(m);sd(c)}function MN(s,c){var m=s;s=0;do{var v=m.nextSibling;if(m.nodeType===1?c?(m._stashedDisplay=m.style.display,m.style.display="none"):(m.style.display=m._stashedDisplay||"",m.getAttribute("style")===""&&m.removeAttribute("style")):m.nodeType===3&&(c?(m._stashedText=m.nodeValue,m.nodeValue=""):m.nodeValue=m._stashedText||""),v&&v.nodeType===8)if(m=v.data,m==="/$"){if(s===0)break;s--}else m!=="$"&&m!=="$?"&&m!=="$~"&&m!=="$!"||s++;m=v}while(m)}function rw(s){var c=s.firstChild;for(c&&c.nodeType===10&&(c=c.nextSibling);c;){var m=c;switch(c=c.nextSibling,m.nodeName){case"HTML":case"HEAD":case"BODY":rw(m),Of(m);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(m.rel.toLowerCase()==="stylesheet")continue}s.removeChild(m)}}function fH(s,c,m,v){for(;s.nodeType===1;){var A=m;if(s.nodeName.toLowerCase()!==c.toLowerCase()){if(!v&&(s.nodeName!=="INPUT"||s.type!=="hidden"))break}else if(v){if(!s[Wl])switch(c){case"meta":if(!s.hasAttribute("itemprop"))break;return s;case"link":if(O=s.getAttribute("rel"),O==="stylesheet"&&s.hasAttribute("data-precedence"))break;if(O!==A.rel||s.getAttribute("href")!==(A.href==null||A.href===""?null:A.href)||s.getAttribute("crossorigin")!==(A.crossOrigin==null?null:A.crossOrigin)||s.getAttribute("title")!==(A.title==null?null:A.title))break;return s;case"style":if(s.hasAttribute("data-precedence"))break;return s;case"script":if(O=s.getAttribute("src"),(O!==(A.src==null?null:A.src)||s.getAttribute("type")!==(A.type==null?null:A.type)||s.getAttribute("crossorigin")!==(A.crossOrigin==null?null:A.crossOrigin))&&O&&s.hasAttribute("async")&&!s.hasAttribute("itemprop"))break;return s;default:return s}}else if(c==="input"&&s.type==="hidden"){var O=A.name==null?null:""+A.name;if(A.type==="hidden"&&s.getAttribute("name")===O)return s}else return s;if(s=ta(s.nextSibling),s===null)break}return null}function hH(s,c,m){if(c==="")return null;for(;s.nodeType!==3;)if((s.nodeType!==1||s.nodeName!=="INPUT"||s.type!=="hidden")&&!m||(s=ta(s.nextSibling),s===null))return null;return s}function DN(s,c){for(;s.nodeType!==8;)if((s.nodeType!==1||s.nodeName!=="INPUT"||s.type!=="hidden")&&!c||(s=ta(s.nextSibling),s===null))return null;return s}function iw(s){return s.data==="$?"||s.data==="$~"}function aw(s){return s.data==="$!"||s.data==="$?"&&s.ownerDocument.readyState!=="loading"}function mH(s,c){var m=s.ownerDocument;if(s.data==="$~")s._reactRetry=c;else if(s.data!=="$?"||m.readyState!=="loading")c();else{var v=function(){c(),m.removeEventListener("DOMContentLoaded",v)};m.addEventListener("DOMContentLoaded",v),s._reactRetry=v}}function ta(s){for(;s!=null;s=s.nextSibling){var c=s.nodeType;if(c===1||c===3)break;if(c===8){if(c=s.data,c==="$"||c==="$!"||c==="$?"||c==="$~"||c==="&"||c==="F!"||c==="F")break;if(c==="/$"||c==="/&")return null}}return s}var ow=null;function PN(s){s=s.nextSibling;for(var c=0;s;){if(s.nodeType===8){var m=s.data;if(m==="/$"||m==="/&"){if(c===0)return ta(s.nextSibling);c--}else m!=="$"&&m!=="$!"&&m!=="$?"&&m!=="$~"&&m!=="&"||c++}s=s.nextSibling}return null}function RN(s){s=s.previousSibling;for(var c=0;s;){if(s.nodeType===8){var m=s.data;if(m==="$"||m==="$!"||m==="$?"||m==="$~"||m==="&"){if(c===0)return s;c--}else m!=="/$"&&m!=="/&"||c++}s=s.previousSibling}return null}function LN(s,c,m){switch(c=Wg(m),s){case"html":if(s=c.documentElement,!s)throw Error(r(452));return s;case"head":if(s=c.head,!s)throw Error(r(453));return s;case"body":if(s=c.body,!s)throw Error(r(454));return s;default:throw Error(r(451))}}function _h(s){for(var c=s.attributes;c.length;)s.removeAttributeNode(c[0]);Of(s)}var na=new Map,IN=new Set;function Vg(s){return typeof s.getRootNode=="function"?s.getRootNode():s.nodeType===9?s:s.ownerDocument}var rs=Q.d;Q.d={f:pH,r:gH,D:bH,C:yH,L:vH,m:xH,X:wH,S:_H,M:SH};function pH(){var s=rs.f(),c=zg();return s||c}function gH(s){var c=$s(s);c!==null&&c.tag===5&&c.type==="form"?eO(c):rs.r(s)}var id=typeof document>"u"?null:document;function $N(s,c,m){var v=id;if(v&&typeof c=="string"&&c){var A=Zt(c);A='link[rel="'+s+'"][href="'+A+'"]',typeof m=="string"&&(A+='[crossorigin="'+m+'"]'),IN.has(A)||(IN.add(A),s={rel:s,crossOrigin:m,href:c},v.querySelector(A)===null&&(c=v.createElement("link"),pr(c,"link",s),Nn(c),v.head.appendChild(c)))}}function bH(s){rs.D(s),$N("dns-prefetch",s,null)}function yH(s,c){rs.C(s,c),$N("preconnect",s,c)}function vH(s,c,m){rs.L(s,c,m);var v=id;if(v&&s&&c){var A='link[rel="preload"][as="'+Zt(c)+'"]';c==="image"&&m&&m.imageSrcSet?(A+='[imagesrcset="'+Zt(m.imageSrcSet)+'"]',typeof m.imageSizes=="string"&&(A+='[imagesizes="'+Zt(m.imageSizes)+'"]')):A+='[href="'+Zt(s)+'"]';var O=A;switch(c){case"style":O=ad(s);break;case"script":O=od(s)}na.has(O)||(s=p({rel:"preload",href:c==="image"&&m&&m.imageSrcSet?void 0:s,as:c},m),na.set(O,s),v.querySelector(A)!==null||c==="style"&&v.querySelector(wh(O))||c==="script"&&v.querySelector(Sh(O))||(c=v.createElement("link"),pr(c,"link",s),Nn(c),v.head.appendChild(c)))}}function xH(s,c){rs.m(s,c);var m=id;if(m&&s){var v=c&&typeof c.as=="string"?c.as:"script",A='link[rel="modulepreload"][as="'+Zt(v)+'"][href="'+Zt(s)+'"]',O=A;switch(v){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":O=od(s)}if(!na.has(O)&&(s=p({rel:"modulepreload",href:s},c),na.set(O,s),m.querySelector(A)===null)){switch(v){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(m.querySelector(Sh(O)))return}v=m.createElement("link"),pr(v,"link",s),Nn(v),m.head.appendChild(v)}}}function _H(s,c,m){rs.S(s,c,m);var v=id;if(v&&s){var A=Bs(v).hoistableStyles,O=ad(s);c=c||"default";var I=A.get(O);if(!I){var G={loading:0,preload:null};if(I=v.querySelector(wh(O)))G.loading=5;else{s=p({rel:"stylesheet",href:s,"data-precedence":c},m),(m=na.get(O))&&sw(s,m);var te=I=v.createElement("link");Nn(te),pr(te,"link",s),te._p=new Promise(function(pe,Se){te.onload=pe,te.onerror=Se}),te.addEventListener("load",function(){G.loading|=1}),te.addEventListener("error",function(){G.loading|=2}),G.loading|=4,Zg(I,c,v)}I={type:"stylesheet",instance:I,count:1,state:G},A.set(O,I)}}}function wH(s,c){rs.X(s,c);var m=id;if(m&&s){var v=Bs(m).hoistableScripts,A=od(s),O=v.get(A);O||(O=m.querySelector(Sh(A)),O||(s=p({src:s,async:!0},c),(c=na.get(A))&&lw(s,c),O=m.createElement("script"),Nn(O),pr(O,"link",s),m.head.appendChild(O)),O={type:"script",instance:O,count:1,state:null},v.set(A,O))}}function SH(s,c){rs.M(s,c);var m=id;if(m&&s){var v=Bs(m).hoistableScripts,A=od(s),O=v.get(A);O||(O=m.querySelector(Sh(A)),O||(s=p({src:s,async:!0,type:"module"},c),(c=na.get(A))&&lw(s,c),O=m.createElement("script"),Nn(O),pr(O,"link",s),m.head.appendChild(O)),O={type:"script",instance:O,count:1,state:null},v.set(A,O))}}function BN(s,c,m,v){var A=(A=fe.current)?Vg(A):null;if(!A)throw Error(r(446));switch(s){case"meta":case"title":return null;case"style":return typeof m.precedence=="string"&&typeof m.href=="string"?(c=ad(m.href),m=Bs(A).hoistableStyles,v=m.get(c),v||(v={type:"style",instance:null,count:0,state:null},m.set(c,v)),v):{type:"void",instance:null,count:0,state:null};case"link":if(m.rel==="stylesheet"&&typeof m.href=="string"&&typeof m.precedence=="string"){s=ad(m.href);var O=Bs(A).hoistableStyles,I=O.get(s);if(I||(A=A.ownerDocument||A,I={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},O.set(s,I),(O=A.querySelector(wh(s)))&&!O._p&&(I.instance=O,I.state.loading=5),na.has(s)||(m={rel:"preload",as:"style",href:m.href,crossOrigin:m.crossOrigin,integrity:m.integrity,media:m.media,hrefLang:m.hrefLang,referrerPolicy:m.referrerPolicy},na.set(s,m),O||kH(A,s,m,I.state))),c&&v===null)throw Error(r(528,""));return I}if(c&&v!==null)throw Error(r(529,""));return null;case"script":return c=m.async,m=m.src,typeof m=="string"&&c&&typeof c!="function"&&typeof c!="symbol"?(c=od(m),m=Bs(A).hoistableScripts,v=m.get(c),v||(v={type:"script",instance:null,count:0,state:null},m.set(c,v)),v):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,s))}}function ad(s){return'href="'+Zt(s)+'"'}function wh(s){return'link[rel="stylesheet"]['+s+"]"}function zN(s){return p({},s,{"data-precedence":s.precedence,precedence:null})}function kH(s,c,m,v){s.querySelector('link[rel="preload"][as="style"]['+c+"]")?v.loading=1:(c=s.createElement("link"),v.preload=c,c.addEventListener("load",function(){return v.loading|=1}),c.addEventListener("error",function(){return v.loading|=2}),pr(c,"link",m),Nn(c),s.head.appendChild(c))}function od(s){return'[src="'+Zt(s)+'"]'}function Sh(s){return"script[async]"+s}function UN(s,c,m){if(c.count++,c.instance===null)switch(c.type){case"style":var v=s.querySelector('style[data-href~="'+Zt(m.href)+'"]');if(v)return c.instance=v,Nn(v),v;var A=p({},m,{"data-href":m.href,"data-precedence":m.precedence,href:null,precedence:null});return v=(s.ownerDocument||s).createElement("style"),Nn(v),pr(v,"style",A),Zg(v,m.precedence,s),c.instance=v;case"stylesheet":A=ad(m.href);var O=s.querySelector(wh(A));if(O)return c.state.loading|=4,c.instance=O,Nn(O),O;v=zN(m),(A=na.get(A))&&sw(v,A),O=(s.ownerDocument||s).createElement("link"),Nn(O);var I=O;return I._p=new Promise(function(G,te){I.onload=G,I.onerror=te}),pr(O,"link",v),c.state.loading|=4,Zg(O,m.precedence,s),c.instance=O;case"script":return O=od(m.src),(A=s.querySelector(Sh(O)))?(c.instance=A,Nn(A),A):(v=m,(A=na.get(O))&&(v=p({},m),lw(v,A)),s=s.ownerDocument||s,A=s.createElement("script"),Nn(A),pr(A,"link",v),s.head.appendChild(A),c.instance=A);case"void":return null;default:throw Error(r(443,c.type))}else c.type==="stylesheet"&&(c.state.loading&4)===0&&(v=c.instance,c.state.loading|=4,Zg(v,m.precedence,s));return c.instance}function Zg(s,c,m){for(var v=m.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),A=v.length?v[v.length-1]:null,O=A,I=0;I<v.length;I++){var G=v[I];if(G.dataset.precedence===c)O=G;else if(O!==A)break}O?O.parentNode.insertBefore(s,O.nextSibling):(c=m.nodeType===9?m.head:m,c.insertBefore(s,c.firstChild))}function sw(s,c){s.crossOrigin==null&&(s.crossOrigin=c.crossOrigin),s.referrerPolicy==null&&(s.referrerPolicy=c.referrerPolicy),s.title==null&&(s.title=c.title)}function lw(s,c){s.crossOrigin==null&&(s.crossOrigin=c.crossOrigin),s.referrerPolicy==null&&(s.referrerPolicy=c.referrerPolicy),s.integrity==null&&(s.integrity=c.integrity)}var Xg=null;function FN(s,c,m){if(Xg===null){var v=new Map,A=Xg=new Map;A.set(m,v)}else A=Xg,v=A.get(m),v||(v=new Map,A.set(m,v));if(v.has(s))return v;for(v.set(s,null),m=m.getElementsByTagName(s),A=0;A<m.length;A++){var O=m[A];if(!(O[Wl]||O[On]||s==="link"&&O.getAttribute("rel")==="stylesheet")&&O.namespaceURI!=="http://www.w3.org/2000/svg"){var I=O.getAttribute(c)||"";I=s+I;var G=v.get(I);G?G.push(O):v.set(I,[O])}}return v}function HN(s,c,m){s=s.ownerDocument||s,s.head.insertBefore(m,c==="title"?s.querySelector("head > title"):null)}function EH(s,c,m){if(m===1||c.itemProp!=null)return!1;switch(s){case"meta":case"title":return!0;case"style":if(typeof c.precedence!="string"||typeof c.href!="string"||c.href==="")break;return!0;case"link":if(typeof c.rel!="string"||typeof c.href!="string"||c.href===""||c.onLoad||c.onError)break;switch(c.rel){case"stylesheet":return s=c.disabled,typeof c.precedence=="string"&&s==null;default:return!0}case"script":if(c.async&&typeof c.async!="function"&&typeof c.async!="symbol"&&!c.onLoad&&!c.onError&&c.src&&typeof c.src=="string")return!0}return!1}function GN(s){return!(s.type==="stylesheet"&&(s.state.loading&3)===0)}function AH(s,c,m,v){if(m.type==="stylesheet"&&(typeof v.media!="string"||matchMedia(v.media).matches!==!1)&&(m.state.loading&4)===0){if(m.instance===null){var A=ad(v.href),O=c.querySelector(wh(A));if(O){c=O._p,c!==null&&typeof c=="object"&&typeof c.then=="function"&&(s.count++,s=Jg.bind(s),c.then(s,s)),m.state.loading|=4,m.instance=O,Nn(O);return}O=c.ownerDocument||c,v=zN(v),(A=na.get(A))&&sw(v,A),O=O.createElement("link"),Nn(O);var I=O;I._p=new Promise(function(G,te){I.onload=G,I.onerror=te}),pr(O,"link",v),m.instance=O}s.stylesheets===null&&(s.stylesheets=new Map),s.stylesheets.set(m,c),(c=m.state.preload)&&(m.state.loading&3)===0&&(s.count++,m=Jg.bind(s),c.addEventListener("load",m),c.addEventListener("error",m))}}var cw=0;function TH(s,c){return s.stylesheets&&s.count===0&&e0(s,s.stylesheets),0<s.count||0<s.imgCount?function(m){var v=setTimeout(function(){if(s.stylesheets&&e0(s,s.stylesheets),s.unsuspend){var O=s.unsuspend;s.unsuspend=null,O()}},6e4+c);0<s.imgBytes&&cw===0&&(cw=62500*sH());var A=setTimeout(function(){if(s.waitingForImages=!1,s.count===0&&(s.stylesheets&&e0(s,s.stylesheets),s.unsuspend)){var O=s.unsuspend;s.unsuspend=null,O()}},(s.imgBytes>cw?50:800)+c);return s.unsuspend=m,function(){s.unsuspend=null,clearTimeout(v),clearTimeout(A)}}:null}function Jg(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)e0(this,this.stylesheets);else if(this.unsuspend){var s=this.unsuspend;this.unsuspend=null,s()}}}var Qg=null;function e0(s,c){s.stylesheets=null,s.unsuspend!==null&&(s.count++,Qg=new Map,c.forEach(jH,s),Qg=null,Jg.call(s))}function jH(s,c){if(!(c.state.loading&4)){var m=Qg.get(s);if(m)var v=m.get(null);else{m=new Map,Qg.set(s,m);for(var A=s.querySelectorAll("link[data-precedence],style[data-precedence]"),O=0;O<A.length;O++){var I=A[O];(I.nodeName==="LINK"||I.getAttribute("media")!=="not all")&&(m.set(I.dataset.precedence,I),v=I)}v&&m.set(null,v)}A=c.instance,I=A.getAttribute("data-precedence"),O=m.get(I)||v,O===v&&m.set(null,A),m.set(I,A),this.count++,v=Jg.bind(this),A.addEventListener("load",v),A.addEventListener("error",v),O?O.parentNode.insertBefore(A,O.nextSibling):(s=s.nodeType===9?s.head:s,s.insertBefore(A,s.firstChild)),c.state.loading|=4}}var kh={$$typeof:j,Provider:null,Consumer:null,_currentValue:ne,_currentValue2:ne,_threadCount:0};function OH(s,c,m,v,A,O,I,G,te){this.tag=1,this.containerInfo=s,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Af(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Af(0),this.hiddenUpdates=Af(null),this.identifierPrefix=v,this.onUncaughtError=A,this.onCaughtError=O,this.onRecoverableError=I,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=te,this.incompleteTransitions=new Map}function qN(s,c,m,v,A,O,I,G,te,pe,Se,je){return s=new OH(s,c,m,I,te,pe,Se,je,G),c=1,O===!0&&(c|=24),O=Ar(3,null,null,c),s.current=O,O.stateNode=s,c=Fx(),c.refCount++,s.pooledCache=c,c.refCount++,O.memoizedState={element:v,isDehydrated:m,cache:c},Yx(O),s}function YN(s){return s?(s=Ho,s):Ho}function KN(s,c,m,v,A,O){A=YN(A),v.context===null?v.context=A:v.pendingContext=A,v=il(c),v.payload={element:m},O=O===void 0?null:O,O!==null&&(v.callback=O),m=al(s,v,c),m!==null&&(ri(m,s,c),nh(m,s,c))}function WN(s,c){if(s=s.memoizedState,s!==null&&s.dehydrated!==null){var m=s.retryLane;s.retryLane=m!==0&&m<c?m:c}}function uw(s,c){WN(s,c),(s=s.alternate)&&WN(s,c)}function VN(s){if(s.tag===13||s.tag===31){var c=Ji(s,67108864);c!==null&&ri(c,s,67108864),uw(s,67108864)}}function ZN(s){if(s.tag===13||s.tag===31){var c=Ti();c=Yr(c);var m=Ji(s,c);m!==null&&ri(m,s,c),uw(s,c)}}var t0=!0;function NH(s,c,m,v){var A=q.T;q.T=null;var O=Q.p;try{Q.p=2,dw(s,c,m,v)}finally{Q.p=O,q.T=A}}function CH(s,c,m,v){var A=q.T;q.T=null;var O=Q.p;try{Q.p=8,dw(s,c,m,v)}finally{Q.p=O,q.T=A}}function dw(s,c,m,v){if(t0){var A=fw(v);if(A===null)X_(s,c,v,n0,m),JN(s,v);else if(DH(A,s,c,m,v))v.stopPropagation();else if(JN(s,v),c&4&&-1<MH.indexOf(s)){for(;A!==null;){var O=$s(A);if(O!==null)switch(O.tag){case 3:if(O=O.stateNode,O.current.memoizedState.isDehydrated){var I=Po(O.pendingLanes);if(I!==0){var G=O;for(G.pendingLanes|=2,G.entangledLanes|=2;I;){var te=1<<31-Dr(I);G.entanglements[1]|=te,I&=~te}co(O),(Tt&6)===0&&($g=Be()+500,yh(0))}}break;case 31:case 13:G=Ji(O,2),G!==null&&ri(G,O,2),zg(),uw(O,2)}if(O=fw(v),O===null&&X_(s,c,v,n0,m),O===A)break;A=O}A!==null&&v.stopPropagation()}else X_(s,c,v,null,m)}}function fw(s){return s=Ql(s),hw(s)}var n0=null;function hw(s){if(n0=null,s=Io(s),s!==null){var c=a(s);if(c===null)s=null;else{var m=c.tag;if(m===13){if(s=o(c),s!==null)return s;s=null}else if(m===31){if(s=l(c),s!==null)return s;s=null}else if(m===3){if(c.stateNode.current.memoizedState.isDehydrated)return c.tag===3?c.stateNode.containerInfo:null;s=null}else c!==s&&(s=null)}}return n0=s,null}function XN(s){switch(s){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(ut()){case Ot:return 2;case vt:return 8;case Jn:case gi:return 32;case bi:return 268435456;default:return 32}default:return 32}}var mw=!1,gl=null,bl=null,yl=null,Eh=new Map,Ah=new Map,vl=[],MH="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function JN(s,c){switch(s){case"focusin":case"focusout":gl=null;break;case"dragenter":case"dragleave":bl=null;break;case"mouseover":case"mouseout":yl=null;break;case"pointerover":case"pointerout":Eh.delete(c.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ah.delete(c.pointerId)}}function Th(s,c,m,v,A,O){return s===null||s.nativeEvent!==O?(s={blockedOn:c,domEventName:m,eventSystemFlags:v,nativeEvent:O,targetContainers:[A]},c!==null&&(c=$s(c),c!==null&&VN(c)),s):(s.eventSystemFlags|=v,c=s.targetContainers,A!==null&&c.indexOf(A)===-1&&c.push(A),s)}function DH(s,c,m,v,A){switch(c){case"focusin":return gl=Th(gl,s,c,m,v,A),!0;case"dragenter":return bl=Th(bl,s,c,m,v,A),!0;case"mouseover":return yl=Th(yl,s,c,m,v,A),!0;case"pointerover":var O=A.pointerId;return Eh.set(O,Th(Eh.get(O)||null,s,c,m,v,A)),!0;case"gotpointercapture":return O=A.pointerId,Ah.set(O,Th(Ah.get(O)||null,s,c,m,v,A)),!0}return!1}function QN(s){var c=Io(s.target);if(c!==null){var m=a(c);if(m!==null){if(c=m.tag,c===13){if(c=o(m),c!==null){s.blockedOn=c,jf(s.priority,function(){ZN(m)});return}}else if(c===31){if(c=l(m),c!==null){s.blockedOn=c,jf(s.priority,function(){ZN(m)});return}}else if(c===3&&m.stateNode.current.memoizedState.isDehydrated){s.blockedOn=m.tag===3?m.stateNode.containerInfo:null;return}}}s.blockedOn=null}function r0(s){if(s.blockedOn!==null)return!1;for(var c=s.targetContainers;0<c.length;){var m=fw(s.nativeEvent);if(m===null){m=s.nativeEvent;var v=new m.constructor(m.type,m);Eu=v,m.target.dispatchEvent(v),Eu=null}else return c=$s(m),c!==null&&VN(c),s.blockedOn=m,!1;c.shift()}return!0}function eC(s,c,m){r0(s)&&m.delete(c)}function PH(){mw=!1,gl!==null&&r0(gl)&&(gl=null),bl!==null&&r0(bl)&&(bl=null),yl!==null&&r0(yl)&&(yl=null),Eh.forEach(eC),Ah.forEach(eC)}function i0(s,c){s.blockedOn===c&&(s.blockedOn=null,mw||(mw=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,PH)))}var a0=null;function tC(s){a0!==s&&(a0=s,e.unstable_scheduleCallback(e.unstable_NormalPriority,function(){a0===s&&(a0=null);for(var c=0;c<s.length;c+=3){var m=s[c],v=s[c+1],A=s[c+2];if(typeof v!="function"){if(hw(v||m)===null)continue;break}var O=$s(m);O!==null&&(s.splice(c,3),c-=3,f_(O,{pending:!0,data:A,method:m.method,action:v},v,A))}}))}function sd(s){function c(te){return i0(te,s)}gl!==null&&i0(gl,s),bl!==null&&i0(bl,s),yl!==null&&i0(yl,s),Eh.forEach(c),Ah.forEach(c);for(var m=0;m<vl.length;m++){var v=vl[m];v.blockedOn===s&&(v.blockedOn=null)}for(;0<vl.length&&(m=vl[0],m.blockedOn===null);)QN(m),m.blockedOn===null&&vl.shift();if(m=(s.ownerDocument||s).$$reactFormReplay,m!=null)for(v=0;v<m.length;v+=3){var A=m[v],O=m[v+1],I=A[Qn]||null;if(typeof O=="function")I||tC(m);else if(I){var G=null;if(O&&O.hasAttribute("formAction")){if(A=O,I=O[Qn]||null)G=I.formAction;else if(hw(A)!==null)continue}else G=I.action;typeof G=="function"?m[v+1]=G:(m.splice(v,3),v-=3),tC(m)}}}function nC(){function s(O){O.canIntercept&&O.info==="react-transition"&&O.intercept({handler:function(){return new Promise(function(I){return A=I})},focusReset:"manual",scroll:"manual"})}function c(){A!==null&&(A(),A=null),v||setTimeout(m,20)}function m(){if(!v&&!navigation.transition){var O=navigation.currentEntry;O&&O.url!=null&&navigation.navigate(O.url,{state:O.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var v=!1,A=null;return navigation.addEventListener("navigate",s),navigation.addEventListener("navigatesuccess",c),navigation.addEventListener("navigateerror",c),setTimeout(m,100),function(){v=!0,navigation.removeEventListener("navigate",s),navigation.removeEventListener("navigatesuccess",c),navigation.removeEventListener("navigateerror",c),A!==null&&(A(),A=null)}}}function pw(s){this._internalRoot=s}o0.prototype.render=pw.prototype.render=function(s){var c=this._internalRoot;if(c===null)throw Error(r(409));var m=c.current,v=Ti();KN(m,v,s,c,null,null)},o0.prototype.unmount=pw.prototype.unmount=function(){var s=this._internalRoot;if(s!==null){this._internalRoot=null;var c=s.containerInfo;KN(s.current,2,null,s,null,null),zg(),c[Lo]=null}};function o0(s){this._internalRoot=s}o0.prototype.unstable_scheduleHydration=function(s){if(s){var c=Tf();s={blockedOn:null,target:s,priority:c};for(var m=0;m<vl.length&&c!==0&&c<vl[m].priority;m++);vl.splice(m,0,s),m===0&&QN(s)}};var rC=t.version;if(rC!=="19.2.1")throw Error(r(527,rC,"19.2.1"));Q.findDOMNode=function(s){var c=s._reactInternals;if(c===void 0)throw typeof s.render=="function"?Error(r(188)):(s=Object.keys(s).join(","),Error(r(268,s)));return s=d(c),s=s!==null?h(s):null,s=s===null?null:s.stateNode,s};var RH={bundleType:0,version:"19.2.1",rendererPackageName:"react-dom",currentDispatcherRef:q,reconcilerVersion:"19.2.1"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var s0=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!s0.isDisabled&&s0.supportsFiber)try{Gt=s0.inject(RH),mn=s0}catch{}}return Oh.createRoot=function(s,c){if(!i(s))throw Error(r(299));var m=!1,v="",A=uO,O=dO,I=fO;return c!=null&&(c.unstable_strictMode===!0&&(m=!0),c.identifierPrefix!==void 0&&(v=c.identifierPrefix),c.onUncaughtError!==void 0&&(A=c.onUncaughtError),c.onCaughtError!==void 0&&(O=c.onCaughtError),c.onRecoverableError!==void 0&&(I=c.onRecoverableError)),c=qN(s,1,!1,null,null,m,v,null,A,O,I,nC),s[Lo]=c.current,Z_(s),new pw(c)},Oh.hydrateRoot=function(s,c,m){if(!i(s))throw Error(r(299));var v=!1,A="",O=uO,I=dO,G=fO,te=null;return m!=null&&(m.unstable_strictMode===!0&&(v=!0),m.identifierPrefix!==void 0&&(A=m.identifierPrefix),m.onUncaughtError!==void 0&&(O=m.onUncaughtError),m.onCaughtError!==void 0&&(I=m.onCaughtError),m.onRecoverableError!==void 0&&(G=m.onRecoverableError),m.formState!==void 0&&(te=m.formState)),c=qN(s,1,!0,c,m??null,v,A,te,O,I,G,nC),c.context=YN(null),m=c.current,v=Ti(),v=Yr(v),A=il(v),A.callback=null,al(m,A,v),m=v,c.current.lanes=m,Ro(c,m),co(c),s[Lo]=c.current,Z_(s),new o0(c)},Oh.version="19.2.1",Oh}var hC;function qH(){if(hC)return yw.exports;hC=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),yw.exports=GH(),yw.exports}var YH=qH();/**
 * react-router v7.10.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var mC="popstate";function KH(e={}){function t(i,a){let{pathname:o="/",search:l="",hash:u=""}=gu(i.location.hash.substring(1));return!o.startsWith("/")&&!o.startsWith(".")&&(o="/"+o),tk("",{pathname:o,search:l,hash:u},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function n(i,a){let o=i.document.querySelector("base"),l="";if(o&&o.getAttribute("href")){let u=i.location.href,d=u.indexOf("#");l=d===-1?u:u.slice(0,d)}return l+"#"+(typeof a=="string"?a:xm(a))}function r(i,a){zi(i.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(a)})`)}return VH(t,n,r,e)}function ln(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function zi(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function WH(){return Math.random().toString(36).substring(2,10)}function pC(e,t){return{usr:e.state,key:e.key,idx:t}}function tk(e,t,n=null,r){return{pathname:typeof e=="string"?e:e.pathname,search:"",hash:"",...typeof t=="string"?gu(t):t,state:n,key:t&&t.key||r||WH()}}function xm({pathname:e="/",search:t="",hash:n=""}){return t&&t!=="?"&&(e+=t.charAt(0)==="?"?t:"?"+t),n&&n!=="#"&&(e+=n.charAt(0)==="#"?n:"#"+n),e}function gu(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substring(n),e=e.substring(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substring(r),e=e.substring(0,r)),e&&(t.pathname=e)}return t}function VH(e,t,n,r={}){let{window:i=document.defaultView,v5Compat:a=!1}=r,o=i.history,l="POP",u=null,d=h();d==null&&(d=0,o.replaceState({...o.state,idx:d},""));function h(){return(o.state||{idx:null}).idx}function p(){l="POP";let _=h(),T=_==null?null:_-d;d=_,u&&u({action:l,location:S.location,delta:T})}function b(_,T){l="PUSH";let N=tk(S.location,_,T);n&&n(N,_),d=h()+1;let j=pC(N,d),C=S.createHref(N);try{o.pushState(j,"",C)}catch(M){if(M instanceof DOMException&&M.name==="DataCloneError")throw M;i.location.assign(C)}a&&u&&u({action:l,location:S.location,delta:1})}function x(_,T){l="REPLACE";let N=tk(S.location,_,T);n&&n(N,_),d=h();let j=pC(N,d),C=S.createHref(N);o.replaceState(j,"",C),a&&u&&u({action:l,location:S.location,delta:0})}function k(_){return ZH(_)}let S={get action(){return l},get location(){return e(i,o)},listen(_){if(u)throw new Error("A history only accepts one active listener");return i.addEventListener(mC,p),u=_,()=>{i.removeEventListener(mC,p),u=null}},createHref(_){return t(i,_)},createURL:k,encodeLocation(_){let T=k(_);return{pathname:T.pathname,search:T.search,hash:T.hash}},push:b,replace:x,go(_){return o.go(_)}};return S}function ZH(e,t=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),ln(n,"No window.location.(origin|href) available to create URL");let r=typeof e=="string"?e:xm(e);return r=r.replace(/ $/,"%20"),!t&&r.startsWith("//")&&(r=n+r),new URL(r,n)}function s$(e,t,n="/"){return XH(e,t,n,!1)}function XH(e,t,n,r){let i=typeof t=="string"?gu(t):t,a=bs(i.pathname||"/",n);if(a==null)return null;let o=l$(e);JH(o);let l=null;for(let u=0;l==null&&u<o.length;++u){let d=cG(a);l=sG(o[u],d,r)}return l}function l$(e,t=[],n=[],r="",i=!1){let a=(o,l,u=i,d)=>{let h={relativePath:d===void 0?o.path||"":d,caseSensitive:o.caseSensitive===!0,childrenIndex:l,route:o};if(h.relativePath.startsWith("/")){if(!h.relativePath.startsWith(r)&&u)return;ln(h.relativePath.startsWith(r),`Absolute route path "${h.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),h.relativePath=h.relativePath.slice(r.length)}let p=ms([r,h.relativePath]),b=n.concat(h);o.children&&o.children.length>0&&(ln(o.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${p}".`),l$(o.children,t,b,p,u)),!(o.path==null&&!o.index)&&t.push({path:p,score:aG(p,o.index),routesMeta:b})};return e.forEach((o,l)=>{if(o.path===""||!o.path?.includes("?"))a(o,l);else for(let u of c$(o.path))a(o,l,!0,u)}),t}function c$(e){let t=e.split("/");if(t.length===0)return[];let[n,...r]=t,i=n.endsWith("?"),a=n.replace(/\?$/,"");if(r.length===0)return i?[a,""]:[a];let o=c$(r.join("/")),l=[];return l.push(...o.map(u=>u===""?a:[a,u].join("/"))),i&&l.push(...o),l.map(u=>e.startsWith("/")&&u===""?"/":u)}function JH(e){e.sort((t,n)=>t.score!==n.score?n.score-t.score:oG(t.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}var QH=/^:[\w-]+$/,eG=3,tG=2,nG=1,rG=10,iG=-2,gC=e=>e==="*";function aG(e,t){let n=e.split("/"),r=n.length;return n.some(gC)&&(r+=iG),t&&(r+=tG),n.filter(i=>!gC(i)).reduce((i,a)=>i+(QH.test(a)?eG:a===""?nG:rG),r)}function oG(e,t){return e.length===t.length&&e.slice(0,-1).every((r,i)=>r===t[i])?e[e.length-1]-t[t.length-1]:0}function sG(e,t,n=!1){let{routesMeta:r}=e,i={},a="/",o=[];for(let l=0;l<r.length;++l){let u=r[l],d=l===r.length-1,h=a==="/"?t:t.slice(a.length)||"/",p=Ob({path:u.relativePath,caseSensitive:u.caseSensitive,end:d},h),b=u.route;if(!p&&d&&n&&!r[r.length-1].route.index&&(p=Ob({path:u.relativePath,caseSensitive:u.caseSensitive,end:!1},h)),!p)return null;Object.assign(i,p.params),o.push({params:i,pathname:ms([a,p.pathname]),pathnameBase:mG(ms([a,p.pathnameBase])),route:b}),p.pathnameBase!=="/"&&(a=ms([a,p.pathnameBase]))}return o}function Ob(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=lG(e.path,e.caseSensitive,e.end),i=t.match(n);if(!i)return null;let a=i[0],o=a.replace(/(.)\/+$/,"$1"),l=i.slice(1);return{params:r.reduce((d,{paramName:h,isOptional:p},b)=>{if(h==="*"){let k=l[b]||"";o=a.slice(0,a.length-k.length).replace(/(.)\/+$/,"$1")}const x=l[b];return p&&!x?d[h]=void 0:d[h]=(x||"").replace(/%2F/g,"/"),d},{}),pathname:a,pathnameBase:o,pattern:e}}function lG(e,t=!1,n=!0){zi(e==="*"||!e.endsWith("*")||e.endsWith("/*"),`Route path "${e}" will be treated as if it were "${e.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${e.replace(/\*$/,"/*")}".`);let r=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,l,u)=>(r.push({paramName:l,isOptional:u!=null}),u?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return e.endsWith("*")?(r.push({paramName:"*"}),i+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":e!==""&&e!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,t?void 0:"i"),r]}function cG(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return zi(!1,`The URL path "${e}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),e}}function bs(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&r!=="/"?null:e.slice(n)||"/"}var uG=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,dG=e=>uG.test(e);function fG(e,t="/"){let{pathname:n,search:r="",hash:i=""}=typeof e=="string"?gu(e):e,a;if(n)if(dG(n))a=n;else{if(n.includes("//")){let o=n;n=n.replace(/\/\/+/g,"/"),zi(!1,`Pathnames cannot have embedded double slashes - normalizing ${o} -> ${n}`)}n.startsWith("/")?a=bC(n.substring(1),"/"):a=bC(n,t)}else a=t;return{pathname:a,search:pG(r),hash:gG(i)}}function bC(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function ww(e,t,n,r){return`Cannot include a '${e}' character in a manually specified \`to.${t}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function hG(e){return e.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function a2(e){let t=hG(e);return t.map((n,r)=>r===t.length-1?n.pathname:n.pathnameBase)}function o2(e,t,n,r=!1){let i;typeof e=="string"?i=gu(e):(i={...e},ln(!i.pathname||!i.pathname.includes("?"),ww("?","pathname","search",i)),ln(!i.pathname||!i.pathname.includes("#"),ww("#","pathname","hash",i)),ln(!i.search||!i.search.includes("#"),ww("#","search","hash",i)));let a=e===""||i.pathname==="",o=a?"/":i.pathname,l;if(o==null)l=n;else{let p=t.length-1;if(!r&&o.startsWith("..")){let b=o.split("/");for(;b[0]==="..";)b.shift(),p-=1;i.pathname=b.join("/")}l=p>=0?t[p]:"/"}let u=fG(i,l),d=o&&o!=="/"&&o.endsWith("/"),h=(a||o===".")&&n.endsWith("/");return!u.pathname.endsWith("/")&&(d||h)&&(u.pathname+="/"),u}var ms=e=>e.join("/").replace(/\/\/+/g,"/"),mG=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),pG=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,gG=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function bG(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}function yG(e){return e.map(t=>t.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var u$=["POST","PUT","PATCH","DELETE"];new Set(u$);var vG=["GET",...u$];new Set(vG);var of=w.createContext(null);of.displayName="DataRouter";var rv=w.createContext(null);rv.displayName="DataRouterState";w.createContext(!1);var d$=w.createContext({isTransitioning:!1});d$.displayName="ViewTransition";var xG=w.createContext(new Map);xG.displayName="Fetchers";var _G=w.createContext(null);_G.displayName="Await";var ya=w.createContext(null);ya.displayName="Navigation";var ep=w.createContext(null);ep.displayName="Location";var Co=w.createContext({outlet:null,matches:[],isDataRoute:!1});Co.displayName="Route";var s2=w.createContext(null);s2.displayName="RouteError";function wG(e,{relative:t}={}){ln(sf(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:r}=w.useContext(ya),{hash:i,pathname:a,search:o}=tp(e,{relative:t}),l=a;return n!=="/"&&(l=a==="/"?n:ms([n,a])),r.createHref({pathname:l,search:o,hash:i})}function sf(){return w.useContext(ep)!=null}function Hi(){return ln(sf(),"useLocation() may be used only in the context of a <Router> component."),w.useContext(ep).location}var f$="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function h$(e){w.useContext(ya).static||w.useLayoutEffect(e)}function iv(){let{isDataRoute:e}=w.useContext(Co);return e?RG():SG()}function SG(){ln(sf(),"useNavigate() may be used only in the context of a <Router> component.");let e=w.useContext(of),{basename:t,navigator:n}=w.useContext(ya),{matches:r}=w.useContext(Co),{pathname:i}=Hi(),a=JSON.stringify(a2(r)),o=w.useRef(!1);return h$(()=>{o.current=!0}),w.useCallback((u,d={})=>{if(zi(o.current,f$),!o.current)return;if(typeof u=="number"){n.go(u);return}let h=o2(u,JSON.parse(a),i,d.relative==="path");e==null&&t!=="/"&&(h.pathname=h.pathname==="/"?t:ms([t,h.pathname])),(d.replace?n.replace:n.push)(h,d.state,d)},[t,n,a,i,e])}w.createContext(null);function tp(e,{relative:t}={}){let{matches:n}=w.useContext(Co),{pathname:r}=Hi(),i=JSON.stringify(a2(n));return w.useMemo(()=>o2(e,JSON.parse(i),r,t==="path"),[e,i,r,t])}function kG(e,t){return m$(e,t)}function m$(e,t,n,r,i){ln(sf(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:a}=w.useContext(ya),{matches:o}=w.useContext(Co),l=o[o.length-1],u=l?l.params:{},d=l?l.pathname:"/",h=l?l.pathnameBase:"/",p=l&&l.route;{let N=p&&p.path||"";p$(d,!p||N.endsWith("*")||N.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${d}" (under <Route path="${N}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${N}"> to <Route path="${N==="/"?"*":`${N}/*`}">.`)}let b=Hi(),x;if(t){let N=typeof t=="string"?gu(t):t;ln(h==="/"||N.pathname?.startsWith(h),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${h}" but pathname "${N.pathname}" was given in the \`location\` prop.`),x=N}else x=b;let k=x.pathname||"/",S=k;if(h!=="/"){let N=h.replace(/^\//,"").split("/");S="/"+k.replace(/^\//,"").split("/").slice(N.length).join("/")}let _=s$(e,{pathname:S});zi(p||_!=null,`No routes matched location "${x.pathname}${x.search}${x.hash}" `),zi(_==null||_[_.length-1].route.element!==void 0||_[_.length-1].route.Component!==void 0||_[_.length-1].route.lazy!==void 0,`Matched leaf route at location "${x.pathname}${x.search}${x.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let T=OG(_&&_.map(N=>Object.assign({},N,{params:Object.assign({},u,N.params),pathname:ms([h,a.encodeLocation?a.encodeLocation(N.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:N.pathname]),pathnameBase:N.pathnameBase==="/"?h:ms([h,a.encodeLocation?a.encodeLocation(N.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:N.pathnameBase])})),o,n,r,i);return t&&T?w.createElement(ep.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...x},navigationType:"POP"}},T):T}function EG(){let e=PG(),t=bG(e)?`${e.status} ${e.statusText}`:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,r="rgba(200,200,200, 0.5)",i={padding:"0.5rem",backgroundColor:r},a={padding:"2px 4px",backgroundColor:r},o=null;return console.error("Error handled by React Router default ErrorBoundary:",e),o=w.createElement(w.Fragment,null,w.createElement("p",null," Hey developer "),w.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",w.createElement("code",{style:a},"ErrorBoundary")," or"," ",w.createElement("code",{style:a},"errorElement")," prop on your route.")),w.createElement(w.Fragment,null,w.createElement("h2",null,"Unexpected Application Error!"),w.createElement("h3",{style:{fontStyle:"italic"}},t),n?w.createElement("pre",{style:i},n):null,o)}var AG=w.createElement(EG,null),TG=class extends w.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||t.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){this.props.onError?this.props.onError(e,t):console.error("React Router caught the following error during render",e)}render(){return this.state.error!==void 0?w.createElement(Co.Provider,{value:this.props.routeContext},w.createElement(s2.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function jG({routeContext:e,match:t,children:n}){let r=w.useContext(of);return r&&r.static&&r.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=t.route.id),w.createElement(Co.Provider,{value:e},n)}function OG(e,t=[],n=null,r=null,i=null){if(e==null){if(!n)return null;if(n.errors)e=n.matches;else if(t.length===0&&!n.initialized&&n.matches.length>0)e=n.matches;else return null}let a=e,o=n?.errors;if(o!=null){let h=a.findIndex(p=>p.route.id&&o?.[p.route.id]!==void 0);ln(h>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(o).join(",")}`),a=a.slice(0,Math.min(a.length,h+1))}let l=!1,u=-1;if(n)for(let h=0;h<a.length;h++){let p=a[h];if((p.route.HydrateFallback||p.route.hydrateFallbackElement)&&(u=h),p.route.id){let{loaderData:b,errors:x}=n,k=p.route.loader&&!b.hasOwnProperty(p.route.id)&&(!x||x[p.route.id]===void 0);if(p.route.lazy||k){l=!0,u>=0?a=a.slice(0,u+1):a=[a[0]];break}}}let d=n&&r?(h,p)=>{r(h,{location:n.location,params:n.matches?.[0]?.params??{},unstable_pattern:yG(n.matches),errorInfo:p})}:void 0;return a.reduceRight((h,p,b)=>{let x,k=!1,S=null,_=null;n&&(x=o&&p.route.id?o[p.route.id]:void 0,S=p.route.errorElement||AG,l&&(u<0&&b===0?(p$("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),k=!0,_=null):u===b&&(k=!0,_=p.route.hydrateFallbackElement||null)));let T=t.concat(a.slice(0,b+1)),N=()=>{let j;return x?j=S:k?j=_:p.route.Component?j=w.createElement(p.route.Component,null):p.route.element?j=p.route.element:j=h,w.createElement(jG,{match:p,routeContext:{outlet:h,matches:T,isDataRoute:n!=null},children:j})};return n&&(p.route.ErrorBoundary||p.route.errorElement||b===0)?w.createElement(TG,{location:n.location,revalidation:n.revalidation,component:S,error:x,children:N(),routeContext:{outlet:null,matches:T,isDataRoute:!0},onError:d}):N()},null)}function l2(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function NG(e){let t=w.useContext(of);return ln(t,l2(e)),t}function CG(e){let t=w.useContext(rv);return ln(t,l2(e)),t}function MG(e){let t=w.useContext(Co);return ln(t,l2(e)),t}function c2(e){let t=MG(e),n=t.matches[t.matches.length-1];return ln(n.route.id,`${e} can only be used on routes that contain a unique "id"`),n.route.id}function DG(){return c2("useRouteId")}function PG(){let e=w.useContext(s2),t=CG("useRouteError"),n=c2("useRouteError");return e!==void 0?e:t.errors?.[n]}function RG(){let{router:e}=NG("useNavigate"),t=c2("useNavigate"),n=w.useRef(!1);return h$(()=>{n.current=!0}),w.useCallback(async(i,a={})=>{zi(n.current,f$),n.current&&(typeof i=="number"?await e.navigate(i):await e.navigate(i,{fromRouteId:t,...a}))},[e,t])}var yC={};function p$(e,t,n){!t&&!yC[e]&&(yC[e]=!0,zi(!1,n))}w.memo(LG);function LG({routes:e,future:t,state:n,unstable_onError:r}){return m$(e,void 0,n,r,t)}function IG({to:e,replace:t,state:n,relative:r}){ln(sf(),"<Navigate> may be used only in the context of a <Router> component.");let{static:i}=w.useContext(ya);zi(!i,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:a}=w.useContext(Co),{pathname:o}=Hi(),l=iv(),u=o2(e,a2(a),o,r==="path"),d=JSON.stringify(u);return w.useEffect(()=>{l(JSON.parse(d),{replace:t,state:n,relative:r})},[l,d,r,t,n]),null}function $c(e){ln(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function $G({basename:e="/",children:t=null,location:n,navigationType:r="POP",navigator:i,static:a=!1,unstable_useTransitions:o}){ln(!sf(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let l=e.replace(/^\/*/,"/"),u=w.useMemo(()=>({basename:l,navigator:i,static:a,unstable_useTransitions:o,future:{}}),[l,i,a,o]);typeof n=="string"&&(n=gu(n));let{pathname:d="/",search:h="",hash:p="",state:b=null,key:x="default"}=n,k=w.useMemo(()=>{let S=bs(d,l);return S==null?null:{location:{pathname:S,search:h,hash:p,state:b,key:x},navigationType:r}},[l,d,h,p,b,x,r]);return zi(k!=null,`<Router basename="${l}"> is not able to match the URL "${d}${h}${p}" because it does not start with the basename, so the <Router> won't render anything.`),k==null?null:w.createElement(ya.Provider,{value:u},w.createElement(ep.Provider,{children:t,value:k}))}function BG({children:e,location:t}){return kG(nk(e),t)}function nk(e,t=[]){let n=[];return w.Children.forEach(e,(r,i)=>{if(!w.isValidElement(r))return;let a=[...t,i];if(r.type===w.Fragment){n.push.apply(n,nk(r.props.children,a));return}ln(r.type===$c,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),ln(!r.props.index||!r.props.children,"An index route cannot have child routes.");let o={id:r.props.id||a.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,middleware:r.props.middleware,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(o.children=nk(r.props.children,a)),n.push(o)}),n}var fb="get",hb="application/x-www-form-urlencoded";function av(e){return typeof HTMLElement<"u"&&e instanceof HTMLElement}function zG(e){return av(e)&&e.tagName.toLowerCase()==="button"}function UG(e){return av(e)&&e.tagName.toLowerCase()==="form"}function FG(e){return av(e)&&e.tagName.toLowerCase()==="input"}function HG(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function GG(e,t){return e.button===0&&(!t||t==="_self")&&!HG(e)}var l0=null;function qG(){if(l0===null)try{new FormData(document.createElement("form"),0),l0=!1}catch{l0=!0}return l0}var YG=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Sw(e){return e!=null&&!YG.has(e)?(zi(!1,`"${e}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${hb}"`),null):e}function KG(e,t){let n,r,i,a,o;if(UG(e)){let l=e.getAttribute("action");r=l?bs(l,t):null,n=e.getAttribute("method")||fb,i=Sw(e.getAttribute("enctype"))||hb,a=new FormData(e)}else if(zG(e)||FG(e)&&(e.type==="submit"||e.type==="image")){let l=e.form;if(l==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let u=e.getAttribute("formaction")||l.getAttribute("action");if(r=u?bs(u,t):null,n=e.getAttribute("formmethod")||l.getAttribute("method")||fb,i=Sw(e.getAttribute("formenctype"))||Sw(l.getAttribute("enctype"))||hb,a=new FormData(l,e),!qG()){let{name:d,type:h,value:p}=e;if(h==="image"){let b=d?`${d}.`:"";a.append(`${b}x`,"0"),a.append(`${b}y`,"0")}else d&&a.append(d,p)}}else{if(av(e))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=fb,r=null,i=hb,o=e}return a&&i==="text/plain"&&(o=a,a=void 0),{action:r,method:n.toLowerCase(),encType:i,formData:a,body:o}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function u2(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function WG(e,t,n){let r=typeof e=="string"?new URL(e,typeof window>"u"?"server://singlefetch/":window.location.origin):e;return r.pathname==="/"?r.pathname=`_root.${n}`:t&&bs(r.pathname,t)==="/"?r.pathname=`${t.replace(/\/$/,"")}/_root.${n}`:r.pathname=`${r.pathname.replace(/\/$/,"")}.${n}`,r}async function VG(e,t){if(e.id in t)return t[e.id];try{let n=await import(e.module);return t[e.id]=n,n}catch(n){return console.error(`Error loading route module \`${e.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function ZG(e){return e==null?!1:e.href==null?e.rel==="preload"&&typeof e.imageSrcSet=="string"&&typeof e.imageSizes=="string":typeof e.rel=="string"&&typeof e.href=="string"}async function XG(e,t,n){let r=await Promise.all(e.map(async i=>{let a=t.routes[i.route.id];if(a){let o=await VG(a,n);return o.links?o.links():[]}return[]}));return tq(r.flat(1).filter(ZG).filter(i=>i.rel==="stylesheet"||i.rel==="preload").map(i=>i.rel==="stylesheet"?{...i,rel:"prefetch",as:"style"}:{...i,rel:"prefetch"}))}function vC(e,t,n,r,i,a){let o=(u,d)=>n[d]?u.route.id!==n[d].route.id:!0,l=(u,d)=>n[d].pathname!==u.pathname||n[d].route.path?.endsWith("*")&&n[d].params["*"]!==u.params["*"];return a==="assets"?t.filter((u,d)=>o(u,d)||l(u,d)):a==="data"?t.filter((u,d)=>{let h=r.routes[u.route.id];if(!h||!h.hasLoader)return!1;if(o(u,d)||l(u,d))return!0;if(u.route.shouldRevalidate){let p=u.route.shouldRevalidate({currentUrl:new URL(i.pathname+i.search+i.hash,window.origin),currentParams:n[0]?.params||{},nextUrl:new URL(e,window.origin),nextParams:u.params,defaultShouldRevalidate:!0});if(typeof p=="boolean")return p}return!0}):[]}function JG(e,t,{includeHydrateFallback:n}={}){return QG(e.map(r=>{let i=t.routes[r.route.id];if(!i)return[];let a=[i.module];return i.clientActionModule&&(a=a.concat(i.clientActionModule)),i.clientLoaderModule&&(a=a.concat(i.clientLoaderModule)),n&&i.hydrateFallbackModule&&(a=a.concat(i.hydrateFallbackModule)),i.imports&&(a=a.concat(i.imports)),a}).flat(1))}function QG(e){return[...new Set(e)]}function eq(e){let t={},n=Object.keys(e).sort();for(let r of n)t[r]=e[r];return t}function tq(e,t){let n=new Set;return new Set(t),e.reduce((r,i)=>{let a=JSON.stringify(eq(i));return n.has(a)||(n.add(a),r.push({key:a,link:i})),r},[])}function g$(){let e=w.useContext(of);return u2(e,"You must render this element inside a <DataRouterContext.Provider> element"),e}function nq(){let e=w.useContext(rv);return u2(e,"You must render this element inside a <DataRouterStateContext.Provider> element"),e}var d2=w.createContext(void 0);d2.displayName="FrameworkContext";function b$(){let e=w.useContext(d2);return u2(e,"You must render this element inside a <HydratedRouter> element"),e}function rq(e,t){let n=w.useContext(d2),[r,i]=w.useState(!1),[a,o]=w.useState(!1),{onFocus:l,onBlur:u,onMouseEnter:d,onMouseLeave:h,onTouchStart:p}=t,b=w.useRef(null);w.useEffect(()=>{if(e==="render"&&o(!0),e==="viewport"){let S=T=>{T.forEach(N=>{o(N.isIntersecting)})},_=new IntersectionObserver(S,{threshold:.5});return b.current&&_.observe(b.current),()=>{_.disconnect()}}},[e]),w.useEffect(()=>{if(r){let S=setTimeout(()=>{o(!0)},100);return()=>{clearTimeout(S)}}},[r]);let x=()=>{i(!0)},k=()=>{i(!1),o(!1)};return n?e!=="intent"?[a,b,{}]:[a,b,{onFocus:Nh(l,x),onBlur:Nh(u,k),onMouseEnter:Nh(d,x),onMouseLeave:Nh(h,k),onTouchStart:Nh(p,x)}]:[!1,b,{}]}function Nh(e,t){return n=>{e&&e(n),n.defaultPrevented||t(n)}}function iq({page:e,...t}){let{router:n}=g$(),r=w.useMemo(()=>s$(n.routes,e,n.basename),[n.routes,e,n.basename]);return r?w.createElement(oq,{page:e,matches:r,...t}):null}function aq(e){let{manifest:t,routeModules:n}=b$(),[r,i]=w.useState([]);return w.useEffect(()=>{let a=!1;return XG(e,t,n).then(o=>{a||i(o)}),()=>{a=!0}},[e,t,n]),r}function oq({page:e,matches:t,...n}){let r=Hi(),{manifest:i,routeModules:a}=b$(),{basename:o}=g$(),{loaderData:l,matches:u}=nq(),d=w.useMemo(()=>vC(e,t,u,i,r,"data"),[e,t,u,i,r]),h=w.useMemo(()=>vC(e,t,u,i,r,"assets"),[e,t,u,i,r]),p=w.useMemo(()=>{if(e===r.pathname+r.search+r.hash)return[];let k=new Set,S=!1;if(t.forEach(T=>{let N=i.routes[T.route.id];!N||!N.hasLoader||(!d.some(j=>j.route.id===T.route.id)&&T.route.id in l&&a[T.route.id]?.shouldRevalidate||N.hasClientLoader?S=!0:k.add(T.route.id))}),k.size===0)return[];let _=WG(e,o,"data");return S&&k.size>0&&_.searchParams.set("_routes",t.filter(T=>k.has(T.route.id)).map(T=>T.route.id).join(",")),[_.pathname+_.search]},[o,l,r,i,d,t,e,a]),b=w.useMemo(()=>JG(h,i),[h,i]),x=aq(h);return w.createElement(w.Fragment,null,p.map(k=>w.createElement("link",{key:k,rel:"prefetch",as:"fetch",href:k,...n})),b.map(k=>w.createElement("link",{key:k,rel:"modulepreload",href:k,...n})),x.map(({key:k,link:S})=>w.createElement("link",{key:k,nonce:n.nonce,...S})))}function sq(...e){return t=>{e.forEach(n=>{typeof n=="function"?n(t):n!=null&&(n.current=t)})}}var y$=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{y$&&(window.__reactRouterVersion="7.10.1")}catch{}function lq({basename:e,children:t,unstable_useTransitions:n,window:r}){let i=w.useRef();i.current==null&&(i.current=KH({window:r,v5Compat:!0}));let a=i.current,[o,l]=w.useState({action:a.action,location:a.location}),u=w.useCallback(d=>{n===!1?l(d):w.startTransition(()=>l(d))},[n]);return w.useLayoutEffect(()=>a.listen(u),[a,u]),w.createElement($G,{basename:e,children:t,location:o.location,navigationType:o.action,navigator:a,unstable_useTransitions:n===!0})}var v$=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,x$=w.forwardRef(function({onClick:t,discover:n="render",prefetch:r="none",relative:i,reloadDocument:a,replace:o,state:l,target:u,to:d,preventScrollReset:h,viewTransition:p,...b},x){let{basename:k,unstable_useTransitions:S}=w.useContext(ya),_=typeof d=="string"&&v$.test(d),T,N=!1;if(typeof d=="string"&&_&&(T=d,y$))try{let W=new URL(window.location.href),H=d.startsWith("//")?new URL(W.protocol+d):new URL(d),z=bs(H.pathname,k);H.origin===W.origin&&z!=null?d=z+H.search+H.hash:N=!0}catch{zi(!1,`<Link to="${d}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let j=wG(d,{relative:i}),[C,M,P]=rq(r,b),$=fq(d,{replace:o,state:l,target:u,preventScrollReset:h,relative:i,viewTransition:p,unstable_useTransitions:S});function U(W){t&&t(W),W.defaultPrevented||$(W)}let Y=w.createElement("a",{...b,...P,href:T||j,onClick:N||a?t:U,ref:sq(x,M),target:u,"data-discover":!_&&n==="render"?"true":void 0});return C&&!_?w.createElement(w.Fragment,null,Y,w.createElement(iq,{page:j})):Y});x$.displayName="Link";var cq=w.forwardRef(function({"aria-current":t="page",caseSensitive:n=!1,className:r="",end:i=!1,style:a,to:o,viewTransition:l,children:u,...d},h){let p=tp(o,{relative:d.relative}),b=Hi(),x=w.useContext(rv),{navigator:k,basename:S}=w.useContext(ya),_=x!=null&&bq(p)&&l===!0,T=k.encodeLocation?k.encodeLocation(p).pathname:p.pathname,N=b.pathname,j=x&&x.navigation&&x.navigation.location?x.navigation.location.pathname:null;n||(N=N.toLowerCase(),j=j?j.toLowerCase():null,T=T.toLowerCase()),j&&S&&(j=bs(j,S)||j);const C=T!=="/"&&T.endsWith("/")?T.length-1:T.length;let M=N===T||!i&&N.startsWith(T)&&N.charAt(C)==="/",P=j!=null&&(j===T||!i&&j.startsWith(T)&&j.charAt(T.length)==="/"),$={isActive:M,isPending:P,isTransitioning:_},U=M?t:void 0,Y;typeof r=="function"?Y=r($):Y=[r,M?"active":null,P?"pending":null,_?"transitioning":null].filter(Boolean).join(" ");let W=typeof a=="function"?a($):a;return w.createElement(x$,{...d,"aria-current":U,className:Y,ref:h,style:W,to:o,viewTransition:l},typeof u=="function"?u($):u)});cq.displayName="NavLink";var uq=w.forwardRef(({discover:e="render",fetcherKey:t,navigate:n,reloadDocument:r,replace:i,state:a,method:o=fb,action:l,onSubmit:u,relative:d,preventScrollReset:h,viewTransition:p,...b},x)=>{let{unstable_useTransitions:k}=w.useContext(ya),S=pq(),_=gq(l,{relative:d}),T=o.toLowerCase()==="get"?"get":"post",N=typeof l=="string"&&v$.test(l),j=C=>{if(u&&u(C),C.defaultPrevented)return;C.preventDefault();let M=C.nativeEvent.submitter,P=M?.getAttribute("formmethod")||o,$=()=>S(M||C.currentTarget,{fetcherKey:t,method:P,navigate:n,replace:i,state:a,relative:d,preventScrollReset:h,viewTransition:p});k&&n!==!1?w.startTransition(()=>$()):$()};return w.createElement("form",{ref:x,method:T,action:_,onSubmit:r?u:j,...b,"data-discover":!N&&e==="render"?"true":void 0})});uq.displayName="Form";function dq(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function _$(e){let t=w.useContext(of);return ln(t,dq(e)),t}function fq(e,{target:t,replace:n,state:r,preventScrollReset:i,relative:a,viewTransition:o,unstable_useTransitions:l}={}){let u=iv(),d=Hi(),h=tp(e,{relative:a});return w.useCallback(p=>{if(GG(p,t)){p.preventDefault();let b=n!==void 0?n:xm(d)===xm(h),x=()=>u(e,{replace:b,state:r,preventScrollReset:i,relative:a,viewTransition:o});l?w.startTransition(()=>x()):x()}},[d,u,h,n,r,t,e,i,a,o,l])}var hq=0,mq=()=>`__${String(++hq)}__`;function pq(){let{router:e}=_$("useSubmit"),{basename:t}=w.useContext(ya),n=DG(),r=e.fetch,i=e.navigate;return w.useCallback(async(a,o={})=>{let{action:l,method:u,encType:d,formData:h,body:p}=KG(a,t);if(o.navigate===!1){let b=o.fetcherKey||mq();await r(b,n,o.action||l,{preventScrollReset:o.preventScrollReset,formData:h,body:p,formMethod:o.method||u,formEncType:o.encType||d,flushSync:o.flushSync})}else await i(o.action||l,{preventScrollReset:o.preventScrollReset,formData:h,body:p,formMethod:o.method||u,formEncType:o.encType||d,replace:o.replace,state:o.state,fromRouteId:n,flushSync:o.flushSync,viewTransition:o.viewTransition})},[r,i,t,n])}function gq(e,{relative:t}={}){let{basename:n}=w.useContext(ya),r=w.useContext(Co);ln(r,"useFormAction must be used inside a RouteContext");let[i]=r.matches.slice(-1),a={...tp(e||".",{relative:t})},o=Hi();if(e==null){a.search=o.search;let l=new URLSearchParams(a.search),u=l.getAll("index");if(u.some(h=>h==="")){l.delete("index"),u.filter(p=>p).forEach(p=>l.append("index",p));let h=l.toString();a.search=h?`?${h}`:""}}return(!e||e===".")&&i.route.index&&(a.search=a.search?a.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(a.pathname=a.pathname==="/"?n:ms([n,a.pathname])),xm(a)}function bq(e,{relative:t}={}){let n=w.useContext(d$);ln(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=_$("useViewTransitionState"),i=tp(e,{relative:t});if(!n.isTransitioning)return!1;let a=bs(n.currentLocation.pathname,r)||n.currentLocation.pathname,o=bs(n.nextLocation.pathname,r)||n.nextLocation.pathname;return Ob(i.pathname,o)!=null||Ob(i.pathname,a)!=null}var bu=o$();const yq=hi(bu);let vq={data:""},xq=e=>typeof window=="object"?((e?e.querySelector("#_goober"):window._goober)||Object.assign((e||document.head).appendChild(document.createElement("style")),{innerHTML:" ",id:"_goober"})).firstChild:e||vq,_q=/(?:([\u0080-\uFFFF\w-%@]+) *:? *([^{;]+?);|([^;}{]*?) *{)|(}\s*)/g,wq=/\/\*[^]*?\*\/|  +/g,xC=/\n+/g,kl=(e,t)=>{let n="",r="",i="";for(let a in e){let o=e[a];a[0]=="@"?a[1]=="i"?n=a+" "+o+";":r+=a[1]=="f"?kl(o,a):a+"{"+kl(o,a[1]=="k"?"":t)+"}":typeof o=="object"?r+=kl(o,t?t.replace(/([^,])+/g,l=>a.replace(/([^,]*:\S+\([^)]*\))|([^,])+/g,u=>/&/.test(u)?u.replace(/&/g,l):l?l+" "+u:u)):a):o!=null&&(a=/^--/.test(a)?a:a.replace(/[A-Z]/g,"-$&").toLowerCase(),i+=kl.p?kl.p(a,o):a+":"+o+";")}return n+(t&&i?t+"{"+i+"}":i)+r},is={},w$=e=>{if(typeof e=="object"){let t="";for(let n in e)t+=n+w$(e[n]);return t}return e},Sq=(e,t,n,r,i)=>{let a=w$(e),o=is[a]||(is[a]=(u=>{let d=0,h=11;for(;d<u.length;)h=101*h+u.charCodeAt(d++)>>>0;return"go"+h})(a));if(!is[o]){let u=a!==e?e:(d=>{let h,p,b=[{}];for(;h=_q.exec(d.replace(wq,""));)h[4]?b.shift():h[3]?(p=h[3].replace(xC," ").trim(),b.unshift(b[0][p]=b[0][p]||{})):b[0][h[1]]=h[2].replace(xC," ").trim();return b[0]})(e);is[o]=kl(i?{["@keyframes "+o]:u}:u,n?"":"."+o)}let l=n&&is.g?is.g:null;return n&&(is.g=is[o]),((u,d,h,p)=>{p?d.data=d.data.replace(p,u):d.data.indexOf(u)===-1&&(d.data=h?u+d.data:d.data+u)})(is[o],t,r,l),o},kq=(e,t,n)=>e.reduce((r,i,a)=>{let o=t[a];if(o&&o.call){let l=o(n),u=l&&l.props&&l.props.className||/^go/.test(l)&&l;o=u?"."+u:l&&typeof l=="object"?l.props?"":kl(l,""):l===!1?"":l}return r+i+(o??"")},"");function ov(e){let t=this||{},n=e.call?e(t.p):e;return Sq(n.unshift?n.raw?kq(n,[].slice.call(arguments,1),t.p):n.reduce((r,i)=>Object.assign(r,i&&i.call?i(t.p):i),{}):n,xq(t.target),t.g,t.o,t.k)}let S$,rk,ik;ov.bind({g:1});let ys=ov.bind({k:1});function Eq(e,t,n,r){kl.p=t,S$=e,rk=n,ik=r}function Bl(e,t){let n=this||{};return function(){let r=arguments;function i(a,o){let l=Object.assign({},a),u=l.className||i.className;n.p=Object.assign({theme:rk&&rk()},l),n.o=/ *go\d+/.test(u),l.className=ov.apply(n,r)+(u?" "+u:"");let d=e;return e[0]&&(d=l.as||e,delete l.as),ik&&d[0]&&ik(l),S$(d,l)}return i}}var Aq=e=>typeof e=="function",Nb=(e,t)=>Aq(e)?e(t):e,Tq=(()=>{let e=0;return()=>(++e).toString()})(),k$=(()=>{let e;return()=>{if(e===void 0&&typeof window<"u"){let t=matchMedia("(prefers-reduced-motion: reduce)");e=!t||t.matches}return e}})(),jq=20,f2="default",E$=(e,t)=>{let{toastLimit:n}=e.settings;switch(t.type){case 0:return{...e,toasts:[t.toast,...e.toasts].slice(0,n)};case 1:return{...e,toasts:e.toasts.map(o=>o.id===t.toast.id?{...o,...t.toast}:o)};case 2:let{toast:r}=t;return E$(e,{type:e.toasts.find(o=>o.id===r.id)?1:0,toast:r});case 3:let{toastId:i}=t;return{...e,toasts:e.toasts.map(o=>o.id===i||i===void 0?{...o,dismissed:!0,visible:!1}:o)};case 4:return t.toastId===void 0?{...e,toasts:[]}:{...e,toasts:e.toasts.filter(o=>o.id!==t.toastId)};case 5:return{...e,pausedAt:t.time};case 6:let a=t.time-(e.pausedAt||0);return{...e,pausedAt:void 0,toasts:e.toasts.map(o=>({...o,pauseDuration:o.pauseDuration+a}))}}},mb=[],A$={toasts:[],pausedAt:void 0,settings:{toastLimit:jq}},xo={},T$=(e,t=f2)=>{xo[t]=E$(xo[t]||A$,e),mb.forEach(([n,r])=>{n===t&&r(xo[t])})},j$=e=>Object.keys(xo).forEach(t=>T$(e,t)),Oq=e=>Object.keys(xo).find(t=>xo[t].toasts.some(n=>n.id===e)),sv=(e=f2)=>t=>{T$(t,e)},Nq={blank:4e3,error:4e3,success:2e3,loading:1/0,custom:4e3},Cq=(e={},t=f2)=>{let[n,r]=w.useState(xo[t]||A$),i=w.useRef(xo[t]);w.useEffect(()=>(i.current!==xo[t]&&r(xo[t]),mb.push([t,r]),()=>{let o=mb.findIndex(([l])=>l===t);o>-1&&mb.splice(o,1)}),[t]);let a=n.toasts.map(o=>{var l,u,d;return{...e,...e[o.type],...o,removeDelay:o.removeDelay||((l=e[o.type])==null?void 0:l.removeDelay)||e?.removeDelay,duration:o.duration||((u=e[o.type])==null?void 0:u.duration)||e?.duration||Nq[o.type],style:{...e.style,...(d=e[o.type])==null?void 0:d.style,...o.style}}});return{...n,toasts:a}},Mq=(e,t="blank",n)=>({createdAt:Date.now(),visible:!0,dismissed:!1,type:t,ariaProps:{role:"status","aria-live":"polite"},message:e,pauseDuration:0,...n,id:n?.id||Tq()}),np=e=>(t,n)=>{let r=Mq(t,e,n);return sv(r.toasterId||Oq(r.id))({type:2,toast:r}),r.id},Tn=(e,t)=>np("blank")(e,t);Tn.error=np("error");Tn.success=np("success");Tn.loading=np("loading");Tn.custom=np("custom");Tn.dismiss=(e,t)=>{let n={type:3,toastId:e};t?sv(t)(n):j$(n)};Tn.dismissAll=e=>Tn.dismiss(void 0,e);Tn.remove=(e,t)=>{let n={type:4,toastId:e};t?sv(t)(n):j$(n)};Tn.removeAll=e=>Tn.remove(void 0,e);Tn.promise=(e,t,n)=>{let r=Tn.loading(t.loading,{...n,...n?.loading});return typeof e=="function"&&(e=e()),e.then(i=>{let a=t.success?Nb(t.success,i):void 0;return a?Tn.success(a,{id:r,...n,...n?.success}):Tn.dismiss(r),i}).catch(i=>{let a=t.error?Nb(t.error,i):void 0;a?Tn.error(a,{id:r,...n,...n?.error}):Tn.dismiss(r)}),e};var Dq=1e3,Pq=(e,t="default")=>{let{toasts:n,pausedAt:r}=Cq(e,t),i=w.useRef(new Map).current,a=w.useCallback((p,b=Dq)=>{if(i.has(p))return;let x=setTimeout(()=>{i.delete(p),o({type:4,toastId:p})},b);i.set(p,x)},[]);w.useEffect(()=>{if(r)return;let p=Date.now(),b=n.map(x=>{if(x.duration===1/0)return;let k=(x.duration||0)+x.pauseDuration-(p-x.createdAt);if(k<0){x.visible&&Tn.dismiss(x.id);return}return setTimeout(()=>Tn.dismiss(x.id,t),k)});return()=>{b.forEach(x=>x&&clearTimeout(x))}},[n,r,t]);let o=w.useCallback(sv(t),[t]),l=w.useCallback(()=>{o({type:5,time:Date.now()})},[o]),u=w.useCallback((p,b)=>{o({type:1,toast:{id:p,height:b}})},[o]),d=w.useCallback(()=>{r&&o({type:6,time:Date.now()})},[r,o]),h=w.useCallback((p,b)=>{let{reverseOrder:x=!1,gutter:k=8,defaultPosition:S}=b||{},_=n.filter(j=>(j.position||S)===(p.position||S)&&j.height),T=_.findIndex(j=>j.id===p.id),N=_.filter((j,C)=>C<T&&j.visible).length;return _.filter(j=>j.visible).slice(...x?[N+1]:[0,N]).reduce((j,C)=>j+(C.height||0)+k,0)},[n]);return w.useEffect(()=>{n.forEach(p=>{if(p.dismissed)a(p.id,p.removeDelay);else{let b=i.get(p.id);b&&(clearTimeout(b),i.delete(p.id))}})},[n,a]),{toasts:n,handlers:{updateHeight:u,startPause:l,endPause:d,calculateOffset:h}}},Rq=ys`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
 transform: scale(1) rotate(45deg);
  opacity: 1;
}`,Lq=ys`
from {
  transform: scale(0);
  opacity: 0;
}
to {
  transform: scale(1);
  opacity: 1;
}`,Iq=ys`
from {
  transform: scale(0) rotate(90deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(90deg);
	opacity: 1;
}`,$q=Bl("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${e=>e.primary||"#ff4b4b"};
  position: relative;
  transform: rotate(45deg);

  animation: ${Rq} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;

  &:after,
  &:before {
    content: '';
    animation: ${Lq} 0.15s ease-out forwards;
    animation-delay: 150ms;
    position: absolute;
    border-radius: 3px;
    opacity: 0;
    background: ${e=>e.secondary||"#fff"};
    bottom: 9px;
    left: 4px;
    height: 2px;
    width: 12px;
  }

  &:before {
    animation: ${Iq} 0.15s ease-out forwards;
    animation-delay: 180ms;
    transform: rotate(90deg);
  }
`,Bq=ys`
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
`,zq=Bl("div")`
  width: 12px;
  height: 12px;
  box-sizing: border-box;
  border: 2px solid;
  border-radius: 100%;
  border-color: ${e=>e.secondary||"#e0e0e0"};
  border-right-color: ${e=>e.primary||"#616161"};
  animation: ${Bq} 1s linear infinite;
`,Uq=ys`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(45deg);
	opacity: 1;
}`,Fq=ys`
0% {
	height: 0;
	width: 0;
	opacity: 0;
}
40% {
  height: 0;
	width: 6px;
	opacity: 1;
}
100% {
  opacity: 1;
  height: 10px;
}`,Hq=Bl("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${e=>e.primary||"#61d345"};
  position: relative;
  transform: rotate(45deg);

  animation: ${Uq} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;
  &:after {
    content: '';
    box-sizing: border-box;
    animation: ${Fq} 0.2s ease-out forwards;
    opacity: 0;
    animation-delay: 200ms;
    position: absolute;
    border-right: 2px solid;
    border-bottom: 2px solid;
    border-color: ${e=>e.secondary||"#fff"};
    bottom: 6px;
    left: 6px;
    height: 10px;
    width: 6px;
  }
`,Gq=Bl("div")`
  position: absolute;
`,qq=Bl("div")`
  position: relative;
  display: flex;
  justify-content: center;
  align-items: center;
  min-width: 20px;
  min-height: 20px;
`,Yq=ys`
from {
  transform: scale(0.6);
  opacity: 0.4;
}
to {
  transform: scale(1);
  opacity: 1;
}`,Kq=Bl("div")`
  position: relative;
  transform: scale(0.6);
  opacity: 0.4;
  min-width: 20px;
  animation: ${Yq} 0.3s 0.12s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
`,Wq=({toast:e})=>{let{icon:t,type:n,iconTheme:r}=e;return t!==void 0?typeof t=="string"?w.createElement(Kq,null,t):t:n==="blank"?null:w.createElement(qq,null,w.createElement(zq,{...r}),n!=="loading"&&w.createElement(Gq,null,n==="error"?w.createElement($q,{...r}):w.createElement(Hq,{...r})))},Vq=e=>`
0% {transform: translate3d(0,${e*-200}%,0) scale(.6); opacity:.5;}
100% {transform: translate3d(0,0,0) scale(1); opacity:1;}
`,Zq=e=>`
0% {transform: translate3d(0,0,-1px) scale(1); opacity:1;}
100% {transform: translate3d(0,${e*-150}%,-1px) scale(.6); opacity:0;}
`,Xq="0%{opacity:0;} 100%{opacity:1;}",Jq="0%{opacity:1;} 100%{opacity:0;}",Qq=Bl("div")`
  display: flex;
  align-items: center;
  background: #fff;
  color: #363636;
  line-height: 1.3;
  will-change: transform;
  box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1), 0 3px 3px rgba(0, 0, 0, 0.05);
  max-width: 350px;
  pointer-events: auto;
  padding: 8px 10px;
  border-radius: 8px;
`,eY=Bl("div")`
  display: flex;
  justify-content: center;
  margin: 4px 10px;
  color: inherit;
  flex: 1 1 auto;
  white-space: pre-line;
`,tY=(e,t)=>{let n=e.includes("top")?1:-1,[r,i]=k$()?[Xq,Jq]:[Vq(n),Zq(n)];return{animation:t?`${ys(r)} 0.35s cubic-bezier(.21,1.02,.73,1) forwards`:`${ys(i)} 0.4s forwards cubic-bezier(.06,.71,.55,1)`}},nY=w.memo(({toast:e,position:t,style:n,children:r})=>{let i=e.height?tY(e.position||t||"top-center",e.visible):{opacity:0},a=w.createElement(Wq,{toast:e}),o=w.createElement(eY,{...e.ariaProps},Nb(e.message,e));return w.createElement(Qq,{className:e.className,style:{...i,...n,...e.style}},typeof r=="function"?r({icon:a,message:o}):w.createElement(w.Fragment,null,a,o))});Eq(w.createElement);var rY=({id:e,className:t,style:n,onHeightUpdate:r,children:i})=>{let a=w.useCallback(o=>{if(o){let l=()=>{let u=o.getBoundingClientRect().height;r(e,u)};l(),new MutationObserver(l).observe(o,{subtree:!0,childList:!0,characterData:!0})}},[e,r]);return w.createElement("div",{ref:a,className:t,style:n},i)},iY=(e,t)=>{let n=e.includes("top"),r=n?{top:0}:{bottom:0},i=e.includes("center")?{justifyContent:"center"}:e.includes("right")?{justifyContent:"flex-end"}:{};return{left:0,right:0,display:"flex",position:"absolute",transition:k$()?void 0:"all 230ms cubic-bezier(.21,1.02,.73,1)",transform:`translateY(${t*(n?1:-1)}px)`,...r,...i}},aY=ov`
  z-index: 9999;
  > * {
    pointer-events: auto;
  }
`,c0=16,O$=({reverseOrder:e,position:t="top-center",toastOptions:n,gutter:r,children:i,toasterId:a,containerStyle:o,containerClassName:l})=>{let{toasts:u,handlers:d}=Pq(n,a);return w.createElement("div",{"data-rht-toaster":a||"",style:{position:"fixed",zIndex:9999,top:c0,left:c0,right:c0,bottom:c0,pointerEvents:"none",...o},className:l,onMouseEnter:d.startPause,onMouseLeave:d.endPause},u.map(h=>{let p=h.position||t,b=d.calculateOffset(h,{reverseOrder:e,gutter:r,defaultPosition:t}),x=iY(p,b);return w.createElement(rY,{id:h.id,key:h.id,onHeightUpdate:d.updateHeight,className:h.visible?aY:"",style:x},h.type==="custom"?Nb(h.message,h):i?i(h):w.createElement(nY,{toast:h,position:p}))}))},_o=Tn;function oY(e,t,n,r=0,i=0){t<=2&&(e-=1,t+=12);const a=Math.floor(e/100),o=2-a+Math.floor(a/4),l=n+(r+i/60)/24;return Math.floor(365.25*(e+4716))+Math.floor(30.6001*(t+1))+l+o-1524.5}const sY=864e5;function lY(e){const t=(e-24405875e-1)*sY;return new Date(t)}function cY(e,t=7){const n=e+(t-.5)/12;if(n>=1986&&n<2005){const i=n-2e3;return 63.86+.3345*i-.060374*i*i+.0017275*i**3+651814e-9*i**4+2373599e-11*i**5}if(n>=2005&&n<2050){const i=n-2e3;return 62.92+.32217*i+.005589*i*i}if(n>=2050&&n<=2150){const i=(n-1820)/100;return-20+32*i*i-.5628*(2150-n)}if(n>=1900&&n<1986)return-2.79+1.494119*(n-1900)-.0598939*(n-1900)**2+.0061966*(n-1900)**3-197e-6*(n-1900)**4;if(n>=1800&&n<1900){const i=(n-1800)/100;return 13.72-33.244*i+68.612*i**2-65.3*i**3-1.653*i**4+.3343*i**5-.012125*i**6+1348e-7*i**7-175e-8*i**8}const r=(n-1820)/100;return-20+32*r*r}function uY(e){const t=Math.floor(e+.5),n=e+.5-t;let r=t;if(t>=2299161){const p=Math.floor((t-186721625e-2)/36524.25);r=t+1+p-Math.floor(p/4)}const i=r+1524,a=Math.floor((i-122.1)/365.25),o=Math.floor(365.25*a),l=Math.floor((i-o)/30.6001),u=i-o-Math.floor(30.6001*l)+n;let d=l-1;d>12&&(d-=12);let h=a-4715;return d>2&&(h-=1),[h,d,u]}const fm=Math.PI,Yc=fm/180,dY=180/fm,fY=86400;function hY(e){return e%=360,e<0?e+360:e}function mY(e,t){return(e-t+540)%360-180}function _C(e,t){for(;e-t>180;)e-=360;for(;e-t<-180;)e+=360;return e}function pY(e){const[t,n]=uY(e);return e+cY(t,Math.round(n))/fY}function wC(e,t){let n=0,r=1;for(let i=0;i<e.length;i++){let a=0;for(const[o,l,u]of e[i])a+=o*Math.cos(l+u*t);n+=a*r,r*=t}return n*1e-8}function gY(e){const t=(e-2451545)/36525,n=(297.85036+445267.11148*t-.0019142*t*t+t*t*t/189474)*Yc,r=(357.52772+35999.05034*t-1603e-7*t*t-t*t*t/3e5)*Yc,i=(134.96298+477198.867398*t+.0086972*t*t+t*t*t/56250)*Yc,a=(93.27191+483202.017538*t-.0036825*t*t+t*t*t/327270)*Yc,o=(125.04452-1934.136261*t+.0020708*t*t+t*t*t/45e4)*Yc,l=[[0,0,0,0,1,-171996,-174.2,92025,8.9],[0,0,2,-2,2,-13187,-1.6,5736,-3.1],[0,0,2,0,2,-2274,-.2,977,-.5],[0,0,0,0,2,2062,.2,-895,.5],[0,1,0,0,0,1426,-3.4,54,-.1],[1,0,0,0,0,712,.1,-7,0],[0,1,2,-2,2,-517,1.2,224,-.6],[0,0,2,0,1,-386,-.4,200,0],[1,0,2,0,2,-301,0,129,-.1],[0,-1,2,-2,2,217,-.5,-95,.3]];let u=0,d=0;for(const[h,p,b,x,k,S,_,T,N]of l){const j=h*n+p*r+b*i+x*a+k*o;u+=(S+_*t)*Math.sin(j),d+=(T+N*t)*Math.cos(j)}return u*=1e-4,d*=1e-4,{dpsi:u,deps:d}}function u0(e){const t=pY(e),n=(t-2451545)/365250,r=wC(SC.L,n),i=wC(SC.R,n);let a=r+fm;a>2*fm&&(a-=2*fm);const{dpsi:o}=gY(t),l=o/3600*Yc,u=20.4898/(3600*i),d=a+l-u*Yc;return hY(d*dY)}function _n(e,t,n){const r=(t%360+360)%360,i=oY(e,1,1),a=u0(i);let o=r-a;o<0&&(o+=360);let l=i+o/.98564736;const u=1e-6,d=5e-6;for(let b=0;b<25;b++){const x=u0(l),k=mY(r,x);if(Math.abs(k)<u)break;const S=u0(l+d),_=u0(l-d),T=_C(S,x),N=_C(_,x),j=(T-N)/(2*d);l+=k/j}const h=lY(l),p=new Date(h.getFullYear(),h.getMonth(),h.getDate(),h.getHours(),h.getMinutes(),0,0);if(Number.isFinite(n)){const b=n/15-9;if(Math.abs(b)>1e-12)return new Date(p.getTime()+b*36e5)}return p}const SC={L:[[[175347046,0,0],[3341656,4.6692568,6283.07585],[34894,4.6261,12566.1517],[3497,2.7441,5753.3849],[3418,2.8289,3.5231],[3136,3.6277,77713.7715],[2676,4.4181,7860.4194],[2343,6.1352,3930.2097],[1324,.7425,11506.7698],[1273,2.0371,529.691],[1199,1.1096,1577.3435],[990,5.233,5884.927],[902,2.045,26.298],[857,3.508,398.149],[780,1.179,5223.694],[753,2.533,5507.553],[505,4.583,18849.228],[492,4.205,775.523],[357,2.92,.067],[317,5.849,11790.629]],[[628331966747,0,0],[206059,2.678235,6283.07585],[4303,2.6351,12566.1517],[425,1.59,3.523],[119,5.796,26.298],[109,2.966,1577.344],[93,2.59,18849.23],[72,1.14,529.69],[68,1.87,398.15],[67,4.41,5507.55],[59,2.89,5223.69],[56,2.17,155.42]],[[52919,0,0],[8720,1.0721,6283.0758],[309,.867,12566.152]],[[289,5.844,6283.076],[35,0,0]],[[114,3.142,0],[8,4.13,6283.08]],[[1,3.14,0]]],R:[[[100013989,0,0],[1670700,3.0984635,6283.07585],[13956,3.05525,12566.1517],[3084,5.1985,77713.7715],[1628,1.1739,5753.3849],[1576,2.8469,7860.4194],[925,5.453,11506.77],[542,4.564,3930.21],[472,3.661,5884.927],[346,.964,5507.553],[329,5.9,5223.694]],[[103019,1.10749,6283.07585],[1721,1.0644,12566.1517],[702,3.142,0],[32,1.02,18849.23]],[[4359,5.7846,6283.0758],[124,5.579,12566.152],[12,3.14,0]],[[145,4.273,6283.076]]]},bY=(e,t)=>(e%t+t)%t,N$=(e,t)=>(e%t+t)%t,C$=e=>e instanceof Date&&!Number.isNaN(e.getTime()),kC=new Map;function M$(e,t=127.5){const n=`${e}@${t}`,r=kC.get(n);if(r)return r;const i=_n(e,315,t);if(!i)throw new Error(`    : year=${e}, lon=${t}`);return kC.set(n,i),i}function D$(e,t=127.5){if(!C$(e))throw new Error("resolveYearIndex: invalid date");const n=e.getFullYear(),r=M$(n,t),i=e<r?n-1:n,a=bY(i-4,60);return{useYear:i,index60Num:a}}const Hr=["","","","","","","","","",""],ui=["","","","","","","","","","","",""],ak={:["","","","","","","","","",""],:["","","","","","","","","","","",""]},Ka={:["","","","","","","","","",""],:["","","","","","","","","","","",""]},yY=["","","","","","","","","",""],vY=["","","","","","","","","","","",""],xY=["","","","","","","","","","","","","","","","","","","",""],_Y=["","","","","","","","","","","","","","","","","","","","","","","",""],Ud=new Set(Hr),_m=new Set(ui),Bn={:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},Kn={:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},h2=["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],Cb=[{branch:"",hanja:"",start:1380,end:60},{branch:"",hanja:"",start:60,end:180},{branch:"",hanja:"",start:180,end:300},{branch:"",hanja:"",start:300,end:420},{branch:"",hanja:"",start:420,end:540},{branch:"",hanja:"",start:540,end:660},{branch:"",hanja:"",start:660,end:780},{branch:"",hanja:"",start:780,end:900},{branch:"",hanja:"",start:900,end:1020},{branch:"",hanja:"",start:1020,end:1140},{branch:"",hanja:"",start:1140,end:1260},{branch:"",hanja:"",start:1260,end:1380}],wY={:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}},SY={:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}};function ot(e,t=127.5){const{index60Num:n}=D$(e,t);return h2[n]}function kY(e,t=127.5){return(ot(e,t)||"").charAt(0)}const EY=[2,4,6,8,0,2,4,6,8,0];function AY(e,t=127.5){const n=new Array(12);return n[0]=M$(e,t),n[1]=_n(e,345,t),n[2]=_n(e,15,t),n[3]=_n(e,45,t),n[4]=_n(e,75,t),n[5]=_n(e,105,t),n[6]=_n(e,135,t),n[7]=_n(e,165,t),n[8]=_n(e,195,t),n[9]=_n(e,225,t),n[10]=_n(e,255,t),n[11]=_n(e+1,285,t),n.map(r=>new Date(r.getTime()+1800*1e3))}function TY(e,t=127.5){const{useYear:n}=D$(e,t),r=AY(n,t);let i=0;for(let o=0;o<12;o+=1)e>=r[o]&&(i=o);return{monthIndex:i+1,useYear:n,boundaries:r}}function jY(e,t=127.5){const n=kY(e,t),r=ak..indexOf(n);if(r<0)throw new Error(`resolveFirstMonthStemIdx: invalid year stem "${n}"`);return EY[r]}function OY(e,t,n=127.5){return(jY(e,n)+(t-1))%10}function _t(e,t=127.5){if(!C$(e))return"";const{monthIndex:n}=TY(e,t),r=(2+(n-1))%12,i=ak.[r],a=OY(e,n,t);return ak.[a]+i}const Mb={JDN:2445731,idx:0};function P$(e,t,n,r=0,i=0,a=0){t<=2&&(e-=1,t+=12);const o=Math.floor(e/100),l=2-o+Math.floor(o/4),u=(r+i/60+a/3600)/24;return Math.floor(365.25*(e+4716))+Math.floor(30.6001*(t+1))+n+u+l-1524.5}function NY(e,t){const n=e.getHours(),r=e.getMinutes(),i=n*60+r,a=DY(e);return t===""&&a===""?i>=1380?1:0:t===""&&(a===""||a==="")?i<180?-1:0:(i<0,0)}function CY(e,t){const r=e.getHours()*60+e.getMinutes();return t===""?r>=1380?1:0:t===""&&r<180?-1:0}function pt(e,t){const n=NY(e,t),r=new Date(e.getTime());r.setDate(r.getDate()+n);const i=P$(r.getFullYear(),r.getMonth()+1,r.getDate(),r.getHours(),r.getMinutes()),a=Math.floor(i+.5),o=N$(a-Mb.JDN+Mb.idx,60),l=h2[o];if(!l)throw new Error(`getDayGanZhi: idx=${o} out of range (jdn=${a}, jd=${i})`);return l}function MY(e,t){const n=new Date(e),r=CY(n,t),i=new Date(e.getTime());i.setDate(i.getDate()+r);const a=P$(i.getFullYear(),i.getMonth()+1,i.getDate(),i.getHours(),i.getMinutes()),o=Math.floor(a+.5),l=N$(o-Mb.JDN+Mb.idx,60),u=h2[l];if(!u)throw new Error(`getDayGanZhi: idx=${l} out of range (jdn=${o}, jd=${a})`);return u}function DY(e){e instanceof Date||(e=new Date(e));const t=e.getHours()*60+e.getMinutes();for(let n=0;n<Cb.length;n+=1){const{branch:r,start:i,end:a}=Cb[n];if(i<a){if(t>=i&&t<a)return r}else if(t>=i||t<a)return r}return""}function PY(e){e instanceof Date||(e=new Date(e));const t=e.getHours()*60+e.getMinutes();for(let n=0;n<Cb.length;n+=1){const{branch:r,start:i,end:a}=Cb[n];if(i<a){if(t>=i&&t<a)return r}else if(t>=i||t<a)return r}return""}function RY(e,t,n,r){const i=Hr.indexOf(t);if(i<0)return"";let a=(i%5*2+n)%10;const o=e.getHours();return(r===""||r==="/"&&o>=3)&&(n===0||n===1)&&(a=(a+2)%10),Hr[a]}function Fa(e,t,n){e instanceof Date||(e=new Date(e));const r=PY(e),i=ui.indexOf(r),o=(n??pt(e,t)).charAt(0);return RY(e,o,i,t)+r}const EC=e=>{let t;const n=new Set,r=(d,h)=>{const p=typeof d=="function"?d(t):d;if(!Object.is(p,t)){const b=t;t=h??(typeof p!="object"||p===null)?p:Object.assign({},t,p),n.forEach(x=>x(t,b))}},i=()=>t,l={setState:r,getState:i,getInitialState:()=>u,subscribe:d=>(n.add(d),()=>n.delete(d))},u=t=e(r,i,l);return l},LY=(e=>e?EC(e):EC),IY=e=>e;function $Y(e,t=IY){const n=Kt.useSyncExternalStore(e.subscribe,Kt.useCallback(()=>t(e.getState()),[e,t]),Kt.useCallback(()=>t(e.getInitialState()),[e,t]));return Kt.useDebugValue(n),n}const AC=e=>{const t=LY(e),n=r=>$Y(t,r);return Object.assign(n,t),n},As=(e=>e?AC(e):AC);function BY(e,t){let n;try{n=e()}catch{return}return{getItem:i=>{var a;const o=u=>u===null?null:JSON.parse(u,void 0),l=(a=n.getItem(i))!=null?a:null;return l instanceof Promise?l.then(o):o(l)},setItem:(i,a)=>n.setItem(i,JSON.stringify(a,void 0)),removeItem:i=>n.removeItem(i)}}const ok=e=>t=>{try{const n=e(t);return n instanceof Promise?n:{then(r){return ok(r)(n)},catch(r){return this}}}catch(n){return{then(r){return this},catch(r){return ok(r)(n)}}}},zY=(e,t)=>(n,r,i)=>{let a={storage:BY(()=>localStorage),partialize:S=>S,version:0,merge:(S,_)=>({..._,...S}),...t},o=!1;const l=new Set,u=new Set;let d=a.storage;if(!d)return e((...S)=>{console.warn(`[zustand persist middleware] Unable to update item '${a.name}', the given storage is currently unavailable.`),n(...S)},r,i);const h=()=>{const S=a.partialize({...r()});return d.setItem(a.name,{state:S,version:a.version})},p=i.setState;i.setState=(S,_)=>(p(S,_),h());const b=e((...S)=>(n(...S),h()),r,i);i.getInitialState=()=>b;let x;const k=()=>{var S,_;if(!d)return;o=!1,l.forEach(N=>{var j;return N((j=r())!=null?j:b)});const T=((_=a.onRehydrateStorage)==null?void 0:_.call(a,(S=r())!=null?S:b))||void 0;return ok(d.getItem.bind(d))(a.name).then(N=>{if(N)if(typeof N.version=="number"&&N.version!==a.version){if(a.migrate){const j=a.migrate(N.state,N.version);return j instanceof Promise?j.then(C=>[!0,C]):[!0,j]}console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return[!1,N.state];return[!1,void 0]}).then(N=>{var j;const[C,M]=N;if(x=a.merge(M,(j=r())!=null?j:b),n(x,!0),C)return h()}).then(()=>{T?.(x,void 0),x=r(),o=!0,u.forEach(N=>N(x))}).catch(N=>{T?.(void 0,N)})};return i.persist={setOptions:S=>{a={...a,...S},S.storage&&(d=S.storage)},clearStorage:()=>{d?.removeItem(a.name)},getOptions:()=>a,rehydrate:()=>k(),hasHydrated:()=>o,onHydrate:S=>(l.add(S),()=>{l.delete(S)}),onFinishHydration:S=>(u.add(S),()=>{u.delete(S)})},a.skipHydration||k(),x||b},R$=zY;var as={},d0={},sk=function(e,t){return sk=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(n[i]=r[i])},sk(e,t)};function L$(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");sk(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}var Db=function(){return Db=Object.assign||function(t){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(t[a]=n[a])}return t},Db.apply(this,arguments)};function lf(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n}function I$(e,t,n,r){var i=arguments.length,a=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,n):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")a=Reflect.decorate(e,t,n,r);else for(var l=e.length-1;l>=0;l--)(o=e[l])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a}function $$(e,t){return function(n,r){t(n,r,e)}}function B$(e,t,n,r,i,a){function o(T){if(T!==void 0&&typeof T!="function")throw new TypeError("Function expected");return T}for(var l=r.kind,u=l==="getter"?"get":l==="setter"?"set":"value",d=!t&&e?r.static?e:e.prototype:null,h=t||(d?Object.getOwnPropertyDescriptor(d,r.name):{}),p,b=!1,x=n.length-1;x>=0;x--){var k={};for(var S in r)k[S]=S==="access"?{}:r[S];for(var S in r.access)k.access[S]=r.access[S];k.addInitializer=function(T){if(b)throw new TypeError("Cannot add initializers after decoration has completed");a.push(o(T||null))};var _=(0,n[x])(l==="accessor"?{get:h.get,set:h.set}:h[u],k);if(l==="accessor"){if(_===void 0)continue;if(_===null||typeof _!="object")throw new TypeError("Object expected");(p=o(_.get))&&(h.get=p),(p=o(_.set))&&(h.set=p),(p=o(_.init))&&i.unshift(p)}else(p=o(_))&&(l==="field"?i.unshift(p):h[u]=p)}d&&Object.defineProperty(d,r.name,h),b=!0}function z$(e,t,n){for(var r=arguments.length>2,i=0;i<t.length;i++)n=r?t[i].call(e,n):t[i].call(e);return r?n:void 0}function U$(e){return typeof e=="symbol"?e:"".concat(e)}function F$(e,t,n){return typeof t=="symbol"&&(t=t.description?"[".concat(t.description,"]"):""),Object.defineProperty(e,"name",{configurable:!0,value:n?"".concat(n," ",t):t})}function H$(e,t){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(e,t)}function Ue(e,t,n,r){function i(a){return a instanceof n?a:new n(function(o){o(a)})}return new(n||(n=Promise))(function(a,o){function l(h){try{d(r.next(h))}catch(p){o(p)}}function u(h){try{d(r.throw(h))}catch(p){o(p)}}function d(h){h.done?a(h.value):i(h.value).then(l,u)}d((r=r.apply(e,t||[])).next())})}function G$(e,t){var n={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},r,i,a,o=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return o.next=l(0),o.throw=l(1),o.return=l(2),typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function l(d){return function(h){return u([d,h])}}function u(d){if(r)throw new TypeError("Generator is already executing.");for(;o&&(o=0,d[0]&&(n=0)),n;)try{if(r=1,i&&(a=d[0]&2?i.return:d[0]?i.throw||((a=i.return)&&a.call(i),0):i.next)&&!(a=a.call(i,d[1])).done)return a;switch(i=0,a&&(d=[d[0]&2,a.value]),d[0]){case 0:case 1:a=d;break;case 4:return n.label++,{value:d[1],done:!1};case 5:n.label++,i=d[1],d=[0];continue;case 7:d=n.ops.pop(),n.trys.pop();continue;default:if(a=n.trys,!(a=a.length>0&&a[a.length-1])&&(d[0]===6||d[0]===2)){n=0;continue}if(d[0]===3&&(!a||d[1]>a[0]&&d[1]<a[3])){n.label=d[1];break}if(d[0]===6&&n.label<a[1]){n.label=a[1],a=d;break}if(a&&n.label<a[2]){n.label=a[2],n.ops.push(d);break}a[2]&&n.ops.pop(),n.trys.pop();continue}d=t.call(e,n)}catch(h){d=[6,h],i=0}finally{r=a=0}if(d[0]&5)throw d[1];return{value:d[0]?d[1]:void 0,done:!0}}}var lv=Object.create?(function(e,t,n,r){r===void 0&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}):(function(e,t,n,r){r===void 0&&(r=n),e[r]=t[n]});function q$(e,t){for(var n in e)n!=="default"&&!Object.prototype.hasOwnProperty.call(t,n)&&lv(t,e,n)}function Pb(e){var t=typeof Symbol=="function"&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function m2(e,t){var n=typeof Symbol=="function"&&e[Symbol.iterator];if(!n)return e;var r=n.call(e),i,a=[],o;try{for(;(t===void 0||t-- >0)&&!(i=r.next()).done;)a.push(i.value)}catch(l){o={error:l}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(o)throw o.error}}return a}function Y$(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(m2(arguments[t]));return e}function K$(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;for(var r=Array(e),i=0,t=0;t<n;t++)for(var a=arguments[t],o=0,l=a.length;o<l;o++,i++)r[i]=a[o];return r}function W$(e,t,n){if(n||arguments.length===2)for(var r=0,i=t.length,a;r<i;r++)(a||!(r in t))&&(a||(a=Array.prototype.slice.call(t,0,r)),a[r]=t[r]);return e.concat(a||Array.prototype.slice.call(t))}function Fd(e){return this instanceof Fd?(this.v=e,this):new Fd(e)}function V$(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(e,t||[]),i,a=[];return i=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),l("next"),l("throw"),l("return",o),i[Symbol.asyncIterator]=function(){return this},i;function o(x){return function(k){return Promise.resolve(k).then(x,p)}}function l(x,k){r[x]&&(i[x]=function(S){return new Promise(function(_,T){a.push([x,S,_,T])>1||u(x,S)})},k&&(i[x]=k(i[x])))}function u(x,k){try{d(r[x](k))}catch(S){b(a[0][3],S)}}function d(x){x.value instanceof Fd?Promise.resolve(x.value.v).then(h,p):b(a[0][2],x)}function h(x){u("next",x)}function p(x){u("throw",x)}function b(x,k){x(k),a.shift(),a.length&&u(a[0][0],a[0][1])}}function Z$(e){var t,n;return t={},r("next"),r("throw",function(i){throw i}),r("return"),t[Symbol.iterator]=function(){return this},t;function r(i,a){t[i]=e[i]?function(o){return(n=!n)?{value:Fd(e[i](o)),done:!1}:a?a(o):o}:a}}function X$(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t=e[Symbol.asyncIterator],n;return t?t.call(e):(e=typeof Pb=="function"?Pb(e):e[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(a){n[a]=e[a]&&function(o){return new Promise(function(l,u){o=e[a](o),i(l,u,o.done,o.value)})}}function i(a,o,l,u){Promise.resolve(u).then(function(d){a({value:d,done:l})},o)}}function J$(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e}var UY=Object.create?(function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}):function(e,t){e.default=t},lk=function(e){return lk=Object.getOwnPropertyNames||function(t){var n=[];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[n.length]=r);return n},lk(e)};function Q$(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var n=lk(e),r=0;r<n.length;r++)n[r]!=="default"&&lv(t,e,n[r]);return UY(t,e),t}function eB(e){return e&&e.__esModule?e:{default:e}}function tB(e,t,n,r){if(n==="a"&&!r)throw new TypeError("Private accessor was defined without a getter");if(typeof t=="function"?e!==t||!r:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?r:n==="a"?r.call(e):r?r.value:t.get(e)}function nB(e,t,n,r,i){if(r==="m")throw new TypeError("Private method is not writable");if(r==="a"&&!i)throw new TypeError("Private accessor was defined without a setter");if(typeof t=="function"?e!==t||!i:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return r==="a"?i.call(e,n):i?i.value=n:t.set(e,n),n}function rB(e,t){if(t===null||typeof t!="object"&&typeof t!="function")throw new TypeError("Cannot use 'in' operator on non-object");return typeof e=="function"?t===e:e.has(t)}function iB(e,t,n){if(t!=null){if(typeof t!="object"&&typeof t!="function")throw new TypeError("Object expected.");var r,i;if(n){if(!Symbol.asyncDispose)throw new TypeError("Symbol.asyncDispose is not defined.");r=t[Symbol.asyncDispose]}if(r===void 0){if(!Symbol.dispose)throw new TypeError("Symbol.dispose is not defined.");r=t[Symbol.dispose],n&&(i=r)}if(typeof r!="function")throw new TypeError("Object not disposable.");i&&(r=function(){try{i.call(this)}catch(a){return Promise.reject(a)}}),e.stack.push({value:t,dispose:r,async:n})}else n&&e.stack.push({async:!0});return t}var FY=typeof SuppressedError=="function"?SuppressedError:function(e,t,n){var r=new Error(n);return r.name="SuppressedError",r.error=e,r.suppressed=t,r};function aB(e){function t(a){e.error=e.hasError?new FY(a,e.error,"An error was suppressed during disposal."):a,e.hasError=!0}var n,r=0;function i(){for(;n=e.stack.pop();)try{if(!n.async&&r===1)return r=0,e.stack.push(n),Promise.resolve().then(i);if(n.dispose){var a=n.dispose.call(n.value);if(n.async)return r|=2,Promise.resolve(a).then(i,function(o){return t(o),i()})}else r|=1}catch(o){t(o)}if(r===1)return e.hasError?Promise.reject(e.error):Promise.resolve();if(e.hasError)throw e.error}return i()}function oB(e,t){return typeof e=="string"&&/^\.\.?\//.test(e)?e.replace(/\.(tsx)$|((?:\.d)?)((?:\.[^./]+?)?)\.([cm]?)ts$/i,function(n,r,i,a,o){return r?t?".jsx":".js":i&&(!a||!o)?n:i+a+"."+o.toLowerCase()+"js"}):e}const HY={__extends:L$,__assign:Db,__rest:lf,__decorate:I$,__param:$$,__esDecorate:B$,__runInitializers:z$,__propKey:U$,__setFunctionName:F$,__metadata:H$,__awaiter:Ue,__generator:G$,__createBinding:lv,__exportStar:q$,__values:Pb,__read:m2,__spread:Y$,__spreadArrays:K$,__spreadArray:W$,__await:Fd,__asyncGenerator:V$,__asyncDelegator:Z$,__asyncValues:X$,__makeTemplateObject:J$,__importStar:Q$,__importDefault:eB,__classPrivateFieldGet:tB,__classPrivateFieldSet:nB,__classPrivateFieldIn:rB,__addDisposableResource:iB,__disposeResources:aB,__rewriteRelativeImportExtension:oB},GY=Object.freeze(Object.defineProperty({__proto__:null,__addDisposableResource:iB,get __assign(){return Db},__asyncDelegator:Z$,__asyncGenerator:V$,__asyncValues:X$,__await:Fd,__awaiter:Ue,__classPrivateFieldGet:tB,__classPrivateFieldIn:rB,__classPrivateFieldSet:nB,__createBinding:lv,__decorate:I$,__disposeResources:aB,__esDecorate:B$,__exportStar:q$,__extends:L$,__generator:G$,__importDefault:eB,__importStar:Q$,__makeTemplateObject:J$,__metadata:H$,__param:$$,__propKey:U$,__read:m2,__rest:lf,__rewriteRelativeImportExtension:oB,__runInitializers:z$,__setFunctionName:F$,__spread:Y$,__spreadArray:W$,__spreadArrays:K$,__values:Pb,default:HY},Symbol.toStringTag,{value:"Module"})),qY=e=>e?(...t)=>e(...t):(...t)=>fetch(...t);let cv=class extends Error{constructor(t,n="FunctionsError",r){super(t),this.name=n,this.context=r}},sB=class extends cv{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}},ck=class extends cv{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}},uk=class extends cv{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}};var Rb;(function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"})(Rb||(Rb={}));class YY{constructor(t,{headers:n={},customFetch:r,region:i=Rb.Any}={}){this.url=t,this.headers=n,this.region=i,this.fetch=qY(r)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t){return Ue(this,arguments,void 0,function*(n,r={}){var i;let a,o;try{const{headers:l,method:u,body:d,signal:h,timeout:p}=r;let b={},{region:x}=r;x||(x=this.region);const k=new URL(`${this.url}/${n}`);x&&x!=="any"&&(b["x-region"]=x,k.searchParams.set("forceFunctionRegion",x));let S;d&&(l&&!Object.prototype.hasOwnProperty.call(l,"Content-Type")||!l)?typeof Blob<"u"&&d instanceof Blob||d instanceof ArrayBuffer?(b["Content-Type"]="application/octet-stream",S=d):typeof d=="string"?(b["Content-Type"]="text/plain",S=d):typeof FormData<"u"&&d instanceof FormData?S=d:(b["Content-Type"]="application/json",S=JSON.stringify(d)):S=d;let _=h;p&&(o=new AbortController,a=setTimeout(()=>o.abort(),p),h?(_=o.signal,h.addEventListener("abort",()=>o.abort())):_=o.signal);const T=yield this.fetch(k.toString(),{method:u||"POST",headers:Object.assign(Object.assign(Object.assign({},b),this.headers),l),body:S,signal:_}).catch(M=>{throw new sB(M)}),N=T.headers.get("x-relay-error");if(N&&N==="true")throw new ck(T);if(!T.ok)throw new uk(T);let j=((i=T.headers.get("Content-Type"))!==null&&i!==void 0?i:"text/plain").split(";")[0].trim(),C;return j==="application/json"?C=yield T.json():j==="application/octet-stream"||j==="application/pdf"?C=yield T.blob():j==="text/event-stream"?C=T:j==="multipart/form-data"?C=yield T.formData():C=yield T.text(),{data:C,error:null,response:T}}catch(l){return{data:null,error:l,response:l instanceof uk||l instanceof ck?l.context:void 0}}finally{a&&clearTimeout(a)}})}}const KY=Object.freeze(Object.defineProperty({__proto__:null,get FunctionRegion(){return Rb},FunctionsClient:YY,FunctionsError:cv,FunctionsFetchError:sB,FunctionsHttpError:uk,FunctionsRelayError:ck},Symbol.toStringTag,{value:"Module"})),lB=Qm(KY);var jr={};const cf=Qm(GY);var f0={},h0={},m0={},p0={},g0={},b0={},TC;function cB(){if(TC)return b0;TC=1,Object.defineProperty(b0,"__esModule",{value:!0});class e extends Error{constructor(n){super(n.message),this.name="PostgrestError",this.details=n.details,this.hint=n.hint,this.code=n.code}}return b0.default=e,b0}var jC;function uB(){if(jC)return g0;jC=1,Object.defineProperty(g0,"__esModule",{value:!0});const t=cf.__importDefault(cB());let n=class{constructor(i){var a,o;this.shouldThrowOnError=!1,this.method=i.method,this.url=i.url,this.headers=new Headers(i.headers),this.schema=i.schema,this.body=i.body,this.shouldThrowOnError=(a=i.shouldThrowOnError)!==null&&a!==void 0?a:!1,this.signal=i.signal,this.isMaybeSingle=(o=i.isMaybeSingle)!==null&&o!==void 0?o:!1,i.fetch?this.fetch=i.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(i,a){return this.headers=new Headers(this.headers),this.headers.set(i,a),this}then(i,a){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const o=this.fetch;let l=o(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async u=>{var d,h,p,b;let x=null,k=null,S=null,_=u.status,T=u.statusText;if(u.ok){if(this.method!=="HEAD"){const M=await u.text();M===""||(this.headers.get("Accept")==="text/csv"||this.headers.get("Accept")&&(!((d=this.headers.get("Accept"))===null||d===void 0)&&d.includes("application/vnd.pgrst.plan+text"))?k=M:k=JSON.parse(M))}const j=(h=this.headers.get("Prefer"))===null||h===void 0?void 0:h.match(/count=(exact|planned|estimated)/),C=(p=u.headers.get("content-range"))===null||p===void 0?void 0:p.split("/");j&&C&&C.length>1&&(S=parseInt(C[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(k)&&(k.length>1?(x={code:"PGRST116",details:`Results contain ${k.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},k=null,S=null,_=406,T="Not Acceptable"):k.length===1?k=k[0]:k=null)}else{const j=await u.text();try{x=JSON.parse(j),Array.isArray(x)&&u.status===404&&(k=[],x=null,_=200,T="OK")}catch{u.status===404&&j===""?(_=204,T="No Content"):x={message:j}}if(x&&this.isMaybeSingle&&(!((b=x?.details)===null||b===void 0)&&b.includes("0 rows"))&&(x=null,_=200,T="OK"),x&&this.shouldThrowOnError)throw new t.default(x)}return{error:x,data:k,count:S,status:_,statusText:T}});return this.shouldThrowOnError||(l=l.catch(u=>{var d,h,p,b,x,k;let S="";const _=u?.cause;if(_){const T=(d=_?.message)!==null&&d!==void 0?d:"",N=(h=_?.code)!==null&&h!==void 0?h:"";S=`${(p=u?.name)!==null&&p!==void 0?p:"FetchError"}: ${u?.message}`,S+=`

Caused by: ${(b=_?.name)!==null&&b!==void 0?b:"Error"}: ${T}`,N&&(S+=` (${N})`),_?.stack&&(S+=`
${_.stack}`)}else S=(x=u?.stack)!==null&&x!==void 0?x:"";return{error:{message:`${(k=u?.name)!==null&&k!==void 0?k:"FetchError"}: ${u?.message}`,details:S,hint:"",code:""},data:null,count:null,status:0,statusText:""}})),l.then(i,a)}returns(){return this}overrideTypes(){return this}};return g0.default=n,g0}var OC;function dB(){if(OC)return p0;OC=1,Object.defineProperty(p0,"__esModule",{value:!0});const t=cf.__importDefault(uB());let n=class extends t.default{select(i){let a=!1;const o=(i??"*").split("").map(l=>/\s/.test(l)&&!a?"":(l==='"'&&(a=!a),l)).join("");return this.url.searchParams.set("select",o),this.headers.append("Prefer","return=representation"),this}order(i,{ascending:a=!0,nullsFirst:o,foreignTable:l,referencedTable:u=l}={}){const d=u?`${u}.order`:"order",h=this.url.searchParams.get(d);return this.url.searchParams.set(d,`${h?`${h},`:""}${i}.${a?"asc":"desc"}${o===void 0?"":o?".nullsfirst":".nullslast"}`),this}limit(i,{foreignTable:a,referencedTable:o=a}={}){const l=typeof o>"u"?"limit":`${o}.limit`;return this.url.searchParams.set(l,`${i}`),this}range(i,a,{foreignTable:o,referencedTable:l=o}={}){const u=typeof l>"u"?"offset":`${l}.offset`,d=typeof l>"u"?"limit":`${l}.limit`;return this.url.searchParams.set(u,`${i}`),this.url.searchParams.set(d,`${a-i+1}`),this}abortSignal(i){return this.signal=i,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:i=!1,verbose:a=!1,settings:o=!1,buffers:l=!1,wal:u=!1,format:d="text"}={}){var h;const p=[i?"analyze":null,a?"verbose":null,o?"settings":null,l?"buffers":null,u?"wal":null].filter(Boolean).join("|"),b=(h=this.headers.get("Accept"))!==null&&h!==void 0?h:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${d}; for="${b}"; options=${p};`),d==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(i){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${i}`),this}};return p0.default=n,p0}var NC;function p2(){if(NC)return m0;NC=1,Object.defineProperty(m0,"__esModule",{value:!0});const t=cf.__importDefault(dB()),n=new RegExp("[,()]");let r=class extends t.default{eq(a,o){return this.url.searchParams.append(a,`eq.${o}`),this}neq(a,o){return this.url.searchParams.append(a,`neq.${o}`),this}gt(a,o){return this.url.searchParams.append(a,`gt.${o}`),this}gte(a,o){return this.url.searchParams.append(a,`gte.${o}`),this}lt(a,o){return this.url.searchParams.append(a,`lt.${o}`),this}lte(a,o){return this.url.searchParams.append(a,`lte.${o}`),this}like(a,o){return this.url.searchParams.append(a,`like.${o}`),this}likeAllOf(a,o){return this.url.searchParams.append(a,`like(all).{${o.join(",")}}`),this}likeAnyOf(a,o){return this.url.searchParams.append(a,`like(any).{${o.join(",")}}`),this}ilike(a,o){return this.url.searchParams.append(a,`ilike.${o}`),this}ilikeAllOf(a,o){return this.url.searchParams.append(a,`ilike(all).{${o.join(",")}}`),this}ilikeAnyOf(a,o){return this.url.searchParams.append(a,`ilike(any).{${o.join(",")}}`),this}regexMatch(a,o){return this.url.searchParams.append(a,`match.${o}`),this}regexIMatch(a,o){return this.url.searchParams.append(a,`imatch.${o}`),this}is(a,o){return this.url.searchParams.append(a,`is.${o}`),this}isDistinct(a,o){return this.url.searchParams.append(a,`isdistinct.${o}`),this}in(a,o){const l=Array.from(new Set(o)).map(u=>typeof u=="string"&&n.test(u)?`"${u}"`:`${u}`).join(",");return this.url.searchParams.append(a,`in.(${l})`),this}contains(a,o){return typeof o=="string"?this.url.searchParams.append(a,`cs.${o}`):Array.isArray(o)?this.url.searchParams.append(a,`cs.{${o.join(",")}}`):this.url.searchParams.append(a,`cs.${JSON.stringify(o)}`),this}containedBy(a,o){return typeof o=="string"?this.url.searchParams.append(a,`cd.${o}`):Array.isArray(o)?this.url.searchParams.append(a,`cd.{${o.join(",")}}`):this.url.searchParams.append(a,`cd.${JSON.stringify(o)}`),this}rangeGt(a,o){return this.url.searchParams.append(a,`sr.${o}`),this}rangeGte(a,o){return this.url.searchParams.append(a,`nxl.${o}`),this}rangeLt(a,o){return this.url.searchParams.append(a,`sl.${o}`),this}rangeLte(a,o){return this.url.searchParams.append(a,`nxr.${o}`),this}rangeAdjacent(a,o){return this.url.searchParams.append(a,`adj.${o}`),this}overlaps(a,o){return typeof o=="string"?this.url.searchParams.append(a,`ov.${o}`):this.url.searchParams.append(a,`ov.{${o.join(",")}}`),this}textSearch(a,o,{config:l,type:u}={}){let d="";u==="plain"?d="pl":u==="phrase"?d="ph":u==="websearch"&&(d="w");const h=l===void 0?"":`(${l})`;return this.url.searchParams.append(a,`${d}fts${h}.${o}`),this}match(a){return Object.entries(a).forEach(([o,l])=>{this.url.searchParams.append(o,`eq.${l}`)}),this}not(a,o,l){return this.url.searchParams.append(a,`not.${o}.${l}`),this}or(a,{foreignTable:o,referencedTable:l=o}={}){const u=l?`${l}.or`:"or";return this.url.searchParams.append(u,`(${a})`),this}filter(a,o,l){return this.url.searchParams.append(a,`${o}.${l}`),this}};return m0.default=r,m0}var CC;function fB(){if(CC)return h0;CC=1,Object.defineProperty(h0,"__esModule",{value:!0});const t=cf.__importDefault(p2());let n=class{constructor(i,{headers:a={},schema:o,fetch:l}){this.url=i,this.headers=new Headers(a),this.schema=o,this.fetch=l}select(i,a){const{head:o=!1,count:l}=a??{},u=o?"HEAD":"GET";let d=!1;const h=(i??"*").split("").map(p=>/\s/.test(p)&&!d?"":(p==='"'&&(d=!d),p)).join("");return this.url.searchParams.set("select",h),l&&this.headers.append("Prefer",`count=${l}`),new t.default({method:u,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(i,{count:a,defaultToNull:o=!0}={}){var l;const u="POST";if(a&&this.headers.append("Prefer",`count=${a}`),o||this.headers.append("Prefer","missing=default"),Array.isArray(i)){const d=i.reduce((h,p)=>h.concat(Object.keys(p)),[]);if(d.length>0){const h=[...new Set(d)].map(p=>`"${p}"`);this.url.searchParams.set("columns",h.join(","))}}return new t.default({method:u,url:this.url,headers:this.headers,schema:this.schema,body:i,fetch:(l=this.fetch)!==null&&l!==void 0?l:fetch})}upsert(i,{onConflict:a,ignoreDuplicates:o=!1,count:l,defaultToNull:u=!0}={}){var d;const h="POST";if(this.headers.append("Prefer",`resolution=${o?"ignore":"merge"}-duplicates`),a!==void 0&&this.url.searchParams.set("on_conflict",a),l&&this.headers.append("Prefer",`count=${l}`),u||this.headers.append("Prefer","missing=default"),Array.isArray(i)){const p=i.reduce((b,x)=>b.concat(Object.keys(x)),[]);if(p.length>0){const b=[...new Set(p)].map(x=>`"${x}"`);this.url.searchParams.set("columns",b.join(","))}}return new t.default({method:h,url:this.url,headers:this.headers,schema:this.schema,body:i,fetch:(d=this.fetch)!==null&&d!==void 0?d:fetch})}update(i,{count:a}={}){var o;const l="PATCH";return a&&this.headers.append("Prefer",`count=${a}`),new t.default({method:l,url:this.url,headers:this.headers,schema:this.schema,body:i,fetch:(o=this.fetch)!==null&&o!==void 0?o:fetch})}delete({count:i}={}){var a;const o="DELETE";return i&&this.headers.append("Prefer",`count=${i}`),new t.default({method:o,url:this.url,headers:this.headers,schema:this.schema,fetch:(a=this.fetch)!==null&&a!==void 0?a:fetch})}};return h0.default=n,h0}var MC;function WY(){if(MC)return f0;MC=1,Object.defineProperty(f0,"__esModule",{value:!0});const e=cf,t=e.__importDefault(fB()),n=e.__importDefault(p2());let r=class hB{constructor(a,{headers:o={},schema:l,fetch:u}={}){this.url=a,this.headers=new Headers(o),this.schemaName=l,this.fetch=u}from(a){if(!a||typeof a!="string"||a.trim()==="")throw new Error("Invalid relation name: relation must be a non-empty string.");const o=new URL(`${this.url}/${a}`);return new t.default(o,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(a){return new hB(this.url,{headers:this.headers,schema:a,fetch:this.fetch})}rpc(a,o={},{head:l=!1,get:u=!1,count:d}={}){var h;let p;const b=new URL(`${this.url}/rpc/${a}`);let x;l||u?(p=l?"HEAD":"GET",Object.entries(o).filter(([S,_])=>_!==void 0).map(([S,_])=>[S,Array.isArray(_)?`{${_.join(",")}}`:`${_}`]).forEach(([S,_])=>{b.searchParams.append(S,_)})):(p="POST",x=o);const k=new Headers(this.headers);return d&&k.set("Prefer",`count=${d}`),new n.default({method:p,url:b,headers:k,schema:this.schemaName,body:x,fetch:(h=this.fetch)!==null&&h!==void 0?h:fetch})}};return f0.default=r,f0}var DC;function mB(){if(DC)return jr;DC=1,Object.defineProperty(jr,"__esModule",{value:!0}),jr.PostgrestError=jr.PostgrestBuilder=jr.PostgrestTransformBuilder=jr.PostgrestFilterBuilder=jr.PostgrestQueryBuilder=jr.PostgrestClient=void 0;const e=cf,t=e.__importDefault(WY());jr.PostgrestClient=t.default;const n=e.__importDefault(fB());jr.PostgrestQueryBuilder=n.default;const r=e.__importDefault(p2());jr.PostgrestFilterBuilder=r.default;const i=e.__importDefault(dB());jr.PostgrestTransformBuilder=i.default;const a=e.__importDefault(uB());jr.PostgrestBuilder=a.default;const o=e.__importDefault(cB());return jr.PostgrestError=o.default,jr.default={PostgrestClient:t.default,PostgrestQueryBuilder:n.default,PostgrestFilterBuilder:r.default,PostgrestTransformBuilder:i.default,PostgrestBuilder:a.default,PostgrestError:o.default},jr}class pB{constructor(){}static detectEnvironment(){var t;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((t=navigator.userAgent)===null||t===void 0)&&t.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const n=process.versions;if(n&&n.node){const r=n.node,i=parseInt(r.replace(/^v/,"").split(".")[0]);return i>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${i} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${i} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const t=this.detectEnvironment();if(t.constructor)return t.constructor;let n=t.error||"WebSocket not supported in this environment.";throw t.workaround&&(n+=`

Suggested solution: ${t.workaround}`),new Error(n)}static createWebSocket(t,n){const r=this.getWebSocketConstructor();return new r(t,n)}static isWebSocketSupported(){try{const t=this.detectEnvironment();return t.type==="native"||t.type==="ws"}catch{return!1}}}const VY="2.86.2",ZY=`realtime-js/${VY}`,gB="1.0.0",XY="2.0.0",PC=gB,dk=1e4,JY=1e3,QY=100;var Kc;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})(Kc||(Kc={}));var Ln;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})(Ln||(Ln={}));var Pa;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})(Pa||(Pa={}));var fk;(function(e){e.websocket="websocket"})(fk||(fk={}));var Wc;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})(Wc||(Wc={}));class eK{constructor(t){this.HEADER_LENGTH=1,this.USER_BROADCAST_PUSH_META_LENGTH=6,this.KINDS={userBroadcastPush:3,userBroadcast:4},this.BINARY_ENCODING=0,this.JSON_ENCODING=1,this.BROADCAST_EVENT="broadcast",this.allowedMetadataKeys=[],this.allowedMetadataKeys=t??[]}encode(t,n){if(t.event===this.BROADCAST_EVENT&&!(t.payload instanceof ArrayBuffer)&&typeof t.payload.event=="string")return n(this._binaryEncodeUserBroadcastPush(t));let r=[t.join_ref,t.ref,t.topic,t.event,t.payload];return n(JSON.stringify(r))}_binaryEncodeUserBroadcastPush(t){var n;return this._isArrayBuffer((n=t.payload)===null||n===void 0?void 0:n.payload)?this._encodeBinaryUserBroadcastPush(t):this._encodeJsonUserBroadcastPush(t)}_encodeBinaryUserBroadcastPush(t){var n,r;const i=(r=(n=t.payload)===null||n===void 0?void 0:n.payload)!==null&&r!==void 0?r:new ArrayBuffer(0);return this._encodeUserBroadcastPush(t,this.BINARY_ENCODING,i)}_encodeJsonUserBroadcastPush(t){var n,r;const i=(r=(n=t.payload)===null||n===void 0?void 0:n.payload)!==null&&r!==void 0?r:{},o=new TextEncoder().encode(JSON.stringify(i)).buffer;return this._encodeUserBroadcastPush(t,this.JSON_ENCODING,o)}_encodeUserBroadcastPush(t,n,r){var i,a;const o=t.topic,l=(i=t.ref)!==null&&i!==void 0?i:"",u=(a=t.join_ref)!==null&&a!==void 0?a:"",d=t.payload.event,h=this.allowedMetadataKeys?this._pick(t.payload,this.allowedMetadataKeys):{},p=Object.keys(h).length===0?"":JSON.stringify(h);if(u.length>255)throw new Error(`joinRef length ${u.length} exceeds maximum of 255`);if(l.length>255)throw new Error(`ref length ${l.length} exceeds maximum of 255`);if(o.length>255)throw new Error(`topic length ${o.length} exceeds maximum of 255`);if(d.length>255)throw new Error(`userEvent length ${d.length} exceeds maximum of 255`);if(p.length>255)throw new Error(`metadata length ${p.length} exceeds maximum of 255`);const b=this.USER_BROADCAST_PUSH_META_LENGTH+u.length+l.length+o.length+d.length+p.length,x=new ArrayBuffer(this.HEADER_LENGTH+b);let k=new DataView(x),S=0;k.setUint8(S++,this.KINDS.userBroadcastPush),k.setUint8(S++,u.length),k.setUint8(S++,l.length),k.setUint8(S++,o.length),k.setUint8(S++,d.length),k.setUint8(S++,p.length),k.setUint8(S++,n),Array.from(u,T=>k.setUint8(S++,T.charCodeAt(0))),Array.from(l,T=>k.setUint8(S++,T.charCodeAt(0))),Array.from(o,T=>k.setUint8(S++,T.charCodeAt(0))),Array.from(d,T=>k.setUint8(S++,T.charCodeAt(0))),Array.from(p,T=>k.setUint8(S++,T.charCodeAt(0)));var _=new Uint8Array(x.byteLength+r.byteLength);return _.set(new Uint8Array(x),0),_.set(new Uint8Array(r),x.byteLength),_.buffer}decode(t,n){if(this._isArrayBuffer(t)){let r=this._binaryDecode(t);return n(r)}if(typeof t=="string"){const r=JSON.parse(t),[i,a,o,l,u]=r;return n({join_ref:i,ref:a,topic:o,event:l,payload:u})}return n({})}_binaryDecode(t){const n=new DataView(t),r=n.getUint8(0),i=new TextDecoder;switch(r){case this.KINDS.userBroadcast:return this._decodeUserBroadcast(t,n,i)}}_decodeUserBroadcast(t,n,r){const i=n.getUint8(1),a=n.getUint8(2),o=n.getUint8(3),l=n.getUint8(4);let u=this.HEADER_LENGTH+4;const d=r.decode(t.slice(u,u+i));u=u+i;const h=r.decode(t.slice(u,u+a));u=u+a;const p=r.decode(t.slice(u,u+o));u=u+o;const b=t.slice(u,t.byteLength),x=l===this.JSON_ENCODING?JSON.parse(r.decode(b)):b,k={type:this.BROADCAST_EVENT,event:h,payload:x};return o>0&&(k.meta=JSON.parse(p)),{join_ref:null,ref:null,topic:d,event:this.BROADCAST_EVENT,payload:k}}_isArrayBuffer(t){var n;return t instanceof ArrayBuffer||((n=t?.constructor)===null||n===void 0?void 0:n.name)==="ArrayBuffer"}_pick(t,n){return!t||typeof t!="object"?{}:Object.fromEntries(Object.entries(t).filter(([r])=>n.includes(r)))}}class bB{constructor(t,n){this.callback=t,this.timerCalc=n,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=n}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var qt;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(qt||(qt={}));const RC=(e,t,n={})=>{var r;const i=(r=n.skipTypes)!==null&&r!==void 0?r:[];return t?Object.keys(t).reduce((a,o)=>(a[o]=tK(o,e,t,i),a),{}):{}},tK=(e,t,n,r)=>{const i=t.find(l=>l.name===e),a=i?.type,o=n[e];return a&&!r.includes(a)?yB(a,o):hk(o)},yB=(e,t)=>{if(e.charAt(0)==="_"){const n=e.slice(1,e.length);return aK(t,n)}switch(e){case qt.bool:return nK(t);case qt.float4:case qt.float8:case qt.int2:case qt.int4:case qt.int8:case qt.numeric:case qt.oid:return rK(t);case qt.json:case qt.jsonb:return iK(t);case qt.timestamp:return oK(t);case qt.abstime:case qt.date:case qt.daterange:case qt.int4range:case qt.int8range:case qt.money:case qt.reltime:case qt.text:case qt.time:case qt.timestamptz:case qt.timetz:case qt.tsrange:case qt.tstzrange:return hk(t);default:return hk(t)}},hk=e=>e,nK=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},rK=e=>{if(typeof e=="string"){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},iK=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch(t){return console.log(`JSON parse error: ${t}`),e}return e},aK=(e,t)=>{if(typeof e!="string")return e;const n=e.length-1,r=e[n];if(e[0]==="{"&&r==="}"){let a;const o=e.slice(1,n);try{a=JSON.parse("["+o+"]")}catch{a=o?o.split(","):[]}return a.map(l=>yB(t,l))}return e},oK=e=>typeof e=="string"?e.replace(" ","T"):e,vB=e=>{const t=new URL(e);return t.protocol=t.protocol.replace(/^ws/i,"http"),t.pathname=t.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),t.pathname===""||t.pathname==="/"?t.pathname="/api/broadcast":t.pathname=t.pathname+"/api/broadcast",t.href};class kw{constructor(t,n,r={},i=dk){this.channel=t,this.event=n,this.payload=r,this.timeout=i,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,n){var r;return this._hasReceived(t)&&n((r=this.receivedResp)===null||r===void 0?void 0:r.response),this.recHooks.push({status:t,callback:n}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=n=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=n,this._matchReceive(n)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,n){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:n})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:n}){this.recHooks.filter(r=>r.status===t).forEach(r=>r.callback(n))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var mk;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})(mk||(mk={}));let xB=class pb{constructor(t,n){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const r=n?.events||{state:"presence_state",diff:"presence_diff"};this.channel._on(r.state,{},i=>{const{onJoin:a,onLeave:o,onSync:l}=this.caller;this.joinRef=this.channel._joinRef(),this.state=pb.syncState(this.state,i,a,o),this.pendingDiffs.forEach(u=>{this.state=pb.syncDiff(this.state,u,a,o)}),this.pendingDiffs=[],l()}),this.channel._on(r.diff,{},i=>{const{onJoin:a,onLeave:o,onSync:l}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(i):(this.state=pb.syncDiff(this.state,i,a,o),l())}),this.onJoin((i,a,o)=>{this.channel._trigger("presence",{event:"join",key:i,currentPresences:a,newPresences:o})}),this.onLeave((i,a,o)=>{this.channel._trigger("presence",{event:"leave",key:i,currentPresences:a,leftPresences:o})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,n,r,i){const a=this.cloneDeep(t),o=this.transformState(n),l={},u={};return this.map(a,(d,h)=>{o[d]||(u[d]=h)}),this.map(o,(d,h)=>{const p=a[d];if(p){const b=h.map(_=>_.presence_ref),x=p.map(_=>_.presence_ref),k=h.filter(_=>x.indexOf(_.presence_ref)<0),S=p.filter(_=>b.indexOf(_.presence_ref)<0);k.length>0&&(l[d]=k),S.length>0&&(u[d]=S)}else l[d]=h}),this.syncDiff(a,{joins:l,leaves:u},r,i)}static syncDiff(t,n,r,i){const{joins:a,leaves:o}={joins:this.transformState(n.joins),leaves:this.transformState(n.leaves)};return r||(r=()=>{}),i||(i=()=>{}),this.map(a,(l,u)=>{var d;const h=(d=t[l])!==null&&d!==void 0?d:[];if(t[l]=this.cloneDeep(u),h.length>0){const p=t[l].map(x=>x.presence_ref),b=h.filter(x=>p.indexOf(x.presence_ref)<0);t[l].unshift(...b)}r(l,h,u)}),this.map(o,(l,u)=>{let d=t[l];if(!d)return;const h=u.map(p=>p.presence_ref);d=d.filter(p=>h.indexOf(p.presence_ref)<0),t[l]=d,i(l,d,u),d.length===0&&delete t[l]}),t}static map(t,n){return Object.getOwnPropertyNames(t).map(r=>n(r,t[r]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((n,r)=>{const i=t[r];return"metas"in i?n[r]=i.metas.map(a=>(a.presence_ref=a.phx_ref,delete a.phx_ref,delete a.phx_ref_prev,a)):n[r]=i,n},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}};var pk;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(pk||(pk={}));var Dd;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"})(Dd||(Dd={}));var po;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})(po||(po={}));const sK=Ln;let _B=class wB{constructor(t,n={config:{}},r){var i,a;if(this.topic=t,this.params=n,this.socket=r,this.bindings={},this.state=Ln.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},n.config),this.timeout=this.socket.timeout,this.joinPush=new kw(this,Pa.join,this.params,this.timeout),this.rejoinTimer=new bB(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Ln.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(o=>o.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Ln.closed,this.socket._remove(this)}),this._onError(o=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,o),this.state=Ln.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Ln.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",o=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,o),this.state=Ln.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Pa.reply,{},(o,l)=>{this._trigger(this._replyEventName(l),o)}),this.presence=new xB(this),this.broadcastEndpointURL=vB(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((a=(i=this.params.config)===null||i===void 0?void 0:i.broadcast)===null||a===void 0)&&a.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(t,n=this.timeout){var r,i,a;if(this.socket.isConnected()||this.socket.connect(),this.state==Ln.closed){const{config:{broadcast:o,presence:l,private:u}}=this.params,d=(i=(r=this.bindings.postgres_changes)===null||r===void 0?void 0:r.map(x=>x.filter))!==null&&i!==void 0?i:[],h=!!this.bindings[Dd.PRESENCE]&&this.bindings[Dd.PRESENCE].length>0||((a=this.params.config.presence)===null||a===void 0?void 0:a.enabled)===!0,p={},b={broadcast:o,presence:Object.assign(Object.assign({},l),{enabled:h}),postgres_changes:d,private:u};this.socket.accessTokenValue&&(p.access_token=this.socket.accessTokenValue),this._onError(x=>t?.(po.CHANNEL_ERROR,x)),this._onClose(()=>t?.(po.CLOSED)),this.updateJoinPayload(Object.assign({config:b},p)),this.joinedOnce=!0,this._rejoin(n),this.joinPush.receive("ok",async({postgres_changes:x})=>{var k;if(this.socket.setAuth(),x===void 0){t?.(po.SUBSCRIBED);return}else{const S=this.bindings.postgres_changes,_=(k=S?.length)!==null&&k!==void 0?k:0,T=[];for(let N=0;N<_;N++){const j=S[N],{filter:{event:C,schema:M,table:P,filter:$}}=j,U=x&&x[N];if(U&&U.event===C&&U.schema===M&&U.table===P&&U.filter===$)T.push(Object.assign(Object.assign({},j),{id:U.id}));else{this.unsubscribe(),this.state=Ln.errored,t?.(po.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=T,t&&t(po.SUBSCRIBED);return}}).receive("error",x=>{this.state=Ln.errored,t?.(po.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(x).join(", ")||"error")))}).receive("timeout",()=>{t?.(po.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,n={}){return await this.send({type:"presence",event:"track",payload:t},n.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,n,r){return this.state===Ln.joined&&t===Dd.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(()=>this.subscribe())),this._on(t,n,r)}async httpSend(t,n,r={}){var i;const a=this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"";if(n==null)return Promise.reject("Payload is required for httpSend()");const o={method:"POST",headers:{Authorization:a,apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:t,payload:n,private:this.private}]})},l=await this._fetchWithTimeout(this.broadcastEndpointURL,o,(i=r.timeout)!==null&&i!==void 0?i:this.timeout);if(l.status===202)return{success:!0};let u=l.statusText;try{const d=await l.json();u=d.error||d.message||u}catch{}return Promise.reject(new Error(u))}async send(t,n={}){var r,i;if(!this._canPush()&&t.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:a,payload:o}=t,u={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:a,payload:o,private:this.private}]})};try{const d=await this._fetchWithTimeout(this.broadcastEndpointURL,u,(r=n.timeout)!==null&&r!==void 0?r:this.timeout);return await((i=d.body)===null||i===void 0?void 0:i.cancel()),d.ok?"ok":"error"}catch(d){return d.name==="AbortError"?"timed out":"error"}}else return new Promise(a=>{var o,l,u;const d=this._push(t.type,t,n.timeout||this.timeout);t.type==="broadcast"&&!(!((u=(l=(o=this.params)===null||o===void 0?void 0:o.config)===null||l===void 0?void 0:l.broadcast)===null||u===void 0)&&u.ack)&&a("ok"),d.receive("ok",()=>a("ok")),d.receive("error",()=>a("error")),d.receive("timeout",()=>a("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=Ln.leaving;const n=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Pa.close,"leave",this._joinRef())};this.joinPush.destroy();let r=null;return new Promise(i=>{r=new kw(this,Pa.leave,{},t),r.receive("ok",()=>{n(),i("ok")}).receive("timeout",()=>{n(),i("timed out")}).receive("error",()=>{i("error")}),r.send(),this._canPush()||r.trigger("ok",{})}).finally(()=>{r?.destroy()})}teardown(){this.pushBuffer.forEach(t=>t.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=Ln.closed,this.bindings={}}async _fetchWithTimeout(t,n,r){const i=new AbortController,a=setTimeout(()=>i.abort(),r),o=await this.socket.fetch(t,Object.assign(Object.assign({},n),{signal:i.signal}));return clearTimeout(a),o}_push(t,n,r=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let i=new kw(this,t,n,r);return this._canPush()?i.send():this._addToPushBuffer(i),i}_addToPushBuffer(t){if(t.startTimeout(),this.pushBuffer.push(t),this.pushBuffer.length>QY){const n=this.pushBuffer.shift();n&&(n.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${n.event}`,n.payload))}}_onMessage(t,n,r){return n}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,n,r){var i,a;const o=t.toLocaleLowerCase(),{close:l,error:u,leave:d,join:h}=Pa;if(r&&[l,u,d,h].indexOf(o)>=0&&r!==this._joinRef())return;let b=this._onMessage(o,n,r);if(n&&!b)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(o)?(i=this.bindings.postgres_changes)===null||i===void 0||i.filter(x=>{var k,S,_;return((k=x.filter)===null||k===void 0?void 0:k.event)==="*"||((_=(S=x.filter)===null||S===void 0?void 0:S.event)===null||_===void 0?void 0:_.toLocaleLowerCase())===o}).map(x=>x.callback(b,r)):(a=this.bindings[o])===null||a===void 0||a.filter(x=>{var k,S,_,T,N,j;if(["broadcast","presence","postgres_changes"].includes(o))if("id"in x){const C=x.id,M=(k=x.filter)===null||k===void 0?void 0:k.event;return C&&((S=n.ids)===null||S===void 0?void 0:S.includes(C))&&(M==="*"||M?.toLocaleLowerCase()===((_=n.data)===null||_===void 0?void 0:_.type.toLocaleLowerCase()))}else{const C=(N=(T=x?.filter)===null||T===void 0?void 0:T.event)===null||N===void 0?void 0:N.toLocaleLowerCase();return C==="*"||C===((j=n?.event)===null||j===void 0?void 0:j.toLocaleLowerCase())}else return x.type.toLocaleLowerCase()===o}).map(x=>{if(typeof b=="object"&&"ids"in b){const k=b.data,{schema:S,table:_,commit_timestamp:T,type:N,errors:j}=k;b=Object.assign(Object.assign({},{schema:S,table:_,commit_timestamp:T,eventType:N,new:{},old:{},errors:j}),this._getPayloadRecords(k))}x.callback(b,r)})}_isClosed(){return this.state===Ln.closed}_isJoined(){return this.state===Ln.joined}_isJoining(){return this.state===Ln.joining}_isLeaving(){return this.state===Ln.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,n,r){const i=t.toLocaleLowerCase(),a={type:i,filter:n,callback:r};return this.bindings[i]?this.bindings[i].push(a):this.bindings[i]=[a],this}_off(t,n){const r=t.toLocaleLowerCase();return this.bindings[r]&&(this.bindings[r]=this.bindings[r].filter(i=>{var a;return!(((a=i.type)===null||a===void 0?void 0:a.toLocaleLowerCase())===r&&wB.isEqual(i.filter,n))})),this}static isEqual(t,n){if(Object.keys(t).length!==Object.keys(n).length)return!1;for(const r in t)if(t[r]!==n[r])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(Pa.close,{},t)}_onError(t){this._on(Pa.error,{},n=>t(n))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Ln.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const n={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(n.new=RC(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(n.old=RC(t.columns,t.old_record)),n}};const Ew=()=>{},y0={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},lK=[1e3,2e3,5e3,1e4],cK=1e4,uK=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;let dK=class{constructor(t,n){var r;if(this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=dk,this.transport=null,this.heartbeatIntervalMs=y0.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=Ew,this.ref=0,this.reconnectTimer=null,this.vsn=PC,this.logger=Ew,this.conn=null,this.sendBuffer=[],this.serializer=new eK,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=i=>i?(...a)=>i(...a):(...a)=>fetch(...a),!(!((r=n?.params)===null||r===void 0)&&r.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=n.params.apikey,this.endPoint=`${t}/${fk.websocket}`,this.httpEndpoint=vB(t),this._initializeOptions(n),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(n?.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this.accessToken&&!this._authPromise&&this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=pB.createWebSocket(this.endpointURL())}catch(t){this._setConnectionState("disconnected");const n=t.message;throw n.includes("Node.js")?new Error(`${n}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${n}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:this.vsn}))}disconnect(t,n){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const r=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(r),this._setConnectionState("disconnected")},typeof this.conn.close=="function"&&(t?this.conn.close(t,n??""):this.conn.close()),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(t){const n=await t.unsubscribe();return this.channels.length===0&&this.disconnect(),n}async removeAllChannels(){const t=await Promise.all(this.channels.map(n=>n.unsubscribe()));return this.channels=[],this.disconnect(),t}log(t,n,r){this.logger(t,n,r)}connectionState(){switch(this.conn&&this.conn.readyState){case Kc.connecting:return Wc.Connecting;case Kc.open:return Wc.Open;case Kc.closing:return Wc.Closing;default:return Wc.Closed}}isConnected(){return this.connectionState()===Wc.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(t,n={config:{}}){const r=`realtime:${t}`,i=this.getChannels().find(a=>a.topic===r);if(i)return i;{const a=new _B(`realtime:${t}`,n,this);return this.channels.push(a),a}}push(t){const{topic:n,event:r,payload:i,ref:a}=t,o=()=>{this.encode(t,l=>{var u;(u=this.conn)===null||u===void 0||u.send(l)})};this.log("push",`${n} ${r} (${a})`,i),this.isConnected()?o():this.sendBuffer.push(o)}async setAuth(t=null){this._authPromise=this._performAuth(t);try{await this._authPromise}finally{this._authPromise=null}}async sendHeartbeat(){var t;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(n){this.log("error","error in heartbeat callback",n)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(n){this.log("error","error in heartbeat callback",n)}this._wasManualDisconnect=!1,(t=this.conn)===null||t===void 0||t.close(JY,"heartbeat timeout"),setTimeout(()=>{var n;this.isConnected()||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout()},y0.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(n){this.log("error","error in heartbeat callback",n)}this._setAuthSafely("heartbeat")}onHeartbeat(t){this.heartbeatCallback=t}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let n=this.channels.find(r=>r.topic===t&&(r._isJoined()||r._isJoining()));n&&(this.log("transport",`leaving duplicate topic "${t}"`),n.unsubscribe())}_remove(t){this.channels=this.channels.filter(n=>n.topic!==t.topic)}_onConnMessage(t){this.decode(t.data,n=>{if(n.topic==="phoenix"&&n.event==="phx_reply")try{this.heartbeatCallback(n.payload.status==="ok"?"ok":"error")}catch(d){this.log("error","error in heartbeat callback",d)}n.ref&&n.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:r,event:i,payload:a,ref:o}=n,l=o?`(${o})`:"",u=a.status||"";this.log("receive",`${u} ${r} ${i} ${l}`.trim(),a),this.channels.filter(d=>d._isMember(r)).forEach(d=>d._trigger(i,a,o)),this._triggerStateCallbacks("message",n)})}_clearTimer(t){var n;t==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):t==="reconnect"&&((n=this.reconnectTimer)===null||n===void 0||n.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t))}_teardownConnection(){if(this.conn){if(this.conn.readyState===Kc.open||this.conn.readyState===Kc.connecting)try{this.conn.close()}catch(t){this.log("error","Error closing connection",t)}this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null}this._clearAllTimers(),this.channels.forEach(t=>t.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),(this._authPromise||(this.accessToken&&!this.accessTokenValue?this.setAuth():Promise.resolve())).then(()=>{this.flushSendBuffer()}).catch(n=>{this.log("error","error waiting for auth on connect",n),this.flushSendBuffer()}),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=n=>{this.log("worker","worker error",n.message),this.workerRef.terminate()},this.workerRef.onmessage=n=>{n.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(t){var n;this._setConnectionState("disconnected"),this.log("transport","close",t),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout(),this._triggerStateCallbacks("close",t)}_onConnError(t){this._setConnectionState("disconnected"),this.log("transport",`${t}`),this._triggerChanError(),this._triggerStateCallbacks("error",t)}_triggerChanError(){this.channels.forEach(t=>t._trigger(Pa.error))}_appendParams(t,n){if(Object.keys(n).length===0)return t;const r=t.match(/\?/)?"&":"?",i=new URLSearchParams(n);return`${t}${r}${i}`}_workerObjectUrl(t){let n;if(t)n=t;else{const r=new Blob([uK],{type:"application/javascript"});n=URL.createObjectURL(r)}return n}_setConnectionState(t,n=!1){this._connectionState=t,t==="connecting"?this._wasManualDisconnect=!1:t==="disconnecting"&&(this._wasManualDisconnect=n)}async _performAuth(t=null){let n;t?n=t:this.accessToken?n=await this.accessToken():n=this.accessTokenValue,this.accessTokenValue!=n&&(this.accessTokenValue=n,this.channels.forEach(r=>{const i={access_token:n,version:ZY};n&&r.updateJoinPayload(i),r.joinedOnce&&r._isJoined()&&r._push(Pa.access_token,{access_token:n})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(t="general"){this.setAuth().catch(n=>{this.log("error",`error setting auth in ${t}`,n)})}_triggerStateCallbacks(t,n){try{this.stateChangeCallbacks[t].forEach(r=>{try{r(n)}catch(i){this.log("error",`error in ${t} callback`,i)}})}catch(r){this.log("error",`error triggering ${t} callbacks`,r)}}_setupReconnectionTimer(){this.reconnectTimer=new bB(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},y0.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(t){var n,r,i,a,o,l,u,d,h,p,b,x;switch(this.transport=(n=t?.transport)!==null&&n!==void 0?n:null,this.timeout=(r=t?.timeout)!==null&&r!==void 0?r:dk,this.heartbeatIntervalMs=(i=t?.heartbeatIntervalMs)!==null&&i!==void 0?i:y0.HEARTBEAT_INTERVAL,this.worker=(a=t?.worker)!==null&&a!==void 0?a:!1,this.accessToken=(o=t?.accessToken)!==null&&o!==void 0?o:null,this.heartbeatCallback=(l=t?.heartbeatCallback)!==null&&l!==void 0?l:Ew,this.vsn=(u=t?.vsn)!==null&&u!==void 0?u:PC,t?.params&&(this.params=t.params),t?.logger&&(this.logger=t.logger),(t?.logLevel||t?.log_level)&&(this.logLevel=t.logLevel||t.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(d=t?.reconnectAfterMs)!==null&&d!==void 0?d:(k=>lK[k-1]||cK),this.vsn){case gB:this.encode=(h=t?.encode)!==null&&h!==void 0?h:((k,S)=>S(JSON.stringify(k))),this.decode=(p=t?.decode)!==null&&p!==void 0?p:((k,S)=>S(JSON.parse(k)));break;case XY:this.encode=(b=t?.encode)!==null&&b!==void 0?b:this.serializer.encode.bind(this.serializer),this.decode=(x=t?.decode)!==null&&x!==void 0?x:this.serializer.decode.bind(this.serializer);break;default:throw new Error(`Unsupported serializer version: ${this.vsn}`)}if(this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=t?.workerUrl}}};const fK=Object.freeze(Object.defineProperty({__proto__:null,REALTIME_CHANNEL_STATES:sK,get REALTIME_LISTEN_TYPES(){return Dd},get REALTIME_POSTGRES_CHANGES_LISTEN_EVENT(){return pk},get REALTIME_PRESENCE_LISTEN_EVENTS(){return mk},get REALTIME_SUBSCRIBE_STATES(){return po},RealtimeChannel:_B,RealtimeClient:dK,RealtimePresence:xB,WebSocketFactory:pB},Symbol.toStringTag,{value:"Module"})),SB=Qm(fK);class rp extends Error{constructor(t){super(t),this.__isStorageError=!0,this.name="StorageError"}}function nn(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}class kB extends rp{constructor(t,n,r){super(t),this.name="StorageApiError",this.status=n,this.statusCode=r}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class Lb extends rp{constructor(t,n){super(t),this.name="StorageUnknownError",this.originalError=n}}const g2=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),hK=()=>Response,gk=e=>{if(Array.isArray(e))return e.map(n=>gk(n));if(typeof e=="function"||e!==Object(e))return e;const t={};return Object.entries(e).forEach(([n,r])=>{const i=n.replace(/([-_][a-z])/gi,a=>a.toUpperCase().replace(/[-_]/g,""));t[i]=gk(r)}),t},mK=e=>{if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},pK=e=>!e||typeof e!="string"||e.length===0||e.length>100||e.trim()!==e||e.includes("/")||e.includes("\\")?!1:/^[\w!.\*'() &$@=;:+,?-]+$/.test(e),Aw=e=>{var t;return e.msg||e.message||e.error_description||(typeof e.error=="string"?e.error:(t=e.error)===null||t===void 0?void 0:t.message)||JSON.stringify(e)},gK=(e,t,n)=>Ue(void 0,void 0,void 0,function*(){const r=yield hK();e instanceof r&&!n?.noResolveJson?e.json().then(i=>{const a=e.status||500,o=i?.statusCode||a+"";t(new kB(Aw(i),a,o))}).catch(i=>{t(new Lb(Aw(i),i))}):t(new Lb(Aw(e),e))}),bK=(e,t,n,r)=>{const i={method:e,headers:t?.headers||{}};return e==="GET"||!r?i:(mK(r)?(i.headers=Object.assign({"Content-Type":"application/json"},t?.headers),i.body=JSON.stringify(r)):i.body=r,t?.duplex&&(i.duplex=t.duplex),Object.assign(Object.assign({},i),n))};function ip(e,t,n,r,i,a){return Ue(this,void 0,void 0,function*(){return new Promise((o,l)=>{e(n,bK(t,r,i,a)).then(u=>{if(!u.ok)throw u;return r?.noResolveJson?u:u.json()}).then(u=>o(u)).catch(u=>gK(u,l,r))})})}function wm(e,t,n,r){return Ue(this,void 0,void 0,function*(){return ip(e,"GET",t,n,r)})}function Da(e,t,n,r,i){return Ue(this,void 0,void 0,function*(){return ip(e,"POST",t,r,i,n)})}function bk(e,t,n,r,i){return Ue(this,void 0,void 0,function*(){return ip(e,"PUT",t,r,i,n)})}function yK(e,t,n,r){return Ue(this,void 0,void 0,function*(){return ip(e,"HEAD",t,Object.assign(Object.assign({},n),{noResolveJson:!0}),r)})}function b2(e,t,n,r,i){return Ue(this,void 0,void 0,function*(){return ip(e,"DELETE",t,r,i,n)})}class vK{constructor(t,n){this.downloadFn=t,this.shouldThrowOnError=n}then(t,n){return this.execute().then(t,n)}execute(){return Ue(this,void 0,void 0,function*(){try{return{data:(yield this.downloadFn()).body,error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(nn(t))return{data:null,error:t};throw t}})}}var EB;class xK{constructor(t,n){this.downloadFn=t,this.shouldThrowOnError=n,this[EB]="BlobDownloadBuilder",this.promise=null}asStream(){return new vK(this.downloadFn,this.shouldThrowOnError)}then(t,n){return this.getPromise().then(t,n)}catch(t){return this.getPromise().catch(t)}finally(t){return this.getPromise().finally(t)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}execute(){return Ue(this,void 0,void 0,function*(){try{return{data:yield(yield this.downloadFn()).blob(),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(nn(t))return{data:null,error:t};throw t}})}}EB=Symbol.toStringTag;const _K={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},LC={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class wK{constructor(t,n={},r,i){this.shouldThrowOnError=!1,this.url=t,this.headers=n,this.bucketId=r,this.fetch=g2(i)}throwOnError(){return this.shouldThrowOnError=!0,this}uploadOrUpdate(t,n,r,i){return Ue(this,void 0,void 0,function*(){try{let a;const o=Object.assign(Object.assign({},LC),i);let l=Object.assign(Object.assign({},this.headers),t==="POST"&&{"x-upsert":String(o.upsert)});const u=o.metadata;typeof Blob<"u"&&r instanceof Blob?(a=new FormData,a.append("cacheControl",o.cacheControl),u&&a.append("metadata",this.encodeMetadata(u)),a.append("",r)):typeof FormData<"u"&&r instanceof FormData?(a=r,a.has("cacheControl")||a.append("cacheControl",o.cacheControl),u&&!a.has("metadata")&&a.append("metadata",this.encodeMetadata(u))):(a=r,l["cache-control"]=`max-age=${o.cacheControl}`,l["content-type"]=o.contentType,u&&(l["x-metadata"]=this.toBase64(this.encodeMetadata(u))),(typeof ReadableStream<"u"&&a instanceof ReadableStream||a&&typeof a=="object"&&"pipe"in a&&typeof a.pipe=="function")&&!o.duplex&&(o.duplex="half")),i?.headers&&(l=Object.assign(Object.assign({},l),i.headers));const d=this._removeEmptyFolders(n),h=this._getFinalPath(d),p=yield(t=="PUT"?bk:Da)(this.fetch,`${this.url}/object/${h}`,a,Object.assign({headers:l},o?.duplex?{duplex:o.duplex}:{}));return{data:{path:d,id:p.Id,fullPath:p.Key},error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(nn(a))return{data:null,error:a};throw a}})}upload(t,n,r){return Ue(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",t,n,r)})}uploadToSignedUrl(t,n,r,i){return Ue(this,void 0,void 0,function*(){const a=this._removeEmptyFolders(t),o=this._getFinalPath(a),l=new URL(this.url+`/object/upload/sign/${o}`);l.searchParams.set("token",n);try{let u;const d=Object.assign({upsert:LC.upsert},i),h=Object.assign(Object.assign({},this.headers),{"x-upsert":String(d.upsert)});typeof Blob<"u"&&r instanceof Blob?(u=new FormData,u.append("cacheControl",d.cacheControl),u.append("",r)):typeof FormData<"u"&&r instanceof FormData?(u=r,u.append("cacheControl",d.cacheControl)):(u=r,h["cache-control"]=`max-age=${d.cacheControl}`,h["content-type"]=d.contentType);const p=yield bk(this.fetch,l.toString(),u,{headers:h});return{data:{path:a,fullPath:p.Key},error:null}}catch(u){if(this.shouldThrowOnError)throw u;if(nn(u))return{data:null,error:u};throw u}})}createSignedUploadUrl(t,n){return Ue(this,void 0,void 0,function*(){try{let r=this._getFinalPath(t);const i=Object.assign({},this.headers);n?.upsert&&(i["x-upsert"]="true");const a=yield Da(this.fetch,`${this.url}/object/upload/sign/${r}`,{},{headers:i}),o=new URL(this.url+a.url),l=o.searchParams.get("token");if(!l)throw new rp("No token returned by API");return{data:{signedUrl:o.toString(),path:t,token:l},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(nn(r))return{data:null,error:r};throw r}})}update(t,n,r){return Ue(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",t,n,r)})}move(t,n,r){return Ue(this,void 0,void 0,function*(){try{return{data:yield Da(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:t,destinationKey:n,destinationBucket:r?.destinationBucket},{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(nn(i))return{data:null,error:i};throw i}})}copy(t,n,r){return Ue(this,void 0,void 0,function*(){try{return{data:{path:(yield Da(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:t,destinationKey:n,destinationBucket:r?.destinationBucket},{headers:this.headers})).Key},error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(nn(i))return{data:null,error:i};throw i}})}createSignedUrl(t,n,r){return Ue(this,void 0,void 0,function*(){try{let i=this._getFinalPath(t),a=yield Da(this.fetch,`${this.url}/object/sign/${i}`,Object.assign({expiresIn:n},r?.transform?{transform:r.transform}:{}),{headers:this.headers});const o=r?.download?`&download=${r.download===!0?"":r.download}`:"";return a={signedUrl:encodeURI(`${this.url}${a.signedURL}${o}`)},{data:a,error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(nn(i))return{data:null,error:i};throw i}})}createSignedUrls(t,n,r){return Ue(this,void 0,void 0,function*(){try{const i=yield Da(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:n,paths:t},{headers:this.headers}),a=r?.download?`&download=${r.download===!0?"":r.download}`:"";return{data:i.map(o=>Object.assign(Object.assign({},o),{signedUrl:o.signedURL?encodeURI(`${this.url}${o.signedURL}${a}`):null})),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(nn(i))return{data:null,error:i};throw i}})}download(t,n){const i=typeof n?.transform<"u"?"render/image/authenticated":"object",a=this.transformOptsToQueryString(n?.transform||{}),o=a?`?${a}`:"",l=this._getFinalPath(t),u=()=>wm(this.fetch,`${this.url}/${i}/${l}${o}`,{headers:this.headers,noResolveJson:!0});return new xK(u,this.shouldThrowOnError)}info(t){return Ue(this,void 0,void 0,function*(){const n=this._getFinalPath(t);try{const r=yield wm(this.fetch,`${this.url}/object/info/${n}`,{headers:this.headers});return{data:gk(r),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(nn(r))return{data:null,error:r};throw r}})}exists(t){return Ue(this,void 0,void 0,function*(){const n=this._getFinalPath(t);try{return yield yK(this.fetch,`${this.url}/object/${n}`,{headers:this.headers}),{data:!0,error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(nn(r)&&r instanceof Lb){const i=r.originalError;if([400,404].includes(i?.status))return{data:!1,error:r}}throw r}})}getPublicUrl(t,n){const r=this._getFinalPath(t),i=[],a=n?.download?`download=${n.download===!0?"":n.download}`:"";a!==""&&i.push(a);const l=typeof n?.transform<"u"?"render/image":"object",u=this.transformOptsToQueryString(n?.transform||{});u!==""&&i.push(u);let d=i.join("&");return d!==""&&(d=`?${d}`),{data:{publicUrl:encodeURI(`${this.url}/${l}/public/${r}${d}`)}}}remove(t){return Ue(this,void 0,void 0,function*(){try{return{data:yield b2(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:t},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(nn(n))return{data:null,error:n};throw n}})}list(t,n,r){return Ue(this,void 0,void 0,function*(){try{const i=Object.assign(Object.assign(Object.assign({},_K),n),{prefix:t||""});return{data:yield Da(this.fetch,`${this.url}/object/list/${this.bucketId}`,i,{headers:this.headers},r),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(nn(i))return{data:null,error:i};throw i}})}listV2(t,n){return Ue(this,void 0,void 0,function*(){try{const r=Object.assign({},t);return{data:yield Da(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,r,{headers:this.headers},n),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(nn(r))return{data:null,error:r};throw r}})}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return typeof Buffer<"u"?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t.replace(/^\/+/,"")}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){const n=[];return t.width&&n.push(`width=${t.width}`),t.height&&n.push(`height=${t.height}`),t.resize&&n.push(`resize=${t.resize}`),t.format&&n.push(`format=${t.format}`),t.quality&&n.push(`quality=${t.quality}`),n.join("&")}}const AB="2.86.2",TB={"X-Client-Info":`storage-js/${AB}`};class SK{constructor(t,n={},r,i){this.shouldThrowOnError=!1;const a=new URL(t);i?.useNewHostname&&/supabase\.(co|in|red)$/.test(a.hostname)&&!a.hostname.includes("storage.supabase.")&&(a.hostname=a.hostname.replace("supabase.","storage.supabase.")),this.url=a.href.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},TB),n),this.fetch=g2(r)}throwOnError(){return this.shouldThrowOnError=!0,this}listBuckets(t){return Ue(this,void 0,void 0,function*(){try{const n=this.listBucketOptionsToQueryString(t);return{data:yield wm(this.fetch,`${this.url}/bucket${n}`,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(nn(n))return{data:null,error:n};throw n}})}getBucket(t){return Ue(this,void 0,void 0,function*(){try{return{data:yield wm(this.fetch,`${this.url}/bucket/${t}`,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(nn(n))return{data:null,error:n};throw n}})}createBucket(t){return Ue(this,arguments,void 0,function*(n,r={public:!1}){try{return{data:yield Da(this.fetch,`${this.url}/bucket`,{id:n,name:n,type:r.type,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(nn(i))return{data:null,error:i};throw i}})}updateBucket(t,n){return Ue(this,void 0,void 0,function*(){try{return{data:yield bk(this.fetch,`${this.url}/bucket/${t}`,{id:t,name:t,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(nn(r))return{data:null,error:r};throw r}})}emptyBucket(t){return Ue(this,void 0,void 0,function*(){try{return{data:yield Da(this.fetch,`${this.url}/bucket/${t}/empty`,{},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(nn(n))return{data:null,error:n};throw n}})}deleteBucket(t){return Ue(this,void 0,void 0,function*(){try{return{data:yield b2(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(nn(n))return{data:null,error:n};throw n}})}listBucketOptionsToQueryString(t){const n={};return t&&("limit"in t&&(n.limit=String(t.limit)),"offset"in t&&(n.offset=String(t.offset)),t.search&&(n.search=t.search),t.sortColumn&&(n.sortColumn=t.sortColumn),t.sortOrder&&(n.sortOrder=t.sortOrder)),Object.keys(n).length>0?"?"+new URLSearchParams(n).toString():""}}var Sm=class extends Error{constructor(e,t){super(e),this.name="IcebergError",this.status=t.status,this.icebergType=t.icebergType,this.icebergCode=t.icebergCode,this.details=t.details,this.isCommitStateUnknown=t.icebergType==="CommitStateUnknownException"||[500,502,504].includes(t.status)&&t.icebergType?.includes("CommitState")===!0}isNotFound(){return this.status===404}isConflict(){return this.status===409}isAuthenticationTimeout(){return this.status===419}};function kK(e,t,n){const r=new URL(t,e);if(n)for(const[i,a]of Object.entries(n))a!==void 0&&r.searchParams.set(i,a);return r.toString()}async function EK(e){return!e||e.type==="none"?{}:e.type==="bearer"?{Authorization:`Bearer ${e.token}`}:e.type==="header"?{[e.name]:e.value}:e.type==="custom"?await e.getHeaders():{}}function AK(e){const t=e.fetchImpl??globalThis.fetch;return{async request({method:n,path:r,query:i,body:a,headers:o}){const l=kK(e.baseUrl,r,i),u=await EK(e.auth),d=await t(l,{method:n,headers:{...a?{"Content-Type":"application/json"}:{},...u,...o},body:a?JSON.stringify(a):void 0}),h=await d.text(),p=(d.headers.get("content-type")||"").includes("application/json"),b=p&&h?JSON.parse(h):h;if(!d.ok){const x=p?b:void 0,k=x?.error;throw new Sm(k?.message??`Request failed with status ${d.status}`,{status:d.status,icebergType:k?.type,icebergCode:k?.code,details:x})}return{status:d.status,headers:d.headers,data:b}}}}function v0(e){return e.join("")}var TK=class{constructor(e,t=""){this.client=e,this.prefix=t}async listNamespaces(e){const t=e?{parent:v0(e.namespace)}:void 0;return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces`,query:t})).data.namespaces.map(r=>({namespace:r}))}async createNamespace(e,t){const n={namespace:e.namespace,properties:t?.properties};return(await this.client.request({method:"POST",path:`${this.prefix}/namespaces`,body:n})).data}async dropNamespace(e){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${v0(e.namespace)}`})}async loadNamespaceMetadata(e){return{properties:(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${v0(e.namespace)}`})).data.properties}}async namespaceExists(e){try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${v0(e.namespace)}`}),!0}catch(t){if(t instanceof Sm&&t.status===404)return!1;throw t}}async createNamespaceIfNotExists(e,t){try{return await this.createNamespace(e,t)}catch(n){if(n instanceof Sm&&n.status===409)return;throw n}}};function ld(e){return e.join("")}var jK=class{constructor(e,t="",n){this.client=e,this.prefix=t,this.accessDelegation=n}async listTables(e){return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${ld(e.namespace)}/tables`})).data.identifiers}async createTable(e,t){const n={};return this.accessDelegation&&(n["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${ld(e.namespace)}/tables`,body:t,headers:n})).data.metadata}async updateTable(e,t){const n=await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${ld(e.namespace)}/tables/${e.name}`,body:t});return{"metadata-location":n.data["metadata-location"],metadata:n.data.metadata}}async dropTable(e,t){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${ld(e.namespace)}/tables/${e.name}`,query:{purgeRequested:String(t?.purge??!1)}})}async loadTable(e){const t={};return this.accessDelegation&&(t["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${ld(e.namespace)}/tables/${e.name}`,headers:t})).data.metadata}async tableExists(e){const t={};this.accessDelegation&&(t["X-Iceberg-Access-Delegation"]=this.accessDelegation);try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${ld(e.namespace)}/tables/${e.name}`,headers:t}),!0}catch(n){if(n instanceof Sm&&n.status===404)return!1;throw n}}async createTableIfNotExists(e,t){try{return await this.createTable(e,t)}catch(n){if(n instanceof Sm&&n.status===409)return await this.loadTable({namespace:e.namespace,name:t.name});throw n}}},OK=class{constructor(e){let t="v1";e.catalogName&&(t+=`/${e.catalogName}`);const n=e.baseUrl.endsWith("/")?e.baseUrl:`${e.baseUrl}/`;this.client=AK({baseUrl:n,auth:e.auth,fetchImpl:e.fetch}),this.accessDelegation=e.accessDelegation?.join(","),this.namespaceOps=new TK(this.client,t),this.tableOps=new jK(this.client,t,this.accessDelegation)}async listNamespaces(e){return this.namespaceOps.listNamespaces(e)}async createNamespace(e,t){return this.namespaceOps.createNamespace(e,t)}async dropNamespace(e){await this.namespaceOps.dropNamespace(e)}async loadNamespaceMetadata(e){return this.namespaceOps.loadNamespaceMetadata(e)}async listTables(e){return this.tableOps.listTables(e)}async createTable(e,t){return this.tableOps.createTable(e,t)}async updateTable(e,t){return this.tableOps.updateTable(e,t)}async dropTable(e,t){await this.tableOps.dropTable(e,t)}async loadTable(e){return this.tableOps.loadTable(e)}async namespaceExists(e){return this.namespaceOps.namespaceExists(e)}async tableExists(e){return this.tableOps.tableExists(e)}async createNamespaceIfNotExists(e,t){return this.namespaceOps.createNamespaceIfNotExists(e,t)}async createTableIfNotExists(e,t){return this.tableOps.createTableIfNotExists(e,t)}};class jB{constructor(t,n={},r){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},TB),n),this.fetch=g2(r)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(t){return Ue(this,void 0,void 0,function*(){try{return{data:yield Da(this.fetch,`${this.url}/bucket`,{name:t},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(nn(n))return{data:null,error:n};throw n}})}listBuckets(t){return Ue(this,void 0,void 0,function*(){try{const n=new URLSearchParams;t?.limit!==void 0&&n.set("limit",t.limit.toString()),t?.offset!==void 0&&n.set("offset",t.offset.toString()),t?.sortColumn&&n.set("sortColumn",t.sortColumn),t?.sortOrder&&n.set("sortOrder",t.sortOrder),t?.search&&n.set("search",t.search);const r=n.toString(),i=r?`${this.url}/bucket?${r}`:`${this.url}/bucket`;return{data:yield wm(this.fetch,i,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(nn(n))return{data:null,error:n};throw n}})}deleteBucket(t){return Ue(this,void 0,void 0,function*(){try{return{data:yield b2(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(nn(n))return{data:null,error:n};throw n}})}from(t){if(!pK(t))throw new rp("Invalid bucket name: File, folder, and bucket names must follow AWS object key naming guidelines and should avoid the use of any other characters.");return new OK({baseUrl:this.url,catalogName:t,auth:{type:"custom",getHeaders:()=>Ue(this,void 0,void 0,function*(){return this.headers})},fetch:this.fetch})}}const y2={"X-Client-Info":`storage-js/${AB}`,"Content-Type":"application/json"};class v2 extends Error{constructor(t){super(t),this.__isStorageVectorsError=!0,this.name="StorageVectorsError"}}function li(e){return typeof e=="object"&&e!==null&&"__isStorageVectorsError"in e}class gb extends v2{constructor(t,n,r){super(t),this.name="StorageVectorsApiError",this.status=n,this.statusCode=r}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class OB extends v2{constructor(t,n){super(t),this.name="StorageVectorsUnknownError",this.originalError=n}}var yk;(function(e){e.InternalError="InternalError",e.S3VectorConflictException="S3VectorConflictException",e.S3VectorNotFoundException="S3VectorNotFoundException",e.S3VectorBucketNotEmpty="S3VectorBucketNotEmpty",e.S3VectorMaxBucketsExceeded="S3VectorMaxBucketsExceeded",e.S3VectorMaxIndexesExceeded="S3VectorMaxIndexesExceeded"})(yk||(yk={}));const uv=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),NK=()=>Response,NB=e=>{if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},CK=e=>Array.from(new Float32Array(e)),MK=(e,t)=>{if(t!==void 0&&e.float32.length!==t)throw new Error(`Vector dimension mismatch: expected ${t}, got ${e.float32.length}`)},IC=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),DK=(e,t,n)=>Ue(void 0,void 0,void 0,function*(){if(e&&typeof e=="object"&&"status"in e&&"ok"in e&&typeof e.status=="number"&&!n?.noResolveJson){const i=e.status||500,a=e;if(typeof a.json=="function")a.json().then(o=>{const l=o?.statusCode||o?.code||i+"";t(new gb(IC(o),i,l))}).catch(()=>{const o=i+"",l=a.statusText||`HTTP ${i} error`;t(new gb(l,i,o))});else{const o=i+"",l=a.statusText||`HTTP ${i} error`;t(new gb(l,i,o))}}else t(new OB(IC(e),e))}),PK=(e,t,n,r)=>{const i={method:e,headers:t?.headers||{}};return r?(NB(r)?(i.headers=Object.assign({"Content-Type":"application/json"},t?.headers),i.body=JSON.stringify(r)):i.body=r,Object.assign(Object.assign({},i),n)):i};function RK(e,t,n,r,i,a){return Ue(this,void 0,void 0,function*(){return new Promise((o,l)=>{e(n,PK(t,r,i,a)).then(u=>{if(!u.ok)throw u;if(r?.noResolveJson)return u;const d=u.headers.get("content-type");return!d||!d.includes("application/json")?{}:u.json()}).then(u=>o(u)).catch(u=>DK(u,l,r))})})}function Di(e,t,n,r,i){return Ue(this,void 0,void 0,function*(){return RK(e,"POST",t,r,i,n)})}class CB{constructor(t,n={},r){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},y2),n),this.fetch=uv(r)}throwOnError(){return this.shouldThrowOnError=!0,this}createIndex(t){return Ue(this,void 0,void 0,function*(){try{return{data:(yield Di(this.fetch,`${this.url}/CreateIndex`,t,{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(li(n))return{data:null,error:n};throw n}})}getIndex(t,n){return Ue(this,void 0,void 0,function*(){try{return{data:yield Di(this.fetch,`${this.url}/GetIndex`,{vectorBucketName:t,indexName:n},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(li(r))return{data:null,error:r};throw r}})}listIndexes(t){return Ue(this,void 0,void 0,function*(){try{return{data:yield Di(this.fetch,`${this.url}/ListIndexes`,t,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(li(n))return{data:null,error:n};throw n}})}deleteIndex(t,n){return Ue(this,void 0,void 0,function*(){try{return{data:(yield Di(this.fetch,`${this.url}/DeleteIndex`,{vectorBucketName:t,indexName:n},{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(li(r))return{data:null,error:r};throw r}})}}class MB{constructor(t,n={},r){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},y2),n),this.fetch=uv(r)}throwOnError(){return this.shouldThrowOnError=!0,this}putVectors(t){return Ue(this,void 0,void 0,function*(){try{if(t.vectors.length<1||t.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return{data:(yield Di(this.fetch,`${this.url}/PutVectors`,t,{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(li(n))return{data:null,error:n};throw n}})}getVectors(t){return Ue(this,void 0,void 0,function*(){try{return{data:yield Di(this.fetch,`${this.url}/GetVectors`,t,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(li(n))return{data:null,error:n};throw n}})}listVectors(t){return Ue(this,void 0,void 0,function*(){try{if(t.segmentCount!==void 0){if(t.segmentCount<1||t.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(t.segmentIndex!==void 0&&(t.segmentIndex<0||t.segmentIndex>=t.segmentCount))throw new Error(`segmentIndex must be between 0 and ${t.segmentCount-1}`)}return{data:yield Di(this.fetch,`${this.url}/ListVectors`,t,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(li(n))return{data:null,error:n};throw n}})}queryVectors(t){return Ue(this,void 0,void 0,function*(){try{return{data:yield Di(this.fetch,`${this.url}/QueryVectors`,t,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(li(n))return{data:null,error:n};throw n}})}deleteVectors(t){return Ue(this,void 0,void 0,function*(){try{if(t.keys.length<1||t.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return{data:(yield Di(this.fetch,`${this.url}/DeleteVectors`,t,{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(li(n))return{data:null,error:n};throw n}})}}class DB{constructor(t,n={},r){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},y2),n),this.fetch=uv(r)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(t){return Ue(this,void 0,void 0,function*(){try{return{data:(yield Di(this.fetch,`${this.url}/CreateVectorBucket`,{vectorBucketName:t},{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(li(n))return{data:null,error:n};throw n}})}getBucket(t){return Ue(this,void 0,void 0,function*(){try{return{data:yield Di(this.fetch,`${this.url}/GetVectorBucket`,{vectorBucketName:t},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(li(n))return{data:null,error:n};throw n}})}listBuckets(){return Ue(this,arguments,void 0,function*(t={}){try{return{data:yield Di(this.fetch,`${this.url}/ListVectorBuckets`,t,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(li(n))return{data:null,error:n};throw n}})}deleteBucket(t){return Ue(this,void 0,void 0,function*(){try{return{data:(yield Di(this.fetch,`${this.url}/DeleteVectorBucket`,{vectorBucketName:t},{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(li(n))return{data:null,error:n};throw n}})}}class PB extends DB{constructor(t,n={}){super(t,n.headers||{},n.fetch)}from(t){return new RB(this.url,this.headers,t,this.fetch)}createBucket(t){const n=Object.create(null,{createBucket:{get:()=>super.createBucket}});return Ue(this,void 0,void 0,function*(){return n.createBucket.call(this,t)})}getBucket(t){const n=Object.create(null,{getBucket:{get:()=>super.getBucket}});return Ue(this,void 0,void 0,function*(){return n.getBucket.call(this,t)})}listBuckets(){const t=Object.create(null,{listBuckets:{get:()=>super.listBuckets}});return Ue(this,arguments,void 0,function*(n={}){return t.listBuckets.call(this,n)})}deleteBucket(t){const n=Object.create(null,{deleteBucket:{get:()=>super.deleteBucket}});return Ue(this,void 0,void 0,function*(){return n.deleteBucket.call(this,t)})}}class RB extends CB{constructor(t,n,r,i){super(t,n,i),this.vectorBucketName=r}createIndex(t){const n=Object.create(null,{createIndex:{get:()=>super.createIndex}});return Ue(this,void 0,void 0,function*(){return n.createIndex.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName}))})}listIndexes(){const t=Object.create(null,{listIndexes:{get:()=>super.listIndexes}});return Ue(this,arguments,void 0,function*(n={}){return t.listIndexes.call(this,Object.assign(Object.assign({},n),{vectorBucketName:this.vectorBucketName}))})}getIndex(t){const n=Object.create(null,{getIndex:{get:()=>super.getIndex}});return Ue(this,void 0,void 0,function*(){return n.getIndex.call(this,this.vectorBucketName,t)})}deleteIndex(t){const n=Object.create(null,{deleteIndex:{get:()=>super.deleteIndex}});return Ue(this,void 0,void 0,function*(){return n.deleteIndex.call(this,this.vectorBucketName,t)})}index(t){return new LB(this.url,this.headers,this.vectorBucketName,t,this.fetch)}}class LB extends MB{constructor(t,n,r,i,a){super(t,n,a),this.vectorBucketName=r,this.indexName=i}putVectors(t){const n=Object.create(null,{putVectors:{get:()=>super.putVectors}});return Ue(this,void 0,void 0,function*(){return n.putVectors.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}getVectors(t){const n=Object.create(null,{getVectors:{get:()=>super.getVectors}});return Ue(this,void 0,void 0,function*(){return n.getVectors.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}listVectors(){const t=Object.create(null,{listVectors:{get:()=>super.listVectors}});return Ue(this,arguments,void 0,function*(n={}){return t.listVectors.call(this,Object.assign(Object.assign({},n),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}queryVectors(t){const n=Object.create(null,{queryVectors:{get:()=>super.queryVectors}});return Ue(this,void 0,void 0,function*(){return n.queryVectors.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}deleteVectors(t){const n=Object.create(null,{deleteVectors:{get:()=>super.deleteVectors}});return Ue(this,void 0,void 0,function*(){return n.deleteVectors.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}}class LK extends SK{constructor(t,n={},r,i){super(t,n,r,i)}from(t){return new wK(this.url,this.headers,t,this.fetch)}get vectors(){return new PB(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new jB(this.url+"/iceberg",this.headers,this.fetch)}}const IK=Object.freeze(Object.defineProperty({__proto__:null,StorageAnalyticsClient:jB,StorageApiError:kB,StorageClient:LK,StorageError:rp,StorageUnknownError:Lb,StorageVectorsApiError:gb,StorageVectorsClient:PB,StorageVectorsError:v2,get StorageVectorsErrorCode(){return yk},StorageVectorsUnknownError:OB,VectorBucketApi:DB,VectorBucketScope:RB,VectorDataApi:MB,VectorIndexApi:CB,VectorIndexScope:LB,isPlainObject:NB,isStorageError:nn,isStorageVectorsError:li,normalizeToFloat32:CK,resolveFetch:uv,resolveResponse:NK,validateVectorDimension:MK},Symbol.toStringTag,{value:"Module"})),$K=Qm(IK);var Tw={},Ch={},$C;function BK(){return $C||($C=1,Object.defineProperty(Ch,"__esModule",{value:!0}),Ch.version=void 0,Ch.version="2.86.2"),Ch}var BC;function zK(){return BC||(BC=1,(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.DEFAULT_REALTIME_OPTIONS=e.DEFAULT_AUTH_OPTIONS=e.DEFAULT_DB_OPTIONS=e.DEFAULT_GLOBAL_OPTIONS=e.DEFAULT_HEADERS=void 0;const t=BK();let n="";typeof Deno<"u"?n="deno":typeof document<"u"?n="web":typeof navigator<"u"&&navigator.product==="ReactNative"?n="react-native":n="node",e.DEFAULT_HEADERS={"X-Client-Info":`supabase-js-${n}/${t.version}`},e.DEFAULT_GLOBAL_OPTIONS={headers:e.DEFAULT_HEADERS},e.DEFAULT_DB_OPTIONS={schema:"public"},e.DEFAULT_AUTH_OPTIONS={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},e.DEFAULT_REALTIME_OPTIONS={}})(Tw)),Tw}var jw={},zC;function UK(){return zC||(zC=1,(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.fetchWithAuth=e.resolveHeadersConstructor=e.resolveFetch=void 0;const t=i=>i?(...a)=>i(...a):(...a)=>fetch(...a);e.resolveFetch=t;const n=()=>Headers;e.resolveHeadersConstructor=n;const r=(i,a,o)=>{const l=(0,e.resolveFetch)(o),u=(0,e.resolveHeadersConstructor)();return async(d,h)=>{var p;const b=(p=await a())!==null&&p!==void 0?p:i;let x=new u(h?.headers);return x.has("apikey")||x.set("apikey",i),x.has("Authorization")||x.set("Authorization",`Bearer ${b}`),l(d,Object.assign(Object.assign({},h),{headers:x}))}};e.fetchWithAuth=r})(jw)),jw}var os={},UC;function FK(){if(UC)return os;UC=1,Object.defineProperty(os,"__esModule",{value:!0}),os.isBrowser=void 0,os.uuid=e,os.ensureTrailingSlash=t,os.applySettingDefaults=r,os.validateSupabaseUrl=i;function e(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(a){var o=Math.random()*16|0,l=a=="x"?o:o&3|8;return l.toString(16)})}function t(a){return a.endsWith("/")?a:a+"/"}const n=()=>typeof window<"u";os.isBrowser=n;function r(a,o){var l,u;const{db:d,auth:h,realtime:p,global:b}=a,{db:x,auth:k,realtime:S,global:_}=o,T={db:Object.assign(Object.assign({},x),d),auth:Object.assign(Object.assign({},k),h),realtime:Object.assign(Object.assign({},S),p),storage:{},global:Object.assign(Object.assign(Object.assign({},_),b),{headers:Object.assign(Object.assign({},(l=_?.headers)!==null&&l!==void 0?l:{}),(u=b?.headers)!==null&&u!==void 0?u:{})}),accessToken:async()=>""};return a.accessToken?T.accessToken=a.accessToken:delete T.accessToken,T}function i(a){const o=a?.trim();if(!o)throw new Error("supabaseUrl is required.");if(!o.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(t(o))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}return os}var Mh={};const IB="2.86.2",wd=30*1e3,vk=3,Ow=vk*wd,HK="http://localhost:9999",GK="supabase.auth.token",qK={"X-Client-Info":`gotrue-js/${IB}`},xk="X-Supabase-Api-Version",$B={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},YK=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,KK=600*1e3;let Hd=class extends Error{constructor(t,n,r){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=n,this.code=r}};function Ge(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}let BB=class extends Hd{constructor(t,n,r){super(t,n,r),this.name="AuthApiError",this.status=n,this.code=r}};function zB(e){return Ge(e)&&e.name==="AuthApiError"}let El=class extends Hd{constructor(t,n){super(t),this.name="AuthUnknownError",this.originalError=n}},Ts=class extends Hd{constructor(t,n,r,i){super(t,r,i),this.name=n,this.status=r}},ii=class extends Ts{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}};function UB(e){return Ge(e)&&e.name==="AuthSessionMissingError"}let Bc=class extends Ts{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}},rm=class extends Ts{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}},im=class extends Ts{constructor(t,n=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}};function FB(e){return Ge(e)&&e.name==="AuthImplicitGrantRedirectError"}let _k=class extends Ts{constructor(t,n=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}},Ib=class extends Ts{constructor(t,n){super(t,"AuthRetryableFetchError",n,void 0)}};function bb(e){return Ge(e)&&e.name==="AuthRetryableFetchError"}let wk=class extends Ts{constructor(t,n,r){super(t,"AuthWeakPasswordError",n,"weak_password"),this.reasons=r}};function WK(e){return Ge(e)&&e.name==="AuthWeakPasswordError"}let $b=class extends Ts{constructor(t){super(t,"AuthInvalidJwtError",400,"invalid_jwt")}};const Bb="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),FC=` 	
\r=`.split(""),VK=(()=>{const e=new Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<FC.length;t+=1)e[FC[t].charCodeAt(0)]=-2;for(let t=0;t<Bb.length;t+=1)e[Bb[t].charCodeAt(0)]=t;return e})();function HC(e,t,n){if(e!==null)for(t.queue=t.queue<<8|e,t.queuedBits+=8;t.queuedBits>=6;){const r=t.queue>>t.queuedBits-6&63;n(Bb[r]),t.queuedBits-=6}else if(t.queuedBits>0)for(t.queue=t.queue<<6-t.queuedBits,t.queuedBits=6;t.queuedBits>=6;){const r=t.queue>>t.queuedBits-6&63;n(Bb[r]),t.queuedBits-=6}}function HB(e,t,n){const r=VK[e];if(r>-1)for(t.queue=t.queue<<6|r,t.queuedBits+=6;t.queuedBits>=8;)n(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else{if(r===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`)}}function GC(e){const t=[],n=o=>{t.push(String.fromCodePoint(o))},r={utf8seq:0,codepoint:0},i={queue:0,queuedBits:0},a=o=>{JK(o,r,n)};for(let o=0;o<e.length;o+=1)HB(e.charCodeAt(o),i,a);return t.join("")}function ZK(e,t){if(e<=127){t(e);return}else if(e<=2047){t(192|e>>6),t(128|e&63);return}else if(e<=65535){t(224|e>>12),t(128|e>>6&63),t(128|e&63);return}else if(e<=1114111){t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),t(128|e&63);return}throw new Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}function XK(e,t){for(let n=0;n<e.length;n+=1){let r=e.charCodeAt(n);if(r>55295&&r<=56319){const i=(r-55296)*1024&65535;r=(e.charCodeAt(n+1)-56320&65535|i)+65536,n+=1}ZK(r,t)}}function JK(e,t,n){if(t.utf8seq===0){if(e<=127){n(e);return}for(let r=1;r<6;r+=1)if((e>>7-r&1)===0){t.utf8seq=r;break}if(t.utf8seq===2)t.codepoint=e&31;else if(t.utf8seq===3)t.codepoint=e&15;else if(t.utf8seq===4)t.codepoint=e&7;else throw new Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|e&63,t.utf8seq-=1,t.utf8seq===0&&n(t.codepoint)}}function Pd(e){const t=[],n={queue:0,queuedBits:0},r=i=>{t.push(i)};for(let i=0;i<e.length;i+=1)HB(e.charCodeAt(i),n,r);return new Uint8Array(t)}function QK(e){const t=[];return XK(e,n=>t.push(n)),new Uint8Array(t)}function Xc(e){const t=[],n={queue:0,queuedBits:0},r=i=>{t.push(i)};return e.forEach(i=>HC(i,n,r)),HC(null,n,r),t.join("")}function eW(e){return Math.round(Date.now()/1e3)+e}function tW(){return Symbol("auth-callback")}const yr=()=>typeof window<"u"&&typeof document<"u",Oc={tested:!1,writable:!1},GB=()=>{if(!yr())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Oc.tested)return Oc.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),Oc.tested=!0,Oc.writable=!0}catch{Oc.tested=!0,Oc.writable=!1}return Oc.writable};function nW(e){const t={},n=new URL(e);if(n.hash&&n.hash[0]==="#")try{new URLSearchParams(n.hash.substring(1)).forEach((i,a)=>{t[a]=i})}catch{}return n.searchParams.forEach((r,i)=>{t[i]=r}),t}const qB=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),rW=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",Sd=async(e,t,n)=>{await e.setItem(t,JSON.stringify(n))},Nc=async(e,t)=>{const n=await e.getItem(t);if(!n)return null;try{return JSON.parse(n)}catch{return n}},gr=async(e,t)=>{await e.removeItem(t)};class dv{constructor(){this.promise=new dv.promiseConstructor((t,n)=>{this.resolve=t,this.reject=n})}}dv.promiseConstructor=Promise;function Nw(e){const t=e.split(".");if(t.length!==3)throw new $b("Invalid JWT structure");for(let r=0;r<t.length;r++)if(!YK.test(t[r]))throw new $b("JWT not in base64url format");return{header:JSON.parse(GC(t[0])),payload:JSON.parse(GC(t[1])),signature:Pd(t[2]),raw:{header:t[0],payload:t[1]}}}async function iW(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}function aW(e,t){return new Promise((r,i)=>{(async()=>{for(let a=0;a<1/0;a++)try{const o=await e(a);if(!t(a,null,o)){r(o);return}}catch(o){if(!t(a,o)){i(o);return}}})()})}function oW(e){return("0"+e.toString(16)).substr(-2)}function sW(){const t=new Uint32Array(56);if(typeof crypto>"u"){const n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",r=n.length;let i="";for(let a=0;a<56;a++)i+=n.charAt(Math.floor(Math.random()*r));return i}return crypto.getRandomValues(t),Array.from(t,oW).join("")}async function lW(e){const n=new TextEncoder().encode(e),r=await crypto.subtle.digest("SHA-256",n),i=new Uint8Array(r);return Array.from(i).map(a=>String.fromCharCode(a)).join("")}async function cW(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const n=await lW(e);return btoa(n).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function cd(e,t,n=!1){const r=sW();let i=r;n&&(i+="/PASSWORD_RECOVERY"),await Sd(e,`${t}-code-verifier`,i);const a=await cW(r);return[a,r===a?"plain":"s256"]}const uW=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function dW(e){const t=e.headers.get(xk);if(!t||!t.match(uW))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}function fW(e){if(!e)throw new Error("Missing exp claim");const t=Math.floor(Date.now()/1e3);if(e<=t)throw new Error("JWT has expired")}function hW(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const mW=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function ud(e){if(!mW.test(e))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function Cw(){const e={};return new Proxy(e,{get:(t,n)=>{if(n==="__isUserNotAvailableProxy")return!0;if(typeof n=="symbol"){const r=n.toString();if(r==="Symbol(Symbol.toPrimitive)"||r==="Symbol(Symbol.toStringTag)"||r==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${n}" property of the session object is not supported. Please use getUser() instead.`)},set:(t,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(t,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function pW(e,t){return new Proxy(e,{get:(n,r,i)=>{if(r==="__isInsecureUserWarningProxy")return!0;if(typeof r=="symbol"){const a=r.toString();if(a==="Symbol(Symbol.toPrimitive)"||a==="Symbol(Symbol.toStringTag)"||a==="Symbol(util.inspect.custom)"||a==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(n,r,i)}return!t.value&&typeof r=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),t.value=!0),Reflect.get(n,r,i)}})}function qC(e){return JSON.parse(JSON.stringify(e))}const zc=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),gW=[502,503,504];async function YC(e){var t;if(!rW(e))throw new Ib(zc(e),0);if(gW.includes(e.status))throw new Ib(zc(e),e.status);let n;try{n=await e.json()}catch(a){throw new El(zc(a),a)}let r;const i=dW(e);if(i&&i.getTime()>=$B["2024-01-01"].timestamp&&typeof n=="object"&&n&&typeof n.code=="string"?r=n.code:typeof n=="object"&&n&&typeof n.error_code=="string"&&(r=n.error_code),r){if(r==="weak_password")throw new wk(zc(n),e.status,((t=n.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(r==="session_not_found")throw new ii}else if(typeof n=="object"&&n&&typeof n.weak_password=="object"&&n.weak_password&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.reasons.reduce((a,o)=>a&&typeof o=="string",!0))throw new wk(zc(n),e.status,n.weak_password.reasons);throw new BB(zc(n),e.status||500,r)}const bW=(e,t,n,r)=>{const i={method:e,headers:t?.headers||{}};return e==="GET"?i:(i.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t?.headers),i.body=JSON.stringify(r),Object.assign(Object.assign({},i),n))};async function tt(e,t,n,r){var i;const a=Object.assign({},r?.headers);a[xk]||(a[xk]=$B["2024-01-01"].name),r?.jwt&&(a.Authorization=`Bearer ${r.jwt}`);const o=(i=r?.query)!==null&&i!==void 0?i:{};r?.redirectTo&&(o.redirect_to=r.redirectTo);const l=Object.keys(o).length?"?"+new URLSearchParams(o).toString():"",u=await yW(e,t,n+l,{headers:a,noResolveJson:r?.noResolveJson},{},r?.body);return r?.xform?r?.xform(u):{data:Object.assign({},u),error:null}}async function yW(e,t,n,r,i,a){const o=bW(t,r,i,a);let l;try{l=await e(n,Object.assign({},o))}catch(u){throw console.error(u),new Ib(zc(u),0)}if(l.ok||await YC(l),r?.noResolveJson)return l;try{return await l.json()}catch(u){await YC(u)}}function Ma(e){var t;let n=null;_W(e)&&(n=Object.assign({},e),e.expires_at||(n.expires_at=eW(e.expires_in)));const r=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:n,user:r},error:null}}function KC(e){const t=Ma(e);return!t.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((n,r)=>n&&typeof r=="string",!0)&&(t.data.weak_password=e.weak_password),t}function Al(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function vW(e){return{data:e,error:null}}function xW(e){const{action_link:t,email_otp:n,hashed_token:r,redirect_to:i,verification_type:a}=e,o=lf(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),l={action_link:t,email_otp:n,hashed_token:r,redirect_to:i,verification_type:a},u=Object.assign({},o);return{data:{properties:l,user:u},error:null}}function WC(e){return e}function _W(e){return e.access_token&&e.refresh_token&&e.expires_in}const yb=["global","local","others"];let x2=class{constructor({url:t="",headers:n={},fetch:r}){this.url=t,this.headers=n,this.fetch=qB(r),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(t,n=yb[0]){if(yb.indexOf(n)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${yb.join(", ")}`);try{return await tt(this.fetch,"POST",`${this.url}/logout?scope=${n}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(r){if(Ge(r))return{data:null,error:r};throw r}}async inviteUserByEmail(t,n={}){try{return await tt(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:n.data},headers:this.headers,redirectTo:n.redirectTo,xform:Al})}catch(r){if(Ge(r))return{data:{user:null},error:r};throw r}}async generateLink(t){try{const{options:n}=t,r=lf(t,["options"]),i=Object.assign(Object.assign({},r),n);return"newEmail"in r&&(i.new_email=r?.newEmail,delete i.newEmail),await tt(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:i,headers:this.headers,xform:xW,redirectTo:n?.redirectTo})}catch(n){if(Ge(n))return{data:{properties:null,user:null},error:n};throw n}}async createUser(t){try{return await tt(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:Al})}catch(n){if(Ge(n))return{data:{user:null},error:n};throw n}}async listUsers(t){var n,r,i,a,o,l,u;try{const d={nextPage:null,lastPage:0,total:0},h=await tt(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(n=t?.page)===null||n===void 0?void 0:n.toString())!==null&&r!==void 0?r:"",per_page:(a=(i=t?.perPage)===null||i===void 0?void 0:i.toString())!==null&&a!==void 0?a:""},xform:WC});if(h.error)throw h.error;const p=await h.json(),b=(o=h.headers.get("x-total-count"))!==null&&o!==void 0?o:0,x=(u=(l=h.headers.get("link"))===null||l===void 0?void 0:l.split(","))!==null&&u!==void 0?u:[];return x.length>0&&(x.forEach(k=>{const S=parseInt(k.split(";")[0].split("=")[1].substring(0,1)),_=JSON.parse(k.split(";")[1].split("=")[1]);d[`${_}Page`]=S}),d.total=parseInt(b)),{data:Object.assign(Object.assign({},p),d),error:null}}catch(d){if(Ge(d))return{data:{users:[]},error:d};throw d}}async getUserById(t){ud(t);try{return await tt(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:Al})}catch(n){if(Ge(n))return{data:{user:null},error:n};throw n}}async updateUserById(t,n){ud(t);try{return await tt(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:n,headers:this.headers,xform:Al})}catch(r){if(Ge(r))return{data:{user:null},error:r};throw r}}async deleteUser(t,n=!1){ud(t);try{return await tt(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:n},xform:Al})}catch(r){if(Ge(r))return{data:{user:null},error:r};throw r}}async _listFactors(t){ud(t.userId);try{const{data:n,error:r}=await tt(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:i=>({data:{factors:i},error:null})});return{data:n,error:r}}catch(n){if(Ge(n))return{data:null,error:n};throw n}}async _deleteFactor(t){ud(t.userId),ud(t.id);try{return{data:await tt(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(n){if(Ge(n))return{data:null,error:n};throw n}}async _listOAuthClients(t){var n,r,i,a,o,l,u;try{const d={nextPage:null,lastPage:0,total:0},h=await tt(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(n=t?.page)===null||n===void 0?void 0:n.toString())!==null&&r!==void 0?r:"",per_page:(a=(i=t?.perPage)===null||i===void 0?void 0:i.toString())!==null&&a!==void 0?a:""},xform:WC});if(h.error)throw h.error;const p=await h.json(),b=(o=h.headers.get("x-total-count"))!==null&&o!==void 0?o:0,x=(u=(l=h.headers.get("link"))===null||l===void 0?void 0:l.split(","))!==null&&u!==void 0?u:[];return x.length>0&&(x.forEach(k=>{const S=parseInt(k.split(";")[0].split("=")[1].substring(0,1)),_=JSON.parse(k.split(";")[1].split("=")[1]);d[`${_}Page`]=S}),d.total=parseInt(b)),{data:Object.assign(Object.assign({},p),d),error:null}}catch(d){if(Ge(d))return{data:{clients:[]},error:d};throw d}}async _createOAuthClient(t){try{return await tt(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:t,headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(Ge(n))return{data:null,error:n};throw n}}async _getOAuthClient(t){try{return await tt(this.fetch,"GET",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(Ge(n))return{data:null,error:n};throw n}}async _updateOAuthClient(t,n){try{return await tt(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${t}`,{body:n,headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(Ge(r))return{data:null,error:r};throw r}}async _deleteOAuthClient(t){try{return await tt(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(n){if(Ge(n))return{data:null,error:n};throw n}}async _regenerateOAuthClientSecret(t){try{return await tt(this.fetch,"POST",`${this.url}/admin/oauth/clients/${t}/regenerate_secret`,{headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(Ge(n))return{data:null,error:n};throw n}}};function VC(e={}){return{getItem:t=>e[t]||null,setItem:(t,n)=>{e[t]=n},removeItem:t=>{delete e[t]}}}const Uc={debug:!!(globalThis&&GB()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class _2 extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}let YB=class extends _2{};class wW extends _2{}async function KB(e,t,n){Uc.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const r=new globalThis.AbortController;return t>0&&setTimeout(()=>{r.abort(),Uc.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:r.signal},async i=>{if(i){Uc.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,i.name);try{return await n()}finally{Uc.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,i.name)}}else{if(t===0)throw Uc.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new YB(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(Uc.debug)try{const a=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(a,null,"  "))}catch(a){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",a)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await n()}}))}const ZC={};async function SW(e,t,n){var r;const i=(r=ZC[e])!==null&&r!==void 0?r:Promise.resolve(),a=Promise.race([i.catch(()=>null),t>=0?new Promise((o,l)=>{setTimeout(()=>{l(new wW(`Acquring process lock with name "${e}" timed out`))},t)}):null].filter(o=>o)).catch(o=>{if(o&&o.isAcquireTimeout)throw o;return null}).then(async()=>await n());return ZC[e]=a.catch(async o=>{if(o&&o.isAcquireTimeout)return await i,null;throw o}),await a}function kW(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function WB(e){if(!/^0x[a-fA-F0-9]{40}$/.test(e))throw new Error(`@supabase/auth-js: Address "${e}" is invalid.`);return e.toLowerCase()}function EW(e){return parseInt(e,16)}function AW(e){const t=new TextEncoder().encode(e);return"0x"+Array.from(t,r=>r.toString(16).padStart(2,"0")).join("")}function TW(e){var t;const{chainId:n,domain:r,expirationTime:i,issuedAt:a=new Date,nonce:o,notBefore:l,requestId:u,resources:d,scheme:h,uri:p,version:b}=e;{if(!Number.isInteger(n))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${n}`);if(!r)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(o&&o.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${o}`);if(!p)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(b!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${b}`);if(!((t=e.statement)===null||t===void 0)&&t.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${e.statement}`)}const x=WB(e.address),k=h?`${h}://${r}`:r,S=e.statement?`${e.statement}
`:"",_=`${k} wants you to sign in with your Ethereum account:
${x}

${S}`;let T=`URI: ${p}
Version: ${b}
Chain ID: ${n}${o?`
Nonce: ${o}`:""}
Issued At: ${a.toISOString()}`;if(i&&(T+=`
Expiration Time: ${i.toISOString()}`),l&&(T+=`
Not Before: ${l.toISOString()}`),u&&(T+=`
Request ID: ${u}`),d){let N=`
Resources:`;for(const j of d){if(!j||typeof j!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${j}`);N+=`
- ${j}`}T+=N}return`${_}
${T}`}class In extends Error{constructor({message:t,code:n,cause:r,name:i}){var a;super(t,{cause:r}),this.__isWebAuthnError=!0,this.name=(a=i??(r instanceof Error?r.name:void 0))!==null&&a!==void 0?a:"Unknown Error",this.code=n}}class zb extends In{constructor(t,n){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:n,message:t}),this.name="WebAuthnUnknownError",this.originalError=n}}function jW({error:e,options:t}){var n,r,i;const{publicKey:a}=t;if(!a)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(t.signal instanceof AbortSignal)return new In({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else if(e.name==="ConstraintError"){if(((n=a.authenticatorSelection)===null||n===void 0?void 0:n.requireResidentKey)===!0)return new In({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:e});if(t.mediation==="conditional"&&((r=a.authenticatorSelection)===null||r===void 0?void 0:r.userVerification)==="required")return new In({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:e});if(((i=a.authenticatorSelection)===null||i===void 0?void 0:i.userVerification)==="required")return new In({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:e})}else{if(e.name==="InvalidStateError")return new In({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:e});if(e.name==="NotAllowedError")return new In({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="NotSupportedError")return a.pubKeyCredParams.filter(l=>l.type==="public-key").length===0?new In({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:e}):new In({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:e});if(e.name==="SecurityError"){const o=window.location.hostname;if(VB(o)){if(a.rp.id!==o)return new In({message:`The RP ID "${a.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else return new In({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="TypeError"){if(a.user.id.byteLength<1||a.user.id.byteLength>64)return new In({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:e})}else if(e.name==="UnknownError")return new In({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new In({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}function OW({error:e,options:t}){const{publicKey:n}=t;if(!n)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(t.signal instanceof AbortSignal)return new In({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else{if(e.name==="NotAllowedError")return new In({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="SecurityError"){const r=window.location.hostname;if(VB(r)){if(n.rpId!==r)return new In({message:`The RP ID "${n.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else return new In({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="UnknownError")return new In({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new In({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}class NW{createNewAbortSignal(){if(this.controller){const n=new Error("Cancelling existing WebAuthn API call for new one");n.name="AbortError",this.controller.abort(n)}const t=new AbortController;return this.controller=t,t.signal}cancelCeremony(){if(this.controller){const t=new Error("Manually cancelling existing WebAuthn API call");t.name="AbortError",this.controller.abort(t),this.controller=void 0}}}const CW=new NW;function MW(e){if(!e)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(e);const{challenge:t,user:n,excludeCredentials:r}=e,i=lf(e,["challenge","user","excludeCredentials"]),a=Pd(t).buffer,o=Object.assign(Object.assign({},n),{id:Pd(n.id).buffer}),l=Object.assign(Object.assign({},i),{challenge:a,user:o});if(r&&r.length>0){l.excludeCredentials=new Array(r.length);for(let u=0;u<r.length;u++){const d=r[u];l.excludeCredentials[u]=Object.assign(Object.assign({},d),{id:Pd(d.id).buffer,type:d.type||"public-key",transports:d.transports})}}return l}function DW(e){if(!e)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(e);const{challenge:t,allowCredentials:n}=e,r=lf(e,["challenge","allowCredentials"]),i=Pd(t).buffer,a=Object.assign(Object.assign({},r),{challenge:i});if(n&&n.length>0){a.allowCredentials=new Array(n.length);for(let o=0;o<n.length;o++){const l=n[o];a.allowCredentials[o]=Object.assign(Object.assign({},l),{id:Pd(l.id).buffer,type:l.type||"public-key",transports:l.transports})}}return a}function PW(e){var t;if("toJSON"in e&&typeof e.toJSON=="function")return e.toJSON();const n=e;return{id:e.id,rawId:e.id,response:{attestationObject:Xc(new Uint8Array(e.response.attestationObject)),clientDataJSON:Xc(new Uint8Array(e.response.clientDataJSON))},type:"public-key",clientExtensionResults:e.getClientExtensionResults(),authenticatorAttachment:(t=n.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function RW(e){var t;if("toJSON"in e&&typeof e.toJSON=="function")return e.toJSON();const n=e,r=e.getClientExtensionResults(),i=e.response;return{id:e.id,rawId:e.id,response:{authenticatorData:Xc(new Uint8Array(i.authenticatorData)),clientDataJSON:Xc(new Uint8Array(i.clientDataJSON)),signature:Xc(new Uint8Array(i.signature)),userHandle:i.userHandle?Xc(new Uint8Array(i.userHandle)):void 0},type:"public-key",clientExtensionResults:r,authenticatorAttachment:(t=n.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function VB(e){return e==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(e)}function XC(){var e,t;return!!(yr()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((e=navigator?.credentials)===null||e===void 0?void 0:e.create)=="function"&&typeof((t=navigator?.credentials)===null||t===void 0?void 0:t.get)=="function")}async function LW(e){try{const t=await navigator.credentials.create(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new zb("Browser returned unexpected credential type",t)}:{data:null,error:new zb("Empty credential response",t)}}catch(t){return{data:null,error:jW({error:t,options:e})}}}async function IW(e){try{const t=await navigator.credentials.get(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new zb("Browser returned unexpected credential type",t)}:{data:null,error:new zb("Empty credential response",t)}}catch(t){return{data:null,error:OW({error:t,options:e})}}}const $W={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"direct"},BW={userVerification:"preferred",hints:["security-key"],attestation:"direct"};function Ub(...e){const t=i=>i!==null&&typeof i=="object"&&!Array.isArray(i),n=i=>i instanceof ArrayBuffer||ArrayBuffer.isView(i),r={};for(const i of e)if(i)for(const a in i){const o=i[a];if(o!==void 0)if(Array.isArray(o))r[a]=o;else if(n(o))r[a]=o;else if(t(o)){const l=r[a];t(l)?r[a]=Ub(l,o):r[a]=Ub(o)}else r[a]=o}return r}function zW(e,t){return Ub($W,e,t||{})}function UW(e,t){return Ub(BW,e,t||{})}class FW{constructor(t){this.client=t,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(t){return this.client.mfa.enroll(Object.assign(Object.assign({},t),{factorType:"webauthn"}))}async _challenge({factorId:t,webauthn:n,friendlyName:r,signal:i},a){try{const{data:o,error:l}=await this.client.mfa.challenge({factorId:t,webauthn:n});if(!o)return{data:null,error:l};const u=i??CW.createNewAbortSignal();if(o.webauthn.type==="create"){const{user:d}=o.webauthn.credential_options.publicKey;d.name||(d.name=`${d.id}:${r}`),d.displayName||(d.displayName=d.name)}switch(o.webauthn.type){case"create":{const d=zW(o.webauthn.credential_options.publicKey,a?.create),{data:h,error:p}=await LW({publicKey:d,signal:u});return h?{data:{factorId:t,challengeId:o.id,webauthn:{type:o.webauthn.type,credential_response:h}},error:null}:{data:null,error:p}}case"request":{const d=UW(o.webauthn.credential_options.publicKey,a?.request),{data:h,error:p}=await IW(Object.assign(Object.assign({},o.webauthn.credential_options),{publicKey:d,signal:u}));return h?{data:{factorId:t,challengeId:o.id,webauthn:{type:o.webauthn.type,credential_response:h}},error:null}:{data:null,error:p}}}}catch(o){return Ge(o)?{data:null,error:o}:{data:null,error:new El("Unexpected error in challenge",o)}}}async _verify({challengeId:t,factorId:n,webauthn:r}){return this.client.mfa.verify({factorId:n,challengeId:t,webauthn:r})}async _authenticate({factorId:t,webauthn:{rpId:n=typeof window<"u"?window.location.hostname:void 0,rpOrigins:r=typeof window<"u"?[window.location.origin]:void 0,signal:i}={}},a){if(!n)return{data:null,error:new Hd("rpId is required for WebAuthn authentication")};try{if(!XC())return{data:null,error:new El("Browser does not support WebAuthn",null)};const{data:o,error:l}=await this.challenge({factorId:t,webauthn:{rpId:n,rpOrigins:r},signal:i},{request:a});if(!o)return{data:null,error:l};const{webauthn:u}=o;return this._verify({factorId:t,challengeId:o.challengeId,webauthn:{type:u.type,rpId:n,rpOrigins:r,credential_response:u.credential_response}})}catch(o){return Ge(o)?{data:null,error:o}:{data:null,error:new El("Unexpected error in authenticate",o)}}}async _register({friendlyName:t,webauthn:{rpId:n=typeof window<"u"?window.location.hostname:void 0,rpOrigins:r=typeof window<"u"?[window.location.origin]:void 0,signal:i}={}},a){if(!n)return{data:null,error:new Hd("rpId is required for WebAuthn registration")};try{if(!XC())return{data:null,error:new El("Browser does not support WebAuthn",null)};const{data:o,error:l}=await this._enroll({friendlyName:t});if(!o)return await this.client.mfa.listFactors().then(h=>{var p;return(p=h.data)===null||p===void 0?void 0:p.all.find(b=>b.factor_type==="webauthn"&&b.friendly_name===t&&b.status!=="unverified")}).then(h=>h?this.client.mfa.unenroll({factorId:h?.id}):void 0),{data:null,error:l};const{data:u,error:d}=await this._challenge({factorId:o.id,friendlyName:o.friendly_name,webauthn:{rpId:n,rpOrigins:r},signal:i},{create:a});return u?this._verify({factorId:o.id,challengeId:u.challengeId,webauthn:{rpId:n,rpOrigins:r,type:u.webauthn.type,credential_response:u.webauthn.credential_response}}):{data:null,error:d}}catch(o){return Ge(o)?{data:null,error:o}:{data:null,error:new El("Unexpected error in register",o)}}}}kW();const HW={url:HK,storageKey:GK,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:qK,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1};async function JC(e,t,n){return await n()}const dd={};let w2=class Sk{get jwks(){var t,n;return(n=(t=dd[this.storageKey])===null||t===void 0?void 0:t.jwks)!==null&&n!==void 0?n:{keys:[]}}set jwks(t){dd[this.storageKey]=Object.assign(Object.assign({},dd[this.storageKey]),{jwks:t})}get jwks_cached_at(){var t,n;return(n=(t=dd[this.storageKey])===null||t===void 0?void 0:t.cachedAt)!==null&&n!==void 0?n:Number.MIN_SAFE_INTEGER}set jwks_cached_at(t){dd[this.storageKey]=Object.assign(Object.assign({},dd[this.storageKey]),{cachedAt:t})}constructor(t){var n,r,i;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;const a=Object.assign(Object.assign({},HW),t);if(this.storageKey=a.storageKey,this.instanceID=(n=Sk.nextInstanceID[this.storageKey])!==null&&n!==void 0?n:0,Sk.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!a.debug,typeof a.debug=="function"&&(this.logger=a.debug),this.instanceID>0&&yr()){const o=`${this._logPrefix()} Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.`;console.warn(o),this.logDebugMessages&&console.trace(o)}if(this.persistSession=a.persistSession,this.autoRefreshToken=a.autoRefreshToken,this.admin=new x2({url:a.url,headers:a.headers,fetch:a.fetch}),this.url=a.url,this.headers=a.headers,this.fetch=qB(a.fetch),this.lock=a.lock||JC,this.detectSessionInUrl=a.detectSessionInUrl,this.flowType=a.flowType,this.hasCustomAuthorizationHeader=a.hasCustomAuthorizationHeader,this.throwOnError=a.throwOnError,a.lock?this.lock=a.lock:yr()&&(!((r=globalThis?.navigator)===null||r===void 0)&&r.locks)?this.lock=KB:this.lock=JC,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new FW(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this),listGrants:this._listOAuthGrants.bind(this),revokeGrant:this._revokeOAuthGrant.bind(this)},this.persistSession?(a.storage?this.storage=a.storage:GB()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=VC(this.memoryStorage)),a.userStorage&&(this.userStorage=a.userStorage)):(this.memoryStorage={},this.storage=VC(this.memoryStorage)),yr()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(o){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",o)}(i=this.broadcastChannel)===null||i===void 0||i.addEventListener("message",async o=>{this._debug("received broadcast notification from other tab or client",o),await this._notifyAllSubscribers(o.data.event,o.data.session,!1)})}this.initialize()}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(t){if(this.throwOnError&&t&&t.error)throw t.error;return t}_logPrefix(){return`GoTrueClient@${this.storageKey}:${this.instanceID} (${IB}) ${new Date().toISOString()}`}_debug(...t){return this.logDebugMessages&&this.logger(this._logPrefix(),...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{let n={},r="none";if(yr()&&(n=nW(window.location.href),this._isImplicitGrantCallback(n)?r="implicit":await this._isPKCECallback(n)&&(r="pkce")),yr()&&this.detectSessionInUrl&&r!=="none"){const{data:i,error:a}=await this._getSessionFromURL(n,r);if(a){if(this._debug("#_initialize()","error detecting session from URL",a),FB(a)){const u=(t=a.details)===null||t===void 0?void 0:t.code;if(u==="identity_already_exists"||u==="identity_not_found"||u==="single_identity_not_deletable")return{error:a}}return await this._removeSession(),{error:a}}const{session:o,redirectType:l}=i;return this._debug("#_initialize()","detected session in URL",o,"redirect type",l),await this._saveSession(o),setTimeout(async()=>{l==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",o):await this._notifyAllSubscribers("SIGNED_IN",o)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(n){return Ge(n)?this._returnResult({error:n}):this._returnResult({error:new El("Unexpected error during initialization",n)})}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var n,r,i;try{const a=await tt(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(r=(n=t?.options)===null||n===void 0?void 0:n.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:(i=t?.options)===null||i===void 0?void 0:i.captchaToken}},xform:Ma}),{data:o,error:l}=a;if(l||!o)return this._returnResult({data:{user:null,session:null},error:l});const u=o.session,d=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",u)),this._returnResult({data:{user:d,session:u},error:null})}catch(a){if(Ge(a))return this._returnResult({data:{user:null,session:null},error:a});throw a}}async signUp(t){var n,r,i;try{let a;if("email"in t){const{email:h,password:p,options:b}=t;let x=null,k=null;this.flowType==="pkce"&&([x,k]=await cd(this.storage,this.storageKey)),a=await tt(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:b?.emailRedirectTo,body:{email:h,password:p,data:(n=b?.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:b?.captchaToken},code_challenge:x,code_challenge_method:k},xform:Ma})}else if("phone"in t){const{phone:h,password:p,options:b}=t;a=await tt(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:h,password:p,data:(r=b?.data)!==null&&r!==void 0?r:{},channel:(i=b?.channel)!==null&&i!==void 0?i:"sms",gotrue_meta_security:{captcha_token:b?.captchaToken}},xform:Ma})}else throw new rm("You must provide either an email or phone number and a password");const{data:o,error:l}=a;if(l||!o)return await gr(this.storage,`${this.storageKey}-code-verifier`),this._returnResult({data:{user:null,session:null},error:l});const u=o.session,d=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",u)),this._returnResult({data:{user:d,session:u},error:null})}catch(a){if(await gr(this.storage,`${this.storageKey}-code-verifier`),Ge(a))return this._returnResult({data:{user:null,session:null},error:a});throw a}}async signInWithPassword(t){try{let n;if("email"in t){const{email:a,password:o,options:l}=t;n=await tt(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:a,password:o,gotrue_meta_security:{captcha_token:l?.captchaToken}},xform:KC})}else if("phone"in t){const{phone:a,password:o,options:l}=t;n=await tt(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:a,password:o,gotrue_meta_security:{captcha_token:l?.captchaToken}},xform:KC})}else throw new rm("You must provide either an email or phone number and a password");const{data:r,error:i}=n;if(i)return this._returnResult({data:{user:null,session:null},error:i});if(!r||!r.session||!r.user){const a=new Bc;return this._returnResult({data:{user:null,session:null},error:a})}return r.session&&(await this._saveSession(r.session),await this._notifyAllSubscribers("SIGNED_IN",r.session)),this._returnResult({data:Object.assign({user:r.user,session:r.session},r.weak_password?{weakPassword:r.weak_password}:null),error:i})}catch(n){if(Ge(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async signInWithOAuth(t){var n,r,i,a;return await this._handleProviderSignIn(t.provider,{redirectTo:(n=t.options)===null||n===void 0?void 0:n.redirectTo,scopes:(r=t.options)===null||r===void 0?void 0:r.scopes,queryParams:(i=t.options)===null||i===void 0?void 0:i.queryParams,skipBrowserRedirect:(a=t.options)===null||a===void 0?void 0:a.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(t))}async signInWithWeb3(t){const{chain:n}=t;switch(n){case"ethereum":return await this.signInWithEthereum(t);case"solana":return await this.signInWithSolana(t);default:throw new Error(`@supabase/auth-js: Unsupported chain "${n}"`)}}async signInWithEthereum(t){var n,r,i,a,o,l,u,d,h,p,b;let x,k;if("message"in t)x=t.message,k=t.signature;else{const{chain:S,wallet:_,statement:T,options:N}=t;let j;if(yr())if(typeof _=="object")j=_;else{const Y=window;if("ethereum"in Y&&typeof Y.ethereum=="object"&&"request"in Y.ethereum&&typeof Y.ethereum.request=="function")j=Y.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof _!="object"||!N?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");j=_}const C=new URL((n=N?.url)!==null&&n!==void 0?n:window.location.href),M=await j.request({method:"eth_requestAccounts"}).then(Y=>Y).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!M||M.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const P=WB(M[0]);let $=(r=N?.signInWithEthereum)===null||r===void 0?void 0:r.chainId;if(!$){const Y=await j.request({method:"eth_chainId"});$=EW(Y)}const U={domain:C.host,address:P,statement:T,uri:C.href,version:"1",chainId:$,nonce:(i=N?.signInWithEthereum)===null||i===void 0?void 0:i.nonce,issuedAt:(o=(a=N?.signInWithEthereum)===null||a===void 0?void 0:a.issuedAt)!==null&&o!==void 0?o:new Date,expirationTime:(l=N?.signInWithEthereum)===null||l===void 0?void 0:l.expirationTime,notBefore:(u=N?.signInWithEthereum)===null||u===void 0?void 0:u.notBefore,requestId:(d=N?.signInWithEthereum)===null||d===void 0?void 0:d.requestId,resources:(h=N?.signInWithEthereum)===null||h===void 0?void 0:h.resources};x=TW(U),k=await j.request({method:"personal_sign",params:[AW(x),P]})}try{const{data:S,error:_}=await tt(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:x,signature:k},!((p=t.options)===null||p===void 0)&&p.captchaToken?{gotrue_meta_security:{captcha_token:(b=t.options)===null||b===void 0?void 0:b.captchaToken}}:null),xform:Ma});if(_)throw _;if(!S||!S.session||!S.user){const T=new Bc;return this._returnResult({data:{user:null,session:null},error:T})}return S.session&&(await this._saveSession(S.session),await this._notifyAllSubscribers("SIGNED_IN",S.session)),this._returnResult({data:Object.assign({},S),error:_})}catch(S){if(Ge(S))return this._returnResult({data:{user:null,session:null},error:S});throw S}}async signInWithSolana(t){var n,r,i,a,o,l,u,d,h,p,b,x;let k,S;if("message"in t)k=t.message,S=t.signature;else{const{chain:_,wallet:T,statement:N,options:j}=t;let C;if(yr())if(typeof T=="object")C=T;else{const P=window;if("solana"in P&&typeof P.solana=="object"&&("signIn"in P.solana&&typeof P.solana.signIn=="function"||"signMessage"in P.solana&&typeof P.solana.signMessage=="function"))C=P.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof T!="object"||!j?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");C=T}const M=new URL((n=j?.url)!==null&&n!==void 0?n:window.location.href);if("signIn"in C&&C.signIn){const P=await C.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},j?.signInWithSolana),{version:"1",domain:M.host,uri:M.href}),N?{statement:N}:null));let $;if(Array.isArray(P)&&P[0]&&typeof P[0]=="object")$=P[0];else if(P&&typeof P=="object"&&"signedMessage"in P&&"signature"in P)$=P;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in $&&"signature"in $&&(typeof $.signedMessage=="string"||$.signedMessage instanceof Uint8Array)&&$.signature instanceof Uint8Array)k=typeof $.signedMessage=="string"?$.signedMessage:new TextDecoder().decode($.signedMessage),S=$.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in C)||typeof C.signMessage!="function"||!("publicKey"in C)||typeof C!="object"||!C.publicKey||!("toBase58"in C.publicKey)||typeof C.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");k=[`${M.host} wants you to sign in with your Solana account:`,C.publicKey.toBase58(),...N?["",N,""]:[""],"Version: 1",`URI: ${M.href}`,`Issued At: ${(i=(r=j?.signInWithSolana)===null||r===void 0?void 0:r.issuedAt)!==null&&i!==void 0?i:new Date().toISOString()}`,...!((a=j?.signInWithSolana)===null||a===void 0)&&a.notBefore?[`Not Before: ${j.signInWithSolana.notBefore}`]:[],...!((o=j?.signInWithSolana)===null||o===void 0)&&o.expirationTime?[`Expiration Time: ${j.signInWithSolana.expirationTime}`]:[],...!((l=j?.signInWithSolana)===null||l===void 0)&&l.chainId?[`Chain ID: ${j.signInWithSolana.chainId}`]:[],...!((u=j?.signInWithSolana)===null||u===void 0)&&u.nonce?[`Nonce: ${j.signInWithSolana.nonce}`]:[],...!((d=j?.signInWithSolana)===null||d===void 0)&&d.requestId?[`Request ID: ${j.signInWithSolana.requestId}`]:[],...!((p=(h=j?.signInWithSolana)===null||h===void 0?void 0:h.resources)===null||p===void 0)&&p.length?["Resources",...j.signInWithSolana.resources.map($=>`- ${$}`)]:[]].join(`
`);const P=await C.signMessage(new TextEncoder().encode(k),"utf8");if(!P||!(P instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");S=P}}try{const{data:_,error:T}=await tt(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:k,signature:Xc(S)},!((b=t.options)===null||b===void 0)&&b.captchaToken?{gotrue_meta_security:{captcha_token:(x=t.options)===null||x===void 0?void 0:x.captchaToken}}:null),xform:Ma});if(T)throw T;if(!_||!_.session||!_.user){const N=new Bc;return this._returnResult({data:{user:null,session:null},error:N})}return _.session&&(await this._saveSession(_.session),await this._notifyAllSubscribers("SIGNED_IN",_.session)),this._returnResult({data:Object.assign({},_),error:T})}catch(_){if(Ge(_))return this._returnResult({data:{user:null,session:null},error:_});throw _}}async _exchangeCodeForSession(t){const n=await Nc(this.storage,`${this.storageKey}-code-verifier`),[r,i]=(n??"").split("/");try{const{data:a,error:o}=await tt(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:r},xform:Ma});if(await gr(this.storage,`${this.storageKey}-code-verifier`),o)throw o;if(!a||!a.session||!a.user){const l=new Bc;return this._returnResult({data:{user:null,session:null,redirectType:null},error:l})}return a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",a.session)),this._returnResult({data:Object.assign(Object.assign({},a),{redirectType:i??null}),error:o})}catch(a){if(await gr(this.storage,`${this.storageKey}-code-verifier`),Ge(a))return this._returnResult({data:{user:null,session:null,redirectType:null},error:a});throw a}}async signInWithIdToken(t){try{const{options:n,provider:r,token:i,access_token:a,nonce:o}=t,l=await tt(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:r,id_token:i,access_token:a,nonce:o,gotrue_meta_security:{captcha_token:n?.captchaToken}},xform:Ma}),{data:u,error:d}=l;if(d)return this._returnResult({data:{user:null,session:null},error:d});if(!u||!u.session||!u.user){const h=new Bc;return this._returnResult({data:{user:null,session:null},error:h})}return u.session&&(await this._saveSession(u.session),await this._notifyAllSubscribers("SIGNED_IN",u.session)),this._returnResult({data:u,error:d})}catch(n){if(Ge(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async signInWithOtp(t){var n,r,i,a,o;try{if("email"in t){const{email:l,options:u}=t;let d=null,h=null;this.flowType==="pkce"&&([d,h]=await cd(this.storage,this.storageKey));const{error:p}=await tt(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:l,data:(n=u?.data)!==null&&n!==void 0?n:{},create_user:(r=u?.shouldCreateUser)!==null&&r!==void 0?r:!0,gotrue_meta_security:{captcha_token:u?.captchaToken},code_challenge:d,code_challenge_method:h},redirectTo:u?.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:p})}if("phone"in t){const{phone:l,options:u}=t,{data:d,error:h}=await tt(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:l,data:(i=u?.data)!==null&&i!==void 0?i:{},create_user:(a=u?.shouldCreateUser)!==null&&a!==void 0?a:!0,gotrue_meta_security:{captcha_token:u?.captchaToken},channel:(o=u?.channel)!==null&&o!==void 0?o:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:d?.message_id},error:h})}throw new rm("You must provide either an email or phone number.")}catch(l){if(await gr(this.storage,`${this.storageKey}-code-verifier`),Ge(l))return this._returnResult({data:{user:null,session:null},error:l});throw l}}async verifyOtp(t){var n,r;try{let i,a;"options"in t&&(i=(n=t.options)===null||n===void 0?void 0:n.redirectTo,a=(r=t.options)===null||r===void 0?void 0:r.captchaToken);const{data:o,error:l}=await tt(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:a}}),redirectTo:i,xform:Ma});if(l)throw l;if(!o)throw new Error("An error occurred on token verification.");const u=o.session,d=o.user;return u?.access_token&&(await this._saveSession(u),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",u)),this._returnResult({data:{user:d,session:u},error:null})}catch(i){if(Ge(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}}async signInWithSSO(t){var n,r,i,a,o;try{let l=null,u=null;this.flowType==="pkce"&&([l,u]=await cd(this.storage,this.storageKey));const d=await tt(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(r=(n=t.options)===null||n===void 0?void 0:n.redirectTo)!==null&&r!==void 0?r:void 0}),!((i=t?.options)===null||i===void 0)&&i.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:l,code_challenge_method:u}),headers:this.headers,xform:vW});return!((a=d.data)===null||a===void 0)&&a.url&&yr()&&!(!((o=t.options)===null||o===void 0)&&o.skipBrowserRedirect)&&window.location.assign(d.data.url),this._returnResult(d)}catch(l){if(await gr(this.storage,`${this.storageKey}-code-verifier`),Ge(l))return this._returnResult({data:null,error:l});throw l}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:n},error:r}=t;if(r)throw r;if(!n)throw new ii;const{error:i}=await tt(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:n.access_token});return this._returnResult({data:{user:null,session:null},error:i})})}catch(t){if(Ge(t))return this._returnResult({data:{user:null,session:null},error:t});throw t}}async resend(t){try{const n=`${this.url}/resend`;if("email"in t){const{email:r,type:i,options:a}=t,{error:o}=await tt(this.fetch,"POST",n,{headers:this.headers,body:{email:r,type:i,gotrue_meta_security:{captcha_token:a?.captchaToken}},redirectTo:a?.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:o})}else if("phone"in t){const{phone:r,type:i,options:a}=t,{data:o,error:l}=await tt(this.fetch,"POST",n,{headers:this.headers,body:{phone:r,type:i,gotrue_meta_security:{captcha_token:a?.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:o?.message_id},error:l})}throw new rm("You must provide either an email or phone number and a type")}catch(n){if(Ge(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async n=>n))}async _acquireLock(t,n){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const r=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),i=(async()=>(await r,await n()))();return this.pendingInLock.push((async()=>{try{await i}catch{}})()),i}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const r=n();for(this.pendingInLock.push((async()=>{try{await r}catch{}})()),await r;this.pendingInLock.length;){const i=[...this.pendingInLock];await Promise.all(i),this.pendingInLock.splice(0,i.length)}return await r}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const n=await this.__loadSession();return await t(n)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const n=await Nc(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",n),n!==null&&(this._isValidSession(n)?t=n:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const r=t.expires_at?t.expires_at*1e3-Date.now()<Ow:!1;if(this._debug("#__loadSession()",`session has${r?"":" not"} expired`,"expires_at",t.expires_at),!r){if(this.userStorage){const o=await Nc(this.userStorage,this.storageKey+"-user");o?.user?t.user=o.user:t.user=Cw()}if(this.storage.isServer&&t.user&&!t.user.__isUserNotAvailableProxy){const o={value:this.suppressGetSessionWarning};t.user=pW(t.user,o),o.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:t},error:null}}const{data:i,error:a}=await this._callRefreshToken(t.refresh_token);return a?this._returnResult({data:{session:null},error:a}):this._returnResult({data:{session:i},error:null})}finally{this._debug("#__loadSession()","end")}}async getUser(t){if(t)return await this._getUser(t);await this.initializePromise;const n=await this._acquireLock(-1,async()=>await this._getUser());return n.data.user&&(this.suppressGetSessionWarning=!0),n}async _getUser(t){try{return t?await tt(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:Al}):await this._useSession(async n=>{var r,i,a;const{data:o,error:l}=n;if(l)throw l;return!(!((r=o.session)===null||r===void 0)&&r.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new ii}:await tt(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(a=(i=o.session)===null||i===void 0?void 0:i.access_token)!==null&&a!==void 0?a:void 0,xform:Al})})}catch(n){if(Ge(n))return UB(n)&&(await this._removeSession(),await gr(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({data:{user:null},error:n});throw n}}async updateUser(t,n={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(t,n))}async _updateUser(t,n={}){try{return await this._useSession(async r=>{const{data:i,error:a}=r;if(a)throw a;if(!i.session)throw new ii;const o=i.session;let l=null,u=null;this.flowType==="pkce"&&t.email!=null&&([l,u]=await cd(this.storage,this.storageKey));const{data:d,error:h}=await tt(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:n?.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:l,code_challenge_method:u}),jwt:o.access_token,xform:Al});if(h)throw h;return o.user=d.user,await this._saveSession(o),await this._notifyAllSubscribers("USER_UPDATED",o),this._returnResult({data:{user:o.user},error:null})})}catch(r){if(await gr(this.storage,`${this.storageKey}-code-verifier`),Ge(r))return this._returnResult({data:{user:null},error:r});throw r}}async setSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new ii;const n=Date.now()/1e3;let r=n,i=!0,a=null;const{payload:o}=Nw(t.access_token);if(o.exp&&(r=o.exp,i=r<=n),i){const{data:l,error:u}=await this._callRefreshToken(t.refresh_token);if(u)return this._returnResult({data:{user:null,session:null},error:u});if(!l)return{data:{user:null,session:null},error:null};a=l}else{const{data:l,error:u}=await this._getUser(t.access_token);if(u)throw u;a={access_token:t.access_token,refresh_token:t.refresh_token,user:l.user,token_type:"bearer",expires_in:r-n,expires_at:r},await this._saveSession(a),await this._notifyAllSubscribers("SIGNED_IN",a)}return this._returnResult({data:{user:a.user,session:a},error:null})}catch(n){if(Ge(n))return this._returnResult({data:{session:null,user:null},error:n});throw n}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async n=>{var r;if(!t){const{data:o,error:l}=n;if(l)throw l;t=(r=o.session)!==null&&r!==void 0?r:void 0}if(!t?.refresh_token)throw new ii;const{data:i,error:a}=await this._callRefreshToken(t.refresh_token);return a?this._returnResult({data:{user:null,session:null},error:a}):i?this._returnResult({data:{user:i.user,session:i},error:null}):this._returnResult({data:{user:null,session:null},error:null})})}catch(n){if(Ge(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async _getSessionFromURL(t,n){try{if(!yr())throw new im("No browser detected.");if(t.error||t.error_description||t.error_code)throw new im(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(n){case"implicit":if(this.flowType==="pkce")throw new _k("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new im("Not a valid implicit grant flow url.");break;default:}if(n==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new _k("No code detected.");const{data:N,error:j}=await this._exchangeCodeForSession(t.code);if(j)throw j;const C=new URL(window.location.href);return C.searchParams.delete("code"),window.history.replaceState(window.history.state,"",C.toString()),{data:{session:N.session,redirectType:null},error:null}}const{provider_token:r,provider_refresh_token:i,access_token:a,refresh_token:o,expires_in:l,expires_at:u,token_type:d}=t;if(!a||!l||!o||!d)throw new im("No session defined in URL");const h=Math.round(Date.now()/1e3),p=parseInt(l);let b=h+p;u&&(b=parseInt(u));const x=b-h;x*1e3<=wd&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${x}s, should have been closer to ${p}s`);const k=b-p;h-k>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",k,b,h):h-k<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",k,b,h);const{data:S,error:_}=await this._getUser(a);if(_)throw _;const T={provider_token:r,provider_refresh_token:i,access_token:a,expires_in:p,expires_at:b,refresh_token:o,token_type:d,user:S.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:T,redirectType:t.type},error:null})}catch(r){if(Ge(r))return this._returnResult({data:{session:null,redirectType:null},error:r});throw r}}_isImplicitGrantCallback(t){return!!(t.access_token||t.error_description)}async _isPKCECallback(t){const n=await Nc(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&n)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async n=>{var r;const{data:i,error:a}=n;if(a)return this._returnResult({error:a});const o=(r=i.session)===null||r===void 0?void 0:r.access_token;if(o){const{error:l}=await this.admin.signOut(o,t);if(l&&!(zB(l)&&(l.status===404||l.status===401||l.status===403)))return this._returnResult({error:l})}return t!=="others"&&(await this._removeSession(),await gr(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({error:null})})}onAuthStateChange(t){const n=tW(),r={id:n,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",n),this.stateChangeEmitters.delete(n)}};return this._debug("#onAuthStateChange()","registered callback with id",n),this.stateChangeEmitters.set(n,r),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(n)})))(),{data:{subscription:r}}}async _emitInitialSession(t){return await this._useSession(async n=>{var r,i;try{const{data:{session:a},error:o}=n;if(o)throw o;await((r=this.stateChangeEmitters.get(t))===null||r===void 0?void 0:r.callback("INITIAL_SESSION",a)),this._debug("INITIAL_SESSION","callback id",t,"session",a)}catch(a){await((i=this.stateChangeEmitters.get(t))===null||i===void 0?void 0:i.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",a),console.error(a)}})}async resetPasswordForEmail(t,n={}){let r=null,i=null;this.flowType==="pkce"&&([r,i]=await cd(this.storage,this.storageKey,!0));try{return await tt(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:r,code_challenge_method:i,gotrue_meta_security:{captcha_token:n.captchaToken}},headers:this.headers,redirectTo:n.redirectTo})}catch(a){if(await gr(this.storage,`${this.storageKey}-code-verifier`),Ge(a))return this._returnResult({data:null,error:a});throw a}}async getUserIdentities(){var t;try{const{data:n,error:r}=await this.getUser();if(r)throw r;return this._returnResult({data:{identities:(t=n.user.identities)!==null&&t!==void 0?t:[]},error:null})}catch(n){if(Ge(n))return this._returnResult({data:null,error:n});throw n}}async linkIdentity(t){return"token"in t?this.linkIdentityIdToken(t):this.linkIdentityOAuth(t)}async linkIdentityOAuth(t){var n;try{const{data:r,error:i}=await this._useSession(async a=>{var o,l,u,d,h;const{data:p,error:b}=a;if(b)throw b;const x=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(o=t.options)===null||o===void 0?void 0:o.redirectTo,scopes:(l=t.options)===null||l===void 0?void 0:l.scopes,queryParams:(u=t.options)===null||u===void 0?void 0:u.queryParams,skipBrowserRedirect:!0});return await tt(this.fetch,"GET",x,{headers:this.headers,jwt:(h=(d=p.session)===null||d===void 0?void 0:d.access_token)!==null&&h!==void 0?h:void 0})});if(i)throw i;return yr()&&!(!((n=t.options)===null||n===void 0)&&n.skipBrowserRedirect)&&window.location.assign(r?.url),this._returnResult({data:{provider:t.provider,url:r?.url},error:null})}catch(r){if(Ge(r))return this._returnResult({data:{provider:t.provider,url:null},error:r});throw r}}async linkIdentityIdToken(t){return await this._useSession(async n=>{var r;try{const{error:i,data:{session:a}}=n;if(i)throw i;const{options:o,provider:l,token:u,access_token:d,nonce:h}=t,p=await tt(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(r=a?.access_token)!==null&&r!==void 0?r:void 0,body:{provider:l,id_token:u,access_token:d,nonce:h,link_identity:!0,gotrue_meta_security:{captcha_token:o?.captchaToken}},xform:Ma}),{data:b,error:x}=p;return x?this._returnResult({data:{user:null,session:null},error:x}):!b||!b.session||!b.user?this._returnResult({data:{user:null,session:null},error:new Bc}):(b.session&&(await this._saveSession(b.session),await this._notifyAllSubscribers("USER_UPDATED",b.session)),this._returnResult({data:b,error:x}))}catch(i){if(await gr(this.storage,`${this.storageKey}-code-verifier`),Ge(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}})}async unlinkIdentity(t){try{return await this._useSession(async n=>{var r,i;const{data:a,error:o}=n;if(o)throw o;return await tt(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(i=(r=a.session)===null||r===void 0?void 0:r.access_token)!==null&&i!==void 0?i:void 0})})}catch(n){if(Ge(n))return this._returnResult({data:null,error:n});throw n}}async _refreshAccessToken(t){const n=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(n,"begin");try{const r=Date.now();return await aW(async i=>(i>0&&await iW(200*Math.pow(2,i-1)),this._debug(n,"refreshing attempt",i),await tt(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:Ma})),(i,a)=>{const o=200*Math.pow(2,i);return a&&bb(a)&&Date.now()+o-r<wd})}catch(r){if(this._debug(n,"error",r),Ge(r))return this._returnResult({data:{session:null,user:null},error:r});throw r}finally{this._debug(n,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,n){const r=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:n.redirectTo,scopes:n.scopes,queryParams:n.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",n,"url",r),yr()&&!n.skipBrowserRedirect&&window.location.assign(r),{data:{provider:t,url:r},error:null}}async _recoverAndRefresh(){var t,n;const r="#_recoverAndRefresh()";this._debug(r,"begin");try{const i=await Nc(this.storage,this.storageKey);if(i&&this.userStorage){let o=await Nc(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!o&&(o={user:i.user},await Sd(this.userStorage,this.storageKey+"-user",o)),i.user=(t=o?.user)!==null&&t!==void 0?t:Cw()}else if(i&&!i.user&&!i.user){const o=await Nc(this.storage,this.storageKey+"-user");o&&o?.user?(i.user=o.user,await gr(this.storage,this.storageKey+"-user"),await Sd(this.storage,this.storageKey,i)):i.user=Cw()}if(this._debug(r,"session from storage",i),!this._isValidSession(i)){this._debug(r,"session is not valid"),i!==null&&await this._removeSession();return}const a=((n=i.expires_at)!==null&&n!==void 0?n:1/0)*1e3-Date.now()<Ow;if(this._debug(r,`session has${a?"":" not"} expired with margin of ${Ow}s`),a){if(this.autoRefreshToken&&i.refresh_token){const{error:o}=await this._callRefreshToken(i.refresh_token);o&&(console.error(o),bb(o)||(this._debug(r,"refresh failed with a non-retryable error, removing the session",o),await this._removeSession()))}}else if(i.user&&i.user.__isUserNotAvailableProxy===!0)try{const{data:o,error:l}=await this._getUser(i.access_token);!l&&o?.user?(i.user=o.user,await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)):this._debug(r,"could not get user data, skipping SIGNED_IN notification")}catch(o){console.error("Error getting user data:",o),this._debug(r,"error getting user data, skipping SIGNED_IN notification",o)}else await this._notifyAllSubscribers("SIGNED_IN",i)}catch(i){this._debug(r,"error",i),console.error(i);return}finally{this._debug(r,"end")}}async _callRefreshToken(t){var n,r;if(!t)throw new ii;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const i=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(i,"begin");try{this.refreshingDeferred=new dv;const{data:a,error:o}=await this._refreshAccessToken(t);if(o)throw o;if(!a.session)throw new ii;await this._saveSession(a.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",a.session);const l={data:a.session,error:null};return this.refreshingDeferred.resolve(l),l}catch(a){if(this._debug(i,"error",a),Ge(a)){const o={data:null,error:a};return bb(a)||await this._removeSession(),(n=this.refreshingDeferred)===null||n===void 0||n.resolve(o),o}throw(r=this.refreshingDeferred)===null||r===void 0||r.reject(a),a}finally{this.refreshingDeferred=null,this._debug(i,"end")}}async _notifyAllSubscribers(t,n,r=!0){const i=`#_notifyAllSubscribers(${t})`;this._debug(i,"begin",n,`broadcast = ${r}`);try{this.broadcastChannel&&r&&this.broadcastChannel.postMessage({event:t,session:n});const a=[],o=Array.from(this.stateChangeEmitters.values()).map(async l=>{try{await l.callback(t,n)}catch(u){a.push(u)}});if(await Promise.all(o),a.length>0){for(let l=0;l<a.length;l+=1)console.error(a[l]);throw a[0]}}finally{this._debug(i,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0,await gr(this.storage,`${this.storageKey}-code-verifier`);const n=Object.assign({},t),r=n.user&&n.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!r&&n.user&&await Sd(this.userStorage,this.storageKey+"-user",{user:n.user});const i=Object.assign({},n);delete i.user;const a=qC(i);await Sd(this.storage,this.storageKey,a)}else{const i=qC(n);await Sd(this.storage,this.storageKey,i)}}async _removeSession(){this._debug("#_removeSession()"),this.suppressGetSessionWarning=!1,await gr(this.storage,this.storageKey),await gr(this.storage,this.storageKey+"-code-verifier"),await gr(this.storage,this.storageKey+"-user"),this.userStorage&&await gr(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&yr()&&window?.removeEventListener&&window.removeEventListener("visibilitychange",t)}catch(n){console.error("removing visibilitychange callback failed",n)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),wd);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async n=>{const{data:{session:r}}=n;if(!r||!r.refresh_token||!r.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const i=Math.floor((r.expires_at*1e3-t)/wd);this._debug("#_autoRefreshTokenTick()",`access token expires in ${i} ticks, a tick lasts ${wd}ms, refresh threshold is ${vk} ticks`),i<=vk&&await this._callRefreshToken(r.refresh_token)})}catch(n){console.error("Auto refresh tick failed with error. This is likely a transient error.",n)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof _2)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!yr()||!window?.addEventListener)return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window?.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const n=`#_onVisibilityChanged(${t})`;this._debug(n,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(n,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,n,r){const i=[`provider=${encodeURIComponent(n)}`];if(r?.redirectTo&&i.push(`redirect_to=${encodeURIComponent(r.redirectTo)}`),r?.scopes&&i.push(`scopes=${encodeURIComponent(r.scopes)}`),this.flowType==="pkce"){const[a,o]=await cd(this.storage,this.storageKey),l=new URLSearchParams({code_challenge:`${encodeURIComponent(a)}`,code_challenge_method:`${encodeURIComponent(o)}`});i.push(l.toString())}if(r?.queryParams){const a=new URLSearchParams(r.queryParams);i.push(a.toString())}return r?.skipBrowserRedirect&&i.push(`skip_http_redirect=${r.skipBrowserRedirect}`),`${t}?${i.join("&")}`}async _unenroll(t){try{return await this._useSession(async n=>{var r;const{data:i,error:a}=n;return a?this._returnResult({data:null,error:a}):await tt(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(r=i?.session)===null||r===void 0?void 0:r.access_token})})}catch(n){if(Ge(n))return this._returnResult({data:null,error:n});throw n}}async _enroll(t){try{return await this._useSession(async n=>{var r,i;const{data:a,error:o}=n;if(o)return this._returnResult({data:null,error:o});const l=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:t.factorType==="totp"?{issuer:t.issuer}:{}),{data:u,error:d}=await tt(this.fetch,"POST",`${this.url}/factors`,{body:l,headers:this.headers,jwt:(r=a?.session)===null||r===void 0?void 0:r.access_token});return d?this._returnResult({data:null,error:d}):(t.factorType==="totp"&&u.type==="totp"&&(!((i=u?.totp)===null||i===void 0)&&i.qr_code)&&(u.totp.qr_code=`data:image/svg+xml;utf-8,${u.totp.qr_code}`),this._returnResult({data:u,error:null}))})}catch(n){if(Ge(n))return this._returnResult({data:null,error:n});throw n}}async _verify(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var r;const{data:i,error:a}=n;if(a)return this._returnResult({data:null,error:a});const o=Object.assign({challenge_id:t.challengeId},"webauthn"in t?{webauthn:Object.assign(Object.assign({},t.webauthn),{credential_response:t.webauthn.type==="create"?PW(t.webauthn.credential_response):RW(t.webauthn.credential_response)})}:{code:t.code}),{data:l,error:u}=await tt(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:o,headers:this.headers,jwt:(r=i?.session)===null||r===void 0?void 0:r.access_token});return u?this._returnResult({data:null,error:u}):(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+l.expires_in},l)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",l),this._returnResult({data:l,error:u}))})}catch(n){if(Ge(n))return this._returnResult({data:null,error:n});throw n}})}async _challenge(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var r;const{data:i,error:a}=n;if(a)return this._returnResult({data:null,error:a});const o=await tt(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:t,headers:this.headers,jwt:(r=i?.session)===null||r===void 0?void 0:r.access_token});if(o.error)return o;const{data:l}=o;if(l.type!=="webauthn")return{data:l,error:null};switch(l.webauthn.type){case"create":return{data:Object.assign(Object.assign({},l),{webauthn:Object.assign(Object.assign({},l.webauthn),{credential_options:Object.assign(Object.assign({},l.webauthn.credential_options),{publicKey:MW(l.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},l),{webauthn:Object.assign(Object.assign({},l.webauthn),{credential_options:Object.assign(Object.assign({},l.webauthn.credential_options),{publicKey:DW(l.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(n){if(Ge(n))return this._returnResult({data:null,error:n});throw n}})}async _challengeAndVerify(t){const{data:n,error:r}=await this._challenge({factorId:t.factorId});return r?this._returnResult({data:null,error:r}):await this._verify({factorId:t.factorId,challengeId:n.id,code:t.code})}async _listFactors(){var t;const{data:{user:n},error:r}=await this.getUser();if(r)return{data:null,error:r};const i={all:[],phone:[],totp:[],webauthn:[]};for(const a of(t=n?.factors)!==null&&t!==void 0?t:[])i.all.push(a),a.status==="verified"&&i[a.factor_type].push(a);return{data:i,error:null}}async _getAuthenticatorAssuranceLevel(){var t,n;const{data:{session:r},error:i}=await this.getSession();if(i)return this._returnResult({data:null,error:i});if(!r)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:a}=Nw(r.access_token);let o=null;a.aal&&(o=a.aal);let l=o;((n=(t=r.user.factors)===null||t===void 0?void 0:t.filter(h=>h.status==="verified"))!==null&&n!==void 0?n:[]).length>0&&(l="aal2");const d=a.amr||[];return{data:{currentLevel:o,nextLevel:l,currentAuthenticationMethods:d},error:null}}async _getAuthorizationDetails(t){try{return await this._useSession(async n=>{const{data:{session:r},error:i}=n;return i?this._returnResult({data:null,error:i}):r?await tt(this.fetch,"GET",`${this.url}/oauth/authorizations/${t}`,{headers:this.headers,jwt:r.access_token,xform:a=>({data:a,error:null})}):this._returnResult({data:null,error:new ii})})}catch(n){if(Ge(n))return this._returnResult({data:null,error:n});throw n}}async _approveAuthorization(t,n){try{return await this._useSession(async r=>{const{data:{session:i},error:a}=r;if(a)return this._returnResult({data:null,error:a});if(!i)return this._returnResult({data:null,error:new ii});const o=await tt(this.fetch,"POST",`${this.url}/oauth/authorizations/${t}/consent`,{headers:this.headers,jwt:i.access_token,body:{action:"approve"},xform:l=>({data:l,error:null})});return o.data&&o.data.redirect_url&&yr()&&!n?.skipBrowserRedirect&&window.location.assign(o.data.redirect_url),o})}catch(r){if(Ge(r))return this._returnResult({data:null,error:r});throw r}}async _denyAuthorization(t,n){try{return await this._useSession(async r=>{const{data:{session:i},error:a}=r;if(a)return this._returnResult({data:null,error:a});if(!i)return this._returnResult({data:null,error:new ii});const o=await tt(this.fetch,"POST",`${this.url}/oauth/authorizations/${t}/consent`,{headers:this.headers,jwt:i.access_token,body:{action:"deny"},xform:l=>({data:l,error:null})});return o.data&&o.data.redirect_url&&yr()&&!n?.skipBrowserRedirect&&window.location.assign(o.data.redirect_url),o})}catch(r){if(Ge(r))return this._returnResult({data:null,error:r});throw r}}async _listOAuthGrants(){try{return await this._useSession(async t=>{const{data:{session:n},error:r}=t;return r?this._returnResult({data:null,error:r}):n?await tt(this.fetch,"GET",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:n.access_token,xform:i=>({data:i,error:null})}):this._returnResult({data:null,error:new ii})})}catch(t){if(Ge(t))return this._returnResult({data:null,error:t});throw t}}async _revokeOAuthGrant(t){try{return await this._useSession(async n=>{const{data:{session:r},error:i}=n;return i?this._returnResult({data:null,error:i}):r?(await tt(this.fetch,"DELETE",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:r.access_token,query:{client_id:t.clientId},noResolveJson:!0}),{data:{},error:null}):this._returnResult({data:null,error:new ii})})}catch(n){if(Ge(n))return this._returnResult({data:null,error:n});throw n}}async fetchJwk(t,n={keys:[]}){let r=n.keys.find(l=>l.kid===t);if(r)return r;const i=Date.now();if(r=this.jwks.keys.find(l=>l.kid===t),r&&this.jwks_cached_at+KK>i)return r;const{data:a,error:o}=await tt(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(o)throw o;return!a.keys||a.keys.length===0||(this.jwks=a,this.jwks_cached_at=i,r=a.keys.find(l=>l.kid===t),!r)?null:r}async getClaims(t,n={}){try{let r=t;if(!r){const{data:x,error:k}=await this.getSession();if(k||!x.session)return this._returnResult({data:null,error:k});r=x.session.access_token}const{header:i,payload:a,signature:o,raw:{header:l,payload:u}}=Nw(r);n?.allowExpired||fW(a.exp);const d=!i.alg||i.alg.startsWith("HS")||!i.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(i.kid,n?.keys?{keys:n.keys}:n?.jwks);if(!d){const{error:x}=await this.getUser(r);if(x)throw x;return{data:{claims:a,header:i,signature:o},error:null}}const h=hW(i.alg),p=await crypto.subtle.importKey("jwk",d,h,!0,["verify"]);if(!await crypto.subtle.verify(h,p,o,QK(`${l}.${u}`)))throw new $b("Invalid JWT signature");return{data:{claims:a,header:i,signature:o},error:null}}catch(r){if(Ge(r))return this._returnResult({data:null,error:r});throw r}}};w2.nextInstanceID={};const GW=x2,qW=w2,YW=Object.freeze(Object.defineProperty({__proto__:null,AuthAdminApi:GW,AuthApiError:BB,AuthClient:qW,AuthError:Hd,AuthImplicitGrantRedirectError:im,AuthInvalidCredentialsError:rm,AuthInvalidJwtError:$b,AuthInvalidTokenResponseError:Bc,AuthPKCEGrantCodeExchangeError:_k,AuthRetryableFetchError:Ib,AuthSessionMissingError:ii,AuthUnknownError:El,AuthWeakPasswordError:wk,CustomAuthError:Ts,GoTrueAdminApi:x2,GoTrueClient:w2,NavigatorLockAcquireTimeoutError:YB,SIGN_OUT_SCOPES:yb,isAuthApiError:zB,isAuthError:Ge,isAuthImplicitGrantRedirectError:FB,isAuthRetryableFetchError:bb,isAuthSessionMissingError:UB,isAuthWeakPasswordError:WK,lockInternals:Uc,navigatorLock:KB,processLock:SW},Symbol.toStringTag,{value:"Module"})),ZB=Qm(YW);var QC;function KW(){if(QC)return Mh;QC=1,Object.defineProperty(Mh,"__esModule",{value:!0}),Mh.SupabaseAuthClient=void 0;const e=ZB;let t=class extends e.AuthClient{constructor(r){super(r)}};return Mh.SupabaseAuthClient=t,Mh}var eM;function tM(){if(eM)return d0;eM=1,Object.defineProperty(d0,"__esModule",{value:!0});const e=lB,t=mB(),n=SB,r=$K,i=zK(),a=UK(),o=FK(),l=KW();class u{constructor(h,p,b){var x,k,S;this.supabaseUrl=h,this.supabaseKey=p;const _=(0,o.validateSupabaseUrl)(h);if(!p)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",_),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",_),this.storageUrl=new URL("storage/v1",_),this.functionsUrl=new URL("functions/v1",_);const T=`sb-${_.hostname.split(".")[0]}-auth-token`,N={db:i.DEFAULT_DB_OPTIONS,realtime:i.DEFAULT_REALTIME_OPTIONS,auth:Object.assign(Object.assign({},i.DEFAULT_AUTH_OPTIONS),{storageKey:T}),global:i.DEFAULT_GLOBAL_OPTIONS},j=(0,o.applySettingDefaults)(b??{},N);this.storageKey=(x=j.auth.storageKey)!==null&&x!==void 0?x:"",this.headers=(k=j.global.headers)!==null&&k!==void 0?k:{},j.accessToken?(this.accessToken=j.accessToken,this.auth=new Proxy({},{get:(C,M)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(M)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((S=j.auth)!==null&&S!==void 0?S:{},this.headers,j.global.fetch),this.fetch=(0,a.fetchWithAuth)(p,this._getAccessToken.bind(this),j.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},j.realtime)),this.accessToken&&this.accessToken().then(C=>this.realtime.setAuth(C)).catch(C=>console.warn("Failed to set initial Realtime auth token:",C)),this.rest=new t.PostgrestClient(new URL("rest/v1",_).href,{headers:this.headers,schema:j.db.schema,fetch:this.fetch}),this.storage=new r.StorageClient(this.storageUrl.href,this.headers,this.fetch,b?.storage),j.accessToken||this._listenForAuthEvents()}get functions(){return new e.FunctionsClient(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(h){return this.rest.from(h)}schema(h){return this.rest.schema(h)}rpc(h,p={},b={head:!1,get:!1,count:void 0}){return this.rest.rpc(h,p,b)}channel(h,p={config:{}}){return this.realtime.channel(h,p)}getChannels(){return this.realtime.getChannels()}removeChannel(h){return this.realtime.removeChannel(h)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var h,p;if(this.accessToken)return await this.accessToken();const{data:b}=await this.auth.getSession();return(p=(h=b.session)===null||h===void 0?void 0:h.access_token)!==null&&p!==void 0?p:this.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:h,persistSession:p,detectSessionInUrl:b,storage:x,userStorage:k,storageKey:S,flowType:_,lock:T,debug:N,throwOnError:j},C,M){const P={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new l.SupabaseAuthClient({url:this.authUrl.href,headers:Object.assign(Object.assign({},P),C),storageKey:S,autoRefreshToken:h,persistSession:p,detectSessionInUrl:b,storage:x,userStorage:k,flowType:_,lock:T,debug:N,throwOnError:j,fetch:M,hasCustomAuthorizationHeader:Object.keys(this.headers).some($=>$.toLowerCase()==="authorization")})}_initRealtimeClient(h){return new n.RealtimeClient(this.realtimeUrl.href,Object.assign(Object.assign({},h),{params:Object.assign({apikey:this.supabaseKey},h?.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((p,b)=>{this._handleTokenChanged(p,"CLIENT",b?.access_token)})}_handleTokenChanged(h,p,b){(h==="TOKEN_REFRESHED"||h==="SIGNED_IN")&&this.changedAccessToken!==b?(this.changedAccessToken=b,this.realtime.setAuth(b)):h==="SIGNED_OUT"&&(this.realtime.setAuth(),p=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}return d0.default=u,d0}var nM;function WW(){return nM||(nM=1,(function(e){var t=as&&as.__createBinding||(Object.create?(function(h,p,b,x){x===void 0&&(x=b);var k=Object.getOwnPropertyDescriptor(p,b);(!k||("get"in k?!p.__esModule:k.writable||k.configurable))&&(k={enumerable:!0,get:function(){return p[b]}}),Object.defineProperty(h,x,k)}):(function(h,p,b,x){x===void 0&&(x=b),h[x]=p[b]})),n=as&&as.__exportStar||function(h,p){for(var b in h)b!=="default"&&!Object.prototype.hasOwnProperty.call(p,b)&&t(p,h,b)},r=as&&as.__importDefault||function(h){return h&&h.__esModule?h:{default:h}};Object.defineProperty(e,"__esModule",{value:!0}),e.createClient=e.SupabaseClient=e.FunctionRegion=e.FunctionsError=e.FunctionsRelayError=e.FunctionsFetchError=e.FunctionsHttpError=e.PostgrestError=void 0;const i=r(tM());n(ZB,e);var a=mB();Object.defineProperty(e,"PostgrestError",{enumerable:!0,get:function(){return a.PostgrestError}});var o=lB;Object.defineProperty(e,"FunctionsHttpError",{enumerable:!0,get:function(){return o.FunctionsHttpError}}),Object.defineProperty(e,"FunctionsFetchError",{enumerable:!0,get:function(){return o.FunctionsFetchError}}),Object.defineProperty(e,"FunctionsRelayError",{enumerable:!0,get:function(){return o.FunctionsRelayError}}),Object.defineProperty(e,"FunctionsError",{enumerable:!0,get:function(){return o.FunctionsError}}),Object.defineProperty(e,"FunctionRegion",{enumerable:!0,get:function(){return o.FunctionRegion}}),n(SB,e);var l=tM();Object.defineProperty(e,"SupabaseClient",{enumerable:!0,get:function(){return r(l).default}});const u=(h,p,b)=>new i.default(h,p,b);e.createClient=u;function d(){if(typeof window<"u"||typeof process>"u")return!1;const h=process.version;if(h==null)return!1;const p=h.match(/^v(\d+)\./);return p?parseInt(p[1],10)<=18:!1}d()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217")})(as)),as}var XB=WW();const JB=hi(XB),VW=i2({__proto__:null,default:JB},[XB]),{PostgrestError:nOe,FunctionsHttpError:rOe,FunctionsFetchError:iOe,FunctionsRelayError:aOe,FunctionsError:oOe,FunctionRegion:sOe,SupabaseClient:lOe,createClient:ZW,GoTrueAdminApi:cOe,GoTrueClient:uOe,AuthAdminApi:dOe,AuthClient:fOe,navigatorLock:hOe,NavigatorLockAcquireTimeoutError:mOe,lockInternals:pOe,processLock:gOe,SIGN_OUT_SCOPES:bOe,AuthError:yOe,AuthApiError:vOe,AuthUnknownError:xOe,CustomAuthError:_Oe,AuthSessionMissingError:wOe,AuthInvalidTokenResponseError:SOe,AuthInvalidCredentialsError:kOe,AuthImplicitGrantRedirectError:EOe,AuthPKCEGrantCodeExchangeError:AOe,AuthRetryableFetchError:TOe,AuthWeakPasswordError:jOe,AuthInvalidJwtError:OOe,isAuthError:NOe,isAuthApiError:COe,isAuthSessionMissingError:MOe,isAuthImplicitGrantRedirectError:DOe,isAuthRetryableFetchError:POe,isAuthWeakPasswordError:ROe,RealtimePresence:LOe,RealtimeChannel:IOe,RealtimeClient:$Oe,REALTIME_LISTEN_TYPES:BOe,REALTIME_POSTGRES_CHANGES_LISTEN_EVENT:zOe,REALTIME_PRESENCE_LISTEN_EVENTS:UOe,REALTIME_SUBSCRIBE_STATES:FOe,REALTIME_CHANNEL_STATES:HOe}=JB||VW,XW="https://jouhybyquybxbnqztxum.supabase.co",JW="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImpvdWh5YnlxdXlieGJucXp0eHVtIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjQ5NjIwOTgsImV4cCI6MjA4MDUzODA5OH0.qAD7S7yRW8GxcRze_3dyirReIy6HvMr9DeET-djp1Fw",De=ZW(XW,JW,{auth:{flowType:"pkce",persistSession:!0,autoRefreshToken:!0,detectSessionInUrl:!0,storage:localStorage}}),QB="settings_v1",kk=()=>{try{typeof window<"u"&&window.localStorage.removeItem(QB)}catch{}},Jc={hiddenStem:"all",hiddenStemMode:"classic",ilunRule:"/",sinsalMode:"classic",sinsalBase:"",sinsalBloom:!1,exposure:"",charType:"",thinEum:!1,showSipSin:!0,showSibiSinsal:!0,showSibiUnseong:!0,showNabeum:!0,showEtcShinsal:!0,showRelationBox:!0,showPromptBox:!0,theme:"dark",difficultyMode:!1,sectionOrder:["hiddenStem","hiddenStemMode","ilunRule","sinsalMode","sinsalBase","sinsalBloom","exposure","charType","thinEum","visibility","difficultyMode"]},rM=["theme","hiddenStem","hiddenStemMode","ilunRule","sinsalMode","sinsalBase","sinsalBloom","exposure","charType","thinEum","visibility","difficultyMode"],QW=e=>{const t=Array.isArray(e)?e.filter(r=>typeof r=="string"&&rM.includes(r)):[],n=rM.filter(r=>!t.includes(r));return[...t,...n]},Rd=e=>({...Jc,...e,sectionOrder:QW(e.sectionOrder)}),eV=e=>{if(e&&typeof e=="object"){const t=e;if(t.settings&&typeof t.settings=="object")return Rd(t.settings);if(t.state&&typeof t.state=="object"){const n=t.state;if(n.settings&&typeof n.settings=="object")return Rd(n.settings)}}return Rd(e??{})},tV=e=>{if(!e||typeof e!="object")return!1;const t=e;return!!(t.state||t.settings)};kk();const jn=As()(R$((e,t)=>({settings:Jc,syncing:!1,loaded:!1,setSettings:n=>e({settings:Rd(n)}),setKey:(n,r)=>e({settings:Rd({...t().settings,[n]:r})}),reset:()=>e({settings:Jc,loaded:!0}),loadFromServer:async n=>{const r=t();if(!r.syncing&&!(!n?.force&&r.loaded))try{e({syncing:!0}),kk();const{data:i,error:a}=await De.auth.getUser(),o=i?.user??null;if(a||!o){e({settings:Jc,syncing:!1,loaded:!0});return}const l=t();!n?.force&&l.loaded&&l.syncing;const{data:u,error:d}=await De.from("user_settings").select("payload").eq("user_id",o.id).maybeSingle();if(!u&&!d&&await De.from("user_settings").upsert({user_id:o.id,payload:{}}),d&&d.code!=="PGRST116"){console.error("loadFromServer(settings) error:",d),e({syncing:!1,loaded:!0});return}if(u?.payload){const h=eV(u.payload);e({settings:h,syncing:!1,loaded:!0}),tV(u.payload)&&await De.from("user_settings").upsert({user_id:o.id,payload:h,updated_at:new Date().toISOString()});return}await t().saveToServer(!0),e({syncing:!1,loaded:!0})}catch(i){console.error("loadFromServer(settings) exception:",i),e({syncing:!1,loaded:!0})}},saveToServer:async(n=!1)=>{try{if(!t().loaded&&!n)return;e({syncing:!0}),kk();const{data:r,error:i}=await De.auth.getUser(),a=r?.user??null;if(i||!a){e({syncing:!1,loaded:!0,settings:Jc});return}const o=Rd(t().settings),{error:l}=await De.from("user_settings").upsert({user_id:a.id,payload:o,updated_at:new Date().toISOString()});l&&console.error("saveToServer(settings) error:",l),e({syncing:!1,loaded:!0})}catch(r){console.error("saveToServer(settings) exception:",r),e({syncing:!1,loaded:!0})}}}),{name:QB,storage:{getItem:()=>null,setItem:()=>null,removeItem:()=>null},merge:(e,t)=>t}));function Ek(e){const t=Hr.indexOf(e);if(t!==-1)return Hr[t];const n=Ka..indexOf(e);return n!==-1?Hr[n]:null}function e5(e){const t=ui.indexOf(e);if(t!==-1)return ui[t];const n=Ka..indexOf(e);return n!==-1?ui[n]:null}function iM(e,t){if(t?.difficultyMode)return t?.theme==="light"?"bg-white border border-gray-300 text-neutral-900":"bg-white text-black";switch(e){case"":return"bg-green-600 text-white";case"":return"bg-red-600 text-white";case"":return"bg-yellow-500 text-white";case"":return"bg-gray-400 text-white";case"":return"bg-black text-white";default:return"bg-neutral-700 text-white"}}function Ui(e,t,n){if(t==="stem"){const r=Ek(e);if(!r)return console.warn("Invalid stem:",e),"bg-neutral-700";const i=Hr.indexOf(r),a=i>=0?yY[i]:void 0;return iM(a,n)}else{const r=e5(e);if(!r)return console.warn("Invalid branch:",e),"bg-neutral-700";const i=ui.indexOf(r),a=i>=0?vY[i]:void 0;return iM(a,n)}}function ma(e,t){const n=Ek(e);if(!n)throw new Error(`getSipSin: invalid dayStem ${e}`);if(t.stem){const r=Ek(t.stem);if(!r)throw new Error(`getSipSin: invalid stem ${t.stem}`);return wY[n][r]}if(t.branch){const r=e5(t.branch);if(!r)throw new Error(`getSipSin: invalid branch ${t.branch}`);return SY[n][r]}throw new Error("getSipSin: stem or branch required")}const fv={:["","(-)",""],:["","",""],:["","",""],:["","(-)",""],:["","",""],:["","",""],:["","",""],:["","",""],:["","",""],:["","(-)",""],:["","",""],:["","",""]},hv={:["(-)","(-)",""],:["","",""],:["(-)","",""],:["(-)","(-)",""],:["","",""],:["(-)","",""],:["(-)","(-)",""],:["","",""],:["(-)","",""],:["(-)","(-)",""],:["","",""],:["(-)","",""]};function t5({branch:e,dayStem:t,mode:n="all",mapping:r="classic",variant:i="auto",isUnknownTime:a=!1}){const o=(r==="hgc"?hv:fv)[e]??[],l=n==="main"?[o[2]]:o,u=i==="white",d=u?"text-white":"text-neutral-800 dark:text-white",h=u?"border-white":"border-neutral-800 dark: border-neutral-200",p=u?"text-yellow-900":"text-red-600 dark:text-yellow-300";return g.jsx("div",{className:"w-full flex flex-col gap-1 mt-1",children:l.map((b,x)=>b==="(-)"||a?g.jsx("div",{className:`w-full max-w-[80px] mx-auto text-[10px] desk:text-xs text-neutral-500 py-0.5 desk:px-1 border ${h} ${d} rounded text-center text-nowrap`,children:"(-) ()"},x):g.jsxs("div",{className:`w-full max-w-[80px] mx-auto text-[10px] desk:text-xs py-0.5 desk:px-1 border ${h} ${d} rounded text-center text-nowrap 
            ${n==="main"||x===2?`jeonggi bg-neutral-500/50 ${p} font-bold`:""}`,children:[b," (",ma(t,{stem:b}),")"]},x))})}const ap=As(e=>({manualHour:null,setManualHour:t=>e({manualHour:t}),clearManualHour:()=>e({manualHour:null})})),n5=Object.fromEntries(Object.entries(Bn).map(([e,t])=>[t,e])),r5=Object.fromEntries(Object.entries(Kn).map(([e,t])=>[t,e])),nV=new Set(Object.keys(Bn)),rV=new Set(Object.keys(Kn)),iV=new Set(["","","","","","","","","",""]),aV=new Set(["","","","","","","","","","","",""]);function di(e,t,n){return n===""?t==="stem"?Bn[e]??e:Kn[e]??e:t==="stem"?n5[e]??e:r5[e]??e}function aM(e){const t=n5[e]??e;return nV.has(t)?t:""}function oV(e){const t=r5[e]??e;return rV.has(t)?t:""}function mv(e){if(Ud.has(e))return e;const t=Bn[e]??e;return Ud.has(t)?t:""}function S2(e){if(_m.has(e))return e;const t=Kn[e]??e;return _m.has(t)?t:""}function Ha(e,t){return t==="stem"?iV.has(e):aV.has(e)}function Ed({label:e,gz:t,dayStem:n,settings:r,unseongText:i,shinsalText:a,hideBranchSipSin:o=!0,hideHiddenStems:l=!1,size:u="sm",variant:d="auto",isUnknownTime:h=!1}){const{manualHour:p}=ap(),b=h&&!p,x=t.charAt(0),k=t.charAt(1),S=di(x,"stem",r.charType),_=di(k,"branch",r.charType),T=aM(x),N=oV(k),j=aM(n),C=S2(k),M=mv(n),P=r.showSipSin?ma(j,{stem:T}):null,$=!o&&r.showSipSin?ma(j,{branch:N}):null,U=r.thinEum&&Ha(x,"stem")?"font-thin":"font-bold",Y=r.thinEum&&Ha(k,"branch")?"font-thin":"font-bold",W={sm:"w-10 h-10 sm:w-12 sm:h-12",md:"w-12 h-12 sm:w-14 sm:h-14 md:w-16 md:h-16",lg:"w-14 h-14 sm:w-16 sm:h-16 md:w-20 md:h-20"},H=!l&&!!r.hiddenStem,z=r.hiddenStem==="regular"?"main":"all",V=r.hiddenStemMode==="hgc"?"hgc":"classic",X=d==="white",Z=X?"bg-white text-neutral-900 border border-neutral-200":"bg-white dark:bg-neutral-900 text-neutral-900 dark:text-neutral-100 border border-neutral-200 dark:border-neutral-800",q=X?"bg-neutral-100 text-neutral-700":"bg-neutral-100 dark:bg-neutral-800/60 text-neutral-700 dark:text-neutral-200",Q=X?"border-neutral-200":"border-neutral-200 dark:border-neutral-800",ne=X?"text-neutral-500":"text-neutral-400",ue=X?"text-neutral-500":"text-neutral-400",{settings:se}=jn(),B=b?`bg-white ${Q}`:`${Ui(T,"stem",se)} ${Q}`,K=b?`bg-white ${Q}`:`${Ui(N,"branch",se)} ${Q}`,ie=b?"text-black":se.difficultyMode?se.theme==="light"?"text-neutral-900":"text-black":"text-white",J=b?"text-black":se.difficultyMode?se.theme==="light"?"text-neutral-900":"text-black":"text-white";return g.jsxs("div",{className:`rounded-sm desk:rounded-xl overflow-hidden ${Z}`,children:[g.jsx("div",{className:`py-2 text-center text-[10px] desk:text-xs tracking-wider ${q} text-nowrap`,children:e}),g.jsxs("div",{className:"py-3 flex flex-col items-center gap-1",children:[P&&g.jsx("div",{className:`text-[10px] desk:text-xs ${ne} text-nowrap`,children:h&&!p?"-":P}),g.jsx("div",{className:`${W[u]} rounded-sm desk:rounded-lg flex items-center justify-center border ${B}`,children:g.jsx("span",{className:`text-2xl md:text-3xl ${ie} ${U}`,children:b?"-":S})}),g.jsx("div",{className:`${W[u]} rounded-sm desk:rounded-lg flex items-center justify-center border ${K}`,children:g.jsx("span",{className:`text-2xl md:text-3xl ${J} ${Y}`,children:b?"-":_})}),H&&g.jsx(t5,{branch:C,dayStem:M,mode:z,mapping:V,isUnknownTime:h&&!p&&(e===""||e==="")}),$&&g.jsx("div",{className:`text-[10px] desk:text-xs ${ue}`,children:h&&!p?"-":$}),r.showSibiUnseong&&g.jsx("div",{className:`text-[10px] desk:text-xs ${ue} text-nowrap`,children:h&&!p?"-":i||""}),r.showSibiSinsal&&g.jsx("div",{className:`text-[10px] desk:text-xs ${ue} text-nowrap`,children:h&&!p?"-":a||""})]})]})}/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sV=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),lV=e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(t,n,r)=>r?r.toUpperCase():n.toLowerCase()),oM=e=>{const t=lV(e);return t.charAt(0).toUpperCase()+t.slice(1)},i5=(...e)=>e.filter((t,n,r)=>!!t&&t.trim()!==""&&r.indexOf(t)===n).join(" ").trim(),cV=e=>{for(const t in e)if(t.startsWith("aria-")||t==="role"||t==="title")return!0};/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var uV={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dV=w.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:i="",children:a,iconNode:o,...l},u)=>w.createElement("svg",{ref:u,...uV,width:t,height:t,stroke:e,strokeWidth:r?Number(n)*24/Number(t):n,className:i5("lucide",i),...!a&&!cV(l)&&{"aria-hidden":"true"},...l},[...o.map(([d,h])=>w.createElement(d,h)),...Array.isArray(a)?a:[a]]));/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mr=(e,t)=>{const n=w.forwardRef(({className:r,...i},a)=>w.createElement(dV,{ref:a,iconNode:t,className:i5(`lucide-${sV(oM(e))}`,`lucide-${e}`,r),...i}));return n.displayName=oM(e),n};/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fV=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],hV=Mr("chevron-down",fV);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mV=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],pV=Mr("chevron-up",mV);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gV=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]],a5=Mr("circle-question-mark",gV);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bV=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],yV=Mr("circle-x",bV);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vV=[["path",{d:"M19.414 14.414C21 12.828 22 11.5 22 9.5a5.5 5.5 0 0 0-9.591-3.676.6.6 0 0 1-.818.001A5.5 5.5 0 0 0 2 9.5c0 2.3 1.5 4 3 5.5l5.535 5.362a2 2 0 0 0 2.879.052 2.12 2.12 0 0 0-.004-3 2.124 2.124 0 1 0 3-3 2.124 2.124 0 0 0 3.004 0 2 2 0 0 0 0-2.828l-1.881-1.882a2.41 2.41 0 0 0-3.409 0l-1.71 1.71a2 2 0 0 1-2.828 0 2 2 0 0 1 0-2.828l2.823-2.762",key:"17lmqv"}]],xV=Mr("heart-handshake",vV);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _V=[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-6a2 2 0 0 1 2.582 0l7 6A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"r6nss1"}]],wV=Mr("house",_V);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SV=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],kV=Mr("info",SV);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EV=[["path",{d:"m10 17 5-5-5-5",key:"1bsop3"}],["path",{d:"M15 12H3",key:"6jk70r"}],["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}]],k2=Mr("log-in",EV);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AV=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],o5=Mr("log-out",AV);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TV=[["path",{d:"M4 5h16",key:"1tepv9"}],["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 19h16",key:"1djgab"}]],jV=Mr("menu",TV);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OV=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],NV=Mr("plus",OV);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CV=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],MV=Mr("settings",CV);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DV=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}],["path",{d:"M7 21v-2a2 2 0 0 1 2-2h6a2 2 0 0 1 2 2v2",key:"1m6ac2"}]],PV=Mr("square-user",DV);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RV=[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]],s5=Mr("star",RV);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LV=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]],IV=Mr("user-plus",LV);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $V=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],Fb=Mr("x",$V);function BV(){const[e,t]=w.useState(!1);return g.jsx("div",{className:"z-[60] pointer-events-none mt-2",children:g.jsx("div",{className:"max-w-[700px] w-full mx-auto pb-2 pointer-events-auto",children:g.jsxs("div",{className:"rounded-xl border border-neutral-200 bg-white/90 backdrop-blur shadow-sm dark:border-neutral-800 dark:bg-neutral-950/80",children:[g.jsxs("button",{type:"button",onClick:()=>t(n=>!n),className:"w-full flex flex-col desk:flex-row items-center justify-between gap-2 px-3 py-2 cursor-pointer",children:[g.jsx("div",{className:"flex items-center gap-2 min-w-0",children:g.jsxs("div",{className:"flex items-center gap-2",children:[g.jsx(kV,{className:"w-4 h-4 text-neutral-600 dark:text-neutral-300 hidden desk:block"}),g.jsx("span",{className:"text-xs text-neutral-700 dark:text-neutral-200",children:"         ."})]})}),g.jsx("span",{className:"text-[11px] text-neutral-500 dark:text-neutral-400",children:e?"":""})]}),e&&g.jsx("div",{className:"px-3 pb-3",children:g.jsxs("div",{className:"text-[12px] leading-relaxed text-neutral-700 dark:text-neutral-200",children:[g.jsx("p",{className:"mt-1 text-neutral-500 dark:text-neutral-400",children:"  /     ."}),g.jsx("p",{children:g.jsx("a",{href:"https://yavares.tistory.com/1013",target:"_blank",children:g.jsx("ins",{className:"text-amber-500",children:"     !"})})})]})})]})})})}const zV=new Set(Ka.);function UV(e){return Ud.has(e)?e:zV.has(e)?Bn[e]:""}function FV(e){if(!e||e<=0)return"0";const t=Math.floor(e/1e3),n=Math.floor(t/86400),r=Math.floor(t%86400/3600),i=Math.floor(t%3600/60);return n>=1?`${n} ${r}`:r>=1?`${r} ${i}`:`${i}`}function HV({label:e,settings:t,hideBranchSipSin:n=!0}){const r=t.showSipSin,i=!!t.hiddenStem,o=(t.hiddenStem==="regular"?"main":"all")==="main"?1:3,l=t.showSipSin&&!n;return g.jsxs("div",{className:"rounded-sm desk:rounded-xl bg-white dark:bg-neutral-900 border border-neutral-200 dark:border-neutral-800 overflow-hidden transition-colors",children:[g.jsx("div",{className:"py-2 text-center text-[10px] desk:text-xs tracking-wider bg-neutral-100 dark:bg-neutral-800/60 text-neutral-700 dark:text-neutral-200 text-nowrap",children:e}),g.jsxs("div",{className:"p-3 flex flex-col items-center gap-1",children:[r&&g.jsx("div",{className:"text-[10px] desk:text-xs text-neutral-500 dark:text-neutral-400 text-nowrap",children:"-"}),g.jsx("div",{className:"w-10 h-10 sm:w-12 sm:h-12 rounded-sm desk:rounded-lg flex items-center justify-center border border-neutral-200 dark:border-neutral-800 bg-white",children:g.jsx("span",{className:"text-2xl md:text-3xl font-bold text-neutral-900",children:"-"})}),g.jsx("div",{className:"w-10 h-10 sm:w-12 sm:h-12 rounded-sm desk:rounded-lg flex items-center justify-center border border-neutral-200 dark:border-neutral-800 bg-white",children:g.jsx("span",{className:"text-2xl md:text-3xl font-bold text-neutral-900",children:"-"})}),i&&g.jsx("div",{className:"flex flex-col gap-1 mt-1 w-full",children:Array.from({length:o}).map((u,d)=>g.jsx("div",{className:"w-full max-w-[80px] mx-auto text-[10px] desk:text-xs py-0.5 desk:px-1 border border-neutral-200 dark:border-neutral-800 rounded text-center text-nowrap text-neutral-500 dark:text-neutral-400",children:"-"},d))}),l&&g.jsx("div",{className:"text-[10px] desk:text-xs text-neutral-500 dark:text-neutral-400",children:"-"})]})]})}function GV(){const e=jn(_=>_.settings),[t,n]=w.useState(new Date),[r,i]=w.useState(!0),[a,o]=w.useState("/"),[l,u]=w.useState(!1),[d,h]=w.useState(null);w.useEffect(()=>{if(!r)return;const _=setInterval(()=>n(new Date),1e3);return()=>clearInterval(_)},[r]),w.useEffect(()=>{let _=!0;const T=async()=>{const{data:C}=await De.auth.getSession(),M=C.session?.user?.id;if(!M){_&&h(null);return}const{data:P,error:$}=await De.from("user_activity").select("total_active_ms").eq("user_id",M).maybeSingle();if($){_&&h(null);return}const U=P?.total_active_ms;_&&h(typeof U=="number"?U:null)};T();const N=window.setInterval(()=>void T(),6e4),j=()=>{document.visibilityState==="visible"&&T()};return document.addEventListener("visibilitychange",j),()=>{_=!1,window.clearInterval(N),document.removeEventListener("visibilitychange",j)}},[]);const p=ot(t),b=_t(t),x=pt(t,a),k=Fa(t,"/"),S=UV(x.charAt(0));return g.jsx("div",{className:"flex justify-center items-center pt-16 desk:mt-12 w-full h-auto desk:h-[calc(100dvh_-_212px)] ",children:g.jsxs("div",{className:`w-[96%] max-w-[640px] mx-auto mb-4 p-4
                      bg-white dark:bg-neutral-950
                      text-neutral-900 dark:text-neutral-100
                      rounded-xl shadow border border-neutral-200 dark:border-neutral-800 transition-colors`,children:[g.jsxs("div",{className:"mb-3 text-xs desk:text-sm text-neutral-600 dark:text-neutral-300",children:["  :"," ",g.jsx("span",{className:"font-semibold text-neutral-900 dark:text-neutral-100",children:FV(d)})]}),g.jsxs("header",{className:"flex flex-col desk:flex-row items-center justify-center desk:justify-between mb-4 gap-2",children:[g.jsxs("div",{className:"font-semibold text-sm desk:text-base",children:[" "," ",g.jsxs("span",{className:"text-neutral-500 dark:text-neutral-400",children:["(",r?"":"",") ",KV(t)]})]}),g.jsxs("div",{className:"flex gap-2 items-center",children:[g.jsxs("select",{value:a,onChange:_=>o(_.target.value),className:`text-xs rounded px-2 py-1 h-30 cursor-pointer
                        bg-white dark:bg-neutral-900
                        border border-neutral-300 dark:border-neutral-700
                        text-neutral-900 dark:text-neutral-100
                        focus:outline-none focus:ring-2 focus:ring-amber-500/40`,children:[g.jsx("option",{value:"",children:" ( 23)"}),g.jsx("option",{value:"/",children:"/ ()"}),g.jsx("option",{value:"",children:" ( 3)"})]}),g.jsx("button",{onClick:()=>u(_=>!_),className:`text-xs px-3 py-1 rounded border transition-colors cursor-pointer
                          ${l?"bg-white text-neutral-900 border-neutral-300 hover:bg-neutral-100":"bg-neutral-100 text-neutral-900 border-neutral-200 hover:bg-neutral-200 dark:bg-neutral-800 dark:text-neutral-100 dark:border-neutral-700 dark:hover:bg-neutral-700"}`,title:"     ",children:l?" ":" "})]})]}),g.jsxs("div",{className:"grid grid-cols-4 gap-3 mb-6",children:[l?g.jsx(HV,{label:"",settings:e,hideBranchSipSin:!0}):g.jsx(Ed,{label:"",gz:k,dayStem:S,settings:e,hideBranchSipSin:!0}),g.jsx(Ed,{label:"",gz:x,dayStem:S,settings:e,hideBranchSipSin:!0}),g.jsx(Ed,{label:"",gz:b,dayStem:S,settings:e,hideBranchSipSin:!0}),g.jsx(Ed,{label:"",gz:p,dayStem:S,settings:e,hideBranchSipSin:!0})]}),g.jsxs("div",{className:"flex flex-col desk:flex-row gap-2 desk:gap-3 items-center",children:[g.jsx("label",{className:"text-sm text-neutral-600 dark:text-neutral-300",children:"/ "}),g.jsxs("div",{className:"flex items-center gap-2",children:[g.jsx("input",{type:"datetime-local",value:qV(t),disabled:r,onChange:_=>{const T=YV(_.target.value);T&&n(T)},className:`h-30 rounded px-3 py-1 text-sm transition-colors
                          bg-white dark:bg-neutral-900
                          border border-neutral-300 dark:border-neutral-700
                          text-neutral-900 dark:text-neutral-100
                          focus:outline-none focus:ring-2 focus:ring-amber-500/40
                          ${r?"opacity-50 cursor-not-allowed":"cursor-pointer"}`,min:"1900-01-01T00:00",max:"2100-12-31T23:59"}),g.jsx("button",{onClick:()=>i(!r),className:`text-xs px-3 py-1 rounded transition-colors cursor-pointer
                        bg-neutral-100 hover:bg-neutral-200
                        dark:bg-neutral-800 dark:hover:bg-neutral-700
                        text-neutral-900 dark:text-neutral-100
                        border border-neutral-200 dark:border-neutral-700`,children:r?" ":" "})]})]}),g.jsx(BV,{})]})})}function qV(e){const t=n=>n.toString().padStart(2,"0");return`${e.getFullYear()}-${t(e.getMonth()+1)}-${t(e.getDate())}T${t(e.getHours())}:${t(e.getMinutes())}`}function YV(e){if(!e)return null;const[t,n]=e.split("T");if(!t||!n)return null;const[r,i,a]=t.split("-").map(Number),[o,l]=n.split(":").map(Number),u=new Date(r,i-1,a,o,l);return Number.isNaN(u.getTime())?null:u}function KV(e){const t=n=>n.toString().padStart(2,"0");return`${t(e.getHours())}:${t(e.getMinutes())}:${t(e.getSeconds())}`}function WV({placeholderText:e,value:t}){const[n,r]=w.useState(e),[i,a]=w.useState(!1),[o,l]=w.useState(t??""),u=w.useRef(null),d=w.useRef(null),h=w.useRef(null),p=w.useRef(null);return w.useEffect(()=>{t!==void 0&&l(t)},[t]),{btnText:n,setBtnText:r,open:i,setOpen:a,localValue:o,setLocalValue:l,nameRef:u,latRef:d,lonRef:h,triggerBtnRef:p}}var am={exports:{}};/* @preserve
 * Leaflet 1.9.4, a JS library for interactive maps. https://leafletjs.com
 * (c) 2010-2023 Vladimir Agafonkin, (c) 2010-2011 CloudMade
 */var VV=am.exports,sM;function ZV(){return sM||(sM=1,(function(e,t){(function(n,r){r(t)})(VV,(function(n){var r="1.9.4";function i(f){var y,E,D,R;for(E=1,D=arguments.length;E<D;E++){R=arguments[E];for(y in R)f[y]=R[y]}return f}var a=Object.create||(function(){function f(){}return function(y){return f.prototype=y,new f}})();function o(f,y){var E=Array.prototype.slice;if(f.bind)return f.bind.apply(f,E.call(arguments,1));var D=E.call(arguments,2);return function(){return f.apply(y,D.length?D.concat(E.call(arguments)):arguments)}}var l=0;function u(f){return"_leaflet_id"in f||(f._leaflet_id=++l),f._leaflet_id}function d(f,y,E){var D,R,F,ee;return ee=function(){D=!1,R&&(F.apply(E,R),R=!1)},F=function(){D?R=arguments:(f.apply(E,arguments),setTimeout(ee,y),D=!0)},F}function h(f,y,E){var D=y[1],R=y[0],F=D-R;return f===D&&E?f:((f-R)%F+F)%F+R}function p(){return!1}function b(f,y){if(y===!1)return f;var E=Math.pow(10,y===void 0?6:y);return Math.round(f*E)/E}function x(f){return f.trim?f.trim():f.replace(/^\s+|\s+$/g,"")}function k(f){return x(f).split(/\s+/)}function S(f,y){Object.prototype.hasOwnProperty.call(f,"options")||(f.options=f.options?a(f.options):{});for(var E in y)f.options[E]=y[E];return f.options}function _(f,y,E){var D=[];for(var R in f)D.push(encodeURIComponent(E?R.toUpperCase():R)+"="+encodeURIComponent(f[R]));return(!y||y.indexOf("?")===-1?"?":"&")+D.join("&")}var T=/\{ *([\w_ -]+) *\}/g;function N(f,y){return f.replace(T,function(E,D){var R=y[D];if(R===void 0)throw new Error("No value provided for variable "+E);return typeof R=="function"&&(R=R(y)),R})}var j=Array.isArray||function(f){return Object.prototype.toString.call(f)==="[object Array]"};function C(f,y){for(var E=0;E<f.length;E++)if(f[E]===y)return E;return-1}var M="data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs=";function P(f){return window["webkit"+f]||window["moz"+f]||window["ms"+f]}var $=0;function U(f){var y=+new Date,E=Math.max(0,16-(y-$));return $=y+E,window.setTimeout(f,E)}var Y=window.requestAnimationFrame||P("RequestAnimationFrame")||U,W=window.cancelAnimationFrame||P("CancelAnimationFrame")||P("CancelRequestAnimationFrame")||function(f){window.clearTimeout(f)};function H(f,y,E){if(E&&Y===U)f.call(y);else return Y.call(window,o(f,y))}function z(f){f&&W.call(window,f)}var V={__proto__:null,extend:i,create:a,bind:o,get lastId(){return l},stamp:u,throttle:d,wrapNum:h,falseFn:p,formatNum:b,trim:x,splitWords:k,setOptions:S,getParamString:_,template:N,isArray:j,indexOf:C,emptyImageUrl:M,requestFn:Y,cancelFn:W,requestAnimFrame:H,cancelAnimFrame:z};function X(){}X.extend=function(f){var y=function(){S(this),this.initialize&&this.initialize.apply(this,arguments),this.callInitHooks()},E=y.__super__=this.prototype,D=a(E);D.constructor=y,y.prototype=D;for(var R in this)Object.prototype.hasOwnProperty.call(this,R)&&R!=="prototype"&&R!=="__super__"&&(y[R]=this[R]);return f.statics&&i(y,f.statics),f.includes&&(Z(f.includes),i.apply(null,[D].concat(f.includes))),i(D,f),delete D.statics,delete D.includes,D.options&&(D.options=E.options?a(E.options):{},i(D.options,f.options)),D._initHooks=[],D.callInitHooks=function(){if(!this._initHooksCalled){E.callInitHooks&&E.callInitHooks.call(this),this._initHooksCalled=!0;for(var F=0,ee=D._initHooks.length;F<ee;F++)D._initHooks[F].call(this)}},y},X.include=function(f){var y=this.prototype.options;return i(this.prototype,f),f.options&&(this.prototype.options=y,this.mergeOptions(f.options)),this},X.mergeOptions=function(f){return i(this.prototype.options,f),this},X.addInitHook=function(f){var y=Array.prototype.slice.call(arguments,1),E=typeof f=="function"?f:function(){this[f].apply(this,y)};return this.prototype._initHooks=this.prototype._initHooks||[],this.prototype._initHooks.push(E),this};function Z(f){if(!(typeof L>"u"||!L||!L.Mixin)){f=j(f)?f:[f];for(var y=0;y<f.length;y++)f[y]===L.Mixin.Events&&console.warn("Deprecated include of L.Mixin.Events: this property will be removed in future releases, please inherit from L.Evented instead.",new Error().stack)}}var q={on:function(f,y,E){if(typeof f=="object")for(var D in f)this._on(D,f[D],y);else{f=k(f);for(var R=0,F=f.length;R<F;R++)this._on(f[R],y,E)}return this},off:function(f,y,E){if(!arguments.length)delete this._events;else if(typeof f=="object")for(var D in f)this._off(D,f[D],y);else{f=k(f);for(var R=arguments.length===1,F=0,ee=f.length;F<ee;F++)R?this._off(f[F]):this._off(f[F],y,E)}return this},_on:function(f,y,E,D){if(typeof y!="function"){console.warn("wrong listener type: "+typeof y);return}if(this._listens(f,y,E)===!1){E===this&&(E=void 0);var R={fn:y,ctx:E};D&&(R.once=!0),this._events=this._events||{},this._events[f]=this._events[f]||[],this._events[f].push(R)}},_off:function(f,y,E){var D,R,F;if(this._events&&(D=this._events[f],!!D)){if(arguments.length===1){if(this._firingCount)for(R=0,F=D.length;R<F;R++)D[R].fn=p;delete this._events[f];return}if(typeof y!="function"){console.warn("wrong listener type: "+typeof y);return}var ee=this._listens(f,y,E);if(ee!==!1){var ce=D[ee];this._firingCount&&(ce.fn=p,this._events[f]=D=D.slice()),D.splice(ee,1)}}},fire:function(f,y,E){if(!this.listens(f,E))return this;var D=i({},y,{type:f,target:this,sourceTarget:y&&y.sourceTarget||this});if(this._events){var R=this._events[f];if(R){this._firingCount=this._firingCount+1||1;for(var F=0,ee=R.length;F<ee;F++){var ce=R[F],ge=ce.fn;ce.once&&this.off(f,ge,ce.ctx),ge.call(ce.ctx||this,D)}this._firingCount--}}return E&&this._propagateEvent(D),this},listens:function(f,y,E,D){typeof f!="string"&&console.warn('"string" type argument expected');var R=y;typeof y!="function"&&(D=!!y,R=void 0,E=void 0);var F=this._events&&this._events[f];if(F&&F.length&&this._listens(f,R,E)!==!1)return!0;if(D){for(var ee in this._eventParents)if(this._eventParents[ee].listens(f,y,E,D))return!0}return!1},_listens:function(f,y,E){if(!this._events)return!1;var D=this._events[f]||[];if(!y)return!!D.length;E===this&&(E=void 0);for(var R=0,F=D.length;R<F;R++)if(D[R].fn===y&&D[R].ctx===E)return R;return!1},once:function(f,y,E){if(typeof f=="object")for(var D in f)this._on(D,f[D],y,!0);else{f=k(f);for(var R=0,F=f.length;R<F;R++)this._on(f[R],y,E,!0)}return this},addEventParent:function(f){return this._eventParents=this._eventParents||{},this._eventParents[u(f)]=f,this},removeEventParent:function(f){return this._eventParents&&delete this._eventParents[u(f)],this},_propagateEvent:function(f){for(var y in this._eventParents)this._eventParents[y].fire(f.type,i({layer:f.target,propagatedFrom:f.target},f),!0)}};q.addEventListener=q.on,q.removeEventListener=q.clearAllEventListeners=q.off,q.addOneTimeEventListener=q.once,q.fireEvent=q.fire,q.hasEventListeners=q.listens;var Q=X.extend(q);function ne(f,y,E){this.x=E?Math.round(f):f,this.y=E?Math.round(y):y}var ue=Math.trunc||function(f){return f>0?Math.floor(f):Math.ceil(f)};ne.prototype={clone:function(){return new ne(this.x,this.y)},add:function(f){return this.clone()._add(se(f))},_add:function(f){return this.x+=f.x,this.y+=f.y,this},subtract:function(f){return this.clone()._subtract(se(f))},_subtract:function(f){return this.x-=f.x,this.y-=f.y,this},divideBy:function(f){return this.clone()._divideBy(f)},_divideBy:function(f){return this.x/=f,this.y/=f,this},multiplyBy:function(f){return this.clone()._multiplyBy(f)},_multiplyBy:function(f){return this.x*=f,this.y*=f,this},scaleBy:function(f){return new ne(this.x*f.x,this.y*f.y)},unscaleBy:function(f){return new ne(this.x/f.x,this.y/f.y)},round:function(){return this.clone()._round()},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},floor:function(){return this.clone()._floor()},_floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},ceil:function(){return this.clone()._ceil()},_ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},trunc:function(){return this.clone()._trunc()},_trunc:function(){return this.x=ue(this.x),this.y=ue(this.y),this},distanceTo:function(f){f=se(f);var y=f.x-this.x,E=f.y-this.y;return Math.sqrt(y*y+E*E)},equals:function(f){return f=se(f),f.x===this.x&&f.y===this.y},contains:function(f){return f=se(f),Math.abs(f.x)<=Math.abs(this.x)&&Math.abs(f.y)<=Math.abs(this.y)},toString:function(){return"Point("+b(this.x)+", "+b(this.y)+")"}};function se(f,y,E){return f instanceof ne?f:j(f)?new ne(f[0],f[1]):f==null?f:typeof f=="object"&&"x"in f&&"y"in f?new ne(f.x,f.y):new ne(f,y,E)}function B(f,y){if(f)for(var E=y?[f,y]:f,D=0,R=E.length;D<R;D++)this.extend(E[D])}B.prototype={extend:function(f){var y,E;if(!f)return this;if(f instanceof ne||typeof f[0]=="number"||"x"in f)y=E=se(f);else if(f=K(f),y=f.min,E=f.max,!y||!E)return this;return!this.min&&!this.max?(this.min=y.clone(),this.max=E.clone()):(this.min.x=Math.min(y.x,this.min.x),this.max.x=Math.max(E.x,this.max.x),this.min.y=Math.min(y.y,this.min.y),this.max.y=Math.max(E.y,this.max.y)),this},getCenter:function(f){return se((this.min.x+this.max.x)/2,(this.min.y+this.max.y)/2,f)},getBottomLeft:function(){return se(this.min.x,this.max.y)},getTopRight:function(){return se(this.max.x,this.min.y)},getTopLeft:function(){return this.min},getBottomRight:function(){return this.max},getSize:function(){return this.max.subtract(this.min)},contains:function(f){var y,E;return typeof f[0]=="number"||f instanceof ne?f=se(f):f=K(f),f instanceof B?(y=f.min,E=f.max):y=E=f,y.x>=this.min.x&&E.x<=this.max.x&&y.y>=this.min.y&&E.y<=this.max.y},intersects:function(f){f=K(f);var y=this.min,E=this.max,D=f.min,R=f.max,F=R.x>=y.x&&D.x<=E.x,ee=R.y>=y.y&&D.y<=E.y;return F&&ee},overlaps:function(f){f=K(f);var y=this.min,E=this.max,D=f.min,R=f.max,F=R.x>y.x&&D.x<E.x,ee=R.y>y.y&&D.y<E.y;return F&&ee},isValid:function(){return!!(this.min&&this.max)},pad:function(f){var y=this.min,E=this.max,D=Math.abs(y.x-E.x)*f,R=Math.abs(y.y-E.y)*f;return K(se(y.x-D,y.y-R),se(E.x+D,E.y+R))},equals:function(f){return f?(f=K(f),this.min.equals(f.getTopLeft())&&this.max.equals(f.getBottomRight())):!1}};function K(f,y){return!f||f instanceof B?f:new B(f,y)}function ie(f,y){if(f)for(var E=y?[f,y]:f,D=0,R=E.length;D<R;D++)this.extend(E[D])}ie.prototype={extend:function(f){var y=this._southWest,E=this._northEast,D,R;if(f instanceof oe)D=f,R=f;else if(f instanceof ie){if(D=f._southWest,R=f._northEast,!D||!R)return this}else return f?this.extend(fe(f)||J(f)):this;return!y&&!E?(this._southWest=new oe(D.lat,D.lng),this._northEast=new oe(R.lat,R.lng)):(y.lat=Math.min(D.lat,y.lat),y.lng=Math.min(D.lng,y.lng),E.lat=Math.max(R.lat,E.lat),E.lng=Math.max(R.lng,E.lng)),this},pad:function(f){var y=this._southWest,E=this._northEast,D=Math.abs(y.lat-E.lat)*f,R=Math.abs(y.lng-E.lng)*f;return new ie(new oe(y.lat-D,y.lng-R),new oe(E.lat+D,E.lng+R))},getCenter:function(){return new oe((this._southWest.lat+this._northEast.lat)/2,(this._southWest.lng+this._northEast.lng)/2)},getSouthWest:function(){return this._southWest},getNorthEast:function(){return this._northEast},getNorthWest:function(){return new oe(this.getNorth(),this.getWest())},getSouthEast:function(){return new oe(this.getSouth(),this.getEast())},getWest:function(){return this._southWest.lng},getSouth:function(){return this._southWest.lat},getEast:function(){return this._northEast.lng},getNorth:function(){return this._northEast.lat},contains:function(f){typeof f[0]=="number"||f instanceof oe||"lat"in f?f=fe(f):f=J(f);var y=this._southWest,E=this._northEast,D,R;return f instanceof ie?(D=f.getSouthWest(),R=f.getNorthEast()):D=R=f,D.lat>=y.lat&&R.lat<=E.lat&&D.lng>=y.lng&&R.lng<=E.lng},intersects:function(f){f=J(f);var y=this._southWest,E=this._northEast,D=f.getSouthWest(),R=f.getNorthEast(),F=R.lat>=y.lat&&D.lat<=E.lat,ee=R.lng>=y.lng&&D.lng<=E.lng;return F&&ee},overlaps:function(f){f=J(f);var y=this._southWest,E=this._northEast,D=f.getSouthWest(),R=f.getNorthEast(),F=R.lat>y.lat&&D.lat<E.lat,ee=R.lng>y.lng&&D.lng<E.lng;return F&&ee},toBBoxString:function(){return[this.getWest(),this.getSouth(),this.getEast(),this.getNorth()].join(",")},equals:function(f,y){return f?(f=J(f),this._southWest.equals(f.getSouthWest(),y)&&this._northEast.equals(f.getNorthEast(),y)):!1},isValid:function(){return!!(this._southWest&&this._northEast)}};function J(f,y){return f instanceof ie?f:new ie(f,y)}function oe(f,y,E){if(isNaN(f)||isNaN(y))throw new Error("Invalid LatLng object: ("+f+", "+y+")");this.lat=+f,this.lng=+y,E!==void 0&&(this.alt=+E)}oe.prototype={equals:function(f,y){if(!f)return!1;f=fe(f);var E=Math.max(Math.abs(this.lat-f.lat),Math.abs(this.lng-f.lng));return E<=(y===void 0?1e-9:y)},toString:function(f){return"LatLng("+b(this.lat,f)+", "+b(this.lng,f)+")"},distanceTo:function(f){return ke.distance(this,fe(f))},wrap:function(){return ke.wrapLatLng(this)},toBounds:function(f){var y=180*f/40075017,E=y/Math.cos(Math.PI/180*this.lat);return J([this.lat-y,this.lng-E],[this.lat+y,this.lng+E])},clone:function(){return new oe(this.lat,this.lng,this.alt)}};function fe(f,y,E){return f instanceof oe?f:j(f)&&typeof f[0]!="object"?f.length===3?new oe(f[0],f[1],f[2]):f.length===2?new oe(f[0],f[1]):null:f==null?f:typeof f=="object"&&"lat"in f?new oe(f.lat,"lng"in f?f.lng:f.lon,f.alt):y===void 0?null:new oe(f,y,E)}var he={latLngToPoint:function(f,y){var E=this.projection.project(f),D=this.scale(y);return this.transformation._transform(E,D)},pointToLatLng:function(f,y){var E=this.scale(y),D=this.transformation.untransform(f,E);return this.projection.unproject(D)},project:function(f){return this.projection.project(f)},unproject:function(f){return this.projection.unproject(f)},scale:function(f){return 256*Math.pow(2,f)},zoom:function(f){return Math.log(f/256)/Math.LN2},getProjectedBounds:function(f){if(this.infinite)return null;var y=this.projection.bounds,E=this.scale(f),D=this.transformation.transform(y.min,E),R=this.transformation.transform(y.max,E);return new B(D,R)},infinite:!1,wrapLatLng:function(f){var y=this.wrapLng?h(f.lng,this.wrapLng,!0):f.lng,E=this.wrapLat?h(f.lat,this.wrapLat,!0):f.lat,D=f.alt;return new oe(E,y,D)},wrapLatLngBounds:function(f){var y=f.getCenter(),E=this.wrapLatLng(y),D=y.lat-E.lat,R=y.lng-E.lng;if(D===0&&R===0)return f;var F=f.getSouthWest(),ee=f.getNorthEast(),ce=new oe(F.lat-D,F.lng-R),ge=new oe(ee.lat-D,ee.lng-R);return new ie(ce,ge)}},ke=i({},he,{wrapLng:[-180,180],R:6371e3,distance:function(f,y){var E=Math.PI/180,D=f.lat*E,R=y.lat*E,F=Math.sin((y.lat-f.lat)*E/2),ee=Math.sin((y.lng-f.lng)*E/2),ce=F*F+Math.cos(D)*Math.cos(R)*ee*ee,ge=2*Math.atan2(Math.sqrt(ce),Math.sqrt(1-ce));return this.R*ge}}),re=6378137,xe={R:re,MAX_LATITUDE:85.0511287798,project:function(f){var y=Math.PI/180,E=this.MAX_LATITUDE,D=Math.max(Math.min(E,f.lat),-E),R=Math.sin(D*y);return new ne(this.R*f.lng*y,this.R*Math.log((1+R)/(1-R))/2)},unproject:function(f){var y=180/Math.PI;return new oe((2*Math.atan(Math.exp(f.y/this.R))-Math.PI/2)*y,f.x*y/this.R)},bounds:(function(){var f=re*Math.PI;return new B([-f,-f],[f,f])})()};function Ne(f,y,E,D){if(j(f)){this._a=f[0],this._b=f[1],this._c=f[2],this._d=f[3];return}this._a=f,this._b=y,this._c=E,this._d=D}Ne.prototype={transform:function(f,y){return this._transform(f.clone(),y)},_transform:function(f,y){return y=y||1,f.x=y*(this._a*f.x+this._b),f.y=y*(this._c*f.y+this._d),f},untransform:function(f,y){return y=y||1,new ne((f.x/y-this._b)/this._a,(f.y/y-this._d)/this._c)}};function ye(f,y,E,D){return new Ne(f,y,E,D)}var Ze=i({},ke,{code:"EPSG:3857",projection:xe,transformation:(function(){var f=.5/(Math.PI*xe.R);return ye(f,.5,-f,.5)})()}),qe=i({},Ze,{code:"EPSG:900913"});function Me(f){return document.createElementNS("http://www.w3.org/2000/svg",f)}function Ee(f,y){var E="",D,R,F,ee,ce,ge;for(D=0,F=f.length;D<F;D++){for(ce=f[D],R=0,ee=ce.length;R<ee;R++)ge=ce[R],E+=(R?"L":"M")+ge.x+" "+ge.y;E+=y?He.svg?"z":"x":""}return E||"M0 0"}var Oe=document.documentElement.style,Ie="ActiveXObject"in window,Qe=Ie&&!document.addEventListener,rt="msLaunchUri"in navigator&&!("documentMode"in document),Vt=Yr("webkit"),de=Yr("android"),Ce=Yr("android 2")||Yr("android 3"),Be=parseInt(/WebKit\/([0-9]+)|$/.exec(navigator.userAgent)[1],10),ut=de&&Yr("Google")&&Be<537&&!("AudioNode"in window),Ot=!!window.opera,vt=!rt&&Yr("chrome"),Jn=Yr("gecko")&&!Vt&&!Ot&&!Ie,gi=!vt&&Yr("safari"),bi=Yr("phantom"),Ls="OTransition"in Oe,Is=navigator.platform.indexOf("Win")===0,Gt=Ie&&"transition"in Oe,mn="WebKitCSSMatrix"in window&&"m11"in new window.WebKitCSSMatrix&&!Ce,yi="MozPerspective"in Oe,Dr=!window.L_DISABLE_3D&&(Gt||mn||yi)&&!Ls&&!bi,Hl=typeof orientation<"u"||Yr("mobile"),_x=Hl&&Vt,wx=Hl&&mn,Gl=!window.PointerEvent&&window.MSPointerEvent,ql=!!(window.PointerEvent||Gl),Yl="ontouchstart"in window||!!window.TouchEvent,Po=!window.L_NO_TOUCH&&(Yl||ql),_u=Hl&&Ot,Kl=Hl&&Jn,Sx=(window.devicePixelRatio||window.screen.deviceXDPI/window.screen.logicalXDPI)>1,Ip=(function(){var f=!1;try{var y=Object.defineProperty({},"passive",{get:function(){f=!0}});window.addEventListener("testPassiveEventSupport",p,y),window.removeEventListener("testPassiveEventSupport",p,y)}catch{}return f})(),Af=(function(){return!!document.createElement("canvas").getContext})(),Ro=!!(document.createElementNS&&Me("svg").createSVGRect),kx=!!Ro&&(function(){var f=document.createElement("div");return f.innerHTML="<svg/>",(f.firstChild&&f.firstChild.namespaceURI)==="http://www.w3.org/2000/svg"})(),$p=!Ro&&(function(){try{var f=document.createElement("div");f.innerHTML='<v:shape adj="1"/>';var y=f.firstChild;return y.style.behavior="url(#default#VML)",y&&typeof y.adj=="object"}catch{return!1}})(),Bp=navigator.platform.indexOf("Mac")===0,zp=navigator.platform.indexOf("Linux")===0;function Yr(f){return navigator.userAgent.toLowerCase().indexOf(f)>=0}var He={ie:Ie,ielt9:Qe,edge:rt,webkit:Vt,android:de,android23:Ce,androidStock:ut,opera:Ot,chrome:vt,gecko:Jn,safari:gi,phantom:bi,opera12:Ls,win:Is,ie3d:Gt,webkit3d:mn,gecko3d:yi,any3d:Dr,mobile:Hl,mobileWebkit:_x,mobileWebkit3d:wx,msPointer:Gl,pointer:ql,touch:Po,touchNative:Yl,mobileOpera:_u,mobileGecko:Kl,retina:Sx,passiveEvents:Ip,canvas:Af,svg:Ro,vml:$p,inlineSvg:kx,mac:Bp,linux:zp},Tf=He.msPointer?"MSPointerDown":"pointerdown",jf=He.msPointer?"MSPointerMove":"pointermove",_a=He.msPointer?"MSPointerUp":"pointerup",On=He.msPointer?"MSPointerCancel":"pointercancel",Qn={touchstart:Tf,touchmove:jf,touchend:_a,touchcancel:On},Lo={touchstart:Bs,touchmove:Va,touchend:Va,touchcancel:Va},Wa={},Up=!1;function Ex(f,y,E){return y==="touchstart"&&$s(),Lo[y]?(E=Lo[y].bind(this,E),f.addEventListener(Qn[y],E,!1),E):(console.warn("wrong event specified:",y),p)}function Fp(f,y,E){if(!Qn[y]){console.warn("wrong event specified:",y);return}f.removeEventListener(Qn[y],E,!1)}function Wl(f){Wa[f.pointerId]=f}function Of(f){Wa[f.pointerId]&&(Wa[f.pointerId]=f)}function Io(f){delete Wa[f.pointerId]}function $s(){Up||(document.addEventListener(Tf,Wl,!0),document.addEventListener(jf,Of,!0),document.addEventListener(_a,Io,!0),document.addEventListener(On,Io,!0),Up=!0)}function Va(f,y){if(y.pointerType!==(y.MSPOINTER_TYPE_MOUSE||"mouse")){y.touches=[];for(var E in Wa)y.touches.push(Wa[E]);y.changedTouches=[y],f(y)}}function Bs(f,y){y.MSPOINTER_TYPE_TOUCH&&y.pointerType===y.MSPOINTER_TYPE_TOUCH&&pn(y),Va(f,y)}function Nn(f){var y={},E,D;for(D in f)E=f[D],y[D]=E&&E.bind?E.bind(f):E;return f=y,y.type="dblclick",y.detail=2,y.isTrusted=!1,y._simulated=!0,y}var Hp=200;function Gp(f,y){f.addEventListener("dblclick",y);var E=0,D;function R(F){if(F.detail!==1){D=F.detail;return}if(!(F.pointerType==="mouse"||F.sourceCapabilities&&!F.sourceCapabilities.firesTouchEvents)){var ee=tc(F);if(!(ee.some(function(ge){return ge instanceof HTMLLabelElement&&ge.attributes.for})&&!ee.some(function(ge){return ge instanceof HTMLInputElement||ge instanceof HTMLSelectElement}))){var ce=Date.now();ce-E<=Hp?(D++,D===2&&y(Nn(F))):D=1,E=ce}}}return f.addEventListener("click",R),{dblclick:y,simDblclick:R}}function $o(f,y){f.removeEventListener("dblclick",y.dblclick),f.removeEventListener("click",y.simDblclick)}var Za=Xl(["transform","webkitTransform","OTransform","MozTransform","msTransform"]),Vl=Xl(["webkitTransition","transition","OTransition","MozTransition","msTransition"]),Nf=Vl==="webkitTransition"||Vl==="OTransition"?Vl+"End":"transitionend";function Cf(f){return typeof f=="string"?document.getElementById(f):f}function Zl(f,y){var E=f.style[y]||f.currentStyle&&f.currentStyle[y];if((!E||E==="auto")&&document.defaultView){var D=document.defaultView.getComputedStyle(f,null);E=D?D[y]:null}return E==="auto"?null:E}function dt(f,y,E){var D=document.createElement(f);return D.className=y||"",E&&E.appendChild(D),D}function Lt(f){var y=f.parentNode;y&&y.removeChild(f)}function Kr(f){for(;f.firstChild;)f.removeChild(f.firstChild)}function Un(f){var y=f.parentNode;y&&y.lastChild!==f&&y.appendChild(f)}function Bo(f){var y=f.parentNode;y&&y.firstChild!==f&&y.insertBefore(f,y.firstChild)}function Mf(f,y){if(f.classList!==void 0)return f.classList.contains(y);var E=wu(f);return E.length>0&&new RegExp("(^|\\s)"+y+"(\\s|$)").test(E)}function it(f,y){if(f.classList!==void 0)for(var E=k(y),D=0,R=E.length;D<R;D++)f.classList.add(E[D]);else if(!Mf(f,y)){var F=wu(f);zs(f,(F?F+" ":"")+y)}}function en(f,y){f.classList!==void 0?f.classList.remove(y):zs(f,x((" "+wu(f)+" ").replace(" "+y+" "," ")))}function zs(f,y){f.className.baseVal===void 0?f.className=y:f.className.baseVal=y}function wu(f){return f.correspondingElement&&(f=f.correspondingElement),f.className.baseVal===void 0?f.className:f.className.baseVal}function Zt(f,y){"opacity"in f.style?f.style.opacity=y:"filter"in f.style&&Df(f,y)}function Df(f,y){var E=!1,D="DXImageTransform.Microsoft.Alpha";try{E=f.filters.item(D)}catch{if(y===1)return}y=Math.round(y*100),E?(E.Enabled=y!==100,E.Opacity=y):f.style.filter+=" progid:"+D+"(opacity="+y+")"}function Xl(f){for(var y=document.documentElement.style,E=0;E<f.length;E++)if(f[E]in y)return f[E];return!1}function wa(f,y,E){var D=y||new ne(0,0);f.style[Za]=(He.ie3d?"translate("+D.x+"px,"+D.y+"px)":"translate3d("+D.x+"px,"+D.y+"px,0)")+(E?" scale("+E+")":"")}function zt(f,y){f._leaflet_pos=y,He.any3d?wa(f,y):(f.style.left=y.x+"px",f.style.top=y.y+"px")}function Xa(f){return f._leaflet_pos||new ne(0,0)}var Us,Yi,Pf;if("onselectstart"in document)Us=function(){nt(window,"selectstart",pn)},Yi=function(){Nt(window,"selectstart",pn)};else{var Fs=Xl(["userSelect","WebkitUserSelect","OUserSelect","MozUserSelect","msUserSelect"]);Us=function(){if(Fs){var f=document.documentElement.style;Pf=f[Fs],f[Fs]="none"}},Yi=function(){Fs&&(document.documentElement.style[Fs]=Pf,Pf=void 0)}}function Su(){nt(window,"dragstart",pn)}function Jl(){Nt(window,"dragstart",pn)}var ku,Rf;function Hs(f){for(;f.tabIndex===-1;)f=f.parentNode;f.style&&(Wr(),ku=f,Rf=f.style.outlineStyle,f.style.outlineStyle="none",nt(window,"keydown",Wr))}function Wr(){ku&&(ku.style.outlineStyle=Rf,ku=void 0,Rf=void 0,Nt(window,"keydown",Wr))}function Eu(f){do f=f.parentNode;while((!f.offsetWidth||!f.offsetHeight)&&f!==document.body);return f}function Ql(f){var y=f.getBoundingClientRect();return{x:y.width/f.offsetWidth||1,y:y.height/f.offsetHeight||1,boundingClientRect:y}}var Gs={__proto__:null,TRANSFORM:Za,TRANSITION:Vl,TRANSITION_END:Nf,get:Cf,getStyle:Zl,create:dt,remove:Lt,empty:Kr,toFront:Un,toBack:Bo,hasClass:Mf,addClass:it,removeClass:en,setClass:zs,getClass:wu,setOpacity:Zt,testProp:Xl,setTransform:wa,setPosition:zt,getPosition:Xa,get disableTextSelection(){return Us},get enableTextSelection(){return Yi},disableImageDrag:Su,enableImageDrag:Jl,preventOutline:Hs,restoreOutline:Wr,getSizedParentNode:Eu,getScale:Ql};function nt(f,y,E,D){if(y&&typeof y=="object")for(var R in y)xi(f,R,y[R],E);else{y=k(y);for(var F=0,ee=y.length;F<ee;F++)xi(f,y[F],E,D)}return this}var vi="_leaflet_events";function Nt(f,y,E,D){if(arguments.length===1)Lf(f),delete f[vi];else if(y&&typeof y=="object")for(var R in y)ec(f,R,y[R],E);else if(y=k(y),arguments.length===2)Lf(f,function(ce){return C(y,ce)!==-1});else for(var F=0,ee=y.length;F<ee;F++)ec(f,y[F],E,D);return this}function Lf(f,y){for(var E in f[vi]){var D=E.split(/\d/)[0];(!y||y(D))&&ec(f,D,null,null,E)}}var zo={mouseenter:"mouseover",mouseleave:"mouseout",wheel:!("onwheel"in window)&&"mousewheel"};function xi(f,y,E,D){var R=y+u(E)+(D?"_"+u(D):"");if(f[vi]&&f[vi][R])return this;var F=function(ce){return E.call(D||f,ce||window.event)},ee=F;!He.touchNative&&He.pointer&&y.indexOf("touch")===0?F=Ex(f,y,F):He.touch&&y==="dblclick"?F=Gp(f,F):"addEventListener"in f?y==="touchstart"||y==="touchmove"||y==="wheel"||y==="mousewheel"?f.addEventListener(zo[y]||y,F,He.passiveEvents?{passive:!1}:!1):y==="mouseenter"||y==="mouseleave"?(F=function(ce){ce=ce||window.event,Sa(f,ce)&&ee(ce)},f.addEventListener(zo[y],F,!1)):f.addEventListener(y,ee,!1):f.attachEvent("on"+y,F),f[vi]=f[vi]||{},f[vi][R]=F}function ec(f,y,E,D,R){R=R||y+u(E)+(D?"_"+u(D):"");var F=f[vi]&&f[vi][R];if(!F)return this;!He.touchNative&&He.pointer&&y.indexOf("touch")===0?Fp(f,y,F):He.touch&&y==="dblclick"?$o(f,F):"removeEventListener"in f?f.removeEventListener(zo[y]||y,F,!1):f.detachEvent("on"+y,F),f[vi][R]=null}function _i(f){return f.stopPropagation?f.stopPropagation():f.originalEvent?f.originalEvent._stopped=!0:f.cancelBubble=!0,this}function Ki(f){return xi(f,"wheel",_i),this}function Uo(f){return nt(f,"mousedown touchstart dblclick contextmenu",_i),f._leaflet_disable_click=!0,this}function pn(f){return f.preventDefault?f.preventDefault():f.returnValue=!1,this}function Ja(f){return pn(f),_i(f),this}function tc(f){if(f.composedPath)return f.composedPath();for(var y=[],E=f.target;E;)y.push(E),E=E.parentNode;return y}function nc(f,y){if(!y)return new ne(f.clientX,f.clientY);var E=Ql(y),D=E.boundingClientRect;return new ne((f.clientX-D.left)/E.x-y.clientLeft,(f.clientY-D.top)/E.y-y.clientTop)}var qp=He.linux&&He.chrome?window.devicePixelRatio:He.mac?window.devicePixelRatio*3:window.devicePixelRatio>0?2*window.devicePixelRatio:1;function fr(f){return He.edge?f.wheelDeltaY/2:f.deltaY&&f.deltaMode===0?-f.deltaY/qp:f.deltaY&&f.deltaMode===1?-f.deltaY*20:f.deltaY&&f.deltaMode===2?-f.deltaY*60:f.deltaX||f.deltaZ?0:f.wheelDelta?(f.wheelDeltaY||f.wheelDelta)/2:f.detail&&Math.abs(f.detail)<32765?-f.detail*20:f.detail?f.detail/-32765*60:0}function Sa(f,y){var E=y.relatedTarget;if(!E)return!0;try{for(;E&&E!==f;)E=E.parentNode}catch{return!1}return E!==f}var Au={__proto__:null,on:nt,off:Nt,stopPropagation:_i,disableScrollPropagation:Ki,disableClickPropagation:Uo,preventDefault:pn,stop:Ja,getPropagationPath:tc,getMousePosition:nc,getWheelDelta:fr,isExternalTarget:Sa,addListener:nt,removeListener:Nt},qs=Q.extend({run:function(f,y,E,D){this.stop(),this._el=f,this._inProgress=!0,this._duration=E||.25,this._easeOutPower=1/Math.max(D||.5,.2),this._startPos=Xa(f),this._offset=y.subtract(this._startPos),this._startTime=+new Date,this.fire("start"),this._animate()},stop:function(){this._inProgress&&(this._step(!0),this._complete())},_animate:function(){this._animId=H(this._animate,this),this._step()},_step:function(f){var y=+new Date-this._startTime,E=this._duration*1e3;y<E?this._runFrame(this._easeOut(y/E),f):(this._runFrame(1),this._complete())},_runFrame:function(f,y){var E=this._startPos.add(this._offset.multiplyBy(f));y&&E._round(),zt(this._el,E),this.fire("step")},_complete:function(){z(this._animId),this._inProgress=!1,this.fire("end")},_easeOut:function(f){return 1-Math.pow(1-f,this._easeOutPower)}}),gt=Q.extend({options:{crs:Ze,center:void 0,zoom:void 0,minZoom:void 0,maxZoom:void 0,layers:[],maxBounds:void 0,renderer:void 0,zoomAnimation:!0,zoomAnimationThreshold:4,fadeAnimation:!0,markerZoomAnimation:!0,transform3DLimit:8388608,zoomSnap:1,zoomDelta:1,trackResize:!0},initialize:function(f,y){y=S(this,y),this._handlers=[],this._layers={},this._zoomBoundLayers={},this._sizeChanged=!0,this._initContainer(f),this._initLayout(),this._onResize=o(this._onResize,this),this._initEvents(),y.maxBounds&&this.setMaxBounds(y.maxBounds),y.zoom!==void 0&&(this._zoom=this._limitZoom(y.zoom)),y.center&&y.zoom!==void 0&&this.setView(fe(y.center),y.zoom,{reset:!0}),this.callInitHooks(),this._zoomAnimated=Vl&&He.any3d&&!He.mobileOpera&&this.options.zoomAnimation,this._zoomAnimated&&(this._createAnimProxy(),nt(this._proxy,Nf,this._catchTransitionEnd,this)),this._addLayers(this.options.layers)},setView:function(f,y,E){if(y=y===void 0?this._zoom:this._limitZoom(y),f=this._limitCenter(fe(f),y,this.options.maxBounds),E=E||{},this._stop(),this._loaded&&!E.reset&&E!==!0){E.animate!==void 0&&(E.zoom=i({animate:E.animate},E.zoom),E.pan=i({animate:E.animate,duration:E.duration},E.pan));var D=this._zoom!==y?this._tryAnimatedZoom&&this._tryAnimatedZoom(f,y,E.zoom):this._tryAnimatedPan(f,E.pan);if(D)return clearTimeout(this._sizeTimer),this}return this._resetView(f,y,E.pan&&E.pan.noMoveStart),this},setZoom:function(f,y){return this._loaded?this.setView(this.getCenter(),f,{zoom:y}):(this._zoom=f,this)},zoomIn:function(f,y){return f=f||(He.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom+f,y)},zoomOut:function(f,y){return f=f||(He.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom-f,y)},setZoomAround:function(f,y,E){var D=this.getZoomScale(y),R=this.getSize().divideBy(2),F=f instanceof ne?f:this.latLngToContainerPoint(f),ee=F.subtract(R).multiplyBy(1-1/D),ce=this.containerPointToLatLng(R.add(ee));return this.setView(ce,y,{zoom:E})},_getBoundsCenterZoom:function(f,y){y=y||{},f=f.getBounds?f.getBounds():J(f);var E=se(y.paddingTopLeft||y.padding||[0,0]),D=se(y.paddingBottomRight||y.padding||[0,0]),R=this.getBoundsZoom(f,!1,E.add(D));if(R=typeof y.maxZoom=="number"?Math.min(y.maxZoom,R):R,R===1/0)return{center:f.getCenter(),zoom:R};var F=D.subtract(E).divideBy(2),ee=this.project(f.getSouthWest(),R),ce=this.project(f.getNorthEast(),R),ge=this.unproject(ee.add(ce).divideBy(2).add(F),R);return{center:ge,zoom:R}},fitBounds:function(f,y){if(f=J(f),!f.isValid())throw new Error("Bounds are not valid.");var E=this._getBoundsCenterZoom(f,y);return this.setView(E.center,E.zoom,y)},fitWorld:function(f){return this.fitBounds([[-90,-180],[90,180]],f)},panTo:function(f,y){return this.setView(f,this._zoom,{pan:y})},panBy:function(f,y){if(f=se(f).round(),y=y||{},!f.x&&!f.y)return this.fire("moveend");if(y.animate!==!0&&!this.getSize().contains(f))return this._resetView(this.unproject(this.project(this.getCenter()).add(f)),this.getZoom()),this;if(this._panAnim||(this._panAnim=new qs,this._panAnim.on({step:this._onPanTransitionStep,end:this._onPanTransitionEnd},this)),y.noMoveStart||this.fire("movestart"),y.animate!==!1){it(this._mapPane,"leaflet-pan-anim");var E=this._getMapPanePos().subtract(f).round();this._panAnim.run(this._mapPane,E,y.duration||.25,y.easeLinearity)}else this._rawPanBy(f),this.fire("move").fire("moveend");return this},flyTo:function(f,y,E){if(E=E||{},E.animate===!1||!He.any3d)return this.setView(f,y,E);this._stop();var D=this.project(this.getCenter()),R=this.project(f),F=this.getSize(),ee=this._zoom;f=fe(f),y=y===void 0?ee:y;var ce=Math.max(F.x,F.y),ge=ce*this.getZoomScale(ee,y),Te=R.distanceTo(D)||1,Le=1.42,Ye=Le*Le;function lt(un){var Ta=un?-1:1,qo=un?ge:ce,Xf=ge*ge-ce*ce+Ta*Ye*Ye*Te*Te,yc=2*qo*Ye*Te,vc=Xf/yc,so=Math.sqrt(vc*vc+1)-vc,ja=so<1e-9?-18:Math.log(so);return ja}function Fn(un){return(Math.exp(un)-Math.exp(-un))/2}function gn(un){return(Math.exp(un)+Math.exp(-un))/2}function Rr(un){return Fn(un)/gn(un)}var wt=lt(0);function St(un){return ce*(gn(wt)/gn(wt+Le*un))}function ft(un){return ce*(gn(wt)*Rr(wt+Le*un)-Fn(wt))/Ye}function ao(un){return 1-Math.pow(1-un,1.5)}var Jr=Date.now(),zu=(lt(1)-wt)/Le,oo=E.duration?1e3*E.duration:1e3*zu*.8;function Zf(){var un=(Date.now()-Jr)/oo,Ta=ao(un)*zu;un<=1?(this._flyToFrame=H(Zf,this),this._move(this.unproject(D.add(R.subtract(D).multiplyBy(ft(Ta)/Te)),ee),this.getScaleZoom(ce/St(Ta),ee),{flyTo:!0})):this._move(f,y)._moveEnd(!0)}return this._moveStart(!0,E.noMoveStart),Zf.call(this),this},flyToBounds:function(f,y){var E=this._getBoundsCenterZoom(f,y);return this.flyTo(E.center,E.zoom,y)},setMaxBounds:function(f){return f=J(f),this.listens("moveend",this._panInsideMaxBounds)&&this.off("moveend",this._panInsideMaxBounds),f.isValid()?(this.options.maxBounds=f,this._loaded&&this._panInsideMaxBounds(),this.on("moveend",this._panInsideMaxBounds)):(this.options.maxBounds=null,this)},setMinZoom:function(f){var y=this.options.minZoom;return this.options.minZoom=f,this._loaded&&y!==f&&(this.fire("zoomlevelschange"),this.getZoom()<this.options.minZoom)?this.setZoom(f):this},setMaxZoom:function(f){var y=this.options.maxZoom;return this.options.maxZoom=f,this._loaded&&y!==f&&(this.fire("zoomlevelschange"),this.getZoom()>this.options.maxZoom)?this.setZoom(f):this},panInsideBounds:function(f,y){this._enforcingBounds=!0;var E=this.getCenter(),D=this._limitCenter(E,this._zoom,J(f));return E.equals(D)||this.panTo(D,y),this._enforcingBounds=!1,this},panInside:function(f,y){y=y||{};var E=se(y.paddingTopLeft||y.padding||[0,0]),D=se(y.paddingBottomRight||y.padding||[0,0]),R=this.project(this.getCenter()),F=this.project(f),ee=this.getPixelBounds(),ce=K([ee.min.add(E),ee.max.subtract(D)]),ge=ce.getSize();if(!ce.contains(F)){this._enforcingBounds=!0;var Te=F.subtract(ce.getCenter()),Le=ce.extend(F).getSize().subtract(ge);R.x+=Te.x<0?-Le.x:Le.x,R.y+=Te.y<0?-Le.y:Le.y,this.panTo(this.unproject(R),y),this._enforcingBounds=!1}return this},invalidateSize:function(f){if(!this._loaded)return this;f=i({animate:!1,pan:!0},f===!0?{animate:!0}:f);var y=this.getSize();this._sizeChanged=!0,this._lastCenter=null;var E=this.getSize(),D=y.divideBy(2).round(),R=E.divideBy(2).round(),F=D.subtract(R);return!F.x&&!F.y?this:(f.animate&&f.pan?this.panBy(F):(f.pan&&this._rawPanBy(F),this.fire("move"),f.debounceMoveend?(clearTimeout(this._sizeTimer),this._sizeTimer=setTimeout(o(this.fire,this,"moveend"),200)):this.fire("moveend")),this.fire("resize",{oldSize:y,newSize:E}))},stop:function(){return this.setZoom(this._limitZoom(this._zoom)),this.options.zoomSnap||this.fire("viewreset"),this._stop()},locate:function(f){if(f=this._locateOptions=i({timeout:1e4,watch:!1},f),!("geolocation"in navigator))return this._handleGeolocationError({code:0,message:"Geolocation not supported."}),this;var y=o(this._handleGeolocationResponse,this),E=o(this._handleGeolocationError,this);return f.watch?this._locationWatchId=navigator.geolocation.watchPosition(y,E,f):navigator.geolocation.getCurrentPosition(y,E,f),this},stopLocate:function(){return navigator.geolocation&&navigator.geolocation.clearWatch&&navigator.geolocation.clearWatch(this._locationWatchId),this._locateOptions&&(this._locateOptions.setView=!1),this},_handleGeolocationError:function(f){if(this._container._leaflet_id){var y=f.code,E=f.message||(y===1?"permission denied":y===2?"position unavailable":"timeout");this._locateOptions.setView&&!this._loaded&&this.fitWorld(),this.fire("locationerror",{code:y,message:"Geolocation error: "+E+"."})}},_handleGeolocationResponse:function(f){if(this._container._leaflet_id){var y=f.coords.latitude,E=f.coords.longitude,D=new oe(y,E),R=D.toBounds(f.coords.accuracy*2),F=this._locateOptions;if(F.setView){var ee=this.getBoundsZoom(R);this.setView(D,F.maxZoom?Math.min(ee,F.maxZoom):ee)}var ce={latlng:D,bounds:R,timestamp:f.timestamp};for(var ge in f.coords)typeof f.coords[ge]=="number"&&(ce[ge]=f.coords[ge]);this.fire("locationfound",ce)}},addHandler:function(f,y){if(!y)return this;var E=this[f]=new y(this);return this._handlers.push(E),this.options[f]&&E.enable(),this},remove:function(){if(this._initEvents(!0),this.options.maxBounds&&this.off("moveend",this._panInsideMaxBounds),this._containerId!==this._container._leaflet_id)throw new Error("Map container is being reused by another instance");try{delete this._container._leaflet_id,delete this._containerId}catch{this._container._leaflet_id=void 0,this._containerId=void 0}this._locationWatchId!==void 0&&this.stopLocate(),this._stop(),Lt(this._mapPane),this._clearControlPos&&this._clearControlPos(),this._resizeRequest&&(z(this._resizeRequest),this._resizeRequest=null),this._clearHandlers(),this._loaded&&this.fire("unload");var f;for(f in this._layers)this._layers[f].remove();for(f in this._panes)Lt(this._panes[f]);return this._layers=[],this._panes=[],delete this._mapPane,delete this._renderer,this},createPane:function(f,y){var E="leaflet-pane"+(f?" leaflet-"+f.replace("Pane","")+"-pane":""),D=dt("div",E,y||this._mapPane);return f&&(this._panes[f]=D),D},getCenter:function(){return this._checkIfLoaded(),this._lastCenter&&!this._moved()?this._lastCenter.clone():this.layerPointToLatLng(this._getCenterLayerPoint())},getZoom:function(){return this._zoom},getBounds:function(){var f=this.getPixelBounds(),y=this.unproject(f.getBottomLeft()),E=this.unproject(f.getTopRight());return new ie(y,E)},getMinZoom:function(){return this.options.minZoom===void 0?this._layersMinZoom||0:this.options.minZoom},getMaxZoom:function(){return this.options.maxZoom===void 0?this._layersMaxZoom===void 0?1/0:this._layersMaxZoom:this.options.maxZoom},getBoundsZoom:function(f,y,E){f=J(f),E=se(E||[0,0]);var D=this.getZoom()||0,R=this.getMinZoom(),F=this.getMaxZoom(),ee=f.getNorthWest(),ce=f.getSouthEast(),ge=this.getSize().subtract(E),Te=K(this.project(ce,D),this.project(ee,D)).getSize(),Le=He.any3d?this.options.zoomSnap:1,Ye=ge.x/Te.x,lt=ge.y/Te.y,Fn=y?Math.max(Ye,lt):Math.min(Ye,lt);return D=this.getScaleZoom(Fn,D),Le&&(D=Math.round(D/(Le/100))*(Le/100),D=y?Math.ceil(D/Le)*Le:Math.floor(D/Le)*Le),Math.max(R,Math.min(F,D))},getSize:function(){return(!this._size||this._sizeChanged)&&(this._size=new ne(this._container.clientWidth||0,this._container.clientHeight||0),this._sizeChanged=!1),this._size.clone()},getPixelBounds:function(f,y){var E=this._getTopLeftPoint(f,y);return new B(E,E.add(this.getSize()))},getPixelOrigin:function(){return this._checkIfLoaded(),this._pixelOrigin},getPixelWorldBounds:function(f){return this.options.crs.getProjectedBounds(f===void 0?this.getZoom():f)},getPane:function(f){return typeof f=="string"?this._panes[f]:f},getPanes:function(){return this._panes},getContainer:function(){return this._container},getZoomScale:function(f,y){var E=this.options.crs;return y=y===void 0?this._zoom:y,E.scale(f)/E.scale(y)},getScaleZoom:function(f,y){var E=this.options.crs;y=y===void 0?this._zoom:y;var D=E.zoom(f*E.scale(y));return isNaN(D)?1/0:D},project:function(f,y){return y=y===void 0?this._zoom:y,this.options.crs.latLngToPoint(fe(f),y)},unproject:function(f,y){return y=y===void 0?this._zoom:y,this.options.crs.pointToLatLng(se(f),y)},layerPointToLatLng:function(f){var y=se(f).add(this.getPixelOrigin());return this.unproject(y)},latLngToLayerPoint:function(f){var y=this.project(fe(f))._round();return y._subtract(this.getPixelOrigin())},wrapLatLng:function(f){return this.options.crs.wrapLatLng(fe(f))},wrapLatLngBounds:function(f){return this.options.crs.wrapLatLngBounds(J(f))},distance:function(f,y){return this.options.crs.distance(fe(f),fe(y))},containerPointToLayerPoint:function(f){return se(f).subtract(this._getMapPanePos())},layerPointToContainerPoint:function(f){return se(f).add(this._getMapPanePos())},containerPointToLatLng:function(f){var y=this.containerPointToLayerPoint(se(f));return this.layerPointToLatLng(y)},latLngToContainerPoint:function(f){return this.layerPointToContainerPoint(this.latLngToLayerPoint(fe(f)))},mouseEventToContainerPoint:function(f){return nc(f,this._container)},mouseEventToLayerPoint:function(f){return this.containerPointToLayerPoint(this.mouseEventToContainerPoint(f))},mouseEventToLatLng:function(f){return this.layerPointToLatLng(this.mouseEventToLayerPoint(f))},_initContainer:function(f){var y=this._container=Cf(f);if(y){if(y._leaflet_id)throw new Error("Map container is already initialized.")}else throw new Error("Map container not found.");nt(y,"scroll",this._onScroll,this),this._containerId=u(y)},_initLayout:function(){var f=this._container;this._fadeAnimated=this.options.fadeAnimation&&He.any3d,it(f,"leaflet-container"+(He.touch?" leaflet-touch":"")+(He.retina?" leaflet-retina":"")+(He.ielt9?" leaflet-oldie":"")+(He.safari?" leaflet-safari":"")+(this._fadeAnimated?" leaflet-fade-anim":""));var y=Zl(f,"position");y!=="absolute"&&y!=="relative"&&y!=="fixed"&&y!=="sticky"&&(f.style.position="relative"),this._initPanes(),this._initControlPos&&this._initControlPos()},_initPanes:function(){var f=this._panes={};this._paneRenderers={},this._mapPane=this.createPane("mapPane",this._container),zt(this._mapPane,new ne(0,0)),this.createPane("tilePane"),this.createPane("overlayPane"),this.createPane("shadowPane"),this.createPane("markerPane"),this.createPane("tooltipPane"),this.createPane("popupPane"),this.options.markerZoomAnimation||(it(f.markerPane,"leaflet-zoom-hide"),it(f.shadowPane,"leaflet-zoom-hide"))},_resetView:function(f,y,E){zt(this._mapPane,new ne(0,0));var D=!this._loaded;this._loaded=!0,y=this._limitZoom(y),this.fire("viewprereset");var R=this._zoom!==y;this._moveStart(R,E)._move(f,y)._moveEnd(R),this.fire("viewreset"),D&&this.fire("load")},_moveStart:function(f,y){return f&&this.fire("zoomstart"),y||this.fire("movestart"),this},_move:function(f,y,E,D){y===void 0&&(y=this._zoom);var R=this._zoom!==y;return this._zoom=y,this._lastCenter=f,this._pixelOrigin=this._getNewPixelOrigin(f),D?E&&E.pinch&&this.fire("zoom",E):((R||E&&E.pinch)&&this.fire("zoom",E),this.fire("move",E)),this},_moveEnd:function(f){return f&&this.fire("zoomend"),this.fire("moveend")},_stop:function(){return z(this._flyToFrame),this._panAnim&&this._panAnim.stop(),this},_rawPanBy:function(f){zt(this._mapPane,this._getMapPanePos().subtract(f))},_getZoomSpan:function(){return this.getMaxZoom()-this.getMinZoom()},_panInsideMaxBounds:function(){this._enforcingBounds||this.panInsideBounds(this.options.maxBounds)},_checkIfLoaded:function(){if(!this._loaded)throw new Error("Set map center and zoom first.")},_initEvents:function(f){this._targets={},this._targets[u(this._container)]=this;var y=f?Nt:nt;y(this._container,"click dblclick mousedown mouseup mouseover mouseout mousemove contextmenu keypress keydown keyup",this._handleDOMEvent,this),this.options.trackResize&&y(window,"resize",this._onResize,this),He.any3d&&this.options.transform3DLimit&&(f?this.off:this.on).call(this,"moveend",this._onMoveEnd)},_onResize:function(){z(this._resizeRequest),this._resizeRequest=H(function(){this.invalidateSize({debounceMoveend:!0})},this)},_onScroll:function(){this._container.scrollTop=0,this._container.scrollLeft=0},_onMoveEnd:function(){var f=this._getMapPanePos();Math.max(Math.abs(f.x),Math.abs(f.y))>=this.options.transform3DLimit&&this._resetView(this.getCenter(),this.getZoom())},_findEventTargets:function(f,y){for(var E=[],D,R=y==="mouseout"||y==="mouseover",F=f.target||f.srcElement,ee=!1;F;){if(D=this._targets[u(F)],D&&(y==="click"||y==="preclick")&&this._draggableMoved(D)){ee=!0;break}if(D&&D.listens(y,!0)&&(R&&!Sa(F,f)||(E.push(D),R))||F===this._container)break;F=F.parentNode}return!E.length&&!ee&&!R&&this.listens(y,!0)&&(E=[this]),E},_isClickDisabled:function(f){for(;f&&f!==this._container;){if(f._leaflet_disable_click)return!0;f=f.parentNode}},_handleDOMEvent:function(f){var y=f.target||f.srcElement;if(!(!this._loaded||y._leaflet_disable_events||f.type==="click"&&this._isClickDisabled(y))){var E=f.type;E==="mousedown"&&Hs(y),this._fireDOMEvent(f,E)}},_mouseEvents:["click","dblclick","mouseover","mouseout","contextmenu"],_fireDOMEvent:function(f,y,E){if(f.type==="click"){var D=i({},f);D.type="preclick",this._fireDOMEvent(D,D.type,E)}var R=this._findEventTargets(f,y);if(E){for(var F=[],ee=0;ee<E.length;ee++)E[ee].listens(y,!0)&&F.push(E[ee]);R=F.concat(R)}if(R.length){y==="contextmenu"&&pn(f);var ce=R[0],ge={originalEvent:f};if(f.type!=="keypress"&&f.type!=="keydown"&&f.type!=="keyup"){var Te=ce.getLatLng&&(!ce._radius||ce._radius<=10);ge.containerPoint=Te?this.latLngToContainerPoint(ce.getLatLng()):this.mouseEventToContainerPoint(f),ge.layerPoint=this.containerPointToLayerPoint(ge.containerPoint),ge.latlng=Te?ce.getLatLng():this.layerPointToLatLng(ge.layerPoint)}for(ee=0;ee<R.length;ee++)if(R[ee].fire(y,ge,!0),ge.originalEvent._stopped||R[ee].options.bubblingMouseEvents===!1&&C(this._mouseEvents,y)!==-1)return}},_draggableMoved:function(f){return f=f.dragging&&f.dragging.enabled()?f:this,f.dragging&&f.dragging.moved()||this.boxZoom&&this.boxZoom.moved()},_clearHandlers:function(){for(var f=0,y=this._handlers.length;f<y;f++)this._handlers[f].disable()},whenReady:function(f,y){return this._loaded?f.call(y||this,{target:this}):this.on("load",f,y),this},_getMapPanePos:function(){return Xa(this._mapPane)||new ne(0,0)},_moved:function(){var f=this._getMapPanePos();return f&&!f.equals([0,0])},_getTopLeftPoint:function(f,y){var E=f&&y!==void 0?this._getNewPixelOrigin(f,y):this.getPixelOrigin();return E.subtract(this._getMapPanePos())},_getNewPixelOrigin:function(f,y){var E=this.getSize()._divideBy(2);return this.project(f,y)._subtract(E)._add(this._getMapPanePos())._round()},_latLngToNewLayerPoint:function(f,y,E){var D=this._getNewPixelOrigin(E,y);return this.project(f,y)._subtract(D)},_latLngBoundsToNewLayerBounds:function(f,y,E){var D=this._getNewPixelOrigin(E,y);return K([this.project(f.getSouthWest(),y)._subtract(D),this.project(f.getNorthWest(),y)._subtract(D),this.project(f.getSouthEast(),y)._subtract(D),this.project(f.getNorthEast(),y)._subtract(D)])},_getCenterLayerPoint:function(){return this.containerPointToLayerPoint(this.getSize()._divideBy(2))},_getCenterOffset:function(f){return this.latLngToLayerPoint(f).subtract(this._getCenterLayerPoint())},_limitCenter:function(f,y,E){if(!E)return f;var D=this.project(f,y),R=this.getSize().divideBy(2),F=new B(D.subtract(R),D.add(R)),ee=this._getBoundsOffset(F,E,y);return Math.abs(ee.x)<=1&&Math.abs(ee.y)<=1?f:this.unproject(D.add(ee),y)},_limitOffset:function(f,y){if(!y)return f;var E=this.getPixelBounds(),D=new B(E.min.add(f),E.max.add(f));return f.add(this._getBoundsOffset(D,y))},_getBoundsOffset:function(f,y,E){var D=K(this.project(y.getNorthEast(),E),this.project(y.getSouthWest(),E)),R=D.min.subtract(f.min),F=D.max.subtract(f.max),ee=this._rebound(R.x,-F.x),ce=this._rebound(R.y,-F.y);return new ne(ee,ce)},_rebound:function(f,y){return f+y>0?Math.round(f-y)/2:Math.max(0,Math.ceil(f))-Math.max(0,Math.floor(y))},_limitZoom:function(f){var y=this.getMinZoom(),E=this.getMaxZoom(),D=He.any3d?this.options.zoomSnap:1;return D&&(f=Math.round(f/D)*D),Math.max(y,Math.min(E,f))},_onPanTransitionStep:function(){this.fire("move")},_onPanTransitionEnd:function(){en(this._mapPane,"leaflet-pan-anim"),this.fire("moveend")},_tryAnimatedPan:function(f,y){var E=this._getCenterOffset(f)._trunc();return(y&&y.animate)!==!0&&!this.getSize().contains(E)?!1:(this.panBy(E,y),!0)},_createAnimProxy:function(){var f=this._proxy=dt("div","leaflet-proxy leaflet-zoom-animated");this._panes.mapPane.appendChild(f),this.on("zoomanim",function(y){var E=Za,D=this._proxy.style[E];wa(this._proxy,this.project(y.center,y.zoom),this.getZoomScale(y.zoom,1)),D===this._proxy.style[E]&&this._animatingZoom&&this._onZoomTransitionEnd()},this),this.on("load moveend",this._animMoveEnd,this),this._on("unload",this._destroyAnimProxy,this)},_destroyAnimProxy:function(){Lt(this._proxy),this.off("load moveend",this._animMoveEnd,this),delete this._proxy},_animMoveEnd:function(){var f=this.getCenter(),y=this.getZoom();wa(this._proxy,this.project(f,y),this.getZoomScale(y,1))},_catchTransitionEnd:function(f){this._animatingZoom&&f.propertyName.indexOf("transform")>=0&&this._onZoomTransitionEnd()},_nothingToAnimate:function(){return!this._container.getElementsByClassName("leaflet-zoom-animated").length},_tryAnimatedZoom:function(f,y,E){if(this._animatingZoom)return!0;if(E=E||{},!this._zoomAnimated||E.animate===!1||this._nothingToAnimate()||Math.abs(y-this._zoom)>this.options.zoomAnimationThreshold)return!1;var D=this.getZoomScale(y),R=this._getCenterOffset(f)._divideBy(1-1/D);return E.animate!==!0&&!this.getSize().contains(R)?!1:(H(function(){this._moveStart(!0,E.noMoveStart||!1)._animateZoom(f,y,!0)},this),!0)},_animateZoom:function(f,y,E,D){this._mapPane&&(E&&(this._animatingZoom=!0,this._animateToCenter=f,this._animateToZoom=y,it(this._mapPane,"leaflet-zoom-anim")),this.fire("zoomanim",{center:f,zoom:y,noUpdate:D}),this._tempFireZoomEvent||(this._tempFireZoomEvent=this._zoom!==this._animateToZoom),this._move(this._animateToCenter,this._animateToZoom,void 0,!0),setTimeout(o(this._onZoomTransitionEnd,this),250))},_onZoomTransitionEnd:function(){this._animatingZoom&&(this._mapPane&&en(this._mapPane,"leaflet-zoom-anim"),this._animatingZoom=!1,this._move(this._animateToCenter,this._animateToZoom,void 0,!0),this._tempFireZoomEvent&&this.fire("zoom"),delete this._tempFireZoomEvent,this.fire("move"),this._moveEnd(!0))}});function If(f,y){return new gt(f,y)}var Pr=X.extend({options:{position:"topright"},initialize:function(f){S(this,f)},getPosition:function(){return this.options.position},setPosition:function(f){var y=this._map;return y&&y.removeControl(this),this.options.position=f,y&&y.addControl(this),this},getContainer:function(){return this._container},addTo:function(f){this.remove(),this._map=f;var y=this._container=this.onAdd(f),E=this.getPosition(),D=f._controlCorners[E];return it(y,"leaflet-control"),E.indexOf("bottom")!==-1?D.insertBefore(y,D.firstChild):D.appendChild(y),this._map.on("unload",this.remove,this),this},remove:function(){return this._map?(Lt(this._container),this.onRemove&&this.onRemove(this._map),this._map.off("unload",this.remove,this),this._map=null,this):this},_refocusOnMap:function(f){this._map&&f&&f.screenX>0&&f.screenY>0&&this._map.getContainer().focus()}}),ka=function(f){return new Pr(f)};gt.include({addControl:function(f){return f.addTo(this),this},removeControl:function(f){return f.remove(),this},_initControlPos:function(){var f=this._controlCorners={},y="leaflet-",E=this._controlContainer=dt("div",y+"control-container",this._container);function D(R,F){var ee=y+R+" "+y+F;f[R+F]=dt("div",ee,E)}D("top","left"),D("top","right"),D("bottom","left"),D("bottom","right")},_clearControlPos:function(){for(var f in this._controlCorners)Lt(this._controlCorners[f]);Lt(this._controlContainer),delete this._controlCorners,delete this._controlContainer}});var rc=Pr.extend({options:{collapsed:!0,position:"topright",autoZIndex:!0,hideSingleBase:!1,sortLayers:!1,sortFunction:function(f,y,E,D){return E<D?-1:D<E?1:0}},initialize:function(f,y,E){S(this,E),this._layerControlInputs=[],this._layers=[],this._lastZIndex=0,this._handlingClick=!1,this._preventClick=!1;for(var D in f)this._addLayer(f[D],D);for(D in y)this._addLayer(y[D],D,!0)},onAdd:function(f){this._initLayout(),this._update(),this._map=f,f.on("zoomend",this._checkDisabledLayers,this);for(var y=0;y<this._layers.length;y++)this._layers[y].layer.on("add remove",this._onLayerChange,this);return this._container},addTo:function(f){return Pr.prototype.addTo.call(this,f),this._expandIfNotCollapsed()},onRemove:function(){this._map.off("zoomend",this._checkDisabledLayers,this);for(var f=0;f<this._layers.length;f++)this._layers[f].layer.off("add remove",this._onLayerChange,this)},addBaseLayer:function(f,y){return this._addLayer(f,y),this._map?this._update():this},addOverlay:function(f,y){return this._addLayer(f,y,!0),this._map?this._update():this},removeLayer:function(f){f.off("add remove",this._onLayerChange,this);var y=this._getLayer(u(f));return y&&this._layers.splice(this._layers.indexOf(y),1),this._map?this._update():this},expand:function(){it(this._container,"leaflet-control-layers-expanded"),this._section.style.height=null;var f=this._map.getSize().y-(this._container.offsetTop+50);return f<this._section.clientHeight?(it(this._section,"leaflet-control-layers-scrollbar"),this._section.style.height=f+"px"):en(this._section,"leaflet-control-layers-scrollbar"),this._checkDisabledLayers(),this},collapse:function(){return en(this._container,"leaflet-control-layers-expanded"),this},_initLayout:function(){var f="leaflet-control-layers",y=this._container=dt("div",f),E=this.options.collapsed;y.setAttribute("aria-haspopup",!0),Uo(y),Ki(y);var D=this._section=dt("section",f+"-list");E&&(this._map.on("click",this.collapse,this),nt(y,{mouseenter:this._expandSafely,mouseleave:this.collapse},this));var R=this._layersLink=dt("a",f+"-toggle",y);R.href="#",R.title="Layers",R.setAttribute("role","button"),nt(R,{keydown:function(F){F.keyCode===13&&this._expandSafely()},click:function(F){pn(F),this._expandSafely()}},this),E||this.expand(),this._baseLayersList=dt("div",f+"-base",D),this._separator=dt("div",f+"-separator",D),this._overlaysList=dt("div",f+"-overlays",D),y.appendChild(D)},_getLayer:function(f){for(var y=0;y<this._layers.length;y++)if(this._layers[y]&&u(this._layers[y].layer)===f)return this._layers[y]},_addLayer:function(f,y,E){this._map&&f.on("add remove",this._onLayerChange,this),this._layers.push({layer:f,name:y,overlay:E}),this.options.sortLayers&&this._layers.sort(o(function(D,R){return this.options.sortFunction(D.layer,R.layer,D.name,R.name)},this)),this.options.autoZIndex&&f.setZIndex&&(this._lastZIndex++,f.setZIndex(this._lastZIndex)),this._expandIfNotCollapsed()},_update:function(){if(!this._container)return this;Kr(this._baseLayersList),Kr(this._overlaysList),this._layerControlInputs=[];var f,y,E,D,R=0;for(E=0;E<this._layers.length;E++)D=this._layers[E],this._addItem(D),y=y||D.overlay,f=f||!D.overlay,R+=D.overlay?0:1;return this.options.hideSingleBase&&(f=f&&R>1,this._baseLayersList.style.display=f?"":"none"),this._separator.style.display=y&&f?"":"none",this},_onLayerChange:function(f){this._handlingClick||this._update();var y=this._getLayer(u(f.target)),E=y.overlay?f.type==="add"?"overlayadd":"overlayremove":f.type==="add"?"baselayerchange":null;E&&this._map.fire(E,y)},_createRadioElement:function(f,y){var E='<input type="radio" class="leaflet-control-layers-selector" name="'+f+'"'+(y?' checked="checked"':"")+"/>",D=document.createElement("div");return D.innerHTML=E,D.firstChild},_addItem:function(f){var y=document.createElement("label"),E=this._map.hasLayer(f.layer),D;f.overlay?(D=document.createElement("input"),D.type="checkbox",D.className="leaflet-control-layers-selector",D.defaultChecked=E):D=this._createRadioElement("leaflet-base-layers_"+u(this),E),this._layerControlInputs.push(D),D.layerId=u(f.layer),nt(D,"click",this._onInputClick,this);var R=document.createElement("span");R.innerHTML=" "+f.name;var F=document.createElement("span");y.appendChild(F),F.appendChild(D),F.appendChild(R);var ee=f.overlay?this._overlaysList:this._baseLayersList;return ee.appendChild(y),this._checkDisabledLayers(),y},_onInputClick:function(){if(!this._preventClick){var f=this._layerControlInputs,y,E,D=[],R=[];this._handlingClick=!0;for(var F=f.length-1;F>=0;F--)y=f[F],E=this._getLayer(y.layerId).layer,y.checked?D.push(E):y.checked||R.push(E);for(F=0;F<R.length;F++)this._map.hasLayer(R[F])&&this._map.removeLayer(R[F]);for(F=0;F<D.length;F++)this._map.hasLayer(D[F])||this._map.addLayer(D[F]);this._handlingClick=!1,this._refocusOnMap()}},_checkDisabledLayers:function(){for(var f=this._layerControlInputs,y,E,D=this._map.getZoom(),R=f.length-1;R>=0;R--)y=f[R],E=this._getLayer(y.layerId).layer,y.disabled=E.options.minZoom!==void 0&&D<E.options.minZoom||E.options.maxZoom!==void 0&&D>E.options.maxZoom},_expandIfNotCollapsed:function(){return this._map&&!this.options.collapsed&&this.expand(),this},_expandSafely:function(){var f=this._section;this._preventClick=!0,nt(f,"click",pn),this.expand();var y=this;setTimeout(function(){Nt(f,"click",pn),y._preventClick=!1})}}),Yp=function(f,y,E){return new rc(f,y,E)},$f=Pr.extend({options:{position:"topleft",zoomInText:'<span aria-hidden="true">+</span>',zoomInTitle:"Zoom in",zoomOutText:'<span aria-hidden="true">&#x2212;</span>',zoomOutTitle:"Zoom out"},onAdd:function(f){var y="leaflet-control-zoom",E=dt("div",y+" leaflet-bar"),D=this.options;return this._zoomInButton=this._createButton(D.zoomInText,D.zoomInTitle,y+"-in",E,this._zoomIn),this._zoomOutButton=this._createButton(D.zoomOutText,D.zoomOutTitle,y+"-out",E,this._zoomOut),this._updateDisabled(),f.on("zoomend zoomlevelschange",this._updateDisabled,this),E},onRemove:function(f){f.off("zoomend zoomlevelschange",this._updateDisabled,this)},disable:function(){return this._disabled=!0,this._updateDisabled(),this},enable:function(){return this._disabled=!1,this._updateDisabled(),this},_zoomIn:function(f){!this._disabled&&this._map._zoom<this._map.getMaxZoom()&&this._map.zoomIn(this._map.options.zoomDelta*(f.shiftKey?3:1))},_zoomOut:function(f){!this._disabled&&this._map._zoom>this._map.getMinZoom()&&this._map.zoomOut(this._map.options.zoomDelta*(f.shiftKey?3:1))},_createButton:function(f,y,E,D,R){var F=dt("a",E,D);return F.innerHTML=f,F.href="#",F.title=y,F.setAttribute("role","button"),F.setAttribute("aria-label",y),Uo(F),nt(F,"click",Ja),nt(F,"click",R,this),nt(F,"click",this._refocusOnMap,this),F},_updateDisabled:function(){var f=this._map,y="leaflet-disabled";en(this._zoomInButton,y),en(this._zoomOutButton,y),this._zoomInButton.setAttribute("aria-disabled","false"),this._zoomOutButton.setAttribute("aria-disabled","false"),(this._disabled||f._zoom===f.getMinZoom())&&(it(this._zoomOutButton,y),this._zoomOutButton.setAttribute("aria-disabled","true")),(this._disabled||f._zoom===f.getMaxZoom())&&(it(this._zoomInButton,y),this._zoomInButton.setAttribute("aria-disabled","true"))}});gt.mergeOptions({zoomControl:!0}),gt.addInitHook(function(){this.options.zoomControl&&(this.zoomControl=new $f,this.addControl(this.zoomControl))});var Ax=function(f){return new $f(f)},Kp=Pr.extend({options:{position:"bottomleft",maxWidth:100,metric:!0,imperial:!0},onAdd:function(f){var y="leaflet-control-scale",E=dt("div",y),D=this.options;return this._addScales(D,y+"-line",E),f.on(D.updateWhenIdle?"moveend":"move",this._update,this),f.whenReady(this._update,this),E},onRemove:function(f){f.off(this.options.updateWhenIdle?"moveend":"move",this._update,this)},_addScales:function(f,y,E){f.metric&&(this._mScale=dt("div",y,E)),f.imperial&&(this._iScale=dt("div",y,E))},_update:function(){var f=this._map,y=f.getSize().y/2,E=f.distance(f.containerPointToLatLng([0,y]),f.containerPointToLatLng([this.options.maxWidth,y]));this._updateScales(E)},_updateScales:function(f){this.options.metric&&f&&this._updateMetric(f),this.options.imperial&&f&&this._updateImperial(f)},_updateMetric:function(f){var y=this._getRoundNum(f),E=y<1e3?y+" m":y/1e3+" km";this._updateScale(this._mScale,E,y/f)},_updateImperial:function(f){var y=f*3.2808399,E,D,R;y>5280?(E=y/5280,D=this._getRoundNum(E),this._updateScale(this._iScale,D+" mi",D/E)):(R=this._getRoundNum(y),this._updateScale(this._iScale,R+" ft",R/y))},_updateScale:function(f,y,E){f.style.width=Math.round(this.options.maxWidth*E)+"px",f.innerHTML=y},_getRoundNum:function(f){var y=Math.pow(10,(Math.floor(f)+"").length-1),E=f/y;return E=E>=10?10:E>=5?5:E>=3?3:E>=2?2:1,y*E}}),Bf=function(f){return new Kp(f)},Tx='<svg aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="12" height="8" viewBox="0 0 12 8" class="leaflet-attribution-flag"><path fill="#4C7BE1" d="M0 0h12v4H0z"/><path fill="#FFD500" d="M0 4h12v3H0z"/><path fill="#E0BC00" d="M0 7h12v1H0z"/></svg>',zf=Pr.extend({options:{position:"bottomright",prefix:'<a href="https://leafletjs.com" title="A JavaScript library for interactive maps">'+(He.inlineSvg?Tx+" ":"")+"Leaflet</a>"},initialize:function(f){S(this,f),this._attributions={}},onAdd:function(f){f.attributionControl=this,this._container=dt("div","leaflet-control-attribution"),Uo(this._container);for(var y in f._layers)f._layers[y].getAttribution&&this.addAttribution(f._layers[y].getAttribution());return this._update(),f.on("layeradd",this._addAttribution,this),this._container},onRemove:function(f){f.off("layeradd",this._addAttribution,this)},_addAttribution:function(f){f.layer.getAttribution&&(this.addAttribution(f.layer.getAttribution()),f.layer.once("remove",function(){this.removeAttribution(f.layer.getAttribution())},this))},setPrefix:function(f){return this.options.prefix=f,this._update(),this},addAttribution:function(f){return f?(this._attributions[f]||(this._attributions[f]=0),this._attributions[f]++,this._update(),this):this},removeAttribution:function(f){return f?(this._attributions[f]&&(this._attributions[f]--,this._update()),this):this},_update:function(){if(this._map){var f=[];for(var y in this._attributions)this._attributions[y]&&f.push(y);var E=[];this.options.prefix&&E.push(this.options.prefix),f.length&&E.push(f.join(", ")),this._container.innerHTML=E.join(' <span aria-hidden="true">|</span> ')}}});gt.mergeOptions({attributionControl:!0}),gt.addInitHook(function(){this.options.attributionControl&&new zf().addTo(this)});var jx=function(f){return new zf(f)};Pr.Layers=rc,Pr.Zoom=$f,Pr.Scale=Kp,Pr.Attribution=zf,ka.layers=Yp,ka.zoom=Ax,ka.scale=Bf,ka.attribution=jx;var Wi=X.extend({initialize:function(f){this._map=f},enable:function(){return this._enabled?this:(this._enabled=!0,this.addHooks(),this)},disable:function(){return this._enabled?(this._enabled=!1,this.removeHooks(),this):this},enabled:function(){return!!this._enabled}});Wi.addTo=function(f,y){return f.addHandler(y,this),this};var Ox={Events:q},Uf=He.touch?"touchstart mousedown":"mousedown",Qa=Q.extend({options:{clickTolerance:3},initialize:function(f,y,E,D){S(this,D),this._element=f,this._dragStartTarget=y||f,this._preventOutline=E},enable:function(){this._enabled||(nt(this._dragStartTarget,Uf,this._onDown,this),this._enabled=!0)},disable:function(){this._enabled&&(Qa._dragging===this&&this.finishDrag(!0),Nt(this._dragStartTarget,Uf,this._onDown,this),this._enabled=!1,this._moved=!1)},_onDown:function(f){if(this._enabled&&(this._moved=!1,!Mf(this._element,"leaflet-zoom-anim"))){if(f.touches&&f.touches.length!==1){Qa._dragging===this&&this.finishDrag();return}if(!(Qa._dragging||f.shiftKey||f.which!==1&&f.button!==1&&!f.touches)&&(Qa._dragging=this,this._preventOutline&&Hs(this._element),Su(),Us(),!this._moving)){this.fire("down");var y=f.touches?f.touches[0]:f,E=Eu(this._element);this._startPoint=new ne(y.clientX,y.clientY),this._startPos=Xa(this._element),this._parentScale=Ql(E);var D=f.type==="mousedown";nt(document,D?"mousemove":"touchmove",this._onMove,this),nt(document,D?"mouseup":"touchend touchcancel",this._onUp,this)}}},_onMove:function(f){if(this._enabled){if(f.touches&&f.touches.length>1){this._moved=!0;return}var y=f.touches&&f.touches.length===1?f.touches[0]:f,E=new ne(y.clientX,y.clientY)._subtract(this._startPoint);!E.x&&!E.y||Math.abs(E.x)+Math.abs(E.y)<this.options.clickTolerance||(E.x/=this._parentScale.x,E.y/=this._parentScale.y,pn(f),this._moved||(this.fire("dragstart"),this._moved=!0,it(document.body,"leaflet-dragging"),this._lastTarget=f.target||f.srcElement,window.SVGElementInstance&&this._lastTarget instanceof window.SVGElementInstance&&(this._lastTarget=this._lastTarget.correspondingUseElement),it(this._lastTarget,"leaflet-drag-target")),this._newPos=this._startPos.add(E),this._moving=!0,this._lastEvent=f,this._updatePosition())}},_updatePosition:function(){var f={originalEvent:this._lastEvent};this.fire("predrag",f),zt(this._element,this._newPos),this.fire("drag",f)},_onUp:function(){this._enabled&&this.finishDrag()},finishDrag:function(f){en(document.body,"leaflet-dragging"),this._lastTarget&&(en(this._lastTarget,"leaflet-drag-target"),this._lastTarget=null),Nt(document,"mousemove touchmove",this._onMove,this),Nt(document,"mouseup touchend touchcancel",this._onUp,this),Jl(),Yi();var y=this._moved&&this._moving;this._moving=!1,Qa._dragging=!1,y&&this.fire("dragend",{noInertia:f,distance:this._newPos.distanceTo(this._startPos)})}});function Wp(f,y,E){var D,R=[1,4,2,8],F,ee,ce,ge,Te,Le,Ye,lt;for(F=0,Le=f.length;F<Le;F++)f[F]._code=Fo(f[F],y);for(ce=0;ce<4;ce++){for(Ye=R[ce],D=[],F=0,Le=f.length,ee=Le-1;F<Le;ee=F++)ge=f[F],Te=f[ee],ge._code&Ye?Te._code&Ye||(lt=Tu(Te,ge,Ye,y,E),lt._code=Fo(lt,y),D.push(lt)):(Te._code&Ye&&(lt=Tu(Te,ge,Ye,y,E),lt._code=Fo(lt,y),D.push(lt)),D.push(ge));f=D}return f}function Vp(f,y){var E,D,R,F,ee,ce,ge,Te,Le;if(!f||f.length===0)throw new Error("latlngs not passed");Vr(f)||(console.warn("latlngs are not flat! Only the first ring will be used"),f=f[0]);var Ye=fe([0,0]),lt=J(f),Fn=lt.getNorthWest().distanceTo(lt.getSouthWest())*lt.getNorthEast().distanceTo(lt.getNorthWest());Fn<1700&&(Ye=Ff(f));var gn=f.length,Rr=[];for(E=0;E<gn;E++){var wt=fe(f[E]);Rr.push(y.project(fe([wt.lat-Ye.lat,wt.lng-Ye.lng])))}for(ce=ge=Te=0,E=0,D=gn-1;E<gn;D=E++)R=Rr[E],F=Rr[D],ee=R.y*F.x-F.y*R.x,ge+=(R.x+F.x)*ee,Te+=(R.y+F.y)*ee,ce+=ee*3;ce===0?Le=Rr[0]:Le=[ge/ce,Te/ce];var St=y.unproject(se(Le));return fe([St.lat+Ye.lat,St.lng+Ye.lng])}function Ff(f){for(var y=0,E=0,D=0,R=0;R<f.length;R++){var F=fe(f[R]);y+=F.lat,E+=F.lng,D++}return fe([y/D,E/D])}var Hf={__proto__:null,clipPolygon:Wp,polygonCenter:Vp,centroid:Ff};function Zp(f,y){if(!y||!f.length)return f.slice();var E=y*y;return f=Cx(f,E),f=Jp(f,E),f}function Xp(f,y,E){return Math.sqrt(ic(f,y,E,!0))}function Nx(f,y,E){return ic(f,y,E)}function Jp(f,y){var E=f.length,D=typeof Uint8Array<"u"?Uint8Array:Array,R=new D(E);R[0]=R[E-1]=1,Gf(f,R,y,0,E-1);var F,ee=[];for(F=0;F<E;F++)R[F]&&ee.push(f[F]);return ee}function Gf(f,y,E,D,R){var F=0,ee,ce,ge;for(ce=D+1;ce<=R-1;ce++)ge=ic(f[ce],f[D],f[R],!0),ge>F&&(ee=ce,F=ge);F>E&&(y[ee]=1,Gf(f,y,E,D,ee),Gf(f,y,E,ee,R))}function Cx(f,y){for(var E=[f[0]],D=1,R=0,F=f.length;D<F;D++)Mx(f[D],f[R])>y&&(E.push(f[D]),R=D);return R<F-1&&E.push(f[F-1]),E}var Qp;function eg(f,y,E,D,R){var F=D?Qp:Fo(f,E),ee=Fo(y,E),ce,ge,Te;for(Qp=ee;;){if(!(F|ee))return[f,y];if(F&ee)return!1;ce=F||ee,ge=Tu(f,y,ce,E,R),Te=Fo(ge,E),ce===F?(f=ge,F=Te):(y=ge,ee=Te)}}function Tu(f,y,E,D,R){var F=y.x-f.x,ee=y.y-f.y,ce=D.min,ge=D.max,Te,Le;return E&8?(Te=f.x+F*(ge.y-f.y)/ee,Le=ge.y):E&4?(Te=f.x+F*(ce.y-f.y)/ee,Le=ce.y):E&2?(Te=ge.x,Le=f.y+ee*(ge.x-f.x)/F):E&1&&(Te=ce.x,Le=f.y+ee*(ce.x-f.x)/F),new ne(Te,Le,R)}function Fo(f,y){var E=0;return f.x<y.min.x?E|=1:f.x>y.max.x&&(E|=2),f.y<y.min.y?E|=4:f.y>y.max.y&&(E|=8),E}function Mx(f,y){var E=y.x-f.x,D=y.y-f.y;return E*E+D*D}function ic(f,y,E,D){var R=y.x,F=y.y,ee=E.x-R,ce=E.y-F,ge=ee*ee+ce*ce,Te;return ge>0&&(Te=((f.x-R)*ee+(f.y-F)*ce)/ge,Te>1?(R=E.x,F=E.y):Te>0&&(R+=ee*Te,F+=ce*Te)),ee=f.x-R,ce=f.y-F,D?ee*ee+ce*ce:new ne(R,F)}function Vr(f){return!j(f[0])||typeof f[0][0]!="object"&&typeof f[0][0]<"u"}function ju(f){return console.warn("Deprecated use of _flat, please use L.LineUtil.isFlat instead."),Vr(f)}function Ys(f,y){var E,D,R,F,ee,ce,ge,Te;if(!f||f.length===0)throw new Error("latlngs not passed");Vr(f)||(console.warn("latlngs are not flat! Only the first ring will be used"),f=f[0]);var Le=fe([0,0]),Ye=J(f),lt=Ye.getNorthWest().distanceTo(Ye.getSouthWest())*Ye.getNorthEast().distanceTo(Ye.getNorthWest());lt<1700&&(Le=Ff(f));var Fn=f.length,gn=[];for(E=0;E<Fn;E++){var Rr=fe(f[E]);gn.push(y.project(fe([Rr.lat-Le.lat,Rr.lng-Le.lng])))}for(E=0,D=0;E<Fn-1;E++)D+=gn[E].distanceTo(gn[E+1])/2;if(D===0)Te=gn[0];else for(E=0,F=0;E<Fn-1;E++)if(ee=gn[E],ce=gn[E+1],R=ee.distanceTo(ce),F+=R,F>D){ge=(F-D)/R,Te=[ce.x-ge*(ce.x-ee.x),ce.y-ge*(ce.y-ee.y)];break}var wt=y.unproject(se(Te));return fe([wt.lat+Le.lat,wt.lng+Le.lng])}var Dx={__proto__:null,simplify:Zp,pointToSegmentDistance:Xp,closestPointOnSegment:Nx,clipSegment:eg,_getEdgeIntersection:Tu,_getBitCode:Fo,_sqClosestPointOnSegment:ic,isFlat:Vr,_flat:ju,polylineCenter:Ys},Ou={project:function(f){return new ne(f.lng,f.lat)},unproject:function(f){return new oe(f.y,f.x)},bounds:new B([-180,-90],[180,90])},Nu={R:6378137,R_MINOR:6356752314245179e-9,bounds:new B([-2003750834279e-5,-1549657073972e-5],[2003750834279e-5,1876465623138e-5]),project:function(f){var y=Math.PI/180,E=this.R,D=f.lat*y,R=this.R_MINOR/E,F=Math.sqrt(1-R*R),ee=F*Math.sin(D),ce=Math.tan(Math.PI/4-D/2)/Math.pow((1-ee)/(1+ee),F/2);return D=-E*Math.log(Math.max(ce,1e-10)),new ne(f.lng*y*E,D)},unproject:function(f){for(var y=180/Math.PI,E=this.R,D=this.R_MINOR/E,R=Math.sqrt(1-D*D),F=Math.exp(-f.y/E),ee=Math.PI/2-2*Math.atan(F),ce=0,ge=.1,Te;ce<15&&Math.abs(ge)>1e-7;ce++)Te=R*Math.sin(ee),Te=Math.pow((1-Te)/(1+Te),R/2),ge=Math.PI/2-2*Math.atan(F*Te)-ee,ee+=ge;return new oe(ee*y,f.x*y/E)}},tg={__proto__:null,LonLat:Ou,Mercator:Nu,SphericalMercator:xe},ng=i({},ke,{code:"EPSG:3395",projection:Nu,transformation:(function(){var f=.5/(Math.PI*Nu.R);return ye(f,.5,-f,.5)})()}),qf=i({},ke,{code:"EPSG:4326",projection:Ou,transformation:ye(1/180,1,-1/180,.5)}),Ks=i({},he,{projection:Ou,transformation:ye(1,0,-1,0),scale:function(f){return Math.pow(2,f)},zoom:function(f){return Math.log(f)/Math.LN2},distance:function(f,y){var E=y.lng-f.lng,D=y.lat-f.lat;return Math.sqrt(E*E+D*D)},infinite:!0});he.Earth=ke,he.EPSG3395=ng,he.EPSG3857=Ze,he.EPSG900913=qe,he.EPSG4326=qf,he.Simple=Ks;var wi=Q.extend({options:{pane:"overlayPane",attribution:null,bubblingMouseEvents:!0},addTo:function(f){return f.addLayer(this),this},remove:function(){return this.removeFrom(this._map||this._mapToAdd)},removeFrom:function(f){return f&&f.removeLayer(this),this},getPane:function(f){return this._map.getPane(f?this.options[f]||f:this.options.pane)},addInteractiveTarget:function(f){return this._map._targets[u(f)]=this,this},removeInteractiveTarget:function(f){return delete this._map._targets[u(f)],this},getAttribution:function(){return this.options.attribution},_layerAdd:function(f){var y=f.target;if(y.hasLayer(this)){if(this._map=y,this._zoomAnimated=y._zoomAnimated,this.getEvents){var E=this.getEvents();y.on(E,this),this.once("remove",function(){y.off(E,this)},this)}this.onAdd(y),this.fire("add"),y.fire("layeradd",{layer:this})}}});gt.include({addLayer:function(f){if(!f._layerAdd)throw new Error("The provided object is not a Layer.");var y=u(f);return this._layers[y]?this:(this._layers[y]=f,f._mapToAdd=this,f.beforeAdd&&f.beforeAdd(this),this.whenReady(f._layerAdd,f),this)},removeLayer:function(f){var y=u(f);return this._layers[y]?(this._loaded&&f.onRemove(this),delete this._layers[y],this._loaded&&(this.fire("layerremove",{layer:f}),f.fire("remove")),f._map=f._mapToAdd=null,this):this},hasLayer:function(f){return u(f)in this._layers},eachLayer:function(f,y){for(var E in this._layers)f.call(y,this._layers[E]);return this},_addLayers:function(f){f=f?j(f)?f:[f]:[];for(var y=0,E=f.length;y<E;y++)this.addLayer(f[y])},_addZoomLimit:function(f){(!isNaN(f.options.maxZoom)||!isNaN(f.options.minZoom))&&(this._zoomBoundLayers[u(f)]=f,this._updateZoomLevels())},_removeZoomLimit:function(f){var y=u(f);this._zoomBoundLayers[y]&&(delete this._zoomBoundLayers[y],this._updateZoomLevels())},_updateZoomLevels:function(){var f=1/0,y=-1/0,E=this._getZoomSpan();for(var D in this._zoomBoundLayers){var R=this._zoomBoundLayers[D].options;f=R.minZoom===void 0?f:Math.min(f,R.minZoom),y=R.maxZoom===void 0?y:Math.max(y,R.maxZoom)}this._layersMaxZoom=y===-1/0?void 0:y,this._layersMinZoom=f===1/0?void 0:f,E!==this._getZoomSpan()&&this.fire("zoomlevelschange"),this.options.maxZoom===void 0&&this._layersMaxZoom&&this.getZoom()>this._layersMaxZoom&&this.setZoom(this._layersMaxZoom),this.options.minZoom===void 0&&this._layersMinZoom&&this.getZoom()<this._layersMinZoom&&this.setZoom(this._layersMinZoom)}});var Ws=wi.extend({initialize:function(f,y){S(this,y),this._layers={};var E,D;if(f)for(E=0,D=f.length;E<D;E++)this.addLayer(f[E])},addLayer:function(f){var y=this.getLayerId(f);return this._layers[y]=f,this._map&&this._map.addLayer(f),this},removeLayer:function(f){var y=f in this._layers?f:this.getLayerId(f);return this._map&&this._layers[y]&&this._map.removeLayer(this._layers[y]),delete this._layers[y],this},hasLayer:function(f){var y=typeof f=="number"?f:this.getLayerId(f);return y in this._layers},clearLayers:function(){return this.eachLayer(this.removeLayer,this)},invoke:function(f){var y=Array.prototype.slice.call(arguments,1),E,D;for(E in this._layers)D=this._layers[E],D[f]&&D[f].apply(D,y);return this},onAdd:function(f){this.eachLayer(f.addLayer,f)},onRemove:function(f){this.eachLayer(f.removeLayer,f)},eachLayer:function(f,y){for(var E in this._layers)f.call(y,this._layers[E]);return this},getLayer:function(f){return this._layers[f]},getLayers:function(){var f=[];return this.eachLayer(f.push,f),f},setZIndex:function(f){return this.invoke("setZIndex",f)},getLayerId:function(f){return u(f)}}),Px=function(f,y){return new Ws(f,y)},Vi=Ws.extend({addLayer:function(f){return this.hasLayer(f)?this:(f.addEventParent(this),Ws.prototype.addLayer.call(this,f),this.fire("layeradd",{layer:f}))},removeLayer:function(f){return this.hasLayer(f)?(f in this._layers&&(f=this._layers[f]),f.removeEventParent(this),Ws.prototype.removeLayer.call(this,f),this.fire("layerremove",{layer:f})):this},setStyle:function(f){return this.invoke("setStyle",f)},bringToFront:function(){return this.invoke("bringToFront")},bringToBack:function(){return this.invoke("bringToBack")},getBounds:function(){var f=new ie;for(var y in this._layers){var E=this._layers[y];f.extend(E.getBounds?E.getBounds():E.getLatLng())}return f}}),rg=function(f,y){return new Vi(f,y)},Zi=X.extend({options:{popupAnchor:[0,0],tooltipAnchor:[0,0],crossOrigin:!1},initialize:function(f){S(this,f)},createIcon:function(f){return this._createIcon("icon",f)},createShadow:function(f){return this._createIcon("shadow",f)},_createIcon:function(f,y){var E=this._getIconUrl(f);if(!E){if(f==="icon")throw new Error("iconUrl not set in Icon options (see the docs).");return null}var D=this._createImg(E,y&&y.tagName==="IMG"?y:null);return this._setIconStyles(D,f),(this.options.crossOrigin||this.options.crossOrigin==="")&&(D.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),D},_setIconStyles:function(f,y){var E=this.options,D=E[y+"Size"];typeof D=="number"&&(D=[D,D]);var R=se(D),F=se(y==="shadow"&&E.shadowAnchor||E.iconAnchor||R&&R.divideBy(2,!0));f.className="leaflet-marker-"+y+" "+(E.className||""),F&&(f.style.marginLeft=-F.x+"px",f.style.marginTop=-F.y+"px"),R&&(f.style.width=R.x+"px",f.style.height=R.y+"px")},_createImg:function(f,y){return y=y||document.createElement("img"),y.src=f,y},_getIconUrl:function(f){return He.retina&&this.options[f+"RetinaUrl"]||this.options[f+"Url"]}});function ac(f){return new Zi(f)}var oc=Zi.extend({options:{iconUrl:"marker-icon.png",iconRetinaUrl:"marker-icon-2x.png",shadowUrl:"marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],tooltipAnchor:[16,-28],shadowSize:[41,41]},_getIconUrl:function(f){return typeof oc.imagePath!="string"&&(oc.imagePath=this._detectIconPath()),(this.options.imagePath||oc.imagePath)+Zi.prototype._getIconUrl.call(this,f)},_stripUrl:function(f){var y=function(E,D,R){var F=D.exec(E);return F&&F[R]};return f=y(f,/^url\((['"])?(.+)\1\)$/,2),f&&y(f,/^(.*)marker-icon\.png$/,1)},_detectIconPath:function(){var f=dt("div","leaflet-default-icon-path",document.body),y=Zl(f,"background-image")||Zl(f,"backgroundImage");if(document.body.removeChild(f),y=this._stripUrl(y),y)return y;var E=document.querySelector('link[href$="leaflet.css"]');return E?E.href.substring(0,E.href.length-11-1):""}}),sc=Wi.extend({initialize:function(f){this._marker=f},addHooks:function(){var f=this._marker._icon;this._draggable||(this._draggable=new Qa(f,f,!0)),this._draggable.on({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).enable(),it(f,"leaflet-marker-draggable")},removeHooks:function(){this._draggable.off({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).disable(),this._marker._icon&&en(this._marker._icon,"leaflet-marker-draggable")},moved:function(){return this._draggable&&this._draggable._moved},_adjustPan:function(f){var y=this._marker,E=y._map,D=this._marker.options.autoPanSpeed,R=this._marker.options.autoPanPadding,F=Xa(y._icon),ee=E.getPixelBounds(),ce=E.getPixelOrigin(),ge=K(ee.min._subtract(ce).add(R),ee.max._subtract(ce).subtract(R));if(!ge.contains(F)){var Te=se((Math.max(ge.max.x,F.x)-ge.max.x)/(ee.max.x-ge.max.x)-(Math.min(ge.min.x,F.x)-ge.min.x)/(ee.min.x-ge.min.x),(Math.max(ge.max.y,F.y)-ge.max.y)/(ee.max.y-ge.max.y)-(Math.min(ge.min.y,F.y)-ge.min.y)/(ee.min.y-ge.min.y)).multiplyBy(D);E.panBy(Te,{animate:!1}),this._draggable._newPos._add(Te),this._draggable._startPos._add(Te),zt(y._icon,this._draggable._newPos),this._onDrag(f),this._panRequest=H(this._adjustPan.bind(this,f))}},_onDragStart:function(){this._oldLatLng=this._marker.getLatLng(),this._marker.closePopup&&this._marker.closePopup(),this._marker.fire("movestart").fire("dragstart")},_onPreDrag:function(f){this._marker.options.autoPan&&(z(this._panRequest),this._panRequest=H(this._adjustPan.bind(this,f)))},_onDrag:function(f){var y=this._marker,E=y._shadow,D=Xa(y._icon),R=y._map.layerPointToLatLng(D);E&&zt(E,D),y._latlng=R,f.latlng=R,f.oldLatLng=this._oldLatLng,y.fire("move",f).fire("drag",f)},_onDragEnd:function(f){z(this._panRequest),delete this._oldLatLng,this._marker.fire("moveend").fire("dragend",f)}}),lc=wi.extend({options:{icon:new oc,interactive:!0,keyboard:!0,title:"",alt:"Marker",zIndexOffset:0,opacity:1,riseOnHover:!1,riseOffset:250,pane:"markerPane",shadowPane:"shadowPane",bubblingMouseEvents:!1,autoPanOnFocus:!0,draggable:!1,autoPan:!1,autoPanPadding:[50,50],autoPanSpeed:10},initialize:function(f,y){S(this,y),this._latlng=fe(f)},onAdd:function(f){this._zoomAnimated=this._zoomAnimated&&f.options.markerZoomAnimation,this._zoomAnimated&&f.on("zoomanim",this._animateZoom,this),this._initIcon(),this.update()},onRemove:function(f){this.dragging&&this.dragging.enabled()&&(this.options.draggable=!0,this.dragging.removeHooks()),delete this.dragging,this._zoomAnimated&&f.off("zoomanim",this._animateZoom,this),this._removeIcon(),this._removeShadow()},getEvents:function(){return{zoom:this.update,viewreset:this.update}},getLatLng:function(){return this._latlng},setLatLng:function(f){var y=this._latlng;return this._latlng=fe(f),this.update(),this.fire("move",{oldLatLng:y,latlng:this._latlng})},setZIndexOffset:function(f){return this.options.zIndexOffset=f,this.update()},getIcon:function(){return this.options.icon},setIcon:function(f){return this.options.icon=f,this._map&&(this._initIcon(),this.update()),this._popup&&this.bindPopup(this._popup,this._popup.options),this},getElement:function(){return this._icon},update:function(){if(this._icon&&this._map){var f=this._map.latLngToLayerPoint(this._latlng).round();this._setPos(f)}return this},_initIcon:function(){var f=this.options,y="leaflet-zoom-"+(this._zoomAnimated?"animated":"hide"),E=f.icon.createIcon(this._icon),D=!1;E!==this._icon&&(this._icon&&this._removeIcon(),D=!0,f.title&&(E.title=f.title),E.tagName==="IMG"&&(E.alt=f.alt||"")),it(E,y),f.keyboard&&(E.tabIndex="0",E.setAttribute("role","button")),this._icon=E,f.riseOnHover&&this.on({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&nt(E,"focus",this._panOnFocus,this);var R=f.icon.createShadow(this._shadow),F=!1;R!==this._shadow&&(this._removeShadow(),F=!0),R&&(it(R,y),R.alt=""),this._shadow=R,f.opacity<1&&this._updateOpacity(),D&&this.getPane().appendChild(this._icon),this._initInteraction(),R&&F&&this.getPane(f.shadowPane).appendChild(this._shadow)},_removeIcon:function(){this.options.riseOnHover&&this.off({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&Nt(this._icon,"focus",this._panOnFocus,this),Lt(this._icon),this.removeInteractiveTarget(this._icon),this._icon=null},_removeShadow:function(){this._shadow&&Lt(this._shadow),this._shadow=null},_setPos:function(f){this._icon&&zt(this._icon,f),this._shadow&&zt(this._shadow,f),this._zIndex=f.y+this.options.zIndexOffset,this._resetZIndex()},_updateZIndex:function(f){this._icon&&(this._icon.style.zIndex=this._zIndex+f)},_animateZoom:function(f){var y=this._map._latLngToNewLayerPoint(this._latlng,f.zoom,f.center).round();this._setPos(y)},_initInteraction:function(){if(this.options.interactive&&(it(this._icon,"leaflet-interactive"),this.addInteractiveTarget(this._icon),sc)){var f=this.options.draggable;this.dragging&&(f=this.dragging.enabled(),this.dragging.disable()),this.dragging=new sc(this),f&&this.dragging.enable()}},setOpacity:function(f){return this.options.opacity=f,this._map&&this._updateOpacity(),this},_updateOpacity:function(){var f=this.options.opacity;this._icon&&Zt(this._icon,f),this._shadow&&Zt(this._shadow,f)},_bringToFront:function(){this._updateZIndex(this.options.riseOffset)},_resetZIndex:function(){this._updateZIndex(0)},_panOnFocus:function(){var f=this._map;if(f){var y=this.options.icon.options,E=y.iconSize?se(y.iconSize):se(0,0),D=y.iconAnchor?se(y.iconAnchor):se(0,0);f.panInside(this._latlng,{paddingTopLeft:D,paddingBottomRight:E.subtract(D)})}},_getPopupAnchor:function(){return this.options.icon.options.popupAnchor},_getTooltipAnchor:function(){return this.options.icon.options.tooltipAnchor}});function ig(f,y){return new lc(f,y)}var Xi=wi.extend({options:{stroke:!0,color:"#3388ff",weight:3,opacity:1,lineCap:"round",lineJoin:"round",dashArray:null,dashOffset:null,fill:!1,fillColor:null,fillOpacity:.2,fillRule:"evenodd",interactive:!0,bubblingMouseEvents:!0},beforeAdd:function(f){this._renderer=f.getRenderer(this)},onAdd:function(){this._renderer._initPath(this),this._reset(),this._renderer._addPath(this)},onRemove:function(){this._renderer._removePath(this)},redraw:function(){return this._map&&this._renderer._updatePath(this),this},setStyle:function(f){return S(this,f),this._renderer&&(this._renderer._updateStyle(this),this.options.stroke&&f&&Object.prototype.hasOwnProperty.call(f,"weight")&&this._updateBounds()),this},bringToFront:function(){return this._renderer&&this._renderer._bringToFront(this),this},bringToBack:function(){return this._renderer&&this._renderer._bringToBack(this),this},getElement:function(){return this._path},_reset:function(){this._project(),this._update()},_clickTolerance:function(){return(this.options.stroke?this.options.weight/2:0)+(this._renderer.options.tolerance||0)}}),Vs=Xi.extend({options:{fill:!0,radius:10},initialize:function(f,y){S(this,y),this._latlng=fe(f),this._radius=this.options.radius},setLatLng:function(f){var y=this._latlng;return this._latlng=fe(f),this.redraw(),this.fire("move",{oldLatLng:y,latlng:this._latlng})},getLatLng:function(){return this._latlng},setRadius:function(f){return this.options.radius=this._radius=f,this.redraw()},getRadius:function(){return this._radius},setStyle:function(f){var y=f&&f.radius||this._radius;return Xi.prototype.setStyle.call(this,f),this.setRadius(y),this},_project:function(){this._point=this._map.latLngToLayerPoint(this._latlng),this._updateBounds()},_updateBounds:function(){var f=this._radius,y=this._radiusY||f,E=this._clickTolerance(),D=[f+E,y+E];this._pxBounds=new B(this._point.subtract(D),this._point.add(D))},_update:function(){this._map&&this._updatePath()},_updatePath:function(){this._renderer._updateCircle(this)},_empty:function(){return this._radius&&!this._renderer._bounds.intersects(this._pxBounds)},_containsPoint:function(f){return f.distanceTo(this._point)<=this._radius+this._clickTolerance()}});function ag(f,y){return new Vs(f,y)}var Cu=Vs.extend({initialize:function(f,y,E){if(typeof y=="number"&&(y=i({},E,{radius:y})),S(this,y),this._latlng=fe(f),isNaN(this.options.radius))throw new Error("Circle radius cannot be NaN");this._mRadius=this.options.radius},setRadius:function(f){return this._mRadius=f,this.redraw()},getRadius:function(){return this._mRadius},getBounds:function(){var f=[this._radius,this._radiusY||this._radius];return new ie(this._map.layerPointToLatLng(this._point.subtract(f)),this._map.layerPointToLatLng(this._point.add(f)))},setStyle:Xi.prototype.setStyle,_project:function(){var f=this._latlng.lng,y=this._latlng.lat,E=this._map,D=E.options.crs;if(D.distance===ke.distance){var R=Math.PI/180,F=this._mRadius/ke.R/R,ee=E.project([y+F,f]),ce=E.project([y-F,f]),ge=ee.add(ce).divideBy(2),Te=E.unproject(ge).lat,Le=Math.acos((Math.cos(F*R)-Math.sin(y*R)*Math.sin(Te*R))/(Math.cos(y*R)*Math.cos(Te*R)))/R;(isNaN(Le)||Le===0)&&(Le=F/Math.cos(Math.PI/180*y)),this._point=ge.subtract(E.getPixelOrigin()),this._radius=isNaN(Le)?0:ge.x-E.project([Te,f-Le]).x,this._radiusY=ge.y-ee.y}else{var Ye=D.unproject(D.project(this._latlng).subtract([this._mRadius,0]));this._point=E.latLngToLayerPoint(this._latlng),this._radius=this._point.x-E.latLngToLayerPoint(Ye).x}this._updateBounds()}});function og(f,y,E){return new Cu(f,y,E)}var Ea=Xi.extend({options:{smoothFactor:1,noClip:!1},initialize:function(f,y){S(this,y),this._setLatLngs(f)},getLatLngs:function(){return this._latlngs},setLatLngs:function(f){return this._setLatLngs(f),this.redraw()},isEmpty:function(){return!this._latlngs.length},closestLayerPoint:function(f){for(var y=1/0,E=null,D=ic,R,F,ee=0,ce=this._parts.length;ee<ce;ee++)for(var ge=this._parts[ee],Te=1,Le=ge.length;Te<Le;Te++){R=ge[Te-1],F=ge[Te];var Ye=D(f,R,F,!0);Ye<y&&(y=Ye,E=D(f,R,F))}return E&&(E.distance=Math.sqrt(y)),E},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return Ys(this._defaultShape(),this._map.options.crs)},getBounds:function(){return this._bounds},addLatLng:function(f,y){return y=y||this._defaultShape(),f=fe(f),y.push(f),this._bounds.extend(f),this.redraw()},_setLatLngs:function(f){this._bounds=new ie,this._latlngs=this._convertLatLngs(f)},_defaultShape:function(){return Vr(this._latlngs)?this._latlngs:this._latlngs[0]},_convertLatLngs:function(f){for(var y=[],E=Vr(f),D=0,R=f.length;D<R;D++)E?(y[D]=fe(f[D]),this._bounds.extend(y[D])):y[D]=this._convertLatLngs(f[D]);return y},_project:function(){var f=new B;this._rings=[],this._projectLatlngs(this._latlngs,this._rings,f),this._bounds.isValid()&&f.isValid()&&(this._rawPxBounds=f,this._updateBounds())},_updateBounds:function(){var f=this._clickTolerance(),y=new ne(f,f);this._rawPxBounds&&(this._pxBounds=new B([this._rawPxBounds.min.subtract(y),this._rawPxBounds.max.add(y)]))},_projectLatlngs:function(f,y,E){var D=f[0]instanceof oe,R=f.length,F,ee;if(D){for(ee=[],F=0;F<R;F++)ee[F]=this._map.latLngToLayerPoint(f[F]),E.extend(ee[F]);y.push(ee)}else for(F=0;F<R;F++)this._projectLatlngs(f[F],y,E)},_clipPoints:function(){var f=this._renderer._bounds;if(this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(f))){if(this.options.noClip){this._parts=this._rings;return}var y=this._parts,E,D,R,F,ee,ce,ge;for(E=0,R=0,F=this._rings.length;E<F;E++)for(ge=this._rings[E],D=0,ee=ge.length;D<ee-1;D++)ce=eg(ge[D],ge[D+1],f,D,!0),ce&&(y[R]=y[R]||[],y[R].push(ce[0]),(ce[1]!==ge[D+1]||D===ee-2)&&(y[R].push(ce[1]),R++))}},_simplifyPoints:function(){for(var f=this._parts,y=this.options.smoothFactor,E=0,D=f.length;E<D;E++)f[E]=Zp(f[E],y)},_update:function(){this._map&&(this._clipPoints(),this._simplifyPoints(),this._updatePath())},_updatePath:function(){this._renderer._updatePoly(this)},_containsPoint:function(f,y){var E,D,R,F,ee,ce,ge=this._clickTolerance();if(!this._pxBounds||!this._pxBounds.contains(f))return!1;for(E=0,F=this._parts.length;E<F;E++)for(ce=this._parts[E],D=0,ee=ce.length,R=ee-1;D<ee;R=D++)if(!(!y&&D===0)&&Xp(f,ce[R],ce[D])<=ge)return!0;return!1}});function Rx(f,y){return new Ea(f,y)}Ea._flat=ju;var Zs=Ea.extend({options:{fill:!0},isEmpty:function(){return!this._latlngs.length||!this._latlngs[0].length},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return Vp(this._defaultShape(),this._map.options.crs)},_convertLatLngs:function(f){var y=Ea.prototype._convertLatLngs.call(this,f),E=y.length;return E>=2&&y[0]instanceof oe&&y[0].equals(y[E-1])&&y.pop(),y},_setLatLngs:function(f){Ea.prototype._setLatLngs.call(this,f),Vr(this._latlngs)&&(this._latlngs=[this._latlngs])},_defaultShape:function(){return Vr(this._latlngs[0])?this._latlngs[0]:this._latlngs[0][0]},_clipPoints:function(){var f=this._renderer._bounds,y=this.options.weight,E=new ne(y,y);if(f=new B(f.min.subtract(E),f.max.add(E)),this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(f))){if(this.options.noClip){this._parts=this._rings;return}for(var D=0,R=this._rings.length,F;D<R;D++)F=Wp(this._rings[D],f,!0),F.length&&this._parts.push(F)}},_updatePath:function(){this._renderer._updatePoly(this,!0)},_containsPoint:function(f){var y=!1,E,D,R,F,ee,ce,ge,Te;if(!this._pxBounds||!this._pxBounds.contains(f))return!1;for(F=0,ge=this._parts.length;F<ge;F++)for(E=this._parts[F],ee=0,Te=E.length,ce=Te-1;ee<Te;ce=ee++)D=E[ee],R=E[ce],D.y>f.y!=R.y>f.y&&f.x<(R.x-D.x)*(f.y-D.y)/(R.y-D.y)+D.x&&(y=!y);return y||Ea.prototype._containsPoint.call(this,f,!0)}});function Lx(f,y){return new Zs(f,y)}var Aa=Vi.extend({initialize:function(f,y){S(this,y),this._layers={},f&&this.addData(f)},addData:function(f){var y=j(f)?f:f.features,E,D,R;if(y){for(E=0,D=y.length;E<D;E++)R=y[E],(R.geometries||R.geometry||R.features||R.coordinates)&&this.addData(R);return this}var F=this.options;if(F.filter&&!F.filter(f))return this;var ee=er(f,F);return ee?(ee.feature=Pu(f),ee.defaultOptions=ee.options,this.resetStyle(ee),F.onEachFeature&&F.onEachFeature(f,ee),this.addLayer(ee)):this},resetStyle:function(f){return f===void 0?this.eachLayer(this.resetStyle,this):(f.options=i({},f.defaultOptions),this._setLayerStyle(f,this.options.style),this)},setStyle:function(f){return this.eachLayer(function(y){this._setLayerStyle(y,f)},this)},_setLayerStyle:function(f,y){f.setStyle&&(typeof y=="function"&&(y=y(f.feature)),f.setStyle(y))}});function er(f,y){var E=f.type==="Feature"?f.geometry:f,D=E?E.coordinates:null,R=[],F=y&&y.pointToLayer,ee=y&&y.coordsToLatLng||Mu,ce,ge,Te,Le;if(!D&&!E)return null;switch(E.type){case"Point":return ce=ee(D),Xs(F,f,ce,y);case"MultiPoint":for(Te=0,Le=D.length;Te<Le;Te++)ce=ee(D[Te]),R.push(Xs(F,f,ce,y));return new Vi(R);case"LineString":case"MultiLineString":return ge=cc(D,E.type==="LineString"?0:1,ee),new Ea(ge,y);case"Polygon":case"MultiPolygon":return ge=cc(D,E.type==="Polygon"?1:2,ee),new Zs(ge,y);case"GeometryCollection":for(Te=0,Le=E.geometries.length;Te<Le;Te++){var Ye=er({geometry:E.geometries[Te],type:"Feature",properties:f.properties},y);Ye&&R.push(Ye)}return new Vi(R);case"FeatureCollection":for(Te=0,Le=E.features.length;Te<Le;Te++){var lt=er(E.features[Te],y);lt&&R.push(lt)}return new Vi(R);default:throw new Error("Invalid GeoJSON object.")}}function Xs(f,y,E,D){return f?f(y,E):new lc(E,D&&D.markersInheritOptions&&D)}function Mu(f){return new oe(f[1],f[0],f[2])}function cc(f,y,E){for(var D=[],R=0,F=f.length,ee;R<F;R++)ee=y?cc(f[R],y-1,E):(E||Mu)(f[R]),D.push(ee);return D}function Du(f,y){return f=fe(f),f.alt!==void 0?[b(f.lng,y),b(f.lat,y),b(f.alt,y)]:[b(f.lng,y),b(f.lat,y)]}function uc(f,y,E,D){for(var R=[],F=0,ee=f.length;F<ee;F++)R.push(y?uc(f[F],Vr(f[F])?0:y-1,E,D):Du(f[F],D));return!y&&E&&R.length>0&&R.push(R[0].slice()),R}function eo(f,y){return f.feature?i({},f.feature,{geometry:y}):Pu(y)}function Pu(f){return f.type==="Feature"||f.type==="FeatureCollection"?f:{type:"Feature",properties:{},geometry:f}}var to={toGeoJSON:function(f){return eo(this,{type:"Point",coordinates:Du(this.getLatLng(),f)})}};lc.include(to),Cu.include(to),Vs.include(to),Ea.include({toGeoJSON:function(f){var y=!Vr(this._latlngs),E=uc(this._latlngs,y?1:0,!1,f);return eo(this,{type:(y?"Multi":"")+"LineString",coordinates:E})}}),Zs.include({toGeoJSON:function(f){var y=!Vr(this._latlngs),E=y&&!Vr(this._latlngs[0]),D=uc(this._latlngs,E?2:y?1:0,!0,f);return y||(D=[D]),eo(this,{type:(E?"Multi":"")+"Polygon",coordinates:D})}}),Ws.include({toMultiPoint:function(f){var y=[];return this.eachLayer(function(E){y.push(E.toGeoJSON(f).geometry.coordinates)}),eo(this,{type:"MultiPoint",coordinates:y})},toGeoJSON:function(f){var y=this.feature&&this.feature.geometry&&this.feature.geometry.type;if(y==="MultiPoint")return this.toMultiPoint(f);var E=y==="GeometryCollection",D=[];return this.eachLayer(function(R){if(R.toGeoJSON){var F=R.toGeoJSON(f);if(E)D.push(F.geometry);else{var ee=Pu(F);ee.type==="FeatureCollection"?D.push.apply(D,ee.features):D.push(ee)}}}),E?eo(this,{geometries:D,type:"GeometryCollection"}):{type:"FeatureCollection",features:D}}});function Ru(f,y){return new Aa(f,y)}var dc=Ru,Js=wi.extend({options:{opacity:1,alt:"",interactive:!1,crossOrigin:!1,errorOverlayUrl:"",zIndex:1,className:""},initialize:function(f,y,E){this._url=f,this._bounds=J(y),S(this,E)},onAdd:function(){this._image||(this._initImage(),this.options.opacity<1&&this._updateOpacity()),this.options.interactive&&(it(this._image,"leaflet-interactive"),this.addInteractiveTarget(this._image)),this.getPane().appendChild(this._image),this._reset()},onRemove:function(){Lt(this._image),this.options.interactive&&this.removeInteractiveTarget(this._image)},setOpacity:function(f){return this.options.opacity=f,this._image&&this._updateOpacity(),this},setStyle:function(f){return f.opacity&&this.setOpacity(f.opacity),this},bringToFront:function(){return this._map&&Un(this._image),this},bringToBack:function(){return this._map&&Bo(this._image),this},setUrl:function(f){return this._url=f,this._image&&(this._image.src=f),this},setBounds:function(f){return this._bounds=J(f),this._map&&this._reset(),this},getEvents:function(){var f={zoom:this._reset,viewreset:this._reset};return this._zoomAnimated&&(f.zoomanim=this._animateZoom),f},setZIndex:function(f){return this.options.zIndex=f,this._updateZIndex(),this},getBounds:function(){return this._bounds},getElement:function(){return this._image},_initImage:function(){var f=this._url.tagName==="IMG",y=this._image=f?this._url:dt("img");if(it(y,"leaflet-image-layer"),this._zoomAnimated&&it(y,"leaflet-zoom-animated"),this.options.className&&it(y,this.options.className),y.onselectstart=p,y.onmousemove=p,y.onload=o(this.fire,this,"load"),y.onerror=o(this._overlayOnError,this,"error"),(this.options.crossOrigin||this.options.crossOrigin==="")&&(y.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),this.options.zIndex&&this._updateZIndex(),f){this._url=y.src;return}y.src=this._url,y.alt=this.options.alt},_animateZoom:function(f){var y=this._map.getZoomScale(f.zoom),E=this._map._latLngBoundsToNewLayerBounds(this._bounds,f.zoom,f.center).min;wa(this._image,E,y)},_reset:function(){var f=this._image,y=new B(this._map.latLngToLayerPoint(this._bounds.getNorthWest()),this._map.latLngToLayerPoint(this._bounds.getSouthEast())),E=y.getSize();zt(f,y.min),f.style.width=E.x+"px",f.style.height=E.y+"px"},_updateOpacity:function(){Zt(this._image,this.options.opacity)},_updateZIndex:function(){this._image&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._image.style.zIndex=this.options.zIndex)},_overlayOnError:function(){this.fire("error");var f=this.options.errorOverlayUrl;f&&this._url!==f&&(this._url=f,this._image.src=f)},getCenter:function(){return this._bounds.getCenter()}}),sg=function(f,y,E){return new Js(f,y,E)},no=Js.extend({options:{autoplay:!0,loop:!0,keepAspectRatio:!0,muted:!1,playsInline:!0},_initImage:function(){var f=this._url.tagName==="VIDEO",y=this._image=f?this._url:dt("video");if(it(y,"leaflet-image-layer"),this._zoomAnimated&&it(y,"leaflet-zoom-animated"),this.options.className&&it(y,this.options.className),y.onselectstart=p,y.onmousemove=p,y.onloadeddata=o(this.fire,this,"load"),f){for(var E=y.getElementsByTagName("source"),D=[],R=0;R<E.length;R++)D.push(E[R].src);this._url=E.length>0?D:[y.src];return}j(this._url)||(this._url=[this._url]),!this.options.keepAspectRatio&&Object.prototype.hasOwnProperty.call(y.style,"objectFit")&&(y.style.objectFit="fill"),y.autoplay=!!this.options.autoplay,y.loop=!!this.options.loop,y.muted=!!this.options.muted,y.playsInline=!!this.options.playsInline;for(var F=0;F<this._url.length;F++){var ee=dt("source");ee.src=this._url[F],y.appendChild(ee)}}});function Qs(f,y,E){return new no(f,y,E)}var Lu=Js.extend({_initImage:function(){var f=this._image=this._url;it(f,"leaflet-image-layer"),this._zoomAnimated&&it(f,"leaflet-zoom-animated"),this.options.className&&it(f,this.options.className),f.onselectstart=p,f.onmousemove=p}});function lg(f,y,E){return new Lu(f,y,E)}var tr=wi.extend({options:{interactive:!1,offset:[0,0],className:"",pane:void 0,content:""},initialize:function(f,y){f&&(f instanceof oe||j(f))?(this._latlng=fe(f),S(this,y)):(S(this,f),this._source=y),this.options.content&&(this._content=this.options.content)},openOn:function(f){return f=arguments.length?f:this._source._map,f.hasLayer(this)||f.addLayer(this),this},close:function(){return this._map&&this._map.removeLayer(this),this},toggle:function(f){return this._map?this.close():(arguments.length?this._source=f:f=this._source,this._prepareOpen(),this.openOn(f._map)),this},onAdd:function(f){this._zoomAnimated=f._zoomAnimated,this._container||this._initLayout(),f._fadeAnimated&&Zt(this._container,0),clearTimeout(this._removeTimeout),this.getPane().appendChild(this._container),this.update(),f._fadeAnimated&&Zt(this._container,1),this.bringToFront(),this.options.interactive&&(it(this._container,"leaflet-interactive"),this.addInteractiveTarget(this._container))},onRemove:function(f){f._fadeAnimated?(Zt(this._container,0),this._removeTimeout=setTimeout(o(Lt,void 0,this._container),200)):Lt(this._container),this.options.interactive&&(en(this._container,"leaflet-interactive"),this.removeInteractiveTarget(this._container))},getLatLng:function(){return this._latlng},setLatLng:function(f){return this._latlng=fe(f),this._map&&(this._updatePosition(),this._adjustPan()),this},getContent:function(){return this._content},setContent:function(f){return this._content=f,this.update(),this},getElement:function(){return this._container},update:function(){this._map&&(this._container.style.visibility="hidden",this._updateContent(),this._updateLayout(),this._updatePosition(),this._container.style.visibility="",this._adjustPan())},getEvents:function(){var f={zoom:this._updatePosition,viewreset:this._updatePosition};return this._zoomAnimated&&(f.zoomanim=this._animateZoom),f},isOpen:function(){return!!this._map&&this._map.hasLayer(this)},bringToFront:function(){return this._map&&Un(this._container),this},bringToBack:function(){return this._map&&Bo(this._container),this},_prepareOpen:function(f){var y=this._source;if(!y._map)return!1;if(y instanceof Vi){y=null;var E=this._source._layers;for(var D in E)if(E[D]._map){y=E[D];break}if(!y)return!1;this._source=y}if(!f)if(y.getCenter)f=y.getCenter();else if(y.getLatLng)f=y.getLatLng();else if(y.getBounds)f=y.getBounds().getCenter();else throw new Error("Unable to get source layer LatLng.");return this.setLatLng(f),this._map&&this.update(),!0},_updateContent:function(){if(this._content){var f=this._contentNode,y=typeof this._content=="function"?this._content(this._source||this):this._content;if(typeof y=="string")f.innerHTML=y;else{for(;f.hasChildNodes();)f.removeChild(f.firstChild);f.appendChild(y)}this.fire("contentupdate")}},_updatePosition:function(){if(this._map){var f=this._map.latLngToLayerPoint(this._latlng),y=se(this.options.offset),E=this._getAnchor();this._zoomAnimated?zt(this._container,f.add(E)):y=y.add(f).add(E);var D=this._containerBottom=-y.y,R=this._containerLeft=-Math.round(this._containerWidth/2)+y.x;this._container.style.bottom=D+"px",this._container.style.left=R+"px"}},_getAnchor:function(){return[0,0]}});gt.include({_initOverlay:function(f,y,E,D){var R=y;return R instanceof f||(R=new f(D).setContent(y)),E&&R.setLatLng(E),R}}),wi.include({_initOverlay:function(f,y,E,D){var R=E;return R instanceof f?(S(R,D),R._source=this):(R=y&&!D?y:new f(D,this),R.setContent(E)),R}});var fc=tr.extend({options:{pane:"popupPane",offset:[0,7],maxWidth:300,minWidth:50,maxHeight:null,autoPan:!0,autoPanPaddingTopLeft:null,autoPanPaddingBottomRight:null,autoPanPadding:[5,5],keepInView:!1,closeButton:!0,autoClose:!0,closeOnEscapeKey:!0,className:""},openOn:function(f){return f=arguments.length?f:this._source._map,!f.hasLayer(this)&&f._popup&&f._popup.options.autoClose&&f.removeLayer(f._popup),f._popup=this,tr.prototype.openOn.call(this,f)},onAdd:function(f){tr.prototype.onAdd.call(this,f),f.fire("popupopen",{popup:this}),this._source&&(this._source.fire("popupopen",{popup:this},!0),this._source instanceof Xi||this._source.on("preclick",_i))},onRemove:function(f){tr.prototype.onRemove.call(this,f),f.fire("popupclose",{popup:this}),this._source&&(this._source.fire("popupclose",{popup:this},!0),this._source instanceof Xi||this._source.off("preclick",_i))},getEvents:function(){var f=tr.prototype.getEvents.call(this);return(this.options.closeOnClick!==void 0?this.options.closeOnClick:this._map.options.closePopupOnClick)&&(f.preclick=this.close),this.options.keepInView&&(f.moveend=this._adjustPan),f},_initLayout:function(){var f="leaflet-popup",y=this._container=dt("div",f+" "+(this.options.className||"")+" leaflet-zoom-animated"),E=this._wrapper=dt("div",f+"-content-wrapper",y);if(this._contentNode=dt("div",f+"-content",E),Uo(y),Ki(this._contentNode),nt(y,"contextmenu",_i),this._tipContainer=dt("div",f+"-tip-container",y),this._tip=dt("div",f+"-tip",this._tipContainer),this.options.closeButton){var D=this._closeButton=dt("a",f+"-close-button",y);D.setAttribute("role","button"),D.setAttribute("aria-label","Close popup"),D.href="#close",D.innerHTML='<span aria-hidden="true">&#215;</span>',nt(D,"click",function(R){pn(R),this.close()},this)}},_updateLayout:function(){var f=this._contentNode,y=f.style;y.width="",y.whiteSpace="nowrap";var E=f.offsetWidth;E=Math.min(E,this.options.maxWidth),E=Math.max(E,this.options.minWidth),y.width=E+1+"px",y.whiteSpace="",y.height="";var D=f.offsetHeight,R=this.options.maxHeight,F="leaflet-popup-scrolled";R&&D>R?(y.height=R+"px",it(f,F)):en(f,F),this._containerWidth=this._container.offsetWidth},_animateZoom:function(f){var y=this._map._latLngToNewLayerPoint(this._latlng,f.zoom,f.center),E=this._getAnchor();zt(this._container,y.add(E))},_adjustPan:function(){if(this.options.autoPan){if(this._map._panAnim&&this._map._panAnim.stop(),this._autopanning){this._autopanning=!1;return}var f=this._map,y=parseInt(Zl(this._container,"marginBottom"),10)||0,E=this._container.offsetHeight+y,D=this._containerWidth,R=new ne(this._containerLeft,-E-this._containerBottom);R._add(Xa(this._container));var F=f.layerPointToContainerPoint(R),ee=se(this.options.autoPanPadding),ce=se(this.options.autoPanPaddingTopLeft||ee),ge=se(this.options.autoPanPaddingBottomRight||ee),Te=f.getSize(),Le=0,Ye=0;F.x+D+ge.x>Te.x&&(Le=F.x+D-Te.x+ge.x),F.x-Le-ce.x<0&&(Le=F.x-ce.x),F.y+E+ge.y>Te.y&&(Ye=F.y+E-Te.y+ge.y),F.y-Ye-ce.y<0&&(Ye=F.y-ce.y),(Le||Ye)&&(this.options.keepInView&&(this._autopanning=!0),f.fire("autopanstart").panBy([Le,Ye]))}},_getAnchor:function(){return se(this._source&&this._source._getPopupAnchor?this._source._getPopupAnchor():[0,0])}}),cg=function(f,y){return new fc(f,y)};gt.mergeOptions({closePopupOnClick:!0}),gt.include({openPopup:function(f,y,E){return this._initOverlay(fc,f,y,E).openOn(this),this},closePopup:function(f){return f=arguments.length?f:this._popup,f&&f.close(),this}}),wi.include({bindPopup:function(f,y){return this._popup=this._initOverlay(fc,this._popup,f,y),this._popupHandlersAdded||(this.on({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!0),this},unbindPopup:function(){return this._popup&&(this.off({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!1,this._popup=null),this},openPopup:function(f){return this._popup&&(this instanceof Vi||(this._popup._source=this),this._popup._prepareOpen(f||this._latlng)&&this._popup.openOn(this._map)),this},closePopup:function(){return this._popup&&this._popup.close(),this},togglePopup:function(){return this._popup&&this._popup.toggle(this),this},isPopupOpen:function(){return this._popup?this._popup.isOpen():!1},setPopupContent:function(f){return this._popup&&this._popup.setContent(f),this},getPopup:function(){return this._popup},_openPopup:function(f){if(!(!this._popup||!this._map)){Ja(f);var y=f.layer||f.target;if(this._popup._source===y&&!(y instanceof Xi)){this._map.hasLayer(this._popup)?this.closePopup():this.openPopup(f.latlng);return}this._popup._source=y,this.openPopup(f.latlng)}},_movePopup:function(f){this._popup.setLatLng(f.latlng)},_onKeyPress:function(f){f.originalEvent.keyCode===13&&this._openPopup(f)}});var hc=tr.extend({options:{pane:"tooltipPane",offset:[0,0],direction:"auto",permanent:!1,sticky:!1,opacity:.9},onAdd:function(f){tr.prototype.onAdd.call(this,f),this.setOpacity(this.options.opacity),f.fire("tooltipopen",{tooltip:this}),this._source&&(this.addEventParent(this._source),this._source.fire("tooltipopen",{tooltip:this},!0))},onRemove:function(f){tr.prototype.onRemove.call(this,f),f.fire("tooltipclose",{tooltip:this}),this._source&&(this.removeEventParent(this._source),this._source.fire("tooltipclose",{tooltip:this},!0))},getEvents:function(){var f=tr.prototype.getEvents.call(this);return this.options.permanent||(f.preclick=this.close),f},_initLayout:function(){var f="leaflet-tooltip",y=f+" "+(this.options.className||"")+" leaflet-zoom-"+(this._zoomAnimated?"animated":"hide");this._contentNode=this._container=dt("div",y),this._container.setAttribute("role","tooltip"),this._container.setAttribute("id","leaflet-tooltip-"+u(this))},_updateLayout:function(){},_adjustPan:function(){},_setPosition:function(f){var y,E,D=this._map,R=this._container,F=D.latLngToContainerPoint(D.getCenter()),ee=D.layerPointToContainerPoint(f),ce=this.options.direction,ge=R.offsetWidth,Te=R.offsetHeight,Le=se(this.options.offset),Ye=this._getAnchor();ce==="top"?(y=ge/2,E=Te):ce==="bottom"?(y=ge/2,E=0):ce==="center"?(y=ge/2,E=Te/2):ce==="right"?(y=0,E=Te/2):ce==="left"?(y=ge,E=Te/2):ee.x<F.x?(ce="right",y=0,E=Te/2):(ce="left",y=ge+(Le.x+Ye.x)*2,E=Te/2),f=f.subtract(se(y,E,!0)).add(Le).add(Ye),en(R,"leaflet-tooltip-right"),en(R,"leaflet-tooltip-left"),en(R,"leaflet-tooltip-top"),en(R,"leaflet-tooltip-bottom"),it(R,"leaflet-tooltip-"+ce),zt(R,f)},_updatePosition:function(){var f=this._map.latLngToLayerPoint(this._latlng);this._setPosition(f)},setOpacity:function(f){this.options.opacity=f,this._container&&Zt(this._container,f)},_animateZoom:function(f){var y=this._map._latLngToNewLayerPoint(this._latlng,f.zoom,f.center);this._setPosition(y)},_getAnchor:function(){return se(this._source&&this._source._getTooltipAnchor&&!this.options.sticky?this._source._getTooltipAnchor():[0,0])}}),Ix=function(f,y){return new hc(f,y)};gt.include({openTooltip:function(f,y,E){return this._initOverlay(hc,f,y,E).openOn(this),this},closeTooltip:function(f){return f.close(),this}}),wi.include({bindTooltip:function(f,y){return this._tooltip&&this.isTooltipOpen()&&this.unbindTooltip(),this._tooltip=this._initOverlay(hc,this._tooltip,f,y),this._initTooltipInteractions(),this._tooltip.options.permanent&&this._map&&this._map.hasLayer(this)&&this.openTooltip(),this},unbindTooltip:function(){return this._tooltip&&(this._initTooltipInteractions(!0),this.closeTooltip(),this._tooltip=null),this},_initTooltipInteractions:function(f){if(!(!f&&this._tooltipHandlersAdded)){var y=f?"off":"on",E={remove:this.closeTooltip,move:this._moveTooltip};this._tooltip.options.permanent?E.add=this._openTooltip:(E.mouseover=this._openTooltip,E.mouseout=this.closeTooltip,E.click=this._openTooltip,this._map?this._addFocusListeners():E.add=this._addFocusListeners),this._tooltip.options.sticky&&(E.mousemove=this._moveTooltip),this[y](E),this._tooltipHandlersAdded=!f}},openTooltip:function(f){return this._tooltip&&(this instanceof Vi||(this._tooltip._source=this),this._tooltip._prepareOpen(f)&&(this._tooltip.openOn(this._map),this.getElement?this._setAriaDescribedByOnLayer(this):this.eachLayer&&this.eachLayer(this._setAriaDescribedByOnLayer,this))),this},closeTooltip:function(){if(this._tooltip)return this._tooltip.close()},toggleTooltip:function(){return this._tooltip&&this._tooltip.toggle(this),this},isTooltipOpen:function(){return this._tooltip.isOpen()},setTooltipContent:function(f){return this._tooltip&&this._tooltip.setContent(f),this},getTooltip:function(){return this._tooltip},_addFocusListeners:function(){this.getElement?this._addFocusListenersOnLayer(this):this.eachLayer&&this.eachLayer(this._addFocusListenersOnLayer,this)},_addFocusListenersOnLayer:function(f){var y=typeof f.getElement=="function"&&f.getElement();y&&(nt(y,"focus",function(){this._tooltip._source=f,this.openTooltip()},this),nt(y,"blur",this.closeTooltip,this))},_setAriaDescribedByOnLayer:function(f){var y=typeof f.getElement=="function"&&f.getElement();y&&y.setAttribute("aria-describedby",this._tooltip._container.id)},_openTooltip:function(f){if(!(!this._tooltip||!this._map)){if(this._map.dragging&&this._map.dragging.moving()&&!this._openOnceFlag){this._openOnceFlag=!0;var y=this;this._map.once("moveend",function(){y._openOnceFlag=!1,y._openTooltip(f)});return}this._tooltip._source=f.layer||f.target,this.openTooltip(this._tooltip.options.sticky?f.latlng:void 0)}},_moveTooltip:function(f){var y=f.latlng,E,D;this._tooltip.options.sticky&&f.originalEvent&&(E=this._map.mouseEventToContainerPoint(f.originalEvent),D=this._map.containerPointToLayerPoint(E),y=this._map.layerPointToLatLng(D)),this._tooltip.setLatLng(y)}});var ug=Zi.extend({options:{iconSize:[12,12],html:!1,bgPos:null,className:"leaflet-div-icon"},createIcon:function(f){var y=f&&f.tagName==="DIV"?f:document.createElement("div"),E=this.options;if(E.html instanceof Element?(Kr(y),y.appendChild(E.html)):y.innerHTML=E.html!==!1?E.html:"",E.bgPos){var D=se(E.bgPos);y.style.backgroundPosition=-D.x+"px "+-D.y+"px"}return this._setIconStyles(y,"icon"),y},createShadow:function(){return null}});function $x(f){return new ug(f)}Zi.Default=oc;var el=wi.extend({options:{tileSize:256,opacity:1,updateWhenIdle:He.mobile,updateWhenZooming:!0,updateInterval:200,zIndex:1,bounds:null,minZoom:0,maxZoom:void 0,maxNativeZoom:void 0,minNativeZoom:void 0,noWrap:!1,pane:"tilePane",className:"",keepBuffer:2},initialize:function(f){S(this,f)},onAdd:function(){this._initContainer(),this._levels={},this._tiles={},this._resetView()},beforeAdd:function(f){f._addZoomLimit(this)},onRemove:function(f){this._removeAllTiles(),Lt(this._container),f._removeZoomLimit(this),this._container=null,this._tileZoom=void 0},bringToFront:function(){return this._map&&(Un(this._container),this._setAutoZIndex(Math.max)),this},bringToBack:function(){return this._map&&(Bo(this._container),this._setAutoZIndex(Math.min)),this},getContainer:function(){return this._container},setOpacity:function(f){return this.options.opacity=f,this._updateOpacity(),this},setZIndex:function(f){return this.options.zIndex=f,this._updateZIndex(),this},isLoading:function(){return this._loading},redraw:function(){if(this._map){this._removeAllTiles();var f=this._clampZoom(this._map.getZoom());f!==this._tileZoom&&(this._tileZoom=f,this._updateLevels()),this._update()}return this},getEvents:function(){var f={viewprereset:this._invalidateAll,viewreset:this._resetView,zoom:this._resetView,moveend:this._onMoveEnd};return this.options.updateWhenIdle||(this._onMove||(this._onMove=d(this._onMoveEnd,this.options.updateInterval,this)),f.move=this._onMove),this._zoomAnimated&&(f.zoomanim=this._animateZoom),f},createTile:function(){return document.createElement("div")},getTileSize:function(){var f=this.options.tileSize;return f instanceof ne?f:new ne(f,f)},_updateZIndex:function(){this._container&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._container.style.zIndex=this.options.zIndex)},_setAutoZIndex:function(f){for(var y=this.getPane().children,E=-f(-1/0,1/0),D=0,R=y.length,F;D<R;D++)F=y[D].style.zIndex,y[D]!==this._container&&F&&(E=f(E,+F));isFinite(E)&&(this.options.zIndex=E+f(-1,1),this._updateZIndex())},_updateOpacity:function(){if(this._map&&!He.ielt9){Zt(this._container,this.options.opacity);var f=+new Date,y=!1,E=!1;for(var D in this._tiles){var R=this._tiles[D];if(!(!R.current||!R.loaded)){var F=Math.min(1,(f-R.loaded)/200);Zt(R.el,F),F<1?y=!0:(R.active?E=!0:this._onOpaqueTile(R),R.active=!0)}}E&&!this._noPrune&&this._pruneTiles(),y&&(z(this._fadeFrame),this._fadeFrame=H(this._updateOpacity,this))}},_onOpaqueTile:p,_initContainer:function(){this._container||(this._container=dt("div","leaflet-layer "+(this.options.className||"")),this._updateZIndex(),this.options.opacity<1&&this._updateOpacity(),this.getPane().appendChild(this._container))},_updateLevels:function(){var f=this._tileZoom,y=this.options.maxZoom;if(f!==void 0){for(var E in this._levels)E=Number(E),this._levels[E].el.children.length||E===f?(this._levels[E].el.style.zIndex=y-Math.abs(f-E),this._onUpdateLevel(E)):(Lt(this._levels[E].el),this._removeTilesAtZoom(E),this._onRemoveLevel(E),delete this._levels[E]);var D=this._levels[f],R=this._map;return D||(D=this._levels[f]={},D.el=dt("div","leaflet-tile-container leaflet-zoom-animated",this._container),D.el.style.zIndex=y,D.origin=R.project(R.unproject(R.getPixelOrigin()),f).round(),D.zoom=f,this._setZoomTransform(D,R.getCenter(),R.getZoom()),p(D.el.offsetWidth),this._onCreateLevel(D)),this._level=D,D}},_onUpdateLevel:p,_onRemoveLevel:p,_onCreateLevel:p,_pruneTiles:function(){if(this._map){var f,y,E=this._map.getZoom();if(E>this.options.maxZoom||E<this.options.minZoom){this._removeAllTiles();return}for(f in this._tiles)y=this._tiles[f],y.retain=y.current;for(f in this._tiles)if(y=this._tiles[f],y.current&&!y.active){var D=y.coords;this._retainParent(D.x,D.y,D.z,D.z-5)||this._retainChildren(D.x,D.y,D.z,D.z+2)}for(f in this._tiles)this._tiles[f].retain||this._removeTile(f)}},_removeTilesAtZoom:function(f){for(var y in this._tiles)this._tiles[y].coords.z===f&&this._removeTile(y)},_removeAllTiles:function(){for(var f in this._tiles)this._removeTile(f)},_invalidateAll:function(){for(var f in this._levels)Lt(this._levels[f].el),this._onRemoveLevel(Number(f)),delete this._levels[f];this._removeAllTiles(),this._tileZoom=void 0},_retainParent:function(f,y,E,D){var R=Math.floor(f/2),F=Math.floor(y/2),ee=E-1,ce=new ne(+R,+F);ce.z=+ee;var ge=this._tileCoordsToKey(ce),Te=this._tiles[ge];return Te&&Te.active?(Te.retain=!0,!0):(Te&&Te.loaded&&(Te.retain=!0),ee>D?this._retainParent(R,F,ee,D):!1)},_retainChildren:function(f,y,E,D){for(var R=2*f;R<2*f+2;R++)for(var F=2*y;F<2*y+2;F++){var ee=new ne(R,F);ee.z=E+1;var ce=this._tileCoordsToKey(ee),ge=this._tiles[ce];if(ge&&ge.active){ge.retain=!0;continue}else ge&&ge.loaded&&(ge.retain=!0);E+1<D&&this._retainChildren(R,F,E+1,D)}},_resetView:function(f){var y=f&&(f.pinch||f.flyTo);this._setView(this._map.getCenter(),this._map.getZoom(),y,y)},_animateZoom:function(f){this._setView(f.center,f.zoom,!0,f.noUpdate)},_clampZoom:function(f){var y=this.options;return y.minNativeZoom!==void 0&&f<y.minNativeZoom?y.minNativeZoom:y.maxNativeZoom!==void 0&&y.maxNativeZoom<f?y.maxNativeZoom:f},_setView:function(f,y,E,D){var R=Math.round(y);this.options.maxZoom!==void 0&&R>this.options.maxZoom||this.options.minZoom!==void 0&&R<this.options.minZoom?R=void 0:R=this._clampZoom(R);var F=this.options.updateWhenZooming&&R!==this._tileZoom;(!D||F)&&(this._tileZoom=R,this._abortLoading&&this._abortLoading(),this._updateLevels(),this._resetGrid(),R!==void 0&&this._update(f),E||this._pruneTiles(),this._noPrune=!!E),this._setZoomTransforms(f,y)},_setZoomTransforms:function(f,y){for(var E in this._levels)this._setZoomTransform(this._levels[E],f,y)},_setZoomTransform:function(f,y,E){var D=this._map.getZoomScale(E,f.zoom),R=f.origin.multiplyBy(D).subtract(this._map._getNewPixelOrigin(y,E)).round();He.any3d?wa(f.el,R,D):zt(f.el,R)},_resetGrid:function(){var f=this._map,y=f.options.crs,E=this._tileSize=this.getTileSize(),D=this._tileZoom,R=this._map.getPixelWorldBounds(this._tileZoom);R&&(this._globalTileRange=this._pxBoundsToTileRange(R)),this._wrapX=y.wrapLng&&!this.options.noWrap&&[Math.floor(f.project([0,y.wrapLng[0]],D).x/E.x),Math.ceil(f.project([0,y.wrapLng[1]],D).x/E.y)],this._wrapY=y.wrapLat&&!this.options.noWrap&&[Math.floor(f.project([y.wrapLat[0],0],D).y/E.x),Math.ceil(f.project([y.wrapLat[1],0],D).y/E.y)]},_onMoveEnd:function(){!this._map||this._map._animatingZoom||this._update()},_getTiledPixelBounds:function(f){var y=this._map,E=y._animatingZoom?Math.max(y._animateToZoom,y.getZoom()):y.getZoom(),D=y.getZoomScale(E,this._tileZoom),R=y.project(f,this._tileZoom).floor(),F=y.getSize().divideBy(D*2);return new B(R.subtract(F),R.add(F))},_update:function(f){var y=this._map;if(y){var E=this._clampZoom(y.getZoom());if(f===void 0&&(f=y.getCenter()),this._tileZoom!==void 0){var D=this._getTiledPixelBounds(f),R=this._pxBoundsToTileRange(D),F=R.getCenter(),ee=[],ce=this.options.keepBuffer,ge=new B(R.getBottomLeft().subtract([ce,-ce]),R.getTopRight().add([ce,-ce]));if(!(isFinite(R.min.x)&&isFinite(R.min.y)&&isFinite(R.max.x)&&isFinite(R.max.y)))throw new Error("Attempted to load an infinite number of tiles");for(var Te in this._tiles){var Le=this._tiles[Te].coords;(Le.z!==this._tileZoom||!ge.contains(new ne(Le.x,Le.y)))&&(this._tiles[Te].current=!1)}if(Math.abs(E-this._tileZoom)>1){this._setView(f,E);return}for(var Ye=R.min.y;Ye<=R.max.y;Ye++)for(var lt=R.min.x;lt<=R.max.x;lt++){var Fn=new ne(lt,Ye);if(Fn.z=this._tileZoom,!!this._isValidTile(Fn)){var gn=this._tiles[this._tileCoordsToKey(Fn)];gn?gn.current=!0:ee.push(Fn)}}if(ee.sort(function(wt,St){return wt.distanceTo(F)-St.distanceTo(F)}),ee.length!==0){this._loading||(this._loading=!0,this.fire("loading"));var Rr=document.createDocumentFragment();for(lt=0;lt<ee.length;lt++)this._addTile(ee[lt],Rr);this._level.el.appendChild(Rr)}}}},_isValidTile:function(f){var y=this._map.options.crs;if(!y.infinite){var E=this._globalTileRange;if(!y.wrapLng&&(f.x<E.min.x||f.x>E.max.x)||!y.wrapLat&&(f.y<E.min.y||f.y>E.max.y))return!1}if(!this.options.bounds)return!0;var D=this._tileCoordsToBounds(f);return J(this.options.bounds).overlaps(D)},_keyToBounds:function(f){return this._tileCoordsToBounds(this._keyToTileCoords(f))},_tileCoordsToNwSe:function(f){var y=this._map,E=this.getTileSize(),D=f.scaleBy(E),R=D.add(E),F=y.unproject(D,f.z),ee=y.unproject(R,f.z);return[F,ee]},_tileCoordsToBounds:function(f){var y=this._tileCoordsToNwSe(f),E=new ie(y[0],y[1]);return this.options.noWrap||(E=this._map.wrapLatLngBounds(E)),E},_tileCoordsToKey:function(f){return f.x+":"+f.y+":"+f.z},_keyToTileCoords:function(f){var y=f.split(":"),E=new ne(+y[0],+y[1]);return E.z=+y[2],E},_removeTile:function(f){var y=this._tiles[f];y&&(Lt(y.el),delete this._tiles[f],this.fire("tileunload",{tile:y.el,coords:this._keyToTileCoords(f)}))},_initTile:function(f){it(f,"leaflet-tile");var y=this.getTileSize();f.style.width=y.x+"px",f.style.height=y.y+"px",f.onselectstart=p,f.onmousemove=p,He.ielt9&&this.options.opacity<1&&Zt(f,this.options.opacity)},_addTile:function(f,y){var E=this._getTilePos(f),D=this._tileCoordsToKey(f),R=this.createTile(this._wrapCoords(f),o(this._tileReady,this,f));this._initTile(R),this.createTile.length<2&&H(o(this._tileReady,this,f,null,R)),zt(R,E),this._tiles[D]={el:R,coords:f,current:!0},y.appendChild(R),this.fire("tileloadstart",{tile:R,coords:f})},_tileReady:function(f,y,E){y&&this.fire("tileerror",{error:y,tile:E,coords:f});var D=this._tileCoordsToKey(f);E=this._tiles[D],E&&(E.loaded=+new Date,this._map._fadeAnimated?(Zt(E.el,0),z(this._fadeFrame),this._fadeFrame=H(this._updateOpacity,this)):(E.active=!0,this._pruneTiles()),y||(it(E.el,"leaflet-tile-loaded"),this.fire("tileload",{tile:E.el,coords:f})),this._noTilesToLoad()&&(this._loading=!1,this.fire("load"),He.ielt9||!this._map._fadeAnimated?H(this._pruneTiles,this):setTimeout(o(this._pruneTiles,this),250)))},_getTilePos:function(f){return f.scaleBy(this.getTileSize()).subtract(this._level.origin)},_wrapCoords:function(f){var y=new ne(this._wrapX?h(f.x,this._wrapX):f.x,this._wrapY?h(f.y,this._wrapY):f.y);return y.z=f.z,y},_pxBoundsToTileRange:function(f){var y=this.getTileSize();return new B(f.min.unscaleBy(y).floor(),f.max.unscaleBy(y).ceil().subtract([1,1]))},_noTilesToLoad:function(){for(var f in this._tiles)if(!this._tiles[f].loaded)return!1;return!0}});function dg(f){return new el(f)}var ro=el.extend({options:{minZoom:0,maxZoom:18,subdomains:"abc",errorTileUrl:"",zoomOffset:0,tms:!1,zoomReverse:!1,detectRetina:!1,crossOrigin:!1,referrerPolicy:!1},initialize:function(f,y){this._url=f,y=S(this,y),y.detectRetina&&He.retina&&y.maxZoom>0?(y.tileSize=Math.floor(y.tileSize/2),y.zoomReverse?(y.zoomOffset--,y.minZoom=Math.min(y.maxZoom,y.minZoom+1)):(y.zoomOffset++,y.maxZoom=Math.max(y.minZoom,y.maxZoom-1)),y.minZoom=Math.max(0,y.minZoom)):y.zoomReverse?y.minZoom=Math.min(y.maxZoom,y.minZoom):y.maxZoom=Math.max(y.minZoom,y.maxZoom),typeof y.subdomains=="string"&&(y.subdomains=y.subdomains.split("")),this.on("tileunload",this._onTileRemove)},setUrl:function(f,y){return this._url===f&&y===void 0&&(y=!0),this._url=f,y||this.redraw(),this},createTile:function(f,y){var E=document.createElement("img");return nt(E,"load",o(this._tileOnLoad,this,y,E)),nt(E,"error",o(this._tileOnError,this,y,E)),(this.options.crossOrigin||this.options.crossOrigin==="")&&(E.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),typeof this.options.referrerPolicy=="string"&&(E.referrerPolicy=this.options.referrerPolicy),E.alt="",E.src=this.getTileUrl(f),E},getTileUrl:function(f){var y={r:He.retina?"@2x":"",s:this._getSubdomain(f),x:f.x,y:f.y,z:this._getZoomForUrl()};if(this._map&&!this._map.options.crs.infinite){var E=this._globalTileRange.max.y-f.y;this.options.tms&&(y.y=E),y["-y"]=E}return N(this._url,i(y,this.options))},_tileOnLoad:function(f,y){He.ielt9?setTimeout(o(f,this,null,y),0):f(null,y)},_tileOnError:function(f,y,E){var D=this.options.errorTileUrl;D&&y.getAttribute("src")!==D&&(y.src=D),f(E,y)},_onTileRemove:function(f){f.tile.onload=null},_getZoomForUrl:function(){var f=this._tileZoom,y=this.options.maxZoom,E=this.options.zoomReverse,D=this.options.zoomOffset;return E&&(f=y-f),f+D},_getSubdomain:function(f){var y=Math.abs(f.x+f.y)%this.options.subdomains.length;return this.options.subdomains[y]},_abortLoading:function(){var f,y;for(f in this._tiles)if(this._tiles[f].coords.z!==this._tileZoom&&(y=this._tiles[f].el,y.onload=p,y.onerror=p,!y.complete)){y.src=M;var E=this._tiles[f].coords;Lt(y),delete this._tiles[f],this.fire("tileabort",{tile:y,coords:E})}},_removeTile:function(f){var y=this._tiles[f];if(y)return y.el.setAttribute("src",M),el.prototype._removeTile.call(this,f)},_tileReady:function(f,y,E){if(!(!this._map||E&&E.getAttribute("src")===M))return el.prototype._tileReady.call(this,f,y,E)}});function Zr(f,y){return new ro(f,y)}var mc=ro.extend({defaultWmsParams:{service:"WMS",request:"GetMap",layers:"",styles:"",format:"image/jpeg",transparent:!1,version:"1.1.1"},options:{crs:null,uppercase:!1},initialize:function(f,y){this._url=f;var E=i({},this.defaultWmsParams);for(var D in y)D in this.options||(E[D]=y[D]);y=S(this,y);var R=y.detectRetina&&He.retina?2:1,F=this.getTileSize();E.width=F.x*R,E.height=F.y*R,this.wmsParams=E},onAdd:function(f){this._crs=this.options.crs||f.options.crs,this._wmsVersion=parseFloat(this.wmsParams.version);var y=this._wmsVersion>=1.3?"crs":"srs";this.wmsParams[y]=this._crs.code,ro.prototype.onAdd.call(this,f)},getTileUrl:function(f){var y=this._tileCoordsToNwSe(f),E=this._crs,D=K(E.project(y[0]),E.project(y[1])),R=D.min,F=D.max,ee=(this._wmsVersion>=1.3&&this._crs===qf?[R.y,R.x,F.y,F.x]:[R.x,R.y,F.x,F.y]).join(","),ce=ro.prototype.getTileUrl.call(this,f);return ce+_(this.wmsParams,ce,this.options.uppercase)+(this.options.uppercase?"&BBOX=":"&bbox=")+ee},setParams:function(f,y){return i(this.wmsParams,f),y||this.redraw(),this}});function Xr(f,y){return new mc(f,y)}ro.WMS=mc,Zr.wms=Xr;var Er=wi.extend({options:{padding:.1},initialize:function(f){S(this,f),u(this),this._layers=this._layers||{}},onAdd:function(){this._container||(this._initContainer(),it(this._container,"leaflet-zoom-animated")),this.getPane().appendChild(this._container),this._update(),this.on("update",this._updatePaths,this)},onRemove:function(){this.off("update",this._updatePaths,this),this._destroyContainer()},getEvents:function(){var f={viewreset:this._reset,zoom:this._onZoom,moveend:this._update,zoomend:this._onZoomEnd};return this._zoomAnimated&&(f.zoomanim=this._onAnimZoom),f},_onAnimZoom:function(f){this._updateTransform(f.center,f.zoom)},_onZoom:function(){this._updateTransform(this._map.getCenter(),this._map.getZoom())},_updateTransform:function(f,y){var E=this._map.getZoomScale(y,this._zoom),D=this._map.getSize().multiplyBy(.5+this.options.padding),R=this._map.project(this._center,y),F=D.multiplyBy(-E).add(R).subtract(this._map._getNewPixelOrigin(f,y));He.any3d?wa(this._container,F,E):zt(this._container,F)},_reset:function(){this._update(),this._updateTransform(this._center,this._zoom);for(var f in this._layers)this._layers[f]._reset()},_onZoomEnd:function(){for(var f in this._layers)this._layers[f]._project()},_updatePaths:function(){for(var f in this._layers)this._layers[f]._update()},_update:function(){var f=this.options.padding,y=this._map.getSize(),E=this._map.containerPointToLayerPoint(y.multiplyBy(-f)).round();this._bounds=new B(E,E.add(y.multiplyBy(1+f*2)).round()),this._center=this._map.getCenter(),this._zoom=this._map.getZoom()}}),Iu=Er.extend({options:{tolerance:0},getEvents:function(){var f=Er.prototype.getEvents.call(this);return f.viewprereset=this._onViewPreReset,f},_onViewPreReset:function(){this._postponeUpdatePaths=!0},onAdd:function(){Er.prototype.onAdd.call(this),this._draw()},_initContainer:function(){var f=this._container=document.createElement("canvas");nt(f,"mousemove",this._onMouseMove,this),nt(f,"click dblclick mousedown mouseup contextmenu",this._onClick,this),nt(f,"mouseout",this._handleMouseOut,this),f._leaflet_disable_events=!0,this._ctx=f.getContext("2d")},_destroyContainer:function(){z(this._redrawRequest),delete this._ctx,Lt(this._container),Nt(this._container),delete this._container},_updatePaths:function(){if(!this._postponeUpdatePaths){var f;this._redrawBounds=null;for(var y in this._layers)f=this._layers[y],f._update();this._redraw()}},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){Er.prototype._update.call(this);var f=this._bounds,y=this._container,E=f.getSize(),D=He.retina?2:1;zt(y,f.min),y.width=D*E.x,y.height=D*E.y,y.style.width=E.x+"px",y.style.height=E.y+"px",He.retina&&this._ctx.scale(2,2),this._ctx.translate(-f.min.x,-f.min.y),this.fire("update")}},_reset:function(){Er.prototype._reset.call(this),this._postponeUpdatePaths&&(this._postponeUpdatePaths=!1,this._updatePaths())},_initPath:function(f){this._updateDashArray(f),this._layers[u(f)]=f;var y=f._order={layer:f,prev:this._drawLast,next:null};this._drawLast&&(this._drawLast.next=y),this._drawLast=y,this._drawFirst=this._drawFirst||this._drawLast},_addPath:function(f){this._requestRedraw(f)},_removePath:function(f){var y=f._order,E=y.next,D=y.prev;E?E.prev=D:this._drawLast=D,D?D.next=E:this._drawFirst=E,delete f._order,delete this._layers[u(f)],this._requestRedraw(f)},_updatePath:function(f){this._extendRedrawBounds(f),f._project(),f._update(),this._requestRedraw(f)},_updateStyle:function(f){this._updateDashArray(f),this._requestRedraw(f)},_updateDashArray:function(f){if(typeof f.options.dashArray=="string"){var y=f.options.dashArray.split(/[, ]+/),E=[],D,R;for(R=0;R<y.length;R++){if(D=Number(y[R]),isNaN(D))return;E.push(D)}f.options._dashArray=E}else f.options._dashArray=f.options.dashArray},_requestRedraw:function(f){this._map&&(this._extendRedrawBounds(f),this._redrawRequest=this._redrawRequest||H(this._redraw,this))},_extendRedrawBounds:function(f){if(f._pxBounds){var y=(f.options.weight||0)+1;this._redrawBounds=this._redrawBounds||new B,this._redrawBounds.extend(f._pxBounds.min.subtract([y,y])),this._redrawBounds.extend(f._pxBounds.max.add([y,y]))}},_redraw:function(){this._redrawRequest=null,this._redrawBounds&&(this._redrawBounds.min._floor(),this._redrawBounds.max._ceil()),this._clear(),this._draw(),this._redrawBounds=null},_clear:function(){var f=this._redrawBounds;if(f){var y=f.getSize();this._ctx.clearRect(f.min.x,f.min.y,y.x,y.y)}else this._ctx.save(),this._ctx.setTransform(1,0,0,1,0,0),this._ctx.clearRect(0,0,this._container.width,this._container.height),this._ctx.restore()},_draw:function(){var f,y=this._redrawBounds;if(this._ctx.save(),y){var E=y.getSize();this._ctx.beginPath(),this._ctx.rect(y.min.x,y.min.y,E.x,E.y),this._ctx.clip()}this._drawing=!0;for(var D=this._drawFirst;D;D=D.next)f=D.layer,(!y||f._pxBounds&&f._pxBounds.intersects(y))&&f._updatePath();this._drawing=!1,this._ctx.restore()},_updatePoly:function(f,y){if(this._drawing){var E,D,R,F,ee=f._parts,ce=ee.length,ge=this._ctx;if(ce){for(ge.beginPath(),E=0;E<ce;E++){for(D=0,R=ee[E].length;D<R;D++)F=ee[E][D],ge[D?"lineTo":"moveTo"](F.x,F.y);y&&ge.closePath()}this._fillStroke(ge,f)}}},_updateCircle:function(f){if(!(!this._drawing||f._empty())){var y=f._point,E=this._ctx,D=Math.max(Math.round(f._radius),1),R=(Math.max(Math.round(f._radiusY),1)||D)/D;R!==1&&(E.save(),E.scale(1,R)),E.beginPath(),E.arc(y.x,y.y/R,D,0,Math.PI*2,!1),R!==1&&E.restore(),this._fillStroke(E,f)}},_fillStroke:function(f,y){var E=y.options;E.fill&&(f.globalAlpha=E.fillOpacity,f.fillStyle=E.fillColor||E.color,f.fill(E.fillRule||"evenodd")),E.stroke&&E.weight!==0&&(f.setLineDash&&f.setLineDash(y.options&&y.options._dashArray||[]),f.globalAlpha=E.opacity,f.lineWidth=E.weight,f.strokeStyle=E.color,f.lineCap=E.lineCap,f.lineJoin=E.lineJoin,f.stroke())},_onClick:function(f){for(var y=this._map.mouseEventToLayerPoint(f),E,D,R=this._drawFirst;R;R=R.next)E=R.layer,E.options.interactive&&E._containsPoint(y)&&(!(f.type==="click"||f.type==="preclick")||!this._map._draggableMoved(E))&&(D=E);this._fireEvent(D?[D]:!1,f)},_onMouseMove:function(f){if(!(!this._map||this._map.dragging.moving()||this._map._animatingZoom)){var y=this._map.mouseEventToLayerPoint(f);this._handleMouseHover(f,y)}},_handleMouseOut:function(f){var y=this._hoveredLayer;y&&(en(this._container,"leaflet-interactive"),this._fireEvent([y],f,"mouseout"),this._hoveredLayer=null,this._mouseHoverThrottled=!1)},_handleMouseHover:function(f,y){if(!this._mouseHoverThrottled){for(var E,D,R=this._drawFirst;R;R=R.next)E=R.layer,E.options.interactive&&E._containsPoint(y)&&(D=E);D!==this._hoveredLayer&&(this._handleMouseOut(f),D&&(it(this._container,"leaflet-interactive"),this._fireEvent([D],f,"mouseover"),this._hoveredLayer=D)),this._fireEvent(this._hoveredLayer?[this._hoveredLayer]:!1,f),this._mouseHoverThrottled=!0,setTimeout(o(function(){this._mouseHoverThrottled=!1},this),32)}},_fireEvent:function(f,y,E){this._map._fireDOMEvent(y,E||y.type,f)},_bringToFront:function(f){var y=f._order;if(y){var E=y.next,D=y.prev;if(E)E.prev=D;else return;D?D.next=E:E&&(this._drawFirst=E),y.prev=this._drawLast,this._drawLast.next=y,y.next=null,this._drawLast=y,this._requestRedraw(f)}},_bringToBack:function(f){var y=f._order;if(y){var E=y.next,D=y.prev;if(D)D.next=E;else return;E?E.prev=D:D&&(this._drawLast=D),y.prev=null,y.next=this._drawFirst,this._drawFirst.prev=y,this._drawFirst=y,this._requestRedraw(f)}}});function pc(f){return He.canvas?new Iu(f):null}var io=(function(){try{return document.namespaces.add("lvml","urn:schemas-microsoft-com:vml"),function(f){return document.createElement("<lvml:"+f+' class="lvml">')}}catch{}return function(f){return document.createElement("<"+f+' xmlns="urn:schemas-microsoft.com:vml" class="lvml">')}})(),Yf={_initContainer:function(){this._container=dt("div","leaflet-vml-container")},_update:function(){this._map._animatingZoom||(Er.prototype._update.call(this),this.fire("update"))},_initPath:function(f){var y=f._container=io("shape");it(y,"leaflet-vml-shape "+(this.options.className||"")),y.coordsize="1 1",f._path=io("path"),y.appendChild(f._path),this._updateStyle(f),this._layers[u(f)]=f},_addPath:function(f){var y=f._container;this._container.appendChild(y),f.options.interactive&&f.addInteractiveTarget(y)},_removePath:function(f){var y=f._container;Lt(y),f.removeInteractiveTarget(y),delete this._layers[u(f)]},_updateStyle:function(f){var y=f._stroke,E=f._fill,D=f.options,R=f._container;R.stroked=!!D.stroke,R.filled=!!D.fill,D.stroke?(y||(y=f._stroke=io("stroke")),R.appendChild(y),y.weight=D.weight+"px",y.color=D.color,y.opacity=D.opacity,D.dashArray?y.dashStyle=j(D.dashArray)?D.dashArray.join(" "):D.dashArray.replace(/( *, *)/g," "):y.dashStyle="",y.endcap=D.lineCap.replace("butt","flat"),y.joinstyle=D.lineJoin):y&&(R.removeChild(y),f._stroke=null),D.fill?(E||(E=f._fill=io("fill")),R.appendChild(E),E.color=D.fillColor||D.color,E.opacity=D.fillOpacity):E&&(R.removeChild(E),f._fill=null)},_updateCircle:function(f){var y=f._point.round(),E=Math.round(f._radius),D=Math.round(f._radiusY||E);this._setPath(f,f._empty()?"M0 0":"AL "+y.x+","+y.y+" "+E+","+D+" 0,"+65535*360)},_setPath:function(f,y){f._path.v=y},_bringToFront:function(f){Un(f._container)},_bringToBack:function(f){Bo(f._container)}},Ji=He.vml?io:Me,tl=Er.extend({_initContainer:function(){this._container=Ji("svg"),this._container.setAttribute("pointer-events","none"),this._rootGroup=Ji("g"),this._container.appendChild(this._rootGroup)},_destroyContainer:function(){Lt(this._container),Nt(this._container),delete this._container,delete this._rootGroup,delete this._svgSize},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){Er.prototype._update.call(this);var f=this._bounds,y=f.getSize(),E=this._container;(!this._svgSize||!this._svgSize.equals(y))&&(this._svgSize=y,E.setAttribute("width",y.x),E.setAttribute("height",y.y)),zt(E,f.min),E.setAttribute("viewBox",[f.min.x,f.min.y,y.x,y.y].join(" ")),this.fire("update")}},_initPath:function(f){var y=f._path=Ji("path");f.options.className&&it(y,f.options.className),f.options.interactive&&it(y,"leaflet-interactive"),this._updateStyle(f),this._layers[u(f)]=f},_addPath:function(f){this._rootGroup||this._initContainer(),this._rootGroup.appendChild(f._path),f.addInteractiveTarget(f._path)},_removePath:function(f){Lt(f._path),f.removeInteractiveTarget(f._path),delete this._layers[u(f)]},_updatePath:function(f){f._project(),f._update()},_updateStyle:function(f){var y=f._path,E=f.options;y&&(E.stroke?(y.setAttribute("stroke",E.color),y.setAttribute("stroke-opacity",E.opacity),y.setAttribute("stroke-width",E.weight),y.setAttribute("stroke-linecap",E.lineCap),y.setAttribute("stroke-linejoin",E.lineJoin),E.dashArray?y.setAttribute("stroke-dasharray",E.dashArray):y.removeAttribute("stroke-dasharray"),E.dashOffset?y.setAttribute("stroke-dashoffset",E.dashOffset):y.removeAttribute("stroke-dashoffset")):y.setAttribute("stroke","none"),E.fill?(y.setAttribute("fill",E.fillColor||E.color),y.setAttribute("fill-opacity",E.fillOpacity),y.setAttribute("fill-rule",E.fillRule||"evenodd")):y.setAttribute("fill","none"))},_updatePoly:function(f,y){this._setPath(f,Ee(f._parts,y))},_updateCircle:function(f){var y=f._point,E=Math.max(Math.round(f._radius),1),D=Math.max(Math.round(f._radiusY),1)||E,R="a"+E+","+D+" 0 1,0 ",F=f._empty()?"M0 0":"M"+(y.x-E)+","+y.y+R+E*2+",0 "+R+-E*2+",0 ";this._setPath(f,F)},_setPath:function(f,y){f._path.setAttribute("d",y)},_bringToFront:function(f){Un(f._path)},_bringToBack:function(f){Bo(f._path)}});He.vml&&tl.include(Yf);function gc(f){return He.svg||He.vml?new tl(f):null}gt.include({getRenderer:function(f){var y=f.options.renderer||this._getPaneRenderer(f.options.pane)||this.options.renderer||this._renderer;return y||(y=this._renderer=this._createRenderer()),this.hasLayer(y)||this.addLayer(y),y},_getPaneRenderer:function(f){if(f==="overlayPane"||f===void 0)return!1;var y=this._paneRenderers[f];return y===void 0&&(y=this._createRenderer({pane:f}),this._paneRenderers[f]=y),y},_createRenderer:function(f){return this.options.preferCanvas&&pc(f)||gc(f)}});var Ho=Zs.extend({initialize:function(f,y){Zs.prototype.initialize.call(this,this._boundsToLatLngs(f),y)},setBounds:function(f){return this.setLatLngs(this._boundsToLatLngs(f))},_boundsToLatLngs:function(f){return f=J(f),[f.getSouthWest(),f.getNorthWest(),f.getNorthEast(),f.getSouthEast()]}});function Bx(f,y){return new Ho(f,y)}tl.create=Ji,tl.pointsToPath=Ee,Aa.geometryToLayer=er,Aa.coordsToLatLng=Mu,Aa.coordsToLatLngs=cc,Aa.latLngToCoords=Du,Aa.latLngsToCoords=uc,Aa.getFeature=eo,Aa.asFeature=Pu,gt.mergeOptions({boxZoom:!0});var Ar=Wi.extend({initialize:function(f){this._map=f,this._container=f._container,this._pane=f._panes.overlayPane,this._resetStateTimeout=0,f.on("unload",this._destroy,this)},addHooks:function(){nt(this._container,"mousedown",this._onMouseDown,this)},removeHooks:function(){Nt(this._container,"mousedown",this._onMouseDown,this)},moved:function(){return this._moved},_destroy:function(){Lt(this._pane),delete this._pane},_resetState:function(){this._resetStateTimeout=0,this._moved=!1},_clearDeferredResetState:function(){this._resetStateTimeout!==0&&(clearTimeout(this._resetStateTimeout),this._resetStateTimeout=0)},_onMouseDown:function(f){if(!f.shiftKey||f.which!==1&&f.button!==1)return!1;this._clearDeferredResetState(),this._resetState(),Us(),Su(),this._startPoint=this._map.mouseEventToContainerPoint(f),nt(document,{contextmenu:Ja,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseMove:function(f){this._moved||(this._moved=!0,this._box=dt("div","leaflet-zoom-box",this._container),it(this._container,"leaflet-crosshair"),this._map.fire("boxzoomstart")),this._point=this._map.mouseEventToContainerPoint(f);var y=new B(this._point,this._startPoint),E=y.getSize();zt(this._box,y.min),this._box.style.width=E.x+"px",this._box.style.height=E.y+"px"},_finish:function(){this._moved&&(Lt(this._box),en(this._container,"leaflet-crosshair")),Yi(),Jl(),Nt(document,{contextmenu:Ja,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseUp:function(f){if(!(f.which!==1&&f.button!==1)&&(this._finish(),!!this._moved)){this._clearDeferredResetState(),this._resetStateTimeout=setTimeout(o(this._resetState,this),0);var y=new ie(this._map.containerPointToLatLng(this._startPoint),this._map.containerPointToLatLng(this._point));this._map.fitBounds(y).fire("boxzoomend",{boxZoomBounds:y})}},_onKeyDown:function(f){f.keyCode===27&&(this._finish(),this._clearDeferredResetState(),this._resetState())}});gt.addInitHook("addHandler","boxZoom",Ar),gt.mergeOptions({doubleClickZoom:!0});var $u=Wi.extend({addHooks:function(){this._map.on("dblclick",this._onDoubleClick,this)},removeHooks:function(){this._map.off("dblclick",this._onDoubleClick,this)},_onDoubleClick:function(f){var y=this._map,E=y.getZoom(),D=y.options.zoomDelta,R=f.originalEvent.shiftKey?E-D:E+D;y.options.doubleClickZoom==="center"?y.setZoom(R):y.setZoomAround(f.containerPoint,R)}});gt.addInitHook("addHandler","doubleClickZoom",$u),gt.mergeOptions({dragging:!0,inertia:!0,inertiaDeceleration:3400,inertiaMaxSpeed:1/0,easeLinearity:.2,worldCopyJump:!1,maxBoundsViscosity:0});var Qi=Wi.extend({addHooks:function(){if(!this._draggable){var f=this._map;this._draggable=new Qa(f._mapPane,f._container),this._draggable.on({dragstart:this._onDragStart,drag:this._onDrag,dragend:this._onDragEnd},this),this._draggable.on("predrag",this._onPreDragLimit,this),f.options.worldCopyJump&&(this._draggable.on("predrag",this._onPreDragWrap,this),f.on("zoomend",this._onZoomEnd,this),f.whenReady(this._onZoomEnd,this))}it(this._map._container,"leaflet-grab leaflet-touch-drag"),this._draggable.enable(),this._positions=[],this._times=[]},removeHooks:function(){en(this._map._container,"leaflet-grab"),en(this._map._container,"leaflet-touch-drag"),this._draggable.disable()},moved:function(){return this._draggable&&this._draggable._moved},moving:function(){return this._draggable&&this._draggable._moving},_onDragStart:function(){var f=this._map;if(f._stop(),this._map.options.maxBounds&&this._map.options.maxBoundsViscosity){var y=J(this._map.options.maxBounds);this._offsetLimit=K(this._map.latLngToContainerPoint(y.getNorthWest()).multiplyBy(-1),this._map.latLngToContainerPoint(y.getSouthEast()).multiplyBy(-1).add(this._map.getSize())),this._viscosity=Math.min(1,Math.max(0,this._map.options.maxBoundsViscosity))}else this._offsetLimit=null;f.fire("movestart").fire("dragstart"),f.options.inertia&&(this._positions=[],this._times=[])},_onDrag:function(f){if(this._map.options.inertia){var y=this._lastTime=+new Date,E=this._lastPos=this._draggable._absPos||this._draggable._newPos;this._positions.push(E),this._times.push(y),this._prunePositions(y)}this._map.fire("move",f).fire("drag",f)},_prunePositions:function(f){for(;this._positions.length>1&&f-this._times[0]>50;)this._positions.shift(),this._times.shift()},_onZoomEnd:function(){var f=this._map.getSize().divideBy(2),y=this._map.latLngToLayerPoint([0,0]);this._initialWorldOffset=y.subtract(f).x,this._worldWidth=this._map.getPixelWorldBounds().getSize().x},_viscousLimit:function(f,y){return f-(f-y)*this._viscosity},_onPreDragLimit:function(){if(!(!this._viscosity||!this._offsetLimit)){var f=this._draggable._newPos.subtract(this._draggable._startPos),y=this._offsetLimit;f.x<y.min.x&&(f.x=this._viscousLimit(f.x,y.min.x)),f.y<y.min.y&&(f.y=this._viscousLimit(f.y,y.min.y)),f.x>y.max.x&&(f.x=this._viscousLimit(f.x,y.max.x)),f.y>y.max.y&&(f.y=this._viscousLimit(f.y,y.max.y)),this._draggable._newPos=this._draggable._startPos.add(f)}},_onPreDragWrap:function(){var f=this._worldWidth,y=Math.round(f/2),E=this._initialWorldOffset,D=this._draggable._newPos.x,R=(D-y+E)%f+y-E,F=(D+y+E)%f-y-E,ee=Math.abs(R+E)<Math.abs(F+E)?R:F;this._draggable._absPos=this._draggable._newPos.clone(),this._draggable._newPos.x=ee},_onDragEnd:function(f){var y=this._map,E=y.options,D=!E.inertia||f.noInertia||this._times.length<2;if(y.fire("dragend",f),D)y.fire("moveend");else{this._prunePositions(+new Date);var R=this._lastPos.subtract(this._positions[0]),F=(this._lastTime-this._times[0])/1e3,ee=E.easeLinearity,ce=R.multiplyBy(ee/F),ge=ce.distanceTo([0,0]),Te=Math.min(E.inertiaMaxSpeed,ge),Le=ce.multiplyBy(Te/ge),Ye=Te/(E.inertiaDeceleration*ee),lt=Le.multiplyBy(-Ye/2).round();!lt.x&&!lt.y?y.fire("moveend"):(lt=y._limitOffset(lt,y.options.maxBounds),H(function(){y.panBy(lt,{duration:Ye,easeLinearity:ee,noMoveStart:!0,animate:!0})}))}}});gt.addInitHook("addHandler","dragging",Qi),gt.mergeOptions({keyboard:!0,keyboardPanDelta:80});var Kf=Wi.extend({keyCodes:{left:[37],right:[39],down:[40],up:[38],zoomIn:[187,107,61,171],zoomOut:[189,109,54,173]},initialize:function(f){this._map=f,this._setPanDelta(f.options.keyboardPanDelta),this._setZoomDelta(f.options.zoomDelta)},addHooks:function(){var f=this._map._container;f.tabIndex<=0&&(f.tabIndex="0"),nt(f,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.on({focus:this._addHooks,blur:this._removeHooks},this)},removeHooks:function(){this._removeHooks(),Nt(this._map._container,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.off({focus:this._addHooks,blur:this._removeHooks},this)},_onMouseDown:function(){if(!this._focused){var f=document.body,y=document.documentElement,E=f.scrollTop||y.scrollTop,D=f.scrollLeft||y.scrollLeft;this._map._container.focus(),window.scrollTo(D,E)}},_onFocus:function(){this._focused=!0,this._map.fire("focus")},_onBlur:function(){this._focused=!1,this._map.fire("blur")},_setPanDelta:function(f){var y=this._panKeys={},E=this.keyCodes,D,R;for(D=0,R=E.left.length;D<R;D++)y[E.left[D]]=[-1*f,0];for(D=0,R=E.right.length;D<R;D++)y[E.right[D]]=[f,0];for(D=0,R=E.down.length;D<R;D++)y[E.down[D]]=[0,f];for(D=0,R=E.up.length;D<R;D++)y[E.up[D]]=[0,-1*f]},_setZoomDelta:function(f){var y=this._zoomKeys={},E=this.keyCodes,D,R;for(D=0,R=E.zoomIn.length;D<R;D++)y[E.zoomIn[D]]=f;for(D=0,R=E.zoomOut.length;D<R;D++)y[E.zoomOut[D]]=-f},_addHooks:function(){nt(document,"keydown",this._onKeyDown,this)},_removeHooks:function(){Nt(document,"keydown",this._onKeyDown,this)},_onKeyDown:function(f){if(!(f.altKey||f.ctrlKey||f.metaKey)){var y=f.keyCode,E=this._map,D;if(y in this._panKeys){if(!E._panAnim||!E._panAnim._inProgress)if(D=this._panKeys[y],f.shiftKey&&(D=se(D).multiplyBy(3)),E.options.maxBounds&&(D=E._limitOffset(se(D),E.options.maxBounds)),E.options.worldCopyJump){var R=E.wrapLatLng(E.unproject(E.project(E.getCenter()).add(D)));E.panTo(R)}else E.panBy(D)}else if(y in this._zoomKeys)E.setZoom(E.getZoom()+(f.shiftKey?3:1)*this._zoomKeys[y]);else if(y===27&&E._popup&&E._popup.options.closeOnEscapeKey)E.closePopup();else return;Ja(f)}}});gt.addInitHook("addHandler","keyboard",Kf),gt.mergeOptions({scrollWheelZoom:!0,wheelDebounceTime:40,wheelPxPerZoomLevel:60});var bc=Wi.extend({addHooks:function(){nt(this._map._container,"wheel",this._onWheelScroll,this),this._delta=0},removeHooks:function(){Nt(this._map._container,"wheel",this._onWheelScroll,this)},_onWheelScroll:function(f){var y=fr(f),E=this._map.options.wheelDebounceTime;this._delta+=y,this._lastMousePos=this._map.mouseEventToContainerPoint(f),this._startTime||(this._startTime=+new Date);var D=Math.max(E-(+new Date-this._startTime),0);clearTimeout(this._timer),this._timer=setTimeout(o(this._performZoom,this),D),Ja(f)},_performZoom:function(){var f=this._map,y=f.getZoom(),E=this._map.options.zoomSnap||0;f._stop();var D=this._delta/(this._map.options.wheelPxPerZoomLevel*4),R=4*Math.log(2/(1+Math.exp(-Math.abs(D))))/Math.LN2,F=E?Math.ceil(R/E)*E:R,ee=f._limitZoom(y+(this._delta>0?F:-F))-y;this._delta=0,this._startTime=null,ee&&(f.options.scrollWheelZoom==="center"?f.setZoom(y+ee):f.setZoomAround(this._lastMousePos,y+ee))}});gt.addInitHook("addHandler","scrollWheelZoom",bc);var Go=600;gt.mergeOptions({tapHold:He.touchNative&&He.safari&&He.mobile,tapTolerance:15});var Bu=Wi.extend({addHooks:function(){nt(this._map._container,"touchstart",this._onDown,this)},removeHooks:function(){Nt(this._map._container,"touchstart",this._onDown,this)},_onDown:function(f){if(clearTimeout(this._holdTimeout),f.touches.length===1){var y=f.touches[0];this._startPos=this._newPos=new ne(y.clientX,y.clientY),this._holdTimeout=setTimeout(o(function(){this._cancel(),this._isTapValid()&&(nt(document,"touchend",pn),nt(document,"touchend touchcancel",this._cancelClickPrevent),this._simulateEvent("contextmenu",y))},this),Go),nt(document,"touchend touchcancel contextmenu",this._cancel,this),nt(document,"touchmove",this._onMove,this)}},_cancelClickPrevent:function f(){Nt(document,"touchend",pn),Nt(document,"touchend touchcancel",f)},_cancel:function(){clearTimeout(this._holdTimeout),Nt(document,"touchend touchcancel contextmenu",this._cancel,this),Nt(document,"touchmove",this._onMove,this)},_onMove:function(f){var y=f.touches[0];this._newPos=new ne(y.clientX,y.clientY)},_isTapValid:function(){return this._newPos.distanceTo(this._startPos)<=this._map.options.tapTolerance},_simulateEvent:function(f,y){var E=new MouseEvent(f,{bubbles:!0,cancelable:!0,view:window,screenX:y.screenX,screenY:y.screenY,clientX:y.clientX,clientY:y.clientY});E._simulated=!0,y.target.dispatchEvent(E)}});gt.addInitHook("addHandler","tapHold",Bu),gt.mergeOptions({touchZoom:He.touch,bounceAtZoomLimits:!0});var Wf=Wi.extend({addHooks:function(){it(this._map._container,"leaflet-touch-zoom"),nt(this._map._container,"touchstart",this._onTouchStart,this)},removeHooks:function(){en(this._map._container,"leaflet-touch-zoom"),Nt(this._map._container,"touchstart",this._onTouchStart,this)},_onTouchStart:function(f){var y=this._map;if(!(!f.touches||f.touches.length!==2||y._animatingZoom||this._zooming)){var E=y.mouseEventToContainerPoint(f.touches[0]),D=y.mouseEventToContainerPoint(f.touches[1]);this._centerPoint=y.getSize()._divideBy(2),this._startLatLng=y.containerPointToLatLng(this._centerPoint),y.options.touchZoom!=="center"&&(this._pinchStartLatLng=y.containerPointToLatLng(E.add(D)._divideBy(2))),this._startDist=E.distanceTo(D),this._startZoom=y.getZoom(),this._moved=!1,this._zooming=!0,y._stop(),nt(document,"touchmove",this._onTouchMove,this),nt(document,"touchend touchcancel",this._onTouchEnd,this),pn(f)}},_onTouchMove:function(f){if(!(!f.touches||f.touches.length!==2||!this._zooming)){var y=this._map,E=y.mouseEventToContainerPoint(f.touches[0]),D=y.mouseEventToContainerPoint(f.touches[1]),R=E.distanceTo(D)/this._startDist;if(this._zoom=y.getScaleZoom(R,this._startZoom),!y.options.bounceAtZoomLimits&&(this._zoom<y.getMinZoom()&&R<1||this._zoom>y.getMaxZoom()&&R>1)&&(this._zoom=y._limitZoom(this._zoom)),y.options.touchZoom==="center"){if(this._center=this._startLatLng,R===1)return}else{var F=E._add(D)._divideBy(2)._subtract(this._centerPoint);if(R===1&&F.x===0&&F.y===0)return;this._center=y.unproject(y.project(this._pinchStartLatLng,this._zoom).subtract(F),this._zoom)}this._moved||(y._moveStart(!0,!1),this._moved=!0),z(this._animRequest);var ee=o(y._move,y,this._center,this._zoom,{pinch:!0,round:!1},void 0);this._animRequest=H(ee,this,!0),pn(f)}},_onTouchEnd:function(){if(!this._moved||!this._zooming){this._zooming=!1;return}this._zooming=!1,z(this._animRequest),Nt(document,"touchmove",this._onTouchMove,this),Nt(document,"touchend touchcancel",this._onTouchEnd,this),this._map.options.zoomAnimation?this._map._animateZoom(this._center,this._map._limitZoom(this._zoom),!0,this._map.options.zoomSnap):this._map._resetView(this._center,this._map._limitZoom(this._zoom))}});gt.addInitHook("addHandler","touchZoom",Wf),gt.BoxZoom=Ar,gt.DoubleClickZoom=$u,gt.Drag=Qi,gt.Keyboard=Kf,gt.ScrollWheelZoom=bc,gt.TapHold=Bu,gt.TouchZoom=Wf,n.Bounds=B,n.Browser=He,n.CRS=he,n.Canvas=Iu,n.Circle=Cu,n.CircleMarker=Vs,n.Class=X,n.Control=Pr,n.DivIcon=ug,n.DivOverlay=tr,n.DomEvent=Au,n.DomUtil=Gs,n.Draggable=Qa,n.Evented=Q,n.FeatureGroup=Vi,n.GeoJSON=Aa,n.GridLayer=el,n.Handler=Wi,n.Icon=Zi,n.ImageOverlay=Js,n.LatLng=oe,n.LatLngBounds=ie,n.Layer=wi,n.LayerGroup=Ws,n.LineUtil=Dx,n.Map=gt,n.Marker=lc,n.Mixin=Ox,n.Path=Xi,n.Point=ne,n.PolyUtil=Hf,n.Polygon=Zs,n.Polyline=Ea,n.Popup=fc,n.PosAnimation=qs,n.Projection=tg,n.Rectangle=Ho,n.Renderer=Er,n.SVG=tl,n.SVGOverlay=Lu,n.TileLayer=ro,n.Tooltip=hc,n.Transformation=Ne,n.Util=V,n.VideoOverlay=no,n.bind=o,n.bounds=K,n.canvas=pc,n.circle=og,n.circleMarker=ag,n.control=ka,n.divIcon=$x,n.extend=i,n.featureGroup=rg,n.geoJSON=Ru,n.geoJson=dc,n.gridLayer=dg,n.icon=ac,n.imageOverlay=sg,n.latLng=fe,n.latLngBounds=J,n.layerGroup=Px,n.map=If,n.marker=ig,n.point=se,n.polygon=Lx,n.polyline=Rx,n.popup=cg,n.rectangle=Bx,n.setOptions=S,n.stamp=u,n.svg=gc,n.svgOverlay=lg,n.tileLayer=Zr,n.tooltip=Ix,n.transformation=ye,n.version=r,n.videoOverlay=Qs;var Vf=window.L;n.noConflict=function(){return window.L=Vf,this},window.L=n}))})(am,am.exports)),am.exports}var XV=ZV();const Mw=hi(XV),x0=e=>e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#39;");function Cc(e){const t=document.getElementById(e);if(!t)throw new Error(`#${e} not found`);return t}function JV(e){const{buttonId:t,buttonInputId:n,modalId:r,closeMapId:i,mapCloseBtnId:a,searchBoxId:o,suggestionsId:l,mapId:u}=e.ids,d=e.initialCenter??{lat:37.5665,lon:126.978},h=Cc(n),p=Cc(t),b=Cc(r),x=Cc(a),k=Cc(o),S=Cc(l),_=i?Cc(i):null;let T=null,N=null,j=null;const C=z=>z.code==="Space"||z.key===" "||z.key==="Spacebar"||z.key==="Space",M=z=>{C(z)&&document.activeElement!==k&&(z.preventDefault(),z.stopPropagation(),k.focus())},P=()=>{b.style.display="flex",T?setTimeout(()=>T?.invalidateSize(),200):setTimeout(()=>{T=Mw.map(u,{keyboard:!1}).setView([d.lat,d.lon],11),Mw.tileLayer("https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",{attribution:" OpenStreetMap"}).addTo(T),T.invalidateSize()},0),b.addEventListener("keydown",M,!0),b.addEventListener("keyup",M,!0),k.focus()},$=()=>{b.style.display="none",k.value="",S.innerHTML="",j&&(window.clearTimeout(j),j=null),b.removeEventListener("keydown",M,!0),b.removeEventListener("keyup",M,!0)},U=z=>{const V=z.dataset.name??"",X=Number(z.dataset.lat??""),Z=Number(z.dataset.lon??"");!Number.isFinite(X)||!Number.isFinite(Z)||!T||(N?N.setLatLng([X,Z]):N=Mw.marker([X,Z]).addTo(T),T.flyTo([X,Z],14,{duration:.5}),h.value=V,h.dataset.lat=String(X),h.dataset.lon=String(Z),e.onSelected?.({name:V,lat:X,lon:Z}),S.innerHTML="",$())},Y=()=>{j&&window.clearTimeout(j);const z=k.value.trim();if(!z){S.innerHTML="";return}j=window.setTimeout(async()=>{try{const V="https://nominatim.openstreetmap.org/search?format=jsonv2&limit=12&accept-language=ko&addressdetails=1&dedupe=1&email=unique950318@gmail.com&q="+encodeURIComponent(z),X=await fetch(V,{headers:{Accept:"application/json"}});if(!X.ok)throw new Error(`HTTP ${X.status}`);const Z=await X.json();if(!Array.isArray(Z)||Z.length===0){S.innerHTML='<li style="padding:8px"> </li>';return}const q=Z.slice(0,12).map((Q,ne)=>{const ue=Q.display_name.split(",").slice(0,3).map(K=>K.trim()).join("  "),se="padding:8px;cursor:pointer;outline:none;",B=ne===0?"background-color:#1f2937;border-radius:4px;":"";return`<li
                    role="option"
                    data-name="${x0(ue)}"
                    data-lat="${x0(Q.lat)}"
                    data-lon="${x0(Q.lon)}"
                    data-active="${ne===0?"1":"0"}"
                    style="${se}${B}"
                  >${x0(ue)}</li>`}).join("");S.innerHTML=q}catch(V){console.error(V),S.innerHTML='<li style="padding:8px;color:#b91c1c"> </li>'}},250)},W=z=>{const V=z.target;V.tagName==="LI"&&U(V)},H=z=>{if(z.key==="Enter"){const V=S.querySelector('li[data-active="1"]')??S.querySelector("li");V&&U(V)}};return p.addEventListener("click",P),x.addEventListener("click",$),_&&_.addEventListener("click",$),k.addEventListener("input",Y),k.addEventListener("keydown",H),S.addEventListener("click",W),()=>{p.removeEventListener("click",P),x.removeEventListener("click",$),_&&_.removeEventListener("click",$),k.removeEventListener("input",Y),k.removeEventListener("keydown",H),S.removeEventListener("click",W),b.removeEventListener("keydown",M,!0),b.removeEventListener("keyup",M,!0),j&&(window.clearTimeout(j),j=null),T&&(T.remove(),T=null)}}function fd(){return document.getElementById("suggestions")}function vb(e){const t=Array.from(e.querySelectorAll('li, [role="option"]'));return t.forEach((n,r)=>{n.getAttribute("role")||n.setAttribute("role","option"),n.setAttribute("aria-selected",n===document.activeElement?"true":"false"),n.tabIndex=-1,n.id||(n.id=`suggestion-item-${r}`)}),t}function Dw(e,t){const n=vb(e);if(n.length===0)return;const r=n.length;let i=t;i<0&&(i=r-1),i>=r&&(i=0),n.forEach(o=>{o.tabIndex=-1,o.setAttribute("aria-selected","false")});const a=n[i];a.tabIndex=0,a.setAttribute("aria-selected","true"),a.focus()}const QV='button, [href], input:not([type="hidden"]), select, textarea, [tabindex]:not([tabindex="-1"])';function eZ({open:e,setOpen:t,setBtnText:n,setLocalValue:r,nameRef:i,latRef:a,lonRef:o,triggerBtnRef:l,onSelect:u}){w.useEffect(()=>{if(!e)return;const d=JV({ids:{buttonInputId:"inputBirthPlace",buttonId:"inputBirthPlaceBtn",modalId:"mapModal",closeMapId:"closeMap",mapCloseBtnId:"mapCloseBtn",searchBoxId:"searchBox",suggestionsId:"suggestions",mapId:"map"},onSelected:j=>{n(""),r(j.name),i.current&&(i.current.value=j.name),a.current&&(a.current.value=String(j.lat)),o.current&&(o.current.value=String(j.lon)),u?.(j),t(!1)}}),h=document.getElementById("inputBirthPlaceBtn");h&&h.dispatchEvent(new MouseEvent("click",{bubbles:!0}));const p=document.getElementById("mapModal");if(!p)return;const b=document.getElementById("searchBox"),x=fd();setTimeout(()=>b?.focus(),0);const k=j=>{if(j.key==="Escape"){j.preventDefault(),t(!1);return}if(j.key!=="Tab")return;const C=fd();if(C&&C.contains(document.activeElement))return;const M=Array.from(p.querySelectorAll(QV)).filter(Y=>!Y.hasAttribute("disabled")&&Y.tabIndex!==-1);if(M.length===0)return;const P=M[0],$=M[M.length-1],U=document.activeElement;j.shiftKey?(U===P||!p.contains(U))&&(j.preventDefault(),$.focus()):(U===$||!p.contains(U))&&(j.preventDefault(),P.focus())};p.addEventListener("keydown",k);const S=j=>{if(j.key!=="ArrowDown")return;const C=fd();!C||vb(C).length===0||j.preventDefault()};b?.addEventListener("keydown",S);const _=j=>{if(j.target.value.trim()===""){const M=fd();M&&(M.innerHTML="")}};b?.addEventListener("input",_);const T=j=>{const C=fd();if(!C)return;const M=vb(C);if(M.length===0)return;const P=document.activeElement,$=P?M.indexOf(P):-1;if($===-1)return;const U=Y=>{j.preventDefault(),Dw(C,$+Y)};switch(j.key){case"Tab":j.preventDefault(),U(j.shiftKey?-1:1);break;case"ArrowDown":j.preventDefault(),U(1);break;case"ArrowUp":j.preventDefault(),U(-1);break;case"Home":j.preventDefault(),Dw(C,0);break;case"End":j.preventDefault(),Dw(C,M.length-1);break;case"Enter":case" ":j.preventDefault(),P.click();break;case"Backspace":j.preventDefault(),C.innerHTML="",b?.focus();break}j.stopPropagation()};let N=null;return x&&(x.addEventListener("keydown",T),N=new MutationObserver(()=>{const j=fd();!j||vb(j).length}),N.observe(x,{childList:!0,subtree:!1})),()=>{p.removeEventListener("keydown",k),b?.removeEventListener("keydown",S),b?.removeEventListener("input",_),x&&x.removeEventListener("keydown",T),N?.disconnect(),d?.()}},[e,u,n,r,t,i,a,o]),w.useEffect(()=>{e||setTimeout(()=>l.current?.focus(),0)},[e,l])}function l5({onSelect:e,placeholderText:t=" ",buttonStyle:n,value:r}){const i=WV({placeholderText:t,value:r});return eZ({...i,onSelect:e}),g.jsxs("li",{className:"flex items-center gap-2",children:[g.jsx("input",{className:`w-[60%] desk:w-[70%] mr-2 border rounded-lg p-2
                   bg-white dark:bg-neutral-900
                   border-neutral-300 dark:border-neutral-700
                   text-neutral-900 dark:text-neutral-100
                   placeholder-neutral-400 dark:placeholder-neutral-500`,type:"text",id:"inputBirthPlace",readOnly:!0,"aria-readonly":"true",value:i.localValue&&i.localValue.trim()!==""?i.localValue:t}),g.jsx("button",{ref:i.triggerBtnRef,type:"button",id:"inputBirthPlaceBtn",className:"btn_style text-sm desk:text-base w-[calc(40%_-_8px)] desk:w-[calc(30%_-_8px)] p-0",style:n,onClick:()=>i.setOpen(!0),"aria-haspopup":"dialog","aria-expanded":i.open,"aria-controls":"mapModal",children:i.btnText}),g.jsx("input",{ref:i.nameRef,type:"hidden",name:"birthPlace_name",defaultValue:""}),g.jsx("input",{ref:i.latRef,type:"hidden",name:"birthPlace_lat",defaultValue:""}),g.jsx("input",{ref:i.lonRef,type:"hidden",name:"birthPlace_lon",defaultValue:""}),i.open&&g.jsx("div",{id:"mapModal",role:"dialog","aria-modal":"true","aria-labelledby":"mapModalTitle",className:"fixed inset-0 z-[999] flex items-center justify-center bg-black/40 dark:bg-black/60 p-4",children:g.jsxs("div",{className:`w-[96vw] desk:w-[920px] rounded-2xl shadow-2xl overflow-hidden flex flex-col
                          bg-white dark:bg-neutral-950
                          text-neutral-900 dark:text-neutral-100
                          border border-neutral-200 dark:border-neutral-800`,children:[g.jsxs("div",{className:"flex items-center justify-between px-4 py-3 border-b border-neutral-200 dark:border-neutral-800",children:[g.jsx("div",{id:"mapModalTitle",className:"font-bold",children:" "}),g.jsx("button",{id:"mapCloseBtn","aria-label":"",className:"text-xl hover:opacity-70 cursor-pointer",onClick:()=>i.setOpen(!1),children:""})]}),g.jsxs("div",{className:"relative grid gap-2 px-3 py-3 border-t border-neutral-200 dark:border-neutral-800",children:[g.jsx("label",{htmlFor:"searchBox",className:"text-xs text-neutral-500 dark:text-neutral-400",children:"/ "}),g.jsxs("div",{className:"relative",children:[g.jsx("input",{id:"searchBox",placeholder:":  / seoul / / tokyo",className:`h-10 w-full rounded-lg border px-3 outline-none
                             bg-white dark:bg-neutral-900
                             border-neutral-300 dark:border-neutral-700
                             placeholder-neutral-400 dark:placeholder-neutral-500
                             text-neutral-900 dark:text-neutral-100
                             focus:border-neutral-400 dark:focus:border-neutral-600`,autoComplete:"off"}),g.jsx("ul",{id:"suggestions",role:"listbox","aria-label":" ",className:`absolute left-0 right-0 mt-1 max-h-60 overflow-y-auto rounded-lg border shadow-xl z-[1005]
                             bg-white dark:bg-neutral-900
                             border-neutral-200 dark:border-neutral-700
                             text-neutral-900 dark:text-neutral-100
                             divide-y divide-neutral-200 dark:divide-neutral-800`})]})]}),g.jsx("div",{className:"relative h-[250px] desk:h-[360px] border-y border-neutral-200 dark:border-neutral-800",children:g.jsx("div",{id:"map",className:"h-full w-full"})}),g.jsxs("div",{className:"gap-2 p-3",children:[g.jsxs("div",{id:"footerHint",className:"pr-2 text-xs text-neutral-600 dark:text-neutral-300 flex-1",children:[g.jsxs("p",{className:"flex mb-1",children:[g.jsx("span",{className:"mr-1",children:"*"}),g.jsx("span",{children:"   ."})]}),g.jsxs("p",{className:"flex",children:[g.jsx("span",{className:"mr-1",children:"*"}),g.jsx("span",{children:"       ."})]})]}),g.jsx("button",{id:"closeMap",style:{display:"none"},"aria-hidden":"true",tabIndex:-1})]})]})})]})}function ar(e){return`Minified Redux error #${e}; visit https://redux.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var tZ=typeof Symbol=="function"&&Symbol.observable||"@@observable",lM=tZ,Pw=()=>Math.random().toString(36).substring(7).split("").join("."),nZ={INIT:`@@redux/INIT${Pw()}`,REPLACE:`@@redux/REPLACE${Pw()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${Pw()}`},Hb=nZ;function E2(e){if(typeof e!="object"||e===null)return!1;let t=e;for(;Object.getPrototypeOf(t)!==null;)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t||Object.getPrototypeOf(e)===null}function A2(e,t,n){if(typeof e!="function")throw new Error(ar(2));if(typeof t=="function"&&typeof n=="function"||typeof n=="function"&&typeof arguments[3]=="function")throw new Error(ar(0));if(typeof t=="function"&&typeof n>"u"&&(n=t,t=void 0),typeof n<"u"){if(typeof n!="function")throw new Error(ar(1));return n(A2)(e,t)}let r=e,i=t,a=new Map,o=a,l=0,u=!1;function d(){o===a&&(o=new Map,a.forEach((_,T)=>{o.set(T,_)}))}function h(){if(u)throw new Error(ar(3));return i}function p(_){if(typeof _!="function")throw new Error(ar(4));if(u)throw new Error(ar(5));let T=!0;d();const N=l++;return o.set(N,_),function(){if(T){if(u)throw new Error(ar(6));T=!1,d(),o.delete(N),a=null}}}function b(_){if(!E2(_))throw new Error(ar(7));if(typeof _.type>"u")throw new Error(ar(8));if(typeof _.type!="string")throw new Error(ar(17));if(u)throw new Error(ar(9));try{u=!0,i=r(i,_)}finally{u=!1}return(a=o).forEach(N=>{N()}),_}function x(_){if(typeof _!="function")throw new Error(ar(10));r=_,b({type:Hb.REPLACE})}function k(){const _=p;return{subscribe(T){if(typeof T!="object"||T===null)throw new Error(ar(11));function N(){const C=T;C.next&&C.next(h())}return N(),{unsubscribe:_(N)}},[lM](){return this}}}return b({type:Hb.INIT}),{dispatch:b,subscribe:p,getState:h,replaceReducer:x,[lM]:k}}function rZ(e){Object.keys(e).forEach(t=>{const n=e[t];if(typeof n(void 0,{type:Hb.INIT})>"u")throw new Error(ar(12));if(typeof n(void 0,{type:Hb.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(ar(13))})}function c5(e){const t=Object.keys(e),n={};for(let a=0;a<t.length;a++){const o=t[a];typeof e[o]=="function"&&(n[o]=e[o])}const r=Object.keys(n);let i;try{rZ(n)}catch(a){i=a}return function(o={},l){if(i)throw i;let u=!1;const d={};for(let h=0;h<r.length;h++){const p=r[h],b=n[p],x=o[p],k=b(x,l);if(typeof k>"u")throw l&&l.type,new Error(ar(14));d[p]=k,u=u||k!==x}return u=u||r.length!==Object.keys(o).length,u?d:o}}function cM(e,t){return function(...n){return t(e.apply(this,n))}}function uM(e,t){if(typeof e=="function")return cM(e,t);if(typeof e!="object"||e===null)throw new Error(ar(16));const n={};for(const r in e){const i=e[r];typeof i=="function"&&(n[r]=cM(i,t))}return n}function km(...e){return e.length===0?t=>t:e.length===1?e[0]:e.reduce((t,n)=>(...r)=>t(n(...r)))}function u5(...e){return t=>(n,r)=>{const i=t(n,r);let a=()=>{throw new Error(ar(15))};const o={getState:i.getState,dispatch:(u,...d)=>a(u,...d)},l=e.map(u=>u(o));return a=km(...l)(i.dispatch),{...i,dispatch:a}}}function d5(e){return E2(e)&&"type"in e&&typeof e.type=="string"}var Rw={exports:{}},Lw={};/**
 * @license React
 * use-sync-external-store-with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var dM;function iZ(){if(dM)return Lw;dM=1;var e=af();function t(u,d){return u===d&&(u!==0||1/u===1/d)||u!==u&&d!==d}var n=typeof Object.is=="function"?Object.is:t,r=e.useSyncExternalStore,i=e.useRef,a=e.useEffect,o=e.useMemo,l=e.useDebugValue;return Lw.useSyncExternalStoreWithSelector=function(u,d,h,p,b){var x=i(null);if(x.current===null){var k={hasValue:!1,value:null};x.current=k}else k=x.current;x=o(function(){function _(M){if(!T){if(T=!0,N=M,M=p(M),b!==void 0&&k.hasValue){var P=k.value;if(b(P,M))return j=P}return j=M}if(P=j,n(N,M))return P;var $=p(M);return b!==void 0&&b(P,$)?(N=M,P):(N=M,j=$)}var T=!1,N,j,C=h===void 0?null:h;return[function(){return _(d())},C===null?void 0:function(){return _(C())}]},[d,h,p,b]);var S=r(u,x[0],x[1]);return a(function(){k.hasValue=!0,k.value=S},[S]),l(S),S},Lw}var fM;function aZ(){return fM||(fM=1,Rw.exports=iZ()),Rw.exports}aZ();var oZ=w.version.startsWith("19"),sZ=Symbol.for(oZ?"react.transitional.element":"react.element"),lZ=Symbol.for("react.portal"),cZ=Symbol.for("react.fragment"),uZ=Symbol.for("react.strict_mode"),dZ=Symbol.for("react.profiler"),fZ=Symbol.for("react.consumer"),hZ=Symbol.for("react.context"),f5=Symbol.for("react.forward_ref"),mZ=Symbol.for("react.suspense"),pZ=Symbol.for("react.suspense_list"),T2=Symbol.for("react.memo"),gZ=Symbol.for("react.lazy"),bZ=f5,yZ=T2;function vZ(e){if(typeof e=="object"&&e!==null){const{$$typeof:t}=e;switch(t){case sZ:switch(e=e.type,e){case cZ:case dZ:case uZ:case mZ:case pZ:return e;default:switch(e=e&&e.$$typeof,e){case hZ:case f5:case gZ:case T2:return e;case fZ:return e;default:return t}}case lZ:return t}}}function xZ(e){return vZ(e)===T2}function _Z(e,t,n,r,{areStatesEqual:i,areOwnPropsEqual:a,areStatePropsEqual:o}){let l=!1,u,d,h,p,b;function x(N,j){return u=N,d=j,h=e(u,d),p=t(r,d),b=n(h,p,d),l=!0,b}function k(){return h=e(u,d),t.dependsOnOwnProps&&(p=t(r,d)),b=n(h,p,d),b}function S(){return e.dependsOnOwnProps&&(h=e(u,d)),t.dependsOnOwnProps&&(p=t(r,d)),b=n(h,p,d),b}function _(){const N=e(u,d),j=!o(N,h);return h=N,j&&(b=n(h,p,d)),b}function T(N,j){const C=!a(j,d),M=!i(N,u,j,d);return u=N,d=j,C&&M?k():C?S():M?_():b}return function(j,C){return l?T(j,C):x(j,C)}}function wZ(e,{initMapStateToProps:t,initMapDispatchToProps:n,initMergeProps:r,...i}){const a=t(e,i),o=n(e,i),l=r(e,i);return _Z(a,o,l,e,i)}function SZ(e,t){const n={};for(const r in e){const i=e[r];typeof i=="function"&&(n[r]=(...a)=>t(i(...a)))}return n}function Ak(e){return function(n){const r=e(n);function i(){return r}return i.dependsOnOwnProps=!1,i}}function hM(e){return e.dependsOnOwnProps?!!e.dependsOnOwnProps:e.length!==1}function h5(e,t){return function(r,{displayName:i}){const a=function(l,u){return a.dependsOnOwnProps?a.mapToProps(l,u):a.mapToProps(l,void 0)};return a.dependsOnOwnProps=!0,a.mapToProps=function(l,u){a.mapToProps=e,a.dependsOnOwnProps=hM(e);let d=a(l,u);return typeof d=="function"&&(a.mapToProps=d,a.dependsOnOwnProps=hM(d),d=a(l,u)),d},a}}function j2(e,t){return(n,r)=>{throw new Error(`Invalid value of type ${typeof e} for ${t} argument when connecting component ${r.wrappedComponentName}.`)}}function kZ(e){return e&&typeof e=="object"?Ak(t=>SZ(e,t)):e?typeof e=="function"?h5(e):j2(e,"mapDispatchToProps"):Ak(t=>({dispatch:t}))}function EZ(e){return e?typeof e=="function"?h5(e):j2(e,"mapStateToProps"):Ak(()=>({}))}function AZ(e,t,n){return{...n,...e,...t}}function TZ(e){return function(n,{displayName:r,areMergedPropsEqual:i}){let a=!1,o;return function(u,d,h){const p=e(u,d,h);return a?i(p,o)||(o=p):(a=!0,o=p),o}}}function jZ(e){return e?typeof e=="function"?TZ(e):j2(e,"mergeProps"):()=>AZ}function OZ(e){e()}function NZ(){let e=null,t=null;return{clear(){e=null,t=null},notify(){OZ(()=>{let n=e;for(;n;)n.callback(),n=n.next})},get(){const n=[];let r=e;for(;r;)n.push(r),r=r.next;return n},subscribe(n){let r=!0;const i=t={callback:n,next:null,prev:t};return i.prev?i.prev.next=i:e=i,function(){!r||e===null||(r=!1,i.next?i.next.prev=i.prev:t=i.prev,i.prev?i.prev.next=i.next:e=i.next)}}}}var mM={notify(){},get:()=>[]};function m5(e,t){let n,r=mM,i=0,a=!1;function o(S){h();const _=r.subscribe(S);let T=!1;return()=>{T||(T=!0,_(),p())}}function l(){r.notify()}function u(){k.onStateChange&&k.onStateChange()}function d(){return a}function h(){i++,n||(n=t?t.addNestedSub(u):e.subscribe(u),r=NZ())}function p(){i--,n&&i===0&&(n(),n=void 0,r.clear(),r=mM)}function b(){a||(a=!0,h())}function x(){a&&(a=!1,p())}const k={addNestedSub:o,notifyNestedSubs:l,handleChangeWrapper:u,isSubscribed:d,trySubscribe:b,tryUnsubscribe:x,getListeners:()=>r};return k}var CZ=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",MZ=CZ(),DZ=()=>typeof navigator<"u"&&navigator.product==="ReactNative",PZ=DZ(),RZ=()=>MZ||PZ?w.useLayoutEffect:w.useEffect,Gb=RZ();function pM(e,t){return e===t?e!==0||t!==0||1/e===1/t:e!==e&&t!==t}function xb(e,t){if(pM(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;const n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(!Object.prototype.hasOwnProperty.call(t,n[i])||!pM(e[n[i]],t[n[i]]))return!1;return!0}var LZ={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},IZ={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},$Z={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},p5={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},BZ={[bZ]:$Z,[yZ]:p5};function gM(e){return xZ(e)?p5:BZ[e.$$typeof]||LZ}var zZ=Object.defineProperty,UZ=Object.getOwnPropertyNames,bM=Object.getOwnPropertySymbols,FZ=Object.getOwnPropertyDescriptor,HZ=Object.getPrototypeOf,yM=Object.prototype;function Tk(e,t){if(typeof t!="string"){if(yM){const a=HZ(t);a&&a!==yM&&Tk(e,a)}let n=UZ(t);bM&&(n=n.concat(bM(t)));const r=gM(e),i=gM(t);for(let a=0;a<n.length;++a){const o=n[a];if(!IZ[o]&&!(i&&i[o])&&!(r&&r[o])){const l=FZ(t,o);try{zZ(e,o,l)}catch{}}}}return e}var GZ=Symbol.for("react-redux-context"),qZ=typeof globalThis<"u"?globalThis:{};function YZ(){if(!w.createContext)return{};const e=qZ[GZ]??=new Map;let t=e.get(w.createContext);return t||(t=w.createContext(null),e.set(w.createContext,t)),t}var g5=YZ(),KZ=[null,null];function WZ(e,t,n){Gb(()=>e(...t),n)}function VZ(e,t,n,r,i,a){e.current=r,n.current=!1,i.current&&(i.current=null,a())}function ZZ(e,t,n,r,i,a,o,l,u,d,h){if(!e)return()=>{};let p=!1,b=null;const x=()=>{if(p||!l.current)return;const S=t.getState();let _,T;try{_=r(S,i.current)}catch(N){T=N,b=N}T||(b=null),_===a.current?o.current||d():(a.current=_,u.current=_,o.current=!0,h())};return n.onStateChange=x,n.trySubscribe(),x(),()=>{if(p=!0,n.tryUnsubscribe(),n.onStateChange=null,b)throw b}}function XZ(e,t){return e===t}function JZ(e,t,n,{pure:r,areStatesEqual:i=XZ,areOwnPropsEqual:a=xb,areStatePropsEqual:o=xb,areMergedPropsEqual:l=xb,forwardRef:u=!1,context:d=g5}={}){const h=d,p=EZ(e),b=kZ(t),x=jZ(n),k=!!e;return _=>{const T=_.displayName||_.name||"Component",N=`Connect(${T})`,j={shouldHandleStateChanges:k,displayName:N,wrappedComponentName:T,WrappedComponent:_,initMapStateToProps:p,initMapDispatchToProps:b,initMergeProps:x,areStatesEqual:i,areStatePropsEqual:o,areOwnPropsEqual:a,areMergedPropsEqual:l};function C($){const[U,Y,W]=w.useMemo(()=>{const{reactReduxForwardedRef:ye,...Ze}=$;return[$.context,ye,Ze]},[$]),H=w.useMemo(()=>{let ye=h;return U?.Consumer,ye},[U,h]),z=w.useContext(H),V=!!$.store&&!!$.store.getState&&!!$.store.dispatch,X=!!z&&!!z.store,Z=V?$.store:z.store,q=X?z.getServerState:Z.getState,Q=w.useMemo(()=>wZ(Z.dispatch,j),[Z]),[ne,ue]=w.useMemo(()=>{if(!k)return KZ;const ye=m5(Z,V?void 0:z.subscription),Ze=ye.notifyNestedSubs.bind(ye);return[ye,Ze]},[Z,V,z]),se=w.useMemo(()=>V?z:{...z,subscription:ne},[V,z,ne]),B=w.useRef(void 0),K=w.useRef(W),ie=w.useRef(void 0),J=w.useRef(!1),oe=w.useRef(!1),fe=w.useRef(void 0);Gb(()=>(oe.current=!0,()=>{oe.current=!1}),[]);const he=w.useMemo(()=>()=>ie.current&&W===K.current?ie.current:Q(Z.getState(),W),[Z,W]),ke=w.useMemo(()=>Ze=>ne?ZZ(k,Z,ne,Q,K,B,J,oe,ie,ue,Ze):()=>{},[ne]);WZ(VZ,[K,B,J,W,ie,ue]);let re;try{re=w.useSyncExternalStore(ke,he,q?()=>Q(q(),W):he)}catch(ye){throw fe.current&&(ye.message+=`
The error may be correlated with this previous error:
${fe.current.stack}

`),ye}Gb(()=>{fe.current=void 0,ie.current=void 0,B.current=re});const xe=w.useMemo(()=>w.createElement(_,{...re,ref:Y}),[Y,_,re]);return w.useMemo(()=>k?w.createElement(H.Provider,{value:se},xe):xe,[H,xe,se])}const P=w.memo(C);if(P.WrappedComponent=_,P.displayName=C.displayName=N,u){const U=w.forwardRef(function(W,H){return w.createElement(P,{...W,reactReduxForwardedRef:H})});return U.displayName=N,U.WrappedComponent=_,Tk(U,_)}return Tk(P,_)}}var b5=JZ;function QZ(e){const{children:t,context:n,serverState:r,store:i}=e,a=w.useMemo(()=>{const u=m5(i);return{store:i,subscription:u,getServerState:r?()=>r:void 0}},[i,r]),o=w.useMemo(()=>i.getState(),[i]);Gb(()=>{const{subscription:u}=a;return u.onStateChange=u.notifyNestedSubs,u.trySubscribe(),o!==i.getState()&&u.notifyNestedSubs(),()=>{u.tryUnsubscribe(),u.onStateChange=void 0}},[a,o]);const l=n||g5;return w.createElement(l.Provider,{value:a},t)}var y5=QZ,eX="Invariant failed";function tX(e,t){throw new Error(eX)}var za=function(t){var n=t.top,r=t.right,i=t.bottom,a=t.left,o=r-a,l=i-n,u={top:n,right:r,bottom:i,left:a,width:o,height:l,x:a,y:n,center:{x:(r+a)/2,y:(i+n)/2}};return u},O2=function(t,n){return{top:t.top-n.top,left:t.left-n.left,bottom:t.bottom+n.bottom,right:t.right+n.right}},vM=function(t,n){return{top:t.top+n.top,left:t.left+n.left,bottom:t.bottom-n.bottom,right:t.right-n.right}},nX=function(t,n){return{top:t.top+n.y,left:t.left+n.x,bottom:t.bottom+n.y,right:t.right+n.x}},Iw={top:0,right:0,bottom:0,left:0},N2=function(t){var n=t.borderBox,r=t.margin,i=r===void 0?Iw:r,a=t.border,o=a===void 0?Iw:a,l=t.padding,u=l===void 0?Iw:l,d=za(O2(n,i)),h=za(vM(n,o)),p=za(vM(h,u));return{marginBox:d,borderBox:za(n),paddingBox:h,contentBox:p,margin:i,border:o,padding:u}},ra=function(t){var n=t.slice(0,-2),r=t.slice(-2);if(r!=="px")return 0;var i=Number(n);return isNaN(i)&&tX(),i},rX=function(){return{x:window.pageXOffset,y:window.pageYOffset}},qb=function(t,n){var r=t.borderBox,i=t.border,a=t.margin,o=t.padding,l=nX(r,n);return N2({borderBox:l,border:i,margin:a,padding:o})},Yb=function(t,n){return n===void 0&&(n=rX()),qb(t,n)},v5=function(t,n){var r={top:ra(n.marginTop),right:ra(n.marginRight),bottom:ra(n.marginBottom),left:ra(n.marginLeft)},i={top:ra(n.paddingTop),right:ra(n.paddingRight),bottom:ra(n.paddingBottom),left:ra(n.paddingLeft)},a={top:ra(n.borderTopWidth),right:ra(n.borderRightWidth),bottom:ra(n.borderBottomWidth),left:ra(n.borderLeftWidth)};return N2({borderBox:t,margin:r,padding:i,border:a})},x5=function(t){var n=t.getBoundingClientRect(),r=window.getComputedStyle(t);return v5(n,r)},Em=function(t){var n=[],r=null,i=function(){for(var o=arguments.length,l=new Array(o),u=0;u<o;u++)l[u]=arguments[u];n=l,!r&&(r=requestAnimationFrame(function(){r=null,t.apply(void 0,n)}))};return i.cancel=function(){r&&(cancelAnimationFrame(r),r=null)},i};function Kb(){return Kb=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Kb.apply(null,arguments)}function _5(e,t){}_5.bind(null,"warn");_5.bind(null,"error");function Ol(){}function iX(e,t){return{...e,...t}}function sa(e,t,n){const r=t.map(i=>{const a=iX(n,i.options);return e.addEventListener(i.eventName,i.fn,a),function(){e.removeEventListener(i.eventName,i.fn,a)}});return function(){r.forEach(a=>{a()})}}const aX="Invariant failed";class Wb extends Error{}Wb.prototype.toString=function(){return this.message};function Pe(e,t){throw new Wb(aX)}class oX extends Kt.Component{constructor(...t){super(...t),this.callbacks=null,this.unbind=Ol,this.onWindowError=n=>{const r=this.getCallbacks();r.isDragging()&&r.tryAbort(),n.error instanceof Wb&&n.preventDefault()},this.getCallbacks=()=>{if(!this.callbacks)throw new Error("Unable to find AppCallbacks in <ErrorBoundary/>");return this.callbacks},this.setCallbacks=n=>{this.callbacks=n}}componentDidMount(){this.unbind=sa(window,[{eventName:"error",fn:this.onWindowError}])}componentDidCatch(t){if(t instanceof Wb){this.setState({});return}throw t}componentWillUnmount(){this.unbind()}render(){return this.props.children(this.setCallbacks)}}const sX=`
  Press space bar to start a drag.
  When dragging you can use the arrow keys to move the item around and escape to cancel.
  Some screen readers may require you to be in focus mode or to use your pass through key
`,Vb=e=>e+1,lX=e=>`
  You have lifted an item in position ${Vb(e.source.index)}
`,w5=(e,t)=>{const n=e.droppableId===t.droppableId,r=Vb(e.index),i=Vb(t.index);return n?`
      You have moved the item from position ${r}
      to position ${i}
    `:`
    You have moved the item from position ${r}
    in list ${e.droppableId}
    to list ${t.droppableId}
    in position ${i}
  `},S5=(e,t,n)=>t.droppableId===n.droppableId?`
      The item ${e}
      has been combined with ${n.draggableId}`:`
      The item ${e}
      in list ${t.droppableId}
      has been combined with ${n.draggableId}
      in list ${n.droppableId}
    `,cX=e=>{const t=e.destination;if(t)return w5(e.source,t);const n=e.combine;return n?S5(e.draggableId,e.source,n):"You are over an area that cannot be dropped on"},xM=e=>`
  The item has returned to its starting position
  of ${Vb(e.index)}
`,uX=e=>{if(e.reason==="CANCEL")return`
      Movement cancelled.
      ${xM(e.source)}
    `;const t=e.destination,n=e.combine;return t?`
      You have dropped the item.
      ${w5(e.source,t)}
    `:n?`
      You have dropped the item.
      ${S5(e.draggableId,e.source,n)}
    `:`
    The item has been dropped while not over a drop area.
    ${xM(e.source)}
  `},_b={dragHandleUsageInstructions:sX,onDragStart:lX,onDragUpdate:cX,onDragEnd:uX};function dX(e,t){return!!(e===t||Number.isNaN(e)&&Number.isNaN(t))}function k5(e,t){if(e.length!==t.length)return!1;for(let n=0;n<e.length;n++)if(!dX(e[n],t[n]))return!1;return!0}function xt(e,t){const n=w.useState(()=>({inputs:t,result:e()}))[0],r=w.useRef(!0),i=w.useRef(n),o=r.current||!!(t&&i.current.inputs&&k5(t,i.current.inputs))?i.current:{inputs:t,result:e()};return w.useEffect(()=>{r.current=!1,i.current=o},[o]),o.result}function We(e,t){return xt(()=>e,t)}const cr={x:0,y:0},vr=(e,t)=>({x:e.x+t.x,y:e.y+t.y}),Ri=(e,t)=>({x:e.x-t.x,y:e.y-t.y}),Nl=(e,t)=>e.x===t.x&&e.y===t.y,uf=e=>({x:e.x!==0?-e.x:0,y:e.y!==0?-e.y:0}),su=(e,t,n=0)=>e==="x"?{x:t,y:n}:{x:n,y:t},Am=(e,t)=>Math.sqrt((t.x-e.x)**2+(t.y-e.y)**2),_M=(e,t)=>Math.min(...t.map(n=>Am(e,n))),E5=e=>t=>({x:e(t.x),y:e(t.y)});var fX=(e,t)=>{const n=za({top:Math.max(t.top,e.top),right:Math.min(t.right,e.right),bottom:Math.min(t.bottom,e.bottom),left:Math.max(t.left,e.left)});return n.width<=0||n.height<=0?null:n};const op=(e,t)=>({top:e.top+t.y,left:e.left+t.x,bottom:e.bottom+t.y,right:e.right+t.x}),wM=e=>[{x:e.left,y:e.top},{x:e.right,y:e.top},{x:e.left,y:e.bottom},{x:e.right,y:e.bottom}],hX={top:0,right:0,bottom:0,left:0},mX=(e,t)=>t?op(e,t.scroll.diff.displacement):e,pX=(e,t,n)=>n&&n.increasedBy?{...e,[t.end]:e[t.end]+n.increasedBy[t.line]}:e,gX=(e,t)=>t&&t.shouldClipSubject?fX(t.pageMarginBox,e):za(e);var Gd=({page:e,withPlaceholder:t,axis:n,frame:r})=>{const i=mX(e.marginBox,r),a=pX(i,n,t),o=gX(a,r);return{page:e,withPlaceholder:t,active:o}},C2=(e,t)=>{e.frame||Pe();const n=e.frame,r=Ri(t,n.scroll.initial),i=uf(r),a={...n,scroll:{initial:n.scroll.initial,current:t,diff:{value:r,displacement:i},max:n.scroll.max}},o=Gd({page:e.subject.page,withPlaceholder:e.subject.withPlaceholder,axis:e.axis,frame:a});return{...e,frame:a,subject:o}};function lr(e,t=k5){let n=null;function r(...i){if(n&&n.lastThis===this&&t(i,n.lastArgs))return n.lastResult;const a=e.apply(this,i);return n={lastResult:a,lastArgs:i,lastThis:this},a}return r.clear=function(){n=null},r}const A5=lr(e=>e.reduce((t,n)=>(t[n.descriptor.id]=n,t),{})),T5=lr(e=>e.reduce((t,n)=>(t[n.descriptor.id]=n,t),{})),pv=lr(e=>Object.values(e)),bX=lr(e=>Object.values(e));var df=lr((e,t)=>bX(t).filter(r=>e===r.descriptor.droppableId).sort((r,i)=>r.descriptor.index-i.descriptor.index));function M2(e){return e.at&&e.at.type==="REORDER"?e.at.destination:null}function gv(e){return e.at&&e.at.type==="COMBINE"?e.at.combine:null}var bv=lr((e,t)=>t.filter(n=>n.descriptor.id!==e.descriptor.id)),yX=({isMovingForward:e,draggable:t,destination:n,insideDestination:r,previousImpact:i})=>{if(!n.isCombineEnabled||!M2(i))return null;function o(x){const k={type:"COMBINE",combine:{draggableId:x,droppableId:n.descriptor.id}};return{...i,at:k}}const l=i.displaced.all,u=l.length?l[0]:null;if(e)return u?o(u):null;const d=bv(t,r);if(!u){if(!d.length)return null;const x=d[d.length-1];return o(x.descriptor.id)}const h=d.findIndex(x=>x.descriptor.id===u);h===-1&&Pe();const p=h-1;if(p<0)return null;const b=d[p];return o(b.descriptor.id)},ff=(e,t)=>e.descriptor.droppableId===t.descriptor.id;const j5={point:cr,value:0},Tm={invisible:{},visible:{},all:[]},vX={displaced:Tm,displacedBy:j5,at:null};var fa=(e,t)=>n=>e<=n&&n<=t,O5=e=>{const t=fa(e.top,e.bottom),n=fa(e.left,e.right);return r=>{if(t(r.top)&&t(r.bottom)&&n(r.left)&&n(r.right))return!0;const a=t(r.top)||t(r.bottom),o=n(r.left)||n(r.right);if(a&&o)return!0;const u=r.top<e.top&&r.bottom>e.bottom,d=r.left<e.left&&r.right>e.right;return u&&d?!0:u&&o||d&&a}},xX=e=>{const t=fa(e.top,e.bottom),n=fa(e.left,e.right);return r=>t(r.top)&&t(r.bottom)&&n(r.left)&&n(r.right)};const D2={direction:"vertical",line:"y",crossAxisLine:"x",start:"top",end:"bottom",size:"height",crossAxisStart:"left",crossAxisEnd:"right",crossAxisSize:"width"},N5={direction:"horizontal",line:"x",crossAxisLine:"y",start:"left",end:"right",size:"width",crossAxisStart:"top",crossAxisEnd:"bottom",crossAxisSize:"height"};var _X=e=>t=>{const n=fa(t.top,t.bottom),r=fa(t.left,t.right);return i=>e===D2?n(i.top)&&n(i.bottom):r(i.left)&&r(i.right)};const wX=(e,t)=>{const n=t.frame?t.frame.scroll.diff.displacement:cr;return op(e,n)},SX=(e,t,n)=>t.subject.active?n(t.subject.active)(e):!1,kX=(e,t,n)=>n(t)(e),P2=({target:e,destination:t,viewport:n,withDroppableDisplacement:r,isVisibleThroughFrameFn:i})=>{const a=r?wX(e,t):e;return SX(a,t,i)&&kX(a,n,i)},EX=e=>P2({...e,isVisibleThroughFrameFn:O5}),C5=e=>P2({...e,isVisibleThroughFrameFn:xX}),AX=e=>P2({...e,isVisibleThroughFrameFn:_X(e.destination.axis)}),TX=(e,t,n)=>{if(typeof n=="boolean")return n;if(!t)return!0;const{invisible:r,visible:i}=t;if(r[e])return!1;const a=i[e];return a?a.shouldAnimate:!0};function jX(e,t){const n=e.page.marginBox,r={top:t.point.y,right:0,bottom:0,left:t.point.x};return za(O2(n,r))}function jm({afterDragging:e,destination:t,displacedBy:n,viewport:r,forceShouldAnimate:i,last:a}){return e.reduce(function(l,u){const d=jX(u,n),h=u.descriptor.id;if(l.all.push(h),!EX({target:d,destination:t,viewport:r,withDroppableDisplacement:!0}))return l.invisible[u.descriptor.id]=!0,l;const b=TX(h,a,i),x={draggableId:h,shouldAnimate:b};return l.visible[h]=x,l},{all:[],visible:{},invisible:{}})}function OX(e,t){if(!e.length)return 0;const n=e[e.length-1].descriptor.index;return t.inHomeList?n:n+1}function SM({insideDestination:e,inHomeList:t,displacedBy:n,destination:r}){const i=OX(e,{inHomeList:t});return{displaced:Tm,displacedBy:n,at:{type:"REORDER",destination:{droppableId:r.descriptor.id,index:i}}}}function Zb({draggable:e,insideDestination:t,destination:n,viewport:r,displacedBy:i,last:a,index:o,forceShouldAnimate:l}){const u=ff(e,n);if(o==null)return SM({insideDestination:t,inHomeList:u,displacedBy:i,destination:n});const d=t.find(k=>k.descriptor.index===o);if(!d)return SM({insideDestination:t,inHomeList:u,displacedBy:i,destination:n});const h=bv(e,t),p=t.indexOf(d),b=h.slice(p);return{displaced:jm({afterDragging:b,destination:n,displacedBy:i,last:a,viewport:r.frame,forceShouldAnimate:l}),displacedBy:i,at:{type:"REORDER",destination:{droppableId:n.descriptor.id,index:o}}}}function Dl(e,t){return!!t.effected[e]}var NX=({isMovingForward:e,destination:t,draggables:n,combine:r,afterCritical:i})=>{if(!t.isCombineEnabled)return null;const a=r.draggableId,l=n[a].descriptor.index;return Dl(a,i)?e?l:l-1:e?l+1:l},CX=({isMovingForward:e,isInHomeList:t,insideDestination:n,location:r})=>{if(!n.length)return null;const i=r.index,a=e?i+1:i-1,o=n[0].descriptor.index,l=n[n.length-1].descriptor.index,u=t?l:l+1;return a<o||a>u?null:a},MX=({isMovingForward:e,isInHomeList:t,draggable:n,draggables:r,destination:i,insideDestination:a,previousImpact:o,viewport:l,afterCritical:u})=>{const d=o.at;if(d||Pe(),d.type==="REORDER"){const p=CX({isMovingForward:e,isInHomeList:t,location:d.destination,insideDestination:a});return p==null?null:Zb({draggable:n,insideDestination:a,destination:i,viewport:l,last:o.displaced,displacedBy:o.displacedBy,index:p})}const h=NX({isMovingForward:e,destination:i,displaced:o.displaced,draggables:r,combine:d.combine,afterCritical:u});return h==null?null:Zb({draggable:n,insideDestination:a,destination:i,viewport:l,last:o.displaced,displacedBy:o.displacedBy,index:h})},DX=({displaced:e,afterCritical:t,combineWith:n,displacedBy:r})=>{const i=!!(e.visible[n]||e.invisible[n]);return Dl(n,t)?i?cr:uf(r.point):i?r.point:cr},PX=({afterCritical:e,impact:t,draggables:n})=>{const r=gv(t);r||Pe();const i=r.draggableId,a=n[i].page.borderBox.center,o=DX({displaced:t.displaced,afterCritical:e,combineWith:i,displacedBy:t.displacedBy});return vr(a,o)};const M5=(e,t)=>t.margin[e.start]+t.borderBox[e.size]/2,RX=(e,t)=>t.margin[e.end]+t.borderBox[e.size]/2,R2=(e,t,n)=>t[e.crossAxisStart]+n.margin[e.crossAxisStart]+n.borderBox[e.crossAxisSize]/2,kM=({axis:e,moveRelativeTo:t,isMoving:n})=>su(e.line,t.marginBox[e.end]+M5(e,n),R2(e,t.marginBox,n)),EM=({axis:e,moveRelativeTo:t,isMoving:n})=>su(e.line,t.marginBox[e.start]-RX(e,n),R2(e,t.marginBox,n)),LX=({axis:e,moveInto:t,isMoving:n})=>su(e.line,t.contentBox[e.start]+M5(e,n),R2(e,t.contentBox,n));var IX=({impact:e,draggable:t,draggables:n,droppable:r,afterCritical:i})=>{const a=df(r.descriptor.id,n),o=t.page,l=r.axis;if(!a.length)return LX({axis:l,moveInto:r.page,isMoving:o});const{displaced:u,displacedBy:d}=e,h=u.all[0];if(h){const b=n[h];if(Dl(h,i))return EM({axis:l,moveRelativeTo:b.page,isMoving:o});const x=qb(b.page,d.point);return EM({axis:l,moveRelativeTo:x,isMoving:o})}const p=a[a.length-1];if(p.descriptor.id===t.descriptor.id)return o.borderBox.center;if(Dl(p.descriptor.id,i)){const b=qb(p.page,uf(i.displacedBy.point));return kM({axis:l,moveRelativeTo:b,isMoving:o})}return kM({axis:l,moveRelativeTo:p.page,isMoving:o})},jk=(e,t)=>{const n=e.frame;return n?vr(t,n.scroll.diff.displacement):t};const $X=({impact:e,draggable:t,droppable:n,draggables:r,afterCritical:i})=>{const a=t.page.borderBox.center,o=e.at;return!n||!o?a:o.type==="REORDER"?IX({impact:e,draggable:t,draggables:r,droppable:n,afterCritical:i}):PX({impact:e,draggables:r,afterCritical:i})};var yv=e=>{const t=$X(e),n=e.droppable;return n?jk(n,t):t},D5=(e,t)=>{const n=Ri(t,e.scroll.initial),r=uf(n);return{frame:za({top:t.y,bottom:t.y+e.frame.height,left:t.x,right:t.x+e.frame.width}),scroll:{initial:e.scroll.initial,max:e.scroll.max,current:t,diff:{value:n,displacement:r}}}};function AM(e,t){return e.map(n=>t[n])}function BX(e,t){for(let n=0;n<t.length;n++){const r=t[n].visible[e];if(r)return r}return null}var zX=({impact:e,viewport:t,destination:n,draggables:r,maxScrollChange:i})=>{const a=D5(t,vr(t.scroll.current,i)),o=n.frame?C2(n,vr(n.frame.scroll.current,i)):n,l=e.displaced,u=jm({afterDragging:AM(l.all,r),destination:n,displacedBy:e.displacedBy,viewport:a.frame,last:l,forceShouldAnimate:!1}),d=jm({afterDragging:AM(l.all,r),destination:o,displacedBy:e.displacedBy,viewport:t.frame,last:l,forceShouldAnimate:!1}),h={},p={},b=[l,u,d];return l.all.forEach(k=>{const S=BX(k,b);if(S){p[k]=S;return}h[k]=!0}),{...e,displaced:{all:l.all,invisible:h,visible:p}}},UX=(e,t)=>vr(e.scroll.diff.displacement,t),L2=({pageBorderBoxCenter:e,draggable:t,viewport:n})=>{const r=UX(n,e),i=Ri(r,t.page.borderBox.center);return vr(t.client.borderBox.center,i)},P5=({draggable:e,destination:t,newPageBorderBoxCenter:n,viewport:r,withDroppableDisplacement:i,onlyOnMainAxis:a=!1})=>{const o=Ri(n,e.page.borderBox.center),u={target:op(e.page.borderBox,o),destination:t,withDroppableDisplacement:i,viewport:r};return a?AX(u):C5(u)},FX=({isMovingForward:e,draggable:t,destination:n,draggables:r,previousImpact:i,viewport:a,previousPageBorderBoxCenter:o,previousClientSelection:l,afterCritical:u})=>{if(!n.isEnabled)return null;const d=df(n.descriptor.id,r),h=ff(t,n),p=yX({isMovingForward:e,draggable:t,destination:n,insideDestination:d,previousImpact:i})||MX({isMovingForward:e,isInHomeList:h,draggable:t,draggables:r,destination:n,insideDestination:d,previousImpact:i,viewport:a,afterCritical:u});if(!p)return null;const b=yv({impact:p,draggable:t,droppable:n,draggables:r,afterCritical:u});if(P5({draggable:t,destination:n,newPageBorderBoxCenter:b,viewport:a.frame,withDroppableDisplacement:!1,onlyOnMainAxis:!0}))return{clientSelection:L2({pageBorderBoxCenter:b,draggable:t,viewport:a}),impact:p,scrollJumpRequest:null};const k=Ri(b,o),S=zX({impact:p,viewport:a,destination:n,draggables:r,maxScrollChange:k});return{clientSelection:l,impact:S,scrollJumpRequest:k}};const Ir=e=>{const t=e.subject.active;return t||Pe(),t};var HX=({isMovingForward:e,pageBorderBoxCenter:t,source:n,droppables:r,viewport:i})=>{const a=n.subject.active;if(!a)return null;const o=n.axis,l=fa(a[o.start],a[o.end]),u=pv(r).filter(h=>h!==n).filter(h=>h.isEnabled).filter(h=>!!h.subject.active).filter(h=>O5(i.frame)(Ir(h))).filter(h=>{const p=Ir(h);return e?a[o.crossAxisEnd]<p[o.crossAxisEnd]:p[o.crossAxisStart]<a[o.crossAxisStart]}).filter(h=>{const p=Ir(h),b=fa(p[o.start],p[o.end]);return l(p[o.start])||l(p[o.end])||b(a[o.start])||b(a[o.end])}).sort((h,p)=>{const b=Ir(h)[o.crossAxisStart],x=Ir(p)[o.crossAxisStart];return e?b-x:x-b}).filter((h,p,b)=>Ir(h)[o.crossAxisStart]===Ir(b[0])[o.crossAxisStart]);if(!u.length)return null;if(u.length===1)return u[0];const d=u.filter(h=>fa(Ir(h)[o.start],Ir(h)[o.end])(t[o.line]));return d.length===1?d[0]:d.length>1?d.sort((h,p)=>Ir(h)[o.start]-Ir(p)[o.start])[0]:u.sort((h,p)=>{const b=_M(t,wM(Ir(h))),x=_M(t,wM(Ir(p)));return b!==x?b-x:Ir(h)[o.start]-Ir(p)[o.start]})[0]};const TM=(e,t)=>{const n=e.page.borderBox.center;return Dl(e.descriptor.id,t)?Ri(n,t.displacedBy.point):n},GX=(e,t)=>{const n=e.page.borderBox;return Dl(e.descriptor.id,t)?op(n,uf(t.displacedBy.point)):n};var qX=({pageBorderBoxCenter:e,viewport:t,destination:n,insideDestination:r,afterCritical:i})=>r.filter(o=>C5({target:GX(o,i),destination:n,viewport:t.frame,withDroppableDisplacement:!0})).sort((o,l)=>{const u=Am(e,jk(n,TM(o,i))),d=Am(e,jk(n,TM(l,i)));return u<d?-1:d<u?1:o.descriptor.index-l.descriptor.index})[0]||null,sp=lr(function(t,n){const r=n[t.line];return{value:r,point:su(t.line,r)}});const YX=(e,t,n)=>{const r=e.axis;if(e.descriptor.mode==="virtual")return su(r.line,t[r.line]);const i=e.subject.page.contentBox[r.size],u=df(e.descriptor.id,n).reduce((d,h)=>d+h.client.marginBox[r.size],0)+t[r.line]-i;return u<=0?null:su(r.line,u)},R5=(e,t)=>({...e,scroll:{...e.scroll,max:t}}),L5=(e,t,n)=>{const r=e.frame;ff(t,e)&&Pe(),e.subject.withPlaceholder&&Pe();const i=sp(e.axis,t.displaceBy).point,a=YX(e,i,n),o={placeholderSize:i,increasedBy:a,oldFrameMaxScroll:e.frame?e.frame.scroll.max:null};if(!r){const h=Gd({page:e.subject.page,withPlaceholder:o,axis:e.axis,frame:e.frame});return{...e,subject:h}}const l=a?vr(r.scroll.max,a):r.scroll.max,u=R5(r,l),d=Gd({page:e.subject.page,withPlaceholder:o,axis:e.axis,frame:u});return{...e,subject:d,frame:u}},KX=e=>{const t=e.subject.withPlaceholder;t||Pe();const n=e.frame;if(!n){const o=Gd({page:e.subject.page,axis:e.axis,frame:null,withPlaceholder:null});return{...e,subject:o}}const r=t.oldFrameMaxScroll;r||Pe();const i=R5(n,r),a=Gd({page:e.subject.page,axis:e.axis,frame:i,withPlaceholder:null});return{...e,subject:a,frame:i}};var WX=({previousPageBorderBoxCenter:e,moveRelativeTo:t,insideDestination:n,draggable:r,draggables:i,destination:a,viewport:o,afterCritical:l})=>{if(!t){if(n.length)return null;const p={displaced:Tm,displacedBy:j5,at:{type:"REORDER",destination:{droppableId:a.descriptor.id,index:0}}},b=yv({impact:p,draggable:r,droppable:a,draggables:i,afterCritical:l}),x=ff(r,a)?a:L5(a,r,i);return P5({draggable:r,destination:x,newPageBorderBoxCenter:b,viewport:o.frame,withDroppableDisplacement:!1,onlyOnMainAxis:!0})?p:null}const u=e[a.axis.line]<=t.page.borderBox.center[a.axis.line],d=(()=>{const p=t.descriptor.index;return t.descriptor.id===r.descriptor.id||u?p:p+1})(),h=sp(a.axis,r.displaceBy);return Zb({draggable:r,insideDestination:n,destination:a,viewport:o,displacedBy:h,last:Tm,index:d})},VX=({isMovingForward:e,previousPageBorderBoxCenter:t,draggable:n,isOver:r,draggables:i,droppables:a,viewport:o,afterCritical:l})=>{const u=HX({isMovingForward:e,pageBorderBoxCenter:t,source:r,droppables:a,viewport:o});if(!u)return null;const d=df(u.descriptor.id,i),h=qX({pageBorderBoxCenter:t,viewport:o,destination:u,insideDestination:d,afterCritical:l}),p=WX({previousPageBorderBoxCenter:t,destination:u,draggable:n,draggables:i,moveRelativeTo:h,insideDestination:d,viewport:o,afterCritical:l});if(!p)return null;const b=yv({impact:p,draggable:n,droppable:u,draggables:i,afterCritical:l});return{clientSelection:L2({pageBorderBoxCenter:b,draggable:n,viewport:o}),impact:p,scrollJumpRequest:null}},Ii=e=>{const t=e.at;return t?t.type==="REORDER"?t.destination.droppableId:t.combine.droppableId:null};const ZX=(e,t)=>{const n=Ii(e);return n?t[n]:null};var XX=({state:e,type:t})=>{const n=ZX(e.impact,e.dimensions.droppables),r=!!n,i=e.dimensions.droppables[e.critical.droppable.id],a=n||i,o=a.axis.direction,l=o==="vertical"&&(t==="MOVE_UP"||t==="MOVE_DOWN")||o==="horizontal"&&(t==="MOVE_LEFT"||t==="MOVE_RIGHT");if(l&&!r)return null;const u=t==="MOVE_DOWN"||t==="MOVE_RIGHT",d=e.dimensions.draggables[e.critical.draggable.id],h=e.current.page.borderBoxCenter,{draggables:p,droppables:b}=e.dimensions;return l?FX({isMovingForward:u,previousPageBorderBoxCenter:h,draggable:d,destination:a,draggables:p,viewport:e.viewport,previousClientSelection:e.current.client.selection,previousImpact:e.impact,afterCritical:e.afterCritical}):VX({isMovingForward:u,previousPageBorderBoxCenter:h,draggable:d,isOver:a,draggables:p,droppables:b,viewport:e.viewport,afterCritical:e.afterCritical})};function Fc(e){return e.phase==="DRAGGING"||e.phase==="COLLECTING"}function I5(e){const t=fa(e.top,e.bottom),n=fa(e.left,e.right);return function(i){return t(i.y)&&n(i.x)}}function JX(e,t){return e.left<t.right&&e.right>t.left&&e.top<t.bottom&&e.bottom>t.top}function QX({pageBorderBox:e,draggable:t,candidates:n}){const r=t.page.borderBox.center,i=n.map(a=>{const o=a.axis,l=su(a.axis.line,e.center[o.line],a.page.borderBox.center[o.crossAxisLine]);return{id:a.descriptor.id,distance:Am(r,l)}}).sort((a,o)=>o.distance-a.distance);return i[0]?i[0].id:null}function eJ({pageBorderBox:e,draggable:t,droppables:n}){const r=pv(n).filter(i=>{if(!i.isEnabled)return!1;const a=i.subject.active;if(!a||!JX(e,a))return!1;if(I5(a)(e.center))return!0;const o=i.axis,l=a.center[o.crossAxisLine],u=e[o.crossAxisStart],d=e[o.crossAxisEnd],h=fa(a[o.crossAxisStart],a[o.crossAxisEnd]),p=h(u),b=h(d);return!p&&!b?!0:p?u<l:d>l});return r.length?r.length===1?r[0].descriptor.id:QX({pageBorderBox:e,draggable:t,candidates:r}):null}const $5=(e,t)=>za(op(e,t));var tJ=(e,t)=>{const n=e.frame;return n?$5(t,n.scroll.diff.value):t};function B5({displaced:e,id:t}){return!!(e.visible[t]||e.invisible[t])}function nJ({draggable:e,closest:t,inHomeList:n}){return t?n&&t.descriptor.index>e.descriptor.index?t.descriptor.index-1:t.descriptor.index:null}var rJ=({pageBorderBoxWithDroppableScroll:e,draggable:t,destination:n,insideDestination:r,last:i,viewport:a,afterCritical:o})=>{const l=n.axis,u=sp(n.axis,t.displaceBy),d=u.value,h=e[l.start],p=e[l.end],x=bv(t,r).find(S=>{const _=S.descriptor.id,T=S.page.borderBox.center[l.line],N=Dl(_,o),j=B5({displaced:i,id:_});return N?j?p<=T:h<T-d:j?p<=T+d:h<T})||null,k=nJ({draggable:t,closest:x,inHomeList:ff(t,n)});return Zb({draggable:t,insideDestination:r,destination:n,viewport:a,last:i,displacedBy:u,index:k})};const iJ=4;var aJ=({draggable:e,pageBorderBoxWithDroppableScroll:t,previousImpact:n,destination:r,insideDestination:i,afterCritical:a})=>{if(!r.isCombineEnabled)return null;const o=r.axis,l=sp(r.axis,e.displaceBy),u=l.value,d=t[o.start],h=t[o.end],b=bv(e,i).find(k=>{const S=k.descriptor.id,_=k.page.borderBox,N=_[o.size]/iJ,j=Dl(S,a),C=B5({displaced:n.displaced,id:S});return j?C?h>_[o.start]+N&&h<_[o.end]-N:d>_[o.start]-u+N&&d<_[o.end]-u-N:C?h>_[o.start]+u+N&&h<_[o.end]+u-N:d>_[o.start]+N&&d<_[o.end]-N});return b?{displacedBy:l,displaced:n.displaced,at:{type:"COMBINE",combine:{draggableId:b.descriptor.id,droppableId:r.descriptor.id}}}:null},z5=({pageOffset:e,draggable:t,draggables:n,droppables:r,previousImpact:i,viewport:a,afterCritical:o})=>{const l=$5(t.page.borderBox,e),u=eJ({pageBorderBox:l,draggable:t,droppables:r});if(!u)return vX;const d=r[u],h=df(d.descriptor.id,n),p=tJ(d,l);return aJ({pageBorderBoxWithDroppableScroll:p,draggable:t,previousImpact:i,destination:d,insideDestination:h,afterCritical:o})||rJ({pageBorderBoxWithDroppableScroll:p,draggable:t,destination:d,insideDestination:h,last:i.displaced,viewport:a,afterCritical:o})},I2=(e,t)=>({...e,[t.descriptor.id]:t});const oJ=({previousImpact:e,impact:t,droppables:n})=>{const r=Ii(e),i=Ii(t);if(!r||r===i)return n;const a=n[r];if(!a.subject.withPlaceholder)return n;const o=KX(a);return I2(n,o)};var sJ=({draggable:e,draggables:t,droppables:n,previousImpact:r,impact:i})=>{const a=oJ({previousImpact:r,impact:i,droppables:n}),o=Ii(i);if(!o)return a;const l=n[o];if(ff(e,l)||l.subject.withPlaceholder)return a;const u=L5(l,e,t);return I2(a,u)},hm=({state:e,clientSelection:t,dimensions:n,viewport:r,impact:i,scrollJumpRequest:a})=>{const o=r||e.viewport,l=n||e.dimensions,u=t||e.current.client.selection,d=Ri(u,e.initial.client.selection),h={offset:d,selection:u,borderBoxCenter:vr(e.initial.client.borderBoxCenter,d)},p={selection:vr(h.selection,o.scroll.current),borderBoxCenter:vr(h.borderBoxCenter,o.scroll.current),offset:vr(h.offset,o.scroll.diff.value)},b={client:h,page:p};if(e.phase==="COLLECTING")return{...e,dimensions:l,viewport:o,current:b};const x=l.draggables[e.critical.draggable.id],k=i||z5({pageOffset:p.offset,draggable:x,draggables:l.draggables,droppables:l.droppables,previousImpact:e.impact,viewport:o,afterCritical:e.afterCritical}),S=sJ({draggable:x,impact:k,previousImpact:e.impact,draggables:l.draggables,droppables:l.droppables});return{...e,current:b,dimensions:{draggables:l.draggables,droppables:S},impact:k,viewport:o,scrollJumpRequest:a||null,forceShouldAnimate:a?!1:null}};function lJ(e,t){return e.map(n=>t[n])}var U5=({impact:e,viewport:t,draggables:n,destination:r,forceShouldAnimate:i})=>{const a=e.displaced,o=lJ(a.all,n),l=jm({afterDragging:o,destination:r,displacedBy:e.displacedBy,viewport:t.frame,forceShouldAnimate:i,last:a});return{...e,displaced:l}},F5=({impact:e,draggable:t,droppable:n,draggables:r,viewport:i,afterCritical:a})=>{const o=yv({impact:e,draggable:t,draggables:r,droppable:n,afterCritical:a});return L2({pageBorderBoxCenter:o,draggable:t,viewport:i})},H5=({state:e,dimensions:t,viewport:n})=>{e.movementMode!=="SNAP"&&Pe();const r=e.impact,i=n||e.viewport,a=t||e.dimensions,{draggables:o,droppables:l}=a,u=o[e.critical.draggable.id],d=Ii(r);d||Pe();const h=l[d],p=U5({impact:r,viewport:i,destination:h,draggables:o}),b=F5({impact:p,draggable:u,droppable:h,draggables:o,viewport:i,afterCritical:e.afterCritical});return hm({impact:p,clientSelection:b,state:e,dimensions:a,viewport:i})},cJ=e=>({index:e.index,droppableId:e.droppableId}),G5=({draggable:e,home:t,draggables:n,viewport:r})=>{const i=sp(t.axis,e.displaceBy),a=df(t.descriptor.id,n),o=a.indexOf(e);o===-1&&Pe();const l=a.slice(o+1),u=l.reduce((b,x)=>(b[x.descriptor.id]=!0,b),{}),d={inVirtualList:t.descriptor.mode==="virtual",displacedBy:i,effected:u};return{impact:{displaced:jm({afterDragging:l,destination:t,displacedBy:i,last:null,viewport:r.frame,forceShouldAnimate:!1}),displacedBy:i,at:{type:"REORDER",destination:cJ(e.descriptor)}},afterCritical:d}},uJ=(e,t)=>({draggables:e.draggables,droppables:I2(e.droppables,t)}),dJ=({draggable:e,offset:t,initialWindowScroll:n})=>{const r=qb(e.client,t),i=Yb(r,n);return{...e,placeholder:{...e.placeholder,client:r},client:r,page:i}},fJ=e=>{const t=e.frame;return t||Pe(),t},hJ=({additions:e,updatedDroppables:t,viewport:n})=>{const r=n.scroll.diff.value;return e.map(i=>{const a=i.descriptor.droppableId,o=t[a],u=fJ(o).scroll.diff.value,d=vr(r,u);return dJ({draggable:i,offset:d,initialWindowScroll:n.scroll.initial})})},mJ=({state:e,published:t})=>{const n=t.modified.map(T=>{const N=e.dimensions.droppables[T.droppableId];return C2(N,T.scroll)}),r={...e.dimensions.droppables,...A5(n)},i=T5(hJ({additions:t.additions,updatedDroppables:r,viewport:e.viewport})),a={...e.dimensions.draggables,...i};t.removals.forEach(T=>{delete a[T]});const o={droppables:r,draggables:a},l=Ii(e.impact),u=l?o.droppables[l]:null,d=o.draggables[e.critical.draggable.id],h=o.droppables[e.critical.droppable.id],{impact:p,afterCritical:b}=G5({draggable:d,home:h,draggables:a,viewport:e.viewport}),x=u&&u.isCombineEnabled?e.impact:p,k=z5({pageOffset:e.current.page.offset,draggable:o.draggables[e.critical.draggable.id],draggables:o.draggables,droppables:o.droppables,previousImpact:x,viewport:e.viewport,afterCritical:b}),S={...e,phase:"DRAGGING",impact:k,onLiftImpact:p,dimensions:o,afterCritical:b,forceShouldAnimate:!1};return e.phase==="COLLECTING"?S:{...S,phase:"DROP_PENDING",reason:e.reason,isWaiting:!1}};const Ok=e=>e.movementMode==="SNAP",$w=(e,t,n)=>{const r=uJ(e.dimensions,t);return!Ok(e)||n?hm({state:e,dimensions:r}):H5({state:e,dimensions:r})};function Bw(e){return e.isDragging&&e.movementMode==="SNAP"?{...e,scrollJumpRequest:null}:e}const jM={phase:"IDLE",completed:null,shouldFlush:!1};var pJ=(e=jM,t)=>{if(t.type==="FLUSH")return{...jM,shouldFlush:!0};if(t.type==="INITIAL_PUBLISH"){e.phase!=="IDLE"&&Pe();const{critical:n,clientSelection:r,viewport:i,dimensions:a,movementMode:o}=t.payload,l=a.draggables[n.draggable.id],u=a.droppables[n.droppable.id],d={selection:r,borderBoxCenter:l.client.borderBox.center,offset:cr},h={client:d,page:{selection:vr(d.selection,i.scroll.initial),borderBoxCenter:vr(d.selection,i.scroll.initial),offset:vr(d.selection,i.scroll.diff.value)}},p=pv(a.droppables).every(S=>!S.isFixedOnPage),{impact:b,afterCritical:x}=G5({draggable:l,home:u,draggables:a.draggables,viewport:i});return{phase:"DRAGGING",isDragging:!0,critical:n,movementMode:o,dimensions:a,initial:h,current:h,isWindowScrollAllowed:p,impact:b,afterCritical:x,onLiftImpact:b,viewport:i,scrollJumpRequest:null,forceShouldAnimate:null}}if(t.type==="COLLECTION_STARTING")return e.phase==="COLLECTING"||e.phase==="DROP_PENDING"?e:(e.phase!=="DRAGGING"&&Pe(),{...e,phase:"COLLECTING"});if(t.type==="PUBLISH_WHILE_DRAGGING")return e.phase==="COLLECTING"||e.phase==="DROP_PENDING"||Pe(),mJ({state:e,published:t.payload});if(t.type==="MOVE"){if(e.phase==="DROP_PENDING")return e;Fc(e)||Pe();const{client:n}=t.payload;return Nl(n,e.current.client.selection)?e:hm({state:e,clientSelection:n,impact:Ok(e)?e.impact:null})}if(t.type==="UPDATE_DROPPABLE_SCROLL"){if(e.phase==="DROP_PENDING"||e.phase==="COLLECTING")return Bw(e);Fc(e)||Pe();const{id:n,newScroll:r}=t.payload,i=e.dimensions.droppables[n];if(!i)return e;const a=C2(i,r);return $w(e,a,!1)}if(t.type==="UPDATE_DROPPABLE_IS_ENABLED"){if(e.phase==="DROP_PENDING")return e;Fc(e)||Pe();const{id:n,isEnabled:r}=t.payload,i=e.dimensions.droppables[n];i||Pe(),i.isEnabled===r&&Pe();const a={...i,isEnabled:r};return $w(e,a,!0)}if(t.type==="UPDATE_DROPPABLE_IS_COMBINE_ENABLED"){if(e.phase==="DROP_PENDING")return e;Fc(e)||Pe();const{id:n,isCombineEnabled:r}=t.payload,i=e.dimensions.droppables[n];i||Pe(),i.isCombineEnabled===r&&Pe();const a={...i,isCombineEnabled:r};return $w(e,a,!0)}if(t.type==="MOVE_BY_WINDOW_SCROLL"){if(e.phase==="DROP_PENDING"||e.phase==="DROP_ANIMATING")return e;Fc(e)||Pe(),e.isWindowScrollAllowed||Pe();const n=t.payload.newScroll;if(Nl(e.viewport.scroll.current,n))return Bw(e);const r=D5(e.viewport,n);return Ok(e)?H5({state:e,viewport:r}):hm({state:e,viewport:r})}if(t.type==="UPDATE_VIEWPORT_MAX_SCROLL"){if(!Fc(e))return e;const n=t.payload.maxScroll;if(Nl(n,e.viewport.scroll.max))return e;const r={...e.viewport,scroll:{...e.viewport.scroll,max:n}};return{...e,viewport:r}}if(t.type==="MOVE_UP"||t.type==="MOVE_DOWN"||t.type==="MOVE_LEFT"||t.type==="MOVE_RIGHT"){if(e.phase==="COLLECTING"||e.phase==="DROP_PENDING")return e;e.phase!=="DRAGGING"&&Pe();const n=XX({state:e,type:t.type});return n?hm({state:e,impact:n.impact,clientSelection:n.clientSelection,scrollJumpRequest:n.scrollJumpRequest}):e}if(t.type==="DROP_PENDING"){const n=t.payload.reason;return e.phase!=="COLLECTING"&&Pe(),{...e,phase:"DROP_PENDING",isWaiting:!0,reason:n}}if(t.type==="DROP_ANIMATE"){const{completed:n,dropDuration:r,newHomeClientOffset:i}=t.payload;return e.phase==="DRAGGING"||e.phase==="DROP_PENDING"||Pe(),{phase:"DROP_ANIMATING",completed:n,dropDuration:r,newHomeClientOffset:i,dimensions:e.dimensions}}if(t.type==="DROP_COMPLETE"){const{completed:n}=t.payload;return{phase:"IDLE",completed:n,shouldFlush:!1}}return e};function Mt(e,t){return e instanceof Object&&"type"in e&&e.type===t}const gJ=e=>({type:"BEFORE_INITIAL_CAPTURE",payload:e}),bJ=e=>({type:"LIFT",payload:e}),yJ=e=>({type:"INITIAL_PUBLISH",payload:e}),vJ=e=>({type:"PUBLISH_WHILE_DRAGGING",payload:e}),xJ=()=>({type:"COLLECTION_STARTING",payload:null}),_J=e=>({type:"UPDATE_DROPPABLE_SCROLL",payload:e}),wJ=e=>({type:"UPDATE_DROPPABLE_IS_ENABLED",payload:e}),SJ=e=>({type:"UPDATE_DROPPABLE_IS_COMBINE_ENABLED",payload:e}),q5=e=>({type:"MOVE",payload:e}),kJ=e=>({type:"MOVE_BY_WINDOW_SCROLL",payload:e}),EJ=e=>({type:"UPDATE_VIEWPORT_MAX_SCROLL",payload:e}),AJ=()=>({type:"MOVE_UP",payload:null}),TJ=()=>({type:"MOVE_DOWN",payload:null}),jJ=()=>({type:"MOVE_RIGHT",payload:null}),OJ=()=>({type:"MOVE_LEFT",payload:null}),$2=()=>({type:"FLUSH",payload:null}),NJ=e=>({type:"DROP_ANIMATE",payload:e}),B2=e=>({type:"DROP_COMPLETE",payload:e}),Y5=e=>({type:"DROP",payload:e}),CJ=e=>({type:"DROP_PENDING",payload:e}),K5=()=>({type:"DROP_ANIMATION_FINISHED",payload:null});var MJ=e=>({getState:t,dispatch:n})=>r=>i=>{if(!Mt(i,"LIFT")){r(i);return}const{id:a,clientSelection:o,movementMode:l}=i.payload,u=t();u.phase==="DROP_ANIMATING"&&n(B2({completed:u.completed})),t().phase!=="IDLE"&&Pe(),n($2()),n(gJ({draggableId:a,movementMode:l}));const h={draggableId:a,scrollOptions:{shouldPublishImmediately:l==="SNAP"}},{critical:p,dimensions:b,viewport:x}=e.startPublishing(h);n(yJ({critical:p,dimensions:b,clientSelection:o,movementMode:l,viewport:x}))},DJ=e=>()=>t=>n=>{Mt(n,"INITIAL_PUBLISH")&&e.dragging(),Mt(n,"DROP_ANIMATE")&&e.dropping(n.payload.completed.result.reason),(Mt(n,"FLUSH")||Mt(n,"DROP_COMPLETE"))&&e.resting(),t(n)};const z2={outOfTheWay:"cubic-bezier(0.2, 0, 0, 1)",drop:"cubic-bezier(.2,1,.1,1)"},Om={opacity:{drop:0,combining:.7},scale:{drop:.75}},W5={outOfTheWay:.2,minDropTime:.33,maxDropTime:.55},Mc=`${W5.outOfTheWay}s ${z2.outOfTheWay}`,mm={fluid:`opacity ${Mc}`,snap:`transform ${Mc}, opacity ${Mc}`,drop:e=>{const t=`${e}s ${z2.drop}`;return`transform ${t}, opacity ${t}`},outOfTheWay:`transform ${Mc}`,placeholder:`height ${Mc}, width ${Mc}, margin ${Mc}`},OM=e=>Nl(e,cr)?void 0:`translate(${e.x}px, ${e.y}px)`,Nk={moveTo:OM,drop:(e,t)=>{const n=OM(e);if(n)return t?`${n} scale(${Om.scale.drop})`:n}},{minDropTime:Ck,maxDropTime:V5}=W5,PJ=V5-Ck,NM=1500,RJ=.6;var LJ=({current:e,destination:t,reason:n})=>{const r=Am(e,t);if(r<=0)return Ck;if(r>=NM)return V5;const i=r/NM,a=Ck+PJ*i,o=n==="CANCEL"?a*RJ:a;return Number(o.toFixed(2))},IJ=({impact:e,draggable:t,dimensions:n,viewport:r,afterCritical:i})=>{const{draggables:a,droppables:o}=n,l=Ii(e),u=l?o[l]:null,d=o[t.descriptor.droppableId],h=F5({impact:e,draggable:t,draggables:a,afterCritical:i,droppable:u||d,viewport:r});return Ri(h,t.client.borderBox.center)},$J=({draggables:e,reason:t,lastImpact:n,home:r,viewport:i,onLiftImpact:a})=>!n.at||t!=="DROP"?{impact:U5({draggables:e,impact:a,destination:r,viewport:i,forceShouldAnimate:!0}),didDropInsideDroppable:!1}:n.at.type==="REORDER"?{impact:n,didDropInsideDroppable:!0}:{impact:{...n,displaced:Tm},didDropInsideDroppable:!0};const BJ=({getState:e,dispatch:t})=>n=>r=>{if(!Mt(r,"DROP")){n(r);return}const i=e(),a=r.payload.reason;if(i.phase==="COLLECTING"){t(CJ({reason:a}));return}if(i.phase==="IDLE")return;i.phase==="DROP_PENDING"&&i.isWaiting&&Pe(),i.phase==="DRAGGING"||i.phase==="DROP_PENDING"||Pe();const l=i.critical,u=i.dimensions,d=u.draggables[i.critical.draggable.id],{impact:h,didDropInsideDroppable:p}=$J({reason:a,lastImpact:i.impact,afterCritical:i.afterCritical,onLiftImpact:i.onLiftImpact,home:i.dimensions.droppables[i.critical.droppable.id],viewport:i.viewport,draggables:i.dimensions.draggables}),b=p?M2(h):null,x=p?gv(h):null,k={index:l.draggable.index,droppableId:l.droppable.id},S={draggableId:d.descriptor.id,type:d.descriptor.type,source:k,reason:a,mode:i.movementMode,destination:b,combine:x},_=IJ({impact:h,draggable:d,dimensions:u,viewport:i.viewport,afterCritical:i.afterCritical}),T={critical:i.critical,afterCritical:i.afterCritical,result:S,impact:h};if(!(!Nl(i.current.client.offset,_)||!!S.combine)){t(B2({completed:T}));return}const j=LJ({current:i.current.client.offset,destination:_,reason:a});t(NJ({newHomeClientOffset:_,dropDuration:j,completed:T}))};var Z5=()=>({x:window.pageXOffset,y:window.pageYOffset});function zJ(e){return{eventName:"scroll",options:{passive:!0,capture:!1},fn:t=>{t.target!==window&&t.target!==window.document||e()}}}function UJ({onWindowScroll:e}){function t(){e(Z5())}const n=Em(t),r=zJ(n);let i=Ol;function a(){return i!==Ol}function o(){a()&&Pe(),i=sa(window,[r])}function l(){a()||Pe(),n.cancel(),i(),i=Ol}return{start:o,stop:l,isActive:a}}const FJ=e=>Mt(e,"DROP_COMPLETE")||Mt(e,"DROP_ANIMATE")||Mt(e,"FLUSH"),HJ=e=>{const t=UJ({onWindowScroll:n=>{e.dispatch(kJ({newScroll:n}))}});return n=>r=>{!t.isActive()&&Mt(r,"INITIAL_PUBLISH")&&t.start(),t.isActive()&&FJ(r)&&t.stop(),n(r)}};var GJ=e=>{let t=!1,n=!1;const r=setTimeout(()=>{n=!0}),i=a=>{t||n||(t=!0,e(a),clearTimeout(r))};return i.wasCalled=()=>t,i},qJ=()=>{const e=[],t=i=>{const a=e.findIndex(l=>l.timerId===i);a===-1&&Pe();const[o]=e.splice(a,1);o.callback()};return{add:i=>{const a=setTimeout(()=>t(a)),o={timerId:a,callback:i};e.push(o)},flush:()=>{if(!e.length)return;const i=[...e];e.length=0,i.forEach(a=>{clearTimeout(a.timerId),a.callback()})}}};const YJ=(e,t)=>e==null&&t==null?!0:e==null||t==null?!1:e.droppableId===t.droppableId&&e.index===t.index,KJ=(e,t)=>e==null&&t==null?!0:e==null||t==null?!1:e.draggableId===t.draggableId&&e.droppableId===t.droppableId,WJ=(e,t)=>{if(e===t)return!0;const n=e.draggable.id===t.draggable.id&&e.draggable.droppableId===t.draggable.droppableId&&e.draggable.type===t.draggable.type&&e.draggable.index===t.draggable.index,r=e.droppable.id===t.droppable.id&&e.droppable.type===t.droppable.type;return n&&r},Dh=(e,t)=>{t()},_0=(e,t)=>({draggableId:e.draggable.id,type:e.droppable.type,source:{droppableId:e.droppable.id,index:e.draggable.index},mode:t});function zw(e,t,n,r){if(!e){n(r(t));return}const i=GJ(n);e(t,{announce:i}),i.wasCalled()||n(r(t))}var VJ=(e,t)=>{const n=qJ();let r=null;const i=(p,b)=>{r&&Pe(),Dh("onBeforeCapture",()=>{const x=e().onBeforeCapture;x&&x({draggableId:p,mode:b})})},a=(p,b)=>{r&&Pe(),Dh("onBeforeDragStart",()=>{const x=e().onBeforeDragStart;x&&x(_0(p,b))})},o=(p,b)=>{r&&Pe();const x=_0(p,b);r={mode:b,lastCritical:p,lastLocation:x.source,lastCombine:null},n.add(()=>{Dh("onDragStart",()=>zw(e().onDragStart,x,t,_b.onDragStart))})},l=(p,b)=>{const x=M2(b),k=gv(b);r||Pe();const S=!WJ(p,r.lastCritical);S&&(r.lastCritical=p);const _=!YJ(r.lastLocation,x);_&&(r.lastLocation=x);const T=!KJ(r.lastCombine,k);if(T&&(r.lastCombine=k),!S&&!_&&!T)return;const N={..._0(p,r.mode),combine:k,destination:x};n.add(()=>{Dh("onDragUpdate",()=>zw(e().onDragUpdate,N,t,_b.onDragUpdate))})},u=()=>{r||Pe(),n.flush()},d=p=>{r||Pe(),r=null,Dh("onDragEnd",()=>zw(e().onDragEnd,p,t,_b.onDragEnd))};return{beforeCapture:i,beforeStart:a,start:o,update:l,flush:u,drop:d,abort:()=>{if(!r)return;const p={..._0(r.lastCritical,r.mode),combine:null,destination:null,reason:"CANCEL"};d(p)}}},ZJ=(e,t)=>{const n=VJ(e,t);return r=>i=>a=>{if(Mt(a,"BEFORE_INITIAL_CAPTURE")){n.beforeCapture(a.payload.draggableId,a.payload.movementMode);return}if(Mt(a,"INITIAL_PUBLISH")){const l=a.payload.critical;n.beforeStart(l,a.payload.movementMode),i(a),n.start(l,a.payload.movementMode);return}if(Mt(a,"DROP_COMPLETE")){const l=a.payload.completed.result;n.flush(),i(a),n.drop(l);return}if(i(a),Mt(a,"FLUSH")){n.abort();return}const o=r.getState();o.phase==="DRAGGING"&&n.update(o.critical,o.impact)}};const XJ=e=>t=>n=>{if(!Mt(n,"DROP_ANIMATION_FINISHED")){t(n);return}const r=e.getState();r.phase!=="DROP_ANIMATING"&&Pe(),e.dispatch(B2({completed:r.completed}))},JJ=e=>{let t=null,n=null;function r(){n&&(cancelAnimationFrame(n),n=null),t&&(t(),t=null)}return i=>a=>{if((Mt(a,"FLUSH")||Mt(a,"DROP_COMPLETE")||Mt(a,"DROP_ANIMATION_FINISHED"))&&r(),i(a),!Mt(a,"DROP_ANIMATE"))return;const o={eventName:"scroll",options:{capture:!0,passive:!1,once:!0},fn:function(){e.getState().phase==="DROP_ANIMATING"&&e.dispatch(K5())}};n=requestAnimationFrame(()=>{n=null,t=sa(window,[o])})}};var QJ=e=>()=>t=>n=>{(Mt(n,"DROP_COMPLETE")||Mt(n,"FLUSH")||Mt(n,"DROP_ANIMATE"))&&e.stopPublishing(),t(n)},eQ=e=>{let t=!1;return()=>n=>r=>{if(Mt(r,"INITIAL_PUBLISH")){t=!0,e.tryRecordFocus(r.payload.critical.draggable.id),n(r),e.tryRestoreFocusRecorded();return}if(n(r),!!t){if(Mt(r,"FLUSH")){t=!1,e.tryRestoreFocusRecorded();return}if(Mt(r,"DROP_COMPLETE")){t=!1;const i=r.payload.completed.result;i.combine&&e.tryShiftRecord(i.draggableId,i.combine.draggableId),e.tryRestoreFocusRecorded()}}}};const tQ=e=>Mt(e,"DROP_COMPLETE")||Mt(e,"DROP_ANIMATE")||Mt(e,"FLUSH");var nQ=e=>t=>n=>r=>{if(tQ(r)){e.stop(),n(r);return}if(Mt(r,"INITIAL_PUBLISH")){n(r);const i=t.getState();i.phase!=="DRAGGING"&&Pe(),e.start(i);return}n(r),e.scroll(t.getState())};const rQ=e=>t=>n=>{if(t(n),!Mt(n,"PUBLISH_WHILE_DRAGGING"))return;const r=e.getState();r.phase==="DROP_PENDING"&&(r.isWaiting||e.dispatch(Y5({reason:r.reason})))},iQ=km;var aQ=({dimensionMarshal:e,focusMarshal:t,styleMarshal:n,getResponders:r,announce:i,autoScroller:a})=>A2(pJ,iQ(u5(DJ(n),QJ(e),MJ(e),BJ,XJ,JJ,rQ,nQ(a),HJ,eQ(t),ZJ(r,i))));const Uw=()=>({additions:{},removals:{},modified:{}});function oQ({registry:e,callbacks:t}){let n=Uw(),r=null;const i=()=>{r||(t.collectionStarting(),r=requestAnimationFrame(()=>{r=null;const{additions:u,removals:d,modified:h}=n,p=Object.keys(u).map(k=>e.draggable.getById(k).getDimension(cr)).sort((k,S)=>k.descriptor.index-S.descriptor.index),b=Object.keys(h).map(k=>{const _=e.droppable.getById(k).callbacks.getScrollWhileDragging();return{droppableId:k,scroll:_}}),x={additions:p,removals:Object.keys(d),modified:b};n=Uw(),t.publish(x)}))};return{add:u=>{const d=u.descriptor.id;n.additions[d]=u,n.modified[u.descriptor.droppableId]=!0,n.removals[d]&&delete n.removals[d],i()},remove:u=>{const d=u.descriptor;n.removals[d.id]=!0,n.modified[d.droppableId]=!0,n.additions[d.id]&&delete n.additions[d.id],i()},stop:()=>{r&&(cancelAnimationFrame(r),r=null,n=Uw())}}}var X5=({scrollHeight:e,scrollWidth:t,height:n,width:r})=>{const i=Ri({x:t,y:e},{x:r,y:n});return{x:Math.max(0,i.x),y:Math.max(0,i.y)}},J5=()=>{const e=document.documentElement;return e||Pe(),e},Q5=()=>{const e=J5();return X5({scrollHeight:e.scrollHeight,scrollWidth:e.scrollWidth,width:e.clientWidth,height:e.clientHeight})},sQ=()=>{const e=Z5(),t=Q5(),n=e.y,r=e.x,i=J5(),a=i.clientWidth,o=i.clientHeight,l=r+a,u=n+o;return{frame:za({top:n,left:r,right:l,bottom:u}),scroll:{initial:e,current:e,max:t,diff:{value:cr,displacement:cr}}}},lQ=({critical:e,scrollOptions:t,registry:n})=>{const r=sQ(),i=r.scroll.current,a=e.droppable,o=n.droppable.getAllByType(a.type).map(h=>h.callbacks.getDimensionAndWatchScroll(i,t)),l=n.draggable.getAllByType(e.draggable.type).map(h=>h.getDimension(i));return{dimensions:{draggables:T5(l),droppables:A5(o)},critical:e,viewport:r}};function CM(e,t,n){return!(n.descriptor.id===t.id||n.descriptor.type!==t.type||e.droppable.getById(n.descriptor.droppableId).descriptor.mode!=="virtual")}var cQ=(e,t)=>{let n=null;const r=oQ({callbacks:{publish:t.publishWhileDragging,collectionStarting:t.collectionStarting},registry:e}),i=(b,x)=>{e.droppable.exists(b)||Pe(),n&&t.updateDroppableIsEnabled({id:b,isEnabled:x})},a=(b,x)=>{n&&(e.droppable.exists(b)||Pe(),t.updateDroppableIsCombineEnabled({id:b,isCombineEnabled:x}))},o=(b,x)=>{n&&(e.droppable.exists(b)||Pe(),t.updateDroppableScroll({id:b,newScroll:x}))},l=(b,x)=>{n&&e.droppable.getById(b).callbacks.scroll(x)},u=()=>{if(!n)return;r.stop();const b=n.critical.droppable;e.droppable.getAllByType(b.type).forEach(x=>x.callbacks.dragStopped()),n.unsubscribe(),n=null},d=b=>{n||Pe();const x=n.critical.draggable;b.type==="ADDITION"&&CM(e,x,b.value)&&r.add(b.value),b.type==="REMOVAL"&&CM(e,x,b.value)&&r.remove(b.value)};return{updateDroppableIsEnabled:i,updateDroppableIsCombineEnabled:a,scrollDroppable:l,updateDroppableScroll:o,startPublishing:b=>{n&&Pe();const x=e.draggable.getById(b.draggableId),k=e.droppable.getById(x.descriptor.droppableId),S={draggable:x.descriptor,droppable:k.descriptor},_=e.subscribe(d);return n={critical:S,unsubscribe:_},lQ({critical:S,registry:e,scrollOptions:b.scrollOptions})},stopPublishing:u}},e4=(e,t)=>e.phase==="IDLE"?!0:e.phase!=="DROP_ANIMATING"||e.completed.result.draggableId===t?!1:e.completed.result.reason==="DROP",uQ=e=>{window.scrollBy(e.x,e.y)};const dQ=lr(e=>pv(e).filter(t=>!(!t.isEnabled||!t.frame))),fQ=(e,t)=>dQ(t).find(r=>(r.frame||Pe(),I5(r.frame.pageMarginBox)(e)))||null;var hQ=({center:e,destination:t,droppables:n})=>{if(t){const i=n[t];return i.frame?i:null}return fQ(e,n)};const Nm={startFromPercentage:.25,maxScrollAtPercentage:.05,maxPixelScroll:28,ease:e=>e**2,durationDampening:{stopDampeningAt:1200,accelerateAt:360},disabled:!1};var mQ=(e,t,n=()=>Nm)=>{const r=n(),i=e[t.size]*r.startFromPercentage,a=e[t.size]*r.maxScrollAtPercentage;return{startScrollingFrom:i,maxScrollValueAt:a}},t4=({startOfRange:e,endOfRange:t,current:n})=>{const r=t-e;return r===0?0:(n-e)/r},U2=1,pQ=(e,t,n=()=>Nm)=>{const r=n();if(e>t.startScrollingFrom)return 0;if(e<=t.maxScrollValueAt)return r.maxPixelScroll;if(e===t.startScrollingFrom)return U2;const a=1-t4({startOfRange:t.maxScrollValueAt,endOfRange:t.startScrollingFrom,current:e}),o=r.maxPixelScroll*r.ease(a);return Math.ceil(o)},gQ=(e,t,n)=>{const r=n(),i=r.durationDampening.accelerateAt,a=r.durationDampening.stopDampeningAt,o=t,l=a,d=Date.now()-o;if(d>=a)return e;if(d<i)return U2;const h=t4({startOfRange:i,endOfRange:l,current:d}),p=e*r.ease(h);return Math.ceil(p)},MM=({distanceToEdge:e,thresholds:t,dragStartTime:n,shouldUseTimeDampening:r,getAutoScrollerOptions:i})=>{const a=pQ(e,t,i);return a===0?0:r?Math.max(gQ(a,n,i),U2):a},DM=({container:e,distanceToEdges:t,dragStartTime:n,axis:r,shouldUseTimeDampening:i,getAutoScrollerOptions:a})=>{const o=mQ(e,r,a);return t[r.end]<t[r.start]?MM({distanceToEdge:t[r.end],thresholds:o,dragStartTime:n,shouldUseTimeDampening:i,getAutoScrollerOptions:a}):-1*MM({distanceToEdge:t[r.start],thresholds:o,dragStartTime:n,shouldUseTimeDampening:i,getAutoScrollerOptions:a})},bQ=({container:e,subject:t,proposedScroll:n})=>{const r=t.height>e.height,i=t.width>e.width;return!i&&!r?n:i&&r?null:{x:i?0:n.x,y:r?0:n.y}};const yQ=E5(e=>e===0?0:e);var n4=({dragStartTime:e,container:t,subject:n,center:r,shouldUseTimeDampening:i,getAutoScrollerOptions:a})=>{const o={top:r.y-t.top,right:t.right-r.x,bottom:t.bottom-r.y,left:r.x-t.left},l=DM({container:t,distanceToEdges:o,dragStartTime:e,axis:D2,shouldUseTimeDampening:i,getAutoScrollerOptions:a}),u=DM({container:t,distanceToEdges:o,dragStartTime:e,axis:N5,shouldUseTimeDampening:i,getAutoScrollerOptions:a}),d=yQ({x:u,y:l});if(Nl(d,cr))return null;const h=bQ({container:t,subject:n,proposedScroll:d});return h?Nl(h,cr)?null:h:null};const vQ=E5(e=>e===0?0:e>0?1:-1),F2=(()=>{const e=(t,n)=>t<0?t:t>n?t-n:0;return({current:t,max:n,change:r})=>{const i=vr(t,r),a={x:e(i.x,n.x),y:e(i.y,n.y)};return Nl(a,cr)?null:a}})(),r4=({max:e,current:t,change:n})=>{const r={x:Math.max(t.x,e.x),y:Math.max(t.y,e.y)},i=vQ(n),a=F2({max:r,current:t,change:i});return!a||i.x!==0&&a.x===0||i.y!==0&&a.y===0},H2=(e,t)=>r4({current:e.scroll.current,max:e.scroll.max,change:t}),xQ=(e,t)=>{if(!H2(e,t))return null;const n=e.scroll.max,r=e.scroll.current;return F2({current:r,max:n,change:t})},G2=(e,t)=>{const n=e.frame;return n?r4({current:n.scroll.current,max:n.scroll.max,change:t}):!1},_Q=(e,t)=>{const n=e.frame;return!n||!G2(e,t)?null:F2({current:n.scroll.current,max:n.scroll.max,change:t})};var wQ=({viewport:e,subject:t,center:n,dragStartTime:r,shouldUseTimeDampening:i,getAutoScrollerOptions:a})=>{const o=n4({dragStartTime:r,container:e.frame,subject:t,center:n,shouldUseTimeDampening:i,getAutoScrollerOptions:a});return o&&H2(e,o)?o:null},SQ=({droppable:e,subject:t,center:n,dragStartTime:r,shouldUseTimeDampening:i,getAutoScrollerOptions:a})=>{const o=e.frame;if(!o)return null;const l=n4({dragStartTime:r,container:o.pageMarginBox,subject:t,center:n,shouldUseTimeDampening:i,getAutoScrollerOptions:a});return l&&G2(e,l)?l:null},PM=({state:e,dragStartTime:t,shouldUseTimeDampening:n,scrollWindow:r,scrollDroppable:i,getAutoScrollerOptions:a})=>{const o=e.current.page.borderBoxCenter,u=e.dimensions.draggables[e.critical.draggable.id].page.marginBox;if(e.isWindowScrollAllowed){const p=e.viewport,b=wQ({dragStartTime:t,viewport:p,subject:u,center:o,shouldUseTimeDampening:n,getAutoScrollerOptions:a});if(b){r(b);return}}const d=hQ({center:o,destination:Ii(e.impact),droppables:e.dimensions.droppables});if(!d)return;const h=SQ({dragStartTime:t,droppable:d,subject:u,center:o,shouldUseTimeDampening:n,getAutoScrollerOptions:a});h&&i(d.descriptor.id,h)},kQ=({scrollWindow:e,scrollDroppable:t,getAutoScrollerOptions:n=()=>Nm})=>{const r=Em(e),i=Em(t);let a=null;const o=d=>{a||Pe();const{shouldUseTimeDampening:h,dragStartTime:p}=a;PM({state:d,scrollWindow:r,scrollDroppable:i,dragStartTime:p,shouldUseTimeDampening:h,getAutoScrollerOptions:n})};return{start:d=>{a&&Pe();const h=Date.now();let p=!1;const b=()=>{p=!0};PM({state:d,dragStartTime:0,shouldUseTimeDampening:!1,scrollWindow:b,scrollDroppable:b,getAutoScrollerOptions:n}),a={dragStartTime:h,shouldUseTimeDampening:p},p&&o(d)},stop:()=>{a&&(r.cancel(),i.cancel(),a=null)},scroll:o}},EQ=({move:e,scrollDroppable:t,scrollWindow:n})=>{const r=(l,u)=>{const d=vr(l.current.client.selection,u);e({client:d})},i=(l,u)=>{if(!G2(l,u))return u;const d=_Q(l,u);if(!d)return t(l.descriptor.id,u),null;const h=Ri(u,d);return t(l.descriptor.id,h),Ri(u,h)},a=(l,u,d)=>{if(!l||!H2(u,d))return d;const h=xQ(u,d);if(!h)return n(d),null;const p=Ri(d,h);return n(p),Ri(d,p)};return l=>{const u=l.scrollJumpRequest;if(!u)return;const d=Ii(l.impact);d||Pe();const h=i(l.dimensions.droppables[d],u);if(!h)return;const p=l.viewport,b=a(l.isWindowScrollAllowed,p,h);b&&r(l,b)}},AQ=({scrollDroppable:e,scrollWindow:t,move:n,getAutoScrollerOptions:r})=>{const i=kQ({scrollWindow:t,scrollDroppable:e,getAutoScrollerOptions:r}),a=EQ({move:n,scrollWindow:t,scrollDroppable:e});return{scroll:u=>{if(!(r().disabled||u.phase!=="DRAGGING")){if(u.movementMode==="FLUID"){i.scroll(u);return}u.scrollJumpRequest&&a(u)}},start:i.start,stop:i.stop}};const qd="data-rfd",Yd=(()=>{const e=`${qd}-drag-handle`;return{base:e,draggableId:`${e}-draggable-id`,contextId:`${e}-context-id`}})(),Mk=(()=>{const e=`${qd}-draggable`;return{base:e,contextId:`${e}-context-id`,id:`${e}-id`}})(),TQ=(()=>{const e=`${qd}-droppable`;return{base:e,contextId:`${e}-context-id`,id:`${e}-id`}})(),RM={contextId:`${qd}-scroll-container-context-id`},jQ=e=>t=>`[${t}="${e}"]`,Ph=(e,t)=>e.map(n=>{const r=n.styles[t];return r?`${n.selector} { ${r} }`:""}).join(" "),OQ="pointer-events: none;";var NQ=e=>{const t=jQ(e),n=(()=>{const l=`
      cursor: -webkit-grab;
      cursor: grab;
    `;return{selector:t(Yd.contextId),styles:{always:`
          -webkit-touch-callout: none;
          -webkit-tap-highlight-color: rgba(0,0,0,0);
          touch-action: manipulation;
        `,resting:l,dragging:OQ,dropAnimating:l}}})(),r=(()=>{const l=`
      transition: ${mm.outOfTheWay};
    `;return{selector:t(Mk.contextId),styles:{dragging:l,dropAnimating:l,userCancel:l}}})(),i={selector:t(TQ.contextId),styles:{always:"overflow-anchor: none;"}},o=[r,n,i,{selector:"body",styles:{dragging:`
        cursor: grabbing;
        cursor: -webkit-grabbing;
        user-select: none;
        -webkit-user-select: none;
        -moz-user-select: none;
        -ms-user-select: none;
        overflow-anchor: none;
      `}}];return{always:Ph(o,"always"),resting:Ph(o,"resting"),dragging:Ph(o,"dragging"),dropAnimating:Ph(o,"dropAnimating"),userCancel:Ph(o,"userCancel")}};const $i=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u"?w.useLayoutEffect:w.useEffect,Fw=()=>{const e=document.querySelector("head");return e||Pe(),e},LM=e=>{const t=document.createElement("style");return e&&t.setAttribute("nonce",e),t.type="text/css",t};function CQ(e,t){const n=xt(()=>NQ(e),[e]),r=w.useRef(null),i=w.useRef(null),a=We(lr(p=>{const b=i.current;b||Pe(),b.textContent=p}),[]),o=We(p=>{const b=r.current;b||Pe(),b.textContent=p},[]);$i(()=>{!r.current&&!i.current||Pe();const p=LM(t),b=LM(t);return r.current=p,i.current=b,p.setAttribute(`${qd}-always`,e),b.setAttribute(`${qd}-dynamic`,e),Fw().appendChild(p),Fw().appendChild(b),o(n.always),a(n.resting),()=>{const x=k=>{const S=k.current;S||Pe(),Fw().removeChild(S),k.current=null};x(r),x(i)}},[t,o,a,n.always,n.resting,e]);const l=We(()=>a(n.dragging),[a,n.dragging]),u=We(p=>{if(p==="DROP"){a(n.dropAnimating);return}a(n.userCancel)},[a,n.dropAnimating,n.userCancel]),d=We(()=>{i.current&&a(n.resting)},[a,n.resting]);return xt(()=>({dragging:l,dropping:u,resting:d}),[l,u,d])}function i4(e,t){return Array.from(e.querySelectorAll(t))}var a4=e=>e&&e.ownerDocument&&e.ownerDocument.defaultView?e.ownerDocument.defaultView:window;function vv(e){return e instanceof a4(e).HTMLElement}function MQ(e,t){const n=`[${Yd.contextId}="${e}"]`,r=i4(document,n);if(!r.length)return null;const i=r.find(a=>a.getAttribute(Yd.draggableId)===t);return!i||!vv(i)?null:i}function DQ(e){const t=w.useRef({}),n=w.useRef(null),r=w.useRef(null),i=w.useRef(!1),a=We(function(b,x){const k={id:b,focus:x};return t.current[b]=k,function(){const _=t.current;_[b]!==k&&delete _[b]}},[]),o=We(function(b){const x=MQ(e,b);x&&x!==document.activeElement&&x.focus()},[e]),l=We(function(b,x){n.current===b&&(n.current=x)},[]),u=We(function(){r.current||i.current&&(r.current=requestAnimationFrame(()=>{r.current=null;const b=n.current;b&&o(b)}))},[o]),d=We(function(b){n.current=null;const x=document.activeElement;x&&x.getAttribute(Yd.draggableId)===b&&(n.current=b)},[]);return $i(()=>(i.current=!0,function(){i.current=!1;const b=r.current;b&&cancelAnimationFrame(b)}),[]),xt(()=>({register:a,tryRecordFocus:d,tryRestoreFocusRecorded:u,tryShiftRecord:l}),[a,d,u,l])}function PQ(){const e={draggables:{},droppables:{}},t=[];function n(p){return t.push(p),function(){const x=t.indexOf(p);x!==-1&&t.splice(x,1)}}function r(p){t.length&&t.forEach(b=>b(p))}function i(p){return e.draggables[p]||null}function a(p){const b=i(p);return b||Pe(),b}const o={register:p=>{e.draggables[p.descriptor.id]=p,r({type:"ADDITION",value:p})},update:(p,b)=>{const x=e.draggables[b.descriptor.id];x&&x.uniqueId===p.uniqueId&&(delete e.draggables[b.descriptor.id],e.draggables[p.descriptor.id]=p)},unregister:p=>{const b=p.descriptor.id,x=i(b);x&&p.uniqueId===x.uniqueId&&(delete e.draggables[b],e.droppables[p.descriptor.droppableId]&&r({type:"REMOVAL",value:p}))},getById:a,findById:i,exists:p=>!!i(p),getAllByType:p=>Object.values(e.draggables).filter(b=>b.descriptor.type===p)};function l(p){return e.droppables[p]||null}function u(p){const b=l(p);return b||Pe(),b}const d={register:p=>{e.droppables[p.descriptor.id]=p},unregister:p=>{const b=l(p.descriptor.id);b&&p.uniqueId===b.uniqueId&&delete e.droppables[p.descriptor.id]},getById:u,findById:l,exists:p=>!!l(p),getAllByType:p=>Object.values(e.droppables).filter(b=>b.descriptor.type===p)};function h(){e.draggables={},e.droppables={},t.length=0}return{draggable:o,droppable:d,subscribe:n,clean:h}}function RQ(){const e=xt(PQ,[]);return w.useEffect(()=>function(){e.clean()},[e]),e}var q2=Kt.createContext(null),Xb=()=>{const e=document.body;return e||Pe(),e};const LQ={position:"absolute",width:"1px",height:"1px",margin:"-1px",border:"0",padding:"0",overflow:"hidden",clip:"rect(0 0 0 0)","clip-path":"inset(100%)"},IQ=e=>`rfd-announcement-${e}`;function $Q(e){const t=xt(()=>IQ(e),[e]),n=w.useRef(null);return w.useEffect(function(){const a=document.createElement("div");return n.current=a,a.id=t,a.setAttribute("aria-live","assertive"),a.setAttribute("aria-atomic","true"),Kb(a.style,LQ),Xb().appendChild(a),function(){setTimeout(function(){const u=Xb();u.contains(a)&&u.removeChild(a),a===n.current&&(n.current=null)})}},[t]),We(i=>{const a=n.current;if(a){a.textContent=i;return}},[])}const BQ={separator:"::"};function Y2(e,t=BQ){const n=Kt.useId();return xt(()=>`${e}${t.separator}${n}`,[t.separator,e,n])}function zQ({contextId:e,uniqueId:t}){return`rfd-hidden-text-${e}-${t}`}function UQ({contextId:e,text:t}){const n=Y2("hidden-text",{separator:"-"}),r=xt(()=>zQ({contextId:e,uniqueId:n}),[n,e]);return w.useEffect(function(){const a=document.createElement("div");return a.id=r,a.textContent=t,a.style.display="none",Xb().appendChild(a),function(){const l=Xb();l.contains(a)&&l.removeChild(a)}},[r,t]),r}var xv=Kt.createContext(null);function o4(e){const t=w.useRef(e);return w.useEffect(()=>{t.current=e}),t}function FQ(){let e=null;function t(){return!!e}function n(o){return o===e}function r(o){e&&Pe();const l={abandon:o};return e=l,l}function i(){e||Pe(),e=null}function a(){e&&(e.abandon(),i())}return{isClaimed:t,isActive:n,claim:r,release:i,tryAbandon:a}}function Cm(e){return e.phase==="IDLE"||e.phase==="DROP_ANIMATING"?!1:e.isDragging}const HQ=9,GQ=13,K2=27,s4=32,qQ=33,YQ=34,KQ=35,WQ=36,VQ=37,ZQ=38,XQ=39,JQ=40,QQ={[GQ]:!0,[HQ]:!0};var l4=e=>{QQ[e.keyCode]&&e.preventDefault()};const _v=(()=>{const e="visibilitychange";return typeof document>"u"?e:[e,`ms${e}`,`webkit${e}`,`moz${e}`,`o${e}`].find(r=>`on${r}`in document)||e})(),c4=0,IM=5;function eee(e,t){return Math.abs(t.x-e.x)>=IM||Math.abs(t.y-e.y)>=IM}const $M={type:"IDLE"};function tee({cancel:e,completed:t,getPhase:n,setPhase:r}){return[{eventName:"mousemove",fn:i=>{const{button:a,clientX:o,clientY:l}=i;if(a!==c4)return;const u={x:o,y:l},d=n();if(d.type==="DRAGGING"){i.preventDefault(),d.actions.move(u);return}d.type!=="PENDING"&&Pe();const h=d.point;if(!eee(h,u))return;i.preventDefault();const p=d.actions.fluidLift(u);r({type:"DRAGGING",actions:p})}},{eventName:"mouseup",fn:i=>{const a=n();if(a.type!=="DRAGGING"){e();return}i.preventDefault(),a.actions.drop({shouldBlockNextClick:!0}),t()}},{eventName:"mousedown",fn:i=>{n().type==="DRAGGING"&&i.preventDefault(),e()}},{eventName:"keydown",fn:i=>{if(n().type==="PENDING"){e();return}if(i.keyCode===K2){i.preventDefault(),e();return}l4(i)}},{eventName:"resize",fn:e},{eventName:"scroll",options:{passive:!0,capture:!1},fn:()=>{n().type==="PENDING"&&e()}},{eventName:"webkitmouseforcedown",fn:i=>{const a=n();if(a.type==="IDLE"&&Pe(),a.actions.shouldRespectForcePress()){e();return}i.preventDefault()}},{eventName:_v,fn:e}]}function nee(e){const t=w.useRef($M),n=w.useRef(Ol),r=xt(()=>({eventName:"mousedown",fn:function(p){if(p.defaultPrevented||p.button!==c4||p.ctrlKey||p.metaKey||p.shiftKey||p.altKey)return;const b=e.findClosestDraggableId(p);if(!b)return;const x=e.tryGetLock(b,o,{sourceEvent:p});if(!x)return;p.preventDefault();const k={x:p.clientX,y:p.clientY};n.current(),d(x,k)}}),[e]),i=xt(()=>({eventName:"webkitmouseforcewillbegin",fn:h=>{if(h.defaultPrevented)return;const p=e.findClosestDraggableId(h);if(!p)return;const b=e.findOptionsForDraggable(p);b&&(b.shouldRespectForcePress||e.canGetLock(p)&&h.preventDefault())}}),[e]),a=We(function(){const p={passive:!1,capture:!0};n.current=sa(window,[i,r],p)},[i,r]),o=We(()=>{t.current.type!=="IDLE"&&(t.current=$M,n.current(),a())},[a]),l=We(()=>{const h=t.current;o(),h.type==="DRAGGING"&&h.actions.cancel({shouldBlockNextClick:!0}),h.type==="PENDING"&&h.actions.abort()},[o]),u=We(function(){const p={capture:!0,passive:!1},b=tee({cancel:l,completed:o,getPhase:()=>t.current,setPhase:x=>{t.current=x}});n.current=sa(window,b,p)},[l,o]),d=We(function(p,b){t.current.type!=="IDLE"&&Pe(),t.current={type:"PENDING",point:b,actions:p},u()},[u]);$i(function(){return a(),function(){n.current()}},[a])}function ree(){}const iee={[YQ]:!0,[qQ]:!0,[WQ]:!0,[KQ]:!0};function aee(e,t){function n(){t(),e.cancel()}function r(){t(),e.drop()}return[{eventName:"keydown",fn:i=>{if(i.keyCode===K2){i.preventDefault(),n();return}if(i.keyCode===s4){i.preventDefault(),r();return}if(i.keyCode===JQ){i.preventDefault(),e.moveDown();return}if(i.keyCode===ZQ){i.preventDefault(),e.moveUp();return}if(i.keyCode===XQ){i.preventDefault(),e.moveRight();return}if(i.keyCode===VQ){i.preventDefault(),e.moveLeft();return}if(iee[i.keyCode]){i.preventDefault();return}l4(i)}},{eventName:"mousedown",fn:n},{eventName:"mouseup",fn:n},{eventName:"click",fn:n},{eventName:"touchstart",fn:n},{eventName:"resize",fn:n},{eventName:"wheel",fn:n,options:{passive:!0}},{eventName:_v,fn:n}]}function oee(e){const t=w.useRef(ree),n=xt(()=>({eventName:"keydown",fn:function(a){if(a.defaultPrevented||a.keyCode!==s4)return;const o=e.findClosestDraggableId(a);if(!o)return;const l=e.tryGetLock(o,h,{sourceEvent:a});if(!l)return;a.preventDefault();let u=!0;const d=l.snapLift();t.current();function h(){u||Pe(),u=!1,t.current(),r()}t.current=sa(window,aee(d,h),{capture:!0,passive:!1})}}),[e]),r=We(function(){const a={passive:!1,capture:!0};t.current=sa(window,[n],a)},[n]);$i(function(){return r(),function(){t.current()}},[r])}const Hw={type:"IDLE"},see=120,lee=.15;function cee({cancel:e,getPhase:t}){return[{eventName:"orientationchange",fn:e},{eventName:"resize",fn:e},{eventName:"contextmenu",fn:n=>{n.preventDefault()}},{eventName:"keydown",fn:n=>{if(t().type!=="DRAGGING"){e();return}n.keyCode===K2&&n.preventDefault(),e()}},{eventName:_v,fn:e}]}function uee({cancel:e,completed:t,getPhase:n}){return[{eventName:"touchmove",options:{capture:!1},fn:r=>{const i=n();if(i.type!=="DRAGGING"){e();return}i.hasMoved=!0;const{clientX:a,clientY:o}=r.touches[0],l={x:a,y:o};r.preventDefault(),i.actions.move(l)}},{eventName:"touchend",fn:r=>{const i=n();if(i.type!=="DRAGGING"){e();return}r.preventDefault(),i.actions.drop({shouldBlockNextClick:!0}),t()}},{eventName:"touchcancel",fn:r=>{if(n().type!=="DRAGGING"){e();return}r.preventDefault(),e()}},{eventName:"touchforcechange",fn:r=>{const i=n();i.type==="IDLE"&&Pe();const a=r.touches[0];if(!a||!(a.force>=lee))return;const l=i.actions.shouldRespectForcePress();if(i.type==="PENDING"){l&&e();return}if(l){if(i.hasMoved){r.preventDefault();return}e();return}r.preventDefault()}},{eventName:_v,fn:e}]}function dee(e){const t=w.useRef(Hw),n=w.useRef(Ol),r=We(function(){return t.current},[]),i=We(function(x){t.current=x},[]),a=xt(()=>({eventName:"touchstart",fn:function(x){if(x.defaultPrevented)return;const k=e.findClosestDraggableId(x);if(!k)return;const S=e.tryGetLock(k,l,{sourceEvent:x});if(!S)return;const _=x.touches[0],{clientX:T,clientY:N}=_,j={x:T,y:N};n.current(),p(S,j)}}),[e]),o=We(function(){const x={capture:!0,passive:!1};n.current=sa(window,[a],x)},[a]),l=We(()=>{const b=t.current;b.type!=="IDLE"&&(b.type==="PENDING"&&clearTimeout(b.longPressTimerId),i(Hw),n.current(),o())},[o,i]),u=We(()=>{const b=t.current;l(),b.type==="DRAGGING"&&b.actions.cancel({shouldBlockNextClick:!0}),b.type==="PENDING"&&b.actions.abort()},[l]),d=We(function(){const x={capture:!0,passive:!1},k={cancel:u,completed:l,getPhase:r},S=sa(window,uee(k),x),_=sa(window,cee(k),x);n.current=function(){S(),_()}},[u,r,l]),h=We(function(){const x=r();x.type!=="PENDING"&&Pe();const k=x.actions.fluidLift(x.point);i({type:"DRAGGING",actions:k,hasMoved:!1})},[r,i]),p=We(function(x,k){r().type!=="IDLE"&&Pe();const S=setTimeout(h,see);i({type:"PENDING",point:k,actions:x,longPressTimerId:S}),d()},[d,r,i,h]);$i(function(){return o(),function(){n.current();const k=r();k.type==="PENDING"&&(clearTimeout(k.longPressTimerId),i(Hw))}},[r,o,i]),$i(function(){return sa(window,[{eventName:"touchmove",fn:()=>{},options:{capture:!1,passive:!1}}])},[])}const fee=["input","button","textarea","select","option","optgroup","video","audio"];function u4(e,t){if(t==null)return!1;if(fee.includes(t.tagName.toLowerCase()))return!0;const r=t.getAttribute("contenteditable");return r==="true"||r===""?!0:t===e?!1:u4(e,t.parentElement)}function hee(e,t){const n=t.target;return vv(n)?u4(e,n):!1}var mee=e=>za(e.getBoundingClientRect()).center;function pee(e){return e instanceof a4(e).Element}const gee=(()=>{const e="matches";return typeof document>"u"?e:[e,"msMatchesSelector","webkitMatchesSelector"].find(r=>r in Element.prototype)||e})();function d4(e,t){return e==null?null:e[gee](t)?e:d4(e.parentElement,t)}function bee(e,t){return e.closest?e.closest(t):d4(e,t)}function yee(e){return`[${Yd.contextId}="${e}"]`}function vee(e,t){const n=t.target;if(!pee(n))return null;const r=yee(e),i=bee(n,r);return!i||!vv(i)?null:i}function xee(e,t){const n=vee(e,t);return n?n.getAttribute(Yd.draggableId):null}function _ee(e,t){const n=`[${Mk.contextId}="${e}"]`,i=i4(document,n).find(a=>a.getAttribute(Mk.id)===t);return!i||!vv(i)?null:i}function wee(e){e.preventDefault()}function w0({expected:e,phase:t,isLockActive:n,shouldWarn:r}){return!(!n()||e!==t)}function f4({lockAPI:e,store:t,registry:n,draggableId:r}){if(e.isClaimed())return!1;const i=n.draggable.findById(r);return!(!i||!i.options.isEnabled||!e4(t.getState(),r))}function See({lockAPI:e,contextId:t,store:n,registry:r,draggableId:i,forceSensorStop:a,sourceEvent:o}){if(!f4({lockAPI:e,store:n,registry:r,draggableId:i}))return null;const u=r.draggable.getById(i),d=_ee(t,u.descriptor.id);if(!d||o&&!u.options.canDragInteractiveElements&&hee(d,o))return null;const h=e.claim(a||Ol);let p="PRE_DRAG";function b(){return u.options.shouldRespectForcePress}function x(){return e.isActive(h)}function k(M,P){w0({expected:M,phase:p,isLockActive:x,shouldWarn:!0})&&n.dispatch(P())}const S=k.bind(null,"DRAGGING");function _(M){function P(){e.release(),p="COMPLETED"}p!=="PRE_DRAG"&&(P(),Pe()),n.dispatch(bJ(M.liftActionArgs)),p="DRAGGING";function $(U,Y={shouldBlockNextClick:!1}){if(M.cleanup(),Y.shouldBlockNextClick){const W=sa(window,[{eventName:"click",fn:wee,options:{once:!0,passive:!1,capture:!0}}]);setTimeout(W)}P(),n.dispatch(Y5({reason:U}))}return{isActive:()=>w0({expected:"DRAGGING",phase:p,isLockActive:x,shouldWarn:!1}),shouldRespectForcePress:b,drop:U=>$("DROP",U),cancel:U=>$("CANCEL",U),...M.actions}}function T(M){const P=Em(U=>{S(()=>q5({client:U}))});return{..._({liftActionArgs:{id:i,clientSelection:M,movementMode:"FLUID"},cleanup:()=>P.cancel(),actions:{move:P}}),move:P}}function N(){const M={moveUp:()=>S(AJ),moveRight:()=>S(jJ),moveDown:()=>S(TJ),moveLeft:()=>S(OJ)};return _({liftActionArgs:{id:i,clientSelection:mee(d),movementMode:"SNAP"},cleanup:Ol,actions:M})}function j(){w0({expected:"PRE_DRAG",phase:p,isLockActive:x,shouldWarn:!0})&&e.release()}return{isActive:()=>w0({expected:"PRE_DRAG",phase:p,isLockActive:x,shouldWarn:!1}),shouldRespectForcePress:b,fluidLift:T,snapLift:N,abort:j}}const kee=[nee,oee,dee];function Eee({contextId:e,store:t,registry:n,customSensors:r,enableDefaultSensors:i}){const a=[...i?kee:[],...r||[]],o=w.useState(()=>FQ())[0],l=We(function(_,T){Cm(_)&&!Cm(T)&&o.tryAbandon()},[o]);$i(function(){let _=t.getState();return t.subscribe(()=>{const N=t.getState();l(_,N),_=N})},[o,t,l]),$i(()=>o.tryAbandon,[o.tryAbandon]);const u=We(S=>f4({lockAPI:o,registry:n,store:t,draggableId:S}),[o,n,t]),d=We((S,_,T)=>See({lockAPI:o,registry:n,contextId:e,store:t,draggableId:S,forceSensorStop:_||null,sourceEvent:T&&T.sourceEvent?T.sourceEvent:null}),[e,o,n,t]),h=We(S=>xee(e,S),[e]),p=We(S=>{const _=n.draggable.findById(S);return _?_.options:null},[n.draggable]),b=We(function(){o.isClaimed()&&(o.tryAbandon(),t.getState().phase!=="IDLE"&&t.dispatch($2()))},[o,t]),x=We(()=>o.isClaimed(),[o]),k=xt(()=>({canGetLock:u,tryGetLock:d,findClosestDraggableId:h,findOptionsForDraggable:p,tryReleaseLock:b,isLockClaimed:x}),[u,d,h,p,b,x]);for(let S=0;S<a.length;S++)a[S](k)}const Aee=e=>({onBeforeCapture:t=>{const n=()=>{e.onBeforeCapture&&e.onBeforeCapture(t)};bu.flushSync(n)},onBeforeDragStart:e.onBeforeDragStart,onDragStart:e.onDragStart,onDragEnd:e.onDragEnd,onDragUpdate:e.onDragUpdate}),Tee=e=>({...Nm,...e.autoScrollerOptions,durationDampening:{...Nm.durationDampening,...e.autoScrollerOptions}});function Rh(e){return e.current||Pe(),e.current}function jee(e){const{contextId:t,setCallbacks:n,sensors:r,nonce:i,dragHandleUsageInstructions:a}=e,o=w.useRef(null),l=o4(e),u=We(()=>Aee(l.current),[l]),d=We(()=>Tee(l.current),[l]),h=$Q(t),p=UQ({contextId:t,text:a}),b=CQ(t,i),x=We(W=>{Rh(o).dispatch(W)},[]),k=xt(()=>uM({publishWhileDragging:vJ,updateDroppableScroll:_J,updateDroppableIsEnabled:wJ,updateDroppableIsCombineEnabled:SJ,collectionStarting:xJ},x),[x]),S=RQ(),_=xt(()=>cQ(S,k),[S,k]),T=xt(()=>AQ({scrollWindow:uQ,scrollDroppable:_.scrollDroppable,getAutoScrollerOptions:d,...uM({move:q5},x)}),[_.scrollDroppable,x,d]),N=DQ(t),j=xt(()=>aQ({announce:h,autoScroller:T,dimensionMarshal:_,focusMarshal:N,getResponders:u,styleMarshal:b}),[h,T,_,N,u,b]);o.current=j;const C=We(()=>{const W=Rh(o);W.getState().phase!=="IDLE"&&W.dispatch($2())},[]),M=We(()=>{const W=Rh(o).getState();return W.phase==="DROP_ANIMATING"?!0:W.phase==="IDLE"?!1:W.isDragging},[]),P=xt(()=>({isDragging:M,tryAbort:C}),[M,C]);n(P);const $=We(W=>e4(Rh(o).getState(),W),[]),U=We(()=>Fc(Rh(o).getState()),[]),Y=xt(()=>({marshal:_,focus:N,contextId:t,canLift:$,isMovementAllowed:U,dragHandleUsageInstructionsId:p,registry:S}),[t,_,p,N,$,U,S]);return Eee({contextId:t,store:j,registry:S,customSensors:r||null,enableDefaultSensors:e.enableDefaultSensors!==!1}),w.useEffect(()=>C,[C]),Kt.createElement(xv.Provider,{value:Y},Kt.createElement(y5,{context:q2,store:j},e.children))}function Oee(){return Kt.useId()}function lp(e){const t=Oee(),n=e.dragHandleUsageInstructions||_b.dragHandleUsageInstructions;return Kt.createElement(oX,null,r=>Kt.createElement(jee,{nonce:e.nonce,contextId:t,setCallbacks:r,dragHandleUsageInstructions:n,enableDefaultSensors:e.enableDefaultSensors,sensors:e.sensors,onBeforeCapture:e.onBeforeCapture,onBeforeDragStart:e.onBeforeDragStart,onDragStart:e.onDragStart,onDragUpdate:e.onDragUpdate,onDragEnd:e.onDragEnd,autoScrollerOptions:e.autoScrollerOptions},e.children))}const BM={dragging:5e3,dropAnimating:4500},Nee=(e,t)=>t?mm.drop(t.duration):e?mm.snap:mm.fluid,Cee=(e,t)=>{if(e)return t?Om.opacity.drop:Om.opacity.combining},Mee=e=>e.forceShouldAnimate!=null?e.forceShouldAnimate:e.mode==="SNAP";function Dee(e){const n=e.dimension.client,{offset:r,combineWith:i,dropping:a}=e,o=!!i,l=Mee(e),u=!!a,d=u?Nk.drop(r,o):Nk.moveTo(r);return{position:"fixed",top:n.marginBox.top,left:n.marginBox.left,boxSizing:"border-box",width:n.borderBox.width,height:n.borderBox.height,transition:Nee(l,a),transform:d,opacity:Cee(o,u),zIndex:u?BM.dropAnimating:BM.dragging,pointerEvents:"none"}}function Pee(e){return{transform:Nk.moveTo(e.offset),transition:e.shouldAnimateDisplacement?void 0:"none"}}function Ree(e){return e.type==="DRAGGING"?Dee(e):Pee(e)}function Lee(e,t,n=cr){const r=window.getComputedStyle(t),i=t.getBoundingClientRect(),a=v5(i,r),o=Yb(a,n),l={client:a,tagName:t.tagName.toLowerCase(),display:r.display},u={x:a.marginBox.width,y:a.marginBox.height};return{descriptor:e,placeholder:l,displaceBy:u,client:a,page:o}}function Iee(e){const t=Y2("draggable"),{descriptor:n,registry:r,getDraggableRef:i,canDragInteractiveElements:a,shouldRespectForcePress:o,isEnabled:l}=e,u=xt(()=>({canDragInteractiveElements:a,shouldRespectForcePress:o,isEnabled:l}),[a,l,o]),d=We(x=>{const k=i();return k||Pe(),Lee(n,k,x)},[n,i]),h=xt(()=>({uniqueId:t,descriptor:n,options:u,getDimension:d}),[n,d,u,t]),p=w.useRef(h),b=w.useRef(!0);$i(()=>(r.draggable.register(p.current),()=>r.draggable.unregister(p.current)),[r.draggable]),$i(()=>{if(b.current){b.current=!1;return}const x=p.current;p.current=h,r.draggable.update(h,x)},[h,r.draggable])}var W2=Kt.createContext(null);function Jb(e){const t=w.useContext(e);return t||Pe(),t}function $ee(e){e.preventDefault()}const Bee=e=>{const t=w.useRef(null),n=We((P=null)=>{t.current=P},[]),r=We(()=>t.current,[]),{contextId:i,dragHandleUsageInstructionsId:a,registry:o}=Jb(xv),{type:l,droppableId:u}=Jb(W2),d=xt(()=>({id:e.draggableId,index:e.index,type:l,droppableId:u}),[e.draggableId,e.index,l,u]),{children:h,draggableId:p,isEnabled:b,shouldRespectForcePress:x,canDragInteractiveElements:k,isClone:S,mapped:_,dropAnimationFinished:T}=e;if(!S){const P=xt(()=>({descriptor:d,registry:o,getDraggableRef:r,canDragInteractiveElements:k,shouldRespectForcePress:x,isEnabled:b}),[d,o,r,k,x,b]);Iee(P)}const N=xt(()=>b?{tabIndex:0,role:"button","aria-describedby":a,"data-rfd-drag-handle-draggable-id":p,"data-rfd-drag-handle-context-id":i,draggable:!1,onDragStart:$ee}:null,[i,a,p,b]),j=We(P=>{_.type==="DRAGGING"&&_.dropping&&P.propertyName==="transform"&&bu.flushSync(T)},[T,_]),C=xt(()=>{const P=Ree(_),$=_.type==="DRAGGING"&&_.dropping?j:void 0;return{innerRef:n,draggableProps:{"data-rfd-draggable-context-id":i,"data-rfd-draggable-id":p,style:P,onTransitionEnd:$},dragHandleProps:N}},[i,N,p,_,j,n]),M=xt(()=>({draggableId:d.id,type:d.type,source:{index:d.index,droppableId:d.droppableId}}),[d.droppableId,d.id,d.index,d.type]);return Kt.createElement(Kt.Fragment,null,h(C,_.snapshot,M))};var h4=(e,t)=>e===t,m4=e=>{const{combine:t,destination:n}=e;return n?n.droppableId:t?t.droppableId:null};const zee=e=>e.combine?e.combine.draggableId:null,Uee=e=>e.at&&e.at.type==="COMBINE"?e.at.combine.draggableId:null;function Fee(){const e=lr((i,a)=>({x:i,y:a})),t=lr((i,a,o=null,l=null,u=null)=>({isDragging:!0,isClone:a,isDropAnimating:!!u,dropAnimation:u,mode:i,draggingOver:o,combineWith:l,combineTargetFor:null})),n=lr((i,a,o,l,u=null,d=null,h=null)=>({mapped:{type:"DRAGGING",dropping:null,draggingOver:u,combineWith:d,mode:a,offset:i,dimension:o,forceShouldAnimate:h,snapshot:t(a,l,u,d,null)}}));return(i,a)=>{if(Cm(i)){if(i.critical.draggable.id!==a.draggableId)return null;const o=i.current.client.offset,l=i.dimensions.draggables[a.draggableId],u=Ii(i.impact),d=Uee(i.impact),h=i.forceShouldAnimate;return n(e(o.x,o.y),i.movementMode,l,a.isClone,u,d,h)}if(i.phase==="DROP_ANIMATING"){const o=i.completed;if(o.result.draggableId!==a.draggableId)return null;const l=a.isClone,u=i.dimensions.draggables[a.draggableId],d=o.result,h=d.mode,p=m4(d),b=zee(d),k={duration:i.dropDuration,curve:z2.drop,moveTo:i.newHomeClientOffset,opacity:b?Om.opacity.drop:null,scale:b?Om.scale.drop:null};return{mapped:{type:"DRAGGING",offset:i.newHomeClientOffset,dimension:u,dropping:k,draggingOver:p,combineWith:b,mode:h,forceShouldAnimate:null,snapshot:t(h,l,p,b,k)}}}return null}}function p4(e=null){return{isDragging:!1,isDropAnimating:!1,isClone:!1,dropAnimation:null,mode:null,draggingOver:null,combineTargetFor:e,combineWith:null}}const Hee={mapped:{type:"SECONDARY",offset:cr,combineTargetFor:null,shouldAnimateDisplacement:!0,snapshot:p4(null)}};function Gee(){const e=lr((o,l)=>({x:o,y:l})),t=lr(p4),n=lr((o,l=null,u)=>({mapped:{type:"SECONDARY",offset:o,combineTargetFor:l,shouldAnimateDisplacement:u,snapshot:t(l)}})),r=o=>o?n(cr,o,!0):null,i=(o,l,u,d)=>{const h=u.displaced.visible[o],p=!!(d.inVirtualList&&d.effected[o]),b=gv(u),x=b&&b.draggableId===o?l:null;if(!h){if(!p)return r(x);if(u.displaced.invisible[o])return null;const _=uf(d.displacedBy.point),T=e(_.x,_.y);return n(T,x,!0)}if(p)return r(x);const k=u.displacedBy.point,S=e(k.x,k.y);return n(S,x,h.shouldAnimate)};return(o,l)=>{if(Cm(o))return o.critical.draggable.id===l.draggableId?null:i(l.draggableId,o.critical.draggable.id,o.impact,o.afterCritical);if(o.phase==="DROP_ANIMATING"){const u=o.completed;return u.result.draggableId===l.draggableId?null:i(l.draggableId,u.result.draggableId,u.impact,u.afterCritical)}return null}}const qee=()=>{const e=Fee(),t=Gee();return(r,i)=>e(r,i)||t(r,i)||Hee},Yee={dropAnimationFinished:K5},Kee=b5(qee,Yee,null,{context:q2,areStatePropsEqual:h4})(Bee);function g4(e){return Jb(W2).isUsingCloneFor===e.draggableId&&!e.isClone?null:Kt.createElement(Kee,e)}function hf(e){const t=typeof e.isDragDisabled=="boolean"?!e.isDragDisabled:!0,n=!!e.disableInteractiveElementBlocking,r=!!e.shouldRespectForcePress;return Kt.createElement(g4,Kb({},e,{isClone:!1,isEnabled:t,canDragInteractiveElements:n,shouldRespectForcePress:r}))}const b4=e=>t=>e===t,Wee=b4("scroll"),Vee=b4("auto"),zM=(e,t)=>t(e.overflowX)||t(e.overflowY),Zee=e=>{const t=window.getComputedStyle(e),n={overflowX:t.overflowX,overflowY:t.overflowY};return zM(n,Wee)||zM(n,Vee)},Xee=()=>!1,y4=e=>e==null?null:e===document.body?Xee()?e:null:e===document.documentElement?null:Zee(e)?e:y4(e.parentElement);var Dk=e=>({x:e.scrollLeft,y:e.scrollTop});const v4=e=>e?window.getComputedStyle(e).position==="fixed"?!0:v4(e.parentElement):!1;var Jee=e=>{const t=y4(e),n=v4(e);return{closestScrollable:t,isFixedOnPage:n}},Qee=({descriptor:e,isEnabled:t,isCombineEnabled:n,isFixedOnPage:r,direction:i,client:a,page:o,closest:l})=>{const u=(()=>{if(!l)return null;const{scrollSize:b,client:x}=l,k=X5({scrollHeight:b.scrollHeight,scrollWidth:b.scrollWidth,height:x.paddingBox.height,width:x.paddingBox.width});return{pageMarginBox:l.page.marginBox,frameClient:x,scrollSize:b,shouldClipSubject:l.shouldClipSubject,scroll:{initial:l.scroll,current:l.scroll,max:k,diff:{value:cr,displacement:cr}}}})(),d=i==="vertical"?D2:N5,h=Gd({page:o,withPlaceholder:null,axis:d,frame:u});return{descriptor:e,isCombineEnabled:n,isFixedOnPage:r,axis:d,isEnabled:t,client:a,page:o,frame:u,subject:h}};const ete=(e,t)=>{const n=x5(e);if(!t||e!==t)return n;const r=n.paddingBox.top-t.scrollTop,i=n.paddingBox.left-t.scrollLeft,a=r+t.scrollHeight,o=i+t.scrollWidth,u=O2({top:r,right:o,bottom:a,left:i},n.border);return N2({borderBox:u,margin:n.margin,border:n.border,padding:n.padding})};var tte=({ref:e,descriptor:t,env:n,windowScroll:r,direction:i,isDropDisabled:a,isCombineEnabled:o,shouldClipSubject:l})=>{const u=n.closestScrollable,d=ete(e,u),h=Yb(d,r),p=(()=>{if(!u)return null;const x=x5(u),k={scrollHeight:u.scrollHeight,scrollWidth:u.scrollWidth};return{client:x,page:Yb(x,r),scroll:Dk(u),scrollSize:k,shouldClipSubject:l}})();return Qee({descriptor:t,isEnabled:!a,isCombineEnabled:o,isFixedOnPage:n.isFixedOnPage,direction:i,client:d,page:h,closest:p})};const nte={passive:!1},rte={passive:!0};var UM=e=>e.shouldPublishImmediately?nte:rte;const S0=e=>e&&e.env.closestScrollable||null;function ite(e){const t=w.useRef(null),n=Jb(xv),r=Y2("droppable"),{registry:i,marshal:a}=n,o=o4(e),l=xt(()=>({id:e.droppableId,type:e.type,mode:e.mode}),[e.droppableId,e.mode,e.type]),u=w.useRef(l),d=xt(()=>lr((C,M)=>{t.current||Pe();const P={x:C,y:M};a.updateDroppableScroll(l.id,P)}),[l.id,a]),h=We(()=>{const C=t.current;return!C||!C.env.closestScrollable?cr:Dk(C.env.closestScrollable)},[]),p=We(()=>{const C=h();d(C.x,C.y)},[h,d]),b=xt(()=>Em(p),[p]),x=We(()=>{const C=t.current,M=S0(C);if(C&&M||Pe(),C.scrollOptions.shouldPublishImmediately){p();return}b()},[b,p]),k=We((C,M)=>{t.current&&Pe();const P=o.current,$=P.getDroppableRef();$||Pe();const U=Jee($),Y={ref:$,descriptor:l,env:U,scrollOptions:M};t.current=Y;const W=tte({ref:$,descriptor:l,env:U,windowScroll:C,direction:P.direction,isDropDisabled:P.isDropDisabled,isCombineEnabled:P.isCombineEnabled,shouldClipSubject:!P.ignoreContainerClipping}),H=U.closestScrollable;return H&&(H.setAttribute(RM.contextId,n.contextId),H.addEventListener("scroll",x,UM(Y.scrollOptions))),W},[n.contextId,l,x,o]),S=We(()=>{const C=t.current,M=S0(C);return C&&M||Pe(),Dk(M)},[]),_=We(()=>{const C=t.current;C||Pe();const M=S0(C);t.current=null,M&&(b.cancel(),M.removeAttribute(RM.contextId),M.removeEventListener("scroll",x,UM(C.scrollOptions)))},[x,b]),T=We(C=>{const M=t.current;M||Pe();const P=S0(M);P||Pe(),P.scrollTop+=C.y,P.scrollLeft+=C.x},[]),N=xt(()=>({getDimensionAndWatchScroll:k,getScrollWhileDragging:S,dragStopped:_,scroll:T}),[_,k,S,T]),j=xt(()=>({uniqueId:r,descriptor:l,callbacks:N}),[N,l,r]);$i(()=>(u.current=j.descriptor,i.droppable.register(j),()=>{t.current&&_(),i.droppable.unregister(j)}),[N,l,_,j,a,i.droppable]),$i(()=>{t.current&&a.updateDroppableIsEnabled(u.current.id,!e.isDropDisabled)},[e.isDropDisabled,a]),$i(()=>{t.current&&a.updateDroppableIsCombineEnabled(u.current.id,e.isCombineEnabled)},[e.isCombineEnabled,a])}function Gw(){}const FM={width:0,height:0,margin:hX},ate=({isAnimatingOpenOnMount:e,placeholder:t,animate:n})=>e||n==="close"?FM:{height:t.client.borderBox.height,width:t.client.borderBox.width,margin:t.client.margin},ote=({isAnimatingOpenOnMount:e,placeholder:t,animate:n})=>{const r=ate({isAnimatingOpenOnMount:e,placeholder:t,animate:n});return{display:t.display,boxSizing:"border-box",width:r.width,height:r.height,marginTop:r.margin.top,marginRight:r.margin.right,marginBottom:r.margin.bottom,marginLeft:r.margin.left,flexShrink:"0",flexGrow:"0",pointerEvents:"none",transition:n!=="none"?mm.placeholder:null}},ste=e=>{const t=w.useRef(null),n=We(()=>{t.current&&(clearTimeout(t.current),t.current=null)},[]),{animate:r,onTransitionEnd:i,onClose:a,contextId:o}=e,[l,u]=w.useState(e.animate==="open");w.useEffect(()=>l?r!=="open"?(n(),u(!1),Gw):t.current?Gw:(t.current=setTimeout(()=>{t.current=null,u(!1)}),n):Gw,[r,l,n]);const d=We(p=>{p.propertyName==="height"&&(i(),r==="close"&&a())},[r,a,i]),h=ote({isAnimatingOpenOnMount:l,animate:e.animate,placeholder:e.placeholder});return Kt.createElement(e.placeholder.tagName,{style:h,"data-rfd-placeholder-context-id":o,onTransitionEnd:d,ref:e.innerRef})};var lte=Kt.memo(ste);class cte extends Kt.PureComponent{constructor(...t){super(...t),this.state={isVisible:!!this.props.on,data:this.props.on,animate:this.props.shouldAnimate&&this.props.on?"open":"none"},this.onClose=()=>{this.state.animate==="close"&&this.setState({isVisible:!1})}}static getDerivedStateFromProps(t,n){return t.shouldAnimate?t.on?{isVisible:!0,data:t.on,animate:"open"}:n.isVisible?{isVisible:!0,data:n.data,animate:"close"}:{isVisible:!1,animate:"close",data:null}:{isVisible:!!t.on,data:t.on,animate:"none"}}render(){if(!this.state.isVisible)return null;const t={onClose:this.onClose,data:this.state.data,animate:this.state.animate};return this.props.children(t)}}const ute=e=>{const t=w.useContext(xv);t||Pe();const{contextId:n,isMovementAllowed:r}=t,i=w.useRef(null),a=w.useRef(null),{children:o,droppableId:l,type:u,mode:d,direction:h,ignoreContainerClipping:p,isDropDisabled:b,isCombineEnabled:x,snapshot:k,useClone:S,updateViewportMaxScroll:_,getContainerForClone:T}=e,N=We(()=>i.current,[]),j=We((H=null)=>{i.current=H},[]);We(()=>a.current,[]);const C=We((H=null)=>{a.current=H},[]),M=We(()=>{r()&&_({maxScroll:Q5()})},[r,_]);ite({droppableId:l,type:u,mode:d,direction:h,isDropDisabled:b,isCombineEnabled:x,ignoreContainerClipping:p,getDroppableRef:N});const P=xt(()=>Kt.createElement(cte,{on:e.placeholder,shouldAnimate:e.shouldAnimatePlaceholder},({onClose:H,data:z,animate:V})=>Kt.createElement(lte,{placeholder:z,onClose:H,innerRef:C,animate:V,contextId:n,onTransitionEnd:M})),[n,M,e.placeholder,e.shouldAnimatePlaceholder,C]),$=xt(()=>({innerRef:j,placeholder:P,droppableProps:{"data-rfd-droppable-id":l,"data-rfd-droppable-context-id":n}}),[n,l,P,j]),U=S?S.dragging.draggableId:null,Y=xt(()=>({droppableId:l,type:u,isUsingCloneFor:U}),[l,U,u]);function W(){if(!S)return null;const{dragging:H,render:z}=S,V=Kt.createElement(g4,{draggableId:H.draggableId,index:H.source.index,isClone:!0,isEnabled:!0,shouldRespectForcePress:!1,canDragInteractiveElements:!0},(X,Z)=>z(X,Z,H));return yq.createPortal(V,T())}return Kt.createElement(W2.Provider,{value:Y},o($,k),W())};function dte(){return document.body||Pe(),document.body}const HM={mode:"standard",type:"DEFAULT",direction:"vertical",isDropDisabled:!1,isCombineEnabled:!1,ignoreContainerClipping:!1,renderClone:null,getContainerForClone:dte},x4=e=>{let t={...e},n;for(n in HM)e[n]===void 0&&(t={...t,[n]:HM[n]});return t},qw=(e,t)=>e===t.droppable.type,GM=(e,t)=>t.draggables[e.draggable.id],fte=()=>{const e={placeholder:null,shouldAnimatePlaceholder:!0,snapshot:{isDraggingOver:!1,draggingOverWith:null,draggingFromThisWith:null,isUsingPlaceholder:!1},useClone:null},t={...e,shouldAnimatePlaceholder:!1},n=lr(a=>({draggableId:a.id,type:a.type,source:{index:a.index,droppableId:a.droppableId}})),r=lr((a,o,l,u,d,h)=>{const p=d.descriptor.id;if(d.descriptor.droppableId===a){const k=h?{render:h,dragging:n(d.descriptor)}:null,S={isDraggingOver:l,draggingOverWith:l?p:null,draggingFromThisWith:p,isUsingPlaceholder:!0};return{placeholder:d.placeholder,shouldAnimatePlaceholder:!1,snapshot:S,useClone:k}}if(!o)return t;if(!u)return e;const x={isDraggingOver:l,draggingOverWith:p,draggingFromThisWith:null,isUsingPlaceholder:!0};return{placeholder:d.placeholder,shouldAnimatePlaceholder:!0,snapshot:x,useClone:null}});return(a,o)=>{const l=x4(o),u=l.droppableId,d=l.type,h=!l.isDropDisabled,p=l.renderClone;if(Cm(a)){const b=a.critical;if(!qw(d,b))return t;const x=GM(b,a.dimensions),k=Ii(a.impact)===u;return r(u,h,k,k,x,p)}if(a.phase==="DROP_ANIMATING"){const b=a.completed;if(!qw(d,b.critical))return t;const x=GM(b.critical,a.dimensions);return r(u,h,m4(b.result)===u,Ii(b.impact)===u,x,p)}if(a.phase==="IDLE"&&a.completed&&!a.shouldFlush){const b=a.completed;if(!qw(d,b.critical))return t;const x=Ii(b.impact)===u,k=!!(b.impact.at&&b.impact.at.type==="COMBINE"),S=b.critical.droppable.id===u;return x?k?e:t:S?e:t}return t}},hte={updateViewportMaxScroll:EJ},mf=b5(fte,hte,(e,t,n)=>({...x4(n),...e,...t}),{context:q2,areStatePropsEqual:h4})(ute),mte={1948:{start:new Date(1948,4,1),end:new Date(1948,7,13)},1949:{start:new Date(1949,2,3),end:new Date(1949,7,11)},1950:{start:new Date(1950,2,1),end:new Date(1950,7,10)},1951:{start:new Date(1951,3,6),end:new Date(1951,7,9)},1955:{start:new Date(1955,3,5),end:new Date(1955,7,9)},1956:{start:new Date(1956,3,20),end:new Date(1956,7,30)},1957:{start:new Date(1957,3,5),end:new Date(1957,7,22)},1958:{start:new Date(1958,3,4),end:new Date(1958,7,21)},1959:{start:new Date(1959,3,3),end:new Date(1959,7,20)},1960:{start:new Date(1960,3,1),end:new Date(1960,7,18)},1987:{start:new Date(1987,3,10),end:new Date(1987,8,11)},1988:{start:new Date(1988,3,8),end:new Date(1988,8,9)}};function Mm(e,t,n){const r=mte[e];if(!r)return!1;const i=new Date(e,t-1,n,0,0,0,0);return i>=r.start&&i<r.end}function pte(e){if(!isFinite(e.getTime()))return 0;const t=e.getUTCFullYear(),n=Date.UTC(t,0,1),i=Math.floor((e.getTime()-n)/864e5)+1,a=e.getUTCHours(),o=e.getUTCMinutes(),l=e.getUTCSeconds(),u=(a-12)/24+o/1440+l/86400,d=2*Math.PI/365*(i-1+u);return 229.18*(75e-6+.001868*Math.cos(d)-.032077*Math.sin(d)-.014615*Math.cos(2*d)-.040849*Math.sin(2*d))}function gte(e){return e=(e+540)%360-180,e>=124&&e<=132||e>=129&&e<=146?135:e>=73&&e<=135?120:e>=-161&&e<=-154?-150:e>=-170&&e<-161?-165:e>=-150&&e<-141?-135:e>=-141&&e<-126?-120:e>=-126&&e<-111?-105:e>=-111&&e<-96?-90:e>=-96&&e<-81?-75:Math.round(e/15)*15}function cp(e,t,n=!1){const r=new Date(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),0,0);if(n)return new Date(r.getTime()-1800*1e3);if(t==null||!isFinite(t))return r;let i=t;Math.abs(i)<=Math.PI+1e-6&&(i=i*180/Math.PI),i=(i+540)%360-180;const a=gte(i),o=4*(i-a),l=pte(r);return new Date(r.getTime()+(o+l)*60*1e3)}function _4(e){return e.replace(/\D/g,"")}function bte(e,t,n){if(!Number.isFinite(e)||!Number.isFinite(t)||!Number.isFinite(n)||e<1800||e>2200||t<1||t>12||n<1||n>31)return!1;const r=new Date(e,t-1,n);return r.getFullYear()===e&&r.getMonth()+1===t&&r.getDate()===n}function yte(e,t){return!(!Number.isFinite(e)||!Number.isFinite(t)||e<0||e>23||t<0||t>59)}function up(e){const t=_4(e.trim());if(t.length!==8)return null;const n=Number(t.slice(0,4)),r=Number(t.slice(4,6)),i=Number(t.slice(6,8));return bte(n,r,i)?{y:n,m:r,d:i}:null}function wv(e){const t=e.trim();if(!t||t==="")return null;const n=_4(t);if(n.length!==4)return null;const r=Number(n.slice(0,2)),i=Number(n.slice(2,4));return yte(r,i)?{hh:r,mm:i}:null}function Sv(e){const t=e.trim(),n=up(t);if(!n)return t;const r=String(n.y).padStart(4,"0"),i=String(n.m).padStart(2,"0"),a=String(n.d).padStart(2,"0");return`${r}${i}${a}`}function kv(e){const t=e.trim();if(t==="")return"";const n=wv(t);if(!n)return t;const r=String(n.hh).padStart(2,"0"),i=String(n.mm).padStart(2,"0");return`${r}${i}`}var wb={exports:{}},vte=wb.exports,qM;function xte(){return qM||(qM=1,(function(e,t){(function(n,r){e.exports=r()})(vte,function(){return(function(n){function r(a){if(i[a])return i[a].exports;var o=i[a]={i:a,l:!1,exports:{}};return n[a].call(o.exports,o,o.exports,r),o.l=!0,o.exports}var i={};return r.m=n,r.c=i,r.d=function(a,o,l){r.o(a,o)||Object.defineProperty(a,o,{configurable:!1,enumerable:!0,get:l})},r.n=function(a){var o=a&&a.__esModule?function(){return a.default}:function(){return a};return r.d(o,"a",o),o},r.o=function(a,o){return Object.prototype.hasOwnProperty.call(a,o)},r.p="",r(r.s=0)})([function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var a=i(1),o=(function(l){return l&&l.__esModule?l:{default:l}})(a);r.default=o.default,n.exports=r.default},function(n,r,i){function a(V){return V&&V.__esModule?V:{default:V}}Object.defineProperty(r,"__esModule",{value:!0});var o=i(2),l=a(o),u=i(3),d=a(u),h=i(4),p=a(h),b=i(5),x=a(b),k=i(6),S=a(k),_=i(7),T=a(_),N=i(8),j=a(N),C=i(9),M=a(C),P=i(10),$=a(P),U=i(11),Y=a(U),W=i(12),H=a(W),z={lunarInfo:l.default,solarMonth:d.default,gan:p.default,zhi:x.default,animals:S.default,lunarTerm:T.default,lTermInfo:j.default,nStr1:M.default,nStr2:$.default,nStr3:Y.default,nStr4:H.default,lYearDays:function(V){var X,Z=348;for(X=32768;X>8;X>>=1)Z+=z.lunarInfo[V-1900]&X?1:0;return Z+z.leapDays(V)},leapMonth:function(V){return 15&z.lunarInfo[V-1900]},leapDays:function(V){return z.leapMonth(V)?65536&z.lunarInfo[V-1900]?30:29:0},monthDays:function(V,X){return X>12||X<1?-1:z.lunarInfo[V-1900]&65536>>X?30:29},solarDays:function(V,X){if(X>12||X<1)return-1;var Z=X-1;return Z==1?V%4==0&&V%100!=0||V%400==0?29:28:z.solarMonth[Z]},toGanZhi:function(V){return z.gan[V%10]+z.zhi[V%12]},getTerm:function(V,X){if(V<1900||V>2100||X<1||X>24)return-1;var Z=z.lTermInfo[V-1900],q=[parseInt("0x"+Z.substr(0,5)).toString(),parseInt("0x"+Z.substr(5,5)).toString(),parseInt("0x"+Z.substr(10,5)).toString(),parseInt("0x"+Z.substr(15,5)).toString(),parseInt("0x"+Z.substr(20,5)).toString(),parseInt("0x"+Z.substr(25,5)).toString()],Q=[q[0].substr(0,1),q[0].substr(1,2),q[0].substr(3,1),q[0].substr(4,2),q[1].substr(0,1),q[1].substr(1,2),q[1].substr(3,1),q[1].substr(4,2),q[2].substr(0,1),q[2].substr(1,2),q[2].substr(3,1),q[2].substr(4,2),q[3].substr(0,1),q[3].substr(1,2),q[3].substr(3,1),q[3].substr(4,2),q[4].substr(0,1),q[4].substr(1,2),q[4].substr(3,1),q[4].substr(4,2),q[5].substr(0,1),q[5].substr(1,2),q[5].substr(3,1),q[5].substr(4,2)];return parseInt(Q[X-1])},toChinaYear:function(V){var X=parseInt(V/1e3),Z=parseInt(V%1e3/100),q=parseInt(V%100/10),Q=V%10;return z.nStr4[X]+z.nStr4[Z]+z.nStr4[q]+z.nStr4[Q]+""},toChinaMonth:function(V){if(V>12||V<1)return-1;var X=z.nStr3[V-1];return X+=""},toChinaDay:function(V){var X;switch(V){case 10:X="";break;case 20:X="";break;case 30:X="";break;default:X=z.nStr2[Math.floor(V/10)],X+=z.nStr1[V%10]}return X},getAnimal:function(V){return z.animals[(V-4)%12]},solar2lunar:function(ue,se,B){if(ue<1900||ue>2100||ue==1900&&se==1&&B<31)return-1;if(ue)var q=new Date(ue,parseInt(se)-1,B);else var q=new Date;var Q,ke=0,ne=0,ue=q.getFullYear(),se=q.getMonth()+1,B=q.getDate(),K=(Date.UTC(q.getFullYear(),q.getMonth(),q.getDate())-Date.UTC(1900,0,31))/864e5;for(Q=1900;Q<2101&&K>0;Q++)ne=z.lYearDays(Q),K-=ne;K<0&&(K+=ne,Q--);var ie=new Date,J=!1;ie.getFullYear()==ue&&ie.getMonth()+1==se&&ie.getDate()==B&&(J=!0);var oe=q.getDay(),fe=z.nStr1[oe];oe==0&&(oe=7);var he=Q,ke=z.leapMonth(Q),re=!1;for(Q=1;Q<13&&K>0;Q++)ke>0&&Q==ke+1&&re==0?(--Q,re=!0,ne=z.leapDays(he)):ne=z.monthDays(he,Q),re==1&&Q==ke+1&&(re=!1),K-=ne;K==0&&ke>0&&Q==ke+1&&(re?re=!1:(re=!0,--Q)),K<0&&(K+=ne,--Q);var xe=Q,Ne=K+1,ye=se-1,Ze=z.getTerm(ue,3),qe=z.toGanZhi(ue-4),Me=new Date(ue,1,Ze).getTime();new Date(ue,ye,B).getTime()<Me&&(qe=z.toGanZhi(ue-5));var Ee=z.getTerm(ue,2*se-1),Oe=z.getTerm(ue,2*se),Ie=z.toGanZhi(12*(ue-1900)+se+11);B>=Ee&&(Ie=z.toGanZhi(12*(ue-1900)+se+12));var Qe=!1,rt="";Ee==B&&(Qe=!0,rt=z.lunarTerm[2*se-2]),Oe==B&&(Qe=!0,rt=z.lunarTerm[2*se-1]);var Vt=Date.UTC(ue,ye,1,0,0,0,0)/864e5+25567+10,de=z.toGanZhi(Vt+B-1);return{lYear:he,lMonth:xe,lDay:Ne,animal:z.getAnimal(he),yearCn:z.toChinaYear(he),monthCn:(re&&ke===xe?"":"")+z.toChinaMonth(xe),dayCn:z.toChinaDay(Ne),cYear:ue,cMonth:se,cDay:B,gzYear:qe,gzMonth:Ie,gzDay:de,isToday:J,isLeap:re,nWeek:oe,ncWeek:""+fe,isTerm:Qe,term:rt}},lunar2solar:function(V,X,Z,q){var Q=z.leapMonth(V);if(z.leapDays(V),q&&Q!=X||V==2100&&X==12&&Z>1||V==1900&&X==1&&Z<31)return-1;var ne=z.monthDays(V,X);if(V<1900||V>2100||Z>ne)return-1;for(var ue=0,se=1900;se<V;se++)ue+=z.lYearDays(se);for(var B=0,K=!1,se=1;se<X;se++)B=z.leapMonth(V),K||B<=se&&B>0&&(ue+=z.leapDays(V),K=!0),ue+=z.monthDays(V,se);q&&(ue+=ne);var ie=Date.UTC(1900,1,30,0,0,0),J=new Date(864e5*(ue+Z-31)+ie),oe=J.getUTCFullYear(),fe=J.getUTCMonth()+1,he=J.getUTCDate();return z.solar2lunar(oe,fe,he)}};r.default=z,n.exports=r.default},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.default=[19416,19168,42352,21717,53856,55632,91476,22176,39632,21970,19168,42422,42192,53840,119381,46400,54944,44450,38320,84343,18800,42160,46261,27216,27968,109396,11104,38256,21234,18800,25958,54432,59984,28309,23248,11104,100067,37600,116951,51536,54432,120998,46416,22176,107956,9680,37584,53938,43344,46423,27808,46416,86869,19872,42416,83315,21168,43432,59728,27296,44710,43856,19296,43748,42352,21088,62051,55632,23383,22176,38608,19925,19152,42192,54484,53840,54616,46400,46752,103846,38320,18864,43380,42160,45690,27216,27968,44870,43872,38256,19189,18800,25776,29859,59984,27480,23232,43872,38613,37600,51552,55636,54432,55888,30034,22176,43959,9680,37584,51893,43344,46240,47780,44368,21977,19360,42416,86390,21168,43312,31060,27296,44368,23378,19296,42726,42208,53856,60005,54576,23200,30371,38608,19195,19152,42192,118966,53840,54560,56645,46496,22224,21938,18864,42359,42160,43600,111189,27936,44448,84835,37744,18936,18800,25776,92326,59984,27424,108228,43744,37600,53987,51552,54615,54432,55888,23893,22176,42704,21972,21200,43448,43344,46240,46758,44368,21920,43940,42416,21168,45683,26928,29495,27296,44368,84821,19296,42352,21732,53600,59752,54560,55968,92838,22224,19168,43476,42192,53584,62034,54560],n.exports=r.default},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.default=[31,28,31,30,31,30,31,31,30,31,30,31],n.exports=r.default},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.default=["","","","","","","","","",""],n.exports=r.default},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.default=["","","","","","","","","","","",""],n.exports=r.default},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.default=["","","","","","","","","","","",""],n.exports=r.default},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.default=["","","","","","","","","","","","","","","","","","","","","","","",""],n.exports=r.default},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.default=["9778397bd097c36b0b6fc9274c91aa","97b6b97bd19801ec9210c965cc920e","97bcf97c3598082c95f8c965cc920f","97bd0b06bdb0722c965ce1cfcc920f","b027097bd097c36b0b6fc9274c91aa","97b6b97bd19801ec9210c965cc920e","97bcf97c359801ec95f8c965cc920f","97bd0b06bdb0722c965ce1cfcc920f","b027097bd097c36b0b6fc9274c91aa","97b6b97bd19801ec9210c965cc920e","97bcf97c359801ec95f8c965cc920f","97bd0b06bdb0722c965ce1cfcc920f","b027097bd097c36b0b6fc9274c91aa","9778397bd19801ec9210c965cc920e","97b6b97bd19801ec95f8c965cc920f","97bd09801d98082c95f8e1cfcc920f","97bd097bd097c36b0b6fc9210c8dc2","9778397bd197c36c9210c9274c91aa","97b6b97bd19801ec95f8c965cc920e","97bd09801d98082c95f8e1cfcc920f","97bd097bd097c36b0b6fc9210c8dc2","9778397bd097c36c9210c9274c91aa","97b6b97bd19801ec95f8c965cc920e","97bcf97c3598082c95f8e1cfcc920f","97bd097bd097c36b0b6fc9210c8dc2","9778397bd097c36c9210c9274c91aa","97b6b97bd19801ec9210c965cc920e","97bcf97c3598082c95f8c965cc920f","97bd097bd097c35b0b6fc920fb0722","9778397bd097c36b0b6fc9274c91aa","97b6b97bd19801ec9210c965cc920e","97bcf97c3598082c95f8c965cc920f","97bd097bd097c35b0b6fc920fb0722","9778397bd097c36b0b6fc9274c91aa","97b6b97bd19801ec9210c965cc920e","97bcf97c359801ec95f8c965cc920f","97bd097bd097c35b0b6fc920fb0722","9778397bd097c36b0b6fc9274c91aa","97b6b97bd19801ec9210c965cc920e","97bcf97c359801ec95f8c965cc920f","97bd097bd097c35b0b6fc920fb0722","9778397bd097c36b0b6fc9274c91aa","97b6b97bd19801ec9210c965cc920e","97bcf97c359801ec95f8c965cc920f","97bd097bd07f595b0b6fc920fb0722","9778397bd097c36b0b6fc9210c8dc2","9778397bd19801ec9210c9274c920e","97b6b97bd19801ec95f8c965cc920f","97bd07f5307f595b0b0bc920fb0722","7f0e397bd097c36b0b6fc9210c8dc2","9778397bd097c36c9210c9274c920e","97b6b97bd19801ec95f8c965cc920f","97bd07f5307f595b0b0bc920fb0722","7f0e397bd097c36b0b6fc9210c8dc2","9778397bd097c36c9210c9274c91aa","97b6b97bd19801ec9210c965cc920e","97bd07f1487f595b0b0bc920fb0722","7f0e397bd097c36b0b6fc9210c8dc2","9778397bd097c36b0b6fc9274c91aa","97b6b97bd19801ec9210c965cc920e","97bcf7f1487f595b0b0bb0b6fb0722","7f0e397bd097c35b0b6fc920fb0722","9778397bd097c36b0b6fc9274c91aa","97b6b97bd19801ec9210c965cc920e","97bcf7f1487f595b0b0bb0b6fb0722","7f0e397bd097c35b0b6fc920fb0722","9778397bd097c36b0b6fc9274c91aa","97b6b97bd19801ec9210c965cc920e","97bcf7f1487f531b0b0bb0b6fb0722","7f0e397bd097c35b0b6fc920fb0722","9778397bd097c36b0b6fc9274c91aa","97b6b97bd19801ec9210c965cc920e","97bcf7f1487f531b0b0bb0b6fb0722","7f0e397bd07f595b0b6fc920fb0722","9778397bd097c36b0b6fc9274c91aa","97b6b97bd19801ec9210c9274c920e","97bcf7f0e47f531b0b0bb0b6fb0722","7f0e397bd07f595b0b0bc920fb0722","9778397bd097c36b0b6fc9210c91aa","97b6b97bd197c36c9210c9274c920e","97bcf7f0e47f531b0b0bb0b6fb0722","7f0e397bd07f595b0b0bc920fb0722","9778397bd097c36b0b6fc9210c8dc2","9778397bd097c36c9210c9274c920e","97b6b7f0e47f531b0723b0b6fb0722","7f0e37f5307f595b0b0bc920fb0722","7f0e397bd097c36b0b6fc9210c8dc2","9778397bd097c36b0b70c9274c91aa","97b6b7f0e47f531b0723b0b6fb0721","7f0e37f1487f595b0b0bb0b6fb0722","7f0e397bd097c35b0b6fc9210c8dc2","9778397bd097c36b0b6fc9274c91aa","97b6b7f0e47f531b0723b0b6fb0721","7f0e27f1487f595b0b0bb0b6fb0722","7f0e397bd097c35b0b6fc920fb0722","9778397bd097c36b0b6fc9274c91aa","97b6b7f0e47f531b0723b0b6fb0721","7f0e27f1487f531b0b0bb0b6fb0722","7f0e397bd097c35b0b6fc920fb0722","9778397bd097c36b0b6fc9274c91aa","97b6b7f0e47f531b0723b0b6fb0721","7f0e27f1487f531b0b0bb0b6fb0722","7f0e397bd097c35b0b6fc920fb0722","9778397bd097c36b0b6fc9274c91aa","97b6b7f0e47f531b0723b0b6fb0721","7f0e27f1487f531b0b0bb0b6fb0722","7f0e397bd07f595b0b0bc920fb0722","9778397bd097c36b0b6fc9274c91aa","97b6b7f0e47f531b0723b0787b0721","7f0e27f0e47f531b0b0bb0b6fb0722","7f0e397bd07f595b0b0bc920fb0722","9778397bd097c36b0b6fc9210c91aa","97b6b7f0e47f149b0723b0787b0721","7f0e27f0e47f531b0723b0b6fb0722","7f0e397bd07f595b0b0bc920fb0722","9778397bd097c36b0b6fc9210c8dc2","977837f0e37f149b0723b0787b0721","7f07e7f0e47f531b0723b0b6fb0722","7f0e37f5307f595b0b0bc920fb0722","7f0e397bd097c35b0b6fc9210c8dc2","977837f0e37f14998082b0787b0721","7f07e7f0e47f531b0723b0b6fb0721","7f0e37f1487f595b0b0bb0b6fb0722","7f0e397bd097c35b0b6fc9210c8dc2","977837f0e37f14998082b0787b06bd","7f07e7f0e47f531b0723b0b6fb0721","7f0e27f1487f531b0b0bb0b6fb0722","7f0e397bd097c35b0b6fc920fb0722","977837f0e37f14998082b0787b06bd","7f07e7f0e47f531b0723b0b6fb0721","7f0e27f1487f531b0b0bb0b6fb0722","7f0e397bd097c35b0b6fc920fb0722","977837f0e37f14998082b0787b06bd","7f07e7f0e47f531b0723b0b6fb0721","7f0e27f1487f531b0b0bb0b6fb0722","7f0e397bd07f595b0b0bc920fb0722","977837f0e37f14998082b0787b06bd","7f07e7f0e47f531b0723b0b6fb0721","7f0e27f1487f531b0b0bb0b6fb0722","7f0e397bd07f595b0b0bc920fb0722","977837f0e37f14998082b0787b06bd","7f07e7f0e47f149b0723b0787b0721","7f0e27f0e47f531b0b0bb0b6fb0722","7f0e397bd07f595b0b0bc920fb0722","977837f0e37f14998082b0723b06bd","7f07e7f0e37f149b0723b0787b0721","7f0e27f0e47f531b0723b0b6fb0722","7f0e397bd07f595b0b0bc920fb0722","977837f0e37f14898082b0723b02d5","7ec967f0e37f14998082b0787b0721","7f07e7f0e47f531b0723b0b6fb0722","7f0e37f1487f595b0b0bb0b6fb0722","7f0e37f0e37f14898082b0723b02d5","7ec967f0e37f14998082b0787b0721","7f07e7f0e47f531b0723b0b6fb0722","7f0e37f1487f531b0b0bb0b6fb0722","7f0e37f0e37f14898082b0723b02d5","7ec967f0e37f14998082b0787b06bd","7f07e7f0e47f531b0723b0b6fb0721","7f0e37f1487f531b0b0bb0b6fb0722","7f0e37f0e37f14898082b072297c35","7ec967f0e37f14998082b0787b06bd","7f07e7f0e47f531b0723b0b6fb0721","7f0e27f1487f531b0b0bb0b6fb0722","7f0e37f0e37f14898082b072297c35","7ec967f0e37f14998082b0787b06bd","7f07e7f0e47f531b0723b0b6fb0721","7f0e27f1487f531b0b0bb0b6fb0722","7f0e37f0e366aa89801eb072297c35","7ec967f0e37f14998082b0787b06bd","7f07e7f0e47f149b0723b0787b0721","7f0e27f1487f531b0b0bb0b6fb0722","7f0e37f0e366aa89801eb072297c35","7ec967f0e37f14998082b0723b06bd","7f07e7f0e47f149b0723b0787b0721","7f0e27f0e47f531b0723b0b6fb0722","7f0e37f0e366aa89801eb072297c35","7ec967f0e37f14998082b0723b06bd","7f07e7f0e37f14998083b0787b0721","7f0e27f0e47f531b0723b0b6fb0722","7f0e37f0e366aa89801eb072297c35","7ec967f0e37f14898082b0723b02d5","7f07e7f0e37f14998082b0787b0721","7f07e7f0e47f531b0723b0b6fb0722","7f0e36665b66aa89801e9808297c35","665f67f0e37f14898082b0723b02d5","7ec967f0e37f14998082b0787b0721","7f07e7f0e47f531b0723b0b6fb0722","7f0e36665b66a449801e9808297c35","665f67f0e37f14898082b0723b02d5","7ec967f0e37f14998082b0787b06bd","7f07e7f0e47f531b0723b0b6fb0721","7f0e36665b66a449801e9808297c35","665f67f0e37f14898082b072297c35","7ec967f0e37f14998082b0787b06bd","7f07e7f0e47f531b0723b0b6fb0721","7f0e26665b66a449801e9808297c35","665f67f0e37f1489801eb072297c35","7ec967f0e37f14998082b0787b06bd","7f07e7f0e47f531b0723b0b6fb0721","7f0e27f1487f531b0b0bb0b6fb0722"],n.exports=r.default},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.default=["","","","","","","","","","",""],n.exports=r.default},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.default=["","","",""],n.exports=r.default},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.default=["","","","","","","","","","","",""],n.exports=r.default},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.default=["","","","","","","","","","",""],n.exports=r.default}])})})(wb)),wb.exports}var w4=xte();const _te=hi(w4),wte=i2({__proto__:null,default:_te},[w4]);function V2(e){return typeof e=="object"&&e!==null}function Ste(e){return V2(e)&&"default"in e}function kte(e){return V2(e)&&typeof e.lunar2solar=="function"}function Ete(e){if(!V2(e))throw new Error("Invalid lunar2solar result");const t=e.cYear,n=e.cMonth,r=e.cDay,i=e.isLeap;if(typeof t!="number"||typeof n!="number"||typeof r!="number")throw new Error("Invalid lunar2solar fields");return{cYear:t,cMonth:n,cDay:r,isLeap:typeof i=="boolean"?i:void 0}}function Ate(e){const t=Ste(e)?e.default:e;if(!kte(t))throw new Error("solarlunar.lunar2solar not found");return{lunar2solar:(r,i,a,o)=>{const l=t.lunar2solar(r,i,a,o);return Ete(l)}}}const Tte=Ate(wte);function Gi(e,t,n,r=4,i=0){const a=Tte.lunar2solar(e,t,n,!1);return new Date(a.cYear,a.cMonth-1,a.cDay,r,i)}const YM=e=>e<10?`0${e}`:`${e}`;function dp(e){if(e.calendarType!=="lunar")return e;const t=up(e.birthDay??"");if(!t)return e;try{const n=Gi(t.y,t.m,t.d,0,0),r=n.getFullYear(),i=n.getMonth()+1,a=n.getDate();return{...e,birthDay:`${r}${YM(i)}${YM(a)}`,calendarType:"solar"}}catch{return e}}function Z2(e){const t=e.mingSikType??"/",n=up(e.birthDay??"");if(!n){const C=e.corrected instanceof Date?e.corrected:new Date(NaN),M=typeof e.ganji=="string"?e.ganji:"",P=typeof e.ganjiText=="string"?e.ganjiText:M,$=typeof e.dayStem=="string"?e.dayStem:"";return{corrected:C,correctedLocal:typeof e.correctedLocal=="string"?e.correctedLocal:"",ganji:M,ganjiText:P,dayStem:$}}let r=n.y,i=n.m,a=n.d;if(e.calendarType==="lunar")try{const C=Gi(r,i,a,0,0);r=C.getFullYear(),i=C.getMonth()+1,a=C.getDate()}catch{}const o=wv(e.birthTime??""),l=!e.birthTime||e.birthTime===""||!o,u=l?4:o.hh,d=l?30:o.mm,h=!e.birthPlace||e.birthPlace.name===""||e.birthPlace.lon===0?127.5:e.birthPlace.lon,p=new Date(r,i-1,a,u,d,0,0),b=!e.birthPlace||typeof e.birthPlace=="object"&&e.birthPlace.name==="",x=cp(p,h,b),k=l?"":x.toLocaleTimeString("ko-KR",{hour:"2-digit",minute:"2-digit",hour12:!1}),S=ot(x,h),_=_t(x,h),T=pt(x,t),N=l?null:Fa(x,t),j=[` : ${S} ${_} ${T}`,N?`${N}`:null].filter(Boolean).join(" ");return{corrected:x,correctedLocal:k,ganji:j,ganjiText:j,dayStem:T.charAt(0)}}function KM(e,t){return e instanceof Date&&!Number.isNaN(e.getTime())?e:t}function fp(e){return(typeof e=="string"?e.trim():"")===""?"":""}function WM(e){if(typeof e!="string")return null;const t=e.match(/\s*:\s*(.)/);return t?t[1]:null}function jte(e){const t=WM(e.ganjiText)??WM(e.ganji);if(!t)return"forward";const r=["","","","",""].includes(t),i=fp(e.gender)==="";return r?i?"forward":"backward":i?"backward":"forward"}function Dm(e){const t={...e,birthDay:Sv(e.birthDay??""),birthTime:e.birthTime===""?"":kv(e.birthTime??""),gender:fp(e.gender),dateObj:KM(e.dateObj,new Date),corrected:KM(e.corrected,new Date(NaN)),correctedLocal:typeof e.correctedLocal=="string"?e.correctedLocal:"",ganjiText:typeof e.ganjiText=="string"?e.ganjiText:"",ganji:typeof e.ganji=="string"?e.ganji:"",dayStem:typeof e.dayStem=="string"?e.dayStem:"",calendarType:e.calendarType==="lunar"?"lunar":"solar",dir:e.dir==="backward"?"backward":"forward"},n=Z2(t),r={...t,...n};return{...r,dir:jte(r)}}function Ote(e){return e===""||e==="/"||e===""?e:"/"}function Nte(e){return e==="lunar"?"lunar":"solar"}function Cte(e,t){if(t||!e||e.name==="")return{name:"",lat:0,lon:127.5};const n=Number.isFinite(e.lat)?e.lat:0,r=Number.isFinite(e.lon)?e.lon:127.5;return{name:typeof e.name=="string"&&e.name.trim()?e.name.trim():"",lat:n,lon:r}}function Mte(e,t){const n=typeof e=="string"?e.trim():"";return n?{ok:!0,value:n}:t?{ok:!1,message:" ."}:{ok:!0,value:""}}function X2(e,t){const r=Sv(typeof e=="string"?e:""),i=up(r);if(!i)return{ok:!1,message:"(YYYYMMDD)  ."};if(i.y<1900||i.y>2100)return{ok:!1,message:"(YYYY) 1900~2100  ."};if(t==="solar"){const a=new Date(i.y,i.m-1,i.d);if(a.getFullYear()!==i.y||a.getMonth()+1!==i.m||a.getDate()!==i.d)return{ok:!1,message:"  ."}}else try{Gi(i.y,i.m,i.d,0,0)}catch{return{ok:!1,message:"      ."}}return{ok:!0,value:r}}function J2(e,t){if(t)return{ok:!0,value:""};const r=kv(typeof e=="string"?e:"");return wv(r)?{ok:!0,value:r}:{ok:!1,message:"  HHmm  ."}}function S4(e,t){const n=t?.requireName??!1,r=Mte(e.name,n);if(!r.ok)return r;const i=Nte(e.calendarType),a=X2(e.birthDay,i);if(!a.ok)return a;const o=J2(e.birthTime,e.unknownTime);if(!o.ok)return o;const l=Ote(e.mingSikType),u={id:e.id,name:r.value,birthDay:a.value,birthTime:o.value,gender:fp(e.gender),sortOrder:e.sortOrder,birthPlace:Cte(e.birthPlace,e.unknownPlace),relationship:e.relationship??"",memo:e.memo??"",folder:e.folder,mingSikType:l,DayChangeRule:l===""?"":"",favorite:e.favorite??!1,deletedAt:e.deletedAt??null,dateObj:e.dateObj??new Date,corrected:new Date(NaN),correctedLocal:"",dayStem:"",ganjiText:"",ganji:"",calendarType:i,dir:"forward"};return{ok:!0,value:Dm(u)}}function Pl(e){const t=dp(e),n=up(t.birthDay??"");if(!n)throw new Error(`Invalid date: ${e.birthDay}`);const r=wv(t.birthTime??""),i=r?r.hh:0,a=r?r.mm:0,o=new Date(n.y,n.m-1,n.d,i,a,0,0);if(Number.isNaN(o.getTime()))throw new Error(`Invalid date: ${e.birthDay} ${e.birthTime}`);const l=!t.birthPlace||typeof t.birthPlace=="object"&&t.birthPlace.name==="",u=t.birthPlace?.lon??127.5;return cp(o,u,l)}function Dte(e){return typeof e=="object"&&e!==null&&!Array.isArray(e)}function Vc(e){return[...e].sort((t,n)=>{const r=typeof t.sortOrder=="number"&&Number.isFinite(t.sortOrder)?t.sortOrder:-1,i=typeof n.sortOrder=="number"&&Number.isFinite(n.sortOrder)?n.sortOrder:-1;if(r!==i)return r-i;const a=(t.name??"").toString(),o=(n.name??"").toString(),l=a.localeCompare(o);return l!==0?l:t.id.localeCompare(n.id)})}function Pk(e){if(!Dte(e))return null;const t=typeof e.id=="string"?e.id:null,n=typeof e.user_id=="string"?e.user_id:null;if(!t||!n)return null;const r=o=>typeof o=="number"&&Number.isFinite(o)?o:null,i=o=>typeof o=="string"?o:null,a=o=>typeof o=="boolean"?o:null;return{id:t,user_id:n,name:i(e.name),birth_day:i(e.birth_day),birth_time:i(e.birth_time),gender:i(e.gender),birth_place_name:i(e.birth_place_name),birth_place_lat:r(e.birth_place_lat),birth_place_lon:r(e.birth_place_lon),relationship:i(e.relationship),memo:i(e.memo),folder:i(e.folder),ming_sik_type:i(e.ming_sik_type),day_change_rule:i(e.day_change_rule),calendar_type:i(e.calendar_type),favorite:a(e.favorite),sort_order:typeof e.sort_order=="string"||typeof e.sort_order=="number"?e.sort_order:null,created_at:i(e.created_at),deleted_at:i(e.deleted_at),updated_at:i(e.updated_at)}}function k4(e){const t={name:e.birth_place_name??"",lat:e.birth_place_lat??0,lon:e.birth_place_lon??127.5},n=e.sort_order===null||e.sort_order===void 0?void 0:Number(e.sort_order),r=typeof n=="number"&&Number.isFinite(n)?n:void 0,i={id:e.id,name:e.name??"",birthDay:Sv(e.birth_day??""),birthTime:kv(e.birth_time??""),gender:fp(e.gender),birthPlace:t,relationship:e.relationship??"",memo:e.memo??"",folder:e.folder??"",mingSikType:["","/",""].includes(e.ming_sik_type)?e.ming_sik_type:"",DayChangeRule:e.day_change_rule===""||e.day_change_rule===""?e.day_change_rule:"",favorite:e.favorite??!1,deletedAt:e.deleted_at??null,sortOrder:r,dateObj:new Date,corrected:new Date(NaN),correctedLocal:"",dayStem:"",ganjiText:"",ganji:"",calendarType:e.calendar_type==="lunar"?"lunar":"solar",dir:"forward"};return Dm(i)}function Pte(e,t){const n=typeof e.folder=="string"?e.folder.trim():"",r=typeof e.sortOrder=="number"&&Number.isFinite(e.sortOrder)?e.sortOrder:null;return{id:e.id,user_id:t,sort_order:r,folder:n||null,favorite:!!e.favorite,updated_at:new Date().toISOString()}}function VM(e,t){const n=Sv(e.birthDay??""),r=kv(e.birthTime??""),i=e.birthPlace??{name:"",lat:0,lon:127.5},a=typeof e.sortOrder=="number"&&Number.isFinite(e.sortOrder)?e.sortOrder:null;return{id:e.id,user_id:t,name:e.name??null,birth_day:n||null,birth_time:r||null,gender:fp(e.gender),birth_place_name:i.name??null,birth_place_lat:typeof i.lat=="number"?i.lat:null,birth_place_lon:typeof i.lon=="number"?i.lon:null,relationship:e.relationship??null,memo:e.memo??null,folder:typeof e.folder=="string"?e.folder:null,ming_sik_type:e.mingSikType??null,day_change_rule:e.DayChangeRule??null,calendar_type:e.calendarType??"solar",favorite:e.favorite??!1,deleted_at:e.deletedAt??null,sort_order:a,updated_at:new Date().toISOString()}}const Rk="hm_session_started_at_ms",Rte=7200*1e3;function E4(){return typeof window>"u"?null:window.localStorage}function Lte(){const e=E4();if(!e)return Date.now();const t=e.getItem(Rk),n=t?Number(t):NaN;if(Number.isFinite(n))return n;const r=Date.now();return e.setItem(Rk,String(r)),r}function Ite(e=Date.now()){const t=E4();if(t)try{t.setItem(Rk,String(e))}catch{}}function $te(e=Date.now()){const t=Lte();return e-t>=Rte}const k0="myeongsik-list";function Bte(e){try{return JSON.parse(e)}catch{return null}}async function zte(e){if(typeof window>"u")return;const t=window.localStorage.getItem(k0);if(!t)return;const n=Bte(t);if(!n){window.localStorage.removeItem(k0);return}const r=n.state??{},i=Array.isArray(r.list)?r.list:[];if(i.length===0){window.localStorage.removeItem(k0);return}const a=await e.getUser();if(!a)return;const o=await e.fetchRows(a.id),l=new Set(o.map(d=>d.id)),u=i.filter(d=>!!d&&typeof d.id=="string"&&d.id.trim()!==""&&!l.has(d.id));for(const d of u)await e.upsertOne(a.id,d);window.localStorage.removeItem(k0)}const Ute=250;function Fte(e){return e.map(t=>{const n=typeof t.folder=="string"?t.folder.trim():"",r=typeof t.sortOrder=="number"&&Number.isFinite(t.sortOrder)?t.sortOrder:"",i=t.favorite?1:0;return`${t.id}:${r}:${n}:${i}`}).join("|")}function Hte(e){if(typeof window>"u")return;const t=window,n="__hm_reorder_flush_installed__";t[n]!==!0&&(t[n]=!0,window.addEventListener("beforeunload",()=>e()),document.addEventListener("visibilitychange",()=>{document.visibilityState==="hidden"&&e()}))}function Gte(e){let t=null,n=null,r=!1,i="";async function a(){if(!r){r=!0;try{for(;n;){const l=n;if(n=null,l.key&&l.key===i){l.resolve();continue}const u=await e.getUser();if(!u){console.warn("reorder flush skipped: no user"),l.resolve();continue}await e.upsertOrderPatch(u.id,l.list),i=l.key,l.resolve()}}finally{r=!1}}}Hte(()=>{a()});function o(l,u){const d=Fte(l);if(d&&d===i&&!n)return Promise.resolve();if(n)n.key=d,n.list=l;else{let h;const p=new Promise(b=>{h=b});n={key:d,list:l,promise:p,resolve:h}}return typeof window>"u"?(a(),n.promise):(t&&window.clearTimeout(t),u?.immediate?a():t=window.setTimeout(()=>{t=null,a()},Ute),n.promise)}return{queue:o,flushNow:a}}const sr="__UNASSIGNED__",qte=[" ",""],Cl=e=>typeof e=="string"?e.trim():"",A4=e=>qte.includes(e);function Ad(e,t){const n=[],r=[];for(const i of e){const a=Cl(i);a&&(t[a]?n.push(a):r.push(a))}return[...n,...r]}function Ev(e,t){const n=new Set(t.map(o=>Cl(o)).filter(o=>o!=="")),r=new Set,i=Object.create(null),a=(o,l)=>{i[o]||(i[o]=[]),i[o].push(l)};for(const o of e){const l=String(o.id??"");if(!l||r.has(l))continue;r.add(l);const u=Cl(o.folder),d=!u||A4(u)?sr:n.has(u)?u:sr;a(d,o)}i[sr]||(i[sr]=[]);for(const o of t){const l=Cl(o);l&&(i[l]||(i[l]=[]))}return i}function Q2(e,t){const n=[];for(const i of t){const a=Cl(i);if(!a)continue;const o=e[a];Array.isArray(o)&&n.push(...o)}const r=e[sr];return Array.isArray(r)&&r.length&&n.push(...r),n}function Yte(e){const{list:t,orderedFolders:n,source:r,destination:i}=e,a=Ev(t,n),o=r.droppableId===sr?sr:r.droppableId,l=i.droppableId===sr?sr:i.droppableId,u=[...a[o]??[]],d=o===l?u:[...a[l]??[]],h=u[r.index];if(!h)return{nextList:t,changedIds:[]};u.splice(r.index,1);const b=o!==l&&l===sr,x=Math.max(0,Math.min(i.index,d.length)),k=b?d.length:x;o===l?u.splice(k,0,h):d.splice(k,0,h);const S=String(h.id),_=new Set([S]),T={...h,folder:l===sr?"":l};return a[o]=u,a[l]=o===l?u:d,a[l]=(a[l]??[]).map(N=>String(N.id)===S?T:N),{nextList:Q2(a,n),changedIds:Array.from(_)}}function Kte(e){const{list:t,orderedFolders:n,targetId:r,nextFolder:i}=e,a=Ev(t,n),o=[...n.map(T=>Cl(T)),sr].filter(Boolean);let l=null,u=-1;for(const T of o){const j=(a[T]??[]).findIndex(C=>String(C.id)===r);if(j>=0){l=T,u=j;break}}if(!l||u<0)return{nextList:t,changedIds:[]};const d=[...a[l]??[]],h=d[u];if(!h)return{nextList:t,changedIds:[]};d.splice(u,1);const p=Cl(i),b=!p||A4(p)?sr:p,x=l!==b,k=x?[...a[b]??[]]:d,S=String(h.id),_={...h,folder:b===sr?"":b};return x?k.push(_):d.splice(u,0,_),a[l]=d,a[b]=x?k:d,{nextList:Q2(a,n),changedIds:[S]}}function Wte(e){const{list:t,targetId:n,orderedFolders:r}=e,i=Ev(t,r);let a=null,o=null;const l=[...r.map(x=>Cl(x)),sr].filter(Boolean);for(const x of l){const k=i[x]??[],S=k.findIndex(_=>String(_.id)===n);if(S>=0){a=x,o=k[S]??null;break}}if(!a||!o)return{nextList:t,nextItem:null};const u=[...i[a]??[]],d=u.findIndex(x=>String(x.id)===n);if(d<0)return{nextList:t,nextItem:null};const h=u[d],p=!h.favorite,b={...h,favorite:p};return u.splice(d,1),p?u.unshift(b):u.push(b),i[a]=u,{nextList:Q2(i,r),nextItem:b}}function Vte(e){const{list:t,folderName:n}=e,r=n.trim();if(!r)return{nextList:t,changedIds:[]};const i=[],a=[],o=[];for(const l of t){if((l.folder??"").trim()!==r){a.push(l);continue}i.push(String(l.id)),o.push({...l,folder:""})}return{nextList:[...a,...o],changedIds:i}}function T4(e){return e.trim().length>0}const Lh=e=>e.toLowerCase().replace(/\s+/g," ").trim(),Zte=e=>e.replace(/\D/g,""),Xte=e=>{const t=typeof e.birthDay=="string"?e.birthDay:"",n=Zte(t);if(n.length!==8)return t?[t]:[];const r=n.slice(0,4),i=n.slice(4,6),a=n.slice(6,8);return[n,`${r}-${i}-${a}`,`${r}.${i}.${a}`,`${r}/${i}/${a}`,`${r}${i}${a}`]},Jte=e=>{const t=[],n=typeof e.ganji=="string"?e.ganji:"",r=typeof e.ganjiText=="string"?e.ganjiText:"",i=typeof e.dayStem=="string"?e.dayStem:"";return n&&t.push(n),r&&t.push(r),i&&t.push(i),t},Qte=e=>{const t=[],n=typeof e.memo=="string"?e.memo:"",r=typeof e.relationship=="string"?e.relationship:"",i=e.birthPlace&&typeof e.birthPlace=="object"&&typeof e.birthPlace.name=="string"?e.birthPlace.name:"";return n&&t.push(n),r&&t.push(r),i&&t.push(i),t},ZM=(e,t,n)=>{const r=Lh(t);if(!r)return!0;const i=Lh(typeof e.name=="string"?e.name:""),a=Xte(e).map(Lh),o=Jte(e).map(Lh),l=Qte(e).map(Lh),u=h=>h.includes(r),d=h=>h.some(u);switch(n){case"name":return u(i);case"birth":return d(a);case"ganji":return d(o);case"memo":return d(l);case"all":default:return u(i)||d(a)||d(o)||d(l)}};function ene(e){const{search:t,searchMode:n,orderedFolders:r,grouped:i,unassignedItems:a}=e;if(!T4(t)){const d={};for(const h of r){const p=typeof h=="string"?h.trim():"";p&&(d[p]=i[p]??[])}return{filteredGrouped:d,filteredUnassigned:a??[],totalMatches:(a?.length??0)+r.reduce((h,p)=>h+(i[p]?.length??0),0)}}const o={};let l=0;for(const d of r){const h=typeof d=="string"?d.trim():"";if(!h)continue;const b=(i[h]??[]).filter(x=>ZM(x,t,n));o[h]=b,l+=b.length}const u=(a??[]).filter(d=>ZM(d,t,n));return l+=u.length,{filteredGrouped:o,filteredUnassigned:u,totalMatches:l}}function tne(e){return"source"in e&&"destination"in e?e:{orderedFolders:e.orderedFolders,source:{droppableId:(e.sourceFolder??sr).toString(),index:e.sourceIndex},destination:{droppableId:(e.destinationFolder??sr).toString(),index:e.destinationIndex}}}function nne(e,t){const n=String(t.eventType??""),r=Pk(t.new),i=Pk(t.old),a=r??i;if(!a)return e;if(n==="DELETE"||a.deleted_at)return e.filter(d=>d.id!==a.id);const o=k4(a),u=e.some(d=>d.id===o.id)?e.map(d=>d.id===o.id?o:d):[...e,o];return Vc(u)}async function rne(e){if(!e)return;const t=De;if(typeof t.removeChannel=="function"){await t.removeChannel(e);return}if(typeof t.removeSubscription=="function"){await t.removeSubscription(e);return}}function ine(){return["id","user_id","name","birth_day","birth_time","gender","birth_place_name","birth_place_lat","birth_place_lon","relationship","memo","folder","ming_sik_type","day_change_rule","calendar_type","favorite","deleted_at","created_at","updated_at","sort_order"].join(", ")}function ane(){return{async getUser(){const{data:e,error:t}=await De.auth.getUser();return t||!e.user?null:{id:e.user.id}},async fetchRows(e){const{data:t,error:n}=await De.from("myeongsik").select(ine()).eq("user_id",e).is("deleted_at",null).order("sort_order",{ascending:!0,nullsFirst:!0}).order("created_at",{ascending:!1});return n||!t?[]:(Array.isArray(t)?t:[]).map(i=>Pk(i)).filter(i=>i!==null).filter(i=>i.user_id===e)},async upsertOne(e,t){const n=VM(t,e),{error:r}=await De.from("myeongsik").upsert(n,{onConflict:"id"});r&&console.error("myeongsik upsert error:",r)},async updateOne(e,t,n){const r=VM(n,e),{error:i}=await De.from("myeongsik").update(r).eq("id",t);i&&console.error("myeongsik update error:",i)},async softDelete(e){const t=new Date().toISOString(),{error:n}=await De.from("myeongsik").update({deleted_at:t}).eq("id",e);n&&console.error("myeongsik softDelete error:",n)},async upsertOrderPatch(e,t){const n=t.map(i=>Pte(i,e)),{error:r}=await De.from("myeongsik").upsert(n,{onConflict:"id"});r&&console.error("myeongsik orderPatch upsert error:",r)},async subscribe(e,t,n){const r=De.channel(`myeongsik:${e}`).on("postgres_changes",{event:"*",schema:"public",table:"myeongsik",filter:`user_id=eq.${e}`},a=>{typeof a!="object"||a===null||t(a)}).subscribe(a=>{n&&n(String(a))});return{async unsubscribe(){await rne(r)}}}}}function one(e){return e.trim().toLowerCase().replace(/\s+/g,"").replace(/-/g,"_")}function om(e){if(!e)return"FREE";const t=one(e);return t==="free"?"FREE":t==="basic"?"BASIC":t==="pro"?"PRO":t==="prompt_hidden"||t==="prompt_hide"||t==="hidden"||t==="hide"||t==="prompt_locked"||t==="prompt_lock"||t==="locked"||t==="lock"?"FREE":t==="prompt_full"||t==="full"?"PRO":t==="ms_all"||t==="msall"||t==="basic_3"||t==="basic3"||t==="basic_5"||t==="basic5"||t==="basic_10"||t==="basic10"?"BASIC":t==="pro_select"||t==="proselect"?"PRO":"FREE"}function Lk(e){switch(e){case"FREE":return{maxMyeongsik:1,canManageMyeongsik:!0,canUseLuckTabs:!0,canUseMultiMode:!0,canUseAllPrompts:!1,canUseAdvancedReport:!1,canRemoveAds:!1};case"BASIC":return{maxMyeongsik:9999,canManageMyeongsik:!0,canUseLuckTabs:!0,canUseMultiMode:!0,canUseAllPrompts:!0,canUseAdvancedReport:!0,canRemoveAds:!1};case"PRO":return{maxMyeongsik:null,canManageMyeongsik:!0,canUseLuckTabs:!0,canUseMultiMode:!0,canUseAllPrompts:!0,canUseAdvancedReport:!0,canRemoveAds:!0}}}const E0={plan:"FREE",maxMyeongsik:1,canManageMyeongsik:!0,canUseLuckTabs:!0,canUseMultiMode:!0,canUseAllPrompts:!1,canUseAdvancedReport:!1,canRemoveAds:!1,canUseMyoViewer:!1,startsAt:null,expiresAt:null};function sne(e,t){if(typeof e=="number"&&Number.isFinite(e))return Math.floor(e);if(typeof e=="string"&&e.trim()!==""){const n=Number(e);return Number.isFinite(n)?Math.floor(n):t}return t}function XM(e){if(typeof e!="string"||e.trim()==="")return null;const t=new Date(e);return Number.isNaN(t.getTime())?null:t}function JM(e,t,n=Date.now()){return!(e&&e.getTime()>n||t&&t.getTime()<=n)}function lne(e){return e?e.can_use_myo_viewer===!0:!1}async function cne(e){const{data:t,error:n}=await De.from("user_entitlements").select("plan,max_myeongsik,starts_at,expires_at,can_use_myo_viewer").eq("user_id",e).maybeSingle();return n?null:t??null}const on=As((e,t)=>({loaded:!1,loading:!1,userId:null,...E0,reset:()=>{e({loaded:!1,loading:!1,userId:null,...E0})},loadFromServer:async n=>{if(!t().loading){e({loading:!0});try{const{data:i,error:a}=await De.auth.getUser(),o=i.user?.id??null;if(a||!o){e({...E0,loaded:!0,userId:null});return}const l=t();if(!n?.force&&l.loaded&&l.userId===o)return;const u=await cne(o);if(!u){const N=Lk("FREE");e({loaded:!0,userId:o,plan:"FREE",maxMyeongsik:N.maxMyeongsik===null?9999:N.maxMyeongsik,canManageMyeongsik:N.canManageMyeongsik,canUseLuckTabs:N.canUseLuckTabs,canUseMultiMode:N.canUseMultiMode,canUseAllPrompts:N.canUseAllPrompts,canUseAdvancedReport:N.canUseAdvancedReport,canRemoveAds:N.canRemoveAds,canUseMyoViewer:!1,startsAt:null,expiresAt:null});return}const d=XM(u.starts_at??null),h=XM(u.expires_at??null),p=JM(d,h),b=om(u.plan??null),x=p?b:"FREE",k=Lk(x),S=k.maxMyeongsik===null?9999:k.maxMyeongsik,_=sne(u.max_myeongsik,S),T=Math.max(1,Math.max(_,S));e({loaded:!0,userId:o,plan:x,maxMyeongsik:T,canManageMyeongsik:k.canManageMyeongsik,canUseLuckTabs:k.canUseLuckTabs,canUseMultiMode:k.canUseMultiMode,canUseAllPrompts:k.canUseAllPrompts,canUseAdvancedReport:k.canUseAdvancedReport,canRemoveAds:k.canRemoveAds,canUseMyoViewer:lne(u),startsAt:d,expiresAt:h})}catch(i){console.error("loadFromServer(entitlements) exception:",i),e({...E0,loaded:!0,userId:null})}finally{e({loading:!1})}}},isActiveNow:()=>{const{startsAt:n,expiresAt:r}=t();return JM(n,r)},getRemainingMs:n=>{if(!n)return null;const r=n.getTime()-Date.now();return r>0?r:0},formatRemaining:n=>{const r=Math.floor(n/1e3),i=r%60,a=Math.floor(r/60),o=a%60,l=Math.floor(a/60),u=l%24,d=Math.floor(l/24),h=[];return d>0&&h.push(`${d}`),u>0&&h.push(`${u}`),d===0&&o>0&&h.push(`${o}`),h.length===0&&h.push(`${i}`),h.join(" ")},canAddMyeongsik:()=>({ok:!0}),canManageNow:()=>{const n=t();return n.loaded&&n.isActiveNow()&&n.canManageMyeongsik},canUseLuckTabsNow:()=>{const n=t();return n.loaded&&n.isActiveNow()&&n.canUseLuckTabs},canUseMultiModeNow:()=>{const n=t();return n.loaded&&n.isActiveNow()&&n.canUseMultiMode},canUseAllPromptsNow:()=>{const n=t();return n.loaded&&n.isActiveNow()&&n.canUseAllPrompts},canUseAdvancedReportNow:()=>{const n=t();return n.loaded&&n.isActiveNow()&&n.canUseAdvancedReport},shouldShowAdsNow:()=>{const n=t();return!n.loaded||!n.isActiveNow()?!0:!n.canRemoveAds},canUseMyoViewerNow:()=>{const n=t();return n.loaded&&n.canUseMyoViewer}})),eA="guest_myeongsik_v1";function j4(e){return typeof e=="object"&&e!==null}function Ik(e,t){if(typeof e=="number"&&Number.isFinite(e))return e;if(typeof e=="string"&&e.trim()!==""){const n=Number(e);if(Number.isFinite(n))return n}return t}function Oi(e,t=""){return typeof e=="string"?e:t}function une(e,t=!1){return typeof e=="boolean"?e:t}function dne(e){return j4(e)?{name:Oi(e.name,""),lat:Ik(e.lat,0),lon:Ik(e.lon,0)}:{name:"",lat:0,lon:0}}function fne(e){return{id:e.id,sortOrder:typeof e.sortOrder=="number"?e.sortOrder:1,name:e.name??"",birthDay:e.birthDay??"",birthTime:e.birthTime??"",gender:e.gender??"",birthPlace:e.birthPlace??{name:"",lat:0,lon:0},relationship:e.relationship??"",memo:e.memo??"",folder:e.folder??"",mingSikType:e.mingSikType??"/",DayChangeRule:e.DayChangeRule??"",favorite:!!e.favorite,calendarType:e.calendarType??"solar",dir:e.dir??"forward"}}function hne(e){if(!j4(e))return null;const t={id:Oi(e.id,""),sortOrder:Ik(e.sortOrder,1),name:Oi(e.name,""),birthDay:Oi(e.birthDay,""),birthTime:Oi(e.birthTime,""),gender:Oi(e.gender,""),birthPlace:dne(e.birthPlace),relationship:Oi(e.relationship,""),memo:Oi(e.memo,""),folder:Oi(e.folder,""),mingSikType:Oi(e.mingSikType,"/"),DayChangeRule:Oi(e.DayChangeRule,""),favorite:une(e.favorite,!1),calendarType:Oi(e.calendarType,"solar"),dir:Oi(e.dir,"forward")};return t.id?Dm(t):null}function O4(){try{const e=localStorage.getItem(eA);if(!e)return[];const t=JSON.parse(e);if(!Array.isArray(t))return[];const n=t.map(hne).filter(r=>r!==null);return Vc(n)}catch{return[]}}function _l(e){try{const t=e.map(fne);localStorage.setItem(eA,JSON.stringify(t))}catch{}}function N4(){try{localStorage.removeItem(eA)}catch{}}const wo=As(e=>({open:!1,reason:"HEADER",openWith:t=>e({open:!0,reason:t}),close:()=>e({open:!1})})),Rn=ane(),mne=Gte(Rn);function Dc(){const t=on.getState().canManageNow();return t||console.warn("[myeongsik] blocked: canManageNow=false"),t}function pne(e){const n=on.getState().canAddMyeongsik(e);return n.ok||console.warn("[myeongsik] blocked: canAddMyeongsik",n.message),n.ok}async function QM(e){const t=O4();if(t.length)try{for(const n of t)await Rn.upsertOne(e,n);N4()}catch(n){console.warn("[myeongsik] migrateGuestListToServerIfAny failed:",n)}}const wr=As((e,t)=>({loading:!1,realtimeReady:!1,list:[],currentId:null,_rtSub:null,_rtUserId:null,getCurrent:()=>{const{list:n,currentId:r}=t();return r?n.find(i=>i.id===r)??null:null},setCurrentId:n=>e({currentId:n}),startRealtime:async()=>{if(typeof window>"u")return;if($te()){Ite(Date.now()),window.location.reload();return}const n=await Rn.getUser();if(!n){await t().stopRealtime(),e({realtimeReady:!1});return}if(t()._rtUserId===n.id&&t()._rtSub){e({realtimeReady:!0});return}await t().stopRealtime();const r=await Rn.subscribe(n.id,i=>{e(a=>({list:nne(a.list,i)}))},i=>{i==="SUBSCRIBED"&&e({realtimeReady:!0})});e({_rtSub:r,_rtUserId:n.id})},stopRealtime:async()=>{const n=t()._rtSub;if(n)try{await n.unsubscribe()}catch(r){console.warn("stopRealtime error",r)}e({_rtSub:null,_rtUserId:null,realtimeReady:!1})},loadFromServer:async()=>{e({loading:!0});try{const n=await Rn.getUser();if(!n){const l=O4(),u=l[0]?.id??null;e({list:l,currentId:u}),await t().stopRealtime();return}await QM(n.id);const r=await Rn.fetchRows(n.id),i=Vc(r.map(k4)),a=t().currentId,o=a&&i.some(l=>l.id===a)?a:i[0]?.id??null;e({list:i,currentId:o}),await t().startRealtime()}catch(n){console.error("useMyeongSikStore.loadFromServer exception:",n)}finally{e({loading:!1})}},migrateLocalToServer:async()=>{try{await zte(Rn);const n=await Rn.getUser();n&&await QM(n.id)}catch(n){console.error("useMyeongSikStore.migrateLocalToServer exception:",n)}},add:async n=>{const r=await Rn.getUser(),i=t().list.length;if(!pne(i)){r||wo.getState().openWith("ADD_LIMIT");return}const a=(i||0)+1,o={...n,sortOrder:n.sortOrder??a},l=Dm(o),u=t().list,d=Vc([...u,l]),h=t().currentId??l.id;if(e({list:d,currentId:h}),!r){_l(d),d.length===1&&wo.getState().openWith("PERSIST_SAVE");return}await Rn.upsertOne(r.id,l)},update:async(n,r)=>{const i=await Rn.getUser();if(i&&!Dc())return;const a=t().list.find(u=>u.id===n);if(!a)return;const o=Dm({...a,...r}),l=Vc(t().list.map(u=>u.id===n?o:u));if(e({list:l}),!i){_l(l);return}await Rn.updateOne(i.id,n,o)},remove:async n=>{const r=await Rn.getUser();if(r&&!Dc())return;const a=t().list.filter(l=>l.id!==n),o=t().currentId===n?a[0]?.id??null:t().currentId;if(e({list:a,currentId:o}),!r){_l(a);return}await Rn.softDelete(n)},moveItemByDnD:async n=>{const r=t().list,i=tne(n),o=Yte({list:r,orderedFolders:i.orderedFolders,source:i.source,destination:i.destination}).nextList;e({list:o});const l=await Rn.getUser();if(l&&!Dc()){e({list:r});return}if(!l){_l(o);return}await t().reorder(o)},applyNextList:async n=>{const r=t().list;e({list:n});const i=await Rn.getUser();if(i&&!Dc()){e({list:r});return}if(!i){_l(n);return}await t().reorder(n)},toggleFavoriteWithReorder:async(n,r)=>{const i=await Rn.getUser();if(i&&!Dc())return;const o=Wte({list:t().list,targetId:n,orderedFolders:r}).nextList;if(e({list:o}),!i){_l(o);return}await t().reorder(o)},unsetFolderForFolder:async n=>{const r=await Rn.getUser();if(r&&!Dc())return;const i=(n??"").trim();if(!i)return;const a=t().list,o=Vte({list:a,folderName:i}),l=Vc(o.nextList),u=new Set(o.changedIds);if(u.size===0)return;if(e({list:l}),!r){_l(l);return}const d=l.filter(h=>u.has(h.id));await Rn.upsertOrderPatch(r.id,d)},reorder:async n=>{const r=await Rn.getUser();if(r&&!Dc())return;const i=n.map((o,l)=>({...o,sortOrder:l+1})),a=Vc(i);if(e({list:a}),!r){_l(a);return}await mne.queue(a)},clear:()=>{e({currentId:null,list:[]}),N4()}})),eD="__custom__",tD=[{value:"",label:" (1 )"},{value:"/",label:" / "},{value:"",label:""},{value:"",label:""},{value:"",label:""},{value:"",label:""},{value:"",label:""}],C4=({value:e,onChange:t})=>{const[n,r]=w.useState(tD),[i,a]=w.useState(""),[o,l]=w.useState(!1),[u,d]=w.useState(""),[h,p]=w.useState(!1),{list:b}=wr(),k=(e??i??"").trim()==="",_=b.some(M=>(M.relationship??"").trim()==="")&&!k?n.filter(M=>M.value!==""):n;w.useEffect(()=>{e!==void 0&&a(e)},[e]);const T=M=>{const P=M.target.value;P===eD?(l(!0),a(""),t?.("")):(l(!1),d(""),a(P),t?.(P))};w.useEffect(()=>{const M=localStorage.getItem("relationshipOptions");M&&r(JSON.parse(M))},[]),w.useEffect(()=>{(async()=>{const{data:{user:P},error:$}=await De.auth.getUser();if($||!P)return;const{data:U,error:Y}=await De.from("user_settings").select("payload").eq("user_id",P.id).single();if(Y&&Y.code!=="PGRST116"){console.error("load relationships settings error",Y.message);return}const W=U?.payload?.relationshipOptions;if(!Array.isArray(W))return;const H=W.map(z=>z&&typeof z=="object"&&typeof z.value=="string"&&typeof z.label=="string"?{value:z.value,label:z.label}:typeof z=="string"?{value:z,label:z}:null).filter(z=>!!z);H.length&&r(z=>{const V=new Set,X=[...H,...z,...tD].filter(Z=>V.has(Z.value)?!1:(V.add(Z.value),!0));return localStorage.setItem("relationshipOptions",JSON.stringify(X)),X})})()},[]),w.useEffect(()=>{localStorage.setItem("relationshipOptions",JSON.stringify(n)),(async()=>{const{data:{user:P},error:$}=await De.auth.getUser();if($||!P)return;const{data:U,error:Y}=await De.from("user_settings").select("payload").eq("user_id",P.id).single();if(Y&&Y.code!=="PGRST116"){console.error("load relationships settings error",Y.message);return}const W={...U?.payload??{},relationshipOptions:n},{error:H}=await De.from("user_settings").upsert({user_id:P.id,payload:W,updated_at:new Date().toISOString()});H&&console.error("save relationships settings error",H.message)})()},[n]);const N=()=>{const M=u.trim();if(!M)return;const P={value:M,label:M};r($=>[...$,P]),a(M),t?.(M),d(""),l(!1)},j=M=>{r(n.filter(P=>P.value!==M)),i===M&&a("")},C=M=>{if(!M.destination)return;const P=Array.from(n),[$]=P.splice(M.source.index,1);P.splice(M.destination.index,0,$),r(P)};return g.jsxs(g.Fragment,{children:[g.jsxs("div",{className:"rel_set flex items-center gap-2",children:[g.jsxs("select",{name:"relationship",id:"relationship",value:i,onChange:T,children:[g.jsx("option",{value:"",hidden:!0,children:""}),_.map(M=>g.jsx("option",{value:M.value,children:M.label},M.value)),g.jsx("option",{value:eD,children:" "})]}),g.jsx("button",{type:"button",onClick:()=>p(!0),className:"btn_style",children:""})]}),o&&!h&&g.jsxs("div",{className:"rel_set flex items-center mt-2 gap-2",children:[g.jsx("input",{type:"text",placeholder:" ",value:u,onChange:M=>d(M.target.value)}),g.jsx("button",{type:"button",onClick:N,className:"btn_style",children:""})]}),h&&g.jsxs("div",{className:"p-3 border mt-2 rounded bg-gray-50 dark:bg-neutral-900",children:[g.jsx("h4",{className:"font-bold mb-2",children:" "}),g.jsx(lp,{onDragEnd:C,children:g.jsx(mf,{droppableId:"relList",children:M=>g.jsxs("ul",{ref:M.innerRef,...M.droppableProps,className:"space-y-1",children:[n.map((P,$)=>g.jsx(hf,{draggableId:P.value,index:$,children:U=>g.jsxs("li",{ref:U.innerRef,...U.draggableProps,...U.dragHandleProps,className:"flex justify-between items-center bg-white dark:bg-neutral-800 p-2 rounded border text-sm desk:text-base",children:[g.jsx("span",{className:"cursor-grab mr-2",children:""}),g.jsx("span",{className:"flex-1 pr-1",children:P.label}),g.jsx("button",{type:"button",className:"text-red-500",onClick:()=>j(P.value),children:""})]})},P.value)),M.placeholder]})})}),g.jsx("button",{type:"button",onClick:()=>p(!1),className:"w-full btn_style mt-2",children:""})]})]})},fn=" ",M4=["","","","","",""],D4="ms_folders",P4="ms_folder_order",nD="ms_folder_favs",$k="ms_disabled_presets",Rl="myeoun:folder-updated";function nu(e){if(e!==fn)return e||void 0}function Av(e){if(typeof window>"u")return[];const t=window.localStorage.getItem(e);if(!t)return[];try{const n=JSON.parse(t);return Array.isArray(n)?n.filter(r=>typeof r=="string"):[]}catch{return[]}}function tA(e,t){if(!(typeof window>"u"))try{window.localStorage.setItem(e,JSON.stringify(t))}catch{}}function gne(){const e=Av($k);return M4.filter(t=>!e.includes(t))}function nA(){return Av(D4)}function rA(e){const t=Array.isArray(e)?e.filter(n=>typeof n=="string"&&n.trim()!==""):[];tA(D4,t),typeof window<"u"&&window.dispatchEvent(new Event(Rl))}function Qb(){const e=gne(),t=nA(),n=new Set,r=[];for(const i of[...e,...t])n.has(i)||(n.add(i),r.push(i));return r}function bne(){return[fn,...Qb()]}function R4(e){const t=e.trim();if(!t||t===fn)return;const n=nA();if(n.includes(t))return;const r=[...n,t];rA(r)}function yne(e){const t=nA(),n=t.filter(r=>r!==e);n.length!==t.length&&rA(n)}function vne(e){const t=Av($k);if(t.includes(e))return;const n=[...t,e];tA($k,n),typeof window<"u"&&window.dispatchEvent(new Event(Rl))}function ey(){return Av(P4)}function Td(e){tA(P4,e),typeof window<"u"&&window.dispatchEvent(new Event(Rl))}function pm(e,t){const n=new Set(e),r=[];for(const i of t)n.has(i)&&!r.includes(i)&&r.push(i);for(const i of e)r.includes(i)||r.push(i);return r}function xne(e){return Array.from(new Set(e))}function A0(e){const t=e.filter(n=>n!==fn);return{rest:t,withUnassigned:[fn,...t]}}function _ne(e,t){return pm(t,e)}function wne({value:e,onChange:t}){const[n,r]=w.useState([fn]),[i,a]=w.useState(!1),[o,l]=w.useState(""),[u,d]=w.useState(!1),h=w.useCallback(async _=>{const{data:{user:T},error:N}=await De.auth.getUser();if(N||!T)return;const j=_.map((M,P)=>({user_id:T.id,folder_name:M,sort_order:P+1,updated_at:new Date().toISOString()})),{error:C}=await De.from("user_folder_order").upsert(j,{onConflict:"user_id,folder_name"});C&&console.error("save folder order error",C.message)},[]),p=w.useCallback(()=>{if(typeof window>"u")return;const _=xne(bne()),T=_.includes(fn)?_:[fn,..._],{rest:N}=A0(T),j=ey(),C=_ne(j,N),M=[fn,...C];r(M),j.length===C.length&&j.every(($,U)=>$===C[U])||(Td(C),h(C))},[h]);w.useEffect(()=>{if(p(),typeof window<"u"){const _=()=>p();return window.addEventListener(Rl,_),()=>window.removeEventListener(Rl,_)}},[p]);const b=w.useMemo(()=>e||fn,[e]),x=_=>{const{rest:T}=A0(_);Td(T),h(T)},k=_=>{const{source:T,destination:N}=_;if(!N||N.index===T.index)return;const{rest:j}=A0(n),C=Array.from(j),[M]=C.splice(T.index,1);C.splice(N.index,0,M);const P=[fn,...C];r(P),x(P)},S=_=>{const T=nu(_);T&&(R4(T),p())};return g.jsxs("div",{className:"space-y-2",children:[g.jsxs("div",{className:"flex items-center gap-2",children:[g.jsxs("select",{className:"flex-1 border rounded-lg p-2",value:i?"__custom__":b,onChange:_=>{const T=_.target.value;if(T==="__custom__"){a(!0),t(void 0);return}a(!1),t(nu(T))},children:[n.map(_=>g.jsx("option",{value:_,children:_},_)),g.jsx("option",{value:"__custom__",children:"+   "})]}),g.jsx("button",{type:"button",className:"px-3 py-2 rounded bg-neutral-200 hover:bg-neutral-300 dark:bg-neutral-800 dark:hover:bg-neutral-700 text-sm cursor-pointer",onClick:()=>d(_=>!_),children:u?" ":" "})]}),i&&g.jsxs("div",{className:"flex items-center gap-2",children:[g.jsx("input",{type:"text",value:o,onChange:_=>l(_.target.value),placeholder:"  ",className:"flex-1 border rounded-lg p-2"}),g.jsx("button",{type:"button",className:"px-3 py-2 rounded bg-neutral-800 hover:bg-neutral-700 text-sm text-white cursor-pointer",onClick:()=>{const _=o.trim();_&&(S(_),t(nu(_)),a(!1),l(""))},children:""})]}),u&&g.jsxs("div",{className:"p-3 border rounded bg-neutral-50 dark:bg-neutral-900",children:[g.jsx("h4",{className:"font-bold mb-2 text-s",children:"  "}),g.jsxs("div",{className:"flex items-center justify-between bg-white dark:bg-neutral-800 p-2 rounded border text-sm mb-2",children:[g.jsx("span",{className:"opacity-60 select-none",children:""}),g.jsxs("span",{className:"flex-1 px-2",children:[fn," ()"]})]}),g.jsx(lp,{onDragEnd:k,children:g.jsx(mf,{droppableId:"folderList",direction:"vertical",type:"FOLDER",children:_=>g.jsxs("ul",{ref:_.innerRef,..._.droppableProps,className:"space-y-1",children:[A0(n).rest.map((T,N)=>g.jsx(hf,{draggableId:T,index:N,children:j=>g.jsxs("li",{ref:j.innerRef,...j.draggableProps,...j.dragHandleProps,className:"flex items-center justify-between bg-white dark:bg-neutral-800 p-2 rounded border text-sm",children:[g.jsx("span",{className:"cursor-grab select-none mr-2",children:""}),g.jsx("span",{className:"flex-1 pr-1",children:T})]})},T)),_.placeholder]})})})]}),g.jsxs("p",{className:"text-xs text-gray-500",children:['   "',fn,'" .      .']})]})}function L4({message:e,onClose:t,ms:n=2e3}){return w.useEffect(()=>{const r=setTimeout(t,n);return()=>clearTimeout(r)},[t,n]),g.jsx("div",{className:"fixed top-4 left-1/2 -translate-x-1/2 bg-black text-white px-4 py-2 rounded-lg shadow-lg z-[9999]",children:e})}const rD=[{key:"name",label:"",placeholder:" ",type:"text"},{key:"birthDay",label:"",placeholder:": 19900101",type:"tel"},{key:"birthTime",label:"",placeholder:": 1524",type:"tel"},{key:"mingSikType",label:" ",type:"mingrule"},{key:"gender",label:"",type:"radio"},{key:"birthPlace",label:"",type:"place"},{key:"relationship",label:"",type:"relationship"},{key:"folder",label:" ",type:"folder"},{key:"memo",label:"",placeholder:" ",type:"textarea"}],Sne=[{value:"solar",label:"",id:"calendarType_solar"},{value:"lunar",label:"",id:"calendarType_lunar"}],kne=["","/",""],Ene=["",""],I4={gender:"",mingSikType:"/",DayChangeRule:"",calendarType:"solar"};function Ane(e,t,n){return n==="ArrowRight"||n==="ArrowDown"?(e+1)%t:n==="ArrowLeft"||n==="ArrowUp"?(e-1+t)%t:n==="Home"?0:n==="End"?t-1:e}function Tne(e){const t=document.getElementById(e);t instanceof HTMLElement&&t.focus()}function jne(){const[e,t]=w.useState(0),[n,r]=w.useState({...I4}),[i,a]=w.useState(null),[o,l]=w.useState(!1),[u,d]=w.useState(!1);return{stepIndex:e,setStepIndex:t,form:n,setForm:r,toast:i,setToast:a,unknownTime:o,setUnknownTime:l,unknownPlace:u,setUnknownPlace:d}}function One({currentStepKey:e,birthPlace:t,unknownPlace:n,stepIndex:r}){w.useEffect(()=>{if(["name","birthDay","birthTime","memo"].includes(e)){const a=document.querySelector(".current-step input[type='text']:not([disabled]), .current-step textarea:not([disabled])");if(a){a.focus();return}}if(e==="mingSikType"){const a=document.querySelector("[id^='ming_'][id$='_lbl'][aria-checked='true']");if(a){a.focus();return}}if(e==="gender"){const a=document.querySelector("[id^='gender_'][id$='_lbl'][aria-checked='true']");if(a){a.focus();return}}if(e==="birthPlace"){if(t||n){const a=()=>{const o=document.querySelector(".current-step form button[type='submit']");o&&o.focus()};a(),setTimeout(a,0)}else{const a=document.getElementById("inputBirthPlaceBtn");a&&a.focus()}return}if(e==="relationship"||e==="folder"){setTimeout(()=>{const a=document.querySelector(".current-step select");a&&a.focus()},0);return}document.querySelector(".current-step button, .current-step [tabindex='0']")?.focus()},[n,r,e,t])}function Nne(e,t){if(e!=="lunar"||!t||t.length!==8)return null;try{const n=Number(t.slice(0,4)),r=Number(t.slice(4,6)),i=Number(t.slice(6,8)),a=Gi(n,r,i);return` ${a.getFullYear()}-${String(a.getMonth()+1).padStart(2,"0")}-${String(a.getDate()).padStart(2,"0")}`}catch(n){const r=n instanceof Error?n.message:void 0;return` ${r?`: ${r}`:""}`}}function Cne(e,t,n,r){switch(e){case"birthPlace":return r?"":t.birthPlace?.name||"";case"birthTime":return n?"":t.birthTime||"";case"folder":return t.folder?String(t.folder):fn;default:{const a=t[e];return typeof a=="string"?a:a!=null?String(a):""}}}function Mne({form:e,unknownTime:t,unknownPlace:n,stepIndex:r}){const i=rD[r],a=w.useMemo(()=>Nne(e.calendarType,e.birthDay),[e.calendarType,e.birthDay]);return{steps:rD,currentStep:i,lunarPreview:a,displayValue:l=>Cne(l,e,t,n),CALENDAR_OPTIONS:Sne,MING_OPTIONS:kne,GENDER_OPTIONS:Ene,nextIndex:Ane,focusById:Tne,isDST:Mm}}function Dne(){return{add:wr(t=>t.add)}}const br=[];for(let e=0;e<256;++e)br.push((e+256).toString(16).slice(1));function Pne(e,t=0){return(br[e[t+0]]+br[e[t+1]]+br[e[t+2]]+br[e[t+3]]+"-"+br[e[t+4]]+br[e[t+5]]+"-"+br[e[t+6]]+br[e[t+7]]+"-"+br[e[t+8]]+br[e[t+9]]+"-"+br[e[t+10]]+br[e[t+11]]+br[e[t+12]]+br[e[t+13]]+br[e[t+14]]+br[e[t+15]]).toLowerCase()}let Yw;const Rne=new Uint8Array(16);function Lne(){if(!Yw){if(typeof crypto>"u"||!crypto.getRandomValues)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");Yw=crypto.getRandomValues.bind(crypto)}return Yw(Rne)}const Ine=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),iD={randomUUID:Ine};function $4(e,t,n){if(iD.randomUUID&&!e)return iD.randomUUID();e=e||{};const r=e.random??e.rng?.()??Lne();if(r.length<16)throw new Error("Random bytes length must be >= 16");return r[6]=r[6]&15|64,r[8]=r[8]&63|128,Pne(r)}function $ne(e,t,n){const r=nu(e.folder);return S4({id:$4(),name:e.name,birthDay:e.birthDay??"",calendarType:e.calendarType??"solar",birthTime:e.birthTime,unknownTime:t,gender:e.gender,birthPlace:e.birthPlace,unknownPlace:n,relationship:e.relationship,memo:e.memo,folder:r,mingSikType:e.mingSikType,dateObj:e.dateObj||new Date},{requireName:!1})}function Bne(e,t,n,r){if(e==="name"&&!t.name)return{ok:!0,message:"  '' .",nextForm:{...t,name:""}};if(e==="birthDay"){const i=X2(t.birthDay??"",t.calendarType??"solar");if(!i.ok)return{ok:!1,message:i.message};if(t.birthDay!==i.value)return{ok:!0,nextForm:{...t,birthDay:i.value}}}if(e==="birthTime"){const i=J2(t.birthTime??"",n);if(!i.ok)return{ok:!1,message:i.message};if(i.value!==""&&t.birthTime!==i.value)return{ok:!0,nextForm:{...t,birthTime:i.value}}}return e==="birthPlace"&&!t.birthPlace&&!r?{ok:!1,message:"  ''  ."}:{ok:!0}}function zne({form:e,setForm:t,stepIndex:n,setStepIndex:r,stepsLength:i,currentStepKey:a,unknownTime:o,setUnknownTime:l,unknownPlace:u,setUnknownPlace:d,setToast:h,onSave:p}){const{add:b}=Dne(),x=w.useCallback(()=>{const S=Bne(a,e,o,u);if(!S.ok){h(S.message??" .");return}if(S.nextForm&&(t(S.nextForm),S.message&&h(S.message)),n<i-1){r(n+1);return}const _=$ne(e,o,u);if(!_.ok){h(_.message);return}const T=_.value;b(T),p(T),h(" !"),t({...I4}),l(!1),d(!1),r(0)},[a,e,o,u,h,t,n,i,r,b,p,l,d]),k=w.useCallback(S=>{if(S.key!=="Enter")return;const _=S.target,T=_.getAttribute("role");if(T==="radio"||T==="checkbox")return;const N=document.getElementById("mapModal");if(N&&N.contains(_))return;const j=_.tagName.toLowerCase(),C=_ instanceof HTMLInputElement?_.type:"";if(j==="textarea"){if(S.shiftKey)return;S.preventDefault(),x();return}if(C==="radio"||C==="checkbox"){S.preventDefault(),_ instanceof HTMLInputElement&&_.click();return}j==="button"&&_.type!=="submit"||(S.preventDefault(),x())},[x]);return{handleNext:x,handleFormKeyDown:k}}function Une({onSave:e}){const t=jne(),n=Mne({form:t.form,unknownTime:t.unknownTime,unknownPlace:t.unknownPlace,stepIndex:t.stepIndex});One({currentStepKey:n.currentStep.key,birthPlace:t.form.birthPlace,unknownPlace:t.unknownPlace,stepIndex:t.stepIndex});const r=zne({form:t.form,setForm:t.setForm,stepIndex:t.stepIndex,setStepIndex:t.setStepIndex,stepsLength:n.steps.length,currentStepKey:n.currentStep.key,unknownTime:t.unknownTime,setUnknownTime:t.setUnknownTime,unknownPlace:t.unknownPlace,setUnknownPlace:t.setUnknownPlace,setToast:t.setToast,onSave:e});return{steps:n.steps,stepIndex:t.stepIndex,setStepIndex:t.setStepIndex,currentStep:n.currentStep,form:t.form,setForm:t.setForm,toast:t.toast,setToast:t.setToast,unknownTime:t.unknownTime,setUnknownTime:t.setUnknownTime,unknownPlace:t.unknownPlace,setUnknownPlace:t.setUnknownPlace,lunarPreview:n.lunarPreview,handleNext:r.handleNext,handleFormKeyDown:r.handleFormKeyDown,displayValue:n.displayValue,CALENDAR_OPTIONS:n.CALENDAR_OPTIONS,MING_OPTIONS:n.MING_OPTIONS,GENDER_OPTIONS:n.GENDER_OPTIONS,nextIndex:n.nextIndex,focusById:n.focusById,isDST:n.isDST}}function Fne({onSave:e,onClose:t}){const n=Une({onSave:e});return g.jsxs("div",{className:"mx-auto mt-10 space-y-2 max-w-[640px] w-[96%] text-neutral-900 dark:text-neutral-100",children:[n.toast&&g.jsx(L4,{message:n.toast,onClose:()=>n.setToast(null)}),n.steps.slice(0,n.stepIndex).map((r,i)=>g.jsxs("button",{onClick:()=>n.setStepIndex(i),className:"p-3 rounded-lg bg-neutral-100 dark:bg-neutral-900 border border-neutral-200 dark:border-neutral-800 flex justify-between w-full text-left hover:bg-neutral-200 dark:hover:bg-neutral-800/80 transition-colors",children:[g.jsx("span",{className:"font-semibold",children:r.label}),g.jsx("span",{className:"text-neutral-600 dark:text-neutral-300",children:n.displayValue(r.key)})]},r.key)),g.jsx("div",{className:"p-4 border rounded-lg shadow current-step bg-white dark:bg-neutral-900 border-neutral-200 dark:border-neutral-800",children:g.jsxs("form",{onSubmit:r=>{r.preventDefault(),n.handleNext()},onKeyDown:n.handleFormKeyDown,children:[g.jsx("label",{className:"block mb-2 font-bold",children:n.currentStep.label}),n.currentStep.key==="name"&&g.jsx("input",{type:"text",className:"w-full border rounded-lg p-2 bg-white dark:bg-neutral-900 border-neutral-300 dark:border-neutral-700 placeholder-neutral-400 dark:placeholder-neutral-500 text-neutral-900 dark:text-neutral-100",placeholder:n.currentStep.placeholder,value:n.form.name||"",onChange:r=>n.setForm({...n.form,name:r.target.value})}),n.currentStep.key==="birthDay"&&g.jsxs("div",{className:"space-y-2",children:[g.jsxs("div",{className:"flex gap-1 items-center",children:[g.jsx("input",{type:"text",className:"flex-1 border rounded-lg p-2 bg-white dark:bg-neutral-900 border-neutral-300 dark:border-neutral-700 placeholder-neutral-400 dark:placeholder-neutral-500 text-neutral-900 dark:text-neutral-100",placeholder:n.currentStep.placeholder,value:n.form.birthDay||"",onChange:r=>{const i=r.target.value.replace(/\D/g,"");n.setForm({...n.form,birthDay:i.slice(0,8)})},inputMode:"numeric",pattern:"\\d*",maxLength:8}),g.jsx("fieldset",{role:"radiogroup","aria-label":" ",className:"flex gap-1 text-sm",children:n.CALENDAR_OPTIONS.map(({value:r,label:i,id:a})=>{const o=n.form.calendarType===r;return g.jsxs("span",{className:"inline-flex items-center gap-1",children:[g.jsx("input",{id:a,name:"calendarType",type:"radio",style:{display:"none"}}),g.jsx("label",{htmlFor:a,id:`${a}_lbl`,role:"radio","aria-checked":o,tabIndex:0,className:`cursor-pointer select-none px-2 py-1 rounded-md border
                                     border-neutral-300 dark:border-neutral-700
                                     bg-white dark:bg-neutral-900
                                     focus-visible:outline focus-visible:outline-2 focus-visible:outline-amber-500
                                     data-[checked=true]:border-amber-400 data-[checked=true]:bg-amber-50
                                     dark:data-[checked=true]:bg-amber-500/10`,"data-checked":o?"true":"false",onKeyDown:l=>{if(l.stopPropagation(),l.key===" "||l.key==="Enter"){l.preventDefault(),n.setForm({...n.form,calendarType:r});return}if(!["ArrowRight","ArrowLeft","ArrowUp","ArrowDown","Home","End"].includes(l.key))return;l.preventDefault();const d=n.CALENDAR_OPTIONS.findIndex(b=>b.value===n.form.calendarType),h=n.nextIndex(d<0?0:d,n.CALENDAR_OPTIONS.length,l.key),p=n.CALENDAR_OPTIONS[h].value;n.setForm({...n.form,calendarType:p}),n.focusById(`${n.CALENDAR_OPTIONS[h].id}_lbl`)},onClick:l=>{l.preventDefault(),n.setForm({...n.form,calendarType:r})},children:i})]},r)})})]}),n.form.calendarType==="lunar"&&g.jsx("div",{className:"flex items-center justify-end",children:g.jsx("span",{className:"text-xs text-neutral-600 dark:text-neutral-300",children:n.lunarPreview})}),n.form.birthDay&&n.form.birthDay.length===8&&(()=>{const r=Number(n.form.birthDay.slice(0,4)),i=Number(n.form.birthDay.slice(4,6)),a=Number(n.form.birthDay.slice(6,8));return n.isDST(r,i,a)?g.jsx("div",{className:"text-xs text-red-600 dark:text-red-400 mt-1",children:"  ."}):null})()]}),n.currentStep.key==="birthTime"&&g.jsxs("div",{className:"space-y-2",children:[g.jsx("input",{type:"text",className:"w-full border rounded-lg p-2 disabled:opacity-50 bg-white dark:bg-neutral-900 border-neutral-300 dark:border-neutral-700 placeholder-neutral-400 dark:placeholder-neutral-500 text-neutral-900 dark:text-neutral-100",placeholder:n.currentStep.placeholder,value:n.unknownTime?"":n.form.birthTime||"",onChange:r=>{const i=r.target.value.replace(/\D/g,"");n.setForm({...n.form,birthTime:i.slice(0,4)})},inputMode:"numeric",pattern:"\\d*",maxLength:4,disabled:n.unknownTime}),g.jsxs("span",{className:"inline-flex items-center gap-1",children:[g.jsx("input",{id:"birthTimeX",type:"checkbox",style:{display:"none"}}),g.jsx("label",{htmlFor:"birthTimeX",role:"checkbox","aria-checked":n.unknownTime,tabIndex:0,className:`text-sm select-none cursor-pointer px-2 py-1 rounded-md border
                             border-neutral-300 dark:border-neutral-700
                             bg-white dark:bg-neutral-900
                             focus-visible:outline focus-visible:outline-2 focus-visible:outline-amber-500
                             data-[checked=true]:border-amber-400 data-[checked=true]:bg-amber-50
                             dark:data-[checked=true]:bg-amber-500/10`,"data-checked":n.unknownTime?"true":"false",onKeyDown:r=>{r.stopPropagation(),(r.key===" "||r.key==="Enter")&&(r.preventDefault(),n.setUnknownTime(!n.unknownTime))},onClick:r=>{r.preventDefault(),n.setUnknownTime(!n.unknownTime)},children:""})]})]}),n.currentStep.key==="mingSikType"&&g.jsx("fieldset",{role:"radiogroup","aria-label":" ",className:"flex flex-wrap gap-3",children:n.MING_OPTIONS.map(r=>{const i=`ming_${r}`,a=(n.form.mingSikType??"/")===r;return g.jsxs("span",{className:"inline-flex items-center gap-1",children:[g.jsx("input",{id:i,name:"mingSikType",type:"radio",style:{display:"none"}}),g.jsxs("label",{htmlFor:i,id:`${i}_lbl`,role:"radio","aria-checked":a,tabIndex:0,className:`cursor-pointer select-none px-2 py-1 rounded-md border
                                 border-neutral-300 dark:border-neutral-700
                                 bg-white dark:bg-neutral-900
                                 focus-visible:outline focus-visible:outline-2 focus-visible:outline-amber-500
                                 data-[checked=true]:border-amber-400 data-[checked=true]:bg-amber-50
                                 dark:data-[checked=true]:bg-amber-500/10`,"data-checked":a?"true":"false",onKeyDown:o=>{if(o.stopPropagation(),o.key===" "||o.key==="Enter"){o.preventDefault(),n.setForm({...n.form,mingSikType:r});return}if(!["ArrowRight","ArrowLeft","ArrowUp","ArrowDown","Home","End"].includes(o.key))return;o.preventDefault();const u=n.form.mingSikType??"/",d=n.MING_OPTIONS.indexOf(u),h=n.nextIndex(d,n.MING_OPTIONS.length,o.key),p=n.MING_OPTIONS[h];n.setForm({...n.form,mingSikType:p}),n.focusById(`ming_${p}_lbl`)},onClick:o=>{o.preventDefault(),n.setForm({...n.form,mingSikType:r})},children:[r," "]})]},r)})}),n.currentStep.key==="gender"&&g.jsx("fieldset",{role:"radiogroup","aria-label":"",className:"flex gap-2",children:n.GENDER_OPTIONS.map(r=>{const i=`gender_${r}`,a=(n.form.gender??"")===r;return g.jsxs("span",{className:"inline-flex items-center gap-1",children:[g.jsx("input",{id:i,name:"gender",type:"radio",style:{display:"none"}}),g.jsx("label",{htmlFor:i,id:`${i}_lbl`,role:"radio","aria-checked":a,tabIndex:0,className:`cursor-pointer select-none px-2 py-1 rounded-md border
                                 border-neutral-300 dark:border-neutral-700
                                 bg-white dark:bg-neutral-900
                                 focus-visible:outline focus-visible:outline-2 focus-visible:outline-amber-500
                                 data-[checked=true]:border-amber-400 data-[checked=true]:bg-amber-50
                                 dark:data-[checked=true]:bg-amber-500/10`,"data-checked":a?"true":"false",onKeyDown:o=>{if(o.stopPropagation(),o.key===" "||o.key==="Enter"){o.preventDefault(),n.setForm({...n.form,gender:r});return}if(!["ArrowRight","ArrowLeft","ArrowUp","ArrowDown","Home","End"].includes(o.key))return;o.preventDefault();const u=n.form.gender??"",d=n.GENDER_OPTIONS.indexOf(u),h=n.nextIndex(d,n.GENDER_OPTIONS.length,o.key),p=n.GENDER_OPTIONS[h];n.setForm({...n.form,gender:p}),n.focusById(`gender_${p}_lbl`)},onClick:o=>{o.preventDefault(),n.setForm({...n.form,gender:r})},children:r})]},r)})}),n.currentStep.key==="birthPlace"&&g.jsxs("div",{className:"space-y-2",children:[g.jsx(l5,{onSelect:r=>n.setForm({...n.form,birthPlace:r}),value:n.unknownPlace?"":n.form.birthPlace?.name??""}),g.jsxs("span",{className:"inline-flex items-center gap-1",children:[g.jsx("input",{id:"birthPlaceX",type:"checkbox",style:{display:"none"}}),g.jsx("label",{htmlFor:"birthPlaceX",role:"checkbox","aria-checked":n.unknownPlace,tabIndex:0,className:`text-sm select-none cursor-pointer px-2 py-1 rounded-md border
                             border-neutral-300 dark:border-neutral-700
                             bg-white dark:bg-neutral-900
                             focus-visible:outline focus-visible:outline-2 focus-visible:outline-amber-500
                             data-[checked=true]:border-amber-400 data-[checked=true]:bg-amber-50
                             dark:data-[checked=true]:bg-amber-500/10`,"data-checked":n.unknownPlace?"true":"false",onKeyDown:r=>{r.stopPropagation(),(r.key===" "||r.key==="Enter")&&(r.preventDefault(),n.setUnknownPlace(!n.unknownPlace))},onClick:r=>{r.preventDefault(),n.setUnknownPlace(!n.unknownPlace)},children:""})]})]}),n.currentStep.key==="relationship"&&g.jsx(C4,{value:n.form.relationship||"",onChange:r=>n.setForm({...n.form,relationship:r})}),n.currentStep.key==="folder"&&g.jsx(wne,{value:nu(n.form.folder),onChange:r=>n.setForm({...n.form,folder:r})}),n.currentStep.key==="memo"&&g.jsx("textarea",{className:"w-full border rounded-lg p-2 bg-white dark:bg-neutral-900 border-neutral-300 dark:border-neutral-700 placeholder-neutral-400 dark:placeholder-neutral-500 text-neutral-900 dark:text-neutral-100",placeholder:n.currentStep.placeholder,value:n.form.memo||"",onChange:r=>n.setForm({...n.form,memo:r.target.value})}),g.jsxs("div",{className:"flex justify-between gap-2",children:[g.jsx("button",{className:"mt-4 w-full btn_style btn_secondary dark:focus:ring-amber-500",onClick:t,children:""}),g.jsx("button",{type:"submit",className:"mt-4 w-full btn_style dark:focus:ring-amber-500",children:n.stepIndex===n.steps.length-1?"":""})]})]})})]})}var T0={},aD;function Hne(){if(aD)return T0;aD=1,T0.match=a,T0.parse=o;var e=/(?:(only|not)?\s*([^\s\(\)]+)(?:\s*and)?\s*)?(.+)?/i,t=/\(\s*([^\s\:\)]+)\s*(?:\:\s*([^\s\)]+))?\s*\)/,n=/^(?:(min|max)-)?(.+)/,r=/(em|rem|px|cm|mm|in|pt|pc)?$/,i=/(dpi|dpcm|dppx)?$/;function a(h,p){return o(h).some(function(b){var x=b.inverse,k=b.type==="all"||p.type===b.type;if(k&&x||!(k||x))return!1;var S=b.expressions.every(function(_){var T=_.feature,N=_.modifier,j=_.value,C=p[T];if(!C)return!1;switch(T){case"orientation":case"scan":return C.toLowerCase()===j.toLowerCase();case"width":case"height":case"device-width":case"device-height":j=d(j),C=d(C);break;case"resolution":j=u(j),C=u(C);break;case"aspect-ratio":case"device-aspect-ratio":case"device-pixel-ratio":j=l(j),C=l(C);break;case"grid":case"color":case"color-index":case"monochrome":j=parseInt(j,10)||1,C=parseInt(C,10)||0;break}switch(N){case"min":return C>=j;case"max":return C<=j;default:return C===j}});return S&&!x||!S&&x})}function o(h){return h.split(",").map(function(p){p=p.trim();var b=p.match(e),x=b[1],k=b[2],S=b[3]||"",_={};return _.inverse=!!x&&x.toLowerCase()==="not",_.type=k?k.toLowerCase():"all",S=S.match(/\([^\)]+\)/g)||[],_.expressions=S.map(function(T){var N=T.match(t),j=N[1].toLowerCase().match(n);return{modifier:j[1],feature:j[2],value:N[2]}}),_})}function l(h){var p=Number(h),b;return p||(b=h.match(/^(\d+)\s*\/\s*(\d+)$/),p=b[1]/b[2]),p}function u(h){var p=parseFloat(h),b=String(h).match(i)[1];switch(b){case"dpcm":return p/2.54;case"dppx":return p*96;default:return p}}function d(h){var p=parseFloat(h),b=String(h).match(r)[1];switch(b){case"em":return p*16;case"rem":return p*16;case"cm":return p*96/2.54;case"mm":return p*96/2.54/10;case"in":return p*96;case"pt":return p*72;case"pc":return p*72/12;default:return p}}return T0}var Kw,oD;function Gne(){if(oD)return Kw;oD=1;var e=Hne().match,t=typeof window<"u"?window.matchMedia:null;function n(i,a,o){var l=this,u;t&&!o&&(u=t.call(window,i)),u?(this.matches=u.matches,this.media=u.media,u.addListener(p)):(this.matches=e(i,a),this.media=i),this.addListener=d,this.removeListener=h,this.dispose=b;function d(x){u&&u.addListener(x)}function h(x){u&&u.removeListener(x)}function p(x){l.matches=x.matches,l.media=x.media}function b(){u&&u.removeListener(p)}}function r(i,a,o){return new n(i,a,o)}return Kw=r,Kw}var qne=Gne();const Yne=hi(qne);var Kne=/[A-Z]/g,Wne=/^ms-/,Ww={};function Vne(e){return"-"+e.toLowerCase()}function B4(e){if(Ww.hasOwnProperty(e))return Ww[e];var t=e.replace(Kne,Vne);return Ww[e]=Wne.test(t)?"-"+t:t}function Zne(e,t){if(e===t)return!0;if(!e||!t)return!1;const n=Object.keys(e),r=Object.keys(t),i=n.length;if(r.length!==i)return!1;for(let a=0;a<i;a++){const o=n[a];if(e[o]!==t[o]||!Object.prototype.hasOwnProperty.call(t,o))return!1}return!0}var Vw={exports:{}},Zw,sD;function Xne(){if(sD)return Zw;sD=1;var e="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return Zw=e,Zw}var Xw,lD;function Jne(){if(lD)return Xw;lD=1;var e=Xne();function t(){}function n(){}return n.resetWarningCache=t,Xw=function(){function r(o,l,u,d,h,p){if(p!==e){var b=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw b.name="Invariant Violation",b}}r.isRequired=r;function i(){return r}var a={array:r,bigint:r,bool:r,func:r,number:r,object:r,string:r,symbol:r,any:r,arrayOf:i,element:r,elementType:r,instanceOf:i,node:r,objectOf:i,oneOf:i,oneOfType:i,shape:i,exact:i,checkPropTypes:n,resetWarningCache:t};return a.PropTypes=a,a},Xw}var cD;function Qne(){return cD||(cD=1,Vw.exports=Jne()()),Vw.exports}var ere=Qne();const jt=hi(ere),Br=jt.oneOfType([jt.string,jt.number]),z4={all:jt.bool,grid:jt.bool,aural:jt.bool,braille:jt.bool,handheld:jt.bool,print:jt.bool,projection:jt.bool,screen:jt.bool,tty:jt.bool,tv:jt.bool,embossed:jt.bool},tre={orientation:jt.oneOf(["portrait","landscape"]),scan:jt.oneOf(["progressive","interlace"]),aspectRatio:jt.string,deviceAspectRatio:jt.string,height:Br,deviceHeight:Br,width:Br,deviceWidth:Br,color:jt.bool,colorIndex:jt.bool,monochrome:jt.bool,resolution:Br,type:Object.keys(z4)},{type:GOe,...nre}=tre,rre={minAspectRatio:jt.string,maxAspectRatio:jt.string,minDeviceAspectRatio:jt.string,maxDeviceAspectRatio:jt.string,minHeight:Br,maxHeight:Br,minDeviceHeight:Br,maxDeviceHeight:Br,minWidth:Br,maxWidth:Br,minDeviceWidth:Br,maxDeviceWidth:Br,minColor:jt.number,maxColor:jt.number,minColorIndex:jt.number,maxColorIndex:jt.number,minMonochrome:jt.number,maxMonochrome:jt.number,minResolution:Br,maxResolution:Br,...nre},ire={...z4,...rre};var are={all:ire};const ore=e=>`not ${e}`,sre=(e,t)=>{const n=B4(e);return typeof t=="number"&&(t=`${t}px`),t===!0?n:t===!1?ore(n):`(${n}: ${t})`},lre=e=>e.join(" and "),cre=e=>{const t=[];return Object.keys(are.all).forEach(n=>{const r=e[n];r!=null&&t.push(sre(n,r))}),lre(t)},ure=w.createContext(void 0),dre=e=>e.query||cre(e),uD=e=>e?Object.keys(e).reduce((n,r)=>(n[B4(r)]=e[r],n),{}):void 0,U4=()=>{const e=w.useRef(!1);return w.useEffect(()=>{e.current=!0},[]),e.current},fre=e=>{const t=w.useContext(ure),n=()=>uD(e)||uD(t),[r,i]=w.useState(n);return w.useEffect(()=>{const a=n();Zne(r,a)||i(a)},[e,t]),r},hre=e=>{const t=()=>dre(e),[n,r]=w.useState(t);return w.useEffect(()=>{const i=t();n!==i&&r(i)},[e]),n},mre=(e,t)=>{const n=()=>Yne(e,t||{},!!t),[r,i]=w.useState(n),a=U4();return w.useEffect(()=>{if(a){const o=n();return i(o),()=>{o&&o.dispose()}}},[e,t]),r},pre=e=>{const[t,n]=w.useState(e.matches);return w.useEffect(()=>{const r=i=>{n(i.matches)};return e.addListener(r),n(e.matches),()=>{e.removeListener(r)}},[e]),t},gre=(e,t,n)=>{const r=fre(t),i=hre(e);if(!i)throw new Error("Invalid or missing MediaQuery!");const a=mre(i,r),o=pre(a);return U4(),w.useEffect(()=>{},[o]),w.useEffect(()=>()=>{a&&a.dispose()},[]),o},F4={Classic:"",Modern:""};function Mo(e,t){const r={:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}}[e];return r?r[t]??"":""}function bre(e,t){return{:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}}[e]?.[t]??""}function yre(e,t){const n={:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},r={:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}},i=n[e];return i&&r[i]?r[i][t]??"":""}function vre(e,t){return{:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}}[e]?.[t]??""}function xre(e,t){const n={:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},r={:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}},i=n[e];return i&&r[i]?r[i][t]??"":""}function Do(e){const{baseBranch:t,targetBranch:n,era:r,gaehwa:i}=e;return!t||!n?"":r===""?i?bre(t,n):yre(t,n):i?vre(t,n):xre(t,n)}const fi=As()(R$((e,t)=>{const n=new Date,r="/",i=127.5,a=i,o=ot(n,a),l=_t(n,a),u=pt(n,r);return{date:n,scope:"",rule:r,lon:i,yearGZ:o,monthGZ:l,dayGZ:u,setDate:d=>{const{rule:h,lon:p}=t(),b=typeof p=="number"?p:void 0;e({date:d,yearGZ:ot(d,b),monthGZ:_t(d,b),dayGZ:pt(d,h)})},resetDate:()=>{const{rule:d,lon:h}=t(),p=new Date,b=typeof h=="number"?h:void 0;e({date:p,yearGZ:ot(p,b),monthGZ:_t(p,b),dayGZ:pt(p,d)})},resetMonth:()=>{const{lon:d}=t(),h=new Date;e({date:h,monthGZ:_t(h,typeof d=="number"?d:void 0)})},setScope:d=>e({scope:d}),setRule:d=>{const{date:h,lon:p}=t(),b=typeof p=="number"?p:void 0;e({rule:d,yearGZ:ot(h,b),monthGZ:_t(h,b),dayGZ:pt(h,d)})},setLon:d=>{const{date:h,rule:p}=t(),b=typeof d=="number"?d:void 0;e({lon:d,yearGZ:ot(h,b),monthGZ:_t(h,b),dayGZ:pt(h,p)})},setFromEvent:(d,h)=>{const{rule:p,lon:b}=t(),x=typeof b=="number"?b:void 0;e({date:d.at,scope:h,yearGZ:ot(d.at,x),monthGZ:_t(d.at,x),dayGZ:pt(d.at,p)})},forceKey:new Date}},{name:"luck-picker-v1",merge:(e,t)=>{const n=e;return n.date&&typeof n.date=="string"&&(n.date=new Date(n.date)),{...t,...n}}})),_re=60*1e3,wre=60*_re,Sre=24*wre,kre=(e,t)=>{const n=new Date(e.getTime()),r=n.getFullYear()+t,i=n.getMonth(),a=n.getDate();return new Date(Date.UTC(r,i,a,n.getUTCHours(),n.getUTCMinutes()))},Bk=e=>{const t=new Date(e);return t.setSeconds(0,0),t},Ere={DAY:Sre},ha=e=>{const t=e.getFullYear(),n=[{deg:315,name:""},{deg:345,name:""},{deg:15,name:""},{deg:45,name:""},{deg:75,name:""},{deg:105,name:""},{deg:135,name:""},{deg:165,name:""},{deg:195,name:""},{deg:225,name:""},{deg:255,name:""},{deg:285,name:""}],r={deg:315,name:""},i=n.map(l=>({name:l.name,date:_n(t,l.deg)})).concat([{name:r.name,date:_n(t+1,r.deg)},{name:"",date:_n(t+1,285)}]),a=_n(t,315),o=_n(t+1,315);return i.filter(l=>l.date>=a&&l.date<o).sort((l,u)=>l.date.getTime()-u.date.getTime())},H4=(()=>{const e=[];for(let t=0;t<60;t+=1)e.push(`${Hr[t%10]}${ui[t%12]}`);return e})(),Are=e=>{const t=H4.indexOf(e);if(t<0)throw new Error(`Unknown : ${e}`);return t},ty=(e,t,n=1)=>{const r=Are(e),i=t==="forward"?n:-n;return H4[(r+i+60*1e3)%60]},Tre=(e,t,n)=>{const r=e.getHours(),i=n==="/"?(Math.floor((r+1)/2)*2-1+24)%24:(Math.floor(r/2)*2+1)%24,a=new Date(e);a.setHours(i,0,0,0);const o=new Date(a);o.setHours(i+2,0,0,0);const l=e.getTime()-a.getTime(),u=o.getTime()-e.getTime();return t==="backward"?l:u},G4=(e,t,n,r=120,i="/")=>{const a=Bk(e),o=Tre(a,n,i),l=Bk(new Date(a.getTime()+o*120)),u=kre(e,r).getTime(),d=[];let h=ty(t,n,1);for(let p=l.getTime();p<=u;p+=10*Ere.DAY)d.push({at:new Date(p),gz:h}),h=ty(h,n,1);return{firstChange:l,events:d}},q4=(e,t)=>{const n=t==="forward"?e===""?"":"":e===""?"":"";return r=>r===n},Y4=(e,t,n,r)=>{const i=q4(r,n);let a=t;const o=[];for(const l of e.events){const u=l.gz.charAt(1);i(u)&&(a=ty(a,n,1),o.push({at:l.at,gz:a}))}return{events:o}},jre={:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},Ore={:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},Nre=e=>jre[e]??("".includes(e)?e:null),Cre=e=>Ore[e]??("".includes(e)?e:null),dD=e=>{const t=Nre(e[0]),n=Cre(e[1]);if(!t||!n)throw new Error(`Invalid GZ: ${e}`);return`${t}${n}`},Mre=e=>Math.floor((e.getHours()+1)%24/2),Jw=e=>["","","","","","","","","","","",""][Mre(e)],Dre=(e,t,n)=>{const r=e.charAt(0),i=e.charAt(1),a=Hr.indexOf(r),o=ui.indexOf(i),l=t==="forward"?n:-n,u=(a+l%10+10)%10,d=(o+l%12+12)%12;return Hr[u]+ui[d]},hp=(e,t,n,r=120,i)=>{const a=ha(e).sort((S,_)=>S.date.getTime()-_.date.getTime());let o;if(n==="forward"){const S=a.findIndex(_=>_.date>=e);S>=0&&(o=a[S].date)}else{const S=a.filter(_=>_.date<=e);S.length&&(o=S[S.length-1].date)}const l=(S,_)=>{const T=Jw(S),N={:23,:1,:3,:5,:7,:9,:11,:13,:15,:17,:19,:21},j=N[T],C=(j+2)%24,M=new Date(S);if(M.setSeconds(0,0),n==="backward"&&_){const $=Jw(_),U=N[$],Y=new Date(_);return Y.setHours(U,0,0,0),Y}if(n==="forward"&&_){const $=Jw(_),U=N[$],Y=new Date(_);if(Y.setHours(U,0,0,0),Y>M)return Y}const P=new Date(M);return n==="forward"?(P.setHours(C,0,0,0),P<=M&&P.setDate(P.getDate()+1)):(P.setHours(j,0,0,0),P>=M&&P.setDate(P.getDate()-1)),P},u=dD(_t(e,127.5)),d=l(e,o),h=Math.floor(n==="forward"?(d.getTime()-e.getTime())/6e4:(e.getTime()-d.getTime())/6e4),p=Math.round(h/120*(14400*60*1e3));let b=new Date(e.getTime()+p);try{const S=dD(_t(e,i));(n==="forward"&&u!==S||n==="backward"&&u!==S)&&(b=new Date(e.getTime()+6e4))}catch{}const x=r/10,k=[];for(let S=0;S<x;S+=1){const _=new Date(b);_.setFullYear(_.getFullYear()+S*10),_.setSeconds(0,0);const T=Dre(t,n,S+1);k.push({at:_,gz:T})}return{natalMonthPillar:t,firstChange:b,mPillars:[],events:k}},Pre=(e,t)=>{const r=(t.getTime()-e.getTime())/(365.2425*24*60*60*1e3);return Math.max(0,Math.floor(r))},K4=(e,t,n,r,i)=>{const a=q4(r,n);let o=t;const l=[];for(const u of e.events){const d=u.gz.charAt(1);a(d)&&(o=ty(o,n,1),l.push({at:u.at,gz:o,age:Pre(i,u.at)}))}return{events:l}},Rre=e=>{const t=Number(e.birthDay.slice(0,4)),n=Number(e.birthDay.slice(4,6)),r=Number(e.birthDay.slice(6,8));let i=12,a=0;return e.birthTime&&e.birthTime!==""&&/^\d{4}$/.test(e.birthTime)&&(i=Number(e.birthTime.slice(0,2)),a=Number(e.birthTime.slice(2,4))),new Date(t,n-1,r,i,a,0,0)},Tv=e=>{const t=Rre(e),n=!e.birthPlace||typeof e.birthPlace=="object"&&e.birthPlace.name==="",r=cp(t,e.birthPlace?.lon??null,n);return Bk(r)},iA=(e,t)=>{const n=e.birthPlace?.lon??127.5,r=Tv(e),i=pt(r,t),a=Fa(r,t,i.charAt(0));return{year:ot(r,n),month:_t(r,n),day:i,hour:a}},Lre=(()=>{const e=[];for(let t=0;t<60;t++)e.push(`${Hr[t%10]}${ui[t%12]}`);return e})(),Ire=e=>Lre.indexOf(e),Qw=e=>{if(Ire(e)<0)throw new Error(`Unknown : ${e}`);return{stem:e[0],branch:e[1]}};function $re(e,t="/"){const n=w.useMemo(()=>dp(e),[e]),r=w.useMemo(()=>Tv(n),[n]),i=w.useMemo(()=>iA(n,t),[n,t]);return w.useMemo(()=>{const a=hp(r,i.month,n.dir,120,n?.birthPlace?.lon??127.5),o=new Date;function l(j,C){let M=null;const P=C.getTime();for(const $ of j)if($.at.getTime()<=P)M=$;else break;return M}const u=l(a.events,o)?.gz??i.month,d=Qw(u),h=o.getFullYear(),p=_n(h,315),x=p&&o>=p?h:h-1,k=ot(new Date(x,1,10,0,0,0),127.5),S=Qw(k),_=_t(o,127.5),T=Qw(_),N=[];return T&&N.push({key:"wolun",label:"",data:T}),S&&N.push({key:"seun",label:"",data:S}),d&&N.push({key:"daeun",label:"",data:d}),N},[r,n.dir,i.month,n.birthPlace?.lon])}function yu(e,t="/",n=100){const r=w.useMemo(()=>dp(e),[e]),i=w.useMemo(()=>Tv(r),[r]),a=w.useMemo(()=>iA(r,t),[r,t]),o=(l,u)=>{const d=u.getFullYear()-l.getFullYear(),h=u.getMonth()-l.getMonth(),p=u.getDate()-l.getDate(),b=h<0||h===0&&p<0?d-1:d;return Math.max(0,b)};return w.useMemo(()=>hp(i,a.month,r.dir,n,r.birthPlace?.lon??127.5).events.map(u=>({...u,age:o(i,u.at)})),[i,a.month,r.dir,n,r.birthPlace?.lon])}function e1(e){return e instanceof Date&&!Number.isNaN(e.getTime())}function Bre(e,t){if(!Array.isArray(e)||e.length===0||!e1(t))return{gz:"",at:t,index:-1};const n=e;for(let a=0;a<n.length;a++){const o=n[a],l=n[a+1];if(!e1(o.at))continue;if(t.getTime()>=o.at.getTime()&&(!l||e1(l.at)&&t.getTime()<l.at.getTime()))return{gz:o.gz??"",at:o.at,index:a}}if(t.getTime()<n[0].at.getTime()){const a=n[0];return{gz:a.gz??"",at:a.at,index:0}}const r=n.length-1,i=n[r];return{gz:i.gz??"",at:i.at,index:r}}function aA(e,t,n){const{date:r,rule:i,lon:a}=fi(),o=w.useMemo(()=>n??r??new Date,[n,r]),l=yu(e,e?.mingSikType),{gz:u}=Bre(l,o);return w.useMemo(()=>{try{const d=a??e?.birthPlace?.lon??127.5,h=i??e?.mingSikType??t??"/";return{dae:{gz:u,at:o},se:{gz:ot(o,d),at:o},wol:{gz:_t(o,d),at:o},il:{gz:pt(o,h),at:o}}}catch{const d=new Date;return{dae:{gz:"",at:d},se:{gz:"",at:d},wol:{gz:"",at:d},il:{gz:"",at:d}}}},[o,i,a,e,t,u])}const dn=["","","",""],si={year:0,month:1,day:2,hour:3},fD=["","","",""],Ld="",mp=[{name:"",members:["","",""],out:"",wang:""},{name:"",members:["","",""],out:"",wang:""},{name:"",members:["","",""],out:"",wang:""},{name:"",members:["","",""],out:"",wang:""}],W4=[{name:"",members:["","",""],out:"",wang:""},{name:"",members:["","",""],out:"",wang:""},{name:"",members:["","",""],out:"",wang:""},{name:"",members:["","",""],out:"",wang:""}],hD=[{name:"",members:["","",""]},{name:"",members:["","",""]}],zre={:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},zk={:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""};function Re(e){if(!e)return"";const t=e.replace(/[()[\]{}]/g,"").replace(/\s+/g,"").replace(/[\-_.]/g,""),n=t.match(/([]).*?([])/);if(n)return`${n[1]}${n[2]}`;const r=t.match(/([]).*?([])/);if(r){const i=zre[r[1]]??r[1],a=zk[r[2]]??r[2];return`${i}${a}`}return""}const ny=e=>e&&e.length>=1?e[0]:"",Ci=e=>e&&e.length>=2?e[1]:"",oA=[{pair:["",""],label:""},{pair:["",""],label:""},{pair:["",""],label:""},{pair:["",""],label:""},{pair:["",""],label:""}],sA=[{pair:["",""],label:""},{pair:["",""],label:""},{pair:["",""],label:""},{pair:["",""],label:""}],lA=[{pair:["",""],label:""},{pair:["",""],label:""},{pair:["",""],label:""},{pair:["",""],label:""},{pair:["",""],label:""},{pair:["",""],label:""}],cA=[{pair:["",""],label:""},{pair:["",""],label:""},{pair:["",""],label:""},{pair:["",""],label:""},{pair:["",""],label:""},{pair:["",""],label:""}],uA=[{pair:["",""],label:""},{pair:["",""],label:""},{pair:["",""],label:""},{pair:["",""],label:""},{pair:["",""],label:""},{pair:["",""],label:""}],dA=[{pair:["",""],label:""},{pair:["",""],label:""},{pair:["",""],label:""},{pair:["",""],label:""},{pair:["",""],label:""},{pair:["",""],label:""}],fA=[{pair:["",""],label:""},{pair:["",""],label:""},{pair:["",""],label:""},{pair:["",""],label:""},{pair:["",""],label:""},{pair:["",""],label:""}],hA=[{pair:["",""],label:""},{pair:["",""],label:""},{pair:["",""],label:""},{pair:["",""],label:""},{pair:["",""],label:""},{pair:["",""],label:""}],mA=[{pair:["",""],label:""},{pair:["",""],label:""},{pair:["",""],label:""},{pair:["",""],label:""},{pair:["",""],label:""},{pair:["",""],label:""}],pA=[{pair:["",""],label:""}],gA=new Set(["","","",""]),ry=new Set(["","","",""]),bA=[{pair:["",""],label:""},{pair:["",""],label:""},{pair:["",""],label:""},{pair:["",""],label:""},{pair:["",""],label:""}],V4=[{pair:["",""],label:""},{pair:["",""],label:""},{pair:["",""],label:""},{pair:["",""],label:""},{pair:["",""],label:""},{pair:["",""],label:""},{pair:["",""],label:""},{pair:["",""],label:""},{pair:["",""],label:""},{pair:["",""],label:""},{pair:["",""],label:""},{pair:["",""],label:""}];function ai(e,t,n){for(const{pair:[r,i],label:a}of e)if(t===r&&n===i||t===i&&n===r)return a;return null}function Yt(e,t){e.includes(t)||e.push(t)}const Ure=e=>[...e].sort((t,n)=>t-n).map(t=>dn[t]).join("X"),mD=(e,t)=>e===0&&t===3||e===3&&t===0;function Fre(e,t){const n=[];for(const r of e)for(const i of t){if(r===i)continue;const a=Math.min(r,i),o=Math.max(r,i);n.push([a,o])}return n.sort((r,i)=>{const a=Math.abs(r[0]-r[1]),o=Math.abs(i[0]-i[1]);return a!==o?a-o:0})}function Hre(e){const t=[],n=[...e].sort((r,i)=>r-i);for(let r=0;r<n.length;r++)for(let i=r+1;i<n.length;i++){const a=n[r],o=n[i];t.push([a,o])}return t}const Z4=e=>{switch(e){case"":return"";case"":return"";case"":return"";case"":return""}};function Gre(e){if(!e)return!1;const t=e.normalize("NFC").trim();return/^#\s*$/u.test(t)}const qre=["cheonganHap","cheonganChung","jijiSamhap","jijiBanhap","jijiBanghap","jijiYukhap","jijiChung","jijiHyeong","jijiPa","jijiHae","jijiWonjin","jijiGwimun","amhap","ganjiAmhap"];function Yre(e){if(!e||e.length===0)return e;const t=Array.from(new Set(e.map(i=>i?.normalize("NFKC")??""))).filter(Boolean),n=t.some(i=>i.includes("")||i.includes("()")),r=t.some(i=>i.includes("")||i.includes("()"));return t.filter(i=>!(n&&(i.includes("")||i.includes("")||i.includes(""))||r&&(i.includes("")||i.includes("")||i.includes(""))))}function X4(e){for(const t of qre){const r=(e[t]??[]).map(i=>i&&i.normalize("NFKC")).filter(i=>!!i&&!Gre(i));e[t]=Array.from(new Set(r))}return e.jijiHyeong=Yre(e.jijiHyeong),e}function Kre(e,t){for(let n=0;n<e.length;n++)if((e[n]??"").includes(t))return n;return-1}function Wre(e,t){for(const n of mp)if(!(n.wang!==e&&n.wang!==t)&&n.members.includes(e)&&n.members.includes(t))return!0;return!1}function pD(e,t,n){const r=Kre(e,n);if(r<0){Yt(e,t);return}const a=(e[r]??"").includes(Ld),o=t.includes(Ld);a&&!o&&(e[r]=t)}function yA(e,t={}){const{emitGanjiAmhap:n=!0,fillNone:r=!0}=t,i=[Re(e[0]??""),Re(e[1]??""),Re(e[2]??""),Re(e[3]??"")],a={title:"",cheonganHap:[],cheonganChung:[],jijiSamhap:[],jijiBanhap:[],jijiBanghap:[],jijiYukhap:[],jijiChung:[],jijiHyeong:[],jijiPa:[],jijiHae:[],jijiWonjin:[],jijiGwimun:[],amhap:[],ganjiAmhap:[]},o=i.map(b=>ny(b)),l=i.map(b=>Ci(b));function u(b,x){if(b===x)return;const k=o[b],S=o[x];if(!k||!S)return;const _=ai(oA,k,S);_&&Yt(a.cheonganHap,`#${dn[b]}X${dn[x]}_${_}`);const T=ai(sA,k,S);T&&Yt(a.cheonganChung,`#${dn[b]}X${dn[x]}_${T}`)}u(si.year,si.month),u(si.month,si.day),u(si.day,si.hour);function d(b,x,k,S,_=!0){const T=[],N=[];for(let C=0;C<4;C++)l[C]===b&&T.push(C),l[C]===x&&N.push(C);const j=Fre(T,N);for(const[C,M]of j){const P=mD(C,M),$=`#${dn[C]}X${dn[M]}_${k}${P?Ld:""}`;if(P){Yt(S,$);continue}_?pD(S,$,k):Yt(S,$)}}const h=(b,x)=>{for(const{pair:[k,S],label:_}of b)d(k,S,_,x)};h(lA,a.jijiYukhap),h(cA,a.jijiChung),h(uA,a.jijiPa),h(dA,a.jijiHae),h(fA,a.jijiWonjin),h(hA,a.jijiGwimun);for(const b of mp){if(!b.members.every(T=>l.includes(T)))continue;const k=[];for(let T=0;T<4;T++)b.members.includes(l[T])&&k.push(T);const S=k.includes(si.year)&&k.includes(si.hour),_=Ure(k);Yt(a.jijiSamhap,`#${_}_${b.name}${S?Ld:""}`)}for(const{pair:[b,x],label:k}of V4)Wre(b,x)&&d(b,x,k,a.jijiBanhap,!1);for(const{pair:[b,x],label:k}of mA)d(b,x,k,a.jijiHyeong);for(const{pair:[b,x],label:k}of pA)d(b,x,k,a.jijiHyeong);for(const b of gA){const x=l.map((k,S)=>k===b?S:-1).filter(k=>k>=0);if(!(x.length<2))for(const[k,S]of Hre(x)){const _=mD(k,S),T=`#${dn[k]}X${dn[S]}_${b}${_?Ld:""}`;pD(a.jijiHyeong,T,`${b}`)}}for(const{pair:[b,x],label:k}of bA)d(b,x,k,a.amhap);if(n)for(let b=0;b<4;b++){const x=i[b]??"";if(x.length<2)continue;const k=`${x[0]}${x[1]}`;ry.has(k)&&Yt(a.ganjiAmhap,`#${Z4(dn[b])}_${k}`)}const p=X4(a);if(r)for(const b of Object.keys(p)){if(b==="title")continue;const x=p[b];Array.isArray(x)&&x.length===0&&(p[b]=["#"])}return p}function Vre(e,t){return e===si.year&&t===si.hour||e===si.hour&&t===si.year}function Zre(e,t){for(const n of mp)if(!(n.wang!==e&&n.wang!==t)&&n.members.includes(e)&&n.members.includes(t))return!0;return!1}function Xre(e,t){const n=[],r=new Set;for(const i of e)for(const a of t){if(i===a)continue;const o=Math.min(i,a),l=Math.max(i,a),u=`${o}-${l}`;r.has(u)||(r.add(u),n.push([o,l]))}return n}function Tl(e,t={}){const{emitNatalGanjiAmhap:n=!1}=t,r=[Re(e.natal[0]??""),Re(e.natal[1]??""),Re(e.natal[2]??""),Re(e.natal[3]??"")],a=[Re(e.daewoon??""),Re(e.sewoon??""),Re(e.wolwoon??"")].some(p=>p.length>=2),o={cheonganHap:[],cheonganChung:[],jijiSamhap:[],jijiBanhap:[],jijiBanghap:[],jijiYukhap:[],jijiChung:[],jijiHyeong:[],jijiPa:[],jijiHae:[],jijiWonjin:[],jijiGwimun:[],amhap:[],ganjiAmhap:[]},l=r.map(p=>{const b=Ci(p??"");return zk[b]??b});for(const{pair:[p,b],label:x}of V4){if(!Zre(p,b))continue;const k=[],S=[];for(let T=0;T<4;T++)l[T]===p&&k.push(T),l[T]===b&&S.push(T);const _=Xre(k,S);for(const[T,N]of _){const j=Vre(T,N),C=`#${dn[T]}X${dn[N]}_${x}${j?Ld:""}`;Yt(o.jijiBanhap,C)}}if(n&&a)for(let p=0;p<4;p++){const b=r[p]??"";if(b.length<2)continue;const x=`${b[0]}${b[1]}`;ry.has(x)&&Yt(o.ganjiAmhap,`#${Z4(dn[p])}_${x}`)}const u=[["",e.daewoon],["",e.sewoon],["",e.wolwoon],["",e.ilwoon]];let d=!1,h=!1;for(const[p,b]of u){if(!b)continue;const x=Re(b);if(!x||x.length<2)continue;const k=ny(x),S=Ci(x);{const T=`${k}${S}`;ry.has(T)&&Yt(o.ganjiAmhap,`#${p}_${T}`)}for(let T=0;T<4;T++){const N=r[T]??"";if(N.length<2)continue;const j=dn[T],C=ny(N),M=Ci(N),P=ai(oA,k,C);P&&Yt(o.cheonganHap,`#${p}X${j}_${P}`);const $=ai(sA,k,C);$&&Yt(o.cheonganChung,`#${p}X${j}_${$}`);const U=ai(lA,S,M);U&&Yt(o.jijiYukhap,`#${p}X${j}_${U}`);const Y=ai(cA,S,M);Y&&Yt(o.jijiChung,`#${p}X${j}_${Y}`);const W=ai(uA,S,M);W&&Yt(o.jijiPa,`#${p}X${j}_${W}`);const H=ai(dA,S,M);H&&Yt(o.jijiHae,`#${p}X${j}_${H}`);const z=ai(fA,S,M);z&&Yt(o.jijiWonjin,`#${p}X${j}_${z}`);const V=ai(hA,S,M);V&&Yt(o.jijiGwimun,`#${p}X${j}_${V}`);const X=ai(mA,S,M);if(X)Yt(o.jijiHyeong,`#${p}X${j}_${X}`);else{const q=ai(pA,S,M);q?Yt(o.jijiHyeong,`#${p}X${j}_${q}`):S===M&&gA.has(S)&&Yt(o.jijiHyeong,`#${p}X${j}_${S}${M}`)}const Z=ai(bA,S,M);Z&&Yt(o.amhap,`#${p}X${j}_${Z}`)}for(const T of mp){if(!T.members.includes(S))continue;const N=T.members.filter(C=>C!==S),j=l.map((C,M)=>({b:C,pos:dn[M]})).filter(C=>C.b&&N.includes(C.b));if(new Set(j.map(C=>C.b)).size===2){const[C,M]=j.map(P=>P.pos).sort((P,$)=>dn.indexOf(P)-dn.indexOf($));Yt(o.jijiSamhap,`#${p}X${C}X${M}_(${T.name})`)}}for(const T of hD){if(!T.members.includes(S))continue;const N=T.members.filter(C=>C!==S),j=l.map((C,M)=>({b:C,pos:dn[M]})).filter(C=>C.b&&N.includes(C.b));if(new Set(j.map(C=>C.b)).size===2){const[C,M]=j.map(P=>P.pos).sort((P,$)=>dn.indexOf(P)-dn.indexOf($));Yt(o.jijiHyeong,`#${p}X${C}X${M}_${T.name}`),T.name===""&&(d=!0),T.name===""&&(h=!0)}}const _=[...r.map((T,N)=>({b:zk[Ci(T)]??Ci(T),pos:dn[N]}))];for(const T of W4){const N=_.filter(j=>T.members.includes(j.b));if(new Set(N.map(j=>j.b)).size===3){const j=N.map(C=>C.pos).join("X");Yt(o.jijiBanghap,`#${j}_(${T.name})`)}}}{const p=[],b=[["",e.daewoon],["",e.sewoon],["",e.wolwoon],["",e.ilwoon]];for(const[x,k]of b){const S=Re(k??"");S.length>=2&&p.push({kind:x,b:Ci(S)})}if(p.length>=2){const x=r.map((k,S)=>({pos:dn[S],b:Ci(k)}));for(const k of hD)for(let S=0;S<p.length;S++)for(let _=S+1;_<p.length;_++){const T=p[S],N=p[_];for(const j of x){const C=new Set([j.b,T.b,N.b]);if(C.size===3&&k.members.every(M=>C.has(M))){const M=[T.kind,N.kind].sort(($,U)=>fD.indexOf($)-fD.indexOf(U)).join("X"),P=`${j.pos}X${M}`;Yt(o.jijiHyeong,`#${P}_${k.name}`),k.name===""&&(d=!0),k.name===""&&(h=!0)}}}}}return(d||h)&&(o.jijiHyeong=o.jijiHyeong.filter(p=>!(d&&/(||)/.test(p)||h&&/(||)/.test(p)))),X4(Jre(o))}function Jre(e){const t=/(|||)X(|||)/,n={...e};for(const r of Object.keys(e)){if(r==="title")continue;const i=e[r];Array.isArray(i)&&(n[r]=i.filter(a=>!t.test(a??"")))}return n}const Qre={:"",:"",:"",:"",:""},gD={:"",:"",:"",:"",:""},eie={:"",:"",:"",:"",:""},tie={:"",:"",:"",:"",:""},nie={:.15,:.1,:-.15,:-.2,:-.25};function rie(e,t){const n=Array.from(new Set(t)).sort((r,i)=>r-i);if(n.length<3)return!1;for(let r=0;r<n.length;r++){const i=n[r],a=n[r+1],o=n[r+2];if(!(a==null||o==null)&&o-i<=2&&(e===i||e===a||e===o))return!0}return!1}function iie(e){const t=e.includes(si.month),n=rie(si.month,e)||e.length>=3;return t&&n?"":t||e.length>=2?"":""}function aie(e,t,n,r){const i=r===""?2:r===""?1:.5;e[t]=(e[t]??0)-i,e[n]=(e[n]??0)+i}function oie(e,t,n={}){const{includeBanghap:r=!0,includeSamhap:i=!0}=n,a=[Re(e[0]??""),Re(e[1]??""),Re(e[2]??""),Re(e[3]??"")],o=a.map(h=>Ci(h)).filter(Boolean),l=[],u={...t},d=(h,p)=>{const b=[];for(let T=0;T<a.length;T++){const N=Ci(a[T]??"");p.members.includes(N)&&b.push(T)}if(!p.members.every(T=>o.includes(T)))return;const k=iie(b),S=p.out,_=gD[S];aie(u,_,S,k),l.push({type:h,name:p.name,out:p.out,strength:k})};if(i)for(const h of mp)d("",h);if(r)for(const h of W4)d("",h);return{applied:l,score:u,strengthAdj:nie,shengNext:Qre,shengPrev:gD,ke:eie,keInv:tie}}function iy(e){return dn[e]}function bD(e){const t=new Map,n=new Map;for(let r=0;r<4;r++){const i=Re(e[r]??""),a=ny(i),o=Ci(i);a&&t.set(a,[...t.get(a)??[],r]),o&&n.set(o,[...n.get(o)??[],r])}return{stemPos:t,branchPos:n}}function Ih(e,t,n){const r=[];for(const i of t)for(const a of n)r.push(`#${iy(i)}X${iy(a)}_${e}`);return r}function sie(e,t){const n=bD(e),r=bD(t),i={:[],:[],:[],:[],:[],:[],:[],:[],:[],:[],:[],:[],:[],:[]},a=(l,u)=>{l.includes(u)||l.push(u)};for(const{pair:[l,u],label:d}of oA){const h=[...n.stemPos.get(l)??[],...n.stemPos.get(u)??[]],p=[...r.stemPos.get(l)??[],...r.stemPos.get(u)??[]];if(h.length&&p.length)for(const b of Ih(d,h,p))a(i.,b)}for(const{pair:[l,u],label:d}of sA){const h=[...n.stemPos.get(l)??[],...n.stemPos.get(u)??[]],p=[...r.stemPos.get(l)??[],...r.stemPos.get(u)??[]];if(h.length&&p.length)for(const b of Ih(d,h,p))a(i.,b)}const o=(l,u)=>{const d=Array.from(n.branchPos.keys()),h=Array.from(r.branchPos.keys());for(const p of d)for(const b of h){const x=ai(u,p,b);if(!x)continue;const k=n.branchPos.get(p)??[],S=r.branchPos.get(b)??[];for(const _ of Ih(x,k,S))a(i[l],_)}};o("",lA),o("",cA),o("",uA),o("",dA),o("",fA),o("",hA),o("",mA),o("",pA);for(const l of gA){const u=n.branchPos.get(l)??[],d=r.branchPos.get(l)??[];if(!(!u.length||!d.length))for(const h of Ih(`${l}`,u,d))a(i.,h)}for(const{label:l,pair:[u,d]}of bA){const h=[...n.branchPos.get(u)??[],...n.branchPos.get(d)??[]],p=[...r.branchPos.get(u)??[],...r.branchPos.get(d)??[]];if(!(!h.length||!p.length))for(const b of Ih(l,h,p))a(i.,b)}{const l=Array.from(n.stemPos.keys()),u=Array.from(r.stemPos.keys());for(const d of l)for(const h of u){const p=n.stemPos.get(d)??[],b=r.stemPos.get(h)??[];for(const x of p){const k=Ci(Re(e[x]??"")),S=`${d}${k}`;if(ry.has(S))for(const _ of b){const T=Ci(Re(t[_]??""));`${h}${T}`===S&&a(i.,`#${iy(x)}X${iy(_)}_${S}`)}}}}return i}const J4=new Set(Object.keys(Bn)),Q4=new Set(Object.keys(Kn)),lie=e=>e.slice(0,1),cie=e=>e.slice(-1);function ds(e){return Ud.has(e)?e:J4.has(e)?Bn[e]??e:e}function Sr(e){return _m.has(e)?e:Q4.has(e)?Kn[e]??e:e}function go(e){return ds(lie(e))}function Ft(e){return Sr(cie(e))}function uie(e){if(!e)return null;const t=Array.from(String(e));let n=null,r=null;for(const i of t)!n&&(Ud.has(i)||J4.has(i))&&(n=ds(i)),(_m.has(i)||Q4.has(i))&&(r=Sr(i));return n&&r?{stem:n,branch:r}:null}function die(e){return e.map(Ft)}function j0(e,t,n="classic"){const r=go(t),i=Ft(t),a=(n==="hgc"?hv:fv)[i]??[];return[r,...a].includes(e)}const Uk=[["",""],["",""],["",""],["",""],["",""],["",""]],Fk=[["",""],["",""],["",""],["",""],["",""],["",""]],fie=new Set(["","","",""]),e6=[["",""],["",""]],hie=[{set:new Set(["","","","","","","","","",""]),voids:["",""]},{set:new Set(["","","","","","","","","",""]),voids:["",""]},{set:new Set(["","","","","","","","","",""]),voids:["",""]},{set:new Set(["","","","","","","","","",""]),voids:["",""]},{set:new Set(["","","","","","","","","",""]),voids:["",""]},{set:new Set(["","","","","","","","","",""]),voids:["",""]}];function gm(e,t,n){const r=Sr(t),i=Sr(n);for(const[a,o]of e)if(a===r&&o===i||a===i&&o===r)return!0;return!1}function yD(e,t,n){const r=Sr(t),i=Sr(n);for(const[a,o]of e)if(a===r&&o===i||a===i&&o===r)return`${a}${o}`;return`${r}${i}`}function ay(e){for(const t of hie)if(t.set.has(e))return t.voids;return null}function Hk(e){const t=Sr(e),n=[{group:new Set(["","",""]),years:new Set(["","",""])},{group:new Set(["","",""]),years:new Set(["","",""])},{group:new Set(["","",""]),years:new Set(["","",""])},{group:new Set(["","",""]),years:new Set(["","",""])}];for(const r of n)if(r.group.has(t))return Array.from(r.years);return null}const Gn={2:4,1:3,3:2,0:1},jd={1:4,2:3,0:2,3:1},we={year:0,month:1,day:2,hour:3};function mie(e){return e===3?"si":e===2?"il":e===1?"wol":"yeon"}const lu=e=>e===0?"":e===1?"":e===2?"":"",pf=e=>e==="dae"?"":e==="se"?"":e==="wol"?"":"",pie=(e,t)=>`#X${lu(t)}_${e}`,Id=(e,t,n)=>t===we.month&&n===we.day?`#X_${e}`:t===we.year&&n===we.month?`#X_${e}`:t===we.year&&n===we.day?`#X_${e}`:t===we.month&&n===we.hour?`#X_${e}`:t===we.day&&n===we.hour?`#X_${e}`:`#${lu(t)}X${lu(n)}_${e}`,O0=(e,t)=>`#${lu(t)}_${e}`,t6=(e,t)=>`#X${lu(t)}_${e}`,gie=(e,t)=>`#(${e==="day"?"":""})X${lu(t)}_`,hd=e=>`#_${e}`,md=(e,t)=>`#X${pf(t)}_${e}`,$h=(e,t)=>`#X${pf(t)}_${e}`,t1=(e,t,n)=>`#${lu(n)}X${pf(t)}_${e}`,bie=(e,t)=>`#(${t==="day"?"":""})_${pf(e)}_`,yie=(e,t)=>`#(${t==="day"?"":""})X${pf(e)}_`,vD=(e,t)=>`#X${pf(e)}_${t}`;function Gk(e,t){const n=Sr(e),r=[we.day,we.month,we.hour,we.year];for(const i of r)if(Ft(t[i])===n)return{pos:i,weight:Gn[i]??0};return null}function vA(e,t,n){return Ft(t[n])===Sr(e)?{pos:n,weight:Gn[n]}:null}function vie(e,t){const n=ds(e),r=[we.day,we.month,we.hour,we.year];for(const i of r)if(go(t[i])===n)return{pos:i,weight:Gn[i]??0};return null}const xie=e=>(Array.isArray(e)?e:String(e).split("")).map(t=>Sr(t.trim())).filter(Boolean),cn=e=>Object.fromEntries(Object.entries(e).map(([t,n])=>[ds(t),xie(n)])),_ie=cn({:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),n6=cn({:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),wie=cn({:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),Sie=cn({:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),kie=cn({:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),Eie=cn({:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),Aie=cn({:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),r6=cn({:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),Tie=cn({:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),jie=cn({:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),Oie=cn({:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),Nie=cn({:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),Cie=cn({:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),i6=cn({:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),Mie=cn({:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),Die=cn({:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),xD=cn({:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),Pie=cn({:"",:"",:"",:""}),Rie=cn({:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),_D=cn({:"",:"",:""}),wD=cn({:"",:"",:""}),Lie=cn({:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),a6=cn({:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),o6=cn({:"",:"",:"",:"",:"",:"",:""}),Iie=e=>(Array.isArray(e)?e:String(e).split("")).map(t=>Sr(t.trim())).filter(Boolean),va=e=>Object.fromEntries(Object.entries(e).map(([t,n])=>[Sr(t),(Array.isArray(n)?n:[n]).map(r=>Sr(r))])),jv=e=>Object.fromEntries(Object.entries(e).map(([t,n])=>[Sr(t),Iie(n)])),s6={:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},l6={:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},c6={:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},u6={:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},$ie=va({:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),SD=va({:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),Bie=jv({:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),zie=jv({:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),Uie=jv({:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),Fie=jv({:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),Hie=va({:["",""],:["",""],:["",""],:["",""],:["",""],:["",""],:["",""],:["",""],:["",""],:["",""],:["",""],:["",""]}),Gie=va({:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),qie=va({:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),Yie=va({:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),Kie=va({:["",""],:["",""],:["",""],:["",""],:["",""],:["",""],:["",""],:["",""],:["",""],:["",""],:["",""],:["",""]}),d6=va({:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),Wie=va({:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),Vie=va({:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),Zie=va({:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),Xie=va({:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),hn=e=>Object.fromEntries(Object.entries(e).map(([t,n])=>[Sr(t),(Array.isArray(n)?n:[n]).map(r=>Sr(r))])),Jie=hn({:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),f6=hn({:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),Qie=hn({:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),eae=hn({:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),tae=hn({:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),h6=hn({:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),nae=hn({:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),rae=hn({:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),iae=hn({:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),aae=hn({:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),oae=hn({:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),m6=hn({:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),sae=hn({:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),lae=hn({:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),cae=hn({:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),uae=hn({:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),dae=hn({:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),fae=hn({:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),p6=hn({:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),hae=m6,mae=f6,pae=p6,gae=hn({:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),bae=h6,yae=hn({:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),vae=hn({:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),xae=hn({:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""});function pp(e,t){e.push(t)}function n1(e,t,n,r,i=0){const a=jd[n]>=jd[r]?n:r;e.push({name:Id(t,n,r),weight:Gn[a]+i,pos:a})}function _ae(e,t,n,r,i){const a=Ft(e[we.year]),o=t[a];if(!o)return;const l=n==="MONTH"?[we.month]:n==="DAY"?[we.day]:n==="HOUR"?[we.hour]:[we.year,we.month,we.day,we.hour];for(const u of o)for(const d of l){const h=vA(u,e,d);h&&pp(i,{name:Id(r,we.year,d),weight:h.weight,pos:d})}}function wae(e,t,n,r){const i=Ft(e[we.month]),a=t[i];if(!a)return;const o=ds(a),l=vie(o,e);l&&pp(r,{name:t6(n,l.pos),weight:l.weight,pos:l.pos})}function kD(e,t,n,r,i="ALL"){const a=Ft(e[we.month]),o=t[a];if(!o)return;const l=i==="YEAR"?[we.year]:i==="DAY"?[we.day]:i==="HOUR"?[we.hour]:i==="DAY_HOUR"?[we.day,we.hour]:[we.year,we.month,we.day,we.hour];for(const u of o)for(const d of l){const h=vA(u,e,d);if(!h)continue;const p=d===we.month?`#_${n}`:t6(n,d);pp(r,{name:p,weight:h.weight,pos:d})}}function ED(e,t,n,r){const i=Ft(e[we.month]),a=t[i];if(!a)return;const o=e[we.day];a.includes(o)&&pp(r,{name:Id(n,we.month,we.day),weight:Gn[we.day],pos:we.day})}function AD(e,t,n,r,i){const a=go(e[we.day]),o=t[a];if(!o)return;const l=i==="DAY"?[we.day]:i==="HOUR"?[we.hour]:[we.year,we.month,we.day,we.hour];for(const u of o)for(const d of l){const h=vA(u,e,d);h&&pp(r,{name:pie(n,d),weight:h.weight,pos:d})}}function Sae({natal:e,daewoon:t,basis:n}){const r=go(e[we.day]),i=Ft(e[we.day]),a=Ft(e[we.month]),o=Ft(e[we.year]),l=die(e),u=[],d=[],h=[[Jie,"MONTH",""],[f6,"DAY",""],[eae,"MONTH",""],[tae,"MONTH",""],[nae,"ALL",""],[rae,"HOUR",""],[iae,"ALL",""],[aae,"ALL",""],[oae,"ALL",""],[m6,"ALL",""],[sae,"ALL",""],[lae,"ALL",""],[cae,"ALL",""],[uae,"ALL",""],[dae,"ALL",""],[fae,"ALL",""],[p6,"ALL",""],[hae,"ALL",""],[mae,"ALL",""],[pae,"ALL",""],[gae,"ALL",""],[bae,"ALL",""],[yae,"ALL",""],[vae,"ALL",""],[xae,"ALL",""]];for(const[C,M,P]of h)_ae(e,C,M,P,d);const p=[[s6,""],[l6,""],[c6,""],[u6,""]];for(const[C,M]of p)wae(e,C,M,u);const b=[[$ie,"","ALL"],[SD,"","YEAR"],[SD,"","DAY"],[Hie,"","ALL"],[Gie,"","ALL"],[qie,"","ALL"],[Yie,"","ALL"],[Kie,"","ALL"]];for(const[C,M,P]of b)kD(e,C,M,d,P);const x=[[d6,"","ALL"],[Wie,"","DAY_HOUR"],[Vie,"","DAY_HOUR"],[Zie,"","ALL"],[Xie,"","ALL"]];for(const[C,M,P]of x)kD(e,C,M,u,P);const k=[[Bie,""],[Fie,""]];for(const[C,M]of k)ED(e,C,M,u);const S=[[zie,""],[Uie,""]];for(const[C,M]of S)ED(e,C,M,d);const _=[[_ie,"","ALL"],[n6,"","ALL"],[wie,"","ALL"],[Sie,"","ALL"],[kie,"","ALL"],[Eie,"","ALL"],[Aie,"","ALL"],[r6,"","ALL"],[Tie,"","ALL"],[jie,"","ALL"],[Oie,"","ALL"],[Nie,"","ALL"],[Cie,"","ALL"],[Lie,"","ALL"]];for(const[C,M,P]of _)AD(e,C,M,u,P);const T=[[i6,"","ALL"],[Mie,"","ALL"],[Die,"","ALL"],[xD,"","DAY"],[xD,"","HOUR"],[_D,"","DAY"],[_D,"","HOUR"],[wD,"","DAY"],[wD,"","HOUR"],[Pie,"","DAY"],[Rie,"","ALL"],[a6,"","ALL"]];for(const[C,M,P]of T)AD(e,C,M,d,P);if(new Set(["","","",""]).has(e[we.day])){d.push({name:hd(""),weight:Gn[we.day],pos:we.day});for(const M of[we.year,we.month,we.hour])e[M]===e[we.day]&&d.push({name:O0("",M),weight:Gn[M],pos:M})}{const C=o6[r];if(C)for(const M of[we.year,we.month,we.day,we.hour]){const P=go(e[M]),$=Ft(e[M]);P===r&&C.includes($)&&d.push({name:O0("",M),weight:Gn[M],pos:M})}}for(const[C,M]of e6){const P=Gk(C,e),$=Gk(M,e);P&&$&&n1(d,"",P.pos,$.pos)}{const C=new Set(["",""]),M=new Set(["","","",""]);for(let P=0;P<=3;P++){const $=go(e[P]),U=Ft(e[P]);(C.has($)||M.has(U))&&d.push({name:O0("",P),weight:Gn[P],pos:P})}}{const C=e[we.hour],M=($,U)=>$.includes(r)&&U.includes(C);(M(["",""],["",""])||M(["",""],["",""])||M(["",""],["",""])||M(["",""],["",""])||M(["",""],["",""]))&&d.push({name:hd(""),weight:Gn[we.hour],pos:we.hour})}["","","",""].every(C=>l.includes(C))&&u.push({name:hd(""),weight:Gn[we.day],pos:we.day});{const C=e[we.day],M=e[we.hour];(C===""&&M===""||C===""&&M==="")&&d.push({name:Id("",we.day,we.hour),weight:Gn[we.hour],pos:we.hour})}{const C=Ft(e[we.year]),M=new Set(l.slice(1)),P=(U,Y)=>U.every(W=>M.has(W))&&C===Y;(P(["","",""],"")||P(["","",""],"")||P(["","",""],"")||P(["","",""],""))&&u.push({name:hd(""),weight:Gn[we.day],pos:we.day})}(e[we.day]===""||e[we.day]==="")&&u.push({name:hd(""),weight:Gn[we.day],pos:we.day});{const M={:{rok:"",maStem:""},:{rok:"",maStem:""},:{rok:"",maStem:""},:{rok:"",maStem:""},:{rok:"",maStem:""},:{rok:"",maStem:""},:{rok:"",maStem:""},:{rok:"",maStem:""},:{rok:"",maStem:""},:{rok:"",maStem:""}}[r];M&&e.some($=>Ft($)===M.rok)&&go(e[we.hour])===M.maStem&&u.push({name:Id("",we.day,we.hour),weight:Gn[we.hour],pos:we.hour})}{const C=Ft(e[we.hour]),P={:{rok:"",ma:"",rokStem:"",maStem:""},:{rok:"",ma:"",rokStem:"",maStem:""},:{rok:"",ma:"",rokStem:"",maStem:""},:{rok:"",ma:"",rokStem:"",maStem:""},:{rok:"",ma:"",rokStem:"",maStem:""},:{rok:"",ma:"",rokStem:"",maStem:""},:{rok:"",ma:"",rokStem:"",maStem:""},:{rok:"",ma:"",rokStem:"",maStem:""},:{rok:"",ma:"",rokStem:"",maStem:""},:{rok:"",ma:"",rokStem:"",maStem:""}}[r];if(P){const $=i===P.rok,U=C===P.ma,Y=j0(P.rokStem,e[we.day],"classic")||j0(P.rokStem,e[we.hour],"classic"),W=j0(P.maStem,e[we.day],"classic")||j0(P.maStem,e[we.hour],"classic");$&&U&&(Y||W)&&u.push({name:Id("",we.day,we.hour),weight:Gn[we.hour],pos:we.hour})}}{const C=new Set(["","","","","",""]),M=e.map(go),P=e.map(Ft),$=M.concat(P).filter(H=>C.has(H)).length,U=t?go(t):"",Y=t?Ft(t):"",W=C.has(U)||C.has(Y);($>=4||$===3&&W)&&d.push({name:hd(""),weight:Gn[we.day],pos:we.day})}{const C=new Set(["",""]),M=new Set(["",""]);for(let P=0;P<=3;P++){const $=go(e[P]),U=Ft(e[P]);(C.has($)||M.has(U))&&d.push({name:O0("",P),weight:Gn[P],pos:P})}}{const C=[[we.year,we.month],[we.year,we.day],[we.month,we.day],[we.month,we.hour],[we.day,we.hour]];for(const[M,P]of C){const $=Ft(e[M]),U=Ft(e[P]);if(gm(Uk,$,U)){const Y=yD(Uk,$,U);n1(d,`${Y}`,M,P)}}}{const C=[[we.year,we.month,0],[we.month,we.day,1],[we.month,we.hour,0],[we.day,we.hour,0]];for(const[M,P,$]of C){const U=Ft(e[M]),Y=Ft(e[P]);if(gm(Fk,U,Y)){const W=yD(Fk,U,Y),H=($?1:0)+(fie.has(U+Y)?1:0);n1(d,`${W}`,M,P,H)}}}const N=ay(e[we.day]),j=ay(e[we.year]);{const C=(n?.voidBasis??"day")==="day"?N:j;if(C){const[M,P]=C.map(Sr);for(const $ of[we.year,we.month,we.day,we.hour]){const U=Ft(e[$]);(U===M||U===P)&&d.push({name:gie(n?.voidBasis??"day",$),weight:Gn[$],pos:$})}}}return{goodPos:u,badPos:d,dayVoid:N,yearVoid:j,dStem:r,dBranch:i,mBranch:a,yBranch:o,branches:l}}function N0({src:e,luck:t,natal:n,dStem:r,dBranch:i,mBranch:a,yBranch:o,branches:l,dayVoid:u,yearVoid:d,basis:h}){const p=[],b=[],x=(N,j)=>{N.includes(j)||N.push(j)},k=uie(t??null);if(!k)return{good:p,bad:b};const S=k.branch,_=k.stem;ds(s6[a]??"")===_&&x(p,$h("",e)),ds(l6[a]??"")===_&&x(p,$h("",e)),ds(c6[a]??"")===_&&x(p,$h("",e)),ds(u6[a]??"")===_&&x(p,$h("",e)),d6[a]?.includes(S)&&x(p,$h("",e)),n6[r]?.includes(S)&&x(p,md("",e)),r6[r]?.includes(S)&&x(p,md("",e)),i6[r]?.includes(S)&&x(b,md("",e)),a6[r]?.includes(S)&&x(b,md("",e)),o6[r]?.includes(S)&&x(b,md("",e)),e==="se"&&(Qie[o]?.includes(S)&&x(b,vD(e,"")),h6[o]?.includes(S)&&x(b,vD(e,"")));for(const N of l)if(gm(e6,S,N)){const j=Gk(N,n)?.pos;j!==void 0&&x(b,t1("",e,j));break}new Set(["",""]).has(r)&&new Set(["","","",""]).has(S)&&x(b,md("",e));const T=(h?.voidBasis??"day")==="day"?u:d;T&&(S===T[0]||S===T[1])&&x(b,bie(e,h?.voidBasis??"day"));for(let N=0;N<=3;N++){const j=Ft(n[N]);gm(Uk,S,j)&&x(b,t1("",e,N)),gm(Fk,S,j)&&x(b,t1("",e,N))}if(e==="se"){const N=(h?.samjaeBasis??"day")==="day"?i:o,j=N?Hk(N):null;j&&j.includes(S)&&x(b,yie(e,h?.samjaeBasis??"day"))}return{good:p,bad:b}}const kae=/^#(|||)X\1_/,Eae=e=>kae.test(e);function TD(e){const t=new Map;for(const n of e){if(Eae(n.name))continue;const r=`${n.name}@${n.pos}`,i=t.get(r);(!i||n.weight>i.weight)&&t.set(r,n)}return Array.from(t.values()).sort((n,r)=>r.weight!==n.weight?r.weight-n.weight:n.name.localeCompare(r.name,"ko"))}function Aae(e){const t=e.lastIndexOf("_");return t>=0?e.slice(t+1):e}const Tae=new Set(["",""]);function jae(e){return Tae.has(e)?!0:e.endsWith("")||e.endsWith("")}function jD(e){const t=new Map;for(const r of e){const i=Aae(r.name);t.has(i)||t.set(i,[]),t.get(i).push(r)}const n=[];for(const[r,i]of t)if(jae(r))n.push(...i);else{const a=i.sort((o,l)=>jd[o.pos]!==jd[l.pos]?jd[l.pos]-jd[o.pos]:l.weight-o.weight)[0];n.push(a)}return n}function OD(e,t){const n={si:[],il:[],yeon:[],wol:[]},r=mie;for(const i of e)n[r(i.pos)].push(i.name);return n}function Kd({natal:e,daewoon:t,sewoon:n,wolwoon:r,ilwoon:i,basis:a}){const{goodPos:o,badPos:l,dayVoid:u,yearVoid:d,dStem:h,dBranch:p,mBranch:b,yBranch:x,branches:k}=Sae({natal:e,daewoon:t,basis:a}),S=jD(TD(o)),_=jD(TD(l)),T=OD(S),N=OD(_),j=N0({src:"dae",luck:t??null,natal:e,dStem:h,dBranch:p,mBranch:b,yBranch:x,branches:k,dayVoid:u,yearVoid:d,basis:a}),C=N0({src:"se",luck:n??null,natal:e,dStem:h,dBranch:p,mBranch:b,yBranch:x,branches:k,dayVoid:u,yearVoid:d,basis:a}),M=N0({src:"wol",luck:r??null,natal:e,dStem:h,dBranch:p,mBranch:b,yBranch:x,branches:k,dayVoid:u,yearVoid:d,basis:a}),P=N0({src:"il",luck:i??null,natal:e,dStem:h,dBranch:p,mBranch:b,yBranch:x,branches:k,dayVoid:u,yearVoid:d,basis:a});return{good:{...T,dae:j.good,se:C.good,wolun:M.good,ilun:P.good},bad:{...N,dae:j.bad,se:C.bad,wolun:M.bad,ilun:P.bad},meta:{voidPair:{day:ay(e[we.day])??void 0,year:ay(e[we.year])??void 0},samjaeYears:{day:Hk(Ft(e[we.day]))??void 0,year:Hk(Ft(e[we.year]))??void 0},currentBasis:{voidBasis:a?.voidBasis??"day",samjaeBasis:a?.samjaeBasis??"day"}}}}function Oae(e){return typeof e=="object"&&e!==null}function gf(e){const t=F4;return Oae(t)&&("Classic"in t||"Modern"in t||"classic"in t||"modern"in t)?e==="classic"?t.Classic:t.Modern:e}const ND=["","","","","","","","","",""],Nae=["","","","","","","","","","","",""],Cae=["","","","","","","","","","","",""];function Mae(e){const t=mv(e);return t===""||t===""?0:t===""||t===""?2:t===""||t===""?4:t===""||t===""?6:8}function Dae(e,t){const n=Mae(e);return(t?Cae:Nae).map((i,a)=>`${ND[(n+a)%10]??ND[0]}${i}`)}function bm(e){const t=n=>n.toString().padStart(2,"0");return`${e.getFullYear()} ${t(e.getMonth()+1)} ${t(e.getDate())} ${t(e.getHours())} ${t(e.getMinutes())}`}function CD(e){return e<10?`0${e}`:`${e}`}function qk(e){return`${CD(e.getHours())}:${CD(e.getMinutes())}`}function xA(e){return!e||e===""?!0:!/^\d{4}$/.test(e)}function MD(e,t){if(!e||!/^\d{8}$/.test(e))return"";const n=e.slice(0,4),r=e.slice(4,6),i=e.slice(6,8),a=`${n}-${r}-${i}`;return!t||xA(t)?a:`${a} ${t.slice(0,2)}:${t.slice(2,4)}`}function Pae(e,t,n){if(n)return"";const r=(e??"").trim();if(r)return r;const i=t instanceof Date?t:new Date(t);return Number.isNaN(i.getTime())?"":qk(i)}const DD=["","/",""],Rae="/";function g6(e,t){return e&&DD.includes(e)?e:t&&DD.includes(t)?t:Rae}function PD(e){return e===""}function Lae(e){return e===""?"":""}function Iae(e){switch(e){case"":return 1;case"":return 2;case"":return 3;case"":default:return 0}}const $ae=e=>e instanceof Date&&!Number.isNaN(e.getTime());function RD(e,t){const n=xA(e.birthTime);let r=Number(e.birthDay?.slice(0,4)??2e3),i=Number(e.birthDay?.slice(4,6)??1),a=Number(e.birthDay?.slice(6,8)??1);if(e.calendarType==="lunar"){const j=Gi(r,i,a);r=j.getFullYear(),i=j.getMonth()+1,a=j.getDate()}const o=n?4:Number(e.birthTime?.slice(0,2)??4),l=n?30:Number(e.birthTime?.slice(2,4)??30),u=new Date(r,i-1,a,o,l,0,0),d=!e.birthPlace||e.birthPlace.name===""||!e.birthPlace.lon,h=d?127.5:e.birthPlace.lon,p=$ae(e.corrected);let b;p?b=e.corrected:d?b=u:b=cp(u,h,n);const x=t?new Date(b.getTime()-3600*1e3):b,k=g6(e.mingSikType),S=ot(x,h),_=_t(x,h),T=pt(x,k),N=n?null:Fa(x,k);return{corrected:x,year:{stem:S.charAt(0),branch:S.charAt(1)},month:{stem:_.charAt(0),branch:_.charAt(1)},day:{stem:T.charAt(0),branch:T.charAt(1)},hour:N?{stem:N.charAt(0),branch:N.charAt(1)}:null}}const Bae=[{keys:["",""],label:"",elem:""},{keys:["",""],label:"",elem:""},{keys:["",""],label:"",elem:""},{keys:["",""],label:"",elem:""},{keys:["",""],label:"",elem:""},{keys:["",""],label:"",elem:""},{keys:["",""],label:"",elem:""},{keys:["",""],label:"",elem:""},{keys:["",""],label:"",elem:""},{keys:["",""],label:"",elem:""},{keys:["",""],label:"",elem:""},{keys:["",""],label:"",elem:""},{keys:["",""],label:"",elem:""},{keys:["",""],label:"",elem:""},{keys:["",""],label:"",elem:""},{keys:["",""],label:"",elem:""},{keys:["",""],label:"",elem:""},{keys:["",""],label:"",elem:""},{keys:["",""],label:"",elem:""},{keys:["",""],label:"",elem:""},{keys:["",""],label:"",elem:""},{keys:["",""],label:"",elem:""},{keys:["",""],label:"",elem:""},{keys:["",""],label:"",elem:""},{keys:["",""],label:"",elem:""},{keys:["",""],label:"",elem:""},{keys:["",""],label:"",elem:""},{keys:["",""],label:"",elem:""},{keys:["",""],label:"",elem:""},{keys:["",""],label:"",elem:""}],zae=(()=>{const e={};for(const t of Bae){const[n,r]=t.keys;e[n]={label:t.label,elem:t.elem},e[r]={label:t.label,elem:t.elem}}return e})(),Uae={:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""};function Fae(e,t){const n=`${mv(e)}${S2(t)}`;return zae[n]??null}function Hae(e){switch(e){case"":return"bg-green-600 text-white";case"":return"bg-red-600 text-white";case"":return"bg-yellow-600 text-white";case"":return"bg-gray-500 text-white";case"":return"bg-blue-700 text-white";default:return"bg-neutral-700 text-white"}}function Gae(e){switch(Uae[S2(e)]){case"":return"bg-green-600 text-white border-green-600";case"":return"bg-red-600 text-white border-red-600";case"":return"bg-yellow-500 text-white border-yellow-500";case"":return"bg-gray-400 text-white border-gray-400";case"":return"bg-blue-900 text-white border-blue-600";default:return"bg-neutral-700 text-white border-neutral-700"}}function qae({stem:e,branch:t}){const n=Fae(e,t);if(!n)return null;const r=Hae(n.elem);return g.jsx("span",{className:`inline-block mt-1 px-1.5 py-[2px] rounded ${r} border border-white/10 text-nowrap`,title:`${n.label}  ${n.elem}`,children:n.label})}function LD({value:e,kind:t,charType:n,thinEum:r,highlighted:i}){const{settings:a}=jn(),o=Ui(e,t,a),l=di(e,t,n),u=Ha(e,t),d=r&&u?"font-thin":"font-bold",h=i?"border-purple-500 border-3":"border-neutral-200 dark:border-neutral-800";return g.jsx("div",{className:`w-11 h-11 sm:w-14 sm:h-14 md:w-14 md:h-14 rounded-md ${o}
                  flex items-center justify-center border ${h}`,children:g.jsx("span",{className:`text-[24px] md:text-2xl ${d} `,children:l})})}function b6({title:e,data:t,dayStem:n,charType:r,thinEum:i,showSipSin:a,showUnseong:o,showShinsal:l,showNabeum:u,hiddenMode:d,hiddenStemMode:h,calcUnseong:p,calcShinsal:b,size:x="regular",highlightedStem:k=!1,highlightedBranch:S=!1}){const _=x==="compact"?"py-1 text-center text-xs tracking-wider":"px-2 py-1 text-center text-xs tracking-wider",T=x==="compact"?"py-2":"p-2";return g.jsxs("div",{className:"rounded-xl bg-white dark:bg-neutral-900 border border-neutral-200 dark:border-neutral-800 overflow-hidden",children:[g.jsx("div",{className:`${_} bg-neutral-50 dark:bg-neutral-800/60 text-neutral-600 dark:text-neutral-300`,children:e}),g.jsx("div",{className:`${T} flex flex-col items-center gap-1`,children:t?g.jsxs(g.Fragment,{children:[a&&g.jsx("div",{className:"text-xs text-neutral-500 dark:text-neutral-400",children:ma(n,{stem:t.stem})}),g.jsx(LD,{value:t.stem,kind:"stem",charType:r,thinEum:i,highlighted:k}),g.jsx(LD,{value:t.branch,kind:"branch",charType:r,thinEum:i,highlighted:S}),g.jsx(t5,{branch:t.branch,dayStem:n,mode:d,mapping:h}),(o||l||u)&&g.jsxs("div",{className:"text-[11px] text-neutral-500 dark:text-neutral-400 mt-1 text-center space-y-0.5 w-full",children:[o&&g.jsx("div",{children:p(t.branch)}),l&&g.jsx("div",{children:b(t.branch)}),u&&g.jsx(qae,{stem:t.stem,branch:t.branch})]})]}):g.jsx("span",{className:"text-xs text-neutral-500 dark:text-neutral-400",children:" "})})]})}const Yae=(e,t,n,r)=>{let i=e.data.stem,a=e.data.branch;return e.key==="daeun"&&t&&(i=t.charAt(0),a=t.charAt(1)),e.key==="seun"&&n&&(i=n.charAt(0),a=n.charAt(1)),e.key==="wolun"&&r&&(i=r.charAt(0),a=r.charAt(1)),{stem:i,branch:a}};function Kae({cards:e,isDesktop:t,dayStem:n,charType:r,thinEum:i,showSipSin:a,showUnseong:o,showShinsal:l,showNabeum:u,hiddenMode:d,hiddenStemMode:h,calcUnseong:p,calcShinsal:b,daeGz:x,seGz:k,wolGz:S,highlightMap:_={}}){const T=t?"regular":"compact",N=e.length===1?"grid-cols-1":e.length===2?"grid-cols-2":"grid-cols-3",j="rounded-lg bg-white dark:bg-neutral-900 text-neutral-900 dark:text-white border border-neutral-200 dark:border-neutral-700 shadow",C=t?"px-3 py-1 text-md text-neutral-600 dark:text-neutral-300":"px-3 py-1 text-[11px] text-neutral-600 dark:text-neutral-300",M=t?`grid gap-2 p-3 ${N}`:`grid gap-1 p-0 ${N}`;return g.jsxs("div",{className:j,children:[g.jsx("div",{className:C,children:g.jsx("b",{children:""})}),g.jsx("div",{className:"pb-2",children:g.jsx("div",{className:M,children:e.map(P=>{const $=Yae(P,x,k,S),U=_[P.key]??{stem:!1,branch:!1};return g.jsx(b6,{title:P.label,data:$,dayStem:n,charType:r,thinEum:i,showSipSin:a,showUnseong:o,showShinsal:l,showNabeum:u,hiddenMode:d,hiddenStemMode:h,calcUnseong:p,calcShinsal:b,size:T,highlightedStem:U.stem,highlightedBranch:U.branch},P.key)})})})]})}function Wae({pillars:e,isDesktop:t,dayStem:n,charType:r,thinEum:i,showSipSin:a,showUnseong:o,showShinsal:l,showNabeum:u,hiddenMode:d,hiddenStemMode:h,calcUnseong:p,calcShinsal:b,highlightMap:x={}}){const k=t?"regular":"compact",S=t?"px-3 py-1 text-md text-neutral-600 dark:text-neutral-300":"px-3 py-1 text-[11px] text-neutral-600 dark:text-neutral-300",_=t?"grid grid-cols-4 gap-2 p-3":"grid grid-cols-4 gap-1";return g.jsxs("div",{className:"flex-2 rounded-lg bg-white dark:bg-neutral-900 text-neutral-900 dark:text-white border border-neutral-200 dark:border-neutral-700 shadow",children:[g.jsx("div",{className:S,children:g.jsx("b",{children:""})}),g.jsx("div",{className:t?"pb-2":"px-1 pb-2",children:g.jsx("div",{className:_,children:e.map(T=>{const N=x[T.key]??{stem:!1,branch:!1};return g.jsx(b6,{title:T.label,data:T.data,dayStem:n,charType:r,thinEum:i,showSipSin:a,showUnseong:o,showShinsal:l,showNabeum:u,hiddenMode:d,hiddenStemMode:h,calcUnseong:p,calcShinsal:b,size:k,highlightedStem:N.stem,highlightedBranch:N.branch},T.key)})})})]})}function Vae({hourCandidates:e,useInsi:t,onToggleRule:n,manualHour:r,onSelectHour:i}){return g.jsxs("div",{className:"mt-4 p-3 border rounded bg-neutral-50 dark:bg-neutral-800",children:[g.jsxs("div",{className:"flex items-center justify-between mb-2",children:[g.jsx("span",{className:"font-semibold text-sm text-neutral-700 dark:text-neutral-300",children:" "}),g.jsx("button",{onClick:n,className:"px-2 py-1 text-xs rounded border bg-white dark:bg-neutral-900 border-neutral-300 dark:border-neutral-600 cursor-pointer",children:t?" : ":" : "})]}),g.jsx("div",{className:"grid grid-cols-4 gap-2",children:e.map(a=>{const o=a.charAt(0),l=a.charAt(1),u=r?.stem===o&&r?.branch===l;return g.jsx("button",{onClick:()=>i(o,l),className:`p-2 text-xs rounded border cursor-pointer ${u?Gae(l):"bg-white dark:bg-neutral-900 text-neutral-700 dark:text-neutral-200 border-neutral-300 dark:border-neutral-600"}`,title:`${a} ( )`,children:a},a)})})]})}function Zae(e){const i=e.trim().replace(/^#?(|||)(X(|||))?_/u,"").replace(/\((|||)\)$/u,"").replace(/\s+/g," ").trim(),a=i.includes("_")?i.split("_").pop()??i:i;return a.includes("")?"":a.includes("")?"":a.includes("")?"":a===""||a===""||a===""?"":a}const Bh={:{title:"()",kind:"",oneLine:"   .",bullets:["  ,  / ."]},:{title:"()",kind:"",oneLine:"    ."},:{title:"()",kind:"",oneLine:"   ."},:{title:"()",kind:"",oneLine:"   ."},:{title:"() / ",kind:"",oneLine:"   ."},:{title:"()",kind:"",oneLine:"    ."},:{title:"()",kind:"",oneLine:"   ."},:{title:"()",kind:"",oneLine:" ,    ."},:{title:"()",kind:"",oneLine:"  (  ) ."},:{title:"()",kind:"",oneLine:"     ."},:{title:"()",kind:"",oneLine:"    ."},:{title:"()",kind:"",oneLine:"  / ."},:{title:"()",kind:"",oneLine:"    ."},:{title:"()",kind:"",oneLine:"()   ."},:{title:"()",kind:"",oneLine:"  ()  ."},:{title:"()",kind:"",oneLine:"  :   ."},:{title:"()",kind:"",oneLine:"    ."},:{title:"()",kind:"",oneLine:"    ."},:{title:"()",kind:"",oneLine:"/  ."},:{title:"()",kind:"",oneLine:"  ."},:{title:"()",kind:"",oneLine:"   ."},:{title:"()",kind:"",oneLine:"   ."},:{title:"() / ",kind:"",oneLine:"   ."},:{title:"()",kind:"",oneLine:"    ."},:{title:"()",kind:"",oneLine:"//     ."},:{title:"()",kind:"",oneLine:"  :   ."},:{title:"()",kind:"",oneLine:"   : //."},:{title:"",kind:"",oneLine:"  :   ."},:{title:"",kind:"",oneLine:"  :  ."},:{title:"()",kind:"",oneLine:"//     ."},:{title:"()",kind:"",oneLine:"    ."},:{title:"()",kind:"",oneLine:" //  ."},:{title:"()",kind:"",oneLine:"   ."},:{title:"()",kind:"",oneLine:"  : ."},:{title:"()",kind:"",oneLine:": /  ."},:{title:"",kind:"",oneLine:" : //  ."},:{title:"()",kind:"",oneLine:"   ."},:{title:"()",kind:"",oneLine:"  ."},:{title:"()",kind:"",oneLine:" / :   ."},:{title:"()",kind:"",oneLine:"()  ."},:{title:"()",kind:"",oneLine:"   ."},:{title:"()",kind:"",oneLine:"/ :  ."},:{title:"()",kind:"",oneLine:"   ."},:{title:"()",kind:"",oneLine:"   ."},:{title:"()",kind:"",oneLine:"   ."},:{title:"()",kind:"",oneLine:" / :    ."},:{title:"()",kind:"",oneLine:" :   / ."},:{title:"",kind:"",oneLine:"   ."},:{title:"()",kind:"",oneLine:"() //  ."},:{title:"()",kind:"",oneLine:" :      ."},:{title:"()",kind:"",oneLine:" ."},:{title:"()",kind:"",oneLine:"  :  ."},:{title:"()",kind:"",oneLine:"//    ."},:{title:"()",kind:"",oneLine:"    : ."},:{title:"",kind:"",oneLine:"  : //."},:{title:"()",kind:"",oneLine:"/  ."},:{title:"()",kind:"",oneLine:"  : ."},:{title:"()",kind:"",oneLine:" : /  ."},:{title:"()",kind:"",oneLine:"  :  ."},:{title:"()",kind:"",oneLine:" () ."},:{title:"()",kind:"",oneLine:"   ."},:{title:"",kind:"",oneLine:":  ."},:{title:"",kind:"",oneLine:" /  ."},:{title:"()",kind:"",oneLine:"/ :  ."},:{title:"()",kind:"",oneLine:"/ :  ."},:{title:"()",kind:"",oneLine:" /   ."},:{title:"",kind:"",oneLine:"    ."},:{title:"()",kind:"",oneLine:" /.   ."},:{title:"()",kind:"",oneLine:"  .   ."},:{title:"()",kind:"",oneLine:" /    ."},:{title:"()",kind:"",oneLine:" :  ."},:{title:"()",kind:"",oneLine:"  :  ."},:{title:"()",kind:"",oneLine:"   :  ."},:{title:"()",kind:"",oneLine:" :  /."},:{title:"",kind:"",oneLine:"     ."},:{title:"()",kind:"",oneLine:" /  ."},:{title:"()",kind:"",oneLine:"  :   ."},:{title:"()",kind:"",oneLine:"  : /  ."},:{title:"()",kind:"",oneLine:"  : // ."},:{title:"()",kind:"",oneLine:"   :  ."},:{title:"()",kind:"",oneLine:"//   ."},:{title:"()",kind:"",oneLine:"/  :  ."},:{title:"()",kind:"",oneLine:"/    ."},:{title:"()",kind:"",oneLine:" : ."}};function Xae(e){const t=Zae(e),n=Bh[t];if(n)return n;if(t.endsWith("")){const r=t.replace(/$/,"");if(Bh[r])return Bh[r]}else{const r=`${t}`;if(Bh[r])return Bh[r]}return{title:t||"",kind:"",oneLine:" "}}function Jae(e){const t=`${e.title}  ${e.kind}`,n=e.oneLine,r=(e.bullets??[]).map(i=>`- ${i}`).join(`
`);return r?`${t}
${n}
${r}`:`${t}
${n}`}function uo({columnKey:e,title:t,goodTags:n,badTags:r,isDesktop:i,openTagKey:a,setOpenTagKey:o}){const l=Yk(n,oy),u=Yk(r,oy),d=i||l.length>0,h=i||u.length>0;return!i&&l.length===0&&u.length===0?null:g.jsxs("div",{className:"flex-1 rounded-md border border-neutral-200 dark:border-neutral-800 p-2",children:[g.jsx("div",{className:"text-[11px] text-neutral-500 dark:text-neutral-400 mb-1",children:t}),g.jsxs("div",{className:"space-y-2",children:[g.jsxs("div",{children:[d&&g.jsx("div",{className:"text-[10px] text-emerald-600 dark:text-emerald-400 mb-1",children:""}),g.jsx(ID,{tags:n,idPrefix:`${e}-good`,isDesktop:i,openTagKey:a,setOpenTagKey:o})]}),g.jsxs("div",{children:[h&&g.jsx("div",{className:"text-[10px] text-rose-600 dark:text-rose-400 mb-1",children:""}),g.jsx(ID,{tags:r,idPrefix:`${e}-bad`,isDesktop:i,openTagKey:a,setOpenTagKey:o})]})]})]})}function ID({tags:e,idPrefix:t,isDesktop:n,openTagKey:r,setOpenTagKey:i}){const a=Yk(e,oy);return a.length===0?n?g.jsx("div",{className:"text-[11px] text-neutral-400 text-center",children:""}):null:g.jsx("div",{className:"flex flex-row flex-wrap desk:flex-col gap-1",children:a.map((o,l)=>{const u=`${t}-${l}`;return g.jsx(Qae,{tag:o,id:u,openTagKey:r,setOpenTagKey:i},u)})})}function Qae({tag:e,id:t,openTagKey:n,setOpenTagKey:r}){const i=n===t,a=Xae(e),o=a?Jae(a):"",l=oy(e),u=w.useRef(null),d=w.useRef(null),[h,p]=w.useState("center");return w.useLayoutEffect(()=>{if(!i)return;const b=d.current;if(!b)return;const x=b.getBoundingClientRect(),S=Math.min(300,window.innerWidth-16*2),_=x.left,T=window.innerWidth-x.right;T<S/2&&_>T?p("right"):_<S/2&&T>_?p("left"):p("center")},[i]),w.useLayoutEffect(()=>{if(!i)return;const b=x=>{const k=x.target;!u.current||k&&u.current.contains(k)||r(null)};return document.addEventListener("mousedown",b),document.addEventListener("touchstart",b),()=>{document.removeEventListener("mousedown",b),document.removeEventListener("touchstart",b)}},[i,r]),g.jsxs("div",{ref:u,className:"relative",children:[g.jsx("button",{ref:d,type:"button",onClick:()=>r(i?null:t),className:["px-2 py-1 text-[12px] desk:text-[11px] text-center  rounded border desk:break-keep w-full cursor-pointer ",i?"bg-purple-500/20 text-purple-200 border-purple-500":"bg-neutral-50 dark:bg-neutral-800 text-neutral-600 dark:text-neutral-300 border-neutral-200 dark:border-neutral-700"].join(" "),title:l,children:l}),a&&i&&g.jsx("div",{className:["absolute top-full mt-2 z-50",h==="left"?"left-0":h==="right"?"right-0":"left-1/2 -translate-x-1/2"].join(" "),children:g.jsx("div",{className:"relative whitespace-pre-wrap break-words break-keep rounded-md border border-neutral-700 bg-neutral-900 text-neutral-100 text-[10px] leading-4 p-2 shadow-lg text-center",style:{width:"min(190px, calc(100vw - 24px))"},children:o})})]})}function oy(e){const t=e.replace(/^#/,""),n=t.split("_"),r=n.length>1?n[n.length-1]:t,i=r.split(" ").filter(Boolean);return i.length>0?i[i.length-1]:r}function Yk(e,t){const n=new Set,r=[];for(const i of e){const a=t(i);n.has(a)||(n.add(a),r.push(i))}return r}function eoe({isDesktop:e,exposureLevel:t,relationChips:n,relationByPillar:r,activeRelationTag:i,onToggleRelationTag:a,showRelationBox:o,showEtcShinsalBox:l,etcShinsalGood:u,etcShinsalBad:d}){const[h,p]=w.useState(!0),[b,x]=w.useState(!0),[k,S]=w.useState(null);return g.jsxs(g.Fragment,{children:[o&&g.jsx("div",{className:"px-2 desk:px-0 py-2",children:g.jsxs("div",{className:"rounded-lg border border-neutral-200 dark:border-neutral-800 bg-white dark:bg-neutral-900 p-3",children:[g.jsxs("button",{type:"button",onClick:()=>p(_=>!_),className:["w-full flex items-center justify-between pl-1 text-xs text-neutral-600 dark:text-neutral-300 cursor-pointer",h?"mb-1":"mb-0"].join(" "),children:[g.jsx("span",{children:""}),g.jsx("span",{className:"text-[10px]",children:h?"":""})]}),h&&g.jsxs(g.Fragment,{children:[g.jsx("div",{className:"text-[11px] text-amber-600 dark:text-amber-300 pl-1 mb-2",children:"     ."}),n.length===0?g.jsx("div",{className:"text-xs text-neutral-400",children:"  ."}):g.jsxs("div",{className:"grid w-full gap-2 desk:gap-4 grid-cols-1",style:{gridTemplateColumns:e?t>=3?"4fr 5fr":t>=2?"3.5fr 6.5fr":t>=1?"2fr 8fr":"1fr":void 0},children:[g.jsx("div",{className:"border-t border-neutral-200 dark:border-neutral-800 pt-2 desk:pt-0 order-2 desk:order-1 flex-4 grid grid-cols-1 gap-1 desk:gap-2",style:{gridTemplateColumns:e?`repeat(${t>=3?3:t>=2?2:t>=1?1:0}, minmax(60px, 1fr))`:void 0},children:(e?[t>=3&&g.jsx(fo,{title:"",tags:r.luck.wol,activeTag:i,onToggle:a},"wol"),t>=2&&g.jsx(fo,{title:"",tags:r.luck.se,activeTag:i,onToggle:a},"se"),t>=1&&g.jsx(fo,{title:"",tags:r.luck.dae,activeTag:i,onToggle:a},"dae")]:[t>=1&&g.jsx(fo,{title:"",tags:r.luck.dae,activeTag:i,onToggle:a},"dae"),t>=2&&g.jsx(fo,{title:"",tags:r.luck.se,activeTag:i,onToggle:a},"se"),t>=3&&g.jsx(fo,{title:"",tags:r.luck.wol,activeTag:i,onToggle:a},"wol")]).filter(Boolean)}),g.jsxs("div",{className:"order-1 desk:order-2 flex flex-col desk:flex-row flex-5 gap-1 desk:gap-2 desk:pl-0 desk:border-t-0 desk:border-l-0",children:[g.jsx(fo,{title:"",tags:r.natal.hour,activeTag:i,onToggle:a}),g.jsx(fo,{title:"",tags:r.natal.day,activeTag:i,onToggle:a}),g.jsx(fo,{title:"",tags:r.natal.month,activeTag:i,onToggle:a}),g.jsx(fo,{title:"",tags:r.natal.year,activeTag:i,onToggle:a})]})]})]})]})}),l&&g.jsx("div",{className:"px-2 desk:px-0 py-2",children:g.jsxs("div",{className:"rounded-lg border border-neutral-200 dark:border-neutral-800 bg-white dark:bg-neutral-900 p-3",children:[g.jsxs("button",{type:"button",onClick:()=>x(_=>!_),className:["w-full flex items-center justify-between pl-1 text-xs text-neutral-600 dark:text-neutral-300 cursor-pointer",b?"mb-1":"mb-0"].join(" "),children:[g.jsx("span",{children:""}),g.jsx("span",{className:"text-[10px]",children:b?"":""})]}),b&&g.jsxs(g.Fragment,{children:[g.jsx("div",{className:"pl-1 text-[11px] text-amber-600 dark:text-amber-300 mb-2",children:"       ."}),$D(u)||$D(d)?g.jsxs("div",{className:"grid w-full gap-2 desk:gap-4 grid-cols-1",style:{gridTemplateColumns:e?t>=3?"4fr 5fr":t>=2?"3.5fr 6.5fr":t>=1?"2fr 8fr":"1fr":void 0},children:[g.jsx("div",{className:"order-2 desk:order-1 flex-4 grid grid-cols-1 gap-1 desk:gap-2",style:{gridTemplateColumns:e?`repeat(${t>=3?3:t>=2?2:t>=1?1:0}, minmax(60px, 1fr))`:void 0},children:(e?[t>=3&&g.jsx(uo,{columnKey:"etc-luck-wol",title:"",goodTags:u.luck.wol,badTags:d.luck.wol,isDesktop:e,openTagKey:k,setOpenTagKey:S},"luck-wol"),t>=2&&g.jsx(uo,{columnKey:"etc-luck-se",title:"",goodTags:u.luck.se,badTags:d.luck.se,isDesktop:e,openTagKey:k,setOpenTagKey:S},"luck-se"),t>=1&&g.jsx(uo,{columnKey:"etc-luck-dae",title:"",goodTags:u.luck.dae,badTags:d.luck.dae,isDesktop:e,openTagKey:k,setOpenTagKey:S},"luck-dae")]:[t>=1&&g.jsx(uo,{columnKey:"etc-luck-dae",title:"",goodTags:u.luck.dae,badTags:d.luck.dae,isDesktop:e,openTagKey:k,setOpenTagKey:S},"luck-dae"),t>=2&&g.jsx(uo,{columnKey:"etc-luck-se",title:"",goodTags:u.luck.se,badTags:d.luck.se,isDesktop:e,openTagKey:k,setOpenTagKey:S},"luck-se"),t>=3&&g.jsx(uo,{columnKey:"etc-luck-wol",title:"",goodTags:u.luck.wol,badTags:d.luck.wol,isDesktop:e,openTagKey:k,setOpenTagKey:S},"luck-wol")]).filter(Boolean)}),g.jsxs("div",{className:"order-1 desk:order-2 flex flex-col desk:flex-row flex-5 gap-1 desk:gap-2",children:[g.jsx(uo,{columnKey:"etc-natal-hour",title:"",goodTags:u.natal.hour,badTags:d.natal.hour,isDesktop:e,openTagKey:k,setOpenTagKey:S}),g.jsx(uo,{columnKey:"etc-natal-day",title:"",goodTags:u.natal.day,badTags:d.natal.day,isDesktop:e,openTagKey:k,setOpenTagKey:S}),g.jsx(uo,{columnKey:"etc-natal-month",title:"",goodTags:u.natal.month,badTags:d.natal.month,isDesktop:e,openTagKey:k,setOpenTagKey:S}),g.jsx(uo,{columnKey:"etc-natal-year",title:"",goodTags:u.natal.year,badTags:d.natal.year,isDesktop:e,openTagKey:k,setOpenTagKey:S})]})]}):g.jsx("div",{className:"text-xs text-neutral-400",children:"  ."})]})]})})]})}function fo({title:e,tags:t,activeTag:n,onToggle:r}){return g.jsxs("div",{className:"flex-1 rounded-md border border-neutral-200 dark:border-neutral-800 p-2",children:[g.jsx("div",{className:"text-[11px] text-neutral-500 dark:text-neutral-400 mb-1",children:e}),t.length===0?g.jsx("div",{className:"text-[11px] text-neutral-400 text-center",children:""}):g.jsx("div",{className:"flex flex-row flex-wrap desk:flex-col gap-1",children:t.map(i=>{const a=n===i;return g.jsx("button",{type:"button",onClick:()=>r(a?null:i),className:["px-2 py-1 text-[12px] desk:text-[11px] rounded border transition desk:break-keep cursor-pointer",a?"bg-purple-500 text-white border-purple-500":"bg-neutral-50 dark:bg-neutral-800 text-neutral-600 dark:text-neutral-300 border-neutral-200 dark:border-neutral-700"].join(" "),title:i,children:toe(i)},i)})})]})}function toe(e){const t=e.replace(/^#/,""),n=t.split("_");return(n.length>1?n.slice(1).join("_"):t).replace(/_/g," ")}function $D(e){const{natal:t,luck:n}=e;return t.hour.length>0||t.day.length>0||t.month.length>0||t.year.length>0||n.dae.length>0||n.se.length>0||n.wol.length>0}function BD(e){return String(e).padStart(2,"0")}function noe(e,t,n){if(!e||e.length<8)return MD(e,t);const r=MD(e,t);if(n!=="lunar")return r;try{const i=Number(e.slice(0,4)),a=Number(e.slice(4,6)),o=Number(e.slice(6,8)),l=Gi(i,a,o);return` ${`${l.getFullYear()}.${BD(l.getMonth()+1)}.${BD(l.getDate())}`} ( ${r})`}catch{return` ${r}`}}function roe({data:e,hourTable:t}){const{date:n}=fi(),r=jn(Ee=>Ee.settings),i=r.showNabeum??!0,a=r.showRelationBox??!0,o=r.showEtcShinsal??!0,l=g6(e.mingSikType,t),u=!e.birthPlace||e.birthPlace.name===""||!e.birthPlace.lon?127.5:e.birthPlace.lon,{solarY:d,solarM:h,solarD:p}=w.useMemo(()=>{let Ee=Number(e.birthDay?.slice(0,4)??2e3),Oe=Number(e.birthDay?.slice(4,6)??1),Ie=Number(e.birthDay?.slice(6,8)??1);if(e.calendarType==="lunar"){const Qe=Gi(Ee,Oe,Ie);Ee=Qe.getFullYear(),Oe=Qe.getMonth()+1,Ie=Qe.getDate()}return{solarY:Ee,solarM:Oe,solarD:Ie}},[e.birthDay,e.calendarType]),[b,x]=w.useState(!1);w.useEffect(()=>{d&&h&&p&&x(Mm(d,h,p))},[d,h,p]);const k=xA(e.birthTime),[S,_]=w.useState(()=>RD(e,b));w.useEffect(()=>{_(RD(e,b))},[e,b]);const T=e.id??`${e.birthDay}-${e.birthTime}-${e.name??""}`,N=S.day.stem,[j,C]=w.useState(null),[M,P]=w.useState(()=>PD(e.mingSikType));w.useEffect(()=>{C(null),P(PD(e.mingSikType))},[T,e.mingSikType]),w.useEffect(()=>{re(null)},[T]);const $=w.useMemo(()=>Dae(N,M),[M,N]),U=j??S.hour,Y=ap(Ee=>Ee.setManualHour),W=(Ee,Oe)=>{const Ie={stem:Ee,branch:Oe};C(Ie),Y(Ie)},H=Lae(r.sinsalBase)===""?S.day.branch:S.year.branch,z=Ee=>r.showSibiUnseong?Mo(N,Ee):null,V=Ee=>r.showSibiSinsal?Do({baseBranch:H,targetBranch:Ee,era:gf(r.sinsalMode),gaehwa:r.sinsalBloom}):null,X=$re(e,l),Z=gre({query:"(min-width: 992px)"}),q=r.hiddenStem==="regular"?"main":"all",Q=Iae(r.exposure),ne=Q===0?[]:X.filter(Ee=>(Ee.key==="daeun"?1:Ee.key==="seun"?2:3)<=Q),ue=Mm(d,h,p),se=()=>x(Ee=>!Ee),B=w.useMemo(()=>{const Ee=e.corrected instanceof Date?e.corrected:new Date(String(e.corrected??""));return Number.isNaN(Ee.getTime())?S.corrected:Ee},[e.corrected,S.corrected]),K=w.useMemo(()=>B&&(ue&&b?new Date(B.getTime()-3600*1e3):B),[B,ue,b]),ie=w.useMemo(()=>{const Ee=ue&&b?"":e.correctedLocal;return Pae(Ee,K??new Date,k)},[e.correctedLocal,K,k,ue,b]),J=aA(e,t,n),oe=J.dae.gz,fe=J.se.gz,he=J.wol.gz,[ke,re]=w.useState(null),xe=w.useMemo(()=>{const Ee=Oe=>Oe?.stem&&Oe?.branch?`${Oe.stem}${Oe.branch}`:"";return Tl({natal:[Ee(S.year),Ee(S.month),Ee(S.day),Ee(U)],daewoon:oe??void 0,sewoon:fe??void 0,wolwoon:he??void 0})},[S,U,oe,fe,he]),Ne=w.useMemo(()=>{const Ee=[...xe.cheonganHap,...xe.cheonganChung,...xe.jijiSamhap,...xe.jijiBanhap,...xe.jijiBanghap,...xe.jijiYukhap,...xe.jijiChung,...xe.jijiHyeong,...xe.jijiPa,...xe.jijiHae,...xe.amhap,...xe.ganjiAmhap].filter(Oe=>Oe&&Oe!=="#");return Array.from(new Set(Ee))},[xe]),ye=w.useMemo(()=>{const Ee=(Ie,Qe)=>{Ie.includes(Qe)||Ie.push(Qe)},Oe={luck:{wol:[],se:[],dae:[]},natal:{hour:[],day:[],month:[],year:[]}};for(const Ie of Ne){const rt=(Ie.replace(/^#/,"").split("_")[0]??"").split("X").filter(Boolean);rt.includes("")&&Ee(Oe.luck.wol,Ie),rt.includes("")&&Ee(Oe.luck.se,Ie),rt.includes("")&&Ee(Oe.luck.dae,Ie),rt.includes("")&&Ee(Oe.natal.hour,Ie),rt.includes("")&&Ee(Oe.natal.day,Ie),rt.includes("")&&Ee(Oe.natal.month,Ie),rt.includes("")&&Ee(Oe.natal.year,Ie)}return Oe},[Ne]),Ze=w.useMemo(()=>{const Ee=Qe=>Qe?.stem&&Qe?.branch?`${Qe.stem}${Qe.branch}`:"",Oe=Kd({natal:[Ee(S.year),Ee(S.month),Ee(S.day),Ee(U)],daewoon:oe??void 0,sewoon:fe??void 0,wolwoon:he??void 0}),Ie=Qe=>Array.from(new Set(Qe.filter(rt=>rt&&rt!=="#")));return{good:{natal:{hour:Ie(Oe.good.si??[]),day:Ie(Oe.good.il??[]),month:Ie(Oe.good.wol??[]),year:Ie(Oe.good.yeon??[])},luck:{dae:Ie(Oe.good.dae??[]),se:Ie(Oe.good.se??[]),wol:Ie(Oe.good.wolun??[])}},bad:{natal:{hour:Ie(Oe.bad.si??[]),day:Ie(Oe.bad.il??[]),month:Ie(Oe.bad.wol??[]),year:Ie(Oe.bad.yeon??[])},luck:{dae:Ie(Oe.bad.dae??[]),se:Ie(Oe.bad.se??[]),wol:Ie(Oe.bad.wolun??[])}}}},[S,U,oe,fe,he]),qe=w.useMemo(()=>{const Ee={},Oe=(Ie,Qe)=>{for(const rt of Ie)Ee[rt]=Qe};return Oe(xe.cheonganHap,"stem"),Oe(xe.cheonganChung,"stem"),Oe(xe.jijiSamhap,"branch"),Oe(xe.jijiBanhap,"branch"),Oe(xe.jijiBanghap,"branch"),Oe(xe.jijiYukhap,"branch"),Oe(xe.jijiChung,"branch"),Oe(xe.jijiHyeong,"branch"),Oe(xe.jijiPa,"branch"),Oe(xe.jijiHae,"branch"),Oe(xe.amhap,"branch"),Oe(xe.ganjiAmhap,"both"),Ee},[xe]),Me=w.useMemo(()=>{if(!ke)return{};const Ee=qe[ke]??"branch",Ie=(ke.replace(/^#/,"").split("_")[0]??"").split("X").filter(Boolean),Qe={:"year",:"month",:"day",:"hour",:"daeun",:"seun",:"wolun",:"ilun"},rt={};for(const Vt of Ie){const de=Qe[Vt];if(!de)continue;const Ce=rt[de]??{stem:!1,branch:!1};Ee==="stem"?Ce.stem=!0:(Ee==="branch"||(Ce.stem=!0),Ce.branch=!0),rt[de]=Ce}return rt},[ke,qe]);return g.jsxs("div",{className:"w-full max-w-[640px] mx-auto",children:[g.jsxs("div",{className:"mb-1 gap-2 p-2",children:[g.jsxs("div",{children:[g.jsxs("div",{className:"text-md desk:text-xl font-bold text-neutral-900 dark:text-neutral-100",children:[(e.name?.trim()||"")+" ",g.jsxs("span",{className:"text-sm text-neutral-500 dark:text-neutral-400 mr-2",children:["(",e.gender,")"]}),ue&&g.jsxs("button",{onClick:se,className:`px-2 py-0.5 text-xs rounded cursor-pointer border
                  ${b?"bg-red-600 text-white border-red-600":"bg-neutral-100 text-neutral-700 border-neutral-300 dark:bg-neutral-800 dark:text-neutral-200 dark:border-neutral-700"}`,children:[" ",b?"ON":"OFF"]})]}),g.jsxs("div",{className:"text-xs desk:text-sm text-neutral-600 dark:text-neutral-400",children:[noe(e.birthDay,e.birthTime,e.calendarType)," : ",ie]})]}),g.jsxs("div",{className:"text-xs text-neutral-500 dark:text-neutral-400",children:[e.birthPlace?.name?`: ${e.birthPlace.name}`:""," /  : ",u.toFixed(2),"  ",l," "]})]}),g.jsxs("div",{className:`grid gap-2 p-2 desk:p-0 ${ne.length===0?"grid-cols-1":ne.length===1?"grid-cols-[2fr_8fr]":ne.length===2?"grid-cols-[3.5fr_6.5fr]":"grid-cols-[4fr_5fr]"}`,children:[ne.length>0&&g.jsx(Kae,{cards:ne,isDesktop:Z,dayStem:N,charType:r.charType,thinEum:r.thinEum,showSipSin:r.showSipSin,showUnseong:r.showSibiUnseong,showShinsal:r.showSibiSinsal,showNabeum:i,hiddenMode:q,hiddenStemMode:r.hiddenStemMode,calcUnseong:z,calcShinsal:V,daeGz:oe,seGz:fe,wolGz:he,highlightMap:Me}),g.jsx(Wae,{isDesktop:Z,dayStem:N,charType:r.charType,thinEum:r.thinEum,showSipSin:r.showSipSin,showUnseong:r.showSibiUnseong,showShinsal:r.showSibiSinsal,showNabeum:i,hiddenMode:q,hiddenStemMode:r.hiddenStemMode,calcUnseong:z,calcShinsal:V,highlightMap:Me,pillars:[{key:"hour",label:"",data:U},{key:"day",label:"",data:S.day},{key:"month",label:"",data:S.month},{key:"year",label:"",data:S.year}]})]}),g.jsx(eoe,{isDesktop:Z,exposureLevel:Q,relationChips:Ne,relationByPillar:ye,activeRelationTag:ke,onToggleRelationTag:re,showRelationBox:a,showEtcShinsalBox:o,etcShinsalGood:Ze.good,etcShinsalBad:Ze.bad}),k&&g.jsx(Vae,{hourCandidates:$,useInsi:M,onToggleRule:()=>P(Ee=>!Ee),manualHour:j,onSelectHour:W})]})}function Ov(e,t){const n=e.length;if(n===0||!t)return 0;const r=e[0].at.getTime(),i=e[n-1].at.getTime(),a=t.getTime();if(a<=r)return 0;if(a>=i)return n-1;for(let o=0;o<n-1;o+=1){const l=e[o].at.getTime(),u=e[o+1].at.getTime();if(a>=l&&a<u)return o}return 0}const ioe=!1,zD=e=>e<10?`0${e}`:`${e}`;function Nv(e){const t=e,n=typeof t.birthDay=="string"?t.birthDay:"",r=typeof t.calendarType=="string"?t.calendarType:"solar";if(n.length<8)return e;const i=Number(n.slice(0,4)),a=Number(n.slice(4,6)),o=Number(n.slice(6,8)),l=["isLeap","isLeapMonth","leapMonth","leap","lunarLeap"];let u=!1;for(const d of l){const h=t[d];if(typeof h=="boolean"){u=h;break}if(typeof h=="number"){u=h===1;break}if(typeof h=="string"){u=h==="1"||h.toLowerCase()==="true";break}}if(r==="lunar")try{const d=Gi(i,a,o,0,0),h=`${d.getFullYear()}${zD(d.getMonth()+1)}${zD(d.getDate())}`;return{...e,birthDay:h,calendarType:"solar"}}catch{return e}return e}function aoe({data:e}){const t=yu(e),n=w.useMemo(()=>{const M=Nv(e);return Pl(M)},[e]),r=w.useMemo(()=>{const M=e.mingSikType??"/";return pt(n,M).charAt(0)},[n,e.mingSikType]),{date:i,setFromEvent:a}=fi(),o=w.useMemo(()=>Ov(t,i),[t,i]),l=jn(M=>M.settings),{charType:u,thinEum:d,showSipSin:h,showSibiUnseong:p,showSibiSinsal:b,sinsalBase:x,sinsalMode:k,sinsalBloom:S}=l,_=!e.birthPlace||e.birthPlace.name===""||e.birthPlace.lon===0?127.5:e.birthPlace.lon,T=e.mingSikType??"/",N=x===""?pt(n,T).charAt(1):ot(n,_).charAt(1),j=M=>p?Mo(r,M):null,C=M=>b?Do({baseBranch:N,targetBranch:M,era:gf(k),gaehwa:!!S}):null;return g.jsxs("div",{className:"w-full max-w-[640px] mx-auto rounded-xl bg-white dark:bg-neutral-900 border border-neutral-200 dark:border-neutral-800 overflow-hidden",children:[g.jsx("div",{className:"px-3 py-2 text-sm font-semibold tracking-wider bg-neutral-50 dark:bg-neutral-800/60 text-neutral-700 dark:text-neutral-300",children:""}),g.jsx("div",{className:"flex gap-0.5 desk:gap-1 py-2 desk:p-2 flex-row-reverse",children:t.map((M,P)=>{const $=M.gz.charAt(0),U=M.gz.charAt(1),Y=ooe(n,M.at),W=P===o,H=di($,"stem",u),z=di(U,"branch",u),V=Ha($,"stem"),X=Ha(U,"branch"),Z=d&&V?"font-thin":"font-bold",q=d&&X?"font-thin":"font-bold",Q=j(U),ne=C(U);return g.jsxs("div",{onClick:()=>a(M,""),className:`flex-1 rounded-sm desk:rounded-lg bg-white dark:bg-neutral-900 overflow-hidden cursor-pointer ${W?"border border-yellow-500":"border border-neutral-200 dark:border-neutral-800 hover:border-yellow-500"}`,title:`${M.gz}  ${M.at.toLocaleDateString()}`,children:[g.jsx("div",{className:"desk:px-2 py-1 text-center text-[10px] bg-neutral-50 dark:bg-neutral-800/60 text-neutral-600 dark:text-neutral-300",children:Y}),g.jsxs("div",{className:"p-2 flex flex-col items-center gap-0.5",children:[h&&g.jsx("div",{className:"text-[10px] text-neutral-500 dark:text-neutral-400 text-nowrap",children:ma(r,{stem:$})}),g.jsx("div",{className:`w-8 h-8 md:w-10 md:h-10 rounded-sm md:rounded-lg flex items-center justify-center border border-neutral-200 dark:border-neutral-800 ${Ui($,"stem",l)}`,children:g.jsx("span",{className:`text-[20px] md:text-xl ${Z}`,children:H})}),g.jsx("div",{className:`w-8 h-8 md:w-10 md:h-10 rounded-sm md:rounded-lg flex items-center justify-center border border-neutral-200 dark:border-neutral-800 ${Ui(U,"branch",l)}`,children:g.jsx("span",{className:`text-[20px] md:text-xl ${q}`,children:z})}),h&&g.jsx("div",{className:"text-[10px] text-neutral-500 dark:text-neutral-400 text-nowrap",children:ma(r,{branch:U})}),(p||b)&&g.jsxs("div",{className:"text-[10px] text-neutral-500 dark:text-neutral-400 mt-1 text-center space-y-0.5 text-nowrap",children:[p&&g.jsx("div",{children:Q}),b&&g.jsx("div",{children:ne})]})]})]},`${M.gz}-${P}`)})})]})}function ooe(e,t){const r=(t.getTime()-e.getTime())/(365.2425*24*60*60*1e3);return Math.max(0,Math.round(r))}function Cv(e,t){const n=e,r=typeof n.isUnknownTime=="boolean"?n.isUnknownTime:!1,i=typeof n.birthTime=="string"&&/^(?:\d{4}|\d{2}:\d{2})$/.test(n.birthTime),a=typeof n.birthHour=="number",o=typeof n.birthMinute=="number";if(r||!(i||a||o)){const u=new Date(t);return u.setDate(u.getDate()+1),u.setHours(4,30,0,0),u}return t}function r1(e){return new Date(e,6,2,12,0,0,0)}function soe(e,t){return t-e+1}function loe({data:e,list:t,onSelect:n}){const r=jn($=>$.settings),{date:i,setFromEvent:a}=fi(),[o,l]=w.useState(()=>t);w.useEffect(()=>{t&&t.length>0&&l(t)},[t]);const u=Pl(e),d=w.useMemo(()=>Cv(e,u),[e,u]),h=w.useMemo(()=>d.getFullYear(),[d]),p=!e.birthPlace||e.birthPlace.name===""||e.birthPlace.lon===0?127.5:e.birthPlace.lon,b=w.useMemo(()=>{if(!i)return[];const $=i.getFullYear(),U=r1($),Y=ot(U,p);return[{at:U,gz:Y}]},[i,p]),x=t.length>0?t:o.length>0?o:b,k=w.useMemo(()=>[...x].sort(($,U)=>$.at.getTime()-U.at.getTime()),[x]),S=w.useMemo(()=>{if(k.length===0)return 0;const $=Ov(k,i);return $<0?0:$>=k.length?k.length-1:$},[k,i]),[_,T]=w.useState(null);w.useEffect(()=>{T(null)},[i,k]);const N=_??S,j=w.useMemo(()=>{const $=Nv(e);return Pl($)},[e]),C=e.mingSikType??"/",M=w.useMemo(()=>pt(j,C).charAt(0),[j,C]),P=w.useMemo(()=>r.sinsalBase===""?pt(d,C).charAt(1):ot(d,p).charAt(1),[d,C,p,r.sinsalBase]);return g.jsxs("div",{className:"w-full max-w-[640px] mx-auto rounded-xl bg-white dark:bg-neutral-900 border border-neutral-200 dark:border-neutral-800 overflow-hidden",children:[g.jsx("div",{className:"px-3 py-2 text-sm font-semibold tracking-wider bg-neutral-50 dark:bg-neutral-800/60 text-neutral-700 dark:text-neutral-300",children:""}),g.jsx("div",{className:"flex gap-0.5 desk:gap-1 py-2 desk:p-2 flex-row-reverse",children:k.map(($,U)=>{const Y=$.at.getFullYear(),W=r1(Y),H=ot(W,p),z=H.charAt(0),V=H.charAt(1),X=U===N,Z=di(z,"stem",r.charType),q=di(V,"branch",r.charType),Q=Ha(z,"stem"),ne=Ha(V,"branch"),ue=r.thinEum&&Q?"font-thin":"font-bold",se=r.thinEum&&ne?"font-thin":"font-bold",B=r.showSibiUnseong?Mo(M,V):null,K=r.showSibiSinsal?Do({baseBranch:P,targetBranch:V,era:gf(r.sinsalMode),gaehwa:!!r.sinsalBloom}):null,ie=soe(h,Y);return g.jsxs("div",{onClick:()=>{if(U===0){T(U);return}T(U);const J=r1(Y),oe=ot(J,p);a({at:J,gz:oe},""),n&&(typeof queueMicrotask<"u"?queueMicrotask(()=>n(Y)):Promise.resolve().then(()=>n(Y)))},className:`flex-1 rounded-sm desk:rounded-lg bg-white dark:bg-neutral-900 overflow-hidden cursor-pointer ${X?"border border-yellow-500":"border border-neutral-200 dark:border-neutral-800 hover:border-yellow-500"}`,title:`${H}  ${$.at.toLocaleDateString()}  ${ie}`,children:[g.jsxs("div",{className:"desk:px-2 py-1 text-center text-[10px] bg-neutral-100 dark:bg-neutral-800/60 text-neutral-700 dark:text-neutral-200",children:[ie,""]}),g.jsx("div",{className:"desk:px-2 py-1 text-center text-[10px] bg-neutral-50 dark:bg-neutral-800/60 text-neutral-600 dark:text-neutral-300",children:Y}),g.jsxs("div",{className:"p-2 flex flex-col items-center gap-1",children:[r.showSipSin&&g.jsx("div",{className:"text-[10px] text-neutral-500 dark:text-neutral-400 text-nowrap",children:ma(M,{stem:z})}),g.jsx("div",{className:`w-8 h-8 md:w-10 md:h-10 rounded-sm md:rounded-lg flex items-center justify-center border ${Ui(z,"stem",r)}`,children:g.jsx("span",{className:`text-[20px] md:text-xl ${ue}`,children:Z})}),g.jsx("div",{className:`w-8 h-8 md:w-10 md:h-10 rounded-sm md:rounded-lg flex items-center justify-center border ${Ui(V,"branch",r)}`,children:g.jsx("span",{className:`text-[20px] md:text-xl ${se}`,children:q})}),r.showSipSin&&g.jsx("div",{className:"text-[10px] text-neutral-500 dark:text-neutral-400 text-nowrap",children:ma(M,{branch:V})}),(r.showSibiUnseong||r.showSibiSinsal)&&g.jsxs("div",{className:"text-[10px] text-neutral-500 dark:text-neutral-400 text-center text-nowrap",children:[r.showSibiUnseong&&B&&g.jsx("div",{children:B}),r.showSibiSinsal&&K&&g.jsx("div",{children:K})]})]})]},`${Y}-${$.gz||U}`)})})]})}const coe=new Set(["","","","","","","","","","","",""]);function uoe(e){const t=new Date(e.getFullYear(),e.getMonth()+1),n=t.getFullYear(),i=[...ha(new Date(n-1,5,15,12,0))??[],...ha(new Date(n,5,15,12,0))??[],...ha(new Date(n+1,5,15,12,0))??[]].map(u=>({name:String(u.name),date:new Date(u.date)})).sort((u,d)=>u.date.getTime()-d.date.getTime()).filter(u=>coe.has(u.name));let a=i.findIndex((u,d)=>i[d].date<=t&&t<i[d+1]?.date);a<0&&(a=0);const o=i[a],l=i[a+1];return{start:new Date(o.date.getFullYear(),o.date.getMonth(),o.date.getDate(),0,0,0,0),end:new Date(l.date.getFullYear(),l.date.getMonth(),l.date.getDate(),0,0,0,0),cur:o,next:l}}const doe=new Set(["","","","","","","","","","","",""]);function foe(e){return new Date(e.getFullYear(),e.getMonth(),e.getDate(),23,59,0,0)}function hoe(e){const t=new Intl.DateTimeFormat("ko-KR",{timeZone:"Asia/Seoul",month:"numeric"}).formatToParts(e);return Number(t.find(n=>n.type==="month")?.value??e.getMonth()+1)}function i1(e){return new Date(e,5,15,12,0,0,0)}function moe(e){const n=[...ha(i1(e-1))??[],...ha(i1(e))??[],...ha(i1(e+1))??[]].map(l=>({name:String(l.name),date:new Date(l.date)})).sort((l,u)=>l.date.getTime()-u.date.getTime()).filter(l=>doe.has(l.name)),r=new Date(e,0,1,0,0,0,0),i=new Date(e+1,0,1,0,0,0,0),a=n.findIndex(l=>l.name===""&&l.date>=r&&l.date<i);if(a===-1)return[];const o=[];for(let l=0;l<12;l++){const u=n[a+l];if(!u)break;const d=new Date(u.date),h=foe(d);o.push({name:u.name,termAt:d,at00:h})}return o}function poe({data:e,activeYear:t,onSelect:n,onSelectMonth:r}){const i=jn(_=>_.settings),a=!e.birthPlace||e.birthPlace.name===""||e.birthPlace.lon===0?127.5:e.birthPlace.lon,o=Pl(e),l=w.useMemo(()=>Cv(e,o),[e,o]),u=w.useMemo(()=>{const _=Nv(e);return Pl(_)},[e]),d=e.mingSikType??"/",h=w.useMemo(()=>pt(u,d).charAt(0),[u,d]),p=i.sinsalBase===""?pt(l,d).charAt(1):ot(l,a).charAt(1),b=w.useMemo(()=>t?moe(t).map(T=>{const N=T.termAt,j=new Date(T.termAt.getTime()+1860*1e3),C=_t(j,a);return{at:N,gz:C,term:T.name,termAt:T.termAt}}):[],[t,a]),{date:x,setFromEvent:k}=fi(),S=Ov(b,x);return g.jsxs("div",{className:"w-full max-w-[640px] mx-auto rounded-xl bg-white dark:bg-neutral-900 border border-neutral-200 dark:border-neutral-800 overflow-hidden",children:[g.jsx("div",{className:"px-3 py-2 text-sm font-semibold tracking-wider bg-neutral-50 dark:bg-neutral-800/60 text-neutral-700 dark:text-neutral-300",children:""}),g.jsx("div",{className:"flex gap-0.5 desk:gap-1 py-2 desk:p-2 flex-row-reverse",children:b.map((_,T)=>{const N=_.gz.charAt(0),j=_.gz.charAt(1),C=`${hoe(_.at)}`,M=T===S,P=di(N,"stem",i.charType),$=di(j,"branch",i.charType),U=Ha(N,"stem"),Y=Ha(j,"branch"),W=i.thinEum&&U?"font-thin":"font-bold",H=i.thinEum&&Y?"font-thin":"font-bold",z=i.showSibiUnseong?Mo(h,j):null,V=i.showSibiSinsal?Do({baseBranch:p,targetBranch:j,era:gf(i.sinsalMode),gaehwa:!!i.sinsalBloom}):null;return g.jsxs("div",{onClick:()=>{r(_.at);const X=new Date(_.at),{start:Z}=uoe(X);n?.(Z.getFullYear(),Z.getMonth()),k({at:X,gz:_t(X,a)},"")},className:`flex-1 rounded-sm desk:rounded-lg bg-white dark:bg-neutral-900 overflow-hidden cursor-pointer ${M?"border border-yellow-500":"border border-neutral-200 dark:border-neutral-800 hover:border-yellow-500"}`,title:`${_.term}   ${_.gz}  ${_.termAt.toLocaleString()}`,children:[g.jsx("div",{className:"desk:px-2 py-1 text-center text-[10px] bg-neutral-50 dark:bg-neutral-800/60 text-neutral-600 dark:text-neutral-300",children:C}),g.jsxs("div",{className:"p-2 flex flex-col items-center gap-1",children:[i.showSipSin&&g.jsx("div",{className:"text-[10px] text-neutral-500 dark:text-neutral-400 text-nowrap",children:ma(h,{stem:N})}),g.jsx("div",{className:`w-7 h-7 sm:w-8 sm:h-8 md:w-10 md:h-10 rounded-sm md:rounded-lg flex items-center justify-center border border-neutral-200 dark:border-neutral-800 ${Ui(N,"stem",i)}`,children:g.jsx("span",{className:`text-base md:text-xl ${W}`,children:P})}),g.jsx("div",{className:`w-7 h-7 sm:w-8 sm:h-8 md:w-10 md:h-10 rounded-sm md:rounded-lg flex items-center justify-center border border-neutral-200 dark:border-neutral-800 ${Ui(j,"branch",i)}`,children:g.jsx("span",{className:`text-base md:text-xl ${H}`,children:$})}),i.showSipSin&&g.jsx("div",{className:"text-[10px] text-neutral-500 dark:text-neutral-400 text-nowrap",children:ma(h,{branch:j})}),(i.showSibiUnseong||i.showSibiSinsal)&&g.jsxs("div",{className:"text-[10px] text-neutral-500 dark:text-neutral-400 text-center text-nowrap",children:[i.showSibiUnseong&&z&&g.jsx("div",{children:z}),i.showSibiSinsal&&V&&g.jsx("div",{children:V})]}),g.jsx("div",{className:"text-[10px] text-neutral-400 dark:text-neutral-500 text-nowrap",children:_.term})]})]},`${_.term}-${_.at.toISOString()}`)})})]})}function goe(){const e=jn(r=>r.settings),{date:t,setFromEvent:n}=fi();return{settings:e,pickedDate:t,setFromEvent:n}}const boe=(e,t)=>new Date(e,t,15,12,0,0,0),Kk=e=>{const t=new Date(e);return t.setHours(23,59,0,0),t},yoe=new Set(["","","","","","","","","","","",""]),y6=e=>[...ha(new Date(e-1,5,15,12,0))??[],...ha(new Date(e,5,15,12,0))??[],...ha(new Date(e+1,5,15,12,0))??[]].map(n=>({name:String(n.name),date:new Date(n.date)})).sort((n,r)=>n.date.getTime()-r.date.getTime()),voe=e=>{const t=y6(e.getFullYear()),n=t.filter(o=>yoe.has(o.name));if(n.length<12){const o=t.findIndex(d=>d.date>e),l=t[Math.max(0,o-1)],u=t[Math.min(t.length-1,o)];return{start:new Date(l.date),end:new Date(u.date),cur:l,next:u}}let r=n.findIndex(o=>o.date>e)-1;r<0&&(r=n.length-1);const i=n[r],a=n[(r+1)%n.length];return{start:new Date(i.date),end:new Date(a.date),cur:i,next:a}},xoe=e=>{if(!e)return null;const t=new Intl.DateTimeFormat("ko-KR",{timeZone:"Asia/Seoul",month:"numeric",day:"numeric",hour:"2-digit",minute:"2-digit",hour12:!1}).formatToParts(e);let n="",r="",i="",a="";for(const o of t)o.type==="month"&&(n=o.value),o.type==="day"&&(r=o.value),o.type==="hour"&&(i=o.value),o.type==="minute"&&(a=o.value);return`${n}/${r} ${i}:${a}`};function _oe({data:e,year:t,month:n,selectedMonth:r,settings:i,pickedDate:a}){const o=i.ilunRule||"/",l=w.useMemo(()=>{const U=Nv(e);return Pl(U)},[e]),u=w.useMemo(()=>l?pt(l,o).charAt(0):void 0,[l,o]),d=w.useMemo(()=>e?Pl(e):null,[e]),h=w.useMemo(()=>e&&d?Cv(e,d):null,[e,d]),p=e&&e.birthPlace&&e.birthPlace.name!==""&&e.birthPlace.lon!==0?e.birthPlace.lon:127.5,b=e&&h?i.sinsalBase===""?pt(h,o).charAt(1):ot(h,p).charAt(1):null,x=w.useMemo(()=>boe(t,n),[t,n]),k=w.useMemo(()=>a?Kk(new Date(a)):null,[a]),S=w.useMemo(()=>r?Kk(r):null,[r]),_=w.useMemo(()=>k??S??x,[k,S,x]),{start:T,end:N,cur:j,next:C}=w.useMemo(()=>voe(_),[_]),M=w.useMemo(()=>{const U=[],Y=new Date(T);for(;Y<N;)U.push(new Date(Y)),Y.setDate(Y.getDate()+1);return U},[T,N]),P=w.useMemo(()=>{const U=y6(_.getFullYear()),Y=U.filter(H=>H.date>=T&&H.date<N),W=U.find(H=>H.date>=N);return W?[...Y,W]:Y},[_,T,N]),$=w.useMemo(()=>{const U=[];let Y=[];const W=new Date(T).getDay();for(let H=0;H<W;H+=1)Y.push(null);for(const H of M)Y.length===7&&(U.push(Y),Y=[]),Y.push(H);for(;Y.length<7;)Y.push(null);return U.push(Y),U},[M,T]);return{rule:o,dayStem:u,baseBranch:b,pickerNoon:k,termMarks:P,weeks:$,cur:j??null,next:C??null}}function woe({setFromEvent:e}){return{handleDayClick:w.useCallback(n=>{e({at:n},"")},[e])}}function Soe({data:e,year:t,month:n,selectedMonth:r}){const i=goe(),a=_oe({data:e,year:t,month:n,selectedMonth:r,settings:i.settings,pickedDate:i.pickedDate}),o=woe({setFromEvent:i.setFromEvent});return g.jsxs("div",{className:"w-full max-w-[800px] mx-auto mb-4 rounded-xl bg-white dark:bg-neutral-900 border border-neutral-200 dark:border-neutral-800 overflow-hidden",children:[g.jsx("div",{className:"flex justify-center items-center px-2 desk:px-4 py-2 bg-neutral-50 dark:bg-neutral-800/60",children:g.jsxs("div",{className:"text-center text-[11px] desk:text-sm font-semibold text-neutral-700 dark:text-neutral-200",children:[a.cur?.name?g.jsxs(g.Fragment,{children:[a.cur.name," "," ~ ",a.next?.name??""]}):`${t} ${n}`,a.termMarks.length>0&&g.jsxs("div",{className:"mt-0.5 text-[10px] desk:text-xs font-normal text-neutral-500 dark:text-neutral-400",children:["[",a.termMarks.map((l,u)=>g.jsxs("span",{children:[l.name," ",xoe(l.date),u<a.termMarks.length-1?"  ":""]},`${l.name}_${l.date.getTime()}_${u}`)),"]"]})]})}),g.jsx("div",{className:"grid grid-cols-7 text-center text-xs bg-neutral-100 dark:bg-neutral-800 text-neutral-600 dark:text-neutral-300",children:["","","","","","",""].map(l=>g.jsx("div",{className:"py-1",children:l},l))}),g.jsx("div",{className:"grid grid-cols-7 gap-px bg-neutral-200 dark:bg-neutral-800",children:a.weeks.map((l,u)=>l.map((d,h)=>{if(!d)return g.jsx("div",{className:"bg-white dark:bg-neutral-900 border border-neutral-200 dark:border-neutral-800"},`${u}-${h}`);const p=Kk(d),b=new Date,x=p.getFullYear()===b.getFullYear()&&p.getMonth()===b.getMonth()&&p.getDate()===b.getDate(),S=!!a.pickerNoon&&p.getFullYear()===a.pickerNoon.getFullYear()&&p.getMonth()===a.pickerNoon.getMonth()&&p.getDate()===a.pickerNoon.getDate()||!a.pickerNoon&&x,_=MY(p,a.rule),T=_.charAt(0),N=_.charAt(1),j=di(T,"stem",i.settings.charType),C=di(N,"branch",i.settings.charType),M=i.settings.thinEum&&Ha(T,"stem")?"font-thin":"font-bold",P=i.settings.thinEum&&Ha(N,"branch")?"font-thin":"font-bold",$=!!a.dayStem&&i.settings.showSipSin,U=!!a.dayStem&&i.settings.showSibiUnseong,Y=!!a.dayStem&&a.baseBranch!=null&&i.settings.showSibiSinsal,W=$?ma(a.dayStem,{stem:T}):"",H=$?ma(a.dayStem,{branch:N}):"",z=U?Mo(a.dayStem,N):"",V=Y?Do({baseBranch:a.baseBranch,targetBranch:N,era:gf(i.settings.sinsalMode),gaehwa:!!i.settings.sinsalBloom}):"",X=a.termMarks.find(Z=>Z.date.getFullYear()===p.getFullYear()&&Z.date.getMonth()===p.getMonth()&&Z.date.getDate()===p.getDate());return g.jsxs("div",{onClick:()=>o.handleDayClick(p),className:`space-y-1 bg-white dark:bg-neutral-900 flex flex-col items-center justify-start p-1 text-xs border cursor-pointer ${S?"border-yellow-500":"border-neutral-200 dark:border-neutral-800"}`,title:`${_} (${p.toLocaleDateString()})`,children:[g.jsxs("div",{className:"text-neutral-600 dark:text-neutral-400 flex items-center gap-1",children:[g.jsx("span",{children:p.getDate()}),X&&g.jsx("span",{className:"text-[10px] text-nowrap px-1 rounded bg-amber-100 text-amber-700 dark:bg-amber-900/40 dark:text-amber-200",children:X.name})]}),$&&g.jsx("div",{className:"text-[10px] text-neutral-500 dark:text-neutral-400",children:W}),g.jsx("div",{className:`w-8 h-8 rounded flex items-center justify-center text-base ${Ui(T,"stem",i.settings)}`,children:g.jsx("span",{className:M,children:j})}),g.jsx("div",{className:`w-8 h-8 rounded flex items-center justify-center text-base ${Ui(N,"branch",i.settings)}`,children:g.jsx("span",{className:P,children:C})}),$&&g.jsx("div",{className:"text-[10px] text-neutral-500 dark:text-neutral-400",children:H}),(U||Y)&&g.jsxs("div",{className:"text-[10px] text-neutral-500 dark:text-neutral-400 text-center space-y-0.5",children:[U&&z&&g.jsx("div",{children:z}),Y&&V&&g.jsx("div",{children:V})]})]},d.toISOString())}))})]})}function UD(e,t){const n=e.at.getFullYear(),r=t?t.at.getFullYear():n+10,i=[];for(let a=n;a<r;a++){const o=_n(a,315);let l=a;new Date<o&&(l=a-1);const d=ot(new Date(l,1,10));i.push({at:o,gz:d})}return i}function koe({data:e}){const t=yu(e),[n,r]=w.useState(null),[i,a]=w.useState(null),[o,l]=w.useState("il"),[u,d]=w.useState(null);w.useEffect(()=>{if(!t.length)return;const k=new Date,S=t.findIndex((_,T)=>{const N=t[T+1]?.at;return k>=_.at&&(!N||k<N)});S!==-1&&r(S)},[t]),w.useEffect(()=>{if(n===null)return;const k=t[n],S=t[n+1];if(!k)return;const _=UD(k,S),T=new Date;_.findIndex((j,C)=>{const M=_[C+1]?.at;return T>=j.at&&(!M||T<M)})!==-1&&a({year:T.getFullYear(),month:T.getMonth()})},[n,t]);const h=aA(e),{date:p}=fi(),b=p.getMonth()+1===1?p.getFullYear()-1:p.getFullYear(),x=w.useMemo(()=>{if(!h?.dae?.gz)return[];const k=t.findIndex((T,N)=>{const j=t[N+1]?.at;return h.dae.at>=T.at&&(!j||h.dae.at<j)});if(k===-1)return[];const S=t[k],_=t[k+1];return UD(S,_)},[t,h?.dae]);return g.jsxs("div",{className:"w-full space-y-4",children:[g.jsx(aoe,{data:e}),o==="se"||o==="wol"||o==="il"?g.jsx(loe,{data:e,list:x,onSelect:()=>{l("wol")}}):null,o==="wol"||o==="il"?g.jsx(poe,{data:e,activeYear:b,onSelect:(k,S)=>{a({year:k,month:S}),l("il")},onSelectMonth:d}):null,o==="il"&&i&&g.jsx(Soe,{data:e,year:i.year,month:i.month+1,selectedMonth:u})]})}const Eoe=new Set(xY),Aoe=new Set(_Y);function FD(e){return typeof e=="string"&&e.length>=2&&Eoe.has(e[0])&&Aoe.has(e[1])}function ji(e,...t){if(FD(e))return e;for(const n of t)if(FD(n))return n;return""}const Toe={:0,:2,:4,:6,:8,:10,:12,:14,:16,:18,:20,:22};function C0(e,t){let n=null;const r=t.getTime();for(const i of e)if(i.at.getTime()<=r)n=i;else break;return n}function joe({data:e}){const t=jn(W=>W.settings),{manualHour:n}=ap(),{showSibiUnseong:r,showSibiSinsal:i,sinsalBase:a,sinsalMode:o,sinsalBloom:l}=t,{date:u}=fi(),d=w.useMemo(()=>dp(e),[e]),h=w.useMemo(()=>Tv(d),[d]),p=w.useMemo(()=>iA(d,"/"),[d]),b=w.useMemo(()=>mv(p.day?.charAt(0)??""),[p.day]),x=!e.birthTime||e.birthTime==="",k=w.useMemo(()=>G4(h,p.hour,e.dir??"forward",120,"/"),[h,p.hour,e.dir]),S=w.useMemo(()=>Y4(k,p.day,e.dir??"forward",""),[k,p.day,e.dir]),_=w.useMemo(()=>hp(h,p.month,e.dir??"forward",120,d.birthPlace?.lon??127.5),[h,p.month,e.dir,d.birthPlace?.lon]),T=w.useMemo(()=>K4(_,p.year,e.dir??"forward","",h),[_,p.year,e.dir,h]),N=w.useMemo(()=>{const W=k?.events?.[0];return W?{at:W.at,from:ji(p.hour),to:ji(W.gz)}:null},[k?.events,p.hour]),j=w.useMemo(()=>{const W=_?.events?.[0];return _?.firstChange?{at:_.firstChange,from:ji(p.month),to:ji(W?.gz??p.month)}:null},[_?.firstChange,_?.events,p.month]),C=w.useMemo(()=>{const W=x?n?n.stem+n.branch:"":ji(C0(k.events,u)?.gz,p.hour);let H;if(x&&n){const z=u.getFullYear(),V=u.getMonth(),X=u.getDate(),Z=Toe[n.branch]??0,q=new Date(z,V,X,Z,0),Q=pt(q,e.mingSikType??"/");H=ji(Q,p.day)}else H=ji(C0(S.events,u)?.gz,p.day);return{si:W,il:H,wl:ji(C0(_.events,u)?.gz,p.month),yn:ji(C0(T.events,u)?.gz,p.year)}},[u,k.events,S.events,_.events,T.events,p,x,n,e.mingSikType]),M=w.useMemo(()=>({si:ji(Fa(u,"/")),il:ji(pt(u,"/")),wl:ji(_t(u)),yn:ji(ot(u))}),[u]),P=w.useMemo(()=>a===""?p.day.charAt(1):p.year.charAt(1),[a,p.day,p.year]),$=w.useMemo(()=>gf(o),[o]),U=W=>{if(!W)return{unseong:"",shinsal:""};const H=di(b,"stem",""),z=di(W.charAt(1),"branch",""),V=di(P,"branch","");return{unseong:r&&Mo(H,z)||"",shinsal:i&&Do({baseBranch:V,targetBranch:z,era:$,gaehwa:!!l})||""}},Y=(W,H,z="myoun")=>{const V=H,{unseong:X,shinsal:Z}=H?U(H):{unseong:"",shinsal:""},q=z==="myoun"&&x&&(W===""||W==="");return g.jsx(Ed,{label:W,gz:V,dayStem:b,settings:t,unseongText:H?X:"",shinsalText:H?Z:"",hideBranchSipSin:!0,size:"sm",isUnknownTime:q},`${z}-${W}`)};return g.jsxs("div",{className:"w-full max-w-[640px] mx-auto mb-4 px-2 py-4 desk:p-4 bg-white dark:bg-neutral-950 text-neutral-900 dark:text-neutral-100 rounded-xl shadow border border-neutral-200 dark:border-neutral-800",children:[g.jsx("header",{className:"flex flex-wrap items-center gap-3 justify-between mb-4",children:g.jsxs("div",{className:"font-semibold text-xs desk:text-sm",children:[" +   "," ",g.jsxs("span",{className:"text-neutral-500 dark:text-neutral-400",children:["(: ",bm(h),")"]})]})}),g.jsxs("div",{className:"grid grid-cols-2 gap-2 desk:gap-4 mb-6",children:[g.jsxs("div",{children:[g.jsx("label",{className:"block text-xs mb-2 text-neutral-600 dark:text-neutral-300",children:""}),g.jsxs("div",{className:"grid grid-cols-4 gap-1 desk:gap-2",children:[Y("",C.si,"myoun"),Y("",C.il,"myoun"),Y("",C.wl,"myoun"),Y("",C.yn,"myoun")]})]}),g.jsxs("div",{children:[g.jsx("label",{className:"block text-xs mb-2 text-neutral-600 dark:text-neutral-300",children:" "}),g.jsxs("div",{className:"grid grid-cols-4 gap-1 desk:gap-2",children:[Y("",M.si,"live"),Y("",M.il,"live"),Y("",M.wl,"live"),Y("",M.yn,"live")]})]})]}),g.jsxs("div",{className:"mt-4 text-xs text-neutral-700 dark:text-neutral-300 space-y-1",children:[g.jsx("div",{className:"font-semibold",children:"  "}),g.jsxs("div",{children:[":"," ",N?`${bm(N.at)} (${N.from}  ${N.to})`:" "]}),g.jsxs("div",{children:[":"," ",j?`${bm(j.at)} (${j.from}  ${j.to})`:" "]})]})]})}const HD=["","","","","","","","","",""],Ooe={:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},Noe={:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},Coe={:"",:"",:"",:"",:""},Moe={:"",:"",:"",:"",:""},Doe={:"",:"",:"",:"",:""},Poe={:"",:"",:"",:"",:""};function Roe(e,t){switch(e){case"":return t;case"":return Coe[t];case"":return Doe[t];case"":return Poe[t];case"":return Moe[t];default:return t}}function Loe({data:e,perStemElementScaled:t,elementPercent:n,dayStem:r,width:i=280,height:a=280,revKey:o}){const l=i,u=a,d=l/2,h=u/2,p=Math.min(l,u)*.37,b=w.useMemo(()=>{const j=(r??"").charAt(0);return Noe[j]??null},[r]),x=j=>Math.PI/2+2*-Math.PI*j/5,k=w.useMemo(()=>e.map((j,C)=>({...j,x:d+p*Math.cos(x(C)),y:h-p*Math.sin(x(C))})),[e,d,h,p]),[S,_]=w.useState(0),T=w.useRef(""),N=w.useMemo(()=>{const j=e.map(P=>`${P.name}:${P.value}`).join(","),C=HD.map(P=>`${P}:${t?.[P]??0}`).join(","),M=n?`:${n.??0},:${n.??0},:${n.??0},:${n.??0},:${n.??0}`:"el:none";return[o??"",j,C,M,r??""].join("||")},[o,e,t,r,n]);return w.useEffect(()=>{N!==T.current&&(T.current=N,_(j=>j+1))},[N]),g.jsx("div",{className:"w-full",children:g.jsxs("svg",{width:l,height:u,className:"mx-auto pt-2",children:[k.map((j,C)=>{const M=k[(C+2)%5];return g.jsx("line",{x1:j.x,y1:j.y,x2:M.x,y2:M.y,stroke:"#94a3b8",strokeWidth:1},`line-${C}`)}),k.map((j,C)=>{const M=k[(C+1)%5],P=(j.x+M.x)/2,$=(j.y+M.y)/2,U=P-d,Y=$-h,W=1.5,H=d+U*W,z=h+Y*W;return g.jsx("path",{d:`M${j.x},${j.y} Q${H},${z} ${M.x},${M.y}`,stroke:"#ef4444",strokeWidth:1.5,fill:"none",markerEnd:"url(#arrow)"},`curve-${C}`)}),g.jsx("defs",{children:g.jsx("marker",{id:"arrow",markerWidth:"6",markerHeight:"6",refX:"5",refY:"3",orient:"auto",children:g.jsx("path",{d:"M0,0 L6,3 L0,6 Z",fill:"#ef4444"})})}),k.map(j=>{const C=j.name,M=b?Roe(C,b):null,P=M?HD.filter($=>Ooe[$]===M).map($=>[$,t?.[$]??0]):[];return g.jsxs("g",{transform:`translate(${j.x},${j.y})`,children:[g.jsx("circle",{r:33,fill:j.color??"#334155",opacity:j.value===0?.7:1}),g.jsxs("text",{textAnchor:"middle",dy:"-6",fontSize:14,className:"fill-white font-semibold",children:[j.name," ",j.value]}),P.map(([$,U],Y)=>g.jsxs("text",{textAnchor:"middle",dy:8+Y*11,fontSize:10,className:"fill-white",children:[$," ",Math.round(U)]},$))]},`${j.name}-${j.value}`)})]},S)})}const Ioe=[{name:"",min:0,max:10},{name:"",min:10,max:20},{name:"",min:20,max:35},{name:"",min:35,max:45},{name:"",min:45,max:55},{name:"",min:55,max:65},{name:"",min:65,max:80},{name:"",min:80,max:100.0001}];function _A(e){return Math.max(0,Math.min(100,e))}function v6(e){const t=_A(e);return Ioe.find(r=>t>=r.min&&t<r.max)?.name??""}const $oe=[10,20,35,45,55,65,80];function Boe({value:e}){const t=w.useMemo(()=>_A(e),[e]),n=w.useMemo(()=>v6(t),[t]);return g.jsxs("div",{className:"w-full mx-auto p-2 desk:p-4 bg-neutral-100 dark:bg-neutral-800 rounded-xl",children:[g.jsxs("div",{className:"flex justify-between text-[11px] text-neutral-400 mb-1",children:[g.jsx("span",{children:""}),g.jsx("span",{children:""}),g.jsx("span",{children:""})]}),g.jsxs("div",{className:"relative h-4 rounded bg-gradient-to-r from-blue-500 via-yellow-400 to-red-500",children:[$oe.map(r=>g.jsx("div",{className:"absolute top-0 h-4 w-[1px] bg-black/30",style:{left:`${r}%`},title:`${r}%`},r)),g.jsx("div",{className:"absolute top-0 h-4 w-[1px] bg-black/40",style:{left:"50%"},title:"50%"}),g.jsx("div",{className:"absolute -top-1 h-6 w-2 bg-white rounded shadow-sm",style:{left:`${t}%`,transform:"translateX(-50%)"},"aria-label":`  ${t}%`})]}),g.jsxs("div",{className:"mt-2 flex items-center gap-2",children:[g.jsx("span",{className:"inline-flex items-center px-2 py-0.5 rounded-full text-xs border border-neutral-600 text-neutral-700 dark:text-neutral-200",children:n}),g.jsxs("span",{className:"text-xs text-neutral-400",children:[t.toFixed(1),"%"]})]})]})}function zh(e,t){if(e==="#")return"bg-neutral-100 text-neutral-500 border-neutral-200 dark:bg-neutral-900 dark:text-neutral-500 dark:border-neutral-700";switch(t){case"natal":return"bg-violet-100 text-violet-800 border-violet-200 dark:bg-violet-900/30 dark:text-violet-200 dark:border-violet-800";case"dae":return"bg-blue-100 text-blue-800 border-blue-200 dark:bg-blue-900/30 dark:text-blue-200 dark:border-blue-800";case"se":return"bg-green-100 text-green-800 border-green-200 dark:bg-green-900/30 dark:text-green-200 dark:border-green-800";case"wol":return"bg-orange-100 text-orange-800 border-orange-200 dark:bg-orange-900/30 dark:text-orange-200 dark:border-orange-800";case"il":return"bg-red-100 text-red-800 border-red-200 dark:bg-red-900/30 dark:text-red-200 dark:border-red-800";default:return""}}function ia({label:e,natal:t,dae:n,se:r,wol:i,il:a}){const o=n.length+r.length+i.length+a.length>0,l=t.length>0?t:["#"],u=o?l.filter(p=>p!=="#"):l,h=u.some(p=>p!=="#")||n.length>0||r.length>0||i.length>0||a.length>0?"shrink-0 w-20 text-xs font-semibold text-orange-700 dark:text-orange-300 mt-1":"shrink-0 w-20 text-xs font-semibold text-neutral-700 dark:text-neutral-400 mt-1";return g.jsxs("div",{className:"flex items-start gap-3 p-1 rounded-sm",children:[g.jsx("div",{className:h,children:e}),g.jsxs("div",{className:"flex flex-wrap gap-2",children:[u.map((p,b)=>g.jsx("span",{className:"text-xs px-2 py-1 rounded-full border whitespace-nowrap "+zh(p,"natal"),children:p},`natal-${b}`)),n.map((p,b)=>g.jsx("span",{className:"text-xs px-2 py-1 rounded-full border whitespace-nowrap "+zh(p,"dae"),children:p},`dae-${b}`)),r.map((p,b)=>g.jsx("span",{className:"text-xs px-2 py-1 rounded-full border whitespace-nowrap "+zh(p,"se"),children:p},`se-${b}`)),i.map((p,b)=>g.jsx("span",{className:"text-xs px-2 py-1 rounded-full border whitespace-nowrap "+zh(p,"wol"),children:p},`wol-${b}`)),a.map((p,b)=>g.jsx("span",{className:"text-xs px-2 py-1 rounded-full border whitespace-nowrap "+zh(p,"il"),children:p},`il-${b}`))]})]})}function Wk(e){return Array.isArray(e)?e:[]}function M0(e,t){const n=new Set(Wk(e));return Wk(t).filter(i=>!n.has(i))}function zoe({pillars:e,daewoon:t,sewoon:n,wolwoon:r,ilwoon:i,tab:a=""}){const o=yA(e),l=Tl({natal:e}),u=t?Tl({natal:e,daewoon:t}):l,d=n?Tl({natal:e,daewoon:t,sewoon:n}):u,h=r?Tl({natal:e,daewoon:t,sewoon:n,wolwoon:r}):d,p=i?Tl({natal:e,daewoon:t,sewoon:n,wolwoon:r,ilwoon:i}):h,b=S=>({natal:Wk(o[S]),dae:M0(l[S],u[S]),se:M0(u[S],d[S]),wol:M0(d[S],h[S]),il:M0(h[S],p[S])}),x={cheonganHap:b("cheonganHap"),cheonganChung:b("cheonganChung"),jijiSamhap:b("jijiSamhap"),jijiBanhap:b("jijiBanhap"),jijiBanghap:b("jijiBanghap"),jijiYukhap:b("jijiYukhap"),amhap:b("amhap"),ganjiAmhap:b("ganjiAmhap"),jijiChung:b("jijiChung"),jijiHyeong:b("jijiHyeong"),jijiPa:b("jijiPa"),jijiHae:b("jijiHae")},k=S=>a===""?{natal:S.natal,dae:[],se:[],wol:[],il:[]}:a===""?{natal:S.natal,dae:S.dae,se:[],wol:[],il:[]}:a===""?{natal:S.natal,dae:S.dae,se:S.se,wol:[],il:[]}:a===""?{natal:S.natal,dae:S.dae,se:S.se,wol:S.wol,il:[]}:a===""?{natal:S.natal,dae:S.dae,se:S.se,wol:S.wol,il:S.il}:{natal:[],dae:[],se:[],wol:[],il:[]};return g.jsxs("div",{className:"rounded-xl p-4 bg-neutral-100 dark:bg-neutral-900 text-neutral-900 dark:text-neutral-100 space-y-2",children:[g.jsx("div",{className:"text-base font-bold mb-1",children:""}),g.jsx(ia,{label:"",...k(x.cheonganHap)}),g.jsx(ia,{label:"",...k(x.cheonganChung)}),g.jsx("div",{className:"border-t border-neutral-200 dark:border-neutral-800 my-2"}),g.jsx(ia,{label:"",...k(x.jijiSamhap)}),g.jsx(ia,{label:"",...k(x.jijiBanhap)}),g.jsx(ia,{label:"",...k(x.jijiBanghap)}),g.jsx(ia,{label:"",...k(x.jijiYukhap)}),g.jsx(ia,{label:"",...k(x.amhap)}),g.jsx(ia,{label:"",...k(x.ganjiAmhap)}),g.jsx(ia,{label:"",...k(x.jijiChung)}),g.jsx(ia,{label:"",...k(x.jijiHyeong)}),g.jsx(ia,{label:"",...k(x.jijiPa)}),g.jsx(ia,{label:"",...k(x.jijiHae)})]})}function Uoe(e,t){if(e==="#")return"bg-neutral-100 text-neutral-500 border-neutral-200 dark:bg-neutral-900 dark:text-neutral-500 dark:border-neutral-700";switch(t){case"natal":return"bg-violet-100 text-violet-800 border-violet-200 dark:bg-violet-900/30 dark:text-violet-200 dark:border-violet-800";case"dae":return"bg-blue-100 text-blue-800 border-blue-200 dark:bg-blue-900/30 dark:text-blue-200 dark:border-blue-800";case"se":return"bg-green-100 text-green-800 border-green-200 dark:bg-green-900/30 dark:text-green-200 dark:border-green-800";case"wol":return"bg-orange-100 text-orange-800 border-orange-200 dark:bg-orange-900/30 dark:text-orange-200 dark:border-orange-800";case"il":return"bg-red-100 text-red-800 border-red-200 dark:bg-red-900/30 dark:text-red-200 dark:border-red-800";default:return""}}function Foe({items:e,source:t}){const n=e.length>0?e:["#"];return g.jsx("div",{className:"flex flex-wrap gap-2",children:n.map((r,i)=>g.jsx("span",{className:"text-xs px-2 py-1 rounded-full border whitespace-nowrap "+Uoe(r,t),children:r},`${t}-${i}-${r}`))})}function GD({title:e,rows:t}){return g.jsxs("div",{className:"space-y-2 desk:flex-1 desk:px-1",children:[g.jsx("div",{className:"text-md font-bold text-neutral-800 dark:text-neutral-200 mt-2",children:e}),t.map(n=>{const i=n.items.some(a=>a!=="#")?"shrink-0 w-12 text-xs font-semibold text-orange-700 dark:text-orange-300 mt-1":"shrink-0 w-12 text-xs font-semibold text-neutral-700 dark:text-neutral-300 mt-1";return g.jsxs("div",{className:"flex items-start gap-3 p-1 rounded-sm",children:[g.jsx("div",{className:i,children:n.label}),g.jsx(Foe,{items:n.items.length>0?n.items:["#"],source:n.source})]},`${e}-${n.label}`)})]})}function Hoe({pillars:e,daewoon:t,sewoon:n,wolwoon:r,ilwoon:i,tab:a=""}){const{settings:o}=jn(),[l,u]=w.useState(""),[d,h]=w.useState("");w.useEffect(()=>{o.sinsalBase===""?(u(""),h("")):(u(""),h(""))},[o.sinsalBase]);const p=w.useMemo(()=>({voidBasis:l===""?"day":"year",samjaeBasis:d===""?"day":"year"}),[l,d]),b=w.useMemo(()=>Kd({natal:e,daewoon:t,sewoon:n,wolwoon:r,ilwoon:i,basis:p}),[e,t,n,r,i,p]),{good:x,bad:k,meta:S}=b,_=W=>W.map(H=>H==="#"?H:` ${H}`),T=(W,H)=>{const z=["natal"];return H===""&&z.push("natal"),H===""&&z.push("natal","dae"),H===""&&z.push("natal","dae","se"),H===""&&z.push("natal","dae","se","wol"),H===""&&z.push("natal","dae","se","wol","il"),W.filter(V=>z.includes(V.source))},N=[{label:"",items:_(x.si),source:"natal"},{label:"",items:_(x.il),source:"natal"},{label:"",items:_(x.wol),source:"natal"},{label:"",items:_(x.yeon),source:"natal"},{label:"",items:x.dae,source:"dae"},{label:"",items:x.se,source:"se"},{label:"",items:x.wolun,source:"wol"},{label:"",items:x.ilun,source:"il"}],j=[{label:"",items:_(k.si),source:"natal"},{label:"",items:_(k.il),source:"natal"},{label:"",items:_(k.wol),source:"natal"},{label:"",items:_(k.yeon),source:"natal"},{label:"",items:k.dae,source:"dae"},{label:"",items:k.se,source:"se"},{label:"",items:k.wolun,source:"wol"},{label:"",items:k.ilun,source:"il"}],C=T(N,a),M=T(j,a),P=S.voidPair.day?`(${S.voidPair.day.join("")})`:"()",$=S.voidPair.year?`(${S.voidPair.year.join("")})`:"()",U=S.samjaeYears.day?`(${S.samjaeYears.day.join("")})`:"()",Y=S.samjaeYears.year?`(${S.samjaeYears.year.join("")})`:"()";return g.jsxs("div",{className:"rounded-xl p-4 bg-neutral-100 dark:bg-neutral-900 text-neutral-900 dark:text-neutral-100 space-y-2",children:[g.jsx("div",{className:"text-base font-bold mb-1",children:"(/)"}),g.jsxs("div",{className:"flex flex-wrap justify-center items-center gap-3 text-xs",children:[g.jsxs("div",{className:"flex items-center gap-2",children:[g.jsx("label",{className:"text-neutral-600 dark:text-neutral-300",children:" "}),g.jsxs("select",{value:l,onChange:W=>u(W.target.value),className:"px-2 h-30 rounded border border-neutral-300 dark:border-neutral-700 bg-white dark:bg-neutral-800",children:[g.jsx("option",{value:"",children:P}),g.jsx("option",{value:"",children:$})]})]}),g.jsxs("div",{className:"flex items-center gap-2",children:[g.jsx("label",{className:"text-neutral-600 dark:text-neutral-300",children:" "}),g.jsxs("select",{value:d,onChange:W=>h(W.target.value),className:"px-2 h-30 rounded border border-neutral-300 dark:border-neutral-700 bg-white dark:bg-neutral-800",children:[g.jsx("option",{value:"",children:U}),g.jsx("option",{value:"",children:Y})]})]})]}),g.jsxs("div",{className:"desk:flex",children:[g.jsx(GD,{title:"()",rows:C}),g.jsx("div",{className:"block desk:hidden border-t border-neutral-200 dark:border-neutral-800 mt-4 mb-3"}),g.jsx(GD,{title:"()",rows:M})]})]})}const la={year:0,month:1,day:2,hour:3},x6={[la.year]:.3,[la.month]:.5,[la.day]:.3,[la.hour]:.3},_6={[la.year]:.15,[la.month]:.2,[la.day]:0,[la.hour]:.15},Goe=e=>_m.has(e)?e:Kn[e]??e,qoe=e=>Ud.has(e)?e:Bn[e]??e,Yoe=e=>typeof e=="string"&&e.length>=2?Goe(e.slice(-1)):"",Koe=e=>typeof e=="string"&&e.length>=1?qoe(e.slice(0,1)):"",vn=(e,t,n,r)=>({han:e,nan:t,jo:n,seup:r}),Woe={:vn(2,0,.5,2),:vn(2,0,0,2),:vn(2,0,0,2),:vn(0,2,2,0),:vn(0,2,2,0),:vn(0,2,1,2),:vn(0,2,2,.5),:vn(0,2,2,0),:vn(0,2,2,1),:vn(2,0,0,2),:vn(2,0,0,2),:vn(2,0,1,1)},Voe={:vn(0,1,1,0),:vn(0,1,1,0),:vn(0,2,2,0),:vn(0,2,2,0),:vn(0,0,1,0),:vn(0,0,0,1),:vn(1,0,0,1),:vn(1,0,0,1),:vn(2,0,0,2),:vn(2,0,0,2)},qD=e=>Math.max(0,Math.min(100,e));function YD(e,t){const n=Math.max(0,e),r=Math.max(0,t),i=n+r;return i<=0?50:r/i*100}function Zoe(e){let t=0,n=0,r=0,i=0;return[la.year,la.month,la.day,la.hour].forEach(a=>{const o=Woe[Yoe(e[a])],l=Voe[Koe(e[a])],u=x6[a],d=_6[a];u>0&&o&&(t+=o.han*u,n+=o.nan*u,r+=o.jo*u,i+=o.seup*u),d>0&&l&&(t+=l.han*d,n+=l.nan*d,r+=l.jo*d,i+=l.seup*d)}),{han:t,nan:n,jo:r,seup:i}}function Xoe(e){const t=Array.isArray(e)?e.slice(0,4):[];for(;t.length<4;)t.push("");return t.map(n=>typeof n=="string"?n:"")}function Joe(e){const t=Xoe(e);return w.useMemo(()=>{const{han:n,nan:r,jo:i,seup:a}=Zoe(t),o=YD(n,r),l=YD(a,i);return{hanNanPct:qD(o),joSeupPct:qD(l),raw:{han:n,nan:r,jo:i,seup:a},weights:{branch:x6,stem:_6}}},[t])}function KD({label:e,percent:t,leftHint:n,midHint:r,rightHint:i}){const a=w.useMemo(()=>Math.max(0,Math.min(100,t)),[t]),o=[10,20,35,45,55,65,80];return g.jsxs("div",{className:"w-full mx-auto p-2 desk:p-4 bg-neutral-100 dark:bg-neutral-800 rounded-xl",children:[g.jsxs("div",{className:"flex justify-between text-[11px] text-neutral-400 mb-1",children:[g.jsx("span",{children:n}),g.jsx("span",{children:r}),g.jsx("span",{children:i})]}),g.jsxs("div",{className:"relative h-4 rounded bg-gradient-to-r from-blue-500 via-yellow-400 to-red-500",children:[o.map(l=>g.jsx("div",{className:"absolute top-0 h-4 w-[1px] bg-black/30",style:{left:`${l}%`},title:`${l}%`},l)),g.jsx("div",{className:"absolute top-0 h-4 w-[1px] bg-black/40",style:{left:"50%"},title:"50%"}),g.jsx("div",{className:"absolute -top-1 h-6 w-2 bg-white rounded shadow-sm",style:{left:`${a}%`,transform:"translateX(-50%)"},"aria-label":`${e} ${a.toFixed(1)}%`})]}),g.jsxs("div",{className:"mt-2 flex items-center gap-2",children:[g.jsx("span",{className:"inline-flex items-center px-2 py-0.5 rounded-full text-xs border border-neutral-600 text-neutral-700 dark:text-neutral-200",children:e}),g.jsxs("span",{className:"text-xs text-neutral-400",children:[a.toFixed(1),"%"]})]})]})}function Qoe({natal:e}){const{hanNanPct:t,joSeupPct:n}=Joe(e);return g.jsxs("div",{className:"flex gap-2",children:[g.jsx(KD,{label:"",percent:t,leftHint:"",midHint:"",rightHint:""}),g.jsx(KD,{label:"",percent:n,leftHint:"",midHint:"",rightHint:""})]})}const zr={:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},Ra={:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},ese={:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},sy={:"",:"",:"",:"",:""},w6={:"",:"",:"",:"",:""},Pm={:"",:"",:"",:"",:""},S6={:"",:"",:"",:"",:""},tse={:{:{stem:"",w:10},:{stem:"",w:20}},:{:{stem:"",w:9},:{stem:"",w:3},:{stem:"",w:18}},:{:{stem:"",w:7},:{stem:"",w:7},:{stem:"",w:16}},:{:{stem:"",w:10},:{stem:"",w:20}},:{:{stem:"",w:9},:{stem:"",w:3},:{stem:"",w:18}},:{:{stem:"",w:7},:{stem:"",w:7},:{stem:"",w:16}},:{:{stem:"",w:10},:{stem:"",w:9},:{stem:"",w:11}},:{:{stem:"",w:9},:{stem:"",w:3},:{stem:"",w:18}},:{:{stem:"",w:7},:{stem:"",w:7},:{stem:"",w:16}},:{:{stem:"",w:10},:{stem:"",w:20}},:{:{stem:"",w:9},:{stem:"",w:3},:{stem:"",w:18}},:{:{stem:"",w:7},:{stem:"",w:7},:{stem:"",w:16}}},nse={:{:{stem:"",w:100}},:{:{stem:"",w:20},:{stem:"",w:30},:{stem:"",w:50}},:{:{stem:"",w:30},:{stem:"",w:70}},:{:{stem:"",w:100}},:{:{stem:"",w:20},:{stem:"",w:30},:{stem:"",w:50}},:{:{stem:"",w:30},:{stem:"",w:70}},:{:{stem:"",w:100}},:{:{stem:"",w:20},:{stem:"",w:30},:{stem:"",w:50}},:{:{stem:"",w:30},:{stem:"",w:70}},:{:{stem:"",w:100}},:{:{stem:"",w:20},:{stem:"",w:30},:{stem:"",w:50}},:{:{stem:"",w:30},:{stem:"",w:70}}};function wA(e){return e===""||e===""||e===""||e===""||e===""||e===""||e===""||e===""||e===""||e===""||e===""||e===""}function k6(e){return(typeof e=="string"?e.trim().toLowerCase():"")==="hgc"?"hgc":"classic"}function SA(e){return e==="hgc"?nse:tse}const rse={:["","",""],:["","",""],:["","",""],:["","",""],:["","",""],:["","",""],:["","",""],:["","",""],:["","",""],:["","",""],:["","",""],:["","",""]},a1={:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},E6={:"",:"",:"",:"",:""},A6={:"",:"",:"",:""},ise=[{a:"",b:"",to:""},{a:"",b:"",to:""},{a:"",b:"",to:""},{a:"",b:"",to:""},{a:"",b:"",to:""}],ase=[["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""]],ose={:!0,:!1,:!0,:!1,:!0,:!1,:!0,:!1,:!0,:!1},Ke=(e,t)=>`${e}${t}`,Ni=(e,t,n)=>`${e}${t}${n}`,sse={:["",""],:["",""],:["",""],:["",""],:["",""],:["",""],:["",""],:["",""],:["",""],:["",""],:["",""],:["",""]},WD={[Ke("","")]:[""],[Ke("","")]:["",""],[Ke("","")]:["",""],[Ke("","")]:[""],[Ke("","")]:[""],[Ke("","")]:[""],[Ke("","")]:["",""],[Ke("","")]:[""],[Ke("","")]:[""],[Ke("","")]:[""],[Ke("","")]:[""],[Ke("","")]:[""],[Ke("","")]:[""],[Ke("","")]:[""],[Ke("","")]:[""],[Ke("","")]:[""],[Ke("","")]:[""],[Ke("","")]:[""],[Ke("","")]:[""],[Ke("","")]:[""],[Ke("","")]:[""],[Ke("","")]:[""],[Ke("","")]:[""],[Ke("","")]:[""],[Ke("","")]:[""],[Ke("","")]:[""],[Ke("","")]:[""],[Ke("","")]:[""],[Ke("","")]:[""],[Ke("","")]:[""],[Ke("","")]:[""],[Ke("","")]:[""],[Ke("","")]:[""],[Ke("","")]:[""],[Ke("","")]:[""],[Ke("","")]:[""],[Ke("","")]:[""],[Ke("","")]:[""],[Ke("","")]:[""],[Ke("","")]:[""],[Ke("","")]:[""],[Ke("","")]:[""],[Ke("","")]:[""],[Ke("","")]:[""],[Ke("","")]:[""],[Ke("","")]:[""],[Ke("","")]:[""],[Ke("","")]:["",""],[Ke("","")]:[""],[Ke("","")]:[""],[Ke("","")]:[""],[Ke("","")]:[""],[Ke("","")]:[""],[Ke("","")]:[""],[Ke("","")]:[""]},VD={[Ni("","","")]:[""],[Ni("","","")]:[""],[Ni("","","")]:[""],[Ni("","","")]:[""],[Ni("","","")]:[""],[Ni("","","")]:[""],[Ni("","","")]:[""],[Ni("","","")]:[""],[Ni("","","")]:[""],[Ni("","","")]:[""],[Ni("","","")]:["",""]},lse={:"",:"",:"",:"",:"",:"",:"",:"",:"",:""};function ca(e){return["","","","",""].includes(e)}function cse(e){return["","","","","",""].includes(e)}const o1=e=>({:"",:"",:"",:"",:"",:"",:"",:"",:"",:""})[e]??e,oa=e=>e&&e.length>=1?e.charAt(0):"",En=e=>e&&e.length>=2?e.charAt(1):"",use=e=>Array.from(new Set(e));function dse(e,t){const n=rse[e];if(!n)return!1;const r=new Set(t.filter(Boolean));return n.filter(a=>a!==e).every(a=>r.has(a))}function fse(e){return zr[e]??""}function La(e,t){const n=zr[e],r=zr[t];if(!n||!r)return"";let i;r===n?i="":r===sy[n]?i="":r===Pm[n]?i="":r===S6[n]?i="":r===w6[n]?i="":i="";const a=ca(e)===ca(t);switch(i){case"":return a?"":"";case"":return a?"":"";case"":return a?"":"";case"":return a?"":"";case"":return a?"":""}}function hse(e,t){const n=zr[e],r=Ra[t];if(!n||!r)return"";let i;r===n?i="":r===sy[n]?i="":r===Pm[n]?i="":r===S6[n]?i="":r===w6[n]?i="":i="";const a=cse(t)===ca(e);switch(i){case"":return a?"":"";case"":return a?"":"";case"":return a?"":"";case"":return a?"":"";case"":return a?"":""}}function mse(e){return{:"",:"",:"",:"",:""}[e]??""}function Vk(e,t){const n=fse(e),r=ca(e);let i;t===n?i="":sy[n]===t?i="":sy[t]===n?i="":Pm[n]===t?i="":Pm[t]===n?i="":i="";const a=r===ca(mse(t));switch(i){case"":return a?"":"";case"":return a?"":"";case"":return a?"":"";case"":return a?"":"";case"":return a?"":""}}const pse={:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},gse=e=>/^(|||||||||)$/.test(e);function bse(e){return e?gse(e)?e:pse[e]??"":""}function D0(e){return bse(oa(e))}function yse(e){return e?.charAt(0)??""}function vse(e){return e?.charAt(1)??""}function xse(e,t,n){const[r,i,a,o]=(e??[]).slice(0,4),l=de=>(de?.length??0)>=1?de.charAt(0):"",u=de=>(de?.length??0)>=2?de.charAt(1):"",d=[r,i,a,o].map(l).filter(Boolean),h=new Set(Object.keys(Ra)),p=[r,i,a,o].map(u).filter(de=>!!de&&h.has(de)),b=l(a),x=ose[b]??!1,k=new Set,S=t==="classic"?fv:hv,_=new Set(["","","","","","","","","",""]),T=de=>(S[de]??[]).filter(Ce=>_.has(Ce)),N=(de,Ce)=>{const Be=Ra[Ce];return Be?Vk(de,Be):null},j={:0,:0,:0,:0,:0};for(const de of d){const Ce=zr[de];Ce&&(j[Ce]+=10)}const C=[];for(const de of p){const Ce=ese[de];Ce&&C.push(Ce);const Be=Ra[de];Be&&(j[Be]+=6)}const P=[...d,...C].map(de=>La(b,de)),$={:["",""],:["",""],:["",""],:["",""],:["",""]},U=de=>P.filter(Ce=>Ce===de).length,Y=de=>P.filter(Ce=>$[de].includes(Ce)).length,W=p[1],H=!!b&&lse[b]===W,z=n.elementPercent100;z.>=20&&z.>=20&&z.>=15&&k.add("");const V=[r,i,a,o].filter(Boolean),X=[];for(const de of V){const Ce=de.charAt(0),Be=de.charAt(1);X.push(La(b,Ce)),X.push(N(b,Be))}const Z=(de,Ce)=>{const Be=(ut,Ot)=>!!ut&&!!Ot&&de.includes(ut)&&Ce.includes(Ot)||Ce.includes(ut)&&de.includes(Ot);for(let ut=0;ut+1<X.length;ut+=2)if(Be(X[ut],X[ut+1]))return!0;return!1},q=de=>X.some(Ce=>!!Ce&&de.includes(Ce)),Q=U("")+U(""),ne=U(""),ue=Y(""),se=Y(""),B=Z(["",""],["",""]);if((ne>=1||Q>=2)&&ue>=1&&Q>ue&&se<=1&&B&&k.add(""),q($.)&&q($.)&&Z($.,$.)){const de=P.includes("");k.add(de?"":"")}Y("")>=2&&Y("")>=2&&Math.abs(Y("")-Y(""))<=1&&Y("")<=1&&Y("")<=1&&k.add("");const K=U(""),ie=U(""),J=U("")+U(""),oe=U("")+U(""),fe=Y("");ie>=2&&J>=1&&j.+j.>=20&&k.add(""),ie>=2&&oe>=1&&j.+j.>=20&&k.add(""),ie>=2&&oe>=1&&j.+j.>=20&&Z([""],["",""])&&fe<=1&&k.add(""),K>=2&&oe>=1&&j.+j.>=20&&Z([""],["",""])&&fe<=1&&k.add("");const he=(de,Ce)=>{const Be=zr[de],ut=Ra[Ce];return!!Be&&!!ut&&Be===ut},ke=[r,i,a,o].filter(Boolean),re=u(a),xe=he(b,re),Ne=ke.map(de=>de.charAt(0)).filter(de=>["",""].includes(La(b,de)));let ye=!1;for(const de of ke){const Ce=de.charAt(0),Be=de.charAt(1);if(Ne.includes(Ce)&&he(Ce,Be)){ye=!0;break}}xe&&ye&&k.add(""),Y("")>=3&&Y("")>=.5*(Y("")+Y("")+Y("")+Y(""))&&k.add(""),Y("")>=3&&Y("")>=.5*(Y("")+Y("")+Y("")+Y(""))&&k.add(""),Y("")>=3&&Y("")>=1&&k.add(""),Y("")>=3&&Y("")+Y("")<=1&&k.add("");const Ze=U("");Y("")+Y("")>=2&&Ze===1&&Y("")>=1&&k.add(""),Ze>=2&&J+Y("")>=3&&k.add("");const qe=K+ie;(K>=2||qe>=2)&&oe>=1&&qe>oe&&k.add(""),ie>=2&&oe>=1&&qe>oe&&k.add("");const Me=U(""),Ee=U("");Me>=2&&Ze+Ee>=1&&k.add(""),Me>=2&&Ze+Ee===0&&k.add(""),x&&Me>=2&&Ze>=1&&k.add(""),!x&&Me>=2&&Ze>=1&&k.add(""),U("")>=2&&U("")>=1&&k.add(""),U("")>=1&&U("")>=1&&Z([""],[""])&&k.add(""),H&&Ze>=1&&Y("")+Y("")>=2&&k.add("");const Oe=[u(r),u(i),u(a),u(o)].filter(Boolean),Ie=[r?.charAt(0),i?.charAt(0),o?.charAt(0)].filter(Boolean),Qe=new Set(Ie.map(de=>La(b,de))),rt=new Set(Oe.flatMap(de=>{const Ce=Ra[de];return Ce?[Vk(b,Ce)]:[]})),Vt=new Set(Oe.flatMap(de=>T(de).map(Ce=>La(b,Ce))));return["","","","",""].forEach(de=>{const Ce=$[de],Be=Ce.some(vt=>Qe.has(vt)),ut=Ce.some(vt=>rt.has(vt)),Ot=Ce.some(vt=>Vt.has(vt));!Be&&!ut&&!Ot?k.add(`${de}`):!Be&&!ut&&Ot&&k.add(`${de}`)}),Array.from(k)}const _se=e=>{const t={:0,:0,:0,:0,:0};for(const n of e){const r=oa(n),i=En(n),a=zr[r],o=Ra[i];a&&(t[a]+=10),o&&(t[o]+=6)}return t};function wse(e){const{pillars:t,dayStem:n,monthBranch:r,mapping:i}=e,[a,o,l,u]=(t??[]).slice(0,4),d=[oa(a),oa(o),oa(l),oa(u)].filter(Boolean),h=[En(a),En(o),En(l),En(u)].filter(Boolean),p=zr[n],b=d.map(de=>La(n,de)),x=[],k=de=>d.filter(Ce=>Ce===de).length,S=de=>h.filter(Ce=>Ce===de).length,_=de=>de.every(Ce=>h.includes(Ce)),T=de=>b.some(Ce=>de.includes(Ce)),N=oa(o),j=de=>ca(de),C=()=>{const de=d.map(Ce=>zr[Ce]);return de.length===4&&de.every(Ce=>Ce===de[0])},M=()=>{if(d.length!==4)return!1;const de=d.map(j),Ce=de[0]&&!de[1]&&de[2]&&!de[3],Be=!de[0]&&de[1]&&!de[2]&&de[3];return Ce||Be};ca(n)&&E6[n]===r&&x.push("");const P=[["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""]];for(const[de,Ce]of P)if(n===de&&r===Ce){x.push("");break}!ca(n)&&A6[n]===r&&x.push("");const $=a1[n];$&&En(l)===$&&p===Ra[En(l)]&&x.push(""),$&&En(u)===$&&p===Ra[En(u)]&&x.push("");const U=[a,o,l,u].map(yse),Y=[a,o,l,u].map(vse);for(const de of U);for(const de of Y);const W=i==="hgc"?hv:fv;function H(de){return(W[de]??[]).filter(Ce=>["","","","","","","","","",""].includes(Ce))}const z=[a,o,l,u].filter(Boolean),X=z.flatMap(de=>[de.charAt(0),de.charAt(1)]).flatMap(de=>{try{if(["","","","","","","","","",""].includes(de))return[La(n,de)];if(["","","","","","","","","","","",""].includes(de)){const Ce=hse(n,de),Be=H(de).map(ut=>La(n,ut));return[Ce,...Be]}return[]}catch{return[]}}),Z=de=>X.some(Ce=>de.includes(Ce)),q=(de,Ce)=>{const Be=[],ut=[];for(const vt of z){const Jn=vt.charAt(0),gi=vt.charAt(1);Be.push(La(n,Jn));const bi=Ra[gi];bi?ut.push(Vk(n,bi)):ut.push(null)}const Ot=(vt,Jn)=>!!vt&&!!Jn&&(de.includes(vt)&&Ce.includes(Jn)||Ce.includes(vt)&&de.includes(Jn));for(let vt=0;vt<Be.length;vt++)if(Ot(Be[vt],ut[vt]))return!0;for(let vt=0;vt<Be.length-1;vt++)if(Ot(Be[vt],Be[vt+1])||Ot(ut[vt],ut[vt+1]))return!0;return!1},Q={:["",""],:["",""],:["",""],:["",""]};Z([...Q.])&&Z([...Q.])&&q([...Q.],[...Q.])&&x.push(""),Z([...Q.])&&Z([...Q.])&&q([...Q.],[...Q.])&&x.push("");const ne=de=>b.filter(Ce=>de.includes(Ce)).length,ue=ne(["",""]),se=ne([""]),B=ne([""]),K=ne(["",""]),ie=ne(["",""]),J=ne(["",""]);se>=1&&ue>=1&&ue>=se&&B<=se&&x.push("");const oe=ne([""]);oe>=1&&K>=1&&oe>=K&&x.push(""),b.includes("")&&K>=1&&x.push("");const he=_se(t),ke=Object.entries(he).sort((de,Ce)=>Ce[1]-de[1]),re=ke[0];if(re&&re[1]>=60&&x.push(`(${re[0]})`),ke.length>=2){const[de,Ce]=ke[0],[,Be]=ke[1];Ce>=75&&Ce-Be>=12&&p!==de&&x.push(`(${de})`)}for(const de of ise){const Ce=d.includes(de.a),Be=d.includes(de.b);if(!Ce||!Be)continue;const ut=de.to,Ot=he[ut]??0,vt=zr[de.a],Jn=zr[de.b],gi=Math.max(he[vt]??0,he[Jn]??0),bi=Ra[r]===ut,Is=Object.entries(he).sort((mn,yi)=>yi[1]-mn[1])[0]?.[0]===ut;let Gt=!1;Ot>=60&&(bi||Is)&&gi<=20&&Ot-gi>=20&&(x.push(`(${ut})`),Gt=!0),!Gt&&Ot>=50&&(bi||Is)&&gi<=25&&(x.push(`(${ut})`),Gt=!0),!Gt&&Ot>=35&&x.push(`(${ut})`)}const xe=`${oa(u)}${En(u)}`;["",""].includes(n)&&["","",""].includes(xe)&&x.push(""),["","","",""].includes(En(u))&&x.push(""),["",""].includes(n)&&(En(l)===""||En(o)==="")&&!h.includes("")&&x.push("");const Ne=d.some(de=>de===""||de===""),ye=h.some(de=>de===""||de==="");["",""].includes(En(l))&&!Ne&&!ye&&x.push(""),["","",""].every(de=>d.includes(de))&&x.push(""),["","",""].every(de=>d.includes(de))&&x.push(""),["","",""].every(de=>d.includes(de))&&x.push("");const Ze=Object.values(he).sort((de,Ce)=>Ce-de);Ze.length>=3&&Ze[0]-Ze[2]<=8&&Ze[0]+Ze[1]+Ze[2]>=80&&x.push(""),ie>=1&&J>=1&&Math.abs(ie-J)<=1&&x.push(""),_(["","","",""])&&x.push(""),_(["","","",""])&&x.push(""),_(["","","",""])&&x.push(""),h.length===4&&h.every(de=>de===h[0])&&x.push(""),d.length===4&&C()&&M()&&x.push(""),t.every(de=>de&&de===t[0])&&x.push(""),d.length===4&&d.every(de=>de===d[0])&&h.length===4&&h.every(de=>de===h[0])&&x.push(""),ue>=1&&(En(l)===a1[n]||En(u)===a1[n])&&x.push(""),k("")>=3&&_(["","",""])&&["","",""].includes(En(l))&&x.push("");const Me=n===""||n==="",Ee=[["","",""],["","",""]],Oe=[["","",""],["","",""]];Me&&(Ee.some(de=>_(de))||Oe.some(de=>_(de)))&&x.push("");const Ie=new Set(["","","","","",""]),Qe=`${oa(l)}${En(l)}`;if(Ie.has(Qe)&&S("")>=2&&(T(["",""])||h.includes("")||h.includes("")||T(["",""])||x.push("")),new Set(["","","","","",""]).has(Qe)&&S("")>=2&&h.includes("")&&x.push(""),n===""&&`${oa(u)}${En(u)}`==""){const de=La(n,N);!["","","",""].includes(de)&&T(["",""])&&!h.includes("")&&!h.includes("")&&x.push("")}return new Set(["","",""]).has(Qe)&&`${oa(u)}${En(u)}`==""&&!h.includes("")&&!T(["",""])&&x.push(""),Qe===""&&S("")+S("")>=2&&x.push(""),(Qe===""||Qe==="")&&S("")>=2&&!T(["",""])&&!h.includes("")&&x.push(""),n===""&&_(["","",""])&&x.push(""),Qe===""&&`${oa(u)}${En(u)}`==""&&x.push(""),use(x)}function Sse(e){const t=[];for(const n of e)switch(n.kind){case"BUNIL_PICK":t.push(`: ${n.from} `);break;case"WANGJI_FIXED_JUNGI":t.push(":   ");break;case"SAENGJI_EMITTED_ONE":t.push(`: ${n.from}  `);break;case"SAENGJI_EMITTED_MULTI":t.push(`:      ${n.from} `);break;case"SAENGJI_NOT_EMITTED_USE_JUNGI":t.push(":    ");break;case"GOJI_SAMHAP_USE_JUNGI":t.push(":     ");break;case"GOJI_EARLY_JEOLIP_USE_CHOGI":t.push(":  +12    ");break;case"GOJI_LATE_JEOLIP_USE_JUNGI":t.push(":  +12    ");break;case"NEUTRALIZED":t.push(":   / ");break;case"EX_GEONLOK":t.push(": /   ");break;case"EX_YANGIN":t.push(":    ");break;case"EX_WOLGEOP":t.push(":    ");break;case"EX_EXCLUDED_BIGEOP":t.push(": /  ");break}return t}function kse(e){return e===""?"()":{:"",:"",:"",:"",:"",:"",:"",:""}[e]??"-"}const ZD=1e3*60*60*24;function P0(e){return Date.UTC(e.getFullYear(),e.getMonth(),e.getDate())}function Ese(e){let t=ha(e);const n=t[0]?.date;if(n&&e.getTime()<n.getTime()){const r=new Date(e);r.setFullYear(e.getFullYear()-1),t=ha(r)}return t}function Ase(e){const t=sse[e];return Array.isArray(t)&&t.length>0?t[0]:null}function Tse(e,t){const n=Ase(e);if(!n)return null;const r=Ese(t),i=r.findIndex(d=>d.name===n);if(i<0)return null;const a=r[i]?.date,o=r[i+1]?.date;if(!a)return null;const l=Math.floor((P0(t)-P0(a))/ZD)+1,u=o?Math.max(1,Math.floor((P0(o)-P0(a))/ZD)):30;return{dayIdx:l<1?1:l,spanDays:u}}function jse(e){return(e.?.w??0)+(e.?.w??0)+e..w}function Ose(e,t,n){const r=Math.max(1,jse(e)),i=Math.max(1,Math.min(n,t)),a=Math.max(1,Math.min(r,Math.ceil(i*r/n))),o=e.?.w??0,l=e.?.w??0;return e.&&a<=o?{stem:e..stem,from:""}:e.&&a<=o+l?{stem:e..stem,from:""}:{stem:e..stem,from:""}}function T6(e){const{dayStem:t,monthBranch:n,date:r,pillars:i,emittedStems:a=[],otherBranches:o=[],isNeutralized:l,mapping:u}=e,d=[],h=k6(u),p=SA(h);if(!wA(n))return{:"-",:"-",:"-",:"-",:"-",:"-",:[],reason:["  "],reasonTokens:[]};const b=p[n];if(!b)return{:"-",:"-",:"-",:"-",:"-",:"-",:[],reason:["  "],reasonTokens:[]};const x={:b.?{stem:o1(b..stem),w:b..w}:void 0,:b.?{stem:o1(b..stem),w:b..w}:void 0,:{stem:o1(b..stem),w:b..w}},k=x..stem;let S=k;const _=Tse(n,r);if(["","","",""].includes(n)&&dse(n,o)&&x.)S=x..stem,d.push({kind:"GOJI_SAMHAP_USE_JUNGI"});else if(_){const z=Ose(x,_.dayIdx,_.spanDays);S=z.stem,d.push({kind:"BUNIL_PICK",from:z.from})}else S=k,d.push({kind:"BUNIL_FALLBACK_USE_WOLRYEONG"});function T(z,V){if(!z)return!1;if(V.includes(z))return!0;const X=zr[z];return X?V.some(Z=>zr[Z]===X):!1}let N="";S&&T(S,a)&&!l?.(S)?(N=S,d.push({kind:"DANRYEONG_CONFIRMED_BY_EMIT"})):S&&l?.(S)&&d.push({kind:"NEUTRALIZED"});const j=N||k;let C="";const M=zr[j];if(M){const z=Object.entries(Pm).find(([,V])=>V===M)?.[0]??null;z&&(C=Object.entries(zr).find(([X,Z])=>Z===z&&ca(X)===ca(j))?.[0]??"")}let P="-";const $=La(t,j),U=ase.some(([z,V])=>z===t&&V===n),Y=ca(t)&&E6[t]===n,W=!ca(t)&&A6[t]===n;$===""||$===""?U?(P="",d.push({kind:"EX_GEONLOK"})):Y?(P="",d.push({kind:"EX_YANGIN"})):W?(P="",d.push({kind:"EX_WOLGEOP"})):d.push({kind:"EX_EXCLUDED_BIGEOP"}):P=kse($);const H=wse({pillars:i,dayStem:t,monthBranch:n,mapping:u});return{:k,:S,:N||"-",:j||"-",:C||"-",:P,:H,reason:Sse(d),reasonTokens:d}}function Nse(e){const[t,n,r,i]=e,a=D0(i),o=D0(r),l=D0(n),u=D0(t),d=[],h=[[a,o],[o,l],[l,u]];for(const[b,x]of h){if(!b||!x)continue;const k=Ke(b,x),S=WD[k];S?.length&&d.push(...S);const _=Ke(x,b);if(_!==k){const T=WD[_];T?.length&&d.push(...T)}}const p=[[a,o,l],[o,l,u]];for(const[b,x,k]of p){if(!b||!x||!k)continue;const S=Ni(b,x,k),_=VD[S];_?.length&&d.push(..._);const T=Ni(k,x,b);if(T!==S){const N=VD[T];N?.length&&d.push(...N)}}return Array.from(new Set(d))}const Cse=["","","","",""];function Mse(e){return Cse.includes(e)}function Dse(e){const t=/^(.+?)\((.+)\)$/.exec(e.trim());return t?{base:t[1].trim(),inner:t[2].trim()}:{base:e.trim()}}function Uh(e,t){if(!t)return e;const n=(Mse(t),t);return`${e}(${n})`}const Pse={:{title:"",short:"    ."},:{title:"",short:"    ."},:{title:"",short:"    ."},:{title:"",short:"   ."},:{title:"",short:"   ."},:{title:"",short:"     ."},:{title:"",short:"   ."},:{title:"",short:"   ."},:{title:"",short:"   ."},:{title:"",short:"    ."},:{title:"",short:"     ."},:{title:"",short:"    ."},:{title:"",short:"    ."},:{title:"",short:"   ."},:{title:"",short:"    ."},:{title:"",short:"    ."},:{title:"",short:"    ."},:{title:"",short:" 3    ."},:{title:"",short:"    ."},:{title:"",short:"    ."},:{title:"",short:"    ."},:{title:"",short:"    ."},:{title:"",short:"   ."},:{title:"",short:"     ."},:{title:"",short:"     ."},:{title:"",short:"     ."},:{title:"",short:"     ."},:{title:"",short:"    ."},:{title:"",short:"    ."},:{title:"",short:"    ."},:{title:"",short:"    ."},:{title:"",short:"   ."},:{title:"",short:"   ."},:{title:"",short:"    ."},:{title:"",short:"    ."},:{title:"",short:"   ."},:{title:"",short:"   ."}},Rse={:e=>({title:Uh("",e),short:"     ."}),:e=>({title:Uh("",e),short:"   ."}),:e=>({title:Uh("",e),short:"   ."}),:e=>({title:Uh("",e),short:"    ."}),:e=>({title:Uh("",e),short:"    ."})};function Lse(e){const{base:t,inner:n}=Dse(e);return t===""||t===""||t===""||t===""||t===""?Rse[t](n):Pse[t]}function Ise(e){const t=Lse(e);if(t)return t.detail?`${t.short}

${t.detail}`:t.short}const $se=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),XD={:"   .   .",:"   .",:"  .",:"    .",:"  .",:"  .  .",:"   .",:"  .   .",:"   .",:"  .",:"   .",:"   .",:"  .",:"   .",:"   .",:"   .",:"   .",:"   .",:"  .",:"  .",:"   .",:"    .",:"   .",:"   .",:"   .",:"   .",:"   .",:"   .",:"  .",:"   .",:"  .  .",:"   .",:"   .",:"  .",:"  .",:"   .",:"    .",:"      .",:"  .",:"  .",:"    .",:"  .",:"  .",:"   .",:"  .",:"   .",:"   .",:"   .",:"   .",:"  .",:"  .",:"  .",:"    .",:"   .",:"  .",:"    .",:"     .",:"   .",:"  .",:"     .",:"    .",:"   .",:"    .",:"    .",:"   .",:"   .",:" .",:"   .",:"   .",:"   .",:"   ."};function Bse(e){if($se(XD,e))return XD[e]}const JD={:"(/)",:"(/)",:"(/)",:"(/)",:"(/)"},zse={:{title:"",short:"    .",detail:"       ."},:{title:"",short:"      .",detail:"  +     ."},:{title:"",short:"     .",detail:"  +     ."},:{title:"",short:"     .",detail:"  +  ."},:{title:"",short:"      .",detail:"     ."},:{title:"",short:"    ."},:{title:"",short:"    .",detail:"  +    ."},:{title:"",short:"()    .",hint:"     "},:{title:"",short:"     ."},:{title:"",short:"    ."},:{title:"",short:"  +    ."},:{title:"",short:"   ."},:{title:"",short:"   ."},:{title:"",short:"    ."},:{title:"",short:"   ."},:{title:"",short:"      ."},:{title:"",short:"    ."},:{title:"",short:"      ."},:{title:"",short:"    ."},:{title:"",short:"       ."},:{title:"",short:"    ."},:{title:"",short:"     ."},:{title:"",short:"     ."},:{title:"",short:"    ."}};function Use(e){const t=/^(|)(||||)$/.exec(e);if(!t)return null;const n=t[1],r=t[2];return n===""?{kind:"",group:r}:{kind:"",group:r}}function Fse(e,t){return e===""?{title:`${t}`,short:`${JD[t]}() //   .`,hint:"( ) +  +   "}:{title:`${t}`,short:`${JD[t]}()     .`,hint:" X /  O"}}function Hse(e){const t=Use(e);return t?Fse(t.kind,t.group):zse[e]}function Gse(e){const t=Hse(e);if(t)return t.detail?`${t.short}

${t.detail}`:t.short}const qse={:{title:"",text:"()  /  .   ."},:{title:"",text:" (//)     .  ."},:{title:"",text:"       .     ."},:{title:"",text:" (/)    ( ).    ."},:{title:"",text:" (/)   ,           ."}};function Yse(e){return qse[e]?.text}const Kse=e=>{switch(e){case"":return"( )";case"":return"";case"":return"()"}},Wse={BUNIL_PICK:{title:"",text:"    //     ."},BUNIL_FALLBACK_USE_WOLRYEONG:{title:" ",text:"    ()    ."},DANRYEONG_CONFIRMED_BY_EMIT:{title:" ",text:"      ."},WANGJI_FIXED_JUNGI:{title:"",text:"       ."},SAENGJI_EMITTED_ONE:{title:" ",text:"        ."},SAENGJI_EMITTED_MULTI:{title:"  ",text:"          ."},SAENGJI_NOT_EMITTED_USE_JUNGI:{title:" ",text:"        ."},GOJI_SAMHAP_USE_JUNGI:{title:" + ",text:"      ."},GOJI_EARLY_JEOLIP_USE_CHOGI:{title:" +  ",text:"   12    ."},GOJI_LATE_JEOLIP_USE_JUNGI:{title:" +  ",text:"   12    ."},NEUTRALIZED:{title:"",text:"       ."},EX_GEONLOK:{title:" ",text:"       ."},EX_YANGIN:{title:" ",text:"       ."},EX_WOLGEOP:{title:" ",text:"        ."},EX_EXCLUDED_BIGEOP:{title:" ",text:"   ."}},Vse={:{title:"",text:"      ."},:{title:"",text:"      ."},:{title:"",text:"      ."},:{title:"",text:"      ."},:{title:"",text:"      ."},:{title:"",text:"      ."},"()":{title:"()",text:"      ."},:{title:"",text:"      ."},:{title:"",text:"      ."},:{title:"",text:"/       ."},:{title:"",text:"/        ."},:{title:"",text:"/       ."}},Zse=e=>e.replace(/^\s*:\s*/,"").trim();function Xse(e){const t=Zse(e);return Vse[t]}function Jse(e){const t=Wse[e.kind];if(t)return"from"in e?{...t,text:`${t.text} ( : ${Kse(e.from)})`}:t}function Qse(e){const{pillars:t,tab:n,birthDate:r,emittedStems:i,otherBranches:a,isNeutralized:o,mapping:l,unified:u}=e,[d,h,p,b]=t,x=J=>J&&J.length>=1?J.charAt(0):"",k=J=>J&&J.length>=2?J.charAt(1):"",S=k(h),_=x(p),T=r instanceof Date&&!Number.isNaN(r.getTime())?r:new Date,N=[x(d),x(h),x(p),x(b)].filter(J=>!!(J&&J.length===1)),j=[k(d),k(p),k(b)].filter(J=>!!(J&&J.length===1)),C=T6({dayStem:_,monthBranch:S,date:T,pillars:t,emittedStems:i??N,otherBranches:a??j,isNeutralized:o,mapping:l}),M=C.reasonTokens??[],P=C.reason??[],$=[` : ${C.||"-"}`,` : ${C.||"-"}`,` : ${C.||"-"}`,` : ${C.||"-"}`,` : ${C.||"-"}`],U=[` : ${C.||"-"}`],Y=Array.isArray(C.)&&C..length>0?C..map(J=>` : ${J}`):[" : -"],W=Nse(t),H=[...W.length?W.map(J=>`${J}`):[]],V=[...xse(t,l,u)],X=({text:J,color:oe})=>{const fe={violet:"bg-violet-100 text-violet-800 border-violet-200 dark:bg-violet-900/30 dark:text-violet-200 dark:border-violet-800",amber:"bg-amber-100 text-amber-800 border-amber-200 dark:bg-amber-900/30 dark:text-amber-200 dark:border-amber-800",blue:"bg-blue-100 text-blue-800 border-blue-200 dark:bg-blue-900/30 dark:text-blue-200 dark:border-blue-800",green:"bg-green-100 text-green-800 border-green-200 dark:bg-green-900/30 dark:text-green-200 dark:border-green-800",red:"bg-red-100 text-red-800 border-red-200 dark:bg-red-900/30 dark:text-red-200 dark:border-red-800"};return g.jsx("span",{className:`inline-block text-xs px-2 py-1 rounded-full border whitespace-nowrap ${fe[oe]}`,title:J,children:J})},Z=({children:J})=>g.jsx("li",{className:"!flex flex-wrap gap-1 p-1 rounded-sm",children:J}),[q,Q]=w.useState(null),ne=({text:J})=>{const oe=J.replace(/^\s*:\s*/,"").trim(),fe=w.useMemo(()=>Ise(oe),[oe]),he=`outer:${oe}`,ke=q===he;return fe?g.jsxs("span",{className:"relative inline-flex",children:[g.jsx("button",{type:"button",onClick:()=>Q(ke?null:he),className:"inline-flex cursor-pointer",title:fe,children:g.jsx(X,{text:J,color:"blue"})}),ke&&g.jsx("div",{className:"absolute z-10 left-0 top-full mt-1 w-[180px] text-[11px] leading-4 rounded-md border border-neutral-200 dark:border-neutral-700 bg-white dark:bg-neutral-900 text-neutral-700 dark:text-neutral-200 p-2 shadow text-center",children:fe})]}):g.jsx(X,{text:J,color:"blue"})},ue=({text:J})=>{const oe=J.trim(),fe=w.useMemo(()=>Bse(oe),[oe]),he=`mulsang:${oe}`,ke=q===he;return fe?g.jsxs("span",{className:"relative inline-flex",children:[g.jsx("button",{type:"button",onClick:()=>Q(ke?null:he),className:"inline-flex cursor-pointer",title:fe,children:g.jsx(X,{text:J,color:"green"})}),ke&&g.jsx("div",{className:"absolute z-10 left-0 top-full mt-1 w-[180px] text-[11px] leading-4 rounded-md border border-neutral-200 dark:border-neutral-700 bg-white dark:bg-neutral-900 text-neutral-700 dark:text-neutral-200 p-2 shadow text-center",children:fe})]}):g.jsx(X,{text:J,color:"green"})},se=({text:J})=>{const oe=J.trim(),fe=w.useMemo(()=>Gse(oe),[oe]),he=`structure:${oe}`,ke=q===he;return fe?g.jsxs("span",{className:"relative inline-flex",children:[g.jsx("button",{type:"button",onClick:()=>Q(ke?null:he),className:"inline-flex cursor-pointer",title:fe,children:g.jsx(X,{text:J,color:"red"})}),ke&&g.jsx("div",{className:"absolute z-10 left-0 top-full mt-1 w-[180px] text-[11px] leading-4 rounded-md border border-neutral-200 dark:border-neutral-700 bg-white dark:bg-neutral-900 text-neutral-700 dark:text-neutral-200 p-2 shadow text-center",children:fe})]}):g.jsx(X,{text:J,color:"red"})},B=({text:J,color:oe})=>{const fe=J.trim(),he=fe.split(":")[0]?.trim()??fe,ke=w.useMemo(()=>Yse(he),[he]),re=`term:${he}`,xe=q===re;return ke?g.jsxs("span",{className:"relative inline-flex",children:[g.jsx("button",{type:"button",onClick:()=>Q(xe?null:re),className:"inline-flex cursor-pointer",title:ke,children:g.jsx(X,{text:J,color:oe})}),xe&&g.jsx("div",{className:"absolute z-10 left-0 top-full mt-1 w-[180px] text-[11px] leading-4 rounded-md border border-neutral-200 dark:border-neutral-700 bg-white dark:bg-neutral-900 text-neutral-700 dark:text-neutral-200 p-2 shadow text-center",children:ke})]}):g.jsx(X,{text:J,color:oe})},K=({text:J})=>{const oe=w.useMemo(()=>Xse(J),[J]),fe=`naegyeok:${J}`,he=q===fe;return oe?g.jsxs("span",{className:"relative inline-flex",children:[g.jsx("button",{type:"button",onClick:()=>Q(he?null:fe),className:"inline-flex cursor-pointer",title:oe.text,children:g.jsx(X,{text:J,color:"amber"})}),he&&g.jsx("div",{className:"absolute z-10 left-0 top-full mt-1 w-[200px] text-[11px] leading-4 rounded-md border border-neutral-200 dark:border-neutral-700 bg-white dark:bg-neutral-900 text-neutral-700 dark:text-neutral-200 p-2 shadow text-center",children:oe.text})]}):g.jsx(X,{text:J,color:"amber"})},ie=({token:J,fallback:oe,idx:fe})=>{const he=Jse(J),ke=he?.title??oe,re=he?.text??oe,xe=`reason:${J.kind}:${"from"in J?J.from:""}:${fe}`,Ne=q===xe;return g.jsxs("span",{className:"relative inline-flex",children:[g.jsx("button",{type:"button",onClick:()=>Q(Ne?null:xe),className:"inline-flex cursor-pointer",title:re,children:g.jsx(X,{text:ke,color:"amber"})}),Ne&&g.jsx("div",{className:"absolute z-10 left-0 top-full mt-1 w-[200px] text-[11px] leading-4 rounded-md border border-neutral-200 dark:border-neutral-700 bg-white dark:bg-neutral-900 text-neutral-700 dark:text-neutral-200 p-2 shadow text-center",children:re})]})};return g.jsxs("div",{className:"p-4 rounded-xl bg-neutral-100 dark:bg-neutral-900 space-y-3 text-sm","data-revkey":`gyeok:${n}|${t.join("")}|${$.join(",")}|${U.join(",")}|${Y.join(",")}`,children:[g.jsx("div",{className:"font-bold text-base",children:"   "}),g.jsx("div",{className:"text-xs text-amber-500 dark:text-amber-400 mb-2",children:"*        ."}),g.jsxs("ul",{className:"space-y-1",children:[g.jsx(Z,{children:$.map(J=>g.jsx(B,{text:J,color:"violet"},J))}),g.jsx(Z,{children:U.map(J=>g.jsx(K,{text:J},J))}),g.jsx(Z,{children:Y.map(J=>g.jsx(ne,{text:J},J))}),g.jsx(Z,{children:H.map(J=>g.jsx(ue,{text:J},J))}),g.jsx(Z,{children:V.map(J=>g.jsx(se,{text:J},J))})]}),M.length>0?g.jsxs("div",{className:"mt-2",children:[g.jsx("div",{className:"text-xs text-neutral-600 dark:text-neutral-400",children:" "}),g.jsx("div",{className:"mt-1",children:g.jsx(Z,{children:M.map((J,oe)=>g.jsx(ie,{token:J,fallback:P[oe]??J.kind,idx:oe},`${J.kind}-${oe}`))})})]}):C.reason.length>0?g.jsxs("div",{className:"mt-2 text-xs text-neutral-600 dark:text-neutral-400",children:[": ",C.reason.join(" / ")]}):null]})}const ele=Object.fromEntries(Ka..map((e,t)=>[e,Hr[t]])),tle=Object.fromEntries(Hr.map((e,t)=>[e,Ka.[t]])),nle=Object.fromEntries(Ka..map((e,t)=>[e,ui[t]])),rle=Object.fromEntries(ui.map((e,t)=>[e,Ka.[t]])),ile=e=>ele[e]??e,ale=e=>nle[e]??e,ole=e=>tle[e]??e,sle=e=>rle[e]??e;function lle(e){const t={...e};for(const n of Object.keys(e)){const r=/[]/.test(n)?ile(n):ole(n);r&&t[r]===void 0&&(t[r]=e[n])}return t}function kA(e){const t={...e};for(const n of Object.keys(e)){const r=/[]/.test(n)?ale(n):sle(n);r&&t[r]===void 0&&(t[r]=e[n])}return t}const cle={:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},ule={:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},j6={:[{stem:"",ratio:1,main:!0}],:[{stem:"",ratio:1,main:!0}],:[{stem:"",ratio:.2},{stem:"",ratio:.3},{stem:"",ratio:.5,main:!0}],:[{stem:"",ratio:.2},{stem:"",ratio:.3},{stem:"",ratio:.5,main:!0}],:[{stem:"",ratio:.3},{stem:"",ratio:.7,main:!0}],:[{stem:"",ratio:.3},{stem:"",ratio:.7,main:!0}],:[{stem:"",ratio:1,main:!0}],:[{stem:"",ratio:1,main:!0}],:[{stem:"",ratio:.2},{stem:"",ratio:.3},{stem:"",ratio:.5,main:!0}],:[{stem:"",ratio:.2},{stem:"",ratio:.3},{stem:"",ratio:.5,main:!0}],:[{stem:"",ratio:.3},{stem:"",ratio:.7,main:!0}],:[{stem:"",ratio:.3},{stem:"",ratio:.7,main:!0}],:[{stem:"",ratio:1,main:!0}],:[{stem:"",ratio:1,main:!0}],:[{stem:"",ratio:.2},{stem:"",ratio:.3},{stem:"",ratio:.5,main:!0}],:[{stem:"",ratio:.2},{stem:"",ratio:.3},{stem:"",ratio:.5,main:!0}],:[{stem:"",ratio:.3},{stem:"",ratio:.7,main:!0}],:[{stem:"",ratio:.3},{stem:"",ratio:.7,main:!0}],:[{stem:"",ratio:1,main:!0}],:[{stem:"",ratio:1,main:!0}],:[{stem:"",ratio:.2},{stem:"",ratio:.3},{stem:"",ratio:.5,main:!0}],:[{stem:"",ratio:.2},{stem:"",ratio:.3},{stem:"",ratio:.5,main:!0}],:[{stem:"",ratio:.3},{stem:"",ratio:.7,main:!0}],:[{stem:"",ratio:.3},{stem:"",ratio:.7,main:!0}]},dle={...j6,:[{stem:"",ratio:.2},{stem:"",ratio:.3},{stem:"",ratio:.5,main:!0}],:[{stem:"",ratio:.2},{stem:"",ratio:.3},{stem:"",ratio:.5,main:!0}],:[{stem:"",ratio:.2},{stem:"",ratio:.2},{stem:"",ratio:1,main:!0}],:[{stem:"",ratio:.2},{stem:"",ratio:.2},{stem:"",ratio:1,main:!0}],:[{stem:"",ratio:.2},{stem:"",ratio:.3},{stem:"",ratio:.7,main:!0}],:[{stem:"",ratio:.2},{stem:"",ratio:.3},{stem:"",ratio:.7,main:!0}],:[{stem:"",ratio:.2},{stem:"",ratio:.3},{stem:"",ratio:.7,main:!0}],:[{stem:"",ratio:.2},{stem:"",ratio:.3},{stem:"",ratio:.7,main:!0}]},QD=lle(cle),eP=kA(ule);kA(j6);kA(dle);const fle=["","","","",""];function hle(){const[e,t]=w.useState("   "),[n,r]=w.useState(""),[i,a]=w.useState(!0);return{bigTab:e,setBigTab:t,blendTab:n,setBlendTab:r,demoteAbsent:i,setDemoteAbsent:a}}const mle={:{:"#13B713",:"#DC143C",:"#F0B100",:"#a0a0a0",:"#353535"},:{:"#DC143C",:"#F0B100",:"#a0a0a0",:"#353535",:"#13B713"},:{:"#F0B100",:"#a0a0a0",:"#353535",:"#13B713",:"#DC143C"},:{:"#a0a0a0",:"#353535",:"#13B713",:"#DC143C",:"#F0B100"},:{:"#353535",:"#13B713",:"#DC143C",:"#F0B100",:"#a0a0a0"}},ple={:"",:"",:"",:"",:"",:"",:"",:"",:"",:""};function O6(e){const t=ple[e]??"";return mle[t]}const gle=Object.fromEntries(Ka..map((e,t)=>[e,Hr[t]])),ble=Object.fromEntries(Hr.map((e,t)=>[e,Ka.[t]])),yle=Object.fromEntries(Ka..map((e,t)=>[e,ui[t]])),vle=Object.fromEntries(ui.map((e,t)=>[e,Ka.[t]])),xle=e=>gle[e]??e,_le=e=>yle[e]??e,wle=e=>ble[e]??e,Sle=e=>vle[e]??e;function N6(e){const t={...e};for(const n of Object.keys(e)){if(n.length<2)continue;const r=n.charAt(0),i=n.charAt(1),a=/[]/.test(r)||/[]/.test(i)?`${xle(r)}${_le(i)}`:`${wle(r)}${Sle(i)}`;t[a]===void 0&&(t[a]=e[n])}return t}const C6={:1,:.2,:1,:1,:.5,:.7,:0,:.5,:1,:1,:0,:1,:0,:0,:.3,:0,:.5,:.3,:0,:0,:.3,:0,:.8,:.3,:0,:.5,:0,:0,:.3,:.3,:0,:.3,:0,:0,:.8,:0,:0,:.8,:0,:0,:.5,:0,:1,:.5,:0,:0,:.7,:0,:1,:.5,:.7,:0,:.2,:.7,:1,:.7,:.7,:1,:.2,:.7},kle={...C6,:.8,:.3,:.5,:.5,:.2,:.2,:.8,:.2},Ele=N6(C6),Ale=N6(kle),Tle={:"",:"",:"",:"",:""},jle={:"",:"",:"",:"",:""},Ole={:"",:"",:"",:"",:""},Nle={:"",:"",:"",:"",:""},Cle=e=>Bn[e]??e,Mle=e=>Kn[e]??e;function M6(e){return!e||e.length<2?"":`${Cle(e[0])}${Mle(e[1])}`}const D6=e=>e&&e.length>=1?e[0]:"",P6=e=>e&&e.length>=2?e[1]:"";function R6(e){return{:e,:Tle[e],:jle[e],:Ole[e],:Nle[e]}}const L6={:["","","","","","","",""],:["","","","","","","",""],:["","","","","","","",""],:["","","","","","","",""],:["","","","","","","","","","","",""],:["","","","","","","","","","","",""],:["","","","","","","","","","","",""],:["","","","","","","","","","","",""],:["","","","","","","",""],:["","","","","","","",""]};function Dle(e,t){const n=(e??[]).slice(0,4).map(M6);if(n.length!==4||n.some(b=>b.length<2))return{flags:{:{:!1,:!1,:!1},:{:!1,:!1,:!1},:{:!1,:!1,:!1},:{:!1,:!1,:!1},:{:!1,:!1,:!1}},monthBranch:"",dayEl:""};const r=D6(n[2]),i=r===""||r===""?"":r===""||r===""?"":r===""||r===""?"":r===""||r===""?"":"",a=n.map(b=>P6(b)),o={:{:!1,:!1,:!1},:{:!1,:!1,:!1},:{:!1,:!1,:!1},:{:!1,:!1,:!1},:{:!1,:!1,:!1}},l=L6[r]??[],u=a[1];l.includes(u)&&(o..=!0,o..=!0);const d=a[2];l.includes(d)&&(o..=!0,o..=!0);const h=R6(i).,p=t[h]??0;return o..=p>=30,{flags:o,monthBranch:u,dayEl:i}}function I6(e,t){const n=(e??[]).slice(0,4).map(M6);if(n.length<3||n[0].length<2||n[1].length<2||n[2].length<2){const k={:!1,:!1,:!1};return{flags:{:{...k},:{...k},:{...k},:{...k},:{...k},:{...k},:{...k},:{...k},:{...k},:{...k}},monthBranch:"",dayEl:""}}const r=D6(n[2]),i=r===""||r===""?"":r===""||r===""?"":r===""||r===""?"":r===""||r===""?"":"",a=n.map(k=>P6(k)),o={:!1,:!1,:!1},l={:{...o},:{...o},:{...o},:{...o},:{...o},:{...o},:{...o},:{...o},:{...o},:{...o}},u=L6[r]??[],d=a[1];u.includes(d)&&(l..=!0,l..=!0,l..=!0,l..=!0);const h=a[2];u.includes(h)&&(l..=!0,l..=!0,l..=!0,l..=!0);const p=R6(i).;return(t[p]??0)>=30&&(l..=!0,l..=!0,l..=!0,l..=!0),{flags:l,monthBranch:d,dayEl:i}}const Ple=Object.fromEntries(Object.entries(Bn).map(([e,t])=>[t,e])),Rle=Object.fromEntries(Object.entries(Kn).map(([e,t])=>[t,e])),Lle=e=>Bn[e]??e,Ile=e=>Kn[e]??e;function $le(e){return!e||e.length<2?"":`${Lle(e[0])}${Ile(e[1])}`}function Pc(e){return QD[e]??QD[Ple[e]??""]}function Rc(e){return eP[e]??eP[Rle[e]??""]}const s1=["year","month","day","hour"],Ble={year:{stem:10,branch:10},month:{stem:15,branch:30},day:{stem:25,branch:25},hour:{stem:15,branch:15}},zle={year:{stem:10,branch:10},month:{stem:15,branch:45},day:{stem:25,branch:40},hour:{stem:15,branch:12.5}},Ule=new Set(["","","","",""]),Fle=new Set(["","","","","",""]),Hle=new Set(["","","",""]),l1=e=>Ule.has(e)?"":"",c1=e=>{const t=Fle.has(e)?"":"";return Hle.has(e)?t===""?"":"":t};function tP(e){const t=e.reduce((l,u)=>l+u,0);if(t<=0)return e.map(()=>0);const n=e.map(l=>l*100/t),r=n.map(l=>Math.floor(l+.5)),i=100-r.reduce((l,u)=>l+u,0);if(i===0)return r;const a=n.map((l,u)=>({i:u,frac:l-Math.floor(l+.5)})).sort((l,u)=>u.frac-l.frac),o=r.slice();if(i>0)for(let l=0;l<i;l++)o[a[l].i]+=1;else for(let l=0;l<-i;l++)o[a[a.length-1-l].i]-=1;return o}function Gle(e,t){return e===0?t?1:.8:e===1?t?.6:.5:t?.3:.2}const R0={:.15,:.1,:-.15,:-.2,:-.25},vs={:"",:"",:"",:"",:""},cu={:"",:"",:"",:"",:""},Ao={:"",:"",:"",:"",:""},Mv={:"",:"",:"",:"",:""};function L0(e,t){return e===t?"":vs[t]===e?"":vs[e]===t?"":Ao[e]===t?"":Ao[t]===e?"":""}const Lc=e=>e&&e.length>=1?e[0]:"",Ic=e=>e&&e.length>=2?e[1]:"";function qle(e,t){const n=e.reduce((u,d)=>u+d,0);if(n<=0||t<=0)return new Array(e.length).fill(0);const r=e.map(u=>u/n*t),i=r.map(u=>Math.floor(u));let a=t-i.reduce((u,d)=>u+d,0);const o=r.map((u,d)=>({i:d,frac:u-Math.floor(u)})).sort((u,d)=>d.frac-u.frac),l=i.slice();for(let u=0;u<o.length&&a>0;u++)l[o[u].i]+=1,a-=1;return l}function nP(e,t){switch(e){case"":return t;case"":return vs[t];case"":return Ao[t];case"":return Mv[t];case"":return cu[t];default:return t}}const rP={:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},Yle=["","","","",""],Kle={:{a:"",b:"",aVal:0,bVal:0},:{a:"",b:"",aVal:0,bVal:0},:{a:"",b:"",aVal:0,bVal:0},:{a:"",b:"",aVal:0,bVal:0},:{a:"",b:"",aVal:0,bVal:0}},iP={:0,:0,:0,:0,:0,:0,:0,:0,:0,:0},Wle={:{:!1,:!1,:!1},:{:!1,:!1,:!1},:{:!1,:!1,:!1},:{:!1,:!1,:!1},:{:!1,:!1,:!1}};function Vle(e){return e.length===4&&!!e[0]&&e[0].length>=2&&!!e[1]&&e[1].length>=2&&!!e[2]&&e[2].length>=2}function Zle(e){const t=Yle.map(n=>({name:n,value:0,color:"#999999"}));return{overlay:{totalsSub:{...iP},perStemAugBare:{},perStemAugFull:{}},totals:t,perTenGod:{...Kle},PerTenGodSub:{...iP},elementScoreRaw:e,deukFlags:{...Wle},perStemElement:{},perStemElementScaled:{},stemScoreRaw:{},elementPercent100:{:0,:0,:0,:0,:0}}}function Xle(e,t){const n=e[2]?.[0]??"",r=t??n;return{dayStem:r,dayEl:r===""||r===""?"":r===""||r===""?"":r===""||r===""?"":r===""||r===""?"":""}}function Zk(e){const{pillars:t,dayStem:n,mode:r,debug:i,useHarmonyOverlay:a,criteriaMode:o,luck:l}=e,u=o==="modern"?Ble:zle,d=r==="classic"?Ale:Ele,h={:0,:0,:0,:0,:0},p={},b=(t??[]).slice(0,4).map($le);if(!Vle(b))return Zle(h);const{dayStem:x,dayEl:k}=Xle(b,n),S=[{val:0},{val:0},{val:0},{val:0}],_=[[],[],[],[]];for(const B of b){if(!B)continue;const K=B.charAt(0),ie=B.charAt(1);p[K]=(p[K]??0)+50;const J=rP[ie];J&&(p[J]=(p[J]??0)+50)}for(let B=0;B<4;B++){const K=b[B];if(!K||K.length<2)continue;const ie=s1[B],J=Lc(K),oe=Ic(K),fe=u[ie],he=Pc(J);he&&(h[he]+=fe.stem,S[B]={stem:J,el:he,pol:l1(J),val:fe.stem});const ke=Rc(oe);ke&&(h[ke]+=fe.branch,_[B].push({el:ke,pol:c1(oe),val:fe.branch}))}for(let B=0;B<4;B++){const K=b[B];if(!K||K.length<2)continue;const ie=s1[B],J=d[K]??0;if(J===0)continue;const oe=Lc(K),fe=Pc(oe);if(!fe)continue;const he=u[ie].stem*J;h[fe]+=he,S[B].val+=he}for(let B=0;B<4;B++){const K=b[B];if(!K||K.length<2)continue;const ie=Ic(K),J=Rc(ie);if(!J)continue;const oe=u[s1[B]].branch,fe=c1(ie);let he=0;const ke=[B];B-1>=0&&ke.push(B-1),B+1<=3&&ke.push(B+1),B-2>=0&&ke.push(B-2),B+2<=3&&ke.push(B+2);const re=Array.from(new Set(ke));for(const xe of re){if(!b[xe]||b[xe].length<2)continue;const Ne=Lc(b[xe]),ye=Pc(Ne);if(!ye||ye!==J)continue;const Ze=l1(Ne)===fe,qe=Math.abs(xe-B),Me=Gle(qe,Ze);he+=oe*Me}he!==0&&(h[J]+=he,_[B].push({el:J,pol:fe,val:he}))}for(let B=0;B<4;B++){const K=b[B];if(!K||K.length<2)continue;const ie=Lc(K),J=Pc(ie);if(!J)continue;let oe=0;const fe=Ic(b[B]),he=Rc(fe);he&&(oe+=R0[L0(J,he)]);const ke=B===0?[1]:B===3?[2]:[B-1,B+1];for(const xe of ke){const Ne=Lc(b[xe]),ye=Pc(Ne);ye&&(oe+=R0[L0(J,ye)])}const re=S[B].val;if(re!==0&&oe!==0){const xe=Math.round(re*(1+oe)*10)/10,Ne=xe-re;h[J]+=Ne,S[B].val=xe}}for(let B=0;B<4;B++){const K=b[B];if(!K||K.length<2)continue;const ie=Ic(K),J=Rc(ie);if(!J)continue;let oe=0;const fe=Lc(b[B]),he=Pc(fe);he&&(oe+=R0[L0(J,he)]);const ke=B===0?[1]:B===3?[2]:[B-1,B+1];for(const xe of ke){if(!b[xe]||b[xe].length<2)continue;const Ne=Ic(b[xe]),ye=Rc(Ne);ye&&(oe+=R0[L0(J,ye)])}const re=_[B].reduce((xe,Ne)=>xe+Ne.val,0);if(re!==0&&oe!==0){const Ne=Math.round(re*(1+oe)*10)/10-re;h[J]+=Ne,_[B].length>0&&(_[B][0].val+=Ne)}}a&&oie(b,h);const T={dae:{stem:.04,branch:.04},se:{stem:.03,branch:.03},wol:{stem:.02,branch:.02},il:{stem:.01,branch:.01}},N=[];if(!(!l||l.tab==="")){let B=function(K,ie){const J=K?Re(K):"";if(!J||J.length<2)return;const oe=Lc(J),fe=Ic(J),he=Pc(oe),ke=Rc(fe),re=Math.max(1,(h.??0)+(h.??0)+(h.??0)+(h.??0)+(h.??0)),xe=T[ie];if(he){const Ne=Math.round(re*xe.stem);h[he]+=Ne,N.push({stem:oe,el:he,pol:l1(oe),val:Ne})}if(ke){const Ne=Math.round(re*xe.branch);h[ke]+=Ne,N.push({el:ke,pol:c1(fe),val:Ne})}};B(l.dae,"dae"),(l.tab===""||l.tab===""||l.tab==="")&&B(l.se,"se"),(l.tab===""||l.tab==="")&&B(l.wol,"wol"),l.tab===""&&B(l.il,"il")}const j={:0,:0,:0,:0,:0};Object.entries(h).forEach(([B,K])=>{const ie=Y(B,k);j[ie]+=K});const C=["","","","",""],M=tP(C.map(B=>j[B])),P=O6(x),$=C.map((B,K)=>({name:B,value:M[K],color:P[B]})),U={:0,:0,:0,:0,:0,:0,:0,:0,:0,:0};function Y(B,K){return B===K?"":vs[K]===B?"":Ao[K]===B?"":Ao[B]===K?"":cu[K]===B?"":""}function W(B,K){switch(Y(B,k)){case"":U.+=K*.5,U.+=K*.5;break;case"":U.+=K*.5,U.+=K*.5;break;case"":U.+=K*.5,U.+=K*.5;break;case"":U.+=K*.5,U.+=K*.5;break;case"":U.+=K*.5,U.+=K*.5;break}}Object.entries(h).forEach(([B,K])=>{K>0&&W(B,K)});const H={:{a:"",b:"",aVal:0,bVal:0},:{a:"",b:"",aVal:0,bVal:0},:{a:"",b:"",aVal:0,bVal:0},:{a:"",b:"",aVal:0,bVal:0},:{a:"",b:"",aVal:0,bVal:0}};for(const B of C){const K=$.find(ke=>ke.name===B)?.value??0,ie=H[B].a,J=H[B].b,oe=U[ie]??0,fe=U[J]??0,he=oe+fe;if(he>0){const ke=Math.floor(K*oe/he+.5),re=K-ke;H[B].aVal=ke,H[B].bVal=re}else H[B].aVal=Math.floor(K/2+.5),H[B].bVal=K-H[B].aVal}const{flags:z}=Dle(b,h),V={};S.forEach(B=>{if(B.stem&&B.el&&B.val){const K=`${B.stem}${B.el}`;V[K]=(V[K]??0)+B.val}});for(let B=0;B<4;B++){const K=b[B];if(!K||K.length<2)continue;const ie=Ic(K),J=rP[ie],oe=Rc(ie);if(!J||!oe)continue;const fe=`${J}${oe}`,he=_[B].reduce((ke,re)=>ke+re.val,0);V[fe]=(V[fe]??0)+he}const X=["","","","","","","","","",""],Z={};X.forEach(B=>{Z[B]=0}),C.forEach(B=>{const K=$.find(re=>re.name===B)?.value??0,ie=nP(B,k),J=Object.entries(V).filter(([re])=>re.endsWith(ie)),oe=J.map(([re])=>re),fe=J.map(([,re])=>re),he=Math.max(0,Math.round(K*10)),ke=qle(fe.length?fe:[1,1],he);if(oe.length===2)Z[oe[0]]=(ke[0]??Math.round(he/2))/10,Z[oe[1]]=(ke[1]??he-(ke[0]??0))/10;else if(oe.length===1)Z[oe[0]]=he/10;else{const re=ie===""?["",""]:ie===""?["",""]:ie===""?["",""]:ie===""?["",""]:["",""],xe=Math.floor(he/2),Ne=he-xe;Z[re[0]]+=xe/10,Z[re[1]]+=Ne/10}});const q=["","","","",""],Q={:0,:0,:0,:0,:0};for(const B of $){const K=nP(B.name,k);Q[K]+=B.value}const ne=tP(q.map(B=>Q[B])),ue={:ne[0],:ne[1],:ne[2],:ne[3],:ne[4]};return i&&console.log({elementScore:h,totals:$,perTenGod:H,perStemRaw:V,perStemElementScaled:Z,elementPercent100:ue}),{overlay:{totalsSub:U,perStemAugBare:V,perStemAugFull:Z},totals:$,perTenGod:H,PerTenGodSub:U,stemScoreRaw:p,elementScoreRaw:h,deukFlags:z,perStemElement:V,perStemElementScaled:Z,elementPercent100:ue}}const I0={:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},Jle=["","","","",""];function aP(e){return Jle.includes(e)}const Qle={:"",:"",:"",:"",:""},ece={:"",:"",:"",:"",:""},tce={:"",:"",:"",:"",:""},nce={:"",:"",:"",:"",:""},Xk={:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},rce=["","","","","","","","","",""],ice={natal:50,dae:30,se:20,wol:7,il:3};function ly(e){if(!e)return null;const t=e.trim();if(["","","","","","","","","",""].includes(t))return t;if(Bn[t])return Bn[t];if(["","","","","","","","","","","",""].includes(t))return I0[t]??null;if(Kn[t])return I0[Kn[t]]??null;const n=t.charAt(0);return Bn[n]?Bn[n]:["","","","","","","","","",""].includes(n)?n:Kn[n]?I0[Kn[n]]??null:["","","","","","","","","","","",""].includes(n)?I0[n]??null:null}function ace(e,t){const n=Xk[e],r=Xk[t];if(!n||!r)return"";let i;r===n?i="":r===Qle[n]?i="":r===ece[n]?i="":r===tce[n]?i="":r===nce[n]?i="":i="";const a=aP(e)===aP(t);switch(i){case"":return a?"":"";case"":return a?"":"";case"":return a?"":"";case"":return a?"":"";case"":return a?"":""}}function cy(e){const t=Object.entries(e),n=t.reduce((d,[,h])=>d+(h>0?h:0),0);if(n<=0)return Object.fromEntries(t.map(([d])=>[d,0]));const r=t.map(([d,h])=>[d,(h>0?h:0)*100/n]),i=r.map(([d,h])=>[d,Math.round(h)]);let a=i.reduce((d,[,h])=>d+h,0);const o=r.map(([d,h])=>[d,h-Math.round(h)]).sort((d,h)=>h[1]-d[1]),l=Object.fromEntries(i.map(([d,h])=>[d,h]));let u=0;for(;a<100&&u<o.length;)l[o[u][0]]+=1,a+=1,u+=1;return l}function oP(e,t){const n={:0,:0,:0,:0,:0,:0,:0,:0,:0,:0};for(const[r,i]of Object.entries(e??{})){if(i<=0)continue;const a=ly(r);if(!a)continue;const o=ace(t,a);n[o]+=i}return cy(n)}function oce(e){return{:{a:"",b:"",aVal:e.,bVal:e.},:{a:"",b:"",aVal:e.,bVal:e.},:{a:"",b:"",aVal:e.,bVal:e.},:{a:"",b:"",aVal:e.,bVal:e.},:{a:"",b:"",aVal:e.,bVal:e.}}}function sP(e){const t={};for(const[n,r]of Object.entries(e??{})){if(r<=0)continue;const i=ly(n);i&&(t[i]=(t[i]??0)+r)}return t}function lP(e){const n={...{:0,:0,:0,:0,:0,:0,:0,:0,:0,:0}};for(const r of rce){const i=Xk[r],a=`${r}${i}`;n[a]=Math.max(0,Math.round(e[r]??0))}return n}function cP(e){const t=["","","","",""],n={:0,:0,:0,:0,:0};for(const r of t)typeof e[r]=="number"&&(n[r]=e[r]);return n}function sce(e,t){const n=t?.dae?$0(t.dae):{},r=t?.se?$0(t.se):{},i=t?.wol?$0(t.wol):{},a=t?.il?$0(t.il):{},o={},l=[{kind:"natal",bare:e},{kind:"dae",bare:n},{kind:"se",bare:r},{kind:"wol",bare:i},{kind:"il",bare:a}];for(const{kind:d,bare:h}of l){const p=ice[d];if(!h||Object.keys(h).length===0)continue;const b=cy(h);for(const[x,k]of Object.entries(b))o[x]=(o[x]??0)+k*p}const u=Object.values(o).reduce((d,h)=>d+h,0);if(u>0)for(const d of Object.keys(o))o[d]=o[d]/u*100;return o}function lce(e){if(!e)return[];const t=ly(e.charAt(0)),n=ly(e.charAt(1));return[t,n].filter(Boolean)}function $0(e){const t=lce(e),n={};for(const r of t)n[r]=(n[r]??0)+1;return n}function Dv(e){const{natal:t,tab:n,chain:r,hourKey:i="unified"}=e,a=[Re(t[0]??""),Re(t[1]??""),Re(t[2]??""),Re(t[3]??"")],o=a[2]?.charAt(0)??"",{hiddenStemMode:l,hiddenStem:u}=Jc,d=l==="classic"?"classic":"hgc",h=r?{tab:n,dae:r.dae?Re(r.dae):void 0,se:(n===""||n===""||n==="")&&r.se?Re(r.se):void 0,wol:(n===""||n==="")&&r.wol?Re(r.wol):void 0,il:n===""&&r.il?Re(r.il):void 0}:{tab:n},p=Zk({pillars:a,dayStem:o,mode:d,criteriaMode:"modern",useHarmonyOverlay:!0,luck:h}),b=Zk({pillars:a,dayStem:o,mode:d,criteriaMode:"modern",useHarmonyOverlay:!0,luck:{tab:"",dae:void 0,se:void 0,wol:void 0,il:void 0}}),x=sP(p.perStemElementScaled),k=n===""?x:sce(x,r),S=cy(k),_=oP(k,o),T=oce(_),N=lP(S),j=sP(b.perStemElementScaled),C=oP(j,o),M=cy(j),P=lP(M);return{elementScoreRaw:p.elementScoreRaw,elementPercent100:p.elementPercent100,totals:p.totals,perStemElementScaled:p.perStemElementScaled,dayStem:o,mergedStems:S,perTenGodSub:_,perTenGod:T,overlay:{totalsSub:_,perStemAugBare:k,perStemAugFull:N},natalFixed:{elementScoreRaw:cP(b.elementScoreRaw),elementPercent100:cP(b.elementPercent100),totalsSub:C,overlay:{totalsSub:C,perStemAugBare:j,perStemAugFull:P}}}}const bo=["","","","",""],Ll={:0,:0,:0,:0,:0},cce=[{name:"",min:0,max:10},{name:"",min:10,max:20},{name:"",min:20,max:35},{name:"",min:35,max:45},{name:"",min:45,max:55},{name:"",min:55,max:65},{name:"",min:65,max:80},{name:"",min:80,max:100.0001}],uce={:{temp:"cold",wet:"wet"},:{temp:"cold",wet:"wet"},:{temp:"cold",wet:"wet"},:{temp:"mild",wet:"normal"},:{temp:"mild",wet:"normal"},:{temp:"mild",wet:"wet"},:{temp:"hot",wet:"normal"},:{temp:"hot",wet:"dry"},:{temp:"hot",wet:"wet"},:{temp:"mild",wet:"dry"},:{temp:"mild",wet:"dry"},:{temp:"mild",wet:"dry"}},u1=24,dce=[[60,0],[55,.01],[50,.03],[45,.06],[40,.1],[35,.18],[30,.32],[27,.48],[24,.62]],uy=20;Object.fromEntries(Object.entries(Bn).map(([e,t])=>[t,e]));Object.fromEntries(Object.entries(Kn).map(([e,t])=>[t,e]));const $6={:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},fce={:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""};function B6(e){return Math.max(0,Math.min(100,e))}function Wd(e,t,n){return Math.max(t,Math.min(n,e))}function hce(e){const t=B6(e);return cce.find(n=>t>=n.min&&t<n.max)?.name??""}function mce(e){const t=e?.[2]?.charAt(0)??"";return $6[t]??null}function pce(e){return(e?.[1]?.charAt(1)??"")||null}function z6(e){return Mv[e]}function gce(e){return e?{peer:e,resource:cu[e],leak:vs[e],wealth:Ao[e],officer:z6(e)}:null}function bce(e){const t={...Ll};for(const n of e){if(!n)continue;const r=n.charAt(0),i=n.charAt(1),a=$6[r],o=fce[i];a&&(t[a]+=10),o&&(t[o]+=6)}return t}function yce(e){const t=Object.values(e).reduce((r,i)=>r+i,0);if(t<=0)return{:20,:20,:20,:20,:20};const n={...Ll};return bo.forEach(r=>{n[r]=e[r]/t*100}),n}function vce(e){if(!e||e.length===0)return null;const t=e.reduce((r,i)=>r+(i?.value??0),0)||0;if(t<=0)return null;const n=r=>e.find(i=>i.name===r)?.value??0;return B6((n("")+n(""))/t*100)}function xce(e,t){return!e||!t?null:t===e?"":vs[e]===t?"":Ao[e]===t?"":z6(e)===t?"":cu[e]===t?"":null}function _ce(e){for(const[t,n]of dce)if(e>=t)return n;return 1}const uP=(e,t)=>Wd((uy-(t[e]??0))/uy,0,1),dP=(e,t)=>Wd(((t[e]??0)-uy)/uy,0,1);function wce(e,t,n,r){const i=xce(e,n);if(!e||!i)return 0;const a=Wd((50-t)/50,0,1),o=Wd((t-50)/50,0,1),l=uP(n,r),u=dP(n,r),d=uP(e,r),h=dP(e,r),p=6.5;let b=0;if(a>0)switch(i){case"":b=+(.3+.4*d+.15*l)*a;break;case"":b=+(.18+.45*d)*a;break;case"":b=-(.08+.2*(1-l)+.1*h)*a;break;case"":b=-(.22+.25*(1-l)+.1*(1-d))*a;break;case"":b=-(.35+.25*(1-l)+.1*(1-d))*a;break}else if(o>0)switch(i){case"":b=-(.25+.25*(1-l)+.2*h)*o;break;case"":b=-(.28+.2*h)*o;break;case"":b=+(.18+.2*l+.15*h)*o;break;case"":b=+(.22+.25*l+.1*h)*o;break;case"":b=+(.2+.2*l)*o;break}else switch(i){case"":b=.08*(d+l);break;case"":b=.05*d-.03*h;break;case"":b=.02*l-.02*u;break;case"":b=.01*l-.06*u;break;case"":b=-.05*(1-l);break}return Math.round(p*b*10)/10}function Sce(e,t,n){const r=["","",""].includes(t),i=["","","",""].includes(t),a={...Ll};if(r){const o=vs[e],l=Ao[e],u=Mv[e];a[o]+=28,a[l]+=22,a[u]+=20,n.get(o)?.push(":    ()"),n.get(l)?.push(":     "),n.get(u)?.push(":     ")}if(i){const o=cu[e],l=e;a[o]+=28,a[l]+=22,n.get(o)?.push(":     "),n.get(l)?.push(":     ")}return a}function fP(e,t){if(!e)return{...Ll};const n=uce[e]??{temp:"mild",wet:"normal"},r={...Ll};return n.temp==="cold"?(r.+=16,r.+=6,t.get("")?.push(":   "),t.get("")?.push(":  ")):n.temp==="hot"&&(r.+=14,r.+=6,t.get("")?.push(":   "),t.get("")?.push(":  ")),n.wet==="wet"?(r.+=8,r.+=4,t.get("")?.push(":   "),t.get("")?.push(":  ")):n.wet==="dry"&&(r.+=8,r.+=4,t.get("")?.push(":   "),t.get("")?.push(":  ")),r}function hP(e,t){const n={...Ll};for(const r of bo){const i=Ao[r],a=Math.max(0,(e[r]??0)-(e[i]??0));if(a<=0)continue;const o=vs[r],l=Math.round(a*.35);l>0&&(n[o]+=l,t.get(o)?.push(`: ${r}${i} `))}return n}function mP(e,t){const n={...Ll},r=Object.entries(e),i=Math.min(...r.map(([,o])=>o)),a=r.filter(([,o])=>o<=Math.max(6,i));for(const[o]of a)n[o]+=12,t.get(o)?.push(":  ");return n}const B0=()=>new Map(bo.map(e=>[e,[]]));function Vd(e,t){const n=mce(e),r=pce(e),i=bce(e),a=yce(i);let o=vce(t);if(o==null)if(!n)o=50;else{const H=n,z=cu[n],V=Object.values(i).reduce((X,Z)=>X+Z,0)||1;o=Math.min(100,Math.max(0,((i[H]??0)+(i[z]??0))/V*100))}const l=hce(o),u={...Ll},d=B0();if(n){const H=Sce(n,l,d);bo.forEach(z=>{u[z]+=H[z]??0})}const h=fP(r,d);bo.forEach(H=>{u[H]+=h[H]??0});const p=hP(i,d);bo.forEach(H=>{u[H]+=p[H]??0});const b=mP(i,d);bo.forEach(H=>{u[H]+=b[H]??0});const x=gce(n),k={:0,:0,:0,:0,:0};if(Array.isArray(t))for(const H of t)k[H.name]=H.value;if(o>=45&&o<=55&&x){const H=k.>=30||k.>=Math.max(k.,k.,k.,k.)+5;o<=50?(u[x.resource]+=14,d.get(x.resource)?.push(": -"),u[x.peer]+=10,d.get(x.peer)?.push(": -"),u[x.leak]+=6,d.get(x.leak)?.push(": -"),u[x.wealth]+=3,d.get(x.wealth)?.push(": -"),H&&(u[x.officer]=Math.round(u[x.officer]*.8*10)/10,d.get(x.officer)?.push(":   "))):(u[x.leak]+=14,d.get(x.leak)?.push(": -"),u[x.wealth]+=10,d.get(x.wealth)?.push(": -"),u[x.officer]+=6,d.get(x.officer)?.push(": -"),u[x.resource]+=3,d.get(x.resource)?.push(": -"))}bo.forEach(H=>{const z=wce(n,o,H,a);u[H]=Wd(Math.round((u[H]+z)*10)/10,0,999)});const _=o<50;bo.forEach(H=>{const z=a[H]??0,V=_&&n===H;if(z>=u1&&!V){const X=_ce(z);u[H]=Math.round(u[H]*X*10)/10;const Z=Math.min(14,Math.max(0,Math.ceil((z-u1)*.5)));Z>0&&(u[H]=Wd(u[H]-Z,0,999)),d.get(H)?.push(" ()")}});const T={:[],:[],:[],:[],:[]};if(n){const H=vs[n],z=Ao[n],V=Mv[n],X=n,Z=cu[n];T[H].push(""),T[z].push(""),T[V].push(""),T[X].push(""),T[Z].push("")}const N={:(i.??0)>0,:(i.??0)>0,:(i.??0)>0,:(i.??0)>0,:(i.??0)>0},j=H=>{const z=a[H]??0;return z>=u1&&!(_&&n===H)?z>=55?4:z>=45?3:2:N[H]?0:1},C=fP(r,B0()),M=hP(i,B0()),P=mP(i,B0()),$=bo.map(H=>({element:H,score:Math.round(u[H]*10)/10,via:kce(H,C,M,P),reasons:(d.get(H)??[]).slice(),tenGodHints:T[H]})).sort((H,z)=>{const V=j(H.element),X=j(z.element);return V!==X?V-X:z.score!==H.score?z.score-H.score:H.element.localeCompare(z.element)}),U=Ece(l,C,M,P),Y={:0,:0,:0,:0,:0},W=t?t.reduce((H,z)=>(H[z.name]=z.value,H),{...Y}):void 0;return{chosenType:U,ordered:$,debug:{band:l,overallPct:o,elementScore:i,tenGodTotals:W,monthBranch:r??void 0}}}function kce(e,t,n,r){const i=[];return(t[e]??0)>0&&i.push(""),(n[e]??0)>0&&i.push(""),(r[e]??0)>0&&i.push(""),i.length===0&&i.push(""),i}function Ece(e,t,n,r){if(["","","",""].includes(e))return"";const a=d=>Object.values(d).reduce((h,p)=>h+p,0),o=a(t),l=a(n),u=a(r);return o>Math.max(l,u)?"":l>=u?"":""}function Ace(e){const t=e.reduce((l,u)=>l+u,0);if(t<=0)return e.map(()=>0);const n=e.map(l=>l*100/t),r=n.map(l=>Math.round(l));let a=100-r.reduce((l,u)=>l+u,0);const o=n.map((l,u)=>({i:u,f:l-Math.round(l)})).sort((l,u)=>u.f-l.f);for(let l=0;l<o.length&&a>0;l++)r[o[l].i]+=1,a-=1;return r}const pP=["","","","",""];function Tce(e,t){const n=[Re(e[0]??""),Re(e[1]??""),Re(e[2]??""),Re(e[3]??"")],{elementScoreRaw:r}=Zk({pillars:n,criteriaMode:t?.criteriaMode??"modern",useHarmonyOverlay:t?.useHarmonyOverlay??!0,luck:void 0}),i=pP.map(l=>r[l]??0),a=Ace(i),o={:0,:0,:0,:0,:0};return pP.forEach((l,u)=>{o[l]=a[u]}),o}function U6(e,t){const n=Tce(e,t),r=Re(e[2]??"").charAt(0),a={:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}[r];if(!a)return 0;const o={:"",:"",:"",:"",:""},l=n[a]??0,u=n[o[a]]??0;return l+u*.7}const Zd={:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},F6={:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},z0={:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},jce=["","","","",""];function gP(e){return jce.includes(e)}const Oce={:"",:"",:"",:"",:""},Nce={:"",:"",:"",:"",:""},Cce={:"",:"",:"",:"",:""},Mce={:"",:"",:"",:"",:""};function Rm(e){if(!e)return null;const t=e.trim();if(["","","","","","","","","",""].includes(t))return t;if(Bn[t])return Bn[t];if(["","","","","","","","","","","",""].includes(t))return z0[t]??null;if(Kn[t])return z0[Kn[t]]??null;const n=t.charAt(0);return Bn[n]?Bn[n]:["","","","","","","","","",""].includes(n)?n:Kn[n]?z0[Kn[n]]??null:["","","","","","","","","","","",""].includes(n)?z0[n]??null:null}function Dce(e,t){const n=Zd[e],r=Zd[t];if(!n||!r)return"";let i;r===n?i="":r===Oce[n]?i="":r===Nce[n]?i="":r===Cce[n]?i="":r===Mce[n]?i="":i="";const a=gP(e)===gP(t);switch(i){case"":return a?"":"";case"":return a?"":"";case"":return a?"":"";case"":return a?"":"";case"":return a?"":""}}function Pce(e){switch(e){case"":case"":return"";case"":case"":return"";case"":case"":return"";case"":case"":return"";case"":case"":return""}}function Pv(e){const t=Object.entries(e),n=t.reduce((d,[,h])=>d+(h>0?h:0),0);if(n<=0)return Object.fromEntries(t.map(([d])=>[d,0]));const r=t.map(([d,h])=>[d,(h>0?h:0)*100/n]),i=r.map(([d,h])=>[d,Math.floor(h)]);let a=i.reduce((d,[,h])=>d+h,0);const o=r.map(([d,h])=>[d,h-Math.floor(h)]).sort((d,h)=>h[1]-d[1]),l=Object.fromEntries(i.map(([d,h])=>[d,h]));let u=0;for(;a<100&&u<o.length;)l[o[u][0]]+=1,a+=1,u+=1;return l}function Rce(e){const t={:0,:0,:0,:0,:0};for(const[n,r]of Object.entries(e??{})){const i=Zd[Rm(n)];i&&r>0&&(t[i]+=r)}return Pv(t)}function Lce(e,t){const n={:0,:0,:0,:0,:0,:0,:0,:0,:0,:0};for(const[r,i]of Object.entries(e??{})){if(i<=0)continue;const a=Rm(r);if(!a)continue;const o=Dce(t,a);n[o]+=i}return n}function Ice(e){const t={:0,:0,:0,:0,:0};for(const[n,r]of Object.entries(e)){const i=Pce(n);t[i]+=r}return Pv(t)}function bP(e){const t=Array.isArray(e)?e.slice(0,4):[];for(;t.length<4;)t.push("");return t.map((n,r)=>{const i=Re(n??"");return i||(r<=2?"--":"")})}function H6(e,t){const n=!!t?.includeBranches,r={:!1,:!1,:!1,:!1,:!1};for(const i of e){if(!i)continue;const a=Zd[i.charAt(0)];if(a&&(r[a]=!0),n){const o=F6[i.charAt(1)];o&&(r[o]=!0)}}return r}function G6(e){const t={:0,:0,:0,:0,:0};for(const n of e){if(!n)continue;const r=Zd[n.charAt(0)],i=F6[n.charAt(1)];r&&(t[r]+=10),i&&(t[i]+=6)}return t}function d1(e){return e[0]?.length===2&&e[1]?.length===2&&e[2]?.length===2}const $ce=["","","","","","","","","",""];function Bce(e){const t={};for(const[n,r]of Object.entries(e??{})){if(r<=0)continue;const i=Rm(n);i&&(t[i]=(t[i]??0)+r)}return t}function zce(e){const n={...{:0,:0,:0,:0,:0,:0,:0,:0,:0,:0}};for(const r of $ce){const i=Zd[r],a=`${r}${i}`;n[a]=Math.max(0,Math.round(e[r]??0))}return n}const Uce={natal:50,dae:30,se:20,wol:7,il:3};function Fce(e){const t={};for(const{kind:r,bare:i}of e){const a=Uce[r]??0;if(a<=0)continue;const o=Pv(i);for(const[l,u]of Object.entries(o))t[l]=(t[l]??0)+u*a}const n=Object.values(t).reduce((r,i)=>r+i,0);if(n>0)for(const r of Object.keys(t))t[r]=t[r]/n*100;return t}function Hce(e){if(!e)return[];const t=Rm(e.charAt(0)),n=Rm(e.charAt(1));return[t,n].filter(Boolean)}function U0(e){const t=Hce(e),n={};for(const r of t)n[r]=(n[r]??0)+1;return n}const Jk=["","","","",""];function Gce(e){const t=(e??"").trim(),n=t?t[t.length-1]:"";return["","",""].includes(n)?"WINTER":["","",""].includes(n)?"SUMMER":["","",""].includes(n)?"SPRING":["","",""].includes(n)?"AUTUMN":"UNKNOWN"}function qce(e,t){const n=Jk.filter(u=>t[u]),r=n.map(u=>e[u]??0),i=r.length?Math.max(...r):0,a=r.length?Math.min(...r):0,o=Math.round(i-a),l=n.length>=3&&o<=12;return{presentEls:n,spread:o,balancedPresent:l}}function EA(e){return/||wood/i.test(e)?"":/||fire/i.test(e)?"":/||earth/i.test(e)?"":/||metal/i.test(e)?"":/||water/i.test(e)?"":null}function Yce(e){switch(e){case"":return"";case"":return"";case"":return"";case"":return"";case"":return""}}function yP(e){switch(e){case"":return"";case"":return"";case"":return"";case"":return"";case"":return""}}function Kce(e){const n=[["",""],["",""],["",""],["",""],["",""]],r=[];for(const[i,a]of n){const o=e[i]??0,l=e[a]??0;if(o<20||l<20)continue;let u=null,d=null;if(yP(i)===a)u=i,d=a;else if(yP(a)===i)u=a,d=i;else continue;const h=Yce(u),p=`${u}()${d}    ${h}( )`;r.push({a:i,b:a,controller:u,controlled:d,mediator:h,reason:p})}return r}function AA(e,t){const n=Math.max(.1,1-t/120);return Math.max(0,Math.round(e*n))}function Fh(e,t,n){return n?e.map(r=>!r.elNorm||t[r.elNorm]?r:{...r,score:0,reasons:[...r.reasons,":    0"]}):e}function Hh(e,t,n){const r=i=>i?t[i]:!1;return[...e].sort((i,a)=>{if(n){const o=r(i.elNorm)?1:0,l=r(a.elNorm)?1:0;if(o!==l)return l-o}return a.score!==i.score?a.score-i.score:(i.elNorm??i.element).localeCompare(a.elNorm??a.element,"ko")})}function Wce(e,t){const n=(e??"").trim(),r=n?n[n.length-1]:"",i=new Set(["","",""]),a=new Set(["","",""]),o=new Set(["","",""]),l=new Set(["","",""]);let u=[];return i.has(r)?u=[{el:"",base:110,why:"():     "},{el:"",base:60,why:" :      "}]:a.has(r)?u=[{el:"",base:110,why:"():     "},{el:"",base:70,why:" :   () "}]:o.has(r)?u=[{el:"",base:90,why:"():     /"},{el:"",base:55,why:" : ()    "}]:l.has(r)?u=[{el:"",base:85,why:"():     "},{el:"",base:75,why:"():     "}]:u=[{el:"",base:60,why:":       ()"},{el:"",base:60,why:":       ()"}],u.map(d=>({element:d.el,elNorm:d.el,score:AA(d.base,t[d.el]??0),reasons:[d.why,` ${d.el}  ${Math.round(t[d.el]??0)}%`]}))}function Vce(e){const t=Kce(e);if(!t.length)return{applicable:!1,items:[],note:"       "};const n=new Map;for(const i of t){const a=e[i.a]??0,o=e[i.b]??0,l=Math.min(a,o),u=95+Math.round(l/2),d=n.get(i.mediator),h=[i.reason,`(${i.a} ${Math.round(a)}%  ${i.b} ${Math.round(o)}%)`,` : ${i.controller}${i.mediator}${i.controlled}`];d?n.set(i.mediator,{score:Math.max(d.score,u),reasons:[...d.reasons,...h]}):n.set(i.mediator,{score:u,reasons:h})}return{applicable:!0,items:Array.from(n.entries()).map(([i,a])=>({element:i,elNorm:i,score:AA(a.score,e[i]??0),reasons:a.reasons})),note:"////       ( )  "}}function Zce(e,t){let n="",r=e.??0;for(const d of Jk){const h=e[d]??0;h<r&&(r=h,n=d)}const i=Jk.some(d=>!t[d]);if(!(i||r<=8))return{applicable:!1,items:[],note:"    ( )  "};const l=AA((i?85:70)+Math.round((8-Math.min(8,r))*6),e[n]??0);return{applicable:!0,items:[{element:n,elNorm:n,score:l,reasons:[i?"():  /  ":"():      ",`  ${n} = ${Math.round(r)}%`]}],note:" ()  ( 8% )      "}}function TA(e){const{eokbuList:t,monthGz:n,elemPct:r,presentMap:i,demoteAbsent:a,gyeokgukList:o}=e,l=Hh(Fh(t,i,a),i,a),u=Hh(Fh(Wce(n,r),i,a),i,a),d=Gce(n),h=qce(r,i),p=d==="WINTER"||d==="SUMMER"?.85:.55,b=1.25,x=Vce(r),k=Hh(Fh(x.items,i,a),i,a),S=Zce(r,i),_=Hh(Fh(S.items,i,a),i,a),T=Array.isArray(o)?o:[],N=T.length>0,j=Hh(Fh(T,i,a),i,a),C=z=>Math.max(0,...z.map(V=>Number.isFinite(V.score)?V.score:0)),P=[{kind:"EOKBU",title:"",marker:"",priority:1,weight:b,applicable:l.length>0,note:"1.  /()  ",candidates:l},{kind:"JOHU",title:"",marker:"",priority:2,weight:p,applicable:!0,note:d==="WINTER"?"2. ()   ":d==="SUMMER"?"2. ()   ":"2.    ,   ",candidates:u},{kind:"TONGGWAN",title:"",marker:"",priority:3,weight:.7,applicable:x.applicable,note:x.note,candidates:k},{kind:"BYEONGYAK",title:"",marker:"",priority:3,weight:.7,applicable:S.applicable,note:S.note,candidates:_},{kind:"GYEOKGUK",title:"",marker:"",priority:4,weight:.55,applicable:N,note:N?"/     ( )":"  (//  )",candidates:j}].map(z=>{const V=C(z.candidates),X=z.candidates[0];let Z=0;if(z.applicable&&X){if(Z=X.score*z.weight,z.kind==="EOKBU"&&!h.balancedPresent){const q=Math.min(35,Math.round(h.spread*.9));Z+=q}z.kind==="EOKBU"&&h.balancedPresent&&(Z*=.75),X.elNorm&&!i[X.elNorm]&&(Z*=.25)}return{...z,maxScore:V,fitScore:Math.round(Z),finalScore:Math.round(Z)}}).sort((z,V)=>z.priority-V.priority),$=[...P].filter(z=>z.applicable&&z.candidates.length>0).sort((z,V)=>V.fitScore!==z.fitScore?V.fitScore-z.fitScore:z.priority-V.priority)[0],U=Math.max(0,...P.map(z=>z.fitScore)),Y=$?.kind??null,W=P.map(z=>{if(!Y)return z;if(z.kind===Y){const V=z.fitScore<U?U+1:z.fitScore;return{...z,finalScore:V}}return{...z,finalScore:z.fitScore}}),H=Y?W.find(z=>z.kind===Y)??null:null;return{bestKind:Y,best:H,groups:W}}const Xce={:"",:"",:"",:"",:""},Jce={:"",:"",:"",:"",:""},Qce={:"",:"",:"",:"",:""},eue={:"",:"",:"",:"",:""};function f1(e){switch(e){case"":case"":case"":case"":return"";case"":case"":case"":case"":return"";case"":case"":case"":case"":return"";case"":case"":case"":case"":return"";case"":case"":case"":case"":return"";default:return null}}function tue(e){const t=(e||"").trim();return!t||t==="-"?null:t.includes("")?"":t.includes("")?"":t.includes("")?"":t.includes("")?"":t.includes("")?"":t.includes("")||t.includes("")?"":t.includes("")?"":t.includes("")?"":t.includes("")||t.includes("")?"":t.includes("")?"":null}function nue(e){return e===""||e===""?"":e===""||e===""?"":e===""||e===""?"":e===""||e===""?"":""}function rue(e,t){switch(t){case"":return e;case"":return Xce[e];case"":return Qce[e];case"":return eue[e];case"":return Jce[e]}}function iue(e,t){const n=new Map,r=(u,d,h)=>{if(!u)return;const p=n.get(u);if(!p){n.set(u,{element:u,score:d,reasons:[h]});return}p.score=Math.max(p.score,d),p.reasons=p.reasons.includes(h)?p.reasons:[...p.reasons,h]},i=f1(t),a=tue(e.);if(i&&a){const u=nue(a),d=rue(i,u);r(d,92,` ${e.}  ${u} (${d})`)}const o=f1(e.);o&&r(o,86,` ${e.}  (${o})`);const l=f1(e.);return l&&r(l,70,` ${e.}  (${l})`),Array.from(n.values()).sort((u,d)=>d.score-u.score)}const Gh=e=>e&&e.length>=1?e.charAt(0):"",F0=e=>e&&e.length>=2?e.charAt(1):"";function aue(e){const t=String(e??"");if(!/^\d{8}$/.test(t))return new Date;const n=Number(t.slice(0,4)),r=Number(t.slice(4,6)),i=Number(t.slice(6,8)),a=new Date(n,r-1,i,12,0,0,0);return Number.isNaN(a.getTime())?new Date:a}function oue({data:e,pillars:t,lunarPillars:n,daewoonGzProp:r,blendTab:i,demoteAbsent:a}){const{date:o,yearGZ:l,monthGZ:u,dayGZ:d}=fi(),h=w.useMemo(()=>Re(l),[l]),p=w.useMemo(()=>Re(u),[u]),b=w.useMemo(()=>Re(d),[d]),x=yu(e,e?.mingSikType),k=w.useMemo(()=>{if(!x?.length)return 0;const Me=x.findIndex((Ee,Oe)=>{const Ie=x[Oe+1]?.at;return o>=Ee.at&&(!Ie||o<Ie)});return Me!==-1?Me:o<x[0].at?0:x.length-1},[x,o]),S=w.useMemo(()=>{const Me=r??x?.[k]?.gz??"";return Re(Me)||null},[r,x,k]),{manualHour:_}=ap(),T=e.mingSikType??"/",N=w.useMemo(()=>bP(t),[t]),j=w.useMemo(()=>bP(n),[n]),C=w.useMemo(()=>{const Me=[...N];return(!Me[3]||Me[3]===""||Me[3]==="--")&&_&&(Me[3]=_.stem+_.branch),Me},[N,_]),M=w.useMemo(()=>{const Me=[...j];return(!Me[3]||Me[3]===""||Me[3]==="--")&&_&&(Me[3]=_.stem+_.branch),Me},[j,_]),P=w.useMemo(()=>{const Me=Number(e.birthDay?.slice(0,4)),Ee=Number(e.birthDay?.slice(4,6)),Oe=Number(e.birthDay?.slice(6,8));if(!Number.isFinite(Me)||!Number.isFinite(Ee)||!Number.isFinite(Oe))return null;const Ie=new Date(Me,Ee-1,Oe,12,0,0,0),Qe=Re(ot(Ie)||""),rt=Re(_t(Ie)||""),Vt=Re(pt(Ie,T)||"");return[Qe,rt,Vt,""]},[e.birthDay,T]),$=d1(C),U=d1(M),W=(e.calendarType==="lunar"?"lunar":"solar")==="lunar"?U?"lunar":$?"solar":"lunar":$?"solar":U?"lunar":"solar",H=w.useMemo(()=>{const Ee=[...W==="lunar"?U?M:$?C:P??["","","",""]:$?C:U?M:P??["","","",""]];return(!Ee[3]||Ee[3]===""||Ee[3]==="--")&&_&&(Ee[3]=_.stem+_.branch),Ee[3]==="--"&&(Ee[3]=""),Ee},[W,$,U,C,M,P,_]),z=w.useMemo(()=>Gh(H[2]??""),[H]),V=w.useMemo(()=>F0(H[1]??""),[H]),X=w.useMemo(()=>aue(e.birthDay),[e.birthDay]),Z=w.useMemo(()=>_?_.stem+_.branch:H[3]||"",[_,H]),q=w.useMemo(()=>({dae:i!==""?S??null:null,se:i===""||i===""||i===""?h??null:null,wol:i===""||i===""?p??null:null,il:i===""?b??null:null}),[i,S,h,p,b]),Q=w.useMemo(()=>Dv({natal:H,tab:i,chain:q,hourKey:Z}),[H,i,q,Z]),ne=w.useMemo(()=>{if(!Q)return null;const Me=Bce(Q.perStemElementScaled),Ee=q.dae?U0(q.dae):{},Oe=q.se?U0(q.se):{},Ie=q.wol?U0(q.wol):{},Qe=q.il?U0(q.il):{},rt=Fce([{kind:"natal",bare:Me},{kind:"dae",bare:Ee},{kind:"se",bare:Oe},{kind:"wol",bare:Ie},{kind:"il",bare:Qe}]),Vt=Pv(rt),de=zce(Vt),Ce=Lce(rt,Q.dayStem),Be=Ice(Ce),ut=Rce(rt);return{perStemAugBare:rt,perStemAugFull:de,elemPct100:ut,totalsMain:Be,totalsSub:Ce}},[Q,q]),ue=w.useMemo(()=>H6(H,{includeBranches:!0}),[H]),se=w.useMemo(()=>["","","","",""].some(Me=>!ue[Me]),[ue]),B=ne?.elemPct100??Q?.elementPercent100??G6(H),K=w.useMemo(()=>{if(!Q||!ne)return[];const Me=O6(Q.dayStem);return Object.entries(ne.totalsMain).map(([Ee,Oe])=>({name:Ee,value:Oe,color:Me[Ee]}))},[Q,ne]),ie=ne?.elemPct100??{:0,:0,:0,:0,:0},J=ne?.totalsSub??null,oe=w.useMemo(()=>[i,S??"",h??"",p??"",b??"",o?.toISOString?.()??"",Z].join("|"),[i,S,h,p,b,o,Z]),fe=w.useMemo(()=>{const Me=J?Object.entries(J).sort(([Oe],[Ie])=>Oe.localeCompare(Ie)).map(([Oe,Ie])=>`${Oe}:${Ie}`).join(","):"none",Ee=K.map(Oe=>`${Oe.name}:${Oe.value}`).join(",");return`${oe}||${H.join("")}||${Ee}||${Me}`},[oe,H,K,J]),he=typeof Vd=="function"?Vd(H,Q?.totals):null,ke=w.useMemo(()=>(he?.ordered??[]).map(Ee=>{const Oe=Ee.element??"",Ie=/||wood/i.test(Oe)?"":/||fire/i.test(Oe)?"":/||earth/i.test(Oe)?"":/||metal/i.test(Oe)?"":/||water/i.test(Oe)?"":null,Qe=typeof Ee.score=="number"?Ee.score:Ie?B[Ie]??0:0,rt=Array.isArray(Ee.reasons)?Ee.reasons:[];return{element:Oe,elNorm:Ie,score:Qe,reasons:rt}}),[he,B]),re=w.useMemo(()=>ke.map(Me=>({element:Me.element,elNorm:Me.elNorm,score:Me.score,reasons:Me.reasons})),[ke]),xe=w.useMemo(()=>{if(!z||!V)return[];const[Me,Ee,Oe,Ie]=H,Qe=[Gh(Me),Gh(Ee),Gh(Oe),Gh(Ie)].filter(Boolean),rt=[F0(Me),F0(Oe),F0(Ie)].filter(Boolean),Vt=T6({dayStem:z,monthBranch:V,date:X,pillars:H,emittedStems:Qe,otherBranches:rt}),de=iue(Vt,z),Ce=Be=>/||wood/i.test(Be)?"":/||fire/i.test(Be)?"":/||earth/i.test(Be)?"":/||metal/i.test(Be)?"":/||water/i.test(Be)?"":null;return(de??[]).map(Be=>({element:Be.element,elNorm:Ce(Be.element),score:Number.isFinite(Be.score)?Be.score:0,reasons:Array.isArray(Be.reasons)?Be.reasons:[]}))},[H,z,V,X]),Ne=w.useMemo(()=>{const Me=H[1]||"";return TA({eokbuList:re,monthGz:Me,elemPct:B,presentMap:ue,demoteAbsent:a,gyeokgukList:xe})},[H,re,B,ue,a,xe]),ye=w.useMemo(()=>{const Me=Ne.best;return Me?.candidates?.length?Me.candidates.map(Ee=>({element:Ee.element,elNorm:Ee.elNorm,score:Ee.score,reasons:Ee.reasons})):ke},[Ne,ke]),Ze=w.useMemo(()=>Math.max(0,...ye.map(Me=>Number.isFinite(Me.score)?Me.score:0)),[ye]),qe=w.useMemo(()=>U6(H,{criteriaMode:"modern",useHarmonyOverlay:!0}),[H]);return{seGz:h,wolGz:p,ilGz:b,daewoonGz:S,activePillars:H,chain:q,unified:Q,overlay:ne,chartData:K,elementPct:ie,tenSubTotals100:J,hourKeyForUi:Z,revKey:fe,yongshinMulti:Ne,yongshinRecommend:Ne,yongshinList:ye,maxScore:Ze,hasAbsent:se,dayElementPercent:qe,isValidActive:d1(H)}}function sue(e){if(typeof e!="object"||e===null)return!1;const t=e,n=t.at,r=t.gz;return n instanceof Date&&!Number.isNaN(n.getTime())&&typeof r=="string"}function lue(e){const t=new Date(e,1,15,12,0,0,0);return Re(ot(t)||"")}function cue(e,t){return(e?.ordered??[]).map(r=>{const i=r.element??"",a=EA(i),o=typeof r.score=="number"?r.score:a?t[a]??0:0;return{element:i,elNorm:a,score:o,reasons:Array.isArray(r.reasons)?r.reasons:[]}})}const uue={:"",:"",:"",:"",:"",:"",:"",:"",:"",:""};function dy(e){return uue[e]??null}function due(e,t){const n={:!1,:!1,:!1,:!1,:!1},r=SA(t);for(const i of e){const a=i?.charAt(0)??"",o=i?.charAt(1)??"",l=dy(a);if(l&&(n[l]=!0),wA(o)){const u=r[o],d=[u.,u.,u.].filter(Boolean);for(const h of d){const p=dy(h.stem);p&&h.w>0&&(n[p]=!0)}}}return n}function fue(e,t){const n=SA(t),r={:0,:0,:0,:0,:0};for(const o of e){const l=o?.charAt(0)??"",u=o?.charAt(1)??"",d=dy(l);if(d&&(r[d]+=50),wA(u)){const h=n[u],p=[h.,h.,h.].filter(Boolean),b=p.reduce((k,S)=>k+(Number.isFinite(S.w)?S.w:0),0),x=b>0?b:1;for(const k of p){const S=dy(k.stem);S&&(r[S]+=50*k.w/x)}}}const i=r.+r.+r.+r.+r.,a=i>0?i:1;return{:r./a*100,:r./a*100,:r./a*100,:r./a*100,:r./a*100}}function hue(e,t,n){return e||fue(t,n)}function mue(e){const{data:t,pillars:n,hourKey:r,demoteAbsent:i,gyeokgukList:a,hiddenStemMode:o}=e,l=w.useMemo(()=>k6(o),[o]),u=yu(t,t?.mingSikType),d=w.useMemo(()=>Array.isArray(u)?u.filter(sue).slice(0,10):[],[u]),[h,p]=w.useState(0),[b,x]=w.useState(0),k=Math.max(0,Math.min(d.length-1,h)),S=d[k]??null,_=w.useMemo(()=>{if(!S)return[];const Y=S.at.getFullYear();return Array.from({length:10},(W,H)=>{const z=Y+H;return{year:z,gz:lue(z)}})},[S]),T=b==null?null:Math.max(0,Math.min(_.length-1,b)),N=T==null?null:_[T]??null,j=w.useMemo(()=>due(n,l),[n,l]),C=w.useMemo(()=>["","","","",""].some(Y=>!j[Y]),[j]),M=w.useMemo(()=>{const Y=S?Re(S.gz):null,W=N?Re(N.gz):null;return{dae:Y||null,se:W||null,wol:null,il:null}},[S,N]),P=w.useMemo(()=>M.se?"":"",[M.se]),$=w.useMemo(()=>{const Y=S?`${S.at.getFullYear()}~ ${Re(S.gz)}`:" -",W=N?` / ${N.year} ${Re(N.gz)}`:"";return`${Y}${W}`},[S,N]),U=w.useMemo(()=>{if(!S)return null;const Y=Dv({natal:n,tab:P,chain:M,hourKey:r}),W=hue(Y?.elementPercent100,n,l),H=typeof Vd=="function"?Vd(n,Y?.totals):null,z=cue(H,W);return TA({eokbuList:z,monthGz:n[1]||"",elemPct:W,presentMap:j,demoteAbsent:i,gyeokgukList:Array.isArray(a)?a:null})},[S,n,P,M,r,j,i,a,l]);return{daeIndex:k,setDaeIndex:p,seIndex:T,setSeIndex:x,dae10:d,se10:_,chain:M,tab:P,label:$,recommend:U,presentMap:j,hasAbsent:C}}const pue={EOKBU:"",JOHU:"",TONGGWAN:"",BYEONGYAK:"",GYEOKGUK:""};function Qk(e){return e?pue[e]??e:""}function gue(e){if(typeof e!="object"||e===null)return!1;const t=e;return t.at instanceof Date&&!Number.isNaN(t.at.getTime())&&typeof t.gz=="string"}function bue(e){const t=new Date(e,1,15,12,0,0,0);return Re(ot(t)||"")}function h1(e){const t=e?.best??null,n=t?.candidates?.[0]??null,r=t?.kind??null,i=n?.element??null,a=n?.elNorm??(n?.element?EA(n.element):null),o=typeof t?.fitScore=="number"?t.fitScore:0,l=r&&i?`${Qk(r)}:${i}`:r?`${Qk(r)}:`:"";return{kind:r,top1:i,top1ElNorm:a,fit:o,label:l,result:e}}function yue(e,t){return(e?.ordered??[]).map(r=>{const i=r.element??"",a=EA(i),o=typeof r.score=="number"?r.score:a?t[a]??0:0;return{element:i,elNorm:a,score:o,reasons:Array.isArray(r.reasons)?r.reasons:[]}})}function vP(e){const{pillars:t,hourKey:n,chain:r,tab:i,demoteAbsent:a,presentMap:o,gyeokgukList:l}=e,u=Dv({natal:t,tab:i,chain:r,hourKey:n}),d=u?.elementPercent100??G6(t),h=typeof Vd=="function"?Vd(t,u?.totals):null,p=yue(h,d);return TA({eokbuList:p,monthGz:t[1]||"",elemPct:d,presentMap:o,demoteAbsent:a,gyeokgukList:Array.isArray(l)?l:null})}function vue(e){const t=[];for(const n of e){const r=t[t.length-1];if(!r){t.push({fromYear:n.year,toYear:n.year,snap:n.snap});continue}r.snap.label===n.snap.label?r.toYear=n.year:t.push({fromYear:n.year,toYear:n.year,snap:n.snap})}return t}const yo=({text:e,tone:t="base",onClick:n,title:r})=>{const i=t==="pick"?"bg-violet-100 text-violet-800 border-violet-200 dark:bg-violet-900/30 dark:text-violet-200 dark:border-violet-800":t==="diff"?"bg-amber-100 text-amber-800 border-amber-200 dark:bg-amber-900/30 dark:text-amber-200 dark:border-amber-800 cursor-pointer":"bg-neutral-200 dark:bg-neutral-800 text-neutral-700 dark:text-neutral-300 border-neutral-200 dark:border-neutral-700",a=g.jsx("span",{className:`inline-flex items-center text-[11px] px-2 py-0.5 rounded-full border whitespace-nowrap ${i}`,title:r,children:e});return n?g.jsx("button",{type:"button",className:"inline-flex",onClick:n,title:r,children:a}):a};function xP({snap:e}){const t=e.result?.best??null,n=t?.candidates?.slice(0,3)??[];return t?g.jsxs("div",{className:"mt-2 rounded-lg border border-neutral-200 dark:border-neutral-800 bg-white dark:bg-neutral-900 p-3",children:[g.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[g.jsx(yo,{text:`: ${Qk(t.kind)}`,tone:"pick"}),g.jsx(yo,{text:` ${t.fitScore}`}),n[0]?.element?g.jsx(yo,{text:`1 ${n[0].element}`,tone:"diff"}):null]}),t.note?g.jsx("div",{className:"mt-2 text-xs text-neutral-600 dark:text-neutral-400 whitespace-normal break-words",children:t.note}):null,n.length?g.jsx("ul",{className:"mt-2 space-y-2",children:n.map((r,i)=>g.jsx("li",{className:"text-xs",children:g.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[g.jsx(yo,{text:`${i+1} ${r.element}`}),g.jsx(yo,{text:` ${r.score}`}),(r.reasons??[]).slice(0,4).map((a,o)=>g.jsx(yo,{text:a},o))]})},`${r.elNorm??r.element}-${i}`))}):g.jsx("div",{className:"mt-2 text-xs text-neutral-600 dark:text-neutral-400",children:" "})]}):g.jsx("div",{className:"text-xs text-neutral-600 dark:text-neutral-400",children:" "})}function xue(e){const{data:t,pillars:n,hourKey:r,demoteAbsent:i,natal:a}=e,o=w.useMemo(()=>H6(n,{includeBranches:!0}),[n]),l=yu(t,t?.mingSikType),u=w.useMemo(()=>Array.isArray(l)?l.filter(gue).slice(0,10):[],[l]),d=w.useMemo(()=>h1(a),[a]),[h,p]=w.useState(null),b=S=>p(_=>_===S?null:S),x=w.useMemo(()=>u.map((S,_)=>{const T=Re(S.gz)||"",j=vP({pillars:n,hourKey:r,chain:{dae:T||null,se:null,wol:null,il:null},tab:"",demoteAbsent:i,presentMap:o}),C=h1(j),M=S.at.getFullYear(),P=Array.from({length:10},(H,z)=>{const V=M+z,X=bue(V),q=vP({pillars:n,hourKey:r,chain:{dae:T||null,se:X||null,wol:null,il:null},tab:"",demoteAbsent:i,presentMap:o}),Q=h1(q);return{year:V,snap:Q}}),U=vue(P).filter(H=>H.snap.top1ElNorm!==C.top1ElNorm),Y=C.top1ElNorm!==d.top1ElNorm,W=Y||U.length>0;return{idx:_,dae:S,daeLabel:`${M}~ ${T||""}`,daeSnap:C,daeDiffFromNatal:Y,segDiffOnly:U,hasAnyChange:W}}).filter(S=>S.hasAnyChange),[u,n,r,i,o,d.top1ElNorm]),k=w.useMemo(()=>x.some(S=>S.hasAnyChange),[x]);return g.jsxs("div",{className:"rounded-xl bg-neutral-100 dark:bg-neutral-900 p-4 space-y-3",children:[g.jsxs("div",{className:"flex items-center justify-between gap-2",children:[g.jsx("div",{className:"text-sm font-bold",children:"  "}),g.jsxs("div",{className:"text-xs text-neutral-600 dark:text-neutral-400 whitespace-normal break-words",children:["(): ",d.label," /  ",d.fit]})]}),k?g.jsx("div",{className:"space-y-3",children:x.map(S=>{const _=`dae:${S.idx}`,T=h===_;return g.jsxs("div",{className:"rounded-lg border border-neutral-200 dark:border-neutral-800 bg-white dark:bg-neutral-900 p-3",children:[g.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[g.jsx(yo,{text:` ${S.daeLabel}`,tone:"base"}),g.jsx(yo,{text:` ${S.daeSnap.label} ( ${S.daeSnap.fit})`,tone:S.daeDiffFromNatal?"diff":"base",onClick:()=>b(_),title:" (top3) "}),S.daeDiffFromNatal?g.jsx(yo,{text:" ",tone:"diff"}):null]}),S.segDiffOnly.length?g.jsx("div",{className:"mt-2 flex flex-wrap gap-2",children:S.segDiffOnly.map((N,j)=>{const C=`seg:${S.idx}:${j}`,M=h===C,P=N.fromYear===N.toYear?`${N.fromYear}`:`${N.fromYear}~${N.toYear}`;return g.jsxs("div",{className:"inline-flex flex-col",children:[g.jsx("div",{className:"flex items-center gap-2",children:g.jsx(yo,{text:` ${P}  ${N.snap.label} ( ${N.snap.fit})`,tone:"diff",onClick:()=>b(C),title:" (top3) "})}),M?g.jsx(xP,{snap:N.snap}):null]},C)})}):null,T?g.jsx(xP,{snap:S.daeSnap}):null]},_)})}):g.jsx("div",{className:"w-full p-3 rounded-xl bg-neutral-100 dark:bg-neutral-900 text-sm text-neutral-600 dark:text-neutral-400 text-center",children:"  ."})]})}function _ue(e,t){if(t<=0)return"12%";const n=Math.round(e/t*100);return`${Math.max(2,Math.min(100,n))}%`}function wue(e){return e.slice(0,3)}const ym=({text:e,tone:t="base"})=>{const n=t==="best"?"bg-violet-100 text-violet-800 border-violet-200 dark:bg-violet-900/30 dark:text-violet-200 dark:border-violet-800":"bg-neutral-200 dark:bg-neutral-800 text-neutral-700 dark:text-neutral-300";return g.jsx("span",{className:`text-[11px] px-2 py-0.5 rounded-full border border-transparent ${n}`,children:e})};function Sue({g:e,isBest:t}){const n=wue(e.candidates);return g.jsxs("details",{open:t,className:"rounded-lg border border-neutral-200 dark:border-neutral-800 bg-white dark:bg-neutral-900",children:[g.jsx("summary",{className:"list-none cursor-pointer px-3 py-2 flex flex-col gap-2",children:g.jsxs("div",{className:"flex flex-wrap items-start gap-2",children:[g.jsxs("span",{className:"text-xs px-2 py-0.5 rounded-full bg-neutral-200 dark:bg-neutral-800 text-neutral-800 dark:text-neutral-200",children:[e.marker," ",e.title]}),g.jsx("span",{className:"max-w-[62%] text-xs text-neutral-600 dark:text-neutral-400 whitespace-normal break-words",children:e.note}),!e.applicable&&g.jsx(ym,{text:" "}),t&&g.jsx(ym,{text:" ",tone:"best"}),g.jsx(ym,{text:` ${e.fitScore}`})]})}),g.jsx("div",{className:"px-3 pb-3 pt-1",children:n.length===0?g.jsx("div",{className:"text-xs text-neutral-600 dark:text-neutral-400",children:" "}):g.jsx("ul",{className:"space-y-2",children:n.map((r,i)=>g.jsxs("li",{className:"flex items-start justify-between gap-3 rounded-lg border border-neutral-200 dark:border-neutral-800 p-2",children:[g.jsxs("div",{className:"flex items-center gap-2",children:[g.jsxs("span",{className:"text-xs px-2 py-0.5 rounded-full bg-neutral-200 dark:bg-neutral-800 text-neutral-800 dark:text-neutral-200",children:[i+1,""]}),g.jsx("span",{className:"text-sm font-semibold",children:r.element})]}),g.jsxs("div",{className:"flex-1",children:[g.jsx("div",{className:"mt-1 h-1.5 w-full rounded bg-neutral-300 dark:bg-neutral-800 overflow-hidden",children:g.jsx("div",{className:"h-1.5 rounded bg-white dark:bg-neutral-100",style:{width:_ue(r.score??0,e.maxScore)},title:` ${r.score}`})}),g.jsx("div",{className:"mt-2 flex flex-wrap gap-1.5",children:(r.reasons??[]).slice(0,6).map((a,o)=>g.jsx("span",{className:"text-[11px] px-2 py-0.5 rounded-full bg-neutral-200 dark:bg-neutral-800 text-neutral-700 dark:text-neutral-300",children:a},o))})]})]},`${e.kind}-${r.elNorm??r.element}-${i}`))})})]})}function kue({best:e}){const t=e?.candidates?.[0]??null;return g.jsxs("div",{className:"rounded-lg border border-neutral-200 dark:border-neutral-800 p-3 bg-white/60 dark:bg-neutral-950/20",children:[g.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[g.jsx("span",{className:"text-xs px-2 py-0.5 rounded-full bg-neutral-200 dark:bg-neutral-800 text-neutral-800 dark:text-neutral-200",children:" "}),g.jsx("div",{className:"text-sm font-semibold",children:e?g.jsxs(g.Fragment,{children:[g.jsx("span",{className:"mr-1",children:e.marker}),e.title]}):""}),t?.element?g.jsx(ym,{text:`1: ${t.element}`}):null,e?.fitScore!=null?g.jsx(ym,{text:` ${e.fitScore}`}):null]}),e?.note?g.jsx("div",{className:"mt-2 text-xs text-neutral-600 dark:text-neutral-400 leading-relaxed whitespace-normal break-words",children:e.note}):null]})}function Eue({recommend:e,data:t,pillars:n,hourKey:r,demoteAbsent:i,hiddenStemMode:a}){const o=e,l=mue({data:t,pillars:n,hourKey:r,demoteAbsent:i,hiddenStemMode:a});return g.jsxs("div",{className:"w-full p-4 rounded-xl bg-neutral-100 dark:bg-neutral-900 space-y-4",children:[g.jsxs("div",{className:"space-y-3",children:[g.jsxs("div",{className:"flex items-center justify-between gap-2",children:[g.jsx("div",{className:"text-sm font-bold",children:"  ()"}),l.hasAbsent?g.jsxs("span",{className:"text-xs text-neutral-600 dark:text-neutral-400",children:["*   ",i?" ( ON)":""]}):null]}),g.jsx(kue,{best:o.best}),g.jsx("div",{className:"space-y-2",children:o.groups.map(u=>g.jsx(Sue,{g:u,isBest:o.bestKind===u.kind},u.kind))})]}),g.jsx(xue,{data:t,pillars:n,hourKey:r,demoteAbsent:i,natal:e})]})}const _P=e=>e<10?`0${e}`:`${e}`;function Aue(e){const t=e,n=typeof t.birthDay=="string"?t.birthDay:"",r=typeof t.calendarType=="string"?t.calendarType:"solar";if(n.length<8)return e;const i=Number(n.slice(0,4)),a=Number(n.slice(4,6)),o=Number(n.slice(6,8));if(r==="lunar")try{const l=Gi(i,a,o),u=`${l.getFullYear()}${_P(l.getMonth()+1)}${_P(l.getDate())}`;return{...e,birthDay:u,calendarType:"solar"}}catch{return e}return e}function Tue(e){if(typeof e!="number"&&typeof e!="string")return null;const t=String(e);if(!/^\d{8}$/.test(t))return null;const n=Number(t.slice(0,4)),r=Number(t.slice(4,6)),i=Number(t.slice(6,8)),a=new Date(n,r-1,i);return Number.isNaN(a.getTime())?null:a}const jue=["  ","   ","","",""];function Oue(e){return e==="  "||e===""}function Nue({data:e,pillars:t,lunarPillars:n,daewoonGz:r}){const i=jn(p=>p.settings),a=hle(),o=Aue(e),l=Tue(o.birthDay)||void 0,u=on(p=>p.canUseAdvancedReportNow()),d=oue({data:o,pillars:t,lunarPillars:n,daewoonGzProp:r,blendTab:a.blendTab,demoteAbsent:a.demoteAbsent}),h=w.useMemo(()=>"    100   ! (  )",[]);return d.isValidActive?g.jsxs("div",{className:"space-y-4 mb-4",children:[g.jsx("div",{className:"flex gap-2 justify-center flex-wrap",children:fle.map(p=>g.jsx("button",{onClick:()=>a.setBlendTab(p),className:"px-2 py-1 text-xs rounded border cursor-pointer "+(a.blendTab===p?"bg-yellow-500 text-black border-yellow-600":"bg-neutral-400 dark:bg-neutral-900 text-neutral-100 dark:text-neutral-300 border-neutral-400 dark:border-neutral-700"),children:p},p))}),g.jsx("div",{className:"flex gap-2 mb-4 justify-center flex-wrap",children:jue.map(p=>{const b=!u&&Oue(p),x=a.bigTab===p;return g.jsxs("button",{title:b?h:void 0,onClick:()=>a.setBigTab(p),className:"px-3 py-1 text-sm rounded border cursor-pointer "+(b?"opacity-60 ":"")+(x?"bg-violet-500 text-white border-violet-600":"bg-neutral-400 dark:bg-neutral-900 text-neutral-100 dark:text-neutral-300 border-neutral-400 dark:border-neutral-700"),children:[p,b?" ":""]},p)})}),a.bigTab===""&&g.jsx(zoe,{pillars:d.activePillars,daewoon:d.daewoonGz||void 0,sewoon:d.seGz||void 0,wolwoon:d.wolGz||void 0,ilwoon:d.ilGz||void 0,tab:a.blendTab},`harm-${a.blendTab}-${d.hourKeyForUi}`),a.bigTab==="   "&&g.jsxs("div",{className:"space-y-4",children:[g.jsx(Loe,{data:d.chartData,revKey:d.revKey,perStemElementScaled:d.overlay?.perStemAugFull,elementPercent:d.elementPct,dayStem:d.activePillars[2]?.charAt(0)??null},`pentagon-${d.revKey}`),g.jsx(Boe,{value:d.dayElementPercent}),g.jsx(Qoe,{natal:d.activePillars})]}),a.bigTab===""&&!u&&g.jsxs("div",{className:"p-4 rounded-xl border border-neutral-300 dark:border-neutral-700 bg-neutral-50 dark:bg-neutral-900 text-sm text-neutral-600 dark:text-neutral-300 text-center",children:["   ",g.jsx("b",{children:""}),"   .   100  !"]}),a.bigTab===""&&u&&g.jsx(Eue,{recommend:d.yongshinMulti,data:o,pillars:d.activePillars,hourKey:d.hourKeyForUi,demoteAbsent:a.demoteAbsent,hiddenStemMode:i.hiddenStemMode},`yongshin-${a.blendTab}-${d.hourKeyForUi}`),a.bigTab===""&&g.jsx(Hoe,{pillars:d.activePillars,daewoon:d.daewoonGz||void 0,sewoon:d.seGz||void 0,wolwoon:d.wolGz||void 0,ilwoon:d.ilGz||void 0,tab:a.blendTab},`shin-${a.blendTab}-${d.hourKeyForUi}`),a.bigTab==="  "&&!u&&g.jsxs("div",{className:"p-4 rounded-xl border border-neutral-300 dark:border-neutral-700 bg-neutral-50 dark:bg-neutral-900 text-sm text-neutral-600 dark:text-neutral-300 text-center",children:["   ",g.jsx("b",{children:"  "}),"   .   100  !"]}),a.bigTab==="  "&&u&&g.jsx(Qse,{unified:d.unified,pillars:d.activePillars,tab:a.blendTab,mapping:i.hiddenStemMode,birthDate:l},`gyeok-${a.blendTab}-${d.hourKeyForUi}`)]}):g.jsx("div",{className:"p-4 rounded-xl bg-neutral-100 dark:bg-neutral-900 text-sm",children:"   ."})}const H0=e=>typeof e=="string"&&e.length>=2,Cue=e=>!Array.isArray(e)||e.length!==4?!1:H0(e[0])&&H0(e[1])&&H0(e[2])&&(e[3]===""||H0(e[3]));function Mue({data:e}){const[t,n]=w.useState("un"),r=on(u=>u.canUseMyoViewerNow());w.useEffect(()=>{t==="myoun"&&!r&&n("un")},[t,r]);const i=w.useMemo(()=>{try{const u=dp(e);return Pl(u)}catch{return new Date}},[e]),a=w.useMemo(()=>Cv(e,i),[e,i]),o=!e.birthTime||e.birthTime==="",l=w.useMemo(()=>{try{const u=ot(a,e.birthPlace?.lon),d=_t(a,e.birthPlace?.lon),h=pt(a,e.mingSikType),p=o?"":Fa(a,e.mingSikType);return[u,d,h,p]}catch{return[]}},[a,e?.mingSikType,e?.birthPlace?.lon,o]);return g.jsxs("div",{className:"w-[calc(100%_-_16px)] max-w-[625px] desk:max-w-[640px] mx-auto",children:[g.jsxs("div",{className:"flex border-b border-neutral-700 mb-4",children:[g.jsx("button",{onClick:()=>n("un"),className:`px-2 desk:px-4 py-2 text-xs desk:text-sm cursor-pointer border-b hover:border-purple-500 hover:text-purple-500 font-bold ${t==="un"?"border-purple-500 text-purple-500":"border-transparent text-neutral-400"}`,children:" "}),r?g.jsx("button",{onClick:()=>n("myoun"),className:`px-2 desk:px-4 py-2 text-xs desk:text-sm cursor-pointer border-b hover:border-purple-500 hover:text-purple-500 font-bold ${t==="myoun"?"border-purple-500 text-purple-500":"border-transparent text-neutral-400"}`,children:" "}):null,g.jsx("button",{onClick:()=>n("report"),className:`px-2 desk:px-4 py-2 text-xs desk:text-sm cursor-pointer border-b hover:border-purple-500 hover:text-purple-500 font-bold ${t==="report"?"border-purple-500 text-purple-500":"border-transparent text-neutral-400"}`,children:" "})]}),t==="un"&&g.jsx(koe,{data:e}),t==="myoun"&&r&&g.jsx(joe,{data:e}),t==="report"&&g.jsx(Nue,{data:e,pillars:Cue(l)?l:[]})]})}function Due({onOpenSidebar:e,onAddNew:t,onOpenCustom:n,isLoggedIn:r}){const i=wr(C=>C.list.length),a=on(C=>C.canAddMyeongsik),[o,l]=w.useState(!1);w.useEffect(()=>{let C=!0;De.auth.getSession().then(({data:P})=>{C&&l(!!P.session?.user)});const{data:M}=De.auth.onAuthStateChange((P,$)=>{l(!!$?.user)});return()=>{C=!1,M.subscription.unsubscribe()}},[]);const u=r||o,d=a(i),h=!d.ok,p=h?d.message:"",b=()=>{if(h){_o(p||"   ");return}t()},x=()=>{if(h){_o(p||"   ");return}n()},k=()=>{wo.getState().openWith("HEADER")},S=async()=>{const{error:C}=await De.auth.signOut();if(C){console.error(C),_o("  ");return}_o(" ")},_="w-8 h-8 sm:w-10 sm:h-10 flex items-center justify-center rounded-md text-white focus:outline-none focus:ring-2 focus:ring-purple-500 transition-colors",T="bg-purple-600 hover:bg-purple-700 dark:bg-purple-600 dark:hover:bg-purple-500 cursor-pointer",N="bg-orange-600 hover:bg-orange-700 dark:bg-orange-600 dark:hover:bg-orange-500 cursor-pointer",j="bg-neutral-300 dark:bg-neutral-800 text-neutral-100 cursor-not-allowed opacity-80";return g.jsx("header",{className:"fixed min-w-[320px] top-0 left-0 right-0 bg-white dark:bg-neutral-950 border-b border-neutral-200 dark:border-neutral-800 z-55 px-2 desk:px-3 transition-colors",children:g.jsxs("div",{className:"relative max-w-[640px] w-full mx-auto h-12 sm:h-14 flex justify-between items-center",children:[g.jsx("button",{type:"button",onClick:e,"aria-label":" ",className:"p-2 rounded-full text-neutral-700 dark:text-neutral-200 hover:bg-neutral-100 dark:hover:bg-neutral-800 hover:text-purple-600 dark:hover:text-purple-400 focus:outline-none focus:ring-2 focus:ring-purple-500 cursor-pointer transition-colors",children:g.jsx(jV,{size:22})}),g.jsx("h1",{className:"absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 mx-auto text-base sm:text-lg font-bold tracking-tight text-neutral-900 dark:text-neutral-100",children:""}),g.jsxs("div",{className:"flex gap-2 items-center",children:[g.jsxs("button",{type:"button",onClick:b,"aria-label":" ",disabled:h,title:" ",className:`${_} ${h?j:T}`,children:[g.jsx(IV,{size:18}),h?g.jsx("span",{className:"ml-1 text-[12px]",children:""}):null]}),g.jsxs("button",{type:"button",onClick:x,"aria-label":"  ",disabled:h,title:"  ",className:`${_} ${h?j:N}`,children:[g.jsx(PV,{size:18}),h?g.jsx("span",{className:"ml-1 text-[12px]",children:""}):null]}),u?g.jsx("button",{type:"button",onClick:S,"aria-label":"",title:"",className:"inline-flex items-center gap-1 text-xs cursor-pointer text-neutral-700 dark:text-neutral-200 hover:text-purple-600 dark:hover:text-purple-400",children:g.jsx("ins",{children:""})}):g.jsx("button",{type:"button",onClick:k,"aria-label":"",title:"",className:"text-xs cursor-pointer",children:g.jsx("ins",{children:""})})]})]})})}function Pue(e){w.useEffect(()=>{const t=e??r$()??(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light");a$(t),e&&i$(e)},[e])}const q6=["theme","hiddenStem","hiddenStemMode","sinsalMode","sinsalBase","sinsalBloom","exposure","charType","thinEum","visibility","difficultyMode"];function Rue(e){return typeof e=="string"&&q6.includes(e)}function eE(e){const t=Array.isArray(e)?e.filter(Rue):[],n=q6.filter(r=>!t.includes(r));return[...t,...n]}function tE(e){return{...Jc,...e,sectionOrder:eE(e.sectionOrder)}}function Lue(e,t){return e.theme??t.theme??"dark"}function Iue({open:e,settings:t}){const n=w.useMemo(()=>eE(t.sectionOrder),[t.sectionOrder]),r=w.useMemo(()=>tE(t),[t]),[i,a]=w.useState(n),[o,l]=w.useState(r),[u,d]=w.useState(null),[h,p]=w.useState(!1);return w.useEffect(()=>{if(!e||h)return;const x=eE(t.sectionOrder);l({...tE(t),sectionOrder:x}),a(x),p(!1)},[e,t,h]),{order:i,setOrder:a,localSettings:o,setLocalSettings:l,updateSetting:(x,k)=>{l(S=>{const _={...S,[x]:k};return p(!0),_})},toastMessage:u,setToastMessage:d,dirty:h,setDirty:p}}function $ue(){try{typeof window<"u"&&window.localStorage.removeItem("settings_v1")}catch{}}function Y6(e){i$(e)}function Bue({setSettings:e,saveToServer:t}){return{applyChanges:w.useCallback(async(r,i,a)=>{const o={...tE(r),sectionOrder:i};$ue(),w.startTransition(()=>{e(o)}),o.theme&&Y6(o.theme),a(),t(!0)},[e,t])}}function zue({open:e,onClose:t}){const{settings:n,setSettings:r,saveToServer:i}=jn(),a=Iue({open:e,settings:n}),o=Bue({setSettings:r,saveToServer:i}),l=()=>a.setToastMessage(null),u=Lue(a.localSettings,n);Pue(u),w.useEffect(()=>{Y6(u)},[u]);const d=()=>{o.applyChanges(a.localSettings,a.order,()=>{a.setToastMessage(" "),a.setDirty(!1),t()})},h=b=>{const{destination:x,source:k}=b;if(!x||x.index===k.index)return;const S=Array.from(a.order),[_]=S.splice(k.index,1);S.splice(x.index,0,_),a.setOrder(S)},p=b=>{switch(b){case"theme":return g.jsx(Ca,{title:"",children:g.jsx(Uue,{value:a.localSettings.theme??"dark",onChange:x=>a.updateSetting("theme",x)})});case"hiddenStem":return g.jsx(Ca,{title:"  ",children:g.jsx(pd,{value:a.localSettings.hiddenStem,onChange:x=>a.updateSetting("hiddenStem",x),options:[{label:"",value:"all"},{label:" ",value:"regular"}]})});case"hiddenStemMode":return g.jsx(Ca,{title:" ",children:g.jsx(pd,{value:a.localSettings.hiddenStemMode,onChange:x=>a.updateSetting("hiddenStemMode",x),options:[{label:"",value:"classic"},{label:"",value:"hgc"}]})});case"sinsalMode":return g.jsx(Ca,{title:"",children:g.jsx(pd,{value:a.localSettings.sinsalMode,onChange:x=>a.updateSetting("sinsalMode",x),options:[{label:"",value:"classic"},{label:"",value:"modern"}]})});case"sinsalBase":return g.jsx(Ca,{title:"",children:g.jsx(pd,{value:a.localSettings.sinsalBase,onChange:x=>a.updateSetting("sinsalBase",x),options:[{label:"",value:""},{label:"",value:""}]})});case"sinsalBloom":return g.jsx(Ca,{title:" ",children:g.jsx(ho,{label:" ",checked:!!a.localSettings.sinsalBloom,onChange:x=>a.updateSetting("sinsalBloom",x)})});case"exposure":return g.jsx(Ca,{title:" ",children:g.jsx(pd,{value:a.localSettings.exposure,onChange:x=>a.updateSetting("exposure",x),options:[{label:"",value:""},{label:"",value:""},{label:"",value:""},{label:"",value:""}]})});case"charType":return g.jsx(Ca,{title:" ",children:g.jsx(pd,{value:a.localSettings.charType,onChange:x=>a.updateSetting("charType",x),options:[{label:"",value:""},{label:"",value:""}]})});case"thinEum":return g.jsx(Ca,{title:" ",children:g.jsx(ho,{label:" ",checked:!!a.localSettings.thinEum,onChange:x=>a.updateSetting("thinEum",x)})});case"visibility":return g.jsx(Ca,{title:" ",children:g.jsxs("div",{className:"space-y-2 w-full max-w-[180px] mx-auto",children:[g.jsx(ho,{label:" ",checked:!!a.localSettings.showSipSin,onChange:x=>a.updateSetting("showSipSin",x)}),g.jsx(ho,{label:" ",checked:!!a.localSettings.showSibiUnseong,onChange:x=>a.updateSetting("showSibiUnseong",x)}),g.jsx(ho,{label:" ",checked:!!a.localSettings.showSibiSinsal,onChange:x=>a.updateSetting("showSibiSinsal",x)}),g.jsx(ho,{label:" ",checked:!!a.localSettings.showNabeum,onChange:x=>a.updateSetting("showNabeum",x)}),g.jsx(ho,{label:" BOX ",checked:!!a.localSettings.showEtcShinsal,onChange:x=>a.updateSetting("showEtcShinsal",x)}),g.jsx(ho,{label:" BOX ",checked:!!a.localSettings.showRelationBox,onChange:x=>a.updateSetting("showRelationBox",x)}),g.jsx(ho,{label:" BOX ",checked:!!a.localSettings.showPromptBox,onChange:x=>a.updateSetting("showPromptBox",x)})]})});case"difficultyMode":return g.jsx(Ca,{title:" UP ver.",children:g.jsx(ho,{label:" UP ",checked:!!a.localSettings.difficultyMode,onChange:x=>a.updateSetting("difficultyMode",x)})});default:return null}};return g.jsxs(g.Fragment,{children:[g.jsx("style",{children:"[data-rbd-drag-handle-context-id]{touch-action:none!important}"}),g.jsx("div",{className:`fixed inset-0 bg-black/60 transition-opacity duration-300 z-90 ${e?"opacity-100 pointer-events-auto":"opacity-0 pointer-events-none"}`,onClick:t}),g.jsxs("div",{className:`fixed inset-x-0 mx-auto w-full max-w-[640px] h-[88dvh] bg-white text-neutral-900 dark:bg-neutral-950 dark:text-white shadow-lg rounded-t-2xl transition-bottom duration-300 z-99 ${e?"bottom-0":"bottom-[-88dvh]"}`,children:[g.jsxs("div",{className:"flex justify-between items-center p-4 border-b border-neutral-200 dark:border-neutral-800",children:[g.jsx("h2",{className:"text-lg font-bold",children:""}),g.jsx("button",{onClick:d,className:"px-3 py-1 rounded bg-indigo-600 hover:bg-indigo-500 text-white text-sm cursor-pointer",children:""})]}),e&&g.jsx(lp,{onDragEnd:h,children:g.jsx(mf,{droppableId:"settings-sections",children:b=>g.jsxs("ul",{ref:b.innerRef,...b.droppableProps,className:"flex flex-col gap-2 p-4 overflow-y-auto max-h-[80dvh] list-none",children:[a.order.map((x,k)=>g.jsx(hf,{draggableId:x,index:k,children:S=>g.jsxs("li",{ref:S.innerRef,...S.draggableProps,...S.dragHandleProps,className:"!flex justify-between items-center bg-white dark:bg-neutral-800 p-2 rounded border text-sm desk:text-base select-none cursor-grab active:cursor-grabbing",children:[g.jsx("span",{className:"mr-2 select-none text-neutral-500",children:"::"}),g.jsx("div",{className:"flex-1 min-w-0",children:p(x)})]})},x)),b.placeholder]})})})]}),a.toastMessage&&g.jsx(L4,{message:a.toastMessage,onClose:l,ms:1800})]})}function Uue({value:e,onChange:t}){const n=e==="dark";return g.jsxs("button",{"data-no-drag":!0,onClick:()=>t(n?"light":"dark"),className:"flex items-center gap-2 px-3 py-1.5 rounded-md border text-sm cursor-pointer border-neutral-300 bg-white hover:bg-neutral-100 text-neutral-700 dark:border-neutral-700 dark:bg-neutral-900 dark:hover:bg-neutral-800 dark:text-neutral-200",title:"/ ","aria-pressed":n,children:[g.jsx("span",{className:"inline-block w-10 h-5 bg-neutral-300 rounded-full relative after:content-[''] after:w-4 after:h-4 after:bg-white after:rounded-full after:absolute after:top-0.5 after:left-0.5 after:transition-all dark:bg-neutral-700"}),g.jsx("span",{children:n?"":""})]})}function Ca({title:e,children:t}){return g.jsxs("div",{className:"p-3 rounded-lg bg-neutral-50 border border-neutral-200 text-neutral-900 dark:bg-neutral-900 dark:border-neutral-800 dark:text-neutral-100 space-y-3",children:[g.jsx("h3",{className:"text-sm font-semibold text-center",children:e}),g.jsx("div",{className:"flex justify-center",children:t})]})}function pd({value:e,onChange:t,options:n}){return g.jsx("div",{"data-no-drag":!0,className:"inline-flex rounded-md overflow-hidden border border-neutral-300 bg-white dark:border-neutral-700 dark:bg-neutral-800",onMouseDown:r=>r.stopPropagation(),onTouchStart:r=>r.stopPropagation(),children:n.map(r=>{const i=e===r.value;return g.jsx("button",{type:"button",onClick:()=>t(r.value),className:`px-3 py-1 text-sm transition-colors ${i?"bg-indigo-600 text-white":"text-neutral-700 hover:bg-neutral-100 dark:text-neutral-300 dark:hover:bg-neutral-700 cursor-pointer"}`,children:r.label},r.value)})})}function ho({label:e,checked:t,onChange:n}){const r=`switch-${e}`;return g.jsxs("label",{"data-no-drag":!0,htmlFor:r,className:"flex items-center justify-between w-full max-w-[180px] text-sm cursor-pointer",children:[g.jsx("span",{children:e}),g.jsx("input",{id:r,type:"checkbox",checked:t,onChange:i=>n(i.target.checked),className:"peer hidden"}),g.jsx("span",{className:"w-10 h-5 bg-neutral-300 rounded-full relative after:content-[''] after:w-4 after:h-4 after:bg-white after:rounded-full after:absolute after:top-0.5 after:left-0.5 after:transition-all peer-checked:bg-indigo-600 peer-checked:after:translate-x-5 dark:bg-neutral-700 dark:peer-checked:bg-indigo-600"})]})}function Fue({onShowToday:e,onShowCouple:t,onShowFaq:n}){const[r,i]=w.useState(!1),[a,o]=w.useState(!1),[l,u]=w.useState(!1),[d,h]=w.useState(!1);w.useEffect(()=>{let T=!0;De.auth.getSession().then(({data:j})=>{T&&h(!!j.session?.user)});const{data:N}=De.auth.onAuthStateChange((j,C)=>{h(!!C?.user)});return()=>{T=!1,N.subscription.unsubscribe()}},[]);const p=d;w.useEffect(()=>{!p&&l&&u(!1)},[p,l]);const b=()=>{wo.getState().openWith("BOTTOM_NAV")},x=async()=>{if(!a){o(!0);try{const{error:T}=await De.auth.signOut();if(T)throw T;window.location.reload()}catch(T){console.error(T),alert(" .  ."),o(!1)}}},_={bottom:"var(--bottom-dock, 0px)",paddingBottom:"env(safe-area-inset-bottom, 0px)"};return g.jsxs(g.Fragment,{children:[g.jsx("div",{className:"fixed min-w-[320px] h-[64px] px-2 box-border left-0 right-0 bg-white border-t border-neutral-200 py-2 text-xs sm:text-sm z-50 dark:bg-neutral-950 dark:border-neutral-800",style:_,children:g.jsxs("nav",{className:"flex justify-around items-center max-w-[640px] w-full mx-auto",children:[g.jsx(gd,{icon:g.jsx(wV,{size:22}),label:" ",onClick:e}),g.jsx(gd,{icon:g.jsx(xV,{size:22}),label:"",onClick:t}),g.jsx(gd,{icon:g.jsx(a5,{size:22}),label:"FAQ",onClick:n}),g.jsx(gd,{icon:g.jsx(MV,{size:22}),label:"",onClick:()=>i(!0)}),p?g.jsx(gd,{icon:g.jsx(o5,{size:22}),label:"",onClick:()=>u(!0),disabled:a}):g.jsx(gd,{icon:g.jsx(k2,{size:22}),label:"",onClick:b})]})}),g.jsx(zue,{open:r,onClose:()=>i(!1)}),p&&l&&g.jsx("div",{className:"fixed inset-0 z-[120] flex items-center justify-center bg-black/50",onClick:()=>u(!1),children:g.jsxs("div",{className:"w-full max-w-sm bg-white dark:bg-neutral-900 text-neutral-900 dark:text-neutral-100 p-6 rounded-xl shadow-xl",onClick:T=>T.stopPropagation(),children:[g.jsx("h3",{className:"text-lg font-bold mb-4",children:" ?"}),g.jsxs("div",{className:"flex gap-3",children:[g.jsx("button",{type:"button",className:"flex-1 py-2 rounded-lg bg-neutral-200 dark:bg-neutral-800 text-neutral-900 dark:text-neutral-100 cursor-pointer",onClick:()=>u(!1),children:""}),g.jsx("button",{type:"button",className:"flex-1 py-2 rounded-lg bg-red-600 text-white hover:bg-red-700 cursor-pointer",onClick:()=>{u(!1),x()},children:""})]})]})})]})}function gd({icon:e,label:t,onClick:n,disabled:r}){return g.jsxs("button",{onClick:n,disabled:r,className:"flex flex-1 flex-col items-center justify-center text-neutral-600 hover:text-purple-600 transition-colors cursor-pointer disabled:opacity-50 disabled:cursor-not-allowed dark:text-neutral-300 dark:hover:text-purple-400",children:[e,g.jsx("span",{className:"mt-1",children:t})]})}const K6=e=>e.map(t=>typeof t=="string"?t.trim():"").filter(t=>t!==""),fy=e=>K6(e).join(""),Hue=()=>{const[e,t]=w.useState(()=>{if(typeof window>"u")return{};try{const u=localStorage.getItem(nD);return u?JSON.parse(u):{}}catch{return{}}});w.useEffect(()=>{if(!(typeof window>"u"))try{localStorage.setItem(nD,JSON.stringify(e))}catch{}},[e]);const[n,r]=w.useState({}),[i,a]=w.useState(""),[o,l]=w.useState(()=>{const u=Qb(),d=ey(),h=d.length?pm(u,d):u;return Ad(h,e)});return w.useEffect(()=>{l(u=>{const d=Ad(u,e);return fy(d)===fy(u)?u:d})},[e]),w.useEffect(()=>{r(u=>{const d={...u};for(const h of o)d[h]===void 0&&(d[h]=!0);return d})},[o]),{folderFavMap:e,setFolderFavMap:t,folderOpenMap:n,setFolderOpenMap:r,newFolderName:i,setNewFolderName:a,orderedFolders:o,setOrderedFolders:l}},Gue=({list:e,orderedFolders:t})=>{const{grouped:n,unassignedItems:r}=w.useMemo(()=>{const i=Ev(e,t),a={};for(const o of t)a[o]=i[o]??[];return{grouped:a,unassignedItems:i[sr]??[]}},[e,t]);return{grouped:n,unassignedItems:r}},qh=async()=>{const{data:e,error:t}=await De.auth.getUser();return t||!e.user?null:e.user.id},que=async e=>{const{data:t,error:n}=await De.from("user_custom_folders").select("folder_name").eq("user_id",e);return n&&n.code==="PGRST205"?{data:[],error:n,disabled:!0}:n?{data:[],error:n}:{data:(t??[]).map(a=>a.folder_name?a.folder_name.trim():"").filter(a=>a!==""),error:null}},Yue=async e=>{const{data:t,error:n}=await De.from("user_folder_order").select("folder_name, sort_order").eq("user_id",e).order("sort_order",{ascending:!0,nullsFirst:!0});return n?{data:[],error:n}:{data:(t??[]).map(a=>a.folder_name?String(a.folder_name):"").filter(a=>a.trim()!==""),error:null}},Kue=async(e,t)=>{const n=t.filter(i=>typeof i=="string"&&i.trim()!=="").map((i,a)=>({user_id:e,folder_name:i.trim(),sort_order:a+1,updated_at:new Date().toISOString()}));if(!n.length){const{error:i}=await De.from("user_folder_order").delete().eq("user_id",e);return{data:null,error:i}}const{error:r}=await De.from("user_folder_order").upsert(n,{onConflict:"user_id,folder_name"});return{data:null,error:r}},Wue=async(e,t)=>{const{error:n}=await De.from("user_folder_order").delete().eq("user_id",e).eq("folder_name",t);return{data:null,error:n}},Vue=async(e,t)=>{const{error:n}=await De.from("user_custom_folders").upsert({user_id:e,folder_name:t,updated_at:new Date().toISOString()});return n&&n.code==="PGRST205"?{data:null,error:n,disabled:!0}:{data:null,error:n}},Zue=async(e,t)=>{const{error:n}=await De.from("user_custom_folders").delete().eq("user_id",e).eq("folder_name",t);return n&&n.code==="PGRST205"?{data:null,error:n,disabled:!0}:{data:null,error:n}},Xue=({folderFavMap:e,setFolderFavMap:t,setOrderedFolders:n,unsetFolderForFolder:r})=>{const[i,a]=w.useState(!1),o=w.useRef(e),l=w.useRef(!1),u=w.useRef(!1);w.useEffect(()=>{o.current=e},[e]),w.useEffect(()=>{(async()=>{if(i)return;const N=await qh();if(!N)return;try{if(!u.current){const $=await que(N);$.disabled&&(u.current=!0),$.error?console.error("load custom folders from server error:",$.error):$.data.length&&rA($.data)}}catch($){console.error("load custom folders exception:",$)}const j=await Yue(N);if(j.error){console.error("load folder order from server error:",j.error),a(!0);return}const C=Qb(),M=j.data,P=M.length?pm(C,M):pm(C,ey());n(Ad(P,o.current)),M.length&&Td(M),a(!0)})()},[i,n]);const d=w.useCallback(async T=>{const N=await qh();if(!N)return;const j=await Kue(N,T);j.error&&console.error("save folder order to server error:",j.error)},[]),h=w.useRef(null),p=w.useRef(null),b=w.useRef(""),x=w.useCallback((T,N)=>{const j=K6(T),C=fy(j);if(C&&C===b.current)return;h.current=j;const M=async()=>{const P=h.current;if(h.current=null,!P)return;const $=fy(P);$&&$===b.current||(await d(P),b.current=$)};if(N?.immediate){p.current&&(window.clearTimeout(p.current),p.current=null),M();return}p.current&&window.clearTimeout(p.current),p.current=window.setTimeout(()=>{p.current=null,M()},300)},[d]);w.useEffect(()=>()=>{p.current&&(window.clearTimeout(p.current),p.current=null);const T=h.current;h.current=null,T&&T.length&&d(T)},[d]),w.useEffect(()=>{if(typeof window>"u")return;const T=()=>{if(l.current){l.current=!1;return}const N=Qb(),j=ey(),C=j.length?pm(N,j):N;n(Ad(C,o.current))};return window.addEventListener(Rl,T),()=>window.removeEventListener(Rl,T)},[n]);const k=w.useCallback(T=>{const{source:N,destination:j,type:C}=T;if(!j||C!=="FOLDER")return;const M=N.index,P=j.index;M!==P&&n($=>{if(!$.length)return $;const U=[...$],[Y]=U.splice(M,1);U.splice(P,0,Y);const W=Ad(U,o.current);return l.current=!0,Td(W),x(W),W})},[x,n]),S=w.useCallback(T=>{const N=T.trim();!N||N===fn||(R4(N),(async()=>{if(u.current)return;const j=await qh();if(!j)return;const C=await Vue(j,N);C.disabled&&(u.current=!0),C.error&&console.error("save custom folder error:",C.error)})(),n(j=>{if(j.includes(N))return j;const C=[...j,N],M=Ad(C,o.current);return Td(M),x(M,{immediate:!0}),M}))},[x,n]),_=w.useCallback(T=>{r(T),t(N=>{const j={...N};return delete j[T],j}),n(N=>{const j=N.filter(C=>C!==T);return Td(j),x(j,{immediate:!0}),(async()=>{const C=await qh();if(!C)return;const M=await Wue(C,T);M.error&&console.error("delete folder order entry error:",M.error)})(),j}),M4.includes(T)?vne(T):(yne(T),(async()=>{if(u.current)return;const N=await qh();if(!N)return;const j=await Zue(N,T);j.disabled&&(u.current=!0),j.error&&console.error("delete custom folder error:",j.error)})())},[x,t,n,r]);return{handleDragEnd:k,createFolder:S,deleteFolder:_,UNASSIGNED_LABEL:fn}};function Jue(e,t){const n=Hue(),r=Gue({list:e,orderedFolders:n.orderedFolders}),i=Xue({folderFavMap:n.folderFavMap,setFolderFavMap:n.setFolderFavMap,setOrderedFolders:n.setOrderedFolders,unsetFolderForFolder:t.unsetFolderForFolder});return{folderFavMap:n.folderFavMap,setFolderFavMap:n.setFolderFavMap,folderOpenMap:n.folderOpenMap,setFolderOpenMap:n.setFolderOpenMap,newFolderName:n.newFolderName,setNewFolderName:n.setNewFolderName,orderedFolders:n.orderedFolders,grouped:r.grouped,unassignedItems:r.unassignedItems,handleDragEnd:i.handleDragEnd,createFolder:i.createFolder,deleteFolder:i.deleteFolder,UNASSIGNED_LABEL:i.UNASSIGNED_LABEL}}function Que({onClose:e,onAddNew:t,isLoggedIn:n,onLogin:r}){const i=wr(p=>p.list.length),o=on(p=>p.canAddMyeongsik)(i),l=!o.ok,u=l?o.message:"",d=()=>{if(l){_o(u||"   ");return}t()},h=async()=>{const{error:p}=await De.auth.signOut();if(p){console.error(p),_o("  ");return}_o(" ")};return g.jsxs("div",{className:"flex justify-between items-center w-full h-12 desk:h-16 p-4 border-b border-neutral-200 dark:border-neutral-800",children:[g.jsx("h2",{className:"text-lg font-bold",children:" "}),g.jsxs("div",{className:"flex items-center gap-2",children:[n?g.jsxs("button",{type:"button",onClick:h,className:`inline-flex items-center gap-1 px-3 py-1.5 rounded text-sm cursor-pointer
                       bg-neutral-200 text-neutral-800 hover:bg-neutral-300
                       dark:bg-neutral-800 dark:text-neutral-100 dark:hover:bg-neutral-700`,title:"",children:[g.jsx(o5,{size:16})," "]}):g.jsxs("button",{type:"button",onClick:r,className:`inline-flex items-center gap-1 px-3 py-1.5 rounded text-sm cursor-pointer
                       bg-neutral-200 text-neutral-800 hover:bg-neutral-300
                       dark:bg-neutral-800 dark:text-neutral-100 dark:hover:bg-neutral-700`,title:"",children:[g.jsx(k2,{size:16})," "]}),g.jsxs("button",{type:"button",onClick:d,disabled:l,title:u,className:l?"inline-flex items-center gap-1 px-3 py-1.5 rounded text-sm bg-neutral-200 text-neutral-500 dark:bg-neutral-800 dark:text-neutral-400 cursor-not-allowed opacity-80":"inline-flex items-center gap-1 px-3 py-1.5 rounded text-sm cursor-pointer bg-purple-600 hover:bg-purple-500 text-white",children:[g.jsx(NV,{size:16}),"  ",l?"":""]}),g.jsx("button",{type:"button",onClick:e,className:"p-1 rounded cursor-pointer hover:bg-neutral-100 dark:hover:bg-neutral-900","aria-label":" ",title:"",children:g.jsx(Fb,{size:22})})]})]})}function ede({search:e,setSearch:t,searchMode:n,setSearchMode:r,isFiltering:i,totalMatches:a}){return g.jsx("div",{className:"mb-3 sticky top-[-16px] z-10 pb-2 pt-2 bg-white dark:bg-neutral-950 z-50",children:g.jsxs("div",{className:"flex items-center gap-2",children:[g.jsxs("select",{value:n,onChange:o=>r(o.target.value),className:"h-30 text-xs rounded px-2 py-1 cursor-pointer bg-white dark:bg-neutral-900 border border-neutral-300 dark:border-neutral-700 text-neutral-900 dark:text-neutral-100 focus:outline-none focus:ring-2 focus:ring-amber-500/40",children:[g.jsx("option",{value:"name",children:""}),g.jsx("option",{value:"ganji",children:""}),g.jsx("option",{value:"birth",children:""})]}),g.jsxs("div",{className:"relative flex-1",children:[g.jsx("input",{type:"text",value:e,onChange:o=>t(o.target.value),placeholder:n==="name"?" ":n==="ganji"?"  (: )":"  (: 19961229, 1996-12-29)",className:"w-full pl-7 pr-8 py-1 h-30 rounded bg-white dark:bg-neutral-900 border border-neutral-300 dark:border-neutral-700 text-[16px] text-neutral-900 dark:text-neutral-100 placeholder-neutral-400 dark:placeholder-neutral-500 focus:outline-none focus:ring-2 focus:ring-amber-500/40"}),e&&g.jsx("button",{type:"button",onClick:()=>t(""),className:"absolute right-2 top-1/2 -translate-y-1/2 opacity-60 hover:opacity-100","aria-label":" ",title:" ",children:g.jsx(yV,{size:16})})]}),i&&g.jsxs("span",{className:"text-xs text-neutral-500 dark:text-neutral-400 whitespace-nowrap",children:[a,""]})]})})}function tde({newFolderName:e,setNewFolderName:t,onCreate:n,isFiltering:r}){return g.jsxs(g.Fragment,{children:[g.jsxs("div",{className:"flex items-center mb-2 gap-2",children:[g.jsx("input",{type:"text",value:e,onChange:i=>t(i.target.value),placeholder:"  ",className:"flex-1 w-[60%] px-2 py-1 rounded h-30 bg-white dark:bg-neutral-900 border border-neutral-300 dark:border-neutral-700 text-sm text-neutral-900 dark:text-neutral-100 placeholder-neutral-400 dark:placeholder-neutral-500",onClick:i=>i.stopPropagation()}),g.jsx("button",{type:"button",className:"px-3 rounded h-30 text-sm cursor-pointer bg-neutral-100 hover:bg-neutral-200 dark:bg-neutral-800 dark:hover:bg-neutral-700 text-neutral-900 dark:text-neutral-100 border border-neutral-200 dark:border-neutral-700",onClick:i=>{i.stopPropagation(),n()},children:""})]}),g.jsx("p",{className:"text-xs text-neutral-600 dark:text-neutral-400 mb-2",children:r?"   .":"/      ."})]})}function wP({droppableId:e,items:t,isDropDisabled:n,className:r}){return g.jsx(mf,{droppableId:e,type:"ITEM",direction:"vertical",ignoreContainerClipping:!0,isDropDisabled:n,children:i=>g.jsx("div",{ref:i.innerRef,...i.droppableProps,className:r,children:g.jsxs("ul",{className:"flex flex-col gap-2",children:[t,i.placeholder]})})})}function nde({folderName:e,folderIndex:t,isOpen:n,isFavorite:r,itemCount:i,isDragDisabled:a,onToggleOpen:o,onToggleFavorite:l,onDelete:u,inner:d}){return g.jsx(hf,{draggableId:`folder-${e}`,index:t,isDragDisabled:a,children:h=>g.jsxs("div",{ref:h.innerRef,...h.draggableProps,...h.dragHandleProps,className:"mb-4 cursor-grab active:cursor-grabbing select-none",children:[g.jsxs("div",{className:"flex items-center justify-between px-2 py-2 rounded bg-neutral-50 dark:bg-neutral-900/70 border border-neutral-200 dark:border-neutral-800 text-neutral-800 dark:text-neutral-200",children:[g.jsxs("div",{className:"flex items-center gap-2",children:[g.jsxs("button",{type:"button",onClick:p=>{p.stopPropagation(),o()},className:"inline-flex items-center gap-1 text-sm font-semibold cursor-pointer",children:[n?g.jsx(pV,{size:16}):g.jsx(hV,{size:16}),g.jsx("span",{className:"text-sm font-semibold",children:e})]}),g.jsx("button",{type:"button",onClick:p=>{p.stopPropagation(),l()},className:`p-1 rounded cursor-pointer ${r?"text-yellow-400":"text-neutral-400"} hover:text-yellow-400`,"aria-label":"  ",title:r?" ":"",children:g.jsx(s5,{size:16,fill:r?"currentColor":"none"})})]}),g.jsxs("div",{className:"flex items-center gap-2",children:[g.jsxs("span",{className:"opacity-60 text-xs",children:[i,""]}),g.jsx("button",{type:"button",onClick:p=>{p.stopPropagation(),u()},className:"px-2 py-1 rounded text-xs cursor-pointer border border-red-300 dark:border-red-700 text-red-700 dark:text-red-300 hover:bg-red-50 dark:hover:bg-red-900/30",children:""})]})]}),n?d:null]})},`folder-${e}`)}const rde=()=>({canManage:on(()=>!0)}),Lm="";function ide(e,t){if(!/^\d{8}$/.test(e))return e||"";const n=e.slice(0,4),r=e.slice(4,6),i=e.slice(6,8);return t&&/^\d{4}$/.test(t)?`${n} ${r} ${i} ${t.slice(0,2)}:${t.slice(2,4)}`:t===Lm?`${n} ${r} ${i} ( )`:`${n} ${r} ${i}`}function ade(e){if(!e||e==="")return"";const t=e.split(/[\s,]+/).filter(Boolean);if(t.length===0)return"";const n=o=>t.find(l=>o.some(u=>l.endsWith(u))),r=n(["","","","",""]),i=n(["","","","","",""]);return t.length===1||!n(["","","","","","","","","","",""])&&!n(["","","","","",""])?e:r&&i?`${r} ${i}`:r||e}function SP(e){return(e.ganji??"").replace(/\r\n/g,`
`).replace(/\s*null\s*/gi,"").trim()}function ode(e){const t=SP(e),n=String(e.birthDay??"").trim();if(!/^\d{8}$/.test(n))return t;const r=Number(n.slice(0,4)),i=Number(n.slice(4,6)),a=Number(n.slice(6,8));if(!Mm(r,i,a)||!e.birthTime||e.birthTime===Lm)return t;const o=Number(e.birthTime.slice(0,2)),l=e.birthTime.slice(2,4),u=o-1<0?23:o-1,d=String(u).padStart(2,"0")+l,h=e.corrected instanceof Date?e.corrected:new Date(e.corrected);if(Number.isNaN(h.getTime()))return t;const p=new Date(h.getTime()-3600*1e3),b=Z2({...e,birthTime:d,corrected:p});return SP({...e,...b})}function sde(e){const t=String(e??"").trim();if(/^\d{8}$/.test(t)){const r=Number(t.slice(0,4));return Number.isFinite(r)?r:NaN}const n=new Date(t);return Number.isNaN(n.getTime())?NaN:n.getFullYear()}function lde(e,t){return Number.isNaN(e)?0:t-e+1}function cde(e){return{...e,transition:e?.transform?"transform 0.15s ease":"none"}}function ude(e){return e===""?"":e===""?"":e??""}function dde(e){const t=e.trim(),n=/^(\d{1,2}):(\d{2})$/.exec(t);if(!n)return null;const r=Number(n[1]),i=Number(n[2]);if(!Number.isFinite(r)||!Number.isFinite(i)||r<0||r>23||i<0||i>59)return null;const a=r-1<0?23:r-1;return`${String(a).padStart(2,"0")}:${String(i).padStart(2,"0")}`}function fde(e,t){if(t)return Lm;const n=String(e.birthDay??"").trim(),r=String(e.correctedLocal??"").trim(),i=e.corrected instanceof Date?e.corrected:new Date(String(e.corrected??"")),a=!Number.isNaN(i.getTime()),o=r||(a?qk(i):"");if(!/^\d{8}$/.test(n))return o;const l=Number(n.slice(0,4)),u=Number(n.slice(4,6)),d=Number(n.slice(6,8));if(!Mm(l,u,d)||!e.birthTime||e.birthTime===Lm)return o;if(a){const p=new Date(i.getTime()-36e5);return qk(p)}return dde(r)??o}function hde({m:e,memoOpen:t,isDragDisabled:n}){const r=n,i=`item:${e.id}`,a=ode(e),o=ade(e.birthPlace?.name),l=e.relationship?.trim()?e.relationship:" ",u=ude(e.gender),d=!e.birthTime||e.birthTime===Lm,h=fde(e,d),p=!!(o||h),b=ide(e.birthDay,e.birthTime),x=e.calendarType==="lunar"?"":"",k=sde(e.birthDay),S=lde(k,new Date().getFullYear()),_=!!(e.memo&&e.memo.trim()!==""),T=t?" ":" ",N=e.mingSikType??"/",j=r?" ":"::",C=e.favorite?" ":"";return{keyId:i,dragDisabled:r,dragHandleLabel:j,ganji:a,placeDisplay:o,relationshipLabel:l,genderLabel:u,birthDisplay:b,calendarLabel:x,correctedLabel:h,showMetaLine:p,showMemo:_,memoToggleLabel:T,age:S,mingSikTypeValue:N,favoriteLabel:C,editLabel:"",deleteLabel:"",getDragStyle:cde}}const mde=({m:e,unassignedLabel:t,onToggleMemo:n,onChangeFolder:r,onChangeMingSikType:i,onView:a,onEdit:o,onDelete:l,onToggleFavorite:u})=>{const d=w.useCallback(_=>{_?.stopPropagation(),n(e.id)},[n,e.id]),h=w.useCallback(_=>{_?.stopPropagation(),a(e)},[a,e]),p=w.useCallback(_=>{_?.stopPropagation(),o(e)},[o,e]),b=w.useCallback(_=>{_?.stopPropagation(),l(e)},[l,e]),x=w.useCallback(_=>{_?.stopPropagation(),u(e.id)},[u,e.id]),k=w.useCallback(_=>{const T=_===t?void 0:_;r(e.id,T)},[r,e.id,t]),S=w.useCallback(_=>{i(e,_)},[i,e]);return{handleToggleMemo:d,handleView:h,handleEdit:p,handleDelete:b,handleToggleFavorite:x,handleFolderChange:k,handleMingSikTypeChange:S}};function kP({m:e,index:t,orderedFolders:n,unassignedLabel:r,isDragDisabled:i,memoOpen:a,onToggleMemo:o,onChangeFolder:l,onChangeMingSikType:u,onView:d,onEdit:h,onDelete:p,onToggleFavorite:b}){rde();const x=hde({m:e,memoOpen:a,isDragDisabled:i}),k=mde({m:e,unassignedLabel:r,onToggleMemo:o,onChangeFolder:l,onChangeMingSikType:u,onView:d,onEdit:h,onDelete:p,onToggleFavorite:b});return g.jsx(hf,{draggableId:x.keyId,index:t,isDragDisabled:i,children:S=>g.jsx("li",{ref:S.innerRef,...S.draggableProps,...S.dragHandleProps,style:S.draggableProps.style,className:`list-none select-none rounded-xl border bg-white dark:bg-neutral-900 border-neutral-200 dark:border-neutral-800 text-neutral-900 dark:text-neutral-100 ${i?"cursor-default":"cursor-grab active:cursor-grabbing"}`,children:g.jsxs("div",{className:"p-3",children:[g.jsxs("div",{className:"flex items-center gap-2",children:[g.jsxs("div",{className:"font-semibold text-sm desk:text-base",children:[e.name," (",x.age," ",x.genderLabel,")"]}),g.jsx("span",{className:"opacity-40",children:""}),g.jsx("div",{className:"text-sm text-neutral-600 dark:text-neutral-300",children:x.relationshipLabel}),g.jsx("span",{className:"ml-auto opacity-50 select-none",children:x.dragHandleLabel})]}),g.jsxs("div",{className:"text-sm text-neutral-600 dark:text-neutral-300 mt-1",children:[x.birthDisplay,", ",x.calendarLabel]}),x.showMetaLine&&g.jsxs("div",{className:"text-sm text-neutral-500 dark:text-neutral-400",children:[x.placeDisplay,x.correctedLabel&&g.jsxs("span",{className:"opacity-70",children:["  ",x.correctedLabel]})]}),x.ganji&&g.jsx("div",{className:"text-sm text-neutral-800 dark:text-neutral-200 mt-1 whitespace-pre-wrap break-keep",children:x.ganji}),x.showMemo&&g.jsxs("div",{children:[g.jsx("button",{type:"button",className:"text-xs text-neutral-500 dark:text-neutral-400 hover:text-neutral-800 dark:hover:text-neutral-200 inline-flex items-center gap-1 cursor-pointer",onClick:k.handleToggleMemo,children:x.memoToggleLabel}),g.jsx("div",{className:a?"mt-1 text-sm text-neutral-800 dark:text-neutral-200 whitespace-pre-wrap":"hidden",children:e.memo})]}),g.jsxs("div",{className:"flex flex-wrap gap-2 mt-3",children:[g.jsx("select",{className:"h-30 text-xs rounded px-2 py-1 bg-white dark:bg-neutral-900 border border-neutral-300 dark:border-neutral-700 text-neutral-900 dark:text-neutral-100 focus:outline-none focus:ring-2 focus:ring-amber-500/40 cursor-pointer",value:e.folder??r,onClick:_=>_.stopPropagation(),onChange:_=>{_.stopPropagation(),k.handleFolderChange(_.target.value)},children:[r,...n].map(_=>g.jsx("option",{value:_,children:_},_))}),g.jsxs("select",{className:"h-30 text-xs rounded px-2 py-1 bg-white dark:bg-neutral-900 border border-neutral-300 dark:border-neutral-700 text-neutral-900 dark:text-neutral-100 focus:outline-none focus:ring-2 focus:ring-amber-500/40 cursor-pointer",value:x.mingSikTypeValue,onClick:_=>_.stopPropagation(),onChange:_=>{_.stopPropagation(),k.handleMingSikTypeChange(_.target.value)},children:[g.jsx("option",{value:"",children:""}),g.jsx("option",{value:"/",children:"/"}),g.jsx("option",{value:"",children:""})]})]}),g.jsxs("div",{className:"flex gap-2 mt-3",children:[g.jsx("button",{type:"button",onClick:k.handleView,className:"px-3 py-1 rounded text-white text-sm cursor-pointer bg-indigo-600 hover:bg-indigo-500",children:""}),g.jsx("button",{type:"button",title:"",onClick:k.handleEdit,className:"px-3 py-1 rounded text-white text-sm bg-amber-600 hover:bg-amber-500 cursor-pointer",children:x.editLabel}),g.jsx("button",{type:"button",title:"",onClick:k.handleDelete,className:"px-3 py-1 rounded text-white text-sm bg-red-600 hover:bg-red-500 cursor-pointer",children:x.deleteLabel}),g.jsx("button",{type:"button",title:x.favoriteLabel,onClick:k.handleToggleFavorite,className:`ml-auto p-1 rounded cursor-pointer ${e.favorite?"text-yellow-400":"text-neutral-400"} hover:text-yellow-400`,"aria-label":x.favoriteLabel,children:g.jsx(s5,{size:16,fill:e.favorite?"currentColor":"none"})})]})]})})},x.keyId)}const pde="list:__unassigned__",gde=e=>`list:${e}`,EP=e=>{if(!e.startsWith("list:"))return;const t=e.slice(5);return t==="__unassigned__"?void 0:t},bde=({search:e,searchMode:t,orderedFolders:n,grouped:r,unassignedItems:i})=>{const a=T4(e),{filteredUnassigned:o,filteredGrouped:l,totalMatches:u}=w.useMemo(()=>ene({search:e,searchMode:t,orderedFolders:n,unassignedItems:i,grouped:r}),[e,t,n,i,r]);return{isFiltering:a,filteredUnassigned:o,filteredGrouped:l,totalMatches:u}},yde=({list:e,orderedFolders:t})=>{const[n,r]=w.useState(""),[i,a]=w.useState("name"),[o,l]=w.useState({}),u=w.useRef(null),d=w.useRef(null);return w.useEffect(()=>{if(d.current==null)return;const b=u.current;b&&(b.scrollTop=d.current,d.current=null)},[e,t]),{search:n,setSearch:r,searchMode:i,setSearchMode:a,memoOpenMap:o,toggleMemo:b=>{l(x=>({...x,[b]:!x[b]}))},scrollRef:u,stashScrollTop:()=>{const b=u.current;b&&(d.current=b.scrollTop)}}},AP=()=>{typeof window>"u"||window.dispatchEvent(new Event(Rl))},vde=({list:e,orderedFolders:t,isFiltering:n,handleFolderDragEnd:r,moveItemByDnD:i,applyNextList:a,update:o,remove:l,onView:u,onClose:d,onDeleteView:h,folderFavMap:p,setFolderFavMap:b,setFolderOpenMap:x,createFolder:k,deleteFolder:S,newFolderName:_,setNewFolderName:T,stashScrollTop:N})=>{const j=w.useCallback((z,V)=>{const{nextList:X}=Kte({list:e,orderedFolders:t,targetId:z,nextFolder:V??""});a(X)},[e,t,a]),C=w.useCallback((z,V)=>{const X={...z,mingSikType:V},Z=Z2(X);o(z.id,{mingSikType:V,...Z}),u({...X,...Z}),d()},[o,u,d]),M=w.useCallback(z=>{u(z),d()},[u,d]),P=w.useCallback(z=>{confirm(`'${z.name}'  ?`)&&(l(z.id),h&&h())},[l,h]),$=w.useCallback(()=>{const z=_.trim();z&&(k(z),T(""),AP())},[_,k,T]),U=w.useCallback(z=>{if(p[z]){alert(`'${z}'   .
   .`);return}confirm(`'${z}'  ?
(   )`)&&(S(z),AP())},[p,S]),Y=w.useCallback(z=>{x(V=>({...V,[z]:!V[z]}))},[x]),W=w.useCallback(z=>{b(V=>({...V,[z]:!V[z]}))},[b]);return{handleDrop:w.useCallback(z=>{const{type:V,source:X,destination:Z,draggableId:q}=z;if(Z&&!n){if(N(),V==="FOLDER"){r(z);return}if(V==="ITEM"){if(!q.replace(/^item:/,""))return;const ne=EP(X.droppableId),ue=EP(Z.droppableId);i({orderedFolders:t,sourceFolder:ne,sourceIndex:X.index,destinationFolder:ue,destinationIndex:Z.index})}}},[n,N,r,i,t]),changeFolder:j,changeMingSikType:C,viewAndClose:M,requestDelete:P,createFolderAndNotify:$,requestDeleteFolder:U,toggleFolderOpen:Y,toggleFolderFavorite:W}};function xde({open:e,onClose:t,onView:n,onAddNew:r,onEdit:i,onDeleteView:a,isLoggedIn:o}){const[l,u]=w.useState(!1),{list:d,remove:h,update:p,moveItemByDnD:b,toggleFavoriteWithReorder:x,unsetFolderForFolder:k,applyNextList:S}=wr(),{folderFavMap:_,setFolderFavMap:T,folderOpenMap:N,setFolderOpenMap:j,newFolderName:C,setNewFolderName:M,orderedFolders:P,grouped:$,unassignedItems:U,handleDragEnd:Y,createFolder:W,deleteFolder:H,UNASSIGNED_LABEL:z}=Jue(d,{unsetFolderForFolder:k}),V=yde({list:d,orderedFolders:P}),{isFiltering:X,filteredUnassigned:Z,filteredGrouped:q,totalMatches:Q}=bde({search:V.search,searchMode:V.searchMode,orderedFolders:P,unassignedItems:U,grouped:$}),ne=vde({list:d,applyNextList:S,orderedFolders:P,isFiltering:X,handleFolderDragEnd:Y,moveItemByDnD:b,update:p,remove:h,onView:n,onClose:t,onDeleteView:a,folderFavMap:_,setFolderFavMap:T,setFolderOpenMap:j,createFolder:W,deleteFolder:H,newFolderName:C,setNewFolderName:M,stashScrollTop:V.stashScrollTop}),ue=()=>{u(!0)},se=K=>{bu.flushSync(()=>{u(!1),ne.handleDrop(K)})},B=()=>{wo.getState().openWith("HEADER")};return g.jsxs(g.Fragment,{children:[g.jsx("style",{children:"[data-rbd-drag-handle-context-id]{touch-action:none!important}"}),g.jsx("div",{className:`fixed inset-0 bg-black/70 transition-opacity duration-300 z-100 ${e?"opacity-100 pointer-events-auto":"opacity-0 pointer-events-none"}`,onClick:t}),g.jsxs("div",{className:`fixed top-0 left-0 h-[100dvh] min-w-[320px] w-full desk:w-1/3
                    bg-white dark:bg-neutral-950
                    text-neutral-900 dark:text-white
                    shadow-lg z-101 transition-[left] duration-300
                    overflow-hidden
                    ${e?"left-0":"left-[-100%]"}`,children:[g.jsx(Que,{onClose:t,onAddNew:()=>{r(),t()},onLogin:()=>{B()},isLoggedIn:o}),g.jsx(lp,{onBeforeDragStart:ue,onDragEnd:se,children:g.jsxs("div",{ref:V.scrollRef,className:"p-4 h-[calc(100%-56px)] overflow-y-auto overscroll-contain",style:{touchAction:l?"none":"pan-y"},children:[g.jsx(ede,{search:V.search,setSearch:V.setSearch,searchMode:V.searchMode,setSearchMode:V.setSearchMode,isFiltering:X,totalMatches:Q}),g.jsx(tde,{newFolderName:C,setNewFolderName:M,isFiltering:X,onCreate:ne.createFolderAndNotify}),g.jsx(wP,{droppableId:pde,isDropDisabled:X,className:"mb-6",items:Z.map((K,ie)=>g.jsx(kP,{m:K,index:ie,orderedFolders:P,unassignedLabel:z,isDragDisabled:X,memoOpen:!!V.memoOpenMap[K.id],onToggleMemo:V.toggleMemo,onChangeFolder:ne.changeFolder,onChangeMingSikType:ne.changeMingSikType,onView:ne.viewAndClose,onEdit:J=>i(J),onDelete:ne.requestDelete,onToggleFavorite:J=>void x(J,P)},K.id))}),g.jsx(mf,{droppableId:"folders:root",type:"FOLDER",direction:"vertical",ignoreContainerClipping:!0,isDropDisabled:X,children:K=>g.jsxs("div",{ref:K.innerRef,...K.droppableProps,children:[P.map((ie,J)=>{const oe=gde(ie),fe=q[ie]||[],he=!!N[ie],ke=!!_[ie];return g.jsx(nde,{folderName:ie,folderIndex:J,isOpen:he,isFavorite:ke,itemCount:fe.length,isDragDisabled:X,onToggleOpen:()=>ne.toggleFolderOpen(ie),onToggleFavorite:()=>ne.toggleFolderFavorite(ie),onDelete:()=>ne.requestDeleteFolder(ie),inner:g.jsx(wP,{droppableId:oe,isDropDisabled:X,className:"mt-2",items:fe.map((re,xe)=>g.jsx(kP,{m:re,index:xe,orderedFolders:P,unassignedLabel:z,isDragDisabled:X,memoOpen:!!V.memoOpenMap[re.id],onToggleMemo:V.toggleMemo,onChangeFolder:ne.changeFolder,onChangeMingSikType:ne.changeMingSikType,onView:ne.viewAndClose,onEdit:Ne=>i(Ne),onDelete:ne.requestDelete,onToggleFavorite:Ne=>void x(Ne,P)},re.id))})},`folder-${ie}`)}),K.placeholder]})})]})})]})]})}function TP(e){return{...e,calendarType:e.calendarType??"solar"}}function jP(e){return!e.birthTime||e.birthTime===""}function OP(e){return!e.birthPlace||e.birthPlace.name===""}function _de(e,t){if(t!=="lunar"||!e||e.length!==8)return null;try{const n=Number(e.slice(0,4)),r=Number(e.slice(4,6)),i=Number(e.slice(6,8)),a=Gi(n,r,i),o=String(a.getMonth()+1).padStart(2,"0"),l=String(a.getDate()).padStart(2,"0");return`  ${a.getFullYear()}-${o}-${l}`}catch(n){const r=n instanceof Error?n.message:void 0;return`  ${r?`: ${r}`:""}`}}const W6="ms_folders";function wde(){try{const e=JSON.parse(localStorage.getItem(W6)||"[]");return Array.isArray(e)?e:[]}catch{return[]}}function Sde(e){localStorage.setItem(W6,JSON.stringify(e))}function kde(e){const[t,n]=w.useState(!1),[r,i]=w.useState(()=>TP(e)),[a,o]=w.useState(jP(e)),[l,u]=w.useState(OP(e)),[d,h]=w.useState([]);return w.useEffect(()=>{h(wde())},[]),{isEditing:t,setIsEditing:n,form:r,setForm:i,updateForm:(x,k)=>{i(S=>({...S,[x]:k}))},unknownTime:a,setUnknownTime:o,unknownPlace:l,setUnknownPlace:u,customFolders:d,setCustomFolders:h,resetForm:()=>{i(TP(e)),o(jP(e)),u(OP(e))}}}const V6=["","","","","",""];function Ede(e,t){const n=Array.from(new Set(e.map(a=>a.folder).filter(Boolean))),r=new Set([...V6,...t,...n]),i=Array.from(r).sort((a,o)=>a.localeCompare(o));return[fn,...i]}function Ade({list:e,customFolders:t,form:n}){const r=w.useMemo(()=>Ede(e,t),[e,t]),i=w.useMemo(()=>_de(n.birthDay,n.calendarType),[n.birthDay,n.calendarType]);return{folderOptions:r,lunarPreview:i}}function Tde(e,t,n){if(!e.name||e.name.trim()==="")return" .";const r=X2(e.birthDay??"",e.calendarType??"solar");if(!r.ok)return r.message;const i=J2(e.birthTime??"",t);return i.ok?!n&&!e.birthPlace?"   '' .":null:i.message}function jde({item:e,form:t,unknownTime:n,unknownPlace:r,customFolders:i,setCustomFolders:a,update:o,remove:l,onClose:u,onSaved:d}){return{save:()=>{const b=Tde(t,n,r);if(b){alert(b);return}const x=nu(t.folder===fn?void 0:t.folder),k=S4({id:e.id,name:t.name,birthDay:t.birthDay??"",calendarType:t.calendarType??"solar",birthTime:t.birthTime,unknownTime:n,gender:t.gender,birthPlace:t.birthPlace,unknownPlace:r,relationship:t.relationship,memo:t.memo,folder:x,mingSikType:t.mingSikType,favorite:e.favorite,deletedAt:e.deletedAt??null,sortOrder:e.sortOrder,dateObj:e.dateObj},{requireName:!0});if(!k.ok){alert(k.message);return}const S={...e,...k.value};if(S.folder&&!V6.includes(S.folder)&&!i.includes(S.folder)){const _=[...i,S.folder];a(_),Sde(_)}o(e.id,S),d?.(),u?.()},removeThis:()=>{confirm(`'${e.name}'  ?`)&&l(e.id)}}}const m1="w-full rounded p-2 border transition-colors duration-200 bg-white text-neutral-900 placeholder-neutral-400 border-neutral-300 focus:outline-none focus:ring-2 focus:ring-violet-500 focus:border-transparent dark:bg-neutral-900 dark:text-neutral-100 dark:placeholder-neutral-500 dark:border-neutral-700 dark:focus:ring-violet-400",Ode="w-full rounded p-2 border transition-colors duration-200 bg-white text-neutral-900 border-neutral-300 focus:outline-none focus:ring-2 focus:ring-violet-500 focus:border-transparent dark:bg-neutral-900 dark:text-neutral-100 dark:border-neutral-700 dark:focus:ring-violet-400",Nde="w-full rounded p-2 border min-h-28 transition-colors duration-200 bg-white text-neutral-900 placeholder-neutral-400 border-neutral-300 focus:outline-none focus:ring-2 focus:ring-violet-500 focus:border-transparent dark:bg-neutral-900 dark:text-neutral-100 dark:placeholder-neutral-500 dark:border-neutral-700 dark:focus:ring-violet-400",ss="block text-sm mb-1 font-medium text-neutral-800 dark:text-neutral-200",Cde="text-xs text-neutral-500 dark:text-neutral-400",G0="accent-violet-600 dark:accent-violet-400",NP="accent-violet-600 dark:accent-violet-400",Rv="px-3 py-1.5 rounded text-sm font-medium transition-colors duration-200 focus:outline-none focus:ring-2 focus:ring-offset-2 dark:focus:ring-offset-neutral-900",Mde=`${Rv} bg-amber-600 text-white hover:bg-amber-500 dark:bg-amber-600 dark:hover:bg-amber-500 cursor-pointer`,Dde=`${Rv} bg-red-600 text-white hover:bg-red-500 dark:bg-red-600 dark:hover:bg-red-500 cursor-pointer`,CP=`${Rv} bg-neutral-800 text-white hover:bg-neutral-700 dark:bg-neutral-700 dark:hover:bg-neutral-600 cursor-pointer`,Pde=`${Rv} bg-green-600 text-white hover:bg-green-500 dark:bg-green-600 dark:hover:bg-green-500 cursor-pointer`;function Rde({item:e,onClose:t}){const{list:n,update:r,remove:i}=wr(),a=kde(e),o=Ade({list:n,customFolders:a.customFolders,form:a.form}),l=jde({item:e,form:a.form,unknownTime:a.unknownTime,unknownPlace:a.unknownPlace,customFolders:a.customFolders,setCustomFolders:a.setCustomFolders,update:r,remove:i,onClose:t,onSaved:()=>a.setIsEditing(!1)});return a.isEditing?g.jsxs("div",{className:"space-y-4 max-h-[calc(90dvh_-_40px)] overflow-auto transition-colors duration-200 bg-white text-neutral-900 dark:bg-neutral-950 dark:text-neutral-100 p-4 rounded-xl",children:[g.jsx("h3",{className:"text-lg font-bold",children:" "}),g.jsxs("div",{children:[g.jsx("label",{className:ss,children:""}),g.jsx("input",{className:m1,value:a.form.name||"",onChange:u=>a.updateForm("name",u.target.value),placeholder:""})]}),g.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3",children:[g.jsxs("div",{children:[g.jsx("label",{className:ss,children:" (YYYYMMDD)"}),g.jsx("input",{className:m1,value:a.form.birthDay||"",onChange:u=>a.updateForm("birthDay",u.target.value.replace(/\D/g,"").slice(0,8)),inputMode:"numeric",maxLength:8,placeholder:": 19900101"}),g.jsxs("div",{className:"flex gap-4 mt-2 items-center justify-between",children:[g.jsxs("div",{className:"flex gap-4",children:[g.jsxs("span",{className:"inline-flex items-center gap-1",children:[g.jsx("input",{type:"radio",className:G0,name:"calendarType",checked:a.form.calendarType==="solar",onChange:()=>a.updateForm("calendarType","solar"),id:"editor_calendar_solar"}),g.jsx("label",{htmlFor:"editor_calendar_solar",className:"inline-flex items-center gap-1 text-sm text-neutral-800 dark:text-neutral-200 cursor-pointer",children:""})]}),g.jsxs("span",{className:"inline-flex items-center gap-1",children:[g.jsx("input",{type:"radio",className:G0,name:"calendarType",checked:a.form.calendarType==="lunar",onChange:()=>a.updateForm("calendarType","lunar"),id:"editor_calendar_lunar"}),g.jsx("label",{htmlFor:"editor_calendar_lunar",className:"inline-flex items-center gap-1 text-sm text-neutral-800 dark:text-neutral-200 cursor-pointer",children:""})]})]}),o.lunarPreview&&g.jsx("span",{className:Cde,children:o.lunarPreview})]})]}),g.jsxs("div",{children:[g.jsx("label",{className:ss,children:"  (HHMM)"}),g.jsx("input",{className:`${m1} disabled:opacity-50`,value:a.unknownTime?"":a.form.birthTime||"",onChange:u=>a.updateForm("birthTime",u.target.value.replace(/\D/g,"").slice(0,4)),inputMode:"numeric",maxLength:4,placeholder:": 1524",disabled:a.unknownTime}),g.jsxs("div",{className:"mt-1 text-sm flex items-center gap-2",children:[g.jsx("input",{type:"checkbox",className:NP,checked:a.unknownTime,onChange:u=>a.setUnknownTime(u.target.checked),id:"editor_birthTimeX"}),g.jsx("label",{htmlFor:"editor_birthTimeX",className:"text-neutral-800 dark:text-neutral-200 cursor-pointer",children:""})]})]})]}),g.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3",children:[g.jsxs("div",{children:[g.jsx("label",{className:ss,children:" "}),g.jsx("div",{className:"flex gap-4 text-sm",children:["","/",""].map(u=>{const d=`editor_ming_${u}`;return g.jsxs("span",{className:"inline-flex items-center gap-1",children:[g.jsx("input",{type:"radio",className:G0,name:"mingSikType",checked:(a.form.mingSikType??"")===u,onChange:()=>a.updateForm("mingSikType",u),id:d}),g.jsx("label",{htmlFor:d,className:"text-neutral-800 dark:text-neutral-200 cursor-pointer",children:u})]},u)})})]}),g.jsxs("div",{children:[g.jsx("label",{className:ss,children:""}),g.jsx("div",{className:"flex gap-4 text-sm",children:["",""].map(u=>{const d=`editor_gender_${u}`;return g.jsxs("span",{className:"inline-flex items-center gap-1",children:[g.jsx("input",{type:"radio",className:G0,name:"gender",value:u,checked:a.form.gender===u,onChange:h=>a.updateForm("gender",h.target.value),id:d}),g.jsx("label",{htmlFor:d,className:"text-neutral-800 dark:text-neutral-200 cursor-pointer",children:u})]},u)})})]})]}),g.jsxs("div",{children:[g.jsx("label",{className:ss,children:" "}),g.jsx(l5,{onSelect:u=>a.updateForm("birthPlace",u),value:a.unknownPlace?"":a.form.birthPlace?.name??""}),g.jsxs("div",{className:"mt-1 text-sm flex items-center gap-2",children:[g.jsx("input",{type:"checkbox",className:NP,checked:a.unknownPlace,onChange:u=>a.setUnknownPlace(u.target.checked),id:"editor_birthPlaceX"}),g.jsx("label",{htmlFor:"editor_birthPlaceX",className:"text-neutral-800 dark:text-neutral-200 cursor-pointer",children:""})]})]}),g.jsxs("div",{children:[g.jsx("label",{className:ss,children:""}),g.jsx(C4,{value:a.form.relationship||"",onChange:u=>a.updateForm("relationship",u)})]}),g.jsxs("div",{children:[g.jsx("label",{className:ss,children:""}),g.jsx("select",{className:Ode,value:a.form.folder??fn,onChange:u=>{const d=u.target.value;d===fn?a.updateForm("folder",void 0):a.updateForm("folder",d)},children:o.folderOptions.map(u=>g.jsx("option",{value:u===fn?fn:u,children:u},u))})]}),g.jsxs("div",{children:[g.jsx("label",{className:ss,children:""}),g.jsx("textarea",{className:Nde,value:a.form.memo||"",onChange:u=>a.updateForm("memo",u.target.value),placeholder:" "})]}),g.jsxs("div",{className:"flex gap-2 justify-end",children:[g.jsx("button",{className:CP,onClick:()=>{a.resetForm(),a.setIsEditing(!1)},children:""}),g.jsx("button",{className:Pde,onClick:l.save,children:""})]})]}):g.jsxs("div",{className:"p-4 space-y-3 transition-colors duration-200 bg-white text-neutral-900 dark:bg-neutral-950 dark:text-neutral-100",children:[g.jsxs("div",{className:"flex items-center justify-between",children:[g.jsxs("h3",{className:"text-lg font-bold",children:[" ",e.name," "]}),g.jsxs("div",{className:"flex gap-2",children:[g.jsx("button",{className:Mde,onClick:()=>a.setIsEditing(!0),children:""}),g.jsx("button",{className:Dde,onClick:l.removeThis,children:""}),t&&g.jsx("button",{className:CP,onClick:t,children:""})]})]}),g.jsxs("div",{className:"text-sm text-neutral-700 dark:text-neutral-300",children:[g.jsxs("div",{children:[": ",e.gender]}),g.jsxs("div",{children:["/: ",e.birthDay," ",e.birthTime===""?"( )":e.birthTime,","," ",e.calendarType==="lunar"?"":""]}),g.jsxs("div",{children:[": ",e.correctedLocal||"-"]}),g.jsxs("div",{children:[": ",e.birthPlace?.name||"-"]}),g.jsxs("div",{children:[": ",e.relationship||"-"]}),g.jsxs("div",{children:[": ",e.folder??fn]})]}),e.ganji&&g.jsx("div",{className:"text-sm text-red-500 whitespace-pre-wrap",children:e.ganji}),e.memo&&g.jsxs("div",{className:"text-sm whitespace-pre-wrap text-neutral-800 dark:text-neutral-200",children:[g.jsx("p",{className:"mb-1 font-semibold",children:""}),e.memo]})]})}function Lde({children:e}){const t=Hi(),[n,r]=w.useState(!1),i=[{label:" ",href:"/admin/dashboard"},{label:"  ",href:"/admin/user"},{label:"  ",href:"/admin/logs"}];return g.jsxs("div",{className:"flex min-h-screen bg-neutral-950 text-white",children:[g.jsxs("aside",{className:`
          fixed top-0 left-0 h-full bg-neutral-900 border-r border-neutral-800 
          transition-all z-50

          desk:w-60 desk:translate-x-0
          ${n?"w-60 translate-x-0":"-translate-x-full"}
        `,children:[g.jsxs("div",{className:"p-4 font-bold text-lg flex items-center justify-between",children:[g.jsx("span",{className:"desk:block hidden",children:""}),g.jsx("button",{className:"desk:hidden text-neutral-400 hover:text-white",onClick:()=>r(!1),children:""})]}),g.jsx("nav",{className:"mt-4 flex flex-col gap-1 px-2",children:i.map(a=>{const o=t.pathname.startsWith(a.href);return g.jsx("a",{href:a.href,className:`
                  block px-3 py-2 rounded-md text-sm
                  ${o?"bg-neutral-800 text-yellow-400":"text-neutral-300 hover:bg-neutral-800"}
                `,children:a.label},a.href)})})]}),g.jsxs("main",{className:"flex-1 flex flex-col desk:ml-60",children:[g.jsxs("header",{className:"h-14 border-b border-neutral-800 bg-neutral-900 flex items-center px-4 justify-between",children:[g.jsx("button",{className:"desk:hidden text-neutral-300",onClick:()=>r(!0),children:""}),g.jsx("div",{className:"font-semibold",children:" "}),g.jsx("button",{className:"text-sm text-neutral-400 hover:text-white cursor-pointer",onClick:()=>window.location.href="/",children:" "})]}),g.jsx("div",{className:"flex-1",children:e})]})]})}function Ide(){const[e,t]=w.useState(null),[n,r]=w.useState(!0);return w.useEffect(()=>{(async()=>{const{data:a}=await De.auth.getUser(),o=a.user?.id;if(!o){t(null),r(!1);return}const{data:l}=await De.from("admin_roles").select("role").eq("user_id",o).maybeSingle();t(l?.role??null),r(!1)})()},[]),{role:e,loading:n}}function $de({allow:e,children:t}){const{role:n,loading:r}=Ide();return r?g.jsx("div",{className:"text-white p-6",children:"Checking permission..."}):!n||!e.includes(n)?g.jsx("div",{className:"text-red-400 p-6",children:" ."}):g.jsx(g.Fragment,{children:t})}function Z6(e){var t,n,r="";if(typeof e=="string"||typeof e=="number")r+=e;else if(typeof e=="object")if(Array.isArray(e)){var i=e.length;for(t=0;t<i;t++)e[t]&&(n=Z6(e[t]))&&(r&&(r+=" "),r+=n)}else for(n in e)e[n]&&(r&&(r+=" "),r+=n);return r}function Qt(){for(var e,t,n=0,r="",i=arguments.length;n<i;n++)(e=arguments[n])&&(t=Z6(e))&&(r&&(r+=" "),r+=t);return r}var Bde=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"];function jA(e){if(typeof e!="string")return!1;var t=Bde;return t.includes(e)}var zde=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],Ude=new Set(zde);function X6(e){return typeof e!="string"?!1:Ude.has(e)}function J6(e){return typeof e=="string"&&e.startsWith("data-")}function Ga(e){if(typeof e!="object"||e===null)return{};var t={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(X6(n)||J6(n))&&(t[n]=e[n]);return t}function Lv(e){if(e==null)return null;if(w.isValidElement(e)&&typeof e.props=="object"&&e.props!==null){var t=e.props;return Ga(t)}return typeof e=="object"&&!Array.isArray(e)?Ga(e):null}function pa(e){var t={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(X6(n)||J6(n)||jA(n))&&(t[n]=e[n]);return t}function Fde(e){return e==null?null:w.isValidElement(e)?pa(e.props):typeof e=="object"&&!Array.isArray(e)?pa(e):null}var Hde=["children","width","height","viewBox","className","style","title","desc"];function nE(){return nE=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},nE.apply(null,arguments)}function Gde(e,t){if(e==null)return{};var n,r,i=qde(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function qde(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var Q6=w.forwardRef((e,t)=>{var{children:n,width:r,height:i,viewBox:a,className:o,style:l,title:u,desc:d}=e,h=Gde(e,Hde),p=a||{width:r,height:i,x:0,y:0},b=Qt("recharts-surface",o);return w.createElement("svg",nE({},pa(h),{className:b,width:r,height:i,style:l,viewBox:"".concat(p.x," ").concat(p.y," ").concat(p.width," ").concat(p.height),ref:t}),w.createElement("title",null,u),w.createElement("desc",null,d),n)}),Yde=["children","className"];function rE(){return rE=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},rE.apply(null,arguments)}function Kde(e,t){if(e==null)return{};var n,r,i=Wde(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function Wde(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var To=w.forwardRef((e,t)=>{var{children:n,className:r}=e,i=Kde(e,Yde),a=Qt("recharts-layer",r);return w.createElement("g",rE({className:a},pa(i),{ref:t}),n)}),Vde=w.createContext(null);function xn(e){return function(){return e}}const iE=Math.PI,aE=2*iE,Hc=1e-6,Zde=aE-Hc;function e7(e){this._+=e[0];for(let t=1,n=e.length;t<n;++t)this._+=arguments[t]+e[t]}function Xde(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return e7;const n=10**t;return function(r){this._+=r[0];for(let i=1,a=r.length;i<a;++i)this._+=Math.round(arguments[i]*n)/n+r[i]}}class Jde{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?e7:Xde(t)}moveTo(t,n){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,n){this._append`L${this._x1=+t},${this._y1=+n}`}quadraticCurveTo(t,n,r,i){this._append`Q${+t},${+n},${this._x1=+r},${this._y1=+i}`}bezierCurveTo(t,n,r,i,a,o){this._append`C${+t},${+n},${+r},${+i},${this._x1=+a},${this._y1=+o}`}arcTo(t,n,r,i,a){if(t=+t,n=+n,r=+r,i=+i,a=+a,a<0)throw new Error(`negative radius: ${a}`);let o=this._x1,l=this._y1,u=r-t,d=i-n,h=o-t,p=l-n,b=h*h+p*p;if(this._x1===null)this._append`M${this._x1=t},${this._y1=n}`;else if(b>Hc)if(!(Math.abs(p*u-d*h)>Hc)||!a)this._append`L${this._x1=t},${this._y1=n}`;else{let x=r-o,k=i-l,S=u*u+d*d,_=x*x+k*k,T=Math.sqrt(S),N=Math.sqrt(b),j=a*Math.tan((iE-Math.acos((S+b-_)/(2*T*N)))/2),C=j/N,M=j/T;Math.abs(C-1)>Hc&&this._append`L${t+C*h},${n+C*p}`,this._append`A${a},${a},0,0,${+(p*x>h*k)},${this._x1=t+M*u},${this._y1=n+M*d}`}}arc(t,n,r,i,a,o){if(t=+t,n=+n,r=+r,o=!!o,r<0)throw new Error(`negative radius: ${r}`);let l=r*Math.cos(i),u=r*Math.sin(i),d=t+l,h=n+u,p=1^o,b=o?i-a:a-i;this._x1===null?this._append`M${d},${h}`:(Math.abs(this._x1-d)>Hc||Math.abs(this._y1-h)>Hc)&&this._append`L${d},${h}`,r&&(b<0&&(b=b%aE+aE),b>Zde?this._append`A${r},${r},0,1,${p},${t-l},${n-u}A${r},${r},0,1,${p},${this._x1=d},${this._y1=h}`:b>Hc&&this._append`A${r},${r},0,${+(b>=iE)},${p},${this._x1=t+r*Math.cos(a)},${this._y1=n+r*Math.sin(a)}`)}rect(t,n,r,i){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+n}h${r=+r}v${+i}h${-r}Z`}toString(){return this._}}function t7(e){let t=3;return e.digits=function(n){if(!arguments.length)return t;if(n==null)t=null;else{const r=Math.floor(n);if(!(r>=0))throw new RangeError(`invalid digits: ${n}`);t=r}return e},()=>new Jde(t)}function OA(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function n7(e){this._context=e}n7.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}};function Iv(e){return new n7(e)}function r7(e){return e[0]}function i7(e){return e[1]}function a7(e,t){var n=xn(!0),r=null,i=Iv,a=null,o=t7(l);e=typeof e=="function"?e:e===void 0?r7:xn(e),t=typeof t=="function"?t:t===void 0?i7:xn(t);function l(u){var d,h=(u=OA(u)).length,p,b=!1,x;for(r==null&&(a=i(x=o())),d=0;d<=h;++d)!(d<h&&n(p=u[d],d,u))===b&&((b=!b)?a.lineStart():a.lineEnd()),b&&a.point(+e(p,d,u),+t(p,d,u));if(x)return a=null,x+""||null}return l.x=function(u){return arguments.length?(e=typeof u=="function"?u:xn(+u),l):e},l.y=function(u){return arguments.length?(t=typeof u=="function"?u:xn(+u),l):t},l.defined=function(u){return arguments.length?(n=typeof u=="function"?u:xn(!!u),l):n},l.curve=function(u){return arguments.length?(i=u,r!=null&&(a=i(r)),l):i},l.context=function(u){return arguments.length?(u==null?r=a=null:a=i(r=u),l):r},l}function q0(e,t,n){var r=null,i=xn(!0),a=null,o=Iv,l=null,u=t7(d);e=typeof e=="function"?e:e===void 0?r7:xn(+e),t=typeof t=="function"?t:xn(t===void 0?0:+t),n=typeof n=="function"?n:n===void 0?i7:xn(+n);function d(p){var b,x,k,S=(p=OA(p)).length,_,T=!1,N,j=new Array(S),C=new Array(S);for(a==null&&(l=o(N=u())),b=0;b<=S;++b){if(!(b<S&&i(_=p[b],b,p))===T)if(T=!T)x=b,l.areaStart(),l.lineStart();else{for(l.lineEnd(),l.lineStart(),k=b-1;k>=x;--k)l.point(j[k],C[k]);l.lineEnd(),l.areaEnd()}T&&(j[b]=+e(_,b,p),C[b]=+t(_,b,p),l.point(r?+r(_,b,p):j[b],n?+n(_,b,p):C[b]))}if(N)return l=null,N+""||null}function h(){return a7().defined(i).curve(o).context(a)}return d.x=function(p){return arguments.length?(e=typeof p=="function"?p:xn(+p),r=null,d):e},d.x0=function(p){return arguments.length?(e=typeof p=="function"?p:xn(+p),d):e},d.x1=function(p){return arguments.length?(r=p==null?null:typeof p=="function"?p:xn(+p),d):r},d.y=function(p){return arguments.length?(t=typeof p=="function"?p:xn(+p),n=null,d):t},d.y0=function(p){return arguments.length?(t=typeof p=="function"?p:xn(+p),d):t},d.y1=function(p){return arguments.length?(n=p==null?null:typeof p=="function"?p:xn(+p),d):n},d.lineX0=d.lineY0=function(){return h().x(e).y(t)},d.lineY1=function(){return h().x(e).y(n)},d.lineX1=function(){return h().x(r).y(t)},d.defined=function(p){return arguments.length?(i=typeof p=="function"?p:xn(!!p),d):i},d.curve=function(p){return arguments.length?(o=p,a!=null&&(l=o(a)),d):o},d.context=function(p){return arguments.length?(p==null?a=l=null:l=o(a=p),d):a},d}class o7{constructor(t,n){this._context=t,this._x=n}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(t,n){switch(t=+t,n=+n,this._point){case 0:{this._point=1,this._line?this._context.lineTo(t,n):this._context.moveTo(t,n);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+t)/2,this._y0,this._x0,n,t,n):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+n)/2,t,this._y0,t,n);break}}this._x0=t,this._y0=n}}function Qde(e){return new o7(e,!0)}function efe(e){return new o7(e,!1)}function hy(){}function my(e,t,n){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+n)/6)}function s7(e){this._context=e}s7.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:my(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:my(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function tfe(e){return new s7(e)}function l7(e){this._context=e}l7.prototype={areaStart:hy,areaEnd:hy,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:my(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function nfe(e){return new l7(e)}function c7(e){this._context=e}c7.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+e)/6,r=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(n,r):this._context.moveTo(n,r);break;case 3:this._point=4;default:my(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function rfe(e){return new c7(e)}function u7(e){this._context=e}u7.prototype={areaStart:hy,areaEnd:hy,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}};function ife(e){return new u7(e)}function MP(e){return e<0?-1:1}function DP(e,t,n){var r=e._x1-e._x0,i=t-e._x1,a=(e._y1-e._y0)/(r||i<0&&-0),o=(n-e._y1)/(i||r<0&&-0),l=(a*i+o*r)/(r+i);return(MP(a)+MP(o))*Math.min(Math.abs(a),Math.abs(o),.5*Math.abs(l))||0}function PP(e,t){var n=e._x1-e._x0;return n?(3*(e._y1-e._y0)/n-t)/2:t}function p1(e,t,n){var r=e._x0,i=e._y0,a=e._x1,o=e._y1,l=(a-r)/3;e._context.bezierCurveTo(r+l,i+l*t,a-l,o-l*n,a,o)}function py(e){this._context=e}py.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:p1(this,this._t0,PP(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var n=NaN;if(e=+e,t=+t,!(e===this._x1&&t===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,p1(this,PP(this,n=DP(this,e,t)),n);break;default:p1(this,this._t0,n=DP(this,e,t));break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=n}}};function d7(e){this._context=new f7(e)}(d7.prototype=Object.create(py.prototype)).point=function(e,t){py.prototype.point.call(this,t,e)};function f7(e){this._context=e}f7.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,n,r,i,a){this._context.bezierCurveTo(t,e,r,n,a,i)}};function afe(e){return new py(e)}function ofe(e){return new d7(e)}function h7(e){this._context=e}h7.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,n=e.length;if(n)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),n===2)this._context.lineTo(e[1],t[1]);else for(var r=RP(e),i=RP(t),a=0,o=1;o<n;++a,++o)this._context.bezierCurveTo(r[0][a],i[0][a],r[1][a],i[1][a],e[o],t[o]);(this._line||this._line!==0&&n===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}};function RP(e){var t,n=e.length-1,r,i=new Array(n),a=new Array(n),o=new Array(n);for(i[0]=0,a[0]=2,o[0]=e[0]+2*e[1],t=1;t<n-1;++t)i[t]=1,a[t]=4,o[t]=4*e[t]+2*e[t+1];for(i[n-1]=2,a[n-1]=7,o[n-1]=8*e[n-1]+e[n],t=1;t<n;++t)r=i[t]/a[t-1],a[t]-=r,o[t]-=r*o[t-1];for(i[n-1]=o[n-1]/a[n-1],t=n-2;t>=0;--t)i[t]=(o[t]-i[t+1])/a[t];for(a[n-1]=(e[n]+i[n-1])/2,t=0;t<n-1;++t)a[t]=2*e[t+1]-i[t+1];return[i,a]}function sfe(e){return new h7(e)}function $v(e,t){this._context=e,this._t=t}$v.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var n=this._x*(1-this._t)+e*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,t)}break}}this._x=e,this._y=t}};function lfe(e){return new $v(e,.5)}function cfe(e){return new $v(e,0)}function ufe(e){return new $v(e,1)}function Xd(e,t){if((o=e.length)>1)for(var n=1,r,i,a=e[t[0]],o,l=a.length;n<o;++n)for(i=a,a=e[t[n]],r=0;r<l;++r)a[r][1]+=a[r][0]=isNaN(i[r][1])?i[r][0]:i[r][1]}function oE(e){for(var t=e.length,n=new Array(t);--t>=0;)n[t]=t;return n}function dfe(e,t){return e[t]}function ffe(e){const t=[];return t.key=e,t}function hfe(){var e=xn([]),t=oE,n=Xd,r=dfe;function i(a){var o=Array.from(e.apply(this,arguments),ffe),l,u=o.length,d=-1,h;for(const p of a)for(l=0,++d;l<u;++l)(o[l][d]=[0,+r(p,o[l].key,d,a)]).data=p;for(l=0,h=OA(t(o));l<u;++l)o[h[l]].index=l;return n(o,h),o}return i.keys=function(a){return arguments.length?(e=typeof a=="function"?a:xn(Array.from(a)),i):e},i.value=function(a){return arguments.length?(r=typeof a=="function"?a:xn(+a),i):r},i.order=function(a){return arguments.length?(t=a==null?oE:typeof a=="function"?a:xn(Array.from(a)),i):t},i.offset=function(a){return arguments.length?(n=a??Xd,i):n},i}function mfe(e,t){if((r=e.length)>0){for(var n,r,i=0,a=e[0].length,o;i<a;++i){for(o=n=0;n<r;++n)o+=e[n][i][1]||0;if(o)for(n=0;n<r;++n)e[n][i][1]/=o}Xd(e,t)}}function pfe(e,t){if((i=e.length)>0){for(var n=0,r=e[t[0]],i,a=r.length;n<a;++n){for(var o=0,l=0;o<i;++o)l+=e[o][n][1]||0;r[n][1]+=r[n][0]=-l/2}Xd(e,t)}}function gfe(e,t){if(!(!((o=e.length)>0)||!((a=(i=e[t[0]]).length)>0))){for(var n=0,r=1,i,a,o;r<a;++r){for(var l=0,u=0,d=0;l<o;++l){for(var h=e[t[l]],p=h[r][1]||0,b=h[r-1][1]||0,x=(p-b)/2,k=0;k<l;++k){var S=e[t[k]],_=S[r][1]||0,T=S[r-1][1]||0;x+=_-T}u+=p,d+=x*p}i[r-1][1]+=i[r-1][0]=n,u&&(n-=d/u)}i[r-1][1]+=i[r-1][0]=n,Xd(e,t)}}var g1={},b1={},LP;function bfe(){return LP||(LP=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return n==="__proto__"}e.isUnsafeProperty=t})(b1)),b1}var y1={},IP;function m7(){return IP||(IP=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){switch(typeof n){case"number":case"symbol":return!1;case"string":return n.includes(".")||n.includes("[")||n.includes("]")}}e.isDeepKey=t})(y1)),y1}var v1={},$P;function NA(){return $P||($P=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return typeof n=="string"||typeof n=="symbol"?n:Object.is(n?.valueOf?.(),-0)?"-0":String(n)}e.toKey=t})(v1)),v1}var x1={},_1={},BP;function yfe(){return BP||(BP=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){if(n==null)return"";if(typeof n=="string")return n;if(Array.isArray(n))return n.map(t).join(",");const r=String(n);return r==="0"&&Object.is(Number(n),-0)?"-0":r}e.toString=t})(_1)),_1}var zP;function CA(){return zP||(zP=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=yfe(),n=NA();function r(i){if(Array.isArray(i))return i.map(n.toKey);if(typeof i=="symbol")return[i];i=t.toString(i);const a=[],o=i.length;if(o===0)return a;let l=0,u="",d="",h=!1;for(i.charCodeAt(0)===46&&(a.push(""),l++);l<o;){const p=i[l];d?p==="\\"&&l+1<o?(l++,u+=i[l]):p===d?d="":u+=p:h?p==='"'||p==="'"?d=p:p==="]"?(h=!1,a.push(u),u=""):u+=p:p==="["?(h=!0,u&&(a.push(u),u="")):p==="."?u&&(a.push(u),u=""):u+=p,l++}return u&&a.push(u),a}e.toPath=r})(x1)),x1}var UP;function MA(){return UP||(UP=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=bfe(),n=m7(),r=NA(),i=CA();function a(l,u,d){if(l==null)return d;switch(typeof u){case"string":{if(t.isUnsafeProperty(u))return d;const h=l[u];return h===void 0?n.isDeepKey(u)?a(l,i.toPath(u),d):d:h}case"number":case"symbol":{typeof u=="number"&&(u=r.toKey(u));const h=l[u];return h===void 0?d:h}default:{if(Array.isArray(u))return o(l,u,d);if(Object.is(u?.valueOf(),-0)?u="-0":u=String(u),t.isUnsafeProperty(u))return d;const h=l[u];return h===void 0?d:h}}}function o(l,u,d){if(u.length===0)return d;let h=l;for(let p=0;p<u.length;p++){if(h==null||t.isUnsafeProperty(u[p]))return d;h=h[u[p]]}return h===void 0?d:h}e.get=a})(g1)),g1}var w1,FP;function vfe(){return FP||(FP=1,w1=MA().get),w1}var xfe=vfe();const Bv=hi(xfe);var ua=e=>e===0?0:e>0?1:-1,qa=e=>typeof e=="number"&&e!=+e,xs=e=>typeof e=="string"&&e.indexOf("%")===e.length-1,Ve=e=>(typeof e=="number"||e instanceof Number)&&!qa(e),jo=e=>Ve(e)||typeof e=="string",_fe=0,Im=e=>{var t=++_fe;return"".concat(e||"").concat(t)},Il=function(t,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!Ve(t)&&typeof t!="string")return r;var a;if(xs(t)){if(n==null)return r;var o=t.indexOf("%");a=n*parseFloat(t.slice(0,o))/100}else a=+t;return qa(a)&&(a=r),i&&n!=null&&a>n&&(a=n),a},p7=e=>{if(!Array.isArray(e))return!1;for(var t=e.length,n={},r=0;r<t;r++)if(!n[e[r]])n[e[r]]=!0;else return!0;return!1};function vo(e,t,n){return Ve(e)&&Ve(t)?e+n*(t-e):t}function g7(e,t,n){if(!(!e||!e.length))return e.find(r=>r&&(typeof t=="function"?t(r):Bv(r,t))===n)}var _r=e=>e===null||typeof e>"u",DA=e=>_r(e)?e:"".concat(e.charAt(0).toUpperCase()).concat(e.slice(1));function wfe(e){return e!=null}function gp(){}var b7=e=>"radius"in e&&"startAngle"in e&&"endAngle"in e,PA=(e,t)=>{if(!e||typeof e=="function"||typeof e=="boolean")return null;var n=e;if(w.isValidElement(e)&&(n=e.props),typeof n!="object"&&typeof n!="function")return null;var r={};return Object.keys(n).forEach(i=>{jA(i)&&(r[i]=(a=>n[i](n,a)))}),r},Sfe=(e,t,n)=>r=>(e(t,n,r),null),kfe=(e,t,n)=>{if(e===null||typeof e!="object"&&typeof e!="function")return null;var r=null;return Object.keys(e).forEach(i=>{var a=e[i];jA(i)&&typeof a=="function"&&(r||(r={}),r[i]=Sfe(a,t,n))}),r};function HP(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Efe(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?HP(Object(n),!0).forEach(function(r){Afe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):HP(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Afe(e,t,n){return(t=Tfe(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Tfe(e){var t=jfe(e,"string");return typeof t=="symbol"?t:t+""}function jfe(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function qi(e,t){var n=Efe({},e),r=t,i=Object.keys(t),a=i.reduce((o,l)=>(o[l]===void 0&&r[l]!==void 0&&(o[l]=r[l]),o),n);return a}var S1={},k1={},GP;function Ofe(){return GP||(GP=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n,r){const i=new Map;for(let a=0;a<n.length;a++){const o=n[a],l=r(o);i.has(l)||i.set(l,o)}return Array.from(i.values())}e.uniqBy=t})(k1)),k1}var E1={},qP;function y7(){return qP||(qP=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return n}e.identity=t})(E1)),E1}var A1={},T1={},j1={},YP;function Nfe(){return YP||(YP=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return Number.isSafeInteger(n)&&n>=0}e.isLength=t})(j1)),j1}var KP;function RA(){return KP||(KP=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Nfe();function n(r){return r!=null&&typeof r!="function"&&t.isLength(r.length)}e.isArrayLike=n})(T1)),T1}var O1={},WP;function Cfe(){return WP||(WP=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return typeof n=="object"&&n!==null}e.isObjectLike=t})(O1)),O1}var VP;function Mfe(){return VP||(VP=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=RA(),n=Cfe();function r(i){return n.isObjectLike(i)&&t.isArrayLike(i)}e.isArrayLikeObject=r})(A1)),A1}var N1={},C1={},ZP;function Dfe(){return ZP||(ZP=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=MA();function n(r){return function(i){return t.get(i,r)}}e.property=n})(C1)),C1}var M1={},D1={},P1={},R1={},XP;function v7(){return XP||(XP=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return n!==null&&(typeof n=="object"||typeof n=="function")}e.isObject=t})(R1)),R1}var L1={},JP;function x7(){return JP||(JP=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return n==null||typeof n!="object"&&typeof n!="function"}e.isPrimitive=t})(L1)),L1}var I1={},QP;function _7(){return QP||(QP=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n,r){return n===r||Number.isNaN(n)&&Number.isNaN(r)}e.eq=t})(I1)),I1}var eR;function Pfe(){return eR||(eR=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=v7(),n=x7(),r=_7();function i(h,p,b){return typeof b!="function"?i(h,p,()=>{}):a(h,p,function x(k,S,_,T,N,j){const C=b(k,S,_,T,N,j);return C!==void 0?!!C:a(k,S,x,j)},new Map)}function a(h,p,b,x){if(p===h)return!0;switch(typeof p){case"object":return o(h,p,b,x);case"function":return Object.keys(p).length>0?a(h,{...p},b,x):r.eq(h,p);default:return t.isObject(h)?typeof p=="string"?p==="":!0:r.eq(h,p)}}function o(h,p,b,x){if(p==null)return!0;if(Array.isArray(p))return u(h,p,b,x);if(p instanceof Map)return l(h,p,b,x);if(p instanceof Set)return d(h,p,b,x);const k=Object.keys(p);if(h==null)return k.length===0;if(k.length===0)return!0;if(x?.has(p))return x.get(p)===h;x?.set(p,h);try{for(let S=0;S<k.length;S++){const _=k[S];if(!n.isPrimitive(h)&&!(_ in h)||p[_]===void 0&&h[_]!==void 0||p[_]===null&&h[_]!==null||!b(h[_],p[_],_,h,p,x))return!1}return!0}finally{x?.delete(p)}}function l(h,p,b,x){if(p.size===0)return!0;if(!(h instanceof Map))return!1;for(const[k,S]of p.entries()){const _=h.get(k);if(b(_,S,k,h,p,x)===!1)return!1}return!0}function u(h,p,b,x){if(p.length===0)return!0;if(!Array.isArray(h))return!1;const k=new Set;for(let S=0;S<p.length;S++){const _=p[S];let T=!1;for(let N=0;N<h.length;N++){if(k.has(N))continue;const j=h[N];let C=!1;if(b(j,_,S,h,p,x)&&(C=!0),C){k.add(N),T=!0;break}}if(!T)return!1}return!0}function d(h,p,b,x){return p.size===0?!0:h instanceof Set?u([...h],[...p],b,x):!1}e.isMatchWith=i,e.isSetMatch=d})(P1)),P1}var tR;function w7(){return tR||(tR=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Pfe();function n(r,i){return t.isMatchWith(r,i,()=>{})}e.isMatch=n})(D1)),D1}var $1={},B1={},z1={},nR;function Rfe(){return nR||(nR=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return Object.getOwnPropertySymbols(n).filter(r=>Object.prototype.propertyIsEnumerable.call(n,r))}e.getSymbols=t})(z1)),z1}var U1={},rR;function S7(){return rR||(rR=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return n==null?n===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(n)}e.getTag=t})(U1)),U1}var F1={},iR;function k7(){return iR||(iR=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t="[object RegExp]",n="[object String]",r="[object Number]",i="[object Boolean]",a="[object Arguments]",o="[object Symbol]",l="[object Date]",u="[object Map]",d="[object Set]",h="[object Array]",p="[object Function]",b="[object ArrayBuffer]",x="[object Object]",k="[object Error]",S="[object DataView]",_="[object Uint8Array]",T="[object Uint8ClampedArray]",N="[object Uint16Array]",j="[object Uint32Array]",C="[object BigUint64Array]",M="[object Int8Array]",P="[object Int16Array]",$="[object Int32Array]",U="[object BigInt64Array]",Y="[object Float32Array]",W="[object Float64Array]";e.argumentsTag=a,e.arrayBufferTag=b,e.arrayTag=h,e.bigInt64ArrayTag=U,e.bigUint64ArrayTag=C,e.booleanTag=i,e.dataViewTag=S,e.dateTag=l,e.errorTag=k,e.float32ArrayTag=Y,e.float64ArrayTag=W,e.functionTag=p,e.int16ArrayTag=P,e.int32ArrayTag=$,e.int8ArrayTag=M,e.mapTag=u,e.numberTag=r,e.objectTag=x,e.regexpTag=t,e.setTag=d,e.stringTag=n,e.symbolTag=o,e.uint16ArrayTag=N,e.uint32ArrayTag=j,e.uint8ArrayTag=_,e.uint8ClampedArrayTag=T})(F1)),F1}var H1={},aR;function Lfe(){return aR||(aR=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return ArrayBuffer.isView(n)&&!(n instanceof DataView)}e.isTypedArray=t})(H1)),H1}var oR;function E7(){return oR||(oR=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Rfe(),n=S7(),r=k7(),i=x7(),a=Lfe();function o(h,p){return l(h,void 0,h,new Map,p)}function l(h,p,b,x=new Map,k=void 0){const S=k?.(h,p,b,x);if(S!==void 0)return S;if(i.isPrimitive(h))return h;if(x.has(h))return x.get(h);if(Array.isArray(h)){const _=new Array(h.length);x.set(h,_);for(let T=0;T<h.length;T++)_[T]=l(h[T],T,b,x,k);return Object.hasOwn(h,"index")&&(_.index=h.index),Object.hasOwn(h,"input")&&(_.input=h.input),_}if(h instanceof Date)return new Date(h.getTime());if(h instanceof RegExp){const _=new RegExp(h.source,h.flags);return _.lastIndex=h.lastIndex,_}if(h instanceof Map){const _=new Map;x.set(h,_);for(const[T,N]of h)_.set(T,l(N,T,b,x,k));return _}if(h instanceof Set){const _=new Set;x.set(h,_);for(const T of h)_.add(l(T,void 0,b,x,k));return _}if(typeof Buffer<"u"&&Buffer.isBuffer(h))return h.subarray();if(a.isTypedArray(h)){const _=new(Object.getPrototypeOf(h)).constructor(h.length);x.set(h,_);for(let T=0;T<h.length;T++)_[T]=l(h[T],T,b,x,k);return _}if(h instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&h instanceof SharedArrayBuffer)return h.slice(0);if(h instanceof DataView){const _=new DataView(h.buffer.slice(0),h.byteOffset,h.byteLength);return x.set(h,_),u(_,h,b,x,k),_}if(typeof File<"u"&&h instanceof File){const _=new File([h],h.name,{type:h.type});return x.set(h,_),u(_,h,b,x,k),_}if(typeof Blob<"u"&&h instanceof Blob){const _=new Blob([h],{type:h.type});return x.set(h,_),u(_,h,b,x,k),_}if(h instanceof Error){const _=new h.constructor;return x.set(h,_),_.message=h.message,_.name=h.name,_.stack=h.stack,_.cause=h.cause,u(_,h,b,x,k),_}if(h instanceof Boolean){const _=new Boolean(h.valueOf());return x.set(h,_),u(_,h,b,x,k),_}if(h instanceof Number){const _=new Number(h.valueOf());return x.set(h,_),u(_,h,b,x,k),_}if(h instanceof String){const _=new String(h.valueOf());return x.set(h,_),u(_,h,b,x,k),_}if(typeof h=="object"&&d(h)){const _=Object.create(Object.getPrototypeOf(h));return x.set(h,_),u(_,h,b,x,k),_}return h}function u(h,p,b=h,x,k){const S=[...Object.keys(p),...t.getSymbols(p)];for(let _=0;_<S.length;_++){const T=S[_],N=Object.getOwnPropertyDescriptor(h,T);(N==null||N.writable)&&(h[T]=l(p[T],T,b,x,k))}}function d(h){switch(n.getTag(h)){case r.argumentsTag:case r.arrayTag:case r.arrayBufferTag:case r.dataViewTag:case r.booleanTag:case r.dateTag:case r.float32ArrayTag:case r.float64ArrayTag:case r.int8ArrayTag:case r.int16ArrayTag:case r.int32ArrayTag:case r.mapTag:case r.numberTag:case r.objectTag:case r.regexpTag:case r.setTag:case r.stringTag:case r.symbolTag:case r.uint8ArrayTag:case r.uint8ClampedArrayTag:case r.uint16ArrayTag:case r.uint32ArrayTag:return!0;default:return!1}}e.cloneDeepWith=o,e.cloneDeepWithImpl=l,e.copyProperties=u})(B1)),B1}var sR;function Ife(){return sR||(sR=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=E7();function n(r){return t.cloneDeepWithImpl(r,void 0,r,new Map,void 0)}e.cloneDeep=n})($1)),$1}var lR;function $fe(){return lR||(lR=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=w7(),n=Ife();function r(i){return i=n.cloneDeep(i),a=>t.isMatch(a,i)}e.matches=r})(M1)),M1}var G1={},q1={},Y1={},cR;function Bfe(){return cR||(cR=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=E7(),n=k7();function r(i,a){return t.cloneDeepWith(i,(o,l,u,d)=>{const h=a?.(o,l,u,d);if(h!==void 0)return h;if(typeof i=="object")switch(Object.prototype.toString.call(i)){case n.numberTag:case n.stringTag:case n.booleanTag:{const p=new i.constructor(i?.valueOf());return t.copyProperties(p,i),p}case n.argumentsTag:{const p={};return t.copyProperties(p,i),p.length=i.length,p[Symbol.iterator]=i[Symbol.iterator],p}default:return}})}e.cloneDeepWith=r})(Y1)),Y1}var uR;function zfe(){return uR||(uR=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Bfe();function n(r){return t.cloneDeepWith(r)}e.cloneDeep=n})(q1)),q1}var K1={},W1={},dR;function A7(){return dR||(dR=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=/^(?:0|[1-9]\d*)$/;function n(r,i=Number.MAX_SAFE_INTEGER){switch(typeof r){case"number":return Number.isInteger(r)&&r>=0&&r<i;case"symbol":return!1;case"string":return t.test(r)}}e.isIndex=n})(W1)),W1}var V1={},fR;function Ufe(){return fR||(fR=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=S7();function n(r){return r!==null&&typeof r=="object"&&t.getTag(r)==="[object Arguments]"}e.isArguments=n})(V1)),V1}var hR;function Ffe(){return hR||(hR=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=m7(),n=A7(),r=Ufe(),i=CA();function a(o,l){let u;if(Array.isArray(l)?u=l:typeof l=="string"&&t.isDeepKey(l)&&o?.[l]==null?u=i.toPath(l):u=[l],u.length===0)return!1;let d=o;for(let h=0;h<u.length;h++){const p=u[h];if((d==null||!Object.hasOwn(d,p))&&!((Array.isArray(d)||r.isArguments(d))&&n.isIndex(p)&&p<d.length))return!1;d=d[p]}return!0}e.has=a})(K1)),K1}var mR;function Hfe(){return mR||(mR=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=w7(),n=NA(),r=zfe(),i=MA(),a=Ffe();function o(l,u){switch(typeof l){case"object":{Object.is(l?.valueOf(),-0)&&(l="-0");break}case"number":{l=n.toKey(l);break}}return u=r.cloneDeep(u),function(d){const h=i.get(d,l);return h===void 0?a.has(d,l):u===void 0?h===void 0:t.isMatch(h,u)}}e.matchesProperty=o})(G1)),G1}var pR;function Gfe(){return pR||(pR=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=y7(),n=Dfe(),r=$fe(),i=Hfe();function a(o){if(o==null)return t.identity;switch(typeof o){case"function":return o;case"object":return Array.isArray(o)&&o.length===2?i.matchesProperty(o[0],o[1]):r.matches(o);case"string":case"symbol":case"number":return n.property(o)}}e.iteratee=a})(N1)),N1}var gR;function qfe(){return gR||(gR=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Ofe(),n=y7(),r=Mfe(),i=Gfe();function a(o,l=n.identity){return r.isArrayLikeObject(o)?t.uniqBy(Array.from(o),i.iteratee(l)):[]}e.uniqBy=a})(S1)),S1}var Z1,bR;function Yfe(){return bR||(bR=1,Z1=qfe().uniqBy),Z1}var Kfe=Yfe();const yR=hi(Kfe);function Wfe(e,t,n){return t===!0?yR(e,n):typeof t=="function"?yR(e,t):e}var X1={exports:{}},J1={},Q1={exports:{}},eS={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var vR;function Vfe(){if(vR)return eS;vR=1;var e=af();function t(p,b){return p===b&&(p!==0||1/p===1/b)||p!==p&&b!==b}var n=typeof Object.is=="function"?Object.is:t,r=e.useState,i=e.useEffect,a=e.useLayoutEffect,o=e.useDebugValue;function l(p,b){var x=b(),k=r({inst:{value:x,getSnapshot:b}}),S=k[0].inst,_=k[1];return a(function(){S.value=x,S.getSnapshot=b,u(S)&&_({inst:S})},[p,x,b]),i(function(){return u(S)&&_({inst:S}),p(function(){u(S)&&_({inst:S})})},[p]),o(x),x}function u(p){var b=p.getSnapshot;p=p.value;try{var x=b();return!n(p,x)}catch{return!0}}function d(p,b){return b()}var h=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?d:l;return eS.useSyncExternalStore=e.useSyncExternalStore!==void 0?e.useSyncExternalStore:h,eS}var xR;function Zfe(){return xR||(xR=1,Q1.exports=Vfe()),Q1.exports}/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var _R;function Xfe(){if(_R)return J1;_R=1;var e=af(),t=Zfe();function n(d,h){return d===h&&(d!==0||1/d===1/h)||d!==d&&h!==h}var r=typeof Object.is=="function"?Object.is:n,i=t.useSyncExternalStore,a=e.useRef,o=e.useEffect,l=e.useMemo,u=e.useDebugValue;return J1.useSyncExternalStoreWithSelector=function(d,h,p,b,x){var k=a(null);if(k.current===null){var S={hasValue:!1,value:null};k.current=S}else S=k.current;k=l(function(){function T(P){if(!N){if(N=!0,j=P,P=b(P),x!==void 0&&S.hasValue){var $=S.value;if(x($,P))return C=$}return C=P}if($=C,r(j,P))return $;var U=b(P);return x!==void 0&&x($,U)?(j=P,$):(j=P,C=U)}var N=!1,j,C,M=p===void 0?null:p;return[function(){return T(h())},M===null?void 0:function(){return T(M())}]},[h,p,b,x]);var _=i(d,k[0],k[1]);return o(function(){S.hasValue=!0,S.value=_},[_]),u(_),_},J1}var wR;function Jfe(){return wR||(wR=1,X1.exports=Xfe()),X1.exports}var Qfe=Jfe(),LA=w.createContext(null),ehe=e=>e,ur=()=>{var e=w.useContext(LA);return e?e.store.dispatch:ehe},Sb=()=>{},the=()=>Sb,nhe=(e,t)=>e===t;function Je(e){var t=w.useContext(LA);return Qfe.useSyncExternalStoreWithSelector(t?t.subscription.addNestedSub:the,t?t.store.getState:Sb,t?t.store.getState:Sb,t?e:Sb,nhe)}function rhe(e,t=`expected a function, instead received ${typeof e}`){if(typeof e!="function")throw new TypeError(t)}function ihe(e,t=`expected an object, instead received ${typeof e}`){if(typeof e!="object")throw new TypeError(t)}function ahe(e,t="expected all items to be functions, instead received the following types: "){if(!e.every(n=>typeof n=="function")){const n=e.map(r=>typeof r=="function"?`function ${r.name||"unnamed"}()`:typeof r).join(", ");throw new TypeError(`${t}[${n}]`)}}var SR=e=>Array.isArray(e)?e:[e];function ohe(e){const t=Array.isArray(e[0])?e[0]:e;return ahe(t,"createSelector expects all input-selectors to be functions, but received the following types: "),t}function she(e,t){const n=[],{length:r}=e;for(let i=0;i<r;i++)n.push(e[i].apply(null,t));return n}var lhe=class{constructor(e){this.value=e}deref(){return this.value}},che=typeof WeakRef<"u"?WeakRef:lhe,uhe=0,kR=1;function Y0(){return{s:uhe,v:void 0,o:null,p:null}}function T7(e,t={}){let n=Y0();const{resultEqualityCheck:r}=t;let i,a=0;function o(){let l=n;const{length:u}=arguments;for(let p=0,b=u;p<b;p++){const x=arguments[p];if(typeof x=="function"||typeof x=="object"&&x!==null){let k=l.o;k===null&&(l.o=k=new WeakMap);const S=k.get(x);S===void 0?(l=Y0(),k.set(x,l)):l=S}else{let k=l.p;k===null&&(l.p=k=new Map);const S=k.get(x);S===void 0?(l=Y0(),k.set(x,l)):l=S}}const d=l;let h;if(l.s===kR)h=l.v;else if(h=e.apply(null,arguments),a++,r){const p=i?.deref?.()??i;p!=null&&r(p,h)&&(h=p,a!==0&&a--),i=typeof h=="object"&&h!==null||typeof h=="function"?new che(h):h}return d.s=kR,d.v=h,h}return o.clearCache=()=>{n=Y0(),o.resetResultsCount()},o.resultsCount=()=>a,o.resetResultsCount=()=>{a=0},o}function dhe(e,...t){const n=typeof e=="function"?{memoize:e,memoizeOptions:t}:e,r=(...i)=>{let a=0,o=0,l,u={},d=i.pop();typeof d=="object"&&(u=d,d=i.pop()),rhe(d,`createSelector expects an output function after the inputs, but received: [${typeof d}]`);const h={...n,...u},{memoize:p,memoizeOptions:b=[],argsMemoize:x=T7,argsMemoizeOptions:k=[]}=h,S=SR(b),_=SR(k),T=ohe(i),N=p(function(){return a++,d.apply(null,arguments)},...S),j=x(function(){o++;const M=she(T,arguments);return l=N.apply(null,M),l},..._);return Object.assign(j,{resultFunc:d,memoizedResultFunc:N,dependencies:T,dependencyRecomputations:()=>o,resetDependencyRecomputations:()=>{o=0},lastResult:()=>l,recomputations:()=>a,resetRecomputations:()=>{a=0},memoize:p,argsMemoize:x})};return Object.assign(r,{withTypes:()=>r}),r}var _e=dhe(T7),fhe=Object.assign((e,t=_e)=>{ihe(e,`createStructuredSelector expects first argument to be an object where each property is a selector, instead received a ${typeof e}`);const n=Object.keys(e),r=n.map(a=>e[a]);return t(r,(...a)=>a.reduce((o,l,u)=>(o[n[u]]=l,o),{}))},{withTypes:()=>fhe}),tS={},nS={},rS={},ER;function hhe(){return ER||(ER=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return typeof r=="symbol"?1:r===null?2:r===void 0?3:r!==r?4:0}const n=(r,i,a)=>{if(r!==i){const o=t(r),l=t(i);if(o===l&&o===0){if(r<i)return a==="desc"?1:-1;if(r>i)return a==="desc"?-1:1}return a==="desc"?l-o:o-l}return 0};e.compareValues=n})(rS)),rS}var iS={},aS={},AR;function j7(){return AR||(AR=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return typeof n=="symbol"||n instanceof Symbol}e.isSymbol=t})(aS)),aS}var TR;function mhe(){return TR||(TR=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=j7(),n=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,r=/^\w*$/;function i(a,o){return Array.isArray(a)?!1:typeof a=="number"||typeof a=="boolean"||a==null||t.isSymbol(a)?!0:typeof a=="string"&&(r.test(a)||!n.test(a))||o!=null&&Object.hasOwn(o,a)}e.isKey=i})(iS)),iS}var jR;function phe(){return jR||(jR=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=hhe(),n=mhe(),r=CA();function i(a,o,l,u){if(a==null)return[];l=u?void 0:l,Array.isArray(a)||(a=Object.values(a)),Array.isArray(o)||(o=o==null?[null]:[o]),o.length===0&&(o=[null]),Array.isArray(l)||(l=l==null?[]:[l]),l=l.map(x=>String(x));const d=(x,k)=>{let S=x;for(let _=0;_<k.length&&S!=null;++_)S=S[k[_]];return S},h=(x,k)=>k==null||x==null?k:typeof x=="object"&&"key"in x?Object.hasOwn(k,x.key)?k[x.key]:d(k,x.path):typeof x=="function"?x(k):Array.isArray(x)?d(k,x):typeof k=="object"?k[x]:k,p=o.map(x=>(Array.isArray(x)&&x.length===1&&(x=x[0]),x==null||typeof x=="function"||Array.isArray(x)||n.isKey(x)?x:{key:x,path:r.toPath(x)}));return a.map(x=>({original:x,criteria:p.map(k=>h(k,x))})).slice().sort((x,k)=>{for(let S=0;S<p.length;S++){const _=t.compareValues(x.criteria[S],k.criteria[S],l[S]);if(_!==0)return _}return 0}).map(x=>x.original)}e.orderBy=i})(nS)),nS}var oS={},OR;function ghe(){return OR||(OR=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n,r=1){const i=[],a=Math.floor(r),o=(l,u)=>{for(let d=0;d<l.length;d++){const h=l[d];Array.isArray(h)&&u<a?o(h,u+1):i.push(h)}};return o(n,0),i}e.flatten=t})(oS)),oS}var sS={},NR;function O7(){return NR||(NR=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=A7(),n=RA(),r=v7(),i=_7();function a(o,l,u){return r.isObject(u)&&(typeof l=="number"&&n.isArrayLike(u)&&t.isIndex(l)&&l<u.length||typeof l=="string"&&l in u)?i.eq(u[l],o):!1}e.isIterateeCall=a})(sS)),sS}var CR;function bhe(){return CR||(CR=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=phe(),n=ghe(),r=O7();function i(a,...o){const l=o.length;return l>1&&r.isIterateeCall(a,o[0],o[1])?o=[]:l>2&&r.isIterateeCall(o[0],o[1],o[2])&&(o=[o[0]]),t.orderBy(a,n.flatten(o),["asc"])}e.sortBy=i})(tS)),tS}var lS,MR;function yhe(){return MR||(MR=1,lS=bhe().sortBy),lS}var vhe=yhe();const zv=hi(vhe);var N7=e=>e.legend.settings,xhe=e=>e.legend.size,_he=e=>e.legend.payload;_e([_he,N7],(e,t)=>{var{itemSorter:n}=t,r=e.flat(1);return n?zv(r,n):r});var K0=1;function whe(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],[t,n]=w.useState({height:0,left:0,top:0,width:0}),r=w.useCallback(i=>{if(i!=null){var a=i.getBoundingClientRect(),o={height:a.height,left:a.left,top:a.top,width:a.width};(Math.abs(o.height-t.height)>K0||Math.abs(o.left-t.left)>K0||Math.abs(o.top-t.top)>K0||Math.abs(o.width-t.width)>K0)&&n({height:o.height,left:o.left,top:o.top,width:o.width})}},[t.width,t.height,t.top,t.left,...e]);return[t,r]}var C7=Symbol.for("immer-nothing"),DR=Symbol.for("immer-draftable"),Gr=Symbol.for("immer-state");function Ia(e,...t){throw new Error(`[Immer] minified error nr: ${e}. Full error at: https://bit.ly/3cXEKWf`)}var Li=Object,Jd=Li.getPrototypeOf,gy="constructor",Uv="prototype",sE="configurable",by="enumerable",kb="writable",$m="value",_s=e=>!!e&&!!e[Gr];function Ya(e){return e?M7(e)||Fv(e)||!!e[DR]||!!e[gy]?.[DR]||Hv(e)||Gv(e):!1}var She=Li[Uv][gy].toString(),PR=new WeakMap;function M7(e){if(!e||!IA(e))return!1;const t=Jd(e);if(t===null||t===Li[Uv])return!0;const n=Li.hasOwnProperty.call(t,gy)&&t[gy];if(n===Object)return!0;if(!kd(n))return!1;let r=PR.get(n);return r===void 0&&(r=Function.toString.call(n),PR.set(n,r)),r===She}function bp(e,t,n=!0){yp(e)===0?(n?Reflect.ownKeys(e):Li.keys(e)).forEach(i=>{t(i,e[i],e)}):e.forEach((r,i)=>t(i,r,e))}function yp(e){const t=e[Gr];return t?t.type_:Fv(e)?1:Hv(e)?2:Gv(e)?3:0}var RR=(e,t,n=yp(e))=>n===2?e.has(t):Li[Uv].hasOwnProperty.call(e,t),lE=(e,t,n=yp(e))=>n===2?e.get(t):e[t],yy=(e,t,n,r=yp(e))=>{r===2?e.set(t,n):r===3?e.add(n):e[t]=n};function khe(e,t){return e===t?e!==0||1/e===1/t:e!==e&&t!==t}var Fv=Array.isArray,Hv=e=>e instanceof Map,Gv=e=>e instanceof Set,IA=e=>typeof e=="object",kd=e=>typeof e=="function",cS=e=>typeof e=="boolean",ls=e=>e.copy_||e.base_,$A=e=>e.modified_?e.copy_:e.base_;function cE(e,t){if(Hv(e))return new Map(e);if(Gv(e))return new Set(e);if(Fv(e))return Array[Uv].slice.call(e);const n=M7(e);if(t===!0||t==="class_only"&&!n){const r=Li.getOwnPropertyDescriptors(e);delete r[Gr];let i=Reflect.ownKeys(r);for(let a=0;a<i.length;a++){const o=i[a],l=r[o];l[kb]===!1&&(l[kb]=!0,l[sE]=!0),(l.get||l.set)&&(r[o]={[sE]:!0,[kb]:!0,[by]:l[by],[$m]:e[o]})}return Li.create(Jd(e),r)}else{const r=Jd(e);if(r!==null&&n)return{...e};const i=Li.create(r);return Li.assign(i,e)}}function BA(e,t=!1){return qv(e)||_s(e)||!Ya(e)||(yp(e)>1&&Li.defineProperties(e,{set:W0,add:W0,clear:W0,delete:W0}),Li.freeze(e),t&&bp(e,(n,r)=>{BA(r,!0)},!1)),e}function Ehe(){Ia(2)}var W0={[$m]:Ehe};function qv(e){return e===null||!IA(e)?!0:Li.isFrozen(e)}var vy="MapSet",uE="Patches",D7={};function Qd(e){const t=D7[e];return t||Ia(0,e),t}var Ahe=e=>!!D7[e],Bm,P7=()=>Bm,The=(e,t)=>({drafts_:[],parent_:e,immer_:t,canAutoFreeze_:!0,unfinalizedDrafts_:0,handledSet_:new Set,processedForPatches_:new Set,mapSetPlugin_:Ahe(vy)?Qd(vy):void 0});function LR(e,t){t&&(e.patchPlugin_=Qd(uE),e.patches_=[],e.inversePatches_=[],e.patchListener_=t)}function dE(e){fE(e),e.drafts_.forEach(jhe),e.drafts_=null}function fE(e){e===Bm&&(Bm=e.parent_)}var IR=e=>Bm=The(Bm,e);function jhe(e){const t=e[Gr];t.type_===0||t.type_===1?t.revoke_():t.revoked_=!0}function $R(e,t){t.unfinalizedDrafts_=t.drafts_.length;const n=t.drafts_[0];if(e!==void 0&&e!==n){n[Gr].modified_&&(dE(t),Ia(4)),Ya(e)&&(e=BR(t,e));const{patchPlugin_:i}=t;i&&i.generateReplacementPatches_(n[Gr].base_,e,t)}else e=BR(t,n);return Ohe(t,e,!0),dE(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),e!==C7?e:void 0}function BR(e,t){if(qv(t))return t;const n=t[Gr];if(!n)return zA(t,e.handledSet_,e);if(!Yv(n,e))return t;if(!n.modified_)return n.base_;if(!n.finalized_){const{callbacks_:r}=n;if(r)for(;r.length>0;)r.pop()(e);I7(n,e)}return n.copy_}function Ohe(e,t,n=!1){!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&BA(t,n)}function R7(e){e.finalized_=!0,e.scope_.unfinalizedDrafts_--}var Yv=(e,t)=>e.scope_===t,Nhe=[];function L7(e,t,n,r){const i=ls(e),a=e.type_;if(r!==void 0&&lE(i,r,a)===t){yy(i,r,n,a);return}if(!e.draftLocations_){const l=e.draftLocations_=new Map;bp(i,(u,d)=>{if(_s(d)){const h=l.get(d)||[];h.push(u),l.set(d,h)}})}const o=e.draftLocations_.get(t)??Nhe;for(const l of o)yy(i,l,n,a)}function Che(e,t,n){e.callbacks_.push(function(i){const a=t;if(!a||!Yv(a,i))return;i.mapSetPlugin_?.fixSetContents(a);const o=$A(a);L7(e,a.draft_??a,o,n),I7(a,i)})}function I7(e,t){if(e.modified_&&!e.finalized_&&(e.type_===3||(e.assigned_?.size??0)>0)){const{patchPlugin_:r}=t;if(r){const i=r.getPath(e);i&&r.generatePatches_(e,i,t)}R7(e)}}function Mhe(e,t,n){const{scope_:r}=e;if(_s(n)){const i=n[Gr];Yv(i,r)&&i.callbacks_.push(function(){Eb(e);const o=$A(i);L7(e,n,o,t)})}else Ya(n)&&e.callbacks_.push(function(){const a=ls(e);lE(a,t,e.type_)===n&&r.drafts_.length>1&&(e.assigned_.get(t)??!1)===!0&&e.copy_&&zA(lE(e.copy_,t,e.type_),r.handledSet_,r)})}function zA(e,t,n){return!n.immer_.autoFreeze_&&n.unfinalizedDrafts_<1||_s(e)||t.has(e)||!Ya(e)||qv(e)||(t.add(e),bp(e,(r,i)=>{if(_s(i)){const a=i[Gr];if(Yv(a,n)){const o=$A(a);yy(e,r,o,e.type_),R7(a)}}else Ya(i)&&zA(i,t,n)})),e}function Dhe(e,t){const n=Fv(e),r={type_:n?1:0,scope_:t?t.scope_:P7(),modified_:!1,finalized_:!1,assigned_:void 0,parent_:t,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1,callbacks_:void 0};let i=r,a=UA;n&&(i=[r],a=zm);const{revoke:o,proxy:l}=Proxy.revocable(i,a);return r.draft_=l,r.revoke_=o,[l,r]}var UA={get(e,t){if(t===Gr)return e;const n=ls(e);if(!RR(n,t,e.type_))return Phe(e,n,t);const r=n[t];if(e.finalized_||!Ya(r))return r;if(r===uS(e.base_,t)){Eb(e);const i=e.type_===1?+t:t,a=mE(e.scope_,r,e,i);return e.copy_[i]=a}return r},has(e,t){return t in ls(e)},ownKeys(e){return Reflect.ownKeys(ls(e))},set(e,t,n){const r=$7(ls(e),t);if(r?.set)return r.set.call(e.draft_,n),!0;if(!e.modified_){const i=uS(ls(e),t),a=i?.[Gr];if(a&&a.base_===n)return e.copy_[t]=n,e.assigned_.set(t,!1),!0;if(khe(n,i)&&(n!==void 0||RR(e.base_,t,e.type_)))return!0;Eb(e),hE(e)}return e.copy_[t]===n&&(n!==void 0||t in e.copy_)||Number.isNaN(n)&&Number.isNaN(e.copy_[t])||(e.copy_[t]=n,e.assigned_.set(t,!0),Mhe(e,t,n)),!0},deleteProperty(e,t){return Eb(e),uS(e.base_,t)!==void 0||t in e.base_?(e.assigned_.set(t,!1),hE(e)):e.assigned_.delete(t),e.copy_&&delete e.copy_[t],!0},getOwnPropertyDescriptor(e,t){const n=ls(e),r=Reflect.getOwnPropertyDescriptor(n,t);return r&&{[kb]:!0,[sE]:e.type_!==1||t!=="length",[by]:r[by],[$m]:n[t]}},defineProperty(){Ia(11)},getPrototypeOf(e){return Jd(e.base_)},setPrototypeOf(){Ia(12)}},zm={};bp(UA,(e,t)=>{zm[e]=function(){const n=arguments;return n[0]=n[0][0],t.apply(this,n)}});zm.deleteProperty=function(e,t){return zm.set.call(this,e,t,void 0)};zm.set=function(e,t,n){return UA.set.call(this,e[0],t,n,e[0])};function uS(e,t){const n=e[Gr];return(n?ls(n):e)[t]}function Phe(e,t,n){const r=$7(t,n);return r?$m in r?r[$m]:r.get?.call(e.draft_):void 0}function $7(e,t){if(!(t in e))return;let n=Jd(e);for(;n;){const r=Object.getOwnPropertyDescriptor(n,t);if(r)return r;n=Jd(n)}}function hE(e){e.modified_||(e.modified_=!0,e.parent_&&hE(e.parent_))}function Eb(e){e.copy_||(e.assigned_=new Map,e.copy_=cE(e.base_,e.scope_.immer_.useStrictShallowCopy_))}var Rhe=class{constructor(t){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.useStrictIteration_=!1,this.produce=(n,r,i)=>{if(kd(n)&&!kd(r)){const o=r;r=n;const l=this;return function(d=o,...h){return l.produce(d,p=>r.call(this,p,...h))}}kd(r)||Ia(6),i!==void 0&&!kd(i)&&Ia(7);let a;if(Ya(n)){const o=IR(this),l=mE(o,n,void 0);let u=!0;try{a=r(l),u=!1}finally{u?dE(o):fE(o)}return LR(o,i),$R(a,o)}else if(!n||!IA(n)){if(a=r(n),a===void 0&&(a=n),a===C7&&(a=void 0),this.autoFreeze_&&BA(a,!0),i){const o=[],l=[];Qd(uE).generateReplacementPatches_(n,a,{patches_:o,inversePatches_:l}),i(o,l)}return a}else Ia(1,n)},this.produceWithPatches=(n,r)=>{if(kd(n))return(l,...u)=>this.produceWithPatches(l,d=>n(d,...u));let i,a;return[this.produce(n,r,(l,u)=>{i=l,a=u}),i,a]},cS(t?.autoFreeze)&&this.setAutoFreeze(t.autoFreeze),cS(t?.useStrictShallowCopy)&&this.setUseStrictShallowCopy(t.useStrictShallowCopy),cS(t?.useStrictIteration)&&this.setUseStrictIteration(t.useStrictIteration)}createDraft(t){Ya(t)||Ia(8),_s(t)&&(t=Ua(t));const n=IR(this),r=mE(n,t,void 0);return r[Gr].isManual_=!0,fE(n),r}finishDraft(t,n){const r=t&&t[Gr];(!r||!r.isManual_)&&Ia(9);const{scope_:i}=r;return LR(i,n),$R(void 0,i)}setAutoFreeze(t){this.autoFreeze_=t}setUseStrictShallowCopy(t){this.useStrictShallowCopy_=t}setUseStrictIteration(t){this.useStrictIteration_=t}shouldUseStrictIteration(){return this.useStrictIteration_}applyPatches(t,n){let r;for(r=n.length-1;r>=0;r--){const a=n[r];if(a.path.length===0&&a.op==="replace"){t=a.value;break}}r>-1&&(n=n.slice(r+1));const i=Qd(uE).applyPatches_;return _s(t)?i(t,n):this.produce(t,a=>i(a,n))}};function mE(e,t,n,r){const[i,a]=Hv(t)?Qd(vy).proxyMap_(t,n):Gv(t)?Qd(vy).proxySet_(t,n):Dhe(t,n);return(n?.scope_??P7()).drafts_.push(i),a.callbacks_=n?.callbacks_??[],a.key_=r,n&&r!==void 0?Che(n,a,r):a.callbacks_.push(function(u){u.mapSetPlugin_?.fixSetContents(a);const{patchPlugin_:d}=u;a.modified_&&d&&d.generatePatches_(a,[],u)}),i}function Ua(e){return _s(e)||Ia(10,e),B7(e)}function B7(e){if(!Ya(e)||qv(e))return e;const t=e[Gr];let n,r=!0;if(t){if(!t.modified_)return t.base_;t.finalized_=!0,n=cE(e,t.scope_.immer_.useStrictShallowCopy_),r=t.scope_.immer_.shouldUseStrictIteration()}else n=cE(e,!0);return bp(n,(i,a)=>{yy(n,i,B7(a))},r),t&&(t.finalized_=!1),n}var Lhe=new Rhe,z7=Lhe.produce;function U7(e){return({dispatch:n,getState:r})=>i=>a=>typeof a=="function"?a(n,r,e):i(a)}var Ihe=U7(),$he=U7,Bhe=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?km:km.apply(null,arguments)};function ga(e,t){function n(...r){if(t){let i=t(...r);if(!i)throw new Error(Bi(0));return{type:e,payload:i.payload,..."meta"in i&&{meta:i.meta},..."error"in i&&{error:i.error}}}return{type:e,payload:r[0]}}return n.toString=()=>`${e}`,n.type=e,n.match=r=>d5(r)&&r.type===e,n}var F7=class sm extends Array{constructor(...t){super(...t),Object.setPrototypeOf(this,sm.prototype)}static get[Symbol.species](){return sm}concat(...t){return super.concat.apply(this,t)}prepend(...t){return t.length===1&&Array.isArray(t[0])?new sm(...t[0].concat(this)):new sm(...t.concat(this))}};function zR(e){return Ya(e)?z7(e,()=>{}):e}function V0(e,t,n){return e.has(t)?e.get(t):e.set(t,n(t)).get(t)}function zhe(e){return typeof e=="boolean"}var Uhe=()=>function(t){const{thunk:n=!0,immutableCheck:r=!0,serializableCheck:i=!0,actionCreatorCheck:a=!0}=t??{};let o=new F7;return n&&(zhe(n)?o.push(Ihe):o.push($he(n.extraArgument))),o},H7="RTK_autoBatch",an=()=>e=>({payload:e,meta:{[H7]:!0}}),UR=e=>t=>{setTimeout(t,e)},G7=(e={type:"raf"})=>t=>(...n)=>{const r=t(...n);let i=!0,a=!1,o=!1;const l=new Set,u=e.type==="tick"?queueMicrotask:e.type==="raf"?typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:UR(10):e.type==="callback"?e.queueNotification:UR(e.timeout),d=()=>{o=!1,a&&(a=!1,l.forEach(h=>h()))};return Object.assign({},r,{subscribe(h){const p=()=>i&&h(),b=r.subscribe(p);return l.add(h),()=>{b(),l.delete(h)}},dispatch(h){try{return i=!h?.meta?.[H7],a=!i,a&&(o||(o=!0,u(d))),r.dispatch(h)}finally{i=!0}}})},Fhe=e=>function(n){const{autoBatch:r=!0}=n??{};let i=new F7(e);return r&&i.push(G7(typeof r=="object"?r:void 0)),i};function Hhe(e){const t=Uhe(),{reducer:n=void 0,middleware:r,devTools:i=!0,preloadedState:a=void 0,enhancers:o=void 0}=e||{};let l;if(typeof n=="function")l=n;else if(E2(n))l=c5(n);else throw new Error(Bi(1));let u;typeof r=="function"?u=r(t):u=t();let d=km;i&&(d=Bhe({trace:!1,...typeof i=="object"&&i}));const h=u5(...u),p=Fhe(h);let b=typeof o=="function"?o(p):p();const x=d(...b);return A2(l,a,x)}function q7(e){const t={},n=[];let r;const i={addCase(a,o){const l=typeof a=="string"?a:a.type;if(!l)throw new Error(Bi(28));if(l in t)throw new Error(Bi(29));return t[l]=o,i},addAsyncThunk(a,o){return o.pending&&(t[a.pending.type]=o.pending),o.rejected&&(t[a.rejected.type]=o.rejected),o.fulfilled&&(t[a.fulfilled.type]=o.fulfilled),o.settled&&n.push({matcher:a.settled,reducer:o.settled}),i},addMatcher(a,o){return n.push({matcher:a,reducer:o}),i},addDefaultCase(a){return r=a,i}};return e(i),[t,n,r]}function Ghe(e){return typeof e=="function"}function qhe(e,t){let[n,r,i]=q7(t),a;if(Ghe(e))a=()=>zR(e());else{const l=zR(e);a=()=>l}function o(l=a(),u){let d=[n[u.type],...r.filter(({matcher:h})=>h(u)).map(({reducer:h})=>h)];return d.filter(h=>!!h).length===0&&(d=[i]),d.reduce((h,p)=>{if(p)if(_s(h)){const x=p(h,u);return x===void 0?h:x}else{if(Ya(h))return z7(h,b=>p(b,u));{const b=p(h,u);if(b===void 0){if(h===null)return h;throw Error("A case reducer on a non-draftable value must not return undefined")}return b}}return h},l)}return o.getInitialState=a,o}var Yhe="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",Khe=(e=21)=>{let t="",n=e;for(;n--;)t+=Yhe[Math.random()*64|0];return t},Whe=Symbol.for("rtk-slice-createasyncthunk");function Vhe(e,t){return`${e}/${t}`}function Zhe({creators:e}={}){const t=e?.asyncThunk?.[Whe];return function(r){const{name:i,reducerPath:a=i}=r;if(!i)throw new Error(Bi(11));const o=(typeof r.reducers=="function"?r.reducers(Jhe()):r.reducers)||{},l=Object.keys(o),u={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},d={addCase(j,C){const M=typeof j=="string"?j:j.type;if(!M)throw new Error(Bi(12));if(M in u.sliceCaseReducersByType)throw new Error(Bi(13));return u.sliceCaseReducersByType[M]=C,d},addMatcher(j,C){return u.sliceMatchers.push({matcher:j,reducer:C}),d},exposeAction(j,C){return u.actionCreators[j]=C,d},exposeCaseReducer(j,C){return u.sliceCaseReducersByName[j]=C,d}};l.forEach(j=>{const C=o[j],M={reducerName:j,type:Vhe(i,j),createNotation:typeof r.reducers=="function"};eme(C)?nme(M,C,d,t):Qhe(M,C,d)});function h(){const[j={},C=[],M=void 0]=typeof r.extraReducers=="function"?q7(r.extraReducers):[r.extraReducers],P={...j,...u.sliceCaseReducersByType};return qhe(r.initialState,$=>{for(let U in P)$.addCase(U,P[U]);for(let U of u.sliceMatchers)$.addMatcher(U.matcher,U.reducer);for(let U of C)$.addMatcher(U.matcher,U.reducer);M&&$.addDefaultCase(M)})}const p=j=>j,b=new Map,x=new WeakMap;let k;function S(j,C){return k||(k=h()),k(j,C)}function _(){return k||(k=h()),k.getInitialState()}function T(j,C=!1){function M($){let U=$[j];return typeof U>"u"&&C&&(U=V0(x,M,_)),U}function P($=p){const U=V0(b,C,()=>new WeakMap);return V0(U,$,()=>{const Y={};for(const[W,H]of Object.entries(r.selectors??{}))Y[W]=Xhe(H,$,()=>V0(x,$,_),C);return Y})}return{reducerPath:j,getSelectors:P,get selectors(){return P(M)},selectSlice:M}}const N={name:i,reducer:S,actions:u.actionCreators,caseReducers:u.sliceCaseReducersByName,getInitialState:_,...T(a),injectInto(j,{reducerPath:C,...M}={}){const P=C??a;return j.inject({reducerPath:P,reducer:S},M),{...N,...T(P,!0)}}};return N}}function Xhe(e,t,n,r){function i(a,...o){let l=t(a);return typeof l>"u"&&r&&(l=n()),e(l,...o)}return i.unwrapped=e,i}var mi=Zhe();function Jhe(){function e(t,n){return{_reducerDefinitionType:"asyncThunk",payloadCreator:t,...n}}return e.withTypes=()=>e,{reducer(t){return Object.assign({[t.name](...n){return t(...n)}}[t.name],{_reducerDefinitionType:"reducer"})},preparedReducer(t,n){return{_reducerDefinitionType:"reducerWithPrepare",prepare:t,reducer:n}},asyncThunk:e}}function Qhe({type:e,reducerName:t,createNotation:n},r,i){let a,o;if("reducer"in r){if(n&&!tme(r))throw new Error(Bi(17));a=r.reducer,o=r.prepare}else a=r;i.addCase(e,a).exposeCaseReducer(t,a).exposeAction(t,o?ga(e,o):ga(e))}function eme(e){return e._reducerDefinitionType==="asyncThunk"}function tme(e){return e._reducerDefinitionType==="reducerWithPrepare"}function nme({type:e,reducerName:t},n,r,i){if(!i)throw new Error(Bi(18));const{payloadCreator:a,fulfilled:o,pending:l,rejected:u,settled:d,options:h}=n,p=i(e,a,h);r.exposeAction(t,p),o&&r.addCase(p.fulfilled,o),l&&r.addCase(p.pending,l),u&&r.addCase(p.rejected,u),d&&r.addMatcher(p.settled,d),r.exposeCaseReducer(t,{fulfilled:o||Z0,pending:l||Z0,rejected:u||Z0,settled:d||Z0})}function Z0(){}var rme="task",Y7="listener",K7="completed",FA="cancelled",ime=`task-${FA}`,ame=`task-${K7}`,pE=`${Y7}-${FA}`,ome=`${Y7}-${K7}`,Kv=class{constructor(e){this.code=e,this.message=`${rme} ${FA} (reason: ${e})`}name="TaskAbortError";message},HA=(e,t)=>{if(typeof e!="function")throw new TypeError(Bi(32))},xy=()=>{},W7=(e,t=xy)=>(e.catch(t),e),V7=(e,t)=>(e.addEventListener("abort",t,{once:!0}),()=>e.removeEventListener("abort",t)),ru=e=>{if(e.aborted)throw new Kv(e.reason)};function Z7(e,t){let n=xy;return new Promise((r,i)=>{const a=()=>i(new Kv(e.reason));if(e.aborted){a();return}n=V7(e,a),t.finally(()=>n()).then(r,i)}).finally(()=>{n=xy})}var sme=async(e,t)=>{try{return await Promise.resolve(),{status:"ok",value:await e()}}catch(n){return{status:n instanceof Kv?"cancelled":"rejected",error:n}}finally{t?.()}},_y=e=>t=>W7(Z7(e,t).then(n=>(ru(e),n))),X7=e=>{const t=_y(e);return n=>t(new Promise(r=>setTimeout(r,n)))},{assign:$d}=Object,FR={},Wv="listenerMiddleware",lme=(e,t)=>{const n=r=>V7(e,()=>r.abort(e.reason));return(r,i)=>{HA(r);const a=new AbortController;n(a);const o=sme(async()=>{ru(e),ru(a.signal);const l=await r({pause:_y(a.signal),delay:X7(a.signal),signal:a.signal});return ru(a.signal),l},()=>a.abort(ame));return i?.autoJoin&&t.push(o.catch(xy)),{result:_y(e)(o),cancel(){a.abort(ime)}}}},cme=(e,t)=>{const n=async(r,i)=>{ru(t);let a=()=>{};const l=[new Promise((u,d)=>{let h=e({predicate:r,effect:(p,b)=>{b.unsubscribe(),u([p,b.getState(),b.getOriginalState()])}});a=()=>{h(),d()}})];i!=null&&l.push(new Promise(u=>setTimeout(u,i,null)));try{const u=await Z7(t,Promise.race(l));return ru(t),u}finally{a()}};return(r,i)=>W7(n(r,i))},J7=e=>{let{type:t,actionCreator:n,matcher:r,predicate:i,effect:a}=e;if(t)i=ga(t).match;else if(n)t=n.type,i=n.match;else if(r)i=r;else if(!i)throw new Error(Bi(21));return HA(a),{predicate:i,type:t,effect:a}},Q7=$d(e=>{const{type:t,predicate:n,effect:r}=J7(e);return{id:Khe(),effect:r,type:t,predicate:n,pending:new Set,unsubscribe:()=>{throw new Error(Bi(22))}}},{withTypes:()=>Q7}),HR=(e,t)=>{const{type:n,effect:r,predicate:i}=J7(t);return Array.from(e.values()).find(a=>(typeof n=="string"?a.type===n:a.predicate===i)&&a.effect===r)},gE=e=>{e.pending.forEach(t=>{t.abort(pE)})},ume=(e,t)=>()=>{for(const n of t.keys())gE(n);e.clear()},GR=(e,t,n)=>{try{e(t,n)}catch(r){setTimeout(()=>{throw r},0)}},e9=$d(ga(`${Wv}/add`),{withTypes:()=>e9}),dme=ga(`${Wv}/removeAll`),t9=$d(ga(`${Wv}/remove`),{withTypes:()=>t9}),fme=(...e)=>{console.error(`${Wv}/error`,...e)},vp=(e={})=>{const t=new Map,n=new Map,r=x=>{const k=n.get(x)??0;n.set(x,k+1)},i=x=>{const k=n.get(x)??1;k===1?n.delete(x):n.set(x,k-1)},{extra:a,onError:o=fme}=e;HA(o);const l=x=>(x.unsubscribe=()=>t.delete(x.id),t.set(x.id,x),k=>{x.unsubscribe(),k?.cancelActive&&gE(x)}),u=x=>{const k=HR(t,x)??Q7(x);return l(k)};$d(u,{withTypes:()=>u});const d=x=>{const k=HR(t,x);return k&&(k.unsubscribe(),x.cancelActive&&gE(k)),!!k};$d(d,{withTypes:()=>d});const h=async(x,k,S,_)=>{const T=new AbortController,N=cme(u,T.signal),j=[];try{x.pending.add(T),r(x),await Promise.resolve(x.effect(k,$d({},S,{getOriginalState:_,condition:(C,M)=>N(C,M).then(Boolean),take:N,delay:X7(T.signal),pause:_y(T.signal),extra:a,signal:T.signal,fork:lme(T.signal,j),unsubscribe:x.unsubscribe,subscribe:()=>{t.set(x.id,x)},cancelActiveListeners:()=>{x.pending.forEach((C,M,P)=>{C!==T&&(C.abort(pE),P.delete(C))})},cancel:()=>{T.abort(pE),x.pending.delete(T)},throwIfCancelled:()=>{ru(T.signal)}})))}catch(C){C instanceof Kv||GR(o,C,{raisedBy:"effect"})}finally{await Promise.all(j),T.abort(ome),i(x),x.pending.delete(T)}},p=ume(t,n);return{middleware:x=>k=>S=>{if(!d5(S))return k(S);if(e9.match(S))return u(S.payload);if(dme.match(S)){p();return}if(t9.match(S))return d(S.payload);let _=x.getState();const T=()=>{if(_===FR)throw new Error(Bi(23));return _};let N;try{if(N=k(S),t.size>0){const j=x.getState(),C=Array.from(t.values());for(const M of C){let P=!1;try{P=M.predicate(S,j,_)}catch($){P=!1,GR(o,$,{raisedBy:"predicate"})}P&&h(M,S,x,T)}}}finally{_=FR}return N},startListening:u,stopListening:d,clearListeners:p}};function Bi(e){return`Minified Redux Toolkit error #${e}; visit https://redux-toolkit.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var hme={layoutType:"horizontal",width:0,height:0,margin:{top:5,right:5,bottom:5,left:5},scale:1},n9=mi({name:"chartLayout",initialState:hme,reducers:{setLayout(e,t){e.layoutType=t.payload},setChartSize(e,t){e.width=t.payload.width,e.height=t.payload.height},setMargin(e,t){var n,r,i,a;e.margin.top=(n=t.payload.top)!==null&&n!==void 0?n:0,e.margin.right=(r=t.payload.right)!==null&&r!==void 0?r:0,e.margin.bottom=(i=t.payload.bottom)!==null&&i!==void 0?i:0,e.margin.left=(a=t.payload.left)!==null&&a!==void 0?a:0},setScale(e,t){e.scale=t.payload}}}),{setMargin:mme,setLayout:pme,setChartSize:gme,setScale:bme}=n9.actions,yme=n9.reducer;function r9(e,t,n){return Array.isArray(e)&&e&&t+n!==0?e.slice(t,n+1):e}function qR(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Od(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?qR(Object(n),!0).forEach(function(r){vme(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):qR(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function vme(e,t,n){return(t=xme(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function xme(e){var t=_me(e,"string");return typeof t=="symbol"?t:t+""}function _me(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Cr(e,t,n){return _r(e)||_r(t)?n:jo(t)?Bv(e,t,n):typeof t=="function"?t(e):n}var wme=(e,t,n)=>{if(t&&n){var{width:r,height:i}=n,{align:a,verticalAlign:o,layout:l}=t;if((l==="vertical"||l==="horizontal"&&o==="middle")&&a!=="center"&&Ve(e[a]))return Od(Od({},e),{},{[a]:e[a]+(r||0)});if((l==="horizontal"||l==="vertical"&&a==="center")&&o!=="middle"&&Ve(e[o]))return Od(Od({},e),{},{[o]:e[o]+(i||0)})}return e},js=(e,t)=>e==="horizontal"&&t==="xAxis"||e==="vertical"&&t==="yAxis"||e==="centric"&&t==="angleAxis"||e==="radial"&&t==="radiusAxis",i9=(e,t,n,r)=>{if(r)return e.map(l=>l.coordinate);var i,a,o=e.map(l=>(l.coordinate===t&&(i=!0),l.coordinate===n&&(a=!0),l.coordinate));return i||o.push(t),a||o.push(n),o},a9=(e,t,n)=>{if(!e)return null;var{duplicateDomain:r,type:i,range:a,scale:o,realScaleType:l,isCategorical:u,categoricalDomain:d,tickCount:h,ticks:p,niceTicks:b,axisType:x}=e;if(!o)return null;var k=l==="scaleBand"&&o.bandwidth?o.bandwidth()/2:2,S=i==="category"&&o.bandwidth?o.bandwidth()/k:0;if(S=x==="angleAxis"&&a&&a.length>=2?ua(a[0]-a[1])*2*S:S,p||b){var _=(p||b||[]).map((T,N)=>{var j=r?r.indexOf(T):T;return{coordinate:o(j)+S,value:T,offset:S,index:N}});return _.filter(T=>!qa(T.coordinate))}return u&&d?d.map((T,N)=>({coordinate:o(T)+S,value:T,index:N,offset:S})):o.ticks&&h!=null?o.ticks(h).map((T,N)=>({coordinate:o(T)+S,value:T,offset:S,index:N})):o.domain().map((T,N)=>({coordinate:o(T)+S,value:r?r[T]:T,index:N,offset:S}))},YR=1e-4,Sme=e=>{var t=e.domain();if(!(!t||t.length<=2)){var n=t.length,r=e.range(),i=Math.min(r[0],r[1])-YR,a=Math.max(r[0],r[1])+YR,o=e(t[0]),l=e(t[n-1]);(o<i||o>a||l<i||l>a)&&e.domain([t[0],t[n-1]])}},kme=e=>{var t=e.length;if(!(t<=0))for(var n=0,r=e[0].length;n<r;++n)for(var i=0,a=0,o=0;o<t;++o){var l=qa(e[o][n][1])?e[o][n][0]:e[o][n][1];l>=0?(e[o][n][0]=i,e[o][n][1]=i+l,i=e[o][n][1]):(e[o][n][0]=a,e[o][n][1]=a+l,a=e[o][n][1])}},Eme=e=>{var t=e.length;if(!(t<=0))for(var n=0,r=e[0].length;n<r;++n)for(var i=0,a=0;a<t;++a){var o=qa(e[a][n][1])?e[a][n][0]:e[a][n][1];o>=0?(e[a][n][0]=i,e[a][n][1]=i+o,i=e[a][n][1]):(e[a][n][0]=0,e[a][n][1]=0)}},Ame={sign:kme,expand:mfe,none:Xd,silhouette:pfe,wiggle:gfe,positive:Eme},Tme=(e,t,n)=>{var r=Ame[n],i=hfe().keys(t).value((a,o)=>Number(Cr(a,o,0))).order(oE).offset(r);return i(e)};function jme(e){return e==null?void 0:String(e)}function KR(e){var{axis:t,ticks:n,bandSize:r,entry:i,index:a,dataKey:o}=e;if(t.type==="category"){if(!t.allowDuplicatedCategory&&t.dataKey&&!_r(i[t.dataKey])){var l=g7(n,"value",i[t.dataKey]);if(l)return l.coordinate+r/2}return n[a]?n[a].coordinate+r/2:null}var u=Cr(i,_r(o)?t.dataKey:o);return _r(u)?null:t.scale(u)}var Ome=e=>{var t=e.flat(2).filter(Ve);return[Math.min(...t),Math.max(...t)]},Nme=e=>[e[0]===1/0?0:e[0],e[1]===-1/0?0:e[1]],Cme=(e,t,n)=>{if(e!=null)return Nme(Object.keys(e).reduce((r,i)=>{var a=e[i],{stackedData:o}=a,l=o.reduce((u,d)=>{var h=r9(d,t,n),p=Ome(h);return[Math.min(u[0],p[0]),Math.max(u[1],p[1])]},[1/0,-1/0]);return[Math.min(l[0],r[0]),Math.max(l[1],r[1])]},[1/0,-1/0]))},WR=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,VR=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,wy=(e,t,n)=>{if(e&&e.scale&&e.scale.bandwidth){var r=e.scale.bandwidth();if(!n||r>0)return r}if(e&&t&&t.length>=2){for(var i=zv(t,h=>h.coordinate),a=1/0,o=1,l=i.length;o<l;o++){var u=i[o],d=i[o-1];a=Math.min((u.coordinate||0)-(d.coordinate||0),a)}return a===1/0?0:a}return n?void 0:0};function ZR(e){var{tooltipEntrySettings:t,dataKey:n,payload:r,value:i,name:a}=e;return Od(Od({},t),{},{dataKey:n,payload:r,value:i,name:a})}function o9(e,t){if(e)return String(e);if(typeof t=="string")return t}var Mme=(e,t)=>{if(t==="horizontal")return e.chartX;if(t==="vertical")return e.chartY},Dme=(e,t)=>t==="centric"?e.angle:e.radius,Os=e=>e.layout.width,Ns=e=>e.layout.height,Pme=e=>e.layout.scale,s9=e=>e.layout.margin,Vv=_e(e=>e.cartesianAxis.xAxis,e=>Object.values(e)),Zv=_e(e=>e.cartesianAxis.yAxis,e=>Object.values(e)),Rme="data-recharts-item-index",Lme="data-recharts-item-data-key",xp=60;function XR(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function X0(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?XR(Object(n),!0).forEach(function(r){Ime(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):XR(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Ime(e,t,n){return(t=$me(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function $me(e){var t=Bme(e,"string");return typeof t=="symbol"?t:t+""}function Bme(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var zme=e=>e.brush.height;function Ume(e){var t=Zv(e);return t.reduce((n,r)=>{if(r.orientation==="left"&&!r.mirror&&!r.hide){var i=typeof r.width=="number"?r.width:xp;return n+i}return n},0)}function Fme(e){var t=Zv(e);return t.reduce((n,r)=>{if(r.orientation==="right"&&!r.mirror&&!r.hide){var i=typeof r.width=="number"?r.width:xp;return n+i}return n},0)}function Hme(e){var t=Vv(e);return t.reduce((n,r)=>r.orientation==="top"&&!r.mirror&&!r.hide?n+r.height:n,0)}function Gme(e){var t=Vv(e);return t.reduce((n,r)=>r.orientation==="bottom"&&!r.mirror&&!r.hide?n+r.height:n,0)}var kr=_e([Os,Ns,s9,zme,Ume,Fme,Hme,Gme,N7,xhe],(e,t,n,r,i,a,o,l,u,d)=>{var h={left:(n.left||0)+i,right:(n.right||0)+a},p={top:(n.top||0)+o,bottom:(n.bottom||0)+l},b=X0(X0({},p),h),x=b.bottom;b.bottom+=r,b=wme(b,u,d);var k=e-b.left-b.right,S=t-b.top-b.bottom;return X0(X0({brushBottom:x},b),{},{width:Math.max(k,0),height:Math.max(S,0)})}),qme=_e(kr,e=>({x:e.left,y:e.top,width:e.width,height:e.height})),l9=_e(Os,Ns,(e,t)=>({x:0,y:0,width:e,height:t})),Yme=w.createContext(null),pi=()=>w.useContext(Yme)!=null,Xv=e=>e.brush,Jv=_e([Xv,kr,s9],(e,t,n)=>({height:e.height,x:Ve(e.x)?e.x:t.left,y:Ve(e.y)?e.y:t.top+t.height+t.brushBottom-(n?.bottom||0),width:Ve(e.width)?e.width:t.width})),dS={},fS={},hS={},JR;function Kme(){return JR||(JR=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n,r,{signal:i,edges:a}={}){let o,l=null;const u=a!=null&&a.includes("leading"),d=a==null||a.includes("trailing"),h=()=>{l!==null&&(n.apply(o,l),o=void 0,l=null)},p=()=>{d&&h(),S()};let b=null;const x=()=>{b!=null&&clearTimeout(b),b=setTimeout(()=>{b=null,p()},r)},k=()=>{b!==null&&(clearTimeout(b),b=null)},S=()=>{k(),o=void 0,l=null},_=()=>{h()},T=function(...N){if(i?.aborted)return;o=this,l=N;const j=b==null;x(),u&&j&&h()};return T.schedule=x,T.cancel=S,T.flush=_,i?.addEventListener("abort",S,{once:!0}),T}e.debounce=t})(hS)),hS}var QR;function Wme(){return QR||(QR=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Kme();function n(r,i=0,a={}){typeof a!="object"&&(a={});const{leading:o=!1,trailing:l=!0,maxWait:u}=a,d=Array(2);o&&(d[0]="leading"),l&&(d[1]="trailing");let h,p=null;const b=t.debounce(function(...S){h=r.apply(this,S),p=null},i,{edges:d}),x=function(...S){return u!=null&&(p===null&&(p=Date.now()),Date.now()-p>=u)?(h=r.apply(this,S),p=Date.now(),b.cancel(),b.schedule(),h):(b.apply(this,S),h)},k=()=>(b.flush(),h);return x.cancel=b.cancel,x.flush=k,x}e.debounce=n})(fS)),fS}var eL;function Vme(){return eL||(eL=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Wme();function n(r,i=0,a={}){const{leading:o=!0,trailing:l=!0}=a;return t.debounce(r,i,{leading:o,maxWait:i,trailing:l})}e.throttle=n})(dS)),dS}var mS,tL;function Zme(){return tL||(tL=1,mS=Vme().throttle),mS}var Xme=Zme();const Jme=hi(Xme);var Sy=function(t,n){for(var r=arguments.length,i=new Array(r>2?r-2:0),a=2;a<r;a++)i[a-2]=arguments[a];if(typeof console<"u"&&console.warn&&(n===void 0&&console.warn("LogUtils requires an error message argument"),!t))if(n===void 0)console.warn("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var o=0;console.warn(n.replace(/%s/g,()=>i[o++]))}},c9=(e,t,n)=>{var{width:r="100%",height:i="100%",aspect:a,maxHeight:o}=n,l=xs(r)?e:Number(r),u=xs(i)?t:Number(i);return a&&a>0&&(l?u=l/a:u&&(l=u*a),o&&u!=null&&u>o&&(u=o)),{calculatedWidth:l,calculatedHeight:u}},Qme={width:0,height:0,overflow:"visible"},epe={width:0,overflowX:"visible"},tpe={height:0,overflowY:"visible"},npe={},rpe=e=>{var{width:t,height:n}=e,r=xs(t),i=xs(n);return r&&i?Qme:r?epe:i?tpe:npe};function ipe(e){var{width:t,height:n,aspect:r}=e,i=t,a=n;return i===void 0&&a===void 0?(i="100%",a="100%"):i===void 0?i=r&&r>0?void 0:"100%":a===void 0&&(a=r&&r>0?void 0:"100%"),{width:i,height:a}}function wn(e){return Number.isFinite(e)}function Oo(e){return typeof e=="number"&&e>0&&Number.isFinite(e)}function bE(){return bE=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},bE.apply(null,arguments)}function nL(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function rL(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?nL(Object(n),!0).forEach(function(r){ape(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):nL(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function ape(e,t,n){return(t=ope(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ope(e){var t=spe(e,"string");return typeof t=="symbol"?t:t+""}function spe(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var u9=w.createContext({width:-1,height:-1});function lpe(e){return Oo(e.width)&&Oo(e.height)}function d9(e){var{children:t,width:n,height:r}=e,i=w.useMemo(()=>({width:n,height:r}),[n,r]);return lpe(i)?w.createElement(u9.Provider,{value:i},t):null}var GA=()=>w.useContext(u9),cpe=w.forwardRef((e,t)=>{var{aspect:n,initialDimension:r={width:-1,height:-1},width:i,height:a,minWidth:o=0,minHeight:l,maxHeight:u,children:d,debounce:h=0,id:p,className:b,onResize:x,style:k={}}=e,S=w.useRef(null),_=w.useRef();_.current=x,w.useImperativeHandle(t,()=>S.current);var[T,N]=w.useState({containerWidth:r.width,containerHeight:r.height}),j=w.useCallback((U,Y)=>{N(W=>{var H=Math.round(U),z=Math.round(Y);return W.containerWidth===H&&W.containerHeight===z?W:{containerWidth:H,containerHeight:z}})},[]);w.useEffect(()=>{if(S.current==null||typeof ResizeObserver>"u")return gp;var U=z=>{var V,{width:X,height:Z}=z[0].contentRect;j(X,Z),(V=_.current)===null||V===void 0||V.call(_,X,Z)};h>0&&(U=Jme(U,h,{trailing:!0,leading:!1}));var Y=new ResizeObserver(U),{width:W,height:H}=S.current.getBoundingClientRect();return j(W,H),Y.observe(S.current),()=>{Y.disconnect()}},[j,h]);var{containerWidth:C,containerHeight:M}=T;Sy(!n||n>0,"The aspect(%s) must be greater than zero.",n);var{calculatedWidth:P,calculatedHeight:$}=c9(C,M,{width:i,height:a,aspect:n,maxHeight:u});return Sy(P!=null&&P>0||$!=null&&$>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,P,$,i,a,o,l,n),w.createElement("div",{id:p?"".concat(p):void 0,className:Qt("recharts-responsive-container",b),style:rL(rL({},k),{},{width:i,height:a,minWidth:o,minHeight:l,maxHeight:u}),ref:S},w.createElement("div",{style:rpe({width:i,height:a})},w.createElement(d9,{width:P,height:$},d)))}),upe=w.forwardRef((e,t)=>{var n=GA();if(Oo(n.width)&&Oo(n.height))return e.children;var{width:r,height:i}=ipe({width:e.width,height:e.height,aspect:e.aspect}),{calculatedWidth:a,calculatedHeight:o}=c9(void 0,void 0,{width:r,height:i,aspect:e.aspect,maxHeight:e.maxHeight});return Ve(a)&&Ve(o)?w.createElement(d9,{width:a,height:o},e.children):w.createElement(cpe,bE({},e,{width:r,height:i,ref:t}))});function f9(e){if(e)return{x:e.x,y:e.y,upperWidth:"upperWidth"in e?e.upperWidth:e.width,lowerWidth:"lowerWidth"in e?e.lowerWidth:e.width,width:e.width,height:e.height}}var Qv=()=>{var e,t=pi(),n=Je(qme),r=Je(Jv),i=(e=Je(Xv))===null||e===void 0?void 0:e.padding;return!t||!r||!i?n:{width:r.width-i.left-i.right,height:r.height-i.top-i.bottom,x:i.left,y:i.top}},dpe={top:0,bottom:0,left:0,right:0,width:0,height:0,brushBottom:0},h9=()=>{var e;return(e=Je(kr))!==null&&e!==void 0?e:dpe},m9=()=>Je(Os),p9=()=>Je(Ns),Wt=e=>e.layout.layoutType,_p=()=>Je(Wt),fpe=()=>{var e=_p();if(e==="horizontal"||e==="vertical")return e},hpe=()=>{var e=_p();return e!==void 0},ex=e=>{var t=ur(),n=pi(),{width:r,height:i}=e,a=GA(),o=r,l=i;return a&&(o=a.width>0?a.width:r,l=a.height>0?a.height:i),w.useEffect(()=>{!n&&Oo(o)&&Oo(l)&&t(gme({width:o,height:l}))},[t,n,o,l]),null},g9=Symbol.for("immer-nothing"),iL=Symbol.for("immer-draftable"),Fi=Symbol.for("immer-state");function $a(e,...t){throw new Error(`[Immer] minified error nr: ${e}. Full error at: https://bit.ly/3cXEKWf`)}var Um=Object.getPrototypeOf;function ef(e){return!!e&&!!e[Fi]}function uu(e){return e?b9(e)||Array.isArray(e)||!!e[iL]||!!e.constructor?.[iL]||wp(e)||nx(e):!1}var mpe=Object.prototype.constructor.toString(),aL=new WeakMap;function b9(e){if(!e||typeof e!="object")return!1;const t=Object.getPrototypeOf(e);if(t===null||t===Object.prototype)return!0;const n=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;if(n===Object)return!0;if(typeof n!="function")return!1;let r=aL.get(n);return r===void 0&&(r=Function.toString.call(n),aL.set(n,r)),r===mpe}function ky(e,t,n=!0){tx(e)===0?(n?Reflect.ownKeys(e):Object.keys(e)).forEach(i=>{t(i,e[i],e)}):e.forEach((r,i)=>t(i,r,e))}function tx(e){const t=e[Fi];return t?t.type_:Array.isArray(e)?1:wp(e)?2:nx(e)?3:0}function yE(e,t){return tx(e)===2?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function y9(e,t,n){const r=tx(e);r===2?e.set(t,n):r===3?e.add(n):e[t]=n}function ppe(e,t){return e===t?e!==0||1/e===1/t:e!==e&&t!==t}function wp(e){return e instanceof Map}function nx(e){return e instanceof Set}function Gc(e){return e.copy_||e.base_}function vE(e,t){if(wp(e))return new Map(e);if(nx(e))return new Set(e);if(Array.isArray(e))return Array.prototype.slice.call(e);const n=b9(e);if(t===!0||t==="class_only"&&!n){const r=Object.getOwnPropertyDescriptors(e);delete r[Fi];let i=Reflect.ownKeys(r);for(let a=0;a<i.length;a++){const o=i[a],l=r[o];l.writable===!1&&(l.writable=!0,l.configurable=!0),(l.get||l.set)&&(r[o]={configurable:!0,writable:!0,enumerable:l.enumerable,value:e[o]})}return Object.create(Um(e),r)}else{const r=Um(e);if(r!==null&&n)return{...e};const i=Object.create(r);return Object.assign(i,e)}}function qA(e,t=!1){return rx(e)||ef(e)||!uu(e)||(tx(e)>1&&Object.defineProperties(e,{set:J0,add:J0,clear:J0,delete:J0}),Object.freeze(e),t&&Object.values(e).forEach(n=>qA(n,!0))),e}function gpe(){$a(2)}var J0={value:gpe};function rx(e){return e===null||typeof e!="object"?!0:Object.isFrozen(e)}var bpe={};function du(e){const t=bpe[e];return t||$a(0,e),t}var Fm;function v9(){return Fm}function ype(e,t){return{drafts_:[],parent_:e,immer_:t,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function oL(e,t){t&&(du("Patches"),e.patches_=[],e.inversePatches_=[],e.patchListener_=t)}function xE(e){_E(e),e.drafts_.forEach(vpe),e.drafts_=null}function _E(e){e===Fm&&(Fm=e.parent_)}function sL(e){return Fm=ype(Fm,e)}function vpe(e){const t=e[Fi];t.type_===0||t.type_===1?t.revoke_():t.revoked_=!0}function lL(e,t){t.unfinalizedDrafts_=t.drafts_.length;const n=t.drafts_[0];return e!==void 0&&e!==n?(n[Fi].modified_&&(xE(t),$a(4)),uu(e)&&(e=Ey(t,e),t.parent_||Ay(t,e)),t.patches_&&du("Patches").generateReplacementPatches_(n[Fi].base_,e,t.patches_,t.inversePatches_)):e=Ey(t,n,[]),xE(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),e!==g9?e:void 0}function Ey(e,t,n){if(rx(t))return t;const r=e.immer_.shouldUseStrictIteration(),i=t[Fi];if(!i)return ky(t,(a,o)=>cL(e,i,t,a,o,n),r),t;if(i.scope_!==e)return t;if(!i.modified_)return Ay(e,i.base_,!0),i.base_;if(!i.finalized_){i.finalized_=!0,i.scope_.unfinalizedDrafts_--;const a=i.copy_;let o=a,l=!1;i.type_===3&&(o=new Set(a),a.clear(),l=!0),ky(o,(u,d)=>cL(e,i,a,u,d,n,l),r),Ay(e,a,!1),n&&e.patches_&&du("Patches").generatePatches_(i,n,e.patches_,e.inversePatches_)}return i.copy_}function cL(e,t,n,r,i,a,o){if(i==null||typeof i!="object"&&!o)return;const l=rx(i);if(!(l&&!o)){if(ef(i)){const u=a&&t&&t.type_!==3&&!yE(t.assigned_,r)?a.concat(r):void 0,d=Ey(e,i,u);if(y9(n,r,d),ef(d))e.canAutoFreeze_=!1;else return}else o&&n.add(i);if(uu(i)&&!l){if(!e.immer_.autoFreeze_&&e.unfinalizedDrafts_<1||t&&t.base_&&t.base_[r]===i&&l)return;Ey(e,i),(!t||!t.scope_.parent_)&&typeof r!="symbol"&&(wp(n)?n.has(r):Object.prototype.propertyIsEnumerable.call(n,r))&&Ay(e,i)}}}function Ay(e,t,n=!1){!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&qA(t,n)}function xpe(e,t){const n=Array.isArray(e),r={type_:n?1:0,scope_:t?t.scope_:v9(),modified_:!1,finalized_:!1,assigned_:{},parent_:t,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1};let i=r,a=YA;n&&(i=[r],a=Hm);const{revoke:o,proxy:l}=Proxy.revocable(i,a);return r.draft_=l,r.revoke_=o,l}var YA={get(e,t){if(t===Fi)return e;const n=Gc(e);if(!yE(n,t))return _pe(e,n,t);const r=n[t];return e.finalized_||!uu(r)?r:r===pS(e.base_,t)?(gS(e),e.copy_[t]=SE(r,e)):r},has(e,t){return t in Gc(e)},ownKeys(e){return Reflect.ownKeys(Gc(e))},set(e,t,n){const r=x9(Gc(e),t);if(r?.set)return r.set.call(e.draft_,n),!0;if(!e.modified_){const i=pS(Gc(e),t),a=i?.[Fi];if(a&&a.base_===n)return e.copy_[t]=n,e.assigned_[t]=!1,!0;if(ppe(n,i)&&(n!==void 0||yE(e.base_,t)))return!0;gS(e),wE(e)}return e.copy_[t]===n&&(n!==void 0||t in e.copy_)||Number.isNaN(n)&&Number.isNaN(e.copy_[t])||(e.copy_[t]=n,e.assigned_[t]=!0),!0},deleteProperty(e,t){return pS(e.base_,t)!==void 0||t in e.base_?(e.assigned_[t]=!1,gS(e),wE(e)):delete e.assigned_[t],e.copy_&&delete e.copy_[t],!0},getOwnPropertyDescriptor(e,t){const n=Gc(e),r=Reflect.getOwnPropertyDescriptor(n,t);return r&&{writable:!0,configurable:e.type_!==1||t!=="length",enumerable:r.enumerable,value:n[t]}},defineProperty(){$a(11)},getPrototypeOf(e){return Um(e.base_)},setPrototypeOf(){$a(12)}},Hm={};ky(YA,(e,t)=>{Hm[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}});Hm.deleteProperty=function(e,t){return Hm.set.call(this,e,t,void 0)};Hm.set=function(e,t,n){return YA.set.call(this,e[0],t,n,e[0])};function pS(e,t){const n=e[Fi];return(n?Gc(n):e)[t]}function _pe(e,t,n){const r=x9(t,n);return r?"value"in r?r.value:r.get?.call(e.draft_):void 0}function x9(e,t){if(!(t in e))return;let n=Um(e);for(;n;){const r=Object.getOwnPropertyDescriptor(n,t);if(r)return r;n=Um(n)}}function wE(e){e.modified_||(e.modified_=!0,e.parent_&&wE(e.parent_))}function gS(e){e.copy_||(e.copy_=vE(e.base_,e.scope_.immer_.useStrictShallowCopy_))}var wpe=class{constructor(e){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.useStrictIteration_=!0,this.produce=(t,n,r)=>{if(typeof t=="function"&&typeof n!="function"){const a=n;n=t;const o=this;return function(u=a,...d){return o.produce(u,h=>n.call(this,h,...d))}}typeof n!="function"&&$a(6),r!==void 0&&typeof r!="function"&&$a(7);let i;if(uu(t)){const a=sL(this),o=SE(t,void 0);let l=!0;try{i=n(o),l=!1}finally{l?xE(a):_E(a)}return oL(a,r),lL(i,a)}else if(!t||typeof t!="object"){if(i=n(t),i===void 0&&(i=t),i===g9&&(i=void 0),this.autoFreeze_&&qA(i,!0),r){const a=[],o=[];du("Patches").generateReplacementPatches_(t,i,a,o),r(a,o)}return i}else $a(1,t)},this.produceWithPatches=(t,n)=>{if(typeof t=="function")return(o,...l)=>this.produceWithPatches(o,u=>t(u,...l));let r,i;return[this.produce(t,n,(o,l)=>{r=o,i=l}),r,i]},typeof e?.autoFreeze=="boolean"&&this.setAutoFreeze(e.autoFreeze),typeof e?.useStrictShallowCopy=="boolean"&&this.setUseStrictShallowCopy(e.useStrictShallowCopy),typeof e?.useStrictIteration=="boolean"&&this.setUseStrictIteration(e.useStrictIteration)}createDraft(e){uu(e)||$a(8),ef(e)&&(e=Spe(e));const t=sL(this),n=SE(e,void 0);return n[Fi].isManual_=!0,_E(t),n}finishDraft(e,t){const n=e&&e[Fi];(!n||!n.isManual_)&&$a(9);const{scope_:r}=n;return oL(r,t),lL(void 0,r)}setAutoFreeze(e){this.autoFreeze_=e}setUseStrictShallowCopy(e){this.useStrictShallowCopy_=e}setUseStrictIteration(e){this.useStrictIteration_=e}shouldUseStrictIteration(){return this.useStrictIteration_}applyPatches(e,t){let n;for(n=t.length-1;n>=0;n--){const i=t[n];if(i.path.length===0&&i.op==="replace"){e=i.value;break}}n>-1&&(t=t.slice(n+1));const r=du("Patches").applyPatches_;return ef(e)?r(e,t):this.produce(e,i=>r(i,t))}};function SE(e,t){const n=wp(e)?du("MapSet").proxyMap_(e,t):nx(e)?du("MapSet").proxySet_(e,t):xpe(e,t);return(t?t.scope_:v9()).drafts_.push(n),n}function Spe(e){return ef(e)||$a(10,e),_9(e)}function _9(e){if(!uu(e)||rx(e))return e;const t=e[Fi];let n,r=!0;if(t){if(!t.modified_)return t.base_;t.finalized_=!0,n=vE(e,t.scope_.immer_.useStrictShallowCopy_),r=t.scope_.immer_.shouldUseStrictIteration()}else n=vE(e,!0);return ky(n,(i,a)=>{y9(n,i,_9(a))},r),t&&(t.finalized_=!1),n}var kpe=new wpe;kpe.produce;var Epe={settings:{layout:"horizontal",align:"center",verticalAlign:"middle",itemSorter:"value"},size:{width:0,height:0},payload:[]},w9=mi({name:"legend",initialState:Epe,reducers:{setLegendSize(e,t){e.size.width=t.payload.width,e.size.height=t.payload.height},setLegendSettings(e,t){e.settings.align=t.payload.align,e.settings.layout=t.payload.layout,e.settings.verticalAlign=t.payload.verticalAlign,e.settings.itemSorter=t.payload.itemSorter},addLegendPayload:{reducer(e,t){e.payload.push(t.payload)},prepare:an()},replaceLegendPayload:{reducer(e,t){var{prev:n,next:r}=t.payload,i=Ua(e).payload.indexOf(n);i>-1&&(e.payload[i]=r)},prepare:an()},removeLegendPayload:{reducer(e,t){var n=Ua(e).payload.indexOf(t.payload);n>-1&&e.payload.splice(n,1)},prepare:an()}}}),{setLegendSize:YOe,setLegendSettings:KOe,addLegendPayload:Ape,replaceLegendPayload:Tpe,removeLegendPayload:jpe}=w9.actions,Ope=w9.reducer;function kE(){return kE=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},kE.apply(null,arguments)}function uL(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function bS(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?uL(Object(n),!0).forEach(function(r){Npe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):uL(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Npe(e,t,n){return(t=Cpe(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Cpe(e){var t=Mpe(e,"string");return typeof t=="symbol"?t:t+""}function Mpe(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Dpe(e){return Array.isArray(e)&&jo(e[0])&&jo(e[1])?e.join(" ~ "):e}var Ppe=e=>{var{separator:t=" : ",contentStyle:n={},itemStyle:r={},labelStyle:i={},payload:a,formatter:o,itemSorter:l,wrapperClassName:u,labelClassName:d,label:h,labelFormatter:p,accessibilityLayer:b=!1}=e,x=()=>{if(a&&a.length){var M={padding:0,margin:0},P=(l?zv(a,l):a).map(($,U)=>{if($.type==="none")return null;var Y=$.formatter||o||Dpe,{value:W,name:H}=$,z=W,V=H;if(Y){var X=Y(W,H,$,U,a);if(Array.isArray(X))[z,V]=X;else if(X!=null)z=X;else return null}var Z=bS({display:"block",paddingTop:4,paddingBottom:4,color:$.color||"#000"},r);return w.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(U),style:Z},jo(V)?w.createElement("span",{className:"recharts-tooltip-item-name"},V):null,jo(V)?w.createElement("span",{className:"recharts-tooltip-item-separator"},t):null,w.createElement("span",{className:"recharts-tooltip-item-value"},z),w.createElement("span",{className:"recharts-tooltip-item-unit"},$.unit||""))});return w.createElement("ul",{className:"recharts-tooltip-item-list",style:M},P)}return null},k=bS({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},n),S=bS({margin:0},i),_=!_r(h),T=_?h:"",N=Qt("recharts-default-tooltip",u),j=Qt("recharts-tooltip-label",d);_&&p&&a!==void 0&&a!==null&&(T=p(h,a));var C=b?{role:"status","aria-live":"assertive"}:{};return w.createElement("div",kE({className:N,style:k},C),w.createElement("p",{className:j,style:S},w.isValidElement(T)?T:"".concat(T)),x())},Yh="recharts-tooltip-wrapper",Rpe={visibility:"hidden"};function Lpe(e){var{coordinate:t,translateX:n,translateY:r}=e;return Qt(Yh,{["".concat(Yh,"-right")]:Ve(n)&&t&&Ve(t.x)&&n>=t.x,["".concat(Yh,"-left")]:Ve(n)&&t&&Ve(t.x)&&n<t.x,["".concat(Yh,"-bottom")]:Ve(r)&&t&&Ve(t.y)&&r>=t.y,["".concat(Yh,"-top")]:Ve(r)&&t&&Ve(t.y)&&r<t.y})}function dL(e){var{allowEscapeViewBox:t,coordinate:n,key:r,offsetTopLeft:i,position:a,reverseDirection:o,tooltipDimension:l,viewBox:u,viewBoxDimension:d}=e;if(a&&Ve(a[r]))return a[r];var h=n[r]-l-(i>0?i:0),p=n[r]+i;if(t[r])return o[r]?h:p;var b=u[r];if(b==null)return 0;if(o[r]){var x=h,k=b;return x<k?Math.max(p,b):Math.max(h,b)}if(d==null)return 0;var S=p+l,_=b+d;return S>_?Math.max(h,b):Math.max(p,b)}function Ipe(e){var{translateX:t,translateY:n,useTranslate3d:r}=e;return{transform:r?"translate3d(".concat(t,"px, ").concat(n,"px, 0)"):"translate(".concat(t,"px, ").concat(n,"px)")}}function $pe(e){var{allowEscapeViewBox:t,coordinate:n,offsetTopLeft:r,position:i,reverseDirection:a,tooltipBox:o,useTranslate3d:l,viewBox:u}=e,d,h,p;return o.height>0&&o.width>0&&n?(h=dL({allowEscapeViewBox:t,coordinate:n,key:"x",offsetTopLeft:r,position:i,reverseDirection:a,tooltipDimension:o.width,viewBox:u,viewBoxDimension:u.width}),p=dL({allowEscapeViewBox:t,coordinate:n,key:"y",offsetTopLeft:r,position:i,reverseDirection:a,tooltipDimension:o.height,viewBox:u,viewBoxDimension:u.height}),d=Ipe({translateX:h,translateY:p,useTranslate3d:l})):d=Rpe,{cssProperties:d,cssClasses:Lpe({translateX:h,translateY:p,coordinate:n})}}function fL(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Q0(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?fL(Object(n),!0).forEach(function(r){EE(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):fL(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function EE(e,t,n){return(t=Bpe(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Bpe(e){var t=zpe(e,"string");return typeof t=="symbol"?t:t+""}function zpe(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class Upe extends w.PureComponent{constructor(){super(...arguments),EE(this,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0}}),EE(this,"handleKeyDown",t=>{if(t.key==="Escape"){var n,r,i,a;this.setState({dismissed:!0,dismissedAtCoordinate:{x:(n=(r=this.props.coordinate)===null||r===void 0?void 0:r.x)!==null&&n!==void 0?n:0,y:(i=(a=this.props.coordinate)===null||a===void 0?void 0:a.y)!==null&&i!==void 0?i:0}})}})}componentDidMount(){document.addEventListener("keydown",this.handleKeyDown)}componentWillUnmount(){document.removeEventListener("keydown",this.handleKeyDown)}componentDidUpdate(){var t,n;this.state.dismissed&&(((t=this.props.coordinate)===null||t===void 0?void 0:t.x)!==this.state.dismissedAtCoordinate.x||((n=this.props.coordinate)===null||n===void 0?void 0:n.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}render(){var{active:t,allowEscapeViewBox:n,animationDuration:r,animationEasing:i,children:a,coordinate:o,hasPayload:l,isAnimationActive:u,offset:d,position:h,reverseDirection:p,useTranslate3d:b,viewBox:x,wrapperStyle:k,lastBoundingBox:S,innerRef:_,hasPortalFromProps:T}=this.props,{cssClasses:N,cssProperties:j}=$pe({allowEscapeViewBox:n,coordinate:o,offsetTopLeft:d,position:h,reverseDirection:p,tooltipBox:{height:S.height,width:S.width},useTranslate3d:b,viewBox:x}),C=T?{}:Q0(Q0({transition:u&&t?"transform ".concat(r,"ms ").concat(i):void 0},j),{},{pointerEvents:"none",visibility:!this.state.dismissed&&t&&l?"visible":"hidden",position:"absolute",top:0,left:0}),M=Q0(Q0({},C),{},{visibility:!this.state.dismissed&&t&&l?"visible":"hidden"},k);return w.createElement("div",{xmlns:"http://www.w3.org/1999/xhtml",tabIndex:-1,className:N,style:M,ref:_},a)}}var S9=()=>{var e;return(e=Je(t=>t.rootProps.accessibilityLayer))!==null&&e!==void 0?e:!0};function AE(){return AE=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},AE.apply(null,arguments)}function hL(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function mL(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?hL(Object(n),!0).forEach(function(r){Fpe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):hL(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Fpe(e,t,n){return(t=Hpe(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Hpe(e){var t=Gpe(e,"string");return typeof t=="symbol"?t:t+""}function Gpe(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var pL={curveBasisClosed:nfe,curveBasisOpen:rfe,curveBasis:tfe,curveBumpX:Qde,curveBumpY:efe,curveLinearClosed:ife,curveLinear:Iv,curveMonotoneX:afe,curveMonotoneY:ofe,curveNatural:sfe,curveStep:lfe,curveStepAfter:ufe,curveStepBefore:cfe},Ty=e=>wn(e.x)&&wn(e.y),gL=e=>e.base!=null&&Ty(e.base)&&Ty(e),Kh=e=>e.x,Wh=e=>e.y,qpe=(e,t)=>{if(typeof e=="function")return e;var n="curve".concat(DA(e));return(n==="curveMonotone"||n==="curveBump")&&t?pL["".concat(n).concat(t==="vertical"?"Y":"X")]:pL[n]||Iv},Ype=e=>{var{type:t="linear",points:n=[],baseLine:r,layout:i,connectNulls:a=!1}=e,o=qpe(t,i),l=a?n.filter(Ty):n,u;if(Array.isArray(r)){var d=n.map((x,k)=>mL(mL({},x),{},{base:r[k]}));i==="vertical"?u=q0().y(Wh).x1(Kh).x0(x=>x.base.x):u=q0().x(Kh).y1(Wh).y0(x=>x.base.y);var h=u.defined(gL).curve(o),p=a?d.filter(gL):d;return h(p)}i==="vertical"&&Ve(r)?u=q0().y(Wh).x1(Kh).x0(r):Ve(r)?u=q0().x(Kh).y1(Wh).y0(r):u=a7().x(Kh).y(Wh);var b=u.defined(Ty).curve(o);return b(l)},Ab=e=>{var{className:t,points:n,path:r,pathRef:i}=e;if((!n||!n.length)&&!r)return null;var a=n&&n.length?Ype(e):r;return w.createElement("path",AE({},Ga(e),PA(e),{className:Qt("recharts-curve",t),d:a===null?void 0:a,ref:i}))},Kpe=["x","y","top","left","width","height","className"];function TE(){return TE=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},TE.apply(null,arguments)}function bL(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Wpe(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?bL(Object(n),!0).forEach(function(r){Vpe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):bL(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Vpe(e,t,n){return(t=Zpe(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Zpe(e){var t=Xpe(e,"string");return typeof t=="symbol"?t:t+""}function Xpe(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Jpe(e,t){if(e==null)return{};var n,r,i=Qpe(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function Qpe(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var ege=(e,t,n,r,i,a)=>"M".concat(e,",").concat(i,"v").concat(r,"M").concat(a,",").concat(t,"h").concat(n),tge=e=>{var{x:t=0,y:n=0,top:r=0,left:i=0,width:a=0,height:o=0,className:l}=e,u=Jpe(e,Kpe),d=Wpe({x:t,y:n,top:r,left:i,width:a,height:o},u);return!Ve(t)||!Ve(n)||!Ve(a)||!Ve(o)||!Ve(r)||!Ve(i)?null:w.createElement("path",TE({},pa(d),{className:Qt("recharts-cross",l),d:ege(t,n,a,o,r,i)}))};function nge(e,t,n,r){var i=r/2;return{stroke:"none",fill:"#ccc",x:e==="horizontal"?t.x-i:n.left+.5,y:e==="horizontal"?n.top+.5:t.y-i,width:e==="horizontal"?r:n.width-1,height:e==="horizontal"?n.height-1:r}}function yL(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function vL(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?yL(Object(n),!0).forEach(function(r){rge(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):yL(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function rge(e,t,n){return(t=ige(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ige(e){var t=age(e,"string");return typeof t=="symbol"?t:t+""}function age(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var oge=e=>e.replace(/([A-Z])/g,t=>"-".concat(t.toLowerCase())),sge=(e,t,n)=>e.map(r=>"".concat(oge(r)," ").concat(t,"ms ").concat(n)).join(","),lge=(e,t)=>[Object.keys(e),Object.keys(t)].reduce((n,r)=>n.filter(i=>r.includes(i))),Gm=(e,t)=>Object.keys(t).reduce((n,r)=>vL(vL({},n),{},{[r]:e(r,t[r])}),{});function xL(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Yn(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?xL(Object(n),!0).forEach(function(r){cge(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):xL(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function cge(e,t,n){return(t=uge(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function uge(e){var t=dge(e,"string");return typeof t=="symbol"?t:t+""}function dge(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var jy=(e,t,n)=>e+(t-e)*n,jE=e=>{var{from:t,to:n}=e;return t!==n},k9=(e,t,n)=>{var r=Gm((i,a)=>{if(jE(a)){var[o,l]=e(a.from,a.to,a.velocity);return Yn(Yn({},a),{},{from:o,velocity:l})}return a},t);return n<1?Gm((i,a)=>jE(a)?Yn(Yn({},a),{},{velocity:jy(a.velocity,r[i].velocity,n),from:jy(a.from,r[i].from,n)}):a,t):k9(e,r,n-1)};function fge(e,t,n,r,i,a){var o,l=r.reduce((b,x)=>Yn(Yn({},b),{},{[x]:{from:e[x],velocity:0,to:t[x]}}),{}),u=()=>Gm((b,x)=>x.from,l),d=()=>!Object.values(l).filter(jE).length,h=null,p=b=>{o||(o=b);var x=b-o,k=x/n.dt;l=k9(n,l,k),i(Yn(Yn(Yn({},e),t),u())),o=b,d()||(h=a.setTimeout(p))};return()=>(h=a.setTimeout(p),()=>{var b;(b=h)===null||b===void 0||b()})}function hge(e,t,n,r,i,a,o){var l=null,u=i.reduce((p,b)=>Yn(Yn({},p),{},{[b]:[e[b],t[b]]}),{}),d,h=p=>{d||(d=p);var b=(p-d)/r,x=Gm((S,_)=>jy(..._,n(b)),u);if(a(Yn(Yn(Yn({},e),t),x)),b<1)l=o.setTimeout(h);else{var k=Gm((S,_)=>jy(..._,n(1)),u);a(Yn(Yn(Yn({},e),t),k))}};return()=>(l=o.setTimeout(h),()=>{var p;(p=l)===null||p===void 0||p()})}const mge=(e,t,n,r,i,a)=>{var o=lge(e,t);return n==null?()=>(i(Yn(Yn({},e),t)),()=>{}):n.isStepper===!0?fge(e,t,n,o,i,a):hge(e,t,n,r,o,i,a)};var Oy=1e-4,E9=(e,t)=>[0,3*e,3*t-6*e,3*e-3*t+1],A9=(e,t)=>e.map((n,r)=>n*t**r).reduce((n,r)=>n+r),_L=(e,t)=>n=>{var r=E9(e,t);return A9(r,n)},pge=(e,t)=>n=>{var r=E9(e,t),i=[...r.map((a,o)=>a*o).slice(1),0];return A9(i,n)},gge=function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];if(n.length===1)switch(n[0]){case"linear":return[0,0,1,1];case"ease":return[.25,.1,.25,1];case"ease-in":return[.42,0,1,1];case"ease-out":return[.42,0,.58,1];case"ease-in-out":return[0,0,.58,1];default:{var i,a=n[0].split("(");if(a[0]==="cubic-bezier"&&((i=a[1])===null||i===void 0?void 0:i.split(")")[0].split(",").length)===4){var o=a[1].split(")")[0].split(",").map(l=>parseFloat(l));return[o[0],o[1],o[2],o[3]]}}}return n.length===4?n:[0,0,1,1]},bge=(e,t,n,r)=>{var i=_L(e,n),a=_L(t,r),o=pge(e,n),l=d=>d>1?1:d<0?0:d,u=d=>{for(var h=d>1?1:d,p=h,b=0;b<8;++b){var x=i(p)-h,k=o(p);if(Math.abs(x-h)<Oy||k<Oy)return a(p);p=l(p-x/k)}return a(p)};return u.isStepper=!1,u},wL=function(){return bge(...gge(...arguments))},yge=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},{stiff:n=100,damping:r=8,dt:i=17}=t,a=(o,l,u)=>{var d=-(o-l)*n,h=u*r,p=u+(d-h)*i/1e3,b=u*i/1e3+o;return Math.abs(b-l)<Oy&&Math.abs(p)<Oy?[l,0]:[b,p]};return a.isStepper=!0,a.dt=i,a},vge=e=>{if(typeof e=="string")switch(e){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return wL(e);case"spring":return yge();default:if(e.split("(")[0]==="cubic-bezier")return wL(e)}return typeof e=="function"?e:null};function xge(e){var t,n=()=>null,r=!1,i=null,a=o=>{if(!r){if(Array.isArray(o)){if(!o.length)return;var l=o,[u,...d]=l;if(typeof u=="number"){i=e.setTimeout(a.bind(null,d),u);return}a(u),i=e.setTimeout(a.bind(null,d));return}typeof o=="string"&&(t=o,n(t)),typeof o=="object"&&(t=o,n(t)),typeof o=="function"&&o()}};return{stop:()=>{r=!0},start:o=>{r=!1,i&&(i(),i=null),a(o)},subscribe:o=>(n=o,()=>{n=()=>null}),getTimeoutController:()=>e}}class _ge{setTimeout(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=performance.now(),i=null,a=o=>{o-r>=n?t(o):typeof requestAnimationFrame=="function"&&(i=requestAnimationFrame(a))};return i=requestAnimationFrame(a),()=>{i!=null&&cancelAnimationFrame(i)}}}function wge(){return xge(new _ge)}var Sge=w.createContext(wge);function kge(e,t){var n=w.useContext(Sge);return w.useMemo(()=>t??n(e),[e,t,n])}var Ege=()=>!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout),bf={devToolsEnabled:!1,isSsr:Ege()},Age={begin:0,duration:1e3,easing:"ease",isActive:!0,canBegin:!0,onAnimationEnd:()=>{},onAnimationStart:()=>{}},SL={t:0},yS={t:1};function T9(e){var t=qi(e,Age),{isActive:n,canBegin:r,duration:i,easing:a,begin:o,onAnimationEnd:l,onAnimationStart:u,children:d}=t,h=n==="auto"?!bf.isSsr:n,p=kge(t.animationId,t.animationManager),[b,x]=w.useState(h?SL:yS),k=w.useRef(null);return w.useEffect(()=>{h||x(yS)},[h]),w.useEffect(()=>{if(!h||!r)return gp;var S=mge(SL,yS,vge(a),i,x,p.getTimeoutController()),_=()=>{k.current=S()};return p.start([u,o,_,i,l]),()=>{p.stop(),k.current&&k.current(),l()}},[h,r,i,a,o,u,l,p]),d(b.t)}function j9(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"animation-",n=w.useRef(Im(t)),r=w.useRef(e);return r.current!==e&&(n.current=Im(t),r.current=e),n.current}var Tge=["radius"],jge=["radius"];function kL(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function EL(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?kL(Object(n),!0).forEach(function(r){Oge(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):kL(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Oge(e,t,n){return(t=Nge(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Nge(e){var t=Cge(e,"string");return typeof t=="symbol"?t:t+""}function Cge(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Ny(){return Ny=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ny.apply(null,arguments)}function AL(e,t){if(e==null)return{};var n,r,i=Mge(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function Mge(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var TL=(e,t,n,r,i)=>{var a=Math.min(Math.abs(n)/2,Math.abs(r)/2),o=r>=0?1:-1,l=n>=0?1:-1,u=r>=0&&n>=0||r<0&&n<0?1:0,d;if(a>0&&i instanceof Array){for(var h=[0,0,0,0],p=0,b=4;p<b;p++)h[p]=i[p]>a?a:i[p];d="M".concat(e,",").concat(t+o*h[0]),h[0]>0&&(d+="A ".concat(h[0],",").concat(h[0],",0,0,").concat(u,",").concat(e+l*h[0],",").concat(t)),d+="L ".concat(e+n-l*h[1],",").concat(t),h[1]>0&&(d+="A ".concat(h[1],",").concat(h[1],",0,0,").concat(u,`,
        `).concat(e+n,",").concat(t+o*h[1])),d+="L ".concat(e+n,",").concat(t+r-o*h[2]),h[2]>0&&(d+="A ".concat(h[2],",").concat(h[2],",0,0,").concat(u,`,
        `).concat(e+n-l*h[2],",").concat(t+r)),d+="L ".concat(e+l*h[3],",").concat(t+r),h[3]>0&&(d+="A ".concat(h[3],",").concat(h[3],",0,0,").concat(u,`,
        `).concat(e,",").concat(t+r-o*h[3])),d+="Z"}else if(a>0&&i===+i&&i>0){var x=Math.min(a,i);d="M ".concat(e,",").concat(t+o*x,`
            A `).concat(x,",").concat(x,",0,0,").concat(u,",").concat(e+l*x,",").concat(t,`
            L `).concat(e+n-l*x,",").concat(t,`
            A `).concat(x,",").concat(x,",0,0,").concat(u,",").concat(e+n,",").concat(t+o*x,`
            L `).concat(e+n,",").concat(t+r-o*x,`
            A `).concat(x,",").concat(x,",0,0,").concat(u,",").concat(e+n-l*x,",").concat(t+r,`
            L `).concat(e+l*x,",").concat(t+r,`
            A `).concat(x,",").concat(x,",0,0,").concat(u,",").concat(e,",").concat(t+r-o*x," Z")}else d="M ".concat(e,",").concat(t," h ").concat(n," v ").concat(r," h ").concat(-n," Z");return d},jL={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},Dge=e=>{var t=qi(e,jL),n=w.useRef(null),[r,i]=w.useState(-1);w.useEffect(()=>{if(n.current&&n.current.getTotalLength)try{var Q=n.current.getTotalLength();Q&&i(Q)}catch{}},[]);var{x:a,y:o,width:l,height:u,radius:d,className:h}=t,{animationEasing:p,animationDuration:b,animationBegin:x,isAnimationActive:k,isUpdateAnimationActive:S}=t,_=w.useRef(l),T=w.useRef(u),N=w.useRef(a),j=w.useRef(o),C=w.useMemo(()=>({x:a,y:o,width:l,height:u,radius:d}),[a,o,l,u,d]),M=j9(C,"rectangle-");if(a!==+a||o!==+o||l!==+l||u!==+u||l===0||u===0)return null;var P=Qt("recharts-rectangle",h);if(!S){var $=pa(t),{radius:U}=$,Y=AL($,Tge);return w.createElement("path",Ny({},Y,{radius:typeof d=="number"?d:void 0,className:P,d:TL(a,o,l,u,d)}))}var W=_.current,H=T.current,z=N.current,V=j.current,X="0px ".concat(r===-1?1:r,"px"),Z="".concat(r,"px 0px"),q=sge(["strokeDasharray"],b,typeof p=="string"?p:jL.animationEasing);return w.createElement(T9,{animationId:M,key:M,canBegin:r>0,duration:b,easing:p,isActive:S,begin:x},Q=>{var ne=vo(W,l,Q),ue=vo(H,u,Q),se=vo(z,a,Q),B=vo(V,o,Q);n.current&&(_.current=ne,T.current=ue,N.current=se,j.current=B);var K;k?Q>0?K={transition:q,strokeDasharray:Z}:K={strokeDasharray:X}:K={strokeDasharray:Z};var ie=pa(t),{radius:J}=ie,oe=AL(ie,jge);return w.createElement("path",Ny({},oe,{radius:typeof d=="number"?d:void 0,className:P,d:TL(se,B,ne,ue,d),ref:n,style:EL(EL({},K),t.style)}))})};function OL(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function NL(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?OL(Object(n),!0).forEach(function(r){Pge(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):OL(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Pge(e,t,n){return(t=Rge(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Rge(e){var t=Lge(e,"string");return typeof t=="symbol"?t:t+""}function Lge(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Cy=Math.PI/180,Ige=e=>e*180/Math.PI,xr=(e,t,n,r)=>({x:e+Math.cos(-Cy*r)*n,y:t+Math.sin(-Cy*r)*n}),$ge=function(t,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(t-(r.left||0)-(r.right||0)),Math.abs(n-(r.top||0)-(r.bottom||0)))/2},Bge=(e,t)=>{var{x:n,y:r}=e,{x:i,y:a}=t;return Math.sqrt((n-i)**2+(r-a)**2)},zge=(e,t)=>{var{x:n,y:r}=e,{cx:i,cy:a}=t,o=Bge({x:n,y:r},{x:i,y:a});if(o<=0)return{radius:o,angle:0};var l=(n-i)/o,u=Math.acos(l);return r>a&&(u=2*Math.PI-u),{radius:o,angle:Ige(u),angleInRadian:u}},Uge=e=>{var{startAngle:t,endAngle:n}=e,r=Math.floor(t/360),i=Math.floor(n/360),a=Math.min(r,i);return{startAngle:t-a*360,endAngle:n-a*360}},Fge=(e,t)=>{var{startAngle:n,endAngle:r}=t,i=Math.floor(n/360),a=Math.floor(r/360),o=Math.min(i,a);return e+o*360},Hge=(e,t)=>{var{chartX:n,chartY:r}=e,{radius:i,angle:a}=zge({x:n,y:r},t),{innerRadius:o,outerRadius:l}=t;if(i<o||i>l||i===0)return null;var{startAngle:u,endAngle:d}=Uge(t),h=a,p;if(u<=d){for(;h>d;)h-=360;for(;h<u;)h+=360;p=h>=u&&h<=d}else{for(;h>u;)h-=360;for(;h<d;)h+=360;p=h>=d&&h<=u}return p?NL(NL({},t),{},{radius:i,angle:Fge(h,t)}):null};function O9(e){var{cx:t,cy:n,radius:r,startAngle:i,endAngle:a}=e,o=xr(t,n,r,i),l=xr(t,n,r,a);return{points:[o,l],cx:t,cy:n,radius:r,startAngle:i,endAngle:a}}function OE(){return OE=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},OE.apply(null,arguments)}var Gge=(e,t)=>{var n=ua(t-e),r=Math.min(Math.abs(t-e),359.999);return n*r},eb=e=>{var{cx:t,cy:n,radius:r,angle:i,sign:a,isExternal:o,cornerRadius:l,cornerIsExternal:u}=e,d=l*(o?1:-1)+r,h=Math.asin(l/d)/Cy,p=u?i:i+a*h,b=xr(t,n,d,p),x=xr(t,n,r,p),k=u?i-a*h:i,S=xr(t,n,d*Math.cos(h*Cy),k);return{center:b,circleTangency:x,lineTangency:S,theta:h}},N9=e=>{var{cx:t,cy:n,innerRadius:r,outerRadius:i,startAngle:a,endAngle:o}=e,l=Gge(a,o),u=a+l,d=xr(t,n,i,a),h=xr(t,n,i,u),p="M ".concat(d.x,",").concat(d.y,`
    A `).concat(i,",").concat(i,`,0,
    `).concat(+(Math.abs(l)>180),",").concat(+(a>u),`,
    `).concat(h.x,",").concat(h.y,`
  `);if(r>0){var b=xr(t,n,r,a),x=xr(t,n,r,u);p+="L ".concat(x.x,",").concat(x.y,`
            A `).concat(r,",").concat(r,`,0,
            `).concat(+(Math.abs(l)>180),",").concat(+(a<=u),`,
            `).concat(b.x,",").concat(b.y," Z")}else p+="L ".concat(t,",").concat(n," Z");return p},qge=e=>{var{cx:t,cy:n,innerRadius:r,outerRadius:i,cornerRadius:a,forceCornerRadius:o,cornerIsExternal:l,startAngle:u,endAngle:d}=e,h=ua(d-u),{circleTangency:p,lineTangency:b,theta:x}=eb({cx:t,cy:n,radius:i,angle:u,sign:h,cornerRadius:a,cornerIsExternal:l}),{circleTangency:k,lineTangency:S,theta:_}=eb({cx:t,cy:n,radius:i,angle:d,sign:-h,cornerRadius:a,cornerIsExternal:l}),T=l?Math.abs(u-d):Math.abs(u-d)-x-_;if(T<0)return o?"M ".concat(b.x,",").concat(b.y,`
        a`).concat(a,",").concat(a,",0,0,1,").concat(a*2,`,0
        a`).concat(a,",").concat(a,",0,0,1,").concat(-a*2,`,0
      `):N9({cx:t,cy:n,innerRadius:r,outerRadius:i,startAngle:u,endAngle:d});var N="M ".concat(b.x,",").concat(b.y,`
    A`).concat(a,",").concat(a,",0,0,").concat(+(h<0),",").concat(p.x,",").concat(p.y,`
    A`).concat(i,",").concat(i,",0,").concat(+(T>180),",").concat(+(h<0),",").concat(k.x,",").concat(k.y,`
    A`).concat(a,",").concat(a,",0,0,").concat(+(h<0),",").concat(S.x,",").concat(S.y,`
  `);if(r>0){var{circleTangency:j,lineTangency:C,theta:M}=eb({cx:t,cy:n,radius:r,angle:u,sign:h,isExternal:!0,cornerRadius:a,cornerIsExternal:l}),{circleTangency:P,lineTangency:$,theta:U}=eb({cx:t,cy:n,radius:r,angle:d,sign:-h,isExternal:!0,cornerRadius:a,cornerIsExternal:l}),Y=l?Math.abs(u-d):Math.abs(u-d)-M-U;if(Y<0&&a===0)return"".concat(N,"L").concat(t,",").concat(n,"Z");N+="L".concat($.x,",").concat($.y,`
      A`).concat(a,",").concat(a,",0,0,").concat(+(h<0),",").concat(P.x,",").concat(P.y,`
      A`).concat(r,",").concat(r,",0,").concat(+(Y>180),",").concat(+(h>0),",").concat(j.x,",").concat(j.y,`
      A`).concat(a,",").concat(a,",0,0,").concat(+(h<0),",").concat(C.x,",").concat(C.y,"Z")}else N+="L".concat(t,",").concat(n,"Z");return N},Yge={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},Kge=e=>{var t=qi(e,Yge),{cx:n,cy:r,innerRadius:i,outerRadius:a,cornerRadius:o,forceCornerRadius:l,cornerIsExternal:u,startAngle:d,endAngle:h,className:p}=t;if(a<i||d===h)return null;var b=Qt("recharts-sector",p),x=a-i,k=Il(o,x,0,!0),S;return k>0&&Math.abs(d-h)<360?S=qge({cx:n,cy:r,innerRadius:i,outerRadius:a,cornerRadius:Math.min(k,x/2),forceCornerRadius:l,cornerIsExternal:u,startAngle:d,endAngle:h}):S=N9({cx:n,cy:r,innerRadius:i,outerRadius:a,startAngle:d,endAngle:h}),w.createElement("path",OE({},pa(t),{className:b,d:S}))};function Wge(e,t,n){if(e==="horizontal")return[{x:t.x,y:n.top},{x:t.x,y:n.top+n.height}];if(e==="vertical")return[{x:n.left,y:t.y},{x:n.left+n.width,y:t.y}];if(b7(t)){if(e==="centric"){var{cx:r,cy:i,innerRadius:a,outerRadius:o,angle:l}=t,u=xr(r,i,a,l),d=xr(r,i,o,l);return[{x:u.x,y:u.y},{x:d.x,y:d.y}]}return O9(t)}}var vS={},xS={},_S={},CL;function Vge(){return CL||(CL=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=j7();function n(r){return t.isSymbol(r)?NaN:Number(r)}e.toNumber=n})(_S)),_S}var ML;function Zge(){return ML||(ML=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Vge();function n(r){return r?(r=t.toNumber(r),r===1/0||r===-1/0?(r<0?-1:1)*Number.MAX_VALUE:r===r?r:0):r===0?r:0}e.toFinite=n})(xS)),xS}var DL;function Xge(){return DL||(DL=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=O7(),n=Zge();function r(i,a,o){o&&typeof o!="number"&&t.isIterateeCall(i,a,o)&&(a=o=void 0),i=n.toFinite(i),a===void 0?(a=i,i=0):a=n.toFinite(a),o=o===void 0?i<a?1:-1:n.toFinite(o);const l=Math.max(Math.ceil((a-i)/(o||1)),0),u=new Array(l);for(let d=0;d<l;d++)u[d]=i,i+=o;return u}e.range=r})(vS)),vS}var wS,PL;function Jge(){return PL||(PL=1,wS=Xge().range),wS}var Qge=Jge();const C9=hi(Qge);function Ml(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function e0e(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function KA(e){let t,n,r;e.length!==2?(t=Ml,n=(l,u)=>Ml(e(l),u),r=(l,u)=>e(l)-u):(t=e===Ml||e===e0e?e:t0e,n=e,r=e);function i(l,u,d=0,h=l.length){if(d<h){if(t(u,u)!==0)return h;do{const p=d+h>>>1;n(l[p],u)<0?d=p+1:h=p}while(d<h)}return d}function a(l,u,d=0,h=l.length){if(d<h){if(t(u,u)!==0)return h;do{const p=d+h>>>1;n(l[p],u)<=0?d=p+1:h=p}while(d<h)}return d}function o(l,u,d=0,h=l.length){const p=i(l,u,d,h-1);return p>d&&r(l[p-1],u)>-r(l[p],u)?p-1:p}return{left:i,center:o,right:a}}function t0e(){return 0}function M9(e){return e===null?NaN:+e}function*n0e(e,t){for(let n of e)n!=null&&(n=+n)>=n&&(yield n)}const r0e=KA(Ml),Sp=r0e.right;KA(M9).center;class RL extends Map{constructor(t,n=o0e){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),t!=null)for(const[r,i]of t)this.set(r,i)}get(t){return super.get(LL(this,t))}has(t){return super.has(LL(this,t))}set(t,n){return super.set(i0e(this,t),n)}delete(t){return super.delete(a0e(this,t))}}function LL({_intern:e,_key:t},n){const r=t(n);return e.has(r)?e.get(r):n}function i0e({_intern:e,_key:t},n){const r=t(n);return e.has(r)?e.get(r):(e.set(r,n),n)}function a0e({_intern:e,_key:t},n){const r=t(n);return e.has(r)&&(n=e.get(r),e.delete(r)),n}function o0e(e){return e!==null&&typeof e=="object"?e.valueOf():e}function s0e(e=Ml){if(e===Ml)return D9;if(typeof e!="function")throw new TypeError("compare is not a function");return(t,n)=>{const r=e(t,n);return r||r===0?r:(e(n,n)===0)-(e(t,t)===0)}}function D9(e,t){return(e==null||!(e>=e))-(t==null||!(t>=t))||(e<t?-1:e>t?1:0)}const l0e=Math.sqrt(50),c0e=Math.sqrt(10),u0e=Math.sqrt(2);function My(e,t,n){const r=(t-e)/Math.max(0,n),i=Math.floor(Math.log10(r)),a=r/Math.pow(10,i),o=a>=l0e?10:a>=c0e?5:a>=u0e?2:1;let l,u,d;return i<0?(d=Math.pow(10,-i)/o,l=Math.round(e*d),u=Math.round(t*d),l/d<e&&++l,u/d>t&&--u,d=-d):(d=Math.pow(10,i)*o,l=Math.round(e/d),u=Math.round(t/d),l*d<e&&++l,u*d>t&&--u),u<l&&.5<=n&&n<2?My(e,t,n*2):[l,u,d]}function NE(e,t,n){if(t=+t,e=+e,n=+n,!(n>0))return[];if(e===t)return[e];const r=t<e,[i,a,o]=r?My(t,e,n):My(e,t,n);if(!(a>=i))return[];const l=a-i+1,u=new Array(l);if(r)if(o<0)for(let d=0;d<l;++d)u[d]=(a-d)/-o;else for(let d=0;d<l;++d)u[d]=(a-d)*o;else if(o<0)for(let d=0;d<l;++d)u[d]=(i+d)/-o;else for(let d=0;d<l;++d)u[d]=(i+d)*o;return u}function CE(e,t,n){return t=+t,e=+e,n=+n,My(e,t,n)[2]}function ME(e,t,n){t=+t,e=+e,n=+n;const r=t<e,i=r?CE(t,e,n):CE(e,t,n);return(r?-1:1)*(i<0?1/-i:i)}function IL(e,t){let n;for(const r of e)r!=null&&(n<r||n===void 0&&r>=r)&&(n=r);return n}function $L(e,t){let n;for(const r of e)r!=null&&(n>r||n===void 0&&r>=r)&&(n=r);return n}function P9(e,t,n=0,r=1/0,i){if(t=Math.floor(t),n=Math.floor(Math.max(0,n)),r=Math.floor(Math.min(e.length-1,r)),!(n<=t&&t<=r))return e;for(i=i===void 0?D9:s0e(i);r>n;){if(r-n>600){const u=r-n+1,d=t-n+1,h=Math.log(u),p=.5*Math.exp(2*h/3),b=.5*Math.sqrt(h*p*(u-p)/u)*(d-u/2<0?-1:1),x=Math.max(n,Math.floor(t-d*p/u+b)),k=Math.min(r,Math.floor(t+(u-d)*p/u+b));P9(e,t,x,k,i)}const a=e[t];let o=n,l=r;for(Vh(e,n,t),i(e[r],a)>0&&Vh(e,n,r);o<l;){for(Vh(e,o,l),++o,--l;i(e[o],a)<0;)++o;for(;i(e[l],a)>0;)--l}i(e[n],a)===0?Vh(e,n,l):(++l,Vh(e,l,r)),l<=t&&(n=l+1),t<=l&&(r=l-1)}return e}function Vh(e,t,n){const r=e[t];e[t]=e[n],e[n]=r}function d0e(e,t,n){if(e=Float64Array.from(n0e(e)),!(!(r=e.length)||isNaN(t=+t))){if(t<=0||r<2)return $L(e);if(t>=1)return IL(e);var r,i=(r-1)*t,a=Math.floor(i),o=IL(P9(e,a).subarray(0,a+1)),l=$L(e.subarray(a+1));return o+(l-o)*(i-a)}}function f0e(e,t,n=M9){if(!(!(r=e.length)||isNaN(t=+t))){if(t<=0||r<2)return+n(e[0],0,e);if(t>=1)return+n(e[r-1],r-1,e);var r,i=(r-1)*t,a=Math.floor(i),o=+n(e[a],a,e),l=+n(e[a+1],a+1,e);return o+(l-o)*(i-a)}}function h0e(e,t,n){e=+e,t=+t,n=(i=arguments.length)<2?(t=e,e=0,1):i<3?1:+n;for(var r=-1,i=Math.max(0,Math.ceil((t-e)/n))|0,a=new Array(i);++r<i;)a[r]=e+r*n;return a}function xa(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}function Cs(e,t){switch(arguments.length){case 0:break;case 1:{typeof e=="function"?this.interpolator(e):this.range(e);break}default:{this.domain(e),typeof t=="function"?this.interpolator(t):this.range(t);break}}return this}const DE=Symbol("implicit");function WA(){var e=new RL,t=[],n=[],r=DE;function i(a){let o=e.get(a);if(o===void 0){if(r!==DE)return r;e.set(a,o=t.push(a)-1)}return n[o%n.length]}return i.domain=function(a){if(!arguments.length)return t.slice();t=[],e=new RL;for(const o of a)e.has(o)||e.set(o,t.push(o)-1);return i},i.range=function(a){return arguments.length?(n=Array.from(a),i):n.slice()},i.unknown=function(a){return arguments.length?(r=a,i):r},i.copy=function(){return WA(t,n).unknown(r)},xa.apply(i,arguments),i}function VA(){var e=WA().unknown(void 0),t=e.domain,n=e.range,r=0,i=1,a,o,l=!1,u=0,d=0,h=.5;delete e.unknown;function p(){var b=t().length,x=i<r,k=x?i:r,S=x?r:i;a=(S-k)/Math.max(1,b-u+d*2),l&&(a=Math.floor(a)),k+=(S-k-a*(b-u))*h,o=a*(1-u),l&&(k=Math.round(k),o=Math.round(o));var _=h0e(b).map(function(T){return k+a*T});return n(x?_.reverse():_)}return e.domain=function(b){return arguments.length?(t(b),p()):t()},e.range=function(b){return arguments.length?([r,i]=b,r=+r,i=+i,p()):[r,i]},e.rangeRound=function(b){return[r,i]=b,r=+r,i=+i,l=!0,p()},e.bandwidth=function(){return o},e.step=function(){return a},e.round=function(b){return arguments.length?(l=!!b,p()):l},e.padding=function(b){return arguments.length?(u=Math.min(1,d=+b),p()):u},e.paddingInner=function(b){return arguments.length?(u=Math.min(1,b),p()):u},e.paddingOuter=function(b){return arguments.length?(d=+b,p()):d},e.align=function(b){return arguments.length?(h=Math.max(0,Math.min(1,b)),p()):h},e.copy=function(){return VA(t(),[r,i]).round(l).paddingInner(u).paddingOuter(d).align(h)},xa.apply(p(),arguments)}function R9(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return R9(t())},e}function m0e(){return R9(VA.apply(null,arguments).paddingInner(1))}function ZA(e,t,n){e.prototype=t.prototype=n,n.constructor=e}function L9(e,t){var n=Object.create(e.prototype);for(var r in t)n[r]=t[r];return n}function kp(){}var qm=.7,Dy=1/qm,Bd="\\s*([+-]?\\d+)\\s*",Ym="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Eo="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",p0e=/^#([0-9a-f]{3,8})$/,g0e=new RegExp(`^rgb\\(${Bd},${Bd},${Bd}\\)$`),b0e=new RegExp(`^rgb\\(${Eo},${Eo},${Eo}\\)$`),y0e=new RegExp(`^rgba\\(${Bd},${Bd},${Bd},${Ym}\\)$`),v0e=new RegExp(`^rgba\\(${Eo},${Eo},${Eo},${Ym}\\)$`),x0e=new RegExp(`^hsl\\(${Ym},${Eo},${Eo}\\)$`),_0e=new RegExp(`^hsla\\(${Ym},${Eo},${Eo},${Ym}\\)$`),BL={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};ZA(kp,Km,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:zL,formatHex:zL,formatHex8:w0e,formatHsl:S0e,formatRgb:UL,toString:UL});function zL(){return this.rgb().formatHex()}function w0e(){return this.rgb().formatHex8()}function S0e(){return I9(this).formatHsl()}function UL(){return this.rgb().formatRgb()}function Km(e){var t,n;return e=(e+"").trim().toLowerCase(),(t=p0e.exec(e))?(n=t[1].length,t=parseInt(t[1],16),n===6?FL(t):n===3?new ci(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):n===8?tb(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):n===4?tb(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=g0e.exec(e))?new ci(t[1],t[2],t[3],1):(t=b0e.exec(e))?new ci(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=y0e.exec(e))?tb(t[1],t[2],t[3],t[4]):(t=v0e.exec(e))?tb(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=x0e.exec(e))?qL(t[1],t[2]/100,t[3]/100,1):(t=_0e.exec(e))?qL(t[1],t[2]/100,t[3]/100,t[4]):BL.hasOwnProperty(e)?FL(BL[e]):e==="transparent"?new ci(NaN,NaN,NaN,0):null}function FL(e){return new ci(e>>16&255,e>>8&255,e&255,1)}function tb(e,t,n,r){return r<=0&&(e=t=n=NaN),new ci(e,t,n,r)}function k0e(e){return e instanceof kp||(e=Km(e)),e?(e=e.rgb(),new ci(e.r,e.g,e.b,e.opacity)):new ci}function PE(e,t,n,r){return arguments.length===1?k0e(e):new ci(e,t,n,r??1)}function ci(e,t,n,r){this.r=+e,this.g=+t,this.b=+n,this.opacity=+r}ZA(ci,PE,L9(kp,{brighter(e){return e=e==null?Dy:Math.pow(Dy,e),new ci(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?qm:Math.pow(qm,e),new ci(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new ci(iu(this.r),iu(this.g),iu(this.b),Py(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:HL,formatHex:HL,formatHex8:E0e,formatRgb:GL,toString:GL}));function HL(){return`#${Qc(this.r)}${Qc(this.g)}${Qc(this.b)}`}function E0e(){return`#${Qc(this.r)}${Qc(this.g)}${Qc(this.b)}${Qc((isNaN(this.opacity)?1:this.opacity)*255)}`}function GL(){const e=Py(this.opacity);return`${e===1?"rgb(":"rgba("}${iu(this.r)}, ${iu(this.g)}, ${iu(this.b)}${e===1?")":`, ${e})`}`}function Py(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function iu(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function Qc(e){return e=iu(e),(e<16?"0":"")+e.toString(16)}function qL(e,t,n,r){return r<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new Ba(e,t,n,r)}function I9(e){if(e instanceof Ba)return new Ba(e.h,e.s,e.l,e.opacity);if(e instanceof kp||(e=Km(e)),!e)return new Ba;if(e instanceof Ba)return e;e=e.rgb();var t=e.r/255,n=e.g/255,r=e.b/255,i=Math.min(t,n,r),a=Math.max(t,n,r),o=NaN,l=a-i,u=(a+i)/2;return l?(t===a?o=(n-r)/l+(n<r)*6:n===a?o=(r-t)/l+2:o=(t-n)/l+4,l/=u<.5?a+i:2-a-i,o*=60):l=u>0&&u<1?0:o,new Ba(o,l,u,e.opacity)}function A0e(e,t,n,r){return arguments.length===1?I9(e):new Ba(e,t,n,r??1)}function Ba(e,t,n,r){this.h=+e,this.s=+t,this.l=+n,this.opacity=+r}ZA(Ba,A0e,L9(kp,{brighter(e){return e=e==null?Dy:Math.pow(Dy,e),new Ba(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?qm:Math.pow(qm,e),new Ba(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*t,i=2*n-r;return new ci(SS(e>=240?e-240:e+120,i,r),SS(e,i,r),SS(e<120?e+240:e-120,i,r),this.opacity)},clamp(){return new Ba(YL(this.h),nb(this.s),nb(this.l),Py(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=Py(this.opacity);return`${e===1?"hsl(":"hsla("}${YL(this.h)}, ${nb(this.s)*100}%, ${nb(this.l)*100}%${e===1?")":`, ${e})`}`}}));function YL(e){return e=(e||0)%360,e<0?e+360:e}function nb(e){return Math.max(0,Math.min(1,e||0))}function SS(e,t,n){return(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)*255}const XA=e=>()=>e;function T0e(e,t){return function(n){return e+n*t}}function j0e(e,t,n){return e=Math.pow(e,n),t=Math.pow(t,n)-e,n=1/n,function(r){return Math.pow(e+r*t,n)}}function O0e(e){return(e=+e)==1?$9:function(t,n){return n-t?j0e(t,n,e):XA(isNaN(t)?n:t)}}function $9(e,t){var n=t-e;return n?T0e(e,n):XA(isNaN(e)?t:e)}const KL=(function e(t){var n=O0e(t);function r(i,a){var o=n((i=PE(i)).r,(a=PE(a)).r),l=n(i.g,a.g),u=n(i.b,a.b),d=$9(i.opacity,a.opacity);return function(h){return i.r=o(h),i.g=l(h),i.b=u(h),i.opacity=d(h),i+""}}return r.gamma=e,r})(1);function N0e(e,t){t||(t=[]);var n=e?Math.min(t.length,e.length):0,r=t.slice(),i;return function(a){for(i=0;i<n;++i)r[i]=e[i]*(1-a)+t[i]*a;return r}}function C0e(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function M0e(e,t){var n=t?t.length:0,r=e?Math.min(n,e.length):0,i=new Array(r),a=new Array(n),o;for(o=0;o<r;++o)i[o]=yf(e[o],t[o]);for(;o<n;++o)a[o]=t[o];return function(l){for(o=0;o<r;++o)a[o]=i[o](l);return a}}function D0e(e,t){var n=new Date;return e=+e,t=+t,function(r){return n.setTime(e*(1-r)+t*r),n}}function Ry(e,t){return e=+e,t=+t,function(n){return e*(1-n)+t*n}}function P0e(e,t){var n={},r={},i;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(i in t)i in e?n[i]=yf(e[i],t[i]):r[i]=t[i];return function(a){for(i in n)r[i]=n[i](a);return r}}var RE=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,kS=new RegExp(RE.source,"g");function R0e(e){return function(){return e}}function L0e(e){return function(t){return e(t)+""}}function I0e(e,t){var n=RE.lastIndex=kS.lastIndex=0,r,i,a,o=-1,l=[],u=[];for(e=e+"",t=t+"";(r=RE.exec(e))&&(i=kS.exec(t));)(a=i.index)>n&&(a=t.slice(n,a),l[o]?l[o]+=a:l[++o]=a),(r=r[0])===(i=i[0])?l[o]?l[o]+=i:l[++o]=i:(l[++o]=null,u.push({i:o,x:Ry(r,i)})),n=kS.lastIndex;return n<t.length&&(a=t.slice(n),l[o]?l[o]+=a:l[++o]=a),l.length<2?u[0]?L0e(u[0].x):R0e(t):(t=u.length,function(d){for(var h=0,p;h<t;++h)l[(p=u[h]).i]=p.x(d);return l.join("")})}function yf(e,t){var n=typeof t,r;return t==null||n==="boolean"?XA(t):(n==="number"?Ry:n==="string"?(r=Km(t))?(t=r,KL):I0e:t instanceof Km?KL:t instanceof Date?D0e:C0e(t)?N0e:Array.isArray(t)?M0e:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?P0e:Ry)(e,t)}function JA(e,t){return e=+e,t=+t,function(n){return Math.round(e*(1-n)+t*n)}}function $0e(e,t){t===void 0&&(t=e,e=yf);for(var n=0,r=t.length-1,i=t[0],a=new Array(r<0?0:r);n<r;)a[n]=e(i,i=t[++n]);return function(o){var l=Math.max(0,Math.min(r-1,Math.floor(o*=r)));return a[l](o-l)}}function B0e(e){return function(){return e}}function Ly(e){return+e}var WL=[0,1];function Ur(e){return e}function LE(e,t){return(t-=e=+e)?function(n){return(n-e)/t}:B0e(isNaN(t)?NaN:.5)}function z0e(e,t){var n;return e>t&&(n=e,e=t,t=n),function(r){return Math.max(e,Math.min(t,r))}}function U0e(e,t,n){var r=e[0],i=e[1],a=t[0],o=t[1];return i<r?(r=LE(i,r),a=n(o,a)):(r=LE(r,i),a=n(a,o)),function(l){return a(r(l))}}function F0e(e,t,n){var r=Math.min(e.length,t.length)-1,i=new Array(r),a=new Array(r),o=-1;for(e[r]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++o<r;)i[o]=LE(e[o],e[o+1]),a[o]=n(t[o],t[o+1]);return function(l){var u=Sp(e,l,1,r)-1;return a[u](i[u](l))}}function Ep(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function ix(){var e=WL,t=WL,n=yf,r,i,a,o=Ur,l,u,d;function h(){var b=Math.min(e.length,t.length);return o!==Ur&&(o=z0e(e[0],e[b-1])),l=b>2?F0e:U0e,u=d=null,p}function p(b){return b==null||isNaN(b=+b)?a:(u||(u=l(e.map(r),t,n)))(r(o(b)))}return p.invert=function(b){return o(i((d||(d=l(t,e.map(r),Ry)))(b)))},p.domain=function(b){return arguments.length?(e=Array.from(b,Ly),h()):e.slice()},p.range=function(b){return arguments.length?(t=Array.from(b),h()):t.slice()},p.rangeRound=function(b){return t=Array.from(b),n=JA,h()},p.clamp=function(b){return arguments.length?(o=b?!0:Ur,h()):o!==Ur},p.interpolate=function(b){return arguments.length?(n=b,h()):n},p.unknown=function(b){return arguments.length?(a=b,p):a},function(b,x){return r=b,i=x,h()}}function QA(){return ix()(Ur,Ur)}function H0e(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function Iy(e,t){if((n=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var n,r=e.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+e.slice(n+1)]}function tf(e){return e=Iy(Math.abs(e)),e?e[1]:NaN}function G0e(e,t){return function(n,r){for(var i=n.length,a=[],o=0,l=e[0],u=0;i>0&&l>0&&(u+l+1>r&&(l=Math.max(1,r-u)),a.push(n.substring(i-=l,i+l)),!((u+=l+1)>r));)l=e[o=(o+1)%e.length];return a.reverse().join(t)}}function q0e(e){return function(t){return t.replace(/[0-9]/g,function(n){return e[+n]})}}var Y0e=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Wm(e){if(!(t=Y0e.exec(e)))throw new Error("invalid format: "+e);var t;return new eT({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}Wm.prototype=eT.prototype;function eT(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}eT.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function K0e(e){e:for(var t=e.length,n=1,r=-1,i;n<t;++n)switch(e[n]){case".":r=i=n;break;case"0":r===0&&(r=n),i=n;break;default:if(!+e[n])break e;r>0&&(r=0);break}return r>0?e.slice(0,r)+e.slice(i+1):e}var B9;function W0e(e,t){var n=Iy(e,t);if(!n)return e+"";var r=n[0],i=n[1],a=i-(B9=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,o=r.length;return a===o?r:a>o?r+new Array(a-o+1).join("0"):a>0?r.slice(0,a)+"."+r.slice(a):"0."+new Array(1-a).join("0")+Iy(e,Math.max(0,t+a-1))[0]}function VL(e,t){var n=Iy(e,t);if(!n)return e+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}const ZL={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:H0e,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>VL(e*100,t),r:VL,s:W0e,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function XL(e){return e}var JL=Array.prototype.map,QL=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function V0e(e){var t=e.grouping===void 0||e.thousands===void 0?XL:G0e(JL.call(e.grouping,Number),e.thousands+""),n=e.currency===void 0?"":e.currency[0]+"",r=e.currency===void 0?"":e.currency[1]+"",i=e.decimal===void 0?".":e.decimal+"",a=e.numerals===void 0?XL:q0e(JL.call(e.numerals,String)),o=e.percent===void 0?"%":e.percent+"",l=e.minus===void 0?"":e.minus+"",u=e.nan===void 0?"NaN":e.nan+"";function d(p){p=Wm(p);var b=p.fill,x=p.align,k=p.sign,S=p.symbol,_=p.zero,T=p.width,N=p.comma,j=p.precision,C=p.trim,M=p.type;M==="n"?(N=!0,M="g"):ZL[M]||(j===void 0&&(j=12),C=!0,M="g"),(_||b==="0"&&x==="=")&&(_=!0,b="0",x="=");var P=S==="$"?n:S==="#"&&/[boxX]/.test(M)?"0"+M.toLowerCase():"",$=S==="$"?r:/[%p]/.test(M)?o:"",U=ZL[M],Y=/[defgprs%]/.test(M);j=j===void 0?6:/[gprs]/.test(M)?Math.max(1,Math.min(21,j)):Math.max(0,Math.min(20,j));function W(H){var z=P,V=$,X,Z,q;if(M==="c")V=U(H)+V,H="";else{H=+H;var Q=H<0||1/H<0;if(H=isNaN(H)?u:U(Math.abs(H),j),C&&(H=K0e(H)),Q&&+H==0&&k!=="+"&&(Q=!1),z=(Q?k==="("?k:l:k==="-"||k==="("?"":k)+z,V=(M==="s"?QL[8+B9/3]:"")+V+(Q&&k==="("?")":""),Y){for(X=-1,Z=H.length;++X<Z;)if(q=H.charCodeAt(X),48>q||q>57){V=(q===46?i+H.slice(X+1):H.slice(X))+V,H=H.slice(0,X);break}}}N&&!_&&(H=t(H,1/0));var ne=z.length+H.length+V.length,ue=ne<T?new Array(T-ne+1).join(b):"";switch(N&&_&&(H=t(ue+H,ue.length?T-V.length:1/0),ue=""),x){case"<":H=z+H+V+ue;break;case"=":H=z+ue+H+V;break;case"^":H=ue.slice(0,ne=ue.length>>1)+z+H+V+ue.slice(ne);break;default:H=ue+z+H+V;break}return a(H)}return W.toString=function(){return p+""},W}function h(p,b){var x=d((p=Wm(p),p.type="f",p)),k=Math.max(-8,Math.min(8,Math.floor(tf(b)/3)))*3,S=Math.pow(10,-k),_=QL[8+k/3];return function(T){return x(S*T)+_}}return{format:d,formatPrefix:h}}var rb,tT,z9;Z0e({thousands:",",grouping:[3],currency:["$",""]});function Z0e(e){return rb=V0e(e),tT=rb.format,z9=rb.formatPrefix,rb}function X0e(e){return Math.max(0,-tf(Math.abs(e)))}function J0e(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(tf(t)/3)))*3-tf(Math.abs(e)))}function Q0e(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,tf(t)-tf(e))+1}function U9(e,t,n,r){var i=ME(e,t,n),a;switch(r=Wm(r??",f"),r.type){case"s":{var o=Math.max(Math.abs(e),Math.abs(t));return r.precision==null&&!isNaN(a=J0e(i,o))&&(r.precision=a),z9(r,o)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(a=Q0e(i,Math.max(Math.abs(e),Math.abs(t))))&&(r.precision=a-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(a=X0e(i))&&(r.precision=a-(r.type==="%")*2);break}}return tT(r)}function zl(e){var t=e.domain;return e.ticks=function(n){var r=t();return NE(r[0],r[r.length-1],n??10)},e.tickFormat=function(n,r){var i=t();return U9(i[0],i[i.length-1],n??10,r)},e.nice=function(n){n==null&&(n=10);var r=t(),i=0,a=r.length-1,o=r[i],l=r[a],u,d,h=10;for(l<o&&(d=o,o=l,l=d,d=i,i=a,a=d);h-- >0;){if(d=CE(o,l,n),d===u)return r[i]=o,r[a]=l,t(r);if(d>0)o=Math.floor(o/d)*d,l=Math.ceil(l/d)*d;else if(d<0)o=Math.ceil(o*d)/d,l=Math.floor(l*d)/d;else break;u=d}return e},e}function F9(){var e=QA();return e.copy=function(){return Ep(e,F9())},xa.apply(e,arguments),zl(e)}function H9(e){var t;function n(r){return r==null||isNaN(r=+r)?t:r}return n.invert=n,n.domain=n.range=function(r){return arguments.length?(e=Array.from(r,Ly),n):e.slice()},n.unknown=function(r){return arguments.length?(t=r,n):t},n.copy=function(){return H9(e).unknown(t)},e=arguments.length?Array.from(e,Ly):[0,1],zl(n)}function G9(e,t){e=e.slice();var n=0,r=e.length-1,i=e[n],a=e[r],o;return a<i&&(o=n,n=r,r=o,o=i,i=a,a=o),e[n]=t.floor(i),e[r]=t.ceil(a),e}function eI(e){return Math.log(e)}function tI(e){return Math.exp(e)}function ebe(e){return-Math.log(-e)}function tbe(e){return-Math.exp(-e)}function nbe(e){return isFinite(e)?+("1e"+e):e<0?0:e}function rbe(e){return e===10?nbe:e===Math.E?Math.exp:t=>Math.pow(e,t)}function ibe(e){return e===Math.E?Math.log:e===10&&Math.log10||e===2&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}function nI(e){return(t,n)=>-e(-t,n)}function nT(e){const t=e(eI,tI),n=t.domain;let r=10,i,a;function o(){return i=ibe(r),a=rbe(r),n()[0]<0?(i=nI(i),a=nI(a),e(ebe,tbe)):e(eI,tI),t}return t.base=function(l){return arguments.length?(r=+l,o()):r},t.domain=function(l){return arguments.length?(n(l),o()):n()},t.ticks=l=>{const u=n();let d=u[0],h=u[u.length-1];const p=h<d;p&&([d,h]=[h,d]);let b=i(d),x=i(h),k,S;const _=l==null?10:+l;let T=[];if(!(r%1)&&x-b<_){if(b=Math.floor(b),x=Math.ceil(x),d>0){for(;b<=x;++b)for(k=1;k<r;++k)if(S=b<0?k/a(-b):k*a(b),!(S<d)){if(S>h)break;T.push(S)}}else for(;b<=x;++b)for(k=r-1;k>=1;--k)if(S=b>0?k/a(-b):k*a(b),!(S<d)){if(S>h)break;T.push(S)}T.length*2<_&&(T=NE(d,h,_))}else T=NE(b,x,Math.min(x-b,_)).map(a);return p?T.reverse():T},t.tickFormat=(l,u)=>{if(l==null&&(l=10),u==null&&(u=r===10?"s":","),typeof u!="function"&&(!(r%1)&&(u=Wm(u)).precision==null&&(u.trim=!0),u=tT(u)),l===1/0)return u;const d=Math.max(1,r*l/t.ticks().length);return h=>{let p=h/a(Math.round(i(h)));return p*r<r-.5&&(p*=r),p<=d?u(h):""}},t.nice=()=>n(G9(n(),{floor:l=>a(Math.floor(i(l))),ceil:l=>a(Math.ceil(i(l)))})),t}function q9(){const e=nT(ix()).domain([1,10]);return e.copy=()=>Ep(e,q9()).base(e.base()),xa.apply(e,arguments),e}function rI(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function iI(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function rT(e){var t=1,n=e(rI(t),iI(t));return n.constant=function(r){return arguments.length?e(rI(t=+r),iI(t)):t},zl(n)}function Y9(){var e=rT(ix());return e.copy=function(){return Ep(e,Y9()).constant(e.constant())},xa.apply(e,arguments)}function aI(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function abe(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function obe(e){return e<0?-e*e:e*e}function iT(e){var t=e(Ur,Ur),n=1;function r(){return n===1?e(Ur,Ur):n===.5?e(abe,obe):e(aI(n),aI(1/n))}return t.exponent=function(i){return arguments.length?(n=+i,r()):n},zl(t)}function aT(){var e=iT(ix());return e.copy=function(){return Ep(e,aT()).exponent(e.exponent())},xa.apply(e,arguments),e}function sbe(){return aT.apply(null,arguments).exponent(.5)}function oI(e){return Math.sign(e)*e*e}function lbe(e){return Math.sign(e)*Math.sqrt(Math.abs(e))}function K9(){var e=QA(),t=[0,1],n=!1,r;function i(a){var o=lbe(e(a));return isNaN(o)?r:n?Math.round(o):o}return i.invert=function(a){return e.invert(oI(a))},i.domain=function(a){return arguments.length?(e.domain(a),i):e.domain()},i.range=function(a){return arguments.length?(e.range((t=Array.from(a,Ly)).map(oI)),i):t.slice()},i.rangeRound=function(a){return i.range(a).round(!0)},i.round=function(a){return arguments.length?(n=!!a,i):n},i.clamp=function(a){return arguments.length?(e.clamp(a),i):e.clamp()},i.unknown=function(a){return arguments.length?(r=a,i):r},i.copy=function(){return K9(e.domain(),t).round(n).clamp(e.clamp()).unknown(r)},xa.apply(i,arguments),zl(i)}function W9(){var e=[],t=[],n=[],r;function i(){var o=0,l=Math.max(1,t.length);for(n=new Array(l-1);++o<l;)n[o-1]=f0e(e,o/l);return a}function a(o){return o==null||isNaN(o=+o)?r:t[Sp(n,o)]}return a.invertExtent=function(o){var l=t.indexOf(o);return l<0?[NaN,NaN]:[l>0?n[l-1]:e[0],l<n.length?n[l]:e[e.length-1]]},a.domain=function(o){if(!arguments.length)return e.slice();e=[];for(let l of o)l!=null&&!isNaN(l=+l)&&e.push(l);return e.sort(Ml),i()},a.range=function(o){return arguments.length?(t=Array.from(o),i()):t.slice()},a.unknown=function(o){return arguments.length?(r=o,a):r},a.quantiles=function(){return n.slice()},a.copy=function(){return W9().domain(e).range(t).unknown(r)},xa.apply(a,arguments)}function V9(){var e=0,t=1,n=1,r=[.5],i=[0,1],a;function o(u){return u!=null&&u<=u?i[Sp(r,u,0,n)]:a}function l(){var u=-1;for(r=new Array(n);++u<n;)r[u]=((u+1)*t-(u-n)*e)/(n+1);return o}return o.domain=function(u){return arguments.length?([e,t]=u,e=+e,t=+t,l()):[e,t]},o.range=function(u){return arguments.length?(n=(i=Array.from(u)).length-1,l()):i.slice()},o.invertExtent=function(u){var d=i.indexOf(u);return d<0?[NaN,NaN]:d<1?[e,r[0]]:d>=n?[r[n-1],t]:[r[d-1],r[d]]},o.unknown=function(u){return arguments.length&&(a=u),o},o.thresholds=function(){return r.slice()},o.copy=function(){return V9().domain([e,t]).range(i).unknown(a)},xa.apply(zl(o),arguments)}function Z9(){var e=[.5],t=[0,1],n,r=1;function i(a){return a!=null&&a<=a?t[Sp(e,a,0,r)]:n}return i.domain=function(a){return arguments.length?(e=Array.from(a),r=Math.min(e.length,t.length-1),i):e.slice()},i.range=function(a){return arguments.length?(t=Array.from(a),r=Math.min(e.length,t.length-1),i):t.slice()},i.invertExtent=function(a){var o=t.indexOf(a);return[e[o-1],e[o]]},i.unknown=function(a){return arguments.length?(n=a,i):n},i.copy=function(){return Z9().domain(e).range(t).unknown(n)},xa.apply(i,arguments)}const ES=new Date,AS=new Date;function Wn(e,t,n,r){function i(a){return e(a=arguments.length===0?new Date:new Date(+a)),a}return i.floor=a=>(e(a=new Date(+a)),a),i.ceil=a=>(e(a=new Date(a-1)),t(a,1),e(a),a),i.round=a=>{const o=i(a),l=i.ceil(a);return a-o<l-a?o:l},i.offset=(a,o)=>(t(a=new Date(+a),o==null?1:Math.floor(o)),a),i.range=(a,o,l)=>{const u=[];if(a=i.ceil(a),l=l==null?1:Math.floor(l),!(a<o)||!(l>0))return u;let d;do u.push(d=new Date(+a)),t(a,l),e(a);while(d<a&&a<o);return u},i.filter=a=>Wn(o=>{if(o>=o)for(;e(o),!a(o);)o.setTime(o-1)},(o,l)=>{if(o>=o)if(l<0)for(;++l<=0;)for(;t(o,-1),!a(o););else for(;--l>=0;)for(;t(o,1),!a(o););}),n&&(i.count=(a,o)=>(ES.setTime(+a),AS.setTime(+o),e(ES),e(AS),Math.floor(n(ES,AS))),i.every=a=>(a=Math.floor(a),!isFinite(a)||!(a>0)?null:a>1?i.filter(r?o=>r(o)%a===0:o=>i.count(0,o)%a===0):i)),i}const $y=Wn(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);$y.every=e=>(e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?Wn(t=>{t.setTime(Math.floor(t/e)*e)},(t,n)=>{t.setTime(+t+n*e)},(t,n)=>(n-t)/e):$y);$y.range;const fs=1e3,da=fs*60,hs=da*60,ws=hs*24,oT=ws*7,sI=ws*30,TS=ws*365,eu=Wn(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*fs)},(e,t)=>(t-e)/fs,e=>e.getUTCSeconds());eu.range;const sT=Wn(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*fs)},(e,t)=>{e.setTime(+e+t*da)},(e,t)=>(t-e)/da,e=>e.getMinutes());sT.range;const lT=Wn(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*da)},(e,t)=>(t-e)/da,e=>e.getUTCMinutes());lT.range;const cT=Wn(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*fs-e.getMinutes()*da)},(e,t)=>{e.setTime(+e+t*hs)},(e,t)=>(t-e)/hs,e=>e.getHours());cT.range;const uT=Wn(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*hs)},(e,t)=>(t-e)/hs,e=>e.getUTCHours());uT.range;const Ap=Wn(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*da)/ws,e=>e.getDate()-1);Ap.range;const ax=Wn(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/ws,e=>e.getUTCDate()-1);ax.range;const X9=Wn(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/ws,e=>Math.floor(e/ws));X9.range;function vu(e){return Wn(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(t,n)=>{t.setDate(t.getDate()+n*7)},(t,n)=>(n-t-(n.getTimezoneOffset()-t.getTimezoneOffset())*da)/oT)}const ox=vu(0),By=vu(1),cbe=vu(2),ube=vu(3),nf=vu(4),dbe=vu(5),fbe=vu(6);ox.range;By.range;cbe.range;ube.range;nf.range;dbe.range;fbe.range;function xu(e){return Wn(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(t,n)=>{t.setUTCDate(t.getUTCDate()+n*7)},(t,n)=>(n-t)/oT)}const sx=xu(0),zy=xu(1),hbe=xu(2),mbe=xu(3),rf=xu(4),pbe=xu(5),gbe=xu(6);sx.range;zy.range;hbe.range;mbe.range;rf.range;pbe.range;gbe.range;const dT=Wn(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+(t.getFullYear()-e.getFullYear())*12,e=>e.getMonth());dT.range;const fT=Wn(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+(t.getUTCFullYear()-e.getUTCFullYear())*12,e=>e.getUTCMonth());fT.range;const Ss=Wn(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear());Ss.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:Wn(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,n)=>{t.setFullYear(t.getFullYear()+n*e)});Ss.range;const ks=Wn(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());ks.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:Wn(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,n)=>{t.setUTCFullYear(t.getUTCFullYear()+n*e)});ks.range;function J9(e,t,n,r,i,a){const o=[[eu,1,fs],[eu,5,5*fs],[eu,15,15*fs],[eu,30,30*fs],[a,1,da],[a,5,5*da],[a,15,15*da],[a,30,30*da],[i,1,hs],[i,3,3*hs],[i,6,6*hs],[i,12,12*hs],[r,1,ws],[r,2,2*ws],[n,1,oT],[t,1,sI],[t,3,3*sI],[e,1,TS]];function l(d,h,p){const b=h<d;b&&([d,h]=[h,d]);const x=p&&typeof p.range=="function"?p:u(d,h,p),k=x?x.range(d,+h+1):[];return b?k.reverse():k}function u(d,h,p){const b=Math.abs(h-d)/p,x=KA(([,,_])=>_).right(o,b);if(x===o.length)return e.every(ME(d/TS,h/TS,p));if(x===0)return $y.every(Math.max(ME(d,h,p),1));const[k,S]=o[b/o[x-1][2]<o[x][2]/b?x-1:x];return k.every(S)}return[l,u]}const[bbe,ybe]=J9(ks,fT,sx,X9,uT,lT),[vbe,xbe]=J9(Ss,dT,ox,Ap,cT,sT);function jS(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function OS(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function Zh(e,t,n){return{y:e,m:t,d:n,H:0,M:0,S:0,L:0}}function _be(e){var t=e.dateTime,n=e.date,r=e.time,i=e.periods,a=e.days,o=e.shortDays,l=e.months,u=e.shortMonths,d=Xh(i),h=Jh(i),p=Xh(a),b=Jh(a),x=Xh(o),k=Jh(o),S=Xh(l),_=Jh(l),T=Xh(u),N=Jh(u),j={a:Q,A:ne,b:ue,B:se,c:null,d:hI,e:hI,f:Gbe,g:eye,G:nye,H:Ube,I:Fbe,j:Hbe,L:Q9,m:qbe,M:Ybe,p:B,q:K,Q:gI,s:bI,S:Kbe,u:Wbe,U:Vbe,V:Zbe,w:Xbe,W:Jbe,x:null,X:null,y:Qbe,Y:tye,Z:rye,"%":pI},C={a:ie,A:J,b:oe,B:fe,c:null,d:mI,e:mI,f:sye,g:bye,G:vye,H:iye,I:aye,j:oye,L:t8,m:lye,M:cye,p:he,q:ke,Q:gI,s:bI,S:uye,u:dye,U:fye,V:hye,w:mye,W:pye,x:null,X:null,y:gye,Y:yye,Z:xye,"%":pI},M={a:W,A:H,b:z,B:V,c:X,d:dI,e:dI,f:Ibe,g:uI,G:cI,H:fI,I:fI,j:Dbe,L:Lbe,m:Mbe,M:Pbe,p:Y,q:Cbe,Q:Bbe,s:zbe,S:Rbe,u:Abe,U:Tbe,V:jbe,w:Ebe,W:Obe,x:Z,X:q,y:uI,Y:cI,Z:Nbe,"%":$be};j.x=P(n,j),j.X=P(r,j),j.c=P(t,j),C.x=P(n,C),C.X=P(r,C),C.c=P(t,C);function P(re,xe){return function(Ne){var ye=[],Ze=-1,qe=0,Me=re.length,Ee,Oe,Ie;for(Ne instanceof Date||(Ne=new Date(+Ne));++Ze<Me;)re.charCodeAt(Ze)===37&&(ye.push(re.slice(qe,Ze)),(Oe=lI[Ee=re.charAt(++Ze)])!=null?Ee=re.charAt(++Ze):Oe=Ee==="e"?" ":"0",(Ie=xe[Ee])&&(Ee=Ie(Ne,Oe)),ye.push(Ee),qe=Ze+1);return ye.push(re.slice(qe,Ze)),ye.join("")}}function $(re,xe){return function(Ne){var ye=Zh(1900,void 0,1),Ze=U(ye,re,Ne+="",0),qe,Me;if(Ze!=Ne.length)return null;if("Q"in ye)return new Date(ye.Q);if("s"in ye)return new Date(ye.s*1e3+("L"in ye?ye.L:0));if(xe&&!("Z"in ye)&&(ye.Z=0),"p"in ye&&(ye.H=ye.H%12+ye.p*12),ye.m===void 0&&(ye.m="q"in ye?ye.q:0),"V"in ye){if(ye.V<1||ye.V>53)return null;"w"in ye||(ye.w=1),"Z"in ye?(qe=OS(Zh(ye.y,0,1)),Me=qe.getUTCDay(),qe=Me>4||Me===0?zy.ceil(qe):zy(qe),qe=ax.offset(qe,(ye.V-1)*7),ye.y=qe.getUTCFullYear(),ye.m=qe.getUTCMonth(),ye.d=qe.getUTCDate()+(ye.w+6)%7):(qe=jS(Zh(ye.y,0,1)),Me=qe.getDay(),qe=Me>4||Me===0?By.ceil(qe):By(qe),qe=Ap.offset(qe,(ye.V-1)*7),ye.y=qe.getFullYear(),ye.m=qe.getMonth(),ye.d=qe.getDate()+(ye.w+6)%7)}else("W"in ye||"U"in ye)&&("w"in ye||(ye.w="u"in ye?ye.u%7:"W"in ye?1:0),Me="Z"in ye?OS(Zh(ye.y,0,1)).getUTCDay():jS(Zh(ye.y,0,1)).getDay(),ye.m=0,ye.d="W"in ye?(ye.w+6)%7+ye.W*7-(Me+5)%7:ye.w+ye.U*7-(Me+6)%7);return"Z"in ye?(ye.H+=ye.Z/100|0,ye.M+=ye.Z%100,OS(ye)):jS(ye)}}function U(re,xe,Ne,ye){for(var Ze=0,qe=xe.length,Me=Ne.length,Ee,Oe;Ze<qe;){if(ye>=Me)return-1;if(Ee=xe.charCodeAt(Ze++),Ee===37){if(Ee=xe.charAt(Ze++),Oe=M[Ee in lI?xe.charAt(Ze++):Ee],!Oe||(ye=Oe(re,Ne,ye))<0)return-1}else if(Ee!=Ne.charCodeAt(ye++))return-1}return ye}function Y(re,xe,Ne){var ye=d.exec(xe.slice(Ne));return ye?(re.p=h.get(ye[0].toLowerCase()),Ne+ye[0].length):-1}function W(re,xe,Ne){var ye=x.exec(xe.slice(Ne));return ye?(re.w=k.get(ye[0].toLowerCase()),Ne+ye[0].length):-1}function H(re,xe,Ne){var ye=p.exec(xe.slice(Ne));return ye?(re.w=b.get(ye[0].toLowerCase()),Ne+ye[0].length):-1}function z(re,xe,Ne){var ye=T.exec(xe.slice(Ne));return ye?(re.m=N.get(ye[0].toLowerCase()),Ne+ye[0].length):-1}function V(re,xe,Ne){var ye=S.exec(xe.slice(Ne));return ye?(re.m=_.get(ye[0].toLowerCase()),Ne+ye[0].length):-1}function X(re,xe,Ne){return U(re,t,xe,Ne)}function Z(re,xe,Ne){return U(re,n,xe,Ne)}function q(re,xe,Ne){return U(re,r,xe,Ne)}function Q(re){return o[re.getDay()]}function ne(re){return a[re.getDay()]}function ue(re){return u[re.getMonth()]}function se(re){return l[re.getMonth()]}function B(re){return i[+(re.getHours()>=12)]}function K(re){return 1+~~(re.getMonth()/3)}function ie(re){return o[re.getUTCDay()]}function J(re){return a[re.getUTCDay()]}function oe(re){return u[re.getUTCMonth()]}function fe(re){return l[re.getUTCMonth()]}function he(re){return i[+(re.getUTCHours()>=12)]}function ke(re){return 1+~~(re.getUTCMonth()/3)}return{format:function(re){var xe=P(re+="",j);return xe.toString=function(){return re},xe},parse:function(re){var xe=$(re+="",!1);return xe.toString=function(){return re},xe},utcFormat:function(re){var xe=P(re+="",C);return xe.toString=function(){return re},xe},utcParse:function(re){var xe=$(re+="",!0);return xe.toString=function(){return re},xe}}}var lI={"-":"",_:" ",0:"0"},dr=/^\s*\d+/,wbe=/^%/,Sbe=/[\\^$*+?|[\]().{}]/g;function At(e,t,n){var r=e<0?"-":"",i=(r?-e:e)+"",a=i.length;return r+(a<n?new Array(n-a+1).join(t)+i:i)}function kbe(e){return e.replace(Sbe,"\\$&")}function Xh(e){return new RegExp("^(?:"+e.map(kbe).join("|")+")","i")}function Jh(e){return new Map(e.map((t,n)=>[t.toLowerCase(),n]))}function Ebe(e,t,n){var r=dr.exec(t.slice(n,n+1));return r?(e.w=+r[0],n+r[0].length):-1}function Abe(e,t,n){var r=dr.exec(t.slice(n,n+1));return r?(e.u=+r[0],n+r[0].length):-1}function Tbe(e,t,n){var r=dr.exec(t.slice(n,n+2));return r?(e.U=+r[0],n+r[0].length):-1}function jbe(e,t,n){var r=dr.exec(t.slice(n,n+2));return r?(e.V=+r[0],n+r[0].length):-1}function Obe(e,t,n){var r=dr.exec(t.slice(n,n+2));return r?(e.W=+r[0],n+r[0].length):-1}function cI(e,t,n){var r=dr.exec(t.slice(n,n+4));return r?(e.y=+r[0],n+r[0].length):-1}function uI(e,t,n){var r=dr.exec(t.slice(n,n+2));return r?(e.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function Nbe(e,t,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(n,n+6));return r?(e.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function Cbe(e,t,n){var r=dr.exec(t.slice(n,n+1));return r?(e.q=r[0]*3-3,n+r[0].length):-1}function Mbe(e,t,n){var r=dr.exec(t.slice(n,n+2));return r?(e.m=r[0]-1,n+r[0].length):-1}function dI(e,t,n){var r=dr.exec(t.slice(n,n+2));return r?(e.d=+r[0],n+r[0].length):-1}function Dbe(e,t,n){var r=dr.exec(t.slice(n,n+3));return r?(e.m=0,e.d=+r[0],n+r[0].length):-1}function fI(e,t,n){var r=dr.exec(t.slice(n,n+2));return r?(e.H=+r[0],n+r[0].length):-1}function Pbe(e,t,n){var r=dr.exec(t.slice(n,n+2));return r?(e.M=+r[0],n+r[0].length):-1}function Rbe(e,t,n){var r=dr.exec(t.slice(n,n+2));return r?(e.S=+r[0],n+r[0].length):-1}function Lbe(e,t,n){var r=dr.exec(t.slice(n,n+3));return r?(e.L=+r[0],n+r[0].length):-1}function Ibe(e,t,n){var r=dr.exec(t.slice(n,n+6));return r?(e.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function $be(e,t,n){var r=wbe.exec(t.slice(n,n+1));return r?n+r[0].length:-1}function Bbe(e,t,n){var r=dr.exec(t.slice(n));return r?(e.Q=+r[0],n+r[0].length):-1}function zbe(e,t,n){var r=dr.exec(t.slice(n));return r?(e.s=+r[0],n+r[0].length):-1}function hI(e,t){return At(e.getDate(),t,2)}function Ube(e,t){return At(e.getHours(),t,2)}function Fbe(e,t){return At(e.getHours()%12||12,t,2)}function Hbe(e,t){return At(1+Ap.count(Ss(e),e),t,3)}function Q9(e,t){return At(e.getMilliseconds(),t,3)}function Gbe(e,t){return Q9(e,t)+"000"}function qbe(e,t){return At(e.getMonth()+1,t,2)}function Ybe(e,t){return At(e.getMinutes(),t,2)}function Kbe(e,t){return At(e.getSeconds(),t,2)}function Wbe(e){var t=e.getDay();return t===0?7:t}function Vbe(e,t){return At(ox.count(Ss(e)-1,e),t,2)}function e8(e){var t=e.getDay();return t>=4||t===0?nf(e):nf.ceil(e)}function Zbe(e,t){return e=e8(e),At(nf.count(Ss(e),e)+(Ss(e).getDay()===4),t,2)}function Xbe(e){return e.getDay()}function Jbe(e,t){return At(By.count(Ss(e)-1,e),t,2)}function Qbe(e,t){return At(e.getFullYear()%100,t,2)}function eye(e,t){return e=e8(e),At(e.getFullYear()%100,t,2)}function tye(e,t){return At(e.getFullYear()%1e4,t,4)}function nye(e,t){var n=e.getDay();return e=n>=4||n===0?nf(e):nf.ceil(e),At(e.getFullYear()%1e4,t,4)}function rye(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+At(t/60|0,"0",2)+At(t%60,"0",2)}function mI(e,t){return At(e.getUTCDate(),t,2)}function iye(e,t){return At(e.getUTCHours(),t,2)}function aye(e,t){return At(e.getUTCHours()%12||12,t,2)}function oye(e,t){return At(1+ax.count(ks(e),e),t,3)}function t8(e,t){return At(e.getUTCMilliseconds(),t,3)}function sye(e,t){return t8(e,t)+"000"}function lye(e,t){return At(e.getUTCMonth()+1,t,2)}function cye(e,t){return At(e.getUTCMinutes(),t,2)}function uye(e,t){return At(e.getUTCSeconds(),t,2)}function dye(e){var t=e.getUTCDay();return t===0?7:t}function fye(e,t){return At(sx.count(ks(e)-1,e),t,2)}function n8(e){var t=e.getUTCDay();return t>=4||t===0?rf(e):rf.ceil(e)}function hye(e,t){return e=n8(e),At(rf.count(ks(e),e)+(ks(e).getUTCDay()===4),t,2)}function mye(e){return e.getUTCDay()}function pye(e,t){return At(zy.count(ks(e)-1,e),t,2)}function gye(e,t){return At(e.getUTCFullYear()%100,t,2)}function bye(e,t){return e=n8(e),At(e.getUTCFullYear()%100,t,2)}function yye(e,t){return At(e.getUTCFullYear()%1e4,t,4)}function vye(e,t){var n=e.getUTCDay();return e=n>=4||n===0?rf(e):rf.ceil(e),At(e.getUTCFullYear()%1e4,t,4)}function xye(){return"+0000"}function pI(){return"%"}function gI(e){return+e}function bI(e){return Math.floor(+e/1e3)}var bd,r8,i8;_ye({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function _ye(e){return bd=_be(e),r8=bd.format,bd.parse,i8=bd.utcFormat,bd.utcParse,bd}function wye(e){return new Date(e)}function Sye(e){return e instanceof Date?+e:+new Date(+e)}function hT(e,t,n,r,i,a,o,l,u,d){var h=QA(),p=h.invert,b=h.domain,x=d(".%L"),k=d(":%S"),S=d("%I:%M"),_=d("%I %p"),T=d("%a %d"),N=d("%b %d"),j=d("%B"),C=d("%Y");function M(P){return(u(P)<P?x:l(P)<P?k:o(P)<P?S:a(P)<P?_:r(P)<P?i(P)<P?T:N:n(P)<P?j:C)(P)}return h.invert=function(P){return new Date(p(P))},h.domain=function(P){return arguments.length?b(Array.from(P,Sye)):b().map(wye)},h.ticks=function(P){var $=b();return e($[0],$[$.length-1],P??10)},h.tickFormat=function(P,$){return $==null?M:d($)},h.nice=function(P){var $=b();return(!P||typeof P.range!="function")&&(P=t($[0],$[$.length-1],P??10)),P?b(G9($,P)):h},h.copy=function(){return Ep(h,hT(e,t,n,r,i,a,o,l,u,d))},h}function kye(){return xa.apply(hT(vbe,xbe,Ss,dT,ox,Ap,cT,sT,eu,r8).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function Eye(){return xa.apply(hT(bbe,ybe,ks,fT,sx,ax,uT,lT,eu,i8).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function lx(){var e=0,t=1,n,r,i,a,o=Ur,l=!1,u;function d(p){return p==null||isNaN(p=+p)?u:o(i===0?.5:(p=(a(p)-n)*i,l?Math.max(0,Math.min(1,p)):p))}d.domain=function(p){return arguments.length?([e,t]=p,n=a(e=+e),r=a(t=+t),i=n===r?0:1/(r-n),d):[e,t]},d.clamp=function(p){return arguments.length?(l=!!p,d):l},d.interpolator=function(p){return arguments.length?(o=p,d):o};function h(p){return function(b){var x,k;return arguments.length?([x,k]=b,o=p(x,k),d):[o(0),o(1)]}}return d.range=h(yf),d.rangeRound=h(JA),d.unknown=function(p){return arguments.length?(u=p,d):u},function(p){return a=p,n=p(e),r=p(t),i=n===r?0:1/(r-n),d}}function Ul(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function a8(){var e=zl(lx()(Ur));return e.copy=function(){return Ul(e,a8())},Cs.apply(e,arguments)}function o8(){var e=nT(lx()).domain([1,10]);return e.copy=function(){return Ul(e,o8()).base(e.base())},Cs.apply(e,arguments)}function s8(){var e=rT(lx());return e.copy=function(){return Ul(e,s8()).constant(e.constant())},Cs.apply(e,arguments)}function mT(){var e=iT(lx());return e.copy=function(){return Ul(e,mT()).exponent(e.exponent())},Cs.apply(e,arguments)}function Aye(){return mT.apply(null,arguments).exponent(.5)}function l8(){var e=[],t=Ur;function n(r){if(r!=null&&!isNaN(r=+r))return t((Sp(e,r,1)-1)/(e.length-1))}return n.domain=function(r){if(!arguments.length)return e.slice();e=[];for(let i of r)i!=null&&!isNaN(i=+i)&&e.push(i);return e.sort(Ml),n},n.interpolator=function(r){return arguments.length?(t=r,n):t},n.range=function(){return e.map((r,i)=>t(i/(e.length-1)))},n.quantiles=function(r){return Array.from({length:r+1},(i,a)=>d0e(e,a/r))},n.copy=function(){return l8(t).domain(e)},Cs.apply(n,arguments)}function cx(){var e=0,t=.5,n=1,r=1,i,a,o,l,u,d=Ur,h,p=!1,b;function x(S){return isNaN(S=+S)?b:(S=.5+((S=+h(S))-a)*(r*S<r*a?l:u),d(p?Math.max(0,Math.min(1,S)):S))}x.domain=function(S){return arguments.length?([e,t,n]=S,i=h(e=+e),a=h(t=+t),o=h(n=+n),l=i===a?0:.5/(a-i),u=a===o?0:.5/(o-a),r=a<i?-1:1,x):[e,t,n]},x.clamp=function(S){return arguments.length?(p=!!S,x):p},x.interpolator=function(S){return arguments.length?(d=S,x):d};function k(S){return function(_){var T,N,j;return arguments.length?([T,N,j]=_,d=$0e(S,[T,N,j]),x):[d(0),d(.5),d(1)]}}return x.range=k(yf),x.rangeRound=k(JA),x.unknown=function(S){return arguments.length?(b=S,x):b},function(S){return h=S,i=S(e),a=S(t),o=S(n),l=i===a?0:.5/(a-i),u=a===o?0:.5/(o-a),r=a<i?-1:1,x}}function c8(){var e=zl(cx()(Ur));return e.copy=function(){return Ul(e,c8())},Cs.apply(e,arguments)}function u8(){var e=nT(cx()).domain([.1,1,10]);return e.copy=function(){return Ul(e,u8()).base(e.base())},Cs.apply(e,arguments)}function d8(){var e=rT(cx());return e.copy=function(){return Ul(e,d8()).constant(e.constant())},Cs.apply(e,arguments)}function pT(){var e=iT(cx());return e.copy=function(){return Ul(e,pT()).exponent(e.exponent())},Cs.apply(e,arguments)}function Tye(){return pT.apply(null,arguments).exponent(.5)}const lm=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:VA,scaleDiverging:c8,scaleDivergingLog:u8,scaleDivergingPow:pT,scaleDivergingSqrt:Tye,scaleDivergingSymlog:d8,scaleIdentity:H9,scaleImplicit:DE,scaleLinear:F9,scaleLog:q9,scaleOrdinal:WA,scalePoint:m0e,scalePow:aT,scaleQuantile:W9,scaleQuantize:V9,scaleRadial:K9,scaleSequential:a8,scaleSequentialLog:o8,scaleSequentialPow:mT,scaleSequentialQuantile:l8,scaleSequentialSqrt:Aye,scaleSequentialSymlog:s8,scaleSqrt:sbe,scaleSymlog:Y9,scaleThreshold:Z9,scaleTime:kye,scaleUtc:Eye,tickFormat:U9},Symbol.toStringTag,{value:"Module"}));var Fl=e=>e.chartData,jye=_e([Fl],e=>{var t=e.chartData!=null?e.chartData.length-1:0;return{chartData:e.chartData,computedData:e.computedData,dataEndIndex:t,dataStartIndex:0}}),gT=(e,t,n,r)=>r?jye(e):Fl(e);function $l(e){if(Array.isArray(e)&&e.length===2){var[t,n]=e;if(wn(t)&&wn(n))return!0}return!1}function yI(e,t,n){return n?e:[Math.min(e[0],t[0]),Math.max(e[1],t[1])]}function f8(e,t){if(t&&typeof e!="function"&&Array.isArray(e)&&e.length===2){var[n,r]=e,i,a;if(wn(n))i=n;else if(typeof n=="function")return;if(wn(r))a=r;else if(typeof r=="function")return;var o=[i,a];if($l(o))return o}}function Oye(e,t,n){if(!(!n&&t==null)){if(typeof e=="function"&&t!=null)try{var r=e(t,n);if($l(r))return yI(r,t,n)}catch{}if(Array.isArray(e)&&e.length===2){var[i,a]=e,o,l;if(i==="auto")t!=null&&(o=Math.min(...t));else if(Ve(i))o=i;else if(typeof i=="function")try{t!=null&&(o=i(t?.[0]))}catch{}else if(typeof i=="string"&&WR.test(i)){var u=WR.exec(i);if(u==null||t==null)o=void 0;else{var d=+u[1];o=t[0]-d}}else o=t?.[0];if(a==="auto")t!=null&&(l=Math.max(...t));else if(Ve(a))l=a;else if(typeof a=="function")try{t!=null&&(l=a(t?.[1]))}catch{}else if(typeof a=="string"&&VR.test(a)){var h=VR.exec(a);if(h==null||t==null)l=void 0;else{var p=+h[1];l=t[1]+p}}else l=t?.[1];var b=[o,l];if($l(b))return t==null?b:yI(b,t,n)}}}var vf=1e9,Nye={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},yT,sn=!0,ba="[DecimalError] ",au=ba+"Invalid argument: ",bT=ba+"Exponent out of range: ",xf=Math.floor,qc=Math.pow,Cye=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,Pi,or=1e7,Jt=7,h8=9007199254740991,Uy=xf(h8/Jt),$e={};$e.absoluteValue=$e.abs=function(){var e=new this.constructor(this);return e.s&&(e.s=1),e};$e.comparedTo=$e.cmp=function(e){var t,n,r,i,a=this;if(e=new a.constructor(e),a.s!==e.s)return a.s||-e.s;if(a.e!==e.e)return a.e>e.e^a.s<0?1:-1;for(r=a.d.length,i=e.d.length,t=0,n=r<i?r:i;t<n;++t)if(a.d[t]!==e.d[t])return a.d[t]>e.d[t]^a.s<0?1:-1;return r===i?0:r>i^a.s<0?1:-1};$e.decimalPlaces=$e.dp=function(){var e=this,t=e.d.length-1,n=(t-e.e)*Jt;if(t=e.d[t],t)for(;t%10==0;t/=10)n--;return n<0?0:n};$e.dividedBy=$e.div=function(e){return ps(this,new this.constructor(e))};$e.dividedToIntegerBy=$e.idiv=function(e){var t=this,n=t.constructor;return Ht(ps(t,new n(e),0,1),n.precision)};$e.equals=$e.eq=function(e){return!this.cmp(e)};$e.exponent=function(){return zn(this)};$e.greaterThan=$e.gt=function(e){return this.cmp(e)>0};$e.greaterThanOrEqualTo=$e.gte=function(e){return this.cmp(e)>=0};$e.isInteger=$e.isint=function(){return this.e>this.d.length-2};$e.isNegative=$e.isneg=function(){return this.s<0};$e.isPositive=$e.ispos=function(){return this.s>0};$e.isZero=function(){return this.s===0};$e.lessThan=$e.lt=function(e){return this.cmp(e)<0};$e.lessThanOrEqualTo=$e.lte=function(e){return this.cmp(e)<1};$e.logarithm=$e.log=function(e){var t,n=this,r=n.constructor,i=r.precision,a=i+5;if(e===void 0)e=new r(10);else if(e=new r(e),e.s<1||e.eq(Pi))throw Error(ba+"NaN");if(n.s<1)throw Error(ba+(n.s?"NaN":"-Infinity"));return n.eq(Pi)?new r(0):(sn=!1,t=ps(Vm(n,a),Vm(e,a),a),sn=!0,Ht(t,i))};$e.minus=$e.sub=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?g8(t,e):m8(t,(e.s=-e.s,e))};$e.modulo=$e.mod=function(e){var t,n=this,r=n.constructor,i=r.precision;if(e=new r(e),!e.s)throw Error(ba+"NaN");return n.s?(sn=!1,t=ps(n,e,0,1).times(e),sn=!0,n.minus(t)):Ht(new r(n),i)};$e.naturalExponential=$e.exp=function(){return p8(this)};$e.naturalLogarithm=$e.ln=function(){return Vm(this)};$e.negated=$e.neg=function(){var e=new this.constructor(this);return e.s=-e.s||0,e};$e.plus=$e.add=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?m8(t,e):g8(t,(e.s=-e.s,e))};$e.precision=$e.sd=function(e){var t,n,r,i=this;if(e!==void 0&&e!==!!e&&e!==1&&e!==0)throw Error(au+e);if(t=zn(i)+1,r=i.d.length-1,n=r*Jt+1,r=i.d[r],r){for(;r%10==0;r/=10)n--;for(r=i.d[0];r>=10;r/=10)n++}return e&&t>n?t:n};$e.squareRoot=$e.sqrt=function(){var e,t,n,r,i,a,o,l=this,u=l.constructor;if(l.s<1){if(!l.s)return new u(0);throw Error(ba+"NaN")}for(e=zn(l),sn=!1,i=Math.sqrt(+l),i==0||i==1/0?(t=So(l.d),(t.length+e)%2==0&&(t+="0"),i=Math.sqrt(t),e=xf((e+1)/2)-(e<0||e%2),i==1/0?t="5e"+e:(t=i.toExponential(),t=t.slice(0,t.indexOf("e")+1)+e),r=new u(t)):r=new u(i.toString()),n=u.precision,i=o=n+3;;)if(a=r,r=a.plus(ps(l,a,o+2)).times(.5),So(a.d).slice(0,o)===(t=So(r.d)).slice(0,o)){if(t=t.slice(o-3,o+1),i==o&&t=="4999"){if(Ht(a,n+1,0),a.times(a).eq(l)){r=a;break}}else if(t!="9999")break;o+=4}return sn=!0,Ht(r,n)};$e.times=$e.mul=function(e){var t,n,r,i,a,o,l,u,d,h=this,p=h.constructor,b=h.d,x=(e=new p(e)).d;if(!h.s||!e.s)return new p(0);for(e.s*=h.s,n=h.e+e.e,u=b.length,d=x.length,u<d&&(a=b,b=x,x=a,o=u,u=d,d=o),a=[],o=u+d,r=o;r--;)a.push(0);for(r=d;--r>=0;){for(t=0,i=u+r;i>r;)l=a[i]+x[r]*b[i-r-1]+t,a[i--]=l%or|0,t=l/or|0;a[i]=(a[i]+t)%or|0}for(;!a[--o];)a.pop();return t?++n:a.shift(),e.d=a,e.e=n,sn?Ht(e,p.precision):e};$e.toDecimalPlaces=$e.todp=function(e,t){var n=this,r=n.constructor;return n=new r(n),e===void 0?n:(No(e,0,vf),t===void 0?t=r.rounding:No(t,0,8),Ht(n,e+zn(n)+1,t))};$e.toExponential=function(e,t){var n,r=this,i=r.constructor;return e===void 0?n=fu(r,!0):(No(e,0,vf),t===void 0?t=i.rounding:No(t,0,8),r=Ht(new i(r),e+1,t),n=fu(r,!0,e+1)),n};$e.toFixed=function(e,t){var n,r,i=this,a=i.constructor;return e===void 0?fu(i):(No(e,0,vf),t===void 0?t=a.rounding:No(t,0,8),r=Ht(new a(i),e+zn(i)+1,t),n=fu(r.abs(),!1,e+zn(r)+1),i.isneg()&&!i.isZero()?"-"+n:n)};$e.toInteger=$e.toint=function(){var e=this,t=e.constructor;return Ht(new t(e),zn(e)+1,t.rounding)};$e.toNumber=function(){return+this};$e.toPower=$e.pow=function(e){var t,n,r,i,a,o,l=this,u=l.constructor,d=12,h=+(e=new u(e));if(!e.s)return new u(Pi);if(l=new u(l),!l.s){if(e.s<1)throw Error(ba+"Infinity");return l}if(l.eq(Pi))return l;if(r=u.precision,e.eq(Pi))return Ht(l,r);if(t=e.e,n=e.d.length-1,o=t>=n,a=l.s,o){if((n=h<0?-h:h)<=h8){for(i=new u(Pi),t=Math.ceil(r/Jt+4),sn=!1;n%2&&(i=i.times(l),xI(i.d,t)),n=xf(n/2),n!==0;)l=l.times(l),xI(l.d,t);return sn=!0,e.s<0?new u(Pi).div(i):Ht(i,r)}}else if(a<0)throw Error(ba+"NaN");return a=a<0&&e.d[Math.max(t,n)]&1?-1:1,l.s=1,sn=!1,i=e.times(Vm(l,r+d)),sn=!0,i=p8(i),i.s=a,i};$e.toPrecision=function(e,t){var n,r,i=this,a=i.constructor;return e===void 0?(n=zn(i),r=fu(i,n<=a.toExpNeg||n>=a.toExpPos)):(No(e,1,vf),t===void 0?t=a.rounding:No(t,0,8),i=Ht(new a(i),e,t),n=zn(i),r=fu(i,e<=n||n<=a.toExpNeg,e)),r};$e.toSignificantDigits=$e.tosd=function(e,t){var n=this,r=n.constructor;return e===void 0?(e=r.precision,t=r.rounding):(No(e,1,vf),t===void 0?t=r.rounding:No(t,0,8)),Ht(new r(n),e,t)};$e.toString=$e.valueOf=$e.val=$e.toJSON=$e[Symbol.for("nodejs.util.inspect.custom")]=function(){var e=this,t=zn(e),n=e.constructor;return fu(e,t<=n.toExpNeg||t>=n.toExpPos)};function m8(e,t){var n,r,i,a,o,l,u,d,h=e.constructor,p=h.precision;if(!e.s||!t.s)return t.s||(t=new h(e)),sn?Ht(t,p):t;if(u=e.d,d=t.d,o=e.e,i=t.e,u=u.slice(),a=o-i,a){for(a<0?(r=u,a=-a,l=d.length):(r=d,i=o,l=u.length),o=Math.ceil(p/Jt),l=o>l?o+1:l+1,a>l&&(a=l,r.length=1),r.reverse();a--;)r.push(0);r.reverse()}for(l=u.length,a=d.length,l-a<0&&(a=l,r=d,d=u,u=r),n=0;a;)n=(u[--a]=u[a]+d[a]+n)/or|0,u[a]%=or;for(n&&(u.unshift(n),++i),l=u.length;u[--l]==0;)u.pop();return t.d=u,t.e=i,sn?Ht(t,p):t}function No(e,t,n){if(e!==~~e||e<t||e>n)throw Error(au+e)}function So(e){var t,n,r,i=e.length-1,a="",o=e[0];if(i>0){for(a+=o,t=1;t<i;t++)r=e[t]+"",n=Jt-r.length,n&&(a+=wl(n)),a+=r;o=e[t],r=o+"",n=Jt-r.length,n&&(a+=wl(n))}else if(o===0)return"0";for(;o%10===0;)o/=10;return a+o}var ps=(function(){function e(r,i){var a,o=0,l=r.length;for(r=r.slice();l--;)a=r[l]*i+o,r[l]=a%or|0,o=a/or|0;return o&&r.unshift(o),r}function t(r,i,a,o){var l,u;if(a!=o)u=a>o?1:-1;else for(l=u=0;l<a;l++)if(r[l]!=i[l]){u=r[l]>i[l]?1:-1;break}return u}function n(r,i,a){for(var o=0;a--;)r[a]-=o,o=r[a]<i[a]?1:0,r[a]=o*or+r[a]-i[a];for(;!r[0]&&r.length>1;)r.shift()}return function(r,i,a,o){var l,u,d,h,p,b,x,k,S,_,T,N,j,C,M,P,$,U,Y=r.constructor,W=r.s==i.s?1:-1,H=r.d,z=i.d;if(!r.s)return new Y(r);if(!i.s)throw Error(ba+"Division by zero");for(u=r.e-i.e,$=z.length,M=H.length,x=new Y(W),k=x.d=[],d=0;z[d]==(H[d]||0);)++d;if(z[d]>(H[d]||0)&&--u,a==null?N=a=Y.precision:o?N=a+(zn(r)-zn(i))+1:N=a,N<0)return new Y(0);if(N=N/Jt+2|0,d=0,$==1)for(h=0,z=z[0],N++;(d<M||h)&&N--;d++)j=h*or+(H[d]||0),k[d]=j/z|0,h=j%z|0;else{for(h=or/(z[0]+1)|0,h>1&&(z=e(z,h),H=e(H,h),$=z.length,M=H.length),C=$,S=H.slice(0,$),_=S.length;_<$;)S[_++]=0;U=z.slice(),U.unshift(0),P=z[0],z[1]>=or/2&&++P;do h=0,l=t(z,S,$,_),l<0?(T=S[0],$!=_&&(T=T*or+(S[1]||0)),h=T/P|0,h>1?(h>=or&&(h=or-1),p=e(z,h),b=p.length,_=S.length,l=t(p,S,b,_),l==1&&(h--,n(p,$<b?U:z,b))):(h==0&&(l=h=1),p=z.slice()),b=p.length,b<_&&p.unshift(0),n(S,p,_),l==-1&&(_=S.length,l=t(z,S,$,_),l<1&&(h++,n(S,$<_?U:z,_))),_=S.length):l===0&&(h++,S=[0]),k[d++]=h,l&&S[0]?S[_++]=H[C]||0:(S=[H[C]],_=1);while((C++<M||S[0]!==void 0)&&N--)}return k[0]||k.shift(),x.e=u,Ht(x,o?a+zn(x)+1:a)}})();function p8(e,t){var n,r,i,a,o,l,u=0,d=0,h=e.constructor,p=h.precision;if(zn(e)>16)throw Error(bT+zn(e));if(!e.s)return new h(Pi);for(sn=!1,l=p,o=new h(.03125);e.abs().gte(.1);)e=e.times(o),d+=5;for(r=Math.log(qc(2,d))/Math.LN10*2+5|0,l+=r,n=i=a=new h(Pi),h.precision=l;;){if(i=Ht(i.times(e),l),n=n.times(++u),o=a.plus(ps(i,n,l)),So(o.d).slice(0,l)===So(a.d).slice(0,l)){for(;d--;)a=Ht(a.times(a),l);return h.precision=p,t==null?(sn=!0,Ht(a,p)):a}a=o}}function zn(e){for(var t=e.e*Jt,n=e.d[0];n>=10;n/=10)t++;return t}function NS(e,t,n){if(t>e.LN10.sd())throw sn=!0,n&&(e.precision=n),Error(ba+"LN10 precision limit exceeded");return Ht(new e(e.LN10),t)}function wl(e){for(var t="";e--;)t+="0";return t}function Vm(e,t){var n,r,i,a,o,l,u,d,h,p=1,b=10,x=e,k=x.d,S=x.constructor,_=S.precision;if(x.s<1)throw Error(ba+(x.s?"NaN":"-Infinity"));if(x.eq(Pi))return new S(0);if(t==null?(sn=!1,d=_):d=t,x.eq(10))return t==null&&(sn=!0),NS(S,d);if(d+=b,S.precision=d,n=So(k),r=n.charAt(0),a=zn(x),Math.abs(a)<15e14){for(;r<7&&r!=1||r==1&&n.charAt(1)>3;)x=x.times(e),n=So(x.d),r=n.charAt(0),p++;a=zn(x),r>1?(x=new S("0."+n),a++):x=new S(r+"."+n.slice(1))}else return u=NS(S,d+2,_).times(a+""),x=Vm(new S(r+"."+n.slice(1)),d-b).plus(u),S.precision=_,t==null?(sn=!0,Ht(x,_)):x;for(l=o=x=ps(x.minus(Pi),x.plus(Pi),d),h=Ht(x.times(x),d),i=3;;){if(o=Ht(o.times(h),d),u=l.plus(ps(o,new S(i),d)),So(u.d).slice(0,d)===So(l.d).slice(0,d))return l=l.times(2),a!==0&&(l=l.plus(NS(S,d+2,_).times(a+""))),l=ps(l,new S(p),d),S.precision=_,t==null?(sn=!0,Ht(l,_)):l;l=u,i+=2}}function vI(e,t){var n,r,i;for((n=t.indexOf("."))>-1&&(t=t.replace(".","")),(r=t.search(/e/i))>0?(n<0&&(n=r),n+=+t.slice(r+1),t=t.substring(0,r)):n<0&&(n=t.length),r=0;t.charCodeAt(r)===48;)++r;for(i=t.length;t.charCodeAt(i-1)===48;)--i;if(t=t.slice(r,i),t){if(i-=r,n=n-r-1,e.e=xf(n/Jt),e.d=[],r=(n+1)%Jt,n<0&&(r+=Jt),r<i){for(r&&e.d.push(+t.slice(0,r)),i-=Jt;r<i;)e.d.push(+t.slice(r,r+=Jt));t=t.slice(r),r=Jt-t.length}else r-=i;for(;r--;)t+="0";if(e.d.push(+t),sn&&(e.e>Uy||e.e<-Uy))throw Error(bT+n)}else e.s=0,e.e=0,e.d=[0];return e}function Ht(e,t,n){var r,i,a,o,l,u,d,h,p=e.d;for(o=1,a=p[0];a>=10;a/=10)o++;if(r=t-o,r<0)r+=Jt,i=t,d=p[h=0];else{if(h=Math.ceil((r+1)/Jt),a=p.length,h>=a)return e;for(d=a=p[h],o=1;a>=10;a/=10)o++;r%=Jt,i=r-Jt+o}if(n!==void 0&&(a=qc(10,o-i-1),l=d/a%10|0,u=t<0||p[h+1]!==void 0||d%a,u=n<4?(l||u)&&(n==0||n==(e.s<0?3:2)):l>5||l==5&&(n==4||u||n==6&&(r>0?i>0?d/qc(10,o-i):0:p[h-1])%10&1||n==(e.s<0?8:7))),t<1||!p[0])return u?(a=zn(e),p.length=1,t=t-a-1,p[0]=qc(10,(Jt-t%Jt)%Jt),e.e=xf(-t/Jt)||0):(p.length=1,p[0]=e.e=e.s=0),e;if(r==0?(p.length=h,a=1,h--):(p.length=h+1,a=qc(10,Jt-r),p[h]=i>0?(d/qc(10,o-i)%qc(10,i)|0)*a:0),u)for(;;)if(h==0){(p[0]+=a)==or&&(p[0]=1,++e.e);break}else{if(p[h]+=a,p[h]!=or)break;p[h--]=0,a=1}for(r=p.length;p[--r]===0;)p.pop();if(sn&&(e.e>Uy||e.e<-Uy))throw Error(bT+zn(e));return e}function g8(e,t){var n,r,i,a,o,l,u,d,h,p,b=e.constructor,x=b.precision;if(!e.s||!t.s)return t.s?t.s=-t.s:t=new b(e),sn?Ht(t,x):t;if(u=e.d,p=t.d,r=t.e,d=e.e,u=u.slice(),o=d-r,o){for(h=o<0,h?(n=u,o=-o,l=p.length):(n=p,r=d,l=u.length),i=Math.max(Math.ceil(x/Jt),l)+2,o>i&&(o=i,n.length=1),n.reverse(),i=o;i--;)n.push(0);n.reverse()}else{for(i=u.length,l=p.length,h=i<l,h&&(l=i),i=0;i<l;i++)if(u[i]!=p[i]){h=u[i]<p[i];break}o=0}for(h&&(n=u,u=p,p=n,t.s=-t.s),l=u.length,i=p.length-l;i>0;--i)u[l++]=0;for(i=p.length;i>o;){if(u[--i]<p[i]){for(a=i;a&&u[--a]===0;)u[a]=or-1;--u[a],u[i]+=or}u[i]-=p[i]}for(;u[--l]===0;)u.pop();for(;u[0]===0;u.shift())--r;return u[0]?(t.d=u,t.e=r,sn?Ht(t,x):t):new b(0)}function fu(e,t,n){var r,i=zn(e),a=So(e.d),o=a.length;return t?(n&&(r=n-o)>0?a=a.charAt(0)+"."+a.slice(1)+wl(r):o>1&&(a=a.charAt(0)+"."+a.slice(1)),a=a+(i<0?"e":"e+")+i):i<0?(a="0."+wl(-i-1)+a,n&&(r=n-o)>0&&(a+=wl(r))):i>=o?(a+=wl(i+1-o),n&&(r=n-i-1)>0&&(a=a+"."+wl(r))):((r=i+1)<o&&(a=a.slice(0,r)+"."+a.slice(r)),n&&(r=n-o)>0&&(i+1===o&&(a+="."),a+=wl(r))),e.s<0?"-"+a:a}function xI(e,t){if(e.length>t)return e.length=t,!0}function b8(e){var t,n,r;function i(a){var o=this;if(!(o instanceof i))return new i(a);if(o.constructor=i,a instanceof i){o.s=a.s,o.e=a.e,o.d=(a=a.d)?a.slice():a;return}if(typeof a=="number"){if(a*0!==0)throw Error(au+a);if(a>0)o.s=1;else if(a<0)a=-a,o.s=-1;else{o.s=0,o.e=0,o.d=[0];return}if(a===~~a&&a<1e7){o.e=0,o.d=[a];return}return vI(o,a.toString())}else if(typeof a!="string")throw Error(au+a);if(a.charCodeAt(0)===45?(a=a.slice(1),o.s=-1):o.s=1,Cye.test(a))vI(o,a);else throw Error(au+a)}if(i.prototype=$e,i.ROUND_UP=0,i.ROUND_DOWN=1,i.ROUND_CEIL=2,i.ROUND_FLOOR=3,i.ROUND_HALF_UP=4,i.ROUND_HALF_DOWN=5,i.ROUND_HALF_EVEN=6,i.ROUND_HALF_CEIL=7,i.ROUND_HALF_FLOOR=8,i.clone=b8,i.config=i.set=Mye,e===void 0&&(e={}),e)for(r=["precision","rounding","toExpNeg","toExpPos","LN10"],t=0;t<r.length;)e.hasOwnProperty(n=r[t++])||(e[n]=this[n]);return i.config(e),i}function Mye(e){if(!e||typeof e!="object")throw Error(ba+"Object expected");var t,n,r,i=["precision",1,vf,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(t=0;t<i.length;t+=3)if((r=e[n=i[t]])!==void 0)if(xf(r)===r&&r>=i[t+1]&&r<=i[t+2])this[n]=r;else throw Error(au+n+": "+r);if((r=e[n="LN10"])!==void 0)if(r==Math.LN10)this[n]=new this(r);else throw Error(au+n+": "+r);return this}var yT=b8(Nye);Pi=new yT(1);const Rt=yT;var Dye=e=>e,y8={},v8=e=>e===y8,_I=e=>function t(){return arguments.length===0||arguments.length===1&&v8(arguments.length<=0?void 0:arguments[0])?t:e(...arguments)},x8=(e,t)=>e===1?t:_I(function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];var a=r.filter(o=>o!==y8).length;return a>=e?t(...r):x8(e-a,_I(function(){for(var o=arguments.length,l=new Array(o),u=0;u<o;u++)l[u]=arguments[u];var d=r.map(h=>v8(h)?l.shift():h);return t(...d,...l)}))}),Pye=e=>x8(e.length,e),IE=(e,t)=>{for(var n=[],r=e;r<t;++r)n[r-e]=r;return n},Rye=Pye((e,t)=>Array.isArray(t)?t.map(e):Object.keys(t).map(n=>t[n]).map(e)),Lye=function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];if(!n.length)return Dye;var i=n.reverse(),a=i[0],o=i.slice(1);return function(){return o.reduce((l,u)=>u(l),a(...arguments))}},$E=e=>Array.isArray(e)?e.reverse():e.split("").reverse().join("");function _8(e){var t;return e===0?t=1:t=Math.floor(new Rt(e).abs().log(10).toNumber())+1,t}function w8(e,t,n){for(var r=new Rt(e),i=0,a=[];r.lt(t)&&i<1e5;)a.push(r.toNumber()),r=r.add(n),i++;return a}var S8=e=>{var[t,n]=e,[r,i]=[t,n];return t>n&&([r,i]=[n,t]),[r,i]},k8=(e,t,n)=>{if(e.lte(0))return new Rt(0);var r=_8(e.toNumber()),i=new Rt(10).pow(r),a=e.div(i),o=r!==1?.05:.1,l=new Rt(Math.ceil(a.div(o).toNumber())).add(n).mul(o),u=l.mul(i);return t?new Rt(u.toNumber()):new Rt(Math.ceil(u.toNumber()))},Iye=(e,t,n)=>{var r=new Rt(1),i=new Rt(e);if(!i.isint()&&n){var a=Math.abs(e);a<1?(r=new Rt(10).pow(_8(e)-1),i=new Rt(Math.floor(i.div(r).toNumber())).mul(r)):a>1&&(i=new Rt(Math.floor(e)))}else e===0?i=new Rt(Math.floor((t-1)/2)):n||(i=new Rt(Math.floor(e)));var o=Math.floor((t-1)/2),l=Lye(Rye(u=>i.add(new Rt(u-o).mul(r)).toNumber()),IE);return l(0,t)},E8=function(t,n,r,i){var a=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((n-t)/(r-1)))return{step:new Rt(0),tickMin:new Rt(0),tickMax:new Rt(0)};var o=k8(new Rt(n).sub(t).div(r-1),i,a),l;t<=0&&n>=0?l=new Rt(0):(l=new Rt(t).add(n).div(2),l=l.sub(new Rt(l).mod(o)));var u=Math.ceil(l.sub(t).div(o).toNumber()),d=Math.ceil(new Rt(n).sub(l).div(o).toNumber()),h=u+d+1;return h>r?E8(t,n,r,i,a+1):(h<r&&(d=n>0?d+(r-h):d,u=n>0?u:u+(r-h)),{step:o,tickMin:l.sub(new Rt(u).mul(o)),tickMax:l.add(new Rt(d).mul(o))})},$ye=function(t){var[n,r]=t,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,o=Math.max(i,2),[l,u]=S8([n,r]);if(l===-1/0||u===1/0){var d=u===1/0?[l,...IE(0,i-1).map(()=>1/0)]:[...IE(0,i-1).map(()=>-1/0),u];return n>r?$E(d):d}if(l===u)return Iye(l,i,a);var{step:h,tickMin:p,tickMax:b}=E8(l,u,o,a,0),x=w8(p,b.add(new Rt(.1).mul(h)),h);return n>r?$E(x):x},Bye=function(t,n){var[r,i]=t,a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,[o,l]=S8([r,i]);if(o===-1/0||l===1/0)return[r,i];if(o===l)return[o];var u=Math.max(n,2),d=k8(new Rt(l).sub(o).div(u-1),a,0),h=[...w8(new Rt(o),new Rt(l),d),l];return a===!1&&(h=h.map(p=>Math.round(p))),r>i?$E(h):h},zye=e=>e.rootProps.barCategoryGap,ux=e=>e.rootProps.stackOffset,A8=e=>e.rootProps.reverseStackOrder,vT=e=>e.options.chartName,xT=e=>e.rootProps.syncId,T8=e=>e.rootProps.syncMethod,_T=e=>e.options.eventEmitter,Uye=e=>e.rootProps.baseValue,Fr={grid:-100,barBackground:-50,area:100,cursorRectangle:200,bar:300,line:400,axis:500,scatter:600,activeBar:1e3,cursorLine:1100,activeDot:1200,label:2e3},cs={allowDuplicatedCategory:!0,angleAxisId:0,reversed:!1,scale:"auto",tick:!0,type:"category"},Mi={allowDataOverflow:!1,allowDuplicatedCategory:!0,radiusAxisId:0,scale:"auto",tick:!0,tickCount:5,type:"number"},dx=(e,t)=>{if(!(!e||!t))return e!=null&&e.reversed?[t[1],t[0]]:t},Fye={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:!1,dataKey:void 0,domain:void 0,id:cs.angleAxisId,includeHidden:!1,name:void 0,reversed:cs.reversed,scale:cs.scale,tick:cs.tick,tickCount:void 0,ticks:void 0,type:cs.type,unit:void 0},Hye={allowDataOverflow:Mi.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:Mi.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:Mi.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:Mi.scale,tick:Mi.tick,tickCount:Mi.tickCount,ticks:void 0,type:Mi.type,unit:void 0},Gye={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:cs.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:cs.angleAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:cs.scale,tick:cs.tick,tickCount:void 0,ticks:void 0,type:"number",unit:void 0},qye={allowDataOverflow:Mi.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:Mi.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:Mi.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:Mi.scale,tick:Mi.tick,tickCount:Mi.tickCount,ticks:void 0,type:"category",unit:void 0},wT=(e,t)=>e.polarAxis.angleAxis[t]!=null?e.polarAxis.angleAxis[t]:e.layout.layoutType==="radial"?Gye:Fye,ST=(e,t)=>e.polarAxis.radiusAxis[t]!=null?e.polarAxis.radiusAxis[t]:e.layout.layoutType==="radial"?qye:Hye,fx=e=>e.polarOptions,kT=_e([Os,Ns,kr],$ge),j8=_e([fx,kT],(e,t)=>{if(e!=null)return Il(e.innerRadius,t,0)}),O8=_e([fx,kT],(e,t)=>{if(e!=null)return Il(e.outerRadius,t,t*.8)}),Yye=e=>{if(e==null)return[0,0];var{startAngle:t,endAngle:n}=e;return[t,n]},N8=_e([fx],Yye);_e([wT,N8],dx);var C8=_e([kT,j8,O8],(e,t,n)=>{if(!(e==null||t==null||n==null))return[t,n]});_e([ST,C8],dx);var M8=_e([Wt,fx,j8,O8,Os,Ns],(e,t,n,r,i,a)=>{if(!(e!=="centric"&&e!=="radial"||t==null||n==null||r==null)){var{cx:o,cy:l,startAngle:u,endAngle:d}=t;return{cx:Il(o,i,i/2),cy:Il(l,a,a/2),innerRadius:n,outerRadius:r,startAngle:u,endAngle:d,clockWise:!1}}}),Vn=(e,t)=>t,hx=(e,t,n)=>n;function ET(e){return e?.id}function D8(e,t,n){var{chartData:r=[]}=t,{allowDuplicatedCategory:i,dataKey:a}=n,o=new Map;return e.forEach(l=>{var u,d=(u=l.data)!==null&&u!==void 0?u:r;if(!(d==null||d.length===0)){var h=ET(l);d.forEach((p,b)=>{var x=a==null||i?b:String(Cr(p,a,null)),k=Cr(p,l.dataKey,0),S;o.has(x)?S=o.get(x):S={},Object.assign(S,{[h]:k}),o.set(x,S)})}}),Array.from(o.values())}function AT(e){return e.stackId!=null&&e.dataKey!=null}var mx=(e,t)=>e===t?!0:e==null||t==null?!1:e[0]===t[0]&&e[1]===t[1];function px(e,t){return Array.isArray(e)&&Array.isArray(t)&&e.length===0&&t.length===0?!0:e===t}function Kye(e,t){if(e.length===t.length){for(var n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0}return!1}var Zn=e=>{var t=Wt(e);return t==="horizontal"?"xAxis":t==="vertical"?"yAxis":t==="centric"?"angleAxis":"radiusAxis"},_f=e=>e.tooltip.settings.axisId;function wI(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Fy(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?wI(Object(n),!0).forEach(function(r){Wye(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):wI(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Wye(e,t,n){return(t=Vye(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Vye(e){var t=Zye(e,"string");return typeof t=="symbol"?t:t+""}function Zye(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var BE=[0,"auto"],rr={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:void 0,height:30,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"bottom",padding:{left:0,right:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"category",unit:void 0},P8=(e,t)=>e.cartesianAxis.xAxis[t],Ms=(e,t)=>{var n=P8(e,t);return n??rr},ir={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:BE,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"left",padding:{top:0,bottom:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"number",unit:void 0,width:xp},R8=(e,t)=>e.cartesianAxis.yAxis[t],Ds=(e,t)=>{var n=R8(e,t);return n??ir},Xye={domain:[0,"auto"],includeHidden:!1,reversed:!1,allowDataOverflow:!1,allowDuplicatedCategory:!1,dataKey:void 0,id:0,name:"",range:[64,64],scale:"auto",type:"number",unit:""},TT=(e,t)=>{var n=e.cartesianAxis.zAxis[t];return n??Xye},qr=(e,t,n)=>{switch(t){case"xAxis":return Ms(e,n);case"yAxis":return Ds(e,n);case"zAxis":return TT(e,n);case"angleAxis":return wT(e,n);case"radiusAxis":return ST(e,n);default:throw new Error("Unexpected axis type: ".concat(t))}},Jye=(e,t,n)=>{switch(t){case"xAxis":return Ms(e,n);case"yAxis":return Ds(e,n);default:throw new Error("Unexpected axis type: ".concat(t))}},Tp=(e,t,n)=>{switch(t){case"xAxis":return Ms(e,n);case"yAxis":return Ds(e,n);case"angleAxis":return wT(e,n);case"radiusAxis":return ST(e,n);default:throw new Error("Unexpected axis type: ".concat(t))}},L8=e=>e.graphicalItems.cartesianItems.some(t=>t.type==="bar")||e.graphicalItems.polarItems.some(t=>t.type==="radialBar");function I8(e,t){return n=>{switch(e){case"xAxis":return"xAxisId"in n&&n.xAxisId===t;case"yAxis":return"yAxisId"in n&&n.yAxisId===t;case"zAxis":return"zAxisId"in n&&n.zAxisId===t;case"angleAxis":return"angleAxisId"in n&&n.angleAxisId===t;case"radiusAxis":return"radiusAxisId"in n&&n.radiusAxisId===t;default:return!1}}}var $8=e=>e.graphicalItems.cartesianItems,Qye=_e([Vn,hx],I8),B8=(e,t,n)=>e.filter(n).filter(r=>t?.includeHidden===!0?!0:!r.hide),jp=_e([$8,qr,Qye],B8,{memoizeOptions:{resultEqualityCheck:px}}),z8=_e([jp],e=>e.filter(t=>t.type==="area"||t.type==="bar").filter(AT)),U8=e=>e.filter(t=>!("stackId"in t)||t.stackId===void 0),eve=_e([jp],U8),F8=e=>e.map(t=>t.data).filter(Boolean).flat(1),tve=_e([jp],F8,{memoizeOptions:{resultEqualityCheck:px}}),H8=(e,t)=>{var{chartData:n=[],dataStartIndex:r,dataEndIndex:i}=t;return e.length>0?e:n.slice(r,i+1)},jT=_e([tve,gT],H8),G8=(e,t,n)=>t?.dataKey!=null?e.map(r=>({value:Cr(r,t.dataKey)})):n.length>0?n.map(r=>r.dataKey).flatMap(r=>e.map(i=>({value:Cr(i,r)}))):e.map(r=>({value:r})),gx=_e([jT,qr,jp],G8);function q8(e,t){switch(e){case"xAxis":return t.direction==="x";case"yAxis":return t.direction==="y";default:return!1}}function Tb(e){if(jo(e)||e instanceof Date){var t=Number(e);if(wn(t))return t}}function SI(e){if(Array.isArray(e)){var t=[Tb(e[0]),Tb(e[1])];return $l(t)?t:void 0}var n=Tb(e);if(n!=null)return[n,n]}function Es(e){return e.map(Tb).filter(wfe)}function nve(e,t,n){return!n||typeof t!="number"||qa(t)?[]:n.length?Es(n.flatMap(r=>{var i=Cr(e,r.dataKey),a,o;if(Array.isArray(i)?[a,o]=i:a=o=i,!(!wn(a)||!wn(o)))return[t-a,t+o]})):[]}var Xn=e=>{var t=Zn(e),n=_f(e);return Tp(e,t,n)},Op=_e([Xn],e=>e?.dataKey),rve=_e([z8,gT,Xn],D8),Y8=(e,t,n,r)=>{var i={},a=t.reduce((o,l)=>(l.stackId==null||(o[l.stackId]==null&&(o[l.stackId]=[]),o[l.stackId].push(l)),o),i);return Object.fromEntries(Object.entries(a).map(o=>{var[l,u]=o,d=r?[...u].reverse():u,h=d.map(ET);return[l,{stackedData:Tme(e,h,n),graphicalItems:d}]}))},zE=_e([rve,z8,ux,A8],Y8),K8=(e,t,n,r)=>{var{dataStartIndex:i,dataEndIndex:a}=t;if(r==null&&n!=="zAxis"){var o=Cme(e,i,a);if(!(o!=null&&o[0]===0&&o[1]===0))return o}},ive=_e([qr],e=>e.allowDataOverflow),OT=e=>{var t;if(e==null||!("domain"in e))return BE;if(e.domain!=null)return e.domain;if(e.ticks!=null){if(e.type==="number"){var n=Es(e.ticks);return[Math.min(...n),Math.max(...n)]}if(e.type==="category")return e.ticks.map(String)}return(t=e?.domain)!==null&&t!==void 0?t:BE},W8=_e([qr],OT),V8=_e([W8,ive],f8),ave=_e([zE,Fl,Vn,V8],K8,{memoizeOptions:{resultEqualityCheck:mx}}),NT=e=>e.errorBars,ove=(e,t,n)=>e.flatMap(r=>t[r.id]).filter(Boolean).filter(r=>q8(n,r)),Hy=function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var i=n.filter(Boolean);if(i.length!==0){var a=i.flat(),o=Math.min(...a),l=Math.max(...a);return[o,l]}},Z8=(e,t,n,r,i)=>{var a,o;if(n.length>0&&e.forEach(l=>{n.forEach(u=>{var d,h,p=(d=r[u.id])===null||d===void 0?void 0:d.filter(T=>q8(i,T)),b=Cr(l,(h=t.dataKey)!==null&&h!==void 0?h:u.dataKey),x=nve(l,b,p);if(x.length>=2){var k=Math.min(...x),S=Math.max(...x);(a==null||k<a)&&(a=k),(o==null||S>o)&&(o=S)}var _=SI(b);_!=null&&(a=a==null?_[0]:Math.min(a,_[0]),o=o==null?_[1]:Math.max(o,_[1]))})}),t?.dataKey!=null&&e.forEach(l=>{var u=SI(Cr(l,t.dataKey));u!=null&&(a=a==null?u[0]:Math.min(a,u[0]),o=o==null?u[1]:Math.max(o,u[1]))}),wn(a)&&wn(o))return[a,o]},sve=_e([jT,qr,eve,NT,Vn],Z8,{memoizeOptions:{resultEqualityCheck:mx}});function lve(e){var{value:t}=e;if(jo(t)||t instanceof Date)return t}var cve=(e,t,n)=>{var r=e.map(lve).filter(i=>i!=null);return n&&(t.dataKey==null||t.allowDuplicatedCategory&&p7(r))?C9(0,e.length):t.allowDuplicatedCategory?r:Array.from(new Set(r))},X8=e=>e.referenceElements.dots,wf=(e,t,n)=>e.filter(r=>r.ifOverflow==="extendDomain").filter(r=>t==="xAxis"?r.xAxisId===n:r.yAxisId===n),uve=_e([X8,Vn,hx],wf),J8=e=>e.referenceElements.areas,dve=_e([J8,Vn,hx],wf),Q8=e=>e.referenceElements.lines,fve=_e([Q8,Vn,hx],wf),ez=(e,t)=>{var n=Es(e.map(r=>t==="xAxis"?r.x:r.y));if(n.length!==0)return[Math.min(...n),Math.max(...n)]},hve=_e(uve,Vn,ez),tz=(e,t)=>{var n=Es(e.flatMap(r=>[t==="xAxis"?r.x1:r.y1,t==="xAxis"?r.x2:r.y2]));if(n.length!==0)return[Math.min(...n),Math.max(...n)]},mve=_e([dve,Vn],tz);function pve(e){var t;if(e.x!=null)return Es([e.x]);var n=(t=e.segment)===null||t===void 0?void 0:t.map(r=>r.x);return n==null||n.length===0?[]:Es(n)}function gve(e){var t;if(e.y!=null)return Es([e.y]);var n=(t=e.segment)===null||t===void 0?void 0:t.map(r=>r.y);return n==null||n.length===0?[]:Es(n)}var nz=(e,t)=>{var n=e.flatMap(r=>t==="xAxis"?pve(r):gve(r));if(n.length!==0)return[Math.min(...n),Math.max(...n)]},bve=_e([fve,Vn],nz),yve=_e(hve,bve,mve,(e,t,n)=>Hy(e,n,t)),rz=(e,t,n,r,i,a,o,l)=>{if(n!=null)return n;var u=o==="vertical"&&l==="xAxis"||o==="horizontal"&&l==="yAxis",d=u?Hy(r,a,i):Hy(a,i);return Oye(t,d,e.allowDataOverflow)},vve=_e([qr,W8,V8,ave,sve,yve,Wt,Vn],rz,{memoizeOptions:{resultEqualityCheck:mx}}),xve=[0,1],iz=(e,t,n,r,i,a,o)=>{if(!((e==null||n==null||n.length===0)&&o===void 0)){var{dataKey:l,type:u}=e,d=js(t,a);if(d&&l==null){var h;return C9(0,(h=n?.length)!==null&&h!==void 0?h:0)}return u==="category"?cve(r,e,d):i==="expand"?xve:o}},CT=_e([qr,Wt,jT,gx,ux,Vn,vve],iz),az=(e,t,n,r,i)=>{if(e!=null){var{scale:a,type:o}=e;if(a==="auto")return t==="radial"&&i==="radiusAxis"?"band":t==="radial"&&i==="angleAxis"?"linear":o==="category"&&r&&(r.indexOf("LineChart")>=0||r.indexOf("AreaChart")>=0||r.indexOf("ComposedChart")>=0&&!n)?"point":o==="category"?"band":"linear";if(typeof a=="string"){var l="scale".concat(DA(a));return l in lm?l:"point"}}},Np=_e([qr,Wt,L8,vT,Vn],az);function _ve(e){if(e!=null){if(e in lm)return lm[e]();var t="scale".concat(DA(e));if(t in lm)return lm[t]()}}function MT(e,t,n,r){if(!(n==null||r==null)){if(typeof e.scale=="function")return e.scale.copy().domain(n).range(r);var i=_ve(t);if(i!=null){var a=i.domain(n).range(r);return Sme(a),a}}}var oz=(e,t,n)=>{var r=OT(t);if(!(n!=="auto"&&n!=="linear")){if(t!=null&&t.tickCount&&Array.isArray(r)&&(r[0]==="auto"||r[1]==="auto")&&$l(e))return $ye(e,t.tickCount,t.allowDecimals);if(t!=null&&t.tickCount&&t.type==="number"&&$l(e))return Bye(e,t.tickCount,t.allowDecimals)}},DT=_e([CT,Tp,Np],oz),sz=(e,t,n,r)=>{if(r!=="angleAxis"&&e?.type==="number"&&$l(t)&&Array.isArray(n)&&n.length>0){var i=t[0],a=n[0],o=t[1],l=n[n.length-1];return[Math.min(i,a),Math.max(o,l)]}return t},wve=_e([qr,CT,DT,Vn],sz),Sve=_e(gx,qr,(e,t)=>{if(!(!t||t.type!=="number")){var n=1/0,r=Array.from(Es(e.map(l=>l.value))).sort((l,u)=>l-u);if(r.length<2)return 1/0;var i=r[r.length-1]-r[0];if(i===0)return 1/0;for(var a=0;a<r.length-1;a++){var o=r[a+1]-r[a];n=Math.min(n,o)}return n/i}}),lz=_e(Sve,Wt,zye,kr,(e,t,n,r)=>r,(e,t,n,r,i)=>{if(!wn(e))return 0;var a=t==="vertical"?r.height:r.width;if(i==="gap")return e*a/2;if(i==="no-gap"){var o=Il(n,e*a),l=e*a/2;return l-o-(l-o)/a*o}return 0}),kve=(e,t)=>{var n=Ms(e,t);return n==null||typeof n.padding!="string"?0:lz(e,"xAxis",t,n.padding)},Eve=(e,t)=>{var n=Ds(e,t);return n==null||typeof n.padding!="string"?0:lz(e,"yAxis",t,n.padding)},Ave=_e(Ms,kve,(e,t)=>{var n,r;if(e==null)return{left:0,right:0};var{padding:i}=e;return typeof i=="string"?{left:t,right:t}:{left:((n=i.left)!==null&&n!==void 0?n:0)+t,right:((r=i.right)!==null&&r!==void 0?r:0)+t}}),Tve=_e(Ds,Eve,(e,t)=>{var n,r;if(e==null)return{top:0,bottom:0};var{padding:i}=e;return typeof i=="string"?{top:t,bottom:t}:{top:((n=i.top)!==null&&n!==void 0?n:0)+t,bottom:((r=i.bottom)!==null&&r!==void 0?r:0)+t}}),jve=_e([kr,Ave,Jv,Xv,(e,t,n)=>n],(e,t,n,r,i)=>{var{padding:a}=r;return i?[a.left,n.width-a.right]:[e.left+t.left,e.left+e.width-t.right]}),Ove=_e([kr,Wt,Tve,Jv,Xv,(e,t,n)=>n],(e,t,n,r,i,a)=>{var{padding:o}=i;return a?[r.height-o.bottom,o.top]:t==="horizontal"?[e.top+e.height-n.bottom,e.top+n.top]:[e.top+n.top,e.top+e.height-n.bottom]}),Cp=(e,t,n,r)=>{var i;switch(t){case"xAxis":return jve(e,n,r);case"yAxis":return Ove(e,n,r);case"zAxis":return(i=TT(e,n))===null||i===void 0?void 0:i.range;case"angleAxis":return N8(e);case"radiusAxis":return C8(e,n);default:return}},cz=_e([qr,Cp],dx),Sf=_e([qr,Np,wve,cz],MT);_e([jp,NT,Vn],ove);function uz(e,t){return e.id<t.id?-1:e.id>t.id?1:0}var bx=(e,t)=>t,yx=(e,t,n)=>n,Nve=_e(Vv,bx,yx,(e,t,n)=>e.filter(r=>r.orientation===t).filter(r=>r.mirror===n).sort(uz)),Cve=_e(Zv,bx,yx,(e,t,n)=>e.filter(r=>r.orientation===t).filter(r=>r.mirror===n).sort(uz)),dz=(e,t)=>({width:e.width,height:t.height}),Mve=(e,t)=>{var n=typeof t.width=="number"?t.width:xp;return{width:n,height:e.height}},Dve=_e(kr,Ms,dz),Pve=(e,t,n)=>{switch(t){case"top":return e.top;case"bottom":return n-e.bottom;default:return 0}},Rve=(e,t,n)=>{switch(t){case"left":return e.left;case"right":return n-e.right;default:return 0}},Lve=_e(Ns,kr,Nve,bx,yx,(e,t,n,r,i)=>{var a={},o;return n.forEach(l=>{var u=dz(t,l);o==null&&(o=Pve(t,r,e));var d=r==="top"&&!i||r==="bottom"&&i;a[l.id]=o-Number(d)*u.height,o+=(d?-1:1)*u.height}),a}),Ive=_e(Os,kr,Cve,bx,yx,(e,t,n,r,i)=>{var a={},o;return n.forEach(l=>{var u=Mve(t,l);o==null&&(o=Rve(t,r,e));var d=r==="left"&&!i||r==="right"&&i;a[l.id]=o-Number(d)*u.width,o+=(d?-1:1)*u.width}),a}),$ve=(e,t)=>{var n=Ms(e,t);if(n!=null)return Lve(e,n.orientation,n.mirror)},Bve=_e([kr,Ms,$ve,(e,t)=>t],(e,t,n,r)=>{if(t!=null){var i=n?.[r];return i==null?{x:e.left,y:0}:{x:e.left,y:i}}}),zve=(e,t)=>{var n=Ds(e,t);if(n!=null)return Ive(e,n.orientation,n.mirror)},Uve=_e([kr,Ds,zve,(e,t)=>t],(e,t,n,r)=>{if(t!=null){var i=n?.[r];return i==null?{x:0,y:e.top}:{x:i,y:e.top}}}),Fve=_e(kr,Ds,(e,t)=>{var n=typeof t.width=="number"?t.width:xp;return{width:n,height:e.height}}),fz=(e,t,n,r)=>{if(n!=null){var{allowDuplicatedCategory:i,type:a,dataKey:o}=n,l=js(e,r),u=t.map(d=>d.value);if(o&&l&&a==="category"&&i&&p7(u))return u}},PT=_e([Wt,gx,qr,Vn],fz),hz=(e,t,n,r)=>{if(!(n==null||n.dataKey==null)){var{type:i,scale:a}=n,o=js(e,r);if(o&&(i==="number"||a!=="auto"))return t.map(l=>l.value)}},RT=_e([Wt,gx,Tp,Vn],hz),kI=_e([Wt,Jye,Np,Sf,PT,RT,Cp,DT,Vn],(e,t,n,r,i,a,o,l,u)=>{if(t!=null){var d=js(e,u);return{angle:t.angle,interval:t.interval,minTickGap:t.minTickGap,orientation:t.orientation,tick:t.tick,tickCount:t.tickCount,tickFormatter:t.tickFormatter,ticks:t.ticks,type:t.type,unit:t.unit,axisType:u,categoricalDomain:a,duplicateDomain:i,isCategorical:d,niceTicks:l,range:o,realScaleType:n,scale:r}}}),Hve=(e,t,n,r,i,a,o,l,u)=>{if(!(t==null||r==null)){var d=js(e,u),{type:h,ticks:p,tickCount:b}=t,x=n==="scaleBand"&&typeof r.bandwidth=="function"?r.bandwidth()/2:2,k=h==="category"&&r.bandwidth?r.bandwidth()/x:0;k=u==="angleAxis"&&a!=null&&a.length>=2?ua(a[0]-a[1])*2*k:k;var S=p||i;if(S){var _=S.map((T,N)=>{var j=o?o.indexOf(T):T;return{index:N,coordinate:r(j)+k,value:T,offset:k}});return _.filter(T=>wn(T.coordinate))}return d&&l?l.map((T,N)=>({coordinate:r(T)+k,value:T,index:N,offset:k})).filter(T=>wn(T.coordinate)):r.ticks?r.ticks(b).map(T=>({coordinate:r(T)+k,value:T,offset:k})):r.domain().map((T,N)=>({coordinate:r(T)+k,value:o?o[T]:T,index:N,offset:k}))}},mz=_e([Wt,Tp,Np,Sf,DT,Cp,PT,RT,Vn],Hve),Gve=(e,t,n,r,i,a,o)=>{if(!(t==null||n==null||r==null||r[0]===r[1])){var l=js(e,o),{tickCount:u}=t,d=0;return d=o==="angleAxis"&&r?.length>=2?ua(r[0]-r[1])*2*d:d,l&&a?a.map((h,p)=>({coordinate:n(h)+d,value:h,index:p,offset:d})):n.ticks?n.ticks(u).map(h=>({coordinate:n(h)+d,value:h,offset:d})):n.domain().map((h,p)=>({coordinate:n(h)+d,value:i?i[h]:h,index:p,offset:d}))}},pz=_e([Wt,Tp,Sf,Cp,PT,RT,Vn],Gve),gz=_e(qr,Sf,(e,t)=>{if(!(e==null||t==null))return Fy(Fy({},e),{},{scale:t})}),qve=_e([qr,Np,CT,cz],MT);_e((e,t,n)=>TT(e,n),qve,(e,t)=>{if(!(e==null||t==null))return Fy(Fy({},e),{},{scale:t})});var Yve=_e([Wt,Vv,Zv],(e,t,n)=>{switch(e){case"horizontal":return t.some(r=>r.reversed)?"right-to-left":"left-to-right";case"vertical":return n.some(r=>r.reversed)?"bottom-to-top":"top-to-bottom";case"centric":case"radial":return"left-to-right";default:return}}),bz=e=>e.options.defaultTooltipEventType,yz=e=>e.options.validateTooltipEventTypes;function vz(e,t,n){if(e==null)return t;var r=e?"axis":"item";return n==null?t:n.includes(r)?r:t}function LT(e,t){var n=bz(e),r=yz(e);return vz(t,n,r)}function Kve(e){return Je(t=>LT(t,e))}var xz=(e,t)=>{var n,r=Number(t);if(!(qa(r)||t==null))return r>=0?e==null||(n=e[r])===null||n===void 0?void 0:n.value:void 0},Wve=e=>e.tooltip.settings,jl={active:!1,index:null,dataKey:void 0,graphicalItemId:void 0,coordinate:void 0},Vve={itemInteraction:{click:jl,hover:jl},axisInteraction:{click:jl,hover:jl},keyboardInteraction:jl,syncInteraction:{active:!1,index:null,dataKey:void 0,label:void 0,coordinate:void 0,sourceViewBox:void 0,graphicalItemId:void 0},tooltipItemPayloads:[],settings:{shared:void 0,trigger:"hover",axisId:0,active:!1,defaultIndex:void 0}},_z=mi({name:"tooltip",initialState:Vve,reducers:{addTooltipEntrySettings:{reducer(e,t){e.tooltipItemPayloads.push(t.payload)},prepare:an()},replaceTooltipEntrySettings:{reducer(e,t){var{prev:n,next:r}=t.payload,i=Ua(e).tooltipItemPayloads.indexOf(n);i>-1&&(e.tooltipItemPayloads[i]=r)},prepare:an()},removeTooltipEntrySettings:{reducer(e,t){var n=Ua(e).tooltipItemPayloads.indexOf(t.payload);n>-1&&e.tooltipItemPayloads.splice(n,1)},prepare:an()},setTooltipSettingsState(e,t){e.settings=t.payload},setActiveMouseOverItemIndex(e,t){e.syncInteraction.active=!1,e.keyboardInteraction.active=!1,e.itemInteraction.hover.active=!0,e.itemInteraction.hover.index=t.payload.activeIndex,e.itemInteraction.hover.dataKey=t.payload.activeDataKey,e.itemInteraction.hover.graphicalItemId=t.payload.activeGraphicalItemId,e.itemInteraction.hover.coordinate=t.payload.activeCoordinate},mouseLeaveChart(e){e.itemInteraction.hover.active=!1,e.axisInteraction.hover.active=!1},mouseLeaveItem(e){e.itemInteraction.hover.active=!1},setActiveClickItemIndex(e,t){e.syncInteraction.active=!1,e.itemInteraction.click.active=!0,e.keyboardInteraction.active=!1,e.itemInteraction.click.index=t.payload.activeIndex,e.itemInteraction.click.dataKey=t.payload.activeDataKey,e.itemInteraction.click.graphicalItemId=t.payload.activeGraphicalItemId,e.itemInteraction.click.coordinate=t.payload.activeCoordinate},setMouseOverAxisIndex(e,t){e.syncInteraction.active=!1,e.axisInteraction.hover.active=!0,e.keyboardInteraction.active=!1,e.axisInteraction.hover.index=t.payload.activeIndex,e.axisInteraction.hover.dataKey=t.payload.activeDataKey,e.axisInteraction.hover.coordinate=t.payload.activeCoordinate},setMouseClickAxisIndex(e,t){e.syncInteraction.active=!1,e.keyboardInteraction.active=!1,e.axisInteraction.click.active=!0,e.axisInteraction.click.index=t.payload.activeIndex,e.axisInteraction.click.dataKey=t.payload.activeDataKey,e.axisInteraction.click.coordinate=t.payload.activeCoordinate},setSyncInteraction(e,t){e.syncInteraction=t.payload},setKeyboardInteraction(e,t){e.keyboardInteraction.active=t.payload.active,e.keyboardInteraction.index=t.payload.activeIndex,e.keyboardInteraction.coordinate=t.payload.activeCoordinate,e.keyboardInteraction.dataKey=t.payload.activeDataKey}}}),{addTooltipEntrySettings:Zve,replaceTooltipEntrySettings:Xve,removeTooltipEntrySettings:Jve,setTooltipSettingsState:Qve,setActiveMouseOverItemIndex:exe,mouseLeaveItem:WOe,mouseLeaveChart:wz,setActiveClickItemIndex:VOe,setMouseOverAxisIndex:Sz,setMouseClickAxisIndex:txe,setSyncInteraction:UE,setKeyboardInteraction:FE}=_z.actions,nxe=_z.reducer;function EI(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function ib(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?EI(Object(n),!0).forEach(function(r){rxe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):EI(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function rxe(e,t,n){return(t=ixe(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ixe(e){var t=axe(e,"string");return typeof t=="symbol"?t:t+""}function axe(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function oxe(e,t,n){return t==="axis"?n==="click"?e.axisInteraction.click:e.axisInteraction.hover:n==="click"?e.itemInteraction.click:e.itemInteraction.hover}function sxe(e){return e.index!=null}var kz=(e,t,n,r)=>{if(t==null)return jl;var i=oxe(e,t,n);if(i==null)return jl;if(i.active)return i;if(e.keyboardInteraction.active)return e.keyboardInteraction;if(e.syncInteraction.active&&e.syncInteraction.index!=null)return e.syncInteraction;var a=e.settings.active===!0;if(sxe(i)){if(a)return ib(ib({},i),{},{active:!0})}else if(r!=null)return{active:!0,coordinate:void 0,dataKey:void 0,index:r,graphicalItemId:void 0};return ib(ib({},jl),{},{coordinate:i.coordinate})};function lxe(e){if(typeof e=="number")return Number.isFinite(e)?e:void 0;if(e instanceof Date){var t=e.valueOf();return Number.isFinite(t)?t:void 0}var n=Number(e);return Number.isFinite(n)?n:void 0}function cxe(e,t){var n=lxe(e),r=t[0],i=t[1];if(n===void 0)return!1;var a=Math.min(r,i),o=Math.max(r,i);return n>=a&&n<=o}function uxe(e,t,n){if(n==null||t==null)return!0;var r=Cr(e,t);return r==null||!$l(n)?!0:cxe(r,n)}var IT=(e,t,n,r)=>{var i=e?.index;if(i==null)return null;var a=Number(i);if(!wn(a))return i;var o=0,l=1/0;t.length>0&&(l=t.length-1);var u=Math.max(o,Math.min(a,l)),d=t[u];return d==null||uxe(d,n,r)?String(u):null},Ez=(e,t,n,r,i,a,o,l)=>{if(!(a==null||l==null)){var u=o[0],d=u==null?void 0:l(u.positions,a);if(d!=null)return d;var h=i?.[Number(a)];if(h)switch(n){case"horizontal":return{x:h.coordinate,y:(r.top+t)/2};default:return{x:(r.left+e)/2,y:h.coordinate}}}},Az=(e,t,n,r)=>{if(t==="axis")return e.tooltipItemPayloads;if(e.tooltipItemPayloads.length===0)return[];var i;return n==="hover"?i=e.itemInteraction.hover.dataKey:i=e.itemInteraction.click.dataKey,i==null&&r!=null?[e.tooltipItemPayloads[0]]:e.tooltipItemPayloads.filter(a=>{var o;return((o=a.settings)===null||o===void 0?void 0:o.dataKey)===i})},Mp=e=>e.options.tooltipPayloadSearcher,kf=e=>e.tooltip;function AI(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function TI(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?AI(Object(n),!0).forEach(function(r){dxe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):AI(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function dxe(e,t,n){return(t=fxe(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function fxe(e){var t=hxe(e,"string");return typeof t=="symbol"?t:t+""}function hxe(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function mxe(e,t){return e??t}var Tz=(e,t,n,r,i,a,o)=>{if(!(t==null||a==null)){var{chartData:l,computedData:u,dataStartIndex:d,dataEndIndex:h}=n,p=[];return e.reduce((b,x)=>{var k,{dataDefinedOnItem:S,settings:_}=x,T=mxe(S,l),N=Array.isArray(T)?r9(T,d,h):T,j=(k=_?.dataKey)!==null&&k!==void 0?k:r,C=_?.nameKey,M;if(r&&Array.isArray(N)&&!Array.isArray(N[0])&&o==="axis"?M=g7(N,r,i):M=a(N,t,u,C),Array.isArray(M))M.forEach($=>{var U=TI(TI({},_),{},{name:$.name,unit:$.unit,color:void 0,fill:void 0});b.push(ZR({tooltipEntrySettings:U,dataKey:$.dataKey,payload:$.payload,value:Cr($.payload,$.dataKey),name:$.name}))});else{var P;b.push(ZR({tooltipEntrySettings:_,dataKey:j,payload:M,value:Cr(M,j),name:(P=Cr(M,C))!==null&&P!==void 0?P:_?.name}))}return b},p)}},$T=_e([Xn,Wt,L8,vT,Zn],az),pxe=_e([e=>e.graphicalItems.cartesianItems,e=>e.graphicalItems.polarItems],(e,t)=>[...e,...t]),gxe=_e([Zn,_f],I8),Dp=_e([pxe,Xn,gxe],B8,{memoizeOptions:{resultEqualityCheck:px}}),bxe=_e([Dp],e=>e.filter(AT)),yxe=_e([Dp],F8,{memoizeOptions:{resultEqualityCheck:px}}),Ef=_e([yxe,Fl],H8),vxe=_e([bxe,Fl,Xn],D8),BT=_e([Ef,Xn,Dp],G8),jz=_e([Xn],OT),xxe=_e([Xn],e=>e.allowDataOverflow),Oz=_e([jz,xxe],f8),_xe=_e([Dp],e=>e.filter(AT)),wxe=_e([vxe,_xe,ux,A8],Y8),Sxe=_e([wxe,Fl,Zn,Oz],K8),kxe=_e([Dp],U8),Exe=_e([Ef,Xn,kxe,NT,Zn],Z8,{memoizeOptions:{resultEqualityCheck:mx}}),Axe=_e([X8,Zn,_f],wf),Txe=_e([Axe,Zn],ez),jxe=_e([J8,Zn,_f],wf),Oxe=_e([jxe,Zn],tz),Nxe=_e([Q8,Zn,_f],wf),Cxe=_e([Nxe,Zn],nz),Mxe=_e([Txe,Cxe,Oxe],Hy),Dxe=_e([Xn,jz,Oz,Sxe,Exe,Mxe,Wt,Zn],rz),Pp=_e([Xn,Wt,Ef,BT,ux,Zn,Dxe],iz),Pxe=_e([Pp,Xn,$T],oz),Rxe=_e([Xn,Pp,Pxe,Zn],sz),Nz=e=>{var t=Zn(e),n=_f(e),r=!1;return Cp(e,t,n,r)},Cz=_e([Xn,Nz],dx),Mz=_e([Xn,$T,Rxe,Cz],MT),Lxe=_e([Wt,BT,Xn,Zn],fz),Ixe=_e([Wt,BT,Xn,Zn],hz),$xe=(e,t,n,r,i,a,o,l)=>{if(t){var{type:u}=t,d=js(e,l);if(r){var h=n==="scaleBand"&&r.bandwidth?r.bandwidth()/2:2,p=u==="category"&&r.bandwidth?r.bandwidth()/h:0;return p=l==="angleAxis"&&i!=null&&i?.length>=2?ua(i[0]-i[1])*2*p:p,d&&o?o.map((b,x)=>({coordinate:r(b)+p,value:b,index:x,offset:p})):r.domain().map((b,x)=>({coordinate:r(b)+p,value:a?a[b]:b,index:x,offset:p}))}}},Ps=_e([Wt,Xn,$T,Mz,Nz,Lxe,Ixe,Zn],$xe),zT=_e([bz,yz,Wve],(e,t,n)=>vz(n.shared,e,t)),Dz=e=>e.tooltip.settings.trigger,UT=e=>e.tooltip.settings.defaultIndex,Rp=_e([kf,zT,Dz,UT],kz),Zm=_e([Rp,Ef,Op,Pp],IT),Pz=_e([Ps,Zm],xz),Bxe=_e([Rp],e=>{if(e)return e.dataKey});_e([Rp],e=>{if(e)return e.graphicalItemId});var Rz=_e([kf,zT,Dz,UT],Az),zxe=_e([Os,Ns,Wt,kr,Ps,UT,Rz,Mp],Ez),Uxe=_e([Rp,zxe],(e,t)=>e!=null&&e.coordinate?e.coordinate:t),Fxe=_e([Rp],e=>e.active),Hxe=_e([Rz,Zm,Fl,Op,Pz,Mp,zT],Tz),Gxe=_e([Hxe],e=>{if(e!=null){var t=e.map(n=>n.payload).filter(n=>n!=null);return Array.from(new Set(t))}});function jI(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function OI(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?jI(Object(n),!0).forEach(function(r){qxe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):jI(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function qxe(e,t,n){return(t=Yxe(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Yxe(e){var t=Kxe(e,"string");return typeof t=="symbol"?t:t+""}function Kxe(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Wxe=()=>Je(Xn),Vxe=()=>{var e=Wxe(),t=Je(Ps),n=Je(Mz);return wy(!e||!n?void 0:OI(OI({},e),{},{scale:n}),t)};function NI(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function yd(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?NI(Object(n),!0).forEach(function(r){Zxe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):NI(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Zxe(e,t,n){return(t=Xxe(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Xxe(e){var t=Jxe(e,"string");return typeof t=="symbol"?t:t+""}function Jxe(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Qxe=(e,t,n,r)=>{var i=t.find(a=>a&&a.index===n);if(i){if(e==="horizontal")return{x:i.coordinate,y:r.chartY};if(e==="vertical")return{x:r.chartX,y:i.coordinate}}return{x:0,y:0}},e_e=(e,t,n,r)=>{var i=t.find(d=>d&&d.index===n);if(i){if(e==="centric"){var a=i.coordinate,{radius:o}=r;return yd(yd(yd({},r),xr(r.cx,r.cy,o,a)),{},{angle:a,radius:o})}var l=i.coordinate,{angle:u}=r;return yd(yd(yd({},r),xr(r.cx,r.cy,l,u)),{},{angle:u,radius:l})}return{angle:0,clockWise:!1,cx:0,cy:0,endAngle:0,innerRadius:0,outerRadius:0,radius:0,startAngle:0,x:0,y:0}};function t_e(e,t){var{chartX:n,chartY:r}=e;return n>=t.left&&n<=t.left+t.width&&r>=t.top&&r<=t.top+t.height}var Lz=(e,t,n,r,i)=>{var a,o=-1,l=(a=t?.length)!==null&&a!==void 0?a:0;if(l<=1||e==null)return 0;if(r==="angleAxis"&&i!=null&&Math.abs(Math.abs(i[1]-i[0])-360)<=1e-6)for(var u=0;u<l;u++){var d=u>0?n[u-1].coordinate:n[l-1].coordinate,h=n[u].coordinate,p=u>=l-1?n[0].coordinate:n[u+1].coordinate,b=void 0;if(ua(h-d)!==ua(p-h)){var x=[];if(ua(p-h)===ua(i[1]-i[0])){b=p;var k=h+i[1]-i[0];x[0]=Math.min(k,(k+d)/2),x[1]=Math.max(k,(k+d)/2)}else{b=d;var S=p+i[1]-i[0];x[0]=Math.min(h,(S+h)/2),x[1]=Math.max(h,(S+h)/2)}var _=[Math.min(h,(b+h)/2),Math.max(h,(b+h)/2)];if(e>_[0]&&e<=_[1]||e>=x[0]&&e<=x[1]){({index:o}=n[u]);break}}else{var T=Math.min(d,p),N=Math.max(d,p);if(e>(T+h)/2&&e<=(N+h)/2){({index:o}=n[u]);break}}}else if(t){for(var j=0;j<l;j++)if(j===0&&e<=(t[j].coordinate+t[j+1].coordinate)/2||j>0&&j<l-1&&e>(t[j].coordinate+t[j-1].coordinate)/2&&e<=(t[j].coordinate+t[j+1].coordinate)/2||j===l-1&&e>(t[j].coordinate+t[j-1].coordinate)/2){({index:o}=t[j]);break}}return o},Iz=()=>Je(vT),FT=(e,t)=>t,$z=(e,t,n)=>n,HT=(e,t,n,r)=>r,n_e=_e(Ps,e=>zv(e,t=>t.coordinate)),GT=_e([kf,FT,$z,HT],kz),qT=_e([GT,Ef,Op,Pp],IT),r_e=(e,t,n)=>{if(t!=null){var r=kf(e);return t==="axis"?n==="hover"?r.axisInteraction.hover.dataKey:r.axisInteraction.click.dataKey:n==="hover"?r.itemInteraction.hover.dataKey:r.itemInteraction.click.dataKey}},Bz=_e([kf,FT,$z,HT],Az),Gy=_e([Os,Ns,Wt,kr,Ps,HT,Bz,Mp],Ez),i_e=_e([GT,Gy],(e,t)=>{var n;return(n=e.coordinate)!==null&&n!==void 0?n:t}),zz=_e([Ps,qT],xz),a_e=_e([Bz,qT,Fl,Op,zz,Mp,FT],Tz),o_e=_e([GT,qT],(e,t)=>({isActive:e.active&&t!=null,activeIndex:t})),s_e=(e,t,n,r,i,a,o)=>{if(!(!e||!n||!r||!i)&&t_e(e,o)){var l=Mme(e,t),u=Lz(l,a,i,n,r),d=Qxe(t,i,u,e);return{activeIndex:String(u),activeCoordinate:d}}},l_e=(e,t,n,r,i,a,o)=>{if(!(!e||!r||!i||!a||!n)){var l=Hge(e,n);if(l){var u=Dme(l,t),d=Lz(u,o,a,r,i),h=e_e(t,a,d,l);return{activeIndex:String(d),activeCoordinate:h}}}},c_e=(e,t,n,r,i,a,o,l)=>{if(!(!e||!t||!r||!i||!a))return t==="horizontal"||t==="vertical"?s_e(e,t,r,i,a,o,l):l_e(e,t,n,r,i,a,o)},u_e=_e(e=>e.zIndex.zIndexMap,(e,t)=>t,(e,t,n)=>n,(e,t,n)=>{if(t!=null){var r=e[t];if(r!=null)return n?r.panoramaElementId:r.elementId}}),d_e=_e(e=>e.zIndex.zIndexMap,e=>{var t=Object.keys(e).map(r=>parseInt(r,10)).concat(Object.values(Fr)),n=Array.from(new Set(t));return n.sort((r,i)=>r-i)},{memoizeOptions:{resultEqualityCheck:Kye}});function CI(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function MI(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?CI(Object(n),!0).forEach(function(r){f_e(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):CI(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function f_e(e,t,n){return(t=h_e(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function h_e(e){var t=m_e(e,"string");return typeof t=="symbol"?t:t+""}function m_e(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var p_e={},g_e={zIndexMap:Object.values(Fr).reduce((e,t)=>MI(MI({},e),{},{[t]:{elementId:void 0,panoramaElementId:void 0,consumers:0}}),p_e)},b_e=new Set(Object.values(Fr));function y_e(e){return b_e.has(e)}var Uz=mi({name:"zIndex",initialState:g_e,reducers:{registerZIndexPortal:{reducer:(e,t)=>{var{zIndex:n}=t.payload;e.zIndexMap[n]?e.zIndexMap[n].consumers+=1:e.zIndexMap[n]={consumers:1,elementId:void 0,panoramaElementId:void 0}},prepare:an()},unregisterZIndexPortal:{reducer:(e,t)=>{var{zIndex:n}=t.payload;e.zIndexMap[n]&&(e.zIndexMap[n].consumers-=1,e.zIndexMap[n].consumers<=0&&!y_e(n)&&delete e.zIndexMap[n])},prepare:an()},registerZIndexPortalId:{reducer:(e,t)=>{var{zIndex:n,elementId:r,isPanorama:i}=t.payload;e.zIndexMap[n]?i?e.zIndexMap[n].panoramaElementId=r:e.zIndexMap[n].elementId=r:e.zIndexMap[n]={consumers:0,elementId:i?void 0:r,panoramaElementId:i?r:void 0}},prepare:an()},unregisterZIndexPortalId:{reducer:(e,t)=>{var{zIndex:n}=t.payload;e.zIndexMap[n]&&(t.payload.isPanorama?e.zIndexMap[n].panoramaElementId=void 0:e.zIndexMap[n].elementId=void 0)},prepare:an()}}}),{registerZIndexPortal:v_e,unregisterZIndexPortal:x_e,registerZIndexPortalId:__e,unregisterZIndexPortalId:w_e}=Uz.actions,S_e=Uz.reducer;function Rs(e){var{zIndex:t,children:n}=e,r=hpe(),i=r&&t!==void 0&&t!==0,a=pi(),o=ur();w.useLayoutEffect(()=>i?(o(v_e({zIndex:t})),()=>{o(x_e({zIndex:t}))}):gp,[o,t,i]);var l=Je(d=>u_e(d,t,a));if(!i)return n;if(!l)return null;var u=document.getElementById(l);return u?bu.createPortal(n,u):null}function HE(){return HE=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},HE.apply(null,arguments)}function DI(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function ab(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?DI(Object(n),!0).forEach(function(r){k_e(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):DI(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function k_e(e,t,n){return(t=E_e(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function E_e(e){var t=A_e(e,"string");return typeof t=="symbol"?t:t+""}function A_e(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function T_e(e){var{cursor:t,cursorComp:n,cursorProps:r}=e;return w.isValidElement(t)?w.cloneElement(t,r):w.createElement(n,r)}function j_e(e){var t,{coordinate:n,payload:r,index:i,offset:a,tooltipAxisBandSize:o,layout:l,cursor:u,tooltipEventType:d,chartName:h}=e,p=n,b=r,x=i;if(!u||!p||h!=="ScatterChart"&&d!=="axis")return null;var k,S,_;if(h==="ScatterChart")k=p,S=tge,_=Fr.cursorLine;else if(h==="BarChart")k=nge(l,p,a,o),S=Dge,_=Fr.cursorRectangle;else if(l==="radial"&&b7(p)){var{cx:T,cy:N,radius:j,startAngle:C,endAngle:M}=O9(p);k={cx:T,cy:N,startAngle:C,endAngle:M,innerRadius:j,outerRadius:j},S=Kge,_=Fr.cursorLine}else k={points:Wge(l,p,a)},S=Ab,_=Fr.cursorLine;var P=typeof u=="object"&&"className"in u?u.className:void 0,$=ab(ab(ab(ab({stroke:"#ccc",pointerEvents:"none"},a),k),Lv(u)),{},{payload:b,payloadIndex:x,className:Qt("recharts-tooltip-cursor",P)});return w.createElement(Rs,{zIndex:(t=e.zIndex)!==null&&t!==void 0?t:_},w.createElement(T_e,{cursor:u,cursorComp:S,cursorProps:$}))}function O_e(e){var t=Vxe(),n=h9(),r=_p(),i=Iz();return t==null||n==null||r==null||i==null?null:w.createElement(j_e,HE({},e,{offset:n,layout:r,tooltipAxisBandSize:t,chartName:i}))}var Fz=w.createContext(null),N_e=()=>w.useContext(Fz),CS={exports:{}},PI;function C_e(){return PI||(PI=1,(function(e){var t=Object.prototype.hasOwnProperty,n="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(n=!1));function i(u,d,h){this.fn=u,this.context=d,this.once=h||!1}function a(u,d,h,p,b){if(typeof h!="function")throw new TypeError("The listener must be a function");var x=new i(h,p||u,b),k=n?n+d:d;return u._events[k]?u._events[k].fn?u._events[k]=[u._events[k],x]:u._events[k].push(x):(u._events[k]=x,u._eventsCount++),u}function o(u,d){--u._eventsCount===0?u._events=new r:delete u._events[d]}function l(){this._events=new r,this._eventsCount=0}l.prototype.eventNames=function(){var d=[],h,p;if(this._eventsCount===0)return d;for(p in h=this._events)t.call(h,p)&&d.push(n?p.slice(1):p);return Object.getOwnPropertySymbols?d.concat(Object.getOwnPropertySymbols(h)):d},l.prototype.listeners=function(d){var h=n?n+d:d,p=this._events[h];if(!p)return[];if(p.fn)return[p.fn];for(var b=0,x=p.length,k=new Array(x);b<x;b++)k[b]=p[b].fn;return k},l.prototype.listenerCount=function(d){var h=n?n+d:d,p=this._events[h];return p?p.fn?1:p.length:0},l.prototype.emit=function(d,h,p,b,x,k){var S=n?n+d:d;if(!this._events[S])return!1;var _=this._events[S],T=arguments.length,N,j;if(_.fn){switch(_.once&&this.removeListener(d,_.fn,void 0,!0),T){case 1:return _.fn.call(_.context),!0;case 2:return _.fn.call(_.context,h),!0;case 3:return _.fn.call(_.context,h,p),!0;case 4:return _.fn.call(_.context,h,p,b),!0;case 5:return _.fn.call(_.context,h,p,b,x),!0;case 6:return _.fn.call(_.context,h,p,b,x,k),!0}for(j=1,N=new Array(T-1);j<T;j++)N[j-1]=arguments[j];_.fn.apply(_.context,N)}else{var C=_.length,M;for(j=0;j<C;j++)switch(_[j].once&&this.removeListener(d,_[j].fn,void 0,!0),T){case 1:_[j].fn.call(_[j].context);break;case 2:_[j].fn.call(_[j].context,h);break;case 3:_[j].fn.call(_[j].context,h,p);break;case 4:_[j].fn.call(_[j].context,h,p,b);break;default:if(!N)for(M=1,N=new Array(T-1);M<T;M++)N[M-1]=arguments[M];_[j].fn.apply(_[j].context,N)}}return!0},l.prototype.on=function(d,h,p){return a(this,d,h,p,!1)},l.prototype.once=function(d,h,p){return a(this,d,h,p,!0)},l.prototype.removeListener=function(d,h,p,b){var x=n?n+d:d;if(!this._events[x])return this;if(!h)return o(this,x),this;var k=this._events[x];if(k.fn)k.fn===h&&(!b||k.once)&&(!p||k.context===p)&&o(this,x);else{for(var S=0,_=[],T=k.length;S<T;S++)(k[S].fn!==h||b&&!k[S].once||p&&k[S].context!==p)&&_.push(k[S]);_.length?this._events[x]=_.length===1?_[0]:_:o(this,x)}return this},l.prototype.removeAllListeners=function(d){var h;return d?(h=n?n+d:d,this._events[h]&&o(this,h)):(this._events=new r,this._eventsCount=0),this},l.prototype.off=l.prototype.removeListener,l.prototype.addListener=l.prototype.on,l.prefixed=n,l.EventEmitter=l,e.exports=l})(CS)),CS.exports}var M_e=C_e();const D_e=hi(M_e);var Xm=new D_e,GE="recharts.syncEvent.tooltip",RI="recharts.syncEvent.brush";function P_e(e,t){if(t){var n=Number.parseInt(t,10);if(!qa(n))return e?.[n]}}var R_e={chartName:"",tooltipPayloadSearcher:void 0,eventEmitter:void 0,defaultTooltipEventType:"axis"},Hz=mi({name:"options",initialState:R_e,reducers:{createEventEmitter:e=>{e.eventEmitter==null&&(e.eventEmitter=Symbol("rechartsEventEmitter"))}}}),L_e=Hz.reducer,{createEventEmitter:I_e}=Hz.actions;function $_e(e){return e.tooltip.syncInteraction}var B_e={chartData:void 0,computedData:void 0,dataStartIndex:0,dataEndIndex:0},Gz=mi({name:"chartData",initialState:B_e,reducers:{setChartData(e,t){if(e.chartData=t.payload,t.payload==null){e.dataStartIndex=0,e.dataEndIndex=0;return}t.payload.length>0&&e.dataEndIndex!==t.payload.length-1&&(e.dataEndIndex=t.payload.length-1)},setComputedData(e,t){e.computedData=t.payload},setDataStartEndIndexes(e,t){var{startIndex:n,endIndex:r}=t.payload;n!=null&&(e.dataStartIndex=n),r!=null&&(e.dataEndIndex=r)}}}),{setChartData:LI,setDataStartEndIndexes:z_e,setComputedData:ZOe}=Gz.actions,U_e=Gz.reducer,F_e=["x","y"];function II(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function vd(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?II(Object(n),!0).forEach(function(r){H_e(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):II(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function H_e(e,t,n){return(t=G_e(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function G_e(e){var t=q_e(e,"string");return typeof t=="symbol"?t:t+""}function q_e(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Y_e(e,t){if(e==null)return{};var n,r,i=K_e(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function K_e(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function W_e(){var e=Je(xT),t=Je(_T),n=ur(),r=Je(T8),i=Je(Ps),a=_p(),o=Qv(),l=Je(u=>u.rootProps.className);w.useEffect(()=>{if(e==null)return gp;var u=(d,h,p)=>{if(t!==p&&e===d){if(r==="index"){var b;if(o&&h!==null&&h!==void 0&&(b=h.payload)!==null&&b!==void 0&&b.coordinate&&h.payload.sourceViewBox){var x=h.payload.coordinate,{x:k,y:S}=x,_=Y_e(x,F_e),{x:T,y:N,width:j,height:C}=h.payload.sourceViewBox,M=vd(vd({},_),{},{x:o.x+(j?(k-T)/j:0)*o.width,y:o.y+(C?(S-N)/C:0)*o.height});n(vd(vd({},h),{},{payload:vd(vd({},h.payload),{},{coordinate:M})}))}else n(h);return}if(i!=null){var P;if(typeof r=="function"){var $={activeTooltipIndex:h.payload.index==null?void 0:Number(h.payload.index),isTooltipActive:h.payload.active,activeIndex:h.payload.index==null?void 0:Number(h.payload.index),activeLabel:h.payload.label,activeDataKey:h.payload.dataKey,activeCoordinate:h.payload.coordinate},U=r(i,$);P=i[U]}else r==="value"&&(P=i.find(q=>String(q.value)===h.payload.label));var{coordinate:Y}=h.payload;if(P==null||h.payload.active===!1||Y==null||o==null){n(UE({active:!1,coordinate:void 0,dataKey:void 0,index:null,label:void 0,sourceViewBox:void 0,graphicalItemId:void 0}));return}var{x:W,y:H}=Y,z=Math.min(W,o.x+o.width),V=Math.min(H,o.y+o.height),X={x:a==="horizontal"?P.coordinate:z,y:a==="horizontal"?V:P.coordinate},Z=UE({active:h.payload.active,coordinate:X,dataKey:h.payload.dataKey,index:String(P.index),label:h.payload.label,sourceViewBox:h.payload.sourceViewBox,graphicalItemId:h.payload.graphicalItemId});n(Z)}}};return Xm.on(GE,u),()=>{Xm.off(GE,u)}},[l,n,t,e,r,i,a,o])}function V_e(){var e=Je(xT),t=Je(_T),n=ur();w.useEffect(()=>{if(e==null)return gp;var r=(i,a,o)=>{t!==o&&e===i&&n(z_e(a))};return Xm.on(RI,r),()=>{Xm.off(RI,r)}},[n,t,e])}function Z_e(){var e=ur();w.useEffect(()=>{e(I_e())},[e]),W_e(),V_e()}function X_e(e,t,n,r,i,a){var o=Je(x=>r_e(x,e,t)),l=Je(_T),u=Je(xT),d=Je(T8),h=Je($_e),p=h?.active,b=Qv();w.useEffect(()=>{if(!p&&u!=null&&l!=null){var x=UE({active:a,coordinate:n,dataKey:o,index:i,label:typeof r=="number"?String(r):r,sourceViewBox:b,graphicalItemId:void 0});Xm.emit(GE,u,x,l)}},[p,n,o,i,r,l,u,d,a,b])}function $I(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function BI(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?$I(Object(n),!0).forEach(function(r){J_e(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):$I(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function J_e(e,t,n){return(t=Q_e(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Q_e(e){var t=ewe(e,"string");return typeof t=="symbol"?t:t+""}function ewe(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function twe(e){return e.dataKey}function nwe(e,t){return w.isValidElement(e)?w.cloneElement(e,t):typeof e=="function"?w.createElement(e,t):w.createElement(Ppe,t)}var zI=[],rwe={allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",axisId:0,contentStyle:{},cursor:!0,filterNull:!0,isAnimationActive:"auto",itemSorter:"name",itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,wrapperStyle:{}};function iwe(e){var t,n,r=qi(e,rwe),{active:i,allowEscapeViewBox:a,animationDuration:o,animationEasing:l,content:u,filterNull:d,isAnimationActive:h,offset:p,payloadUniqBy:b,position:x,reverseDirection:k,useTranslate3d:S,wrapperStyle:_,cursor:T,shared:N,trigger:j,defaultIndex:C,portal:M,axisId:P}=r,$=ur(),U=typeof C=="number"?String(C):C;w.useEffect(()=>{$(Qve({shared:N,trigger:j,axisId:P,active:i,defaultIndex:U}))},[$,N,j,P,i,U]);var Y=Qv(),W=S9(),H=Kve(N),{activeIndex:z,isActive:V}=(t=Je(he=>o_e(he,H,j,U)))!==null&&t!==void 0?t:{},X=Je(he=>a_e(he,H,j,U)),Z=Je(he=>zz(he,H,j,U)),q=Je(he=>i_e(he,H,j,U)),Q=X,ne=N_e(),ue=(n=i??V)!==null&&n!==void 0?n:!1,[se,B]=whe([Q,ue]),K=H==="axis"?Z:void 0;X_e(H,j,q,K,z,ue);var ie=M??ne;if(ie==null||Y==null||H==null)return null;var J=Q??zI;ue||(J=zI),d&&J.length&&(J=Wfe(J.filter(he=>he.value!=null&&(he.hide!==!0||r.includeHidden)),b,twe));var oe=J.length>0,fe=w.createElement(Upe,{allowEscapeViewBox:a,animationDuration:o,animationEasing:l,isAnimationActive:h,active:ue,coordinate:q,hasPayload:oe,offset:p,position:x,reverseDirection:k,useTranslate3d:S,viewBox:Y,wrapperStyle:_,lastBoundingBox:se,innerRef:B,hasPortalFromProps:!!M},nwe(u,BI(BI({},r),{},{payload:J,label:K,active:ue,activeIndex:z,coordinate:q,accessibilityLayer:W})));return w.createElement(w.Fragment,null,bu.createPortal(fe,ie),ue&&w.createElement(O_e,{cursor:T,tooltipEventType:H,coordinate:q,payload:J,index:z}))}function awe(e,t,n){return(t=owe(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function owe(e){var t=swe(e,"string");return typeof t=="symbol"?t:t+""}function swe(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class lwe{constructor(t){awe(this,"cache",new Map),this.maxSize=t}get(t){var n=this.cache.get(t);return n!==void 0&&(this.cache.delete(t),this.cache.set(t,n)),n}set(t,n){if(this.cache.has(t))this.cache.delete(t);else if(this.cache.size>=this.maxSize){var r=this.cache.keys().next().value;r!=null&&this.cache.delete(r)}this.cache.set(t,n)}clear(){this.cache.clear()}size(){return this.cache.size}}function UI(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function cwe(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?UI(Object(n),!0).forEach(function(r){uwe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):UI(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function uwe(e,t,n){return(t=dwe(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function dwe(e){var t=fwe(e,"string");return typeof t=="symbol"?t:t+""}function fwe(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var hwe={cacheSize:2e3,enableCache:!0},qz=cwe({},hwe),FI=new lwe(qz.cacheSize),mwe={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},HI="recharts_measurement_span";function pwe(e,t){var n=t.fontSize||"",r=t.fontFamily||"",i=t.fontWeight||"",a=t.fontStyle||"",o=t.letterSpacing||"",l=t.textTransform||"";return"".concat(e,"|").concat(n,"|").concat(r,"|").concat(i,"|").concat(a,"|").concat(o,"|").concat(l)}var GI=(e,t)=>{try{var n=document.getElementById(HI);n||(n=document.createElement("span"),n.setAttribute("id",HI),n.setAttribute("aria-hidden","true"),document.body.appendChild(n)),Object.assign(n.style,mwe,t),n.textContent="".concat(e);var r=n.getBoundingClientRect();return{width:r.width,height:r.height}}catch{return{width:0,height:0}}},vm=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t==null||bf.isSsr)return{width:0,height:0};if(!qz.enableCache)return GI(t,n);var r=pwe(t,n),i=FI.get(r);if(i)return i;var a=GI(t,n);return FI.set(r,a),a},qI=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,YI=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,gwe=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,bwe=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,Yz={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},ywe=Object.keys(Yz),Nd="NaN";function vwe(e,t){return e*Yz[t]}class oi{static parse(t){var n,[,r,i]=(n=bwe.exec(t))!==null&&n!==void 0?n:[];return new oi(parseFloat(r),i??"")}constructor(t,n){this.num=t,this.unit=n,this.num=t,this.unit=n,qa(t)&&(this.unit=""),n!==""&&!gwe.test(n)&&(this.num=NaN,this.unit=""),ywe.includes(n)&&(this.num=vwe(t,n),this.unit="px")}add(t){return this.unit!==t.unit?new oi(NaN,""):new oi(this.num+t.num,this.unit)}subtract(t){return this.unit!==t.unit?new oi(NaN,""):new oi(this.num-t.num,this.unit)}multiply(t){return this.unit!==""&&t.unit!==""&&this.unit!==t.unit?new oi(NaN,""):new oi(this.num*t.num,this.unit||t.unit)}divide(t){return this.unit!==""&&t.unit!==""&&this.unit!==t.unit?new oi(NaN,""):new oi(this.num/t.num,this.unit||t.unit)}toString(){return"".concat(this.num).concat(this.unit)}isNaN(){return qa(this.num)}}function Kz(e){if(e.includes(Nd))return Nd;for(var t=e;t.includes("*")||t.includes("/");){var n,[,r,i,a]=(n=qI.exec(t))!==null&&n!==void 0?n:[],o=oi.parse(r??""),l=oi.parse(a??""),u=i==="*"?o.multiply(l):o.divide(l);if(u.isNaN())return Nd;t=t.replace(qI,u.toString())}for(;t.includes("+")||/.-\d+(?:\.\d+)?/.test(t);){var d,[,h,p,b]=(d=YI.exec(t))!==null&&d!==void 0?d:[],x=oi.parse(h??""),k=oi.parse(b??""),S=p==="+"?x.add(k):x.subtract(k);if(S.isNaN())return Nd;t=t.replace(YI,S.toString())}return t}var KI=/\(([^()]*)\)/;function xwe(e){for(var t=e,n;(n=KI.exec(t))!=null;){var[,r]=n;t=t.replace(KI,Kz(r))}return t}function _we(e){var t=e.replace(/\s+/g,"");return t=xwe(t),t=Kz(t),t}function wwe(e){try{return _we(e)}catch{return Nd}}function MS(e){var t=wwe(e.slice(5,-1));return t===Nd?"":t}var Swe=["x","y","lineHeight","capHeight","fill","scaleToFit","textAnchor","verticalAnchor"],kwe=["dx","dy","angle","className","breakAll"];function qE(){return qE=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},qE.apply(null,arguments)}function WI(e,t){if(e==null)return{};var n,r,i=Ewe(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function Ewe(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var Wz=/[ \f\n\r\t\v\u2028\u2029]+/,Vz=e=>{var{children:t,breakAll:n,style:r}=e;try{var i=[];_r(t)||(n?i=t.toString().split(""):i=t.toString().split(Wz));var a=i.map(l=>({word:l,width:vm(l,r).width})),o=n?0:vm("",r).width;return{wordsWithComputedWidth:a,spaceWidth:o}}catch{return null}};function Awe(e){return e==="start"||e==="middle"||e==="end"||e==="inherit"}var Zz=(e,t,n,r)=>e.reduce((i,a)=>{var{word:o,width:l}=a,u=i[i.length-1];if(u&&l!=null&&(t==null||r||u.width+l+n<Number(t)))u.words.push(o),u.width+=l+n;else{var d={words:[o],width:l};i.push(d)}return i},[]),Xz=e=>e.reduce((t,n)=>t.width>n.width?t:n),Twe="",VI=(e,t,n,r,i,a,o,l)=>{var u=e.slice(0,t),d=Vz({breakAll:n,style:r,children:u+Twe});if(!d)return[!1,[]];var h=Zz(d.wordsWithComputedWidth,a,o,l),p=h.length>i||Xz(h).width>Number(a);return[p,h]},jwe=(e,t,n,r,i)=>{var{maxLines:a,children:o,style:l,breakAll:u}=e,d=Ve(a),h=String(o),p=Zz(t,r,n,i);if(!d||i)return p;var b=p.length>a||Xz(p).width>Number(r);if(!b)return p;for(var x=0,k=h.length-1,S=0,_;x<=k&&S<=h.length-1;){var T=Math.floor((x+k)/2),N=T-1,[j,C]=VI(h,N,u,l,a,r,n,i),[M]=VI(h,T,u,l,a,r,n,i);if(!j&&!M&&(x=T+1),j&&M&&(k=T-1),!j&&M){_=C;break}S++}return _||p},ZI=e=>{var t=_r(e)?[]:e.toString().split(Wz);return[{words:t,width:void 0}]},Owe=e=>{var{width:t,scaleToFit:n,children:r,style:i,breakAll:a,maxLines:o}=e;if((t||n)&&!bf.isSsr){var l,u,d=Vz({breakAll:a,children:r,style:i});if(d){var{wordsWithComputedWidth:h,spaceWidth:p}=d;l=h,u=p}else return ZI(r);return jwe({breakAll:a,children:r,maxLines:o,style:i},l,u,t,!!n)}return ZI(r)},Jz="#808080",Nwe={angle:0,breakAll:!1,capHeight:"0.71em",fill:Jz,lineHeight:"1em",scaleToFit:!1,textAnchor:"start",verticalAnchor:"end",x:0,y:0},YT=w.forwardRef((e,t)=>{var n=qi(e,Nwe),{x:r,y:i,lineHeight:a,capHeight:o,fill:l,scaleToFit:u,textAnchor:d,verticalAnchor:h}=n,p=WI(n,Swe),b=w.useMemo(()=>Owe({breakAll:p.breakAll,children:p.children,maxLines:p.maxLines,scaleToFit:u,style:p.style,width:p.width}),[p.breakAll,p.children,p.maxLines,u,p.style,p.width]),{dx:x,dy:k,angle:S,className:_,breakAll:T}=p,N=WI(p,kwe);if(!jo(r)||!jo(i)||b.length===0)return null;var j=Number(r)+(Ve(x)?x:0),C=Number(i)+(Ve(k)?k:0);if(!wn(j)||!wn(C))return null;var M;switch(h){case"start":M=MS("calc(".concat(o,")"));break;case"middle":M=MS("calc(".concat((b.length-1)/2," * -").concat(a," + (").concat(o," / 2))"));break;default:M=MS("calc(".concat(b.length-1," * -").concat(a,")"));break}var P=[];if(u){var $=b[0].width,{width:U}=p;P.push("scale(".concat(Ve(U)&&Ve($)?U/$:1,")"))}return S&&P.push("rotate(".concat(S,", ").concat(j,", ").concat(C,")")),P.length&&(N.transform=P.join(" ")),w.createElement("text",qE({},pa(N),{ref:t,x:j,y:C,className:Qt("recharts-text",_),textAnchor:d,fill:l.includes("url")?Jz:l}),b.map((Y,W)=>{var H=Y.words.join(T?"":" ");return w.createElement("tspan",{x:j,dy:W===0?M:a,key:"".concat(H,"-").concat(W)},H)}))});YT.displayName="Text";var Cwe=["labelRef"];function Mwe(e,t){if(e==null)return{};var n,r,i=Dwe(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function Dwe(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function XI(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function An(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?XI(Object(n),!0).forEach(function(r){Pwe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):XI(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Pwe(e,t,n){return(t=Rwe(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Rwe(e){var t=Lwe(e,"string");return typeof t=="symbol"?t:t+""}function Lwe(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function us(){return us=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},us.apply(null,arguments)}var Qz=w.createContext(null),Iwe=e=>{var{x:t,y:n,upperWidth:r,lowerWidth:i,width:a,height:o,children:l}=e,u=w.useMemo(()=>({x:t,y:n,upperWidth:r,lowerWidth:i,width:a,height:o}),[t,n,r,i,a,o]);return w.createElement(Qz.Provider,{value:u},l)},eU=()=>{var e=w.useContext(Qz),t=Qv();return e||f9(t)},$we=w.createContext(null),Bwe=()=>{var e=w.useContext($we),t=Je(M8);return e||t},zwe=e=>{var{value:t,formatter:n}=e,r=_r(e.children)?t:e.children;return typeof n=="function"?n(r):r},KT=e=>e!=null&&typeof e=="function",Uwe=(e,t)=>{var n=ua(t-e),r=Math.min(Math.abs(t-e),360);return n*r},Fwe=(e,t,n,r,i)=>{var{offset:a,className:o}=e,{cx:l,cy:u,innerRadius:d,outerRadius:h,startAngle:p,endAngle:b,clockWise:x}=i,k=(d+h)/2,S=Uwe(p,b),_=S>=0?1:-1,T,N;switch(t){case"insideStart":T=p+_*a,N=x;break;case"insideEnd":T=b-_*a,N=!x;break;case"end":T=b+_*a,N=x;break;default:throw new Error("Unsupported position ".concat(t))}N=S<=0?N:!N;var j=xr(l,u,k,T),C=xr(l,u,k,T+(N?1:-1)*359),M="M".concat(j.x,",").concat(j.y,`
    A`).concat(k,",").concat(k,",0,1,").concat(N?0:1,`,
    `).concat(C.x,",").concat(C.y),P=_r(e.id)?Im("recharts-radial-line-"):e.id;return w.createElement("text",us({},r,{dominantBaseline:"central",className:Qt("recharts-radial-bar-label",o)}),w.createElement("defs",null,w.createElement("path",{id:P,d:M})),w.createElement("textPath",{xlinkHref:"#".concat(P)},n))},Hwe=(e,t,n)=>{var{cx:r,cy:i,innerRadius:a,outerRadius:o,startAngle:l,endAngle:u}=e,d=(l+u)/2;if(n==="outside"){var{x:h,y:p}=xr(r,i,o+t,d);return{x:h,y:p,textAnchor:h>=r?"start":"end",verticalAnchor:"middle"}}if(n==="center")return{x:r,y:i,textAnchor:"middle",verticalAnchor:"middle"};if(n==="centerTop")return{x:r,y:i,textAnchor:"middle",verticalAnchor:"start"};if(n==="centerBottom")return{x:r,y:i,textAnchor:"middle",verticalAnchor:"end"};var b=(a+o)/2,{x,y:k}=xr(r,i,b,d);return{x,y:k,textAnchor:"middle",verticalAnchor:"middle"}},YE=e=>"cx"in e&&Ve(e.cx),Gwe=(e,t)=>{var{parentViewBox:n,offset:r,position:i}=e,a;n!=null&&!YE(n)&&(a=n);var{x:o,y:l,upperWidth:u,lowerWidth:d,height:h}=t,p=o,b=o+(u-d)/2,x=(p+b)/2,k=(u+d)/2,S=p+u/2,_=h>=0?1:-1,T=_*r,N=_>0?"end":"start",j=_>0?"start":"end",C=u>=0?1:-1,M=C*r,P=C>0?"end":"start",$=C>0?"start":"end";if(i==="top"){var U={x:p+u/2,y:l-T,textAnchor:"middle",verticalAnchor:N};return An(An({},U),a?{height:Math.max(l-a.y,0),width:u}:{})}if(i==="bottom"){var Y={x:b+d/2,y:l+h+T,textAnchor:"middle",verticalAnchor:j};return An(An({},Y),a?{height:Math.max(a.y+a.height-(l+h),0),width:d}:{})}if(i==="left"){var W={x:x-M,y:l+h/2,textAnchor:P,verticalAnchor:"middle"};return An(An({},W),a?{width:Math.max(W.x-a.x,0),height:h}:{})}if(i==="right"){var H={x:x+k+M,y:l+h/2,textAnchor:$,verticalAnchor:"middle"};return An(An({},H),a?{width:Math.max(a.x+a.width-H.x,0),height:h}:{})}var z=a?{width:k,height:h}:{};return i==="insideLeft"?An({x:x+M,y:l+h/2,textAnchor:$,verticalAnchor:"middle"},z):i==="insideRight"?An({x:x+k-M,y:l+h/2,textAnchor:P,verticalAnchor:"middle"},z):i==="insideTop"?An({x:p+u/2,y:l+T,textAnchor:"middle",verticalAnchor:j},z):i==="insideBottom"?An({x:b+d/2,y:l+h-T,textAnchor:"middle",verticalAnchor:N},z):i==="insideTopLeft"?An({x:p+M,y:l+T,textAnchor:$,verticalAnchor:j},z):i==="insideTopRight"?An({x:p+u-M,y:l+T,textAnchor:P,verticalAnchor:j},z):i==="insideBottomLeft"?An({x:b+M,y:l+h-T,textAnchor:$,verticalAnchor:N},z):i==="insideBottomRight"?An({x:b+d-M,y:l+h-T,textAnchor:P,verticalAnchor:N},z):i&&typeof i=="object"&&(Ve(i.x)||xs(i.x))&&(Ve(i.y)||xs(i.y))?An({x:o+Il(i.x,k),y:l+Il(i.y,h),textAnchor:"end",verticalAnchor:"end"},z):An({x:S,y:l+h/2,textAnchor:"middle",verticalAnchor:"middle"},z)},qwe={angle:0,offset:5,zIndex:Fr.label,position:"middle",textBreakAll:!1};function Sl(e){var t=qi(e,qwe),{viewBox:n,position:r,value:i,children:a,content:o,className:l="",textBreakAll:u,labelRef:d}=t,h=Bwe(),p=eU(),b=r==="center"?p:h??p,x,k,S;if(n==null?x=b:YE(n)?x=n:x=f9(n),!x||_r(i)&&_r(a)&&!w.isValidElement(o)&&typeof o!="function")return null;var _=An(An({},t),{},{viewBox:x});if(w.isValidElement(o)){var{labelRef:T}=_,N=Mwe(_,Cwe);return w.cloneElement(o,N)}if(typeof o=="function"){if(k=w.createElement(o,_),w.isValidElement(k))return k}else k=zwe(t);var j=pa(t);if(YE(x)){if(r==="insideStart"||r==="insideEnd"||r==="end")return Fwe(t,r,k,j,x);S=Hwe(x,t.offset,t.position)}else S=Gwe(t,x);return w.createElement(Rs,{zIndex:t.zIndex},w.createElement(YT,us({ref:d,className:Qt("recharts-label",l)},j,S,{textAnchor:Awe(j.textAnchor)?j.textAnchor:S.textAnchor,breakAll:u}),k))}Sl.displayName="Label";var Ywe=(e,t,n)=>{if(!e)return null;var r={viewBox:t,labelRef:n};return e===!0?w.createElement(Sl,us({key:"label-implicit"},r)):jo(e)?w.createElement(Sl,us({key:"label-implicit",value:e},r)):w.isValidElement(e)?e.type===Sl?w.cloneElement(e,An({key:"label-implicit"},r)):w.createElement(Sl,us({key:"label-implicit",content:e},r)):KT(e)?w.createElement(Sl,us({key:"label-implicit",content:e},r)):e&&typeof e=="object"?w.createElement(Sl,us({},e,{key:"label-implicit"},r)):null};function Kwe(e){var{label:t,labelRef:n}=e,r=eU();return Ywe(t,r,n)||null}var DS={},PS={},JI;function Wwe(){return JI||(JI=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return n[n.length-1]}e.last=t})(PS)),PS}var RS={},QI;function Vwe(){return QI||(QI=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return Array.isArray(n)?n:Array.from(n)}e.toArray=t})(RS)),RS}var e3;function Zwe(){return e3||(e3=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Wwe(),n=Vwe(),r=RA();function i(a){if(r.isArrayLike(a))return t.last(n.toArray(a))}e.last=i})(DS)),DS}var LS,t3;function Xwe(){return t3||(t3=1,LS=Zwe().last),LS}var Jwe=Xwe();const Qwe=hi(Jwe);var e1e=["valueAccessor"],t1e=["dataKey","clockWise","id","textBreakAll","zIndex"];function qy(){return qy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},qy.apply(null,arguments)}function n3(e,t){if(e==null)return{};var n,r,i=n1e(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function n1e(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var r1e=e=>Array.isArray(e.value)?Qwe(e.value):e.value,tU=w.createContext(void 0),i1e=tU.Provider,nU=w.createContext(void 0);nU.Provider;function a1e(){return w.useContext(tU)}function o1e(){return w.useContext(nU)}function jb(e){var{valueAccessor:t=r1e}=e,n=n3(e,e1e),{dataKey:r,clockWise:i,id:a,textBreakAll:o,zIndex:l}=n,u=n3(n,t1e),d=a1e(),h=o1e(),p=d||h;return!p||!p.length?null:w.createElement(Rs,{zIndex:l??Fr.label},w.createElement(To,{className:"recharts-label-list"},p.map((b,x)=>{var k,S=_r(r)?t(b,x):Cr(b&&b.payload,r),_=_r(a)?{}:{id:"".concat(a,"-").concat(x)};return w.createElement(Sl,qy({key:"label-".concat(x)},pa(b),u,_,{fill:(k=n.fill)!==null&&k!==void 0?k:b.fill,parentViewBox:b.parentViewBox,value:S,textBreakAll:o,viewBox:b.viewBox,index:x,zIndex:0}))})))}jb.displayName="LabelList";function s1e(e){var{label:t}=e;return t?t===!0?w.createElement(jb,{key:"labelList-implicit"}):w.isValidElement(t)||KT(t)?w.createElement(jb,{key:"labelList-implicit",content:t}):typeof t=="object"?w.createElement(jb,qy({key:"labelList-implicit"},t,{type:String(t.type)})):null:null}function KE(){return KE=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},KE.apply(null,arguments)}var rU=e=>{var{cx:t,cy:n,r,className:i}=e,a=Qt("recharts-dot",i);return Ve(t)&&Ve(n)&&Ve(r)?w.createElement("circle",KE({},Ga(e),PA(e),{className:a,cx:t,cy:n,r})):null},l1e={radiusAxis:{},angleAxis:{}},iU=mi({name:"polarAxis",initialState:l1e,reducers:{addRadiusAxis(e,t){e.radiusAxis[t.payload.id]=t.payload},removeRadiusAxis(e,t){delete e.radiusAxis[t.payload.id]},addAngleAxis(e,t){e.angleAxis[t.payload.id]=t.payload},removeAngleAxis(e,t){delete e.angleAxis[t.payload.id]}}}),{addRadiusAxis:XOe,removeRadiusAxis:JOe,addAngleAxis:QOe,removeAngleAxis:eNe}=iU.actions,c1e=iU.reducer,IS={exports:{}},Ct={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var r3;function u1e(){if(r3)return Ct;r3=1;var e=typeof Symbol=="function"&&Symbol.for,t=e?Symbol.for("react.element"):60103,n=e?Symbol.for("react.portal"):60106,r=e?Symbol.for("react.fragment"):60107,i=e?Symbol.for("react.strict_mode"):60108,a=e?Symbol.for("react.profiler"):60114,o=e?Symbol.for("react.provider"):60109,l=e?Symbol.for("react.context"):60110,u=e?Symbol.for("react.async_mode"):60111,d=e?Symbol.for("react.concurrent_mode"):60111,h=e?Symbol.for("react.forward_ref"):60112,p=e?Symbol.for("react.suspense"):60113,b=e?Symbol.for("react.suspense_list"):60120,x=e?Symbol.for("react.memo"):60115,k=e?Symbol.for("react.lazy"):60116,S=e?Symbol.for("react.block"):60121,_=e?Symbol.for("react.fundamental"):60117,T=e?Symbol.for("react.responder"):60118,N=e?Symbol.for("react.scope"):60119;function j(M){if(typeof M=="object"&&M!==null){var P=M.$$typeof;switch(P){case t:switch(M=M.type,M){case u:case d:case r:case a:case i:case p:return M;default:switch(M=M&&M.$$typeof,M){case l:case h:case k:case x:case o:return M;default:return P}}case n:return P}}}function C(M){return j(M)===d}return Ct.AsyncMode=u,Ct.ConcurrentMode=d,Ct.ContextConsumer=l,Ct.ContextProvider=o,Ct.Element=t,Ct.ForwardRef=h,Ct.Fragment=r,Ct.Lazy=k,Ct.Memo=x,Ct.Portal=n,Ct.Profiler=a,Ct.StrictMode=i,Ct.Suspense=p,Ct.isAsyncMode=function(M){return C(M)||j(M)===u},Ct.isConcurrentMode=C,Ct.isContextConsumer=function(M){return j(M)===l},Ct.isContextProvider=function(M){return j(M)===o},Ct.isElement=function(M){return typeof M=="object"&&M!==null&&M.$$typeof===t},Ct.isForwardRef=function(M){return j(M)===h},Ct.isFragment=function(M){return j(M)===r},Ct.isLazy=function(M){return j(M)===k},Ct.isMemo=function(M){return j(M)===x},Ct.isPortal=function(M){return j(M)===n},Ct.isProfiler=function(M){return j(M)===a},Ct.isStrictMode=function(M){return j(M)===i},Ct.isSuspense=function(M){return j(M)===p},Ct.isValidElementType=function(M){return typeof M=="string"||typeof M=="function"||M===r||M===d||M===a||M===i||M===p||M===b||typeof M=="object"&&M!==null&&(M.$$typeof===k||M.$$typeof===x||M.$$typeof===o||M.$$typeof===l||M.$$typeof===h||M.$$typeof===_||M.$$typeof===T||M.$$typeof===N||M.$$typeof===S)},Ct.typeOf=j,Ct}var i3;function d1e(){return i3||(i3=1,IS.exports=u1e()),IS.exports}d1e();var aU=e=>e&&typeof e=="object"&&"clipDot"in e?!!e.clipDot:!0;function f1e(e){var{tooltipEntrySettings:t}=e,n=ur(),r=pi(),i=w.useRef(null);return w.useLayoutEffect(()=>{r||(i.current===null?n(Zve(t)):i.current!==t&&n(Xve({prev:i.current,next:t})),i.current=t)},[t,n,r]),w.useLayoutEffect(()=>()=>{i.current&&(n(Jve(i.current)),i.current=null)},[n]),null}function h1e(e){var{legendPayload:t}=e,n=ur(),r=pi(),i=w.useRef(null);return w.useLayoutEffect(()=>{r||(i.current===null?n(Ape(t)):i.current!==t&&n(Tpe({prev:i.current,next:t})),i.current=t)},[n,r,t]),w.useLayoutEffect(()=>()=>{i.current&&(n(jpe(i.current)),i.current=null)},[n]),null}var $S,m1e=()=>{var[e]=w.useState(()=>Im("uid-"));return e},p1e=($S=zH.useId)!==null&&$S!==void 0?$S:m1e;function oU(e,t){var n=p1e();return t||(e?"".concat(e,"-").concat(n):n)}var g1e=w.createContext(void 0),b1e=e=>{var{id:t,type:n,children:r}=e,i=oU("recharts-".concat(n),t);return w.createElement(g1e.Provider,{value:i},r(i))},y1e={cartesianItems:[],polarItems:[]},sU=mi({name:"graphicalItems",initialState:y1e,reducers:{addCartesianGraphicalItem:{reducer(e,t){e.cartesianItems.push(t.payload)},prepare:an()},replaceCartesianGraphicalItem:{reducer(e,t){var{prev:n,next:r}=t.payload,i=Ua(e).cartesianItems.indexOf(n);i>-1&&(e.cartesianItems[i]=r)},prepare:an()},removeCartesianGraphicalItem:{reducer(e,t){var n=Ua(e).cartesianItems.indexOf(t.payload);n>-1&&e.cartesianItems.splice(n,1)},prepare:an()},addPolarGraphicalItem:{reducer(e,t){e.polarItems.push(t.payload)},prepare:an()},removePolarGraphicalItem:{reducer(e,t){var n=Ua(e).polarItems.indexOf(t.payload);n>-1&&e.polarItems.splice(n,1)},prepare:an()}}}),{addCartesianGraphicalItem:v1e,replaceCartesianGraphicalItem:x1e,removeCartesianGraphicalItem:_1e,addPolarGraphicalItem:tNe,removePolarGraphicalItem:nNe}=sU.actions,w1e=sU.reducer,S1e=e=>{var t=ur(),n=w.useRef(null);return w.useLayoutEffect(()=>{n.current===null?t(v1e(e)):n.current!==e&&t(x1e({prev:n.current,next:e})),n.current=e},[t,e]),w.useLayoutEffect(()=>()=>{n.current&&(t(_1e(n.current)),n.current=null)},[t]),null},k1e=w.memo(S1e),E1e=["points"];function a3(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function BS(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?a3(Object(n),!0).forEach(function(r){A1e(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a3(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function A1e(e,t,n){return(t=T1e(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function T1e(e){var t=j1e(e,"string");return typeof t=="symbol"?t:t+""}function j1e(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Yy(){return Yy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Yy.apply(null,arguments)}function O1e(e,t){if(e==null)return{};var n,r,i=N1e(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function N1e(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function C1e(e){var{option:t,dotProps:n,className:r}=e;if(w.isValidElement(t))return w.cloneElement(t,n);if(typeof t=="function")return t(n);var i=Qt(r,typeof t!="boolean"?t.className:""),a=n??{},{points:o}=a,l=O1e(a,E1e);return w.createElement(rU,Yy({},l,{className:i}))}function M1e(e,t){return e==null?!1:t?!0:e.length===1}function D1e(e){var{points:t,dot:n,className:r,dotClassName:i,dataKey:a,baseProps:o,needClip:l,clipPathId:u,zIndex:d=Fr.scatter}=e;if(!M1e(t,n))return null;var h=aU(n),p=Fde(n),b=t.map((k,S)=>{var _,T,N=BS(BS(BS({r:3},o),p),{},{index:S,cx:(_=k.x)!==null&&_!==void 0?_:void 0,cy:(T=k.y)!==null&&T!==void 0?T:void 0,dataKey:a,value:k.value,payload:k.payload,points:t});return w.createElement(C1e,{key:"dot-".concat(S),option:n,dotProps:N,className:i})}),x={};return l&&u!=null&&(x.clipPath="url(#clipPath-".concat(h?"":"dots-").concat(u,")")),w.createElement(Rs,{zIndex:d},w.createElement(To,Yy({className:r},x),b))}function o3(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function s3(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?o3(Object(n),!0).forEach(function(r){P1e(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o3(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function P1e(e,t,n){return(t=R1e(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function R1e(e){var t=L1e(e,"string");return typeof t=="symbol"?t:t+""}function L1e(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var I1e={xAxis:{},yAxis:{},zAxis:{}},lU=mi({name:"cartesianAxis",initialState:I1e,reducers:{addXAxis:{reducer(e,t){e.xAxis[t.payload.id]=t.payload},prepare:an()},replaceXAxis:{reducer(e,t){var{prev:n,next:r}=t.payload;e.xAxis[n.id]!==void 0&&(n.id!==r.id&&delete e.xAxis[n.id],e.xAxis[r.id]=r)},prepare:an()},removeXAxis:{reducer(e,t){delete e.xAxis[t.payload.id]},prepare:an()},addYAxis:{reducer(e,t){e.yAxis[t.payload.id]=t.payload},prepare:an()},replaceYAxis:{reducer(e,t){var{prev:n,next:r}=t.payload;e.yAxis[n.id]!==void 0&&(n.id!==r.id&&delete e.yAxis[n.id],e.yAxis[r.id]=r)},prepare:an()},removeYAxis:{reducer(e,t){delete e.yAxis[t.payload.id]},prepare:an()},addZAxis:{reducer(e,t){e.zAxis[t.payload.id]=t.payload},prepare:an()},replaceZAxis:{reducer(e,t){var{prev:n,next:r}=t.payload;e.zAxis[n.id]!==void 0&&(n.id!==r.id&&delete e.zAxis[n.id],e.zAxis[r.id]=r)},prepare:an()},removeZAxis:{reducer(e,t){delete e.zAxis[t.payload.id]},prepare:an()},updateYAxisWidth(e,t){var{id:n,width:r}=t.payload,i=e.yAxis[n];if(i){var a=i.widthHistory||[];if(a.length===3&&a[0]===a[2]&&r===a[1]&&r!==i.width&&Math.abs(r-a[0])<=1)return;var o=[...a,r].slice(-3);e.yAxis[n]=s3(s3({},e.yAxis[n]),{},{width:r,widthHistory:o})}}}}),{addXAxis:$1e,replaceXAxis:B1e,removeXAxis:z1e,addYAxis:U1e,replaceYAxis:F1e,removeYAxis:H1e,addZAxis:rNe,replaceZAxis:iNe,removeZAxis:aNe,updateYAxisWidth:G1e}=lU.actions,q1e=lU.reducer,Y1e=_e([kr],e=>({top:e.top,bottom:e.bottom,left:e.left,right:e.right})),K1e=_e([Y1e,Os,Ns],(e,t,n)=>{if(!(!e||t==null||n==null))return{x:e.left,y:e.top,width:Math.max(0,t-e.left-e.right),height:Math.max(0,n-e.top-e.bottom)}}),WT=()=>Je(K1e),W1e=()=>Je(Gxe);function l3(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function zS(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?l3(Object(n),!0).forEach(function(r){V1e(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):l3(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function V1e(e,t,n){return(t=Z1e(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Z1e(e){var t=X1e(e,"string");return typeof t=="symbol"?t:t+""}function X1e(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var J1e=e=>{var{point:t,childIndex:n,mainColor:r,activeDot:i,dataKey:a,clipPath:o}=e;if(i===!1||t.x==null||t.y==null)return null;var l={index:n,dataKey:a,cx:t.x,cy:t.y,r:4,fill:r??"none",strokeWidth:2,stroke:"#fff",payload:t.payload,value:t.value},u=zS(zS(zS({},l),Lv(i)),PA(i)),d;return w.isValidElement(i)?d=w.cloneElement(i,u):typeof i=="function"?d=i(u):d=w.createElement(rU,u),w.createElement(To,{className:"recharts-active-dot",clipPath:o},d)};function c3(e){var{points:t,mainColor:n,activeDot:r,itemDataKey:i,clipPath:a,zIndex:o=Fr.activeDot}=e,l=Je(Zm),u=W1e();if(t==null||u==null)return null;var d=t.find(h=>u.includes(h.payload));return _r(d)?null:w.createElement(Rs,{zIndex:o},w.createElement(J1e,{point:d,childIndex:Number(l),mainColor:n,dataKey:i,activeDot:r,clipPath:a}))}var Q1e={},cU=mi({name:"errorBars",initialState:Q1e,reducers:{addErrorBar:(e,t)=>{var{itemId:n,errorBar:r}=t.payload;e[n]||(e[n]=[]),e[n].push(r)},replaceErrorBar:(e,t)=>{var{itemId:n,prev:r,next:i}=t.payload;e[n]&&(e[n]=e[n].map(a=>a.dataKey===r.dataKey&&a.direction===r.direction?i:a))},removeErrorBar:(e,t)=>{var{itemId:n,errorBar:r}=t.payload;e[n]&&(e[n]=e[n].filter(i=>i.dataKey!==r.dataKey||i.direction!==r.direction))}}}),{addErrorBar:oNe,replaceErrorBar:sNe,removeErrorBar:lNe}=cU.actions,eSe=cU.reducer;function uU(e,t){var n,r,i=Je(d=>Ms(d,e)),a=Je(d=>Ds(d,t)),o=(n=i?.allowDataOverflow)!==null&&n!==void 0?n:rr.allowDataOverflow,l=(r=a?.allowDataOverflow)!==null&&r!==void 0?r:ir.allowDataOverflow,u=o||l;return{needClip:u,needClipX:o,needClipY:l}}function tSe(e){var{xAxisId:t,yAxisId:n,clipPathId:r}=e,i=WT(),{needClipX:a,needClipY:o,needClip:l}=uU(t,n);if(!l||!i)return null;var{x:u,y:d,width:h,height:p}=i;return w.createElement("clipPath",{id:"clipPath-".concat(r)},w.createElement("rect",{x:a?u:u-h/2,y:o?d:d-p/2,width:a?h:h*2,height:o?p:p*2}))}var nSe=new Set(["axisLine","tickLine","activeBar","activeDot","activeLabel","activeShape","allowEscapeViewBox","background","cursor","dot","label","line","margin","padding","position","shape","style","tick","wrapperStyle"]);function rSe(e,t){return e==null&&t==null?!0:typeof e=="number"&&typeof t=="number"?e===t||e!==e&&t!==t:e===t}function VT(e,t){var n=new Set([...Object.keys(e),...Object.keys(t)]);for(var r of n)if(nSe.has(r)){if(e[r]==null&&t[r]==null)continue;if(!xb(e[r],t[r]))return!1}else if(!rSe(e[r],t[r]))return!1;return!0}var iSe=e=>{var{chartData:t}=e,n=ur(),r=pi();return w.useEffect(()=>r?()=>{}:(n(LI(t)),()=>{n(LI(void 0))}),[t,n,r]),null},u3={x:0,y:0,width:0,height:0,padding:{top:0,right:0,bottom:0,left:0}},dU=mi({name:"brush",initialState:u3,reducers:{setBrushSettings(e,t){return t.payload==null?u3:t.payload}}}),{setBrushSettings:cNe}=dU.actions,aSe=dU.reducer;function oSe(e,t,n){return(t=sSe(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function sSe(e){var t=lSe(e,"string");return typeof t=="symbol"?t:t+""}function lSe(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class ZT{static create(t){return new ZT(t)}constructor(t){this.scale=t}get domain(){return this.scale.domain}get range(){return this.scale.range}get rangeMin(){return this.range()[0]}get rangeMax(){return this.range()[1]}get bandwidth(){return this.scale.bandwidth}apply(t){var{bandAware:n,position:r}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t!==void 0){if(r)switch(r){case"start":return this.scale(t);case"middle":{var i=this.bandwidth?this.bandwidth()/2:0;return this.scale(t)+i}case"end":{var a=this.bandwidth?this.bandwidth():0;return this.scale(t)+a}default:return this.scale(t)}if(n){var o=this.bandwidth?this.bandwidth()/2:0;return this.scale(t)+o}return this.scale(t)}}isInRange(t){var n=this.range(),r=n[0],i=n[n.length-1];return r<=i?t>=r&&t<=i:t>=i&&t<=r}}oSe(ZT,"EPS",1e-4);function cSe(e){return(e%180+180)%180}var uSe=function(t){var{width:n,height:r}=t,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,a=cSe(i),o=a*Math.PI/180,l=Math.atan(r/n),u=o>l&&o<Math.PI-l?r/Math.sin(o):n/Math.cos(o);return Math.abs(u)},dSe={dots:[],areas:[],lines:[]},fU=mi({name:"referenceElements",initialState:dSe,reducers:{addDot:(e,t)=>{e.dots.push(t.payload)},removeDot:(e,t)=>{var n=Ua(e).dots.findIndex(r=>r===t.payload);n!==-1&&e.dots.splice(n,1)},addArea:(e,t)=>{e.areas.push(t.payload)},removeArea:(e,t)=>{var n=Ua(e).areas.findIndex(r=>r===t.payload);n!==-1&&e.areas.splice(n,1)},addLine:(e,t)=>{e.lines.push(t.payload)},removeLine:(e,t)=>{var n=Ua(e).lines.findIndex(r=>r===t.payload);n!==-1&&e.lines.splice(n,1)}}}),{addDot:uNe,removeDot:dNe,addArea:fNe,removeArea:hNe,addLine:mNe,removeLine:pNe}=fU.actions,fSe=fU.reducer,hSe=w.createContext(void 0),mSe=e=>{var{children:t}=e,[n]=w.useState("".concat(Im("recharts"),"-clip")),r=WT();if(r==null)return null;var{x:i,y:a,width:o,height:l}=r;return w.createElement(hSe.Provider,{value:n},w.createElement("defs",null,w.createElement("clipPath",{id:n},w.createElement("rect",{x:i,y:a,height:l,width:o}))),t)};function hU(e,t){if(t<1)return[];if(t===1)return e;for(var n=[],r=0;r<e.length;r+=t)n.push(e[r]);return n}function pSe(e,t,n){var r={width:e.width+t.width,height:e.height+t.height};return uSe(r,n)}function gSe(e,t,n){var r=n==="width",{x:i,y:a,width:o,height:l}=e;return t===1?{start:r?i:a,end:r?i+o:a+l}:{start:r?i+o:a+l,end:r?i:a}}function Ky(e,t,n,r,i){if(e*t<e*r||e*t>e*i)return!1;var a=n();return e*(t-e*a/2-r)>=0&&e*(t+e*a/2-i)<=0}function bSe(e,t){return hU(e,t+1)}function ySe(e,t,n,r,i){for(var a=(r||[]).slice(),{start:o,end:l}=t,u=0,d=1,h=o,p=function(){var k=r?.[u];if(k===void 0)return{v:hU(r,d)};var S=u,_,T=()=>(_===void 0&&(_=n(k,S)),_),N=k.coordinate,j=u===0||Ky(e,N,T,h,l);j||(u=0,h=o,d+=1),j&&(h=N+e*(T()/2+i),u+=d)},b;d<=a.length;)if(b=p(),b)return b.v;return[]}function d3(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Or(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?d3(Object(n),!0).forEach(function(r){vSe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):d3(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function vSe(e,t,n){return(t=xSe(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function xSe(e){var t=_Se(e,"string");return typeof t=="symbol"?t:t+""}function _Se(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function wSe(e,t,n,r,i){for(var a=(r||[]).slice(),o=a.length,{start:l}=t,{end:u}=t,d=function(b){var x=a[b],k,S=()=>(k===void 0&&(k=n(x,b)),k);if(b===o-1){var _=e*(x.coordinate+e*S()/2-u);a[b]=x=Or(Or({},x),{},{tickCoord:_>0?x.coordinate-_*e:x.coordinate})}else a[b]=x=Or(Or({},x),{},{tickCoord:x.coordinate});if(x.tickCoord!=null){var T=Ky(e,x.tickCoord,S,l,u);T&&(u=x.tickCoord-e*(S()/2+i),a[b]=Or(Or({},x),{},{isShow:!0}))}},h=o-1;h>=0;h--)d(h);return a}function SSe(e,t,n,r,i,a){var o=(r||[]).slice(),l=o.length,{start:u,end:d}=t;if(a){var h=r[l-1],p=n(h,l-1),b=e*(h.coordinate+e*p/2-d);if(o[l-1]=h=Or(Or({},h),{},{tickCoord:b>0?h.coordinate-b*e:h.coordinate}),h.tickCoord!=null){var x=Ky(e,h.tickCoord,()=>p,u,d);x&&(d=h.tickCoord-e*(p/2+i),o[l-1]=Or(Or({},h),{},{isShow:!0}))}}for(var k=a?l-1:l,S=function(N){var j=o[N],C,M=()=>(C===void 0&&(C=n(j,N)),C);if(N===0){var P=e*(j.coordinate-e*M()/2-u);o[N]=j=Or(Or({},j),{},{tickCoord:P<0?j.coordinate-P*e:j.coordinate})}else o[N]=j=Or(Or({},j),{},{tickCoord:j.coordinate});if(j.tickCoord!=null){var $=Ky(e,j.tickCoord,M,u,d);$&&(u=j.tickCoord+e*(M()/2+i),o[N]=Or(Or({},j),{},{isShow:!0}))}},_=0;_<k;_++)S(_);return o}function XT(e,t,n){var{tick:r,ticks:i,viewBox:a,minTickGap:o,orientation:l,interval:u,tickFormatter:d,unit:h,angle:p}=e;if(!i||!i.length||!r)return[];if(Ve(u)||bf.isSsr){var b;return(b=bSe(i,Ve(u)?u:0))!==null&&b!==void 0?b:[]}var x=[],k=l==="top"||l==="bottom"?"width":"height",S=h&&k==="width"?vm(h,{fontSize:t,letterSpacing:n}):{width:0,height:0},_=(j,C)=>{var M=typeof d=="function"?d(j.value,C):j.value;return k==="width"?pSe(vm(M,{fontSize:t,letterSpacing:n}),S,p):vm(M,{fontSize:t,letterSpacing:n})[k]},T=i.length>=2?ua(i[1].coordinate-i[0].coordinate):1,N=gSe(a,T,k);return u==="equidistantPreserveStart"?ySe(T,N,_,i,o):(u==="preserveStart"||u==="preserveStartEnd"?x=SSe(T,N,_,i,o,u==="preserveStartEnd"):x=wSe(T,N,_,i,o),x.filter(j=>j.isShow))}var kSe=e=>{var{ticks:t,label:n,labelGapWithTick:r=5,tickSize:i=0,tickMargin:a=0}=e,o=0;if(t){Array.from(t).forEach(h=>{if(h){var p=h.getBoundingClientRect();p.width>o&&(o=p.width)}});var l=n?n.getBoundingClientRect().width:0,u=i+a,d=o+u+l+(n?r:0);return Math.round(d)}return 0},ESe=["axisLine","width","height","className","hide","ticks","axisType"];function ASe(e,t){if(e==null)return{};var n,r,i=TSe(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function TSe(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function hu(){return hu=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},hu.apply(null,arguments)}function f3(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function $n(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?f3(Object(n),!0).forEach(function(r){jSe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):f3(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function jSe(e,t,n){return(t=OSe(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function OSe(e){var t=NSe(e,"string");return typeof t=="symbol"?t:t+""}function NSe(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var gs={x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd",zIndex:Fr.axis};function CSe(e){var{x:t,y:n,width:r,height:i,orientation:a,mirror:o,axisLine:l,otherSvgProps:u}=e;if(!l)return null;var d=$n($n($n({},u),Ga(l)),{},{fill:"none"});if(a==="top"||a==="bottom"){var h=+(a==="top"&&!o||a==="bottom"&&o);d=$n($n({},d),{},{x1:t,y1:n+h*i,x2:t+r,y2:n+h*i})}else{var p=+(a==="left"&&!o||a==="right"&&o);d=$n($n({},d),{},{x1:t+p*r,y1:n,x2:t+p*r,y2:n+i})}return w.createElement("line",hu({},d,{className:Qt("recharts-cartesian-axis-line",Bv(l,"className"))}))}function MSe(e,t,n,r,i,a,o,l,u){var d,h,p,b,x,k,S=l?-1:1,_=e.tickSize||o,T=Ve(e.tickCoord)?e.tickCoord:e.coordinate;switch(a){case"top":d=h=e.coordinate,b=n+ +!l*i,p=b-S*_,k=p-S*u,x=T;break;case"left":p=b=e.coordinate,h=t+ +!l*r,d=h-S*_,x=d-S*u,k=T;break;case"right":p=b=e.coordinate,h=t+ +l*r,d=h+S*_,x=d+S*u,k=T;break;default:d=h=e.coordinate,b=n+ +l*i,p=b+S*_,k=p+S*u,x=T;break}return{line:{x1:d,y1:p,x2:h,y2:b},tick:{x,y:k}}}function DSe(e,t){switch(e){case"left":return t?"start":"end";case"right":return t?"end":"start";default:return"middle"}}function PSe(e,t){switch(e){case"left":case"right":return"middle";case"top":return t?"start":"end";default:return t?"end":"start"}}function RSe(e){var{option:t,tickProps:n,value:r}=e,i,a=Qt(n.className,"recharts-cartesian-axis-tick-value");if(w.isValidElement(t))i=w.cloneElement(t,$n($n({},n),{},{className:a}));else if(typeof t=="function")i=t($n($n({},n),{},{className:a}));else{var o="recharts-cartesian-axis-tick-value";typeof t!="boolean"&&(o=Qt(o,t?.className)),i=w.createElement(YT,hu({},n,{className:o}),r)}return i}var LSe=w.forwardRef((e,t)=>{var{ticks:n=[],tick:r,tickLine:i,stroke:a,tickFormatter:o,unit:l,padding:u,tickTextProps:d,orientation:h,mirror:p,x:b,y:x,width:k,height:S,tickSize:_,tickMargin:T,fontSize:N,letterSpacing:j,getTicksConfig:C,events:M,axisType:P}=e,$=XT($n($n({},C),{},{ticks:n}),N,j),U=DSe(h,p),Y=PSe(h,p),W=Ga(C),H=Lv(r),z={};typeof i=="object"&&(z=i);var V=$n($n({},W),{},{fill:"none"},z),X=$.map(Q=>$n({entry:Q},MSe(Q,b,x,k,S,h,_,p,T))),Z=X.map(Q=>{var{entry:ne,line:ue}=Q;return w.createElement(To,{className:"recharts-cartesian-axis-tick",key:"tick-".concat(ne.value,"-").concat(ne.coordinate,"-").concat(ne.tickCoord)},i&&w.createElement("line",hu({},V,ue,{className:Qt("recharts-cartesian-axis-tick-line",Bv(i,"className"))})))}),q=X.map((Q,ne)=>{var{entry:ue,tick:se}=Q,B=$n($n($n($n({textAnchor:U,verticalAnchor:Y},W),{},{stroke:"none",fill:a},H),se),{},{index:ne,payload:ue,visibleTicksCount:$.length,tickFormatter:o,padding:u},d);return w.createElement(To,hu({className:"recharts-cartesian-axis-tick-label",key:"tick-label-".concat(ue.value,"-").concat(ue.coordinate,"-").concat(ue.tickCoord)},kfe(M,ue,ne)),r&&w.createElement(RSe,{option:r,tickProps:B,value:"".concat(typeof o=="function"?o(ue.value,ne):ue.value).concat(l||"")}))});return w.createElement("g",{className:"recharts-cartesian-axis-ticks recharts-".concat(P,"-ticks")},q.length>0&&w.createElement(Rs,{zIndex:Fr.label},w.createElement("g",{className:"recharts-cartesian-axis-tick-labels recharts-".concat(P,"-tick-labels"),ref:t},q)),Z.length>0&&w.createElement("g",{className:"recharts-cartesian-axis-tick-lines recharts-".concat(P,"-tick-lines")},Z))}),ISe=w.forwardRef((e,t)=>{var{axisLine:n,width:r,height:i,className:a,hide:o,ticks:l,axisType:u}=e,d=ASe(e,ESe),[h,p]=w.useState(""),[b,x]=w.useState(""),k=w.useRef(null);w.useImperativeHandle(t,()=>({getCalculatedWidth:()=>{var _;return kSe({ticks:k.current,label:(_=e.labelRef)===null||_===void 0?void 0:_.current,labelGapWithTick:5,tickSize:e.tickSize,tickMargin:e.tickMargin})}}));var S=w.useCallback(_=>{if(_){var T=_.getElementsByClassName("recharts-cartesian-axis-tick-value");k.current=T;var N=T[0];if(N){var j=window.getComputedStyle(N),C=j.fontSize,M=j.letterSpacing;(C!==h||M!==b)&&(p(C),x(M))}}},[h,b]);return o||r!=null&&r<=0||i!=null&&i<=0?null:w.createElement(Rs,{zIndex:e.zIndex},w.createElement(To,{className:Qt("recharts-cartesian-axis",a)},w.createElement(CSe,{x:e.x,y:e.y,width:r,height:i,orientation:e.orientation,mirror:e.mirror,axisLine:n,otherSvgProps:Ga(e)}),w.createElement(LSe,{ref:S,axisType:u,events:d,fontSize:h,getTicksConfig:e,height:e.height,letterSpacing:b,mirror:e.mirror,orientation:e.orientation,padding:e.padding,stroke:e.stroke,tick:e.tick,tickFormatter:e.tickFormatter,tickLine:e.tickLine,tickMargin:e.tickMargin,tickSize:e.tickSize,tickTextProps:e.tickTextProps,ticks:l,unit:e.unit,width:e.width,x:e.x,y:e.y}),w.createElement(Iwe,{x:e.x,y:e.y,width:e.width,height:e.height,lowerWidth:e.width,upperWidth:e.width},w.createElement(Kwe,{label:e.label,labelRef:e.labelRef}),e.children)))}),JT=w.forwardRef((e,t)=>{var n=qi(e,gs);return w.createElement(ISe,hu({},n,{ref:t}))});JT.displayName="CartesianAxis";var $Se=["x1","y1","x2","y2","key"],BSe=["offset"],zSe=["xAxisId","yAxisId"],USe=["xAxisId","yAxisId"];function h3(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Nr(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?h3(Object(n),!0).forEach(function(r){FSe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):h3(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function FSe(e,t,n){return(t=HSe(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function HSe(e){var t=GSe(e,"string");return typeof t=="symbol"?t:t+""}function GSe(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function tu(){return tu=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},tu.apply(null,arguments)}function Wy(e,t){if(e==null)return{};var n,r,i=qSe(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function qSe(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var YSe=e=>{var{fill:t}=e;if(!t||t==="none")return null;var{fillOpacity:n,x:r,y:i,width:a,height:o,ry:l}=e;return w.createElement("rect",{x:r,y:i,ry:l,width:a,height:o,stroke:"none",fill:t,fillOpacity:n,className:"recharts-cartesian-grid-bg"})};function mU(e){var{option:t,lineItemProps:n}=e,r;if(w.isValidElement(t))r=w.cloneElement(t,n);else if(typeof t=="function")r=t(n);else{var i,{x1:a,y1:o,x2:l,y2:u,key:d}=n,h=Wy(n,$Se),p=(i=Ga(h))!==null&&i!==void 0?i:{},{offset:b}=p,x=Wy(p,BSe);r=w.createElement("line",tu({},x,{x1:a,y1:o,x2:l,y2:u,fill:"none",key:d}))}return r}function KSe(e){var{x:t,width:n,horizontal:r=!0,horizontalPoints:i}=e;if(!r||!i||!i.length)return null;var{xAxisId:a,yAxisId:o}=e,l=Wy(e,zSe),u=i.map((d,h)=>{var p=Nr(Nr({},l),{},{x1:t,y1:d,x2:t+n,y2:d,key:"line-".concat(h),index:h});return w.createElement(mU,{key:"line-".concat(h),option:r,lineItemProps:p})});return w.createElement("g",{className:"recharts-cartesian-grid-horizontal"},u)}function WSe(e){var{y:t,height:n,vertical:r=!0,verticalPoints:i}=e;if(!r||!i||!i.length)return null;var{xAxisId:a,yAxisId:o}=e,l=Wy(e,USe),u=i.map((d,h)=>{var p=Nr(Nr({},l),{},{x1:d,y1:t,x2:d,y2:t+n,key:"line-".concat(h),index:h});return w.createElement(mU,{option:r,lineItemProps:p,key:"line-".concat(h)})});return w.createElement("g",{className:"recharts-cartesian-grid-vertical"},u)}function VSe(e){var{horizontalFill:t,fillOpacity:n,x:r,y:i,width:a,height:o,horizontalPoints:l,horizontal:u=!0}=e;if(!u||!t||!t.length||l==null)return null;var d=l.map(p=>Math.round(p+i-i)).sort((p,b)=>p-b);i!==d[0]&&d.unshift(0);var h=d.map((p,b)=>{var x=!d[b+1],k=x?i+o-p:d[b+1]-p;if(k<=0)return null;var S=b%t.length;return w.createElement("rect",{key:"react-".concat(b),y:p,x:r,height:k,width:a,stroke:"none",fill:t[S],fillOpacity:n,className:"recharts-cartesian-grid-bg"})});return w.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},h)}function ZSe(e){var{vertical:t=!0,verticalFill:n,fillOpacity:r,x:i,y:a,width:o,height:l,verticalPoints:u}=e;if(!t||!n||!n.length)return null;var d=u.map(p=>Math.round(p+i-i)).sort((p,b)=>p-b);i!==d[0]&&d.unshift(0);var h=d.map((p,b)=>{var x=!d[b+1],k=x?i+o-p:d[b+1]-p;if(k<=0)return null;var S=b%n.length;return w.createElement("rect",{key:"react-".concat(b),x:p,y:a,width:k,height:l,stroke:"none",fill:n[S],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return w.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},h)}var XSe=(e,t)=>{var{xAxis:n,width:r,height:i,offset:a}=e;return i9(XT(Nr(Nr(Nr({},gs),n),{},{ticks:a9(n),viewBox:{x:0,y:0,width:r,height:i}})),a.left,a.left+a.width,t)},JSe=(e,t)=>{var{yAxis:n,width:r,height:i,offset:a}=e;return i9(XT(Nr(Nr(Nr({},gs),n),{},{ticks:a9(n),viewBox:{x:0,y:0,width:r,height:i}})),a.top,a.top+a.height,t)},QSe={horizontal:!0,vertical:!0,horizontalPoints:[],verticalPoints:[],stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[],xAxisId:0,yAxisId:0,syncWithTicks:!1,zIndex:Fr.grid};function pU(e){var t=m9(),n=p9(),r=h9(),i=Nr(Nr({},qi(e,QSe)),{},{x:Ve(e.x)?e.x:r.left,y:Ve(e.y)?e.y:r.top,width:Ve(e.width)?e.width:r.width,height:Ve(e.height)?e.height:r.height}),{xAxisId:a,yAxisId:o,x:l,y:u,width:d,height:h,syncWithTicks:p,horizontalValues:b,verticalValues:x}=i,k=pi(),S=Je(Y=>kI(Y,"xAxis",a,k)),_=Je(Y=>kI(Y,"yAxis",o,k));if(!Oo(d)||!Oo(h)||!Ve(l)||!Ve(u))return null;var T=i.verticalCoordinatesGenerator||XSe,N=i.horizontalCoordinatesGenerator||JSe,{horizontalPoints:j,verticalPoints:C}=i;if((!j||!j.length)&&typeof N=="function"){var M=b&&b.length,P=N({yAxis:_?Nr(Nr({},_),{},{ticks:M?b:_.ticks}):void 0,width:t??d,height:n??h,offset:r},M?!0:p);Sy(Array.isArray(P),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(typeof P,"]")),Array.isArray(P)&&(j=P)}if((!C||!C.length)&&typeof T=="function"){var $=x&&x.length,U=T({xAxis:S?Nr(Nr({},S),{},{ticks:$?x:S.ticks}):void 0,width:t??d,height:n??h,offset:r},$?!0:p);Sy(Array.isArray(U),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(typeof U,"]")),Array.isArray(U)&&(C=U)}return w.createElement(Rs,{zIndex:i.zIndex},w.createElement("g",{className:"recharts-cartesian-grid"},w.createElement(YSe,{fill:i.fill,fillOpacity:i.fillOpacity,x:i.x,y:i.y,width:i.width,height:i.height,ry:i.ry}),w.createElement(VSe,tu({},i,{horizontalPoints:j})),w.createElement(ZSe,tu({},i,{verticalPoints:C})),w.createElement(KSe,tu({},i,{offset:r,horizontalPoints:j,xAxis:S,yAxis:_})),w.createElement(WSe,tu({},i,{offset:r,verticalPoints:C,xAxis:S,yAxis:_}))))}pU.displayName="CartesianGrid";function eke(e){var t=Lv(e),n=3,r=2;if(t!=null){var{r:i,strokeWidth:a}=t,o=Number(i),l=Number(a);return(Number.isNaN(o)||o<0)&&(o=n),(Number.isNaN(l)||l<0)&&(l=r),{r:o,strokeWidth:l}}return{r:n,strokeWidth:r}}var gU=(e,t,n,r)=>gz(e,"xAxis",t,r),bU=(e,t,n,r)=>pz(e,"xAxis",t,r),yU=(e,t,n,r)=>gz(e,"yAxis",n,r),vU=(e,t,n,r)=>pz(e,"yAxis",n,r),tke=_e([Wt,gU,yU,bU,vU],(e,t,n,r,i)=>js(e,"xAxis")?wy(t,r,!1):wy(n,i,!1)),nke=(e,t,n,r,i)=>i,xU=_e([$8,nke],(e,t)=>e.filter(n=>n.type==="area").find(n=>n.id===t)),rke=(e,t,n,r,i)=>{var a,o=xU(e,t,n,r,i);if(o!=null){var l=Wt(e),u=js(l,"xAxis"),d;if(u?d=zE(e,"yAxis",n,r):d=zE(e,"xAxis",t,r),d!=null){var{stackId:h}=o,p=ET(o);if(!(h==null||p==null)){var b=(a=d[h])===null||a===void 0?void 0:a.stackedData;return b?.find(x=>x.key===p)}}}},ike=_e([Wt,gU,yU,bU,vU,rke,gT,tke,xU,Uye],(e,t,n,r,i,a,o,l,u,d)=>{var{chartData:h,dataStartIndex:p,dataEndIndex:b}=o;if(!(u==null||e!=="horizontal"&&e!=="vertical"||t==null||n==null||r==null||i==null||r.length===0||i.length===0||l==null)){var{data:x}=u,k;if(x&&x.length>0?k=x:k=h?.slice(p,b+1),k!=null)return Ske({layout:e,xAxis:t,yAxis:n,xAxisTicks:r,yAxisTicks:i,dataStartIndex:p,areaSettings:u,stackedData:a,displayedData:k,chartBaseValue:d,bandSize:l})}}),ake=["id"],oke=["activeDot","animationBegin","animationDuration","animationEasing","connectNulls","dot","fill","fillOpacity","hide","isAnimationActive","legendType","stroke","xAxisId","yAxisId"];function ou(){return ou=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ou.apply(null,arguments)}function _U(e,t){if(e==null)return{};var n,r,i=ske(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function ske(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function m3(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Cd(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?m3(Object(n),!0).forEach(function(r){lke(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):m3(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function lke(e,t,n){return(t=cke(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function cke(e){var t=uke(e,"string");return typeof t=="symbol"?t:t+""}function uke(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Vy(e,t){return e&&e!=="none"?e:t}var dke=e=>{var{dataKey:t,name:n,stroke:r,fill:i,legendType:a,hide:o}=e;return[{inactive:o,dataKey:t,type:a,color:Vy(r,i),value:o9(n,t),payload:e}]},fke=w.memo(e=>{var{dataKey:t,data:n,stroke:r,strokeWidth:i,fill:a,name:o,hide:l,unit:u,tooltipType:d}=e,h={dataDefinedOnItem:n,positions:void 0,settings:{stroke:r,strokeWidth:i,fill:a,dataKey:t,nameKey:void 0,name:o9(o,t),hide:l,type:d,color:Vy(r,a),unit:u}};return w.createElement(f1e,{tooltipEntrySettings:h})});function hke(e){var{clipPathId:t,points:n,props:r}=e,{needClip:i,dot:a,dataKey:o}=r,l=Ga(r);return w.createElement(D1e,{points:n,dot:a,className:"recharts-area-dots",dotClassName:"recharts-area-dot",dataKey:o,baseProps:l,needClip:i,clipPathId:t})}function mke(e){var{showLabels:t,children:n,points:r}=e,i=r.map(a=>{var o,l,u={x:(o=a.x)!==null&&o!==void 0?o:0,y:(l=a.y)!==null&&l!==void 0?l:0,width:0,lowerWidth:0,upperWidth:0,height:0};return Cd(Cd({},u),{},{value:a.value,payload:a.payload,parentViewBox:void 0,viewBox:u,fill:void 0})});return w.createElement(i1e,{value:t?i:void 0},n)}function p3(e){var{points:t,baseLine:n,needClip:r,clipPathId:i,props:a}=e,{layout:o,type:l,stroke:u,connectNulls:d,isRange:h}=a,{id:p}=a,b=_U(a,ake),x=Ga(b),k=pa(b);return w.createElement(w.Fragment,null,t?.length>1&&w.createElement(To,{clipPath:r?"url(#clipPath-".concat(i,")"):void 0},w.createElement(Ab,ou({},k,{id:p,points:t,connectNulls:d,type:l,baseLine:n,layout:o,stroke:"none",className:"recharts-area-area"})),u!=="none"&&w.createElement(Ab,ou({},x,{className:"recharts-area-curve",layout:o,type:l,connectNulls:d,fill:"none",points:t})),u!=="none"&&h&&w.createElement(Ab,ou({},x,{className:"recharts-area-curve",layout:o,type:l,connectNulls:d,fill:"none",points:n}))),w.createElement(hke,{points:t,props:b,clipPathId:i}))}function pke(e){var{alpha:t,baseLine:n,points:r,strokeWidth:i}=e,a=r[0].y,o=r[r.length-1].y;if(!wn(a)||!wn(o))return null;var l=t*Math.abs(a-o),u=Math.max(...r.map(d=>d.x||0));return Ve(n)?u=Math.max(n,u):n&&Array.isArray(n)&&n.length&&(u=Math.max(...n.map(d=>d.x||0),u)),Ve(u)?w.createElement("rect",{x:0,y:a<o?a:a-l,width:u+(i?parseInt("".concat(i),10):1),height:Math.floor(l)}):null}function gke(e){var{alpha:t,baseLine:n,points:r,strokeWidth:i}=e,a=r[0].x,o=r[r.length-1].x;if(!wn(a)||!wn(o))return null;var l=t*Math.abs(a-o),u=Math.max(...r.map(d=>d.y||0));return Ve(n)?u=Math.max(n,u):n&&Array.isArray(n)&&n.length&&(u=Math.max(...n.map(d=>d.y||0),u)),Ve(u)?w.createElement("rect",{x:a<o?a:a-l,y:0,width:l,height:Math.floor(u+(i?parseInt("".concat(i),10):1))}):null}function bke(e){var{alpha:t,layout:n,points:r,baseLine:i,strokeWidth:a}=e;return n==="vertical"?w.createElement(pke,{alpha:t,points:r,baseLine:i,strokeWidth:a}):w.createElement(gke,{alpha:t,points:r,baseLine:i,strokeWidth:a})}function yke(e){var{needClip:t,clipPathId:n,props:r,previousPointsRef:i,previousBaselineRef:a}=e,{points:o,baseLine:l,isAnimationActive:u,animationBegin:d,animationDuration:h,animationEasing:p,onAnimationStart:b,onAnimationEnd:x}=r,k=w.useMemo(()=>({points:o,baseLine:l}),[o,l]),S=j9(k,"recharts-area-"),_=fpe(),[T,N]=w.useState(!1),j=!T,C=w.useCallback(()=>{typeof x=="function"&&x(),N(!1)},[x]),M=w.useCallback(()=>{typeof b=="function"&&b(),N(!0)},[b]);if(_==null)return null;var P=i.current,$=a.current;return w.createElement(mke,{showLabels:j,points:o},r.children,w.createElement(T9,{animationId:S,begin:d,duration:h,isActive:u,easing:p,onAnimationEnd:C,onAnimationStart:M,key:S},U=>{if(P){var Y=P.length/o.length,W=U===1?o:o.map((z,V)=>{var X=Math.floor(V*Y);if(P[X]){var Z=P[X];return Cd(Cd({},z),{},{x:vo(Z.x,z.x,U),y:vo(Z.y,z.y,U)})}return z}),H;return Ve(l)?H=vo($,l,U):_r(l)||qa(l)?H=vo($,0,U):H=l.map((z,V)=>{var X=Math.floor(V*Y);if(Array.isArray($)&&$[X]){var Z=$[X];return Cd(Cd({},z),{},{x:vo(Z.x,z.x,U),y:vo(Z.y,z.y,U)})}return z}),U>0&&(i.current=W,a.current=H),w.createElement(p3,{points:W,baseLine:H,needClip:t,clipPathId:n,props:r})}return U>0&&(i.current=o,a.current=l),w.createElement(To,null,u&&w.createElement("defs",null,w.createElement("clipPath",{id:"animationClipPath-".concat(n)},w.createElement(bke,{alpha:U,points:o,baseLine:l,layout:_,strokeWidth:r.strokeWidth}))),w.createElement(To,{clipPath:"url(#animationClipPath-".concat(n,")")},w.createElement(p3,{points:o,baseLine:l,needClip:t,clipPathId:n,props:r})))}),w.createElement(s1e,{label:r.label}))}function vke(e){var{needClip:t,clipPathId:n,props:r}=e,i=w.useRef(null),a=w.useRef();return w.createElement(yke,{needClip:t,clipPathId:n,props:r,previousPointsRef:i,previousBaselineRef:a})}class xke extends w.PureComponent{render(){var{hide:t,dot:n,points:r,className:i,top:a,left:o,needClip:l,xAxisId:u,yAxisId:d,width:h,height:p,id:b,baseLine:x,zIndex:k}=this.props;if(t)return null;var S=Qt("recharts-area",i),_=b,{r:T,strokeWidth:N}=eke(n),j=aU(n),C=T*2+N,M=l?"url(#clipPath-".concat(j?"":"dots-").concat(_,")"):void 0;return w.createElement(Rs,{zIndex:k},w.createElement(To,{className:S},l&&w.createElement("defs",null,w.createElement(tSe,{clipPathId:_,xAxisId:u,yAxisId:d}),!j&&w.createElement("clipPath",{id:"clipPath-dots-".concat(_)},w.createElement("rect",{x:o-C/2,y:a-C/2,width:h+C,height:p+C}))),w.createElement(vke,{needClip:l,clipPathId:_,props:this.props})),w.createElement(c3,{points:r,mainColor:Vy(this.props.stroke,this.props.fill),itemDataKey:this.props.dataKey,activeDot:this.props.activeDot,clipPath:M}),this.props.isRange&&Array.isArray(x)&&w.createElement(c3,{points:x,mainColor:Vy(this.props.stroke,this.props.fill),itemDataKey:this.props.dataKey,activeDot:this.props.activeDot,clipPath:M}))}}var wU={activeDot:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",connectNulls:!1,dot:!1,fill:"#3182bd",fillOpacity:.6,hide:!1,isAnimationActive:"auto",legendType:"line",stroke:"#3182bd",strokeWidth:1,type:"linear",label:!1,xAxisId:0,yAxisId:0,zIndex:Fr.area};function _ke(e){var t,n=qi(e,wU),{activeDot:r,animationBegin:i,animationDuration:a,animationEasing:o,connectNulls:l,dot:u,fill:d,fillOpacity:h,hide:p,isAnimationActive:b,legendType:x,stroke:k,xAxisId:S,yAxisId:_}=n,T=_U(n,oke),N=_p(),j=Iz(),{needClip:C}=uU(S,_),M=pi(),{points:P,isRange:$,baseLine:U}=(t=Je(X=>ike(X,S,_,M,e.id)))!==null&&t!==void 0?t:{},Y=WT();if(N!=="horizontal"&&N!=="vertical"||Y==null||j!=="AreaChart"&&j!=="ComposedChart")return null;var{height:W,width:H,x:z,y:V}=Y;return!P||!P.length?null:w.createElement(xke,ou({},T,{activeDot:r,animationBegin:i,animationDuration:a,animationEasing:o,baseLine:U,connectNulls:l,dot:u,fill:d,fillOpacity:h,height:W,hide:p,layout:N,isAnimationActive:b==="auto"?!bf.isSsr:b,isRange:$,legendType:x,needClip:C,points:P,stroke:k,width:H,left:z,top:V,xAxisId:S,yAxisId:_}))}var wke=(e,t,n,r,i)=>{var a=n??t;if(Ve(a))return a;var o=e==="horizontal"?i:r,l=o.scale.domain();if(o.type==="number"){var u=Math.max(l[0],l[1]),d=Math.min(l[0],l[1]);return a==="dataMin"?d:a==="dataMax"||u<0?u:Math.max(Math.min(l[0],l[1]),0)}return a==="dataMin"?l[0]:a==="dataMax"?l[1]:l[0]};function Ske(e){var{areaSettings:{connectNulls:t,baseValue:n,dataKey:r},stackedData:i,layout:a,chartBaseValue:o,xAxis:l,yAxis:u,displayedData:d,dataStartIndex:h,xAxisTicks:p,yAxisTicks:b,bandSize:x}=e,k=i&&i.length,S=wke(a,o,n,l,u),_=a==="horizontal",T=!1,N=d.map((C,M)=>{var P;k?P=i[h+M]:(P=Cr(C,r),Array.isArray(P)?T=!0:P=[S,P]);var $=P[1]==null||k&&!t&&Cr(C,r)==null;return _?{x:KR({axis:l,ticks:p,bandSize:x,entry:C,index:M}),y:$?null:u.scale(P[1]),value:P,payload:C}:{x:$?null:l.scale(P[1]),y:KR({axis:u,ticks:b,bandSize:x,entry:C,index:M}),value:P,payload:C}}),j;return k||T?j=N.map(C=>{var M=Array.isArray(C.value)?C.value[0]:null;return _?{x:C.x,y:M!=null&&C.y!=null?u.scale(M):null,payload:C.payload}:{x:M!=null?l.scale(M):null,y:C.y,payload:C.payload}}):j=_?u.scale(S):l.scale(S),{points:N,baseLine:j,isRange:T}}function kke(e){var t=qi(e,wU),n=pi();return w.createElement(b1e,{id:t.id,type:"area"},r=>w.createElement(w.Fragment,null,w.createElement(h1e,{legendPayload:dke(t)}),w.createElement(fke,{dataKey:t.dataKey,data:t.data,stroke:t.stroke,strokeWidth:t.strokeWidth,fill:t.fill,name:t.name,hide:t.hide,unit:t.unit,tooltipType:t.tooltipType}),w.createElement(k1e,{type:"area",id:r,data:t.data,dataKey:t.dataKey,xAxisId:t.xAxisId,yAxisId:t.yAxisId,zAxisId:0,stackId:jme(t.stackId),hide:t.hide,barSize:void 0,baseValue:t.baseValue,isPanorama:n,connectNulls:t.connectNulls}),w.createElement(_ke,ou({},t,{id:r}))))}var SU=w.memo(kke,VT);SU.displayName="Area";var Eke=["domain","range"],Ake=["domain","range"];function g3(e,t){if(e==null)return{};var n,r,i=Tke(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function Tke(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function b3(e,t){return e===t?!0:Array.isArray(e)&&e.length===2&&Array.isArray(t)&&t.length===2?e[0]===t[0]&&e[1]===t[1]:!1}function kU(e,t){if(e===t)return!0;var{domain:n,range:r}=e,i=g3(e,Eke),{domain:a,range:o}=t,l=g3(t,Ake);return!b3(n,a)||!b3(r,o)?!1:VT(i,l)}var jke=["dangerouslySetInnerHTML","ticks"],Oke=["id"];function WE(){return WE=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},WE.apply(null,arguments)}function y3(e,t){if(e==null)return{};var n,r,i=Nke(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function Nke(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function Cke(e){var t=ur(),n=w.useRef(null);return w.useLayoutEffect(()=>{n.current===null?t($1e(e)):n.current!==e&&t(B1e({prev:n.current,next:e})),n.current=e},[e,t]),w.useLayoutEffect(()=>()=>{n.current&&(t(z1e(n.current)),n.current=null)},[t]),null}var Mke=e=>{var{xAxisId:t,className:n}=e,r=Je(l9),i=pi(),a="xAxis",o=Je(_=>Sf(_,a,t,i)),l=Je(_=>mz(_,a,t,i)),u=Je(_=>Dve(_,t)),d=Je(_=>Bve(_,t)),h=Je(_=>P8(_,t));if(u==null||d==null||h==null)return null;var{dangerouslySetInnerHTML:p,ticks:b}=e,x=y3(e,jke),{id:k}=h,S=y3(h,Oke);return w.createElement(JT,WE({},x,S,{scale:o,x:d.x,y:d.y,width:u.width,height:u.height,className:Qt("recharts-".concat(a," ").concat(a),n),viewBox:r,ticks:l,axisType:a}))},Dke={allowDataOverflow:rr.allowDataOverflow,allowDecimals:rr.allowDecimals,allowDuplicatedCategory:rr.allowDuplicatedCategory,angle:rr.angle,axisLine:gs.axisLine,height:rr.height,hide:!1,includeHidden:rr.includeHidden,interval:rr.interval,minTickGap:rr.minTickGap,mirror:rr.mirror,orientation:rr.orientation,padding:rr.padding,reversed:rr.reversed,scale:rr.scale,tick:rr.tick,tickCount:rr.tickCount,tickLine:gs.tickLine,tickSize:gs.tickSize,type:rr.type,xAxisId:0},Pke=e=>{var t=qi(e,Dke);return w.createElement(w.Fragment,null,w.createElement(Cke,{allowDataOverflow:t.allowDataOverflow,allowDecimals:t.allowDecimals,allowDuplicatedCategory:t.allowDuplicatedCategory,angle:t.angle,dataKey:t.dataKey,domain:t.domain,height:t.height,hide:t.hide,id:t.xAxisId,includeHidden:t.includeHidden,interval:t.interval,minTickGap:t.minTickGap,mirror:t.mirror,name:t.name,orientation:t.orientation,padding:t.padding,reversed:t.reversed,scale:t.scale,tick:t.tick,tickCount:t.tickCount,tickFormatter:t.tickFormatter,ticks:t.ticks,type:t.type,unit:t.unit}),w.createElement(Mke,t))},EU=w.memo(Pke,kU);EU.displayName="XAxis";var Rke=["dangerouslySetInnerHTML","ticks"],Lke=["id"];function VE(){return VE=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},VE.apply(null,arguments)}function v3(e,t){if(e==null)return{};var n,r,i=Ike(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function Ike(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function $ke(e){var t=ur(),n=w.useRef(null);return w.useLayoutEffect(()=>{n.current===null?t(U1e(e)):n.current!==e&&t(F1e({prev:n.current,next:e})),n.current=e},[e,t]),w.useLayoutEffect(()=>()=>{n.current&&(t(H1e(n.current)),n.current=null)},[t]),null}var Bke=e=>{var{yAxisId:t,className:n,width:r,label:i}=e,a=w.useRef(null),o=w.useRef(null),l=Je(l9),u=pi(),d=ur(),h="yAxis",p=Je(M=>Sf(M,h,t,u)),b=Je(M=>Fve(M,t)),x=Je(M=>Uve(M,t)),k=Je(M=>mz(M,h,t,u)),S=Je(M=>R8(M,t));if(w.useLayoutEffect(()=>{if(!(r!=="auto"||!b||KT(i)||w.isValidElement(i)||S==null)){var M=a.current;if(M){var P=M.getCalculatedWidth();Math.round(b.width)!==Math.round(P)&&d(G1e({id:t,width:P}))}}},[k,b,d,i,t,r,S]),b==null||x==null||S==null)return null;var{dangerouslySetInnerHTML:_,ticks:T}=e,N=v3(e,Rke),{id:j}=S,C=v3(S,Lke);return w.createElement(JT,VE({},N,C,{ref:a,labelRef:o,scale:p,x:x.x,y:x.y,tickTextProps:r==="auto"?{width:void 0}:{width:r},width:b.width,height:b.height,className:Qt("recharts-".concat(h," ").concat(h),n),viewBox:l,ticks:k,axisType:h}))},zke={allowDataOverflow:ir.allowDataOverflow,allowDecimals:ir.allowDecimals,allowDuplicatedCategory:ir.allowDuplicatedCategory,angle:ir.angle,axisLine:gs.axisLine,hide:!1,includeHidden:ir.includeHidden,interval:ir.interval,minTickGap:ir.minTickGap,mirror:ir.mirror,orientation:ir.orientation,padding:ir.padding,reversed:ir.reversed,scale:ir.scale,tick:ir.tick,tickCount:ir.tickCount,tickLine:gs.tickLine,tickSize:gs.tickSize,type:ir.type,width:ir.width,yAxisId:0},Uke=e=>{var t=qi(e,zke);return w.createElement(w.Fragment,null,w.createElement($ke,{interval:t.interval,id:t.yAxisId,scale:t.scale,type:t.type,domain:t.domain,allowDataOverflow:t.allowDataOverflow,dataKey:t.dataKey,allowDuplicatedCategory:t.allowDuplicatedCategory,allowDecimals:t.allowDecimals,tickCount:t.tickCount,padding:t.padding,includeHidden:t.includeHidden,reversed:t.reversed,ticks:t.ticks,width:t.width,orientation:t.orientation,mirror:t.mirror,hide:t.hide,unit:t.unit,name:t.name,angle:t.angle,minTickGap:t.minTickGap,tick:t.tick,tickFormatter:t.tickFormatter}),w.createElement(Bke,t))},AU=w.memo(Uke,kU);AU.displayName="YAxis";var Fke=(e,t)=>t,QT=_e([Fke,Wt,M8,Zn,Cz,Ps,n_e,kr],c_e),ej=e=>{var t=e.currentTarget.getBoundingClientRect(),n=t.width/e.currentTarget.offsetWidth,r=t.height/e.currentTarget.offsetHeight;return{chartX:Math.round((e.clientX-t.left)/n),chartY:Math.round((e.clientY-t.top)/r)}},TU=ga("mouseClick"),jU=vp();jU.startListening({actionCreator:TU,effect:(e,t)=>{var n=e.payload,r=QT(t.getState(),ej(n));r?.activeIndex!=null&&t.dispatch(txe({activeIndex:r.activeIndex,activeDataKey:void 0,activeCoordinate:r.activeCoordinate}))}});var ZE=ga("mouseMove"),OU=vp(),ob=null;OU.startListening({actionCreator:ZE,effect:(e,t)=>{var n=e.payload;ob!==null&&cancelAnimationFrame(ob);var r=ej(n);ob=requestAnimationFrame(()=>{var i=t.getState(),a=LT(i,i.tooltip.settings.shared);if(a==="axis"){var o=QT(i,r);o?.activeIndex!=null?t.dispatch(Sz({activeIndex:o.activeIndex,activeDataKey:void 0,activeCoordinate:o.activeCoordinate})):t.dispatch(wz())}ob=null})}});var x3={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,barSize:void 0,className:void 0,maxBarSize:void 0,stackOffset:"none",syncId:void 0,syncMethod:"index",baseValue:void 0,reverseStackOrder:!1},NU=mi({name:"rootProps",initialState:x3,reducers:{updateOptions:(e,t)=>{var n;e.accessibilityLayer=t.payload.accessibilityLayer,e.barCategoryGap=t.payload.barCategoryGap,e.barGap=(n=t.payload.barGap)!==null&&n!==void 0?n:x3.barGap,e.barSize=t.payload.barSize,e.maxBarSize=t.payload.maxBarSize,e.stackOffset=t.payload.stackOffset,e.syncId=t.payload.syncId,e.syncMethod=t.payload.syncMethod,e.className=t.payload.className,e.baseValue=t.payload.baseValue,e.reverseStackOrder=t.payload.reverseStackOrder}}}),Hke=NU.reducer,{updateOptions:Gke}=NU.actions,CU=mi({name:"polarOptions",initialState:null,reducers:{updatePolarOptions:(e,t)=>t.payload}}),{updatePolarOptions:gNe}=CU.actions,qke=CU.reducer,MU=ga("keyDown"),DU=ga("focus"),tj=vp();tj.startListening({actionCreator:MU,effect:(e,t)=>{var n=t.getState(),r=n.rootProps.accessibilityLayer!==!1;if(r){var{keyboardInteraction:i}=n.tooltip,a=e.payload;if(!(a!=="ArrowRight"&&a!=="ArrowLeft"&&a!=="Enter")){var o=IT(i,Ef(n),Op(n),Pp(n)),l=o==null?-1:Number(o);if(!(!Number.isFinite(l)||l<0)){var u=Ps(n);if(a==="Enter"){var d=Gy(n,"axis","hover",String(i.index));t.dispatch(FE({active:!i.active,activeIndex:i.index,activeDataKey:i.dataKey,activeCoordinate:d}));return}var h=Yve(n),p=h==="left-to-right"?1:-1,b=a==="ArrowRight"?1:-1,x=l+b*p;if(!(u==null||x>=u.length||x<0)){var k=Gy(n,"axis","hover",String(x));t.dispatch(FE({active:!0,activeIndex:x.toString(),activeDataKey:void 0,activeCoordinate:k}))}}}}}});tj.startListening({actionCreator:DU,effect:(e,t)=>{var n=t.getState(),r=n.rootProps.accessibilityLayer!==!1;if(r){var{keyboardInteraction:i}=n.tooltip;if(!i.active&&i.index==null){var a="0",o=Gy(n,"axis","hover",String(a));t.dispatch(FE({activeDataKey:void 0,active:!0,activeIndex:a,activeCoordinate:o}))}}}});var aa=ga("externalEvent"),PU=vp(),US=new Map;PU.startListening({actionCreator:aa,effect:(e,t)=>{var{handler:n,reactEvent:r}=e.payload;if(n!=null){r.persist();var i=r.type,a=US.get(i);a!==void 0&&cancelAnimationFrame(a);var o=requestAnimationFrame(()=>{try{var l=t.getState(),u={activeCoordinate:Uxe(l),activeDataKey:Bxe(l),activeIndex:Zm(l),activeLabel:Pz(l),activeTooltipIndex:Zm(l),isTooltipActive:Fxe(l)};n(u,r)}finally{US.delete(i)}});US.set(i,o)}}});var Yke=_e([kf],e=>e.tooltipItemPayloads),Kke=_e([Yke,Mp,(e,t,n)=>t,(e,t,n)=>n],(e,t,n,r)=>{var i=e.find(l=>l.settings.dataKey===r);if(i!=null){var{positions:a}=i;if(a!=null){var o=t(a,n);return o}}}),RU=ga("touchMove"),LU=vp();LU.startListening({actionCreator:RU,effect:(e,t)=>{var n=e.payload;if(!(n.touches==null||n.touches.length===0)){var r=t.getState(),i=LT(r,r.tooltip.settings.shared);if(i==="axis"){var a=QT(r,ej({clientX:n.touches[0].clientX,clientY:n.touches[0].clientY,currentTarget:n.currentTarget}));a?.activeIndex!=null&&t.dispatch(Sz({activeIndex:a.activeIndex,activeDataKey:void 0,activeCoordinate:a.activeCoordinate}))}else if(i==="item"){var o,l=n.touches[0];if(document.elementFromPoint==null)return;var u=document.elementFromPoint(l.clientX,l.clientY);if(!u||!u.getAttribute)return;var d=u.getAttribute(Rme),h=(o=u.getAttribute(Lme))!==null&&o!==void 0?o:void 0,p=Kke(t.getState(),d,h);t.dispatch(exe({activeDataKey:h,activeIndex:d,activeCoordinate:p}))}}}});var Wke=c5({brush:aSe,cartesianAxis:q1e,chartData:U_e,errorBars:eSe,graphicalItems:w1e,layout:yme,legend:Ope,options:L_e,polarAxis:c1e,polarOptions:qke,referenceElements:fSe,rootProps:Hke,tooltip:nxe,zIndex:S_e}),Vke=function(t){return Hhe({reducer:Wke,preloadedState:t,middleware:n=>{var r;return n({serializableCheck:!1,immutableCheck:!["commonjs","es6","production"].includes((r="es6")!==null&&r!==void 0?r:"")}).concat([jU.middleware,OU.middleware,tj.middleware,PU.middleware,LU.middleware])},enhancers:n=>{var r=n;return typeof n=="function"&&(r=n()),r.concat(G7({type:"raf"}))},devTools:bf.devToolsEnabled})};function Zke(e){var{preloadedState:t,children:n,reduxStoreName:r}=e,i=pi(),a=w.useRef(null);if(i)return n;a.current==null&&(a.current=Vke(t));var o=LA;return w.createElement(y5,{context:o,store:a.current},n)}function Xke(e){var{layout:t,margin:n}=e,r=ur(),i=pi();return w.useEffect(()=>{i||(r(pme(t)),r(mme(n)))},[r,i,t,n]),null}var Jke=w.memo(Xke,VT);function Qke(e){var t=ur();return w.useEffect(()=>{t(Gke(e))},[t,e]),null}function _3(e){var{zIndex:t,isPanorama:n}=e,r=n?"recharts-zindex-panorama-":"recharts-zindex-",i=oU("".concat(r).concat(t)),a=ur();return w.useLayoutEffect(()=>(a(__e({zIndex:t,elementId:i,isPanorama:n})),()=>{a(w_e({zIndex:t,isPanorama:n}))}),[a,t,i,n]),w.createElement("g",{tabIndex:-1,id:i})}function w3(e){var{children:t,isPanorama:n}=e,r=Je(d_e);if(!r||r.length===0)return t;var i=r.filter(o=>o<0),a=r.filter(o=>o>0);return w.createElement(w.Fragment,null,i.map(o=>w.createElement(_3,{key:o,zIndex:o,isPanorama:n})),t,a.map(o=>w.createElement(_3,{key:o,zIndex:o,isPanorama:n})))}var eEe=["children"];function tEe(e,t){if(e==null)return{};var n,r,i=nEe(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function nEe(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function Zy(){return Zy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Zy.apply(null,arguments)}var rEe={width:"100%",height:"100%",display:"block"},iEe=w.forwardRef((e,t)=>{var n=m9(),r=p9(),i=S9();if(!Oo(n)||!Oo(r))return null;var{children:a,otherAttributes:o,title:l,desc:u}=e,d,h;return o!=null&&(typeof o.tabIndex=="number"?d=o.tabIndex:d=i?0:void 0,typeof o.role=="string"?h=o.role:h=i?"application":void 0),w.createElement(Q6,Zy({},o,{title:l,desc:u,role:h,tabIndex:d,width:n,height:r,style:rEe,ref:t}),a)}),aEe=e=>{var{children:t}=e,n=Je(Jv);if(!n)return null;var{width:r,height:i,y:a,x:o}=n;return w.createElement(Q6,{width:r,height:i,x:o,y:a},t)},S3=w.forwardRef((e,t)=>{var{children:n}=e,r=tEe(e,eEe),i=pi();return i?w.createElement(aEe,null,w.createElement(w3,{isPanorama:!0},n)):w.createElement(iEe,Zy({ref:t},r),w.createElement(w3,{isPanorama:!1},n))});function oEe(){var e=ur(),[t,n]=w.useState(null),r=Je(Pme);return w.useEffect(()=>{if(t!=null){var i=t.getBoundingClientRect(),a=i.width/t.offsetWidth;wn(a)&&a!==r&&e(bme(a))}},[t,e,r]),n}function k3(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function sEe(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?k3(Object(n),!0).forEach(function(r){lEe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):k3(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function lEe(e,t,n){return(t=cEe(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function cEe(e){var t=uEe(e,"string");return typeof t=="symbol"?t:t+""}function uEe(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function mu(){return mu=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},mu.apply(null,arguments)}var dEe=()=>(Z_e(),null);function Xy(e){if(typeof e=="number")return e;if(typeof e=="string"){var t=parseFloat(e);if(!Number.isNaN(t))return t}return 0}var fEe=w.forwardRef((e,t)=>{var n,r,i=w.useRef(null),[a,o]=w.useState({containerWidth:Xy((n=e.style)===null||n===void 0?void 0:n.width),containerHeight:Xy((r=e.style)===null||r===void 0?void 0:r.height)}),l=w.useCallback((d,h)=>{o(p=>{var b=Math.round(d),x=Math.round(h);return p.containerWidth===b&&p.containerHeight===x?p:{containerWidth:b,containerHeight:x}})},[]),u=w.useCallback(d=>{if(typeof t=="function"&&t(d),d!=null&&typeof ResizeObserver<"u"){var{width:h,height:p}=d.getBoundingClientRect();l(h,p);var b=k=>{var{width:S,height:_}=k[0].contentRect;l(S,_)},x=new ResizeObserver(b);x.observe(d),i.current=x}},[t,l]);return w.useEffect(()=>()=>{var d=i.current;d?.disconnect()},[l]),w.createElement(w.Fragment,null,w.createElement(ex,{width:a.containerWidth,height:a.containerHeight}),w.createElement("div",mu({ref:u},e)))}),hEe=w.forwardRef((e,t)=>{var{width:n,height:r}=e,[i,a]=w.useState({containerWidth:Xy(n),containerHeight:Xy(r)}),o=w.useCallback((u,d)=>{a(h=>{var p=Math.round(u),b=Math.round(d);return h.containerWidth===p&&h.containerHeight===b?h:{containerWidth:p,containerHeight:b}})},[]),l=w.useCallback(u=>{if(typeof t=="function"&&t(u),u!=null){var{width:d,height:h}=u.getBoundingClientRect();o(d,h)}},[t,o]);return w.createElement(w.Fragment,null,w.createElement(ex,{width:i.containerWidth,height:i.containerHeight}),w.createElement("div",mu({ref:l},e)))}),mEe=w.forwardRef((e,t)=>{var{width:n,height:r}=e;return w.createElement(w.Fragment,null,w.createElement(ex,{width:n,height:r}),w.createElement("div",mu({ref:t},e)))}),pEe=w.forwardRef((e,t)=>{var{width:n,height:r}=e;return xs(n)||xs(r)?w.createElement(hEe,mu({},e,{ref:t})):w.createElement(mEe,mu({},e,{ref:t}))});function gEe(e){return e===!0?fEe:pEe}var bEe=w.forwardRef((e,t)=>{var{children:n,className:r,height:i,onClick:a,onContextMenu:o,onDoubleClick:l,onMouseDown:u,onMouseEnter:d,onMouseLeave:h,onMouseMove:p,onMouseUp:b,onTouchEnd:x,onTouchMove:k,onTouchStart:S,style:_,width:T,responsive:N,dispatchTouchEvents:j=!0}=e,C=w.useRef(null),M=ur(),[P,$]=w.useState(null),[U,Y]=w.useState(null),W=oEe(),H=GA(),z=H?.width>0?H.width:T,V=H?.height>0?H.height:i,X=w.useCallback(re=>{W(re),typeof t=="function"&&t(re),$(re),Y(re),re!=null&&(C.current=re)},[W,t,$,Y]),Z=w.useCallback(re=>{M(TU(re)),M(aa({handler:a,reactEvent:re}))},[M,a]),q=w.useCallback(re=>{M(ZE(re)),M(aa({handler:d,reactEvent:re}))},[M,d]),Q=w.useCallback(re=>{M(wz()),M(aa({handler:h,reactEvent:re}))},[M,h]),ne=w.useCallback(re=>{M(ZE(re)),M(aa({handler:p,reactEvent:re}))},[M,p]),ue=w.useCallback(()=>{M(DU())},[M]),se=w.useCallback(re=>{M(MU(re.key))},[M]),B=w.useCallback(re=>{M(aa({handler:o,reactEvent:re}))},[M,o]),K=w.useCallback(re=>{M(aa({handler:l,reactEvent:re}))},[M,l]),ie=w.useCallback(re=>{M(aa({handler:u,reactEvent:re}))},[M,u]),J=w.useCallback(re=>{M(aa({handler:b,reactEvent:re}))},[M,b]),oe=w.useCallback(re=>{M(aa({handler:S,reactEvent:re}))},[M,S]),fe=w.useCallback(re=>{j&&M(RU(re)),M(aa({handler:k,reactEvent:re}))},[M,j,k]),he=w.useCallback(re=>{M(aa({handler:x,reactEvent:re}))},[M,x]),ke=gEe(N);return w.createElement(Fz.Provider,{value:P},w.createElement(Vde.Provider,{value:U},w.createElement(ke,{width:z??_?.width,height:V??_?.height,className:Qt("recharts-wrapper",r),style:sEe({position:"relative",cursor:"default",width:z,height:V},_),onClick:Z,onContextMenu:B,onDoubleClick:K,onFocus:ue,onKeyDown:se,onMouseDown:ie,onMouseEnter:q,onMouseLeave:Q,onMouseMove:ne,onMouseUp:J,onTouchEnd:he,onTouchMove:fe,onTouchStart:oe,ref:X},w.createElement(dEe,null),n)))}),yEe=["width","height","responsive","children","className","style","compact","title","desc"];function vEe(e,t){if(e==null)return{};var n,r,i=xEe(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function xEe(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var _Ee=w.forwardRef((e,t)=>{var{width:n,height:r,responsive:i,children:a,className:o,style:l,compact:u,title:d,desc:h}=e,p=vEe(e,yEe),b=Ga(p);return u?w.createElement(w.Fragment,null,w.createElement(ex,{width:n,height:r}),w.createElement(S3,{otherAttributes:b,title:d,desc:h},a)):w.createElement(bEe,{className:o,style:l,width:n,height:r,responsive:i??!1,onClick:e.onClick,onMouseLeave:e.onMouseLeave,onMouseEnter:e.onMouseEnter,onMouseMove:e.onMouseMove,onMouseDown:e.onMouseDown,onMouseUp:e.onMouseUp,onContextMenu:e.onContextMenu,onDoubleClick:e.onDoubleClick,onTouchStart:e.onTouchStart,onTouchMove:e.onTouchMove,onTouchEnd:e.onTouchEnd},w.createElement(S3,{otherAttributes:b,title:d,desc:h,ref:t},w.createElement(mSe,null,a)))});function XE(){return XE=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},XE.apply(null,arguments)}var wEe={top:5,right:5,bottom:5,left:5},SEe={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,layout:"horizontal",margin:wEe,responsive:!1,reverseStackOrder:!1,stackOffset:"none",syncMethod:"index"},kEe=w.forwardRef(function(t,n){var r,i=qi(t.categoricalChartProps,SEe),{chartName:a,defaultTooltipEventType:o,validateTooltipEventTypes:l,tooltipPayloadSearcher:u,categoricalChartProps:d}=t,h={chartName:a,defaultTooltipEventType:o,validateTooltipEventTypes:l,tooltipPayloadSearcher:u,eventEmitter:void 0};return w.createElement(Zke,{preloadedState:{options:h},reduxStoreName:(r=d.id)!==null&&r!==void 0?r:a},w.createElement(iSe,{chartData:d.data}),w.createElement(Jke,{layout:i.layout,margin:i.margin}),w.createElement(Qke,{baseValue:i.baseValue,accessibilityLayer:i.accessibilityLayer,barCategoryGap:i.barCategoryGap,maxBarSize:i.maxBarSize,stackOffset:i.stackOffset,barGap:i.barGap,barSize:i.barSize,syncId:i.syncId,syncMethod:i.syncMethod,className:i.className,reverseStackOrder:i.reverseStackOrder}),w.createElement(_Ee,XE({},i,{ref:n})))}),EEe=["axis"],AEe=w.forwardRef((e,t)=>w.createElement(kEe,{chartName:"AreaChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:EEe,tooltipPayloadSearcher:P_e,categoricalChartProps:e,ref:t}));function IU(e){return typeof e=="object"&&e!==null}function Zc(e,t=0){return typeof e=="number"&&Number.isFinite(e)?e:t}function TEe(e,t=""){return typeof e=="string"?e:t}function jEe(e){if(!Array.isArray(e))return[];const t=[];for(const n of e){if(!IU(n))continue;const r=TEe(n.day),i=Zc(n.dau),a=Zc(n.total_active_ms);r&&t.push({day:r,dau:i,total_active_ms:a})}return t}function OEe(e){return IU(e)?{online_now:Zc(e.online_now),active_today:Zc(e.active_today),active_7d:Zc(e.active_7d),active_30d:Zc(e.active_30d),active_365d:Zc(e.active_365d),series:jEe(e.series)}:null}function NEe(e){if(!e||e<=0)return"0";const t=Math.floor(e/1e3),n=Math.floor(t/86400),r=Math.floor(t%86400/3600),i=Math.floor(t%3600/60);return n>=1?`${n} ${r}`:r>=1?`${r} ${i}`:`${i}`}function E3(){const[e,t]=w.useState(30),[n,r]=w.useState(null),[i,a]=w.useState(0),[o,l]=w.useState(!1),[u,d]=w.useState(""),h=w.useRef(!1),p=w.useRef(!1),b=w.useCallback(async()=>{if(!h.current){h.current=!0,l(!0),d("");try{const{data:_,error:T}=await De.rpc("admin_dashboard_stats",{p_days:e});if(T){d(T.message||"RPC error"),r(null);return}const N=OEe(_);if(!N){d("   ( )"),r(null);return}r(N),a(N.online_now)}finally{l(!1),h.current=!1}}},[e]),x=w.useCallback(async()=>{if(!p.current){p.current=!0;try{const{data:_,error:T}=await De.rpc("admin_online_now");if(T)return;const N=typeof _=="number"?_:typeof _=="string"?Number(_):0;Number.isFinite(N)&&a(N)}finally{p.current=!1}}},[]);w.useEffect(()=>{b()},[b]),w.useEffect(()=>{x();const _=window.setInterval(()=>void x(),3e4);return()=>window.clearInterval(_)},[x]),w.useEffect(()=>{const _=window.setInterval(()=>void b(),3e5);return()=>window.clearInterval(_)},[b]);const k=w.useMemo(()=>n?.series??[],[n]),S=w.useMemo(()=>k.reduce((_,T)=>_+(T.total_active_ms||0),0),[k]);return g.jsx($de,{allow:["admin","operator","viewer"],children:g.jsxs("div",{className:"p-6 text-white",children:[g.jsxs("div",{className:"flex items-center justify-between gap-3 mb-6",children:[g.jsx("h1",{className:"text-2xl font-bold",children:"Dashboard"}),g.jsxs("div",{className:"flex items-center gap-2",children:[g.jsxs("select",{value:e,onChange:_=>{const T=Number(_.target.value);(T===30||T===60||T===90)&&t(T)},className:"px-2 py-1 bg-neutral-800 border border-neutral-700 rounded text-sm",title:"DAU  ",children:[g.jsx("option",{value:30,children:" 30"}),g.jsx("option",{value:60,children:" 60"}),g.jsx("option",{value:90,children:" 90"})]}),g.jsx("button",{type:"button",onClick:()=>void b(),className:"px-3 py-1 rounded bg-neutral-700 hover:bg-neutral-600 cursor-pointer text-sm",children:""})]})]}),u?g.jsx("div",{className:"text-red-400 mb-3",children:u}):null,o?g.jsx("div",{className:"text-neutral-300 mb-3",children:"Loading..."}):null,g.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-5 gap-4 mb-10",children:[g.jsx(Qh,{label:" ",value:i}),g.jsx(Qh,{label:" (DAU)",value:n?.active_today??0}),g.jsx(Qh,{label:" 7 ",value:n?.active_7d??0}),g.jsx(Qh,{label:" 30 ",value:n?.active_30d??0}),g.jsx(Qh,{label:" 1 ",value:n?.active_365d??0})]}),g.jsxs("section",{className:"mb-10",children:[g.jsxs("div",{className:"flex items-end justify-between gap-3 mb-3",children:[g.jsx("h2",{className:"text-xl font-semibold",children:"DAU "}),g.jsx("div",{className:"text-xs text-neutral-400",children:"(     )"})]}),g.jsx(CEe,{data:k})]}),g.jsxs("section",{className:"mt-6",children:[g.jsx("h3",{className:"text-lg font-semibold mb-2",children:"   ()"}),g.jsxs("div",{className:"p-4 bg-neutral-900 border border-neutral-700 rounded-lg",children:[g.jsx("div",{className:"text-sm text-neutral-400",children:"series.total_active_ms  (day    )"}),g.jsx("div",{className:"text-2xl font-bold mt-1",children:NEe(S)})]})]})]})})}function Qh({label:e,value:t}){return g.jsxs("div",{className:"p-4 bg-neutral-900 border border-neutral-700 rounded-lg",children:[g.jsx("div",{className:"text-neutral-400 text-sm",children:e}),g.jsx("div",{className:"text-3xl font-bold mt-1",children:t})]})}function CEe({data:e}){return g.jsx("div",{className:"w-full h-64 bg-neutral-900 border border-neutral-700 rounded-lg p-2 text-xs",children:g.jsx(upe,{width:"100%",height:"100%",children:g.jsxs(AEe,{data:e,children:[g.jsx(pU,{strokeDasharray:"3 3"}),g.jsx(EU,{dataKey:"day"}),g.jsx(AU,{}),g.jsx(iwe,{formatter:(t,n)=>n==="dau"?[t,"DAU"]:[t,n]}),g.jsx(SU,{type:"monotone",dataKey:"dau"})]})})})}function MEe(){const[e,t]=w.useState(""),[n,r]=w.useState("ACTIVE"),[i,a]=w.useState("LAST_SEEN_DESC"),[o,l]=w.useState(1),[u,d]=w.useState({});return{search:e,setSearch:t,tab:n,setTab:r,sort:i,setSort:a,page:o,setPage:l,draftByUser:u,setDraftByUser:d,setDraft:(p,b)=>{d(x=>{const k=x[p]??{plan:"FREE",startDate:"",endDate:"",myoViewer:"OFF",saving:!1};return{...x,[p]:{...k,...b}}})}}}const JE=20;function DEe(e){return typeof e=="object"&&e!==null}function mo(e){return typeof e=="string"?e:null}function A3(e){return typeof e=="boolean"?e:null}function FS(e){if(typeof e=="number"&&Number.isFinite(e))return e;if(typeof e=="string"&&e.trim()!==""){const t=Number(e);return Number.isFinite(t)?t:null}return null}function $U(e){return e==="FREE"||e==="BASIC"||e==="PRO"}function PEe(e){return $U(e)?e:null}function REe(e){if(!DEe(e))return null;const t=mo(e.user_id);return t?{user_id:t,name:mo(e.name),nickname:mo(e.nickname),email:mo(e.email),disabled_at:mo(e.disabled_at),created_at:mo(e.created_at),plan:PEe(e.plan),starts_at:mo(e.starts_at),expires_at:mo(e.expires_at),can_use_myo_viewer:A3(e.can_use_myo_viewer),myeongsik_count:FS(e.myeongsik_count),last_seen_at:mo(e.last_seen_at),last_path:mo(e.last_path),total_active_ms:FS(e.total_active_ms),online:A3(e.online),total_count:FS(e.total_count)}:null}function T3(e){const t=(e??"").trim();return t.length?t:null}function BU(e){const t=/^(\d{4})-(\d{2})-(\d{2})$/.exec(e);if(!t)return!1;const n=Number(t[1]),r=Number(t[2]),i=Number(t[3]);if(!Number.isFinite(n)||!Number.isFinite(r)||!Number.isFinite(i)||r<1||r>12)return!1;const a=new Date(Date.UTC(n,r-1,i));return a.getUTCFullYear()===n&&a.getUTCMonth()===r-1&&a.getUTCDate()===i}function LEe(e,t){if(!BU(e))throw new Error(`   : ${e}`);const n=/^(\d{4})-(\d{2})-(\d{2})$/.exec(e);if(!n)throw new Error(`   : ${e}`);const r=Number(n[1]),i=Number(n[2]),a=Number(n[3]),o=new Date(Date.UTC(r,i-1,a));o.setUTCDate(o.getUTCDate()+t);const l=String(o.getUTCFullYear()).padStart(4,"0"),u=String(o.getUTCMonth()+1).padStart(2,"0"),d=String(o.getUTCDate()).padStart(2,"0");return`${l}-${u}-${d}`}function j3(e){if(!BU(e))throw new Error(`   : ${e}`);return`${e}T00:00:00.000Z`}function IEe(e){return typeof e=="object"&&e!==null}function $Ee(e,t){if(console.error(e,t),IEe(t)&&console.error(`${e} fields`,{message:t.message,code:t.code,details:t.details,hint:t.hint}),typeof t=="object"&&t!==null)try{console.error(`${e} ownKeys`,Object.getOwnPropertyNames(t))}catch{}try{console.error(`${e} json`,JSON.stringify(t))}catch{}}function BEe(){const[e,t]=w.useState([]),[n,r]=w.useState(0),[i,a]=w.useState(!1),[o,l]=w.useState(null),u=w.useCallback(async h=>{const{search:p,tab:b,sort:x,page:k}=h;a(!0),l(null);try{const S=Math.max(0,(Math.max(1,k)-1)*JE),{data:_,error:T}=await De.rpc("admin_list_users",{p_search:p&&p.trim()?p.trim():null,p_tab:b,p_sort:x,p_limit:JE,p_offset:S});if(T)throw T;const j=(Array.isArray(_)?_:[]).map(REe).filter(C=>C!==null);t(j),r(j[0]?.total_count??0)}catch(S){t([]),r(0),l(S instanceof Error?S.message:"  ")}finally{a(!1)}},[]),d=w.useCallback(async(h,p,b,x)=>{if(p){l(null),b(h,{saving:!0});try{if(!$U(p.plan))throw new Error(`  : ${String(p.plan)}`);const k=T3(p.startDate),S=T3(p.endDate),_=k?j3(k):null,T=S?j3(LEe(S,1)):null;if(_&&T){const C=Date.parse(_),M=Date.parse(T);if(!Number.isFinite(C)||!Number.isFinite(M))throw new Error("  ");if(M<=C)throw new Error("  .")}const N={p_target_user_id:h,p_plan:p.plan,p_can_use_myo_viewer:p.myoViewer==="ON",p_starts_at:_,p_expires_at:T},{error:j}=await De.rpc("admin_set_user_entitlements",N);if(j)throw $Ee("admin_set_user_entitlements error",j),j;b(h,{saving:!1,lastSavedAt:Date.now()}),await x()}catch(k){throw b(h,{saving:!1}),l(k instanceof Error?k.message:" "),k}}},[]);return{rows:e,totalCount:n,loading:i,error:o,setError:l,fetchList:u,saveEntitlements:d}}const zU=[{value:"FREE",label:"FREE ()"},{value:"BASIC",label:"BASIC (ON)"},{value:"PRO",label:"PRO (OFF)"}];function zEe(e){return e==="FREE"||e==="BASIC"||e==="PRO"}function UEe(e){const t=e??"FREE";return zU.find(n=>n.value===t)?.label??String(t)}function FEe(e){if(!e)return" ";const t=Date.parse(e);if(!Number.isFinite(t))return" ";const n=Date.now()-t,r=Math.floor(n/1e3);if(r<15)return"";if(r<60)return`${r} `;const i=Math.floor(r/60);if(i<60)return`${i} `;const a=Math.floor(i/60);return a<24?`${a} `:`${Math.floor(a/24)} `}function O3(e){if(!e||e<=0)return"0";const t=Math.floor(e/1e3),n=Math.floor(t/86400),r=Math.floor(t%86400/3600),i=Math.floor(t%3600/60);return n>=1?`${n} ${r}`:r>=1?`${r} ${i}`:`${i}`}function Jy(e){if(!e)return"";const t=Date.parse(e);return Number.isFinite(t)?new Date(t).toISOString().slice(0,10):""}function HEe(e,t){const n=Jy(e),r=Jy(t);return!n&&!r?" ":n&&!r?`${n} ~`:!n&&r?`~ ${r}`:`${n} ~ ${r}`}function GEe(e,t){const n={...e};for(const r of t){const i=r.plan??"FREE",a=Jy(r.starts_at),o=Jy(r.expires_at),l=r.can_use_myo_viewer===!0?"ON":"OFF",u=n[r.user_id];if(!u){n[r.user_id]={plan:i,startDate:a,endDate:o,myoViewer:l,saving:!1};continue}u.saving||(u.plan!==i||u.startDate!==a||u.endDate!==o||u.myoViewer!==l)&&(n[r.user_id]={...u,plan:i,startDate:a,endDate:o,myoViewer:l})}return n}function qEe(){const e=MEe(),{search:t,setSearch:n,tab:r,setTab:i,sort:a,setSort:o,page:l,setPage:u,draftByUser:d,setDraftByUser:h,setDraft:p}=e,{rows:b,totalCount:x,loading:k,error:S,fetchList:_,saveEntitlements:T}=BEe(),N=w.useMemo(()=>Math.max(1,Math.ceil(x/JE)),[x]);return w.useEffect(()=>{u(1)},[r,a]),w.useEffect(()=>{_({search:t,tab:r,sort:a,page:l})},[_,t,r,a,l]),w.useEffect(()=>{l>N&&u(N)},[l,N,u]),w.useEffect(()=>{h(j=>GEe(j,b))},[b,h]),g.jsxs("div",{className:"p-6 text-white",children:[g.jsx("h1",{className:"text-2xl font-bold mb-4",children:"Users"}),g.jsxs("div",{className:"flex flex-col md:flex-row gap-2 md:items-center mb-4",children:[g.jsx("input",{className:"px-3 py-2 bg-neutral-800 border border-neutral-700 rounded w-full max-w-sm",placeholder:"Search (name, email, userId...)",value:t,onChange:j=>{n(j.target.value),u(1)}}),g.jsxs("div",{className:"flex gap-2",children:[g.jsxs("select",{className:"px-2 py-2 bg-neutral-800 border border-neutral-700 rounded text-sm",value:r,onChange:j=>{const C=j.target.value;i(C==="DISABLED"?"DISABLED":C==="ALL"?"ALL":"ACTIVE")},children:[g.jsx("option",{value:"ACTIVE",children:""}),g.jsx("option",{value:"DISABLED",children:""}),g.jsx("option",{value:"ALL",children:""})]}),g.jsxs("select",{className:"px-2 py-2 bg-neutral-800 border border-neutral-700 rounded text-sm",value:a,onChange:j=>{const C=j.target.value;(C==="LAST_SEEN_DESC"||C==="LAST_SEEN_ASC"||C==="CREATED_DESC"||C==="CREATED_ASC"||C==="PLAN_DESC"||C==="ONLINE_ACTIVE_MS_DESC"||C==="TOTAL_ACTIVE_MS_DESC")&&o(C)},children:[g.jsx("option",{value:"LAST_SEEN_DESC",children:" "}),g.jsx("option",{value:"CREATED_DESC",children:" "}),g.jsx("option",{value:"PLAN_DESC",children:""}),g.jsx("option",{value:"ONLINE_ACTIVE_MS_DESC",children:"+"}),g.jsx("option",{value:"TOTAL_ACTIVE_MS_DESC",children:""}),g.jsx("option",{value:"LAST_SEEN_ASC",children:" "}),g.jsx("option",{value:"CREATED_ASC",children:" "})]})]})]}),S&&g.jsx("div",{className:"text-red-400 mb-2",children:S}),k&&g.jsx("div",{children:"Loading..."}),g.jsx("div",{className:"space-y-3",children:b.map(j=>{const C=j.name||j.nickname||"(no profile)",M=j.email||"",P=d[j.user_id]??{plan:"FREE",startDate:"",endDate:"",myoViewer:"OFF",saving:!1,lastSavedAt:void 0},$=Date.now(),U=(j.starts_at?Date.parse(j.starts_at)<=$:!0)&&(j.expires_at?Date.parse(j.expires_at)>$:!0),Y=j.plan??"FREE",W=U?Y:"FREE",H=j.can_use_myo_viewer===!0?"ON":"OFF",z=j.last_seen_at??null,V=j.online===!0,X=j.total_active_ms??null;return g.jsxs("div",{className:"p-4 bg-neutral-900 border border-neutral-700 rounded-lg hover:bg-neutral-800",children:[g.jsxs("div",{className:"font-semibold text-lg flex flex-col desk:flex-row item-start desk:items-center justify-between gap-3",children:[g.jsxs("div",{className:"min-w-0 flex flex-col desk:flex-row item-start desk:items-center gap-2",children:[g.jsx("span",{className:"text-nowrap mr-1",children:C}),M?g.jsxs("span",{className:"text-sm text-neutral-400",children:["(",M,")"]}):null,g.jsxs("div",{className:"flex items-center gap-1",children:[g.jsxs("span",{className:`text-[11px] px-2 py-0.5 rounded-full border ${V?"bg-emerald-900/40 border-emerald-700 text-emerald-300":"bg-neutral-800 border-neutral-700 text-neutral-300"}`,title:z?new Date(z).toLocaleString():" ",children:[V?"":"","  ",FEe(z)]}),g.jsxs("span",{className:"text-[11px] px-2 py-0.5 rounded-full border bg-neutral-800 border-neutral-700 text-neutral-300",title:" ",children:[" ",O3(X)]})]})]}),g.jsx("span",{className:"text-neutral-500 text-sm shrink-0",children:j.user_id})]}),g.jsxs("div",{className:"text-sm text-neutral-400 mt-1",children:[" ",j.myeongsik_count??0,"",z?g.jsxs(g.Fragment,{children:["    ",new Date(z).toLocaleString()]}):g.jsx(g.Fragment,{children:"     "}),g.jsxs(g.Fragment,{children:["   ",O3(X)]})]}),g.jsxs("div",{className:"text-sm text-neutral-400 mt-1",children:[" ",UEe(W),"  ",HEe(j.starts_at,j.expires_at),"    ",H,!U&&j.plan&&j.plan!=="FREE"?" ()":""]}),g.jsxs("div",{className:"mt-3 flex flex-col gap-2",children:[g.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[g.jsxs("div",{className:"mb-1",children:[g.jsx("input",{type:"date",className:"px-2 py-1 bg-neutral-800 border border-neutral-700 rounded text-sm",value:P.startDate,onChange:Z=>p(j.user_id,{startDate:Z.target.value})}),g.jsx("span",{className:"text-neutral-500 mx-1",children:"~"}),g.jsx("input",{type:"date",className:"px-2 py-1 bg-neutral-800 border border-neutral-700 rounded text-sm",value:P.endDate,onChange:Z=>p(j.user_id,{endDate:Z.target.value})})]}),g.jsx("select",{className:"px-2 py-1 bg-neutral-800 border border-neutral-700 rounded text-sm",value:P.plan,onChange:Z=>{const q=Z.target.value;zEe(q)&&p(j.user_id,{plan:q})},children:zU.map(Z=>g.jsx("option",{value:Z.value,children:Z.label},Z.value))}),g.jsxs("select",{className:"px-2 py-1 bg-neutral-800 border border-neutral-700 rounded text-sm",value:P.myoViewer,onChange:Z=>p(j.user_id,{myoViewer:Z.target.value==="ON"?"ON":"OFF"}),children:[g.jsx("option",{value:"ON",children:"  ON"}),g.jsx("option",{value:"OFF",children:"  OFF"})]}),g.jsx("button",{type:"button",disabled:P.saving,onClick:()=>void T(j.user_id,P,e.setDraft,()=>_({search:t,tab:r,sort:a,page:l})),className:"px-3 py-1 rounded bg-purple-600 hover:bg-purple-500 disabled:opacity-50 cursor-pointer",children:P.saving?" ...":""}),g.jsx("button",{type:"button",onClick:()=>location.href=`/admin/user/${j.user_id}`,className:"px-3 py-1 rounded bg-neutral-700 hover:bg-neutral-600 cursor-pointer",children:""})]}),P.lastSavedAt!=null?g.jsxs("div",{className:"text-xs text-emerald-400",children:["  ",new Date(P.lastSavedAt).toLocaleString()]}):null]})]},j.user_id)})}),g.jsxs("div",{className:"flex items-center justify-center gap-3 mt-6",children:[g.jsx("button",{disabled:l<=1,onClick:()=>u(j=>j-1),className:"px-3 py-1 border border-neutral-700 rounded disabled:opacity-50",children:""}),g.jsxs("span",{children:[l," / ",N," ( ",x,")"]}),g.jsx("button",{disabled:l>=N,onClick:()=>u(j=>j+1),className:"px-3 py-1 border border-neutral-700 rounded disabled:opacity-50",children:""})]})]})}function YEe(){const[e,t]=w.useState(null),[n,r]=w.useState([]),[i,a]=w.useState(!1);return{profile:e,setProfile:t,myeongsikList:n,setMyeongsikList:r,saving:i,setSaving:a}}function KEe(e){return{isDisabled:!!e?.disabled_at,hasProfile:!!e}}async function nj({action:e,targetUserId:t,targetRecordId:n,payload:r={}}){const a=(await De.auth.getSession()).data.session?.user?.id;a&&await De.from("audit_logs").insert({action:e,target_user_id:t??null,target_record_id:n??null,actor_admin_id:a,payload:r})}const WEe=async e=>{const{data:t}=await De.from("profiles").select("*").eq("user_id",e).maybeSingle();return t??null},VEe=async e=>{const{data:t}=await De.from("myeongsik").select("*").eq("user_id",e).order("created_at",{ascending:!1});return t??[]},ZEe=async e=>{await De.from("profiles").insert({user_id:e,name:"",nickname:"",email:"",mgr_memo:""})},XEe=async(e,t)=>{await De.from("profiles").update({name:t.name,nickname:t.nickname,email:t.email,mgr_memo:t.mgr_memo}).eq("user_id",e)},JEe=async e=>{await De.from("profiles").update({disabled_at:null}).eq("user_id",e),await De.from("myeongsik").update({deleted_at:null}).eq("user_id",e),await nj({action:"restore_account",targetUserId:e,payload:{source:"admin_user_detail"}})},QEe=async e=>{await De.from("myeongsik").update({deleted_at:null}).eq("user_id",e),await nj({action:"restore_myeongsik_all",targetUserId:e,payload:{source:"admin_user_detail"}})},N3=async(e,t,n)=>{const{error:r}=await De.rpc("admin_set_myeongsik_deleted",{p_target_user_id:e,p_myeongsik_id:t,p_deleted_at:n});if(r)throw console.error("admin_set_myeongsik_deleted error:",{message:r.message,details:r.details,hint:r.hint,code:r.code}),r;await nj({action:n?"delete_myeongsik":"restore_myeongsik",targetUserId:e,targetRecordId:t,payload:{deleted_at:n,source:"admin_user_detail"}})};function e2e(e,t){if(t&&typeof t=="object"){const n=t;console.error(e,{message:n.message,details:n.details,hint:n.hint,code:n.code});return}console.error(e,t)}function t2e({userId:e,profile:t,setProfile:n,setMyeongsikList:r,setSaving:i}){const a=w.useCallback(async()=>{const _=await WEe(e);n(_)},[e,n]),o=w.useCallback(async()=>{const _=await VEe(e);r(_)},[e,r]);w.useEffect(()=>{a(),o()},[a,o]);const l=w.useCallback(async()=>{if(e){i(!0);try{await ZEe(e),await a()}catch(_){throw console.error("handleCreateProfile failed:",_),_}finally{i(!1)}}},[e,i,a]),u=w.useCallback(async()=>{if(e&&t){i(!0);try{await XEe(e,t),await a()}catch(_){throw console.error("handleSaveProfile failed:",_),_}finally{i(!1)}}},[e,t,i,a]),d=w.useCallback(async()=>{if(e&&t){i(!0);try{const _=t.disabled_at==null,{data:T,error:N}=await De.rpc("admin_set_profile_disabled",{p_target_user_id:e,p_disabled:_});if(N)throw e2e("admin_set_profile_disabled error:",N),N;n({...t,disabled_at:typeof T=="string"?T:null})}finally{i(!1)}}},[e,t,n,i]),h=w.useCallback(async()=>{if(e){i(!0);try{await JEe(e),await a(),await o()}catch(_){throw console.error("handleRestoreAccount failed:",_),_}finally{i(!1)}}},[e,i,a,o]),p=w.useCallback(async()=>{if(e){i(!0);try{await QEe(e),await o()}catch(_){throw console.error("handleRestoreAllMyeongsik failed:",_),_}finally{i(!1)}}},[e,i,o]),b=w.useCallback(async _=>{if(e&&_){i(!0);try{await N3(e,_,null),await o()}catch(T){throw console.error("handleRestoreMyeongsik failed:",T),T}finally{i(!1)}}},[e,i,o]),x=w.useCallback(_=>{const T=typeof window<"u"?window.location.origin:"",N=_?`${T}/impersonate?userId=${e}&myeongsikId=${_}`:`${T}/impersonate?userId=${e}`;window.open(N,"_blank")},[e]),k=w.useCallback(async(_,T)=>{if(!e||!_)return;const N=T?null:new Date().toISOString();i(!0);try{await N3(e,_,N),await o()}catch(j){throw console.error("toggleDeleteMyeongsik failed:",j),j}finally{i(!1)}},[e,i,o]),S=w.useCallback(_=>{window.location.href=_},[]);return{handleCreateProfile:l,handleSaveProfile:u,toggleDisable:d,handleRestoreAccount:h,handleRestoreAllMyeongsik:p,handleRestoreMyeongsik:b,handleViewAsUser:x,toggleDeleteMyeongsik:k,goTo:S}}function n2e({params:e}){const t=e.userId,n=YEe(),r=KEe(n.profile),i=t2e({userId:t,profile:n.profile,setProfile:n.setProfile,setMyeongsikList:n.setMyeongsikList,setSaving:n.setSaving});return g.jsxs("div",{className:"p-6 text-white",children:[g.jsx("button",{className:"mb-4 underline cursor-pointer",onClick:()=>i.goTo("/admin/user"),children:"  "}),g.jsx("h1",{className:"text-2xl font-bold mb-4",children:" "}),g.jsxs("div",{className:"p-4 bg-neutral-900 border border-neutral-700 rounded-lg mb-6",children:[g.jsx("div",{className:"flex items-center justify-between mb-3",children:g.jsxs("div",{className:"flex items-center gap-3",children:[g.jsx("h2",{className:"text-xl font-semibold",children:""}),g.jsx("button",{className:"px-3 py-1 bg-blue-700 text-xs rounded cursor-pointer",onClick:()=>i.handleViewAsUser(),children:" ( )"})]})}),!r.hasProfile&&g.jsx("button",{onClick:i.handleCreateProfile,className:"px-3 py-2 bg-blue-600 rounded cursor-pointer",disabled:n.saving,children:" "}),r.hasProfile&&n.profile&&g.jsxs("div",{className:"space-y-3",children:[g.jsxs("div",{children:[g.jsx("label",{children:""}),g.jsx("input",{className:"w-full p-2 bg-neutral-800 border border-neutral-600 rounded",value:n.profile.name??"",onChange:a=>n.setProfile({...n.profile,name:a.target.value})})]}),g.jsxs("div",{children:[g.jsx("label",{children:""}),g.jsx("input",{className:"w-full p-2 bg-neutral-800 border border-neutral-600 rounded",value:n.profile.nickname??"",onChange:a=>n.setProfile({...n.profile,nickname:a.target.value})})]}),g.jsxs("div",{children:[g.jsx("label",{children:"Email"}),g.jsx("input",{className:"w-full p-2 bg-neutral-800 border border-neutral-600 rounded",value:n.profile.email??"",onChange:a=>n.setProfile({...n.profile,email:a.target.value})})]}),g.jsxs("div",{children:[g.jsx("label",{children:" "}),g.jsx("textarea",{className:"w-full p-2 bg-neutral-800 border border-neutral-600 rounded",rows:3,value:n.profile.mgr_memo??"",onChange:a=>n.setProfile({...n.profile,mgr_memo:a.target.value})})]}),g.jsxs("div",{className:"flex gap-2",children:[g.jsx("button",{onClick:i.handleSaveProfile,className:"px-3 py-2 bg-green-600 rounded cursor-pointer text-xs",disabled:n.saving,children:""}),r.isDisabled&&g.jsx("button",{onClick:i.handleRestoreAccount,className:"px-3 py-2 bg-blue-600 rounded cursor-pointer text-xs",disabled:n.saving,children:" + "}),g.jsx("button",{onClick:i.toggleDisable,className:`px-3 py-2 rounded cursor-pointer text-xs ${r.isDisabled?"bg-yellow-600":"bg-gray-600"}`,children:r.isDisabled?" ":" "})]})]})]}),g.jsxs("div",{className:"p-4 bg-neutral-900 border border-neutral-700 rounded-lg",children:[g.jsxs("div",{className:"flex items-center justify-between mb-4",children:[g.jsx("h2",{className:"text-xl font-semibold",children:" "}),g.jsx("button",{className:"px-3 py-2 bg-blue-700 rounded text-xs cursor-pointer",onClick:i.handleRestoreAllMyeongsik,disabled:n.saving,children:"  "})]}),n.myeongsikList.map(a=>g.jsx("div",{className:"p-3 bg-neutral-800 border border-neutral-700 rounded mb-3",children:g.jsxs("div",{className:"flex items-center justify-between",children:[g.jsxs("div",{children:[g.jsx("div",{className:"font-semibold",children:a.name||"(no name)"}),g.jsxs("div",{className:"text-sm text-neutral-400",children:["Birth: ",a.birth_json?.birthDay??"-"," "," ",a.created_at?new Date(a.created_at).toLocaleString():"-"]})]}),g.jsx("div",{className:"flex gap-2",children:g.jsx("button",{className:"text-nowrap px-2 py-1 border border-emerald-500 text-emerald-100 rounded cursor-pointer text-xs",onClick:()=>i.handleRestoreMyeongsik(a.id),disabled:n.saving,children:"  "})})]})},a.id)),n.myeongsikList.length===0&&g.jsx("div",{className:"text-neutral-400",children:" ."})]})]})}function r2e({open:e,onClose:t,children:n}){return e?g.jsx("div",{className:"fixed inset-0 bg-black/70 z-50 flex items-center justify-center",children:g.jsxs("div",{className:"bg-neutral-900 border border-neutral-700 rounded-lg p-6 max-w-2xl w-full relative",children:[g.jsx("button",{className:"absolute top-3 right-3 text-neutral-400 hover:text-white",onClick:t,children:""}),g.jsx("div",{className:"max-h-[70vh] overflow-y-auto",children:n})]})}):null}const C3=50;function i2e(){const[e,t]=w.useState(null),[n,r]=w.useState(!1),[i,a]=w.useState([]),[o,l]=w.useState(1),[u,d]=w.useState("all"),[h,p]=w.useState("all"),[b,x]=w.useState("30"),[k,S]=w.useState(""),[_,T]=w.useState(!1),N=w.useCallback(async C=>{await De.from("audit_logs").delete().eq("id",C),a(M=>M.filter(P=>P.id!==C))},[]),j=w.useCallback(async()=>{T(!0);const C=new Date;b!=="all"&&C.setDate(C.getDate()-Number(b));let M=De.from("audit_logs").select("*").order("created_at",{ascending:!1}).range((o-1)*C3,o*C3-1);b!=="all"&&(M=M.gte("created_at",C.toISOString())),u!=="all"&&(M=M.eq("action",u)),h!=="all"&&(M=M.eq("actor_admin_id",h));const{data:P}=await M;let $=P||[];if(k.trim()!==""){const U=k.toLowerCase();$=$.filter(Y=>(JSON.stringify(Y).toLowerCase()+(Y.payload?JSON.stringify(Y.payload).toLowerCase():"")).includes(U))}a($),T(!1)},[o,u,h,b,k]);return w.useEffect(()=>{j()},[j]),g.jsxs("div",{className:"p-6 text-white",children:[g.jsx("h1",{className:"text-2xl font-bold mb-6",children:"Audit Logs"}),g.jsxs("div",{className:"mb-6 grid grid-cols-1 md:grid-cols-4 gap-3",children:[g.jsxs("select",{className:"p-2 bg-neutral-800 rounded border border-neutral-600",value:u,onChange:C=>d(C.target.value),children:[g.jsx("option",{value:"all",children:" Action"}),g.jsx("option",{value:"delete_myeongsik",children:" "}),g.jsx("option",{value:"restore_myeongsik",children:" "}),g.jsx("option",{value:"update_profile",children:" "}),g.jsx("option",{value:"impersonate_user",children:""})]}),g.jsxs("select",{className:"p-2 bg-neutral-800 rounded border border-neutral-600",value:h,onChange:C=>p(C.target.value),children:[g.jsx("option",{value:"all",children:" "}),g.jsx("option",{value:"",children:""}),g.jsx("option",{value:"system",children:"System"})]}),g.jsxs("select",{className:"p-2 bg-neutral-800 rounded border border-neutral-600",value:b,onChange:C=>x(C.target.value),children:[g.jsx("option",{value:"1",children:"24"}),g.jsx("option",{value:"7",children:"7"}),g.jsx("option",{value:"30",children:"30"}),g.jsx("option",{value:"all",children:""})]}),g.jsx("input",{className:"p-2 bg-neutral-800 rounded border border-neutral-600",placeholder:" (payload )",value:k,onChange:C=>S(C.target.value)})]}),_?g.jsx("div",{children:"Loading..."}):i.map(C=>g.jsxs("div",{className:"p-4 bg-neutral-900 border border-neutral-700 rounded mb-4 cursor-pointer hover:bg-neutral-800",onClick:()=>{t(C),r(!0)},children:[g.jsxs("div",{className:"flex items-center justify-between gap-3",children:[g.jsx("div",{className:"font-semibold text-lg",children:C.action}),g.jsx("button",{className:"px-2 py-1 text-xs bg-red-700 hover:bg-red-600 rounded cursor-pointer",onClick:M=>{M.stopPropagation(),N(C.id)},children:""})]}),g.jsxs("div",{className:"text-sm mt-1 text-neutral-400",children:[g.jsxs("div",{children:["Actor: ",C.actor_admin_id]}),g.jsxs("div",{children:["Target User: ",C.target_user_id||"-"]}),g.jsxs("div",{children:["Target Record: ",C.target_record_id||"-"]}),g.jsxs("div",{children:["Time: ",new Date(C.created_at).toLocaleString()]})]}),C.payload&&g.jsx("pre",{className:"mt-3 text-xs bg-neutral-800 p-2 rounded",children:JSON.stringify(C.payload,null,2)})]},C.id)),g.jsxs("div",{className:"flex items-center justify-center gap-3 mt-6",children:[g.jsx("button",{className:"px-3 py-1 bg-neutral-800 border border-neutral-600 rounded disabled:opacity-40 cursor-pointer",disabled:o===1,onClick:()=>l(C=>C-1),children:" "}),g.jsxs("span",{className:"text-neutral-400",children:["Page ",o]}),g.jsx("button",{className:"px-3 py-1 bg-neutral-800 border border-neutral-600 rounded cursor-pointer",onClick:()=>l(C=>C+1),children:" "})]}),g.jsx(r2e,{open:n,onClose:()=>r(!1),children:e&&g.jsxs("div",{children:[g.jsx("h2",{className:"text-xl font-bold mb-3",children:e.action}),g.jsxs("div",{className:"text-sm text-neutral-400 space-y-1 mb-4",children:[g.jsxs("div",{children:["Actor: ",e.actor_admin_id]}),g.jsxs("div",{children:["Target User: ",e.target_user_id??"-"]}),g.jsxs("div",{children:["Target Record: ",e.target_record_id??"-"]}),g.jsxs("div",{children:["Time: ",new Date(e.created_at).toLocaleString()]})]}),g.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Payload"}),g.jsx("pre",{className:"text-xs bg-neutral-800 p-3 rounded whitespace-pre-wrap",children:JSON.stringify(e.payload,null,2)})]})})]})}const a2e="15b517b3-3d97-41a6-ae17-563abd163a36".split(",").map(e=>e.trim()).filter(Boolean);function UU(){const[e,t]=w.useState(!1),[n,r]=w.useState(!1);if(w.useEffect(()=>{(async()=>{const{data:l}=await De.auth.getUser(),u=l.user?.id;r(!!u&&a2e.includes(u)),t(!0)})()},[]),!e)return g.jsx("div",{className:"p-6 text-white",children:"  ...!"});if(!n)return g.jsx("div",{className:"p-6 text-white",children:"  "});const i=window.location.pathname;let a=g.jsx(E3,{});if(i.startsWith("/admin/user/")){const o=i.replace("/admin/user/","");a=g.jsx(n2e,{params:{userId:o}})}else i.startsWith("/admin/user")?a=g.jsx(qEe,{}):i.startsWith("/admin/logs")?a=g.jsx(i2e,{}):i.startsWith("/admin/dashboard")&&(a=g.jsx(E3,{}));return g.jsx(Lde,{children:a})}function o2e({pillarsA:e,pillarsB:t}){const n=sie(e,t);return g.jsxs("div",{className:"rounded-xl p-4 bg-neutral-100 dark:bg-neutral-900 text-neutral-900 dark:text-neutral-100 space-y-2",children:[g.jsx("div",{className:"text-sm font-bold mb-3",children:"   "}),Object.entries(n).map(([r,i])=>i.length>0?g.jsxs("div",{className:"flex gap-2 text-xs",children:[g.jsx("span",{className:"shrink-0 w-20 text-xs font-semibold text-neutral-700 dark:text-neutral-400 mt-1",children:r}),g.jsx("div",{className:"flex flex-wrap gap-2",children:i.map((a,o)=>g.jsx("span",{className:"text-xs px-2 py-1 rounded-full border whitespace-nowrap bg-violet-100 text-violet-800 border-violet-200 dark:bg-violet-900/30 dark:text-violet-200 dark:border-violet-800",children:a},o))})]},r):null)]})}const s2e=["","","","","","","","","",""],l2e=["","","","","","","","","",""],c2e=["","","","","","","","","","","",""],u2e=["","","","","","","","","","","",""],d2e=new Set([...s2e,...l2e]),f2e=new Set([...c2e,...u2e]);function h2e(e){return typeof e=="object"&&e!==null}function M3(e){return typeof e=="string"&&e.length>=2&&d2e.has(e[0])&&f2e.has(e[1])}function rn(e,...t){if(M3(e))return e;for(const n of t)if(M3(n))return n;return""}function sb(e,t){let n=null;const r=t.getTime();for(const i of e)if(i.at.getTime()<=r)n=i;else break;return n}function m2e(e){const t=n=>String(n).padStart(2,"0");return`${e.getFullYear()}-${t(e.getMonth()+1)}-${t(e.getDate())}T${t(e.getHours())}:${t(e.getMinutes())}`}function D3(e){if(!e)return null;const t=/^(\d{4})-(\d{2})-(\d{2})T(\d{2}):(\d{2})$/.exec(e);if(!t)return null;const[,n,r,i,a,o]=t,l=new Date(+n,+r-1,+i,+a,+o);return Number.isNaN(l.getTime())?null:l}function Qy(e){const t=e;return typeof t.name=="string"&&t.name?t.name:typeof t.title=="string"&&t.title?t.title:typeof t.memo=="string"&&t.memo?t.memo:" "}function p2e(e){const t=Number(e.birthDay.slice(0,4)),n=Number(e.birthDay.slice(4,6)),r=Number(e.birthDay.slice(6,8));let i=0,a=0;const o=e;return typeof o.birthTime=="string"&&o.birthTime.length>=4&&(i=Number(o.birthTime.slice(0,2)),a=Number(o.birthTime.slice(2,4))),{y:t,m:n,d:r,hh:i,mm:a}}function vx(e){const{y:t,m:n,d:r,hh:i,mm:a}=p2e(e),o=e.corrected instanceof Date&&!Number.isNaN(e.corrected.getTime())?e.corrected:new Date(t,n-1,r,i,a),l=o.getHours(),u=o.getMinutes();return e.calendarType==="lunar"?Gi(t,n,r,l,u):new Date(t,n-1,r,l,u)}function g2e(e){const t=vx(e);return`${Qy(e)}-${t.toISOString()}`}function xd(e){const t=e;return typeof t.id=="string"&&t.id?t.id:g2e(e)}function b2e(e){return h2e(e)&&("Classic"in e||"Modern"in e||"classic"in e||"modern"in e)}function y2e(e){const t=F4;return b2e(t)?e==="classic"?t.Classic:t.Modern:e}function v2e(e){if(!e)return"";const t=e,n=l=>typeof t[l]=="string"?String(t[l]).trim().toLowerCase():null,r=l=>typeof t[l]=="boolean"?t[l]:null,i=[n("gender"),n("sex"),n("genderType"),n(""),n("sexType"),n("g")].filter(l=>!!l);for(const l of i){if(["","","male","m","boy","man"].includes(l))return"";if(["","","female","f","girl","woman"].includes(l))return""}const a=r("isMale"),o=r("isFemale");return a===!0?"":o===!0?"":""}const HS="people_picker_order_v1";function x2e(e,t,n){const r=e.slice(),[i]=r.splice(t,1);return r.splice(n,0,i),r}function P3({open:e,list:t,onSelect:n,onClose:r}){const[i,a]=w.useState("");w.useEffect(()=>{e||a("")},[e]);const o=w.useMemo(()=>t.map(xd),[t]),l=w.useMemo(()=>new Set(o),[o]),[u,d]=w.useState([]);w.useEffect(()=>{const S=localStorage.getItem(HS),_=S?JSON.parse(S):[],T=_.filter(j=>l.has(j)),N=[...T,...o.filter(j=>!T.includes(j))];d(N),JSON.stringify(N)!==JSON.stringify(_)&&localStorage.setItem(HS,JSON.stringify(N))},[o,l]);const h=S=>{d(S),localStorage.setItem(HS,JSON.stringify(S))},p=w.useMemo(()=>{const S=new Map(t.map(j=>[xd(j),j])),_=[];for(const j of u){const C=S.get(j);C&&_.push(C)}S.forEach((j,C)=>{u.includes(C)||_.push(j)});const T=[],N=[];for(const j of _)(typeof j.relationship=="string"?j.relationship.trim():"")===""?T.push(j):N.push(j);return[...T,...N]},[t,u]),b=w.useMemo(()=>{const S=i.trim().toLowerCase();return S?p.filter(_=>{const T=typeof _.relationship=="string"?_.relationship.trim():"";return`${Qy(_)} ${T}`.toLowerCase().includes(S)}):p},[p,i]),x=i.trim()==="",k=S=>{const{destination:_,source:T}=S;if(!_||!x||_.index===T.index)return;const N=b.map(xd),j=x2e(N,T.index,_.index),M=p.map(xd).filter($=>!N.includes($)),P=[...j,...M].filter(($,U,Y)=>Y.indexOf($)===U);h(P)};return g.jsxs(g.Fragment,{children:[g.jsx("style",{children:"[data-rbd-drag-handle-context-id]{touch-action:none!important}"}),g.jsx("div",{className:`fixed inset-0 bg-black/60 transition-opacity duration-200 z-[1000] ${e?"opacity-100 pointer-events-auto":"opacity-0 pointer-events-none"}`,onClick:r}),g.jsxs("div",{className:`fixed bottom-0 inset-x-0 mx-auto w-full max-w-[640px] max-h-[80dvh] bg-white dark:bg-neutral-950 rounded-t-2xl border border-neutral-200 dark:border-neutral-800 p-4 overflow-auto transition-transform duration-300 z-[1001] ${e?"translate-y-0":"translate-y-full"}`,children:[g.jsxs("div",{className:"flex items-center justify-between mb-3",children:[g.jsx("h3",{className:"text-sm font-semibold text-neutral-900 dark:text-neutral-200",children:" "}),g.jsx("button",{onClick:r,className:"text-neutral-500 hover:text-neutral-900 dark:text-neutral-400 dark:hover:text-white text-sm cursor-pointer",children:""})]}),g.jsxs("div",{className:"mb-3",children:[g.jsx("input",{value:i,onChange:S=>a(S.target.value),placeholder:" ",className:"w-full px-3 py-2 rounded border border-neutral-300 dark:border-neutral-700 bg-white dark:bg-neutral-900 text-sm"}),g.jsx("div",{className:"text-[11px] text-neutral-500 mt-1",children:"    ."})]}),g.jsx(lp,{onDragEnd:k,children:g.jsx(mf,{droppableId:"people-picker",children:S=>g.jsxs("ul",{className:"space-y-2",ref:S.innerRef,...S.droppableProps,children:[b.map((_,T)=>{const N=vx(_),j=typeof _.relationship=="string"?_.relationship.trim():"",C=j||" ",M=Qy(_),P=j&&M===" "?j:M;return g.jsx(hf,{draggableId:xd(_),index:T,isDragDisabled:!x,children:$=>g.jsx("li",{ref:$.innerRef,...$.draggableProps,...$.dragHandleProps,className:"flex items-center justify-between gap-2 px-3 py-2 rounded border border-neutral-200 dark:border-neutral-800 bg-white dark:bg-neutral-900",children:g.jsxs("button",{onClick:()=>n(_),className:"flex-1 text-left cursor-pointer",children:[g.jsxs("div",{className:"flex items-center gap-2 text-sm text-neutral-900 dark:text-neutral-100",children:[g.jsx("span",{children:P}),g.jsx("span",{className:`text-[10px] px-1.5 py-0.5 rounded border border-neutral-300 dark:border-neutral-700 ${j?"text-neutral-600 dark:text-neutral-300":"text-neutral-400 dark:text-neutral-500"}`,children:C})]}),g.jsx("div",{className:"text-neutral-500 dark:text-neutral-400 text-xs",children:bm(N)})]})})},xd(_))}),S.placeholder]})})})]})]})}function GS({label:e,gzHour:t,gzDay:n,gzMonth:r,gzYear:i,dayStem:a,cardSettings:o,sinsalBaseBranch:l,sinsalMode:u,sinsalBloom:d}){const h=S=>{const _=o.showSibiUnseong?Mo(a,S):"",T=o.showSibiSinsal?Do({baseBranch:l,targetBranch:S,era:y2e(u),gaehwa:!!d}):"";return{unseongText:_||void 0,shinsalText:T||void 0}},p=rn(t).charAt(1),b=rn(n).charAt(1),x=rn(r).charAt(1),k=rn(i).charAt(1);return g.jsxs("div",{className:"rounded-lg border bg-white dark:bg-neutral-900 border-neutral-200 dark:border-neutral-800 py-2 desk:p-2",children:[g.jsx("div",{className:"px-2 py-1 text-xs text-neutral-600 dark:text-neutral-300",children:e}),g.jsx("div",{className:"grid grid-cols-4 gap-1 text-neutral-900 dark:text-white",children:[["",rn(t),p],["",rn(n),b],["",rn(r),x],["",rn(i),k]].map(([S,_,T])=>{const{unseongText:N,shinsalText:j}=h(T);return g.jsx(Ed,{label:S,gz:_,dayStem:a,settings:jn.getState().settings,unseongText:N,shinsalText:j,hideBranchSipSin:!0,size:"sm"},`${e}-${S}`)})})]})}function _d({label:e,data:t,mode:n,effectiveDate:r,onPick:i}){const a=jn(P=>P.settings),o=w.useMemo(()=>t?vx(t):null,[t]),l="/",u=rn(o?Fa(o,l):void 0),d=rn(o?pt(o,l):void 0),h=rn(o?_t(o):void 0),p=rn(o?ot(o):void 0),b=w.useMemo(()=>d.charAt(0)||"",[d]),x=o,k=w.useMemo(()=>{const P=t?.birthPlace;return!P||P.name===""||!P.lon?127.5:P.lon},[t]),S=t?.mingSikType??l,_=w.useMemo(()=>{const P=x?pt(x,S).charAt(1):d.charAt(1)||"",$=x?ot(x,k).charAt(1):p.charAt(1)||"";return(a.sinsalBase??"")===""?P:$},[a.sinsalBase,x,S,k,d,p]),T=w.useMemo(()=>{if(n!==""||!o||!t)return null;try{const P=G4(o,u,t.dir,120,t.mingSikType),$=Y4(P,d,t.dir,t.DayChangeRule),U=hp(o,h,t.dir,120,t?.birthPlace?.lon??127.5),Y=K4(U,p,t.dir,t.DayChangeRule,o),W=r;return{si:rn(sb(P.events,W)?.gz,u),il:rn(sb($.events,W)?.gz,d),wl:rn(sb(U.events,W)?.gz,h),yn:rn(sb(Y.events,W)?.gz,p)}}catch{return null}},[n,o,u,d,h,p,r,t]),N=w.useMemo(()=>{if(n!=="")return null;const P=r;return{si:rn(Fa(P,l)),il:rn(pt(P,l)),wl:rn(_t(P)),yn:rn(ot(P))}},[n,r]),j=t?Qy(t):"",C=o?bm(o):"",M=t?v2e(t):"";return t?g.jsxs("div",{className:"space-y-2",children:[g.jsx("button",{onClick:i,className:"px-3 py-1 rounded text-xs bg-neutral-900 dark:bg-white text-white dark:text-neutral-900 border border-neutral-900 dark:border-white hover:opacity-90 cursor-pointer",title:"  ",children:" "}),g.jsxs("div",{className:"text-[11px] text-neutral-600 dark:text-neutral-300",children:[g.jsx("span",{className:"font-semibold text-neutral-900 dark:text-neutral-200",children:e}),g.jsx("span",{className:"ml-2 text-neutral-900 dark:text-neutral-50",children:j}),M&&g.jsxs("span",{className:"ml-1 text-neutral-500 dark:text-neutral-400",children:[" ",M]}),C&&g.jsx("span",{className:"block mt-1 text-neutral-500 dark:text-neutral-400 text-[10px]",children:C})]}),n===""&&g.jsx(GS,{label:"",gzHour:u,gzDay:d,gzMonth:h,gzYear:p,dayStem:b,cardSettings:a,sinsalBaseBranch:_,sinsalMode:a.sinsalMode,sinsalBloom:!!a.sinsalBloom}),n===""&&T&&g.jsx(GS,{label:"",gzHour:T.si,gzDay:T.il,gzMonth:T.wl,gzYear:T.yn,dayStem:b,cardSettings:a,sinsalBaseBranch:_,sinsalMode:a.sinsalMode,sinsalBloom:!!a.sinsalBloom}),n===""&&N&&g.jsx(GS,{label:"",gzHour:N.si,gzDay:N.il,gzMonth:N.wl,gzYear:N.yn,dayStem:b,cardSettings:a,sinsalBaseBranch:_,sinsalMode:a.sinsalMode,sinsalBloom:!!a.sinsalBloom})]}):g.jsx("div",{className:"flex items-center justify-center h-48 rounded-lg border border-dashed bg-white dark:bg-neutral-900 border-neutral-300 dark:border-neutral-700",children:g.jsx("button",{onClick:i,className:"px-3 py-2 rounded bg-neutral-900 dark:bg-white text-white dark:text-neutral-900 text-sm hover:opacity-90 cursor-pointer",children:" "})})}function _2e({people:e=[]}){const[t,n]=w.useState(),[r,i]=w.useState(),[a,o]=w.useState(!1),[l,u]=w.useState(!1),d=w.useRef(new Date),[h,p]=w.useState(()=>m2e(d.current)),b=w.useRef(D3(h)??d.current),x=w.useMemo(()=>{const C=D3(h);return C&&(b.current=C),b.current},[h]),[k,S]=w.useState(!1),[_,T]=w.useState(!1);function N(C){if(!C)return["","","",""];try{const M=vx(C),P="/",$={hour:rn(Fa(M,P)),day:rn(pt(M,P)),month:rn(_t(M)),year:rn(ot(M))};return[$.year,$.month,$.day,$.hour]}catch{return["","","",""]}}const j=on(C=>C.canUseMyoViewerNow());return g.jsxs(g.Fragment,{children:[g.jsxs("div",{className:"w-[96%] max-w-[640px] mx-auto bg-white dark:bg-neutral-950 text-neutral-900 dark:text-neutral-100 rounded-xl shadow border border-neutral-200 dark:border-neutral-800 px-2 py-4 desk:p-4",children:[g.jsxs("header",{className:"flex gap-3 justify-between items-center mb-4",children:[g.jsx("div",{className:"font-semibold text-sm text-neutral-900 dark:text-neutral-200",children:" "}),g.jsxs("div",{className:"flex items-center gap-4 text-xs text-neutral-600 dark:text-neutral-400",children:[j?g.jsxs("label",{className:"flex items-center gap-1 cursor-pointer",children:[g.jsx("input",{type:"checkbox",checked:a,onChange:C=>o(C.target.checked),className:"accent-indigo-500"})," "]}):null,g.jsx("button",{onClick:()=>u(C=>!C),className:"px-2 py-1 rounded border border-neutral-300 dark:border-neutral-700 hover:border-indigo-500 text-neutral-700 dark:text-neutral-300 bg-white dark:bg-neutral-900 cursor-pointer",children:l?" ":" "})]})]}),g.jsxs("div",{className:"grid grid-cols-2 gap-2 desk:gap-4",children:[g.jsx(_d,{label:" A",data:t,mode:"",effectiveDate:x,onPick:()=>S(!0)}),g.jsx(_d,{label:" B",data:r,mode:"",effectiveDate:x,onPick:()=>T(!0)}),a&&t&&g.jsx(_d,{label:" A",data:t,mode:"",effectiveDate:x,onPick:()=>S(!0)}),a&&r&&g.jsx(_d,{label:" B",data:r,mode:"",effectiveDate:x,onPick:()=>T(!0)}),l&&t&&g.jsx(_d,{label:" A",data:t,mode:"",effectiveDate:x,onPick:()=>S(!0)}),l&&r&&g.jsx(_d,{label:" B",data:r,mode:"",effectiveDate:x,onPick:()=>T(!0)})]}),t&&r&&g.jsx("div",{className:"mt-4",children:g.jsx(o2e,{pillarsA:N(t),pillarsB:N(r)})}),g.jsxs("div",{className:"mt-4 max-w-[260px] mx-auto text-center",children:[g.jsx("label",{className:"min-w-0 block text-xs text-neutral-600 dark:text-neutral-400 mb-2",children:" /"}),g.jsx("input",{type:"datetime-local",value:h,onChange:C=>p(C.target.value),className:"min-w-0 bg-white dark:bg-neutral-900 border border-neutral-300 dark:border-neutral-700 rounded px-3 py-1 text-xs w-[260px] max-w-[260px] box-border overflow-x-hidden text-neutral-900 dark:text-neutral-100 h-30",min:"1900-01-01T00:00",max:"2100-12-31T23:59"})]})]}),g.jsx(P3,{open:k,list:e||[],onSelect:C=>{n(C),S(!1)},onClose:()=>S(!1)}),g.jsx(P3,{open:_,list:e||[],onSelect:C=>{i(C),T(!1)},onClose:()=>T(!1)})]})}function w2e(){const[e,t]=w.useState(!1),[n,r]=w.useState(!1),i=async()=>{try{const{data:{user:a}}=await De.auth.getUser();if(!a){alert("  .");return}const o=a.id,l=new Date().toISOString();await De.from("profiles").update({disabled_at:l}).eq("id",o),await De.from("myeongsik").update({deleted_at:l}).eq("user_id",o),await De.auth.signOut(),alert(" .   ."),window.location.href="/"}catch(a){console.error(a),alert("    .")}};return g.jsxs(g.Fragment,{children:[g.jsxs("footer",{className:"py-8 pb-[calc(64px+env(safe-area-inset-bottom,0px)+var(--bottom-dock,0px))] px-4 border-t border-neutral-200 dark:border-neutral-700",children:[g.jsx("div",{className:"text-center text-[12px] text-orange-600 dark:text-orange-300",children:"Copyright  2025 Hwarim96. All rights reserved."}),g.jsxs("div",{className:"flex justify-center items-center gap-4 mt-3",children:[g.jsx("button",{onClick:()=>t(!0),className:"text-[12px] text-neutral-500 dark:text-neutral-300 underline cursor-pointer hover:text-orange-500 transition",children:" "}),g.jsx("button",{onClick:()=>r(!0),className:"text-[12px] text-red-500 underline hover:text-red-400 transition cursor-pointer",children:""})]})]}),e&&g.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50",onClick:()=>t(!1),children:g.jsxs("div",{className:"w-full max-w-lg bg-white dark:bg-neutral-900 text-neutral-900 dark:text-neutral-200 p-6 rounded-xl shadow-xl relative animate-fadeInUp",onClick:a=>a.stopPropagation(),children:[g.jsx("h2",{className:"text-lg font-bold mb-4",children:" "}),g.jsxs("div",{className:"text-sm leading-relaxed max-h-[60vh] overflow-y-auto pr-2",children:[g.jsx("p",{className:"mb-2",children:"     ,    ."}),g.jsx("p",{className:"font-semibold mt-4 mb-1",children:"1.  "}),g.jsxs("p",{className:"mb-2",children:["   (, )",g.jsx("br",{}),"       ( ,  )"]}),g.jsx("p",{className:"font-semibold mt-4 mb-1",children:"2.  "}),g.jsxs("p",{className:"mb-2",children:["     ",g.jsx("br",{}),"    /  ",g.jsx("br",{}),"      "]}),g.jsx("p",{className:"font-semibold mt-4 mb-1",children:"3.  "}),g.jsxs("p",{className:"mb-2",children:["     ",g.jsx("br",{}),"         "]}),g.jsx("p",{className:"font-semibold mt-4 mb-1",children:"4. 3 "}),g.jsx("p",{className:"mb-2",children:"   3  ."}),g.jsx("p",{className:"font-semibold mt-4 mb-1",children:"5. "}),g.jsx("p",{className:"mb-2",children:" Supabase /DB    ."}),g.jsx("p",{className:"font-semibold mt-4 mb-1",children:"6. "}),g.jsx("p",{children:"   : unique950318@gmail.com"})]}),g.jsx("button",{onClick:()=>t(!1),className:"cursor-pointer mt-4 w-full py-2 bg-neutral-900 dark:bg-neutral-700 text-white rounded-lg hover:bg-neutral-800 transition",children:""})]})}),n&&g.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50",onClick:()=>r(!1),children:g.jsxs("div",{className:"w-full max-w-sm bg-white dark:bg-neutral-900 text-neutral-900 dark:text-neutral-200 p-6 rounded-xl shadow-xl relative animate-fadeInUp",onClick:a=>a.stopPropagation(),children:[g.jsx("h2",{className:"text-lg font-bold mb-4 text-red-500",children:" ?"}),g.jsxs("p",{className:"text-sm leading-relaxed mb-6",children:["        .",g.jsx("br",{}),"    ."]}),g.jsxs("div",{className:"flex gap-3",children:[g.jsx("button",{onClick:()=>r(!1),className:"cursor-pointer flex-1 py-2 bg-neutral-300 dark:bg-neutral-700 text-black dark:text-white rounded-lg hover:bg-neutral-400 transition",children:""}),g.jsx("button",{onClick:i,className:"cursor-pointer flex-1 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition",children:""})]})]})})]})}function S2e(e){const t=e.getFullYear(),n=String(e.getMonth()+1).padStart(2,"0"),r=String(e.getDate()).padStart(2,"0");return`${t}-${n}-${r}`}function qS(e){if(!/^\d{4}-\d{2}-\d{2}$/.test(e))return null;const[t,n,r]=e.split("-"),i=Number(t),a=Number(n),o=Number(r);if(!Number.isFinite(i)||!Number.isFinite(a)||!Number.isFinite(o)||a<1||a>12)return null;const l=new Date(i,a,0).getDate();return o<1||o>l?null:{y:i,m:a,d:o}}function R3(e,t,n){return e<t?t:e>n?n:e}function FU({date:e,onChange:t,min:n="1900-01-01",max:r="2100-12-31",className:i="px-2 py-1 text-xs border rounded bg-white dark:bg-neutral-700"}){const a=w.useMemo(()=>e instanceof Date&&!Number.isNaN(e.getTime())?e:new Date,[e]),o=w.useMemo(()=>S2e(a),[a]),[l,u]=w.useState(o);w.useEffect(()=>{u(o)},[o]);const d=h=>{if(!qS(h))return;const b=R3(h,n,r),{y:x,m:k,d:S}=qS(b),_=a.getHours(),T=a.getMinutes(),N=a.getSeconds(),j=a.getMilliseconds(),C=new Date(x,k-1,S,_,T,N,j);Number.isNaN(C.getTime())||t(C)};return g.jsx("input",{type:"date",value:l,min:n,max:r,onChange:h=>{const p=h.target.value;u(p),p&&d(p)},onBlur:()=>{if(!l||!qS(l)){u(o);return}const h=R3(l,n,r);h!==l&&(u(h),d(h))},className:i,"aria-label":" "})}function k2e({ms:e}){const{date:t,setDate:n}=fi(),r=w.useMemo(()=>{const u=typeof e.id=="string"?e.id:"";if(u)return u;const d=typeof e.birthDay=="string"||typeof e.birthDay=="number"?String(e.birthDay):"",h=typeof e.birthTime=="string"?e.birthTime:"";return[typeof e.ganji=="string"?e.ganji:"",d,h].filter(Boolean).join("|")},[e]);w.useEffect(()=>{n(new Date)},[r]);const i=aA(e),a=t instanceof Date&&!Number.isNaN(t.getTime())?t:new Date,o=w.useMemo(()=>{const u=typeof e.ganji=="string"?e.ganji:"",d=i?.dae?.gz?`${i.dae.gz}`:null,h=i?.se?.gz?`${i.se.gz}`:null,p=i?.wol?.gz?`${i.wol.gz}`:null,b=[d,h,p].filter(Boolean).join(" ");return[u,b].filter(Boolean).join(" + ")},[e.ganji,i]),l=u=>{n(u)};return g.jsxs("div",{className:"w-[calc(100%_-_16px)] max-w-[625px] desk:max-w-[640px] mx-auto mb-4 px-2 rounded-xl border border-neutral-200 dark:border-neutral-800 bg-white dark:bg-neutral-950 p-3 space-y-3",children:[o&&g.jsx("div",{className:"text-center text-sm font-medium text-neutral-800 dark:text-neutral-200",children:o}),g.jsx("div",{className:"grid grid-cols-1 gap-3",children:g.jsxs("label",{className:"w-full flex justify-center items-center",children:[g.jsx("span",{className:"text-sm text-neutral-500 mr-4",children:""}),g.jsx(FU,{date:a,onChange:l,min:"1900-01-01",max:"2100-12-31"})]})})]})}function E2e({useWoldu:e,useSiju:t,hourRule:n,gender:r,onToggleWoldu:i,onToggleSiju:a,onChangeHourRule:o,onChangeGender:l}){return g.jsxs("div",{className:"flex flex-wrap items-center gap-6 mb-4",children:[g.jsxs("div",{children:[g.jsx("p",{className:"font-medium mb-2",children:"/"}),g.jsxs("span",{className:"mr-3 chkContainer",children:[g.jsx("input",{type:"checkbox",id:"useWoldu",checked:e,onChange:u=>i(u.target.checked)}),g.jsx("label",{htmlFor:"useWoldu",className:"ml-1",children:" "})]}),g.jsxs("span",{className:"chkContainer",children:[g.jsx("input",{type:"checkbox",id:"useSidu",checked:t,onChange:u=>a(u.target.checked)}),g.jsx("label",{htmlFor:"useSidu",className:"ml-1",children:" "})]})]}),g.jsxs("div",{children:[g.jsx("p",{className:"font-medium mb-2",children:" "}),g.jsxs("span",{className:"mr-3 chkContainer",children:[g.jsx("input",{type:"radio",id:"jasi",checked:n==="",onChange:()=>o("")}),g.jsx("label",{htmlFor:"jasi",className:"ml-1",children:""})]}),g.jsxs("span",{className:"chkContainer",children:[g.jsx("input",{type:"radio",id:"insi",checked:n==="",onChange:()=>o("")}),g.jsx("label",{htmlFor:"insi",className:"ml-1",children:""})]})]}),g.jsxs("div",{children:[g.jsx("p",{className:"font-medium mb-2",children:""}),g.jsxs("span",{className:"mr-3 chkContainer",children:[g.jsx("input",{type:"radio",id:"male",checked:r==="male",onChange:()=>l("male")}),g.jsx("label",{htmlFor:"male",className:"ml-1",children:""})]}),g.jsxs("span",{className:"chkContainer",children:[g.jsx("input",{type:"radio",id:"female",checked:r==="female",onChange:()=>l("female")}),g.jsx("label",{htmlFor:"female",className:"ml-1",children:""})]})]})]})}function A2e({pillars:e,active:t,canEnterOthers:n,onActivate:r}){return g.jsx("div",{className:"grid grid-cols-4 gap-2 mb-4",children:[["hourStem",""],["dayStem",""],["monthStem",""],["yearStem",""],["hourBranch",""],["dayBranch",""],["monthBranch",""],["yearBranch",""]].map(([i,a])=>{const o=!n&&!(i==="yearStem"||i==="yearBranch"||i==="dayStem"||i==="dayBranch"),l=t===i;return g.jsxs("button",{onClick:()=>!o&&r(i),disabled:o,className:["border rounded p-2 text-center cursor-pointer",l?"border-purple-500 bg-purple-100 dark:bg-purple-900/30":"border-neutral-300 dark:border-neutral-700",o?"opacity-50 cursor-not-allowed":""].join(" "),children:[a,g.jsx("br",{}),g.jsx("span",{className:"font-bold",children:e[i]??"-"})]},i)})})}function T2e({results:e,selectedRow:t,onSelectRow:n,gender:r}){return e?e.length===0?g.jsx("div",{className:"p-4 text-neutral-500",children:"  ."}):g.jsxs("table",{className:"w-full text-xs",children:[g.jsx("thead",{className:"sticky top-0 bg-neutral-50 dark:bg-neutral-800",children:g.jsxs("tr",{children:[g.jsx("th",{className:"p-1 text-center",children:""}),g.jsx("th",{className:"p-1 text-center",children:""}),g.jsx("th",{className:"p-1 text-center",children:""}),g.jsx("th",{className:"p-1 text-center",children:""}),g.jsx("th",{className:"p-1 text-center",children:""}),g.jsx("th",{className:"p-1 text-center",children:""}),g.jsx("th",{className:"p-1 text-center",children:""})]})}),g.jsx("tbody",{children:e.map((i,a)=>g.jsxs("tr",{className:"border-t border-neutral-200 dark:border-neutral-800",children:[g.jsx("td",{className:"p-1 text-center",children:g.jsxs("span",{className:"chkContainer",children:[g.jsx("input",{type:"radio",name:"selectRow",id:`selectRow-${a}`,checked:t===a,onChange:()=>n(a)}),g.jsx("label",{htmlFor:`selectRow-${a}`,children:"ON"})]})}),g.jsx("td",{className:"p-1 text-center",children:i.date}),g.jsx("td",{className:"p-1 text-center",children:i.year}),g.jsx("td",{className:"p-1 text-center",children:i.month}),g.jsx("td",{className:"p-1 text-center",children:i.day}),g.jsx("td",{className:"p-1 text-center",children:g.jsx("div",{className:"flex flex-wrap gap-1",children:i.hourSlots.map((o,l)=>g.jsx("span",{className:"inline-flex items-center mx-auto gap-1 px-1 py-0.5 rounded bg-neutral-100 dark:bg-neutral-800 border border-neutral-200 dark:border-neutral-700",children:g.jsx("b",{children:o.branch})},l))})}),g.jsx("td",{className:"p-1 text-center",children:r==="male"?"":""})]},`${i.date}-${a}`))})]}):g.jsx("div",{className:"p-2 text-neutral-500 text-sm text-center",children:"    ."})}function j2e({toast:e,showToast4:t,searchToast:n,error:r}){return g.jsxs(g.Fragment,{children:[e&&g.jsx("div",{className:"pointer-events-none fixed left-1/2 -translate-x-1/2 top-6 z-[1100] border border-white/30",children:g.jsx("div",{className:"px-4 py-2 rounded-md bg-black/80 text-white text-sm shadow-lg",children:e})}),t&&g.jsx("div",{className:"fixed inset-0 flex items-center justify-center z-[2000]",children:g.jsx("div",{className:"bg-black text-white px-4 py-2 rounded-lg shadow-lg",children:" 4  ."})}),n&&g.jsx("div",{className:"fixed inset-0 flex items-center justify-center z-[2000]",children:g.jsxs("div",{className:"bg-black text-white px-4 py-2 rounded-lg shadow-lg text-center",children:["  .",g.jsx("br",{}),"   ."]})}),r&&g.jsx("div",{className:"mt-3 text-xs text-red-600 text-center",children:r})]})}function O2e({choices:e,onChoose:t}){return!e||e.length===0?null:g.jsxs("div",{className:"mb-3",children:[g.jsx("p",{className:"text-sm mb-1",children:"  ."}),g.jsx("div",{className:"flex gap-2",children:e.map(n=>g.jsx("button",{onClick:()=>t(n),className:"flex-1 px-2 py-1 border rounded hover:bg-orange-100 dark:hover:bg-orange-800 cursor-pointer",children:n},n))})]})}const rj=["","","","","","","","","",""],Lp=["","","","","","","","","","","",""],N2e={:0,:1,:2,:3,:4,:5,:6,:7,:8,:9},HU=["","","","","","","","","","","",""],C2e=Lp,M2e=HU,D2e=["23:00~0:59","01:00~2:59","03:00~4:59","05:00~6:59","07:00~8:59","09:00~10:59","11:00~12:59","13:00~14:59","15:00~16:59","17:00~18:59","19:00~20:59","21:00~22:59"],P2e={:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},R2e={:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""};function Jm(e,t){let n;e===""||e===""?n="":e===""||e===""?n="":e===""||e===""?n="":e===""||e===""?n="":n="";const r=N2e[n],i=HU.indexOf(t),a=(r+(i>=0?i:0))%10;return rj[a]}function xx(e,t){const n=t===""?C2e:M2e,r=e===""||e===""?0:e===""||e===""?2:e===""||e===""?4:e===""||e===""?6:8,i=Lp.reduce((a,o)=>(a[o]="",a),{});for(let a=0;a<12;a++){const o=rj[(r+a)%10],l=n[a];i[l]=`${o}${l}`}return i}const L2e={:{hh:0,mi:0},:{hh:2,mi:0},:{hh:4,mi:0},:{hh:6,mi:0},:{hh:8,mi:0},:{hh:10,mi:0},:{hh:12,mi:0},:{hh:14,mi:0},:{hh:16,mi:0},:{hh:18,mi:0},:{hh:20,mi:0},:{hh:22,mi:0}};function I2e(e){return e==="yearStem"?"yearBranch":e==="yearBranch"?"yearStem":e==="monthStem"?"monthBranch":e==="monthBranch"?"monthStem":e==="dayStem"?"dayBranch":e==="dayBranch"?"dayStem":e==="hourStem"?"hourBranch":"hourStem"}function $2e({active:e,pillars:t,activeIsStem:n,activeIsBranch:r,onSelect:i,settingsObj:a}){return e?g.jsxs("div",{className:"w-full",children:[n&&g.jsxs("div",{children:[g.jsx("p",{className:"font-medium mb-2",children:""}),g.jsx("div",{className:"grid grid-cols-5 gap-2",children:rj.map(o=>g.jsx("button",{onClick:()=>i(o),className:`border rounded px-2 py-1 cursor-pointer ${Ui(o,"stem",a)}`,children:o},o))})]}),r&&g.jsxs("div",{children:[g.jsx("p",{className:"font-medium mb-2",children:""}),g.jsx("div",{className:"grid grid-cols-6 gap-2",children:Lp.filter(o=>{const l=I2e(e),u=t[l];return u?R2e[o]===P2e[u]:!0}).map(o=>g.jsx("button",{onClick:()=>i(o),className:`border rounded px-2 py-1 cursor-pointer ${Ui(o,"branch",a)}`,children:o},o))})]})]}):g.jsx("div",{className:"text-sm text-neutral-500 p-2 border rounded w-full text-center",children:"   ."})}function B2e(){const[e,t]=w.useState({}),[n,r]=w.useState(null),[i,a]=w.useState(null),[o,l]=w.useState(!0),[u,d]=w.useState(!0),[h,p]=w.useState(""),[b,x]=w.useState("male"),[k,S]=w.useState(null),[_,T]=w.useState(!1),[N,j]=w.useState(null),[C,M]=w.useState({gender:"",mingSikType:"/",DayChangeRule:"",calendarType:"solar"}),[P,$]=w.useState(!1),[U,Y]=w.useState(null),[W,H]=w.useState(null),[z,V]=w.useState(!1),[X,Z]=w.useState(!1),q=Q=>{H(Q),setTimeout(()=>H(null),1800)};return w.useEffect(()=>{if(!z)return;const Q=setTimeout(()=>V(!1),2e3);return()=>clearTimeout(Q)},[z]),w.useEffect(()=>{if(!X)return;const Q=setTimeout(()=>Z(!1),2e3);return()=>clearTimeout(Q)},[X]),{pillars:e,setPillars:t,active:n,setActive:r,monthBranchChoices:i,setMonthBranchChoices:a,useWoldu:o,setUseWoldu:l,useSiju:u,setUseSiju:d,hourRule:h,setHourRule:p,gender:b,setGender:x,results:k,setResults:S,searching:_,setSearching:T,selectedRow:N,setSelectedRow:j,form:C,setForm:M,unknownPlace:P,setUnknownPlace:$,error:U,setError:Y,toast:W,showToast4:z,setShowToast:V,searchToast:X,setSearchToast:Z,showToast:q}}function GU(e){return!!(e.yearStem&&e.yearBranch&&e.monthStem&&e.monthBranch&&e.dayStem&&e.dayBranch&&e.hourStem&&e.hourBranch)}function L3(e,t){return Lp.filter(n=>Jm(e,n)===t)}function I3(e,t,n){if(!n||!e.yearStem)return{next:e,monthBranchChoices:null};const r={...e};if(!r.yearStem)return{next:r,monthBranchChoices:null};if(t==="monthStem"&&r.monthStem){const i=L3(r.yearStem,r.monthStem);return i.length>=2?{next:r,monthBranchChoices:i.slice(0,2)}:(i.length===1&&(r.monthBranch=i[0]),{next:r,monthBranchChoices:null})}if(t==="monthBranch"&&r.monthBranch)return r.monthStem=Jm(r.yearStem,r.monthBranch),{next:r,monthBranchChoices:null};if(t==="yearStem")if(r.monthStem&&!r.monthBranch){const i=L3(r.yearStem,r.monthStem);if(i.length>=2)return{next:r,monthBranchChoices:i.slice(0,2)};i.length===1&&(r.monthBranch=i[0])}else r.monthBranch&&!r.monthStem&&(r.monthStem=Jm(r.yearStem,r.monthBranch));return{next:r,monthBranchChoices:null}}function z2e(e,t,n,r){if(!n||!e.dayStem)return e;const i={...e};if(!i.dayStem)return i;const a=xx(i.dayStem,r),o=u=>Object.entries(a).find(([,d])=>d.startsWith(u)),l=u=>a[u];if(t==="hourStem"&&i.hourStem){const u=o(i.hourStem);return u&&(i.hourBranch=u[0]),i}if(t==="hourBranch"&&i.hourBranch){const u=l(i.hourBranch);return u&&(i.hourStem=u.slice(0,1)),i}if(t==="dayStem"){if(i.hourStem&&!i.hourBranch){const u=o(i.hourStem);u&&(i.hourBranch=u[0])}else if(i.hourBranch&&!i.hourStem){const u=l(i.hourBranch);u&&(i.hourStem=u.slice(0,1))}}return i}function U2e(e,t){return!t||!e.yearStem?!1:e.monthBranch&&e.monthStem?Jm(e.yearStem,e.monthBranch)!==e.monthStem:!1}function F2e(e,t,n){if(!t||!e.dayStem)return!1;if(e.hourBranch&&e.hourStem){const i=xx(e.dayStem,n)[e.hourBranch];return i?i.slice(0,1)!==e.hourStem:!1}return!1}function YS(e,t,n){const i=xx(e,t)[n];return i?i.slice(0,1):null}function H2e({pillars:e,setPillars:t,active:n,setActive:r,monthBranchChoices:i,setMonthBranchChoices:a,useWoldu:o,setUseWoldu:l,useSiju:u,setUseSiju:d,hourRule:h,setHourRule:p,setResults:b,setError:x,showToast:k}){const S=o||u,_=!!(e.yearStem&&e.yearBranch),T=!!(e.dayStem&&e.dayBranch),N=!S||_||T,j=!!n&&n.endsWith("Stem"),C=!!n&&n.endsWith("Branch"),M=w.useMemo(()=>GU(e),[e]);return w.useEffect(()=>{if(!(!u||!e.dayStem||!e.hourBranch)&&(e.hourBranch===""||e.hourBranch==="")){const z=YS(e.dayStem,h,e.hourBranch);z&&t(V=>({...V,hourStem:z}))}},[h,u,e.dayStem,e.hourBranch,t]),{needStartFromYearOrDay:S,canEnterOthers:N,activeIsStem:j,activeIsBranch:C,filledAll:M,monthBranchChoices:i,handleSelect:z=>{if(!n)return;if(!N&&!(n==="yearStem"||n==="yearBranch"||n==="dayStem"||n==="dayBranch")){x("/      ."),setTimeout(()=>x(null),1500);return}let X={...e,[n]:z};if(n==="yearStem"||n==="monthStem"||n==="monthBranch"){const Q=I3(X,n,o);X=Q.next,a(Q.monthBranchChoices)}(n==="dayStem"||n==="hourStem"||n==="hourBranch")&&(X=z2e(X,n,u,h));let Z=!1;U2e(X,o)&&(l(!1),Z=!0),F2e(X,u,h)&&(d(!1),Z=!0),Z&&k("/  .  ."),t(X),b(null),r(n==="yearStem"?"yearBranch":n==="yearBranch"?"yearStem":n==="monthStem"?"monthBranch":n==="monthBranch"?"monthStem":n==="dayStem"?"dayBranch":n==="dayBranch"?"dayStem":n==="hourStem"?"hourBranch":"hourStem"),setTimeout(()=>{const Q={...X};if(Q.yearStem&&Q.yearBranch&&!Q.monthStem){r("monthStem");return}if(Q.monthStem&&Q.monthBranch&&!Q.dayStem){r("dayStem");return}if(Q.dayStem&&Q.dayBranch&&!Q.hourStem){r("hourStem");return}},0)},handleMonthBranchChoice:z=>{let V={...e,monthBranch:z};a(null),V=I3(V,"monthBranch",o).next,t(V),r("dayStem")},clearAll:()=>{t({}),b(null),x(null),r(null),a(null)},onToggleWoldu:z=>{b(null),z&&t(V=>{const X={...V};return X.yearStem&&X.monthBranch&&(X.monthStem=Jm(X.yearStem,X.monthBranch)),X}),l(z)},onToggleSiju:z=>{b(null),z&&t(V=>{const X={...V};if(X.dayStem&&X.hourBranch){const Z=YS(X.dayStem,h,X.hourBranch);Z&&(X.hourStem=Z)}return X}),d(z)},onChangeHourRule:z=>{if(b(null),p(z),u&&e.dayStem&&e.hourBranch&&(e.hourBranch===""||e.hourBranch==="")){const V=YS(e.dayStem,z,e.hourBranch);V&&t(X=>({...X,hourStem:V}))}}}}function G2e(e){const{selectedRow:t,results:n,gender:r,hourRule:i,form:a,unknownPlace:o}=e,l=t!==null?n?.filter((W,H)=>H===t)??[]:[];if(l.length===0)return{error:"  ."};const u=l[0],d=i===""?"/":"",[h,p,b]=u.date.split("-").map(Number);let x=0,k=0;if(u.hourSlots.length>0){const W=u.hourSlots[0].branch,H=L2e[W];H&&(x=H.hh,k=H.mi)}const S=new Date(h,p-1,b,x,k),_=S,T="",N=r==="male"?"":"",j=q2e(u.year.charAt(0),N),C=ot(_,127.5),M=_t(_,127.5),P=pt(_,d),$=Fa(_,d),U=[`: ${C} ${M} ${P}`,$?`${$}`:null].filter(Boolean).join(" ");return{payload:{id:$4(),name:"",birthDay:`${h}${String(p).padStart(2,"0")}${String(b).padStart(2,"0")}`,birthTime:`${String(x).padStart(2,"0")}${String(k).padStart(2,"0")}`,gender:N,birthPlace:o?{name:"",lat:0,lon:127.5}:a.birthPlace??{name:"",lat:0,lon:127.5},relationship:a.relationship??"",memo:a.memo??"",folder:nu(a.folder),mingSikType:a.mingSikType??"/",DayChangeRule:a.mingSikType===""?"":"",calendarType:a.calendarType??"solar",ganjiText:`: ${u.year} ${u.month} ${u.day} ${u.hour}`,ganji:U,dayStem:u.day.charAt(0),dateObj:S,corrected:_,correctedLocal:T,dir:j,favorite:!1}}}function q2e(e,t){const r=["","","","","","","","","",""].includes(e),i=t==="";return r?i?"forward":"backward":i?"backward":"forward"}function Y2e(e){wr.getState().add(e)}function K2e(e,t,n,r=300){if(!e.yearStem||!e.yearBranch)return[];if(!e.monthStem||!e.monthBranch)return[];if(!e.dayStem||!e.dayBranch)return[];if(!e.hourStem||!e.hourBranch)return[];const i=`${e.yearStem}${e.yearBranch}`,a=`${e.monthStem}${e.monthBranch}`,o=`${e.dayStem}${e.dayBranch}`,l=`${e.hourStem}${e.hourBranch}`,u=[],d=new Date(1900,0,1,12,0,0),h=new Date(2100,11,31,12,0,0);for(let p=d.getTime();p<=h.getTime();p+=24*3600*1e3){const b=new Date(p),x=ot(b);if(x!==i)continue;const k=_t(b);if(k!==a)continue;const S=pt(b,n);if(S!==o)continue;const _=xx(e.dayStem,t),T=[];for(let N=0;N<12;N++){const j=Lp[N];_[j]===l&&T.push({branch:j,time:D2e[N]})}if(T.length!==0&&(u.push({date:`${b.getFullYear()}-${String(b.getMonth()+1).padStart(2,"0")}-${String(b.getDate()).padStart(2,"0")}`,year:x,month:k,day:S,hour:l,hourSlots:T}),u.length>=r))break}return u}function W2e({pillars:e,hourRule:t,results:n,selectedRow:r,gender:i,form:a,unknownPlace:o,setResults:l,setSearching:u,setError:d,setSearchToast:h,setForm:p,setUnknownPlace:b,showToast:x,onSave:k,onClose:S}){return{doSearch:()=>{if(l(null),d(null),!GU(e)){d(" 4  .");return}u(!0);try{const j=K2e(e,t,t===""?"/":"");j.length===0&&d("  . (: 1900~2100)"),l(j)}catch(N){N instanceof Error?d(N.message):d(String(N))}finally{u(!1)}},handleSave:()=>{const N=G2e({selectedRow:r,results:n,gender:i,hourRule:t,form:a,unknownPlace:o});if("error"in N){h(!0);return}bu.flushSync(()=>{Y2e(N.payload)}),k(N.payload),x(" !"),p({gender:"",mingSikType:"/",DayChangeRule:"",calendarType:"solar"}),b(!1),S()}}}function V2e({open:e,onClose:t,onSave:n}){const{settings:r}=jn(),i=B2e(),a=H2e({pillars:i.pillars,setPillars:i.setPillars,active:i.active,setActive:i.setActive,monthBranchChoices:i.monthBranchChoices,setMonthBranchChoices:i.setMonthBranchChoices,useWoldu:i.useWoldu,setUseWoldu:i.setUseWoldu,useSiju:i.useSiju,setUseSiju:i.setUseSiju,hourRule:i.hourRule,setHourRule:i.setHourRule,setResults:i.setResults,setError:i.setError,showToast:i.showToast}),o=W2e({pillars:i.pillars,hourRule:i.hourRule,results:i.results,selectedRow:i.selectedRow,gender:i.gender,form:i.form,unknownPlace:i.unknownPlace,setResults:i.setResults,setSearching:i.setSearching,setError:i.setError,setSearchToast:i.setSearchToast,setForm:i.setForm,setUnknownPlace:i.setUnknownPlace,showToast:i.showToast,onSave:n,onClose:t});return e?g.jsx("div",{className:"fixed min-w-[320px] inset-0 z-[1000] flex items-center justify-center bg-black/50",children:g.jsxs("div",{className:"bg-white max-w-[360px] dark:bg-neutral-900 rounded-xl shadow-xl w-full max-w-5xl p-4 relative",children:[g.jsx("button",{onClick:t,className:"absolute top-3 right-3 text-neutral-500 hover:text-neutral-800 dark:hover:text-neutral-200 cursor-pointer","aria-label":"",children:g.jsx(Fb,{size:20})}),g.jsx("h2",{className:"text-lg font-semibold mb-4",children:"  "}),g.jsx(E2e,{useWoldu:i.useWoldu,useSiju:i.useSiju,hourRule:i.hourRule,gender:i.gender,onToggleWoldu:a.onToggleWoldu,onToggleSiju:a.onToggleSiju,onChangeHourRule:a.onChangeHourRule,onChangeGender:i.setGender}),a.needStartFromYearOrDay&&!a.canEnterOthers&&g.jsxs("div",{className:"mb-3 text-sm text-orange-700 bg-orange-50 dark:text-orange-300 dark:bg-orange-900/30 rounded p-2 text-center",children:["/  . ",g.jsx("br",{}),g.jsx("b",{children:""}),"  ",g.jsx("b",{children:""})," ."]}),g.jsx(A2e,{pillars:i.pillars,active:i.active,canEnterOthers:a.canEnterOthers,onActivate:i.setActive}),g.jsx(O2e,{choices:i.monthBranchChoices,onChoose:a.handleMonthBranchChoice}),g.jsx("div",{className:"flex w-full flex-wrap gap-6 mb-4",children:g.jsx($2e,{active:i.active,pillars:i.pillars,activeIsStem:a.activeIsStem,activeIsBranch:a.activeIsBranch,onSelect:a.handleSelect,settingsObj:r})}),g.jsxs("div",{className:"flex justify-between items-center gap-3 mb-4",children:[g.jsx("span",{children:g.jsx("button",{type:"button",onClick:()=>{if(!a.filledAll){i.setShowToast(!0);return}o.doSearch()},disabled:i.searching,className:"px-2 py-1 rounded-md bg-blue-600 text-white disabled:opacity-50 cursor-pointer",children:i.searching?"..":""})}),g.jsxs("span",{className:"flex items-center gap-2",children:[g.jsx("button",{type:"button",onClick:a.clearAll,className:"px-2 py-1 rounded-md bg-red-600 border border-neutral-300 dark:border-neutral-700 cursor-pointer",children:""}),g.jsx("button",{type:"button",onClick:o.handleSave,className:"px-2 py-1 rounded-md border bg-yellow-600 border-neutral-300 dark:border-neutral-700 cursor-pointer",children:""})]})]}),g.jsx("div",{className:"max-h-[40vh] overflow-auto rounded border border-neutral-200 dark:border-neutral-800",children:g.jsx(T2e,{results:i.results,selectedRow:i.selectedRow,onSelectRow:i.setSelectedRow,gender:i.gender})}),g.jsx(j2e,{toast:i.toast,showToast4:i.showToast4,searchToast:i.searchToast,error:i.error})]})}):null}function Z2e(){return g.jsx("div",{className:"flex flex-col desk:flex-row desk:items-center desk:justify-between gap-2",children:g.jsx("div",{className:"text-sm font-semibold text-neutral-700 dark:text-neutral-200",children:"AI  "})})}function X2e({sections:e,toggleSection:t}){return g.jsxs("div",{className:"mt-3 border-t pt-2",children:[g.jsxs("div",{className:"text-[11px] font-semibold mb-2 text-neutral-700 dark:text-neutral-200",children:[g.jsxs("p",{children:["   ",g.jsx("span",{className:"text-amber-500",children:"(TIP.  AI  . ex.,  )"})]}),g.jsx("p",{className:"text-amber-500",children:"      . (     .)"}),g.jsx("p",{className:"text-amber-500",children:" AI     .  ,   ."}),g.jsx("p",{className:"text-amber-500",children:"  AI ,    .  ."})]}),g.jsxs("div",{className:"grid grid-cols-4 desk:grid-cols-8 gap-2 text-[11px] text-neutral-700 dark:text-neutral-200",children:[g.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[g.jsx("input",{type:"checkbox",checked:e.twelveUnseong,onChange:()=>t("twelveUnseong"),className:"w-3 h-3"}),""]}),g.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[g.jsx("input",{type:"checkbox",checked:e.twelveShinsal,onChange:()=>t("twelveShinsal"),className:"w-3 h-3"}),""]}),g.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[g.jsx("input",{type:"checkbox",checked:e.shinsal,onChange:()=>t("shinsal"),className:"w-3 h-3"})," "]}),g.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[g.jsx("input",{type:"checkbox",checked:e.nabeum,onChange:()=>t("nabeum"),className:"w-3 h-3"}),""]})]})]})}function J2e({tone:e,toneMeta:t,setTone:n,friendMode:r,setFriendMode:i,teacherMode:a,setTeacherMode:o}){return g.jsxs("div",{className:"w-full mt-2 p-2 border rounded-md bg-neutral-50 dark:bg-neutral-800",children:[g.jsx("div",{className:"text-xs font-semibold mb-1 text-neutral-700 dark:text-neutral-200",children:"  "}),g.jsx("div",{className:"flex gap-1.5 mb-2",children:Object.keys(t).map(l=>g.jsx("button",{type:"button",onClick:()=>n(l),className:`flex-1 p-1 text-[10px] rounded border cursor-pointer ${e===l?"bg-neutral-900 text-white dark:bg-yellow-500 dark:text-black":"bg-white dark:bg-neutral-700 text-neutral-700 dark:text-neutral-200"}`,children:t[l].label},l))}),g.jsx("div",{className:"text-[11px] whitespace-pre-line text-neutral-600 dark:text-neutral-300 leading-4",children:t[e].desc}),g.jsxs("div",{className:"mt-2 flex items-center gap-2",children:[g.jsxs("div",{className:"mr-1 flex items-center gap-2",children:[g.jsx("input",{type:"checkbox",id:"friendMode",checked:r,onChange:i,className:"w-3 h-3"}),g.jsx("label",{htmlFor:"friendMode",className:"text-[11px] text-neutral-700 dark:text-neutral-200 cursor-pointer",children:" "})]}),g.jsxs("div",{className:"flex items-center gap-2",children:[g.jsx("input",{type:"checkbox",id:"teacherMode",checked:a,onChange:o,className:"w-3 h-3"}),g.jsx("label",{htmlFor:"teacherMode",className:"text-[11px] text-neutral-700 dark:text-neutral-200 cursor-pointer",children:" (/)"})]})]})]})}function Q2e({mainCategory:e,subCategory:t,mainCategoryMeta:n,currentSubList:r,onMainCategoryChange:i,onSubCategoryChange:a}){return g.jsxs("div",{className:"flex flex-wrap gap-2 items-center",children:[g.jsx("select",{value:e,onChange:o=>i(o.target.value),className:"px-2.5 h-30 h-8 text-[11px] rounded-md border bg-white dark:bg-neutral-800 text-neutral-700 dark:text-neutral-200 border-neutral-200 dark:border-neutral-700",children:Object.keys(n).map(o=>g.jsx("option",{value:o,children:n[o].label},o))}),r.length>0&&g.jsx("select",{value:t,onChange:o=>a(o.target.value),className:"px-2.5 h-30 h-8 text-[11px] rounded-md border bg-white dark:bg-neutral-800 text-neutral-700 dark:text-neutral-200 border-neutral-200 dark:border-neutral-700",children:r.map(o=>g.jsx("option",{value:o.key,children:o.label},o.key))})]})}function eAe({visible:e,relationMode:t,setRelationMode:n,partnerId:r,setPartnerId:i,partnerOptions:a}){return e?g.jsxs("div",{className:"flex flex-col gap-1.5 text-[11px] text-neutral-700 dark:text-neutral-200",children:[g.jsxs("div",{className:"flex items-center gap-2",children:[g.jsx("span",{className:"font-semibold",children:" "}),g.jsxs("div",{className:"inline-flex rounded-full border border-neutral-200 dark:border-neutral-700 overflow-hidden",children:[g.jsx("button",{type:"button",onClick:()=>n("solo"),className:`px-3 py-1 cursor-pointer ${t==="solo"?"bg-neutral-900 text-white dark:bg-yellow-500 dark:text-black":"bg-neutral-50 dark:bg-neutral-800 text-neutral-600 dark:text-neutral-300"}`,children:" "}),g.jsx("button",{type:"button",onClick:()=>n("couple"),className:`px-3 py-1 cursor-pointer ${t==="couple"?"bg-neutral-900 text-white dark:bg-yellow-500 dark:text-black":"bg-neutral-50 dark:bg-neutral-800 text-neutral-600 dark:text-neutral-300"}`,children:" "})]})]}),t==="couple"&&g.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[g.jsx("span",{className:"font-semibold",children:"  "}),g.jsxs("select",{value:r,onChange:o=>i(o.target.value),className:"min-w-[180px] h-30 px-2 py-1 border rounded bg-white dark:bg-neutral-800",children:[g.jsx("option",{value:"",children:" "}),a.map(o=>g.jsx("option",{value:o.id,children:o.label},o.id))]})]})]}):null}function tAe({isMultiMode:e,setIsMultiMode:t,canUseMultiMode:n}){const r=!n;return g.jsxs("div",{className:"flex gap-2",children:[g.jsx("button",{type:"button",onClick:()=>t(!1),className:`px-3 py-1.5 text-xs rounded-md border cursor-pointer ${e?"bg-neutral-100 dark:bg-neutral-800 text-neutral-600 dark:text-neutral-300":"bg-neutral-900 text-white dark:bg-yellow-500 dark:text-black"}`,children:" "}),g.jsxs("button",{type:"button",onClick:()=>t(!0),disabled:r,title:r?" .":" (  )",className:`px-3 py-1.5 text-xs rounded-md border transition-colors ${r?"bg-neutral-200 text-neutral-500 dark:bg-neutral-800 dark:text-neutral-400 cursor-not-allowed opacity-70":e?"bg-neutral-900 text-white dark:bg-yellow-500 dark:text-black cursor-pointer":"bg-neutral-100 dark:bg-neutral-800 text-neutral-600 dark:text-neutral-300 cursor-pointer"}`,children:[" (  ) ",r?"":""]})]})}function nAe({tabs:e,activeTab:t,setActiveTab:n,date:r,setDate:i,canUseLuckTabs:a}){return g.jsxs(g.Fragment,{children:[g.jsxs("div",{className:"flex desk:justify-between flex-col desk:flex-row gap-2",children:[g.jsx("div",{className:"flex gap-1 flex-wrap",children:e.map(o=>{const l=!a&&o!=="",u=!l&&t===o;return g.jsxs("button",{type:"button",onClick:()=>{l||n(o)},disabled:l,title:l?" .":o,className:["px-2 py-1 text-xs rounded-md border transition-colors",l?"bg-neutral-200 text-neutral-500 dark:bg-neutral-800 dark:text-neutral-400 cursor-not-allowed opacity-70":"cursor-pointer",u?"bg-neutral-900 text-white dark:bg-yellow-500 dark:text-black":l?"":"bg-neutral-100 dark:bg-neutral-800 text-neutral-600 dark:text-neutral-300"].join(" "),children:[o," ",l?"":""]},o)})}),g.jsx(FU,{date:r,onChange:i})]}),g.jsxs("div",{className:"text-[11px] text-neutral-500 dark:text-neutral-400",children:[g.jsx("p",{children:"      ."}),g.jsx("p",{children:"     ."}),g.jsx("p",{children:"      ."})]})]})}function rAe({multiTab:e,setMultiTab:t,daeList:n,selectedDaeIdx:r,onToggleDae:i,seStartYear:a,seEndYear:o,onSeStartChange:l,onSeEndChange:u,onSeStartBlur:d,onSeEndBlur:h,seYearsCount:p,wolStartDate:b,wolEndDate:x,onWolStartChange:k,onWolEndChange:S,onWolStartBlur:_,onWolEndBlur:T,wolMonthsCount:N,ilStartDate:j,ilEndDate:C,onIlStartChange:M,onIlEndChange:P,onIlStartBlur:$,onIlEndBlur:U,ilDaysCount:Y}){return g.jsxs("div",{className:"space-y-3 p-3 bg-neutral-50 dark:bg-neutral-800 rounded-lg",children:[g.jsx("div",{className:"flex gap-1.5 border-b pb-2",children:["","","",""].map(W=>g.jsx("button",{type:"button",onClick:()=>t(W),className:`px-3 py-1.5 text-xs rounded-md cursor-pointer transition-colors ${e===W?"bg-blue-600 text-white font-semibold":"bg-white dark:bg-neutral-700 text-neutral-600 dark:text-neutral-300 hover:bg-neutral-100 dark:hover:bg-neutral-600"}`,children:W},W))}),e===""&&g.jsxs("div",{children:[g.jsx("div",{className:"text-xs font-semibold mb-2 text-neutral-700 dark:text-neutral-200",children:"  (  )"}),g.jsx("div",{className:"grid grid-cols-2 gap-1.5",children:n.map((W,H)=>g.jsxs("button",{type:"button",onClick:()=>i(H),className:`px-2 py-1.5 text-xs rounded border cursor-pointer text-left ${r.includes(H)?"bg-blue-600 text-white border-blue-600":"bg-white dark:bg-neutral-700 border-neutral-300 dark:border-neutral-600"}`,children:[g.jsx("div",{className:"font-mono",children:W.gz}),g.jsxs("div",{className:"text-[10px] opacity-80",children:[W.age," (",W.startYear,"~",W.endYear,")"]})]},H))})]}),e===""&&g.jsxs("div",{children:[g.jsx("div",{className:"text-xs font-semibold mb-2 text-neutral-700 dark:text-neutral-200",children:"  ( 10)"}),g.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[g.jsx("input",{type:"number",value:a,onChange:W=>l(Number(W.target.value)),onBlur:d,className:"w-24 px-2 h-30 text-xs border rounded bg-white dark:bg-neutral-700"}),g.jsx("span",{className:"text-xs",children:"~"}),g.jsx("input",{type:"number",value:o,onChange:W=>u(Number(W.target.value)),onBlur:h,className:"w-24 px-2 h-30 text-xs border rounded bg-white dark:bg-neutral-700"})]}),g.jsxs("div",{className:"text-[10px] text-neutral-500 dark:text-neutral-400 mt-1",children:[" : ",p,""]})]}),e===""&&g.jsxs("div",{children:[g.jsx("div",{className:"text-xs font-semibold mb-2 text-neutral-700 dark:text-neutral-200",children:"  ( 12)"}),g.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[g.jsx("input",{type:"month",value:b,onChange:W=>k(W.target.value),onBlur:_,className:"px-2 py-1 text-xs border rounded bg-white dark:bg-neutral-700"}),g.jsx("span",{className:"text-xs",children:"~"}),g.jsx("input",{type:"month",value:x,onChange:W=>S(W.target.value),onBlur:T,className:"px-2 py-1 text-xs border rounded bg-white dark:bg-neutral-700"})]}),g.jsxs("div",{className:"text-[10px] text-neutral-500 dark:text-neutral-400 mt-1",children:[" : ",N,""]})]}),e===""&&g.jsxs("div",{children:[g.jsx("div",{className:"text-xs font-semibold mb-2 text-neutral-700 dark:text-neutral-200",children:"  ( 7)"}),g.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[g.jsx("input",{type:"date",value:j,onChange:W=>M(W.target.value),onBlur:$,className:"px-2 py-1 text-xs border rounded bg-white dark:bg-neutral-700"}),g.jsx("span",{className:"text-xs",children:"~"}),g.jsx("input",{type:"date",value:C,onChange:W=>P(W.target.value),onBlur:U,className:"px-2 py-1 text-xs border rounded bg-white dark:bg-neutral-700"})]}),g.jsxs("div",{className:"text-[10px] text-neutral-500 dark:text-neutral-400 mt-1",children:[" : ",Y,""]})]}),g.jsxs("div",{className:"text-[11px] text-neutral-500 dark:text-neutral-400",children:[g.jsxs("p",{children:[" ",e,"   ."]}),g.jsx("p",{children:"    ."})]})]})}function iAe({questionDraft:e,onChangeDraft:t,onAddQuestion:n,extraQuestions:r,onClearAll:i,onRemoveQuestion:a,locked:o=!1,lockTitle:l}){const u=l?" ":"";return g.jsxs("div",{className:"space-y-1",children:[g.jsxs("div",{className:"flex items-center justify-between gap-2",children:[g.jsx("div",{className:"text-xs font-semibold text-neutral-700 dark:text-neutral-200",children:"   ()"}),r.length>0&&g.jsx("button",{type:"button",onClick:i,disabled:o,title:o?l:void 0,className:"px-2 py-1 text-[10px] rounded-md border border-neutral-300 dark:border-neutral-600 text-neutral-500 dark:text-neutral-300 cursor-pointer",children:" "})]}),g.jsx("textarea",{value:e,onChange:t,readOnly:o,disabled:o,title:o?l:void 0,placeholder:" AI     , ' '  .",rows:3,className:"w-full placeholder:text-xs text-[16px] desk:text-xs rounded-md border bg-white dark:bg-neutral-800 p-2"}),g.jsxs("div",{className:"mb-4 text-center",children:[g.jsx("button",{type:"button",onClick:n,disabled:o,title:o?l:void 0,className:["w-full desk:max-w-[160px] px-1 py-1.5 text-xs rounded-md border",o?"cursor-not-allowed opacity-50 bg-neutral-400 text-white dark:bg-neutral-700":"bg-neutral-900 text-white dark:bg-yellow-500 dark:text-black cursor-pointer"].join(" "),children:o?` ${u}`:" "}),r.length>0&&g.jsxs("div",{className:"flex-1 text-[11px] text-neutral-500 dark:text-neutral-400 text-right",children:["  ",r.length,""]})]}),r.length>0&&g.jsx("ul",{className:"mt-1 space-y-1 max-h-24 overflow-y-auto text-[11px] text-neutral-700 dark:text-neutral-200",children:r.map((d,h)=>g.jsxs("li",{className:"flex gap-1 items-start",children:[g.jsxs("span",{className:"shrink-0",children:[h+1,"."]}),g.jsx("span",{className:"whitespace-pre-wrap break-words flex-1",children:d}),g.jsx("button",{type:"button",onClick:()=>a(h),disabled:o,title:o?l:void 0,className:["shrink-0 ml-2 text-[10px]",o?"text-neutral-400 cursor-not-allowed":"text-red-500 hover:underline"].join(" "),children:""})]},h))})]})}function aAe({value:e,lockSelection:t=!1}){const[n,r]=w.useState(!1);return t?g.jsx("div",{className:"w-full h-[320px] text-xs font-mono rounded-md border bg-neutral-50 dark:bg-neutral-800 p-2 select-none flex items-center justify-center text-center text-neutral-500","aria-readonly":"true",children:"   "}):g.jsxs("div",{children:[g.jsxs("div",{className:"relative",children:[g.jsx("textarea",{readOnly:!0,value:e,placeholder:"   ",className:["w-full text-xs font-mono rounded-md border bg-neutral-50 dark:bg-neutral-800 p-2 resize-none transition-[height] duration-200","desk:h-[270px] desk:overflow-y-auto",n?"h-[270px] overflow-y-auto pointer-events-auto":"h-[150px] overflow-hidden pointer-events-none desk:pointer-events-auto"].join(" ")}),!n&&g.jsx("div",{className:"pointer-events-none absolute inset-x-0 bottom-0 h-10 rounded-b-md bg-gradient-to-t from-white/95 dark:from-neutral-800/95 to-transparent"})]}),g.jsx("div",{className:"mt-2 mb-3 flex justify-center desk:hidden",children:g.jsx("button",{type:"button",onClick:()=>r(i=>!i),className:"px-3 py-1 rounded-full border text-xs bg-white text-neutral-700 border-neutral-300 dark:bg-neutral-900 dark:text-neutral-200 dark:border-neutral-700",children:n?"":""})})]})}const oAe={analysis:{label:"",desc:`-   ,   
- //    
-   `},mentor:{label:"",desc:`-   
-     
-    `},dryHumor:{label:" ",desc:`-     
-   `},softWarm:{label:" ",desc:`-   
-  `},etc:{label:" ",desc:"-     "}},sAe=["","","","",""],lAe={personality:{label:"    "},lifeFlow:{label:"   "},love:{label:"    "},career:{label:"    "},money:{label:"    "},family:{label:"      "},baby:{label:"    "},health:{label:"    "},move:{label:"     "},social:{label:"  "},compat:{label:"   "},risk:{label:"  "},meta:{label:"    "},etc:{label:"  "}},$3={personality:[{key:"overview",label:"  "},{key:"personality_basic",label:" "},{key:"personality_shadow",label:""},{key:"personality_relationshipStyle",label:" "},{key:"personality_workStyle",label:" "},{key:"personality_stressPattern",label:" "}],lifeFlow:[{key:"overview",label:"  "},{key:"lifeFlow_cycle",label:" "},{key:"lifeFlow_turningPoint",label:""},{key:"lifeFlow_peak",label:""},{key:"lifeFlow_down",label:""},{key:"lifeFlow_theme",label:"  "}],love:[{key:"love_pattern",label:" "},{key:"love_timing",label:"/ "},{key:"love_partner",label:" "},{key:"love_current",label:" /"},{key:"love_breakup",label:" "},{key:"love_marriageChange",label:"/ "}],career:[{key:"career_aptitude",label:" "},{key:"career_mode",label:" vs "},{key:"career_jobChange",label:"/ "},{key:"career_promotion",label:""},{key:"career_study",label:""},{key:"career_exam",label:""}],money:[{key:"overview",label:"  "},{key:"money_flow",label:" "},{key:"money_income",label:""},{key:"money_spending",label:" "},{key:"money_saving",label:"/ "},{key:"money_asset",label:" "},{key:"money_debt",label:"/ "},{key:"money_invest",label:" "},{key:"money_bigEvent",label:"  "}],family:[{key:"overview",label:"  "},{key:"family_origin",label:"/ "},{key:"family_current",label:" /"},{key:"family_parents",label:" "},{key:"family_siblings",label:" "},{key:"family_children",label:"/"},{key:"family_care",label:" "}],baby:[{key:"overview",label:" "},{key:"baby_pregnancy",label:"  "},{key:"baby_birth",label:"  "},{key:"baby_selection",label:"  "}],health:[{key:"overview",label:" "},{key:"health_overall",label:""},{key:"health_physical",label:" "},{key:"health_mental",label:""},{key:"health_stress",label:" "},{key:"health_accident",label:" "}],move:[{key:"overview",label:" "},{key:"move_timing",label:" "},{key:"move_chance",label:" "},{key:"move_targetHouse",label:"  "},{key:"move_environment",label:"  "},{key:"move_finance",label:" "}],social:[{key:"overview",label:"  "},{key:"social_overall",label:" "},{key:"social_friend",label:" "},{key:"social_workspace",label:" "},{key:"social_network",label:""},{key:"social_conflict",label:" "}],compat:[{key:"overview",label:" "},{key:"compat_overall",label:"  "},{key:"compat_love",label:"/ "},{key:"compat_marriage",label:"  "},{key:"compat_work",label:"/ "},{key:"compat_family",label:" "},{key:"compat_friend",label:" "}],risk:[{key:"overview",label:" "},{key:"risk_money",label:" "},{key:"risk_relationship",label:" "},{key:"risk_health",label:" "},{key:"risk_lawsuit",label:"/ "},{key:"risk_burnout",label:" "}],meta:[{key:"overview",label:"  "},{key:"meta_structure",label:"  "},{key:"meta_cycle",label:"  "},{key:"meta_trigger",label:" "},{key:"meta_usage",label:" "}],etc:[]};function cAe(){const[e,t]=w.useState(null);return w.useEffect(()=>{let n=!0;return De.auth.getUser().then(({data:r})=>{n&&t(r.user?.id??null)}),()=>{n=!1}},[]),e}const uAe={twelveUnseong:!0,twelveShinsal:!0,shinsal:!0,nabeum:!0},ev=As(e=>({sections:uAe,setSections:t=>e({sections:t}),toggleSection:t=>e(n=>({sections:{...n.sections,[t]:!n.sections[t]}}))})),KS=1e3*60*60*24;function WS(e,t){return(t.getFullYear()-e.getFullYear())*12+(t.getMonth()-e.getMonth())}function lb(e){return`${e.getFullYear()}-${String(e.getMonth()+1).padStart(2,"0")}`}function cb(e){return`${e.getFullYear()}-${String(e.getMonth()+1).padStart(2,"0")}-${String(e.getDate()).padStart(2,"0")}`}function B3(){const e=new Date,t=e.getFullYear(),n=String(e.getMonth()+1).padStart(2,"0"),r=String(e.getDate()).padStart(2,"0");return`${t}-${n}-${r}`}function z3(){const e=new Date;return`${e.getFullYear()}-${String(e.getMonth()+1).padStart(2,"0")}`}function dAe(){const e=new Date().getFullYear(),[t,n]=w.useState(e),[r,i]=w.useState(e),[a,o]=w.useState(()=>z3()),[l,u]=w.useState(()=>z3()),[d,h]=w.useState(()=>B3()),[p,b]=w.useState(()=>B3()),x=Z=>{n(Z)},k=Z=>{i(Z)},S=()=>{const Z=t;let q=r;q<Z&&(q=Z),q-Z>9&&(q=Z+9),i(q)},_=()=>{let Z=t;const q=r;q<Z&&(Z=q),q-Z>9&&(Z=q-9),n(Z)},T=w.useMemo(()=>{if(!Number.isFinite(t)||!Number.isFinite(r))return 0;const Z=r-t+1;return Z>0?Z:0},[t,r]),N=w.useMemo(()=>{const Z=[];if(!Number.isFinite(t)||!Number.isFinite(r))return Z;for(let q=t;q<=r&&Z.length<10;q++)Z.push(q);return Z},[t,r]),j=Z=>{o(Z)},C=Z=>{u(Z)},M=()=>{const[Z,q]=a.split("-").map(Number),[Q,ne]=l.split("-").map(Number),ue=new Date(Z,q-1),se=new Date(Q,ne-1);if(se<ue){u(lb(ue));return}if(WS(ue,se)>11){const K=new Date(ue);K.setMonth(ue.getMonth()+11),u(lb(K))}},P=()=>{const[Z,q]=a.split("-").map(Number),[Q,ne]=l.split("-").map(Number),ue=new Date(Z,q-1),se=new Date(Q,ne-1);if(se<ue){o(lb(se));return}if(WS(ue,se)>11){const K=new Date(se);K.setMonth(se.getMonth()-11),o(lb(K))}},$=w.useMemo(()=>{const[Z,q]=(a||"").split("-").map(Number),[Q,ne]=(l||"").split("-").map(Number);if(!Number.isFinite(Z)||!Number.isFinite(q)||!Number.isFinite(Q)||!Number.isFinite(ne))return 0;const ue=new Date(Z,q-1,1),se=new Date(Q,ne-1,1),B=WS(ue,se)+1;return B>0?B:0},[a,l]),U=w.useMemo(()=>{const Z=[],[q,Q]=a.split("-").map(Number),[ne,ue]=l.split("-").map(Number),se=new Date(q,Q-1),B=new Date(ne,ue-1);if(Number.isNaN(se.getTime())||Number.isNaN(B.getTime()))return Z;for(;se<=B&&Z.length<12;)Z.push(`${se.getFullYear()}-${String(se.getMonth()+1).padStart(2,"0")}`),se.setMonth(se.getMonth()+1);return Z},[a,l]),Y=Z=>{h(Z)},W=Z=>{b(Z)},H=()=>{if(!d||!p)return;const[Z,q,Q]=d.split("-").map(Number),[ne,ue,se]=p.split("-").map(Number),B=new Date(Z,q-1,Q,4,0,0),K=new Date(ne,ue-1,se,4,0,0);if(K<B){b(cb(B));return}if(Math.floor((K.getTime()-B.getTime())/KS)>7){const J=new Date(B);J.setDate(B.getDate()+6),b(cb(J))}},z=()=>{if(!d||!p)return;const[Z,q,Q]=d.split("-").map(Number),[ne,ue,se]=p.split("-").map(Number),B=new Date(Z,q-1,Q,4,0,0),K=new Date(ne,ue-1,se,4,0,0);if(B>K){h(cb(K));return}if(Math.floor((K.getTime()-B.getTime())/KS)>7){const J=new Date(K);J.setDate(K.getDate()-6),h(cb(J))}},V=w.useMemo(()=>{const[Z,q,Q]=(d||"").split("-").map(Number),[ne,ue,se]=(p||"").split("-").map(Number);if(!Number.isFinite(Z)||!Number.isFinite(q)||!Number.isFinite(Q)||!Number.isFinite(ne)||!Number.isFinite(ue)||!Number.isFinite(se))return 0;const B=new Date(Z,q-1,Q,4,0,0),K=new Date(ne,ue-1,se,4,0,0),ie=Math.floor((K.getTime()-B.getTime())/KS)+1;return ie>0?ie:0},[d,p]),X=w.useMemo(()=>{const Z=[],[q,Q,ne]=d.split("-").map(Number),[ue,se,B]=p.split("-").map(Number),K=new Date(q,Q-1,ne,4,0,0),ie=new Date(ue,se-1,B,4,0,0);if(Number.isNaN(K.getTime())||Number.isNaN(ie.getTime()))return Z;const J=new Date(K);for(;J<=ie&&Z.length<31;){const oe=J.getFullYear(),fe=String(J.getMonth()+1).padStart(2,"0"),he=String(J.getDate()).padStart(2,"0");Z.push(`${oe}-${fe}-${he}`),J.setDate(J.getDate()+1)}return Z},[d,p]);return{seStartYear:t,seEndYear:r,wolStartYM:a,wolEndYM:l,ilStartDate:d,ilEndDate:p,onSeStartChange:x,onSeEndChange:k,onSeStartBlur:S,onSeEndBlur:_,onWolStartChange:j,onWolEndChange:C,onWolStartBlur:M,onWolEndBlur:P,onIlStartChange:Y,onIlEndChange:W,onIlStartBlur:H,onIlEndBlur:z,seYearsCount:T,wolMonthsCount:$,ilDaysCount:V,seYearsList:N,wolMonthsList:U,ilDaysList:X}}function fAe({msId:e,canUseMultiMode:t,canUseLuckTabs:n}){const r=ev(se=>se.sections),i=ev(se=>se.toggleSection),[a,o]=w.useState("analysis"),[l,u]=w.useState(!1),[d,h]=w.useState(!1),[p,b]=w.useState(""),[x,k]=w.useState("personality"),[S,_]=w.useState("overview"),[T,N]=w.useState("solo"),[j,C]=w.useState(""),[M,P]=w.useState(!1),[$,U]=w.useState(""),[Y,W]=w.useState([]),[H,z]=w.useState(""),[V,X]=w.useState([]),Z=dAe();w.useEffect(()=>{x!=="love"&&x!=="compat"&&(N("solo"),b(""))},[x]),w.useEffect(()=>{!t&&M&&P(!1)},[t,M]),w.useEffect(()=>{!n&&j!==""&&C("")},[n,j]),w.useEffect(()=>{$!==""&&W([])},[$]),w.useEffect(()=>{z(""),X([])},[e]);function q(){const se=H.trim();se&&(X(B=>[...B,se]),z(""))}function Q(se){X(B=>B.filter((K,ie)=>ie!==se))}function ne(){X([])}function ue(se){W(B=>B.includes(se)?B.filter(K=>K!==se):[...B,se])}return{sections:r,toggleSection:i,tone:a,setTone:o,friendMode:l,setFriendMode:u,teacherMode:d,setTeacherMode:h,partnerId:p,setPartnerId:b,mainCategory:x,setMainCategory:k,subCategory:S,setSubCategory:_,relationMode:T,setRelationMode:N,activeTab:j,setActiveTab:C,isMultiMode:M,setIsMultiMode:P,multiTab:$,setMultiTab:U,selectedDaeIdx:Y,setSelectedDaeIdx:W,handleToggleDae:ue,rangeControls:Z,questionDraft:H,setQuestionDraft:z,extraQuestions:V,setExtraQuestions:X,handleAddQuestion:q,handleRemoveQuestion:Q,handleClearQuestions:ne}}const qU=As(e=>({shinsalBase:"",shinsalEra:"",shinsalGaehwa:!1,hiddenStemMode:"hgc",setShinsalBase:t=>e({shinsalBase:t}),setShinsalEra:t=>e({shinsalEra:t}),setShinsalGaehwa:t=>e({shinsalGaehwa:t}),setHiddenStemMode:t=>e({hiddenStemMode:t})}));function ij(e){if(!e)return["","","",""];let t=Number(e.birthDay?.slice(0,4)??2e3),n=Number(e.birthDay?.slice(4,6)??1),r=Number(e.birthDay?.slice(6,8)??1);if(e.calendarType==="lunar"){const j=Gi(t,n,r);t=j.getFullYear(),n=j.getMonth()+1,r=j.getDate()}const i=!e.birthTime||e.birthTime==="",a=i?4:Number(e.birthTime.slice(0,2)),o=i?30:Number(e.birthTime.slice(2,4)),l=new Date(t,n-1,r,a,o,0,0),u=!e.birthPlace||e.birthPlace.name===""||!e.birthPlace.lon?127.5:e.birthPlace.lon,d=cp(l,u,i),h=e.mingSikType??"/",p=ot(d,u),b=_t(d,u),x=pt(d,h),k=i?null:Fa(d,h),S=Re(p),_=Re(b),T=Re(x),N=k?Re(k):"";return[S,_,T,N]}function YU(e){const t=new Date(e.corrected),n=ij(e),r=n[0].charAt(0),a=["","","","",""].includes(r),o=e.gender==="",l=o&&a||!o&&!a?"forward":"backward",u=hp(t,n[1],l,120,e.birthPlace?.lon??127.5),d=u.firstChange;if(!d)return[];const h=[];let p=Re(u.events[0]?.gz??n[1]);for(let b=0;b<10;b++){const x=new Date(d);if(x.setFullYear(x.getFullYear()+b*10),b>0){const k=u.events[b];k&&(p=Re(k.gz))}h.push(`${x.getFullYear()} ${String(x.getMonth()+1).padStart(2,"0")} ${p}  `)}return h}const hAe=["- AI     ,      . (, ,   )","-   ,  . (     )","-  /    .","- , , , ,       ,    .","-     , (~, ~  ) .","-    .","-  JSON/      .","-       .","-         .","-   ,    .","-      ,    ."],mAe=["- :     . ////  .","- :  ,  .    . //   .","- : ~  //     .    .","- , /      , ////   .",""," ( )","-  + (///)  /","-      +   ","- :   +    ","-  + :      ()   ","-  :  ","- : /(  )",""," ","-  .  /  /  ","-   =  . 1~2 "];function pAe(e,t){e.push("### ()");const n=t?mAe:hAe;e.push(...n)}function gAe(e,t){const{mode:n,tab:r,isStudyTone:i}=t,a=(...o)=>e.push(...o);n==="single"?r?i?a("","##  ()",`-  : (${r})  ,    ( + / )  .`,"-     /      ()  ."):a("","##  ()",`-    (${r})   ,         .`,"-   ,          ."):a("","##  ()","-   ,      /  ."):i?a("","##  ()","-       .    .","-      (/// )  1~2 ."):a("","##  ()","-  (///)  ,           ."),i&&e.push("- (teacherMode)     ,   .","-      (/ / )  1~2 .")}function bAe(e,t){const{topic:n,subTopic:r,relationMode:i,isStudyTone:a}=t,o=(...l)=>e.push(...l);switch(n){case"personality":return a?o("","## ()","-     //   .","-    .   + /(   ) +   ,   .","-   :   XX  YY .   .","-        .","1)   : /, , /,        ,      .","2)   :    VS   ,   VS   ,  VS      . ","3) /:   ,     , /        . ","4)   : //  ,    ,       . ","5)  :     ,    ,       ."):o("","## ()","-  /  .","-         .","-        .","1)   : /, , /,        ,      .","2)   :    VS   ,   VS   ,  VS      . ","3) /:   ,     , /        . ","4)   : //  ,    ,       . ","5)  :     ,    ,       ."),r==="personality_shadow"&&o("-    ,    / ,    ."),r==="personality_relationshipStyle"&&o("-  / ,   /  ."),r==="personality_workStyle"&&o("-     /    ."),r==="personality_stressPattern"&&o("-       ."),!0;case"lifeFlow":return a?o("","## ( )","-   . //    .","-   :   +  () + /  +   .","-    /  ."):o("","## ( )","-       .","-     ."),r==="lifeFlow_turningPoint"&&o("-   A/B ,     ."),!0;case"love":return a?o("","## ()","-   : /////// .","- ( )   . +      .","- ///  /  () ."):o("","## ()","- //   .","-  ,   ,    ."),i==="solo"?o("-  :  / ,     ."):i==="couple"&&o("-  :        (//)  ."),!0;case"career":return a?o("","## ()","-  : ///// / .","- ///        .","- (//)   ,  +  ."):o("","## ()","- ///   ."),r==="career_jobChange"&&o("-    / ."),r==="career_promotion"&&o("-     //   ."),!0;case"money":return a?o("","## ()","-   :  /, / ,   , /, , , /  .","-    .   +   +    /  .","-  (    )    ."):o("","## ()","- //   ."),r==="money_debt"&&o("- //   (// )."),r==="money_bigEvent"&&o("-          ."),!0}return!1}function yAe(e,t){const{topic:n,subTopic:r,isStudyTone:i}=t,a=(...o)=>e.push(...o);switch(n){case"family":return i?a("","## ()","-  : /  ,   ,  /,   , / .","- /     ,   ."):a("","## ()","- /   ."),!0;case"baby":return i?a("","## ()","-  :  /,  ,    .","-  /   .  / /  ."):a("","## ()","- //   ."),!0;case"health":return i?a("","## ()","-   : ,   , /, /.","-   .  //      .","-   + /      ."):a("","## ()","- /   ."),r==="health_accident"&&a("-  /(/// ) ."),!0;case"move":return i?a("","## ()","-    : , , , / ,  .","- ()()(/)    .","- /  /    ."):a("","## ()","- /  ."),!0;case"social":return i?a("","## ()","-  ////   .","- ()/()/()     ."):a("","## ()","- /   ."),!0;case"compat":return i?a("","## ( )","-    ,        .","- // ,  //   ."):a("","## ( )","- /    ."),!0;case"risk":return i?a("","## ()","-  .        .","- //  + /    ."):a("","## ()","- /   ."),!0;case"meta":return i?a("","## ()","-    ,        .","- ,  3~7 .   "):a("","## ()","-       ."),!0}return!1}function vAe(e,t){bAe(e,t)||yAe(e,t)}function xAe(e){return e==="multi"?"multi":"single"}function KU(e){const{topic:t,subTopic:n,timeMode:r="single",tab:i,relationMode:a,teacherMode:o}=e;if(!t)return"";const l=xAe(r),u=[],d=o===!0;return pAe(u,d),t==="etc"||(gAe(u,{mode:l,tab:i,isStudyTone:d}),vAe(u,{topic:t,subTopic:n,relationMode:a,isStudyTone:d})),u.join(`
`)}const _Ae=!1,U3=e=>e<10?`0${e}`:`${e}`;function wAe(e){const t=e,n=typeof t.birthDay=="string"?t.birthDay:"",r=typeof t.calendarType=="string"?t.calendarType:"solar";if(n.length<8)return e;const i=Number(n.slice(0,4)),a=Number(n.slice(4,6)),o=Number(n.slice(6,8));if(r==="lunar")try{const l=Gi(i,a,o,0,0),u=`${l.getFullYear()}${U3(l.getMonth()+1)}${U3(l.getDate())}`;return{...e,birthDay:u,calendarType:"solar"}}catch{return e}return e}const cm={:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},um={:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},pu={:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},ub={:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},SAe=["","","","",""];function F3(e){return SAe.includes(e)}const WU={:"",:"",:"",:"",:""},VU={:"",:"",:"",:"",:""},ZU={:"",:"",:"",:"",:""},XU={:"",:"",:"",:"",:""};function QE(e){if(!e)return null;const t=e.trim();if(["","","","","","","","","",""].includes(t))return t;if(cm[t])return cm[t];if(["","","","","","","","","","","",""].includes(t))return ub[t]??null;if(um[t])return ub[um[t]]??null;const n=t.charAt(0);return cm[n]?cm[n]:["","","","","","","","","",""].includes(n)?n:um[n]?ub[um[n]]??null:["","","","","","","","","","","",""].includes(n)?ub[n]??null:null}function kAe(e){const t={};for(const[n,r]of Object.entries(e??{})){if(r<=0)continue;const i=QE(n);i&&(t[i]=(t[i]??0)+r)}return t}function EAe(e){if(!e)return[];const t=QE(e.charAt(0)),n=QE(e.charAt(1));return[t,n].filter(Boolean)}function db(e){const t=EAe(e),n={};for(const r of t)n[r]=(n[r]??0)+1;return n}function AAe(e,t){const n=pu[e],r=pu[t];if(!n||!r)return"";let i;r===n?i="":r===WU[n]?i="":r===VU[n]?i="":r===ZU[n]?i="":r===XU[n]?i="":i="";const a=F3(e)===F3(t);switch(i){case"":return a?"":"";case"":return a?"":"";case"":return a?"":"";case"":return a?"":"";case"":return a?"":""}}function JU(e,t){return t===e?"":t===WU[e]?"":t===VU[e]?"":t===ZU[e]?"":t===XU[e]?"":""}function QU(e){const t=Object.entries(e),n=t.reduce((d,[,h])=>d+(h>0?h:0),0);if(n<=0)return Object.fromEntries(t.map(([d])=>[d,0]));const r=t.map(([d,h])=>[d,(h>0?h:0)*100/n]),i=r.map(([d,h])=>[d,Math.floor(h)]);let a=i.reduce((d,[,h])=>d+h,0);const o=r.map(([d,h])=>[d,h-Math.floor(h)]).sort((d,h)=>h[1]-d[1]),l=Object.fromEntries(i.map(([d,h])=>[d,h]));let u=0;for(;a<100&&u<o.length;)l[o[u][0]]+=1,a+=1,u+=1;return l}const TAe={:{name:"",element:"",brief:"  ",keywords:" "},:{name:"",element:"",brief:"  ",keywords:" "},:{name:"",element:"",brief:"  ",keywords:" "},:{name:"",element:"",brief:"  ",keywords:" "},:{name:"",element:"",brief:"  ",keywords:""},:{name:"",element:"",brief:"  ",keywords:""},:{name:"",element:"",brief:" ",keywords:""},:{name:"",element:"",brief:" ",keywords:""},:{name:"",element:"",brief:" ",keywords:""},:{name:"",element:"",brief:" ",keywords:""},:{name:"",element:"",brief:" ",keywords:""},:{name:"",element:"",brief:" ",keywords:""},:{name:"",element:"",brief:"  ",keywords:""},:{name:"",element:"",brief:"  ",keywords:""},:{name:"",element:"",brief:"  ",keywords:""},:{name:"",element:"",brief:"  ",keywords:""},:{name:"",element:"",brief:"  ",keywords:" "},:{name:"",element:"",brief:"  ",keywords:" "},:{name:"",element:"",brief:"",keywords:""},:{name:"",element:"",brief:"",keywords:""},:{name:"",element:"",brief:"()",keywords:""},:{name:"",element:"",brief:"()",keywords:""},:{name:"",element:"",brief:" ",keywords:""},:{name:"",element:"",brief:" ",keywords:""},:{name:"",element:"",brief:"",keywords:"/"},:{name:"",element:"",brief:"",keywords:"/"},:{name:"",element:"",brief:" ",keywords:" "},:{name:"",element:"",brief:" ",keywords:" "},:{name:"",element:"",brief:"  ",keywords:" "},:{name:"",element:"",brief:"  ",keywords:" "},:{name:"",element:"",brief:" ",keywords:"/"},:{name:"",element:"",brief:" ",keywords:"/"},:{name:"",element:"",brief:"",keywords:""},:{name:"",element:"",brief:"",keywords:""},:{name:"",element:"",brief:" ",keywords:""},:{name:"",element:"",brief:" ",keywords:""},:{name:"",element:"",brief:"()",keywords:""},:{name:"",element:"",brief:"()",keywords:""},:{name:"",element:"",brief:"()",keywords:""},:{name:"",element:"",brief:"()",keywords:""},:{name:"",element:"",brief:"(  )",keywords:""},:{name:"",element:"",brief:"(  )",keywords:""},:{name:"",element:"",brief:"()",keywords:" "},:{name:"",element:"",brief:"()",keywords:" "},:{name:"",element:"",brief:"  ",keywords:" "},:{name:"",element:"",brief:"  ",keywords:" "},:{name:"",element:"",brief:" ",keywords:" "},:{name:"",element:"",brief:" ",keywords:" "},:{name:"",element:"",brief:"",keywords:""},:{name:"",element:"",brief:"",keywords:""},:{name:"",element:"",brief:"   ",keywords:" "},:{name:"",element:"",brief:"   ",keywords:" "},:{name:"",element:"",brief:"",keywords:""},:{name:"",element:"",brief:"",keywords:""},:{name:"",element:"",brief:"  ",keywords:""},:{name:"",element:"",brief:"  ",keywords:""},:{name:"",element:"",brief:"",keywords:""},:{name:"",element:"",brief:"",keywords:""},:{name:"",element:"",brief:"  ",keywords:""},:{name:"",element:"",brief:"  ",keywords:""}},jAe=e=>{if(!e||e.length<2)return e;const t=e.charAt(0),n=e.charAt(1),r=cm[t]??t,i=um[n]??n;return`${r}${i}`},aj=e=>{const t=jAe(e),n=TAe[t];return n?{...n,code:t}:null};function eF(e,t){const n=wAe(e),r=n.birthDay??"",i=r.slice(0,4),a=r.slice(4,6),o=r.slice(6,8);let l="";if(n.corrected instanceof Date&&!Number.isNaN(n.corrected.getTime())){const u=String(n.corrected.getHours()).padStart(2,"0"),d=String(n.corrected.getMinutes()).padStart(2,"0");l=t?"":`${u}:${d}`}return`${i} ${a} ${o}  ${l}`}function OAe(e){const t={:0,:0,:0,:0,:0};for(const[n,r]of Object.entries(e)){const i=pu[n];i&&(t[i]+=r)}return t}function NAe(e,t){const n={:0,:0,:0,:0,:0,:0,:0,:0,:0,:0};for(const[r,i]of Object.entries(e)){if(i<=0)continue;const a=AAe(t,r);n[a]+=i}return n}function CAe(e){return{:e.+e.,:e.+e.,:e.+e.,:e.+e.,:e.+e.}}const MAe={natal:50,dae:30,se:20,wol:7,il:3};function DAe(e){const t={};for(const{kind:r,bare:i}of e){const a=MAe[r]??0;if(a<=0)continue;const o=QU(i);for(const[l,u]of Object.entries(o))t[l]=(t[l]??0)+u*a}const n=Object.values(t).reduce((r,i)=>r+i,0);if(n>0)for(const r of Object.keys(t))t[r]=t[r]/n*100;return t}function tF(e,t,n){const r=kAe(e.perStemElementScaled),i=t!==""&&n?.dae?db(n.dae):{},a=(t===""||t===""||t==="")&&n?.se?db(n.se):{},o=(t===""||t==="")&&n?.wol?db(n.wol):{},l=t===""&&n?.il?db(n.il):{},u=DAe([{kind:"natal",bare:r},{kind:"dae",bare:i},{kind:"se",bare:a},{kind:"wol",bare:o},{kind:"il",bare:l}]),d=QU(u),h=OAe(d),p=NAe(d,e.dayStem),b=CAe(p);return{perStemAugBare:d,elementPercent:h,totalsSub:p,totalsMain:b}}function nF(e){return!e.birthTime||e.birthTime===""}function rF(e,t){return t[3]?["","","",""]:["","",""]}function PAe(e,t){return e.map((n,r)=>t[r]??"")}const RAe=e=>typeof e=="object"&&e!==null&&!Array.isArray(e);function tv(e){if(e!=null){if(Array.isArray(e)){const t=e.map(n=>tv(n)).filter(n=>n!==void 0);return t.length>0?t:void 0}if(RAe(e)){const t={};for(const[n,r]of Object.entries(e)){const i=tv(r);i!==void 0&&(t[n]=i)}return Object.keys(t).length>0?t:void 0}return e}}function LAe(e){return e==null?"":typeof e=="string"?e:typeof e=="number"||typeof e=="boolean"?String(e):""}function IAe(e,t){const n=tv(e);if(n===void 0)return"";const r=LAe(n);if(r!=="")return r;const i=JSON.stringify(n,null,2);return t==="plain"?i:["```json",i,"```"].join(`
`)}function iF(e,t,n){const r=IAe(t,n);return r.trim()?`## ${e}
${r}`:""}const qn=(e,t)=>iF(e,t,"plain"),$r=(e,t)=>iF(e,t,"fenced"),$Ae=(e,t)=>{if(!e)return{};const n=t,r=l=>{if(!l)return;const u={};for(const[d,h]of Object.entries(l)){if(!Array.isArray(h))continue;const p=h.filter(b=>typeof b=="string"&&b.includes(n));p.length>0&&(u[d]=p)}return Object.keys(u).length>0?u:void 0},i=r(e.good),a=r(e.bad),o={};return i&&(o.good=i),a&&(o.bad=a),o},BAe=(e,t)=>{const n={};if(!e||typeof e!="object")return n;for(const[r,i]of Object.entries(e)){if(!Array.isArray(i))continue;const a=Array.from(new Set(i.filter(o=>typeof o=="string"&&o.includes(t))));a.length>0&&(n[r]=a)}return n};function e2(e,t){return Object.fromEntries(Object.entries(e).map(([n,r])=>[`${n}(${JU(t,n)})`,r]))}function zAe(e){const{tab:t,natal:n,posLabels:r,chain:i}=e,a=[];for(let l=0;l<r.length;l++){const u=n[l]??"";u&&a.push({kind:"natal",pos:r[l],gz:u})}if(t===""||!i)return a;const o=[...a];return i.dae&&o.push({kind:"luck",pos:"",gz:i.dae}),(t===""||t===""||t==="")&&i.se&&o.push({kind:"luck",pos:"",gz:i.se}),(t===""||t==="")&&i.wol&&o.push({kind:"luck",pos:"",gz:i.wol}),t===""&&i.il&&o.push({kind:"luck",pos:"",gz:i.il}),o}function UAe(e,t){if(!t)return"()";const n=[];return(e===""||e===""||e===""||e==="")&&t.dae&&n.push(`:${Re(t.dae)}`),(e===""||e===""||e==="")&&t.se&&n.push(`:${Re(t.se)}`),(e===""||e==="")&&t.wol&&n.push(`:${Re(t.wol)}`),e===""&&t.il&&n.push(`:${Re(t.il)}`),n.length>0?n.join(" / "):"()"}function aF(e){const{ms:t,natal:n,chain:r,basis:i,tab:a,unified:o,percent:l,category:u,topic:d,subTopic:h,relationMode:p,teacherMode:b,sections:x}=e,k=x?.tenGod??!0,S=x?.twelveUnseong??!0,_=x?.twelveShinsal??!0,T=x?.shinsal??!0,N=x?.nabeum??!0,j=nF(t),C=Re(n[3]??""),M=!!C,P=[Re(n[0]??""),Re(n[1]??""),Re(n[2]??""),C],$=YU(t).slice(0,10),U=Tl({natal:P,daewoon:a!==""?r?.dae??void 0:void 0,sewoon:a===""||a===""||a===""?r?.se??void 0:void 0,wolwoon:a===""||a===""?r?.wol??void 0:void 0,ilwoon:a===""?r?.il??void 0:void 0}),Y=Kd({natal:P,daewoon:a!==""?r?.dae??void 0:void 0,sewoon:a===""||a===""||a===""?r?.se??void 0:void 0,wolwoon:a===""||a===""?r?.wol??void 0:void 0,ilwoon:a===""?r?.il??void 0:void 0}),{shinsalEra:W,shinsalGaehwa:H,shinsalBase:z}=qU.getState(),V=z===""?P[0]?.charAt(1)??"":P[2]?.charAt(1)??"",X=tF(o,a,r),Z=X.elementPercent,q=X.totalsSub,{flags:Q}=I6(P,o.elementScoreRaw),ne=`${u} (${l.toFixed(1)}%)  ${[` ${Q..||Q..||Q..||Q..?"":""}`,` ${Q..||Q..||Q..||Q..?"":""}`,` ${Q..||Q..?"":""}`].join(", ")}`,ue=rF(t,P),se=o.dayStem,B=pu[se]??pu[o.dayStem]??"",K=[` : ${t.name??""} (${eF(t,j)}) : ${t.gender}`,` ${P[0]} ${P[1]} ${P[2]}`+(M?` ${P[3]}`:""),`: ${UAe(a,r)}`].join(`
`),ie=[];ie.push($r("  (10)",$)),ie.push($r("",ne)),ie.push($r("(  )",e2(o.natalFixed.elementPercent100,B))),a!==""&&ie.push($r(`(=${a})`,e2(Z,B))),k&&(ie.push($r(" ( 10 100)",o.natalFixed.totalsSub)),a!==""&&ie.push($r(` ( 10=${a} 100)`,q)));const J=zAe({tab:a,natal:P,posLabels:ue,chain:r});if(S){const re=J.map(({pos:xe,gz:Ne})=>({pos:xe,gz:Ne,unseong:Mo(P[2]?.charAt(0)??"",Ne.charAt(1))}));ie.push($r("(+ )",re))}if(_){const re=J.map(({pos:xe,gz:Ne})=>({pos:xe,gz:Ne,shinsal:Do({baseBranch:V,targetBranch:Ne.charAt(1),era:W,gaehwa:H})}));ie.push($r("(+  )",re))}if(N){const re=[];for(const xe of J){const Ne=aj(xe.gz);if(!Ne){xe.kind==="natal"&&re.push({pos:xe.pos,gz:xe.gz,nabeum:null});continue}re.push({pos:xe.pos,gz:xe.gz,nabeum:Ne.name,element:Ne.element,code:Ne.code})}ie.push($r("(+ )",re))}if(ie.push($r("()",yA(ue.map((re,xe)=>P[xe]??"")))),ie.push($r("( :  )",U)),T)if(a===""){const re=Kd({natal:P,daewoon:null,sewoon:null,wolwoon:null,ilwoon:null,basis:i});ie.push($r("( )",{good:re.good,bad:re.bad,meta:re.meta}))}else ie.push($r(`( =${a})`,Y));const oe=ie.filter(re=>re&&re.trim().length>0).join(`

`),fe=KU({topic:d,subTopic:h,timeMode:"single",tab:a,relationMode:p,teacherMode:b}),he=["-----","  ","","1.       (////)  .","2.  ,        ."];fe&&he.push("","  ( )",fe);const ke=he.join(`
`);return{header:K,body:oe,guide:ke}}function FAe(e){const{header:t,body:n,guide:r}=aF(e);return[t,n,r].join(`

`)}function ko(e){const{scope:t,infoText:n,gz:r,chain:i,natal:a,relationArgs:o,basis:l,unified:u,dayEl:d,baseDayStem:h,show:p,shinsalSettings:b,harmonyMode:x="scope",includeBasicInfo:k=!0}=e,S=tF(u,t,i),_=Tl({natal:a,daewoon:o.daewoon,sewoon:o.sewoon,wolwoon:o.wolwoon,ilwoon:o.ilwoon}),T=p.shinsal?Kd({natal:a,daewoon:o.daewoon,sewoon:o.sewoon,wolwoon:o.wolwoon,ilwoon:o.ilwoon,basis:l}):null,N=p.nabeum?aj(r):null,j=p.twelveUnseong?Mo(h,r.charAt(1)):null,C=p.twelveShinsal?Do({baseBranch:b.baseBranch,targetBranch:r.charAt(1),era:b.era,gaehwa:b.gaehwa}):null,M=x==="full"?_:BAe(_,t);return{...k?{:n,:r}:{},:e2(S.elementPercent,d),...p.tenGod?{:S.totalsSub}:{},:M,...p.shinsal?{:$Ae(T,t)}:{},...p.nabeum?{:N?{gz:r,nabeum:N.name,element:N.element,code:N.code}:null}:{},...p.twelveUnseong?{:{pos:t,gz:r,unseong:j}}:{},...p.twelveShinsal?{:{pos:t,gz:r,shinsal:C}}:{}}}function HAe(e){const{selectedDaeList:t,daeList:n,natal:r,basis:i,unified:a,dayEl:o,baseDayStem:l,show:u,shinsalSettings:d}=e;if(n.length===0||t.length===0)return[];const h=[];for(const p of t){const b={dae:p.gz,se:null,wol:null,il:null},x=ko({scope:"",infoText:`${p.age} ${p.gz} (${p.startYear}~${p.endYear})`,gz:p.gz,chain:b,natal:r,relationArgs:{daewoon:p.gz,sewoon:void 0,wolwoon:void 0,ilwoon:void 0},basis:i,unified:a,dayEl:o,baseDayStem:l,show:u,shinsalSettings:d,harmonyMode:"full",includeBasicInfo:!1});h.push(qn(`${p.age} ${p.gz} (${p.startYear}~${p.endYear})`,x))}return h.filter(p=>p.trim().length>0)}function oj(e){return new Date(e.startYear,(e.startMonth??1)-1,e.startDay??1)}function oF(e,t){const n=e[t],r=e[t+1];return r?oj(r):new Date(n.endYear+1,0,1)}function sF(e,t,n,r){return e<r&&t>n}function lF(e,t,n){const r=new Date(t,0,1),i=new Date(n+1,0,1),a=[];for(let o=0;o<e.length;o++){const l=e[o],u=oj(l),d=oF(e,o);sF(u,d,r,i)&&(a.some(h=>h.gz===l.gz&&h.startYear===l.startYear)||a.push(l))}return a}function cF(e,t){return lF(e,t,t)}function nv(e,t,n){const r=new Date(t,n-1,1),i=new Date(t,n,1),a=[];for(let o=0;o<e.length;o++){const l=e[o],u=oj(l),d=oF(e,o);sF(u,d,r,i)&&(a.some(h=>h.gz===l.gz&&h.startYear===l.startYear)||a.push(l))}return a}function t2(e,t){if(!Number.isInteger(t)||t<1||t>12)throw new RangeError(`findSeForMonthPairs: month must be 1..12, got ${t}`);const n=new Date(e,t-1,1,0,0,0,0),r=new Date(e,t,1,0,0,0,0),i=_n(e,315),a=[],o=u=>{const d=ot(new Date(u,5,15,12,0,0,0)),h=Re(d||"");h&&(a.some(p=>p.useYear===u&&p.gz===h)||a.push({useYear:u,gz:h}))};return n<i&&i<r?(o(e-1),o(e)):r<=i?o(e-1):o(e),a}function GAe(e){const{seYears:t,daeList:n,natal:r,basis:i,unified:a,dayEl:o,baseDayStem:l,show:u,shinsalSettings:d}=e;if(t.length===0)return[];const h=Array.from(new Set(t)).sort((S,_)=>S-_),p=[],b=h[0],x=h[h.length-1],k=lF(n,b,x);if(k.length>0){const S=b,_=ot(new Date(S,5,15,12,0,0)),T=Re(_||""),N={:k.map(j=>{const C={dae:j.gz,se:T||null,wol:null,il:null};return ko({scope:"",infoText:`${j.age} ${j.gz} (${j.startYear}~${j.endYear})`,gz:j.gz,chain:C,natal:r,relationArgs:{daewoon:j.gz,sewoon:T||void 0,wolwoon:void 0,ilwoon:void 0},basis:i,unified:a,dayEl:o,baseDayStem:l,show:u,shinsalSettings:d,harmonyMode:"scope",includeBasicInfo:!0})})};p.push(qn("",N))}for(const S of h){const _=new Date(S,5,15,12,0,0),T=ot(_),N=cF(n,S),j=N.length>0?N[0]:null,C=Re(T||""),M=S,P={dae:j?j.gz:null,se:C||null,wol:null,il:null},$=ko({scope:"",infoText:`${M} ${C}`,gz:C,chain:P,natal:r,relationArgs:{daewoon:j?.gz,sewoon:C||void 0,wolwoon:void 0,ilwoon:void 0},basis:i,unified:a,dayEl:o,baseDayStem:l,show:u,shinsalSettings:d,harmonyMode:"scope",includeBasicInfo:!0});p.push(qn(` ${M}`,{:$}))}return p.filter(S=>S.trim().length>0)}function VS(e){return String(e).padStart(2,"0")}function qAe(e,t){const n=new Date(e,t-1,1,12,0,0,0),r=new Date(e,t,1,12,0,0,0),i=_n(e,315),a=t2(e,t);if(!(n<i&&i<r)){const k=a[a.length-1]??(()=>{const S=Re(ot(new Date(e,5,15,12,0,0,0))||"");return{useYear:e,gz:S}})();return[{label:`${e}-${VS(t)}`,repDate:new Date(e,t-1,15,12,0,0,0),se:k}]}const l=1440*60*1e3,u=new Date(i.getTime()-l);u.setHours(12,0,0,0);const d=new Date(i.getTime()+l);d.setHours(12,0,0,0);const h=a.find(k=>k.useYear===e-1)??a[0],p=a.find(k=>k.useYear===e)??a[a.length-1],b=h??{useYear:e-1,gz:Re(ot(new Date(e-1,5,15,12,0,0,0))||"")},x=p??{useYear:e,gz:Re(ot(new Date(e,5,15,12,0,0,0))||"")};return[{label:`${e}-${VS(t)}()`,repDate:u,se:b},{label:`${e}-${VS(t)}()`,repDate:d,se:x}]}function YAe(e){const{wolMonths:t,daeList:n,natal:r,basis:i,unified:a,dayEl:o,baseDayStem:l,show:u,shinsalSettings:d}=e;if(t.length===0)return[];const h=[],p=[],b=new Map;for(const N of t){const[j,C]=N.split("-").map(Number),M=nv(n,j,C);for(const $ of M)p.some(U=>U.gz===$.gz&&U.startYear===$.startYear)||p.push($);const P=t2(j,C);for(const $ of P){const U=`${$.useYear}:${$.gz}`;b.has(U)||b.set(U,{year:$.useYear,month:C,gz:$.gz})}}const[x,k]=t[0].split("-").map(Number),S=t2(x,k),_=S[S.length-1]?.gz??Re(ot(new Date(x,5,15,12,0,0,0))||"");if(p.length>0){const N={:p.map(j=>{const C={dae:j.gz,se:_||null,wol:null,il:null};return ko({scope:"",infoText:`${j.age} ${j.gz} (${j.startYear}~${j.endYear})`,gz:j.gz,chain:C,natal:r,relationArgs:{daewoon:j.gz,sewoon:_||void 0,wolwoon:void 0,ilwoon:void 0},basis:i,unified:a,dayEl:o,baseDayStem:l,show:u,shinsalSettings:d,harmonyMode:"scope",includeBasicInfo:!0})})};h.push(qn("",N))}const T=Array.from(b.keys()).sort((N,j)=>{const C=Number(N.split(":")[0]),M=Number(j.split(":")[0]);return C-M});if(T.length>0){const N={:T.map(j=>{const C=b.get(j),M=C.year,P=C.gz,U=cF(n,M)[0]??p[0]??null,Y={dae:U?U.gz:null,se:P,wol:null,il:null};return ko({scope:"",infoText:`${M} ${P}`,gz:P,chain:Y,natal:r,relationArgs:{daewoon:U?.gz,sewoon:P,wolwoon:void 0,ilwoon:void 0},basis:i,unified:a,dayEl:o,baseDayStem:l,show:u,shinsalSettings:d,harmonyMode:"scope",includeBasicInfo:!0})})};h.push(qn("",N))}for(const N of t){const[j,C]=N.split("-").map(Number),M=nv(n,j,C),P=M.length>0?M[0]:null,U=qAe(j,C).map(Y=>{const W=_t(Y.repDate),H=Re(W||""),z={dae:P?P.gz:null,se:Y.se.gz||null,wol:H,il:null};return ko({scope:"",infoText:`${Y.label} ${H}  ${Y.se.useYear} ${Y.se.gz}`,gz:H,chain:z,natal:r,relationArgs:{daewoon:P?.gz,sewoon:Y.se.gz||void 0,wolwoon:H,ilwoon:void 0},basis:i,unified:a,dayEl:o,baseDayStem:l,show:u,shinsalSettings:d,harmonyMode:"scope",includeBasicInfo:!0})});h.push(qn(` ${N}`,{:U}))}return h.filter(N=>N.trim().length>0)}function ZS(e){const t=e.getFullYear(),n=_n(t,315),r=e<n?t-1:t,i=ot(new Date(r,5,15,12,0,0,0)),a=Re(i||"");return{useYear:r,gz:a}}function KAe(e){const{ilDays:t,daeList:n,natal:r,basis:i,unified:a,dayEl:o,baseDayStem:l,show:u,shinsalSettings:d,dayBoundaryRule:h}=e;if(t.length===0)return[];const p=[],[b,x,k]=t[0].split("-").map(Number),S=new Date(b,x-1,k,4,0),_=new Date(b,x-1,k,12,0);if(!Number.isNaN(S.getTime())){const T=nv(n,b,x),N=T.length>0?T[0]:null,j=[];for(const W of t){const[H,z,V]=W.split("-").map(Number),X=new Date(H,z-1,V,12,0),Z=new Date(H,z-1,V,4,0);if(Number.isNaN(X.getTime())||Number.isNaN(Z.getTime()))continue;const q=ZS(X),Q=Re(_t(X)||""),ne=Re(pt(Z,h)||""),ue=`${q.useYear}|${q.gz}|${Q}`;j.some(se=>se.key===ue)||j.push({key:ue,repDateStr:W,seYear:q.useYear,seGZ:q.gz,wolGZ:Q,ilGZ:ne})}const C=Re(pt(S,h)||""),M=Re(_t(_)||""),P=ZS(_),$=j.length>0?j:[{key:`${P.useYear}|${P.gz}|${M}`,repDateStr:t[0],seYear:P.useYear,seGZ:P.gz,wolGZ:M,ilGZ:C}];if(N){const W=$[$.length-1],H={dae:N.gz,se:W.seGZ,wol:W.wolGZ,il:W.ilGZ},z=ko({scope:"",infoText:`${N.age} ${N.gz} (${N.startYear}~${N.endYear})`,gz:N.gz,chain:H,natal:r,relationArgs:{daewoon:N.gz,sewoon:W.seGZ,wolwoon:W.wolGZ,ilwoon:W.ilGZ},basis:i,unified:a,dayEl:o,baseDayStem:l,show:u,shinsalSettings:d,harmonyMode:"scope",includeBasicInfo:!0});p.push(qn("",z))}const U=$.filter(W=>W.seGZ.trim().length>0).map(W=>{const H={dae:N?N.gz:null,se:W.seGZ,wol:W.wolGZ,il:W.ilGZ};return ko({scope:"",infoText:`${W.seYear} ${W.seGZ} (${W.repDateStr} )`,gz:W.seGZ,chain:H,natal:r,relationArgs:{daewoon:N?.gz,sewoon:W.seGZ,wolwoon:W.wolGZ,ilwoon:W.ilGZ},basis:i,unified:a,dayEl:o,baseDayStem:l,show:u,shinsalSettings:d,harmonyMode:"scope",includeBasicInfo:!0})});U.length>0&&p.push(qn("",{:U}));const Y=$.filter(W=>W.wolGZ.trim().length>0).map(W=>{const H={dae:N?N.gz:null,se:W.seGZ,wol:W.wolGZ,il:W.ilGZ};return ko({scope:"",infoText:`${W.repDateStr} ${W.wolGZ}`,gz:W.wolGZ,chain:H,natal:r,relationArgs:{daewoon:N?.gz,sewoon:W.seGZ,wolwoon:W.wolGZ,ilwoon:W.ilGZ},basis:i,unified:a,dayEl:o,baseDayStem:l,show:u,shinsalSettings:d,harmonyMode:"scope",includeBasicInfo:!0})});Y.length>0&&p.push(qn("",{:Y}))}for(const T of t){const[N,j,C]=T.split("-").map(Number),M=new Date(N,j-1,C,4,0),P=new Date(N,j-1,C,12,0);if(Number.isNaN(M.getTime())||Number.isNaN(P.getTime()))continue;const $=nv(n,N,j),U=$.length>0?$[0]:null,W=ZS(P).gz,H=_t(P),z=Re(H||""),V=pt(M,h),X=Re(V||""),Z={dae:U?U.gz:null,se:W||null,wol:z,il:X},q=ko({scope:"",infoText:`${T} ${X}`,gz:X,chain:Z,natal:r,relationArgs:{daewoon:U?.gz,sewoon:W||void 0,wolwoon:z||void 0,ilwoon:X||void 0},basis:i,unified:a,dayEl:o,baseDayStem:l,show:u,shinsalSettings:d,harmonyMode:"scope",includeBasicInfo:!0});p.push(qn(` ${T}`,{:q}))}return p.filter(T=>T.trim().length>0)}function uF(e){const{ms:t,natal:n,basis:r,includeTenGod:i,unified:a,percent:o,category:l,selectedDaeList:u,daeList:d,seYears:h,wolMonths:p,ilDays:b,topic:x,subTopic:k,timeMode:S,teacherMode:_,sections:T}=e,N=nF(t),j=Re(n[3]??""),C=!!j,M=t.mingSikType??"/",P=[Re(n[0]??""),Re(n[1]??""),Re(n[2]??""),j],$=rF(t,P),U=P[2]?.charAt(0)??"",Y=pu[U]??pu[a.dayStem]??"",W=!!i&&(T?.tenGod??!0),H=T?.twelveUnseong??!0,z=T?.twelveShinsal??!0,V=T?.shinsal??!0,X=T?.nabeum??!0,{shinsalBase:Z,shinsalEra:q,shinsalGaehwa:Q}=qU.getState(),ne=Z===""?P[0]?.charAt(1)??"":P[2]?.charAt(1)??"",ue=eF(t,N),se=[` : ${t.name??""} (${ue}) : ${t.gender}`,` ${P[0]} ${P[1]} ${P[2]}`+(C?` ${P[3]}`:"")].join(`
`),B=[],{flags:K}=I6(P,a.elementScoreRaw),ie=`${l} (${o.toFixed(1)}%)  ${[` ${K..||K..||K..||K..?"":""}`,` ${K..||K..||K..||K..?"":""}`,` ${K..||K..||K..||K..?"":""}`].join("  ")}`;if(B.push(qn("",ie)),B.push(qn("()",Object.fromEntries(Object.entries(a.natalFixed.elementPercent100).map(([he,ke])=>[`${he}(${JU(Y,he)})`,ke])))),W&&B.push(qn(" ( 10 100)",a.natalFixed.totalsSub)),H){const he=Object.fromEntries($.map((ke,re)=>[ke,Mo(U,(P[re]??"").charAt(1))]));B.push(qn("()",he))}if(z){const he=Object.fromEntries($.map((ke,re)=>[ke,Do({baseBranch:ne,targetBranch:(P[re]??"").charAt(1),era:q,gaehwa:Q})]));B.push(qn("()",he))}B.push(qn("//",K));const J=yA(PAe($,P));if(B.push(qn("()",J)),V){const he=Kd({natal:P,daewoon:null,sewoon:null,wolwoon:null,ilwoon:null,basis:r});B.push(qn("()",he))}if(X){const he=Object.fromEntries($.map((ke,re)=>{const xe=P[re]??"",Ne=aj(xe);return[ke,Ne?{gz:xe,nabeum:Ne.name,element:Ne.element,code:Ne.code}:null]}));B.push(qn("()",he))}d.length>0&&u.length>0&&B.push(...HAe({selectedDaeList:u,daeList:d,natal:P,basis:r,unified:a,dayEl:Y,baseDayStem:U,show:{tenGod:W,twelveUnseong:H,twelveShinsal:z,shinsal:V,nabeum:X},shinsalSettings:{baseBranch:ne,era:q,gaehwa:Q}})),h.length>0&&B.push(...GAe({seYears:h,daeList:d,natal:P,basis:r,unified:a,dayEl:Y,baseDayStem:U,show:{tenGod:W,twelveUnseong:H,twelveShinsal:z,shinsal:V,nabeum:X},shinsalSettings:{baseBranch:ne,era:q,gaehwa:Q}})),p.length>0&&B.push(...YAe({wolMonths:p,daeList:d,natal:P,basis:r,unified:a,dayEl:Y,baseDayStem:U,show:{tenGod:W,twelveUnseong:H,twelveShinsal:z,shinsal:V,nabeum:X},shinsalSettings:{baseBranch:ne,era:q,gaehwa:Q}})),b.length>0&&B.push(...KAe({ilDays:b,daeList:d,natal:P,basis:r,unified:a,dayEl:Y,baseDayStem:U,show:{tenGod:W,twelveUnseong:H,twelveShinsal:z,shinsal:V,nabeum:X},shinsalSettings:{baseBranch:ne,era:q,gaehwa:Q},dayBoundaryRule:M}));const oe=KU({topic:x,subTopic:k,timeMode:S,teacherMode:_}),fe=(tv(B.join(`

`))??"").toString();return{header:se,body:fe,guide:oe}}function WAe(e){const{header:t,body:n,guide:r}=uF(e);return[t,"",n,"",r].join(`
`)}function sj(e){if(!e)return null;const t=e.name||"";let n="";if(e.birthDay&&e.birthDay.length===8){const o=e.birthDay.slice(0,4),l=e.birthDay.slice(4,6),u=e.birthDay.slice(6,8);n=`${o}-${l}-${u}`}else e.birthDay&&(n=e.birthDay);let r="";if(e.birthTime&&e.birthTime.trim().length>0){const l=e.birthTime.trim().padEnd(4,"0").slice(0,4),u=l.slice(0,2),d=l.slice(2,4);r=`${u}:${d}`}let i="";e.birthPlace&&typeof e.birthPlace=="object"&&(i=e.birthPlace.name||"");const a=e.ganji||e.ganjiText||"";return{name:t,birthDate:n,birthTime:r,birthPlace:i,ganjiText:a}}function VAe(e){const{header:t,body:n}=aF(e),r=e.relationMode==="couple"?sj(e.partnerMs??null):null,i=r?$r("  ",r):"";return[t,n,i].filter(a=>a&&a.trim().length>0).join(`

`)}function ZAe(e){const{header:t,body:n}=uF(e),r=e.relationMode==="couple"?sj(e.partnerMs??null):null,i=r?$r("  ",r):"";return[t,n,i].filter(a=>a&&a.trim().length>0).join(`

`)}function XAe(e){const t=(e??"").trim();if(!t)return"";const n=[/\r?\n-----\s*\r?\n/,/\r?\n?\s*\s*/,/\r?\n?\s*\s*/,/\r?\n##\s*\s*/,/\r?\n##\s*/,/\r?\n?###\s*/,/\r?\n?\s*\s*/,/\r?\n?\s*\s*/];let r=-1;for(const i of n){const a=t.search(i);a>=0&&(r=r<0?a:Math.min(r,a))}return r>=0?t.slice(0,r).trimEnd():t}function JAe(e){switch(e){case"analysis":return`   ,   .
`;case"mentor":return`     .
`;case"dryHumor":return`    .
`;case"softWarm":return`    .
`;default:return""}}function QAe(e){return e?`    .
`:""}function eTe(e,t){if(e!=="couple")return"";const n=sj(t);return n?["","","[  -   ]","",`-  : ${n.name}`,`-  : ${n.birthDate}`,`-  : ${n.birthTime}`,`-  : ${n.birthPlace}`,`- ${n.ganjiText}`,"","   /  ,","      .",""].join(`
`):""}function zd(e){return Re(e)}function tTe(e){return e[0]?.length===2&&e[1]?.length===2&&e[2]?.length===2}function H3(e){const t=Array.isArray(e)?e.slice(0,4):[];for(;t.length<4;)t.push("");return t.map((n,r)=>{const i=Re(n??"");return i||(r<=2?"--":"")})}function nTe(e,t,n){if(e)return{dae:e.dae??null,se:e.se??null,wol:e.wol??null,il:e.il??null};const r=zd(ot(t)||""),i=zd(_t(t)||""),a=zd(pt(t,n)||"");return{dae:null,se:r||null,wol:i||null,il:a||null}}function rTe(e,t){const n=H3(e),r=H3(t);return{solarKo:n,lunarKo:r}}function n2(e,t,n){const r=[...e];return n&&(!r[3]||r[3]===""||r[3]==="--")&&t&&(r[3]=t.stem+t.branch),r}function iTe(e,t,n){return e?"solar":t?"lunar":"solar"}function aTe(e,t,n,r,i,a,o,l){return n2(e==="lunar"?n?i:t?r:a??["","","",""]:t?r:n?i:a??["","","",""],o,l)}function oTe(e,t){const n=Number(e.birthDay?.slice(0,4)),r=Number(e.birthDay?.slice(4,6)),i=Number(e.birthDay?.slice(6,8));if(!Number.isFinite(n)||!Number.isFinite(r)||!Number.isFinite(i))return null;const a=new Date(n,r-1,i,12,4,0,0),o=zd(ot(a)||""),l=zd(_t(a)||""),u=zd(pt(a,t)||"");return[o,l,u,""]}function sTe(e,t){return t&&e?e.stem+e.branch:""}function lTe(e,t,n){const i=[...ij(e)];return n&&t&&t.length===2&&(i[3]=t),i}function cTe(e){const t=U6(e,{criteriaMode:"modern",useHarmonyOverlay:!0}),n=_A(t);return{percent:n,category:v6(n)}}function uTe(e){const t=YU(e).slice(0,10),n=e.birthDay?Number(e.birthDay.slice(0,4)):0;return t.map((r,i)=>{const a=r.match(/(\d{4})\s+(\d{1,2})\s+([-]{2})\s+/),o=a?Number(a[1]):0,l=a?Number(a[2]):1,u=1,d=a?a[3]:"",h=n>0?hTe(n,o):i*10;return{gz:d,age:h,startYear:o,startMonth:l,startDay:u,endYear:o+10}})}function dTe(e,t){return e.filter(n=>n.id!==t).map(n=>{const r=(n.name??"").trim()||" ",i=n.birthDay?n.birthDay:"",a=i?`${r} (${i})`:r;return{id:n.id,label:a}})}function fTe(e,t){if(!e)return"";if(t.length===0)return e;const n=["","-----","     ","",...t.map((r,i)=>`${i+1}. ${r}`)];return`${e}
${n.join(`
`)}`}function G3(e){return tTe(e)}function hTe(e,t){return t-e+1}function mTe({ms:e,natal:t,lunarPillars:n,chain:r,basis:i,includeTenGod:a=!1,canUseMultiMode:o,canUseLuckTabs:l,input:u}){const{tone:d,friendMode:h,teacherMode:p,partnerId:b,mainCategory:x,subCategory:k,relationMode:S,activeTab:_,isMultiMode:T,multiTab:N,selectedDaeIdx:j,rangeControls:C,extraQuestions:M,sections:P}=u,$=wr(Gt=>Gt.list),{date:U,setDate:Y}=fi();w.useEffect(()=>{Y(new Date)},[e.id,Y]);const W=w.useMemo(()=>b?$.find(Gt=>Gt.id===b)??null:null,[b,$]),H=e.mingSikType??"/",z=w.useMemo(()=>U??new Date,[U]),V=w.useMemo(()=>nTe(r,z,H),[r,z,H]),X=w.useMemo(()=>l?V:{dae:null,se:null,wol:null,il:null},[l,V]),Z=ap(Gt=>Gt.manualHour),q=!e.birthTime||e.birthTime===""||!/^\d{4}$/.test(e.birthTime??""),{solarKo:Q,lunarKo:ne}=w.useMemo(()=>rTe(t,n),[t,n]),ue=w.useMemo(()=>n2(Q,Z,q),[Q,Z,q]),se=w.useMemo(()=>n2(ne,Z,q),[ne,Z,q]),B=w.useMemo(()=>oTe(e,H),[e,H]),K=G3(ue),ie=G3(se),J=iTe(K,ie),oe=w.useMemo(()=>aTe(J,K,ie,ue,se,B,Z,q),[J,K,ie,ue,se,B,Z,q]),fe=w.useMemo(()=>q&&Z?Z.stem+Z.branch:oe[3]||"",[Z,oe,q]),he=sTe(Z,q),ke=w.useMemo(()=>lTe(e,he,q),[e,he,q]),re=l?_:"",xe=x==="love"||x==="compat",ye=xe&&S==="couple"?W??null:null,Ze=xe?S:void 0,qe=w.useMemo(()=>Dv({natal:ke,tab:re,chain:X,hourKey:fe}),[ke,re,X,fe]),{percent:Me,category:Ee}=w.useMemo(()=>cTe(ke),[ke]),Oe=w.useMemo(()=>uTe(e),[e]),Ie=w.useMemo(()=>dTe($??[],e.id),[$,e.id]),Qe=w.useMemo(()=>j.map(Gt=>Oe[Gt]).filter(Gt=>!!Gt),[j,Oe]),rt=w.useMemo(()=>N===""?C.seYearsList:[],[N,C.seYearsList]),Vt=w.useMemo(()=>N===""?C.wolMonthsList:[],[N,C.wolMonthsList]),de=w.useMemo(()=>N===""?C.ilDaysList:[],[N,C.ilDaysList]),Ce=w.useMemo(()=>e?FAe({ms:e,natal:ke,chain:X,basis:i,tab:re,unified:qe,percent:Me,category:Ee,topic:x,subTopic:k,relationMode:S,teacherMode:p,sections:P}):"",[e,i,a,re,X,qe,Me,Ee,ke,x,k,S,ye,p,P]),Be=w.useMemo(()=>!e||!T||!o?"":WAe({ms:e,natal:ke,basis:i,includeTenGod:a,unified:qe,percent:Me,category:Ee,selectedDaeList:Qe,daeList:Oe,seYears:rt,wolMonths:Vt,ilDays:de,topic:x,subTopic:k,timeMode:"multi",teacherMode:p,sections:P}),[e,T,o,rt,Qe,Oe,Vt,de,ke,i,a,qe,Me,Ee,x,k,Ze,ye,p,h,P]),ut=w.useMemo(()=>eTe(S,W),[S,W]),Ot=T?Be:Ce,vt=w.useMemo(()=>JAe(d),[d]),Jn=w.useMemo(()=>QAe(h),[h]),gi=w.useMemo(()=>Ot||ut?`${Ot}${ut}
${vt}${Jn}`:"",[vt,Jn,Ot,ut]),bi=w.useMemo(()=>fTe(gi,M),[gi,M]),Ls=w.useMemo(()=>e?T?ZAe({ms:e,natal:ke,basis:i,includeTenGod:a,unified:qe,percent:Me,category:Ee,selectedDaeList:Qe,daeList:Oe,seYears:rt,wolMonths:Vt,ilDays:de,topic:x,subTopic:k,timeMode:"multi",relationMode:Ze,partnerMs:ye,teacherMode:p,sections:P}):VAe({ms:e,natal:ke,chain:X,basis:i,tab:re,unified:qe,percent:Me,category:Ee,topic:x,subTopic:k,relationMode:S,partnerMs:ye,teacherMode:p,sections:P}):"",[e,T,ke,i,a,qe,Me,Ee,Qe,Oe,rt,Vt,de,x,k,S,Ze,ye,p,h,P,X,re]),Is=w.useMemo(()=>{const Gt=Ls.trim();if(Gt)return Gt;const mn=XAe(Ot).trim();return mn||Ot.trim()},[Ls,Ot]);return{date:U,setDate:Y,partnerMs:W,partnerOptions:Ie,daeList:Oe,tabForLogic:re,baseText:Ot,basePrompt:gi,finalText:bi,infoOnlyText:Is,allowManualHour:q,activePillars:oe}}function q3(e,t=1200){const[n,r]=w.useState(!1),i=!!(e&&e.trim().length>0),a=w.useCallback(async()=>{if(i)try{await navigator.clipboard.writeText(e),r(!0),setTimeout(()=>r(!1),t)}catch{r(!1)}},[i,e,t]);return{copied:n,canCopy:i,onCopy:a}}function pTe(e,t){const{copied:n,canCopy:r,onCopy:i}=q3(e),{copied:a,canCopy:o,onCopy:l}=q3(t);return{copiedAll:n,copiedInfo:a,canCopyAll:r,canCopyInfo:o,onCopyAll:i,onCopyInfoOnly:l}}function gTe({ms:e,natal:t,lunarPillars:n,chain:r,basis:i,includeTenGod:a=!1}){const o=wr(W=>W._rtUserId),u=cAe()??o??null,d=on(W=>W.loaded),h=on(W=>W.userId),p=on(W=>W.plan),b=w.useMemo(()=>om(!u||!d||h!==u?"FREE":p??null),[u,d,h,p]),x=w.useMemo(()=>Lk(b),[b]),k=x.canUseMultiMode,S=x.canUseLuckTabs,_=x.canUseAllPrompts?"full":"locked",T=fAe({msId:e.id,canUseMultiMode:k,canUseLuckTabs:S}),N=mTe({ms:e,natal:t,lunarPillars:n,chain:r,basis:i,includeTenGod:a,canUseMultiMode:k,canUseLuckTabs:S,input:T}),{copiedAll:j,copiedInfo:C,canCopyAll:M,canCopyInfo:P,onCopyAll:$,onCopyInfoOnly:U}=pTe(N.finalText,N.infoOnlyText);function Y(W,H){T.setMainCategory(W),T.setSubCategory(H?.[0]?.key??"overview")}return{sections:T.sections,toggleSection:T.toggleSection,tone:T.tone,setTone:T.setTone,friendMode:T.friendMode,setFriendMode:T.setFriendMode,teacherMode:T.teacherMode,setTeacherMode:T.setTeacherMode,date:N.date,setDate:N.setDate,planTier:b,promptAccess:_,canUseMultiMode:k,canUseLuckTabs:S,partnerId:T.partnerId,setPartnerId:T.setPartnerId,partnerMs:N.partnerMs,mainCategory:T.mainCategory,subCategory:T.subCategory,setSubCategory:T.setSubCategory,relationMode:T.relationMode,setRelationMode:T.setRelationMode,activeTab:T.activeTab,setActiveTab:T.setActiveTab,isMultiMode:T.isMultiMode,setIsMultiMode:T.setIsMultiMode,multiTab:T.multiTab,setMultiTab:T.setMultiTab,selectedDaeIdx:T.selectedDaeIdx,handleToggleDae:T.handleToggleDae,rangeControls:T.rangeControls,partnerOptions:N.partnerOptions,daeList:N.daeList,tabForLogic:N.tabForLogic,baseText:N.baseText,basePrompt:N.basePrompt,finalText:N.finalText,infoOnlyText:N.infoOnlyText,copiedAll:j,copiedInfo:C,canCopyAll:_==="full"&&M,canCopyInfo:_==="full"&&P,onCopyAll:$,onCopyInfoOnly:U,handleMainCategoryChange:Y,setQuestionDraft:T.setQuestionDraft,questionDraft:T.questionDraft,extraQuestions:T.extraQuestions,setExtraQuestions:T.setExtraQuestions,handleAddQuestion:T.handleAddQuestion,handleRemoveQuestion:T.handleRemoveQuestion,handleClearQuestions:T.handleClearQuestions,allowManualHour:N.allowManualHour,activePillars:N.activePillars}}function bTe({ms:e,natal:t,chain:n,basis:r,lunarPillars:i,includeTenGod:a=!1}){const o=gTe({ms:e,natal:t,chain:n,basis:r,lunarPillars:i,includeTenGod:a}),l=$3[o.mainCategory];if(!e)return g.jsx("div",{className:"p-4 border rounded bg-neutral-50 dark:bg-neutral-900 text-sm text-neutral-500",children:"  ."});const u=o.promptAccess!=="full",d=u?"    . ":void 0,h=!u&&o.canCopyInfo,p=!u&&o.canCopyAll;return g.jsxs("div",{className:"relative rounded-xl border border-neutral-200 dark:border-neutral-800 bg-white dark:bg-neutral-900 p-3 space-y-2 desk:space-y-3",children:[u?g.jsx("div",{className:"absolute inset-0 z-10 rounded-xl bg-white/70 dark:bg-neutral-900/70 backdrop-blur-[1px] flex items-center justify-center p-4",children:g.jsxs("div",{className:"max-w-sm text-center border border-neutral-300 dark:border-neutral-700 rounded-xl bg-white dark:bg-neutral-900 px-4 py-3 shadow-sm",children:[g.jsx("div",{className:"text-lg font-semibold",children:"  "}),g.jsxs("div",{className:"text-sm text-neutral-600 dark:text-neutral-300 mt-1",children:["   /  .",g.jsx("br",{}),"    100   ! (  )"]})]})}):null,g.jsx(Z2e,{}),g.jsx(X2e,{sections:o.sections,toggleSection:o.toggleSection}),g.jsx(J2e,{tone:o.tone,toneMeta:oAe,setTone:o.setTone,friendMode:o.friendMode,setFriendMode:b=>o.setFriendMode(b.target.checked),teacherMode:o.teacherMode,setTeacherMode:b=>o.setTeacherMode(b.target.checked)}),g.jsx(Q2e,{mainCategory:o.mainCategory,subCategory:o.subCategory,mainCategoryMeta:lAe,currentSubList:l,onMainCategoryChange:b=>o.handleMainCategoryChange(b,$3[b]),onSubCategoryChange:o.setSubCategory}),g.jsx(eAe,{visible:o.mainCategory==="love"||o.mainCategory==="compat",relationMode:o.relationMode,setRelationMode:o.setRelationMode,partnerId:o.partnerId,setPartnerId:o.setPartnerId,partnerOptions:o.partnerOptions}),g.jsx(tAe,{isMultiMode:o.canUseMultiMode?o.isMultiMode:!1,setIsMultiMode:b=>{!o.canUseMultiMode&&b||o.setIsMultiMode(b)},canUseMultiMode:o.canUseMultiMode}),o.isMultiMode?g.jsx(rAe,{multiTab:o.multiTab,setMultiTab:o.setMultiTab,daeList:o.daeList.map(b=>({gz:b.gz,age:b.age,startYear:b.startYear,endYear:b.endYear})),selectedDaeIdx:o.selectedDaeIdx,onToggleDae:o.handleToggleDae,seStartYear:o.rangeControls.seStartYear,seEndYear:o.rangeControls.seEndYear,onSeStartChange:o.rangeControls.onSeStartChange,onSeEndChange:o.rangeControls.onSeEndChange,onSeStartBlur:o.rangeControls.onSeStartBlur,onSeEndBlur:o.rangeControls.onSeEndBlur,seYearsCount:o.rangeControls.seYearsCount,wolStartDate:o.rangeControls.wolStartYM,wolEndDate:o.rangeControls.wolEndYM,onWolStartChange:o.rangeControls.onWolStartChange,onWolEndChange:o.rangeControls.onWolEndChange,onWolStartBlur:o.rangeControls.onWolStartBlur,onWolEndBlur:o.rangeControls.onWolEndBlur,wolMonthsCount:o.rangeControls.wolMonthsCount,ilStartDate:o.rangeControls.ilStartDate,ilEndDate:o.rangeControls.ilEndDate,onIlStartChange:o.rangeControls.onIlStartChange,onIlEndChange:o.rangeControls.onIlEndChange,onIlStartBlur:o.rangeControls.onIlStartBlur,onIlEndBlur:o.rangeControls.onIlEndBlur,ilDaysCount:o.rangeControls.ilDaysCount}):g.jsx(nAe,{tabs:sAe,activeTab:o.tabForLogic,setActiveTab:b=>{!o.canUseLuckTabs&&b!==""||o.setActiveTab(b)},date:o.date,setDate:o.setDate,canUseLuckTabs:o.canUseLuckTabs}),g.jsx(iAe,{questionDraft:o.questionDraft,onChangeDraft:b=>o.setQuestionDraft(b.target.value),onAddQuestion:o.handleAddQuestion,extraQuestions:o.extraQuestions,onClearAll:o.handleClearQuestions,onRemoveQuestion:o.handleRemoveQuestion,locked:u,lockTitle:d}),g.jsx(aAe,{value:o.finalText,lockSelection:u}),g.jsx("div",{className:"flex justify-end",children:g.jsxs("div",{className:"flex gap-2 w-full desk:w-auto",children:[g.jsx("button",{type:"button",onClick:o.onCopyInfoOnly,disabled:!h,title:h?void 0:d,className:["w-full desk:w-auto px-3 py-1 rounded-md text-xs whitespace-nowrap border",h?"cursor-pointer":"cursor-not-allowed opacity-50",o.copiedInfo?"bg-green-600 text-white border-green-600":h?"bg-orange-600 text-white dark:bg-orange-600":"bg-orange-600/70 text-white border-orange-600/50"].join(" "),children:o.copiedInfo?"":`  ${h?"":" "}`}),g.jsx("button",{type:"button",onClick:o.onCopyAll,disabled:!p,title:p?void 0:d,className:["w-full desk:w-auto px-3 py-1 rounded-md text-xs whitespace-nowrap",p?"cursor-pointer":"cursor-not-allowed opacity-50",o.copiedAll?"bg-green-600 text-white":"bg-neutral-900 text-white dark:bg-yellow-500 dark:text-black"].join(" "),children:o.copiedAll?"":`  ${p?"":" "}`})]})})]})}function yTe(){const[e,t]=w.useState(null),[n,r]=w.useState(!1),[i,a]=w.useState(!1),[o]=w.useState(()=>typeof window>"u"?!1:window.location.pathname.startsWith("/admin"));return{userId:e,setUserId:t,authChecked:n,setAuthChecked:r,isLoggedIn:i,setIsLoggedIn:a,adminMode:o}}function vTe(){const e=wr(r=>r.loading),t=jn(r=>r.loaded),n=on(r=>r.loaded);return{loading:e,settingsLoaded:t,entLoaded:n}}const Y3="app_session_started_at_ms",xTe=7200*1e3;function _Te(){const e=sessionStorage.getItem(Y3),t=e?Number(e):NaN;if(!Number.isFinite(t)||t<=0){const n=Date.now();return sessionStorage.setItem(Y3,String(n)),n}return t}function wTe(e=Date.now()){const t=_Te();return Math.max(0,e-t)}function STe(e,t=Date.now()){return wTe(t)>=e}async function kTe(e,t){const{data:n,error:r}=await De.from("user_settings_kv").select("value").eq("user_id",e).eq("setting_key",t).maybeSingle();if(r)throw r;return n?.value??null}async function ETe(e,t,n){const{error:r}=await De.from("user_settings_kv").upsert({user_id:e,setting_key:t,value:n},{onConflict:"user_id,setting_key"});if(r)throw r}const ATe=e=>typeof e=="object"&&e!==null&&!Array.isArray(e);function Md(e){if(e===null)return"null";if(e===void 0)return"undefined";const t=typeof e;return t==="string"?JSON.stringify(e):t==="number"||t==="boolean"?String(e):Array.isArray(e)?`[${e.map(Md).join(",")}]`:ATe(e)?`{${Object.keys(e).sort().map(i=>`${JSON.stringify(i)}:${Md(e[i])}`).join(",")}}`:e instanceof Date?`{"$date":${JSON.stringify(e.toISOString())}}`:JSON.stringify(String(e))}function TTe(e,t){let n=null;return(...r)=>{n!==null&&window.clearTimeout(n),n=window.setTimeout(()=>{n=null,e(...r)},t)}}function jTe(e,t){const n=t.debounceMs??400;let r=!1,i=null,a=Md(t.select(t.store.getState()));const o=TTe(async p=>{try{await ETe(e,t.dbKey,p),a=Md(p)}catch(b){console.error(`[settings] save failed key=${t.dbKey}`,b)}},n),l=p=>{r=!0;try{t.apply(p),a=Md(p)}finally{r=!1}},u=p=>{t.validate&&!t.validate(p)||l(p)},d=async()=>{const p=await kTe(e,t.dbKey);p!==null&&u(p)};i=t.store.subscribe(p=>{if(r)return;const b=t.select(p);Md(b)!==a&&o(b)});const h=()=>{i&&i(),i=null};return{dbKey:t.dbKey,loadFromDb:d,applyRemote:u,stop:h}}function OTe(e){if(typeof e!="object"||e===null)return!1;const t=e;return["twelveUnseong","twelveShinsal","shinsal","nabeum"].every(r=>typeof t[r]=="boolean")}function XS(e){return typeof e=="object"&&e!==null&&!Array.isArray(e)}function NTe(e){w.useEffect(()=>{if(!e)return;const t=[];t.push(jTe(e,{dbKey:"promptCopy.sections",store:ev,select:o=>o.sections,apply:o=>ev.setState({sections:o}),validate:OTe,debounceMs:250})),Promise.all(t.map(o=>o.loadFromDb())).catch(o=>{console.error("[settings] initial load failed",o)});const n=[{table:"user_settings_kv",filterByUserId:!0}],r=new Map,i=(o,l,u)=>{const d=r.get(o);d&&window.clearTimeout(d);const h=window.setTimeout(()=>{r.delete(o),u()},l);r.set(o,h)},a=De.channel(`app-sync:${e}`);for(const o of n)a.on("postgres_changes",{event:"*",schema:"public",table:o.table,...o.filterByUserId?{filter:`user_id=eq.${e}`}:{}},l=>{if(STe(xTe)){window.location.reload();return}if(o.table==="user_settings_kv"){if(!XS(l))return;const u=l.new,d=l.old,h=S=>XS(S)&&typeof S.setting_key=="string"?S.setting_key:null,p=S=>XS(S)?S.value:null,b=h(u)??h(d);if(!b)return;const x=t.find(S=>S.dbKey===b);if(!x)return;const k=typeof l.eventType=="string"?l.eventType:"";if(k==="INSERT"||k==="UPDATE"){x.applyRemote(p(u));return}x.loadFromDb();return}if(o.onChange){const u=typeof o.debounceMs=="number"?o.debounceMs:0;u>0?i(o.table,u,()=>o.onChange?.(l)):o.onChange(l)}});return a.subscribe(),()=>{for(const o of t)o.stop();for(const[,o]of r)window.clearTimeout(o);r.clear(),De.removeChannel(a)}},[e])}function CTe({setUserId:e,setIsLoggedIn:t,setAuthChecked:n}){w.useEffect(()=>{const r=De;(async()=>{const{data:o,error:l}=await r.auth.getSession();if(l){t(!1),e(null),n(!0);return}const u=o.session?.user?.id??null;t(!!o.session),e(u),n(!0)})();const{data:{subscription:a}}=r.auth.onAuthStateChange((o,l)=>{const u=l?.user?.id??null;t(!!l),e(u),n(!0),l||wr.getState().stopRealtime()});return()=>{a.unsubscribe()}},[n,t,e])}function MTe(e){CTe({setUserId:e.setUserId,setIsLoggedIn:e.setIsLoggedIn,setAuthChecked:e.setAuthChecked}),NTe(e.userId);const t=w.useRef(null),n=wr(o=>o.migrateLocalToServer),r=wr(o=>o.loadFromServer),i=jn(o=>o.loadFromServer),a=on(o=>o.loadFromServer);w.useEffect(()=>{if(!e.isLoggedIn||!e.userId){t.current=null;return}t.current!==e.userId&&(t.current=e.userId,(async()=>(await a(),await n(),await r(),await i()))())},[e.isLoggedIn,e.userId,a,n,r,i])}function DTe(e){const[t,n]=w.useState(()=>e.length>0?e[0].id:""),[r,i]=w.useState(!1),[a,o]=w.useState(!1),[l,u]=w.useState(null),[d,h]=w.useState(!0),[p,b]=w.useState(!1),[x,k]=w.useState(!1);return{currentId:t,setCurrentId:n,wizardOpen:r,setWizardOpen:i,showSidebar:a,setShowSidebar:o,editing:l,setEditing:u,showToday:d,setShowToday:h,showCouple:p,setShowCouple:b,openCustom:x,setOpenCustom:k}}function PTe(e){const t=fi(i=>i.date),n=fi(i=>i.rule),r=yu(e);return w.useMemo(()=>{if(!e)return{dae:null,se:null,wol:null,il:null};const i=Ov(r,t),a=i>=0?r[i]?.gz??null:null,o=ot(t),l=_t(t),u=pt(t,n);return{dae:a,se:o,wol:l,il:u}},[e,r,t,n])}const RTe=e=>typeof e=="string"&&e.length>=2,LTe=e=>Array.isArray(e)&&e.length===4&&e.every(RTe);function ITe({list:e,currentId:t,settings:n,emptyMs:r}){const i=w.useMemo(()=>e.find(b=>b.id===t)??e[0],[e,t]),a=e.length>0&&!!i&&typeof i.birthDay=="string",o=a?i:r,l=w.useMemo(()=>ij(o),[o]),u=PTe(o),d=on(b=>b.canAddMyeongsik(e.length).ok),h=n.sinsalBase===""?"day":"year",p=n.sinsalBase===""?"day":"year";return{current:i,hasCurrent:a,msForHooks:o,natal:l,chain:u,isValidPillars:LTe,canAdd:d,voidBasis:h,samjaeBasis:p}}function $Te({canAdd:e,hasCurrent:t,current:n,isLoggedIn:r,setWizardOpen:i,setOpenCustom:a,setShowSidebar:o,setShowToday:l,setShowCouple:u,setCurrentId:d,setEditing:h}){const{settings:p,saveToServer:b,loaded:x}=jn();w.useEffect(()=>{!r||!x||b()},[r,x,p,b]);const k=w.useCallback(()=>{if(!e){Tn.error("   1   .");return}i(!0)},[e,i]),S=w.useCallback(()=>{if(!e){Tn.error("   1   .");return}a(!0)},[e,a]),_=w.useCallback(M=>{d(M.id),o(!1),l(!1),u(!1);const P=new Date;P.setHours(12,0,0,0),fi.getState().setDate(P),t&&n?.id===M.id&&(l(!1),u(!1),o(!1))},[n,t,d,o,l,u]),T=w.useCallback(M=>{h(M),d(M.id),o(!1),l(!1),u(!1)},[h,d,o,l,u]),N=w.useCallback(()=>{const M=wr.getState().list[0]?.id??"";d(M),l(!0),u(!1)},[d,l,u]),j=w.useCallback(M=>{d(M.id),l(!1),u(!1),o(!1),requestAnimationFrame(()=>i(!1))},[d,l,u,o,i]),C=w.useCallback(M=>{d(M.id),l(!1),u(!1),o(!1)},[d,l,u,o]);return{openAdd:k,openCustomModal:S,handleSidebarView:_,handleSidebarEdit:T,handleSidebarDeleteView:N,handleWizardSave:j,handleCustomSave:C}}function BTe(){return g.jsx("div",{className:"pt-16 pb-24",children:g.jsxs("div",{className:"max-w-[640px] mx-auto px-4",children:[g.jsx("div",{className:"flex items-center justify-between gap-3 mb-4",children:g.jsxs("div",{className:"flex items-center gap-2",children:[g.jsx(a5,{className:"w-5 h-5 text-neutral-700 dark:text-neutral-200"}),g.jsx("h2",{className:"text-lg font-bold text-neutral-900 dark:text-neutral-100",children:"  "})]})}),g.jsxs("div",{className:"space-y-3",children:[g.jsxs("details",{className:"rounded-xl border border-neutral-200 bg-white p-4 dark:border-neutral-800 dark:bg-neutral-900/40",children:[g.jsx("summary",{className:"text-sm desk:text-base cursor-pointer select-none font-semibold text-neutral-900 dark:text-neutral-100",children:"Q.   ."}),g.jsxs("div",{className:"mt-3 text-xs desk:text-sm leading-relaxed text-neutral-700 dark:text-neutral-200",children:[g.jsxs("p",{children:["A.  ",g.jsx("b",{children:""})," ",g.jsx("b",{children:""}),"   .   ,    ."]}),g.jsxs("p",{className:"mt-2",children:[" ",g.jsx("b",{children:"*"}),"   ",g.jsx("b",{children:" "})," ",g.jsx("b",{children:"8*"}),"  ",g.jsx("b",{children:"   "}),"      ."]}),g.jsxs("p",{className:"mt-2",children:[" ",g.jsx("b",{children:" "}),"     ."]})]})]}),g.jsxs("details",{className:"rounded-xl border border-neutral-200 bg-white p-4 dark:border-neutral-800 dark:bg-neutral-900/40",children:[g.jsx("summary",{className:"text-sm desk:text-base cursor-pointer select-none font-semibold text-neutral-900 dark:text-neutral-100",children:"Q.     ."}),g.jsxs("div",{className:"mt-3 text-xs desk:text-sm leading-relaxed text-neutral-700 dark:text-neutral-200",children:[g.jsxs("p",{children:["A.    . ",g.jsx("b",{children:"*"}),", ",g.jsx("b",{children:"8*"}),"    ."]}),g.jsxs("p",{className:"mt-2",children:[" ",g.jsx("b",{children:""})," (  8   -  )   ."]}),g.jsxs("p",{className:"mt-2",children:["(    ,    ",g.jsx("b",{children:" "})," .)"]}),g.jsx("p",{className:"mt-2",children:" .    .    ,   ( )     ."})]})]}),g.jsxs("details",{className:"rounded-xl border border-neutral-200 bg-white p-4 dark:border-neutral-800 dark:bg-neutral-900/40",children:[g.jsx("summary",{className:"text-sm desk:text-base cursor-pointer select-none font-semibold text-neutral-900 dark:text-neutral-100",children:"Q.     ."}),g.jsxs("div",{className:"mt-3 text-xs desk:text-sm leading-relaxed text-neutral-700 dark:text-neutral-200",children:[g.jsx("p",{children:"A.     .         ,       ."}),g.jsx("p",{className:"mt-2",children:"    ,      ."}),g.jsxs("p",{className:"mt-2",children:["(   ",g.jsx("b",{children:" "}),"  ^^)",g.jsx("br",{}),g.jsx("a",{href:"https://5seasons.co.kr/",target:"_blank",children:g.jsx("ins",{className:"text-amber-500",children:"   !"})})]})]})]}),g.jsxs("details",{className:"rounded-xl border border-neutral-200 bg-white p-4 dark:border-neutral-800 dark:bg-neutral-900/40",children:[g.jsx("summary",{className:"text-sm desk:text-base cursor-pointer select-none font-semibold text-neutral-900 dark:text-neutral-100",children:"Q.  ''   ?"}),g.jsxs("div",{className:"mt-3 text-xs desk:text-sm leading-relaxed text-neutral-700 dark:text-neutral-200",children:[g.jsx("p",{children:"A.      ."}),g.jsx("p",{className:"mt-2",children:"          ^^"}),g.jsx("p",{className:"mt-2",children:g.jsx("a",{href:"https://yavares.tistory.com/345",target:"_blank",children:g.jsx("ins",{className:"text-amber-500",children:"  "})})})]})]})]})]})})}const dF="https://t1.daumcdn.net/kas/static/ba.min.js",zTe="//t1.daumcdn.net/kas/static/ba.min.js";let em=null,tm=null;function fF(){return typeof window<"u"&&typeof document<"u"}function K3(e){return typeof e=="object"&&e!==null}function hF(){if(!fF())return!1;const e=window;if(!K3(e))return!1;const t=e.adfit;return K3(t)?typeof t.destroy=="function":!1}function mF(){return Array.from(document.querySelectorAll(`script[src="${dF}"], script[src="${zTe}"]`))}function pF(e){return e.getAttribute("data-adfit-scan")==="1"}function UTe(){const t=mF().filter(n=>!pF(n));if(!(t.length<=1))for(let n=1;n<t.length;n+=1){const r=t[n];r.parentNode?.removeChild(r)}}function W3(){return document.body??document.head??document.documentElement}function JS(e,t){return new Promise((n,r)=>{let i=!1;const a=()=>{e.removeEventListener("load",u),e.removeEventListener("error",d)},o=()=>{i||(i=!0,a(),n())},l=()=>{i||(i=!0,a(),r(new Error("AdFit script load failed")))},u=()=>o(),d=()=>l();e.addEventListener("load",u),e.addEventListener("error",d),window.setTimeout(()=>{hF(),o()},t)})}function V3(e){const t=document.createElement("script");return t.async=!0,t.type="text/javascript",t.charset="utf-8",t.src=dF,e?t.setAttribute("data-adfit-scan","1"):t.setAttribute("data-adfit-managed","1"),t}function r2(e){return fF()?(e?.mode??"boot")==="boot"?em||(em=(async()=>{if(UTe(),hF())return{inserted:!1};const r=mF().filter(a=>!pF(a))[0];if(r)return await JS(r,2500),{inserted:!1};const i=V3(!1);return W3().appendChild(i),await JS(i,4e3),{inserted:!0}})().finally(()=>{em=null}),em):tm||(tm=(async()=>{const n=V3(!0);W3().appendChild(n);try{return await JS(n,4e3),{inserted:!0}}finally{n.parentNode?.removeChild(n)}})().finally(()=>{tm=null}),tm):Promise.resolve({inserted:!1})}function FTe({enabled:e}){return w.useEffect(()=>{e&&r2({mode:"boot"})},[e]),null}function Z3(e){return typeof e=="object"&&e!==null}function HTe(e){const t=window;if(!Z3(t))return;const n=t.adfit;if(!Z3(n))return;const r=n.destroy;if(typeof r=="function")try{r.call(n,e)}catch{}}function dm({adUnit:e,width:t,height:n,enabled:r=!0,isVisible:i=!0,className:a,wrapperStyle:o,reserveSpace:l=!0}){const u=w.useRef(!1),d=w.useRef(!1),h=w.useMemo(()=>({...l?{width:"100%",minHeight:n,display:"flex",justifyContent:"center",alignItems:"flex-start"}:{width:"100%"},...o}),[n,l,o]);return w.useEffect(()=>{if(!r||u.current)return;u.current=!0;let p=!1;return(async()=>{try{if(await r2({mode:"boot"}),p)return}catch{}})(),()=>{p=!0}},[r]),w.useEffect(()=>{if(!r||!i||d.current)return;d.current=!0;let p=!1;return(async()=>{try{if(await r2({mode:"scan"}),p)return}catch{}})(),()=>{p=!0}},[r,i]),w.useEffect(()=>()=>{HTe(e),u.current=!1,d.current=!1},[e]),r?g.jsx("div",{className:a,style:h,children:g.jsx("div",{style:l?{width:t,height:n}:void 0,children:g.jsx("ins",{className:"kakao_ad_area",style:{display:"none"},"data-ad-unit":e,"data-ad-width":String(t),"data-ad-height":String(n)})})}):null}function GTe({enabled:e,adUnit:t,width:n,height:r,showAfterScrollY:i=180,rightPx:a=16,topPx:o=120,breakpointClassName:l="hidden desk:block"}){const[u,d]=w.useState(!1),[h,p]=w.useState(!1);return w.useEffect(()=>{if(!e){d(!1),p(!1);return}p(!0);let b=0;const x=()=>{b||(b=window.requestAnimationFrame(()=>{b=0;const k=window.scrollY||0;d(k>=i)}))};return x(),window.addEventListener("scroll",x,{passive:!0}),()=>{b&&window.cancelAnimationFrame(b),window.removeEventListener("scroll",x)}},[e,i]),e?g.jsx("div",{className:l,style:{position:"fixed",right:a,top:o,zIndex:60,pointerEvents:"none",visibility:u?"visible":"hidden",opacity:u?1:0,transition:"opacity 150ms ease"},children:g.jsx("div",{style:{pointerEvents:u?"auto":"none"},children:g.jsx("div",{style:{borderRadius:12,background:"rgba(0,0,0,0.04)",backdropFilter:"blur(6px)",padding:8},children:g.jsx(dm,{enabled:h,isVisible:u,adUnit:t,width:n,height:r,wrapperStyle:{display:"flex",justifyContent:"center"}})})})}):null}function gF(){const[e,t]=w.useState(!1),[n,r]=w.useState(!1),[i,a]=w.useState(!1),[o,l]=w.useState(!1),[u,d]=w.useState(!1);w.useEffect(()=>{document.title=" - //";const x=window.setTimeout(()=>t(!0),50),k=window.setTimeout(()=>r(!0),250),S=window.setTimeout(()=>a(!0),450);return()=>{window.clearTimeout(x),window.clearTimeout(k),window.clearTimeout(S)}},[]);const h=()=>u?!0:(_o.error(`   
  .`),!1),p=async()=>{if(!h())return;const{error:x}=await De.auth.signInWithOAuth({provider:"google",options:{redirectTo:`${window.location.origin}/`}});x&&(console.error("Google Login Error:",x),_o.error("   ."))},b=async()=>{if(!h())return;const{error:x}=await De.auth.signInWithOAuth({provider:"kakao",options:{redirectTo:`${window.location.origin}/`}});x&&(console.error("Kakao Login Error:",x),_o.error("   ."))};return g.jsxs("main",{className:`relative py-6 max-h-[70vh] overflow-auto bg-neutral-950 text-white transition-opacity duration-500 ${e?"opacity-100":"opacity-0"}`,children:[g.jsxs("header",{className:`transform transition-all duration-500 mb-8 ${n?"translate-y-0 opacity-100":"translate-y-4 opacity-0"} text-center max-w-[680px]`,children:[g.jsx("h1",{className:"text-3xl font-bold tracking-tight mb-2",children:""}),g.jsxs("p",{className:"text-sm text-neutral-300 leading-relaxed",children:["      /       .",g.jsx("br",{}),"   /     "]})]}),g.jsxs("section",{className:`w-full max-w-sm mx-auto rounded-2xl bg-neutral-900 p-4 shadow-xl border border-neutral-800 transition-all duration-500 ${i?"opacity-100 translate-y-0":"opacity-0 translate-y-6"}`,"aria-label":"",children:[g.jsx("h2",{className:"mb-2 text-2xl font-bold tracking-tight text-center",children:""}),g.jsxs("p",{className:"mb-5 text-sm text-neutral-400 text-center leading-relaxed",children:["  .",g.jsx("br",{}),"      "]}),g.jsx("div",{className:"mb-5 space-y-2",children:g.jsxs("label",{className:"flex items-start gap-2 text-sm text-neutral-300 cursor-pointer",children:[g.jsx("input",{type:"checkbox",checked:u,onChange:()=>d(!u),className:"mt-[2px]"}),g.jsxs("span",{children:["  .",g.jsx("button",{type:"button",onClick:()=>l(!0),className:"ml-1 underline text-orange-400 hover:text-orange-300 cursor-pointer",children:"( )"})]})]})}),g.jsxs("div",{className:"space-y-2",children:[g.jsxs("button",{type:"button",onClick:p,disabled:!u,"aria-disabled":!u,className:`flex items-center justify-center gap-3 w-full py-3 rounded-lg font-medium text-sm shadow transition-all 
              ${u?"bg-white text-black hover:bg-neutral-100 active:scale-[0.98] cursor-pointer":"bg-neutral-700 text-neutral-400 cursor-not-allowed"}`,children:[g.jsx("img",{src:"https://www.gstatic.com/firebasejs/ui/2.0.0/images/auth/google.svg",alt:"Google Logo",className:"w-5 h-5 opacity-90"}),g.jsx("span",{children:"  "})]}),g.jsxs("button",{type:"button",onClick:b,disabled:!u,"aria-disabled":!u,className:`flex items-center justify-center gap-3 w-full py-3 rounded-lg font-medium text-sm shadow transition-all
              ${u?"bg-[#FEE500] text-black hover:brightness-95 active:scale-[0.98] cursor-pointer":"bg-neutral-700 text-neutral-400 cursor-not-allowed"}`,children:[g.jsx("img",{src:"/icons/KakaoTalk_logo.png",alt:"KakaoTalk",className:"h-5"}),g.jsx("span",{children:" "})]})]}),g.jsxs("div",{className:"mt-6 border-t border-neutral-800 pt-4 text-xs text-neutral-400 leading-relaxed",children:[g.jsx("p",{className:"font-semibold text-neutral-300 mb-2",children:"    "}),g.jsxs("ul",{className:"list-disc pl-5 space-y-1",children:[g.jsx("li",{children:" /  "}),g.jsx("li",{children:"    "}),g.jsx("li",{children:"/ (  )"})]}),g.jsx("p",{className:"mt-3 text-[11px] text-neutral-500",children:": unique950318@gmail.com   "})]})]}),g.jsx(O$,{position:"top-center",toastOptions:{duration:2e3}}),o&&g.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50",onClick:()=>l(!1),children:g.jsxs("div",{className:"w-full max-w-lg bg-white dark:bg-neutral-900 text-neutral-900 dark:text-neutral-200 p-6 rounded-xl shadow-xl relative animate-fadeInUp",onClick:x=>x.stopPropagation(),children:[g.jsx("h3",{className:"text-lg font-bold mb-4",children:" "}),g.jsxs("div",{className:"text-sm leading-relaxed max-h-[60vh] overflow-y-auto pr-2",children:[g.jsx("p",{className:"mb-2",children:"( )     ,      ."}),g.jsx("p",{className:"font-semibold mt-4 mb-1",children:"1.  "}),g.jsxs("p",{className:"mb-2",children:["   ,  (,  )",g.jsx("br",{}),"       ( ,  )"]}),g.jsx("p",{className:"font-semibold mt-4 mb-1",children:"2.  "}),g.jsxs("p",{className:"mb-2",children:["     ",g.jsx("br",{}),"      ",g.jsx("br",{}),"      "]}),g.jsx("p",{className:"font-semibold mt-4 mb-1",children:"3.  "}),g.jsxs("p",{className:"mb-2",children:["     ",g.jsx("br",{}),"           "]}),g.jsx("p",{className:"font-semibold mt-4 mb-1",children:"4. 3 "}),g.jsx("p",{className:"mb-2",children:"          ."}),g.jsx("p",{className:"font-semibold mt-4 mb-1",children:"5. "}),g.jsx("p",{className:"mb-2",children:" Supabase        ."}),g.jsx("p",{className:"font-semibold mt-4 mb-1",children:"6. "}),g.jsx("p",{children:"   : unique950318@gmail.com"})]}),g.jsx("button",{onClick:()=>l(!1),className:"mt-4 w-full py-2 bg-neutral-900 dark:bg-neutral-700 text-white rounded-lg hover:bg-neutral-800 transition cursor-pointer",children:""})]})})]})}function qTe(e){switch(e){case"PERSIST_SAVE":return"    !";case"ADD_LIMIT":return"    !";case"HEADER":return"";default:return""}}function YTe(){const e=wo(i=>i.open),t=wo(i=>i.reason),n=wo(i=>i.close),r=w.useMemo(()=>qTe(t),[t]);return w.useEffect(()=>{if(!e)return;const i=a=>{a.key==="Escape"&&n()};return window.addEventListener("keydown",i),()=>window.removeEventListener("keydown",i)},[e,n]),w.useEffect(()=>{const{data:i}=De.auth.onAuthStateChange((a,o)=>{o?.user&&(on.getState().loadFromServer(),jn.getState().loadFromServer(),wr.getState().loadFromServer(),wo.getState().close())});return()=>i.subscription.unsubscribe()},[]),e?g.jsx("div",{className:"fixed inset-0 z-[9999] bg-black/60 flex items-center justify-center p-4",onClick:n,role:"dialog","aria-modal":"true",children:g.jsxs("div",{className:"w-full max-w-[520px] rounded-2xl bg-white dark:bg-neutral-950 border border-neutral-200 dark:border-neutral-800 shadow-xl overflow-hidden",onClick:i=>i.stopPropagation(),children:[g.jsxs("div",{className:"flex items-center justify-between px-4 py-2 border-b border-neutral-200 dark:border-neutral-800",children:[g.jsx("div",{className:"text-sm font-semibold text-neutral-900 dark:text-neutral-100",children:r}),g.jsx("button",{type:"button",onClick:n,className:`w-8 h-8 rounded-full flex items-center justify-center
                       bg-neutral-100 hover:bg-neutral-200
                       dark:bg-neutral-800 dark:hover:bg-neutral-700
                       text-neutral-700 dark:text-neutral-200 cursor-pointer`,"aria-label":"",title:"",children:""})]}),g.jsx("div",{className:"p-4",children:g.jsx(gF,{})})]})}):null}function KTe(){const e=wo(t=>t.openWith);return g.jsx("div",{className:"max-w-[640px] mx-auto px-3",children:g.jsxs("div",{className:`rounded-xl border border-amber-300/60 bg-amber-50 text-amber-950
                      dark:border-amber-500/30 dark:bg-amber-950/30 dark:text-amber-100
                      shadow-sm px-4 py-3 flex items-center justify-between gap-3`,children:[g.jsxs("div",{className:"min-w-0",children:[g.jsx("div",{className:"text-sm font-semibold truncate",children:"   "}),g.jsx("div",{className:"text-xs opacity-90 mt-0.5 leading-relaxed",children:" /   ."})]}),g.jsxs("button",{type:"button",onClick:()=>e("PERSIST_SAVE"),className:`shrink-0 inline-flex items-center gap-1.5
                     px-3 py-2 rounded-lg text-xs font-semibold
                     bg-amber-500 hover:bg-amber-600 text-white
                     border border-amber-600/30
                     cursor-pointer`,"aria-label":"",title:"",children:[g.jsx(k2,{size:16}),""]})]})})}const lj="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js";let nm=null;function cj(){return typeof window<"u"&&typeof document<"u"}function bF(){return cj()?Array.from(document.querySelectorAll('script[src*="pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"]')):[]}function yF(e,t){const n=`client=${encodeURIComponent(t)}`;return e.includes(n)||e.includes(`client=${t}`)}function X3(e){return bF().some(n=>{const r=n.getAttribute("src")??"";return r.includes(lj)&&yF(r,e)})}function QS(e){const t=bF().filter(n=>{const r=n.getAttribute("src")??"";return r.includes(lj)&&yF(r,e)});if(!(t.length<=1))for(let n=1;n<t.length;n+=1){const r=t[n];r.parentNode&&r.parentNode.removeChild(r)}}function WTe(e){const t=document.createElement("script");return t.async=!0,t.src=`${lj}?client=${encodeURIComponent(e)}`,t.crossOrigin="anonymous",t}function VTe(e){return new Promise((t,n)=>{const r=()=>t(),i=()=>n(new Error("AdSense script failed to load"));e.addEventListener("load",r,{once:!0}),e.addEventListener("error",i,{once:!0})})}function ZTe(e){return typeof e!="object"||e===null||!("push"in e)?!1:typeof e.push=="function"}async function J3(e){if(cj()){if(X3(e)){QS(e);return}if(nm)return nm;nm=(async()=>{if(X3(e)){QS(e);return}const t=WTe(e);document.head.appendChild(t),await VTe(t),QS(e)})();try{await nm}finally{nm=null}}}function XTe(e={}){if(!cj())return;const t=window.adsbygoogle;if(Array.isArray(t)){t.push(e);return}if(ZTe(t)){t.push(e);return}const n=[];n.push(e),window.adsbygoogle=n}function JTe({enabled:e,isVisible:t,clientId:n,slotId:r,width:i,height:a,testMode:o=!1}){const l=w.useRef(!1),u=w.useRef(null);return w.useEffect(()=>{l.current=!1},[n,r,i,a]),w.useEffect(()=>{e&&J3(n).catch(()=>{})},[e,n]),w.useEffect(()=>{if(!e||!t||l.current)return;let d=!0;return(async()=>{try{if(await Promise.resolve(),!d||(await J3(n),!d))return;XTe({}),l.current=!0}catch{console.log()}})(),()=>{d=!1}},[e,t,n]),e?g.jsx("ins",{ref:u,className:"adsbygoogle",style:{display:"inline-block",width:i,height:a},"data-ad-client":n,"data-ad-slot":r,...o?{"data-adtest":"on"}:{}}):null}function QTe({enabled:e,clientId:t,slotId:n,width:r,height:i,showAfterScrollY:a=180,side:o="left",sidePx:l=16,topPx:u=120,breakpointClassName:d="hidden desk:block"}){const[h,p]=w.useState(!1),[b,x]=w.useState(!1);return w.useEffect(()=>{if(!e){p(!1),x(!1);return}x(!0);let k=0;const S=()=>{k||(k=window.requestAnimationFrame(()=>{k=0;const _=window.scrollY||0;p(_>=a)}))};return S(),window.addEventListener("scroll",S,{passive:!0}),()=>{k&&window.cancelAnimationFrame(k),window.removeEventListener("scroll",S)}},[e,a]),e?g.jsx("div",{className:d,style:{position:"fixed",...o==="left"?{left:l}:{right:l},top:u,zIndex:60,pointerEvents:"none",visibility:h?"visible":"hidden",opacity:h?1:0,transition:"opacity 150ms ease"},children:g.jsx("div",{style:{pointerEvents:h?"auto":"none"},children:g.jsx("div",{style:{borderRadius:12,background:"rgba(0,0,0,0.04)",backdropFilter:"blur(6px)",padding:8},children:g.jsx("div",{style:{display:"flex",justifyContent:"center"},children:g.jsx(JTe,{enabled:b,isVisible:h,clientId:t,slotId:n,width:r,height:i})})})})}):null}const vF="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js";function Q3(e){return typeof e=="object"&&e!==null&&"push"in e&&typeof e.push=="function"}function eje(){return document.querySelector(`script[src^="${vF}"]`)}async function e$(e){eje()||await new Promise((n,r)=>{const i=document.createElement("script");i.async=!0,i.src=`${vF}?client=${encodeURIComponent(e)}`,i.crossOrigin="anonymous",i.onload=()=>n(),i.onerror=()=>r(new Error("Failed to load adsbygoogle.js")),document.head.appendChild(i)})}function tje(){const e=window.adsbygoogle;if(Q3(e)){e.push({});return}window.adsbygoogle||(window.adsbygoogle=[]);const t=window.adsbygoogle;Q3(t)&&t.push({})}function nje({enabled:e,clientId:t,slotId:n,heightPx:r=100,maxWidthPx:i=750,marginTopPx:a=0,fullWidthResponsive:o=!0,pushOnVisible:l=!0,testMode:u=!1,className:d,style:h}){const p=w.useRef(null),b=w.useRef(!1),x=w.useMemo(()=>`adsense_banner:${t}:${n}`,[t,n]),[k,S]=w.useState(!l);return w.useEffect(()=>{b.current=!1},[t,n]),w.useEffect(()=>{e&&e$(t).catch(()=>{})},[e,t]),w.useEffect(()=>{if(!e||!l)return;const _=p.current;if(!_)return;const T=new IntersectionObserver(N=>{const j=N[0];j&&j.isIntersecting&&S(!0)},{root:null,threshold:.05});return T.observe(_),()=>T.disconnect()},[e,l]),w.useEffect(()=>{if(!e||!k||b.current)return;let _=!0;return(async()=>{try{if(await e$(t),!_||(await Promise.resolve(),!_))return;tje(),b.current=!0}catch{}})(),()=>{_=!1}},[e,k,t]),e?g.jsx("div",{style:{width:"100%",display:"flex",justifyContent:"center",marginTop:a,...h},className:d,children:g.jsx("ins",{ref:p,className:"adsbygoogle",style:{display:"block",width:"100%",height:`${r}px`,maxWidth:`${i}px`},"data-ad-client":t,"data-ad-slot":n,"data-full-width-responsive":o?"true":"false",...u?{"data-adtest":"on"}:{}},x)}):null}const rje="DAN-GW4jrUdfiXklZ12U",ije="DAN-CeRuC0yKzSAs5Gju",aje="DAN-G16gewnPhZou1D9y",oje="DAN-rdKe9ZODmrZR4hho",sje="DAN-INfSKh1pW2cEtWNu",lje={id:"empty",name:"",birthDay:"",birthTime:"",gender:"",birthPlace:{name:"",lat:0,lon:0},relationship:"",memo:"",folder:"",mingSikType:"/",DayChangeRule:"",favorite:!1,dateObj:new Date,corrected:new Date,correctedLocal:"",dayStem:"",ganjiText:"",ganji:"",calendarType:"solar",dir:"forward"};function cje(){const e=yTe();MTe(e);const t=vTe();return e.authChecked?e.isLoggedIn&&e.adminMode?g.jsx(UU,{}):e.isLoggedIn&&(!t.entLoaded||!t.settingsLoaded)?g.jsx("main",{className:"flex min-h-screen items-center justify-center",children:g.jsx("p",{className:"text-sm text-neutral-500",children:"  ..."})}):g.jsx(uje,{isLoggedIn:e.isLoggedIn}):g.jsx("main",{className:"flex min-h-screen items-center justify-center",children:g.jsx("p",{className:"text-sm text-neutral-500",children:"   ..."})})}function uje({isLoggedIn:e}){const{list:t}=wr(),n=jn(_=>_.settings),r=DTe(t),i=ITe({list:t,currentId:r.currentId,settings:n,emptyMs:lje}),a=$Te({canAdd:i.canAdd,hasCurrent:i.hasCurrent,current:i.current,isLoggedIn:e,setWizardOpen:r.setWizardOpen,setOpenCustom:r.setOpenCustom,setShowSidebar:r.setShowSidebar,setShowToday:r.setShowToday,setShowCouple:r.setShowCouple,setCurrentId:r.setCurrentId,setEditing:r.setEditing}),[o,l]=w.useState(!1);w.useEffect(()=>{(r.wizardOpen||r.editing)&&l(!1)},[r.wizardOpen,r.editing]);const u=on(_=>_.shouldShowAdsNow()),d=i.hasCurrent&&!r.showToday&&!r.showCouple&&!o&&!r.wizardOpen&&!r.editing,h=r.showToday||!i.hasCurrent&&!r.showCouple&&!o&&!r.wizardOpen&&!r.editing,p=!e&&i.hasCurrent&&d,b=!e&&!d,[x,k]=w.useState(!1),S=(..._)=>{l(!1),r.setShowToday(!1),r.setShowCouple(!1),a.handleSidebarView(..._)};return g.jsxs("div",{className:"min-h-screen pb-16",children:[g.jsx(FTe,{enabled:u}),u&&d&&g.jsx(QTe,{enabled:!0,clientId:"ca-pub-4729618898154189",slotId:"1598573921",width:160,height:600,showAfterScrollY:0,side:"left",sidePx:16,topPx:60,breakpointClassName:"hidden desk:block"}),g.jsx("div",{className:"hidden desk:block",children:g.jsx(GTe,{enabled:u,adUnit:sje,width:160,height:600,showAfterScrollY:0,rightPx:16,topPx:60,breakpointClassName:"hidden desk:block"})}),g.jsx(Due,{isLoggedIn:e,onOpenSidebar:()=>r.setShowSidebar(!0),onAddNew:a.openAdd,onOpenCustom:a.openCustomModal}),g.jsx(YTe,{}),x&&g.jsxs("div",{className:"fixed inset-0 z-[210] bg-black/70 flex items-center justify-center",children:[g.jsx("div",{className:"w-full max-w-[420px] max-h-[90dvh] overflow-auto rounded-2xl",children:g.jsx(gF,{})}),g.jsx("button",{className:"fixed top-4 right-4 text-white text-2xl",onClick:()=>k(!1),children:""})]}),g.jsx(V2e,{open:r.openCustom,onClose:()=>r.setOpenCustom(!1),onSave:a.handleCustomSave}),g.jsx(O$,{position:"top-center"}),g.jsx(xde,{open:r.showSidebar,onClose:()=>r.setShowSidebar(!1),onView:S,onAddNew:a.openAdd,onEdit:a.handleSidebarEdit,onDeleteView:a.handleSidebarDeleteView,isLoggedIn:e}),b&&g.jsx("div",{className:"absolute w-full left-0 mt-14 desk:mt-16 text-xs desk:text-base text-amber-500 dark:text-amber-400 text-center",children:" .    ."}),o&&g.jsx(BTe,{}),h&&g.jsx(GV,{}),r.wizardOpen&&g.jsxs(g.Fragment,{children:[g.jsx("div",{id:"wizard-dim",className:"bg-black opacity-80 fixed inset-0 w-full min-h-full z-99"}),g.jsx("div",{className:"absolute inset-0 transition-opacity duration-150 opacity-100 z-100",children:g.jsx("div",{className:"py-6 pb-16 overflow-y-auto min-h-[100dvh]",children:g.jsx(Fne,{onSave:a.handleWizardSave,onClose:()=>r.setWizardOpen(!1)})})})]}),i.hasCurrent&&!r.showToday&&!r.showCouple&&!o&&g.jsxs("div",{className:"pt-16",children:[p&&g.jsx("div",{children:g.jsx(KTe,{})}),g.jsx("div",{className:"pb-4",children:g.jsx(roe,{data:i.current,hourTable:i.current?.mingSikType??"/"})}),g.jsx(k2e,{ms:i.current}),g.jsx("div",{children:g.jsx(Mue,{data:i.current})}),u&&d&&n.showPromptBox&&g.jsx("div",{className:"max-w-[760px] mx-auto px-3 mt-6 mb-2",children:g.jsx(nje,{enabled:!0,clientId:"ca-pub-4729618898154189",slotId:"3868873416",heightPx:100,maxWidthPx:750,marginTopPx:10,fullWidthResponsive:!0,testMode:!1})}),n.showPromptBox&&g.jsx("div",{className:"max-w-[640px] mx-auto mb-8",children:g.jsx(bTe,{ms:i.current,natal:i.isValidPillars(i.natal)?i.natal:[],chain:i.chain,basis:{voidBasis:i.voidBasis,samjaeBasis:i.samjaeBasis},includeTenGod:!0,lunarPillars:[]})}),u&&d&&g.jsxs("div",{className:"max-w-[760px] mx-auto px-3 pb-6",children:[g.jsx("div",{className:"hidden md:block",children:g.jsx(dm,{enabled:!0,adUnit:oje,width:728,height:90})}),g.jsx("div",{className:"md:hidden",children:g.jsx(dm,{enabled:!0,adUnit:aje,width:320,height:50})})]})]}),r.showCouple&&g.jsx("div",{className:"pt-18 pb-4",children:g.jsx(_2e,{people:t})}),u&&!d&&g.jsxs("div",{className:"max-w-[760px] mx-auto px-3 mt-1 mb-2",children:[g.jsx("div",{className:"hidden md:block",children:g.jsx(dm,{enabled:!0,adUnit:ije,width:728,height:90})}),g.jsx("div",{className:"md:hidden",children:g.jsx(dm,{enabled:!0,adUnit:rje,width:320,height:50})})]}),r.editing&&g.jsx("div",{className:"fixed inset-0 z-55 flex items-center justify-center bg-black/60",children:g.jsx("div",{className:"overflow-auto bg-white dark:bg-neutral-950 p-4 rounded-xl w-full max-h-[90dvh] max-w-xl shadow-lg",children:g.jsx(Rde,{item:r.editing,onClose:()=>r.setEditing(null)})})}),g.jsx(Fue,{onShowToday:()=>{l(!1),r.setShowToday(!0),r.setShowCouple(!1)},onShowCouple:()=>{l(!1),r.setShowCouple(!0),r.setShowToday(!1)},onShowFaq:()=>{r.setShowToday(!1),r.setShowCouple(!1),l(!0)}}),g.jsx(w2e,{})]})}function dje(){const e=Hi(),[t,n]=w.useState(null),[r,i]=w.useState(null);return w.useEffect(()=>{if(e.pathname!=="/impersonate")return;const a=new URLSearchParams(e.search);n(a.get("userId")),i(a.get("myeongsikId"))},[e.pathname,e.search]),g.jsxs("div",{className:"p-4 text-white",children:[g.jsx("div",{className:"text-sm text-neutral-400",children:"Impersonate"}),g.jsxs("div",{className:"mt-2",children:["userId: ",t??"(none)"]}),g.jsxs("div",{className:"mt-1",children:["myeongsikId: ",r??"(none)"]})]})}function fje(){const e=Hi(),t=iv(),[n,r]=w.useState("  ...");return w.useEffect(()=>{(async()=>{try{const a=new URLSearchParams(e.search),o=a.get("error"),l=a.get("error_description");if(o){r(` : ${decodeURIComponent(l??o)}`);return}const u=a.get("code");if(!u){r(" code . (redirectTo/PKCE  )");return}const{error:d}=await De.auth.exchangeCodeForSession(u);if(d){r(`  : ${d.message}`);return}t("/",{replace:!0})}catch(a){r(a instanceof Error?a.message:"   ")}})()},[e.search,t]),g.jsx("main",{className:"min-h-screen flex items-center justify-center",children:g.jsx("p",{className:"text-sm text-neutral-500",children:n})})}function hje(e){return typeof e=="object"&&e!==null}function mje(e){if(!hje(e))return null;const t=typeof e.ok=="boolean"?e.ok:void 0,n=typeof e.total_active_ms=="number"?e.total_active_ms:void 0,r=typeof e.upgraded_to_basic=="boolean"?e.upgraded_to_basic:void 0;return{ok:t,total_active_ms:n,upgraded_to_basic:r}}function xF({enabled:e=!0,intervalMs:t=6e4,path:n,onBasicUnlocked:r,onTotalActiveMs:i}){const a=w.useRef(!1),o=w.useRef(""),l=w.useRef(!1),u=w.useRef(null),d=w.useRef(null),h=w.useRef(null),p=w.useRef(0);return w.useEffect(()=>{o.current=n??""},[n]),w.useEffect(()=>{let b=null;return(async()=>{const{data:k}=await De.auth.getSession();u.current=k.session?.user?.id??null;const _=De.auth.onAuthStateChange((T,N)=>{u.current=N?.user?.id??null,l.current=!1}).data?.subscription;_&&typeof _.unsubscribe=="function"&&(b=()=>_.unsubscribe())})(),()=>{b&&b()}},[]),w.useEffect(()=>{if(!e)return;const b=async S=>{if(document.visibilityState!=="visible")return;const _=Date.now();if(!(S!=="init"&&_-p.current<1e4)&&(p.current=_,!a.current)){a.current=!0;try{if(!u.current)return;const N=o.current||null,{data:j,error:C}=await De.rpc("ping_activity",{p_last_path:N});if(C)return;const M=mje(j);if(!M)return;typeof M.total_active_ms=="number"&&i?.(M.total_active_ms),M.upgraded_to_basic===!0&&!l.current&&(l.current=!0,r?.())}finally{a.current=!1}}};b("init");const x=Math.floor(Math.random()*5e3);h.current=window.setTimeout(()=>{b("interval"),d.current=window.setInterval(()=>void b("interval"),t)},x);const k=()=>{document.visibilityState==="visible"&&b("visible")};return document.addEventListener("visibilitychange",k),()=>{document.removeEventListener("visibilitychange",k),h.current!==null&&(window.clearTimeout(h.current),h.current=null),d.current!==null&&(window.clearInterval(d.current),d.current=null)}},[e,t,r,i]),null}function pje(){const e=wr(i=>i.loadFromServer),t=jn(i=>i.loadFromServer),n=on(i=>i.loadFromServer),r=w.useCallback(()=>{n(),t(),e()},[n,t,e]);return w.useEffect(()=>{r();const{data:i}=De.auth.onAuthStateChange(()=>{r()});return()=>{i.subscription.unsubscribe()}},[r]),null}function gje(e){try{const t=localStorage.getItem(e);if(!t)return 0;const n=Number(t);return Number.isFinite(n)?n:0}catch{return 0}}function bje(e,t){try{localStorage.setItem(e,String(t))}catch{}}function yje(e){return e<=0?0:Math.floor(Math.random()*e)}function vje({enabled:e=!0,href:t="https://open.kakao.com/o/sjBRz57h",hintTexts:n=["    !"," .",",  ."," ,   ,  !","  !  ! "],hideHintHours:r=24,cycleMs:i=4200,mobilePaddingX:a=0,bottomDockCssVarName:o="--bottom-dock"}){const l=w.useMemo(()=>"kakao_chat_hint_hide_until",[]),[u,d]=w.useState(!1),[h,p]=w.useState(()=>yje(n.length)),b=w.useRef(null),x=w.useCallback(_=>{if(typeof document>"u")return;const T=`${Math.max(0,Math.floor(_))}px`;document.documentElement.style.setProperty(o,T)},[o]);if(w.useEffect(()=>{if(n.length<=0){p(0);return}p(_=>_%n.length)},[n.length]),w.useEffect(()=>{if(!e){d(!1);return}const _=gje(l),T=Date.now();if(_>T){d(!1);return}const N=window.setTimeout(()=>d(!0),900);return()=>window.clearTimeout(N)},[e,l]),w.useEffect(()=>{if(!e||!u||n.length<=1)return;const _=window.setInterval(()=>{p(T=>T+1>=n.length?0:T+1)},i);return()=>window.clearInterval(_)},[e,u,n.length,i]),w.useEffect(()=>{if(!e||!u){x(0);return}const _=b.current;if(!_){x(0);return}const T=()=>{const N=Math.ceil(_.getBoundingClientRect().height);x(N)};if(T(),typeof ResizeObserver<"u"){const N=new ResizeObserver(T);return N.observe(_),()=>{N.disconnect(),x(0)}}return window.addEventListener("resize",T),()=>{window.removeEventListener("resize",T),x(0)}},[e,u,x]),!e)return null;const k=()=>{bje(l,Date.now()+r*60*60*1e3),d(!1),x(0)},S=n[h]??"";return g.jsxs(g.Fragment,{children:[g.jsx("style",{children:`
        @keyframes hintFadeCycle {
          0%   { opacity: 0; transform: translate3d(0, 6px, 0); }
          14%  { opacity: 1; transform: translate3d(0, 0, 0); }
          78%  { opacity: 1; transform: translate3d(0, 0, 0); }
          100% { opacity: 0; transform: translate3d(0, -2px, 0); }
        }
      `}),u&&n.length>0?g.jsx("div",{ref:b,className:"desk:hidden fixed left-0 right-0 bottom-0 z-[99] pointer-events-none",style:{paddingLeft:a,paddingRight:a,paddingBottom:0},children:g.jsxs("div",{className:"pointer-events-auto w-full border border-neutral-700 bg-neutral-900/95 text-white shadow-lg",style:{display:"grid",gridTemplateColumns:"1fr auto",alignItems:"center",gap:10,padding:"4px 8px"},children:[g.jsx("div",{className:"min-w-0 text-xs whitespace-nowrap overflow-hidden text-ellipsis",style:{animationName:"hintFadeCycle",animationDuration:`${i}ms`,animationTimingFunction:"ease-in-out",animationIterationCount:"infinite"},title:S,children:S}),g.jsxs("div",{style:{display:"flex",alignItems:"center",gap:8},children:[g.jsx("button",{type:"button",onClick:k,"aria-label":" ",title:"",className:"w-8 h-8 rounded-full bg-neutral-800 border border-neutral-700 text-[14px] flex items-center justify-center hover:bg-neutral-700",children:g.jsx(Fb,{})}),g.jsx("a",{href:t,target:"_blank",rel:"noopener noreferrer","aria-label":"  ",title:"( )",className:`w-8 h-8 rounded-full bg-neutral-800 hover:bg-neutral-700 border border-neutral-700
                           flex items-center justify-center transition-colors`,children:g.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none","aria-hidden":"true",children:[g.jsx("path",{d:"M4 5.5C4 4.12 5.12 3 6.5 3h11C18.88 3 20 4.12 20 5.5v7C20 13.88 18.88 15 17.5 15H10l-4.5 4V15H6.5C5.12 15 4 13.88 4 12.5v-7Z",stroke:"currentColor",strokeWidth:"1.8",strokeLinejoin:"round"}),g.jsx("path",{d:"M7.5 7.5h9M7.5 10.5h6",stroke:"currentColor",strokeWidth:"1.8",strokeLinecap:"round"})]})})]})]})}):null,g.jsxs("div",{className:"hidden desk:block fixed right-5 bottom-5 z-[999]",children:[u&&n.length>0&&g.jsx("div",{className:"absolute bottom-14 right-0 w-max max-w-[260px]",children:g.jsxs("div",{className:"relative rounded-xl bg-neutral-900 text-white border border-neutral-700 shadow-lg px-3 py-2 text-xs whitespace-pre-line",style:{animationName:"hintFadeCycle",animationDuration:`${i}ms`,animationTimingFunction:"ease-in-out",animationIterationCount:"infinite"},children:[S,g.jsx("button",{type:"button",onClick:k,className:"absolute -top-2 -right-2 w-6 h-6 rounded-full bg-neutral-800 border border-neutral-700 text-[12px] flex items-center justify-center hover:bg-neutral-700 cursor-pointer","aria-label":" ",title:"",children:g.jsx(Fb,{size:12})}),g.jsx("div",{className:"absolute -bottom-2 right-4 w-0 h-0 border-l-8 border-r-8 border-t-8 border-l-transparent border-r-transparent border-t-neutral-900"})]})}),g.jsx("a",{href:t,target:"_blank",rel:"noopener noreferrer","aria-label":"  ",title:"( )",className:`flex items-center justify-center w-12 h-12 rounded-full shadow-lg
                     bg-neutral-800 hover:bg-neutral-700 border border-neutral-700 transition-colors`,children:g.jsxs("svg",{width:"22",height:"22",viewBox:"0 0 24 24",fill:"none","aria-hidden":"true",children:[g.jsx("path",{d:"M4 5.5C4 4.12 5.12 3 6.5 3h11C18.88 3 20 4.12 20 5.5v7C20 13.88 18.88 15 17.5 15H10l-4.5 4V15H6.5C5.12 15 4 13.88 4 12.5v-7Z",stroke:"currentColor",strokeWidth:"1.8",strokeLinejoin:"round"}),g.jsx("path",{d:"M7.5 7.5h9M7.5 10.5h6",stroke:"currentColor",strokeWidth:"1.8",strokeLinecap:"round"})]})})]})]})}function xje(e){const t=["#F87171","#FBBF24","#34D399","#60A5FA","#A78BFA","#F472B6"],n=[];for(let r=0;r<e;r+=1)n.push({leftPct:Math.random()*100,size:6+Math.floor(Math.random()*8),delayMs:Math.floor(Math.random()*300),durationMs:1200+Math.floor(Math.random()*900),rotate:Math.floor(Math.random()*360),driftPx:-40+Math.floor(Math.random()*80),color:t[r%t.length]});return n}function _je({open:e,onClose:t}){const n=w.useMemo(()=>xje(48),[]);return w.useEffect(()=>{if(!e)return;const r=a=>{a.key==="Escape"&&t()};window.addEventListener("keydown",r);const i=window.setTimeout(()=>t(),6e3);return()=>{window.removeEventListener("keydown",r),window.clearTimeout(i)}},[e,t]),e?g.jsxs("div",{className:"fixed inset-0 z-[2000] flex items-center justify-center",children:[g.jsx("style",{children:`
        @keyframes confettiFall {
          0%   { transform: translate3d(var(--dx), -20px, 0) rotate(var(--rot)); opacity: 0; }
          10%  { opacity: 1; }
          100% { transform: translate3d(var(--dx), 560px, 0) rotate(calc(var(--rot) + 360deg)); opacity: 0; }
        }
        @keyframes pop {
          0% { transform: scale(0.98); opacity: 0; }
          100% { transform: scale(1); opacity: 1; }
        }
      `}),g.jsx("div",{className:"absolute inset-0 bg-black/60",onClick:t}),g.jsx("div",{className:"absolute inset-0 overflow-hidden pointer-events-none",children:n.map((r,i)=>{const a={position:"absolute",top:0,left:`${r.leftPct}%`,width:r.size,height:Math.max(8,r.size+6),background:r.color,borderRadius:2,transform:`rotate(${r.rotate}deg)`,animation:`confettiFall ${r.durationMs}ms ease-out ${r.delayMs}ms forwards`,"--dx":`${r.driftPx}px`,"--rot":`${r.rotate}deg`};return g.jsx("span",{style:a},i)})}),g.jsxs("div",{className:`relative w-[92%] max-w-[420px] rounded-2xl bg-white dark:bg-neutral-950
                   border border-neutral-200 dark:border-neutral-800 shadow-xl p-5`,style:{animation:"pop 160ms ease-out"},children:[g.jsxs("div",{className:"text-center",children:[g.jsx("div",{className:"text-3xl mb-2",children:""}),g.jsx("div",{className:"text-xl font-extrabold text-neutral-900 dark:text-neutral-50",children:"BASIC  !"}),g.jsx("div",{className:"mt-2 text-sm text-neutral-600 dark:text-neutral-300",children:"     ! "})]}),g.jsx("div",{className:"mt-4 flex justify-center gap-2",children:g.jsx("button",{type:"button",onClick:t,className:"px-4 py-2 rounded-lg bg-neutral-900 text-white hover:bg-neutral-800 cursor-pointer",children:""})})]})]}):null}function t$(e){if(typeof e!="string")return"FREE";const t=e.toUpperCase();return t==="BASIC"?"BASIC":t==="PRO"?"PRO":"FREE"}function wje(){const e=Hi(),t=e.pathname+e.search,n=!e.pathname.startsWith("/admin")&&!e.pathname.startsWith("/impersonate")&&!e.pathname.startsWith("/auth/callback"),[r,i]=w.useState(!1),a=on(b=>b.loaded),o=on(b=>b.loading),l=on(b=>b.userId),u=on(b=>t$(b.plan)),d=w.useRef(!1);w.useEffect(()=>{n&&(a||o||on.getState().loadFromServer())},[n,a,o]);const h=w.useCallback(async()=>{if(d.current)return;d.current=!0;const{data:b,error:x}=await De.rpc("mark_basic_celebrated");if(x){console.warn("[basic celebration] rpc error:",x.message);return}b===!0&&i(!0)},[]);w.useEffect(()=>{n&&a&&l&&u==="BASIC"&&h()},[n,a,l,u,h]);const p=w.useCallback(()=>{(async()=>(await on.getState().loadFromServer(),t$(on.getState().plan)==="BASIC"&&(d.current=!1,await h())))()},[h]);return g.jsxs(g.Fragment,{children:[g.jsx(xF,{enabled:n,path:t,onBasicUnlocked:p}),g.jsx(vje,{enabled:n}),g.jsx(_je,{open:r,onClose:()=>i(!1)})]})}function Sje(e){return typeof e=="object"&&e!==null}function kje(e){if(!Array.isArray(e)||e.length===0)return null;const t=e[0];if(!Sje(t))return null;const n=t.disabled_at;return typeof n=="string"?n:null}function Eje(){const e=iv(),t=Hi(),n=w.useRef(!1);return w.useEffect(()=>{const r=async()=>{if(!n.current){n.current=!0;try{const{data:o}=await De.auth.getSession(),l=o.session?.user?.id??null;if(!l)return;const{data:u,error:d}=await De.rpc("get_my_account_status");if(!d){!!kje(u)&&t.pathname!=="/disabled"&&e("/disabled",{replace:!0});return}const{data:h,error:p}=await De.from("profiles").select("disabled_at").eq("user_id",l).maybeSingle();if(p)return;(h?.disabled_at??null)&&t.pathname!=="/disabled"&&e("/disabled",{replace:!0})}finally{n.current=!1}}};r();const{data:i}=De.auth.onAuthStateChange(()=>{r()}),a=()=>{document.visibilityState==="visible"&&r()};return document.addEventListener("visibilitychange",a),()=>{document.removeEventListener("visibilitychange",a),i.subscription.unsubscribe()}},[e,t.pathname]),null}function Aje(e){return typeof e=="object"&&e!==null}function Tje(e){if(!Array.isArray(e)||e.length===0)return null;const t=e[0];if(!Aje(t))return null;const n=t.disabled_at;return typeof n=="string"?n:null}const jje=As((e,t)=>({loaded:!1,loading:!1,userId:null,disabledAt:null,reset:()=>{e({loaded:!0,loading:!1,userId:null,disabledAt:null})},loadFromServer:async n=>{if(!t().loading){e({loading:!0,userId:n});try{const{data:i,error:a}=await De.rpc("get_my_account_status");if(!a){const d=Tje(i);e({loaded:!0,loading:!1,disabledAt:d});return}const{data:o,error:l}=await De.from("profiles").select("disabled_at").eq("user_id",n).maybeSingle();if(l){console.error("[accountStatus] load error:",l),e({loaded:!0,loading:!1,disabledAt:null});return}const u=o?.disabled_at??null;e({loaded:!0,loading:!1,disabledAt:typeof u=="string"?u:null})}catch(i){console.error("[accountStatus] exception:",i),e({loaded:!0,loading:!1,disabledAt:null})}}}}));function Oje(e){if(!e)return"-";const t=Date.parse(e);return Number.isFinite(t)?new Date(t).toLocaleString():e}function Nje(){const e=jje(n=>n.disabledAt),t=w.useCallback(async()=>{try{await De.auth.signOut(),window.location.href="/"}catch(n){console.error("signOut error:",n),window.location.href="/"}},[]);return g.jsx("main",{className:"min-h-screen flex items-center justify-center p-6 text-white",children:g.jsxs("div",{className:"w-full max-w-[520px] bg-neutral-900 border border-neutral-700 rounded-xl p-6",children:[g.jsx("h1",{className:"text-2xl font-bold mb-3",children:" "}),g.jsxs("div",{className:"text-sm text-neutral-300 leading-6",children:["        .",g.jsx("span",{className:"font-semibold text-neutral-100",children:Oje(e)})]}),g.jsx("div",{className:"mt-5 p-3 bg-neutral-800 border border-neutral-700 rounded text-sm text-neutral-300",children:"    ."}),g.jsxs("div",{className:"mt-6 flex gap-2",children:[g.jsx("button",{type:"button",onClick:t,className:"px-4 py-2 rounded bg-neutral-700 hover:bg-neutral-600 cursor-pointer",children:""}),g.jsx("button",{type:"button",onClick:()=>window.location.reload(),className:"px-4 py-2 rounded bg-blue-700 hover:bg-blue-600 cursor-pointer",children:""})]})]})})}function Cje(){return g.jsxs(g.Fragment,{children:[g.jsx(pje,{}),g.jsx(wje,{}),g.jsx(Eje,{}),g.jsx(xF,{}),g.jsxs(BG,{children:[g.jsx($c,{path:"/auth/callback",element:g.jsx(fje,{})}),g.jsx($c,{path:"/disabled",element:g.jsx(Nje,{})}),g.jsx($c,{path:"/",element:g.jsx(cje,{})}),g.jsx($c,{path:"/admin",element:g.jsx(UU,{})}),g.jsx($c,{path:"/impersonate",element:g.jsx(dje,{})}),g.jsx($c,{path:"*",element:g.jsx(IG,{to:"/",replace:!0})})]})]})}YH.createRoot(document.getElementById("root")).render(g.jsx(w.StrictMode,{children:g.jsx(lq,{children:g.jsx(Cje,{})})}));
