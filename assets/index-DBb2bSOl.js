function MS(t,i){for(var o=0;o<i.length;o++){const l=i[o];if(typeof l!="string"&&!Array.isArray(l)){for(const u in l)if(u!=="default"&&!(u in t)){const d=Object.getOwnPropertyDescriptor(l,u);d&&Object.defineProperty(t,u,d.get?d:{enumerable:!0,get:()=>l[u]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const i=document.createElement("link").relList;if(i&&i.supports&&i.supports("modulepreload"))return;for(const u of document.querySelectorAll('link[rel="modulepreload"]'))l(u);new MutationObserver(u=>{for(const d of u)if(d.type==="childList")for(const m of d.addedNodes)m.tagName==="LINK"&&m.rel==="modulepreload"&&l(m)}).observe(document,{childList:!0,subtree:!0});function o(u){const d={};return u.integrity&&(d.integrity=u.integrity),u.referrerPolicy&&(d.referrerPolicy=u.referrerPolicy),u.crossOrigin==="use-credentials"?d.credentials="include":u.crossOrigin==="anonymous"?d.credentials="omit":d.credentials="same-origin",d}function l(u){if(u.ep)return;u.ep=!0;const d=o(u);fetch(u.href,d)}})();function Ds(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Qh={exports:{}},Bl={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Vb;function DS(){if(Vb)return Bl;Vb=1;var t=Symbol.for("react.transitional.element"),i=Symbol.for("react.fragment");function o(l,u,d){var m=null;if(d!==void 0&&(m=""+d),u.key!==void 0&&(m=""+u.key),"key"in u){d={};for(var p in u)p!=="key"&&(d[p]=u[p])}else d=u;return u=d.ref,{$$typeof:t,type:l,key:m,ref:u!==void 0?u:null,props:d}}return Bl.Fragment=i,Bl.jsx=o,Bl.jsxs=o,Bl}var Kb;function AS(){return Kb||(Kb=1,Qh.exports=DS()),Qh.exports}var y=AS();const S_="harim.theme",Vm="harim.settings.v1";function w_(){try{const t=localStorage.getItem(S_);if(t==="dark"||t==="light")return t;const i=localStorage.getItem(Vm);if(i){const l=JSON.parse(i)?.theme;if(l==="dark"||l==="light")return l}return null}catch{return null}}function Km(t){try{localStorage.setItem(S_,t);const i=localStorage.getItem(Vm),o=i?JSON.parse(i):{};localStorage.setItem(Vm,JSON.stringify({...o,theme:t}))}catch{}}function T_(t){const i=document.documentElement;i.classList.toggle("dark",t==="dark"),i.style.setProperty("color-scheme",t)}(function(){try{const t=w_()??(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light");T_(t)}catch{}})();var Jh={exports:{}},Gt={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Fb;function NS(){if(Fb)return Gt;Fb=1;var t=Symbol.for("react.transitional.element"),i=Symbol.for("react.portal"),o=Symbol.for("react.fragment"),l=Symbol.for("react.strict_mode"),u=Symbol.for("react.profiler"),d=Symbol.for("react.consumer"),m=Symbol.for("react.context"),p=Symbol.for("react.forward_ref"),b=Symbol.for("react.suspense"),v=Symbol.for("react.memo"),w=Symbol.for("react.lazy"),S=Symbol.iterator;function x(D){return D===null||typeof D!="object"?null:(D=S&&D[S]||D["@@iterator"],typeof D=="function"?D:null)}var E={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},A=Object.assign,O={};function R(D,G,F){this.props=D,this.context=G,this.refs=O,this.updater=F||E}R.prototype.isReactComponent={},R.prototype.setState=function(D,G){if(typeof D!="object"&&typeof D!="function"&&D!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,D,G,"setState")},R.prototype.forceUpdate=function(D){this.updater.enqueueForceUpdate(this,D,"forceUpdate")};function z(){}z.prototype=R.prototype;function H(D,G,F){this.props=D,this.context=G,this.refs=O,this.updater=F||E}var k=H.prototype=new z;k.constructor=H,A(k,R.prototype),k.isPureReactComponent=!0;var j=Array.isArray,B={H:null,A:null,T:null,S:null,V:null},V=Object.prototype.hasOwnProperty;function J(D,G,F,q,tt,lt){return F=lt.ref,{$$typeof:t,type:D,key:G,ref:F!==void 0?F:null,props:lt}}function W(D,G){return J(D.type,G,void 0,void 0,void 0,D.props)}function rt(D){return typeof D=="object"&&D!==null&&D.$$typeof===t}function et(D){var G={"=":"=0",":":"=2"};return"$"+D.replace(/[=:]/g,function(F){return G[F]})}var K=/\/+/g;function U(D,G){return typeof D=="object"&&D!==null&&D.key!=null?et(""+D.key):G.toString(36)}function Q(){}function mt(D){switch(D.status){case"fulfilled":return D.value;case"rejected":throw D.reason;default:switch(typeof D.status=="string"?D.then(Q,Q):(D.status="pending",D.then(function(G){D.status==="pending"&&(D.status="fulfilled",D.value=G)},function(G){D.status==="pending"&&(D.status="rejected",D.reason=G)})),D.status){case"fulfilled":return D.value;case"rejected":throw D.reason}}throw D}function vt(D,G,F,q,tt){var lt=typeof D;(lt==="undefined"||lt==="boolean")&&(D=null);var ht=!1;if(D===null)ht=!0;else switch(lt){case"bigint":case"string":case"number":ht=!0;break;case"object":switch(D.$$typeof){case t:case i:ht=!0;break;case w:return ht=D._init,vt(ht(D._payload),G,F,q,tt)}}if(ht)return tt=tt(D),ht=q===""?"."+U(D,0):q,j(tt)?(F="",ht!=null&&(F=ht.replace(K,"$&/")+"/"),vt(tt,G,F,"",function(Tt){return Tt})):tt!=null&&(rt(tt)&&(tt=W(tt,F+(tt.key==null||D&&D.key===tt.key?"":(""+tt.key).replace(K,"$&/")+"/")+ht)),G.push(tt)),1;ht=0;var wt=q===""?".":q+":";if(j(D))for(var bt=0;bt<D.length;bt++)q=D[bt],lt=wt+U(q,bt),ht+=vt(q,G,F,lt,tt);else if(bt=x(D),typeof bt=="function")for(D=bt.call(D),bt=0;!(q=D.next()).done;)q=q.value,lt=wt+U(q,bt++),ht+=vt(q,G,F,lt,tt);else if(lt==="object"){if(typeof D.then=="function")return vt(mt(D),G,F,q,tt);throw G=String(D),Error("Objects are not valid as a React child (found: "+(G==="[object Object]"?"object with keys {"+Object.keys(D).join(", ")+"}":G)+"). If you meant to render a collection of children, use an array instead.")}return ht}function $(D,G,F){if(D==null)return D;var q=[],tt=0;return vt(D,q,"","",function(lt){return G.call(F,lt,tt++)}),q}function it(D){if(D._status===-1){var G=D._result;G=G(),G.then(function(F){(D._status===0||D._status===-1)&&(D._status=1,D._result=F)},function(F){(D._status===0||D._status===-1)&&(D._status=2,D._result=F)}),D._status===-1&&(D._status=0,D._result=G)}if(D._status===1)return D._result.default;throw D._result}var ot=typeof reportError=="function"?reportError:function(D){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var G=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof D=="object"&&D!==null&&typeof D.message=="string"?String(D.message):String(D),error:D});if(!window.dispatchEvent(G))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",D);return}console.error(D)};function I(){}return Gt.Children={map:$,forEach:function(D,G,F){$(D,function(){G.apply(this,arguments)},F)},count:function(D){var G=0;return $(D,function(){G++}),G},toArray:function(D){return $(D,function(G){return G})||[]},only:function(D){if(!rt(D))throw Error("React.Children.only expected to receive a single React element child.");return D}},Gt.Component=R,Gt.Fragment=o,Gt.Profiler=u,Gt.PureComponent=H,Gt.StrictMode=l,Gt.Suspense=b,Gt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=B,Gt.__COMPILER_RUNTIME={__proto__:null,c:function(D){return B.H.useMemoCache(D)}},Gt.cache=function(D){return function(){return D.apply(null,arguments)}},Gt.cloneElement=function(D,G,F){if(D==null)throw Error("The argument must be a React element, but you passed "+D+".");var q=A({},D.props),tt=D.key,lt=void 0;if(G!=null)for(ht in G.ref!==void 0&&(lt=void 0),G.key!==void 0&&(tt=""+G.key),G)!V.call(G,ht)||ht==="key"||ht==="__self"||ht==="__source"||ht==="ref"&&G.ref===void 0||(q[ht]=G[ht]);var ht=arguments.length-2;if(ht===1)q.children=F;else if(1<ht){for(var wt=Array(ht),bt=0;bt<ht;bt++)wt[bt]=arguments[bt+2];q.children=wt}return J(D.type,tt,void 0,void 0,lt,q)},Gt.createContext=function(D){return D={$$typeof:m,_currentValue:D,_currentValue2:D,_threadCount:0,Provider:null,Consumer:null},D.Provider=D,D.Consumer={$$typeof:d,_context:D},D},Gt.createElement=function(D,G,F){var q,tt={},lt=null;if(G!=null)for(q in G.key!==void 0&&(lt=""+G.key),G)V.call(G,q)&&q!=="key"&&q!=="__self"&&q!=="__source"&&(tt[q]=G[q]);var ht=arguments.length-2;if(ht===1)tt.children=F;else if(1<ht){for(var wt=Array(ht),bt=0;bt<ht;bt++)wt[bt]=arguments[bt+2];tt.children=wt}if(D&&D.defaultProps)for(q in ht=D.defaultProps,ht)tt[q]===void 0&&(tt[q]=ht[q]);return J(D,lt,void 0,void 0,null,tt)},Gt.createRef=function(){return{current:null}},Gt.forwardRef=function(D){return{$$typeof:p,render:D}},Gt.isValidElement=rt,Gt.lazy=function(D){return{$$typeof:w,_payload:{_status:-1,_result:D},_init:it}},Gt.memo=function(D,G){return{$$typeof:v,type:D,compare:G===void 0?null:G}},Gt.startTransition=function(D){var G=B.T,F={};B.T=F;try{var q=D(),tt=B.S;tt!==null&&tt(F,q),typeof q=="object"&&q!==null&&typeof q.then=="function"&&q.then(I,ot)}catch(lt){ot(lt)}finally{B.T=G}},Gt.unstable_useCacheRefresh=function(){return B.H.useCacheRefresh()},Gt.use=function(D){return B.H.use(D)},Gt.useActionState=function(D,G,F){return B.H.useActionState(D,G,F)},Gt.useCallback=function(D,G){return B.H.useCallback(D,G)},Gt.useContext=function(D){return B.H.useContext(D)},Gt.useDebugValue=function(){},Gt.useDeferredValue=function(D,G){return B.H.useDeferredValue(D,G)},Gt.useEffect=function(D,G,F){var q=B.H;if(typeof F=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return q.useEffect(D,G)},Gt.useId=function(){return B.H.useId()},Gt.useImperativeHandle=function(D,G,F){return B.H.useImperativeHandle(D,G,F)},Gt.useInsertionEffect=function(D,G){return B.H.useInsertionEffect(D,G)},Gt.useLayoutEffect=function(D,G){return B.H.useLayoutEffect(D,G)},Gt.useMemo=function(D,G){return B.H.useMemo(D,G)},Gt.useOptimistic=function(D,G){return B.H.useOptimistic(D,G)},Gt.useReducer=function(D,G,F){return B.H.useReducer(D,G,F)},Gt.useRef=function(D){return B.H.useRef(D)},Gt.useState=function(D){return B.H.useState(D)},Gt.useSyncExternalStore=function(D,G,F){return B.H.useSyncExternalStore(D,G,F)},Gt.useTransition=function(){return B.H.useTransition()},Gt.version="19.1.1",Gt}var Xb;function Hd(){return Xb||(Xb=1,Jh.exports=NS()),Jh.exports}var P=Hd();const Te=Ds(P);var tm={exports:{}},Rl={},em={exports:{}},nm={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Wb;function OS(){return Wb||(Wb=1,(function(t){function i($,it){var ot=$.length;$.push(it);t:for(;0<ot;){var I=ot-1>>>1,D=$[I];if(0<u(D,it))$[I]=it,$[ot]=D,ot=I;else break t}}function o($){return $.length===0?null:$[0]}function l($){if($.length===0)return null;var it=$[0],ot=$.pop();if(ot!==it){$[0]=ot;t:for(var I=0,D=$.length,G=D>>>1;I<G;){var F=2*(I+1)-1,q=$[F],tt=F+1,lt=$[tt];if(0>u(q,ot))tt<D&&0>u(lt,q)?($[I]=lt,$[tt]=ot,I=tt):($[I]=q,$[F]=ot,I=F);else if(tt<D&&0>u(lt,ot))$[I]=lt,$[tt]=ot,I=tt;else break t}}return it}function u($,it){var ot=$.sortIndex-it.sortIndex;return ot!==0?ot:$.id-it.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var d=performance;t.unstable_now=function(){return d.now()}}else{var m=Date,p=m.now();t.unstable_now=function(){return m.now()-p}}var b=[],v=[],w=1,S=null,x=3,E=!1,A=!1,O=!1,R=!1,z=typeof setTimeout=="function"?setTimeout:null,H=typeof clearTimeout=="function"?clearTimeout:null,k=typeof setImmediate<"u"?setImmediate:null;function j($){for(var it=o(v);it!==null;){if(it.callback===null)l(v);else if(it.startTime<=$)l(v),it.sortIndex=it.expirationTime,i(b,it);else break;it=o(v)}}function B($){if(O=!1,j($),!A)if(o(b)!==null)A=!0,V||(V=!0,U());else{var it=o(v);it!==null&&vt(B,it.startTime-$)}}var V=!1,J=-1,W=5,rt=-1;function et(){return R?!0:!(t.unstable_now()-rt<W)}function K(){if(R=!1,V){var $=t.unstable_now();rt=$;var it=!0;try{t:{A=!1,O&&(O=!1,H(J),J=-1),E=!0;var ot=x;try{e:{for(j($),S=o(b);S!==null&&!(S.expirationTime>$&&et());){var I=S.callback;if(typeof I=="function"){S.callback=null,x=S.priorityLevel;var D=I(S.expirationTime<=$);if($=t.unstable_now(),typeof D=="function"){S.callback=D,j($),it=!0;break e}S===o(b)&&l(b),j($)}else l(b);S=o(b)}if(S!==null)it=!0;else{var G=o(v);G!==null&&vt(B,G.startTime-$),it=!1}}break t}finally{S=null,x=ot,E=!1}it=void 0}}finally{it?U():V=!1}}}var U;if(typeof k=="function")U=function(){k(K)};else if(typeof MessageChannel<"u"){var Q=new MessageChannel,mt=Q.port2;Q.port1.onmessage=K,U=function(){mt.postMessage(null)}}else U=function(){z(K,0)};function vt($,it){J=z(function(){$(t.unstable_now())},it)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function($){$.callback=null},t.unstable_forceFrameRate=function($){0>$||125<$?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):W=0<$?Math.floor(1e3/$):5},t.unstable_getCurrentPriorityLevel=function(){return x},t.unstable_next=function($){switch(x){case 1:case 2:case 3:var it=3;break;default:it=x}var ot=x;x=it;try{return $()}finally{x=ot}},t.unstable_requestPaint=function(){R=!0},t.unstable_runWithPriority=function($,it){switch($){case 1:case 2:case 3:case 4:case 5:break;default:$=3}var ot=x;x=$;try{return it()}finally{x=ot}},t.unstable_scheduleCallback=function($,it,ot){var I=t.unstable_now();switch(typeof ot=="object"&&ot!==null?(ot=ot.delay,ot=typeof ot=="number"&&0<ot?I+ot:I):ot=I,$){case 1:var D=-1;break;case 2:D=250;break;case 5:D=1073741823;break;case 4:D=1e4;break;default:D=5e3}return D=ot+D,$={id:w++,callback:it,priorityLevel:$,startTime:ot,expirationTime:D,sortIndex:-1},ot>I?($.sortIndex=ot,i(v,$),o(b)===null&&$===o(v)&&(O?(H(J),J=-1):O=!0,vt(B,ot-I))):($.sortIndex=D,i(b,$),A||E||(A=!0,V||(V=!0,U()))),$},t.unstable_shouldYield=et,t.unstable_wrapCallback=function($){var it=x;return function(){var ot=x;x=it;try{return $.apply(this,arguments)}finally{x=ot}}}})(nm)),nm}var Qb;function jS(){return Qb||(Qb=1,em.exports=OS()),em.exports}var rm={exports:{}},bn={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Jb;function kS(){if(Jb)return bn;Jb=1;var t=Hd();function i(b){var v="https://react.dev/errors/"+b;if(1<arguments.length){v+="?args[]="+encodeURIComponent(arguments[1]);for(var w=2;w<arguments.length;w++)v+="&args[]="+encodeURIComponent(arguments[w])}return"Minified React error #"+b+"; visit "+v+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(){}var l={d:{f:o,r:function(){throw Error(i(522))},D:o,C:o,L:o,m:o,X:o,S:o,M:o},p:0,findDOMNode:null},u=Symbol.for("react.portal");function d(b,v,w){var S=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:u,key:S==null?null:""+S,children:b,containerInfo:v,implementation:w}}var m=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function p(b,v){if(b==="font")return"";if(typeof v=="string")return v==="use-credentials"?v:""}return bn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=l,bn.createPortal=function(b,v){var w=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!v||v.nodeType!==1&&v.nodeType!==9&&v.nodeType!==11)throw Error(i(299));return d(b,v,null,w)},bn.flushSync=function(b){var v=m.T,w=l.p;try{if(m.T=null,l.p=2,b)return b()}finally{m.T=v,l.p=w,l.d.f()}},bn.preconnect=function(b,v){typeof b=="string"&&(v?(v=v.crossOrigin,v=typeof v=="string"?v==="use-credentials"?v:"":void 0):v=null,l.d.C(b,v))},bn.prefetchDNS=function(b){typeof b=="string"&&l.d.D(b)},bn.preinit=function(b,v){if(typeof b=="string"&&v&&typeof v.as=="string"){var w=v.as,S=p(w,v.crossOrigin),x=typeof v.integrity=="string"?v.integrity:void 0,E=typeof v.fetchPriority=="string"?v.fetchPriority:void 0;w==="style"?l.d.S(b,typeof v.precedence=="string"?v.precedence:void 0,{crossOrigin:S,integrity:x,fetchPriority:E}):w==="script"&&l.d.X(b,{crossOrigin:S,integrity:x,fetchPriority:E,nonce:typeof v.nonce=="string"?v.nonce:void 0})}},bn.preinitModule=function(b,v){if(typeof b=="string")if(typeof v=="object"&&v!==null){if(v.as==null||v.as==="script"){var w=p(v.as,v.crossOrigin);l.d.M(b,{crossOrigin:w,integrity:typeof v.integrity=="string"?v.integrity:void 0,nonce:typeof v.nonce=="string"?v.nonce:void 0})}}else v==null&&l.d.M(b)},bn.preload=function(b,v){if(typeof b=="string"&&typeof v=="object"&&v!==null&&typeof v.as=="string"){var w=v.as,S=p(w,v.crossOrigin);l.d.L(b,w,{crossOrigin:S,integrity:typeof v.integrity=="string"?v.integrity:void 0,nonce:typeof v.nonce=="string"?v.nonce:void 0,type:typeof v.type=="string"?v.type:void 0,fetchPriority:typeof v.fetchPriority=="string"?v.fetchPriority:void 0,referrerPolicy:typeof v.referrerPolicy=="string"?v.referrerPolicy:void 0,imageSrcSet:typeof v.imageSrcSet=="string"?v.imageSrcSet:void 0,imageSizes:typeof v.imageSizes=="string"?v.imageSizes:void 0,media:typeof v.media=="string"?v.media:void 0})}},bn.preloadModule=function(b,v){if(typeof b=="string")if(v){var w=p(v.as,v.crossOrigin);l.d.m(b,{as:typeof v.as=="string"&&v.as!=="script"?v.as:void 0,crossOrigin:w,integrity:typeof v.integrity=="string"?v.integrity:void 0})}else l.d.m(b)},bn.requestFormReset=function(b){l.d.r(b)},bn.unstable_batchedUpdates=function(b,v){return b(v)},bn.useFormState=function(b,v,w){return m.H.useFormState(b,v,w)},bn.useFormStatus=function(){return m.H.useHostTransitionStatus()},bn.version="19.1.1",bn}var tv;function E_(){if(tv)return rm.exports;tv=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(i){console.error(i)}}return t(),rm.exports=kS(),rm.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ev;function LS(){if(ev)return Rl;ev=1;var t=jS(),i=Hd(),o=E_();function l(e){var n="https://react.dev/errors/"+e;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)n+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+e+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function u(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function d(e){var n=e,a=e;if(e.alternate)for(;n.return;)n=n.return;else{e=n;do n=e,(n.flags&4098)!==0&&(a=n.return),e=n.return;while(e)}return n.tag===3?a:null}function m(e){if(e.tag===13){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function p(e){if(d(e)!==e)throw Error(l(188))}function b(e){var n=e.alternate;if(!n){if(n=d(e),n===null)throw Error(l(188));return n!==e?null:e}for(var a=e,c=n;;){var h=a.return;if(h===null)break;var g=h.alternate;if(g===null){if(c=h.return,c!==null){a=c;continue}break}if(h.child===g.child){for(g=h.child;g;){if(g===a)return p(h),e;if(g===c)return p(h),n;g=g.sibling}throw Error(l(188))}if(a.return!==c.return)a=h,c=g;else{for(var M=!1,C=h.child;C;){if(C===a){M=!0,a=h,c=g;break}if(C===c){M=!0,c=h,a=g;break}C=C.sibling}if(!M){for(C=g.child;C;){if(C===a){M=!0,a=g,c=h;break}if(C===c){M=!0,c=g,a=h;break}C=C.sibling}if(!M)throw Error(l(189))}}if(a.alternate!==c)throw Error(l(190))}if(a.tag!==3)throw Error(l(188));return a.stateNode.current===a?e:n}function v(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e;for(e=e.child;e!==null;){if(n=v(e),n!==null)return n;e=e.sibling}return null}var w=Object.assign,S=Symbol.for("react.element"),x=Symbol.for("react.transitional.element"),E=Symbol.for("react.portal"),A=Symbol.for("react.fragment"),O=Symbol.for("react.strict_mode"),R=Symbol.for("react.profiler"),z=Symbol.for("react.provider"),H=Symbol.for("react.consumer"),k=Symbol.for("react.context"),j=Symbol.for("react.forward_ref"),B=Symbol.for("react.suspense"),V=Symbol.for("react.suspense_list"),J=Symbol.for("react.memo"),W=Symbol.for("react.lazy"),rt=Symbol.for("react.activity"),et=Symbol.for("react.memo_cache_sentinel"),K=Symbol.iterator;function U(e){return e===null||typeof e!="object"?null:(e=K&&e[K]||e["@@iterator"],typeof e=="function"?e:null)}var Q=Symbol.for("react.client.reference");function mt(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===Q?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case A:return"Fragment";case R:return"Profiler";case O:return"StrictMode";case B:return"Suspense";case V:return"SuspenseList";case rt:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case E:return"Portal";case k:return(e.displayName||"Context")+".Provider";case H:return(e._context.displayName||"Context")+".Consumer";case j:var n=e.render;return e=e.displayName,e||(e=n.displayName||n.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case J:return n=e.displayName||null,n!==null?n:mt(e.type)||"Memo";case W:n=e._payload,e=e._init;try{return mt(e(n))}catch{}}return null}var vt=Array.isArray,$=i.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,it=o.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ot={pending:!1,data:null,method:null,action:null},I=[],D=-1;function G(e){return{current:e}}function F(e){0>D||(e.current=I[D],I[D]=null,D--)}function q(e,n){D++,I[D]=e.current,e.current=n}var tt=G(null),lt=G(null),ht=G(null),wt=G(null);function bt(e,n){switch(q(ht,n),q(lt,e),q(tt,null),n.nodeType){case 9:case 11:e=(e=n.documentElement)&&(e=e.namespaceURI)?xb(e):0;break;default:if(e=n.tagName,n=n.namespaceURI)n=xb(n),e=Sb(n,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}F(tt),q(tt,e)}function Tt(){F(tt),F(lt),F(ht)}function $t(e){e.memoizedState!==null&&q(wt,e);var n=tt.current,a=Sb(n,e.type);n!==a&&(q(lt,e),q(tt,a))}function Wt(e){lt.current===e&&(F(tt),F(lt)),wt.current===e&&(F(wt),Ol._currentValue=ot)}var Pt=Object.prototype.hasOwnProperty,Bt=t.unstable_scheduleCallback,re=t.unstable_cancelCallback,me=t.unstable_shouldYield,fe=t.unstable_requestPaint,pe=t.unstable_now,Mt=t.unstable_getCurrentPriorityLevel,Vt=t.unstable_ImmediatePriority,Kt=t.unstable_UserBlockingPriority,Ot=t.unstable_NormalPriority,ie=t.unstable_LowPriority,Ee=t.unstable_IdlePriority,_e=t.log,vn=t.unstable_setDisableYieldValue,yn=null,Ve=null;function In(e){if(typeof _e=="function"&&vn(e),Ve&&typeof Ve.setStrictMode=="function")try{Ve.setStrictMode(yn,e)}catch{}}var _n=Math.clz32?Math.clz32:af,yc=Math.log,_c=Math.LN2;function af(e){return e>>>=0,e===0?32:31-(yc(e)/_c|0)|0}var Ra=256,Bi=4194304;function Cr(e){var n=e&42;if(n!==0)return n;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function Mo(e,n,a){var c=e.pendingLanes;if(c===0)return 0;var h=0,g=e.suspendedLanes,M=e.pingedLanes;e=e.warmLanes;var C=c&134217727;return C!==0?(c=C&~g,c!==0?h=Cr(c):(M&=C,M!==0?h=Cr(M):a||(a=C&~e,a!==0&&(h=Cr(a))))):(C=c&~g,C!==0?h=Cr(C):M!==0?h=Cr(M):a||(a=c&~e,a!==0&&(h=Cr(a)))),h===0?0:n!==0&&n!==h&&(n&g)===0&&(g=h&-h,a=n&-n,g>=a||g===32&&(a&4194048)!==0)?n:h}function yr(e,n){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&n)===0}function of(e,n){switch(e){case 1:case 2:case 4:case 8:case 64:return n+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function xc(){var e=Ra;return Ra<<=1,(Ra&4194048)===0&&(Ra=256),e}function Cs(){var e=Bi;return Bi<<=1,(Bi&62914560)===0&&(Bi=4194304),e}function Do(e){for(var n=[],a=0;31>a;a++)n.push(e);return n}function Ri(e,n){e.pendingLanes|=n,n!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function sf(e,n,a,c,h,g){var M=e.pendingLanes;e.pendingLanes=a,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=a,e.entangledLanes&=a,e.errorRecoveryDisabledLanes&=a,e.shellSuspendCounter=0;var C=e.entanglements,Y=e.expirationTimes,ct=e.hiddenUpdates;for(a=M&~a;0<a;){var pt=31-_n(a),yt=1<<pt;C[pt]=0,Y[pt]=-1;var ut=ct[pt];if(ut!==null)for(ct[pt]=null,pt=0;pt<ut.length;pt++){var dt=ut[pt];dt!==null&&(dt.lane&=-536870913)}a&=~yt}c!==0&&Sc(e,c,0),g!==0&&h===0&&e.tag!==0&&(e.suspendedLanes|=g&~(M&~n))}function Sc(e,n,a){e.pendingLanes|=n,e.suspendedLanes&=~n;var c=31-_n(n);e.entangledLanes|=n,e.entanglements[c]=e.entanglements[c]|1073741824|a&4194090}function wc(e,n){var a=e.entangledLanes|=n;for(e=e.entanglements;a;){var c=31-_n(a),h=1<<c;h&n|e[c]&n&&(e[c]|=n),a&=~h}}function Bs(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function Rs(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function Tc(){var e=it.p;return e!==0?e:(e=window.event,e===void 0?32:$b(e.type))}function Ps(e,n){var a=it.p;try{return it.p=e,n()}finally{it.p=a}}var Br=Math.random().toString(36).slice(2),Ke="__reactFiber$"+Br,hn="__reactProps$"+Br,Pi="__reactContainer$"+Br,kn="__reactEvents$"+Br,jt="__reactListeners$"+Br,Ec="__reactHandles$"+Br,zs="__reactResources$"+Br,zi="__reactMarker$"+Br;function Ao(e){delete e[Ke],delete e[hn],delete e[kn],delete e[jt],delete e[Ec]}function Rr(e){var n=e[Ke];if(n)return n;for(var a=e.parentNode;a;){if(n=a[Pi]||a[Ke]){if(a=n.alternate,n.child!==null||a!==null&&a.child!==null)for(e=Mb(e);e!==null;){if(a=e[Ke])return a;e=Mb(e)}return n}e=a,a=e.parentNode}return null}function Jr(e){if(e=e[Ke]||e[Pi]){var n=e.tag;if(n===5||n===6||n===13||n===26||n===27||n===3)return e}return null}function rr(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e.stateNode;throw Error(l(33))}function ti(e){var n=e[zs];return n||(n=e[zs]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function ze(e){e[zi]=!0}var Mc=new Set,Dc={};function ei(e,n){ni(e,n),ni(e+"Capture",n)}function ni(e,n){for(Dc[e]=n,e=0;e<n.length;e++)Mc.add(n[e])}var lf=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Pa={},Ac={};function cf(e){return Pt.call(Ac,e)?!0:Pt.call(Pa,e)?!1:lf.test(e)?Ac[e]=!0:(Pa[e]=!0,!1)}function No(e,n,a){if(cf(n))if(a===null)e.removeAttribute(n);else{switch(typeof a){case"undefined":case"function":case"symbol":e.removeAttribute(n);return;case"boolean":var c=n.toLowerCase().slice(0,5);if(c!=="data-"&&c!=="aria-"){e.removeAttribute(n);return}}e.setAttribute(n,""+a)}}function Oo(e,n,a){if(a===null)e.removeAttribute(n);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(n);return}e.setAttribute(n,""+a)}}function _r(e,n,a,c){if(c===null)e.removeAttribute(a);else{switch(typeof c){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(a);return}e.setAttributeNS(n,a,""+c)}}var za,Hi;function ri(e){if(za===void 0)try{throw Error()}catch(a){var n=a.stack.trim().match(/\n( *(at )?)/);za=n&&n[1]||"",Hi=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+za+e+Hi}var jo=!1;function ii(e,n){if(!e||jo)return"";jo=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var c={DetermineComponentFrameRoot:function(){try{if(n){var yt=function(){throw Error()};if(Object.defineProperty(yt.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(yt,[])}catch(dt){var ut=dt}Reflect.construct(e,[],yt)}else{try{yt.call()}catch(dt){ut=dt}e.call(yt.prototype)}}else{try{throw Error()}catch(dt){ut=dt}(yt=e())&&typeof yt.catch=="function"&&yt.catch(function(){})}}catch(dt){if(dt&&ut&&typeof dt.stack=="string")return[dt.stack,ut.stack]}return[null,null]}};c.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(c.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(c.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var g=c.DetermineComponentFrameRoot(),M=g[0],C=g[1];if(M&&C){var Y=M.split(`
`),ct=C.split(`
`);for(h=c=0;c<Y.length&&!Y[c].includes("DetermineComponentFrameRoot");)c++;for(;h<ct.length&&!ct[h].includes("DetermineComponentFrameRoot");)h++;if(c===Y.length||h===ct.length)for(c=Y.length-1,h=ct.length-1;1<=c&&0<=h&&Y[c]!==ct[h];)h--;for(;1<=c&&0<=h;c--,h--)if(Y[c]!==ct[h]){if(c!==1||h!==1)do if(c--,h--,0>h||Y[c]!==ct[h]){var pt=`
`+Y[c].replace(" at new "," at ");return e.displayName&&pt.includes("<anonymous>")&&(pt=pt.replace("<anonymous>",e.displayName)),pt}while(1<=c&&0<=h);break}}}finally{jo=!1,Error.prepareStackTrace=a}return(a=e?e.displayName||e.name:"")?ri(a):""}function Qt(e){switch(e.tag){case 26:case 27:case 5:return ri(e.type);case 16:return ri("Lazy");case 13:return ri("Suspense");case 19:return ri("SuspenseList");case 0:case 15:return ii(e.type,!1);case 11:return ii(e.type.render,!1);case 1:return ii(e.type,!0);case 31:return ri("Activity");default:return""}}function ge(e){try{var n="";do n+=Qt(e),e=e.return;while(e);return n}catch(a){return`
Error generating stack: `+a.message+`
`+a.stack}}function rn(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function ai(e){var n=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function Ii(e){var n=ai(e)?"checked":"value",a=Object.getOwnPropertyDescriptor(e.constructor.prototype,n),c=""+e[n];if(!e.hasOwnProperty(n)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var h=a.get,g=a.set;return Object.defineProperty(e,n,{configurable:!0,get:function(){return h.call(this)},set:function(M){c=""+M,g.call(this,M)}}),Object.defineProperty(e,n,{enumerable:a.enumerable}),{getValue:function(){return c},setValue:function(M){c=""+M},stopTracking:function(){e._valueTracker=null,delete e[n]}}}}function $i(e){e._valueTracker||(e._valueTracker=Ii(e))}function Ut(e){if(!e)return!1;var n=e._valueTracker;if(!n)return!0;var a=n.getValue(),c="";return e&&(c=ai(e)?e.checked?"true":"false":e.value),e=c,e!==a?(n.setValue(e),!0):!1}function be(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var Hs=/[\n"\\]/g;function an(e){return e.replace(Hs,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function mn(e,n,a,c,h,g,M,C){e.name="",M!=null&&typeof M!="function"&&typeof M!="symbol"&&typeof M!="boolean"?e.type=M:e.removeAttribute("type"),n!=null?M==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+rn(n)):e.value!==""+rn(n)&&(e.value=""+rn(n)):M!=="submit"&&M!=="reset"||e.removeAttribute("value"),n!=null?Ui(e,M,rn(n)):a!=null?Ui(e,M,rn(a)):c!=null&&e.removeAttribute("value"),h==null&&g!=null&&(e.defaultChecked=!!g),h!=null&&(e.checked=h&&typeof h!="function"&&typeof h!="symbol"),C!=null&&typeof C!="function"&&typeof C!="symbol"&&typeof C!="boolean"?e.name=""+rn(C):e.removeAttribute("name")}function Nc(e,n,a,c,h,g,M,C){if(g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"&&(e.type=g),n!=null||a!=null){if(!(g!=="submit"&&g!=="reset"||n!=null))return;a=a!=null?""+rn(a):"",n=n!=null?""+rn(n):a,C||n===e.value||(e.value=n),e.defaultValue=n}c=c??h,c=typeof c!="function"&&typeof c!="symbol"&&!!c,e.checked=C?e.checked:!!c,e.defaultChecked=!!c,M!=null&&typeof M!="function"&&typeof M!="symbol"&&typeof M!="boolean"&&(e.name=M)}function Ui(e,n,a){n==="number"&&be(e.ownerDocument)===e||e.defaultValue===""+a||(e.defaultValue=""+a)}function Ln(e,n,a,c){if(e=e.options,n){n={};for(var h=0;h<a.length;h++)n["$"+a[h]]=!0;for(a=0;a<e.length;a++)h=n.hasOwnProperty("$"+e[a].value),e[a].selected!==h&&(e[a].selected=h),h&&c&&(e[a].defaultSelected=!0)}else{for(a=""+rn(a),n=null,h=0;h<e.length;h++){if(e[h].value===a){e[h].selected=!0,c&&(e[h].defaultSelected=!0);return}n!==null||e[h].disabled||(n=e[h])}n!==null&&(n.selected=!0)}}function Ae(e,n,a){if(n!=null&&(n=""+rn(n),n!==e.value&&(e.value=n),a==null)){e.defaultValue!==n&&(e.defaultValue=n);return}e.defaultValue=a!=null?""+rn(a):""}function Pr(e,n,a,c){if(n==null){if(c!=null){if(a!=null)throw Error(l(92));if(vt(c)){if(1<c.length)throw Error(l(93));c=c[0]}a=c}a==null&&(a=""),n=a}a=rn(n),e.defaultValue=a,c=e.textContent,c===a&&c!==""&&c!==null&&(e.value=c)}function ir(e,n){if(n){var a=e.firstChild;if(a&&a===e.lastChild&&a.nodeType===3){a.nodeValue=n;return}}e.textContent=n}var Ha=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function ko(e,n,a){var c=n.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?c?e.setProperty(n,""):n==="float"?e.cssFloat="":e[n]="":c?e.setProperty(n,a):typeof a!="number"||a===0||Ha.has(n)?n==="float"?e.cssFloat=a:e[n]=(""+a).trim():e[n]=a+"px"}function Gi(e,n,a){if(n!=null&&typeof n!="object")throw Error(l(62));if(e=e.style,a!=null){for(var c in a)!a.hasOwnProperty(c)||n!=null&&n.hasOwnProperty(c)||(c.indexOf("--")===0?e.setProperty(c,""):c==="float"?e.cssFloat="":e[c]="");for(var h in n)c=n[h],n.hasOwnProperty(h)&&a[h]!==c&&ko(e,h,c)}else for(var g in n)n.hasOwnProperty(g)&&ko(e,g,n[g])}function Ia(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Is=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Lo=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Zi(e){return Lo.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}var $a=null;function Yi(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var oi=null,zr=null;function Oc(e){var n=Jr(e);if(n&&(e=n.stateNode)){var a=e[hn]||null;t:switch(e=n.stateNode,n.type){case"input":if(mn(e,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),n=a.name,a.type==="radio"&&n!=null){for(a=e;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+an(""+n)+'"][type="radio"]'),n=0;n<a.length;n++){var c=a[n];if(c!==e&&c.form===e.form){var h=c[hn]||null;if(!h)throw Error(l(90));mn(c,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(n=0;n<a.length;n++)c=a[n],c.form===e.form&&Ut(c)}break t;case"textarea":Ae(e,a.value,a.defaultValue);break t;case"select":n=a.value,n!=null&&Ln(e,!!a.multiple,n,!1)}}}var It=!1;function $n(e,n,a){if(It)return e(n,a);It=!0;try{var c=e(n);return c}finally{if(It=!1,(oi!==null||zr!==null)&&(Tu(),oi&&(n=oi,e=zr,zr=oi=null,Oc(n),e)))for(n=0;n<e.length;n++)Oc(e[n])}}function ee(e,n){var a=e.stateNode;if(a===null)return null;var c=a[hn]||null;if(c===null)return null;a=c[n];t:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(c=!c.disabled)||(e=e.type,c=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!c;break t;default:e=!1}if(e)return null;if(a&&typeof a!="function")throw Error(l(231,n,typeof a));return a}var ar=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Ua=!1;if(ar)try{var si={};Object.defineProperty(si,"passive",{get:function(){Ua=!0}}),window.addEventListener("test",si,si),window.removeEventListener("test",si,si)}catch{Ua=!1}var or=null,xr=null,qi=null;function Vi(){if(qi)return qi;var e,n=xr,a=n.length,c,h="value"in or?or.value:or.textContent,g=h.length;for(e=0;e<a&&n[e]===h[e];e++);var M=a-e;for(c=1;c<=M&&n[a-c]===h[g-c];c++);return qi=h.slice(e,1<c?1-c:void 0)}function Le(e){var n=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&n===13&&(e=13)):e=n,e===10&&(e=13),32<=e||e===13?e:0}function sr(){return!0}function $s(){return!1}function on(e){function n(a,c,h,g,M){this._reactName=a,this._targetInst=h,this.type=c,this.nativeEvent=g,this.target=M,this.currentTarget=null;for(var C in e)e.hasOwnProperty(C)&&(a=e[C],this[C]=a?a(g):g[C]);return this.isDefaultPrevented=(g.defaultPrevented!=null?g.defaultPrevented:g.returnValue===!1)?sr:$s,this.isPropagationStopped=$s,this}return w(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=sr)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=sr)},persist:function(){},isPersistent:sr}),n}var li={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ga=on(li),ci=w({},li,{view:0,detail:0}),uf=on(ci),Co,Yt,Za,pn=w({},ci,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Bo,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Za&&(Za&&e.type==="mousemove"?(Co=e.screenX-Za.screenX,Yt=e.screenY-Za.screenY):Yt=Co=0,Za=e),Co)},movementY:function(e){return"movementY"in e?e.movementY:Yt}}),Ki=on(pn),jc=w({},pn,{dataTransfer:0}),df=on(jc),Us=w({},ci,{relatedTarget:0}),Gs=on(Us),kc=w({},li,{animationName:0,elapsedTime:0,pseudoElement:0}),ff=on(kc),hf=w({},li,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Zs=on(hf),mf=w({},li,{data:0}),Un=on(mf),pf={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Lc={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Hr={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Cc(e){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(e):(e=Hr[e])?!!n[e]:!1}function Bo(){return Cc}var Ys=w({},ci,{key:function(e){if(e.key){var n=pf[e.key]||e.key;if(n!=="Unidentified")return n}return e.type==="keypress"?(e=Le(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Lc[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Bo,charCode:function(e){return e.type==="keypress"?Le(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Le(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),gf=on(Ys),Bc=w({},pn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),qs=on(Bc),bf=w({},ci,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Bo}),vf=on(bf),Vs=w({},li,{propertyName:0,elapsedTime:0,pseudoElement:0}),yf=on(Vs),Rc=w({},pn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Pc=on(Rc),Ro=w({},li,{newState:0,oldState:0}),ui=on(Ro),_f=[9,13,27,32],di=ar&&"CompositionEvent"in window,Fe=null;ar&&"documentMode"in document&&(Fe=document.documentMode);var zc=ar&&"TextEvent"in window&&!Fe,Ks=ar&&(!di||Fe&&8<Fe&&11>=Fe),Hc=" ",Po=!1;function zo(e,n){switch(e){case"keyup":return _f.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Ic(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Fi=!1;function $c(e,n){switch(e){case"compositionend":return Ic(n);case"keypress":return n.which!==32?null:(Po=!0,Hc);case"textInput":return e=n.data,e===Hc&&Po?null:e;default:return null}}function xf(e,n){if(Fi)return e==="compositionend"||!di&&zo(e,n)?(e=Vi(),qi=xr=or=null,Fi=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return Ks&&n.locale!=="ko"?null:n.data;default:return null}}var Gn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function fi(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n==="input"?!!Gn[e.type]:n==="textarea"}function Uc(e,n,a,c){oi?zr?zr.push(c):zr=[c]:oi=c,n=Ou(n,"onChange"),0<n.length&&(a=new Ga("onChange","change",null,a,c),e.push({event:a,listeners:n}))}var xn=null,Ya=null;function Xi(e){gb(e,0)}function Ho(e){var n=rr(e);if(Ut(n))return e}function Wi(e,n){if(e==="change")return n}var Fs=!1;if(ar){var Qi;if(ar){var Xs="oninput"in document;if(!Xs){var Sr=document.createElement("div");Sr.setAttribute("oninput","return;"),Xs=typeof Sr.oninput=="function"}Qi=Xs}else Qi=!1;Fs=Qi&&(!document.documentMode||9<document.documentMode)}function qa(){xn&&(xn.detachEvent("onpropertychange",Gc),Ya=xn=null)}function Gc(e){if(e.propertyName==="value"&&Ho(Ya)){var n=[];Uc(n,Ya,e,Yi(e)),$n(Xi,n)}}function Ws(e,n,a){e==="focusin"?(qa(),xn=n,Ya=a,xn.attachEvent("onpropertychange",Gc)):e==="focusout"&&qa()}function Sf(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Ho(Ya)}function wr(e,n){if(e==="click")return Ho(n)}function wf(e,n){if(e==="input"||e==="change")return Ho(n)}function Ji(e,n){return e===n&&(e!==0||1/e===1/n)||e!==e&&n!==n}var Sn=typeof Object.is=="function"?Object.is:Ji;function wn(e,n){if(Sn(e,n))return!0;if(typeof e!="object"||e===null||typeof n!="object"||n===null)return!1;var a=Object.keys(e),c=Object.keys(n);if(a.length!==c.length)return!1;for(c=0;c<a.length;c++){var h=a[c];if(!Pt.call(n,h)||!Sn(e[h],n[h]))return!1}return!0}function Va(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Qs(e,n){var a=Va(e);e=0;for(var c;a;){if(a.nodeType===3){if(c=e+a.textContent.length,e<=n&&c>=n)return{node:a,offset:n-e};e=c}t:{for(;a;){if(a.nextSibling){a=a.nextSibling;break t}a=a.parentNode}a=void 0}a=Va(a)}}function Io(e,n){return e&&n?e===n?!0:e&&e.nodeType===3?!1:n&&n.nodeType===3?Io(e,n.parentNode):"contains"in e?e.contains(n):e.compareDocumentPosition?!!(e.compareDocumentPosition(n)&16):!1:!1}function Ka(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var n=be(e.document);n instanceof e.HTMLIFrameElement;){try{var a=typeof n.contentWindow.location.href=="string"}catch{a=!1}if(a)e=n.contentWindow;else break;n=be(e.document)}return n}function Fa(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n&&(n==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||n==="textarea"||e.contentEditable==="true")}var $o=ar&&"documentMode"in document&&11>=document.documentMode,Zn=null,ta=null,hi=null,Uo=!1;function Zc(e,n,a){var c=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;Uo||Zn==null||Zn!==be(c)||(c=Zn,"selectionStart"in c&&Fa(c)?c={start:c.selectionStart,end:c.selectionEnd}:(c=(c.ownerDocument&&c.ownerDocument.defaultView||window).getSelection(),c={anchorNode:c.anchorNode,anchorOffset:c.anchorOffset,focusNode:c.focusNode,focusOffset:c.focusOffset}),hi&&wn(hi,c)||(hi=c,c=Ou(ta,"onSelect"),0<c.length&&(n=new Ga("onSelect","select",null,n,a),e.push({event:n,listeners:c}),n.target=Zn)))}function lr(e,n){var a={};return a[e.toLowerCase()]=n.toLowerCase(),a["Webkit"+e]="webkit"+n,a["Moz"+e]="moz"+n,a}var ea={animationend:lr("Animation","AnimationEnd"),animationiteration:lr("Animation","AnimationIteration"),animationstart:lr("Animation","AnimationStart"),transitionrun:lr("Transition","TransitionRun"),transitionstart:lr("Transition","TransitionStart"),transitioncancel:lr("Transition","TransitionCancel"),transitionend:lr("Transition","TransitionEnd")},Go={},Yc={};ar&&(Yc=document.createElement("div").style,"AnimationEvent"in window||(delete ea.animationend.animation,delete ea.animationiteration.animation,delete ea.animationstart.animation),"TransitionEvent"in window||delete ea.transitionend.transition);function Ir(e){if(Go[e])return Go[e];if(!ea[e])return e;var n=ea[e],a;for(a in n)if(n.hasOwnProperty(a)&&a in Yc)return Go[e]=n[a];return e}var qc=Ir("animationend"),Yn=Ir("animationiteration"),Xa=Ir("animationstart"),Tf=Ir("transitionrun"),Zo=Ir("transitionstart"),Ef=Ir("transitioncancel"),Js=Ir("transitionend"),Vc=new Map,mi="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");mi.push("scrollEnd");function qn(e,n){Vc.set(e,n),ei(n,[e])}var pi=new WeakMap;function Tn(e,n){if(typeof e=="object"&&e!==null){var a=pi.get(e);return a!==void 0?a:(n={value:e,source:n,stack:ge(n)},pi.set(e,n),n)}return{value:e,source:n,stack:ge(n)}}var En=[],na=0,Vn=0;function Wa(){for(var e=na,n=Vn=na=0;n<e;){var a=En[n];En[n++]=null;var c=En[n];En[n++]=null;var h=En[n];En[n++]=null;var g=En[n];if(En[n++]=null,c!==null&&h!==null){var M=c.pending;M===null?h.next=h:(h.next=M.next,M.next=h),c.pending=h}g!==0&&Ja(a,h,g)}}function Qa(e,n,a,c){En[na++]=e,En[na++]=n,En[na++]=a,En[na++]=c,Vn|=c,e.lanes|=c,e=e.alternate,e!==null&&(e.lanes|=c)}function gi(e,n,a,c){return Qa(e,n,a,c),$r(e)}function ra(e,n){return Qa(e,null,null,n),$r(e)}function Ja(e,n,a){e.lanes|=a;var c=e.alternate;c!==null&&(c.lanes|=a);for(var h=!1,g=e.return;g!==null;)g.childLanes|=a,c=g.alternate,c!==null&&(c.childLanes|=a),g.tag===22&&(e=g.stateNode,e===null||e._visibility&1||(h=!0)),e=g,g=g.return;return e.tag===3?(g=e.stateNode,h&&n!==null&&(h=31-_n(a),e=g.hiddenUpdates,c=e[h],c===null?e[h]=[n]:c.push(n),n.lane=a|536870912),g):null}function $r(e){if(50<Sl)throw Sl=0,Sh=null,Error(l(185));for(var n=e.return;n!==null;)e=n,n=e.return;return e.tag===3?e.stateNode:null}var bi={};function Kc(e,n,a,c){this.tag=e,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=c,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Mn(e,n,a,c){return new Kc(e,n,a,c)}function Yo(e){return e=e.prototype,!(!e||!e.isReactComponent)}function cr(e,n){var a=e.alternate;return a===null?(a=Mn(e.tag,n,e.key,e.mode),a.elementType=e.elementType,a.type=e.type,a.stateNode=e.stateNode,a.alternate=e,e.alternate=a):(a.pendingProps=n,a.type=e.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=e.flags&65011712,a.childLanes=e.childLanes,a.lanes=e.lanes,a.child=e.child,a.memoizedProps=e.memoizedProps,a.memoizedState=e.memoizedState,a.updateQueue=e.updateQueue,n=e.dependencies,a.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},a.sibling=e.sibling,a.index=e.index,a.ref=e.ref,a.refCleanup=e.refCleanup,a}function tl(e,n){e.flags&=65011714;var a=e.alternate;return a===null?(e.childLanes=0,e.lanes=n,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=a.childLanes,e.lanes=a.lanes,e.child=a.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=a.memoizedProps,e.memoizedState=a.memoizedState,e.updateQueue=a.updateQueue,e.type=a.type,n=a.dependencies,e.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),e}function to(e,n,a,c,h,g){var M=0;if(c=e,typeof e=="function")Yo(e)&&(M=1);else if(typeof e=="string")M=hS(e,a,tt.current)?26:e==="html"||e==="head"||e==="body"?27:5;else t:switch(e){case rt:return e=Mn(31,a,n,h),e.elementType=rt,e.lanes=g,e;case A:return Ur(a.children,h,g,n);case O:M=8,h|=24;break;case R:return e=Mn(12,a,n,h|2),e.elementType=R,e.lanes=g,e;case B:return e=Mn(13,a,n,h),e.elementType=B,e.lanes=g,e;case V:return e=Mn(19,a,n,h),e.elementType=V,e.lanes=g,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case z:case k:M=10;break t;case H:M=9;break t;case j:M=11;break t;case J:M=14;break t;case W:M=16,c=null;break t}M=29,a=Error(l(130,e===null?"null":typeof e,"")),c=null}return n=Mn(M,a,n,h),n.elementType=e,n.type=c,n.lanes=g,n}function Ur(e,n,a,c){return e=Mn(7,e,c,n),e.lanes=a,e}function el(e,n,a){return e=Mn(6,e,null,n),e.lanes=a,e}function qo(e,n,a){return n=Mn(4,e.children!==null?e.children:[],e.key,n),n.lanes=a,n.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},n}var vi=[],ia=0,r=null,s=0,f=[],_=0,T=null,N=1,Z="";function at(e,n){vi[ia++]=s,vi[ia++]=r,r=e,s=n}function ft(e,n,a){f[_++]=N,f[_++]=Z,f[_++]=T,T=e;var c=N;e=Z;var h=32-_n(c)-1;c&=~(1<<h),a+=1;var g=32-_n(n)+h;if(30<g){var M=h-h%5;g=(c&(1<<M)-1).toString(32),c>>=M,h-=M,N=1<<32-_n(n)+h|a<<h|c,Z=g+e}else N=1<<g|a<<h|c,Z=e}function _t(e){e.return!==null&&(at(e,1),ft(e,1,0))}function Et(e){for(;e===r;)r=vi[--ia],vi[ia]=null,s=vi[--ia],vi[ia]=null;for(;e===T;)T=f[--_],f[_]=null,Z=f[--_],f[_]=null,N=f[--_],f[_]=null}var Dt=null,Nt=null,Ht=!1,ve=null,Ne=!1,Xe=Error(l(519));function Cn(e){var n=Error(l(418,""));throw oa(Tn(n,e)),Xe}function Fc(e){var n=e.stateNode,a=e.type,c=e.memoizedProps;switch(n[Ke]=e,n[hn]=c,a){case"dialog":Xt("cancel",n),Xt("close",n);break;case"iframe":case"object":case"embed":Xt("load",n);break;case"video":case"audio":for(a=0;a<Tl.length;a++)Xt(Tl[a],n);break;case"source":Xt("error",n);break;case"img":case"image":case"link":Xt("error",n),Xt("load",n);break;case"details":Xt("toggle",n);break;case"input":Xt("invalid",n),Nc(n,c.value,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name,!0),$i(n);break;case"select":Xt("invalid",n);break;case"textarea":Xt("invalid",n),Pr(n,c.value,c.defaultValue,c.children),$i(n)}a=c.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||n.textContent===""+a||c.suppressHydrationWarning===!0||_b(n.textContent,a)?(c.popover!=null&&(Xt("beforetoggle",n),Xt("toggle",n)),c.onScroll!=null&&Xt("scroll",n),c.onScrollEnd!=null&&Xt("scrollend",n),c.onClick!=null&&(n.onclick=ju),n=!0):n=!1,n||Cn(e)}function Xc(e){for(Dt=e.return;Dt;)switch(Dt.tag){case 5:case 13:Ne=!1;return;case 27:case 3:Ne=!0;return;default:Dt=Dt.return}}function eo(e){if(e!==Dt)return!1;if(!Ht)return Xc(e),Ht=!0,!1;var n=e.tag,a;if((a=n!==3&&n!==27)&&((a=n===5)&&(a=e.type,a=!(a!=="form"&&a!=="button")||zh(e.type,e.memoizedProps)),a=!a),a&&Nt&&Cn(e),Xc(e),n===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(l(317));t:{for(e=e.nextSibling,n=0;e;){if(e.nodeType===8)if(a=e.data,a==="/$"){if(n===0){Nt=Dr(e.nextSibling);break t}n--}else a!=="$"&&a!=="$!"&&a!=="$?"||n++;e=e.nextSibling}Nt=null}}else n===27?(n=Nt,xa(e.type)?(e=Uh,Uh=null,Nt=e):Nt=n):Nt=Dt?Dr(e.stateNode.nextSibling):null;return!0}function aa(){Nt=Dt=null,Ht=!1}function Wc(){var e=ve;return e!==null&&(Pn===null?Pn=e:Pn.push.apply(Pn,e),ve=null),e}function oa(e){ve===null?ve=[e]:ve.push(e)}var Me=G(null),ur=null,Tr=null;function Gr(e,n,a){q(Me,n._currentValue),n._currentValue=a}function Er(e){e._currentValue=Me.current,F(Me)}function no(e,n,a){for(;e!==null;){var c=e.alternate;if((e.childLanes&n)!==n?(e.childLanes|=n,c!==null&&(c.childLanes|=n)):c!==null&&(c.childLanes&n)!==n&&(c.childLanes|=n),e===a)break;e=e.return}}function Vo(e,n,a,c){var h=e.child;for(h!==null&&(h.return=e);h!==null;){var g=h.dependencies;if(g!==null){var M=h.child;g=g.firstContext;t:for(;g!==null;){var C=g;g=h;for(var Y=0;Y<n.length;Y++)if(C.context===n[Y]){g.lanes|=a,C=g.alternate,C!==null&&(C.lanes|=a),no(g.return,a,e),c||(M=null);break t}g=C.next}}else if(h.tag===18){if(M=h.return,M===null)throw Error(l(341));M.lanes|=a,g=M.alternate,g!==null&&(g.lanes|=a),no(M,a,e),M=null}else M=h.child;if(M!==null)M.return=h;else for(M=h;M!==null;){if(M===e){M=null;break}if(h=M.sibling,h!==null){h.return=M.return,M=h;break}M=M.return}h=M}}function ro(e,n,a,c){e=null;for(var h=n,g=!1;h!==null;){if(!g){if((h.flags&524288)!==0)g=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var M=h.alternate;if(M===null)throw Error(l(387));if(M=M.memoizedProps,M!==null){var C=h.type;Sn(h.pendingProps.value,M.value)||(e!==null?e.push(C):e=[C])}}else if(h===wt.current){if(M=h.alternate,M===null)throw Error(l(387));M.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(e!==null?e.push(Ol):e=[Ol])}h=h.return}e!==null&&Vo(n,e,a,c),n.flags|=262144}function Qc(e){for(e=e.firstContext;e!==null;){if(!Sn(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function io(e){ur=e,Tr=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function gn(e){return o0(ur,e)}function Jc(e,n){return ur===null&&io(e),o0(e,n)}function o0(e,n){var a=n._currentValue;if(n={context:n,memoizedValue:a,next:null},Tr===null){if(e===null)throw Error(l(308));Tr=n,e.dependencies={lanes:0,firstContext:n},e.flags|=524288}else Tr=Tr.next=n;return a}var f2=typeof AbortController<"u"?AbortController:function(){var e=[],n=this.signal={aborted:!1,addEventListener:function(a,c){e.push(c)}};this.abort=function(){n.aborted=!0,e.forEach(function(a){return a()})}},h2=t.unstable_scheduleCallback,m2=t.unstable_NormalPriority,Ue={$$typeof:k,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Mf(){return{controller:new f2,data:new Map,refCount:0}}function nl(e){e.refCount--,e.refCount===0&&h2(m2,function(){e.controller.abort()})}var rl=null,Df=0,Ko=0,Fo=null;function p2(e,n){if(rl===null){var a=rl=[];Df=0,Ko=Nh(),Fo={status:"pending",value:void 0,then:function(c){a.push(c)}}}return Df++,n.then(s0,s0),n}function s0(){if(--Df===0&&rl!==null){Fo!==null&&(Fo.status="fulfilled");var e=rl;rl=null,Ko=0,Fo=null;for(var n=0;n<e.length;n++)(0,e[n])()}}function g2(e,n){var a=[],c={status:"pending",value:null,reason:null,then:function(h){a.push(h)}};return e.then(function(){c.status="fulfilled",c.value=n;for(var h=0;h<a.length;h++)(0,a[h])(n)},function(h){for(c.status="rejected",c.reason=h,h=0;h<a.length;h++)(0,a[h])(void 0)}),c}var l0=$.S;$.S=function(e,n){typeof n=="object"&&n!==null&&typeof n.then=="function"&&p2(e,n),l0!==null&&l0(e,n)};var ao=G(null);function Af(){var e=ao.current;return e!==null?e:ye.pooledCache}function tu(e,n){n===null?q(ao,ao.current):q(ao,n.pool)}function c0(){var e=Af();return e===null?null:{parent:Ue._currentValue,pool:e}}var il=Error(l(460)),u0=Error(l(474)),eu=Error(l(542)),Nf={then:function(){}};function d0(e){return e=e.status,e==="fulfilled"||e==="rejected"}function nu(){}function f0(e,n,a){switch(a=e[a],a===void 0?e.push(n):a!==n&&(n.then(nu,nu),n=a),n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,m0(e),e;default:if(typeof n.status=="string")n.then(nu,nu);else{if(e=ye,e!==null&&100<e.shellSuspendCounter)throw Error(l(482));e=n,e.status="pending",e.then(function(c){if(n.status==="pending"){var h=n;h.status="fulfilled",h.value=c}},function(c){if(n.status==="pending"){var h=n;h.status="rejected",h.reason=c}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,m0(e),e}throw al=n,il}}var al=null;function h0(){if(al===null)throw Error(l(459));var e=al;return al=null,e}function m0(e){if(e===il||e===eu)throw Error(l(483))}var sa=!1;function Of(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function jf(e,n){e=e.updateQueue,n.updateQueue===e&&(n.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function la(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function ca(e,n,a){var c=e.updateQueue;if(c===null)return null;if(c=c.shared,(se&2)!==0){var h=c.pending;return h===null?n.next=n:(n.next=h.next,h.next=n),c.pending=n,n=$r(e),Ja(e,null,a),n}return Qa(e,c,n,a),$r(e)}function ol(e,n,a){if(n=n.updateQueue,n!==null&&(n=n.shared,(a&4194048)!==0)){var c=n.lanes;c&=e.pendingLanes,a|=c,n.lanes=a,wc(e,a)}}function kf(e,n){var a=e.updateQueue,c=e.alternate;if(c!==null&&(c=c.updateQueue,a===c)){var h=null,g=null;if(a=a.firstBaseUpdate,a!==null){do{var M={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};g===null?h=g=M:g=g.next=M,a=a.next}while(a!==null);g===null?h=g=n:g=g.next=n}else h=g=n;a={baseState:c.baseState,firstBaseUpdate:h,lastBaseUpdate:g,shared:c.shared,callbacks:c.callbacks},e.updateQueue=a;return}e=a.lastBaseUpdate,e===null?a.firstBaseUpdate=n:e.next=n,a.lastBaseUpdate=n}var Lf=!1;function sl(){if(Lf){var e=Fo;if(e!==null)throw e}}function ll(e,n,a,c){Lf=!1;var h=e.updateQueue;sa=!1;var g=h.firstBaseUpdate,M=h.lastBaseUpdate,C=h.shared.pending;if(C!==null){h.shared.pending=null;var Y=C,ct=Y.next;Y.next=null,M===null?g=ct:M.next=ct,M=Y;var pt=e.alternate;pt!==null&&(pt=pt.updateQueue,C=pt.lastBaseUpdate,C!==M&&(C===null?pt.firstBaseUpdate=ct:C.next=ct,pt.lastBaseUpdate=Y))}if(g!==null){var yt=h.baseState;M=0,pt=ct=Y=null,C=g;do{var ut=C.lane&-536870913,dt=ut!==C.lane;if(dt?(Jt&ut)===ut:(c&ut)===ut){ut!==0&&ut===Ko&&(Lf=!0),pt!==null&&(pt=pt.next={lane:0,tag:C.tag,payload:C.payload,callback:null,next:null});t:{var zt=e,Ct=C;ut=n;var de=a;switch(Ct.tag){case 1:if(zt=Ct.payload,typeof zt=="function"){yt=zt.call(de,yt,ut);break t}yt=zt;break t;case 3:zt.flags=zt.flags&-65537|128;case 0:if(zt=Ct.payload,ut=typeof zt=="function"?zt.call(de,yt,ut):zt,ut==null)break t;yt=w({},yt,ut);break t;case 2:sa=!0}}ut=C.callback,ut!==null&&(e.flags|=64,dt&&(e.flags|=8192),dt=h.callbacks,dt===null?h.callbacks=[ut]:dt.push(ut))}else dt={lane:ut,tag:C.tag,payload:C.payload,callback:C.callback,next:null},pt===null?(ct=pt=dt,Y=yt):pt=pt.next=dt,M|=ut;if(C=C.next,C===null){if(C=h.shared.pending,C===null)break;dt=C,C=dt.next,dt.next=null,h.lastBaseUpdate=dt,h.shared.pending=null}}while(!0);pt===null&&(Y=yt),h.baseState=Y,h.firstBaseUpdate=ct,h.lastBaseUpdate=pt,g===null&&(h.shared.lanes=0),ba|=M,e.lanes=M,e.memoizedState=yt}}function p0(e,n){if(typeof e!="function")throw Error(l(191,e));e.call(n)}function g0(e,n){var a=e.callbacks;if(a!==null)for(e.callbacks=null,e=0;e<a.length;e++)p0(a[e],n)}var Xo=G(null),ru=G(0);function b0(e,n){e=Ei,q(ru,e),q(Xo,n),Ei=e|n.baseLanes}function Cf(){q(ru,Ei),q(Xo,Xo.current)}function Bf(){Ei=ru.current,F(Xo),F(ru)}var ua=0,Zt=null,ce=null,He=null,iu=!1,Wo=!1,oo=!1,au=0,cl=0,Qo=null,b2=0;function Be(){throw Error(l(321))}function Rf(e,n){if(n===null)return!1;for(var a=0;a<n.length&&a<e.length;a++)if(!Sn(e[a],n[a]))return!1;return!0}function Pf(e,n,a,c,h,g){return ua=g,Zt=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,$.H=e===null||e.memoizedState===null?tg:eg,oo=!1,g=a(c,h),oo=!1,Wo&&(g=y0(n,a,c,h)),v0(e),g}function v0(e){$.H=du;var n=ce!==null&&ce.next!==null;if(ua=0,He=ce=Zt=null,iu=!1,cl=0,Qo=null,n)throw Error(l(300));e===null||We||(e=e.dependencies,e!==null&&Qc(e)&&(We=!0))}function y0(e,n,a,c){Zt=e;var h=0;do{if(Wo&&(Qo=null),cl=0,Wo=!1,25<=h)throw Error(l(301));if(h+=1,He=ce=null,e.updateQueue!=null){var g=e.updateQueue;g.lastEffect=null,g.events=null,g.stores=null,g.memoCache!=null&&(g.memoCache.index=0)}$.H=T2,g=n(a,c)}while(Wo);return g}function v2(){var e=$.H,n=e.useState()[0];return n=typeof n.then=="function"?ul(n):n,e=e.useState()[0],(ce!==null?ce.memoizedState:null)!==e&&(Zt.flags|=1024),n}function zf(){var e=au!==0;return au=0,e}function Hf(e,n,a){n.updateQueue=e.updateQueue,n.flags&=-2053,e.lanes&=~a}function If(e){if(iu){for(e=e.memoizedState;e!==null;){var n=e.queue;n!==null&&(n.pending=null),e=e.next}iu=!1}ua=0,He=ce=Zt=null,Wo=!1,cl=au=0,Qo=null}function Bn(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return He===null?Zt.memoizedState=He=e:He=He.next=e,He}function Ie(){if(ce===null){var e=Zt.alternate;e=e!==null?e.memoizedState:null}else e=ce.next;var n=He===null?Zt.memoizedState:He.next;if(n!==null)He=n,ce=e;else{if(e===null)throw Zt.alternate===null?Error(l(467)):Error(l(310));ce=e,e={memoizedState:ce.memoizedState,baseState:ce.baseState,baseQueue:ce.baseQueue,queue:ce.queue,next:null},He===null?Zt.memoizedState=He=e:He=He.next=e}return He}function $f(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function ul(e){var n=cl;return cl+=1,Qo===null&&(Qo=[]),e=f0(Qo,e,n),n=Zt,(He===null?n.memoizedState:He.next)===null&&(n=n.alternate,$.H=n===null||n.memoizedState===null?tg:eg),e}function ou(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return ul(e);if(e.$$typeof===k)return gn(e)}throw Error(l(438,String(e)))}function Uf(e){var n=null,a=Zt.updateQueue;if(a!==null&&(n=a.memoCache),n==null){var c=Zt.alternate;c!==null&&(c=c.updateQueue,c!==null&&(c=c.memoCache,c!=null&&(n={data:c.data.map(function(h){return h.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),a===null&&(a=$f(),Zt.updateQueue=a),a.memoCache=n,a=n.data[n.index],a===void 0)for(a=n.data[n.index]=Array(e),c=0;c<e;c++)a[c]=et;return n.index++,a}function yi(e,n){return typeof n=="function"?n(e):n}function su(e){var n=Ie();return Gf(n,ce,e)}function Gf(e,n,a){var c=e.queue;if(c===null)throw Error(l(311));c.lastRenderedReducer=a;var h=e.baseQueue,g=c.pending;if(g!==null){if(h!==null){var M=h.next;h.next=g.next,g.next=M}n.baseQueue=h=g,c.pending=null}if(g=e.baseState,h===null)e.memoizedState=g;else{n=h.next;var C=M=null,Y=null,ct=n,pt=!1;do{var yt=ct.lane&-536870913;if(yt!==ct.lane?(Jt&yt)===yt:(ua&yt)===yt){var ut=ct.revertLane;if(ut===0)Y!==null&&(Y=Y.next={lane:0,revertLane:0,action:ct.action,hasEagerState:ct.hasEagerState,eagerState:ct.eagerState,next:null}),yt===Ko&&(pt=!0);else if((ua&ut)===ut){ct=ct.next,ut===Ko&&(pt=!0);continue}else yt={lane:0,revertLane:ct.revertLane,action:ct.action,hasEagerState:ct.hasEagerState,eagerState:ct.eagerState,next:null},Y===null?(C=Y=yt,M=g):Y=Y.next=yt,Zt.lanes|=ut,ba|=ut;yt=ct.action,oo&&a(g,yt),g=ct.hasEagerState?ct.eagerState:a(g,yt)}else ut={lane:yt,revertLane:ct.revertLane,action:ct.action,hasEagerState:ct.hasEagerState,eagerState:ct.eagerState,next:null},Y===null?(C=Y=ut,M=g):Y=Y.next=ut,Zt.lanes|=yt,ba|=yt;ct=ct.next}while(ct!==null&&ct!==n);if(Y===null?M=g:Y.next=C,!Sn(g,e.memoizedState)&&(We=!0,pt&&(a=Fo,a!==null)))throw a;e.memoizedState=g,e.baseState=M,e.baseQueue=Y,c.lastRenderedState=g}return h===null&&(c.lanes=0),[e.memoizedState,c.dispatch]}function Zf(e){var n=Ie(),a=n.queue;if(a===null)throw Error(l(311));a.lastRenderedReducer=e;var c=a.dispatch,h=a.pending,g=n.memoizedState;if(h!==null){a.pending=null;var M=h=h.next;do g=e(g,M.action),M=M.next;while(M!==h);Sn(g,n.memoizedState)||(We=!0),n.memoizedState=g,n.baseQueue===null&&(n.baseState=g),a.lastRenderedState=g}return[g,c]}function _0(e,n,a){var c=Zt,h=Ie(),g=Ht;if(g){if(a===void 0)throw Error(l(407));a=a()}else a=n();var M=!Sn((ce||h).memoizedState,a);M&&(h.memoizedState=a,We=!0),h=h.queue;var C=w0.bind(null,c,h,e);if(dl(2048,8,C,[e]),h.getSnapshot!==n||M||He!==null&&He.memoizedState.tag&1){if(c.flags|=2048,Jo(9,lu(),S0.bind(null,c,h,a,n),null),ye===null)throw Error(l(349));g||(ua&124)!==0||x0(c,n,a)}return a}function x0(e,n,a){e.flags|=16384,e={getSnapshot:n,value:a},n=Zt.updateQueue,n===null?(n=$f(),Zt.updateQueue=n,n.stores=[e]):(a=n.stores,a===null?n.stores=[e]:a.push(e))}function S0(e,n,a,c){n.value=a,n.getSnapshot=c,T0(n)&&E0(e)}function w0(e,n,a){return a(function(){T0(n)&&E0(e)})}function T0(e){var n=e.getSnapshot;e=e.value;try{var a=n();return!Sn(e,a)}catch{return!0}}function E0(e){var n=ra(e,2);n!==null&&Qn(n,e,2)}function Yf(e){var n=Bn();if(typeof e=="function"){var a=e;if(e=a(),oo){In(!0);try{a()}finally{In(!1)}}}return n.memoizedState=n.baseState=e,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:yi,lastRenderedState:e},n}function M0(e,n,a,c){return e.baseState=a,Gf(e,ce,typeof c=="function"?c:yi)}function y2(e,n,a,c,h){if(uu(e))throw Error(l(485));if(e=n.action,e!==null){var g={payload:h,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(M){g.listeners.push(M)}};$.T!==null?a(!0):g.isTransition=!1,c(g),a=n.pending,a===null?(g.next=n.pending=g,D0(n,g)):(g.next=a.next,n.pending=a.next=g)}}function D0(e,n){var a=n.action,c=n.payload,h=e.state;if(n.isTransition){var g=$.T,M={};$.T=M;try{var C=a(h,c),Y=$.S;Y!==null&&Y(M,C),A0(e,n,C)}catch(ct){qf(e,n,ct)}finally{$.T=g}}else try{g=a(h,c),A0(e,n,g)}catch(ct){qf(e,n,ct)}}function A0(e,n,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(c){N0(e,n,c)},function(c){return qf(e,n,c)}):N0(e,n,a)}function N0(e,n,a){n.status="fulfilled",n.value=a,O0(n),e.state=a,n=e.pending,n!==null&&(a=n.next,a===n?e.pending=null:(a=a.next,n.next=a,D0(e,a)))}function qf(e,n,a){var c=e.pending;if(e.pending=null,c!==null){c=c.next;do n.status="rejected",n.reason=a,O0(n),n=n.next;while(n!==c)}e.action=null}function O0(e){e=e.listeners;for(var n=0;n<e.length;n++)(0,e[n])()}function j0(e,n){return n}function k0(e,n){if(Ht){var a=ye.formState;if(a!==null){t:{var c=Zt;if(Ht){if(Nt){e:{for(var h=Nt,g=Ne;h.nodeType!==8;){if(!g){h=null;break e}if(h=Dr(h.nextSibling),h===null){h=null;break e}}g=h.data,h=g==="F!"||g==="F"?h:null}if(h){Nt=Dr(h.nextSibling),c=h.data==="F!";break t}}Cn(c)}c=!1}c&&(n=a[0])}}return a=Bn(),a.memoizedState=a.baseState=n,c={pending:null,lanes:0,dispatch:null,lastRenderedReducer:j0,lastRenderedState:n},a.queue=c,a=W0.bind(null,Zt,c),c.dispatch=a,c=Yf(!1),g=Wf.bind(null,Zt,!1,c.queue),c=Bn(),h={state:n,dispatch:null,action:e,pending:null},c.queue=h,a=y2.bind(null,Zt,h,g,a),h.dispatch=a,c.memoizedState=e,[n,a,!1]}function L0(e){var n=Ie();return C0(n,ce,e)}function C0(e,n,a){if(n=Gf(e,n,j0)[0],e=su(yi)[0],typeof n=="object"&&n!==null&&typeof n.then=="function")try{var c=ul(n)}catch(M){throw M===il?eu:M}else c=n;n=Ie();var h=n.queue,g=h.dispatch;return a!==n.memoizedState&&(Zt.flags|=2048,Jo(9,lu(),_2.bind(null,h,a),null)),[c,g,e]}function _2(e,n){e.action=n}function B0(e){var n=Ie(),a=ce;if(a!==null)return C0(n,a,e);Ie(),n=n.memoizedState,a=Ie();var c=a.queue.dispatch;return a.memoizedState=e,[n,c,!1]}function Jo(e,n,a,c){return e={tag:e,create:a,deps:c,inst:n,next:null},n=Zt.updateQueue,n===null&&(n=$f(),Zt.updateQueue=n),a=n.lastEffect,a===null?n.lastEffect=e.next=e:(c=a.next,a.next=e,e.next=c,n.lastEffect=e),e}function lu(){return{destroy:void 0,resource:void 0}}function R0(){return Ie().memoizedState}function cu(e,n,a,c){var h=Bn();c=c===void 0?null:c,Zt.flags|=e,h.memoizedState=Jo(1|n,lu(),a,c)}function dl(e,n,a,c){var h=Ie();c=c===void 0?null:c;var g=h.memoizedState.inst;ce!==null&&c!==null&&Rf(c,ce.memoizedState.deps)?h.memoizedState=Jo(n,g,a,c):(Zt.flags|=e,h.memoizedState=Jo(1|n,g,a,c))}function P0(e,n){cu(8390656,8,e,n)}function z0(e,n){dl(2048,8,e,n)}function H0(e,n){return dl(4,2,e,n)}function I0(e,n){return dl(4,4,e,n)}function $0(e,n){if(typeof n=="function"){e=e();var a=n(e);return function(){typeof a=="function"?a():n(null)}}if(n!=null)return e=e(),n.current=e,function(){n.current=null}}function U0(e,n,a){a=a!=null?a.concat([e]):null,dl(4,4,$0.bind(null,n,e),a)}function Vf(){}function G0(e,n){var a=Ie();n=n===void 0?null:n;var c=a.memoizedState;return n!==null&&Rf(n,c[1])?c[0]:(a.memoizedState=[e,n],e)}function Z0(e,n){var a=Ie();n=n===void 0?null:n;var c=a.memoizedState;if(n!==null&&Rf(n,c[1]))return c[0];if(c=e(),oo){In(!0);try{e()}finally{In(!1)}}return a.memoizedState=[c,n],c}function Kf(e,n,a){return a===void 0||(ua&1073741824)!==0?e.memoizedState=n:(e.memoizedState=a,e=Vg(),Zt.lanes|=e,ba|=e,a)}function Y0(e,n,a,c){return Sn(a,n)?a:Xo.current!==null?(e=Kf(e,a,c),Sn(e,n)||(We=!0),e):(ua&42)===0?(We=!0,e.memoizedState=a):(e=Vg(),Zt.lanes|=e,ba|=e,n)}function q0(e,n,a,c,h){var g=it.p;it.p=g!==0&&8>g?g:8;var M=$.T,C={};$.T=C,Wf(e,!1,n,a);try{var Y=h(),ct=$.S;if(ct!==null&&ct(C,Y),Y!==null&&typeof Y=="object"&&typeof Y.then=="function"){var pt=g2(Y,c);fl(e,n,pt,Wn(e))}else fl(e,n,c,Wn(e))}catch(yt){fl(e,n,{then:function(){},status:"rejected",reason:yt},Wn())}finally{it.p=g,$.T=M}}function x2(){}function Ff(e,n,a,c){if(e.tag!==5)throw Error(l(476));var h=V0(e).queue;q0(e,h,n,ot,a===null?x2:function(){return K0(e),a(c)})}function V0(e){var n=e.memoizedState;if(n!==null)return n;n={memoizedState:ot,baseState:ot,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:yi,lastRenderedState:ot},next:null};var a={};return n.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:yi,lastRenderedState:a},next:null},e.memoizedState=n,e=e.alternate,e!==null&&(e.memoizedState=n),n}function K0(e){var n=V0(e).next.queue;fl(e,n,{},Wn())}function Xf(){return gn(Ol)}function F0(){return Ie().memoizedState}function X0(){return Ie().memoizedState}function S2(e){for(var n=e.return;n!==null;){switch(n.tag){case 24:case 3:var a=Wn();e=la(a);var c=ca(n,e,a);c!==null&&(Qn(c,n,a),ol(c,n,a)),n={cache:Mf()},e.payload=n;return}n=n.return}}function w2(e,n,a){var c=Wn();a={lane:c,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null},uu(e)?Q0(n,a):(a=gi(e,n,a,c),a!==null&&(Qn(a,e,c),J0(a,n,c)))}function W0(e,n,a){var c=Wn();fl(e,n,a,c)}function fl(e,n,a,c){var h={lane:c,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null};if(uu(e))Q0(n,h);else{var g=e.alternate;if(e.lanes===0&&(g===null||g.lanes===0)&&(g=n.lastRenderedReducer,g!==null))try{var M=n.lastRenderedState,C=g(M,a);if(h.hasEagerState=!0,h.eagerState=C,Sn(C,M))return Qa(e,n,h,0),ye===null&&Wa(),!1}catch{}finally{}if(a=gi(e,n,h,c),a!==null)return Qn(a,e,c),J0(a,n,c),!0}return!1}function Wf(e,n,a,c){if(c={lane:2,revertLane:Nh(),action:c,hasEagerState:!1,eagerState:null,next:null},uu(e)){if(n)throw Error(l(479))}else n=gi(e,a,c,2),n!==null&&Qn(n,e,2)}function uu(e){var n=e.alternate;return e===Zt||n!==null&&n===Zt}function Q0(e,n){Wo=iu=!0;var a=e.pending;a===null?n.next=n:(n.next=a.next,a.next=n),e.pending=n}function J0(e,n,a){if((a&4194048)!==0){var c=n.lanes;c&=e.pendingLanes,a|=c,n.lanes=a,wc(e,a)}}var du={readContext:gn,use:ou,useCallback:Be,useContext:Be,useEffect:Be,useImperativeHandle:Be,useLayoutEffect:Be,useInsertionEffect:Be,useMemo:Be,useReducer:Be,useRef:Be,useState:Be,useDebugValue:Be,useDeferredValue:Be,useTransition:Be,useSyncExternalStore:Be,useId:Be,useHostTransitionStatus:Be,useFormState:Be,useActionState:Be,useOptimistic:Be,useMemoCache:Be,useCacheRefresh:Be},tg={readContext:gn,use:ou,useCallback:function(e,n){return Bn().memoizedState=[e,n===void 0?null:n],e},useContext:gn,useEffect:P0,useImperativeHandle:function(e,n,a){a=a!=null?a.concat([e]):null,cu(4194308,4,$0.bind(null,n,e),a)},useLayoutEffect:function(e,n){return cu(4194308,4,e,n)},useInsertionEffect:function(e,n){cu(4,2,e,n)},useMemo:function(e,n){var a=Bn();n=n===void 0?null:n;var c=e();if(oo){In(!0);try{e()}finally{In(!1)}}return a.memoizedState=[c,n],c},useReducer:function(e,n,a){var c=Bn();if(a!==void 0){var h=a(n);if(oo){In(!0);try{a(n)}finally{In(!1)}}}else h=n;return c.memoizedState=c.baseState=h,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:h},c.queue=e,e=e.dispatch=w2.bind(null,Zt,e),[c.memoizedState,e]},useRef:function(e){var n=Bn();return e={current:e},n.memoizedState=e},useState:function(e){e=Yf(e);var n=e.queue,a=W0.bind(null,Zt,n);return n.dispatch=a,[e.memoizedState,a]},useDebugValue:Vf,useDeferredValue:function(e,n){var a=Bn();return Kf(a,e,n)},useTransition:function(){var e=Yf(!1);return e=q0.bind(null,Zt,e.queue,!0,!1),Bn().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,n,a){var c=Zt,h=Bn();if(Ht){if(a===void 0)throw Error(l(407));a=a()}else{if(a=n(),ye===null)throw Error(l(349));(Jt&124)!==0||x0(c,n,a)}h.memoizedState=a;var g={value:a,getSnapshot:n};return h.queue=g,P0(w0.bind(null,c,g,e),[e]),c.flags|=2048,Jo(9,lu(),S0.bind(null,c,g,a,n),null),a},useId:function(){var e=Bn(),n=ye.identifierPrefix;if(Ht){var a=Z,c=N;a=(c&~(1<<32-_n(c)-1)).toString(32)+a,n="«"+n+"R"+a,a=au++,0<a&&(n+="H"+a.toString(32)),n+="»"}else a=b2++,n="«"+n+"r"+a.toString(32)+"»";return e.memoizedState=n},useHostTransitionStatus:Xf,useFormState:k0,useActionState:k0,useOptimistic:function(e){var n=Bn();n.memoizedState=n.baseState=e;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=a,n=Wf.bind(null,Zt,!0,a),a.dispatch=n,[e,n]},useMemoCache:Uf,useCacheRefresh:function(){return Bn().memoizedState=S2.bind(null,Zt)}},eg={readContext:gn,use:ou,useCallback:G0,useContext:gn,useEffect:z0,useImperativeHandle:U0,useInsertionEffect:H0,useLayoutEffect:I0,useMemo:Z0,useReducer:su,useRef:R0,useState:function(){return su(yi)},useDebugValue:Vf,useDeferredValue:function(e,n){var a=Ie();return Y0(a,ce.memoizedState,e,n)},useTransition:function(){var e=su(yi)[0],n=Ie().memoizedState;return[typeof e=="boolean"?e:ul(e),n]},useSyncExternalStore:_0,useId:F0,useHostTransitionStatus:Xf,useFormState:L0,useActionState:L0,useOptimistic:function(e,n){var a=Ie();return M0(a,ce,e,n)},useMemoCache:Uf,useCacheRefresh:X0},T2={readContext:gn,use:ou,useCallback:G0,useContext:gn,useEffect:z0,useImperativeHandle:U0,useInsertionEffect:H0,useLayoutEffect:I0,useMemo:Z0,useReducer:Zf,useRef:R0,useState:function(){return Zf(yi)},useDebugValue:Vf,useDeferredValue:function(e,n){var a=Ie();return ce===null?Kf(a,e,n):Y0(a,ce.memoizedState,e,n)},useTransition:function(){var e=Zf(yi)[0],n=Ie().memoizedState;return[typeof e=="boolean"?e:ul(e),n]},useSyncExternalStore:_0,useId:F0,useHostTransitionStatus:Xf,useFormState:B0,useActionState:B0,useOptimistic:function(e,n){var a=Ie();return ce!==null?M0(a,ce,e,n):(a.baseState=e,[e,a.queue.dispatch])},useMemoCache:Uf,useCacheRefresh:X0},ts=null,hl=0;function fu(e){var n=hl;return hl+=1,ts===null&&(ts=[]),f0(ts,e,n)}function ml(e,n){n=n.props.ref,e.ref=n!==void 0?n:null}function hu(e,n){throw n.$$typeof===S?Error(l(525)):(e=Object.prototype.toString.call(n),Error(l(31,e==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":e)))}function ng(e){var n=e._init;return n(e._payload)}function rg(e){function n(nt,X){if(e){var st=nt.deletions;st===null?(nt.deletions=[X],nt.flags|=16):st.push(X)}}function a(nt,X){if(!e)return null;for(;X!==null;)n(nt,X),X=X.sibling;return null}function c(nt){for(var X=new Map;nt!==null;)nt.key!==null?X.set(nt.key,nt):X.set(nt.index,nt),nt=nt.sibling;return X}function h(nt,X){return nt=cr(nt,X),nt.index=0,nt.sibling=null,nt}function g(nt,X,st){return nt.index=st,e?(st=nt.alternate,st!==null?(st=st.index,st<X?(nt.flags|=67108866,X):st):(nt.flags|=67108866,X)):(nt.flags|=1048576,X)}function M(nt){return e&&nt.alternate===null&&(nt.flags|=67108866),nt}function C(nt,X,st,gt){return X===null||X.tag!==6?(X=el(st,nt.mode,gt),X.return=nt,X):(X=h(X,st),X.return=nt,X)}function Y(nt,X,st,gt){var At=st.type;return At===A?pt(nt,X,st.props.children,gt,st.key):X!==null&&(X.elementType===At||typeof At=="object"&&At!==null&&At.$$typeof===W&&ng(At)===X.type)?(X=h(X,st.props),ml(X,st),X.return=nt,X):(X=to(st.type,st.key,st.props,null,nt.mode,gt),ml(X,st),X.return=nt,X)}function ct(nt,X,st,gt){return X===null||X.tag!==4||X.stateNode.containerInfo!==st.containerInfo||X.stateNode.implementation!==st.implementation?(X=qo(st,nt.mode,gt),X.return=nt,X):(X=h(X,st.children||[]),X.return=nt,X)}function pt(nt,X,st,gt,At){return X===null||X.tag!==7?(X=Ur(st,nt.mode,gt,At),X.return=nt,X):(X=h(X,st),X.return=nt,X)}function yt(nt,X,st){if(typeof X=="string"&&X!==""||typeof X=="number"||typeof X=="bigint")return X=el(""+X,nt.mode,st),X.return=nt,X;if(typeof X=="object"&&X!==null){switch(X.$$typeof){case x:return st=to(X.type,X.key,X.props,null,nt.mode,st),ml(st,X),st.return=nt,st;case E:return X=qo(X,nt.mode,st),X.return=nt,X;case W:var gt=X._init;return X=gt(X._payload),yt(nt,X,st)}if(vt(X)||U(X))return X=Ur(X,nt.mode,st,null),X.return=nt,X;if(typeof X.then=="function")return yt(nt,fu(X),st);if(X.$$typeof===k)return yt(nt,Jc(nt,X),st);hu(nt,X)}return null}function ut(nt,X,st,gt){var At=X!==null?X.key:null;if(typeof st=="string"&&st!==""||typeof st=="number"||typeof st=="bigint")return At!==null?null:C(nt,X,""+st,gt);if(typeof st=="object"&&st!==null){switch(st.$$typeof){case x:return st.key===At?Y(nt,X,st,gt):null;case E:return st.key===At?ct(nt,X,st,gt):null;case W:return At=st._init,st=At(st._payload),ut(nt,X,st,gt)}if(vt(st)||U(st))return At!==null?null:pt(nt,X,st,gt,null);if(typeof st.then=="function")return ut(nt,X,fu(st),gt);if(st.$$typeof===k)return ut(nt,X,Jc(nt,st),gt);hu(nt,st)}return null}function dt(nt,X,st,gt,At){if(typeof gt=="string"&&gt!==""||typeof gt=="number"||typeof gt=="bigint")return nt=nt.get(st)||null,C(X,nt,""+gt,At);if(typeof gt=="object"&&gt!==null){switch(gt.$$typeof){case x:return nt=nt.get(gt.key===null?st:gt.key)||null,Y(X,nt,gt,At);case E:return nt=nt.get(gt.key===null?st:gt.key)||null,ct(X,nt,gt,At);case W:var qt=gt._init;return gt=qt(gt._payload),dt(nt,X,st,gt,At)}if(vt(gt)||U(gt))return nt=nt.get(st)||null,pt(X,nt,gt,At,null);if(typeof gt.then=="function")return dt(nt,X,st,fu(gt),At);if(gt.$$typeof===k)return dt(nt,X,st,Jc(X,gt),At);hu(X,gt)}return null}function zt(nt,X,st,gt){for(var At=null,qt=null,kt=X,Rt=X=0,Je=null;kt!==null&&Rt<st.length;Rt++){kt.index>Rt?(Je=kt,kt=null):Je=kt.sibling;var ne=ut(nt,kt,st[Rt],gt);if(ne===null){kt===null&&(kt=Je);break}e&&kt&&ne.alternate===null&&n(nt,kt),X=g(ne,X,Rt),qt===null?At=ne:qt.sibling=ne,qt=ne,kt=Je}if(Rt===st.length)return a(nt,kt),Ht&&at(nt,Rt),At;if(kt===null){for(;Rt<st.length;Rt++)kt=yt(nt,st[Rt],gt),kt!==null&&(X=g(kt,X,Rt),qt===null?At=kt:qt.sibling=kt,qt=kt);return Ht&&at(nt,Rt),At}for(kt=c(kt);Rt<st.length;Rt++)Je=dt(kt,nt,Rt,st[Rt],gt),Je!==null&&(e&&Je.alternate!==null&&kt.delete(Je.key===null?Rt:Je.key),X=g(Je,X,Rt),qt===null?At=Je:qt.sibling=Je,qt=Je);return e&&kt.forEach(function(Ma){return n(nt,Ma)}),Ht&&at(nt,Rt),At}function Ct(nt,X,st,gt){if(st==null)throw Error(l(151));for(var At=null,qt=null,kt=X,Rt=X=0,Je=null,ne=st.next();kt!==null&&!ne.done;Rt++,ne=st.next()){kt.index>Rt?(Je=kt,kt=null):Je=kt.sibling;var Ma=ut(nt,kt,ne.value,gt);if(Ma===null){kt===null&&(kt=Je);break}e&&kt&&Ma.alternate===null&&n(nt,kt),X=g(Ma,X,Rt),qt===null?At=Ma:qt.sibling=Ma,qt=Ma,kt=Je}if(ne.done)return a(nt,kt),Ht&&at(nt,Rt),At;if(kt===null){for(;!ne.done;Rt++,ne=st.next())ne=yt(nt,ne.value,gt),ne!==null&&(X=g(ne,X,Rt),qt===null?At=ne:qt.sibling=ne,qt=ne);return Ht&&at(nt,Rt),At}for(kt=c(kt);!ne.done;Rt++,ne=st.next())ne=dt(kt,nt,Rt,ne.value,gt),ne!==null&&(e&&ne.alternate!==null&&kt.delete(ne.key===null?Rt:ne.key),X=g(ne,X,Rt),qt===null?At=ne:qt.sibling=ne,qt=ne);return e&&kt.forEach(function(ES){return n(nt,ES)}),Ht&&at(nt,Rt),At}function de(nt,X,st,gt){if(typeof st=="object"&&st!==null&&st.type===A&&st.key===null&&(st=st.props.children),typeof st=="object"&&st!==null){switch(st.$$typeof){case x:t:{for(var At=st.key;X!==null;){if(X.key===At){if(At=st.type,At===A){if(X.tag===7){a(nt,X.sibling),gt=h(X,st.props.children),gt.return=nt,nt=gt;break t}}else if(X.elementType===At||typeof At=="object"&&At!==null&&At.$$typeof===W&&ng(At)===X.type){a(nt,X.sibling),gt=h(X,st.props),ml(gt,st),gt.return=nt,nt=gt;break t}a(nt,X);break}else n(nt,X);X=X.sibling}st.type===A?(gt=Ur(st.props.children,nt.mode,gt,st.key),gt.return=nt,nt=gt):(gt=to(st.type,st.key,st.props,null,nt.mode,gt),ml(gt,st),gt.return=nt,nt=gt)}return M(nt);case E:t:{for(At=st.key;X!==null;){if(X.key===At)if(X.tag===4&&X.stateNode.containerInfo===st.containerInfo&&X.stateNode.implementation===st.implementation){a(nt,X.sibling),gt=h(X,st.children||[]),gt.return=nt,nt=gt;break t}else{a(nt,X);break}else n(nt,X);X=X.sibling}gt=qo(st,nt.mode,gt),gt.return=nt,nt=gt}return M(nt);case W:return At=st._init,st=At(st._payload),de(nt,X,st,gt)}if(vt(st))return zt(nt,X,st,gt);if(U(st)){if(At=U(st),typeof At!="function")throw Error(l(150));return st=At.call(st),Ct(nt,X,st,gt)}if(typeof st.then=="function")return de(nt,X,fu(st),gt);if(st.$$typeof===k)return de(nt,X,Jc(nt,st),gt);hu(nt,st)}return typeof st=="string"&&st!==""||typeof st=="number"||typeof st=="bigint"?(st=""+st,X!==null&&X.tag===6?(a(nt,X.sibling),gt=h(X,st),gt.return=nt,nt=gt):(a(nt,X),gt=el(st,nt.mode,gt),gt.return=nt,nt=gt),M(nt)):a(nt,X)}return function(nt,X,st,gt){try{hl=0;var At=de(nt,X,st,gt);return ts=null,At}catch(kt){if(kt===il||kt===eu)throw kt;var qt=Mn(29,kt,null,nt.mode);return qt.lanes=gt,qt.return=nt,qt}finally{}}}var es=rg(!0),ig=rg(!1),dr=G(null),Zr=null;function da(e){var n=e.alternate;q(Ge,Ge.current&1),q(dr,e),Zr===null&&(n===null||Xo.current!==null||n.memoizedState!==null)&&(Zr=e)}function ag(e){if(e.tag===22){if(q(Ge,Ge.current),q(dr,e),Zr===null){var n=e.alternate;n!==null&&n.memoizedState!==null&&(Zr=e)}}else fa()}function fa(){q(Ge,Ge.current),q(dr,dr.current)}function _i(e){F(dr),Zr===e&&(Zr=null),F(Ge)}var Ge=G(0);function mu(e){for(var n=e;n!==null;){if(n.tag===13){var a=n.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||a.data==="$?"||$h(a)))return n}else if(n.tag===19&&n.memoizedProps.revealOrder!==void 0){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}function Qf(e,n,a,c){n=e.memoizedState,a=a(c,n),a=a==null?n:w({},n,a),e.memoizedState=a,e.lanes===0&&(e.updateQueue.baseState=a)}var Jf={enqueueSetState:function(e,n,a){e=e._reactInternals;var c=Wn(),h=la(c);h.payload=n,a!=null&&(h.callback=a),n=ca(e,h,c),n!==null&&(Qn(n,e,c),ol(n,e,c))},enqueueReplaceState:function(e,n,a){e=e._reactInternals;var c=Wn(),h=la(c);h.tag=1,h.payload=n,a!=null&&(h.callback=a),n=ca(e,h,c),n!==null&&(Qn(n,e,c),ol(n,e,c))},enqueueForceUpdate:function(e,n){e=e._reactInternals;var a=Wn(),c=la(a);c.tag=2,n!=null&&(c.callback=n),n=ca(e,c,a),n!==null&&(Qn(n,e,a),ol(n,e,a))}};function og(e,n,a,c,h,g,M){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(c,g,M):n.prototype&&n.prototype.isPureReactComponent?!wn(a,c)||!wn(h,g):!0}function sg(e,n,a,c){e=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(a,c),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(a,c),n.state!==e&&Jf.enqueueReplaceState(n,n.state,null)}function so(e,n){var a=n;if("ref"in n){a={};for(var c in n)c!=="ref"&&(a[c]=n[c])}if(e=e.defaultProps){a===n&&(a=w({},a));for(var h in e)a[h]===void 0&&(a[h]=e[h])}return a}var pu=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)};function lg(e){pu(e)}function cg(e){console.error(e)}function ug(e){pu(e)}function gu(e,n){try{var a=e.onUncaughtError;a(n.value,{componentStack:n.stack})}catch(c){setTimeout(function(){throw c})}}function dg(e,n,a){try{var c=e.onCaughtError;c(a.value,{componentStack:a.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function th(e,n,a){return a=la(a),a.tag=3,a.payload={element:null},a.callback=function(){gu(e,n)},a}function fg(e){return e=la(e),e.tag=3,e}function hg(e,n,a,c){var h=a.type.getDerivedStateFromError;if(typeof h=="function"){var g=c.value;e.payload=function(){return h(g)},e.callback=function(){dg(n,a,c)}}var M=a.stateNode;M!==null&&typeof M.componentDidCatch=="function"&&(e.callback=function(){dg(n,a,c),typeof h!="function"&&(va===null?va=new Set([this]):va.add(this));var C=c.stack;this.componentDidCatch(c.value,{componentStack:C!==null?C:""})})}function E2(e,n,a,c,h){if(a.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){if(n=a.alternate,n!==null&&ro(n,a,h,!0),a=dr.current,a!==null){switch(a.tag){case 13:return Zr===null?Th():a.alternate===null&&Ce===0&&(Ce=3),a.flags&=-257,a.flags|=65536,a.lanes=h,c===Nf?a.flags|=16384:(n=a.updateQueue,n===null?a.updateQueue=new Set([c]):n.add(c),Mh(e,c,h)),!1;case 22:return a.flags|=65536,c===Nf?a.flags|=16384:(n=a.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([c])},a.updateQueue=n):(a=n.retryQueue,a===null?n.retryQueue=new Set([c]):a.add(c)),Mh(e,c,h)),!1}throw Error(l(435,a.tag))}return Mh(e,c,h),Th(),!1}if(Ht)return n=dr.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=h,c!==Xe&&(e=Error(l(422),{cause:c}),oa(Tn(e,a)))):(c!==Xe&&(n=Error(l(423),{cause:c}),oa(Tn(n,a))),e=e.current.alternate,e.flags|=65536,h&=-h,e.lanes|=h,c=Tn(c,a),h=th(e.stateNode,c,h),kf(e,h),Ce!==4&&(Ce=2)),!1;var g=Error(l(520),{cause:c});if(g=Tn(g,a),xl===null?xl=[g]:xl.push(g),Ce!==4&&(Ce=2),n===null)return!0;c=Tn(c,a),a=n;do{switch(a.tag){case 3:return a.flags|=65536,e=h&-h,a.lanes|=e,e=th(a.stateNode,c,e),kf(a,e),!1;case 1:if(n=a.type,g=a.stateNode,(a.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||g!==null&&typeof g.componentDidCatch=="function"&&(va===null||!va.has(g))))return a.flags|=65536,h&=-h,a.lanes|=h,h=fg(h),hg(h,e,a,c),kf(a,h),!1}a=a.return}while(a!==null);return!1}var mg=Error(l(461)),We=!1;function sn(e,n,a,c){n.child=e===null?ig(n,null,a,c):es(n,e.child,a,c)}function pg(e,n,a,c,h){a=a.render;var g=n.ref;if("ref"in c){var M={};for(var C in c)C!=="ref"&&(M[C]=c[C])}else M=c;return io(n),c=Pf(e,n,a,M,g,h),C=zf(),e!==null&&!We?(Hf(e,n,h),xi(e,n,h)):(Ht&&C&&_t(n),n.flags|=1,sn(e,n,c,h),n.child)}function gg(e,n,a,c,h){if(e===null){var g=a.type;return typeof g=="function"&&!Yo(g)&&g.defaultProps===void 0&&a.compare===null?(n.tag=15,n.type=g,bg(e,n,g,c,h)):(e=to(a.type,null,c,n,n.mode,h),e.ref=n.ref,e.return=n,n.child=e)}if(g=e.child,!lh(e,h)){var M=g.memoizedProps;if(a=a.compare,a=a!==null?a:wn,a(M,c)&&e.ref===n.ref)return xi(e,n,h)}return n.flags|=1,e=cr(g,c),e.ref=n.ref,e.return=n,n.child=e}function bg(e,n,a,c,h){if(e!==null){var g=e.memoizedProps;if(wn(g,c)&&e.ref===n.ref)if(We=!1,n.pendingProps=c=g,lh(e,h))(e.flags&131072)!==0&&(We=!0);else return n.lanes=e.lanes,xi(e,n,h)}return eh(e,n,a,c,h)}function vg(e,n,a){var c=n.pendingProps,h=c.children,g=e!==null?e.memoizedState:null;if(c.mode==="hidden"){if((n.flags&128)!==0){if(c=g!==null?g.baseLanes|a:a,e!==null){for(h=n.child=e.child,g=0;h!==null;)g=g|h.lanes|h.childLanes,h=h.sibling;n.childLanes=g&~c}else n.childLanes=0,n.child=null;return yg(e,n,c,a)}if((a&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},e!==null&&tu(n,g!==null?g.cachePool:null),g!==null?b0(n,g):Cf(),ag(n);else return n.lanes=n.childLanes=536870912,yg(e,n,g!==null?g.baseLanes|a:a,a)}else g!==null?(tu(n,g.cachePool),b0(n,g),fa(),n.memoizedState=null):(e!==null&&tu(n,null),Cf(),fa());return sn(e,n,h,a),n.child}function yg(e,n,a,c){var h=Af();return h=h===null?null:{parent:Ue._currentValue,pool:h},n.memoizedState={baseLanes:a,cachePool:h},e!==null&&tu(n,null),Cf(),ag(n),e!==null&&ro(e,n,c,!0),null}function bu(e,n){var a=n.ref;if(a===null)e!==null&&e.ref!==null&&(n.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(l(284));(e===null||e.ref!==a)&&(n.flags|=4194816)}}function eh(e,n,a,c,h){return io(n),a=Pf(e,n,a,c,void 0,h),c=zf(),e!==null&&!We?(Hf(e,n,h),xi(e,n,h)):(Ht&&c&&_t(n),n.flags|=1,sn(e,n,a,h),n.child)}function _g(e,n,a,c,h,g){return io(n),n.updateQueue=null,a=y0(n,c,a,h),v0(e),c=zf(),e!==null&&!We?(Hf(e,n,g),xi(e,n,g)):(Ht&&c&&_t(n),n.flags|=1,sn(e,n,a,g),n.child)}function xg(e,n,a,c,h){if(io(n),n.stateNode===null){var g=bi,M=a.contextType;typeof M=="object"&&M!==null&&(g=gn(M)),g=new a(c,g),n.memoizedState=g.state!==null&&g.state!==void 0?g.state:null,g.updater=Jf,n.stateNode=g,g._reactInternals=n,g=n.stateNode,g.props=c,g.state=n.memoizedState,g.refs={},Of(n),M=a.contextType,g.context=typeof M=="object"&&M!==null?gn(M):bi,g.state=n.memoizedState,M=a.getDerivedStateFromProps,typeof M=="function"&&(Qf(n,a,M,c),g.state=n.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof g.getSnapshotBeforeUpdate=="function"||typeof g.UNSAFE_componentWillMount!="function"&&typeof g.componentWillMount!="function"||(M=g.state,typeof g.componentWillMount=="function"&&g.componentWillMount(),typeof g.UNSAFE_componentWillMount=="function"&&g.UNSAFE_componentWillMount(),M!==g.state&&Jf.enqueueReplaceState(g,g.state,null),ll(n,c,g,h),sl(),g.state=n.memoizedState),typeof g.componentDidMount=="function"&&(n.flags|=4194308),c=!0}else if(e===null){g=n.stateNode;var C=n.memoizedProps,Y=so(a,C);g.props=Y;var ct=g.context,pt=a.contextType;M=bi,typeof pt=="object"&&pt!==null&&(M=gn(pt));var yt=a.getDerivedStateFromProps;pt=typeof yt=="function"||typeof g.getSnapshotBeforeUpdate=="function",C=n.pendingProps!==C,pt||typeof g.UNSAFE_componentWillReceiveProps!="function"&&typeof g.componentWillReceiveProps!="function"||(C||ct!==M)&&sg(n,g,c,M),sa=!1;var ut=n.memoizedState;g.state=ut,ll(n,c,g,h),sl(),ct=n.memoizedState,C||ut!==ct||sa?(typeof yt=="function"&&(Qf(n,a,yt,c),ct=n.memoizedState),(Y=sa||og(n,a,Y,c,ut,ct,M))?(pt||typeof g.UNSAFE_componentWillMount!="function"&&typeof g.componentWillMount!="function"||(typeof g.componentWillMount=="function"&&g.componentWillMount(),typeof g.UNSAFE_componentWillMount=="function"&&g.UNSAFE_componentWillMount()),typeof g.componentDidMount=="function"&&(n.flags|=4194308)):(typeof g.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=c,n.memoizedState=ct),g.props=c,g.state=ct,g.context=M,c=Y):(typeof g.componentDidMount=="function"&&(n.flags|=4194308),c=!1)}else{g=n.stateNode,jf(e,n),M=n.memoizedProps,pt=so(a,M),g.props=pt,yt=n.pendingProps,ut=g.context,ct=a.contextType,Y=bi,typeof ct=="object"&&ct!==null&&(Y=gn(ct)),C=a.getDerivedStateFromProps,(ct=typeof C=="function"||typeof g.getSnapshotBeforeUpdate=="function")||typeof g.UNSAFE_componentWillReceiveProps!="function"&&typeof g.componentWillReceiveProps!="function"||(M!==yt||ut!==Y)&&sg(n,g,c,Y),sa=!1,ut=n.memoizedState,g.state=ut,ll(n,c,g,h),sl();var dt=n.memoizedState;M!==yt||ut!==dt||sa||e!==null&&e.dependencies!==null&&Qc(e.dependencies)?(typeof C=="function"&&(Qf(n,a,C,c),dt=n.memoizedState),(pt=sa||og(n,a,pt,c,ut,dt,Y)||e!==null&&e.dependencies!==null&&Qc(e.dependencies))?(ct||typeof g.UNSAFE_componentWillUpdate!="function"&&typeof g.componentWillUpdate!="function"||(typeof g.componentWillUpdate=="function"&&g.componentWillUpdate(c,dt,Y),typeof g.UNSAFE_componentWillUpdate=="function"&&g.UNSAFE_componentWillUpdate(c,dt,Y)),typeof g.componentDidUpdate=="function"&&(n.flags|=4),typeof g.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof g.componentDidUpdate!="function"||M===e.memoizedProps&&ut===e.memoizedState||(n.flags|=4),typeof g.getSnapshotBeforeUpdate!="function"||M===e.memoizedProps&&ut===e.memoizedState||(n.flags|=1024),n.memoizedProps=c,n.memoizedState=dt),g.props=c,g.state=dt,g.context=Y,c=pt):(typeof g.componentDidUpdate!="function"||M===e.memoizedProps&&ut===e.memoizedState||(n.flags|=4),typeof g.getSnapshotBeforeUpdate!="function"||M===e.memoizedProps&&ut===e.memoizedState||(n.flags|=1024),c=!1)}return g=c,bu(e,n),c=(n.flags&128)!==0,g||c?(g=n.stateNode,a=c&&typeof a.getDerivedStateFromError!="function"?null:g.render(),n.flags|=1,e!==null&&c?(n.child=es(n,e.child,null,h),n.child=es(n,null,a,h)):sn(e,n,a,h),n.memoizedState=g.state,e=n.child):e=xi(e,n,h),e}function Sg(e,n,a,c){return aa(),n.flags|=256,sn(e,n,a,c),n.child}var nh={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function rh(e){return{baseLanes:e,cachePool:c0()}}function ih(e,n,a){return e=e!==null?e.childLanes&~a:0,n&&(e|=fr),e}function wg(e,n,a){var c=n.pendingProps,h=!1,g=(n.flags&128)!==0,M;if((M=g)||(M=e!==null&&e.memoizedState===null?!1:(Ge.current&2)!==0),M&&(h=!0,n.flags&=-129),M=(n.flags&32)!==0,n.flags&=-33,e===null){if(Ht){if(h?da(n):fa(),Ht){var C=Nt,Y;if(Y=C){t:{for(Y=C,C=Ne;Y.nodeType!==8;){if(!C){C=null;break t}if(Y=Dr(Y.nextSibling),Y===null){C=null;break t}}C=Y}C!==null?(n.memoizedState={dehydrated:C,treeContext:T!==null?{id:N,overflow:Z}:null,retryLane:536870912,hydrationErrors:null},Y=Mn(18,null,null,0),Y.stateNode=C,Y.return=n,n.child=Y,Dt=n,Nt=null,Y=!0):Y=!1}Y||Cn(n)}if(C=n.memoizedState,C!==null&&(C=C.dehydrated,C!==null))return $h(C)?n.lanes=32:n.lanes=536870912,null;_i(n)}return C=c.children,c=c.fallback,h?(fa(),h=n.mode,C=vu({mode:"hidden",children:C},h),c=Ur(c,h,a,null),C.return=n,c.return=n,C.sibling=c,n.child=C,h=n.child,h.memoizedState=rh(a),h.childLanes=ih(e,M,a),n.memoizedState=nh,c):(da(n),ah(n,C))}if(Y=e.memoizedState,Y!==null&&(C=Y.dehydrated,C!==null)){if(g)n.flags&256?(da(n),n.flags&=-257,n=oh(e,n,a)):n.memoizedState!==null?(fa(),n.child=e.child,n.flags|=128,n=null):(fa(),h=c.fallback,C=n.mode,c=vu({mode:"visible",children:c.children},C),h=Ur(h,C,a,null),h.flags|=2,c.return=n,h.return=n,c.sibling=h,n.child=c,es(n,e.child,null,a),c=n.child,c.memoizedState=rh(a),c.childLanes=ih(e,M,a),n.memoizedState=nh,n=h);else if(da(n),$h(C)){if(M=C.nextSibling&&C.nextSibling.dataset,M)var ct=M.dgst;M=ct,c=Error(l(419)),c.stack="",c.digest=M,oa({value:c,source:null,stack:null}),n=oh(e,n,a)}else if(We||ro(e,n,a,!1),M=(a&e.childLanes)!==0,We||M){if(M=ye,M!==null&&(c=a&-a,c=(c&42)!==0?1:Bs(c),c=(c&(M.suspendedLanes|a))!==0?0:c,c!==0&&c!==Y.retryLane))throw Y.retryLane=c,ra(e,c),Qn(M,e,c),mg;C.data==="$?"||Th(),n=oh(e,n,a)}else C.data==="$?"?(n.flags|=192,n.child=e.child,n=null):(e=Y.treeContext,Nt=Dr(C.nextSibling),Dt=n,Ht=!0,ve=null,Ne=!1,e!==null&&(f[_++]=N,f[_++]=Z,f[_++]=T,N=e.id,Z=e.overflow,T=n),n=ah(n,c.children),n.flags|=4096);return n}return h?(fa(),h=c.fallback,C=n.mode,Y=e.child,ct=Y.sibling,c=cr(Y,{mode:"hidden",children:c.children}),c.subtreeFlags=Y.subtreeFlags&65011712,ct!==null?h=cr(ct,h):(h=Ur(h,C,a,null),h.flags|=2),h.return=n,c.return=n,c.sibling=h,n.child=c,c=h,h=n.child,C=e.child.memoizedState,C===null?C=rh(a):(Y=C.cachePool,Y!==null?(ct=Ue._currentValue,Y=Y.parent!==ct?{parent:ct,pool:ct}:Y):Y=c0(),C={baseLanes:C.baseLanes|a,cachePool:Y}),h.memoizedState=C,h.childLanes=ih(e,M,a),n.memoizedState=nh,c):(da(n),a=e.child,e=a.sibling,a=cr(a,{mode:"visible",children:c.children}),a.return=n,a.sibling=null,e!==null&&(M=n.deletions,M===null?(n.deletions=[e],n.flags|=16):M.push(e)),n.child=a,n.memoizedState=null,a)}function ah(e,n){return n=vu({mode:"visible",children:n},e.mode),n.return=e,e.child=n}function vu(e,n){return e=Mn(22,e,null,n),e.lanes=0,e.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},e}function oh(e,n,a){return es(n,e.child,null,a),e=ah(n,n.pendingProps.children),e.flags|=2,n.memoizedState=null,e}function Tg(e,n,a){e.lanes|=n;var c=e.alternate;c!==null&&(c.lanes|=n),no(e.return,n,a)}function sh(e,n,a,c,h){var g=e.memoizedState;g===null?e.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:c,tail:a,tailMode:h}:(g.isBackwards=n,g.rendering=null,g.renderingStartTime=0,g.last=c,g.tail=a,g.tailMode=h)}function Eg(e,n,a){var c=n.pendingProps,h=c.revealOrder,g=c.tail;if(sn(e,n,c.children,a),c=Ge.current,(c&2)!==0)c=c&1|2,n.flags|=128;else{if(e!==null&&(e.flags&128)!==0)t:for(e=n.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Tg(e,a,n);else if(e.tag===19)Tg(e,a,n);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===n)break t;for(;e.sibling===null;){if(e.return===null||e.return===n)break t;e=e.return}e.sibling.return=e.return,e=e.sibling}c&=1}switch(q(Ge,c),h){case"forwards":for(a=n.child,h=null;a!==null;)e=a.alternate,e!==null&&mu(e)===null&&(h=a),a=a.sibling;a=h,a===null?(h=n.child,n.child=null):(h=a.sibling,a.sibling=null),sh(n,!1,h,a,g);break;case"backwards":for(a=null,h=n.child,n.child=null;h!==null;){if(e=h.alternate,e!==null&&mu(e)===null){n.child=h;break}e=h.sibling,h.sibling=a,a=h,h=e}sh(n,!0,a,null,g);break;case"together":sh(n,!1,null,null,void 0);break;default:n.memoizedState=null}return n.child}function xi(e,n,a){if(e!==null&&(n.dependencies=e.dependencies),ba|=n.lanes,(a&n.childLanes)===0)if(e!==null){if(ro(e,n,a,!1),(a&n.childLanes)===0)return null}else return null;if(e!==null&&n.child!==e.child)throw Error(l(153));if(n.child!==null){for(e=n.child,a=cr(e,e.pendingProps),n.child=a,a.return=n;e.sibling!==null;)e=e.sibling,a=a.sibling=cr(e,e.pendingProps),a.return=n;a.sibling=null}return n.child}function lh(e,n){return(e.lanes&n)!==0?!0:(e=e.dependencies,!!(e!==null&&Qc(e)))}function M2(e,n,a){switch(n.tag){case 3:bt(n,n.stateNode.containerInfo),Gr(n,Ue,e.memoizedState.cache),aa();break;case 27:case 5:$t(n);break;case 4:bt(n,n.stateNode.containerInfo);break;case 10:Gr(n,n.type,n.memoizedProps.value);break;case 13:var c=n.memoizedState;if(c!==null)return c.dehydrated!==null?(da(n),n.flags|=128,null):(a&n.child.childLanes)!==0?wg(e,n,a):(da(n),e=xi(e,n,a),e!==null?e.sibling:null);da(n);break;case 19:var h=(e.flags&128)!==0;if(c=(a&n.childLanes)!==0,c||(ro(e,n,a,!1),c=(a&n.childLanes)!==0),h){if(c)return Eg(e,n,a);n.flags|=128}if(h=n.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),q(Ge,Ge.current),c)break;return null;case 22:case 23:return n.lanes=0,vg(e,n,a);case 24:Gr(n,Ue,e.memoizedState.cache)}return xi(e,n,a)}function Mg(e,n,a){if(e!==null)if(e.memoizedProps!==n.pendingProps)We=!0;else{if(!lh(e,a)&&(n.flags&128)===0)return We=!1,M2(e,n,a);We=(e.flags&131072)!==0}else We=!1,Ht&&(n.flags&1048576)!==0&&ft(n,s,n.index);switch(n.lanes=0,n.tag){case 16:t:{e=n.pendingProps;var c=n.elementType,h=c._init;if(c=h(c._payload),n.type=c,typeof c=="function")Yo(c)?(e=so(c,e),n.tag=1,n=xg(null,n,c,e,a)):(n.tag=0,n=eh(null,n,c,e,a));else{if(c!=null){if(h=c.$$typeof,h===j){n.tag=11,n=pg(null,n,c,e,a);break t}else if(h===J){n.tag=14,n=gg(null,n,c,e,a);break t}}throw n=mt(c)||c,Error(l(306,n,""))}}return n;case 0:return eh(e,n,n.type,n.pendingProps,a);case 1:return c=n.type,h=so(c,n.pendingProps),xg(e,n,c,h,a);case 3:t:{if(bt(n,n.stateNode.containerInfo),e===null)throw Error(l(387));c=n.pendingProps;var g=n.memoizedState;h=g.element,jf(e,n),ll(n,c,null,a);var M=n.memoizedState;if(c=M.cache,Gr(n,Ue,c),c!==g.cache&&Vo(n,[Ue],a,!0),sl(),c=M.element,g.isDehydrated)if(g={element:c,isDehydrated:!1,cache:M.cache},n.updateQueue.baseState=g,n.memoizedState=g,n.flags&256){n=Sg(e,n,c,a);break t}else if(c!==h){h=Tn(Error(l(424)),n),oa(h),n=Sg(e,n,c,a);break t}else{switch(e=n.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for(Nt=Dr(e.firstChild),Dt=n,Ht=!0,ve=null,Ne=!0,a=ig(n,null,c,a),n.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(aa(),c===h){n=xi(e,n,a);break t}sn(e,n,c,a)}n=n.child}return n;case 26:return bu(e,n),e===null?(a=Ob(n.type,null,n.pendingProps,null))?n.memoizedState=a:Ht||(a=n.type,e=n.pendingProps,c=ku(ht.current).createElement(a),c[Ke]=n,c[hn]=e,cn(c,a,e),ze(c),n.stateNode=c):n.memoizedState=Ob(n.type,e.memoizedProps,n.pendingProps,e.memoizedState),null;case 27:return $t(n),e===null&&Ht&&(c=n.stateNode=Db(n.type,n.pendingProps,ht.current),Dt=n,Ne=!0,h=Nt,xa(n.type)?(Uh=h,Nt=Dr(c.firstChild)):Nt=h),sn(e,n,n.pendingProps.children,a),bu(e,n),e===null&&(n.flags|=4194304),n.child;case 5:return e===null&&Ht&&((h=c=Nt)&&(c=tS(c,n.type,n.pendingProps,Ne),c!==null?(n.stateNode=c,Dt=n,Nt=Dr(c.firstChild),Ne=!1,h=!0):h=!1),h||Cn(n)),$t(n),h=n.type,g=n.pendingProps,M=e!==null?e.memoizedProps:null,c=g.children,zh(h,g)?c=null:M!==null&&zh(h,M)&&(n.flags|=32),n.memoizedState!==null&&(h=Pf(e,n,v2,null,null,a),Ol._currentValue=h),bu(e,n),sn(e,n,c,a),n.child;case 6:return e===null&&Ht&&((e=a=Nt)&&(a=eS(a,n.pendingProps,Ne),a!==null?(n.stateNode=a,Dt=n,Nt=null,e=!0):e=!1),e||Cn(n)),null;case 13:return wg(e,n,a);case 4:return bt(n,n.stateNode.containerInfo),c=n.pendingProps,e===null?n.child=es(n,null,c,a):sn(e,n,c,a),n.child;case 11:return pg(e,n,n.type,n.pendingProps,a);case 7:return sn(e,n,n.pendingProps,a),n.child;case 8:return sn(e,n,n.pendingProps.children,a),n.child;case 12:return sn(e,n,n.pendingProps.children,a),n.child;case 10:return c=n.pendingProps,Gr(n,n.type,c.value),sn(e,n,c.children,a),n.child;case 9:return h=n.type._context,c=n.pendingProps.children,io(n),h=gn(h),c=c(h),n.flags|=1,sn(e,n,c,a),n.child;case 14:return gg(e,n,n.type,n.pendingProps,a);case 15:return bg(e,n,n.type,n.pendingProps,a);case 19:return Eg(e,n,a);case 31:return c=n.pendingProps,a=n.mode,c={mode:c.mode,children:c.children},e===null?(a=vu(c,a),a.ref=n.ref,n.child=a,a.return=n,n=a):(a=cr(e.child,c),a.ref=n.ref,n.child=a,a.return=n,n=a),n;case 22:return vg(e,n,a);case 24:return io(n),c=gn(Ue),e===null?(h=Af(),h===null&&(h=ye,g=Mf(),h.pooledCache=g,g.refCount++,g!==null&&(h.pooledCacheLanes|=a),h=g),n.memoizedState={parent:c,cache:h},Of(n),Gr(n,Ue,h)):((e.lanes&a)!==0&&(jf(e,n),ll(n,null,null,a),sl()),h=e.memoizedState,g=n.memoizedState,h.parent!==c?(h={parent:c,cache:c},n.memoizedState=h,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=h),Gr(n,Ue,c)):(c=g.cache,Gr(n,Ue,c),c!==h.cache&&Vo(n,[Ue],a,!0))),sn(e,n,n.pendingProps.children,a),n.child;case 29:throw n.pendingProps}throw Error(l(156,n.tag))}function Si(e){e.flags|=4}function Dg(e,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!Bb(n)){if(n=dr.current,n!==null&&((Jt&4194048)===Jt?Zr!==null:(Jt&62914560)!==Jt&&(Jt&536870912)===0||n!==Zr))throw al=Nf,u0;e.flags|=8192}}function yu(e,n){n!==null&&(e.flags|=4),e.flags&16384&&(n=e.tag!==22?Cs():536870912,e.lanes|=n,as|=n)}function pl(e,n){if(!Ht)switch(e.tailMode){case"hidden":n=e.tail;for(var a=null;n!==null;)n.alternate!==null&&(a=n),n=n.sibling;a===null?e.tail=null:a.sibling=null;break;case"collapsed":a=e.tail;for(var c=null;a!==null;)a.alternate!==null&&(c=a),a=a.sibling;c===null?n||e.tail===null?e.tail=null:e.tail.sibling=null:c.sibling=null}}function Oe(e){var n=e.alternate!==null&&e.alternate.child===e.child,a=0,c=0;if(n)for(var h=e.child;h!==null;)a|=h.lanes|h.childLanes,c|=h.subtreeFlags&65011712,c|=h.flags&65011712,h.return=e,h=h.sibling;else for(h=e.child;h!==null;)a|=h.lanes|h.childLanes,c|=h.subtreeFlags,c|=h.flags,h.return=e,h=h.sibling;return e.subtreeFlags|=c,e.childLanes=a,n}function D2(e,n,a){var c=n.pendingProps;switch(Et(n),n.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Oe(n),null;case 1:return Oe(n),null;case 3:return a=n.stateNode,c=null,e!==null&&(c=e.memoizedState.cache),n.memoizedState.cache!==c&&(n.flags|=2048),Er(Ue),Tt(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(e===null||e.child===null)&&(eo(n)?Si(n):e===null||e.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,Wc())),Oe(n),null;case 26:return a=n.memoizedState,e===null?(Si(n),a!==null?(Oe(n),Dg(n,a)):(Oe(n),n.flags&=-16777217)):a?a!==e.memoizedState?(Si(n),Oe(n),Dg(n,a)):(Oe(n),n.flags&=-16777217):(e.memoizedProps!==c&&Si(n),Oe(n),n.flags&=-16777217),null;case 27:Wt(n),a=ht.current;var h=n.type;if(e!==null&&n.stateNode!=null)e.memoizedProps!==c&&Si(n);else{if(!c){if(n.stateNode===null)throw Error(l(166));return Oe(n),null}e=tt.current,eo(n)?Fc(n):(e=Db(h,c,a),n.stateNode=e,Si(n))}return Oe(n),null;case 5:if(Wt(n),a=n.type,e!==null&&n.stateNode!=null)e.memoizedProps!==c&&Si(n);else{if(!c){if(n.stateNode===null)throw Error(l(166));return Oe(n),null}if(e=tt.current,eo(n))Fc(n);else{switch(h=ku(ht.current),e){case 1:e=h.createElementNS("http://www.w3.org/2000/svg",a);break;case 2:e=h.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;default:switch(a){case"svg":e=h.createElementNS("http://www.w3.org/2000/svg",a);break;case"math":e=h.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;case"script":e=h.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild);break;case"select":e=typeof c.is=="string"?h.createElement("select",{is:c.is}):h.createElement("select"),c.multiple?e.multiple=!0:c.size&&(e.size=c.size);break;default:e=typeof c.is=="string"?h.createElement(a,{is:c.is}):h.createElement(a)}}e[Ke]=n,e[hn]=c;t:for(h=n.child;h!==null;){if(h.tag===5||h.tag===6)e.appendChild(h.stateNode);else if(h.tag!==4&&h.tag!==27&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===n)break t;for(;h.sibling===null;){if(h.return===null||h.return===n)break t;h=h.return}h.sibling.return=h.return,h=h.sibling}n.stateNode=e;t:switch(cn(e,a,c),a){case"button":case"input":case"select":case"textarea":e=!!c.autoFocus;break t;case"img":e=!0;break t;default:e=!1}e&&Si(n)}}return Oe(n),n.flags&=-16777217,null;case 6:if(e&&n.stateNode!=null)e.memoizedProps!==c&&Si(n);else{if(typeof c!="string"&&n.stateNode===null)throw Error(l(166));if(e=ht.current,eo(n)){if(e=n.stateNode,a=n.memoizedProps,c=null,h=Dt,h!==null)switch(h.tag){case 27:case 5:c=h.memoizedProps}e[Ke]=n,e=!!(e.nodeValue===a||c!==null&&c.suppressHydrationWarning===!0||_b(e.nodeValue,a)),e||Cn(n)}else e=ku(e).createTextNode(c),e[Ke]=n,n.stateNode=e}return Oe(n),null;case 13:if(c=n.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(h=eo(n),c!==null&&c.dehydrated!==null){if(e===null){if(!h)throw Error(l(318));if(h=n.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(l(317));h[Ke]=n}else aa(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;Oe(n),h=!1}else h=Wc(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=h),h=!0;if(!h)return n.flags&256?(_i(n),n):(_i(n),null)}if(_i(n),(n.flags&128)!==0)return n.lanes=a,n;if(a=c!==null,e=e!==null&&e.memoizedState!==null,a){c=n.child,h=null,c.alternate!==null&&c.alternate.memoizedState!==null&&c.alternate.memoizedState.cachePool!==null&&(h=c.alternate.memoizedState.cachePool.pool);var g=null;c.memoizedState!==null&&c.memoizedState.cachePool!==null&&(g=c.memoizedState.cachePool.pool),g!==h&&(c.flags|=2048)}return a!==e&&a&&(n.child.flags|=8192),yu(n,n.updateQueue),Oe(n),null;case 4:return Tt(),e===null&&Lh(n.stateNode.containerInfo),Oe(n),null;case 10:return Er(n.type),Oe(n),null;case 19:if(F(Ge),h=n.memoizedState,h===null)return Oe(n),null;if(c=(n.flags&128)!==0,g=h.rendering,g===null)if(c)pl(h,!1);else{if(Ce!==0||e!==null&&(e.flags&128)!==0)for(e=n.child;e!==null;){if(g=mu(e),g!==null){for(n.flags|=128,pl(h,!1),e=g.updateQueue,n.updateQueue=e,yu(n,e),n.subtreeFlags=0,e=a,a=n.child;a!==null;)tl(a,e),a=a.sibling;return q(Ge,Ge.current&1|2),n.child}e=e.sibling}h.tail!==null&&pe()>Su&&(n.flags|=128,c=!0,pl(h,!1),n.lanes=4194304)}else{if(!c)if(e=mu(g),e!==null){if(n.flags|=128,c=!0,e=e.updateQueue,n.updateQueue=e,yu(n,e),pl(h,!0),h.tail===null&&h.tailMode==="hidden"&&!g.alternate&&!Ht)return Oe(n),null}else 2*pe()-h.renderingStartTime>Su&&a!==536870912&&(n.flags|=128,c=!0,pl(h,!1),n.lanes=4194304);h.isBackwards?(g.sibling=n.child,n.child=g):(e=h.last,e!==null?e.sibling=g:n.child=g,h.last=g)}return h.tail!==null?(n=h.tail,h.rendering=n,h.tail=n.sibling,h.renderingStartTime=pe(),n.sibling=null,e=Ge.current,q(Ge,c?e&1|2:e&1),n):(Oe(n),null);case 22:case 23:return _i(n),Bf(),c=n.memoizedState!==null,e!==null?e.memoizedState!==null!==c&&(n.flags|=8192):c&&(n.flags|=8192),c?(a&536870912)!==0&&(n.flags&128)===0&&(Oe(n),n.subtreeFlags&6&&(n.flags|=8192)):Oe(n),a=n.updateQueue,a!==null&&yu(n,a.retryQueue),a=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),c=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(c=n.memoizedState.cachePool.pool),c!==a&&(n.flags|=2048),e!==null&&F(ao),null;case 24:return a=null,e!==null&&(a=e.memoizedState.cache),n.memoizedState.cache!==a&&(n.flags|=2048),Er(Ue),Oe(n),null;case 25:return null;case 30:return null}throw Error(l(156,n.tag))}function A2(e,n){switch(Et(n),n.tag){case 1:return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 3:return Er(Ue),Tt(),e=n.flags,(e&65536)!==0&&(e&128)===0?(n.flags=e&-65537|128,n):null;case 26:case 27:case 5:return Wt(n),null;case 13:if(_i(n),e=n.memoizedState,e!==null&&e.dehydrated!==null){if(n.alternate===null)throw Error(l(340));aa()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 19:return F(Ge),null;case 4:return Tt(),null;case 10:return Er(n.type),null;case 22:case 23:return _i(n),Bf(),e!==null&&F(ao),e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 24:return Er(Ue),null;case 25:return null;default:return null}}function Ag(e,n){switch(Et(n),n.tag){case 3:Er(Ue),Tt();break;case 26:case 27:case 5:Wt(n);break;case 4:Tt();break;case 13:_i(n);break;case 19:F(Ge);break;case 10:Er(n.type);break;case 22:case 23:_i(n),Bf(),e!==null&&F(ao);break;case 24:Er(Ue)}}function gl(e,n){try{var a=n.updateQueue,c=a!==null?a.lastEffect:null;if(c!==null){var h=c.next;a=h;do{if((a.tag&e)===e){c=void 0;var g=a.create,M=a.inst;c=g(),M.destroy=c}a=a.next}while(a!==h)}}catch(C){he(n,n.return,C)}}function ha(e,n,a){try{var c=n.updateQueue,h=c!==null?c.lastEffect:null;if(h!==null){var g=h.next;c=g;do{if((c.tag&e)===e){var M=c.inst,C=M.destroy;if(C!==void 0){M.destroy=void 0,h=n;var Y=a,ct=C;try{ct()}catch(pt){he(h,Y,pt)}}}c=c.next}while(c!==g)}}catch(pt){he(n,n.return,pt)}}function Ng(e){var n=e.updateQueue;if(n!==null){var a=e.stateNode;try{g0(n,a)}catch(c){he(e,e.return,c)}}}function Og(e,n,a){a.props=so(e.type,e.memoizedProps),a.state=e.memoizedState;try{a.componentWillUnmount()}catch(c){he(e,n,c)}}function bl(e,n){try{var a=e.ref;if(a!==null){switch(e.tag){case 26:case 27:case 5:var c=e.stateNode;break;case 30:c=e.stateNode;break;default:c=e.stateNode}typeof a=="function"?e.refCleanup=a(c):a.current=c}}catch(h){he(e,n,h)}}function Yr(e,n){var a=e.ref,c=e.refCleanup;if(a!==null)if(typeof c=="function")try{c()}catch(h){he(e,n,h)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(h){he(e,n,h)}else a.current=null}function jg(e){var n=e.type,a=e.memoizedProps,c=e.stateNode;try{t:switch(n){case"button":case"input":case"select":case"textarea":a.autoFocus&&c.focus();break t;case"img":a.src?c.src=a.src:a.srcSet&&(c.srcset=a.srcSet)}}catch(h){he(e,e.return,h)}}function ch(e,n,a){try{var c=e.stateNode;F2(c,e.type,a,n),c[hn]=n}catch(h){he(e,e.return,h)}}function kg(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&xa(e.type)||e.tag===4}function uh(e){t:for(;;){for(;e.sibling===null;){if(e.return===null||kg(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&xa(e.type)||e.flags&2||e.child===null||e.tag===4)continue t;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function dh(e,n,a){var c=e.tag;if(c===5||c===6)e=e.stateNode,n?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(e,n):(n=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,n.appendChild(e),a=a._reactRootContainer,a!=null||n.onclick!==null||(n.onclick=ju));else if(c!==4&&(c===27&&xa(e.type)&&(a=e.stateNode,n=null),e=e.child,e!==null))for(dh(e,n,a),e=e.sibling;e!==null;)dh(e,n,a),e=e.sibling}function _u(e,n,a){var c=e.tag;if(c===5||c===6)e=e.stateNode,n?a.insertBefore(e,n):a.appendChild(e);else if(c!==4&&(c===27&&xa(e.type)&&(a=e.stateNode),e=e.child,e!==null))for(_u(e,n,a),e=e.sibling;e!==null;)_u(e,n,a),e=e.sibling}function Lg(e){var n=e.stateNode,a=e.memoizedProps;try{for(var c=e.type,h=n.attributes;h.length;)n.removeAttributeNode(h[0]);cn(n,c,a),n[Ke]=e,n[hn]=a}catch(g){he(e,e.return,g)}}var wi=!1,Re=!1,fh=!1,Cg=typeof WeakSet=="function"?WeakSet:Set,Qe=null;function N2(e,n){if(e=e.containerInfo,Rh=zu,e=Ka(e),Fa(e)){if("selectionStart"in e)var a={start:e.selectionStart,end:e.selectionEnd};else t:{a=(a=e.ownerDocument)&&a.defaultView||window;var c=a.getSelection&&a.getSelection();if(c&&c.rangeCount!==0){a=c.anchorNode;var h=c.anchorOffset,g=c.focusNode;c=c.focusOffset;try{a.nodeType,g.nodeType}catch{a=null;break t}var M=0,C=-1,Y=-1,ct=0,pt=0,yt=e,ut=null;e:for(;;){for(var dt;yt!==a||h!==0&&yt.nodeType!==3||(C=M+h),yt!==g||c!==0&&yt.nodeType!==3||(Y=M+c),yt.nodeType===3&&(M+=yt.nodeValue.length),(dt=yt.firstChild)!==null;)ut=yt,yt=dt;for(;;){if(yt===e)break e;if(ut===a&&++ct===h&&(C=M),ut===g&&++pt===c&&(Y=M),(dt=yt.nextSibling)!==null)break;yt=ut,ut=yt.parentNode}yt=dt}a=C===-1||Y===-1?null:{start:C,end:Y}}else a=null}a=a||{start:0,end:0}}else a=null;for(Ph={focusedElem:e,selectionRange:a},zu=!1,Qe=n;Qe!==null;)if(n=Qe,e=n.child,(n.subtreeFlags&1024)!==0&&e!==null)e.return=n,Qe=e;else for(;Qe!==null;){switch(n=Qe,g=n.alternate,e=n.flags,n.tag){case 0:break;case 11:case 15:break;case 1:if((e&1024)!==0&&g!==null){e=void 0,a=n,h=g.memoizedProps,g=g.memoizedState,c=a.stateNode;try{var zt=so(a.type,h,a.elementType===a.type);e=c.getSnapshotBeforeUpdate(zt,g),c.__reactInternalSnapshotBeforeUpdate=e}catch(Ct){he(a,a.return,Ct)}}break;case 3:if((e&1024)!==0){if(e=n.stateNode.containerInfo,a=e.nodeType,a===9)Ih(e);else if(a===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":Ih(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(l(163))}if(e=n.sibling,e!==null){e.return=n.return,Qe=e;break}Qe=n.return}}function Bg(e,n,a){var c=a.flags;switch(a.tag){case 0:case 11:case 15:ma(e,a),c&4&&gl(5,a);break;case 1:if(ma(e,a),c&4)if(e=a.stateNode,n===null)try{e.componentDidMount()}catch(M){he(a,a.return,M)}else{var h=so(a.type,n.memoizedProps);n=n.memoizedState;try{e.componentDidUpdate(h,n,e.__reactInternalSnapshotBeforeUpdate)}catch(M){he(a,a.return,M)}}c&64&&Ng(a),c&512&&bl(a,a.return);break;case 3:if(ma(e,a),c&64&&(e=a.updateQueue,e!==null)){if(n=null,a.child!==null)switch(a.child.tag){case 27:case 5:n=a.child.stateNode;break;case 1:n=a.child.stateNode}try{g0(e,n)}catch(M){he(a,a.return,M)}}break;case 27:n===null&&c&4&&Lg(a);case 26:case 5:ma(e,a),n===null&&c&4&&jg(a),c&512&&bl(a,a.return);break;case 12:ma(e,a);break;case 13:ma(e,a),c&4&&zg(e,a),c&64&&(e=a.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(a=z2.bind(null,a),nS(e,a))));break;case 22:if(c=a.memoizedState!==null||wi,!c){n=n!==null&&n.memoizedState!==null||Re,h=wi;var g=Re;wi=c,(Re=n)&&!g?pa(e,a,(a.subtreeFlags&8772)!==0):ma(e,a),wi=h,Re=g}break;case 30:break;default:ma(e,a)}}function Rg(e){var n=e.alternate;n!==null&&(e.alternate=null,Rg(n)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(n=e.stateNode,n!==null&&Ao(n)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var De=null,Rn=!1;function Ti(e,n,a){for(a=a.child;a!==null;)Pg(e,n,a),a=a.sibling}function Pg(e,n,a){if(Ve&&typeof Ve.onCommitFiberUnmount=="function")try{Ve.onCommitFiberUnmount(yn,a)}catch{}switch(a.tag){case 26:Re||Yr(a,n),Ti(e,n,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:Re||Yr(a,n);var c=De,h=Rn;xa(a.type)&&(De=a.stateNode,Rn=!1),Ti(e,n,a),Ml(a.stateNode),De=c,Rn=h;break;case 5:Re||Yr(a,n);case 6:if(c=De,h=Rn,De=null,Ti(e,n,a),De=c,Rn=h,De!==null)if(Rn)try{(De.nodeType===9?De.body:De.nodeName==="HTML"?De.ownerDocument.body:De).removeChild(a.stateNode)}catch(g){he(a,n,g)}else try{De.removeChild(a.stateNode)}catch(g){he(a,n,g)}break;case 18:De!==null&&(Rn?(e=De,Eb(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,a.stateNode),Cl(e)):Eb(De,a.stateNode));break;case 4:c=De,h=Rn,De=a.stateNode.containerInfo,Rn=!0,Ti(e,n,a),De=c,Rn=h;break;case 0:case 11:case 14:case 15:Re||ha(2,a,n),Re||ha(4,a,n),Ti(e,n,a);break;case 1:Re||(Yr(a,n),c=a.stateNode,typeof c.componentWillUnmount=="function"&&Og(a,n,c)),Ti(e,n,a);break;case 21:Ti(e,n,a);break;case 22:Re=(c=Re)||a.memoizedState!==null,Ti(e,n,a),Re=c;break;default:Ti(e,n,a)}}function zg(e,n){if(n.memoizedState===null&&(e=n.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{Cl(e)}catch(a){he(n,n.return,a)}}function O2(e){switch(e.tag){case 13:case 19:var n=e.stateNode;return n===null&&(n=e.stateNode=new Cg),n;case 22:return e=e.stateNode,n=e._retryCache,n===null&&(n=e._retryCache=new Cg),n;default:throw Error(l(435,e.tag))}}function hh(e,n){var a=O2(e);n.forEach(function(c){var h=H2.bind(null,e,c);a.has(c)||(a.add(c),c.then(h,h))})}function Kn(e,n){var a=n.deletions;if(a!==null)for(var c=0;c<a.length;c++){var h=a[c],g=e,M=n,C=M;t:for(;C!==null;){switch(C.tag){case 27:if(xa(C.type)){De=C.stateNode,Rn=!1;break t}break;case 5:De=C.stateNode,Rn=!1;break t;case 3:case 4:De=C.stateNode.containerInfo,Rn=!0;break t}C=C.return}if(De===null)throw Error(l(160));Pg(g,M,h),De=null,Rn=!1,g=h.alternate,g!==null&&(g.return=null),h.return=null}if(n.subtreeFlags&13878)for(n=n.child;n!==null;)Hg(n,e),n=n.sibling}var Mr=null;function Hg(e,n){var a=e.alternate,c=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:Kn(n,e),Fn(e),c&4&&(ha(3,e,e.return),gl(3,e),ha(5,e,e.return));break;case 1:Kn(n,e),Fn(e),c&512&&(Re||a===null||Yr(a,a.return)),c&64&&wi&&(e=e.updateQueue,e!==null&&(c=e.callbacks,c!==null&&(a=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=a===null?c:a.concat(c))));break;case 26:var h=Mr;if(Kn(n,e),Fn(e),c&512&&(Re||a===null||Yr(a,a.return)),c&4){var g=a!==null?a.memoizedState:null;if(c=e.memoizedState,a===null)if(c===null)if(e.stateNode===null){t:{c=e.type,a=e.memoizedProps,h=h.ownerDocument||h;e:switch(c){case"title":g=h.getElementsByTagName("title")[0],(!g||g[zi]||g[Ke]||g.namespaceURI==="http://www.w3.org/2000/svg"||g.hasAttribute("itemprop"))&&(g=h.createElement(c),h.head.insertBefore(g,h.querySelector("head > title"))),cn(g,c,a),g[Ke]=e,ze(g),c=g;break t;case"link":var M=Lb("link","href",h).get(c+(a.href||""));if(M){for(var C=0;C<M.length;C++)if(g=M[C],g.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&g.getAttribute("rel")===(a.rel==null?null:a.rel)&&g.getAttribute("title")===(a.title==null?null:a.title)&&g.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){M.splice(C,1);break e}}g=h.createElement(c),cn(g,c,a),h.head.appendChild(g);break;case"meta":if(M=Lb("meta","content",h).get(c+(a.content||""))){for(C=0;C<M.length;C++)if(g=M[C],g.getAttribute("content")===(a.content==null?null:""+a.content)&&g.getAttribute("name")===(a.name==null?null:a.name)&&g.getAttribute("property")===(a.property==null?null:a.property)&&g.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&g.getAttribute("charset")===(a.charSet==null?null:a.charSet)){M.splice(C,1);break e}}g=h.createElement(c),cn(g,c,a),h.head.appendChild(g);break;default:throw Error(l(468,c))}g[Ke]=e,ze(g),c=g}e.stateNode=c}else Cb(h,e.type,e.stateNode);else e.stateNode=kb(h,c,e.memoizedProps);else g!==c?(g===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):g.count--,c===null?Cb(h,e.type,e.stateNode):kb(h,c,e.memoizedProps)):c===null&&e.stateNode!==null&&ch(e,e.memoizedProps,a.memoizedProps)}break;case 27:Kn(n,e),Fn(e),c&512&&(Re||a===null||Yr(a,a.return)),a!==null&&c&4&&ch(e,e.memoizedProps,a.memoizedProps);break;case 5:if(Kn(n,e),Fn(e),c&512&&(Re||a===null||Yr(a,a.return)),e.flags&32){h=e.stateNode;try{ir(h,"")}catch(dt){he(e,e.return,dt)}}c&4&&e.stateNode!=null&&(h=e.memoizedProps,ch(e,h,a!==null?a.memoizedProps:h)),c&1024&&(fh=!0);break;case 6:if(Kn(n,e),Fn(e),c&4){if(e.stateNode===null)throw Error(l(162));c=e.memoizedProps,a=e.stateNode;try{a.nodeValue=c}catch(dt){he(e,e.return,dt)}}break;case 3:if(Bu=null,h=Mr,Mr=Lu(n.containerInfo),Kn(n,e),Mr=h,Fn(e),c&4&&a!==null&&a.memoizedState.isDehydrated)try{Cl(n.containerInfo)}catch(dt){he(e,e.return,dt)}fh&&(fh=!1,Ig(e));break;case 4:c=Mr,Mr=Lu(e.stateNode.containerInfo),Kn(n,e),Fn(e),Mr=c;break;case 12:Kn(n,e),Fn(e);break;case 13:Kn(n,e),Fn(e),e.child.flags&8192&&e.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(yh=pe()),c&4&&(c=e.updateQueue,c!==null&&(e.updateQueue=null,hh(e,c)));break;case 22:h=e.memoizedState!==null;var Y=a!==null&&a.memoizedState!==null,ct=wi,pt=Re;if(wi=ct||h,Re=pt||Y,Kn(n,e),Re=pt,wi=ct,Fn(e),c&8192)t:for(n=e.stateNode,n._visibility=h?n._visibility&-2:n._visibility|1,h&&(a===null||Y||wi||Re||lo(e)),a=null,n=e;;){if(n.tag===5||n.tag===26){if(a===null){Y=a=n;try{if(g=Y.stateNode,h)M=g.style,typeof M.setProperty=="function"?M.setProperty("display","none","important"):M.display="none";else{C=Y.stateNode;var yt=Y.memoizedProps.style,ut=yt!=null&&yt.hasOwnProperty("display")?yt.display:null;C.style.display=ut==null||typeof ut=="boolean"?"":(""+ut).trim()}}catch(dt){he(Y,Y.return,dt)}}}else if(n.tag===6){if(a===null){Y=n;try{Y.stateNode.nodeValue=h?"":Y.memoizedProps}catch(dt){he(Y,Y.return,dt)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===e)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break t;for(;n.sibling===null;){if(n.return===null||n.return===e)break t;a===n&&(a=null),n=n.return}a===n&&(a=null),n.sibling.return=n.return,n=n.sibling}c&4&&(c=e.updateQueue,c!==null&&(a=c.retryQueue,a!==null&&(c.retryQueue=null,hh(e,a))));break;case 19:Kn(n,e),Fn(e),c&4&&(c=e.updateQueue,c!==null&&(e.updateQueue=null,hh(e,c)));break;case 30:break;case 21:break;default:Kn(n,e),Fn(e)}}function Fn(e){var n=e.flags;if(n&2){try{for(var a,c=e.return;c!==null;){if(kg(c)){a=c;break}c=c.return}if(a==null)throw Error(l(160));switch(a.tag){case 27:var h=a.stateNode,g=uh(e);_u(e,g,h);break;case 5:var M=a.stateNode;a.flags&32&&(ir(M,""),a.flags&=-33);var C=uh(e);_u(e,C,M);break;case 3:case 4:var Y=a.stateNode.containerInfo,ct=uh(e);dh(e,ct,Y);break;default:throw Error(l(161))}}catch(pt){he(e,e.return,pt)}e.flags&=-3}n&4096&&(e.flags&=-4097)}function Ig(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var n=e;Ig(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),e=e.sibling}}function ma(e,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)Bg(e,n.alternate,n),n=n.sibling}function lo(e){for(e=e.child;e!==null;){var n=e;switch(n.tag){case 0:case 11:case 14:case 15:ha(4,n,n.return),lo(n);break;case 1:Yr(n,n.return);var a=n.stateNode;typeof a.componentWillUnmount=="function"&&Og(n,n.return,a),lo(n);break;case 27:Ml(n.stateNode);case 26:case 5:Yr(n,n.return),lo(n);break;case 22:n.memoizedState===null&&lo(n);break;case 30:lo(n);break;default:lo(n)}e=e.sibling}}function pa(e,n,a){for(a=a&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var c=n.alternate,h=e,g=n,M=g.flags;switch(g.tag){case 0:case 11:case 15:pa(h,g,a),gl(4,g);break;case 1:if(pa(h,g,a),c=g,h=c.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(ct){he(c,c.return,ct)}if(c=g,h=c.updateQueue,h!==null){var C=c.stateNode;try{var Y=h.shared.hiddenCallbacks;if(Y!==null)for(h.shared.hiddenCallbacks=null,h=0;h<Y.length;h++)p0(Y[h],C)}catch(ct){he(c,c.return,ct)}}a&&M&64&&Ng(g),bl(g,g.return);break;case 27:Lg(g);case 26:case 5:pa(h,g,a),a&&c===null&&M&4&&jg(g),bl(g,g.return);break;case 12:pa(h,g,a);break;case 13:pa(h,g,a),a&&M&4&&zg(h,g);break;case 22:g.memoizedState===null&&pa(h,g,a),bl(g,g.return);break;case 30:break;default:pa(h,g,a)}n=n.sibling}}function mh(e,n){var a=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),e=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(e=n.memoizedState.cachePool.pool),e!==a&&(e!=null&&e.refCount++,a!=null&&nl(a))}function ph(e,n){e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&nl(e))}function qr(e,n,a,c){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)$g(e,n,a,c),n=n.sibling}function $g(e,n,a,c){var h=n.flags;switch(n.tag){case 0:case 11:case 15:qr(e,n,a,c),h&2048&&gl(9,n);break;case 1:qr(e,n,a,c);break;case 3:qr(e,n,a,c),h&2048&&(e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&nl(e)));break;case 12:if(h&2048){qr(e,n,a,c),e=n.stateNode;try{var g=n.memoizedProps,M=g.id,C=g.onPostCommit;typeof C=="function"&&C(M,n.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(Y){he(n,n.return,Y)}}else qr(e,n,a,c);break;case 13:qr(e,n,a,c);break;case 23:break;case 22:g=n.stateNode,M=n.alternate,n.memoizedState!==null?g._visibility&2?qr(e,n,a,c):vl(e,n):g._visibility&2?qr(e,n,a,c):(g._visibility|=2,ns(e,n,a,c,(n.subtreeFlags&10256)!==0)),h&2048&&mh(M,n);break;case 24:qr(e,n,a,c),h&2048&&ph(n.alternate,n);break;default:qr(e,n,a,c)}}function ns(e,n,a,c,h){for(h=h&&(n.subtreeFlags&10256)!==0,n=n.child;n!==null;){var g=e,M=n,C=a,Y=c,ct=M.flags;switch(M.tag){case 0:case 11:case 15:ns(g,M,C,Y,h),gl(8,M);break;case 23:break;case 22:var pt=M.stateNode;M.memoizedState!==null?pt._visibility&2?ns(g,M,C,Y,h):vl(g,M):(pt._visibility|=2,ns(g,M,C,Y,h)),h&&ct&2048&&mh(M.alternate,M);break;case 24:ns(g,M,C,Y,h),h&&ct&2048&&ph(M.alternate,M);break;default:ns(g,M,C,Y,h)}n=n.sibling}}function vl(e,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var a=e,c=n,h=c.flags;switch(c.tag){case 22:vl(a,c),h&2048&&mh(c.alternate,c);break;case 24:vl(a,c),h&2048&&ph(c.alternate,c);break;default:vl(a,c)}n=n.sibling}}var yl=8192;function rs(e){if(e.subtreeFlags&yl)for(e=e.child;e!==null;)Ug(e),e=e.sibling}function Ug(e){switch(e.tag){case 26:rs(e),e.flags&yl&&e.memoizedState!==null&&pS(Mr,e.memoizedState,e.memoizedProps);break;case 5:rs(e);break;case 3:case 4:var n=Mr;Mr=Lu(e.stateNode.containerInfo),rs(e),Mr=n;break;case 22:e.memoizedState===null&&(n=e.alternate,n!==null&&n.memoizedState!==null?(n=yl,yl=16777216,rs(e),yl=n):rs(e));break;default:rs(e)}}function Gg(e){var n=e.alternate;if(n!==null&&(e=n.child,e!==null)){n.child=null;do n=e.sibling,e.sibling=null,e=n;while(e!==null)}}function _l(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var a=0;a<n.length;a++){var c=n[a];Qe=c,Yg(c,e)}Gg(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)Zg(e),e=e.sibling}function Zg(e){switch(e.tag){case 0:case 11:case 15:_l(e),e.flags&2048&&ha(9,e,e.return);break;case 3:_l(e);break;case 12:_l(e);break;case 22:var n=e.stateNode;e.memoizedState!==null&&n._visibility&2&&(e.return===null||e.return.tag!==13)?(n._visibility&=-3,xu(e)):_l(e);break;default:_l(e)}}function xu(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var a=0;a<n.length;a++){var c=n[a];Qe=c,Yg(c,e)}Gg(e)}for(e=e.child;e!==null;){switch(n=e,n.tag){case 0:case 11:case 15:ha(8,n,n.return),xu(n);break;case 22:a=n.stateNode,a._visibility&2&&(a._visibility&=-3,xu(n));break;default:xu(n)}e=e.sibling}}function Yg(e,n){for(;Qe!==null;){var a=Qe;switch(a.tag){case 0:case 11:case 15:ha(8,a,n);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var c=a.memoizedState.cachePool.pool;c!=null&&c.refCount++}break;case 24:nl(a.memoizedState.cache)}if(c=a.child,c!==null)c.return=a,Qe=c;else t:for(a=e;Qe!==null;){c=Qe;var h=c.sibling,g=c.return;if(Rg(c),c===a){Qe=null;break t}if(h!==null){h.return=g,Qe=h;break t}Qe=g}}}var j2={getCacheForType:function(e){var n=gn(Ue),a=n.data.get(e);return a===void 0&&(a=e(),n.data.set(e,a)),a}},k2=typeof WeakMap=="function"?WeakMap:Map,se=0,ye=null,Ft=null,Jt=0,le=0,Xn=null,ga=!1,is=!1,gh=!1,Ei=0,Ce=0,ba=0,co=0,bh=0,fr=0,as=0,xl=null,Pn=null,vh=!1,yh=0,Su=1/0,wu=null,va=null,ln=0,ya=null,os=null,ss=0,_h=0,xh=null,qg=null,Sl=0,Sh=null;function Wn(){if((se&2)!==0&&Jt!==0)return Jt&-Jt;if($.T!==null){var e=Ko;return e!==0?e:Nh()}return Tc()}function Vg(){fr===0&&(fr=(Jt&536870912)===0||Ht?xc():536870912);var e=dr.current;return e!==null&&(e.flags|=32),fr}function Qn(e,n,a){(e===ye&&(le===2||le===9)||e.cancelPendingCommit!==null)&&(ls(e,0),_a(e,Jt,fr,!1)),Ri(e,a),((se&2)===0||e!==ye)&&(e===ye&&((se&2)===0&&(co|=a),Ce===4&&_a(e,Jt,fr,!1)),Vr(e))}function Kg(e,n,a){if((se&6)!==0)throw Error(l(327));var c=!a&&(n&124)===0&&(n&e.expiredLanes)===0||yr(e,n),h=c?B2(e,n):Eh(e,n,!0),g=c;do{if(h===0){is&&!c&&_a(e,n,0,!1);break}else{if(a=e.current.alternate,g&&!L2(a)){h=Eh(e,n,!1),g=!1;continue}if(h===2){if(g=n,e.errorRecoveryDisabledLanes&g)var M=0;else M=e.pendingLanes&-536870913,M=M!==0?M:M&536870912?536870912:0;if(M!==0){n=M;t:{var C=e;h=xl;var Y=C.current.memoizedState.isDehydrated;if(Y&&(ls(C,M).flags|=256),M=Eh(C,M,!1),M!==2){if(gh&&!Y){C.errorRecoveryDisabledLanes|=g,co|=g,h=4;break t}g=Pn,Pn=h,g!==null&&(Pn===null?Pn=g:Pn.push.apply(Pn,g))}h=M}if(g=!1,h!==2)continue}}if(h===1){ls(e,0),_a(e,n,0,!0);break}t:{switch(c=e,g=h,g){case 0:case 1:throw Error(l(345));case 4:if((n&4194048)!==n)break;case 6:_a(c,n,fr,!ga);break t;case 2:Pn=null;break;case 3:case 5:break;default:throw Error(l(329))}if((n&62914560)===n&&(h=yh+300-pe(),10<h)){if(_a(c,n,fr,!ga),Mo(c,0,!0)!==0)break t;c.timeoutHandle=wb(Fg.bind(null,c,a,Pn,wu,vh,n,fr,co,as,ga,g,2,-0,0),h);break t}Fg(c,a,Pn,wu,vh,n,fr,co,as,ga,g,0,-0,0)}}break}while(!0);Vr(e)}function Fg(e,n,a,c,h,g,M,C,Y,ct,pt,yt,ut,dt){if(e.timeoutHandle=-1,yt=n.subtreeFlags,(yt&8192||(yt&16785408)===16785408)&&(Nl={stylesheets:null,count:0,unsuspend:mS},Ug(n),yt=gS(),yt!==null)){e.cancelPendingCommit=yt(nb.bind(null,e,n,g,a,c,h,M,C,Y,pt,1,ut,dt)),_a(e,g,M,!ct);return}nb(e,n,g,a,c,h,M,C,Y)}function L2(e){for(var n=e;;){var a=n.tag;if((a===0||a===11||a===15)&&n.flags&16384&&(a=n.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var c=0;c<a.length;c++){var h=a[c],g=h.getSnapshot;h=h.value;try{if(!Sn(g(),h))return!1}catch{return!1}}if(a=n.child,n.subtreeFlags&16384&&a!==null)a.return=n,n=a;else{if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function _a(e,n,a,c){n&=~bh,n&=~co,e.suspendedLanes|=n,e.pingedLanes&=~n,c&&(e.warmLanes|=n),c=e.expirationTimes;for(var h=n;0<h;){var g=31-_n(h),M=1<<g;c[g]=-1,h&=~M}a!==0&&Sc(e,a,n)}function Tu(){return(se&6)===0?(wl(0),!1):!0}function wh(){if(Ft!==null){if(le===0)var e=Ft.return;else e=Ft,Tr=ur=null,If(e),ts=null,hl=0,e=Ft;for(;e!==null;)Ag(e.alternate,e),e=e.return;Ft=null}}function ls(e,n){var a=e.timeoutHandle;a!==-1&&(e.timeoutHandle=-1,W2(a)),a=e.cancelPendingCommit,a!==null&&(e.cancelPendingCommit=null,a()),wh(),ye=e,Ft=a=cr(e.current,null),Jt=n,le=0,Xn=null,ga=!1,is=yr(e,n),gh=!1,as=fr=bh=co=ba=Ce=0,Pn=xl=null,vh=!1,(n&8)!==0&&(n|=n&32);var c=e.entangledLanes;if(c!==0)for(e=e.entanglements,c&=n;0<c;){var h=31-_n(c),g=1<<h;n|=e[h],c&=~g}return Ei=n,Wa(),a}function Xg(e,n){Zt=null,$.H=du,n===il||n===eu?(n=h0(),le=3):n===u0?(n=h0(),le=4):le=n===mg?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,Xn=n,Ft===null&&(Ce=1,gu(e,Tn(n,e.current)))}function Wg(){var e=$.H;return $.H=du,e===null?du:e}function Qg(){var e=$.A;return $.A=j2,e}function Th(){Ce=4,ga||(Jt&4194048)!==Jt&&dr.current!==null||(is=!0),(ba&134217727)===0&&(co&134217727)===0||ye===null||_a(ye,Jt,fr,!1)}function Eh(e,n,a){var c=se;se|=2;var h=Wg(),g=Qg();(ye!==e||Jt!==n)&&(wu=null,ls(e,n)),n=!1;var M=Ce;t:do try{if(le!==0&&Ft!==null){var C=Ft,Y=Xn;switch(le){case 8:wh(),M=6;break t;case 3:case 2:case 9:case 6:dr.current===null&&(n=!0);var ct=le;if(le=0,Xn=null,cs(e,C,Y,ct),a&&is){M=0;break t}break;default:ct=le,le=0,Xn=null,cs(e,C,Y,ct)}}C2(),M=Ce;break}catch(pt){Xg(e,pt)}while(!0);return n&&e.shellSuspendCounter++,Tr=ur=null,se=c,$.H=h,$.A=g,Ft===null&&(ye=null,Jt=0,Wa()),M}function C2(){for(;Ft!==null;)Jg(Ft)}function B2(e,n){var a=se;se|=2;var c=Wg(),h=Qg();ye!==e||Jt!==n?(wu=null,Su=pe()+500,ls(e,n)):is=yr(e,n);t:do try{if(le!==0&&Ft!==null){n=Ft;var g=Xn;e:switch(le){case 1:le=0,Xn=null,cs(e,n,g,1);break;case 2:case 9:if(d0(g)){le=0,Xn=null,tb(n);break}n=function(){le!==2&&le!==9||ye!==e||(le=7),Vr(e)},g.then(n,n);break t;case 3:le=7;break t;case 4:le=5;break t;case 7:d0(g)?(le=0,Xn=null,tb(n)):(le=0,Xn=null,cs(e,n,g,7));break;case 5:var M=null;switch(Ft.tag){case 26:M=Ft.memoizedState;case 5:case 27:var C=Ft;if(!M||Bb(M)){le=0,Xn=null;var Y=C.sibling;if(Y!==null)Ft=Y;else{var ct=C.return;ct!==null?(Ft=ct,Eu(ct)):Ft=null}break e}}le=0,Xn=null,cs(e,n,g,5);break;case 6:le=0,Xn=null,cs(e,n,g,6);break;case 8:wh(),Ce=6;break t;default:throw Error(l(462))}}R2();break}catch(pt){Xg(e,pt)}while(!0);return Tr=ur=null,$.H=c,$.A=h,se=a,Ft!==null?0:(ye=null,Jt=0,Wa(),Ce)}function R2(){for(;Ft!==null&&!me();)Jg(Ft)}function Jg(e){var n=Mg(e.alternate,e,Ei);e.memoizedProps=e.pendingProps,n===null?Eu(e):Ft=n}function tb(e){var n=e,a=n.alternate;switch(n.tag){case 15:case 0:n=_g(a,n,n.pendingProps,n.type,void 0,Jt);break;case 11:n=_g(a,n,n.pendingProps,n.type.render,n.ref,Jt);break;case 5:If(n);default:Ag(a,n),n=Ft=tl(n,Ei),n=Mg(a,n,Ei)}e.memoizedProps=e.pendingProps,n===null?Eu(e):Ft=n}function cs(e,n,a,c){Tr=ur=null,If(n),ts=null,hl=0;var h=n.return;try{if(E2(e,h,n,a,Jt)){Ce=1,gu(e,Tn(a,e.current)),Ft=null;return}}catch(g){if(h!==null)throw Ft=h,g;Ce=1,gu(e,Tn(a,e.current)),Ft=null;return}n.flags&32768?(Ht||c===1?e=!0:is||(Jt&536870912)!==0?e=!1:(ga=e=!0,(c===2||c===9||c===3||c===6)&&(c=dr.current,c!==null&&c.tag===13&&(c.flags|=16384))),eb(n,e)):Eu(n)}function Eu(e){var n=e;do{if((n.flags&32768)!==0){eb(n,ga);return}e=n.return;var a=D2(n.alternate,n,Ei);if(a!==null){Ft=a;return}if(n=n.sibling,n!==null){Ft=n;return}Ft=n=e}while(n!==null);Ce===0&&(Ce=5)}function eb(e,n){do{var a=A2(e.alternate,e);if(a!==null){a.flags&=32767,Ft=a;return}if(a=e.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!n&&(e=e.sibling,e!==null)){Ft=e;return}Ft=e=a}while(e!==null);Ce=6,Ft=null}function nb(e,n,a,c,h,g,M,C,Y){e.cancelPendingCommit=null;do Mu();while(ln!==0);if((se&6)!==0)throw Error(l(327));if(n!==null){if(n===e.current)throw Error(l(177));if(g=n.lanes|n.childLanes,g|=Vn,sf(e,a,g,M,C,Y),e===ye&&(Ft=ye=null,Jt=0),os=n,ya=e,ss=a,_h=g,xh=h,qg=c,(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,I2(Ot,function(){return sb(),null})):(e.callbackNode=null,e.callbackPriority=0),c=(n.flags&13878)!==0,(n.subtreeFlags&13878)!==0||c){c=$.T,$.T=null,h=it.p,it.p=2,M=se,se|=4;try{N2(e,n,a)}finally{se=M,it.p=h,$.T=c}}ln=1,rb(),ib(),ab()}}function rb(){if(ln===1){ln=0;var e=ya,n=os,a=(n.flags&13878)!==0;if((n.subtreeFlags&13878)!==0||a){a=$.T,$.T=null;var c=it.p;it.p=2;var h=se;se|=4;try{Hg(n,e);var g=Ph,M=Ka(e.containerInfo),C=g.focusedElem,Y=g.selectionRange;if(M!==C&&C&&C.ownerDocument&&Io(C.ownerDocument.documentElement,C)){if(Y!==null&&Fa(C)){var ct=Y.start,pt=Y.end;if(pt===void 0&&(pt=ct),"selectionStart"in C)C.selectionStart=ct,C.selectionEnd=Math.min(pt,C.value.length);else{var yt=C.ownerDocument||document,ut=yt&&yt.defaultView||window;if(ut.getSelection){var dt=ut.getSelection(),zt=C.textContent.length,Ct=Math.min(Y.start,zt),de=Y.end===void 0?Ct:Math.min(Y.end,zt);!dt.extend&&Ct>de&&(M=de,de=Ct,Ct=M);var nt=Qs(C,Ct),X=Qs(C,de);if(nt&&X&&(dt.rangeCount!==1||dt.anchorNode!==nt.node||dt.anchorOffset!==nt.offset||dt.focusNode!==X.node||dt.focusOffset!==X.offset)){var st=yt.createRange();st.setStart(nt.node,nt.offset),dt.removeAllRanges(),Ct>de?(dt.addRange(st),dt.extend(X.node,X.offset)):(st.setEnd(X.node,X.offset),dt.addRange(st))}}}}for(yt=[],dt=C;dt=dt.parentNode;)dt.nodeType===1&&yt.push({element:dt,left:dt.scrollLeft,top:dt.scrollTop});for(typeof C.focus=="function"&&C.focus(),C=0;C<yt.length;C++){var gt=yt[C];gt.element.scrollLeft=gt.left,gt.element.scrollTop=gt.top}}zu=!!Rh,Ph=Rh=null}finally{se=h,it.p=c,$.T=a}}e.current=n,ln=2}}function ib(){if(ln===2){ln=0;var e=ya,n=os,a=(n.flags&8772)!==0;if((n.subtreeFlags&8772)!==0||a){a=$.T,$.T=null;var c=it.p;it.p=2;var h=se;se|=4;try{Bg(e,n.alternate,n)}finally{se=h,it.p=c,$.T=a}}ln=3}}function ab(){if(ln===4||ln===3){ln=0,fe();var e=ya,n=os,a=ss,c=qg;(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?ln=5:(ln=0,os=ya=null,ob(e,e.pendingLanes));var h=e.pendingLanes;if(h===0&&(va=null),Rs(a),n=n.stateNode,Ve&&typeof Ve.onCommitFiberRoot=="function")try{Ve.onCommitFiberRoot(yn,n,void 0,(n.current.flags&128)===128)}catch{}if(c!==null){n=$.T,h=it.p,it.p=2,$.T=null;try{for(var g=e.onRecoverableError,M=0;M<c.length;M++){var C=c[M];g(C.value,{componentStack:C.stack})}}finally{$.T=n,it.p=h}}(ss&3)!==0&&Mu(),Vr(e),h=e.pendingLanes,(a&4194090)!==0&&(h&42)!==0?e===Sh?Sl++:(Sl=0,Sh=e):Sl=0,wl(0)}}function ob(e,n){(e.pooledCacheLanes&=n)===0&&(n=e.pooledCache,n!=null&&(e.pooledCache=null,nl(n)))}function Mu(e){return rb(),ib(),ab(),sb()}function sb(){if(ln!==5)return!1;var e=ya,n=_h;_h=0;var a=Rs(ss),c=$.T,h=it.p;try{it.p=32>a?32:a,$.T=null,a=xh,xh=null;var g=ya,M=ss;if(ln=0,os=ya=null,ss=0,(se&6)!==0)throw Error(l(331));var C=se;if(se|=4,Zg(g.current),$g(g,g.current,M,a),se=C,wl(0,!1),Ve&&typeof Ve.onPostCommitFiberRoot=="function")try{Ve.onPostCommitFiberRoot(yn,g)}catch{}return!0}finally{it.p=h,$.T=c,ob(e,n)}}function lb(e,n,a){n=Tn(a,n),n=th(e.stateNode,n,2),e=ca(e,n,2),e!==null&&(Ri(e,2),Vr(e))}function he(e,n,a){if(e.tag===3)lb(e,e,a);else for(;n!==null;){if(n.tag===3){lb(n,e,a);break}else if(n.tag===1){var c=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof c.componentDidCatch=="function"&&(va===null||!va.has(c))){e=Tn(a,e),a=fg(2),c=ca(n,a,2),c!==null&&(hg(a,c,n,e),Ri(c,2),Vr(c));break}}n=n.return}}function Mh(e,n,a){var c=e.pingCache;if(c===null){c=e.pingCache=new k2;var h=new Set;c.set(n,h)}else h=c.get(n),h===void 0&&(h=new Set,c.set(n,h));h.has(a)||(gh=!0,h.add(a),e=P2.bind(null,e,n,a),n.then(e,e))}function P2(e,n,a){var c=e.pingCache;c!==null&&c.delete(n),e.pingedLanes|=e.suspendedLanes&a,e.warmLanes&=~a,ye===e&&(Jt&a)===a&&(Ce===4||Ce===3&&(Jt&62914560)===Jt&&300>pe()-yh?(se&2)===0&&ls(e,0):bh|=a,as===Jt&&(as=0)),Vr(e)}function cb(e,n){n===0&&(n=Cs()),e=ra(e,n),e!==null&&(Ri(e,n),Vr(e))}function z2(e){var n=e.memoizedState,a=0;n!==null&&(a=n.retryLane),cb(e,a)}function H2(e,n){var a=0;switch(e.tag){case 13:var c=e.stateNode,h=e.memoizedState;h!==null&&(a=h.retryLane);break;case 19:c=e.stateNode;break;case 22:c=e.stateNode._retryCache;break;default:throw Error(l(314))}c!==null&&c.delete(n),cb(e,a)}function I2(e,n){return Bt(e,n)}var Du=null,us=null,Dh=!1,Au=!1,Ah=!1,uo=0;function Vr(e){e!==us&&e.next===null&&(us===null?Du=us=e:us=us.next=e),Au=!0,Dh||(Dh=!0,U2())}function wl(e,n){if(!Ah&&Au){Ah=!0;do for(var a=!1,c=Du;c!==null;){if(e!==0){var h=c.pendingLanes;if(h===0)var g=0;else{var M=c.suspendedLanes,C=c.pingedLanes;g=(1<<31-_n(42|e)+1)-1,g&=h&~(M&~C),g=g&201326741?g&201326741|1:g?g|2:0}g!==0&&(a=!0,hb(c,g))}else g=Jt,g=Mo(c,c===ye?g:0,c.cancelPendingCommit!==null||c.timeoutHandle!==-1),(g&3)===0||yr(c,g)||(a=!0,hb(c,g));c=c.next}while(a);Ah=!1}}function $2(){ub()}function ub(){Au=Dh=!1;var e=0;uo!==0&&(X2()&&(e=uo),uo=0);for(var n=pe(),a=null,c=Du;c!==null;){var h=c.next,g=db(c,n);g===0?(c.next=null,a===null?Du=h:a.next=h,h===null&&(us=a)):(a=c,(e!==0||(g&3)!==0)&&(Au=!0)),c=h}wl(e)}function db(e,n){for(var a=e.suspendedLanes,c=e.pingedLanes,h=e.expirationTimes,g=e.pendingLanes&-62914561;0<g;){var M=31-_n(g),C=1<<M,Y=h[M];Y===-1?((C&a)===0||(C&c)!==0)&&(h[M]=of(C,n)):Y<=n&&(e.expiredLanes|=C),g&=~C}if(n=ye,a=Jt,a=Mo(e,e===n?a:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),c=e.callbackNode,a===0||e===n&&(le===2||le===9)||e.cancelPendingCommit!==null)return c!==null&&c!==null&&re(c),e.callbackNode=null,e.callbackPriority=0;if((a&3)===0||yr(e,a)){if(n=a&-a,n===e.callbackPriority)return n;switch(c!==null&&re(c),Rs(a)){case 2:case 8:a=Kt;break;case 32:a=Ot;break;case 268435456:a=Ee;break;default:a=Ot}return c=fb.bind(null,e),a=Bt(a,c),e.callbackPriority=n,e.callbackNode=a,n}return c!==null&&c!==null&&re(c),e.callbackPriority=2,e.callbackNode=null,2}function fb(e,n){if(ln!==0&&ln!==5)return e.callbackNode=null,e.callbackPriority=0,null;var a=e.callbackNode;if(Mu()&&e.callbackNode!==a)return null;var c=Jt;return c=Mo(e,e===ye?c:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),c===0?null:(Kg(e,c,n),db(e,pe()),e.callbackNode!=null&&e.callbackNode===a?fb.bind(null,e):null)}function hb(e,n){if(Mu())return null;Kg(e,n,!0)}function U2(){Q2(function(){(se&6)!==0?Bt(Vt,$2):ub()})}function Nh(){return uo===0&&(uo=xc()),uo}function mb(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:Zi(""+e)}function pb(e,n){var a=n.ownerDocument.createElement("input");return a.name=n.name,a.value=n.value,e.id&&a.setAttribute("form",e.id),n.parentNode.insertBefore(a,n),e=new FormData(e),a.parentNode.removeChild(a),e}function G2(e,n,a,c,h){if(n==="submit"&&a&&a.stateNode===h){var g=mb((h[hn]||null).action),M=c.submitter;M&&(n=(n=M[hn]||null)?mb(n.formAction):M.getAttribute("formAction"),n!==null&&(g=n,M=null));var C=new Ga("action","action",null,c,h);e.push({event:C,listeners:[{instance:null,listener:function(){if(c.defaultPrevented){if(uo!==0){var Y=M?pb(h,M):new FormData(h);Ff(a,{pending:!0,data:Y,method:h.method,action:g},null,Y)}}else typeof g=="function"&&(C.preventDefault(),Y=M?pb(h,M):new FormData(h),Ff(a,{pending:!0,data:Y,method:h.method,action:g},g,Y))},currentTarget:h}]})}}for(var Oh=0;Oh<mi.length;Oh++){var jh=mi[Oh],Z2=jh.toLowerCase(),Y2=jh[0].toUpperCase()+jh.slice(1);qn(Z2,"on"+Y2)}qn(qc,"onAnimationEnd"),qn(Yn,"onAnimationIteration"),qn(Xa,"onAnimationStart"),qn("dblclick","onDoubleClick"),qn("focusin","onFocus"),qn("focusout","onBlur"),qn(Tf,"onTransitionRun"),qn(Zo,"onTransitionStart"),qn(Ef,"onTransitionCancel"),qn(Js,"onTransitionEnd"),ni("onMouseEnter",["mouseout","mouseover"]),ni("onMouseLeave",["mouseout","mouseover"]),ni("onPointerEnter",["pointerout","pointerover"]),ni("onPointerLeave",["pointerout","pointerover"]),ei("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),ei("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),ei("onBeforeInput",["compositionend","keypress","textInput","paste"]),ei("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),ei("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),ei("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Tl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),q2=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Tl));function gb(e,n){n=(n&4)!==0;for(var a=0;a<e.length;a++){var c=e[a],h=c.event;c=c.listeners;t:{var g=void 0;if(n)for(var M=c.length-1;0<=M;M--){var C=c[M],Y=C.instance,ct=C.currentTarget;if(C=C.listener,Y!==g&&h.isPropagationStopped())break t;g=C,h.currentTarget=ct;try{g(h)}catch(pt){pu(pt)}h.currentTarget=null,g=Y}else for(M=0;M<c.length;M++){if(C=c[M],Y=C.instance,ct=C.currentTarget,C=C.listener,Y!==g&&h.isPropagationStopped())break t;g=C,h.currentTarget=ct;try{g(h)}catch(pt){pu(pt)}h.currentTarget=null,g=Y}}}}function Xt(e,n){var a=n[kn];a===void 0&&(a=n[kn]=new Set);var c=e+"__bubble";a.has(c)||(bb(n,e,2,!1),a.add(c))}function kh(e,n,a){var c=0;n&&(c|=4),bb(a,e,c,n)}var Nu="_reactListening"+Math.random().toString(36).slice(2);function Lh(e){if(!e[Nu]){e[Nu]=!0,Mc.forEach(function(a){a!=="selectionchange"&&(q2.has(a)||kh(a,!1,e),kh(a,!0,e))});var n=e.nodeType===9?e:e.ownerDocument;n===null||n[Nu]||(n[Nu]=!0,kh("selectionchange",!1,n))}}function bb(e,n,a,c){switch($b(n)){case 2:var h=yS;break;case 8:h=_S;break;default:h=Vh}a=h.bind(null,n,a,e),h=void 0,!Ua||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(h=!0),c?h!==void 0?e.addEventListener(n,a,{capture:!0,passive:h}):e.addEventListener(n,a,!0):h!==void 0?e.addEventListener(n,a,{passive:h}):e.addEventListener(n,a,!1)}function Ch(e,n,a,c,h){var g=c;if((n&1)===0&&(n&2)===0&&c!==null)t:for(;;){if(c===null)return;var M=c.tag;if(M===3||M===4){var C=c.stateNode.containerInfo;if(C===h)break;if(M===4)for(M=c.return;M!==null;){var Y=M.tag;if((Y===3||Y===4)&&M.stateNode.containerInfo===h)return;M=M.return}for(;C!==null;){if(M=Rr(C),M===null)return;if(Y=M.tag,Y===5||Y===6||Y===26||Y===27){c=g=M;continue t}C=C.parentNode}}c=c.return}$n(function(){var ct=g,pt=Yi(a),yt=[];t:{var ut=Vc.get(e);if(ut!==void 0){var dt=Ga,zt=e;switch(e){case"keypress":if(Le(a)===0)break t;case"keydown":case"keyup":dt=gf;break;case"focusin":zt="focus",dt=Gs;break;case"focusout":zt="blur",dt=Gs;break;case"beforeblur":case"afterblur":dt=Gs;break;case"click":if(a.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":dt=Ki;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":dt=df;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":dt=vf;break;case qc:case Yn:case Xa:dt=ff;break;case Js:dt=yf;break;case"scroll":case"scrollend":dt=uf;break;case"wheel":dt=Pc;break;case"copy":case"cut":case"paste":dt=Zs;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":dt=qs;break;case"toggle":case"beforetoggle":dt=ui}var Ct=(n&4)!==0,de=!Ct&&(e==="scroll"||e==="scrollend"),nt=Ct?ut!==null?ut+"Capture":null:ut;Ct=[];for(var X=ct,st;X!==null;){var gt=X;if(st=gt.stateNode,gt=gt.tag,gt!==5&&gt!==26&&gt!==27||st===null||nt===null||(gt=ee(X,nt),gt!=null&&Ct.push(El(X,gt,st))),de)break;X=X.return}0<Ct.length&&(ut=new dt(ut,zt,null,a,pt),yt.push({event:ut,listeners:Ct}))}}if((n&7)===0){t:{if(ut=e==="mouseover"||e==="pointerover",dt=e==="mouseout"||e==="pointerout",ut&&a!==$a&&(zt=a.relatedTarget||a.fromElement)&&(Rr(zt)||zt[Pi]))break t;if((dt||ut)&&(ut=pt.window===pt?pt:(ut=pt.ownerDocument)?ut.defaultView||ut.parentWindow:window,dt?(zt=a.relatedTarget||a.toElement,dt=ct,zt=zt?Rr(zt):null,zt!==null&&(de=d(zt),Ct=zt.tag,zt!==de||Ct!==5&&Ct!==27&&Ct!==6)&&(zt=null)):(dt=null,zt=ct),dt!==zt)){if(Ct=Ki,gt="onMouseLeave",nt="onMouseEnter",X="mouse",(e==="pointerout"||e==="pointerover")&&(Ct=qs,gt="onPointerLeave",nt="onPointerEnter",X="pointer"),de=dt==null?ut:rr(dt),st=zt==null?ut:rr(zt),ut=new Ct(gt,X+"leave",dt,a,pt),ut.target=de,ut.relatedTarget=st,gt=null,Rr(pt)===ct&&(Ct=new Ct(nt,X+"enter",zt,a,pt),Ct.target=st,Ct.relatedTarget=de,gt=Ct),de=gt,dt&&zt)e:{for(Ct=dt,nt=zt,X=0,st=Ct;st;st=ds(st))X++;for(st=0,gt=nt;gt;gt=ds(gt))st++;for(;0<X-st;)Ct=ds(Ct),X--;for(;0<st-X;)nt=ds(nt),st--;for(;X--;){if(Ct===nt||nt!==null&&Ct===nt.alternate)break e;Ct=ds(Ct),nt=ds(nt)}Ct=null}else Ct=null;dt!==null&&vb(yt,ut,dt,Ct,!1),zt!==null&&de!==null&&vb(yt,de,zt,Ct,!0)}}t:{if(ut=ct?rr(ct):window,dt=ut.nodeName&&ut.nodeName.toLowerCase(),dt==="select"||dt==="input"&&ut.type==="file")var At=Wi;else if(fi(ut))if(Fs)At=wf;else{At=Sf;var qt=Ws}else dt=ut.nodeName,!dt||dt.toLowerCase()!=="input"||ut.type!=="checkbox"&&ut.type!=="radio"?ct&&Ia(ct.elementType)&&(At=Wi):At=wr;if(At&&(At=At(e,ct))){Uc(yt,At,a,pt);break t}qt&&qt(e,ut,ct),e==="focusout"&&ct&&ut.type==="number"&&ct.memoizedProps.value!=null&&Ui(ut,"number",ut.value)}switch(qt=ct?rr(ct):window,e){case"focusin":(fi(qt)||qt.contentEditable==="true")&&(Zn=qt,ta=ct,hi=null);break;case"focusout":hi=ta=Zn=null;break;case"mousedown":Uo=!0;break;case"contextmenu":case"mouseup":case"dragend":Uo=!1,Zc(yt,a,pt);break;case"selectionchange":if($o)break;case"keydown":case"keyup":Zc(yt,a,pt)}var kt;if(di)t:{switch(e){case"compositionstart":var Rt="onCompositionStart";break t;case"compositionend":Rt="onCompositionEnd";break t;case"compositionupdate":Rt="onCompositionUpdate";break t}Rt=void 0}else Fi?zo(e,a)&&(Rt="onCompositionEnd"):e==="keydown"&&a.keyCode===229&&(Rt="onCompositionStart");Rt&&(Ks&&a.locale!=="ko"&&(Fi||Rt!=="onCompositionStart"?Rt==="onCompositionEnd"&&Fi&&(kt=Vi()):(or=pt,xr="value"in or?or.value:or.textContent,Fi=!0)),qt=Ou(ct,Rt),0<qt.length&&(Rt=new Un(Rt,e,null,a,pt),yt.push({event:Rt,listeners:qt}),kt?Rt.data=kt:(kt=Ic(a),kt!==null&&(Rt.data=kt)))),(kt=zc?$c(e,a):xf(e,a))&&(Rt=Ou(ct,"onBeforeInput"),0<Rt.length&&(qt=new Un("onBeforeInput","beforeinput",null,a,pt),yt.push({event:qt,listeners:Rt}),qt.data=kt)),G2(yt,e,ct,a,pt)}gb(yt,n)})}function El(e,n,a){return{instance:e,listener:n,currentTarget:a}}function Ou(e,n){for(var a=n+"Capture",c=[];e!==null;){var h=e,g=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||g===null||(h=ee(e,a),h!=null&&c.unshift(El(e,h,g)),h=ee(e,n),h!=null&&c.push(El(e,h,g))),e.tag===3)return c;e=e.return}return[]}function ds(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function vb(e,n,a,c,h){for(var g=n._reactName,M=[];a!==null&&a!==c;){var C=a,Y=C.alternate,ct=C.stateNode;if(C=C.tag,Y!==null&&Y===c)break;C!==5&&C!==26&&C!==27||ct===null||(Y=ct,h?(ct=ee(a,g),ct!=null&&M.unshift(El(a,ct,Y))):h||(ct=ee(a,g),ct!=null&&M.push(El(a,ct,Y)))),a=a.return}M.length!==0&&e.push({event:n,listeners:M})}var V2=/\r\n?/g,K2=/\u0000|\uFFFD/g;function yb(e){return(typeof e=="string"?e:""+e).replace(V2,`
`).replace(K2,"")}function _b(e,n){return n=yb(n),yb(e)===n}function ju(){}function ue(e,n,a,c,h,g){switch(a){case"children":typeof c=="string"?n==="body"||n==="textarea"&&c===""||ir(e,c):(typeof c=="number"||typeof c=="bigint")&&n!=="body"&&ir(e,""+c);break;case"className":Oo(e,"class",c);break;case"tabIndex":Oo(e,"tabindex",c);break;case"dir":case"role":case"viewBox":case"width":case"height":Oo(e,a,c);break;case"style":Gi(e,c,g);break;case"data":if(n!=="object"){Oo(e,"data",c);break}case"src":case"href":if(c===""&&(n!=="a"||a!=="href")){e.removeAttribute(a);break}if(c==null||typeof c=="function"||typeof c=="symbol"||typeof c=="boolean"){e.removeAttribute(a);break}c=Zi(""+c),e.setAttribute(a,c);break;case"action":case"formAction":if(typeof c=="function"){e.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof g=="function"&&(a==="formAction"?(n!=="input"&&ue(e,n,"name",h.name,h,null),ue(e,n,"formEncType",h.formEncType,h,null),ue(e,n,"formMethod",h.formMethod,h,null),ue(e,n,"formTarget",h.formTarget,h,null)):(ue(e,n,"encType",h.encType,h,null),ue(e,n,"method",h.method,h,null),ue(e,n,"target",h.target,h,null)));if(c==null||typeof c=="symbol"||typeof c=="boolean"){e.removeAttribute(a);break}c=Zi(""+c),e.setAttribute(a,c);break;case"onClick":c!=null&&(e.onclick=ju);break;case"onScroll":c!=null&&Xt("scroll",e);break;case"onScrollEnd":c!=null&&Xt("scrollend",e);break;case"dangerouslySetInnerHTML":if(c!=null){if(typeof c!="object"||!("__html"in c))throw Error(l(61));if(a=c.__html,a!=null){if(h.children!=null)throw Error(l(60));e.innerHTML=a}}break;case"multiple":e.multiple=c&&typeof c!="function"&&typeof c!="symbol";break;case"muted":e.muted=c&&typeof c!="function"&&typeof c!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(c==null||typeof c=="function"||typeof c=="boolean"||typeof c=="symbol"){e.removeAttribute("xlink:href");break}a=Zi(""+c),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":c!=null&&typeof c!="function"&&typeof c!="symbol"?e.setAttribute(a,""+c):e.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":c&&typeof c!="function"&&typeof c!="symbol"?e.setAttribute(a,""):e.removeAttribute(a);break;case"capture":case"download":c===!0?e.setAttribute(a,""):c!==!1&&c!=null&&typeof c!="function"&&typeof c!="symbol"?e.setAttribute(a,c):e.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":c!=null&&typeof c!="function"&&typeof c!="symbol"&&!isNaN(c)&&1<=c?e.setAttribute(a,c):e.removeAttribute(a);break;case"rowSpan":case"start":c==null||typeof c=="function"||typeof c=="symbol"||isNaN(c)?e.removeAttribute(a):e.setAttribute(a,c);break;case"popover":Xt("beforetoggle",e),Xt("toggle",e),No(e,"popover",c);break;case"xlinkActuate":_r(e,"http://www.w3.org/1999/xlink","xlink:actuate",c);break;case"xlinkArcrole":_r(e,"http://www.w3.org/1999/xlink","xlink:arcrole",c);break;case"xlinkRole":_r(e,"http://www.w3.org/1999/xlink","xlink:role",c);break;case"xlinkShow":_r(e,"http://www.w3.org/1999/xlink","xlink:show",c);break;case"xlinkTitle":_r(e,"http://www.w3.org/1999/xlink","xlink:title",c);break;case"xlinkType":_r(e,"http://www.w3.org/1999/xlink","xlink:type",c);break;case"xmlBase":_r(e,"http://www.w3.org/XML/1998/namespace","xml:base",c);break;case"xmlLang":_r(e,"http://www.w3.org/XML/1998/namespace","xml:lang",c);break;case"xmlSpace":_r(e,"http://www.w3.org/XML/1998/namespace","xml:space",c);break;case"is":No(e,"is",c);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=Is.get(a)||a,No(e,a,c))}}function Bh(e,n,a,c,h,g){switch(a){case"style":Gi(e,c,g);break;case"dangerouslySetInnerHTML":if(c!=null){if(typeof c!="object"||!("__html"in c))throw Error(l(61));if(a=c.__html,a!=null){if(h.children!=null)throw Error(l(60));e.innerHTML=a}}break;case"children":typeof c=="string"?ir(e,c):(typeof c=="number"||typeof c=="bigint")&&ir(e,""+c);break;case"onScroll":c!=null&&Xt("scroll",e);break;case"onScrollEnd":c!=null&&Xt("scrollend",e);break;case"onClick":c!=null&&(e.onclick=ju);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Dc.hasOwnProperty(a))t:{if(a[0]==="o"&&a[1]==="n"&&(h=a.endsWith("Capture"),n=a.slice(2,h?a.length-7:void 0),g=e[hn]||null,g=g!=null?g[a]:null,typeof g=="function"&&e.removeEventListener(n,g,h),typeof c=="function")){typeof g!="function"&&g!==null&&(a in e?e[a]=null:e.hasAttribute(a)&&e.removeAttribute(a)),e.addEventListener(n,c,h);break t}a in e?e[a]=c:c===!0?e.setAttribute(a,""):No(e,a,c)}}}function cn(e,n,a){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Xt("error",e),Xt("load",e);var c=!1,h=!1,g;for(g in a)if(a.hasOwnProperty(g)){var M=a[g];if(M!=null)switch(g){case"src":c=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(l(137,n));default:ue(e,n,g,M,a,null)}}h&&ue(e,n,"srcSet",a.srcSet,a,null),c&&ue(e,n,"src",a.src,a,null);return;case"input":Xt("invalid",e);var C=g=M=h=null,Y=null,ct=null;for(c in a)if(a.hasOwnProperty(c)){var pt=a[c];if(pt!=null)switch(c){case"name":h=pt;break;case"type":M=pt;break;case"checked":Y=pt;break;case"defaultChecked":ct=pt;break;case"value":g=pt;break;case"defaultValue":C=pt;break;case"children":case"dangerouslySetInnerHTML":if(pt!=null)throw Error(l(137,n));break;default:ue(e,n,c,pt,a,null)}}Nc(e,g,C,Y,ct,M,h,!1),$i(e);return;case"select":Xt("invalid",e),c=M=g=null;for(h in a)if(a.hasOwnProperty(h)&&(C=a[h],C!=null))switch(h){case"value":g=C;break;case"defaultValue":M=C;break;case"multiple":c=C;default:ue(e,n,h,C,a,null)}n=g,a=M,e.multiple=!!c,n!=null?Ln(e,!!c,n,!1):a!=null&&Ln(e,!!c,a,!0);return;case"textarea":Xt("invalid",e),g=h=c=null;for(M in a)if(a.hasOwnProperty(M)&&(C=a[M],C!=null))switch(M){case"value":c=C;break;case"defaultValue":h=C;break;case"children":g=C;break;case"dangerouslySetInnerHTML":if(C!=null)throw Error(l(91));break;default:ue(e,n,M,C,a,null)}Pr(e,c,h,g),$i(e);return;case"option":for(Y in a)if(a.hasOwnProperty(Y)&&(c=a[Y],c!=null))switch(Y){case"selected":e.selected=c&&typeof c!="function"&&typeof c!="symbol";break;default:ue(e,n,Y,c,a,null)}return;case"dialog":Xt("beforetoggle",e),Xt("toggle",e),Xt("cancel",e),Xt("close",e);break;case"iframe":case"object":Xt("load",e);break;case"video":case"audio":for(c=0;c<Tl.length;c++)Xt(Tl[c],e);break;case"image":Xt("error",e),Xt("load",e);break;case"details":Xt("toggle",e);break;case"embed":case"source":case"link":Xt("error",e),Xt("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(ct in a)if(a.hasOwnProperty(ct)&&(c=a[ct],c!=null))switch(ct){case"children":case"dangerouslySetInnerHTML":throw Error(l(137,n));default:ue(e,n,ct,c,a,null)}return;default:if(Ia(n)){for(pt in a)a.hasOwnProperty(pt)&&(c=a[pt],c!==void 0&&Bh(e,n,pt,c,a,void 0));return}}for(C in a)a.hasOwnProperty(C)&&(c=a[C],c!=null&&ue(e,n,C,c,a,null))}function F2(e,n,a,c){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,g=null,M=null,C=null,Y=null,ct=null,pt=null;for(dt in a){var yt=a[dt];if(a.hasOwnProperty(dt)&&yt!=null)switch(dt){case"checked":break;case"value":break;case"defaultValue":Y=yt;default:c.hasOwnProperty(dt)||ue(e,n,dt,null,c,yt)}}for(var ut in c){var dt=c[ut];if(yt=a[ut],c.hasOwnProperty(ut)&&(dt!=null||yt!=null))switch(ut){case"type":g=dt;break;case"name":h=dt;break;case"checked":ct=dt;break;case"defaultChecked":pt=dt;break;case"value":M=dt;break;case"defaultValue":C=dt;break;case"children":case"dangerouslySetInnerHTML":if(dt!=null)throw Error(l(137,n));break;default:dt!==yt&&ue(e,n,ut,dt,c,yt)}}mn(e,M,C,Y,ct,pt,g,h);return;case"select":dt=M=C=ut=null;for(g in a)if(Y=a[g],a.hasOwnProperty(g)&&Y!=null)switch(g){case"value":break;case"multiple":dt=Y;default:c.hasOwnProperty(g)||ue(e,n,g,null,c,Y)}for(h in c)if(g=c[h],Y=a[h],c.hasOwnProperty(h)&&(g!=null||Y!=null))switch(h){case"value":ut=g;break;case"defaultValue":C=g;break;case"multiple":M=g;default:g!==Y&&ue(e,n,h,g,c,Y)}n=C,a=M,c=dt,ut!=null?Ln(e,!!a,ut,!1):!!c!=!!a&&(n!=null?Ln(e,!!a,n,!0):Ln(e,!!a,a?[]:"",!1));return;case"textarea":dt=ut=null;for(C in a)if(h=a[C],a.hasOwnProperty(C)&&h!=null&&!c.hasOwnProperty(C))switch(C){case"value":break;case"children":break;default:ue(e,n,C,null,c,h)}for(M in c)if(h=c[M],g=a[M],c.hasOwnProperty(M)&&(h!=null||g!=null))switch(M){case"value":ut=h;break;case"defaultValue":dt=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(l(91));break;default:h!==g&&ue(e,n,M,h,c,g)}Ae(e,ut,dt);return;case"option":for(var zt in a)if(ut=a[zt],a.hasOwnProperty(zt)&&ut!=null&&!c.hasOwnProperty(zt))switch(zt){case"selected":e.selected=!1;break;default:ue(e,n,zt,null,c,ut)}for(Y in c)if(ut=c[Y],dt=a[Y],c.hasOwnProperty(Y)&&ut!==dt&&(ut!=null||dt!=null))switch(Y){case"selected":e.selected=ut&&typeof ut!="function"&&typeof ut!="symbol";break;default:ue(e,n,Y,ut,c,dt)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Ct in a)ut=a[Ct],a.hasOwnProperty(Ct)&&ut!=null&&!c.hasOwnProperty(Ct)&&ue(e,n,Ct,null,c,ut);for(ct in c)if(ut=c[ct],dt=a[ct],c.hasOwnProperty(ct)&&ut!==dt&&(ut!=null||dt!=null))switch(ct){case"children":case"dangerouslySetInnerHTML":if(ut!=null)throw Error(l(137,n));break;default:ue(e,n,ct,ut,c,dt)}return;default:if(Ia(n)){for(var de in a)ut=a[de],a.hasOwnProperty(de)&&ut!==void 0&&!c.hasOwnProperty(de)&&Bh(e,n,de,void 0,c,ut);for(pt in c)ut=c[pt],dt=a[pt],!c.hasOwnProperty(pt)||ut===dt||ut===void 0&&dt===void 0||Bh(e,n,pt,ut,c,dt);return}}for(var nt in a)ut=a[nt],a.hasOwnProperty(nt)&&ut!=null&&!c.hasOwnProperty(nt)&&ue(e,n,nt,null,c,ut);for(yt in c)ut=c[yt],dt=a[yt],!c.hasOwnProperty(yt)||ut===dt||ut==null&&dt==null||ue(e,n,yt,ut,c,dt)}var Rh=null,Ph=null;function ku(e){return e.nodeType===9?e:e.ownerDocument}function xb(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Sb(e,n){if(e===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&n==="foreignObject"?0:e}function zh(e,n){return e==="textarea"||e==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var Hh=null;function X2(){var e=window.event;return e&&e.type==="popstate"?e===Hh?!1:(Hh=e,!0):(Hh=null,!1)}var wb=typeof setTimeout=="function"?setTimeout:void 0,W2=typeof clearTimeout=="function"?clearTimeout:void 0,Tb=typeof Promise=="function"?Promise:void 0,Q2=typeof queueMicrotask=="function"?queueMicrotask:typeof Tb<"u"?function(e){return Tb.resolve(null).then(e).catch(J2)}:wb;function J2(e){setTimeout(function(){throw e})}function xa(e){return e==="head"}function Eb(e,n){var a=n,c=0,h=0;do{var g=a.nextSibling;if(e.removeChild(a),g&&g.nodeType===8)if(a=g.data,a==="/$"){if(0<c&&8>c){a=c;var M=e.ownerDocument;if(a&1&&Ml(M.documentElement),a&2&&Ml(M.body),a&4)for(a=M.head,Ml(a),M=a.firstChild;M;){var C=M.nextSibling,Y=M.nodeName;M[zi]||Y==="SCRIPT"||Y==="STYLE"||Y==="LINK"&&M.rel.toLowerCase()==="stylesheet"||a.removeChild(M),M=C}}if(h===0){e.removeChild(g),Cl(n);return}h--}else a==="$"||a==="$?"||a==="$!"?h++:c=a.charCodeAt(0)-48;else c=0;a=g}while(a);Cl(n)}function Ih(e){var n=e.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var a=n;switch(n=n.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":Ih(a),Ao(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}e.removeChild(a)}}function tS(e,n,a,c){for(;e.nodeType===1;){var h=a;if(e.nodeName.toLowerCase()!==n.toLowerCase()){if(!c&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(c){if(!e[zi])switch(n){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(g=e.getAttribute("rel"),g==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(g!==h.rel||e.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||e.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||e.getAttribute("title")!==(h.title==null?null:h.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(g=e.getAttribute("src"),(g!==(h.src==null?null:h.src)||e.getAttribute("type")!==(h.type==null?null:h.type)||e.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&g&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(n==="input"&&e.type==="hidden"){var g=h.name==null?null:""+h.name;if(h.type==="hidden"&&e.getAttribute("name")===g)return e}else return e;if(e=Dr(e.nextSibling),e===null)break}return null}function eS(e,n,a){if(n==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!a||(e=Dr(e.nextSibling),e===null))return null;return e}function $h(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState==="complete"}function nS(e,n){var a=e.ownerDocument;if(e.data!=="$?"||a.readyState==="complete")n();else{var c=function(){n(),a.removeEventListener("DOMContentLoaded",c)};a.addEventListener("DOMContentLoaded",c),e._reactRetry=c}}function Dr(e){for(;e!=null;e=e.nextSibling){var n=e.nodeType;if(n===1||n===3)break;if(n===8){if(n=e.data,n==="$"||n==="$!"||n==="$?"||n==="F!"||n==="F")break;if(n==="/$")return null}}return e}var Uh=null;function Mb(e){e=e.previousSibling;for(var n=0;e;){if(e.nodeType===8){var a=e.data;if(a==="$"||a==="$!"||a==="$?"){if(n===0)return e;n--}else a==="/$"&&n++}e=e.previousSibling}return null}function Db(e,n,a){switch(n=ku(a),e){case"html":if(e=n.documentElement,!e)throw Error(l(452));return e;case"head":if(e=n.head,!e)throw Error(l(453));return e;case"body":if(e=n.body,!e)throw Error(l(454));return e;default:throw Error(l(451))}}function Ml(e){for(var n=e.attributes;n.length;)e.removeAttributeNode(n[0]);Ao(e)}var hr=new Map,Ab=new Set;function Lu(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var Mi=it.d;it.d={f:rS,r:iS,D:aS,C:oS,L:sS,m:lS,X:uS,S:cS,M:dS};function rS(){var e=Mi.f(),n=Tu();return e||n}function iS(e){var n=Jr(e);n!==null&&n.tag===5&&n.type==="form"?K0(n):Mi.r(e)}var fs=typeof document>"u"?null:document;function Nb(e,n,a){var c=fs;if(c&&typeof n=="string"&&n){var h=an(n);h='link[rel="'+e+'"][href="'+h+'"]',typeof a=="string"&&(h+='[crossorigin="'+a+'"]'),Ab.has(h)||(Ab.add(h),e={rel:e,crossOrigin:a,href:n},c.querySelector(h)===null&&(n=c.createElement("link"),cn(n,"link",e),ze(n),c.head.appendChild(n)))}}function aS(e){Mi.D(e),Nb("dns-prefetch",e,null)}function oS(e,n){Mi.C(e,n),Nb("preconnect",e,n)}function sS(e,n,a){Mi.L(e,n,a);var c=fs;if(c&&e&&n){var h='link[rel="preload"][as="'+an(n)+'"]';n==="image"&&a&&a.imageSrcSet?(h+='[imagesrcset="'+an(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(h+='[imagesizes="'+an(a.imageSizes)+'"]')):h+='[href="'+an(e)+'"]';var g=h;switch(n){case"style":g=hs(e);break;case"script":g=ms(e)}hr.has(g)||(e=w({rel:"preload",href:n==="image"&&a&&a.imageSrcSet?void 0:e,as:n},a),hr.set(g,e),c.querySelector(h)!==null||n==="style"&&c.querySelector(Dl(g))||n==="script"&&c.querySelector(Al(g))||(n=c.createElement("link"),cn(n,"link",e),ze(n),c.head.appendChild(n)))}}function lS(e,n){Mi.m(e,n);var a=fs;if(a&&e){var c=n&&typeof n.as=="string"?n.as:"script",h='link[rel="modulepreload"][as="'+an(c)+'"][href="'+an(e)+'"]',g=h;switch(c){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":g=ms(e)}if(!hr.has(g)&&(e=w({rel:"modulepreload",href:e},n),hr.set(g,e),a.querySelector(h)===null)){switch(c){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(Al(g)))return}c=a.createElement("link"),cn(c,"link",e),ze(c),a.head.appendChild(c)}}}function cS(e,n,a){Mi.S(e,n,a);var c=fs;if(c&&e){var h=ti(c).hoistableStyles,g=hs(e);n=n||"default";var M=h.get(g);if(!M){var C={loading:0,preload:null};if(M=c.querySelector(Dl(g)))C.loading=5;else{e=w({rel:"stylesheet",href:e,"data-precedence":n},a),(a=hr.get(g))&&Gh(e,a);var Y=M=c.createElement("link");ze(Y),cn(Y,"link",e),Y._p=new Promise(function(ct,pt){Y.onload=ct,Y.onerror=pt}),Y.addEventListener("load",function(){C.loading|=1}),Y.addEventListener("error",function(){C.loading|=2}),C.loading|=4,Cu(M,n,c)}M={type:"stylesheet",instance:M,count:1,state:C},h.set(g,M)}}}function uS(e,n){Mi.X(e,n);var a=fs;if(a&&e){var c=ti(a).hoistableScripts,h=ms(e),g=c.get(h);g||(g=a.querySelector(Al(h)),g||(e=w({src:e,async:!0},n),(n=hr.get(h))&&Zh(e,n),g=a.createElement("script"),ze(g),cn(g,"link",e),a.head.appendChild(g)),g={type:"script",instance:g,count:1,state:null},c.set(h,g))}}function dS(e,n){Mi.M(e,n);var a=fs;if(a&&e){var c=ti(a).hoistableScripts,h=ms(e),g=c.get(h);g||(g=a.querySelector(Al(h)),g||(e=w({src:e,async:!0,type:"module"},n),(n=hr.get(h))&&Zh(e,n),g=a.createElement("script"),ze(g),cn(g,"link",e),a.head.appendChild(g)),g={type:"script",instance:g,count:1,state:null},c.set(h,g))}}function Ob(e,n,a,c){var h=(h=ht.current)?Lu(h):null;if(!h)throw Error(l(446));switch(e){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(n=hs(a.href),a=ti(h).hoistableStyles,c=a.get(n),c||(c={type:"style",instance:null,count:0,state:null},a.set(n,c)),c):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){e=hs(a.href);var g=ti(h).hoistableStyles,M=g.get(e);if(M||(h=h.ownerDocument||h,M={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},g.set(e,M),(g=h.querySelector(Dl(e)))&&!g._p&&(M.instance=g,M.state.loading=5),hr.has(e)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},hr.set(e,a),g||fS(h,e,a,M.state))),n&&c===null)throw Error(l(528,""));return M}if(n&&c!==null)throw Error(l(529,""));return null;case"script":return n=a.async,a=a.src,typeof a=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=ms(a),a=ti(h).hoistableScripts,c=a.get(n),c||(c={type:"script",instance:null,count:0,state:null},a.set(n,c)),c):{type:"void",instance:null,count:0,state:null};default:throw Error(l(444,e))}}function hs(e){return'href="'+an(e)+'"'}function Dl(e){return'link[rel="stylesheet"]['+e+"]"}function jb(e){return w({},e,{"data-precedence":e.precedence,precedence:null})}function fS(e,n,a,c){e.querySelector('link[rel="preload"][as="style"]['+n+"]")?c.loading=1:(n=e.createElement("link"),c.preload=n,n.addEventListener("load",function(){return c.loading|=1}),n.addEventListener("error",function(){return c.loading|=2}),cn(n,"link",a),ze(n),e.head.appendChild(n))}function ms(e){return'[src="'+an(e)+'"]'}function Al(e){return"script[async]"+e}function kb(e,n,a){if(n.count++,n.instance===null)switch(n.type){case"style":var c=e.querySelector('style[data-href~="'+an(a.href)+'"]');if(c)return n.instance=c,ze(c),c;var h=w({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return c=(e.ownerDocument||e).createElement("style"),ze(c),cn(c,"style",h),Cu(c,a.precedence,e),n.instance=c;case"stylesheet":h=hs(a.href);var g=e.querySelector(Dl(h));if(g)return n.state.loading|=4,n.instance=g,ze(g),g;c=jb(a),(h=hr.get(h))&&Gh(c,h),g=(e.ownerDocument||e).createElement("link"),ze(g);var M=g;return M._p=new Promise(function(C,Y){M.onload=C,M.onerror=Y}),cn(g,"link",c),n.state.loading|=4,Cu(g,a.precedence,e),n.instance=g;case"script":return g=ms(a.src),(h=e.querySelector(Al(g)))?(n.instance=h,ze(h),h):(c=a,(h=hr.get(g))&&(c=w({},a),Zh(c,h)),e=e.ownerDocument||e,h=e.createElement("script"),ze(h),cn(h,"link",c),e.head.appendChild(h),n.instance=h);case"void":return null;default:throw Error(l(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(c=n.instance,n.state.loading|=4,Cu(c,a.precedence,e));return n.instance}function Cu(e,n,a){for(var c=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=c.length?c[c.length-1]:null,g=h,M=0;M<c.length;M++){var C=c[M];if(C.dataset.precedence===n)g=C;else if(g!==h)break}g?g.parentNode.insertBefore(e,g.nextSibling):(n=a.nodeType===9?a.head:a,n.insertBefore(e,n.firstChild))}function Gh(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.title==null&&(e.title=n.title)}function Zh(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.integrity==null&&(e.integrity=n.integrity)}var Bu=null;function Lb(e,n,a){if(Bu===null){var c=new Map,h=Bu=new Map;h.set(a,c)}else h=Bu,c=h.get(a),c||(c=new Map,h.set(a,c));if(c.has(e))return c;for(c.set(e,null),a=a.getElementsByTagName(e),h=0;h<a.length;h++){var g=a[h];if(!(g[zi]||g[Ke]||e==="link"&&g.getAttribute("rel")==="stylesheet")&&g.namespaceURI!=="http://www.w3.org/2000/svg"){var M=g.getAttribute(n)||"";M=e+M;var C=c.get(M);C?C.push(g):c.set(M,[g])}}return c}function Cb(e,n,a){e=e.ownerDocument||e,e.head.insertBefore(a,n==="title"?e.querySelector("head > title"):null)}function hS(e,n,a){if(a===1||n.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;switch(n.rel){case"stylesheet":return e=n.disabled,typeof n.precedence=="string"&&e==null;default:return!0}case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function Bb(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}var Nl=null;function mS(){}function pS(e,n,a){if(Nl===null)throw Error(l(475));var c=Nl;if(n.type==="stylesheet"&&(typeof a.media!="string"||matchMedia(a.media).matches!==!1)&&(n.state.loading&4)===0){if(n.instance===null){var h=hs(a.href),g=e.querySelector(Dl(h));if(g){e=g._p,e!==null&&typeof e=="object"&&typeof e.then=="function"&&(c.count++,c=Ru.bind(c),e.then(c,c)),n.state.loading|=4,n.instance=g,ze(g);return}g=e.ownerDocument||e,a=jb(a),(h=hr.get(h))&&Gh(a,h),g=g.createElement("link"),ze(g);var M=g;M._p=new Promise(function(C,Y){M.onload=C,M.onerror=Y}),cn(g,"link",a),n.instance=g}c.stylesheets===null&&(c.stylesheets=new Map),c.stylesheets.set(n,e),(e=n.state.preload)&&(n.state.loading&3)===0&&(c.count++,n=Ru.bind(c),e.addEventListener("load",n),e.addEventListener("error",n))}}function gS(){if(Nl===null)throw Error(l(475));var e=Nl;return e.stylesheets&&e.count===0&&Yh(e,e.stylesheets),0<e.count?function(n){var a=setTimeout(function(){if(e.stylesheets&&Yh(e,e.stylesheets),e.unsuspend){var c=e.unsuspend;e.unsuspend=null,c()}},6e4);return e.unsuspend=n,function(){e.unsuspend=null,clearTimeout(a)}}:null}function Ru(){if(this.count--,this.count===0){if(this.stylesheets)Yh(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var Pu=null;function Yh(e,n){e.stylesheets=null,e.unsuspend!==null&&(e.count++,Pu=new Map,n.forEach(bS,e),Pu=null,Ru.call(e))}function bS(e,n){if(!(n.state.loading&4)){var a=Pu.get(e);if(a)var c=a.get(null);else{a=new Map,Pu.set(e,a);for(var h=e.querySelectorAll("link[data-precedence],style[data-precedence]"),g=0;g<h.length;g++){var M=h[g];(M.nodeName==="LINK"||M.getAttribute("media")!=="not all")&&(a.set(M.dataset.precedence,M),c=M)}c&&a.set(null,c)}h=n.instance,M=h.getAttribute("data-precedence"),g=a.get(M)||c,g===c&&a.set(null,h),a.set(M,h),this.count++,c=Ru.bind(this),h.addEventListener("load",c),h.addEventListener("error",c),g?g.parentNode.insertBefore(h,g.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(h,e.firstChild)),n.state.loading|=4}}var Ol={$$typeof:k,Provider:null,Consumer:null,_currentValue:ot,_currentValue2:ot,_threadCount:0};function vS(e,n,a,c,h,g,M,C){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Do(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Do(0),this.hiddenUpdates=Do(null),this.identifierPrefix=c,this.onUncaughtError=h,this.onCaughtError=g,this.onRecoverableError=M,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=C,this.incompleteTransitions=new Map}function Rb(e,n,a,c,h,g,M,C,Y,ct,pt,yt){return e=new vS(e,n,a,M,C,Y,ct,yt),n=1,g===!0&&(n|=24),g=Mn(3,null,null,n),e.current=g,g.stateNode=e,n=Mf(),n.refCount++,e.pooledCache=n,n.refCount++,g.memoizedState={element:c,isDehydrated:a,cache:n},Of(g),e}function Pb(e){return e?(e=bi,e):bi}function zb(e,n,a,c,h,g){h=Pb(h),c.context===null?c.context=h:c.pendingContext=h,c=la(n),c.payload={element:a},g=g===void 0?null:g,g!==null&&(c.callback=g),a=ca(e,c,n),a!==null&&(Qn(a,e,n),ol(a,e,n))}function Hb(e,n){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var a=e.retryLane;e.retryLane=a!==0&&a<n?a:n}}function qh(e,n){Hb(e,n),(e=e.alternate)&&Hb(e,n)}function Ib(e){if(e.tag===13){var n=ra(e,67108864);n!==null&&Qn(n,e,67108864),qh(e,67108864)}}var zu=!0;function yS(e,n,a,c){var h=$.T;$.T=null;var g=it.p;try{it.p=2,Vh(e,n,a,c)}finally{it.p=g,$.T=h}}function _S(e,n,a,c){var h=$.T;$.T=null;var g=it.p;try{it.p=8,Vh(e,n,a,c)}finally{it.p=g,$.T=h}}function Vh(e,n,a,c){if(zu){var h=Kh(c);if(h===null)Ch(e,n,c,Hu,a),Ub(e,c);else if(SS(h,e,n,a,c))c.stopPropagation();else if(Ub(e,c),n&4&&-1<xS.indexOf(e)){for(;h!==null;){var g=Jr(h);if(g!==null)switch(g.tag){case 3:if(g=g.stateNode,g.current.memoizedState.isDehydrated){var M=Cr(g.pendingLanes);if(M!==0){var C=g;for(C.pendingLanes|=2,C.entangledLanes|=2;M;){var Y=1<<31-_n(M);C.entanglements[1]|=Y,M&=~Y}Vr(g),(se&6)===0&&(Su=pe()+500,wl(0))}}break;case 13:C=ra(g,2),C!==null&&Qn(C,g,2),Tu(),qh(g,2)}if(g=Kh(c),g===null&&Ch(e,n,c,Hu,a),g===h)break;h=g}h!==null&&c.stopPropagation()}else Ch(e,n,c,null,a)}}function Kh(e){return e=Yi(e),Fh(e)}var Hu=null;function Fh(e){if(Hu=null,e=Rr(e),e!==null){var n=d(e);if(n===null)e=null;else{var a=n.tag;if(a===13){if(e=m(n),e!==null)return e;e=null}else if(a===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;e=null}else n!==e&&(e=null)}}return Hu=e,null}function $b(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Mt()){case Vt:return 2;case Kt:return 8;case Ot:case ie:return 32;case Ee:return 268435456;default:return 32}default:return 32}}var Xh=!1,Sa=null,wa=null,Ta=null,jl=new Map,kl=new Map,Ea=[],xS="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Ub(e,n){switch(e){case"focusin":case"focusout":Sa=null;break;case"dragenter":case"dragleave":wa=null;break;case"mouseover":case"mouseout":Ta=null;break;case"pointerover":case"pointerout":jl.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":kl.delete(n.pointerId)}}function Ll(e,n,a,c,h,g){return e===null||e.nativeEvent!==g?(e={blockedOn:n,domEventName:a,eventSystemFlags:c,nativeEvent:g,targetContainers:[h]},n!==null&&(n=Jr(n),n!==null&&Ib(n)),e):(e.eventSystemFlags|=c,n=e.targetContainers,h!==null&&n.indexOf(h)===-1&&n.push(h),e)}function SS(e,n,a,c,h){switch(n){case"focusin":return Sa=Ll(Sa,e,n,a,c,h),!0;case"dragenter":return wa=Ll(wa,e,n,a,c,h),!0;case"mouseover":return Ta=Ll(Ta,e,n,a,c,h),!0;case"pointerover":var g=h.pointerId;return jl.set(g,Ll(jl.get(g)||null,e,n,a,c,h)),!0;case"gotpointercapture":return g=h.pointerId,kl.set(g,Ll(kl.get(g)||null,e,n,a,c,h)),!0}return!1}function Gb(e){var n=Rr(e.target);if(n!==null){var a=d(n);if(a!==null){if(n=a.tag,n===13){if(n=m(a),n!==null){e.blockedOn=n,Ps(e.priority,function(){if(a.tag===13){var c=Wn();c=Bs(c);var h=ra(a,c);h!==null&&Qn(h,a,c),qh(a,c)}});return}}else if(n===3&&a.stateNode.current.memoizedState.isDehydrated){e.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Iu(e){if(e.blockedOn!==null)return!1;for(var n=e.targetContainers;0<n.length;){var a=Kh(e.nativeEvent);if(a===null){a=e.nativeEvent;var c=new a.constructor(a.type,a);$a=c,a.target.dispatchEvent(c),$a=null}else return n=Jr(a),n!==null&&Ib(n),e.blockedOn=a,!1;n.shift()}return!0}function Zb(e,n,a){Iu(e)&&a.delete(n)}function wS(){Xh=!1,Sa!==null&&Iu(Sa)&&(Sa=null),wa!==null&&Iu(wa)&&(wa=null),Ta!==null&&Iu(Ta)&&(Ta=null),jl.forEach(Zb),kl.forEach(Zb)}function $u(e,n){e.blockedOn===n&&(e.blockedOn=null,Xh||(Xh=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,wS)))}var Uu=null;function Yb(e){Uu!==e&&(Uu=e,t.unstable_scheduleCallback(t.unstable_NormalPriority,function(){Uu===e&&(Uu=null);for(var n=0;n<e.length;n+=3){var a=e[n],c=e[n+1],h=e[n+2];if(typeof c!="function"){if(Fh(c||a)===null)continue;break}var g=Jr(a);g!==null&&(e.splice(n,3),n-=3,Ff(g,{pending:!0,data:h,method:a.method,action:c},c,h))}}))}function Cl(e){function n(Y){return $u(Y,e)}Sa!==null&&$u(Sa,e),wa!==null&&$u(wa,e),Ta!==null&&$u(Ta,e),jl.forEach(n),kl.forEach(n);for(var a=0;a<Ea.length;a++){var c=Ea[a];c.blockedOn===e&&(c.blockedOn=null)}for(;0<Ea.length&&(a=Ea[0],a.blockedOn===null);)Gb(a),a.blockedOn===null&&Ea.shift();if(a=(e.ownerDocument||e).$$reactFormReplay,a!=null)for(c=0;c<a.length;c+=3){var h=a[c],g=a[c+1],M=h[hn]||null;if(typeof g=="function")M||Yb(a);else if(M){var C=null;if(g&&g.hasAttribute("formAction")){if(h=g,M=g[hn]||null)C=M.formAction;else if(Fh(h)!==null)continue}else C=M.action;typeof C=="function"?a[c+1]=C:(a.splice(c,3),c-=3),Yb(a)}}}function Wh(e){this._internalRoot=e}Gu.prototype.render=Wh.prototype.render=function(e){var n=this._internalRoot;if(n===null)throw Error(l(409));var a=n.current,c=Wn();zb(a,c,e,n,null,null)},Gu.prototype.unmount=Wh.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var n=e.containerInfo;zb(e.current,2,null,e,null,null),Tu(),n[Pi]=null}};function Gu(e){this._internalRoot=e}Gu.prototype.unstable_scheduleHydration=function(e){if(e){var n=Tc();e={blockedOn:null,target:e,priority:n};for(var a=0;a<Ea.length&&n!==0&&n<Ea[a].priority;a++);Ea.splice(a,0,e),a===0&&Gb(e)}};var qb=i.version;if(qb!=="19.1.1")throw Error(l(527,qb,"19.1.1"));it.findDOMNode=function(e){var n=e._reactInternals;if(n===void 0)throw typeof e.render=="function"?Error(l(188)):(e=Object.keys(e).join(","),Error(l(268,e)));return e=b(n),e=e!==null?v(e):null,e=e===null?null:e.stateNode,e};var TS={bundleType:0,version:"19.1.1",rendererPackageName:"react-dom",currentDispatcherRef:$,reconcilerVersion:"19.1.1"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Zu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Zu.isDisabled&&Zu.supportsFiber)try{yn=Zu.inject(TS),Ve=Zu}catch{}}return Rl.createRoot=function(e,n){if(!u(e))throw Error(l(299));var a=!1,c="",h=lg,g=cg,M=ug,C=null;return n!=null&&(n.unstable_strictMode===!0&&(a=!0),n.identifierPrefix!==void 0&&(c=n.identifierPrefix),n.onUncaughtError!==void 0&&(h=n.onUncaughtError),n.onCaughtError!==void 0&&(g=n.onCaughtError),n.onRecoverableError!==void 0&&(M=n.onRecoverableError),n.unstable_transitionCallbacks!==void 0&&(C=n.unstable_transitionCallbacks)),n=Rb(e,1,!1,null,null,a,c,h,g,M,C,null),e[Pi]=n.current,Lh(e),new Wh(n)},Rl.hydrateRoot=function(e,n,a){if(!u(e))throw Error(l(299));var c=!1,h="",g=lg,M=cg,C=ug,Y=null,ct=null;return a!=null&&(a.unstable_strictMode===!0&&(c=!0),a.identifierPrefix!==void 0&&(h=a.identifierPrefix),a.onUncaughtError!==void 0&&(g=a.onUncaughtError),a.onCaughtError!==void 0&&(M=a.onCaughtError),a.onRecoverableError!==void 0&&(C=a.onRecoverableError),a.unstable_transitionCallbacks!==void 0&&(Y=a.unstable_transitionCallbacks),a.formState!==void 0&&(ct=a.formState)),n=Rb(e,1,!0,n,a??null,c,h,g,M,C,Y,ct),n.context=Pb(null),a=n.current,c=Wn(),c=Bs(c),h=la(c),h.callback=null,ca(a,h,c),a=c,n.current.lanes=a,Ri(n,a),Vr(n),e[Pi]=n.current,Lh(e),new Gu(n)},Rl.version="19.1.1",Rl}var nv;function CS(){if(nv)return tm.exports;nv=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(i){console.error(i)}}return t(),tm.exports=LS(),tm.exports}var BS=CS();let RS={data:""},PS=t=>typeof window=="object"?((t?t.querySelector("#_goober"):window._goober)||Object.assign((t||document.head).appendChild(document.createElement("style")),{innerHTML:" ",id:"_goober"})).firstChild:t||RS,zS=/(?:([\u0080-\uFFFF\w-%@]+) *:? *([^{;]+?);|([^;}{]*?) *{)|(}\s*)/g,HS=/\/\*[^]*?\*\/|  +/g,rv=/\n+/g,Oa=(t,i)=>{let o="",l="",u="";for(let d in t){let m=t[d];d[0]=="@"?d[1]=="i"?o=d+" "+m+";":l+=d[1]=="f"?Oa(m,d):d+"{"+Oa(m,d[1]=="k"?"":i)+"}":typeof m=="object"?l+=Oa(m,i?i.replace(/([^,])+/g,p=>d.replace(/([^,]*:\S+\([^)]*\))|([^,])+/g,b=>/&/.test(b)?b.replace(/&/g,p):p?p+" "+b:b)):d):m!=null&&(d=/^--/.test(d)?d:d.replace(/[A-Z]/g,"-$&").toLowerCase(),u+=Oa.p?Oa.p(d,m):d+":"+m+";")}return o+(i&&u?i+"{"+u+"}":u)+l},Di={},M_=t=>{if(typeof t=="object"){let i="";for(let o in t)i+=o+M_(t[o]);return i}return t},IS=(t,i,o,l,u)=>{let d=M_(t),m=Di[d]||(Di[d]=(b=>{let v=0,w=11;for(;v<b.length;)w=101*w+b.charCodeAt(v++)>>>0;return"go"+w})(d));if(!Di[m]){let b=d!==t?t:(v=>{let w,S,x=[{}];for(;w=zS.exec(v.replace(HS,""));)w[4]?x.shift():w[3]?(S=w[3].replace(rv," ").trim(),x.unshift(x[0][S]=x[0][S]||{})):x[0][w[1]]=w[2].replace(rv," ").trim();return x[0]})(t);Di[m]=Oa(u?{["@keyframes "+m]:b}:b,o?"":"."+m)}let p=o&&Di.g?Di.g:null;return o&&(Di.g=Di[m]),((b,v,w,S)=>{S?v.data=v.data.replace(S,b):v.data.indexOf(b)===-1&&(v.data=w?b+v.data:v.data+b)})(Di[m],i,l,p),m},$S=(t,i,o)=>t.reduce((l,u,d)=>{let m=i[d];if(m&&m.call){let p=m(o),b=p&&p.props&&p.props.className||/^go/.test(p)&&p;m=b?"."+b:p&&typeof p=="object"?p.props?"":Oa(p,""):p===!1?"":p}return l+u+(m??"")},"");function Id(t){let i=this||{},o=t.call?t(i.p):t;return IS(o.unshift?o.raw?$S(o,[].slice.call(arguments,1),i.p):o.reduce((l,u)=>Object.assign(l,u&&u.call?u(i.p):u),{}):o,PS(i.target),i.g,i.o,i.k)}let D_,Fm,Xm;Id.bind({g:1});let Li=Id.bind({k:1});function US(t,i,o,l){Oa.p=i,D_=t,Fm=o,Xm=l}function Ca(t,i){let o=this||{};return function(){let l=arguments;function u(d,m){let p=Object.assign({},d),b=p.className||u.className;o.p=Object.assign({theme:Fm&&Fm()},p),o.o=/ *go\d+/.test(b),p.className=Id.apply(o,l)+(b?" "+b:"");let v=t;return t[0]&&(v=p.as||t,delete p.as),Xm&&v[0]&&Xm(p),D_(v,p)}return u}}var GS=t=>typeof t=="function",_d=(t,i)=>GS(t)?t(i):t,ZS=(()=>{let t=0;return()=>(++t).toString()})(),A_=(()=>{let t;return()=>{if(t===void 0&&typeof window<"u"){let i=matchMedia("(prefers-reduced-motion: reduce)");t=!i||i.matches}return t}})(),YS=20,_p="default",N_=(t,i)=>{let{toastLimit:o}=t.settings;switch(i.type){case 0:return{...t,toasts:[i.toast,...t.toasts].slice(0,o)};case 1:return{...t,toasts:t.toasts.map(m=>m.id===i.toast.id?{...m,...i.toast}:m)};case 2:let{toast:l}=i;return N_(t,{type:t.toasts.find(m=>m.id===l.id)?1:0,toast:l});case 3:let{toastId:u}=i;return{...t,toasts:t.toasts.map(m=>m.id===u||u===void 0?{...m,dismissed:!0,visible:!1}:m)};case 4:return i.toastId===void 0?{...t,toasts:[]}:{...t,toasts:t.toasts.filter(m=>m.id!==i.toastId)};case 5:return{...t,pausedAt:i.time};case 6:let d=i.time-(t.pausedAt||0);return{...t,pausedAt:void 0,toasts:t.toasts.map(m=>({...m,pauseDuration:m.pauseDuration+d}))}}},md=[],O_={toasts:[],pausedAt:void 0,settings:{toastLimit:YS}},Fr={},j_=(t,i=_p)=>{Fr[i]=N_(Fr[i]||O_,t),md.forEach(([o,l])=>{o===i&&l(Fr[i])})},k_=t=>Object.keys(Fr).forEach(i=>j_(t,i)),qS=t=>Object.keys(Fr).find(i=>Fr[i].toasts.some(o=>o.id===t)),$d=(t=_p)=>i=>{j_(i,t)},VS={blank:4e3,error:4e3,success:2e3,loading:1/0,custom:4e3},KS=(t={},i=_p)=>{let[o,l]=P.useState(Fr[i]||O_),u=P.useRef(Fr[i]);P.useEffect(()=>(u.current!==Fr[i]&&l(Fr[i]),md.push([i,l]),()=>{let m=md.findIndex(([p])=>p===i);m>-1&&md.splice(m,1)}),[i]);let d=o.toasts.map(m=>{var p,b,v;return{...t,...t[m.type],...m,removeDelay:m.removeDelay||((p=t[m.type])==null?void 0:p.removeDelay)||t?.removeDelay,duration:m.duration||((b=t[m.type])==null?void 0:b.duration)||t?.duration||VS[m.type],style:{...t.style,...(v=t[m.type])==null?void 0:v.style,...m.style}}});return{...o,toasts:d}},FS=(t,i="blank",o)=>({createdAt:Date.now(),visible:!0,dismissed:!1,type:i,ariaProps:{role:"status","aria-live":"polite"},message:t,pauseDuration:0,...o,id:o?.id||ZS()}),fc=t=>(i,o)=>{let l=FS(i,t,o);return $d(l.toasterId||qS(l.id))({type:2,toast:l}),l.id},Ye=(t,i)=>fc("blank")(t,i);Ye.error=fc("error");Ye.success=fc("success");Ye.loading=fc("loading");Ye.custom=fc("custom");Ye.dismiss=(t,i)=>{let o={type:3,toastId:t};i?$d(i)(o):k_(o)};Ye.dismissAll=t=>Ye.dismiss(void 0,t);Ye.remove=(t,i)=>{let o={type:4,toastId:t};i?$d(i)(o):k_(o)};Ye.removeAll=t=>Ye.remove(void 0,t);Ye.promise=(t,i,o)=>{let l=Ye.loading(i.loading,{...o,...o?.loading});return typeof t=="function"&&(t=t()),t.then(u=>{let d=i.success?_d(i.success,u):void 0;return d?Ye.success(d,{id:l,...o,...o?.success}):Ye.dismiss(l),u}).catch(u=>{let d=i.error?_d(i.error,u):void 0;d?Ye.error(d,{id:l,...o,...o?.error}):Ye.dismiss(l)}),t};var XS=1e3,WS=(t,i="default")=>{let{toasts:o,pausedAt:l}=KS(t,i),u=P.useRef(new Map).current,d=P.useCallback((S,x=XS)=>{if(u.has(S))return;let E=setTimeout(()=>{u.delete(S),m({type:4,toastId:S})},x);u.set(S,E)},[]);P.useEffect(()=>{if(l)return;let S=Date.now(),x=o.map(E=>{if(E.duration===1/0)return;let A=(E.duration||0)+E.pauseDuration-(S-E.createdAt);if(A<0){E.visible&&Ye.dismiss(E.id);return}return setTimeout(()=>Ye.dismiss(E.id,i),A)});return()=>{x.forEach(E=>E&&clearTimeout(E))}},[o,l,i]);let m=P.useCallback($d(i),[i]),p=P.useCallback(()=>{m({type:5,time:Date.now()})},[m]),b=P.useCallback((S,x)=>{m({type:1,toast:{id:S,height:x}})},[m]),v=P.useCallback(()=>{l&&m({type:6,time:Date.now()})},[l,m]),w=P.useCallback((S,x)=>{let{reverseOrder:E=!1,gutter:A=8,defaultPosition:O}=x||{},R=o.filter(k=>(k.position||O)===(S.position||O)&&k.height),z=R.findIndex(k=>k.id===S.id),H=R.filter((k,j)=>j<z&&k.visible).length;return R.filter(k=>k.visible).slice(...E?[H+1]:[0,H]).reduce((k,j)=>k+(j.height||0)+A,0)},[o]);return P.useEffect(()=>{o.forEach(S=>{if(S.dismissed)d(S.id,S.removeDelay);else{let x=u.get(S.id);x&&(clearTimeout(x),u.delete(S.id))}})},[o,d]),{toasts:o,handlers:{updateHeight:b,startPause:p,endPause:v,calculateOffset:w}}},QS=Li`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
 transform: scale(1) rotate(45deg);
  opacity: 1;
}`,JS=Li`
from {
  transform: scale(0);
  opacity: 0;
}
to {
  transform: scale(1);
  opacity: 1;
}`,tw=Li`
from {
  transform: scale(0) rotate(90deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(90deg);
	opacity: 1;
}`,ew=Ca("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${t=>t.primary||"#ff4b4b"};
  position: relative;
  transform: rotate(45deg);

  animation: ${QS} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;

  &:after,
  &:before {
    content: '';
    animation: ${JS} 0.15s ease-out forwards;
    animation-delay: 150ms;
    position: absolute;
    border-radius: 3px;
    opacity: 0;
    background: ${t=>t.secondary||"#fff"};
    bottom: 9px;
    left: 4px;
    height: 2px;
    width: 12px;
  }

  &:before {
    animation: ${tw} 0.15s ease-out forwards;
    animation-delay: 180ms;
    transform: rotate(90deg);
  }
`,nw=Li`
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
`,rw=Ca("div")`
  width: 12px;
  height: 12px;
  box-sizing: border-box;
  border: 2px solid;
  border-radius: 100%;
  border-color: ${t=>t.secondary||"#e0e0e0"};
  border-right-color: ${t=>t.primary||"#616161"};
  animation: ${nw} 1s linear infinite;
`,iw=Li`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(45deg);
	opacity: 1;
}`,aw=Li`
0% {
	height: 0;
	width: 0;
	opacity: 0;
}
40% {
  height: 0;
	width: 6px;
	opacity: 1;
}
100% {
  opacity: 1;
  height: 10px;
}`,ow=Ca("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${t=>t.primary||"#61d345"};
  position: relative;
  transform: rotate(45deg);

  animation: ${iw} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;
  &:after {
    content: '';
    box-sizing: border-box;
    animation: ${aw} 0.2s ease-out forwards;
    opacity: 0;
    animation-delay: 200ms;
    position: absolute;
    border-right: 2px solid;
    border-bottom: 2px solid;
    border-color: ${t=>t.secondary||"#fff"};
    bottom: 6px;
    left: 6px;
    height: 10px;
    width: 6px;
  }
`,sw=Ca("div")`
  position: absolute;
`,lw=Ca("div")`
  position: relative;
  display: flex;
  justify-content: center;
  align-items: center;
  min-width: 20px;
  min-height: 20px;
`,cw=Li`
from {
  transform: scale(0.6);
  opacity: 0.4;
}
to {
  transform: scale(1);
  opacity: 1;
}`,uw=Ca("div")`
  position: relative;
  transform: scale(0.6);
  opacity: 0.4;
  min-width: 20px;
  animation: ${cw} 0.3s 0.12s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
`,dw=({toast:t})=>{let{icon:i,type:o,iconTheme:l}=t;return i!==void 0?typeof i=="string"?P.createElement(uw,null,i):i:o==="blank"?null:P.createElement(lw,null,P.createElement(rw,{...l}),o!=="loading"&&P.createElement(sw,null,o==="error"?P.createElement(ew,{...l}):P.createElement(ow,{...l})))},fw=t=>`
0% {transform: translate3d(0,${t*-200}%,0) scale(.6); opacity:.5;}
100% {transform: translate3d(0,0,0) scale(1); opacity:1;}
`,hw=t=>`
0% {transform: translate3d(0,0,-1px) scale(1); opacity:1;}
100% {transform: translate3d(0,${t*-150}%,-1px) scale(.6); opacity:0;}
`,mw="0%{opacity:0;} 100%{opacity:1;}",pw="0%{opacity:1;} 100%{opacity:0;}",gw=Ca("div")`
  display: flex;
  align-items: center;
  background: #fff;
  color: #363636;
  line-height: 1.3;
  will-change: transform;
  box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1), 0 3px 3px rgba(0, 0, 0, 0.05);
  max-width: 350px;
  pointer-events: auto;
  padding: 8px 10px;
  border-radius: 8px;
`,bw=Ca("div")`
  display: flex;
  justify-content: center;
  margin: 4px 10px;
  color: inherit;
  flex: 1 1 auto;
  white-space: pre-line;
`,vw=(t,i)=>{let o=t.includes("top")?1:-1,[l,u]=A_()?[mw,pw]:[fw(o),hw(o)];return{animation:i?`${Li(l)} 0.35s cubic-bezier(.21,1.02,.73,1) forwards`:`${Li(u)} 0.4s forwards cubic-bezier(.06,.71,.55,1)`}},yw=P.memo(({toast:t,position:i,style:o,children:l})=>{let u=t.height?vw(t.position||i||"top-center",t.visible):{opacity:0},d=P.createElement(dw,{toast:t}),m=P.createElement(bw,{...t.ariaProps},_d(t.message,t));return P.createElement(gw,{className:t.className,style:{...u,...o,...t.style}},typeof l=="function"?l({icon:d,message:m}):P.createElement(P.Fragment,null,d,m))});US(P.createElement);var _w=({id:t,className:i,style:o,onHeightUpdate:l,children:u})=>{let d=P.useCallback(m=>{if(m){let p=()=>{let b=m.getBoundingClientRect().height;l(t,b)};p(),new MutationObserver(p).observe(m,{subtree:!0,childList:!0,characterData:!0})}},[t,l]);return P.createElement("div",{ref:d,className:i,style:o},u)},xw=(t,i)=>{let o=t.includes("top"),l=o?{top:0}:{bottom:0},u=t.includes("center")?{justifyContent:"center"}:t.includes("right")?{justifyContent:"flex-end"}:{};return{left:0,right:0,display:"flex",position:"absolute",transition:A_()?void 0:"all 230ms cubic-bezier(.21,1.02,.73,1)",transform:`translateY(${i*(o?1:-1)}px)`,...l,...u}},Sw=Id`
  z-index: 9999;
  > * {
    pointer-events: auto;
  }
`,Yu=16,ww=({reverseOrder:t,position:i="top-center",toastOptions:o,gutter:l,children:u,toasterId:d,containerStyle:m,containerClassName:p})=>{let{toasts:b,handlers:v}=WS(o,d);return P.createElement("div",{"data-rht-toaster":d||"",style:{position:"fixed",zIndex:9999,top:Yu,left:Yu,right:Yu,bottom:Yu,pointerEvents:"none",...m},className:p,onMouseEnter:v.startPause,onMouseLeave:v.endPause},b.map(w=>{let S=w.position||i,x=v.calculateOffset(w,{reverseOrder:t,gutter:l,defaultPosition:i}),E=xw(S,x);return P.createElement(_w,{id:w.id,key:w.id,onHeightUpdate:v.updateHeight,className:w.visible?Sw:"",style:E},w.type==="custom"?_d(w.message,w):u?u(w):P.createElement(yw,{toast:w,position:S}))}))},im=Ye;function Tw(t,i,o,l=0,u=0){i<=2&&(t-=1,i+=12);const d=Math.floor(t/100),m=2-d+Math.floor(d/4),p=o+(l+u/60)/24;return Math.floor(365.25*(t+4716))+Math.floor(30.6001*(i+1))+p+m-1524.5}const Ew=864e5;function Mw(t){const i=(t-24405875e-1)*Ew;return new Date(i)}function Dw(t,i=7){const o=t+(i-.5)/12;if(o>=1986&&o<2005){const u=o-2e3;return 63.86+.3345*u-.060374*u*u+.0017275*u**3+651814e-9*u**4+2373599e-11*u**5}if(o>=2005&&o<2050){const u=o-2e3;return 62.92+.32217*u+.005589*u*u}if(o>=2050&&o<=2150){const u=(o-1820)/100;return-20+32*u*u-.5628*(2150-o)}if(o>=1900&&o<1986)return-2.79+1.494119*(o-1900)-.0598939*(o-1900)**2+.0061966*(o-1900)**3-197e-6*(o-1900)**4;if(o>=1800&&o<1900){const u=(o-1800)/100;return 13.72-33.244*u+68.612*u**2-65.3*u**3-1.653*u**4+.3343*u**5-.012125*u**6+1348e-7*u**7-175e-8*u**8}const l=(o-1820)/100;return-20+32*l*l}function Aw(t){const i=Math.floor(t+.5),o=t+.5-i;let l=i;if(i>=2299161){const S=Math.floor((i-186721625e-2)/36524.25);l=i+1+S-Math.floor(S/4)}const u=l+1524,d=Math.floor((u-122.1)/365.25),m=Math.floor(365.25*d),p=Math.floor((u-m)/30.6001),b=u-m-Math.floor(30.6001*p)+o;let v=p-1;v>12&&(v-=12);let w=d-4715;return v>2&&(w-=1),[w,v,b]}const Xl=Math.PI,vo=Xl/180,Nw=180/Xl,Ow=86400;function jw(t){return t%=360,t<0?t+360:t}function kw(t,i){return(t-i+540)%360-180}function iv(t,i){for(;t-i>180;)t-=360;for(;t-i<-180;)t+=360;return t}function Lw(t){const[i,o]=Aw(t);return t+Dw(i,Math.round(o))/Ow}function av(t,i){let o=0,l=1;for(let u=0;u<t.length;u++){let d=0;for(const[m,p,b]of t[u])d+=m*Math.cos(p+b*i);o+=d*l,l*=i}return o*1e-8}function Cw(t){const i=(t-2451545)/36525,o=(297.85036+445267.11148*i-.0019142*i*i+i*i*i/189474)*vo,l=(357.52772+35999.05034*i-1603e-7*i*i-i*i*i/3e5)*vo,u=(134.96298+477198.867398*i+.0086972*i*i+i*i*i/56250)*vo,d=(93.27191+483202.017538*i-.0036825*i*i+i*i*i/327270)*vo,m=(125.04452-1934.136261*i+.0020708*i*i+i*i*i/45e4)*vo,p=[[0,0,0,0,1,-171996,-174.2,92025,8.9],[0,0,2,-2,2,-13187,-1.6,5736,-3.1],[0,0,2,0,2,-2274,-.2,977,-.5],[0,0,0,0,2,2062,.2,-895,.5],[0,1,0,0,0,1426,-3.4,54,-.1],[1,0,0,0,0,712,.1,-7,0],[0,1,2,-2,2,-517,1.2,224,-.6],[0,0,2,0,1,-386,-.4,200,0],[1,0,2,0,2,-301,0,129,-.1],[0,-1,2,-2,2,217,-.5,-95,.3]];let b=0,v=0;for(const[w,S,x,E,A,O,R,z,H]of p){const k=w*o+S*l+x*u+E*d+A*m;b+=(O+R*i)*Math.sin(k),v+=(z+H*i)*Math.cos(k)}return b*=1e-4,v*=1e-4,{dpsi:b,deps:v}}function qu(t){const i=Lw(t),o=(i-2451545)/365250,l=av(ov.L,o),u=av(ov.R,o);let d=l+Xl;d>2*Xl&&(d-=2*Xl);const{dpsi:m}=Cw(i),p=m/3600*vo,b=20.4898/(3600*u),v=d+p-b*vo;return jw(v*Nw)}function Ze(t,i,o){const l=(i%360+360)%360,u=Tw(t,1,1),d=qu(u);let m=l-d;m<0&&(m+=360);let p=u+m/.98564736;const b=1e-6,v=5e-6;for(let S=0;S<25;S++){const x=qu(p),E=kw(l,x);if(Math.abs(E)<b)break;const A=qu(p+v),O=qu(p-v),R=iv(A,x),z=iv(O,x),H=(R-z)/(2*v);p+=E/H}const w=Mw(p);if(Number.isFinite(o)){const S=o/15-9;if(Math.abs(S)>1e-12)return new Date(w.getTime()+S*36e5)}return w}const ov={L:[[[175347046,0,0],[3341656,4.6692568,6283.07585],[34894,4.6261,12566.1517],[3497,2.7441,5753.3849],[3418,2.8289,3.5231],[3136,3.6277,77713.7715],[2676,4.4181,7860.4194],[2343,6.1352,3930.2097],[1324,.7425,11506.7698],[1273,2.0371,529.691],[1199,1.1096,1577.3435],[990,5.233,5884.927],[902,2.045,26.298],[857,3.508,398.149],[780,1.179,5223.694],[753,2.533,5507.553],[505,4.583,18849.228],[492,4.205,775.523],[357,2.92,.067],[317,5.849,11790.629]],[[628331966747,0,0],[206059,2.678235,6283.07585],[4303,2.6351,12566.1517],[425,1.59,3.523],[119,5.796,26.298],[109,2.966,1577.344],[93,2.59,18849.23],[72,1.14,529.69],[68,1.87,398.15],[67,4.41,5507.55],[59,2.89,5223.69],[56,2.17,155.42]],[[52919,0,0],[8720,1.0721,6283.0758],[309,.867,12566.152]],[[289,5.844,6283.076],[35,0,0]],[[114,3.142,0],[8,4.13,6283.08]],[[1,3.14,0]]],R:[[[100013989,0,0],[1670700,3.0984635,6283.07585],[13956,3.05525,12566.1517],[3084,5.1985,77713.7715],[1628,1.1739,5753.3849],[1576,2.8469,7860.4194],[925,5.453,11506.77],[542,4.564,3930.21],[472,3.661,5884.927],[346,.964,5507.553],[329,5.9,5223.694]],[[103019,1.10749,6283.07585],[1721,1.0644,12566.1517],[702,3.142,0],[32,1.02,18849.23]],[[4359,5.7846,6283.0758],[124,5.579,12566.152],[12,3.14,0]],[[145,4.273,6283.076]]]},Xr=["갑","을","병","정","무","기","경","신","임","계"],Oi=["자","축","인","묘","진","사","오","미","신","유","술","해"],Wm={천간:["갑","을","병","정","무","기","경","신","임","계"],지지:["자","축","인","묘","진","사","오","미","신","유","술","해"]},L_={천간:["甲","乙","丙","丁","戊","己","庚","辛","壬","癸"],지지:["子","丑","寅","卯","辰","巳","午","未","申","酉","戌","亥"]},Bw=["목","목","화","화","토","토","금","금","수","수"],Rw=["수","토","목","목","토","화","화","토","금","금","토","수"],C_=["갑자","을축","병인","정묘","무진","기사","경오","신미","임신","계유","갑술","을해","병자","정축","무인","기묘","경진","신사","임오","계미","갑신","을유","병술","정해","무자","기축","경인","신묘","임진","계사","갑오","을미","병신","정유","무술","기해","경자","신축","임인","계묘","갑진","을사","병오","정미","무신","기유","경술","신해","임자","계축","갑인","을묘","병진","정사","무오","기미","경신","신유","임술","계해"],sv=[{branch:"자",hanja:"子",start:1380,end:60},{branch:"축",hanja:"丑",start:60,end:180},{branch:"인",hanja:"寅",start:180,end:300},{branch:"묘",hanja:"卯",start:300,end:420},{branch:"진",hanja:"辰",start:420,end:540},{branch:"사",hanja:"巳",start:540,end:660},{branch:"오",hanja:"午",start:660,end:780},{branch:"미",hanja:"未",start:780,end:900},{branch:"신",hanja:"申",start:900,end:1020},{branch:"유",hanja:"酉",start:1020,end:1140},{branch:"술",hanja:"戌",start:1140,end:1260},{branch:"해",hanja:"亥",start:1260,end:1380}],Pw={갑:{갑:"비견",을:"겁재",병:"식신",정:"상관",무:"편재",기:"정재",경:"편관",신:"정관",임:"편인",계:"정인"},을:{갑:"겁재",을:"비견",병:"상관",정:"식신",무:"정재",기:"편재",경:"정관",신:"편관",임:"정인",계:"편인"},병:{갑:"편인",을:"정인",병:"비견",정:"겁재",무:"식신",기:"상관",경:"편재",신:"정재",임:"편관",계:"정관"},정:{갑:"정인",을:"편인",병:"겁재",정:"비견",무:"상관",기:"식신",경:"정재",신:"편재",임:"정관",계:"편관"},무:{갑:"편관",을:"정관",병:"편인",정:"정인",무:"비견",기:"겁재",경:"식신",신:"상관",임:"편재",계:"정재"},기:{갑:"정관",을:"편관",병:"정인",정:"편인",무:"겁재",기:"비견",경:"상관",신:"식신",임:"정재",계:"편재"},경:{갑:"편재",을:"정재",병:"편관",정:"정관",무:"편인",기:"정인",경:"비견",신:"겁재",임:"식신",계:"상관"},신:{갑:"정재",을:"편재",병:"정관",정:"편관",무:"정인",기:"편인",경:"겁재",신:"비견",임:"상관",계:"식신"},임:{갑:"식신",을:"상관",병:"편재",정:"정재",무:"편관",기:"정관",경:"편인",신:"정인",임:"비견",계:"겁재"},계:{갑:"상관",을:"식신",병:"정재",정:"편재",무:"정관",기:"편관",경:"정인",신:"편인",임:"겁재",계:"비견"}},zw={갑:{자:"정인",축:"정재",인:"비견",묘:"겁재",진:"편재",사:"식신",오:"상관",미:"정재",신:"편관",유:"정관",술:"편재",해:"편인"},을:{자:"편인",축:"편재",인:"겁재",묘:"비견",진:"정재",사:"상관",오:"식신",미:"편재",신:"정관",유:"편관",술:"정재",해:"정인"},병:{자:"정관",축:"상관",인:"편인",묘:"정인",진:"식신",사:"비견",오:"겁재",미:"상관",신:"편재",유:"정재",술:"식신",해:"편관"},정:{자:"편관",축:"식신",인:"정인",묘:"편인",진:"상관",사:"겁재",오:"비견",미:"식신",신:"정재",유:"편재",술:"상관",해:"정관"},무:{자:"정재",축:"겁재",인:"편관",묘:"정관",진:"비견",사:"편인",오:"정인",미:"겁재",신:"식신",유:"상관",술:"비견",해:"편재"},기:{자:"편재",축:"비견",인:"정관",묘:"편관",진:"겁재",사:"정인",오:"편인",미:"비견",신:"상관",유:"식신",술:"겁재",해:"정재"},경:{자:"상관",축:"정인",인:"편재",묘:"정재",진:"편인",사:"편관",오:"정관",미:"정인",신:"비견",유:"겁재",술:"편인",해:"식신"},신:{자:"식신",축:"편인",인:"정재",묘:"편재",진:"정인",사:"정관",오:"편관",미:"편인",신:"겁재",유:"비견",술:"정인",해:"상관"},임:{자:"겁재",축:"정관",인:"식신",묘:"상관",진:"편관",사:"편재",오:"정재",미:"정관",신:"편인",유:"정인",술:"편관",해:"비견"},계:{자:"비견",축:"편관",인:"상관",묘:"식신",진:"정관",사:"정재",오:"편재",미:"편관",신:"정인",유:"편인",술:"정관",해:"겁재"}};function Hw(t,i=127.5){return(Pe(t,i)||"").charAt(0)}const lv=new Map;function B_(t,i=127.5){const o=`${t}@${i}`,l=lv.get(o);if(l)return l;const u=Ze(t,315,i);if(!u)throw new Error(`입춘 날짜를 찾을 수 없습니다: year=${t}, lon=${i}`);return lv.set(o,u),u}const Iw=(t,i)=>(t%i+i)%i,R_=t=>t instanceof Date&&!Number.isNaN(t.getTime());function P_(t,i=127.5){if(!R_(t))throw new Error("resolveYearIndex: invalid date");const o=t.getFullYear(),l=B_(o,i),u=t<l?o-1:o,d=Iw(u-4,60);return{useYear:u,index60Num:d}}function Pe(t,i=127.5){const{index60Num:o}=P_(t,i);return C_[o]}const $w=[2,4,6,8,0,2,4,6,8,0];function Uw(t,i=127.5){const o=new Array(12);return o[0]=B_(t,i),o[1]=Ze(t,345,i),o[2]=Ze(t,15,i),o[3]=Ze(t,45,i),o[4]=Ze(t,75,i),o[5]=Ze(t,105,i),o[6]=Ze(t,135,i),o[7]=Ze(t,165,i),o[8]=Ze(t,195,i),o[9]=Ze(t,225,i),o[10]=Ze(t,255,i),o[11]=Ze(t+1,285,i),o}function Gw(t,i=127.5){const{useYear:o}=P_(t,i),l=Uw(o,i);let u=0;for(let m=0;m<12;m++)t>=l[m]&&(u=m);return{monthIndex:u+1,useYear:o,boundaries:l}}function Zw(t,i=127.5){const o=Hw(t,i),l=Wm.천간.indexOf(o);if(l<0)throw new Error(`resolveFirstMonthStemIdx: invalid year stem "${o}"`);return $w[l]}function Yw(t,i,o=127.5){return(Zw(t,o)+(i-1))%10}function jn(t,i=127.5){if(!R_(t))return"";const{monthIndex:o}=Gw(t,i),l=(2+(o-1))%12,u=Wm.지지[l],d=Yw(t,o,i);return Wm.천간[d]+u}const qw=(t,i)=>(t%i+i)%i;function Vw(t,i,o,l=0,u=0,d=0){i<=2&&(t-=1,i+=12);const m=Math.floor(t/100),p=2-m+Math.floor(m/4),b=(l+u/60+d/3600)/24;return Math.floor(365.25*(t+4716))+Math.floor(30.6001*(i+1))+o+b+p-1524.5}function Kw(t,i){const o=t.getHours(),l=t.getMinutes(),u=o*60+l,d=z_(t);return i==="야자시"&&d==="자"?u>=1380?1:0:i==="인시"&&(d==="자"||d==="축")?u<180?-1:0:(u<0,0)}const cv={JDN:2445731,idx:0};function qe(t,i){const o=Kw(t,i),l=new Date(t.getTime());l.setDate(l.getDate()+o);const u=Vw(l.getFullYear(),l.getMonth()+1,l.getDate(),l.getHours(),l.getMinutes()),d=Math.floor(u+.5),m=qw(d-cv.JDN+cv.idx,60),p=C_[m];if(!p)throw new Error(`getDayGanZhi: idx=${m} out of range (jdn=${d}, jd=${u})`);return p}function z_(t){t instanceof Date||(t=new Date(t));const i=t.getHours()*60+t.getMinutes();for(let o=0;o<sv.length;o++){const{branch:l,start:u,end:d}=sv[o];if(u<d){if(i>=u&&i<d)return l}else if(i>=u||i<d)return l}return"자"}function Fw(t,i,o,l){const u=Xr.indexOf(i);if(u<0)return"";let d=(u%5*2+o)%10;const m=t.getHours();return(l==="인시"||l==="조자시"&&m>=3)&&(o===0||o===1)&&(d=(d+2)%10),Xr[d]}function Ci(t,i,o){t instanceof Date||(t=new Date(t));const l=z_(t),u=Oi.indexOf(l),m=(o??qe(t,i)).charAt(0);return Fw(t,m,u,i)+l}const uv=t=>{let i;const o=new Set,l=(v,w)=>{const S=typeof v=="function"?v(i):v;if(!Object.is(S,i)){const x=i;i=w??(typeof S!="object"||S===null)?S:Object.assign({},i,S),o.forEach(E=>E(i,x))}},u=()=>i,p={setState:l,getState:u,getInitialState:()=>b,subscribe:v=>(o.add(v),()=>o.delete(v))},b=i=t(l,u,p);return p},Xw=(t=>t?uv(t):uv),Ww=t=>t;function Qw(t,i=Ww){const o=Te.useSyncExternalStore(t.subscribe,Te.useCallback(()=>i(t.getState()),[t,i]),Te.useCallback(()=>i(t.getInitialState()),[t,i]));return Te.useDebugValue(o),o}const Jw=t=>{const i=Xw(t),o=l=>Qw(i,l);return Object.assign(o,i),o},xp=(t=>Jw);function tT(t,i){let o;try{o=t()}catch{return}return{getItem:u=>{var d;const m=b=>b===null?null:JSON.parse(b,void 0),p=(d=o.getItem(u))!=null?d:null;return p instanceof Promise?p.then(m):m(p)},setItem:(u,d)=>o.setItem(u,JSON.stringify(d,void 0)),removeItem:u=>o.removeItem(u)}}const Qm=t=>i=>{try{const o=t(i);return o instanceof Promise?o:{then(l){return Qm(l)(o)},catch(l){return this}}}catch(o){return{then(l){return this},catch(l){return Qm(l)(o)}}}},eT=(t,i)=>(o,l,u)=>{let d={storage:tT(()=>localStorage),partialize:O=>O,version:0,merge:(O,R)=>({...R,...O}),...i},m=!1;const p=new Set,b=new Set;let v=d.storage;if(!v)return t((...O)=>{console.warn(`[zustand persist middleware] Unable to update item '${d.name}', the given storage is currently unavailable.`),o(...O)},l,u);const w=()=>{const O=d.partialize({...l()});return v.setItem(d.name,{state:O,version:d.version})},S=u.setState;u.setState=(O,R)=>(S(O,R),w());const x=t((...O)=>(o(...O),w()),l,u);u.getInitialState=()=>x;let E;const A=()=>{var O,R;if(!v)return;m=!1,p.forEach(H=>{var k;return H((k=l())!=null?k:x)});const z=((R=d.onRehydrateStorage)==null?void 0:R.call(d,(O=l())!=null?O:x))||void 0;return Qm(v.getItem.bind(v))(d.name).then(H=>{if(H)if(typeof H.version=="number"&&H.version!==d.version){if(d.migrate){const k=d.migrate(H.state,H.version);return k instanceof Promise?k.then(j=>[!0,j]):[!0,k]}console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return[!1,H.state];return[!1,void 0]}).then(H=>{var k;const[j,B]=H;if(E=d.merge(B,(k=l())!=null?k:x),o(E,!0),j)return w()}).then(()=>{z?.(E,void 0),E=l(),m=!0,b.forEach(H=>H(E))}).catch(H=>{z?.(void 0,H)})};return u.persist={setOptions:O=>{d={...d,...O},O.storage&&(v=O.storage)},clearStorage:()=>{v?.removeItem(d.name)},getOptions:()=>d,rehydrate:()=>A(),hasHydrated:()=>m,onHydrate:O=>(p.add(O),()=>{p.delete(O)}),onFinishHydration:O=>(b.add(O),()=>{b.delete(O)})},d.skipHydration||A(),E||x},Sp=eT,dv={hiddenStem:"all",hiddenStemMode:"classic",ilunRule:"야자시",sinsalMode:"classic",sinsalBase:"일지",sinsalBloom:!1,exposure:"원국",charType:"한자",thinEum:!1,showSipSin:!0,showSibiSinsal:!0,showSibiUnseong:!0,theme:"dark",sectionOrder:["hiddenStem","hiddenStemMode","ilunRule","sinsalMode","sinsalBase","sinsalBloom","exposure","charType","thinEum","visibility"]},Wr=xp()(Sp((t,i)=>({settings:dv,setSettings:o=>t({settings:o}),setKey:(o,l)=>t({settings:{...i().settings,[o]:l}}),reset:()=>t({settings:dv})}),{name:"settings_v1"}));function Jm(t){const i=Xr.indexOf(t);if(i!==-1)return Xr[i];const o=L_.천간.indexOf(t);return o!==-1?Xr[o]:t}function H_(t){const i=Oi.indexOf(t);if(i!==-1)return Oi[i];const o=L_.지지.indexOf(t);return o!==-1?Oi[o]:t}function fv(t){switch(t){case"목":return"bg-green-600";case"화":return"bg-red-600";case"토":return"bg-yellow-500";case"금":return"bg-gray-400";case"수":return"bg-black";default:return"bg-neutral-700"}}function kr(t,i){if(i==="stem"){const o=Jm(t),l=Xr.indexOf(o),u=l>=0?Bw[l]:void 0;return fv(u)}else{const o=H_(t),l=Oi.indexOf(o),u=l>=0?Rw[l]:void 0;return fv(u)}}function On(t,i){const o=Jm(t);if(!o)throw new Error(`getSipSin: invalid dayStem ${t}`);if(i.stem){const l=Jm(i.stem);if(!l)throw new Error(`getSipSin: invalid stem ${i.stem}`);return Pw[o][l]}if(i.branch){const l=H_(i.branch);if(!l)throw new Error(`getSipSin: invalid branch ${i.branch}`);return zw[o][l]}throw new Error("getSipSin: stem or branch required")}const nT={자:["임","(-)","계"],축:["계","신","기"],인:["무","병","갑"],묘:["갑","(-)","을"],진:["을","계","무"],사:["무","경","병"],오:["병","기","정"],미:["정","을","기"],신:["무","임","경"],유:["경","(-)","신"],술:["신","정","무"],해:["무","갑","임"]},rT={자:["(-)","(-)","계"],축:["계","신","기"],인:["(-)","병","갑"],묘:["(-)","(-)","을"],진:["을","계","무"],사:["(-)","경","병"],오:["(-)","(-)","정"],미:["정","을","기"],신:["(-)","임","경"],유:["(-)","(-)","신"],술:["신","정","무"],해:["(-)","갑","임"]};function Kl({branch:t,dayStem:i,mode:o="all",mapping:l="classic",variant:u="auto"}){const d=(l==="hgc"?rT:nT)[t]??[],m=o==="main"?[d[2]]:d,p=u==="white",b=p?"text-white":"text-neutral-800 dark:text-white",v=p?"border-white":"border-neutral-800 dark: border-neutral-200",w=p?"text-yellow-900":"text-red-600 dark:text-yellow-300";return y.jsx("div",{className:"flex flex-col gap-1 mt-1",children:m.map((S,x)=>S==="(-)"?y.jsx("div",{className:`flex-1 text-[10px] desk:text-xs text-neutral-500 py-0.5 desk:px-1 border ${v} ${b} rounded text-center text-nowrap`,children:"(-) (없음)"},x):y.jsxs("div",{className:`flex-1 text-[10px] desk:text-xs py-0.5 desk:px-1 border ${v} ${b} rounded text-center text-nowrap 
            ${o==="main"||x===2?`jeonggi bg-neutral-500/50 ${w} font-bold`:""}`,children:[S," (",On(i,{stem:S}),")"]},x))})}const wp={甲:"갑",乙:"을",丙:"병",丁:"정",戊:"무",己:"기",庚:"경",辛:"신",壬:"임",癸:"계"},I_=Object.fromEntries(Object.entries(wp).map(([t,i])=>[i,t])),Tp={子:"자",丑:"축",寅:"인",卯:"묘",辰:"진",巳:"사",午:"오",未:"미",申:"신",酉:"유",戌:"술",亥:"해"},$_=Object.fromEntries(Object.entries(Tp).map(([t,i])=>[i,t])),iT=["甲","乙","丙","丁","戊","己","庚","辛","壬","癸"],aT=["갑","을","병","정","무","기","경","신","임","계"],oT=["子","丑","寅","卯","辰","巳","午","未","申","酉","戌","亥"],sT=["자","축","인","묘","진","사","오","미","신","유","술","해"];function hv(t){return aT.includes(t)}function mv(t){return sT.includes(t)}function lT(t){return iT.includes(t)}function cT(t){return oT.includes(t)}function pv(t,i,o){return o==="한글"?i==="stem"?wp[t]??t:Tp[t]??t:i==="stem"?I_[t]??t:$_[t]??t}function gv(t){const i=I_[t]??t;return lT(i)?i:"갑"}function uT(t){const i=$_[t]??t;return cT(i)?i:"자"}function dT(t){if(hv(t))return t;const i=wp[t]??t;return hv(i)?i:"갑"}function fT(t){if(mv(t))return t;const i=Tp[t]??t;return mv(i)?i:"자"}const hT=new Set(["乙","丁","己","辛","癸","을","정","기","신","계"]),mT=new Set(["丑","卯","巳","未","酉","亥","축","묘","사","미","유","해"]),pT=t=>hT.has(t),gT=t=>mT.has(t);function _o({label:t,gz:i,dayStem:o,settings:l,unseongText:u,shinsalText:d,hideBranchSipSin:m=!0,hideHiddenStems:p=!1,size:b="sm",variant:v="auto"}){const w=i.charAt(0),S=i.charAt(1),x=pv(w,"stem",l.charType),E=pv(S,"branch",l.charType),A=gv(w),O=uT(S),R=gv(o),z=fT(S),H=dT(o),k=l.showSipSin?On(R,{stem:A}):null,j=!m&&l.showSipSin?On(R,{branch:O}):null,B=l.thinEum&&pT(w)?"font-thin":"font-bold",V=l.thinEum&&gT(S)?"font-thin":"font-bold",J={sm:"w-10 h-10 sm:w-12 sm:h-12",md:"w-12 h-12 sm:w-14 sm:h-14 md:w-16 md:h-16",lg:"w-14 h-14 sm:w-16 sm:h-16 md:w-20 md:h-20"},W=!p&&!!l.hiddenStem,rt=l.hiddenStem==="regular"?"main":"all",et=l.hiddenStemMode==="hgc"?"hgc":"classic",K=v==="white",U=K?"bg-white text-neutral-900 border border-neutral-200":"bg-white dark:bg-neutral-900 text-neutral-900 dark:text-neutral-100 border border-neutral-200 dark:border-neutral-800",Q=K?"bg-neutral-100 text-neutral-700":"bg-neutral-100 dark:bg-neutral-800/60 text-neutral-700 dark:text-neutral-200",mt=K?"border-neutral-200":"border-neutral-200 dark:border-neutral-800",vt=K?"text-neutral-500":"text-neutral-400",$=K?"text-neutral-500":"text-neutral-400",it=K?`bg-white ${mt}`:`${kr(A,"stem")} ${mt}`,ot=K?"text-neutral-900":"text-white",I=K?`bg-white ${mt}`:`${kr(O,"branch")} ${mt}`,D=K?"text-neutral-900":"text-white";return y.jsxs("div",{className:`rounded-sm desk:rounded-xl overflow-hidden ${U}`,children:[y.jsx("div",{className:`py-2 text-center text-[10px] desk:text-xs tracking-wider ${Q} text-nowrap`,children:t}),y.jsxs("div",{className:"p-3 flex flex-col items-center gap-1",children:[k&&y.jsx("div",{className:`text-[10px] desk:text-xs ${vt} text-nowrap`,children:k}),y.jsx("div",{className:`${J[b]} rounded-sm desk:rounded-lg flex items-center justify-center border ${it}`,children:y.jsx("span",{className:`text-2xl md:text-3xl ${ot} ${B}`,children:x})}),y.jsx("div",{className:`${J[b]} rounded-sm desk:rounded-lg flex items-center justify-center border ${I}`,children:y.jsx("span",{className:`text-2xl md:text-3xl ${D} ${V}`,children:E})}),W&&y.jsx(Kl,{branch:z,dayStem:H,mode:rt,mapping:et}),j&&y.jsx("div",{className:`text-[10px] desk:text-xs ${$}`,children:j}),l.showSibiUnseong&&!!u&&y.jsx("div",{className:`text-[10px] desk:text-xs ${$} text-nowrap`,children:u}),l.showSibiSinsal&&!!d&&y.jsx("div",{className:`text-[10px] desk:text-xs ${$} text-nowrap`,children:d})]})]})}const bT={甲:"갑",乙:"을",丙:"병",丁:"정",戊:"무",己:"기",庚:"경",辛:"신",壬:"임",癸:"계"},vT=["갑","을","병","정","무","기","경","신","임","계"],yT=new Set(vT),_T=new Set(["甲","乙","丙","丁","戊","己","庚","辛","壬","癸"]);function xT(t){return yT.has(t)?t:_T.has(t)?bT[t]:"갑"}function ST({label:t,size:i="sm",settings:o,hideBranchSipSin:l=!0}){const u={sm:"w-8 h-8 sm:w-12 sm:h-12",md:"w-12 h-12 sm:w-14 sm:h-14 md:w-16 md:h-16",lg:"w-14 h-14 sm:w-16 sm:h-16 md:w-20 md:h-20"},d=o.showSipSin,m=!!o.hiddenStem,b=(o.hiddenStem==="regular"?"main":"all")==="main"?1:3,v=o.showSipSin&&!l;return y.jsxs("div",{className:"rounded-sm desk:rounded-xl bg-white dark:bg-neutral-900 border border-neutral-200 dark:border-neutral-800 overflow-hidden transition-colors",children:[y.jsx("div",{className:"py-2 text-center text-[10px] desk:text-xs tracking-wider bg-neutral-100 dark:bg-neutral-800/60 text-neutral-700 dark:text-neutral-200 text-nowrap",children:t}),y.jsxs("div",{className:"p-3 flex flex-col items-center gap-1",children:[d&&y.jsx("div",{className:"text-[10px] desk:text-xs text-neutral-500 dark:text-neutral-400 text-nowrap",children:"-"}),y.jsx("div",{className:`${u[i]} rounded-sm desk:rounded-lg flex items-center justify-center border border-neutral-200 dark:border-neutral-800 bg-white`,children:y.jsx("span",{className:"text-xl sm:text-2xl md:text-3xl font-bold text-neutral-900",children:"-"})}),y.jsx("div",{className:`${u[i]} rounded-sm desk:rounded-lg flex items-center justify-center border border-neutral-200 dark:border-neutral-800 bg-white`,children:y.jsx("span",{className:"text-xl sm:text-2xl md:text-3xl font-bold text-neutral-900",children:"-"})}),m&&y.jsx("div",{className:"flex flex-col gap-1 mt-1 w-full",children:Array.from({length:b}).map((w,S)=>y.jsx("div",{className:"w-full max-w-[54px] mx-auto text-[10px] desk:text-xs py-0.5 desk:px-1 border border-neutral-200 dark:border-neutral-800 rounded text-center text-nowrap text-neutral-500 dark:text-neutral-400",children:"-"},S))}),v&&y.jsx("div",{className:"text-[10px] desk:text-xs text-neutral-500 dark:text-neutral-400",children:"-"})]})]})}function wT(){const t=Wr(A=>A.settings),[i,o]=P.useState(new Date),[l,u]=P.useState(!0),[d,m]=P.useState("조자시"),[p,b]=P.useState(!1);P.useEffect(()=>{if(!l)return;const A=setInterval(()=>o(new Date),1e3);return()=>clearInterval(A)},[l]);const v=Pe(i),w=jn(i),S=qe(i,d),x=Ci(i,"조자시"),E=xT(S.charAt(0));return y.jsx("div",{className:"flex justify-center items-center mt-12 w-full h-[calc(100dvh_-_112px)] ",children:y.jsxs("div",{className:`w-[96%] max-w-[640px] mx-auto mb-4 p-4
                      bg-white dark:bg-neutral-950
                      text-neutral-900 dark:text-neutral-100
                      rounded-xl shadow border border-neutral-200 dark:border-neutral-800 transition-colors`,children:[y.jsxs("header",{className:"flex flex-col desk:flex-row items-center justify-center desk:justify-between mb-4 gap-2",children:[y.jsxs("div",{className:"font-semibold text-sm desk:text-base",children:["오늘의 사주"," ",y.jsxs("span",{className:"text-neutral-500 dark:text-neutral-400",children:["(",l?"실시간":"수동선택",") ",MT(i)]})]}),y.jsxs("div",{className:"flex gap-2 items-center",children:[y.jsxs("select",{value:d,onChange:A=>m(A.target.value),className:`text-xs rounded px-2 py-1 h-30 cursor-pointer
                        bg-white dark:bg-neutral-900
                        border border-neutral-300 dark:border-neutral-700
                        text-neutral-900 dark:text-neutral-100
                        focus:outline-none focus:ring-2 focus:ring-amber-500/40`,children:[y.jsx("option",{value:"야자시",children:"야자시 (전날 23시)"}),y.jsx("option",{value:"조자시",children:"조자시 (자정)"}),y.jsx("option",{value:"인시",children:"인시 (새벽 3시)"})]}),y.jsx("button",{onClick:()=>u(!l),className:`text-xs px-3 py-1 rounded transition-colors cursor-pointer
                        bg-neutral-100 hover:bg-neutral-200
                        dark:bg-neutral-800 dark:hover:bg-neutral-700
                        text-neutral-900 dark:text-neutral-100
                        border border-neutral-200 dark:border-neutral-700`,children:l?"피커 사용":"타이머 사용"})]})]}),y.jsxs("div",{className:"grid grid-cols-4 gap-3 mb-6",children:[p?y.jsx(ST,{label:"시주",size:"sm",settings:t,hideBranchSipSin:!0}):y.jsx(_o,{label:"시주",gz:x,dayStem:E,settings:t,hideBranchSipSin:!0}),y.jsx(_o,{label:"일주",gz:S,dayStem:E,settings:t,hideBranchSipSin:!0}),y.jsx(_o,{label:"월주",gz:w,dayStem:E,settings:t,hideBranchSipSin:!0}),y.jsx(_o,{label:"연주",gz:v,dayStem:E,settings:t,hideBranchSipSin:!0})]}),y.jsxs("div",{className:"flex flex-col desk:flex-row gap-2 desk:gap-3 items-center",children:[y.jsx("label",{className:"text-sm text-neutral-600 dark:text-neutral-300",children:"날짜/시간 선택"}),y.jsx("input",{type:"datetime-local",value:TT(i),disabled:l,onChange:A=>{const O=ET(A.target.value);O&&o(O)},className:`rounded px-3 py-1 text-sm transition-colors
                        bg-white dark:bg-neutral-900
                        border border-neutral-300 dark:border-neutral-700
                        text-neutral-900 dark:text-neutral-100
                        focus:outline-none focus:ring-2 focus:ring-amber-500/40
                        ${l?"opacity-50 cursor-not-allowed":"cursor-pointer"}`,min:"1900-01-01T00:00",max:"2100-12-31T23:59"}),y.jsx("button",{onClick:()=>b(A=>!A),className:`text-xs px-3 py-1 rounded border transition-colors cursor-pointer
                        ${p?"bg-white text-neutral-900 border-neutral-300 hover:bg-neutral-100":"bg-neutral-100 text-neutral-900 border-neutral-200 hover:bg-neutral-200 dark:bg-neutral-800 dark:text-neutral-100 dark:border-neutral-700 dark:hover:bg-neutral-700"}`,title:"시주 글자를 비우고 박스를 흰색으로 표시합니다",children:p?"시주 표시":"시주 비우기"})]})]})})}function TT(t){const i=o=>o.toString().padStart(2,"0");return`${t.getFullYear()}-${i(t.getMonth()+1)}-${i(t.getDate())}T${i(t.getHours())}:${i(t.getMinutes())}`}function ET(t){if(!t)return null;const[i,o]=t.split("T");if(!i||!o)return null;const[l,u,d]=i.split("-").map(Number),[m,p]=o.split(":").map(Number),b=new Date(l,u-1,d,m,p);return Number.isNaN(b.getTime())?null:b}function MT(t){const i=o=>o.toString().padStart(2,"0");return`${i(t.getHours())}:${i(t.getMinutes())}:${i(t.getSeconds())}`}const un=[];for(let t=0;t<256;++t)un.push((t+256).toString(16).slice(1));function DT(t,i=0){return(un[t[i+0]]+un[t[i+1]]+un[t[i+2]]+un[t[i+3]]+"-"+un[t[i+4]]+un[t[i+5]]+"-"+un[t[i+6]]+un[t[i+7]]+"-"+un[t[i+8]]+un[t[i+9]]+"-"+un[t[i+10]]+un[t[i+11]]+un[t[i+12]]+un[t[i+13]]+un[t[i+14]]+un[t[i+15]]).toLowerCase()}let am;const AT=new Uint8Array(16);function NT(){if(!am){if(typeof crypto>"u"||!crypto.getRandomValues)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");am=crypto.getRandomValues.bind(crypto)}return am(AT)}const OT=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),bv={randomUUID:OT};function jT(t,i,o){if(bv.randomUUID&&!t)return bv.randomUUID();t=t||{};const l=t.random??t.rng?.()??NT();if(l.length<16)throw new Error("Random bytes length must be >= 16");return l[6]=l[6]&15|64,l[8]=l[8]&63|128,DT(l)}var Fl={exports:{}};/* @preserve
 * Leaflet 1.9.4, a JS library for interactive maps. https://leafletjs.com
 * (c) 2010-2023 Vladimir Agafonkin, (c) 2010-2011 CloudMade
 */var kT=Fl.exports,vv;function LT(){return vv||(vv=1,(function(t,i){(function(o,l){l(i)})(kT,(function(o){var l="1.9.4";function u(r){var s,f,_,T;for(f=1,_=arguments.length;f<_;f++){T=arguments[f];for(s in T)r[s]=T[s]}return r}var d=Object.create||(function(){function r(){}return function(s){return r.prototype=s,new r}})();function m(r,s){var f=Array.prototype.slice;if(r.bind)return r.bind.apply(r,f.call(arguments,1));var _=f.call(arguments,2);return function(){return r.apply(s,_.length?_.concat(f.call(arguments)):arguments)}}var p=0;function b(r){return"_leaflet_id"in r||(r._leaflet_id=++p),r._leaflet_id}function v(r,s,f){var _,T,N,Z;return Z=function(){_=!1,T&&(N.apply(f,T),T=!1)},N=function(){_?T=arguments:(r.apply(f,arguments),setTimeout(Z,s),_=!0)},N}function w(r,s,f){var _=s[1],T=s[0],N=_-T;return r===_&&f?r:((r-T)%N+N)%N+T}function S(){return!1}function x(r,s){if(s===!1)return r;var f=Math.pow(10,s===void 0?6:s);return Math.round(r*f)/f}function E(r){return r.trim?r.trim():r.replace(/^\s+|\s+$/g,"")}function A(r){return E(r).split(/\s+/)}function O(r,s){Object.prototype.hasOwnProperty.call(r,"options")||(r.options=r.options?d(r.options):{});for(var f in s)r.options[f]=s[f];return r.options}function R(r,s,f){var _=[];for(var T in r)_.push(encodeURIComponent(f?T.toUpperCase():T)+"="+encodeURIComponent(r[T]));return(!s||s.indexOf("?")===-1?"?":"&")+_.join("&")}var z=/\{ *([\w_ -]+) *\}/g;function H(r,s){return r.replace(z,function(f,_){var T=s[_];if(T===void 0)throw new Error("No value provided for variable "+f);return typeof T=="function"&&(T=T(s)),T})}var k=Array.isArray||function(r){return Object.prototype.toString.call(r)==="[object Array]"};function j(r,s){for(var f=0;f<r.length;f++)if(r[f]===s)return f;return-1}var B="data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs=";function V(r){return window["webkit"+r]||window["moz"+r]||window["ms"+r]}var J=0;function W(r){var s=+new Date,f=Math.max(0,16-(s-J));return J=s+f,window.setTimeout(r,f)}var rt=window.requestAnimationFrame||V("RequestAnimationFrame")||W,et=window.cancelAnimationFrame||V("CancelAnimationFrame")||V("CancelRequestAnimationFrame")||function(r){window.clearTimeout(r)};function K(r,s,f){if(f&&rt===W)r.call(s);else return rt.call(window,m(r,s))}function U(r){r&&et.call(window,r)}var Q={__proto__:null,extend:u,create:d,bind:m,get lastId(){return p},stamp:b,throttle:v,wrapNum:w,falseFn:S,formatNum:x,trim:E,splitWords:A,setOptions:O,getParamString:R,template:H,isArray:k,indexOf:j,emptyImageUrl:B,requestFn:rt,cancelFn:et,requestAnimFrame:K,cancelAnimFrame:U};function mt(){}mt.extend=function(r){var s=function(){O(this),this.initialize&&this.initialize.apply(this,arguments),this.callInitHooks()},f=s.__super__=this.prototype,_=d(f);_.constructor=s,s.prototype=_;for(var T in this)Object.prototype.hasOwnProperty.call(this,T)&&T!=="prototype"&&T!=="__super__"&&(s[T]=this[T]);return r.statics&&u(s,r.statics),r.includes&&(vt(r.includes),u.apply(null,[_].concat(r.includes))),u(_,r),delete _.statics,delete _.includes,_.options&&(_.options=f.options?d(f.options):{},u(_.options,r.options)),_._initHooks=[],_.callInitHooks=function(){if(!this._initHooksCalled){f.callInitHooks&&f.callInitHooks.call(this),this._initHooksCalled=!0;for(var N=0,Z=_._initHooks.length;N<Z;N++)_._initHooks[N].call(this)}},s},mt.include=function(r){var s=this.prototype.options;return u(this.prototype,r),r.options&&(this.prototype.options=s,this.mergeOptions(r.options)),this},mt.mergeOptions=function(r){return u(this.prototype.options,r),this},mt.addInitHook=function(r){var s=Array.prototype.slice.call(arguments,1),f=typeof r=="function"?r:function(){this[r].apply(this,s)};return this.prototype._initHooks=this.prototype._initHooks||[],this.prototype._initHooks.push(f),this};function vt(r){if(!(typeof L>"u"||!L||!L.Mixin)){r=k(r)?r:[r];for(var s=0;s<r.length;s++)r[s]===L.Mixin.Events&&console.warn("Deprecated include of L.Mixin.Events: this property will be removed in future releases, please inherit from L.Evented instead.",new Error().stack)}}var $={on:function(r,s,f){if(typeof r=="object")for(var _ in r)this._on(_,r[_],s);else{r=A(r);for(var T=0,N=r.length;T<N;T++)this._on(r[T],s,f)}return this},off:function(r,s,f){if(!arguments.length)delete this._events;else if(typeof r=="object")for(var _ in r)this._off(_,r[_],s);else{r=A(r);for(var T=arguments.length===1,N=0,Z=r.length;N<Z;N++)T?this._off(r[N]):this._off(r[N],s,f)}return this},_on:function(r,s,f,_){if(typeof s!="function"){console.warn("wrong listener type: "+typeof s);return}if(this._listens(r,s,f)===!1){f===this&&(f=void 0);var T={fn:s,ctx:f};_&&(T.once=!0),this._events=this._events||{},this._events[r]=this._events[r]||[],this._events[r].push(T)}},_off:function(r,s,f){var _,T,N;if(this._events&&(_=this._events[r],!!_)){if(arguments.length===1){if(this._firingCount)for(T=0,N=_.length;T<N;T++)_[T].fn=S;delete this._events[r];return}if(typeof s!="function"){console.warn("wrong listener type: "+typeof s);return}var Z=this._listens(r,s,f);if(Z!==!1){var at=_[Z];this._firingCount&&(at.fn=S,this._events[r]=_=_.slice()),_.splice(Z,1)}}},fire:function(r,s,f){if(!this.listens(r,f))return this;var _=u({},s,{type:r,target:this,sourceTarget:s&&s.sourceTarget||this});if(this._events){var T=this._events[r];if(T){this._firingCount=this._firingCount+1||1;for(var N=0,Z=T.length;N<Z;N++){var at=T[N],ft=at.fn;at.once&&this.off(r,ft,at.ctx),ft.call(at.ctx||this,_)}this._firingCount--}}return f&&this._propagateEvent(_),this},listens:function(r,s,f,_){typeof r!="string"&&console.warn('"string" type argument expected');var T=s;typeof s!="function"&&(_=!!s,T=void 0,f=void 0);var N=this._events&&this._events[r];if(N&&N.length&&this._listens(r,T,f)!==!1)return!0;if(_){for(var Z in this._eventParents)if(this._eventParents[Z].listens(r,s,f,_))return!0}return!1},_listens:function(r,s,f){if(!this._events)return!1;var _=this._events[r]||[];if(!s)return!!_.length;f===this&&(f=void 0);for(var T=0,N=_.length;T<N;T++)if(_[T].fn===s&&_[T].ctx===f)return T;return!1},once:function(r,s,f){if(typeof r=="object")for(var _ in r)this._on(_,r[_],s,!0);else{r=A(r);for(var T=0,N=r.length;T<N;T++)this._on(r[T],s,f,!0)}return this},addEventParent:function(r){return this._eventParents=this._eventParents||{},this._eventParents[b(r)]=r,this},removeEventParent:function(r){return this._eventParents&&delete this._eventParents[b(r)],this},_propagateEvent:function(r){for(var s in this._eventParents)this._eventParents[s].fire(r.type,u({layer:r.target,propagatedFrom:r.target},r),!0)}};$.addEventListener=$.on,$.removeEventListener=$.clearAllEventListeners=$.off,$.addOneTimeEventListener=$.once,$.fireEvent=$.fire,$.hasEventListeners=$.listens;var it=mt.extend($);function ot(r,s,f){this.x=f?Math.round(r):r,this.y=f?Math.round(s):s}var I=Math.trunc||function(r){return r>0?Math.floor(r):Math.ceil(r)};ot.prototype={clone:function(){return new ot(this.x,this.y)},add:function(r){return this.clone()._add(D(r))},_add:function(r){return this.x+=r.x,this.y+=r.y,this},subtract:function(r){return this.clone()._subtract(D(r))},_subtract:function(r){return this.x-=r.x,this.y-=r.y,this},divideBy:function(r){return this.clone()._divideBy(r)},_divideBy:function(r){return this.x/=r,this.y/=r,this},multiplyBy:function(r){return this.clone()._multiplyBy(r)},_multiplyBy:function(r){return this.x*=r,this.y*=r,this},scaleBy:function(r){return new ot(this.x*r.x,this.y*r.y)},unscaleBy:function(r){return new ot(this.x/r.x,this.y/r.y)},round:function(){return this.clone()._round()},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},floor:function(){return this.clone()._floor()},_floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},ceil:function(){return this.clone()._ceil()},_ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},trunc:function(){return this.clone()._trunc()},_trunc:function(){return this.x=I(this.x),this.y=I(this.y),this},distanceTo:function(r){r=D(r);var s=r.x-this.x,f=r.y-this.y;return Math.sqrt(s*s+f*f)},equals:function(r){return r=D(r),r.x===this.x&&r.y===this.y},contains:function(r){return r=D(r),Math.abs(r.x)<=Math.abs(this.x)&&Math.abs(r.y)<=Math.abs(this.y)},toString:function(){return"Point("+x(this.x)+", "+x(this.y)+")"}};function D(r,s,f){return r instanceof ot?r:k(r)?new ot(r[0],r[1]):r==null?r:typeof r=="object"&&"x"in r&&"y"in r?new ot(r.x,r.y):new ot(r,s,f)}function G(r,s){if(r)for(var f=s?[r,s]:r,_=0,T=f.length;_<T;_++)this.extend(f[_])}G.prototype={extend:function(r){var s,f;if(!r)return this;if(r instanceof ot||typeof r[0]=="number"||"x"in r)s=f=D(r);else if(r=F(r),s=r.min,f=r.max,!s||!f)return this;return!this.min&&!this.max?(this.min=s.clone(),this.max=f.clone()):(this.min.x=Math.min(s.x,this.min.x),this.max.x=Math.max(f.x,this.max.x),this.min.y=Math.min(s.y,this.min.y),this.max.y=Math.max(f.y,this.max.y)),this},getCenter:function(r){return D((this.min.x+this.max.x)/2,(this.min.y+this.max.y)/2,r)},getBottomLeft:function(){return D(this.min.x,this.max.y)},getTopRight:function(){return D(this.max.x,this.min.y)},getTopLeft:function(){return this.min},getBottomRight:function(){return this.max},getSize:function(){return this.max.subtract(this.min)},contains:function(r){var s,f;return typeof r[0]=="number"||r instanceof ot?r=D(r):r=F(r),r instanceof G?(s=r.min,f=r.max):s=f=r,s.x>=this.min.x&&f.x<=this.max.x&&s.y>=this.min.y&&f.y<=this.max.y},intersects:function(r){r=F(r);var s=this.min,f=this.max,_=r.min,T=r.max,N=T.x>=s.x&&_.x<=f.x,Z=T.y>=s.y&&_.y<=f.y;return N&&Z},overlaps:function(r){r=F(r);var s=this.min,f=this.max,_=r.min,T=r.max,N=T.x>s.x&&_.x<f.x,Z=T.y>s.y&&_.y<f.y;return N&&Z},isValid:function(){return!!(this.min&&this.max)},pad:function(r){var s=this.min,f=this.max,_=Math.abs(s.x-f.x)*r,T=Math.abs(s.y-f.y)*r;return F(D(s.x-_,s.y-T),D(f.x+_,f.y+T))},equals:function(r){return r?(r=F(r),this.min.equals(r.getTopLeft())&&this.max.equals(r.getBottomRight())):!1}};function F(r,s){return!r||r instanceof G?r:new G(r,s)}function q(r,s){if(r)for(var f=s?[r,s]:r,_=0,T=f.length;_<T;_++)this.extend(f[_])}q.prototype={extend:function(r){var s=this._southWest,f=this._northEast,_,T;if(r instanceof lt)_=r,T=r;else if(r instanceof q){if(_=r._southWest,T=r._northEast,!_||!T)return this}else return r?this.extend(ht(r)||tt(r)):this;return!s&&!f?(this._southWest=new lt(_.lat,_.lng),this._northEast=new lt(T.lat,T.lng)):(s.lat=Math.min(_.lat,s.lat),s.lng=Math.min(_.lng,s.lng),f.lat=Math.max(T.lat,f.lat),f.lng=Math.max(T.lng,f.lng)),this},pad:function(r){var s=this._southWest,f=this._northEast,_=Math.abs(s.lat-f.lat)*r,T=Math.abs(s.lng-f.lng)*r;return new q(new lt(s.lat-_,s.lng-T),new lt(f.lat+_,f.lng+T))},getCenter:function(){return new lt((this._southWest.lat+this._northEast.lat)/2,(this._southWest.lng+this._northEast.lng)/2)},getSouthWest:function(){return this._southWest},getNorthEast:function(){return this._northEast},getNorthWest:function(){return new lt(this.getNorth(),this.getWest())},getSouthEast:function(){return new lt(this.getSouth(),this.getEast())},getWest:function(){return this._southWest.lng},getSouth:function(){return this._southWest.lat},getEast:function(){return this._northEast.lng},getNorth:function(){return this._northEast.lat},contains:function(r){typeof r[0]=="number"||r instanceof lt||"lat"in r?r=ht(r):r=tt(r);var s=this._southWest,f=this._northEast,_,T;return r instanceof q?(_=r.getSouthWest(),T=r.getNorthEast()):_=T=r,_.lat>=s.lat&&T.lat<=f.lat&&_.lng>=s.lng&&T.lng<=f.lng},intersects:function(r){r=tt(r);var s=this._southWest,f=this._northEast,_=r.getSouthWest(),T=r.getNorthEast(),N=T.lat>=s.lat&&_.lat<=f.lat,Z=T.lng>=s.lng&&_.lng<=f.lng;return N&&Z},overlaps:function(r){r=tt(r);var s=this._southWest,f=this._northEast,_=r.getSouthWest(),T=r.getNorthEast(),N=T.lat>s.lat&&_.lat<f.lat,Z=T.lng>s.lng&&_.lng<f.lng;return N&&Z},toBBoxString:function(){return[this.getWest(),this.getSouth(),this.getEast(),this.getNorth()].join(",")},equals:function(r,s){return r?(r=tt(r),this._southWest.equals(r.getSouthWest(),s)&&this._northEast.equals(r.getNorthEast(),s)):!1},isValid:function(){return!!(this._southWest&&this._northEast)}};function tt(r,s){return r instanceof q?r:new q(r,s)}function lt(r,s,f){if(isNaN(r)||isNaN(s))throw new Error("Invalid LatLng object: ("+r+", "+s+")");this.lat=+r,this.lng=+s,f!==void 0&&(this.alt=+f)}lt.prototype={equals:function(r,s){if(!r)return!1;r=ht(r);var f=Math.max(Math.abs(this.lat-r.lat),Math.abs(this.lng-r.lng));return f<=(s===void 0?1e-9:s)},toString:function(r){return"LatLng("+x(this.lat,r)+", "+x(this.lng,r)+")"},distanceTo:function(r){return bt.distance(this,ht(r))},wrap:function(){return bt.wrapLatLng(this)},toBounds:function(r){var s=180*r/40075017,f=s/Math.cos(Math.PI/180*this.lat);return tt([this.lat-s,this.lng-f],[this.lat+s,this.lng+f])},clone:function(){return new lt(this.lat,this.lng,this.alt)}};function ht(r,s,f){return r instanceof lt?r:k(r)&&typeof r[0]!="object"?r.length===3?new lt(r[0],r[1],r[2]):r.length===2?new lt(r[0],r[1]):null:r==null?r:typeof r=="object"&&"lat"in r?new lt(r.lat,"lng"in r?r.lng:r.lon,r.alt):s===void 0?null:new lt(r,s,f)}var wt={latLngToPoint:function(r,s){var f=this.projection.project(r),_=this.scale(s);return this.transformation._transform(f,_)},pointToLatLng:function(r,s){var f=this.scale(s),_=this.transformation.untransform(r,f);return this.projection.unproject(_)},project:function(r){return this.projection.project(r)},unproject:function(r){return this.projection.unproject(r)},scale:function(r){return 256*Math.pow(2,r)},zoom:function(r){return Math.log(r/256)/Math.LN2},getProjectedBounds:function(r){if(this.infinite)return null;var s=this.projection.bounds,f=this.scale(r),_=this.transformation.transform(s.min,f),T=this.transformation.transform(s.max,f);return new G(_,T)},infinite:!1,wrapLatLng:function(r){var s=this.wrapLng?w(r.lng,this.wrapLng,!0):r.lng,f=this.wrapLat?w(r.lat,this.wrapLat,!0):r.lat,_=r.alt;return new lt(f,s,_)},wrapLatLngBounds:function(r){var s=r.getCenter(),f=this.wrapLatLng(s),_=s.lat-f.lat,T=s.lng-f.lng;if(_===0&&T===0)return r;var N=r.getSouthWest(),Z=r.getNorthEast(),at=new lt(N.lat-_,N.lng-T),ft=new lt(Z.lat-_,Z.lng-T);return new q(at,ft)}},bt=u({},wt,{wrapLng:[-180,180],R:6371e3,distance:function(r,s){var f=Math.PI/180,_=r.lat*f,T=s.lat*f,N=Math.sin((s.lat-r.lat)*f/2),Z=Math.sin((s.lng-r.lng)*f/2),at=N*N+Math.cos(_)*Math.cos(T)*Z*Z,ft=2*Math.atan2(Math.sqrt(at),Math.sqrt(1-at));return this.R*ft}}),Tt=6378137,$t={R:Tt,MAX_LATITUDE:85.0511287798,project:function(r){var s=Math.PI/180,f=this.MAX_LATITUDE,_=Math.max(Math.min(f,r.lat),-f),T=Math.sin(_*s);return new ot(this.R*r.lng*s,this.R*Math.log((1+T)/(1-T))/2)},unproject:function(r){var s=180/Math.PI;return new lt((2*Math.atan(Math.exp(r.y/this.R))-Math.PI/2)*s,r.x*s/this.R)},bounds:(function(){var r=Tt*Math.PI;return new G([-r,-r],[r,r])})()};function Wt(r,s,f,_){if(k(r)){this._a=r[0],this._b=r[1],this._c=r[2],this._d=r[3];return}this._a=r,this._b=s,this._c=f,this._d=_}Wt.prototype={transform:function(r,s){return this._transform(r.clone(),s)},_transform:function(r,s){return s=s||1,r.x=s*(this._a*r.x+this._b),r.y=s*(this._c*r.y+this._d),r},untransform:function(r,s){return s=s||1,new ot((r.x/s-this._b)/this._a,(r.y/s-this._d)/this._c)}};function Pt(r,s,f,_){return new Wt(r,s,f,_)}var Bt=u({},bt,{code:"EPSG:3857",projection:$t,transformation:(function(){var r=.5/(Math.PI*$t.R);return Pt(r,.5,-r,.5)})()}),re=u({},Bt,{code:"EPSG:900913"});function me(r){return document.createElementNS("http://www.w3.org/2000/svg",r)}function fe(r,s){var f="",_,T,N,Z,at,ft;for(_=0,N=r.length;_<N;_++){for(at=r[_],T=0,Z=at.length;T<Z;T++)ft=at[T],f+=(T?"L":"M")+ft.x+" "+ft.y;f+=s?jt.svg?"z":"x":""}return f||"M0 0"}var pe=document.documentElement.style,Mt="ActiveXObject"in window,Vt=Mt&&!document.addEventListener,Kt="msLaunchUri"in navigator&&!("documentMode"in document),Ot=kn("webkit"),ie=kn("android"),Ee=kn("android 2")||kn("android 3"),_e=parseInt(/WebKit\/([0-9]+)|$/.exec(navigator.userAgent)[1],10),vn=ie&&kn("Google")&&_e<537&&!("AudioNode"in window),yn=!!window.opera,Ve=!Kt&&kn("chrome"),In=kn("gecko")&&!Ot&&!yn&&!Mt,_n=!Ve&&kn("safari"),yc=kn("phantom"),_c="OTransition"in pe,af=navigator.platform.indexOf("Win")===0,Ra=Mt&&"transition"in pe,Bi="WebKitCSSMatrix"in window&&"m11"in new window.WebKitCSSMatrix&&!Ee,Cr="MozPerspective"in pe,Mo=!window.L_DISABLE_3D&&(Ra||Bi||Cr)&&!_c&&!yc,yr=typeof orientation<"u"||kn("mobile"),of=yr&&Ot,xc=yr&&Bi,Cs=!window.PointerEvent&&window.MSPointerEvent,Do=!!(window.PointerEvent||Cs),Ri="ontouchstart"in window||!!window.TouchEvent,sf=!window.L_NO_TOUCH&&(Ri||Do),Sc=yr&&yn,wc=yr&&In,Bs=(window.devicePixelRatio||window.screen.deviceXDPI/window.screen.logicalXDPI)>1,Rs=(function(){var r=!1;try{var s=Object.defineProperty({},"passive",{get:function(){r=!0}});window.addEventListener("testPassiveEventSupport",S,s),window.removeEventListener("testPassiveEventSupport",S,s)}catch{}return r})(),Tc=(function(){return!!document.createElement("canvas").getContext})(),Ps=!!(document.createElementNS&&me("svg").createSVGRect),Br=!!Ps&&(function(){var r=document.createElement("div");return r.innerHTML="<svg/>",(r.firstChild&&r.firstChild.namespaceURI)==="http://www.w3.org/2000/svg"})(),Ke=!Ps&&(function(){try{var r=document.createElement("div");r.innerHTML='<v:shape adj="1"/>';var s=r.firstChild;return s.style.behavior="url(#default#VML)",s&&typeof s.adj=="object"}catch{return!1}})(),hn=navigator.platform.indexOf("Mac")===0,Pi=navigator.platform.indexOf("Linux")===0;function kn(r){return navigator.userAgent.toLowerCase().indexOf(r)>=0}var jt={ie:Mt,ielt9:Vt,edge:Kt,webkit:Ot,android:ie,android23:Ee,androidStock:vn,opera:yn,chrome:Ve,gecko:In,safari:_n,phantom:yc,opera12:_c,win:af,ie3d:Ra,webkit3d:Bi,gecko3d:Cr,any3d:Mo,mobile:yr,mobileWebkit:of,mobileWebkit3d:xc,msPointer:Cs,pointer:Do,touch:sf,touchNative:Ri,mobileOpera:Sc,mobileGecko:wc,retina:Bs,passiveEvents:Rs,canvas:Tc,svg:Ps,vml:Ke,inlineSvg:Br,mac:hn,linux:Pi},Ec=jt.msPointer?"MSPointerDown":"pointerdown",zs=jt.msPointer?"MSPointerMove":"pointermove",zi=jt.msPointer?"MSPointerUp":"pointerup",Ao=jt.msPointer?"MSPointerCancel":"pointercancel",Rr={touchstart:Ec,touchmove:zs,touchend:zi,touchcancel:Ao},Jr={touchstart:Ac,touchmove:Pa,touchend:Pa,touchcancel:Pa},rr={},ti=!1;function ze(r,s,f){return s==="touchstart"&&lf(),Jr[s]?(f=Jr[s].bind(this,f),r.addEventListener(Rr[s],f,!1),f):(console.warn("wrong event specified:",s),S)}function Mc(r,s,f){if(!Rr[s]){console.warn("wrong event specified:",s);return}r.removeEventListener(Rr[s],f,!1)}function Dc(r){rr[r.pointerId]=r}function ei(r){rr[r.pointerId]&&(rr[r.pointerId]=r)}function ni(r){delete rr[r.pointerId]}function lf(){ti||(document.addEventListener(Ec,Dc,!0),document.addEventListener(zs,ei,!0),document.addEventListener(zi,ni,!0),document.addEventListener(Ao,ni,!0),ti=!0)}function Pa(r,s){if(s.pointerType!==(s.MSPOINTER_TYPE_MOUSE||"mouse")){s.touches=[];for(var f in rr)s.touches.push(rr[f]);s.changedTouches=[s],r(s)}}function Ac(r,s){s.MSPOINTER_TYPE_TOUCH&&s.pointerType===s.MSPOINTER_TYPE_TOUCH&&Le(s),Pa(r,s)}function cf(r){var s={},f,_;for(_ in r)f=r[_],s[_]=f&&f.bind?f.bind(r):f;return r=s,s.type="dblclick",s.detail=2,s.isTrusted=!1,s._simulated=!0,s}var No=200;function Oo(r,s){r.addEventListener("dblclick",s);var f=0,_;function T(N){if(N.detail!==1){_=N.detail;return}if(!(N.pointerType==="mouse"||N.sourceCapabilities&&!N.sourceCapabilities.firesTouchEvents)){var Z=$s(N);if(!(Z.some(function(ft){return ft instanceof HTMLLabelElement&&ft.attributes.for})&&!Z.some(function(ft){return ft instanceof HTMLInputElement||ft instanceof HTMLSelectElement}))){var at=Date.now();at-f<=No?(_++,_===2&&s(cf(N))):_=1,f=at}}}return r.addEventListener("click",T),{dblclick:s,simDblclick:T}}function _r(r,s){r.removeEventListener("dblclick",s.dblclick),r.removeEventListener("click",s.simDblclick)}var za=Ui(["transform","webkitTransform","OTransform","MozTransform","msTransform"]),Hi=Ui(["webkitTransition","transition","OTransition","MozTransition","msTransition"]),ri=Hi==="webkitTransition"||Hi==="OTransition"?Hi+"End":"transitionend";function jo(r){return typeof r=="string"?document.getElementById(r):r}function ii(r,s){var f=r.style[s]||r.currentStyle&&r.currentStyle[s];if((!f||f==="auto")&&document.defaultView){var _=document.defaultView.getComputedStyle(r,null);f=_?_[s]:null}return f==="auto"?null:f}function Qt(r,s,f){var _=document.createElement(r);return _.className=s||"",f&&f.appendChild(_),_}function ge(r){var s=r.parentNode;s&&s.removeChild(r)}function rn(r){for(;r.firstChild;)r.removeChild(r.firstChild)}function ai(r){var s=r.parentNode;s&&s.lastChild!==r&&s.appendChild(r)}function Ii(r){var s=r.parentNode;s&&s.firstChild!==r&&s.insertBefore(r,s.firstChild)}function $i(r,s){if(r.classList!==void 0)return r.classList.contains(s);var f=an(r);return f.length>0&&new RegExp("(^|\\s)"+s+"(\\s|$)").test(f)}function Ut(r,s){if(r.classList!==void 0)for(var f=A(s),_=0,T=f.length;_<T;_++)r.classList.add(f[_]);else if(!$i(r,s)){var N=an(r);Hs(r,(N?N+" ":"")+s)}}function be(r,s){r.classList!==void 0?r.classList.remove(s):Hs(r,E((" "+an(r)+" ").replace(" "+s+" "," ")))}function Hs(r,s){r.className.baseVal===void 0?r.className=s:r.className.baseVal=s}function an(r){return r.correspondingElement&&(r=r.correspondingElement),r.className.baseVal===void 0?r.className:r.className.baseVal}function mn(r,s){"opacity"in r.style?r.style.opacity=s:"filter"in r.style&&Nc(r,s)}function Nc(r,s){var f=!1,_="DXImageTransform.Microsoft.Alpha";try{f=r.filters.item(_)}catch{if(s===1)return}s=Math.round(s*100),f?(f.Enabled=s!==100,f.Opacity=s):r.style.filter+=" progid:"+_+"(opacity="+s+")"}function Ui(r){for(var s=document.documentElement.style,f=0;f<r.length;f++)if(r[f]in s)return r[f];return!1}function Ln(r,s,f){var _=s||new ot(0,0);r.style[za]=(jt.ie3d?"translate("+_.x+"px,"+_.y+"px)":"translate3d("+_.x+"px,"+_.y+"px,0)")+(f?" scale("+f+")":"")}function Ae(r,s){r._leaflet_pos=s,jt.any3d?Ln(r,s):(r.style.left=s.x+"px",r.style.top=s.y+"px")}function Pr(r){return r._leaflet_pos||new ot(0,0)}var ir,Ha,ko;if("onselectstart"in document)ir=function(){It(window,"selectstart",Le)},Ha=function(){ee(window,"selectstart",Le)};else{var Gi=Ui(["userSelect","WebkitUserSelect","OUserSelect","MozUserSelect","msUserSelect"]);ir=function(){if(Gi){var r=document.documentElement.style;ko=r[Gi],r[Gi]="none"}},Ha=function(){Gi&&(document.documentElement.style[Gi]=ko,ko=void 0)}}function Ia(){It(window,"dragstart",Le)}function Is(){ee(window,"dragstart",Le)}var Lo,Zi;function $a(r){for(;r.tabIndex===-1;)r=r.parentNode;r.style&&(Yi(),Lo=r,Zi=r.style.outlineStyle,r.style.outlineStyle="none",It(window,"keydown",Yi))}function Yi(){Lo&&(Lo.style.outlineStyle=Zi,Lo=void 0,Zi=void 0,ee(window,"keydown",Yi))}function oi(r){do r=r.parentNode;while((!r.offsetWidth||!r.offsetHeight)&&r!==document.body);return r}function zr(r){var s=r.getBoundingClientRect();return{x:s.width/r.offsetWidth||1,y:s.height/r.offsetHeight||1,boundingClientRect:s}}var Oc={__proto__:null,TRANSFORM:za,TRANSITION:Hi,TRANSITION_END:ri,get:jo,getStyle:ii,create:Qt,remove:ge,empty:rn,toFront:ai,toBack:Ii,hasClass:$i,addClass:Ut,removeClass:be,setClass:Hs,getClass:an,setOpacity:mn,testProp:Ui,setTransform:Ln,setPosition:Ae,getPosition:Pr,get disableTextSelection(){return ir},get enableTextSelection(){return Ha},disableImageDrag:Ia,enableImageDrag:Is,preventOutline:$a,restoreOutline:Yi,getSizedParentNode:oi,getScale:zr};function It(r,s,f,_){if(s&&typeof s=="object")for(var T in s)si(r,T,s[T],f);else{s=A(s);for(var N=0,Z=s.length;N<Z;N++)si(r,s[N],f,_)}return this}var $n="_leaflet_events";function ee(r,s,f,_){if(arguments.length===1)ar(r),delete r[$n];else if(s&&typeof s=="object")for(var T in s)or(r,T,s[T],f);else if(s=A(s),arguments.length===2)ar(r,function(at){return j(s,at)!==-1});else for(var N=0,Z=s.length;N<Z;N++)or(r,s[N],f,_);return this}function ar(r,s){for(var f in r[$n]){var _=f.split(/\d/)[0];(!s||s(_))&&or(r,_,null,null,f)}}var Ua={mouseenter:"mouseover",mouseleave:"mouseout",wheel:!("onwheel"in window)&&"mousewheel"};function si(r,s,f,_){var T=s+b(f)+(_?"_"+b(_):"");if(r[$n]&&r[$n][T])return this;var N=function(at){return f.call(_||r,at||window.event)},Z=N;!jt.touchNative&&jt.pointer&&s.indexOf("touch")===0?N=ze(r,s,N):jt.touch&&s==="dblclick"?N=Oo(r,N):"addEventListener"in r?s==="touchstart"||s==="touchmove"||s==="wheel"||s==="mousewheel"?r.addEventListener(Ua[s]||s,N,jt.passiveEvents?{passive:!1}:!1):s==="mouseenter"||s==="mouseleave"?(N=function(at){at=at||window.event,ci(r,at)&&Z(at)},r.addEventListener(Ua[s],N,!1)):r.addEventListener(s,Z,!1):r.attachEvent("on"+s,N),r[$n]=r[$n]||{},r[$n][T]=N}function or(r,s,f,_,T){T=T||s+b(f)+(_?"_"+b(_):"");var N=r[$n]&&r[$n][T];if(!N)return this;!jt.touchNative&&jt.pointer&&s.indexOf("touch")===0?Mc(r,s,N):jt.touch&&s==="dblclick"?_r(r,N):"removeEventListener"in r?r.removeEventListener(Ua[s]||s,N,!1):r.detachEvent("on"+s,N),r[$n][T]=null}function xr(r){return r.stopPropagation?r.stopPropagation():r.originalEvent?r.originalEvent._stopped=!0:r.cancelBubble=!0,this}function qi(r){return si(r,"wheel",xr),this}function Vi(r){return It(r,"mousedown touchstart dblclick contextmenu",xr),r._leaflet_disable_click=!0,this}function Le(r){return r.preventDefault?r.preventDefault():r.returnValue=!1,this}function sr(r){return Le(r),xr(r),this}function $s(r){if(r.composedPath)return r.composedPath();for(var s=[],f=r.target;f;)s.push(f),f=f.parentNode;return s}function on(r,s){if(!s)return new ot(r.clientX,r.clientY);var f=zr(s),_=f.boundingClientRect;return new ot((r.clientX-_.left)/f.x-s.clientLeft,(r.clientY-_.top)/f.y-s.clientTop)}var li=jt.linux&&jt.chrome?window.devicePixelRatio:jt.mac?window.devicePixelRatio*3:window.devicePixelRatio>0?2*window.devicePixelRatio:1;function Ga(r){return jt.edge?r.wheelDeltaY/2:r.deltaY&&r.deltaMode===0?-r.deltaY/li:r.deltaY&&r.deltaMode===1?-r.deltaY*20:r.deltaY&&r.deltaMode===2?-r.deltaY*60:r.deltaX||r.deltaZ?0:r.wheelDelta?(r.wheelDeltaY||r.wheelDelta)/2:r.detail&&Math.abs(r.detail)<32765?-r.detail*20:r.detail?r.detail/-32765*60:0}function ci(r,s){var f=s.relatedTarget;if(!f)return!0;try{for(;f&&f!==r;)f=f.parentNode}catch{return!1}return f!==r}var uf={__proto__:null,on:It,off:ee,stopPropagation:xr,disableScrollPropagation:qi,disableClickPropagation:Vi,preventDefault:Le,stop:sr,getPropagationPath:$s,getMousePosition:on,getWheelDelta:Ga,isExternalTarget:ci,addListener:It,removeListener:ee},Co=it.extend({run:function(r,s,f,_){this.stop(),this._el=r,this._inProgress=!0,this._duration=f||.25,this._easeOutPower=1/Math.max(_||.5,.2),this._startPos=Pr(r),this._offset=s.subtract(this._startPos),this._startTime=+new Date,this.fire("start"),this._animate()},stop:function(){this._inProgress&&(this._step(!0),this._complete())},_animate:function(){this._animId=K(this._animate,this),this._step()},_step:function(r){var s=+new Date-this._startTime,f=this._duration*1e3;s<f?this._runFrame(this._easeOut(s/f),r):(this._runFrame(1),this._complete())},_runFrame:function(r,s){var f=this._startPos.add(this._offset.multiplyBy(r));s&&f._round(),Ae(this._el,f),this.fire("step")},_complete:function(){U(this._animId),this._inProgress=!1,this.fire("end")},_easeOut:function(r){return 1-Math.pow(1-r,this._easeOutPower)}}),Yt=it.extend({options:{crs:Bt,center:void 0,zoom:void 0,minZoom:void 0,maxZoom:void 0,layers:[],maxBounds:void 0,renderer:void 0,zoomAnimation:!0,zoomAnimationThreshold:4,fadeAnimation:!0,markerZoomAnimation:!0,transform3DLimit:8388608,zoomSnap:1,zoomDelta:1,trackResize:!0},initialize:function(r,s){s=O(this,s),this._handlers=[],this._layers={},this._zoomBoundLayers={},this._sizeChanged=!0,this._initContainer(r),this._initLayout(),this._onResize=m(this._onResize,this),this._initEvents(),s.maxBounds&&this.setMaxBounds(s.maxBounds),s.zoom!==void 0&&(this._zoom=this._limitZoom(s.zoom)),s.center&&s.zoom!==void 0&&this.setView(ht(s.center),s.zoom,{reset:!0}),this.callInitHooks(),this._zoomAnimated=Hi&&jt.any3d&&!jt.mobileOpera&&this.options.zoomAnimation,this._zoomAnimated&&(this._createAnimProxy(),It(this._proxy,ri,this._catchTransitionEnd,this)),this._addLayers(this.options.layers)},setView:function(r,s,f){if(s=s===void 0?this._zoom:this._limitZoom(s),r=this._limitCenter(ht(r),s,this.options.maxBounds),f=f||{},this._stop(),this._loaded&&!f.reset&&f!==!0){f.animate!==void 0&&(f.zoom=u({animate:f.animate},f.zoom),f.pan=u({animate:f.animate,duration:f.duration},f.pan));var _=this._zoom!==s?this._tryAnimatedZoom&&this._tryAnimatedZoom(r,s,f.zoom):this._tryAnimatedPan(r,f.pan);if(_)return clearTimeout(this._sizeTimer),this}return this._resetView(r,s,f.pan&&f.pan.noMoveStart),this},setZoom:function(r,s){return this._loaded?this.setView(this.getCenter(),r,{zoom:s}):(this._zoom=r,this)},zoomIn:function(r,s){return r=r||(jt.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom+r,s)},zoomOut:function(r,s){return r=r||(jt.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom-r,s)},setZoomAround:function(r,s,f){var _=this.getZoomScale(s),T=this.getSize().divideBy(2),N=r instanceof ot?r:this.latLngToContainerPoint(r),Z=N.subtract(T).multiplyBy(1-1/_),at=this.containerPointToLatLng(T.add(Z));return this.setView(at,s,{zoom:f})},_getBoundsCenterZoom:function(r,s){s=s||{},r=r.getBounds?r.getBounds():tt(r);var f=D(s.paddingTopLeft||s.padding||[0,0]),_=D(s.paddingBottomRight||s.padding||[0,0]),T=this.getBoundsZoom(r,!1,f.add(_));if(T=typeof s.maxZoom=="number"?Math.min(s.maxZoom,T):T,T===1/0)return{center:r.getCenter(),zoom:T};var N=_.subtract(f).divideBy(2),Z=this.project(r.getSouthWest(),T),at=this.project(r.getNorthEast(),T),ft=this.unproject(Z.add(at).divideBy(2).add(N),T);return{center:ft,zoom:T}},fitBounds:function(r,s){if(r=tt(r),!r.isValid())throw new Error("Bounds are not valid.");var f=this._getBoundsCenterZoom(r,s);return this.setView(f.center,f.zoom,s)},fitWorld:function(r){return this.fitBounds([[-90,-180],[90,180]],r)},panTo:function(r,s){return this.setView(r,this._zoom,{pan:s})},panBy:function(r,s){if(r=D(r).round(),s=s||{},!r.x&&!r.y)return this.fire("moveend");if(s.animate!==!0&&!this.getSize().contains(r))return this._resetView(this.unproject(this.project(this.getCenter()).add(r)),this.getZoom()),this;if(this._panAnim||(this._panAnim=new Co,this._panAnim.on({step:this._onPanTransitionStep,end:this._onPanTransitionEnd},this)),s.noMoveStart||this.fire("movestart"),s.animate!==!1){Ut(this._mapPane,"leaflet-pan-anim");var f=this._getMapPanePos().subtract(r).round();this._panAnim.run(this._mapPane,f,s.duration||.25,s.easeLinearity)}else this._rawPanBy(r),this.fire("move").fire("moveend");return this},flyTo:function(r,s,f){if(f=f||{},f.animate===!1||!jt.any3d)return this.setView(r,s,f);this._stop();var _=this.project(this.getCenter()),T=this.project(r),N=this.getSize(),Z=this._zoom;r=ht(r),s=s===void 0?Z:s;var at=Math.max(N.x,N.y),ft=at*this.getZoomScale(Z,s),_t=T.distanceTo(_)||1,Et=1.42,Dt=Et*Et;function Nt(Me){var ur=Me?-1:1,Tr=Me?ft:at,Gr=ft*ft-at*at+ur*Dt*Dt*_t*_t,Er=2*Tr*Dt*_t,no=Gr/Er,Vo=Math.sqrt(no*no+1)-no,ro=Vo<1e-9?-18:Math.log(Vo);return ro}function Ht(Me){return(Math.exp(Me)-Math.exp(-Me))/2}function ve(Me){return(Math.exp(Me)+Math.exp(-Me))/2}function Ne(Me){return Ht(Me)/ve(Me)}var Xe=Nt(0);function Cn(Me){return at*(ve(Xe)/ve(Xe+Et*Me))}function Fc(Me){return at*(ve(Xe)*Ne(Xe+Et*Me)-Ht(Xe))/Dt}function Xc(Me){return 1-Math.pow(1-Me,1.5)}var eo=Date.now(),aa=(Nt(1)-Xe)/Et,Wc=f.duration?1e3*f.duration:1e3*aa*.8;function oa(){var Me=(Date.now()-eo)/Wc,ur=Xc(Me)*aa;Me<=1?(this._flyToFrame=K(oa,this),this._move(this.unproject(_.add(T.subtract(_).multiplyBy(Fc(ur)/_t)),Z),this.getScaleZoom(at/Cn(ur),Z),{flyTo:!0})):this._move(r,s)._moveEnd(!0)}return this._moveStart(!0,f.noMoveStart),oa.call(this),this},flyToBounds:function(r,s){var f=this._getBoundsCenterZoom(r,s);return this.flyTo(f.center,f.zoom,s)},setMaxBounds:function(r){return r=tt(r),this.listens("moveend",this._panInsideMaxBounds)&&this.off("moveend",this._panInsideMaxBounds),r.isValid()?(this.options.maxBounds=r,this._loaded&&this._panInsideMaxBounds(),this.on("moveend",this._panInsideMaxBounds)):(this.options.maxBounds=null,this)},setMinZoom:function(r){var s=this.options.minZoom;return this.options.minZoom=r,this._loaded&&s!==r&&(this.fire("zoomlevelschange"),this.getZoom()<this.options.minZoom)?this.setZoom(r):this},setMaxZoom:function(r){var s=this.options.maxZoom;return this.options.maxZoom=r,this._loaded&&s!==r&&(this.fire("zoomlevelschange"),this.getZoom()>this.options.maxZoom)?this.setZoom(r):this},panInsideBounds:function(r,s){this._enforcingBounds=!0;var f=this.getCenter(),_=this._limitCenter(f,this._zoom,tt(r));return f.equals(_)||this.panTo(_,s),this._enforcingBounds=!1,this},panInside:function(r,s){s=s||{};var f=D(s.paddingTopLeft||s.padding||[0,0]),_=D(s.paddingBottomRight||s.padding||[0,0]),T=this.project(this.getCenter()),N=this.project(r),Z=this.getPixelBounds(),at=F([Z.min.add(f),Z.max.subtract(_)]),ft=at.getSize();if(!at.contains(N)){this._enforcingBounds=!0;var _t=N.subtract(at.getCenter()),Et=at.extend(N).getSize().subtract(ft);T.x+=_t.x<0?-Et.x:Et.x,T.y+=_t.y<0?-Et.y:Et.y,this.panTo(this.unproject(T),s),this._enforcingBounds=!1}return this},invalidateSize:function(r){if(!this._loaded)return this;r=u({animate:!1,pan:!0},r===!0?{animate:!0}:r);var s=this.getSize();this._sizeChanged=!0,this._lastCenter=null;var f=this.getSize(),_=s.divideBy(2).round(),T=f.divideBy(2).round(),N=_.subtract(T);return!N.x&&!N.y?this:(r.animate&&r.pan?this.panBy(N):(r.pan&&this._rawPanBy(N),this.fire("move"),r.debounceMoveend?(clearTimeout(this._sizeTimer),this._sizeTimer=setTimeout(m(this.fire,this,"moveend"),200)):this.fire("moveend")),this.fire("resize",{oldSize:s,newSize:f}))},stop:function(){return this.setZoom(this._limitZoom(this._zoom)),this.options.zoomSnap||this.fire("viewreset"),this._stop()},locate:function(r){if(r=this._locateOptions=u({timeout:1e4,watch:!1},r),!("geolocation"in navigator))return this._handleGeolocationError({code:0,message:"Geolocation not supported."}),this;var s=m(this._handleGeolocationResponse,this),f=m(this._handleGeolocationError,this);return r.watch?this._locationWatchId=navigator.geolocation.watchPosition(s,f,r):navigator.geolocation.getCurrentPosition(s,f,r),this},stopLocate:function(){return navigator.geolocation&&navigator.geolocation.clearWatch&&navigator.geolocation.clearWatch(this._locationWatchId),this._locateOptions&&(this._locateOptions.setView=!1),this},_handleGeolocationError:function(r){if(this._container._leaflet_id){var s=r.code,f=r.message||(s===1?"permission denied":s===2?"position unavailable":"timeout");this._locateOptions.setView&&!this._loaded&&this.fitWorld(),this.fire("locationerror",{code:s,message:"Geolocation error: "+f+"."})}},_handleGeolocationResponse:function(r){if(this._container._leaflet_id){var s=r.coords.latitude,f=r.coords.longitude,_=new lt(s,f),T=_.toBounds(r.coords.accuracy*2),N=this._locateOptions;if(N.setView){var Z=this.getBoundsZoom(T);this.setView(_,N.maxZoom?Math.min(Z,N.maxZoom):Z)}var at={latlng:_,bounds:T,timestamp:r.timestamp};for(var ft in r.coords)typeof r.coords[ft]=="number"&&(at[ft]=r.coords[ft]);this.fire("locationfound",at)}},addHandler:function(r,s){if(!s)return this;var f=this[r]=new s(this);return this._handlers.push(f),this.options[r]&&f.enable(),this},remove:function(){if(this._initEvents(!0),this.options.maxBounds&&this.off("moveend",this._panInsideMaxBounds),this._containerId!==this._container._leaflet_id)throw new Error("Map container is being reused by another instance");try{delete this._container._leaflet_id,delete this._containerId}catch{this._container._leaflet_id=void 0,this._containerId=void 0}this._locationWatchId!==void 0&&this.stopLocate(),this._stop(),ge(this._mapPane),this._clearControlPos&&this._clearControlPos(),this._resizeRequest&&(U(this._resizeRequest),this._resizeRequest=null),this._clearHandlers(),this._loaded&&this.fire("unload");var r;for(r in this._layers)this._layers[r].remove();for(r in this._panes)ge(this._panes[r]);return this._layers=[],this._panes=[],delete this._mapPane,delete this._renderer,this},createPane:function(r,s){var f="leaflet-pane"+(r?" leaflet-"+r.replace("Pane","")+"-pane":""),_=Qt("div",f,s||this._mapPane);return r&&(this._panes[r]=_),_},getCenter:function(){return this._checkIfLoaded(),this._lastCenter&&!this._moved()?this._lastCenter.clone():this.layerPointToLatLng(this._getCenterLayerPoint())},getZoom:function(){return this._zoom},getBounds:function(){var r=this.getPixelBounds(),s=this.unproject(r.getBottomLeft()),f=this.unproject(r.getTopRight());return new q(s,f)},getMinZoom:function(){return this.options.minZoom===void 0?this._layersMinZoom||0:this.options.minZoom},getMaxZoom:function(){return this.options.maxZoom===void 0?this._layersMaxZoom===void 0?1/0:this._layersMaxZoom:this.options.maxZoom},getBoundsZoom:function(r,s,f){r=tt(r),f=D(f||[0,0]);var _=this.getZoom()||0,T=this.getMinZoom(),N=this.getMaxZoom(),Z=r.getNorthWest(),at=r.getSouthEast(),ft=this.getSize().subtract(f),_t=F(this.project(at,_),this.project(Z,_)).getSize(),Et=jt.any3d?this.options.zoomSnap:1,Dt=ft.x/_t.x,Nt=ft.y/_t.y,Ht=s?Math.max(Dt,Nt):Math.min(Dt,Nt);return _=this.getScaleZoom(Ht,_),Et&&(_=Math.round(_/(Et/100))*(Et/100),_=s?Math.ceil(_/Et)*Et:Math.floor(_/Et)*Et),Math.max(T,Math.min(N,_))},getSize:function(){return(!this._size||this._sizeChanged)&&(this._size=new ot(this._container.clientWidth||0,this._container.clientHeight||0),this._sizeChanged=!1),this._size.clone()},getPixelBounds:function(r,s){var f=this._getTopLeftPoint(r,s);return new G(f,f.add(this.getSize()))},getPixelOrigin:function(){return this._checkIfLoaded(),this._pixelOrigin},getPixelWorldBounds:function(r){return this.options.crs.getProjectedBounds(r===void 0?this.getZoom():r)},getPane:function(r){return typeof r=="string"?this._panes[r]:r},getPanes:function(){return this._panes},getContainer:function(){return this._container},getZoomScale:function(r,s){var f=this.options.crs;return s=s===void 0?this._zoom:s,f.scale(r)/f.scale(s)},getScaleZoom:function(r,s){var f=this.options.crs;s=s===void 0?this._zoom:s;var _=f.zoom(r*f.scale(s));return isNaN(_)?1/0:_},project:function(r,s){return s=s===void 0?this._zoom:s,this.options.crs.latLngToPoint(ht(r),s)},unproject:function(r,s){return s=s===void 0?this._zoom:s,this.options.crs.pointToLatLng(D(r),s)},layerPointToLatLng:function(r){var s=D(r).add(this.getPixelOrigin());return this.unproject(s)},latLngToLayerPoint:function(r){var s=this.project(ht(r))._round();return s._subtract(this.getPixelOrigin())},wrapLatLng:function(r){return this.options.crs.wrapLatLng(ht(r))},wrapLatLngBounds:function(r){return this.options.crs.wrapLatLngBounds(tt(r))},distance:function(r,s){return this.options.crs.distance(ht(r),ht(s))},containerPointToLayerPoint:function(r){return D(r).subtract(this._getMapPanePos())},layerPointToContainerPoint:function(r){return D(r).add(this._getMapPanePos())},containerPointToLatLng:function(r){var s=this.containerPointToLayerPoint(D(r));return this.layerPointToLatLng(s)},latLngToContainerPoint:function(r){return this.layerPointToContainerPoint(this.latLngToLayerPoint(ht(r)))},mouseEventToContainerPoint:function(r){return on(r,this._container)},mouseEventToLayerPoint:function(r){return this.containerPointToLayerPoint(this.mouseEventToContainerPoint(r))},mouseEventToLatLng:function(r){return this.layerPointToLatLng(this.mouseEventToLayerPoint(r))},_initContainer:function(r){var s=this._container=jo(r);if(s){if(s._leaflet_id)throw new Error("Map container is already initialized.")}else throw new Error("Map container not found.");It(s,"scroll",this._onScroll,this),this._containerId=b(s)},_initLayout:function(){var r=this._container;this._fadeAnimated=this.options.fadeAnimation&&jt.any3d,Ut(r,"leaflet-container"+(jt.touch?" leaflet-touch":"")+(jt.retina?" leaflet-retina":"")+(jt.ielt9?" leaflet-oldie":"")+(jt.safari?" leaflet-safari":"")+(this._fadeAnimated?" leaflet-fade-anim":""));var s=ii(r,"position");s!=="absolute"&&s!=="relative"&&s!=="fixed"&&s!=="sticky"&&(r.style.position="relative"),this._initPanes(),this._initControlPos&&this._initControlPos()},_initPanes:function(){var r=this._panes={};this._paneRenderers={},this._mapPane=this.createPane("mapPane",this._container),Ae(this._mapPane,new ot(0,0)),this.createPane("tilePane"),this.createPane("overlayPane"),this.createPane("shadowPane"),this.createPane("markerPane"),this.createPane("tooltipPane"),this.createPane("popupPane"),this.options.markerZoomAnimation||(Ut(r.markerPane,"leaflet-zoom-hide"),Ut(r.shadowPane,"leaflet-zoom-hide"))},_resetView:function(r,s,f){Ae(this._mapPane,new ot(0,0));var _=!this._loaded;this._loaded=!0,s=this._limitZoom(s),this.fire("viewprereset");var T=this._zoom!==s;this._moveStart(T,f)._move(r,s)._moveEnd(T),this.fire("viewreset"),_&&this.fire("load")},_moveStart:function(r,s){return r&&this.fire("zoomstart"),s||this.fire("movestart"),this},_move:function(r,s,f,_){s===void 0&&(s=this._zoom);var T=this._zoom!==s;return this._zoom=s,this._lastCenter=r,this._pixelOrigin=this._getNewPixelOrigin(r),_?f&&f.pinch&&this.fire("zoom",f):((T||f&&f.pinch)&&this.fire("zoom",f),this.fire("move",f)),this},_moveEnd:function(r){return r&&this.fire("zoomend"),this.fire("moveend")},_stop:function(){return U(this._flyToFrame),this._panAnim&&this._panAnim.stop(),this},_rawPanBy:function(r){Ae(this._mapPane,this._getMapPanePos().subtract(r))},_getZoomSpan:function(){return this.getMaxZoom()-this.getMinZoom()},_panInsideMaxBounds:function(){this._enforcingBounds||this.panInsideBounds(this.options.maxBounds)},_checkIfLoaded:function(){if(!this._loaded)throw new Error("Set map center and zoom first.")},_initEvents:function(r){this._targets={},this._targets[b(this._container)]=this;var s=r?ee:It;s(this._container,"click dblclick mousedown mouseup mouseover mouseout mousemove contextmenu keypress keydown keyup",this._handleDOMEvent,this),this.options.trackResize&&s(window,"resize",this._onResize,this),jt.any3d&&this.options.transform3DLimit&&(r?this.off:this.on).call(this,"moveend",this._onMoveEnd)},_onResize:function(){U(this._resizeRequest),this._resizeRequest=K(function(){this.invalidateSize({debounceMoveend:!0})},this)},_onScroll:function(){this._container.scrollTop=0,this._container.scrollLeft=0},_onMoveEnd:function(){var r=this._getMapPanePos();Math.max(Math.abs(r.x),Math.abs(r.y))>=this.options.transform3DLimit&&this._resetView(this.getCenter(),this.getZoom())},_findEventTargets:function(r,s){for(var f=[],_,T=s==="mouseout"||s==="mouseover",N=r.target||r.srcElement,Z=!1;N;){if(_=this._targets[b(N)],_&&(s==="click"||s==="preclick")&&this._draggableMoved(_)){Z=!0;break}if(_&&_.listens(s,!0)&&(T&&!ci(N,r)||(f.push(_),T))||N===this._container)break;N=N.parentNode}return!f.length&&!Z&&!T&&this.listens(s,!0)&&(f=[this]),f},_isClickDisabled:function(r){for(;r&&r!==this._container;){if(r._leaflet_disable_click)return!0;r=r.parentNode}},_handleDOMEvent:function(r){var s=r.target||r.srcElement;if(!(!this._loaded||s._leaflet_disable_events||r.type==="click"&&this._isClickDisabled(s))){var f=r.type;f==="mousedown"&&$a(s),this._fireDOMEvent(r,f)}},_mouseEvents:["click","dblclick","mouseover","mouseout","contextmenu"],_fireDOMEvent:function(r,s,f){if(r.type==="click"){var _=u({},r);_.type="preclick",this._fireDOMEvent(_,_.type,f)}var T=this._findEventTargets(r,s);if(f){for(var N=[],Z=0;Z<f.length;Z++)f[Z].listens(s,!0)&&N.push(f[Z]);T=N.concat(T)}if(T.length){s==="contextmenu"&&Le(r);var at=T[0],ft={originalEvent:r};if(r.type!=="keypress"&&r.type!=="keydown"&&r.type!=="keyup"){var _t=at.getLatLng&&(!at._radius||at._radius<=10);ft.containerPoint=_t?this.latLngToContainerPoint(at.getLatLng()):this.mouseEventToContainerPoint(r),ft.layerPoint=this.containerPointToLayerPoint(ft.containerPoint),ft.latlng=_t?at.getLatLng():this.layerPointToLatLng(ft.layerPoint)}for(Z=0;Z<T.length;Z++)if(T[Z].fire(s,ft,!0),ft.originalEvent._stopped||T[Z].options.bubblingMouseEvents===!1&&j(this._mouseEvents,s)!==-1)return}},_draggableMoved:function(r){return r=r.dragging&&r.dragging.enabled()?r:this,r.dragging&&r.dragging.moved()||this.boxZoom&&this.boxZoom.moved()},_clearHandlers:function(){for(var r=0,s=this._handlers.length;r<s;r++)this._handlers[r].disable()},whenReady:function(r,s){return this._loaded?r.call(s||this,{target:this}):this.on("load",r,s),this},_getMapPanePos:function(){return Pr(this._mapPane)||new ot(0,0)},_moved:function(){var r=this._getMapPanePos();return r&&!r.equals([0,0])},_getTopLeftPoint:function(r,s){var f=r&&s!==void 0?this._getNewPixelOrigin(r,s):this.getPixelOrigin();return f.subtract(this._getMapPanePos())},_getNewPixelOrigin:function(r,s){var f=this.getSize()._divideBy(2);return this.project(r,s)._subtract(f)._add(this._getMapPanePos())._round()},_latLngToNewLayerPoint:function(r,s,f){var _=this._getNewPixelOrigin(f,s);return this.project(r,s)._subtract(_)},_latLngBoundsToNewLayerBounds:function(r,s,f){var _=this._getNewPixelOrigin(f,s);return F([this.project(r.getSouthWest(),s)._subtract(_),this.project(r.getNorthWest(),s)._subtract(_),this.project(r.getSouthEast(),s)._subtract(_),this.project(r.getNorthEast(),s)._subtract(_)])},_getCenterLayerPoint:function(){return this.containerPointToLayerPoint(this.getSize()._divideBy(2))},_getCenterOffset:function(r){return this.latLngToLayerPoint(r).subtract(this._getCenterLayerPoint())},_limitCenter:function(r,s,f){if(!f)return r;var _=this.project(r,s),T=this.getSize().divideBy(2),N=new G(_.subtract(T),_.add(T)),Z=this._getBoundsOffset(N,f,s);return Math.abs(Z.x)<=1&&Math.abs(Z.y)<=1?r:this.unproject(_.add(Z),s)},_limitOffset:function(r,s){if(!s)return r;var f=this.getPixelBounds(),_=new G(f.min.add(r),f.max.add(r));return r.add(this._getBoundsOffset(_,s))},_getBoundsOffset:function(r,s,f){var _=F(this.project(s.getNorthEast(),f),this.project(s.getSouthWest(),f)),T=_.min.subtract(r.min),N=_.max.subtract(r.max),Z=this._rebound(T.x,-N.x),at=this._rebound(T.y,-N.y);return new ot(Z,at)},_rebound:function(r,s){return r+s>0?Math.round(r-s)/2:Math.max(0,Math.ceil(r))-Math.max(0,Math.floor(s))},_limitZoom:function(r){var s=this.getMinZoom(),f=this.getMaxZoom(),_=jt.any3d?this.options.zoomSnap:1;return _&&(r=Math.round(r/_)*_),Math.max(s,Math.min(f,r))},_onPanTransitionStep:function(){this.fire("move")},_onPanTransitionEnd:function(){be(this._mapPane,"leaflet-pan-anim"),this.fire("moveend")},_tryAnimatedPan:function(r,s){var f=this._getCenterOffset(r)._trunc();return(s&&s.animate)!==!0&&!this.getSize().contains(f)?!1:(this.panBy(f,s),!0)},_createAnimProxy:function(){var r=this._proxy=Qt("div","leaflet-proxy leaflet-zoom-animated");this._panes.mapPane.appendChild(r),this.on("zoomanim",function(s){var f=za,_=this._proxy.style[f];Ln(this._proxy,this.project(s.center,s.zoom),this.getZoomScale(s.zoom,1)),_===this._proxy.style[f]&&this._animatingZoom&&this._onZoomTransitionEnd()},this),this.on("load moveend",this._animMoveEnd,this),this._on("unload",this._destroyAnimProxy,this)},_destroyAnimProxy:function(){ge(this._proxy),this.off("load moveend",this._animMoveEnd,this),delete this._proxy},_animMoveEnd:function(){var r=this.getCenter(),s=this.getZoom();Ln(this._proxy,this.project(r,s),this.getZoomScale(s,1))},_catchTransitionEnd:function(r){this._animatingZoom&&r.propertyName.indexOf("transform")>=0&&this._onZoomTransitionEnd()},_nothingToAnimate:function(){return!this._container.getElementsByClassName("leaflet-zoom-animated").length},_tryAnimatedZoom:function(r,s,f){if(this._animatingZoom)return!0;if(f=f||{},!this._zoomAnimated||f.animate===!1||this._nothingToAnimate()||Math.abs(s-this._zoom)>this.options.zoomAnimationThreshold)return!1;var _=this.getZoomScale(s),T=this._getCenterOffset(r)._divideBy(1-1/_);return f.animate!==!0&&!this.getSize().contains(T)?!1:(K(function(){this._moveStart(!0,f.noMoveStart||!1)._animateZoom(r,s,!0)},this),!0)},_animateZoom:function(r,s,f,_){this._mapPane&&(f&&(this._animatingZoom=!0,this._animateToCenter=r,this._animateToZoom=s,Ut(this._mapPane,"leaflet-zoom-anim")),this.fire("zoomanim",{center:r,zoom:s,noUpdate:_}),this._tempFireZoomEvent||(this._tempFireZoomEvent=this._zoom!==this._animateToZoom),this._move(this._animateToCenter,this._animateToZoom,void 0,!0),setTimeout(m(this._onZoomTransitionEnd,this),250))},_onZoomTransitionEnd:function(){this._animatingZoom&&(this._mapPane&&be(this._mapPane,"leaflet-zoom-anim"),this._animatingZoom=!1,this._move(this._animateToCenter,this._animateToZoom,void 0,!0),this._tempFireZoomEvent&&this.fire("zoom"),delete this._tempFireZoomEvent,this.fire("move"),this._moveEnd(!0))}});function Za(r,s){return new Yt(r,s)}var pn=mt.extend({options:{position:"topright"},initialize:function(r){O(this,r)},getPosition:function(){return this.options.position},setPosition:function(r){var s=this._map;return s&&s.removeControl(this),this.options.position=r,s&&s.addControl(this),this},getContainer:function(){return this._container},addTo:function(r){this.remove(),this._map=r;var s=this._container=this.onAdd(r),f=this.getPosition(),_=r._controlCorners[f];return Ut(s,"leaflet-control"),f.indexOf("bottom")!==-1?_.insertBefore(s,_.firstChild):_.appendChild(s),this._map.on("unload",this.remove,this),this},remove:function(){return this._map?(ge(this._container),this.onRemove&&this.onRemove(this._map),this._map.off("unload",this.remove,this),this._map=null,this):this},_refocusOnMap:function(r){this._map&&r&&r.screenX>0&&r.screenY>0&&this._map.getContainer().focus()}}),Ki=function(r){return new pn(r)};Yt.include({addControl:function(r){return r.addTo(this),this},removeControl:function(r){return r.remove(),this},_initControlPos:function(){var r=this._controlCorners={},s="leaflet-",f=this._controlContainer=Qt("div",s+"control-container",this._container);function _(T,N){var Z=s+T+" "+s+N;r[T+N]=Qt("div",Z,f)}_("top","left"),_("top","right"),_("bottom","left"),_("bottom","right")},_clearControlPos:function(){for(var r in this._controlCorners)ge(this._controlCorners[r]);ge(this._controlContainer),delete this._controlCorners,delete this._controlContainer}});var jc=pn.extend({options:{collapsed:!0,position:"topright",autoZIndex:!0,hideSingleBase:!1,sortLayers:!1,sortFunction:function(r,s,f,_){return f<_?-1:_<f?1:0}},initialize:function(r,s,f){O(this,f),this._layerControlInputs=[],this._layers=[],this._lastZIndex=0,this._handlingClick=!1,this._preventClick=!1;for(var _ in r)this._addLayer(r[_],_);for(_ in s)this._addLayer(s[_],_,!0)},onAdd:function(r){this._initLayout(),this._update(),this._map=r,r.on("zoomend",this._checkDisabledLayers,this);for(var s=0;s<this._layers.length;s++)this._layers[s].layer.on("add remove",this._onLayerChange,this);return this._container},addTo:function(r){return pn.prototype.addTo.call(this,r),this._expandIfNotCollapsed()},onRemove:function(){this._map.off("zoomend",this._checkDisabledLayers,this);for(var r=0;r<this._layers.length;r++)this._layers[r].layer.off("add remove",this._onLayerChange,this)},addBaseLayer:function(r,s){return this._addLayer(r,s),this._map?this._update():this},addOverlay:function(r,s){return this._addLayer(r,s,!0),this._map?this._update():this},removeLayer:function(r){r.off("add remove",this._onLayerChange,this);var s=this._getLayer(b(r));return s&&this._layers.splice(this._layers.indexOf(s),1),this._map?this._update():this},expand:function(){Ut(this._container,"leaflet-control-layers-expanded"),this._section.style.height=null;var r=this._map.getSize().y-(this._container.offsetTop+50);return r<this._section.clientHeight?(Ut(this._section,"leaflet-control-layers-scrollbar"),this._section.style.height=r+"px"):be(this._section,"leaflet-control-layers-scrollbar"),this._checkDisabledLayers(),this},collapse:function(){return be(this._container,"leaflet-control-layers-expanded"),this},_initLayout:function(){var r="leaflet-control-layers",s=this._container=Qt("div",r),f=this.options.collapsed;s.setAttribute("aria-haspopup",!0),Vi(s),qi(s);var _=this._section=Qt("section",r+"-list");f&&(this._map.on("click",this.collapse,this),It(s,{mouseenter:this._expandSafely,mouseleave:this.collapse},this));var T=this._layersLink=Qt("a",r+"-toggle",s);T.href="#",T.title="Layers",T.setAttribute("role","button"),It(T,{keydown:function(N){N.keyCode===13&&this._expandSafely()},click:function(N){Le(N),this._expandSafely()}},this),f||this.expand(),this._baseLayersList=Qt("div",r+"-base",_),this._separator=Qt("div",r+"-separator",_),this._overlaysList=Qt("div",r+"-overlays",_),s.appendChild(_)},_getLayer:function(r){for(var s=0;s<this._layers.length;s++)if(this._layers[s]&&b(this._layers[s].layer)===r)return this._layers[s]},_addLayer:function(r,s,f){this._map&&r.on("add remove",this._onLayerChange,this),this._layers.push({layer:r,name:s,overlay:f}),this.options.sortLayers&&this._layers.sort(m(function(_,T){return this.options.sortFunction(_.layer,T.layer,_.name,T.name)},this)),this.options.autoZIndex&&r.setZIndex&&(this._lastZIndex++,r.setZIndex(this._lastZIndex)),this._expandIfNotCollapsed()},_update:function(){if(!this._container)return this;rn(this._baseLayersList),rn(this._overlaysList),this._layerControlInputs=[];var r,s,f,_,T=0;for(f=0;f<this._layers.length;f++)_=this._layers[f],this._addItem(_),s=s||_.overlay,r=r||!_.overlay,T+=_.overlay?0:1;return this.options.hideSingleBase&&(r=r&&T>1,this._baseLayersList.style.display=r?"":"none"),this._separator.style.display=s&&r?"":"none",this},_onLayerChange:function(r){this._handlingClick||this._update();var s=this._getLayer(b(r.target)),f=s.overlay?r.type==="add"?"overlayadd":"overlayremove":r.type==="add"?"baselayerchange":null;f&&this._map.fire(f,s)},_createRadioElement:function(r,s){var f='<input type="radio" class="leaflet-control-layers-selector" name="'+r+'"'+(s?' checked="checked"':"")+"/>",_=document.createElement("div");return _.innerHTML=f,_.firstChild},_addItem:function(r){var s=document.createElement("label"),f=this._map.hasLayer(r.layer),_;r.overlay?(_=document.createElement("input"),_.type="checkbox",_.className="leaflet-control-layers-selector",_.defaultChecked=f):_=this._createRadioElement("leaflet-base-layers_"+b(this),f),this._layerControlInputs.push(_),_.layerId=b(r.layer),It(_,"click",this._onInputClick,this);var T=document.createElement("span");T.innerHTML=" "+r.name;var N=document.createElement("span");s.appendChild(N),N.appendChild(_),N.appendChild(T);var Z=r.overlay?this._overlaysList:this._baseLayersList;return Z.appendChild(s),this._checkDisabledLayers(),s},_onInputClick:function(){if(!this._preventClick){var r=this._layerControlInputs,s,f,_=[],T=[];this._handlingClick=!0;for(var N=r.length-1;N>=0;N--)s=r[N],f=this._getLayer(s.layerId).layer,s.checked?_.push(f):s.checked||T.push(f);for(N=0;N<T.length;N++)this._map.hasLayer(T[N])&&this._map.removeLayer(T[N]);for(N=0;N<_.length;N++)this._map.hasLayer(_[N])||this._map.addLayer(_[N]);this._handlingClick=!1,this._refocusOnMap()}},_checkDisabledLayers:function(){for(var r=this._layerControlInputs,s,f,_=this._map.getZoom(),T=r.length-1;T>=0;T--)s=r[T],f=this._getLayer(s.layerId).layer,s.disabled=f.options.minZoom!==void 0&&_<f.options.minZoom||f.options.maxZoom!==void 0&&_>f.options.maxZoom},_expandIfNotCollapsed:function(){return this._map&&!this.options.collapsed&&this.expand(),this},_expandSafely:function(){var r=this._section;this._preventClick=!0,It(r,"click",Le),this.expand();var s=this;setTimeout(function(){ee(r,"click",Le),s._preventClick=!1})}}),df=function(r,s,f){return new jc(r,s,f)},Us=pn.extend({options:{position:"topleft",zoomInText:'<span aria-hidden="true">+</span>',zoomInTitle:"Zoom in",zoomOutText:'<span aria-hidden="true">&#x2212;</span>',zoomOutTitle:"Zoom out"},onAdd:function(r){var s="leaflet-control-zoom",f=Qt("div",s+" leaflet-bar"),_=this.options;return this._zoomInButton=this._createButton(_.zoomInText,_.zoomInTitle,s+"-in",f,this._zoomIn),this._zoomOutButton=this._createButton(_.zoomOutText,_.zoomOutTitle,s+"-out",f,this._zoomOut),this._updateDisabled(),r.on("zoomend zoomlevelschange",this._updateDisabled,this),f},onRemove:function(r){r.off("zoomend zoomlevelschange",this._updateDisabled,this)},disable:function(){return this._disabled=!0,this._updateDisabled(),this},enable:function(){return this._disabled=!1,this._updateDisabled(),this},_zoomIn:function(r){!this._disabled&&this._map._zoom<this._map.getMaxZoom()&&this._map.zoomIn(this._map.options.zoomDelta*(r.shiftKey?3:1))},_zoomOut:function(r){!this._disabled&&this._map._zoom>this._map.getMinZoom()&&this._map.zoomOut(this._map.options.zoomDelta*(r.shiftKey?3:1))},_createButton:function(r,s,f,_,T){var N=Qt("a",f,_);return N.innerHTML=r,N.href="#",N.title=s,N.setAttribute("role","button"),N.setAttribute("aria-label",s),Vi(N),It(N,"click",sr),It(N,"click",T,this),It(N,"click",this._refocusOnMap,this),N},_updateDisabled:function(){var r=this._map,s="leaflet-disabled";be(this._zoomInButton,s),be(this._zoomOutButton,s),this._zoomInButton.setAttribute("aria-disabled","false"),this._zoomOutButton.setAttribute("aria-disabled","false"),(this._disabled||r._zoom===r.getMinZoom())&&(Ut(this._zoomOutButton,s),this._zoomOutButton.setAttribute("aria-disabled","true")),(this._disabled||r._zoom===r.getMaxZoom())&&(Ut(this._zoomInButton,s),this._zoomInButton.setAttribute("aria-disabled","true"))}});Yt.mergeOptions({zoomControl:!0}),Yt.addInitHook(function(){this.options.zoomControl&&(this.zoomControl=new Us,this.addControl(this.zoomControl))});var Gs=function(r){return new Us(r)},kc=pn.extend({options:{position:"bottomleft",maxWidth:100,metric:!0,imperial:!0},onAdd:function(r){var s="leaflet-control-scale",f=Qt("div",s),_=this.options;return this._addScales(_,s+"-line",f),r.on(_.updateWhenIdle?"moveend":"move",this._update,this),r.whenReady(this._update,this),f},onRemove:function(r){r.off(this.options.updateWhenIdle?"moveend":"move",this._update,this)},_addScales:function(r,s,f){r.metric&&(this._mScale=Qt("div",s,f)),r.imperial&&(this._iScale=Qt("div",s,f))},_update:function(){var r=this._map,s=r.getSize().y/2,f=r.distance(r.containerPointToLatLng([0,s]),r.containerPointToLatLng([this.options.maxWidth,s]));this._updateScales(f)},_updateScales:function(r){this.options.metric&&r&&this._updateMetric(r),this.options.imperial&&r&&this._updateImperial(r)},_updateMetric:function(r){var s=this._getRoundNum(r),f=s<1e3?s+" m":s/1e3+" km";this._updateScale(this._mScale,f,s/r)},_updateImperial:function(r){var s=r*3.2808399,f,_,T;s>5280?(f=s/5280,_=this._getRoundNum(f),this._updateScale(this._iScale,_+" mi",_/f)):(T=this._getRoundNum(s),this._updateScale(this._iScale,T+" ft",T/s))},_updateScale:function(r,s,f){r.style.width=Math.round(this.options.maxWidth*f)+"px",r.innerHTML=s},_getRoundNum:function(r){var s=Math.pow(10,(Math.floor(r)+"").length-1),f=r/s;return f=f>=10?10:f>=5?5:f>=3?3:f>=2?2:1,s*f}}),ff=function(r){return new kc(r)},hf='<svg aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="12" height="8" viewBox="0 0 12 8" class="leaflet-attribution-flag"><path fill="#4C7BE1" d="M0 0h12v4H0z"/><path fill="#FFD500" d="M0 4h12v3H0z"/><path fill="#E0BC00" d="M0 7h12v1H0z"/></svg>',Zs=pn.extend({options:{position:"bottomright",prefix:'<a href="https://leafletjs.com" title="A JavaScript library for interactive maps">'+(jt.inlineSvg?hf+" ":"")+"Leaflet</a>"},initialize:function(r){O(this,r),this._attributions={}},onAdd:function(r){r.attributionControl=this,this._container=Qt("div","leaflet-control-attribution"),Vi(this._container);for(var s in r._layers)r._layers[s].getAttribution&&this.addAttribution(r._layers[s].getAttribution());return this._update(),r.on("layeradd",this._addAttribution,this),this._container},onRemove:function(r){r.off("layeradd",this._addAttribution,this)},_addAttribution:function(r){r.layer.getAttribution&&(this.addAttribution(r.layer.getAttribution()),r.layer.once("remove",function(){this.removeAttribution(r.layer.getAttribution())},this))},setPrefix:function(r){return this.options.prefix=r,this._update(),this},addAttribution:function(r){return r?(this._attributions[r]||(this._attributions[r]=0),this._attributions[r]++,this._update(),this):this},removeAttribution:function(r){return r?(this._attributions[r]&&(this._attributions[r]--,this._update()),this):this},_update:function(){if(this._map){var r=[];for(var s in this._attributions)this._attributions[s]&&r.push(s);var f=[];this.options.prefix&&f.push(this.options.prefix),r.length&&f.push(r.join(", ")),this._container.innerHTML=f.join(' <span aria-hidden="true">|</span> ')}}});Yt.mergeOptions({attributionControl:!0}),Yt.addInitHook(function(){this.options.attributionControl&&new Zs().addTo(this)});var mf=function(r){return new Zs(r)};pn.Layers=jc,pn.Zoom=Us,pn.Scale=kc,pn.Attribution=Zs,Ki.layers=df,Ki.zoom=Gs,Ki.scale=ff,Ki.attribution=mf;var Un=mt.extend({initialize:function(r){this._map=r},enable:function(){return this._enabled?this:(this._enabled=!0,this.addHooks(),this)},disable:function(){return this._enabled?(this._enabled=!1,this.removeHooks(),this):this},enabled:function(){return!!this._enabled}});Un.addTo=function(r,s){return r.addHandler(s,this),this};var pf={Events:$},Lc=jt.touch?"touchstart mousedown":"mousedown",Hr=it.extend({options:{clickTolerance:3},initialize:function(r,s,f,_){O(this,_),this._element=r,this._dragStartTarget=s||r,this._preventOutline=f},enable:function(){this._enabled||(It(this._dragStartTarget,Lc,this._onDown,this),this._enabled=!0)},disable:function(){this._enabled&&(Hr._dragging===this&&this.finishDrag(!0),ee(this._dragStartTarget,Lc,this._onDown,this),this._enabled=!1,this._moved=!1)},_onDown:function(r){if(this._enabled&&(this._moved=!1,!$i(this._element,"leaflet-zoom-anim"))){if(r.touches&&r.touches.length!==1){Hr._dragging===this&&this.finishDrag();return}if(!(Hr._dragging||r.shiftKey||r.which!==1&&r.button!==1&&!r.touches)&&(Hr._dragging=this,this._preventOutline&&$a(this._element),Ia(),ir(),!this._moving)){this.fire("down");var s=r.touches?r.touches[0]:r,f=oi(this._element);this._startPoint=new ot(s.clientX,s.clientY),this._startPos=Pr(this._element),this._parentScale=zr(f);var _=r.type==="mousedown";It(document,_?"mousemove":"touchmove",this._onMove,this),It(document,_?"mouseup":"touchend touchcancel",this._onUp,this)}}},_onMove:function(r){if(this._enabled){if(r.touches&&r.touches.length>1){this._moved=!0;return}var s=r.touches&&r.touches.length===1?r.touches[0]:r,f=new ot(s.clientX,s.clientY)._subtract(this._startPoint);!f.x&&!f.y||Math.abs(f.x)+Math.abs(f.y)<this.options.clickTolerance||(f.x/=this._parentScale.x,f.y/=this._parentScale.y,Le(r),this._moved||(this.fire("dragstart"),this._moved=!0,Ut(document.body,"leaflet-dragging"),this._lastTarget=r.target||r.srcElement,window.SVGElementInstance&&this._lastTarget instanceof window.SVGElementInstance&&(this._lastTarget=this._lastTarget.correspondingUseElement),Ut(this._lastTarget,"leaflet-drag-target")),this._newPos=this._startPos.add(f),this._moving=!0,this._lastEvent=r,this._updatePosition())}},_updatePosition:function(){var r={originalEvent:this._lastEvent};this.fire("predrag",r),Ae(this._element,this._newPos),this.fire("drag",r)},_onUp:function(){this._enabled&&this.finishDrag()},finishDrag:function(r){be(document.body,"leaflet-dragging"),this._lastTarget&&(be(this._lastTarget,"leaflet-drag-target"),this._lastTarget=null),ee(document,"mousemove touchmove",this._onMove,this),ee(document,"mouseup touchend touchcancel",this._onUp,this),Is(),Ha();var s=this._moved&&this._moving;this._moving=!1,Hr._dragging=!1,s&&this.fire("dragend",{noInertia:r,distance:this._newPos.distanceTo(this._startPos)})}});function Cc(r,s,f){var _,T=[1,4,2,8],N,Z,at,ft,_t,Et,Dt,Nt;for(N=0,Et=r.length;N<Et;N++)r[N]._code=ui(r[N],s);for(at=0;at<4;at++){for(Dt=T[at],_=[],N=0,Et=r.length,Z=Et-1;N<Et;Z=N++)ft=r[N],_t=r[Z],ft._code&Dt?_t._code&Dt||(Nt=Ro(_t,ft,Dt,s,f),Nt._code=ui(Nt,s),_.push(Nt)):(_t._code&Dt&&(Nt=Ro(_t,ft,Dt,s,f),Nt._code=ui(Nt,s),_.push(Nt)),_.push(ft));r=_}return r}function Bo(r,s){var f,_,T,N,Z,at,ft,_t,Et;if(!r||r.length===0)throw new Error("latlngs not passed");Fe(r)||(console.warn("latlngs are not flat! Only the first ring will be used"),r=r[0]);var Dt=ht([0,0]),Nt=tt(r),Ht=Nt.getNorthWest().distanceTo(Nt.getSouthWest())*Nt.getNorthEast().distanceTo(Nt.getNorthWest());Ht<1700&&(Dt=Ys(r));var ve=r.length,Ne=[];for(f=0;f<ve;f++){var Xe=ht(r[f]);Ne.push(s.project(ht([Xe.lat-Dt.lat,Xe.lng-Dt.lng])))}for(at=ft=_t=0,f=0,_=ve-1;f<ve;_=f++)T=Ne[f],N=Ne[_],Z=T.y*N.x-N.y*T.x,ft+=(T.x+N.x)*Z,_t+=(T.y+N.y)*Z,at+=Z*3;at===0?Et=Ne[0]:Et=[ft/at,_t/at];var Cn=s.unproject(D(Et));return ht([Cn.lat+Dt.lat,Cn.lng+Dt.lng])}function Ys(r){for(var s=0,f=0,_=0,T=0;T<r.length;T++){var N=ht(r[T]);s+=N.lat,f+=N.lng,_++}return ht([s/_,f/_])}var gf={__proto__:null,clipPolygon:Cc,polygonCenter:Bo,centroid:Ys};function Bc(r,s){if(!s||!r.length)return r.slice();var f=s*s;return r=yf(r,f),r=vf(r,f),r}function qs(r,s,f){return Math.sqrt(di(r,s,f,!0))}function bf(r,s,f){return di(r,s,f)}function vf(r,s){var f=r.length,_=typeof Uint8Array<"u"?Uint8Array:Array,T=new _(f);T[0]=T[f-1]=1,Vs(r,T,s,0,f-1);var N,Z=[];for(N=0;N<f;N++)T[N]&&Z.push(r[N]);return Z}function Vs(r,s,f,_,T){var N=0,Z,at,ft;for(at=_+1;at<=T-1;at++)ft=di(r[at],r[_],r[T],!0),ft>N&&(Z=at,N=ft);N>f&&(s[Z]=1,Vs(r,s,f,_,Z),Vs(r,s,f,Z,T))}function yf(r,s){for(var f=[r[0]],_=1,T=0,N=r.length;_<N;_++)_f(r[_],r[T])>s&&(f.push(r[_]),T=_);return T<N-1&&f.push(r[N-1]),f}var Rc;function Pc(r,s,f,_,T){var N=_?Rc:ui(r,f),Z=ui(s,f),at,ft,_t;for(Rc=Z;;){if(!(N|Z))return[r,s];if(N&Z)return!1;at=N||Z,ft=Ro(r,s,at,f,T),_t=ui(ft,f),at===N?(r=ft,N=_t):(s=ft,Z=_t)}}function Ro(r,s,f,_,T){var N=s.x-r.x,Z=s.y-r.y,at=_.min,ft=_.max,_t,Et;return f&8?(_t=r.x+N*(ft.y-r.y)/Z,Et=ft.y):f&4?(_t=r.x+N*(at.y-r.y)/Z,Et=at.y):f&2?(_t=ft.x,Et=r.y+Z*(ft.x-r.x)/N):f&1&&(_t=at.x,Et=r.y+Z*(at.x-r.x)/N),new ot(_t,Et,T)}function ui(r,s){var f=0;return r.x<s.min.x?f|=1:r.x>s.max.x&&(f|=2),r.y<s.min.y?f|=4:r.y>s.max.y&&(f|=8),f}function _f(r,s){var f=s.x-r.x,_=s.y-r.y;return f*f+_*_}function di(r,s,f,_){var T=s.x,N=s.y,Z=f.x-T,at=f.y-N,ft=Z*Z+at*at,_t;return ft>0&&(_t=((r.x-T)*Z+(r.y-N)*at)/ft,_t>1?(T=f.x,N=f.y):_t>0&&(T+=Z*_t,N+=at*_t)),Z=r.x-T,at=r.y-N,_?Z*Z+at*at:new ot(T,N)}function Fe(r){return!k(r[0])||typeof r[0][0]!="object"&&typeof r[0][0]<"u"}function zc(r){return console.warn("Deprecated use of _flat, please use L.LineUtil.isFlat instead."),Fe(r)}function Ks(r,s){var f,_,T,N,Z,at,ft,_t;if(!r||r.length===0)throw new Error("latlngs not passed");Fe(r)||(console.warn("latlngs are not flat! Only the first ring will be used"),r=r[0]);var Et=ht([0,0]),Dt=tt(r),Nt=Dt.getNorthWest().distanceTo(Dt.getSouthWest())*Dt.getNorthEast().distanceTo(Dt.getNorthWest());Nt<1700&&(Et=Ys(r));var Ht=r.length,ve=[];for(f=0;f<Ht;f++){var Ne=ht(r[f]);ve.push(s.project(ht([Ne.lat-Et.lat,Ne.lng-Et.lng])))}for(f=0,_=0;f<Ht-1;f++)_+=ve[f].distanceTo(ve[f+1])/2;if(_===0)_t=ve[0];else for(f=0,N=0;f<Ht-1;f++)if(Z=ve[f],at=ve[f+1],T=Z.distanceTo(at),N+=T,N>_){ft=(N-_)/T,_t=[at.x-ft*(at.x-Z.x),at.y-ft*(at.y-Z.y)];break}var Xe=s.unproject(D(_t));return ht([Xe.lat+Et.lat,Xe.lng+Et.lng])}var Hc={__proto__:null,simplify:Bc,pointToSegmentDistance:qs,closestPointOnSegment:bf,clipSegment:Pc,_getEdgeIntersection:Ro,_getBitCode:ui,_sqClosestPointOnSegment:di,isFlat:Fe,_flat:zc,polylineCenter:Ks},Po={project:function(r){return new ot(r.lng,r.lat)},unproject:function(r){return new lt(r.y,r.x)},bounds:new G([-180,-90],[180,90])},zo={R:6378137,R_MINOR:6356752314245179e-9,bounds:new G([-2003750834279e-5,-1549657073972e-5],[2003750834279e-5,1876465623138e-5]),project:function(r){var s=Math.PI/180,f=this.R,_=r.lat*s,T=this.R_MINOR/f,N=Math.sqrt(1-T*T),Z=N*Math.sin(_),at=Math.tan(Math.PI/4-_/2)/Math.pow((1-Z)/(1+Z),N/2);return _=-f*Math.log(Math.max(at,1e-10)),new ot(r.lng*s*f,_)},unproject:function(r){for(var s=180/Math.PI,f=this.R,_=this.R_MINOR/f,T=Math.sqrt(1-_*_),N=Math.exp(-r.y/f),Z=Math.PI/2-2*Math.atan(N),at=0,ft=.1,_t;at<15&&Math.abs(ft)>1e-7;at++)_t=T*Math.sin(Z),_t=Math.pow((1-_t)/(1+_t),T/2),ft=Math.PI/2-2*Math.atan(N*_t)-Z,Z+=ft;return new lt(Z*s,r.x*s/f)}},Ic={__proto__:null,LonLat:Po,Mercator:zo,SphericalMercator:$t},Fi=u({},bt,{code:"EPSG:3395",projection:zo,transformation:(function(){var r=.5/(Math.PI*zo.R);return Pt(r,.5,-r,.5)})()}),$c=u({},bt,{code:"EPSG:4326",projection:Po,transformation:Pt(1/180,1,-1/180,.5)}),xf=u({},wt,{projection:Po,transformation:Pt(1,0,-1,0),scale:function(r){return Math.pow(2,r)},zoom:function(r){return Math.log(r)/Math.LN2},distance:function(r,s){var f=s.lng-r.lng,_=s.lat-r.lat;return Math.sqrt(f*f+_*_)},infinite:!0});wt.Earth=bt,wt.EPSG3395=Fi,wt.EPSG3857=Bt,wt.EPSG900913=re,wt.EPSG4326=$c,wt.Simple=xf;var Gn=it.extend({options:{pane:"overlayPane",attribution:null,bubblingMouseEvents:!0},addTo:function(r){return r.addLayer(this),this},remove:function(){return this.removeFrom(this._map||this._mapToAdd)},removeFrom:function(r){return r&&r.removeLayer(this),this},getPane:function(r){return this._map.getPane(r?this.options[r]||r:this.options.pane)},addInteractiveTarget:function(r){return this._map._targets[b(r)]=this,this},removeInteractiveTarget:function(r){return delete this._map._targets[b(r)],this},getAttribution:function(){return this.options.attribution},_layerAdd:function(r){var s=r.target;if(s.hasLayer(this)){if(this._map=s,this._zoomAnimated=s._zoomAnimated,this.getEvents){var f=this.getEvents();s.on(f,this),this.once("remove",function(){s.off(f,this)},this)}this.onAdd(s),this.fire("add"),s.fire("layeradd",{layer:this})}}});Yt.include({addLayer:function(r){if(!r._layerAdd)throw new Error("The provided object is not a Layer.");var s=b(r);return this._layers[s]?this:(this._layers[s]=r,r._mapToAdd=this,r.beforeAdd&&r.beforeAdd(this),this.whenReady(r._layerAdd,r),this)},removeLayer:function(r){var s=b(r);return this._layers[s]?(this._loaded&&r.onRemove(this),delete this._layers[s],this._loaded&&(this.fire("layerremove",{layer:r}),r.fire("remove")),r._map=r._mapToAdd=null,this):this},hasLayer:function(r){return b(r)in this._layers},eachLayer:function(r,s){for(var f in this._layers)r.call(s,this._layers[f]);return this},_addLayers:function(r){r=r?k(r)?r:[r]:[];for(var s=0,f=r.length;s<f;s++)this.addLayer(r[s])},_addZoomLimit:function(r){(!isNaN(r.options.maxZoom)||!isNaN(r.options.minZoom))&&(this._zoomBoundLayers[b(r)]=r,this._updateZoomLevels())},_removeZoomLimit:function(r){var s=b(r);this._zoomBoundLayers[s]&&(delete this._zoomBoundLayers[s],this._updateZoomLevels())},_updateZoomLevels:function(){var r=1/0,s=-1/0,f=this._getZoomSpan();for(var _ in this._zoomBoundLayers){var T=this._zoomBoundLayers[_].options;r=T.minZoom===void 0?r:Math.min(r,T.minZoom),s=T.maxZoom===void 0?s:Math.max(s,T.maxZoom)}this._layersMaxZoom=s===-1/0?void 0:s,this._layersMinZoom=r===1/0?void 0:r,f!==this._getZoomSpan()&&this.fire("zoomlevelschange"),this.options.maxZoom===void 0&&this._layersMaxZoom&&this.getZoom()>this._layersMaxZoom&&this.setZoom(this._layersMaxZoom),this.options.minZoom===void 0&&this._layersMinZoom&&this.getZoom()<this._layersMinZoom&&this.setZoom(this._layersMinZoom)}});var fi=Gn.extend({initialize:function(r,s){O(this,s),this._layers={};var f,_;if(r)for(f=0,_=r.length;f<_;f++)this.addLayer(r[f])},addLayer:function(r){var s=this.getLayerId(r);return this._layers[s]=r,this._map&&this._map.addLayer(r),this},removeLayer:function(r){var s=r in this._layers?r:this.getLayerId(r);return this._map&&this._layers[s]&&this._map.removeLayer(this._layers[s]),delete this._layers[s],this},hasLayer:function(r){var s=typeof r=="number"?r:this.getLayerId(r);return s in this._layers},clearLayers:function(){return this.eachLayer(this.removeLayer,this)},invoke:function(r){var s=Array.prototype.slice.call(arguments,1),f,_;for(f in this._layers)_=this._layers[f],_[r]&&_[r].apply(_,s);return this},onAdd:function(r){this.eachLayer(r.addLayer,r)},onRemove:function(r){this.eachLayer(r.removeLayer,r)},eachLayer:function(r,s){for(var f in this._layers)r.call(s,this._layers[f]);return this},getLayer:function(r){return this._layers[r]},getLayers:function(){var r=[];return this.eachLayer(r.push,r),r},setZIndex:function(r){return this.invoke("setZIndex",r)},getLayerId:function(r){return b(r)}}),Uc=function(r,s){return new fi(r,s)},xn=fi.extend({addLayer:function(r){return this.hasLayer(r)?this:(r.addEventParent(this),fi.prototype.addLayer.call(this,r),this.fire("layeradd",{layer:r}))},removeLayer:function(r){return this.hasLayer(r)?(r in this._layers&&(r=this._layers[r]),r.removeEventParent(this),fi.prototype.removeLayer.call(this,r),this.fire("layerremove",{layer:r})):this},setStyle:function(r){return this.invoke("setStyle",r)},bringToFront:function(){return this.invoke("bringToFront")},bringToBack:function(){return this.invoke("bringToBack")},getBounds:function(){var r=new q;for(var s in this._layers){var f=this._layers[s];r.extend(f.getBounds?f.getBounds():f.getLatLng())}return r}}),Ya=function(r,s){return new xn(r,s)},Xi=mt.extend({options:{popupAnchor:[0,0],tooltipAnchor:[0,0],crossOrigin:!1},initialize:function(r){O(this,r)},createIcon:function(r){return this._createIcon("icon",r)},createShadow:function(r){return this._createIcon("shadow",r)},_createIcon:function(r,s){var f=this._getIconUrl(r);if(!f){if(r==="icon")throw new Error("iconUrl not set in Icon options (see the docs).");return null}var _=this._createImg(f,s&&s.tagName==="IMG"?s:null);return this._setIconStyles(_,r),(this.options.crossOrigin||this.options.crossOrigin==="")&&(_.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),_},_setIconStyles:function(r,s){var f=this.options,_=f[s+"Size"];typeof _=="number"&&(_=[_,_]);var T=D(_),N=D(s==="shadow"&&f.shadowAnchor||f.iconAnchor||T&&T.divideBy(2,!0));r.className="leaflet-marker-"+s+" "+(f.className||""),N&&(r.style.marginLeft=-N.x+"px",r.style.marginTop=-N.y+"px"),T&&(r.style.width=T.x+"px",r.style.height=T.y+"px")},_createImg:function(r,s){return s=s||document.createElement("img"),s.src=r,s},_getIconUrl:function(r){return jt.retina&&this.options[r+"RetinaUrl"]||this.options[r+"Url"]}});function Ho(r){return new Xi(r)}var Wi=Xi.extend({options:{iconUrl:"marker-icon.png",iconRetinaUrl:"marker-icon-2x.png",shadowUrl:"marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],tooltipAnchor:[16,-28],shadowSize:[41,41]},_getIconUrl:function(r){return typeof Wi.imagePath!="string"&&(Wi.imagePath=this._detectIconPath()),(this.options.imagePath||Wi.imagePath)+Xi.prototype._getIconUrl.call(this,r)},_stripUrl:function(r){var s=function(f,_,T){var N=_.exec(f);return N&&N[T]};return r=s(r,/^url\((['"])?(.+)\1\)$/,2),r&&s(r,/^(.*)marker-icon\.png$/,1)},_detectIconPath:function(){var r=Qt("div","leaflet-default-icon-path",document.body),s=ii(r,"background-image")||ii(r,"backgroundImage");if(document.body.removeChild(r),s=this._stripUrl(s),s)return s;var f=document.querySelector('link[href$="leaflet.css"]');return f?f.href.substring(0,f.href.length-11-1):""}}),Fs=Un.extend({initialize:function(r){this._marker=r},addHooks:function(){var r=this._marker._icon;this._draggable||(this._draggable=new Hr(r,r,!0)),this._draggable.on({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).enable(),Ut(r,"leaflet-marker-draggable")},removeHooks:function(){this._draggable.off({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).disable(),this._marker._icon&&be(this._marker._icon,"leaflet-marker-draggable")},moved:function(){return this._draggable&&this._draggable._moved},_adjustPan:function(r){var s=this._marker,f=s._map,_=this._marker.options.autoPanSpeed,T=this._marker.options.autoPanPadding,N=Pr(s._icon),Z=f.getPixelBounds(),at=f.getPixelOrigin(),ft=F(Z.min._subtract(at).add(T),Z.max._subtract(at).subtract(T));if(!ft.contains(N)){var _t=D((Math.max(ft.max.x,N.x)-ft.max.x)/(Z.max.x-ft.max.x)-(Math.min(ft.min.x,N.x)-ft.min.x)/(Z.min.x-ft.min.x),(Math.max(ft.max.y,N.y)-ft.max.y)/(Z.max.y-ft.max.y)-(Math.min(ft.min.y,N.y)-ft.min.y)/(Z.min.y-ft.min.y)).multiplyBy(_);f.panBy(_t,{animate:!1}),this._draggable._newPos._add(_t),this._draggable._startPos._add(_t),Ae(s._icon,this._draggable._newPos),this._onDrag(r),this._panRequest=K(this._adjustPan.bind(this,r))}},_onDragStart:function(){this._oldLatLng=this._marker.getLatLng(),this._marker.closePopup&&this._marker.closePopup(),this._marker.fire("movestart").fire("dragstart")},_onPreDrag:function(r){this._marker.options.autoPan&&(U(this._panRequest),this._panRequest=K(this._adjustPan.bind(this,r)))},_onDrag:function(r){var s=this._marker,f=s._shadow,_=Pr(s._icon),T=s._map.layerPointToLatLng(_);f&&Ae(f,_),s._latlng=T,r.latlng=T,r.oldLatLng=this._oldLatLng,s.fire("move",r).fire("drag",r)},_onDragEnd:function(r){U(this._panRequest),delete this._oldLatLng,this._marker.fire("moveend").fire("dragend",r)}}),Qi=Gn.extend({options:{icon:new Wi,interactive:!0,keyboard:!0,title:"",alt:"Marker",zIndexOffset:0,opacity:1,riseOnHover:!1,riseOffset:250,pane:"markerPane",shadowPane:"shadowPane",bubblingMouseEvents:!1,autoPanOnFocus:!0,draggable:!1,autoPan:!1,autoPanPadding:[50,50],autoPanSpeed:10},initialize:function(r,s){O(this,s),this._latlng=ht(r)},onAdd:function(r){this._zoomAnimated=this._zoomAnimated&&r.options.markerZoomAnimation,this._zoomAnimated&&r.on("zoomanim",this._animateZoom,this),this._initIcon(),this.update()},onRemove:function(r){this.dragging&&this.dragging.enabled()&&(this.options.draggable=!0,this.dragging.removeHooks()),delete this.dragging,this._zoomAnimated&&r.off("zoomanim",this._animateZoom,this),this._removeIcon(),this._removeShadow()},getEvents:function(){return{zoom:this.update,viewreset:this.update}},getLatLng:function(){return this._latlng},setLatLng:function(r){var s=this._latlng;return this._latlng=ht(r),this.update(),this.fire("move",{oldLatLng:s,latlng:this._latlng})},setZIndexOffset:function(r){return this.options.zIndexOffset=r,this.update()},getIcon:function(){return this.options.icon},setIcon:function(r){return this.options.icon=r,this._map&&(this._initIcon(),this.update()),this._popup&&this.bindPopup(this._popup,this._popup.options),this},getElement:function(){return this._icon},update:function(){if(this._icon&&this._map){var r=this._map.latLngToLayerPoint(this._latlng).round();this._setPos(r)}return this},_initIcon:function(){var r=this.options,s="leaflet-zoom-"+(this._zoomAnimated?"animated":"hide"),f=r.icon.createIcon(this._icon),_=!1;f!==this._icon&&(this._icon&&this._removeIcon(),_=!0,r.title&&(f.title=r.title),f.tagName==="IMG"&&(f.alt=r.alt||"")),Ut(f,s),r.keyboard&&(f.tabIndex="0",f.setAttribute("role","button")),this._icon=f,r.riseOnHover&&this.on({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&It(f,"focus",this._panOnFocus,this);var T=r.icon.createShadow(this._shadow),N=!1;T!==this._shadow&&(this._removeShadow(),N=!0),T&&(Ut(T,s),T.alt=""),this._shadow=T,r.opacity<1&&this._updateOpacity(),_&&this.getPane().appendChild(this._icon),this._initInteraction(),T&&N&&this.getPane(r.shadowPane).appendChild(this._shadow)},_removeIcon:function(){this.options.riseOnHover&&this.off({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&ee(this._icon,"focus",this._panOnFocus,this),ge(this._icon),this.removeInteractiveTarget(this._icon),this._icon=null},_removeShadow:function(){this._shadow&&ge(this._shadow),this._shadow=null},_setPos:function(r){this._icon&&Ae(this._icon,r),this._shadow&&Ae(this._shadow,r),this._zIndex=r.y+this.options.zIndexOffset,this._resetZIndex()},_updateZIndex:function(r){this._icon&&(this._icon.style.zIndex=this._zIndex+r)},_animateZoom:function(r){var s=this._map._latLngToNewLayerPoint(this._latlng,r.zoom,r.center).round();this._setPos(s)},_initInteraction:function(){if(this.options.interactive&&(Ut(this._icon,"leaflet-interactive"),this.addInteractiveTarget(this._icon),Fs)){var r=this.options.draggable;this.dragging&&(r=this.dragging.enabled(),this.dragging.disable()),this.dragging=new Fs(this),r&&this.dragging.enable()}},setOpacity:function(r){return this.options.opacity=r,this._map&&this._updateOpacity(),this},_updateOpacity:function(){var r=this.options.opacity;this._icon&&mn(this._icon,r),this._shadow&&mn(this._shadow,r)},_bringToFront:function(){this._updateZIndex(this.options.riseOffset)},_resetZIndex:function(){this._updateZIndex(0)},_panOnFocus:function(){var r=this._map;if(r){var s=this.options.icon.options,f=s.iconSize?D(s.iconSize):D(0,0),_=s.iconAnchor?D(s.iconAnchor):D(0,0);r.panInside(this._latlng,{paddingTopLeft:_,paddingBottomRight:f.subtract(_)})}},_getPopupAnchor:function(){return this.options.icon.options.popupAnchor},_getTooltipAnchor:function(){return this.options.icon.options.tooltipAnchor}});function Xs(r,s){return new Qi(r,s)}var Sr=Gn.extend({options:{stroke:!0,color:"#3388ff",weight:3,opacity:1,lineCap:"round",lineJoin:"round",dashArray:null,dashOffset:null,fill:!1,fillColor:null,fillOpacity:.2,fillRule:"evenodd",interactive:!0,bubblingMouseEvents:!0},beforeAdd:function(r){this._renderer=r.getRenderer(this)},onAdd:function(){this._renderer._initPath(this),this._reset(),this._renderer._addPath(this)},onRemove:function(){this._renderer._removePath(this)},redraw:function(){return this._map&&this._renderer._updatePath(this),this},setStyle:function(r){return O(this,r),this._renderer&&(this._renderer._updateStyle(this),this.options.stroke&&r&&Object.prototype.hasOwnProperty.call(r,"weight")&&this._updateBounds()),this},bringToFront:function(){return this._renderer&&this._renderer._bringToFront(this),this},bringToBack:function(){return this._renderer&&this._renderer._bringToBack(this),this},getElement:function(){return this._path},_reset:function(){this._project(),this._update()},_clickTolerance:function(){return(this.options.stroke?this.options.weight/2:0)+(this._renderer.options.tolerance||0)}}),qa=Sr.extend({options:{fill:!0,radius:10},initialize:function(r,s){O(this,s),this._latlng=ht(r),this._radius=this.options.radius},setLatLng:function(r){var s=this._latlng;return this._latlng=ht(r),this.redraw(),this.fire("move",{oldLatLng:s,latlng:this._latlng})},getLatLng:function(){return this._latlng},setRadius:function(r){return this.options.radius=this._radius=r,this.redraw()},getRadius:function(){return this._radius},setStyle:function(r){var s=r&&r.radius||this._radius;return Sr.prototype.setStyle.call(this,r),this.setRadius(s),this},_project:function(){this._point=this._map.latLngToLayerPoint(this._latlng),this._updateBounds()},_updateBounds:function(){var r=this._radius,s=this._radiusY||r,f=this._clickTolerance(),_=[r+f,s+f];this._pxBounds=new G(this._point.subtract(_),this._point.add(_))},_update:function(){this._map&&this._updatePath()},_updatePath:function(){this._renderer._updateCircle(this)},_empty:function(){return this._radius&&!this._renderer._bounds.intersects(this._pxBounds)},_containsPoint:function(r){return r.distanceTo(this._point)<=this._radius+this._clickTolerance()}});function Gc(r,s){return new qa(r,s)}var Ws=qa.extend({initialize:function(r,s,f){if(typeof s=="number"&&(s=u({},f,{radius:s})),O(this,s),this._latlng=ht(r),isNaN(this.options.radius))throw new Error("Circle radius cannot be NaN");this._mRadius=this.options.radius},setRadius:function(r){return this._mRadius=r,this.redraw()},getRadius:function(){return this._mRadius},getBounds:function(){var r=[this._radius,this._radiusY||this._radius];return new q(this._map.layerPointToLatLng(this._point.subtract(r)),this._map.layerPointToLatLng(this._point.add(r)))},setStyle:Sr.prototype.setStyle,_project:function(){var r=this._latlng.lng,s=this._latlng.lat,f=this._map,_=f.options.crs;if(_.distance===bt.distance){var T=Math.PI/180,N=this._mRadius/bt.R/T,Z=f.project([s+N,r]),at=f.project([s-N,r]),ft=Z.add(at).divideBy(2),_t=f.unproject(ft).lat,Et=Math.acos((Math.cos(N*T)-Math.sin(s*T)*Math.sin(_t*T))/(Math.cos(s*T)*Math.cos(_t*T)))/T;(isNaN(Et)||Et===0)&&(Et=N/Math.cos(Math.PI/180*s)),this._point=ft.subtract(f.getPixelOrigin()),this._radius=isNaN(Et)?0:ft.x-f.project([_t,r-Et]).x,this._radiusY=ft.y-Z.y}else{var Dt=_.unproject(_.project(this._latlng).subtract([this._mRadius,0]));this._point=f.latLngToLayerPoint(this._latlng),this._radius=this._point.x-f.latLngToLayerPoint(Dt).x}this._updateBounds()}});function Sf(r,s,f){return new Ws(r,s,f)}var wr=Sr.extend({options:{smoothFactor:1,noClip:!1},initialize:function(r,s){O(this,s),this._setLatLngs(r)},getLatLngs:function(){return this._latlngs},setLatLngs:function(r){return this._setLatLngs(r),this.redraw()},isEmpty:function(){return!this._latlngs.length},closestLayerPoint:function(r){for(var s=1/0,f=null,_=di,T,N,Z=0,at=this._parts.length;Z<at;Z++)for(var ft=this._parts[Z],_t=1,Et=ft.length;_t<Et;_t++){T=ft[_t-1],N=ft[_t];var Dt=_(r,T,N,!0);Dt<s&&(s=Dt,f=_(r,T,N))}return f&&(f.distance=Math.sqrt(s)),f},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return Ks(this._defaultShape(),this._map.options.crs)},getBounds:function(){return this._bounds},addLatLng:function(r,s){return s=s||this._defaultShape(),r=ht(r),s.push(r),this._bounds.extend(r),this.redraw()},_setLatLngs:function(r){this._bounds=new q,this._latlngs=this._convertLatLngs(r)},_defaultShape:function(){return Fe(this._latlngs)?this._latlngs:this._latlngs[0]},_convertLatLngs:function(r){for(var s=[],f=Fe(r),_=0,T=r.length;_<T;_++)f?(s[_]=ht(r[_]),this._bounds.extend(s[_])):s[_]=this._convertLatLngs(r[_]);return s},_project:function(){var r=new G;this._rings=[],this._projectLatlngs(this._latlngs,this._rings,r),this._bounds.isValid()&&r.isValid()&&(this._rawPxBounds=r,this._updateBounds())},_updateBounds:function(){var r=this._clickTolerance(),s=new ot(r,r);this._rawPxBounds&&(this._pxBounds=new G([this._rawPxBounds.min.subtract(s),this._rawPxBounds.max.add(s)]))},_projectLatlngs:function(r,s,f){var _=r[0]instanceof lt,T=r.length,N,Z;if(_){for(Z=[],N=0;N<T;N++)Z[N]=this._map.latLngToLayerPoint(r[N]),f.extend(Z[N]);s.push(Z)}else for(N=0;N<T;N++)this._projectLatlngs(r[N],s,f)},_clipPoints:function(){var r=this._renderer._bounds;if(this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(r))){if(this.options.noClip){this._parts=this._rings;return}var s=this._parts,f,_,T,N,Z,at,ft;for(f=0,T=0,N=this._rings.length;f<N;f++)for(ft=this._rings[f],_=0,Z=ft.length;_<Z-1;_++)at=Pc(ft[_],ft[_+1],r,_,!0),at&&(s[T]=s[T]||[],s[T].push(at[0]),(at[1]!==ft[_+1]||_===Z-2)&&(s[T].push(at[1]),T++))}},_simplifyPoints:function(){for(var r=this._parts,s=this.options.smoothFactor,f=0,_=r.length;f<_;f++)r[f]=Bc(r[f],s)},_update:function(){this._map&&(this._clipPoints(),this._simplifyPoints(),this._updatePath())},_updatePath:function(){this._renderer._updatePoly(this)},_containsPoint:function(r,s){var f,_,T,N,Z,at,ft=this._clickTolerance();if(!this._pxBounds||!this._pxBounds.contains(r))return!1;for(f=0,N=this._parts.length;f<N;f++)for(at=this._parts[f],_=0,Z=at.length,T=Z-1;_<Z;T=_++)if(!(!s&&_===0)&&qs(r,at[T],at[_])<=ft)return!0;return!1}});function wf(r,s){return new wr(r,s)}wr._flat=zc;var Ji=wr.extend({options:{fill:!0},isEmpty:function(){return!this._latlngs.length||!this._latlngs[0].length},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return Bo(this._defaultShape(),this._map.options.crs)},_convertLatLngs:function(r){var s=wr.prototype._convertLatLngs.call(this,r),f=s.length;return f>=2&&s[0]instanceof lt&&s[0].equals(s[f-1])&&s.pop(),s},_setLatLngs:function(r){wr.prototype._setLatLngs.call(this,r),Fe(this._latlngs)&&(this._latlngs=[this._latlngs])},_defaultShape:function(){return Fe(this._latlngs[0])?this._latlngs[0]:this._latlngs[0][0]},_clipPoints:function(){var r=this._renderer._bounds,s=this.options.weight,f=new ot(s,s);if(r=new G(r.min.subtract(f),r.max.add(f)),this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(r))){if(this.options.noClip){this._parts=this._rings;return}for(var _=0,T=this._rings.length,N;_<T;_++)N=Cc(this._rings[_],r,!0),N.length&&this._parts.push(N)}},_updatePath:function(){this._renderer._updatePoly(this,!0)},_containsPoint:function(r){var s=!1,f,_,T,N,Z,at,ft,_t;if(!this._pxBounds||!this._pxBounds.contains(r))return!1;for(N=0,ft=this._parts.length;N<ft;N++)for(f=this._parts[N],Z=0,_t=f.length,at=_t-1;Z<_t;at=Z++)_=f[Z],T=f[at],_.y>r.y!=T.y>r.y&&r.x<(T.x-_.x)*(r.y-_.y)/(T.y-_.y)+_.x&&(s=!s);return s||wr.prototype._containsPoint.call(this,r,!0)}});function Sn(r,s){return new Ji(r,s)}var wn=xn.extend({initialize:function(r,s){O(this,s),this._layers={},r&&this.addData(r)},addData:function(r){var s=k(r)?r:r.features,f,_,T;if(s){for(f=0,_=s.length;f<_;f++)T=s[f],(T.geometries||T.geometry||T.features||T.coordinates)&&this.addData(T);return this}var N=this.options;if(N.filter&&!N.filter(r))return this;var Z=Va(r,N);return Z?(Z.feature=ta(r),Z.defaultOptions=Z.options,this.resetStyle(Z),N.onEachFeature&&N.onEachFeature(r,Z),this.addLayer(Z)):this},resetStyle:function(r){return r===void 0?this.eachLayer(this.resetStyle,this):(r.options=u({},r.defaultOptions),this._setLayerStyle(r,this.options.style),this)},setStyle:function(r){return this.eachLayer(function(s){this._setLayerStyle(s,r)},this)},_setLayerStyle:function(r,s){r.setStyle&&(typeof s=="function"&&(s=s(r.feature)),r.setStyle(s))}});function Va(r,s){var f=r.type==="Feature"?r.geometry:r,_=f?f.coordinates:null,T=[],N=s&&s.pointToLayer,Z=s&&s.coordsToLatLng||Io,at,ft,_t,Et;if(!_&&!f)return null;switch(f.type){case"Point":return at=Z(_),Qs(N,r,at,s);case"MultiPoint":for(_t=0,Et=_.length;_t<Et;_t++)at=Z(_[_t]),T.push(Qs(N,r,at,s));return new xn(T);case"LineString":case"MultiLineString":return ft=Ka(_,f.type==="LineString"?0:1,Z),new wr(ft,s);case"Polygon":case"MultiPolygon":return ft=Ka(_,f.type==="Polygon"?1:2,Z),new Ji(ft,s);case"GeometryCollection":for(_t=0,Et=f.geometries.length;_t<Et;_t++){var Dt=Va({geometry:f.geometries[_t],type:"Feature",properties:r.properties},s);Dt&&T.push(Dt)}return new xn(T);case"FeatureCollection":for(_t=0,Et=f.features.length;_t<Et;_t++){var Nt=Va(f.features[_t],s);Nt&&T.push(Nt)}return new xn(T);default:throw new Error("Invalid GeoJSON object.")}}function Qs(r,s,f,_){return r?r(s,f):new Qi(f,_&&_.markersInheritOptions&&_)}function Io(r){return new lt(r[1],r[0],r[2])}function Ka(r,s,f){for(var _=[],T=0,N=r.length,Z;T<N;T++)Z=s?Ka(r[T],s-1,f):(f||Io)(r[T]),_.push(Z);return _}function Fa(r,s){return r=ht(r),r.alt!==void 0?[x(r.lng,s),x(r.lat,s),x(r.alt,s)]:[x(r.lng,s),x(r.lat,s)]}function $o(r,s,f,_){for(var T=[],N=0,Z=r.length;N<Z;N++)T.push(s?$o(r[N],Fe(r[N])?0:s-1,f,_):Fa(r[N],_));return!s&&f&&T.length>0&&T.push(T[0].slice()),T}function Zn(r,s){return r.feature?u({},r.feature,{geometry:s}):ta(s)}function ta(r){return r.type==="Feature"||r.type==="FeatureCollection"?r:{type:"Feature",properties:{},geometry:r}}var hi={toGeoJSON:function(r){return Zn(this,{type:"Point",coordinates:Fa(this.getLatLng(),r)})}};Qi.include(hi),Ws.include(hi),qa.include(hi),wr.include({toGeoJSON:function(r){var s=!Fe(this._latlngs),f=$o(this._latlngs,s?1:0,!1,r);return Zn(this,{type:(s?"Multi":"")+"LineString",coordinates:f})}}),Ji.include({toGeoJSON:function(r){var s=!Fe(this._latlngs),f=s&&!Fe(this._latlngs[0]),_=$o(this._latlngs,f?2:s?1:0,!0,r);return s||(_=[_]),Zn(this,{type:(f?"Multi":"")+"Polygon",coordinates:_})}}),fi.include({toMultiPoint:function(r){var s=[];return this.eachLayer(function(f){s.push(f.toGeoJSON(r).geometry.coordinates)}),Zn(this,{type:"MultiPoint",coordinates:s})},toGeoJSON:function(r){var s=this.feature&&this.feature.geometry&&this.feature.geometry.type;if(s==="MultiPoint")return this.toMultiPoint(r);var f=s==="GeometryCollection",_=[];return this.eachLayer(function(T){if(T.toGeoJSON){var N=T.toGeoJSON(r);if(f)_.push(N.geometry);else{var Z=ta(N);Z.type==="FeatureCollection"?_.push.apply(_,Z.features):_.push(Z)}}}),f?Zn(this,{geometries:_,type:"GeometryCollection"}):{type:"FeatureCollection",features:_}}});function Uo(r,s){return new wn(r,s)}var Zc=Uo,lr=Gn.extend({options:{opacity:1,alt:"",interactive:!1,crossOrigin:!1,errorOverlayUrl:"",zIndex:1,className:""},initialize:function(r,s,f){this._url=r,this._bounds=tt(s),O(this,f)},onAdd:function(){this._image||(this._initImage(),this.options.opacity<1&&this._updateOpacity()),this.options.interactive&&(Ut(this._image,"leaflet-interactive"),this.addInteractiveTarget(this._image)),this.getPane().appendChild(this._image),this._reset()},onRemove:function(){ge(this._image),this.options.interactive&&this.removeInteractiveTarget(this._image)},setOpacity:function(r){return this.options.opacity=r,this._image&&this._updateOpacity(),this},setStyle:function(r){return r.opacity&&this.setOpacity(r.opacity),this},bringToFront:function(){return this._map&&ai(this._image),this},bringToBack:function(){return this._map&&Ii(this._image),this},setUrl:function(r){return this._url=r,this._image&&(this._image.src=r),this},setBounds:function(r){return this._bounds=tt(r),this._map&&this._reset(),this},getEvents:function(){var r={zoom:this._reset,viewreset:this._reset};return this._zoomAnimated&&(r.zoomanim=this._animateZoom),r},setZIndex:function(r){return this.options.zIndex=r,this._updateZIndex(),this},getBounds:function(){return this._bounds},getElement:function(){return this._image},_initImage:function(){var r=this._url.tagName==="IMG",s=this._image=r?this._url:Qt("img");if(Ut(s,"leaflet-image-layer"),this._zoomAnimated&&Ut(s,"leaflet-zoom-animated"),this.options.className&&Ut(s,this.options.className),s.onselectstart=S,s.onmousemove=S,s.onload=m(this.fire,this,"load"),s.onerror=m(this._overlayOnError,this,"error"),(this.options.crossOrigin||this.options.crossOrigin==="")&&(s.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),this.options.zIndex&&this._updateZIndex(),r){this._url=s.src;return}s.src=this._url,s.alt=this.options.alt},_animateZoom:function(r){var s=this._map.getZoomScale(r.zoom),f=this._map._latLngBoundsToNewLayerBounds(this._bounds,r.zoom,r.center).min;Ln(this._image,f,s)},_reset:function(){var r=this._image,s=new G(this._map.latLngToLayerPoint(this._bounds.getNorthWest()),this._map.latLngToLayerPoint(this._bounds.getSouthEast())),f=s.getSize();Ae(r,s.min),r.style.width=f.x+"px",r.style.height=f.y+"px"},_updateOpacity:function(){mn(this._image,this.options.opacity)},_updateZIndex:function(){this._image&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._image.style.zIndex=this.options.zIndex)},_overlayOnError:function(){this.fire("error");var r=this.options.errorOverlayUrl;r&&this._url!==r&&(this._url=r,this._image.src=r)},getCenter:function(){return this._bounds.getCenter()}}),ea=function(r,s,f){return new lr(r,s,f)},Go=lr.extend({options:{autoplay:!0,loop:!0,keepAspectRatio:!0,muted:!1,playsInline:!0},_initImage:function(){var r=this._url.tagName==="VIDEO",s=this._image=r?this._url:Qt("video");if(Ut(s,"leaflet-image-layer"),this._zoomAnimated&&Ut(s,"leaflet-zoom-animated"),this.options.className&&Ut(s,this.options.className),s.onselectstart=S,s.onmousemove=S,s.onloadeddata=m(this.fire,this,"load"),r){for(var f=s.getElementsByTagName("source"),_=[],T=0;T<f.length;T++)_.push(f[T].src);this._url=f.length>0?_:[s.src];return}k(this._url)||(this._url=[this._url]),!this.options.keepAspectRatio&&Object.prototype.hasOwnProperty.call(s.style,"objectFit")&&(s.style.objectFit="fill"),s.autoplay=!!this.options.autoplay,s.loop=!!this.options.loop,s.muted=!!this.options.muted,s.playsInline=!!this.options.playsInline;for(var N=0;N<this._url.length;N++){var Z=Qt("source");Z.src=this._url[N],s.appendChild(Z)}}});function Yc(r,s,f){return new Go(r,s,f)}var Ir=lr.extend({_initImage:function(){var r=this._image=this._url;Ut(r,"leaflet-image-layer"),this._zoomAnimated&&Ut(r,"leaflet-zoom-animated"),this.options.className&&Ut(r,this.options.className),r.onselectstart=S,r.onmousemove=S}});function qc(r,s,f){return new Ir(r,s,f)}var Yn=Gn.extend({options:{interactive:!1,offset:[0,0],className:"",pane:void 0,content:""},initialize:function(r,s){r&&(r instanceof lt||k(r))?(this._latlng=ht(r),O(this,s)):(O(this,r),this._source=s),this.options.content&&(this._content=this.options.content)},openOn:function(r){return r=arguments.length?r:this._source._map,r.hasLayer(this)||r.addLayer(this),this},close:function(){return this._map&&this._map.removeLayer(this),this},toggle:function(r){return this._map?this.close():(arguments.length?this._source=r:r=this._source,this._prepareOpen(),this.openOn(r._map)),this},onAdd:function(r){this._zoomAnimated=r._zoomAnimated,this._container||this._initLayout(),r._fadeAnimated&&mn(this._container,0),clearTimeout(this._removeTimeout),this.getPane().appendChild(this._container),this.update(),r._fadeAnimated&&mn(this._container,1),this.bringToFront(),this.options.interactive&&(Ut(this._container,"leaflet-interactive"),this.addInteractiveTarget(this._container))},onRemove:function(r){r._fadeAnimated?(mn(this._container,0),this._removeTimeout=setTimeout(m(ge,void 0,this._container),200)):ge(this._container),this.options.interactive&&(be(this._container,"leaflet-interactive"),this.removeInteractiveTarget(this._container))},getLatLng:function(){return this._latlng},setLatLng:function(r){return this._latlng=ht(r),this._map&&(this._updatePosition(),this._adjustPan()),this},getContent:function(){return this._content},setContent:function(r){return this._content=r,this.update(),this},getElement:function(){return this._container},update:function(){this._map&&(this._container.style.visibility="hidden",this._updateContent(),this._updateLayout(),this._updatePosition(),this._container.style.visibility="",this._adjustPan())},getEvents:function(){var r={zoom:this._updatePosition,viewreset:this._updatePosition};return this._zoomAnimated&&(r.zoomanim=this._animateZoom),r},isOpen:function(){return!!this._map&&this._map.hasLayer(this)},bringToFront:function(){return this._map&&ai(this._container),this},bringToBack:function(){return this._map&&Ii(this._container),this},_prepareOpen:function(r){var s=this._source;if(!s._map)return!1;if(s instanceof xn){s=null;var f=this._source._layers;for(var _ in f)if(f[_]._map){s=f[_];break}if(!s)return!1;this._source=s}if(!r)if(s.getCenter)r=s.getCenter();else if(s.getLatLng)r=s.getLatLng();else if(s.getBounds)r=s.getBounds().getCenter();else throw new Error("Unable to get source layer LatLng.");return this.setLatLng(r),this._map&&this.update(),!0},_updateContent:function(){if(this._content){var r=this._contentNode,s=typeof this._content=="function"?this._content(this._source||this):this._content;if(typeof s=="string")r.innerHTML=s;else{for(;r.hasChildNodes();)r.removeChild(r.firstChild);r.appendChild(s)}this.fire("contentupdate")}},_updatePosition:function(){if(this._map){var r=this._map.latLngToLayerPoint(this._latlng),s=D(this.options.offset),f=this._getAnchor();this._zoomAnimated?Ae(this._container,r.add(f)):s=s.add(r).add(f);var _=this._containerBottom=-s.y,T=this._containerLeft=-Math.round(this._containerWidth/2)+s.x;this._container.style.bottom=_+"px",this._container.style.left=T+"px"}},_getAnchor:function(){return[0,0]}});Yt.include({_initOverlay:function(r,s,f,_){var T=s;return T instanceof r||(T=new r(_).setContent(s)),f&&T.setLatLng(f),T}}),Gn.include({_initOverlay:function(r,s,f,_){var T=f;return T instanceof r?(O(T,_),T._source=this):(T=s&&!_?s:new r(_,this),T.setContent(f)),T}});var Xa=Yn.extend({options:{pane:"popupPane",offset:[0,7],maxWidth:300,minWidth:50,maxHeight:null,autoPan:!0,autoPanPaddingTopLeft:null,autoPanPaddingBottomRight:null,autoPanPadding:[5,5],keepInView:!1,closeButton:!0,autoClose:!0,closeOnEscapeKey:!0,className:""},openOn:function(r){return r=arguments.length?r:this._source._map,!r.hasLayer(this)&&r._popup&&r._popup.options.autoClose&&r.removeLayer(r._popup),r._popup=this,Yn.prototype.openOn.call(this,r)},onAdd:function(r){Yn.prototype.onAdd.call(this,r),r.fire("popupopen",{popup:this}),this._source&&(this._source.fire("popupopen",{popup:this},!0),this._source instanceof Sr||this._source.on("preclick",xr))},onRemove:function(r){Yn.prototype.onRemove.call(this,r),r.fire("popupclose",{popup:this}),this._source&&(this._source.fire("popupclose",{popup:this},!0),this._source instanceof Sr||this._source.off("preclick",xr))},getEvents:function(){var r=Yn.prototype.getEvents.call(this);return(this.options.closeOnClick!==void 0?this.options.closeOnClick:this._map.options.closePopupOnClick)&&(r.preclick=this.close),this.options.keepInView&&(r.moveend=this._adjustPan),r},_initLayout:function(){var r="leaflet-popup",s=this._container=Qt("div",r+" "+(this.options.className||"")+" leaflet-zoom-animated"),f=this._wrapper=Qt("div",r+"-content-wrapper",s);if(this._contentNode=Qt("div",r+"-content",f),Vi(s),qi(this._contentNode),It(s,"contextmenu",xr),this._tipContainer=Qt("div",r+"-tip-container",s),this._tip=Qt("div",r+"-tip",this._tipContainer),this.options.closeButton){var _=this._closeButton=Qt("a",r+"-close-button",s);_.setAttribute("role","button"),_.setAttribute("aria-label","Close popup"),_.href="#close",_.innerHTML='<span aria-hidden="true">&#215;</span>',It(_,"click",function(T){Le(T),this.close()},this)}},_updateLayout:function(){var r=this._contentNode,s=r.style;s.width="",s.whiteSpace="nowrap";var f=r.offsetWidth;f=Math.min(f,this.options.maxWidth),f=Math.max(f,this.options.minWidth),s.width=f+1+"px",s.whiteSpace="",s.height="";var _=r.offsetHeight,T=this.options.maxHeight,N="leaflet-popup-scrolled";T&&_>T?(s.height=T+"px",Ut(r,N)):be(r,N),this._containerWidth=this._container.offsetWidth},_animateZoom:function(r){var s=this._map._latLngToNewLayerPoint(this._latlng,r.zoom,r.center),f=this._getAnchor();Ae(this._container,s.add(f))},_adjustPan:function(){if(this.options.autoPan){if(this._map._panAnim&&this._map._panAnim.stop(),this._autopanning){this._autopanning=!1;return}var r=this._map,s=parseInt(ii(this._container,"marginBottom"),10)||0,f=this._container.offsetHeight+s,_=this._containerWidth,T=new ot(this._containerLeft,-f-this._containerBottom);T._add(Pr(this._container));var N=r.layerPointToContainerPoint(T),Z=D(this.options.autoPanPadding),at=D(this.options.autoPanPaddingTopLeft||Z),ft=D(this.options.autoPanPaddingBottomRight||Z),_t=r.getSize(),Et=0,Dt=0;N.x+_+ft.x>_t.x&&(Et=N.x+_-_t.x+ft.x),N.x-Et-at.x<0&&(Et=N.x-at.x),N.y+f+ft.y>_t.y&&(Dt=N.y+f-_t.y+ft.y),N.y-Dt-at.y<0&&(Dt=N.y-at.y),(Et||Dt)&&(this.options.keepInView&&(this._autopanning=!0),r.fire("autopanstart").panBy([Et,Dt]))}},_getAnchor:function(){return D(this._source&&this._source._getPopupAnchor?this._source._getPopupAnchor():[0,0])}}),Tf=function(r,s){return new Xa(r,s)};Yt.mergeOptions({closePopupOnClick:!0}),Yt.include({openPopup:function(r,s,f){return this._initOverlay(Xa,r,s,f).openOn(this),this},closePopup:function(r){return r=arguments.length?r:this._popup,r&&r.close(),this}}),Gn.include({bindPopup:function(r,s){return this._popup=this._initOverlay(Xa,this._popup,r,s),this._popupHandlersAdded||(this.on({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!0),this},unbindPopup:function(){return this._popup&&(this.off({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!1,this._popup=null),this},openPopup:function(r){return this._popup&&(this instanceof xn||(this._popup._source=this),this._popup._prepareOpen(r||this._latlng)&&this._popup.openOn(this._map)),this},closePopup:function(){return this._popup&&this._popup.close(),this},togglePopup:function(){return this._popup&&this._popup.toggle(this),this},isPopupOpen:function(){return this._popup?this._popup.isOpen():!1},setPopupContent:function(r){return this._popup&&this._popup.setContent(r),this},getPopup:function(){return this._popup},_openPopup:function(r){if(!(!this._popup||!this._map)){sr(r);var s=r.layer||r.target;if(this._popup._source===s&&!(s instanceof Sr)){this._map.hasLayer(this._popup)?this.closePopup():this.openPopup(r.latlng);return}this._popup._source=s,this.openPopup(r.latlng)}},_movePopup:function(r){this._popup.setLatLng(r.latlng)},_onKeyPress:function(r){r.originalEvent.keyCode===13&&this._openPopup(r)}});var Zo=Yn.extend({options:{pane:"tooltipPane",offset:[0,0],direction:"auto",permanent:!1,sticky:!1,opacity:.9},onAdd:function(r){Yn.prototype.onAdd.call(this,r),this.setOpacity(this.options.opacity),r.fire("tooltipopen",{tooltip:this}),this._source&&(this.addEventParent(this._source),this._source.fire("tooltipopen",{tooltip:this},!0))},onRemove:function(r){Yn.prototype.onRemove.call(this,r),r.fire("tooltipclose",{tooltip:this}),this._source&&(this.removeEventParent(this._source),this._source.fire("tooltipclose",{tooltip:this},!0))},getEvents:function(){var r=Yn.prototype.getEvents.call(this);return this.options.permanent||(r.preclick=this.close),r},_initLayout:function(){var r="leaflet-tooltip",s=r+" "+(this.options.className||"")+" leaflet-zoom-"+(this._zoomAnimated?"animated":"hide");this._contentNode=this._container=Qt("div",s),this._container.setAttribute("role","tooltip"),this._container.setAttribute("id","leaflet-tooltip-"+b(this))},_updateLayout:function(){},_adjustPan:function(){},_setPosition:function(r){var s,f,_=this._map,T=this._container,N=_.latLngToContainerPoint(_.getCenter()),Z=_.layerPointToContainerPoint(r),at=this.options.direction,ft=T.offsetWidth,_t=T.offsetHeight,Et=D(this.options.offset),Dt=this._getAnchor();at==="top"?(s=ft/2,f=_t):at==="bottom"?(s=ft/2,f=0):at==="center"?(s=ft/2,f=_t/2):at==="right"?(s=0,f=_t/2):at==="left"?(s=ft,f=_t/2):Z.x<N.x?(at="right",s=0,f=_t/2):(at="left",s=ft+(Et.x+Dt.x)*2,f=_t/2),r=r.subtract(D(s,f,!0)).add(Et).add(Dt),be(T,"leaflet-tooltip-right"),be(T,"leaflet-tooltip-left"),be(T,"leaflet-tooltip-top"),be(T,"leaflet-tooltip-bottom"),Ut(T,"leaflet-tooltip-"+at),Ae(T,r)},_updatePosition:function(){var r=this._map.latLngToLayerPoint(this._latlng);this._setPosition(r)},setOpacity:function(r){this.options.opacity=r,this._container&&mn(this._container,r)},_animateZoom:function(r){var s=this._map._latLngToNewLayerPoint(this._latlng,r.zoom,r.center);this._setPosition(s)},_getAnchor:function(){return D(this._source&&this._source._getTooltipAnchor&&!this.options.sticky?this._source._getTooltipAnchor():[0,0])}}),Ef=function(r,s){return new Zo(r,s)};Yt.include({openTooltip:function(r,s,f){return this._initOverlay(Zo,r,s,f).openOn(this),this},closeTooltip:function(r){return r.close(),this}}),Gn.include({bindTooltip:function(r,s){return this._tooltip&&this.isTooltipOpen()&&this.unbindTooltip(),this._tooltip=this._initOverlay(Zo,this._tooltip,r,s),this._initTooltipInteractions(),this._tooltip.options.permanent&&this._map&&this._map.hasLayer(this)&&this.openTooltip(),this},unbindTooltip:function(){return this._tooltip&&(this._initTooltipInteractions(!0),this.closeTooltip(),this._tooltip=null),this},_initTooltipInteractions:function(r){if(!(!r&&this._tooltipHandlersAdded)){var s=r?"off":"on",f={remove:this.closeTooltip,move:this._moveTooltip};this._tooltip.options.permanent?f.add=this._openTooltip:(f.mouseover=this._openTooltip,f.mouseout=this.closeTooltip,f.click=this._openTooltip,this._map?this._addFocusListeners():f.add=this._addFocusListeners),this._tooltip.options.sticky&&(f.mousemove=this._moveTooltip),this[s](f),this._tooltipHandlersAdded=!r}},openTooltip:function(r){return this._tooltip&&(this instanceof xn||(this._tooltip._source=this),this._tooltip._prepareOpen(r)&&(this._tooltip.openOn(this._map),this.getElement?this._setAriaDescribedByOnLayer(this):this.eachLayer&&this.eachLayer(this._setAriaDescribedByOnLayer,this))),this},closeTooltip:function(){if(this._tooltip)return this._tooltip.close()},toggleTooltip:function(){return this._tooltip&&this._tooltip.toggle(this),this},isTooltipOpen:function(){return this._tooltip.isOpen()},setTooltipContent:function(r){return this._tooltip&&this._tooltip.setContent(r),this},getTooltip:function(){return this._tooltip},_addFocusListeners:function(){this.getElement?this._addFocusListenersOnLayer(this):this.eachLayer&&this.eachLayer(this._addFocusListenersOnLayer,this)},_addFocusListenersOnLayer:function(r){var s=typeof r.getElement=="function"&&r.getElement();s&&(It(s,"focus",function(){this._tooltip._source=r,this.openTooltip()},this),It(s,"blur",this.closeTooltip,this))},_setAriaDescribedByOnLayer:function(r){var s=typeof r.getElement=="function"&&r.getElement();s&&s.setAttribute("aria-describedby",this._tooltip._container.id)},_openTooltip:function(r){if(!(!this._tooltip||!this._map)){if(this._map.dragging&&this._map.dragging.moving()&&!this._openOnceFlag){this._openOnceFlag=!0;var s=this;this._map.once("moveend",function(){s._openOnceFlag=!1,s._openTooltip(r)});return}this._tooltip._source=r.layer||r.target,this.openTooltip(this._tooltip.options.sticky?r.latlng:void 0)}},_moveTooltip:function(r){var s=r.latlng,f,_;this._tooltip.options.sticky&&r.originalEvent&&(f=this._map.mouseEventToContainerPoint(r.originalEvent),_=this._map.containerPointToLayerPoint(f),s=this._map.layerPointToLatLng(_)),this._tooltip.setLatLng(s)}});var Js=Xi.extend({options:{iconSize:[12,12],html:!1,bgPos:null,className:"leaflet-div-icon"},createIcon:function(r){var s=r&&r.tagName==="DIV"?r:document.createElement("div"),f=this.options;if(f.html instanceof Element?(rn(s),s.appendChild(f.html)):s.innerHTML=f.html!==!1?f.html:"",f.bgPos){var _=D(f.bgPos);s.style.backgroundPosition=-_.x+"px "+-_.y+"px"}return this._setIconStyles(s,"icon"),s},createShadow:function(){return null}});function Vc(r){return new Js(r)}Xi.Default=Wi;var mi=Gn.extend({options:{tileSize:256,opacity:1,updateWhenIdle:jt.mobile,updateWhenZooming:!0,updateInterval:200,zIndex:1,bounds:null,minZoom:0,maxZoom:void 0,maxNativeZoom:void 0,minNativeZoom:void 0,noWrap:!1,pane:"tilePane",className:"",keepBuffer:2},initialize:function(r){O(this,r)},onAdd:function(){this._initContainer(),this._levels={},this._tiles={},this._resetView()},beforeAdd:function(r){r._addZoomLimit(this)},onRemove:function(r){this._removeAllTiles(),ge(this._container),r._removeZoomLimit(this),this._container=null,this._tileZoom=void 0},bringToFront:function(){return this._map&&(ai(this._container),this._setAutoZIndex(Math.max)),this},bringToBack:function(){return this._map&&(Ii(this._container),this._setAutoZIndex(Math.min)),this},getContainer:function(){return this._container},setOpacity:function(r){return this.options.opacity=r,this._updateOpacity(),this},setZIndex:function(r){return this.options.zIndex=r,this._updateZIndex(),this},isLoading:function(){return this._loading},redraw:function(){if(this._map){this._removeAllTiles();var r=this._clampZoom(this._map.getZoom());r!==this._tileZoom&&(this._tileZoom=r,this._updateLevels()),this._update()}return this},getEvents:function(){var r={viewprereset:this._invalidateAll,viewreset:this._resetView,zoom:this._resetView,moveend:this._onMoveEnd};return this.options.updateWhenIdle||(this._onMove||(this._onMove=v(this._onMoveEnd,this.options.updateInterval,this)),r.move=this._onMove),this._zoomAnimated&&(r.zoomanim=this._animateZoom),r},createTile:function(){return document.createElement("div")},getTileSize:function(){var r=this.options.tileSize;return r instanceof ot?r:new ot(r,r)},_updateZIndex:function(){this._container&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._container.style.zIndex=this.options.zIndex)},_setAutoZIndex:function(r){for(var s=this.getPane().children,f=-r(-1/0,1/0),_=0,T=s.length,N;_<T;_++)N=s[_].style.zIndex,s[_]!==this._container&&N&&(f=r(f,+N));isFinite(f)&&(this.options.zIndex=f+r(-1,1),this._updateZIndex())},_updateOpacity:function(){if(this._map&&!jt.ielt9){mn(this._container,this.options.opacity);var r=+new Date,s=!1,f=!1;for(var _ in this._tiles){var T=this._tiles[_];if(!(!T.current||!T.loaded)){var N=Math.min(1,(r-T.loaded)/200);mn(T.el,N),N<1?s=!0:(T.active?f=!0:this._onOpaqueTile(T),T.active=!0)}}f&&!this._noPrune&&this._pruneTiles(),s&&(U(this._fadeFrame),this._fadeFrame=K(this._updateOpacity,this))}},_onOpaqueTile:S,_initContainer:function(){this._container||(this._container=Qt("div","leaflet-layer "+(this.options.className||"")),this._updateZIndex(),this.options.opacity<1&&this._updateOpacity(),this.getPane().appendChild(this._container))},_updateLevels:function(){var r=this._tileZoom,s=this.options.maxZoom;if(r!==void 0){for(var f in this._levels)f=Number(f),this._levels[f].el.children.length||f===r?(this._levels[f].el.style.zIndex=s-Math.abs(r-f),this._onUpdateLevel(f)):(ge(this._levels[f].el),this._removeTilesAtZoom(f),this._onRemoveLevel(f),delete this._levels[f]);var _=this._levels[r],T=this._map;return _||(_=this._levels[r]={},_.el=Qt("div","leaflet-tile-container leaflet-zoom-animated",this._container),_.el.style.zIndex=s,_.origin=T.project(T.unproject(T.getPixelOrigin()),r).round(),_.zoom=r,this._setZoomTransform(_,T.getCenter(),T.getZoom()),S(_.el.offsetWidth),this._onCreateLevel(_)),this._level=_,_}},_onUpdateLevel:S,_onRemoveLevel:S,_onCreateLevel:S,_pruneTiles:function(){if(this._map){var r,s,f=this._map.getZoom();if(f>this.options.maxZoom||f<this.options.minZoom){this._removeAllTiles();return}for(r in this._tiles)s=this._tiles[r],s.retain=s.current;for(r in this._tiles)if(s=this._tiles[r],s.current&&!s.active){var _=s.coords;this._retainParent(_.x,_.y,_.z,_.z-5)||this._retainChildren(_.x,_.y,_.z,_.z+2)}for(r in this._tiles)this._tiles[r].retain||this._removeTile(r)}},_removeTilesAtZoom:function(r){for(var s in this._tiles)this._tiles[s].coords.z===r&&this._removeTile(s)},_removeAllTiles:function(){for(var r in this._tiles)this._removeTile(r)},_invalidateAll:function(){for(var r in this._levels)ge(this._levels[r].el),this._onRemoveLevel(Number(r)),delete this._levels[r];this._removeAllTiles(),this._tileZoom=void 0},_retainParent:function(r,s,f,_){var T=Math.floor(r/2),N=Math.floor(s/2),Z=f-1,at=new ot(+T,+N);at.z=+Z;var ft=this._tileCoordsToKey(at),_t=this._tiles[ft];return _t&&_t.active?(_t.retain=!0,!0):(_t&&_t.loaded&&(_t.retain=!0),Z>_?this._retainParent(T,N,Z,_):!1)},_retainChildren:function(r,s,f,_){for(var T=2*r;T<2*r+2;T++)for(var N=2*s;N<2*s+2;N++){var Z=new ot(T,N);Z.z=f+1;var at=this._tileCoordsToKey(Z),ft=this._tiles[at];if(ft&&ft.active){ft.retain=!0;continue}else ft&&ft.loaded&&(ft.retain=!0);f+1<_&&this._retainChildren(T,N,f+1,_)}},_resetView:function(r){var s=r&&(r.pinch||r.flyTo);this._setView(this._map.getCenter(),this._map.getZoom(),s,s)},_animateZoom:function(r){this._setView(r.center,r.zoom,!0,r.noUpdate)},_clampZoom:function(r){var s=this.options;return s.minNativeZoom!==void 0&&r<s.minNativeZoom?s.minNativeZoom:s.maxNativeZoom!==void 0&&s.maxNativeZoom<r?s.maxNativeZoom:r},_setView:function(r,s,f,_){var T=Math.round(s);this.options.maxZoom!==void 0&&T>this.options.maxZoom||this.options.minZoom!==void 0&&T<this.options.minZoom?T=void 0:T=this._clampZoom(T);var N=this.options.updateWhenZooming&&T!==this._tileZoom;(!_||N)&&(this._tileZoom=T,this._abortLoading&&this._abortLoading(),this._updateLevels(),this._resetGrid(),T!==void 0&&this._update(r),f||this._pruneTiles(),this._noPrune=!!f),this._setZoomTransforms(r,s)},_setZoomTransforms:function(r,s){for(var f in this._levels)this._setZoomTransform(this._levels[f],r,s)},_setZoomTransform:function(r,s,f){var _=this._map.getZoomScale(f,r.zoom),T=r.origin.multiplyBy(_).subtract(this._map._getNewPixelOrigin(s,f)).round();jt.any3d?Ln(r.el,T,_):Ae(r.el,T)},_resetGrid:function(){var r=this._map,s=r.options.crs,f=this._tileSize=this.getTileSize(),_=this._tileZoom,T=this._map.getPixelWorldBounds(this._tileZoom);T&&(this._globalTileRange=this._pxBoundsToTileRange(T)),this._wrapX=s.wrapLng&&!this.options.noWrap&&[Math.floor(r.project([0,s.wrapLng[0]],_).x/f.x),Math.ceil(r.project([0,s.wrapLng[1]],_).x/f.y)],this._wrapY=s.wrapLat&&!this.options.noWrap&&[Math.floor(r.project([s.wrapLat[0],0],_).y/f.x),Math.ceil(r.project([s.wrapLat[1],0],_).y/f.y)]},_onMoveEnd:function(){!this._map||this._map._animatingZoom||this._update()},_getTiledPixelBounds:function(r){var s=this._map,f=s._animatingZoom?Math.max(s._animateToZoom,s.getZoom()):s.getZoom(),_=s.getZoomScale(f,this._tileZoom),T=s.project(r,this._tileZoom).floor(),N=s.getSize().divideBy(_*2);return new G(T.subtract(N),T.add(N))},_update:function(r){var s=this._map;if(s){var f=this._clampZoom(s.getZoom());if(r===void 0&&(r=s.getCenter()),this._tileZoom!==void 0){var _=this._getTiledPixelBounds(r),T=this._pxBoundsToTileRange(_),N=T.getCenter(),Z=[],at=this.options.keepBuffer,ft=new G(T.getBottomLeft().subtract([at,-at]),T.getTopRight().add([at,-at]));if(!(isFinite(T.min.x)&&isFinite(T.min.y)&&isFinite(T.max.x)&&isFinite(T.max.y)))throw new Error("Attempted to load an infinite number of tiles");for(var _t in this._tiles){var Et=this._tiles[_t].coords;(Et.z!==this._tileZoom||!ft.contains(new ot(Et.x,Et.y)))&&(this._tiles[_t].current=!1)}if(Math.abs(f-this._tileZoom)>1){this._setView(r,f);return}for(var Dt=T.min.y;Dt<=T.max.y;Dt++)for(var Nt=T.min.x;Nt<=T.max.x;Nt++){var Ht=new ot(Nt,Dt);if(Ht.z=this._tileZoom,!!this._isValidTile(Ht)){var ve=this._tiles[this._tileCoordsToKey(Ht)];ve?ve.current=!0:Z.push(Ht)}}if(Z.sort(function(Xe,Cn){return Xe.distanceTo(N)-Cn.distanceTo(N)}),Z.length!==0){this._loading||(this._loading=!0,this.fire("loading"));var Ne=document.createDocumentFragment();for(Nt=0;Nt<Z.length;Nt++)this._addTile(Z[Nt],Ne);this._level.el.appendChild(Ne)}}}},_isValidTile:function(r){var s=this._map.options.crs;if(!s.infinite){var f=this._globalTileRange;if(!s.wrapLng&&(r.x<f.min.x||r.x>f.max.x)||!s.wrapLat&&(r.y<f.min.y||r.y>f.max.y))return!1}if(!this.options.bounds)return!0;var _=this._tileCoordsToBounds(r);return tt(this.options.bounds).overlaps(_)},_keyToBounds:function(r){return this._tileCoordsToBounds(this._keyToTileCoords(r))},_tileCoordsToNwSe:function(r){var s=this._map,f=this.getTileSize(),_=r.scaleBy(f),T=_.add(f),N=s.unproject(_,r.z),Z=s.unproject(T,r.z);return[N,Z]},_tileCoordsToBounds:function(r){var s=this._tileCoordsToNwSe(r),f=new q(s[0],s[1]);return this.options.noWrap||(f=this._map.wrapLatLngBounds(f)),f},_tileCoordsToKey:function(r){return r.x+":"+r.y+":"+r.z},_keyToTileCoords:function(r){var s=r.split(":"),f=new ot(+s[0],+s[1]);return f.z=+s[2],f},_removeTile:function(r){var s=this._tiles[r];s&&(ge(s.el),delete this._tiles[r],this.fire("tileunload",{tile:s.el,coords:this._keyToTileCoords(r)}))},_initTile:function(r){Ut(r,"leaflet-tile");var s=this.getTileSize();r.style.width=s.x+"px",r.style.height=s.y+"px",r.onselectstart=S,r.onmousemove=S,jt.ielt9&&this.options.opacity<1&&mn(r,this.options.opacity)},_addTile:function(r,s){var f=this._getTilePos(r),_=this._tileCoordsToKey(r),T=this.createTile(this._wrapCoords(r),m(this._tileReady,this,r));this._initTile(T),this.createTile.length<2&&K(m(this._tileReady,this,r,null,T)),Ae(T,f),this._tiles[_]={el:T,coords:r,current:!0},s.appendChild(T),this.fire("tileloadstart",{tile:T,coords:r})},_tileReady:function(r,s,f){s&&this.fire("tileerror",{error:s,tile:f,coords:r});var _=this._tileCoordsToKey(r);f=this._tiles[_],f&&(f.loaded=+new Date,this._map._fadeAnimated?(mn(f.el,0),U(this._fadeFrame),this._fadeFrame=K(this._updateOpacity,this)):(f.active=!0,this._pruneTiles()),s||(Ut(f.el,"leaflet-tile-loaded"),this.fire("tileload",{tile:f.el,coords:r})),this._noTilesToLoad()&&(this._loading=!1,this.fire("load"),jt.ielt9||!this._map._fadeAnimated?K(this._pruneTiles,this):setTimeout(m(this._pruneTiles,this),250)))},_getTilePos:function(r){return r.scaleBy(this.getTileSize()).subtract(this._level.origin)},_wrapCoords:function(r){var s=new ot(this._wrapX?w(r.x,this._wrapX):r.x,this._wrapY?w(r.y,this._wrapY):r.y);return s.z=r.z,s},_pxBoundsToTileRange:function(r){var s=this.getTileSize();return new G(r.min.unscaleBy(s).floor(),r.max.unscaleBy(s).ceil().subtract([1,1]))},_noTilesToLoad:function(){for(var r in this._tiles)if(!this._tiles[r].loaded)return!1;return!0}});function qn(r){return new mi(r)}var pi=mi.extend({options:{minZoom:0,maxZoom:18,subdomains:"abc",errorTileUrl:"",zoomOffset:0,tms:!1,zoomReverse:!1,detectRetina:!1,crossOrigin:!1,referrerPolicy:!1},initialize:function(r,s){this._url=r,s=O(this,s),s.detectRetina&&jt.retina&&s.maxZoom>0?(s.tileSize=Math.floor(s.tileSize/2),s.zoomReverse?(s.zoomOffset--,s.minZoom=Math.min(s.maxZoom,s.minZoom+1)):(s.zoomOffset++,s.maxZoom=Math.max(s.minZoom,s.maxZoom-1)),s.minZoom=Math.max(0,s.minZoom)):s.zoomReverse?s.minZoom=Math.min(s.maxZoom,s.minZoom):s.maxZoom=Math.max(s.minZoom,s.maxZoom),typeof s.subdomains=="string"&&(s.subdomains=s.subdomains.split("")),this.on("tileunload",this._onTileRemove)},setUrl:function(r,s){return this._url===r&&s===void 0&&(s=!0),this._url=r,s||this.redraw(),this},createTile:function(r,s){var f=document.createElement("img");return It(f,"load",m(this._tileOnLoad,this,s,f)),It(f,"error",m(this._tileOnError,this,s,f)),(this.options.crossOrigin||this.options.crossOrigin==="")&&(f.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),typeof this.options.referrerPolicy=="string"&&(f.referrerPolicy=this.options.referrerPolicy),f.alt="",f.src=this.getTileUrl(r),f},getTileUrl:function(r){var s={r:jt.retina?"@2x":"",s:this._getSubdomain(r),x:r.x,y:r.y,z:this._getZoomForUrl()};if(this._map&&!this._map.options.crs.infinite){var f=this._globalTileRange.max.y-r.y;this.options.tms&&(s.y=f),s["-y"]=f}return H(this._url,u(s,this.options))},_tileOnLoad:function(r,s){jt.ielt9?setTimeout(m(r,this,null,s),0):r(null,s)},_tileOnError:function(r,s,f){var _=this.options.errorTileUrl;_&&s.getAttribute("src")!==_&&(s.src=_),r(f,s)},_onTileRemove:function(r){r.tile.onload=null},_getZoomForUrl:function(){var r=this._tileZoom,s=this.options.maxZoom,f=this.options.zoomReverse,_=this.options.zoomOffset;return f&&(r=s-r),r+_},_getSubdomain:function(r){var s=Math.abs(r.x+r.y)%this.options.subdomains.length;return this.options.subdomains[s]},_abortLoading:function(){var r,s;for(r in this._tiles)if(this._tiles[r].coords.z!==this._tileZoom&&(s=this._tiles[r].el,s.onload=S,s.onerror=S,!s.complete)){s.src=B;var f=this._tiles[r].coords;ge(s),delete this._tiles[r],this.fire("tileabort",{tile:s,coords:f})}},_removeTile:function(r){var s=this._tiles[r];if(s)return s.el.setAttribute("src",B),mi.prototype._removeTile.call(this,r)},_tileReady:function(r,s,f){if(!(!this._map||f&&f.getAttribute("src")===B))return mi.prototype._tileReady.call(this,r,s,f)}});function Tn(r,s){return new pi(r,s)}var En=pi.extend({defaultWmsParams:{service:"WMS",request:"GetMap",layers:"",styles:"",format:"image/jpeg",transparent:!1,version:"1.1.1"},options:{crs:null,uppercase:!1},initialize:function(r,s){this._url=r;var f=u({},this.defaultWmsParams);for(var _ in s)_ in this.options||(f[_]=s[_]);s=O(this,s);var T=s.detectRetina&&jt.retina?2:1,N=this.getTileSize();f.width=N.x*T,f.height=N.y*T,this.wmsParams=f},onAdd:function(r){this._crs=this.options.crs||r.options.crs,this._wmsVersion=parseFloat(this.wmsParams.version);var s=this._wmsVersion>=1.3?"crs":"srs";this.wmsParams[s]=this._crs.code,pi.prototype.onAdd.call(this,r)},getTileUrl:function(r){var s=this._tileCoordsToNwSe(r),f=this._crs,_=F(f.project(s[0]),f.project(s[1])),T=_.min,N=_.max,Z=(this._wmsVersion>=1.3&&this._crs===$c?[T.y,T.x,N.y,N.x]:[T.x,T.y,N.x,N.y]).join(","),at=pi.prototype.getTileUrl.call(this,r);return at+R(this.wmsParams,at,this.options.uppercase)+(this.options.uppercase?"&BBOX=":"&bbox=")+Z},setParams:function(r,s){return u(this.wmsParams,r),s||this.redraw(),this}});function na(r,s){return new En(r,s)}pi.WMS=En,Tn.wms=na;var Vn=Gn.extend({options:{padding:.1},initialize:function(r){O(this,r),b(this),this._layers=this._layers||{}},onAdd:function(){this._container||(this._initContainer(),Ut(this._container,"leaflet-zoom-animated")),this.getPane().appendChild(this._container),this._update(),this.on("update",this._updatePaths,this)},onRemove:function(){this.off("update",this._updatePaths,this),this._destroyContainer()},getEvents:function(){var r={viewreset:this._reset,zoom:this._onZoom,moveend:this._update,zoomend:this._onZoomEnd};return this._zoomAnimated&&(r.zoomanim=this._onAnimZoom),r},_onAnimZoom:function(r){this._updateTransform(r.center,r.zoom)},_onZoom:function(){this._updateTransform(this._map.getCenter(),this._map.getZoom())},_updateTransform:function(r,s){var f=this._map.getZoomScale(s,this._zoom),_=this._map.getSize().multiplyBy(.5+this.options.padding),T=this._map.project(this._center,s),N=_.multiplyBy(-f).add(T).subtract(this._map._getNewPixelOrigin(r,s));jt.any3d?Ln(this._container,N,f):Ae(this._container,N)},_reset:function(){this._update(),this._updateTransform(this._center,this._zoom);for(var r in this._layers)this._layers[r]._reset()},_onZoomEnd:function(){for(var r in this._layers)this._layers[r]._project()},_updatePaths:function(){for(var r in this._layers)this._layers[r]._update()},_update:function(){var r=this.options.padding,s=this._map.getSize(),f=this._map.containerPointToLayerPoint(s.multiplyBy(-r)).round();this._bounds=new G(f,f.add(s.multiplyBy(1+r*2)).round()),this._center=this._map.getCenter(),this._zoom=this._map.getZoom()}}),Wa=Vn.extend({options:{tolerance:0},getEvents:function(){var r=Vn.prototype.getEvents.call(this);return r.viewprereset=this._onViewPreReset,r},_onViewPreReset:function(){this._postponeUpdatePaths=!0},onAdd:function(){Vn.prototype.onAdd.call(this),this._draw()},_initContainer:function(){var r=this._container=document.createElement("canvas");It(r,"mousemove",this._onMouseMove,this),It(r,"click dblclick mousedown mouseup contextmenu",this._onClick,this),It(r,"mouseout",this._handleMouseOut,this),r._leaflet_disable_events=!0,this._ctx=r.getContext("2d")},_destroyContainer:function(){U(this._redrawRequest),delete this._ctx,ge(this._container),ee(this._container),delete this._container},_updatePaths:function(){if(!this._postponeUpdatePaths){var r;this._redrawBounds=null;for(var s in this._layers)r=this._layers[s],r._update();this._redraw()}},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){Vn.prototype._update.call(this);var r=this._bounds,s=this._container,f=r.getSize(),_=jt.retina?2:1;Ae(s,r.min),s.width=_*f.x,s.height=_*f.y,s.style.width=f.x+"px",s.style.height=f.y+"px",jt.retina&&this._ctx.scale(2,2),this._ctx.translate(-r.min.x,-r.min.y),this.fire("update")}},_reset:function(){Vn.prototype._reset.call(this),this._postponeUpdatePaths&&(this._postponeUpdatePaths=!1,this._updatePaths())},_initPath:function(r){this._updateDashArray(r),this._layers[b(r)]=r;var s=r._order={layer:r,prev:this._drawLast,next:null};this._drawLast&&(this._drawLast.next=s),this._drawLast=s,this._drawFirst=this._drawFirst||this._drawLast},_addPath:function(r){this._requestRedraw(r)},_removePath:function(r){var s=r._order,f=s.next,_=s.prev;f?f.prev=_:this._drawLast=_,_?_.next=f:this._drawFirst=f,delete r._order,delete this._layers[b(r)],this._requestRedraw(r)},_updatePath:function(r){this._extendRedrawBounds(r),r._project(),r._update(),this._requestRedraw(r)},_updateStyle:function(r){this._updateDashArray(r),this._requestRedraw(r)},_updateDashArray:function(r){if(typeof r.options.dashArray=="string"){var s=r.options.dashArray.split(/[, ]+/),f=[],_,T;for(T=0;T<s.length;T++){if(_=Number(s[T]),isNaN(_))return;f.push(_)}r.options._dashArray=f}else r.options._dashArray=r.options.dashArray},_requestRedraw:function(r){this._map&&(this._extendRedrawBounds(r),this._redrawRequest=this._redrawRequest||K(this._redraw,this))},_extendRedrawBounds:function(r){if(r._pxBounds){var s=(r.options.weight||0)+1;this._redrawBounds=this._redrawBounds||new G,this._redrawBounds.extend(r._pxBounds.min.subtract([s,s])),this._redrawBounds.extend(r._pxBounds.max.add([s,s]))}},_redraw:function(){this._redrawRequest=null,this._redrawBounds&&(this._redrawBounds.min._floor(),this._redrawBounds.max._ceil()),this._clear(),this._draw(),this._redrawBounds=null},_clear:function(){var r=this._redrawBounds;if(r){var s=r.getSize();this._ctx.clearRect(r.min.x,r.min.y,s.x,s.y)}else this._ctx.save(),this._ctx.setTransform(1,0,0,1,0,0),this._ctx.clearRect(0,0,this._container.width,this._container.height),this._ctx.restore()},_draw:function(){var r,s=this._redrawBounds;if(this._ctx.save(),s){var f=s.getSize();this._ctx.beginPath(),this._ctx.rect(s.min.x,s.min.y,f.x,f.y),this._ctx.clip()}this._drawing=!0;for(var _=this._drawFirst;_;_=_.next)r=_.layer,(!s||r._pxBounds&&r._pxBounds.intersects(s))&&r._updatePath();this._drawing=!1,this._ctx.restore()},_updatePoly:function(r,s){if(this._drawing){var f,_,T,N,Z=r._parts,at=Z.length,ft=this._ctx;if(at){for(ft.beginPath(),f=0;f<at;f++){for(_=0,T=Z[f].length;_<T;_++)N=Z[f][_],ft[_?"lineTo":"moveTo"](N.x,N.y);s&&ft.closePath()}this._fillStroke(ft,r)}}},_updateCircle:function(r){if(!(!this._drawing||r._empty())){var s=r._point,f=this._ctx,_=Math.max(Math.round(r._radius),1),T=(Math.max(Math.round(r._radiusY),1)||_)/_;T!==1&&(f.save(),f.scale(1,T)),f.beginPath(),f.arc(s.x,s.y/T,_,0,Math.PI*2,!1),T!==1&&f.restore(),this._fillStroke(f,r)}},_fillStroke:function(r,s){var f=s.options;f.fill&&(r.globalAlpha=f.fillOpacity,r.fillStyle=f.fillColor||f.color,r.fill(f.fillRule||"evenodd")),f.stroke&&f.weight!==0&&(r.setLineDash&&r.setLineDash(s.options&&s.options._dashArray||[]),r.globalAlpha=f.opacity,r.lineWidth=f.weight,r.strokeStyle=f.color,r.lineCap=f.lineCap,r.lineJoin=f.lineJoin,r.stroke())},_onClick:function(r){for(var s=this._map.mouseEventToLayerPoint(r),f,_,T=this._drawFirst;T;T=T.next)f=T.layer,f.options.interactive&&f._containsPoint(s)&&(!(r.type==="click"||r.type==="preclick")||!this._map._draggableMoved(f))&&(_=f);this._fireEvent(_?[_]:!1,r)},_onMouseMove:function(r){if(!(!this._map||this._map.dragging.moving()||this._map._animatingZoom)){var s=this._map.mouseEventToLayerPoint(r);this._handleMouseHover(r,s)}},_handleMouseOut:function(r){var s=this._hoveredLayer;s&&(be(this._container,"leaflet-interactive"),this._fireEvent([s],r,"mouseout"),this._hoveredLayer=null,this._mouseHoverThrottled=!1)},_handleMouseHover:function(r,s){if(!this._mouseHoverThrottled){for(var f,_,T=this._drawFirst;T;T=T.next)f=T.layer,f.options.interactive&&f._containsPoint(s)&&(_=f);_!==this._hoveredLayer&&(this._handleMouseOut(r),_&&(Ut(this._container,"leaflet-interactive"),this._fireEvent([_],r,"mouseover"),this._hoveredLayer=_)),this._fireEvent(this._hoveredLayer?[this._hoveredLayer]:!1,r),this._mouseHoverThrottled=!0,setTimeout(m(function(){this._mouseHoverThrottled=!1},this),32)}},_fireEvent:function(r,s,f){this._map._fireDOMEvent(s,f||s.type,r)},_bringToFront:function(r){var s=r._order;if(s){var f=s.next,_=s.prev;if(f)f.prev=_;else return;_?_.next=f:f&&(this._drawFirst=f),s.prev=this._drawLast,this._drawLast.next=s,s.next=null,this._drawLast=s,this._requestRedraw(r)}},_bringToBack:function(r){var s=r._order;if(s){var f=s.next,_=s.prev;if(_)_.next=f;else return;f?f.prev=_:_&&(this._drawLast=_),s.prev=null,s.next=this._drawFirst,this._drawFirst.prev=s,this._drawFirst=s,this._requestRedraw(r)}}});function Qa(r){return jt.canvas?new Wa(r):null}var gi=(function(){try{return document.namespaces.add("lvml","urn:schemas-microsoft-com:vml"),function(r){return document.createElement("<lvml:"+r+' class="lvml">')}}catch{}return function(r){return document.createElement("<"+r+' xmlns="urn:schemas-microsoft.com:vml" class="lvml">')}})(),ra={_initContainer:function(){this._container=Qt("div","leaflet-vml-container")},_update:function(){this._map._animatingZoom||(Vn.prototype._update.call(this),this.fire("update"))},_initPath:function(r){var s=r._container=gi("shape");Ut(s,"leaflet-vml-shape "+(this.options.className||"")),s.coordsize="1 1",r._path=gi("path"),s.appendChild(r._path),this._updateStyle(r),this._layers[b(r)]=r},_addPath:function(r){var s=r._container;this._container.appendChild(s),r.options.interactive&&r.addInteractiveTarget(s)},_removePath:function(r){var s=r._container;ge(s),r.removeInteractiveTarget(s),delete this._layers[b(r)]},_updateStyle:function(r){var s=r._stroke,f=r._fill,_=r.options,T=r._container;T.stroked=!!_.stroke,T.filled=!!_.fill,_.stroke?(s||(s=r._stroke=gi("stroke")),T.appendChild(s),s.weight=_.weight+"px",s.color=_.color,s.opacity=_.opacity,_.dashArray?s.dashStyle=k(_.dashArray)?_.dashArray.join(" "):_.dashArray.replace(/( *, *)/g," "):s.dashStyle="",s.endcap=_.lineCap.replace("butt","flat"),s.joinstyle=_.lineJoin):s&&(T.removeChild(s),r._stroke=null),_.fill?(f||(f=r._fill=gi("fill")),T.appendChild(f),f.color=_.fillColor||_.color,f.opacity=_.fillOpacity):f&&(T.removeChild(f),r._fill=null)},_updateCircle:function(r){var s=r._point.round(),f=Math.round(r._radius),_=Math.round(r._radiusY||f);this._setPath(r,r._empty()?"M0 0":"AL "+s.x+","+s.y+" "+f+","+_+" 0,"+65535*360)},_setPath:function(r,s){r._path.v=s},_bringToFront:function(r){ai(r._container)},_bringToBack:function(r){Ii(r._container)}},Ja=jt.vml?gi:me,$r=Vn.extend({_initContainer:function(){this._container=Ja("svg"),this._container.setAttribute("pointer-events","none"),this._rootGroup=Ja("g"),this._container.appendChild(this._rootGroup)},_destroyContainer:function(){ge(this._container),ee(this._container),delete this._container,delete this._rootGroup,delete this._svgSize},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){Vn.prototype._update.call(this);var r=this._bounds,s=r.getSize(),f=this._container;(!this._svgSize||!this._svgSize.equals(s))&&(this._svgSize=s,f.setAttribute("width",s.x),f.setAttribute("height",s.y)),Ae(f,r.min),f.setAttribute("viewBox",[r.min.x,r.min.y,s.x,s.y].join(" ")),this.fire("update")}},_initPath:function(r){var s=r._path=Ja("path");r.options.className&&Ut(s,r.options.className),r.options.interactive&&Ut(s,"leaflet-interactive"),this._updateStyle(r),this._layers[b(r)]=r},_addPath:function(r){this._rootGroup||this._initContainer(),this._rootGroup.appendChild(r._path),r.addInteractiveTarget(r._path)},_removePath:function(r){ge(r._path),r.removeInteractiveTarget(r._path),delete this._layers[b(r)]},_updatePath:function(r){r._project(),r._update()},_updateStyle:function(r){var s=r._path,f=r.options;s&&(f.stroke?(s.setAttribute("stroke",f.color),s.setAttribute("stroke-opacity",f.opacity),s.setAttribute("stroke-width",f.weight),s.setAttribute("stroke-linecap",f.lineCap),s.setAttribute("stroke-linejoin",f.lineJoin),f.dashArray?s.setAttribute("stroke-dasharray",f.dashArray):s.removeAttribute("stroke-dasharray"),f.dashOffset?s.setAttribute("stroke-dashoffset",f.dashOffset):s.removeAttribute("stroke-dashoffset")):s.setAttribute("stroke","none"),f.fill?(s.setAttribute("fill",f.fillColor||f.color),s.setAttribute("fill-opacity",f.fillOpacity),s.setAttribute("fill-rule",f.fillRule||"evenodd")):s.setAttribute("fill","none"))},_updatePoly:function(r,s){this._setPath(r,fe(r._parts,s))},_updateCircle:function(r){var s=r._point,f=Math.max(Math.round(r._radius),1),_=Math.max(Math.round(r._radiusY),1)||f,T="a"+f+","+_+" 0 1,0 ",N=r._empty()?"M0 0":"M"+(s.x-f)+","+s.y+T+f*2+",0 "+T+-f*2+",0 ";this._setPath(r,N)},_setPath:function(r,s){r._path.setAttribute("d",s)},_bringToFront:function(r){ai(r._path)},_bringToBack:function(r){Ii(r._path)}});jt.vml&&$r.include(ra);function bi(r){return jt.svg||jt.vml?new $r(r):null}Yt.include({getRenderer:function(r){var s=r.options.renderer||this._getPaneRenderer(r.options.pane)||this.options.renderer||this._renderer;return s||(s=this._renderer=this._createRenderer()),this.hasLayer(s)||this.addLayer(s),s},_getPaneRenderer:function(r){if(r==="overlayPane"||r===void 0)return!1;var s=this._paneRenderers[r];return s===void 0&&(s=this._createRenderer({pane:r}),this._paneRenderers[r]=s),s},_createRenderer:function(r){return this.options.preferCanvas&&Qa(r)||bi(r)}});var Kc=Ji.extend({initialize:function(r,s){Ji.prototype.initialize.call(this,this._boundsToLatLngs(r),s)},setBounds:function(r){return this.setLatLngs(this._boundsToLatLngs(r))},_boundsToLatLngs:function(r){return r=tt(r),[r.getSouthWest(),r.getNorthWest(),r.getNorthEast(),r.getSouthEast()]}});function Mn(r,s){return new Kc(r,s)}$r.create=Ja,$r.pointsToPath=fe,wn.geometryToLayer=Va,wn.coordsToLatLng=Io,wn.coordsToLatLngs=Ka,wn.latLngToCoords=Fa,wn.latLngsToCoords=$o,wn.getFeature=Zn,wn.asFeature=ta,Yt.mergeOptions({boxZoom:!0});var Yo=Un.extend({initialize:function(r){this._map=r,this._container=r._container,this._pane=r._panes.overlayPane,this._resetStateTimeout=0,r.on("unload",this._destroy,this)},addHooks:function(){It(this._container,"mousedown",this._onMouseDown,this)},removeHooks:function(){ee(this._container,"mousedown",this._onMouseDown,this)},moved:function(){return this._moved},_destroy:function(){ge(this._pane),delete this._pane},_resetState:function(){this._resetStateTimeout=0,this._moved=!1},_clearDeferredResetState:function(){this._resetStateTimeout!==0&&(clearTimeout(this._resetStateTimeout),this._resetStateTimeout=0)},_onMouseDown:function(r){if(!r.shiftKey||r.which!==1&&r.button!==1)return!1;this._clearDeferredResetState(),this._resetState(),ir(),Ia(),this._startPoint=this._map.mouseEventToContainerPoint(r),It(document,{contextmenu:sr,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseMove:function(r){this._moved||(this._moved=!0,this._box=Qt("div","leaflet-zoom-box",this._container),Ut(this._container,"leaflet-crosshair"),this._map.fire("boxzoomstart")),this._point=this._map.mouseEventToContainerPoint(r);var s=new G(this._point,this._startPoint),f=s.getSize();Ae(this._box,s.min),this._box.style.width=f.x+"px",this._box.style.height=f.y+"px"},_finish:function(){this._moved&&(ge(this._box),be(this._container,"leaflet-crosshair")),Ha(),Is(),ee(document,{contextmenu:sr,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseUp:function(r){if(!(r.which!==1&&r.button!==1)&&(this._finish(),!!this._moved)){this._clearDeferredResetState(),this._resetStateTimeout=setTimeout(m(this._resetState,this),0);var s=new q(this._map.containerPointToLatLng(this._startPoint),this._map.containerPointToLatLng(this._point));this._map.fitBounds(s).fire("boxzoomend",{boxZoomBounds:s})}},_onKeyDown:function(r){r.keyCode===27&&(this._finish(),this._clearDeferredResetState(),this._resetState())}});Yt.addInitHook("addHandler","boxZoom",Yo),Yt.mergeOptions({doubleClickZoom:!0});var cr=Un.extend({addHooks:function(){this._map.on("dblclick",this._onDoubleClick,this)},removeHooks:function(){this._map.off("dblclick",this._onDoubleClick,this)},_onDoubleClick:function(r){var s=this._map,f=s.getZoom(),_=s.options.zoomDelta,T=r.originalEvent.shiftKey?f-_:f+_;s.options.doubleClickZoom==="center"?s.setZoom(T):s.setZoomAround(r.containerPoint,T)}});Yt.addInitHook("addHandler","doubleClickZoom",cr),Yt.mergeOptions({dragging:!0,inertia:!0,inertiaDeceleration:3400,inertiaMaxSpeed:1/0,easeLinearity:.2,worldCopyJump:!1,maxBoundsViscosity:0});var tl=Un.extend({addHooks:function(){if(!this._draggable){var r=this._map;this._draggable=new Hr(r._mapPane,r._container),this._draggable.on({dragstart:this._onDragStart,drag:this._onDrag,dragend:this._onDragEnd},this),this._draggable.on("predrag",this._onPreDragLimit,this),r.options.worldCopyJump&&(this._draggable.on("predrag",this._onPreDragWrap,this),r.on("zoomend",this._onZoomEnd,this),r.whenReady(this._onZoomEnd,this))}Ut(this._map._container,"leaflet-grab leaflet-touch-drag"),this._draggable.enable(),this._positions=[],this._times=[]},removeHooks:function(){be(this._map._container,"leaflet-grab"),be(this._map._container,"leaflet-touch-drag"),this._draggable.disable()},moved:function(){return this._draggable&&this._draggable._moved},moving:function(){return this._draggable&&this._draggable._moving},_onDragStart:function(){var r=this._map;if(r._stop(),this._map.options.maxBounds&&this._map.options.maxBoundsViscosity){var s=tt(this._map.options.maxBounds);this._offsetLimit=F(this._map.latLngToContainerPoint(s.getNorthWest()).multiplyBy(-1),this._map.latLngToContainerPoint(s.getSouthEast()).multiplyBy(-1).add(this._map.getSize())),this._viscosity=Math.min(1,Math.max(0,this._map.options.maxBoundsViscosity))}else this._offsetLimit=null;r.fire("movestart").fire("dragstart"),r.options.inertia&&(this._positions=[],this._times=[])},_onDrag:function(r){if(this._map.options.inertia){var s=this._lastTime=+new Date,f=this._lastPos=this._draggable._absPos||this._draggable._newPos;this._positions.push(f),this._times.push(s),this._prunePositions(s)}this._map.fire("move",r).fire("drag",r)},_prunePositions:function(r){for(;this._positions.length>1&&r-this._times[0]>50;)this._positions.shift(),this._times.shift()},_onZoomEnd:function(){var r=this._map.getSize().divideBy(2),s=this._map.latLngToLayerPoint([0,0]);this._initialWorldOffset=s.subtract(r).x,this._worldWidth=this._map.getPixelWorldBounds().getSize().x},_viscousLimit:function(r,s){return r-(r-s)*this._viscosity},_onPreDragLimit:function(){if(!(!this._viscosity||!this._offsetLimit)){var r=this._draggable._newPos.subtract(this._draggable._startPos),s=this._offsetLimit;r.x<s.min.x&&(r.x=this._viscousLimit(r.x,s.min.x)),r.y<s.min.y&&(r.y=this._viscousLimit(r.y,s.min.y)),r.x>s.max.x&&(r.x=this._viscousLimit(r.x,s.max.x)),r.y>s.max.y&&(r.y=this._viscousLimit(r.y,s.max.y)),this._draggable._newPos=this._draggable._startPos.add(r)}},_onPreDragWrap:function(){var r=this._worldWidth,s=Math.round(r/2),f=this._initialWorldOffset,_=this._draggable._newPos.x,T=(_-s+f)%r+s-f,N=(_+s+f)%r-s-f,Z=Math.abs(T+f)<Math.abs(N+f)?T:N;this._draggable._absPos=this._draggable._newPos.clone(),this._draggable._newPos.x=Z},_onDragEnd:function(r){var s=this._map,f=s.options,_=!f.inertia||r.noInertia||this._times.length<2;if(s.fire("dragend",r),_)s.fire("moveend");else{this._prunePositions(+new Date);var T=this._lastPos.subtract(this._positions[0]),N=(this._lastTime-this._times[0])/1e3,Z=f.easeLinearity,at=T.multiplyBy(Z/N),ft=at.distanceTo([0,0]),_t=Math.min(f.inertiaMaxSpeed,ft),Et=at.multiplyBy(_t/ft),Dt=_t/(f.inertiaDeceleration*Z),Nt=Et.multiplyBy(-Dt/2).round();!Nt.x&&!Nt.y?s.fire("moveend"):(Nt=s._limitOffset(Nt,s.options.maxBounds),K(function(){s.panBy(Nt,{duration:Dt,easeLinearity:Z,noMoveStart:!0,animate:!0})}))}}});Yt.addInitHook("addHandler","dragging",tl),Yt.mergeOptions({keyboard:!0,keyboardPanDelta:80});var to=Un.extend({keyCodes:{left:[37],right:[39],down:[40],up:[38],zoomIn:[187,107,61,171],zoomOut:[189,109,54,173]},initialize:function(r){this._map=r,this._setPanDelta(r.options.keyboardPanDelta),this._setZoomDelta(r.options.zoomDelta)},addHooks:function(){var r=this._map._container;r.tabIndex<=0&&(r.tabIndex="0"),It(r,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.on({focus:this._addHooks,blur:this._removeHooks},this)},removeHooks:function(){this._removeHooks(),ee(this._map._container,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.off({focus:this._addHooks,blur:this._removeHooks},this)},_onMouseDown:function(){if(!this._focused){var r=document.body,s=document.documentElement,f=r.scrollTop||s.scrollTop,_=r.scrollLeft||s.scrollLeft;this._map._container.focus(),window.scrollTo(_,f)}},_onFocus:function(){this._focused=!0,this._map.fire("focus")},_onBlur:function(){this._focused=!1,this._map.fire("blur")},_setPanDelta:function(r){var s=this._panKeys={},f=this.keyCodes,_,T;for(_=0,T=f.left.length;_<T;_++)s[f.left[_]]=[-1*r,0];for(_=0,T=f.right.length;_<T;_++)s[f.right[_]]=[r,0];for(_=0,T=f.down.length;_<T;_++)s[f.down[_]]=[0,r];for(_=0,T=f.up.length;_<T;_++)s[f.up[_]]=[0,-1*r]},_setZoomDelta:function(r){var s=this._zoomKeys={},f=this.keyCodes,_,T;for(_=0,T=f.zoomIn.length;_<T;_++)s[f.zoomIn[_]]=r;for(_=0,T=f.zoomOut.length;_<T;_++)s[f.zoomOut[_]]=-r},_addHooks:function(){It(document,"keydown",this._onKeyDown,this)},_removeHooks:function(){ee(document,"keydown",this._onKeyDown,this)},_onKeyDown:function(r){if(!(r.altKey||r.ctrlKey||r.metaKey)){var s=r.keyCode,f=this._map,_;if(s in this._panKeys){if(!f._panAnim||!f._panAnim._inProgress)if(_=this._panKeys[s],r.shiftKey&&(_=D(_).multiplyBy(3)),f.options.maxBounds&&(_=f._limitOffset(D(_),f.options.maxBounds)),f.options.worldCopyJump){var T=f.wrapLatLng(f.unproject(f.project(f.getCenter()).add(_)));f.panTo(T)}else f.panBy(_)}else if(s in this._zoomKeys)f.setZoom(f.getZoom()+(r.shiftKey?3:1)*this._zoomKeys[s]);else if(s===27&&f._popup&&f._popup.options.closeOnEscapeKey)f.closePopup();else return;sr(r)}}});Yt.addInitHook("addHandler","keyboard",to),Yt.mergeOptions({scrollWheelZoom:!0,wheelDebounceTime:40,wheelPxPerZoomLevel:60});var Ur=Un.extend({addHooks:function(){It(this._map._container,"wheel",this._onWheelScroll,this),this._delta=0},removeHooks:function(){ee(this._map._container,"wheel",this._onWheelScroll,this)},_onWheelScroll:function(r){var s=Ga(r),f=this._map.options.wheelDebounceTime;this._delta+=s,this._lastMousePos=this._map.mouseEventToContainerPoint(r),this._startTime||(this._startTime=+new Date);var _=Math.max(f-(+new Date-this._startTime),0);clearTimeout(this._timer),this._timer=setTimeout(m(this._performZoom,this),_),sr(r)},_performZoom:function(){var r=this._map,s=r.getZoom(),f=this._map.options.zoomSnap||0;r._stop();var _=this._delta/(this._map.options.wheelPxPerZoomLevel*4),T=4*Math.log(2/(1+Math.exp(-Math.abs(_))))/Math.LN2,N=f?Math.ceil(T/f)*f:T,Z=r._limitZoom(s+(this._delta>0?N:-N))-s;this._delta=0,this._startTime=null,Z&&(r.options.scrollWheelZoom==="center"?r.setZoom(s+Z):r.setZoomAround(this._lastMousePos,s+Z))}});Yt.addInitHook("addHandler","scrollWheelZoom",Ur);var el=600;Yt.mergeOptions({tapHold:jt.touchNative&&jt.safari&&jt.mobile,tapTolerance:15});var qo=Un.extend({addHooks:function(){It(this._map._container,"touchstart",this._onDown,this)},removeHooks:function(){ee(this._map._container,"touchstart",this._onDown,this)},_onDown:function(r){if(clearTimeout(this._holdTimeout),r.touches.length===1){var s=r.touches[0];this._startPos=this._newPos=new ot(s.clientX,s.clientY),this._holdTimeout=setTimeout(m(function(){this._cancel(),this._isTapValid()&&(It(document,"touchend",Le),It(document,"touchend touchcancel",this._cancelClickPrevent),this._simulateEvent("contextmenu",s))},this),el),It(document,"touchend touchcancel contextmenu",this._cancel,this),It(document,"touchmove",this._onMove,this)}},_cancelClickPrevent:function r(){ee(document,"touchend",Le),ee(document,"touchend touchcancel",r)},_cancel:function(){clearTimeout(this._holdTimeout),ee(document,"touchend touchcancel contextmenu",this._cancel,this),ee(document,"touchmove",this._onMove,this)},_onMove:function(r){var s=r.touches[0];this._newPos=new ot(s.clientX,s.clientY)},_isTapValid:function(){return this._newPos.distanceTo(this._startPos)<=this._map.options.tapTolerance},_simulateEvent:function(r,s){var f=new MouseEvent(r,{bubbles:!0,cancelable:!0,view:window,screenX:s.screenX,screenY:s.screenY,clientX:s.clientX,clientY:s.clientY});f._simulated=!0,s.target.dispatchEvent(f)}});Yt.addInitHook("addHandler","tapHold",qo),Yt.mergeOptions({touchZoom:jt.touch,bounceAtZoomLimits:!0});var vi=Un.extend({addHooks:function(){Ut(this._map._container,"leaflet-touch-zoom"),It(this._map._container,"touchstart",this._onTouchStart,this)},removeHooks:function(){be(this._map._container,"leaflet-touch-zoom"),ee(this._map._container,"touchstart",this._onTouchStart,this)},_onTouchStart:function(r){var s=this._map;if(!(!r.touches||r.touches.length!==2||s._animatingZoom||this._zooming)){var f=s.mouseEventToContainerPoint(r.touches[0]),_=s.mouseEventToContainerPoint(r.touches[1]);this._centerPoint=s.getSize()._divideBy(2),this._startLatLng=s.containerPointToLatLng(this._centerPoint),s.options.touchZoom!=="center"&&(this._pinchStartLatLng=s.containerPointToLatLng(f.add(_)._divideBy(2))),this._startDist=f.distanceTo(_),this._startZoom=s.getZoom(),this._moved=!1,this._zooming=!0,s._stop(),It(document,"touchmove",this._onTouchMove,this),It(document,"touchend touchcancel",this._onTouchEnd,this),Le(r)}},_onTouchMove:function(r){if(!(!r.touches||r.touches.length!==2||!this._zooming)){var s=this._map,f=s.mouseEventToContainerPoint(r.touches[0]),_=s.mouseEventToContainerPoint(r.touches[1]),T=f.distanceTo(_)/this._startDist;if(this._zoom=s.getScaleZoom(T,this._startZoom),!s.options.bounceAtZoomLimits&&(this._zoom<s.getMinZoom()&&T<1||this._zoom>s.getMaxZoom()&&T>1)&&(this._zoom=s._limitZoom(this._zoom)),s.options.touchZoom==="center"){if(this._center=this._startLatLng,T===1)return}else{var N=f._add(_)._divideBy(2)._subtract(this._centerPoint);if(T===1&&N.x===0&&N.y===0)return;this._center=s.unproject(s.project(this._pinchStartLatLng,this._zoom).subtract(N),this._zoom)}this._moved||(s._moveStart(!0,!1),this._moved=!0),U(this._animRequest);var Z=m(s._move,s,this._center,this._zoom,{pinch:!0,round:!1},void 0);this._animRequest=K(Z,this,!0),Le(r)}},_onTouchEnd:function(){if(!this._moved||!this._zooming){this._zooming=!1;return}this._zooming=!1,U(this._animRequest),ee(document,"touchmove",this._onTouchMove,this),ee(document,"touchend touchcancel",this._onTouchEnd,this),this._map.options.zoomAnimation?this._map._animateZoom(this._center,this._map._limitZoom(this._zoom),!0,this._map.options.zoomSnap):this._map._resetView(this._center,this._map._limitZoom(this._zoom))}});Yt.addInitHook("addHandler","touchZoom",vi),Yt.BoxZoom=Yo,Yt.DoubleClickZoom=cr,Yt.Drag=tl,Yt.Keyboard=to,Yt.ScrollWheelZoom=Ur,Yt.TapHold=qo,Yt.TouchZoom=vi,o.Bounds=G,o.Browser=jt,o.CRS=wt,o.Canvas=Wa,o.Circle=Ws,o.CircleMarker=qa,o.Class=mt,o.Control=pn,o.DivIcon=Js,o.DivOverlay=Yn,o.DomEvent=uf,o.DomUtil=Oc,o.Draggable=Hr,o.Evented=it,o.FeatureGroup=xn,o.GeoJSON=wn,o.GridLayer=mi,o.Handler=Un,o.Icon=Xi,o.ImageOverlay=lr,o.LatLng=lt,o.LatLngBounds=q,o.Layer=Gn,o.LayerGroup=fi,o.LineUtil=Hc,o.Map=Yt,o.Marker=Qi,o.Mixin=pf,o.Path=Sr,o.Point=ot,o.PolyUtil=gf,o.Polygon=Ji,o.Polyline=wr,o.Popup=Xa,o.PosAnimation=Co,o.Projection=Ic,o.Rectangle=Kc,o.Renderer=Vn,o.SVG=$r,o.SVGOverlay=Ir,o.TileLayer=pi,o.Tooltip=Zo,o.Transformation=Wt,o.Util=Q,o.VideoOverlay=Go,o.bind=m,o.bounds=F,o.canvas=Qa,o.circle=Sf,o.circleMarker=Gc,o.control=Ki,o.divIcon=Vc,o.extend=u,o.featureGroup=Ya,o.geoJSON=Uo,o.geoJson=Zc,o.gridLayer=qn,o.icon=Ho,o.imageOverlay=ea,o.latLng=ht,o.latLngBounds=tt,o.layerGroup=Uc,o.map=Za,o.marker=Xs,o.point=D,o.polygon=Sn,o.polyline=wf,o.popup=Tf,o.rectangle=Mn,o.setOptions=O,o.stamp=b,o.svg=bi,o.svgOverlay=qc,o.tileLayer=Tn,o.tooltip=Ef,o.transformation=Pt,o.version=l,o.videoOverlay=Yc;var ia=window.L;o.noConflict=function(){return window.L=ia,this},window.L=o}))})(Fl,Fl.exports)),Fl.exports}var CT=LT();const om=Ds(CT),Vu=t=>t.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#39;");function fo(t){const i=document.getElementById(t);if(!i)throw new Error(`#${t} not found`);return i}function BT(t){const{buttonId:i,buttonInputId:o,modalId:l,closeMapId:u,mapCloseBtnId:d,searchBoxId:m,suggestionsId:p,mapId:b}=t.ids,v=t.initialCenter??{lat:37.5665,lon:126.978},w=fo(o),S=fo(i),x=fo(l),E=fo(d),A=fo(m),O=fo(p),R=u?fo(u):null;let z=null,H=null,k=null;const j=U=>U.code==="Space"||U.key===" "||U.key==="Spacebar"||U.key==="Space",B=U=>{j(U)&&document.activeElement!==A&&(U.preventDefault(),U.stopPropagation(),A.focus())},V=()=>{x.style.display="flex",z?setTimeout(()=>z?.invalidateSize(),200):setTimeout(()=>{z=om.map(b,{keyboard:!1}).setView([v.lat,v.lon],11),om.tileLayer("https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",{attribution:"© OpenStreetMap"}).addTo(z),z.invalidateSize()},0),x.addEventListener("keydown",B,!0),x.addEventListener("keyup",B,!0),A.focus()},J=()=>{x.style.display="none",A.value="",O.innerHTML="",k&&(window.clearTimeout(k),k=null),x.removeEventListener("keydown",B,!0),x.removeEventListener("keyup",B,!0)},W=U=>{const Q=U.dataset.name??"",mt=Number(U.dataset.lat??""),vt=Number(U.dataset.lon??"");!Number.isFinite(mt)||!Number.isFinite(vt)||!z||(H?H.setLatLng([mt,vt]):H=om.marker([mt,vt]).addTo(z),z.flyTo([mt,vt],14,{duration:.5}),w.value=Q,w.dataset.lat=String(mt),w.dataset.lon=String(vt),t.onSelected?.({name:Q,lat:mt,lon:vt}),O.innerHTML="",J())},rt=()=>{k&&window.clearTimeout(k);const U=A.value.trim();if(!U){O.innerHTML="";return}k=window.setTimeout(async()=>{try{const Q="https://nominatim.openstreetmap.org/search?format=jsonv2&limit=12&accept-language=ko&addressdetails=1&dedupe=1&email=unique950318@gmail.com&q="+encodeURIComponent(U),mt=await fetch(Q,{headers:{Accept:"application/json"}});if(!mt.ok)throw new Error(`HTTP ${mt.status}`);const vt=await mt.json();if(!Array.isArray(vt)||vt.length===0){O.innerHTML='<li style="padding:8px">결과 없음</li>';return}const $=vt.slice(0,12).map((it,ot)=>{const I=it.display_name.split(",").slice(0,3).map(F=>F.trim()).join(" · "),D="padding:8px;cursor:pointer;outline:none;",G=ot===0?"background-color:#1f2937;border-radius:4px;":"";return`<li
                    role="option"
                    data-name="${Vu(I)}"
                    data-lat="${Vu(it.lat)}"
                    data-lon="${Vu(it.lon)}"
                    data-active="${ot===0?"1":"0"}"
                    style="${D}${G}"
                  >${Vu(I)}</li>`}).join("");O.innerHTML=$}catch(Q){console.error(Q),O.innerHTML='<li style="padding:8px;color:#b91c1c">검색 오류</li>'}},250)},et=U=>{const Q=U.target;Q.tagName==="LI"&&W(Q)},K=U=>{if(U.key==="Enter"){const Q=O.querySelector('li[data-active="1"]')??O.querySelector("li");Q&&W(Q)}};return S.addEventListener("click",V),E.addEventListener("click",J),R&&R.addEventListener("click",J),A.addEventListener("input",rt),A.addEventListener("keydown",K),O.addEventListener("click",et),()=>{S.removeEventListener("click",V),E.removeEventListener("click",J),R&&R.removeEventListener("click",J),A.removeEventListener("input",rt),A.removeEventListener("keydown",K),O.removeEventListener("click",et),x.removeEventListener("keydown",B,!0),x.removeEventListener("keyup",B,!0),k&&(window.clearTimeout(k),k=null),z&&(z.remove(),z=null)}}function ps(){return document.getElementById("suggestions")}function pd(t){const i=Array.from(t.querySelectorAll('li, [role="option"]'));return i.forEach((o,l)=>{o.getAttribute("role")||o.setAttribute("role","option"),o.setAttribute("aria-selected",o===document.activeElement?"true":"false"),o.tabIndex=-1,o.id||(o.id=`suggestion-item-${l}`)}),i}function Pl(t,i){const o=pd(t);if(o.length===0)return;const l=o.length;let u=i;u<0&&(u=l-1),u>=l&&(u=0),o.forEach(m=>{m.tabIndex=-1,m.setAttribute("aria-selected","false")});const d=o[u];d.tabIndex=0,d.setAttribute("aria-selected","true"),d.focus()}function U_({onSelect:t,placeholderText:i="출생지선택",buttonStyle:o,value:l}){const[u,d]=P.useState(i),[m,p]=P.useState(!1),[b,v]=P.useState(l??""),w=P.useRef(null),S=P.useRef(null),x=P.useRef(null),E=P.useRef(null);return P.useEffect(()=>{l!==void 0&&v(l)},[l]),P.useEffect(()=>{if(!m)return;const A=BT({ids:{buttonInputId:"inputBirthPlace",buttonId:"inputBirthPlaceBtn",modalId:"mapModal",closeMapId:"closeMap",mapCloseBtnId:"mapCloseBtn",searchBoxId:"searchBox",suggestionsId:"suggestions",mapId:"map"},onSelected:rt=>{d("선택완료"),v(rt.name),w.current&&(w.current.value=rt.name),S.current&&(S.current.value=String(rt.lat)),x.current&&(x.current.value=String(rt.lon)),t?.(rt),p(!1)}}),O=document.getElementById("inputBirthPlaceBtn");O&&O.dispatchEvent(new MouseEvent("click",{bubbles:!0}));const R=document.getElementById("mapModal"),z=document.getElementById("searchBox"),H=ps();setTimeout(()=>z?.focus(),0);const k='button, [href], input:not([type="hidden"]), select, textarea, [tabindex]:not([tabindex="-1"])',j=rt=>{if(rt.key==="Escape"){rt.preventDefault(),p(!1);return}if(rt.key!=="Tab")return;const et=ps();if(et&&et.contains(document.activeElement))return;const K=Array.from(R.querySelectorAll(k)).filter(vt=>!vt.hasAttribute("disabled")&&vt.tabIndex!==-1);if(K.length===0)return;const U=K[0],Q=K[K.length-1],mt=document.activeElement;rt.shiftKey?(mt===U||!R.contains(mt))&&(rt.preventDefault(),Q.focus()):(mt===Q||!R.contains(mt))&&(rt.preventDefault(),U.focus())};R.addEventListener("keydown",j);const B=rt=>{if(rt.key!=="ArrowDown")return;const et=ps();!et||pd(et).length===0||(rt.preventDefault(),Pl(et,0))};z?.addEventListener("keydown",B);const V=rt=>{if(rt.target.value.trim()===""){const K=ps();K&&(K.innerHTML="")}};z?.addEventListener("input",V);const J=rt=>{const et=ps();if(!et)return;const K=pd(et);if(K.length===0)return;const U=document.activeElement,Q=U?K.indexOf(U):-1;if(Q===-1)return;const mt=vt=>{rt.preventDefault(),Pl(et,Q+vt)};switch(rt.key){case"Tab":rt.preventDefault(),mt(rt.shiftKey?-1:1);break;case"ArrowDown":rt.preventDefault(),mt(1);break;case"ArrowUp":rt.preventDefault(),mt(-1);break;case"Home":rt.preventDefault(),Pl(et,0);break;case"End":rt.preventDefault(),Pl(et,K.length-1);break;case"Enter":case" ":rt.preventDefault(),U.click();break;case"Backspace":rt.preventDefault(),et.innerHTML="",z?.focus();break}rt.stopPropagation()};let W=null;return H&&(H.addEventListener("keydown",J),W=new MutationObserver(()=>{const rt=ps();!rt||pd(rt).length===0||Pl(rt,0)}),W.observe(H,{childList:!0,subtree:!1})),()=>{R.removeEventListener("keydown",j),z?.removeEventListener("keydown",B),z?.removeEventListener("input",V),H&&H.removeEventListener("keydown",J),W?.disconnect(),A?.()}},[m,t]),P.useEffect(()=>{m||setTimeout(()=>E.current?.focus(),0)},[m]),y.jsxs("li",{className:"flex items-center gap-2",children:[y.jsx("input",{className:`w-[60%] desk:w-[70%] mr-2 border rounded-lg p-2
                   bg-white dark:bg-neutral-900
                   border-neutral-300 dark:border-neutral-700
                   text-neutral-900 dark:text-neutral-100
                   placeholder-neutral-400 dark:placeholder-neutral-500`,type:"text",id:"inputBirthPlace",readOnly:!0,"aria-readonly":"true",value:b&&b.trim()!==""?b:i}),y.jsx("button",{ref:E,type:"button",id:"inputBirthPlaceBtn",className:"btn_style text-sm desk:text-base w-[calc(40%_-_8px)] desk:w-[calc(30%_-_8px)] p-0",style:o,onClick:()=>p(!0),"aria-haspopup":"dialog","aria-expanded":m,"aria-controls":"mapModal",children:u}),y.jsx("input",{ref:w,type:"hidden",name:"birthPlace_name",defaultValue:""}),y.jsx("input",{ref:S,type:"hidden",name:"birthPlace_lat",defaultValue:""}),y.jsx("input",{ref:x,type:"hidden",name:"birthPlace_lon",defaultValue:""}),m&&y.jsx("div",{id:"mapModal",role:"dialog","aria-modal":"true","aria-labelledby":"mapModalTitle",className:"fixed inset-0 z-[999] flex items-center justify-center bg-black/40 dark:bg-black/60 p-4",children:y.jsxs("div",{className:`w-[96vw] desk:w-[920px] rounded-2xl shadow-2xl overflow-hidden flex flex-col
                          bg-white dark:bg-neutral-950
                          text-neutral-900 dark:text-neutral-100
                          border border-neutral-200 dark:border-neutral-800`,children:[y.jsxs("div",{className:"flex items-center justify-between px-4 py-3 border-b border-neutral-200 dark:border-neutral-800",children:[y.jsx("div",{id:"mapModalTitle",className:"font-bold",children:"출생지선택"}),y.jsx("button",{id:"mapCloseBtn","aria-label":"닫기",className:"text-xl hover:opacity-70 cursor-pointer",onClick:()=>p(!1),children:"✕"})]}),y.jsxs("div",{className:"relative grid gap-2 px-3 py-3 border-t border-neutral-200 dark:border-neutral-800",children:[y.jsx("label",{htmlFor:"searchBox",className:"text-xs text-neutral-500 dark:text-neutral-400",children:"도시/지역 검색"}),y.jsxs("div",{className:"relative",children:[y.jsx("input",{id:"searchBox",placeholder:"예: 서울 강남구 / seoul / 도쿄도 / tokyo",className:`h-10 w-full rounded-lg border px-3 outline-none
                             bg-white dark:bg-neutral-900
                             border-neutral-300 dark:border-neutral-700
                             placeholder-neutral-400 dark:placeholder-neutral-500
                             text-neutral-900 dark:text-neutral-100
                             focus:border-neutral-400 dark:focus:border-neutral-600`,autoComplete:"off"}),y.jsx("ul",{id:"suggestions",role:"listbox","aria-label":"자동완성 목록",className:`absolute left-0 right-0 mt-1 max-h-60 overflow-y-auto rounded-lg border shadow-xl z-[1005]
                             bg-white dark:bg-neutral-900
                             border-neutral-200 dark:border-neutral-700
                             text-neutral-900 dark:text-neutral-100
                             divide-y divide-neutral-200 dark:divide-neutral-800`})]})]}),y.jsx("div",{className:"relative h-[250px] desk:h-[360px] border-y border-neutral-200 dark:border-neutral-800",children:y.jsx("div",{id:"map",className:"h-full w-full"})}),y.jsxs("div",{className:"gap-2 p-3",children:[y.jsxs("div",{id:"footerHint",className:"pr-2 text-xs text-neutral-600 dark:text-neutral-300 flex-1",children:[y.jsxs("p",{className:"flex mb-1",children:[y.jsx("span",{className:"mr-1",children:"*"}),y.jsx("span",{children:"지도에서 검색하여, 목록에서 선택하세요."})]}),y.jsxs("p",{className:"flex",children:[y.jsx("span",{className:"mr-1",children:"*"}),y.jsx("span",{children:"해외를 검색할 경우 지도가 안 뜰 수 있으나, 선택만 눌러주시면 됩니다."})]})]}),y.jsx("button",{id:"closeMap",style:{display:"none"},"aria-hidden":"true",tabIndex:-1})]})]})})]})}var hc=E_();const RT=Ds(hc);function An(t){return`Minified Redux error #${t}; visit https://redux.js.org/Errors?code=${t} for the full message or use the non-minified dev environment for full errors. `}var PT=typeof Symbol=="function"&&Symbol.observable||"@@observable",yv=PT,_v=()=>Math.random().toString(36).substring(7).split("").join("."),zT={INIT:`@@redux/INIT${_v()}`,REPLACE:`@@redux/REPLACE${_v()}`},xv=zT;function HT(t){if(typeof t!="object"||t===null)return!1;let i=t;for(;Object.getPrototypeOf(i)!==null;)i=Object.getPrototypeOf(i);return Object.getPrototypeOf(t)===i||Object.getPrototypeOf(t)===null}function G_(t,i,o){if(typeof t!="function")throw new Error(An(2));if(typeof i=="function"&&typeof o=="function"||typeof o=="function"&&typeof arguments[3]=="function")throw new Error(An(0));if(typeof i=="function"&&typeof o>"u"&&(o=i,i=void 0),typeof o<"u"){if(typeof o!="function")throw new Error(An(1));return o(G_)(t,i)}let l=t,u=i,d=new Map,m=d,p=0,b=!1;function v(){m===d&&(m=new Map,d.forEach((R,z)=>{m.set(z,R)}))}function w(){if(b)throw new Error(An(3));return u}function S(R){if(typeof R!="function")throw new Error(An(4));if(b)throw new Error(An(5));let z=!0;v();const H=p++;return m.set(H,R),function(){if(z){if(b)throw new Error(An(6));z=!1,v(),m.delete(H),d=null}}}function x(R){if(!HT(R))throw new Error(An(7));if(typeof R.type>"u")throw new Error(An(8));if(typeof R.type!="string")throw new Error(An(17));if(b)throw new Error(An(9));try{b=!0,u=l(u,R)}finally{b=!1}return(d=m).forEach(H=>{H()}),R}function E(R){if(typeof R!="function")throw new Error(An(10));l=R,x({type:xv.REPLACE})}function A(){const R=S;return{subscribe(z){if(typeof z!="object"||z===null)throw new Error(An(11));function H(){const j=z;j.next&&j.next(w())}return H(),{unsubscribe:R(H)}},[yv](){return this}}}return x({type:xv.INIT}),{dispatch:x,subscribe:S,getState:w,replaceReducer:E,[yv]:A}}function Sv(t,i){return function(...o){return i(t.apply(this,o))}}function wv(t,i){if(typeof t=="function")return Sv(t,i);if(typeof t!="object"||t===null)throw new Error(An(16));const o={};for(const l in t){const u=t[l];typeof u=="function"&&(o[l]=Sv(u,i))}return o}function Z_(...t){return t.length===0?i=>i:t.length===1?t[0]:t.reduce((i,o)=>(...l)=>i(o(...l)))}function IT(...t){return i=>(o,l)=>{const u=i(o,l);let d=()=>{throw new Error(An(15))};const m={getState:u.getState,dispatch:(b,...v)=>d(b,...v)},p=t.map(b=>b(m));return d=Z_(...p)(u.dispatch),{...u,dispatch:d}}}var sm={exports:{}},lm={};/**
 * @license React
 * use-sync-external-store-with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Tv;function $T(){if(Tv)return lm;Tv=1;var t=Hd();function i(b,v){return b===v&&(b!==0||1/b===1/v)||b!==b&&v!==v}var o=typeof Object.is=="function"?Object.is:i,l=t.useSyncExternalStore,u=t.useRef,d=t.useEffect,m=t.useMemo,p=t.useDebugValue;return lm.useSyncExternalStoreWithSelector=function(b,v,w,S,x){var E=u(null);if(E.current===null){var A={hasValue:!1,value:null};E.current=A}else A=E.current;E=m(function(){function R(B){if(!z){if(z=!0,H=B,B=S(B),x!==void 0&&A.hasValue){var V=A.value;if(x(V,B))return k=V}return k=B}if(V=k,o(H,B))return V;var J=S(B);return x!==void 0&&x(V,J)?(H=B,V):(H=B,k=J)}var z=!1,H,k,j=w===void 0?null:w;return[function(){return R(v())},j===null?void 0:function(){return R(j())}]},[v,w,S,x]);var O=l(b,E[0],E[1]);return d(function(){A.hasValue=!0,A.value=O},[O]),p(O),O},lm}var Ev;function UT(){return Ev||(Ev=1,sm.exports=$T()),sm.exports}UT();var GT=P.version.startsWith("19"),ZT=Symbol.for(GT?"react.transitional.element":"react.element"),YT=Symbol.for("react.portal"),qT=Symbol.for("react.fragment"),VT=Symbol.for("react.strict_mode"),KT=Symbol.for("react.profiler"),FT=Symbol.for("react.consumer"),XT=Symbol.for("react.context"),Y_=Symbol.for("react.forward_ref"),WT=Symbol.for("react.suspense"),QT=Symbol.for("react.suspense_list"),Ep=Symbol.for("react.memo"),JT=Symbol.for("react.lazy"),tE=Y_,eE=Ep;function nE(t){if(typeof t=="object"&&t!==null){const{$$typeof:i}=t;switch(i){case ZT:switch(t=t.type,t){case qT:case KT:case VT:case WT:case QT:return t;default:switch(t=t&&t.$$typeof,t){case XT:case Y_:case JT:case Ep:return t;case FT:return t;default:return i}}case YT:return i}}}function rE(t){return nE(t)===Ep}function iE(t,i,o,l,{areStatesEqual:u,areOwnPropsEqual:d,areStatePropsEqual:m}){let p=!1,b,v,w,S,x;function E(H,k){return b=H,v=k,w=t(b,v),S=i(l,v),x=o(w,S,v),p=!0,x}function A(){return w=t(b,v),i.dependsOnOwnProps&&(S=i(l,v)),x=o(w,S,v),x}function O(){return t.dependsOnOwnProps&&(w=t(b,v)),i.dependsOnOwnProps&&(S=i(l,v)),x=o(w,S,v),x}function R(){const H=t(b,v),k=!m(H,w);return w=H,k&&(x=o(w,S,v)),x}function z(H,k){const j=!d(k,v),B=!u(H,b,k,v);return b=H,v=k,j&&B?A():j?O():B?R():x}return function(k,j){return p?z(k,j):E(k,j)}}function aE(t,{initMapStateToProps:i,initMapDispatchToProps:o,initMergeProps:l,...u}){const d=i(t,u),m=o(t,u),p=l(t,u);return iE(d,m,p,t,u)}function oE(t,i){const o={};for(const l in t){const u=t[l];typeof u=="function"&&(o[l]=(...d)=>i(u(...d)))}return o}function tp(t){return function(o){const l=t(o);function u(){return l}return u.dependsOnOwnProps=!1,u}}function Mv(t){return t.dependsOnOwnProps?!!t.dependsOnOwnProps:t.length!==1}function q_(t,i){return function(l,{displayName:u}){const d=function(p,b){return d.dependsOnOwnProps?d.mapToProps(p,b):d.mapToProps(p,void 0)};return d.dependsOnOwnProps=!0,d.mapToProps=function(p,b){d.mapToProps=t,d.dependsOnOwnProps=Mv(t);let v=d(p,b);return typeof v=="function"&&(d.mapToProps=v,d.dependsOnOwnProps=Mv(v),v=d(p,b)),v},d}}function Mp(t,i){return(o,l)=>{throw new Error(`Invalid value of type ${typeof t} for ${i} argument when connecting component ${l.wrappedComponentName}.`)}}function sE(t){return t&&typeof t=="object"?tp(i=>oE(t,i)):t?typeof t=="function"?q_(t):Mp(t,"mapDispatchToProps"):tp(i=>({dispatch:i}))}function lE(t){return t?typeof t=="function"?q_(t):Mp(t,"mapStateToProps"):tp(()=>({}))}function cE(t,i,o){return{...o,...t,...i}}function uE(t){return function(o,{displayName:l,areMergedPropsEqual:u}){let d=!1,m;return function(b,v,w){const S=t(b,v,w);return d?u(S,m)||(m=S):(d=!0,m=S),m}}}function dE(t){return t?typeof t=="function"?uE(t):Mp(t,"mergeProps"):()=>cE}function fE(t){t()}function hE(){let t=null,i=null;return{clear(){t=null,i=null},notify(){fE(()=>{let o=t;for(;o;)o.callback(),o=o.next})},get(){const o=[];let l=t;for(;l;)o.push(l),l=l.next;return o},subscribe(o){let l=!0;const u=i={callback:o,next:null,prev:i};return u.prev?u.prev.next=u:t=u,function(){!l||t===null||(l=!1,u.next?u.next.prev=u.prev:i=u.prev,u.prev?u.prev.next=u.next:t=u.next)}}}}var Dv={notify(){},get:()=>[]};function V_(t,i){let o,l=Dv,u=0,d=!1;function m(O){w();const R=l.subscribe(O);let z=!1;return()=>{z||(z=!0,R(),S())}}function p(){l.notify()}function b(){A.onStateChange&&A.onStateChange()}function v(){return d}function w(){u++,o||(o=i?i.addNestedSub(b):t.subscribe(b),l=hE())}function S(){u--,o&&u===0&&(o(),o=void 0,l.clear(),l=Dv)}function x(){d||(d=!0,w())}function E(){d&&(d=!1,S())}const A={addNestedSub:m,notifyNestedSubs:p,handleChangeWrapper:b,isSubscribed:v,trySubscribe:x,tryUnsubscribe:E,getListeners:()=>l};return A}var mE=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",pE=mE(),gE=()=>typeof navigator<"u"&&navigator.product==="ReactNative",bE=gE(),vE=()=>pE||bE?P.useLayoutEffect:P.useEffect,xd=vE();function Av(t,i){return t===i?t!==0||i!==0||1/t===1/i:t!==t&&i!==i}function cm(t,i){if(Av(t,i))return!0;if(typeof t!="object"||t===null||typeof i!="object"||i===null)return!1;const o=Object.keys(t),l=Object.keys(i);if(o.length!==l.length)return!1;for(let u=0;u<o.length;u++)if(!Object.prototype.hasOwnProperty.call(i,o[u])||!Av(t[o[u]],i[o[u]]))return!1;return!0}var yE={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},_E={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},xE={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},K_={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},SE={[tE]:xE,[eE]:K_};function Nv(t){return rE(t)?K_:SE[t.$$typeof]||yE}var wE=Object.defineProperty,TE=Object.getOwnPropertyNames,Ov=Object.getOwnPropertySymbols,EE=Object.getOwnPropertyDescriptor,ME=Object.getPrototypeOf,jv=Object.prototype;function ep(t,i){if(typeof i!="string"){if(jv){const d=ME(i);d&&d!==jv&&ep(t,d)}let o=TE(i);Ov&&(o=o.concat(Ov(i)));const l=Nv(t),u=Nv(i);for(let d=0;d<o.length;++d){const m=o[d];if(!_E[m]&&!(u&&u[m])&&!(l&&l[m])){const p=EE(i,m);try{wE(t,m,p)}catch{}}}}return t}var DE=Symbol.for("react-redux-context"),AE=typeof globalThis<"u"?globalThis:{};function NE(){if(!P.createContext)return{};const t=AE[DE]??=new Map;let i=t.get(P.createContext);return i||(i=P.createContext(null),t.set(P.createContext,i)),i}var F_=NE(),OE=[null,null];function jE(t,i,o){xd(()=>t(...i),o)}function kE(t,i,o,l,u,d){t.current=l,o.current=!1,u.current&&(u.current=null,d())}function LE(t,i,o,l,u,d,m,p,b,v,w){if(!t)return()=>{};let S=!1,x=null;const E=()=>{if(S||!p.current)return;const O=i.getState();let R,z;try{R=l(O,u.current)}catch(H){z=H,x=H}z||(x=null),R===d.current?m.current||v():(d.current=R,b.current=R,m.current=!0,w())};return o.onStateChange=E,o.trySubscribe(),E(),()=>{if(S=!0,o.tryUnsubscribe(),o.onStateChange=null,x)throw x}}function CE(t,i){return t===i}function BE(t,i,o,{pure:l,areStatesEqual:u=CE,areOwnPropsEqual:d=cm,areStatePropsEqual:m=cm,areMergedPropsEqual:p=cm,forwardRef:b=!1,context:v=F_}={}){const w=v,S=lE(t),x=sE(i),E=dE(o),A=!!t;return R=>{const z=R.displayName||R.name||"Component",H=`Connect(${z})`,k={shouldHandleStateChanges:A,displayName:H,wrappedComponentName:z,WrappedComponent:R,initMapStateToProps:S,initMapDispatchToProps:x,initMergeProps:E,areStatesEqual:u,areStatePropsEqual:m,areOwnPropsEqual:d,areMergedPropsEqual:p};function j(J){const[W,rt,et]=P.useMemo(()=>{const{reactReduxForwardedRef:Pt,...Bt}=J;return[J.context,Pt,Bt]},[J]),K=P.useMemo(()=>{let Pt=w;return W?.Consumer,Pt},[W,w]),U=P.useContext(K),Q=!!J.store&&!!J.store.getState&&!!J.store.dispatch,mt=!!U&&!!U.store,vt=Q?J.store:U.store,$=mt?U.getServerState:vt.getState,it=P.useMemo(()=>aE(vt.dispatch,k),[vt]),[ot,I]=P.useMemo(()=>{if(!A)return OE;const Pt=V_(vt,Q?void 0:U.subscription),Bt=Pt.notifyNestedSubs.bind(Pt);return[Pt,Bt]},[vt,Q,U]),D=P.useMemo(()=>Q?U:{...U,subscription:ot},[Q,U,ot]),G=P.useRef(void 0),F=P.useRef(et),q=P.useRef(void 0),tt=P.useRef(!1),lt=P.useRef(!1),ht=P.useRef(void 0);xd(()=>(lt.current=!0,()=>{lt.current=!1}),[]);const wt=P.useMemo(()=>()=>q.current&&et===F.current?q.current:it(vt.getState(),et),[vt,et]),bt=P.useMemo(()=>Bt=>ot?LE(A,vt,ot,it,F,G,tt,lt,q,I,Bt):()=>{},[ot]);jE(kE,[F,G,tt,et,q,I]);let Tt;try{Tt=P.useSyncExternalStore(bt,wt,$?()=>it($(),et):wt)}catch(Pt){throw ht.current&&(Pt.message+=`
The error may be correlated with this previous error:
${ht.current.stack}

`),Pt}xd(()=>{ht.current=void 0,q.current=void 0,G.current=Tt});const $t=P.useMemo(()=>P.createElement(R,{...Tt,ref:rt}),[rt,R,Tt]);return P.useMemo(()=>A?P.createElement(K.Provider,{value:D},$t):$t,[K,$t,D])}const V=P.memo(j);if(V.WrappedComponent=R,V.displayName=j.displayName=H,b){const W=P.forwardRef(function(et,K){return P.createElement(V,{...et,reactReduxForwardedRef:K})});return W.displayName=H,W.WrappedComponent=R,ep(W,R)}return ep(V,R)}}var X_=BE;function RE(t){const{children:i,context:o,serverState:l,store:u}=t,d=P.useMemo(()=>{const b=V_(u);return{store:u,subscription:b,getServerState:l?()=>l:void 0}},[u,l]),m=P.useMemo(()=>u.getState(),[u]);xd(()=>{const{subscription:b}=d;return b.onStateChange=b.notifyNestedSubs,b.trySubscribe(),m!==u.getState()&&b.notifyNestedSubs(),()=>{b.tryUnsubscribe(),b.onStateChange=void 0}},[d,m]);const p=o||F_;return P.createElement(p.Provider,{value:d},i)}var PE=RE,zE="Invariant failed";function HE(t,i){throw new Error(zE)}var jr=function(i){var o=i.top,l=i.right,u=i.bottom,d=i.left,m=l-d,p=u-o,b={top:o,right:l,bottom:u,left:d,width:m,height:p,x:d,y:o,center:{x:(l+d)/2,y:(u+o)/2}};return b},Dp=function(i,o){return{top:i.top-o.top,left:i.left-o.left,bottom:i.bottom+o.bottom,right:i.right+o.right}},kv=function(i,o){return{top:i.top+o.top,left:i.left+o.left,bottom:i.bottom-o.bottom,right:i.right-o.right}},IE=function(i,o){return{top:i.top+o.y,left:i.left+o.x,bottom:i.bottom+o.y,right:i.right+o.x}},um={top:0,right:0,bottom:0,left:0},Ap=function(i){var o=i.borderBox,l=i.margin,u=l===void 0?um:l,d=i.border,m=d===void 0?um:d,p=i.padding,b=p===void 0?um:p,v=jr(Dp(o,u)),w=jr(kv(o,m)),S=jr(kv(w,b));return{marginBox:v,borderBox:jr(o),paddingBox:w,contentBox:S,margin:u,border:m,padding:b}},mr=function(i){var o=i.slice(0,-2),l=i.slice(-2);if(l!=="px")return 0;var u=Number(o);return isNaN(u)&&HE(),u},$E=function(){return{x:window.pageXOffset,y:window.pageYOffset}},Sd=function(i,o){var l=i.borderBox,u=i.border,d=i.margin,m=i.padding,p=IE(l,o);return Ap({borderBox:p,border:u,margin:d,padding:m})},wd=function(i,o){return o===void 0&&(o=$E()),Sd(i,o)},W_=function(i,o){var l={top:mr(o.marginTop),right:mr(o.marginRight),bottom:mr(o.marginBottom),left:mr(o.marginLeft)},u={top:mr(o.paddingTop),right:mr(o.paddingRight),bottom:mr(o.paddingBottom),left:mr(o.paddingLeft)},d={top:mr(o.borderTopWidth),right:mr(o.borderRightWidth),bottom:mr(o.borderBottomWidth),left:mr(o.borderLeftWidth)};return Ap({borderBox:i,margin:l,padding:u,border:d})},Q_=function(i){var o=i.getBoundingClientRect(),l=window.getComputedStyle(i);return W_(o,l)},rc=function(i){var o=[],l=null,u=function(){for(var m=arguments.length,p=new Array(m),b=0;b<m;b++)p[b]=arguments[b];o=p,!l&&(l=requestAnimationFrame(function(){l=null,i.apply(void 0,o)}))};return u.cancel=function(){l&&(cancelAnimationFrame(l),l=null)},u};function Td(){return Td=Object.assign?Object.assign.bind():function(t){for(var i=1;i<arguments.length;i++){var o=arguments[i];for(var l in o)({}).hasOwnProperty.call(o,l)&&(t[l]=o[l])}return t},Td.apply(null,arguments)}function J_(t,i){}J_.bind(null,"warn");J_.bind(null,"error");function ja(){}function UE(t,i){return{...t,...i}}function gr(t,i,o){const l=i.map(u=>{const d=UE(o,u.options);return t.addEventListener(u.eventName,u.fn,d),function(){t.removeEventListener(u.eventName,u.fn,d)}});return function(){l.forEach(d=>{d()})}}const GE="Invariant failed";class Ed extends Error{}Ed.prototype.toString=function(){return this.message};function St(t,i){throw new Ed(GE)}class ZE extends Te.Component{constructor(...i){super(...i),this.callbacks=null,this.unbind=ja,this.onWindowError=o=>{const l=this.getCallbacks();l.isDragging()&&l.tryAbort(),o.error instanceof Ed&&o.preventDefault()},this.getCallbacks=()=>{if(!this.callbacks)throw new Error("Unable to find AppCallbacks in <ErrorBoundary/>");return this.callbacks},this.setCallbacks=o=>{this.callbacks=o}}componentDidMount(){this.unbind=gr(window,[{eventName:"error",fn:this.onWindowError}])}componentDidCatch(i){if(i instanceof Ed){this.setState({});return}throw i}componentWillUnmount(){this.unbind()}render(){return this.props.children(this.setCallbacks)}}const YE=`
  Press space bar to start a drag.
  When dragging you can use the arrow keys to move the item around and escape to cancel.
  Some screen readers may require you to be in focus mode or to use your pass through key
`,Md=t=>t+1,qE=t=>`
  You have lifted an item in position ${Md(t.source.index)}
`,tx=(t,i)=>{const o=t.droppableId===i.droppableId,l=Md(t.index),u=Md(i.index);return o?`
      You have moved the item from position ${l}
      to position ${u}
    `:`
    You have moved the item from position ${l}
    in list ${t.droppableId}
    to list ${i.droppableId}
    in position ${u}
  `},ex=(t,i,o)=>i.droppableId===o.droppableId?`
      The item ${t}
      has been combined with ${o.draggableId}`:`
      The item ${t}
      in list ${i.droppableId}
      has been combined with ${o.draggableId}
      in list ${o.droppableId}
    `,VE=t=>{const i=t.destination;if(i)return tx(t.source,i);const o=t.combine;return o?ex(t.draggableId,t.source,o):"You are over an area that cannot be dropped on"},Lv=t=>`
  The item has returned to its starting position
  of ${Md(t.index)}
`,KE=t=>{if(t.reason==="CANCEL")return`
      Movement cancelled.
      ${Lv(t.source)}
    `;const i=t.destination,o=t.combine;return i?`
      You have dropped the item.
      ${tx(t.source,i)}
    `:o?`
      You have dropped the item.
      ${ex(t.draggableId,t.source,o)}
    `:`
    The item has been dropped while not over a drop area.
    ${Lv(t.source)}
  `},gd={dragHandleUsageInstructions:YE,onDragStart:qE,onDragUpdate:VE,onDragEnd:KE};function FE(t,i){return!!(t===i||Number.isNaN(t)&&Number.isNaN(i))}function nx(t,i){if(t.length!==i.length)return!1;for(let o=0;o<t.length;o++)if(!FE(t[o],i[o]))return!1;return!0}function te(t,i){const o=P.useState(()=>({inputs:i,result:t()}))[0],l=P.useRef(!0),u=P.useRef(o),m=l.current||!!(i&&u.current.inputs&&nx(i,u.current.inputs))?u.current:{inputs:i,result:t()};return P.useEffect(()=>{l.current=!1,u.current=m},[m]),m.result}function Lt(t,i){return te(()=>t,i)}const nn={x:0,y:0},fn=(t,i)=>({x:t.x+i.x,y:t.y+i.y}),tr=(t,i)=>({x:t.x-i.x,y:t.y-i.y}),ka=(t,i)=>t.x===i.x&&t.y===i.y,As=t=>({x:t.x!==0?-t.x:0,y:t.y!==0?-t.y:0}),xo=(t,i,o=0)=>t==="x"?{x:i,y:o}:{x:o,y:i},ic=(t,i)=>Math.sqrt((i.x-t.x)**2+(i.y-t.y)**2),Cv=(t,i)=>Math.min(...i.map(o=>ic(t,o))),rx=t=>i=>({x:t(i.x),y:t(i.y)});var XE=(t,i)=>{const o=jr({top:Math.max(i.top,t.top),right:Math.min(i.right,t.right),bottom:Math.min(i.bottom,t.bottom),left:Math.max(i.left,t.left)});return o.width<=0||o.height<=0?null:o};const mc=(t,i)=>({top:t.top+i.y,left:t.left+i.x,bottom:t.bottom+i.y,right:t.right+i.x}),Bv=t=>[{x:t.left,y:t.top},{x:t.right,y:t.top},{x:t.left,y:t.bottom},{x:t.right,y:t.bottom}],WE={top:0,right:0,bottom:0,left:0},QE=(t,i)=>i?mc(t,i.scroll.diff.displacement):t,JE=(t,i,o)=>o&&o.increasedBy?{...t,[i.end]:t[i.end]+o.increasedBy[i.line]}:t,t3=(t,i)=>i&&i.shouldClipSubject?XE(i.pageMarginBox,t):jr(t);var ws=({page:t,withPlaceholder:i,axis:o,frame:l})=>{const u=QE(t.marginBox,l),d=JE(u,o,i),m=t3(d,l);return{page:t,withPlaceholder:i,active:m}},Np=(t,i)=>{t.frame||St();const o=t.frame,l=tr(i,o.scroll.initial),u=As(l),d={...o,scroll:{initial:o.scroll.initial,current:i,diff:{value:l,displacement:u},max:o.scroll.max}},m=ws({page:t.subject.page,withPlaceholder:t.subject.withPlaceholder,axis:t.axis,frame:d});return{...t,frame:d,subject:m}};function en(t,i=nx){let o=null;function l(...u){if(o&&o.lastThis===this&&i(u,o.lastArgs))return o.lastResult;const d=t.apply(this,u);return o={lastResult:d,lastArgs:u,lastThis:this},d}return l.clear=function(){o=null},l}const ix=en(t=>t.reduce((i,o)=>(i[o.descriptor.id]=o,i),{})),ax=en(t=>t.reduce((i,o)=>(i[o.descriptor.id]=o,i),{})),Ud=en(t=>Object.values(t)),e3=en(t=>Object.values(t));var Ns=en((t,i)=>e3(i).filter(l=>t===l.descriptor.droppableId).sort((l,u)=>l.descriptor.index-u.descriptor.index));function Op(t){return t.at&&t.at.type==="REORDER"?t.at.destination:null}function Gd(t){return t.at&&t.at.type==="COMBINE"?t.at.combine:null}var Zd=en((t,i)=>i.filter(o=>o.descriptor.id!==t.descriptor.id)),n3=({isMovingForward:t,draggable:i,destination:o,insideDestination:l,previousImpact:u})=>{if(!o.isCombineEnabled||!Op(u))return null;function m(E){const A={type:"COMBINE",combine:{draggableId:E,droppableId:o.descriptor.id}};return{...u,at:A}}const p=u.displaced.all,b=p.length?p[0]:null;if(t)return b?m(b):null;const v=Zd(i,l);if(!b){if(!v.length)return null;const E=v[v.length-1];return m(E.descriptor.id)}const w=v.findIndex(E=>E.descriptor.id===b);w===-1&&St();const S=w-1;if(S<0)return null;const x=v[S];return m(x.descriptor.id)},Os=(t,i)=>t.descriptor.droppableId===i.descriptor.id;const ox={point:nn,value:0},ac={invisible:{},visible:{},all:[]},r3={displaced:ac,displacedBy:ox,at:null};var br=(t,i)=>o=>t<=o&&o<=i,sx=t=>{const i=br(t.top,t.bottom),o=br(t.left,t.right);return l=>{if(i(l.top)&&i(l.bottom)&&o(l.left)&&o(l.right))return!0;const d=i(l.top)||i(l.bottom),m=o(l.left)||o(l.right);if(d&&m)return!0;const b=l.top<t.top&&l.bottom>t.bottom,v=l.left<t.left&&l.right>t.right;return b&&v?!0:b&&m||v&&d}},i3=t=>{const i=br(t.top,t.bottom),o=br(t.left,t.right);return l=>i(l.top)&&i(l.bottom)&&o(l.left)&&o(l.right)};const jp={direction:"vertical",line:"y",crossAxisLine:"x",start:"top",end:"bottom",size:"height",crossAxisStart:"left",crossAxisEnd:"right",crossAxisSize:"width"},lx={direction:"horizontal",line:"x",crossAxisLine:"y",start:"left",end:"right",size:"width",crossAxisStart:"top",crossAxisEnd:"bottom",crossAxisSize:"height"};var a3=t=>i=>{const o=br(i.top,i.bottom),l=br(i.left,i.right);return u=>t===jp?o(u.top)&&o(u.bottom):l(u.left)&&l(u.right)};const o3=(t,i)=>{const o=i.frame?i.frame.scroll.diff.displacement:nn;return mc(t,o)},s3=(t,i,o)=>i.subject.active?o(i.subject.active)(t):!1,l3=(t,i,o)=>o(i)(t),kp=({target:t,destination:i,viewport:o,withDroppableDisplacement:l,isVisibleThroughFrameFn:u})=>{const d=l?o3(t,i):t;return s3(d,i,u)&&l3(d,o,u)},c3=t=>kp({...t,isVisibleThroughFrameFn:sx}),cx=t=>kp({...t,isVisibleThroughFrameFn:i3}),u3=t=>kp({...t,isVisibleThroughFrameFn:a3(t.destination.axis)}),d3=(t,i,o)=>{if(typeof o=="boolean")return o;if(!i)return!0;const{invisible:l,visible:u}=i;if(l[t])return!1;const d=u[t];return d?d.shouldAnimate:!0};function f3(t,i){const o=t.page.marginBox,l={top:i.point.y,right:0,bottom:0,left:i.point.x};return jr(Dp(o,l))}function oc({afterDragging:t,destination:i,displacedBy:o,viewport:l,forceShouldAnimate:u,last:d}){return t.reduce(function(p,b){const v=f3(b,o),w=b.descriptor.id;if(p.all.push(w),!c3({target:v,destination:i,viewport:l,withDroppableDisplacement:!0}))return p.invisible[b.descriptor.id]=!0,p;const x=d3(w,d,u),E={draggableId:w,shouldAnimate:x};return p.visible[w]=E,p},{all:[],visible:{},invisible:{}})}function h3(t,i){if(!t.length)return 0;const o=t[t.length-1].descriptor.index;return i.inHomeList?o:o+1}function Rv({insideDestination:t,inHomeList:i,displacedBy:o,destination:l}){const u=h3(t,{inHomeList:i});return{displaced:ac,displacedBy:o,at:{type:"REORDER",destination:{droppableId:l.descriptor.id,index:u}}}}function Dd({draggable:t,insideDestination:i,destination:o,viewport:l,displacedBy:u,last:d,index:m,forceShouldAnimate:p}){const b=Os(t,o);if(m==null)return Rv({insideDestination:i,inHomeList:b,displacedBy:u,destination:o});const v=i.find(A=>A.descriptor.index===m);if(!v)return Rv({insideDestination:i,inHomeList:b,displacedBy:u,destination:o});const w=Zd(t,i),S=i.indexOf(v),x=w.slice(S);return{displaced:oc({afterDragging:x,destination:o,displacedBy:u,last:d,viewport:l.frame,forceShouldAnimate:p}),displacedBy:u,at:{type:"REORDER",destination:{droppableId:o.descriptor.id,index:m}}}}function La(t,i){return!!i.effected[t]}var m3=({isMovingForward:t,destination:i,draggables:o,combine:l,afterCritical:u})=>{if(!i.isCombineEnabled)return null;const d=l.draggableId,p=o[d].descriptor.index;return La(d,u)?t?p:p-1:t?p+1:p},p3=({isMovingForward:t,isInHomeList:i,insideDestination:o,location:l})=>{if(!o.length)return null;const u=l.index,d=t?u+1:u-1,m=o[0].descriptor.index,p=o[o.length-1].descriptor.index,b=i?p:p+1;return d<m||d>b?null:d},g3=({isMovingForward:t,isInHomeList:i,draggable:o,draggables:l,destination:u,insideDestination:d,previousImpact:m,viewport:p,afterCritical:b})=>{const v=m.at;if(v||St(),v.type==="REORDER"){const S=p3({isMovingForward:t,isInHomeList:i,location:v.destination,insideDestination:d});return S==null?null:Dd({draggable:o,insideDestination:d,destination:u,viewport:p,last:m.displaced,displacedBy:m.displacedBy,index:S})}const w=m3({isMovingForward:t,destination:u,displaced:m.displaced,draggables:l,combine:v.combine,afterCritical:b});return w==null?null:Dd({draggable:o,insideDestination:d,destination:u,viewport:p,last:m.displaced,displacedBy:m.displacedBy,index:w})},b3=({displaced:t,afterCritical:i,combineWith:o,displacedBy:l})=>{const u=!!(t.visible[o]||t.invisible[o]);return La(o,i)?u?nn:As(l.point):u?l.point:nn},v3=({afterCritical:t,impact:i,draggables:o})=>{const l=Gd(i);l||St();const u=l.draggableId,d=o[u].page.borderBox.center,m=b3({displaced:i.displaced,afterCritical:t,combineWith:u,displacedBy:i.displacedBy});return fn(d,m)};const ux=(t,i)=>i.margin[t.start]+i.borderBox[t.size]/2,y3=(t,i)=>i.margin[t.end]+i.borderBox[t.size]/2,Lp=(t,i,o)=>i[t.crossAxisStart]+o.margin[t.crossAxisStart]+o.borderBox[t.crossAxisSize]/2,Pv=({axis:t,moveRelativeTo:i,isMoving:o})=>xo(t.line,i.marginBox[t.end]+ux(t,o),Lp(t,i.marginBox,o)),zv=({axis:t,moveRelativeTo:i,isMoving:o})=>xo(t.line,i.marginBox[t.start]-y3(t,o),Lp(t,i.marginBox,o)),_3=({axis:t,moveInto:i,isMoving:o})=>xo(t.line,i.contentBox[t.start]+ux(t,o),Lp(t,i.contentBox,o));var x3=({impact:t,draggable:i,draggables:o,droppable:l,afterCritical:u})=>{const d=Ns(l.descriptor.id,o),m=i.page,p=l.axis;if(!d.length)return _3({axis:p,moveInto:l.page,isMoving:m});const{displaced:b,displacedBy:v}=t,w=b.all[0];if(w){const x=o[w];if(La(w,u))return zv({axis:p,moveRelativeTo:x.page,isMoving:m});const E=Sd(x.page,v.point);return zv({axis:p,moveRelativeTo:E,isMoving:m})}const S=d[d.length-1];if(S.descriptor.id===i.descriptor.id)return m.borderBox.center;if(La(S.descriptor.id,u)){const x=Sd(S.page,As(u.displacedBy.point));return Pv({axis:p,moveRelativeTo:x,isMoving:m})}return Pv({axis:p,moveRelativeTo:S.page,isMoving:m})},np=(t,i)=>{const o=t.frame;return o?fn(i,o.scroll.diff.displacement):i};const S3=({impact:t,draggable:i,droppable:o,draggables:l,afterCritical:u})=>{const d=i.page.borderBox.center,m=t.at;return!o||!m?d:m.type==="REORDER"?x3({impact:t,draggable:i,draggables:l,droppable:o,afterCritical:u}):v3({impact:t,draggables:l,afterCritical:u})};var Yd=t=>{const i=S3(t),o=t.droppable;return o?np(o,i):i},dx=(t,i)=>{const o=tr(i,t.scroll.initial),l=As(o);return{frame:jr({top:i.y,bottom:i.y+t.frame.height,left:i.x,right:i.x+t.frame.width}),scroll:{initial:t.scroll.initial,max:t.scroll.max,current:i,diff:{value:o,displacement:l}}}};function Hv(t,i){return t.map(o=>i[o])}function w3(t,i){for(let o=0;o<i.length;o++){const l=i[o].visible[t];if(l)return l}return null}var T3=({impact:t,viewport:i,destination:o,draggables:l,maxScrollChange:u})=>{const d=dx(i,fn(i.scroll.current,u)),m=o.frame?Np(o,fn(o.frame.scroll.current,u)):o,p=t.displaced,b=oc({afterDragging:Hv(p.all,l),destination:o,displacedBy:t.displacedBy,viewport:d.frame,last:p,forceShouldAnimate:!1}),v=oc({afterDragging:Hv(p.all,l),destination:m,displacedBy:t.displacedBy,viewport:i.frame,last:p,forceShouldAnimate:!1}),w={},S={},x=[p,b,v];return p.all.forEach(A=>{const O=w3(A,x);if(O){S[A]=O;return}w[A]=!0}),{...t,displaced:{all:p.all,invisible:w,visible:S}}},E3=(t,i)=>fn(t.scroll.diff.displacement,i),Cp=({pageBorderBoxCenter:t,draggable:i,viewport:o})=>{const l=E3(o,t),u=tr(l,i.page.borderBox.center);return fn(i.client.borderBox.center,u)},fx=({draggable:t,destination:i,newPageBorderBoxCenter:o,viewport:l,withDroppableDisplacement:u,onlyOnMainAxis:d=!1})=>{const m=tr(o,t.page.borderBox.center),b={target:mc(t.page.borderBox,m),destination:i,withDroppableDisplacement:u,viewport:l};return d?u3(b):cx(b)},M3=({isMovingForward:t,draggable:i,destination:o,draggables:l,previousImpact:u,viewport:d,previousPageBorderBoxCenter:m,previousClientSelection:p,afterCritical:b})=>{if(!o.isEnabled)return null;const v=Ns(o.descriptor.id,l),w=Os(i,o),S=n3({isMovingForward:t,draggable:i,destination:o,insideDestination:v,previousImpact:u})||g3({isMovingForward:t,isInHomeList:w,draggable:i,draggables:l,destination:o,insideDestination:v,previousImpact:u,viewport:d,afterCritical:b});if(!S)return null;const x=Yd({impact:S,draggable:i,droppable:o,draggables:l,afterCritical:b});if(fx({draggable:i,destination:o,newPageBorderBoxCenter:x,viewport:d.frame,withDroppableDisplacement:!1,onlyOnMainAxis:!0}))return{clientSelection:Cp({pageBorderBoxCenter:x,draggable:i,viewport:d}),impact:S,scrollJumpRequest:null};const A=tr(x,m),O=T3({impact:S,viewport:d,destination:o,draggables:l,maxScrollChange:A});return{clientSelection:p,impact:O,scrollJumpRequest:A}};const Dn=t=>{const i=t.subject.active;return i||St(),i};var D3=({isMovingForward:t,pageBorderBoxCenter:i,source:o,droppables:l,viewport:u})=>{const d=o.subject.active;if(!d)return null;const m=o.axis,p=br(d[m.start],d[m.end]),b=Ud(l).filter(w=>w!==o).filter(w=>w.isEnabled).filter(w=>!!w.subject.active).filter(w=>sx(u.frame)(Dn(w))).filter(w=>{const S=Dn(w);return t?d[m.crossAxisEnd]<S[m.crossAxisEnd]:S[m.crossAxisStart]<d[m.crossAxisStart]}).filter(w=>{const S=Dn(w),x=br(S[m.start],S[m.end]);return p(S[m.start])||p(S[m.end])||x(d[m.start])||x(d[m.end])}).sort((w,S)=>{const x=Dn(w)[m.crossAxisStart],E=Dn(S)[m.crossAxisStart];return t?x-E:E-x}).filter((w,S,x)=>Dn(w)[m.crossAxisStart]===Dn(x[0])[m.crossAxisStart]);if(!b.length)return null;if(b.length===1)return b[0];const v=b.filter(w=>br(Dn(w)[m.start],Dn(w)[m.end])(i[m.line]));return v.length===1?v[0]:v.length>1?v.sort((w,S)=>Dn(w)[m.start]-Dn(S)[m.start])[0]:b.sort((w,S)=>{const x=Cv(i,Bv(Dn(w))),E=Cv(i,Bv(Dn(S)));return x!==E?x-E:Dn(w)[m.start]-Dn(S)[m.start]})[0]};const Iv=(t,i)=>{const o=t.page.borderBox.center;return La(t.descriptor.id,i)?tr(o,i.displacedBy.point):o},A3=(t,i)=>{const o=t.page.borderBox;return La(t.descriptor.id,i)?mc(o,As(i.displacedBy.point)):o};var N3=({pageBorderBoxCenter:t,viewport:i,destination:o,insideDestination:l,afterCritical:u})=>l.filter(m=>cx({target:A3(m,u),destination:o,viewport:i.frame,withDroppableDisplacement:!0})).sort((m,p)=>{const b=ic(t,np(o,Iv(m,u))),v=ic(t,np(o,Iv(p,u)));return b<v?-1:v<b?1:m.descriptor.index-p.descriptor.index})[0]||null,pc=en(function(i,o){const l=o[i.line];return{value:l,point:xo(i.line,l)}});const O3=(t,i,o)=>{const l=t.axis;if(t.descriptor.mode==="virtual")return xo(l.line,i[l.line]);const u=t.subject.page.contentBox[l.size],b=Ns(t.descriptor.id,o).reduce((v,w)=>v+w.client.marginBox[l.size],0)+i[l.line]-u;return b<=0?null:xo(l.line,b)},hx=(t,i)=>({...t,scroll:{...t.scroll,max:i}}),mx=(t,i,o)=>{const l=t.frame;Os(i,t)&&St(),t.subject.withPlaceholder&&St();const u=pc(t.axis,i.displaceBy).point,d=O3(t,u,o),m={placeholderSize:u,increasedBy:d,oldFrameMaxScroll:t.frame?t.frame.scroll.max:null};if(!l){const w=ws({page:t.subject.page,withPlaceholder:m,axis:t.axis,frame:t.frame});return{...t,subject:w}}const p=d?fn(l.scroll.max,d):l.scroll.max,b=hx(l,p),v=ws({page:t.subject.page,withPlaceholder:m,axis:t.axis,frame:b});return{...t,subject:v,frame:b}},j3=t=>{const i=t.subject.withPlaceholder;i||St();const o=t.frame;if(!o){const m=ws({page:t.subject.page,axis:t.axis,frame:null,withPlaceholder:null});return{...t,subject:m}}const l=i.oldFrameMaxScroll;l||St();const u=hx(o,l),d=ws({page:t.subject.page,axis:t.axis,frame:u,withPlaceholder:null});return{...t,subject:d,frame:u}};var k3=({previousPageBorderBoxCenter:t,moveRelativeTo:i,insideDestination:o,draggable:l,draggables:u,destination:d,viewport:m,afterCritical:p})=>{if(!i){if(o.length)return null;const S={displaced:ac,displacedBy:ox,at:{type:"REORDER",destination:{droppableId:d.descriptor.id,index:0}}},x=Yd({impact:S,draggable:l,droppable:d,draggables:u,afterCritical:p}),E=Os(l,d)?d:mx(d,l,u);return fx({draggable:l,destination:E,newPageBorderBoxCenter:x,viewport:m.frame,withDroppableDisplacement:!1,onlyOnMainAxis:!0})?S:null}const b=t[d.axis.line]<=i.page.borderBox.center[d.axis.line],v=(()=>{const S=i.descriptor.index;return i.descriptor.id===l.descriptor.id||b?S:S+1})(),w=pc(d.axis,l.displaceBy);return Dd({draggable:l,insideDestination:o,destination:d,viewport:m,displacedBy:w,last:ac,index:v})},L3=({isMovingForward:t,previousPageBorderBoxCenter:i,draggable:o,isOver:l,draggables:u,droppables:d,viewport:m,afterCritical:p})=>{const b=D3({isMovingForward:t,pageBorderBoxCenter:i,source:l,droppables:d,viewport:m});if(!b)return null;const v=Ns(b.descriptor.id,u),w=N3({pageBorderBoxCenter:i,viewport:m,destination:b,insideDestination:v,afterCritical:p}),S=k3({previousPageBorderBoxCenter:i,destination:b,draggable:o,draggables:u,moveRelativeTo:w,insideDestination:v,viewport:m,afterCritical:p});if(!S)return null;const x=Yd({impact:S,draggable:o,droppable:b,draggables:u,afterCritical:p});return{clientSelection:Cp({pageBorderBoxCenter:x,draggable:o,viewport:m}),impact:S,scrollJumpRequest:null}},er=t=>{const i=t.at;return i?i.type==="REORDER"?i.destination.droppableId:i.combine.droppableId:null};const C3=(t,i)=>{const o=er(t);return o?i[o]:null};var B3=({state:t,type:i})=>{const o=C3(t.impact,t.dimensions.droppables),l=!!o,u=t.dimensions.droppables[t.critical.droppable.id],d=o||u,m=d.axis.direction,p=m==="vertical"&&(i==="MOVE_UP"||i==="MOVE_DOWN")||m==="horizontal"&&(i==="MOVE_LEFT"||i==="MOVE_RIGHT");if(p&&!l)return null;const b=i==="MOVE_DOWN"||i==="MOVE_RIGHT",v=t.dimensions.draggables[t.critical.draggable.id],w=t.current.page.borderBoxCenter,{draggables:S,droppables:x}=t.dimensions;return p?M3({isMovingForward:b,previousPageBorderBoxCenter:w,draggable:v,destination:d,draggables:S,viewport:t.viewport,previousClientSelection:t.current.client.selection,previousImpact:t.impact,afterCritical:t.afterCritical}):L3({isMovingForward:b,previousPageBorderBoxCenter:w,draggable:v,isOver:d,draggables:S,droppables:x,viewport:t.viewport,afterCritical:t.afterCritical})};function bo(t){return t.phase==="DRAGGING"||t.phase==="COLLECTING"}function px(t){const i=br(t.top,t.bottom),o=br(t.left,t.right);return function(u){return i(u.y)&&o(u.x)}}function R3(t,i){return t.left<i.right&&t.right>i.left&&t.top<i.bottom&&t.bottom>i.top}function P3({pageBorderBox:t,draggable:i,candidates:o}){const l=i.page.borderBox.center,u=o.map(d=>{const m=d.axis,p=xo(d.axis.line,t.center[m.line],d.page.borderBox.center[m.crossAxisLine]);return{id:d.descriptor.id,distance:ic(l,p)}}).sort((d,m)=>m.distance-d.distance);return u[0]?u[0].id:null}function z3({pageBorderBox:t,draggable:i,droppables:o}){const l=Ud(o).filter(u=>{if(!u.isEnabled)return!1;const d=u.subject.active;if(!d||!R3(t,d))return!1;if(px(d)(t.center))return!0;const m=u.axis,p=d.center[m.crossAxisLine],b=t[m.crossAxisStart],v=t[m.crossAxisEnd],w=br(d[m.crossAxisStart],d[m.crossAxisEnd]),S=w(b),x=w(v);return!S&&!x?!0:S?b<p:v>p});return l.length?l.length===1?l[0].descriptor.id:P3({pageBorderBox:t,draggable:i,candidates:l}):null}const gx=(t,i)=>jr(mc(t,i));var H3=(t,i)=>{const o=t.frame;return o?gx(i,o.scroll.diff.value):i};function bx({displaced:t,id:i}){return!!(t.visible[i]||t.invisible[i])}function I3({draggable:t,closest:i,inHomeList:o}){return i?o&&i.descriptor.index>t.descriptor.index?i.descriptor.index-1:i.descriptor.index:null}var $3=({pageBorderBoxWithDroppableScroll:t,draggable:i,destination:o,insideDestination:l,last:u,viewport:d,afterCritical:m})=>{const p=o.axis,b=pc(o.axis,i.displaceBy),v=b.value,w=t[p.start],S=t[p.end],E=Zd(i,l).find(O=>{const R=O.descriptor.id,z=O.page.borderBox.center[p.line],H=La(R,m),k=bx({displaced:u,id:R});return H?k?S<=z:w<z-v:k?S<=z+v:w<z})||null,A=I3({draggable:i,closest:E,inHomeList:Os(i,o)});return Dd({draggable:i,insideDestination:l,destination:o,viewport:d,last:u,displacedBy:b,index:A})};const U3=4;var G3=({draggable:t,pageBorderBoxWithDroppableScroll:i,previousImpact:o,destination:l,insideDestination:u,afterCritical:d})=>{if(!l.isCombineEnabled)return null;const m=l.axis,p=pc(l.axis,t.displaceBy),b=p.value,v=i[m.start],w=i[m.end],x=Zd(t,u).find(A=>{const O=A.descriptor.id,R=A.page.borderBox,H=R[m.size]/U3,k=La(O,d),j=bx({displaced:o.displaced,id:O});return k?j?w>R[m.start]+H&&w<R[m.end]-H:v>R[m.start]-b+H&&v<R[m.end]-b-H:j?w>R[m.start]+b+H&&w<R[m.end]+b-H:v>R[m.start]+H&&v<R[m.end]-H});return x?{displacedBy:p,displaced:o.displaced,at:{type:"COMBINE",combine:{draggableId:x.descriptor.id,droppableId:l.descriptor.id}}}:null},vx=({pageOffset:t,draggable:i,draggables:o,droppables:l,previousImpact:u,viewport:d,afterCritical:m})=>{const p=gx(i.page.borderBox,t),b=z3({pageBorderBox:p,draggable:i,droppables:l});if(!b)return r3;const v=l[b],w=Ns(v.descriptor.id,o),S=H3(v,p);return G3({pageBorderBoxWithDroppableScroll:S,draggable:i,previousImpact:u,destination:v,insideDestination:w,afterCritical:m})||$3({pageBorderBoxWithDroppableScroll:S,draggable:i,destination:v,insideDestination:w,last:u.displaced,viewport:d,afterCritical:m})},Bp=(t,i)=>({...t,[i.descriptor.id]:i});const Z3=({previousImpact:t,impact:i,droppables:o})=>{const l=er(t),u=er(i);if(!l||l===u)return o;const d=o[l];if(!d.subject.withPlaceholder)return o;const m=j3(d);return Bp(o,m)};var Y3=({draggable:t,draggables:i,droppables:o,previousImpact:l,impact:u})=>{const d=Z3({previousImpact:l,impact:u,droppables:o}),m=er(u);if(!m)return d;const p=o[m];if(Os(t,p)||p.subject.withPlaceholder)return d;const b=mx(p,t,i);return Bp(d,b)},Wl=({state:t,clientSelection:i,dimensions:o,viewport:l,impact:u,scrollJumpRequest:d})=>{const m=l||t.viewport,p=o||t.dimensions,b=i||t.current.client.selection,v=tr(b,t.initial.client.selection),w={offset:v,selection:b,borderBoxCenter:fn(t.initial.client.borderBoxCenter,v)},S={selection:fn(w.selection,m.scroll.current),borderBoxCenter:fn(w.borderBoxCenter,m.scroll.current),offset:fn(w.offset,m.scroll.diff.value)},x={client:w,page:S};if(t.phase==="COLLECTING")return{...t,dimensions:p,viewport:m,current:x};const E=p.draggables[t.critical.draggable.id],A=u||vx({pageOffset:S.offset,draggable:E,draggables:p.draggables,droppables:p.droppables,previousImpact:t.impact,viewport:m,afterCritical:t.afterCritical}),O=Y3({draggable:E,impact:A,previousImpact:t.impact,draggables:p.draggables,droppables:p.droppables});return{...t,current:x,dimensions:{draggables:p.draggables,droppables:O},impact:A,viewport:m,scrollJumpRequest:d||null,forceShouldAnimate:d?!1:null}};function q3(t,i){return t.map(o=>i[o])}var yx=({impact:t,viewport:i,draggables:o,destination:l,forceShouldAnimate:u})=>{const d=t.displaced,m=q3(d.all,o),p=oc({afterDragging:m,destination:l,displacedBy:t.displacedBy,viewport:i.frame,forceShouldAnimate:u,last:d});return{...t,displaced:p}},_x=({impact:t,draggable:i,droppable:o,draggables:l,viewport:u,afterCritical:d})=>{const m=Yd({impact:t,draggable:i,draggables:l,droppable:o,afterCritical:d});return Cp({pageBorderBoxCenter:m,draggable:i,viewport:u})},xx=({state:t,dimensions:i,viewport:o})=>{t.movementMode!=="SNAP"&&St();const l=t.impact,u=o||t.viewport,d=i||t.dimensions,{draggables:m,droppables:p}=d,b=m[t.critical.draggable.id],v=er(l);v||St();const w=p[v],S=yx({impact:l,viewport:u,destination:w,draggables:m}),x=_x({impact:S,draggable:b,droppable:w,draggables:m,viewport:u,afterCritical:t.afterCritical});return Wl({impact:S,clientSelection:x,state:t,dimensions:d,viewport:u})},V3=t=>({index:t.index,droppableId:t.droppableId}),Sx=({draggable:t,home:i,draggables:o,viewport:l})=>{const u=pc(i.axis,t.displaceBy),d=Ns(i.descriptor.id,o),m=d.indexOf(t);m===-1&&St();const p=d.slice(m+1),b=p.reduce((x,E)=>(x[E.descriptor.id]=!0,x),{}),v={inVirtualList:i.descriptor.mode==="virtual",displacedBy:u,effected:b};return{impact:{displaced:oc({afterDragging:p,destination:i,displacedBy:u,last:null,viewport:l.frame,forceShouldAnimate:!1}),displacedBy:u,at:{type:"REORDER",destination:V3(t.descriptor)}},afterCritical:v}},K3=(t,i)=>({draggables:t.draggables,droppables:Bp(t.droppables,i)}),F3=({draggable:t,offset:i,initialWindowScroll:o})=>{const l=Sd(t.client,i),u=wd(l,o);return{...t,placeholder:{...t.placeholder,client:l},client:l,page:u}},X3=t=>{const i=t.frame;return i||St(),i},W3=({additions:t,updatedDroppables:i,viewport:o})=>{const l=o.scroll.diff.value;return t.map(u=>{const d=u.descriptor.droppableId,m=i[d],b=X3(m).scroll.diff.value,v=fn(l,b);return F3({draggable:u,offset:v,initialWindowScroll:o.scroll.initial})})},Q3=({state:t,published:i})=>{const o=i.modified.map(z=>{const H=t.dimensions.droppables[z.droppableId];return Np(H,z.scroll)}),l={...t.dimensions.droppables,...ix(o)},u=ax(W3({additions:i.additions,updatedDroppables:l,viewport:t.viewport})),d={...t.dimensions.draggables,...u};i.removals.forEach(z=>{delete d[z]});const m={droppables:l,draggables:d},p=er(t.impact),b=p?m.droppables[p]:null,v=m.draggables[t.critical.draggable.id],w=m.droppables[t.critical.droppable.id],{impact:S,afterCritical:x}=Sx({draggable:v,home:w,draggables:d,viewport:t.viewport}),E=b&&b.isCombineEnabled?t.impact:S,A=vx({pageOffset:t.current.page.offset,draggable:m.draggables[t.critical.draggable.id],draggables:m.draggables,droppables:m.droppables,previousImpact:E,viewport:t.viewport,afterCritical:x}),O={...t,phase:"DRAGGING",impact:A,onLiftImpact:S,dimensions:m,afterCritical:x,forceShouldAnimate:!1};return t.phase==="COLLECTING"?O:{...O,phase:"DROP_PENDING",reason:t.reason,isWaiting:!1}};const rp=t=>t.movementMode==="SNAP",dm=(t,i,o)=>{const l=K3(t.dimensions,i);return!rp(t)||o?Wl({state:t,dimensions:l}):xx({state:t,dimensions:l})};function fm(t){return t.isDragging&&t.movementMode==="SNAP"?{...t,scrollJumpRequest:null}:t}const $v={phase:"IDLE",completed:null,shouldFlush:!1};var J3=(t=$v,i)=>{if(i.type==="FLUSH")return{...$v,shouldFlush:!0};if(i.type==="INITIAL_PUBLISH"){t.phase!=="IDLE"&&St();const{critical:o,clientSelection:l,viewport:u,dimensions:d,movementMode:m}=i.payload,p=d.draggables[o.draggable.id],b=d.droppables[o.droppable.id],v={selection:l,borderBoxCenter:p.client.borderBox.center,offset:nn},w={client:v,page:{selection:fn(v.selection,u.scroll.initial),borderBoxCenter:fn(v.selection,u.scroll.initial),offset:fn(v.selection,u.scroll.diff.value)}},S=Ud(d.droppables).every(O=>!O.isFixedOnPage),{impact:x,afterCritical:E}=Sx({draggable:p,home:b,draggables:d.draggables,viewport:u});return{phase:"DRAGGING",isDragging:!0,critical:o,movementMode:m,dimensions:d,initial:w,current:w,isWindowScrollAllowed:S,impact:x,afterCritical:E,onLiftImpact:x,viewport:u,scrollJumpRequest:null,forceShouldAnimate:null}}if(i.type==="COLLECTION_STARTING")return t.phase==="COLLECTING"||t.phase==="DROP_PENDING"?t:(t.phase!=="DRAGGING"&&St(),{...t,phase:"COLLECTING"});if(i.type==="PUBLISH_WHILE_DRAGGING")return t.phase==="COLLECTING"||t.phase==="DROP_PENDING"||St(),Q3({state:t,published:i.payload});if(i.type==="MOVE"){if(t.phase==="DROP_PENDING")return t;bo(t)||St();const{client:o}=i.payload;return ka(o,t.current.client.selection)?t:Wl({state:t,clientSelection:o,impact:rp(t)?t.impact:null})}if(i.type==="UPDATE_DROPPABLE_SCROLL"){if(t.phase==="DROP_PENDING"||t.phase==="COLLECTING")return fm(t);bo(t)||St();const{id:o,newScroll:l}=i.payload,u=t.dimensions.droppables[o];if(!u)return t;const d=Np(u,l);return dm(t,d,!1)}if(i.type==="UPDATE_DROPPABLE_IS_ENABLED"){if(t.phase==="DROP_PENDING")return t;bo(t)||St();const{id:o,isEnabled:l}=i.payload,u=t.dimensions.droppables[o];u||St(),u.isEnabled===l&&St();const d={...u,isEnabled:l};return dm(t,d,!0)}if(i.type==="UPDATE_DROPPABLE_IS_COMBINE_ENABLED"){if(t.phase==="DROP_PENDING")return t;bo(t)||St();const{id:o,isCombineEnabled:l}=i.payload,u=t.dimensions.droppables[o];u||St(),u.isCombineEnabled===l&&St();const d={...u,isCombineEnabled:l};return dm(t,d,!0)}if(i.type==="MOVE_BY_WINDOW_SCROLL"){if(t.phase==="DROP_PENDING"||t.phase==="DROP_ANIMATING")return t;bo(t)||St(),t.isWindowScrollAllowed||St();const o=i.payload.newScroll;if(ka(t.viewport.scroll.current,o))return fm(t);const l=dx(t.viewport,o);return rp(t)?xx({state:t,viewport:l}):Wl({state:t,viewport:l})}if(i.type==="UPDATE_VIEWPORT_MAX_SCROLL"){if(!bo(t))return t;const o=i.payload.maxScroll;if(ka(o,t.viewport.scroll.max))return t;const l={...t.viewport,scroll:{...t.viewport.scroll,max:o}};return{...t,viewport:l}}if(i.type==="MOVE_UP"||i.type==="MOVE_DOWN"||i.type==="MOVE_LEFT"||i.type==="MOVE_RIGHT"){if(t.phase==="COLLECTING"||t.phase==="DROP_PENDING")return t;t.phase!=="DRAGGING"&&St();const o=B3({state:t,type:i.type});return o?Wl({state:t,impact:o.impact,clientSelection:o.clientSelection,scrollJumpRequest:o.scrollJumpRequest}):t}if(i.type==="DROP_PENDING"){const o=i.payload.reason;return t.phase!=="COLLECTING"&&St(),{...t,phase:"DROP_PENDING",isWaiting:!0,reason:o}}if(i.type==="DROP_ANIMATE"){const{completed:o,dropDuration:l,newHomeClientOffset:u}=i.payload;return t.phase==="DRAGGING"||t.phase==="DROP_PENDING"||St(),{phase:"DROP_ANIMATING",completed:o,dropDuration:l,newHomeClientOffset:u,dimensions:t.dimensions}}if(i.type==="DROP_COMPLETE"){const{completed:o}=i.payload;return{phase:"IDLE",completed:o,shouldFlush:!1}}return t};function oe(t,i){return t instanceof Object&&"type"in t&&t.type===i}const tM=t=>({type:"BEFORE_INITIAL_CAPTURE",payload:t}),eM=t=>({type:"LIFT",payload:t}),nM=t=>({type:"INITIAL_PUBLISH",payload:t}),rM=t=>({type:"PUBLISH_WHILE_DRAGGING",payload:t}),iM=()=>({type:"COLLECTION_STARTING",payload:null}),aM=t=>({type:"UPDATE_DROPPABLE_SCROLL",payload:t}),oM=t=>({type:"UPDATE_DROPPABLE_IS_ENABLED",payload:t}),sM=t=>({type:"UPDATE_DROPPABLE_IS_COMBINE_ENABLED",payload:t}),wx=t=>({type:"MOVE",payload:t}),lM=t=>({type:"MOVE_BY_WINDOW_SCROLL",payload:t}),cM=t=>({type:"UPDATE_VIEWPORT_MAX_SCROLL",payload:t}),uM=()=>({type:"MOVE_UP",payload:null}),dM=()=>({type:"MOVE_DOWN",payload:null}),fM=()=>({type:"MOVE_RIGHT",payload:null}),hM=()=>({type:"MOVE_LEFT",payload:null}),Rp=()=>({type:"FLUSH",payload:null}),mM=t=>({type:"DROP_ANIMATE",payload:t}),Pp=t=>({type:"DROP_COMPLETE",payload:t}),Tx=t=>({type:"DROP",payload:t}),pM=t=>({type:"DROP_PENDING",payload:t}),Ex=()=>({type:"DROP_ANIMATION_FINISHED",payload:null});var gM=t=>({getState:i,dispatch:o})=>l=>u=>{if(!oe(u,"LIFT")){l(u);return}const{id:d,clientSelection:m,movementMode:p}=u.payload,b=i();b.phase==="DROP_ANIMATING"&&o(Pp({completed:b.completed})),i().phase!=="IDLE"&&St(),o(Rp()),o(tM({draggableId:d,movementMode:p}));const w={draggableId:d,scrollOptions:{shouldPublishImmediately:p==="SNAP"}},{critical:S,dimensions:x,viewport:E}=t.startPublishing(w);o(nM({critical:S,dimensions:x,clientSelection:m,movementMode:p,viewport:E}))},bM=t=>()=>i=>o=>{oe(o,"INITIAL_PUBLISH")&&t.dragging(),oe(o,"DROP_ANIMATE")&&t.dropping(o.payload.completed.result.reason),(oe(o,"FLUSH")||oe(o,"DROP_COMPLETE"))&&t.resting(),i(o)};const zp={outOfTheWay:"cubic-bezier(0.2, 0, 0, 1)",drop:"cubic-bezier(.2,1,.1,1)"},sc={opacity:{drop:0,combining:.7},scale:{drop:.75}},Mx={outOfTheWay:.2,minDropTime:.33,maxDropTime:.55},ho=`${Mx.outOfTheWay}s ${zp.outOfTheWay}`,Ql={fluid:`opacity ${ho}`,snap:`transform ${ho}, opacity ${ho}`,drop:t=>{const i=`${t}s ${zp.drop}`;return`transform ${i}, opacity ${i}`},outOfTheWay:`transform ${ho}`,placeholder:`height ${ho}, width ${ho}, margin ${ho}`},Uv=t=>ka(t,nn)?void 0:`translate(${t.x}px, ${t.y}px)`,ip={moveTo:Uv,drop:(t,i)=>{const o=Uv(t);if(o)return i?`${o} scale(${sc.scale.drop})`:o}},{minDropTime:ap,maxDropTime:Dx}=Mx,vM=Dx-ap,Gv=1500,yM=.6;var _M=({current:t,destination:i,reason:o})=>{const l=ic(t,i);if(l<=0)return ap;if(l>=Gv)return Dx;const u=l/Gv,d=ap+vM*u,m=o==="CANCEL"?d*yM:d;return Number(m.toFixed(2))},xM=({impact:t,draggable:i,dimensions:o,viewport:l,afterCritical:u})=>{const{draggables:d,droppables:m}=o,p=er(t),b=p?m[p]:null,v=m[i.descriptor.droppableId],w=_x({impact:t,draggable:i,draggables:d,afterCritical:u,droppable:b||v,viewport:l});return tr(w,i.client.borderBox.center)},SM=({draggables:t,reason:i,lastImpact:o,home:l,viewport:u,onLiftImpact:d})=>!o.at||i!=="DROP"?{impact:yx({draggables:t,impact:d,destination:l,viewport:u,forceShouldAnimate:!0}),didDropInsideDroppable:!1}:o.at.type==="REORDER"?{impact:o,didDropInsideDroppable:!0}:{impact:{...o,displaced:ac},didDropInsideDroppable:!0};const wM=({getState:t,dispatch:i})=>o=>l=>{if(!oe(l,"DROP")){o(l);return}const u=t(),d=l.payload.reason;if(u.phase==="COLLECTING"){i(pM({reason:d}));return}if(u.phase==="IDLE")return;u.phase==="DROP_PENDING"&&u.isWaiting&&St(),u.phase==="DRAGGING"||u.phase==="DROP_PENDING"||St();const p=u.critical,b=u.dimensions,v=b.draggables[u.critical.draggable.id],{impact:w,didDropInsideDroppable:S}=SM({reason:d,lastImpact:u.impact,afterCritical:u.afterCritical,onLiftImpact:u.onLiftImpact,home:u.dimensions.droppables[u.critical.droppable.id],viewport:u.viewport,draggables:u.dimensions.draggables}),x=S?Op(w):null,E=S?Gd(w):null,A={index:p.draggable.index,droppableId:p.droppable.id},O={draggableId:v.descriptor.id,type:v.descriptor.type,source:A,reason:d,mode:u.movementMode,destination:x,combine:E},R=xM({impact:w,draggable:v,dimensions:b,viewport:u.viewport,afterCritical:u.afterCritical}),z={critical:u.critical,afterCritical:u.afterCritical,result:O,impact:w};if(!(!ka(u.current.client.offset,R)||!!O.combine)){i(Pp({completed:z}));return}const k=_M({current:u.current.client.offset,destination:R,reason:d});i(mM({newHomeClientOffset:R,dropDuration:k,completed:z}))};var Ax=()=>({x:window.pageXOffset,y:window.pageYOffset});function TM(t){return{eventName:"scroll",options:{passive:!0,capture:!1},fn:i=>{i.target!==window&&i.target!==window.document||t()}}}function EM({onWindowScroll:t}){function i(){t(Ax())}const o=rc(i),l=TM(o);let u=ja;function d(){return u!==ja}function m(){d()&&St(),u=gr(window,[l])}function p(){d()||St(),o.cancel(),u(),u=ja}return{start:m,stop:p,isActive:d}}const MM=t=>oe(t,"DROP_COMPLETE")||oe(t,"DROP_ANIMATE")||oe(t,"FLUSH"),DM=t=>{const i=EM({onWindowScroll:o=>{t.dispatch(lM({newScroll:o}))}});return o=>l=>{!i.isActive()&&oe(l,"INITIAL_PUBLISH")&&i.start(),i.isActive()&&MM(l)&&i.stop(),o(l)}};var AM=t=>{let i=!1,o=!1;const l=setTimeout(()=>{o=!0}),u=d=>{i||o||(i=!0,t(d),clearTimeout(l))};return u.wasCalled=()=>i,u},NM=()=>{const t=[],i=u=>{const d=t.findIndex(p=>p.timerId===u);d===-1&&St();const[m]=t.splice(d,1);m.callback()};return{add:u=>{const d=setTimeout(()=>i(d)),m={timerId:d,callback:u};t.push(m)},flush:()=>{if(!t.length)return;const u=[...t];t.length=0,u.forEach(d=>{clearTimeout(d.timerId),d.callback()})}}};const OM=(t,i)=>t==null&&i==null?!0:t==null||i==null?!1:t.droppableId===i.droppableId&&t.index===i.index,jM=(t,i)=>t==null&&i==null?!0:t==null||i==null?!1:t.draggableId===i.draggableId&&t.droppableId===i.droppableId,kM=(t,i)=>{if(t===i)return!0;const o=t.draggable.id===i.draggable.id&&t.draggable.droppableId===i.draggable.droppableId&&t.draggable.type===i.draggable.type&&t.draggable.index===i.draggable.index,l=t.droppable.id===i.droppable.id&&t.droppable.type===i.droppable.type;return o&&l},zl=(t,i)=>{i()},Ku=(t,i)=>({draggableId:t.draggable.id,type:t.droppable.type,source:{droppableId:t.droppable.id,index:t.draggable.index},mode:i});function hm(t,i,o,l){if(!t){o(l(i));return}const u=AM(o);t(i,{announce:u}),u.wasCalled()||o(l(i))}var LM=(t,i)=>{const o=NM();let l=null;const u=(S,x)=>{l&&St(),zl("onBeforeCapture",()=>{const E=t().onBeforeCapture;E&&E({draggableId:S,mode:x})})},d=(S,x)=>{l&&St(),zl("onBeforeDragStart",()=>{const E=t().onBeforeDragStart;E&&E(Ku(S,x))})},m=(S,x)=>{l&&St();const E=Ku(S,x);l={mode:x,lastCritical:S,lastLocation:E.source,lastCombine:null},o.add(()=>{zl("onDragStart",()=>hm(t().onDragStart,E,i,gd.onDragStart))})},p=(S,x)=>{const E=Op(x),A=Gd(x);l||St();const O=!kM(S,l.lastCritical);O&&(l.lastCritical=S);const R=!OM(l.lastLocation,E);R&&(l.lastLocation=E);const z=!jM(l.lastCombine,A);if(z&&(l.lastCombine=A),!O&&!R&&!z)return;const H={...Ku(S,l.mode),combine:A,destination:E};o.add(()=>{zl("onDragUpdate",()=>hm(t().onDragUpdate,H,i,gd.onDragUpdate))})},b=()=>{l||St(),o.flush()},v=S=>{l||St(),l=null,zl("onDragEnd",()=>hm(t().onDragEnd,S,i,gd.onDragEnd))};return{beforeCapture:u,beforeStart:d,start:m,update:p,flush:b,drop:v,abort:()=>{if(!l)return;const S={...Ku(l.lastCritical,l.mode),combine:null,destination:null,reason:"CANCEL"};v(S)}}},CM=(t,i)=>{const o=LM(t,i);return l=>u=>d=>{if(oe(d,"BEFORE_INITIAL_CAPTURE")){o.beforeCapture(d.payload.draggableId,d.payload.movementMode);return}if(oe(d,"INITIAL_PUBLISH")){const p=d.payload.critical;o.beforeStart(p,d.payload.movementMode),u(d),o.start(p,d.payload.movementMode);return}if(oe(d,"DROP_COMPLETE")){const p=d.payload.completed.result;o.flush(),u(d),o.drop(p);return}if(u(d),oe(d,"FLUSH")){o.abort();return}const m=l.getState();m.phase==="DRAGGING"&&o.update(m.critical,m.impact)}};const BM=t=>i=>o=>{if(!oe(o,"DROP_ANIMATION_FINISHED")){i(o);return}const l=t.getState();l.phase!=="DROP_ANIMATING"&&St(),t.dispatch(Pp({completed:l.completed}))},RM=t=>{let i=null,o=null;function l(){o&&(cancelAnimationFrame(o),o=null),i&&(i(),i=null)}return u=>d=>{if((oe(d,"FLUSH")||oe(d,"DROP_COMPLETE")||oe(d,"DROP_ANIMATION_FINISHED"))&&l(),u(d),!oe(d,"DROP_ANIMATE"))return;const m={eventName:"scroll",options:{capture:!0,passive:!1,once:!0},fn:function(){t.getState().phase==="DROP_ANIMATING"&&t.dispatch(Ex())}};o=requestAnimationFrame(()=>{o=null,i=gr(window,[m])})}};var PM=t=>()=>i=>o=>{(oe(o,"DROP_COMPLETE")||oe(o,"FLUSH")||oe(o,"DROP_ANIMATE"))&&t.stopPublishing(),i(o)},zM=t=>{let i=!1;return()=>o=>l=>{if(oe(l,"INITIAL_PUBLISH")){i=!0,t.tryRecordFocus(l.payload.critical.draggable.id),o(l),t.tryRestoreFocusRecorded();return}if(o(l),!!i){if(oe(l,"FLUSH")){i=!1,t.tryRestoreFocusRecorded();return}if(oe(l,"DROP_COMPLETE")){i=!1;const u=l.payload.completed.result;u.combine&&t.tryShiftRecord(u.draggableId,u.combine.draggableId),t.tryRestoreFocusRecorded()}}}};const HM=t=>oe(t,"DROP_COMPLETE")||oe(t,"DROP_ANIMATE")||oe(t,"FLUSH");var IM=t=>i=>o=>l=>{if(HM(l)){t.stop(),o(l);return}if(oe(l,"INITIAL_PUBLISH")){o(l);const u=i.getState();u.phase!=="DRAGGING"&&St(),t.start(u);return}o(l),t.scroll(i.getState())};const $M=t=>i=>o=>{if(i(o),!oe(o,"PUBLISH_WHILE_DRAGGING"))return;const l=t.getState();l.phase==="DROP_PENDING"&&(l.isWaiting||t.dispatch(Tx({reason:l.reason})))},UM=Z_;var GM=({dimensionMarshal:t,focusMarshal:i,styleMarshal:o,getResponders:l,announce:u,autoScroller:d})=>G_(J3,UM(IT(bM(o),PM(t),gM(t),wM,BM,RM,$M,IM(d),DM,zM(i),CM(l,u))));const mm=()=>({additions:{},removals:{},modified:{}});function ZM({registry:t,callbacks:i}){let o=mm(),l=null;const u=()=>{l||(i.collectionStarting(),l=requestAnimationFrame(()=>{l=null;const{additions:b,removals:v,modified:w}=o,S=Object.keys(b).map(A=>t.draggable.getById(A).getDimension(nn)).sort((A,O)=>A.descriptor.index-O.descriptor.index),x=Object.keys(w).map(A=>{const R=t.droppable.getById(A).callbacks.getScrollWhileDragging();return{droppableId:A,scroll:R}}),E={additions:S,removals:Object.keys(v),modified:x};o=mm(),i.publish(E)}))};return{add:b=>{const v=b.descriptor.id;o.additions[v]=b,o.modified[b.descriptor.droppableId]=!0,o.removals[v]&&delete o.removals[v],u()},remove:b=>{const v=b.descriptor;o.removals[v.id]=!0,o.modified[v.droppableId]=!0,o.additions[v.id]&&delete o.additions[v.id],u()},stop:()=>{l&&(cancelAnimationFrame(l),l=null,o=mm())}}}var Nx=({scrollHeight:t,scrollWidth:i,height:o,width:l})=>{const u=tr({x:i,y:t},{x:l,y:o});return{x:Math.max(0,u.x),y:Math.max(0,u.y)}},Ox=()=>{const t=document.documentElement;return t||St(),t},jx=()=>{const t=Ox();return Nx({scrollHeight:t.scrollHeight,scrollWidth:t.scrollWidth,width:t.clientWidth,height:t.clientHeight})},YM=()=>{const t=Ax(),i=jx(),o=t.y,l=t.x,u=Ox(),d=u.clientWidth,m=u.clientHeight,p=l+d,b=o+m;return{frame:jr({top:o,left:l,right:p,bottom:b}),scroll:{initial:t,current:t,max:i,diff:{value:nn,displacement:nn}}}},qM=({critical:t,scrollOptions:i,registry:o})=>{const l=YM(),u=l.scroll.current,d=t.droppable,m=o.droppable.getAllByType(d.type).map(w=>w.callbacks.getDimensionAndWatchScroll(u,i)),p=o.draggable.getAllByType(t.draggable.type).map(w=>w.getDimension(u));return{dimensions:{draggables:ax(p),droppables:ix(m)},critical:t,viewport:l}};function Zv(t,i,o){return!(o.descriptor.id===i.id||o.descriptor.type!==i.type||t.droppable.getById(o.descriptor.droppableId).descriptor.mode!=="virtual")}var VM=(t,i)=>{let o=null;const l=ZM({callbacks:{publish:i.publishWhileDragging,collectionStarting:i.collectionStarting},registry:t}),u=(x,E)=>{t.droppable.exists(x)||St(),o&&i.updateDroppableIsEnabled({id:x,isEnabled:E})},d=(x,E)=>{o&&(t.droppable.exists(x)||St(),i.updateDroppableIsCombineEnabled({id:x,isCombineEnabled:E}))},m=(x,E)=>{o&&(t.droppable.exists(x)||St(),i.updateDroppableScroll({id:x,newScroll:E}))},p=(x,E)=>{o&&t.droppable.getById(x).callbacks.scroll(E)},b=()=>{if(!o)return;l.stop();const x=o.critical.droppable;t.droppable.getAllByType(x.type).forEach(E=>E.callbacks.dragStopped()),o.unsubscribe(),o=null},v=x=>{o||St();const E=o.critical.draggable;x.type==="ADDITION"&&Zv(t,E,x.value)&&l.add(x.value),x.type==="REMOVAL"&&Zv(t,E,x.value)&&l.remove(x.value)};return{updateDroppableIsEnabled:u,updateDroppableIsCombineEnabled:d,scrollDroppable:p,updateDroppableScroll:m,startPublishing:x=>{o&&St();const E=t.draggable.getById(x.draggableId),A=t.droppable.getById(E.descriptor.droppableId),O={draggable:E.descriptor,droppable:A.descriptor},R=t.subscribe(v);return o={critical:O,unsubscribe:R},qM({critical:O,registry:t,scrollOptions:x.scrollOptions})},stopPublishing:b}},kx=(t,i)=>t.phase==="IDLE"?!0:t.phase!=="DROP_ANIMATING"||t.completed.result.draggableId===i?!1:t.completed.result.reason==="DROP",KM=t=>{window.scrollBy(t.x,t.y)};const FM=en(t=>Ud(t).filter(i=>!(!i.isEnabled||!i.frame))),XM=(t,i)=>FM(i).find(l=>(l.frame||St(),px(l.frame.pageMarginBox)(t)))||null;var WM=({center:t,destination:i,droppables:o})=>{if(i){const u=o[i];return u.frame?u:null}return XM(t,o)};const lc={startFromPercentage:.25,maxScrollAtPercentage:.05,maxPixelScroll:28,ease:t=>t**2,durationDampening:{stopDampeningAt:1200,accelerateAt:360},disabled:!1};var QM=(t,i,o=()=>lc)=>{const l=o(),u=t[i.size]*l.startFromPercentage,d=t[i.size]*l.maxScrollAtPercentage;return{startScrollingFrom:u,maxScrollValueAt:d}},Lx=({startOfRange:t,endOfRange:i,current:o})=>{const l=i-t;return l===0?0:(o-t)/l},Hp=1,JM=(t,i,o=()=>lc)=>{const l=o();if(t>i.startScrollingFrom)return 0;if(t<=i.maxScrollValueAt)return l.maxPixelScroll;if(t===i.startScrollingFrom)return Hp;const d=1-Lx({startOfRange:i.maxScrollValueAt,endOfRange:i.startScrollingFrom,current:t}),m=l.maxPixelScroll*l.ease(d);return Math.ceil(m)},tD=(t,i,o)=>{const l=o(),u=l.durationDampening.accelerateAt,d=l.durationDampening.stopDampeningAt,m=i,p=d,v=Date.now()-m;if(v>=d)return t;if(v<u)return Hp;const w=Lx({startOfRange:u,endOfRange:p,current:v}),S=t*l.ease(w);return Math.ceil(S)},Yv=({distanceToEdge:t,thresholds:i,dragStartTime:o,shouldUseTimeDampening:l,getAutoScrollerOptions:u})=>{const d=JM(t,i,u);return d===0?0:l?Math.max(tD(d,o,u),Hp):d},qv=({container:t,distanceToEdges:i,dragStartTime:o,axis:l,shouldUseTimeDampening:u,getAutoScrollerOptions:d})=>{const m=QM(t,l,d);return i[l.end]<i[l.start]?Yv({distanceToEdge:i[l.end],thresholds:m,dragStartTime:o,shouldUseTimeDampening:u,getAutoScrollerOptions:d}):-1*Yv({distanceToEdge:i[l.start],thresholds:m,dragStartTime:o,shouldUseTimeDampening:u,getAutoScrollerOptions:d})},eD=({container:t,subject:i,proposedScroll:o})=>{const l=i.height>t.height,u=i.width>t.width;return!u&&!l?o:u&&l?null:{x:u?0:o.x,y:l?0:o.y}};const nD=rx(t=>t===0?0:t);var Cx=({dragStartTime:t,container:i,subject:o,center:l,shouldUseTimeDampening:u,getAutoScrollerOptions:d})=>{const m={top:l.y-i.top,right:i.right-l.x,bottom:i.bottom-l.y,left:l.x-i.left},p=qv({container:i,distanceToEdges:m,dragStartTime:t,axis:jp,shouldUseTimeDampening:u,getAutoScrollerOptions:d}),b=qv({container:i,distanceToEdges:m,dragStartTime:t,axis:lx,shouldUseTimeDampening:u,getAutoScrollerOptions:d}),v=nD({x:b,y:p});if(ka(v,nn))return null;const w=eD({container:i,subject:o,proposedScroll:v});return w?ka(w,nn)?null:w:null};const rD=rx(t=>t===0?0:t>0?1:-1),Ip=(()=>{const t=(i,o)=>i<0?i:i>o?i-o:0;return({current:i,max:o,change:l})=>{const u=fn(i,l),d={x:t(u.x,o.x),y:t(u.y,o.y)};return ka(d,nn)?null:d}})(),Bx=({max:t,current:i,change:o})=>{const l={x:Math.max(i.x,t.x),y:Math.max(i.y,t.y)},u=rD(o),d=Ip({max:l,current:i,change:u});return!d||u.x!==0&&d.x===0||u.y!==0&&d.y===0},$p=(t,i)=>Bx({current:t.scroll.current,max:t.scroll.max,change:i}),iD=(t,i)=>{if(!$p(t,i))return null;const o=t.scroll.max,l=t.scroll.current;return Ip({current:l,max:o,change:i})},Up=(t,i)=>{const o=t.frame;return o?Bx({current:o.scroll.current,max:o.scroll.max,change:i}):!1},aD=(t,i)=>{const o=t.frame;return!o||!Up(t,i)?null:Ip({current:o.scroll.current,max:o.scroll.max,change:i})};var oD=({viewport:t,subject:i,center:o,dragStartTime:l,shouldUseTimeDampening:u,getAutoScrollerOptions:d})=>{const m=Cx({dragStartTime:l,container:t.frame,subject:i,center:o,shouldUseTimeDampening:u,getAutoScrollerOptions:d});return m&&$p(t,m)?m:null},sD=({droppable:t,subject:i,center:o,dragStartTime:l,shouldUseTimeDampening:u,getAutoScrollerOptions:d})=>{const m=t.frame;if(!m)return null;const p=Cx({dragStartTime:l,container:m.pageMarginBox,subject:i,center:o,shouldUseTimeDampening:u,getAutoScrollerOptions:d});return p&&Up(t,p)?p:null},Vv=({state:t,dragStartTime:i,shouldUseTimeDampening:o,scrollWindow:l,scrollDroppable:u,getAutoScrollerOptions:d})=>{const m=t.current.page.borderBoxCenter,b=t.dimensions.draggables[t.critical.draggable.id].page.marginBox;if(t.isWindowScrollAllowed){const S=t.viewport,x=oD({dragStartTime:i,viewport:S,subject:b,center:m,shouldUseTimeDampening:o,getAutoScrollerOptions:d});if(x){l(x);return}}const v=WM({center:m,destination:er(t.impact),droppables:t.dimensions.droppables});if(!v)return;const w=sD({dragStartTime:i,droppable:v,subject:b,center:m,shouldUseTimeDampening:o,getAutoScrollerOptions:d});w&&u(v.descriptor.id,w)},lD=({scrollWindow:t,scrollDroppable:i,getAutoScrollerOptions:o=()=>lc})=>{const l=rc(t),u=rc(i);let d=null;const m=v=>{d||St();const{shouldUseTimeDampening:w,dragStartTime:S}=d;Vv({state:v,scrollWindow:l,scrollDroppable:u,dragStartTime:S,shouldUseTimeDampening:w,getAutoScrollerOptions:o})};return{start:v=>{d&&St();const w=Date.now();let S=!1;const x=()=>{S=!0};Vv({state:v,dragStartTime:0,shouldUseTimeDampening:!1,scrollWindow:x,scrollDroppable:x,getAutoScrollerOptions:o}),d={dragStartTime:w,shouldUseTimeDampening:S},S&&m(v)},stop:()=>{d&&(l.cancel(),u.cancel(),d=null)},scroll:m}},cD=({move:t,scrollDroppable:i,scrollWindow:o})=>{const l=(p,b)=>{const v=fn(p.current.client.selection,b);t({client:v})},u=(p,b)=>{if(!Up(p,b))return b;const v=aD(p,b);if(!v)return i(p.descriptor.id,b),null;const w=tr(b,v);return i(p.descriptor.id,w),tr(b,w)},d=(p,b,v)=>{if(!p||!$p(b,v))return v;const w=iD(b,v);if(!w)return o(v),null;const S=tr(v,w);return o(S),tr(v,S)};return p=>{const b=p.scrollJumpRequest;if(!b)return;const v=er(p.impact);v||St();const w=u(p.dimensions.droppables[v],b);if(!w)return;const S=p.viewport,x=d(p.isWindowScrollAllowed,S,w);x&&l(p,x)}},uD=({scrollDroppable:t,scrollWindow:i,move:o,getAutoScrollerOptions:l})=>{const u=lD({scrollWindow:i,scrollDroppable:t,getAutoScrollerOptions:l}),d=cD({move:o,scrollWindow:i,scrollDroppable:t});return{scroll:b=>{if(!(l().disabled||b.phase!=="DRAGGING")){if(b.movementMode==="FLUID"){u.scroll(b);return}b.scrollJumpRequest&&d(b)}},start:u.start,stop:u.stop}};const Ts="data-rfd",Es=(()=>{const t=`${Ts}-drag-handle`;return{base:t,draggableId:`${t}-draggable-id`,contextId:`${t}-context-id`}})(),op=(()=>{const t=`${Ts}-draggable`;return{base:t,contextId:`${t}-context-id`,id:`${t}-id`}})(),dD=(()=>{const t=`${Ts}-droppable`;return{base:t,contextId:`${t}-context-id`,id:`${t}-id`}})(),Kv={contextId:`${Ts}-scroll-container-context-id`},fD=t=>i=>`[${i}="${t}"]`,Hl=(t,i)=>t.map(o=>{const l=o.styles[i];return l?`${o.selector} { ${l} }`:""}).join(" "),hD="pointer-events: none;";var mD=t=>{const i=fD(t),o=(()=>{const p=`
      cursor: -webkit-grab;
      cursor: grab;
    `;return{selector:i(Es.contextId),styles:{always:`
          -webkit-touch-callout: none;
          -webkit-tap-highlight-color: rgba(0,0,0,0);
          touch-action: manipulation;
        `,resting:p,dragging:hD,dropAnimating:p}}})(),l=(()=>{const p=`
      transition: ${Ql.outOfTheWay};
    `;return{selector:i(op.contextId),styles:{dragging:p,dropAnimating:p,userCancel:p}}})(),u={selector:i(dD.contextId),styles:{always:"overflow-anchor: none;"}},m=[l,o,u,{selector:"body",styles:{dragging:`
        cursor: grabbing;
        cursor: -webkit-grabbing;
        user-select: none;
        -webkit-user-select: none;
        -moz-user-select: none;
        -ms-user-select: none;
        overflow-anchor: none;
      `}}];return{always:Hl(m,"always"),resting:Hl(m,"resting"),dragging:Hl(m,"dragging"),dropAnimating:Hl(m,"dropAnimating"),userCancel:Hl(m,"userCancel")}};const nr=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u"?P.useLayoutEffect:P.useEffect,pm=()=>{const t=document.querySelector("head");return t||St(),t},Fv=t=>{const i=document.createElement("style");return t&&i.setAttribute("nonce",t),i.type="text/css",i};function pD(t,i){const o=te(()=>mD(t),[t]),l=P.useRef(null),u=P.useRef(null),d=Lt(en(S=>{const x=u.current;x||St(),x.textContent=S}),[]),m=Lt(S=>{const x=l.current;x||St(),x.textContent=S},[]);nr(()=>{!l.current&&!u.current||St();const S=Fv(i),x=Fv(i);return l.current=S,u.current=x,S.setAttribute(`${Ts}-always`,t),x.setAttribute(`${Ts}-dynamic`,t),pm().appendChild(S),pm().appendChild(x),m(o.always),d(o.resting),()=>{const E=A=>{const O=A.current;O||St(),pm().removeChild(O),A.current=null};E(l),E(u)}},[i,m,d,o.always,o.resting,t]);const p=Lt(()=>d(o.dragging),[d,o.dragging]),b=Lt(S=>{if(S==="DROP"){d(o.dropAnimating);return}d(o.userCancel)},[d,o.dropAnimating,o.userCancel]),v=Lt(()=>{u.current&&d(o.resting)},[d,o.resting]);return te(()=>({dragging:p,dropping:b,resting:v}),[p,b,v])}function Rx(t,i){return Array.from(t.querySelectorAll(i))}var Px=t=>t&&t.ownerDocument&&t.ownerDocument.defaultView?t.ownerDocument.defaultView:window;function qd(t){return t instanceof Px(t).HTMLElement}function gD(t,i){const o=`[${Es.contextId}="${t}"]`,l=Rx(document,o);if(!l.length)return null;const u=l.find(d=>d.getAttribute(Es.draggableId)===i);return!u||!qd(u)?null:u}function bD(t){const i=P.useRef({}),o=P.useRef(null),l=P.useRef(null),u=P.useRef(!1),d=Lt(function(x,E){const A={id:x,focus:E};return i.current[x]=A,function(){const R=i.current;R[x]!==A&&delete R[x]}},[]),m=Lt(function(x){const E=gD(t,x);E&&E!==document.activeElement&&E.focus()},[t]),p=Lt(function(x,E){o.current===x&&(o.current=E)},[]),b=Lt(function(){l.current||u.current&&(l.current=requestAnimationFrame(()=>{l.current=null;const x=o.current;x&&m(x)}))},[m]),v=Lt(function(x){o.current=null;const E=document.activeElement;E&&E.getAttribute(Es.draggableId)===x&&(o.current=x)},[]);return nr(()=>(u.current=!0,function(){u.current=!1;const x=l.current;x&&cancelAnimationFrame(x)}),[]),te(()=>({register:d,tryRecordFocus:v,tryRestoreFocusRecorded:b,tryShiftRecord:p}),[d,v,b,p])}function vD(){const t={draggables:{},droppables:{}},i=[];function o(S){return i.push(S),function(){const E=i.indexOf(S);E!==-1&&i.splice(E,1)}}function l(S){i.length&&i.forEach(x=>x(S))}function u(S){return t.draggables[S]||null}function d(S){const x=u(S);return x||St(),x}const m={register:S=>{t.draggables[S.descriptor.id]=S,l({type:"ADDITION",value:S})},update:(S,x)=>{const E=t.draggables[x.descriptor.id];E&&E.uniqueId===S.uniqueId&&(delete t.draggables[x.descriptor.id],t.draggables[S.descriptor.id]=S)},unregister:S=>{const x=S.descriptor.id,E=u(x);E&&S.uniqueId===E.uniqueId&&(delete t.draggables[x],t.droppables[S.descriptor.droppableId]&&l({type:"REMOVAL",value:S}))},getById:d,findById:u,exists:S=>!!u(S),getAllByType:S=>Object.values(t.draggables).filter(x=>x.descriptor.type===S)};function p(S){return t.droppables[S]||null}function b(S){const x=p(S);return x||St(),x}const v={register:S=>{t.droppables[S.descriptor.id]=S},unregister:S=>{const x=p(S.descriptor.id);x&&S.uniqueId===x.uniqueId&&delete t.droppables[S.descriptor.id]},getById:b,findById:p,exists:S=>!!p(S),getAllByType:S=>Object.values(t.droppables).filter(x=>x.descriptor.type===S)};function w(){t.draggables={},t.droppables={},i.length=0}return{draggable:m,droppable:v,subscribe:o,clean:w}}function yD(){const t=te(vD,[]);return P.useEffect(()=>function(){t.clean()},[t]),t}var Gp=Te.createContext(null),Ad=()=>{const t=document.body;return t||St(),t};const _D={position:"absolute",width:"1px",height:"1px",margin:"-1px",border:"0",padding:"0",overflow:"hidden",clip:"rect(0 0 0 0)","clip-path":"inset(100%)"},xD=t=>`rfd-announcement-${t}`;function SD(t){const i=te(()=>xD(t),[t]),o=P.useRef(null);return P.useEffect(function(){const d=document.createElement("div");return o.current=d,d.id=i,d.setAttribute("aria-live","assertive"),d.setAttribute("aria-atomic","true"),Td(d.style,_D),Ad().appendChild(d),function(){setTimeout(function(){const b=Ad();b.contains(d)&&b.removeChild(d),d===o.current&&(o.current=null)})}},[i]),Lt(u=>{const d=o.current;if(d){d.textContent=u;return}},[])}const wD={separator:"::"};function Zp(t,i=wD){const o=Te.useId();return te(()=>`${t}${i.separator}${o}`,[i.separator,t,o])}function TD({contextId:t,uniqueId:i}){return`rfd-hidden-text-${t}-${i}`}function ED({contextId:t,text:i}){const o=Zp("hidden-text",{separator:"-"}),l=te(()=>TD({contextId:t,uniqueId:o}),[o,t]);return P.useEffect(function(){const d=document.createElement("div");return d.id=l,d.textContent=i,d.style.display="none",Ad().appendChild(d),function(){const p=Ad();p.contains(d)&&p.removeChild(d)}},[l,i]),l}var Vd=Te.createContext(null);function zx(t){const i=P.useRef(t);return P.useEffect(()=>{i.current=t}),i}function MD(){let t=null;function i(){return!!t}function o(m){return m===t}function l(m){t&&St();const p={abandon:m};return t=p,p}function u(){t||St(),t=null}function d(){t&&(t.abandon(),u())}return{isClaimed:i,isActive:o,claim:l,release:u,tryAbandon:d}}function cc(t){return t.phase==="IDLE"||t.phase==="DROP_ANIMATING"?!1:t.isDragging}const DD=9,AD=13,Yp=27,Hx=32,ND=33,OD=34,jD=35,kD=36,LD=37,CD=38,BD=39,RD=40,PD={[AD]:!0,[DD]:!0};var Ix=t=>{PD[t.keyCode]&&t.preventDefault()};const Kd=(()=>{const t="visibilitychange";return typeof document>"u"?t:[t,`ms${t}`,`webkit${t}`,`moz${t}`,`o${t}`].find(l=>`on${l}`in document)||t})(),$x=0,Xv=5;function zD(t,i){return Math.abs(i.x-t.x)>=Xv||Math.abs(i.y-t.y)>=Xv}const Wv={type:"IDLE"};function HD({cancel:t,completed:i,getPhase:o,setPhase:l}){return[{eventName:"mousemove",fn:u=>{const{button:d,clientX:m,clientY:p}=u;if(d!==$x)return;const b={x:m,y:p},v=o();if(v.type==="DRAGGING"){u.preventDefault(),v.actions.move(b);return}v.type!=="PENDING"&&St();const w=v.point;if(!zD(w,b))return;u.preventDefault();const S=v.actions.fluidLift(b);l({type:"DRAGGING",actions:S})}},{eventName:"mouseup",fn:u=>{const d=o();if(d.type!=="DRAGGING"){t();return}u.preventDefault(),d.actions.drop({shouldBlockNextClick:!0}),i()}},{eventName:"mousedown",fn:u=>{o().type==="DRAGGING"&&u.preventDefault(),t()}},{eventName:"keydown",fn:u=>{if(o().type==="PENDING"){t();return}if(u.keyCode===Yp){u.preventDefault(),t();return}Ix(u)}},{eventName:"resize",fn:t},{eventName:"scroll",options:{passive:!0,capture:!1},fn:()=>{o().type==="PENDING"&&t()}},{eventName:"webkitmouseforcedown",fn:u=>{const d=o();if(d.type==="IDLE"&&St(),d.actions.shouldRespectForcePress()){t();return}u.preventDefault()}},{eventName:Kd,fn:t}]}function ID(t){const i=P.useRef(Wv),o=P.useRef(ja),l=te(()=>({eventName:"mousedown",fn:function(S){if(S.defaultPrevented||S.button!==$x||S.ctrlKey||S.metaKey||S.shiftKey||S.altKey)return;const x=t.findClosestDraggableId(S);if(!x)return;const E=t.tryGetLock(x,m,{sourceEvent:S});if(!E)return;S.preventDefault();const A={x:S.clientX,y:S.clientY};o.current(),v(E,A)}}),[t]),u=te(()=>({eventName:"webkitmouseforcewillbegin",fn:w=>{if(w.defaultPrevented)return;const S=t.findClosestDraggableId(w);if(!S)return;const x=t.findOptionsForDraggable(S);x&&(x.shouldRespectForcePress||t.canGetLock(S)&&w.preventDefault())}}),[t]),d=Lt(function(){const S={passive:!1,capture:!0};o.current=gr(window,[u,l],S)},[u,l]),m=Lt(()=>{i.current.type!=="IDLE"&&(i.current=Wv,o.current(),d())},[d]),p=Lt(()=>{const w=i.current;m(),w.type==="DRAGGING"&&w.actions.cancel({shouldBlockNextClick:!0}),w.type==="PENDING"&&w.actions.abort()},[m]),b=Lt(function(){const S={capture:!0,passive:!1},x=HD({cancel:p,completed:m,getPhase:()=>i.current,setPhase:E=>{i.current=E}});o.current=gr(window,x,S)},[p,m]),v=Lt(function(S,x){i.current.type!=="IDLE"&&St(),i.current={type:"PENDING",point:x,actions:S},b()},[b]);nr(function(){return d(),function(){o.current()}},[d])}function $D(){}const UD={[OD]:!0,[ND]:!0,[kD]:!0,[jD]:!0};function GD(t,i){function o(){i(),t.cancel()}function l(){i(),t.drop()}return[{eventName:"keydown",fn:u=>{if(u.keyCode===Yp){u.preventDefault(),o();return}if(u.keyCode===Hx){u.preventDefault(),l();return}if(u.keyCode===RD){u.preventDefault(),t.moveDown();return}if(u.keyCode===CD){u.preventDefault(),t.moveUp();return}if(u.keyCode===BD){u.preventDefault(),t.moveRight();return}if(u.keyCode===LD){u.preventDefault(),t.moveLeft();return}if(UD[u.keyCode]){u.preventDefault();return}Ix(u)}},{eventName:"mousedown",fn:o},{eventName:"mouseup",fn:o},{eventName:"click",fn:o},{eventName:"touchstart",fn:o},{eventName:"resize",fn:o},{eventName:"wheel",fn:o,options:{passive:!0}},{eventName:Kd,fn:o}]}function ZD(t){const i=P.useRef($D),o=te(()=>({eventName:"keydown",fn:function(d){if(d.defaultPrevented||d.keyCode!==Hx)return;const m=t.findClosestDraggableId(d);if(!m)return;const p=t.tryGetLock(m,w,{sourceEvent:d});if(!p)return;d.preventDefault();let b=!0;const v=p.snapLift();i.current();function w(){b||St(),b=!1,i.current(),l()}i.current=gr(window,GD(v,w),{capture:!0,passive:!1})}}),[t]),l=Lt(function(){const d={passive:!1,capture:!0};i.current=gr(window,[o],d)},[o]);nr(function(){return l(),function(){i.current()}},[l])}const gm={type:"IDLE"},YD=120,qD=.15;function VD({cancel:t,getPhase:i}){return[{eventName:"orientationchange",fn:t},{eventName:"resize",fn:t},{eventName:"contextmenu",fn:o=>{o.preventDefault()}},{eventName:"keydown",fn:o=>{if(i().type!=="DRAGGING"){t();return}o.keyCode===Yp&&o.preventDefault(),t()}},{eventName:Kd,fn:t}]}function KD({cancel:t,completed:i,getPhase:o}){return[{eventName:"touchmove",options:{capture:!1},fn:l=>{const u=o();if(u.type!=="DRAGGING"){t();return}u.hasMoved=!0;const{clientX:d,clientY:m}=l.touches[0],p={x:d,y:m};l.preventDefault(),u.actions.move(p)}},{eventName:"touchend",fn:l=>{const u=o();if(u.type!=="DRAGGING"){t();return}l.preventDefault(),u.actions.drop({shouldBlockNextClick:!0}),i()}},{eventName:"touchcancel",fn:l=>{if(o().type!=="DRAGGING"){t();return}l.preventDefault(),t()}},{eventName:"touchforcechange",fn:l=>{const u=o();u.type==="IDLE"&&St();const d=l.touches[0];if(!d||!(d.force>=qD))return;const p=u.actions.shouldRespectForcePress();if(u.type==="PENDING"){p&&t();return}if(p){if(u.hasMoved){l.preventDefault();return}t();return}l.preventDefault()}},{eventName:Kd,fn:t}]}function FD(t){const i=P.useRef(gm),o=P.useRef(ja),l=Lt(function(){return i.current},[]),u=Lt(function(E){i.current=E},[]),d=te(()=>({eventName:"touchstart",fn:function(E){if(E.defaultPrevented)return;const A=t.findClosestDraggableId(E);if(!A)return;const O=t.tryGetLock(A,p,{sourceEvent:E});if(!O)return;const R=E.touches[0],{clientX:z,clientY:H}=R,k={x:z,y:H};o.current(),S(O,k)}}),[t]),m=Lt(function(){const E={capture:!0,passive:!1};o.current=gr(window,[d],E)},[d]),p=Lt(()=>{const x=i.current;x.type!=="IDLE"&&(x.type==="PENDING"&&clearTimeout(x.longPressTimerId),u(gm),o.current(),m())},[m,u]),b=Lt(()=>{const x=i.current;p(),x.type==="DRAGGING"&&x.actions.cancel({shouldBlockNextClick:!0}),x.type==="PENDING"&&x.actions.abort()},[p]),v=Lt(function(){const E={capture:!0,passive:!1},A={cancel:b,completed:p,getPhase:l},O=gr(window,KD(A),E),R=gr(window,VD(A),E);o.current=function(){O(),R()}},[b,l,p]),w=Lt(function(){const E=l();E.type!=="PENDING"&&St();const A=E.actions.fluidLift(E.point);u({type:"DRAGGING",actions:A,hasMoved:!1})},[l,u]),S=Lt(function(E,A){l().type!=="IDLE"&&St();const O=setTimeout(w,YD);u({type:"PENDING",point:A,actions:E,longPressTimerId:O}),v()},[v,l,u,w]);nr(function(){return m(),function(){o.current();const A=l();A.type==="PENDING"&&(clearTimeout(A.longPressTimerId),u(gm))}},[l,m,u]),nr(function(){return gr(window,[{eventName:"touchmove",fn:()=>{},options:{capture:!1,passive:!1}}])},[])}const XD=["input","button","textarea","select","option","optgroup","video","audio"];function Ux(t,i){if(i==null)return!1;if(XD.includes(i.tagName.toLowerCase()))return!0;const l=i.getAttribute("contenteditable");return l==="true"||l===""?!0:i===t?!1:Ux(t,i.parentElement)}function WD(t,i){const o=i.target;return qd(o)?Ux(t,o):!1}var QD=t=>jr(t.getBoundingClientRect()).center;function JD(t){return t instanceof Px(t).Element}const t7=(()=>{const t="matches";return typeof document>"u"?t:[t,"msMatchesSelector","webkitMatchesSelector"].find(l=>l in Element.prototype)||t})();function Gx(t,i){return t==null?null:t[t7](i)?t:Gx(t.parentElement,i)}function e7(t,i){return t.closest?t.closest(i):Gx(t,i)}function n7(t){return`[${Es.contextId}="${t}"]`}function r7(t,i){const o=i.target;if(!JD(o))return null;const l=n7(t),u=e7(o,l);return!u||!qd(u)?null:u}function i7(t,i){const o=r7(t,i);return o?o.getAttribute(Es.draggableId):null}function a7(t,i){const o=`[${op.contextId}="${t}"]`,u=Rx(document,o).find(d=>d.getAttribute(op.id)===i);return!u||!qd(u)?null:u}function o7(t){t.preventDefault()}function Fu({expected:t,phase:i,isLockActive:o,shouldWarn:l}){return!(!o()||t!==i)}function Zx({lockAPI:t,store:i,registry:o,draggableId:l}){if(t.isClaimed())return!1;const u=o.draggable.findById(l);return!(!u||!u.options.isEnabled||!kx(i.getState(),l))}function s7({lockAPI:t,contextId:i,store:o,registry:l,draggableId:u,forceSensorStop:d,sourceEvent:m}){if(!Zx({lockAPI:t,store:o,registry:l,draggableId:u}))return null;const b=l.draggable.getById(u),v=a7(i,b.descriptor.id);if(!v||m&&!b.options.canDragInteractiveElements&&WD(v,m))return null;const w=t.claim(d||ja);let S="PRE_DRAG";function x(){return b.options.shouldRespectForcePress}function E(){return t.isActive(w)}function A(B,V){Fu({expected:B,phase:S,isLockActive:E,shouldWarn:!0})&&o.dispatch(V())}const O=A.bind(null,"DRAGGING");function R(B){function V(){t.release(),S="COMPLETED"}S!=="PRE_DRAG"&&(V(),St()),o.dispatch(eM(B.liftActionArgs)),S="DRAGGING";function J(W,rt={shouldBlockNextClick:!1}){if(B.cleanup(),rt.shouldBlockNextClick){const et=gr(window,[{eventName:"click",fn:o7,options:{once:!0,passive:!1,capture:!0}}]);setTimeout(et)}V(),o.dispatch(Tx({reason:W}))}return{isActive:()=>Fu({expected:"DRAGGING",phase:S,isLockActive:E,shouldWarn:!1}),shouldRespectForcePress:x,drop:W=>J("DROP",W),cancel:W=>J("CANCEL",W),...B.actions}}function z(B){const V=rc(W=>{O(()=>wx({client:W}))});return{...R({liftActionArgs:{id:u,clientSelection:B,movementMode:"FLUID"},cleanup:()=>V.cancel(),actions:{move:V}}),move:V}}function H(){const B={moveUp:()=>O(uM),moveRight:()=>O(fM),moveDown:()=>O(dM),moveLeft:()=>O(hM)};return R({liftActionArgs:{id:u,clientSelection:QD(v),movementMode:"SNAP"},cleanup:ja,actions:B})}function k(){Fu({expected:"PRE_DRAG",phase:S,isLockActive:E,shouldWarn:!0})&&t.release()}return{isActive:()=>Fu({expected:"PRE_DRAG",phase:S,isLockActive:E,shouldWarn:!1}),shouldRespectForcePress:x,fluidLift:z,snapLift:H,abort:k}}const l7=[ID,ZD,FD];function c7({contextId:t,store:i,registry:o,customSensors:l,enableDefaultSensors:u}){const d=[...u?l7:[],...l||[]],m=P.useState(()=>MD())[0],p=Lt(function(R,z){cc(R)&&!cc(z)&&m.tryAbandon()},[m]);nr(function(){let R=i.getState();return i.subscribe(()=>{const H=i.getState();p(R,H),R=H})},[m,i,p]),nr(()=>m.tryAbandon,[m.tryAbandon]);const b=Lt(O=>Zx({lockAPI:m,registry:o,store:i,draggableId:O}),[m,o,i]),v=Lt((O,R,z)=>s7({lockAPI:m,registry:o,contextId:t,store:i,draggableId:O,forceSensorStop:R||null,sourceEvent:z&&z.sourceEvent?z.sourceEvent:null}),[t,m,o,i]),w=Lt(O=>i7(t,O),[t]),S=Lt(O=>{const R=o.draggable.findById(O);return R?R.options:null},[o.draggable]),x=Lt(function(){m.isClaimed()&&(m.tryAbandon(),i.getState().phase!=="IDLE"&&i.dispatch(Rp()))},[m,i]),E=Lt(()=>m.isClaimed(),[m]),A=te(()=>({canGetLock:b,tryGetLock:v,findClosestDraggableId:w,findOptionsForDraggable:S,tryReleaseLock:x,isLockClaimed:E}),[b,v,w,S,x,E]);for(let O=0;O<d.length;O++)d[O](A)}const u7=t=>({onBeforeCapture:i=>{const o=()=>{t.onBeforeCapture&&t.onBeforeCapture(i)};hc.flushSync(o)},onBeforeDragStart:t.onBeforeDragStart,onDragStart:t.onDragStart,onDragEnd:t.onDragEnd,onDragUpdate:t.onDragUpdate}),d7=t=>({...lc,...t.autoScrollerOptions,durationDampening:{...lc.durationDampening,...t.autoScrollerOptions}});function Il(t){return t.current||St(),t.current}function f7(t){const{contextId:i,setCallbacks:o,sensors:l,nonce:u,dragHandleUsageInstructions:d}=t,m=P.useRef(null),p=zx(t),b=Lt(()=>u7(p.current),[p]),v=Lt(()=>d7(p.current),[p]),w=SD(i),S=ED({contextId:i,text:d}),x=pD(i,u),E=Lt(et=>{Il(m).dispatch(et)},[]),A=te(()=>wv({publishWhileDragging:rM,updateDroppableScroll:aM,updateDroppableIsEnabled:oM,updateDroppableIsCombineEnabled:sM,collectionStarting:iM},E),[E]),O=yD(),R=te(()=>VM(O,A),[O,A]),z=te(()=>uD({scrollWindow:KM,scrollDroppable:R.scrollDroppable,getAutoScrollerOptions:v,...wv({move:wx},E)}),[R.scrollDroppable,E,v]),H=bD(i),k=te(()=>GM({announce:w,autoScroller:z,dimensionMarshal:R,focusMarshal:H,getResponders:b,styleMarshal:x}),[w,z,R,H,b,x]);m.current=k;const j=Lt(()=>{const et=Il(m);et.getState().phase!=="IDLE"&&et.dispatch(Rp())},[]),B=Lt(()=>{const et=Il(m).getState();return et.phase==="DROP_ANIMATING"?!0:et.phase==="IDLE"?!1:et.isDragging},[]),V=te(()=>({isDragging:B,tryAbort:j}),[B,j]);o(V);const J=Lt(et=>kx(Il(m).getState(),et),[]),W=Lt(()=>bo(Il(m).getState()),[]),rt=te(()=>({marshal:R,focus:H,contextId:i,canLift:J,isMovementAllowed:W,dragHandleUsageInstructionsId:S,registry:O}),[i,R,S,H,J,W,O]);return c7({contextId:i,store:k,registry:O,customSensors:l||null,enableDefaultSensors:t.enableDefaultSensors!==!1}),P.useEffect(()=>j,[j]),Te.createElement(Vd.Provider,{value:rt},Te.createElement(PE,{context:Gp,store:k},t.children))}function h7(){return Te.useId()}function qp(t){const i=h7(),o=t.dragHandleUsageInstructions||gd.dragHandleUsageInstructions;return Te.createElement(ZE,null,l=>Te.createElement(f7,{nonce:t.nonce,contextId:i,setCallbacks:l,dragHandleUsageInstructions:o,enableDefaultSensors:t.enableDefaultSensors,sensors:t.sensors,onBeforeCapture:t.onBeforeCapture,onBeforeDragStart:t.onBeforeDragStart,onDragStart:t.onDragStart,onDragUpdate:t.onDragUpdate,onDragEnd:t.onDragEnd,autoScrollerOptions:t.autoScrollerOptions},t.children))}const Qv={dragging:5e3,dropAnimating:4500},m7=(t,i)=>i?Ql.drop(i.duration):t?Ql.snap:Ql.fluid,p7=(t,i)=>{if(t)return i?sc.opacity.drop:sc.opacity.combining},g7=t=>t.forceShouldAnimate!=null?t.forceShouldAnimate:t.mode==="SNAP";function b7(t){const o=t.dimension.client,{offset:l,combineWith:u,dropping:d}=t,m=!!u,p=g7(t),b=!!d,v=b?ip.drop(l,m):ip.moveTo(l);return{position:"fixed",top:o.marginBox.top,left:o.marginBox.left,boxSizing:"border-box",width:o.borderBox.width,height:o.borderBox.height,transition:m7(p,d),transform:v,opacity:p7(m,b),zIndex:b?Qv.dropAnimating:Qv.dragging,pointerEvents:"none"}}function v7(t){return{transform:ip.moveTo(t.offset),transition:t.shouldAnimateDisplacement?void 0:"none"}}function y7(t){return t.type==="DRAGGING"?b7(t):v7(t)}function _7(t,i,o=nn){const l=window.getComputedStyle(i),u=i.getBoundingClientRect(),d=W_(u,l),m=wd(d,o),p={client:d,tagName:i.tagName.toLowerCase(),display:l.display},b={x:d.marginBox.width,y:d.marginBox.height};return{descriptor:t,placeholder:p,displaceBy:b,client:d,page:m}}function x7(t){const i=Zp("draggable"),{descriptor:o,registry:l,getDraggableRef:u,canDragInteractiveElements:d,shouldRespectForcePress:m,isEnabled:p}=t,b=te(()=>({canDragInteractiveElements:d,shouldRespectForcePress:m,isEnabled:p}),[d,p,m]),v=Lt(E=>{const A=u();return A||St(),_7(o,A,E)},[o,u]),w=te(()=>({uniqueId:i,descriptor:o,options:b,getDimension:v}),[o,v,b,i]),S=P.useRef(w),x=P.useRef(!0);nr(()=>(l.draggable.register(S.current),()=>l.draggable.unregister(S.current)),[l.draggable]),nr(()=>{if(x.current){x.current=!1;return}const E=S.current;S.current=w,l.draggable.update(w,E)},[w,l.draggable])}var Vp=Te.createContext(null);function Nd(t){const i=P.useContext(t);return i||St(),i}function S7(t){t.preventDefault()}const w7=t=>{const i=P.useRef(null),o=Lt((V=null)=>{i.current=V},[]),l=Lt(()=>i.current,[]),{contextId:u,dragHandleUsageInstructionsId:d,registry:m}=Nd(Vd),{type:p,droppableId:b}=Nd(Vp),v=te(()=>({id:t.draggableId,index:t.index,type:p,droppableId:b}),[t.draggableId,t.index,p,b]),{children:w,draggableId:S,isEnabled:x,shouldRespectForcePress:E,canDragInteractiveElements:A,isClone:O,mapped:R,dropAnimationFinished:z}=t;if(!O){const V=te(()=>({descriptor:v,registry:m,getDraggableRef:l,canDragInteractiveElements:A,shouldRespectForcePress:E,isEnabled:x}),[v,m,l,A,E,x]);x7(V)}const H=te(()=>x?{tabIndex:0,role:"button","aria-describedby":d,"data-rfd-drag-handle-draggable-id":S,"data-rfd-drag-handle-context-id":u,draggable:!1,onDragStart:S7}:null,[u,d,S,x]),k=Lt(V=>{R.type==="DRAGGING"&&R.dropping&&V.propertyName==="transform"&&hc.flushSync(z)},[z,R]),j=te(()=>{const V=y7(R),J=R.type==="DRAGGING"&&R.dropping?k:void 0;return{innerRef:o,draggableProps:{"data-rfd-draggable-context-id":u,"data-rfd-draggable-id":S,style:V,onTransitionEnd:J},dragHandleProps:H}},[u,H,S,R,k,o]),B=te(()=>({draggableId:v.id,type:v.type,source:{index:v.index,droppableId:v.droppableId}}),[v.droppableId,v.id,v.index,v.type]);return Te.createElement(Te.Fragment,null,w(j,R.snapshot,B))};var Yx=(t,i)=>t===i,qx=t=>{const{combine:i,destination:o}=t;return o?o.droppableId:i?i.droppableId:null};const T7=t=>t.combine?t.combine.draggableId:null,E7=t=>t.at&&t.at.type==="COMBINE"?t.at.combine.draggableId:null;function M7(){const t=en((u,d)=>({x:u,y:d})),i=en((u,d,m=null,p=null,b=null)=>({isDragging:!0,isClone:d,isDropAnimating:!!b,dropAnimation:b,mode:u,draggingOver:m,combineWith:p,combineTargetFor:null})),o=en((u,d,m,p,b=null,v=null,w=null)=>({mapped:{type:"DRAGGING",dropping:null,draggingOver:b,combineWith:v,mode:d,offset:u,dimension:m,forceShouldAnimate:w,snapshot:i(d,p,b,v,null)}}));return(u,d)=>{if(cc(u)){if(u.critical.draggable.id!==d.draggableId)return null;const m=u.current.client.offset,p=u.dimensions.draggables[d.draggableId],b=er(u.impact),v=E7(u.impact),w=u.forceShouldAnimate;return o(t(m.x,m.y),u.movementMode,p,d.isClone,b,v,w)}if(u.phase==="DROP_ANIMATING"){const m=u.completed;if(m.result.draggableId!==d.draggableId)return null;const p=d.isClone,b=u.dimensions.draggables[d.draggableId],v=m.result,w=v.mode,S=qx(v),x=T7(v),A={duration:u.dropDuration,curve:zp.drop,moveTo:u.newHomeClientOffset,opacity:x?sc.opacity.drop:null,scale:x?sc.scale.drop:null};return{mapped:{type:"DRAGGING",offset:u.newHomeClientOffset,dimension:b,dropping:A,draggingOver:S,combineWith:x,mode:w,forceShouldAnimate:null,snapshot:i(w,p,S,x,A)}}}return null}}function Vx(t=null){return{isDragging:!1,isDropAnimating:!1,isClone:!1,dropAnimation:null,mode:null,draggingOver:null,combineTargetFor:t,combineWith:null}}const D7={mapped:{type:"SECONDARY",offset:nn,combineTargetFor:null,shouldAnimateDisplacement:!0,snapshot:Vx(null)}};function A7(){const t=en((m,p)=>({x:m,y:p})),i=en(Vx),o=en((m,p=null,b)=>({mapped:{type:"SECONDARY",offset:m,combineTargetFor:p,shouldAnimateDisplacement:b,snapshot:i(p)}})),l=m=>m?o(nn,m,!0):null,u=(m,p,b,v)=>{const w=b.displaced.visible[m],S=!!(v.inVirtualList&&v.effected[m]),x=Gd(b),E=x&&x.draggableId===m?p:null;if(!w){if(!S)return l(E);if(b.displaced.invisible[m])return null;const R=As(v.displacedBy.point),z=t(R.x,R.y);return o(z,E,!0)}if(S)return l(E);const A=b.displacedBy.point,O=t(A.x,A.y);return o(O,E,w.shouldAnimate)};return(m,p)=>{if(cc(m))return m.critical.draggable.id===p.draggableId?null:u(p.draggableId,m.critical.draggable.id,m.impact,m.afterCritical);if(m.phase==="DROP_ANIMATING"){const b=m.completed;return b.result.draggableId===p.draggableId?null:u(p.draggableId,b.result.draggableId,b.impact,b.afterCritical)}return null}}const N7=()=>{const t=M7(),i=A7();return(l,u)=>t(l,u)||i(l,u)||D7},O7={dropAnimationFinished:Ex},j7=X_(N7,O7,null,{context:Gp,areStatePropsEqual:Yx})(w7);function Kx(t){return Nd(Vp).isUsingCloneFor===t.draggableId&&!t.isClone?null:Te.createElement(j7,t)}function Od(t){const i=typeof t.isDragDisabled=="boolean"?!t.isDragDisabled:!0,o=!!t.disableInteractiveElementBlocking,l=!!t.shouldRespectForcePress;return Te.createElement(Kx,Td({},t,{isClone:!1,isEnabled:i,canDragInteractiveElements:o,shouldRespectForcePress:l}))}const Fx=t=>i=>t===i,k7=Fx("scroll"),L7=Fx("auto"),Jv=(t,i)=>i(t.overflowX)||i(t.overflowY),C7=t=>{const i=window.getComputedStyle(t),o={overflowX:i.overflowX,overflowY:i.overflowY};return Jv(o,k7)||Jv(o,L7)},B7=()=>!1,Xx=t=>t==null?null:t===document.body?B7()?t:null:t===document.documentElement?null:C7(t)?t:Xx(t.parentElement);var sp=t=>({x:t.scrollLeft,y:t.scrollTop});const Wx=t=>t?window.getComputedStyle(t).position==="fixed"?!0:Wx(t.parentElement):!1;var R7=t=>{const i=Xx(t),o=Wx(t);return{closestScrollable:i,isFixedOnPage:o}},P7=({descriptor:t,isEnabled:i,isCombineEnabled:o,isFixedOnPage:l,direction:u,client:d,page:m,closest:p})=>{const b=(()=>{if(!p)return null;const{scrollSize:x,client:E}=p,A=Nx({scrollHeight:x.scrollHeight,scrollWidth:x.scrollWidth,height:E.paddingBox.height,width:E.paddingBox.width});return{pageMarginBox:p.page.marginBox,frameClient:E,scrollSize:x,shouldClipSubject:p.shouldClipSubject,scroll:{initial:p.scroll,current:p.scroll,max:A,diff:{value:nn,displacement:nn}}}})(),v=u==="vertical"?jp:lx,w=ws({page:m,withPlaceholder:null,axis:v,frame:b});return{descriptor:t,isCombineEnabled:o,isFixedOnPage:l,axis:v,isEnabled:i,client:d,page:m,frame:b,subject:w}};const z7=(t,i)=>{const o=Q_(t);if(!i||t!==i)return o;const l=o.paddingBox.top-i.scrollTop,u=o.paddingBox.left-i.scrollLeft,d=l+i.scrollHeight,m=u+i.scrollWidth,b=Dp({top:l,right:m,bottom:d,left:u},o.border);return Ap({borderBox:b,margin:o.margin,border:o.border,padding:o.padding})};var H7=({ref:t,descriptor:i,env:o,windowScroll:l,direction:u,isDropDisabled:d,isCombineEnabled:m,shouldClipSubject:p})=>{const b=o.closestScrollable,v=z7(t,b),w=wd(v,l),S=(()=>{if(!b)return null;const E=Q_(b),A={scrollHeight:b.scrollHeight,scrollWidth:b.scrollWidth};return{client:E,page:wd(E,l),scroll:sp(b),scrollSize:A,shouldClipSubject:p}})();return P7({descriptor:i,isEnabled:!d,isCombineEnabled:m,isFixedOnPage:o.isFixedOnPage,direction:u,client:v,page:w,closest:S})};const I7={passive:!1},$7={passive:!0};var ty=t=>t.shouldPublishImmediately?I7:$7;const Xu=t=>t&&t.env.closestScrollable||null;function U7(t){const i=P.useRef(null),o=Nd(Vd),l=Zp("droppable"),{registry:u,marshal:d}=o,m=zx(t),p=te(()=>({id:t.droppableId,type:t.type,mode:t.mode}),[t.droppableId,t.mode,t.type]),b=P.useRef(p),v=te(()=>en((j,B)=>{i.current||St();const V={x:j,y:B};d.updateDroppableScroll(p.id,V)}),[p.id,d]),w=Lt(()=>{const j=i.current;return!j||!j.env.closestScrollable?nn:sp(j.env.closestScrollable)},[]),S=Lt(()=>{const j=w();v(j.x,j.y)},[w,v]),x=te(()=>rc(S),[S]),E=Lt(()=>{const j=i.current,B=Xu(j);if(j&&B||St(),j.scrollOptions.shouldPublishImmediately){S();return}x()},[x,S]),A=Lt((j,B)=>{i.current&&St();const V=m.current,J=V.getDroppableRef();J||St();const W=R7(J),rt={ref:J,descriptor:p,env:W,scrollOptions:B};i.current=rt;const et=H7({ref:J,descriptor:p,env:W,windowScroll:j,direction:V.direction,isDropDisabled:V.isDropDisabled,isCombineEnabled:V.isCombineEnabled,shouldClipSubject:!V.ignoreContainerClipping}),K=W.closestScrollable;return K&&(K.setAttribute(Kv.contextId,o.contextId),K.addEventListener("scroll",E,ty(rt.scrollOptions))),et},[o.contextId,p,E,m]),O=Lt(()=>{const j=i.current,B=Xu(j);return j&&B||St(),sp(B)},[]),R=Lt(()=>{const j=i.current;j||St();const B=Xu(j);i.current=null,B&&(x.cancel(),B.removeAttribute(Kv.contextId),B.removeEventListener("scroll",E,ty(j.scrollOptions)))},[E,x]),z=Lt(j=>{const B=i.current;B||St();const V=Xu(B);V||St(),V.scrollTop+=j.y,V.scrollLeft+=j.x},[]),H=te(()=>({getDimensionAndWatchScroll:A,getScrollWhileDragging:O,dragStopped:R,scroll:z}),[R,A,O,z]),k=te(()=>({uniqueId:l,descriptor:p,callbacks:H}),[H,p,l]);nr(()=>(b.current=k.descriptor,u.droppable.register(k),()=>{i.current&&R(),u.droppable.unregister(k)}),[H,p,R,k,d,u.droppable]),nr(()=>{i.current&&d.updateDroppableIsEnabled(b.current.id,!t.isDropDisabled)},[t.isDropDisabled,d]),nr(()=>{i.current&&d.updateDroppableIsCombineEnabled(b.current.id,t.isCombineEnabled)},[t.isCombineEnabled,d])}function bm(){}const ey={width:0,height:0,margin:WE},G7=({isAnimatingOpenOnMount:t,placeholder:i,animate:o})=>t||o==="close"?ey:{height:i.client.borderBox.height,width:i.client.borderBox.width,margin:i.client.margin},Z7=({isAnimatingOpenOnMount:t,placeholder:i,animate:o})=>{const l=G7({isAnimatingOpenOnMount:t,placeholder:i,animate:o});return{display:i.display,boxSizing:"border-box",width:l.width,height:l.height,marginTop:l.margin.top,marginRight:l.margin.right,marginBottom:l.margin.bottom,marginLeft:l.margin.left,flexShrink:"0",flexGrow:"0",pointerEvents:"none",transition:o!=="none"?Ql.placeholder:null}},Y7=t=>{const i=P.useRef(null),o=Lt(()=>{i.current&&(clearTimeout(i.current),i.current=null)},[]),{animate:l,onTransitionEnd:u,onClose:d,contextId:m}=t,[p,b]=P.useState(t.animate==="open");P.useEffect(()=>p?l!=="open"?(o(),b(!1),bm):i.current?bm:(i.current=setTimeout(()=>{i.current=null,b(!1)}),o):bm,[l,p,o]);const v=Lt(S=>{S.propertyName==="height"&&(u(),l==="close"&&d())},[l,d,u]),w=Z7({isAnimatingOpenOnMount:p,animate:t.animate,placeholder:t.placeholder});return Te.createElement(t.placeholder.tagName,{style:w,"data-rfd-placeholder-context-id":m,onTransitionEnd:v,ref:t.innerRef})};var q7=Te.memo(Y7);class V7 extends Te.PureComponent{constructor(...i){super(...i),this.state={isVisible:!!this.props.on,data:this.props.on,animate:this.props.shouldAnimate&&this.props.on?"open":"none"},this.onClose=()=>{this.state.animate==="close"&&this.setState({isVisible:!1})}}static getDerivedStateFromProps(i,o){return i.shouldAnimate?i.on?{isVisible:!0,data:i.on,animate:"open"}:o.isVisible?{isVisible:!0,data:o.data,animate:"close"}:{isVisible:!1,animate:"close",data:null}:{isVisible:!!i.on,data:i.on,animate:"none"}}render(){if(!this.state.isVisible)return null;const i={onClose:this.onClose,data:this.state.data,animate:this.state.animate};return this.props.children(i)}}const K7=t=>{const i=P.useContext(Vd);i||St();const{contextId:o,isMovementAllowed:l}=i,u=P.useRef(null),d=P.useRef(null),{children:m,droppableId:p,type:b,mode:v,direction:w,ignoreContainerClipping:S,isDropDisabled:x,isCombineEnabled:E,snapshot:A,useClone:O,updateViewportMaxScroll:R,getContainerForClone:z}=t,H=Lt(()=>u.current,[]),k=Lt((K=null)=>{u.current=K},[]);Lt(()=>d.current,[]);const j=Lt((K=null)=>{d.current=K},[]),B=Lt(()=>{l()&&R({maxScroll:jx()})},[l,R]);U7({droppableId:p,type:b,mode:v,direction:w,isDropDisabled:x,isCombineEnabled:E,ignoreContainerClipping:S,getDroppableRef:H});const V=te(()=>Te.createElement(V7,{on:t.placeholder,shouldAnimate:t.shouldAnimatePlaceholder},({onClose:K,data:U,animate:Q})=>Te.createElement(q7,{placeholder:U,onClose:K,innerRef:j,animate:Q,contextId:o,onTransitionEnd:B})),[o,B,t.placeholder,t.shouldAnimatePlaceholder,j]),J=te(()=>({innerRef:k,placeholder:V,droppableProps:{"data-rfd-droppable-id":p,"data-rfd-droppable-context-id":o}}),[o,p,V,k]),W=O?O.dragging.draggableId:null,rt=te(()=>({droppableId:p,type:b,isUsingCloneFor:W}),[p,W,b]);function et(){if(!O)return null;const{dragging:K,render:U}=O,Q=Te.createElement(Kx,{draggableId:K.draggableId,index:K.source.index,isClone:!0,isEnabled:!0,shouldRespectForcePress:!1,canDragInteractiveElements:!0},(mt,vt)=>U(mt,vt,K));return RT.createPortal(Q,z())}return Te.createElement(Vp.Provider,{value:rt},m(J,A),et())};function F7(){return document.body||St(),document.body}const ny={mode:"standard",type:"DEFAULT",direction:"vertical",isDropDisabled:!1,isCombineEnabled:!1,ignoreContainerClipping:!1,renderClone:null,getContainerForClone:F7},Qx=t=>{let i={...t},o;for(o in ny)t[o]===void 0&&(i={...i,[o]:ny[o]});return i},vm=(t,i)=>t===i.droppable.type,ry=(t,i)=>i.draggables[t.draggable.id],X7=()=>{const t={placeholder:null,shouldAnimatePlaceholder:!0,snapshot:{isDraggingOver:!1,draggingOverWith:null,draggingFromThisWith:null,isUsingPlaceholder:!1},useClone:null},i={...t,shouldAnimatePlaceholder:!1},o=en(d=>({draggableId:d.id,type:d.type,source:{index:d.index,droppableId:d.droppableId}})),l=en((d,m,p,b,v,w)=>{const S=v.descriptor.id;if(v.descriptor.droppableId===d){const A=w?{render:w,dragging:o(v.descriptor)}:null,O={isDraggingOver:p,draggingOverWith:p?S:null,draggingFromThisWith:S,isUsingPlaceholder:!0};return{placeholder:v.placeholder,shouldAnimatePlaceholder:!1,snapshot:O,useClone:A}}if(!m)return i;if(!b)return t;const E={isDraggingOver:p,draggingOverWith:S,draggingFromThisWith:null,isUsingPlaceholder:!0};return{placeholder:v.placeholder,shouldAnimatePlaceholder:!0,snapshot:E,useClone:null}});return(d,m)=>{const p=Qx(m),b=p.droppableId,v=p.type,w=!p.isDropDisabled,S=p.renderClone;if(cc(d)){const x=d.critical;if(!vm(v,x))return i;const E=ry(x,d.dimensions),A=er(d.impact)===b;return l(b,w,A,A,E,S)}if(d.phase==="DROP_ANIMATING"){const x=d.completed;if(!vm(v,x.critical))return i;const E=ry(x.critical,d.dimensions);return l(b,w,qx(x.result)===b,er(x.impact)===b,E,S)}if(d.phase==="IDLE"&&d.completed&&!d.shouldFlush){const x=d.completed;if(!vm(v,x.critical))return i;const E=er(x.impact)===b,A=!!(x.impact.at&&x.impact.at.type==="COMBINE"),O=x.critical.droppable.id===b;return E?A?t:i:O?t:i}return i}},W7={updateViewportMaxScroll:cM},Jl=X_(X7,W7,(t,i,o)=>({...Qx(o),...t,...i}),{context:Gp,areStatePropsEqual:Yx})(K7),gc=xp()(Sp((t,i)=>({list:[],add:o=>t({list:[o,...i().list]}),remove:o=>t({list:i().list.filter(l=>l.id!==o)}),update:(o,l)=>t({list:i().list.map(u=>u.id===o?{...u,...l}:u)}),reorder:o=>t({list:o})}),{name:"myeongsik-list",partialize:t=>({list:t.list.map(i=>({...i,dir:i.dir??"forward"}))})})),Q7=[{value:"본인",label:"본인 (1인지정만 가능)"},{value:"연인/배우자",label:"연인 / 배우자"},{value:"가족",label:"가족"},{value:"고객",label:"고객"},{value:"친구",label:"친구"},{value:"동료",label:"동료"},{value:"지인",label:"지인"}],Jx=({value:t,onChange:i})=>{const[o,l]=P.useState(Q7),[u,d]=P.useState(""),[m,p]=P.useState(!1),[b,v]=P.useState(""),[w,S]=P.useState(!1),{list:x}=gc(),A=x.some(k=>k.relationship==="본인")?o.filter(k=>k.value!=="본인"):o;P.useEffect(()=>{t!==void 0&&d(t)},[t]);const O=k=>{const j=k.target.value;d(j),i?.(j),j==="기타입력"?p(!0):(p(!1),v(""))};P.useEffect(()=>{const k=localStorage.getItem("relationshipOptions");k&&l(JSON.parse(k))},[]),P.useEffect(()=>{localStorage.setItem("relationshipOptions",JSON.stringify(o))},[o]);const R=()=>{if(!b.trim())return;const k={value:b,label:b};l([...o,k]),d(b),v(""),p(!1)},z=k=>{l(o.filter(j=>j.value!==k)),u===k&&d("")},H=k=>{if(!k.destination)return;const j=Array.from(o),[B]=j.splice(k.source.index,1);j.splice(k.destination.index,0,B),l(j)};return y.jsxs(y.Fragment,{children:[y.jsxs("div",{className:"rel_set flex items-center gap-2",children:[y.jsxs("select",{name:"relationship",id:"relationship",value:u,onChange:O,children:[y.jsx("option",{value:"",hidden:!0,children:"관계선택"}),A.map(k=>y.jsx("option",{value:k.value,children:k.label},k.value)),y.jsx("option",{value:"기타입력",children:"기타입력"})]}),y.jsx("button",{type:"button",onClick:()=>S(!0),className:"btn_style",children:"관계수정"})]}),m&&!w&&y.jsxs("div",{className:"rel_set flex items-center mt-2 gap-2",children:[y.jsx("input",{type:"text",placeholder:"관계 기타입력",value:b,onChange:k=>v(k.target.value)}),y.jsx("button",{type:"button",onClick:R,className:"btn_style",children:"관계추가"})]}),w&&y.jsxs("div",{className:"p-3 border mt-2 rounded bg-gray-50 dark:bg-neutral-900",children:[y.jsx("h4",{className:"font-bold mb-2",children:"관계 수정"}),y.jsx(qp,{onDragEnd:H,children:y.jsx(Jl,{droppableId:"relList",children:k=>y.jsxs("ul",{ref:k.innerRef,...k.droppableProps,className:"space-y-1",children:[o.map((j,B)=>y.jsx(Od,{draggableId:j.value,index:B,children:V=>y.jsxs("li",{ref:V.innerRef,...V.draggableProps,...V.dragHandleProps,className:"flex justify-between items-center bg-white dark:bg-neutral-800 p-2 rounded border text-sm desk:text-base",children:[y.jsx("span",{className:"cursor-grab mr-2",children:"☰"}),y.jsx("span",{className:"flex-1 pr-1",children:j.label}),y.jsx("button",{type:"button",className:"text-red-500",onClick:()=>z(j.value),children:"삭제"})]})},j.value)),k.placeholder]})})}),y.jsx("button",{type:"button",onClick:()=>S(!1),className:"w-full btn_style mt-2",children:"닫기"})]})]})},J7={1948:{start:new Date(1948,4,1),end:new Date(1948,7,13)},1949:{start:new Date(1949,2,3),end:new Date(1949,7,11)},1950:{start:new Date(1950,2,1),end:new Date(1950,7,10)},1951:{start:new Date(1951,3,6),end:new Date(1951,7,9)},1955:{start:new Date(1955,3,5),end:new Date(1955,7,9)},1956:{start:new Date(1956,3,20),end:new Date(1956,7,30)},1957:{start:new Date(1957,3,5),end:new Date(1957,7,22)},1958:{start:new Date(1958,3,4),end:new Date(1958,7,21)},1959:{start:new Date(1959,3,3),end:new Date(1959,7,20)},1960:{start:new Date(1960,3,1),end:new Date(1960,7,18)},1987:{start:new Date(1987,3,10),end:new Date(1987,8,11)},1988:{start:new Date(1988,3,8),end:new Date(1988,8,9)}};function jd(t,i,o){const l=J7[t];if(!l)return!1;const u=new Date(t,i-1,o,0,0,0,0);return u>=l.start&&u<l.end}function tA(t){if(!isFinite(t.getTime()))return 0;const i=t.getUTCFullYear(),o=Date.UTC(i,0,1),u=Math.floor((t.getTime()-o)/864e5)+1,d=t.getUTCHours(),m=t.getUTCMinutes(),p=t.getUTCSeconds(),b=(d-12)/24+m/1440+p/86400,v=2*Math.PI/365*(u-1+b);return 229.18*(75e-6+.001868*Math.cos(v)-.032077*Math.sin(v)-.014615*Math.cos(2*v)-.040849*Math.sin(2*v))}function eA(t){return t=(t+540)%360-180,t>=124&&t<=132||t>=129&&t<=146?135:t>=73&&t<=135?120:t>=-161&&t<=-154?-150:t>=-170&&t<-161?-165:t>=-150&&t<-141?-135:t>=-141&&t<-126?-120:t>=-126&&t<-111?-105:t>=-111&&t<-96?-90:t>=-96&&t<-81?-75:Math.round(t/15)*15}function js(t,i){const o=new Date(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),0,0);if(i==null||!isFinite(i))return o;let l=i;Math.abs(l)<=Math.PI+1e-6&&(l=l*180/Math.PI),l=(l+540)%360-180;const u=eA(l),d=4*(l-u),m=tA(o);return new Date(o.getTime()+(d+m)*60*1e3)}const dn="폴더 미지정",kd=["가족","친구","직장","지인","고객","기타"],Ld="ms_folders",nA="ms_folder_order",rA="ms_folder_favs",t1="ms_disabled_presets";function iA(t){return!t||t==="미분류"?dn:t}function uc(t){if(!(!t||t===dn||t==="미분류"))return t}function iy(){try{const t=localStorage.getItem(Ld),i=localStorage.getItem(t1),o=t?JSON.parse(t):[],l=i?JSON.parse(i):[],u=kd.filter(d=>!l.includes(d));return[dn,...u,...o]}catch{return[dn,...kd]}}function aA(t){const i=t.trim();if(!(!i||i===dn))try{const o=localStorage.getItem(Ld),l=o?JSON.parse(o):[];if(!l.includes(i)){const u=[...l,i];localStorage.setItem(Ld,JSON.stringify(u))}}catch{}}function oA({value:t,onChange:i}){const[o,l]=P.useState([dn]),[u,d]=P.useState(!1),[m,p]=P.useState("");P.useEffect(()=>{const v=iy();l(Array.from(new Set(v)))},[]);const b=P.useMemo(()=>t||dn,[t]);return y.jsxs("div",{className:"space-y-2",children:[y.jsxs("div",{className:"flex items-center gap-2",children:[y.jsxs("select",{className:"flex-1 border rounded-lg p-2",value:u?"__custom__":b,onChange:v=>{const w=v.target.value;if(w==="__custom__"){d(!0),i(void 0);return}d(!1),i(uc(w))},children:[o.map(v=>y.jsx("option",{value:v,children:v},v)),y.jsx("option",{value:"__custom__",children:"+ 새 폴더 직접입력…"})]}),u&&y.jsxs(y.Fragment,{children:[y.jsx("input",{type:"text",value:m,onChange:v=>p(v.target.value),placeholder:"새 폴더 이름",className:"flex-1 border rounded-lg p-2"}),y.jsx("button",{type:"button",className:"px-3 py-2 rounded bg-neutral-800 hover:bg-neutral-700 text-sm",onClick:()=>{const v=m.trim();v&&(aA(v),l(iy()),i(v),d(!1),p(""))},children:"추가"})]})]}),y.jsxs("p",{className:"text-xs text-gray-500",children:['폴더를 지정하지 않으려면 "',dn,'"을 선택하세요. 직접입력으로 새 폴더를 만들 수 있어요.']})]})}function e1({message:t,onClose:i,ms:o=2e3}){return P.useEffect(()=>{const l=setTimeout(i,o);return()=>clearTimeout(l)},[i,o]),y.jsx("div",{className:"fixed top-4 left-1/2 -translate-x-1/2 bg-black text-white px-4 py-2 rounded-lg shadow-lg z-[9999]",children:t})}var bd={exports:{}},sA=bd.exports,ay;function lA(){return ay||(ay=1,(function(t,i){(function(o,l){t.exports=l()})(sA,function(){return(function(o){function l(d){if(u[d])return u[d].exports;var m=u[d]={i:d,l:!1,exports:{}};return o[d].call(m.exports,m,m.exports,l),m.l=!0,m.exports}var u={};return l.m=o,l.c=u,l.d=function(d,m,p){l.o(d,m)||Object.defineProperty(d,m,{configurable:!1,enumerable:!0,get:p})},l.n=function(d){var m=d&&d.__esModule?function(){return d.default}:function(){return d};return l.d(m,"a",m),m},l.o=function(d,m){return Object.prototype.hasOwnProperty.call(d,m)},l.p="",l(l.s=0)})([function(o,l,u){Object.defineProperty(l,"__esModule",{value:!0});var d=u(1),m=(function(p){return p&&p.__esModule?p:{default:p}})(d);l.default=m.default,o.exports=l.default},function(o,l,u){function d(Q){return Q&&Q.__esModule?Q:{default:Q}}Object.defineProperty(l,"__esModule",{value:!0});var m=u(2),p=d(m),b=u(3),v=d(b),w=u(4),S=d(w),x=u(5),E=d(x),A=u(6),O=d(A),R=u(7),z=d(R),H=u(8),k=d(H),j=u(9),B=d(j),V=u(10),J=d(V),W=u(11),rt=d(W),et=u(12),K=d(et),U={lunarInfo:p.default,solarMonth:v.default,gan:S.default,zhi:E.default,animals:O.default,lunarTerm:z.default,lTermInfo:k.default,nStr1:B.default,nStr2:J.default,nStr3:rt.default,nStr4:K.default,lYearDays:function(Q){var mt,vt=348;for(mt=32768;mt>8;mt>>=1)vt+=U.lunarInfo[Q-1900]&mt?1:0;return vt+U.leapDays(Q)},leapMonth:function(Q){return 15&U.lunarInfo[Q-1900]},leapDays:function(Q){return U.leapMonth(Q)?65536&U.lunarInfo[Q-1900]?30:29:0},monthDays:function(Q,mt){return mt>12||mt<1?-1:U.lunarInfo[Q-1900]&65536>>mt?30:29},solarDays:function(Q,mt){if(mt>12||mt<1)return-1;var vt=mt-1;return vt==1?Q%4==0&&Q%100!=0||Q%400==0?29:28:U.solarMonth[vt]},toGanZhi:function(Q){return U.gan[Q%10]+U.zhi[Q%12]},getTerm:function(Q,mt){if(Q<1900||Q>2100||mt<1||mt>24)return-1;var vt=U.lTermInfo[Q-1900],$=[parseInt("0x"+vt.substr(0,5)).toString(),parseInt("0x"+vt.substr(5,5)).toString(),parseInt("0x"+vt.substr(10,5)).toString(),parseInt("0x"+vt.substr(15,5)).toString(),parseInt("0x"+vt.substr(20,5)).toString(),parseInt("0x"+vt.substr(25,5)).toString()],it=[$[0].substr(0,1),$[0].substr(1,2),$[0].substr(3,1),$[0].substr(4,2),$[1].substr(0,1),$[1].substr(1,2),$[1].substr(3,1),$[1].substr(4,2),$[2].substr(0,1),$[2].substr(1,2),$[2].substr(3,1),$[2].substr(4,2),$[3].substr(0,1),$[3].substr(1,2),$[3].substr(3,1),$[3].substr(4,2),$[4].substr(0,1),$[4].substr(1,2),$[4].substr(3,1),$[4].substr(4,2),$[5].substr(0,1),$[5].substr(1,2),$[5].substr(3,1),$[5].substr(4,2)];return parseInt(it[mt-1])},toChinaYear:function(Q){var mt=parseInt(Q/1e3),vt=parseInt(Q%1e3/100),$=parseInt(Q%100/10),it=Q%10;return U.nStr4[mt]+U.nStr4[vt]+U.nStr4[$]+U.nStr4[it]+"年"},toChinaMonth:function(Q){if(Q>12||Q<1)return-1;var mt=U.nStr3[Q-1];return mt+="月"},toChinaDay:function(Q){var mt;switch(Q){case 10:mt="初十";break;case 20:mt="二十";break;case 30:mt="三十";break;default:mt=U.nStr2[Math.floor(Q/10)],mt+=U.nStr1[Q%10]}return mt},getAnimal:function(Q){return U.animals[(Q-4)%12]},solar2lunar:function(I,D,G){if(I<1900||I>2100||I==1900&&D==1&&G<31)return-1;if(I)var $=new Date(I,parseInt(D)-1,G);else var $=new Date;var it,bt=0,ot=0,I=$.getFullYear(),D=$.getMonth()+1,G=$.getDate(),F=(Date.UTC($.getFullYear(),$.getMonth(),$.getDate())-Date.UTC(1900,0,31))/864e5;for(it=1900;it<2101&&F>0;it++)ot=U.lYearDays(it),F-=ot;F<0&&(F+=ot,it--);var q=new Date,tt=!1;q.getFullYear()==I&&q.getMonth()+1==D&&q.getDate()==G&&(tt=!0);var lt=$.getDay(),ht=U.nStr1[lt];lt==0&&(lt=7);var wt=it,bt=U.leapMonth(it),Tt=!1;for(it=1;it<13&&F>0;it++)bt>0&&it==bt+1&&Tt==0?(--it,Tt=!0,ot=U.leapDays(wt)):ot=U.monthDays(wt,it),Tt==1&&it==bt+1&&(Tt=!1),F-=ot;F==0&&bt>0&&it==bt+1&&(Tt?Tt=!1:(Tt=!0,--it)),F<0&&(F+=ot,--it);var $t=it,Wt=F+1,Pt=D-1,Bt=U.getTerm(I,3),re=U.toGanZhi(I-4),me=new Date(I,1,Bt).getTime();new Date(I,Pt,G).getTime()<me&&(re=U.toGanZhi(I-5));var fe=U.getTerm(I,2*D-1),pe=U.getTerm(I,2*D),Mt=U.toGanZhi(12*(I-1900)+D+11);G>=fe&&(Mt=U.toGanZhi(12*(I-1900)+D+12));var Vt=!1,Kt="";fe==G&&(Vt=!0,Kt=U.lunarTerm[2*D-2]),pe==G&&(Vt=!0,Kt=U.lunarTerm[2*D-1]);var Ot=Date.UTC(I,Pt,1,0,0,0,0)/864e5+25567+10,ie=U.toGanZhi(Ot+G-1);return{lYear:wt,lMonth:$t,lDay:Wt,animal:U.getAnimal(wt),yearCn:U.toChinaYear(wt),monthCn:(Tt&&bt===$t?"闰":"")+U.toChinaMonth($t),dayCn:U.toChinaDay(Wt),cYear:I,cMonth:D,cDay:G,gzYear:re,gzMonth:Mt,gzDay:ie,isToday:tt,isLeap:Tt,nWeek:lt,ncWeek:"星期"+ht,isTerm:Vt,term:Kt}},lunar2solar:function(Q,mt,vt,$){var it=U.leapMonth(Q);if(U.leapDays(Q),$&&it!=mt||Q==2100&&mt==12&&vt>1||Q==1900&&mt==1&&vt<31)return-1;var ot=U.monthDays(Q,mt);if(Q<1900||Q>2100||vt>ot)return-1;for(var I=0,D=1900;D<Q;D++)I+=U.lYearDays(D);for(var G=0,F=!1,D=1;D<mt;D++)G=U.leapMonth(Q),F||G<=D&&G>0&&(I+=U.leapDays(Q),F=!0),I+=U.monthDays(Q,D);$&&(I+=ot);var q=Date.UTC(1900,1,30,0,0,0),tt=new Date(864e5*(I+vt-31)+q),lt=tt.getUTCFullYear(),ht=tt.getUTCMonth()+1,wt=tt.getUTCDate();return U.solar2lunar(lt,ht,wt)}};l.default=U,o.exports=l.default},function(o,l,u){Object.defineProperty(l,"__esModule",{value:!0}),l.default=[19416,19168,42352,21717,53856,55632,91476,22176,39632,21970,19168,42422,42192,53840,119381,46400,54944,44450,38320,84343,18800,42160,46261,27216,27968,109396,11104,38256,21234,18800,25958,54432,59984,28309,23248,11104,100067,37600,116951,51536,54432,120998,46416,22176,107956,9680,37584,53938,43344,46423,27808,46416,86869,19872,42416,83315,21168,43432,59728,27296,44710,43856,19296,43748,42352,21088,62051,55632,23383,22176,38608,19925,19152,42192,54484,53840,54616,46400,46752,103846,38320,18864,43380,42160,45690,27216,27968,44870,43872,38256,19189,18800,25776,29859,59984,27480,23232,43872,38613,37600,51552,55636,54432,55888,30034,22176,43959,9680,37584,51893,43344,46240,47780,44368,21977,19360,42416,86390,21168,43312,31060,27296,44368,23378,19296,42726,42208,53856,60005,54576,23200,30371,38608,19195,19152,42192,118966,53840,54560,56645,46496,22224,21938,18864,42359,42160,43600,111189,27936,44448,84835,37744,18936,18800,25776,92326,59984,27424,108228,43744,37600,53987,51552,54615,54432,55888,23893,22176,42704,21972,21200,43448,43344,46240,46758,44368,21920,43940,42416,21168,45683,26928,29495,27296,44368,84821,19296,42352,21732,53600,59752,54560,55968,92838,22224,19168,43476,42192,53584,62034,54560],o.exports=l.default},function(o,l,u){Object.defineProperty(l,"__esModule",{value:!0}),l.default=[31,28,31,30,31,30,31,31,30,31,30,31],o.exports=l.default},function(o,l,u){Object.defineProperty(l,"__esModule",{value:!0}),l.default=["甲","乙","丙","丁","戊","己","庚","辛","壬","癸"],o.exports=l.default},function(o,l,u){Object.defineProperty(l,"__esModule",{value:!0}),l.default=["子","丑","寅","卯","辰","巳","午","未","申","酉","戌","亥"],o.exports=l.default},function(o,l,u){Object.defineProperty(l,"__esModule",{value:!0}),l.default=["鼠","牛","虎","兔","龙","蛇","马","羊","猴","鸡","狗","猪"],o.exports=l.default},function(o,l,u){Object.defineProperty(l,"__esModule",{value:!0}),l.default=["小寒","大寒","立春","雨水","惊蛰","春分","清明","谷雨","立夏","小满","芒种","夏至","小暑","大暑","立秋","处暑","白露","秋分","寒露","霜降","立冬","小雪","大雪","冬至"],o.exports=l.default},function(o,l,u){Object.defineProperty(l,"__esModule",{value:!0}),l.default=["9778397bd097c36b0b6fc9274c91aa","97b6b97bd19801ec9210c965cc920e","97bcf97c3598082c95f8c965cc920f","97bd0b06bdb0722c965ce1cfcc920f","b027097bd097c36b0b6fc9274c91aa","97b6b97bd19801ec9210c965cc920e","97bcf97c359801ec95f8c965cc920f","97bd0b06bdb0722c965ce1cfcc920f","b027097bd097c36b0b6fc9274c91aa","97b6b97bd19801ec9210c965cc920e","97bcf97c359801ec95f8c965cc920f","97bd0b06bdb0722c965ce1cfcc920f","b027097bd097c36b0b6fc9274c91aa","9778397bd19801ec9210c965cc920e","97b6b97bd19801ec95f8c965cc920f","97bd09801d98082c95f8e1cfcc920f","97bd097bd097c36b0b6fc9210c8dc2","9778397bd197c36c9210c9274c91aa","97b6b97bd19801ec95f8c965cc920e","97bd09801d98082c95f8e1cfcc920f","97bd097bd097c36b0b6fc9210c8dc2","9778397bd097c36c9210c9274c91aa","97b6b97bd19801ec95f8c965cc920e","97bcf97c3598082c95f8e1cfcc920f","97bd097bd097c36b0b6fc9210c8dc2","9778397bd097c36c9210c9274c91aa","97b6b97bd19801ec9210c965cc920e","97bcf97c3598082c95f8c965cc920f","97bd097bd097c35b0b6fc920fb0722","9778397bd097c36b0b6fc9274c91aa","97b6b97bd19801ec9210c965cc920e","97bcf97c3598082c95f8c965cc920f","97bd097bd097c35b0b6fc920fb0722","9778397bd097c36b0b6fc9274c91aa","97b6b97bd19801ec9210c965cc920e","97bcf97c359801ec95f8c965cc920f","97bd097bd097c35b0b6fc920fb0722","9778397bd097c36b0b6fc9274c91aa","97b6b97bd19801ec9210c965cc920e","97bcf97c359801ec95f8c965cc920f","97bd097bd097c35b0b6fc920fb0722","9778397bd097c36b0b6fc9274c91aa","97b6b97bd19801ec9210c965cc920e","97bcf97c359801ec95f8c965cc920f","97bd097bd07f595b0b6fc920fb0722","9778397bd097c36b0b6fc9210c8dc2","9778397bd19801ec9210c9274c920e","97b6b97bd19801ec95f8c965cc920f","97bd07f5307f595b0b0bc920fb0722","7f0e397bd097c36b0b6fc9210c8dc2","9778397bd097c36c9210c9274c920e","97b6b97bd19801ec95f8c965cc920f","97bd07f5307f595b0b0bc920fb0722","7f0e397bd097c36b0b6fc9210c8dc2","9778397bd097c36c9210c9274c91aa","97b6b97bd19801ec9210c965cc920e","97bd07f1487f595b0b0bc920fb0722","7f0e397bd097c36b0b6fc9210c8dc2","9778397bd097c36b0b6fc9274c91aa","97b6b97bd19801ec9210c965cc920e","97bcf7f1487f595b0b0bb0b6fb0722","7f0e397bd097c35b0b6fc920fb0722","9778397bd097c36b0b6fc9274c91aa","97b6b97bd19801ec9210c965cc920e","97bcf7f1487f595b0b0bb0b6fb0722","7f0e397bd097c35b0b6fc920fb0722","9778397bd097c36b0b6fc9274c91aa","97b6b97bd19801ec9210c965cc920e","97bcf7f1487f531b0b0bb0b6fb0722","7f0e397bd097c35b0b6fc920fb0722","9778397bd097c36b0b6fc9274c91aa","97b6b97bd19801ec9210c965cc920e","97bcf7f1487f531b0b0bb0b6fb0722","7f0e397bd07f595b0b6fc920fb0722","9778397bd097c36b0b6fc9274c91aa","97b6b97bd19801ec9210c9274c920e","97bcf7f0e47f531b0b0bb0b6fb0722","7f0e397bd07f595b0b0bc920fb0722","9778397bd097c36b0b6fc9210c91aa","97b6b97bd197c36c9210c9274c920e","97bcf7f0e47f531b0b0bb0b6fb0722","7f0e397bd07f595b0b0bc920fb0722","9778397bd097c36b0b6fc9210c8dc2","9778397bd097c36c9210c9274c920e","97b6b7f0e47f531b0723b0b6fb0722","7f0e37f5307f595b0b0bc920fb0722","7f0e397bd097c36b0b6fc9210c8dc2","9778397bd097c36b0b70c9274c91aa","97b6b7f0e47f531b0723b0b6fb0721","7f0e37f1487f595b0b0bb0b6fb0722","7f0e397bd097c35b0b6fc9210c8dc2","9778397bd097c36b0b6fc9274c91aa","97b6b7f0e47f531b0723b0b6fb0721","7f0e27f1487f595b0b0bb0b6fb0722","7f0e397bd097c35b0b6fc920fb0722","9778397bd097c36b0b6fc9274c91aa","97b6b7f0e47f531b0723b0b6fb0721","7f0e27f1487f531b0b0bb0b6fb0722","7f0e397bd097c35b0b6fc920fb0722","9778397bd097c36b0b6fc9274c91aa","97b6b7f0e47f531b0723b0b6fb0721","7f0e27f1487f531b0b0bb0b6fb0722","7f0e397bd097c35b0b6fc920fb0722","9778397bd097c36b0b6fc9274c91aa","97b6b7f0e47f531b0723b0b6fb0721","7f0e27f1487f531b0b0bb0b6fb0722","7f0e397bd07f595b0b0bc920fb0722","9778397bd097c36b0b6fc9274c91aa","97b6b7f0e47f531b0723b0787b0721","7f0e27f0e47f531b0b0bb0b6fb0722","7f0e397bd07f595b0b0bc920fb0722","9778397bd097c36b0b6fc9210c91aa","97b6b7f0e47f149b0723b0787b0721","7f0e27f0e47f531b0723b0b6fb0722","7f0e397bd07f595b0b0bc920fb0722","9778397bd097c36b0b6fc9210c8dc2","977837f0e37f149b0723b0787b0721","7f07e7f0e47f531b0723b0b6fb0722","7f0e37f5307f595b0b0bc920fb0722","7f0e397bd097c35b0b6fc9210c8dc2","977837f0e37f14998082b0787b0721","7f07e7f0e47f531b0723b0b6fb0721","7f0e37f1487f595b0b0bb0b6fb0722","7f0e397bd097c35b0b6fc9210c8dc2","977837f0e37f14998082b0787b06bd","7f07e7f0e47f531b0723b0b6fb0721","7f0e27f1487f531b0b0bb0b6fb0722","7f0e397bd097c35b0b6fc920fb0722","977837f0e37f14998082b0787b06bd","7f07e7f0e47f531b0723b0b6fb0721","7f0e27f1487f531b0b0bb0b6fb0722","7f0e397bd097c35b0b6fc920fb0722","977837f0e37f14998082b0787b06bd","7f07e7f0e47f531b0723b0b6fb0721","7f0e27f1487f531b0b0bb0b6fb0722","7f0e397bd07f595b0b0bc920fb0722","977837f0e37f14998082b0787b06bd","7f07e7f0e47f531b0723b0b6fb0721","7f0e27f1487f531b0b0bb0b6fb0722","7f0e397bd07f595b0b0bc920fb0722","977837f0e37f14998082b0787b06bd","7f07e7f0e47f149b0723b0787b0721","7f0e27f0e47f531b0b0bb0b6fb0722","7f0e397bd07f595b0b0bc920fb0722","977837f0e37f14998082b0723b06bd","7f07e7f0e37f149b0723b0787b0721","7f0e27f0e47f531b0723b0b6fb0722","7f0e397bd07f595b0b0bc920fb0722","977837f0e37f14898082b0723b02d5","7ec967f0e37f14998082b0787b0721","7f07e7f0e47f531b0723b0b6fb0722","7f0e37f1487f595b0b0bb0b6fb0722","7f0e37f0e37f14898082b0723b02d5","7ec967f0e37f14998082b0787b0721","7f07e7f0e47f531b0723b0b6fb0722","7f0e37f1487f531b0b0bb0b6fb0722","7f0e37f0e37f14898082b0723b02d5","7ec967f0e37f14998082b0787b06bd","7f07e7f0e47f531b0723b0b6fb0721","7f0e37f1487f531b0b0bb0b6fb0722","7f0e37f0e37f14898082b072297c35","7ec967f0e37f14998082b0787b06bd","7f07e7f0e47f531b0723b0b6fb0721","7f0e27f1487f531b0b0bb0b6fb0722","7f0e37f0e37f14898082b072297c35","7ec967f0e37f14998082b0787b06bd","7f07e7f0e47f531b0723b0b6fb0721","7f0e27f1487f531b0b0bb0b6fb0722","7f0e37f0e366aa89801eb072297c35","7ec967f0e37f14998082b0787b06bd","7f07e7f0e47f149b0723b0787b0721","7f0e27f1487f531b0b0bb0b6fb0722","7f0e37f0e366aa89801eb072297c35","7ec967f0e37f14998082b0723b06bd","7f07e7f0e47f149b0723b0787b0721","7f0e27f0e47f531b0723b0b6fb0722","7f0e37f0e366aa89801eb072297c35","7ec967f0e37f14998082b0723b06bd","7f07e7f0e37f14998083b0787b0721","7f0e27f0e47f531b0723b0b6fb0722","7f0e37f0e366aa89801eb072297c35","7ec967f0e37f14898082b0723b02d5","7f07e7f0e37f14998082b0787b0721","7f07e7f0e47f531b0723b0b6fb0722","7f0e36665b66aa89801e9808297c35","665f67f0e37f14898082b0723b02d5","7ec967f0e37f14998082b0787b0721","7f07e7f0e47f531b0723b0b6fb0722","7f0e36665b66a449801e9808297c35","665f67f0e37f14898082b0723b02d5","7ec967f0e37f14998082b0787b06bd","7f07e7f0e47f531b0723b0b6fb0721","7f0e36665b66a449801e9808297c35","665f67f0e37f14898082b072297c35","7ec967f0e37f14998082b0787b06bd","7f07e7f0e47f531b0723b0b6fb0721","7f0e26665b66a449801e9808297c35","665f67f0e37f1489801eb072297c35","7ec967f0e37f14998082b0787b06bd","7f07e7f0e47f531b0723b0b6fb0721","7f0e27f1487f531b0b0bb0b6fb0722"],o.exports=l.default},function(o,l,u){Object.defineProperty(l,"__esModule",{value:!0}),l.default=["日","一","二","三","四","五","六","七","八","九","十"],o.exports=l.default},function(o,l,u){Object.defineProperty(l,"__esModule",{value:!0}),l.default=["初","十","廿","卅"],o.exports=l.default},function(o,l,u){Object.defineProperty(l,"__esModule",{value:!0}),l.default=["正","二","三","四","五","六","七","八","九","十","冬","腊"],o.exports=l.default},function(o,l,u){Object.defineProperty(l,"__esModule",{value:!0}),l.default=["零","一","二","三","四","五","六","七","八","九","十"],o.exports=l.default}])})})(bd)),bd.exports}var n1=lA();const cA=Ds(n1),wo=MS({__proto__:null,default:cA},[n1]);function Kp(t){return typeof t=="object"&&t!==null}function uA(t){return Kp(t)&&"default"in t}function dA(t){return Kp(t)&&typeof t.lunar2solar=="function"}function fA(t){if(!Kp(t))throw new Error("Invalid lunar2solar result");const i=t.cYear,o=t.cMonth,l=t.cDay,u=t.isLeap;if(typeof i!="number"||typeof o!="number"||typeof l!="number")throw new Error("Invalid lunar2solar fields");return{cYear:i,cMonth:o,cDay:l,isLeap:typeof u=="boolean"?u:void 0}}function hA(t){const i=uA(t)?t.default:t;if(!dA(i))throw new Error("solarlunar.lunar2solar not found");return{lunar2solar:(l,u,d,m)=>{const p=i.lunar2solar(l,u,d,m);return fA(p)}}}const mA=hA(wo);function ym(t,i,o){const l=mA.lunar2solar(t,i,o,!1);return{y:l.cYear,m:l.cMonth,d:l.cDay}}const $l=[{key:"name",label:"이름",placeholder:"이름을 입력하세요",type:"text"},{key:"birthDay",label:"생년월일",placeholder:"예: 19900101",type:"tel"},{key:"birthTime",label:"태어난 시간",placeholder:"예: 1524",type:"tel"},{key:"mingSikType",label:"명식 기준",type:"mingrule"},{key:"gender",label:"성별",type:"radio"},{key:"birthPlace",label:"태어난 지역",type:"place"},{key:"relationship",label:"관계",type:"relationship"},{key:"folder",label:"폴더 선택",type:"folder"},{key:"memo",label:"메모",placeholder:"메모를 입력하세요",type:"textarea"}],Ul=[{value:"solar",label:"양력",id:"calendarType_solar"},{value:"lunar",label:"음력",id:"calendarType_lunar"}],Wu=["야자시","조자시","인시"],Qu=["남자","여자"];function _m(t,i,o){return o==="ArrowRight"||o==="ArrowDown"?(t+1)%i:o==="ArrowLeft"||o==="ArrowUp"?(t-1+i)%i:o==="Home"?0:o==="End"?i-1:t}function xm(t){const i=document.getElementById(t);i instanceof HTMLElement&&i.focus()}function pA({onSave:t,onClose:i}){const{add:o}=gc(),[l,u]=P.useState(0),[d,m]=P.useState({gender:"남자",mingSikType:"야자시",DayChangeRule:"자시일수론",calendarType:"solar"}),[p,b]=P.useState(null),[v,w]=P.useState(!1),[S,x]=P.useState(!1),E=$l[l],A=j=>b(j);P.useEffect(()=>{if(["name","birthDay","birthTime","memo"].includes(E.key)){const B=document.querySelector(".current-step input[type='text']:not([disabled]), .current-step textarea:not([disabled])");if(B){B.focus();return}}if(E.key==="mingSikType"){const B=document.querySelector("[id^='ming_'][id$='_lbl'][aria-checked='true']");if(B){B.focus();return}}if(E.key==="gender"){const B=document.querySelector("[id^='gender_'][id$='_lbl'][aria-checked='true']");if(B){B.focus();return}}if(d.birthPlace||S){const B=()=>{const V=document.querySelector(".current-step form button[type='submit']");V&&V.focus()};B(),setTimeout(B,0)}else{const B=document.getElementById("inputBirthPlaceBtn");B&&B.focus()}if(E.key==="relationship"){setTimeout(()=>{const B=document.querySelector(".current-step select");B&&B.focus()},0);return}if(E.key==="folder"){setTimeout(()=>{const B=document.querySelector(".current-step select");B&&B.focus()},0);return}document.querySelector(".current-step button, .current-step [tabindex='0']")?.focus()},[S,l,E.key,d.birthPlace]);const O=P.useMemo(()=>{if(d.calendarType!=="lunar"||!d.birthDay||d.birthDay.length!==8)return null;try{const j=Number(d.birthDay.slice(0,4)),B=Number(d.birthDay.slice(4,6)),V=Number(d.birthDay.slice(6,8)),J=ym(j,B,V);return`→ 양력 ${J.y}-${String(J.m).padStart(2,"0")}-${String(J.d).padStart(2,"0")}`}catch(j){const B=j instanceof Error?j.message:void 0;return`→ 변환 실패${B?`: ${B}`:""}`}},[d.calendarType,d.birthDay]),R=()=>{const j=$l[l];if(j.key==="name"&&(d.name||(m({...d,name:"이름없음"}),A("이름을 적지 않으시면 '이름없음'으로 대체됩니다."))),j.key==="birthDay"){const B=/^\d{8}$/;if(!d.birthDay||!B.test(d.birthDay))return A("생년월일은 YYYYMMDD 형식으로 입력해주세요."),!1;const V=Number(d.birthDay.substring(0,4)),J=Number(d.birthDay.substring(4,6)),W=Number(d.birthDay.substring(6,8));if(V<1900||V>2100)return A("출생 연도는 1900~2100년 사이여야 합니다."),!1;if(J<1||J>12)return A("출생 월은 01~12 사이여야 합니다."),!1;if(W<1||W>31)return A("출생 일은 01~31 사이여야 합니다."),!1;if(d.calendarType==="solar"){const rt=new Date(V,J-1,W);if(rt.getFullYear()!==V||rt.getMonth()+1!==J||rt.getDate()!==W)return A("존재하지 않는 날짜입니다."),!1}else try{ym(V,J,W)}catch(rt){return A(rt instanceof Error?rt.message:"음력 날짜가 유효하지 않습니다."),!1}}if(j.key==="birthTime"){if(!d.birthTime&&!v)return A("태어난 시간을 입력하거나 '모름'을 체크해야 합니다."),!1;if(d.birthTime){const B=Number(d.birthTime);if(Number.isNaN(B)||B<0||B>2359)return A("태어난 시간은 0000–2359 범위여야 합니다."),!1;const V=Number(d.birthTime.slice(0,2)),J=Number(d.birthTime.slice(2,4));if(V>23||J>59)return A("태어난 시간은 0000–2359 범위여야 합니다."),!1}}return j.key==="birthPlace"&&!d.birthPlace&&!S?(A("태어난 지역을 선택하거나 '모름'을 체크해야 합니다."),!1):!0},z=()=>{if(!R())return;if(l<$l.length-1){u(l+1);return}const j=uc(d.folder),B=!d.birthTime||d.birthTime==="모름";let V=Number(d.birthDay.slice(0,4)),J=Number(d.birthDay.slice(4,6)),W=Number(d.birthDay.slice(6,8));if(d.calendarType==="lunar"){const lt=ym(V,J,W);V=lt.y,J=lt.m,W=lt.d}const rt=B?0:Number(d.birthTime.slice(0,2)||"0"),et=B?0:Number(d.birthTime.slice(2,4)||"0"),K=new Date(V,J-1,W,rt,et,0,0),U=S||!d.birthPlace||d.birthPlace.lon===0?127.5:d.birthPlace.lon,Q=js(K,U),mt=d.mingSikType??"야자시",vt=B?"":Q.toLocaleTimeString("ko-KR",{hour:"2-digit",minute:"2-digit"}),$=Pe(Q,U),it=jn(Q,U),ot=qe(Q,mt),I=B?null:Ci(Q,mt),D=[`원국 : ${$}년 ${it}월 ${ot}일`,I?`${I}시`:null].filter(Boolean).join(" ");function G(lt,ht){const bt=["甲","丙","戊","庚","壬","갑","병","무","경","임"].includes(lt),Tt=ht==="남자";return bt?Tt?"forward":"backward":Tt?"backward":"forward"}const F=$.charAt(0),q=G(F,d.gender??"남자"),tt={id:jT(),name:d.name?.trim()||"이름없음",birthDay:d.birthDay||"",birthTime:B?"모름":d.birthTime||"",gender:d.gender??"남자",birthPlace:S?{name:"모름",lat:0,lon:127.5}:d.birthPlace??{name:"",lat:0,lon:127.5},relationship:d.relationship??"",memo:d.memo??"",mingSikType:d.mingSikType??"야자시",DayChangeRule:d.mingSikType==="인시"?"인시일수론":"자시일수론",folder:j,correctedLocal:vt,ganji:D,calendarType:d.calendarType??"solar",dir:q,corrected:Q,dateObj:d.dateObj||new Date,dayStem:d.dayStem||"갑",ganjiText:d.ganjiText||"갑자년 갑자월 갑자일 갑자시"};o(tt),t(tt),b("저장 완료!"),m({gender:"남자",mingSikType:"야자시",calendarType:"solar"}),w(!1),x(!1),u(0)},H=j=>{if(j.key!=="Enter")return;const B=j.target,V=B.getAttribute("role");if(V==="radio"||V==="checkbox")return;const J=document.getElementById("mapModal");if(J&&J.contains(B))return;const W=B.tagName.toLowerCase(),rt=B instanceof HTMLInputElement?B.type:"";if(W==="textarea"){if(j.shiftKey)return;j.preventDefault(),z();return}if(rt==="radio"||rt==="checkbox"){j.preventDefault(),B instanceof HTMLInputElement&&B.click();return}W==="button"&&B.type!=="submit"||(j.preventDefault(),z())},k=j=>{switch(j){case"birthPlace":return S?"모름":d.birthPlace?.name||"";case"birthTime":return v?"모름":d.birthTime||"";case"folder":return d.folder?String(d.folder):dn;default:{const V=d[j];return typeof V=="string"?V:V!=null?String(V):""}}};return y.jsxs("div",{className:"mx-auto mt-10 space-y-2 max-w-[640px] w-[96%] text-neutral-900 dark:text-neutral-100",children:[p&&y.jsx(e1,{message:p,onClose:()=>b(null)}),$l.slice(0,l).map((j,B)=>y.jsxs("button",{onClick:()=>u(B),className:"p-3 rounded-lg bg-neutral-100 dark:bg-neutral-900 border border-neutral-200 dark:border-neutral-800 flex justify-between w-full text-left hover:bg-neutral-200 dark:hover:bg-neutral-800/80 transition-colors",children:[y.jsx("span",{className:"font-semibold",children:j.label}),y.jsx("span",{className:"text-neutral-600 dark:text-neutral-300",children:k(j.key)})]},j.key)),y.jsx("div",{className:"p-4 border rounded-lg shadow current-step bg-white dark:bg-neutral-900 border-neutral-200 dark:border-neutral-800",children:y.jsxs("form",{onSubmit:j=>{j.preventDefault(),z()},onKeyDown:H,children:[y.jsx("label",{className:"block mb-2 font-bold",children:E.label}),E.key==="name"&&y.jsx("input",{type:"text",className:"w-full border rounded-lg p-2 bg-white dark:bg-neutral-900 border-neutral-300 dark:border-neutral-700 placeholder-neutral-400 dark:placeholder-neutral-500 text-neutral-900 dark:text-neutral-100",placeholder:E.placeholder,value:d.name||"",onChange:j=>m({...d,name:j.target.value})}),E.key==="birthDay"&&y.jsxs("div",{className:"space-y-2",children:[y.jsxs("div",{className:"flex gap-1 items-center",children:[y.jsx("input",{type:"text",className:"flex-1 border rounded-lg p-2 bg-white dark:bg-neutral-900 border-neutral-300 dark:border-neutral-700 placeholder-neutral-400 dark:placeholder-neutral-500 text-neutral-900 dark:text-neutral-100",placeholder:E.placeholder,value:d.birthDay||"",onChange:j=>{const B=j.target.value.replace(/\D/g,"");m({...d,birthDay:B.slice(0,8)})},inputMode:"numeric",pattern:"\\d*",maxLength:8}),y.jsx("fieldset",{role:"radiogroup","aria-label":"달력 유형",className:"flex gap-1 text-sm",children:Ul.map(({value:j,label:B,id:V})=>{const J=d.calendarType===j;return y.jsxs("span",{className:"inline-flex items-center gap-1",children:[y.jsx("input",{id:V,name:"calendarType",type:"radio",style:{display:"none"}}),y.jsx("label",{htmlFor:V,id:`${V}_lbl`,role:"radio","aria-checked":J,tabIndex:0,className:`cursor-pointer select-none px-2 py-1 rounded-md border
                                     border-neutral-300 dark:border-neutral-700
                                     bg-white dark:bg-neutral-900
                                     focus-visible:outline focus-visible:outline-2 focus-visible:outline-amber-500
                                     data-[checked=true]:border-amber-400 data-[checked=true]:bg-amber-50
                                     dark:data-[checked=true]:bg-amber-500/10`,"data-checked":J?"true":"false",onKeyDown:W=>{if(W.stopPropagation(),W.key===" "||W.key==="Enter"){W.preventDefault(),m({...d,calendarType:j});return}if(!["ArrowRight","ArrowLeft","ArrowUp","ArrowDown","Home","End"].includes(W.key))return;W.preventDefault();const et=Ul.findIndex(Q=>Q.value===d.calendarType),K=_m(et<0?0:et,Ul.length,W.key),U=Ul[K].value;m({...d,calendarType:U}),xm(`${Ul[K].id}_lbl`)},onClick:W=>{W.preventDefault(),m({...d,calendarType:j})},children:B})]},j)})})]}),d.calendarType==="lunar"&&y.jsx("div",{className:"flex items-center justify-end",children:y.jsx("span",{className:"text-xs text-neutral-600 dark:text-neutral-300",children:O})}),d.birthDay&&d.birthDay.length===8&&(()=>{const j=Number(d.birthDay.slice(0,4)),B=Number(d.birthDay.slice(4,6)),V=Number(d.birthDay.slice(6,8));return jd(j,B,V)?y.jsx("div",{className:"text-xs text-red-600 dark:text-red-400 mt-1",children:"썸머타임 명식입니다."}):null})()]}),E.key==="birthTime"&&y.jsxs("div",{className:"space-y-2",children:[y.jsx("input",{type:"text",className:"w-full border rounded-lg p-2 disabled:opacity-50 bg-white dark:bg-neutral-900 border-neutral-300 dark:border-neutral-700 placeholder-neutral-400 dark:placeholder-neutral-500 text-neutral-900 dark:text-neutral-100",placeholder:E.placeholder,value:v?"":d.birthTime||"",onChange:j=>{const B=j.target.value.replace(/\D/g,"");m({...d,birthTime:B.slice(0,4)})},inputMode:"numeric",pattern:"\\d*",maxLength:4,disabled:v}),y.jsxs("span",{className:"inline-flex items-center gap-1",children:[y.jsx("input",{id:"birthTimeX",type:"checkbox",style:{display:"none"}}),y.jsx("label",{htmlFor:"birthTimeX",role:"checkbox","aria-checked":v,tabIndex:0,className:`text-sm select-none cursor-pointer px-2 py-1 rounded-md border
                             border-neutral-300 dark:border-neutral-700
                             bg-white dark:bg-neutral-900
                             focus-visible:outline focus-visible:outline-2 focus-visible:outline-amber-500
                             data-[checked=true]:border-amber-400 data-[checked=true]:bg-amber-50
                             dark:data-[checked=true]:bg-amber-500/10`,"data-checked":v?"true":"false",onKeyDown:j=>{j.stopPropagation(),(j.key===" "||j.key==="Enter")&&(j.preventDefault(),w(!v))},onClick:j=>{j.preventDefault(),w(!v)},children:"모름"})]})]}),E.key==="mingSikType"&&y.jsx("fieldset",{role:"radiogroup","aria-label":"명식 기준",className:"flex flex-wrap gap-3",children:Wu.map(j=>{const B=`ming_${j}`,V=(d.mingSikType??"야자시")===j;return y.jsxs("span",{className:"inline-flex items-center gap-1",children:[y.jsx("input",{id:B,name:"mingSikType",type:"radio",style:{display:"none"}}),y.jsxs("label",{htmlFor:B,id:`${B}_lbl`,role:"radio","aria-checked":V,tabIndex:0,className:`cursor-pointer select-none px-2 py-1 rounded-md border
                                 border-neutral-300 dark:border-neutral-700
                                 bg-white dark:bg-neutral-900
                                 focus-visible:outline focus-visible:outline-2 focus-visible:outline-amber-500
                                 data-[checked=true]:border-amber-400 data-[checked=true]:bg-amber-50
                                 dark:data-[checked=true]:bg-amber-500/10`,"data-checked":V?"true":"false",onKeyDown:J=>{if(J.stopPropagation(),J.key===" "||J.key==="Enter"){J.preventDefault(),m({...d,mingSikType:j});return}if(!["ArrowRight","ArrowLeft","ArrowUp","ArrowDown","Home","End"].includes(J.key))return;J.preventDefault();const rt=d.mingSikType??"야자시",et=Wu.indexOf(rt),K=_m(et,Wu.length,J.key),U=Wu[K];m({...d,mingSikType:U}),xm(`ming_${U}_lbl`)},onClick:J=>{J.preventDefault(),m({...d,mingSikType:j})},children:[j,"명식"]})]},j)})}),E.key==="gender"&&y.jsx("fieldset",{role:"radiogroup","aria-label":"성별",className:"flex gap-2",children:Qu.map(j=>{const B=`gender_${j}`,V=(d.gender??"남자")===j;return y.jsxs("span",{className:"inline-flex items-center gap-1",children:[y.jsx("input",{id:B,name:"gender",type:"radio",style:{display:"none"}}),y.jsx("label",{htmlFor:B,id:`${B}_lbl`,role:"radio","aria-checked":V,tabIndex:0,className:`cursor-pointer select-none px-2 py-1 rounded-md border
                                 border-neutral-300 dark:border-neutral-700
                                 bg-white dark:bg-neutral-900
                                 focus-visible:outline focus-visible:outline-2 focus-visible:outline-amber-500
                                 data-[checked=true]:border-amber-400 data-[checked=true]:bg-amber-50
                                 dark:data-[checked=true]:bg-amber-500/10`,"data-checked":V?"true":"false",onKeyDown:J=>{if(J.stopPropagation(),J.key===" "||J.key==="Enter"){J.preventDefault(),m({...d,gender:j});return}if(!["ArrowRight","ArrowLeft","ArrowUp","ArrowDown","Home","End"].includes(J.key))return;J.preventDefault();const rt=d.gender??"남자",et=Qu.indexOf(rt),K=_m(et,Qu.length,J.key),U=Qu[K];m({...d,gender:U}),xm(`gender_${U}_lbl`)},onClick:J=>{J.preventDefault(),m({...d,gender:j})},children:j})]},j)})}),E.key==="birthPlace"&&y.jsxs("div",{className:"space-y-2",children:[y.jsx(U_,{onSelect:j=>m({...d,birthPlace:j})}),y.jsxs("span",{className:"inline-flex items-center gap-1",children:[y.jsx("input",{id:"birthPlaceX",type:"checkbox",style:{display:"none"}}),y.jsx("label",{htmlFor:"birthPlaceX",role:"checkbox","aria-checked":S,tabIndex:0,className:`text-sm select-none cursor-pointer px-2 py-1 rounded-md border
                             border-neutral-300 dark:border-neutral-700
                             bg-white dark:bg-neutral-900
                             focus-visible:outline focus-visible:outline-2 focus-visible:outline-amber-500
                             data-[checked=true]:border-amber-400 data-[checked=true]:bg-amber-50
                             dark:data-[checked=true]:bg-amber-500/10`,"data-checked":S?"true":"false",onKeyDown:j=>{j.stopPropagation(),(j.key===" "||j.key==="Enter")&&(j.preventDefault(),x(!S))},onClick:j=>{j.preventDefault(),x(!S)},children:"모름"})]})]}),E.key==="relationship"&&y.jsx(Jx,{value:d.relationship||"",onChange:j=>m({...d,relationship:j})}),E.key==="folder"&&y.jsx(oA,{value:uc(d.folder),onChange:j=>m({...d,folder:j})}),E.key==="memo"&&y.jsx("textarea",{className:"w-full border rounded-lg p-2 bg-white dark:bg-neutral-900 border-neutral-300 dark:border-neutral-700 placeholder-neutral-400 dark:placeholder-neutral-500 text-neutral-900 dark:text-neutral-100",placeholder:E.placeholder,value:d.memo||"",onChange:j=>m({...d,memo:j.target.value})}),y.jsxs("div",{className:"flex justify-between gap-2",children:[y.jsx("button",{className:"mt-4 w-full btn_style btn_secondary dark:focus:ring-amber-500",onClick:i,children:"닫기"}),y.jsx("button",{type:"submit",className:"mt-4 w-full btn_style dark:focus:ring-amber-500",children:l===$l.length-1?"저장하기":"확인"})]})]})})]})}var Ju={},oy;function gA(){if(oy)return Ju;oy=1,Ju.match=d,Ju.parse=m;var t=/(?:(only|not)?\s*([^\s\(\)]+)(?:\s*and)?\s*)?(.+)?/i,i=/\(\s*([^\s\:\)]+)\s*(?:\:\s*([^\s\)]+))?\s*\)/,o=/^(?:(min|max)-)?(.+)/,l=/(em|rem|px|cm|mm|in|pt|pc)?$/,u=/(dpi|dpcm|dppx)?$/;function d(w,S){return m(w).some(function(x){var E=x.inverse,A=x.type==="all"||S.type===x.type;if(A&&E||!(A||E))return!1;var O=x.expressions.every(function(R){var z=R.feature,H=R.modifier,k=R.value,j=S[z];if(!j)return!1;switch(z){case"orientation":case"scan":return j.toLowerCase()===k.toLowerCase();case"width":case"height":case"device-width":case"device-height":k=v(k),j=v(j);break;case"resolution":k=b(k),j=b(j);break;case"aspect-ratio":case"device-aspect-ratio":case"device-pixel-ratio":k=p(k),j=p(j);break;case"grid":case"color":case"color-index":case"monochrome":k=parseInt(k,10)||1,j=parseInt(j,10)||0;break}switch(H){case"min":return j>=k;case"max":return j<=k;default:return j===k}});return O&&!E||!O&&E})}function m(w){return w.split(",").map(function(S){S=S.trim();var x=S.match(t),E=x[1],A=x[2],O=x[3]||"",R={};return R.inverse=!!E&&E.toLowerCase()==="not",R.type=A?A.toLowerCase():"all",O=O.match(/\([^\)]+\)/g)||[],R.expressions=O.map(function(z){var H=z.match(i),k=H[1].toLowerCase().match(o);return{modifier:k[1],feature:k[2],value:H[2]}}),R})}function p(w){var S=Number(w),x;return S||(x=w.match(/^(\d+)\s*\/\s*(\d+)$/),S=x[1]/x[2]),S}function b(w){var S=parseFloat(w),x=String(w).match(u)[1];switch(x){case"dpcm":return S/2.54;case"dppx":return S*96;default:return S}}function v(w){var S=parseFloat(w),x=String(w).match(l)[1];switch(x){case"em":return S*16;case"rem":return S*16;case"cm":return S*96/2.54;case"mm":return S*96/2.54/10;case"in":return S*96;case"pt":return S*72;case"pc":return S*72/12;default:return S}}return Ju}var Sm,sy;function bA(){if(sy)return Sm;sy=1;var t=gA().match,i=typeof window<"u"?window.matchMedia:null;function o(u,d,m){var p=this,b;i&&!m&&(b=i.call(window,u)),b?(this.matches=b.matches,this.media=b.media,b.addListener(S)):(this.matches=t(u,d),this.media=u),this.addListener=v,this.removeListener=w,this.dispose=x;function v(E){b&&b.addListener(E)}function w(E){b&&b.removeListener(E)}function S(E){p.matches=E.matches,p.media=E.media}function x(){b&&b.removeListener(S)}}function l(u,d,m){return new o(u,d,m)}return Sm=l,Sm}var vA=bA();const yA=Ds(vA);var _A=/[A-Z]/g,xA=/^ms-/,wm={};function SA(t){return"-"+t.toLowerCase()}function r1(t){if(wm.hasOwnProperty(t))return wm[t];var i=t.replace(_A,SA);return wm[t]=xA.test(i)?"-"+i:i}function wA(t,i){if(t===i)return!0;if(!t||!i)return!1;const o=Object.keys(t),l=Object.keys(i),u=o.length;if(l.length!==u)return!1;for(let d=0;d<u;d++){const m=o[d];if(t[m]!==i[m]||!Object.prototype.hasOwnProperty.call(i,m))return!1}return!0}var Tm={exports:{}},Em,ly;function TA(){if(ly)return Em;ly=1;var t="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return Em=t,Em}var Mm,cy;function EA(){if(cy)return Mm;cy=1;var t=TA();function i(){}function o(){}return o.resetWarningCache=i,Mm=function(){function l(m,p,b,v,w,S){if(S!==t){var x=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw x.name="Invariant Violation",x}}l.isRequired=l;function u(){return l}var d={array:l,bigint:l,bool:l,func:l,number:l,object:l,string:l,symbol:l,any:l,arrayOf:u,element:l,elementType:l,instanceOf:u,node:l,objectOf:u,oneOf:u,oneOfType:u,shape:u,exact:u,checkPropTypes:o,resetWarningCache:i};return d.PropTypes=d,d},Mm}var uy;function MA(){return uy||(uy=1,Tm.exports=EA()()),Tm.exports}var DA=MA();const ae=Ds(DA),Nn=ae.oneOfType([ae.string,ae.number]),i1={all:ae.bool,grid:ae.bool,aural:ae.bool,braille:ae.bool,handheld:ae.bool,print:ae.bool,projection:ae.bool,screen:ae.bool,tty:ae.bool,tv:ae.bool,embossed:ae.bool},AA={orientation:ae.oneOf(["portrait","landscape"]),scan:ae.oneOf(["progressive","interlace"]),aspectRatio:ae.string,deviceAspectRatio:ae.string,height:Nn,deviceHeight:Nn,width:Nn,deviceWidth:Nn,color:ae.bool,colorIndex:ae.bool,monochrome:ae.bool,resolution:Nn,type:Object.keys(i1)},{type:ik,...NA}=AA,OA={minAspectRatio:ae.string,maxAspectRatio:ae.string,minDeviceAspectRatio:ae.string,maxDeviceAspectRatio:ae.string,minHeight:Nn,maxHeight:Nn,minDeviceHeight:Nn,maxDeviceHeight:Nn,minWidth:Nn,maxWidth:Nn,minDeviceWidth:Nn,maxDeviceWidth:Nn,minColor:ae.number,maxColor:ae.number,minColorIndex:ae.number,maxColorIndex:ae.number,minMonochrome:ae.number,maxMonochrome:ae.number,minResolution:Nn,maxResolution:Nn,...NA},jA={...i1,...OA};var kA={all:jA};const LA=t=>`not ${t}`,CA=(t,i)=>{const o=r1(t);return typeof i=="number"&&(i=`${i}px`),i===!0?o:i===!1?LA(o):`(${o}: ${i})`},BA=t=>t.join(" and "),RA=t=>{const i=[];return Object.keys(kA.all).forEach(o=>{const l=t[o];l!=null&&i.push(CA(o,l))}),BA(i)},PA=P.createContext(void 0),zA=t=>t.query||RA(t),dy=t=>t?Object.keys(t).reduce((o,l)=>(o[r1(l)]=t[l],o),{}):void 0,a1=()=>{const t=P.useRef(!1);return P.useEffect(()=>{t.current=!0},[]),t.current},HA=t=>{const i=P.useContext(PA),o=()=>dy(t)||dy(i),[l,u]=P.useState(o);return P.useEffect(()=>{const d=o();wA(l,d)||u(d)},[t,i]),l},IA=t=>{const i=()=>zA(t),[o,l]=P.useState(i);return P.useEffect(()=>{const u=i();o!==u&&l(u)},[t]),o},$A=(t,i)=>{const o=()=>yA(t,i||{},!!i),[l,u]=P.useState(o),d=a1();return P.useEffect(()=>{if(d){const m=o();return u(m),()=>{m&&m.dispose()}}},[t,i]),l},UA=t=>{const[i,o]=P.useState(t.matches);return P.useEffect(()=>{const l=u=>{o(u.matches)};return t.addListener(l),o(t.matches),()=>{t.removeListener(l)}},[t]),i},GA=(t,i,o)=>{const l=HA(i),u=IA(t);if(!u)throw new Error("Invalid or missing MediaQuery!");const d=$A(u,l),m=UA(d);return a1(),P.useEffect(()=>{},[m]),P.useEffect(()=>()=>{d&&d.dispose()},[]),m},o1=(()=>{const t=[];for(let i=0;i<60;i++)t.push(`${Xr[i%10]}${Oi[i%12]}`);return t})();function ZA(t){const i=o1.indexOf(t);if(i<0)throw new Error(`Unknown 간지: ${t}`);return i}function Cd(t,i,o=1){const l=ZA(t),u=i==="forward"?o:-o;return o1[(l+u+60*1e3)%60]}const YA=60*1e3,qA=60*YA,VA=24*qA;function KA(t,i){const o=new Date(t.getTime()),l=o.getFullYear()+i,u=o.getMonth(),d=o.getDate();return new Date(Date.UTC(l,u,d,o.getUTCHours(),o.getUTCMinutes()))}function lp(t){const i=new Date(t);return i.setSeconds(0,0),i}function FA(t,i,o){const l=t.getHours(),u=o==="야자시"?(Math.floor((l+1)/2)*2-1+24)%24:(Math.floor(l/2)*2+1)%24,d=new Date(t);d.setHours(u,0,0,0);const m=new Date(d);m.setHours(u+2,0,0,0);const p=t.getTime()-d.getTime(),b=m.getTime()-t.getTime();return i==="backward"?p:b}function s1(t,i,o,l=120,u="야자시"){const d=lp(t),m=FA(d,o,u),p=lp(new Date(d.getTime()+m*120)),b=KA(t,l).getTime(),v=[];let w=Cd(i,o,1);for(let S=p.getTime();S<=b;S+=10*VA)v.push({at:new Date(S),gz:w}),w=Cd(w,o,1);return{firstChange:p,events:v}}function l1(t,i){const o=i==="forward"?t==="자시일수론"?"자":"인":t==="자시일수론"?"해":"축";return l=>l===o}function c1(t,i,o,l){const u=l1(l,o);let d=i;const m=[];for(const p of t.events){const b=p.gz.charAt(1);u(b)&&(d=Cd(d,o,1),m.push({at:p.at,gz:d}))}return{events:m}}function u1(t){const i=t.getFullYear(),o=[{deg:315,name:"입춘"},{deg:345,name:"경칩"},{deg:15,name:"청명"},{deg:45,name:"입하"},{deg:75,name:"망종"},{deg:105,name:"소서"},{deg:135,name:"입추"},{deg:165,name:"백로"},{deg:195,name:"한로"},{deg:225,name:"입동"},{deg:255,name:"대설"},{deg:285,name:"소한"}],l={deg:315,name:"다음입춘"},u=o.map(p=>({name:p.name,date:Ze(i,p.deg)})).concat([{name:l.name,date:Ze(i+1,l.deg)},{name:"소한",date:Ze(i+1,285)}]),d=Ze(i,315),m=Ze(i+1,315);return u.filter(p=>p.date>=d&&p.date<m).sort((p,b)=>p.date.getTime()-b.date.getTime())}const XA={갑:"甲",을:"乙",병:"丙",정:"丁",무:"戊",기:"己",경:"庚",신:"辛",임:"壬",계:"癸"},WA={자:"子",축:"丑",인:"寅",묘:"卯",진:"辰",사:"巳",오:"午",미:"未",신:"申",유:"酉",술:"戌",해:"亥"},QA=t=>XA[t]??("甲乙丙丁戊己庚辛壬癸".includes(t)?t:null),JA=t=>WA[t]??("子丑寅卯辰巳午未申酉戌亥".includes(t)?t:null);function fy(t){const i=QA(t[0]),o=JA(t[1]);if(!i||!o)throw new Error(`Invalid GZ: ${t}`);return`${i}${o}`}function Fd(t,i,o,l=120,u){function d(k){return k instanceof Date||(k=new Date(k)),Math.floor((k.getHours()+1)%24/2)}function m(k){return["子","丑","寅","卯","辰","巳","午","未","申","酉","戌","亥"][d(k)]}function p(k,j,B){const V=k.charAt(0),J=k.charAt(1),W=Xr.indexOf(V),rt=Oi.indexOf(J),et=j==="forward"?B:-B,K=(W+et%10+10)%10,U=(rt+et%12+12)%12;return Xr[K]+Oi[U]}const b=u1(t).sort((k,j)=>k.date.getTime()-j.date.getTime());let v;if(o==="forward"){const k=b.findIndex(j=>j.date>=t);k>=0&&(v=b[k].date)}else{const k=b.filter(j=>j.date<=t);k.length&&(v=k[k.length-1].date)}function w(k,j){const B=m(k),V={子:23,丑:1,寅:3,卯:5,辰:7,巳:9,午:11,未:13,申:15,酉:17,戌:19,亥:21},J=V[B],W=(J+2)%24,rt=new Date(k);if(rt.setSeconds(0,0),o==="backward"&&j){const K=m(j),U=V[K],Q=new Date(j);return Q.setHours(U,0,0,0),Q}if(o==="forward"&&j){const K=m(j),U=V[K],Q=new Date(j);if(Q.setHours(U,0,0,0),Q>rt)return Q}const et=new Date(rt);return o==="forward"?(et.setHours(W,0,0,0),et<=rt&&et.setDate(et.getDate()+1)):(et.setHours(J,0,0,0),et>=rt&&et.setDate(et.getDate()-1)),et}new Date(t).setSeconds(0,0);const x=fy(jn(t,127.5)),E=w(t,v),A=Math.floor(o==="forward"?(E.getTime()-t.getTime())/6e4:(t.getTime()-E.getTime())/6e4),O=Math.round(A/120*(14400*60*1e3));let R=new Date(t.getTime()+O);try{const k=fy(jn(t,u));(o==="forward"&&x!==k||o==="backward"&&x!==k)&&(R=new Date(t.getTime()+6e4))}catch{}const z=l/10,H=[];for(let k=0;k<z;k++){const j=new Date(R);j.setFullYear(j.getFullYear()+k*10),j.setSeconds(0,0);const B=p(i,o,k+1);H.push({at:j,gz:B})}return{natalMonthPillar:i,firstChange:R,mPillars:[],events:H}}function tN(t,i){const l=(i.getTime()-t.getTime())/(365.2425*24*60*60*1e3);return Math.max(0,Math.floor(l))}function d1(t,i,o,l,u){const d=l1(l,o);let m=i;const p=[];for(const b of t.events){const v=b.gz.charAt(1);d(v)&&(m=Cd(m,o,1),p.push({at:b.at,gz:m,age:tN(u,b.at)}))}return{events:p}}function eN(t){const i=Number(t.birthDay.slice(0,4)),o=Number(t.birthDay.slice(4,6)),l=Number(t.birthDay.slice(6,8));let u=12,d=0;return t.birthTime&&t.birthTime!=="모름"&&/^\d{4}$/.test(t.birthTime)&&(u=Number(t.birthTime.slice(0,2)),d=Number(t.birthTime.slice(2,4))),new Date(i,o-1,l,u,d,0,0)}function To(t){const i=eN(t),o=js(i,t.birthPlace?.lon??null);return lp(o)}function Xd(t,i){const o=t.birthPlace?.lon??127.5,l=To(t),u=qe(l,i),d=Ci(l,i,u.charAt(0));return{year:Pe(l,o),month:jn(l,o),day:u,hour:d}}const nN=(()=>{const t=[];for(let i=0;i<60;i++)t.push(`${Xr[i%10]}${Oi[i%12]}`);return t})(),rN=t=>nN.indexOf(t),Dm=t=>{if(rN(t)<0)throw new Error(`Unknown 간지: ${t}`);return{stem:t[0],branch:t[1]}};function Fp(t){return typeof t=="object"&&t!==null}function iN(t){return Fp(t)&&"default"in t}function aN(t){return Fp(t)&&typeof t.lunar2solar=="function"}function oN(t){if(!Fp(t))throw new Error("Invalid lunar2solar result");const i=t.cYear,o=t.cMonth,l=t.cDay,u=t.isLeap;if(typeof i!="number"||typeof o!="number"||typeof l!="number")throw new Error("Invalid lunar2solar fields");return{cYear:i,cMonth:o,cDay:l,isLeap:typeof u=="boolean"?u:void 0}}function sN(t){const i=iN(t)?t.default:t;if(!aN(i))throw new Error("solarlunar.lunar2solar not found");return{lunar2solar:(l,u,d,m)=>{const p=i.lunar2solar(l,u,d,!!m);return oN(p)}}}const lN=sN(wo),hy=t=>t<10?`0${t}`:`${t}`;function Xp(t){const i=t,o=typeof i.birthDay=="string"?i.birthDay:"",l=typeof i.calendarType=="string"?i.calendarType:"solar";if(o.length<8||l!=="lunar")return t;const u=Number(o.slice(0,4)),d=Number(o.slice(4,6)),m=Number(o.slice(6,8)),p=["isLeap","isLeapMonth","leapMonth","leap","lunarLeap"];let b=!1;for(const v of p){const w=i[v];if(typeof w=="boolean"){b=w;break}if(typeof w=="number"){b=w===1;break}if(typeof w=="string"){b=w==="1"||w.toLowerCase()==="true";break}}try{const v=lN.lunar2solar(u,d,m,b),w=`${v.cYear}${hy(v.cMonth)}${hy(v.cDay)}`;return{...t,birthDay:w,calendarType:"solar"}}catch{return t}}function cN(t,i="야자시"){const o=P.useMemo(()=>Xp(t),[t]),l=P.useMemo(()=>To(o),[o]),u=P.useMemo(()=>Xd(o,i),[o,i]);return P.useMemo(()=>{const d=Fd(l,u.month,o.dir,120,o?.birthPlace?.lon??127.5),m=new Date;function p(k,j){let B=null;const V=j.getTime();for(const J of k)if(J.at.getTime()<=V)B=J;else break;return B}const b=p(d.events,m)?.gz??u.month,v=Dm(b),w=m.getFullYear(),S=Ze(w,315),E=S&&m>=S?w:w-1,A=Pe(new Date(E,1,10,0,0,0),127.5),O=Dm(A),R=jn(m,127.5),z=Dm(R),H=[];return z&&H.push({key:"wolun",label:"월운",data:z}),O&&H.push({key:"seun",label:"세운",data:O}),v&&H.push({key:"daeun",label:"대운",data:v}),H},[l,o.dir,u.month,o.birthPlace?.lon])}function tc(t){const i=o=>o.toString().padStart(2,"0");return`${t.getFullYear()}년 ${i(t.getMonth()+1)}월 ${i(t.getDate())}일 ${i(t.getHours())}시 ${i(t.getMinutes())}분`}function xs(t){return t<10?`0${t}`:`${t}`}function uN(t){return`${xs(t.getHours())}:${xs(t.getMinutes())}`}function dN(t){return`${t.getFullYear()}-${xs(t.getMonth()+1)}-${xs(t.getDate())} ${xs(t.getHours())}:${xs(t.getMinutes())}`}const Eo={Classic:"고전",Modern:"현대"};function ji(t,i){const l={갑:{자:"목욕",축:"관대",인:"건록",묘:"제왕",진:"쇠",사:"병",오:"사",미:"묘",신:"절",유:"태",술:"양",해:"장생"},을:{자:"병",축:"쇠",인:"제왕",묘:"건록",진:"관대",사:"목욕",오:"장생",미:"양",신:"태",유:"절",술:"묘",해:"사"},병:{자:"태",축:"양",인:"장생",묘:"목욕",진:"관대",사:"건록",오:"제왕",미:"쇠",신:"병",유:"사",술:"묘",해:"절"},정:{자:"절",축:"묘",인:"사",묘:"병",진:"쇠",사:"제왕",오:"건록",미:"관대",신:"목욕",유:"장생",술:"양",해:"태"},무:{자:"태",축:"양",인:"장생",묘:"목욕",진:"관대",사:"건록",오:"제왕",미:"쇠",신:"병",유:"사",술:"묘",해:"절"},기:{자:"절",축:"묘",인:"사",묘:"병",진:"쇠",사:"제왕",오:"건록",미:"관대",신:"목욕",유:"장생",술:"양",해:"태"},경:{자:"사",축:"묘",인:"절",묘:"태",진:"양",사:"장생",오:"목욕",미:"관대",신:"건록",유:"제왕",술:"쇠",해:"병"},신:{자:"장생",축:"양",인:"태",묘:"절",진:"묘",사:"사",오:"병",미:"쇠",신:"제왕",유:"건록",술:"관대",해:"목욕"},임:{자:"제왕",축:"쇠",인:"병",묘:"사",진:"묘",사:"절",오:"태",미:"양",신:"장생",유:"목욕",술:"관대",해:"건록"},계:{자:"건록",축:"관대",인:"목욕",묘:"장생",진:"양",사:"태",오:"절",미:"묘",신:"사",유:"병",술:"쇠",해:"제왕"}}[t];return l?l[i]??"":""}function fN(t,i){return{자:{자:"장성",축:"반안",인:"역마",묘:"육해",진:"화개",사:"겁살",오:"재살",미:"천살",신:"지살",유:"년살",술:"월살",해:"망신"},축:{자:"망신",축:"장성",인:"반안",묘:"역마",진:"육해",사:"화개",오:"겁살",미:"재살",신:"천살",유:"지살",술:"년살",해:"월살"},인:{자:"월살",축:"망신",인:"장성",묘:"반안",진:"역마",사:"육해",오:"화개",미:"겁살",신:"재살",유:"천살",술:"지살",해:"년살"},묘:{자:"년살",축:"월살",인:"망신",묘:"장성",진:"반안",사:"역마",오:"육해",미:"화개",신:"겁살",유:"재살",술:"천살",해:"지살"},진:{자:"지살",축:"년살",인:"월살",묘:"망신",진:"장성",사:"반안",오:"역마",미:"육해",신:"화개",유:"겁살",술:"재살",해:"천살"},사:{자:"천살",축:"지살",인:"년살",묘:"월살",진:"망신",사:"장성",오:"반안",미:"역마",신:"육해",유:"화개",술:"겁살",해:"재살"},오:{자:"재살",축:"천살",인:"지살",묘:"년살",진:"월살",사:"망신",오:"장성",미:"반안",신:"역마",유:"육해",술:"화개",해:"겁살"},미:{자:"겁살",축:"재살",인:"천살",묘:"지살",진:"년살",사:"월살",오:"망신",미:"장성",신:"반안",유:"역마",술:"육해",해:"화개"},신:{자:"화개",축:"겁살",인:"재살",묘:"천살",진:"지살",사:"년살",오:"월살",미:"망신",신:"장성",유:"반안",술:"역마",해:"육해"},유:{자:"육해",축:"화개",인:"겁살",묘:"재살",진:"천살",사:"지살",오:"년살",미:"월살",신:"망신",유:"장성",술:"반안",해:"역마"},술:{자:"역마",축:"육해",인:"화개",묘:"겁살",진:"재살",사:"천살",오:"지살",미:"년살",신:"월살",유:"망신",술:"장성",해:"반안"},해:{자:"반안",축:"역마",인:"육해",묘:"화개",진:"겁살",사:"재살",오:"천살",미:"지살",신:"년살",유:"월살",술:"망신",해:"장성"}}[t]?.[i]??""}function hN(t,i){const o={해:"묘",묘:"묘",미:"묘",인:"오",오:"오",술:"오",사:"유",유:"유",축:"유",신:"자",자:"자",진:"자"},l={묘:{자:"년살",축:"월살",인:"망신",묘:"장성",진:"반안",사:"역마",오:"육해",미:"화개",신:"겁살",유:"재살",술:"천살",해:"지살"},오:{자:"재살",축:"천살",인:"지살",묘:"년살",진:"월살",사:"망신",오:"장성",미:"반안",신:"역마",유:"육해",술:"화개",해:"겁살"},유:{자:"육해",축:"화개",인:"겁살",묘:"재살",진:"천살",사:"지살",오:"년살",미:"월살",신:"망신",유:"장성",술:"반안",해:"역마"},자:{자:"장성",축:"반안",인:"역마",묘:"육해",진:"화개",사:"겁살",오:"재살",미:"천살",신:"지살",유:"년살",술:"월살",해:"망신"}},u=o[t];return u&&l[u]?l[u][i]??"":""}function mN(t,i){return{자:{자:"장성",축:"반안",인:"역마",묘:"육액",진:"화개",사:"겁살",오:"재살",미:"천살",신:"지살",유:"도화",술:"월살",해:"망신"},축:{자:"망신",축:"장성",인:"반안",묘:"역마",진:"육액",사:"화개",오:"겁살",미:"재살",신:"천살",유:"지살",술:"도화",해:"월살"},인:{자:"월살",축:"망신",인:"장성",묘:"반안",진:"역마",사:"육액",오:"화개",미:"겁살",신:"재살",유:"천살",술:"지살",해:"도화"},묘:{자:"도화",축:"월살",인:"망신",묘:"장성",진:"반안",사:"역마",오:"육액",미:"화개",신:"겁살",유:"재살",술:"천살",해:"지살"},진:{자:"지살",축:"도화",인:"월살",묘:"망신",진:"장성",사:"반안",오:"역마",미:"육액",신:"화개",유:"겁살",술:"재살",해:"천살"},사:{자:"천살",축:"지살",인:"도화",묘:"월살",진:"망신",사:"장성",오:"반안",미:"역마",신:"육액",유:"화개",술:"겁살",해:"재살"},오:{자:"재살",축:"천살",인:"지살",묘:"도화",진:"월살",사:"망신",오:"장성",미:"반안",신:"역마",유:"육액",술:"화개",해:"겁살"},미:{자:"겁살",축:"재살",인:"천살",묘:"지살",진:"도화",사:"월살",오:"망신",미:"장성",신:"반안",유:"역마",술:"육액",해:"화개"},신:{자:"화개",축:"겁살",인:"재살",묘:"천살",진:"지살",사:"도화",오:"월살",미:"망신",신:"장성",유:"반안",술:"역마",해:"육액"},유:{자:"육액",축:"화개",인:"겁살",묘:"재살",진:"천살",사:"지살",오:"도화",미:"월살",신:"망신",유:"장성",술:"반안",해:"역마"},술:{자:"역마",축:"육액",인:"화개",묘:"겁살",진:"재살",사:"천살",오:"지살",미:"도화",신:"월살",유:"망신",술:"장성",해:"반안"},해:{자:"반안",축:"역마",인:"육액",묘:"화개",진:"겁살",사:"재살",오:"천살",미:"지살",신:"도화",유:"월살",술:"망신",해:"장성"}}[t]?.[i]??""}function pN(t,i){const o={해:"묘",묘:"묘",미:"묘",인:"오",오:"오",술:"오",사:"유",유:"유",축:"유",신:"자",자:"자",진:"자"},l={묘:{자:"도화",축:"월살",인:"망신",묘:"장성",진:"반안",사:"역마",오:"육액",미:"화개",신:"겁살",유:"재살",술:"천살",해:"지살"},오:{자:"재살",축:"천살",인:"지살",묘:"도화",진:"월살",사:"망신",오:"장성",미:"반안",신:"역마",유:"육액",술:"화개",해:"겁살"},유:{자:"육액",축:"화개",인:"겁살",묘:"재살",진:"천살",사:"지살",오:"도화",미:"월살",신:"망신",유:"장성",술:"반안",해:"역마"},자:{자:"장성",축:"반안",인:"역마",묘:"육액",진:"화개",사:"겁살",오:"재살",미:"천살",신:"지살",유:"도화",술:"월살",해:"망신"}},u=o[t];return u&&l[u]?l[u][i]??"":""}function ki(t){const{baseBranch:i,targetBranch:o,era:l,gaehwa:u}=t;return!i||!o?"":l==="고전"?u?fN(i,o):hN(i,o):u?mN(i,o):pN(i,o)}function gs(t,i,o){const l=typeof o=="number"?o:void 0,u=Pe(t,l),d=jn(t,l),m=qe(t,i);return{yearGZ:u,monthGZ:d,dayGZ:m}}const Qr=xp()(Sp((t,i)=>{const o=new Date,l="야자시",u=127.5,d=gs(o,l,u);return{date:o,scope:"원국만",rule:l,lon:u,...d,setDate:m=>{const{rule:p,lon:b}=i(),v=gs(m,p,b);t({date:m,...v})},resetDate:()=>{const{rule:m,lon:p}=i(),b=new Date,v=gs(b,m,p);t({date:b,...v})},setScope:m=>t({scope:m}),setRule:m=>{const{date:p,lon:b}=i(),v=gs(p,m,b);t({rule:m,...v})},setLon:m=>{const{date:p,rule:b}=i(),v=gs(p,b,m);t({lon:m,...v})},setFromEvent:(m,p)=>{const{rule:b,lon:v}=i(),w=gs(m.at,b,v);t({date:m.at,scope:p,...w})}}},{name:"luck-picker-v1",merge:(t,i)=>{const o=t;return o.date&&typeof o.date=="string"&&(o.date=new Date(o.date)),{...i,...o}}}));function Wd(t,i="야자시",o=100){const l=P.useMemo(()=>Xp(t),[t]),u=P.useMemo(()=>To(l),[l]),d=P.useMemo(()=>Xd(l,i),[l,i]),m=(p,b)=>{const v=b.getFullYear()-p.getFullYear(),w=b.getMonth()-p.getMonth(),S=b.getDate()-p.getDate(),x=w<0||w===0&&S<0?v-1:v;return Math.max(0,x)};return P.useMemo(()=>Fd(u,d.month,l.dir,o,l.birthPlace?.lon??127.5).events.map(b=>({...b,age:m(u,b.at)})),[u,d.month,l.dir,o,l.birthPlace?.lon])}function Am(t){return t instanceof Date&&!Number.isNaN(t.getTime())}function gN(t,i){if(!Array.isArray(t)||t.length===0||!Am(i))return{gz:"",at:i,index:-1};const o=t;for(let d=0;d<o.length;d++){const m=o[d],p=o[d+1];if(!Am(m.at))continue;if(i.getTime()>=m.at.getTime()&&(!p||Am(p.at)&&i.getTime()<p.at.getTime()))return{gz:m.gz??"",at:m.at,index:d}}if(i.getTime()<o[0].at.getTime()){const d=o[0];return{gz:d.gz??"",at:d.at,index:0}}const l=o.length-1,u=o[l];return{gz:u.gz??"",at:u.at,index:l}}function Wp(t,i){const{date:o,rule:l,lon:u}=Qr(),d=Wd(t,t?.mingSikType),{gz:m}=gN(d,o);return P.useMemo(()=>{try{const p=u??t?.birthPlace?.lon??127.5,b=l??t?.mingSikType??i??"야자시";return{dae:{gz:m,at:o},se:{gz:Pe(o,p),at:o},wol:{gz:jn(o,p),at:o},il:{gz:qe(o,b),at:o}}}catch{return{dae:{gz:"",at:new Date},se:{gz:"",at:new Date},wol:{gz:"",at:new Date}}}},[o,d,l,u,t,i])}function Qd(t){return typeof t=="object"&&t!==null}function bN(t){return Qd(t)&&"default"in t}function vN(t){return Qd(t)&&typeof t.lunar2solar=="function"}function yN(t){if(!Qd(t))throw new Error("Invalid lunar2solar result");const i=t.cYear,o=t.cMonth,l=t.cDay;if(typeof i!="number"||typeof o!="number"||typeof l!="number")throw new Error("Invalid lunar2solar fields");const u=t.isLeap;return{cYear:i,cMonth:o,cDay:l,isLeap:typeof u=="boolean"?u:void 0}}function _N(t){const i=bN(t)?t.default:t;if(!vN(i))throw new Error("solarlunar.lunar2solar not found");return{lunar2solar:(o,l,u,d)=>{const m=i.lunar2solar(o,l,u,d);return yN(m)}}}const xN=_N(wo);function my(t,i,o){const l=xN.lunar2solar(t,i,o,!1);return{y:l.cYear,m:l.cMonth,d:l.cDay}}const f1={甲:"갑",乙:"을",丙:"병",丁:"정",戊:"무",己:"기",庚:"경",辛:"신",壬:"임",癸:"계"},h1={子:"자",丑:"축",寅:"인",卯:"묘",辰:"진",巳:"사",午:"오",未:"미",申:"신",酉:"유",戌:"술",亥:"해"},SN=Object.fromEntries(Object.entries(f1).map(([t,i])=>[i,t])),wN=Object.fromEntries(Object.entries(h1).map(([t,i])=>[i,t])),TN=new Set(["乙","丁","己","辛","癸","을","정","기","신","계"]),EN=new Set(["丑","卯","巳","未","酉","亥","축","묘","사","미","유","해"]);function MN(t,i,o){return o==="한글"?i==="stem"?f1[t]??t:h1[t]??t:i==="stem"?SN[t]??t:wN[t]??t}function DN(t,i){return i==="stem"?TN.has(t):EN.has(t)}function AN(t){return Qd(t)&&("Classic"in t||"Modern"in t||"classic"in t||"modern"in t)}function Nm(t){const i=Eo;return AN(i)?t==="classic"?i.Classic:i.Modern:t}const NN={대운:1,세운:2,월운:3};function ON(t){return t.includes("월운")?3:t.includes("세운")?2:(t.includes("대운"),1)}function jN({data:t,hourTable:i}){const{name:o,birthDay:l,birthTime:u,birthPlace:d,gender:m,calendarType:p,mingSikType:b}=t,v=Wr(I=>I.settings),w=b??i??"야자시",S=!d||d.name==="모름"||!d.lon?127.5:d.lon,{solarY:x,solarM:E,solarD:A}=P.useMemo(()=>{let I=Number(l?.slice(0,4)??2e3),D=Number(l?.slice(4,6)??1),G=Number(l?.slice(6,8)??1);if(p==="lunar"){const F=my(I,D,G);I=F.y,D=F.m,G=F.d}return{solarY:I,solarM:D,solarD:G}},[l,p]),[O,R]=P.useState(!1);P.useEffect(()=>{x&&E&&A&&R(jd(x,E,A))},[x,E,A]);const z=P.useMemo(()=>{const I=!t.birthTime||t.birthTime==="모름",D=!t.birthPlace;let G=Number(t.birthDay.slice(0,4)),F=Number(t.birthDay.slice(4,6)),q=Number(t.birthDay.slice(6,8));if(t.calendarType==="lunar"){const re=my(G,F,q);G=re.y,F=re.m,q=re.d}const tt=I?0:Number(t.birthTime.slice(0,2)||"0"),lt=I?0:Number(t.birthTime.slice(2,4)||"0"),ht=new Date(G,F-1,q,tt,lt,0,0),wt=D||!t.birthPlace||t.birthPlace.lon===0?127.5:t.birthPlace.lon;let bt=js(ht,wt);O&&(bt=new Date(bt.getTime()-3600*1e3));const Tt=t.mingSikType??"야자시",$t=Pe(bt,wt),Wt=jn(bt,wt),Pt=qe(bt,Tt),Bt=I?null:Ci(bt,Tt);return{corrected:bt,year:{stem:$t.charAt(0),branch:$t.charAt(1)},month:{stem:Wt.charAt(0),branch:Wt.charAt(1)},day:{stem:Pt.charAt(0),branch:Pt.charAt(1)},hour:Bt?{stem:Bt.charAt(0),branch:Bt.charAt(1)}:null}},[O,t.birthDay,t.birthPlace,t.birthTime,t.calendarType,t.mingSikType]),H=jd(x,E,A),k=z.day.stem,j=v.sinsalBase==="일지"?z.day.branch:z.year.branch,B=I=>v.showSibiUnseong?ji(k,I):null,V=I=>v.showSibiSinsal?ki({baseBranch:j,targetBranch:I,era:Nm(v.sinsalMode),gaehwa:v.sinsalBloom}):null,J=cN(t,w),W=GA({query:"(min-width: 992px)"}),rt=v.hiddenStem==="regular"?"main":"all",et=v.exposure,K=et==="원국"?0:NN[et],U=K===0?[]:J.filter(I=>ON(I.label)<=K),Q=()=>R(I=>!I),vt=Wp(t??null,i),$=vt.dae.gz,it=vt.se.gz,ot=vt.wol.gz;return y.jsxs("div",{className:"w-full max-w-[640px] mx-auto",children:[y.jsxs("div",{className:"mb-1 flex flex-wrap items-end justify-between gap-2 p-2",children:[y.jsxs("div",{children:[y.jsxs("div",{className:"text-md desk:text-xl font-bold text-neutral-900 dark:text-neutral-100",children:[o?.trim()||"이름없음"," ",y.jsxs("span",{className:"text-sm text-neutral-500 dark:text-neutral-400 mr-2",children:["(",m,")"]}),H&&y.jsxs("button",{onClick:Q,className:`px-2 py-0.5 text-xs rounded cursor-pointer border
                  ${O?"bg-red-600 text-white border-red-600":"bg-neutral-100 text-neutral-700 border-neutral-300 dark:bg-neutral-800 dark:text-neutral-200 dark:border-neutral-700"}`,children:["썸머타임 ",O?"ON":"OFF"]})]}),y.jsxs("div",{className:"text-sm text-neutral-600 dark:text-neutral-400",children:[kN(l,u),d?.name?` · ${"출생지: "+d.name}`:""]}),y.jsxs("div",{className:"text-sm text-neutral-600 dark:text-neutral-400",children:["보정시: ",dN(z.corrected)]})]}),y.jsxs("div",{className:"text-xs text-neutral-500 dark:text-neutral-400",children:["기준 경도: ",S.toFixed(2),"° · ",w," 기준"]})]}),y.jsxs("div",{className:`grid gap-2 p-2 desk:p-0 ${U.length===0?"grid-cols-1":U.length===1?"grid-cols-[2fr_8fr]":U.length===2?"grid-cols-[3.5fr_6.5fr]":"grid-cols-[4fr_5fr]"}`,children:[U.length>0&&(W?y.jsxs("section",{className:"rounded-lg bg-white dark:bg-neutral-900 text-neutral-900 dark:text-white border border-neutral-200 dark:border-neutral-700 shadow",children:[y.jsx("div",{className:"px-3 py-1 text-md text-neutral-600 dark:text-neutral-300",children:y.jsx("b",{children:"운"})}),y.jsx("div",{className:"pb-2",children:y.jsx("div",{className:`grid gap-2 p-3 ${U.length===1?"grid-cols-1":U.length===2?"grid-cols-2":"grid-cols-3"}`,children:U.map(I=>{let D=I.data.stem,G=I.data.branch;I.label.includes("대운")&&$&&(D=$.charAt(0),G=$.charAt(1)),I.label.includes("세운")&&it&&(D=it.charAt(0),G=it.charAt(1)),I.label.includes("월운")&&ot&&(D=ot.charAt(0),G=ot.charAt(1));const F=B(G),q=V(G);return y.jsxs("div",{className:"rounded-xl bg-white dark:bg-neutral-900 border border-neutral-200 dark:border-neutral-800 overflow-hidden",children:[y.jsx("div",{className:"px-2 py-1 text-center text-xs tracking-wider bg-neutral-50 dark:bg-neutral-800/60 text-neutral-600 dark:text-neutral-300",children:I.label}),y.jsxs("div",{className:"p-2 flex flex-col items-center gap-1",children:[v.showSipSin&&y.jsx("div",{className:"text-xs text-neutral-500 dark:text-neutral-400",children:On(k,{stem:D})}),y.jsx(Da,{value:D,kind:"stem",charType:v.charType,thinEum:v.thinEum}),y.jsx(Da,{value:G,kind:"branch",charType:v.charType,thinEum:v.thinEum}),y.jsx(Kl,{branch:G,dayStem:k,mode:rt,mapping:v.hiddenStemMode}),(v.showSibiUnseong||v.showSibiSinsal)&&y.jsxs("div",{className:"text-[11px] text-neutral-500 dark:text-neutral-400 mt-1 text-center space-y-0.5",children:[v.showSibiUnseong&&y.jsx("div",{children:F}),v.showSibiSinsal&&y.jsx("div",{children:q})]})]})]},I.key)})})})]}):y.jsxs("div",{className:"rounded-lg bg-white dark:bg-neutral-900 text-neutral-900 dark:text-white border border-neutral-200 dark:border-neutral-700 shadow",children:[y.jsx("div",{className:"px-3 py-1 text-[11px] text-neutral-600 dark:text-neutral-300",children:"운"}),y.jsx("div",{className:"pb-2",children:y.jsx("div",{className:`grid gap-1 p-0 ${U.length===1?"grid-cols-1":U.length===2?"grid-cols-2":"grid-cols-3"}`,children:U.map(I=>{const D=I.data.stem,G=I.data.branch,F=B(G),q=V(G);return y.jsxs("div",{className:"rounded-xl bg-white dark:bg-neutral-900 border border-neutral-200 dark:border-neutral-800 overflow-hidden",children:[y.jsx("div",{className:"py-1 text-center text-xs tracking-wider bg-neutral-50 dark:bg-neutral-800/60 text-neutral-600 dark:text-neutral-300",children:I.label}),y.jsxs("div",{className:"py-2 flex flex-col items-center gap-1",children:[v.showSipSin&&y.jsx("div",{className:"text-xs text-neutral-500 dark:text-neutral-400",children:On(k,{stem:D})}),y.jsx(Da,{value:D,kind:"stem",charType:v.charType,thinEum:v.thinEum}),y.jsx(Da,{value:G,kind:"branch",charType:v.charType,thinEum:v.thinEum}),y.jsx(Kl,{branch:G,dayStem:k,mode:rt,mapping:v.hiddenStemMode}),(v.showSibiUnseong||v.showSibiSinsal)&&y.jsxs("div",{className:"text-[11px] text-neutral-500 dark:text-neutral-400 mt-1 text-center space-y-0.5",children:[v.showSibiUnseong&&y.jsx("div",{children:F}),v.showSibiSinsal&&y.jsx("div",{children:q})]})]})]},I.key)})})})]})),W?y.jsxs("section",{className:"flex-2 rounded-lg bg-white dark:bg-neutral-900 text-neutral-900 dark:text-white border border-neutral-200 dark:border-neutral-700 shadow",children:[y.jsx("div",{className:"px-3 py-1 text-md text-neutral-600 dark:text-neutral-300",children:y.jsx("b",{children:"원국"})}),y.jsx("div",{className:"pb-2",children:y.jsx("div",{className:"grid grid-cols-4 gap-2 p-3",children:[{key:"hour",label:"시주",data:z.hour},{key:"day",label:"일주",data:z.day},{key:"month",label:"월주",data:z.month},{key:"year",label:"연주",data:z.year}].map(I=>y.jsxs("div",{className:"rounded-xl bg-white dark:bg-neutral-900 border border-neutral-200 dark:border-neutral-800 overflow-hidden",children:[y.jsx("div",{className:"px-2 py-1 text-center text-xs tracking-wider bg-neutral-50 dark:bg-neutral-800/60 text-neutral-600 dark:text-neutral-300",children:I.label}),y.jsx("div",{className:"p-2 flex flex-col items-center gap-1",children:I.data?y.jsxs(y.Fragment,{children:[v.showSipSin&&y.jsx("div",{className:"text-xs text-neutral-500 dark:text-neutral-400",children:On(k,{stem:I.data.stem})}),y.jsx(Da,{value:I.data.stem,kind:"stem",charType:v.charType,thinEum:v.thinEum}),y.jsx(Da,{value:I.data.branch,kind:"branch",charType:v.charType,thinEum:v.thinEum}),y.jsx(Kl,{branch:I.data.branch,dayStem:k,mode:rt,mapping:v.hiddenStemMode}),(v.showSibiUnseong||v.showSibiSinsal)&&y.jsxs("div",{className:"text-[11px] text-neutral-500 dark:text-neutral-400 mt-1 text-center space-y-0.5",children:[v.showSibiUnseong&&y.jsx("div",{children:ji(k,I.data.branch)}),v.showSibiSinsal&&y.jsx("div",{children:ki({baseBranch:v.sinsalBase==="일지"?z.day.branch:z.year.branch,targetBranch:I.data.branch,era:Nm(v.sinsalMode),gaehwa:v.sinsalBloom})})]})]}):y.jsx("span",{className:"text-xs text-neutral-500 dark:text-neutral-400",children:"시간 미상"})})]},I.key))})})]}):y.jsxs("div",{className:"flex-2 rounded-lg bg-white dark:bg-neutral-900 text-neutral-900 dark:text-white border border-neutral-200 dark:border-neutral-700 shadow",children:[y.jsx("div",{className:"px-3 py-1 text-[11px] text-neutral-600 dark:text-neutral-300",children:"원국"}),y.jsx("div",{className:"px-1 pb-2",children:y.jsx("div",{className:"grid grid-cols-4 gap-1",children:[{key:"hour",label:"시주",data:z.hour},{key:"day",label:"일주",data:z.day},{key:"month",label:"월주",data:z.month},{key:"year",label:"연주",data:z.year}].map(I=>y.jsxs("div",{className:"rounded-xl bg-white dark:bg-neutral-900 border border-neutral-200 dark:border-neutral-800 overflow-hidden",children:[y.jsx("div",{className:"py-1 text-center text-xs tracking-wider bg-neutral-50 dark:bg-neutral-800/60 text-neutral-600 dark:text-neutral-300",children:I.label}),y.jsx("div",{className:"py-2 flex flex-col items-center gap-1",children:I.data?y.jsxs(y.Fragment,{children:[v.showSipSin&&y.jsx("div",{className:"text-xs text-neutral-500 dark:text-neutral-400",children:On(k,{stem:I.data.stem})}),y.jsx(Da,{value:I.data.stem,kind:"stem",charType:v.charType,thinEum:v.thinEum}),y.jsx(Da,{value:I.data.branch,kind:"branch",charType:v.charType,thinEum:v.thinEum}),y.jsx(Kl,{branch:I.data.branch,dayStem:k,mode:rt,mapping:v.hiddenStemMode}),(v.showSibiUnseong||v.showSibiSinsal)&&y.jsxs("div",{className:"text-[11px] text-neutral-500 dark:text-neutral-400 mt-1 text-center space-y-0.5",children:[v.showSibiUnseong&&y.jsx("div",{children:ji(k,I.data.branch)}),v.showSibiSinsal&&y.jsx("div",{children:ki({baseBranch:v.sinsalBase==="일지"?z.day.branch:z.year.branch,targetBranch:I.data.branch,era:Nm(v.sinsalMode),gaehwa:v.sinsalBloom})})]})]}):y.jsx("span",{className:"text-xs text-neutral-500 dark:text-neutral-400",children:"시간 미상"})})]},I.key))})})]})]})]})}function Da({value:t,kind:i,charType:o,thinEum:l}){const u=kr(t,i),d=MN(t,i,o),m=DN(t,i),p=l&&m?"font-thin":"font-bold";return y.jsx("div",{className:`w-11 h-11 sm:w-14 sm:h-14 md:w-14 md:h-14 rounded-md ${u} flex items-center justify-center border border-neutral-200 dark:border-neutral-800`,children:y.jsx("span",{className:`text-[24px] md:text-2xl ${p} text-white`,children:d})})}function kN(t,i){if(!t||!/^\d{8}$/.test(t))return"";const o=t.slice(0,4),l=t.slice(4,6),u=t.slice(6,8),d=`${o}-${l}-${u}`;return!i||i==="모름"||!/^\d{4}$/.test(i)?d:`${d} ${i.slice(0,2)}:${i.slice(2,4)}`}const LN={甲:"갑",乙:"을",丙:"병",丁:"정",戊:"무",己:"기",庚:"경",辛:"신",壬:"임",癸:"계",갑:"갑",을:"을",병:"병",정:"정",무:"무",기:"기",경:"경",신:"신",임:"임",계:"계"};function CN(t){if(!t)return null;const i=t.charAt(0);return LN[i]??null}function Ba(t){const i=Number(t.birthDay?.slice(0,4)),o=Number(t.birthDay?.slice(4,6))-1,l=Number(t.birthDay?.slice(6,8)),u=!t.birthTime||t.birthTime==="모름"?0:Number(t.birthTime?.slice(0,2)),d=!t.birthTime||t.birthTime==="모름"?0:Number(t.birthTime?.slice(2,4)),m=new Date(i,o,l,u,d,0,0);if(isNaN(m.getTime()))throw new Error(`Invalid date: ${t.birthDay} ${t.birthTime}`);return js(m,t.birthPlace?.lon??127.5)}function Jd(t){const i=Ba(t),o=qe(i,t.mingSikType??"야자시");if(!o)throw new Error(`getDayGanZhi returned undefined for ${i.toISOString()}`);const l=CN(o);if(!l)throw new Error(`Invalid day stem from ${o}`);return l}function tf(t,i){if(t.length===0)return-1;for(let o=0;o<t.length;o+=1){const l=t[o].at,u=t[o+1]?.at;if(!u)return i>=l?o:o-1;if(i>=l&&i<u)return o}return-1}const m1={甲:"갑",乙:"을",丙:"병",丁:"정",戊:"무",己:"기",庚:"경",辛:"신",壬:"임",癸:"계"},p1={子:"자",丑:"축",寅:"인",卯:"묘",辰:"진",巳:"사",午:"오",未:"미",申:"신",酉:"유",戌:"술",亥:"해"},BN=Object.fromEntries(Object.entries(m1).map(([t,i])=>[i,t])),RN=Object.fromEntries(Object.entries(p1).map(([t,i])=>[i,t]));function py(t,i,o){return o==="한글"?i==="stem"?m1[t]??t:p1[t]??t:i==="stem"?BN[t]??t:RN[t]??t}const PN=new Set(["乙","丁","己","辛","癸","을","정","기","신","계"]),zN=new Set(["丑","卯","巳","未","酉","亥","축","묘","사","미","유","해"]);function gy(t,i){return i==="stem"?PN.has(t):zN.has(t)}function HN(t){return typeof t=="object"&&t!==null}function IN(t){return HN(t)&&("Classic"in t||"Modern"in t||"classic"in t||"modern"in t)}function $N(t){const i=Eo;return IN(i)?t==="classic"?i.Classic:i.Modern:t}function UN({data:t}){const i=Wd(t),o=Jd(t),{date:l,setFromEvent:u}=Qr(),d=P.useMemo(()=>tf(i,l),[i,l]),m=Wr(B=>B.settings),{charType:p,thinEum:b,showSipSin:v,showSibiUnseong:w,showSibiSinsal:S,sinsalBase:x,sinsalMode:E,sinsalBloom:A}=m,O=Ba(t),R=!t.birthPlace||t.birthPlace.name==="모름"||t.birthPlace.lon===0?127.5:t.birthPlace.lon,z=t.mingSikType??"야자시",H=x==="일지"?qe(O,z).charAt(1):Pe(O,R).charAt(1),k=B=>w?ji(o,B):null,j=B=>S?ki({baseBranch:H,targetBranch:B,era:$N(E),gaehwa:!!A}):null;return y.jsxs("div",{className:"w-full max-w-[640px] mx-auto rounded-xl bg-white dark:bg-neutral-900 border border-neutral-200 dark:border-neutral-800 overflow-hidden",children:[y.jsx("div",{className:"px-3 py-2 text-sm font-semibold tracking-wider bg-neutral-50 dark:bg-neutral-800/60 text-neutral-700 dark:text-neutral-300",children:"대운리스트"}),y.jsx("div",{className:"flex gap-0.5 desk:gap-1 py-2 desk:p-2 flex-row-reverse",children:i.map((B,V)=>{const J=B.gz.charAt(0),W=B.gz.charAt(1),rt=GN(O,B.at),et=V===d,K=py(J,"stem",p),U=py(W,"branch",p),Q=gy(J,"stem"),mt=gy(W,"branch"),vt=b&&Q?"font-thin":"font-bold",$=b&&mt?"font-thin":"font-bold",it=k(W),ot=j(W);return y.jsxs("div",{onClick:()=>u(B,"대운"),className:`flex-1 rounded-sm desk:rounded-lg bg-white dark:bg-neutral-900 overflow-hidden cursor-pointer ${et?"border border-yellow-500":"border border-neutral-200 dark:border-neutral-800 hover:border-yellow-500"}`,title:`${B.gz} · ${B.at.toLocaleDateString()}`,children:[y.jsx("div",{className:"desk:px-2 py-1 text-center text-[10px] bg-neutral-50 dark:bg-neutral-800/60 text-neutral-600 dark:text-neutral-300",children:rt}),y.jsxs("div",{className:"p-2 flex flex-col items-center gap-1",children:[v&&y.jsx("div",{className:"text-[10px] text-neutral-500 dark:text-neutral-400 text-nowrap",children:On(o,{stem:J})}),y.jsx("div",{className:`w-8 h-8 sm:w-8 sm:h-8 md:w-10 md:h-10 rounded-sm md:rounded-lg flex items-center justify-center border border-neutral-200 dark:border-neutral-800 ${kr(J,"stem")}`,children:y.jsx("span",{className:`text-[20px] md:text-xl text-white ${vt}`,children:K})}),y.jsx("div",{className:`w-8 h-8 sm:w-8 sm:h-8 md:w-10 md:h-10 rounded-sm md:rounded-lg flex items-center justify-center border border-neutral-200 dark:border-neutral-800 ${kr(W,"branch")}`,children:y.jsx("span",{className:`text-[20px] md:text-xl text-white ${$}`,children:U})}),v&&y.jsx("div",{className:"text-[10px] text-neutral-500 dark:text-neutral-400 text-nowrap",children:On(o,{branch:W})}),(w||S)&&y.jsxs("div",{className:"text-[11px] text-neutral-500 dark:text-neutral-400 mt-1 text-center space-y-0.5 text-nowrap",children:[w&&y.jsx("div",{children:it}),S&&y.jsx("div",{children:ot})]})]})]},B.gz)})})]})}function GN(t,i){const l=(i.getTime()-t.getTime())/(365.2425*24*60*60*1e3);return Math.max(0,Math.round(l))}const g1={甲:"갑",乙:"을",丙:"병",丁:"정",戊:"무",己:"기",庚:"경",辛:"신",壬:"임",癸:"계"},b1={子:"자",丑:"축",寅:"인",卯:"묘",辰:"진",巳:"사",午:"오",未:"미",申:"신",酉:"유",戌:"술",亥:"해"},ZN=Object.fromEntries(Object.entries(g1).map(([t,i])=>[i,t])),YN=Object.fromEntries(Object.entries(b1).map(([t,i])=>[i,t]));function by(t,i,o){return o==="한글"?i==="stem"?g1[t]??t:b1[t]??t:i==="stem"?ZN[t]??t:YN[t]??t}const qN=new Set(["乙","丁","己","辛","癸","을","정","기","신","계"]),VN=new Set(["丑","卯","巳","未","酉","亥","축","묘","사","미","유","해"]);function vy(t,i){return i==="stem"?qN.has(t):VN.has(t)}function KN(t){return typeof t=="object"&&t!==null}function FN(t){return KN(t)&&("Classic"in t||"Modern"in t||"classic"in t||"modern"in t)}function XN(t){const i=Eo;return FN(i)?t==="classic"?i.Classic:i.Modern:t}function WN({data:t,list:i,onSelect:o}){const l=Wr(x=>x.settings),{date:u,setFromEvent:d}=Qr(),m=tf(i,u),p=Jd(t),b=Ba(t),v=!t.birthPlace||t.birthPlace.name==="모름"||t.birthPlace.lon===0?127.5:t.birthPlace.lon,w=t.mingSikType??"야자시",S=l.sinsalBase==="일지"?qe(b,w).charAt(1):Pe(b,v).charAt(1);return y.jsxs("div",{className:"w-full max-w-[640px] mx-auto rounded-xl bg-white dark:bg-neutral-900 border border-neutral-200 dark:border-neutral-800 overflow-hidden",children:[y.jsx("div",{className:"px-3 py-2 text-sm font-semibold tracking-wider bg-neutral-50 dark:bg-neutral-800/60 text-neutral-700 dark:text-neutral-300",children:"세운리스트"}),y.jsx("div",{className:"flex gap-0.5 desk:gap-1 py-2 desk:p-2 flex-row-reverse",children:i.map((x,E)=>{const A=x.at.getFullYear(),O=Pe(new Date(A,6,1),v),R=O.charAt(0),z=O.charAt(1),H=E===m,k=by(R,"stem",l.charType),j=by(z,"branch",l.charType),B=vy(R,"stem"),V=vy(z,"branch"),J=l.thinEum&&B?"font-thin":"font-bold",W=l.thinEum&&V?"font-thin":"font-bold",rt=l.showSibiUnseong?ji(p,z):null,et=l.showSibiSinsal?ki({baseBranch:S,targetBranch:z,era:XN(l.sinsalMode),gaehwa:!!l.sinsalBloom}):null;return y.jsxs("div",{onClick:()=>{o?.(A),d(x,"세운")},className:`flex-1 rounded-sm desk:rounded-lg bg-white dark:bg-neutral-900 overflow-hidden cursor-pointer ${H?"border border-yellow-500":"border border-neutral-200 dark:border-neutral-800 hover:border-yellow-500"}`,title:`${O} · ${x.at.toLocaleDateString()}`,children:[y.jsx("div",{className:"desk:px-2 py-1 text-center text-[10px] bg-neutral-50 dark:bg-neutral-800/60 text-neutral-600 dark:text-neutral-300",children:A}),y.jsxs("div",{className:"p-2 flex flex-col items-center gap-1",children:[l.showSipSin&&y.jsx("div",{className:"text-[10px] text-neutral-500 dark:text-neutral-400 text-nowrap",children:On(p,{stem:R})}),y.jsx("div",{className:`w-8 h-8 md:w-10 md:h-10 rounded-sm md:rounded-lg flex items-center justify-center border ${kr(R,"stem")}`,children:y.jsx("span",{className:`text-[20px] md:text-xl text-white ${J}`,children:k})}),y.jsx("div",{className:`w-8 h-8 md:w-10 md:h-10 rounded-sm md:rounded-lg flex items-center justify-center border ${kr(z,"branch")}`,children:y.jsx("span",{className:`text-[20px] md:text-xl text-white ${W}`,children:j})}),l.showSipSin&&y.jsx("div",{className:"text-[10px] text-neutral-500 dark:text-neutral-400 text-nowrap",children:On(p,{branch:z})}),(l.showSibiUnseong||l.showSibiSinsal)&&y.jsxs("div",{className:"text-[10px] text-neutral-500 dark:text-neutral-400 text-center text-nowrap",children:[l.showSibiUnseong&&rt&&y.jsx("div",{children:rt}),l.showSibiSinsal&&et&&y.jsx("div",{children:et})]})]})]},`${A}-${x.gz||E}`)})})]})}const v1={甲:"갑",乙:"을",丙:"병",丁:"정",戊:"무",己:"기",庚:"경",辛:"신",壬:"임",癸:"계"},y1={子:"자",丑:"축",寅:"인",卯:"묘",辰:"진",巳:"사",午:"오",未:"미",申:"신",酉:"유",戌:"술",亥:"해"},QN=Object.fromEntries(Object.entries(v1).map(([t,i])=>[i,t])),JN=Object.fromEntries(Object.entries(y1).map(([t,i])=>[i,t]));function yy(t,i,o){return o==="한글"?i==="stem"?v1[t]??t:y1[t]??t:i==="stem"?QN[t]??t:JN[t]??t}const t9=new Set(["乙","丁","己","辛","癸","을","정","기","신","계"]),e9=new Set(["丑","卯","巳","未","酉","亥","축","묘","사","미","유","해"]);function _y(t,i){return i==="stem"?t9.has(t):e9.has(t)}function n9(t){return typeof t=="object"&&t!==null}function r9(t){return n9(t)&&("Classic"in t||"Modern"in t||"classic"in t||"modern"in t)}function i9(t){const i=Eo;return r9(i)?t==="classic"?i.Classic:i.Modern:t}function a9({data:t,activeYear:i,onSelect:o}){const l=Wr(A=>A.settings),[,u]=P.useState(null),d=!t.birthPlace||t.birthPlace.name==="모름"||t.birthPlace.lon===0?127.5:t.birthPlace.lon,m=Jd(t),p=Ba(t),b=t.mingSikType??"야자시",v=l.sinsalBase==="일지"?qe(p,b).charAt(1):Pe(p,d).charAt(1),w=P.useMemo(()=>{if(!i)return[];const A=[];for(let O=2;O<=13;O++){const R=O===13?i+1:i,z=O===13?1:O,H=new Date(R,z-1,10),k=jn(H,d);A.push({at:H,gz:k})}return A},[i,d]);P.useEffect(()=>{if(!w.length)return;u(null);const A=new Date,O=w.findIndex((R,z)=>{const H=w[z+1]?.at;return A>=R.at&&(!H||A<H)});i===A.getFullYear()&&u(O!==-1?O:null)},[w,i]);const{date:S,setFromEvent:x}=Qr(),E=tf(w,S);return y.jsxs("div",{className:"w-full max-w-[640px] mx-auto rounded-xl bg-white dark:bg-neutral-900 border border-neutral-200 dark:border-neutral-800 overflow-hidden",children:[y.jsx("div",{className:"px-3 py-2 text-sm font-semibold tracking-wider bg-neutral-50 dark:bg-neutral-800/60 text-neutral-700 dark:text-neutral-300",children:"월운리스트"}),y.jsx("div",{className:"flex gap-0.5 desk:gap-1 py-2 desk:p-2 flex-row-reverse",children:w.map((A,O)=>{const R=A.gz.charAt(0),z=A.gz.charAt(1),H=`${A.at.getMonth()+1}월`,k=O===E,j=yy(R,"stem",l.charType),B=yy(z,"branch",l.charType),V=_y(R,"stem"),J=_y(z,"branch"),W=l.thinEum&&V?"font-thin":"font-bold",rt=l.thinEum&&J?"font-thin":"font-bold",et=l.showSibiUnseong?ji(m,z):null,K=l.showSibiSinsal?ki({baseBranch:v,targetBranch:z,era:i9(l.sinsalMode),gaehwa:!!l.sinsalBloom}):null;return y.jsxs("div",{onClick:()=>{u(O),o?.(A.at.getFullYear(),A.at.getMonth()+1),x(A,"월운")},className:`flex-1 rounded-sm desk:rounded-lg bg-white dark:bg-neutral-900 overflow-hidden cursor-pointer ${k?"border border-yellow-500":"border border-neutral-200 dark:border-neutral-800 hover:border-yellow-500"}`,title:`${A.gz} · ${A.at.toLocaleDateString()}`,children:[y.jsx("div",{className:"desk:px-2 py-1 text-center text-[10px] bg-neutral-50 dark:bg-neutral-800/60 text-neutral-600 dark:text-neutral-300",children:H}),y.jsxs("div",{className:"p-2 flex flex-col items-center gap-1",children:[l.showSipSin&&y.jsx("div",{className:"text-[10px] text-neutral-500 dark:text-neutral-400 text-nowrap",children:On(m,{stem:R})}),y.jsx("div",{className:`w-7 h-7 sm:w-8 sm:h-8 md:w-10 md:h-10 rounded-sm md:rounded-lg flex items-center justify-center border border-neutral-200 dark:border-neutral-800 ${kr(R,"stem")}`,children:y.jsx("span",{className:`text-base md:text-xl text-white ${W}`,children:j})}),y.jsx("div",{className:`w-7 h-7 sm:w-8 sm:h-8 md:w-10 md:h-10 rounded-sm md:rounded-lg flex items-center justify-center border border-neutral-200 dark:border-neutral-800 ${kr(z,"branch")}`,children:y.jsx("span",{className:`text-base md:text-xl text-white ${rt}`,children:B})}),l.showSipSin&&y.jsx("div",{className:"text-[10px] text-neutral-500 dark:text-neutral-400 text-nowrap",children:On(m,{branch:z})}),(l.showSibiUnseong||l.showSibiSinsal)&&y.jsxs("div",{className:"text-[10px] text-neutral-500 dark:text-neutral-400 text-center text-nowrap",children:[l.showSibiUnseong&&et&&y.jsx("div",{children:et}),l.showSibiSinsal&&K&&y.jsx("div",{children:K})]})]})]},A.gz)})})]})}const _1={甲:"갑",乙:"을",丙:"병",丁:"정",戊:"무",己:"기",庚:"경",辛:"신",壬:"임",癸:"계"},x1={子:"자",丑:"축",寅:"인",卯:"묘",辰:"진",巳:"사",午:"오",未:"미",申:"신",酉:"유",戌:"술",亥:"해"},o9=Object.fromEntries(Object.entries(_1).map(([t,i])=>[i,t])),s9=Object.fromEntries(Object.entries(x1).map(([t,i])=>[i,t]));function xy(t,i,o){return o==="한글"?i==="stem"?_1[t]??t:x1[t]??t:i==="stem"?o9[t]??t:s9[t]??t}const l9=new Set(["乙","丁","己","辛","癸","을","정","기","신","계"]),c9=new Set(["丑","卯","巳","未","癸","亥","축","묘","사","미","유","해"]);function Sy(t,i){return i==="stem"?l9.has(t):c9.has(t)}function u9(t){return typeof t=="object"&&t!==null}function d9(t){return u9(t)&&("Classic"in t||"Modern"in t||"classic"in t||"modern"in t)}function f9(t){const i=Eo;return d9(i)?t==="classic"?i.Classic:i.Modern:t}function h9(t,i){const o=new Date(t,i-1,1,12,0,0,0),l=new Date(i===12?t+1:t,i===12?0:i,1,12,0,0,0);return{start:o,end:l}}function m9(t,i){const o=i===1?t-1:t;return new Date(o,5,15,12,0,0,0)}function p9({data:t,year:i,month:o,hourTable:l}){const u=Wr(H=>H.settings),d=l??t?.mingSikType??"야자시",m=t?Jd(t):void 0,p=t?Ba(t):null,b=t&&t.birthPlace&&t.birthPlace.name!=="모름"&&t.birthPlace.lon!==0?t.birthPlace.lon:127.5,v=t&&p?u.sinsalBase==="일지"?qe(p,d).charAt(1):Pe(p,b).charAt(1):null,{start:w,end:S}=P.useMemo(()=>h9(i,o),[i,o]),x=P.useMemo(()=>{const H=m9(i,o);return(u1(H)??[]).slice().sort((j,B)=>j.date.getTime()-B.date.getTime()).filter(j=>j.date>=w&&j.date<S)},[i,o,w,S]),E=P.useMemo(()=>{const H=[],k=new Date(w);for(;k<S;)H.push(new Date(k)),k.setDate(k.getDate()+1);return H},[w,S]),A=P.useMemo(()=>{const H=[];let k=[];const j=new Date(i,o-1,1).getDay();for(let B=0;B<j;B++)k.push(null);for(const B of E)k.length===7&&(H.push(k),k=[]),k.push(B);for(;k.length<7;)k.push(null);return H.push(k),H},[E,i,o]),{date:O,setFromEvent:R}=Qr(),z=P.useMemo(()=>{const H=E.map(k=>({at:k}));return tf(H,O)},[E,O]);return y.jsxs("div",{className:"w-full max-w-[800px] mx-auto mb-4 rounded-xl bg-white dark:bg-neutral-900 border border-neutral-200 dark:border-neutral-800 overflow-hidden",children:[y.jsx("div",{className:"flex justify-center items-center px-2 desk:px-4 py-2 bg-neutral-50 dark:bg-neutral-800/60",children:y.jsxs("div",{className:"text-center text-[11px] desk:text-sm font-semibold text-neutral-700 dark:text-neutral-200",children:[i,"년 ",o,"월",x.length>0&&y.jsxs("div",{className:"mt-0.5 text-[10px] desk:text-xs font-normal text-neutral-500 dark:text-neutral-400",children:["[",x.map((H,k)=>y.jsxs("span",{children:[H.name," ",g9(H.date),k<x.length-1?" · ":""]},H.name+k)),"]"]})]})}),y.jsx("div",{className:"grid grid-cols-7 text-center text-xs bg-neutral-100 dark:bg-neutral-800 text-neutral-600 dark:text-neutral-300",children:["일","월","화","수","목","금","토"].map(H=>y.jsx("div",{className:"py-1",children:H},H))}),y.jsx("div",{className:"grid grid-cols-7 gap-px bg-neutral-200 dark:bg-neutral-800",children:A.map((H,k)=>H.map((j,B)=>{if(!j)return y.jsx("div",{className:"bg-white dark:bg-neutral-900"},`${k}-${B}`);const V=new Date(j.getFullYear(),j.getMonth(),j.getDate()),W=E.findIndex(tt=>tt.getTime()===j.getTime())===z,rt=qe(V,d),et=rt.charAt(0),K=rt.charAt(1),U=xy(et,"stem",u.charType),Q=xy(K,"branch",u.charType),mt=u.thinEum&&Sy(et,"stem")?"font-thin":"font-bold",vt=u.thinEum&&Sy(K,"branch")?"font-thin":"font-bold",$=!!m&&u.showSipSin,it=!!m&&u.showSibiUnseong,ot=!!m&&v!=null&&u.showSibiSinsal,I=$?On(m,{stem:et}):"",D=$?On(m,{branch:K}):"",G=it?ji(m,K):"",F=ot?ki({baseBranch:v,targetBranch:K,era:f9(u.sinsalMode),gaehwa:!!u.sinsalBloom}):"",q=x.find(tt=>tt.date.getFullYear()===V.getFullYear()&&tt.date.getMonth()===V.getMonth()&&tt.date.getDate()===V.getDate());return y.jsxs("div",{onClick:()=>R({at:j},"일운"),className:`space-y-1 bg-white dark:bg-neutral-900 flex flex-col items-center justify-start p-1 text-xs border ${W?"border-yellow-500":"border-neutral-200 dark:border-neutral-800"}`,title:`${rt} (${V.toLocaleDateString()})`,children:[y.jsxs("div",{className:"text-neutral-600 dark:text-neutral-400 flex items-center gap-1",children:[y.jsx("span",{children:V.getDate()}),q&&y.jsx("span",{className:"px-1 rounded bg-amber-100 text-amber-700 dark:bg-amber-900/40 dark:text-amber-200",children:q.name})]}),$&&y.jsx("div",{className:"text-[10px] text-neutral-500 dark:text-neutral-400",children:I}),y.jsx("div",{className:`w-8 h-8 rounded flex items-center justify-center text-white text-base ${kr(et,"stem")}`,children:y.jsx("span",{className:mt,children:U})}),y.jsx("div",{className:`w-8 h-8 rounded flex items-center justify-center text-white text-base ${kr(K,"branch")}`,children:y.jsx("span",{className:vt,children:Q})}),$&&y.jsx("div",{className:"text-[10px] text-neutral-500 dark:text-neutral-400",children:D}),(it||ot)&&y.jsxs("div",{className:"text-[10px] text-neutral-500 dark:text-neutral-400 text-center space-y-0.5",children:[it&&G&&y.jsx("div",{children:G}),ot&&F&&y.jsx("div",{children:F})]})]},j.toISOString())}))})]})}function g9(t){if(!t)return null;const i=new Intl.DateTimeFormat("ko-KR",{timeZone:"Asia/Seoul",month:"numeric",day:"numeric",hour:"2-digit",minute:"2-digit",hour12:!1}).formatToParts(t);let o="",l="",u="",d="";for(const m of i)m.type==="month"&&(o=m.value),m.type==="day"&&(l=m.value),m.type==="hour"&&(u=m.value),m.type==="minute"&&(d=m.value);return`${o}/${l} ${u}:${d}`}function wy(t,i){const o=t.at.getFullYear(),l=i?i.at.getFullYear():o+10,u=[];for(let d=o;d<l;d++){const m=Ze(d,315);let p=d;new Date<m&&(p=d-1);const v=Pe(new Date(p,1,10));u.push({at:m,gz:v})}return u}function b9({data:t}){const i=Wd(t),[o,l]=P.useState(null),[u,d]=P.useState(null),[m,p]=P.useState("il");P.useEffect(()=>{if(!i.length)return;const x=new Date,E=i.findIndex((A,O)=>{const R=i[O+1]?.at;return x>=A.at&&(!R||x<R)});E!==-1&&l(E)},[i]),P.useEffect(()=>{if(o===null)return;const x=i[o],E=i[o+1];if(!x)return;const A=wy(x,E),O=new Date;A.findIndex((z,H)=>{const k=A[H+1]?.at;return O>=z.at&&(!k||O<k)})!==-1&&d({year:O.getFullYear(),month:O.getMonth()+1})},[o,i]);const b=Wp(t),{date:v}=Qr(),w=v.getMonth()+1===1?v.getFullYear()-1:v.getFullYear(),S=P.useMemo(()=>{if(!b?.dae?.gz)return[];const x=i.findIndex((O,R)=>{const z=i[R+1]?.at;return b.dae.at>=O.at&&(!z||b.dae.at<z)});if(x===-1)return[];const E=i[x],A=i[x+1];return wy(E,A)},[i,b?.dae]);return y.jsxs("div",{className:"w-full space-y-4",children:[y.jsx(UN,{data:t,activeIndex:o,onSelect:x=>{l(x),p("se")}}),m==="se"||m==="wol"||m==="il"?y.jsx(WN,{data:t,list:S,onSelect:()=>{p("wol")}}):null,m==="wol"||m==="il"?y.jsx(a9,{data:t,activeYear:w,onSelect:(x,E)=>{d({year:x,month:E}),p("il")}}):null,m==="il"&&u&&y.jsx(p9,{data:t,year:v.getFullYear(),month:v.getMonth()+1,hourTable:t?.mingSikType})]})}const v9=["갑","을","병","정","무","기","경","신","임","계","甲","乙","丙","丁","戊","己","庚","辛","壬","癸"],y9=["자","축","인","묘","진","사","오","미","신","유","술","해","子","丑","寅","卯","辰","巳","午","未","申","酉","戌","亥"],_9=new Set(v9),x9=new Set(y9);function Ty(t){return typeof t=="string"&&t.length>=2&&_9.has(t[0])&&x9.has(t[1])}function pr(t,...i){if(Ty(t))return t;for(const o of i)if(Ty(o))return o;return"甲子"}const S1={甲:"갑",乙:"을",丙:"병",丁:"정",戊:"무",己:"기",庚:"경",辛:"신",壬:"임",癸:"계"},S9={子:"자",丑:"축",寅:"인",卯:"묘",辰:"진",巳:"사",午:"오",未:"미",申:"신",酉:"유",戌:"술",亥:"해"},w9=["갑","을","병","정","무","기","경","신","임","계"];function Ey(t){return!!t&&w9.includes(t)}function T9(t){return S1[t]??t}function My(t){return S9[t]??t}function E9(t){if(Ey(t))return t;const i=S1[t];return Ey(i)?i:"갑"}function M9(t){return typeof t=="object"&&t!==null&&("Classic"in t||"Modern"in t||"classic"in t||"modern"in t)}function D9(t){const i=Eo;return M9(i)?t==="classic"?i.Classic??i.classic:i.Modern??i.modern:t}function td(t,i){let o=null;const l=i.getTime();for(const u of t)if(u.at.getTime()<=l)o=u;else break;return o}function A9({data:t}){const i=Wr(J=>J.settings),{showSibiUnseong:o,showSibiSinsal:l,sinsalBase:u,sinsalMode:d,sinsalBloom:m}=i,{date:p}=Qr(),b=P.useMemo(()=>Xp(t),[t]),v=P.useMemo(()=>To(b),[b]),w=P.useMemo(()=>Xd(b,"야자시"),[b]),S=P.useMemo(()=>E9(w.day?.charAt(0)??"갑"),[w.day]),x=P.useMemo(()=>s1(v,w.hour,t.dir??"forward",120,"야자시"),[v,w.hour,t.dir]),E=P.useMemo(()=>c1(x,w.day,t.dir??"forward","인시일수론"),[x,w.day,t.dir]),A=P.useMemo(()=>Fd(v,w.month,t.dir??"forward",120,b.birthPlace?.lon??127.5),[v,w.month,t.dir,b.birthPlace?.lon]),O=P.useMemo(()=>d1(A,w.year,t.dir??"forward","인시일수론",v),[A,w.year,t.dir,v]),R=P.useMemo(()=>({si:pr(td(x.events,p)?.gz,w.hour),il:pr(td(E.events,p)?.gz,w.day),wl:pr(td(A.events,p)?.gz,w.month),yn:pr(td(O.events,p)?.gz,w.year)}),[p,x.events,E.events,A.events,O.events,w]),z=P.useMemo(()=>({si:pr(Ci(p,"야자시")),il:pr(qe(p,"야자시")),wl:pr(jn(p)),yn:pr(Pe(p))}),[p]),H=P.useMemo(()=>{const J=x?.events?.[0];return J?{at:J.at,from:pr(w.hour),to:pr(J.gz)}:null},[x?.events,w.hour]),k=P.useMemo(()=>{const J=A?.events?.[0];return A?.firstChange?{at:A.firstChange,from:pr(w.month),to:pr(J?.gz??w.month)}:null},[A?.firstChange,A?.events,w.month]),j=P.useMemo(()=>u==="일지"?w.day.charAt(1):w.year.charAt(1),[u,w.day,w.year]),B=P.useMemo(()=>D9(d),[d]),V=J=>{const W=T9(S),rt=My(J.charAt(1)),et=My(j);return{unseong:o&&ji(W,rt)||"",shinsal:l&&ki({baseBranch:et,targetBranch:rt,era:B,gaehwa:!!m})||""}};return y.jsxs("div",{className:"w-full max-w-[640px] mx-auto mb-4 px-2 py-4 desk:p-4 bg-white dark:bg-neutral-950 text-neutral-900 dark:text-neutral-100 rounded-xl shadow border border-neutral-200 dark:border-neutral-800",children:[y.jsx("header",{className:"flex flex-wrap items-center gap-3 justify-between mb-4",children:y.jsxs("div",{className:"font-semibold text-xs desk:text-sm",children:["묘운 + 실시간 운 뷰어"," ",y.jsxs("span",{className:"text-neutral-500 dark:text-neutral-400",children:["(출생: ",tc(v),")"]})]})}),y.jsxs("div",{className:"grid grid-cols-2 gap-2 desk:gap-4 mb-6",children:[y.jsxs("div",{children:[y.jsx("label",{className:"block text-xs mb-2 text-neutral-600 dark:text-neutral-300",children:"묘운뷰어"}),y.jsx("div",{className:"grid grid-cols-4 gap-1 desk:gap-2",children:[["시주",R.si],["일주",R.il],["월주",R.wl],["연주",R.yn]].map(([J,W])=>{const{unseong:rt,shinsal:et}=V(W);return y.jsx(_o,{label:J,gz:W,dayStem:S,settings:i,unseongText:rt,shinsalText:et,hideBranchSipSin:!0,size:"sm"},`m-${J}`)})})]}),y.jsxs("div",{children:[y.jsx("label",{className:"block text-xs mb-2 text-neutral-600 dark:text-neutral-300",children:"실시간 간지뷰어"}),y.jsx("div",{className:"grid grid-cols-4 gap-1 desk:gap-2",children:[["시주",z.si],["일주",z.il],["월주",z.wl],["연주",z.yn]].map(([J,W])=>{const{unseong:rt,shinsal:et}=V(W);return y.jsx(_o,{label:J,gz:W,dayStem:S,settings:i,unseongText:rt,shinsalText:et,hideBranchSipSin:!0,size:"sm"},`l-${J}`)})})]})]}),y.jsxs("div",{className:"mt-4 text-xs text-neutral-700 dark:text-neutral-300 space-y-1",children:[y.jsx("div",{className:"font-semibold",children:"첫 전환 시각"}),y.jsxs("div",{children:["시주:"," ",H?`${tc(H.at)} (${H.from} → ${H.to})`:"계산 불가"]}),y.jsxs("div",{children:["월주:"," ",k?`${tc(k.at)} (${k.from} → ${k.to})`:"계산 불가"]})]})]})}const w1=["갑","을","병","정","무","기","경","신","임","계"],T1=["甲","乙","丙","丁","戊","己","庚","辛","壬","癸"],E1=["자","축","인","묘","진","사","오","미","신","유","술","해"],M1=["子","丑","寅","卯","辰","巳","午","未","申","酉","戌","亥"],N9=Object.fromEntries(T1.map((t,i)=>[t,w1[i]])),O9=Object.fromEntries(w1.map((t,i)=>[t,T1[i]])),j9=Object.fromEntries(M1.map((t,i)=>[t,E1[i]])),k9=Object.fromEntries(E1.map((t,i)=>[t,M1[i]])),L9=t=>N9[t]??t,C9=t=>j9[t]??t,B9=t=>O9[t]??t,R9=t=>k9[t]??t;function P9(t){const i={...t};for(const o of Object.keys(t)){const l=/[甲乙丙丁戊己庚辛壬癸]/.test(o)?L9(o):B9(o);l&&i[l]===void 0&&(i[l]=t[o])}return i}function Qp(t){const i={...t};for(const o of Object.keys(t)){const l=/[子丑寅卯辰巳午未申酉戌亥]/.test(o)?C9(o):R9(o);l&&i[l]===void 0&&(i[l]=t[o])}return i}const z9={갑:"목",을:"목",병:"화",정:"화",무:"토",기:"토",경:"금",신:"금",임:"수",계:"수"},H9={자:"수",축:"토",인:"목",묘:"목",진:"토",사:"화",오:"화",미:"토",신:"금",유:"금",술:"토",해:"수"},D1={자:[{stem:"계",ratio:1,main:!0}],축:[{stem:"계",ratio:.2},{stem:"신",ratio:.3},{stem:"기",ratio:.5,main:!0}],인:[{stem:"병",ratio:.3},{stem:"갑",ratio:.7,main:!0}],묘:[{stem:"을",ratio:1,main:!0}],진:[{stem:"을",ratio:.2},{stem:"계",ratio:.3},{stem:"무",ratio:.5,main:!0}],사:[{stem:"경",ratio:.3},{stem:"병",ratio:.7,main:!0}],오:[{stem:"정",ratio:1,main:!0}],미:[{stem:"정",ratio:.2},{stem:"을",ratio:.3},{stem:"기",ratio:.5,main:!0}],신:[{stem:"임",ratio:.3},{stem:"경",ratio:.7,main:!0}],유:[{stem:"신",ratio:1,main:!0}],술:[{stem:"신",ratio:.2},{stem:"정",ratio:.3},{stem:"무",ratio:.5,main:!0}],해:[{stem:"갑",ratio:.3},{stem:"임",ratio:.7,main:!0}]},I9={...D1,인:[{stem:"무",ratio:.2},{stem:"병",ratio:.3},{stem:"갑",ratio:.5,main:!0}],오:[{stem:"병",ratio:.2},{stem:"기",ratio:.2},{stem:"정",ratio:1,main:!0}],사:[{stem:"무",ratio:.2},{stem:"경",ratio:.3},{stem:"병",ratio:.7,main:!0}],신:[{stem:"무",ratio:.2},{stem:"임",ratio:.3},{stem:"경",ratio:.7,main:!0}]},Na=P9(z9),zn=Qp(H9),$9=Qp(D1),U9=Qp(I9),G9={甲:"갑",乙:"을",丙:"병",丁:"정",戊:"무",己:"기",庚:"경",辛:"신",壬:"임",癸:"계"},Z9={木:"목",火:"화",土:"토",金:"금",水:"수"};function A1(t,i){const o=G9[i]??i,u={갑:"목",을:"목",병:"화",정:"화",무:"토",기:"토",경:"금",신:"금",임:"수",계:"수"}[o];if(!u)return"비겁";const d=["목","화","토","금","수"].includes(t)?t:Z9[t]??"목";if(d===u)return"비겁";const m={목:"화",화:"토",토:"금",금:"수",수:"목"},p={목:"토",화:"금",토:"수",금:"목",수:"화"};return m[u]===d?"식상":m[d]===u?"인성":p[u]===d?"재성":p[d]===u?"관성":"비겁"}const Y9={목:{비겁:"#13B713",식상:"#DC143C",재성:"#F0B100",관성:"#a0a0a0",인성:"#353535"},화:{비겁:"#DC143C",식상:"#F0B100",재성:"#a0a0a0",관성:"#353535",인성:"#13B713"},토:{비겁:"#F0B100",식상:"#a0a0a0",재성:"#353535",관성:"#13B713",인성:"#DC143C"},금:{비겁:"#a0a0a0",식상:"#353535",재성:"#13B713",관성:"#DC143C",인성:"#F0B100"},수:{비겁:"#353535",식상:"#13B713",재성:"#DC143C",관성:"#F0B100",인성:"#a0a0a0"}},q9={갑:"목",을:"목",병:"화",정:"화",무:"토",기:"토",경:"금",신:"금",임:"수",계:"수"};function cp(t){const i=q9[t]??"목";return Y9[i]}const N1=["갑","을","병","정","무","기","경","신","임","계"],O1=["甲","乙","丙","丁","戊","己","庚","辛","壬","癸"],j1=["자","축","인","묘","진","사","오","미","신","유","술","해"],k1=["子","丑","寅","卯","辰","巳","午","未","申","酉","戌","亥"],V9=Object.fromEntries(N1.map((t,i)=>[t,O1[i]])),K9=Object.fromEntries(O1.map((t,i)=>[t,N1[i]])),F9=Object.fromEntries(j1.map((t,i)=>[t,k1[i]])),X9=Object.fromEntries(k1.map((t,i)=>[t,j1[i]])),W9=t=>K9[t]??t,Q9=t=>X9[t]??t,J9=t=>V9[t]??t,t5=t=>F9[t]??t;function L1(t){const i={...t};for(const o of Object.keys(t)){if(o.length<2)continue;const l=o.charAt(0),u=o.charAt(1),d=/[甲乙丙丁戊己庚辛壬癸]/.test(l)||/[子丑寅卯辰巳午未申酉戌亥]/.test(u)?`${W9(l)}${Q9(u)}`:`${J9(l)}${t5(u)}`;i[d]===void 0&&(i[d]=t[o])}return i}const C1={갑자:1,을축:.2,병인:1,정묘:1,무진:.5,기사:.7,경오:0,신미:.5,임신:1,계유:1,갑술:0,을해:1,병자:0,정축:0,무인:.3,기묘:0,경진:.5,신사:.3,임오:0,계미:0,갑신:.3,을유:0,병술:.8,정해:.3,무자:0,기축:.5,경인:0,신묘:0,임진:.3,계사:.3,갑오:0,을미:.3,병신:0,정유:0,무술:.8,기해:0,경자:0,신축:.8,임인:0,계묘:0,갑진:.5,을사:0,병오:1,정미:.5,무신:0,기유:0,경술:.7,신해:0,임자:1,계축:.5,갑인:.7,을묘:0,병진:.2,정사:.7,무오:1,기미:.7,경신:.7,신유:1,임술:.2,계해:.7},e5={...C1,병인:.8,경오:.3,무인:.5,신사:.5,경인:.2,기해:.2,병오:.8,무신:.2},n5=L1(C1),r5=L1(e5),yo=["연","월","일","시"],ed={year:0,month:1,day:2,hour:3},Om="매우약함",i5={甲:"갑",乙:"을",丙:"병",丁:"정",戊:"무",己:"기",庚:"경",辛:"신",壬:"임",癸:"계"},a5={子:"자",丑:"축",寅:"인",卯:"묘",辰:"진",巳:"사",午:"오",未:"미",申:"신",酉:"유",戌:"술",亥:"해"};function Hn(t){if(!t)return"";const i=t.replace(/[()[\]{}]/g,"").replace(/\s+/g,"").replace(/[년월일시年月日時干支柱:\-_.]/g,""),o=i.match(/([갑을병정무기경신임계]).*?([자축인묘진사오미신유술해])/);if(o)return`${o[1]}${o[2]}`;const l=i.match(/([甲乙丙丁戊己庚辛壬癸]).*?([子丑寅卯辰巳午未申酉戌亥])/);if(l){const u=i5[l[1]]??l[1],d=a5[l[2]]??l[2];return`${u}${d}`}return""}const up=t=>t&&t.length>=1?t[0]:"",ec=t=>t&&t.length>=2?t[1]:"",B1=[{pair:["갑","기"],label:"갑기합"},{pair:["을","경"],label:"을경합"},{pair:["병","신"],label:"병신합"},{pair:["정","임"],label:"정임합"},{pair:["무","계"],label:"무계합"}],R1=[{pair:["갑","경"],label:"갑경충"},{pair:["을","신"],label:"을신충"},{pair:["병","임"],label:"병임충"},{pair:["정","계"],label:"정계충"}],P1=[{pair:["자","축"],label:"자축합"},{pair:["인","해"],label:"인해합"},{pair:["묘","술"],label:"묘술합"},{pair:["진","유"],label:"진유합"},{pair:["사","신"],label:"사신합"},{pair:["오","미"],label:"오미합"}],z1=[{pair:["자","오"],label:"자오충"},{pair:["사","해"],label:"사해충"},{pair:["인","신"],label:"인신충"},{pair:["묘","유"],label:"묘유충"},{pair:["진","술"],label:"진술충"},{pair:["축","미"],label:"축미충"}],H1=[{pair:["축","진"],label:"축진파"},{pair:["술","미"],label:"술미파"},{pair:["자","유"],label:"자유파"},{pair:["묘","오"],label:"묘오파"},{pair:["사","신"],label:"사신파"},{pair:["인","해"],label:"인해파"}],I1=[{pair:["인","사"],label:"인사해"},{pair:["신","해"],label:"신해해"},{pair:["자","미"],label:"자미해"},{pair:["축","오"],label:"축오해"},{pair:["묘","진"],label:"묘진해"},{pair:["유","술"],label:"유술해"}],$1=[{pair:["자","미"],label:"자미원진"},{pair:["인","유"],label:"인유원진"},{pair:["축","오"],label:"축오원진"},{pair:["묘","신"],label:"묘신원진"},{pair:["진","해"],label:"진해원진"},{pair:["사","술"],label:"사술원진"}],U1=[{pair:["인","미"],label:"인미귀문"},{pair:["묘","신"],label:"묘신귀문"},{pair:["진","해"],label:"진해귀문"},{pair:["사","술"],label:"사술귀문"},{pair:["자","유"],label:"자유귀문"},{pair:["축","오"],label:"축오귀문"}],o5=[{name:"인사신",members:["인","사","신"]},{name:"축술미",members:["축","술","미"]}],G1=[{pair:["인","신"],label:"인신상형"},{pair:["인","사"],label:"인사상형"},{pair:["사","신"],label:"사신상형"},{pair:["술","미"],label:"술미상형"},{pair:["축","술"],label:"축술상형"},{pair:["축","미"],label:"축미상형"}],Z1=[{pair:["자","묘"],label:"자묘형"}],s5=new Set(["진","오","유","해"]),dp=new Set(["정해","무자","신사","임오"]),Jp=[{name:"해묘미",members:["해","묘","미"],out:"목",wang:"묘"},{name:"인오술",members:["인","오","술"],out:"화",wang:"오"},{name:"사유축",members:["사","유","축"],out:"금",wang:"유"},{name:"신자진",members:["신","자","진"],out:"수",wang:"자"}],t0=[{name:"인묘진",members:["인","묘","진"],out:"목",wang:"묘"},{name:"사오미",members:["사","오","미"],out:"화",wang:"오"},{name:"신유술",members:["신","유","술"],out:"금",wang:"유"},{name:"해자축",members:["해","자","축"],out:"수",wang:"자"}];function Ar(t,i,o){for(const{pair:[l,u],label:d}of t)if(i===l&&o===u||i===u&&o===l)return d;return null}function we(t,i){t.includes(i)||t.push(i)}const mo=t=>[...t].sort((i,o)=>i-o).map(i=>yo[i]).join("X"),jm=(t,i)=>t===0&&i===3||t===3&&i===0;function Dy(t,i){const o=[];for(const l of t)for(const u of i){if(l===u)continue;const d=Math.min(l,u),m=Math.max(l,u);d===0&&m===3||o.push([d,m])}return o.sort((l,u)=>{const d=Math.abs(l[0]-l[1]),m=Math.abs(u[0]-u[1]);return d!==m?d-m:0})}function l5(t){const i=[],o=[...t].sort((l,u)=>l-u);for(let l=0;l<o.length;l++)for(let u=l+1;u<o.length;u++){const d=o[l],m=o[u];d===0&&m===3||i.push([d,m])}return i}const Y1=t=>{switch(t){case"연":return"연주";case"월":return"월주";case"일":return"일주";case"시":return"시주"}};function c5(t){if(!t)return!1;const i=t.normalize("NFC").trim();return/^#\s*없음$/u.test(i)}const u5=["cheonganHap","cheonganChung","jijiSamhap","jijiBanhap","jijiBanghap","jijiYukhap","jijiChung","jijiHyeong","jijiPa","jijiHae","jijiWonjin","jijiGwimun","amhap","ganjiAmhap"];function q1(t){for(const i of u5){const l=(t[i]??[]).map(u=>u&&u.normalize("NFKC")).filter(u=>!!u&&!c5(u));t[i]=l}return t}function d5(t,i={}){const{emitGanjiAmhap:o=!0}=i,l=t.map(Hn),u=l.map(x=>up(x)),d=l.map(x=>ec(x)),p={title:l.map((x,E)=>`${x}${["년","월","일","시"][E]}`).join(" "),cheonganHap:[],cheonganChung:[],jijiSamhap:[],jijiBanhap:[],jijiBanghap:[],jijiYukhap:[],jijiChung:[],jijiHyeong:[],jijiPa:[],jijiHae:[],jijiWonjin:[],jijiGwimun:[],amhap:[],ganjiAmhap:[]},b=(x,E,A,O)=>{const R=u.flatMap((H,k)=>H===x?[k]:[]),z=u.flatMap((H,k)=>H===E?[k]:[]);for(const H of R)for(const k of z)H!==k&&Math.abs(H-k)===1&&we(O,`#${mo([H,k])}_${A}`)};B1.forEach(({pair:[x,E],label:A})=>b(x,E,A,p.cheonganHap)),R1.forEach(({pair:[x,E],label:A})=>b(x,E,A,p.cheonganChung));const v=x=>{const E=new Set,A=[];for(const O of x)for(let R=0;R<d.length;R++)if(d[R]===O&&!E.has(R)){E.add(R),A.push(R);break}return A};Jp.forEach(({name:x,members:E,wang:A})=>{const O=E.filter(z=>d.includes(z)),R=new Set(O).size;if(R===3){const z=v(E);z.length===3&&we(p.jijiSamhap,`#${mo(z)}_${x}_삼합`)}else if(R===2){if(!O.includes(A))return;const[z,H]=O,k=d.flatMap((J,W)=>J===z?[W]:[]),j=d.flatMap((J,W)=>J===H?[W]:[]),B=Dy(k,j),V=B.length>1;for(const[J,W]of B){const rt=jm(J,W),et=`#${mo([J,W])}_${z}${H}_반합${V?"":rt?`_${Om}`:""}`;we(p.jijiSamhap,et)}}}),t0.forEach(({name:x,members:E})=>{if(new Set(E.filter(R=>d.includes(R))).size!==3)return;const O=v(E);O.length===3&&we(p.jijiBanghap,`#${mo(O)}_${x}_방합`)});const w=(x,E,A,O)=>{const R=d.flatMap((j,B)=>j===x?[B]:[]),z=d.flatMap((j,B)=>j===E?[B]:[]),H=Dy(R,z),k=H.length>1;for(const[j,B]of H){const V=jm(j,B),J=`#${mo([j,B])}_${A}${k?"":V?`_${Om}`:""}`;we(O,J)}};if(P1.forEach(({pair:[x,E],label:A})=>w(x,E,A,p.jijiYukhap)),z1.forEach(({pair:[x,E],label:A})=>w(x,E,A,p.jijiChung)),H1.forEach(({pair:[x,E],label:A})=>w(x,E,A,p.jijiPa)),I1.forEach(({pair:[x,E],label:A})=>w(x,E,A,p.jijiHae)),$1.forEach(({pair:[x,E],label:A})=>w(x,E,A,p.jijiWonjin)),U1.forEach(({pair:[x,E],label:A})=>w(x,E,A,p.jijiGwimun)),[["인","사","신"],["축","술","미"]].forEach(x=>{const E=x.flatMap(O=>d.flatMap((R,z)=>R===O?[z]:[])),A=Array.from(new Set(E)).sort((O,R)=>O-R);A.length===3&&we(p.jijiHyeong,`#${mo(A)}_${x.join("")}_삼형`)}),G1.forEach(({pair:[x,E],label:A})=>w(x,E,A,p.jijiHyeong)),Z1.forEach(({pair:[x,E],label:A})=>w(x,E,A,p.jijiHyeong)),["진","오","유","해"].forEach(x=>{const E=d.flatMap((R,z)=>R===x?[z]:[]),A=l5(E),O=A.length>1;for(const[R,z]of A){const H=jm(R,z),k=`#${mo([R,z])}_${x}${x}자형${O?"":H?`_${Om}`:""}`;we(p.jijiHyeong,k)}}),[{pair:["자","술"],label:"자술암합"},{pair:["축","인"],label:"축인암합"},{pair:["묘","신"],label:"묘신암합"},{pair:["인","미"],label:"인미암합"},{pair:["오","해"],label:"오해암합"}].forEach(({pair:[x,E],label:A})=>w(x,E,A,p.amhap)),o)for(let x=0;x<4;x++){const E=l[x]??"";if(E.length<2)continue;const A=`${E[0]}${E[1]}`;dp.has(A)&&we(p.ganjiAmhap,`#${Y1(yo[x])}_${A}_암합`)}return q1(p)}function nd(t,i={}){const{emitNatalGanjiAmhap:o=!1}=i,l=[Hn(t.natal[0]??""),Hn(t.natal[1]??""),Hn(t.natal[2]??""),Hn(t.natal[3]??"")],d=[Hn(t.daewoon??""),Hn(t.sewoon??""),Hn(t.wolwoon??"")].some(b=>b.length>=2),m={cheonganHap:[],cheonganChung:[],jijiSamhap:[],jijiBanhap:[],jijiBanghap:[],jijiYukhap:[],jijiChung:[],jijiHyeong:[],jijiPa:[],jijiHae:[],jijiWonjin:[],jijiGwimun:[],amhap:[],ganjiAmhap:[]};if(o&&d)for(let b=0;b<4;b++){const v=l[b]??"";if(v.length<2)continue;const w=`${v[0]}${v[1]}`;dp.has(w)&&we(m.ganjiAmhap,`#${Y1(yo[b])}_${w}_암합`)}const p=[["대운",t.daewoon],["세운",t.sewoon],["월운",t.wolwoon]];for(const[b,v]of p){if(!v)continue;const w=Hn(v);if(!w||w.length<2)continue;const S=up(w),x=ec(w);{const A=`${S}${x}`;dp.has(A)&&we(m.ganjiAmhap,`#${b}_${A}_암합`)}for(let A=0;A<4;A++){const O=l[A]??"";if(O.length<2)continue;const R=yo[A],z=up(O),H=ec(O),k=Ar(B1,S,z);k&&we(m.cheonganHap,`#${b}X${R}_${k}`);const j=Ar(R1,S,z);j&&we(m.cheonganChung,`#${b}X${R}_${j}`);const B=Ar(P1,x,H);B&&we(m.jijiYukhap,`#${b}X${R}_${B}`);const V=Ar(z1,x,H);V&&we(m.jijiChung,`#${b}X${R}_${V}`);const J=Ar(H1,x,H);J&&we(m.jijiPa,`#${b}X${R}_${J}`);const W=Ar(I1,x,H);W&&we(m.jijiHae,`#${b}X${R}_${W}`);const rt=Ar($1,x,H);rt&&we(m.jijiWonjin,`#${b}X${R}_${rt}`);const et=Ar(U1,x,H);et&&we(m.jijiGwimun,`#${b}X${R}_${et}`);const K=Ar(G1,x,H);if(K)we(m.jijiHyeong,`#${b}X${R}_${K}`);else{const mt=Ar(Z1,x,H);mt?we(m.jijiHyeong,`#${b}X${R}_${mt}`):x===H&&s5.has(x)&&we(m.jijiHyeong,`#${b}X${R}_${x}${H}자형`)}const Q=Ar([{pair:["자","술"],label:"자술암합"},{pair:["축","인"],label:"축인암합"},{pair:["묘","신"],label:"묘신암합"},{pair:["인","미"],label:"인미암합"},{pair:["오","해"],label:"오해암합"}],x,H);Q&&we(m.amhap,`#${b}X${R}_${Q}`)}const E=l.map(A=>ec(A??""));for(const A of Jp){if(!A.members.includes(x))continue;const O=A.members.filter(z=>z!==x),R=E.map((z,H)=>({b:z,pos:yo[H]})).filter(z=>O.includes(z.b));if(new Set(R.map(z=>z.b)).size===2){const[z,H]=R.map(k=>k.pos).sort((k,j)=>["시","일","월","연"].indexOf(k)-["시","일","월","연"].indexOf(j));we(m.jijiSamhap,`#${b}X${z}X${H}_삼합(${A.name})`)}}for(const A of t0){if(!A.members.includes(x))continue;const O=A.members.filter(z=>z!==x),R=E.map((z,H)=>({b:z,pos:yo[H]})).filter(z=>O.includes(z.b));if(R.length>=2){const[z,H]=R.map(k=>k.pos).sort((k,j)=>["시","일","월","연"].indexOf(k)-["시","일","월","연"].indexOf(j));we(m.jijiBanghap,`#${b}X${z}X${H}_방합(${A.name})`)}}for(const A of o5){if(!A.members.includes(x))continue;const O=A.members.filter(z=>z!==x),R=E.map((z,H)=>({b:z,pos:yo[H]})).filter(z=>O.includes(z.b));if(new Set(R.map(z=>z.b)).size===2){const[z,H]=R.map(k=>k.pos).sort((k,j)=>["시","일","월","연"].indexOf(k)-["시","일","월","연"].indexOf(j));we(m.jijiHyeong,`#${b}X${z}X${H}_삼형(${A.name})`)}}}return q1(m)}function f5(t,i){const l=t.map(Hn).map(b=>ec(b)),u=ed.month,d=l[u],m=b=>{const v=[];for(let w=0;w<4;w++){const S=l[w];S&&b.has(S)&&v.push(w)}return v},p=b=>{const v=[...b].sort((w,S)=>w-S);return v.length===3&&v[0]+1===v[1]&&v[1]+1===v[2]};for(const b of Jp){const v=new Set(b.members),w=m(v);if(w.length===3){const S=w.includes(u),x=d===b.wang;S?p(w)?i[b.out]+=x?10:8:i[b.out]+=5:i[b.out]+=3}if(w.length===2&&w.includes(u)){const S=w[0]===u?w[1]:w[0],x=d===b.wang;S===ed.day&&x?i[b.out]+=8:S===ed.year&&x?i[b.out]+=6:S===ed.hour&&(i[b.out]+=x?4:2)}}for(const b of t0){const v=new Set(b.members),w=m(v);if(w.length===3){const S=w.includes(u),x=d===b.wang;S?p(w)?i[b.out]+=x?8:6:i[b.out]+=4:i[b.out]+=2}}}const h5={갑:"목",을:"목",병:"화",정:"화",무:"토",기:"토",경:"금",신:"금",임:"수",계:"수"},V1={목:"화",화:"토",토:"금",금:"수",수:"목"},K1={화:"목",토:"화",금:"토",수:"금",목:"수"},fp={목:"토",화:"금",토:"수",금:"목",수:"화"},m5={목:"금",화:"수",토:"목",금:"화",수:"토"},p5={甲:"갑",乙:"을",丙:"병",丁:"정",戊:"무",己:"기",庚:"경",辛:"신",壬:"임",癸:"계"},g5={子:"자",丑:"축",寅:"인",卯:"묘",辰:"진",巳:"사",午:"오",未:"미",申:"신",酉:"유",戌:"술",亥:"해"},vd=t=>p5[t]??t,b5=t=>g5[t]??t;function v5(t){return!t||t.length<2?"":`${vd(t[0])}${b5(t[1])}`}const y5=t=>t&&t.length>=1?t[0]:"",_5=t=>t&&t.length>=2?t[1]:"";function x5(t){return{비겁:t,식상:V1[t],인성:K1[t],재성:fp[t],관성:m5[t]}}function bs(t,i){return t===i?"비겁":V1[i]===t?"식상":K1[i]===t?"인성":fp[i]===t?"재성":fp[t]===i?"관성":"비겁"}function F1(t){if(typeof t=="string")return[vd(t)];if(Array.isArray(t)){const i=[];for(const o of t)if(typeof o=="string")i.push(vd(o));else if(o&&typeof o=="object"&&"stem"in o){const l=o.stem;typeof l=="string"&&i.push(vd(l))}return i}if(t&&typeof t=="object"){const i=[];for(const o of Object.values(t))i.push(...F1(o));return i}return[]}function Ay(t){const i=$9,o=U9,l=i&&i[t]!==void 0?i[t]:o?o[t]:void 0,u=F1(l),d=[];for(const m of u){const p=h5[m];p&&!d.includes(p)&&d.push(p)}return d}function S5(t,i,o="classic"){const l=(t??[]).slice(0,4).map(v5);if(l.length!==4||l.some(S=>S.length<2))return{flags:{비겁:{령:!1,지:!1,세:!1},식상:{령:!1,지:!1,세:!1},재성:{령:!1,지:!1,세:!1},관성:{령:!1,지:!1,세:!1},인성:{령:!1,지:!1,세:!1}},monthBranch:"",dayEl:"토"};const u=y5(l[2]),d=u==="갑"||u==="을"?"목":u==="병"||u==="정"?"화":u==="무"||u==="기"?"토":u==="경"||u==="신"?"금":"수",m=l.map(S=>_5(S)),p={비겁:{령:!1,지:!1,세:!1},식상:{령:!1,지:!1,세:!1},재성:{령:!1,지:!1,세:!1},관성:{령:!1,지:!1,세:!1},인성:{령:!1,지:!1,세:!1}},b=x5(d),v=m[1];if(o==="classic"){const S=zn[v];S&&(p[bs(S,d)].령=!0)}else{const S=Ay(v);if(S.length===0){const x=zn[v];x&&(p[bs(x,d)].령=!0)}else for(const x of S)p[bs(x,d)].령=!0}const w=[0,2,3];for(const S of w){const x=m[S];if(o==="classic"){const E=zn[x];E&&(p[bs(E,d)].지=!0)}else{const E=Ay(x);if(E.length===0){const A=zn[x];A&&(p[bs(A,d)].지=!0)}else for(const A of E)p[bs(A,d)].지=!0}}return Object.entries(b).forEach(([S,x])=>{p[S].세=(i[x]??0)>25}),{flags:p,monthBranch:v,dayEl:d}}const w5={甲:"갑",乙:"을",丙:"병",丁:"정",戊:"무",己:"기",庚:"경",辛:"신",壬:"임",癸:"계"},T5={子:"자",丑:"축",寅:"인",卯:"묘",辰:"진",巳:"사",午:"오",未:"미",申:"신",酉:"유",戌:"술",亥:"해"},E5=t=>w5[t]??t,M5=t=>T5[t]??t;function D5(t){return!t||t.length<2?"":`${E5(t[0])}${M5(t[1])}`}const km=["year","month","day","hour"],A5={year:{stem:10,branch:10},month:{stem:15,branch:30},day:{stem:25,branch:25},hour:{stem:15,branch:15}},N5={year:{stem:10,branch:10},month:{stem:15,branch:45},day:{stem:25,branch:40},hour:{stem:15,branch:12.5}},O5=new Set(["을","정","기","신","계"]),j5=new Set(["자","인","진","오","신","술"]),k5=new Set(["사","오","자","해"]),rd=t=>O5.has(t)?"음":"양",Lm=t=>{const i=j5.has(t)?"양":"음";return k5.has(t)?i==="양"?"음":"양":i};function L5(t){const i=t.reduce((p,b)=>p+b,0);if(i<=0)return t.map(()=>0);const o=t.map(p=>p*100/i),l=o.map(Math.round),d=100-l.reduce((p,b)=>p+b,0),m=o.map((p,b)=>({i:b,f:p-l[b]})).sort((p,b)=>b.f-p.f);for(let p=0;p<d;p++)l[m[p].i]+=1;return l}function C5(t,i){return t===0?i?1:.8:t===1?i?.6:.5:i?.3:.2}const id={왕:.15,상:.1,휴:-.15,수:-.2,사:-.25},Bd={목:"화",화:"토",토:"금",금:"수",수:"목"},B5={화:"목",토:"화",금:"토",수:"금",목:"수"},nc={목:"토",화:"금",토:"수",금:"목",수:"화"},R5={토:"목",금:"화",수:"토",목:"금",화:"수"};function ad(t,i){return t===i?"왕":Bd[i]===t?"상":Bd[t]===i?"휴":nc[t]===i?"수":nc[i]===t?"사":"휴"}const Aa=t=>t&&t.length>=1?t[0]:"",po=t=>t&&t.length>=2?t[1]:"";function Ny(t){const{pillars:i,dayStem:o,mode:l,debug:u,useHarmonyOverlay:d,criteriaMode:m,luck:p}=t,b=m==="modern"?A5:N5,v={목:0,화:0,토:0,금:0,수:0},w=(i??[]).slice(0,4).map(D5);if(w.length!==4||w.some(I=>I.length<2))return{totals:["비겁","식상","재성","관성","인성"].map(D=>({name:D,value:0,color:"#999"})),perTenGod:{비겁:{a:"비견",b:"겁재",aVal:0,bVal:0},식상:{a:"식신",b:"상관",aVal:0,bVal:0},재성:{a:"정재",b:"편재",aVal:0,bVal:0},관성:{a:"정관",b:"편관",aVal:0,bVal:0},인성:{a:"정인",b:"편인",aVal:0,bVal:0}},elementScoreRaw:v,deukFlags:{비겁:{령:!1,지:!1,세:!1},식상:{령:!1,지:!1,세:!1},재성:{령:!1,지:!1,세:!1},관성:{령:!1,지:!1,세:!1},인성:{령:!1,지:!1,세:!1}},perStemElement:{},perStemElementScaled:{}};const S=Aa(w[2]),x=o??S,E=x==="갑"||x==="을"?"목":x==="병"||x==="정"?"화":x==="무"||x==="기"?"토":x==="경"||x==="신"?"금":"수",A=l==="classic"?r5:n5,O=[{val:0},{val:0},{val:0},{val:0}],R=[[],[],[],[]];for(let I=0;I<4;I++){const D=w[I],G=km[I],F=Aa(D),q=po(D),tt=b[G],lt=Na[F];lt&&(v[lt]+=tt.stem,O[I]={stem:F,el:lt,pol:rd(F),val:tt.stem});const ht=zn[q];ht&&(v[ht]+=tt.branch,R[I].push({el:ht,pol:Lm(q),val:tt.branch}))}for(let I=0;I<4;I++){const D=w[I],G=km[I],F=A[D]??0;if(F===0)continue;const q=Aa(D),tt=Na[q];if(!tt)continue;const lt=b[G].stem*F;v[tt]+=lt,O[I].val+=lt}for(let I=0;I<4;I++){const D=w[I],G=po(D),F=zn[G];if(!F)continue;const q=b[km[I]].branch,tt=Lm(G);let lt=0;const ht=[I];I-1>=0&&ht.push(I-1),I+1<=3&&ht.push(I+1),I-2>=0&&ht.push(I-2),I+2<=3&&ht.push(I+2);const wt=Array.from(new Set(ht));for(const bt of wt){const Tt=Aa(w[bt]),$t=Na[Tt];if(!$t||$t!==F)continue;const Wt=rd(Tt)===tt,Pt=Math.abs(bt-I),Bt=C5(Pt,Wt);lt+=q*Bt}lt!==0&&(v[F]+=lt,R[I].push({el:F,pol:tt,val:lt}))}for(let I=0;I<4;I++){const D=Aa(w[I]),G=Na[D];if(!G)continue;let F=0;const q=po(w[I]),tt=zn[q];tt&&(F+=id[ad(G,tt)]);const lt=I===0?[1]:I===3?[2]:[I-1,I+1];for(const wt of lt){const bt=Aa(w[wt]),Tt=Na[bt];Tt&&(F+=id[ad(G,Tt)])}const ht=O[I].val;if(ht!==0&&F!==0){const wt=Math.round(ht*(1+F)*10)/10,bt=wt-ht;v[G]+=bt,O[I].val=wt}}for(let I=0;I<4;I++){const D=po(w[I]),G=zn[D];if(!G)continue;let F=0;const q=Aa(w[I]),tt=Na[q];tt&&(F+=id[ad(G,tt)]);const lt=I===0?[1]:I===3?[2]:[I-1,I+1];for(const wt of lt){const bt=po(w[wt]),Tt=zn[bt];Tt&&(F+=id[ad(G,Tt)])}const ht=R[I].reduce((wt,bt)=>wt+bt.val,0);if(ht!==0&&F!==0){const bt=Math.round(ht*(1+F)*10)/10-ht;v[G]+=bt,R[I].length>0&&(R[I][0].val+=bt)}}d&&f5(w,v);const z={dae:{stem:.04,branch:.04},se:{stem:.03,branch:.03},wol:{stem:.02,branch:.02}},H=[];function k(I,D){const G=I?Hn(I):"";if(!G||G.length<2)return;const F=Aa(G),q=po(G),tt=Na[F],lt=zn[q],ht=Math.max(1,(v.목??0)+(v.화??0)+(v.토??0)+(v.금??0)+(v.수??0)),wt=z[D];if(tt){const bt=Math.round(ht*wt.stem);v[tt]+=bt,H.push({stem:F,el:tt,pol:rd(F),val:bt})}if(lt){const bt=Math.round(ht*wt.branch);v[lt]+=bt,H.push({el:lt,pol:Lm(q),val:bt})}}p&&p.tab!=="원국"&&(k(p.dae,"dae"),(p.tab==="세운"||p.tab==="월운")&&k(p.se,"se"),p.tab==="월운"&&k(p.wol,"wol"));const j={비겁:0,식상:0,재성:0,관성:0,인성:0};Object.entries(v).forEach(([I,D])=>{j[A1(I,x)]+=D});const B={비견:0,겁재:0,식신:0,상관:0,정재:0,편재:0,정관:0,편관:0,정인:0,편인:0};function V(I,D){const G={화:"목",토:"화",금:"토",수:"금",목:"수"},F=I===E?"비겁":Bd[E]===I?"식상":G[E]===I?"인성":nc[E]===I?"재성":nc[I]===E?"관성":"비겁",q=rd(x),tt=(()=>{switch(F){case"비겁":return D===q?"비견":"겁재";case"식상":return D===q?"식신":"상관";case"재성":return D!==q?"정재":"편재";case"관성":return D!==q?"정관":"편관";case"인성":return D!==q?"정인":"편인";default:return D===q?"비견":"겁재"}})();return{major:F,sub:tt}}const J=(I,D,G)=>{const{sub:F}=V(I,D);B[F]=(B[F]??0)+G};O.forEach(I=>{I.el&&I.pol&&I.val&&J(I.el,I.pol,I.val)}),R.forEach(I=>I.forEach(D=>J(D.el,D.pol,D.val))),H.forEach(I=>J(I.el,I.pol,I.val));const W=["비겁","식상","재성","관성","인성"],rt=L5(W.map(I=>j[I])),et=cp(x),K=W.map((I,D)=>({name:I,value:Math.round(rt[D]),color:et[I]})),U={};O.forEach(I=>{if(I.stem&&I.el&&I.val){const D=`${I.stem}${I.el}`;U[D]=(U[D]??0)+I.val}}),H.forEach(I=>{if(I.stem&&I.el&&I.val){const D=`${I.stem}${I.el}`;U[D]=(U[D]??0)+I.val}});const Q={자:"계",축:"기",인:"갑",묘:"을",진:"무",사:"병",오:"정",미:"기",신:"경",유:"신",술:"무",해:"임"};R.forEach((I,D)=>{const G=po(w[D]),F=Q[G],q=zn[G];if(F&&q){const tt=`${F}${q}`,lt=I.reduce((ht,wt)=>ht+wt.val,0);U[tt]=(U[tt]??0)+lt}}),H.forEach(I=>{if(!I.stem&&I.el&&I.val){const D=Object.keys(zn).find(G=>zn[G]===I.el);if(D){const G=Q[D];if(G){const F=`${G}${I.el}`;U[F]=(U[F]??0)+I.val}}}});function mt(I,D){switch(I){case"비겁":return D;case"식상":return Bd[D];case"재성":return nc[D];case"관성":return R5[D];case"인성":return B5[D]}return D}const vt=["갑목","을목","병화","정화","무토","기토","경금","신금","임수","계수"],$={};vt.forEach(I=>{$[I]=0}),W.forEach(I=>{const D=K.find(tt=>tt.name===I)?.value??0,G=mt(I,E),F=Object.entries(U).filter(([tt])=>tt.endsWith(G)),q=F.reduce((tt,[,lt])=>tt+lt,0);q>0?F.forEach(([tt,lt])=>{$[tt]=Math.round(D*(lt/q)*10)/10}):F.forEach(([tt])=>{$[tt]=0})});const it={비겁:{a:"비견",b:"겁재",aVal:B.비견||0,bVal:B.겁재||0},식상:{a:"식신",b:"상관",aVal:B.식신||0,bVal:B.상관||0},재성:{a:"정재",b:"편재",aVal:B.정재||0,bVal:B.편재||0},관성:{a:"정관",b:"편관",aVal:B.정관||0,bVal:B.편관||0},인성:{a:"정인",b:"편인",aVal:B.정인||0,bVal:B.편인||0}};for(const I of W){const D=K.find(q=>q.name===I).value,G=it[I],F=(G.aVal||0)+(G.bVal||0);if(F>0){const q=Math.round(D*G.aVal/F),tt=D-q;G.aVal=q,G.bVal=tt}else G.aVal=Math.round(D/2),G.bVal=D-G.aVal}const{flags:ot}=S5(w,v);return u&&console.log("[PowerData]",{criteriaMode:m,hiddenMode:l,elementScore:v,totals:K,perTenGod:it,perStemRaw:U,perStemElementScaled:$,deukFlags:ot,luck:p}),{totals:K,perTenGod:it,elementScoreRaw:v,deukFlags:ot,perStemElement:U,perStemElementScaled:$}}const P5={갑:"목",을:"목",병:"화",정:"화",무:"토",기:"토",경:"금",신:"금",임:"수",계:"수"},z5={목:"화",화:"토",토:"금",금:"수",수:"목"},H5={화:"목",토:"화",금:"토",수:"금",목:"수"},I5={목:"토",화:"금",토:"수",금:"목",수:"화"},$5={토:"목",금:"화",수:"토",목:"금",화:"수"};function U5(t){return t==="목"||t==="화"||t==="토"||t==="금"||t==="수"}function G5(t){const i=t.slice(-1);return U5(i)?i:null}function Z5(t,i){switch(t){case"비겁":return i;case"식상":return z5[i];case"재성":return I5[i];case"관성":return $5[i];case"인성":return H5[i];default:return i}}function Y5({data:t,perStemElement:i,dayStem:o,width:l=280,height:u=280,revKey:d,pillars:m,daewoonGz:p,sewoonGz:b,wolwoonGz:v,yearGZ:w,monthGZ:S}){const x=l,E=u,A=x/2,O=E/2,R=Math.min(x,E)*.37,z=P.useMemo(()=>{const W=t.map(Q=>`${Q.name}:${Q.value}`).join(","),rt=i?Object.entries(i).sort(([Q],[mt])=>Q.localeCompare(mt)).map(([Q,mt])=>`${Q}:${mt}`).join(","):"none",et=Array.isArray(m)?m.join(""):"",K=[p??"",b??"",v??""].join("|"),U=[w??"",S??""].join("|");return[d??"",W,rt,o??"",et,K,U].join("||")},[d,t,i,o,m,p,b,v,w,S]),[H,k]=P.useState(0),j=P.useRef("");P.useEffect(()=>{z!==j.current&&(j.current=z,k(W=>W+1))},[z]);const B=W=>Math.PI/2+2*-Math.PI*W/5,V=P.useMemo(()=>t.map((W,rt)=>({...W,x:A+R*Math.cos(B(rt)),y:O-R*Math.sin(B(rt))})),[t,A,O,R]),J=P.useMemo(()=>{const W=(o??"").charAt(0);return P5[W]??null},[o]);return y.jsx("div",{className:"w-full",children:y.jsxs("svg",{width:x,height:E,className:"mx-auto pt-2",children:[V.map((W,rt)=>{const et=V[(rt+2)%5];return y.jsx("line",{x1:W.x,y1:W.y,x2:et.x,y2:et.y,stroke:"#94a3b8",strokeWidth:1},`line-${rt}`)}),V.map((W,rt)=>{const et=V[(rt+1)%5],K=(W.x+et.x)/2,U=(W.y+et.y)/2,Q=K-A,mt=U-O,vt=1.5,$=A+Q*vt,it=O+mt*vt;return y.jsx("path",{d:`M${W.x},${W.y} Q${$},${it} ${et.x},${et.y}`,stroke:"#ef4444",strokeWidth:1.5,fill:"none",markerEnd:"url(#arrow)"},`curve-${rt}`)}),y.jsx("defs",{children:y.jsx("marker",{id:"arrow",markerWidth:"6",markerHeight:"6",refX:"5",refY:"3",orient:"auto",children:y.jsx("path",{d:"M0,0 L6,3 L0,6 Z",fill:"#ef4444"})})}),V.map(W=>{const rt=W.name,et=(()=>{if(!i||!J)return[];const K=Z5(rt,J);return Object.entries(i).filter(([U])=>G5(U)===K).sort(([,U],[,Q])=>Q-U).slice(0,3)})();return y.jsxs("g",{transform:`translate(${W.x},${W.y})`,children:[y.jsx("circle",{r:33,fill:W.color,opacity:W.value===0?.7:1}),y.jsxs("text",{textAnchor:"middle",dy:"-6",fontSize:"14",className:"fill-white font-semibold",children:[W.name," ",Math.round(W.value)]}),et.map(([K,U],Q)=>y.jsxs("text",{textAnchor:"middle",dy:8+Q*11,fontSize:"10",className:"fill-white",children:[K," ",Math.round(U*10)/10]},K))]},`${W.name}-${W.value}`)})]},H)})}const q5=[{name:"극약",min:0,max:10},{name:"태약",min:10,max:20},{name:"신약",min:20,max:35},{name:"중화신약",min:35,max:45},{name:"중화",min:45,max:55},{name:"중화신강",min:55,max:65},{name:"태강",min:65,max:80},{name:"극태강",min:80,max:100.0001}],V5=[10,20,35,45,55,65,80];function X1(t){return Math.max(0,Math.min(100,t))}function K5(t){const i=X1(t);return q5.find(l=>i>=l.min&&i<l.max)?.name??"중화"}function F5({value:t}){const i=P.useMemo(()=>X1(t),[t]),o=P.useMemo(()=>K5(i),[i]);return P.useEffect(()=>{},[i,o]),y.jsxs("div",{className:"w-full mx-auto p-4 bg-neutral-100 dark:bg-neutral-800 rounded-xl",children:[y.jsxs("div",{className:"flex justify-between text-[11px] text-neutral-400 mb-1",children:[y.jsx("span",{children:"신약"}),y.jsx("span",{children:"중화"}),y.jsx("span",{children:"신강"})]}),y.jsxs("div",{className:"relative h-4 rounded bg-gradient-to-r from-blue-500 via-yellow-400 to-red-500",children:[V5.map(l=>y.jsx("div",{className:"absolute top-0 h-4 w-[1px] bg-black/30",style:{left:`${l}%`},title:`${l}%`},l)),y.jsx("div",{className:"absolute top-0 h-4 w-[1px] bg-black/40",style:{left:"50%"},title:"50%"}),y.jsx("div",{className:"absolute -top-1 h-6 w-2 bg-white rounded shadow-sm",style:{left:`${i}%`,transform:"translateX(-50%)"},"aria-label":`현재 강약 ${i}%`})]}),y.jsxs("div",{className:"mt-2 flex items-center gap-2",children:[y.jsx("span",{className:"inline-flex items-center px-2 py-0.5 rounded-full text-xs border border-neutral-600 text-neutral-700 dark:text-neutral-200",children:o}),y.jsxs("span",{className:"text-xs text-neutral-400",children:[i.toFixed(1),"%"]})]})]})}function od(t,i){if(t==="#없음")return"bg-neutral-100 text-neutral-500 border-neutral-200 dark:bg-neutral-900 dark:text-neutral-500 dark:border-neutral-700";switch(i){case"natal":return"bg-violet-100 text-violet-800 border-violet-200 dark:bg-violet-900/30 dark:text-violet-200 dark:border-violet-800";case"dae":return"bg-blue-100 text-blue-800 border-blue-200 dark:bg-blue-900/30 dark:text-blue-200 dark:border-blue-800";case"se":return"bg-green-100 text-green-800 border-green-200 dark:bg-green-900/30 dark:text-green-200 dark:border-green-800";case"wol":return"bg-orange-100 text-orange-800 border-orange-200 dark:bg-orange-900/30 dark:text-orange-200 dark:border-orange-800";default:return""}}function Nr({label:t,natal:i,dae:o,se:l,wol:u}){const d=o.length+l.length+u.length>0,m=i.length>0?i:["#없음"],p=d?m.filter(b=>b!=="#없음"):m;return y.jsxs("div",{className:"flex items-start gap-3",children:[y.jsx("div",{className:"shrink-0 w-20 text-xs font-semibold text-neutral-700 dark:text-neutral-300 mt-1",children:t}),y.jsxs("div",{className:"flex flex-wrap gap-2",children:[p.map((b,v)=>y.jsx("span",{className:"text-xs px-2 py-1 rounded-full border whitespace-nowrap "+od(b,"natal"),children:b},`natal-${v}`)),o.map((b,v)=>y.jsx("span",{className:"text-xs px-2 py-1 rounded-full border whitespace-nowrap "+od(b,"dae"),children:b},`dae-${v}`)),l.map((b,v)=>y.jsx("span",{className:"text-xs px-2 py-1 rounded-full border whitespace-nowrap "+od(b,"se"),children:b},`se-${v}`)),u.map((b,v)=>y.jsx("span",{className:"text-xs px-2 py-1 rounded-full border whitespace-nowrap "+od(b,"wol"),children:b},`wol-${v}`))]})]})}function hp(t){return Array.isArray(t)?t:[]}function Cm(t,i){const o=new Set(hp(t));return hp(i).filter(u=>!o.has(u))}function X5({pillars:t,daewoon:i,sewoon:o,wolwoon:l,tab:u="전체"}){const d=d5(t),m=nd({natal:t}),p=i?nd({natal:t,daewoon:i}):m,b=o?nd({natal:t,daewoon:i,sewoon:o}):p,v=l?nd({natal:t,daewoon:i,sewoon:o,wolwoon:l}):b,w=E=>({natal:hp(d[E]),dae:Cm(m[E],p[E]),se:Cm(p[E],b[E]),wol:Cm(b[E],v[E])}),S={cheonganHap:w("cheonganHap"),cheonganChung:w("cheonganChung"),jijiSamhap:w("jijiSamhap"),jijiBanghap:w("jijiBanghap"),jijiYukhap:w("jijiYukhap"),amhap:w("amhap"),ganjiAmhap:w("ganjiAmhap"),jijiChung:w("jijiChung"),jijiHyeong:w("jijiHyeong"),jijiPa:w("jijiPa"),jijiHae:w("jijiHae")},x=E=>u==="전체"?E:{natal:u==="원국"?E.natal:[],dae:u==="대운"?E.dae:[],se:u==="세운"?E.se:[],wol:u==="월운"?E.wol:[]};return y.jsxs("div",{className:"rounded-xl p-4 bg-neutral-100 dark:bg-neutral-900 text-neutral-900 dark:text-neutral-100 space-y-3",children:[y.jsx("div",{className:"text-base font-bold mb-1",children:"형충회합"}),y.jsx(Nr,{label:"천간합",...x(S.cheonganHap)}),y.jsx(Nr,{label:"천간충",...x(S.cheonganChung)}),y.jsx("div",{className:"border-t border-neutral-200 dark:border-neutral-800 my-2"}),y.jsx(Nr,{label:"지지삼합",...x(S.jijiSamhap)}),y.jsx(Nr,{label:"지지방합",...x(S.jijiBanghap)}),y.jsx(Nr,{label:"지지육합",...x(S.jijiYukhap)}),y.jsx(Nr,{label:"암합",...x(S.amhap)}),y.jsx(Nr,{label:"간지암합",...x(S.ganjiAmhap)}),y.jsx(Nr,{label:"지지충",...x(S.jijiChung)}),y.jsx(Nr,{label:"지지형",...x(S.jijiHyeong)}),y.jsx(Nr,{label:"지지파",...x(S.jijiPa)}),y.jsx(Nr,{label:"지지해",...x(S.jijiHae)})]})}const W1={갑:"목",을:"목",병:"화",정:"화",무:"토",기:"토",경:"금",신:"금",임:"수",계:"수"},W5={자:"수",축:"토",인:"목",묘:"목",진:"토",사:"화",오:"화",미:"토",신:"금",유:"금",술:"토",해:"수"},bc={목:"화",화:"토",토:"금",금:"수",수:"목"},dc={화:"목",토:"화",금:"토",수:"금",목:"수"},ks={목:"토",화:"금",토:"수",금:"목",수:"화"},Q5=[{name:"극약",min:0,max:10},{name:"태약",min:10,max:20},{name:"신약",min:20,max:35},{name:"중화신약",min:35,max:45},{name:"중화",min:45,max:55},{name:"중화신강",min:55,max:65},{name:"태강",min:65,max:80},{name:"극태강",min:80,max:100.0001}],J5={해:{temp:"cold",wet:"wet"},자:{temp:"cold",wet:"wet"},축:{temp:"cold",wet:"wet"},인:{temp:"mild",wet:"normal"},묘:{temp:"mild",wet:"normal"},진:{temp:"mild",wet:"wet"},사:{temp:"hot",wet:"normal"},오:{temp:"hot",wet:"dry"},미:{temp:"hot",wet:"wet"},신:{temp:"mild",wet:"dry"},유:{temp:"mild",wet:"dry"},술:{temp:"mild",wet:"dry"}};function e0(t){return Math.max(0,Math.min(100,t))}function Ms(t,i,o){return Math.max(i,Math.min(o,t))}function t4(t){const i=e0(t);return Q5.find(o=>i>=o.min&&i<o.max)?.name??"중화"}function e4(t){const i=t?.[2]?.charAt(0)??"";return W1[i]??null}function n4(t){return(t?.[1]?.charAt(1)??"")||null}function ef(t){const i=Object.entries(ks);for(const[o,l]of i)if(l===t)return o;return"토"}function r4(t){return t?{peer:t,resource:dc[t],leak:bc[t],wealth:ks[t],officer:ef(t)}:null}function i4(t){const i={목:0,화:0,토:0,금:0,수:0};for(const o of t){if(!o)continue;const l=o.charAt(0),u=o.charAt(1),d=W1[l],m=W5[u];d&&(i[d]+=10),m&&(i[m]+=6)}return i}function a4(t){const i=Object.values(t).reduce((l,u)=>l+u,0);if(i<=0)return{목:20,화:20,토:20,금:20,수:20};const o={목:0,화:0,토:0,금:0,수:0};return Object.keys(t).forEach(l=>{o[l]=t[l]/i*100}),o}function o4(t){if(!t||t.length===0)return null;const i=t.reduce((l,u)=>l+(u?.value??0),0)||0;if(i<=0)return null;const o=l=>t.find(u=>u.name===l)?.value??0;return e0((o("비겁")+o("인성"))/i*100)}function s4(t,i){return!t||!i?null:i===t?"비겁":bc[t]===i?"식상":ks[t]===i?"재성":ef(t)===i?"관성":dc[t]===i?"인성":null}const Bm=24,l4=[[60,0],[55,.01],[50,.03],[45,.06],[40,.1],[35,.18],[30,.32],[27,.48],[24,.62]];function c4(t){for(const[i,o]of l4)if(t>=i)return o;return 1}const Rd=20,Oy=(t,i)=>Ms((Rd-(i[t]??0))/Rd,0,1),jy=(t,i)=>Ms(((i[t]??0)-Rd)/Rd,0,1);function u4(t,i,o,l){const u=s4(t,o);if(!t||!u)return 0;const d=Ms((50-i)/50,0,1),m=Ms((i-50)/50,0,1),p=Oy(o,l),b=jy(o,l),v=Oy(t,l),w=jy(t,l),S=6.5;let x=0;if(d>0)switch(u){case"인성":x=+(.3+.4*v+.15*p)*d;break;case"비겁":x=+(.18+.45*v)*d;break;case"관성":x=-(.08+.2*(1-p)+.1*w)*d;break;case"재성":x=-(.22+.25*(1-p)+.1*(1-v))*d;break;case"식상":x=-(.35+.25*(1-p)+.1*(1-v))*d;break}else if(m>0)switch(u){case"인성":x=-(.25+.25*(1-p)+.2*w)*m;break;case"비겁":x=-(.28+.2*w)*m;break;case"관성":x=+(.18+.2*p+.15*w)*m;break;case"재성":x=+(.22+.25*p+.1*w)*m;break;case"식상":x=+(.2+.2*p)*m;break}else switch(u){case"인성":x=.08*(v+p);break;case"비겁":x=.05*v-.03*w;break;case"관성":x=.02*p-.02*b;break;case"재성":x=.01*p-.06*b;break;case"식상":x=-.05*(1-p);break}return Math.round(S*x*10)/10}function d4(t,i,o,l){const u=["중화신강","태강","극태강"].includes(i),d=["극약","태약","신약","중화신약"].includes(i),m={목:0,화:0,토:0,금:0,수:0};if(u){const p=bc[t],b=ks[t],v=ef(t);m[p]+=28,m[b]+=22,m[v]+=20,l.get(p)?.push("억부: 일간 강 → 설기(식상)"),l.get(b)?.push("억부: 일간 강 → 재성 누설"),l.get(v)?.push("억부: 일간 강 → 관성 절제")}if(d){const p=dc[t],b=t;m[p]+=28,m[b]+=22,l.get(p)?.push("억부: 일간 약 → 인성 보강"),l.get(b)?.push("억부: 일간 약 → 비겁 보강")}return m}function ky(t,i){if(!t)return{목:0,화:0,토:0,금:0,수:0};const o=J5[t]??{temp:"mild",wet:"normal"},l={목:0,화:0,토:0,금:0,수:0};return o.temp==="cold"?(l.화+=16,l.토+=6,i.get("화")?.push("조후: 한랭 → 화"),i.get("토")?.push("조후: 한랭습 보조")):o.temp==="hot"&&(l.수+=14,l.금+=6,i.get("수")?.push("조후: 염열 → 수"),i.get("금")?.push("조후: 제열 보조")),o.wet==="wet"?(l.토+=8,l.화+=4,i.get("토")?.push("조후: 습 → 토"),i.get("화")?.push("조후: 습냉 가온")):o.wet==="dry"&&(l.수+=8,l.목+=4,i.get("수")?.push("조후: 건조 → 수"),i.get("목")?.push("조후: 생발 보조")),l}function Ly(t,i){const o={목:0,화:0,토:0,금:0,수:0},l=["목","화","토","금","수"];for(const u of l){const d=ks[u],m=Math.max(0,(t[u]??0)-(t[d]??0));if(m<=0)continue;const p=bc[u],b=Math.round(m*.35);b>0&&(o[p]+=b,i.get(p)?.push(`통관: ${u}극${d} 완화`))}return o}function Cy(t,i){const o={목:0,화:0,토:0,금:0,수:0},l=Object.entries(t),u=Math.min(...l.map(([,m])=>m)),d=l.filter(([,m])=>m<=Math.max(6,u));for(const[m]of d)o[m]+=12,i.get(m)?.push("병약: 결핍 보충");return o}function By(t,i){const o=e4(t),l=n4(t),u=i4(t),d=a4(u);let m=o4(i);if(m==null)if(!o)m=50;else{const K=o,U=dc[o],Q=Object.values(u).reduce((mt,vt)=>mt+vt,0)||1;m=e0(((u[K]??0)+(u[U]??0))/Q*100)}const p=t4(m),b={목:0,화:0,토:0,금:0,수:0},v=new Map(["목","화","토","금","수"].map(K=>[K,[]]));if(o){const K=d4(o,p,u,v);Object.keys(b).forEach(U=>{b[U]+=K[U]??0})}const w=ky(l,v);Object.keys(b).forEach(K=>{b[K]+=w[K]??0});const S=Ly(u,v);Object.keys(b).forEach(K=>{b[K]+=S[K]??0});const x=Cy(u,v);Object.keys(b).forEach(K=>{b[K]+=x[K]??0});const E=r4(o),A={비겁:0,식상:0,재성:0,관성:0,인성:0};if(Array.isArray(i))for(const K of i)A[K.name]=K.value;if(m>=45&&m<=55&&E){const K=A.관성>=30||A.관성>=Math.max(A.비겁,A.식상,A.재성,A.인성)+5;m<=50?(b[E.resource]+=14,v.get(E.resource)?.push("밸런스: 중화-약측"),b[E.peer]+=10,v.get(E.peer)?.push("밸런스: 중화-약측"),b[E.leak]+=6,v.get(E.leak)?.push("밸런스: 중화-약측"),b[E.wealth]+=3,v.get(E.wealth)?.push("밸런스: 중화-약측"),K&&E.officer&&(b[E.officer]=Math.round(b[E.officer]*.8*10)/10,v.get(E.officer)?.push("밸런스: 관성 과다 억제"))):(b[E.leak]+=14,v.get(E.leak)?.push("밸런스: 중화-강측"),b[E.wealth]+=10,v.get(E.wealth)?.push("밸런스: 중화-강측"),E.officer&&(b[E.officer]+=6,v.get(E.officer)?.push("밸런스: 중화-강측")),b[E.resource]+=3,v.get(E.resource)?.push("밸런스: 중화-강측"))}["목","화","토","금","수"].forEach(K=>{const U=u4(o,m,K,d);b[K]=Ms(Math.round((b[K]+U)*10)/10,0,999)});const R=m<50;["목","화","토","금","수"].forEach(K=>{const U=d[K]??0,Q=R&&o===K;if(U>=Bm&&!Q){const mt=c4(U);b[K]=Math.round(b[K]*mt*10)/10;const vt=Math.min(14,Math.max(0,Math.ceil((U-Bm)*.5)));vt>0&&(b[K]=Ms(b[K]-vt,0,999)),v.get(K)?.push("강과 패널티(강화)")}});const z={목:[],화:[],토:[],금:[],수:[]};if(o){const K=bc[o],U=ks[o],Q=ef(o),mt=o,vt=dc[o];z[K].push("식상"),z[U].push("재성"),z[Q].push("관성"),z[mt].push("비겁"),z[vt].push("인성")}const H={목:(u.목??0)>0,화:(u.화??0)>0,토:(u.토??0)>0,금:(u.금??0)>0,수:(u.수??0)>0},k=K=>{const U=d[K]??0;return U>=Bm&&!(R&&o===K)?U>=55?4:U>=45?3:2:H[K]?0:1},j=ky(l,new Map),B=Ly(u,new Map),V=Cy(u,new Map),J=Object.keys(b).map(K=>({element:K,score:Math.round(b[K]*10)/10,via:f4(K,j,B,V),reasons:(v.get(K)??[]).slice(),tenGodHints:z[K]})).sort((K,U)=>{const Q=k(K.element),mt=k(U.element);return Q!==mt?Q-mt:U.score!==K.score?U.score-K.score:K.element.localeCompare(U.element)}),W=h4(p,j,B,V),rt={비겁:0,식상:0,재성:0,관성:0,인성:0},et=i?i.reduce((K,U)=>(K[U.name]=U.value,K),{...rt}):void 0;return{chosenType:W,ordered:J,debug:{band:p,overallPct:m,elementScore:u,tenGodTotals:et,monthBranch:l??void 0}}}function f4(t,i,o,l){const u=[];return(i[t]??0)>0&&u.push("조후"),(o[t]??0)>0&&u.push("통관"),(l[t]??0)>0&&u.push("병약"),u.length===0&&u.push("억부"),u}function h4(t,i,o,l){if(["극약","태약","태강","극태강"].includes(t))return"억부";const d=v=>Object.values(v).reduce((w,S)=>w+S,0),m=d(i),p=d(o),b=d(l);return m>Math.max(p,b)?"조후":p>=b?"통관":"병약"}const m4=Object.freeze(Object.defineProperty({__proto__:null,computeYongshin:By,default:By},Symbol.toStringTag,{value:"Module"}));function Rm(t){const i={목:0,화:0,토:0,금:0,수:0};if(!t||t.length<2)return i;const o=t.charAt(0),l=t.charAt(1),u=Na[o],d=zn[l];return u&&(i[u]+=50),d&&(i[d]+=50),i}const Gl=t=>Math.round(t*10)/10;function vs(t){const i=t.목+t.화+t.토+t.금+t.수||1;return{목:Gl(t.목/i*100),화:Gl(t.화/i*100),토:Gl(t.토/i*100),금:Gl(t.금/i*100),수:Gl(t.수/i*100)}}function Ry(t,i,o,l,u,d,m,p){const b=[{v:t,w:i},{v:o,w:l},{v:u,w:d},{v:m,w:p}].filter(S=>S.v&&S.w>0),v=b.reduce((S,x)=>S+x.w,0)||1;b.forEach(S=>{S.w=S.w/v});const w={목:0,화:0,토:0,금:0,수:0};for(const{v:S,w:x}of b)w.목+=S.목*x,w.화+=S.화*x,w.토+=S.토*x,w.금+=S.금*x,w.수+=S.수*x;return w}const p4=["전체","원국","대운","세운","월운"],Py={전체:{natal:.4,dae:.3,se:.2,wol:.1},원국:{natal:1},대운:{natal:.6,dae:.4},세운:{natal:.5,dae:.3,se:.2},월운:{natal:.4,dae:.3,se:.2,wol:.1}};function g4(t){const{natalElementScore:i,daewoonGz:o,sewoonGz:l,wolwoonGz:u,tab:d}=t,m=vs(i),p=o?vs(Rm(o)):null,b=l?vs(Rm(l)):null,v=u?vs(Rm(u)):null;if(d==="전체"){const S=Py.전체;return vs(Ry(m,S.natal,p,S.dae,b,S.se,v,S.wol))}const w=Py[d];return vs(Ry(m,w.natal??0,p,w.dae??0,b,w.se??0,v,w.wol??0))}const Kr={2:4,1:3,3:2,0:1},Ss={1:4,2:3,0:2,3:1},Pd=t=>t.slice(0,1),tn=t=>t.slice(-1),xt={year:0,month:1,day:2,hour:3};function Pm(t,i){const o=[xt.day,xt.month,xt.hour,xt.year];for(const l of o)if(tn(i[l])===t)return{pos:l,weight:Kr[l]??0};return null}function n0(t,i,o){return tn(i[o])===t?{pos:o,weight:Kr[o]}:null}function b4(t,i){const o=[xt.day,xt.month,xt.hour,xt.year];for(const l of o)if(Pd(i[l])===t)return{pos:l,weight:Kr[l]??0};return null}const v4=/^#(연지|월지|일지|시지)X\1_/,y4=t=>v4.test(t);function zy(t){const i=new Map;for(const o of t){if(y4(o.name))continue;const l=`${o.name}@${o.pos}`,u=i.get(l);(!u||o.weight>u.weight)&&i.set(l,o)}return Array.from(i.values()).sort((o,l)=>l.weight!==o.weight?l.weight-o.weight:o.name.localeCompare(l.name,"ko"))}function Hy(t){return t===3?"si":t===2?"il":t===1?"wol":"yeon"}const So=t=>t===0?"연지":t===1?"월지":t===2?"일지":"시지",Ls=t=>t==="dae"?"대운":t==="se"?"세운":"월운",Q1=(t,i)=>`#일간X${So(i)}_${t}`,J1=(t,i)=>i===xt.month?`#월지_${t}`:`#월지X${So(i)}_${t}`,r0=(t,i,o)=>`#${So(i)}X${So(o)}_${t}`,_4=(t,i)=>`#${t==="day"?"일간":"연간"}X${So(i)}_공망`,x4=t=>`#일주_${t}`,Iy=(t,i)=>`#${So(i)}_${t}`,ys=(t,i)=>`#일간X${Ls(i)}_${t}`,Zl=(t,i)=>`#월지X${Ls(i)}_${t}`,zm=(t,i,o)=>`#${Ls(i)}X${So(o)}_${t}`,S4=(t,i)=>`#${i==="day"?"일간":"연간"}X${Ls(t)}_공망`,w4=(t,i)=>`#${i==="day"?"일지":"연지"}X${Ls(t)}_삼재`,$y=(t,i)=>`#연지X${Ls(t)}_${i}`,T4=new Set(["갑","을","병","정","무","기","경","신","임","계"]),E4=new Set(["자","축","인","묘","진","사","오","미","신","유","술","해"]),M4=new Set(["甲","乙","丙","丁","戊","己","庚","辛","壬","癸"]),D4=new Set(["子","丑","寅","卯","辰","巳","午","未","申","酉","戌","亥"]);function A4(t){if(!t)return null;const i=Array.from(String(t));let o=null,l=null;for(const u of i)!o&&(T4.has(u)||M4.has(u))&&(o=u),(E4.has(u)||D4.has(u))&&(l=u);return o&&l?{stem:o,branch:l}:null}function N4(t){return t.map(tn)}const je=t=>Object.fromEntries(Object.entries(t).map(([i,o])=>[i,Array.isArray(o)?o:[o]])),O4=je({자:"사",축:"축",인:"유",묘:"사",진:"축",사:"유",오:"사",미:"축",신:"유",유:"사",술:"축",해:"유"}),t2=je({자:"진",축:"사",인:"오",묘:"미",진:"신",사:"유",오:"술",미:"해",신:"자",유:"축",술:"인",해:"묘"}),j4=je({자:"인",축:"묘",인:"진",묘:"사",진:"오",사:"미",오:"신",미:"유",신:"술",유:"해",술:"자",해:"축"}),k4=je({자:"인",축:"인",인:"사",묘:"사",진:"사",사:"신",오:"신",미:"신",신:"해",유:"해",술:"해",해:"인"}),L4=je({자:"술",축:"술",인:"축",묘:"축",진:"축",사:"진",오:"진",미:"진",신:"미",유:"미",술:"미",해:"술"}),e2=je({자:"술",축:"해",인:"자",묘:"축",진:"인",사:"묘",오:"진",미:"사",신:"오",유:"미",술:"신",해:"유"}),C4=je({자:"오",축:"묘",인:"자",묘:"유",진:"오",사:"묘",오:"자",미:"유",신:"오",유:"묘",술:"자",해:"유"}),B4=je({자:"사",축:"인",인:"진",묘:"미",진:"사",사:"인",오:"진",미:"미",신:"사",유:"인",술:"진",해:"미"}),R4=je({자:"신",축:"술",인:"자",묘:"인",진:"진",사:"오",오:"신",미:"술",신:"자",유:"인",술:"진",해:"오"}),P4=je({자:"사",축:"미",인:"유",묘:"해",진:"축",사:"묘",오:"사",미:"미",신:"유",유:"해",술:"축",해:"묘"}),z4=je({자:"오",축:"미",인:"신",묘:"유",진:"술",사:"해",오:"자",미:"축",신:"인",유:"묘",술:"진",해:"사"}),n2=je({자:"사",축:"오",인:"미",묘:"신",진:"유",사:"술",오:"해",미:"자",신:"축",유:"인",술:"묘",해:"진"}),H4=je({자:"인",축:"묘",인:"진",묘:"사",진:"오",사:"미",오:"신",미:"유",신:"술",유:"해",술:"자",해:"축"}),I4=je({자:"신",축:"사",인:"인",묘:"해",진:"신",사:"사",오:"인",미:"해",신:"신",유:"사",술:"인",해:"해"}),$4=je({자:"묘",축:"진",인:"사",묘:"오",진:"미",사:"신",오:"유",미:"술",신:"해",유:"자",술:"축",해:"인"}),U4=je({자:"유",축:"술",인:"해",묘:"자",진:"축",사:"인",오:"묘",미:"진",신:"사",유:"오",술:"미",해:"신"}),G4=je({자:"자",축:"축",인:"인",묘:"묘",진:"진",사:"사",오:"오",미:"미",신:"신",유:"유",술:"술",해:"해"}),Z4=je({자:"오",축:"미",인:"신",묘:"유",진:"술",사:"해",오:"자",미:"축",신:"인",유:"묘",술:"진",해:"사"}),r2=je({자:"해",축:"자",인:"축",묘:"인",진:"묘",사:"진",오:"사",미:"오",신:"미",유:"신",술:"유",해:"술"}),Y4=n2,q4=t2,V4=r2,K4=je({자:"유",축:"진",인:"해",묘:"오",진:"축",사:"신",오:"묘",미:"술",신:"사",유:"자",술:"미",해:"인"}),F4=e2,X4=je({자:"신",축:"유",인:"술",묘:"해",진:"자",사:"축",오:"인",미:"묘",신:"진",유:"사",술:"오",해:"미"}),W4=je({자:"축",축:"묘",인:"신",묘:"축",진:"묘",사:"신",오:"축",미:"묘",신:"신",유:"축",술:"묘",해:"신"}),Q4=je({자:"오",축:"미",인:"인",묘:"오",진:"미",사:"인",오:"오",미:"미",신:"인",유:"오",술:"미",해:"인"}),i2=t=>(Array.isArray(t)?t:String(t).split("·")).map(i=>i.trim()).filter(Boolean),vr=t=>Object.fromEntries(Object.entries(t).map(([i,o])=>[i,Array.isArray(o)?o:[o]])),Uy={인:"정",묘:"신",진:"임",사:"신",오:"해",미:"갑",신:"계",유:"인",술:"병",해:"을",자:"사",축:"경"},Gy={인:"병",묘:"갑",진:"임",사:"경",오:"병",미:"갑",신:"임",유:"경",술:"병",해:"갑",자:"임",축:"경"},Zy={인:"임",묘:"사",진:"정",사:"병",오:"인",미:"기",신:"무",유:"해",술:"신",해:"경",자:"신",축:"을"},Yy={인:"신",묘:"기",진:"정",사:"을",오:"신",미:"기",신:"정",유:"을",술:"신",해:"기",자:"정",축:"을"},J4=vr({인:"술",묘:"해",진:"자",사:"축",오:"인",미:"묘",신:"진",유:"사",술:"오",해:"미",자:"신",축:"유"}),qy=vr({인:"신",묘:"유",진:"술",사:"해",오:"자",미:"축",신:"신",유:"유",술:"술",해:"해",자:"자",축:"축"}),nf=t=>Object.fromEntries(Object.entries(t).map(([i,o])=>[i,i2(o)])),tO=nf({인:"무인",묘:"무인",진:"무인",사:"갑오",오:"갑오",미:"갑오",신:"무신",유:"무신",술:"무신",해:"갑자",자:"갑자",축:"갑자"}),eO=nf({인:"을묘",묘:"을묘",진:"을묘",사:"병오",오:"병오",미:"병오",신:"신유",유:"신유",술:"신유",해:"임자",자:"임자",축:"임자"}),nO=nf({인:"신묘",묘:"신묘",진:"신묘",사:"무오",오:"무오",미:"무오",신:"계유",유:"계유",술:"계유",해:"병자",자:"병자",축:"병자"}),rO=nf({인:"갑자",묘:"갑자",진:"갑자",사:"갑오",오:"갑오",미:"갑오",신:"무신",유:"무신",술:"무신",해:"갑자",자:"갑자",축:"갑자"}),iO=vr({인:["해","자"],묘:["해","자"],진:["해","자"],사:["묘","미"],오:["묘","미"],미:["묘","미"],신:["인","술"],유:["인","술"],술:["인","술"],해:["축","진"],자:["축","진"],축:["축","진"]}),aO=vr({인:"인",묘:"묘",진:"신",사:"축",오:"술",미:"유",신:"진",유:"사",술:"오",해:"미",자:"해",축:"자"}),oO=vr({인:"유",묘:"사",진:"축",사:"유",오:"사",미:"축",신:"유",유:"사",술:"축",해:"유",자:"사",축:"축"}),sO=vr({인:"진",묘:"진",진:"진",사:"미",오:"미",미:"미",신:"술",유:"술",술:"술",해:"축",자:"축",축:"축"}),lO=vr({인:["사","해"],묘:["진","술"],진:["묘","유"],사:["인","신"],오:["축","미"],미:["자","오"],신:["사","해"],유:["진","술"],술:["묘","유"],해:["인","신"],자:["축","미"],축:["자","오"]}),Vy=vr({인:"축",묘:"인",진:"묘",사:"진",오:"사",미:"오",신:"미",유:"신",술:"유",해:"술",자:"해",축:"자"}),cO=vr({인:"미",묘:"오",진:"사",사:"진",오:"묘",미:"인",신:"축",유:"자",술:"해",해:"술",자:"유",축:"신"}),uO=vr({인:"술",묘:"축",진:"인",사:"사",오:"유",미:"묘",신:"자",유:"오",술:"해",해:"진",자:"신",축:"미"}),dO=vr({인:"축",묘:"자",진:"해",사:"술",오:"유",미:"신",신:"미",유:"오",술:"사",해:"진",자:"묘",축:"인"}),fO=vr({인:"해",묘:"술",진:"유",사:"신",오:"미",미:"오",신:"사",유:"진",술:"묘",해:"인",자:"축",축:"자"}),ke=t=>Object.fromEntries(Object.entries(t).map(([i,o])=>[i,i2(o)])),hO=ke({갑:"자·오",을:"자",병:"묘",정:"묘",무:"진·술",기:"축·미",경:"인·해",신:"인·해",임:"사·신",계:"사·신"}),Ky=ke({갑:"축·미",을:"자·신",병:"해·유",정:"해·유",무:"축·미",기:"자·신",경:"축·미",신:"인·오",임:"사·묘",계:"사·묘"}),mO=ke({갑:"사",을:"오",병:"사",정:"오",무:"신",기:"유",경:"해",신:"자",임:"인",계:"묘"}),pO=ke({갑:"유",을:"신",병:"자",정:"해",무:"묘",기:"인",경:"오",신:"사",임:"축·미",계:"진·술"}),gO=ke({갑:"미",을:"진",병:"사",정:"유",무:"술",기:"묘",경:"해",신:"신",임:"인",계:"오"}),bO=ke({갑:"사",을:"오",병:"신",정:"유",무:"신",기:"유",경:"해",신:"자",임:"인",계:"묘"}),vO=ke({갑:"해",을:"술",병:"신",정:"미",무:"신",기:"미",경:"사",신:"진",임:"인",계:"축"}),Fy=ke({갑:"진",을:"사",병:"미",정:"신",무:"미",기:"신",경:"술",신:"해",임:"축",계:"인"}),yO=ke({갑:"축·묘",을:"인·진",병:"진·오",정:"사·미",무:"진·오",기:"사·미",경:"미·유",신:"신·술",임:"술·자",계:"해·축"}),_O=ke({갑:"사",을:"사",병:"사",정:"신",무:"해",기:"해",경:"인",신:"인",임:"신",계:"신"}),xO=ke({갑:"해",을:"자",병:"인",정:"묘",무:"인",기:"묘",경:"사",신:"오",임:"신",계:"유"}),SO=ke({갑:"해",을:"오",병:"인",정:"유",무:"인",기:"유",경:"사",신:"자",임:"신",계:"묘"}),Xy=ke({갑:"신",을:"오",병:"인",정:"미",무:"진",기:"진",경:"술",신:"유",임:"자",계:"신"}),wO=ke({갑:"유",을:"술",병:"미",정:"신",무:"사",기:"오",경:"진",신:"묘",임:"해",계:"인"}),TO=ke({갑:"사",을:"자",병:"신",정:"술",무:"묘",기:"사",경:"자",신:"신",임:"술",계:"묘"}),Wy=ke({갑:"자",을:"해",병:"인",정:"묘",무:"오",기:"사",경:"진·술",신:"축·미",임:"신",계:"유"}),EO=ke({갑:"인",정:"사",무:"신",신:"해"}),MO=ke({갑:"유",을:"술",병:"자",정:"축",무:"자",기:"축",경:"묘",신:"진",임:"오",계:"미"}),Qy=ke({정:"축·미",신:"묘·유",계:"사·해"}),Jy=ke({병:"자·오",무:"인·신",임:"진·술"}),DO=ke({갑:"진",을:"진",병:"축",정:"축",무:"축",기:"축",경:"미",신:"미",임:"술",계:"술"}),t_=ke({갑:"묘",을:"진",병:"오",정:"미",무:"오",기:"미",경:"유",신:"술",임:"자",계:"축"}),e_=ke({갑:"진",을:"미",병:"술",정:"축",무:"진",임:"술",계:"축"}),n_=[["자","미"],["인","유"],["축","오"],["묘","신"],["진","해"],["사","술"]],r_=[["인","미"],["묘","신"],["진","해"],["사","술"],["자","유"],["축","오"]],AO=new Set(["인미","미인","묘신","신문"]),i_=[["술","해"],["진","사"]],NO=[{set:new Set(["갑자","을축","병인","정묘","무진","기사","경오","신미","임술","계유"]),voids:["술","해"]},{set:new Set(["갑술","을해","병자","정축","무인","기묘","경진","신사","임오","계미"]),voids:["신","유"]},{set:new Set(["갑신","을유","병술","정해","무자","기축","경인","신묘","임진","계사"]),voids:["오","미"]},{set:new Set(["갑오","을미","병신","정유","무술","기해","경자","신축","임인","계묘"]),voids:["진","사"]},{set:new Set(["갑진","을사","병오","정미","무신","기유","경술","신해","임자","계축"]),voids:["인","묘"]},{set:new Set(["갑인","을묘","병진","정사","무오","기미","경신","신유","임진","계해"]),voids:["자","축"]}];function Yl(t,i,o){for(const[l,u]of t)if(l===i&&u===o||l===o&&u===i)return!0;return!1}function sd(t){for(const i of NO)if(i.set.has(t))return i.voids;return null}function Hm(t){const i=[{group:new Set(["해","묘","미"]),years:new Set(["사","오","미"])},{group:new Set(["인","오","술"]),years:new Set(["신","유","술"])},{group:new Set(["사","유","축"]),years:new Set(["해","자","축"])},{group:new Set(["신","자","진"]),years:new Set(["인","묘","진"])}];for(const o of i)if(o.group.has(t))return Array.from(o.years);return null}function vc(t,i){t.push(i)}function Im(t,i,o,l,u=0){const d=Ss[o]>=Ss[l]?o:l,m=r0(i,o,l);t.push({name:m,weight:Kr[d]+u,pos:d})}function xe(t,i,o,l,u){const d=tn(t[xt.year]),m=i[d];if(!m)return;const p=o==="MONTH"?[xt.month]:o==="DAY"?[xt.day]:o==="HOUR"?[xt.hour]:[xt.year,xt.month,xt.day,xt.hour];for(const b of m)for(const v of p){const w=n0(b,t,v);w&&vc(u,{name:r0(l,xt.year,v),weight:w.weight,pos:v})}}function ld(t,i,o,l){const u=tn(t[xt.month]),d=i[u];if(!d)return;const m=b4(d,t);m&&vc(l,{name:J1(o,m.pos),weight:m.weight,pos:m.pos})}function Jn(t,i,o,l,u="ALL"){const d=tn(t[xt.month]),m=i[d];if(!m)return;const p=u==="YEAR"?[xt.year]:u==="DAY"?[xt.day]:u==="HOUR"?[xt.hour]:u==="DAY_HOUR"?[xt.day,xt.hour]:[xt.year,xt.month,xt.day,xt.hour];for(const b of m)for(const v of p){const w=n0(b,t,v);if(!w)continue;const S=v===xt.month?`#월지_${o}`:J1(o,v);vc(l,{name:S,weight:w.weight,pos:v})}}function cd(t,i,o,l){const u=tn(t[xt.month]),d=i[u];if(!d)return;const m=t[xt.day];d.includes(m)&&vc(l,{name:r0(o,xt.month,xt.day),weight:Kr[xt.day],pos:xt.day})}function Se(t,i,o,l,u){const d=Pd(t[xt.day]),m=i[d];if(!m)return;const p=u==="DAY"?[xt.day]:u==="HOUR"?[xt.hour]:[xt.year,xt.month,xt.day,xt.hour];for(const b of m)for(const v of p){const w=n0(b,t,v);w&&vc(l,{name:Q1(o,v),weight:w.weight,pos:v})}}function OO({natal:t,daewoon:i,sewoon:o,wolwoon:l,basis:u}){const d=`원국 ${t.join(" · ")}`,m=Pd(t[xt.day]),p=tn(t[xt.day]),b=tn(t[xt.month]),v=tn(t[xt.year]),w=N4(t),S=[],x=[],E=new Set(["경진","임진","경술","무술"]);if(xe(t,O4,"MONTH","태백",x),xe(t,t2,"DAY","오귀",x),xe(t,k4,"MONTH","고신",x),xe(t,L4,"MONTH","과숙",x),xe(t,C4,"ALL","수옥",x),xe(t,B4,"HOUR","단명",x),xe(t,R4,"ALL","천모",x),xe(t,P4,"ALL","지모",x),xe(t,z4,"ALL","대모",x),xe(t,n2,"ALL","소모",x),xe(t,H4,"ALL","격각",x),xe(t,I4,"ALL","파군",x),xe(t,$4,"ALL","구신",x),xe(t,U4,"ALL","교신",x),xe(t,G4,"ALL","반음",x),xe(t,Z4,"ALL","복음",x),xe(t,r2,"ALL","병부",x),xe(t,Y4,"ALL","사부",x),xe(t,q4,"ALL","관부",x),xe(t,V4,"ALL","태음",x),xe(t,K4,"ALL","세파",x),xe(t,F4,"ALL","천구",x),xe(t,X4,"ALL","비염",x),xe(t,W4,"ALL","매아",x),xe(t,Q4,"ALL","탕화",x),ld(t,Uy,"천덕귀인",S),ld(t,Gy,"월덕귀인",S),ld(t,Zy,"천덕합",S),ld(t,Yy,"월덕합",S),Jn(t,J4,"혈지",x,"ALL"),Jn(t,qy,"금쇄",x,"YEAR"),Jn(t,qy,"금쇄",x,"DAY"),cd(t,tO,"천사",S),cd(t,eO,"천전살",x),cd(t,nO,"지전살",x),cd(t,rO,"진신",x),Jn(t,iO,"급각살",x,"ALL"),Jn(t,aO,"단교관살",x,"ALL"),Jn(t,oO,"부벽살",x,"ALL"),Jn(t,sO,"욕분관살",x,"ALL"),Jn(t,lO,"사주관살",x,"ALL"),Jn(t,Vy,"천의성",S,"ALL"),Jn(t,cO,"천희신",S,"DAY_HOUR"),Jn(t,uO,"황은대사",S,"DAY_HOUR"),Jn(t,dO,"홍란성",S,"ALL"),Jn(t,fO,"장수성",S,"ALL"),Se(t,hO,"태극귀인",S,"ALL"),Se(t,Ky,"천을귀인",S,"ALL"),Se(t,mO,"천주귀인",S,"ALL"),Se(t,pO,"천관귀인",S,"ALL"),Se(t,gO,"천복귀인",S,"ALL"),Se(t,bO,"문창귀인",S,"ALL"),Se(t,vO,"암록",S,"ALL"),Se(t,Fy,"금여록",S,"ALL"),Se(t,yO,"협록",S,"ALL"),Se(t,_O,"관귀학관",S,"ALL"),Se(t,xO,"문곡귀인",S,"ALL"),Se(t,SO,"학당귀인",S,"ALL"),Se(t,Xy,"홍염",x,"ALL"),Se(t,wO,"유하",x,"ALL"),Se(t,TO,"낙정관살",x,"ALL"),Se(t,Wy,"효신살",x,"DAY"),Se(t,Wy,"효신살",x,"HOUR"),Se(t,Qy,"음착살",x,"DAY"),Se(t,Qy,"음착살",x,"HOUR"),Se(t,Jy,"양착살",x,"DAY"),Se(t,Jy,"양착살",x,"HOUR"),Se(t,EO,"고란살",x,"DAY"),Se(t,MO,"비인살",x,"ALL"),Se(t,DO,"재고귀인",S,"ALL"),Se(t,t_,"양인살",x,"ALL"),E.has(t[xt.day])){x.push({name:x4("괴강살"),weight:Kr[xt.day],pos:xt.day});for(const $ of[xt.year,xt.month,xt.hour])t[$]===t[xt.day]&&x.push({name:Iy("괴강살",$),weight:Kr[$],pos:$})}const O=e_[m];if(O)for(const $ of[xt.year,xt.month,xt.day,xt.hour]){const it=Pd(t[$]),ot=tn(t[$]);it===m&&O.includes(ot)&&x.push({name:Iy("백호대살",$),weight:Kr[$],pos:$})}for(const[$,it]of i_){const ot=Pm($,t),I=Pm(it,t);ot&&I&&Im(x,"천라지망",ot.pos,I.pos)}if(new Set(["갑","신"]).has(m)){const $=[xt.year,xt.month,xt.day,xt.hour],it=new Set(["묘","오","미","신"]);for(const ot of $)it.has(tn(t[ot]))&&x.push({name:Q1("현침살",ot),weight:Kr[ot],pos:ot})}{const $=[[xt.year,xt.month],[xt.year,xt.day],[xt.month,xt.day],[xt.month,xt.hour],[xt.day,xt.hour]];for(const[it,ot]of $){const I=tn(t[it]),D=tn(t[ot]);Yl(n_,I,D)&&Im(x,"원진",it,ot)}}{const $=[[xt.month,xt.day,"월일"],[xt.day,xt.hour,"일시"]];for(const[it,ot,I]of $){const D=tn(t[it]),G=tn(t[ot]);if(Yl(r_,D,G)){const F=(I==="월일"?1:0)+(AO.has(D+G)?1:0);Im(x,"귀문",it,ot,F)}}}function R($){const it=$.lastIndexOf("_");return it>=0?$.slice(it+1):$}function z($){const it=new Map;for(const I of $){const D=R(I.name);it.has(D)||it.set(D,[]),it.get(D).push(I)}const ot=[];for(const[,I]of it){const D=I.sort((G,F)=>Ss[G.pos]!==Ss[F.pos]?Ss[F.pos]-Ss[G.pos]:F.weight-G.weight)[0];ot.push(D)}return ot}const H=z(zy(S)),k=z(zy(x)),j={si:[],il:[],yeon:[],wol:[]},B={si:[],il:[],yeon:[],wol:[]};for(const $ of H)j[Hy($.pos)].push($.name);for(const $ of k)B[Hy($.pos)].push($.name);const V=[],J=[],W=[],rt=[],et=[],K=[];function U($,it){$.includes(it)||$.push(it)}const Q=sd(t[xt.day]),mt=sd(t[xt.year]);{const $=(u?.voidBasis??"day")==="day"?Q:mt;if($){const[it,ot]=$,I=[xt.year,xt.month,xt.day,xt.hour];for(const D of I){const G=tn(t[D]);(G===it||G===ot)&&x.push({name:_4(u?.voidBasis??"day",D),weight:Kr[D],pos:D})}}}function vt($,it){const ot=A4(it);if(!ot)return;const I=ot.branch,D=ot.stem,G=$==="dae"?V:$==="se"?J:W,F=$==="dae"?rt:$==="se"?et:K;Uy[b]===D&&U(G,Zl("천덕귀인",$)),Gy[b]===D&&U(G,Zl("월덕귀인",$)),Zy[b]===D&&U(G,Zl("천덕합",$)),Yy[b]===D&&U(G,Zl("월덕합",$)),Vy[b]?.includes(I)&&U(G,Zl("천의성",$)),Ky[m]?.includes(I)&&U(G,ys("천을귀인",$)),Fy[m]?.includes(I)&&U(G,ys("금여록",$)),Xy[m]?.includes(I)&&U(F,ys("홍염",$)),t_[m]?.includes(I)&&U(F,ys("양인살",$)),e_[m]?.includes(I)&&U(F,ys("백호대살",$)),$==="se"&&(j4[v]?.includes(I)&&U(F,$y($,"상문살")),e2[v]?.includes(I)&&U(F,$y($,"조객살")));for(const tt of w)if(Yl(i_,I,tt)){const lt=Pm(tt,t)?.pos;lt!==void 0&&U(F,zm("천라지망",$,lt));break}new Set(["갑","신"]).has(m)&&new Set(["묘","오","미","신"]).has(I)&&U(F,ys("현침살",$));const q=(u?.voidBasis??"day")==="day"?Q:mt;q&&(I===q[0]||I===q[1])&&U(F,S4($,u?.voidBasis??"day"));for(let tt=0;tt<=3;tt++){const lt=tn(t[tt]);Yl(n_,I,lt)&&U(F,zm("원진",$,tt)),Yl(r_,I,lt)&&U(F,zm("귀문",$,tt))}if($==="se"){const tt=(u?.samjaeBasis??"day")==="day"?p:v,lt=tt?Hm(tt):null;lt&&lt.includes(I)&&U(F,w4($,u?.samjaeBasis??"day"))}}return vt("dae",i??null),vt("se",o??null),vt("wol",l??null),{title:d,good:{...j,dae:V,se:J,wolun:W},bad:{...B,dae:rt,se:et,wolun:K},meta:{voidPair:{day:sd(t[xt.day])??void 0,year:sd(t[xt.year])??void 0},samjaeYears:{day:Hm(p)??void 0,year:Hm(v)??void 0},currentBasis:{voidBasis:u?.voidBasis??"day",samjaeBasis:u?.samjaeBasis??"day"}}}}function jO(t,i){if(t==="#없음")return"bg-neutral-100 text-neutral-500 border-neutral-200 dark:bg-neutral-900 dark:text-neutral-500 dark:border-neutral-700";switch(i){case"natal":return"bg-violet-100 text-violet-800 border-violet-200 dark:bg-violet-900/30 dark:text-violet-200 dark:border-violet-800";case"dae":return"bg-blue-100 text-blue-800 border-blue-200 dark:bg-blue-900/30 dark:text-blue-200 dark:border-blue-800";case"se":return"bg-green-100 text-green-800 border-green-200 dark:bg-green-900/30 dark:text-green-200 dark:border-green-800";case"wol":return"bg-orange-100 text-orange-800 border-orange-200 dark:bg-orange-900/30 dark:text-orange-200 dark:border-orange-800";default:return""}}function kO({items:t,source:i}){const o=t.length>0?t:["#없음"];return y.jsx("div",{className:"flex flex-wrap gap-2",children:o.map((l,u)=>y.jsx("span",{className:"text-xs px-2 py-1 rounded-full border whitespace-nowrap "+jO(l,i),children:l},`${i}-${u}-${l}`))})}function a_({title:t,rows:i}){return y.jsxs("div",{className:"space-y-2 desk:flex-1 desk:px-1",children:[y.jsx("div",{className:"text-md font-bold text-neutral-800 dark:text-neutral-200 mt-2",children:t}),i.map(o=>y.jsxs("div",{className:"flex items-start gap-3",children:[y.jsx("div",{className:"shrink-0 w-12 text-xs font-semibold text-neutral-700 dark:text-neutral-300 mt-1",children:o.label}),y.jsx(kO,{items:o.items.length>0?o.items:["#없음"],source:o.source})]},`${t}-${o.label}`))]})}function LO({pillars:t,daewoon:i,sewoon:o,wolwoon:l,tab:u="전체"}){const[d,m]=P.useState("일공망"),[p,b]=P.useState("일삼재"),v=P.useMemo(()=>({voidBasis:d==="일공망"?"day":"year",samjaeBasis:p==="일삼재"?"day":"year"}),[d,p]),w=P.useMemo(()=>OO({natal:t,daewoon:i,sewoon:o,wolwoon:l,basis:v}),[t,i,o,l,v]),{good:S,bad:x,meta:E}=w,A=W=>W.map(rt=>rt==="#없음"?rt:`원국 ${rt}`),O=(W,rt)=>{if(rt==="전체")return W;const et=rt==="원국"?"natal":rt==="대운"?"dae":rt==="세운"?"se":"wol";return W.filter(K=>K.source===et)},R=[{label:"시주",items:A(S.si),source:"natal"},{label:"일주",items:A(S.il),source:"natal"},{label:"월주",items:A(S.wol),source:"natal"},{label:"연주",items:A(S.yeon),source:"natal"},{label:"대운",items:S.dae,source:"dae"},{label:"세운",items:S.se,source:"se"},{label:"월운",items:S.wolun,source:"wol"}],z=[{label:"시주",items:A(x.si),source:"natal"},{label:"일주",items:A(x.il),source:"natal"},{label:"월주",items:A(x.wol),source:"natal"},{label:"연주",items:A(x.yeon),source:"natal"},{label:"대운",items:x.dae,source:"dae"},{label:"세운",items:x.se,source:"se"},{label:"월운",items:x.wolun,source:"wol"}],H=O(R,u),k=O(z,u),j=E.voidPair.day?`일공망(${E.voidPair.day.join("")})`:"일공망(—)",B=E.voidPair.year?`연공망(${E.voidPair.year.join("")})`:"연공망(—)",V=E.samjaeYears.day?`일삼재(${E.samjaeYears.day.join("·")})`:"일삼재(—)",J=E.samjaeYears.year?`연삼재(${E.samjaeYears.year.join("·")})`:"연삼재(—)";return y.jsxs("div",{className:"rounded-xl p-4 bg-neutral-100 dark:bg-neutral-900 text-neutral-900 dark:text-neutral-100 space-y-2",children:[y.jsx("div",{className:"text-base font-bold mb-1",children:"신살(길신/흉살)"}),y.jsxs("div",{className:"flex flex-wrap items-center gap-3 text-xs",children:[y.jsxs("div",{className:"flex items-center gap-2",children:[y.jsx("label",{className:"text-neutral-600 dark:text-neutral-300",children:"공망 기준"}),y.jsxs("select",{value:d,onChange:W=>m(W.target.value),className:"px-2 h-30 rounded border border-neutral-300 dark:border-neutral-700 bg-white dark:bg-neutral-800",children:[y.jsx("option",{value:"일공망",children:j}),y.jsx("option",{value:"연공망",children:B})]})]}),y.jsxs("div",{className:"flex items-center gap-2",children:[y.jsx("label",{className:"text-neutral-600 dark:text-neutral-300",children:"삼재 기준"}),y.jsxs("select",{value:p,onChange:W=>b(W.target.value),className:"px-2 h-30 rounded border border-neutral-300 dark:border-neutral-700 bg-white dark:bg-neutral-800",children:[y.jsx("option",{value:"일삼재",children:V}),y.jsx("option",{value:"연삼재",children:J})]})]})]}),y.jsxs("div",{className:"desk:flex",children:[y.jsx(a_,{title:"신(神)",rows:H}),y.jsx("div",{className:"block desk:hidden border-t border-neutral-200 dark:border-neutral-800 mt-4 mb-3"}),y.jsx(a_,{title:"살(殺)",rows:k})]})]})}const CO=Object.freeze([]),BO={甲:"갑",乙:"을",丙:"병",丁:"정",戊:"무",己:"기",庚:"경",辛:"신",壬:"임",癸:"계"},RO={子:"자",丑:"축",寅:"인",卯:"묘",辰:"진",巳:"사",午:"오",未:"미",申:"신",酉:"유",戌:"술",亥:"해"},a2={갑:"목",을:"목",병:"화",정:"화",무:"토",기:"토",경:"금",신:"금",임:"수",계:"수"},o2={자:"수",축:"토",인:"목",묘:"목",진:"토",사:"화",오:"화",미:"토",신:"금",유:"금",술:"토",해:"수"};function PO(t){if(!t)return"";const i=t.replace(/[()[\]{}]/g,"").replace(/\s+/g,"").replace(/[년월일시年月日時干支柱:\-_.]/g,""),o=i.match(/([갑을병정무기경신임계]).*?([자축인묘진사오미신유술해])/);if(o)return`${o[1]}${o[2]}`;const l=i.match(/([甲乙丙丁戊己庚辛壬癸]).*?([子丑寅卯辰巳午未申酉戌亥])/);return l?`${BO[l[1]]}${RO[l[2]]}`:""}function o_(t){const i=Array.isArray(t)?t.slice(0,4):[];for(;i.length<4;)i.push("");return i.map(PO)}function s_(t){return t.length===4&&t.every(i=>i.length===2)}function zO(t,i){const o={목:!1,화:!1,토:!1,금:!1,수:!1};for(const l of t){if(!l)continue;const u=a2[l.charAt(0)];u&&(o[u]=!0);{const d=o2[l.charAt(1)];d&&(o[d]=!0)}}return o}function l_(t){const i={목:0,화:0,토:0,금:0,수:0};for(const o of t){if(!o)continue;const l=a2[o.charAt(0)],u=o2[o.charAt(1)];l&&(i[l]+=10),u&&(i[u]+=6)}return i}function mp(t){return typeof t=="object"&&t!==null}function HO(t){return mp(t)?typeof t.computeYongshin=="function"?t.computeYongshin:mp(t.default)&&typeof t.default.computeYongshin=="function"?t.default.computeYongshin:null:null}function yd(t,i=0){if(t==null)return i;if(typeof t=="number"&&Number.isFinite(t))return t;if(typeof t=="string"){const o=Number(t.trim());return Number.isFinite(o)?o:i}if(typeof t=="object"){const o=t;for(const l of["value","val","score","amount"])if(l in o)return yd(o[l],i)}return i}function IO({data:t,pillars:i,lunarPillars:o,daewoonGz:l}){const u=Wr(Mt=>Mt.settings),d=!0,[m]=P.useState("solar"),[p,b]=P.useState(!0),[v,w]=P.useState("modern"),[S,x]=P.useState("일간 · 오행 강약"),[E,A]=P.useState("원국"),{date:O,yearGZ:R,monthGZ:z}=Qr(),H=P.useMemo(()=>Hn(R),[R]),k=P.useMemo(()=>Hn(z),[z]),j=Wd(t,t?.mingSikType),B=P.useMemo(()=>{if(!j?.length)return 0;const Mt=j.findIndex((Vt,Kt)=>{const Ot=j[Kt+1]?.at;return O>=Vt.at&&(!Ot||O<Ot)});return Mt!==-1?Mt:O<j[0].at?0:j.length-1},[j,O]),V=P.useMemo(()=>{const Mt=l??j?.[B]?.gz??"";return Hn(Mt)||null},[l,j,B]),J=P.useMemo(()=>o_(i),[i]),W=P.useMemo(()=>o_(o),[o]),rt=s_(J),et=s_(W),U=(m==="lunar"?et?"lunar":"solar":rt?"solar":"lunar")==="lunar"?W:J,Q=u.hiddenStemMode==="classic"?"classic":"hgc",mt=u.hiddenStem==="regular"?"regular":"all",vt=P.useMemo(()=>({tab:E,dae:E!=="원국"&&V||void 0,se:(E==="세운"||E==="월운")&&H||void 0,wol:E==="월운"&&k||void 0}),[E,V,H,k]),$=P.useMemo(()=>!rt&&!et?null:Ny({pillars:U,dayStem:U?.[2]?.charAt(0),mode:Q,debug:d,useHarmonyOverlay:!1,criteriaMode:v}),[v,U,Q,mt,d,rt,et]),it=P.useMemo(()=>!rt&&!et?null:Ny({pillars:U,dayStem:U?.[2]?.charAt(0),mode:Q,debug:d,useHarmonyOverlay:!1,criteriaMode:v,luck:vt}),[v,U,Q,mt,d,rt,et,vt]),ot=P.useMemo(()=>$?.totals??CO,[$]),I=$?.elementScoreRaw??l_(U),D=cp(U[2]?.charAt(0)),G=ot.map(Mt=>({...Mt,color:D[Mt.name]})),F=P.useMemo(()=>{const Mt={비겁:0,식상:0,재성:0,관성:0,인성:0};for(const Vt of ot)Mt[Vt.name]=Vt.value;return Mt},[ot]),q=P.useMemo(()=>{const Mt=$?.deukFlags;if(!Mt)return{비겁:1,식상:1,재성:1,관성:1,인성:1};const Vt=.08,Kt=.05,Ot=.07,ie={비겁:1,식상:1,재성:1,관성:1,인성:1};return Object.keys(Mt).forEach(Ee=>{const _e=Mt[Ee];ie[Ee]+=(_e.령?Vt:0)+(_e.지?Kt:0)+(_e.세?Ot:0)}),ie},[$?.deukFlags]),tt=P.useMemo(()=>{const Mt=(F.비겁??0)*q.비겁+(F.인성??0)*q.인성,Vt=(F.비겁??0)*q.비겁+(F.식상??0)*q.식상+(F.재성??0)*q.재성+(F.관성??0)*q.관성+(F.인성??0)*q.인성;if(Vt<=0){const Kt=(F.비겁??0)+(F.식상??0)+(F.재성??0)+(F.관성??0)+(F.인성??0)||1;return((F.비겁??0)+(F.인성??0))/Kt*100}return Mt/Vt*100},[F,q]),lt=P.useMemo(()=>zO(U),[U]),ht=P.useMemo(()=>["목","화","토","금","수"].some(Mt=>!lt[Mt]),[lt]),wt=I??l_(U),bt=E==="전체"?"월운":E,Tt=g4({natalElementScore:I,daewoonGz:bt!=="원국"?V??void 0:void 0,sewoonGz:bt==="세운"||bt==="월운"?H??void 0:void 0,wolwoonGz:bt==="월운"?k??void 0:void 0,tab:E}),$t=P.useMemo(()=>{const Mt=cp(U[2]?.charAt(0));return["비겁","식상","재성","관성","인성"].map(Vt=>{const Kt=["목","화","토","금","수"].map(Ot=>A1(Ot,U[2][0])===Vt?Tt[Ot]:0).reduce((Ot,ie)=>Ot+ie,0);return{name:Vt,value:Kt,color:Mt[Vt]}})},[Tt,U]),Wt=P.useMemo(()=>{if(!it?.perTenGod)return;const Mt=JSON.parse(JSON.stringify(it.perTenGod));return["비겁","식상","재성","관성","인성"].forEach(Vt=>{const Kt=$t.find(_e=>_e.name===Vt)?.value??0,Ot=Mt[Vt],ie=yd(Ot?.aVal,0)+yd(Ot?.bVal,0),Ee=_e=>Math.round((_e+Number.EPSILON)*10)/10;if(ie>0){const _e=Kt*yd(Ot.aVal,0)/ie,vn=Ee(_e),yn=Ee(Kt-vn);Ot.aVal=vn,Ot.bVal=yn}else{const _e=Ee(Kt/2),vn=Ee(Kt-_e);Ot.aVal=_e,Ot.bVal=vn}}),Mt},[it,$t]),Pt=P.useMemo(()=>[E,V??"",H??"",k??"",O?.toISOString?.()??"",JSON.stringify(it?.perStemElementScaled??{})].join("|"),[E,V,H,k,O,it?.perStemElementScaled]),Bt=P.useMemo(()=>{const Mt=Wt?["비겁","식상","재성","관성","인성"].map(Kt=>{const Ot=Wt[Kt],ie=Ot?.aVal??Ot?.비견??Ot?.정재??0,Ee=Ot?.bVal??Ot?.겁재??Ot?.편재??0;return`${Kt}:${Number(ie)}|${Number(Ee)}`}).join(","):"none",Vt=$t.map(Kt=>`${Kt.name}:${Kt.value}`).join(",");return`${Pt}||${U.join("")}||${Vt}||${Mt}`},[Pt,U,$t,Wt]),re=HO(m4),me=re?re(U,G,{elementScore:I}):null,fe=P.useMemo(()=>{const Vt=(mp(me)&&Array.isArray(me.ordered)?me.ordered:[]).map(Ot=>{const ie=Ot.element,Ee=Ot.score,_e=Ot.reasons,vn=typeof ie=="string"?ie:"",yn=/목|木|wood/i.test(vn)?"목":/화|火|fire/i.test(vn)?"화":/토|土|earth/i.test(vn)?"토":/금|金|metal/i.test(vn)?"금":/수|水|water/i.test(vn)?"수":null,Ve=typeof Ee=="number"?Ee:yn?wt[yn]??0:0,In=Array.isArray(_e)?_e:[];return{element:vn,elNorm:yn,score:Ve,reasons:In}}),Kt=p?Vt.map(Ot=>Ot.elNorm&&!lt[Ot.elNorm]?{...Ot,score:0,reasons:[...Ot.reasons,"부재후순위: 원국(천간) 부재 → 0점"]}:Ot):Vt;return Kt.sort((Ot,ie)=>{if(p){const Ee=Ot.elNorm&&lt[Ot.elNorm]?1:0,_e=ie.elNorm&&lt[ie.elNorm]?1:0;if(Ee!==_e)return _e-Ee}return(ie.score??0)!==(Ot.score??0)?(ie.score??0)-(Ot.score??0):(Ot.elNorm??Ot.element).localeCompare(ie.elNorm??ie.element)}),Kt},[me,lt,p,wt]),pe=P.useMemo(()=>Math.max(0,...fe.map(Mt=>Number.isFinite(Mt.score)?Mt.score:0)),[fe]);return!rt&&!et?y.jsx("div",{className:"p-4 rounded-xl bg-neutral-100 dark:bg-neutral-900 text-sm",children:"간지를 인식할 수 없어요."}):y.jsxs("div",{className:"space-y-4 mb-4",children:[y.jsx("div",{className:"flex gap-2 justify-center flex-wrap",children:p4.map(Mt=>y.jsx("button",{onClick:()=>A(Mt),className:"px-2 py-1 text-xs rounded border cursor-pointer "+(E===Mt?"bg-yellow-500 text-black border-yellow-600":"bg-neutral-400 dark:bg-neutral-900 text-neutral-100 dark:text-neutral-300 border-neutral-400 dark:border-neutral-700"),children:Mt},Mt))}),y.jsx("div",{className:"flex gap-2 mb-2 justify-center flex-wrap",children:["일간 · 오행 강약","형충회합","신살"].map(Mt=>y.jsx("button",{onClick:()=>x(Mt),className:"px-3 py-1 text-sm rounded border cursor-pointer "+(S===Mt?"bg-violet-500 text-white border-violet-600":"bg-neutral-400 dark:bg-neutral-900 text-neutral-100 dark:text-neutral-300 border-neutral-400 dark:border-neutral-700"),children:Mt},Mt))}),S==="형충회합"&&y.jsx(X5,{pillars:U,daewoon:V||void 0,sewoon:H||void 0,wolwoon:k||void 0,tab:E}),S==="일간 · 오행 강약"&&y.jsxs("div",{className:"space-y-4",children:[y.jsxs("div",{className:"ml-auto flex justify-end items-center gap-1",children:[y.jsx("button",{type:"button","aria-pressed":v==="classic",onClick:()=>w("classic"),className:"px-2 py-1 text-xs rounded border cursor-pointer "+(v==="classic"?"bg-yellow-500 text-black border-yellow-600":"bg-neutral-400 dark:bg-neutral-900 text-neutral-100 dark:text-neutral-300 border-neutral-400 dark:border-neutral-700"),children:"고전"}),y.jsx("button",{type:"button","aria-pressed":v==="modern",onClick:()=>w("modern"),className:"px-2 py-1 text-xs rounded border cursor-pointer "+(v==="modern"?"bg-yellow-500 text-black border-yellow-600":"bg-neutral-400 dark:bg-neutral-900 text-neutral-100 dark:text-neutral-300 border-neutral-400 dark:border-neutral-700"),children:"현대"})]}),y.jsx(Y5,{data:$t,revKey:Bt,pillars:U,daewoonGz:V,sewoonGz:H,wolwoonGz:k,perStemElement:it?.perStemElementScaled,dayStem:U?.[2]?.charAt(0)??null}),y.jsx(F5,{value:tt}),y.jsxs("div",{className:"w-full p-4 rounded-xl bg-neutral-100 dark:bg-neutral-900 space-y-3",children:[y.jsxs("div",{className:"flex items-center justify-between",children:[y.jsx("div",{className:"text-sm font-bold",children:"용신 추천"}),ht&&y.jsxs("button",{type:"button",onClick:()=>b(Mt=>!Mt),className:`text-xs px-2 py-1 rounded-lg border transition cursor-pointer
                    ${p?"bg-violet-100 text-violet-800 border-violet-200 whitespace-nowrap dark:bg-violet-900/30 dark:text-violet-200 dark:border-violet-800":"bg-white text-neutral-700 border-neutral-300 hover:bg-neutral-50 dark:bg-neutral-800 dark:text-neutral-200 dark:border-neutral-700"}`,"aria-pressed":p,children:["부재후순위: ",p?"ON":"OFF"]})]}),y.jsx("ul",{className:"space-y-2",children:fe.map((Mt,Vt)=>y.jsxs("li",{className:"flex items-start justify-between gap-3 rounded-lg border border-neutral-200 dark:border-neutral-800 p-2",children:[y.jsxs("div",{className:"flex items-center gap-2",children:[y.jsxs("span",{className:"text-xs px-2 py-0.5 rounded-full bg-neutral-200 dark:bg-neutral-800 text-neutral-800 dark:text-neutral-200",children:[Vt+1,"위"]}),y.jsx("span",{className:"text-sm font-semibold",children:Mt.element})]}),y.jsxs("div",{className:"flex-1",children:[y.jsx("div",{className:"mt-1 h-1.5 w-full rounded bg-neutral-300 dark:bg-neutral-800 overflow-hidden",children:y.jsx("div",{className:"h-1.5 rounded bg-white dark:bg-neutral-100",style:{width:`${pe>0?Math.max(2,Math.min(100,Math.round((Mt.score??0)/pe*100))):12}%`},title:`점수 ${Mt.score}`})}),y.jsx("div",{className:"mt-2 flex flex-wrap gap-1.5",children:(Mt.reasons??[]).map((Kt,Ot)=>y.jsx("span",{className:"text-[11px] px-2 py-0.5 rounded-full bg-neutral-200 dark:bg-neutral-800 text-neutral-700 dark:text-neutral-300",children:Kt},Ot))})]})]},Mt.elNorm??Mt.element))})]})]}),S==="신살"&&y.jsx(LO,{pillars:U,daewoon:V||void 0,sewoon:H||void 0,wolwoon:k||void 0,tab:E})]})}function i0(t){return typeof t=="object"&&t!==null}function $O(t){return i0(t)&&"default"in t}function UO(t){return i0(t)&&typeof t.lunar2solar=="function"}function GO(t){if(!i0(t))throw new Error("Invalid lunar2solar result");const i=t.cYear,o=t.cMonth,l=t.cDay,u=t.isLeap;if(typeof i!="number"||typeof o!="number"||typeof l!="number")throw new Error("Invalid lunar2solar fields");return{cYear:i,cMonth:o,cDay:l,isLeap:typeof u=="boolean"?u:void 0}}function ZO(t){const i=$O(t)?t.default:t;if(!UO(i))throw new Error("solarlunar.lunar2solar not found");return{lunar2solar:(l,u,d,m)=>{const p=i.lunar2solar(l,u,d,!!m);return GO(p)}}}const YO=ZO(wo),pp=!1,qO=t=>typeof t=="string"&&t.length>=2,c_=t=>Array.isArray(t)&&t.length===4&&t.every(qO),u_=t=>t<10?`0${t}`:`${t}`;function VO(t){const i=t,o=typeof i.birthDay=="string"?i.birthDay:"",l=typeof i.calendarType=="string"?i.calendarType:"solar";if(o.length<8)return t;const u=Number(o.slice(0,4)),d=Number(o.slice(4,6)),m=Number(o.slice(6,8)),p=["isLeap","isLeapMonth","leapMonth","leap","lunarLeap"];let b=!1;for(const v of p){const w=i[v];if(typeof w=="boolean"){b=w;break}if(typeof w=="number"){b=w===1;break}if(typeof w=="string"){b=w==="1"||w.toLowerCase()==="true";break}}if(l==="lunar")try{const v=YO.lunar2solar(u,d,m,b),w=`${v.cYear}${u_(v.cMonth)}${u_(v.cDay)}`;return{...t,birthDay:w,calendarType:"solar"}}catch{return t}return t}function KO({data:t}){const[i,o]=P.useState("un"),l=P.useMemo(()=>{try{const d=VO(t);return Ba(d)}catch{return new Date}},[t]),u=P.useMemo(()=>{try{const d=Pe(l,t.birthPlace?.lon),m=jn(l,t.birthPlace?.lon),p=qe(l,t.mingSikType),b=Ci(l,t.mingSikType),v=[d,m,p,b];return c_(v)?v:[]}catch{return[]}},[l,t?.mingSikType,t?.birthPlace?.lon]);return y.jsxs("div",{className:"w-[96%] max-w-[640px] mx-auto",children:[y.jsxs("div",{className:"flex border-b border-neutral-700 mb-4",children:[y.jsx("button",{onClick:()=>o("un"),className:`px-2 desk:px-4 py-2 text-xs desk:text-sm cursor-pointer border-b hover:border-purple-500 hover:text-purple-500 font-bold ${i==="un"?"border-purple-500 text-purple-500":"border-transparent text-neutral-400"}`,children:"기본운 뷰어"}),y.jsx("button",{onClick:()=>o("myoun"),className:`px-2 desk:px-4 py-2 text-xs desk:text-sm cursor-pointer border-b hover:border-purple-500 hover:text-purple-500 font-bold ${i==="myoun"?"border-purple-500 text-purple-500":"border-transparent text-neutral-400"}`,children:"묘운 뷰어"}),y.jsx("button",{onClick:()=>o("report"),className:`px-2 desk:px-4 py-2 text-xs desk:text-sm cursor-pointer border-b hover:border-purple-500 hover:text-purple-500 font-bold ${i==="report"?"border-purple-500 text-purple-500":"border-transparent text-neutral-400"}`,children:"분석 레포트"})]}),i==="un"&&y.jsx(b9,{data:t}),i==="myoun"&&y.jsx(A9,{data:t}),i==="report"&&y.jsx(IO,{data:t,pillars:c_(u)?u:[]})]})}/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var FO={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XO=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),Lr=(t,i)=>{const o=P.forwardRef(({color:l="currentColor",size:u=24,strokeWidth:d=2,absoluteStrokeWidth:m,className:p="",children:b,...v},w)=>P.createElement("svg",{ref:w,...FO,width:u,height:u,stroke:l,strokeWidth:m?Number(d)*24/Number(u):d,className:["lucide",`lucide-${XO(t)}`,p].join(" "),...v},[...i.map(([S,x])=>P.createElement(S,x)),...Array.isArray(b)?b:[b]]));return o.displayName=`${t}`,o};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WO=Lr("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QO=Lr("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gp=Lr("GripVertical",[["circle",{cx:"9",cy:"12",r:"1",key:"1vctgf"}],["circle",{cx:"9",cy:"5",r:"1",key:"hp0tcf"}],["circle",{cx:"9",cy:"19",r:"1",key:"fkjjf6"}],["circle",{cx:"15",cy:"12",r:"1",key:"1tmaij"}],["circle",{cx:"15",cy:"5",r:"1",key:"19l28e"}],["circle",{cx:"15",cy:"19",r:"1",key:"f4zoj3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JO=Lr("HeartHandshake",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}],["path",{d:"M12 5 9.04 7.96a2.17 2.17 0 0 0 0 3.08v0c.82.82 2.13.85 3 .07l2.07-1.9a2.82 2.82 0 0 1 3.79 0l2.96 2.66",key:"12sd6o"}],["path",{d:"m18 15-2-2",key:"60u0ii"}],["path",{d:"m15 18-2-2",key:"6p76be"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tj=Lr("Home",[["path",{d:"m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"y5dka4"}],["polyline",{points:"9 22 9 12 15 12 15 22",key:"e2us08"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ej=Lr("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nj=Lr("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rj=Lr("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const d_=Lr("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ij=Lr("UserPlus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const s2=Lr("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);function aj({onOpenSidebar:t,onAddNew:i}){return y.jsx("header",{className:"fixed top-0 left-0 right-0 bg-white dark:bg-neutral-950 border-b border-neutral-200 dark:border-neutral-800 z-55 px-2 desk:px-3 transition-colors",children:y.jsxs("div",{className:"max-w-[640px] w-full mx-auto h-12 sm:h-14 flex items-center",children:[y.jsx("button",{type:"button",onClick:t,"aria-label":"명식리스트 열기",className:"p-2 rounded-full text-neutral-700 dark:text-neutral-200 hover:bg-neutral-100 dark:hover:bg-neutral-800 hover:text-purple-600 dark:hover:text-purple-400 focus:outline-none focus:ring-2 focus:ring-purple-500 cursor-pointer transition-colors",children:y.jsx(ej,{size:22})}),y.jsx("h1",{className:"mx-auto text-base sm:text-lg font-bold tracking-tight text-neutral-900 dark:text-neutral-100",children:"화림만세력"}),y.jsx("button",{type:"button",onClick:i,"aria-label":"명식 추가",className:"w-8 h-8 sm:w-10 sm:h-10 flex items-center justify-center rounded-md bg-purple-600 text-white hover:bg-purple-700 dark:bg-purple-600 dark:hover:bg-purple-500 focus:outline-none focus:ring-2 focus:ring-purple-500 cursor-pointer transition-colors",children:y.jsx(ij,{size:18})})]})})}function oj(t){P.useEffect(()=>{const i=t??w_()??(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light");T_(i),t&&Km(t)},[t])}const l2="harim.settings.v1",c2=["theme","hiddenStem","hiddenStemMode","ilunRule","sinsalMode","sinsalBase","sinsalBloom","exposure","charType","thinEum","visibility"];function sj(t){return typeof t=="string"&&c2.includes(t)}function f_(t){const i=Array.isArray(t)?t.filter(sj):[],o=c2.filter(l=>!i.includes(l));return[...i,...o]}function u2(){if(typeof window>"u")return null;try{const t=localStorage.getItem(l2);return t?JSON.parse(t):null}catch{return null}}function lj(t){if(!(typeof window>"u"))try{const o={...u2()??{},...t};localStorage.setItem(l2,JSON.stringify(o))}catch{}}function cj({open:t,onClose:i}){const{settings:o,setSettings:l}=Wr(),u=P.useMemo(()=>f_(o.sectionOrder),[o.sectionOrder]),[d,m]=P.useState(u),[p,b]=P.useState(o),[v,w]=P.useState(null);oj(p.theme??"dark"),P.useEffect(()=>{if(!t)return;const k=u2();if(k){const j={...o,...k};b(j),m(f_(k.sectionOrder??j.sectionOrder))}else b(o),m([...u])},[t,o,u]);const S=(k,j)=>{b(B=>{const V={...B,[k]:j};return k==="theme"&&Km(j),V})},x=()=>{l({...p,sectionOrder:d}),p.theme&&Km(p.theme),w("설정이 적용되었습니다"),i()},E=P.useRef(null),A=(k,j)=>{const B=k.target;if(B.closest("[data-no-drag]")||["BUTTON","INPUT","SELECT","TEXTAREA","A","LABEL"].includes(B.tagName)){k.preventDefault();return}E.current=j,k.dataTransfer.setData("text/plain",j),k.dataTransfer.effectAllowed="move"},O=(k,j)=>A(k,j),R=k=>{k.preventDefault(),k.dataTransfer.dropEffect="move"},z=(k,j)=>{const B=E.current;E.current=null,!(!B||B===j)&&m(V=>{const J=V.slice(),W=J.indexOf(B),rt=J.indexOf(j);if(W===-1||rt===-1)return V;J.splice(rt,0,...J.splice(W,1));const et=J;return lj({...p,sectionOrder:et}),et})},H=k=>{switch(k){case"theme":return y.jsx(Or,{title:"테마",children:y.jsx(uj,{value:p.theme??"dark",onChange:j=>S("theme",j)})});case"hiddenStem":return y.jsx(Or,{title:"지장간 표시 타입",children:y.jsx(go,{value:p.hiddenStem,onChange:j=>S("hiddenStem",j),options:[{label:"전체보기",value:"all"},{label:"정기만 보기",value:"regular"}]})});case"hiddenStemMode":return y.jsx(Or,{title:"지장간 유형",children:y.jsx(go,{value:p.hiddenStemMode,onChange:j=>S("hiddenStemMode",j),options:[{label:"고전",value:"classic"},{label:"하건충",value:"hgc"}]})});case"ilunRule":return y.jsx(Or,{title:"일운 달력 시간타입",children:y.jsx(go,{value:p.ilunRule,onChange:j=>S("ilunRule",j),options:[{label:"야자시",value:"야자시"},{label:"조자시",value:"조자시"},{label:"인시",value:"인시"}]})});case"sinsalMode":return y.jsx(Or,{title:"십이신살타입",children:y.jsx(go,{value:p.sinsalMode,onChange:j=>S("sinsalMode",j),options:[{label:"고전",value:"classic"},{label:"현대",value:"modern"}]})});case"sinsalBase":return y.jsx(Or,{title:"십이신살기준",children:y.jsx(go,{value:p.sinsalBase,onChange:j=>S("sinsalBase",j),options:[{label:"일지",value:"일지"},{label:"연지",value:"연지"}]})});case"sinsalBloom":return y.jsx(Or,{title:"개화론 적용여부",children:y.jsx(ql,{label:"개화론 적용",checked:p.sinsalBloom,onChange:j=>S("sinsalBloom",j)})});case"exposure":return y.jsx(Or,{title:"상단 노출",children:y.jsx(go,{value:p.exposure,onChange:j=>S("exposure",j),options:[{label:"원국",value:"원국"},{label:"대운",value:"대운"},{label:"세운",value:"세운"},{label:"월운",value:"월운"}]})});case"charType":return y.jsx(Or,{title:"글자 타입",children:y.jsx(go,{value:p.charType,onChange:j=>S("charType",j),options:[{label:"한자",value:"한자"},{label:"한글",value:"한글"}]})});case"thinEum":return y.jsx(Or,{title:"음간 얇게",children:y.jsx(ql,{label:"음간 얇게",checked:p.thinEum,onChange:j=>S("thinEum",j)})});case"visibility":return y.jsx(Or,{title:"표시 항목",children:y.jsxs("div",{className:"space-y-2 w-full max-w-[140px] mx-auto",children:[y.jsx(ql,{label:"십신 표시",checked:p.showSipSin,onChange:j=>S("showSipSin",j)}),y.jsx(ql,{label:"운성 표시",checked:p.showSibiUnseong,onChange:j=>S("showSibiUnseong",j)}),y.jsx(ql,{label:"신살 표시",checked:p.showSibiSinsal,onChange:j=>S("showSibiSinsal",j)})]})});default:return null}};return y.jsxs(y.Fragment,{children:[y.jsx("div",{className:`fixed inset-0 bg-black/60 transition-opacity duration-300 z-90 ${t?"opacity-100 pointer-events-auto":"opacity-0 pointer-events-none"}`,onClick:i}),y.jsxs("div",{className:`fixed bottom-0 left-1/2 translate-x-[-50%] w-full max-w-[640px] h-[88dvh] bg-white text-neutral-900 dark:bg-neutral-950 dark:text-white shadow-lg rounded-t-2xl transform transition-transform duration-300 z-99 ${t?"translate-y-0":"translate-y-full"}`,children:[y.jsxs("div",{className:"flex justify-between items-center p-4 border-b border-neutral-200 dark:border-neutral-800",children:[y.jsxs("div",{className:"flex items-center gap-2",children:[y.jsx("h2",{className:"text-lg font-bold",children:"설정"}),y.jsx("button",{onClick:x,className:"px-3 py-1 rounded bg-indigo-600 hover:bg-indigo-500 text-white text-sm cursor-pointer",children:"적용하기"})]}),y.jsx("button",{onClick:i,className:"p-1 rounded hover:bg-neutral-100 dark:hover:bg-neutral-900 cursor-pointer",children:y.jsx(s2,{size:22})})]}),y.jsx("div",{className:"p-4 overflow-y-auto h-[calc(100%-56px)] space-y-3",children:d.map(k=>y.jsxs("div",{draggable:!0,onDragStart:j=>A(j,k),onDragOver:R,onDrop:j=>z(j,k),className:"relative group cursor-grab active:cursor-grabbing",children:[y.jsx("div",{"data-drag-handle":!0,draggable:!0,onDragStart:j=>O(j,k),className:"absolute left-[14px] top-1/2 -translate-y-1/2 select-none text-neutral-400 group-hover:text-neutral-200 dark:group-hover:text-white cursor-grab active:cursor-grabbing",title:"드래그하여 순서 변경",role:"button",children:"☰"}),H(k)]},k))})]}),v&&y.jsx(e1,{message:v,onClose:()=>w(null),ms:1800})]})}function uj({value:t,onChange:i}){const o=t==="dark";return y.jsxs("button",{"data-no-drag":!0,onClick:()=>i(o?"light":"dark"),className:"flex items-center gap-2 px-3 py-1.5 rounded-md border text-sm cursor-pointer border-neutral-300 bg-white hover:bg-neutral-100 text-neutral-700 dark:border-neutral-700 dark:bg-neutral-900 dark:hover:bg-neutral-800 dark:text-neutral-200",title:"다크/라이트 전환","aria-pressed":o,children:[y.jsx("span",{className:"inline-block w-10 h-5 bg-neutral-300 rounded-full relative after:content-[''] after:w-4 after:h-4 after:bg-white after:rounded-full after:absolute after:top-0.5 after:left-0.5 after:transition-all dark:bg-neutral-700"}),y.jsx("span",{children:o?"다크":"라이트"})]})}function Or({title:t,children:i}){return y.jsxs("div",{className:"p-3 rounded-lg bg-neutral-50 border border-neutral-200 text-neutral-900 dark:bg-neutral-900 dark:border-neutral-800 dark:text-neutral-100 space-y-3",children:[y.jsx("h3",{className:"text-sm font-semibold text-center",children:t}),y.jsx("div",{className:"flex justify-center",children:i})]})}function go({value:t,onChange:i,options:o}){return y.jsx("div",{"data-no-drag":!0,className:"inline-flex rounded-md overflow-hidden border border-neutral-300 bg-white dark:border-neutral-700 dark:bg-neutral-800",children:o.map(l=>{const u=t===l.value;return y.jsx("button",{onClick:()=>i(l.value),className:`px-3 py-1 text-sm transition-colors ${u?"bg-indigo-600 text-white":"text-neutral-700 hover:bg-neutral-100 dark:text-neutral-300 dark:hover:bg-neutral-700 cursor-pointer"}`,children:l.label},l.value)})})}function ql({label:t,checked:i,onChange:o}){const l=`switch-${t}`;return y.jsxs("label",{"data-no-drag":!0,htmlFor:l,className:"flex items-center justify-between w-full max-w-[160px] text-sm cursor-pointer",children:[y.jsx("span",{children:t}),y.jsx("input",{id:l,type:"checkbox",checked:i,onChange:u=>o(u.target.checked),className:"peer hidden"}),y.jsx("span",{className:"w-10 h-5 bg-neutral-300 rounded-full relative after:content-[''] after:w-4 after:h-4 after:bg-white after:rounded-full after:absolute after:top-0.5 after:left-0.5 after:transition-all peer-checked:bg-green-600 peer-checked:after:translate-x-5 dark:bg-neutral-700 dark:peer-checked:bg-green-600"})]})}function dj({onShowToday:t,onShowCouple:i}){const[o,l]=P.useState(!1);return y.jsxs(y.Fragment,{children:[y.jsx("div",{className:"fixed h-[64px] bottom-0 left-0 right-0 bg-white border-t border-neutral-200 py-2 text-xs sm:text-sm z-50 dark:bg-neutral-950 dark:border-neutral-800",children:y.jsxs("nav",{className:"flex justify-around items-center max-w-[640px] w-full mx-auto",children:[y.jsx($m,{icon:y.jsx(tj,{size:22}),label:"오늘의 사주",onClick:t}),y.jsx($m,{icon:y.jsx(JO,{size:22}),label:"궁합",onClick:i}),y.jsx($m,{icon:y.jsx(rj,{size:22}),label:"기타설정",onClick:()=>l(!0)})]})}),y.jsx(cj,{open:o,onClose:()=>l(!1)})]})}function $m({icon:t,label:i,onClick:o}){return y.jsxs("button",{onClick:o,className:"flex flex-col items-center justify-center text-neutral-600 hover:text-purple-600 transition-colors cursor-pointer dark:text-neutral-300 dark:hover:text-purple-400",children:[t,y.jsx("span",{className:"mt-1",children:i})]})}function fj(t,i={}){const{onConfirm:o,onCancel:l,duration:u=Number.POSITIVE_INFINITY,id:d="confirm-center",disableBackdropClose:m=!1}=i;return im.custom(p=>{if(typeof window>"u"||!document?.body)return null;const b=()=>{im.dismiss(p.id),l?.()},v=()=>{im.dismiss(p.id),o?.()},w=()=>{const S=P.useRef(null);P.useEffect(()=>{S.current?.focus()},[]);const x=E=>{E.key==="Escape"&&(E.preventDefault(),b()),E.key==="Enter"&&(E.preventDefault(),v())};return y.jsxs("div",{ref:S,role:"alertdialog","aria-modal":"true","aria-live":"assertive",tabIndex:-1,onKeyDown:x,className:"fixed inset-0 z-[9999] flex items-center justify-center pointer-events-auto",children:[y.jsx("div",{className:"absolute inset-0 bg-black/40",onClick:m?void 0:b}),y.jsxs("div",{className:`relative bg-neutral-900 text-white px-4 py-3 rounded-lg shadow-lg border border-neutral-700 w-[min(92vw,520px)]
                         transition-all duration-100 ease-out`,children:[y.jsx("p",{className:"text-sm mb-3 whitespace-pre-line",children:t}),y.jsxs("div",{className:"flex gap-2 justify-end",children:[y.jsx("button",{type:"button",className:"px-3 py-1 text-sm rounded bg-neutral-700 hover:bg-neutral-600",onClick:b,children:"취소"}),y.jsx("button",{type:"button",className:"px-3 py-1 text-sm rounded bg-red-600 hover:bg-red-500",onClick:v,children:"확인"})]})]})]})};return hc.createPortal(y.jsx(w,{}),document.body)},{duration:u===Number.POSITIVE_INFINITY?4e3:u,id:d})}function Ni(t,i){const[o,l]=P.useState(i),[u,d]=P.useState(!1);return P.useEffect(()=>{try{if(typeof window>"u")return;const m=localStorage.getItem(t);m!=null&&l(JSON.parse(m))}catch{}finally{d(!0)}},[t]),P.useEffect(()=>{if(u)try{localStorage.setItem(t,JSON.stringify(o))}catch{}},[t,o,u]),[o,l,u]}function h_(t,i,o){const l=t.slice(),[u]=l.splice(i,1);return l.splice(o,0,u),l}const hj="list:__unassigned__",m_="list:";function mj(t,i){const[o,l]=Ni(Ld,[]),[u,d]=Ni(rA,{}),[m,p]=Ni(nA,[]),[b,v]=Ni(t1,[]),[w,S]=Ni("ms_folder_open",{}),[x,E]=Ni("ms_memo_open",{}),[A,O]=Ni("ms_new_folder_tmp",""),R=P.useRef(0);function z(et,K){const U=Date.now();U-R.current<450||(R.current=U,fj(et,{onConfirm:K,duration:Number.POSITIVE_INFINITY}))}const H=P.useMemo(()=>kd.filter(et=>!b.includes(et)),[b]),k=P.useMemo(()=>[...H,...o],[H,o]);P.useEffect(()=>{p(et=>{const K=et.filter(U=>k.includes(U));for(const U of k)K.includes(U)||K.push(U);return K})},[k,p]);const j=P.useMemo(()=>{const et=m.filter(U=>!!u[U]),K=m.filter(U=>!u[U]);return[...et,...K]},[m,u]);P.useEffect(()=>{S(et=>{const K={...et};for(const U of j)K[U]===void 0&&(K[U]=!0);return K})},[j,S]),P.useEffect(()=>{t.filter(Q=>Q.folder==="미분류").forEach(Q=>i(Q.id,{folder:void 0}));const K=new Set(k);t.filter(Q=>Q.folder&&!K.has(Q.folder)).forEach(Q=>i(Q.id,{folder:void 0}))},[t,k,i]);const{grouped:B,unassignedItems:V}=P.useMemo(()=>{const et={};for(const Q of j)et[Q]=[];const K=[];for(const Q of t){const mt=Q.folder;mt&&et[mt]?et[mt].push(Q):K.push(Q)}const U=(Q,mt)=>+!!mt.favorite-+!!Q.favorite;for(const Q of Object.keys(et))et[Q]=et[Q].slice().sort(U);return K.sort(U),{grouped:et,unassignedItems:K}},[t,j]);function J(et){const{destination:K,draggableId:U,type:Q,source:mt}=et;if(K){if(Q==="FOLDER"){const vt=U.replace(/^folder-/,""),$=m.filter(I=>!!u[I]),it=m.filter(I=>!u[I]);if(!!u[vt]){const I=$.indexOf(vt),D=Math.min($.length-1,K.index);p([...h_($,I,D),...it])}else{const I=it.indexOf(vt),D=Math.min(it.length-1,K.index-$.length);p([...$,...h_(it,I,D)])}return}if(Q==="ITEM"){const vt=U.replace(/^item:/,""),$=mt?.droppableId??"",it=K?.droppableId??"",ot=F=>{if(!F.startsWith(m_))return;const q=F.slice(m_.length);return q==="__unassigned__"?void 0:q},I=ot($),D=ot(it);if(I===D)return;const G=t.find(F=>F.id===vt);if(!G)return;i(G.id,{folder:D});return}}}function W(et){const K=et.trim();if(!K)return;const U=new Set([...j,...o]);let Q=K,mt=2;for(;U.has(Q);)Q=`${K} ${mt++}`;l(vt=>[...vt,Q]),S(vt=>({...vt,[Q]:!0})),O("")}function rt(et){t.filter(U=>U.folder===et).forEach(U=>i(U.id,{folder:void 0})),kd.includes(et)?v(U=>Array.from(new Set([...U,et]))):l(U=>U.filter(Q=>Q!==et)),S(U=>{const Q={...U};return delete Q[et],Q}),d(U=>{const Q={...U};return delete Q[et],Q}),p(U=>U.filter(Q=>Q!==et))}return{folderFavMap:u,setFolderFavMap:d,folderOpenMap:w,setFolderOpenMap:S,memoOpenMap:x,setMemoOpenMap:E,newFolderName:A,setNewFolderName:O,orderedFolders:j,grouped:B,unassignedItems:V,confirmThrottled:z,handleDragEnd:J,createFolder:W,deleteFolder:rt,displayFolderLabel:iA,UNASSIGNED_LABEL:dn,DROPPABLE_UNASSIGNED:hj}}function pj(t,i){if(!/^\d{8}$/.test(t))return t||"";const o=t.slice(0,4),l=t.slice(4,6),u=t.slice(6,8);return i&&/^\d{4}$/.test(i)?`${o}년 ${l}월 ${u}일생 ${i.slice(0,2)}:${i.slice(2,4)}분`:i==="모름"?`${o}년 ${l}월 ${u}일생 (시간 모름)`:`${o}년 ${l}월 ${u}일생`}function gj(t){if(!t)return"";const i=t.split(/[\s,]+/).filter(Boolean);if(i.length===0)return"";const o=m=>i.find(p=>m.some(b=>p.endsWith(b))),l=o(["시","군","구"]),u=o(["동","읍","면","리"]);return i.length===1||!o(["시","군","구","동","읍","면","리"])&&!o(["도","광역시","특별시","자치시","자치도"])?t:l&&u?`${l} ${u}`:l||t}function bj(t){if(!/^\d{8}$/.test(t))return"-";const i=Number(t.slice(0,4)),o=Number(t.slice(4,6)),l=Number(t.slice(6,8)),u=new Date;let d=u.getFullYear()-i;return(u.getMonth()+1<o||u.getMonth()+1===o&&u.getDate()<l)&&d--,d}function vj(t){return(t.ganji??"").replace(/\r\n/g,`
`).replace(/\s*null시\s*/gi,"").trim()}function bp(t){return typeof t=="object"&&t!==null}function yj(t){if(!bp(t))throw new Error("Invalid lunar2solar result");const i=t,o=i.cYear,l=i.cMonth,u=i.cDay;if(typeof o!="number"||typeof l!="number"||typeof u!="number")throw new Error("Invalid lunar2solar fields");const d=i.isLeap;return{cYear:o,cMonth:l,cDay:u,isLeap:typeof d=="boolean"?d:void 0}}function _j(t){const i=bp(t)&&"default"in t?t.default:t;if(!bp(i))throw new Error("solarlunar module invalid");const o=i.lunar2solar;if(typeof o!="function")throw new Error("solarlunar.lunar2solar not found");return(l,u,d)=>yj(o(l,u,d,!1))}const xj=_j(wo);function d2(t){const i=t.mingSikType??"야자시";let o=Number(t.birthDay.slice(0,4)),l=Number(t.birthDay.slice(4,6)),u=Number(t.birthDay.slice(6,8));if(t.calendarType==="lunar"){const z=xj(o,l,u);o=z.cYear,l=z.cMonth,u=z.cDay}const d=!t.birthTime||t.birthTime==="모름",m=d?0:Number(t.birthTime.slice(0,2)||"0"),p=d?0:Number(t.birthTime.slice(2,4)||"0"),b=!t.birthPlace||t.birthPlace.name==="모름"||t.birthPlace.lon===0?127.5:t.birthPlace.lon,v=new Date(o,l-1,u,m,p,0,0),w=js(v,b),S=d?"":w.toLocaleTimeString("ko-KR",{hour:"2-digit",minute:"2-digit"}),x=Pe(w,b),E=jn(w,b),A=qe(w,i),O=d?null:Ci(w,i),R=[`원국 : ${x}년 ${E}월 ${A}일`,O?`${O}시`:null].filter(Boolean).join(" ");return{correctedLocal:S,ganji:R}}const Vl="list:__unassigned__",ud=t=>`list:${t}`,Um=t=>{if(!t.startsWith("list:"))return;const i=t.slice(5);return i==="__unassigned__"?void 0:i};function Sj(){const t=P.useMemo(()=>{const i=document.createElement("div");return i.style.position="fixed",i.style.top="0",i.style.left="0",i.style.width="100%",i.style.height="100%",i.style.zIndex="9999",i.style.pointerEvents="none",i},[]);return P.useEffect(()=>(document.body.appendChild(t),()=>{try{document.body.removeChild(t)}catch{}}),[t]),(i,o)=>o?hc.createPortal(i,t):i}function wj({open:t,onClose:i,onView:o,onAddNew:l,onEdit:u}){const{list:d,remove:m,update:p}=gc(),{folderFavMap:b,setFolderFavMap:v,folderOpenMap:w,setFolderOpenMap:S,memoOpenMap:x,setMemoOpenMap:E,newFolderName:A,setNewFolderName:O,orderedFolders:R,grouped:z,unassignedItems:H,confirmThrottled:k,handleDragEnd:j,createFolder:B,deleteFolder:V,UNASSIGNED_LABEL:J,displayFolderLabel:W}=mj(d,p),[rt,et]=Ni("ms_order_map",{}),[K,U]=Ni("folder_order",[]),[Q,mt]=P.useState(!1),vt=Sj(),$=(q,tt)=>{const lt=new Map(tt.map(bt=>[bt.id,bt])),ht=rt[q]??[],wt=[];for(const bt of ht){const Tt=lt.get(bt);Tt&&(wt.push(Tt),lt.delete(bt))}return lt.forEach(bt=>wt.push(bt)),wt},it=[J,...R];P.useEffect(()=>{et(q=>{let tt=!1;const lt={...q},ht=Vl;if(!lt[ht])lt[ht]=H.map(wt=>wt.id),tt=!0;else{const wt=H.map(bt=>bt.id).filter(bt=>!lt[ht].includes(bt));wt.length&&(lt[ht]=[...lt[ht],...wt],tt=!0)}for(const wt of R){const bt=ud(wt),Tt=z[wt]||[];if(!lt[bt])lt[bt]=Tt.map($t=>$t.id),tt=!0;else{const $t=Tt.map(Wt=>Wt.id).filter(Wt=>!lt[bt].includes(Wt));$t.length&&(lt[bt]=[...lt[bt],...$t],tt=!0)}}return tt?lt:q})},[H,z,R,et]);const ot=q=>{const tt=Um(q),lt=tt?z[tt]||[]:H;return $(q,lt).map(ht=>ht.id)},I=(q,tt)=>q?tt?{...q,transition:"transform 160ms cubic-bezier(0.2, 0, 0.2, 1)"}:q:{},D=(q,tt)=>{const lt=!!x[q.id],ht=vj(q),wt=gj(q.birthPlace?.name),bt=`item:${q.id}`;let Tt=new Date(q.corrected);return jd(Tt.getFullYear(),Tt.getMonth()+1,Tt.getDate())&&(Tt=new Date(Tt.getTime()-3600*1e3)),y.jsx(Od,{draggableId:bt,index:tt,children:(Wt,Pt)=>vt(y.jsx("li",{ref:Wt.innerRef,...Wt.draggableProps,style:I(Wt.draggableProps.style,Pt.isDropAnimating),className:`list-none select-none rounded-xl border
                         bg-white dark:bg-neutral-900
                         border-neutral-200 dark:border-neutral-800
                         text-neutral-900 dark:text-neutral-100`,children:y.jsxs("div",{className:"p-3",children:[y.jsxs("div",{className:"flex items-center gap-2",children:[y.jsxs("div",{className:"font-semibold text-sm desk:text-base",children:[q.name," (",bj(q.birthDay),"세, ",q.gender,")"]}),y.jsx("span",{className:"opacity-40",children:"｜"}),y.jsx("div",{className:"text-sm text-neutral-600 dark:text-neutral-300",children:q.relationship?q.relationship:"관계 미지정"}),y.jsx("button",{"aria-label":"드래그",...Wt.dragHandleProps,className:"ml-auto p-1.5 rounded cursor-grab active:cursor-grabbing hover:bg-neutral-100 dark:hover:bg-neutral-800",style:{touchAction:"none"},children:y.jsx(gp,{size:16})})]}),y.jsxs("div",{className:"text-sm text-neutral-600 dark:text-neutral-300 mt-1",children:[pj(q.birthDay,q.birthTime),", ",q.calendarType==="lunar"?"음력":"양력"]}),(wt||Tt)&&y.jsxs("div",{className:"text-sm text-neutral-500 dark:text-neutral-400",children:[wt,Tt&&y.jsxs("span",{className:"opacity-70",children:[" · 보정시 ",uN(Tt)]})]}),ht&&y.jsx("div",{className:"text-sm text-neutral-800 dark:text-neutral-200 mt-1 whitespace-pre-wrap break-keep",children:ht}),q.memo&&q.memo.trim()!==""&&y.jsxs("div",{children:[y.jsx("button",{type:"button",className:"text-xs text-neutral-500 dark:text-neutral-400 hover:text-neutral-800 dark:hover:text-neutral-200 inline-flex items-center gap-1 cursor-pointer",onClick:Bt=>{Bt.stopPropagation(),E(re=>({...re,[q.id]:!re[q.id]}))},children:lt?"메모 닫기":"메모 열기"}),y.jsx("div",{className:lt?"mt-1 text-sm text-neutral-800 dark:text-neutral-200 whitespace-pre-wrap":"hidden",children:q.memo})]}),y.jsxs("div",{className:"flex flex-wrap gap-2 mt-3",children:[y.jsx("select",{className:`h-30 text-xs rounded px-2 py-1 cursor-pointer
                               bg-white dark:bg-neutral-900
                               border border-neutral-300 dark:border-neutral-700
                               text-neutral-900 dark:text-neutral-100
                               focus:outline-none focus:ring-2 focus:ring-amber-500/40`,value:W(q.folder),onChange:Bt=>{const re=Bt.target.value,me=uc(re),fe=q.id,pe=q.folder?ud(q.folder):Vl,Mt=me?ud(me):Vl;me&&!R.includes(me)&&B(me),et(Vt=>{const Kt={...Vt},Ot=ot(pe),ie=pe===Mt?Ot.slice():ot(Mt).slice(),Ee=Ot.indexOf(fe);Ee>=0&&Ot.splice(Ee,1);const _e=ie.indexOf(fe);return _e>=0&&ie.splice(_e,1),ie.unshift(fe),Kt[pe]=Ot,Kt[Mt]=ie,Kt}),p(fe,{folder:me})},children:it.map(Bt=>y.jsx("option",{value:Bt,children:Bt},Bt))}),y.jsxs("select",{className:`h-30 text-xs rounded px-2 py-1 cursor-pointer
                               bg-white dark:bg-neutral-900
                               border border-neutral-300 dark:border-neutral-700
                               text-neutral-900 dark:text-neutral-100
                               focus:outline-none focus:ring-2 focus:ring-amber-500/40`,value:q.mingSikType??"야자시",onChange:Bt=>{const re=Bt.target.value,me={...q,mingSikType:re},fe=d2(me);p(q.id,{mingSikType:re,...fe}),o({...me,...fe}),i()},children:[y.jsx("option",{value:"야자시",children:"야자시명식"}),y.jsx("option",{value:"조자시",children:"조자시명식"}),y.jsx("option",{value:"인시",children:"인시명식"})]})]}),y.jsxs("div",{className:"flex gap-2 mt-3",children:[y.jsx("button",{onClick:Bt=>{Bt.stopPropagation(),o(q),i()},className:`px-3 py-1 rounded text-white text-sm cursor-pointer
                               bg-indigo-600 hover:bg-indigo-500`,children:"보기"}),y.jsx("button",{onClick:Bt=>{Bt.stopPropagation(),u?.(q)},className:`px-3 py-1 rounded text-white text-sm cursor-pointer
                               bg-amber-600 hover:bg-amber-500`,children:"수정"}),y.jsx("button",{onClick:Bt=>{Bt.stopPropagation(),k(`'${q.name}' 명식을 삭제할까요?`,()=>m(q.id))},className:`px-3 py-1 rounded text-white text-sm cursor-pointer
                               bg-red-600 hover:bg-red-500`,children:"삭제"}),y.jsx("button",{type:"button",onClick:Bt=>{Bt.stopPropagation(),p(q.id,{favorite:!q.favorite})},className:`ml-auto p-1 rounded cursor-pointer ${q.favorite?"text-yellow-400":"text-neutral-400"} hover:text-yellow-400`,children:y.jsx(d_,{size:16,fill:q.favorite?"currentColor":"none"})})]})]})}),Pt.isDragging)},bt)},G=q=>{const{source:tt,destination:lt,draggableId:ht,type:wt}=q;if(lt){if(wt==="FOLDER"){j(q);const bt=Array.from(K),[Tt]=bt.splice(tt.index,1);bt.splice(lt.index,0,Tt),U(bt);return}if(wt==="ITEM"){const bt=ht.replace(/^item:/,""),Tt=tt.droppableId,$t=lt.droppableId;et(Bt=>{const re={...Bt},me=ot(Tt),fe=Tt===$t?me.slice():ot($t).slice();if(Tt===$t){const[Vt]=fe.splice(tt.index,1);return fe.splice(lt.index,0,Vt),re[Tt]=fe,re}const pe=me.indexOf(bt);pe>=0&&me.splice(pe,1);const Mt=fe.indexOf(bt);return Mt>=0&&fe.splice(Mt,1),fe.splice(lt.index,0,bt),re[Tt]=me,re[$t]=fe,re});const Wt=Um(Tt),Pt=Um($t);Wt!==Pt&&p(bt,{folder:Pt})}}},F=[...K.filter(q=>R.includes(q)),...R.filter(q=>!K.includes(q))];return y.jsxs(y.Fragment,{children:[y.jsx("div",{className:`fixed inset-0 bg-black/70 transition-opacity duration-300 z-90 ${t?"opacity-100 pointer-events-auto":"opacity-0 pointer-events-none"}`,onClick:i}),y.jsxs("div",{className:`fixed top-0 left-0 h-[calc(100dvh_-_0px)] w-full sm:w-1/3
                    bg-white dark:bg-neutral-950
                    text-neutral-900 dark:text-white
                    shadow-lg z-99
                    ${Q?"transform-none":"transform transition-transform duration-300"}
                    ${t?Q?"":"translate-x-0":"-translate-x-full"}`,children:[y.jsxs("div",{className:"flex justify-between items-center h-12 desk:h-16 p-4 border-b border-neutral-200 dark:border-neutral-800",children:[y.jsx("h2",{className:"text-lg font-bold",children:"명식 리스트"}),y.jsxs("div",{className:"flex items-center gap-2",children:[y.jsxs("button",{type:"button",onClick:()=>{l(),i()},className:`inline-flex items-center gap-1 px-3 py-1.5 rounded text-sm cursor-pointer
                         bg-purple-600 hover:bg-purple-500 text-white`,children:[y.jsx(nj,{size:16})," 명식추가"]}),y.jsx("button",{onClick:i,className:"p-1 rounded cursor-pointer hover:bg-neutral-100 dark:hover:bg-neutral-900",children:y.jsx(s2,{size:22})})]})]}),y.jsx(qp,{onDragStart:()=>mt(!0),onDragEnd:q=>{mt(!1),G(q)},children:y.jsxs("div",{className:"p-4 overflow-y-auto h-[calc(100%-56px)] overscroll-contain",style:{touchAction:"pan-y",WebkitOverflowScrolling:"touch"},children:[y.jsxs("div",{className:"flex items-center mb-2 gap-2",children:[y.jsx("input",{type:"text",value:A,onChange:q=>O(q.target.value),placeholder:"새 폴더 이름",className:`flex-1 w-[60%] px-2 py-1 rounded h-30
                           bg-white dark:bg-neutral-900
                           border border-neutral-300 dark:border-neutral-700
                           text-sm text-neutral-900 dark:text-neutral-100
                           placeholder-neutral-400 dark:placeholder-neutral-500`}),y.jsx("button",{type:"button",onClick:()=>B(A),className:`px-3 rounded h-30 text-sm cursor-pointer
                           bg-neutral-100 hover:bg-neutral-200
                           dark:bg-neutral-800 dark:hover:bg-neutral-700
                           text-neutral-900 dark:text-neutral-100
                           border border-neutral-200 dark:border-neutral-700`,children:"생성"})]}),y.jsx("p",{className:"text-xs text-neutral-600 dark:text-neutral-400 mb-2",children:"명식/폴더를 드래그 하여 순서를 바꿀 수 있습니다."}),y.jsx(Jl,{droppableId:Vl,type:"ITEM",direction:"vertical",ignoreContainerClipping:!0,children:q=>{const tt=$(Vl,H);return y.jsx("div",{ref:q.innerRef,...q.droppableProps,className:"mb-6",children:y.jsxs("ul",{className:"space-y-3",children:[tt.map((lt,ht)=>D(lt,ht)),q.placeholder]})})}}),y.jsx(Jl,{droppableId:"folders:root",type:"FOLDER",direction:"vertical",ignoreContainerClipping:!0,children:q=>y.jsxs("div",{ref:q.innerRef,...q.droppableProps,children:[F.map((tt,lt)=>{const ht=ud(tt),wt=$(ht,z[tt]||[]),bt=!!w[tt],Tt=!!b[tt];return y.jsx(Od,{draggableId:`folder-${tt}`,index:lt,children:($t,Wt)=>vt(y.jsxs("div",{ref:$t.innerRef,...$t.draggableProps,style:I($t.draggableProps.style,Wt.isDropAnimating),className:"mb-4",children:[y.jsxs("div",{className:`flex items-center justify-between px-2 py-2 rounded
                                           bg-neutral-50 dark:bg-neutral-900/70
                                           border border-neutral-200 dark:border-neutral-800
                                           text-neutral-800 dark:text-neutral-200`,children:[y.jsxs("div",{className:"flex items-center gap-2",children:[y.jsxs("button",{type:"button",onClick:Pt=>{Pt.stopPropagation(),S(Bt=>({...Bt,[tt]:!bt}))},className:"inline-flex items-center gap-1 text-sm font-semibold cursor-pointer",children:[bt?y.jsx(QO,{size:16}):y.jsx(WO,{size:16}),y.jsx("span",{className:"text-sm font-semibold",children:tt})]}),y.jsx("button",{"aria-label":"폴더 드래그",...$t.dragHandleProps,className:"p-1 rounded cursor-grab active:cursor-grabbing hover:bg-neutral-100 dark:hover:bg-neutral-800",style:{touchAction:"none"},children:y.jsx(gp,{size:16})}),y.jsx("button",{type:"button",onClick:Pt=>{Pt.stopPropagation(),v(Bt=>({...Bt,[tt]:!Bt[tt]}))},className:`p-1 rounded cursor-pointer ${Tt?"text-yellow-400":"text-neutral-400"} hover:text-yellow-400`,children:y.jsx(d_,{size:16,fill:Tt?"currentColor":"none"})})]}),y.jsxs("div",{className:"flex items-center gap-2",children:[y.jsxs("span",{className:"opacity-60 text-xs",children:[wt.length,"개"]}),y.jsx("button",{type:"button",onClick:Pt=>{if(Pt.stopPropagation(),b[tt]){k(`'${tt}' 폴더는 즐겨찾기 되어 있습니다.
즐겨찾기 해제 후 삭제해주세요.`,()=>{});return}k(`'${tt}' 폴더를 삭제할까요?
(소속 항목은 바깥으로 이동합니다)`,()=>V(tt))},className:`px-2 py-1 rounded text-xs cursor-pointer
                                               border border-red-300 dark:border-red-700
                                               text-red-700 dark:text-red-300
                                               hover:bg-red-50 dark:hover:bg-red-900/30`,children:"삭제"})]})]}),bt&&y.jsx(Jl,{droppableId:ht,type:"ITEM",direction:"vertical",ignoreContainerClipping:!0,children:Pt=>y.jsx("div",{ref:Pt.innerRef,...Pt.droppableProps,className:"mt-2",children:y.jsxs("ul",{className:"space-y-3",children:[wt.map((Bt,re)=>D(Bt,re)),Pt.placeholder]})})})]}),Wt.isDragging)},`folder-${tt}`)}),q.placeholder]})})]})})]})]})}function vp(t){return typeof t=="object"&&t!==null}function Tj(t){if(!vp(t))throw new Error("Invalid lunar2solar result");const i=t.cYear,o=t.cMonth,l=t.cDay,u=t.isLeap;if(typeof i!="number"||typeof o!="number"||typeof l!="number")throw new Error("Invalid lunar2solar fields");return{cYear:i,cMonth:o,cDay:l,isLeap:typeof u=="boolean"?u:void 0}}function Ej(t){const i=vp(t)&&"default"in t?t.default:t;if(!vp(i))throw new Error("solarlunar module invalid");const o=i.lunar2solar;if(typeof o!="function")throw new Error("solarlunar.lunar2solar not found");return{lunar2solar:(u,d,m,p)=>{const b=o(u,d,m,p);return Tj(b)}}}const Mj=Ej(wo);function Gm(t,i,o){const l=Mj.lunar2solar(t,i,o,!1);return{y:l.cYear,m:l.cMonth,d:l.cDay}}const p_="ms_folders",Zm="w-full rounded p-2 border transition-colors duration-200 bg-white text-neutral-900 placeholder-neutral-400 border-neutral-300 focus:outline-none focus:ring-2 focus:ring-violet-500 focus:border-transparent dark:bg-neutral-900 dark:text-neutral-100 dark:placeholder-neutral-500 dark:border-neutral-700 dark:focus:ring-violet-400",Dj="w-full rounded p-2 border transition-colors duration-200 bg-white text-neutral-900 border-neutral-300 focus:outline-none focus:ring-2 focus:ring-violet-500 focus:border-transparent dark:bg-neutral-900 dark:text-neutral-100 dark:border-neutral-700 dark:focus:ring-violet-400",Aj="w-full rounded p-2 border min-h-28 transition-colors duration-200 bg-white text-neutral-900 placeholder-neutral-400 border-neutral-300 focus:outline-none focus:ring-2 focus:ring-violet-500 focus:border-transparent dark:bg-neutral-900 dark:text-neutral-100 dark:placeholder-neutral-500 dark:border-neutral-700 dark:focus:ring-violet-400",Ai="block text-sm mb-1 font-medium text-neutral-800 dark:text-neutral-200",Nj="text-xs text-neutral-500 dark:text-neutral-400",dd="accent-violet-600 dark:accent-violet-400",g_="accent-violet-600 dark:accent-violet-400",rf="px-3 py-1.5 rounded text-sm font-medium transition-colors duration-200 focus:outline-none focus:ring-2 focus:ring-offset-2 dark:focus:ring-offset-neutral-900",Oj=`${rf} bg-amber-600 text-white hover:bg-amber-500 dark:bg-amber-600 dark:hover:bg-amber-500 cursor-pointer`,jj=`${rf} bg-red-600 text-white hover:bg-red-500 dark:bg-red-600 dark:hover:bg-red-500 cursor-pointer`,b_=`${rf} bg-neutral-800 text-white hover:bg-neutral-700 dark:bg-neutral-700 dark:hover:bg-neutral-600 cursor-pointer`,kj=`${rf} bg-green-600 text-white hover:bg-green-500 dark:bg-green-600 dark:hover:bg-green-500 cursor-pointer`;function Lj({item:t,onClose:i}){const{list:o,update:l,remove:u}=gc(),[d,m]=P.useState(!1),[p,b]=P.useState({...t,calendarType:t.calendarType??"solar"}),[v,w]=P.useState(!t.birthTime||t.birthTime==="모름"),[S,x]=P.useState(!t.birthPlace||t.birthPlace.name==="모름"),E=P.useMemo(()=>["가족","친구","직장","지인","고객","기타"],[]),[A,O]=P.useState([]);P.useEffect(()=>{try{const B=JSON.parse(localStorage.getItem(p_)||"[]");Array.isArray(B)&&O(B)}catch{}},[]);const R=P.useMemo(()=>{const B=Array.from(new Set(o.map(W=>W.folder).filter(Boolean))),V=new Set([...E,...A,...B]),J=Array.from(V).sort((W,rt)=>W.localeCompare(rt));return[dn,...J]},[o,A,E]),z=()=>{b({...t,calendarType:t.calendarType??"solar"}),w(!t.birthTime||t.birthTime==="모름"),x(!t.birthPlace||t.birthPlace.name==="모름")},H=()=>{if(!p.name||p.name.trim()==="")return"이름을 입력해주세요.";if(!p.birthDay||!/^\d{8}$/.test(p.birthDay))return"생년월일은 YYYYMMDD 형식으로 입력해주세요.";const B=Number(p.birthDay.slice(0,4)),V=Number(p.birthDay.slice(4,6)),J=Number(p.birthDay.slice(6,8));if(p.calendarType==="lunar")try{Gm(B,V,J)}catch(W){return W instanceof Error?W.message:"음력 날짜가 유효하지 않습니다."}else{const W=new Date(B,V-1,J);if(W.getFullYear()!==B||W.getMonth()+1!==V||W.getDate()!==J)return"존재하지 않는 양력 날짜입니다."}if(!v){if(!p.birthTime||!/^\d{4}$/.test(p.birthTime))return"태어난 시간은 0000–2359 형식(4자리)으로 입력해주세요.";const W=Number(p.birthTime.slice(0,2)),rt=Number(p.birthTime.slice(2,4));if(W<0||W>23||rt<0||rt>59)return"태어난 시간은 0000–2359 범위여야 합니다."}return!S&&!p.birthPlace?"태어난 지역을 선택하거나 '모름'을 체크해주세요.":null},k=()=>{const B=H();if(B){alert(B);return}const V=!t.birthTime||t.birthTime==="모름",J=!t.birthPlace;let W=Number(t.birthDay.slice(0,4)),rt=Number(t.birthDay.slice(4,6)),et=Number(t.birthDay.slice(6,8));if(t.calendarType==="lunar"){const lt=Gm(W,rt,et);W=lt.y,rt=lt.m,et=lt.d}const K=V?0:Number(t.birthTime.slice(0,2)||"0"),U=V?0:Number(t.birthTime.slice(2,4)||"0"),Q=new Date(W,rt-1,et,K,U,0,0),mt=J||!t.birthPlace||t.birthPlace.lon===0?127.5:t.birthPlace.lon,vt=js(Q,mt),$=Pe(vt,mt),it=uc(p.folder===dn?void 0:p.folder);function ot(lt,ht){const bt=["甲","丙","戊","庚","壬","갑","병","무","경","임"].includes(lt),Tt=ht==="남자";return bt?Tt?"forward":"backward":Tt?"backward":"forward"}const I=$.charAt(0),D=ot(I,p.gender??"남자"),G={...t,name:p.name?.trim()||"이름없음",birthDay:p.birthDay,birthTime:v?"모름":p.birthTime,gender:p.gender??"남자",birthPlace:S?{name:"모름",lat:0,lon:127.5}:p.birthPlace??{name:"",lat:0,lon:127.5},relationship:p.relationship??"",memo:p.memo??"",mingSikType:p.mingSikType??"야자시",DayChangeRule:p.mingSikType==="인시"?"인시일수론":"자시일수론",folder:it,calendarType:p.calendarType??"solar",id:t.id,correctedLocal:t.correctedLocal??"",ganji:t.ganji??"",dir:D,corrected:vt,dateObj:p.dateObj||new Date,dayStem:p.dayStem||"갑",ganjiText:p.ganjiText||"갑자년 갑자월 갑자일 갑자시"},{correctedLocal:F,ganji:q}=d2(G),tt={...G,correctedLocal:F,ganji:q};if(tt.folder&&!E.includes(tt.folder)&&!A.includes(tt.folder)){const lt=[...A,tt.folder];O(lt),localStorage.setItem(p_,JSON.stringify(lt))}l(t.id,tt),m(!1),i&&i()},j=()=>{confirm(`'${t.name}' 명식을 삭제할까요?`)&&u(t.id)};return d?y.jsxs("div",{className:"space-y-4 max-h-[calc(90dvh_-_40px)] overflow-auto transition-colors duration-200 bg-white text-neutral-900 dark:bg-neutral-950 dark:text-neutral-100 p-4 rounded-xl",children:[y.jsx("h3",{className:"text-lg font-bold",children:"명식 수정"}),y.jsxs("div",{children:[y.jsx("label",{className:Ai,children:"이름"}),y.jsx("input",{className:Zm,value:p.name||"",onChange:B=>b({...p,name:B.target.value}),placeholder:"이름"})]}),y.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3",children:[y.jsxs("div",{children:[y.jsx("label",{className:Ai,children:"생년월일 (YYYYMMDD)"}),y.jsx("input",{className:Zm,value:p.birthDay||"",onChange:B=>b({...p,birthDay:B.target.value.replace(/\D/g,"").slice(0,8)}),inputMode:"numeric",maxLength:8,placeholder:"예: 19900101"}),y.jsxs("div",{className:"flex gap-4 mt-2 items-center justify-between",children:[y.jsxs("div",{className:"flex gap-4",children:[y.jsxs("span",{className:"inline-flex items-center gap-1",children:[y.jsx("input",{type:"radio",className:dd,name:"calendarType",checked:p.calendarType==="solar",onChange:()=>b({...p,calendarType:"solar"}),id:"editor_calendar_solar"}),y.jsx("label",{htmlFor:"editor_calendar_solar",className:"inline-flex items-center gap-1 text-sm text-neutral-800 dark:text-neutral-200",children:"양력"})]}),y.jsxs("span",{className:"inline-flex items-center gap-1",children:[y.jsx("input",{type:"radio",className:dd,name:"calendarType",checked:p.calendarType==="lunar",onChange:()=>b({...p,calendarType:"lunar"}),id:"editor_calendar_lunar"}),y.jsx("label",{htmlFor:"editor_calendar_lunar",className:"inline-flex items-center gap-1 text-sm text-neutral-800 dark:text-neutral-200",children:"음력"})]})]}),p.calendarType==="lunar"&&p.birthDay?.length===8&&y.jsx("span",{className:Nj,children:(()=>{try{const B=Number(p.birthDay.slice(0,4)),V=Number(p.birthDay.slice(4,6)),J=Number(p.birthDay.slice(6,8)),W=Gm(B,V,J);return`→ 양력 ${W.y}-${String(W.m).padStart(2,"0")}-${String(W.d).padStart(2,"0")}`}catch(B){const V=B instanceof Error?B.message:void 0;return`→ 변환 실패${V?`: ${V}`:""}`}})()})]})]}),y.jsxs("div",{children:[y.jsx("label",{className:Ai,children:"태어난 시간 (HHMM)"}),y.jsx("input",{className:`${Zm} disabled:opacity-50`,value:v?"":p.birthTime||"",onChange:B=>b({...p,birthTime:B.target.value.replace(/\D/g,"").slice(0,4)}),inputMode:"numeric",maxLength:4,placeholder:"예: 1524",disabled:v}),y.jsxs("div",{className:"mt-1 text-sm flex items-center gap-2",children:[y.jsx("input",{type:"checkbox",className:g_,checked:v,onChange:B=>w(B.target.checked),id:"editor_birthTimeX"}),y.jsx("label",{htmlFor:"editor_birthTimeX",className:"text-neutral-800 dark:text-neutral-200",children:"모름"})]})]})]}),y.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3",children:[y.jsxs("div",{children:[y.jsx("label",{className:Ai,children:"명식 기준"}),y.jsx("div",{className:"flex gap-4 text-sm",children:["야자시","조자시","인시"].map(B=>{const V=`editor_ming_${B}`;return y.jsxs("span",{className:"inline-flex items-center gap-1",children:[y.jsx("input",{type:"radio",className:dd,name:"mingSikType",checked:(p.mingSikType??"조자시")===B,onChange:()=>b({...p,mingSikType:B}),id:V}),y.jsx("label",{htmlFor:V,className:"text-neutral-800 dark:text-neutral-200",children:B})]},B)})})]}),y.jsxs("div",{children:[y.jsx("label",{className:Ai,children:"성별"}),y.jsx("div",{className:"flex gap-4 text-sm",children:["남자","여자"].map(B=>{const V=`editor_gender_${B}`;return y.jsxs("span",{className:"inline-flex items-center gap-1",children:[y.jsx("input",{type:"radio",className:dd,name:"gender",checked:p.gender===B,onChange:()=>b({...p,gender:B}),id:V}),y.jsx("label",{htmlFor:V,className:"text-neutral-800 dark:text-neutral-200",children:B})]},B)})})]})]}),y.jsxs("div",{children:[y.jsx("label",{className:Ai,children:"태어난 지역"}),y.jsx(U_,{onSelect:B=>b({...p,birthPlace:B}),value:S?"출생지선택":p.birthPlace?.name??""}),y.jsxs("div",{className:"mt-1 text-sm flex items-center gap-2",children:[y.jsx("input",{type:"checkbox",className:g_,checked:S,onChange:B=>x(B.target.checked),id:"editor_birthPlaceX"}),y.jsx("label",{htmlFor:"editor_birthPlaceX",className:"text-neutral-800 dark:text-neutral-200",children:"모름"})]})]}),y.jsxs("div",{children:[y.jsx("label",{className:Ai,children:"관계"}),y.jsx(Jx,{value:p.relationship||"",onChange:B=>b({...p,relationship:B})})]}),y.jsxs("div",{children:[y.jsx("label",{className:Ai,children:"폴더"}),y.jsx("select",{className:Dj,value:p.folder??dn,onChange:B=>{const V=B.target.value;b(V===dn?{...p,folder:void 0}:{...p,folder:V})},children:R.map(B=>y.jsx("option",{value:B===dn?dn:B,children:B},B))})]}),y.jsxs("div",{children:[y.jsx("label",{className:Ai,children:"메모"}),y.jsx("textarea",{className:Aj,value:p.memo||"",onChange:B=>b({...p,memo:B.target.value}),placeholder:"메모를 입력하세요"})]}),y.jsxs("div",{className:"flex gap-2 justify-end",children:[y.jsx("button",{className:b_,onClick:()=>{z(),m(!1)},children:"취소"}),y.jsx("button",{className:kj,onClick:k,children:"저장"})]})]}):y.jsxs("div",{className:"p-4 space-y-3 transition-colors duration-200 bg-white text-neutral-900 dark:bg-neutral-950 dark:text-neutral-100",children:[y.jsxs("div",{className:"flex items-center justify-between",children:[y.jsxs("h3",{className:"text-lg font-bold",children:[" ",t.name," "]}),y.jsxs("div",{className:"flex gap-2",children:[y.jsx("button",{className:Oj,onClick:()=>m(!0),children:"수정"}),y.jsx("button",{className:jj,onClick:j,children:"삭제"}),i&&y.jsx("button",{className:b_,onClick:i,children:"닫기"})]})]}),y.jsxs("div",{className:"text-sm text-neutral-700 dark:text-neutral-300",children:[y.jsxs("div",{children:["성별: ",t.gender]}),y.jsxs("div",{children:["생년월일/시간: ",t.birthDay," ",t.birthTime==="모름"?"(시간 모름)":t.birthTime,","," ",t.calendarType==="lunar"?"음력":"양력"]}),y.jsxs("div",{children:["보정시: ",t.correctedLocal||"-"]}),y.jsxs("div",{children:["출생지: ",t.birthPlace?.name||"-"]}),y.jsxs("div",{children:["관계: ",t.relationship||"-"]}),y.jsxs("div",{children:["폴더: ",t.folder??dn]})]}),t.ganji&&y.jsx("div",{className:"text-sm text-red-500 whitespace-pre-wrap",children:t.ganji}),t.memo&&y.jsxs("div",{className:"text-sm whitespace-pre-wrap text-neutral-800 dark:text-neutral-200",children:[y.jsx("p",{className:"mb-1 font-semibold",children:"메모"}),t.memo]})]})}const Cj=["갑","을","병","정","무","기","경","신","임","계","甲","乙","丙","丁","戊","己","庚","辛","壬","癸"],Bj=["자","축","인","묘","진","사","오","미","신","유","술","해","子","丑","寅","卯","辰","巳","午","未","申","酉","戌","亥"],Rj=new Set(Cj),Pj=new Set(Bj);function v_(t){return typeof t=="string"&&t.length>=2&&Rj.has(t[0])&&Pj.has(t[1])}function $e(t,...i){if(v_(t))return t;for(const o of i)if(v_(o))return o;return"甲子"}function fd(t,i){let o=null;const l=i.getTime();for(const u of t)if(u.at.getTime()<=l)o=u;else break;return o}function zj(t){const i=o=>String(o).padStart(2,"0");return`${t.getFullYear()}-${i(t.getMonth()+1)}-${i(t.getDate())}T${i(t.getHours())}:${i(t.getMinutes())}`}function y_(t){if(!t)return null;const i=/^(\d{4})-(\d{2})-(\d{2})T(\d{2}):(\d{2})$/.exec(t);if(!i)return null;const[,o,l,u,d,m]=i,p=new Date(+o,+l-1,+u,+d,+m);return Number.isNaN(p.getTime())?null:p}function zd(t){const i=t;return typeof i.name=="string"&&i.name?i.name:typeof i.title=="string"&&i.title?i.title:typeof i.memo=="string"&&i.memo?i.memo:"이름 없음"}function Hj(t){const i=To(t);return`${zd(t)}-${i.toISOString()}`}function hd(t){const i=t;return typeof i.id=="string"&&i.id?i.id:Hj(t)}function Ij(t){return typeof t=="object"&&t!==null}function $j(t){return Ij(t)&&("Classic"in t||"Modern"in t||"classic"in t||"modern"in t)}function Uj(t){const i=Eo;return $j(i)?t==="classic"?i.Classic:i.Modern:t}const Ym="people_picker_order_v1";function Gj(t,i,o){const l=[...t],[u]=l.splice(i,1);return l.splice(o,0,u),l}function __({open:t,list:i,onSelect:o,onClose:l}){const[u,d]=P.useState("");P.useEffect(()=>{t||d("")},[t]);const m=P.useMemo(()=>i.map(hd),[i]),p=P.useMemo(()=>new Set(m),[m]),[b,v]=P.useState([]);P.useEffect(()=>{const O=localStorage.getItem(Ym),R=O?JSON.parse(O):[],z=R.filter(k=>p.has(k)),H=[...z,...m.filter(k=>!z.includes(k))];v(H),JSON.stringify(H)!==JSON.stringify(R)&&localStorage.setItem(Ym,JSON.stringify(H))},[m,p]);const w=O=>{v(O),localStorage.setItem(Ym,JSON.stringify(O))},S=P.useMemo(()=>{const O=new Map(i.map(z=>[hd(z),z])),R=[];for(const z of b){const H=O.get(z);H&&R.push(H)}return O.forEach((z,H)=>{b.includes(H)||R.push(z)}),R},[i,b]),x=P.useMemo(()=>{const O=u.trim().toLowerCase();return O?S.filter(R=>zd(R).toLowerCase().includes(O)):S},[S,u]),E=u.trim()==="",A=O=>{const{destination:R,source:z,type:H}=O;if(!R||H!=="ITEM"||!E)return;const k=S.map(hd),j=Gj(k,z.index,R.index);w(j)};return y.jsxs(y.Fragment,{children:[y.jsx("div",{className:`fixed inset-0 bg-black/60 transition-opacity duration-200 z-[1000] ${t?"opacity-100 pointer-events-auto":"opacity-0 pointer-events-none"}`,onClick:l}),y.jsxs("div",{className:`fixed bottom-0 left-1/2 -translate-x-1/2 w-full max-w-[640px] max-height-[90dvh] bg-white dark:bg-neutral-950 rounded-t-2xl border border-neutral-200 dark:border-neutral-800 p-4 overflow-auto transition-transform duration-300 z-[1001] ${t?"translate-y-0":"translate-y-full"}`,children:[y.jsxs("div",{className:"flex items-center justify-between mb-3",children:[y.jsx("h3",{className:"text-sm font-semibold text-neutral-900 dark:text-neutral-200",children:"명식 선택"}),y.jsx("button",{onClick:l,className:"text-neutral-500 hover:text-neutral-900 dark:text-neutral-400 dark:hover:text-white text-sm cursor-pointer",children:"닫기"})]}),y.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[y.jsx("input",{placeholder:"이름 검색",value:u,onChange:O=>d(O.target.value),className:"flex-1 px-3 py-2 rounded bg-white dark:bg-neutral-900 border border-neutral-300 dark:border-neutral-700 text-sm text-neutral-900 dark:text-neutral-100"}),!E&&y.jsx("span",{className:"text-[11px] text-neutral-500 dark:text-neutral-400 whitespace-nowrap",children:"검색 중엔 순서 변경 불가"})]}),y.jsx(qp,{onDragEnd:A,children:y.jsx(Jl,{droppableId:"people:list",type:"ITEM",children:O=>y.jsxs("div",{ref:O.innerRef,...O.droppableProps,className:"max-h-[60vh] overflow-y-auto grid grid-cols-1 gap-2",children:[x.map((R,z)=>{const H=hd(R);return y.jsx(Od,{draggableId:H,index:z,children:k=>y.jsx("div",{ref:k.innerRef,...k.draggableProps,...E?k.dragHandleProps:{},className:`w-full text-left p-3 rounded border bg-white dark:bg-neutral-900 border-neutral-300 dark:border-neutral-800 ${E?"cursor-grab":"cursor-default"}`,children:y.jsxs("div",{className:"flex items-center gap-2",children:[y.jsx(gp,{className:`shrink-0 ${E?"opacity-60":"opacity-30"} text-neutral-500 dark:text-neutral-400`,size:16}),y.jsxs("div",{className:"flex-1 min-w-0",children:[y.jsx("div",{className:"text-neutral-900 dark:text-neutral-50 text-sm truncate",children:zd(R)}),y.jsx("div",{className:"text-neutral-500 dark:text-neutral-400 text-xs",children:tc(To(R))})]}),y.jsx("button",{onClick:()=>{o(R),l()},className:"ml-2 px-3 py-1 rounded text-xs bg-neutral-900 dark:bg-white text-white dark:text-neutral-900 hover:opacity-90 cursor-pointer",children:"명식 선택하기"})]})})},H)}),O.placeholder,x.length===0&&y.jsx("div",{className:"text-center text-neutral-500 dark:text-neutral-400 text-sm py-6",children:"검색 결과가 없어요"})]})})})]})]})}function qm({label:t,gzHour:i,gzDay:o,gzMonth:l,gzYear:u,dayStem:d,cardSettings:m,sinsalBaseBranch:p,sinsalMode:b,sinsalBloom:v}){const w=O=>{const R=m.showSibiUnseong?ji(d,O):"",z=m.showSibiSinsal?ki({baseBranch:p,targetBranch:O,era:Uj(b),gaehwa:!!v}):"";return{unseongText:R||void 0,shinsalText:z||void 0}},S=$e(i).charAt(1),x=$e(o).charAt(1),E=$e(l).charAt(1),A=$e(u).charAt(1);return y.jsxs("div",{className:"rounded-lg border bg-white dark:bg-neutral-900 border-neutral-200 dark:border-neutral-800 py-2 desk:p-2",children:[y.jsx("div",{className:"px-2 py-1 text-xs text-neutral-600 dark:text-neutral-300",children:t}),y.jsx("div",{className:"grid grid-cols-4 gap-1 text-neutral-900 dark:text-white",children:[["시주",$e(i),S],["일주",$e(o),x],["월주",$e(l),E],["연주",$e(u),A]].map(([O,R,z])=>{const{unseongText:H,shinsalText:k}=w(z);return y.jsx(_o,{label:O,gz:R,dayStem:d,settings:m,unseongText:H,shinsalText:k,hideBranchSipSin:!0,size:"sm"},`${t}-${O}`)})})]})}function Zj(t){try{return t?To(t):null}catch{return null}}function Yj(t){if(!t)return"";const i=t,o=p=>typeof i[p]=="string"?String(i[p]).trim().toLowerCase():null,l=p=>typeof i[p]=="boolean"?i[p]:null,u=[o("gender"),o("sex"),o("genderType"),o("성별"),o("sexType"),o("g")].filter(p=>!!p);for(const p of u){if(["남","남자","male","m","boy","man"].includes(p))return"남";if(["여","여자","female","f","girl","woman"].includes(p))return"여"}const d=l("isMale"),m=l("isFemale");return d===!0?"남":m===!0?"여":""}function _s({label:t,data:i,mode:o,effectiveDate:l,onPick:u}){const d=Wr(V=>V.settings),m=P.useMemo(()=>Zj(i),[i]),p=P.useMemo(()=>{if(!i)return null;try{return Xd(i,i?.mingSikType)}catch{return null}},[i]),b=$e(p?.hour),v=$e(p?.day),w=$e(p?.month),S=$e(p?.year),x=P.useMemo(()=>v.charAt(0)||"갑",[v]),E=P.useMemo(()=>{if(!i)return null;try{return Ba(i)}catch{return null}},[i]),A=P.useMemo(()=>!i?.birthPlace||i.birthPlace.name==="모름"||i.birthPlace.lon===0?127.5:i.birthPlace.lon,[i]),O=i?.mingSikType??"야자시",R=P.useMemo(()=>{const V=E?qe(E,O).charAt(1):v.charAt(1)||"子",J=E?Pe(E,A).charAt(1):S.charAt(1)||"子";return d.sinsalBase==="일지"?V:J},[d.sinsalBase,E,O,A,v,S]),z=P.useMemo(()=>{if(o!=="묘운"||!m||!i)return null;try{const V=s1(m,b,i.dir,120,i.mingSikType),J=c1(V,v,i.dir,i.DayChangeRule),W=Fd(m,w,i.dir,120,i?.birthPlace?.lon??127.5),rt=d1(W,S,i.dir,i.DayChangeRule,m),et=l;return{si:$e(fd(V.events,et)?.gz,b),il:$e(fd(J.events,et)?.gz,v),wl:$e(fd(W.events,et)?.gz,w),yn:$e(fd(rt.events,et)?.gz,S)}}catch{return null}},[o,m,b,v,w,S,l,i]),H=P.useMemo(()=>{if(o!=="실시간")return null;const V=l;return{si:$e(Ci(V,"야자시")),il:$e(qe(V,"야자시")),wl:$e(jn(V)),yn:$e(Pe(V))}},[o,l]),k=i?zd(i):"",j=m?tc(m):"",B=i?Yj(i):"";return i?y.jsxs("div",{className:"space-y-2",children:[y.jsxs("div",{className:"flex items-start justify-between",children:[y.jsxs("div",{className:"text-[11px] text-neutral-600 dark:text-neutral-300 max-w-[calc(100%_-_100px)]",children:[y.jsx("span",{className:"font-semibold text-neutral-900 dark:text-neutral-200",children:t}),y.jsx("span",{className:"ml-2 text-neutral-900 dark:text-neutral-50",children:k}),B&&y.jsxs("span",{className:"ml-1 text-neutral-500 dark:text-neutral-400",children:["· ",B]}),j&&y.jsx("span",{className:"block desk:inline-block mt-1 text-neutral-500 dark:text-neutral-400 text-[10px]",children:j})]}),y.jsx("button",{onClick:u,className:"px-3 py-1 rounded text-xs bg-neutral-900 dark:bg-white text-white dark:text-neutral-900 border border-neutral-900 dark:border-white hover:opacity-90 cursor-pointer",title:"명식 바꾸기",children:"명식 선택"})]}),o==="원국"&&y.jsx(qm,{label:"원국",gzHour:b,gzDay:v,gzMonth:w,gzYear:S,dayStem:x,cardSettings:d,sinsalBaseBranch:R,sinsalMode:d.sinsalMode,sinsalBloom:!!d.sinsalBloom}),o==="묘운"&&z&&y.jsx(qm,{label:"묘운",gzHour:z.si,gzDay:z.il,gzMonth:z.wl,gzYear:z.yn,dayStem:x,cardSettings:d,sinsalBaseBranch:R,sinsalMode:d.sinsalMode,sinsalBloom:!!d.sinsalBloom}),o==="실시간"&&H&&y.jsx(qm,{label:"실시간",gzHour:H.si,gzDay:H.il,gzMonth:H.wl,gzYear:H.yn,dayStem:x,cardSettings:d,sinsalBaseBranch:R,sinsalMode:d.sinsalMode,sinsalBloom:!!d.sinsalBloom})]}):y.jsx("div",{className:"flex items-center justify-center h-48 rounded-lg border border-dashed bg-white dark:bg-neutral-900 border-neutral-300 dark:border-neutral-700",children:y.jsx("button",{onClick:u,className:"px-3 py-2 rounded bg-neutral-900 dark:bg-white text-white dark:text-neutral-900 text-sm hover:opacity-90 cursor-pointer",children:"명식 선택하기"})})}function qj({people:t=[]}){const[i,o]=P.useState(),[l,u]=P.useState(),[d,m]=P.useState(!1),[p,b]=P.useState(!1),v=P.useRef(new Date),[w,S]=P.useState(()=>zj(v.current)),x=P.useRef(y_(w)??v.current),E=P.useMemo(()=>{const H=y_(w);return H&&(x.current=H),x.current},[w]),[A,O]=P.useState(!1),[R,z]=P.useState(!1);return y.jsxs(y.Fragment,{children:[y.jsxs("div",{className:"w-[96%] max-w-[640px] mx-auto bg-white dark:bg-neutral-950 text-neutral-900 dark:text-neutral-100 rounded-xl shadow border border-neutral-200 dark:border-neutral-800 px-2 py-4 desk:p-4",children:[y.jsxs("header",{className:"flex flex-wrap gap-3 justify-between items-center mb-4",children:[y.jsx("div",{className:"font-semibold text-sm text-neutral-900 dark:text-neutral-200",children:"궁합 보기"}),y.jsxs("div",{className:"flex items-center gap-4 text-xs text-neutral-600 dark:text-neutral-400",children:[y.jsxs("label",{className:"flex items-center gap-1 cursor-pointer",children:[y.jsx("input",{type:"checkbox",checked:d,onChange:H=>m(H.target.checked),className:"accent-indigo-500"}),"묘운 표시"]}),y.jsx("button",{onClick:()=>b(H=>!H),className:"px-2 py-1 rounded border border-neutral-300 dark:border-neutral-700 hover:border-indigo-500 text-neutral-700 dark:text-neutral-300 bg-white dark:bg-neutral-900 cursor-pointer",children:p?"실시간 간지 접기":"실시간 간지 펼치기"})]})]}),y.jsxs("div",{className:"grid grid-cols-2 gap-2 desk:gap-4",children:[y.jsx(_s,{label:"원국 A",data:i,mode:"원국",effectiveDate:E,onPick:()=>O(!0)}),y.jsx(_s,{label:"원국 B",data:l,mode:"원국",effectiveDate:E,onPick:()=>z(!0)}),d&&i&&y.jsx(_s,{label:"묘운 A",data:i,mode:"묘운",effectiveDate:E,onPick:()=>O(!0)}),d&&l&&y.jsx(_s,{label:"묘운 B",data:l,mode:"묘운",effectiveDate:E,onPick:()=>z(!0)}),p&&i&&y.jsx(_s,{label:"실시간 A",data:i,mode:"실시간",effectiveDate:E,onPick:()=>O(!0)}),p&&l&&y.jsx(_s,{label:"실시간 B",data:l,mode:"실시간",effectiveDate:E,onPick:()=>z(!0)})]}),y.jsxs("div",{className:"mt-4",children:[y.jsx("label",{className:"block text-xs text-neutral-600 dark:text-neutral-400 mb-2",children:"날짜/시간 선택"}),y.jsx("input",{type:"datetime-local",value:w,onChange:H=>S(H.target.value),className:"bg-white dark:bg-neutral-900 border border-neutral-300 dark:border-neutral-700 rounded px-3 py-1 text-xs w-full text-neutral-900 dark:text-neutral-100 h-30",min:"1900-01-01T00:00",max:"2100-12-31T23:59"})]})]}),y.jsx(__,{open:A,list:t||[],onSelect:H=>o(H),onClose:()=>O(!1)}),y.jsx(__,{open:R,list:t||[],onSelect:H=>u(H),onClose:()=>z(!1)})]})}function Vj(){return y.jsx("footer",{className:"py-8 px-4 border-t border-neutral-200 dark:border-neutral-700 ",children:y.jsx("p",{className:"text-center text-[12px] text-orange-600 dark:text-orange-300",children:"Copyright © 2025 Hwarim96. All rights reserved."})})}function Kj({pillars:t,ms:i}){const{date:o,setDate:l}=Qr();P.useEffect(()=>{l(new Date)},[i]);const u=Wp(i),d=P.useMemo(()=>{const b=o??new Date,v=b.getFullYear(),w=String(b.getMonth()+1).padStart(2,"0"),S=String(b.getDate()).padStart(2,"0");return`${v}-${w}-${S}`},[o]),m=b=>{const v=o??new Date,[w,S,x]=b.split("-").map(Number),E=v.getHours(),A=v.getMinutes();l(new Date(w,(S??1)-1,x??1,E,A,0))},p=P.useMemo(()=>{const b=Array.isArray(t)&&t.length>=4?`${t[0]}년 ${t[1]}월 ${t[2]}일 ${t[3]}시`:"",v=u?.dae?.gz?`${u.dae.gz}대운`:null,w=u?.se?.gz?`${u.se.gz}세운`:null,S=u?.wol?.gz?`${u.wol.gz}월운`:null,x=[v,w,S].filter(Boolean).join(" ");return[b,x].filter(Boolean).join(" + ")},[t,u]);return y.jsxs("div",{className:"max-w-[640px] mx-auto mb-4 rounded-xl border border-neutral-200 dark:border-neutral-800 bg-white dark:bg-neutral-950 p-3 space-y-3",children:[p&&y.jsx("div",{className:"text-center text-sm font-medium text-neutral-800 dark:text-neutral-200",children:p}),y.jsx("div",{className:"grid grid-cols-1 gap-3",children:y.jsxs("label",{className:"w-full flex justify-center items-center",children:[y.jsx("span",{className:"text-sm text-neutral-500 mr-4",children:"날짜"}),y.jsx("input",{type:"date",value:d,onChange:b=>m(b.target.value),className:"w rounded-md border border-neutral-300 dark:border-neutral-700 bg-transparent px-2 py-1 text-sm"})]})})]})}const yp=!1;function a0(t){return typeof t=="object"&&t!==null}function Fj(t){return a0(t)&&"default"in t}function Xj(t){return a0(t)&&typeof t.lunar2solar=="function"}function Wj(t){if(!a0(t))throw new Error("Invalid lunar2solar result");const i=t.cYear,o=t.cMonth,l=t.cDay,u=t.isLeap;if(typeof i!="number"||typeof o!="number"||typeof l!="number")throw new Error("Invalid lunar2solar fields");return{cYear:i,cMonth:o,cDay:l,isLeap:typeof u=="boolean"?u:void 0}}function Qj(t){const i=Fj(t)?t.default:t;if(!Xj(i))throw new Error("solarlunar.lunar2solar not found");return{lunar2solar:(l,u,d,m)=>{const p=i.lunar2solar(l,u,d,!!m);return Wj(p)}}}const Jj=Qj(wo);function tk(t){const i=t,o=typeof i.birthDay=="string"?i.birthDay:"",l=typeof i.calendarType=="string"?i.calendarType:"solar";if(o.length<8)return t;const u=Number(o.slice(0,4)),d=Number(o.slice(4,6)),m=Number(o.slice(6,8)),p=["isLeap","isLeapMonth","leapMonth","leap","lunarLeap"];let b=!1;for(const v of p){const w=i[v];if(typeof w=="boolean"){b=w;break}if(typeof w=="number"){b=w===1;break}if(typeof w=="string"){b=w==="1"||w.toLowerCase()==="true";break}}if(l==="lunar")try{const v=Jj.lunar2solar(u,d,m,b),w=`${v.cYear}${x_(v.cMonth)}${x_(v.cDay)}`;return{...t,birthDay:w,calendarType:"solar"}}catch{return t}return t}function ek(){const{list:t}=gc(),[i,o]=P.useState(null),[l,u]=P.useState(!1),[d,m]=P.useState(!1),[p,b]=P.useState(null),[v,w]=P.useState(!1),[S,x]=P.useState(!1),E=P.useMemo(()=>t.find(z=>z.id===i)??null,[t,i]);P.useEffect(()=>{w(!0),x(!1)},[]);const A=()=>{u(!0)},O=P.useMemo(()=>{if(!E)return new Date;try{const z=tk(E);return Ba(z)}catch{return new Date}},[E]),R=P.useMemo(()=>{if(!E)return[];try{const z=Pe(O,E.birthPlace?.lon),H=jn(O,E.birthPlace?.lon),k=qe(O,E.mingSikType??"야자시"),j=Ci(O,E.mingSikType??"야자시"),B=[z,H,k,j];return rk(B)?B:[]}catch{return[]}},[O,E]);return y.jsxs("div",{className:"min-h-screen pb-16",children:[y.jsx(aj,{onOpenSidebar:()=>m(!0),onAddNew:A}),y.jsx(ww,{position:"top-center"}),y.jsx(wj,{open:d,onClose:()=>m(!1),onView:z=>{o(z.id),m(!1),w(!1),x(!1),Qr.getState().resetDate()},onAddNew:A,onEdit:z=>{b(z),o(z.id),m(!1),w(!1),x(!1)}}),v&&y.jsx(wT,{}),l&&y.jsxs(y.Fragment,{children:[y.jsx("div",{id:"wizard-dim",className:"bg-black opacity-80 absolute inset-0 w-full h-full z-99"}),y.jsx("div",{className:"absolute inset-0 transition-opacity duration-150 opacity-100 z-100",children:y.jsx("div",{className:"py-6",children:y.jsx(pA,{onSave:z=>{o(z.id),w(!1),x(!1),m(!1),requestAnimationFrame(()=>u(!1))},onClose:()=>u(!1)})})})]}),E&&!v&&!S&&y.jsxs(y.Fragment,{children:[y.jsx("div",{className:"pt-18 pb-4",children:y.jsx(jN,{data:E,hourTable:E.mingSikType??"야자시"})}),y.jsx(Kj,{pillars:R,ms:E}),y.jsx("div",{children:y.jsx(KO,{data:E})})]}),S&&y.jsx("div",{className:"pt-18 pb-4",children:y.jsx(qj,{people:t})}),p&&y.jsx("div",{className:"fixed inset-0 z-55 flex items-center justify-center bg-black/60",children:y.jsx("div",{className:"bg-white dark:bg-neutral-950 p-4 rounded-xl w-full max-h-[90dvh] max-w-xl shadow-lg",children:y.jsx(Lj,{item:p,onClose:()=>{b(null)}})})}),y.jsx(dj,{onShowToday:()=>{w(!0),x(!1)},onShowCouple:()=>{x(!0),w(!1)}}),y.jsx(Vj,{})]})}const nk=t=>typeof t=="string"&&t.length>=2,rk=t=>Array.isArray(t)&&t.length===4&&t.every(nk),x_=t=>t<10?`0${t}`:`${t}`;BS.createRoot(document.getElementById("root")).render(y.jsx(P.StrictMode,{children:y.jsx(ek,{})}));
