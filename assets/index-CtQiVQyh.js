function ij(e,t){for(var n=0;n<t.length;n++){const r=t[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in e)){const a=Object.getOwnPropertyDescriptor(r,i);a&&Object.defineProperty(e,i,a.get?a:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const a of i)if(a.type==="childList")for(const o of a.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const a={};return i.integrity&&(a.integrity=i.integrity),i.referrerPolicy&&(a.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?a.credentials="include":i.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function r(i){if(i.ep)return;i.ep=!0;const a=n(i);fetch(i.href,a)}})();function Ti(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function Tp(e){if(Object.prototype.hasOwnProperty.call(e,"__esModule"))return e;var t=e.default;if(typeof t=="function"){var n=function r(){var i=!1;try{i=this instanceof r}catch{}return i?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};n.prototype=t.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(e).forEach(function(r){var i=Object.getOwnPropertyDescriptor(e,r);Object.defineProperty(n,r,i.get?i:{enumerable:!0,get:function(){return e[r]}})}),n}var r1={exports:{}},Xh={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var uM;function IY(){if(uM)return Xh;uM=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function n(r,i,a){var o=null;if(a!==void 0&&(o=""+a),i.key!==void 0&&(o=""+i.key),"key"in i){a={};for(var l in i)l!=="key"&&(a[l]=i[l])}else a=i;return i=a.ref,{$$typeof:e,type:r,key:o,ref:i!==void 0?i:null,props:a}}return Xh.Fragment=t,Xh.jsx=n,Xh.jsxs=n,Xh}var dM;function $Y(){return dM||(dM=1,r1.exports=IY()),r1.exports}var g=$Y();const v5="harim.theme",qk="harim.settings.v1";function x5(){try{const e=localStorage.getItem(v5);if(e==="dark"||e==="light")return e;const t=localStorage.getItem(qk);if(t){const r=JSON.parse(t)?.theme;if(r==="dark"||r==="light")return r}return null}catch{return null}}function w5(e){try{localStorage.setItem(v5,e);const t=localStorage.getItem(qk),n=t?JSON.parse(t):{};localStorage.setItem(qk,JSON.stringify({...n,theme:e}))}catch{}}function _5(e){const t=document.documentElement;t.classList.toggle("dark",e==="dark"),t.style.setProperty("color-scheme",e)}(function(){try{const e=x5()??(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light");_5(e)}catch{}})();var i1={exports:{}},Jh={},a1={exports:{}},o1={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var fM;function BY(){return fM||(fM=1,(function(e){function t(Y,V){var Q=Y.length;Y.push(V);e:for(;0<Q;){var se=Q-1>>>1,ce=Y[se];if(0<i(ce,V))Y[se]=V,Y[Q]=ce,Q=se;else break e}}function n(Y){return Y.length===0?null:Y[0]}function r(Y){if(Y.length===0)return null;var V=Y[0],Q=Y.pop();if(Q!==V){Y[0]=Q;e:for(var se=0,ce=Y.length,W=ce>>>1;se<W;){var ne=2*(se+1)-1,ie=Y[ne],he=ne+1,J=Y[he];if(0>i(ie,Q))he<ce&&0>i(J,ie)?(Y[se]=J,Y[he]=Q,se=he):(Y[se]=ie,Y[ne]=Q,se=ne);else if(he<ce&&0>i(J,Q))Y[se]=J,Y[he]=Q,se=he;else break e}}return V}function i(Y,V){var Q=Y.sortIndex-V.sortIndex;return Q!==0?Q:Y.id-V.id}if(e.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var a=performance;e.unstable_now=function(){return a.now()}}else{var o=Date,l=o.now();e.unstable_now=function(){return o.now()-l}}var u=[],d=[],h=1,m=null,b=3,y=!1,k=!1,w=!1,_=!1,j=typeof setTimeout=="function"?setTimeout:null,O=typeof clearTimeout=="function"?clearTimeout:null,T=typeof setImmediate<"u"?setImmediate:null;function C(Y){for(var V=n(d);V!==null;){if(V.callback===null)r(d);else if(V.startTime<=Y)r(d),V.sortIndex=V.expirationTime,t(u,V);else break;V=n(d)}}function M(Y){if(w=!1,C(Y),!k)if(n(u)!==null)k=!0,P||(P=!0,B());else{var V=n(d);V!==null&&Z(M,V.startTime-Y)}}var P=!1,I=-1,z=5,K=-1;function G(){return _?!0:!(e.unstable_now()-K<z)}function F(){if(_=!1,P){var Y=e.unstable_now();K=Y;var V=!0;try{e:{k=!1,w&&(w=!1,O(I),I=-1),y=!0;var Q=b;try{t:{for(C(Y),m=n(u);m!==null&&!(m.expirationTime>Y&&G());){var se=m.callback;if(typeof se=="function"){m.callback=null,b=m.priorityLevel;var ce=se(m.expirationTime<=Y);if(Y=e.unstable_now(),typeof ce=="function"){m.callback=ce,C(Y),V=!0;break t}m===n(u)&&r(u),C(Y)}else r(u);m=n(u)}if(m!==null)V=!0;else{var W=n(d);W!==null&&Z(M,W.startTime-Y),V=!1}}break e}finally{m=null,b=Q,y=!1}V=void 0}}finally{V?B():P=!1}}}var B;if(typeof T=="function")B=function(){T(F)};else if(typeof MessageChannel<"u"){var q=new MessageChannel,X=q.port2;q.port1.onmessage=F,B=function(){X.postMessage(null)}}else B=function(){j(F,0)};function Z(Y,V){I=j(function(){Y(e.unstable_now())},V)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(Y){Y.callback=null},e.unstable_forceFrameRate=function(Y){0>Y||125<Y?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):z=0<Y?Math.floor(1e3/Y):5},e.unstable_getCurrentPriorityLevel=function(){return b},e.unstable_next=function(Y){switch(b){case 1:case 2:case 3:var V=3;break;default:V=b}var Q=b;b=V;try{return Y()}finally{b=Q}},e.unstable_requestPaint=function(){_=!0},e.unstable_runWithPriority=function(Y,V){switch(Y){case 1:case 2:case 3:case 4:case 5:break;default:Y=3}var Q=b;b=Y;try{return V()}finally{b=Q}},e.unstable_scheduleCallback=function(Y,V,Q){var se=e.unstable_now();switch(typeof Q=="object"&&Q!==null?(Q=Q.delay,Q=typeof Q=="number"&&0<Q?se+Q:se):Q=se,Y){case 1:var ce=-1;break;case 2:ce=250;break;case 5:ce=1073741823;break;case 4:ce=1e4;break;default:ce=5e3}return ce=Q+ce,Y={id:h++,callback:V,priorityLevel:Y,startTime:Q,expirationTime:ce,sortIndex:-1},Q>se?(Y.sortIndex=Q,t(d,Y),n(u)===null&&Y===n(d)&&(w?(O(I),I=-1):w=!0,Z(M,Q-se))):(Y.sortIndex=ce,t(u,Y),k||y||(k=!0,P||(P=!0,B()))),Y},e.unstable_shouldYield=G,e.unstable_wrapCallback=function(Y){var V=b;return function(){var Q=b;b=V;try{return Y.apply(this,arguments)}finally{b=Q}}}})(o1)),o1}var hM;function zY(){return hM||(hM=1,a1.exports=BY()),a1.exports}var s1={exports:{}},ft={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var mM;function UY(){if(mM)return ft;mM=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),a=Symbol.for("react.consumer"),o=Symbol.for("react.context"),l=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),m=Symbol.for("react.activity"),b=Symbol.iterator;function y(W){return W===null||typeof W!="object"?null:(W=b&&W[b]||W["@@iterator"],typeof W=="function"?W:null)}var k={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},w=Object.assign,_={};function j(W,ne,ie){this.props=W,this.context=ne,this.refs=_,this.updater=ie||k}j.prototype.isReactComponent={},j.prototype.setState=function(W,ne){if(typeof W!="object"&&typeof W!="function"&&W!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,W,ne,"setState")},j.prototype.forceUpdate=function(W){this.updater.enqueueForceUpdate(this,W,"forceUpdate")};function O(){}O.prototype=j.prototype;function T(W,ne,ie){this.props=W,this.context=ne,this.refs=_,this.updater=ie||k}var C=T.prototype=new O;C.constructor=T,w(C,j.prototype),C.isPureReactComponent=!0;var M=Array.isArray;function P(){}var I={H:null,A:null,T:null,S:null},z=Object.prototype.hasOwnProperty;function K(W,ne,ie){var he=ie.ref;return{$$typeof:e,type:W,key:ne,ref:he!==void 0?he:null,props:ie}}function G(W,ne){return K(W.type,ne,W.props)}function F(W){return typeof W=="object"&&W!==null&&W.$$typeof===e}function B(W){var ne={"=":"=0",":":"=2"};return"$"+W.replace(/[=:]/g,function(ie){return ne[ie]})}var q=/\/+/g;function X(W,ne){return typeof W=="object"&&W!==null&&W.key!=null?B(""+W.key):ne.toString(36)}function Z(W){switch(W.status){case"fulfilled":return W.value;case"rejected":throw W.reason;default:switch(typeof W.status=="string"?W.then(P,P):(W.status="pending",W.then(function(ne){W.status==="pending"&&(W.status="fulfilled",W.value=ne)},function(ne){W.status==="pending"&&(W.status="rejected",W.reason=ne)})),W.status){case"fulfilled":return W.value;case"rejected":throw W.reason}}throw W}function Y(W,ne,ie,he,J){var ae=typeof W;(ae==="undefined"||ae==="boolean")&&(W=null);var pe=!1;if(W===null)pe=!0;else switch(ae){case"bigint":case"string":case"number":pe=!0;break;case"object":switch(W.$$typeof){case e:case t:pe=!0;break;case h:return pe=W._init,Y(pe(W._payload),ne,ie,he,J)}}if(pe)return J=J(W),pe=he===""?"."+X(W,0):he,M(J)?(ie="",pe!=null&&(ie=pe.replace(q,"$&/")+"/"),Y(J,ne,ie,"",function(je){return je})):J!=null&&(F(J)&&(J=G(J,ie+(J.key==null||W&&W.key===J.key?"":(""+J.key).replace(q,"$&/")+"/")+pe)),ne.push(J)),1;pe=0;var me=he===""?".":he+":";if(M(W))for(var ee=0;ee<W.length;ee++)he=W[ee],ae=me+X(he,ee),pe+=Y(he,ne,ie,ae,J);else if(ee=y(W),typeof ee=="function")for(W=ee.call(W),ee=0;!(he=W.next()).done;)he=he.value,ae=me+X(he,ee++),pe+=Y(he,ne,ie,ae,J);else if(ae==="object"){if(typeof W.then=="function")return Y(Z(W),ne,ie,he,J);throw ne=String(W),Error("Objects are not valid as a React child (found: "+(ne==="[object Object]"?"object with keys {"+Object.keys(W).join(", ")+"}":ne)+"). If you meant to render a collection of children, use an array instead.")}return pe}function V(W,ne,ie){if(W==null)return W;var he=[],J=0;return Y(W,he,"","",function(ae){return ne.call(ie,ae,J++)}),he}function Q(W){if(W._status===-1){var ne=W._result;ne=ne(),ne.then(function(ie){(W._status===0||W._status===-1)&&(W._status=1,W._result=ie)},function(ie){(W._status===0||W._status===-1)&&(W._status=2,W._result=ie)}),W._status===-1&&(W._status=0,W._result=ne)}if(W._status===1)return W._result.default;throw W._result}var se=typeof reportError=="function"?reportError:function(W){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var ne=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof W=="object"&&W!==null&&typeof W.message=="string"?String(W.message):String(W),error:W});if(!window.dispatchEvent(ne))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",W);return}console.error(W)},ce={map:V,forEach:function(W,ne,ie){V(W,function(){ne.apply(this,arguments)},ie)},count:function(W){var ne=0;return V(W,function(){ne++}),ne},toArray:function(W){return V(W,function(ne){return ne})||[]},only:function(W){if(!F(W))throw Error("React.Children.only expected to receive a single React element child.");return W}};return ft.Activity=m,ft.Children=ce,ft.Component=j,ft.Fragment=n,ft.Profiler=i,ft.PureComponent=T,ft.StrictMode=r,ft.Suspense=u,ft.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=I,ft.__COMPILER_RUNTIME={__proto__:null,c:function(W){return I.H.useMemoCache(W)}},ft.cache=function(W){return function(){return W.apply(null,arguments)}},ft.cacheSignal=function(){return null},ft.cloneElement=function(W,ne,ie){if(W==null)throw Error("The argument must be a React element, but you passed "+W+".");var he=w({},W.props),J=W.key;if(ne!=null)for(ae in ne.key!==void 0&&(J=""+ne.key),ne)!z.call(ne,ae)||ae==="key"||ae==="__self"||ae==="__source"||ae==="ref"&&ne.ref===void 0||(he[ae]=ne[ae]);var ae=arguments.length-2;if(ae===1)he.children=ie;else if(1<ae){for(var pe=Array(ae),me=0;me<ae;me++)pe[me]=arguments[me+2];he.children=pe}return K(W.type,J,he)},ft.createContext=function(W){return W={$$typeof:o,_currentValue:W,_currentValue2:W,_threadCount:0,Provider:null,Consumer:null},W.Provider=W,W.Consumer={$$typeof:a,_context:W},W},ft.createElement=function(W,ne,ie){var he,J={},ae=null;if(ne!=null)for(he in ne.key!==void 0&&(ae=""+ne.key),ne)z.call(ne,he)&&he!=="key"&&he!=="__self"&&he!=="__source"&&(J[he]=ne[he]);var pe=arguments.length-2;if(pe===1)J.children=ie;else if(1<pe){for(var me=Array(pe),ee=0;ee<pe;ee++)me[ee]=arguments[ee+2];J.children=me}if(W&&W.defaultProps)for(he in pe=W.defaultProps,pe)J[he]===void 0&&(J[he]=pe[he]);return K(W,ae,J)},ft.createRef=function(){return{current:null}},ft.forwardRef=function(W){return{$$typeof:l,render:W}},ft.isValidElement=F,ft.lazy=function(W){return{$$typeof:h,_payload:{_status:-1,_result:W},_init:Q}},ft.memo=function(W,ne){return{$$typeof:d,type:W,compare:ne===void 0?null:ne}},ft.startTransition=function(W){var ne=I.T,ie={};I.T=ie;try{var he=W(),J=I.S;J!==null&&J(ie,he),typeof he=="object"&&he!==null&&typeof he.then=="function"&&he.then(P,se)}catch(ae){se(ae)}finally{ne!==null&&ie.types!==null&&(ne.types=ie.types),I.T=ne}},ft.unstable_useCacheRefresh=function(){return I.H.useCacheRefresh()},ft.use=function(W){return I.H.use(W)},ft.useActionState=function(W,ne,ie){return I.H.useActionState(W,ne,ie)},ft.useCallback=function(W,ne){return I.H.useCallback(W,ne)},ft.useContext=function(W){return I.H.useContext(W)},ft.useDebugValue=function(){},ft.useDeferredValue=function(W,ne){return I.H.useDeferredValue(W,ne)},ft.useEffect=function(W,ne){return I.H.useEffect(W,ne)},ft.useEffectEvent=function(W){return I.H.useEffectEvent(W)},ft.useId=function(){return I.H.useId()},ft.useImperativeHandle=function(W,ne,ie){return I.H.useImperativeHandle(W,ne,ie)},ft.useInsertionEffect=function(W,ne){return I.H.useInsertionEffect(W,ne)},ft.useLayoutEffect=function(W,ne){return I.H.useLayoutEffect(W,ne)},ft.useMemo=function(W,ne){return I.H.useMemo(W,ne)},ft.useOptimistic=function(W,ne){return I.H.useOptimistic(W,ne)},ft.useReducer=function(W,ne,ie){return I.H.useReducer(W,ne,ie)},ft.useRef=function(W){return I.H.useRef(W)},ft.useState=function(W){return I.H.useState(W)},ft.useSyncExternalStore=function(W,ne,ie){return I.H.useSyncExternalStore(W,ne,ie)},ft.useTransition=function(){return I.H.useTransition()},ft.version="19.2.1",ft}var pM;function Ef(){return pM||(pM=1,s1.exports=UY()),s1.exports}var l1={exports:{}},Ur={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var gM;function FY(){if(gM)return Ur;gM=1;var e=Ef();function t(u){var d="https://react.dev/errors/"+u;if(1<arguments.length){d+="?args[]="+encodeURIComponent(arguments[1]);for(var h=2;h<arguments.length;h++)d+="&args[]="+encodeURIComponent(arguments[h])}return"Minified React error #"+u+"; visit "+d+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var r={d:{f:n,r:function(){throw Error(t(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},i=Symbol.for("react.portal");function a(u,d,h){var m=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:i,key:m==null?null:""+m,children:u,containerInfo:d,implementation:h}}var o=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function l(u,d){if(u==="font")return"";if(typeof d=="string")return d==="use-credentials"?d:""}return Ur.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,Ur.createPortal=function(u,d){var h=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!d||d.nodeType!==1&&d.nodeType!==9&&d.nodeType!==11)throw Error(t(299));return a(u,d,null,h)},Ur.flushSync=function(u){var d=o.T,h=r.p;try{if(o.T=null,r.p=2,u)return u()}finally{o.T=d,r.p=h,r.d.f()}},Ur.preconnect=function(u,d){typeof u=="string"&&(d?(d=d.crossOrigin,d=typeof d=="string"?d==="use-credentials"?d:"":void 0):d=null,r.d.C(u,d))},Ur.prefetchDNS=function(u){typeof u=="string"&&r.d.D(u)},Ur.preinit=function(u,d){if(typeof u=="string"&&d&&typeof d.as=="string"){var h=d.as,m=l(h,d.crossOrigin),b=typeof d.integrity=="string"?d.integrity:void 0,y=typeof d.fetchPriority=="string"?d.fetchPriority:void 0;h==="style"?r.d.S(u,typeof d.precedence=="string"?d.precedence:void 0,{crossOrigin:m,integrity:b,fetchPriority:y}):h==="script"&&r.d.X(u,{crossOrigin:m,integrity:b,fetchPriority:y,nonce:typeof d.nonce=="string"?d.nonce:void 0})}},Ur.preinitModule=function(u,d){if(typeof u=="string")if(typeof d=="object"&&d!==null){if(d.as==null||d.as==="script"){var h=l(d.as,d.crossOrigin);r.d.M(u,{crossOrigin:h,integrity:typeof d.integrity=="string"?d.integrity:void 0,nonce:typeof d.nonce=="string"?d.nonce:void 0})}}else d==null&&r.d.M(u)},Ur.preload=function(u,d){if(typeof u=="string"&&typeof d=="object"&&d!==null&&typeof d.as=="string"){var h=d.as,m=l(h,d.crossOrigin);r.d.L(u,h,{crossOrigin:m,integrity:typeof d.integrity=="string"?d.integrity:void 0,nonce:typeof d.nonce=="string"?d.nonce:void 0,type:typeof d.type=="string"?d.type:void 0,fetchPriority:typeof d.fetchPriority=="string"?d.fetchPriority:void 0,referrerPolicy:typeof d.referrerPolicy=="string"?d.referrerPolicy:void 0,imageSrcSet:typeof d.imageSrcSet=="string"?d.imageSrcSet:void 0,imageSizes:typeof d.imageSizes=="string"?d.imageSizes:void 0,media:typeof d.media=="string"?d.media:void 0})}},Ur.preloadModule=function(u,d){if(typeof u=="string")if(d){var h=l(d.as,d.crossOrigin);r.d.m(u,{as:typeof d.as=="string"&&d.as!=="script"?d.as:void 0,crossOrigin:h,integrity:typeof d.integrity=="string"?d.integrity:void 0})}else r.d.m(u)},Ur.requestFormReset=function(u){r.d.r(u)},Ur.unstable_batchedUpdates=function(u,d){return u(d)},Ur.useFormState=function(u,d,h){return o.H.useFormState(u,d,h)},Ur.useFormStatus=function(){return o.H.useHostTransitionStatus()},Ur.version="19.2.1",Ur}var bM;function S5(){if(bM)return l1.exports;bM=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),l1.exports=FY(),l1.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var yM;function HY(){if(yM)return Jh;yM=1;var e=zY(),t=Ef(),n=S5();function r(s){var c="https://react.dev/errors/"+s;if(1<arguments.length){c+="?args[]="+encodeURIComponent(arguments[1]);for(var p=2;p<arguments.length;p++)c+="&args[]="+encodeURIComponent(arguments[p])}return"Minified React error #"+s+"; visit "+c+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11)}function a(s){var c=s,p=s;if(s.alternate)for(;c.return;)c=c.return;else{s=c;do c=s,(c.flags&4098)!==0&&(p=c.return),s=c.return;while(s)}return c.tag===3?p:null}function o(s){if(s.tag===13){var c=s.memoizedState;if(c===null&&(s=s.alternate,s!==null&&(c=s.memoizedState)),c!==null)return c.dehydrated}return null}function l(s){if(s.tag===31){var c=s.memoizedState;if(c===null&&(s=s.alternate,s!==null&&(c=s.memoizedState)),c!==null)return c.dehydrated}return null}function u(s){if(a(s)!==s)throw Error(r(188))}function d(s){var c=s.alternate;if(!c){if(c=a(s),c===null)throw Error(r(188));return c!==s?null:s}for(var p=s,x=c;;){var A=p.return;if(A===null)break;var N=A.alternate;if(N===null){if(x=A.return,x!==null){p=x;continue}break}if(A.child===N.child){for(N=A.child;N;){if(N===p)return u(A),s;if(N===x)return u(A),c;N=N.sibling}throw Error(r(188))}if(p.return!==x.return)p=A,x=N;else{for(var $=!1,H=A.child;H;){if(H===p){$=!0,p=A,x=N;break}if(H===x){$=!0,x=A,p=N;break}H=H.sibling}if(!$){for(H=N.child;H;){if(H===p){$=!0,p=N,x=A;break}if(H===x){$=!0,x=N,p=A;break}H=H.sibling}if(!$)throw Error(r(189))}}if(p.alternate!==x)throw Error(r(190))}if(p.tag!==3)throw Error(r(188));return p.stateNode.current===p?s:c}function h(s){var c=s.tag;if(c===5||c===26||c===27||c===6)return s;for(s=s.child;s!==null;){if(c=h(s),c!==null)return c;s=s.sibling}return null}var m=Object.assign,b=Symbol.for("react.element"),y=Symbol.for("react.transitional.element"),k=Symbol.for("react.portal"),w=Symbol.for("react.fragment"),_=Symbol.for("react.strict_mode"),j=Symbol.for("react.profiler"),O=Symbol.for("react.consumer"),T=Symbol.for("react.context"),C=Symbol.for("react.forward_ref"),M=Symbol.for("react.suspense"),P=Symbol.for("react.suspense_list"),I=Symbol.for("react.memo"),z=Symbol.for("react.lazy"),K=Symbol.for("react.activity"),G=Symbol.for("react.memo_cache_sentinel"),F=Symbol.iterator;function B(s){return s===null||typeof s!="object"?null:(s=F&&s[F]||s["@@iterator"],typeof s=="function"?s:null)}var q=Symbol.for("react.client.reference");function X(s){if(s==null)return null;if(typeof s=="function")return s.$$typeof===q?null:s.displayName||s.name||null;if(typeof s=="string")return s;switch(s){case w:return"Fragment";case j:return"Profiler";case _:return"StrictMode";case M:return"Suspense";case P:return"SuspenseList";case K:return"Activity"}if(typeof s=="object")switch(s.$$typeof){case k:return"Portal";case T:return s.displayName||"Context";case O:return(s._context.displayName||"Context")+".Consumer";case C:var c=s.render;return s=s.displayName,s||(s=c.displayName||c.name||"",s=s!==""?"ForwardRef("+s+")":"ForwardRef"),s;case I:return c=s.displayName||null,c!==null?c:X(s.type)||"Memo";case z:c=s._payload,s=s._init;try{return X(s(c))}catch{}}return null}var Z=Array.isArray,Y=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,V=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Q={pending:!1,data:null,method:null,action:null},se=[],ce=-1;function W(s){return{current:s}}function ne(s){0>ce||(s.current=se[ce],se[ce]=null,ce--)}function ie(s,c){ce++,se[ce]=s.current,s.current=c}var he=W(null),J=W(null),ae=W(null),pe=W(null);function me(s,c){switch(ie(ae,c),ie(J,s),ie(he,null),c.nodeType){case 9:case 11:s=(s=c.documentElement)&&(s=s.namespaceURI)?DC(s):0;break;default:if(s=c.tagName,c=c.namespaceURI)c=DC(c),s=PC(c,s);else switch(s){case"svg":s=1;break;case"math":s=2;break;default:s=0}}ne(he),ie(he,s)}function ee(){ne(he),ne(J),ne(ae)}function je(s){s.memoizedState!==null&&ie(pe,s);var c=he.current,p=PC(c,s.type);c!==p&&(ie(J,s),ie(he,p))}function xe(s){J.current===s&&(ne(he),ne(J)),pe.current===s&&(ne(pe),Kh._currentValue=Q)}var ue,Ee;function Me(s){if(ue===void 0)try{throw Error()}catch(p){var c=p.stack.trim().match(/\n( *(at )?)/);ue=c&&c[1]||"",Ee=-1<p.stack.indexOf(`
    at`)?" (<anonymous>)":-1<p.stack.indexOf("@")?"@unknown:0:0":""}return`
`+ue+s+Ee}var Ie=!1;function Ke(s,c){if(!s||Ie)return"";Ie=!0;var p=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var x={DetermineComponentFrameRoot:function(){try{if(c){var Ne=function(){throw Error()};if(Object.defineProperty(Ne.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Ne,[])}catch(we){var ve=we}Reflect.construct(s,[],Ne)}else{try{Ne.call()}catch(we){ve=we}s.call(Ne.prototype)}}else{try{throw Error()}catch(we){ve=we}(Ne=s())&&typeof Ne.catch=="function"&&Ne.catch(function(){})}}catch(we){if(we&&ve&&typeof we.stack=="string")return[we.stack,ve.stack]}return[null,null]}};x.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var A=Object.getOwnPropertyDescriptor(x.DetermineComponentFrameRoot,"name");A&&A.configurable&&Object.defineProperty(x.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var N=x.DetermineComponentFrameRoot(),$=N[0],H=N[1];if($&&H){var re=$.split(`
`),be=H.split(`
`);for(A=x=0;x<re.length&&!re[x].includes("DetermineComponentFrameRoot");)x++;for(;A<be.length&&!be[A].includes("DetermineComponentFrameRoot");)A++;if(x===re.length||A===be.length)for(x=re.length-1,A=be.length-1;1<=x&&0<=A&&re[x]!==be[A];)A--;for(;1<=x&&0<=A;x--,A--)if(re[x]!==be[A]){if(x!==1||A!==1)do if(x--,A--,0>A||re[x]!==be[A]){var ke=`
`+re[x].replace(" at new "," at ");return s.displayName&&ke.includes("<anonymous>")&&(ke=ke.replace("<anonymous>",s.displayName)),ke}while(1<=x&&0<=A);break}}}finally{Ie=!1,Error.prepareStackTrace=p}return(p=s?s.displayName||s.name:"")?Me(p):""}function ht(s,c){switch(s.tag){case 26:case 27:case 5:return Me(s.type);case 16:return Me("Lazy");case 13:return s.child!==c&&c!==null?Me("Suspense Fallback"):Me("Suspense");case 19:return Me("SuspenseList");case 0:case 15:return Ke(s.type,!1);case 11:return Ke(s.type.render,!1);case 1:return Ke(s.type,!0);case 31:return Me("Activity");default:return""}}function mt(s){try{var c="",p=null;do c+=ht(s,p),p=s,s=s.return;while(s);return c}catch(x){return`
Error generating stack: `+x.message+`
`+x.stack}}var De=Object.prototype.hasOwnProperty,ze=e.unstable_scheduleCallback,Ge=e.unstable_cancelCallback,oe=e.unstable_shouldYield,Ce=e.unstable_requestPaint,Ue=e.unstable_now,rt=e.unstable_getCurrentPriorityLevel,xt=e.unstable_ImmediatePriority,st=e.unstable_UserBlockingPriority,Oe=e.unstable_NormalPriority,Fe=e.unstable_LowPriority,We=e.unstable_IdlePriority,bt=e.log,At=e.unstable_setDisableYieldValue,Nt=null,Mt=null;function Kt(s){if(typeof bt=="function"&&At(s),Mt&&typeof Mt.setStrictMode=="function")try{Mt.setStrictMode(Nt,s)}catch{}}var rn=Math.clz32?Math.clz32:Pe,ai=Math.log,zn=Math.LN2;function Pe(s){return s>>>=0,s===0?32:31-(ai(s)/zn|0)|0}var at=256,zt=262144,Er=4194304;function oi(s){var c=s&42;if(c!==0)return c;switch(s&-s){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return s&261888;case 262144:case 524288:case 1048576:case 2097152:return s&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return s&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return s}}function zu(s,c,p){var x=s.pendingLanes;if(x===0)return 0;var A=0,N=s.suspendedLanes,$=s.pingedLanes;s=s.warmLanes;var H=x&134217727;return H!==0?(x=H&~N,x!==0?A=oi(x):($&=H,$!==0?A=oi($):p||(p=H&~s,p!==0&&(A=oi(p))))):(H=x&~N,H!==0?A=oi(H):$!==0?A=oi($):p||(p=x&~s,p!==0&&(A=oi(p)))),A===0?0:c!==0&&c!==A&&(c&N)===0&&(N=A&-A,p=c&-c,N>=p||N===32&&(p&4194048)!==0)?c:A}function pc(s,c){return(s.pendingLanes&~(s.suspendedLanes&~s.pingedLanes)&c)===0}function uw(s,c){switch(s){case 1:case 2:case 4:case 8:case 64:return c+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return c+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function d0(){var s=Er;return Er<<=1,(Er&62914560)===0&&(Er=4194304),s}function Vf(s){for(var c=[],p=0;31>p;p++)c.push(s);return c}function Xo(s,c){s.pendingLanes|=c,c!==268435456&&(s.suspendedLanes=0,s.pingedLanes=0,s.warmLanes=0)}function dw(s,c,p,x,A,N){var $=s.pendingLanes;s.pendingLanes=p,s.suspendedLanes=0,s.pingedLanes=0,s.warmLanes=0,s.expiredLanes&=p,s.entangledLanes&=p,s.errorRecoveryDisabledLanes&=p,s.shellSuspendCounter=0;var H=s.entanglements,re=s.expirationTimes,be=s.hiddenUpdates;for(p=$&~p;0<p;){var ke=31-rn(p),Ne=1<<ke;H[ke]=0,re[ke]=-1;var ve=be[ke];if(ve!==null)for(be[ke]=null,ke=0;ke<ve.length;ke++){var we=ve[ke];we!==null&&(we.lane&=-536870913)}p&=~Ne}x!==0&&f0(s,x,0),N!==0&&A===0&&s.tag!==0&&(s.suspendedLanes|=N&~($&~c))}function f0(s,c,p){s.pendingLanes|=c,s.suspendedLanes&=~c;var x=31-rn(c);s.entangledLanes|=c,s.entanglements[x]=s.entanglements[x]|1073741824|p&261930}function h0(s,c){var p=s.entangledLanes|=c;for(s=s.entanglements;p;){var x=31-rn(p),A=1<<x;A&c|s[x]&c&&(s[x]|=c),p&=~A}}function m0(s,c){var p=c&-c;return p=(p&42)!==0?1:si(p),(p&(s.suspendedLanes|c))!==0?0:p}function si(s){switch(s){case 2:s=1;break;case 8:s=4;break;case 32:s=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:s=128;break;case 268435456:s=134217728;break;default:s=0}return s}function Ze(s){return s&=-s,2<s?8<s?(s&134217727)!==0?32:268435456:8:2}function Zf(){var s=V.p;return s!==0?s:(s=window.event,s===void 0?32:rM(s.type))}function Xf(s,c){var p=V.p;try{return V.p=s,c()}finally{V.p=p}}var Ra=Math.random().toString(36).slice(2),Un="__reactFiber$"+Ra,ur="__reactProps$"+Ra,Jo="__reactContainer$"+Ra,mo="__reactEvents$"+Ra,p0="__reactListeners$"+Ra,fw="__reactHandles$"+Ra,g0="__reactResources$"+Ra,gc="__reactMarker$"+Ra;function Jf(s){delete s[Un],delete s[ur],delete s[mo],delete s[p0],delete s[fw]}function Qo(s){var c=s[Un];if(c)return c;for(var p=s.parentNode;p;){if(c=p[Jo]||p[Un]){if(p=c.alternate,c.child!==null||p!==null&&p.child!==null)for(s=UC(s);s!==null;){if(p=s[Un])return p;s=UC(s)}return c}s=p,p=s.parentNode}return null}function nl(s){if(s=s[Un]||s[Jo]){var c=s.tag;if(c===5||c===6||c===13||c===31||c===26||c===27||c===3)return s}return null}function po(s){var c=s.tag;if(c===5||c===26||c===27||c===6)return s.stateNode;throw Error(r(33))}function rl(s){var c=s[g0];return c||(c=s[g0]={hoistableStyles:new Map,hoistableScripts:new Map}),c}function Fn(s){s[gc]=!0}var b0=new Set,y0={};function es(s,c){go(s,c),go(s+"Capture",c)}function go(s,c){for(y0[s]=c,s=0;s<c.length;s++)b0.add(c[s])}var bc=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Qf={},eh={};function yc(s){return De.call(eh,s)?!0:De.call(Qf,s)?!1:bc.test(s)?eh[s]=!0:(Qf[s]=!0,!1)}function wt(s,c,p){if(yc(c))if(p===null)s.removeAttribute(c);else{switch(typeof p){case"undefined":case"function":case"symbol":s.removeAttribute(c);return;case"boolean":var x=c.toLowerCase().slice(0,5);if(x!=="data-"&&x!=="aria-"){s.removeAttribute(c);return}}s.setAttribute(c,""+p)}}function Wt(s,c,p){if(p===null)s.removeAttribute(c);else{switch(typeof p){case"undefined":case"function":case"symbol":case"boolean":s.removeAttribute(c);return}s.setAttribute(c,""+p)}}function li(s,c,p,x){if(x===null)s.removeAttribute(p);else{switch(typeof x){case"undefined":case"function":case"symbol":case"boolean":s.removeAttribute(p);return}s.setAttributeNS(c,p,""+x)}}function er(s){switch(typeof s){case"bigint":case"boolean":case"number":case"string":case"undefined":return s;case"object":return s;default:return""}}function ts(s){var c=s.type;return(s=s.nodeName)&&s.toLowerCase()==="input"&&(c==="checkbox"||c==="radio")}function th(s,c,p){var x=Object.getOwnPropertyDescriptor(s.constructor.prototype,c);if(!s.hasOwnProperty(c)&&typeof x<"u"&&typeof x.get=="function"&&typeof x.set=="function"){var A=x.get,N=x.set;return Object.defineProperty(s,c,{configurable:!0,get:function(){return A.call(this)},set:function($){p=""+$,N.call(this,$)}}),Object.defineProperty(s,c,{enumerable:x.enumerable}),{getValue:function(){return p},setValue:function($){p=""+$},stopTracking:function(){s._valueTracker=null,delete s[c]}}}}function dt(s){if(!s._valueTracker){var c=ts(s)?"checked":"value";s._valueTracker=th(s,c,""+s[c])}}function hn(s){if(!s)return!1;var c=s._valueTracker;if(!c)return!0;var p=c.getValue(),x="";return s&&(x=ts(s)?s.checked?"true":"false":s.value),s=x,s!==p?(c.setValue(s),!0):!1}function il(s){if(s=s||(typeof document<"u"?document:void 0),typeof s>"u")return null;try{return s.activeElement||s.body}catch{return s.body}}var Uu=/[\n"\\]/g;function ln(s){return s.replace(Uu,function(c){return"\\"+c.charCodeAt(0).toString(16)+" "})}function nh(s,c,p,x,A,N,$,H){s.name="",$!=null&&typeof $!="function"&&typeof $!="symbol"&&typeof $!="boolean"?s.type=$:s.removeAttribute("type"),c!=null?$==="number"?(c===0&&s.value===""||s.value!=c)&&(s.value=""+er(c)):s.value!==""+er(c)&&(s.value=""+er(c)):$!=="submit"&&$!=="reset"||s.removeAttribute("value"),c!=null?La(s,$,er(c)):p!=null?La(s,$,er(p)):x!=null&&s.removeAttribute("value"),A==null&&N!=null&&(s.defaultChecked=!!N),A!=null&&(s.checked=A&&typeof A!="function"&&typeof A!="symbol"),H!=null&&typeof H!="function"&&typeof H!="symbol"&&typeof H!="boolean"?s.name=""+er(H):s.removeAttribute("name")}function vc(s,c,p,x,A,N,$,H){if(N!=null&&typeof N!="function"&&typeof N!="symbol"&&typeof N!="boolean"&&(s.type=N),c!=null||p!=null){if(!(N!=="submit"&&N!=="reset"||c!=null)){dt(s);return}p=p!=null?""+er(p):"",c=c!=null?""+er(c):p,H||c===s.value||(s.value=c),s.defaultValue=c}x=x??A,x=typeof x!="function"&&typeof x!="symbol"&&!!x,s.checked=H?s.checked:!!x,s.defaultChecked=!!x,$!=null&&typeof $!="function"&&typeof $!="symbol"&&typeof $!="boolean"&&(s.name=$),dt(s)}function La(s,c,p){c==="number"&&il(s.ownerDocument)===s||s.defaultValue===""+p||(s.defaultValue=""+p)}function Jt(s,c,p,x){if(s=s.options,c){c={};for(var A=0;A<p.length;A++)c["$"+p[A]]=!0;for(p=0;p<s.length;p++)A=c.hasOwnProperty("$"+s[p].value),s[p].selected!==A&&(s[p].selected=A),A&&x&&(s[p].defaultSelected=!0)}else{for(p=""+er(p),c=null,A=0;A<s.length;A++){if(s[A].value===p){s[A].selected=!0,x&&(s[A].defaultSelected=!0);return}c!==null||s[A].disabled||(c=s[A])}c!==null&&(c.selected=!0)}}function bo(s,c,p){if(c!=null&&(c=""+er(c),c!==s.value&&(s.value=c),p==null)){s.defaultValue!==c&&(s.defaultValue=c);return}s.defaultValue=p!=null?""+er(p):""}function al(s,c,p,x){if(c==null){if(x!=null){if(p!=null)throw Error(r(92));if(Z(x)){if(1<x.length)throw Error(r(93));x=x[0]}p=x}p==null&&(p=""),c=p}p=er(c),s.defaultValue=p,x=s.textContent,x===p&&x!==""&&x!==null&&(s.value=x),dt(s)}function na(s,c){if(c){var p=s.firstChild;if(p&&p===s.lastChild&&p.nodeType===3){p.nodeValue=c;return}}s.textContent=c}var rh=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function ol(s,c,p){var x=c.indexOf("--")===0;p==null||typeof p=="boolean"||p===""?x?s.setProperty(c,""):c==="float"?s.cssFloat="":s[c]="":x?s.setProperty(c,p):typeof p!="number"||p===0||rh.has(c)?c==="float"?s.cssFloat=p:s[c]=(""+p).trim():s[c]=p+"px"}function Fu(s,c,p){if(c!=null&&typeof c!="object")throw Error(r(62));if(s=s.style,p!=null){for(var x in p)!p.hasOwnProperty(x)||c!=null&&c.hasOwnProperty(x)||(x.indexOf("--")===0?s.setProperty(x,""):x==="float"?s.cssFloat="":s[x]="");for(var A in c)x=c[A],c.hasOwnProperty(A)&&p[A]!==x&&ol(s,A,x)}else for(var N in c)c.hasOwnProperty(N)&&ol(s,N,c[N])}function xc(s){if(s.indexOf("-")===-1)return!1;switch(s){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Hu=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),ih=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function sl(s){return ih.test(""+s)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":s}function ci(){}var Gu=null;function wc(s){return s=s.target||s.srcElement||window,s.correspondingUseElement&&(s=s.correspondingUseElement),s.nodeType===3?s.parentNode:s}var ll=null,ct=null;function Oi(s){var c=nl(s);if(c&&(s=c.stateNode)){var p=s[ur]||null;e:switch(s=c.stateNode,c.type){case"input":if(nh(s,p.value,p.defaultValue,p.defaultValue,p.checked,p.defaultChecked,p.type,p.name),c=p.name,p.type==="radio"&&c!=null){for(p=s;p.parentNode;)p=p.parentNode;for(p=p.querySelectorAll('input[name="'+ln(""+c)+'"][type="radio"]'),c=0;c<p.length;c++){var x=p[c];if(x!==s&&x.form===s.form){var A=x[ur]||null;if(!A)throw Error(r(90));nh(x,A.value,A.defaultValue,A.defaultValue,A.checked,A.defaultChecked,A.type,A.name)}}for(c=0;c<p.length;c++)x=p[c],x.form===s.form&&hn(x)}break e;case"textarea":bo(s,p.value,p.defaultValue);break e;case"select":c=p.value,c!=null&&Jt(s,!!p.multiple,c,!1)}}}var Ut=!1;function ah(s,c,p){if(Ut)return s(c,p);Ut=!0;try{var x=s(c);return x}finally{if(Ut=!1,(ll!==null||ct!==null)&&(mg(),ll&&(c=ll,s=ct,ct=ll=null,Oi(c),s)))for(c=0;c<s.length;c++)Oi(s[c])}}function ns(s,c){var p=s.stateNode;if(p===null)return null;var x=p[ur]||null;if(x===null)return null;p=x[c];e:switch(c){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(x=!x.disabled)||(s=s.type,x=!(s==="button"||s==="input"||s==="select"||s==="textarea")),s=!x;break e;default:s=!1}if(s)return null;if(p&&typeof p!="function")throw Error(r(231,c,typeof p));return p}var Ci=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),_c=!1;if(Ci)try{var Mi={};Object.defineProperty(Mi,"passive",{get:function(){_c=!0}}),window.addEventListener("test",Mi,Mi),window.removeEventListener("test",Mi,Mi)}catch{_c=!1}var ra=null,rs=null,An=null;function yo(){if(An)return An;var s,c=rs,p=c.length,x,A="value"in ra?ra.value:ra.textContent,N=A.length;for(s=0;s<p&&c[s]===A[s];s++);var $=p-s;for(x=1;x<=$&&c[p-x]===A[N-x];x++);return An=A.slice(s,1<x?1-x:void 0)}function Sc(s){var c=s.keyCode;return"charCode"in s?(s=s.charCode,s===0&&c===13&&(s=13)):s=c,s===10&&(s=13),32<=s||s===13?s:0}function kc(){return!0}function v0(){return!1}function jr(s){function c(p,x,A,N,$){this._reactName=p,this._targetInst=A,this.type=x,this.nativeEvent=N,this.target=$,this.currentTarget=null;for(var H in s)s.hasOwnProperty(H)&&(p=s[H],this[H]=p?p(N):N[H]);return this.isDefaultPrevented=(N.defaultPrevented!=null?N.defaultPrevented:N.returnValue===!1)?kc:v0,this.isPropagationStopped=v0,this}return m(c.prototype,{preventDefault:function(){this.defaultPrevented=!0;var p=this.nativeEvent;p&&(p.preventDefault?p.preventDefault():typeof p.returnValue!="unknown"&&(p.returnValue=!1),this.isDefaultPrevented=kc)},stopPropagation:function(){var p=this.nativeEvent;p&&(p.stopPropagation?p.stopPropagation():typeof p.cancelBubble!="unknown"&&(p.cancelBubble=!0),this.isPropagationStopped=kc)},persist:function(){},isPersistent:kc}),c}var Ia={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(s){return s.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Yu=jr(Ia),cl=m({},Ia,{view:0,detail:0}),Et=jr(cl),oh,Kr,$a,Ec=m({},cl,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:fh,button:0,buttons:0,relatedTarget:function(s){return s.relatedTarget===void 0?s.fromElement===s.srcElement?s.toElement:s.fromElement:s.relatedTarget},movementX:function(s){return"movementX"in s?s.movementX:(s!==$a&&($a&&s.type==="mousemove"?(oh=s.screenX-$a.screenX,Kr=s.screenY-$a.screenY):Kr=oh=0,$a=s),oh)},movementY:function(s){return"movementY"in s?s.movementY:Kr}}),x0=jr(Ec),sh=m({},Ec,{dataTransfer:0}),hw=jr(sh),w0=m({},cl,{relatedTarget:0}),lh=jr(w0),mw=m({},Ia,{animationName:0,elapsedTime:0,pseudoElement:0}),ch=jr(mw),pw=m({},Ia,{clipboardData:function(s){return"clipboardData"in s?s.clipboardData:window.clipboardData}}),ia=jr(pw),gw=m({},Ia,{data:0}),uh=jr(gw),vo={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},_0={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},S0={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function dh(s){var c=this.nativeEvent;return c.getModifierState?c.getModifierState(s):(s=S0[s])?!!c[s]:!1}function fh(){return dh}var k0=m({},cl,{key:function(s){if(s.key){var c=vo[s.key]||s.key;if(c!=="Unidentified")return c}return s.type==="keypress"?(s=Sc(s),s===13?"Enter":String.fromCharCode(s)):s.type==="keydown"||s.type==="keyup"?_0[s.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:fh,charCode:function(s){return s.type==="keypress"?Sc(s):0},keyCode:function(s){return s.type==="keydown"||s.type==="keyup"?s.keyCode:0},which:function(s){return s.type==="keypress"?Sc(s):s.type==="keydown"||s.type==="keyup"?s.keyCode:0}}),E0=jr(k0),bw=m({},Ec,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),j0=jr(bw),hh=m({},cl,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:fh}),yw=jr(hh),T0=m({},Ia,{propertyName:0,elapsedTime:0,pseudoElement:0}),A0=jr(T0),qu=m({},Ec,{deltaX:function(s){return"deltaX"in s?s.deltaX:"wheelDeltaX"in s?-s.wheelDeltaX:0},deltaY:function(s){return"deltaY"in s?s.deltaY:"wheelDeltaY"in s?-s.wheelDeltaY:"wheelDelta"in s?-s.wheelDelta:0},deltaZ:0,deltaMode:0}),is=jr(qu),vw=m({},Ia,{newState:0,oldState:0}),jc=jr(vw),ui=[9,13,27,32],Ku=Ci&&"CompositionEvent"in window,ul=null;Ci&&"documentMode"in document&&(ul=document.documentMode);var xw=Ci&&"TextEvent"in window&&!ul,Wu=Ci&&(!Ku||ul&&8<ul&&11>=ul),Vu=" ",N0=!1;function O0(s,c){switch(s){case"keyup":return ui.indexOf(c.keyCode)!==-1;case"keydown":return c.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function mh(s){return s=s.detail,typeof s=="object"&&"data"in s?s.data:null}var dl=!1;function Di(s,c){switch(s){case"compositionend":return mh(c);case"keypress":return c.which!==32?null:(N0=!0,Vu);case"textInput":return s=c.data,s===Vu&&N0?null:s;default:return null}}function fl(s,c){if(dl)return s==="compositionend"||!Ku&&O0(s,c)?(s=yo(),An=rs=ra=null,dl=!1,s):null;switch(s){case"paste":return null;case"keypress":if(!(c.ctrlKey||c.altKey||c.metaKey)||c.ctrlKey&&c.altKey){if(c.char&&1<c.char.length)return c.char;if(c.which)return String.fromCharCode(c.which)}return null;case"compositionend":return Wu&&c.locale!=="ko"?null:c.data;default:return null}}var ww={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function aa(s){var c=s&&s.nodeName&&s.nodeName.toLowerCase();return c==="input"?!!ww[s.type]:c==="textarea"}function C0(s,c,p,x){ll?ct?ct.push(x):ct=[x]:ll=x,c=wg(c,"onChange"),0<c.length&&(p=new Yu("onChange","change",null,p,x),s.push({event:p,listeners:c}))}var oa=null,Tc=null;function Ac(s){TC(s,0)}function Nc(s){var c=po(s);if(hn(c))return s}function Oc(s,c){if(s==="change")return c}var M0=!1;if(Ci){var sa;if(Ci){var hl="oninput"in document;if(!hl){var D0=document.createElement("div");D0.setAttribute("oninput","return;"),hl=typeof D0.oninput=="function"}sa=hl}else sa=!1;M0=sa&&(!document.documentMode||9<document.documentMode)}function Zu(){oa&&(oa.detachEvent("onpropertychange",P0),Tc=oa=null)}function P0(s){if(s.propertyName==="value"&&Nc(Tc)){var c=[];C0(c,Tc,s,wc(s)),ah(Ac,c)}}function Ba(s,c,p){s==="focusin"?(Zu(),oa=c,Tc=p,oa.attachEvent("onpropertychange",P0)):s==="focusout"&&Zu()}function _w(s){if(s==="selectionchange"||s==="keyup"||s==="keydown")return Nc(Tc)}function ml(s,c){if(s==="click")return Nc(c)}function Sw(s,c){if(s==="input"||s==="change")return Nc(c)}function za(s,c){return s===c&&(s!==0||1/s===1/c)||s!==s&&c!==c}var dr=typeof Object.is=="function"?Object.is:za;function pl(s,c){if(dr(s,c))return!0;if(typeof s!="object"||s===null||typeof c!="object"||c===null)return!1;var p=Object.keys(s),x=Object.keys(c);if(p.length!==x.length)return!1;for(x=0;x<p.length;x++){var A=p[x];if(!De.call(c,A)||!dr(s[A],c[A]))return!1}return!0}function Xu(s){for(;s&&s.firstChild;)s=s.firstChild;return s}function Cc(s,c){var p=Xu(s);s=0;for(var x;p;){if(p.nodeType===3){if(x=s+p.textContent.length,s<=c&&x>=c)return{node:p,offset:c-s};s=x}e:{for(;p;){if(p.nextSibling){p=p.nextSibling;break e}p=p.parentNode}p=void 0}p=Xu(p)}}function Ju(s,c){return s&&c?s===c?!0:s&&s.nodeType===3?!1:c&&c.nodeType===3?Ju(s,c.parentNode):"contains"in s?s.contains(c):s.compareDocumentPosition?!!(s.compareDocumentPosition(c)&16):!1:!1}function Mc(s){s=s!=null&&s.ownerDocument!=null&&s.ownerDocument.defaultView!=null?s.ownerDocument.defaultView:window;for(var c=il(s.document);c instanceof s.HTMLIFrameElement;){try{var p=typeof c.contentWindow.location.href=="string"}catch{p=!1}if(p)s=c.contentWindow;else break;c=il(s.document)}return c}function xo(s){var c=s&&s.nodeName&&s.nodeName.toLowerCase();return c&&(c==="input"&&(s.type==="text"||s.type==="search"||s.type==="tel"||s.type==="url"||s.type==="password")||c==="textarea"||s.contentEditable==="true")}var Qu=Ci&&"documentMode"in document&&11>=document.documentMode,wo=null,ed=null,Dc=null,gl=!1;function R0(s,c,p){var x=p.window===p?p.document:p.nodeType===9?p:p.ownerDocument;gl||wo==null||wo!==il(x)||(x=wo,"selectionStart"in x&&xo(x)?x={start:x.selectionStart,end:x.selectionEnd}:(x=(x.ownerDocument&&x.ownerDocument.defaultView||window).getSelection(),x={anchorNode:x.anchorNode,anchorOffset:x.anchorOffset,focusNode:x.focusNode,focusOffset:x.focusOffset}),Dc&&pl(Dc,x)||(Dc=x,x=wg(ed,"onSelect"),0<x.length&&(c=new Yu("onSelect","select",null,c,p),s.push({event:c,listeners:x}),c.target=wo)))}function _o(s,c){var p={};return p[s.toLowerCase()]=c.toLowerCase(),p["Webkit"+s]="webkit"+c,p["Moz"+s]="moz"+c,p}var bl={animationend:_o("Animation","AnimationEnd"),animationiteration:_o("Animation","AnimationIteration"),animationstart:_o("Animation","AnimationStart"),transitionrun:_o("Transition","TransitionRun"),transitionstart:_o("Transition","TransitionStart"),transitioncancel:_o("Transition","TransitionCancel"),transitionend:_o("Transition","TransitionEnd")},td={},L0={};Ci&&(L0=document.createElement("div").style,"AnimationEvent"in window||(delete bl.animationend.animation,delete bl.animationiteration.animation,delete bl.animationstart.animation),"TransitionEvent"in window||delete bl.transitionend.transition);function fr(s){if(td[s])return td[s];if(!bl[s])return s;var c=bl[s],p;for(p in c)if(c.hasOwnProperty(p)&&p in L0)return td[s]=c[p];return s}var Pc=fr("animationend"),I0=fr("animationiteration"),Rc=fr("animationstart"),kw=fr("transitionrun"),$0=fr("transitionstart"),Ew=fr("transitioncancel"),yl=fr("transitionend"),B0=new Map,So="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");So.push("scrollEnd");function di(s,c){B0.set(s,c),es(c,[s])}var Lc=typeof reportError=="function"?reportError:function(s){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var c=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof s=="object"&&s!==null&&typeof s.message=="string"?String(s.message):String(s),error:s});if(!window.dispatchEvent(c))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",s);return}console.error(s)},fi=[],Br=0,nd=0;function Ic(){for(var s=Br,c=nd=Br=0;c<s;){var p=fi[c];fi[c++]=null;var x=fi[c];fi[c++]=null;var A=fi[c];fi[c++]=null;var N=fi[c];if(fi[c++]=null,x!==null&&A!==null){var $=x.pending;$===null?A.next=A:(A.next=$.next,$.next=A),x.pending=A}N!==0&&vl(p,A,N)}}function ko(s,c,p,x){fi[Br++]=s,fi[Br++]=c,fi[Br++]=p,fi[Br++]=x,nd|=x,s.lanes|=x,s=s.alternate,s!==null&&(s.lanes|=x)}function ph(s,c,p,x){return ko(s,c,p,x),$c(s)}function la(s,c){return ko(s,null,null,c),$c(s)}function vl(s,c,p){s.lanes|=p;var x=s.alternate;x!==null&&(x.lanes|=p);for(var A=!1,N=s.return;N!==null;)N.childLanes|=p,x=N.alternate,x!==null&&(x.childLanes|=p),N.tag===22&&(s=N.stateNode,s===null||s._visibility&1||(A=!0)),s=N,N=N.return;return s.tag===3?(N=s.stateNode,A&&c!==null&&(A=31-rn(p),s=N.hiddenUpdates,x=s[A],x===null?s[A]=[c]:x.push(c),c.lane=p|536870912),N):null}function $c(s){if(50<zh)throw zh=0,T_=null,Error(r(185));for(var c=s.return;c!==null;)s=c,c=s.return;return s.tag===3?s.stateNode:null}var as={};function jw(s,c,p,x){this.tag=s,this.key=p,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=c,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=x,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function zr(s,c,p,x){return new jw(s,c,p,x)}function rd(s){return s=s.prototype,!(!s||!s.isReactComponent)}function ca(s,c){var p=s.alternate;return p===null?(p=zr(s.tag,c,s.key,s.mode),p.elementType=s.elementType,p.type=s.type,p.stateNode=s.stateNode,p.alternate=s,s.alternate=p):(p.pendingProps=c,p.type=s.type,p.flags=0,p.subtreeFlags=0,p.deletions=null),p.flags=s.flags&65011712,p.childLanes=s.childLanes,p.lanes=s.lanes,p.child=s.child,p.memoizedProps=s.memoizedProps,p.memoizedState=s.memoizedState,p.updateQueue=s.updateQueue,c=s.dependencies,p.dependencies=c===null?null:{lanes:c.lanes,firstContext:c.firstContext},p.sibling=s.sibling,p.index=s.index,p.ref=s.ref,p.refCleanup=s.refCleanup,p}function gh(s,c){s.flags&=65011714;var p=s.alternate;return p===null?(s.childLanes=0,s.lanes=c,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=p.childLanes,s.lanes=p.lanes,s.child=p.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=p.memoizedProps,s.memoizedState=p.memoizedState,s.updateQueue=p.updateQueue,s.type=p.type,c=p.dependencies,s.dependencies=c===null?null:{lanes:c.lanes,firstContext:c.firstContext}),s}function Bc(s,c,p,x,A,N){var $=0;if(x=s,typeof s=="function")rd(s)&&($=1);else if(typeof s=="string")$=EY(s,p,he.current)?26:s==="html"||s==="head"||s==="body"?27:5;else e:switch(s){case K:return s=zr(31,p,c,A),s.elementType=K,s.lanes=N,s;case w:return os(p.children,A,N,c);case _:$=8,A|=24;break;case j:return s=zr(12,p,c,A|2),s.elementType=j,s.lanes=N,s;case M:return s=zr(13,p,c,A),s.elementType=M,s.lanes=N,s;case P:return s=zr(19,p,c,A),s.elementType=P,s.lanes=N,s;default:if(typeof s=="object"&&s!==null)switch(s.$$typeof){case T:$=10;break e;case O:$=9;break e;case C:$=11;break e;case I:$=14;break e;case z:$=16,x=null;break e}$=29,p=Error(r(130,s===null?"null":typeof s,"")),x=null}return c=zr($,p,c,A),c.elementType=s,c.type=x,c.lanes=N,c}function os(s,c,p,x){return s=zr(7,s,x,c),s.lanes=p,s}function id(s,c,p){return s=zr(6,s,null,c),s.lanes=p,s}function bh(s){var c=zr(18,null,null,0);return c.stateNode=s,c}function yh(s,c,p){return c=zr(4,s.children!==null?s.children:[],s.key,c),c.lanes=p,c.stateNode={containerInfo:s.containerInfo,pendingChildren:null,implementation:s.implementation},c}var f=new WeakMap;function v(s,c){if(typeof s=="object"&&s!==null){var p=f.get(s);return p!==void 0?p:(c={value:s,source:c,stack:mt(c)},f.set(s,c),c)}return{value:s,source:c,stack:mt(c)}}var E=[],D=0,R=null,U=0,te=[],fe=0,ye=null,Ae=1,Be="";function Je(s,c){E[D++]=U,E[D++]=R,R=s,U=c}function yt(s,c,p){te[fe++]=Ae,te[fe++]=Be,te[fe++]=ye,ye=s;var x=Ae;s=Be;var A=32-rn(x)-1;x&=~(1<<A),p+=1;var N=32-rn(c)+A;if(30<N){var $=A-A%5;N=(x&(1<<$)-1).toString(32),x>>=$,A-=$,Ae=1<<32-rn(c)+A|p<<A|x,Be=N+s}else Ae=1<<N|p<<A|x,Be=s}function tr(s){s.return!==null&&(Je(s,1),yt(s,1,0))}function Nn(s){for(;s===R;)R=E[--D],E[D]=null,U=E[--D],E[D]=null;for(;s===ye;)ye=te[--fe],te[fe]=null,Be=te[--fe],te[fe]=null,Ae=te[--fe],te[fe]=null}function Wr(s,c){te[fe++]=Ae,te[fe++]=Be,te[fe++]=ye,Ae=c.id,Be=c.overflow,ye=s}var Dt=null,Pt=null,_t=!1,Eo=null,hi=!1,ad=Error(r(519));function jo(s){var c=Error(r(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw zc(v(c,s)),ad}function vh(s){var c=s.stateNode,p=s.type,x=s.memoizedProps;switch(c[Un]=s,c[ur]=x,p){case"dialog":kt("cancel",c),kt("close",c);break;case"iframe":case"object":case"embed":kt("load",c);break;case"video":case"audio":for(p=0;p<Fh.length;p++)kt(Fh[p],c);break;case"source":kt("error",c);break;case"img":case"image":case"link":kt("error",c),kt("load",c);break;case"details":kt("toggle",c);break;case"input":kt("invalid",c),vc(c,x.value,x.defaultValue,x.checked,x.defaultChecked,x.type,x.name,!0);break;case"select":kt("invalid",c);break;case"textarea":kt("invalid",c),al(c,x.value,x.defaultValue,x.children)}p=x.children,typeof p!="string"&&typeof p!="number"&&typeof p!="bigint"||c.textContent===""+p||x.suppressHydrationWarning===!0||CC(c.textContent,p)?(x.popover!=null&&(kt("beforetoggle",c),kt("toggle",c)),x.onScroll!=null&&kt("scroll",c),x.onScrollEnd!=null&&kt("scrollend",c),x.onClick!=null&&(c.onclick=ci),c=!0):c=!1,c||jo(s,!0)}function Sn(s){for(Dt=s.return;Dt;)switch(Dt.tag){case 5:case 31:case 13:hi=!1;return;case 27:case 3:hi=!0;return;default:Dt=Dt.return}}function Ua(s){if(s!==Dt)return!1;if(!_t)return Sn(s),_t=!0,!1;var c=s.tag,p;if((p=c!==3&&c!==27)&&((p=c===5)&&(p=s.type,p=!(p!=="form"&&p!=="button")||F_(s.type,s.memoizedProps)),p=!p),p&&Pt&&jo(s),Sn(s),c===13){if(s=s.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(r(317));Pt=zC(s)}else if(c===31){if(s=s.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(r(317));Pt=zC(s)}else c===27?(c=Pt,Dl(s.type)?(s=K_,K_=null,Pt=s):Pt=c):Pt=Dt?da(s.stateNode.nextSibling):null;return!0}function ss(){Pt=Dt=null,_t=!1}function xh(){var s=Eo;return s!==null&&(bi===null?bi=s:bi.push.apply(bi,s),Eo=null),s}function zc(s){Eo===null?Eo=[s]:Eo.push(s)}var Uc=W(null),To=null,Fa=null;function xl(s,c,p){ie(Uc,c._currentValue),c._currentValue=p}function ls(s){s._currentValue=Uc.current,ne(Uc)}function Tw(s,c,p){for(;s!==null;){var x=s.alternate;if((s.childLanes&c)!==c?(s.childLanes|=c,x!==null&&(x.childLanes|=c)):x!==null&&(x.childLanes&c)!==c&&(x.childLanes|=c),s===p)break;s=s.return}}function Aw(s,c,p,x){var A=s.child;for(A!==null&&(A.return=s);A!==null;){var N=A.dependencies;if(N!==null){var $=A.child;N=N.firstContext;e:for(;N!==null;){var H=N;N=A;for(var re=0;re<c.length;re++)if(H.context===c[re]){N.lanes|=p,H=N.alternate,H!==null&&(H.lanes|=p),Tw(N.return,p,s),x||($=null);break e}N=H.next}}else if(A.tag===18){if($=A.return,$===null)throw Error(r(341));$.lanes|=p,N=$.alternate,N!==null&&(N.lanes|=p),Tw($,p,s),$=null}else $=A.child;if($!==null)$.return=A;else for($=A;$!==null;){if($===s){$=null;break}if(A=$.sibling,A!==null){A.return=$.return,$=A;break}$=$.return}A=$}}function od(s,c,p,x){s=null;for(var A=c,N=!1;A!==null;){if(!N){if((A.flags&524288)!==0)N=!0;else if((A.flags&262144)!==0)break}if(A.tag===10){var $=A.alternate;if($===null)throw Error(r(387));if($=$.memoizedProps,$!==null){var H=A.type;dr(A.pendingProps.value,$.value)||(s!==null?s.push(H):s=[H])}}else if(A===pe.current){if($=A.alternate,$===null)throw Error(r(387));$.memoizedState.memoizedState!==A.memoizedState.memoizedState&&(s!==null?s.push(Kh):s=[Kh])}A=A.return}s!==null&&Aw(c,s,p,x),c.flags|=262144}function z0(s){for(s=s.firstContext;s!==null;){if(!dr(s.context._currentValue,s.memoizedValue))return!0;s=s.next}return!1}function Fc(s){To=s,Fa=null,s=s.dependencies,s!==null&&(s.firstContext=null)}function Tr(s){return gN(To,s)}function U0(s,c){return To===null&&Fc(s),gN(s,c)}function gN(s,c){var p=c._currentValue;if(c={context:c,memoizedValue:p,next:null},Fa===null){if(s===null)throw Error(r(308));Fa=c,s.dependencies={lanes:0,firstContext:c},s.flags|=524288}else Fa=Fa.next=c;return p}var wG=typeof AbortController<"u"?AbortController:function(){var s=[],c=this.signal={aborted:!1,addEventListener:function(p,x){s.push(x)}};this.abort=function(){c.aborted=!0,s.forEach(function(p){return p()})}},_G=e.unstable_scheduleCallback,SG=e.unstable_NormalPriority,Hn={$$typeof:T,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Nw(){return{controller:new wG,data:new Map,refCount:0}}function wh(s){s.refCount--,s.refCount===0&&_G(SG,function(){s.controller.abort()})}var _h=null,Ow=0,sd=0,ld=null;function kG(s,c){if(_h===null){var p=_h=[];Ow=0,sd=D_(),ld={status:"pending",value:void 0,then:function(x){p.push(x)}}}return Ow++,c.then(bN,bN),c}function bN(){if(--Ow===0&&_h!==null){ld!==null&&(ld.status="fulfilled");var s=_h;_h=null,sd=0,ld=null;for(var c=0;c<s.length;c++)(0,s[c])()}}function EG(s,c){var p=[],x={status:"pending",value:null,reason:null,then:function(A){p.push(A)}};return s.then(function(){x.status="fulfilled",x.value=c;for(var A=0;A<p.length;A++)(0,p[A])(c)},function(A){for(x.status="rejected",x.reason=A,A=0;A<p.length;A++)(0,p[A])(void 0)}),x}var yN=Y.S;Y.S=function(s,c){tC=Ue(),typeof c=="object"&&c!==null&&typeof c.then=="function"&&kG(s,c),yN!==null&&yN(s,c)};var Hc=W(null);function Cw(){var s=Hc.current;return s!==null?s:Qt.pooledCache}function F0(s,c){c===null?ie(Hc,Hc.current):ie(Hc,c.pool)}function vN(){var s=Cw();return s===null?null:{parent:Hn._currentValue,pool:s}}var cd=Error(r(460)),Mw=Error(r(474)),H0=Error(r(542)),G0={then:function(){}};function xN(s){return s=s.status,s==="fulfilled"||s==="rejected"}function wN(s,c,p){switch(p=s[p],p===void 0?s.push(c):p!==c&&(c.then(ci,ci),c=p),c.status){case"fulfilled":return c.value;case"rejected":throw s=c.reason,SN(s),s;default:if(typeof c.status=="string")c.then(ci,ci);else{if(s=Qt,s!==null&&100<s.shellSuspendCounter)throw Error(r(482));s=c,s.status="pending",s.then(function(x){if(c.status==="pending"){var A=c;A.status="fulfilled",A.value=x}},function(x){if(c.status==="pending"){var A=c;A.status="rejected",A.reason=x}})}switch(c.status){case"fulfilled":return c.value;case"rejected":throw s=c.reason,SN(s),s}throw Yc=c,cd}}function Gc(s){try{var c=s._init;return c(s._payload)}catch(p){throw p!==null&&typeof p=="object"&&typeof p.then=="function"?(Yc=p,cd):p}}var Yc=null;function _N(){if(Yc===null)throw Error(r(459));var s=Yc;return Yc=null,s}function SN(s){if(s===cd||s===H0)throw Error(r(483))}var ud=null,Sh=0;function Y0(s){var c=Sh;return Sh+=1,ud===null&&(ud=[]),wN(ud,s,c)}function kh(s,c){c=c.props.ref,s.ref=c!==void 0?c:null}function q0(s,c){throw c.$$typeof===b?Error(r(525)):(s=Object.prototype.toString.call(c),Error(r(31,s==="[object Object]"?"object with keys {"+Object.keys(c).join(", ")+"}":s)))}function kN(s){function c(de,le){if(s){var ge=de.deletions;ge===null?(de.deletions=[le],de.flags|=16):ge.push(le)}}function p(de,le){if(!s)return null;for(;le!==null;)c(de,le),le=le.sibling;return null}function x(de){for(var le=new Map;de!==null;)de.key!==null?le.set(de.key,de):le.set(de.index,de),de=de.sibling;return le}function A(de,le){return de=ca(de,le),de.index=0,de.sibling=null,de}function N(de,le,ge){return de.index=ge,s?(ge=de.alternate,ge!==null?(ge=ge.index,ge<le?(de.flags|=67108866,le):ge):(de.flags|=67108866,le)):(de.flags|=1048576,le)}function $(de){return s&&de.alternate===null&&(de.flags|=67108866),de}function H(de,le,ge,Te){return le===null||le.tag!==6?(le=id(ge,de.mode,Te),le.return=de,le):(le=A(le,ge),le.return=de,le)}function re(de,le,ge,Te){var nt=ge.type;return nt===w?ke(de,le,ge.props.children,Te,ge.key):le!==null&&(le.elementType===nt||typeof nt=="object"&&nt!==null&&nt.$$typeof===z&&Gc(nt)===le.type)?(le=A(le,ge.props),kh(le,ge),le.return=de,le):(le=Bc(ge.type,ge.key,ge.props,null,de.mode,Te),kh(le,ge),le.return=de,le)}function be(de,le,ge,Te){return le===null||le.tag!==4||le.stateNode.containerInfo!==ge.containerInfo||le.stateNode.implementation!==ge.implementation?(le=yh(ge,de.mode,Te),le.return=de,le):(le=A(le,ge.children||[]),le.return=de,le)}function ke(de,le,ge,Te,nt){return le===null||le.tag!==7?(le=os(ge,de.mode,Te,nt),le.return=de,le):(le=A(le,ge),le.return=de,le)}function Ne(de,le,ge){if(typeof le=="string"&&le!==""||typeof le=="number"||typeof le=="bigint")return le=id(""+le,de.mode,ge),le.return=de,le;if(typeof le=="object"&&le!==null){switch(le.$$typeof){case y:return ge=Bc(le.type,le.key,le.props,null,de.mode,ge),kh(ge,le),ge.return=de,ge;case k:return le=yh(le,de.mode,ge),le.return=de,le;case z:return le=Gc(le),Ne(de,le,ge)}if(Z(le)||B(le))return le=os(le,de.mode,ge,null),le.return=de,le;if(typeof le.then=="function")return Ne(de,Y0(le),ge);if(le.$$typeof===T)return Ne(de,U0(de,le),ge);q0(de,le)}return null}function ve(de,le,ge,Te){var nt=le!==null?le.key:null;if(typeof ge=="string"&&ge!==""||typeof ge=="number"||typeof ge=="bigint")return nt!==null?null:H(de,le,""+ge,Te);if(typeof ge=="object"&&ge!==null){switch(ge.$$typeof){case y:return ge.key===nt?re(de,le,ge,Te):null;case k:return ge.key===nt?be(de,le,ge,Te):null;case z:return ge=Gc(ge),ve(de,le,ge,Te)}if(Z(ge)||B(ge))return nt!==null?null:ke(de,le,ge,Te,null);if(typeof ge.then=="function")return ve(de,le,Y0(ge),Te);if(ge.$$typeof===T)return ve(de,le,U0(de,ge),Te);q0(de,ge)}return null}function we(de,le,ge,Te,nt){if(typeof Te=="string"&&Te!==""||typeof Te=="number"||typeof Te=="bigint")return de=de.get(ge)||null,H(le,de,""+Te,nt);if(typeof Te=="object"&&Te!==null){switch(Te.$$typeof){case y:return de=de.get(Te.key===null?ge:Te.key)||null,re(le,de,Te,nt);case k:return de=de.get(Te.key===null?ge:Te.key)||null,be(le,de,Te,nt);case z:return Te=Gc(Te),we(de,le,ge,Te,nt)}if(Z(Te)||B(Te))return de=de.get(ge)||null,ke(le,de,Te,nt,null);if(typeof Te.then=="function")return we(de,le,ge,Y0(Te),nt);if(Te.$$typeof===T)return we(de,le,ge,U0(le,Te),nt);q0(le,Te)}return null}function Ye(de,le,ge,Te){for(var nt=null,Rt=null,Ve=le,vt=le=0,Tt=null;Ve!==null&&vt<ge.length;vt++){Ve.index>vt?(Tt=Ve,Ve=null):Tt=Ve.sibling;var Lt=ve(de,Ve,ge[vt],Te);if(Lt===null){Ve===null&&(Ve=Tt);break}s&&Ve&&Lt.alternate===null&&c(de,Ve),le=N(Lt,le,vt),Rt===null?nt=Lt:Rt.sibling=Lt,Rt=Lt,Ve=Tt}if(vt===ge.length)return p(de,Ve),_t&&Je(de,vt),nt;if(Ve===null){for(;vt<ge.length;vt++)Ve=Ne(de,ge[vt],Te),Ve!==null&&(le=N(Ve,le,vt),Rt===null?nt=Ve:Rt.sibling=Ve,Rt=Ve);return _t&&Je(de,vt),nt}for(Ve=x(Ve);vt<ge.length;vt++)Tt=we(Ve,de,vt,ge[vt],Te),Tt!==null&&(s&&Tt.alternate!==null&&Ve.delete(Tt.key===null?vt:Tt.key),le=N(Tt,le,vt),Rt===null?nt=Tt:Rt.sibling=Tt,Rt=Tt);return s&&Ve.forEach(function($l){return c(de,$l)}),_t&&Je(de,vt),nt}function ot(de,le,ge,Te){if(ge==null)throw Error(r(151));for(var nt=null,Rt=null,Ve=le,vt=le=0,Tt=null,Lt=ge.next();Ve!==null&&!Lt.done;vt++,Lt=ge.next()){Ve.index>vt?(Tt=Ve,Ve=null):Tt=Ve.sibling;var $l=ve(de,Ve,Lt.value,Te);if($l===null){Ve===null&&(Ve=Tt);break}s&&Ve&&$l.alternate===null&&c(de,Ve),le=N($l,le,vt),Rt===null?nt=$l:Rt.sibling=$l,Rt=$l,Ve=Tt}if(Lt.done)return p(de,Ve),_t&&Je(de,vt),nt;if(Ve===null){for(;!Lt.done;vt++,Lt=ge.next())Lt=Ne(de,Lt.value,Te),Lt!==null&&(le=N(Lt,le,vt),Rt===null?nt=Lt:Rt.sibling=Lt,Rt=Lt);return _t&&Je(de,vt),nt}for(Ve=x(Ve);!Lt.done;vt++,Lt=ge.next())Lt=we(Ve,de,vt,Lt.value,Te),Lt!==null&&(s&&Lt.alternate!==null&&Ve.delete(Lt.key===null?vt:Lt.key),le=N(Lt,le,vt),Rt===null?nt=Lt:Rt.sibling=Lt,Rt=Lt);return s&&Ve.forEach(function(LY){return c(de,LY)}),_t&&Je(de,vt),nt}function Xt(de,le,ge,Te){if(typeof ge=="object"&&ge!==null&&ge.type===w&&ge.key===null&&(ge=ge.props.children),typeof ge=="object"&&ge!==null){switch(ge.$$typeof){case y:e:{for(var nt=ge.key;le!==null;){if(le.key===nt){if(nt=ge.type,nt===w){if(le.tag===7){p(de,le.sibling),Te=A(le,ge.props.children),Te.return=de,de=Te;break e}}else if(le.elementType===nt||typeof nt=="object"&&nt!==null&&nt.$$typeof===z&&Gc(nt)===le.type){p(de,le.sibling),Te=A(le,ge.props),kh(Te,ge),Te.return=de,de=Te;break e}p(de,le);break}else c(de,le);le=le.sibling}ge.type===w?(Te=os(ge.props.children,de.mode,Te,ge.key),Te.return=de,de=Te):(Te=Bc(ge.type,ge.key,ge.props,null,de.mode,Te),kh(Te,ge),Te.return=de,de=Te)}return $(de);case k:e:{for(nt=ge.key;le!==null;){if(le.key===nt)if(le.tag===4&&le.stateNode.containerInfo===ge.containerInfo&&le.stateNode.implementation===ge.implementation){p(de,le.sibling),Te=A(le,ge.children||[]),Te.return=de,de=Te;break e}else{p(de,le);break}else c(de,le);le=le.sibling}Te=yh(ge,de.mode,Te),Te.return=de,de=Te}return $(de);case z:return ge=Gc(ge),Xt(de,le,ge,Te)}if(Z(ge))return Ye(de,le,ge,Te);if(B(ge)){if(nt=B(ge),typeof nt!="function")throw Error(r(150));return ge=nt.call(ge),ot(de,le,ge,Te)}if(typeof ge.then=="function")return Xt(de,le,Y0(ge),Te);if(ge.$$typeof===T)return Xt(de,le,U0(de,ge),Te);q0(de,ge)}return typeof ge=="string"&&ge!==""||typeof ge=="number"||typeof ge=="bigint"?(ge=""+ge,le!==null&&le.tag===6?(p(de,le.sibling),Te=A(le,ge),Te.return=de,de=Te):(p(de,le),Te=id(ge,de.mode,Te),Te.return=de,de=Te),$(de)):p(de,le)}return function(de,le,ge,Te){try{Sh=0;var nt=Xt(de,le,ge,Te);return ud=null,nt}catch(Ve){if(Ve===cd||Ve===H0)throw Ve;var Rt=zr(29,Ve,null,de.mode);return Rt.lanes=Te,Rt.return=de,Rt}finally{}}}var qc=kN(!0),EN=kN(!1),wl=!1;function Dw(s){s.updateQueue={baseState:s.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Pw(s,c){s=s.updateQueue,c.updateQueue===s&&(c.updateQueue={baseState:s.baseState,firstBaseUpdate:s.firstBaseUpdate,lastBaseUpdate:s.lastBaseUpdate,shared:s.shared,callbacks:null})}function _l(s){return{lane:s,tag:0,payload:null,callback:null,next:null}}function Sl(s,c,p){var x=s.updateQueue;if(x===null)return null;if(x=x.shared,($t&2)!==0){var A=x.pending;return A===null?c.next=c:(c.next=A.next,A.next=c),x.pending=c,c=$c(s),vl(s,null,p),c}return ko(s,x,c,p),$c(s)}function Eh(s,c,p){if(c=c.updateQueue,c!==null&&(c=c.shared,(p&4194048)!==0)){var x=c.lanes;x&=s.pendingLanes,p|=x,c.lanes=p,h0(s,p)}}function Rw(s,c){var p=s.updateQueue,x=s.alternate;if(x!==null&&(x=x.updateQueue,p===x)){var A=null,N=null;if(p=p.firstBaseUpdate,p!==null){do{var $={lane:p.lane,tag:p.tag,payload:p.payload,callback:null,next:null};N===null?A=N=$:N=N.next=$,p=p.next}while(p!==null);N===null?A=N=c:N=N.next=c}else A=N=c;p={baseState:x.baseState,firstBaseUpdate:A,lastBaseUpdate:N,shared:x.shared,callbacks:x.callbacks},s.updateQueue=p;return}s=p.lastBaseUpdate,s===null?p.firstBaseUpdate=c:s.next=c,p.lastBaseUpdate=c}var Lw=!1;function jh(){if(Lw){var s=ld;if(s!==null)throw s}}function Th(s,c,p,x){Lw=!1;var A=s.updateQueue;wl=!1;var N=A.firstBaseUpdate,$=A.lastBaseUpdate,H=A.shared.pending;if(H!==null){A.shared.pending=null;var re=H,be=re.next;re.next=null,$===null?N=be:$.next=be,$=re;var ke=s.alternate;ke!==null&&(ke=ke.updateQueue,H=ke.lastBaseUpdate,H!==$&&(H===null?ke.firstBaseUpdate=be:H.next=be,ke.lastBaseUpdate=re))}if(N!==null){var Ne=A.baseState;$=0,ke=be=re=null,H=N;do{var ve=H.lane&-536870913,we=ve!==H.lane;if(we?(jt&ve)===ve:(x&ve)===ve){ve!==0&&ve===sd&&(Lw=!0),ke!==null&&(ke=ke.next={lane:0,tag:H.tag,payload:H.payload,callback:null,next:null});e:{var Ye=s,ot=H;ve=c;var Xt=p;switch(ot.tag){case 1:if(Ye=ot.payload,typeof Ye=="function"){Ne=Ye.call(Xt,Ne,ve);break e}Ne=Ye;break e;case 3:Ye.flags=Ye.flags&-65537|128;case 0:if(Ye=ot.payload,ve=typeof Ye=="function"?Ye.call(Xt,Ne,ve):Ye,ve==null)break e;Ne=m({},Ne,ve);break e;case 2:wl=!0}}ve=H.callback,ve!==null&&(s.flags|=64,we&&(s.flags|=8192),we=A.callbacks,we===null?A.callbacks=[ve]:we.push(ve))}else we={lane:ve,tag:H.tag,payload:H.payload,callback:H.callback,next:null},ke===null?(be=ke=we,re=Ne):ke=ke.next=we,$|=ve;if(H=H.next,H===null){if(H=A.shared.pending,H===null)break;we=H,H=we.next,we.next=null,A.lastBaseUpdate=we,A.shared.pending=null}}while(!0);ke===null&&(re=Ne),A.baseState=re,A.firstBaseUpdate=be,A.lastBaseUpdate=ke,N===null&&(A.shared.lanes=0),Al|=$,s.lanes=$,s.memoizedState=Ne}}function jN(s,c){if(typeof s!="function")throw Error(r(191,s));s.call(c)}function TN(s,c){var p=s.callbacks;if(p!==null)for(s.callbacks=null,s=0;s<p.length;s++)jN(p[s],c)}var dd=W(null),K0=W(0);function AN(s,c){s=bs,ie(K0,s),ie(dd,c),bs=s|c.baseLanes}function Iw(){ie(K0,bs),ie(dd,dd.current)}function $w(){bs=K0.current,ne(dd),ne(K0)}var Pi=W(null),ua=null;function kl(s){var c=s.alternate;ie(Rn,Rn.current&1),ie(Pi,s),ua===null&&(c===null||dd.current!==null||c.memoizedState!==null)&&(ua=s)}function Bw(s){ie(Rn,Rn.current),ie(Pi,s),ua===null&&(ua=s)}function NN(s){s.tag===22?(ie(Rn,Rn.current),ie(Pi,s),ua===null&&(ua=s)):El()}function El(){ie(Rn,Rn.current),ie(Pi,Pi.current)}function Ri(s){ne(Pi),ua===s&&(ua=null),ne(Rn)}var Rn=W(0);function W0(s){for(var c=s;c!==null;){if(c.tag===13){var p=c.memoizedState;if(p!==null&&(p=p.dehydrated,p===null||Y_(p)||q_(p)))return c}else if(c.tag===19&&(c.memoizedProps.revealOrder==="forwards"||c.memoizedProps.revealOrder==="backwards"||c.memoizedProps.revealOrder==="unstable_legacy-backwards"||c.memoizedProps.revealOrder==="together")){if((c.flags&128)!==0)return c}else if(c.child!==null){c.child.return=c,c=c.child;continue}if(c===s)break;for(;c.sibling===null;){if(c.return===null||c.return===s)return null;c=c.return}c.sibling.return=c.return,c=c.sibling}return null}var cs=0,pt=null,Vt=null,Gn=null,V0=!1,fd=!1,Kc=!1,Z0=0,Ah=0,hd=null,jG=0;function On(){throw Error(r(321))}function zw(s,c){if(c===null)return!1;for(var p=0;p<c.length&&p<s.length;p++)if(!dr(s[p],c[p]))return!1;return!0}function Uw(s,c,p,x,A,N){return cs=N,pt=c,c.memoizedState=null,c.updateQueue=null,c.lanes=0,Y.H=s===null||s.memoizedState===null?fO:n_,Kc=!1,N=p(x,A),Kc=!1,fd&&(N=CN(c,p,x,A)),ON(s),N}function ON(s){Y.H=Ch;var c=Vt!==null&&Vt.next!==null;if(cs=0,Gn=Vt=pt=null,V0=!1,Ah=0,hd=null,c)throw Error(r(300));s===null||Yn||(s=s.dependencies,s!==null&&z0(s)&&(Yn=!0))}function CN(s,c,p,x){pt=s;var A=0;do{if(fd&&(hd=null),Ah=0,fd=!1,25<=A)throw Error(r(301));if(A+=1,Gn=Vt=null,s.updateQueue!=null){var N=s.updateQueue;N.lastEffect=null,N.events=null,N.stores=null,N.memoCache!=null&&(N.memoCache.index=0)}Y.H=hO,N=c(p,x)}while(fd);return N}function TG(){var s=Y.H,c=s.useState()[0];return c=typeof c.then=="function"?Nh(c):c,s=s.useState()[0],(Vt!==null?Vt.memoizedState:null)!==s&&(pt.flags|=1024),c}function Fw(){var s=Z0!==0;return Z0=0,s}function Hw(s,c,p){c.updateQueue=s.updateQueue,c.flags&=-2053,s.lanes&=~p}function Gw(s){if(V0){for(s=s.memoizedState;s!==null;){var c=s.queue;c!==null&&(c.pending=null),s=s.next}V0=!1}cs=0,Gn=Vt=pt=null,fd=!1,Ah=Z0=0,hd=null}function Vr(){var s={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Gn===null?pt.memoizedState=Gn=s:Gn=Gn.next=s,Gn}function Ln(){if(Vt===null){var s=pt.alternate;s=s!==null?s.memoizedState:null}else s=Vt.next;var c=Gn===null?pt.memoizedState:Gn.next;if(c!==null)Gn=c,Vt=s;else{if(s===null)throw pt.alternate===null?Error(r(467)):Error(r(310));Vt=s,s={memoizedState:Vt.memoizedState,baseState:Vt.baseState,baseQueue:Vt.baseQueue,queue:Vt.queue,next:null},Gn===null?pt.memoizedState=Gn=s:Gn=Gn.next=s}return Gn}function X0(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Nh(s){var c=Ah;return Ah+=1,hd===null&&(hd=[]),s=wN(hd,s,c),c=pt,(Gn===null?c.memoizedState:Gn.next)===null&&(c=c.alternate,Y.H=c===null||c.memoizedState===null?fO:n_),s}function J0(s){if(s!==null&&typeof s=="object"){if(typeof s.then=="function")return Nh(s);if(s.$$typeof===T)return Tr(s)}throw Error(r(438,String(s)))}function Yw(s){var c=null,p=pt.updateQueue;if(p!==null&&(c=p.memoCache),c==null){var x=pt.alternate;x!==null&&(x=x.updateQueue,x!==null&&(x=x.memoCache,x!=null&&(c={data:x.data.map(function(A){return A.slice()}),index:0})))}if(c==null&&(c={data:[],index:0}),p===null&&(p=X0(),pt.updateQueue=p),p.memoCache=c,p=c.data[c.index],p===void 0)for(p=c.data[c.index]=Array(s),x=0;x<s;x++)p[x]=G;return c.index++,p}function us(s,c){return typeof c=="function"?c(s):c}function Q0(s){var c=Ln();return qw(c,Vt,s)}function qw(s,c,p){var x=s.queue;if(x===null)throw Error(r(311));x.lastRenderedReducer=p;var A=s.baseQueue,N=x.pending;if(N!==null){if(A!==null){var $=A.next;A.next=N.next,N.next=$}c.baseQueue=A=N,x.pending=null}if(N=s.baseState,A===null)s.memoizedState=N;else{c=A.next;var H=$=null,re=null,be=c,ke=!1;do{var Ne=be.lane&-536870913;if(Ne!==be.lane?(jt&Ne)===Ne:(cs&Ne)===Ne){var ve=be.revertLane;if(ve===0)re!==null&&(re=re.next={lane:0,revertLane:0,gesture:null,action:be.action,hasEagerState:be.hasEagerState,eagerState:be.eagerState,next:null}),Ne===sd&&(ke=!0);else if((cs&ve)===ve){be=be.next,ve===sd&&(ke=!0);continue}else Ne={lane:0,revertLane:be.revertLane,gesture:null,action:be.action,hasEagerState:be.hasEagerState,eagerState:be.eagerState,next:null},re===null?(H=re=Ne,$=N):re=re.next=Ne,pt.lanes|=ve,Al|=ve;Ne=be.action,Kc&&p(N,Ne),N=be.hasEagerState?be.eagerState:p(N,Ne)}else ve={lane:Ne,revertLane:be.revertLane,gesture:be.gesture,action:be.action,hasEagerState:be.hasEagerState,eagerState:be.eagerState,next:null},re===null?(H=re=ve,$=N):re=re.next=ve,pt.lanes|=Ne,Al|=Ne;be=be.next}while(be!==null&&be!==c);if(re===null?$=N:re.next=H,!dr(N,s.memoizedState)&&(Yn=!0,ke&&(p=ld,p!==null)))throw p;s.memoizedState=N,s.baseState=$,s.baseQueue=re,x.lastRenderedState=N}return A===null&&(x.lanes=0),[s.memoizedState,x.dispatch]}function Kw(s){var c=Ln(),p=c.queue;if(p===null)throw Error(r(311));p.lastRenderedReducer=s;var x=p.dispatch,A=p.pending,N=c.memoizedState;if(A!==null){p.pending=null;var $=A=A.next;do N=s(N,$.action),$=$.next;while($!==A);dr(N,c.memoizedState)||(Yn=!0),c.memoizedState=N,c.baseQueue===null&&(c.baseState=N),p.lastRenderedState=N}return[N,x]}function MN(s,c,p){var x=pt,A=Ln(),N=_t;if(N){if(p===void 0)throw Error(r(407));p=p()}else p=c();var $=!dr((Vt||A).memoizedState,p);if($&&(A.memoizedState=p,Yn=!0),A=A.queue,Zw(RN.bind(null,x,A,s),[s]),A.getSnapshot!==c||$||Gn!==null&&Gn.memoizedState.tag&1){if(x.flags|=2048,md(9,{destroy:void 0},PN.bind(null,x,A,p,c),null),Qt===null)throw Error(r(349));N||(cs&127)!==0||DN(x,c,p)}return p}function DN(s,c,p){s.flags|=16384,s={getSnapshot:c,value:p},c=pt.updateQueue,c===null?(c=X0(),pt.updateQueue=c,c.stores=[s]):(p=c.stores,p===null?c.stores=[s]:p.push(s))}function PN(s,c,p,x){c.value=p,c.getSnapshot=x,LN(c)&&IN(s)}function RN(s,c,p){return p(function(){LN(c)&&IN(s)})}function LN(s){var c=s.getSnapshot;s=s.value;try{var p=c();return!dr(s,p)}catch{return!0}}function IN(s){var c=la(s,2);c!==null&&yi(c,s,2)}function Ww(s){var c=Vr();if(typeof s=="function"){var p=s;if(s=p(),Kc){Kt(!0);try{p()}finally{Kt(!1)}}}return c.memoizedState=c.baseState=s,c.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:us,lastRenderedState:s},c}function $N(s,c,p,x){return s.baseState=p,qw(s,Vt,typeof x=="function"?x:us)}function AG(s,c,p,x,A){if(ng(s))throw Error(r(485));if(s=c.action,s!==null){var N={payload:A,action:s,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function($){N.listeners.push($)}};Y.T!==null?p(!0):N.isTransition=!1,x(N),p=c.pending,p===null?(N.next=c.pending=N,BN(c,N)):(N.next=p.next,c.pending=p.next=N)}}function BN(s,c){var p=c.action,x=c.payload,A=s.state;if(c.isTransition){var N=Y.T,$={};Y.T=$;try{var H=p(A,x),re=Y.S;re!==null&&re($,H),zN(s,c,H)}catch(be){Vw(s,c,be)}finally{N!==null&&$.types!==null&&(N.types=$.types),Y.T=N}}else try{N=p(A,x),zN(s,c,N)}catch(be){Vw(s,c,be)}}function zN(s,c,p){p!==null&&typeof p=="object"&&typeof p.then=="function"?p.then(function(x){UN(s,c,x)},function(x){return Vw(s,c,x)}):UN(s,c,p)}function UN(s,c,p){c.status="fulfilled",c.value=p,FN(c),s.state=p,c=s.pending,c!==null&&(p=c.next,p===c?s.pending=null:(p=p.next,c.next=p,BN(s,p)))}function Vw(s,c,p){var x=s.pending;if(s.pending=null,x!==null){x=x.next;do c.status="rejected",c.reason=p,FN(c),c=c.next;while(c!==x)}s.action=null}function FN(s){s=s.listeners;for(var c=0;c<s.length;c++)(0,s[c])()}function HN(s,c){return c}function GN(s,c){if(_t){var p=Qt.formState;if(p!==null){e:{var x=pt;if(_t){if(Pt){t:{for(var A=Pt,N=hi;A.nodeType!==8;){if(!N){A=null;break t}if(A=da(A.nextSibling),A===null){A=null;break t}}N=A.data,A=N==="F!"||N==="F"?A:null}if(A){Pt=da(A.nextSibling),x=A.data==="F!";break e}}jo(x)}x=!1}x&&(c=p[0])}}return p=Vr(),p.memoizedState=p.baseState=c,x={pending:null,lanes:0,dispatch:null,lastRenderedReducer:HN,lastRenderedState:c},p.queue=x,p=cO.bind(null,pt,x),x.dispatch=p,x=Ww(!1),N=t_.bind(null,pt,!1,x.queue),x=Vr(),A={state:c,dispatch:null,action:s,pending:null},x.queue=A,p=AG.bind(null,pt,A,N,p),A.dispatch=p,x.memoizedState=s,[c,p,!1]}function YN(s){var c=Ln();return qN(c,Vt,s)}function qN(s,c,p){if(c=qw(s,c,HN)[0],s=Q0(us)[0],typeof c=="object"&&c!==null&&typeof c.then=="function")try{var x=Nh(c)}catch($){throw $===cd?H0:$}else x=c;c=Ln();var A=c.queue,N=A.dispatch;return p!==c.memoizedState&&(pt.flags|=2048,md(9,{destroy:void 0},NG.bind(null,A,p),null)),[x,N,s]}function NG(s,c){s.action=c}function KN(s){var c=Ln(),p=Vt;if(p!==null)return qN(c,p,s);Ln(),c=c.memoizedState,p=Ln();var x=p.queue.dispatch;return p.memoizedState=s,[c,x,!1]}function md(s,c,p,x){return s={tag:s,create:p,deps:x,inst:c,next:null},c=pt.updateQueue,c===null&&(c=X0(),pt.updateQueue=c),p=c.lastEffect,p===null?c.lastEffect=s.next=s:(x=p.next,p.next=s,s.next=x,c.lastEffect=s),s}function WN(){return Ln().memoizedState}function eg(s,c,p,x){var A=Vr();pt.flags|=s,A.memoizedState=md(1|c,{destroy:void 0},p,x===void 0?null:x)}function tg(s,c,p,x){var A=Ln();x=x===void 0?null:x;var N=A.memoizedState.inst;Vt!==null&&x!==null&&zw(x,Vt.memoizedState.deps)?A.memoizedState=md(c,N,p,x):(pt.flags|=s,A.memoizedState=md(1|c,N,p,x))}function VN(s,c){eg(8390656,8,s,c)}function Zw(s,c){tg(2048,8,s,c)}function OG(s){pt.flags|=4;var c=pt.updateQueue;if(c===null)c=X0(),pt.updateQueue=c,c.events=[s];else{var p=c.events;p===null?c.events=[s]:p.push(s)}}function ZN(s){var c=Ln().memoizedState;return OG({ref:c,nextImpl:s}),function(){if(($t&2)!==0)throw Error(r(440));return c.impl.apply(void 0,arguments)}}function XN(s,c){return tg(4,2,s,c)}function JN(s,c){return tg(4,4,s,c)}function QN(s,c){if(typeof c=="function"){s=s();var p=c(s);return function(){typeof p=="function"?p():c(null)}}if(c!=null)return s=s(),c.current=s,function(){c.current=null}}function eO(s,c,p){p=p!=null?p.concat([s]):null,tg(4,4,QN.bind(null,c,s),p)}function Xw(){}function tO(s,c){var p=Ln();c=c===void 0?null:c;var x=p.memoizedState;return c!==null&&zw(c,x[1])?x[0]:(p.memoizedState=[s,c],s)}function nO(s,c){var p=Ln();c=c===void 0?null:c;var x=p.memoizedState;if(c!==null&&zw(c,x[1]))return x[0];if(x=s(),Kc){Kt(!0);try{s()}finally{Kt(!1)}}return p.memoizedState=[x,c],x}function Jw(s,c,p){return p===void 0||(cs&1073741824)!==0&&(jt&261930)===0?s.memoizedState=c:(s.memoizedState=p,s=rC(),pt.lanes|=s,Al|=s,p)}function rO(s,c,p,x){return dr(p,c)?p:dd.current!==null?(s=Jw(s,p,x),dr(s,c)||(Yn=!0),s):(cs&42)===0||(cs&1073741824)!==0&&(jt&261930)===0?(Yn=!0,s.memoizedState=p):(s=rC(),pt.lanes|=s,Al|=s,c)}function iO(s,c,p,x,A){var N=V.p;V.p=N!==0&&8>N?N:8;var $=Y.T,H={};Y.T=H,t_(s,!1,c,p);try{var re=A(),be=Y.S;if(be!==null&&be(H,re),re!==null&&typeof re=="object"&&typeof re.then=="function"){var ke=EG(re,x);Oh(s,c,ke,$i(s))}else Oh(s,c,x,$i(s))}catch(Ne){Oh(s,c,{then:function(){},status:"rejected",reason:Ne},$i())}finally{V.p=N,$!==null&&H.types!==null&&($.types=H.types),Y.T=$}}function CG(){}function Qw(s,c,p,x){if(s.tag!==5)throw Error(r(476));var A=aO(s).queue;iO(s,A,c,Q,p===null?CG:function(){return oO(s),p(x)})}function aO(s){var c=s.memoizedState;if(c!==null)return c;c={memoizedState:Q,baseState:Q,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:us,lastRenderedState:Q},next:null};var p={};return c.next={memoizedState:p,baseState:p,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:us,lastRenderedState:p},next:null},s.memoizedState=c,s=s.alternate,s!==null&&(s.memoizedState=c),c}function oO(s){var c=aO(s);c.next===null&&(c=s.alternate.memoizedState),Oh(s,c.next.queue,{},$i())}function e_(){return Tr(Kh)}function sO(){return Ln().memoizedState}function lO(){return Ln().memoizedState}function MG(s){for(var c=s.return;c!==null;){switch(c.tag){case 24:case 3:var p=$i();s=_l(p);var x=Sl(c,s,p);x!==null&&(yi(x,c,p),Eh(x,c,p)),c={cache:Nw()},s.payload=c;return}c=c.return}}function DG(s,c,p){var x=$i();p={lane:x,revertLane:0,gesture:null,action:p,hasEagerState:!1,eagerState:null,next:null},ng(s)?uO(c,p):(p=ph(s,c,p,x),p!==null&&(yi(p,s,x),dO(p,c,x)))}function cO(s,c,p){var x=$i();Oh(s,c,p,x)}function Oh(s,c,p,x){var A={lane:x,revertLane:0,gesture:null,action:p,hasEagerState:!1,eagerState:null,next:null};if(ng(s))uO(c,A);else{var N=s.alternate;if(s.lanes===0&&(N===null||N.lanes===0)&&(N=c.lastRenderedReducer,N!==null))try{var $=c.lastRenderedState,H=N($,p);if(A.hasEagerState=!0,A.eagerState=H,dr(H,$))return ko(s,c,A,0),Qt===null&&Ic(),!1}catch{}finally{}if(p=ph(s,c,A,x),p!==null)return yi(p,s,x),dO(p,c,x),!0}return!1}function t_(s,c,p,x){if(x={lane:2,revertLane:D_(),gesture:null,action:x,hasEagerState:!1,eagerState:null,next:null},ng(s)){if(c)throw Error(r(479))}else c=ph(s,p,x,2),c!==null&&yi(c,s,2)}function ng(s){var c=s.alternate;return s===pt||c!==null&&c===pt}function uO(s,c){fd=V0=!0;var p=s.pending;p===null?c.next=c:(c.next=p.next,p.next=c),s.pending=c}function dO(s,c,p){if((p&4194048)!==0){var x=c.lanes;x&=s.pendingLanes,p|=x,c.lanes=p,h0(s,p)}}var Ch={readContext:Tr,use:J0,useCallback:On,useContext:On,useEffect:On,useImperativeHandle:On,useLayoutEffect:On,useInsertionEffect:On,useMemo:On,useReducer:On,useRef:On,useState:On,useDebugValue:On,useDeferredValue:On,useTransition:On,useSyncExternalStore:On,useId:On,useHostTransitionStatus:On,useFormState:On,useActionState:On,useOptimistic:On,useMemoCache:On,useCacheRefresh:On};Ch.useEffectEvent=On;var fO={readContext:Tr,use:J0,useCallback:function(s,c){return Vr().memoizedState=[s,c===void 0?null:c],s},useContext:Tr,useEffect:VN,useImperativeHandle:function(s,c,p){p=p!=null?p.concat([s]):null,eg(4194308,4,QN.bind(null,c,s),p)},useLayoutEffect:function(s,c){return eg(4194308,4,s,c)},useInsertionEffect:function(s,c){eg(4,2,s,c)},useMemo:function(s,c){var p=Vr();c=c===void 0?null:c;var x=s();if(Kc){Kt(!0);try{s()}finally{Kt(!1)}}return p.memoizedState=[x,c],x},useReducer:function(s,c,p){var x=Vr();if(p!==void 0){var A=p(c);if(Kc){Kt(!0);try{p(c)}finally{Kt(!1)}}}else A=c;return x.memoizedState=x.baseState=A,s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:s,lastRenderedState:A},x.queue=s,s=s.dispatch=DG.bind(null,pt,s),[x.memoizedState,s]},useRef:function(s){var c=Vr();return s={current:s},c.memoizedState=s},useState:function(s){s=Ww(s);var c=s.queue,p=cO.bind(null,pt,c);return c.dispatch=p,[s.memoizedState,p]},useDebugValue:Xw,useDeferredValue:function(s,c){var p=Vr();return Jw(p,s,c)},useTransition:function(){var s=Ww(!1);return s=iO.bind(null,pt,s.queue,!0,!1),Vr().memoizedState=s,[!1,s]},useSyncExternalStore:function(s,c,p){var x=pt,A=Vr();if(_t){if(p===void 0)throw Error(r(407));p=p()}else{if(p=c(),Qt===null)throw Error(r(349));(jt&127)!==0||DN(x,c,p)}A.memoizedState=p;var N={value:p,getSnapshot:c};return A.queue=N,VN(RN.bind(null,x,N,s),[s]),x.flags|=2048,md(9,{destroy:void 0},PN.bind(null,x,N,p,c),null),p},useId:function(){var s=Vr(),c=Qt.identifierPrefix;if(_t){var p=Be,x=Ae;p=(x&~(1<<32-rn(x)-1)).toString(32)+p,c="_"+c+"R_"+p,p=Z0++,0<p&&(c+="H"+p.toString(32)),c+="_"}else p=jG++,c="_"+c+"r_"+p.toString(32)+"_";return s.memoizedState=c},useHostTransitionStatus:e_,useFormState:GN,useActionState:GN,useOptimistic:function(s){var c=Vr();c.memoizedState=c.baseState=s;var p={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return c.queue=p,c=t_.bind(null,pt,!0,p),p.dispatch=c,[s,c]},useMemoCache:Yw,useCacheRefresh:function(){return Vr().memoizedState=MG.bind(null,pt)},useEffectEvent:function(s){var c=Vr(),p={impl:s};return c.memoizedState=p,function(){if(($t&2)!==0)throw Error(r(440));return p.impl.apply(void 0,arguments)}}},n_={readContext:Tr,use:J0,useCallback:tO,useContext:Tr,useEffect:Zw,useImperativeHandle:eO,useInsertionEffect:XN,useLayoutEffect:JN,useMemo:nO,useReducer:Q0,useRef:WN,useState:function(){return Q0(us)},useDebugValue:Xw,useDeferredValue:function(s,c){var p=Ln();return rO(p,Vt.memoizedState,s,c)},useTransition:function(){var s=Q0(us)[0],c=Ln().memoizedState;return[typeof s=="boolean"?s:Nh(s),c]},useSyncExternalStore:MN,useId:sO,useHostTransitionStatus:e_,useFormState:YN,useActionState:YN,useOptimistic:function(s,c){var p=Ln();return $N(p,Vt,s,c)},useMemoCache:Yw,useCacheRefresh:lO};n_.useEffectEvent=ZN;var hO={readContext:Tr,use:J0,useCallback:tO,useContext:Tr,useEffect:Zw,useImperativeHandle:eO,useInsertionEffect:XN,useLayoutEffect:JN,useMemo:nO,useReducer:Kw,useRef:WN,useState:function(){return Kw(us)},useDebugValue:Xw,useDeferredValue:function(s,c){var p=Ln();return Vt===null?Jw(p,s,c):rO(p,Vt.memoizedState,s,c)},useTransition:function(){var s=Kw(us)[0],c=Ln().memoizedState;return[typeof s=="boolean"?s:Nh(s),c]},useSyncExternalStore:MN,useId:sO,useHostTransitionStatus:e_,useFormState:KN,useActionState:KN,useOptimistic:function(s,c){var p=Ln();return Vt!==null?$N(p,Vt,s,c):(p.baseState=s,[s,p.queue.dispatch])},useMemoCache:Yw,useCacheRefresh:lO};hO.useEffectEvent=ZN;function r_(s,c,p,x){c=s.memoizedState,p=p(x,c),p=p==null?c:m({},c,p),s.memoizedState=p,s.lanes===0&&(s.updateQueue.baseState=p)}var i_={enqueueSetState:function(s,c,p){s=s._reactInternals;var x=$i(),A=_l(x);A.payload=c,p!=null&&(A.callback=p),c=Sl(s,A,x),c!==null&&(yi(c,s,x),Eh(c,s,x))},enqueueReplaceState:function(s,c,p){s=s._reactInternals;var x=$i(),A=_l(x);A.tag=1,A.payload=c,p!=null&&(A.callback=p),c=Sl(s,A,x),c!==null&&(yi(c,s,x),Eh(c,s,x))},enqueueForceUpdate:function(s,c){s=s._reactInternals;var p=$i(),x=_l(p);x.tag=2,c!=null&&(x.callback=c),c=Sl(s,x,p),c!==null&&(yi(c,s,p),Eh(c,s,p))}};function mO(s,c,p,x,A,N,$){return s=s.stateNode,typeof s.shouldComponentUpdate=="function"?s.shouldComponentUpdate(x,N,$):c.prototype&&c.prototype.isPureReactComponent?!pl(p,x)||!pl(A,N):!0}function pO(s,c,p,x){s=c.state,typeof c.componentWillReceiveProps=="function"&&c.componentWillReceiveProps(p,x),typeof c.UNSAFE_componentWillReceiveProps=="function"&&c.UNSAFE_componentWillReceiveProps(p,x),c.state!==s&&i_.enqueueReplaceState(c,c.state,null)}function Wc(s,c){var p=c;if("ref"in c){p={};for(var x in c)x!=="ref"&&(p[x]=c[x])}if(s=s.defaultProps){p===c&&(p=m({},p));for(var A in s)p[A]===void 0&&(p[A]=s[A])}return p}function gO(s){Lc(s)}function bO(s){console.error(s)}function yO(s){Lc(s)}function rg(s,c){try{var p=s.onUncaughtError;p(c.value,{componentStack:c.stack})}catch(x){setTimeout(function(){throw x})}}function vO(s,c,p){try{var x=s.onCaughtError;x(p.value,{componentStack:p.stack,errorBoundary:c.tag===1?c.stateNode:null})}catch(A){setTimeout(function(){throw A})}}function a_(s,c,p){return p=_l(p),p.tag=3,p.payload={element:null},p.callback=function(){rg(s,c)},p}function xO(s){return s=_l(s),s.tag=3,s}function wO(s,c,p,x){var A=p.type.getDerivedStateFromError;if(typeof A=="function"){var N=x.value;s.payload=function(){return A(N)},s.callback=function(){vO(c,p,x)}}var $=p.stateNode;$!==null&&typeof $.componentDidCatch=="function"&&(s.callback=function(){vO(c,p,x),typeof A!="function"&&(Nl===null?Nl=new Set([this]):Nl.add(this));var H=x.stack;this.componentDidCatch(x.value,{componentStack:H!==null?H:""})})}function PG(s,c,p,x,A){if(p.flags|=32768,x!==null&&typeof x=="object"&&typeof x.then=="function"){if(c=p.alternate,c!==null&&od(c,p,A,!0),p=Pi.current,p!==null){switch(p.tag){case 31:case 13:return ua===null?pg():p.alternate===null&&Cn===0&&(Cn=3),p.flags&=-257,p.flags|=65536,p.lanes=A,x===G0?p.flags|=16384:(c=p.updateQueue,c===null?p.updateQueue=new Set([x]):c.add(x),O_(s,x,A)),!1;case 22:return p.flags|=65536,x===G0?p.flags|=16384:(c=p.updateQueue,c===null?(c={transitions:null,markerInstances:null,retryQueue:new Set([x])},p.updateQueue=c):(p=c.retryQueue,p===null?c.retryQueue=new Set([x]):p.add(x)),O_(s,x,A)),!1}throw Error(r(435,p.tag))}return O_(s,x,A),pg(),!1}if(_t)return c=Pi.current,c!==null?((c.flags&65536)===0&&(c.flags|=256),c.flags|=65536,c.lanes=A,x!==ad&&(s=Error(r(422),{cause:x}),zc(v(s,p)))):(x!==ad&&(c=Error(r(423),{cause:x}),zc(v(c,p))),s=s.current.alternate,s.flags|=65536,A&=-A,s.lanes|=A,x=v(x,p),A=a_(s.stateNode,x,A),Rw(s,A),Cn!==4&&(Cn=2)),!1;var N=Error(r(520),{cause:x});if(N=v(N,p),Bh===null?Bh=[N]:Bh.push(N),Cn!==4&&(Cn=2),c===null)return!0;x=v(x,p),p=c;do{switch(p.tag){case 3:return p.flags|=65536,s=A&-A,p.lanes|=s,s=a_(p.stateNode,x,s),Rw(p,s),!1;case 1:if(c=p.type,N=p.stateNode,(p.flags&128)===0&&(typeof c.getDerivedStateFromError=="function"||N!==null&&typeof N.componentDidCatch=="function"&&(Nl===null||!Nl.has(N))))return p.flags|=65536,A&=-A,p.lanes|=A,A=xO(A),wO(A,s,p,x),Rw(p,A),!1}p=p.return}while(p!==null);return!1}var o_=Error(r(461)),Yn=!1;function Ar(s,c,p,x){c.child=s===null?EN(c,null,p,x):qc(c,s.child,p,x)}function _O(s,c,p,x,A){p=p.render;var N=c.ref;if("ref"in x){var $={};for(var H in x)H!=="ref"&&($[H]=x[H])}else $=x;return Fc(c),x=Uw(s,c,p,$,N,A),H=Fw(),s!==null&&!Yn?(Hw(s,c,A),ds(s,c,A)):(_t&&H&&tr(c),c.flags|=1,Ar(s,c,x,A),c.child)}function SO(s,c,p,x,A){if(s===null){var N=p.type;return typeof N=="function"&&!rd(N)&&N.defaultProps===void 0&&p.compare===null?(c.tag=15,c.type=N,kO(s,c,N,x,A)):(s=Bc(p.type,null,x,c,c.mode,A),s.ref=c.ref,s.return=c,c.child=s)}if(N=s.child,!m_(s,A)){var $=N.memoizedProps;if(p=p.compare,p=p!==null?p:pl,p($,x)&&s.ref===c.ref)return ds(s,c,A)}return c.flags|=1,s=ca(N,x),s.ref=c.ref,s.return=c,c.child=s}function kO(s,c,p,x,A){if(s!==null){var N=s.memoizedProps;if(pl(N,x)&&s.ref===c.ref)if(Yn=!1,c.pendingProps=x=N,m_(s,A))(s.flags&131072)!==0&&(Yn=!0);else return c.lanes=s.lanes,ds(s,c,A)}return s_(s,c,p,x,A)}function EO(s,c,p,x){var A=x.children,N=s!==null?s.memoizedState:null;if(s===null&&c.stateNode===null&&(c.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),x.mode==="hidden"){if((c.flags&128)!==0){if(N=N!==null?N.baseLanes|p:p,s!==null){for(x=c.child=s.child,A=0;x!==null;)A=A|x.lanes|x.childLanes,x=x.sibling;x=A&~N}else x=0,c.child=null;return jO(s,c,N,p,x)}if((p&536870912)!==0)c.memoizedState={baseLanes:0,cachePool:null},s!==null&&F0(c,N!==null?N.cachePool:null),N!==null?AN(c,N):Iw(),NN(c);else return x=c.lanes=536870912,jO(s,c,N!==null?N.baseLanes|p:p,p,x)}else N!==null?(F0(c,N.cachePool),AN(c,N),El(),c.memoizedState=null):(s!==null&&F0(c,null),Iw(),El());return Ar(s,c,A,p),c.child}function Mh(s,c){return s!==null&&s.tag===22||c.stateNode!==null||(c.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),c.sibling}function jO(s,c,p,x,A){var N=Cw();return N=N===null?null:{parent:Hn._currentValue,pool:N},c.memoizedState={baseLanes:p,cachePool:N},s!==null&&F0(c,null),Iw(),NN(c),s!==null&&od(s,c,x,!0),c.childLanes=A,null}function ig(s,c){return c=og({mode:c.mode,children:c.children},s.mode),c.ref=s.ref,s.child=c,c.return=s,c}function TO(s,c,p){return qc(c,s.child,null,p),s=ig(c,c.pendingProps),s.flags|=2,Ri(c),c.memoizedState=null,s}function RG(s,c,p){var x=c.pendingProps,A=(c.flags&128)!==0;if(c.flags&=-129,s===null){if(_t){if(x.mode==="hidden")return s=ig(c,x),c.lanes=536870912,Mh(null,s);if(Bw(c),(s=Pt)?(s=BC(s,hi),s=s!==null&&s.data==="&"?s:null,s!==null&&(c.memoizedState={dehydrated:s,treeContext:ye!==null?{id:Ae,overflow:Be}:null,retryLane:536870912,hydrationErrors:null},p=bh(s),p.return=c,c.child=p,Dt=c,Pt=null)):s=null,s===null)throw jo(c);return c.lanes=536870912,null}return ig(c,x)}var N=s.memoizedState;if(N!==null){var $=N.dehydrated;if(Bw(c),A)if(c.flags&256)c.flags&=-257,c=TO(s,c,p);else if(c.memoizedState!==null)c.child=s.child,c.flags|=128,c=null;else throw Error(r(558));else if(Yn||od(s,c,p,!1),A=(p&s.childLanes)!==0,Yn||A){if(x=Qt,x!==null&&($=m0(x,p),$!==0&&$!==N.retryLane))throw N.retryLane=$,la(s,$),yi(x,s,$),o_;pg(),c=TO(s,c,p)}else s=N.treeContext,Pt=da($.nextSibling),Dt=c,_t=!0,Eo=null,hi=!1,s!==null&&Wr(c,s),c=ig(c,x),c.flags|=4096;return c}return s=ca(s.child,{mode:x.mode,children:x.children}),s.ref=c.ref,c.child=s,s.return=c,s}function ag(s,c){var p=c.ref;if(p===null)s!==null&&s.ref!==null&&(c.flags|=4194816);else{if(typeof p!="function"&&typeof p!="object")throw Error(r(284));(s===null||s.ref!==p)&&(c.flags|=4194816)}}function s_(s,c,p,x,A){return Fc(c),p=Uw(s,c,p,x,void 0,A),x=Fw(),s!==null&&!Yn?(Hw(s,c,A),ds(s,c,A)):(_t&&x&&tr(c),c.flags|=1,Ar(s,c,p,A),c.child)}function AO(s,c,p,x,A,N){return Fc(c),c.updateQueue=null,p=CN(c,x,p,A),ON(s),x=Fw(),s!==null&&!Yn?(Hw(s,c,N),ds(s,c,N)):(_t&&x&&tr(c),c.flags|=1,Ar(s,c,p,N),c.child)}function NO(s,c,p,x,A){if(Fc(c),c.stateNode===null){var N=as,$=p.contextType;typeof $=="object"&&$!==null&&(N=Tr($)),N=new p(x,N),c.memoizedState=N.state!==null&&N.state!==void 0?N.state:null,N.updater=i_,c.stateNode=N,N._reactInternals=c,N=c.stateNode,N.props=x,N.state=c.memoizedState,N.refs={},Dw(c),$=p.contextType,N.context=typeof $=="object"&&$!==null?Tr($):as,N.state=c.memoizedState,$=p.getDerivedStateFromProps,typeof $=="function"&&(r_(c,p,$,x),N.state=c.memoizedState),typeof p.getDerivedStateFromProps=="function"||typeof N.getSnapshotBeforeUpdate=="function"||typeof N.UNSAFE_componentWillMount!="function"&&typeof N.componentWillMount!="function"||($=N.state,typeof N.componentWillMount=="function"&&N.componentWillMount(),typeof N.UNSAFE_componentWillMount=="function"&&N.UNSAFE_componentWillMount(),$!==N.state&&i_.enqueueReplaceState(N,N.state,null),Th(c,x,N,A),jh(),N.state=c.memoizedState),typeof N.componentDidMount=="function"&&(c.flags|=4194308),x=!0}else if(s===null){N=c.stateNode;var H=c.memoizedProps,re=Wc(p,H);N.props=re;var be=N.context,ke=p.contextType;$=as,typeof ke=="object"&&ke!==null&&($=Tr(ke));var Ne=p.getDerivedStateFromProps;ke=typeof Ne=="function"||typeof N.getSnapshotBeforeUpdate=="function",H=c.pendingProps!==H,ke||typeof N.UNSAFE_componentWillReceiveProps!="function"&&typeof N.componentWillReceiveProps!="function"||(H||be!==$)&&pO(c,N,x,$),wl=!1;var ve=c.memoizedState;N.state=ve,Th(c,x,N,A),jh(),be=c.memoizedState,H||ve!==be||wl?(typeof Ne=="function"&&(r_(c,p,Ne,x),be=c.memoizedState),(re=wl||mO(c,p,re,x,ve,be,$))?(ke||typeof N.UNSAFE_componentWillMount!="function"&&typeof N.componentWillMount!="function"||(typeof N.componentWillMount=="function"&&N.componentWillMount(),typeof N.UNSAFE_componentWillMount=="function"&&N.UNSAFE_componentWillMount()),typeof N.componentDidMount=="function"&&(c.flags|=4194308)):(typeof N.componentDidMount=="function"&&(c.flags|=4194308),c.memoizedProps=x,c.memoizedState=be),N.props=x,N.state=be,N.context=$,x=re):(typeof N.componentDidMount=="function"&&(c.flags|=4194308),x=!1)}else{N=c.stateNode,Pw(s,c),$=c.memoizedProps,ke=Wc(p,$),N.props=ke,Ne=c.pendingProps,ve=N.context,be=p.contextType,re=as,typeof be=="object"&&be!==null&&(re=Tr(be)),H=p.getDerivedStateFromProps,(be=typeof H=="function"||typeof N.getSnapshotBeforeUpdate=="function")||typeof N.UNSAFE_componentWillReceiveProps!="function"&&typeof N.componentWillReceiveProps!="function"||($!==Ne||ve!==re)&&pO(c,N,x,re),wl=!1,ve=c.memoizedState,N.state=ve,Th(c,x,N,A),jh();var we=c.memoizedState;$!==Ne||ve!==we||wl||s!==null&&s.dependencies!==null&&z0(s.dependencies)?(typeof H=="function"&&(r_(c,p,H,x),we=c.memoizedState),(ke=wl||mO(c,p,ke,x,ve,we,re)||s!==null&&s.dependencies!==null&&z0(s.dependencies))?(be||typeof N.UNSAFE_componentWillUpdate!="function"&&typeof N.componentWillUpdate!="function"||(typeof N.componentWillUpdate=="function"&&N.componentWillUpdate(x,we,re),typeof N.UNSAFE_componentWillUpdate=="function"&&N.UNSAFE_componentWillUpdate(x,we,re)),typeof N.componentDidUpdate=="function"&&(c.flags|=4),typeof N.getSnapshotBeforeUpdate=="function"&&(c.flags|=1024)):(typeof N.componentDidUpdate!="function"||$===s.memoizedProps&&ve===s.memoizedState||(c.flags|=4),typeof N.getSnapshotBeforeUpdate!="function"||$===s.memoizedProps&&ve===s.memoizedState||(c.flags|=1024),c.memoizedProps=x,c.memoizedState=we),N.props=x,N.state=we,N.context=re,x=ke):(typeof N.componentDidUpdate!="function"||$===s.memoizedProps&&ve===s.memoizedState||(c.flags|=4),typeof N.getSnapshotBeforeUpdate!="function"||$===s.memoizedProps&&ve===s.memoizedState||(c.flags|=1024),x=!1)}return N=x,ag(s,c),x=(c.flags&128)!==0,N||x?(N=c.stateNode,p=x&&typeof p.getDerivedStateFromError!="function"?null:N.render(),c.flags|=1,s!==null&&x?(c.child=qc(c,s.child,null,A),c.child=qc(c,null,p,A)):Ar(s,c,p,A),c.memoizedState=N.state,s=c.child):s=ds(s,c,A),s}function OO(s,c,p,x){return ss(),c.flags|=256,Ar(s,c,p,x),c.child}var l_={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function c_(s){return{baseLanes:s,cachePool:vN()}}function u_(s,c,p){return s=s!==null?s.childLanes&~p:0,c&&(s|=Ii),s}function CO(s,c,p){var x=c.pendingProps,A=!1,N=(c.flags&128)!==0,$;if(($=N)||($=s!==null&&s.memoizedState===null?!1:(Rn.current&2)!==0),$&&(A=!0,c.flags&=-129),$=(c.flags&32)!==0,c.flags&=-33,s===null){if(_t){if(A?kl(c):El(),(s=Pt)?(s=BC(s,hi),s=s!==null&&s.data!=="&"?s:null,s!==null&&(c.memoizedState={dehydrated:s,treeContext:ye!==null?{id:Ae,overflow:Be}:null,retryLane:536870912,hydrationErrors:null},p=bh(s),p.return=c,c.child=p,Dt=c,Pt=null)):s=null,s===null)throw jo(c);return q_(s)?c.lanes=32:c.lanes=536870912,null}var H=x.children;return x=x.fallback,A?(El(),A=c.mode,H=og({mode:"hidden",children:H},A),x=os(x,A,p,null),H.return=c,x.return=c,H.sibling=x,c.child=H,x=c.child,x.memoizedState=c_(p),x.childLanes=u_(s,$,p),c.memoizedState=l_,Mh(null,x)):(kl(c),d_(c,H))}var re=s.memoizedState;if(re!==null&&(H=re.dehydrated,H!==null)){if(N)c.flags&256?(kl(c),c.flags&=-257,c=f_(s,c,p)):c.memoizedState!==null?(El(),c.child=s.child,c.flags|=128,c=null):(El(),H=x.fallback,A=c.mode,x=og({mode:"visible",children:x.children},A),H=os(H,A,p,null),H.flags|=2,x.return=c,H.return=c,x.sibling=H,c.child=x,qc(c,s.child,null,p),x=c.child,x.memoizedState=c_(p),x.childLanes=u_(s,$,p),c.memoizedState=l_,c=Mh(null,x));else if(kl(c),q_(H)){if($=H.nextSibling&&H.nextSibling.dataset,$)var be=$.dgst;$=be,x=Error(r(419)),x.stack="",x.digest=$,zc({value:x,source:null,stack:null}),c=f_(s,c,p)}else if(Yn||od(s,c,p,!1),$=(p&s.childLanes)!==0,Yn||$){if($=Qt,$!==null&&(x=m0($,p),x!==0&&x!==re.retryLane))throw re.retryLane=x,la(s,x),yi($,s,x),o_;Y_(H)||pg(),c=f_(s,c,p)}else Y_(H)?(c.flags|=192,c.child=s.child,c=null):(s=re.treeContext,Pt=da(H.nextSibling),Dt=c,_t=!0,Eo=null,hi=!1,s!==null&&Wr(c,s),c=d_(c,x.children),c.flags|=4096);return c}return A?(El(),H=x.fallback,A=c.mode,re=s.child,be=re.sibling,x=ca(re,{mode:"hidden",children:x.children}),x.subtreeFlags=re.subtreeFlags&65011712,be!==null?H=ca(be,H):(H=os(H,A,p,null),H.flags|=2),H.return=c,x.return=c,x.sibling=H,c.child=x,Mh(null,x),x=c.child,H=s.child.memoizedState,H===null?H=c_(p):(A=H.cachePool,A!==null?(re=Hn._currentValue,A=A.parent!==re?{parent:re,pool:re}:A):A=vN(),H={baseLanes:H.baseLanes|p,cachePool:A}),x.memoizedState=H,x.childLanes=u_(s,$,p),c.memoizedState=l_,Mh(s.child,x)):(kl(c),p=s.child,s=p.sibling,p=ca(p,{mode:"visible",children:x.children}),p.return=c,p.sibling=null,s!==null&&($=c.deletions,$===null?(c.deletions=[s],c.flags|=16):$.push(s)),c.child=p,c.memoizedState=null,p)}function d_(s,c){return c=og({mode:"visible",children:c},s.mode),c.return=s,s.child=c}function og(s,c){return s=zr(22,s,null,c),s.lanes=0,s}function f_(s,c,p){return qc(c,s.child,null,p),s=d_(c,c.pendingProps.children),s.flags|=2,c.memoizedState=null,s}function MO(s,c,p){s.lanes|=c;var x=s.alternate;x!==null&&(x.lanes|=c),Tw(s.return,c,p)}function h_(s,c,p,x,A,N){var $=s.memoizedState;$===null?s.memoizedState={isBackwards:c,rendering:null,renderingStartTime:0,last:x,tail:p,tailMode:A,treeForkCount:N}:($.isBackwards=c,$.rendering=null,$.renderingStartTime=0,$.last=x,$.tail=p,$.tailMode=A,$.treeForkCount=N)}function DO(s,c,p){var x=c.pendingProps,A=x.revealOrder,N=x.tail;x=x.children;var $=Rn.current,H=($&2)!==0;if(H?($=$&1|2,c.flags|=128):$&=1,ie(Rn,$),Ar(s,c,x,p),x=_t?U:0,!H&&s!==null&&(s.flags&128)!==0)e:for(s=c.child;s!==null;){if(s.tag===13)s.memoizedState!==null&&MO(s,p,c);else if(s.tag===19)MO(s,p,c);else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===c)break e;for(;s.sibling===null;){if(s.return===null||s.return===c)break e;s=s.return}s.sibling.return=s.return,s=s.sibling}switch(A){case"forwards":for(p=c.child,A=null;p!==null;)s=p.alternate,s!==null&&W0(s)===null&&(A=p),p=p.sibling;p=A,p===null?(A=c.child,c.child=null):(A=p.sibling,p.sibling=null),h_(c,!1,A,p,N,x);break;case"backwards":case"unstable_legacy-backwards":for(p=null,A=c.child,c.child=null;A!==null;){if(s=A.alternate,s!==null&&W0(s)===null){c.child=A;break}s=A.sibling,A.sibling=p,p=A,A=s}h_(c,!0,p,null,N,x);break;case"together":h_(c,!1,null,null,void 0,x);break;default:c.memoizedState=null}return c.child}function ds(s,c,p){if(s!==null&&(c.dependencies=s.dependencies),Al|=c.lanes,(p&c.childLanes)===0)if(s!==null){if(od(s,c,p,!1),(p&c.childLanes)===0)return null}else return null;if(s!==null&&c.child!==s.child)throw Error(r(153));if(c.child!==null){for(s=c.child,p=ca(s,s.pendingProps),c.child=p,p.return=c;s.sibling!==null;)s=s.sibling,p=p.sibling=ca(s,s.pendingProps),p.return=c;p.sibling=null}return c.child}function m_(s,c){return(s.lanes&c)!==0?!0:(s=s.dependencies,!!(s!==null&&z0(s)))}function LG(s,c,p){switch(c.tag){case 3:me(c,c.stateNode.containerInfo),xl(c,Hn,s.memoizedState.cache),ss();break;case 27:case 5:je(c);break;case 4:me(c,c.stateNode.containerInfo);break;case 10:xl(c,c.type,c.memoizedProps.value);break;case 31:if(c.memoizedState!==null)return c.flags|=128,Bw(c),null;break;case 13:var x=c.memoizedState;if(x!==null)return x.dehydrated!==null?(kl(c),c.flags|=128,null):(p&c.child.childLanes)!==0?CO(s,c,p):(kl(c),s=ds(s,c,p),s!==null?s.sibling:null);kl(c);break;case 19:var A=(s.flags&128)!==0;if(x=(p&c.childLanes)!==0,x||(od(s,c,p,!1),x=(p&c.childLanes)!==0),A){if(x)return DO(s,c,p);c.flags|=128}if(A=c.memoizedState,A!==null&&(A.rendering=null,A.tail=null,A.lastEffect=null),ie(Rn,Rn.current),x)break;return null;case 22:return c.lanes=0,EO(s,c,p,c.pendingProps);case 24:xl(c,Hn,s.memoizedState.cache)}return ds(s,c,p)}function PO(s,c,p){if(s!==null)if(s.memoizedProps!==c.pendingProps)Yn=!0;else{if(!m_(s,p)&&(c.flags&128)===0)return Yn=!1,LG(s,c,p);Yn=(s.flags&131072)!==0}else Yn=!1,_t&&(c.flags&1048576)!==0&&yt(c,U,c.index);switch(c.lanes=0,c.tag){case 16:e:{var x=c.pendingProps;if(s=Gc(c.elementType),c.type=s,typeof s=="function")rd(s)?(x=Wc(s,x),c.tag=1,c=NO(null,c,s,x,p)):(c.tag=0,c=s_(null,c,s,x,p));else{if(s!=null){var A=s.$$typeof;if(A===C){c.tag=11,c=_O(null,c,s,x,p);break e}else if(A===I){c.tag=14,c=SO(null,c,s,x,p);break e}}throw c=X(s)||s,Error(r(306,c,""))}}return c;case 0:return s_(s,c,c.type,c.pendingProps,p);case 1:return x=c.type,A=Wc(x,c.pendingProps),NO(s,c,x,A,p);case 3:e:{if(me(c,c.stateNode.containerInfo),s===null)throw Error(r(387));x=c.pendingProps;var N=c.memoizedState;A=N.element,Pw(s,c),Th(c,x,null,p);var $=c.memoizedState;if(x=$.cache,xl(c,Hn,x),x!==N.cache&&Aw(c,[Hn],p,!0),jh(),x=$.element,N.isDehydrated)if(N={element:x,isDehydrated:!1,cache:$.cache},c.updateQueue.baseState=N,c.memoizedState=N,c.flags&256){c=OO(s,c,x,p);break e}else if(x!==A){A=v(Error(r(424)),c),zc(A),c=OO(s,c,x,p);break e}else{switch(s=c.stateNode.containerInfo,s.nodeType){case 9:s=s.body;break;default:s=s.nodeName==="HTML"?s.ownerDocument.body:s}for(Pt=da(s.firstChild),Dt=c,_t=!0,Eo=null,hi=!0,p=EN(c,null,x,p),c.child=p;p;)p.flags=p.flags&-3|4096,p=p.sibling}else{if(ss(),x===A){c=ds(s,c,p);break e}Ar(s,c,x,p)}c=c.child}return c;case 26:return ag(s,c),s===null?(p=YC(c.type,null,c.pendingProps,null))?c.memoizedState=p:_t||(p=c.type,s=c.pendingProps,x=_g(ae.current).createElement(p),x[Un]=c,x[ur]=s,Nr(x,p,s),Fn(x),c.stateNode=x):c.memoizedState=YC(c.type,s.memoizedProps,c.pendingProps,s.memoizedState),null;case 27:return je(c),s===null&&_t&&(x=c.stateNode=FC(c.type,c.pendingProps,ae.current),Dt=c,hi=!0,A=Pt,Dl(c.type)?(K_=A,Pt=da(x.firstChild)):Pt=A),Ar(s,c,c.pendingProps.children,p),ag(s,c),s===null&&(c.flags|=4194304),c.child;case 5:return s===null&&_t&&((A=x=Pt)&&(x=fY(x,c.type,c.pendingProps,hi),x!==null?(c.stateNode=x,Dt=c,Pt=da(x.firstChild),hi=!1,A=!0):A=!1),A||jo(c)),je(c),A=c.type,N=c.pendingProps,$=s!==null?s.memoizedProps:null,x=N.children,F_(A,N)?x=null:$!==null&&F_(A,$)&&(c.flags|=32),c.memoizedState!==null&&(A=Uw(s,c,TG,null,null,p),Kh._currentValue=A),ag(s,c),Ar(s,c,x,p),c.child;case 6:return s===null&&_t&&((s=p=Pt)&&(p=hY(p,c.pendingProps,hi),p!==null?(c.stateNode=p,Dt=c,Pt=null,s=!0):s=!1),s||jo(c)),null;case 13:return CO(s,c,p);case 4:return me(c,c.stateNode.containerInfo),x=c.pendingProps,s===null?c.child=qc(c,null,x,p):Ar(s,c,x,p),c.child;case 11:return _O(s,c,c.type,c.pendingProps,p);case 7:return Ar(s,c,c.pendingProps,p),c.child;case 8:return Ar(s,c,c.pendingProps.children,p),c.child;case 12:return Ar(s,c,c.pendingProps.children,p),c.child;case 10:return x=c.pendingProps,xl(c,c.type,x.value),Ar(s,c,x.children,p),c.child;case 9:return A=c.type._context,x=c.pendingProps.children,Fc(c),A=Tr(A),x=x(A),c.flags|=1,Ar(s,c,x,p),c.child;case 14:return SO(s,c,c.type,c.pendingProps,p);case 15:return kO(s,c,c.type,c.pendingProps,p);case 19:return DO(s,c,p);case 31:return RG(s,c,p);case 22:return EO(s,c,p,c.pendingProps);case 24:return Fc(c),x=Tr(Hn),s===null?(A=Cw(),A===null&&(A=Qt,N=Nw(),A.pooledCache=N,N.refCount++,N!==null&&(A.pooledCacheLanes|=p),A=N),c.memoizedState={parent:x,cache:A},Dw(c),xl(c,Hn,A)):((s.lanes&p)!==0&&(Pw(s,c),Th(c,null,null,p),jh()),A=s.memoizedState,N=c.memoizedState,A.parent!==x?(A={parent:x,cache:x},c.memoizedState=A,c.lanes===0&&(c.memoizedState=c.updateQueue.baseState=A),xl(c,Hn,x)):(x=N.cache,xl(c,Hn,x),x!==A.cache&&Aw(c,[Hn],p,!0))),Ar(s,c,c.pendingProps.children,p),c.child;case 29:throw c.pendingProps}throw Error(r(156,c.tag))}function fs(s){s.flags|=4}function p_(s,c,p,x,A){if((c=(s.mode&32)!==0)&&(c=!1),c){if(s.flags|=16777216,(A&335544128)===A)if(s.stateNode.complete)s.flags|=8192;else if(sC())s.flags|=8192;else throw Yc=G0,Mw}else s.flags&=-16777217}function RO(s,c){if(c.type!=="stylesheet"||(c.state.loading&4)!==0)s.flags&=-16777217;else if(s.flags|=16777216,!ZC(c))if(sC())s.flags|=8192;else throw Yc=G0,Mw}function sg(s,c){c!==null&&(s.flags|=4),s.flags&16384&&(c=s.tag!==22?d0():536870912,s.lanes|=c,yd|=c)}function Dh(s,c){if(!_t)switch(s.tailMode){case"hidden":c=s.tail;for(var p=null;c!==null;)c.alternate!==null&&(p=c),c=c.sibling;p===null?s.tail=null:p.sibling=null;break;case"collapsed":p=s.tail;for(var x=null;p!==null;)p.alternate!==null&&(x=p),p=p.sibling;x===null?c||s.tail===null?s.tail=null:s.tail.sibling=null:x.sibling=null}}function cn(s){var c=s.alternate!==null&&s.alternate.child===s.child,p=0,x=0;if(c)for(var A=s.child;A!==null;)p|=A.lanes|A.childLanes,x|=A.subtreeFlags&65011712,x|=A.flags&65011712,A.return=s,A=A.sibling;else for(A=s.child;A!==null;)p|=A.lanes|A.childLanes,x|=A.subtreeFlags,x|=A.flags,A.return=s,A=A.sibling;return s.subtreeFlags|=x,s.childLanes=p,c}function IG(s,c,p){var x=c.pendingProps;switch(Nn(c),c.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return cn(c),null;case 1:return cn(c),null;case 3:return p=c.stateNode,x=null,s!==null&&(x=s.memoizedState.cache),c.memoizedState.cache!==x&&(c.flags|=2048),ls(Hn),ee(),p.pendingContext&&(p.context=p.pendingContext,p.pendingContext=null),(s===null||s.child===null)&&(Ua(c)?fs(c):s===null||s.memoizedState.isDehydrated&&(c.flags&256)===0||(c.flags|=1024,xh())),cn(c),null;case 26:var A=c.type,N=c.memoizedState;return s===null?(fs(c),N!==null?(cn(c),RO(c,N)):(cn(c),p_(c,A,null,x,p))):N?N!==s.memoizedState?(fs(c),cn(c),RO(c,N)):(cn(c),c.flags&=-16777217):(s=s.memoizedProps,s!==x&&fs(c),cn(c),p_(c,A,s,x,p)),null;case 27:if(xe(c),p=ae.current,A=c.type,s!==null&&c.stateNode!=null)s.memoizedProps!==x&&fs(c);else{if(!x){if(c.stateNode===null)throw Error(r(166));return cn(c),null}s=he.current,Ua(c)?vh(c):(s=FC(A,x,p),c.stateNode=s,fs(c))}return cn(c),null;case 5:if(xe(c),A=c.type,s!==null&&c.stateNode!=null)s.memoizedProps!==x&&fs(c);else{if(!x){if(c.stateNode===null)throw Error(r(166));return cn(c),null}if(N=he.current,Ua(c))vh(c);else{var $=_g(ae.current);switch(N){case 1:N=$.createElementNS("http://www.w3.org/2000/svg",A);break;case 2:N=$.createElementNS("http://www.w3.org/1998/Math/MathML",A);break;default:switch(A){case"svg":N=$.createElementNS("http://www.w3.org/2000/svg",A);break;case"math":N=$.createElementNS("http://www.w3.org/1998/Math/MathML",A);break;case"script":N=$.createElement("div"),N.innerHTML="<script><\/script>",N=N.removeChild(N.firstChild);break;case"select":N=typeof x.is=="string"?$.createElement("select",{is:x.is}):$.createElement("select"),x.multiple?N.multiple=!0:x.size&&(N.size=x.size);break;default:N=typeof x.is=="string"?$.createElement(A,{is:x.is}):$.createElement(A)}}N[Un]=c,N[ur]=x;e:for($=c.child;$!==null;){if($.tag===5||$.tag===6)N.appendChild($.stateNode);else if($.tag!==4&&$.tag!==27&&$.child!==null){$.child.return=$,$=$.child;continue}if($===c)break e;for(;$.sibling===null;){if($.return===null||$.return===c)break e;$=$.return}$.sibling.return=$.return,$=$.sibling}c.stateNode=N;e:switch(Nr(N,A,x),A){case"button":case"input":case"select":case"textarea":x=!!x.autoFocus;break e;case"img":x=!0;break e;default:x=!1}x&&fs(c)}}return cn(c),p_(c,c.type,s===null?null:s.memoizedProps,c.pendingProps,p),null;case 6:if(s&&c.stateNode!=null)s.memoizedProps!==x&&fs(c);else{if(typeof x!="string"&&c.stateNode===null)throw Error(r(166));if(s=ae.current,Ua(c)){if(s=c.stateNode,p=c.memoizedProps,x=null,A=Dt,A!==null)switch(A.tag){case 27:case 5:x=A.memoizedProps}s[Un]=c,s=!!(s.nodeValue===p||x!==null&&x.suppressHydrationWarning===!0||CC(s.nodeValue,p)),s||jo(c,!0)}else s=_g(s).createTextNode(x),s[Un]=c,c.stateNode=s}return cn(c),null;case 31:if(p=c.memoizedState,s===null||s.memoizedState!==null){if(x=Ua(c),p!==null){if(s===null){if(!x)throw Error(r(318));if(s=c.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(r(557));s[Un]=c}else ss(),(c.flags&128)===0&&(c.memoizedState=null),c.flags|=4;cn(c),s=!1}else p=xh(),s!==null&&s.memoizedState!==null&&(s.memoizedState.hydrationErrors=p),s=!0;if(!s)return c.flags&256?(Ri(c),c):(Ri(c),null);if((c.flags&128)!==0)throw Error(r(558))}return cn(c),null;case 13:if(x=c.memoizedState,s===null||s.memoizedState!==null&&s.memoizedState.dehydrated!==null){if(A=Ua(c),x!==null&&x.dehydrated!==null){if(s===null){if(!A)throw Error(r(318));if(A=c.memoizedState,A=A!==null?A.dehydrated:null,!A)throw Error(r(317));A[Un]=c}else ss(),(c.flags&128)===0&&(c.memoizedState=null),c.flags|=4;cn(c),A=!1}else A=xh(),s!==null&&s.memoizedState!==null&&(s.memoizedState.hydrationErrors=A),A=!0;if(!A)return c.flags&256?(Ri(c),c):(Ri(c),null)}return Ri(c),(c.flags&128)!==0?(c.lanes=p,c):(p=x!==null,s=s!==null&&s.memoizedState!==null,p&&(x=c.child,A=null,x.alternate!==null&&x.alternate.memoizedState!==null&&x.alternate.memoizedState.cachePool!==null&&(A=x.alternate.memoizedState.cachePool.pool),N=null,x.memoizedState!==null&&x.memoizedState.cachePool!==null&&(N=x.memoizedState.cachePool.pool),N!==A&&(x.flags|=2048)),p!==s&&p&&(c.child.flags|=8192),sg(c,c.updateQueue),cn(c),null);case 4:return ee(),s===null&&I_(c.stateNode.containerInfo),cn(c),null;case 10:return ls(c.type),cn(c),null;case 19:if(ne(Rn),x=c.memoizedState,x===null)return cn(c),null;if(A=(c.flags&128)!==0,N=x.rendering,N===null)if(A)Dh(x,!1);else{if(Cn!==0||s!==null&&(s.flags&128)!==0)for(s=c.child;s!==null;){if(N=W0(s),N!==null){for(c.flags|=128,Dh(x,!1),s=N.updateQueue,c.updateQueue=s,sg(c,s),c.subtreeFlags=0,s=p,p=c.child;p!==null;)gh(p,s),p=p.sibling;return ie(Rn,Rn.current&1|2),_t&&Je(c,x.treeForkCount),c.child}s=s.sibling}x.tail!==null&&Ue()>fg&&(c.flags|=128,A=!0,Dh(x,!1),c.lanes=4194304)}else{if(!A)if(s=W0(N),s!==null){if(c.flags|=128,A=!0,s=s.updateQueue,c.updateQueue=s,sg(c,s),Dh(x,!0),x.tail===null&&x.tailMode==="hidden"&&!N.alternate&&!_t)return cn(c),null}else 2*Ue()-x.renderingStartTime>fg&&p!==536870912&&(c.flags|=128,A=!0,Dh(x,!1),c.lanes=4194304);x.isBackwards?(N.sibling=c.child,c.child=N):(s=x.last,s!==null?s.sibling=N:c.child=N,x.last=N)}return x.tail!==null?(s=x.tail,x.rendering=s,x.tail=s.sibling,x.renderingStartTime=Ue(),s.sibling=null,p=Rn.current,ie(Rn,A?p&1|2:p&1),_t&&Je(c,x.treeForkCount),s):(cn(c),null);case 22:case 23:return Ri(c),$w(),x=c.memoizedState!==null,s!==null?s.memoizedState!==null!==x&&(c.flags|=8192):x&&(c.flags|=8192),x?(p&536870912)!==0&&(c.flags&128)===0&&(cn(c),c.subtreeFlags&6&&(c.flags|=8192)):cn(c),p=c.updateQueue,p!==null&&sg(c,p.retryQueue),p=null,s!==null&&s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(p=s.memoizedState.cachePool.pool),x=null,c.memoizedState!==null&&c.memoizedState.cachePool!==null&&(x=c.memoizedState.cachePool.pool),x!==p&&(c.flags|=2048),s!==null&&ne(Hc),null;case 24:return p=null,s!==null&&(p=s.memoizedState.cache),c.memoizedState.cache!==p&&(c.flags|=2048),ls(Hn),cn(c),null;case 25:return null;case 30:return null}throw Error(r(156,c.tag))}function $G(s,c){switch(Nn(c),c.tag){case 1:return s=c.flags,s&65536?(c.flags=s&-65537|128,c):null;case 3:return ls(Hn),ee(),s=c.flags,(s&65536)!==0&&(s&128)===0?(c.flags=s&-65537|128,c):null;case 26:case 27:case 5:return xe(c),null;case 31:if(c.memoizedState!==null){if(Ri(c),c.alternate===null)throw Error(r(340));ss()}return s=c.flags,s&65536?(c.flags=s&-65537|128,c):null;case 13:if(Ri(c),s=c.memoizedState,s!==null&&s.dehydrated!==null){if(c.alternate===null)throw Error(r(340));ss()}return s=c.flags,s&65536?(c.flags=s&-65537|128,c):null;case 19:return ne(Rn),null;case 4:return ee(),null;case 10:return ls(c.type),null;case 22:case 23:return Ri(c),$w(),s!==null&&ne(Hc),s=c.flags,s&65536?(c.flags=s&-65537|128,c):null;case 24:return ls(Hn),null;case 25:return null;default:return null}}function LO(s,c){switch(Nn(c),c.tag){case 3:ls(Hn),ee();break;case 26:case 27:case 5:xe(c);break;case 4:ee();break;case 31:c.memoizedState!==null&&Ri(c);break;case 13:Ri(c);break;case 19:ne(Rn);break;case 10:ls(c.type);break;case 22:case 23:Ri(c),$w(),s!==null&&ne(Hc);break;case 24:ls(Hn)}}function Ph(s,c){try{var p=c.updateQueue,x=p!==null?p.lastEffect:null;if(x!==null){var A=x.next;p=A;do{if((p.tag&s)===s){x=void 0;var N=p.create,$=p.inst;x=N(),$.destroy=x}p=p.next}while(p!==A)}}catch(H){Yt(c,c.return,H)}}function jl(s,c,p){try{var x=c.updateQueue,A=x!==null?x.lastEffect:null;if(A!==null){var N=A.next;x=N;do{if((x.tag&s)===s){var $=x.inst,H=$.destroy;if(H!==void 0){$.destroy=void 0,A=c;var re=p,be=H;try{be()}catch(ke){Yt(A,re,ke)}}}x=x.next}while(x!==N)}}catch(ke){Yt(c,c.return,ke)}}function IO(s){var c=s.updateQueue;if(c!==null){var p=s.stateNode;try{TN(c,p)}catch(x){Yt(s,s.return,x)}}}function $O(s,c,p){p.props=Wc(s.type,s.memoizedProps),p.state=s.memoizedState;try{p.componentWillUnmount()}catch(x){Yt(s,c,x)}}function Rh(s,c){try{var p=s.ref;if(p!==null){switch(s.tag){case 26:case 27:case 5:var x=s.stateNode;break;case 30:x=s.stateNode;break;default:x=s.stateNode}typeof p=="function"?s.refCleanup=p(x):p.current=x}}catch(A){Yt(s,c,A)}}function Ao(s,c){var p=s.ref,x=s.refCleanup;if(p!==null)if(typeof x=="function")try{x()}catch(A){Yt(s,c,A)}finally{s.refCleanup=null,s=s.alternate,s!=null&&(s.refCleanup=null)}else if(typeof p=="function")try{p(null)}catch(A){Yt(s,c,A)}else p.current=null}function BO(s){var c=s.type,p=s.memoizedProps,x=s.stateNode;try{e:switch(c){case"button":case"input":case"select":case"textarea":p.autoFocus&&x.focus();break e;case"img":p.src?x.src=p.src:p.srcSet&&(x.srcset=p.srcSet)}}catch(A){Yt(s,s.return,A)}}function g_(s,c,p){try{var x=s.stateNode;oY(x,s.type,p,c),x[ur]=c}catch(A){Yt(s,s.return,A)}}function zO(s){return s.tag===5||s.tag===3||s.tag===26||s.tag===27&&Dl(s.type)||s.tag===4}function b_(s){e:for(;;){for(;s.sibling===null;){if(s.return===null||zO(s.return))return null;s=s.return}for(s.sibling.return=s.return,s=s.sibling;s.tag!==5&&s.tag!==6&&s.tag!==18;){if(s.tag===27&&Dl(s.type)||s.flags&2||s.child===null||s.tag===4)continue e;s.child.return=s,s=s.child}if(!(s.flags&2))return s.stateNode}}function y_(s,c,p){var x=s.tag;if(x===5||x===6)s=s.stateNode,c?(p.nodeType===9?p.body:p.nodeName==="HTML"?p.ownerDocument.body:p).insertBefore(s,c):(c=p.nodeType===9?p.body:p.nodeName==="HTML"?p.ownerDocument.body:p,c.appendChild(s),p=p._reactRootContainer,p!=null||c.onclick!==null||(c.onclick=ci));else if(x!==4&&(x===27&&Dl(s.type)&&(p=s.stateNode,c=null),s=s.child,s!==null))for(y_(s,c,p),s=s.sibling;s!==null;)y_(s,c,p),s=s.sibling}function lg(s,c,p){var x=s.tag;if(x===5||x===6)s=s.stateNode,c?p.insertBefore(s,c):p.appendChild(s);else if(x!==4&&(x===27&&Dl(s.type)&&(p=s.stateNode),s=s.child,s!==null))for(lg(s,c,p),s=s.sibling;s!==null;)lg(s,c,p),s=s.sibling}function UO(s){var c=s.stateNode,p=s.memoizedProps;try{for(var x=s.type,A=c.attributes;A.length;)c.removeAttributeNode(A[0]);Nr(c,x,p),c[Un]=s,c[ur]=p}catch(N){Yt(s,s.return,N)}}var hs=!1,qn=!1,v_=!1,FO=typeof WeakSet=="function"?WeakSet:Set,hr=null;function BG(s,c){if(s=s.containerInfo,z_=Ng,s=Mc(s),xo(s)){if("selectionStart"in s)var p={start:s.selectionStart,end:s.selectionEnd};else e:{p=(p=s.ownerDocument)&&p.defaultView||window;var x=p.getSelection&&p.getSelection();if(x&&x.rangeCount!==0){p=x.anchorNode;var A=x.anchorOffset,N=x.focusNode;x=x.focusOffset;try{p.nodeType,N.nodeType}catch{p=null;break e}var $=0,H=-1,re=-1,be=0,ke=0,Ne=s,ve=null;t:for(;;){for(var we;Ne!==p||A!==0&&Ne.nodeType!==3||(H=$+A),Ne!==N||x!==0&&Ne.nodeType!==3||(re=$+x),Ne.nodeType===3&&($+=Ne.nodeValue.length),(we=Ne.firstChild)!==null;)ve=Ne,Ne=we;for(;;){if(Ne===s)break t;if(ve===p&&++be===A&&(H=$),ve===N&&++ke===x&&(re=$),(we=Ne.nextSibling)!==null)break;Ne=ve,ve=Ne.parentNode}Ne=we}p=H===-1||re===-1?null:{start:H,end:re}}else p=null}p=p||{start:0,end:0}}else p=null;for(U_={focusedElem:s,selectionRange:p},Ng=!1,hr=c;hr!==null;)if(c=hr,s=c.child,(c.subtreeFlags&1028)!==0&&s!==null)s.return=c,hr=s;else for(;hr!==null;){switch(c=hr,N=c.alternate,s=c.flags,c.tag){case 0:if((s&4)!==0&&(s=c.updateQueue,s=s!==null?s.events:null,s!==null))for(p=0;p<s.length;p++)A=s[p],A.ref.impl=A.nextImpl;break;case 11:case 15:break;case 1:if((s&1024)!==0&&N!==null){s=void 0,p=c,A=N.memoizedProps,N=N.memoizedState,x=p.stateNode;try{var Ye=Wc(p.type,A);s=x.getSnapshotBeforeUpdate(Ye,N),x.__reactInternalSnapshotBeforeUpdate=s}catch(ot){Yt(p,p.return,ot)}}break;case 3:if((s&1024)!==0){if(s=c.stateNode.containerInfo,p=s.nodeType,p===9)G_(s);else if(p===1)switch(s.nodeName){case"HEAD":case"HTML":case"BODY":G_(s);break;default:s.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((s&1024)!==0)throw Error(r(163))}if(s=c.sibling,s!==null){s.return=c.return,hr=s;break}hr=c.return}}function HO(s,c,p){var x=p.flags;switch(p.tag){case 0:case 11:case 15:ps(s,p),x&4&&Ph(5,p);break;case 1:if(ps(s,p),x&4)if(s=p.stateNode,c===null)try{s.componentDidMount()}catch($){Yt(p,p.return,$)}else{var A=Wc(p.type,c.memoizedProps);c=c.memoizedState;try{s.componentDidUpdate(A,c,s.__reactInternalSnapshotBeforeUpdate)}catch($){Yt(p,p.return,$)}}x&64&&IO(p),x&512&&Rh(p,p.return);break;case 3:if(ps(s,p),x&64&&(s=p.updateQueue,s!==null)){if(c=null,p.child!==null)switch(p.child.tag){case 27:case 5:c=p.child.stateNode;break;case 1:c=p.child.stateNode}try{TN(s,c)}catch($){Yt(p,p.return,$)}}break;case 27:c===null&&x&4&&UO(p);case 26:case 5:ps(s,p),c===null&&x&4&&BO(p),x&512&&Rh(p,p.return);break;case 12:ps(s,p);break;case 31:ps(s,p),x&4&&qO(s,p);break;case 13:ps(s,p),x&4&&KO(s,p),x&64&&(s=p.memoizedState,s!==null&&(s=s.dehydrated,s!==null&&(p=WG.bind(null,p),mY(s,p))));break;case 22:if(x=p.memoizedState!==null||hs,!x){c=c!==null&&c.memoizedState!==null||qn,A=hs;var N=qn;hs=x,(qn=c)&&!N?gs(s,p,(p.subtreeFlags&8772)!==0):ps(s,p),hs=A,qn=N}break;case 30:break;default:ps(s,p)}}function GO(s){var c=s.alternate;c!==null&&(s.alternate=null,GO(c)),s.child=null,s.deletions=null,s.sibling=null,s.tag===5&&(c=s.stateNode,c!==null&&Jf(c)),s.stateNode=null,s.return=null,s.dependencies=null,s.memoizedProps=null,s.memoizedState=null,s.pendingProps=null,s.stateNode=null,s.updateQueue=null}var mn=null,mi=!1;function ms(s,c,p){for(p=p.child;p!==null;)YO(s,c,p),p=p.sibling}function YO(s,c,p){if(Mt&&typeof Mt.onCommitFiberUnmount=="function")try{Mt.onCommitFiberUnmount(Nt,p)}catch{}switch(p.tag){case 26:qn||Ao(p,c),ms(s,c,p),p.memoizedState?p.memoizedState.count--:p.stateNode&&(p=p.stateNode,p.parentNode.removeChild(p));break;case 27:qn||Ao(p,c);var x=mn,A=mi;Dl(p.type)&&(mn=p.stateNode,mi=!1),ms(s,c,p),Gh(p.stateNode),mn=x,mi=A;break;case 5:qn||Ao(p,c);case 6:if(x=mn,A=mi,mn=null,ms(s,c,p),mn=x,mi=A,mn!==null)if(mi)try{(mn.nodeType===9?mn.body:mn.nodeName==="HTML"?mn.ownerDocument.body:mn).removeChild(p.stateNode)}catch(N){Yt(p,c,N)}else try{mn.removeChild(p.stateNode)}catch(N){Yt(p,c,N)}break;case 18:mn!==null&&(mi?(s=mn,IC(s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s,p.stateNode),jd(s)):IC(mn,p.stateNode));break;case 4:x=mn,A=mi,mn=p.stateNode.containerInfo,mi=!0,ms(s,c,p),mn=x,mi=A;break;case 0:case 11:case 14:case 15:jl(2,p,c),qn||jl(4,p,c),ms(s,c,p);break;case 1:qn||(Ao(p,c),x=p.stateNode,typeof x.componentWillUnmount=="function"&&$O(p,c,x)),ms(s,c,p);break;case 21:ms(s,c,p);break;case 22:qn=(x=qn)||p.memoizedState!==null,ms(s,c,p),qn=x;break;default:ms(s,c,p)}}function qO(s,c){if(c.memoizedState===null&&(s=c.alternate,s!==null&&(s=s.memoizedState,s!==null))){s=s.dehydrated;try{jd(s)}catch(p){Yt(c,c.return,p)}}}function KO(s,c){if(c.memoizedState===null&&(s=c.alternate,s!==null&&(s=s.memoizedState,s!==null&&(s=s.dehydrated,s!==null))))try{jd(s)}catch(p){Yt(c,c.return,p)}}function zG(s){switch(s.tag){case 31:case 13:case 19:var c=s.stateNode;return c===null&&(c=s.stateNode=new FO),c;case 22:return s=s.stateNode,c=s._retryCache,c===null&&(c=s._retryCache=new FO),c;default:throw Error(r(435,s.tag))}}function cg(s,c){var p=zG(s);c.forEach(function(x){if(!p.has(x)){p.add(x);var A=VG.bind(null,s,x);x.then(A,A)}})}function pi(s,c){var p=c.deletions;if(p!==null)for(var x=0;x<p.length;x++){var A=p[x],N=s,$=c,H=$;e:for(;H!==null;){switch(H.tag){case 27:if(Dl(H.type)){mn=H.stateNode,mi=!1;break e}break;case 5:mn=H.stateNode,mi=!1;break e;case 3:case 4:mn=H.stateNode.containerInfo,mi=!0;break e}H=H.return}if(mn===null)throw Error(r(160));YO(N,$,A),mn=null,mi=!1,N=A.alternate,N!==null&&(N.return=null),A.return=null}if(c.subtreeFlags&13886)for(c=c.child;c!==null;)WO(c,s),c=c.sibling}var Ha=null;function WO(s,c){var p=s.alternate,x=s.flags;switch(s.tag){case 0:case 11:case 14:case 15:pi(c,s),gi(s),x&4&&(jl(3,s,s.return),Ph(3,s),jl(5,s,s.return));break;case 1:pi(c,s),gi(s),x&512&&(qn||p===null||Ao(p,p.return)),x&64&&hs&&(s=s.updateQueue,s!==null&&(x=s.callbacks,x!==null&&(p=s.shared.hiddenCallbacks,s.shared.hiddenCallbacks=p===null?x:p.concat(x))));break;case 26:var A=Ha;if(pi(c,s),gi(s),x&512&&(qn||p===null||Ao(p,p.return)),x&4){var N=p!==null?p.memoizedState:null;if(x=s.memoizedState,p===null)if(x===null)if(s.stateNode===null){e:{x=s.type,p=s.memoizedProps,A=A.ownerDocument||A;t:switch(x){case"title":N=A.getElementsByTagName("title")[0],(!N||N[gc]||N[Un]||N.namespaceURI==="http://www.w3.org/2000/svg"||N.hasAttribute("itemprop"))&&(N=A.createElement(x),A.head.insertBefore(N,A.querySelector("head > title"))),Nr(N,x,p),N[Un]=s,Fn(N),x=N;break e;case"link":var $=WC("link","href",A).get(x+(p.href||""));if($){for(var H=0;H<$.length;H++)if(N=$[H],N.getAttribute("href")===(p.href==null||p.href===""?null:p.href)&&N.getAttribute("rel")===(p.rel==null?null:p.rel)&&N.getAttribute("title")===(p.title==null?null:p.title)&&N.getAttribute("crossorigin")===(p.crossOrigin==null?null:p.crossOrigin)){$.splice(H,1);break t}}N=A.createElement(x),Nr(N,x,p),A.head.appendChild(N);break;case"meta":if($=WC("meta","content",A).get(x+(p.content||""))){for(H=0;H<$.length;H++)if(N=$[H],N.getAttribute("content")===(p.content==null?null:""+p.content)&&N.getAttribute("name")===(p.name==null?null:p.name)&&N.getAttribute("property")===(p.property==null?null:p.property)&&N.getAttribute("http-equiv")===(p.httpEquiv==null?null:p.httpEquiv)&&N.getAttribute("charset")===(p.charSet==null?null:p.charSet)){$.splice(H,1);break t}}N=A.createElement(x),Nr(N,x,p),A.head.appendChild(N);break;default:throw Error(r(468,x))}N[Un]=s,Fn(N),x=N}s.stateNode=x}else VC(A,s.type,s.stateNode);else s.stateNode=KC(A,x,s.memoizedProps);else N!==x?(N===null?p.stateNode!==null&&(p=p.stateNode,p.parentNode.removeChild(p)):N.count--,x===null?VC(A,s.type,s.stateNode):KC(A,x,s.memoizedProps)):x===null&&s.stateNode!==null&&g_(s,s.memoizedProps,p.memoizedProps)}break;case 27:pi(c,s),gi(s),x&512&&(qn||p===null||Ao(p,p.return)),p!==null&&x&4&&g_(s,s.memoizedProps,p.memoizedProps);break;case 5:if(pi(c,s),gi(s),x&512&&(qn||p===null||Ao(p,p.return)),s.flags&32){A=s.stateNode;try{na(A,"")}catch(Ye){Yt(s,s.return,Ye)}}x&4&&s.stateNode!=null&&(A=s.memoizedProps,g_(s,A,p!==null?p.memoizedProps:A)),x&1024&&(v_=!0);break;case 6:if(pi(c,s),gi(s),x&4){if(s.stateNode===null)throw Error(r(162));x=s.memoizedProps,p=s.stateNode;try{p.nodeValue=x}catch(Ye){Yt(s,s.return,Ye)}}break;case 3:if(Eg=null,A=Ha,Ha=Sg(c.containerInfo),pi(c,s),Ha=A,gi(s),x&4&&p!==null&&p.memoizedState.isDehydrated)try{jd(c.containerInfo)}catch(Ye){Yt(s,s.return,Ye)}v_&&(v_=!1,VO(s));break;case 4:x=Ha,Ha=Sg(s.stateNode.containerInfo),pi(c,s),gi(s),Ha=x;break;case 12:pi(c,s),gi(s);break;case 31:pi(c,s),gi(s),x&4&&(x=s.updateQueue,x!==null&&(s.updateQueue=null,cg(s,x)));break;case 13:pi(c,s),gi(s),s.child.flags&8192&&s.memoizedState!==null!=(p!==null&&p.memoizedState!==null)&&(dg=Ue()),x&4&&(x=s.updateQueue,x!==null&&(s.updateQueue=null,cg(s,x)));break;case 22:A=s.memoizedState!==null;var re=p!==null&&p.memoizedState!==null,be=hs,ke=qn;if(hs=be||A,qn=ke||re,pi(c,s),qn=ke,hs=be,gi(s),x&8192)e:for(c=s.stateNode,c._visibility=A?c._visibility&-2:c._visibility|1,A&&(p===null||re||hs||qn||Vc(s)),p=null,c=s;;){if(c.tag===5||c.tag===26){if(p===null){re=p=c;try{if(N=re.stateNode,A)$=N.style,typeof $.setProperty=="function"?$.setProperty("display","none","important"):$.display="none";else{H=re.stateNode;var Ne=re.memoizedProps.style,ve=Ne!=null&&Ne.hasOwnProperty("display")?Ne.display:null;H.style.display=ve==null||typeof ve=="boolean"?"":(""+ve).trim()}}catch(Ye){Yt(re,re.return,Ye)}}}else if(c.tag===6){if(p===null){re=c;try{re.stateNode.nodeValue=A?"":re.memoizedProps}catch(Ye){Yt(re,re.return,Ye)}}}else if(c.tag===18){if(p===null){re=c;try{var we=re.stateNode;A?$C(we,!0):$C(re.stateNode,!1)}catch(Ye){Yt(re,re.return,Ye)}}}else if((c.tag!==22&&c.tag!==23||c.memoizedState===null||c===s)&&c.child!==null){c.child.return=c,c=c.child;continue}if(c===s)break e;for(;c.sibling===null;){if(c.return===null||c.return===s)break e;p===c&&(p=null),c=c.return}p===c&&(p=null),c.sibling.return=c.return,c=c.sibling}x&4&&(x=s.updateQueue,x!==null&&(p=x.retryQueue,p!==null&&(x.retryQueue=null,cg(s,p))));break;case 19:pi(c,s),gi(s),x&4&&(x=s.updateQueue,x!==null&&(s.updateQueue=null,cg(s,x)));break;case 30:break;case 21:break;default:pi(c,s),gi(s)}}function gi(s){var c=s.flags;if(c&2){try{for(var p,x=s.return;x!==null;){if(zO(x)){p=x;break}x=x.return}if(p==null)throw Error(r(160));switch(p.tag){case 27:var A=p.stateNode,N=b_(s);lg(s,N,A);break;case 5:var $=p.stateNode;p.flags&32&&(na($,""),p.flags&=-33);var H=b_(s);lg(s,H,$);break;case 3:case 4:var re=p.stateNode.containerInfo,be=b_(s);y_(s,be,re);break;default:throw Error(r(161))}}catch(ke){Yt(s,s.return,ke)}s.flags&=-3}c&4096&&(s.flags&=-4097)}function VO(s){if(s.subtreeFlags&1024)for(s=s.child;s!==null;){var c=s;VO(c),c.tag===5&&c.flags&1024&&c.stateNode.reset(),s=s.sibling}}function ps(s,c){if(c.subtreeFlags&8772)for(c=c.child;c!==null;)HO(s,c.alternate,c),c=c.sibling}function Vc(s){for(s=s.child;s!==null;){var c=s;switch(c.tag){case 0:case 11:case 14:case 15:jl(4,c,c.return),Vc(c);break;case 1:Ao(c,c.return);var p=c.stateNode;typeof p.componentWillUnmount=="function"&&$O(c,c.return,p),Vc(c);break;case 27:Gh(c.stateNode);case 26:case 5:Ao(c,c.return),Vc(c);break;case 22:c.memoizedState===null&&Vc(c);break;case 30:Vc(c);break;default:Vc(c)}s=s.sibling}}function gs(s,c,p){for(p=p&&(c.subtreeFlags&8772)!==0,c=c.child;c!==null;){var x=c.alternate,A=s,N=c,$=N.flags;switch(N.tag){case 0:case 11:case 15:gs(A,N,p),Ph(4,N);break;case 1:if(gs(A,N,p),x=N,A=x.stateNode,typeof A.componentDidMount=="function")try{A.componentDidMount()}catch(be){Yt(x,x.return,be)}if(x=N,A=x.updateQueue,A!==null){var H=x.stateNode;try{var re=A.shared.hiddenCallbacks;if(re!==null)for(A.shared.hiddenCallbacks=null,A=0;A<re.length;A++)jN(re[A],H)}catch(be){Yt(x,x.return,be)}}p&&$&64&&IO(N),Rh(N,N.return);break;case 27:UO(N);case 26:case 5:gs(A,N,p),p&&x===null&&$&4&&BO(N),Rh(N,N.return);break;case 12:gs(A,N,p);break;case 31:gs(A,N,p),p&&$&4&&qO(A,N);break;case 13:gs(A,N,p),p&&$&4&&KO(A,N);break;case 22:N.memoizedState===null&&gs(A,N,p),Rh(N,N.return);break;case 30:break;default:gs(A,N,p)}c=c.sibling}}function x_(s,c){var p=null;s!==null&&s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(p=s.memoizedState.cachePool.pool),s=null,c.memoizedState!==null&&c.memoizedState.cachePool!==null&&(s=c.memoizedState.cachePool.pool),s!==p&&(s!=null&&s.refCount++,p!=null&&wh(p))}function w_(s,c){s=null,c.alternate!==null&&(s=c.alternate.memoizedState.cache),c=c.memoizedState.cache,c!==s&&(c.refCount++,s!=null&&wh(s))}function Ga(s,c,p,x){if(c.subtreeFlags&10256)for(c=c.child;c!==null;)ZO(s,c,p,x),c=c.sibling}function ZO(s,c,p,x){var A=c.flags;switch(c.tag){case 0:case 11:case 15:Ga(s,c,p,x),A&2048&&Ph(9,c);break;case 1:Ga(s,c,p,x);break;case 3:Ga(s,c,p,x),A&2048&&(s=null,c.alternate!==null&&(s=c.alternate.memoizedState.cache),c=c.memoizedState.cache,c!==s&&(c.refCount++,s!=null&&wh(s)));break;case 12:if(A&2048){Ga(s,c,p,x),s=c.stateNode;try{var N=c.memoizedProps,$=N.id,H=N.onPostCommit;typeof H=="function"&&H($,c.alternate===null?"mount":"update",s.passiveEffectDuration,-0)}catch(re){Yt(c,c.return,re)}}else Ga(s,c,p,x);break;case 31:Ga(s,c,p,x);break;case 13:Ga(s,c,p,x);break;case 23:break;case 22:N=c.stateNode,$=c.alternate,c.memoizedState!==null?N._visibility&2?Ga(s,c,p,x):Lh(s,c):N._visibility&2?Ga(s,c,p,x):(N._visibility|=2,pd(s,c,p,x,(c.subtreeFlags&10256)!==0||!1)),A&2048&&x_($,c);break;case 24:Ga(s,c,p,x),A&2048&&w_(c.alternate,c);break;default:Ga(s,c,p,x)}}function pd(s,c,p,x,A){for(A=A&&((c.subtreeFlags&10256)!==0||!1),c=c.child;c!==null;){var N=s,$=c,H=p,re=x,be=$.flags;switch($.tag){case 0:case 11:case 15:pd(N,$,H,re,A),Ph(8,$);break;case 23:break;case 22:var ke=$.stateNode;$.memoizedState!==null?ke._visibility&2?pd(N,$,H,re,A):Lh(N,$):(ke._visibility|=2,pd(N,$,H,re,A)),A&&be&2048&&x_($.alternate,$);break;case 24:pd(N,$,H,re,A),A&&be&2048&&w_($.alternate,$);break;default:pd(N,$,H,re,A)}c=c.sibling}}function Lh(s,c){if(c.subtreeFlags&10256)for(c=c.child;c!==null;){var p=s,x=c,A=x.flags;switch(x.tag){case 22:Lh(p,x),A&2048&&x_(x.alternate,x);break;case 24:Lh(p,x),A&2048&&w_(x.alternate,x);break;default:Lh(p,x)}c=c.sibling}}var Ih=8192;function gd(s,c,p){if(s.subtreeFlags&Ih)for(s=s.child;s!==null;)XO(s,c,p),s=s.sibling}function XO(s,c,p){switch(s.tag){case 26:gd(s,c,p),s.flags&Ih&&s.memoizedState!==null&&jY(p,Ha,s.memoizedState,s.memoizedProps);break;case 5:gd(s,c,p);break;case 3:case 4:var x=Ha;Ha=Sg(s.stateNode.containerInfo),gd(s,c,p),Ha=x;break;case 22:s.memoizedState===null&&(x=s.alternate,x!==null&&x.memoizedState!==null?(x=Ih,Ih=16777216,gd(s,c,p),Ih=x):gd(s,c,p));break;default:gd(s,c,p)}}function JO(s){var c=s.alternate;if(c!==null&&(s=c.child,s!==null)){c.child=null;do c=s.sibling,s.sibling=null,s=c;while(s!==null)}}function $h(s){var c=s.deletions;if((s.flags&16)!==0){if(c!==null)for(var p=0;p<c.length;p++){var x=c[p];hr=x,eC(x,s)}JO(s)}if(s.subtreeFlags&10256)for(s=s.child;s!==null;)QO(s),s=s.sibling}function QO(s){switch(s.tag){case 0:case 11:case 15:$h(s),s.flags&2048&&jl(9,s,s.return);break;case 3:$h(s);break;case 12:$h(s);break;case 22:var c=s.stateNode;s.memoizedState!==null&&c._visibility&2&&(s.return===null||s.return.tag!==13)?(c._visibility&=-3,ug(s)):$h(s);break;default:$h(s)}}function ug(s){var c=s.deletions;if((s.flags&16)!==0){if(c!==null)for(var p=0;p<c.length;p++){var x=c[p];hr=x,eC(x,s)}JO(s)}for(s=s.child;s!==null;){switch(c=s,c.tag){case 0:case 11:case 15:jl(8,c,c.return),ug(c);break;case 22:p=c.stateNode,p._visibility&2&&(p._visibility&=-3,ug(c));break;default:ug(c)}s=s.sibling}}function eC(s,c){for(;hr!==null;){var p=hr;switch(p.tag){case 0:case 11:case 15:jl(8,p,c);break;case 23:case 22:if(p.memoizedState!==null&&p.memoizedState.cachePool!==null){var x=p.memoizedState.cachePool.pool;x!=null&&x.refCount++}break;case 24:wh(p.memoizedState.cache)}if(x=p.child,x!==null)x.return=p,hr=x;else e:for(p=s;hr!==null;){x=hr;var A=x.sibling,N=x.return;if(GO(x),x===p){hr=null;break e}if(A!==null){A.return=N,hr=A;break e}hr=N}}}var UG={getCacheForType:function(s){var c=Tr(Hn),p=c.data.get(s);return p===void 0&&(p=s(),c.data.set(s,p)),p},cacheSignal:function(){return Tr(Hn).controller.signal}},FG=typeof WeakMap=="function"?WeakMap:Map,$t=0,Qt=null,St=null,jt=0,Gt=0,Li=null,Tl=!1,bd=!1,__=!1,bs=0,Cn=0,Al=0,Zc=0,S_=0,Ii=0,yd=0,Bh=null,bi=null,k_=!1,dg=0,tC=0,fg=1/0,hg=null,Nl=null,nr=0,Ol=null,vd=null,ys=0,E_=0,j_=null,nC=null,zh=0,T_=null;function $i(){return($t&2)!==0&&jt!==0?jt&-jt:Y.T!==null?D_():Zf()}function rC(){if(Ii===0)if((jt&536870912)===0||_t){var s=zt;zt<<=1,(zt&3932160)===0&&(zt=262144),Ii=s}else Ii=536870912;return s=Pi.current,s!==null&&(s.flags|=32),Ii}function yi(s,c,p){(s===Qt&&(Gt===2||Gt===9)||s.cancelPendingCommit!==null)&&(xd(s,0),Cl(s,jt,Ii,!1)),Xo(s,p),(($t&2)===0||s!==Qt)&&(s===Qt&&(($t&2)===0&&(Zc|=p),Cn===4&&Cl(s,jt,Ii,!1)),No(s))}function iC(s,c,p){if(($t&6)!==0)throw Error(r(327));var x=!p&&(c&127)===0&&(c&s.expiredLanes)===0||pc(s,c),A=x?YG(s,c):N_(s,c,!0),N=x;do{if(A===0){bd&&!x&&Cl(s,c,0,!1);break}else{if(p=s.current.alternate,N&&!HG(p)){A=N_(s,c,!1),N=!1;continue}if(A===2){if(N=c,s.errorRecoveryDisabledLanes&N)var $=0;else $=s.pendingLanes&-536870913,$=$!==0?$:$&536870912?536870912:0;if($!==0){c=$;e:{var H=s;A=Bh;var re=H.current.memoizedState.isDehydrated;if(re&&(xd(H,$).flags|=256),$=N_(H,$,!1),$!==2){if(__&&!re){H.errorRecoveryDisabledLanes|=N,Zc|=N,A=4;break e}N=bi,bi=A,N!==null&&(bi===null?bi=N:bi.push.apply(bi,N))}A=$}if(N=!1,A!==2)continue}}if(A===1){xd(s,0),Cl(s,c,0,!0);break}e:{switch(x=s,N=A,N){case 0:case 1:throw Error(r(345));case 4:if((c&4194048)!==c)break;case 6:Cl(x,c,Ii,!Tl);break e;case 2:bi=null;break;case 3:case 5:break;default:throw Error(r(329))}if((c&62914560)===c&&(A=dg+300-Ue(),10<A)){if(Cl(x,c,Ii,!Tl),zu(x,0,!0)!==0)break e;ys=c,x.timeoutHandle=RC(aC.bind(null,x,p,bi,hg,k_,c,Ii,Zc,yd,Tl,N,"Throttled",-0,0),A);break e}aC(x,p,bi,hg,k_,c,Ii,Zc,yd,Tl,N,null,-0,0)}}break}while(!0);No(s)}function aC(s,c,p,x,A,N,$,H,re,be,ke,Ne,ve,we){if(s.timeoutHandle=-1,Ne=c.subtreeFlags,Ne&8192||(Ne&16785408)===16785408){Ne={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:ci},XO(c,N,Ne);var Ye=(N&62914560)===N?dg-Ue():(N&4194048)===N?tC-Ue():0;if(Ye=TY(Ne,Ye),Ye!==null){ys=N,s.cancelPendingCommit=Ye(hC.bind(null,s,c,N,p,x,A,$,H,re,ke,Ne,null,ve,we)),Cl(s,N,$,!be);return}}hC(s,c,N,p,x,A,$,H,re)}function HG(s){for(var c=s;;){var p=c.tag;if((p===0||p===11||p===15)&&c.flags&16384&&(p=c.updateQueue,p!==null&&(p=p.stores,p!==null)))for(var x=0;x<p.length;x++){var A=p[x],N=A.getSnapshot;A=A.value;try{if(!dr(N(),A))return!1}catch{return!1}}if(p=c.child,c.subtreeFlags&16384&&p!==null)p.return=c,c=p;else{if(c===s)break;for(;c.sibling===null;){if(c.return===null||c.return===s)return!0;c=c.return}c.sibling.return=c.return,c=c.sibling}}return!0}function Cl(s,c,p,x){c&=~S_,c&=~Zc,s.suspendedLanes|=c,s.pingedLanes&=~c,x&&(s.warmLanes|=c),x=s.expirationTimes;for(var A=c;0<A;){var N=31-rn(A),$=1<<N;x[N]=-1,A&=~$}p!==0&&f0(s,p,c)}function mg(){return($t&6)===0?(Uh(0),!1):!0}function A_(){if(St!==null){if(Gt===0)var s=St.return;else s=St,Fa=To=null,Gw(s),ud=null,Sh=0,s=St;for(;s!==null;)LO(s.alternate,s),s=s.return;St=null}}function xd(s,c){var p=s.timeoutHandle;p!==-1&&(s.timeoutHandle=-1,cY(p)),p=s.cancelPendingCommit,p!==null&&(s.cancelPendingCommit=null,p()),ys=0,A_(),Qt=s,St=p=ca(s.current,null),jt=c,Gt=0,Li=null,Tl=!1,bd=pc(s,c),__=!1,yd=Ii=S_=Zc=Al=Cn=0,bi=Bh=null,k_=!1,(c&8)!==0&&(c|=c&32);var x=s.entangledLanes;if(x!==0)for(s=s.entanglements,x&=c;0<x;){var A=31-rn(x),N=1<<A;c|=s[A],x&=~N}return bs=c,Ic(),p}function oC(s,c){pt=null,Y.H=Ch,c===cd||c===H0?(c=_N(),Gt=3):c===Mw?(c=_N(),Gt=4):Gt=c===o_?8:c!==null&&typeof c=="object"&&typeof c.then=="function"?6:1,Li=c,St===null&&(Cn=1,rg(s,v(c,s.current)))}function sC(){var s=Pi.current;return s===null?!0:(jt&4194048)===jt?ua===null:(jt&62914560)===jt||(jt&536870912)!==0?s===ua:!1}function lC(){var s=Y.H;return Y.H=Ch,s===null?Ch:s}function cC(){var s=Y.A;return Y.A=UG,s}function pg(){Cn=4,Tl||(jt&4194048)!==jt&&Pi.current!==null||(bd=!0),(Al&134217727)===0&&(Zc&134217727)===0||Qt===null||Cl(Qt,jt,Ii,!1)}function N_(s,c,p){var x=$t;$t|=2;var A=lC(),N=cC();(Qt!==s||jt!==c)&&(hg=null,xd(s,c)),c=!1;var $=Cn;e:do try{if(Gt!==0&&St!==null){var H=St,re=Li;switch(Gt){case 8:A_(),$=6;break e;case 3:case 2:case 9:case 6:Pi.current===null&&(c=!0);var be=Gt;if(Gt=0,Li=null,wd(s,H,re,be),p&&bd){$=0;break e}break;default:be=Gt,Gt=0,Li=null,wd(s,H,re,be)}}GG(),$=Cn;break}catch(ke){oC(s,ke)}while(!0);return c&&s.shellSuspendCounter++,Fa=To=null,$t=x,Y.H=A,Y.A=N,St===null&&(Qt=null,jt=0,Ic()),$}function GG(){for(;St!==null;)uC(St)}function YG(s,c){var p=$t;$t|=2;var x=lC(),A=cC();Qt!==s||jt!==c?(hg=null,fg=Ue()+500,xd(s,c)):bd=pc(s,c);e:do try{if(Gt!==0&&St!==null){c=St;var N=Li;t:switch(Gt){case 1:Gt=0,Li=null,wd(s,c,N,1);break;case 2:case 9:if(xN(N)){Gt=0,Li=null,dC(c);break}c=function(){Gt!==2&&Gt!==9||Qt!==s||(Gt=7),No(s)},N.then(c,c);break e;case 3:Gt=7;break e;case 4:Gt=5;break e;case 7:xN(N)?(Gt=0,Li=null,dC(c)):(Gt=0,Li=null,wd(s,c,N,7));break;case 5:var $=null;switch(St.tag){case 26:$=St.memoizedState;case 5:case 27:var H=St;if($?ZC($):H.stateNode.complete){Gt=0,Li=null;var re=H.sibling;if(re!==null)St=re;else{var be=H.return;be!==null?(St=be,gg(be)):St=null}break t}}Gt=0,Li=null,wd(s,c,N,5);break;case 6:Gt=0,Li=null,wd(s,c,N,6);break;case 8:A_(),Cn=6;break e;default:throw Error(r(462))}}qG();break}catch(ke){oC(s,ke)}while(!0);return Fa=To=null,Y.H=x,Y.A=A,$t=p,St!==null?0:(Qt=null,jt=0,Ic(),Cn)}function qG(){for(;St!==null&&!oe();)uC(St)}function uC(s){var c=PO(s.alternate,s,bs);s.memoizedProps=s.pendingProps,c===null?gg(s):St=c}function dC(s){var c=s,p=c.alternate;switch(c.tag){case 15:case 0:c=AO(p,c,c.pendingProps,c.type,void 0,jt);break;case 11:c=AO(p,c,c.pendingProps,c.type.render,c.ref,jt);break;case 5:Gw(c);default:LO(p,c),c=St=gh(c,bs),c=PO(p,c,bs)}s.memoizedProps=s.pendingProps,c===null?gg(s):St=c}function wd(s,c,p,x){Fa=To=null,Gw(c),ud=null,Sh=0;var A=c.return;try{if(PG(s,A,c,p,jt)){Cn=1,rg(s,v(p,s.current)),St=null;return}}catch(N){if(A!==null)throw St=A,N;Cn=1,rg(s,v(p,s.current)),St=null;return}c.flags&32768?(_t||x===1?s=!0:bd||(jt&536870912)!==0?s=!1:(Tl=s=!0,(x===2||x===9||x===3||x===6)&&(x=Pi.current,x!==null&&x.tag===13&&(x.flags|=16384))),fC(c,s)):gg(c)}function gg(s){var c=s;do{if((c.flags&32768)!==0){fC(c,Tl);return}s=c.return;var p=IG(c.alternate,c,bs);if(p!==null){St=p;return}if(c=c.sibling,c!==null){St=c;return}St=c=s}while(c!==null);Cn===0&&(Cn=5)}function fC(s,c){do{var p=$G(s.alternate,s);if(p!==null){p.flags&=32767,St=p;return}if(p=s.return,p!==null&&(p.flags|=32768,p.subtreeFlags=0,p.deletions=null),!c&&(s=s.sibling,s!==null)){St=s;return}St=s=p}while(s!==null);Cn=6,St=null}function hC(s,c,p,x,A,N,$,H,re){s.cancelPendingCommit=null;do bg();while(nr!==0);if(($t&6)!==0)throw Error(r(327));if(c!==null){if(c===s.current)throw Error(r(177));if(N=c.lanes|c.childLanes,N|=nd,dw(s,p,N,$,H,re),s===Qt&&(St=Qt=null,jt=0),vd=c,Ol=s,ys=p,E_=N,j_=A,nC=x,(c.subtreeFlags&10256)!==0||(c.flags&10256)!==0?(s.callbackNode=null,s.callbackPriority=0,ZG(Oe,function(){return yC(),null})):(s.callbackNode=null,s.callbackPriority=0),x=(c.flags&13878)!==0,(c.subtreeFlags&13878)!==0||x){x=Y.T,Y.T=null,A=V.p,V.p=2,$=$t,$t|=4;try{BG(s,c,p)}finally{$t=$,V.p=A,Y.T=x}}nr=1,mC(),pC(),gC()}}function mC(){if(nr===1){nr=0;var s=Ol,c=vd,p=(c.flags&13878)!==0;if((c.subtreeFlags&13878)!==0||p){p=Y.T,Y.T=null;var x=V.p;V.p=2;var A=$t;$t|=4;try{WO(c,s);var N=U_,$=Mc(s.containerInfo),H=N.focusedElem,re=N.selectionRange;if($!==H&&H&&H.ownerDocument&&Ju(H.ownerDocument.documentElement,H)){if(re!==null&&xo(H)){var be=re.start,ke=re.end;if(ke===void 0&&(ke=be),"selectionStart"in H)H.selectionStart=be,H.selectionEnd=Math.min(ke,H.value.length);else{var Ne=H.ownerDocument||document,ve=Ne&&Ne.defaultView||window;if(ve.getSelection){var we=ve.getSelection(),Ye=H.textContent.length,ot=Math.min(re.start,Ye),Xt=re.end===void 0?ot:Math.min(re.end,Ye);!we.extend&&ot>Xt&&($=Xt,Xt=ot,ot=$);var de=Cc(H,ot),le=Cc(H,Xt);if(de&&le&&(we.rangeCount!==1||we.anchorNode!==de.node||we.anchorOffset!==de.offset||we.focusNode!==le.node||we.focusOffset!==le.offset)){var ge=Ne.createRange();ge.setStart(de.node,de.offset),we.removeAllRanges(),ot>Xt?(we.addRange(ge),we.extend(le.node,le.offset)):(ge.setEnd(le.node,le.offset),we.addRange(ge))}}}}for(Ne=[],we=H;we=we.parentNode;)we.nodeType===1&&Ne.push({element:we,left:we.scrollLeft,top:we.scrollTop});for(typeof H.focus=="function"&&H.focus(),H=0;H<Ne.length;H++){var Te=Ne[H];Te.element.scrollLeft=Te.left,Te.element.scrollTop=Te.top}}Ng=!!z_,U_=z_=null}finally{$t=A,V.p=x,Y.T=p}}s.current=c,nr=2}}function pC(){if(nr===2){nr=0;var s=Ol,c=vd,p=(c.flags&8772)!==0;if((c.subtreeFlags&8772)!==0||p){p=Y.T,Y.T=null;var x=V.p;V.p=2;var A=$t;$t|=4;try{HO(s,c.alternate,c)}finally{$t=A,V.p=x,Y.T=p}}nr=3}}function gC(){if(nr===4||nr===3){nr=0,Ce();var s=Ol,c=vd,p=ys,x=nC;(c.subtreeFlags&10256)!==0||(c.flags&10256)!==0?nr=5:(nr=0,vd=Ol=null,bC(s,s.pendingLanes));var A=s.pendingLanes;if(A===0&&(Nl=null),Ze(p),c=c.stateNode,Mt&&typeof Mt.onCommitFiberRoot=="function")try{Mt.onCommitFiberRoot(Nt,c,void 0,(c.current.flags&128)===128)}catch{}if(x!==null){c=Y.T,A=V.p,V.p=2,Y.T=null;try{for(var N=s.onRecoverableError,$=0;$<x.length;$++){var H=x[$];N(H.value,{componentStack:H.stack})}}finally{Y.T=c,V.p=A}}(ys&3)!==0&&bg(),No(s),A=s.pendingLanes,(p&261930)!==0&&(A&42)!==0?s===T_?zh++:(zh=0,T_=s):zh=0,Uh(0)}}function bC(s,c){(s.pooledCacheLanes&=c)===0&&(c=s.pooledCache,c!=null&&(s.pooledCache=null,wh(c)))}function bg(){return mC(),pC(),gC(),yC()}function yC(){if(nr!==5)return!1;var s=Ol,c=E_;E_=0;var p=Ze(ys),x=Y.T,A=V.p;try{V.p=32>p?32:p,Y.T=null,p=j_,j_=null;var N=Ol,$=ys;if(nr=0,vd=Ol=null,ys=0,($t&6)!==0)throw Error(r(331));var H=$t;if($t|=4,QO(N.current),ZO(N,N.current,$,p),$t=H,Uh(0,!1),Mt&&typeof Mt.onPostCommitFiberRoot=="function")try{Mt.onPostCommitFiberRoot(Nt,N)}catch{}return!0}finally{V.p=A,Y.T=x,bC(s,c)}}function vC(s,c,p){c=v(p,c),c=a_(s.stateNode,c,2),s=Sl(s,c,2),s!==null&&(Xo(s,2),No(s))}function Yt(s,c,p){if(s.tag===3)vC(s,s,p);else for(;c!==null;){if(c.tag===3){vC(c,s,p);break}else if(c.tag===1){var x=c.stateNode;if(typeof c.type.getDerivedStateFromError=="function"||typeof x.componentDidCatch=="function"&&(Nl===null||!Nl.has(x))){s=v(p,s),p=xO(2),x=Sl(c,p,2),x!==null&&(wO(p,x,c,s),Xo(x,2),No(x));break}}c=c.return}}function O_(s,c,p){var x=s.pingCache;if(x===null){x=s.pingCache=new FG;var A=new Set;x.set(c,A)}else A=x.get(c),A===void 0&&(A=new Set,x.set(c,A));A.has(p)||(__=!0,A.add(p),s=KG.bind(null,s,c,p),c.then(s,s))}function KG(s,c,p){var x=s.pingCache;x!==null&&x.delete(c),s.pingedLanes|=s.suspendedLanes&p,s.warmLanes&=~p,Qt===s&&(jt&p)===p&&(Cn===4||Cn===3&&(jt&62914560)===jt&&300>Ue()-dg?($t&2)===0&&xd(s,0):S_|=p,yd===jt&&(yd=0)),No(s)}function xC(s,c){c===0&&(c=d0()),s=la(s,c),s!==null&&(Xo(s,c),No(s))}function WG(s){var c=s.memoizedState,p=0;c!==null&&(p=c.retryLane),xC(s,p)}function VG(s,c){var p=0;switch(s.tag){case 31:case 13:var x=s.stateNode,A=s.memoizedState;A!==null&&(p=A.retryLane);break;case 19:x=s.stateNode;break;case 22:x=s.stateNode._retryCache;break;default:throw Error(r(314))}x!==null&&x.delete(c),xC(s,p)}function ZG(s,c){return ze(s,c)}var yg=null,_d=null,C_=!1,vg=!1,M_=!1,Ml=0;function No(s){s!==_d&&s.next===null&&(_d===null?yg=_d=s:_d=_d.next=s),vg=!0,C_||(C_=!0,JG())}function Uh(s,c){if(!M_&&vg){M_=!0;do for(var p=!1,x=yg;x!==null;){if(s!==0){var A=x.pendingLanes;if(A===0)var N=0;else{var $=x.suspendedLanes,H=x.pingedLanes;N=(1<<31-rn(42|s)+1)-1,N&=A&~($&~H),N=N&201326741?N&201326741|1:N?N|2:0}N!==0&&(p=!0,kC(x,N))}else N=jt,N=zu(x,x===Qt?N:0,x.cancelPendingCommit!==null||x.timeoutHandle!==-1),(N&3)===0||pc(x,N)||(p=!0,kC(x,N));x=x.next}while(p);M_=!1}}function XG(){wC()}function wC(){vg=C_=!1;var s=0;Ml!==0&&lY()&&(s=Ml);for(var c=Ue(),p=null,x=yg;x!==null;){var A=x.next,N=_C(x,c);N===0?(x.next=null,p===null?yg=A:p.next=A,A===null&&(_d=p)):(p=x,(s!==0||(N&3)!==0)&&(vg=!0)),x=A}nr!==0&&nr!==5||Uh(s),Ml!==0&&(Ml=0)}function _C(s,c){for(var p=s.suspendedLanes,x=s.pingedLanes,A=s.expirationTimes,N=s.pendingLanes&-62914561;0<N;){var $=31-rn(N),H=1<<$,re=A[$];re===-1?((H&p)===0||(H&x)!==0)&&(A[$]=uw(H,c)):re<=c&&(s.expiredLanes|=H),N&=~H}if(c=Qt,p=jt,p=zu(s,s===c?p:0,s.cancelPendingCommit!==null||s.timeoutHandle!==-1),x=s.callbackNode,p===0||s===c&&(Gt===2||Gt===9)||s.cancelPendingCommit!==null)return x!==null&&x!==null&&Ge(x),s.callbackNode=null,s.callbackPriority=0;if((p&3)===0||pc(s,p)){if(c=p&-p,c===s.callbackPriority)return c;switch(x!==null&&Ge(x),Ze(p)){case 2:case 8:p=st;break;case 32:p=Oe;break;case 268435456:p=We;break;default:p=Oe}return x=SC.bind(null,s),p=ze(p,x),s.callbackPriority=c,s.callbackNode=p,c}return x!==null&&x!==null&&Ge(x),s.callbackPriority=2,s.callbackNode=null,2}function SC(s,c){if(nr!==0&&nr!==5)return s.callbackNode=null,s.callbackPriority=0,null;var p=s.callbackNode;if(bg()&&s.callbackNode!==p)return null;var x=jt;return x=zu(s,s===Qt?x:0,s.cancelPendingCommit!==null||s.timeoutHandle!==-1),x===0?null:(iC(s,x,c),_C(s,Ue()),s.callbackNode!=null&&s.callbackNode===p?SC.bind(null,s):null)}function kC(s,c){if(bg())return null;iC(s,c,!0)}function JG(){uY(function(){($t&6)!==0?ze(xt,XG):wC()})}function D_(){if(Ml===0){var s=sd;s===0&&(s=at,at<<=1,(at&261888)===0&&(at=256)),Ml=s}return Ml}function EC(s){return s==null||typeof s=="symbol"||typeof s=="boolean"?null:typeof s=="function"?s:sl(""+s)}function jC(s,c){var p=c.ownerDocument.createElement("input");return p.name=c.name,p.value=c.value,s.id&&p.setAttribute("form",s.id),c.parentNode.insertBefore(p,c),s=new FormData(s),p.parentNode.removeChild(p),s}function QG(s,c,p,x,A){if(c==="submit"&&p&&p.stateNode===A){var N=EC((A[ur]||null).action),$=x.submitter;$&&(c=(c=$[ur]||null)?EC(c.formAction):$.getAttribute("formAction"),c!==null&&(N=c,$=null));var H=new Yu("action","action",null,x,A);s.push({event:H,listeners:[{instance:null,listener:function(){if(x.defaultPrevented){if(Ml!==0){var re=$?jC(A,$):new FormData(A);Qw(p,{pending:!0,data:re,method:A.method,action:N},null,re)}}else typeof N=="function"&&(H.preventDefault(),re=$?jC(A,$):new FormData(A),Qw(p,{pending:!0,data:re,method:A.method,action:N},N,re))},currentTarget:A}]})}}for(var P_=0;P_<So.length;P_++){var R_=So[P_],eY=R_.toLowerCase(),tY=R_[0].toUpperCase()+R_.slice(1);di(eY,"on"+tY)}di(Pc,"onAnimationEnd"),di(I0,"onAnimationIteration"),di(Rc,"onAnimationStart"),di("dblclick","onDoubleClick"),di("focusin","onFocus"),di("focusout","onBlur"),di(kw,"onTransitionRun"),di($0,"onTransitionStart"),di(Ew,"onTransitionCancel"),di(yl,"onTransitionEnd"),go("onMouseEnter",["mouseout","mouseover"]),go("onMouseLeave",["mouseout","mouseover"]),go("onPointerEnter",["pointerout","pointerover"]),go("onPointerLeave",["pointerout","pointerover"]),es("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),es("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),es("onBeforeInput",["compositionend","keypress","textInput","paste"]),es("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),es("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),es("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Fh="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),nY=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Fh));function TC(s,c){c=(c&4)!==0;for(var p=0;p<s.length;p++){var x=s[p],A=x.event;x=x.listeners;e:{var N=void 0;if(c)for(var $=x.length-1;0<=$;$--){var H=x[$],re=H.instance,be=H.currentTarget;if(H=H.listener,re!==N&&A.isPropagationStopped())break e;N=H,A.currentTarget=be;try{N(A)}catch(ke){Lc(ke)}A.currentTarget=null,N=re}else for($=0;$<x.length;$++){if(H=x[$],re=H.instance,be=H.currentTarget,H=H.listener,re!==N&&A.isPropagationStopped())break e;N=H,A.currentTarget=be;try{N(A)}catch(ke){Lc(ke)}A.currentTarget=null,N=re}}}}function kt(s,c){var p=c[mo];p===void 0&&(p=c[mo]=new Set);var x=s+"__bubble";p.has(x)||(AC(c,s,2,!1),p.add(x))}function L_(s,c,p){var x=0;c&&(x|=4),AC(p,s,x,c)}var xg="_reactListening"+Math.random().toString(36).slice(2);function I_(s){if(!s[xg]){s[xg]=!0,b0.forEach(function(p){p!=="selectionchange"&&(nY.has(p)||L_(p,!1,s),L_(p,!0,s))});var c=s.nodeType===9?s:s.ownerDocument;c===null||c[xg]||(c[xg]=!0,L_("selectionchange",!1,c))}}function AC(s,c,p,x){switch(rM(c)){case 2:var A=OY;break;case 8:A=CY;break;default:A=J_}p=A.bind(null,c,p,s),A=void 0,!_c||c!=="touchstart"&&c!=="touchmove"&&c!=="wheel"||(A=!0),x?A!==void 0?s.addEventListener(c,p,{capture:!0,passive:A}):s.addEventListener(c,p,!0):A!==void 0?s.addEventListener(c,p,{passive:A}):s.addEventListener(c,p,!1)}function $_(s,c,p,x,A){var N=x;if((c&1)===0&&(c&2)===0&&x!==null)e:for(;;){if(x===null)return;var $=x.tag;if($===3||$===4){var H=x.stateNode.containerInfo;if(H===A)break;if($===4)for($=x.return;$!==null;){var re=$.tag;if((re===3||re===4)&&$.stateNode.containerInfo===A)return;$=$.return}for(;H!==null;){if($=Qo(H),$===null)return;if(re=$.tag,re===5||re===6||re===26||re===27){x=N=$;continue e}H=H.parentNode}}x=x.return}ah(function(){var be=N,ke=wc(p),Ne=[];e:{var ve=B0.get(s);if(ve!==void 0){var we=Yu,Ye=s;switch(s){case"keypress":if(Sc(p)===0)break e;case"keydown":case"keyup":we=E0;break;case"focusin":Ye="focus",we=lh;break;case"focusout":Ye="blur",we=lh;break;case"beforeblur":case"afterblur":we=lh;break;case"click":if(p.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":we=x0;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":we=hw;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":we=yw;break;case Pc:case I0:case Rc:we=ch;break;case yl:we=A0;break;case"scroll":case"scrollend":we=Et;break;case"wheel":we=is;break;case"copy":case"cut":case"paste":we=ia;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":we=j0;break;case"toggle":case"beforetoggle":we=jc}var ot=(c&4)!==0,Xt=!ot&&(s==="scroll"||s==="scrollend"),de=ot?ve!==null?ve+"Capture":null:ve;ot=[];for(var le=be,ge;le!==null;){var Te=le;if(ge=Te.stateNode,Te=Te.tag,Te!==5&&Te!==26&&Te!==27||ge===null||de===null||(Te=ns(le,de),Te!=null&&ot.push(Hh(le,Te,ge))),Xt)break;le=le.return}0<ot.length&&(ve=new we(ve,Ye,null,p,ke),Ne.push({event:ve,listeners:ot}))}}if((c&7)===0){e:{if(ve=s==="mouseover"||s==="pointerover",we=s==="mouseout"||s==="pointerout",ve&&p!==Gu&&(Ye=p.relatedTarget||p.fromElement)&&(Qo(Ye)||Ye[Jo]))break e;if((we||ve)&&(ve=ke.window===ke?ke:(ve=ke.ownerDocument)?ve.defaultView||ve.parentWindow:window,we?(Ye=p.relatedTarget||p.toElement,we=be,Ye=Ye?Qo(Ye):null,Ye!==null&&(Xt=a(Ye),ot=Ye.tag,Ye!==Xt||ot!==5&&ot!==27&&ot!==6)&&(Ye=null)):(we=null,Ye=be),we!==Ye)){if(ot=x0,Te="onMouseLeave",de="onMouseEnter",le="mouse",(s==="pointerout"||s==="pointerover")&&(ot=j0,Te="onPointerLeave",de="onPointerEnter",le="pointer"),Xt=we==null?ve:po(we),ge=Ye==null?ve:po(Ye),ve=new ot(Te,le+"leave",we,p,ke),ve.target=Xt,ve.relatedTarget=ge,Te=null,Qo(ke)===be&&(ot=new ot(de,le+"enter",Ye,p,ke),ot.target=ge,ot.relatedTarget=Xt,Te=ot),Xt=Te,we&&Ye)t:{for(ot=rY,de=we,le=Ye,ge=0,Te=de;Te;Te=ot(Te))ge++;Te=0;for(var nt=le;nt;nt=ot(nt))Te++;for(;0<ge-Te;)de=ot(de),ge--;for(;0<Te-ge;)le=ot(le),Te--;for(;ge--;){if(de===le||le!==null&&de===le.alternate){ot=de;break t}de=ot(de),le=ot(le)}ot=null}else ot=null;we!==null&&NC(Ne,ve,we,ot,!1),Ye!==null&&Xt!==null&&NC(Ne,Xt,Ye,ot,!0)}}e:{if(ve=be?po(be):window,we=ve.nodeName&&ve.nodeName.toLowerCase(),we==="select"||we==="input"&&ve.type==="file")var Rt=Oc;else if(aa(ve))if(M0)Rt=Sw;else{Rt=_w;var Ve=Ba}else we=ve.nodeName,!we||we.toLowerCase()!=="input"||ve.type!=="checkbox"&&ve.type!=="radio"?be&&xc(be.elementType)&&(Rt=Oc):Rt=ml;if(Rt&&(Rt=Rt(s,be))){C0(Ne,Rt,p,ke);break e}Ve&&Ve(s,ve,be),s==="focusout"&&be&&ve.type==="number"&&be.memoizedProps.value!=null&&La(ve,"number",ve.value)}switch(Ve=be?po(be):window,s){case"focusin":(aa(Ve)||Ve.contentEditable==="true")&&(wo=Ve,ed=be,Dc=null);break;case"focusout":Dc=ed=wo=null;break;case"mousedown":gl=!0;break;case"contextmenu":case"mouseup":case"dragend":gl=!1,R0(Ne,p,ke);break;case"selectionchange":if(Qu)break;case"keydown":case"keyup":R0(Ne,p,ke)}var vt;if(Ku)e:{switch(s){case"compositionstart":var Tt="onCompositionStart";break e;case"compositionend":Tt="onCompositionEnd";break e;case"compositionupdate":Tt="onCompositionUpdate";break e}Tt=void 0}else dl?O0(s,p)&&(Tt="onCompositionEnd"):s==="keydown"&&p.keyCode===229&&(Tt="onCompositionStart");Tt&&(Wu&&p.locale!=="ko"&&(dl||Tt!=="onCompositionStart"?Tt==="onCompositionEnd"&&dl&&(vt=yo()):(ra=ke,rs="value"in ra?ra.value:ra.textContent,dl=!0)),Ve=wg(be,Tt),0<Ve.length&&(Tt=new uh(Tt,s,null,p,ke),Ne.push({event:Tt,listeners:Ve}),vt?Tt.data=vt:(vt=mh(p),vt!==null&&(Tt.data=vt)))),(vt=xw?Di(s,p):fl(s,p))&&(Tt=wg(be,"onBeforeInput"),0<Tt.length&&(Ve=new uh("onBeforeInput","beforeinput",null,p,ke),Ne.push({event:Ve,listeners:Tt}),Ve.data=vt)),QG(Ne,s,be,p,ke)}TC(Ne,c)})}function Hh(s,c,p){return{instance:s,listener:c,currentTarget:p}}function wg(s,c){for(var p=c+"Capture",x=[];s!==null;){var A=s,N=A.stateNode;if(A=A.tag,A!==5&&A!==26&&A!==27||N===null||(A=ns(s,p),A!=null&&x.unshift(Hh(s,A,N)),A=ns(s,c),A!=null&&x.push(Hh(s,A,N))),s.tag===3)return x;s=s.return}return[]}function rY(s){if(s===null)return null;do s=s.return;while(s&&s.tag!==5&&s.tag!==27);return s||null}function NC(s,c,p,x,A){for(var N=c._reactName,$=[];p!==null&&p!==x;){var H=p,re=H.alternate,be=H.stateNode;if(H=H.tag,re!==null&&re===x)break;H!==5&&H!==26&&H!==27||be===null||(re=be,A?(be=ns(p,N),be!=null&&$.unshift(Hh(p,be,re))):A||(be=ns(p,N),be!=null&&$.push(Hh(p,be,re)))),p=p.return}$.length!==0&&s.push({event:c,listeners:$})}var iY=/\r\n?/g,aY=/\u0000|\uFFFD/g;function OC(s){return(typeof s=="string"?s:""+s).replace(iY,`
`).replace(aY,"")}function CC(s,c){return c=OC(c),OC(s)===c}function Zt(s,c,p,x,A,N){switch(p){case"children":typeof x=="string"?c==="body"||c==="textarea"&&x===""||na(s,x):(typeof x=="number"||typeof x=="bigint")&&c!=="body"&&na(s,""+x);break;case"className":Wt(s,"class",x);break;case"tabIndex":Wt(s,"tabindex",x);break;case"dir":case"role":case"viewBox":case"width":case"height":Wt(s,p,x);break;case"style":Fu(s,x,N);break;case"data":if(c!=="object"){Wt(s,"data",x);break}case"src":case"href":if(x===""&&(c!=="a"||p!=="href")){s.removeAttribute(p);break}if(x==null||typeof x=="function"||typeof x=="symbol"||typeof x=="boolean"){s.removeAttribute(p);break}x=sl(""+x),s.setAttribute(p,x);break;case"action":case"formAction":if(typeof x=="function"){s.setAttribute(p,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof N=="function"&&(p==="formAction"?(c!=="input"&&Zt(s,c,"name",A.name,A,null),Zt(s,c,"formEncType",A.formEncType,A,null),Zt(s,c,"formMethod",A.formMethod,A,null),Zt(s,c,"formTarget",A.formTarget,A,null)):(Zt(s,c,"encType",A.encType,A,null),Zt(s,c,"method",A.method,A,null),Zt(s,c,"target",A.target,A,null)));if(x==null||typeof x=="symbol"||typeof x=="boolean"){s.removeAttribute(p);break}x=sl(""+x),s.setAttribute(p,x);break;case"onClick":x!=null&&(s.onclick=ci);break;case"onScroll":x!=null&&kt("scroll",s);break;case"onScrollEnd":x!=null&&kt("scrollend",s);break;case"dangerouslySetInnerHTML":if(x!=null){if(typeof x!="object"||!("__html"in x))throw Error(r(61));if(p=x.__html,p!=null){if(A.children!=null)throw Error(r(60));s.innerHTML=p}}break;case"multiple":s.multiple=x&&typeof x!="function"&&typeof x!="symbol";break;case"muted":s.muted=x&&typeof x!="function"&&typeof x!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(x==null||typeof x=="function"||typeof x=="boolean"||typeof x=="symbol"){s.removeAttribute("xlink:href");break}p=sl(""+x),s.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",p);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":x!=null&&typeof x!="function"&&typeof x!="symbol"?s.setAttribute(p,""+x):s.removeAttribute(p);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":x&&typeof x!="function"&&typeof x!="symbol"?s.setAttribute(p,""):s.removeAttribute(p);break;case"capture":case"download":x===!0?s.setAttribute(p,""):x!==!1&&x!=null&&typeof x!="function"&&typeof x!="symbol"?s.setAttribute(p,x):s.removeAttribute(p);break;case"cols":case"rows":case"size":case"span":x!=null&&typeof x!="function"&&typeof x!="symbol"&&!isNaN(x)&&1<=x?s.setAttribute(p,x):s.removeAttribute(p);break;case"rowSpan":case"start":x==null||typeof x=="function"||typeof x=="symbol"||isNaN(x)?s.removeAttribute(p):s.setAttribute(p,x);break;case"popover":kt("beforetoggle",s),kt("toggle",s),wt(s,"popover",x);break;case"xlinkActuate":li(s,"http://www.w3.org/1999/xlink","xlink:actuate",x);break;case"xlinkArcrole":li(s,"http://www.w3.org/1999/xlink","xlink:arcrole",x);break;case"xlinkRole":li(s,"http://www.w3.org/1999/xlink","xlink:role",x);break;case"xlinkShow":li(s,"http://www.w3.org/1999/xlink","xlink:show",x);break;case"xlinkTitle":li(s,"http://www.w3.org/1999/xlink","xlink:title",x);break;case"xlinkType":li(s,"http://www.w3.org/1999/xlink","xlink:type",x);break;case"xmlBase":li(s,"http://www.w3.org/XML/1998/namespace","xml:base",x);break;case"xmlLang":li(s,"http://www.w3.org/XML/1998/namespace","xml:lang",x);break;case"xmlSpace":li(s,"http://www.w3.org/XML/1998/namespace","xml:space",x);break;case"is":wt(s,"is",x);break;case"innerText":case"textContent":break;default:(!(2<p.length)||p[0]!=="o"&&p[0]!=="O"||p[1]!=="n"&&p[1]!=="N")&&(p=Hu.get(p)||p,wt(s,p,x))}}function B_(s,c,p,x,A,N){switch(p){case"style":Fu(s,x,N);break;case"dangerouslySetInnerHTML":if(x!=null){if(typeof x!="object"||!("__html"in x))throw Error(r(61));if(p=x.__html,p!=null){if(A.children!=null)throw Error(r(60));s.innerHTML=p}}break;case"children":typeof x=="string"?na(s,x):(typeof x=="number"||typeof x=="bigint")&&na(s,""+x);break;case"onScroll":x!=null&&kt("scroll",s);break;case"onScrollEnd":x!=null&&kt("scrollend",s);break;case"onClick":x!=null&&(s.onclick=ci);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!y0.hasOwnProperty(p))e:{if(p[0]==="o"&&p[1]==="n"&&(A=p.endsWith("Capture"),c=p.slice(2,A?p.length-7:void 0),N=s[ur]||null,N=N!=null?N[p]:null,typeof N=="function"&&s.removeEventListener(c,N,A),typeof x=="function")){typeof N!="function"&&N!==null&&(p in s?s[p]=null:s.hasAttribute(p)&&s.removeAttribute(p)),s.addEventListener(c,x,A);break e}p in s?s[p]=x:x===!0?s.setAttribute(p,""):wt(s,p,x)}}}function Nr(s,c,p){switch(c){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":kt("error",s),kt("load",s);var x=!1,A=!1,N;for(N in p)if(p.hasOwnProperty(N)){var $=p[N];if($!=null)switch(N){case"src":x=!0;break;case"srcSet":A=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,c));default:Zt(s,c,N,$,p,null)}}A&&Zt(s,c,"srcSet",p.srcSet,p,null),x&&Zt(s,c,"src",p.src,p,null);return;case"input":kt("invalid",s);var H=N=$=A=null,re=null,be=null;for(x in p)if(p.hasOwnProperty(x)){var ke=p[x];if(ke!=null)switch(x){case"name":A=ke;break;case"type":$=ke;break;case"checked":re=ke;break;case"defaultChecked":be=ke;break;case"value":N=ke;break;case"defaultValue":H=ke;break;case"children":case"dangerouslySetInnerHTML":if(ke!=null)throw Error(r(137,c));break;default:Zt(s,c,x,ke,p,null)}}vc(s,N,H,re,be,$,A,!1);return;case"select":kt("invalid",s),x=$=N=null;for(A in p)if(p.hasOwnProperty(A)&&(H=p[A],H!=null))switch(A){case"value":N=H;break;case"defaultValue":$=H;break;case"multiple":x=H;default:Zt(s,c,A,H,p,null)}c=N,p=$,s.multiple=!!x,c!=null?Jt(s,!!x,c,!1):p!=null&&Jt(s,!!x,p,!0);return;case"textarea":kt("invalid",s),N=A=x=null;for($ in p)if(p.hasOwnProperty($)&&(H=p[$],H!=null))switch($){case"value":x=H;break;case"defaultValue":A=H;break;case"children":N=H;break;case"dangerouslySetInnerHTML":if(H!=null)throw Error(r(91));break;default:Zt(s,c,$,H,p,null)}al(s,x,A,N);return;case"option":for(re in p)if(p.hasOwnProperty(re)&&(x=p[re],x!=null))switch(re){case"selected":s.selected=x&&typeof x!="function"&&typeof x!="symbol";break;default:Zt(s,c,re,x,p,null)}return;case"dialog":kt("beforetoggle",s),kt("toggle",s),kt("cancel",s),kt("close",s);break;case"iframe":case"object":kt("load",s);break;case"video":case"audio":for(x=0;x<Fh.length;x++)kt(Fh[x],s);break;case"image":kt("error",s),kt("load",s);break;case"details":kt("toggle",s);break;case"embed":case"source":case"link":kt("error",s),kt("load",s);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(be in p)if(p.hasOwnProperty(be)&&(x=p[be],x!=null))switch(be){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,c));default:Zt(s,c,be,x,p,null)}return;default:if(xc(c)){for(ke in p)p.hasOwnProperty(ke)&&(x=p[ke],x!==void 0&&B_(s,c,ke,x,p,void 0));return}}for(H in p)p.hasOwnProperty(H)&&(x=p[H],x!=null&&Zt(s,c,H,x,p,null))}function oY(s,c,p,x){switch(c){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var A=null,N=null,$=null,H=null,re=null,be=null,ke=null;for(we in p){var Ne=p[we];if(p.hasOwnProperty(we)&&Ne!=null)switch(we){case"checked":break;case"value":break;case"defaultValue":re=Ne;default:x.hasOwnProperty(we)||Zt(s,c,we,null,x,Ne)}}for(var ve in x){var we=x[ve];if(Ne=p[ve],x.hasOwnProperty(ve)&&(we!=null||Ne!=null))switch(ve){case"type":N=we;break;case"name":A=we;break;case"checked":be=we;break;case"defaultChecked":ke=we;break;case"value":$=we;break;case"defaultValue":H=we;break;case"children":case"dangerouslySetInnerHTML":if(we!=null)throw Error(r(137,c));break;default:we!==Ne&&Zt(s,c,ve,we,x,Ne)}}nh(s,$,H,re,be,ke,N,A);return;case"select":we=$=H=ve=null;for(N in p)if(re=p[N],p.hasOwnProperty(N)&&re!=null)switch(N){case"value":break;case"multiple":we=re;default:x.hasOwnProperty(N)||Zt(s,c,N,null,x,re)}for(A in x)if(N=x[A],re=p[A],x.hasOwnProperty(A)&&(N!=null||re!=null))switch(A){case"value":ve=N;break;case"defaultValue":H=N;break;case"multiple":$=N;default:N!==re&&Zt(s,c,A,N,x,re)}c=H,p=$,x=we,ve!=null?Jt(s,!!p,ve,!1):!!x!=!!p&&(c!=null?Jt(s,!!p,c,!0):Jt(s,!!p,p?[]:"",!1));return;case"textarea":we=ve=null;for(H in p)if(A=p[H],p.hasOwnProperty(H)&&A!=null&&!x.hasOwnProperty(H))switch(H){case"value":break;case"children":break;default:Zt(s,c,H,null,x,A)}for($ in x)if(A=x[$],N=p[$],x.hasOwnProperty($)&&(A!=null||N!=null))switch($){case"value":ve=A;break;case"defaultValue":we=A;break;case"children":break;case"dangerouslySetInnerHTML":if(A!=null)throw Error(r(91));break;default:A!==N&&Zt(s,c,$,A,x,N)}bo(s,ve,we);return;case"option":for(var Ye in p)if(ve=p[Ye],p.hasOwnProperty(Ye)&&ve!=null&&!x.hasOwnProperty(Ye))switch(Ye){case"selected":s.selected=!1;break;default:Zt(s,c,Ye,null,x,ve)}for(re in x)if(ve=x[re],we=p[re],x.hasOwnProperty(re)&&ve!==we&&(ve!=null||we!=null))switch(re){case"selected":s.selected=ve&&typeof ve!="function"&&typeof ve!="symbol";break;default:Zt(s,c,re,ve,x,we)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var ot in p)ve=p[ot],p.hasOwnProperty(ot)&&ve!=null&&!x.hasOwnProperty(ot)&&Zt(s,c,ot,null,x,ve);for(be in x)if(ve=x[be],we=p[be],x.hasOwnProperty(be)&&ve!==we&&(ve!=null||we!=null))switch(be){case"children":case"dangerouslySetInnerHTML":if(ve!=null)throw Error(r(137,c));break;default:Zt(s,c,be,ve,x,we)}return;default:if(xc(c)){for(var Xt in p)ve=p[Xt],p.hasOwnProperty(Xt)&&ve!==void 0&&!x.hasOwnProperty(Xt)&&B_(s,c,Xt,void 0,x,ve);for(ke in x)ve=x[ke],we=p[ke],!x.hasOwnProperty(ke)||ve===we||ve===void 0&&we===void 0||B_(s,c,ke,ve,x,we);return}}for(var de in p)ve=p[de],p.hasOwnProperty(de)&&ve!=null&&!x.hasOwnProperty(de)&&Zt(s,c,de,null,x,ve);for(Ne in x)ve=x[Ne],we=p[Ne],!x.hasOwnProperty(Ne)||ve===we||ve==null&&we==null||Zt(s,c,Ne,ve,x,we)}function MC(s){switch(s){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function sY(){if(typeof performance.getEntriesByType=="function"){for(var s=0,c=0,p=performance.getEntriesByType("resource"),x=0;x<p.length;x++){var A=p[x],N=A.transferSize,$=A.initiatorType,H=A.duration;if(N&&H&&MC($)){for($=0,H=A.responseEnd,x+=1;x<p.length;x++){var re=p[x],be=re.startTime;if(be>H)break;var ke=re.transferSize,Ne=re.initiatorType;ke&&MC(Ne)&&(re=re.responseEnd,$+=ke*(re<H?1:(H-be)/(re-be)))}if(--x,c+=8*(N+$)/(A.duration/1e3),s++,10<s)break}}if(0<s)return c/s/1e6}return navigator.connection&&(s=navigator.connection.downlink,typeof s=="number")?s:5}var z_=null,U_=null;function _g(s){return s.nodeType===9?s:s.ownerDocument}function DC(s){switch(s){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function PC(s,c){if(s===0)switch(c){case"svg":return 1;case"math":return 2;default:return 0}return s===1&&c==="foreignObject"?0:s}function F_(s,c){return s==="textarea"||s==="noscript"||typeof c.children=="string"||typeof c.children=="number"||typeof c.children=="bigint"||typeof c.dangerouslySetInnerHTML=="object"&&c.dangerouslySetInnerHTML!==null&&c.dangerouslySetInnerHTML.__html!=null}var H_=null;function lY(){var s=window.event;return s&&s.type==="popstate"?s===H_?!1:(H_=s,!0):(H_=null,!1)}var RC=typeof setTimeout=="function"?setTimeout:void 0,cY=typeof clearTimeout=="function"?clearTimeout:void 0,LC=typeof Promise=="function"?Promise:void 0,uY=typeof queueMicrotask=="function"?queueMicrotask:typeof LC<"u"?function(s){return LC.resolve(null).then(s).catch(dY)}:RC;function dY(s){setTimeout(function(){throw s})}function Dl(s){return s==="head"}function IC(s,c){var p=c,x=0;do{var A=p.nextSibling;if(s.removeChild(p),A&&A.nodeType===8)if(p=A.data,p==="/$"||p==="/&"){if(x===0){s.removeChild(A),jd(c);return}x--}else if(p==="$"||p==="$?"||p==="$~"||p==="$!"||p==="&")x++;else if(p==="html")Gh(s.ownerDocument.documentElement);else if(p==="head"){p=s.ownerDocument.head,Gh(p);for(var N=p.firstChild;N;){var $=N.nextSibling,H=N.nodeName;N[gc]||H==="SCRIPT"||H==="STYLE"||H==="LINK"&&N.rel.toLowerCase()==="stylesheet"||p.removeChild(N),N=$}}else p==="body"&&Gh(s.ownerDocument.body);p=A}while(p);jd(c)}function $C(s,c){var p=s;s=0;do{var x=p.nextSibling;if(p.nodeType===1?c?(p._stashedDisplay=p.style.display,p.style.display="none"):(p.style.display=p._stashedDisplay||"",p.getAttribute("style")===""&&p.removeAttribute("style")):p.nodeType===3&&(c?(p._stashedText=p.nodeValue,p.nodeValue=""):p.nodeValue=p._stashedText||""),x&&x.nodeType===8)if(p=x.data,p==="/$"){if(s===0)break;s--}else p!=="$"&&p!=="$?"&&p!=="$~"&&p!=="$!"||s++;p=x}while(p)}function G_(s){var c=s.firstChild;for(c&&c.nodeType===10&&(c=c.nextSibling);c;){var p=c;switch(c=c.nextSibling,p.nodeName){case"HTML":case"HEAD":case"BODY":G_(p),Jf(p);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(p.rel.toLowerCase()==="stylesheet")continue}s.removeChild(p)}}function fY(s,c,p,x){for(;s.nodeType===1;){var A=p;if(s.nodeName.toLowerCase()!==c.toLowerCase()){if(!x&&(s.nodeName!=="INPUT"||s.type!=="hidden"))break}else if(x){if(!s[gc])switch(c){case"meta":if(!s.hasAttribute("itemprop"))break;return s;case"link":if(N=s.getAttribute("rel"),N==="stylesheet"&&s.hasAttribute("data-precedence"))break;if(N!==A.rel||s.getAttribute("href")!==(A.href==null||A.href===""?null:A.href)||s.getAttribute("crossorigin")!==(A.crossOrigin==null?null:A.crossOrigin)||s.getAttribute("title")!==(A.title==null?null:A.title))break;return s;case"style":if(s.hasAttribute("data-precedence"))break;return s;case"script":if(N=s.getAttribute("src"),(N!==(A.src==null?null:A.src)||s.getAttribute("type")!==(A.type==null?null:A.type)||s.getAttribute("crossorigin")!==(A.crossOrigin==null?null:A.crossOrigin))&&N&&s.hasAttribute("async")&&!s.hasAttribute("itemprop"))break;return s;default:return s}}else if(c==="input"&&s.type==="hidden"){var N=A.name==null?null:""+A.name;if(A.type==="hidden"&&s.getAttribute("name")===N)return s}else return s;if(s=da(s.nextSibling),s===null)break}return null}function hY(s,c,p){if(c==="")return null;for(;s.nodeType!==3;)if((s.nodeType!==1||s.nodeName!=="INPUT"||s.type!=="hidden")&&!p||(s=da(s.nextSibling),s===null))return null;return s}function BC(s,c){for(;s.nodeType!==8;)if((s.nodeType!==1||s.nodeName!=="INPUT"||s.type!=="hidden")&&!c||(s=da(s.nextSibling),s===null))return null;return s}function Y_(s){return s.data==="$?"||s.data==="$~"}function q_(s){return s.data==="$!"||s.data==="$?"&&s.ownerDocument.readyState!=="loading"}function mY(s,c){var p=s.ownerDocument;if(s.data==="$~")s._reactRetry=c;else if(s.data!=="$?"||p.readyState!=="loading")c();else{var x=function(){c(),p.removeEventListener("DOMContentLoaded",x)};p.addEventListener("DOMContentLoaded",x),s._reactRetry=x}}function da(s){for(;s!=null;s=s.nextSibling){var c=s.nodeType;if(c===1||c===3)break;if(c===8){if(c=s.data,c==="$"||c==="$!"||c==="$?"||c==="$~"||c==="&"||c==="F!"||c==="F")break;if(c==="/$"||c==="/&")return null}}return s}var K_=null;function zC(s){s=s.nextSibling;for(var c=0;s;){if(s.nodeType===8){var p=s.data;if(p==="/$"||p==="/&"){if(c===0)return da(s.nextSibling);c--}else p!=="$"&&p!=="$!"&&p!=="$?"&&p!=="$~"&&p!=="&"||c++}s=s.nextSibling}return null}function UC(s){s=s.previousSibling;for(var c=0;s;){if(s.nodeType===8){var p=s.data;if(p==="$"||p==="$!"||p==="$?"||p==="$~"||p==="&"){if(c===0)return s;c--}else p!=="/$"&&p!=="/&"||c++}s=s.previousSibling}return null}function FC(s,c,p){switch(c=_g(p),s){case"html":if(s=c.documentElement,!s)throw Error(r(452));return s;case"head":if(s=c.head,!s)throw Error(r(453));return s;case"body":if(s=c.body,!s)throw Error(r(454));return s;default:throw Error(r(451))}}function Gh(s){for(var c=s.attributes;c.length;)s.removeAttributeNode(c[0]);Jf(s)}var fa=new Map,HC=new Set;function Sg(s){return typeof s.getRootNode=="function"?s.getRootNode():s.nodeType===9?s:s.ownerDocument}var vs=V.d;V.d={f:pY,r:gY,D:bY,C:yY,L:vY,m:xY,X:_Y,S:wY,M:SY};function pY(){var s=vs.f(),c=mg();return s||c}function gY(s){var c=nl(s);c!==null&&c.tag===5&&c.type==="form"?oO(c):vs.r(s)}var Sd=typeof document>"u"?null:document;function GC(s,c,p){var x=Sd;if(x&&typeof c=="string"&&c){var A=ln(c);A='link[rel="'+s+'"][href="'+A+'"]',typeof p=="string"&&(A+='[crossorigin="'+p+'"]'),HC.has(A)||(HC.add(A),s={rel:s,crossOrigin:p,href:c},x.querySelector(A)===null&&(c=x.createElement("link"),Nr(c,"link",s),Fn(c),x.head.appendChild(c)))}}function bY(s){vs.D(s),GC("dns-prefetch",s,null)}function yY(s,c){vs.C(s,c),GC("preconnect",s,c)}function vY(s,c,p){vs.L(s,c,p);var x=Sd;if(x&&s&&c){var A='link[rel="preload"][as="'+ln(c)+'"]';c==="image"&&p&&p.imageSrcSet?(A+='[imagesrcset="'+ln(p.imageSrcSet)+'"]',typeof p.imageSizes=="string"&&(A+='[imagesizes="'+ln(p.imageSizes)+'"]')):A+='[href="'+ln(s)+'"]';var N=A;switch(c){case"style":N=kd(s);break;case"script":N=Ed(s)}fa.has(N)||(s=m({rel:"preload",href:c==="image"&&p&&p.imageSrcSet?void 0:s,as:c},p),fa.set(N,s),x.querySelector(A)!==null||c==="style"&&x.querySelector(Yh(N))||c==="script"&&x.querySelector(qh(N))||(c=x.createElement("link"),Nr(c,"link",s),Fn(c),x.head.appendChild(c)))}}function xY(s,c){vs.m(s,c);var p=Sd;if(p&&s){var x=c&&typeof c.as=="string"?c.as:"script",A='link[rel="modulepreload"][as="'+ln(x)+'"][href="'+ln(s)+'"]',N=A;switch(x){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":N=Ed(s)}if(!fa.has(N)&&(s=m({rel:"modulepreload",href:s},c),fa.set(N,s),p.querySelector(A)===null)){switch(x){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(p.querySelector(qh(N)))return}x=p.createElement("link"),Nr(x,"link",s),Fn(x),p.head.appendChild(x)}}}function wY(s,c,p){vs.S(s,c,p);var x=Sd;if(x&&s){var A=rl(x).hoistableStyles,N=kd(s);c=c||"default";var $=A.get(N);if(!$){var H={loading:0,preload:null};if($=x.querySelector(Yh(N)))H.loading=5;else{s=m({rel:"stylesheet",href:s,"data-precedence":c},p),(p=fa.get(N))&&W_(s,p);var re=$=x.createElement("link");Fn(re),Nr(re,"link",s),re._p=new Promise(function(be,ke){re.onload=be,re.onerror=ke}),re.addEventListener("load",function(){H.loading|=1}),re.addEventListener("error",function(){H.loading|=2}),H.loading|=4,kg($,c,x)}$={type:"stylesheet",instance:$,count:1,state:H},A.set(N,$)}}}function _Y(s,c){vs.X(s,c);var p=Sd;if(p&&s){var x=rl(p).hoistableScripts,A=Ed(s),N=x.get(A);N||(N=p.querySelector(qh(A)),N||(s=m({src:s,async:!0},c),(c=fa.get(A))&&V_(s,c),N=p.createElement("script"),Fn(N),Nr(N,"link",s),p.head.appendChild(N)),N={type:"script",instance:N,count:1,state:null},x.set(A,N))}}function SY(s,c){vs.M(s,c);var p=Sd;if(p&&s){var x=rl(p).hoistableScripts,A=Ed(s),N=x.get(A);N||(N=p.querySelector(qh(A)),N||(s=m({src:s,async:!0,type:"module"},c),(c=fa.get(A))&&V_(s,c),N=p.createElement("script"),Fn(N),Nr(N,"link",s),p.head.appendChild(N)),N={type:"script",instance:N,count:1,state:null},x.set(A,N))}}function YC(s,c,p,x){var A=(A=ae.current)?Sg(A):null;if(!A)throw Error(r(446));switch(s){case"meta":case"title":return null;case"style":return typeof p.precedence=="string"&&typeof p.href=="string"?(c=kd(p.href),p=rl(A).hoistableStyles,x=p.get(c),x||(x={type:"style",instance:null,count:0,state:null},p.set(c,x)),x):{type:"void",instance:null,count:0,state:null};case"link":if(p.rel==="stylesheet"&&typeof p.href=="string"&&typeof p.precedence=="string"){s=kd(p.href);var N=rl(A).hoistableStyles,$=N.get(s);if($||(A=A.ownerDocument||A,$={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},N.set(s,$),(N=A.querySelector(Yh(s)))&&!N._p&&($.instance=N,$.state.loading=5),fa.has(s)||(p={rel:"preload",as:"style",href:p.href,crossOrigin:p.crossOrigin,integrity:p.integrity,media:p.media,hrefLang:p.hrefLang,referrerPolicy:p.referrerPolicy},fa.set(s,p),N||kY(A,s,p,$.state))),c&&x===null)throw Error(r(528,""));return $}if(c&&x!==null)throw Error(r(529,""));return null;case"script":return c=p.async,p=p.src,typeof p=="string"&&c&&typeof c!="function"&&typeof c!="symbol"?(c=Ed(p),p=rl(A).hoistableScripts,x=p.get(c),x||(x={type:"script",instance:null,count:0,state:null},p.set(c,x)),x):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,s))}}function kd(s){return'href="'+ln(s)+'"'}function Yh(s){return'link[rel="stylesheet"]['+s+"]"}function qC(s){return m({},s,{"data-precedence":s.precedence,precedence:null})}function kY(s,c,p,x){s.querySelector('link[rel="preload"][as="style"]['+c+"]")?x.loading=1:(c=s.createElement("link"),x.preload=c,c.addEventListener("load",function(){return x.loading|=1}),c.addEventListener("error",function(){return x.loading|=2}),Nr(c,"link",p),Fn(c),s.head.appendChild(c))}function Ed(s){return'[src="'+ln(s)+'"]'}function qh(s){return"script[async]"+s}function KC(s,c,p){if(c.count++,c.instance===null)switch(c.type){case"style":var x=s.querySelector('style[data-href~="'+ln(p.href)+'"]');if(x)return c.instance=x,Fn(x),x;var A=m({},p,{"data-href":p.href,"data-precedence":p.precedence,href:null,precedence:null});return x=(s.ownerDocument||s).createElement("style"),Fn(x),Nr(x,"style",A),kg(x,p.precedence,s),c.instance=x;case"stylesheet":A=kd(p.href);var N=s.querySelector(Yh(A));if(N)return c.state.loading|=4,c.instance=N,Fn(N),N;x=qC(p),(A=fa.get(A))&&W_(x,A),N=(s.ownerDocument||s).createElement("link"),Fn(N);var $=N;return $._p=new Promise(function(H,re){$.onload=H,$.onerror=re}),Nr(N,"link",x),c.state.loading|=4,kg(N,p.precedence,s),c.instance=N;case"script":return N=Ed(p.src),(A=s.querySelector(qh(N)))?(c.instance=A,Fn(A),A):(x=p,(A=fa.get(N))&&(x=m({},p),V_(x,A)),s=s.ownerDocument||s,A=s.createElement("script"),Fn(A),Nr(A,"link",x),s.head.appendChild(A),c.instance=A);case"void":return null;default:throw Error(r(443,c.type))}else c.type==="stylesheet"&&(c.state.loading&4)===0&&(x=c.instance,c.state.loading|=4,kg(x,p.precedence,s));return c.instance}function kg(s,c,p){for(var x=p.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),A=x.length?x[x.length-1]:null,N=A,$=0;$<x.length;$++){var H=x[$];if(H.dataset.precedence===c)N=H;else if(N!==A)break}N?N.parentNode.insertBefore(s,N.nextSibling):(c=p.nodeType===9?p.head:p,c.insertBefore(s,c.firstChild))}function W_(s,c){s.crossOrigin==null&&(s.crossOrigin=c.crossOrigin),s.referrerPolicy==null&&(s.referrerPolicy=c.referrerPolicy),s.title==null&&(s.title=c.title)}function V_(s,c){s.crossOrigin==null&&(s.crossOrigin=c.crossOrigin),s.referrerPolicy==null&&(s.referrerPolicy=c.referrerPolicy),s.integrity==null&&(s.integrity=c.integrity)}var Eg=null;function WC(s,c,p){if(Eg===null){var x=new Map,A=Eg=new Map;A.set(p,x)}else A=Eg,x=A.get(p),x||(x=new Map,A.set(p,x));if(x.has(s))return x;for(x.set(s,null),p=p.getElementsByTagName(s),A=0;A<p.length;A++){var N=p[A];if(!(N[gc]||N[Un]||s==="link"&&N.getAttribute("rel")==="stylesheet")&&N.namespaceURI!=="http://www.w3.org/2000/svg"){var $=N.getAttribute(c)||"";$=s+$;var H=x.get($);H?H.push(N):x.set($,[N])}}return x}function VC(s,c,p){s=s.ownerDocument||s,s.head.insertBefore(p,c==="title"?s.querySelector("head > title"):null)}function EY(s,c,p){if(p===1||c.itemProp!=null)return!1;switch(s){case"meta":case"title":return!0;case"style":if(typeof c.precedence!="string"||typeof c.href!="string"||c.href==="")break;return!0;case"link":if(typeof c.rel!="string"||typeof c.href!="string"||c.href===""||c.onLoad||c.onError)break;switch(c.rel){case"stylesheet":return s=c.disabled,typeof c.precedence=="string"&&s==null;default:return!0}case"script":if(c.async&&typeof c.async!="function"&&typeof c.async!="symbol"&&!c.onLoad&&!c.onError&&c.src&&typeof c.src=="string")return!0}return!1}function ZC(s){return!(s.type==="stylesheet"&&(s.state.loading&3)===0)}function jY(s,c,p,x){if(p.type==="stylesheet"&&(typeof x.media!="string"||matchMedia(x.media).matches!==!1)&&(p.state.loading&4)===0){if(p.instance===null){var A=kd(x.href),N=c.querySelector(Yh(A));if(N){c=N._p,c!==null&&typeof c=="object"&&typeof c.then=="function"&&(s.count++,s=jg.bind(s),c.then(s,s)),p.state.loading|=4,p.instance=N,Fn(N);return}N=c.ownerDocument||c,x=qC(x),(A=fa.get(A))&&W_(x,A),N=N.createElement("link"),Fn(N);var $=N;$._p=new Promise(function(H,re){$.onload=H,$.onerror=re}),Nr(N,"link",x),p.instance=N}s.stylesheets===null&&(s.stylesheets=new Map),s.stylesheets.set(p,c),(c=p.state.preload)&&(p.state.loading&3)===0&&(s.count++,p=jg.bind(s),c.addEventListener("load",p),c.addEventListener("error",p))}}var Z_=0;function TY(s,c){return s.stylesheets&&s.count===0&&Ag(s,s.stylesheets),0<s.count||0<s.imgCount?function(p){var x=setTimeout(function(){if(s.stylesheets&&Ag(s,s.stylesheets),s.unsuspend){var N=s.unsuspend;s.unsuspend=null,N()}},6e4+c);0<s.imgBytes&&Z_===0&&(Z_=62500*sY());var A=setTimeout(function(){if(s.waitingForImages=!1,s.count===0&&(s.stylesheets&&Ag(s,s.stylesheets),s.unsuspend)){var N=s.unsuspend;s.unsuspend=null,N()}},(s.imgBytes>Z_?50:800)+c);return s.unsuspend=p,function(){s.unsuspend=null,clearTimeout(x),clearTimeout(A)}}:null}function jg(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Ag(this,this.stylesheets);else if(this.unsuspend){var s=this.unsuspend;this.unsuspend=null,s()}}}var Tg=null;function Ag(s,c){s.stylesheets=null,s.unsuspend!==null&&(s.count++,Tg=new Map,c.forEach(AY,s),Tg=null,jg.call(s))}function AY(s,c){if(!(c.state.loading&4)){var p=Tg.get(s);if(p)var x=p.get(null);else{p=new Map,Tg.set(s,p);for(var A=s.querySelectorAll("link[data-precedence],style[data-precedence]"),N=0;N<A.length;N++){var $=A[N];($.nodeName==="LINK"||$.getAttribute("media")!=="not all")&&(p.set($.dataset.precedence,$),x=$)}x&&p.set(null,x)}A=c.instance,$=A.getAttribute("data-precedence"),N=p.get($)||x,N===x&&p.set(null,A),p.set($,A),this.count++,x=jg.bind(this),A.addEventListener("load",x),A.addEventListener("error",x),N?N.parentNode.insertBefore(A,N.nextSibling):(s=s.nodeType===9?s.head:s,s.insertBefore(A,s.firstChild)),c.state.loading|=4}}var Kh={$$typeof:T,Provider:null,Consumer:null,_currentValue:Q,_currentValue2:Q,_threadCount:0};function NY(s,c,p,x,A,N,$,H,re){this.tag=1,this.containerInfo=s,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Vf(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Vf(0),this.hiddenUpdates=Vf(null),this.identifierPrefix=x,this.onUncaughtError=A,this.onCaughtError=N,this.onRecoverableError=$,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=re,this.incompleteTransitions=new Map}function XC(s,c,p,x,A,N,$,H,re,be,ke,Ne){return s=new NY(s,c,p,$,re,be,ke,Ne,H),c=1,N===!0&&(c|=24),N=zr(3,null,null,c),s.current=N,N.stateNode=s,c=Nw(),c.refCount++,s.pooledCache=c,c.refCount++,N.memoizedState={element:x,isDehydrated:p,cache:c},Dw(N),s}function JC(s){return s?(s=as,s):as}function QC(s,c,p,x,A,N){A=JC(A),x.context===null?x.context=A:x.pendingContext=A,x=_l(c),x.payload={element:p},N=N===void 0?null:N,N!==null&&(x.callback=N),p=Sl(s,x,c),p!==null&&(yi(p,s,c),Eh(p,s,c))}function eM(s,c){if(s=s.memoizedState,s!==null&&s.dehydrated!==null){var p=s.retryLane;s.retryLane=p!==0&&p<c?p:c}}function X_(s,c){eM(s,c),(s=s.alternate)&&eM(s,c)}function tM(s){if(s.tag===13||s.tag===31){var c=la(s,67108864);c!==null&&yi(c,s,67108864),X_(s,67108864)}}function nM(s){if(s.tag===13||s.tag===31){var c=$i();c=si(c);var p=la(s,c);p!==null&&yi(p,s,c),X_(s,c)}}var Ng=!0;function OY(s,c,p,x){var A=Y.T;Y.T=null;var N=V.p;try{V.p=2,J_(s,c,p,x)}finally{V.p=N,Y.T=A}}function CY(s,c,p,x){var A=Y.T;Y.T=null;var N=V.p;try{V.p=8,J_(s,c,p,x)}finally{V.p=N,Y.T=A}}function J_(s,c,p,x){if(Ng){var A=Q_(x);if(A===null)$_(s,c,x,Og,p),iM(s,x);else if(DY(A,s,c,p,x))x.stopPropagation();else if(iM(s,x),c&4&&-1<MY.indexOf(s)){for(;A!==null;){var N=nl(A);if(N!==null)switch(N.tag){case 3:if(N=N.stateNode,N.current.memoizedState.isDehydrated){var $=oi(N.pendingLanes);if($!==0){var H=N;for(H.pendingLanes|=2,H.entangledLanes|=2;$;){var re=1<<31-rn($);H.entanglements[1]|=re,$&=~re}No(N),($t&6)===0&&(fg=Ue()+500,Uh(0))}}break;case 31:case 13:H=la(N,2),H!==null&&yi(H,N,2),mg(),X_(N,2)}if(N=Q_(x),N===null&&$_(s,c,x,Og,p),N===A)break;A=N}A!==null&&x.stopPropagation()}else $_(s,c,x,null,p)}}function Q_(s){return s=wc(s),e1(s)}var Og=null;function e1(s){if(Og=null,s=Qo(s),s!==null){var c=a(s);if(c===null)s=null;else{var p=c.tag;if(p===13){if(s=o(c),s!==null)return s;s=null}else if(p===31){if(s=l(c),s!==null)return s;s=null}else if(p===3){if(c.stateNode.current.memoizedState.isDehydrated)return c.tag===3?c.stateNode.containerInfo:null;s=null}else c!==s&&(s=null)}}return Og=s,null}function rM(s){switch(s){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(rt()){case xt:return 2;case st:return 8;case Oe:case Fe:return 32;case We:return 268435456;default:return 32}default:return 32}}var t1=!1,Pl=null,Rl=null,Ll=null,Wh=new Map,Vh=new Map,Il=[],MY="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function iM(s,c){switch(s){case"focusin":case"focusout":Pl=null;break;case"dragenter":case"dragleave":Rl=null;break;case"mouseover":case"mouseout":Ll=null;break;case"pointerover":case"pointerout":Wh.delete(c.pointerId);break;case"gotpointercapture":case"lostpointercapture":Vh.delete(c.pointerId)}}function Zh(s,c,p,x,A,N){return s===null||s.nativeEvent!==N?(s={blockedOn:c,domEventName:p,eventSystemFlags:x,nativeEvent:N,targetContainers:[A]},c!==null&&(c=nl(c),c!==null&&tM(c)),s):(s.eventSystemFlags|=x,c=s.targetContainers,A!==null&&c.indexOf(A)===-1&&c.push(A),s)}function DY(s,c,p,x,A){switch(c){case"focusin":return Pl=Zh(Pl,s,c,p,x,A),!0;case"dragenter":return Rl=Zh(Rl,s,c,p,x,A),!0;case"mouseover":return Ll=Zh(Ll,s,c,p,x,A),!0;case"pointerover":var N=A.pointerId;return Wh.set(N,Zh(Wh.get(N)||null,s,c,p,x,A)),!0;case"gotpointercapture":return N=A.pointerId,Vh.set(N,Zh(Vh.get(N)||null,s,c,p,x,A)),!0}return!1}function aM(s){var c=Qo(s.target);if(c!==null){var p=a(c);if(p!==null){if(c=p.tag,c===13){if(c=o(p),c!==null){s.blockedOn=c,Xf(s.priority,function(){nM(p)});return}}else if(c===31){if(c=l(p),c!==null){s.blockedOn=c,Xf(s.priority,function(){nM(p)});return}}else if(c===3&&p.stateNode.current.memoizedState.isDehydrated){s.blockedOn=p.tag===3?p.stateNode.containerInfo:null;return}}}s.blockedOn=null}function Cg(s){if(s.blockedOn!==null)return!1;for(var c=s.targetContainers;0<c.length;){var p=Q_(s.nativeEvent);if(p===null){p=s.nativeEvent;var x=new p.constructor(p.type,p);Gu=x,p.target.dispatchEvent(x),Gu=null}else return c=nl(p),c!==null&&tM(c),s.blockedOn=p,!1;c.shift()}return!0}function oM(s,c,p){Cg(s)&&p.delete(c)}function PY(){t1=!1,Pl!==null&&Cg(Pl)&&(Pl=null),Rl!==null&&Cg(Rl)&&(Rl=null),Ll!==null&&Cg(Ll)&&(Ll=null),Wh.forEach(oM),Vh.forEach(oM)}function Mg(s,c){s.blockedOn===c&&(s.blockedOn=null,t1||(t1=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,PY)))}var Dg=null;function sM(s){Dg!==s&&(Dg=s,e.unstable_scheduleCallback(e.unstable_NormalPriority,function(){Dg===s&&(Dg=null);for(var c=0;c<s.length;c+=3){var p=s[c],x=s[c+1],A=s[c+2];if(typeof x!="function"){if(e1(x||p)===null)continue;break}var N=nl(p);N!==null&&(s.splice(c,3),c-=3,Qw(N,{pending:!0,data:A,method:p.method,action:x},x,A))}}))}function jd(s){function c(re){return Mg(re,s)}Pl!==null&&Mg(Pl,s),Rl!==null&&Mg(Rl,s),Ll!==null&&Mg(Ll,s),Wh.forEach(c),Vh.forEach(c);for(var p=0;p<Il.length;p++){var x=Il[p];x.blockedOn===s&&(x.blockedOn=null)}for(;0<Il.length&&(p=Il[0],p.blockedOn===null);)aM(p),p.blockedOn===null&&Il.shift();if(p=(s.ownerDocument||s).$$reactFormReplay,p!=null)for(x=0;x<p.length;x+=3){var A=p[x],N=p[x+1],$=A[ur]||null;if(typeof N=="function")$||sM(p);else if($){var H=null;if(N&&N.hasAttribute("formAction")){if(A=N,$=N[ur]||null)H=$.formAction;else if(e1(A)!==null)continue}else H=$.action;typeof H=="function"?p[x+1]=H:(p.splice(x,3),x-=3),sM(p)}}}function lM(){function s(N){N.canIntercept&&N.info==="react-transition"&&N.intercept({handler:function(){return new Promise(function($){return A=$})},focusReset:"manual",scroll:"manual"})}function c(){A!==null&&(A(),A=null),x||setTimeout(p,20)}function p(){if(!x&&!navigation.transition){var N=navigation.currentEntry;N&&N.url!=null&&navigation.navigate(N.url,{state:N.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var x=!1,A=null;return navigation.addEventListener("navigate",s),navigation.addEventListener("navigatesuccess",c),navigation.addEventListener("navigateerror",c),setTimeout(p,100),function(){x=!0,navigation.removeEventListener("navigate",s),navigation.removeEventListener("navigatesuccess",c),navigation.removeEventListener("navigateerror",c),A!==null&&(A(),A=null)}}}function n1(s){this._internalRoot=s}Pg.prototype.render=n1.prototype.render=function(s){var c=this._internalRoot;if(c===null)throw Error(r(409));var p=c.current,x=$i();QC(p,x,s,c,null,null)},Pg.prototype.unmount=n1.prototype.unmount=function(){var s=this._internalRoot;if(s!==null){this._internalRoot=null;var c=s.containerInfo;QC(s.current,2,null,s,null,null),mg(),c[Jo]=null}};function Pg(s){this._internalRoot=s}Pg.prototype.unstable_scheduleHydration=function(s){if(s){var c=Zf();s={blockedOn:null,target:s,priority:c};for(var p=0;p<Il.length&&c!==0&&c<Il[p].priority;p++);Il.splice(p,0,s),p===0&&aM(s)}};var cM=t.version;if(cM!=="19.2.1")throw Error(r(527,cM,"19.2.1"));V.findDOMNode=function(s){var c=s._reactInternals;if(c===void 0)throw typeof s.render=="function"?Error(r(188)):(s=Object.keys(s).join(","),Error(r(268,s)));return s=d(c),s=s!==null?h(s):null,s=s===null?null:s.stateNode,s};var RY={bundleType:0,version:"19.2.1",rendererPackageName:"react-dom",currentDispatcherRef:Y,reconcilerVersion:"19.2.1"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Rg=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Rg.isDisabled&&Rg.supportsFiber)try{Nt=Rg.inject(RY),Mt=Rg}catch{}}return Jh.createRoot=function(s,c){if(!i(s))throw Error(r(299));var p=!1,x="",A=gO,N=bO,$=yO;return c!=null&&(c.unstable_strictMode===!0&&(p=!0),c.identifierPrefix!==void 0&&(x=c.identifierPrefix),c.onUncaughtError!==void 0&&(A=c.onUncaughtError),c.onCaughtError!==void 0&&(N=c.onCaughtError),c.onRecoverableError!==void 0&&($=c.onRecoverableError)),c=XC(s,1,!1,null,null,p,x,null,A,N,$,lM),s[Jo]=c.current,I_(s),new n1(c)},Jh.hydrateRoot=function(s,c,p){if(!i(s))throw Error(r(299));var x=!1,A="",N=gO,$=bO,H=yO,re=null;return p!=null&&(p.unstable_strictMode===!0&&(x=!0),p.identifierPrefix!==void 0&&(A=p.identifierPrefix),p.onUncaughtError!==void 0&&(N=p.onUncaughtError),p.onCaughtError!==void 0&&($=p.onCaughtError),p.onRecoverableError!==void 0&&(H=p.onRecoverableError),p.formState!==void 0&&(re=p.formState)),c=XC(s,1,!0,c,p??null,x,A,re,N,$,H,lM),c.context=JC(null),p=c.current,x=$i(),x=si(x),A=_l(x),A.callback=null,Sl(p,A,x),p=x,c.current.lanes=p,Xo(c,p),No(c),s[Jo]=c.current,I_(s),new Pg(c)},Jh.version="19.2.1",Jh}var vM;function GY(){if(vM)return i1.exports;vM=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),i1.exports=HY(),i1.exports}var YY=GY(),S=Ef();const on=Ti(S),qY=ij({__proto__:null,default:on},[S]);/**
 * react-router v7.10.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var xM="popstate";function KY(e={}){function t(r,i){let{pathname:a,search:o,hash:l}=r.location;return Kk("",{pathname:a,search:o,hash:l},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:Hm(i)}return VY(t,n,null,e)}function wn(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function ja(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function WY(){return Math.random().toString(36).substring(2,10)}function wM(e,t){return{usr:e.state,key:e.key,idx:t}}function Kk(e,t,n=null,r){return{pathname:typeof e=="string"?e:e.pathname,search:"",hash:"",...typeof t=="string"?jf(t):t,state:n,key:t&&t.key||r||WY()}}function Hm({pathname:e="/",search:t="",hash:n=""}){return t&&t!=="?"&&(e+=t.charAt(0)==="?"?t:"?"+t),n&&n!=="#"&&(e+=n.charAt(0)==="#"?n:"#"+n),e}function jf(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substring(n),e=e.substring(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substring(r),e=e.substring(0,r)),e&&(t.pathname=e)}return t}function VY(e,t,n,r={}){let{window:i=document.defaultView,v5Compat:a=!1}=r,o=i.history,l="POP",u=null,d=h();d==null&&(d=0,o.replaceState({...o.state,idx:d},""));function h(){return(o.state||{idx:null}).idx}function m(){l="POP";let _=h(),j=_==null?null:_-d;d=_,u&&u({action:l,location:w.location,delta:j})}function b(_,j){l="PUSH";let O=Kk(w.location,_,j);d=h()+1;let T=wM(O,d),C=w.createHref(O);try{o.pushState(T,"",C)}catch(M){if(M instanceof DOMException&&M.name==="DataCloneError")throw M;i.location.assign(C)}a&&u&&u({action:l,location:w.location,delta:1})}function y(_,j){l="REPLACE";let O=Kk(w.location,_,j);d=h();let T=wM(O,d),C=w.createHref(O);o.replaceState(T,"",C),a&&u&&u({action:l,location:w.location,delta:0})}function k(_){return ZY(_)}let w={get action(){return l},get location(){return e(i,o)},listen(_){if(u)throw new Error("A history only accepts one active listener");return i.addEventListener(xM,m),u=_,()=>{i.removeEventListener(xM,m),u=null}},createHref(_){return t(i,_)},createURL:k,encodeLocation(_){let j=k(_);return{pathname:j.pathname,search:j.search,hash:j.hash}},push:b,replace:y,go(_){return o.go(_)}};return w}function ZY(e,t=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),wn(n,"No window.location.(origin|href) available to create URL");let r=typeof e=="string"?e:Hm(e);return r=r.replace(/ $/,"%20"),!t&&r.startsWith("//")&&(r=n+r),new URL(r,n)}function k5(e,t,n="/"){return XY(e,t,n,!1)}function XY(e,t,n,r){let i=typeof t=="string"?jf(t):t,a=Ls(i.pathname||"/",n);if(a==null)return null;let o=E5(e);JY(o);let l=null;for(let u=0;l==null&&u<o.length;++u){let d=cq(a);l=sq(o[u],d,r)}return l}function E5(e,t=[],n=[],r="",i=!1){let a=(o,l,u=i,d)=>{let h={relativePath:d===void 0?o.path||"":d,caseSensitive:o.caseSensitive===!0,childrenIndex:l,route:o};if(h.relativePath.startsWith("/")){if(!h.relativePath.startsWith(r)&&u)return;wn(h.relativePath.startsWith(r),`Absolute route path "${h.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),h.relativePath=h.relativePath.slice(r.length)}let m=Ms([r,h.relativePath]),b=n.concat(h);o.children&&o.children.length>0&&(wn(o.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${m}".`),E5(o.children,t,b,m,u)),!(o.path==null&&!o.index)&&t.push({path:m,score:aq(m,o.index),routesMeta:b})};return e.forEach((o,l)=>{if(o.path===""||!o.path?.includes("?"))a(o,l);else for(let u of j5(o.path))a(o,l,!0,u)}),t}function j5(e){let t=e.split("/");if(t.length===0)return[];let[n,...r]=t,i=n.endsWith("?"),a=n.replace(/\?$/,"");if(r.length===0)return i?[a,""]:[a];let o=j5(r.join("/")),l=[];return l.push(...o.map(u=>u===""?a:[a,u].join("/"))),i&&l.push(...o),l.map(u=>e.startsWith("/")&&u===""?"/":u)}function JY(e){e.sort((t,n)=>t.score!==n.score?n.score-t.score:oq(t.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}var QY=/^:[\w-]+$/,eq=3,tq=2,nq=1,rq=10,iq=-2,_M=e=>e==="*";function aq(e,t){let n=e.split("/"),r=n.length;return n.some(_M)&&(r+=iq),t&&(r+=tq),n.filter(i=>!_M(i)).reduce((i,a)=>i+(QY.test(a)?eq:a===""?nq:rq),r)}function oq(e,t){return e.length===t.length&&e.slice(0,-1).every((r,i)=>r===t[i])?e[e.length-1]-t[t.length-1]:0}function sq(e,t,n=!1){let{routesMeta:r}=e,i={},a="/",o=[];for(let l=0;l<r.length;++l){let u=r[l],d=l===r.length-1,h=a==="/"?t:t.slice(a.length)||"/",m=dy({path:u.relativePath,caseSensitive:u.caseSensitive,end:d},h),b=u.route;if(!m&&d&&n&&!r[r.length-1].route.index&&(m=dy({path:u.relativePath,caseSensitive:u.caseSensitive,end:!1},h)),!m)return null;Object.assign(i,m.params),o.push({params:i,pathname:Ms([a,m.pathname]),pathnameBase:mq(Ms([a,m.pathnameBase])),route:b}),m.pathnameBase!=="/"&&(a=Ms([a,m.pathnameBase]))}return o}function dy(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=lq(e.path,e.caseSensitive,e.end),i=t.match(n);if(!i)return null;let a=i[0],o=a.replace(/(.)\/+$/,"$1"),l=i.slice(1);return{params:r.reduce((d,{paramName:h,isOptional:m},b)=>{if(h==="*"){let k=l[b]||"";o=a.slice(0,a.length-k.length).replace(/(.)\/+$/,"$1")}const y=l[b];return m&&!y?d[h]=void 0:d[h]=(y||"").replace(/%2F/g,"/"),d},{}),pathname:a,pathnameBase:o,pattern:e}}function lq(e,t=!1,n=!0){ja(e==="*"||!e.endsWith("*")||e.endsWith("/*"),`Route path "${e}" will be treated as if it were "${e.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${e.replace(/\*$/,"/*")}".`);let r=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,l,u)=>(r.push({paramName:l,isOptional:u!=null}),u?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return e.endsWith("*")?(r.push({paramName:"*"}),i+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":e!==""&&e!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,t?void 0:"i"),r]}function cq(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return ja(!1,`The URL path "${e}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),e}}function Ls(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&r!=="/"?null:e.slice(n)||"/"}var uq=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,dq=e=>uq.test(e);function fq(e,t="/"){let{pathname:n,search:r="",hash:i=""}=typeof e=="string"?jf(e):e,a;if(n)if(dq(n))a=n;else{if(n.includes("//")){let o=n;n=n.replace(/\/\/+/g,"/"),ja(!1,`Pathnames cannot have embedded double slashes - normalizing ${o} -> ${n}`)}n.startsWith("/")?a=SM(n.substring(1),"/"):a=SM(n,t)}else a=t;return{pathname:a,search:pq(r),hash:gq(i)}}function SM(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function c1(e,t,n,r){return`Cannot include a '${e}' character in a manually specified \`to.${t}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function hq(e){return e.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function aj(e){let t=hq(e);return t.map((n,r)=>r===t.length-1?n.pathname:n.pathnameBase)}function oj(e,t,n,r=!1){let i;typeof e=="string"?i=jf(e):(i={...e},wn(!i.pathname||!i.pathname.includes("?"),c1("?","pathname","search",i)),wn(!i.pathname||!i.pathname.includes("#"),c1("#","pathname","hash",i)),wn(!i.search||!i.search.includes("#"),c1("#","search","hash",i)));let a=e===""||i.pathname==="",o=a?"/":i.pathname,l;if(o==null)l=n;else{let m=t.length-1;if(!r&&o.startsWith("..")){let b=o.split("/");for(;b[0]==="..";)b.shift(),m-=1;i.pathname=b.join("/")}l=m>=0?t[m]:"/"}let u=fq(i,l),d=o&&o!=="/"&&o.endsWith("/"),h=(a||o===".")&&n.endsWith("/");return!u.pathname.endsWith("/")&&(d||h)&&(u.pathname+="/"),u}var Ms=e=>e.join("/").replace(/\/\/+/g,"/"),mq=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),pq=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,gq=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function bq(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}function yq(e){return e.map(t=>t.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var T5=["POST","PUT","PATCH","DELETE"];new Set(T5);var vq=["GET",...T5];new Set(vq);var Tf=S.createContext(null);Tf.displayName="DataRouter";var Vv=S.createContext(null);Vv.displayName="DataRouterState";S.createContext(!1);var A5=S.createContext({isTransitioning:!1});A5.displayName="ViewTransition";var xq=S.createContext(new Map);xq.displayName="Fetchers";var wq=S.createContext(null);wq.displayName="Await";var Ma=S.createContext(null);Ma.displayName="Navigation";var Ap=S.createContext(null);Ap.displayName="Location";var Vo=S.createContext({outlet:null,matches:[],isDataRoute:!1});Vo.displayName="Route";var sj=S.createContext(null);sj.displayName="RouteError";function _q(e,{relative:t}={}){wn(Af(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:r}=S.useContext(Ma),{hash:i,pathname:a,search:o}=Np(e,{relative:t}),l=a;return n!=="/"&&(l=a==="/"?n:Ms([n,a])),r.createHref({pathname:l,search:o,hash:i})}function Af(){return S.useContext(Ap)!=null}function qr(){return wn(Af(),"useLocation() may be used only in the context of a <Router> component."),S.useContext(Ap).location}var N5="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function O5(e){S.useContext(Ma).static||S.useLayoutEffect(e)}function cc(){let{isDataRoute:e}=S.useContext(Vo);return e?Rq():Sq()}function Sq(){wn(Af(),"useNavigate() may be used only in the context of a <Router> component.");let e=S.useContext(Tf),{basename:t,navigator:n}=S.useContext(Ma),{matches:r}=S.useContext(Vo),{pathname:i}=qr(),a=JSON.stringify(aj(r)),o=S.useRef(!1);return O5(()=>{o.current=!0}),S.useCallback((u,d={})=>{if(ja(o.current,N5),!o.current)return;if(typeof u=="number"){n.go(u);return}let h=oj(u,JSON.parse(a),i,d.relative==="path");e==null&&t!=="/"&&(h.pathname=h.pathname==="/"?t:Ms([t,h.pathname])),(d.replace?n.replace:n.push)(h,d.state,d)},[t,n,a,i,e])}S.createContext(null);function Np(e,{relative:t}={}){let{matches:n}=S.useContext(Vo),{pathname:r}=qr(),i=JSON.stringify(aj(n));return S.useMemo(()=>oj(e,JSON.parse(i),r,t==="path"),[e,i,r,t])}function kq(e,t){return C5(e,t)}function C5(e,t,n,r,i){wn(Af(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:a}=S.useContext(Ma),{matches:o}=S.useContext(Vo),l=o[o.length-1],u=l?l.params:{},d=l?l.pathname:"/",h=l?l.pathnameBase:"/",m=l&&l.route;{let O=m&&m.path||"";M5(d,!m||O.endsWith("*")||O.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${d}" (under <Route path="${O}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${O}"> to <Route path="${O==="/"?"*":`${O}/*`}">.`)}let b=qr(),y;if(t){let O=typeof t=="string"?jf(t):t;wn(h==="/"||O.pathname?.startsWith(h),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${h}" but pathname "${O.pathname}" was given in the \`location\` prop.`),y=O}else y=b;let k=y.pathname||"/",w=k;if(h!=="/"){let O=h.replace(/^\//,"").split("/");w="/"+k.replace(/^\//,"").split("/").slice(O.length).join("/")}let _=k5(e,{pathname:w});ja(m||_!=null,`No routes matched location "${y.pathname}${y.search}${y.hash}" `),ja(_==null||_[_.length-1].route.element!==void 0||_[_.length-1].route.Component!==void 0||_[_.length-1].route.lazy!==void 0,`Matched leaf route at location "${y.pathname}${y.search}${y.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let j=Nq(_&&_.map(O=>Object.assign({},O,{params:Object.assign({},u,O.params),pathname:Ms([h,a.encodeLocation?a.encodeLocation(O.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:O.pathname]),pathnameBase:O.pathnameBase==="/"?h:Ms([h,a.encodeLocation?a.encodeLocation(O.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:O.pathnameBase])})),o,n,r,i);return t&&j?S.createElement(Ap.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...y},navigationType:"POP"}},j):j}function Eq(){let e=Pq(),t=bq(e)?`${e.status} ${e.statusText}`:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,r="rgba(200,200,200, 0.5)",i={padding:"0.5rem",backgroundColor:r},a={padding:"2px 4px",backgroundColor:r},o=null;return console.error("Error handled by React Router default ErrorBoundary:",e),o=S.createElement(S.Fragment,null,S.createElement("p",null," Hey developer "),S.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",S.createElement("code",{style:a},"ErrorBoundary")," or"," ",S.createElement("code",{style:a},"errorElement")," prop on your route.")),S.createElement(S.Fragment,null,S.createElement("h2",null,"Unexpected Application Error!"),S.createElement("h3",{style:{fontStyle:"italic"}},t),n?S.createElement("pre",{style:i},n):null,o)}var jq=S.createElement(Eq,null),Tq=class extends S.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||t.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){this.props.onError?this.props.onError(e,t):console.error("React Router caught the following error during render",e)}render(){return this.state.error!==void 0?S.createElement(Vo.Provider,{value:this.props.routeContext},S.createElement(sj.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function Aq({routeContext:e,match:t,children:n}){let r=S.useContext(Tf);return r&&r.static&&r.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=t.route.id),S.createElement(Vo.Provider,{value:e},n)}function Nq(e,t=[],n=null,r=null,i=null){if(e==null){if(!n)return null;if(n.errors)e=n.matches;else if(t.length===0&&!n.initialized&&n.matches.length>0)e=n.matches;else return null}let a=e,o=n?.errors;if(o!=null){let h=a.findIndex(m=>m.route.id&&o?.[m.route.id]!==void 0);wn(h>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(o).join(",")}`),a=a.slice(0,Math.min(a.length,h+1))}let l=!1,u=-1;if(n)for(let h=0;h<a.length;h++){let m=a[h];if((m.route.HydrateFallback||m.route.hydrateFallbackElement)&&(u=h),m.route.id){let{loaderData:b,errors:y}=n,k=m.route.loader&&!b.hasOwnProperty(m.route.id)&&(!y||y[m.route.id]===void 0);if(m.route.lazy||k){l=!0,u>=0?a=a.slice(0,u+1):a=[a[0]];break}}}let d=n&&r?(h,m)=>{r(h,{location:n.location,params:n.matches?.[0]?.params??{},unstable_pattern:yq(n.matches),errorInfo:m})}:void 0;return a.reduceRight((h,m,b)=>{let y,k=!1,w=null,_=null;n&&(y=o&&m.route.id?o[m.route.id]:void 0,w=m.route.errorElement||jq,l&&(u<0&&b===0?(M5("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),k=!0,_=null):u===b&&(k=!0,_=m.route.hydrateFallbackElement||null)));let j=t.concat(a.slice(0,b+1)),O=()=>{let T;return y?T=w:k?T=_:m.route.Component?T=S.createElement(m.route.Component,null):m.route.element?T=m.route.element:T=h,S.createElement(Aq,{match:m,routeContext:{outlet:h,matches:j,isDataRoute:n!=null},children:T})};return n&&(m.route.ErrorBoundary||m.route.errorElement||b===0)?S.createElement(Tq,{location:n.location,revalidation:n.revalidation,component:w,error:y,children:O(),routeContext:{outlet:null,matches:j,isDataRoute:!0},onError:d}):O()},null)}function lj(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Oq(e){let t=S.useContext(Tf);return wn(t,lj(e)),t}function Cq(e){let t=S.useContext(Vv);return wn(t,lj(e)),t}function Mq(e){let t=S.useContext(Vo);return wn(t,lj(e)),t}function cj(e){let t=Mq(e),n=t.matches[t.matches.length-1];return wn(n.route.id,`${e} can only be used on routes that contain a unique "id"`),n.route.id}function Dq(){return cj("useRouteId")}function Pq(){let e=S.useContext(sj),t=Cq("useRouteError"),n=cj("useRouteError");return e!==void 0?e:t.errors?.[n]}function Rq(){let{router:e}=Oq("useNavigate"),t=cj("useNavigate"),n=S.useRef(!1);return O5(()=>{n.current=!0}),S.useCallback(async(i,a={})=>{ja(n.current,N5),n.current&&(typeof i=="number"?await e.navigate(i):await e.navigate(i,{fromRouteId:t,...a}))},[e,t])}var kM={};function M5(e,t,n){!t&&!kM[e]&&(kM[e]=!0,ja(!1,n))}S.memo(Lq);function Lq({routes:e,future:t,state:n,unstable_onError:r}){return C5(e,void 0,n,r,t)}function Iq({to:e,replace:t,state:n,relative:r}){wn(Af(),"<Navigate> may be used only in the context of a <Router> component.");let{static:i}=S.useContext(Ma);ja(!i,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:a}=S.useContext(Vo),{pathname:o}=qr(),l=cc(),u=oj(e,aj(a),o,r==="path"),d=JSON.stringify(u);return S.useEffect(()=>{l(JSON.parse(d),{replace:t,state:n,relative:r})},[l,d,r,t,n]),null}function qa(e){wn(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function $q({basename:e="/",children:t=null,location:n,navigationType:r="POP",navigator:i,static:a=!1,unstable_useTransitions:o}){wn(!Af(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let l=e.replace(/^\/*/,"/"),u=S.useMemo(()=>({basename:l,navigator:i,static:a,unstable_useTransitions:o,future:{}}),[l,i,a,o]);typeof n=="string"&&(n=jf(n));let{pathname:d="/",search:h="",hash:m="",state:b=null,key:y="default"}=n,k=S.useMemo(()=>{let w=Ls(d,l);return w==null?null:{location:{pathname:w,search:h,hash:m,state:b,key:y},navigationType:r}},[l,d,h,m,b,y,r]);return ja(k!=null,`<Router basename="${l}"> is not able to match the URL "${d}${h}${m}" because it does not start with the basename, so the <Router> won't render anything.`),k==null?null:S.createElement(Ma.Provider,{value:u},S.createElement(Ap.Provider,{children:t,value:k}))}function Bq({children:e,location:t}){return kq(Wk(e),t)}function Wk(e,t=[]){let n=[];return S.Children.forEach(e,(r,i)=>{if(!S.isValidElement(r))return;let a=[...t,i];if(r.type===S.Fragment){n.push.apply(n,Wk(r.props.children,a));return}wn(r.type===qa,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),wn(!r.props.index||!r.props.children,"An index route cannot have child routes.");let o={id:r.props.id||a.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,middleware:r.props.middleware,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(o.children=Wk(r.props.children,a)),n.push(o)}),n}var qb="get",Kb="application/x-www-form-urlencoded";function Zv(e){return typeof HTMLElement<"u"&&e instanceof HTMLElement}function zq(e){return Zv(e)&&e.tagName.toLowerCase()==="button"}function Uq(e){return Zv(e)&&e.tagName.toLowerCase()==="form"}function Fq(e){return Zv(e)&&e.tagName.toLowerCase()==="input"}function Hq(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function Gq(e,t){return e.button===0&&(!t||t==="_self")&&!Hq(e)}var Lg=null;function Yq(){if(Lg===null)try{new FormData(document.createElement("form"),0),Lg=!1}catch{Lg=!0}return Lg}var qq=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function u1(e){return e!=null&&!qq.has(e)?(ja(!1,`"${e}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Kb}"`),null):e}function Kq(e,t){let n,r,i,a,o;if(Uq(e)){let l=e.getAttribute("action");r=l?Ls(l,t):null,n=e.getAttribute("method")||qb,i=u1(e.getAttribute("enctype"))||Kb,a=new FormData(e)}else if(zq(e)||Fq(e)&&(e.type==="submit"||e.type==="image")){let l=e.form;if(l==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let u=e.getAttribute("formaction")||l.getAttribute("action");if(r=u?Ls(u,t):null,n=e.getAttribute("formmethod")||l.getAttribute("method")||qb,i=u1(e.getAttribute("formenctype"))||u1(l.getAttribute("enctype"))||Kb,a=new FormData(l,e),!Yq()){let{name:d,type:h,value:m}=e;if(h==="image"){let b=d?`${d}.`:"";a.append(`${b}x`,"0"),a.append(`${b}y`,"0")}else d&&a.append(d,m)}}else{if(Zv(e))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=qb,r=null,i=Kb,o=e}return a&&i==="text/plain"&&(o=a,a=void 0),{action:r,method:n.toLowerCase(),encType:i,formData:a,body:o}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function uj(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function Wq(e,t,n){let r=typeof e=="string"?new URL(e,typeof window>"u"?"server://singlefetch/":window.location.origin):e;return r.pathname==="/"?r.pathname=`_root.${n}`:t&&Ls(r.pathname,t)==="/"?r.pathname=`${t.replace(/\/$/,"")}/_root.${n}`:r.pathname=`${r.pathname.replace(/\/$/,"")}.${n}`,r}async function Vq(e,t){if(e.id in t)return t[e.id];try{let n=await import(e.module);return t[e.id]=n,n}catch(n){return console.error(`Error loading route module \`${e.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function Zq(e){return e==null?!1:e.href==null?e.rel==="preload"&&typeof e.imageSrcSet=="string"&&typeof e.imageSizes=="string":typeof e.rel=="string"&&typeof e.href=="string"}async function Xq(e,t,n){let r=await Promise.all(e.map(async i=>{let a=t.routes[i.route.id];if(a){let o=await Vq(a,n);return o.links?o.links():[]}return[]}));return tK(r.flat(1).filter(Zq).filter(i=>i.rel==="stylesheet"||i.rel==="preload").map(i=>i.rel==="stylesheet"?{...i,rel:"prefetch",as:"style"}:{...i,rel:"prefetch"}))}function EM(e,t,n,r,i,a){let o=(u,d)=>n[d]?u.route.id!==n[d].route.id:!0,l=(u,d)=>n[d].pathname!==u.pathname||n[d].route.path?.endsWith("*")&&n[d].params["*"]!==u.params["*"];return a==="assets"?t.filter((u,d)=>o(u,d)||l(u,d)):a==="data"?t.filter((u,d)=>{let h=r.routes[u.route.id];if(!h||!h.hasLoader)return!1;if(o(u,d)||l(u,d))return!0;if(u.route.shouldRevalidate){let m=u.route.shouldRevalidate({currentUrl:new URL(i.pathname+i.search+i.hash,window.origin),currentParams:n[0]?.params||{},nextUrl:new URL(e,window.origin),nextParams:u.params,defaultShouldRevalidate:!0});if(typeof m=="boolean")return m}return!0}):[]}function Jq(e,t,{includeHydrateFallback:n}={}){return Qq(e.map(r=>{let i=t.routes[r.route.id];if(!i)return[];let a=[i.module];return i.clientActionModule&&(a=a.concat(i.clientActionModule)),i.clientLoaderModule&&(a=a.concat(i.clientLoaderModule)),n&&i.hydrateFallbackModule&&(a=a.concat(i.hydrateFallbackModule)),i.imports&&(a=a.concat(i.imports)),a}).flat(1))}function Qq(e){return[...new Set(e)]}function eK(e){let t={},n=Object.keys(e).sort();for(let r of n)t[r]=e[r];return t}function tK(e,t){let n=new Set;return new Set(t),e.reduce((r,i)=>{let a=JSON.stringify(eK(i));return n.has(a)||(n.add(a),r.push({key:a,link:i})),r},[])}function D5(){let e=S.useContext(Tf);return uj(e,"You must render this element inside a <DataRouterContext.Provider> element"),e}function nK(){let e=S.useContext(Vv);return uj(e,"You must render this element inside a <DataRouterStateContext.Provider> element"),e}var dj=S.createContext(void 0);dj.displayName="FrameworkContext";function P5(){let e=S.useContext(dj);return uj(e,"You must render this element inside a <HydratedRouter> element"),e}function rK(e,t){let n=S.useContext(dj),[r,i]=S.useState(!1),[a,o]=S.useState(!1),{onFocus:l,onBlur:u,onMouseEnter:d,onMouseLeave:h,onTouchStart:m}=t,b=S.useRef(null);S.useEffect(()=>{if(e==="render"&&o(!0),e==="viewport"){let w=j=>{j.forEach(O=>{o(O.isIntersecting)})},_=new IntersectionObserver(w,{threshold:.5});return b.current&&_.observe(b.current),()=>{_.disconnect()}}},[e]),S.useEffect(()=>{if(r){let w=setTimeout(()=>{o(!0)},100);return()=>{clearTimeout(w)}}},[r]);let y=()=>{i(!0)},k=()=>{i(!1),o(!1)};return n?e!=="intent"?[a,b,{}]:[a,b,{onFocus:Qh(l,y),onBlur:Qh(u,k),onMouseEnter:Qh(d,y),onMouseLeave:Qh(h,k),onTouchStart:Qh(m,y)}]:[!1,b,{}]}function Qh(e,t){return n=>{e&&e(n),n.defaultPrevented||t(n)}}function iK({page:e,...t}){let{router:n}=D5(),r=S.useMemo(()=>k5(n.routes,e,n.basename),[n.routes,e,n.basename]);return r?S.createElement(oK,{page:e,matches:r,...t}):null}function aK(e){let{manifest:t,routeModules:n}=P5(),[r,i]=S.useState([]);return S.useEffect(()=>{let a=!1;return Xq(e,t,n).then(o=>{a||i(o)}),()=>{a=!0}},[e,t,n]),r}function oK({page:e,matches:t,...n}){let r=qr(),{manifest:i,routeModules:a}=P5(),{basename:o}=D5(),{loaderData:l,matches:u}=nK(),d=S.useMemo(()=>EM(e,t,u,i,r,"data"),[e,t,u,i,r]),h=S.useMemo(()=>EM(e,t,u,i,r,"assets"),[e,t,u,i,r]),m=S.useMemo(()=>{if(e===r.pathname+r.search+r.hash)return[];let k=new Set,w=!1;if(t.forEach(j=>{let O=i.routes[j.route.id];!O||!O.hasLoader||(!d.some(T=>T.route.id===j.route.id)&&j.route.id in l&&a[j.route.id]?.shouldRevalidate||O.hasClientLoader?w=!0:k.add(j.route.id))}),k.size===0)return[];let _=Wq(e,o,"data");return w&&k.size>0&&_.searchParams.set("_routes",t.filter(j=>k.has(j.route.id)).map(j=>j.route.id).join(",")),[_.pathname+_.search]},[o,l,r,i,d,t,e,a]),b=S.useMemo(()=>Jq(h,i),[h,i]),y=aK(h);return S.createElement(S.Fragment,null,m.map(k=>S.createElement("link",{key:k,rel:"prefetch",as:"fetch",href:k,...n})),b.map(k=>S.createElement("link",{key:k,rel:"modulepreload",href:k,...n})),y.map(({key:k,link:w})=>S.createElement("link",{key:k,nonce:n.nonce,...w})))}function sK(...e){return t=>{e.forEach(n=>{typeof n=="function"?n(t):n!=null&&(n.current=t)})}}var R5=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{R5&&(window.__reactRouterVersion="7.10.1")}catch{}function lK({basename:e,children:t,unstable_useTransitions:n,window:r}){let i=S.useRef();i.current==null&&(i.current=KY({window:r,v5Compat:!0}));let a=i.current,[o,l]=S.useState({action:a.action,location:a.location}),u=S.useCallback(d=>{n===!1?l(d):S.startTransition(()=>l(d))},[n]);return S.useLayoutEffect(()=>a.listen(u),[a,u]),S.createElement($q,{basename:e,children:t,location:o.location,navigationType:o.action,navigator:a,unstable_useTransitions:n===!0})}var L5=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,fj=S.forwardRef(function({onClick:t,discover:n="render",prefetch:r="none",relative:i,reloadDocument:a,replace:o,state:l,target:u,to:d,preventScrollReset:h,viewTransition:m,...b},y){let{basename:k,unstable_useTransitions:w}=S.useContext(Ma),_=typeof d=="string"&&L5.test(d),j,O=!1;if(typeof d=="string"&&_&&(j=d,R5))try{let G=new URL(window.location.href),F=d.startsWith("//")?new URL(G.protocol+d):new URL(d),B=Ls(F.pathname,k);F.origin===G.origin&&B!=null?d=B+F.search+F.hash:O=!0}catch{ja(!1,`<Link to="${d}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let T=_q(d,{relative:i}),[C,M,P]=rK(r,b),I=fK(d,{replace:o,state:l,target:u,preventScrollReset:h,relative:i,viewTransition:m,unstable_useTransitions:w});function z(G){t&&t(G),G.defaultPrevented||I(G)}let K=S.createElement("a",{...b,...P,href:j||T,onClick:O||a?t:z,ref:sK(y,M),target:u,"data-discover":!_&&n==="render"?"true":void 0});return C&&!_?S.createElement(S.Fragment,null,K,S.createElement(iK,{page:T})):K});fj.displayName="Link";var cK=S.forwardRef(function({"aria-current":t="page",caseSensitive:n=!1,className:r="",end:i=!1,style:a,to:o,viewTransition:l,children:u,...d},h){let m=Np(o,{relative:d.relative}),b=qr(),y=S.useContext(Vv),{navigator:k,basename:w}=S.useContext(Ma),_=y!=null&&bK(m)&&l===!0,j=k.encodeLocation?k.encodeLocation(m).pathname:m.pathname,O=b.pathname,T=y&&y.navigation&&y.navigation.location?y.navigation.location.pathname:null;n||(O=O.toLowerCase(),T=T?T.toLowerCase():null,j=j.toLowerCase()),T&&w&&(T=Ls(T,w)||T);const C=j!=="/"&&j.endsWith("/")?j.length-1:j.length;let M=O===j||!i&&O.startsWith(j)&&O.charAt(C)==="/",P=T!=null&&(T===j||!i&&T.startsWith(j)&&T.charAt(j.length)==="/"),I={isActive:M,isPending:P,isTransitioning:_},z=M?t:void 0,K;typeof r=="function"?K=r(I):K=[r,M?"active":null,P?"pending":null,_?"transitioning":null].filter(Boolean).join(" ");let G=typeof a=="function"?a(I):a;return S.createElement(fj,{...d,"aria-current":z,className:K,ref:h,style:G,to:o,viewTransition:l},typeof u=="function"?u(I):u)});cK.displayName="NavLink";var uK=S.forwardRef(({discover:e="render",fetcherKey:t,navigate:n,reloadDocument:r,replace:i,state:a,method:o=qb,action:l,onSubmit:u,relative:d,preventScrollReset:h,viewTransition:m,...b},y)=>{let{unstable_useTransitions:k}=S.useContext(Ma),w=pK(),_=gK(l,{relative:d}),j=o.toLowerCase()==="get"?"get":"post",O=typeof l=="string"&&L5.test(l),T=C=>{if(u&&u(C),C.defaultPrevented)return;C.preventDefault();let M=C.nativeEvent.submitter,P=M?.getAttribute("formmethod")||o,I=()=>w(M||C.currentTarget,{fetcherKey:t,method:P,navigate:n,replace:i,state:a,relative:d,preventScrollReset:h,viewTransition:m});k&&n!==!1?S.startTransition(()=>I()):I()};return S.createElement("form",{ref:y,method:j,action:_,onSubmit:r?u:T,...b,"data-discover":!O&&e==="render"?"true":void 0})});uK.displayName="Form";function dK(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function I5(e){let t=S.useContext(Tf);return wn(t,dK(e)),t}function fK(e,{target:t,replace:n,state:r,preventScrollReset:i,relative:a,viewTransition:o,unstable_useTransitions:l}={}){let u=cc(),d=qr(),h=Np(e,{relative:a});return S.useCallback(m=>{if(Gq(m,t)){m.preventDefault();let b=n!==void 0?n:Hm(d)===Hm(h),y=()=>u(e,{replace:b,state:r,preventScrollReset:i,relative:a,viewTransition:o});l?S.startTransition(()=>y()):y()}},[d,u,h,n,r,t,e,i,a,o,l])}var hK=0,mK=()=>`__${String(++hK)}__`;function pK(){let{router:e}=I5("useSubmit"),{basename:t}=S.useContext(Ma),n=Dq(),r=e.fetch,i=e.navigate;return S.useCallback(async(a,o={})=>{let{action:l,method:u,encType:d,formData:h,body:m}=Kq(a,t);if(o.navigate===!1){let b=o.fetcherKey||mK();await r(b,n,o.action||l,{preventScrollReset:o.preventScrollReset,formData:h,body:m,formMethod:o.method||u,formEncType:o.encType||d,flushSync:o.flushSync})}else await i(o.action||l,{preventScrollReset:o.preventScrollReset,formData:h,body:m,formMethod:o.method||u,formEncType:o.encType||d,replace:o.replace,state:o.state,fromRouteId:n,flushSync:o.flushSync,viewTransition:o.viewTransition})},[r,i,t,n])}function gK(e,{relative:t}={}){let{basename:n}=S.useContext(Ma),r=S.useContext(Vo);wn(r,"useFormAction must be used inside a RouteContext");let[i]=r.matches.slice(-1),a={...Np(e||".",{relative:t})},o=qr();if(e==null){a.search=o.search;let l=new URLSearchParams(a.search),u=l.getAll("index");if(u.some(h=>h==="")){l.delete("index"),u.filter(m=>m).forEach(m=>l.append("index",m));let h=l.toString();a.search=h?`?${h}`:""}}return(!e||e===".")&&i.route.index&&(a.search=a.search?a.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(a.pathname=a.pathname==="/"?n:Ms([n,a.pathname])),Hm(a)}function bK(e,{relative:t}={}){let n=S.useContext(A5);wn(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=I5("useViewTransitionState"),i=Np(e,{relative:t});if(!n.isTransitioning)return!1;let a=Ls(n.currentLocation.pathname,r)||n.currentLocation.pathname,o=Ls(n.nextLocation.pathname,r)||n.nextLocation.pathname;return dy(i.pathname,o)!=null||dy(i.pathname,a)!=null}var Iu=S5();const yK=Ti(Iu);let vK={data:""},xK=e=>typeof window=="object"?((e?e.querySelector("#_goober"):window._goober)||Object.assign((e||document.head).appendChild(document.createElement("style")),{innerHTML:" ",id:"_goober"})).firstChild:e||vK,wK=/(?:([\u0080-\uFFFF\w-%@]+) *:? *([^{;]+?);|([^;}{]*?) *{)|(}\s*)/g,_K=/\/\*[^]*?\*\/|  +/g,jM=/\n+/g,Gl=(e,t)=>{let n="",r="",i="";for(let a in e){let o=e[a];a[0]=="@"?a[1]=="i"?n=a+" "+o+";":r+=a[1]=="f"?Gl(o,a):a+"{"+Gl(o,a[1]=="k"?"":t)+"}":typeof o=="object"?r+=Gl(o,t?t.replace(/([^,])+/g,l=>a.replace(/([^,]*:\S+\([^)]*\))|([^,])+/g,u=>/&/.test(u)?u.replace(/&/g,l):l?l+" "+u:u)):a):o!=null&&(a=/^--/.test(a)?a:a.replace(/[A-Z]/g,"-$&").toLowerCase(),i+=Gl.p?Gl.p(a,o):a+":"+o+";")}return n+(t&&i?t+"{"+i+"}":i)+r},xs={},$5=e=>{if(typeof e=="object"){let t="";for(let n in e)t+=n+$5(e[n]);return t}return e},SK=(e,t,n,r,i)=>{let a=$5(e),o=xs[a]||(xs[a]=(u=>{let d=0,h=11;for(;d<u.length;)h=101*h+u.charCodeAt(d++)>>>0;return"go"+h})(a));if(!xs[o]){let u=a!==e?e:(d=>{let h,m,b=[{}];for(;h=wK.exec(d.replace(_K,""));)h[4]?b.shift():h[3]?(m=h[3].replace(jM," ").trim(),b.unshift(b[0][m]=b[0][m]||{})):b[0][h[1]]=h[2].replace(jM," ").trim();return b[0]})(e);xs[o]=Gl(i?{["@keyframes "+o]:u}:u,n?"":"."+o)}let l=n&&xs.g?xs.g:null;return n&&(xs.g=xs[o]),((u,d,h,m)=>{m?d.data=d.data.replace(m,u):d.data.indexOf(u)===-1&&(d.data=h?u+d.data:d.data+u)})(xs[o],t,r,l),o},kK=(e,t,n)=>e.reduce((r,i,a)=>{let o=t[a];if(o&&o.call){let l=o(n),u=l&&l.props&&l.props.className||/^go/.test(l)&&l;o=u?"."+u:l&&typeof l=="object"?l.props?"":Gl(l,""):l===!1?"":l}return r+i+(o??"")},"");function Xv(e){let t=this||{},n=e.call?e(t.p):e;return SK(n.unshift?n.raw?kK(n,[].slice.call(arguments,1),t.p):n.reduce((r,i)=>Object.assign(r,i&&i.call?i(t.p):i),{}):n,xK(t.target),t.g,t.o,t.k)}let B5,Vk,Zk;Xv.bind({g:1});let Is=Xv.bind({k:1});function EK(e,t,n,r){Gl.p=t,B5=e,Vk=n,Zk=r}function uc(e,t){let n=this||{};return function(){let r=arguments;function i(a,o){let l=Object.assign({},a),u=l.className||i.className;n.p=Object.assign({theme:Vk&&Vk()},l),n.o=/ *go\d+/.test(u),l.className=Xv.apply(n,r)+(u?" "+u:"");let d=e;return e[0]&&(d=l.as||e,delete l.as),Zk&&d[0]&&Zk(l),B5(d,l)}return i}}var jK=e=>typeof e=="function",fy=(e,t)=>jK(e)?e(t):e,TK=(()=>{let e=0;return()=>(++e).toString()})(),z5=(()=>{let e;return()=>{if(e===void 0&&typeof window<"u"){let t=matchMedia("(prefers-reduced-motion: reduce)");e=!t||t.matches}return e}})(),AK=20,hj="default",U5=(e,t)=>{let{toastLimit:n}=e.settings;switch(t.type){case 0:return{...e,toasts:[t.toast,...e.toasts].slice(0,n)};case 1:return{...e,toasts:e.toasts.map(o=>o.id===t.toast.id?{...o,...t.toast}:o)};case 2:let{toast:r}=t;return U5(e,{type:e.toasts.find(o=>o.id===r.id)?1:0,toast:r});case 3:let{toastId:i}=t;return{...e,toasts:e.toasts.map(o=>o.id===i||i===void 0?{...o,dismissed:!0,visible:!1}:o)};case 4:return t.toastId===void 0?{...e,toasts:[]}:{...e,toasts:e.toasts.filter(o=>o.id!==t.toastId)};case 5:return{...e,pausedAt:t.time};case 6:let a=t.time-(e.pausedAt||0);return{...e,pausedAt:void 0,toasts:e.toasts.map(o=>({...o,pauseDuration:o.pauseDuration+a}))}}},Wb=[],F5={toasts:[],pausedAt:void 0,settings:{toastLimit:AK}},Bo={},H5=(e,t=hj)=>{Bo[t]=U5(Bo[t]||F5,e),Wb.forEach(([n,r])=>{n===t&&r(Bo[t])})},G5=e=>Object.keys(Bo).forEach(t=>H5(e,t)),NK=e=>Object.keys(Bo).find(t=>Bo[t].toasts.some(n=>n.id===e)),Jv=(e=hj)=>t=>{H5(t,e)},OK={blank:4e3,error:4e3,success:2e3,loading:1/0,custom:4e3},CK=(e={},t=hj)=>{let[n,r]=S.useState(Bo[t]||F5),i=S.useRef(Bo[t]);S.useEffect(()=>(i.current!==Bo[t]&&r(Bo[t]),Wb.push([t,r]),()=>{let o=Wb.findIndex(([l])=>l===t);o>-1&&Wb.splice(o,1)}),[t]);let a=n.toasts.map(o=>{var l,u,d;return{...e,...e[o.type],...o,removeDelay:o.removeDelay||((l=e[o.type])==null?void 0:l.removeDelay)||e?.removeDelay,duration:o.duration||((u=e[o.type])==null?void 0:u.duration)||e?.duration||OK[o.type],style:{...e.style,...(d=e[o.type])==null?void 0:d.style,...o.style}}});return{...n,toasts:a}},MK=(e,t="blank",n)=>({createdAt:Date.now(),visible:!0,dismissed:!1,type:t,ariaProps:{role:"status","aria-live":"polite"},message:e,pauseDuration:0,...n,id:n?.id||TK()}),Op=e=>(t,n)=>{let r=MK(t,e,n);return Jv(r.toasterId||NK(r.id))({type:2,toast:r}),r.id},Bn=(e,t)=>Op("blank")(e,t);Bn.error=Op("error");Bn.success=Op("success");Bn.loading=Op("loading");Bn.custom=Op("custom");Bn.dismiss=(e,t)=>{let n={type:3,toastId:e};t?Jv(t)(n):G5(n)};Bn.dismissAll=e=>Bn.dismiss(void 0,e);Bn.remove=(e,t)=>{let n={type:4,toastId:e};t?Jv(t)(n):G5(n)};Bn.removeAll=e=>Bn.remove(void 0,e);Bn.promise=(e,t,n)=>{let r=Bn.loading(t.loading,{...n,...n?.loading});return typeof e=="function"&&(e=e()),e.then(i=>{let a=t.success?fy(t.success,i):void 0;return a?Bn.success(a,{id:r,...n,...n?.success}):Bn.dismiss(r),i}).catch(i=>{let a=t.error?fy(t.error,i):void 0;a?Bn.error(a,{id:r,...n,...n?.error}):Bn.dismiss(r)}),e};var DK=1e3,PK=(e,t="default")=>{let{toasts:n,pausedAt:r}=CK(e,t),i=S.useRef(new Map).current,a=S.useCallback((m,b=DK)=>{if(i.has(m))return;let y=setTimeout(()=>{i.delete(m),o({type:4,toastId:m})},b);i.set(m,y)},[]);S.useEffect(()=>{if(r)return;let m=Date.now(),b=n.map(y=>{if(y.duration===1/0)return;let k=(y.duration||0)+y.pauseDuration-(m-y.createdAt);if(k<0){y.visible&&Bn.dismiss(y.id);return}return setTimeout(()=>Bn.dismiss(y.id,t),k)});return()=>{b.forEach(y=>y&&clearTimeout(y))}},[n,r,t]);let o=S.useCallback(Jv(t),[t]),l=S.useCallback(()=>{o({type:5,time:Date.now()})},[o]),u=S.useCallback((m,b)=>{o({type:1,toast:{id:m,height:b}})},[o]),d=S.useCallback(()=>{r&&o({type:6,time:Date.now()})},[r,o]),h=S.useCallback((m,b)=>{let{reverseOrder:y=!1,gutter:k=8,defaultPosition:w}=b||{},_=n.filter(T=>(T.position||w)===(m.position||w)&&T.height),j=_.findIndex(T=>T.id===m.id),O=_.filter((T,C)=>C<j&&T.visible).length;return _.filter(T=>T.visible).slice(...y?[O+1]:[0,O]).reduce((T,C)=>T+(C.height||0)+k,0)},[n]);return S.useEffect(()=>{n.forEach(m=>{if(m.dismissed)a(m.id,m.removeDelay);else{let b=i.get(m.id);b&&(clearTimeout(b),i.delete(m.id))}})},[n,a]),{toasts:n,handlers:{updateHeight:u,startPause:l,endPause:d,calculateOffset:h}}},RK=Is`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
 transform: scale(1) rotate(45deg);
  opacity: 1;
}`,LK=Is`
from {
  transform: scale(0);
  opacity: 0;
}
to {
  transform: scale(1);
  opacity: 1;
}`,IK=Is`
from {
  transform: scale(0) rotate(90deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(90deg);
	opacity: 1;
}`,$K=uc("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${e=>e.primary||"#ff4b4b"};
  position: relative;
  transform: rotate(45deg);

  animation: ${RK} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;

  &:after,
  &:before {
    content: '';
    animation: ${LK} 0.15s ease-out forwards;
    animation-delay: 150ms;
    position: absolute;
    border-radius: 3px;
    opacity: 0;
    background: ${e=>e.secondary||"#fff"};
    bottom: 9px;
    left: 4px;
    height: 2px;
    width: 12px;
  }

  &:before {
    animation: ${IK} 0.15s ease-out forwards;
    animation-delay: 180ms;
    transform: rotate(90deg);
  }
`,BK=Is`
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
`,zK=uc("div")`
  width: 12px;
  height: 12px;
  box-sizing: border-box;
  border: 2px solid;
  border-radius: 100%;
  border-color: ${e=>e.secondary||"#e0e0e0"};
  border-right-color: ${e=>e.primary||"#616161"};
  animation: ${BK} 1s linear infinite;
`,UK=Is`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(45deg);
	opacity: 1;
}`,FK=Is`
0% {
	height: 0;
	width: 0;
	opacity: 0;
}
40% {
  height: 0;
	width: 6px;
	opacity: 1;
}
100% {
  opacity: 1;
  height: 10px;
}`,HK=uc("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${e=>e.primary||"#61d345"};
  position: relative;
  transform: rotate(45deg);

  animation: ${UK} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;
  &:after {
    content: '';
    box-sizing: border-box;
    animation: ${FK} 0.2s ease-out forwards;
    opacity: 0;
    animation-delay: 200ms;
    position: absolute;
    border-right: 2px solid;
    border-bottom: 2px solid;
    border-color: ${e=>e.secondary||"#fff"};
    bottom: 6px;
    left: 6px;
    height: 10px;
    width: 6px;
  }
`,GK=uc("div")`
  position: absolute;
`,YK=uc("div")`
  position: relative;
  display: flex;
  justify-content: center;
  align-items: center;
  min-width: 20px;
  min-height: 20px;
`,qK=Is`
from {
  transform: scale(0.6);
  opacity: 0.4;
}
to {
  transform: scale(1);
  opacity: 1;
}`,KK=uc("div")`
  position: relative;
  transform: scale(0.6);
  opacity: 0.4;
  min-width: 20px;
  animation: ${qK} 0.3s 0.12s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
`,WK=({toast:e})=>{let{icon:t,type:n,iconTheme:r}=e;return t!==void 0?typeof t=="string"?S.createElement(KK,null,t):t:n==="blank"?null:S.createElement(YK,null,S.createElement(zK,{...r}),n!=="loading"&&S.createElement(GK,null,n==="error"?S.createElement($K,{...r}):S.createElement(HK,{...r})))},VK=e=>`
0% {transform: translate3d(0,${e*-200}%,0) scale(.6); opacity:.5;}
100% {transform: translate3d(0,0,0) scale(1); opacity:1;}
`,ZK=e=>`
0% {transform: translate3d(0,0,-1px) scale(1); opacity:1;}
100% {transform: translate3d(0,${e*-150}%,-1px) scale(.6); opacity:0;}
`,XK="0%{opacity:0;} 100%{opacity:1;}",JK="0%{opacity:1;} 100%{opacity:0;}",QK=uc("div")`
  display: flex;
  align-items: center;
  background: #fff;
  color: #363636;
  line-height: 1.3;
  will-change: transform;
  box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1), 0 3px 3px rgba(0, 0, 0, 0.05);
  max-width: 350px;
  pointer-events: auto;
  padding: 8px 10px;
  border-radius: 8px;
`,eW=uc("div")`
  display: flex;
  justify-content: center;
  margin: 4px 10px;
  color: inherit;
  flex: 1 1 auto;
  white-space: pre-line;
`,tW=(e,t)=>{let n=e.includes("top")?1:-1,[r,i]=z5()?[XK,JK]:[VK(n),ZK(n)];return{animation:t?`${Is(r)} 0.35s cubic-bezier(.21,1.02,.73,1) forwards`:`${Is(i)} 0.4s forwards cubic-bezier(.06,.71,.55,1)`}},nW=S.memo(({toast:e,position:t,style:n,children:r})=>{let i=e.height?tW(e.position||t||"top-center",e.visible):{opacity:0},a=S.createElement(WK,{toast:e}),o=S.createElement(eW,{...e.ariaProps},fy(e.message,e));return S.createElement(QK,{className:e.className,style:{...i,...n,...e.style}},typeof r=="function"?r({icon:a,message:o}):S.createElement(S.Fragment,null,a,o))});EK(S.createElement);var rW=({id:e,className:t,style:n,onHeightUpdate:r,children:i})=>{let a=S.useCallback(o=>{if(o){let l=()=>{let u=o.getBoundingClientRect().height;r(e,u)};l(),new MutationObserver(l).observe(o,{subtree:!0,childList:!0,characterData:!0})}},[e,r]);return S.createElement("div",{ref:a,className:t,style:n},i)},iW=(e,t)=>{let n=e.includes("top"),r=n?{top:0}:{bottom:0},i=e.includes("center")?{justifyContent:"center"}:e.includes("right")?{justifyContent:"flex-end"}:{};return{left:0,right:0,display:"flex",position:"absolute",transition:z5()?void 0:"all 230ms cubic-bezier(.21,1.02,.73,1)",transform:`translateY(${t*(n?1:-1)}px)`,...r,...i}},aW=Xv`
  z-index: 9999;
  > * {
    pointer-events: auto;
  }
`,Ig=16,Y5=({reverseOrder:e,position:t="top-center",toastOptions:n,gutter:r,children:i,toasterId:a,containerStyle:o,containerClassName:l})=>{let{toasts:u,handlers:d}=PK(n,a);return S.createElement("div",{"data-rht-toaster":a||"",style:{position:"fixed",zIndex:9999,top:Ig,left:Ig,right:Ig,bottom:Ig,pointerEvents:"none",...o},className:l,onMouseEnter:d.startPause,onMouseLeave:d.endPause},u.map(h=>{let m=h.position||t,b=d.calculateOffset(h,{reverseOrder:e,gutter:r,defaultPosition:t}),y=iW(m,b);return S.createElement(rW,{id:h.id,key:h.id,onHeightUpdate:d.updateHeight,className:h.visible?aW:"",style:y},h.type==="custom"?fy(h.message,h):i?i(h):S.createElement(nW,{toast:h,position:m}))}))},ya=Bn;function oW(e,t,n,r=0,i=0){t<=2&&(e-=1,t+=12);const a=Math.floor(e/100),o=2-a+Math.floor(a/4),l=n+(r+i/60)/24;return Math.floor(365.25*(e+4716))+Math.floor(30.6001*(t+1))+l+o-1524.5}const sW=864e5;function lW(e){const t=(e-24405875e-1)*sW;return new Date(t)}function cW(e,t=7){const n=e+(t-.5)/12;if(n>=1986&&n<2005){const i=n-2e3;return 63.86+.3345*i-.060374*i*i+.0017275*i**3+651814e-9*i**4+2373599e-11*i**5}if(n>=2005&&n<2050){const i=n-2e3;return 62.92+.32217*i+.005589*i*i}if(n>=2050&&n<=2150){const i=(n-1820)/100;return-20+32*i*i-.5628*(2150-n)}if(n>=1900&&n<1986)return-2.79+1.494119*(n-1900)-.0598939*(n-1900)**2+.0061966*(n-1900)**3-197e-6*(n-1900)**4;if(n>=1800&&n<1900){const i=(n-1800)/100;return 13.72-33.244*i+68.612*i**2-65.3*i**3-1.653*i**4+.3343*i**5-.012125*i**6+1348e-7*i**7-175e-8*i**8}const r=(n-1820)/100;return-20+32*r*r}function uW(e){const t=Math.floor(e+.5),n=e+.5-t;let r=t;if(t>=2299161){const m=Math.floor((t-186721625e-2)/36524.25);r=t+1+m-Math.floor(m/4)}const i=r+1524,a=Math.floor((i-122.1)/365.25),o=Math.floor(365.25*a),l=Math.floor((i-o)/30.6001),u=i-o-Math.floor(30.6001*l)+n;let d=l-1;d>12&&(d-=12);let h=a-4715;return d>2&&(h-=1),[h,d,u]}const Lm=Math.PI,fu=Lm/180,dW=180/Lm,fW=86400;function hW(e){return e%=360,e<0?e+360:e}function mW(e,t){return(e-t+540)%360-180}function TM(e,t){for(;e-t>180;)e-=360;for(;e-t<-180;)e+=360;return e}function pW(e){const[t,n]=uW(e);return e+cW(t,Math.round(n))/fW}function AM(e,t){let n=0,r=1;for(let i=0;i<e.length;i++){let a=0;for(const[o,l,u]of e[i])a+=o*Math.cos(l+u*t);n+=a*r,r*=t}return n*1e-8}function gW(e){const t=(e-2451545)/36525,n=(297.85036+445267.11148*t-.0019142*t*t+t*t*t/189474)*fu,r=(357.52772+35999.05034*t-1603e-7*t*t-t*t*t/3e5)*fu,i=(134.96298+477198.867398*t+.0086972*t*t+t*t*t/56250)*fu,a=(93.27191+483202.017538*t-.0036825*t*t+t*t*t/327270)*fu,o=(125.04452-1934.136261*t+.0020708*t*t+t*t*t/45e4)*fu,l=[[0,0,0,0,1,-171996,-174.2,92025,8.9],[0,0,2,-2,2,-13187,-1.6,5736,-3.1],[0,0,2,0,2,-2274,-.2,977,-.5],[0,0,0,0,2,2062,.2,-895,.5],[0,1,0,0,0,1426,-3.4,54,-.1],[1,0,0,0,0,712,.1,-7,0],[0,1,2,-2,2,-517,1.2,224,-.6],[0,0,2,0,1,-386,-.4,200,0],[1,0,2,0,2,-301,0,129,-.1],[0,-1,2,-2,2,217,-.5,-95,.3]];let u=0,d=0;for(const[h,m,b,y,k,w,_,j,O]of l){const T=h*n+m*r+b*i+y*a+k*o;u+=(w+_*t)*Math.sin(T),d+=(j+O*t)*Math.cos(T)}return u*=1e-4,d*=1e-4,{dpsi:u,deps:d}}function $g(e){const t=pW(e),n=(t-2451545)/365250,r=AM(NM.L,n),i=AM(NM.R,n);let a=r+Lm;a>2*Lm&&(a-=2*Lm);const{dpsi:o}=gW(t),l=o/3600*fu,u=20.4898/(3600*i),d=a+l-u*fu;return hW(d*dW)}function bn(e,t,n){const r=(t%360+360)%360,i=oW(e,1,1),a=$g(i);let o=r-a;o<0&&(o+=360);let l=i+o/.98564736;const u=1e-6,d=5e-6;for(let b=0;b<25;b++){const y=$g(l),k=mW(r,y);if(Math.abs(k)<u)break;const w=$g(l+d),_=$g(l-d),j=TM(w,y),O=TM(_,y),T=(j-O)/(2*d);l+=k/T}const h=lW(l),m=new Date(h.getFullYear(),h.getMonth(),h.getDate(),h.getHours(),h.getMinutes(),0,0);if(Number.isFinite(n)){const b=n/15-9;if(Math.abs(b)>1e-12)return new Date(m.getTime()+b*36e5)}return m}const NM={L:[[[175347046,0,0],[3341656,4.6692568,6283.07585],[34894,4.6261,12566.1517],[3497,2.7441,5753.3849],[3418,2.8289,3.5231],[3136,3.6277,77713.7715],[2676,4.4181,7860.4194],[2343,6.1352,3930.2097],[1324,.7425,11506.7698],[1273,2.0371,529.691],[1199,1.1096,1577.3435],[990,5.233,5884.927],[902,2.045,26.298],[857,3.508,398.149],[780,1.179,5223.694],[753,2.533,5507.553],[505,4.583,18849.228],[492,4.205,775.523],[357,2.92,.067],[317,5.849,11790.629]],[[628331966747,0,0],[206059,2.678235,6283.07585],[4303,2.6351,12566.1517],[425,1.59,3.523],[119,5.796,26.298],[109,2.966,1577.344],[93,2.59,18849.23],[72,1.14,529.69],[68,1.87,398.15],[67,4.41,5507.55],[59,2.89,5223.69],[56,2.17,155.42]],[[52919,0,0],[8720,1.0721,6283.0758],[309,.867,12566.152]],[[289,5.844,6283.076],[35,0,0]],[[114,3.142,0],[8,4.13,6283.08]],[[1,3.14,0]]],R:[[[100013989,0,0],[1670700,3.0984635,6283.07585],[13956,3.05525,12566.1517],[3084,5.1985,77713.7715],[1628,1.1739,5753.3849],[1576,2.8469,7860.4194],[925,5.453,11506.77],[542,4.564,3930.21],[472,3.661,5884.927],[346,.964,5507.553],[329,5.9,5223.694]],[[103019,1.10749,6283.07585],[1721,1.0644,12566.1517],[702,3.142,0],[32,1.02,18849.23]],[[4359,5.7846,6283.0758],[124,5.579,12566.152],[12,3.14,0]],[[145,4.273,6283.076]]]},bW=(e,t)=>(e%t+t)%t,mj=(e,t)=>(e%t+t)%t,q5=e=>e instanceof Date&&!Number.isNaN(e.getTime()),OM=new Map;function K5(e,t=127.5){const n=`${e}@${t}`,r=OM.get(n);if(r)return r;const i=bn(e,315,t);if(!i)throw new Error(`    : year=${e}, lon=${t}`);return OM.set(n,i),i}function W5(e,t=127.5){if(!q5(e))throw new Error("resolveYearIndex: invalid date");const n=e.getFullYear(),r=K5(n,t),i=e<r?n-1:n,a=bW(i-4,60);return{useYear:i,index60Num:a}}const ti=["","","","","","","","","",""],ki=["","","","","","","","","","","",""],Xk={:["","","","","","","","","",""],:["","","","","","","","","","","",""]},ho={:["","","","","","","","","",""],:["","","","","","","","","","","",""]},yW=["","","","","","","","","",""],vW=["","","","","","","","","","","",""],xW=["","","","","","","","","","","","","","","","","","","",""],wW=["","","","","","","","","","","","","","","","","","","","","","","",""],cf=new Set(ti),Gm=new Set(ki),Jn={:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},ar={:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},Ym=["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],hy=[{branch:"",hanja:"",start:1380,end:60},{branch:"",hanja:"",start:60,end:180},{branch:"",hanja:"",start:180,end:300},{branch:"",hanja:"",start:300,end:420},{branch:"",hanja:"",start:420,end:540},{branch:"",hanja:"",start:540,end:660},{branch:"",hanja:"",start:660,end:780},{branch:"",hanja:"",start:780,end:900},{branch:"",hanja:"",start:900,end:1020},{branch:"",hanja:"",start:1020,end:1140},{branch:"",hanja:"",start:1140,end:1260},{branch:"",hanja:"",start:1260,end:1380}],_W={:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}},SW={:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}};function ut(e,t=127.5){const{index60Num:n}=W5(e,t);return Ym[n]}function kW(e,t=127.5){return(ut(e,t)||"").charAt(0)}const EW=[2,4,6,8,0,2,4,6,8,0];function jW(e,t=127.5){const n=new Array(12);return n[0]=K5(e,t),n[1]=bn(e,345,t),n[2]=bn(e,15,t),n[3]=bn(e,45,t),n[4]=bn(e,75,t),n[5]=bn(e,105,t),n[6]=bn(e,135,t),n[7]=bn(e,165,t),n[8]=bn(e,195,t),n[9]=bn(e,225,t),n[10]=bn(e,255,t),n[11]=bn(e+1,285,t),n.map(r=>new Date(r.getTime()+1800*1e3))}function TW(e,t=127.5){const{useYear:n}=W5(e,t),r=jW(n,t);let i=0;for(let o=0;o<12;o+=1)e>=r[o]&&(i=o);return{monthIndex:i+1,useYear:n,boundaries:r}}function AW(e,t=127.5){const n=kW(e,t),r=Xk..indexOf(n);if(r<0)throw new Error(`resolveFirstMonthStemIdx: invalid year stem "${n}"`);return EW[r]}function NW(e,t,n=127.5){return(AW(e,n)+(t-1))%10}function Ot(e,t=127.5){if(!q5(e))return"";const{monthIndex:n}=TW(e,t),r=(2+(n-1))%12,i=Xk.[r],a=NW(e,n,t);return Xk.[a]+i}const my={JDN:2445731,idx:0};function V5(e,t,n,r=0,i=0,a=0){t<=2&&(e-=1,t+=12);const o=Math.floor(e/100),l=2-o+Math.floor(o/4),u=(r+i/60+a/3600)/24;return Math.floor(365.25*(e+4716))+Math.floor(30.6001*(t+1))+n+u+l-1524.5}function OW(e,t){const n=e.getHours(),r=e.getMinutes(),i=n*60+r,a=DW(e);return t===""&&a===""?i>=1380?1:0:t===""&&(a===""||a==="")?i<180?-1:0:(i<0,0)}function CW(e,t){const r=e.getHours()*60+e.getMinutes();return t===""?r>=1380?1:0:t===""&&r<180?-1:0}function gt(e,t){const n=OW(e,t),r=new Date(e.getTime());r.setDate(r.getDate()+n);const i=V5(r.getFullYear(),r.getMonth()+1,r.getDate(),r.getHours(),r.getMinutes()),a=Math.floor(i+.5),o=mj(a-my.JDN+my.idx,60),l=Ym[o];if(!l)throw new Error(`getDayGanZhi: idx=${o} out of range (jdn=${a}, jd=${i})`);return l}function io(e,t){if(!e)return e;const n=Ym.indexOf(e);return n<0?e:Ym[mj(n+t,60)]??e}function MW(e,t){const n=new Date(e),r=CW(n,t),i=new Date(e.getTime());i.setDate(i.getDate()+r);const a=V5(i.getFullYear(),i.getMonth()+1,i.getDate(),i.getHours(),i.getMinutes()),o=Math.floor(a+.5),l=mj(o-my.JDN+my.idx,60),u=Ym[l];if(!u)throw new Error(`getDayGanZhi: idx=${l} out of range (jdn=${o}, jd=${a})`);return u}function DW(e){e instanceof Date||(e=new Date(e));const t=e.getHours()*60+e.getMinutes();for(let n=0;n<hy.length;n+=1){const{branch:r,start:i,end:a}=hy[n];if(i<a){if(t>=i&&t<a)return r}else if(t>=i||t<a)return r}return""}function PW(e){e instanceof Date||(e=new Date(e));const t=e.getHours()*60+e.getMinutes();for(let n=0;n<hy.length;n+=1){const{branch:r,start:i,end:a}=hy[n];if(i<a){if(t>=i&&t<a)return r}else if(t>=i||t<a)return r}return""}function RW(e,t,n,r){const i=ti.indexOf(t);if(i<0)return"";let a=(i%5*2+n)%10;const o=e.getHours();return(r===""||r==="/"&&o>=3)&&(n===0||n===1)&&(a=(a+2)%10),ti[a]}function ao(e,t,n){e instanceof Date||(e=new Date(e));const r=PW(e),i=ki.indexOf(r),o=(n??gt(e,t)).charAt(0);return RW(e,o,i,t)+r}const CM=e=>{let t;const n=new Set,r=(d,h)=>{const m=typeof d=="function"?d(t):d;if(!Object.is(m,t)){const b=t;t=h??(typeof m!="object"||m===null)?m:Object.assign({},t,m),n.forEach(y=>y(t,b))}},i=()=>t,l={setState:r,getState:i,getInitialState:()=>u,subscribe:d=>(n.add(d),()=>n.delete(d))},u=t=e(r,i,l);return l},LW=(e=>e?CM(e):CM),IW=e=>e;function $W(e,t=IW){const n=on.useSyncExternalStore(e.subscribe,on.useCallback(()=>t(e.getState()),[e,t]),on.useCallback(()=>t(e.getInitialState()),[e,t]));return on.useDebugValue(n),n}const MM=e=>{const t=LW(e),n=r=>$W(t,r);return Object.assign(n,t),n},Zo=(e=>e?MM(e):MM);function BW(e,t){let n;try{n=e()}catch{return}return{getItem:i=>{var a;const o=u=>u===null?null:JSON.parse(u,void 0),l=(a=n.getItem(i))!=null?a:null;return l instanceof Promise?l.then(o):o(l)},setItem:(i,a)=>n.setItem(i,JSON.stringify(a,void 0)),removeItem:i=>n.removeItem(i)}}const Jk=e=>t=>{try{const n=e(t);return n instanceof Promise?n:{then(r){return Jk(r)(n)},catch(r){return this}}}catch(n){return{then(r){return this},catch(r){return Jk(r)(n)}}}},zW=(e,t)=>(n,r,i)=>{let a={storage:BW(()=>localStorage),partialize:w=>w,version:0,merge:(w,_)=>({..._,...w}),...t},o=!1;const l=new Set,u=new Set;let d=a.storage;if(!d)return e((...w)=>{console.warn(`[zustand persist middleware] Unable to update item '${a.name}', the given storage is currently unavailable.`),n(...w)},r,i);const h=()=>{const w=a.partialize({...r()});return d.setItem(a.name,{state:w,version:a.version})},m=i.setState;i.setState=(w,_)=>(m(w,_),h());const b=e((...w)=>(n(...w),h()),r,i);i.getInitialState=()=>b;let y;const k=()=>{var w,_;if(!d)return;o=!1,l.forEach(O=>{var T;return O((T=r())!=null?T:b)});const j=((_=a.onRehydrateStorage)==null?void 0:_.call(a,(w=r())!=null?w:b))||void 0;return Jk(d.getItem.bind(d))(a.name).then(O=>{if(O)if(typeof O.version=="number"&&O.version!==a.version){if(a.migrate){const T=a.migrate(O.state,O.version);return T instanceof Promise?T.then(C=>[!0,C]):[!0,T]}console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return[!1,O.state];return[!1,void 0]}).then(O=>{var T;const[C,M]=O;if(y=a.merge(M,(T=r())!=null?T:b),n(y,!0),C)return h()}).then(()=>{j?.(y,void 0),y=r(),o=!0,u.forEach(O=>O(y))}).catch(O=>{j?.(void 0,O)})};return i.persist={setOptions:w=>{a={...a,...w},w.storage&&(d=w.storage)},clearStorage:()=>{d?.removeItem(a.name)},getOptions:()=>a,rehydrate:()=>k(),hasHydrated:()=>o,onHydrate:w=>(l.add(w),()=>{l.delete(w)}),onFinishHydration:w=>(u.add(w),()=>{u.delete(w)})},a.skipHydration||k(),y||b},Z5=zW;var ws={},Bg={},Qk=function(e,t){return Qk=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(n[i]=r[i])},Qk(e,t)};function X5(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");Qk(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}var py=function(){return py=Object.assign||function(t){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(t[a]=n[a])}return t},py.apply(this,arguments)};function Nf(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n}function J5(e,t,n,r){var i=arguments.length,a=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,n):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")a=Reflect.decorate(e,t,n,r);else for(var l=e.length-1;l>=0;l--)(o=e[l])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a}function Q5(e,t){return function(n,r){t(n,r,e)}}function eB(e,t,n,r,i,a){function o(j){if(j!==void 0&&typeof j!="function")throw new TypeError("Function expected");return j}for(var l=r.kind,u=l==="getter"?"get":l==="setter"?"set":"value",d=!t&&e?r.static?e:e.prototype:null,h=t||(d?Object.getOwnPropertyDescriptor(d,r.name):{}),m,b=!1,y=n.length-1;y>=0;y--){var k={};for(var w in r)k[w]=w==="access"?{}:r[w];for(var w in r.access)k.access[w]=r.access[w];k.addInitializer=function(j){if(b)throw new TypeError("Cannot add initializers after decoration has completed");a.push(o(j||null))};var _=(0,n[y])(l==="accessor"?{get:h.get,set:h.set}:h[u],k);if(l==="accessor"){if(_===void 0)continue;if(_===null||typeof _!="object")throw new TypeError("Object expected");(m=o(_.get))&&(h.get=m),(m=o(_.set))&&(h.set=m),(m=o(_.init))&&i.unshift(m)}else(m=o(_))&&(l==="field"?i.unshift(m):h[u]=m)}d&&Object.defineProperty(d,r.name,h),b=!0}function tB(e,t,n){for(var r=arguments.length>2,i=0;i<t.length;i++)n=r?t[i].call(e,n):t[i].call(e);return r?n:void 0}function nB(e){return typeof e=="symbol"?e:"".concat(e)}function rB(e,t,n){return typeof t=="symbol"&&(t=t.description?"[".concat(t.description,"]"):""),Object.defineProperty(e,"name",{configurable:!0,value:n?"".concat(n," ",t):t})}function iB(e,t){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(e,t)}function qe(e,t,n,r){function i(a){return a instanceof n?a:new n(function(o){o(a)})}return new(n||(n=Promise))(function(a,o){function l(h){try{d(r.next(h))}catch(m){o(m)}}function u(h){try{d(r.throw(h))}catch(m){o(m)}}function d(h){h.done?a(h.value):i(h.value).then(l,u)}d((r=r.apply(e,t||[])).next())})}function aB(e,t){var n={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},r,i,a,o=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return o.next=l(0),o.throw=l(1),o.return=l(2),typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function l(d){return function(h){return u([d,h])}}function u(d){if(r)throw new TypeError("Generator is already executing.");for(;o&&(o=0,d[0]&&(n=0)),n;)try{if(r=1,i&&(a=d[0]&2?i.return:d[0]?i.throw||((a=i.return)&&a.call(i),0):i.next)&&!(a=a.call(i,d[1])).done)return a;switch(i=0,a&&(d=[d[0]&2,a.value]),d[0]){case 0:case 1:a=d;break;case 4:return n.label++,{value:d[1],done:!1};case 5:n.label++,i=d[1],d=[0];continue;case 7:d=n.ops.pop(),n.trys.pop();continue;default:if(a=n.trys,!(a=a.length>0&&a[a.length-1])&&(d[0]===6||d[0]===2)){n=0;continue}if(d[0]===3&&(!a||d[1]>a[0]&&d[1]<a[3])){n.label=d[1];break}if(d[0]===6&&n.label<a[1]){n.label=a[1],a=d;break}if(a&&n.label<a[2]){n.label=a[2],n.ops.push(d);break}a[2]&&n.ops.pop(),n.trys.pop();continue}d=t.call(e,n)}catch(h){d=[6,h],i=0}finally{r=a=0}if(d[0]&5)throw d[1];return{value:d[0]?d[1]:void 0,done:!0}}}var Qv=Object.create?(function(e,t,n,r){r===void 0&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}):(function(e,t,n,r){r===void 0&&(r=n),e[r]=t[n]});function oB(e,t){for(var n in e)n!=="default"&&!Object.prototype.hasOwnProperty.call(t,n)&&Qv(t,e,n)}function gy(e){var t=typeof Symbol=="function"&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function pj(e,t){var n=typeof Symbol=="function"&&e[Symbol.iterator];if(!n)return e;var r=n.call(e),i,a=[],o;try{for(;(t===void 0||t-- >0)&&!(i=r.next()).done;)a.push(i.value)}catch(l){o={error:l}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(o)throw o.error}}return a}function sB(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(pj(arguments[t]));return e}function lB(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;for(var r=Array(e),i=0,t=0;t<n;t++)for(var a=arguments[t],o=0,l=a.length;o<l;o++,i++)r[i]=a[o];return r}function cB(e,t,n){if(n||arguments.length===2)for(var r=0,i=t.length,a;r<i;r++)(a||!(r in t))&&(a||(a=Array.prototype.slice.call(t,0,r)),a[r]=t[r]);return e.concat(a||Array.prototype.slice.call(t))}function uf(e){return this instanceof uf?(this.v=e,this):new uf(e)}function uB(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(e,t||[]),i,a=[];return i=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),l("next"),l("throw"),l("return",o),i[Symbol.asyncIterator]=function(){return this},i;function o(y){return function(k){return Promise.resolve(k).then(y,m)}}function l(y,k){r[y]&&(i[y]=function(w){return new Promise(function(_,j){a.push([y,w,_,j])>1||u(y,w)})},k&&(i[y]=k(i[y])))}function u(y,k){try{d(r[y](k))}catch(w){b(a[0][3],w)}}function d(y){y.value instanceof uf?Promise.resolve(y.value.v).then(h,m):b(a[0][2],y)}function h(y){u("next",y)}function m(y){u("throw",y)}function b(y,k){y(k),a.shift(),a.length&&u(a[0][0],a[0][1])}}function dB(e){var t,n;return t={},r("next"),r("throw",function(i){throw i}),r("return"),t[Symbol.iterator]=function(){return this},t;function r(i,a){t[i]=e[i]?function(o){return(n=!n)?{value:uf(e[i](o)),done:!1}:a?a(o):o}:a}}function fB(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t=e[Symbol.asyncIterator],n;return t?t.call(e):(e=typeof gy=="function"?gy(e):e[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(a){n[a]=e[a]&&function(o){return new Promise(function(l,u){o=e[a](o),i(l,u,o.done,o.value)})}}function i(a,o,l,u){Promise.resolve(u).then(function(d){a({value:d,done:l})},o)}}function hB(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e}var UW=Object.create?(function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}):function(e,t){e.default=t},eE=function(e){return eE=Object.getOwnPropertyNames||function(t){var n=[];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[n.length]=r);return n},eE(e)};function mB(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var n=eE(e),r=0;r<n.length;r++)n[r]!=="default"&&Qv(t,e,n[r]);return UW(t,e),t}function pB(e){return e&&e.__esModule?e:{default:e}}function gB(e,t,n,r){if(n==="a"&&!r)throw new TypeError("Private accessor was defined without a getter");if(typeof t=="function"?e!==t||!r:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?r:n==="a"?r.call(e):r?r.value:t.get(e)}function bB(e,t,n,r,i){if(r==="m")throw new TypeError("Private method is not writable");if(r==="a"&&!i)throw new TypeError("Private accessor was defined without a setter");if(typeof t=="function"?e!==t||!i:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return r==="a"?i.call(e,n):i?i.value=n:t.set(e,n),n}function yB(e,t){if(t===null||typeof t!="object"&&typeof t!="function")throw new TypeError("Cannot use 'in' operator on non-object");return typeof e=="function"?t===e:e.has(t)}function vB(e,t,n){if(t!=null){if(typeof t!="object"&&typeof t!="function")throw new TypeError("Object expected.");var r,i;if(n){if(!Symbol.asyncDispose)throw new TypeError("Symbol.asyncDispose is not defined.");r=t[Symbol.asyncDispose]}if(r===void 0){if(!Symbol.dispose)throw new TypeError("Symbol.dispose is not defined.");r=t[Symbol.dispose],n&&(i=r)}if(typeof r!="function")throw new TypeError("Object not disposable.");i&&(r=function(){try{i.call(this)}catch(a){return Promise.reject(a)}}),e.stack.push({value:t,dispose:r,async:n})}else n&&e.stack.push({async:!0});return t}var FW=typeof SuppressedError=="function"?SuppressedError:function(e,t,n){var r=new Error(n);return r.name="SuppressedError",r.error=e,r.suppressed=t,r};function xB(e){function t(a){e.error=e.hasError?new FW(a,e.error,"An error was suppressed during disposal."):a,e.hasError=!0}var n,r=0;function i(){for(;n=e.stack.pop();)try{if(!n.async&&r===1)return r=0,e.stack.push(n),Promise.resolve().then(i);if(n.dispose){var a=n.dispose.call(n.value);if(n.async)return r|=2,Promise.resolve(a).then(i,function(o){return t(o),i()})}else r|=1}catch(o){t(o)}if(r===1)return e.hasError?Promise.reject(e.error):Promise.resolve();if(e.hasError)throw e.error}return i()}function wB(e,t){return typeof e=="string"&&/^\.\.?\//.test(e)?e.replace(/\.(tsx)$|((?:\.d)?)((?:\.[^./]+?)?)\.([cm]?)ts$/i,function(n,r,i,a,o){return r?t?".jsx":".js":i&&(!a||!o)?n:i+a+"."+o.toLowerCase()+"js"}):e}const HW={__extends:X5,__assign:py,__rest:Nf,__decorate:J5,__param:Q5,__esDecorate:eB,__runInitializers:tB,__propKey:nB,__setFunctionName:rB,__metadata:iB,__awaiter:qe,__generator:aB,__createBinding:Qv,__exportStar:oB,__values:gy,__read:pj,__spread:sB,__spreadArrays:lB,__spreadArray:cB,__await:uf,__asyncGenerator:uB,__asyncDelegator:dB,__asyncValues:fB,__makeTemplateObject:hB,__importStar:mB,__importDefault:pB,__classPrivateFieldGet:gB,__classPrivateFieldSet:bB,__classPrivateFieldIn:yB,__addDisposableResource:vB,__disposeResources:xB,__rewriteRelativeImportExtension:wB},GW=Object.freeze(Object.defineProperty({__proto__:null,__addDisposableResource:vB,get __assign(){return py},__asyncDelegator:dB,__asyncGenerator:uB,__asyncValues:fB,__await:uf,__awaiter:qe,__classPrivateFieldGet:gB,__classPrivateFieldIn:yB,__classPrivateFieldSet:bB,__createBinding:Qv,__decorate:J5,__disposeResources:xB,__esDecorate:eB,__exportStar:oB,__extends:X5,__generator:aB,__importDefault:pB,__importStar:mB,__makeTemplateObject:hB,__metadata:iB,__param:Q5,__propKey:nB,__read:pj,__rest:Nf,__rewriteRelativeImportExtension:wB,__runInitializers:tB,__setFunctionName:rB,__spread:sB,__spreadArray:cB,__spreadArrays:lB,__values:gy,default:HW},Symbol.toStringTag,{value:"Module"})),YW=e=>e?(...t)=>e(...t):(...t)=>fetch(...t);let ex=class extends Error{constructor(t,n="FunctionsError",r){super(t),this.name=n,this.context=r}},_B=class extends ex{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}},tE=class extends ex{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}},nE=class extends ex{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}};var by;(function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"})(by||(by={}));class qW{constructor(t,{headers:n={},customFetch:r,region:i=by.Any}={}){this.url=t,this.headers=n,this.region=i,this.fetch=YW(r)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t){return qe(this,arguments,void 0,function*(n,r={}){var i;let a,o;try{const{headers:l,method:u,body:d,signal:h,timeout:m}=r;let b={},{region:y}=r;y||(y=this.region);const k=new URL(`${this.url}/${n}`);y&&y!=="any"&&(b["x-region"]=y,k.searchParams.set("forceFunctionRegion",y));let w;d&&(l&&!Object.prototype.hasOwnProperty.call(l,"Content-Type")||!l)?typeof Blob<"u"&&d instanceof Blob||d instanceof ArrayBuffer?(b["Content-Type"]="application/octet-stream",w=d):typeof d=="string"?(b["Content-Type"]="text/plain",w=d):typeof FormData<"u"&&d instanceof FormData?w=d:(b["Content-Type"]="application/json",w=JSON.stringify(d)):w=d;let _=h;m&&(o=new AbortController,a=setTimeout(()=>o.abort(),m),h?(_=o.signal,h.addEventListener("abort",()=>o.abort())):_=o.signal);const j=yield this.fetch(k.toString(),{method:u||"POST",headers:Object.assign(Object.assign(Object.assign({},b),this.headers),l),body:w,signal:_}).catch(M=>{throw new _B(M)}),O=j.headers.get("x-relay-error");if(O&&O==="true")throw new tE(j);if(!j.ok)throw new nE(j);let T=((i=j.headers.get("Content-Type"))!==null&&i!==void 0?i:"text/plain").split(";")[0].trim(),C;return T==="application/json"?C=yield j.json():T==="application/octet-stream"||T==="application/pdf"?C=yield j.blob():T==="text/event-stream"?C=j:T==="multipart/form-data"?C=yield j.formData():C=yield j.text(),{data:C,error:null,response:j}}catch(l){return{data:null,error:l,response:l instanceof nE||l instanceof tE?l.context:void 0}}finally{a&&clearTimeout(a)}})}}const KW=Object.freeze(Object.defineProperty({__proto__:null,get FunctionRegion(){return by},FunctionsClient:qW,FunctionsError:ex,FunctionsFetchError:_B,FunctionsHttpError:nE,FunctionsRelayError:tE},Symbol.toStringTag,{value:"Module"})),SB=Tp(KW);var Fr={};const Of=Tp(GW);var zg={},Ug={},Fg={},Hg={},Gg={},Yg={},DM;function kB(){if(DM)return Yg;DM=1,Object.defineProperty(Yg,"__esModule",{value:!0});class e extends Error{constructor(n){super(n.message),this.name="PostgrestError",this.details=n.details,this.hint=n.hint,this.code=n.code}}return Yg.default=e,Yg}var PM;function EB(){if(PM)return Gg;PM=1,Object.defineProperty(Gg,"__esModule",{value:!0});const t=Of.__importDefault(kB());let n=class{constructor(i){var a,o;this.shouldThrowOnError=!1,this.method=i.method,this.url=i.url,this.headers=new Headers(i.headers),this.schema=i.schema,this.body=i.body,this.shouldThrowOnError=(a=i.shouldThrowOnError)!==null&&a!==void 0?a:!1,this.signal=i.signal,this.isMaybeSingle=(o=i.isMaybeSingle)!==null&&o!==void 0?o:!1,i.fetch?this.fetch=i.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(i,a){return this.headers=new Headers(this.headers),this.headers.set(i,a),this}then(i,a){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const o=this.fetch;let l=o(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async u=>{var d,h,m,b;let y=null,k=null,w=null,_=u.status,j=u.statusText;if(u.ok){if(this.method!=="HEAD"){const M=await u.text();M===""||(this.headers.get("Accept")==="text/csv"||this.headers.get("Accept")&&(!((d=this.headers.get("Accept"))===null||d===void 0)&&d.includes("application/vnd.pgrst.plan+text"))?k=M:k=JSON.parse(M))}const T=(h=this.headers.get("Prefer"))===null||h===void 0?void 0:h.match(/count=(exact|planned|estimated)/),C=(m=u.headers.get("content-range"))===null||m===void 0?void 0:m.split("/");T&&C&&C.length>1&&(w=parseInt(C[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(k)&&(k.length>1?(y={code:"PGRST116",details:`Results contain ${k.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},k=null,w=null,_=406,j="Not Acceptable"):k.length===1?k=k[0]:k=null)}else{const T=await u.text();try{y=JSON.parse(T),Array.isArray(y)&&u.status===404&&(k=[],y=null,_=200,j="OK")}catch{u.status===404&&T===""?(_=204,j="No Content"):y={message:T}}if(y&&this.isMaybeSingle&&(!((b=y?.details)===null||b===void 0)&&b.includes("0 rows"))&&(y=null,_=200,j="OK"),y&&this.shouldThrowOnError)throw new t.default(y)}return{error:y,data:k,count:w,status:_,statusText:j}});return this.shouldThrowOnError||(l=l.catch(u=>{var d,h,m,b,y,k;let w="";const _=u?.cause;if(_){const j=(d=_?.message)!==null&&d!==void 0?d:"",O=(h=_?.code)!==null&&h!==void 0?h:"";w=`${(m=u?.name)!==null&&m!==void 0?m:"FetchError"}: ${u?.message}`,w+=`

Caused by: ${(b=_?.name)!==null&&b!==void 0?b:"Error"}: ${j}`,O&&(w+=` (${O})`),_?.stack&&(w+=`
${_.stack}`)}else w=(y=u?.stack)!==null&&y!==void 0?y:"";return{error:{message:`${(k=u?.name)!==null&&k!==void 0?k:"FetchError"}: ${u?.message}`,details:w,hint:"",code:""},data:null,count:null,status:0,statusText:""}})),l.then(i,a)}returns(){return this}overrideTypes(){return this}};return Gg.default=n,Gg}var RM;function jB(){if(RM)return Hg;RM=1,Object.defineProperty(Hg,"__esModule",{value:!0});const t=Of.__importDefault(EB());let n=class extends t.default{select(i){let a=!1;const o=(i??"*").split("").map(l=>/\s/.test(l)&&!a?"":(l==='"'&&(a=!a),l)).join("");return this.url.searchParams.set("select",o),this.headers.append("Prefer","return=representation"),this}order(i,{ascending:a=!0,nullsFirst:o,foreignTable:l,referencedTable:u=l}={}){const d=u?`${u}.order`:"order",h=this.url.searchParams.get(d);return this.url.searchParams.set(d,`${h?`${h},`:""}${i}.${a?"asc":"desc"}${o===void 0?"":o?".nullsfirst":".nullslast"}`),this}limit(i,{foreignTable:a,referencedTable:o=a}={}){const l=typeof o>"u"?"limit":`${o}.limit`;return this.url.searchParams.set(l,`${i}`),this}range(i,a,{foreignTable:o,referencedTable:l=o}={}){const u=typeof l>"u"?"offset":`${l}.offset`,d=typeof l>"u"?"limit":`${l}.limit`;return this.url.searchParams.set(u,`${i}`),this.url.searchParams.set(d,`${a-i+1}`),this}abortSignal(i){return this.signal=i,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:i=!1,verbose:a=!1,settings:o=!1,buffers:l=!1,wal:u=!1,format:d="text"}={}){var h;const m=[i?"analyze":null,a?"verbose":null,o?"settings":null,l?"buffers":null,u?"wal":null].filter(Boolean).join("|"),b=(h=this.headers.get("Accept"))!==null&&h!==void 0?h:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${d}; for="${b}"; options=${m};`),d==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(i){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${i}`),this}};return Hg.default=n,Hg}var LM;function gj(){if(LM)return Fg;LM=1,Object.defineProperty(Fg,"__esModule",{value:!0});const t=Of.__importDefault(jB()),n=new RegExp("[,()]");let r=class extends t.default{eq(a,o){return this.url.searchParams.append(a,`eq.${o}`),this}neq(a,o){return this.url.searchParams.append(a,`neq.${o}`),this}gt(a,o){return this.url.searchParams.append(a,`gt.${o}`),this}gte(a,o){return this.url.searchParams.append(a,`gte.${o}`),this}lt(a,o){return this.url.searchParams.append(a,`lt.${o}`),this}lte(a,o){return this.url.searchParams.append(a,`lte.${o}`),this}like(a,o){return this.url.searchParams.append(a,`like.${o}`),this}likeAllOf(a,o){return this.url.searchParams.append(a,`like(all).{${o.join(",")}}`),this}likeAnyOf(a,o){return this.url.searchParams.append(a,`like(any).{${o.join(",")}}`),this}ilike(a,o){return this.url.searchParams.append(a,`ilike.${o}`),this}ilikeAllOf(a,o){return this.url.searchParams.append(a,`ilike(all).{${o.join(",")}}`),this}ilikeAnyOf(a,o){return this.url.searchParams.append(a,`ilike(any).{${o.join(",")}}`),this}regexMatch(a,o){return this.url.searchParams.append(a,`match.${o}`),this}regexIMatch(a,o){return this.url.searchParams.append(a,`imatch.${o}`),this}is(a,o){return this.url.searchParams.append(a,`is.${o}`),this}isDistinct(a,o){return this.url.searchParams.append(a,`isdistinct.${o}`),this}in(a,o){const l=Array.from(new Set(o)).map(u=>typeof u=="string"&&n.test(u)?`"${u}"`:`${u}`).join(",");return this.url.searchParams.append(a,`in.(${l})`),this}contains(a,o){return typeof o=="string"?this.url.searchParams.append(a,`cs.${o}`):Array.isArray(o)?this.url.searchParams.append(a,`cs.{${o.join(",")}}`):this.url.searchParams.append(a,`cs.${JSON.stringify(o)}`),this}containedBy(a,o){return typeof o=="string"?this.url.searchParams.append(a,`cd.${o}`):Array.isArray(o)?this.url.searchParams.append(a,`cd.{${o.join(",")}}`):this.url.searchParams.append(a,`cd.${JSON.stringify(o)}`),this}rangeGt(a,o){return this.url.searchParams.append(a,`sr.${o}`),this}rangeGte(a,o){return this.url.searchParams.append(a,`nxl.${o}`),this}rangeLt(a,o){return this.url.searchParams.append(a,`sl.${o}`),this}rangeLte(a,o){return this.url.searchParams.append(a,`nxr.${o}`),this}rangeAdjacent(a,o){return this.url.searchParams.append(a,`adj.${o}`),this}overlaps(a,o){return typeof o=="string"?this.url.searchParams.append(a,`ov.${o}`):this.url.searchParams.append(a,`ov.{${o.join(",")}}`),this}textSearch(a,o,{config:l,type:u}={}){let d="";u==="plain"?d="pl":u==="phrase"?d="ph":u==="websearch"&&(d="w");const h=l===void 0?"":`(${l})`;return this.url.searchParams.append(a,`${d}fts${h}.${o}`),this}match(a){return Object.entries(a).forEach(([o,l])=>{this.url.searchParams.append(o,`eq.${l}`)}),this}not(a,o,l){return this.url.searchParams.append(a,`not.${o}.${l}`),this}or(a,{foreignTable:o,referencedTable:l=o}={}){const u=l?`${l}.or`:"or";return this.url.searchParams.append(u,`(${a})`),this}filter(a,o,l){return this.url.searchParams.append(a,`${o}.${l}`),this}};return Fg.default=r,Fg}var IM;function TB(){if(IM)return Ug;IM=1,Object.defineProperty(Ug,"__esModule",{value:!0});const t=Of.__importDefault(gj());let n=class{constructor(i,{headers:a={},schema:o,fetch:l}){this.url=i,this.headers=new Headers(a),this.schema=o,this.fetch=l}select(i,a){const{head:o=!1,count:l}=a??{},u=o?"HEAD":"GET";let d=!1;const h=(i??"*").split("").map(m=>/\s/.test(m)&&!d?"":(m==='"'&&(d=!d),m)).join("");return this.url.searchParams.set("select",h),l&&this.headers.append("Prefer",`count=${l}`),new t.default({method:u,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(i,{count:a,defaultToNull:o=!0}={}){var l;const u="POST";if(a&&this.headers.append("Prefer",`count=${a}`),o||this.headers.append("Prefer","missing=default"),Array.isArray(i)){const d=i.reduce((h,m)=>h.concat(Object.keys(m)),[]);if(d.length>0){const h=[...new Set(d)].map(m=>`"${m}"`);this.url.searchParams.set("columns",h.join(","))}}return new t.default({method:u,url:this.url,headers:this.headers,schema:this.schema,body:i,fetch:(l=this.fetch)!==null&&l!==void 0?l:fetch})}upsert(i,{onConflict:a,ignoreDuplicates:o=!1,count:l,defaultToNull:u=!0}={}){var d;const h="POST";if(this.headers.append("Prefer",`resolution=${o?"ignore":"merge"}-duplicates`),a!==void 0&&this.url.searchParams.set("on_conflict",a),l&&this.headers.append("Prefer",`count=${l}`),u||this.headers.append("Prefer","missing=default"),Array.isArray(i)){const m=i.reduce((b,y)=>b.concat(Object.keys(y)),[]);if(m.length>0){const b=[...new Set(m)].map(y=>`"${y}"`);this.url.searchParams.set("columns",b.join(","))}}return new t.default({method:h,url:this.url,headers:this.headers,schema:this.schema,body:i,fetch:(d=this.fetch)!==null&&d!==void 0?d:fetch})}update(i,{count:a}={}){var o;const l="PATCH";return a&&this.headers.append("Prefer",`count=${a}`),new t.default({method:l,url:this.url,headers:this.headers,schema:this.schema,body:i,fetch:(o=this.fetch)!==null&&o!==void 0?o:fetch})}delete({count:i}={}){var a;const o="DELETE";return i&&this.headers.append("Prefer",`count=${i}`),new t.default({method:o,url:this.url,headers:this.headers,schema:this.schema,fetch:(a=this.fetch)!==null&&a!==void 0?a:fetch})}};return Ug.default=n,Ug}var $M;function WW(){if($M)return zg;$M=1,Object.defineProperty(zg,"__esModule",{value:!0});const e=Of,t=e.__importDefault(TB()),n=e.__importDefault(gj());let r=class AB{constructor(a,{headers:o={},schema:l,fetch:u}={}){this.url=a,this.headers=new Headers(o),this.schemaName=l,this.fetch=u}from(a){if(!a||typeof a!="string"||a.trim()==="")throw new Error("Invalid relation name: relation must be a non-empty string.");const o=new URL(`${this.url}/${a}`);return new t.default(o,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(a){return new AB(this.url,{headers:this.headers,schema:a,fetch:this.fetch})}rpc(a,o={},{head:l=!1,get:u=!1,count:d}={}){var h;let m;const b=new URL(`${this.url}/rpc/${a}`);let y;l||u?(m=l?"HEAD":"GET",Object.entries(o).filter(([w,_])=>_!==void 0).map(([w,_])=>[w,Array.isArray(_)?`{${_.join(",")}}`:`${_}`]).forEach(([w,_])=>{b.searchParams.append(w,_)})):(m="POST",y=o);const k=new Headers(this.headers);return d&&k.set("Prefer",`count=${d}`),new n.default({method:m,url:b,headers:k,schema:this.schemaName,body:y,fetch:(h=this.fetch)!==null&&h!==void 0?h:fetch})}};return zg.default=r,zg}var BM;function NB(){if(BM)return Fr;BM=1,Object.defineProperty(Fr,"__esModule",{value:!0}),Fr.PostgrestError=Fr.PostgrestBuilder=Fr.PostgrestTransformBuilder=Fr.PostgrestFilterBuilder=Fr.PostgrestQueryBuilder=Fr.PostgrestClient=void 0;const e=Of,t=e.__importDefault(WW());Fr.PostgrestClient=t.default;const n=e.__importDefault(TB());Fr.PostgrestQueryBuilder=n.default;const r=e.__importDefault(gj());Fr.PostgrestFilterBuilder=r.default;const i=e.__importDefault(jB());Fr.PostgrestTransformBuilder=i.default;const a=e.__importDefault(EB());Fr.PostgrestBuilder=a.default;const o=e.__importDefault(kB());return Fr.PostgrestError=o.default,Fr.default={PostgrestClient:t.default,PostgrestQueryBuilder:n.default,PostgrestFilterBuilder:r.default,PostgrestTransformBuilder:i.default,PostgrestBuilder:a.default,PostgrestError:o.default},Fr}class OB{constructor(){}static detectEnvironment(){var t;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((t=navigator.userAgent)===null||t===void 0)&&t.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const n=process.versions;if(n&&n.node){const r=n.node,i=parseInt(r.replace(/^v/,"").split(".")[0]);return i>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${i} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${i} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const t=this.detectEnvironment();if(t.constructor)return t.constructor;let n=t.error||"WebSocket not supported in this environment.";throw t.workaround&&(n+=`

Suggested solution: ${t.workaround}`),new Error(n)}static createWebSocket(t,n){const r=this.getWebSocketConstructor();return new r(t,n)}static isWebSocketSupported(){try{const t=this.detectEnvironment();return t.type==="native"||t.type==="ws"}catch{return!1}}}const VW="2.86.2",ZW=`realtime-js/${VW}`,CB="1.0.0",XW="2.0.0",zM=CB,rE=1e4,JW=1e3,QW=100;var hu;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})(hu||(hu={}));var Wn;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})(Wn||(Wn={}));var Va;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})(Va||(Va={}));var iE;(function(e){e.websocket="websocket"})(iE||(iE={}));var mu;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})(mu||(mu={}));class eV{constructor(t){this.HEADER_LENGTH=1,this.USER_BROADCAST_PUSH_META_LENGTH=6,this.KINDS={userBroadcastPush:3,userBroadcast:4},this.BINARY_ENCODING=0,this.JSON_ENCODING=1,this.BROADCAST_EVENT="broadcast",this.allowedMetadataKeys=[],this.allowedMetadataKeys=t??[]}encode(t,n){if(t.event===this.BROADCAST_EVENT&&!(t.payload instanceof ArrayBuffer)&&typeof t.payload.event=="string")return n(this._binaryEncodeUserBroadcastPush(t));let r=[t.join_ref,t.ref,t.topic,t.event,t.payload];return n(JSON.stringify(r))}_binaryEncodeUserBroadcastPush(t){var n;return this._isArrayBuffer((n=t.payload)===null||n===void 0?void 0:n.payload)?this._encodeBinaryUserBroadcastPush(t):this._encodeJsonUserBroadcastPush(t)}_encodeBinaryUserBroadcastPush(t){var n,r;const i=(r=(n=t.payload)===null||n===void 0?void 0:n.payload)!==null&&r!==void 0?r:new ArrayBuffer(0);return this._encodeUserBroadcastPush(t,this.BINARY_ENCODING,i)}_encodeJsonUserBroadcastPush(t){var n,r;const i=(r=(n=t.payload)===null||n===void 0?void 0:n.payload)!==null&&r!==void 0?r:{},o=new TextEncoder().encode(JSON.stringify(i)).buffer;return this._encodeUserBroadcastPush(t,this.JSON_ENCODING,o)}_encodeUserBroadcastPush(t,n,r){var i,a;const o=t.topic,l=(i=t.ref)!==null&&i!==void 0?i:"",u=(a=t.join_ref)!==null&&a!==void 0?a:"",d=t.payload.event,h=this.allowedMetadataKeys?this._pick(t.payload,this.allowedMetadataKeys):{},m=Object.keys(h).length===0?"":JSON.stringify(h);if(u.length>255)throw new Error(`joinRef length ${u.length} exceeds maximum of 255`);if(l.length>255)throw new Error(`ref length ${l.length} exceeds maximum of 255`);if(o.length>255)throw new Error(`topic length ${o.length} exceeds maximum of 255`);if(d.length>255)throw new Error(`userEvent length ${d.length} exceeds maximum of 255`);if(m.length>255)throw new Error(`metadata length ${m.length} exceeds maximum of 255`);const b=this.USER_BROADCAST_PUSH_META_LENGTH+u.length+l.length+o.length+d.length+m.length,y=new ArrayBuffer(this.HEADER_LENGTH+b);let k=new DataView(y),w=0;k.setUint8(w++,this.KINDS.userBroadcastPush),k.setUint8(w++,u.length),k.setUint8(w++,l.length),k.setUint8(w++,o.length),k.setUint8(w++,d.length),k.setUint8(w++,m.length),k.setUint8(w++,n),Array.from(u,j=>k.setUint8(w++,j.charCodeAt(0))),Array.from(l,j=>k.setUint8(w++,j.charCodeAt(0))),Array.from(o,j=>k.setUint8(w++,j.charCodeAt(0))),Array.from(d,j=>k.setUint8(w++,j.charCodeAt(0))),Array.from(m,j=>k.setUint8(w++,j.charCodeAt(0)));var _=new Uint8Array(y.byteLength+r.byteLength);return _.set(new Uint8Array(y),0),_.set(new Uint8Array(r),y.byteLength),_.buffer}decode(t,n){if(this._isArrayBuffer(t)){let r=this._binaryDecode(t);return n(r)}if(typeof t=="string"){const r=JSON.parse(t),[i,a,o,l,u]=r;return n({join_ref:i,ref:a,topic:o,event:l,payload:u})}return n({})}_binaryDecode(t){const n=new DataView(t),r=n.getUint8(0),i=new TextDecoder;switch(r){case this.KINDS.userBroadcast:return this._decodeUserBroadcast(t,n,i)}}_decodeUserBroadcast(t,n,r){const i=n.getUint8(1),a=n.getUint8(2),o=n.getUint8(3),l=n.getUint8(4);let u=this.HEADER_LENGTH+4;const d=r.decode(t.slice(u,u+i));u=u+i;const h=r.decode(t.slice(u,u+a));u=u+a;const m=r.decode(t.slice(u,u+o));u=u+o;const b=t.slice(u,t.byteLength),y=l===this.JSON_ENCODING?JSON.parse(r.decode(b)):b,k={type:this.BROADCAST_EVENT,event:h,payload:y};return o>0&&(k.meta=JSON.parse(m)),{join_ref:null,ref:null,topic:d,event:this.BROADCAST_EVENT,payload:k}}_isArrayBuffer(t){var n;return t instanceof ArrayBuffer||((n=t?.constructor)===null||n===void 0?void 0:n.name)==="ArrayBuffer"}_pick(t,n){return!t||typeof t!="object"?{}:Object.fromEntries(Object.entries(t).filter(([r])=>n.includes(r)))}}class MB{constructor(t,n){this.callback=t,this.timerCalc=n,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=n}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var an;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(an||(an={}));const UM=(e,t,n={})=>{var r;const i=(r=n.skipTypes)!==null&&r!==void 0?r:[];return t?Object.keys(t).reduce((a,o)=>(a[o]=tV(o,e,t,i),a),{}):{}},tV=(e,t,n,r)=>{const i=t.find(l=>l.name===e),a=i?.type,o=n[e];return a&&!r.includes(a)?DB(a,o):aE(o)},DB=(e,t)=>{if(e.charAt(0)==="_"){const n=e.slice(1,e.length);return aV(t,n)}switch(e){case an.bool:return nV(t);case an.float4:case an.float8:case an.int2:case an.int4:case an.int8:case an.numeric:case an.oid:return rV(t);case an.json:case an.jsonb:return iV(t);case an.timestamp:return oV(t);case an.abstime:case an.date:case an.daterange:case an.int4range:case an.int8range:case an.money:case an.reltime:case an.text:case an.time:case an.timestamptz:case an.timetz:case an.tsrange:case an.tstzrange:return aE(t);default:return aE(t)}},aE=e=>e,nV=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},rV=e=>{if(typeof e=="string"){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},iV=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch(t){return console.log(`JSON parse error: ${t}`),e}return e},aV=(e,t)=>{if(typeof e!="string")return e;const n=e.length-1,r=e[n];if(e[0]==="{"&&r==="}"){let a;const o=e.slice(1,n);try{a=JSON.parse("["+o+"]")}catch{a=o?o.split(","):[]}return a.map(l=>DB(t,l))}return e},oV=e=>typeof e=="string"?e.replace(" ","T"):e,PB=e=>{const t=new URL(e);return t.protocol=t.protocol.replace(/^ws/i,"http"),t.pathname=t.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),t.pathname===""||t.pathname==="/"?t.pathname="/api/broadcast":t.pathname=t.pathname+"/api/broadcast",t.href};class d1{constructor(t,n,r={},i=rE){this.channel=t,this.event=n,this.payload=r,this.timeout=i,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,n){var r;return this._hasReceived(t)&&n((r=this.receivedResp)===null||r===void 0?void 0:r.response),this.recHooks.push({status:t,callback:n}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=n=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=n,this._matchReceive(n)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,n){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:n})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:n}){this.recHooks.filter(r=>r.status===t).forEach(r=>r.callback(n))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var oE;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})(oE||(oE={}));let RB=class Vb{constructor(t,n){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const r=n?.events||{state:"presence_state",diff:"presence_diff"};this.channel._on(r.state,{},i=>{const{onJoin:a,onLeave:o,onSync:l}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Vb.syncState(this.state,i,a,o),this.pendingDiffs.forEach(u=>{this.state=Vb.syncDiff(this.state,u,a,o)}),this.pendingDiffs=[],l()}),this.channel._on(r.diff,{},i=>{const{onJoin:a,onLeave:o,onSync:l}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(i):(this.state=Vb.syncDiff(this.state,i,a,o),l())}),this.onJoin((i,a,o)=>{this.channel._trigger("presence",{event:"join",key:i,currentPresences:a,newPresences:o})}),this.onLeave((i,a,o)=>{this.channel._trigger("presence",{event:"leave",key:i,currentPresences:a,leftPresences:o})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,n,r,i){const a=this.cloneDeep(t),o=this.transformState(n),l={},u={};return this.map(a,(d,h)=>{o[d]||(u[d]=h)}),this.map(o,(d,h)=>{const m=a[d];if(m){const b=h.map(_=>_.presence_ref),y=m.map(_=>_.presence_ref),k=h.filter(_=>y.indexOf(_.presence_ref)<0),w=m.filter(_=>b.indexOf(_.presence_ref)<0);k.length>0&&(l[d]=k),w.length>0&&(u[d]=w)}else l[d]=h}),this.syncDiff(a,{joins:l,leaves:u},r,i)}static syncDiff(t,n,r,i){const{joins:a,leaves:o}={joins:this.transformState(n.joins),leaves:this.transformState(n.leaves)};return r||(r=()=>{}),i||(i=()=>{}),this.map(a,(l,u)=>{var d;const h=(d=t[l])!==null&&d!==void 0?d:[];if(t[l]=this.cloneDeep(u),h.length>0){const m=t[l].map(y=>y.presence_ref),b=h.filter(y=>m.indexOf(y.presence_ref)<0);t[l].unshift(...b)}r(l,h,u)}),this.map(o,(l,u)=>{let d=t[l];if(!d)return;const h=u.map(m=>m.presence_ref);d=d.filter(m=>h.indexOf(m.presence_ref)<0),t[l]=d,i(l,d,u),d.length===0&&delete t[l]}),t}static map(t,n){return Object.getOwnPropertyNames(t).map(r=>n(r,t[r]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((n,r)=>{const i=t[r];return"metas"in i?n[r]=i.metas.map(a=>(a.presence_ref=a.phx_ref,delete a.phx_ref,delete a.phx_ref_prev,a)):n[r]=i,n},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}};var sE;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(sE||(sE={}));var tf;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"})(tf||(tf={}));var Po;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})(Po||(Po={}));const sV=Wn;let LB=class IB{constructor(t,n={config:{}},r){var i,a;if(this.topic=t,this.params=n,this.socket=r,this.bindings={},this.state=Wn.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},n.config),this.timeout=this.socket.timeout,this.joinPush=new d1(this,Va.join,this.params,this.timeout),this.rejoinTimer=new MB(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Wn.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(o=>o.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Wn.closed,this.socket._remove(this)}),this._onError(o=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,o),this.state=Wn.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Wn.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",o=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,o),this.state=Wn.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Va.reply,{},(o,l)=>{this._trigger(this._replyEventName(l),o)}),this.presence=new RB(this),this.broadcastEndpointURL=PB(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((a=(i=this.params.config)===null||i===void 0?void 0:i.broadcast)===null||a===void 0)&&a.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(t,n=this.timeout){var r,i,a;if(this.socket.isConnected()||this.socket.connect(),this.state==Wn.closed){const{config:{broadcast:o,presence:l,private:u}}=this.params,d=(i=(r=this.bindings.postgres_changes)===null||r===void 0?void 0:r.map(y=>y.filter))!==null&&i!==void 0?i:[],h=!!this.bindings[tf.PRESENCE]&&this.bindings[tf.PRESENCE].length>0||((a=this.params.config.presence)===null||a===void 0?void 0:a.enabled)===!0,m={},b={broadcast:o,presence:Object.assign(Object.assign({},l),{enabled:h}),postgres_changes:d,private:u};this.socket.accessTokenValue&&(m.access_token=this.socket.accessTokenValue),this._onError(y=>t?.(Po.CHANNEL_ERROR,y)),this._onClose(()=>t?.(Po.CLOSED)),this.updateJoinPayload(Object.assign({config:b},m)),this.joinedOnce=!0,this._rejoin(n),this.joinPush.receive("ok",async({postgres_changes:y})=>{var k;if(this.socket.setAuth(),y===void 0){t?.(Po.SUBSCRIBED);return}else{const w=this.bindings.postgres_changes,_=(k=w?.length)!==null&&k!==void 0?k:0,j=[];for(let O=0;O<_;O++){const T=w[O],{filter:{event:C,schema:M,table:P,filter:I}}=T,z=y&&y[O];if(z&&z.event===C&&z.schema===M&&z.table===P&&z.filter===I)j.push(Object.assign(Object.assign({},T),{id:z.id}));else{this.unsubscribe(),this.state=Wn.errored,t?.(Po.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=j,t&&t(Po.SUBSCRIBED);return}}).receive("error",y=>{this.state=Wn.errored,t?.(Po.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(y).join(", ")||"error")))}).receive("timeout",()=>{t?.(Po.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,n={}){return await this.send({type:"presence",event:"track",payload:t},n.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,n,r){return this.state===Wn.joined&&t===tf.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(()=>this.subscribe())),this._on(t,n,r)}async httpSend(t,n,r={}){var i;const a=this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"";if(n==null)return Promise.reject("Payload is required for httpSend()");const o={method:"POST",headers:{Authorization:a,apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:t,payload:n,private:this.private}]})},l=await this._fetchWithTimeout(this.broadcastEndpointURL,o,(i=r.timeout)!==null&&i!==void 0?i:this.timeout);if(l.status===202)return{success:!0};let u=l.statusText;try{const d=await l.json();u=d.error||d.message||u}catch{}return Promise.reject(new Error(u))}async send(t,n={}){var r,i;if(!this._canPush()&&t.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:a,payload:o}=t,u={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:a,payload:o,private:this.private}]})};try{const d=await this._fetchWithTimeout(this.broadcastEndpointURL,u,(r=n.timeout)!==null&&r!==void 0?r:this.timeout);return await((i=d.body)===null||i===void 0?void 0:i.cancel()),d.ok?"ok":"error"}catch(d){return d.name==="AbortError"?"timed out":"error"}}else return new Promise(a=>{var o,l,u;const d=this._push(t.type,t,n.timeout||this.timeout);t.type==="broadcast"&&!(!((u=(l=(o=this.params)===null||o===void 0?void 0:o.config)===null||l===void 0?void 0:l.broadcast)===null||u===void 0)&&u.ack)&&a("ok"),d.receive("ok",()=>a("ok")),d.receive("error",()=>a("error")),d.receive("timeout",()=>a("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=Wn.leaving;const n=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Va.close,"leave",this._joinRef())};this.joinPush.destroy();let r=null;return new Promise(i=>{r=new d1(this,Va.leave,{},t),r.receive("ok",()=>{n(),i("ok")}).receive("timeout",()=>{n(),i("timed out")}).receive("error",()=>{i("error")}),r.send(),this._canPush()||r.trigger("ok",{})}).finally(()=>{r?.destroy()})}teardown(){this.pushBuffer.forEach(t=>t.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=Wn.closed,this.bindings={}}async _fetchWithTimeout(t,n,r){const i=new AbortController,a=setTimeout(()=>i.abort(),r),o=await this.socket.fetch(t,Object.assign(Object.assign({},n),{signal:i.signal}));return clearTimeout(a),o}_push(t,n,r=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let i=new d1(this,t,n,r);return this._canPush()?i.send():this._addToPushBuffer(i),i}_addToPushBuffer(t){if(t.startTimeout(),this.pushBuffer.push(t),this.pushBuffer.length>QW){const n=this.pushBuffer.shift();n&&(n.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${n.event}`,n.payload))}}_onMessage(t,n,r){return n}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,n,r){var i,a;const o=t.toLocaleLowerCase(),{close:l,error:u,leave:d,join:h}=Va;if(r&&[l,u,d,h].indexOf(o)>=0&&r!==this._joinRef())return;let b=this._onMessage(o,n,r);if(n&&!b)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(o)?(i=this.bindings.postgres_changes)===null||i===void 0||i.filter(y=>{var k,w,_;return((k=y.filter)===null||k===void 0?void 0:k.event)==="*"||((_=(w=y.filter)===null||w===void 0?void 0:w.event)===null||_===void 0?void 0:_.toLocaleLowerCase())===o}).map(y=>y.callback(b,r)):(a=this.bindings[o])===null||a===void 0||a.filter(y=>{var k,w,_,j,O,T;if(["broadcast","presence","postgres_changes"].includes(o))if("id"in y){const C=y.id,M=(k=y.filter)===null||k===void 0?void 0:k.event;return C&&((w=n.ids)===null||w===void 0?void 0:w.includes(C))&&(M==="*"||M?.toLocaleLowerCase()===((_=n.data)===null||_===void 0?void 0:_.type.toLocaleLowerCase()))}else{const C=(O=(j=y?.filter)===null||j===void 0?void 0:j.event)===null||O===void 0?void 0:O.toLocaleLowerCase();return C==="*"||C===((T=n?.event)===null||T===void 0?void 0:T.toLocaleLowerCase())}else return y.type.toLocaleLowerCase()===o}).map(y=>{if(typeof b=="object"&&"ids"in b){const k=b.data,{schema:w,table:_,commit_timestamp:j,type:O,errors:T}=k;b=Object.assign(Object.assign({},{schema:w,table:_,commit_timestamp:j,eventType:O,new:{},old:{},errors:T}),this._getPayloadRecords(k))}y.callback(b,r)})}_isClosed(){return this.state===Wn.closed}_isJoined(){return this.state===Wn.joined}_isJoining(){return this.state===Wn.joining}_isLeaving(){return this.state===Wn.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,n,r){const i=t.toLocaleLowerCase(),a={type:i,filter:n,callback:r};return this.bindings[i]?this.bindings[i].push(a):this.bindings[i]=[a],this}_off(t,n){const r=t.toLocaleLowerCase();return this.bindings[r]&&(this.bindings[r]=this.bindings[r].filter(i=>{var a;return!(((a=i.type)===null||a===void 0?void 0:a.toLocaleLowerCase())===r&&IB.isEqual(i.filter,n))})),this}static isEqual(t,n){if(Object.keys(t).length!==Object.keys(n).length)return!1;for(const r in t)if(t[r]!==n[r])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(Va.close,{},t)}_onError(t){this._on(Va.error,{},n=>t(n))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Wn.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const n={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(n.new=UM(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(n.old=UM(t.columns,t.old_record)),n}};const f1=()=>{},qg={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},lV=[1e3,2e3,5e3,1e4],cV=1e4,uV=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;let dV=class{constructor(t,n){var r;if(this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=rE,this.transport=null,this.heartbeatIntervalMs=qg.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=f1,this.ref=0,this.reconnectTimer=null,this.vsn=zM,this.logger=f1,this.conn=null,this.sendBuffer=[],this.serializer=new eV,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=i=>i?(...a)=>i(...a):(...a)=>fetch(...a),!(!((r=n?.params)===null||r===void 0)&&r.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=n.params.apikey,this.endPoint=`${t}/${iE.websocket}`,this.httpEndpoint=PB(t),this._initializeOptions(n),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(n?.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this.accessToken&&!this._authPromise&&this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=OB.createWebSocket(this.endpointURL())}catch(t){this._setConnectionState("disconnected");const n=t.message;throw n.includes("Node.js")?new Error(`${n}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${n}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:this.vsn}))}disconnect(t,n){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const r=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(r),this._setConnectionState("disconnected")},typeof this.conn.close=="function"&&(t?this.conn.close(t,n??""):this.conn.close()),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(t){const n=await t.unsubscribe();return this.channels.length===0&&this.disconnect(),n}async removeAllChannels(){const t=await Promise.all(this.channels.map(n=>n.unsubscribe()));return this.channels=[],this.disconnect(),t}log(t,n,r){this.logger(t,n,r)}connectionState(){switch(this.conn&&this.conn.readyState){case hu.connecting:return mu.Connecting;case hu.open:return mu.Open;case hu.closing:return mu.Closing;default:return mu.Closed}}isConnected(){return this.connectionState()===mu.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(t,n={config:{}}){const r=`realtime:${t}`,i=this.getChannels().find(a=>a.topic===r);if(i)return i;{const a=new LB(`realtime:${t}`,n,this);return this.channels.push(a),a}}push(t){const{topic:n,event:r,payload:i,ref:a}=t,o=()=>{this.encode(t,l=>{var u;(u=this.conn)===null||u===void 0||u.send(l)})};this.log("push",`${n} ${r} (${a})`,i),this.isConnected()?o():this.sendBuffer.push(o)}async setAuth(t=null){this._authPromise=this._performAuth(t);try{await this._authPromise}finally{this._authPromise=null}}async sendHeartbeat(){var t;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(n){this.log("error","error in heartbeat callback",n)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(n){this.log("error","error in heartbeat callback",n)}this._wasManualDisconnect=!1,(t=this.conn)===null||t===void 0||t.close(JW,"heartbeat timeout"),setTimeout(()=>{var n;this.isConnected()||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout()},qg.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(n){this.log("error","error in heartbeat callback",n)}this._setAuthSafely("heartbeat")}onHeartbeat(t){this.heartbeatCallback=t}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let n=this.channels.find(r=>r.topic===t&&(r._isJoined()||r._isJoining()));n&&(this.log("transport",`leaving duplicate topic "${t}"`),n.unsubscribe())}_remove(t){this.channels=this.channels.filter(n=>n.topic!==t.topic)}_onConnMessage(t){this.decode(t.data,n=>{if(n.topic==="phoenix"&&n.event==="phx_reply")try{this.heartbeatCallback(n.payload.status==="ok"?"ok":"error")}catch(d){this.log("error","error in heartbeat callback",d)}n.ref&&n.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:r,event:i,payload:a,ref:o}=n,l=o?`(${o})`:"",u=a.status||"";this.log("receive",`${u} ${r} ${i} ${l}`.trim(),a),this.channels.filter(d=>d._isMember(r)).forEach(d=>d._trigger(i,a,o)),this._triggerStateCallbacks("message",n)})}_clearTimer(t){var n;t==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):t==="reconnect"&&((n=this.reconnectTimer)===null||n===void 0||n.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t))}_teardownConnection(){if(this.conn){if(this.conn.readyState===hu.open||this.conn.readyState===hu.connecting)try{this.conn.close()}catch(t){this.log("error","Error closing connection",t)}this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null}this._clearAllTimers(),this.channels.forEach(t=>t.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),(this._authPromise||(this.accessToken&&!this.accessTokenValue?this.setAuth():Promise.resolve())).then(()=>{this.flushSendBuffer()}).catch(n=>{this.log("error","error waiting for auth on connect",n),this.flushSendBuffer()}),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=n=>{this.log("worker","worker error",n.message),this.workerRef.terminate()},this.workerRef.onmessage=n=>{n.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(t){var n;this._setConnectionState("disconnected"),this.log("transport","close",t),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout(),this._triggerStateCallbacks("close",t)}_onConnError(t){this._setConnectionState("disconnected"),this.log("transport",`${t}`),this._triggerChanError(),this._triggerStateCallbacks("error",t)}_triggerChanError(){this.channels.forEach(t=>t._trigger(Va.error))}_appendParams(t,n){if(Object.keys(n).length===0)return t;const r=t.match(/\?/)?"&":"?",i=new URLSearchParams(n);return`${t}${r}${i}`}_workerObjectUrl(t){let n;if(t)n=t;else{const r=new Blob([uV],{type:"application/javascript"});n=URL.createObjectURL(r)}return n}_setConnectionState(t,n=!1){this._connectionState=t,t==="connecting"?this._wasManualDisconnect=!1:t==="disconnecting"&&(this._wasManualDisconnect=n)}async _performAuth(t=null){let n;t?n=t:this.accessToken?n=await this.accessToken():n=this.accessTokenValue,this.accessTokenValue!=n&&(this.accessTokenValue=n,this.channels.forEach(r=>{const i={access_token:n,version:ZW};n&&r.updateJoinPayload(i),r.joinedOnce&&r._isJoined()&&r._push(Va.access_token,{access_token:n})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(t="general"){this.setAuth().catch(n=>{this.log("error",`error setting auth in ${t}`,n)})}_triggerStateCallbacks(t,n){try{this.stateChangeCallbacks[t].forEach(r=>{try{r(n)}catch(i){this.log("error",`error in ${t} callback`,i)}})}catch(r){this.log("error",`error triggering ${t} callbacks`,r)}}_setupReconnectionTimer(){this.reconnectTimer=new MB(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},qg.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(t){var n,r,i,a,o,l,u,d,h,m,b,y;switch(this.transport=(n=t?.transport)!==null&&n!==void 0?n:null,this.timeout=(r=t?.timeout)!==null&&r!==void 0?r:rE,this.heartbeatIntervalMs=(i=t?.heartbeatIntervalMs)!==null&&i!==void 0?i:qg.HEARTBEAT_INTERVAL,this.worker=(a=t?.worker)!==null&&a!==void 0?a:!1,this.accessToken=(o=t?.accessToken)!==null&&o!==void 0?o:null,this.heartbeatCallback=(l=t?.heartbeatCallback)!==null&&l!==void 0?l:f1,this.vsn=(u=t?.vsn)!==null&&u!==void 0?u:zM,t?.params&&(this.params=t.params),t?.logger&&(this.logger=t.logger),(t?.logLevel||t?.log_level)&&(this.logLevel=t.logLevel||t.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(d=t?.reconnectAfterMs)!==null&&d!==void 0?d:(k=>lV[k-1]||cV),this.vsn){case CB:this.encode=(h=t?.encode)!==null&&h!==void 0?h:((k,w)=>w(JSON.stringify(k))),this.decode=(m=t?.decode)!==null&&m!==void 0?m:((k,w)=>w(JSON.parse(k)));break;case XW:this.encode=(b=t?.encode)!==null&&b!==void 0?b:this.serializer.encode.bind(this.serializer),this.decode=(y=t?.decode)!==null&&y!==void 0?y:this.serializer.decode.bind(this.serializer);break;default:throw new Error(`Unsupported serializer version: ${this.vsn}`)}if(this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=t?.workerUrl}}};const fV=Object.freeze(Object.defineProperty({__proto__:null,REALTIME_CHANNEL_STATES:sV,get REALTIME_LISTEN_TYPES(){return tf},get REALTIME_POSTGRES_CHANGES_LISTEN_EVENT(){return sE},get REALTIME_PRESENCE_LISTEN_EVENTS(){return oE},get REALTIME_SUBSCRIBE_STATES(){return Po},RealtimeChannel:LB,RealtimeClient:dV,RealtimePresence:RB,WebSocketFactory:OB},Symbol.toStringTag,{value:"Module"})),$B=Tp(fV);class Cp extends Error{constructor(t){super(t),this.__isStorageError=!0,this.name="StorageError"}}function pn(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}class BB extends Cp{constructor(t,n,r){super(t),this.name="StorageApiError",this.status=n,this.statusCode=r}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class yy extends Cp{constructor(t,n){super(t),this.name="StorageUnknownError",this.originalError=n}}const bj=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),hV=()=>Response,lE=e=>{if(Array.isArray(e))return e.map(n=>lE(n));if(typeof e=="function"||e!==Object(e))return e;const t={};return Object.entries(e).forEach(([n,r])=>{const i=n.replace(/([-_][a-z])/gi,a=>a.toUpperCase().replace(/[-_]/g,""));t[i]=lE(r)}),t},mV=e=>{if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},pV=e=>!e||typeof e!="string"||e.length===0||e.length>100||e.trim()!==e||e.includes("/")||e.includes("\\")?!1:/^[\w!.\*'() &$@=;:+,?-]+$/.test(e),h1=e=>{var t;return e.msg||e.message||e.error_description||(typeof e.error=="string"?e.error:(t=e.error)===null||t===void 0?void 0:t.message)||JSON.stringify(e)},gV=(e,t,n)=>qe(void 0,void 0,void 0,function*(){const r=yield hV();e instanceof r&&!n?.noResolveJson?e.json().then(i=>{const a=e.status||500,o=i?.statusCode||a+"";t(new BB(h1(i),a,o))}).catch(i=>{t(new yy(h1(i),i))}):t(new yy(h1(e),e))}),bV=(e,t,n,r)=>{const i={method:e,headers:t?.headers||{}};return e==="GET"||!r?i:(mV(r)?(i.headers=Object.assign({"Content-Type":"application/json"},t?.headers),i.body=JSON.stringify(r)):i.body=r,t?.duplex&&(i.duplex=t.duplex),Object.assign(Object.assign({},i),n))};function Mp(e,t,n,r,i,a){return qe(this,void 0,void 0,function*(){return new Promise((o,l)=>{e(n,bV(t,r,i,a)).then(u=>{if(!u.ok)throw u;return r?.noResolveJson?u:u.json()}).then(u=>o(u)).catch(u=>gV(u,l,r))})})}function qm(e,t,n,r){return qe(this,void 0,void 0,function*(){return Mp(e,"GET",t,n,r)})}function Wa(e,t,n,r,i){return qe(this,void 0,void 0,function*(){return Mp(e,"POST",t,r,i,n)})}function cE(e,t,n,r,i){return qe(this,void 0,void 0,function*(){return Mp(e,"PUT",t,r,i,n)})}function yV(e,t,n,r){return qe(this,void 0,void 0,function*(){return Mp(e,"HEAD",t,Object.assign(Object.assign({},n),{noResolveJson:!0}),r)})}function yj(e,t,n,r,i){return qe(this,void 0,void 0,function*(){return Mp(e,"DELETE",t,r,i,n)})}class vV{constructor(t,n){this.downloadFn=t,this.shouldThrowOnError=n}then(t,n){return this.execute().then(t,n)}execute(){return qe(this,void 0,void 0,function*(){try{return{data:(yield this.downloadFn()).body,error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(pn(t))return{data:null,error:t};throw t}})}}var zB;class xV{constructor(t,n){this.downloadFn=t,this.shouldThrowOnError=n,this[zB]="BlobDownloadBuilder",this.promise=null}asStream(){return new vV(this.downloadFn,this.shouldThrowOnError)}then(t,n){return this.getPromise().then(t,n)}catch(t){return this.getPromise().catch(t)}finally(t){return this.getPromise().finally(t)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}execute(){return qe(this,void 0,void 0,function*(){try{return{data:yield(yield this.downloadFn()).blob(),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(pn(t))return{data:null,error:t};throw t}})}}zB=Symbol.toStringTag;const wV={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},FM={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class _V{constructor(t,n={},r,i){this.shouldThrowOnError=!1,this.url=t,this.headers=n,this.bucketId=r,this.fetch=bj(i)}throwOnError(){return this.shouldThrowOnError=!0,this}uploadOrUpdate(t,n,r,i){return qe(this,void 0,void 0,function*(){try{let a;const o=Object.assign(Object.assign({},FM),i);let l=Object.assign(Object.assign({},this.headers),t==="POST"&&{"x-upsert":String(o.upsert)});const u=o.metadata;typeof Blob<"u"&&r instanceof Blob?(a=new FormData,a.append("cacheControl",o.cacheControl),u&&a.append("metadata",this.encodeMetadata(u)),a.append("",r)):typeof FormData<"u"&&r instanceof FormData?(a=r,a.has("cacheControl")||a.append("cacheControl",o.cacheControl),u&&!a.has("metadata")&&a.append("metadata",this.encodeMetadata(u))):(a=r,l["cache-control"]=`max-age=${o.cacheControl}`,l["content-type"]=o.contentType,u&&(l["x-metadata"]=this.toBase64(this.encodeMetadata(u))),(typeof ReadableStream<"u"&&a instanceof ReadableStream||a&&typeof a=="object"&&"pipe"in a&&typeof a.pipe=="function")&&!o.duplex&&(o.duplex="half")),i?.headers&&(l=Object.assign(Object.assign({},l),i.headers));const d=this._removeEmptyFolders(n),h=this._getFinalPath(d),m=yield(t=="PUT"?cE:Wa)(this.fetch,`${this.url}/object/${h}`,a,Object.assign({headers:l},o?.duplex?{duplex:o.duplex}:{}));return{data:{path:d,id:m.Id,fullPath:m.Key},error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(pn(a))return{data:null,error:a};throw a}})}upload(t,n,r){return qe(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",t,n,r)})}uploadToSignedUrl(t,n,r,i){return qe(this,void 0,void 0,function*(){const a=this._removeEmptyFolders(t),o=this._getFinalPath(a),l=new URL(this.url+`/object/upload/sign/${o}`);l.searchParams.set("token",n);try{let u;const d=Object.assign({upsert:FM.upsert},i),h=Object.assign(Object.assign({},this.headers),{"x-upsert":String(d.upsert)});typeof Blob<"u"&&r instanceof Blob?(u=new FormData,u.append("cacheControl",d.cacheControl),u.append("",r)):typeof FormData<"u"&&r instanceof FormData?(u=r,u.append("cacheControl",d.cacheControl)):(u=r,h["cache-control"]=`max-age=${d.cacheControl}`,h["content-type"]=d.contentType);const m=yield cE(this.fetch,l.toString(),u,{headers:h});return{data:{path:a,fullPath:m.Key},error:null}}catch(u){if(this.shouldThrowOnError)throw u;if(pn(u))return{data:null,error:u};throw u}})}createSignedUploadUrl(t,n){return qe(this,void 0,void 0,function*(){try{let r=this._getFinalPath(t);const i=Object.assign({},this.headers);n?.upsert&&(i["x-upsert"]="true");const a=yield Wa(this.fetch,`${this.url}/object/upload/sign/${r}`,{},{headers:i}),o=new URL(this.url+a.url),l=o.searchParams.get("token");if(!l)throw new Cp("No token returned by API");return{data:{signedUrl:o.toString(),path:t,token:l},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(pn(r))return{data:null,error:r};throw r}})}update(t,n,r){return qe(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",t,n,r)})}move(t,n,r){return qe(this,void 0,void 0,function*(){try{return{data:yield Wa(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:t,destinationKey:n,destinationBucket:r?.destinationBucket},{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(pn(i))return{data:null,error:i};throw i}})}copy(t,n,r){return qe(this,void 0,void 0,function*(){try{return{data:{path:(yield Wa(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:t,destinationKey:n,destinationBucket:r?.destinationBucket},{headers:this.headers})).Key},error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(pn(i))return{data:null,error:i};throw i}})}createSignedUrl(t,n,r){return qe(this,void 0,void 0,function*(){try{let i=this._getFinalPath(t),a=yield Wa(this.fetch,`${this.url}/object/sign/${i}`,Object.assign({expiresIn:n},r?.transform?{transform:r.transform}:{}),{headers:this.headers});const o=r?.download?`&download=${r.download===!0?"":r.download}`:"";return a={signedUrl:encodeURI(`${this.url}${a.signedURL}${o}`)},{data:a,error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(pn(i))return{data:null,error:i};throw i}})}createSignedUrls(t,n,r){return qe(this,void 0,void 0,function*(){try{const i=yield Wa(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:n,paths:t},{headers:this.headers}),a=r?.download?`&download=${r.download===!0?"":r.download}`:"";return{data:i.map(o=>Object.assign(Object.assign({},o),{signedUrl:o.signedURL?encodeURI(`${this.url}${o.signedURL}${a}`):null})),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(pn(i))return{data:null,error:i};throw i}})}download(t,n){const i=typeof n?.transform<"u"?"render/image/authenticated":"object",a=this.transformOptsToQueryString(n?.transform||{}),o=a?`?${a}`:"",l=this._getFinalPath(t),u=()=>qm(this.fetch,`${this.url}/${i}/${l}${o}`,{headers:this.headers,noResolveJson:!0});return new xV(u,this.shouldThrowOnError)}info(t){return qe(this,void 0,void 0,function*(){const n=this._getFinalPath(t);try{const r=yield qm(this.fetch,`${this.url}/object/info/${n}`,{headers:this.headers});return{data:lE(r),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(pn(r))return{data:null,error:r};throw r}})}exists(t){return qe(this,void 0,void 0,function*(){const n=this._getFinalPath(t);try{return yield yV(this.fetch,`${this.url}/object/${n}`,{headers:this.headers}),{data:!0,error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(pn(r)&&r instanceof yy){const i=r.originalError;if([400,404].includes(i?.status))return{data:!1,error:r}}throw r}})}getPublicUrl(t,n){const r=this._getFinalPath(t),i=[],a=n?.download?`download=${n.download===!0?"":n.download}`:"";a!==""&&i.push(a);const l=typeof n?.transform<"u"?"render/image":"object",u=this.transformOptsToQueryString(n?.transform||{});u!==""&&i.push(u);let d=i.join("&");return d!==""&&(d=`?${d}`),{data:{publicUrl:encodeURI(`${this.url}/${l}/public/${r}${d}`)}}}remove(t){return qe(this,void 0,void 0,function*(){try{return{data:yield yj(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:t},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(pn(n))return{data:null,error:n};throw n}})}list(t,n,r){return qe(this,void 0,void 0,function*(){try{const i=Object.assign(Object.assign(Object.assign({},wV),n),{prefix:t||""});return{data:yield Wa(this.fetch,`${this.url}/object/list/${this.bucketId}`,i,{headers:this.headers},r),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(pn(i))return{data:null,error:i};throw i}})}listV2(t,n){return qe(this,void 0,void 0,function*(){try{const r=Object.assign({},t);return{data:yield Wa(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,r,{headers:this.headers},n),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(pn(r))return{data:null,error:r};throw r}})}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return typeof Buffer<"u"?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t.replace(/^\/+/,"")}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){const n=[];return t.width&&n.push(`width=${t.width}`),t.height&&n.push(`height=${t.height}`),t.resize&&n.push(`resize=${t.resize}`),t.format&&n.push(`format=${t.format}`),t.quality&&n.push(`quality=${t.quality}`),n.join("&")}}const UB="2.86.2",FB={"X-Client-Info":`storage-js/${UB}`};class SV{constructor(t,n={},r,i){this.shouldThrowOnError=!1;const a=new URL(t);i?.useNewHostname&&/supabase\.(co|in|red)$/.test(a.hostname)&&!a.hostname.includes("storage.supabase.")&&(a.hostname=a.hostname.replace("supabase.","storage.supabase.")),this.url=a.href.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},FB),n),this.fetch=bj(r)}throwOnError(){return this.shouldThrowOnError=!0,this}listBuckets(t){return qe(this,void 0,void 0,function*(){try{const n=this.listBucketOptionsToQueryString(t);return{data:yield qm(this.fetch,`${this.url}/bucket${n}`,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(pn(n))return{data:null,error:n};throw n}})}getBucket(t){return qe(this,void 0,void 0,function*(){try{return{data:yield qm(this.fetch,`${this.url}/bucket/${t}`,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(pn(n))return{data:null,error:n};throw n}})}createBucket(t){return qe(this,arguments,void 0,function*(n,r={public:!1}){try{return{data:yield Wa(this.fetch,`${this.url}/bucket`,{id:n,name:n,type:r.type,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(pn(i))return{data:null,error:i};throw i}})}updateBucket(t,n){return qe(this,void 0,void 0,function*(){try{return{data:yield cE(this.fetch,`${this.url}/bucket/${t}`,{id:t,name:t,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(pn(r))return{data:null,error:r};throw r}})}emptyBucket(t){return qe(this,void 0,void 0,function*(){try{return{data:yield Wa(this.fetch,`${this.url}/bucket/${t}/empty`,{},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(pn(n))return{data:null,error:n};throw n}})}deleteBucket(t){return qe(this,void 0,void 0,function*(){try{return{data:yield yj(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(pn(n))return{data:null,error:n};throw n}})}listBucketOptionsToQueryString(t){const n={};return t&&("limit"in t&&(n.limit=String(t.limit)),"offset"in t&&(n.offset=String(t.offset)),t.search&&(n.search=t.search),t.sortColumn&&(n.sortColumn=t.sortColumn),t.sortOrder&&(n.sortOrder=t.sortOrder)),Object.keys(n).length>0?"?"+new URLSearchParams(n).toString():""}}var Km=class extends Error{constructor(e,t){super(e),this.name="IcebergError",this.status=t.status,this.icebergType=t.icebergType,this.icebergCode=t.icebergCode,this.details=t.details,this.isCommitStateUnknown=t.icebergType==="CommitStateUnknownException"||[500,502,504].includes(t.status)&&t.icebergType?.includes("CommitState")===!0}isNotFound(){return this.status===404}isConflict(){return this.status===409}isAuthenticationTimeout(){return this.status===419}};function kV(e,t,n){const r=new URL(t,e);if(n)for(const[i,a]of Object.entries(n))a!==void 0&&r.searchParams.set(i,a);return r.toString()}async function EV(e){return!e||e.type==="none"?{}:e.type==="bearer"?{Authorization:`Bearer ${e.token}`}:e.type==="header"?{[e.name]:e.value}:e.type==="custom"?await e.getHeaders():{}}function jV(e){const t=e.fetchImpl??globalThis.fetch;return{async request({method:n,path:r,query:i,body:a,headers:o}){const l=kV(e.baseUrl,r,i),u=await EV(e.auth),d=await t(l,{method:n,headers:{...a?{"Content-Type":"application/json"}:{},...u,...o},body:a?JSON.stringify(a):void 0}),h=await d.text(),m=(d.headers.get("content-type")||"").includes("application/json"),b=m&&h?JSON.parse(h):h;if(!d.ok){const y=m?b:void 0,k=y?.error;throw new Km(k?.message??`Request failed with status ${d.status}`,{status:d.status,icebergType:k?.type,icebergCode:k?.code,details:y})}return{status:d.status,headers:d.headers,data:b}}}}function Kg(e){return e.join("")}var TV=class{constructor(e,t=""){this.client=e,this.prefix=t}async listNamespaces(e){const t=e?{parent:Kg(e.namespace)}:void 0;return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces`,query:t})).data.namespaces.map(r=>({namespace:r}))}async createNamespace(e,t){const n={namespace:e.namespace,properties:t?.properties};return(await this.client.request({method:"POST",path:`${this.prefix}/namespaces`,body:n})).data}async dropNamespace(e){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${Kg(e.namespace)}`})}async loadNamespaceMetadata(e){return{properties:(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Kg(e.namespace)}`})).data.properties}}async namespaceExists(e){try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${Kg(e.namespace)}`}),!0}catch(t){if(t instanceof Km&&t.status===404)return!1;throw t}}async createNamespaceIfNotExists(e,t){try{return await this.createNamespace(e,t)}catch(n){if(n instanceof Km&&n.status===409)return;throw n}}};function Td(e){return e.join("")}var AV=class{constructor(e,t="",n){this.client=e,this.prefix=t,this.accessDelegation=n}async listTables(e){return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Td(e.namespace)}/tables`})).data.identifiers}async createTable(e,t){const n={};return this.accessDelegation&&(n["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${Td(e.namespace)}/tables`,body:t,headers:n})).data.metadata}async updateTable(e,t){const n=await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${Td(e.namespace)}/tables/${e.name}`,body:t});return{"metadata-location":n.data["metadata-location"],metadata:n.data.metadata}}async dropTable(e,t){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${Td(e.namespace)}/tables/${e.name}`,query:{purgeRequested:String(t?.purge??!1)}})}async loadTable(e){const t={};return this.accessDelegation&&(t["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Td(e.namespace)}/tables/${e.name}`,headers:t})).data.metadata}async tableExists(e){const t={};this.accessDelegation&&(t["X-Iceberg-Access-Delegation"]=this.accessDelegation);try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${Td(e.namespace)}/tables/${e.name}`,headers:t}),!0}catch(n){if(n instanceof Km&&n.status===404)return!1;throw n}}async createTableIfNotExists(e,t){try{return await this.createTable(e,t)}catch(n){if(n instanceof Km&&n.status===409)return await this.loadTable({namespace:e.namespace,name:t.name});throw n}}},NV=class{constructor(e){let t="v1";e.catalogName&&(t+=`/${e.catalogName}`);const n=e.baseUrl.endsWith("/")?e.baseUrl:`${e.baseUrl}/`;this.client=jV({baseUrl:n,auth:e.auth,fetchImpl:e.fetch}),this.accessDelegation=e.accessDelegation?.join(","),this.namespaceOps=new TV(this.client,t),this.tableOps=new AV(this.client,t,this.accessDelegation)}async listNamespaces(e){return this.namespaceOps.listNamespaces(e)}async createNamespace(e,t){return this.namespaceOps.createNamespace(e,t)}async dropNamespace(e){await this.namespaceOps.dropNamespace(e)}async loadNamespaceMetadata(e){return this.namespaceOps.loadNamespaceMetadata(e)}async listTables(e){return this.tableOps.listTables(e)}async createTable(e,t){return this.tableOps.createTable(e,t)}async updateTable(e,t){return this.tableOps.updateTable(e,t)}async dropTable(e,t){await this.tableOps.dropTable(e,t)}async loadTable(e){return this.tableOps.loadTable(e)}async namespaceExists(e){return this.namespaceOps.namespaceExists(e)}async tableExists(e){return this.tableOps.tableExists(e)}async createNamespaceIfNotExists(e,t){return this.namespaceOps.createNamespaceIfNotExists(e,t)}async createTableIfNotExists(e,t){return this.tableOps.createTableIfNotExists(e,t)}};class HB{constructor(t,n={},r){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},FB),n),this.fetch=bj(r)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(t){return qe(this,void 0,void 0,function*(){try{return{data:yield Wa(this.fetch,`${this.url}/bucket`,{name:t},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(pn(n))return{data:null,error:n};throw n}})}listBuckets(t){return qe(this,void 0,void 0,function*(){try{const n=new URLSearchParams;t?.limit!==void 0&&n.set("limit",t.limit.toString()),t?.offset!==void 0&&n.set("offset",t.offset.toString()),t?.sortColumn&&n.set("sortColumn",t.sortColumn),t?.sortOrder&&n.set("sortOrder",t.sortOrder),t?.search&&n.set("search",t.search);const r=n.toString(),i=r?`${this.url}/bucket?${r}`:`${this.url}/bucket`;return{data:yield qm(this.fetch,i,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(pn(n))return{data:null,error:n};throw n}})}deleteBucket(t){return qe(this,void 0,void 0,function*(){try{return{data:yield yj(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(pn(n))return{data:null,error:n};throw n}})}from(t){if(!pV(t))throw new Cp("Invalid bucket name: File, folder, and bucket names must follow AWS object key naming guidelines and should avoid the use of any other characters.");return new NV({baseUrl:this.url,catalogName:t,auth:{type:"custom",getHeaders:()=>qe(this,void 0,void 0,function*(){return this.headers})},fetch:this.fetch})}}const vj={"X-Client-Info":`storage-js/${UB}`,"Content-Type":"application/json"};class xj extends Error{constructor(t){super(t),this.__isStorageVectorsError=!0,this.name="StorageVectorsError"}}function _i(e){return typeof e=="object"&&e!==null&&"__isStorageVectorsError"in e}class Zb extends xj{constructor(t,n,r){super(t),this.name="StorageVectorsApiError",this.status=n,this.statusCode=r}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class GB extends xj{constructor(t,n){super(t),this.name="StorageVectorsUnknownError",this.originalError=n}}var uE;(function(e){e.InternalError="InternalError",e.S3VectorConflictException="S3VectorConflictException",e.S3VectorNotFoundException="S3VectorNotFoundException",e.S3VectorBucketNotEmpty="S3VectorBucketNotEmpty",e.S3VectorMaxBucketsExceeded="S3VectorMaxBucketsExceeded",e.S3VectorMaxIndexesExceeded="S3VectorMaxIndexesExceeded"})(uE||(uE={}));const tx=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),OV=()=>Response,YB=e=>{if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},CV=e=>Array.from(new Float32Array(e)),MV=(e,t)=>{if(t!==void 0&&e.float32.length!==t)throw new Error(`Vector dimension mismatch: expected ${t}, got ${e.float32.length}`)},HM=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),DV=(e,t,n)=>qe(void 0,void 0,void 0,function*(){if(e&&typeof e=="object"&&"status"in e&&"ok"in e&&typeof e.status=="number"&&!n?.noResolveJson){const i=e.status||500,a=e;if(typeof a.json=="function")a.json().then(o=>{const l=o?.statusCode||o?.code||i+"";t(new Zb(HM(o),i,l))}).catch(()=>{const o=i+"",l=a.statusText||`HTTP ${i} error`;t(new Zb(l,i,o))});else{const o=i+"",l=a.statusText||`HTTP ${i} error`;t(new Zb(l,i,o))}}else t(new GB(HM(e),e))}),PV=(e,t,n,r)=>{const i={method:e,headers:t?.headers||{}};return r?(YB(r)?(i.headers=Object.assign({"Content-Type":"application/json"},t?.headers),i.body=JSON.stringify(r)):i.body=r,Object.assign(Object.assign({},i),n)):i};function RV(e,t,n,r,i,a){return qe(this,void 0,void 0,function*(){return new Promise((o,l)=>{e(n,PV(t,r,i,a)).then(u=>{if(!u.ok)throw u;if(r?.noResolveJson)return u;const d=u.headers.get("content-type");return!d||!d.includes("application/json")?{}:u.json()}).then(u=>o(u)).catch(u=>DV(u,l,r))})})}function Gi(e,t,n,r,i){return qe(this,void 0,void 0,function*(){return RV(e,"POST",t,r,i,n)})}class qB{constructor(t,n={},r){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},vj),n),this.fetch=tx(r)}throwOnError(){return this.shouldThrowOnError=!0,this}createIndex(t){return qe(this,void 0,void 0,function*(){try{return{data:(yield Gi(this.fetch,`${this.url}/CreateIndex`,t,{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(_i(n))return{data:null,error:n};throw n}})}getIndex(t,n){return qe(this,void 0,void 0,function*(){try{return{data:yield Gi(this.fetch,`${this.url}/GetIndex`,{vectorBucketName:t,indexName:n},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(_i(r))return{data:null,error:r};throw r}})}listIndexes(t){return qe(this,void 0,void 0,function*(){try{return{data:yield Gi(this.fetch,`${this.url}/ListIndexes`,t,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(_i(n))return{data:null,error:n};throw n}})}deleteIndex(t,n){return qe(this,void 0,void 0,function*(){try{return{data:(yield Gi(this.fetch,`${this.url}/DeleteIndex`,{vectorBucketName:t,indexName:n},{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(_i(r))return{data:null,error:r};throw r}})}}class KB{constructor(t,n={},r){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},vj),n),this.fetch=tx(r)}throwOnError(){return this.shouldThrowOnError=!0,this}putVectors(t){return qe(this,void 0,void 0,function*(){try{if(t.vectors.length<1||t.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return{data:(yield Gi(this.fetch,`${this.url}/PutVectors`,t,{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(_i(n))return{data:null,error:n};throw n}})}getVectors(t){return qe(this,void 0,void 0,function*(){try{return{data:yield Gi(this.fetch,`${this.url}/GetVectors`,t,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(_i(n))return{data:null,error:n};throw n}})}listVectors(t){return qe(this,void 0,void 0,function*(){try{if(t.segmentCount!==void 0){if(t.segmentCount<1||t.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(t.segmentIndex!==void 0&&(t.segmentIndex<0||t.segmentIndex>=t.segmentCount))throw new Error(`segmentIndex must be between 0 and ${t.segmentCount-1}`)}return{data:yield Gi(this.fetch,`${this.url}/ListVectors`,t,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(_i(n))return{data:null,error:n};throw n}})}queryVectors(t){return qe(this,void 0,void 0,function*(){try{return{data:yield Gi(this.fetch,`${this.url}/QueryVectors`,t,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(_i(n))return{data:null,error:n};throw n}})}deleteVectors(t){return qe(this,void 0,void 0,function*(){try{if(t.keys.length<1||t.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return{data:(yield Gi(this.fetch,`${this.url}/DeleteVectors`,t,{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(_i(n))return{data:null,error:n};throw n}})}}class WB{constructor(t,n={},r){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},vj),n),this.fetch=tx(r)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(t){return qe(this,void 0,void 0,function*(){try{return{data:(yield Gi(this.fetch,`${this.url}/CreateVectorBucket`,{vectorBucketName:t},{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(_i(n))return{data:null,error:n};throw n}})}getBucket(t){return qe(this,void 0,void 0,function*(){try{return{data:yield Gi(this.fetch,`${this.url}/GetVectorBucket`,{vectorBucketName:t},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(_i(n))return{data:null,error:n};throw n}})}listBuckets(){return qe(this,arguments,void 0,function*(t={}){try{return{data:yield Gi(this.fetch,`${this.url}/ListVectorBuckets`,t,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(_i(n))return{data:null,error:n};throw n}})}deleteBucket(t){return qe(this,void 0,void 0,function*(){try{return{data:(yield Gi(this.fetch,`${this.url}/DeleteVectorBucket`,{vectorBucketName:t},{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(_i(n))return{data:null,error:n};throw n}})}}class VB extends WB{constructor(t,n={}){super(t,n.headers||{},n.fetch)}from(t){return new ZB(this.url,this.headers,t,this.fetch)}createBucket(t){const n=Object.create(null,{createBucket:{get:()=>super.createBucket}});return qe(this,void 0,void 0,function*(){return n.createBucket.call(this,t)})}getBucket(t){const n=Object.create(null,{getBucket:{get:()=>super.getBucket}});return qe(this,void 0,void 0,function*(){return n.getBucket.call(this,t)})}listBuckets(){const t=Object.create(null,{listBuckets:{get:()=>super.listBuckets}});return qe(this,arguments,void 0,function*(n={}){return t.listBuckets.call(this,n)})}deleteBucket(t){const n=Object.create(null,{deleteBucket:{get:()=>super.deleteBucket}});return qe(this,void 0,void 0,function*(){return n.deleteBucket.call(this,t)})}}class ZB extends qB{constructor(t,n,r,i){super(t,n,i),this.vectorBucketName=r}createIndex(t){const n=Object.create(null,{createIndex:{get:()=>super.createIndex}});return qe(this,void 0,void 0,function*(){return n.createIndex.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName}))})}listIndexes(){const t=Object.create(null,{listIndexes:{get:()=>super.listIndexes}});return qe(this,arguments,void 0,function*(n={}){return t.listIndexes.call(this,Object.assign(Object.assign({},n),{vectorBucketName:this.vectorBucketName}))})}getIndex(t){const n=Object.create(null,{getIndex:{get:()=>super.getIndex}});return qe(this,void 0,void 0,function*(){return n.getIndex.call(this,this.vectorBucketName,t)})}deleteIndex(t){const n=Object.create(null,{deleteIndex:{get:()=>super.deleteIndex}});return qe(this,void 0,void 0,function*(){return n.deleteIndex.call(this,this.vectorBucketName,t)})}index(t){return new XB(this.url,this.headers,this.vectorBucketName,t,this.fetch)}}class XB extends KB{constructor(t,n,r,i,a){super(t,n,a),this.vectorBucketName=r,this.indexName=i}putVectors(t){const n=Object.create(null,{putVectors:{get:()=>super.putVectors}});return qe(this,void 0,void 0,function*(){return n.putVectors.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}getVectors(t){const n=Object.create(null,{getVectors:{get:()=>super.getVectors}});return qe(this,void 0,void 0,function*(){return n.getVectors.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}listVectors(){const t=Object.create(null,{listVectors:{get:()=>super.listVectors}});return qe(this,arguments,void 0,function*(n={}){return t.listVectors.call(this,Object.assign(Object.assign({},n),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}queryVectors(t){const n=Object.create(null,{queryVectors:{get:()=>super.queryVectors}});return qe(this,void 0,void 0,function*(){return n.queryVectors.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}deleteVectors(t){const n=Object.create(null,{deleteVectors:{get:()=>super.deleteVectors}});return qe(this,void 0,void 0,function*(){return n.deleteVectors.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}}class LV extends SV{constructor(t,n={},r,i){super(t,n,r,i)}from(t){return new _V(this.url,this.headers,t,this.fetch)}get vectors(){return new VB(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new HB(this.url+"/iceberg",this.headers,this.fetch)}}const IV=Object.freeze(Object.defineProperty({__proto__:null,StorageAnalyticsClient:HB,StorageApiError:BB,StorageClient:LV,StorageError:Cp,StorageUnknownError:yy,StorageVectorsApiError:Zb,StorageVectorsClient:VB,StorageVectorsError:xj,get StorageVectorsErrorCode(){return uE},StorageVectorsUnknownError:GB,VectorBucketApi:WB,VectorBucketScope:ZB,VectorDataApi:KB,VectorIndexApi:qB,VectorIndexScope:XB,isPlainObject:YB,isStorageError:pn,isStorageVectorsError:_i,normalizeToFloat32:CV,resolveFetch:tx,resolveResponse:OV,validateVectorDimension:MV},Symbol.toStringTag,{value:"Module"})),$V=Tp(IV);var m1={},em={},GM;function BV(){return GM||(GM=1,Object.defineProperty(em,"__esModule",{value:!0}),em.version=void 0,em.version="2.86.2"),em}var YM;function zV(){return YM||(YM=1,(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.DEFAULT_REALTIME_OPTIONS=e.DEFAULT_AUTH_OPTIONS=e.DEFAULT_DB_OPTIONS=e.DEFAULT_GLOBAL_OPTIONS=e.DEFAULT_HEADERS=void 0;const t=BV();let n="";typeof Deno<"u"?n="deno":typeof document<"u"?n="web":typeof navigator<"u"&&navigator.product==="ReactNative"?n="react-native":n="node",e.DEFAULT_HEADERS={"X-Client-Info":`supabase-js-${n}/${t.version}`},e.DEFAULT_GLOBAL_OPTIONS={headers:e.DEFAULT_HEADERS},e.DEFAULT_DB_OPTIONS={schema:"public"},e.DEFAULT_AUTH_OPTIONS={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},e.DEFAULT_REALTIME_OPTIONS={}})(m1)),m1}var p1={},qM;function UV(){return qM||(qM=1,(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.fetchWithAuth=e.resolveHeadersConstructor=e.resolveFetch=void 0;const t=i=>i?(...a)=>i(...a):(...a)=>fetch(...a);e.resolveFetch=t;const n=()=>Headers;e.resolveHeadersConstructor=n;const r=(i,a,o)=>{const l=(0,e.resolveFetch)(o),u=(0,e.resolveHeadersConstructor)();return async(d,h)=>{var m;const b=(m=await a())!==null&&m!==void 0?m:i;let y=new u(h?.headers);return y.has("apikey")||y.set("apikey",i),y.has("Authorization")||y.set("Authorization",`Bearer ${b}`),l(d,Object.assign(Object.assign({},h),{headers:y}))}};e.fetchWithAuth=r})(p1)),p1}var _s={},KM;function FV(){if(KM)return _s;KM=1,Object.defineProperty(_s,"__esModule",{value:!0}),_s.isBrowser=void 0,_s.uuid=e,_s.ensureTrailingSlash=t,_s.applySettingDefaults=r,_s.validateSupabaseUrl=i;function e(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(a){var o=Math.random()*16|0,l=a=="x"?o:o&3|8;return l.toString(16)})}function t(a){return a.endsWith("/")?a:a+"/"}const n=()=>typeof window<"u";_s.isBrowser=n;function r(a,o){var l,u;const{db:d,auth:h,realtime:m,global:b}=a,{db:y,auth:k,realtime:w,global:_}=o,j={db:Object.assign(Object.assign({},y),d),auth:Object.assign(Object.assign({},k),h),realtime:Object.assign(Object.assign({},w),m),storage:{},global:Object.assign(Object.assign(Object.assign({},_),b),{headers:Object.assign(Object.assign({},(l=_?.headers)!==null&&l!==void 0?l:{}),(u=b?.headers)!==null&&u!==void 0?u:{})}),accessToken:async()=>""};return a.accessToken?j.accessToken=a.accessToken:delete j.accessToken,j}function i(a){const o=a?.trim();if(!o)throw new Error("supabaseUrl is required.");if(!o.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(t(o))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}return _s}var tm={};const JB="2.86.2",Fd=30*1e3,dE=3,g1=dE*Fd,HV="http://localhost:9999",GV="supabase.auth.token",YV={"X-Client-Info":`gotrue-js/${JB}`},fE="X-Supabase-Api-Version",QB={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},qV=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,KV=600*1e3;let df=class extends Error{constructor(t,n,r){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=n,this.code=r}};function Xe(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}let e4=class extends df{constructor(t,n,r){super(t,n,r),this.name="AuthApiError",this.status=n,this.code=r}};function t4(e){return Xe(e)&&e.name==="AuthApiError"}let Yl=class extends df{constructor(t,n){super(t),this.name="AuthUnknownError",this.originalError=n}},qs=class extends df{constructor(t,n,r,i){super(t,r,i),this.name=n,this.status=r}},vi=class extends qs{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}};function n4(e){return Xe(e)&&e.name==="AuthSessionMissingError"}let au=class extends qs{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}},Tm=class extends qs{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}},Am=class extends qs{constructor(t,n=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}};function r4(e){return Xe(e)&&e.name==="AuthImplicitGrantRedirectError"}let hE=class extends qs{constructor(t,n=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}},vy=class extends qs{constructor(t,n){super(t,"AuthRetryableFetchError",n,void 0)}};function Xb(e){return Xe(e)&&e.name==="AuthRetryableFetchError"}let mE=class extends qs{constructor(t,n,r){super(t,"AuthWeakPasswordError",n,"weak_password"),this.reasons=r}};function WV(e){return Xe(e)&&e.name==="AuthWeakPasswordError"}let xy=class extends qs{constructor(t){super(t,"AuthInvalidJwtError",400,"invalid_jwt")}};const wy="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),WM=` 	
\r=`.split(""),VV=(()=>{const e=new Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<WM.length;t+=1)e[WM[t].charCodeAt(0)]=-2;for(let t=0;t<wy.length;t+=1)e[wy[t].charCodeAt(0)]=t;return e})();function VM(e,t,n){if(e!==null)for(t.queue=t.queue<<8|e,t.queuedBits+=8;t.queuedBits>=6;){const r=t.queue>>t.queuedBits-6&63;n(wy[r]),t.queuedBits-=6}else if(t.queuedBits>0)for(t.queue=t.queue<<6-t.queuedBits,t.queuedBits=6;t.queuedBits>=6;){const r=t.queue>>t.queuedBits-6&63;n(wy[r]),t.queuedBits-=6}}function i4(e,t,n){const r=VV[e];if(r>-1)for(t.queue=t.queue<<6|r,t.queuedBits+=6;t.queuedBits>=8;)n(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else{if(r===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`)}}function ZM(e){const t=[],n=o=>{t.push(String.fromCodePoint(o))},r={utf8seq:0,codepoint:0},i={queue:0,queuedBits:0},a=o=>{JV(o,r,n)};for(let o=0;o<e.length;o+=1)i4(e.charCodeAt(o),i,a);return t.join("")}function ZV(e,t){if(e<=127){t(e);return}else if(e<=2047){t(192|e>>6),t(128|e&63);return}else if(e<=65535){t(224|e>>12),t(128|e>>6&63),t(128|e&63);return}else if(e<=1114111){t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),t(128|e&63);return}throw new Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}function XV(e,t){for(let n=0;n<e.length;n+=1){let r=e.charCodeAt(n);if(r>55295&&r<=56319){const i=(r-55296)*1024&65535;r=(e.charCodeAt(n+1)-56320&65535|i)+65536,n+=1}ZV(r,t)}}function JV(e,t,n){if(t.utf8seq===0){if(e<=127){n(e);return}for(let r=1;r<6;r+=1)if((e>>7-r&1)===0){t.utf8seq=r;break}if(t.utf8seq===2)t.codepoint=e&31;else if(t.utf8seq===3)t.codepoint=e&15;else if(t.utf8seq===4)t.codepoint=e&7;else throw new Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|e&63,t.utf8seq-=1,t.utf8seq===0&&n(t.codepoint)}}function nf(e){const t=[],n={queue:0,queuedBits:0},r=i=>{t.push(i)};for(let i=0;i<e.length;i+=1)i4(e.charCodeAt(i),n,r);return new Uint8Array(t)}function QV(e){const t=[];return XV(e,n=>t.push(n)),new Uint8Array(t)}function bu(e){const t=[],n={queue:0,queuedBits:0},r=i=>{t.push(i)};return e.forEach(i=>VM(i,n,r)),VM(null,n,r),t.join("")}function eZ(e){return Math.round(Date.now()/1e3)+e}function tZ(){return Symbol("auth-callback")}const Mr=()=>typeof window<"u"&&typeof document<"u",Xc={tested:!1,writable:!1},a4=()=>{if(!Mr())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Xc.tested)return Xc.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),Xc.tested=!0,Xc.writable=!0}catch{Xc.tested=!0,Xc.writable=!1}return Xc.writable};function nZ(e){const t={},n=new URL(e);if(n.hash&&n.hash[0]==="#")try{new URLSearchParams(n.hash.substring(1)).forEach((i,a)=>{t[a]=i})}catch{}return n.searchParams.forEach((r,i)=>{t[i]=r}),t}const o4=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),rZ=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",Hd=async(e,t,n)=>{await e.setItem(t,JSON.stringify(n))},Jc=async(e,t)=>{const n=await e.getItem(t);if(!n)return null;try{return JSON.parse(n)}catch{return n}},Or=async(e,t)=>{await e.removeItem(t)};class nx{constructor(){this.promise=new nx.promiseConstructor((t,n)=>{this.resolve=t,this.reject=n})}}nx.promiseConstructor=Promise;function b1(e){const t=e.split(".");if(t.length!==3)throw new xy("Invalid JWT structure");for(let r=0;r<t.length;r++)if(!qV.test(t[r]))throw new xy("JWT not in base64url format");return{header:JSON.parse(ZM(t[0])),payload:JSON.parse(ZM(t[1])),signature:nf(t[2]),raw:{header:t[0],payload:t[1]}}}async function iZ(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}function aZ(e,t){return new Promise((r,i)=>{(async()=>{for(let a=0;a<1/0;a++)try{const o=await e(a);if(!t(a,null,o)){r(o);return}}catch(o){if(!t(a,o)){i(o);return}}})()})}function oZ(e){return("0"+e.toString(16)).substr(-2)}function sZ(){const t=new Uint32Array(56);if(typeof crypto>"u"){const n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",r=n.length;let i="";for(let a=0;a<56;a++)i+=n.charAt(Math.floor(Math.random()*r));return i}return crypto.getRandomValues(t),Array.from(t,oZ).join("")}async function lZ(e){const n=new TextEncoder().encode(e),r=await crypto.subtle.digest("SHA-256",n),i=new Uint8Array(r);return Array.from(i).map(a=>String.fromCharCode(a)).join("")}async function cZ(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const n=await lZ(e);return btoa(n).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Ad(e,t,n=!1){const r=sZ();let i=r;n&&(i+="/PASSWORD_RECOVERY"),await Hd(e,`${t}-code-verifier`,i);const a=await cZ(r);return[a,r===a?"plain":"s256"]}const uZ=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function dZ(e){const t=e.headers.get(fE);if(!t||!t.match(uZ))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}function fZ(e){if(!e)throw new Error("Missing exp claim");const t=Math.floor(Date.now()/1e3);if(e<=t)throw new Error("JWT has expired")}function hZ(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const mZ=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function Nd(e){if(!mZ.test(e))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function y1(){const e={};return new Proxy(e,{get:(t,n)=>{if(n==="__isUserNotAvailableProxy")return!0;if(typeof n=="symbol"){const r=n.toString();if(r==="Symbol(Symbol.toPrimitive)"||r==="Symbol(Symbol.toStringTag)"||r==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${n}" property of the session object is not supported. Please use getUser() instead.`)},set:(t,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(t,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function pZ(e,t){return new Proxy(e,{get:(n,r,i)=>{if(r==="__isInsecureUserWarningProxy")return!0;if(typeof r=="symbol"){const a=r.toString();if(a==="Symbol(Symbol.toPrimitive)"||a==="Symbol(Symbol.toStringTag)"||a==="Symbol(util.inspect.custom)"||a==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(n,r,i)}return!t.value&&typeof r=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),t.value=!0),Reflect.get(n,r,i)}})}function XM(e){return JSON.parse(JSON.stringify(e))}const ou=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),gZ=[502,503,504];async function JM(e){var t;if(!rZ(e))throw new vy(ou(e),0);if(gZ.includes(e.status))throw new vy(ou(e),e.status);let n;try{n=await e.json()}catch(a){throw new Yl(ou(a),a)}let r;const i=dZ(e);if(i&&i.getTime()>=QB["2024-01-01"].timestamp&&typeof n=="object"&&n&&typeof n.code=="string"?r=n.code:typeof n=="object"&&n&&typeof n.error_code=="string"&&(r=n.error_code),r){if(r==="weak_password")throw new mE(ou(n),e.status,((t=n.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(r==="session_not_found")throw new vi}else if(typeof n=="object"&&n&&typeof n.weak_password=="object"&&n.weak_password&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.reasons.reduce((a,o)=>a&&typeof o=="string",!0))throw new mE(ou(n),e.status,n.weak_password.reasons);throw new e4(ou(n),e.status||500,r)}const bZ=(e,t,n,r)=>{const i={method:e,headers:t?.headers||{}};return e==="GET"?i:(i.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t?.headers),i.body=JSON.stringify(r),Object.assign(Object.assign({},i),n))};async function lt(e,t,n,r){var i;const a=Object.assign({},r?.headers);a[fE]||(a[fE]=QB["2024-01-01"].name),r?.jwt&&(a.Authorization=`Bearer ${r.jwt}`);const o=(i=r?.query)!==null&&i!==void 0?i:{};r?.redirectTo&&(o.redirect_to=r.redirectTo);const l=Object.keys(o).length?"?"+new URLSearchParams(o).toString():"",u=await yZ(e,t,n+l,{headers:a,noResolveJson:r?.noResolveJson},{},r?.body);return r?.xform?r?.xform(u):{data:Object.assign({},u),error:null}}async function yZ(e,t,n,r,i,a){const o=bZ(t,r,i,a);let l;try{l=await e(n,Object.assign({},o))}catch(u){throw console.error(u),new vy(ou(u),0)}if(l.ok||await JM(l),r?.noResolveJson)return l;try{return await l.json()}catch(u){await JM(u)}}function Ka(e){var t;let n=null;wZ(e)&&(n=Object.assign({},e),e.expires_at||(n.expires_at=eZ(e.expires_in)));const r=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:n,user:r},error:null}}function QM(e){const t=Ka(e);return!t.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((n,r)=>n&&typeof r=="string",!0)&&(t.data.weak_password=e.weak_password),t}function ql(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function vZ(e){return{data:e,error:null}}function xZ(e){const{action_link:t,email_otp:n,hashed_token:r,redirect_to:i,verification_type:a}=e,o=Nf(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),l={action_link:t,email_otp:n,hashed_token:r,redirect_to:i,verification_type:a},u=Object.assign({},o);return{data:{properties:l,user:u},error:null}}function eD(e){return e}function wZ(e){return e.access_token&&e.refresh_token&&e.expires_in}const Jb=["global","local","others"];let wj=class{constructor({url:t="",headers:n={},fetch:r}){this.url=t,this.headers=n,this.fetch=o4(r),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(t,n=Jb[0]){if(Jb.indexOf(n)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${Jb.join(", ")}`);try{return await lt(this.fetch,"POST",`${this.url}/logout?scope=${n}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(r){if(Xe(r))return{data:null,error:r};throw r}}async inviteUserByEmail(t,n={}){try{return await lt(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:n.data},headers:this.headers,redirectTo:n.redirectTo,xform:ql})}catch(r){if(Xe(r))return{data:{user:null},error:r};throw r}}async generateLink(t){try{const{options:n}=t,r=Nf(t,["options"]),i=Object.assign(Object.assign({},r),n);return"newEmail"in r&&(i.new_email=r?.newEmail,delete i.newEmail),await lt(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:i,headers:this.headers,xform:xZ,redirectTo:n?.redirectTo})}catch(n){if(Xe(n))return{data:{properties:null,user:null},error:n};throw n}}async createUser(t){try{return await lt(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:ql})}catch(n){if(Xe(n))return{data:{user:null},error:n};throw n}}async listUsers(t){var n,r,i,a,o,l,u;try{const d={nextPage:null,lastPage:0,total:0},h=await lt(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(n=t?.page)===null||n===void 0?void 0:n.toString())!==null&&r!==void 0?r:"",per_page:(a=(i=t?.perPage)===null||i===void 0?void 0:i.toString())!==null&&a!==void 0?a:""},xform:eD});if(h.error)throw h.error;const m=await h.json(),b=(o=h.headers.get("x-total-count"))!==null&&o!==void 0?o:0,y=(u=(l=h.headers.get("link"))===null||l===void 0?void 0:l.split(","))!==null&&u!==void 0?u:[];return y.length>0&&(y.forEach(k=>{const w=parseInt(k.split(";")[0].split("=")[1].substring(0,1)),_=JSON.parse(k.split(";")[1].split("=")[1]);d[`${_}Page`]=w}),d.total=parseInt(b)),{data:Object.assign(Object.assign({},m),d),error:null}}catch(d){if(Xe(d))return{data:{users:[]},error:d};throw d}}async getUserById(t){Nd(t);try{return await lt(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:ql})}catch(n){if(Xe(n))return{data:{user:null},error:n};throw n}}async updateUserById(t,n){Nd(t);try{return await lt(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:n,headers:this.headers,xform:ql})}catch(r){if(Xe(r))return{data:{user:null},error:r};throw r}}async deleteUser(t,n=!1){Nd(t);try{return await lt(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:n},xform:ql})}catch(r){if(Xe(r))return{data:{user:null},error:r};throw r}}async _listFactors(t){Nd(t.userId);try{const{data:n,error:r}=await lt(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:i=>({data:{factors:i},error:null})});return{data:n,error:r}}catch(n){if(Xe(n))return{data:null,error:n};throw n}}async _deleteFactor(t){Nd(t.userId),Nd(t.id);try{return{data:await lt(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(n){if(Xe(n))return{data:null,error:n};throw n}}async _listOAuthClients(t){var n,r,i,a,o,l,u;try{const d={nextPage:null,lastPage:0,total:0},h=await lt(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(n=t?.page)===null||n===void 0?void 0:n.toString())!==null&&r!==void 0?r:"",per_page:(a=(i=t?.perPage)===null||i===void 0?void 0:i.toString())!==null&&a!==void 0?a:""},xform:eD});if(h.error)throw h.error;const m=await h.json(),b=(o=h.headers.get("x-total-count"))!==null&&o!==void 0?o:0,y=(u=(l=h.headers.get("link"))===null||l===void 0?void 0:l.split(","))!==null&&u!==void 0?u:[];return y.length>0&&(y.forEach(k=>{const w=parseInt(k.split(";")[0].split("=")[1].substring(0,1)),_=JSON.parse(k.split(";")[1].split("=")[1]);d[`${_}Page`]=w}),d.total=parseInt(b)),{data:Object.assign(Object.assign({},m),d),error:null}}catch(d){if(Xe(d))return{data:{clients:[]},error:d};throw d}}async _createOAuthClient(t){try{return await lt(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:t,headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(Xe(n))return{data:null,error:n};throw n}}async _getOAuthClient(t){try{return await lt(this.fetch,"GET",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(Xe(n))return{data:null,error:n};throw n}}async _updateOAuthClient(t,n){try{return await lt(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${t}`,{body:n,headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(Xe(r))return{data:null,error:r};throw r}}async _deleteOAuthClient(t){try{return await lt(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(n){if(Xe(n))return{data:null,error:n};throw n}}async _regenerateOAuthClientSecret(t){try{return await lt(this.fetch,"POST",`${this.url}/admin/oauth/clients/${t}/regenerate_secret`,{headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(Xe(n))return{data:null,error:n};throw n}}};function tD(e={}){return{getItem:t=>e[t]||null,setItem:(t,n)=>{e[t]=n},removeItem:t=>{delete e[t]}}}const su={debug:!!(globalThis&&a4()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class _j extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}let s4=class extends _j{};class _Z extends _j{}async function l4(e,t,n){su.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const r=new globalThis.AbortController;return t>0&&setTimeout(()=>{r.abort(),su.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:r.signal},async i=>{if(i){su.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,i.name);try{return await n()}finally{su.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,i.name)}}else{if(t===0)throw su.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new s4(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(su.debug)try{const a=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(a,null,"  "))}catch(a){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",a)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await n()}}))}const nD={};async function SZ(e,t,n){var r;const i=(r=nD[e])!==null&&r!==void 0?r:Promise.resolve(),a=Promise.race([i.catch(()=>null),t>=0?new Promise((o,l)=>{setTimeout(()=>{l(new _Z(`Acquring process lock with name "${e}" timed out`))},t)}):null].filter(o=>o)).catch(o=>{if(o&&o.isAcquireTimeout)throw o;return null}).then(async()=>await n());return nD[e]=a.catch(async o=>{if(o&&o.isAcquireTimeout)return await i,null;throw o}),await a}function kZ(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function c4(e){if(!/^0x[a-fA-F0-9]{40}$/.test(e))throw new Error(`@supabase/auth-js: Address "${e}" is invalid.`);return e.toLowerCase()}function EZ(e){return parseInt(e,16)}function jZ(e){const t=new TextEncoder().encode(e);return"0x"+Array.from(t,r=>r.toString(16).padStart(2,"0")).join("")}function TZ(e){var t;const{chainId:n,domain:r,expirationTime:i,issuedAt:a=new Date,nonce:o,notBefore:l,requestId:u,resources:d,scheme:h,uri:m,version:b}=e;{if(!Number.isInteger(n))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${n}`);if(!r)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(o&&o.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${o}`);if(!m)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(b!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${b}`);if(!((t=e.statement)===null||t===void 0)&&t.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${e.statement}`)}const y=c4(e.address),k=h?`${h}://${r}`:r,w=e.statement?`${e.statement}
`:"",_=`${k} wants you to sign in with your Ethereum account:
${y}

${w}`;let j=`URI: ${m}
Version: ${b}
Chain ID: ${n}${o?`
Nonce: ${o}`:""}
Issued At: ${a.toISOString()}`;if(i&&(j+=`
Expiration Time: ${i.toISOString()}`),l&&(j+=`
Not Before: ${l.toISOString()}`),u&&(j+=`
Request ID: ${u}`),d){let O=`
Resources:`;for(const T of d){if(!T||typeof T!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${T}`);O+=`
- ${T}`}j+=O}return`${_}
${j}`}class Zn extends Error{constructor({message:t,code:n,cause:r,name:i}){var a;super(t,{cause:r}),this.__isWebAuthnError=!0,this.name=(a=i??(r instanceof Error?r.name:void 0))!==null&&a!==void 0?a:"Unknown Error",this.code=n}}class _y extends Zn{constructor(t,n){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:n,message:t}),this.name="WebAuthnUnknownError",this.originalError=n}}function AZ({error:e,options:t}){var n,r,i;const{publicKey:a}=t;if(!a)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(t.signal instanceof AbortSignal)return new Zn({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else if(e.name==="ConstraintError"){if(((n=a.authenticatorSelection)===null||n===void 0?void 0:n.requireResidentKey)===!0)return new Zn({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:e});if(t.mediation==="conditional"&&((r=a.authenticatorSelection)===null||r===void 0?void 0:r.userVerification)==="required")return new Zn({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:e});if(((i=a.authenticatorSelection)===null||i===void 0?void 0:i.userVerification)==="required")return new Zn({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:e})}else{if(e.name==="InvalidStateError")return new Zn({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:e});if(e.name==="NotAllowedError")return new Zn({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="NotSupportedError")return a.pubKeyCredParams.filter(l=>l.type==="public-key").length===0?new Zn({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:e}):new Zn({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:e});if(e.name==="SecurityError"){const o=window.location.hostname;if(u4(o)){if(a.rp.id!==o)return new Zn({message:`The RP ID "${a.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else return new Zn({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="TypeError"){if(a.user.id.byteLength<1||a.user.id.byteLength>64)return new Zn({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:e})}else if(e.name==="UnknownError")return new Zn({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new Zn({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}function NZ({error:e,options:t}){const{publicKey:n}=t;if(!n)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(t.signal instanceof AbortSignal)return new Zn({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else{if(e.name==="NotAllowedError")return new Zn({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="SecurityError"){const r=window.location.hostname;if(u4(r)){if(n.rpId!==r)return new Zn({message:`The RP ID "${n.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else return new Zn({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="UnknownError")return new Zn({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new Zn({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}class OZ{createNewAbortSignal(){if(this.controller){const n=new Error("Cancelling existing WebAuthn API call for new one");n.name="AbortError",this.controller.abort(n)}const t=new AbortController;return this.controller=t,t.signal}cancelCeremony(){if(this.controller){const t=new Error("Manually cancelling existing WebAuthn API call");t.name="AbortError",this.controller.abort(t),this.controller=void 0}}}const CZ=new OZ;function MZ(e){if(!e)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(e);const{challenge:t,user:n,excludeCredentials:r}=e,i=Nf(e,["challenge","user","excludeCredentials"]),a=nf(t).buffer,o=Object.assign(Object.assign({},n),{id:nf(n.id).buffer}),l=Object.assign(Object.assign({},i),{challenge:a,user:o});if(r&&r.length>0){l.excludeCredentials=new Array(r.length);for(let u=0;u<r.length;u++){const d=r[u];l.excludeCredentials[u]=Object.assign(Object.assign({},d),{id:nf(d.id).buffer,type:d.type||"public-key",transports:d.transports})}}return l}function DZ(e){if(!e)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(e);const{challenge:t,allowCredentials:n}=e,r=Nf(e,["challenge","allowCredentials"]),i=nf(t).buffer,a=Object.assign(Object.assign({},r),{challenge:i});if(n&&n.length>0){a.allowCredentials=new Array(n.length);for(let o=0;o<n.length;o++){const l=n[o];a.allowCredentials[o]=Object.assign(Object.assign({},l),{id:nf(l.id).buffer,type:l.type||"public-key",transports:l.transports})}}return a}function PZ(e){var t;if("toJSON"in e&&typeof e.toJSON=="function")return e.toJSON();const n=e;return{id:e.id,rawId:e.id,response:{attestationObject:bu(new Uint8Array(e.response.attestationObject)),clientDataJSON:bu(new Uint8Array(e.response.clientDataJSON))},type:"public-key",clientExtensionResults:e.getClientExtensionResults(),authenticatorAttachment:(t=n.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function RZ(e){var t;if("toJSON"in e&&typeof e.toJSON=="function")return e.toJSON();const n=e,r=e.getClientExtensionResults(),i=e.response;return{id:e.id,rawId:e.id,response:{authenticatorData:bu(new Uint8Array(i.authenticatorData)),clientDataJSON:bu(new Uint8Array(i.clientDataJSON)),signature:bu(new Uint8Array(i.signature)),userHandle:i.userHandle?bu(new Uint8Array(i.userHandle)):void 0},type:"public-key",clientExtensionResults:r,authenticatorAttachment:(t=n.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function u4(e){return e==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(e)}function rD(){var e,t;return!!(Mr()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((e=navigator?.credentials)===null||e===void 0?void 0:e.create)=="function"&&typeof((t=navigator?.credentials)===null||t===void 0?void 0:t.get)=="function")}async function LZ(e){try{const t=await navigator.credentials.create(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new _y("Browser returned unexpected credential type",t)}:{data:null,error:new _y("Empty credential response",t)}}catch(t){return{data:null,error:AZ({error:t,options:e})}}}async function IZ(e){try{const t=await navigator.credentials.get(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new _y("Browser returned unexpected credential type",t)}:{data:null,error:new _y("Empty credential response",t)}}catch(t){return{data:null,error:NZ({error:t,options:e})}}}const $Z={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"direct"},BZ={userVerification:"preferred",hints:["security-key"],attestation:"direct"};function Sy(...e){const t=i=>i!==null&&typeof i=="object"&&!Array.isArray(i),n=i=>i instanceof ArrayBuffer||ArrayBuffer.isView(i),r={};for(const i of e)if(i)for(const a in i){const o=i[a];if(o!==void 0)if(Array.isArray(o))r[a]=o;else if(n(o))r[a]=o;else if(t(o)){const l=r[a];t(l)?r[a]=Sy(l,o):r[a]=Sy(o)}else r[a]=o}return r}function zZ(e,t){return Sy($Z,e,t||{})}function UZ(e,t){return Sy(BZ,e,t||{})}class FZ{constructor(t){this.client=t,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(t){return this.client.mfa.enroll(Object.assign(Object.assign({},t),{factorType:"webauthn"}))}async _challenge({factorId:t,webauthn:n,friendlyName:r,signal:i},a){try{const{data:o,error:l}=await this.client.mfa.challenge({factorId:t,webauthn:n});if(!o)return{data:null,error:l};const u=i??CZ.createNewAbortSignal();if(o.webauthn.type==="create"){const{user:d}=o.webauthn.credential_options.publicKey;d.name||(d.name=`${d.id}:${r}`),d.displayName||(d.displayName=d.name)}switch(o.webauthn.type){case"create":{const d=zZ(o.webauthn.credential_options.publicKey,a?.create),{data:h,error:m}=await LZ({publicKey:d,signal:u});return h?{data:{factorId:t,challengeId:o.id,webauthn:{type:o.webauthn.type,credential_response:h}},error:null}:{data:null,error:m}}case"request":{const d=UZ(o.webauthn.credential_options.publicKey,a?.request),{data:h,error:m}=await IZ(Object.assign(Object.assign({},o.webauthn.credential_options),{publicKey:d,signal:u}));return h?{data:{factorId:t,challengeId:o.id,webauthn:{type:o.webauthn.type,credential_response:h}},error:null}:{data:null,error:m}}}}catch(o){return Xe(o)?{data:null,error:o}:{data:null,error:new Yl("Unexpected error in challenge",o)}}}async _verify({challengeId:t,factorId:n,webauthn:r}){return this.client.mfa.verify({factorId:n,challengeId:t,webauthn:r})}async _authenticate({factorId:t,webauthn:{rpId:n=typeof window<"u"?window.location.hostname:void 0,rpOrigins:r=typeof window<"u"?[window.location.origin]:void 0,signal:i}={}},a){if(!n)return{data:null,error:new df("rpId is required for WebAuthn authentication")};try{if(!rD())return{data:null,error:new Yl("Browser does not support WebAuthn",null)};const{data:o,error:l}=await this.challenge({factorId:t,webauthn:{rpId:n,rpOrigins:r},signal:i},{request:a});if(!o)return{data:null,error:l};const{webauthn:u}=o;return this._verify({factorId:t,challengeId:o.challengeId,webauthn:{type:u.type,rpId:n,rpOrigins:r,credential_response:u.credential_response}})}catch(o){return Xe(o)?{data:null,error:o}:{data:null,error:new Yl("Unexpected error in authenticate",o)}}}async _register({friendlyName:t,webauthn:{rpId:n=typeof window<"u"?window.location.hostname:void 0,rpOrigins:r=typeof window<"u"?[window.location.origin]:void 0,signal:i}={}},a){if(!n)return{data:null,error:new df("rpId is required for WebAuthn registration")};try{if(!rD())return{data:null,error:new Yl("Browser does not support WebAuthn",null)};const{data:o,error:l}=await this._enroll({friendlyName:t});if(!o)return await this.client.mfa.listFactors().then(h=>{var m;return(m=h.data)===null||m===void 0?void 0:m.all.find(b=>b.factor_type==="webauthn"&&b.friendly_name===t&&b.status!=="unverified")}).then(h=>h?this.client.mfa.unenroll({factorId:h?.id}):void 0),{data:null,error:l};const{data:u,error:d}=await this._challenge({factorId:o.id,friendlyName:o.friendly_name,webauthn:{rpId:n,rpOrigins:r},signal:i},{create:a});return u?this._verify({factorId:o.id,challengeId:u.challengeId,webauthn:{rpId:n,rpOrigins:r,type:u.webauthn.type,credential_response:u.webauthn.credential_response}}):{data:null,error:d}}catch(o){return Xe(o)?{data:null,error:o}:{data:null,error:new Yl("Unexpected error in register",o)}}}}kZ();const HZ={url:HV,storageKey:GV,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:YV,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1};async function iD(e,t,n){return await n()}const Od={};let Sj=class pE{get jwks(){var t,n;return(n=(t=Od[this.storageKey])===null||t===void 0?void 0:t.jwks)!==null&&n!==void 0?n:{keys:[]}}set jwks(t){Od[this.storageKey]=Object.assign(Object.assign({},Od[this.storageKey]),{jwks:t})}get jwks_cached_at(){var t,n;return(n=(t=Od[this.storageKey])===null||t===void 0?void 0:t.cachedAt)!==null&&n!==void 0?n:Number.MIN_SAFE_INTEGER}set jwks_cached_at(t){Od[this.storageKey]=Object.assign(Object.assign({},Od[this.storageKey]),{cachedAt:t})}constructor(t){var n,r,i;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;const a=Object.assign(Object.assign({},HZ),t);if(this.storageKey=a.storageKey,this.instanceID=(n=pE.nextInstanceID[this.storageKey])!==null&&n!==void 0?n:0,pE.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!a.debug,typeof a.debug=="function"&&(this.logger=a.debug),this.instanceID>0&&Mr()){const o=`${this._logPrefix()} Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.`;console.warn(o),this.logDebugMessages&&console.trace(o)}if(this.persistSession=a.persistSession,this.autoRefreshToken=a.autoRefreshToken,this.admin=new wj({url:a.url,headers:a.headers,fetch:a.fetch}),this.url=a.url,this.headers=a.headers,this.fetch=o4(a.fetch),this.lock=a.lock||iD,this.detectSessionInUrl=a.detectSessionInUrl,this.flowType=a.flowType,this.hasCustomAuthorizationHeader=a.hasCustomAuthorizationHeader,this.throwOnError=a.throwOnError,a.lock?this.lock=a.lock:Mr()&&(!((r=globalThis?.navigator)===null||r===void 0)&&r.locks)?this.lock=l4:this.lock=iD,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new FZ(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this),listGrants:this._listOAuthGrants.bind(this),revokeGrant:this._revokeOAuthGrant.bind(this)},this.persistSession?(a.storage?this.storage=a.storage:a4()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=tD(this.memoryStorage)),a.userStorage&&(this.userStorage=a.userStorage)):(this.memoryStorage={},this.storage=tD(this.memoryStorage)),Mr()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(o){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",o)}(i=this.broadcastChannel)===null||i===void 0||i.addEventListener("message",async o=>{this._debug("received broadcast notification from other tab or client",o),await this._notifyAllSubscribers(o.data.event,o.data.session,!1)})}this.initialize()}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(t){if(this.throwOnError&&t&&t.error)throw t.error;return t}_logPrefix(){return`GoTrueClient@${this.storageKey}:${this.instanceID} (${JB}) ${new Date().toISOString()}`}_debug(...t){return this.logDebugMessages&&this.logger(this._logPrefix(),...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{let n={},r="none";if(Mr()&&(n=nZ(window.location.href),this._isImplicitGrantCallback(n)?r="implicit":await this._isPKCECallback(n)&&(r="pkce")),Mr()&&this.detectSessionInUrl&&r!=="none"){const{data:i,error:a}=await this._getSessionFromURL(n,r);if(a){if(this._debug("#_initialize()","error detecting session from URL",a),r4(a)){const u=(t=a.details)===null||t===void 0?void 0:t.code;if(u==="identity_already_exists"||u==="identity_not_found"||u==="single_identity_not_deletable")return{error:a}}return await this._removeSession(),{error:a}}const{session:o,redirectType:l}=i;return this._debug("#_initialize()","detected session in URL",o,"redirect type",l),await this._saveSession(o),setTimeout(async()=>{l==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",o):await this._notifyAllSubscribers("SIGNED_IN",o)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(n){return Xe(n)?this._returnResult({error:n}):this._returnResult({error:new Yl("Unexpected error during initialization",n)})}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var n,r,i;try{const a=await lt(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(r=(n=t?.options)===null||n===void 0?void 0:n.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:(i=t?.options)===null||i===void 0?void 0:i.captchaToken}},xform:Ka}),{data:o,error:l}=a;if(l||!o)return this._returnResult({data:{user:null,session:null},error:l});const u=o.session,d=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",u)),this._returnResult({data:{user:d,session:u},error:null})}catch(a){if(Xe(a))return this._returnResult({data:{user:null,session:null},error:a});throw a}}async signUp(t){var n,r,i;try{let a;if("email"in t){const{email:h,password:m,options:b}=t;let y=null,k=null;this.flowType==="pkce"&&([y,k]=await Ad(this.storage,this.storageKey)),a=await lt(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:b?.emailRedirectTo,body:{email:h,password:m,data:(n=b?.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:b?.captchaToken},code_challenge:y,code_challenge_method:k},xform:Ka})}else if("phone"in t){const{phone:h,password:m,options:b}=t;a=await lt(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:h,password:m,data:(r=b?.data)!==null&&r!==void 0?r:{},channel:(i=b?.channel)!==null&&i!==void 0?i:"sms",gotrue_meta_security:{captcha_token:b?.captchaToken}},xform:Ka})}else throw new Tm("You must provide either an email or phone number and a password");const{data:o,error:l}=a;if(l||!o)return await Or(this.storage,`${this.storageKey}-code-verifier`),this._returnResult({data:{user:null,session:null},error:l});const u=o.session,d=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",u)),this._returnResult({data:{user:d,session:u},error:null})}catch(a){if(await Or(this.storage,`${this.storageKey}-code-verifier`),Xe(a))return this._returnResult({data:{user:null,session:null},error:a});throw a}}async signInWithPassword(t){try{let n;if("email"in t){const{email:a,password:o,options:l}=t;n=await lt(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:a,password:o,gotrue_meta_security:{captcha_token:l?.captchaToken}},xform:QM})}else if("phone"in t){const{phone:a,password:o,options:l}=t;n=await lt(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:a,password:o,gotrue_meta_security:{captcha_token:l?.captchaToken}},xform:QM})}else throw new Tm("You must provide either an email or phone number and a password");const{data:r,error:i}=n;if(i)return this._returnResult({data:{user:null,session:null},error:i});if(!r||!r.session||!r.user){const a=new au;return this._returnResult({data:{user:null,session:null},error:a})}return r.session&&(await this._saveSession(r.session),await this._notifyAllSubscribers("SIGNED_IN",r.session)),this._returnResult({data:Object.assign({user:r.user,session:r.session},r.weak_password?{weakPassword:r.weak_password}:null),error:i})}catch(n){if(Xe(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async signInWithOAuth(t){var n,r,i,a;return await this._handleProviderSignIn(t.provider,{redirectTo:(n=t.options)===null||n===void 0?void 0:n.redirectTo,scopes:(r=t.options)===null||r===void 0?void 0:r.scopes,queryParams:(i=t.options)===null||i===void 0?void 0:i.queryParams,skipBrowserRedirect:(a=t.options)===null||a===void 0?void 0:a.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(t))}async signInWithWeb3(t){const{chain:n}=t;switch(n){case"ethereum":return await this.signInWithEthereum(t);case"solana":return await this.signInWithSolana(t);default:throw new Error(`@supabase/auth-js: Unsupported chain "${n}"`)}}async signInWithEthereum(t){var n,r,i,a,o,l,u,d,h,m,b;let y,k;if("message"in t)y=t.message,k=t.signature;else{const{chain:w,wallet:_,statement:j,options:O}=t;let T;if(Mr())if(typeof _=="object")T=_;else{const K=window;if("ethereum"in K&&typeof K.ethereum=="object"&&"request"in K.ethereum&&typeof K.ethereum.request=="function")T=K.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof _!="object"||!O?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");T=_}const C=new URL((n=O?.url)!==null&&n!==void 0?n:window.location.href),M=await T.request({method:"eth_requestAccounts"}).then(K=>K).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!M||M.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const P=c4(M[0]);let I=(r=O?.signInWithEthereum)===null||r===void 0?void 0:r.chainId;if(!I){const K=await T.request({method:"eth_chainId"});I=EZ(K)}const z={domain:C.host,address:P,statement:j,uri:C.href,version:"1",chainId:I,nonce:(i=O?.signInWithEthereum)===null||i===void 0?void 0:i.nonce,issuedAt:(o=(a=O?.signInWithEthereum)===null||a===void 0?void 0:a.issuedAt)!==null&&o!==void 0?o:new Date,expirationTime:(l=O?.signInWithEthereum)===null||l===void 0?void 0:l.expirationTime,notBefore:(u=O?.signInWithEthereum)===null||u===void 0?void 0:u.notBefore,requestId:(d=O?.signInWithEthereum)===null||d===void 0?void 0:d.requestId,resources:(h=O?.signInWithEthereum)===null||h===void 0?void 0:h.resources};y=TZ(z),k=await T.request({method:"personal_sign",params:[jZ(y),P]})}try{const{data:w,error:_}=await lt(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:y,signature:k},!((m=t.options)===null||m===void 0)&&m.captchaToken?{gotrue_meta_security:{captcha_token:(b=t.options)===null||b===void 0?void 0:b.captchaToken}}:null),xform:Ka});if(_)throw _;if(!w||!w.session||!w.user){const j=new au;return this._returnResult({data:{user:null,session:null},error:j})}return w.session&&(await this._saveSession(w.session),await this._notifyAllSubscribers("SIGNED_IN",w.session)),this._returnResult({data:Object.assign({},w),error:_})}catch(w){if(Xe(w))return this._returnResult({data:{user:null,session:null},error:w});throw w}}async signInWithSolana(t){var n,r,i,a,o,l,u,d,h,m,b,y;let k,w;if("message"in t)k=t.message,w=t.signature;else{const{chain:_,wallet:j,statement:O,options:T}=t;let C;if(Mr())if(typeof j=="object")C=j;else{const P=window;if("solana"in P&&typeof P.solana=="object"&&("signIn"in P.solana&&typeof P.solana.signIn=="function"||"signMessage"in P.solana&&typeof P.solana.signMessage=="function"))C=P.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof j!="object"||!T?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");C=j}const M=new URL((n=T?.url)!==null&&n!==void 0?n:window.location.href);if("signIn"in C&&C.signIn){const P=await C.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},T?.signInWithSolana),{version:"1",domain:M.host,uri:M.href}),O?{statement:O}:null));let I;if(Array.isArray(P)&&P[0]&&typeof P[0]=="object")I=P[0];else if(P&&typeof P=="object"&&"signedMessage"in P&&"signature"in P)I=P;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in I&&"signature"in I&&(typeof I.signedMessage=="string"||I.signedMessage instanceof Uint8Array)&&I.signature instanceof Uint8Array)k=typeof I.signedMessage=="string"?I.signedMessage:new TextDecoder().decode(I.signedMessage),w=I.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in C)||typeof C.signMessage!="function"||!("publicKey"in C)||typeof C!="object"||!C.publicKey||!("toBase58"in C.publicKey)||typeof C.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");k=[`${M.host} wants you to sign in with your Solana account:`,C.publicKey.toBase58(),...O?["",O,""]:[""],"Version: 1",`URI: ${M.href}`,`Issued At: ${(i=(r=T?.signInWithSolana)===null||r===void 0?void 0:r.issuedAt)!==null&&i!==void 0?i:new Date().toISOString()}`,...!((a=T?.signInWithSolana)===null||a===void 0)&&a.notBefore?[`Not Before: ${T.signInWithSolana.notBefore}`]:[],...!((o=T?.signInWithSolana)===null||o===void 0)&&o.expirationTime?[`Expiration Time: ${T.signInWithSolana.expirationTime}`]:[],...!((l=T?.signInWithSolana)===null||l===void 0)&&l.chainId?[`Chain ID: ${T.signInWithSolana.chainId}`]:[],...!((u=T?.signInWithSolana)===null||u===void 0)&&u.nonce?[`Nonce: ${T.signInWithSolana.nonce}`]:[],...!((d=T?.signInWithSolana)===null||d===void 0)&&d.requestId?[`Request ID: ${T.signInWithSolana.requestId}`]:[],...!((m=(h=T?.signInWithSolana)===null||h===void 0?void 0:h.resources)===null||m===void 0)&&m.length?["Resources",...T.signInWithSolana.resources.map(I=>`- ${I}`)]:[]].join(`
`);const P=await C.signMessage(new TextEncoder().encode(k),"utf8");if(!P||!(P instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");w=P}}try{const{data:_,error:j}=await lt(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:k,signature:bu(w)},!((b=t.options)===null||b===void 0)&&b.captchaToken?{gotrue_meta_security:{captcha_token:(y=t.options)===null||y===void 0?void 0:y.captchaToken}}:null),xform:Ka});if(j)throw j;if(!_||!_.session||!_.user){const O=new au;return this._returnResult({data:{user:null,session:null},error:O})}return _.session&&(await this._saveSession(_.session),await this._notifyAllSubscribers("SIGNED_IN",_.session)),this._returnResult({data:Object.assign({},_),error:j})}catch(_){if(Xe(_))return this._returnResult({data:{user:null,session:null},error:_});throw _}}async _exchangeCodeForSession(t){const n=await Jc(this.storage,`${this.storageKey}-code-verifier`),[r,i]=(n??"").split("/");try{const{data:a,error:o}=await lt(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:r},xform:Ka});if(await Or(this.storage,`${this.storageKey}-code-verifier`),o)throw o;if(!a||!a.session||!a.user){const l=new au;return this._returnResult({data:{user:null,session:null,redirectType:null},error:l})}return a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",a.session)),this._returnResult({data:Object.assign(Object.assign({},a),{redirectType:i??null}),error:o})}catch(a){if(await Or(this.storage,`${this.storageKey}-code-verifier`),Xe(a))return this._returnResult({data:{user:null,session:null,redirectType:null},error:a});throw a}}async signInWithIdToken(t){try{const{options:n,provider:r,token:i,access_token:a,nonce:o}=t,l=await lt(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:r,id_token:i,access_token:a,nonce:o,gotrue_meta_security:{captcha_token:n?.captchaToken}},xform:Ka}),{data:u,error:d}=l;if(d)return this._returnResult({data:{user:null,session:null},error:d});if(!u||!u.session||!u.user){const h=new au;return this._returnResult({data:{user:null,session:null},error:h})}return u.session&&(await this._saveSession(u.session),await this._notifyAllSubscribers("SIGNED_IN",u.session)),this._returnResult({data:u,error:d})}catch(n){if(Xe(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async signInWithOtp(t){var n,r,i,a,o;try{if("email"in t){const{email:l,options:u}=t;let d=null,h=null;this.flowType==="pkce"&&([d,h]=await Ad(this.storage,this.storageKey));const{error:m}=await lt(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:l,data:(n=u?.data)!==null&&n!==void 0?n:{},create_user:(r=u?.shouldCreateUser)!==null&&r!==void 0?r:!0,gotrue_meta_security:{captcha_token:u?.captchaToken},code_challenge:d,code_challenge_method:h},redirectTo:u?.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:m})}if("phone"in t){const{phone:l,options:u}=t,{data:d,error:h}=await lt(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:l,data:(i=u?.data)!==null&&i!==void 0?i:{},create_user:(a=u?.shouldCreateUser)!==null&&a!==void 0?a:!0,gotrue_meta_security:{captcha_token:u?.captchaToken},channel:(o=u?.channel)!==null&&o!==void 0?o:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:d?.message_id},error:h})}throw new Tm("You must provide either an email or phone number.")}catch(l){if(await Or(this.storage,`${this.storageKey}-code-verifier`),Xe(l))return this._returnResult({data:{user:null,session:null},error:l});throw l}}async verifyOtp(t){var n,r;try{let i,a;"options"in t&&(i=(n=t.options)===null||n===void 0?void 0:n.redirectTo,a=(r=t.options)===null||r===void 0?void 0:r.captchaToken);const{data:o,error:l}=await lt(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:a}}),redirectTo:i,xform:Ka});if(l)throw l;if(!o)throw new Error("An error occurred on token verification.");const u=o.session,d=o.user;return u?.access_token&&(await this._saveSession(u),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",u)),this._returnResult({data:{user:d,session:u},error:null})}catch(i){if(Xe(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}}async signInWithSSO(t){var n,r,i,a,o;try{let l=null,u=null;this.flowType==="pkce"&&([l,u]=await Ad(this.storage,this.storageKey));const d=await lt(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(r=(n=t.options)===null||n===void 0?void 0:n.redirectTo)!==null&&r!==void 0?r:void 0}),!((i=t?.options)===null||i===void 0)&&i.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:l,code_challenge_method:u}),headers:this.headers,xform:vZ});return!((a=d.data)===null||a===void 0)&&a.url&&Mr()&&!(!((o=t.options)===null||o===void 0)&&o.skipBrowserRedirect)&&window.location.assign(d.data.url),this._returnResult(d)}catch(l){if(await Or(this.storage,`${this.storageKey}-code-verifier`),Xe(l))return this._returnResult({data:null,error:l});throw l}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:n},error:r}=t;if(r)throw r;if(!n)throw new vi;const{error:i}=await lt(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:n.access_token});return this._returnResult({data:{user:null,session:null},error:i})})}catch(t){if(Xe(t))return this._returnResult({data:{user:null,session:null},error:t});throw t}}async resend(t){try{const n=`${this.url}/resend`;if("email"in t){const{email:r,type:i,options:a}=t,{error:o}=await lt(this.fetch,"POST",n,{headers:this.headers,body:{email:r,type:i,gotrue_meta_security:{captcha_token:a?.captchaToken}},redirectTo:a?.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:o})}else if("phone"in t){const{phone:r,type:i,options:a}=t,{data:o,error:l}=await lt(this.fetch,"POST",n,{headers:this.headers,body:{phone:r,type:i,gotrue_meta_security:{captcha_token:a?.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:o?.message_id},error:l})}throw new Tm("You must provide either an email or phone number and a type")}catch(n){if(Xe(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async n=>n))}async _acquireLock(t,n){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const r=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),i=(async()=>(await r,await n()))();return this.pendingInLock.push((async()=>{try{await i}catch{}})()),i}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const r=n();for(this.pendingInLock.push((async()=>{try{await r}catch{}})()),await r;this.pendingInLock.length;){const i=[...this.pendingInLock];await Promise.all(i),this.pendingInLock.splice(0,i.length)}return await r}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const n=await this.__loadSession();return await t(n)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const n=await Jc(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",n),n!==null&&(this._isValidSession(n)?t=n:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const r=t.expires_at?t.expires_at*1e3-Date.now()<g1:!1;if(this._debug("#__loadSession()",`session has${r?"":" not"} expired`,"expires_at",t.expires_at),!r){if(this.userStorage){const o=await Jc(this.userStorage,this.storageKey+"-user");o?.user?t.user=o.user:t.user=y1()}if(this.storage.isServer&&t.user&&!t.user.__isUserNotAvailableProxy){const o={value:this.suppressGetSessionWarning};t.user=pZ(t.user,o),o.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:t},error:null}}const{data:i,error:a}=await this._callRefreshToken(t.refresh_token);return a?this._returnResult({data:{session:null},error:a}):this._returnResult({data:{session:i},error:null})}finally{this._debug("#__loadSession()","end")}}async getUser(t){if(t)return await this._getUser(t);await this.initializePromise;const n=await this._acquireLock(-1,async()=>await this._getUser());return n.data.user&&(this.suppressGetSessionWarning=!0),n}async _getUser(t){try{return t?await lt(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:ql}):await this._useSession(async n=>{var r,i,a;const{data:o,error:l}=n;if(l)throw l;return!(!((r=o.session)===null||r===void 0)&&r.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new vi}:await lt(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(a=(i=o.session)===null||i===void 0?void 0:i.access_token)!==null&&a!==void 0?a:void 0,xform:ql})})}catch(n){if(Xe(n))return n4(n)&&(await this._removeSession(),await Or(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({data:{user:null},error:n});throw n}}async updateUser(t,n={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(t,n))}async _updateUser(t,n={}){try{return await this._useSession(async r=>{const{data:i,error:a}=r;if(a)throw a;if(!i.session)throw new vi;const o=i.session;let l=null,u=null;this.flowType==="pkce"&&t.email!=null&&([l,u]=await Ad(this.storage,this.storageKey));const{data:d,error:h}=await lt(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:n?.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:l,code_challenge_method:u}),jwt:o.access_token,xform:ql});if(h)throw h;return o.user=d.user,await this._saveSession(o),await this._notifyAllSubscribers("USER_UPDATED",o),this._returnResult({data:{user:o.user},error:null})})}catch(r){if(await Or(this.storage,`${this.storageKey}-code-verifier`),Xe(r))return this._returnResult({data:{user:null},error:r});throw r}}async setSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new vi;const n=Date.now()/1e3;let r=n,i=!0,a=null;const{payload:o}=b1(t.access_token);if(o.exp&&(r=o.exp,i=r<=n),i){const{data:l,error:u}=await this._callRefreshToken(t.refresh_token);if(u)return this._returnResult({data:{user:null,session:null},error:u});if(!l)return{data:{user:null,session:null},error:null};a=l}else{const{data:l,error:u}=await this._getUser(t.access_token);if(u)throw u;a={access_token:t.access_token,refresh_token:t.refresh_token,user:l.user,token_type:"bearer",expires_in:r-n,expires_at:r},await this._saveSession(a),await this._notifyAllSubscribers("SIGNED_IN",a)}return this._returnResult({data:{user:a.user,session:a},error:null})}catch(n){if(Xe(n))return this._returnResult({data:{session:null,user:null},error:n});throw n}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async n=>{var r;if(!t){const{data:o,error:l}=n;if(l)throw l;t=(r=o.session)!==null&&r!==void 0?r:void 0}if(!t?.refresh_token)throw new vi;const{data:i,error:a}=await this._callRefreshToken(t.refresh_token);return a?this._returnResult({data:{user:null,session:null},error:a}):i?this._returnResult({data:{user:i.user,session:i},error:null}):this._returnResult({data:{user:null,session:null},error:null})})}catch(n){if(Xe(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async _getSessionFromURL(t,n){try{if(!Mr())throw new Am("No browser detected.");if(t.error||t.error_description||t.error_code)throw new Am(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(n){case"implicit":if(this.flowType==="pkce")throw new hE("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Am("Not a valid implicit grant flow url.");break;default:}if(n==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new hE("No code detected.");const{data:O,error:T}=await this._exchangeCodeForSession(t.code);if(T)throw T;const C=new URL(window.location.href);return C.searchParams.delete("code"),window.history.replaceState(window.history.state,"",C.toString()),{data:{session:O.session,redirectType:null},error:null}}const{provider_token:r,provider_refresh_token:i,access_token:a,refresh_token:o,expires_in:l,expires_at:u,token_type:d}=t;if(!a||!l||!o||!d)throw new Am("No session defined in URL");const h=Math.round(Date.now()/1e3),m=parseInt(l);let b=h+m;u&&(b=parseInt(u));const y=b-h;y*1e3<=Fd&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${y}s, should have been closer to ${m}s`);const k=b-m;h-k>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",k,b,h):h-k<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",k,b,h);const{data:w,error:_}=await this._getUser(a);if(_)throw _;const j={provider_token:r,provider_refresh_token:i,access_token:a,expires_in:m,expires_at:b,refresh_token:o,token_type:d,user:w.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:j,redirectType:t.type},error:null})}catch(r){if(Xe(r))return this._returnResult({data:{session:null,redirectType:null},error:r});throw r}}_isImplicitGrantCallback(t){return!!(t.access_token||t.error_description)}async _isPKCECallback(t){const n=await Jc(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&n)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async n=>{var r;const{data:i,error:a}=n;if(a)return this._returnResult({error:a});const o=(r=i.session)===null||r===void 0?void 0:r.access_token;if(o){const{error:l}=await this.admin.signOut(o,t);if(l&&!(t4(l)&&(l.status===404||l.status===401||l.status===403)))return this._returnResult({error:l})}return t!=="others"&&(await this._removeSession(),await Or(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({error:null})})}onAuthStateChange(t){const n=tZ(),r={id:n,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",n),this.stateChangeEmitters.delete(n)}};return this._debug("#onAuthStateChange()","registered callback with id",n),this.stateChangeEmitters.set(n,r),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(n)})))(),{data:{subscription:r}}}async _emitInitialSession(t){return await this._useSession(async n=>{var r,i;try{const{data:{session:a},error:o}=n;if(o)throw o;await((r=this.stateChangeEmitters.get(t))===null||r===void 0?void 0:r.callback("INITIAL_SESSION",a)),this._debug("INITIAL_SESSION","callback id",t,"session",a)}catch(a){await((i=this.stateChangeEmitters.get(t))===null||i===void 0?void 0:i.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",a),console.error(a)}})}async resetPasswordForEmail(t,n={}){let r=null,i=null;this.flowType==="pkce"&&([r,i]=await Ad(this.storage,this.storageKey,!0));try{return await lt(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:r,code_challenge_method:i,gotrue_meta_security:{captcha_token:n.captchaToken}},headers:this.headers,redirectTo:n.redirectTo})}catch(a){if(await Or(this.storage,`${this.storageKey}-code-verifier`),Xe(a))return this._returnResult({data:null,error:a});throw a}}async getUserIdentities(){var t;try{const{data:n,error:r}=await this.getUser();if(r)throw r;return this._returnResult({data:{identities:(t=n.user.identities)!==null&&t!==void 0?t:[]},error:null})}catch(n){if(Xe(n))return this._returnResult({data:null,error:n});throw n}}async linkIdentity(t){return"token"in t?this.linkIdentityIdToken(t):this.linkIdentityOAuth(t)}async linkIdentityOAuth(t){var n;try{const{data:r,error:i}=await this._useSession(async a=>{var o,l,u,d,h;const{data:m,error:b}=a;if(b)throw b;const y=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(o=t.options)===null||o===void 0?void 0:o.redirectTo,scopes:(l=t.options)===null||l===void 0?void 0:l.scopes,queryParams:(u=t.options)===null||u===void 0?void 0:u.queryParams,skipBrowserRedirect:!0});return await lt(this.fetch,"GET",y,{headers:this.headers,jwt:(h=(d=m.session)===null||d===void 0?void 0:d.access_token)!==null&&h!==void 0?h:void 0})});if(i)throw i;return Mr()&&!(!((n=t.options)===null||n===void 0)&&n.skipBrowserRedirect)&&window.location.assign(r?.url),this._returnResult({data:{provider:t.provider,url:r?.url},error:null})}catch(r){if(Xe(r))return this._returnResult({data:{provider:t.provider,url:null},error:r});throw r}}async linkIdentityIdToken(t){return await this._useSession(async n=>{var r;try{const{error:i,data:{session:a}}=n;if(i)throw i;const{options:o,provider:l,token:u,access_token:d,nonce:h}=t,m=await lt(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(r=a?.access_token)!==null&&r!==void 0?r:void 0,body:{provider:l,id_token:u,access_token:d,nonce:h,link_identity:!0,gotrue_meta_security:{captcha_token:o?.captchaToken}},xform:Ka}),{data:b,error:y}=m;return y?this._returnResult({data:{user:null,session:null},error:y}):!b||!b.session||!b.user?this._returnResult({data:{user:null,session:null},error:new au}):(b.session&&(await this._saveSession(b.session),await this._notifyAllSubscribers("USER_UPDATED",b.session)),this._returnResult({data:b,error:y}))}catch(i){if(await Or(this.storage,`${this.storageKey}-code-verifier`),Xe(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}})}async unlinkIdentity(t){try{return await this._useSession(async n=>{var r,i;const{data:a,error:o}=n;if(o)throw o;return await lt(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(i=(r=a.session)===null||r===void 0?void 0:r.access_token)!==null&&i!==void 0?i:void 0})})}catch(n){if(Xe(n))return this._returnResult({data:null,error:n});throw n}}async _refreshAccessToken(t){const n=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(n,"begin");try{const r=Date.now();return await aZ(async i=>(i>0&&await iZ(200*Math.pow(2,i-1)),this._debug(n,"refreshing attempt",i),await lt(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:Ka})),(i,a)=>{const o=200*Math.pow(2,i);return a&&Xb(a)&&Date.now()+o-r<Fd})}catch(r){if(this._debug(n,"error",r),Xe(r))return this._returnResult({data:{session:null,user:null},error:r});throw r}finally{this._debug(n,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,n){const r=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:n.redirectTo,scopes:n.scopes,queryParams:n.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",n,"url",r),Mr()&&!n.skipBrowserRedirect&&window.location.assign(r),{data:{provider:t,url:r},error:null}}async _recoverAndRefresh(){var t,n;const r="#_recoverAndRefresh()";this._debug(r,"begin");try{const i=await Jc(this.storage,this.storageKey);if(i&&this.userStorage){let o=await Jc(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!o&&(o={user:i.user},await Hd(this.userStorage,this.storageKey+"-user",o)),i.user=(t=o?.user)!==null&&t!==void 0?t:y1()}else if(i&&!i.user&&!i.user){const o=await Jc(this.storage,this.storageKey+"-user");o&&o?.user?(i.user=o.user,await Or(this.storage,this.storageKey+"-user"),await Hd(this.storage,this.storageKey,i)):i.user=y1()}if(this._debug(r,"session from storage",i),!this._isValidSession(i)){this._debug(r,"session is not valid"),i!==null&&await this._removeSession();return}const a=((n=i.expires_at)!==null&&n!==void 0?n:1/0)*1e3-Date.now()<g1;if(this._debug(r,`session has${a?"":" not"} expired with margin of ${g1}s`),a){if(this.autoRefreshToken&&i.refresh_token){const{error:o}=await this._callRefreshToken(i.refresh_token);o&&(console.error(o),Xb(o)||(this._debug(r,"refresh failed with a non-retryable error, removing the session",o),await this._removeSession()))}}else if(i.user&&i.user.__isUserNotAvailableProxy===!0)try{const{data:o,error:l}=await this._getUser(i.access_token);!l&&o?.user?(i.user=o.user,await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)):this._debug(r,"could not get user data, skipping SIGNED_IN notification")}catch(o){console.error("Error getting user data:",o),this._debug(r,"error getting user data, skipping SIGNED_IN notification",o)}else await this._notifyAllSubscribers("SIGNED_IN",i)}catch(i){this._debug(r,"error",i),console.error(i);return}finally{this._debug(r,"end")}}async _callRefreshToken(t){var n,r;if(!t)throw new vi;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const i=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(i,"begin");try{this.refreshingDeferred=new nx;const{data:a,error:o}=await this._refreshAccessToken(t);if(o)throw o;if(!a.session)throw new vi;await this._saveSession(a.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",a.session);const l={data:a.session,error:null};return this.refreshingDeferred.resolve(l),l}catch(a){if(this._debug(i,"error",a),Xe(a)){const o={data:null,error:a};return Xb(a)||await this._removeSession(),(n=this.refreshingDeferred)===null||n===void 0||n.resolve(o),o}throw(r=this.refreshingDeferred)===null||r===void 0||r.reject(a),a}finally{this.refreshingDeferred=null,this._debug(i,"end")}}async _notifyAllSubscribers(t,n,r=!0){const i=`#_notifyAllSubscribers(${t})`;this._debug(i,"begin",n,`broadcast = ${r}`);try{this.broadcastChannel&&r&&this.broadcastChannel.postMessage({event:t,session:n});const a=[],o=Array.from(this.stateChangeEmitters.values()).map(async l=>{try{await l.callback(t,n)}catch(u){a.push(u)}});if(await Promise.all(o),a.length>0){for(let l=0;l<a.length;l+=1)console.error(a[l]);throw a[0]}}finally{this._debug(i,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0,await Or(this.storage,`${this.storageKey}-code-verifier`);const n=Object.assign({},t),r=n.user&&n.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!r&&n.user&&await Hd(this.userStorage,this.storageKey+"-user",{user:n.user});const i=Object.assign({},n);delete i.user;const a=XM(i);await Hd(this.storage,this.storageKey,a)}else{const i=XM(n);await Hd(this.storage,this.storageKey,i)}}async _removeSession(){this._debug("#_removeSession()"),this.suppressGetSessionWarning=!1,await Or(this.storage,this.storageKey),await Or(this.storage,this.storageKey+"-code-verifier"),await Or(this.storage,this.storageKey+"-user"),this.userStorage&&await Or(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&Mr()&&window?.removeEventListener&&window.removeEventListener("visibilitychange",t)}catch(n){console.error("removing visibilitychange callback failed",n)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),Fd);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async n=>{const{data:{session:r}}=n;if(!r||!r.refresh_token||!r.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const i=Math.floor((r.expires_at*1e3-t)/Fd);this._debug("#_autoRefreshTokenTick()",`access token expires in ${i} ticks, a tick lasts ${Fd}ms, refresh threshold is ${dE} ticks`),i<=dE&&await this._callRefreshToken(r.refresh_token)})}catch(n){console.error("Auto refresh tick failed with error. This is likely a transient error.",n)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof _j)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Mr()||!window?.addEventListener)return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window?.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const n=`#_onVisibilityChanged(${t})`;this._debug(n,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(n,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,n,r){const i=[`provider=${encodeURIComponent(n)}`];if(r?.redirectTo&&i.push(`redirect_to=${encodeURIComponent(r.redirectTo)}`),r?.scopes&&i.push(`scopes=${encodeURIComponent(r.scopes)}`),this.flowType==="pkce"){const[a,o]=await Ad(this.storage,this.storageKey),l=new URLSearchParams({code_challenge:`${encodeURIComponent(a)}`,code_challenge_method:`${encodeURIComponent(o)}`});i.push(l.toString())}if(r?.queryParams){const a=new URLSearchParams(r.queryParams);i.push(a.toString())}return r?.skipBrowserRedirect&&i.push(`skip_http_redirect=${r.skipBrowserRedirect}`),`${t}?${i.join("&")}`}async _unenroll(t){try{return await this._useSession(async n=>{var r;const{data:i,error:a}=n;return a?this._returnResult({data:null,error:a}):await lt(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(r=i?.session)===null||r===void 0?void 0:r.access_token})})}catch(n){if(Xe(n))return this._returnResult({data:null,error:n});throw n}}async _enroll(t){try{return await this._useSession(async n=>{var r,i;const{data:a,error:o}=n;if(o)return this._returnResult({data:null,error:o});const l=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:t.factorType==="totp"?{issuer:t.issuer}:{}),{data:u,error:d}=await lt(this.fetch,"POST",`${this.url}/factors`,{body:l,headers:this.headers,jwt:(r=a?.session)===null||r===void 0?void 0:r.access_token});return d?this._returnResult({data:null,error:d}):(t.factorType==="totp"&&u.type==="totp"&&(!((i=u?.totp)===null||i===void 0)&&i.qr_code)&&(u.totp.qr_code=`data:image/svg+xml;utf-8,${u.totp.qr_code}`),this._returnResult({data:u,error:null}))})}catch(n){if(Xe(n))return this._returnResult({data:null,error:n});throw n}}async _verify(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var r;const{data:i,error:a}=n;if(a)return this._returnResult({data:null,error:a});const o=Object.assign({challenge_id:t.challengeId},"webauthn"in t?{webauthn:Object.assign(Object.assign({},t.webauthn),{credential_response:t.webauthn.type==="create"?PZ(t.webauthn.credential_response):RZ(t.webauthn.credential_response)})}:{code:t.code}),{data:l,error:u}=await lt(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:o,headers:this.headers,jwt:(r=i?.session)===null||r===void 0?void 0:r.access_token});return u?this._returnResult({data:null,error:u}):(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+l.expires_in},l)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",l),this._returnResult({data:l,error:u}))})}catch(n){if(Xe(n))return this._returnResult({data:null,error:n});throw n}})}async _challenge(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var r;const{data:i,error:a}=n;if(a)return this._returnResult({data:null,error:a});const o=await lt(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:t,headers:this.headers,jwt:(r=i?.session)===null||r===void 0?void 0:r.access_token});if(o.error)return o;const{data:l}=o;if(l.type!=="webauthn")return{data:l,error:null};switch(l.webauthn.type){case"create":return{data:Object.assign(Object.assign({},l),{webauthn:Object.assign(Object.assign({},l.webauthn),{credential_options:Object.assign(Object.assign({},l.webauthn.credential_options),{publicKey:MZ(l.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},l),{webauthn:Object.assign(Object.assign({},l.webauthn),{credential_options:Object.assign(Object.assign({},l.webauthn.credential_options),{publicKey:DZ(l.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(n){if(Xe(n))return this._returnResult({data:null,error:n});throw n}})}async _challengeAndVerify(t){const{data:n,error:r}=await this._challenge({factorId:t.factorId});return r?this._returnResult({data:null,error:r}):await this._verify({factorId:t.factorId,challengeId:n.id,code:t.code})}async _listFactors(){var t;const{data:{user:n},error:r}=await this.getUser();if(r)return{data:null,error:r};const i={all:[],phone:[],totp:[],webauthn:[]};for(const a of(t=n?.factors)!==null&&t!==void 0?t:[])i.all.push(a),a.status==="verified"&&i[a.factor_type].push(a);return{data:i,error:null}}async _getAuthenticatorAssuranceLevel(){var t,n;const{data:{session:r},error:i}=await this.getSession();if(i)return this._returnResult({data:null,error:i});if(!r)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:a}=b1(r.access_token);let o=null;a.aal&&(o=a.aal);let l=o;((n=(t=r.user.factors)===null||t===void 0?void 0:t.filter(h=>h.status==="verified"))!==null&&n!==void 0?n:[]).length>0&&(l="aal2");const d=a.amr||[];return{data:{currentLevel:o,nextLevel:l,currentAuthenticationMethods:d},error:null}}async _getAuthorizationDetails(t){try{return await this._useSession(async n=>{const{data:{session:r},error:i}=n;return i?this._returnResult({data:null,error:i}):r?await lt(this.fetch,"GET",`${this.url}/oauth/authorizations/${t}`,{headers:this.headers,jwt:r.access_token,xform:a=>({data:a,error:null})}):this._returnResult({data:null,error:new vi})})}catch(n){if(Xe(n))return this._returnResult({data:null,error:n});throw n}}async _approveAuthorization(t,n){try{return await this._useSession(async r=>{const{data:{session:i},error:a}=r;if(a)return this._returnResult({data:null,error:a});if(!i)return this._returnResult({data:null,error:new vi});const o=await lt(this.fetch,"POST",`${this.url}/oauth/authorizations/${t}/consent`,{headers:this.headers,jwt:i.access_token,body:{action:"approve"},xform:l=>({data:l,error:null})});return o.data&&o.data.redirect_url&&Mr()&&!n?.skipBrowserRedirect&&window.location.assign(o.data.redirect_url),o})}catch(r){if(Xe(r))return this._returnResult({data:null,error:r});throw r}}async _denyAuthorization(t,n){try{return await this._useSession(async r=>{const{data:{session:i},error:a}=r;if(a)return this._returnResult({data:null,error:a});if(!i)return this._returnResult({data:null,error:new vi});const o=await lt(this.fetch,"POST",`${this.url}/oauth/authorizations/${t}/consent`,{headers:this.headers,jwt:i.access_token,body:{action:"deny"},xform:l=>({data:l,error:null})});return o.data&&o.data.redirect_url&&Mr()&&!n?.skipBrowserRedirect&&window.location.assign(o.data.redirect_url),o})}catch(r){if(Xe(r))return this._returnResult({data:null,error:r});throw r}}async _listOAuthGrants(){try{return await this._useSession(async t=>{const{data:{session:n},error:r}=t;return r?this._returnResult({data:null,error:r}):n?await lt(this.fetch,"GET",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:n.access_token,xform:i=>({data:i,error:null})}):this._returnResult({data:null,error:new vi})})}catch(t){if(Xe(t))return this._returnResult({data:null,error:t});throw t}}async _revokeOAuthGrant(t){try{return await this._useSession(async n=>{const{data:{session:r},error:i}=n;return i?this._returnResult({data:null,error:i}):r?(await lt(this.fetch,"DELETE",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:r.access_token,query:{client_id:t.clientId},noResolveJson:!0}),{data:{},error:null}):this._returnResult({data:null,error:new vi})})}catch(n){if(Xe(n))return this._returnResult({data:null,error:n});throw n}}async fetchJwk(t,n={keys:[]}){let r=n.keys.find(l=>l.kid===t);if(r)return r;const i=Date.now();if(r=this.jwks.keys.find(l=>l.kid===t),r&&this.jwks_cached_at+KV>i)return r;const{data:a,error:o}=await lt(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(o)throw o;return!a.keys||a.keys.length===0||(this.jwks=a,this.jwks_cached_at=i,r=a.keys.find(l=>l.kid===t),!r)?null:r}async getClaims(t,n={}){try{let r=t;if(!r){const{data:y,error:k}=await this.getSession();if(k||!y.session)return this._returnResult({data:null,error:k});r=y.session.access_token}const{header:i,payload:a,signature:o,raw:{header:l,payload:u}}=b1(r);n?.allowExpired||fZ(a.exp);const d=!i.alg||i.alg.startsWith("HS")||!i.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(i.kid,n?.keys?{keys:n.keys}:n?.jwks);if(!d){const{error:y}=await this.getUser(r);if(y)throw y;return{data:{claims:a,header:i,signature:o},error:null}}const h=hZ(i.alg),m=await crypto.subtle.importKey("jwk",d,h,!0,["verify"]);if(!await crypto.subtle.verify(h,m,o,QV(`${l}.${u}`)))throw new xy("Invalid JWT signature");return{data:{claims:a,header:i,signature:o},error:null}}catch(r){if(Xe(r))return this._returnResult({data:null,error:r});throw r}}};Sj.nextInstanceID={};const GZ=wj,YZ=Sj,qZ=Object.freeze(Object.defineProperty({__proto__:null,AuthAdminApi:GZ,AuthApiError:e4,AuthClient:YZ,AuthError:df,AuthImplicitGrantRedirectError:Am,AuthInvalidCredentialsError:Tm,AuthInvalidJwtError:xy,AuthInvalidTokenResponseError:au,AuthPKCEGrantCodeExchangeError:hE,AuthRetryableFetchError:vy,AuthSessionMissingError:vi,AuthUnknownError:Yl,AuthWeakPasswordError:mE,CustomAuthError:qs,GoTrueAdminApi:wj,GoTrueClient:Sj,NavigatorLockAcquireTimeoutError:s4,SIGN_OUT_SCOPES:Jb,isAuthApiError:t4,isAuthError:Xe,isAuthImplicitGrantRedirectError:r4,isAuthRetryableFetchError:Xb,isAuthSessionMissingError:n4,isAuthWeakPasswordError:WV,lockInternals:su,navigatorLock:l4,processLock:SZ},Symbol.toStringTag,{value:"Module"})),d4=Tp(qZ);var aD;function KZ(){if(aD)return tm;aD=1,Object.defineProperty(tm,"__esModule",{value:!0}),tm.SupabaseAuthClient=void 0;const e=d4;let t=class extends e.AuthClient{constructor(r){super(r)}};return tm.SupabaseAuthClient=t,tm}var oD;function sD(){if(oD)return Bg;oD=1,Object.defineProperty(Bg,"__esModule",{value:!0});const e=SB,t=NB(),n=$B,r=$V,i=zV(),a=UV(),o=FV(),l=KZ();class u{constructor(h,m,b){var y,k,w;this.supabaseUrl=h,this.supabaseKey=m;const _=(0,o.validateSupabaseUrl)(h);if(!m)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",_),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",_),this.storageUrl=new URL("storage/v1",_),this.functionsUrl=new URL("functions/v1",_);const j=`sb-${_.hostname.split(".")[0]}-auth-token`,O={db:i.DEFAULT_DB_OPTIONS,realtime:i.DEFAULT_REALTIME_OPTIONS,auth:Object.assign(Object.assign({},i.DEFAULT_AUTH_OPTIONS),{storageKey:j}),global:i.DEFAULT_GLOBAL_OPTIONS},T=(0,o.applySettingDefaults)(b??{},O);this.storageKey=(y=T.auth.storageKey)!==null&&y!==void 0?y:"",this.headers=(k=T.global.headers)!==null&&k!==void 0?k:{},T.accessToken?(this.accessToken=T.accessToken,this.auth=new Proxy({},{get:(C,M)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(M)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((w=T.auth)!==null&&w!==void 0?w:{},this.headers,T.global.fetch),this.fetch=(0,a.fetchWithAuth)(m,this._getAccessToken.bind(this),T.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},T.realtime)),this.accessToken&&this.accessToken().then(C=>this.realtime.setAuth(C)).catch(C=>console.warn("Failed to set initial Realtime auth token:",C)),this.rest=new t.PostgrestClient(new URL("rest/v1",_).href,{headers:this.headers,schema:T.db.schema,fetch:this.fetch}),this.storage=new r.StorageClient(this.storageUrl.href,this.headers,this.fetch,b?.storage),T.accessToken||this._listenForAuthEvents()}get functions(){return new e.FunctionsClient(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(h){return this.rest.from(h)}schema(h){return this.rest.schema(h)}rpc(h,m={},b={head:!1,get:!1,count:void 0}){return this.rest.rpc(h,m,b)}channel(h,m={config:{}}){return this.realtime.channel(h,m)}getChannels(){return this.realtime.getChannels()}removeChannel(h){return this.realtime.removeChannel(h)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var h,m;if(this.accessToken)return await this.accessToken();const{data:b}=await this.auth.getSession();return(m=(h=b.session)===null||h===void 0?void 0:h.access_token)!==null&&m!==void 0?m:this.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:h,persistSession:m,detectSessionInUrl:b,storage:y,userStorage:k,storageKey:w,flowType:_,lock:j,debug:O,throwOnError:T},C,M){const P={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new l.SupabaseAuthClient({url:this.authUrl.href,headers:Object.assign(Object.assign({},P),C),storageKey:w,autoRefreshToken:h,persistSession:m,detectSessionInUrl:b,storage:y,userStorage:k,flowType:_,lock:j,debug:O,throwOnError:T,fetch:M,hasCustomAuthorizationHeader:Object.keys(this.headers).some(I=>I.toLowerCase()==="authorization")})}_initRealtimeClient(h){return new n.RealtimeClient(this.realtimeUrl.href,Object.assign(Object.assign({},h),{params:Object.assign({apikey:this.supabaseKey},h?.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((m,b)=>{this._handleTokenChanged(m,"CLIENT",b?.access_token)})}_handleTokenChanged(h,m,b){(h==="TOKEN_REFRESHED"||h==="SIGNED_IN")&&this.changedAccessToken!==b?(this.changedAccessToken=b,this.realtime.setAuth(b)):h==="SIGNED_OUT"&&(this.realtime.setAuth(),m=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}return Bg.default=u,Bg}var lD;function WZ(){return lD||(lD=1,(function(e){var t=ws&&ws.__createBinding||(Object.create?(function(h,m,b,y){y===void 0&&(y=b);var k=Object.getOwnPropertyDescriptor(m,b);(!k||("get"in k?!m.__esModule:k.writable||k.configurable))&&(k={enumerable:!0,get:function(){return m[b]}}),Object.defineProperty(h,y,k)}):(function(h,m,b,y){y===void 0&&(y=b),h[y]=m[b]})),n=ws&&ws.__exportStar||function(h,m){for(var b in h)b!=="default"&&!Object.prototype.hasOwnProperty.call(m,b)&&t(m,h,b)},r=ws&&ws.__importDefault||function(h){return h&&h.__esModule?h:{default:h}};Object.defineProperty(e,"__esModule",{value:!0}),e.createClient=e.SupabaseClient=e.FunctionRegion=e.FunctionsError=e.FunctionsRelayError=e.FunctionsFetchError=e.FunctionsHttpError=e.PostgrestError=void 0;const i=r(sD());n(d4,e);var a=NB();Object.defineProperty(e,"PostgrestError",{enumerable:!0,get:function(){return a.PostgrestError}});var o=SB;Object.defineProperty(e,"FunctionsHttpError",{enumerable:!0,get:function(){return o.FunctionsHttpError}}),Object.defineProperty(e,"FunctionsFetchError",{enumerable:!0,get:function(){return o.FunctionsFetchError}}),Object.defineProperty(e,"FunctionsRelayError",{enumerable:!0,get:function(){return o.FunctionsRelayError}}),Object.defineProperty(e,"FunctionsError",{enumerable:!0,get:function(){return o.FunctionsError}}),Object.defineProperty(e,"FunctionRegion",{enumerable:!0,get:function(){return o.FunctionRegion}}),n($B,e);var l=sD();Object.defineProperty(e,"SupabaseClient",{enumerable:!0,get:function(){return r(l).default}});const u=(h,m,b)=>new i.default(h,m,b);e.createClient=u;function d(){if(typeof window<"u"||typeof process>"u")return!1;const h=process.version;if(h==null)return!1;const m=h.match(/^v(\d+)\./);return m?parseInt(m[1],10)<=18:!1}d()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217")})(ws)),ws}var f4=WZ();const h4=Ti(f4),VZ=ij({__proto__:null,default:h4},[f4]),{PostgrestError:nMe,FunctionsHttpError:rMe,FunctionsFetchError:iMe,FunctionsRelayError:aMe,FunctionsError:oMe,FunctionRegion:sMe,SupabaseClient:lMe,createClient:ZZ,GoTrueAdminApi:cMe,GoTrueClient:uMe,AuthAdminApi:dMe,AuthClient:fMe,navigatorLock:hMe,NavigatorLockAcquireTimeoutError:mMe,lockInternals:pMe,processLock:gMe,SIGN_OUT_SCOPES:bMe,AuthError:yMe,AuthApiError:vMe,AuthUnknownError:xMe,CustomAuthError:wMe,AuthSessionMissingError:_Me,AuthInvalidTokenResponseError:SMe,AuthInvalidCredentialsError:kMe,AuthImplicitGrantRedirectError:EMe,AuthPKCEGrantCodeExchangeError:jMe,AuthRetryableFetchError:TMe,AuthWeakPasswordError:AMe,AuthInvalidJwtError:NMe,isAuthError:OMe,isAuthApiError:CMe,isAuthSessionMissingError:MMe,isAuthImplicitGrantRedirectError:DMe,isAuthRetryableFetchError:PMe,isAuthWeakPasswordError:RMe,RealtimePresence:LMe,RealtimeChannel:IMe,RealtimeClient:$Me,REALTIME_LISTEN_TYPES:BMe,REALTIME_POSTGRES_CHANGES_LISTEN_EVENT:zMe,REALTIME_PRESENCE_LISTEN_EVENTS:UMe,REALTIME_SUBSCRIBE_STATES:FMe,REALTIME_CHANNEL_STATES:HMe}=h4||VZ,XZ="https://jouhybyquybxbnqztxum.supabase.co",JZ="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImpvdWh5YnlxdXlieGJucXp0eHVtIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjQ5NjIwOTgsImV4cCI6MjA4MDUzODA5OH0.qAD7S7yRW8GxcRze_3dyirReIy6HvMr9DeET-djp1Fw",QZ=!1,Le=ZZ(XZ,JZ,{auth:{flowType:"pkce",persistSession:!0,autoRefreshToken:!0,detectSessionInUrl:QZ,storage:localStorage}}),m4="settings_v1",gE=()=>{try{typeof window<"u"&&window.localStorage.removeItem(m4)}catch{}},Kl={hiddenStem:"all",hiddenStemMode:"classic",ilunRule:"/",sinsalMode:"classic",sinsalBase:"",sinsalBloom:!1,exposure:"",daewoonDisplayBase:"",charType:"",thinEum:!1,showSipSin:!0,showSibiSinsal:!0,showSibiUnseong:!0,showNabeum:!0,showEtcShinsal:!0,showRelationBox:!0,showPromptBox:!0,theme:"dark",difficultyMode:!1,sidebarCardsCollapsed:!1,sidebarCardCollapsedMap:{},sidebarCollapseInitDone:!0,sectionOrder:["hiddenStem","hiddenStemMode","ilunRule","sinsalMode","sinsalBase","sinsalBloom","exposure","charType","thinEum","visibility","difficultyMode"]},cD=["theme","hiddenStem","hiddenStemMode","ilunRule","sinsalMode","sinsalBase","sinsalBloom","exposure","charType","thinEum","visibility","difficultyMode"],eX=e=>{const t=Array.isArray(e)?e.filter(r=>typeof r=="string"&&cD.includes(r)):[],n=cD.filter(r=>!t.includes(r));return[...t,...n]},rf=e=>({...Kl,...e,sectionOrder:eX(e.sectionOrder)}),tX=e=>{if(e&&typeof e=="object"){const t=e;if(t.settings&&typeof t.settings=="object")return rf(t.settings);if(t.state&&typeof t.state=="object"){const n=t.state;if(n.settings&&typeof n.settings=="object")return rf(n.settings)}}return rf(e??{})},nX=e=>{if(!e||typeof e!="object")return!1;const t=e;return!!(t.state||t.settings)};gE();const nn=Zo()(Z5((e,t)=>({settings:Kl,syncing:!1,loaded:!1,setSettings:n=>e({settings:rf(n)}),setKey:(n,r)=>e({settings:rf({...t().settings,[n]:r})}),reset:()=>e({settings:Kl,loaded:!0}),loadFromServer:async n=>{const r=t();if(!r.syncing&&!(!n?.force&&r.loaded))try{e({syncing:!0}),gE();const{data:i,error:a}=await Le.auth.getUser(),o=i?.user??null;if(a||!o){e({settings:Kl,syncing:!1,loaded:!0});return}const l=t();!n?.force&&l.loaded&&l.syncing;const{data:u,error:d}=await Le.from("user_settings").select("payload").eq("user_id",o.id).maybeSingle();if(!u&&!d&&await Le.from("user_settings").upsert({user_id:o.id,payload:{}}),d&&d.code!=="PGRST116"){console.error("loadFromServer(settings) error:",d),e({syncing:!1,loaded:!0});return}if(u?.payload){const h=tX(u.payload),b=u.payload?.sidebarCollapseInitDone===!0;b||(h.sidebarCardsCollapsed=Kl.sidebarCardsCollapsed,h.sidebarCardCollapsedMap={},h.sidebarCollapseInitDone=!0),e({settings:h,syncing:!1,loaded:!0}),(nX(u.payload)||!b)&&await Le.from("user_settings").upsert({user_id:o.id,payload:h,updated_at:new Date().toISOString()});return}await t().saveToServer(!0),e({syncing:!1,loaded:!0})}catch(i){console.error("loadFromServer(settings) exception:",i),e({syncing:!1,loaded:!0})}},saveToServer:async(n=!1)=>{try{if(!t().loaded&&!n)return;e({syncing:!0}),gE();const{data:r,error:i}=await Le.auth.getUser(),a=r?.user??null;if(i||!a){e({syncing:!1,loaded:!0,settings:Kl});return}const o=rf(t().settings),{error:l}=await Le.from("user_settings").upsert({user_id:a.id,payload:o,updated_at:new Date().toISOString()});l&&console.error("saveToServer(settings) error:",l),e({syncing:!1,loaded:!0})}catch(r){console.error("saveToServer(settings) exception:",r),e({syncing:!1,loaded:!0})}}}),{name:m4,storage:{getItem:()=>null,setItem:()=>null,removeItem:()=>null},merge:(e,t)=>t}));function bE(e){const t=ti.indexOf(e);if(t!==-1)return ti[t];const n=ho..indexOf(e);return n!==-1?ti[n]:null}function p4(e){const t=ki.indexOf(e);if(t!==-1)return ki[t];const n=ho..indexOf(e);return n!==-1?ki[n]:null}function uD(e,t){if(t?.difficultyMode)return t?.theme==="light"?"bg-white border border-gray-300 text-neutral-900":"bg-white text-black";switch(e){case"":return"bg-green-600 text-white";case"":return"bg-red-600 text-white";case"":return"bg-yellow-500 text-white";case"":return"bg-gray-400 text-white";case"":return"bg-black text-white";default:return"bg-neutral-700 text-white"}}function Ji(e,t,n){if(t==="stem"){const r=bE(e);if(!r)return console.warn("Invalid stem:",e),"bg-neutral-700";const i=ti.indexOf(r),a=i>=0?yW[i]:void 0;return uD(a,n)}else{const r=p4(e);if(!r)return console.warn("Invalid branch:",e),"bg-neutral-700";const i=ki.indexOf(r),a=i>=0?vW[i]:void 0;return uD(a,n)}}function Ta(e,t){const n=bE(e);if(!n)throw new Error(`getSipSin: invalid dayStem ${e}`);if(t.stem){const r=bE(t.stem);if(!r)throw new Error(`getSipSin: invalid stem ${t.stem}`);return _W[n][r]}if(t.branch){const r=p4(t.branch);if(!r)throw new Error(`getSipSin: invalid branch ${t.branch}`);return SW[n][r]}throw new Error("getSipSin: stem or branch required")}const rx={:["","(-)",""],:["","",""],:["","",""],:["","(-)",""],:["","",""],:["","",""],:["","",""],:["","",""],:["","",""],:["","(-)",""],:["","",""],:["","",""]},ix={:["(-)","(-)",""],:["","",""],:["(-)","",""],:["(-)","(-)",""],:["","",""],:["(-)","",""],:["(-)","(-)",""],:["","",""],:["(-)","",""],:["(-)","(-)",""],:["","",""],:["(-)","",""]};function g4({branch:e,dayStem:t,mode:n="all",mapping:r="classic",variant:i="auto",isUnknownTime:a=!1}){const o=(r==="hgc"?ix:rx)[e]??[],l=n==="main"?[o[2]]:o,u=i==="white",d=u?"text-white":"text-neutral-800 dark:text-white",h=u?"border-white":"border-neutral-800 dark: border-neutral-200",m=u?"text-yellow-900":"text-red-600 dark:text-yellow-300";return g.jsx("div",{className:"w-full flex flex-col gap-1 mt-1",children:l.map((b,y)=>b==="(-)"||a?g.jsx("div",{className:`w-full max-w-[80px] mx-auto text-[10px] desk:text-xs text-neutral-500 py-0.5 desk:px-1 border ${h} ${d} rounded text-center text-nowrap`,children:"(-) ()"},y):g.jsxs("div",{className:`w-full max-w-[80px] mx-auto text-[10px] desk:text-xs py-0.5 desk:px-1 border ${h} ${d} rounded text-center text-nowrap 
            ${n==="main"||y===2?`jeonggi bg-neutral-500/50 ${m} font-bold`:""}`,children:[b," (",Ta(t,{stem:b}),")"]},y))})}const qi=Zo(e=>({manualHour:null,usePrevDay:!1,setManualHour:t=>e({manualHour:t}),clearManualHour:()=>e({manualHour:null}),setUsePrevDay:t=>e({usePrevDay:t}),togglePrevDay:()=>e(t=>({usePrevDay:!t.usePrevDay}))})),b4=Object.fromEntries(Object.entries(Jn).map(([e,t])=>[t,e])),y4=Object.fromEntries(Object.entries(ar).map(([e,t])=>[t,e])),rX=new Set(Object.keys(Jn)),iX=new Set(Object.keys(ar)),aX=new Set(["","","","","","","","","",""]),oX=new Set(["","","","","","","","","","","",""]);function Ei(e,t,n){return n===""?t==="stem"?Jn[e]??e:ar[e]??e:t==="stem"?b4[e]??e:y4[e]??e}function dD(e){const t=b4[e]??e;return rX.has(t)?t:""}function sX(e){const t=y4[e]??e;return iX.has(t)?t:""}function ax(e){if(cf.has(e))return e;const t=Jn[e]??e;return cf.has(t)?t:""}function kj(e){if(Gm.has(e))return e;const t=ar[e]??e;return Gm.has(t)?t:""}function oo(e,t){return t==="stem"?aX.has(e):oX.has(e)}function qd({label:e,gz:t,dayStem:n,settings:r,unseongText:i,shinsalText:a,hideBranchSipSin:o=!0,hideHiddenStems:l=!1,size:u="sm",variant:d="auto",isUnknownTime:h=!1}){const{manualHour:m}=qi(),b=h&&!m,y=t.charAt(0),k=t.charAt(1),w=Ei(y,"stem",r.charType),_=Ei(k,"branch",r.charType),j=dD(y),O=sX(k),T=dD(n),C=kj(k),M=ax(n),P=r.showSipSin?Ta(T,{stem:j}):null,I=!o&&r.showSipSin?Ta(T,{branch:O}):null,z=r.thinEum&&oo(y,"stem")?"font-thin":"font-bold",K=r.thinEum&&oo(k,"branch")?"font-thin":"font-bold",G={sm:"w-10 h-10 sm:w-12 sm:h-12",md:"w-12 h-12 sm:w-14 sm:h-14 md:w-16 md:h-16",lg:"w-14 h-14 sm:w-16 sm:h-16 md:w-20 md:h-20"},F=!l&&!!r.hiddenStem,B=r.hiddenStem==="regular"?"main":"all",q=r.hiddenStemMode==="hgc"?"hgc":"classic",X=d==="white",Z=X?"bg-white text-neutral-900 border border-neutral-200":"bg-white dark:bg-neutral-900 text-neutral-900 dark:text-neutral-100 border border-neutral-200 dark:border-neutral-800",Y=X?"bg-neutral-100 text-neutral-700":"bg-neutral-100 dark:bg-neutral-800/60 text-neutral-700 dark:text-neutral-200",V=X?"border-neutral-200":"border-neutral-200 dark:border-neutral-800",Q=X?"text-neutral-500":"text-neutral-400",se=X?"text-neutral-500":"text-neutral-400",{settings:ce}=nn(),W=b?`bg-white ${V}`:`${Ji(j,"stem",ce)} ${V}`,ne=b?`bg-white ${V}`:`${Ji(O,"branch",ce)} ${V}`,ie=b?"text-black":ce.difficultyMode?ce.theme==="light"?"text-neutral-900":"text-black":"text-white",he=b?"text-black":ce.difficultyMode?ce.theme==="light"?"text-neutral-900":"text-black":"text-white";return g.jsxs("div",{className:`rounded-sm desk:rounded-xl overflow-hidden ${Z}`,children:[g.jsx("div",{className:`py-2 text-center text-[10px] desk:text-xs tracking-wider ${Y} text-nowrap`,children:e}),g.jsxs("div",{className:"py-3 flex flex-col items-center gap-1",children:[P&&g.jsx("div",{className:`text-[10px] desk:text-xs ${Q} text-nowrap`,children:h&&!m?"-":P}),g.jsx("div",{className:`${G[u]} rounded-sm desk:rounded-lg flex items-center justify-center border ${W}`,children:g.jsx("span",{className:`text-2xl md:text-3xl ${ie} ${z}`,children:b?"-":w})}),g.jsx("div",{className:`${G[u]} rounded-sm desk:rounded-lg flex items-center justify-center border ${ne}`,children:g.jsx("span",{className:`text-2xl md:text-3xl ${he} ${K}`,children:b?"-":_})}),F&&g.jsx(g4,{branch:C,dayStem:M,mode:B,mapping:q,isUnknownTime:h&&!m&&(e===""||e==="")}),I&&g.jsx("div",{className:`text-[10px] desk:text-xs ${se}`,children:h&&!m?"-":I}),r.showSibiUnseong&&g.jsx("div",{className:`text-[10px] desk:text-xs ${se} text-nowrap`,children:h&&!m?"-":i||""}),r.showSibiSinsal&&g.jsx("div",{className:`text-[10px] desk:text-xs ${se} text-nowrap`,children:h&&!m?"-":a||""})]})]})}/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lX=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),cX=e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(t,n,r)=>r?r.toUpperCase():n.toLowerCase()),fD=e=>{const t=cX(e);return t.charAt(0).toUpperCase()+t.slice(1)},v4=(...e)=>e.filter((t,n,r)=>!!t&&t.trim()!==""&&r.indexOf(t)===n).join(" ").trim(),uX=e=>{for(const t in e)if(t.startsWith("aria-")||t==="role"||t==="title")return!0};/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var dX={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fX=S.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:i="",children:a,iconNode:o,...l},u)=>S.createElement("svg",{ref:u,...dX,width:t,height:t,stroke:e,strokeWidth:r?Number(n)*24/Number(t):n,className:v4("lucide",i),...!a&&!uX(l)&&{"aria-hidden":"true"},...l},[...o.map(([d,h])=>S.createElement(d,h)),...Array.isArray(a)?a:[a]]));/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ir=(e,t)=>{const n=S.forwardRef(({className:r,...i},a)=>S.createElement(fX,{ref:a,iconNode:t,className:v4(`lucide-${lX(fD(e))}`,`lucide-${e}`,r),...i}));return n.displayName=fD(e),n};/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hX=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],mX=Ir("chevron-down",hX);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pX=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],gX=Ir("chevron-up",pX);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bX=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]],x4=Ir("circle-question-mark",bX);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yX=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],vX=Ir("circle-x",yX);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xX=[["path",{d:"M19.414 14.414C21 12.828 22 11.5 22 9.5a5.5 5.5 0 0 0-9.591-3.676.6.6 0 0 1-.818.001A5.5 5.5 0 0 0 2 9.5c0 2.3 1.5 4 3 5.5l5.535 5.362a2 2 0 0 0 2.879.052 2.12 2.12 0 0 0-.004-3 2.124 2.124 0 1 0 3-3 2.124 2.124 0 0 0 3.004 0 2 2 0 0 0 0-2.828l-1.881-1.882a2.41 2.41 0 0 0-3.409 0l-1.71 1.71a2 2 0 0 1-2.828 0 2 2 0 0 1 0-2.828l2.823-2.762",key:"17lmqv"}]],wX=Ir("heart-handshake",xX);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _X=[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-6a2 2 0 0 1 2.582 0l7 6A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"r6nss1"}]],SX=Ir("house",_X);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kX=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],EX=Ir("info",kX);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jX=[["path",{d:"m10 17 5-5-5-5",key:"1bsop3"}],["path",{d:"M15 12H3",key:"6jk70r"}],["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}]],w4=Ir("log-in",jX);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TX=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],AX=Ir("log-out",TX);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NX=[["path",{d:"M4 5h16",key:"1tepv9"}],["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 19h16",key:"1djgab"}]],OX=Ir("menu",NX);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CX=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],MX=Ir("plus",CX);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DX=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],PX=Ir("settings",DX);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RX=[["path",{d:"M11.017 2.814a1 1 0 0 1 1.966 0l1.051 5.558a2 2 0 0 0 1.594 1.594l5.558 1.051a1 1 0 0 1 0 1.966l-5.558 1.051a2 2 0 0 0-1.594 1.594l-1.051 5.558a1 1 0 0 1-1.966 0l-1.051-5.558a2 2 0 0 0-1.594-1.594l-5.558-1.051a1 1 0 0 1 0-1.966l5.558-1.051a2 2 0 0 0 1.594-1.594z",key:"1s2grr"}],["path",{d:"M20 2v4",key:"1rf3ol"}],["path",{d:"M22 4h-4",key:"gwowj6"}],["circle",{cx:"4",cy:"20",r:"2",key:"6kqj1y"}]],LX=Ir("sparkles",RX);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IX=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}],["path",{d:"M7 21v-2a2 2 0 0 1 2-2h6a2 2 0 0 1 2 2v2",key:"1m6ac2"}]],$X=Ir("square-user",IX);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BX=[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]],_4=Ir("star",BX);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zX=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]],UX=Ir("user-plus",zX);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FX=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],ky=Ir("x",FX);function HX(){const[e,t]=S.useState(!1);return g.jsx("div",{className:"z-[60] pointer-events-none mt-2",children:g.jsx("div",{className:"max-w-[700px] w-full mx-auto pb-2 pointer-events-auto",children:g.jsxs("div",{className:"rounded-xl border border-neutral-200 bg-white/90 backdrop-blur shadow-sm dark:border-neutral-800 dark:bg-neutral-950/80",children:[g.jsxs("button",{type:"button",onClick:()=>t(n=>!n),className:"w-full flex flex-col desk:flex-row items-center justify-between gap-2 px-3 py-2 cursor-pointer",children:[g.jsx("div",{className:"flex items-center gap-2 min-w-0",children:g.jsxs("div",{className:"flex items-center gap-2",children:[g.jsx(EX,{className:"w-4 h-4 text-neutral-600 dark:text-neutral-300 hidden desk:block"}),g.jsx("span",{className:"text-xs text-neutral-700 dark:text-neutral-200",children:"         ."})]})}),g.jsx("span",{className:"text-[11px] text-neutral-500 dark:text-neutral-400",children:e?"":""})]}),e&&g.jsx("div",{className:"px-3 pb-3",children:g.jsxs("div",{className:"text-[12px] leading-relaxed text-neutral-700 dark:text-neutral-200",children:[g.jsx("p",{className:"mt-1 text-neutral-500 dark:text-neutral-400",children:"  /     ."}),g.jsx("p",{children:g.jsx("a",{href:"https://yavares.tistory.com/1013",target:"_blank",children:g.jsx("ins",{className:"text-amber-500",children:"     !"})})})]})})]})})})}const GX=new Set(ho.);function YX(e){return cf.has(e)?e:GX.has(e)?Jn[e]:""}function qX(e){if(!e||e<=0)return"0";const t=Math.floor(e/1e3),n=Math.floor(t/86400),r=Math.floor(t%86400/3600),i=Math.floor(t%3600/60);return n>=1?`${n} ${r}`:r>=1?`${r} ${i}`:`${i}`}function KX({label:e,settings:t,hideBranchSipSin:n=!0}){const r=t.showSipSin,i=!!t.hiddenStem,o=(t.hiddenStem==="regular"?"main":"all")==="main"?1:3,l=t.showSipSin&&!n;return g.jsxs("div",{className:"rounded-sm desk:rounded-xl bg-white dark:bg-neutral-900 border border-neutral-200 dark:border-neutral-800 overflow-hidden transition-colors",children:[g.jsx("div",{className:"py-2 text-center text-[10px] desk:text-xs tracking-wider bg-neutral-100 dark:bg-neutral-800/60 text-neutral-700 dark:text-neutral-200 text-nowrap",children:e}),g.jsxs("div",{className:"p-3 flex flex-col items-center gap-1",children:[r&&g.jsx("div",{className:"text-[10px] desk:text-xs text-neutral-500 dark:text-neutral-400 text-nowrap",children:"-"}),g.jsx("div",{className:"w-10 h-10 sm:w-12 sm:h-12 rounded-sm desk:rounded-lg flex items-center justify-center border border-neutral-200 dark:border-neutral-800 bg-white",children:g.jsx("span",{className:"text-2xl md:text-3xl font-bold text-neutral-900",children:"-"})}),g.jsx("div",{className:"w-10 h-10 sm:w-12 sm:h-12 rounded-sm desk:rounded-lg flex items-center justify-center border border-neutral-200 dark:border-neutral-800 bg-white",children:g.jsx("span",{className:"text-2xl md:text-3xl font-bold text-neutral-900",children:"-"})}),i&&g.jsx("div",{className:"flex flex-col gap-1 mt-1 w-full",children:Array.from({length:o}).map((u,d)=>g.jsx("div",{className:"w-full max-w-[80px] mx-auto text-[10px] desk:text-xs py-0.5 desk:px-1 border border-neutral-200 dark:border-neutral-800 rounded text-center text-nowrap text-neutral-500 dark:text-neutral-400",children:"-"},d))}),l&&g.jsx("div",{className:"text-[10px] desk:text-xs text-neutral-500 dark:text-neutral-400",children:"-"})]})]})}function WX(){const e=nn(_=>_.settings),[t,n]=S.useState(new Date),[r,i]=S.useState(!0),[a,o]=S.useState("/"),[l,u]=S.useState(!1),[d,h]=S.useState(null);S.useEffect(()=>{if(!r)return;const _=setInterval(()=>n(new Date),1e3);return()=>clearInterval(_)},[r]),S.useEffect(()=>{let _=!0;const j=async()=>{const{data:C}=await Le.auth.getSession(),M=C.session?.user?.id;if(!M){_&&h(null);return}const{data:P,error:I}=await Le.from("user_activity").select("total_active_ms").eq("user_id",M).maybeSingle();if(I){_&&h(null);return}const z=P?.total_active_ms;_&&h(typeof z=="number"?z:null)};j();const O=window.setInterval(()=>void j(),6e4),T=()=>{document.visibilityState==="visible"&&j()};return document.addEventListener("visibilitychange",T),()=>{_=!1,window.clearInterval(O),document.removeEventListener("visibilitychange",T)}},[]);const m=ut(t),b=Ot(t),y=gt(t,a),k=ao(t,"/"),w=YX(y.charAt(0));return g.jsx("div",{className:"flex flex-col justify-center items-center pt-20 desk:pt-16 desk:mt-12 w-full h-auto desk:h-[calc(100dvh_-_212px)] ",children:g.jsxs("div",{className:`w-[96%] max-w-[640px] mx-auto mb-4 p-4
                      bg-white dark:bg-neutral-950
                      text-neutral-900 dark:text-neutral-100
                      rounded-xl shadow border border-neutral-200 dark:border-neutral-800 transition-colors`,children:[g.jsxs("div",{className:"mb-3 text-xs desk:text-sm text-neutral-600 dark:text-neutral-300",children:["  :"," ",g.jsx("span",{className:"font-semibold text-neutral-900 dark:text-neutral-100",children:qX(d)})]}),g.jsxs("header",{className:"flex flex-col desk:flex-row items-center justify-center desk:justify-between mb-4 gap-2",children:[g.jsxs("div",{className:"font-semibold text-sm desk:text-base",children:[" "," ",g.jsxs("span",{className:"text-neutral-500 dark:text-neutral-400",children:["(",r?"":"",") ",XX(t)]})]}),g.jsxs("div",{className:"flex gap-2 items-center",children:[g.jsxs("select",{value:a,onChange:_=>o(_.target.value),className:`text-xs rounded px-2 py-1 h-30 cursor-pointer
                        bg-white dark:bg-neutral-900
                        border border-neutral-300 dark:border-neutral-700
                        text-neutral-900 dark:text-neutral-100
                        focus:outline-none focus:ring-2 focus:ring-amber-500/40`,children:[g.jsx("option",{value:"",children:" ( 23)"}),g.jsx("option",{value:"/",children:"/ ()"}),g.jsx("option",{value:"",children:" ( 3)"})]}),g.jsx("button",{onClick:()=>u(_=>!_),className:`text-xs px-3 py-1 rounded border transition-colors cursor-pointer
                          ${l?"bg-white text-neutral-900 border-neutral-300 hover:bg-neutral-100":"bg-neutral-100 text-neutral-900 border-neutral-200 hover:bg-neutral-200 dark:bg-neutral-800 dark:text-neutral-100 dark:border-neutral-700 dark:hover:bg-neutral-700"}`,title:"     ",children:l?" ":" "})]})]}),g.jsxs("div",{className:"grid grid-cols-4 gap-3 mb-6",children:[l?g.jsx(KX,{label:"",settings:e,hideBranchSipSin:!0}):g.jsx(qd,{label:"",gz:k,dayStem:w,settings:e,hideBranchSipSin:!0}),g.jsx(qd,{label:"",gz:y,dayStem:w,settings:e,hideBranchSipSin:!0}),g.jsx(qd,{label:"",gz:b,dayStem:w,settings:e,hideBranchSipSin:!0}),g.jsx(qd,{label:"",gz:m,dayStem:w,settings:e,hideBranchSipSin:!0})]}),g.jsxs("div",{className:"flex flex-col desk:flex-row gap-2 desk:gap-3 items-center",children:[g.jsx("label",{className:"text-sm text-neutral-600 dark:text-neutral-300",children:"/ "}),g.jsxs("div",{className:"flex items-center gap-2",children:[g.jsx("input",{type:"datetime-local",value:VX(t),disabled:r,onChange:_=>{const j=ZX(_.target.value);j&&n(j)},className:`h-30 rounded px-3 py-1 text-sm transition-colors
                          bg-white dark:bg-neutral-900
                          border border-neutral-300 dark:border-neutral-700
                          text-neutral-900 dark:text-neutral-100
                          focus:outline-none focus:ring-2 focus:ring-amber-500/40
                          ${r?"opacity-50 cursor-not-allowed":"cursor-pointer"}`,min:"1900-01-01T00:00",max:"2100-12-31T23:59"}),g.jsx("button",{onClick:()=>i(!r),className:`text-xs px-3 py-1 rounded transition-colors cursor-pointer
                        bg-neutral-100 hover:bg-neutral-200
                        dark:bg-neutral-800 dark:hover:bg-neutral-700
                        text-neutral-900 dark:text-neutral-100
                        border border-neutral-200 dark:border-neutral-700`,children:r?" ":" "})]})]}),g.jsx(HX,{})]})})}function VX(e){const t=n=>n.toString().padStart(2,"0");return`${e.getFullYear()}-${t(e.getMonth()+1)}-${t(e.getDate())}T${t(e.getHours())}:${t(e.getMinutes())}`}function ZX(e){if(!e)return null;const[t,n]=e.split("T");if(!t||!n)return null;const[r,i,a]=t.split("-").map(Number),[o,l]=n.split(":").map(Number),u=new Date(r,i-1,a,o,l);return Number.isNaN(u.getTime())?null:u}function XX(e){const t=n=>n.toString().padStart(2,"0");return`${t(e.getHours())}:${t(e.getMinutes())}:${t(e.getSeconds())}`}function JX({placeholderText:e,value:t}){const[n,r]=S.useState(e),[i,a]=S.useState(!1),[o,l]=S.useState(t??""),u=S.useRef(null),d=S.useRef(null),h=S.useRef(null),m=S.useRef(null);return S.useEffect(()=>{t!==void 0&&l(t)},[t]),{btnText:n,setBtnText:r,open:i,setOpen:a,localValue:o,setLocalValue:l,nameRef:u,latRef:d,lonRef:h,triggerBtnRef:m}}var Nm={exports:{}};/* @preserve
 * Leaflet 1.9.4, a JS library for interactive maps. https://leafletjs.com
 * (c) 2010-2023 Vladimir Agafonkin, (c) 2010-2011 CloudMade
 */var QX=Nm.exports,hD;function eJ(){return hD||(hD=1,(function(e,t){(function(n,r){r(t)})(QX,(function(n){var r="1.9.4";function i(f){var v,E,D,R;for(E=1,D=arguments.length;E<D;E++){R=arguments[E];for(v in R)f[v]=R[v]}return f}var a=Object.create||(function(){function f(){}return function(v){return f.prototype=v,new f}})();function o(f,v){var E=Array.prototype.slice;if(f.bind)return f.bind.apply(f,E.call(arguments,1));var D=E.call(arguments,2);return function(){return f.apply(v,D.length?D.concat(E.call(arguments)):arguments)}}var l=0;function u(f){return"_leaflet_id"in f||(f._leaflet_id=++l),f._leaflet_id}function d(f,v,E){var D,R,U,te;return te=function(){D=!1,R&&(U.apply(E,R),R=!1)},U=function(){D?R=arguments:(f.apply(E,arguments),setTimeout(te,v),D=!0)},U}function h(f,v,E){var D=v[1],R=v[0],U=D-R;return f===D&&E?f:((f-R)%U+U)%U+R}function m(){return!1}function b(f,v){if(v===!1)return f;var E=Math.pow(10,v===void 0?6:v);return Math.round(f*E)/E}function y(f){return f.trim?f.trim():f.replace(/^\s+|\s+$/g,"")}function k(f){return y(f).split(/\s+/)}function w(f,v){Object.prototype.hasOwnProperty.call(f,"options")||(f.options=f.options?a(f.options):{});for(var E in v)f.options[E]=v[E];return f.options}function _(f,v,E){var D=[];for(var R in f)D.push(encodeURIComponent(E?R.toUpperCase():R)+"="+encodeURIComponent(f[R]));return(!v||v.indexOf("?")===-1?"?":"&")+D.join("&")}var j=/\{ *([\w_ -]+) *\}/g;function O(f,v){return f.replace(j,function(E,D){var R=v[D];if(R===void 0)throw new Error("No value provided for variable "+E);return typeof R=="function"&&(R=R(v)),R})}var T=Array.isArray||function(f){return Object.prototype.toString.call(f)==="[object Array]"};function C(f,v){for(var E=0;E<f.length;E++)if(f[E]===v)return E;return-1}var M="data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs=";function P(f){return window["webkit"+f]||window["moz"+f]||window["ms"+f]}var I=0;function z(f){var v=+new Date,E=Math.max(0,16-(v-I));return I=v+E,window.setTimeout(f,E)}var K=window.requestAnimationFrame||P("RequestAnimationFrame")||z,G=window.cancelAnimationFrame||P("CancelAnimationFrame")||P("CancelRequestAnimationFrame")||function(f){window.clearTimeout(f)};function F(f,v,E){if(E&&K===z)f.call(v);else return K.call(window,o(f,v))}function B(f){f&&G.call(window,f)}var q={__proto__:null,extend:i,create:a,bind:o,get lastId(){return l},stamp:u,throttle:d,wrapNum:h,falseFn:m,formatNum:b,trim:y,splitWords:k,setOptions:w,getParamString:_,template:O,isArray:T,indexOf:C,emptyImageUrl:M,requestFn:K,cancelFn:G,requestAnimFrame:F,cancelAnimFrame:B};function X(){}X.extend=function(f){var v=function(){w(this),this.initialize&&this.initialize.apply(this,arguments),this.callInitHooks()},E=v.__super__=this.prototype,D=a(E);D.constructor=v,v.prototype=D;for(var R in this)Object.prototype.hasOwnProperty.call(this,R)&&R!=="prototype"&&R!=="__super__"&&(v[R]=this[R]);return f.statics&&i(v,f.statics),f.includes&&(Z(f.includes),i.apply(null,[D].concat(f.includes))),i(D,f),delete D.statics,delete D.includes,D.options&&(D.options=E.options?a(E.options):{},i(D.options,f.options)),D._initHooks=[],D.callInitHooks=function(){if(!this._initHooksCalled){E.callInitHooks&&E.callInitHooks.call(this),this._initHooksCalled=!0;for(var U=0,te=D._initHooks.length;U<te;U++)D._initHooks[U].call(this)}},v},X.include=function(f){var v=this.prototype.options;return i(this.prototype,f),f.options&&(this.prototype.options=v,this.mergeOptions(f.options)),this},X.mergeOptions=function(f){return i(this.prototype.options,f),this},X.addInitHook=function(f){var v=Array.prototype.slice.call(arguments,1),E=typeof f=="function"?f:function(){this[f].apply(this,v)};return this.prototype._initHooks=this.prototype._initHooks||[],this.prototype._initHooks.push(E),this};function Z(f){if(!(typeof L>"u"||!L||!L.Mixin)){f=T(f)?f:[f];for(var v=0;v<f.length;v++)f[v]===L.Mixin.Events&&console.warn("Deprecated include of L.Mixin.Events: this property will be removed in future releases, please inherit from L.Evented instead.",new Error().stack)}}var Y={on:function(f,v,E){if(typeof f=="object")for(var D in f)this._on(D,f[D],v);else{f=k(f);for(var R=0,U=f.length;R<U;R++)this._on(f[R],v,E)}return this},off:function(f,v,E){if(!arguments.length)delete this._events;else if(typeof f=="object")for(var D in f)this._off(D,f[D],v);else{f=k(f);for(var R=arguments.length===1,U=0,te=f.length;U<te;U++)R?this._off(f[U]):this._off(f[U],v,E)}return this},_on:function(f,v,E,D){if(typeof v!="function"){console.warn("wrong listener type: "+typeof v);return}if(this._listens(f,v,E)===!1){E===this&&(E=void 0);var R={fn:v,ctx:E};D&&(R.once=!0),this._events=this._events||{},this._events[f]=this._events[f]||[],this._events[f].push(R)}},_off:function(f,v,E){var D,R,U;if(this._events&&(D=this._events[f],!!D)){if(arguments.length===1){if(this._firingCount)for(R=0,U=D.length;R<U;R++)D[R].fn=m;delete this._events[f];return}if(typeof v!="function"){console.warn("wrong listener type: "+typeof v);return}var te=this._listens(f,v,E);if(te!==!1){var fe=D[te];this._firingCount&&(fe.fn=m,this._events[f]=D=D.slice()),D.splice(te,1)}}},fire:function(f,v,E){if(!this.listens(f,E))return this;var D=i({},v,{type:f,target:this,sourceTarget:v&&v.sourceTarget||this});if(this._events){var R=this._events[f];if(R){this._firingCount=this._firingCount+1||1;for(var U=0,te=R.length;U<te;U++){var fe=R[U],ye=fe.fn;fe.once&&this.off(f,ye,fe.ctx),ye.call(fe.ctx||this,D)}this._firingCount--}}return E&&this._propagateEvent(D),this},listens:function(f,v,E,D){typeof f!="string"&&console.warn('"string" type argument expected');var R=v;typeof v!="function"&&(D=!!v,R=void 0,E=void 0);var U=this._events&&this._events[f];if(U&&U.length&&this._listens(f,R,E)!==!1)return!0;if(D){for(var te in this._eventParents)if(this._eventParents[te].listens(f,v,E,D))return!0}return!1},_listens:function(f,v,E){if(!this._events)return!1;var D=this._events[f]||[];if(!v)return!!D.length;E===this&&(E=void 0);for(var R=0,U=D.length;R<U;R++)if(D[R].fn===v&&D[R].ctx===E)return R;return!1},once:function(f,v,E){if(typeof f=="object")for(var D in f)this._on(D,f[D],v,!0);else{f=k(f);for(var R=0,U=f.length;R<U;R++)this._on(f[R],v,E,!0)}return this},addEventParent:function(f){return this._eventParents=this._eventParents||{},this._eventParents[u(f)]=f,this},removeEventParent:function(f){return this._eventParents&&delete this._eventParents[u(f)],this},_propagateEvent:function(f){for(var v in this._eventParents)this._eventParents[v].fire(f.type,i({layer:f.target,propagatedFrom:f.target},f),!0)}};Y.addEventListener=Y.on,Y.removeEventListener=Y.clearAllEventListeners=Y.off,Y.addOneTimeEventListener=Y.once,Y.fireEvent=Y.fire,Y.hasEventListeners=Y.listens;var V=X.extend(Y);function Q(f,v,E){this.x=E?Math.round(f):f,this.y=E?Math.round(v):v}var se=Math.trunc||function(f){return f>0?Math.floor(f):Math.ceil(f)};Q.prototype={clone:function(){return new Q(this.x,this.y)},add:function(f){return this.clone()._add(ce(f))},_add:function(f){return this.x+=f.x,this.y+=f.y,this},subtract:function(f){return this.clone()._subtract(ce(f))},_subtract:function(f){return this.x-=f.x,this.y-=f.y,this},divideBy:function(f){return this.clone()._divideBy(f)},_divideBy:function(f){return this.x/=f,this.y/=f,this},multiplyBy:function(f){return this.clone()._multiplyBy(f)},_multiplyBy:function(f){return this.x*=f,this.y*=f,this},scaleBy:function(f){return new Q(this.x*f.x,this.y*f.y)},unscaleBy:function(f){return new Q(this.x/f.x,this.y/f.y)},round:function(){return this.clone()._round()},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},floor:function(){return this.clone()._floor()},_floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},ceil:function(){return this.clone()._ceil()},_ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},trunc:function(){return this.clone()._trunc()},_trunc:function(){return this.x=se(this.x),this.y=se(this.y),this},distanceTo:function(f){f=ce(f);var v=f.x-this.x,E=f.y-this.y;return Math.sqrt(v*v+E*E)},equals:function(f){return f=ce(f),f.x===this.x&&f.y===this.y},contains:function(f){return f=ce(f),Math.abs(f.x)<=Math.abs(this.x)&&Math.abs(f.y)<=Math.abs(this.y)},toString:function(){return"Point("+b(this.x)+", "+b(this.y)+")"}};function ce(f,v,E){return f instanceof Q?f:T(f)?new Q(f[0],f[1]):f==null?f:typeof f=="object"&&"x"in f&&"y"in f?new Q(f.x,f.y):new Q(f,v,E)}function W(f,v){if(f)for(var E=v?[f,v]:f,D=0,R=E.length;D<R;D++)this.extend(E[D])}W.prototype={extend:function(f){var v,E;if(!f)return this;if(f instanceof Q||typeof f[0]=="number"||"x"in f)v=E=ce(f);else if(f=ne(f),v=f.min,E=f.max,!v||!E)return this;return!this.min&&!this.max?(this.min=v.clone(),this.max=E.clone()):(this.min.x=Math.min(v.x,this.min.x),this.max.x=Math.max(E.x,this.max.x),this.min.y=Math.min(v.y,this.min.y),this.max.y=Math.max(E.y,this.max.y)),this},getCenter:function(f){return ce((this.min.x+this.max.x)/2,(this.min.y+this.max.y)/2,f)},getBottomLeft:function(){return ce(this.min.x,this.max.y)},getTopRight:function(){return ce(this.max.x,this.min.y)},getTopLeft:function(){return this.min},getBottomRight:function(){return this.max},getSize:function(){return this.max.subtract(this.min)},contains:function(f){var v,E;return typeof f[0]=="number"||f instanceof Q?f=ce(f):f=ne(f),f instanceof W?(v=f.min,E=f.max):v=E=f,v.x>=this.min.x&&E.x<=this.max.x&&v.y>=this.min.y&&E.y<=this.max.y},intersects:function(f){f=ne(f);var v=this.min,E=this.max,D=f.min,R=f.max,U=R.x>=v.x&&D.x<=E.x,te=R.y>=v.y&&D.y<=E.y;return U&&te},overlaps:function(f){f=ne(f);var v=this.min,E=this.max,D=f.min,R=f.max,U=R.x>v.x&&D.x<E.x,te=R.y>v.y&&D.y<E.y;return U&&te},isValid:function(){return!!(this.min&&this.max)},pad:function(f){var v=this.min,E=this.max,D=Math.abs(v.x-E.x)*f,R=Math.abs(v.y-E.y)*f;return ne(ce(v.x-D,v.y-R),ce(E.x+D,E.y+R))},equals:function(f){return f?(f=ne(f),this.min.equals(f.getTopLeft())&&this.max.equals(f.getBottomRight())):!1}};function ne(f,v){return!f||f instanceof W?f:new W(f,v)}function ie(f,v){if(f)for(var E=v?[f,v]:f,D=0,R=E.length;D<R;D++)this.extend(E[D])}ie.prototype={extend:function(f){var v=this._southWest,E=this._northEast,D,R;if(f instanceof J)D=f,R=f;else if(f instanceof ie){if(D=f._southWest,R=f._northEast,!D||!R)return this}else return f?this.extend(ae(f)||he(f)):this;return!v&&!E?(this._southWest=new J(D.lat,D.lng),this._northEast=new J(R.lat,R.lng)):(v.lat=Math.min(D.lat,v.lat),v.lng=Math.min(D.lng,v.lng),E.lat=Math.max(R.lat,E.lat),E.lng=Math.max(R.lng,E.lng)),this},pad:function(f){var v=this._southWest,E=this._northEast,D=Math.abs(v.lat-E.lat)*f,R=Math.abs(v.lng-E.lng)*f;return new ie(new J(v.lat-D,v.lng-R),new J(E.lat+D,E.lng+R))},getCenter:function(){return new J((this._southWest.lat+this._northEast.lat)/2,(this._southWest.lng+this._northEast.lng)/2)},getSouthWest:function(){return this._southWest},getNorthEast:function(){return this._northEast},getNorthWest:function(){return new J(this.getNorth(),this.getWest())},getSouthEast:function(){return new J(this.getSouth(),this.getEast())},getWest:function(){return this._southWest.lng},getSouth:function(){return this._southWest.lat},getEast:function(){return this._northEast.lng},getNorth:function(){return this._northEast.lat},contains:function(f){typeof f[0]=="number"||f instanceof J||"lat"in f?f=ae(f):f=he(f);var v=this._southWest,E=this._northEast,D,R;return f instanceof ie?(D=f.getSouthWest(),R=f.getNorthEast()):D=R=f,D.lat>=v.lat&&R.lat<=E.lat&&D.lng>=v.lng&&R.lng<=E.lng},intersects:function(f){f=he(f);var v=this._southWest,E=this._northEast,D=f.getSouthWest(),R=f.getNorthEast(),U=R.lat>=v.lat&&D.lat<=E.lat,te=R.lng>=v.lng&&D.lng<=E.lng;return U&&te},overlaps:function(f){f=he(f);var v=this._southWest,E=this._northEast,D=f.getSouthWest(),R=f.getNorthEast(),U=R.lat>v.lat&&D.lat<E.lat,te=R.lng>v.lng&&D.lng<E.lng;return U&&te},toBBoxString:function(){return[this.getWest(),this.getSouth(),this.getEast(),this.getNorth()].join(",")},equals:function(f,v){return f?(f=he(f),this._southWest.equals(f.getSouthWest(),v)&&this._northEast.equals(f.getNorthEast(),v)):!1},isValid:function(){return!!(this._southWest&&this._northEast)}};function he(f,v){return f instanceof ie?f:new ie(f,v)}function J(f,v,E){if(isNaN(f)||isNaN(v))throw new Error("Invalid LatLng object: ("+f+", "+v+")");this.lat=+f,this.lng=+v,E!==void 0&&(this.alt=+E)}J.prototype={equals:function(f,v){if(!f)return!1;f=ae(f);var E=Math.max(Math.abs(this.lat-f.lat),Math.abs(this.lng-f.lng));return E<=(v===void 0?1e-9:v)},toString:function(f){return"LatLng("+b(this.lat,f)+", "+b(this.lng,f)+")"},distanceTo:function(f){return me.distance(this,ae(f))},wrap:function(){return me.wrapLatLng(this)},toBounds:function(f){var v=180*f/40075017,E=v/Math.cos(Math.PI/180*this.lat);return he([this.lat-v,this.lng-E],[this.lat+v,this.lng+E])},clone:function(){return new J(this.lat,this.lng,this.alt)}};function ae(f,v,E){return f instanceof J?f:T(f)&&typeof f[0]!="object"?f.length===3?new J(f[0],f[1],f[2]):f.length===2?new J(f[0],f[1]):null:f==null?f:typeof f=="object"&&"lat"in f?new J(f.lat,"lng"in f?f.lng:f.lon,f.alt):v===void 0?null:new J(f,v,E)}var pe={latLngToPoint:function(f,v){var E=this.projection.project(f),D=this.scale(v);return this.transformation._transform(E,D)},pointToLatLng:function(f,v){var E=this.scale(v),D=this.transformation.untransform(f,E);return this.projection.unproject(D)},project:function(f){return this.projection.project(f)},unproject:function(f){return this.projection.unproject(f)},scale:function(f){return 256*Math.pow(2,f)},zoom:function(f){return Math.log(f/256)/Math.LN2},getProjectedBounds:function(f){if(this.infinite)return null;var v=this.projection.bounds,E=this.scale(f),D=this.transformation.transform(v.min,E),R=this.transformation.transform(v.max,E);return new W(D,R)},infinite:!1,wrapLatLng:function(f){var v=this.wrapLng?h(f.lng,this.wrapLng,!0):f.lng,E=this.wrapLat?h(f.lat,this.wrapLat,!0):f.lat,D=f.alt;return new J(E,v,D)},wrapLatLngBounds:function(f){var v=f.getCenter(),E=this.wrapLatLng(v),D=v.lat-E.lat,R=v.lng-E.lng;if(D===0&&R===0)return f;var U=f.getSouthWest(),te=f.getNorthEast(),fe=new J(U.lat-D,U.lng-R),ye=new J(te.lat-D,te.lng-R);return new ie(fe,ye)}},me=i({},pe,{wrapLng:[-180,180],R:6371e3,distance:function(f,v){var E=Math.PI/180,D=f.lat*E,R=v.lat*E,U=Math.sin((v.lat-f.lat)*E/2),te=Math.sin((v.lng-f.lng)*E/2),fe=U*U+Math.cos(D)*Math.cos(R)*te*te,ye=2*Math.atan2(Math.sqrt(fe),Math.sqrt(1-fe));return this.R*ye}}),ee=6378137,je={R:ee,MAX_LATITUDE:85.0511287798,project:function(f){var v=Math.PI/180,E=this.MAX_LATITUDE,D=Math.max(Math.min(E,f.lat),-E),R=Math.sin(D*v);return new Q(this.R*f.lng*v,this.R*Math.log((1+R)/(1-R))/2)},unproject:function(f){var v=180/Math.PI;return new J((2*Math.atan(Math.exp(f.y/this.R))-Math.PI/2)*v,f.x*v/this.R)},bounds:(function(){var f=ee*Math.PI;return new W([-f,-f],[f,f])})()};function xe(f,v,E,D){if(T(f)){this._a=f[0],this._b=f[1],this._c=f[2],this._d=f[3];return}this._a=f,this._b=v,this._c=E,this._d=D}xe.prototype={transform:function(f,v){return this._transform(f.clone(),v)},_transform:function(f,v){return v=v||1,f.x=v*(this._a*f.x+this._b),f.y=v*(this._c*f.y+this._d),f},untransform:function(f,v){return v=v||1,new Q((f.x/v-this._b)/this._a,(f.y/v-this._d)/this._c)}};function ue(f,v,E,D){return new xe(f,v,E,D)}var Ee=i({},me,{code:"EPSG:3857",projection:je,transformation:(function(){var f=.5/(Math.PI*je.R);return ue(f,.5,-f,.5)})()}),Me=i({},Ee,{code:"EPSG:900913"});function Ie(f){return document.createElementNS("http://www.w3.org/2000/svg",f)}function Ke(f,v){var E="",D,R,U,te,fe,ye;for(D=0,U=f.length;D<U;D++){for(fe=f[D],R=0,te=fe.length;R<te;R++)ye=fe[R],E+=(R?"L":"M")+ye.x+" "+ye.y;E+=v?Ze.svg?"z":"x":""}return E||"M0 0"}var ht=document.documentElement.style,mt="ActiveXObject"in window,De=mt&&!document.addEventListener,ze="msLaunchUri"in navigator&&!("documentMode"in document),Ge=si("webkit"),oe=si("android"),Ce=si("android 2")||si("android 3"),Ue=parseInt(/WebKit\/([0-9]+)|$/.exec(navigator.userAgent)[1],10),rt=oe&&si("Google")&&Ue<537&&!("AudioNode"in window),xt=!!window.opera,st=!ze&&si("chrome"),Oe=si("gecko")&&!Ge&&!xt&&!mt,Fe=!st&&si("safari"),We=si("phantom"),bt="OTransition"in ht,At=navigator.platform.indexOf("Win")===0,Nt=mt&&"transition"in ht,Mt="WebKitCSSMatrix"in window&&"m11"in new window.WebKitCSSMatrix&&!Ce,Kt="MozPerspective"in ht,rn=!window.L_DISABLE_3D&&(Nt||Mt||Kt)&&!bt&&!We,ai=typeof orientation<"u"||si("mobile"),zn=ai&&Ge,Pe=ai&&Mt,at=!window.PointerEvent&&window.MSPointerEvent,zt=!!(window.PointerEvent||at),Er="ontouchstart"in window||!!window.TouchEvent,oi=!window.L_NO_TOUCH&&(Er||zt),zu=ai&&xt,pc=ai&&Oe,uw=(window.devicePixelRatio||window.screen.deviceXDPI/window.screen.logicalXDPI)>1,d0=(function(){var f=!1;try{var v=Object.defineProperty({},"passive",{get:function(){f=!0}});window.addEventListener("testPassiveEventSupport",m,v),window.removeEventListener("testPassiveEventSupport",m,v)}catch{}return f})(),Vf=(function(){return!!document.createElement("canvas").getContext})(),Xo=!!(document.createElementNS&&Ie("svg").createSVGRect),dw=!!Xo&&(function(){var f=document.createElement("div");return f.innerHTML="<svg/>",(f.firstChild&&f.firstChild.namespaceURI)==="http://www.w3.org/2000/svg"})(),f0=!Xo&&(function(){try{var f=document.createElement("div");f.innerHTML='<v:shape adj="1"/>';var v=f.firstChild;return v.style.behavior="url(#default#VML)",v&&typeof v.adj=="object"}catch{return!1}})(),h0=navigator.platform.indexOf("Mac")===0,m0=navigator.platform.indexOf("Linux")===0;function si(f){return navigator.userAgent.toLowerCase().indexOf(f)>=0}var Ze={ie:mt,ielt9:De,edge:ze,webkit:Ge,android:oe,android23:Ce,androidStock:rt,opera:xt,chrome:st,gecko:Oe,safari:Fe,phantom:We,opera12:bt,win:At,ie3d:Nt,webkit3d:Mt,gecko3d:Kt,any3d:rn,mobile:ai,mobileWebkit:zn,mobileWebkit3d:Pe,msPointer:at,pointer:zt,touch:oi,touchNative:Er,mobileOpera:zu,mobileGecko:pc,retina:uw,passiveEvents:d0,canvas:Vf,svg:Xo,vml:f0,inlineSvg:dw,mac:h0,linux:m0},Zf=Ze.msPointer?"MSPointerDown":"pointerdown",Xf=Ze.msPointer?"MSPointerMove":"pointermove",Ra=Ze.msPointer?"MSPointerUp":"pointerup",Un=Ze.msPointer?"MSPointerCancel":"pointercancel",ur={touchstart:Zf,touchmove:Xf,touchend:Ra,touchcancel:Un},Jo={touchstart:rl,touchmove:po,touchend:po,touchcancel:po},mo={},p0=!1;function fw(f,v,E){return v==="touchstart"&&nl(),Jo[v]?(E=Jo[v].bind(this,E),f.addEventListener(ur[v],E,!1),E):(console.warn("wrong event specified:",v),m)}function g0(f,v,E){if(!ur[v]){console.warn("wrong event specified:",v);return}f.removeEventListener(ur[v],E,!1)}function gc(f){mo[f.pointerId]=f}function Jf(f){mo[f.pointerId]&&(mo[f.pointerId]=f)}function Qo(f){delete mo[f.pointerId]}function nl(){p0||(document.addEventListener(Zf,gc,!0),document.addEventListener(Xf,Jf,!0),document.addEventListener(Ra,Qo,!0),document.addEventListener(Un,Qo,!0),p0=!0)}function po(f,v){if(v.pointerType!==(v.MSPOINTER_TYPE_MOUSE||"mouse")){v.touches=[];for(var E in mo)v.touches.push(mo[E]);v.changedTouches=[v],f(v)}}function rl(f,v){v.MSPOINTER_TYPE_TOUCH&&v.pointerType===v.MSPOINTER_TYPE_TOUCH&&An(v),po(f,v)}function Fn(f){var v={},E,D;for(D in f)E=f[D],v[D]=E&&E.bind?E.bind(f):E;return f=v,v.type="dblclick",v.detail=2,v.isTrusted=!1,v._simulated=!0,v}var b0=200;function y0(f,v){f.addEventListener("dblclick",v);var E=0,D;function R(U){if(U.detail!==1){D=U.detail;return}if(!(U.pointerType==="mouse"||U.sourceCapabilities&&!U.sourceCapabilities.firesTouchEvents)){var te=Sc(U);if(!(te.some(function(ye){return ye instanceof HTMLLabelElement&&ye.attributes.for})&&!te.some(function(ye){return ye instanceof HTMLInputElement||ye instanceof HTMLSelectElement}))){var fe=Date.now();fe-E<=b0?(D++,D===2&&v(Fn(U))):D=1,E=fe}}}return f.addEventListener("click",R),{dblclick:v,simDblclick:R}}function es(f,v){f.removeEventListener("dblclick",v.dblclick),f.removeEventListener("click",v.simDblclick)}var go=vc(["transform","webkitTransform","OTransform","MozTransform","msTransform"]),bc=vc(["webkitTransition","transition","OTransition","MozTransition","msTransition"]),Qf=bc==="webkitTransition"||bc==="OTransition"?bc+"End":"transitionend";function eh(f){return typeof f=="string"?document.getElementById(f):f}function yc(f,v){var E=f.style[v]||f.currentStyle&&f.currentStyle[v];if((!E||E==="auto")&&document.defaultView){var D=document.defaultView.getComputedStyle(f,null);E=D?D[v]:null}return E==="auto"?null:E}function wt(f,v,E){var D=document.createElement(f);return D.className=v||"",E&&E.appendChild(D),D}function Wt(f){var v=f.parentNode;v&&v.removeChild(f)}function li(f){for(;f.firstChild;)f.removeChild(f.firstChild)}function er(f){var v=f.parentNode;v&&v.lastChild!==f&&v.appendChild(f)}function ts(f){var v=f.parentNode;v&&v.firstChild!==f&&v.insertBefore(f,v.firstChild)}function th(f,v){if(f.classList!==void 0)return f.classList.contains(v);var E=Uu(f);return E.length>0&&new RegExp("(^|\\s)"+v+"(\\s|$)").test(E)}function dt(f,v){if(f.classList!==void 0)for(var E=k(v),D=0,R=E.length;D<R;D++)f.classList.add(E[D]);else if(!th(f,v)){var U=Uu(f);il(f,(U?U+" ":"")+v)}}function hn(f,v){f.classList!==void 0?f.classList.remove(v):il(f,y((" "+Uu(f)+" ").replace(" "+v+" "," ")))}function il(f,v){f.className.baseVal===void 0?f.className=v:f.className.baseVal=v}function Uu(f){return f.correspondingElement&&(f=f.correspondingElement),f.className.baseVal===void 0?f.className:f.className.baseVal}function ln(f,v){"opacity"in f.style?f.style.opacity=v:"filter"in f.style&&nh(f,v)}function nh(f,v){var E=!1,D="DXImageTransform.Microsoft.Alpha";try{E=f.filters.item(D)}catch{if(v===1)return}v=Math.round(v*100),E?(E.Enabled=v!==100,E.Opacity=v):f.style.filter+=" progid:"+D+"(opacity="+v+")"}function vc(f){for(var v=document.documentElement.style,E=0;E<f.length;E++)if(f[E]in v)return f[E];return!1}function La(f,v,E){var D=v||new Q(0,0);f.style[go]=(Ze.ie3d?"translate("+D.x+"px,"+D.y+"px)":"translate3d("+D.x+"px,"+D.y+"px,0)")+(E?" scale("+E+")":"")}function Jt(f,v){f._leaflet_pos=v,Ze.any3d?La(f,v):(f.style.left=v.x+"px",f.style.top=v.y+"px")}function bo(f){return f._leaflet_pos||new Q(0,0)}var al,na,rh;if("onselectstart"in document)al=function(){ct(window,"selectstart",An)},na=function(){Ut(window,"selectstart",An)};else{var ol=vc(["userSelect","WebkitUserSelect","OUserSelect","MozUserSelect","msUserSelect"]);al=function(){if(ol){var f=document.documentElement.style;rh=f[ol],f[ol]="none"}},na=function(){ol&&(document.documentElement.style[ol]=rh,rh=void 0)}}function Fu(){ct(window,"dragstart",An)}function xc(){Ut(window,"dragstart",An)}var Hu,ih;function sl(f){for(;f.tabIndex===-1;)f=f.parentNode;f.style&&(ci(),Hu=f,ih=f.style.outlineStyle,f.style.outlineStyle="none",ct(window,"keydown",ci))}function ci(){Hu&&(Hu.style.outlineStyle=ih,Hu=void 0,ih=void 0,Ut(window,"keydown",ci))}function Gu(f){do f=f.parentNode;while((!f.offsetWidth||!f.offsetHeight)&&f!==document.body);return f}function wc(f){var v=f.getBoundingClientRect();return{x:v.width/f.offsetWidth||1,y:v.height/f.offsetHeight||1,boundingClientRect:v}}var ll={__proto__:null,TRANSFORM:go,TRANSITION:bc,TRANSITION_END:Qf,get:eh,getStyle:yc,create:wt,remove:Wt,empty:li,toFront:er,toBack:ts,hasClass:th,addClass:dt,removeClass:hn,setClass:il,getClass:Uu,setOpacity:ln,testProp:vc,setTransform:La,setPosition:Jt,getPosition:bo,get disableTextSelection(){return al},get enableTextSelection(){return na},disableImageDrag:Fu,enableImageDrag:xc,preventOutline:sl,restoreOutline:ci,getSizedParentNode:Gu,getScale:wc};function ct(f,v,E,D){if(v&&typeof v=="object")for(var R in v)Ci(f,R,v[R],E);else{v=k(v);for(var U=0,te=v.length;U<te;U++)Ci(f,v[U],E,D)}return this}var Oi="_leaflet_events";function Ut(f,v,E,D){if(arguments.length===1)ah(f),delete f[Oi];else if(v&&typeof v=="object")for(var R in v)_c(f,R,v[R],E);else if(v=k(v),arguments.length===2)ah(f,function(fe){return C(v,fe)!==-1});else for(var U=0,te=v.length;U<te;U++)_c(f,v[U],E,D);return this}function ah(f,v){for(var E in f[Oi]){var D=E.split(/\d/)[0];(!v||v(D))&&_c(f,D,null,null,E)}}var ns={mouseenter:"mouseover",mouseleave:"mouseout",wheel:!("onwheel"in window)&&"mousewheel"};function Ci(f,v,E,D){var R=v+u(E)+(D?"_"+u(D):"");if(f[Oi]&&f[Oi][R])return this;var U=function(fe){return E.call(D||f,fe||window.event)},te=U;!Ze.touchNative&&Ze.pointer&&v.indexOf("touch")===0?U=fw(f,v,U):Ze.touch&&v==="dblclick"?U=y0(f,U):"addEventListener"in f?v==="touchstart"||v==="touchmove"||v==="wheel"||v==="mousewheel"?f.addEventListener(ns[v]||v,U,Ze.passiveEvents?{passive:!1}:!1):v==="mouseenter"||v==="mouseleave"?(U=function(fe){fe=fe||window.event,Ia(f,fe)&&te(fe)},f.addEventListener(ns[v],U,!1)):f.addEventListener(v,te,!1):f.attachEvent("on"+v,U),f[Oi]=f[Oi]||{},f[Oi][R]=U}function _c(f,v,E,D,R){R=R||v+u(E)+(D?"_"+u(D):"");var U=f[Oi]&&f[Oi][R];if(!U)return this;!Ze.touchNative&&Ze.pointer&&v.indexOf("touch")===0?g0(f,v,U):Ze.touch&&v==="dblclick"?es(f,U):"removeEventListener"in f?f.removeEventListener(ns[v]||v,U,!1):f.detachEvent("on"+v,U),f[Oi][R]=null}function Mi(f){return f.stopPropagation?f.stopPropagation():f.originalEvent?f.originalEvent._stopped=!0:f.cancelBubble=!0,this}function ra(f){return Ci(f,"wheel",Mi),this}function rs(f){return ct(f,"mousedown touchstart dblclick contextmenu",Mi),f._leaflet_disable_click=!0,this}function An(f){return f.preventDefault?f.preventDefault():f.returnValue=!1,this}function yo(f){return An(f),Mi(f),this}function Sc(f){if(f.composedPath)return f.composedPath();for(var v=[],E=f.target;E;)v.push(E),E=E.parentNode;return v}function kc(f,v){if(!v)return new Q(f.clientX,f.clientY);var E=wc(v),D=E.boundingClientRect;return new Q((f.clientX-D.left)/E.x-v.clientLeft,(f.clientY-D.top)/E.y-v.clientTop)}var v0=Ze.linux&&Ze.chrome?window.devicePixelRatio:Ze.mac?window.devicePixelRatio*3:window.devicePixelRatio>0?2*window.devicePixelRatio:1;function jr(f){return Ze.edge?f.wheelDeltaY/2:f.deltaY&&f.deltaMode===0?-f.deltaY/v0:f.deltaY&&f.deltaMode===1?-f.deltaY*20:f.deltaY&&f.deltaMode===2?-f.deltaY*60:f.deltaX||f.deltaZ?0:f.wheelDelta?(f.wheelDeltaY||f.wheelDelta)/2:f.detail&&Math.abs(f.detail)<32765?-f.detail*20:f.detail?f.detail/-32765*60:0}function Ia(f,v){var E=v.relatedTarget;if(!E)return!0;try{for(;E&&E!==f;)E=E.parentNode}catch{return!1}return E!==f}var Yu={__proto__:null,on:ct,off:Ut,stopPropagation:Mi,disableScrollPropagation:ra,disableClickPropagation:rs,preventDefault:An,stop:yo,getPropagationPath:Sc,getMousePosition:kc,getWheelDelta:jr,isExternalTarget:Ia,addListener:ct,removeListener:Ut},cl=V.extend({run:function(f,v,E,D){this.stop(),this._el=f,this._inProgress=!0,this._duration=E||.25,this._easeOutPower=1/Math.max(D||.5,.2),this._startPos=bo(f),this._offset=v.subtract(this._startPos),this._startTime=+new Date,this.fire("start"),this._animate()},stop:function(){this._inProgress&&(this._step(!0),this._complete())},_animate:function(){this._animId=F(this._animate,this),this._step()},_step:function(f){var v=+new Date-this._startTime,E=this._duration*1e3;v<E?this._runFrame(this._easeOut(v/E),f):(this._runFrame(1),this._complete())},_runFrame:function(f,v){var E=this._startPos.add(this._offset.multiplyBy(f));v&&E._round(),Jt(this._el,E),this.fire("step")},_complete:function(){B(this._animId),this._inProgress=!1,this.fire("end")},_easeOut:function(f){return 1-Math.pow(1-f,this._easeOutPower)}}),Et=V.extend({options:{crs:Ee,center:void 0,zoom:void 0,minZoom:void 0,maxZoom:void 0,layers:[],maxBounds:void 0,renderer:void 0,zoomAnimation:!0,zoomAnimationThreshold:4,fadeAnimation:!0,markerZoomAnimation:!0,transform3DLimit:8388608,zoomSnap:1,zoomDelta:1,trackResize:!0},initialize:function(f,v){v=w(this,v),this._handlers=[],this._layers={},this._zoomBoundLayers={},this._sizeChanged=!0,this._initContainer(f),this._initLayout(),this._onResize=o(this._onResize,this),this._initEvents(),v.maxBounds&&this.setMaxBounds(v.maxBounds),v.zoom!==void 0&&(this._zoom=this._limitZoom(v.zoom)),v.center&&v.zoom!==void 0&&this.setView(ae(v.center),v.zoom,{reset:!0}),this.callInitHooks(),this._zoomAnimated=bc&&Ze.any3d&&!Ze.mobileOpera&&this.options.zoomAnimation,this._zoomAnimated&&(this._createAnimProxy(),ct(this._proxy,Qf,this._catchTransitionEnd,this)),this._addLayers(this.options.layers)},setView:function(f,v,E){if(v=v===void 0?this._zoom:this._limitZoom(v),f=this._limitCenter(ae(f),v,this.options.maxBounds),E=E||{},this._stop(),this._loaded&&!E.reset&&E!==!0){E.animate!==void 0&&(E.zoom=i({animate:E.animate},E.zoom),E.pan=i({animate:E.animate,duration:E.duration},E.pan));var D=this._zoom!==v?this._tryAnimatedZoom&&this._tryAnimatedZoom(f,v,E.zoom):this._tryAnimatedPan(f,E.pan);if(D)return clearTimeout(this._sizeTimer),this}return this._resetView(f,v,E.pan&&E.pan.noMoveStart),this},setZoom:function(f,v){return this._loaded?this.setView(this.getCenter(),f,{zoom:v}):(this._zoom=f,this)},zoomIn:function(f,v){return f=f||(Ze.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom+f,v)},zoomOut:function(f,v){return f=f||(Ze.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom-f,v)},setZoomAround:function(f,v,E){var D=this.getZoomScale(v),R=this.getSize().divideBy(2),U=f instanceof Q?f:this.latLngToContainerPoint(f),te=U.subtract(R).multiplyBy(1-1/D),fe=this.containerPointToLatLng(R.add(te));return this.setView(fe,v,{zoom:E})},_getBoundsCenterZoom:function(f,v){v=v||{},f=f.getBounds?f.getBounds():he(f);var E=ce(v.paddingTopLeft||v.padding||[0,0]),D=ce(v.paddingBottomRight||v.padding||[0,0]),R=this.getBoundsZoom(f,!1,E.add(D));if(R=typeof v.maxZoom=="number"?Math.min(v.maxZoom,R):R,R===1/0)return{center:f.getCenter(),zoom:R};var U=D.subtract(E).divideBy(2),te=this.project(f.getSouthWest(),R),fe=this.project(f.getNorthEast(),R),ye=this.unproject(te.add(fe).divideBy(2).add(U),R);return{center:ye,zoom:R}},fitBounds:function(f,v){if(f=he(f),!f.isValid())throw new Error("Bounds are not valid.");var E=this._getBoundsCenterZoom(f,v);return this.setView(E.center,E.zoom,v)},fitWorld:function(f){return this.fitBounds([[-90,-180],[90,180]],f)},panTo:function(f,v){return this.setView(f,this._zoom,{pan:v})},panBy:function(f,v){if(f=ce(f).round(),v=v||{},!f.x&&!f.y)return this.fire("moveend");if(v.animate!==!0&&!this.getSize().contains(f))return this._resetView(this.unproject(this.project(this.getCenter()).add(f)),this.getZoom()),this;if(this._panAnim||(this._panAnim=new cl,this._panAnim.on({step:this._onPanTransitionStep,end:this._onPanTransitionEnd},this)),v.noMoveStart||this.fire("movestart"),v.animate!==!1){dt(this._mapPane,"leaflet-pan-anim");var E=this._getMapPanePos().subtract(f).round();this._panAnim.run(this._mapPane,E,v.duration||.25,v.easeLinearity)}else this._rawPanBy(f),this.fire("move").fire("moveend");return this},flyTo:function(f,v,E){if(E=E||{},E.animate===!1||!Ze.any3d)return this.setView(f,v,E);this._stop();var D=this.project(this.getCenter()),R=this.project(f),U=this.getSize(),te=this._zoom;f=ae(f),v=v===void 0?te:v;var fe=Math.max(U.x,U.y),ye=fe*this.getZoomScale(te,v),Ae=R.distanceTo(D)||1,Be=1.42,Je=Be*Be;function yt(Sn){var Ua=Sn?-1:1,ss=Sn?ye:fe,xh=ye*ye-fe*fe+Ua*Je*Je*Ae*Ae,zc=2*ss*Je*Ae,Uc=xh/zc,To=Math.sqrt(Uc*Uc+1)-Uc,Fa=To<1e-9?-18:Math.log(To);return Fa}function tr(Sn){return(Math.exp(Sn)-Math.exp(-Sn))/2}function Nn(Sn){return(Math.exp(Sn)+Math.exp(-Sn))/2}function Wr(Sn){return tr(Sn)/Nn(Sn)}var Dt=yt(0);function Pt(Sn){return fe*(Nn(Dt)/Nn(Dt+Be*Sn))}function _t(Sn){return fe*(Nn(Dt)*Wr(Dt+Be*Sn)-tr(Dt))/Je}function Eo(Sn){return 1-Math.pow(1-Sn,1.5)}var hi=Date.now(),ad=(yt(1)-Dt)/Be,jo=E.duration?1e3*E.duration:1e3*ad*.8;function vh(){var Sn=(Date.now()-hi)/jo,Ua=Eo(Sn)*ad;Sn<=1?(this._flyToFrame=F(vh,this),this._move(this.unproject(D.add(R.subtract(D).multiplyBy(_t(Ua)/Ae)),te),this.getScaleZoom(fe/Pt(Ua),te),{flyTo:!0})):this._move(f,v)._moveEnd(!0)}return this._moveStart(!0,E.noMoveStart),vh.call(this),this},flyToBounds:function(f,v){var E=this._getBoundsCenterZoom(f,v);return this.flyTo(E.center,E.zoom,v)},setMaxBounds:function(f){return f=he(f),this.listens("moveend",this._panInsideMaxBounds)&&this.off("moveend",this._panInsideMaxBounds),f.isValid()?(this.options.maxBounds=f,this._loaded&&this._panInsideMaxBounds(),this.on("moveend",this._panInsideMaxBounds)):(this.options.maxBounds=null,this)},setMinZoom:function(f){var v=this.options.minZoom;return this.options.minZoom=f,this._loaded&&v!==f&&(this.fire("zoomlevelschange"),this.getZoom()<this.options.minZoom)?this.setZoom(f):this},setMaxZoom:function(f){var v=this.options.maxZoom;return this.options.maxZoom=f,this._loaded&&v!==f&&(this.fire("zoomlevelschange"),this.getZoom()>this.options.maxZoom)?this.setZoom(f):this},panInsideBounds:function(f,v){this._enforcingBounds=!0;var E=this.getCenter(),D=this._limitCenter(E,this._zoom,he(f));return E.equals(D)||this.panTo(D,v),this._enforcingBounds=!1,this},panInside:function(f,v){v=v||{};var E=ce(v.paddingTopLeft||v.padding||[0,0]),D=ce(v.paddingBottomRight||v.padding||[0,0]),R=this.project(this.getCenter()),U=this.project(f),te=this.getPixelBounds(),fe=ne([te.min.add(E),te.max.subtract(D)]),ye=fe.getSize();if(!fe.contains(U)){this._enforcingBounds=!0;var Ae=U.subtract(fe.getCenter()),Be=fe.extend(U).getSize().subtract(ye);R.x+=Ae.x<0?-Be.x:Be.x,R.y+=Ae.y<0?-Be.y:Be.y,this.panTo(this.unproject(R),v),this._enforcingBounds=!1}return this},invalidateSize:function(f){if(!this._loaded)return this;f=i({animate:!1,pan:!0},f===!0?{animate:!0}:f);var v=this.getSize();this._sizeChanged=!0,this._lastCenter=null;var E=this.getSize(),D=v.divideBy(2).round(),R=E.divideBy(2).round(),U=D.subtract(R);return!U.x&&!U.y?this:(f.animate&&f.pan?this.panBy(U):(f.pan&&this._rawPanBy(U),this.fire("move"),f.debounceMoveend?(clearTimeout(this._sizeTimer),this._sizeTimer=setTimeout(o(this.fire,this,"moveend"),200)):this.fire("moveend")),this.fire("resize",{oldSize:v,newSize:E}))},stop:function(){return this.setZoom(this._limitZoom(this._zoom)),this.options.zoomSnap||this.fire("viewreset"),this._stop()},locate:function(f){if(f=this._locateOptions=i({timeout:1e4,watch:!1},f),!("geolocation"in navigator))return this._handleGeolocationError({code:0,message:"Geolocation not supported."}),this;var v=o(this._handleGeolocationResponse,this),E=o(this._handleGeolocationError,this);return f.watch?this._locationWatchId=navigator.geolocation.watchPosition(v,E,f):navigator.geolocation.getCurrentPosition(v,E,f),this},stopLocate:function(){return navigator.geolocation&&navigator.geolocation.clearWatch&&navigator.geolocation.clearWatch(this._locationWatchId),this._locateOptions&&(this._locateOptions.setView=!1),this},_handleGeolocationError:function(f){if(this._container._leaflet_id){var v=f.code,E=f.message||(v===1?"permission denied":v===2?"position unavailable":"timeout");this._locateOptions.setView&&!this._loaded&&this.fitWorld(),this.fire("locationerror",{code:v,message:"Geolocation error: "+E+"."})}},_handleGeolocationResponse:function(f){if(this._container._leaflet_id){var v=f.coords.latitude,E=f.coords.longitude,D=new J(v,E),R=D.toBounds(f.coords.accuracy*2),U=this._locateOptions;if(U.setView){var te=this.getBoundsZoom(R);this.setView(D,U.maxZoom?Math.min(te,U.maxZoom):te)}var fe={latlng:D,bounds:R,timestamp:f.timestamp};for(var ye in f.coords)typeof f.coords[ye]=="number"&&(fe[ye]=f.coords[ye]);this.fire("locationfound",fe)}},addHandler:function(f,v){if(!v)return this;var E=this[f]=new v(this);return this._handlers.push(E),this.options[f]&&E.enable(),this},remove:function(){if(this._initEvents(!0),this.options.maxBounds&&this.off("moveend",this._panInsideMaxBounds),this._containerId!==this._container._leaflet_id)throw new Error("Map container is being reused by another instance");try{delete this._container._leaflet_id,delete this._containerId}catch{this._container._leaflet_id=void 0,this._containerId=void 0}this._locationWatchId!==void 0&&this.stopLocate(),this._stop(),Wt(this._mapPane),this._clearControlPos&&this._clearControlPos(),this._resizeRequest&&(B(this._resizeRequest),this._resizeRequest=null),this._clearHandlers(),this._loaded&&this.fire("unload");var f;for(f in this._layers)this._layers[f].remove();for(f in this._panes)Wt(this._panes[f]);return this._layers=[],this._panes=[],delete this._mapPane,delete this._renderer,this},createPane:function(f,v){var E="leaflet-pane"+(f?" leaflet-"+f.replace("Pane","")+"-pane":""),D=wt("div",E,v||this._mapPane);return f&&(this._panes[f]=D),D},getCenter:function(){return this._checkIfLoaded(),this._lastCenter&&!this._moved()?this._lastCenter.clone():this.layerPointToLatLng(this._getCenterLayerPoint())},getZoom:function(){return this._zoom},getBounds:function(){var f=this.getPixelBounds(),v=this.unproject(f.getBottomLeft()),E=this.unproject(f.getTopRight());return new ie(v,E)},getMinZoom:function(){return this.options.minZoom===void 0?this._layersMinZoom||0:this.options.minZoom},getMaxZoom:function(){return this.options.maxZoom===void 0?this._layersMaxZoom===void 0?1/0:this._layersMaxZoom:this.options.maxZoom},getBoundsZoom:function(f,v,E){f=he(f),E=ce(E||[0,0]);var D=this.getZoom()||0,R=this.getMinZoom(),U=this.getMaxZoom(),te=f.getNorthWest(),fe=f.getSouthEast(),ye=this.getSize().subtract(E),Ae=ne(this.project(fe,D),this.project(te,D)).getSize(),Be=Ze.any3d?this.options.zoomSnap:1,Je=ye.x/Ae.x,yt=ye.y/Ae.y,tr=v?Math.max(Je,yt):Math.min(Je,yt);return D=this.getScaleZoom(tr,D),Be&&(D=Math.round(D/(Be/100))*(Be/100),D=v?Math.ceil(D/Be)*Be:Math.floor(D/Be)*Be),Math.max(R,Math.min(U,D))},getSize:function(){return(!this._size||this._sizeChanged)&&(this._size=new Q(this._container.clientWidth||0,this._container.clientHeight||0),this._sizeChanged=!1),this._size.clone()},getPixelBounds:function(f,v){var E=this._getTopLeftPoint(f,v);return new W(E,E.add(this.getSize()))},getPixelOrigin:function(){return this._checkIfLoaded(),this._pixelOrigin},getPixelWorldBounds:function(f){return this.options.crs.getProjectedBounds(f===void 0?this.getZoom():f)},getPane:function(f){return typeof f=="string"?this._panes[f]:f},getPanes:function(){return this._panes},getContainer:function(){return this._container},getZoomScale:function(f,v){var E=this.options.crs;return v=v===void 0?this._zoom:v,E.scale(f)/E.scale(v)},getScaleZoom:function(f,v){var E=this.options.crs;v=v===void 0?this._zoom:v;var D=E.zoom(f*E.scale(v));return isNaN(D)?1/0:D},project:function(f,v){return v=v===void 0?this._zoom:v,this.options.crs.latLngToPoint(ae(f),v)},unproject:function(f,v){return v=v===void 0?this._zoom:v,this.options.crs.pointToLatLng(ce(f),v)},layerPointToLatLng:function(f){var v=ce(f).add(this.getPixelOrigin());return this.unproject(v)},latLngToLayerPoint:function(f){var v=this.project(ae(f))._round();return v._subtract(this.getPixelOrigin())},wrapLatLng:function(f){return this.options.crs.wrapLatLng(ae(f))},wrapLatLngBounds:function(f){return this.options.crs.wrapLatLngBounds(he(f))},distance:function(f,v){return this.options.crs.distance(ae(f),ae(v))},containerPointToLayerPoint:function(f){return ce(f).subtract(this._getMapPanePos())},layerPointToContainerPoint:function(f){return ce(f).add(this._getMapPanePos())},containerPointToLatLng:function(f){var v=this.containerPointToLayerPoint(ce(f));return this.layerPointToLatLng(v)},latLngToContainerPoint:function(f){return this.layerPointToContainerPoint(this.latLngToLayerPoint(ae(f)))},mouseEventToContainerPoint:function(f){return kc(f,this._container)},mouseEventToLayerPoint:function(f){return this.containerPointToLayerPoint(this.mouseEventToContainerPoint(f))},mouseEventToLatLng:function(f){return this.layerPointToLatLng(this.mouseEventToLayerPoint(f))},_initContainer:function(f){var v=this._container=eh(f);if(v){if(v._leaflet_id)throw new Error("Map container is already initialized.")}else throw new Error("Map container not found.");ct(v,"scroll",this._onScroll,this),this._containerId=u(v)},_initLayout:function(){var f=this._container;this._fadeAnimated=this.options.fadeAnimation&&Ze.any3d,dt(f,"leaflet-container"+(Ze.touch?" leaflet-touch":"")+(Ze.retina?" leaflet-retina":"")+(Ze.ielt9?" leaflet-oldie":"")+(Ze.safari?" leaflet-safari":"")+(this._fadeAnimated?" leaflet-fade-anim":""));var v=yc(f,"position");v!=="absolute"&&v!=="relative"&&v!=="fixed"&&v!=="sticky"&&(f.style.position="relative"),this._initPanes(),this._initControlPos&&this._initControlPos()},_initPanes:function(){var f=this._panes={};this._paneRenderers={},this._mapPane=this.createPane("mapPane",this._container),Jt(this._mapPane,new Q(0,0)),this.createPane("tilePane"),this.createPane("overlayPane"),this.createPane("shadowPane"),this.createPane("markerPane"),this.createPane("tooltipPane"),this.createPane("popupPane"),this.options.markerZoomAnimation||(dt(f.markerPane,"leaflet-zoom-hide"),dt(f.shadowPane,"leaflet-zoom-hide"))},_resetView:function(f,v,E){Jt(this._mapPane,new Q(0,0));var D=!this._loaded;this._loaded=!0,v=this._limitZoom(v),this.fire("viewprereset");var R=this._zoom!==v;this._moveStart(R,E)._move(f,v)._moveEnd(R),this.fire("viewreset"),D&&this.fire("load")},_moveStart:function(f,v){return f&&this.fire("zoomstart"),v||this.fire("movestart"),this},_move:function(f,v,E,D){v===void 0&&(v=this._zoom);var R=this._zoom!==v;return this._zoom=v,this._lastCenter=f,this._pixelOrigin=this._getNewPixelOrigin(f),D?E&&E.pinch&&this.fire("zoom",E):((R||E&&E.pinch)&&this.fire("zoom",E),this.fire("move",E)),this},_moveEnd:function(f){return f&&this.fire("zoomend"),this.fire("moveend")},_stop:function(){return B(this._flyToFrame),this._panAnim&&this._panAnim.stop(),this},_rawPanBy:function(f){Jt(this._mapPane,this._getMapPanePos().subtract(f))},_getZoomSpan:function(){return this.getMaxZoom()-this.getMinZoom()},_panInsideMaxBounds:function(){this._enforcingBounds||this.panInsideBounds(this.options.maxBounds)},_checkIfLoaded:function(){if(!this._loaded)throw new Error("Set map center and zoom first.")},_initEvents:function(f){this._targets={},this._targets[u(this._container)]=this;var v=f?Ut:ct;v(this._container,"click dblclick mousedown mouseup mouseover mouseout mousemove contextmenu keypress keydown keyup",this._handleDOMEvent,this),this.options.trackResize&&v(window,"resize",this._onResize,this),Ze.any3d&&this.options.transform3DLimit&&(f?this.off:this.on).call(this,"moveend",this._onMoveEnd)},_onResize:function(){B(this._resizeRequest),this._resizeRequest=F(function(){this.invalidateSize({debounceMoveend:!0})},this)},_onScroll:function(){this._container.scrollTop=0,this._container.scrollLeft=0},_onMoveEnd:function(){var f=this._getMapPanePos();Math.max(Math.abs(f.x),Math.abs(f.y))>=this.options.transform3DLimit&&this._resetView(this.getCenter(),this.getZoom())},_findEventTargets:function(f,v){for(var E=[],D,R=v==="mouseout"||v==="mouseover",U=f.target||f.srcElement,te=!1;U;){if(D=this._targets[u(U)],D&&(v==="click"||v==="preclick")&&this._draggableMoved(D)){te=!0;break}if(D&&D.listens(v,!0)&&(R&&!Ia(U,f)||(E.push(D),R))||U===this._container)break;U=U.parentNode}return!E.length&&!te&&!R&&this.listens(v,!0)&&(E=[this]),E},_isClickDisabled:function(f){for(;f&&f!==this._container;){if(f._leaflet_disable_click)return!0;f=f.parentNode}},_handleDOMEvent:function(f){var v=f.target||f.srcElement;if(!(!this._loaded||v._leaflet_disable_events||f.type==="click"&&this._isClickDisabled(v))){var E=f.type;E==="mousedown"&&sl(v),this._fireDOMEvent(f,E)}},_mouseEvents:["click","dblclick","mouseover","mouseout","contextmenu"],_fireDOMEvent:function(f,v,E){if(f.type==="click"){var D=i({},f);D.type="preclick",this._fireDOMEvent(D,D.type,E)}var R=this._findEventTargets(f,v);if(E){for(var U=[],te=0;te<E.length;te++)E[te].listens(v,!0)&&U.push(E[te]);R=U.concat(R)}if(R.length){v==="contextmenu"&&An(f);var fe=R[0],ye={originalEvent:f};if(f.type!=="keypress"&&f.type!=="keydown"&&f.type!=="keyup"){var Ae=fe.getLatLng&&(!fe._radius||fe._radius<=10);ye.containerPoint=Ae?this.latLngToContainerPoint(fe.getLatLng()):this.mouseEventToContainerPoint(f),ye.layerPoint=this.containerPointToLayerPoint(ye.containerPoint),ye.latlng=Ae?fe.getLatLng():this.layerPointToLatLng(ye.layerPoint)}for(te=0;te<R.length;te++)if(R[te].fire(v,ye,!0),ye.originalEvent._stopped||R[te].options.bubblingMouseEvents===!1&&C(this._mouseEvents,v)!==-1)return}},_draggableMoved:function(f){return f=f.dragging&&f.dragging.enabled()?f:this,f.dragging&&f.dragging.moved()||this.boxZoom&&this.boxZoom.moved()},_clearHandlers:function(){for(var f=0,v=this._handlers.length;f<v;f++)this._handlers[f].disable()},whenReady:function(f,v){return this._loaded?f.call(v||this,{target:this}):this.on("load",f,v),this},_getMapPanePos:function(){return bo(this._mapPane)||new Q(0,0)},_moved:function(){var f=this._getMapPanePos();return f&&!f.equals([0,0])},_getTopLeftPoint:function(f,v){var E=f&&v!==void 0?this._getNewPixelOrigin(f,v):this.getPixelOrigin();return E.subtract(this._getMapPanePos())},_getNewPixelOrigin:function(f,v){var E=this.getSize()._divideBy(2);return this.project(f,v)._subtract(E)._add(this._getMapPanePos())._round()},_latLngToNewLayerPoint:function(f,v,E){var D=this._getNewPixelOrigin(E,v);return this.project(f,v)._subtract(D)},_latLngBoundsToNewLayerBounds:function(f,v,E){var D=this._getNewPixelOrigin(E,v);return ne([this.project(f.getSouthWest(),v)._subtract(D),this.project(f.getNorthWest(),v)._subtract(D),this.project(f.getSouthEast(),v)._subtract(D),this.project(f.getNorthEast(),v)._subtract(D)])},_getCenterLayerPoint:function(){return this.containerPointToLayerPoint(this.getSize()._divideBy(2))},_getCenterOffset:function(f){return this.latLngToLayerPoint(f).subtract(this._getCenterLayerPoint())},_limitCenter:function(f,v,E){if(!E)return f;var D=this.project(f,v),R=this.getSize().divideBy(2),U=new W(D.subtract(R),D.add(R)),te=this._getBoundsOffset(U,E,v);return Math.abs(te.x)<=1&&Math.abs(te.y)<=1?f:this.unproject(D.add(te),v)},_limitOffset:function(f,v){if(!v)return f;var E=this.getPixelBounds(),D=new W(E.min.add(f),E.max.add(f));return f.add(this._getBoundsOffset(D,v))},_getBoundsOffset:function(f,v,E){var D=ne(this.project(v.getNorthEast(),E),this.project(v.getSouthWest(),E)),R=D.min.subtract(f.min),U=D.max.subtract(f.max),te=this._rebound(R.x,-U.x),fe=this._rebound(R.y,-U.y);return new Q(te,fe)},_rebound:function(f,v){return f+v>0?Math.round(f-v)/2:Math.max(0,Math.ceil(f))-Math.max(0,Math.floor(v))},_limitZoom:function(f){var v=this.getMinZoom(),E=this.getMaxZoom(),D=Ze.any3d?this.options.zoomSnap:1;return D&&(f=Math.round(f/D)*D),Math.max(v,Math.min(E,f))},_onPanTransitionStep:function(){this.fire("move")},_onPanTransitionEnd:function(){hn(this._mapPane,"leaflet-pan-anim"),this.fire("moveend")},_tryAnimatedPan:function(f,v){var E=this._getCenterOffset(f)._trunc();return(v&&v.animate)!==!0&&!this.getSize().contains(E)?!1:(this.panBy(E,v),!0)},_createAnimProxy:function(){var f=this._proxy=wt("div","leaflet-proxy leaflet-zoom-animated");this._panes.mapPane.appendChild(f),this.on("zoomanim",function(v){var E=go,D=this._proxy.style[E];La(this._proxy,this.project(v.center,v.zoom),this.getZoomScale(v.zoom,1)),D===this._proxy.style[E]&&this._animatingZoom&&this._onZoomTransitionEnd()},this),this.on("load moveend",this._animMoveEnd,this),this._on("unload",this._destroyAnimProxy,this)},_destroyAnimProxy:function(){Wt(this._proxy),this.off("load moveend",this._animMoveEnd,this),delete this._proxy},_animMoveEnd:function(){var f=this.getCenter(),v=this.getZoom();La(this._proxy,this.project(f,v),this.getZoomScale(v,1))},_catchTransitionEnd:function(f){this._animatingZoom&&f.propertyName.indexOf("transform")>=0&&this._onZoomTransitionEnd()},_nothingToAnimate:function(){return!this._container.getElementsByClassName("leaflet-zoom-animated").length},_tryAnimatedZoom:function(f,v,E){if(this._animatingZoom)return!0;if(E=E||{},!this._zoomAnimated||E.animate===!1||this._nothingToAnimate()||Math.abs(v-this._zoom)>this.options.zoomAnimationThreshold)return!1;var D=this.getZoomScale(v),R=this._getCenterOffset(f)._divideBy(1-1/D);return E.animate!==!0&&!this.getSize().contains(R)?!1:(F(function(){this._moveStart(!0,E.noMoveStart||!1)._animateZoom(f,v,!0)},this),!0)},_animateZoom:function(f,v,E,D){this._mapPane&&(E&&(this._animatingZoom=!0,this._animateToCenter=f,this._animateToZoom=v,dt(this._mapPane,"leaflet-zoom-anim")),this.fire("zoomanim",{center:f,zoom:v,noUpdate:D}),this._tempFireZoomEvent||(this._tempFireZoomEvent=this._zoom!==this._animateToZoom),this._move(this._animateToCenter,this._animateToZoom,void 0,!0),setTimeout(o(this._onZoomTransitionEnd,this),250))},_onZoomTransitionEnd:function(){this._animatingZoom&&(this._mapPane&&hn(this._mapPane,"leaflet-zoom-anim"),this._animatingZoom=!1,this._move(this._animateToCenter,this._animateToZoom,void 0,!0),this._tempFireZoomEvent&&this.fire("zoom"),delete this._tempFireZoomEvent,this.fire("move"),this._moveEnd(!0))}});function oh(f,v){return new Et(f,v)}var Kr=X.extend({options:{position:"topright"},initialize:function(f){w(this,f)},getPosition:function(){return this.options.position},setPosition:function(f){var v=this._map;return v&&v.removeControl(this),this.options.position=f,v&&v.addControl(this),this},getContainer:function(){return this._container},addTo:function(f){this.remove(),this._map=f;var v=this._container=this.onAdd(f),E=this.getPosition(),D=f._controlCorners[E];return dt(v,"leaflet-control"),E.indexOf("bottom")!==-1?D.insertBefore(v,D.firstChild):D.appendChild(v),this._map.on("unload",this.remove,this),this},remove:function(){return this._map?(Wt(this._container),this.onRemove&&this.onRemove(this._map),this._map.off("unload",this.remove,this),this._map=null,this):this},_refocusOnMap:function(f){this._map&&f&&f.screenX>0&&f.screenY>0&&this._map.getContainer().focus()}}),$a=function(f){return new Kr(f)};Et.include({addControl:function(f){return f.addTo(this),this},removeControl:function(f){return f.remove(),this},_initControlPos:function(){var f=this._controlCorners={},v="leaflet-",E=this._controlContainer=wt("div",v+"control-container",this._container);function D(R,U){var te=v+R+" "+v+U;f[R+U]=wt("div",te,E)}D("top","left"),D("top","right"),D("bottom","left"),D("bottom","right")},_clearControlPos:function(){for(var f in this._controlCorners)Wt(this._controlCorners[f]);Wt(this._controlContainer),delete this._controlCorners,delete this._controlContainer}});var Ec=Kr.extend({options:{collapsed:!0,position:"topright",autoZIndex:!0,hideSingleBase:!1,sortLayers:!1,sortFunction:function(f,v,E,D){return E<D?-1:D<E?1:0}},initialize:function(f,v,E){w(this,E),this._layerControlInputs=[],this._layers=[],this._lastZIndex=0,this._handlingClick=!1,this._preventClick=!1;for(var D in f)this._addLayer(f[D],D);for(D in v)this._addLayer(v[D],D,!0)},onAdd:function(f){this._initLayout(),this._update(),this._map=f,f.on("zoomend",this._checkDisabledLayers,this);for(var v=0;v<this._layers.length;v++)this._layers[v].layer.on("add remove",this._onLayerChange,this);return this._container},addTo:function(f){return Kr.prototype.addTo.call(this,f),this._expandIfNotCollapsed()},onRemove:function(){this._map.off("zoomend",this._checkDisabledLayers,this);for(var f=0;f<this._layers.length;f++)this._layers[f].layer.off("add remove",this._onLayerChange,this)},addBaseLayer:function(f,v){return this._addLayer(f,v),this._map?this._update():this},addOverlay:function(f,v){return this._addLayer(f,v,!0),this._map?this._update():this},removeLayer:function(f){f.off("add remove",this._onLayerChange,this);var v=this._getLayer(u(f));return v&&this._layers.splice(this._layers.indexOf(v),1),this._map?this._update():this},expand:function(){dt(this._container,"leaflet-control-layers-expanded"),this._section.style.height=null;var f=this._map.getSize().y-(this._container.offsetTop+50);return f<this._section.clientHeight?(dt(this._section,"leaflet-control-layers-scrollbar"),this._section.style.height=f+"px"):hn(this._section,"leaflet-control-layers-scrollbar"),this._checkDisabledLayers(),this},collapse:function(){return hn(this._container,"leaflet-control-layers-expanded"),this},_initLayout:function(){var f="leaflet-control-layers",v=this._container=wt("div",f),E=this.options.collapsed;v.setAttribute("aria-haspopup",!0),rs(v),ra(v);var D=this._section=wt("section",f+"-list");E&&(this._map.on("click",this.collapse,this),ct(v,{mouseenter:this._expandSafely,mouseleave:this.collapse},this));var R=this._layersLink=wt("a",f+"-toggle",v);R.href="#",R.title="Layers",R.setAttribute("role","button"),ct(R,{keydown:function(U){U.keyCode===13&&this._expandSafely()},click:function(U){An(U),this._expandSafely()}},this),E||this.expand(),this._baseLayersList=wt("div",f+"-base",D),this._separator=wt("div",f+"-separator",D),this._overlaysList=wt("div",f+"-overlays",D),v.appendChild(D)},_getLayer:function(f){for(var v=0;v<this._layers.length;v++)if(this._layers[v]&&u(this._layers[v].layer)===f)return this._layers[v]},_addLayer:function(f,v,E){this._map&&f.on("add remove",this._onLayerChange,this),this._layers.push({layer:f,name:v,overlay:E}),this.options.sortLayers&&this._layers.sort(o(function(D,R){return this.options.sortFunction(D.layer,R.layer,D.name,R.name)},this)),this.options.autoZIndex&&f.setZIndex&&(this._lastZIndex++,f.setZIndex(this._lastZIndex)),this._expandIfNotCollapsed()},_update:function(){if(!this._container)return this;li(this._baseLayersList),li(this._overlaysList),this._layerControlInputs=[];var f,v,E,D,R=0;for(E=0;E<this._layers.length;E++)D=this._layers[E],this._addItem(D),v=v||D.overlay,f=f||!D.overlay,R+=D.overlay?0:1;return this.options.hideSingleBase&&(f=f&&R>1,this._baseLayersList.style.display=f?"":"none"),this._separator.style.display=v&&f?"":"none",this},_onLayerChange:function(f){this._handlingClick||this._update();var v=this._getLayer(u(f.target)),E=v.overlay?f.type==="add"?"overlayadd":"overlayremove":f.type==="add"?"baselayerchange":null;E&&this._map.fire(E,v)},_createRadioElement:function(f,v){var E='<input type="radio" class="leaflet-control-layers-selector" name="'+f+'"'+(v?' checked="checked"':"")+"/>",D=document.createElement("div");return D.innerHTML=E,D.firstChild},_addItem:function(f){var v=document.createElement("label"),E=this._map.hasLayer(f.layer),D;f.overlay?(D=document.createElement("input"),D.type="checkbox",D.className="leaflet-control-layers-selector",D.defaultChecked=E):D=this._createRadioElement("leaflet-base-layers_"+u(this),E),this._layerControlInputs.push(D),D.layerId=u(f.layer),ct(D,"click",this._onInputClick,this);var R=document.createElement("span");R.innerHTML=" "+f.name;var U=document.createElement("span");v.appendChild(U),U.appendChild(D),U.appendChild(R);var te=f.overlay?this._overlaysList:this._baseLayersList;return te.appendChild(v),this._checkDisabledLayers(),v},_onInputClick:function(){if(!this._preventClick){var f=this._layerControlInputs,v,E,D=[],R=[];this._handlingClick=!0;for(var U=f.length-1;U>=0;U--)v=f[U],E=this._getLayer(v.layerId).layer,v.checked?D.push(E):v.checked||R.push(E);for(U=0;U<R.length;U++)this._map.hasLayer(R[U])&&this._map.removeLayer(R[U]);for(U=0;U<D.length;U++)this._map.hasLayer(D[U])||this._map.addLayer(D[U]);this._handlingClick=!1,this._refocusOnMap()}},_checkDisabledLayers:function(){for(var f=this._layerControlInputs,v,E,D=this._map.getZoom(),R=f.length-1;R>=0;R--)v=f[R],E=this._getLayer(v.layerId).layer,v.disabled=E.options.minZoom!==void 0&&D<E.options.minZoom||E.options.maxZoom!==void 0&&D>E.options.maxZoom},_expandIfNotCollapsed:function(){return this._map&&!this.options.collapsed&&this.expand(),this},_expandSafely:function(){var f=this._section;this._preventClick=!0,ct(f,"click",An),this.expand();var v=this;setTimeout(function(){Ut(f,"click",An),v._preventClick=!1})}}),x0=function(f,v,E){return new Ec(f,v,E)},sh=Kr.extend({options:{position:"topleft",zoomInText:'<span aria-hidden="true">+</span>',zoomInTitle:"Zoom in",zoomOutText:'<span aria-hidden="true">&#x2212;</span>',zoomOutTitle:"Zoom out"},onAdd:function(f){var v="leaflet-control-zoom",E=wt("div",v+" leaflet-bar"),D=this.options;return this._zoomInButton=this._createButton(D.zoomInText,D.zoomInTitle,v+"-in",E,this._zoomIn),this._zoomOutButton=this._createButton(D.zoomOutText,D.zoomOutTitle,v+"-out",E,this._zoomOut),this._updateDisabled(),f.on("zoomend zoomlevelschange",this._updateDisabled,this),E},onRemove:function(f){f.off("zoomend zoomlevelschange",this._updateDisabled,this)},disable:function(){return this._disabled=!0,this._updateDisabled(),this},enable:function(){return this._disabled=!1,this._updateDisabled(),this},_zoomIn:function(f){!this._disabled&&this._map._zoom<this._map.getMaxZoom()&&this._map.zoomIn(this._map.options.zoomDelta*(f.shiftKey?3:1))},_zoomOut:function(f){!this._disabled&&this._map._zoom>this._map.getMinZoom()&&this._map.zoomOut(this._map.options.zoomDelta*(f.shiftKey?3:1))},_createButton:function(f,v,E,D,R){var U=wt("a",E,D);return U.innerHTML=f,U.href="#",U.title=v,U.setAttribute("role","button"),U.setAttribute("aria-label",v),rs(U),ct(U,"click",yo),ct(U,"click",R,this),ct(U,"click",this._refocusOnMap,this),U},_updateDisabled:function(){var f=this._map,v="leaflet-disabled";hn(this._zoomInButton,v),hn(this._zoomOutButton,v),this._zoomInButton.setAttribute("aria-disabled","false"),this._zoomOutButton.setAttribute("aria-disabled","false"),(this._disabled||f._zoom===f.getMinZoom())&&(dt(this._zoomOutButton,v),this._zoomOutButton.setAttribute("aria-disabled","true")),(this._disabled||f._zoom===f.getMaxZoom())&&(dt(this._zoomInButton,v),this._zoomInButton.setAttribute("aria-disabled","true"))}});Et.mergeOptions({zoomControl:!0}),Et.addInitHook(function(){this.options.zoomControl&&(this.zoomControl=new sh,this.addControl(this.zoomControl))});var hw=function(f){return new sh(f)},w0=Kr.extend({options:{position:"bottomleft",maxWidth:100,metric:!0,imperial:!0},onAdd:function(f){var v="leaflet-control-scale",E=wt("div",v),D=this.options;return this._addScales(D,v+"-line",E),f.on(D.updateWhenIdle?"moveend":"move",this._update,this),f.whenReady(this._update,this),E},onRemove:function(f){f.off(this.options.updateWhenIdle?"moveend":"move",this._update,this)},_addScales:function(f,v,E){f.metric&&(this._mScale=wt("div",v,E)),f.imperial&&(this._iScale=wt("div",v,E))},_update:function(){var f=this._map,v=f.getSize().y/2,E=f.distance(f.containerPointToLatLng([0,v]),f.containerPointToLatLng([this.options.maxWidth,v]));this._updateScales(E)},_updateScales:function(f){this.options.metric&&f&&this._updateMetric(f),this.options.imperial&&f&&this._updateImperial(f)},_updateMetric:function(f){var v=this._getRoundNum(f),E=v<1e3?v+" m":v/1e3+" km";this._updateScale(this._mScale,E,v/f)},_updateImperial:function(f){var v=f*3.2808399,E,D,R;v>5280?(E=v/5280,D=this._getRoundNum(E),this._updateScale(this._iScale,D+" mi",D/E)):(R=this._getRoundNum(v),this._updateScale(this._iScale,R+" ft",R/v))},_updateScale:function(f,v,E){f.style.width=Math.round(this.options.maxWidth*E)+"px",f.innerHTML=v},_getRoundNum:function(f){var v=Math.pow(10,(Math.floor(f)+"").length-1),E=f/v;return E=E>=10?10:E>=5?5:E>=3?3:E>=2?2:1,v*E}}),lh=function(f){return new w0(f)},mw='<svg aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="12" height="8" viewBox="0 0 12 8" class="leaflet-attribution-flag"><path fill="#4C7BE1" d="M0 0h12v4H0z"/><path fill="#FFD500" d="M0 4h12v3H0z"/><path fill="#E0BC00" d="M0 7h12v1H0z"/></svg>',ch=Kr.extend({options:{position:"bottomright",prefix:'<a href="https://leafletjs.com" title="A JavaScript library for interactive maps">'+(Ze.inlineSvg?mw+" ":"")+"Leaflet</a>"},initialize:function(f){w(this,f),this._attributions={}},onAdd:function(f){f.attributionControl=this,this._container=wt("div","leaflet-control-attribution"),rs(this._container);for(var v in f._layers)f._layers[v].getAttribution&&this.addAttribution(f._layers[v].getAttribution());return this._update(),f.on("layeradd",this._addAttribution,this),this._container},onRemove:function(f){f.off("layeradd",this._addAttribution,this)},_addAttribution:function(f){f.layer.getAttribution&&(this.addAttribution(f.layer.getAttribution()),f.layer.once("remove",function(){this.removeAttribution(f.layer.getAttribution())},this))},setPrefix:function(f){return this.options.prefix=f,this._update(),this},addAttribution:function(f){return f?(this._attributions[f]||(this._attributions[f]=0),this._attributions[f]++,this._update(),this):this},removeAttribution:function(f){return f?(this._attributions[f]&&(this._attributions[f]--,this._update()),this):this},_update:function(){if(this._map){var f=[];for(var v in this._attributions)this._attributions[v]&&f.push(v);var E=[];this.options.prefix&&E.push(this.options.prefix),f.length&&E.push(f.join(", ")),this._container.innerHTML=E.join(' <span aria-hidden="true">|</span> ')}}});Et.mergeOptions({attributionControl:!0}),Et.addInitHook(function(){this.options.attributionControl&&new ch().addTo(this)});var pw=function(f){return new ch(f)};Kr.Layers=Ec,Kr.Zoom=sh,Kr.Scale=w0,Kr.Attribution=ch,$a.layers=x0,$a.zoom=hw,$a.scale=lh,$a.attribution=pw;var ia=X.extend({initialize:function(f){this._map=f},enable:function(){return this._enabled?this:(this._enabled=!0,this.addHooks(),this)},disable:function(){return this._enabled?(this._enabled=!1,this.removeHooks(),this):this},enabled:function(){return!!this._enabled}});ia.addTo=function(f,v){return f.addHandler(v,this),this};var gw={Events:Y},uh=Ze.touch?"touchstart mousedown":"mousedown",vo=V.extend({options:{clickTolerance:3},initialize:function(f,v,E,D){w(this,D),this._element=f,this._dragStartTarget=v||f,this._preventOutline=E},enable:function(){this._enabled||(ct(this._dragStartTarget,uh,this._onDown,this),this._enabled=!0)},disable:function(){this._enabled&&(vo._dragging===this&&this.finishDrag(!0),Ut(this._dragStartTarget,uh,this._onDown,this),this._enabled=!1,this._moved=!1)},_onDown:function(f){if(this._enabled&&(this._moved=!1,!th(this._element,"leaflet-zoom-anim"))){if(f.touches&&f.touches.length!==1){vo._dragging===this&&this.finishDrag();return}if(!(vo._dragging||f.shiftKey||f.which!==1&&f.button!==1&&!f.touches)&&(vo._dragging=this,this._preventOutline&&sl(this._element),Fu(),al(),!this._moving)){this.fire("down");var v=f.touches?f.touches[0]:f,E=Gu(this._element);this._startPoint=new Q(v.clientX,v.clientY),this._startPos=bo(this._element),this._parentScale=wc(E);var D=f.type==="mousedown";ct(document,D?"mousemove":"touchmove",this._onMove,this),ct(document,D?"mouseup":"touchend touchcancel",this._onUp,this)}}},_onMove:function(f){if(this._enabled){if(f.touches&&f.touches.length>1){this._moved=!0;return}var v=f.touches&&f.touches.length===1?f.touches[0]:f,E=new Q(v.clientX,v.clientY)._subtract(this._startPoint);!E.x&&!E.y||Math.abs(E.x)+Math.abs(E.y)<this.options.clickTolerance||(E.x/=this._parentScale.x,E.y/=this._parentScale.y,An(f),this._moved||(this.fire("dragstart"),this._moved=!0,dt(document.body,"leaflet-dragging"),this._lastTarget=f.target||f.srcElement,window.SVGElementInstance&&this._lastTarget instanceof window.SVGElementInstance&&(this._lastTarget=this._lastTarget.correspondingUseElement),dt(this._lastTarget,"leaflet-drag-target")),this._newPos=this._startPos.add(E),this._moving=!0,this._lastEvent=f,this._updatePosition())}},_updatePosition:function(){var f={originalEvent:this._lastEvent};this.fire("predrag",f),Jt(this._element,this._newPos),this.fire("drag",f)},_onUp:function(){this._enabled&&this.finishDrag()},finishDrag:function(f){hn(document.body,"leaflet-dragging"),this._lastTarget&&(hn(this._lastTarget,"leaflet-drag-target"),this._lastTarget=null),Ut(document,"mousemove touchmove",this._onMove,this),Ut(document,"mouseup touchend touchcancel",this._onUp,this),xc(),na();var v=this._moved&&this._moving;this._moving=!1,vo._dragging=!1,v&&this.fire("dragend",{noInertia:f,distance:this._newPos.distanceTo(this._startPos)})}});function _0(f,v,E){var D,R=[1,4,2,8],U,te,fe,ye,Ae,Be,Je,yt;for(U=0,Be=f.length;U<Be;U++)f[U]._code=is(f[U],v);for(fe=0;fe<4;fe++){for(Je=R[fe],D=[],U=0,Be=f.length,te=Be-1;U<Be;te=U++)ye=f[U],Ae=f[te],ye._code&Je?Ae._code&Je||(yt=qu(Ae,ye,Je,v,E),yt._code=is(yt,v),D.push(yt)):(Ae._code&Je&&(yt=qu(Ae,ye,Je,v,E),yt._code=is(yt,v),D.push(yt)),D.push(ye));f=D}return f}function S0(f,v){var E,D,R,U,te,fe,ye,Ae,Be;if(!f||f.length===0)throw new Error("latlngs not passed");ui(f)||(console.warn("latlngs are not flat! Only the first ring will be used"),f=f[0]);var Je=ae([0,0]),yt=he(f),tr=yt.getNorthWest().distanceTo(yt.getSouthWest())*yt.getNorthEast().distanceTo(yt.getNorthWest());tr<1700&&(Je=dh(f));var Nn=f.length,Wr=[];for(E=0;E<Nn;E++){var Dt=ae(f[E]);Wr.push(v.project(ae([Dt.lat-Je.lat,Dt.lng-Je.lng])))}for(fe=ye=Ae=0,E=0,D=Nn-1;E<Nn;D=E++)R=Wr[E],U=Wr[D],te=R.y*U.x-U.y*R.x,ye+=(R.x+U.x)*te,Ae+=(R.y+U.y)*te,fe+=te*3;fe===0?Be=Wr[0]:Be=[ye/fe,Ae/fe];var Pt=v.unproject(ce(Be));return ae([Pt.lat+Je.lat,Pt.lng+Je.lng])}function dh(f){for(var v=0,E=0,D=0,R=0;R<f.length;R++){var U=ae(f[R]);v+=U.lat,E+=U.lng,D++}return ae([v/D,E/D])}var fh={__proto__:null,clipPolygon:_0,polygonCenter:S0,centroid:dh};function k0(f,v){if(!v||!f.length)return f.slice();var E=v*v;return f=yw(f,E),f=j0(f,E),f}function E0(f,v,E){return Math.sqrt(jc(f,v,E,!0))}function bw(f,v,E){return jc(f,v,E)}function j0(f,v){var E=f.length,D=typeof Uint8Array<"u"?Uint8Array:Array,R=new D(E);R[0]=R[E-1]=1,hh(f,R,v,0,E-1);var U,te=[];for(U=0;U<E;U++)R[U]&&te.push(f[U]);return te}function hh(f,v,E,D,R){var U=0,te,fe,ye;for(fe=D+1;fe<=R-1;fe++)ye=jc(f[fe],f[D],f[R],!0),ye>U&&(te=fe,U=ye);U>E&&(v[te]=1,hh(f,v,E,D,te),hh(f,v,E,te,R))}function yw(f,v){for(var E=[f[0]],D=1,R=0,U=f.length;D<U;D++)vw(f[D],f[R])>v&&(E.push(f[D]),R=D);return R<U-1&&E.push(f[U-1]),E}var T0;function A0(f,v,E,D,R){var U=D?T0:is(f,E),te=is(v,E),fe,ye,Ae;for(T0=te;;){if(!(U|te))return[f,v];if(U&te)return!1;fe=U||te,ye=qu(f,v,fe,E,R),Ae=is(ye,E),fe===U?(f=ye,U=Ae):(v=ye,te=Ae)}}function qu(f,v,E,D,R){var U=v.x-f.x,te=v.y-f.y,fe=D.min,ye=D.max,Ae,Be;return E&8?(Ae=f.x+U*(ye.y-f.y)/te,Be=ye.y):E&4?(Ae=f.x+U*(fe.y-f.y)/te,Be=fe.y):E&2?(Ae=ye.x,Be=f.y+te*(ye.x-f.x)/U):E&1&&(Ae=fe.x,Be=f.y+te*(fe.x-f.x)/U),new Q(Ae,Be,R)}function is(f,v){var E=0;return f.x<v.min.x?E|=1:f.x>v.max.x&&(E|=2),f.y<v.min.y?E|=4:f.y>v.max.y&&(E|=8),E}function vw(f,v){var E=v.x-f.x,D=v.y-f.y;return E*E+D*D}function jc(f,v,E,D){var R=v.x,U=v.y,te=E.x-R,fe=E.y-U,ye=te*te+fe*fe,Ae;return ye>0&&(Ae=((f.x-R)*te+(f.y-U)*fe)/ye,Ae>1?(R=E.x,U=E.y):Ae>0&&(R+=te*Ae,U+=fe*Ae)),te=f.x-R,fe=f.y-U,D?te*te+fe*fe:new Q(R,U)}function ui(f){return!T(f[0])||typeof f[0][0]!="object"&&typeof f[0][0]<"u"}function Ku(f){return console.warn("Deprecated use of _flat, please use L.LineUtil.isFlat instead."),ui(f)}function ul(f,v){var E,D,R,U,te,fe,ye,Ae;if(!f||f.length===0)throw new Error("latlngs not passed");ui(f)||(console.warn("latlngs are not flat! Only the first ring will be used"),f=f[0]);var Be=ae([0,0]),Je=he(f),yt=Je.getNorthWest().distanceTo(Je.getSouthWest())*Je.getNorthEast().distanceTo(Je.getNorthWest());yt<1700&&(Be=dh(f));var tr=f.length,Nn=[];for(E=0;E<tr;E++){var Wr=ae(f[E]);Nn.push(v.project(ae([Wr.lat-Be.lat,Wr.lng-Be.lng])))}for(E=0,D=0;E<tr-1;E++)D+=Nn[E].distanceTo(Nn[E+1])/2;if(D===0)Ae=Nn[0];else for(E=0,U=0;E<tr-1;E++)if(te=Nn[E],fe=Nn[E+1],R=te.distanceTo(fe),U+=R,U>D){ye=(U-D)/R,Ae=[fe.x-ye*(fe.x-te.x),fe.y-ye*(fe.y-te.y)];break}var Dt=v.unproject(ce(Ae));return ae([Dt.lat+Be.lat,Dt.lng+Be.lng])}var xw={__proto__:null,simplify:k0,pointToSegmentDistance:E0,closestPointOnSegment:bw,clipSegment:A0,_getEdgeIntersection:qu,_getBitCode:is,_sqClosestPointOnSegment:jc,isFlat:ui,_flat:Ku,polylineCenter:ul},Wu={project:function(f){return new Q(f.lng,f.lat)},unproject:function(f){return new J(f.y,f.x)},bounds:new W([-180,-90],[180,90])},Vu={R:6378137,R_MINOR:6356752314245179e-9,bounds:new W([-2003750834279e-5,-1549657073972e-5],[2003750834279e-5,1876465623138e-5]),project:function(f){var v=Math.PI/180,E=this.R,D=f.lat*v,R=this.R_MINOR/E,U=Math.sqrt(1-R*R),te=U*Math.sin(D),fe=Math.tan(Math.PI/4-D/2)/Math.pow((1-te)/(1+te),U/2);return D=-E*Math.log(Math.max(fe,1e-10)),new Q(f.lng*v*E,D)},unproject:function(f){for(var v=180/Math.PI,E=this.R,D=this.R_MINOR/E,R=Math.sqrt(1-D*D),U=Math.exp(-f.y/E),te=Math.PI/2-2*Math.atan(U),fe=0,ye=.1,Ae;fe<15&&Math.abs(ye)>1e-7;fe++)Ae=R*Math.sin(te),Ae=Math.pow((1-Ae)/(1+Ae),R/2),ye=Math.PI/2-2*Math.atan(U*Ae)-te,te+=ye;return new J(te*v,f.x*v/E)}},N0={__proto__:null,LonLat:Wu,Mercator:Vu,SphericalMercator:je},O0=i({},me,{code:"EPSG:3395",projection:Vu,transformation:(function(){var f=.5/(Math.PI*Vu.R);return ue(f,.5,-f,.5)})()}),mh=i({},me,{code:"EPSG:4326",projection:Wu,transformation:ue(1/180,1,-1/180,.5)}),dl=i({},pe,{projection:Wu,transformation:ue(1,0,-1,0),scale:function(f){return Math.pow(2,f)},zoom:function(f){return Math.log(f)/Math.LN2},distance:function(f,v){var E=v.lng-f.lng,D=v.lat-f.lat;return Math.sqrt(E*E+D*D)},infinite:!0});pe.Earth=me,pe.EPSG3395=O0,pe.EPSG3857=Ee,pe.EPSG900913=Me,pe.EPSG4326=mh,pe.Simple=dl;var Di=V.extend({options:{pane:"overlayPane",attribution:null,bubblingMouseEvents:!0},addTo:function(f){return f.addLayer(this),this},remove:function(){return this.removeFrom(this._map||this._mapToAdd)},removeFrom:function(f){return f&&f.removeLayer(this),this},getPane:function(f){return this._map.getPane(f?this.options[f]||f:this.options.pane)},addInteractiveTarget:function(f){return this._map._targets[u(f)]=this,this},removeInteractiveTarget:function(f){return delete this._map._targets[u(f)],this},getAttribution:function(){return this.options.attribution},_layerAdd:function(f){var v=f.target;if(v.hasLayer(this)){if(this._map=v,this._zoomAnimated=v._zoomAnimated,this.getEvents){var E=this.getEvents();v.on(E,this),this.once("remove",function(){v.off(E,this)},this)}this.onAdd(v),this.fire("add"),v.fire("layeradd",{layer:this})}}});Et.include({addLayer:function(f){if(!f._layerAdd)throw new Error("The provided object is not a Layer.");var v=u(f);return this._layers[v]?this:(this._layers[v]=f,f._mapToAdd=this,f.beforeAdd&&f.beforeAdd(this),this.whenReady(f._layerAdd,f),this)},removeLayer:function(f){var v=u(f);return this._layers[v]?(this._loaded&&f.onRemove(this),delete this._layers[v],this._loaded&&(this.fire("layerremove",{layer:f}),f.fire("remove")),f._map=f._mapToAdd=null,this):this},hasLayer:function(f){return u(f)in this._layers},eachLayer:function(f,v){for(var E in this._layers)f.call(v,this._layers[E]);return this},_addLayers:function(f){f=f?T(f)?f:[f]:[];for(var v=0,E=f.length;v<E;v++)this.addLayer(f[v])},_addZoomLimit:function(f){(!isNaN(f.options.maxZoom)||!isNaN(f.options.minZoom))&&(this._zoomBoundLayers[u(f)]=f,this._updateZoomLevels())},_removeZoomLimit:function(f){var v=u(f);this._zoomBoundLayers[v]&&(delete this._zoomBoundLayers[v],this._updateZoomLevels())},_updateZoomLevels:function(){var f=1/0,v=-1/0,E=this._getZoomSpan();for(var D in this._zoomBoundLayers){var R=this._zoomBoundLayers[D].options;f=R.minZoom===void 0?f:Math.min(f,R.minZoom),v=R.maxZoom===void 0?v:Math.max(v,R.maxZoom)}this._layersMaxZoom=v===-1/0?void 0:v,this._layersMinZoom=f===1/0?void 0:f,E!==this._getZoomSpan()&&this.fire("zoomlevelschange"),this.options.maxZoom===void 0&&this._layersMaxZoom&&this.getZoom()>this._layersMaxZoom&&this.setZoom(this._layersMaxZoom),this.options.minZoom===void 0&&this._layersMinZoom&&this.getZoom()<this._layersMinZoom&&this.setZoom(this._layersMinZoom)}});var fl=Di.extend({initialize:function(f,v){w(this,v),this._layers={};var E,D;if(f)for(E=0,D=f.length;E<D;E++)this.addLayer(f[E])},addLayer:function(f){var v=this.getLayerId(f);return this._layers[v]=f,this._map&&this._map.addLayer(f),this},removeLayer:function(f){var v=f in this._layers?f:this.getLayerId(f);return this._map&&this._layers[v]&&this._map.removeLayer(this._layers[v]),delete this._layers[v],this},hasLayer:function(f){var v=typeof f=="number"?f:this.getLayerId(f);return v in this._layers},clearLayers:function(){return this.eachLayer(this.removeLayer,this)},invoke:function(f){var v=Array.prototype.slice.call(arguments,1),E,D;for(E in this._layers)D=this._layers[E],D[f]&&D[f].apply(D,v);return this},onAdd:function(f){this.eachLayer(f.addLayer,f)},onRemove:function(f){this.eachLayer(f.removeLayer,f)},eachLayer:function(f,v){for(var E in this._layers)f.call(v,this._layers[E]);return this},getLayer:function(f){return this._layers[f]},getLayers:function(){var f=[];return this.eachLayer(f.push,f),f},setZIndex:function(f){return this.invoke("setZIndex",f)},getLayerId:function(f){return u(f)}}),ww=function(f,v){return new fl(f,v)},aa=fl.extend({addLayer:function(f){return this.hasLayer(f)?this:(f.addEventParent(this),fl.prototype.addLayer.call(this,f),this.fire("layeradd",{layer:f}))},removeLayer:function(f){return this.hasLayer(f)?(f in this._layers&&(f=this._layers[f]),f.removeEventParent(this),fl.prototype.removeLayer.call(this,f),this.fire("layerremove",{layer:f})):this},setStyle:function(f){return this.invoke("setStyle",f)},bringToFront:function(){return this.invoke("bringToFront")},bringToBack:function(){return this.invoke("bringToBack")},getBounds:function(){var f=new ie;for(var v in this._layers){var E=this._layers[v];f.extend(E.getBounds?E.getBounds():E.getLatLng())}return f}}),C0=function(f,v){return new aa(f,v)},oa=X.extend({options:{popupAnchor:[0,0],tooltipAnchor:[0,0],crossOrigin:!1},initialize:function(f){w(this,f)},createIcon:function(f){return this._createIcon("icon",f)},createShadow:function(f){return this._createIcon("shadow",f)},_createIcon:function(f,v){var E=this._getIconUrl(f);if(!E){if(f==="icon")throw new Error("iconUrl not set in Icon options (see the docs).");return null}var D=this._createImg(E,v&&v.tagName==="IMG"?v:null);return this._setIconStyles(D,f),(this.options.crossOrigin||this.options.crossOrigin==="")&&(D.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),D},_setIconStyles:function(f,v){var E=this.options,D=E[v+"Size"];typeof D=="number"&&(D=[D,D]);var R=ce(D),U=ce(v==="shadow"&&E.shadowAnchor||E.iconAnchor||R&&R.divideBy(2,!0));f.className="leaflet-marker-"+v+" "+(E.className||""),U&&(f.style.marginLeft=-U.x+"px",f.style.marginTop=-U.y+"px"),R&&(f.style.width=R.x+"px",f.style.height=R.y+"px")},_createImg:function(f,v){return v=v||document.createElement("img"),v.src=f,v},_getIconUrl:function(f){return Ze.retina&&this.options[f+"RetinaUrl"]||this.options[f+"Url"]}});function Tc(f){return new oa(f)}var Ac=oa.extend({options:{iconUrl:"marker-icon.png",iconRetinaUrl:"marker-icon-2x.png",shadowUrl:"marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],tooltipAnchor:[16,-28],shadowSize:[41,41]},_getIconUrl:function(f){return typeof Ac.imagePath!="string"&&(Ac.imagePath=this._detectIconPath()),(this.options.imagePath||Ac.imagePath)+oa.prototype._getIconUrl.call(this,f)},_stripUrl:function(f){var v=function(E,D,R){var U=D.exec(E);return U&&U[R]};return f=v(f,/^url\((['"])?(.+)\1\)$/,2),f&&v(f,/^(.*)marker-icon\.png$/,1)},_detectIconPath:function(){var f=wt("div","leaflet-default-icon-path",document.body),v=yc(f,"background-image")||yc(f,"backgroundImage");if(document.body.removeChild(f),v=this._stripUrl(v),v)return v;var E=document.querySelector('link[href$="leaflet.css"]');return E?E.href.substring(0,E.href.length-11-1):""}}),Nc=ia.extend({initialize:function(f){this._marker=f},addHooks:function(){var f=this._marker._icon;this._draggable||(this._draggable=new vo(f,f,!0)),this._draggable.on({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).enable(),dt(f,"leaflet-marker-draggable")},removeHooks:function(){this._draggable.off({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).disable(),this._marker._icon&&hn(this._marker._icon,"leaflet-marker-draggable")},moved:function(){return this._draggable&&this._draggable._moved},_adjustPan:function(f){var v=this._marker,E=v._map,D=this._marker.options.autoPanSpeed,R=this._marker.options.autoPanPadding,U=bo(v._icon),te=E.getPixelBounds(),fe=E.getPixelOrigin(),ye=ne(te.min._subtract(fe).add(R),te.max._subtract(fe).subtract(R));if(!ye.contains(U)){var Ae=ce((Math.max(ye.max.x,U.x)-ye.max.x)/(te.max.x-ye.max.x)-(Math.min(ye.min.x,U.x)-ye.min.x)/(te.min.x-ye.min.x),(Math.max(ye.max.y,U.y)-ye.max.y)/(te.max.y-ye.max.y)-(Math.min(ye.min.y,U.y)-ye.min.y)/(te.min.y-ye.min.y)).multiplyBy(D);E.panBy(Ae,{animate:!1}),this._draggable._newPos._add(Ae),this._draggable._startPos._add(Ae),Jt(v._icon,this._draggable._newPos),this._onDrag(f),this._panRequest=F(this._adjustPan.bind(this,f))}},_onDragStart:function(){this._oldLatLng=this._marker.getLatLng(),this._marker.closePopup&&this._marker.closePopup(),this._marker.fire("movestart").fire("dragstart")},_onPreDrag:function(f){this._marker.options.autoPan&&(B(this._panRequest),this._panRequest=F(this._adjustPan.bind(this,f)))},_onDrag:function(f){var v=this._marker,E=v._shadow,D=bo(v._icon),R=v._map.layerPointToLatLng(D);E&&Jt(E,D),v._latlng=R,f.latlng=R,f.oldLatLng=this._oldLatLng,v.fire("move",f).fire("drag",f)},_onDragEnd:function(f){B(this._panRequest),delete this._oldLatLng,this._marker.fire("moveend").fire("dragend",f)}}),Oc=Di.extend({options:{icon:new Ac,interactive:!0,keyboard:!0,title:"",alt:"Marker",zIndexOffset:0,opacity:1,riseOnHover:!1,riseOffset:250,pane:"markerPane",shadowPane:"shadowPane",bubblingMouseEvents:!1,autoPanOnFocus:!0,draggable:!1,autoPan:!1,autoPanPadding:[50,50],autoPanSpeed:10},initialize:function(f,v){w(this,v),this._latlng=ae(f)},onAdd:function(f){this._zoomAnimated=this._zoomAnimated&&f.options.markerZoomAnimation,this._zoomAnimated&&f.on("zoomanim",this._animateZoom,this),this._initIcon(),this.update()},onRemove:function(f){this.dragging&&this.dragging.enabled()&&(this.options.draggable=!0,this.dragging.removeHooks()),delete this.dragging,this._zoomAnimated&&f.off("zoomanim",this._animateZoom,this),this._removeIcon(),this._removeShadow()},getEvents:function(){return{zoom:this.update,viewreset:this.update}},getLatLng:function(){return this._latlng},setLatLng:function(f){var v=this._latlng;return this._latlng=ae(f),this.update(),this.fire("move",{oldLatLng:v,latlng:this._latlng})},setZIndexOffset:function(f){return this.options.zIndexOffset=f,this.update()},getIcon:function(){return this.options.icon},setIcon:function(f){return this.options.icon=f,this._map&&(this._initIcon(),this.update()),this._popup&&this.bindPopup(this._popup,this._popup.options),this},getElement:function(){return this._icon},update:function(){if(this._icon&&this._map){var f=this._map.latLngToLayerPoint(this._latlng).round();this._setPos(f)}return this},_initIcon:function(){var f=this.options,v="leaflet-zoom-"+(this._zoomAnimated?"animated":"hide"),E=f.icon.createIcon(this._icon),D=!1;E!==this._icon&&(this._icon&&this._removeIcon(),D=!0,f.title&&(E.title=f.title),E.tagName==="IMG"&&(E.alt=f.alt||"")),dt(E,v),f.keyboard&&(E.tabIndex="0",E.setAttribute("role","button")),this._icon=E,f.riseOnHover&&this.on({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&ct(E,"focus",this._panOnFocus,this);var R=f.icon.createShadow(this._shadow),U=!1;R!==this._shadow&&(this._removeShadow(),U=!0),R&&(dt(R,v),R.alt=""),this._shadow=R,f.opacity<1&&this._updateOpacity(),D&&this.getPane().appendChild(this._icon),this._initInteraction(),R&&U&&this.getPane(f.shadowPane).appendChild(this._shadow)},_removeIcon:function(){this.options.riseOnHover&&this.off({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&Ut(this._icon,"focus",this._panOnFocus,this),Wt(this._icon),this.removeInteractiveTarget(this._icon),this._icon=null},_removeShadow:function(){this._shadow&&Wt(this._shadow),this._shadow=null},_setPos:function(f){this._icon&&Jt(this._icon,f),this._shadow&&Jt(this._shadow,f),this._zIndex=f.y+this.options.zIndexOffset,this._resetZIndex()},_updateZIndex:function(f){this._icon&&(this._icon.style.zIndex=this._zIndex+f)},_animateZoom:function(f){var v=this._map._latLngToNewLayerPoint(this._latlng,f.zoom,f.center).round();this._setPos(v)},_initInteraction:function(){if(this.options.interactive&&(dt(this._icon,"leaflet-interactive"),this.addInteractiveTarget(this._icon),Nc)){var f=this.options.draggable;this.dragging&&(f=this.dragging.enabled(),this.dragging.disable()),this.dragging=new Nc(this),f&&this.dragging.enable()}},setOpacity:function(f){return this.options.opacity=f,this._map&&this._updateOpacity(),this},_updateOpacity:function(){var f=this.options.opacity;this._icon&&ln(this._icon,f),this._shadow&&ln(this._shadow,f)},_bringToFront:function(){this._updateZIndex(this.options.riseOffset)},_resetZIndex:function(){this._updateZIndex(0)},_panOnFocus:function(){var f=this._map;if(f){var v=this.options.icon.options,E=v.iconSize?ce(v.iconSize):ce(0,0),D=v.iconAnchor?ce(v.iconAnchor):ce(0,0);f.panInside(this._latlng,{paddingTopLeft:D,paddingBottomRight:E.subtract(D)})}},_getPopupAnchor:function(){return this.options.icon.options.popupAnchor},_getTooltipAnchor:function(){return this.options.icon.options.tooltipAnchor}});function M0(f,v){return new Oc(f,v)}var sa=Di.extend({options:{stroke:!0,color:"#3388ff",weight:3,opacity:1,lineCap:"round",lineJoin:"round",dashArray:null,dashOffset:null,fill:!1,fillColor:null,fillOpacity:.2,fillRule:"evenodd",interactive:!0,bubblingMouseEvents:!0},beforeAdd:function(f){this._renderer=f.getRenderer(this)},onAdd:function(){this._renderer._initPath(this),this._reset(),this._renderer._addPath(this)},onRemove:function(){this._renderer._removePath(this)},redraw:function(){return this._map&&this._renderer._updatePath(this),this},setStyle:function(f){return w(this,f),this._renderer&&(this._renderer._updateStyle(this),this.options.stroke&&f&&Object.prototype.hasOwnProperty.call(f,"weight")&&this._updateBounds()),this},bringToFront:function(){return this._renderer&&this._renderer._bringToFront(this),this},bringToBack:function(){return this._renderer&&this._renderer._bringToBack(this),this},getElement:function(){return this._path},_reset:function(){this._project(),this._update()},_clickTolerance:function(){return(this.options.stroke?this.options.weight/2:0)+(this._renderer.options.tolerance||0)}}),hl=sa.extend({options:{fill:!0,radius:10},initialize:function(f,v){w(this,v),this._latlng=ae(f),this._radius=this.options.radius},setLatLng:function(f){var v=this._latlng;return this._latlng=ae(f),this.redraw(),this.fire("move",{oldLatLng:v,latlng:this._latlng})},getLatLng:function(){return this._latlng},setRadius:function(f){return this.options.radius=this._radius=f,this.redraw()},getRadius:function(){return this._radius},setStyle:function(f){var v=f&&f.radius||this._radius;return sa.prototype.setStyle.call(this,f),this.setRadius(v),this},_project:function(){this._point=this._map.latLngToLayerPoint(this._latlng),this._updateBounds()},_updateBounds:function(){var f=this._radius,v=this._radiusY||f,E=this._clickTolerance(),D=[f+E,v+E];this._pxBounds=new W(this._point.subtract(D),this._point.add(D))},_update:function(){this._map&&this._updatePath()},_updatePath:function(){this._renderer._updateCircle(this)},_empty:function(){return this._radius&&!this._renderer._bounds.intersects(this._pxBounds)},_containsPoint:function(f){return f.distanceTo(this._point)<=this._radius+this._clickTolerance()}});function D0(f,v){return new hl(f,v)}var Zu=hl.extend({initialize:function(f,v,E){if(typeof v=="number"&&(v=i({},E,{radius:v})),w(this,v),this._latlng=ae(f),isNaN(this.options.radius))throw new Error("Circle radius cannot be NaN");this._mRadius=this.options.radius},setRadius:function(f){return this._mRadius=f,this.redraw()},getRadius:function(){return this._mRadius},getBounds:function(){var f=[this._radius,this._radiusY||this._radius];return new ie(this._map.layerPointToLatLng(this._point.subtract(f)),this._map.layerPointToLatLng(this._point.add(f)))},setStyle:sa.prototype.setStyle,_project:function(){var f=this._latlng.lng,v=this._latlng.lat,E=this._map,D=E.options.crs;if(D.distance===me.distance){var R=Math.PI/180,U=this._mRadius/me.R/R,te=E.project([v+U,f]),fe=E.project([v-U,f]),ye=te.add(fe).divideBy(2),Ae=E.unproject(ye).lat,Be=Math.acos((Math.cos(U*R)-Math.sin(v*R)*Math.sin(Ae*R))/(Math.cos(v*R)*Math.cos(Ae*R)))/R;(isNaN(Be)||Be===0)&&(Be=U/Math.cos(Math.PI/180*v)),this._point=ye.subtract(E.getPixelOrigin()),this._radius=isNaN(Be)?0:ye.x-E.project([Ae,f-Be]).x,this._radiusY=ye.y-te.y}else{var Je=D.unproject(D.project(this._latlng).subtract([this._mRadius,0]));this._point=E.latLngToLayerPoint(this._latlng),this._radius=this._point.x-E.latLngToLayerPoint(Je).x}this._updateBounds()}});function P0(f,v,E){return new Zu(f,v,E)}var Ba=sa.extend({options:{smoothFactor:1,noClip:!1},initialize:function(f,v){w(this,v),this._setLatLngs(f)},getLatLngs:function(){return this._latlngs},setLatLngs:function(f){return this._setLatLngs(f),this.redraw()},isEmpty:function(){return!this._latlngs.length},closestLayerPoint:function(f){for(var v=1/0,E=null,D=jc,R,U,te=0,fe=this._parts.length;te<fe;te++)for(var ye=this._parts[te],Ae=1,Be=ye.length;Ae<Be;Ae++){R=ye[Ae-1],U=ye[Ae];var Je=D(f,R,U,!0);Je<v&&(v=Je,E=D(f,R,U))}return E&&(E.distance=Math.sqrt(v)),E},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return ul(this._defaultShape(),this._map.options.crs)},getBounds:function(){return this._bounds},addLatLng:function(f,v){return v=v||this._defaultShape(),f=ae(f),v.push(f),this._bounds.extend(f),this.redraw()},_setLatLngs:function(f){this._bounds=new ie,this._latlngs=this._convertLatLngs(f)},_defaultShape:function(){return ui(this._latlngs)?this._latlngs:this._latlngs[0]},_convertLatLngs:function(f){for(var v=[],E=ui(f),D=0,R=f.length;D<R;D++)E?(v[D]=ae(f[D]),this._bounds.extend(v[D])):v[D]=this._convertLatLngs(f[D]);return v},_project:function(){var f=new W;this._rings=[],this._projectLatlngs(this._latlngs,this._rings,f),this._bounds.isValid()&&f.isValid()&&(this._rawPxBounds=f,this._updateBounds())},_updateBounds:function(){var f=this._clickTolerance(),v=new Q(f,f);this._rawPxBounds&&(this._pxBounds=new W([this._rawPxBounds.min.subtract(v),this._rawPxBounds.max.add(v)]))},_projectLatlngs:function(f,v,E){var D=f[0]instanceof J,R=f.length,U,te;if(D){for(te=[],U=0;U<R;U++)te[U]=this._map.latLngToLayerPoint(f[U]),E.extend(te[U]);v.push(te)}else for(U=0;U<R;U++)this._projectLatlngs(f[U],v,E)},_clipPoints:function(){var f=this._renderer._bounds;if(this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(f))){if(this.options.noClip){this._parts=this._rings;return}var v=this._parts,E,D,R,U,te,fe,ye;for(E=0,R=0,U=this._rings.length;E<U;E++)for(ye=this._rings[E],D=0,te=ye.length;D<te-1;D++)fe=A0(ye[D],ye[D+1],f,D,!0),fe&&(v[R]=v[R]||[],v[R].push(fe[0]),(fe[1]!==ye[D+1]||D===te-2)&&(v[R].push(fe[1]),R++))}},_simplifyPoints:function(){for(var f=this._parts,v=this.options.smoothFactor,E=0,D=f.length;E<D;E++)f[E]=k0(f[E],v)},_update:function(){this._map&&(this._clipPoints(),this._simplifyPoints(),this._updatePath())},_updatePath:function(){this._renderer._updatePoly(this)},_containsPoint:function(f,v){var E,D,R,U,te,fe,ye=this._clickTolerance();if(!this._pxBounds||!this._pxBounds.contains(f))return!1;for(E=0,U=this._parts.length;E<U;E++)for(fe=this._parts[E],D=0,te=fe.length,R=te-1;D<te;R=D++)if(!(!v&&D===0)&&E0(f,fe[R],fe[D])<=ye)return!0;return!1}});function _w(f,v){return new Ba(f,v)}Ba._flat=Ku;var ml=Ba.extend({options:{fill:!0},isEmpty:function(){return!this._latlngs.length||!this._latlngs[0].length},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return S0(this._defaultShape(),this._map.options.crs)},_convertLatLngs:function(f){var v=Ba.prototype._convertLatLngs.call(this,f),E=v.length;return E>=2&&v[0]instanceof J&&v[0].equals(v[E-1])&&v.pop(),v},_setLatLngs:function(f){Ba.prototype._setLatLngs.call(this,f),ui(this._latlngs)&&(this._latlngs=[this._latlngs])},_defaultShape:function(){return ui(this._latlngs[0])?this._latlngs[0]:this._latlngs[0][0]},_clipPoints:function(){var f=this._renderer._bounds,v=this.options.weight,E=new Q(v,v);if(f=new W(f.min.subtract(E),f.max.add(E)),this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(f))){if(this.options.noClip){this._parts=this._rings;return}for(var D=0,R=this._rings.length,U;D<R;D++)U=_0(this._rings[D],f,!0),U.length&&this._parts.push(U)}},_updatePath:function(){this._renderer._updatePoly(this,!0)},_containsPoint:function(f){var v=!1,E,D,R,U,te,fe,ye,Ae;if(!this._pxBounds||!this._pxBounds.contains(f))return!1;for(U=0,ye=this._parts.length;U<ye;U++)for(E=this._parts[U],te=0,Ae=E.length,fe=Ae-1;te<Ae;fe=te++)D=E[te],R=E[fe],D.y>f.y!=R.y>f.y&&f.x<(R.x-D.x)*(f.y-D.y)/(R.y-D.y)+D.x&&(v=!v);return v||Ba.prototype._containsPoint.call(this,f,!0)}});function Sw(f,v){return new ml(f,v)}var za=aa.extend({initialize:function(f,v){w(this,v),this._layers={},f&&this.addData(f)},addData:function(f){var v=T(f)?f:f.features,E,D,R;if(v){for(E=0,D=v.length;E<D;E++)R=v[E],(R.geometries||R.geometry||R.features||R.coordinates)&&this.addData(R);return this}var U=this.options;if(U.filter&&!U.filter(f))return this;var te=dr(f,U);return te?(te.feature=Qu(f),te.defaultOptions=te.options,this.resetStyle(te),U.onEachFeature&&U.onEachFeature(f,te),this.addLayer(te)):this},resetStyle:function(f){return f===void 0?this.eachLayer(this.resetStyle,this):(f.options=i({},f.defaultOptions),this._setLayerStyle(f,this.options.style),this)},setStyle:function(f){return this.eachLayer(function(v){this._setLayerStyle(v,f)},this)},_setLayerStyle:function(f,v){f.setStyle&&(typeof v=="function"&&(v=v(f.feature)),f.setStyle(v))}});function dr(f,v){var E=f.type==="Feature"?f.geometry:f,D=E?E.coordinates:null,R=[],U=v&&v.pointToLayer,te=v&&v.coordsToLatLng||Xu,fe,ye,Ae,Be;if(!D&&!E)return null;switch(E.type){case"Point":return fe=te(D),pl(U,f,fe,v);case"MultiPoint":for(Ae=0,Be=D.length;Ae<Be;Ae++)fe=te(D[Ae]),R.push(pl(U,f,fe,v));return new aa(R);case"LineString":case"MultiLineString":return ye=Cc(D,E.type==="LineString"?0:1,te),new Ba(ye,v);case"Polygon":case"MultiPolygon":return ye=Cc(D,E.type==="Polygon"?1:2,te),new ml(ye,v);case"GeometryCollection":for(Ae=0,Be=E.geometries.length;Ae<Be;Ae++){var Je=dr({geometry:E.geometries[Ae],type:"Feature",properties:f.properties},v);Je&&R.push(Je)}return new aa(R);case"FeatureCollection":for(Ae=0,Be=E.features.length;Ae<Be;Ae++){var yt=dr(E.features[Ae],v);yt&&R.push(yt)}return new aa(R);default:throw new Error("Invalid GeoJSON object.")}}function pl(f,v,E,D){return f?f(v,E):new Oc(E,D&&D.markersInheritOptions&&D)}function Xu(f){return new J(f[1],f[0],f[2])}function Cc(f,v,E){for(var D=[],R=0,U=f.length,te;R<U;R++)te=v?Cc(f[R],v-1,E):(E||Xu)(f[R]),D.push(te);return D}function Ju(f,v){return f=ae(f),f.alt!==void 0?[b(f.lng,v),b(f.lat,v),b(f.alt,v)]:[b(f.lng,v),b(f.lat,v)]}function Mc(f,v,E,D){for(var R=[],U=0,te=f.length;U<te;U++)R.push(v?Mc(f[U],ui(f[U])?0:v-1,E,D):Ju(f[U],D));return!v&&E&&R.length>0&&R.push(R[0].slice()),R}function xo(f,v){return f.feature?i({},f.feature,{geometry:v}):Qu(v)}function Qu(f){return f.type==="Feature"||f.type==="FeatureCollection"?f:{type:"Feature",properties:{},geometry:f}}var wo={toGeoJSON:function(f){return xo(this,{type:"Point",coordinates:Ju(this.getLatLng(),f)})}};Oc.include(wo),Zu.include(wo),hl.include(wo),Ba.include({toGeoJSON:function(f){var v=!ui(this._latlngs),E=Mc(this._latlngs,v?1:0,!1,f);return xo(this,{type:(v?"Multi":"")+"LineString",coordinates:E})}}),ml.include({toGeoJSON:function(f){var v=!ui(this._latlngs),E=v&&!ui(this._latlngs[0]),D=Mc(this._latlngs,E?2:v?1:0,!0,f);return v||(D=[D]),xo(this,{type:(E?"Multi":"")+"Polygon",coordinates:D})}}),fl.include({toMultiPoint:function(f){var v=[];return this.eachLayer(function(E){v.push(E.toGeoJSON(f).geometry.coordinates)}),xo(this,{type:"MultiPoint",coordinates:v})},toGeoJSON:function(f){var v=this.feature&&this.feature.geometry&&this.feature.geometry.type;if(v==="MultiPoint")return this.toMultiPoint(f);var E=v==="GeometryCollection",D=[];return this.eachLayer(function(R){if(R.toGeoJSON){var U=R.toGeoJSON(f);if(E)D.push(U.geometry);else{var te=Qu(U);te.type==="FeatureCollection"?D.push.apply(D,te.features):D.push(te)}}}),E?xo(this,{geometries:D,type:"GeometryCollection"}):{type:"FeatureCollection",features:D}}});function ed(f,v){return new za(f,v)}var Dc=ed,gl=Di.extend({options:{opacity:1,alt:"",interactive:!1,crossOrigin:!1,errorOverlayUrl:"",zIndex:1,className:""},initialize:function(f,v,E){this._url=f,this._bounds=he(v),w(this,E)},onAdd:function(){this._image||(this._initImage(),this.options.opacity<1&&this._updateOpacity()),this.options.interactive&&(dt(this._image,"leaflet-interactive"),this.addInteractiveTarget(this._image)),this.getPane().appendChild(this._image),this._reset()},onRemove:function(){Wt(this._image),this.options.interactive&&this.removeInteractiveTarget(this._image)},setOpacity:function(f){return this.options.opacity=f,this._image&&this._updateOpacity(),this},setStyle:function(f){return f.opacity&&this.setOpacity(f.opacity),this},bringToFront:function(){return this._map&&er(this._image),this},bringToBack:function(){return this._map&&ts(this._image),this},setUrl:function(f){return this._url=f,this._image&&(this._image.src=f),this},setBounds:function(f){return this._bounds=he(f),this._map&&this._reset(),this},getEvents:function(){var f={zoom:this._reset,viewreset:this._reset};return this._zoomAnimated&&(f.zoomanim=this._animateZoom),f},setZIndex:function(f){return this.options.zIndex=f,this._updateZIndex(),this},getBounds:function(){return this._bounds},getElement:function(){return this._image},_initImage:function(){var f=this._url.tagName==="IMG",v=this._image=f?this._url:wt("img");if(dt(v,"leaflet-image-layer"),this._zoomAnimated&&dt(v,"leaflet-zoom-animated"),this.options.className&&dt(v,this.options.className),v.onselectstart=m,v.onmousemove=m,v.onload=o(this.fire,this,"load"),v.onerror=o(this._overlayOnError,this,"error"),(this.options.crossOrigin||this.options.crossOrigin==="")&&(v.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),this.options.zIndex&&this._updateZIndex(),f){this._url=v.src;return}v.src=this._url,v.alt=this.options.alt},_animateZoom:function(f){var v=this._map.getZoomScale(f.zoom),E=this._map._latLngBoundsToNewLayerBounds(this._bounds,f.zoom,f.center).min;La(this._image,E,v)},_reset:function(){var f=this._image,v=new W(this._map.latLngToLayerPoint(this._bounds.getNorthWest()),this._map.latLngToLayerPoint(this._bounds.getSouthEast())),E=v.getSize();Jt(f,v.min),f.style.width=E.x+"px",f.style.height=E.y+"px"},_updateOpacity:function(){ln(this._image,this.options.opacity)},_updateZIndex:function(){this._image&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._image.style.zIndex=this.options.zIndex)},_overlayOnError:function(){this.fire("error");var f=this.options.errorOverlayUrl;f&&this._url!==f&&(this._url=f,this._image.src=f)},getCenter:function(){return this._bounds.getCenter()}}),R0=function(f,v,E){return new gl(f,v,E)},_o=gl.extend({options:{autoplay:!0,loop:!0,keepAspectRatio:!0,muted:!1,playsInline:!0},_initImage:function(){var f=this._url.tagName==="VIDEO",v=this._image=f?this._url:wt("video");if(dt(v,"leaflet-image-layer"),this._zoomAnimated&&dt(v,"leaflet-zoom-animated"),this.options.className&&dt(v,this.options.className),v.onselectstart=m,v.onmousemove=m,v.onloadeddata=o(this.fire,this,"load"),f){for(var E=v.getElementsByTagName("source"),D=[],R=0;R<E.length;R++)D.push(E[R].src);this._url=E.length>0?D:[v.src];return}T(this._url)||(this._url=[this._url]),!this.options.keepAspectRatio&&Object.prototype.hasOwnProperty.call(v.style,"objectFit")&&(v.style.objectFit="fill"),v.autoplay=!!this.options.autoplay,v.loop=!!this.options.loop,v.muted=!!this.options.muted,v.playsInline=!!this.options.playsInline;for(var U=0;U<this._url.length;U++){var te=wt("source");te.src=this._url[U],v.appendChild(te)}}});function bl(f,v,E){return new _o(f,v,E)}var td=gl.extend({_initImage:function(){var f=this._image=this._url;dt(f,"leaflet-image-layer"),this._zoomAnimated&&dt(f,"leaflet-zoom-animated"),this.options.className&&dt(f,this.options.className),f.onselectstart=m,f.onmousemove=m}});function L0(f,v,E){return new td(f,v,E)}var fr=Di.extend({options:{interactive:!1,offset:[0,0],className:"",pane:void 0,content:""},initialize:function(f,v){f&&(f instanceof J||T(f))?(this._latlng=ae(f),w(this,v)):(w(this,f),this._source=v),this.options.content&&(this._content=this.options.content)},openOn:function(f){return f=arguments.length?f:this._source._map,f.hasLayer(this)||f.addLayer(this),this},close:function(){return this._map&&this._map.removeLayer(this),this},toggle:function(f){return this._map?this.close():(arguments.length?this._source=f:f=this._source,this._prepareOpen(),this.openOn(f._map)),this},onAdd:function(f){this._zoomAnimated=f._zoomAnimated,this._container||this._initLayout(),f._fadeAnimated&&ln(this._container,0),clearTimeout(this._removeTimeout),this.getPane().appendChild(this._container),this.update(),f._fadeAnimated&&ln(this._container,1),this.bringToFront(),this.options.interactive&&(dt(this._container,"leaflet-interactive"),this.addInteractiveTarget(this._container))},onRemove:function(f){f._fadeAnimated?(ln(this._container,0),this._removeTimeout=setTimeout(o(Wt,void 0,this._container),200)):Wt(this._container),this.options.interactive&&(hn(this._container,"leaflet-interactive"),this.removeInteractiveTarget(this._container))},getLatLng:function(){return this._latlng},setLatLng:function(f){return this._latlng=ae(f),this._map&&(this._updatePosition(),this._adjustPan()),this},getContent:function(){return this._content},setContent:function(f){return this._content=f,this.update(),this},getElement:function(){return this._container},update:function(){this._map&&(this._container.style.visibility="hidden",this._updateContent(),this._updateLayout(),this._updatePosition(),this._container.style.visibility="",this._adjustPan())},getEvents:function(){var f={zoom:this._updatePosition,viewreset:this._updatePosition};return this._zoomAnimated&&(f.zoomanim=this._animateZoom),f},isOpen:function(){return!!this._map&&this._map.hasLayer(this)},bringToFront:function(){return this._map&&er(this._container),this},bringToBack:function(){return this._map&&ts(this._container),this},_prepareOpen:function(f){var v=this._source;if(!v._map)return!1;if(v instanceof aa){v=null;var E=this._source._layers;for(var D in E)if(E[D]._map){v=E[D];break}if(!v)return!1;this._source=v}if(!f)if(v.getCenter)f=v.getCenter();else if(v.getLatLng)f=v.getLatLng();else if(v.getBounds)f=v.getBounds().getCenter();else throw new Error("Unable to get source layer LatLng.");return this.setLatLng(f),this._map&&this.update(),!0},_updateContent:function(){if(this._content){var f=this._contentNode,v=typeof this._content=="function"?this._content(this._source||this):this._content;if(typeof v=="string")f.innerHTML=v;else{for(;f.hasChildNodes();)f.removeChild(f.firstChild);f.appendChild(v)}this.fire("contentupdate")}},_updatePosition:function(){if(this._map){var f=this._map.latLngToLayerPoint(this._latlng),v=ce(this.options.offset),E=this._getAnchor();this._zoomAnimated?Jt(this._container,f.add(E)):v=v.add(f).add(E);var D=this._containerBottom=-v.y,R=this._containerLeft=-Math.round(this._containerWidth/2)+v.x;this._container.style.bottom=D+"px",this._container.style.left=R+"px"}},_getAnchor:function(){return[0,0]}});Et.include({_initOverlay:function(f,v,E,D){var R=v;return R instanceof f||(R=new f(D).setContent(v)),E&&R.setLatLng(E),R}}),Di.include({_initOverlay:function(f,v,E,D){var R=E;return R instanceof f?(w(R,D),R._source=this):(R=v&&!D?v:new f(D,this),R.setContent(E)),R}});var Pc=fr.extend({options:{pane:"popupPane",offset:[0,7],maxWidth:300,minWidth:50,maxHeight:null,autoPan:!0,autoPanPaddingTopLeft:null,autoPanPaddingBottomRight:null,autoPanPadding:[5,5],keepInView:!1,closeButton:!0,autoClose:!0,closeOnEscapeKey:!0,className:""},openOn:function(f){return f=arguments.length?f:this._source._map,!f.hasLayer(this)&&f._popup&&f._popup.options.autoClose&&f.removeLayer(f._popup),f._popup=this,fr.prototype.openOn.call(this,f)},onAdd:function(f){fr.prototype.onAdd.call(this,f),f.fire("popupopen",{popup:this}),this._source&&(this._source.fire("popupopen",{popup:this},!0),this._source instanceof sa||this._source.on("preclick",Mi))},onRemove:function(f){fr.prototype.onRemove.call(this,f),f.fire("popupclose",{popup:this}),this._source&&(this._source.fire("popupclose",{popup:this},!0),this._source instanceof sa||this._source.off("preclick",Mi))},getEvents:function(){var f=fr.prototype.getEvents.call(this);return(this.options.closeOnClick!==void 0?this.options.closeOnClick:this._map.options.closePopupOnClick)&&(f.preclick=this.close),this.options.keepInView&&(f.moveend=this._adjustPan),f},_initLayout:function(){var f="leaflet-popup",v=this._container=wt("div",f+" "+(this.options.className||"")+" leaflet-zoom-animated"),E=this._wrapper=wt("div",f+"-content-wrapper",v);if(this._contentNode=wt("div",f+"-content",E),rs(v),ra(this._contentNode),ct(v,"contextmenu",Mi),this._tipContainer=wt("div",f+"-tip-container",v),this._tip=wt("div",f+"-tip",this._tipContainer),this.options.closeButton){var D=this._closeButton=wt("a",f+"-close-button",v);D.setAttribute("role","button"),D.setAttribute("aria-label","Close popup"),D.href="#close",D.innerHTML='<span aria-hidden="true">&#215;</span>',ct(D,"click",function(R){An(R),this.close()},this)}},_updateLayout:function(){var f=this._contentNode,v=f.style;v.width="",v.whiteSpace="nowrap";var E=f.offsetWidth;E=Math.min(E,this.options.maxWidth),E=Math.max(E,this.options.minWidth),v.width=E+1+"px",v.whiteSpace="",v.height="";var D=f.offsetHeight,R=this.options.maxHeight,U="leaflet-popup-scrolled";R&&D>R?(v.height=R+"px",dt(f,U)):hn(f,U),this._containerWidth=this._container.offsetWidth},_animateZoom:function(f){var v=this._map._latLngToNewLayerPoint(this._latlng,f.zoom,f.center),E=this._getAnchor();Jt(this._container,v.add(E))},_adjustPan:function(){if(this.options.autoPan){if(this._map._panAnim&&this._map._panAnim.stop(),this._autopanning){this._autopanning=!1;return}var f=this._map,v=parseInt(yc(this._container,"marginBottom"),10)||0,E=this._container.offsetHeight+v,D=this._containerWidth,R=new Q(this._containerLeft,-E-this._containerBottom);R._add(bo(this._container));var U=f.layerPointToContainerPoint(R),te=ce(this.options.autoPanPadding),fe=ce(this.options.autoPanPaddingTopLeft||te),ye=ce(this.options.autoPanPaddingBottomRight||te),Ae=f.getSize(),Be=0,Je=0;U.x+D+ye.x>Ae.x&&(Be=U.x+D-Ae.x+ye.x),U.x-Be-fe.x<0&&(Be=U.x-fe.x),U.y+E+ye.y>Ae.y&&(Je=U.y+E-Ae.y+ye.y),U.y-Je-fe.y<0&&(Je=U.y-fe.y),(Be||Je)&&(this.options.keepInView&&(this._autopanning=!0),f.fire("autopanstart").panBy([Be,Je]))}},_getAnchor:function(){return ce(this._source&&this._source._getPopupAnchor?this._source._getPopupAnchor():[0,0])}}),I0=function(f,v){return new Pc(f,v)};Et.mergeOptions({closePopupOnClick:!0}),Et.include({openPopup:function(f,v,E){return this._initOverlay(Pc,f,v,E).openOn(this),this},closePopup:function(f){return f=arguments.length?f:this._popup,f&&f.close(),this}}),Di.include({bindPopup:function(f,v){return this._popup=this._initOverlay(Pc,this._popup,f,v),this._popupHandlersAdded||(this.on({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!0),this},unbindPopup:function(){return this._popup&&(this.off({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!1,this._popup=null),this},openPopup:function(f){return this._popup&&(this instanceof aa||(this._popup._source=this),this._popup._prepareOpen(f||this._latlng)&&this._popup.openOn(this._map)),this},closePopup:function(){return this._popup&&this._popup.close(),this},togglePopup:function(){return this._popup&&this._popup.toggle(this),this},isPopupOpen:function(){return this._popup?this._popup.isOpen():!1},setPopupContent:function(f){return this._popup&&this._popup.setContent(f),this},getPopup:function(){return this._popup},_openPopup:function(f){if(!(!this._popup||!this._map)){yo(f);var v=f.layer||f.target;if(this._popup._source===v&&!(v instanceof sa)){this._map.hasLayer(this._popup)?this.closePopup():this.openPopup(f.latlng);return}this._popup._source=v,this.openPopup(f.latlng)}},_movePopup:function(f){this._popup.setLatLng(f.latlng)},_onKeyPress:function(f){f.originalEvent.keyCode===13&&this._openPopup(f)}});var Rc=fr.extend({options:{pane:"tooltipPane",offset:[0,0],direction:"auto",permanent:!1,sticky:!1,opacity:.9},onAdd:function(f){fr.prototype.onAdd.call(this,f),this.setOpacity(this.options.opacity),f.fire("tooltipopen",{tooltip:this}),this._source&&(this.addEventParent(this._source),this._source.fire("tooltipopen",{tooltip:this},!0))},onRemove:function(f){fr.prototype.onRemove.call(this,f),f.fire("tooltipclose",{tooltip:this}),this._source&&(this.removeEventParent(this._source),this._source.fire("tooltipclose",{tooltip:this},!0))},getEvents:function(){var f=fr.prototype.getEvents.call(this);return this.options.permanent||(f.preclick=this.close),f},_initLayout:function(){var f="leaflet-tooltip",v=f+" "+(this.options.className||"")+" leaflet-zoom-"+(this._zoomAnimated?"animated":"hide");this._contentNode=this._container=wt("div",v),this._container.setAttribute("role","tooltip"),this._container.setAttribute("id","leaflet-tooltip-"+u(this))},_updateLayout:function(){},_adjustPan:function(){},_setPosition:function(f){var v,E,D=this._map,R=this._container,U=D.latLngToContainerPoint(D.getCenter()),te=D.layerPointToContainerPoint(f),fe=this.options.direction,ye=R.offsetWidth,Ae=R.offsetHeight,Be=ce(this.options.offset),Je=this._getAnchor();fe==="top"?(v=ye/2,E=Ae):fe==="bottom"?(v=ye/2,E=0):fe==="center"?(v=ye/2,E=Ae/2):fe==="right"?(v=0,E=Ae/2):fe==="left"?(v=ye,E=Ae/2):te.x<U.x?(fe="right",v=0,E=Ae/2):(fe="left",v=ye+(Be.x+Je.x)*2,E=Ae/2),f=f.subtract(ce(v,E,!0)).add(Be).add(Je),hn(R,"leaflet-tooltip-right"),hn(R,"leaflet-tooltip-left"),hn(R,"leaflet-tooltip-top"),hn(R,"leaflet-tooltip-bottom"),dt(R,"leaflet-tooltip-"+fe),Jt(R,f)},_updatePosition:function(){var f=this._map.latLngToLayerPoint(this._latlng);this._setPosition(f)},setOpacity:function(f){this.options.opacity=f,this._container&&ln(this._container,f)},_animateZoom:function(f){var v=this._map._latLngToNewLayerPoint(this._latlng,f.zoom,f.center);this._setPosition(v)},_getAnchor:function(){return ce(this._source&&this._source._getTooltipAnchor&&!this.options.sticky?this._source._getTooltipAnchor():[0,0])}}),kw=function(f,v){return new Rc(f,v)};Et.include({openTooltip:function(f,v,E){return this._initOverlay(Rc,f,v,E).openOn(this),this},closeTooltip:function(f){return f.close(),this}}),Di.include({bindTooltip:function(f,v){return this._tooltip&&this.isTooltipOpen()&&this.unbindTooltip(),this._tooltip=this._initOverlay(Rc,this._tooltip,f,v),this._initTooltipInteractions(),this._tooltip.options.permanent&&this._map&&this._map.hasLayer(this)&&this.openTooltip(),this},unbindTooltip:function(){return this._tooltip&&(this._initTooltipInteractions(!0),this.closeTooltip(),this._tooltip=null),this},_initTooltipInteractions:function(f){if(!(!f&&this._tooltipHandlersAdded)){var v=f?"off":"on",E={remove:this.closeTooltip,move:this._moveTooltip};this._tooltip.options.permanent?E.add=this._openTooltip:(E.mouseover=this._openTooltip,E.mouseout=this.closeTooltip,E.click=this._openTooltip,this._map?this._addFocusListeners():E.add=this._addFocusListeners),this._tooltip.options.sticky&&(E.mousemove=this._moveTooltip),this[v](E),this._tooltipHandlersAdded=!f}},openTooltip:function(f){return this._tooltip&&(this instanceof aa||(this._tooltip._source=this),this._tooltip._prepareOpen(f)&&(this._tooltip.openOn(this._map),this.getElement?this._setAriaDescribedByOnLayer(this):this.eachLayer&&this.eachLayer(this._setAriaDescribedByOnLayer,this))),this},closeTooltip:function(){if(this._tooltip)return this._tooltip.close()},toggleTooltip:function(){return this._tooltip&&this._tooltip.toggle(this),this},isTooltipOpen:function(){return this._tooltip.isOpen()},setTooltipContent:function(f){return this._tooltip&&this._tooltip.setContent(f),this},getTooltip:function(){return this._tooltip},_addFocusListeners:function(){this.getElement?this._addFocusListenersOnLayer(this):this.eachLayer&&this.eachLayer(this._addFocusListenersOnLayer,this)},_addFocusListenersOnLayer:function(f){var v=typeof f.getElement=="function"&&f.getElement();v&&(ct(v,"focus",function(){this._tooltip._source=f,this.openTooltip()},this),ct(v,"blur",this.closeTooltip,this))},_setAriaDescribedByOnLayer:function(f){var v=typeof f.getElement=="function"&&f.getElement();v&&v.setAttribute("aria-describedby",this._tooltip._container.id)},_openTooltip:function(f){if(!(!this._tooltip||!this._map)){if(this._map.dragging&&this._map.dragging.moving()&&!this._openOnceFlag){this._openOnceFlag=!0;var v=this;this._map.once("moveend",function(){v._openOnceFlag=!1,v._openTooltip(f)});return}this._tooltip._source=f.layer||f.target,this.openTooltip(this._tooltip.options.sticky?f.latlng:void 0)}},_moveTooltip:function(f){var v=f.latlng,E,D;this._tooltip.options.sticky&&f.originalEvent&&(E=this._map.mouseEventToContainerPoint(f.originalEvent),D=this._map.containerPointToLayerPoint(E),v=this._map.layerPointToLatLng(D)),this._tooltip.setLatLng(v)}});var $0=oa.extend({options:{iconSize:[12,12],html:!1,bgPos:null,className:"leaflet-div-icon"},createIcon:function(f){var v=f&&f.tagName==="DIV"?f:document.createElement("div"),E=this.options;if(E.html instanceof Element?(li(v),v.appendChild(E.html)):v.innerHTML=E.html!==!1?E.html:"",E.bgPos){var D=ce(E.bgPos);v.style.backgroundPosition=-D.x+"px "+-D.y+"px"}return this._setIconStyles(v,"icon"),v},createShadow:function(){return null}});function Ew(f){return new $0(f)}oa.Default=Ac;var yl=Di.extend({options:{tileSize:256,opacity:1,updateWhenIdle:Ze.mobile,updateWhenZooming:!0,updateInterval:200,zIndex:1,bounds:null,minZoom:0,maxZoom:void 0,maxNativeZoom:void 0,minNativeZoom:void 0,noWrap:!1,pane:"tilePane",className:"",keepBuffer:2},initialize:function(f){w(this,f)},onAdd:function(){this._initContainer(),this._levels={},this._tiles={},this._resetView()},beforeAdd:function(f){f._addZoomLimit(this)},onRemove:function(f){this._removeAllTiles(),Wt(this._container),f._removeZoomLimit(this),this._container=null,this._tileZoom=void 0},bringToFront:function(){return this._map&&(er(this._container),this._setAutoZIndex(Math.max)),this},bringToBack:function(){return this._map&&(ts(this._container),this._setAutoZIndex(Math.min)),this},getContainer:function(){return this._container},setOpacity:function(f){return this.options.opacity=f,this._updateOpacity(),this},setZIndex:function(f){return this.options.zIndex=f,this._updateZIndex(),this},isLoading:function(){return this._loading},redraw:function(){if(this._map){this._removeAllTiles();var f=this._clampZoom(this._map.getZoom());f!==this._tileZoom&&(this._tileZoom=f,this._updateLevels()),this._update()}return this},getEvents:function(){var f={viewprereset:this._invalidateAll,viewreset:this._resetView,zoom:this._resetView,moveend:this._onMoveEnd};return this.options.updateWhenIdle||(this._onMove||(this._onMove=d(this._onMoveEnd,this.options.updateInterval,this)),f.move=this._onMove),this._zoomAnimated&&(f.zoomanim=this._animateZoom),f},createTile:function(){return document.createElement("div")},getTileSize:function(){var f=this.options.tileSize;return f instanceof Q?f:new Q(f,f)},_updateZIndex:function(){this._container&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._container.style.zIndex=this.options.zIndex)},_setAutoZIndex:function(f){for(var v=this.getPane().children,E=-f(-1/0,1/0),D=0,R=v.length,U;D<R;D++)U=v[D].style.zIndex,v[D]!==this._container&&U&&(E=f(E,+U));isFinite(E)&&(this.options.zIndex=E+f(-1,1),this._updateZIndex())},_updateOpacity:function(){if(this._map&&!Ze.ielt9){ln(this._container,this.options.opacity);var f=+new Date,v=!1,E=!1;for(var D in this._tiles){var R=this._tiles[D];if(!(!R.current||!R.loaded)){var U=Math.min(1,(f-R.loaded)/200);ln(R.el,U),U<1?v=!0:(R.active?E=!0:this._onOpaqueTile(R),R.active=!0)}}E&&!this._noPrune&&this._pruneTiles(),v&&(B(this._fadeFrame),this._fadeFrame=F(this._updateOpacity,this))}},_onOpaqueTile:m,_initContainer:function(){this._container||(this._container=wt("div","leaflet-layer "+(this.options.className||"")),this._updateZIndex(),this.options.opacity<1&&this._updateOpacity(),this.getPane().appendChild(this._container))},_updateLevels:function(){var f=this._tileZoom,v=this.options.maxZoom;if(f!==void 0){for(var E in this._levels)E=Number(E),this._levels[E].el.children.length||E===f?(this._levels[E].el.style.zIndex=v-Math.abs(f-E),this._onUpdateLevel(E)):(Wt(this._levels[E].el),this._removeTilesAtZoom(E),this._onRemoveLevel(E),delete this._levels[E]);var D=this._levels[f],R=this._map;return D||(D=this._levels[f]={},D.el=wt("div","leaflet-tile-container leaflet-zoom-animated",this._container),D.el.style.zIndex=v,D.origin=R.project(R.unproject(R.getPixelOrigin()),f).round(),D.zoom=f,this._setZoomTransform(D,R.getCenter(),R.getZoom()),m(D.el.offsetWidth),this._onCreateLevel(D)),this._level=D,D}},_onUpdateLevel:m,_onRemoveLevel:m,_onCreateLevel:m,_pruneTiles:function(){if(this._map){var f,v,E=this._map.getZoom();if(E>this.options.maxZoom||E<this.options.minZoom){this._removeAllTiles();return}for(f in this._tiles)v=this._tiles[f],v.retain=v.current;for(f in this._tiles)if(v=this._tiles[f],v.current&&!v.active){var D=v.coords;this._retainParent(D.x,D.y,D.z,D.z-5)||this._retainChildren(D.x,D.y,D.z,D.z+2)}for(f in this._tiles)this._tiles[f].retain||this._removeTile(f)}},_removeTilesAtZoom:function(f){for(var v in this._tiles)this._tiles[v].coords.z===f&&this._removeTile(v)},_removeAllTiles:function(){for(var f in this._tiles)this._removeTile(f)},_invalidateAll:function(){for(var f in this._levels)Wt(this._levels[f].el),this._onRemoveLevel(Number(f)),delete this._levels[f];this._removeAllTiles(),this._tileZoom=void 0},_retainParent:function(f,v,E,D){var R=Math.floor(f/2),U=Math.floor(v/2),te=E-1,fe=new Q(+R,+U);fe.z=+te;var ye=this._tileCoordsToKey(fe),Ae=this._tiles[ye];return Ae&&Ae.active?(Ae.retain=!0,!0):(Ae&&Ae.loaded&&(Ae.retain=!0),te>D?this._retainParent(R,U,te,D):!1)},_retainChildren:function(f,v,E,D){for(var R=2*f;R<2*f+2;R++)for(var U=2*v;U<2*v+2;U++){var te=new Q(R,U);te.z=E+1;var fe=this._tileCoordsToKey(te),ye=this._tiles[fe];if(ye&&ye.active){ye.retain=!0;continue}else ye&&ye.loaded&&(ye.retain=!0);E+1<D&&this._retainChildren(R,U,E+1,D)}},_resetView:function(f){var v=f&&(f.pinch||f.flyTo);this._setView(this._map.getCenter(),this._map.getZoom(),v,v)},_animateZoom:function(f){this._setView(f.center,f.zoom,!0,f.noUpdate)},_clampZoom:function(f){var v=this.options;return v.minNativeZoom!==void 0&&f<v.minNativeZoom?v.minNativeZoom:v.maxNativeZoom!==void 0&&v.maxNativeZoom<f?v.maxNativeZoom:f},_setView:function(f,v,E,D){var R=Math.round(v);this.options.maxZoom!==void 0&&R>this.options.maxZoom||this.options.minZoom!==void 0&&R<this.options.minZoom?R=void 0:R=this._clampZoom(R);var U=this.options.updateWhenZooming&&R!==this._tileZoom;(!D||U)&&(this._tileZoom=R,this._abortLoading&&this._abortLoading(),this._updateLevels(),this._resetGrid(),R!==void 0&&this._update(f),E||this._pruneTiles(),this._noPrune=!!E),this._setZoomTransforms(f,v)},_setZoomTransforms:function(f,v){for(var E in this._levels)this._setZoomTransform(this._levels[E],f,v)},_setZoomTransform:function(f,v,E){var D=this._map.getZoomScale(E,f.zoom),R=f.origin.multiplyBy(D).subtract(this._map._getNewPixelOrigin(v,E)).round();Ze.any3d?La(f.el,R,D):Jt(f.el,R)},_resetGrid:function(){var f=this._map,v=f.options.crs,E=this._tileSize=this.getTileSize(),D=this._tileZoom,R=this._map.getPixelWorldBounds(this._tileZoom);R&&(this._globalTileRange=this._pxBoundsToTileRange(R)),this._wrapX=v.wrapLng&&!this.options.noWrap&&[Math.floor(f.project([0,v.wrapLng[0]],D).x/E.x),Math.ceil(f.project([0,v.wrapLng[1]],D).x/E.y)],this._wrapY=v.wrapLat&&!this.options.noWrap&&[Math.floor(f.project([v.wrapLat[0],0],D).y/E.x),Math.ceil(f.project([v.wrapLat[1],0],D).y/E.y)]},_onMoveEnd:function(){!this._map||this._map._animatingZoom||this._update()},_getTiledPixelBounds:function(f){var v=this._map,E=v._animatingZoom?Math.max(v._animateToZoom,v.getZoom()):v.getZoom(),D=v.getZoomScale(E,this._tileZoom),R=v.project(f,this._tileZoom).floor(),U=v.getSize().divideBy(D*2);return new W(R.subtract(U),R.add(U))},_update:function(f){var v=this._map;if(v){var E=this._clampZoom(v.getZoom());if(f===void 0&&(f=v.getCenter()),this._tileZoom!==void 0){var D=this._getTiledPixelBounds(f),R=this._pxBoundsToTileRange(D),U=R.getCenter(),te=[],fe=this.options.keepBuffer,ye=new W(R.getBottomLeft().subtract([fe,-fe]),R.getTopRight().add([fe,-fe]));if(!(isFinite(R.min.x)&&isFinite(R.min.y)&&isFinite(R.max.x)&&isFinite(R.max.y)))throw new Error("Attempted to load an infinite number of tiles");for(var Ae in this._tiles){var Be=this._tiles[Ae].coords;(Be.z!==this._tileZoom||!ye.contains(new Q(Be.x,Be.y)))&&(this._tiles[Ae].current=!1)}if(Math.abs(E-this._tileZoom)>1){this._setView(f,E);return}for(var Je=R.min.y;Je<=R.max.y;Je++)for(var yt=R.min.x;yt<=R.max.x;yt++){var tr=new Q(yt,Je);if(tr.z=this._tileZoom,!!this._isValidTile(tr)){var Nn=this._tiles[this._tileCoordsToKey(tr)];Nn?Nn.current=!0:te.push(tr)}}if(te.sort(function(Dt,Pt){return Dt.distanceTo(U)-Pt.distanceTo(U)}),te.length!==0){this._loading||(this._loading=!0,this.fire("loading"));var Wr=document.createDocumentFragment();for(yt=0;yt<te.length;yt++)this._addTile(te[yt],Wr);this._level.el.appendChild(Wr)}}}},_isValidTile:function(f){var v=this._map.options.crs;if(!v.infinite){var E=this._globalTileRange;if(!v.wrapLng&&(f.x<E.min.x||f.x>E.max.x)||!v.wrapLat&&(f.y<E.min.y||f.y>E.max.y))return!1}if(!this.options.bounds)return!0;var D=this._tileCoordsToBounds(f);return he(this.options.bounds).overlaps(D)},_keyToBounds:function(f){return this._tileCoordsToBounds(this._keyToTileCoords(f))},_tileCoordsToNwSe:function(f){var v=this._map,E=this.getTileSize(),D=f.scaleBy(E),R=D.add(E),U=v.unproject(D,f.z),te=v.unproject(R,f.z);return[U,te]},_tileCoordsToBounds:function(f){var v=this._tileCoordsToNwSe(f),E=new ie(v[0],v[1]);return this.options.noWrap||(E=this._map.wrapLatLngBounds(E)),E},_tileCoordsToKey:function(f){return f.x+":"+f.y+":"+f.z},_keyToTileCoords:function(f){var v=f.split(":"),E=new Q(+v[0],+v[1]);return E.z=+v[2],E},_removeTile:function(f){var v=this._tiles[f];v&&(Wt(v.el),delete this._tiles[f],this.fire("tileunload",{tile:v.el,coords:this._keyToTileCoords(f)}))},_initTile:function(f){dt(f,"leaflet-tile");var v=this.getTileSize();f.style.width=v.x+"px",f.style.height=v.y+"px",f.onselectstart=m,f.onmousemove=m,Ze.ielt9&&this.options.opacity<1&&ln(f,this.options.opacity)},_addTile:function(f,v){var E=this._getTilePos(f),D=this._tileCoordsToKey(f),R=this.createTile(this._wrapCoords(f),o(this._tileReady,this,f));this._initTile(R),this.createTile.length<2&&F(o(this._tileReady,this,f,null,R)),Jt(R,E),this._tiles[D]={el:R,coords:f,current:!0},v.appendChild(R),this.fire("tileloadstart",{tile:R,coords:f})},_tileReady:function(f,v,E){v&&this.fire("tileerror",{error:v,tile:E,coords:f});var D=this._tileCoordsToKey(f);E=this._tiles[D],E&&(E.loaded=+new Date,this._map._fadeAnimated?(ln(E.el,0),B(this._fadeFrame),this._fadeFrame=F(this._updateOpacity,this)):(E.active=!0,this._pruneTiles()),v||(dt(E.el,"leaflet-tile-loaded"),this.fire("tileload",{tile:E.el,coords:f})),this._noTilesToLoad()&&(this._loading=!1,this.fire("load"),Ze.ielt9||!this._map._fadeAnimated?F(this._pruneTiles,this):setTimeout(o(this._pruneTiles,this),250)))},_getTilePos:function(f){return f.scaleBy(this.getTileSize()).subtract(this._level.origin)},_wrapCoords:function(f){var v=new Q(this._wrapX?h(f.x,this._wrapX):f.x,this._wrapY?h(f.y,this._wrapY):f.y);return v.z=f.z,v},_pxBoundsToTileRange:function(f){var v=this.getTileSize();return new W(f.min.unscaleBy(v).floor(),f.max.unscaleBy(v).ceil().subtract([1,1]))},_noTilesToLoad:function(){for(var f in this._tiles)if(!this._tiles[f].loaded)return!1;return!0}});function B0(f){return new yl(f)}var So=yl.extend({options:{minZoom:0,maxZoom:18,subdomains:"abc",errorTileUrl:"",zoomOffset:0,tms:!1,zoomReverse:!1,detectRetina:!1,crossOrigin:!1,referrerPolicy:!1},initialize:function(f,v){this._url=f,v=w(this,v),v.detectRetina&&Ze.retina&&v.maxZoom>0?(v.tileSize=Math.floor(v.tileSize/2),v.zoomReverse?(v.zoomOffset--,v.minZoom=Math.min(v.maxZoom,v.minZoom+1)):(v.zoomOffset++,v.maxZoom=Math.max(v.minZoom,v.maxZoom-1)),v.minZoom=Math.max(0,v.minZoom)):v.zoomReverse?v.minZoom=Math.min(v.maxZoom,v.minZoom):v.maxZoom=Math.max(v.minZoom,v.maxZoom),typeof v.subdomains=="string"&&(v.subdomains=v.subdomains.split("")),this.on("tileunload",this._onTileRemove)},setUrl:function(f,v){return this._url===f&&v===void 0&&(v=!0),this._url=f,v||this.redraw(),this},createTile:function(f,v){var E=document.createElement("img");return ct(E,"load",o(this._tileOnLoad,this,v,E)),ct(E,"error",o(this._tileOnError,this,v,E)),(this.options.crossOrigin||this.options.crossOrigin==="")&&(E.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),typeof this.options.referrerPolicy=="string"&&(E.referrerPolicy=this.options.referrerPolicy),E.alt="",E.src=this.getTileUrl(f),E},getTileUrl:function(f){var v={r:Ze.retina?"@2x":"",s:this._getSubdomain(f),x:f.x,y:f.y,z:this._getZoomForUrl()};if(this._map&&!this._map.options.crs.infinite){var E=this._globalTileRange.max.y-f.y;this.options.tms&&(v.y=E),v["-y"]=E}return O(this._url,i(v,this.options))},_tileOnLoad:function(f,v){Ze.ielt9?setTimeout(o(f,this,null,v),0):f(null,v)},_tileOnError:function(f,v,E){var D=this.options.errorTileUrl;D&&v.getAttribute("src")!==D&&(v.src=D),f(E,v)},_onTileRemove:function(f){f.tile.onload=null},_getZoomForUrl:function(){var f=this._tileZoom,v=this.options.maxZoom,E=this.options.zoomReverse,D=this.options.zoomOffset;return E&&(f=v-f),f+D},_getSubdomain:function(f){var v=Math.abs(f.x+f.y)%this.options.subdomains.length;return this.options.subdomains[v]},_abortLoading:function(){var f,v;for(f in this._tiles)if(this._tiles[f].coords.z!==this._tileZoom&&(v=this._tiles[f].el,v.onload=m,v.onerror=m,!v.complete)){v.src=M;var E=this._tiles[f].coords;Wt(v),delete this._tiles[f],this.fire("tileabort",{tile:v,coords:E})}},_removeTile:function(f){var v=this._tiles[f];if(v)return v.el.setAttribute("src",M),yl.prototype._removeTile.call(this,f)},_tileReady:function(f,v,E){if(!(!this._map||E&&E.getAttribute("src")===M))return yl.prototype._tileReady.call(this,f,v,E)}});function di(f,v){return new So(f,v)}var Lc=So.extend({defaultWmsParams:{service:"WMS",request:"GetMap",layers:"",styles:"",format:"image/jpeg",transparent:!1,version:"1.1.1"},options:{crs:null,uppercase:!1},initialize:function(f,v){this._url=f;var E=i({},this.defaultWmsParams);for(var D in v)D in this.options||(E[D]=v[D]);v=w(this,v);var R=v.detectRetina&&Ze.retina?2:1,U=this.getTileSize();E.width=U.x*R,E.height=U.y*R,this.wmsParams=E},onAdd:function(f){this._crs=this.options.crs||f.options.crs,this._wmsVersion=parseFloat(this.wmsParams.version);var v=this._wmsVersion>=1.3?"crs":"srs";this.wmsParams[v]=this._crs.code,So.prototype.onAdd.call(this,f)},getTileUrl:function(f){var v=this._tileCoordsToNwSe(f),E=this._crs,D=ne(E.project(v[0]),E.project(v[1])),R=D.min,U=D.max,te=(this._wmsVersion>=1.3&&this._crs===mh?[R.y,R.x,U.y,U.x]:[R.x,R.y,U.x,U.y]).join(","),fe=So.prototype.getTileUrl.call(this,f);return fe+_(this.wmsParams,fe,this.options.uppercase)+(this.options.uppercase?"&BBOX=":"&bbox=")+te},setParams:function(f,v){return i(this.wmsParams,f),v||this.redraw(),this}});function fi(f,v){return new Lc(f,v)}So.WMS=Lc,di.wms=fi;var Br=Di.extend({options:{padding:.1},initialize:function(f){w(this,f),u(this),this._layers=this._layers||{}},onAdd:function(){this._container||(this._initContainer(),dt(this._container,"leaflet-zoom-animated")),this.getPane().appendChild(this._container),this._update(),this.on("update",this._updatePaths,this)},onRemove:function(){this.off("update",this._updatePaths,this),this._destroyContainer()},getEvents:function(){var f={viewreset:this._reset,zoom:this._onZoom,moveend:this._update,zoomend:this._onZoomEnd};return this._zoomAnimated&&(f.zoomanim=this._onAnimZoom),f},_onAnimZoom:function(f){this._updateTransform(f.center,f.zoom)},_onZoom:function(){this._updateTransform(this._map.getCenter(),this._map.getZoom())},_updateTransform:function(f,v){var E=this._map.getZoomScale(v,this._zoom),D=this._map.getSize().multiplyBy(.5+this.options.padding),R=this._map.project(this._center,v),U=D.multiplyBy(-E).add(R).subtract(this._map._getNewPixelOrigin(f,v));Ze.any3d?La(this._container,U,E):Jt(this._container,U)},_reset:function(){this._update(),this._updateTransform(this._center,this._zoom);for(var f in this._layers)this._layers[f]._reset()},_onZoomEnd:function(){for(var f in this._layers)this._layers[f]._project()},_updatePaths:function(){for(var f in this._layers)this._layers[f]._update()},_update:function(){var f=this.options.padding,v=this._map.getSize(),E=this._map.containerPointToLayerPoint(v.multiplyBy(-f)).round();this._bounds=new W(E,E.add(v.multiplyBy(1+f*2)).round()),this._center=this._map.getCenter(),this._zoom=this._map.getZoom()}}),nd=Br.extend({options:{tolerance:0},getEvents:function(){var f=Br.prototype.getEvents.call(this);return f.viewprereset=this._onViewPreReset,f},_onViewPreReset:function(){this._postponeUpdatePaths=!0},onAdd:function(){Br.prototype.onAdd.call(this),this._draw()},_initContainer:function(){var f=this._container=document.createElement("canvas");ct(f,"mousemove",this._onMouseMove,this),ct(f,"click dblclick mousedown mouseup contextmenu",this._onClick,this),ct(f,"mouseout",this._handleMouseOut,this),f._leaflet_disable_events=!0,this._ctx=f.getContext("2d")},_destroyContainer:function(){B(this._redrawRequest),delete this._ctx,Wt(this._container),Ut(this._container),delete this._container},_updatePaths:function(){if(!this._postponeUpdatePaths){var f;this._redrawBounds=null;for(var v in this._layers)f=this._layers[v],f._update();this._redraw()}},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){Br.prototype._update.call(this);var f=this._bounds,v=this._container,E=f.getSize(),D=Ze.retina?2:1;Jt(v,f.min),v.width=D*E.x,v.height=D*E.y,v.style.width=E.x+"px",v.style.height=E.y+"px",Ze.retina&&this._ctx.scale(2,2),this._ctx.translate(-f.min.x,-f.min.y),this.fire("update")}},_reset:function(){Br.prototype._reset.call(this),this._postponeUpdatePaths&&(this._postponeUpdatePaths=!1,this._updatePaths())},_initPath:function(f){this._updateDashArray(f),this._layers[u(f)]=f;var v=f._order={layer:f,prev:this._drawLast,next:null};this._drawLast&&(this._drawLast.next=v),this._drawLast=v,this._drawFirst=this._drawFirst||this._drawLast},_addPath:function(f){this._requestRedraw(f)},_removePath:function(f){var v=f._order,E=v.next,D=v.prev;E?E.prev=D:this._drawLast=D,D?D.next=E:this._drawFirst=E,delete f._order,delete this._layers[u(f)],this._requestRedraw(f)},_updatePath:function(f){this._extendRedrawBounds(f),f._project(),f._update(),this._requestRedraw(f)},_updateStyle:function(f){this._updateDashArray(f),this._requestRedraw(f)},_updateDashArray:function(f){if(typeof f.options.dashArray=="string"){var v=f.options.dashArray.split(/[, ]+/),E=[],D,R;for(R=0;R<v.length;R++){if(D=Number(v[R]),isNaN(D))return;E.push(D)}f.options._dashArray=E}else f.options._dashArray=f.options.dashArray},_requestRedraw:function(f){this._map&&(this._extendRedrawBounds(f),this._redrawRequest=this._redrawRequest||F(this._redraw,this))},_extendRedrawBounds:function(f){if(f._pxBounds){var v=(f.options.weight||0)+1;this._redrawBounds=this._redrawBounds||new W,this._redrawBounds.extend(f._pxBounds.min.subtract([v,v])),this._redrawBounds.extend(f._pxBounds.max.add([v,v]))}},_redraw:function(){this._redrawRequest=null,this._redrawBounds&&(this._redrawBounds.min._floor(),this._redrawBounds.max._ceil()),this._clear(),this._draw(),this._redrawBounds=null},_clear:function(){var f=this._redrawBounds;if(f){var v=f.getSize();this._ctx.clearRect(f.min.x,f.min.y,v.x,v.y)}else this._ctx.save(),this._ctx.setTransform(1,0,0,1,0,0),this._ctx.clearRect(0,0,this._container.width,this._container.height),this._ctx.restore()},_draw:function(){var f,v=this._redrawBounds;if(this._ctx.save(),v){var E=v.getSize();this._ctx.beginPath(),this._ctx.rect(v.min.x,v.min.y,E.x,E.y),this._ctx.clip()}this._drawing=!0;for(var D=this._drawFirst;D;D=D.next)f=D.layer,(!v||f._pxBounds&&f._pxBounds.intersects(v))&&f._updatePath();this._drawing=!1,this._ctx.restore()},_updatePoly:function(f,v){if(this._drawing){var E,D,R,U,te=f._parts,fe=te.length,ye=this._ctx;if(fe){for(ye.beginPath(),E=0;E<fe;E++){for(D=0,R=te[E].length;D<R;D++)U=te[E][D],ye[D?"lineTo":"moveTo"](U.x,U.y);v&&ye.closePath()}this._fillStroke(ye,f)}}},_updateCircle:function(f){if(!(!this._drawing||f._empty())){var v=f._point,E=this._ctx,D=Math.max(Math.round(f._radius),1),R=(Math.max(Math.round(f._radiusY),1)||D)/D;R!==1&&(E.save(),E.scale(1,R)),E.beginPath(),E.arc(v.x,v.y/R,D,0,Math.PI*2,!1),R!==1&&E.restore(),this._fillStroke(E,f)}},_fillStroke:function(f,v){var E=v.options;E.fill&&(f.globalAlpha=E.fillOpacity,f.fillStyle=E.fillColor||E.color,f.fill(E.fillRule||"evenodd")),E.stroke&&E.weight!==0&&(f.setLineDash&&f.setLineDash(v.options&&v.options._dashArray||[]),f.globalAlpha=E.opacity,f.lineWidth=E.weight,f.strokeStyle=E.color,f.lineCap=E.lineCap,f.lineJoin=E.lineJoin,f.stroke())},_onClick:function(f){for(var v=this._map.mouseEventToLayerPoint(f),E,D,R=this._drawFirst;R;R=R.next)E=R.layer,E.options.interactive&&E._containsPoint(v)&&(!(f.type==="click"||f.type==="preclick")||!this._map._draggableMoved(E))&&(D=E);this._fireEvent(D?[D]:!1,f)},_onMouseMove:function(f){if(!(!this._map||this._map.dragging.moving()||this._map._animatingZoom)){var v=this._map.mouseEventToLayerPoint(f);this._handleMouseHover(f,v)}},_handleMouseOut:function(f){var v=this._hoveredLayer;v&&(hn(this._container,"leaflet-interactive"),this._fireEvent([v],f,"mouseout"),this._hoveredLayer=null,this._mouseHoverThrottled=!1)},_handleMouseHover:function(f,v){if(!this._mouseHoverThrottled){for(var E,D,R=this._drawFirst;R;R=R.next)E=R.layer,E.options.interactive&&E._containsPoint(v)&&(D=E);D!==this._hoveredLayer&&(this._handleMouseOut(f),D&&(dt(this._container,"leaflet-interactive"),this._fireEvent([D],f,"mouseover"),this._hoveredLayer=D)),this._fireEvent(this._hoveredLayer?[this._hoveredLayer]:!1,f),this._mouseHoverThrottled=!0,setTimeout(o(function(){this._mouseHoverThrottled=!1},this),32)}},_fireEvent:function(f,v,E){this._map._fireDOMEvent(v,E||v.type,f)},_bringToFront:function(f){var v=f._order;if(v){var E=v.next,D=v.prev;if(E)E.prev=D;else return;D?D.next=E:E&&(this._drawFirst=E),v.prev=this._drawLast,this._drawLast.next=v,v.next=null,this._drawLast=v,this._requestRedraw(f)}},_bringToBack:function(f){var v=f._order;if(v){var E=v.next,D=v.prev;if(D)D.next=E;else return;E?E.prev=D:D&&(this._drawLast=D),v.prev=null,v.next=this._drawFirst,this._drawFirst.prev=v,this._drawFirst=v,this._requestRedraw(f)}}});function Ic(f){return Ze.canvas?new nd(f):null}var ko=(function(){try{return document.namespaces.add("lvml","urn:schemas-microsoft-com:vml"),function(f){return document.createElement("<lvml:"+f+' class="lvml">')}}catch{}return function(f){return document.createElement("<"+f+' xmlns="urn:schemas-microsoft.com:vml" class="lvml">')}})(),ph={_initContainer:function(){this._container=wt("div","leaflet-vml-container")},_update:function(){this._map._animatingZoom||(Br.prototype._update.call(this),this.fire("update"))},_initPath:function(f){var v=f._container=ko("shape");dt(v,"leaflet-vml-shape "+(this.options.className||"")),v.coordsize="1 1",f._path=ko("path"),v.appendChild(f._path),this._updateStyle(f),this._layers[u(f)]=f},_addPath:function(f){var v=f._container;this._container.appendChild(v),f.options.interactive&&f.addInteractiveTarget(v)},_removePath:function(f){var v=f._container;Wt(v),f.removeInteractiveTarget(v),delete this._layers[u(f)]},_updateStyle:function(f){var v=f._stroke,E=f._fill,D=f.options,R=f._container;R.stroked=!!D.stroke,R.filled=!!D.fill,D.stroke?(v||(v=f._stroke=ko("stroke")),R.appendChild(v),v.weight=D.weight+"px",v.color=D.color,v.opacity=D.opacity,D.dashArray?v.dashStyle=T(D.dashArray)?D.dashArray.join(" "):D.dashArray.replace(/( *, *)/g," "):v.dashStyle="",v.endcap=D.lineCap.replace("butt","flat"),v.joinstyle=D.lineJoin):v&&(R.removeChild(v),f._stroke=null),D.fill?(E||(E=f._fill=ko("fill")),R.appendChild(E),E.color=D.fillColor||D.color,E.opacity=D.fillOpacity):E&&(R.removeChild(E),f._fill=null)},_updateCircle:function(f){var v=f._point.round(),E=Math.round(f._radius),D=Math.round(f._radiusY||E);this._setPath(f,f._empty()?"M0 0":"AL "+v.x+","+v.y+" "+E+","+D+" 0,"+65535*360)},_setPath:function(f,v){f._path.v=v},_bringToFront:function(f){er(f._container)},_bringToBack:function(f){ts(f._container)}},la=Ze.vml?ko:Ie,vl=Br.extend({_initContainer:function(){this._container=la("svg"),this._container.setAttribute("pointer-events","none"),this._rootGroup=la("g"),this._container.appendChild(this._rootGroup)},_destroyContainer:function(){Wt(this._container),Ut(this._container),delete this._container,delete this._rootGroup,delete this._svgSize},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){Br.prototype._update.call(this);var f=this._bounds,v=f.getSize(),E=this._container;(!this._svgSize||!this._svgSize.equals(v))&&(this._svgSize=v,E.setAttribute("width",v.x),E.setAttribute("height",v.y)),Jt(E,f.min),E.setAttribute("viewBox",[f.min.x,f.min.y,v.x,v.y].join(" ")),this.fire("update")}},_initPath:function(f){var v=f._path=la("path");f.options.className&&dt(v,f.options.className),f.options.interactive&&dt(v,"leaflet-interactive"),this._updateStyle(f),this._layers[u(f)]=f},_addPath:function(f){this._rootGroup||this._initContainer(),this._rootGroup.appendChild(f._path),f.addInteractiveTarget(f._path)},_removePath:function(f){Wt(f._path),f.removeInteractiveTarget(f._path),delete this._layers[u(f)]},_updatePath:function(f){f._project(),f._update()},_updateStyle:function(f){var v=f._path,E=f.options;v&&(E.stroke?(v.setAttribute("stroke",E.color),v.setAttribute("stroke-opacity",E.opacity),v.setAttribute("stroke-width",E.weight),v.setAttribute("stroke-linecap",E.lineCap),v.setAttribute("stroke-linejoin",E.lineJoin),E.dashArray?v.setAttribute("stroke-dasharray",E.dashArray):v.removeAttribute("stroke-dasharray"),E.dashOffset?v.setAttribute("stroke-dashoffset",E.dashOffset):v.removeAttribute("stroke-dashoffset")):v.setAttribute("stroke","none"),E.fill?(v.setAttribute("fill",E.fillColor||E.color),v.setAttribute("fill-opacity",E.fillOpacity),v.setAttribute("fill-rule",E.fillRule||"evenodd")):v.setAttribute("fill","none"))},_updatePoly:function(f,v){this._setPath(f,Ke(f._parts,v))},_updateCircle:function(f){var v=f._point,E=Math.max(Math.round(f._radius),1),D=Math.max(Math.round(f._radiusY),1)||E,R="a"+E+","+D+" 0 1,0 ",U=f._empty()?"M0 0":"M"+(v.x-E)+","+v.y+R+E*2+",0 "+R+-E*2+",0 ";this._setPath(f,U)},_setPath:function(f,v){f._path.setAttribute("d",v)},_bringToFront:function(f){er(f._path)},_bringToBack:function(f){ts(f._path)}});Ze.vml&&vl.include(ph);function $c(f){return Ze.svg||Ze.vml?new vl(f):null}Et.include({getRenderer:function(f){var v=f.options.renderer||this._getPaneRenderer(f.options.pane)||this.options.renderer||this._renderer;return v||(v=this._renderer=this._createRenderer()),this.hasLayer(v)||this.addLayer(v),v},_getPaneRenderer:function(f){if(f==="overlayPane"||f===void 0)return!1;var v=this._paneRenderers[f];return v===void 0&&(v=this._createRenderer({pane:f}),this._paneRenderers[f]=v),v},_createRenderer:function(f){return this.options.preferCanvas&&Ic(f)||$c(f)}});var as=ml.extend({initialize:function(f,v){ml.prototype.initialize.call(this,this._boundsToLatLngs(f),v)},setBounds:function(f){return this.setLatLngs(this._boundsToLatLngs(f))},_boundsToLatLngs:function(f){return f=he(f),[f.getSouthWest(),f.getNorthWest(),f.getNorthEast(),f.getSouthEast()]}});function jw(f,v){return new as(f,v)}vl.create=la,vl.pointsToPath=Ke,za.geometryToLayer=dr,za.coordsToLatLng=Xu,za.coordsToLatLngs=Cc,za.latLngToCoords=Ju,za.latLngsToCoords=Mc,za.getFeature=xo,za.asFeature=Qu,Et.mergeOptions({boxZoom:!0});var zr=ia.extend({initialize:function(f){this._map=f,this._container=f._container,this._pane=f._panes.overlayPane,this._resetStateTimeout=0,f.on("unload",this._destroy,this)},addHooks:function(){ct(this._container,"mousedown",this._onMouseDown,this)},removeHooks:function(){Ut(this._container,"mousedown",this._onMouseDown,this)},moved:function(){return this._moved},_destroy:function(){Wt(this._pane),delete this._pane},_resetState:function(){this._resetStateTimeout=0,this._moved=!1},_clearDeferredResetState:function(){this._resetStateTimeout!==0&&(clearTimeout(this._resetStateTimeout),this._resetStateTimeout=0)},_onMouseDown:function(f){if(!f.shiftKey||f.which!==1&&f.button!==1)return!1;this._clearDeferredResetState(),this._resetState(),al(),Fu(),this._startPoint=this._map.mouseEventToContainerPoint(f),ct(document,{contextmenu:yo,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseMove:function(f){this._moved||(this._moved=!0,this._box=wt("div","leaflet-zoom-box",this._container),dt(this._container,"leaflet-crosshair"),this._map.fire("boxzoomstart")),this._point=this._map.mouseEventToContainerPoint(f);var v=new W(this._point,this._startPoint),E=v.getSize();Jt(this._box,v.min),this._box.style.width=E.x+"px",this._box.style.height=E.y+"px"},_finish:function(){this._moved&&(Wt(this._box),hn(this._container,"leaflet-crosshair")),na(),xc(),Ut(document,{contextmenu:yo,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseUp:function(f){if(!(f.which!==1&&f.button!==1)&&(this._finish(),!!this._moved)){this._clearDeferredResetState(),this._resetStateTimeout=setTimeout(o(this._resetState,this),0);var v=new ie(this._map.containerPointToLatLng(this._startPoint),this._map.containerPointToLatLng(this._point));this._map.fitBounds(v).fire("boxzoomend",{boxZoomBounds:v})}},_onKeyDown:function(f){f.keyCode===27&&(this._finish(),this._clearDeferredResetState(),this._resetState())}});Et.addInitHook("addHandler","boxZoom",zr),Et.mergeOptions({doubleClickZoom:!0});var rd=ia.extend({addHooks:function(){this._map.on("dblclick",this._onDoubleClick,this)},removeHooks:function(){this._map.off("dblclick",this._onDoubleClick,this)},_onDoubleClick:function(f){var v=this._map,E=v.getZoom(),D=v.options.zoomDelta,R=f.originalEvent.shiftKey?E-D:E+D;v.options.doubleClickZoom==="center"?v.setZoom(R):v.setZoomAround(f.containerPoint,R)}});Et.addInitHook("addHandler","doubleClickZoom",rd),Et.mergeOptions({dragging:!0,inertia:!0,inertiaDeceleration:3400,inertiaMaxSpeed:1/0,easeLinearity:.2,worldCopyJump:!1,maxBoundsViscosity:0});var ca=ia.extend({addHooks:function(){if(!this._draggable){var f=this._map;this._draggable=new vo(f._mapPane,f._container),this._draggable.on({dragstart:this._onDragStart,drag:this._onDrag,dragend:this._onDragEnd},this),this._draggable.on("predrag",this._onPreDragLimit,this),f.options.worldCopyJump&&(this._draggable.on("predrag",this._onPreDragWrap,this),f.on("zoomend",this._onZoomEnd,this),f.whenReady(this._onZoomEnd,this))}dt(this._map._container,"leaflet-grab leaflet-touch-drag"),this._draggable.enable(),this._positions=[],this._times=[]},removeHooks:function(){hn(this._map._container,"leaflet-grab"),hn(this._map._container,"leaflet-touch-drag"),this._draggable.disable()},moved:function(){return this._draggable&&this._draggable._moved},moving:function(){return this._draggable&&this._draggable._moving},_onDragStart:function(){var f=this._map;if(f._stop(),this._map.options.maxBounds&&this._map.options.maxBoundsViscosity){var v=he(this._map.options.maxBounds);this._offsetLimit=ne(this._map.latLngToContainerPoint(v.getNorthWest()).multiplyBy(-1),this._map.latLngToContainerPoint(v.getSouthEast()).multiplyBy(-1).add(this._map.getSize())),this._viscosity=Math.min(1,Math.max(0,this._map.options.maxBoundsViscosity))}else this._offsetLimit=null;f.fire("movestart").fire("dragstart"),f.options.inertia&&(this._positions=[],this._times=[])},_onDrag:function(f){if(this._map.options.inertia){var v=this._lastTime=+new Date,E=this._lastPos=this._draggable._absPos||this._draggable._newPos;this._positions.push(E),this._times.push(v),this._prunePositions(v)}this._map.fire("move",f).fire("drag",f)},_prunePositions:function(f){for(;this._positions.length>1&&f-this._times[0]>50;)this._positions.shift(),this._times.shift()},_onZoomEnd:function(){var f=this._map.getSize().divideBy(2),v=this._map.latLngToLayerPoint([0,0]);this._initialWorldOffset=v.subtract(f).x,this._worldWidth=this._map.getPixelWorldBounds().getSize().x},_viscousLimit:function(f,v){return f-(f-v)*this._viscosity},_onPreDragLimit:function(){if(!(!this._viscosity||!this._offsetLimit)){var f=this._draggable._newPos.subtract(this._draggable._startPos),v=this._offsetLimit;f.x<v.min.x&&(f.x=this._viscousLimit(f.x,v.min.x)),f.y<v.min.y&&(f.y=this._viscousLimit(f.y,v.min.y)),f.x>v.max.x&&(f.x=this._viscousLimit(f.x,v.max.x)),f.y>v.max.y&&(f.y=this._viscousLimit(f.y,v.max.y)),this._draggable._newPos=this._draggable._startPos.add(f)}},_onPreDragWrap:function(){var f=this._worldWidth,v=Math.round(f/2),E=this._initialWorldOffset,D=this._draggable._newPos.x,R=(D-v+E)%f+v-E,U=(D+v+E)%f-v-E,te=Math.abs(R+E)<Math.abs(U+E)?R:U;this._draggable._absPos=this._draggable._newPos.clone(),this._draggable._newPos.x=te},_onDragEnd:function(f){var v=this._map,E=v.options,D=!E.inertia||f.noInertia||this._times.length<2;if(v.fire("dragend",f),D)v.fire("moveend");else{this._prunePositions(+new Date);var R=this._lastPos.subtract(this._positions[0]),U=(this._lastTime-this._times[0])/1e3,te=E.easeLinearity,fe=R.multiplyBy(te/U),ye=fe.distanceTo([0,0]),Ae=Math.min(E.inertiaMaxSpeed,ye),Be=fe.multiplyBy(Ae/ye),Je=Ae/(E.inertiaDeceleration*te),yt=Be.multiplyBy(-Je/2).round();!yt.x&&!yt.y?v.fire("moveend"):(yt=v._limitOffset(yt,v.options.maxBounds),F(function(){v.panBy(yt,{duration:Je,easeLinearity:te,noMoveStart:!0,animate:!0})}))}}});Et.addInitHook("addHandler","dragging",ca),Et.mergeOptions({keyboard:!0,keyboardPanDelta:80});var gh=ia.extend({keyCodes:{left:[37],right:[39],down:[40],up:[38],zoomIn:[187,107,61,171],zoomOut:[189,109,54,173]},initialize:function(f){this._map=f,this._setPanDelta(f.options.keyboardPanDelta),this._setZoomDelta(f.options.zoomDelta)},addHooks:function(){var f=this._map._container;f.tabIndex<=0&&(f.tabIndex="0"),ct(f,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.on({focus:this._addHooks,blur:this._removeHooks},this)},removeHooks:function(){this._removeHooks(),Ut(this._map._container,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.off({focus:this._addHooks,blur:this._removeHooks},this)},_onMouseDown:function(){if(!this._focused){var f=document.body,v=document.documentElement,E=f.scrollTop||v.scrollTop,D=f.scrollLeft||v.scrollLeft;this._map._container.focus(),window.scrollTo(D,E)}},_onFocus:function(){this._focused=!0,this._map.fire("focus")},_onBlur:function(){this._focused=!1,this._map.fire("blur")},_setPanDelta:function(f){var v=this._panKeys={},E=this.keyCodes,D,R;for(D=0,R=E.left.length;D<R;D++)v[E.left[D]]=[-1*f,0];for(D=0,R=E.right.length;D<R;D++)v[E.right[D]]=[f,0];for(D=0,R=E.down.length;D<R;D++)v[E.down[D]]=[0,f];for(D=0,R=E.up.length;D<R;D++)v[E.up[D]]=[0,-1*f]},_setZoomDelta:function(f){var v=this._zoomKeys={},E=this.keyCodes,D,R;for(D=0,R=E.zoomIn.length;D<R;D++)v[E.zoomIn[D]]=f;for(D=0,R=E.zoomOut.length;D<R;D++)v[E.zoomOut[D]]=-f},_addHooks:function(){ct(document,"keydown",this._onKeyDown,this)},_removeHooks:function(){Ut(document,"keydown",this._onKeyDown,this)},_onKeyDown:function(f){if(!(f.altKey||f.ctrlKey||f.metaKey)){var v=f.keyCode,E=this._map,D;if(v in this._panKeys){if(!E._panAnim||!E._panAnim._inProgress)if(D=this._panKeys[v],f.shiftKey&&(D=ce(D).multiplyBy(3)),E.options.maxBounds&&(D=E._limitOffset(ce(D),E.options.maxBounds)),E.options.worldCopyJump){var R=E.wrapLatLng(E.unproject(E.project(E.getCenter()).add(D)));E.panTo(R)}else E.panBy(D)}else if(v in this._zoomKeys)E.setZoom(E.getZoom()+(f.shiftKey?3:1)*this._zoomKeys[v]);else if(v===27&&E._popup&&E._popup.options.closeOnEscapeKey)E.closePopup();else return;yo(f)}}});Et.addInitHook("addHandler","keyboard",gh),Et.mergeOptions({scrollWheelZoom:!0,wheelDebounceTime:40,wheelPxPerZoomLevel:60});var Bc=ia.extend({addHooks:function(){ct(this._map._container,"wheel",this._onWheelScroll,this),this._delta=0},removeHooks:function(){Ut(this._map._container,"wheel",this._onWheelScroll,this)},_onWheelScroll:function(f){var v=jr(f),E=this._map.options.wheelDebounceTime;this._delta+=v,this._lastMousePos=this._map.mouseEventToContainerPoint(f),this._startTime||(this._startTime=+new Date);var D=Math.max(E-(+new Date-this._startTime),0);clearTimeout(this._timer),this._timer=setTimeout(o(this._performZoom,this),D),yo(f)},_performZoom:function(){var f=this._map,v=f.getZoom(),E=this._map.options.zoomSnap||0;f._stop();var D=this._delta/(this._map.options.wheelPxPerZoomLevel*4),R=4*Math.log(2/(1+Math.exp(-Math.abs(D))))/Math.LN2,U=E?Math.ceil(R/E)*E:R,te=f._limitZoom(v+(this._delta>0?U:-U))-v;this._delta=0,this._startTime=null,te&&(f.options.scrollWheelZoom==="center"?f.setZoom(v+te):f.setZoomAround(this._lastMousePos,v+te))}});Et.addInitHook("addHandler","scrollWheelZoom",Bc);var os=600;Et.mergeOptions({tapHold:Ze.touchNative&&Ze.safari&&Ze.mobile,tapTolerance:15});var id=ia.extend({addHooks:function(){ct(this._map._container,"touchstart",this._onDown,this)},removeHooks:function(){Ut(this._map._container,"touchstart",this._onDown,this)},_onDown:function(f){if(clearTimeout(this._holdTimeout),f.touches.length===1){var v=f.touches[0];this._startPos=this._newPos=new Q(v.clientX,v.clientY),this._holdTimeout=setTimeout(o(function(){this._cancel(),this._isTapValid()&&(ct(document,"touchend",An),ct(document,"touchend touchcancel",this._cancelClickPrevent),this._simulateEvent("contextmenu",v))},this),os),ct(document,"touchend touchcancel contextmenu",this._cancel,this),ct(document,"touchmove",this._onMove,this)}},_cancelClickPrevent:function f(){Ut(document,"touchend",An),Ut(document,"touchend touchcancel",f)},_cancel:function(){clearTimeout(this._holdTimeout),Ut(document,"touchend touchcancel contextmenu",this._cancel,this),Ut(document,"touchmove",this._onMove,this)},_onMove:function(f){var v=f.touches[0];this._newPos=new Q(v.clientX,v.clientY)},_isTapValid:function(){return this._newPos.distanceTo(this._startPos)<=this._map.options.tapTolerance},_simulateEvent:function(f,v){var E=new MouseEvent(f,{bubbles:!0,cancelable:!0,view:window,screenX:v.screenX,screenY:v.screenY,clientX:v.clientX,clientY:v.clientY});E._simulated=!0,v.target.dispatchEvent(E)}});Et.addInitHook("addHandler","tapHold",id),Et.mergeOptions({touchZoom:Ze.touch,bounceAtZoomLimits:!0});var bh=ia.extend({addHooks:function(){dt(this._map._container,"leaflet-touch-zoom"),ct(this._map._container,"touchstart",this._onTouchStart,this)},removeHooks:function(){hn(this._map._container,"leaflet-touch-zoom"),Ut(this._map._container,"touchstart",this._onTouchStart,this)},_onTouchStart:function(f){var v=this._map;if(!(!f.touches||f.touches.length!==2||v._animatingZoom||this._zooming)){var E=v.mouseEventToContainerPoint(f.touches[0]),D=v.mouseEventToContainerPoint(f.touches[1]);this._centerPoint=v.getSize()._divideBy(2),this._startLatLng=v.containerPointToLatLng(this._centerPoint),v.options.touchZoom!=="center"&&(this._pinchStartLatLng=v.containerPointToLatLng(E.add(D)._divideBy(2))),this._startDist=E.distanceTo(D),this._startZoom=v.getZoom(),this._moved=!1,this._zooming=!0,v._stop(),ct(document,"touchmove",this._onTouchMove,this),ct(document,"touchend touchcancel",this._onTouchEnd,this),An(f)}},_onTouchMove:function(f){if(!(!f.touches||f.touches.length!==2||!this._zooming)){var v=this._map,E=v.mouseEventToContainerPoint(f.touches[0]),D=v.mouseEventToContainerPoint(f.touches[1]),R=E.distanceTo(D)/this._startDist;if(this._zoom=v.getScaleZoom(R,this._startZoom),!v.options.bounceAtZoomLimits&&(this._zoom<v.getMinZoom()&&R<1||this._zoom>v.getMaxZoom()&&R>1)&&(this._zoom=v._limitZoom(this._zoom)),v.options.touchZoom==="center"){if(this._center=this._startLatLng,R===1)return}else{var U=E._add(D)._divideBy(2)._subtract(this._centerPoint);if(R===1&&U.x===0&&U.y===0)return;this._center=v.unproject(v.project(this._pinchStartLatLng,this._zoom).subtract(U),this._zoom)}this._moved||(v._moveStart(!0,!1),this._moved=!0),B(this._animRequest);var te=o(v._move,v,this._center,this._zoom,{pinch:!0,round:!1},void 0);this._animRequest=F(te,this,!0),An(f)}},_onTouchEnd:function(){if(!this._moved||!this._zooming){this._zooming=!1;return}this._zooming=!1,B(this._animRequest),Ut(document,"touchmove",this._onTouchMove,this),Ut(document,"touchend touchcancel",this._onTouchEnd,this),this._map.options.zoomAnimation?this._map._animateZoom(this._center,this._map._limitZoom(this._zoom),!0,this._map.options.zoomSnap):this._map._resetView(this._center,this._map._limitZoom(this._zoom))}});Et.addInitHook("addHandler","touchZoom",bh),Et.BoxZoom=zr,Et.DoubleClickZoom=rd,Et.Drag=ca,Et.Keyboard=gh,Et.ScrollWheelZoom=Bc,Et.TapHold=id,Et.TouchZoom=bh,n.Bounds=W,n.Browser=Ze,n.CRS=pe,n.Canvas=nd,n.Circle=Zu,n.CircleMarker=hl,n.Class=X,n.Control=Kr,n.DivIcon=$0,n.DivOverlay=fr,n.DomEvent=Yu,n.DomUtil=ll,n.Draggable=vo,n.Evented=V,n.FeatureGroup=aa,n.GeoJSON=za,n.GridLayer=yl,n.Handler=ia,n.Icon=oa,n.ImageOverlay=gl,n.LatLng=J,n.LatLngBounds=ie,n.Layer=Di,n.LayerGroup=fl,n.LineUtil=xw,n.Map=Et,n.Marker=Oc,n.Mixin=gw,n.Path=sa,n.Point=Q,n.PolyUtil=fh,n.Polygon=ml,n.Polyline=Ba,n.Popup=Pc,n.PosAnimation=cl,n.Projection=N0,n.Rectangle=as,n.Renderer=Br,n.SVG=vl,n.SVGOverlay=td,n.TileLayer=So,n.Tooltip=Rc,n.Transformation=xe,n.Util=q,n.VideoOverlay=_o,n.bind=o,n.bounds=ne,n.canvas=Ic,n.circle=P0,n.circleMarker=D0,n.control=$a,n.divIcon=Ew,n.extend=i,n.featureGroup=C0,n.geoJSON=ed,n.geoJson=Dc,n.gridLayer=B0,n.icon=Tc,n.imageOverlay=R0,n.latLng=ae,n.latLngBounds=he,n.layerGroup=ww,n.map=oh,n.marker=M0,n.point=ce,n.polygon=Sw,n.polyline=_w,n.popup=I0,n.rectangle=jw,n.setOptions=w,n.stamp=u,n.svg=$c,n.svgOverlay=L0,n.tileLayer=di,n.tooltip=kw,n.transformation=ue,n.version=r,n.videoOverlay=bl;var yh=window.L;n.noConflict=function(){return window.L=yh,this},window.L=n}))})(Nm,Nm.exports)),Nm.exports}var tJ=eJ();const v1=Ti(tJ),Wg=e=>e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#39;");function Qc(e){const t=document.getElementById(e);if(!t)throw new Error(`#${e} not found`);return t}function nJ(e){const{buttonId:t,buttonInputId:n,modalId:r,closeMapId:i,mapCloseBtnId:a,searchBoxId:o,suggestionsId:l,mapId:u}=e.ids,d=e.initialCenter??{lat:37.5665,lon:126.978},h=Qc(n),m=Qc(t),b=Qc(r),y=Qc(a),k=Qc(o),w=Qc(l),_=i?Qc(i):null;let j=null,O=null,T=null;const C=B=>B.code==="Space"||B.key===" "||B.key==="Spacebar"||B.key==="Space",M=B=>{C(B)&&document.activeElement!==k&&(B.preventDefault(),B.stopPropagation(),k.focus())},P=()=>{b.style.display="flex",j?setTimeout(()=>j?.invalidateSize(),200):setTimeout(()=>{j=v1.map(u,{keyboard:!1}).setView([d.lat,d.lon],11),v1.tileLayer("https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",{attribution:" OpenStreetMap"}).addTo(j),j.invalidateSize()},0),b.addEventListener("keydown",M,!0),b.addEventListener("keyup",M,!0),k.focus()},I=()=>{b.style.display="none",k.value="",w.innerHTML="",T&&(window.clearTimeout(T),T=null),b.removeEventListener("keydown",M,!0),b.removeEventListener("keyup",M,!0)},z=B=>{const q=B.dataset.name??"",X=Number(B.dataset.lat??""),Z=Number(B.dataset.lon??"");!Number.isFinite(X)||!Number.isFinite(Z)||!j||(O?O.setLatLng([X,Z]):O=v1.marker([X,Z]).addTo(j),j.flyTo([X,Z],14,{duration:.5}),h.value=q,h.dataset.lat=String(X),h.dataset.lon=String(Z),e.onSelected?.({name:q,lat:X,lon:Z}),w.innerHTML="",I())},K=()=>{T&&window.clearTimeout(T);const B=k.value.trim();if(!B){w.innerHTML="";return}T=window.setTimeout(async()=>{try{const q="https://nominatim.openstreetmap.org/search?format=jsonv2&limit=12&accept-language=ko&addressdetails=1&dedupe=1&email=unique950318@gmail.com&q="+encodeURIComponent(B),X=await fetch(q,{headers:{Accept:"application/json"}});if(!X.ok)throw new Error(`HTTP ${X.status}`);const Z=await X.json();if(!Array.isArray(Z)||Z.length===0){w.innerHTML='<li style="padding:8px"> </li>';return}const Y=Z.slice(0,12).map((V,Q)=>{const se=V.display_name.split(",").slice(0,3).map(ne=>ne.trim()).join("  "),ce="padding:8px;cursor:pointer;outline:none;",W=Q===0?"background-color:#1f2937;border-radius:4px;":"";return`<li
                    role="option"
                    data-name="${Wg(se)}"
                    data-lat="${Wg(V.lat)}"
                    data-lon="${Wg(V.lon)}"
                    data-active="${Q===0?"1":"0"}"
                    style="${ce}${W}"
                  >${Wg(se)}</li>`}).join("");w.innerHTML=Y}catch(q){console.error(q),w.innerHTML='<li style="padding:8px;color:#b91c1c"> </li>'}},250)},G=B=>{const q=B.target;q.tagName==="LI"&&z(q)},F=B=>{if(B.key==="Enter"){const q=w.querySelector('li[data-active="1"]')??w.querySelector("li");q&&z(q)}};return m.addEventListener("click",P),y.addEventListener("click",I),_&&_.addEventListener("click",I),k.addEventListener("input",K),k.addEventListener("keydown",F),w.addEventListener("click",G),()=>{m.removeEventListener("click",P),y.removeEventListener("click",I),_&&_.removeEventListener("click",I),k.removeEventListener("input",K),k.removeEventListener("keydown",F),w.removeEventListener("click",G),b.removeEventListener("keydown",M,!0),b.removeEventListener("keyup",M,!0),T&&(window.clearTimeout(T),T=null),j&&(j.remove(),j=null)}}function Cd(){return document.getElementById("suggestions")}function Qb(e){const t=Array.from(e.querySelectorAll('li, [role="option"]'));return t.forEach((n,r)=>{n.getAttribute("role")||n.setAttribute("role","option"),n.setAttribute("aria-selected",n===document.activeElement?"true":"false"),n.tabIndex=-1,n.id||(n.id=`suggestion-item-${r}`)}),t}function x1(e,t){const n=Qb(e);if(n.length===0)return;const r=n.length;let i=t;i<0&&(i=r-1),i>=r&&(i=0),n.forEach(o=>{o.tabIndex=-1,o.setAttribute("aria-selected","false")});const a=n[i];a.tabIndex=0,a.setAttribute("aria-selected","true"),a.focus()}const rJ='button, [href], input:not([type="hidden"]), select, textarea, [tabindex]:not([tabindex="-1"])';function iJ({open:e,setOpen:t,setBtnText:n,setLocalValue:r,nameRef:i,latRef:a,lonRef:o,triggerBtnRef:l,onSelect:u}){S.useEffect(()=>{if(!e)return;const d=nJ({ids:{buttonInputId:"inputBirthPlace",buttonId:"inputBirthPlaceBtn",modalId:"mapModal",closeMapId:"closeMap",mapCloseBtnId:"mapCloseBtn",searchBoxId:"searchBox",suggestionsId:"suggestions",mapId:"map"},onSelected:T=>{n(""),r(T.name),i.current&&(i.current.value=T.name),a.current&&(a.current.value=String(T.lat)),o.current&&(o.current.value=String(T.lon)),u?.(T),t(!1)}}),h=document.getElementById("inputBirthPlaceBtn");h&&h.dispatchEvent(new MouseEvent("click",{bubbles:!0}));const m=document.getElementById("mapModal");if(!m)return;const b=document.getElementById("searchBox"),y=Cd();setTimeout(()=>b?.focus(),0);const k=T=>{if(T.key==="Escape"){T.preventDefault(),t(!1);return}if(T.key!=="Tab")return;const C=Cd();if(C&&C.contains(document.activeElement))return;const M=Array.from(m.querySelectorAll(rJ)).filter(K=>!K.hasAttribute("disabled")&&K.tabIndex!==-1);if(M.length===0)return;const P=M[0],I=M[M.length-1],z=document.activeElement;T.shiftKey?(z===P||!m.contains(z))&&(T.preventDefault(),I.focus()):(z===I||!m.contains(z))&&(T.preventDefault(),P.focus())};m.addEventListener("keydown",k);const w=T=>{if(T.key!=="ArrowDown")return;const C=Cd();!C||Qb(C).length===0||T.preventDefault()};b?.addEventListener("keydown",w);const _=T=>{if(T.target.value.trim()===""){const M=Cd();M&&(M.innerHTML="")}};b?.addEventListener("input",_);const j=T=>{const C=Cd();if(!C)return;const M=Qb(C);if(M.length===0)return;const P=document.activeElement,I=P?M.indexOf(P):-1;if(I===-1)return;const z=K=>{T.preventDefault(),x1(C,I+K)};switch(T.key){case"Tab":T.preventDefault(),z(T.shiftKey?-1:1);break;case"ArrowDown":T.preventDefault(),z(1);break;case"ArrowUp":T.preventDefault(),z(-1);break;case"Home":T.preventDefault(),x1(C,0);break;case"End":T.preventDefault(),x1(C,M.length-1);break;case"Enter":case" ":T.preventDefault(),P.click();break;case"Backspace":T.preventDefault(),C.innerHTML="",b?.focus();break}T.stopPropagation()};let O=null;return y&&(y.addEventListener("keydown",j),O=new MutationObserver(()=>{const T=Cd();!T||Qb(T).length}),O.observe(y,{childList:!0,subtree:!1})),()=>{m.removeEventListener("keydown",k),b?.removeEventListener("keydown",w),b?.removeEventListener("input",_),y&&y.removeEventListener("keydown",j),O?.disconnect(),d?.()}},[e,u,n,r,t,i,a,o]),S.useEffect(()=>{e||setTimeout(()=>l.current?.focus(),0)},[e,l])}function S4({onSelect:e,placeholderText:t=" ",buttonStyle:n,value:r}){const i=JX({placeholderText:t,value:r});return iJ({...i,onSelect:e}),g.jsxs("li",{className:"flex items-center gap-2",children:[g.jsx("input",{className:`w-[60%] desk:w-[70%] mr-2 border rounded-lg p-2
                   bg-white dark:bg-neutral-900
                   border-neutral-300 dark:border-neutral-700
                   text-neutral-900 dark:text-neutral-100
                   placeholder-neutral-400 dark:placeholder-neutral-500`,type:"text",id:"inputBirthPlace",readOnly:!0,"aria-readonly":"true",value:i.localValue&&i.localValue.trim()!==""?i.localValue:t}),g.jsx("button",{ref:i.triggerBtnRef,type:"button",id:"inputBirthPlaceBtn",className:"btn_style text-sm desk:text-base w-[calc(40%_-_8px)] desk:w-[calc(30%_-_8px)] p-0",style:n,onClick:()=>i.setOpen(!0),"aria-haspopup":"dialog","aria-expanded":i.open,"aria-controls":"mapModal",children:i.btnText}),g.jsx("input",{ref:i.nameRef,type:"hidden",name:"birthPlace_name",defaultValue:""}),g.jsx("input",{ref:i.latRef,type:"hidden",name:"birthPlace_lat",defaultValue:""}),g.jsx("input",{ref:i.lonRef,type:"hidden",name:"birthPlace_lon",defaultValue:""}),i.open&&g.jsx("div",{id:"mapModal",role:"dialog","aria-modal":"true","aria-labelledby":"mapModalTitle",className:"fixed inset-0 z-[999] flex items-center justify-center bg-black/40 dark:bg-black/60 p-4",children:g.jsxs("div",{className:`w-[96vw] desk:w-[920px] rounded-2xl shadow-2xl overflow-hidden flex flex-col
                          bg-white dark:bg-neutral-950
                          text-neutral-900 dark:text-neutral-100
                          border border-neutral-200 dark:border-neutral-800`,children:[g.jsxs("div",{className:"flex items-center justify-between px-4 py-3 border-b border-neutral-200 dark:border-neutral-800",children:[g.jsx("div",{id:"mapModalTitle",className:"font-bold",children:" "}),g.jsx("button",{id:"mapCloseBtn","aria-label":"",className:"text-xl hover:opacity-70 cursor-pointer",onClick:()=>i.setOpen(!1),children:""})]}),g.jsxs("div",{className:"relative grid gap-2 px-3 py-3 border-t border-neutral-200 dark:border-neutral-800",children:[g.jsx("label",{htmlFor:"searchBox",className:"text-xs text-neutral-500 dark:text-neutral-400",children:"/ "}),g.jsxs("div",{className:"relative",children:[g.jsx("input",{id:"searchBox",placeholder:":  / seoul / / tokyo",className:`h-10 w-full rounded-lg border px-3 outline-none
                             bg-white dark:bg-neutral-900
                             border-neutral-300 dark:border-neutral-700
                             placeholder-neutral-400 dark:placeholder-neutral-500
                             text-neutral-900 dark:text-neutral-100
                             focus:border-neutral-400 dark:focus:border-neutral-600`,autoComplete:"off"}),g.jsx("ul",{id:"suggestions",role:"listbox","aria-label":" ",className:`absolute left-0 right-0 mt-1 max-h-60 overflow-y-auto rounded-lg border shadow-xl z-[1005]
                             bg-white dark:bg-neutral-900
                             border-neutral-200 dark:border-neutral-700
                             text-neutral-900 dark:text-neutral-100
                             divide-y divide-neutral-200 dark:divide-neutral-800`})]})]}),g.jsx("div",{className:"relative h-[250px] desk:h-[360px] border-y border-neutral-200 dark:border-neutral-800",children:g.jsx("div",{id:"map",className:"h-full w-full"})}),g.jsxs("div",{className:"gap-2 p-3",children:[g.jsxs("div",{id:"footerHint",className:"pr-2 text-xs text-neutral-600 dark:text-neutral-300 flex-1",children:[g.jsxs("p",{className:"flex mb-1",children:[g.jsx("span",{className:"mr-1",children:"*"}),g.jsx("span",{children:"   ."})]}),g.jsxs("p",{className:"flex",children:[g.jsx("span",{className:"mr-1",children:"*"}),g.jsx("span",{children:"       ."})]})]}),g.jsx("button",{id:"closeMap",style:{display:"none"},"aria-hidden":"true",tabIndex:-1})]})]})})]})}function yr(e){return`Minified Redux error #${e}; visit https://redux.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var aJ=typeof Symbol=="function"&&Symbol.observable||"@@observable",mD=aJ,w1=()=>Math.random().toString(36).substring(7).split("").join("."),oJ={INIT:`@@redux/INIT${w1()}`,REPLACE:`@@redux/REPLACE${w1()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${w1()}`},Ey=oJ;function Ej(e){if(typeof e!="object"||e===null)return!1;let t=e;for(;Object.getPrototypeOf(t)!==null;)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t||Object.getPrototypeOf(e)===null}function jj(e,t,n){if(typeof e!="function")throw new Error(yr(2));if(typeof t=="function"&&typeof n=="function"||typeof n=="function"&&typeof arguments[3]=="function")throw new Error(yr(0));if(typeof t=="function"&&typeof n>"u"&&(n=t,t=void 0),typeof n<"u"){if(typeof n!="function")throw new Error(yr(1));return n(jj)(e,t)}let r=e,i=t,a=new Map,o=a,l=0,u=!1;function d(){o===a&&(o=new Map,a.forEach((_,j)=>{o.set(j,_)}))}function h(){if(u)throw new Error(yr(3));return i}function m(_){if(typeof _!="function")throw new Error(yr(4));if(u)throw new Error(yr(5));let j=!0;d();const O=l++;return o.set(O,_),function(){if(j){if(u)throw new Error(yr(6));j=!1,d(),o.delete(O),a=null}}}function b(_){if(!Ej(_))throw new Error(yr(7));if(typeof _.type>"u")throw new Error(yr(8));if(typeof _.type!="string")throw new Error(yr(17));if(u)throw new Error(yr(9));try{u=!0,i=r(i,_)}finally{u=!1}return(a=o).forEach(O=>{O()}),_}function y(_){if(typeof _!="function")throw new Error(yr(10));r=_,b({type:Ey.REPLACE})}function k(){const _=m;return{subscribe(j){if(typeof j!="object"||j===null)throw new Error(yr(11));function O(){const C=j;C.next&&C.next(h())}return O(),{unsubscribe:_(O)}},[mD](){return this}}}return b({type:Ey.INIT}),{dispatch:b,subscribe:m,getState:h,replaceReducer:y,[mD]:k}}function sJ(e){Object.keys(e).forEach(t=>{const n=e[t];if(typeof n(void 0,{type:Ey.INIT})>"u")throw new Error(yr(12));if(typeof n(void 0,{type:Ey.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(yr(13))})}function k4(e){const t=Object.keys(e),n={};for(let a=0;a<t.length;a++){const o=t[a];typeof e[o]=="function"&&(n[o]=e[o])}const r=Object.keys(n);let i;try{sJ(n)}catch(a){i=a}return function(o={},l){if(i)throw i;let u=!1;const d={};for(let h=0;h<r.length;h++){const m=r[h],b=n[m],y=o[m],k=b(y,l);if(typeof k>"u")throw l&&l.type,new Error(yr(14));d[m]=k,u=u||k!==y}return u=u||r.length!==Object.keys(o).length,u?d:o}}function pD(e,t){return function(...n){return t(e.apply(this,n))}}function gD(e,t){if(typeof e=="function")return pD(e,t);if(typeof e!="object"||e===null)throw new Error(yr(16));const n={};for(const r in e){const i=e[r];typeof i=="function"&&(n[r]=pD(i,t))}return n}function Wm(...e){return e.length===0?t=>t:e.length===1?e[0]:e.reduce((t,n)=>(...r)=>t(n(...r)))}function E4(...e){return t=>(n,r)=>{const i=t(n,r);let a=()=>{throw new Error(yr(15))};const o={getState:i.getState,dispatch:(u,...d)=>a(u,...d)},l=e.map(u=>u(o));return a=Wm(...l)(i.dispatch),{...i,dispatch:a}}}function j4(e){return Ej(e)&&"type"in e&&typeof e.type=="string"}var _1={exports:{}},S1={};/**
 * @license React
 * use-sync-external-store-with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var bD;function lJ(){if(bD)return S1;bD=1;var e=Ef();function t(u,d){return u===d&&(u!==0||1/u===1/d)||u!==u&&d!==d}var n=typeof Object.is=="function"?Object.is:t,r=e.useSyncExternalStore,i=e.useRef,a=e.useEffect,o=e.useMemo,l=e.useDebugValue;return S1.useSyncExternalStoreWithSelector=function(u,d,h,m,b){var y=i(null);if(y.current===null){var k={hasValue:!1,value:null};y.current=k}else k=y.current;y=o(function(){function _(M){if(!j){if(j=!0,O=M,M=m(M),b!==void 0&&k.hasValue){var P=k.value;if(b(P,M))return T=P}return T=M}if(P=T,n(O,M))return P;var I=m(M);return b!==void 0&&b(P,I)?(O=M,P):(O=M,T=I)}var j=!1,O,T,C=h===void 0?null:h;return[function(){return _(d())},C===null?void 0:function(){return _(C())}]},[d,h,m,b]);var w=r(u,y[0],y[1]);return a(function(){k.hasValue=!0,k.value=w},[w]),l(w),w},S1}var yD;function cJ(){return yD||(yD=1,_1.exports=lJ()),_1.exports}cJ();var uJ=S.version.startsWith("19"),dJ=Symbol.for(uJ?"react.transitional.element":"react.element"),fJ=Symbol.for("react.portal"),hJ=Symbol.for("react.fragment"),mJ=Symbol.for("react.strict_mode"),pJ=Symbol.for("react.profiler"),gJ=Symbol.for("react.consumer"),bJ=Symbol.for("react.context"),T4=Symbol.for("react.forward_ref"),yJ=Symbol.for("react.suspense"),vJ=Symbol.for("react.suspense_list"),Tj=Symbol.for("react.memo"),xJ=Symbol.for("react.lazy"),wJ=T4,_J=Tj;function SJ(e){if(typeof e=="object"&&e!==null){const{$$typeof:t}=e;switch(t){case dJ:switch(e=e.type,e){case hJ:case pJ:case mJ:case yJ:case vJ:return e;default:switch(e=e&&e.$$typeof,e){case bJ:case T4:case xJ:case Tj:return e;case gJ:return e;default:return t}}case fJ:return t}}}function kJ(e){return SJ(e)===Tj}function EJ(e,t,n,r,{areStatesEqual:i,areOwnPropsEqual:a,areStatePropsEqual:o}){let l=!1,u,d,h,m,b;function y(O,T){return u=O,d=T,h=e(u,d),m=t(r,d),b=n(h,m,d),l=!0,b}function k(){return h=e(u,d),t.dependsOnOwnProps&&(m=t(r,d)),b=n(h,m,d),b}function w(){return e.dependsOnOwnProps&&(h=e(u,d)),t.dependsOnOwnProps&&(m=t(r,d)),b=n(h,m,d),b}function _(){const O=e(u,d),T=!o(O,h);return h=O,T&&(b=n(h,m,d)),b}function j(O,T){const C=!a(T,d),M=!i(O,u,T,d);return u=O,d=T,C&&M?k():C?w():M?_():b}return function(T,C){return l?j(T,C):y(T,C)}}function jJ(e,{initMapStateToProps:t,initMapDispatchToProps:n,initMergeProps:r,...i}){const a=t(e,i),o=n(e,i),l=r(e,i);return EJ(a,o,l,e,i)}function TJ(e,t){const n={};for(const r in e){const i=e[r];typeof i=="function"&&(n[r]=(...a)=>t(i(...a)))}return n}function yE(e){return function(n){const r=e(n);function i(){return r}return i.dependsOnOwnProps=!1,i}}function vD(e){return e.dependsOnOwnProps?!!e.dependsOnOwnProps:e.length!==1}function A4(e,t){return function(r,{displayName:i}){const a=function(l,u){return a.dependsOnOwnProps?a.mapToProps(l,u):a.mapToProps(l,void 0)};return a.dependsOnOwnProps=!0,a.mapToProps=function(l,u){a.mapToProps=e,a.dependsOnOwnProps=vD(e);let d=a(l,u);return typeof d=="function"&&(a.mapToProps=d,a.dependsOnOwnProps=vD(d),d=a(l,u)),d},a}}function Aj(e,t){return(n,r)=>{throw new Error(`Invalid value of type ${typeof e} for ${t} argument when connecting component ${r.wrappedComponentName}.`)}}function AJ(e){return e&&typeof e=="object"?yE(t=>TJ(e,t)):e?typeof e=="function"?A4(e):Aj(e,"mapDispatchToProps"):yE(t=>({dispatch:t}))}function NJ(e){return e?typeof e=="function"?A4(e):Aj(e,"mapStateToProps"):yE(()=>({}))}function OJ(e,t,n){return{...n,...e,...t}}function CJ(e){return function(n,{displayName:r,areMergedPropsEqual:i}){let a=!1,o;return function(u,d,h){const m=e(u,d,h);return a?i(m,o)||(o=m):(a=!0,o=m),o}}}function MJ(e){return e?typeof e=="function"?CJ(e):Aj(e,"mergeProps"):()=>OJ}function DJ(e){e()}function PJ(){let e=null,t=null;return{clear(){e=null,t=null},notify(){DJ(()=>{let n=e;for(;n;)n.callback(),n=n.next})},get(){const n=[];let r=e;for(;r;)n.push(r),r=r.next;return n},subscribe(n){let r=!0;const i=t={callback:n,next:null,prev:t};return i.prev?i.prev.next=i:e=i,function(){!r||e===null||(r=!1,i.next?i.next.prev=i.prev:t=i.prev,i.prev?i.prev.next=i.next:e=i.next)}}}}var xD={notify(){},get:()=>[]};function N4(e,t){let n,r=xD,i=0,a=!1;function o(w){h();const _=r.subscribe(w);let j=!1;return()=>{j||(j=!0,_(),m())}}function l(){r.notify()}function u(){k.onStateChange&&k.onStateChange()}function d(){return a}function h(){i++,n||(n=t?t.addNestedSub(u):e.subscribe(u),r=PJ())}function m(){i--,n&&i===0&&(n(),n=void 0,r.clear(),r=xD)}function b(){a||(a=!0,h())}function y(){a&&(a=!1,m())}const k={addNestedSub:o,notifyNestedSubs:l,handleChangeWrapper:u,isSubscribed:d,trySubscribe:b,tryUnsubscribe:y,getListeners:()=>r};return k}var RJ=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",LJ=RJ(),IJ=()=>typeof navigator<"u"&&navigator.product==="ReactNative",$J=IJ(),BJ=()=>LJ||$J?S.useLayoutEffect:S.useEffect,jy=BJ();function wD(e,t){return e===t?e!==0||t!==0||1/e===1/t:e!==e&&t!==t}function ey(e,t){if(wD(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;const n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(!Object.prototype.hasOwnProperty.call(t,n[i])||!wD(e[n[i]],t[n[i]]))return!1;return!0}var zJ={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},UJ={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},FJ={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},O4={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},HJ={[wJ]:FJ,[_J]:O4};function _D(e){return kJ(e)?O4:HJ[e.$$typeof]||zJ}var GJ=Object.defineProperty,YJ=Object.getOwnPropertyNames,SD=Object.getOwnPropertySymbols,qJ=Object.getOwnPropertyDescriptor,KJ=Object.getPrototypeOf,kD=Object.prototype;function vE(e,t){if(typeof t!="string"){if(kD){const a=KJ(t);a&&a!==kD&&vE(e,a)}let n=YJ(t);SD&&(n=n.concat(SD(t)));const r=_D(e),i=_D(t);for(let a=0;a<n.length;++a){const o=n[a];if(!UJ[o]&&!(i&&i[o])&&!(r&&r[o])){const l=qJ(t,o);try{GJ(e,o,l)}catch{}}}}return e}var WJ=Symbol.for("react-redux-context"),VJ=typeof globalThis<"u"?globalThis:{};function ZJ(){if(!S.createContext)return{};const e=VJ[WJ]??=new Map;let t=e.get(S.createContext);return t||(t=S.createContext(null),e.set(S.createContext,t)),t}var C4=ZJ(),XJ=[null,null];function JJ(e,t,n){jy(()=>e(...t),n)}function QJ(e,t,n,r,i,a){e.current=r,n.current=!1,i.current&&(i.current=null,a())}function eQ(e,t,n,r,i,a,o,l,u,d,h){if(!e)return()=>{};let m=!1,b=null;const y=()=>{if(m||!l.current)return;const w=t.getState();let _,j;try{_=r(w,i.current)}catch(O){j=O,b=O}j||(b=null),_===a.current?o.current||d():(a.current=_,u.current=_,o.current=!0,h())};return n.onStateChange=y,n.trySubscribe(),y(),()=>{if(m=!0,n.tryUnsubscribe(),n.onStateChange=null,b)throw b}}function tQ(e,t){return e===t}function nQ(e,t,n,{pure:r,areStatesEqual:i=tQ,areOwnPropsEqual:a=ey,areStatePropsEqual:o=ey,areMergedPropsEqual:l=ey,forwardRef:u=!1,context:d=C4}={}){const h=d,m=NJ(e),b=AJ(t),y=MJ(n),k=!!e;return _=>{const j=_.displayName||_.name||"Component",O=`Connect(${j})`,T={shouldHandleStateChanges:k,displayName:O,wrappedComponentName:j,WrappedComponent:_,initMapStateToProps:m,initMapDispatchToProps:b,initMergeProps:y,areStatesEqual:i,areStatePropsEqual:o,areOwnPropsEqual:a,areMergedPropsEqual:l};function C(I){const[z,K,G]=S.useMemo(()=>{const{reactReduxForwardedRef:ue,...Ee}=I;return[I.context,ue,Ee]},[I]),F=S.useMemo(()=>{let ue=h;return z?.Consumer,ue},[z,h]),B=S.useContext(F),q=!!I.store&&!!I.store.getState&&!!I.store.dispatch,X=!!B&&!!B.store,Z=q?I.store:B.store,Y=X?B.getServerState:Z.getState,V=S.useMemo(()=>jJ(Z.dispatch,T),[Z]),[Q,se]=S.useMemo(()=>{if(!k)return XJ;const ue=N4(Z,q?void 0:B.subscription),Ee=ue.notifyNestedSubs.bind(ue);return[ue,Ee]},[Z,q,B]),ce=S.useMemo(()=>q?B:{...B,subscription:Q},[q,B,Q]),W=S.useRef(void 0),ne=S.useRef(G),ie=S.useRef(void 0),he=S.useRef(!1),J=S.useRef(!1),ae=S.useRef(void 0);jy(()=>(J.current=!0,()=>{J.current=!1}),[]);const pe=S.useMemo(()=>()=>ie.current&&G===ne.current?ie.current:V(Z.getState(),G),[Z,G]),me=S.useMemo(()=>Ee=>Q?eQ(k,Z,Q,V,ne,W,he,J,ie,se,Ee):()=>{},[Q]);JJ(QJ,[ne,W,he,G,ie,se]);let ee;try{ee=S.useSyncExternalStore(me,pe,Y?()=>V(Y(),G):pe)}catch(ue){throw ae.current&&(ue.message+=`
The error may be correlated with this previous error:
${ae.current.stack}

`),ue}jy(()=>{ae.current=void 0,ie.current=void 0,W.current=ee});const je=S.useMemo(()=>S.createElement(_,{...ee,ref:K}),[K,_,ee]);return S.useMemo(()=>k?S.createElement(F.Provider,{value:ce},je):je,[F,je,ce])}const P=S.memo(C);if(P.WrappedComponent=_,P.displayName=C.displayName=O,u){const z=S.forwardRef(function(G,F){return S.createElement(P,{...G,reactReduxForwardedRef:F})});return z.displayName=O,z.WrappedComponent=_,vE(z,_)}return vE(P,_)}}var M4=nQ;function rQ(e){const{children:t,context:n,serverState:r,store:i}=e,a=S.useMemo(()=>{const u=N4(i);return{store:i,subscription:u,getServerState:r?()=>r:void 0}},[i,r]),o=S.useMemo(()=>i.getState(),[i]);jy(()=>{const{subscription:u}=a;return u.onStateChange=u.notifyNestedSubs,u.trySubscribe(),o!==i.getState()&&u.notifyNestedSubs(),()=>{u.tryUnsubscribe(),u.onStateChange=void 0}},[a,o]);const l=n||C4;return S.createElement(l.Provider,{value:a},t)}var D4=rQ,iQ="Invariant failed";function aQ(e,t){throw new Error(iQ)}var no=function(t){var n=t.top,r=t.right,i=t.bottom,a=t.left,o=r-a,l=i-n,u={top:n,right:r,bottom:i,left:a,width:o,height:l,x:a,y:n,center:{x:(r+a)/2,y:(i+n)/2}};return u},Nj=function(t,n){return{top:t.top-n.top,left:t.left-n.left,bottom:t.bottom+n.bottom,right:t.right+n.right}},ED=function(t,n){return{top:t.top+n.top,left:t.left+n.left,bottom:t.bottom-n.bottom,right:t.right-n.right}},oQ=function(t,n){return{top:t.top+n.y,left:t.left+n.x,bottom:t.bottom+n.y,right:t.right+n.x}},k1={top:0,right:0,bottom:0,left:0},Oj=function(t){var n=t.borderBox,r=t.margin,i=r===void 0?k1:r,a=t.border,o=a===void 0?k1:a,l=t.padding,u=l===void 0?k1:l,d=no(Nj(n,i)),h=no(ED(n,o)),m=no(ED(h,u));return{marginBox:d,borderBox:no(n),paddingBox:h,contentBox:m,margin:i,border:o,padding:u}},ha=function(t){var n=t.slice(0,-2),r=t.slice(-2);if(r!=="px")return 0;var i=Number(n);return isNaN(i)&&aQ(),i},sQ=function(){return{x:window.pageXOffset,y:window.pageYOffset}},Ty=function(t,n){var r=t.borderBox,i=t.border,a=t.margin,o=t.padding,l=oQ(r,n);return Oj({borderBox:l,border:i,margin:a,padding:o})},Ay=function(t,n){return n===void 0&&(n=sQ()),Ty(t,n)},P4=function(t,n){var r={top:ha(n.marginTop),right:ha(n.marginRight),bottom:ha(n.marginBottom),left:ha(n.marginLeft)},i={top:ha(n.paddingTop),right:ha(n.paddingRight),bottom:ha(n.paddingBottom),left:ha(n.paddingLeft)},a={top:ha(n.borderTopWidth),right:ha(n.borderRightWidth),bottom:ha(n.borderBottomWidth),left:ha(n.borderLeftWidth)};return Oj({borderBox:t,margin:r,padding:i,border:a})},R4=function(t){var n=t.getBoundingClientRect(),r=window.getComputedStyle(t);return P4(n,r)},Vm=function(t){var n=[],r=null,i=function(){for(var o=arguments.length,l=new Array(o),u=0;u<o;u++)l[u]=arguments[u];n=l,!r&&(r=requestAnimationFrame(function(){r=null,t.apply(void 0,n)}))};return i.cancel=function(){r&&(cancelAnimationFrame(r),r=null)},i};function Ny(){return Ny=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ny.apply(null,arguments)}function L4(e,t){}L4.bind(null,"warn");L4.bind(null,"error");function Xl(){}function lQ(e,t){return{...e,...t}}function xa(e,t,n){const r=t.map(i=>{const a=lQ(n,i.options);return e.addEventListener(i.eventName,i.fn,a),function(){e.removeEventListener(i.eventName,i.fn,a)}});return function(){r.forEach(a=>{a()})}}const cQ="Invariant failed";class Oy extends Error{}Oy.prototype.toString=function(){return this.message};function $e(e,t){throw new Oy(cQ)}class uQ extends on.Component{constructor(...t){super(...t),this.callbacks=null,this.unbind=Xl,this.onWindowError=n=>{const r=this.getCallbacks();r.isDragging()&&r.tryAbort(),n.error instanceof Oy&&n.preventDefault()},this.getCallbacks=()=>{if(!this.callbacks)throw new Error("Unable to find AppCallbacks in <ErrorBoundary/>");return this.callbacks},this.setCallbacks=n=>{this.callbacks=n}}componentDidMount(){this.unbind=xa(window,[{eventName:"error",fn:this.onWindowError}])}componentDidCatch(t){if(t instanceof Oy){this.setState({});return}throw t}componentWillUnmount(){this.unbind()}render(){return this.props.children(this.setCallbacks)}}const dQ=`
  Press space bar to start a drag.
  When dragging you can use the arrow keys to move the item around and escape to cancel.
  Some screen readers may require you to be in focus mode or to use your pass through key
`,Cy=e=>e+1,fQ=e=>`
  You have lifted an item in position ${Cy(e.source.index)}
`,I4=(e,t)=>{const n=e.droppableId===t.droppableId,r=Cy(e.index),i=Cy(t.index);return n?`
      You have moved the item from position ${r}
      to position ${i}
    `:`
    You have moved the item from position ${r}
    in list ${e.droppableId}
    to list ${t.droppableId}
    in position ${i}
  `},$4=(e,t,n)=>t.droppableId===n.droppableId?`
      The item ${e}
      has been combined with ${n.draggableId}`:`
      The item ${e}
      in list ${t.droppableId}
      has been combined with ${n.draggableId}
      in list ${n.droppableId}
    `,hQ=e=>{const t=e.destination;if(t)return I4(e.source,t);const n=e.combine;return n?$4(e.draggableId,e.source,n):"You are over an area that cannot be dropped on"},jD=e=>`
  The item has returned to its starting position
  of ${Cy(e.index)}
`,mQ=e=>{if(e.reason==="CANCEL")return`
      Movement cancelled.
      ${jD(e.source)}
    `;const t=e.destination,n=e.combine;return t?`
      You have dropped the item.
      ${I4(e.source,t)}
    `:n?`
      You have dropped the item.
      ${$4(e.draggableId,e.source,n)}
    `:`
    The item has been dropped while not over a drop area.
    ${jD(e.source)}
  `},ty={dragHandleUsageInstructions:dQ,onDragStart:fQ,onDragUpdate:hQ,onDragEnd:mQ};function pQ(e,t){return!!(e===t||Number.isNaN(e)&&Number.isNaN(t))}function B4(e,t){if(e.length!==t.length)return!1;for(let n=0;n<e.length;n++)if(!pQ(e[n],t[n]))return!1;return!0}function Ct(e,t){const n=S.useState(()=>({inputs:t,result:e()}))[0],r=S.useRef(!0),i=S.useRef(n),o=r.current||!!(t&&i.current.inputs&&B4(t,i.current.inputs))?i.current:{inputs:t,result:e()};return S.useEffect(()=>{r.current=!1,i.current=o},[o]),o.result}function et(e,t){return Ct(()=>e,t)}const _r={x:0,y:0},Dr=(e,t)=>({x:e.x+t.x,y:e.y+t.y}),Ki=(e,t)=>({x:e.x-t.x,y:e.y-t.y}),Jl=(e,t)=>e.x===t.x&&e.y===t.y,Cf=e=>({x:e.x!==0?-e.x:0,y:e.y!==0?-e.y:0}),Au=(e,t,n=0)=>e==="x"?{x:t,y:n}:{x:n,y:t},Zm=(e,t)=>Math.sqrt((t.x-e.x)**2+(t.y-e.y)**2),TD=(e,t)=>Math.min(...t.map(n=>Zm(e,n))),z4=e=>t=>({x:e(t.x),y:e(t.y)});var gQ=(e,t)=>{const n=no({top:Math.max(t.top,e.top),right:Math.min(t.right,e.right),bottom:Math.min(t.bottom,e.bottom),left:Math.max(t.left,e.left)});return n.width<=0||n.height<=0?null:n};const Dp=(e,t)=>({top:e.top+t.y,left:e.left+t.x,bottom:e.bottom+t.y,right:e.right+t.x}),AD=e=>[{x:e.left,y:e.top},{x:e.right,y:e.top},{x:e.left,y:e.bottom},{x:e.right,y:e.bottom}],bQ={top:0,right:0,bottom:0,left:0},yQ=(e,t)=>t?Dp(e,t.scroll.diff.displacement):e,vQ=(e,t,n)=>n&&n.increasedBy?{...e,[t.end]:e[t.end]+n.increasedBy[t.line]}:e,xQ=(e,t)=>t&&t.shouldClipSubject?gQ(t.pageMarginBox,e):no(e);var ff=({page:e,withPlaceholder:t,axis:n,frame:r})=>{const i=yQ(e.marginBox,r),a=vQ(i,n,t),o=xQ(a,r);return{page:e,withPlaceholder:t,active:o}},Cj=(e,t)=>{e.frame||$e();const n=e.frame,r=Ki(t,n.scroll.initial),i=Cf(r),a={...n,scroll:{initial:n.scroll.initial,current:t,diff:{value:r,displacement:i},max:n.scroll.max}},o=ff({page:e.subject.page,withPlaceholder:e.subject.withPlaceholder,axis:e.axis,frame:a});return{...e,frame:a,subject:o}};function wr(e,t=B4){let n=null;function r(...i){if(n&&n.lastThis===this&&t(i,n.lastArgs))return n.lastResult;const a=e.apply(this,i);return n={lastResult:a,lastArgs:i,lastThis:this},a}return r.clear=function(){n=null},r}const U4=wr(e=>e.reduce((t,n)=>(t[n.descriptor.id]=n,t),{})),F4=wr(e=>e.reduce((t,n)=>(t[n.descriptor.id]=n,t),{})),ox=wr(e=>Object.values(e)),wQ=wr(e=>Object.values(e));var Mf=wr((e,t)=>wQ(t).filter(r=>e===r.descriptor.droppableId).sort((r,i)=>r.descriptor.index-i.descriptor.index));function Mj(e){return e.at&&e.at.type==="REORDER"?e.at.destination:null}function sx(e){return e.at&&e.at.type==="COMBINE"?e.at.combine:null}var lx=wr((e,t)=>t.filter(n=>n.descriptor.id!==e.descriptor.id)),_Q=({isMovingForward:e,draggable:t,destination:n,insideDestination:r,previousImpact:i})=>{if(!n.isCombineEnabled||!Mj(i))return null;function o(y){const k={type:"COMBINE",combine:{draggableId:y,droppableId:n.descriptor.id}};return{...i,at:k}}const l=i.displaced.all,u=l.length?l[0]:null;if(e)return u?o(u):null;const d=lx(t,r);if(!u){if(!d.length)return null;const y=d[d.length-1];return o(y.descriptor.id)}const h=d.findIndex(y=>y.descriptor.id===u);h===-1&&$e();const m=h-1;if(m<0)return null;const b=d[m];return o(b.descriptor.id)},Df=(e,t)=>e.descriptor.droppableId===t.descriptor.id;const H4={point:_r,value:0},Xm={invisible:{},visible:{},all:[]},SQ={displaced:Xm,displacedBy:H4,at:null};var Ea=(e,t)=>n=>e<=n&&n<=t,G4=e=>{const t=Ea(e.top,e.bottom),n=Ea(e.left,e.right);return r=>{if(t(r.top)&&t(r.bottom)&&n(r.left)&&n(r.right))return!0;const a=t(r.top)||t(r.bottom),o=n(r.left)||n(r.right);if(a&&o)return!0;const u=r.top<e.top&&r.bottom>e.bottom,d=r.left<e.left&&r.right>e.right;return u&&d?!0:u&&o||d&&a}},kQ=e=>{const t=Ea(e.top,e.bottom),n=Ea(e.left,e.right);return r=>t(r.top)&&t(r.bottom)&&n(r.left)&&n(r.right)};const Dj={direction:"vertical",line:"y",crossAxisLine:"x",start:"top",end:"bottom",size:"height",crossAxisStart:"left",crossAxisEnd:"right",crossAxisSize:"width"},Y4={direction:"horizontal",line:"x",crossAxisLine:"y",start:"left",end:"right",size:"width",crossAxisStart:"top",crossAxisEnd:"bottom",crossAxisSize:"height"};var EQ=e=>t=>{const n=Ea(t.top,t.bottom),r=Ea(t.left,t.right);return i=>e===Dj?n(i.top)&&n(i.bottom):r(i.left)&&r(i.right)};const jQ=(e,t)=>{const n=t.frame?t.frame.scroll.diff.displacement:_r;return Dp(e,n)},TQ=(e,t,n)=>t.subject.active?n(t.subject.active)(e):!1,AQ=(e,t,n)=>n(t)(e),Pj=({target:e,destination:t,viewport:n,withDroppableDisplacement:r,isVisibleThroughFrameFn:i})=>{const a=r?jQ(e,t):e;return TQ(a,t,i)&&AQ(a,n,i)},NQ=e=>Pj({...e,isVisibleThroughFrameFn:G4}),q4=e=>Pj({...e,isVisibleThroughFrameFn:kQ}),OQ=e=>Pj({...e,isVisibleThroughFrameFn:EQ(e.destination.axis)}),CQ=(e,t,n)=>{if(typeof n=="boolean")return n;if(!t)return!0;const{invisible:r,visible:i}=t;if(r[e])return!1;const a=i[e];return a?a.shouldAnimate:!0};function MQ(e,t){const n=e.page.marginBox,r={top:t.point.y,right:0,bottom:0,left:t.point.x};return no(Nj(n,r))}function Jm({afterDragging:e,destination:t,displacedBy:n,viewport:r,forceShouldAnimate:i,last:a}){return e.reduce(function(l,u){const d=MQ(u,n),h=u.descriptor.id;if(l.all.push(h),!NQ({target:d,destination:t,viewport:r,withDroppableDisplacement:!0}))return l.invisible[u.descriptor.id]=!0,l;const b=CQ(h,a,i),y={draggableId:h,shouldAnimate:b};return l.visible[h]=y,l},{all:[],visible:{},invisible:{}})}function DQ(e,t){if(!e.length)return 0;const n=e[e.length-1].descriptor.index;return t.inHomeList?n:n+1}function ND({insideDestination:e,inHomeList:t,displacedBy:n,destination:r}){const i=DQ(e,{inHomeList:t});return{displaced:Xm,displacedBy:n,at:{type:"REORDER",destination:{droppableId:r.descriptor.id,index:i}}}}function My({draggable:e,insideDestination:t,destination:n,viewport:r,displacedBy:i,last:a,index:o,forceShouldAnimate:l}){const u=Df(e,n);if(o==null)return ND({insideDestination:t,inHomeList:u,displacedBy:i,destination:n});const d=t.find(k=>k.descriptor.index===o);if(!d)return ND({insideDestination:t,inHomeList:u,displacedBy:i,destination:n});const h=lx(e,t),m=t.indexOf(d),b=h.slice(m);return{displaced:Jm({afterDragging:b,destination:n,displacedBy:i,last:a,viewport:r.frame,forceShouldAnimate:l}),displacedBy:i,at:{type:"REORDER",destination:{droppableId:n.descriptor.id,index:o}}}}function nc(e,t){return!!t.effected[e]}var PQ=({isMovingForward:e,destination:t,draggables:n,combine:r,afterCritical:i})=>{if(!t.isCombineEnabled)return null;const a=r.draggableId,l=n[a].descriptor.index;return nc(a,i)?e?l:l-1:e?l+1:l},RQ=({isMovingForward:e,isInHomeList:t,insideDestination:n,location:r})=>{if(!n.length)return null;const i=r.index,a=e?i+1:i-1,o=n[0].descriptor.index,l=n[n.length-1].descriptor.index,u=t?l:l+1;return a<o||a>u?null:a},LQ=({isMovingForward:e,isInHomeList:t,draggable:n,draggables:r,destination:i,insideDestination:a,previousImpact:o,viewport:l,afterCritical:u})=>{const d=o.at;if(d||$e(),d.type==="REORDER"){const m=RQ({isMovingForward:e,isInHomeList:t,location:d.destination,insideDestination:a});return m==null?null:My({draggable:n,insideDestination:a,destination:i,viewport:l,last:o.displaced,displacedBy:o.displacedBy,index:m})}const h=PQ({isMovingForward:e,destination:i,displaced:o.displaced,draggables:r,combine:d.combine,afterCritical:u});return h==null?null:My({draggable:n,insideDestination:a,destination:i,viewport:l,last:o.displaced,displacedBy:o.displacedBy,index:h})},IQ=({displaced:e,afterCritical:t,combineWith:n,displacedBy:r})=>{const i=!!(e.visible[n]||e.invisible[n]);return nc(n,t)?i?_r:Cf(r.point):i?r.point:_r},$Q=({afterCritical:e,impact:t,draggables:n})=>{const r=sx(t);r||$e();const i=r.draggableId,a=n[i].page.borderBox.center,o=IQ({displaced:t.displaced,afterCritical:e,combineWith:i,displacedBy:t.displacedBy});return Dr(a,o)};const K4=(e,t)=>t.margin[e.start]+t.borderBox[e.size]/2,BQ=(e,t)=>t.margin[e.end]+t.borderBox[e.size]/2,Rj=(e,t,n)=>t[e.crossAxisStart]+n.margin[e.crossAxisStart]+n.borderBox[e.crossAxisSize]/2,OD=({axis:e,moveRelativeTo:t,isMoving:n})=>Au(e.line,t.marginBox[e.end]+K4(e,n),Rj(e,t.marginBox,n)),CD=({axis:e,moveRelativeTo:t,isMoving:n})=>Au(e.line,t.marginBox[e.start]-BQ(e,n),Rj(e,t.marginBox,n)),zQ=({axis:e,moveInto:t,isMoving:n})=>Au(e.line,t.contentBox[e.start]+K4(e,n),Rj(e,t.contentBox,n));var UQ=({impact:e,draggable:t,draggables:n,droppable:r,afterCritical:i})=>{const a=Mf(r.descriptor.id,n),o=t.page,l=r.axis;if(!a.length)return zQ({axis:l,moveInto:r.page,isMoving:o});const{displaced:u,displacedBy:d}=e,h=u.all[0];if(h){const b=n[h];if(nc(h,i))return CD({axis:l,moveRelativeTo:b.page,isMoving:o});const y=Ty(b.page,d.point);return CD({axis:l,moveRelativeTo:y,isMoving:o})}const m=a[a.length-1];if(m.descriptor.id===t.descriptor.id)return o.borderBox.center;if(nc(m.descriptor.id,i)){const b=Ty(m.page,Cf(i.displacedBy.point));return OD({axis:l,moveRelativeTo:b,isMoving:o})}return OD({axis:l,moveRelativeTo:m.page,isMoving:o})},xE=(e,t)=>{const n=e.frame;return n?Dr(t,n.scroll.diff.displacement):t};const FQ=({impact:e,draggable:t,droppable:n,draggables:r,afterCritical:i})=>{const a=t.page.borderBox.center,o=e.at;return!n||!o?a:o.type==="REORDER"?UQ({impact:e,draggable:t,draggables:r,droppable:n,afterCritical:i}):$Q({impact:e,draggables:r,afterCritical:i})};var cx=e=>{const t=FQ(e),n=e.droppable;return n?xE(n,t):t},W4=(e,t)=>{const n=Ki(t,e.scroll.initial),r=Cf(n);return{frame:no({top:t.y,bottom:t.y+e.frame.height,left:t.x,right:t.x+e.frame.width}),scroll:{initial:e.scroll.initial,max:e.scroll.max,current:t,diff:{value:n,displacement:r}}}};function MD(e,t){return e.map(n=>t[n])}function HQ(e,t){for(let n=0;n<t.length;n++){const r=t[n].visible[e];if(r)return r}return null}var GQ=({impact:e,viewport:t,destination:n,draggables:r,maxScrollChange:i})=>{const a=W4(t,Dr(t.scroll.current,i)),o=n.frame?Cj(n,Dr(n.frame.scroll.current,i)):n,l=e.displaced,u=Jm({afterDragging:MD(l.all,r),destination:n,displacedBy:e.displacedBy,viewport:a.frame,last:l,forceShouldAnimate:!1}),d=Jm({afterDragging:MD(l.all,r),destination:o,displacedBy:e.displacedBy,viewport:t.frame,last:l,forceShouldAnimate:!1}),h={},m={},b=[l,u,d];return l.all.forEach(k=>{const w=HQ(k,b);if(w){m[k]=w;return}h[k]=!0}),{...e,displaced:{all:l.all,invisible:h,visible:m}}},YQ=(e,t)=>Dr(e.scroll.diff.displacement,t),Lj=({pageBorderBoxCenter:e,draggable:t,viewport:n})=>{const r=YQ(n,e),i=Ki(r,t.page.borderBox.center);return Dr(t.client.borderBox.center,i)},V4=({draggable:e,destination:t,newPageBorderBoxCenter:n,viewport:r,withDroppableDisplacement:i,onlyOnMainAxis:a=!1})=>{const o=Ki(n,e.page.borderBox.center),u={target:Dp(e.page.borderBox,o),destination:t,withDroppableDisplacement:i,viewport:r};return a?OQ(u):q4(u)},qQ=({isMovingForward:e,draggable:t,destination:n,draggables:r,previousImpact:i,viewport:a,previousPageBorderBoxCenter:o,previousClientSelection:l,afterCritical:u})=>{if(!n.isEnabled)return null;const d=Mf(n.descriptor.id,r),h=Df(t,n),m=_Q({isMovingForward:e,draggable:t,destination:n,insideDestination:d,previousImpact:i})||LQ({isMovingForward:e,isInHomeList:h,draggable:t,draggables:r,destination:n,insideDestination:d,previousImpact:i,viewport:a,afterCritical:u});if(!m)return null;const b=cx({impact:m,draggable:t,droppable:n,draggables:r,afterCritical:u});if(V4({draggable:t,destination:n,newPageBorderBoxCenter:b,viewport:a.frame,withDroppableDisplacement:!1,onlyOnMainAxis:!0}))return{clientSelection:Lj({pageBorderBoxCenter:b,draggable:t,viewport:a}),impact:m,scrollJumpRequest:null};const k=Ki(b,o),w=GQ({impact:m,viewport:a,destination:n,draggables:r,maxScrollChange:k});return{clientSelection:l,impact:w,scrollJumpRequest:k}};const Zr=e=>{const t=e.subject.active;return t||$e(),t};var KQ=({isMovingForward:e,pageBorderBoxCenter:t,source:n,droppables:r,viewport:i})=>{const a=n.subject.active;if(!a)return null;const o=n.axis,l=Ea(a[o.start],a[o.end]),u=ox(r).filter(h=>h!==n).filter(h=>h.isEnabled).filter(h=>!!h.subject.active).filter(h=>G4(i.frame)(Zr(h))).filter(h=>{const m=Zr(h);return e?a[o.crossAxisEnd]<m[o.crossAxisEnd]:m[o.crossAxisStart]<a[o.crossAxisStart]}).filter(h=>{const m=Zr(h),b=Ea(m[o.start],m[o.end]);return l(m[o.start])||l(m[o.end])||b(a[o.start])||b(a[o.end])}).sort((h,m)=>{const b=Zr(h)[o.crossAxisStart],y=Zr(m)[o.crossAxisStart];return e?b-y:y-b}).filter((h,m,b)=>Zr(h)[o.crossAxisStart]===Zr(b[0])[o.crossAxisStart]);if(!u.length)return null;if(u.length===1)return u[0];const d=u.filter(h=>Ea(Zr(h)[o.start],Zr(h)[o.end])(t[o.line]));return d.length===1?d[0]:d.length>1?d.sort((h,m)=>Zr(h)[o.start]-Zr(m)[o.start])[0]:u.sort((h,m)=>{const b=TD(t,AD(Zr(h))),y=TD(t,AD(Zr(m)));return b!==y?b-y:Zr(h)[o.start]-Zr(m)[o.start]})[0]};const DD=(e,t)=>{const n=e.page.borderBox.center;return nc(e.descriptor.id,t)?Ki(n,t.displacedBy.point):n},WQ=(e,t)=>{const n=e.page.borderBox;return nc(e.descriptor.id,t)?Dp(n,Cf(t.displacedBy.point)):n};var VQ=({pageBorderBoxCenter:e,viewport:t,destination:n,insideDestination:r,afterCritical:i})=>r.filter(o=>q4({target:WQ(o,i),destination:n,viewport:t.frame,withDroppableDisplacement:!0})).sort((o,l)=>{const u=Zm(e,xE(n,DD(o,i))),d=Zm(e,xE(n,DD(l,i)));return u<d?-1:d<u?1:o.descriptor.index-l.descriptor.index})[0]||null,Pp=wr(function(t,n){const r=n[t.line];return{value:r,point:Au(t.line,r)}});const ZQ=(e,t,n)=>{const r=e.axis;if(e.descriptor.mode==="virtual")return Au(r.line,t[r.line]);const i=e.subject.page.contentBox[r.size],u=Mf(e.descriptor.id,n).reduce((d,h)=>d+h.client.marginBox[r.size],0)+t[r.line]-i;return u<=0?null:Au(r.line,u)},Z4=(e,t)=>({...e,scroll:{...e.scroll,max:t}}),X4=(e,t,n)=>{const r=e.frame;Df(t,e)&&$e(),e.subject.withPlaceholder&&$e();const i=Pp(e.axis,t.displaceBy).point,a=ZQ(e,i,n),o={placeholderSize:i,increasedBy:a,oldFrameMaxScroll:e.frame?e.frame.scroll.max:null};if(!r){const h=ff({page:e.subject.page,withPlaceholder:o,axis:e.axis,frame:e.frame});return{...e,subject:h}}const l=a?Dr(r.scroll.max,a):r.scroll.max,u=Z4(r,l),d=ff({page:e.subject.page,withPlaceholder:o,axis:e.axis,frame:u});return{...e,subject:d,frame:u}},XQ=e=>{const t=e.subject.withPlaceholder;t||$e();const n=e.frame;if(!n){const o=ff({page:e.subject.page,axis:e.axis,frame:null,withPlaceholder:null});return{...e,subject:o}}const r=t.oldFrameMaxScroll;r||$e();const i=Z4(n,r),a=ff({page:e.subject.page,axis:e.axis,frame:i,withPlaceholder:null});return{...e,subject:a,frame:i}};var JQ=({previousPageBorderBoxCenter:e,moveRelativeTo:t,insideDestination:n,draggable:r,draggables:i,destination:a,viewport:o,afterCritical:l})=>{if(!t){if(n.length)return null;const m={displaced:Xm,displacedBy:H4,at:{type:"REORDER",destination:{droppableId:a.descriptor.id,index:0}}},b=cx({impact:m,draggable:r,droppable:a,draggables:i,afterCritical:l}),y=Df(r,a)?a:X4(a,r,i);return V4({draggable:r,destination:y,newPageBorderBoxCenter:b,viewport:o.frame,withDroppableDisplacement:!1,onlyOnMainAxis:!0})?m:null}const u=e[a.axis.line]<=t.page.borderBox.center[a.axis.line],d=(()=>{const m=t.descriptor.index;return t.descriptor.id===r.descriptor.id||u?m:m+1})(),h=Pp(a.axis,r.displaceBy);return My({draggable:r,insideDestination:n,destination:a,viewport:o,displacedBy:h,last:Xm,index:d})},QQ=({isMovingForward:e,previousPageBorderBoxCenter:t,draggable:n,isOver:r,draggables:i,droppables:a,viewport:o,afterCritical:l})=>{const u=KQ({isMovingForward:e,pageBorderBoxCenter:t,source:r,droppables:a,viewport:o});if(!u)return null;const d=Mf(u.descriptor.id,i),h=VQ({pageBorderBoxCenter:t,viewport:o,destination:u,insideDestination:d,afterCritical:l}),m=JQ({previousPageBorderBoxCenter:t,destination:u,draggable:n,draggables:i,moveRelativeTo:h,insideDestination:d,viewport:o,afterCritical:l});if(!m)return null;const b=cx({impact:m,draggable:n,droppable:u,draggables:i,afterCritical:l});return{clientSelection:Lj({pageBorderBoxCenter:b,draggable:n,viewport:o}),impact:m,scrollJumpRequest:null}},Vi=e=>{const t=e.at;return t?t.type==="REORDER"?t.destination.droppableId:t.combine.droppableId:null};const eee=(e,t)=>{const n=Vi(e);return n?t[n]:null};var tee=({state:e,type:t})=>{const n=eee(e.impact,e.dimensions.droppables),r=!!n,i=e.dimensions.droppables[e.critical.droppable.id],a=n||i,o=a.axis.direction,l=o==="vertical"&&(t==="MOVE_UP"||t==="MOVE_DOWN")||o==="horizontal"&&(t==="MOVE_LEFT"||t==="MOVE_RIGHT");if(l&&!r)return null;const u=t==="MOVE_DOWN"||t==="MOVE_RIGHT",d=e.dimensions.draggables[e.critical.draggable.id],h=e.current.page.borderBoxCenter,{draggables:m,droppables:b}=e.dimensions;return l?qQ({isMovingForward:u,previousPageBorderBoxCenter:h,draggable:d,destination:a,draggables:m,viewport:e.viewport,previousClientSelection:e.current.client.selection,previousImpact:e.impact,afterCritical:e.afterCritical}):QQ({isMovingForward:u,previousPageBorderBoxCenter:h,draggable:d,isOver:a,draggables:m,droppables:b,viewport:e.viewport,afterCritical:e.afterCritical})};function lu(e){return e.phase==="DRAGGING"||e.phase==="COLLECTING"}function J4(e){const t=Ea(e.top,e.bottom),n=Ea(e.left,e.right);return function(i){return t(i.y)&&n(i.x)}}function nee(e,t){return e.left<t.right&&e.right>t.left&&e.top<t.bottom&&e.bottom>t.top}function ree({pageBorderBox:e,draggable:t,candidates:n}){const r=t.page.borderBox.center,i=n.map(a=>{const o=a.axis,l=Au(a.axis.line,e.center[o.line],a.page.borderBox.center[o.crossAxisLine]);return{id:a.descriptor.id,distance:Zm(r,l)}}).sort((a,o)=>o.distance-a.distance);return i[0]?i[0].id:null}function iee({pageBorderBox:e,draggable:t,droppables:n}){const r=ox(n).filter(i=>{if(!i.isEnabled)return!1;const a=i.subject.active;if(!a||!nee(e,a))return!1;if(J4(a)(e.center))return!0;const o=i.axis,l=a.center[o.crossAxisLine],u=e[o.crossAxisStart],d=e[o.crossAxisEnd],h=Ea(a[o.crossAxisStart],a[o.crossAxisEnd]),m=h(u),b=h(d);return!m&&!b?!0:m?u<l:d>l});return r.length?r.length===1?r[0].descriptor.id:ree({pageBorderBox:e,draggable:t,candidates:r}):null}const Q4=(e,t)=>no(Dp(e,t));var aee=(e,t)=>{const n=e.frame;return n?Q4(t,n.scroll.diff.value):t};function e6({displaced:e,id:t}){return!!(e.visible[t]||e.invisible[t])}function oee({draggable:e,closest:t,inHomeList:n}){return t?n&&t.descriptor.index>e.descriptor.index?t.descriptor.index-1:t.descriptor.index:null}var see=({pageBorderBoxWithDroppableScroll:e,draggable:t,destination:n,insideDestination:r,last:i,viewport:a,afterCritical:o})=>{const l=n.axis,u=Pp(n.axis,t.displaceBy),d=u.value,h=e[l.start],m=e[l.end],y=lx(t,r).find(w=>{const _=w.descriptor.id,j=w.page.borderBox.center[l.line],O=nc(_,o),T=e6({displaced:i,id:_});return O?T?m<=j:h<j-d:T?m<=j+d:h<j})||null,k=oee({draggable:t,closest:y,inHomeList:Df(t,n)});return My({draggable:t,insideDestination:r,destination:n,viewport:a,last:i,displacedBy:u,index:k})};const lee=4;var cee=({draggable:e,pageBorderBoxWithDroppableScroll:t,previousImpact:n,destination:r,insideDestination:i,afterCritical:a})=>{if(!r.isCombineEnabled)return null;const o=r.axis,l=Pp(r.axis,e.displaceBy),u=l.value,d=t[o.start],h=t[o.end],b=lx(e,i).find(k=>{const w=k.descriptor.id,_=k.page.borderBox,O=_[o.size]/lee,T=nc(w,a),C=e6({displaced:n.displaced,id:w});return T?C?h>_[o.start]+O&&h<_[o.end]-O:d>_[o.start]-u+O&&d<_[o.end]-u-O:C?h>_[o.start]+u+O&&h<_[o.end]+u-O:d>_[o.start]+O&&d<_[o.end]-O});return b?{displacedBy:l,displaced:n.displaced,at:{type:"COMBINE",combine:{draggableId:b.descriptor.id,droppableId:r.descriptor.id}}}:null},t6=({pageOffset:e,draggable:t,draggables:n,droppables:r,previousImpact:i,viewport:a,afterCritical:o})=>{const l=Q4(t.page.borderBox,e),u=iee({pageBorderBox:l,draggable:t,droppables:r});if(!u)return SQ;const d=r[u],h=Mf(d.descriptor.id,n),m=aee(d,l);return cee({pageBorderBoxWithDroppableScroll:m,draggable:t,previousImpact:i,destination:d,insideDestination:h,afterCritical:o})||see({pageBorderBoxWithDroppableScroll:m,draggable:t,destination:d,insideDestination:h,last:i.displaced,viewport:a,afterCritical:o})},Ij=(e,t)=>({...e,[t.descriptor.id]:t});const uee=({previousImpact:e,impact:t,droppables:n})=>{const r=Vi(e),i=Vi(t);if(!r||r===i)return n;const a=n[r];if(!a.subject.withPlaceholder)return n;const o=XQ(a);return Ij(n,o)};var dee=({draggable:e,draggables:t,droppables:n,previousImpact:r,impact:i})=>{const a=uee({previousImpact:r,impact:i,droppables:n}),o=Vi(i);if(!o)return a;const l=n[o];if(Df(e,l)||l.subject.withPlaceholder)return a;const u=X4(l,e,t);return Ij(a,u)},Im=({state:e,clientSelection:t,dimensions:n,viewport:r,impact:i,scrollJumpRequest:a})=>{const o=r||e.viewport,l=n||e.dimensions,u=t||e.current.client.selection,d=Ki(u,e.initial.client.selection),h={offset:d,selection:u,borderBoxCenter:Dr(e.initial.client.borderBoxCenter,d)},m={selection:Dr(h.selection,o.scroll.current),borderBoxCenter:Dr(h.borderBoxCenter,o.scroll.current),offset:Dr(h.offset,o.scroll.diff.value)},b={client:h,page:m};if(e.phase==="COLLECTING")return{...e,dimensions:l,viewport:o,current:b};const y=l.draggables[e.critical.draggable.id],k=i||t6({pageOffset:m.offset,draggable:y,draggables:l.draggables,droppables:l.droppables,previousImpact:e.impact,viewport:o,afterCritical:e.afterCritical}),w=dee({draggable:y,impact:k,previousImpact:e.impact,draggables:l.draggables,droppables:l.droppables});return{...e,current:b,dimensions:{draggables:l.draggables,droppables:w},impact:k,viewport:o,scrollJumpRequest:a||null,forceShouldAnimate:a?!1:null}};function fee(e,t){return e.map(n=>t[n])}var n6=({impact:e,viewport:t,draggables:n,destination:r,forceShouldAnimate:i})=>{const a=e.displaced,o=fee(a.all,n),l=Jm({afterDragging:o,destination:r,displacedBy:e.displacedBy,viewport:t.frame,forceShouldAnimate:i,last:a});return{...e,displaced:l}},r6=({impact:e,draggable:t,droppable:n,draggables:r,viewport:i,afterCritical:a})=>{const o=cx({impact:e,draggable:t,draggables:r,droppable:n,afterCritical:a});return Lj({pageBorderBoxCenter:o,draggable:t,viewport:i})},i6=({state:e,dimensions:t,viewport:n})=>{e.movementMode!=="SNAP"&&$e();const r=e.impact,i=n||e.viewport,a=t||e.dimensions,{draggables:o,droppables:l}=a,u=o[e.critical.draggable.id],d=Vi(r);d||$e();const h=l[d],m=n6({impact:r,viewport:i,destination:h,draggables:o}),b=r6({impact:m,draggable:u,droppable:h,draggables:o,viewport:i,afterCritical:e.afterCritical});return Im({impact:m,clientSelection:b,state:e,dimensions:a,viewport:i})},hee=e=>({index:e.index,droppableId:e.droppableId}),a6=({draggable:e,home:t,draggables:n,viewport:r})=>{const i=Pp(t.axis,e.displaceBy),a=Mf(t.descriptor.id,n),o=a.indexOf(e);o===-1&&$e();const l=a.slice(o+1),u=l.reduce((b,y)=>(b[y.descriptor.id]=!0,b),{}),d={inVirtualList:t.descriptor.mode==="virtual",displacedBy:i,effected:u};return{impact:{displaced:Jm({afterDragging:l,destination:t,displacedBy:i,last:null,viewport:r.frame,forceShouldAnimate:!1}),displacedBy:i,at:{type:"REORDER",destination:hee(e.descriptor)}},afterCritical:d}},mee=(e,t)=>({draggables:e.draggables,droppables:Ij(e.droppables,t)}),pee=({draggable:e,offset:t,initialWindowScroll:n})=>{const r=Ty(e.client,t),i=Ay(r,n);return{...e,placeholder:{...e.placeholder,client:r},client:r,page:i}},gee=e=>{const t=e.frame;return t||$e(),t},bee=({additions:e,updatedDroppables:t,viewport:n})=>{const r=n.scroll.diff.value;return e.map(i=>{const a=i.descriptor.droppableId,o=t[a],u=gee(o).scroll.diff.value,d=Dr(r,u);return pee({draggable:i,offset:d,initialWindowScroll:n.scroll.initial})})},yee=({state:e,published:t})=>{const n=t.modified.map(j=>{const O=e.dimensions.droppables[j.droppableId];return Cj(O,j.scroll)}),r={...e.dimensions.droppables,...U4(n)},i=F4(bee({additions:t.additions,updatedDroppables:r,viewport:e.viewport})),a={...e.dimensions.draggables,...i};t.removals.forEach(j=>{delete a[j]});const o={droppables:r,draggables:a},l=Vi(e.impact),u=l?o.droppables[l]:null,d=o.draggables[e.critical.draggable.id],h=o.droppables[e.critical.droppable.id],{impact:m,afterCritical:b}=a6({draggable:d,home:h,draggables:a,viewport:e.viewport}),y=u&&u.isCombineEnabled?e.impact:m,k=t6({pageOffset:e.current.page.offset,draggable:o.draggables[e.critical.draggable.id],draggables:o.draggables,droppables:o.droppables,previousImpact:y,viewport:e.viewport,afterCritical:b}),w={...e,phase:"DRAGGING",impact:k,onLiftImpact:m,dimensions:o,afterCritical:b,forceShouldAnimate:!1};return e.phase==="COLLECTING"?w:{...w,phase:"DROP_PENDING",reason:e.reason,isWaiting:!1}};const wE=e=>e.movementMode==="SNAP",E1=(e,t,n)=>{const r=mee(e.dimensions,t);return!wE(e)||n?Im({state:e,dimensions:r}):i6({state:e,dimensions:r})};function j1(e){return e.isDragging&&e.movementMode==="SNAP"?{...e,scrollJumpRequest:null}:e}const PD={phase:"IDLE",completed:null,shouldFlush:!1};var vee=(e=PD,t)=>{if(t.type==="FLUSH")return{...PD,shouldFlush:!0};if(t.type==="INITIAL_PUBLISH"){e.phase!=="IDLE"&&$e();const{critical:n,clientSelection:r,viewport:i,dimensions:a,movementMode:o}=t.payload,l=a.draggables[n.draggable.id],u=a.droppables[n.droppable.id],d={selection:r,borderBoxCenter:l.client.borderBox.center,offset:_r},h={client:d,page:{selection:Dr(d.selection,i.scroll.initial),borderBoxCenter:Dr(d.selection,i.scroll.initial),offset:Dr(d.selection,i.scroll.diff.value)}},m=ox(a.droppables).every(w=>!w.isFixedOnPage),{impact:b,afterCritical:y}=a6({draggable:l,home:u,draggables:a.draggables,viewport:i});return{phase:"DRAGGING",isDragging:!0,critical:n,movementMode:o,dimensions:a,initial:h,current:h,isWindowScrollAllowed:m,impact:b,afterCritical:y,onLiftImpact:b,viewport:i,scrollJumpRequest:null,forceShouldAnimate:null}}if(t.type==="COLLECTION_STARTING")return e.phase==="COLLECTING"||e.phase==="DROP_PENDING"?e:(e.phase!=="DRAGGING"&&$e(),{...e,phase:"COLLECTING"});if(t.type==="PUBLISH_WHILE_DRAGGING")return e.phase==="COLLECTING"||e.phase==="DROP_PENDING"||$e(),yee({state:e,published:t.payload});if(t.type==="MOVE"){if(e.phase==="DROP_PENDING")return e;lu(e)||$e();const{client:n}=t.payload;return Jl(n,e.current.client.selection)?e:Im({state:e,clientSelection:n,impact:wE(e)?e.impact:null})}if(t.type==="UPDATE_DROPPABLE_SCROLL"){if(e.phase==="DROP_PENDING"||e.phase==="COLLECTING")return j1(e);lu(e)||$e();const{id:n,newScroll:r}=t.payload,i=e.dimensions.droppables[n];if(!i)return e;const a=Cj(i,r);return E1(e,a,!1)}if(t.type==="UPDATE_DROPPABLE_IS_ENABLED"){if(e.phase==="DROP_PENDING")return e;lu(e)||$e();const{id:n,isEnabled:r}=t.payload,i=e.dimensions.droppables[n];i||$e(),i.isEnabled===r&&$e();const a={...i,isEnabled:r};return E1(e,a,!0)}if(t.type==="UPDATE_DROPPABLE_IS_COMBINE_ENABLED"){if(e.phase==="DROP_PENDING")return e;lu(e)||$e();const{id:n,isCombineEnabled:r}=t.payload,i=e.dimensions.droppables[n];i||$e(),i.isCombineEnabled===r&&$e();const a={...i,isCombineEnabled:r};return E1(e,a,!0)}if(t.type==="MOVE_BY_WINDOW_SCROLL"){if(e.phase==="DROP_PENDING"||e.phase==="DROP_ANIMATING")return e;lu(e)||$e(),e.isWindowScrollAllowed||$e();const n=t.payload.newScroll;if(Jl(e.viewport.scroll.current,n))return j1(e);const r=W4(e.viewport,n);return wE(e)?i6({state:e,viewport:r}):Im({state:e,viewport:r})}if(t.type==="UPDATE_VIEWPORT_MAX_SCROLL"){if(!lu(e))return e;const n=t.payload.maxScroll;if(Jl(n,e.viewport.scroll.max))return e;const r={...e.viewport,scroll:{...e.viewport.scroll,max:n}};return{...e,viewport:r}}if(t.type==="MOVE_UP"||t.type==="MOVE_DOWN"||t.type==="MOVE_LEFT"||t.type==="MOVE_RIGHT"){if(e.phase==="COLLECTING"||e.phase==="DROP_PENDING")return e;e.phase!=="DRAGGING"&&$e();const n=tee({state:e,type:t.type});return n?Im({state:e,impact:n.impact,clientSelection:n.clientSelection,scrollJumpRequest:n.scrollJumpRequest}):e}if(t.type==="DROP_PENDING"){const n=t.payload.reason;return e.phase!=="COLLECTING"&&$e(),{...e,phase:"DROP_PENDING",isWaiting:!0,reason:n}}if(t.type==="DROP_ANIMATE"){const{completed:n,dropDuration:r,newHomeClientOffset:i}=t.payload;return e.phase==="DRAGGING"||e.phase==="DROP_PENDING"||$e(),{phase:"DROP_ANIMATING",completed:n,dropDuration:r,newHomeClientOffset:i,dimensions:e.dimensions}}if(t.type==="DROP_COMPLETE"){const{completed:n}=t.payload;return{phase:"IDLE",completed:n,shouldFlush:!1}}return e};function Ht(e,t){return e instanceof Object&&"type"in e&&e.type===t}const xee=e=>({type:"BEFORE_INITIAL_CAPTURE",payload:e}),wee=e=>({type:"LIFT",payload:e}),_ee=e=>({type:"INITIAL_PUBLISH",payload:e}),See=e=>({type:"PUBLISH_WHILE_DRAGGING",payload:e}),kee=()=>({type:"COLLECTION_STARTING",payload:null}),Eee=e=>({type:"UPDATE_DROPPABLE_SCROLL",payload:e}),jee=e=>({type:"UPDATE_DROPPABLE_IS_ENABLED",payload:e}),Tee=e=>({type:"UPDATE_DROPPABLE_IS_COMBINE_ENABLED",payload:e}),o6=e=>({type:"MOVE",payload:e}),Aee=e=>({type:"MOVE_BY_WINDOW_SCROLL",payload:e}),Nee=e=>({type:"UPDATE_VIEWPORT_MAX_SCROLL",payload:e}),Oee=()=>({type:"MOVE_UP",payload:null}),Cee=()=>({type:"MOVE_DOWN",payload:null}),Mee=()=>({type:"MOVE_RIGHT",payload:null}),Dee=()=>({type:"MOVE_LEFT",payload:null}),$j=()=>({type:"FLUSH",payload:null}),Pee=e=>({type:"DROP_ANIMATE",payload:e}),Bj=e=>({type:"DROP_COMPLETE",payload:e}),s6=e=>({type:"DROP",payload:e}),Ree=e=>({type:"DROP_PENDING",payload:e}),l6=()=>({type:"DROP_ANIMATION_FINISHED",payload:null});var Lee=e=>({getState:t,dispatch:n})=>r=>i=>{if(!Ht(i,"LIFT")){r(i);return}const{id:a,clientSelection:o,movementMode:l}=i.payload,u=t();u.phase==="DROP_ANIMATING"&&n(Bj({completed:u.completed})),t().phase!=="IDLE"&&$e(),n($j()),n(xee({draggableId:a,movementMode:l}));const h={draggableId:a,scrollOptions:{shouldPublishImmediately:l==="SNAP"}},{critical:m,dimensions:b,viewport:y}=e.startPublishing(h);n(_ee({critical:m,dimensions:b,clientSelection:o,movementMode:l,viewport:y}))},Iee=e=>()=>t=>n=>{Ht(n,"INITIAL_PUBLISH")&&e.dragging(),Ht(n,"DROP_ANIMATE")&&e.dropping(n.payload.completed.result.reason),(Ht(n,"FLUSH")||Ht(n,"DROP_COMPLETE"))&&e.resting(),t(n)};const zj={outOfTheWay:"cubic-bezier(0.2, 0, 0, 1)",drop:"cubic-bezier(.2,1,.1,1)"},Qm={opacity:{drop:0,combining:.7},scale:{drop:.75}},c6={outOfTheWay:.2,minDropTime:.33,maxDropTime:.55},eu=`${c6.outOfTheWay}s ${zj.outOfTheWay}`,$m={fluid:`opacity ${eu}`,snap:`transform ${eu}, opacity ${eu}`,drop:e=>{const t=`${e}s ${zj.drop}`;return`transform ${t}, opacity ${t}`},outOfTheWay:`transform ${eu}`,placeholder:`height ${eu}, width ${eu}, margin ${eu}`},RD=e=>Jl(e,_r)?void 0:`translate(${e.x}px, ${e.y}px)`,_E={moveTo:RD,drop:(e,t)=>{const n=RD(e);if(n)return t?`${n} scale(${Qm.scale.drop})`:n}},{minDropTime:SE,maxDropTime:u6}=c6,$ee=u6-SE,LD=1500,Bee=.6;var zee=({current:e,destination:t,reason:n})=>{const r=Zm(e,t);if(r<=0)return SE;if(r>=LD)return u6;const i=r/LD,a=SE+$ee*i,o=n==="CANCEL"?a*Bee:a;return Number(o.toFixed(2))},Uee=({impact:e,draggable:t,dimensions:n,viewport:r,afterCritical:i})=>{const{draggables:a,droppables:o}=n,l=Vi(e),u=l?o[l]:null,d=o[t.descriptor.droppableId],h=r6({impact:e,draggable:t,draggables:a,afterCritical:i,droppable:u||d,viewport:r});return Ki(h,t.client.borderBox.center)},Fee=({draggables:e,reason:t,lastImpact:n,home:r,viewport:i,onLiftImpact:a})=>!n.at||t!=="DROP"?{impact:n6({draggables:e,impact:a,destination:r,viewport:i,forceShouldAnimate:!0}),didDropInsideDroppable:!1}:n.at.type==="REORDER"?{impact:n,didDropInsideDroppable:!0}:{impact:{...n,displaced:Xm},didDropInsideDroppable:!0};const Hee=({getState:e,dispatch:t})=>n=>r=>{if(!Ht(r,"DROP")){n(r);return}const i=e(),a=r.payload.reason;if(i.phase==="COLLECTING"){t(Ree({reason:a}));return}if(i.phase==="IDLE")return;i.phase==="DROP_PENDING"&&i.isWaiting&&$e(),i.phase==="DRAGGING"||i.phase==="DROP_PENDING"||$e();const l=i.critical,u=i.dimensions,d=u.draggables[i.critical.draggable.id],{impact:h,didDropInsideDroppable:m}=Fee({reason:a,lastImpact:i.impact,afterCritical:i.afterCritical,onLiftImpact:i.onLiftImpact,home:i.dimensions.droppables[i.critical.droppable.id],viewport:i.viewport,draggables:i.dimensions.draggables}),b=m?Mj(h):null,y=m?sx(h):null,k={index:l.draggable.index,droppableId:l.droppable.id},w={draggableId:d.descriptor.id,type:d.descriptor.type,source:k,reason:a,mode:i.movementMode,destination:b,combine:y},_=Uee({impact:h,draggable:d,dimensions:u,viewport:i.viewport,afterCritical:i.afterCritical}),j={critical:i.critical,afterCritical:i.afterCritical,result:w,impact:h};if(!(!Jl(i.current.client.offset,_)||!!w.combine)){t(Bj({completed:j}));return}const T=zee({current:i.current.client.offset,destination:_,reason:a});t(Pee({newHomeClientOffset:_,dropDuration:T,completed:j}))};var d6=()=>({x:window.pageXOffset,y:window.pageYOffset});function Gee(e){return{eventName:"scroll",options:{passive:!0,capture:!1},fn:t=>{t.target!==window&&t.target!==window.document||e()}}}function Yee({onWindowScroll:e}){function t(){e(d6())}const n=Vm(t),r=Gee(n);let i=Xl;function a(){return i!==Xl}function o(){a()&&$e(),i=xa(window,[r])}function l(){a()||$e(),n.cancel(),i(),i=Xl}return{start:o,stop:l,isActive:a}}const qee=e=>Ht(e,"DROP_COMPLETE")||Ht(e,"DROP_ANIMATE")||Ht(e,"FLUSH"),Kee=e=>{const t=Yee({onWindowScroll:n=>{e.dispatch(Aee({newScroll:n}))}});return n=>r=>{!t.isActive()&&Ht(r,"INITIAL_PUBLISH")&&t.start(),t.isActive()&&qee(r)&&t.stop(),n(r)}};var Wee=e=>{let t=!1,n=!1;const r=setTimeout(()=>{n=!0}),i=a=>{t||n||(t=!0,e(a),clearTimeout(r))};return i.wasCalled=()=>t,i},Vee=()=>{const e=[],t=i=>{const a=e.findIndex(l=>l.timerId===i);a===-1&&$e();const[o]=e.splice(a,1);o.callback()};return{add:i=>{const a=setTimeout(()=>t(a)),o={timerId:a,callback:i};e.push(o)},flush:()=>{if(!e.length)return;const i=[...e];e.length=0,i.forEach(a=>{clearTimeout(a.timerId),a.callback()})}}};const Zee=(e,t)=>e==null&&t==null?!0:e==null||t==null?!1:e.droppableId===t.droppableId&&e.index===t.index,Xee=(e,t)=>e==null&&t==null?!0:e==null||t==null?!1:e.draggableId===t.draggableId&&e.droppableId===t.droppableId,Jee=(e,t)=>{if(e===t)return!0;const n=e.draggable.id===t.draggable.id&&e.draggable.droppableId===t.draggable.droppableId&&e.draggable.type===t.draggable.type&&e.draggable.index===t.draggable.index,r=e.droppable.id===t.droppable.id&&e.droppable.type===t.droppable.type;return n&&r},nm=(e,t)=>{t()},Vg=(e,t)=>({draggableId:e.draggable.id,type:e.droppable.type,source:{droppableId:e.droppable.id,index:e.draggable.index},mode:t});function T1(e,t,n,r){if(!e){n(r(t));return}const i=Wee(n);e(t,{announce:i}),i.wasCalled()||n(r(t))}var Qee=(e,t)=>{const n=Vee();let r=null;const i=(m,b)=>{r&&$e(),nm("onBeforeCapture",()=>{const y=e().onBeforeCapture;y&&y({draggableId:m,mode:b})})},a=(m,b)=>{r&&$e(),nm("onBeforeDragStart",()=>{const y=e().onBeforeDragStart;y&&y(Vg(m,b))})},o=(m,b)=>{r&&$e();const y=Vg(m,b);r={mode:b,lastCritical:m,lastLocation:y.source,lastCombine:null},n.add(()=>{nm("onDragStart",()=>T1(e().onDragStart,y,t,ty.onDragStart))})},l=(m,b)=>{const y=Mj(b),k=sx(b);r||$e();const w=!Jee(m,r.lastCritical);w&&(r.lastCritical=m);const _=!Zee(r.lastLocation,y);_&&(r.lastLocation=y);const j=!Xee(r.lastCombine,k);if(j&&(r.lastCombine=k),!w&&!_&&!j)return;const O={...Vg(m,r.mode),combine:k,destination:y};n.add(()=>{nm("onDragUpdate",()=>T1(e().onDragUpdate,O,t,ty.onDragUpdate))})},u=()=>{r||$e(),n.flush()},d=m=>{r||$e(),r=null,nm("onDragEnd",()=>T1(e().onDragEnd,m,t,ty.onDragEnd))};return{beforeCapture:i,beforeStart:a,start:o,update:l,flush:u,drop:d,abort:()=>{if(!r)return;const m={...Vg(r.lastCritical,r.mode),combine:null,destination:null,reason:"CANCEL"};d(m)}}},ete=(e,t)=>{const n=Qee(e,t);return r=>i=>a=>{if(Ht(a,"BEFORE_INITIAL_CAPTURE")){n.beforeCapture(a.payload.draggableId,a.payload.movementMode);return}if(Ht(a,"INITIAL_PUBLISH")){const l=a.payload.critical;n.beforeStart(l,a.payload.movementMode),i(a),n.start(l,a.payload.movementMode);return}if(Ht(a,"DROP_COMPLETE")){const l=a.payload.completed.result;n.flush(),i(a),n.drop(l);return}if(i(a),Ht(a,"FLUSH")){n.abort();return}const o=r.getState();o.phase==="DRAGGING"&&n.update(o.critical,o.impact)}};const tte=e=>t=>n=>{if(!Ht(n,"DROP_ANIMATION_FINISHED")){t(n);return}const r=e.getState();r.phase!=="DROP_ANIMATING"&&$e(),e.dispatch(Bj({completed:r.completed}))},nte=e=>{let t=null,n=null;function r(){n&&(cancelAnimationFrame(n),n=null),t&&(t(),t=null)}return i=>a=>{if((Ht(a,"FLUSH")||Ht(a,"DROP_COMPLETE")||Ht(a,"DROP_ANIMATION_FINISHED"))&&r(),i(a),!Ht(a,"DROP_ANIMATE"))return;const o={eventName:"scroll",options:{capture:!0,passive:!1,once:!0},fn:function(){e.getState().phase==="DROP_ANIMATING"&&e.dispatch(l6())}};n=requestAnimationFrame(()=>{n=null,t=xa(window,[o])})}};var rte=e=>()=>t=>n=>{(Ht(n,"DROP_COMPLETE")||Ht(n,"FLUSH")||Ht(n,"DROP_ANIMATE"))&&e.stopPublishing(),t(n)},ite=e=>{let t=!1;return()=>n=>r=>{if(Ht(r,"INITIAL_PUBLISH")){t=!0,e.tryRecordFocus(r.payload.critical.draggable.id),n(r),e.tryRestoreFocusRecorded();return}if(n(r),!!t){if(Ht(r,"FLUSH")){t=!1,e.tryRestoreFocusRecorded();return}if(Ht(r,"DROP_COMPLETE")){t=!1;const i=r.payload.completed.result;i.combine&&e.tryShiftRecord(i.draggableId,i.combine.draggableId),e.tryRestoreFocusRecorded()}}}};const ate=e=>Ht(e,"DROP_COMPLETE")||Ht(e,"DROP_ANIMATE")||Ht(e,"FLUSH");var ote=e=>t=>n=>r=>{if(ate(r)){e.stop(),n(r);return}if(Ht(r,"INITIAL_PUBLISH")){n(r);const i=t.getState();i.phase!=="DRAGGING"&&$e(),e.start(i);return}n(r),e.scroll(t.getState())};const ste=e=>t=>n=>{if(t(n),!Ht(n,"PUBLISH_WHILE_DRAGGING"))return;const r=e.getState();r.phase==="DROP_PENDING"&&(r.isWaiting||e.dispatch(s6({reason:r.reason})))},lte=Wm;var cte=({dimensionMarshal:e,focusMarshal:t,styleMarshal:n,getResponders:r,announce:i,autoScroller:a})=>jj(vee,lte(E4(Iee(n),rte(e),Lee(e),Hee,tte,nte,ste,ote(a),Kee,ite(t),ete(r,i))));const A1=()=>({additions:{},removals:{},modified:{}});function ute({registry:e,callbacks:t}){let n=A1(),r=null;const i=()=>{r||(t.collectionStarting(),r=requestAnimationFrame(()=>{r=null;const{additions:u,removals:d,modified:h}=n,m=Object.keys(u).map(k=>e.draggable.getById(k).getDimension(_r)).sort((k,w)=>k.descriptor.index-w.descriptor.index),b=Object.keys(h).map(k=>{const _=e.droppable.getById(k).callbacks.getScrollWhileDragging();return{droppableId:k,scroll:_}}),y={additions:m,removals:Object.keys(d),modified:b};n=A1(),t.publish(y)}))};return{add:u=>{const d=u.descriptor.id;n.additions[d]=u,n.modified[u.descriptor.droppableId]=!0,n.removals[d]&&delete n.removals[d],i()},remove:u=>{const d=u.descriptor;n.removals[d.id]=!0,n.modified[d.droppableId]=!0,n.additions[d.id]&&delete n.additions[d.id],i()},stop:()=>{r&&(cancelAnimationFrame(r),r=null,n=A1())}}}var f6=({scrollHeight:e,scrollWidth:t,height:n,width:r})=>{const i=Ki({x:t,y:e},{x:r,y:n});return{x:Math.max(0,i.x),y:Math.max(0,i.y)}},h6=()=>{const e=document.documentElement;return e||$e(),e},m6=()=>{const e=h6();return f6({scrollHeight:e.scrollHeight,scrollWidth:e.scrollWidth,width:e.clientWidth,height:e.clientHeight})},dte=()=>{const e=d6(),t=m6(),n=e.y,r=e.x,i=h6(),a=i.clientWidth,o=i.clientHeight,l=r+a,u=n+o;return{frame:no({top:n,left:r,right:l,bottom:u}),scroll:{initial:e,current:e,max:t,diff:{value:_r,displacement:_r}}}},fte=({critical:e,scrollOptions:t,registry:n})=>{const r=dte(),i=r.scroll.current,a=e.droppable,o=n.droppable.getAllByType(a.type).map(h=>h.callbacks.getDimensionAndWatchScroll(i,t)),l=n.draggable.getAllByType(e.draggable.type).map(h=>h.getDimension(i));return{dimensions:{draggables:F4(l),droppables:U4(o)},critical:e,viewport:r}};function ID(e,t,n){return!(n.descriptor.id===t.id||n.descriptor.type!==t.type||e.droppable.getById(n.descriptor.droppableId).descriptor.mode!=="virtual")}var hte=(e,t)=>{let n=null;const r=ute({callbacks:{publish:t.publishWhileDragging,collectionStarting:t.collectionStarting},registry:e}),i=(b,y)=>{e.droppable.exists(b)||$e(),n&&t.updateDroppableIsEnabled({id:b,isEnabled:y})},a=(b,y)=>{n&&(e.droppable.exists(b)||$e(),t.updateDroppableIsCombineEnabled({id:b,isCombineEnabled:y}))},o=(b,y)=>{n&&(e.droppable.exists(b)||$e(),t.updateDroppableScroll({id:b,newScroll:y}))},l=(b,y)=>{n&&e.droppable.getById(b).callbacks.scroll(y)},u=()=>{if(!n)return;r.stop();const b=n.critical.droppable;e.droppable.getAllByType(b.type).forEach(y=>y.callbacks.dragStopped()),n.unsubscribe(),n=null},d=b=>{n||$e();const y=n.critical.draggable;b.type==="ADDITION"&&ID(e,y,b.value)&&r.add(b.value),b.type==="REMOVAL"&&ID(e,y,b.value)&&r.remove(b.value)};return{updateDroppableIsEnabled:i,updateDroppableIsCombineEnabled:a,scrollDroppable:l,updateDroppableScroll:o,startPublishing:b=>{n&&$e();const y=e.draggable.getById(b.draggableId),k=e.droppable.getById(y.descriptor.droppableId),w={draggable:y.descriptor,droppable:k.descriptor},_=e.subscribe(d);return n={critical:w,unsubscribe:_},fte({critical:w,registry:e,scrollOptions:b.scrollOptions})},stopPublishing:u}},p6=(e,t)=>e.phase==="IDLE"?!0:e.phase!=="DROP_ANIMATING"||e.completed.result.draggableId===t?!1:e.completed.result.reason==="DROP",mte=e=>{window.scrollBy(e.x,e.y)};const pte=wr(e=>ox(e).filter(t=>!(!t.isEnabled||!t.frame))),gte=(e,t)=>pte(t).find(r=>(r.frame||$e(),J4(r.frame.pageMarginBox)(e)))||null;var bte=({center:e,destination:t,droppables:n})=>{if(t){const i=n[t];return i.frame?i:null}return gte(e,n)};const ep={startFromPercentage:.25,maxScrollAtPercentage:.05,maxPixelScroll:28,ease:e=>e**2,durationDampening:{stopDampeningAt:1200,accelerateAt:360},disabled:!1};var yte=(e,t,n=()=>ep)=>{const r=n(),i=e[t.size]*r.startFromPercentage,a=e[t.size]*r.maxScrollAtPercentage;return{startScrollingFrom:i,maxScrollValueAt:a}},g6=({startOfRange:e,endOfRange:t,current:n})=>{const r=t-e;return r===0?0:(n-e)/r},Uj=1,vte=(e,t,n=()=>ep)=>{const r=n();if(e>t.startScrollingFrom)return 0;if(e<=t.maxScrollValueAt)return r.maxPixelScroll;if(e===t.startScrollingFrom)return Uj;const a=1-g6({startOfRange:t.maxScrollValueAt,endOfRange:t.startScrollingFrom,current:e}),o=r.maxPixelScroll*r.ease(a);return Math.ceil(o)},xte=(e,t,n)=>{const r=n(),i=r.durationDampening.accelerateAt,a=r.durationDampening.stopDampeningAt,o=t,l=a,d=Date.now()-o;if(d>=a)return e;if(d<i)return Uj;const h=g6({startOfRange:i,endOfRange:l,current:d}),m=e*r.ease(h);return Math.ceil(m)},$D=({distanceToEdge:e,thresholds:t,dragStartTime:n,shouldUseTimeDampening:r,getAutoScrollerOptions:i})=>{const a=vte(e,t,i);return a===0?0:r?Math.max(xte(a,n,i),Uj):a},BD=({container:e,distanceToEdges:t,dragStartTime:n,axis:r,shouldUseTimeDampening:i,getAutoScrollerOptions:a})=>{const o=yte(e,r,a);return t[r.end]<t[r.start]?$D({distanceToEdge:t[r.end],thresholds:o,dragStartTime:n,shouldUseTimeDampening:i,getAutoScrollerOptions:a}):-1*$D({distanceToEdge:t[r.start],thresholds:o,dragStartTime:n,shouldUseTimeDampening:i,getAutoScrollerOptions:a})},wte=({container:e,subject:t,proposedScroll:n})=>{const r=t.height>e.height,i=t.width>e.width;return!i&&!r?n:i&&r?null:{x:i?0:n.x,y:r?0:n.y}};const _te=z4(e=>e===0?0:e);var b6=({dragStartTime:e,container:t,subject:n,center:r,shouldUseTimeDampening:i,getAutoScrollerOptions:a})=>{const o={top:r.y-t.top,right:t.right-r.x,bottom:t.bottom-r.y,left:r.x-t.left},l=BD({container:t,distanceToEdges:o,dragStartTime:e,axis:Dj,shouldUseTimeDampening:i,getAutoScrollerOptions:a}),u=BD({container:t,distanceToEdges:o,dragStartTime:e,axis:Y4,shouldUseTimeDampening:i,getAutoScrollerOptions:a}),d=_te({x:u,y:l});if(Jl(d,_r))return null;const h=wte({container:t,subject:n,proposedScroll:d});return h?Jl(h,_r)?null:h:null};const Ste=z4(e=>e===0?0:e>0?1:-1),Fj=(()=>{const e=(t,n)=>t<0?t:t>n?t-n:0;return({current:t,max:n,change:r})=>{const i=Dr(t,r),a={x:e(i.x,n.x),y:e(i.y,n.y)};return Jl(a,_r)?null:a}})(),y6=({max:e,current:t,change:n})=>{const r={x:Math.max(t.x,e.x),y:Math.max(t.y,e.y)},i=Ste(n),a=Fj({max:r,current:t,change:i});return!a||i.x!==0&&a.x===0||i.y!==0&&a.y===0},Hj=(e,t)=>y6({current:e.scroll.current,max:e.scroll.max,change:t}),kte=(e,t)=>{if(!Hj(e,t))return null;const n=e.scroll.max,r=e.scroll.current;return Fj({current:r,max:n,change:t})},Gj=(e,t)=>{const n=e.frame;return n?y6({current:n.scroll.current,max:n.scroll.max,change:t}):!1},Ete=(e,t)=>{const n=e.frame;return!n||!Gj(e,t)?null:Fj({current:n.scroll.current,max:n.scroll.max,change:t})};var jte=({viewport:e,subject:t,center:n,dragStartTime:r,shouldUseTimeDampening:i,getAutoScrollerOptions:a})=>{const o=b6({dragStartTime:r,container:e.frame,subject:t,center:n,shouldUseTimeDampening:i,getAutoScrollerOptions:a});return o&&Hj(e,o)?o:null},Tte=({droppable:e,subject:t,center:n,dragStartTime:r,shouldUseTimeDampening:i,getAutoScrollerOptions:a})=>{const o=e.frame;if(!o)return null;const l=b6({dragStartTime:r,container:o.pageMarginBox,subject:t,center:n,shouldUseTimeDampening:i,getAutoScrollerOptions:a});return l&&Gj(e,l)?l:null},zD=({state:e,dragStartTime:t,shouldUseTimeDampening:n,scrollWindow:r,scrollDroppable:i,getAutoScrollerOptions:a})=>{const o=e.current.page.borderBoxCenter,u=e.dimensions.draggables[e.critical.draggable.id].page.marginBox;if(e.isWindowScrollAllowed){const m=e.viewport,b=jte({dragStartTime:t,viewport:m,subject:u,center:o,shouldUseTimeDampening:n,getAutoScrollerOptions:a});if(b){r(b);return}}const d=bte({center:o,destination:Vi(e.impact),droppables:e.dimensions.droppables});if(!d)return;const h=Tte({dragStartTime:t,droppable:d,subject:u,center:o,shouldUseTimeDampening:n,getAutoScrollerOptions:a});h&&i(d.descriptor.id,h)},Ate=({scrollWindow:e,scrollDroppable:t,getAutoScrollerOptions:n=()=>ep})=>{const r=Vm(e),i=Vm(t);let a=null;const o=d=>{a||$e();const{shouldUseTimeDampening:h,dragStartTime:m}=a;zD({state:d,scrollWindow:r,scrollDroppable:i,dragStartTime:m,shouldUseTimeDampening:h,getAutoScrollerOptions:n})};return{start:d=>{a&&$e();const h=Date.now();let m=!1;const b=()=>{m=!0};zD({state:d,dragStartTime:0,shouldUseTimeDampening:!1,scrollWindow:b,scrollDroppable:b,getAutoScrollerOptions:n}),a={dragStartTime:h,shouldUseTimeDampening:m},m&&o(d)},stop:()=>{a&&(r.cancel(),i.cancel(),a=null)},scroll:o}},Nte=({move:e,scrollDroppable:t,scrollWindow:n})=>{const r=(l,u)=>{const d=Dr(l.current.client.selection,u);e({client:d})},i=(l,u)=>{if(!Gj(l,u))return u;const d=Ete(l,u);if(!d)return t(l.descriptor.id,u),null;const h=Ki(u,d);return t(l.descriptor.id,h),Ki(u,h)},a=(l,u,d)=>{if(!l||!Hj(u,d))return d;const h=kte(u,d);if(!h)return n(d),null;const m=Ki(d,h);return n(m),Ki(d,m)};return l=>{const u=l.scrollJumpRequest;if(!u)return;const d=Vi(l.impact);d||$e();const h=i(l.dimensions.droppables[d],u);if(!h)return;const m=l.viewport,b=a(l.isWindowScrollAllowed,m,h);b&&r(l,b)}},Ote=({scrollDroppable:e,scrollWindow:t,move:n,getAutoScrollerOptions:r})=>{const i=Ate({scrollWindow:t,scrollDroppable:e,getAutoScrollerOptions:r}),a=Nte({move:n,scrollWindow:t,scrollDroppable:e});return{scroll:u=>{if(!(r().disabled||u.phase!=="DRAGGING")){if(u.movementMode==="FLUID"){i.scroll(u);return}u.scrollJumpRequest&&a(u)}},start:i.start,stop:i.stop}};const hf="data-rfd",mf=(()=>{const e=`${hf}-drag-handle`;return{base:e,draggableId:`${e}-draggable-id`,contextId:`${e}-context-id`}})(),kE=(()=>{const e=`${hf}-draggable`;return{base:e,contextId:`${e}-context-id`,id:`${e}-id`}})(),Cte=(()=>{const e=`${hf}-droppable`;return{base:e,contextId:`${e}-context-id`,id:`${e}-id`}})(),UD={contextId:`${hf}-scroll-container-context-id`},Mte=e=>t=>`[${t}="${e}"]`,rm=(e,t)=>e.map(n=>{const r=n.styles[t];return r?`${n.selector} { ${r} }`:""}).join(" "),Dte="pointer-events: none;";var Pte=e=>{const t=Mte(e),n=(()=>{const l=`
      cursor: -webkit-grab;
      cursor: grab;
    `;return{selector:t(mf.contextId),styles:{always:`
          -webkit-touch-callout: none;
          -webkit-tap-highlight-color: rgba(0,0,0,0);
          touch-action: manipulation;
        `,resting:l,dragging:Dte,dropAnimating:l}}})(),r=(()=>{const l=`
      transition: ${$m.outOfTheWay};
    `;return{selector:t(kE.contextId),styles:{dragging:l,dropAnimating:l,userCancel:l}}})(),i={selector:t(Cte.contextId),styles:{always:"overflow-anchor: none;"}},o=[r,n,i,{selector:"body",styles:{dragging:`
        cursor: grabbing;
        cursor: -webkit-grabbing;
        user-select: none;
        -webkit-user-select: none;
        -moz-user-select: none;
        -ms-user-select: none;
        overflow-anchor: none;
      `}}];return{always:rm(o,"always"),resting:rm(o,"resting"),dragging:rm(o,"dragging"),dropAnimating:rm(o,"dropAnimating"),userCancel:rm(o,"userCancel")}};const Zi=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u"?S.useLayoutEffect:S.useEffect,N1=()=>{const e=document.querySelector("head");return e||$e(),e},FD=e=>{const t=document.createElement("style");return e&&t.setAttribute("nonce",e),t.type="text/css",t};function Rte(e,t){const n=Ct(()=>Pte(e),[e]),r=S.useRef(null),i=S.useRef(null),a=et(wr(m=>{const b=i.current;b||$e(),b.textContent=m}),[]),o=et(m=>{const b=r.current;b||$e(),b.textContent=m},[]);Zi(()=>{!r.current&&!i.current||$e();const m=FD(t),b=FD(t);return r.current=m,i.current=b,m.setAttribute(`${hf}-always`,e),b.setAttribute(`${hf}-dynamic`,e),N1().appendChild(m),N1().appendChild(b),o(n.always),a(n.resting),()=>{const y=k=>{const w=k.current;w||$e(),N1().removeChild(w),k.current=null};y(r),y(i)}},[t,o,a,n.always,n.resting,e]);const l=et(()=>a(n.dragging),[a,n.dragging]),u=et(m=>{if(m==="DROP"){a(n.dropAnimating);return}a(n.userCancel)},[a,n.dropAnimating,n.userCancel]),d=et(()=>{i.current&&a(n.resting)},[a,n.resting]);return Ct(()=>({dragging:l,dropping:u,resting:d}),[l,u,d])}function v6(e,t){return Array.from(e.querySelectorAll(t))}var x6=e=>e&&e.ownerDocument&&e.ownerDocument.defaultView?e.ownerDocument.defaultView:window;function ux(e){return e instanceof x6(e).HTMLElement}function Lte(e,t){const n=`[${mf.contextId}="${e}"]`,r=v6(document,n);if(!r.length)return null;const i=r.find(a=>a.getAttribute(mf.draggableId)===t);return!i||!ux(i)?null:i}function Ite(e){const t=S.useRef({}),n=S.useRef(null),r=S.useRef(null),i=S.useRef(!1),a=et(function(b,y){const k={id:b,focus:y};return t.current[b]=k,function(){const _=t.current;_[b]!==k&&delete _[b]}},[]),o=et(function(b){const y=Lte(e,b);y&&y!==document.activeElement&&y.focus()},[e]),l=et(function(b,y){n.current===b&&(n.current=y)},[]),u=et(function(){r.current||i.current&&(r.current=requestAnimationFrame(()=>{r.current=null;const b=n.current;b&&o(b)}))},[o]),d=et(function(b){n.current=null;const y=document.activeElement;y&&y.getAttribute(mf.draggableId)===b&&(n.current=b)},[]);return Zi(()=>(i.current=!0,function(){i.current=!1;const b=r.current;b&&cancelAnimationFrame(b)}),[]),Ct(()=>({register:a,tryRecordFocus:d,tryRestoreFocusRecorded:u,tryShiftRecord:l}),[a,d,u,l])}function $te(){const e={draggables:{},droppables:{}},t=[];function n(m){return t.push(m),function(){const y=t.indexOf(m);y!==-1&&t.splice(y,1)}}function r(m){t.length&&t.forEach(b=>b(m))}function i(m){return e.draggables[m]||null}function a(m){const b=i(m);return b||$e(),b}const o={register:m=>{e.draggables[m.descriptor.id]=m,r({type:"ADDITION",value:m})},update:(m,b)=>{const y=e.draggables[b.descriptor.id];y&&y.uniqueId===m.uniqueId&&(delete e.draggables[b.descriptor.id],e.draggables[m.descriptor.id]=m)},unregister:m=>{const b=m.descriptor.id,y=i(b);y&&m.uniqueId===y.uniqueId&&(delete e.draggables[b],e.droppables[m.descriptor.droppableId]&&r({type:"REMOVAL",value:m}))},getById:a,findById:i,exists:m=>!!i(m),getAllByType:m=>Object.values(e.draggables).filter(b=>b.descriptor.type===m)};function l(m){return e.droppables[m]||null}function u(m){const b=l(m);return b||$e(),b}const d={register:m=>{e.droppables[m.descriptor.id]=m},unregister:m=>{const b=l(m.descriptor.id);b&&m.uniqueId===b.uniqueId&&delete e.droppables[m.descriptor.id]},getById:u,findById:l,exists:m=>!!l(m),getAllByType:m=>Object.values(e.droppables).filter(b=>b.descriptor.type===m)};function h(){e.draggables={},e.droppables={},t.length=0}return{draggable:o,droppable:d,subscribe:n,clean:h}}function Bte(){const e=Ct($te,[]);return S.useEffect(()=>function(){e.clean()},[e]),e}var Yj=on.createContext(null),Dy=()=>{const e=document.body;return e||$e(),e};const zte={position:"absolute",width:"1px",height:"1px",margin:"-1px",border:"0",padding:"0",overflow:"hidden",clip:"rect(0 0 0 0)","clip-path":"inset(100%)"},Ute=e=>`rfd-announcement-${e}`;function Fte(e){const t=Ct(()=>Ute(e),[e]),n=S.useRef(null);return S.useEffect(function(){const a=document.createElement("div");return n.current=a,a.id=t,a.setAttribute("aria-live","assertive"),a.setAttribute("aria-atomic","true"),Ny(a.style,zte),Dy().appendChild(a),function(){setTimeout(function(){const u=Dy();u.contains(a)&&u.removeChild(a),a===n.current&&(n.current=null)})}},[t]),et(i=>{const a=n.current;if(a){a.textContent=i;return}},[])}const Hte={separator:"::"};function qj(e,t=Hte){const n=on.useId();return Ct(()=>`${e}${t.separator}${n}`,[t.separator,e,n])}function Gte({contextId:e,uniqueId:t}){return`rfd-hidden-text-${e}-${t}`}function Yte({contextId:e,text:t}){const n=qj("hidden-text",{separator:"-"}),r=Ct(()=>Gte({contextId:e,uniqueId:n}),[n,e]);return S.useEffect(function(){const a=document.createElement("div");return a.id=r,a.textContent=t,a.style.display="none",Dy().appendChild(a),function(){const l=Dy();l.contains(a)&&l.removeChild(a)}},[r,t]),r}var dx=on.createContext(null);function w6(e){const t=S.useRef(e);return S.useEffect(()=>{t.current=e}),t}function qte(){let e=null;function t(){return!!e}function n(o){return o===e}function r(o){e&&$e();const l={abandon:o};return e=l,l}function i(){e||$e(),e=null}function a(){e&&(e.abandon(),i())}return{isClaimed:t,isActive:n,claim:r,release:i,tryAbandon:a}}function tp(e){return e.phase==="IDLE"||e.phase==="DROP_ANIMATING"?!1:e.isDragging}const Kte=9,Wte=13,Kj=27,_6=32,Vte=33,Zte=34,Xte=35,Jte=36,Qte=37,ene=38,tne=39,nne=40,rne={[Wte]:!0,[Kte]:!0};var S6=e=>{rne[e.keyCode]&&e.preventDefault()};const fx=(()=>{const e="visibilitychange";return typeof document>"u"?e:[e,`ms${e}`,`webkit${e}`,`moz${e}`,`o${e}`].find(r=>`on${r}`in document)||e})(),k6=0,HD=5;function ine(e,t){return Math.abs(t.x-e.x)>=HD||Math.abs(t.y-e.y)>=HD}const GD={type:"IDLE"};function ane({cancel:e,completed:t,getPhase:n,setPhase:r}){return[{eventName:"mousemove",fn:i=>{const{button:a,clientX:o,clientY:l}=i;if(a!==k6)return;const u={x:o,y:l},d=n();if(d.type==="DRAGGING"){i.preventDefault(),d.actions.move(u);return}d.type!=="PENDING"&&$e();const h=d.point;if(!ine(h,u))return;i.preventDefault();const m=d.actions.fluidLift(u);r({type:"DRAGGING",actions:m})}},{eventName:"mouseup",fn:i=>{const a=n();if(a.type!=="DRAGGING"){e();return}i.preventDefault(),a.actions.drop({shouldBlockNextClick:!0}),t()}},{eventName:"mousedown",fn:i=>{n().type==="DRAGGING"&&i.preventDefault(),e()}},{eventName:"keydown",fn:i=>{if(n().type==="PENDING"){e();return}if(i.keyCode===Kj){i.preventDefault(),e();return}S6(i)}},{eventName:"resize",fn:e},{eventName:"scroll",options:{passive:!0,capture:!1},fn:()=>{n().type==="PENDING"&&e()}},{eventName:"webkitmouseforcedown",fn:i=>{const a=n();if(a.type==="IDLE"&&$e(),a.actions.shouldRespectForcePress()){e();return}i.preventDefault()}},{eventName:fx,fn:e}]}function one(e){const t=S.useRef(GD),n=S.useRef(Xl),r=Ct(()=>({eventName:"mousedown",fn:function(m){if(m.defaultPrevented||m.button!==k6||m.ctrlKey||m.metaKey||m.shiftKey||m.altKey)return;const b=e.findClosestDraggableId(m);if(!b)return;const y=e.tryGetLock(b,o,{sourceEvent:m});if(!y)return;m.preventDefault();const k={x:m.clientX,y:m.clientY};n.current(),d(y,k)}}),[e]),i=Ct(()=>({eventName:"webkitmouseforcewillbegin",fn:h=>{if(h.defaultPrevented)return;const m=e.findClosestDraggableId(h);if(!m)return;const b=e.findOptionsForDraggable(m);b&&(b.shouldRespectForcePress||e.canGetLock(m)&&h.preventDefault())}}),[e]),a=et(function(){const m={passive:!1,capture:!0};n.current=xa(window,[i,r],m)},[i,r]),o=et(()=>{t.current.type!=="IDLE"&&(t.current=GD,n.current(),a())},[a]),l=et(()=>{const h=t.current;o(),h.type==="DRAGGING"&&h.actions.cancel({shouldBlockNextClick:!0}),h.type==="PENDING"&&h.actions.abort()},[o]),u=et(function(){const m={capture:!0,passive:!1},b=ane({cancel:l,completed:o,getPhase:()=>t.current,setPhase:y=>{t.current=y}});n.current=xa(window,b,m)},[l,o]),d=et(function(m,b){t.current.type!=="IDLE"&&$e(),t.current={type:"PENDING",point:b,actions:m},u()},[u]);Zi(function(){return a(),function(){n.current()}},[a])}function sne(){}const lne={[Zte]:!0,[Vte]:!0,[Jte]:!0,[Xte]:!0};function cne(e,t){function n(){t(),e.cancel()}function r(){t(),e.drop()}return[{eventName:"keydown",fn:i=>{if(i.keyCode===Kj){i.preventDefault(),n();return}if(i.keyCode===_6){i.preventDefault(),r();return}if(i.keyCode===nne){i.preventDefault(),e.moveDown();return}if(i.keyCode===ene){i.preventDefault(),e.moveUp();return}if(i.keyCode===tne){i.preventDefault(),e.moveRight();return}if(i.keyCode===Qte){i.preventDefault(),e.moveLeft();return}if(lne[i.keyCode]){i.preventDefault();return}S6(i)}},{eventName:"mousedown",fn:n},{eventName:"mouseup",fn:n},{eventName:"click",fn:n},{eventName:"touchstart",fn:n},{eventName:"resize",fn:n},{eventName:"wheel",fn:n,options:{passive:!0}},{eventName:fx,fn:n}]}function une(e){const t=S.useRef(sne),n=Ct(()=>({eventName:"keydown",fn:function(a){if(a.defaultPrevented||a.keyCode!==_6)return;const o=e.findClosestDraggableId(a);if(!o)return;const l=e.tryGetLock(o,h,{sourceEvent:a});if(!l)return;a.preventDefault();let u=!0;const d=l.snapLift();t.current();function h(){u||$e(),u=!1,t.current(),r()}t.current=xa(window,cne(d,h),{capture:!0,passive:!1})}}),[e]),r=et(function(){const a={passive:!1,capture:!0};t.current=xa(window,[n],a)},[n]);Zi(function(){return r(),function(){t.current()}},[r])}const O1={type:"IDLE"},dne=120,fne=.15;function hne({cancel:e,getPhase:t}){return[{eventName:"orientationchange",fn:e},{eventName:"resize",fn:e},{eventName:"contextmenu",fn:n=>{n.preventDefault()}},{eventName:"keydown",fn:n=>{if(t().type!=="DRAGGING"){e();return}n.keyCode===Kj&&n.preventDefault(),e()}},{eventName:fx,fn:e}]}function mne({cancel:e,completed:t,getPhase:n}){return[{eventName:"touchmove",options:{capture:!1},fn:r=>{const i=n();if(i.type!=="DRAGGING"){e();return}i.hasMoved=!0;const{clientX:a,clientY:o}=r.touches[0],l={x:a,y:o};r.preventDefault(),i.actions.move(l)}},{eventName:"touchend",fn:r=>{const i=n();if(i.type!=="DRAGGING"){e();return}r.preventDefault(),i.actions.drop({shouldBlockNextClick:!0}),t()}},{eventName:"touchcancel",fn:r=>{if(n().type!=="DRAGGING"){e();return}r.preventDefault(),e()}},{eventName:"touchforcechange",fn:r=>{const i=n();i.type==="IDLE"&&$e();const a=r.touches[0];if(!a||!(a.force>=fne))return;const l=i.actions.shouldRespectForcePress();if(i.type==="PENDING"){l&&e();return}if(l){if(i.hasMoved){r.preventDefault();return}e();return}r.preventDefault()}},{eventName:fx,fn:e}]}function pne(e){const t=S.useRef(O1),n=S.useRef(Xl),r=et(function(){return t.current},[]),i=et(function(y){t.current=y},[]),a=Ct(()=>({eventName:"touchstart",fn:function(y){if(y.defaultPrevented)return;const k=e.findClosestDraggableId(y);if(!k)return;const w=e.tryGetLock(k,l,{sourceEvent:y});if(!w)return;const _=y.touches[0],{clientX:j,clientY:O}=_,T={x:j,y:O};n.current(),m(w,T)}}),[e]),o=et(function(){const y={capture:!0,passive:!1};n.current=xa(window,[a],y)},[a]),l=et(()=>{const b=t.current;b.type!=="IDLE"&&(b.type==="PENDING"&&clearTimeout(b.longPressTimerId),i(O1),n.current(),o())},[o,i]),u=et(()=>{const b=t.current;l(),b.type==="DRAGGING"&&b.actions.cancel({shouldBlockNextClick:!0}),b.type==="PENDING"&&b.actions.abort()},[l]),d=et(function(){const y={capture:!0,passive:!1},k={cancel:u,completed:l,getPhase:r},w=xa(window,mne(k),y),_=xa(window,hne(k),y);n.current=function(){w(),_()}},[u,r,l]),h=et(function(){const y=r();y.type!=="PENDING"&&$e();const k=y.actions.fluidLift(y.point);i({type:"DRAGGING",actions:k,hasMoved:!1})},[r,i]),m=et(function(y,k){r().type!=="IDLE"&&$e();const w=setTimeout(h,dne);i({type:"PENDING",point:k,actions:y,longPressTimerId:w}),d()},[d,r,i,h]);Zi(function(){return o(),function(){n.current();const k=r();k.type==="PENDING"&&(clearTimeout(k.longPressTimerId),i(O1))}},[r,o,i]),Zi(function(){return xa(window,[{eventName:"touchmove",fn:()=>{},options:{capture:!1,passive:!1}}])},[])}const gne=["input","button","textarea","select","option","optgroup","video","audio"];function E6(e,t){if(t==null)return!1;if(gne.includes(t.tagName.toLowerCase()))return!0;const r=t.getAttribute("contenteditable");return r==="true"||r===""?!0:t===e?!1:E6(e,t.parentElement)}function bne(e,t){const n=t.target;return ux(n)?E6(e,n):!1}var yne=e=>no(e.getBoundingClientRect()).center;function vne(e){return e instanceof x6(e).Element}const xne=(()=>{const e="matches";return typeof document>"u"?e:[e,"msMatchesSelector","webkitMatchesSelector"].find(r=>r in Element.prototype)||e})();function j6(e,t){return e==null?null:e[xne](t)?e:j6(e.parentElement,t)}function wne(e,t){return e.closest?e.closest(t):j6(e,t)}function _ne(e){return`[${mf.contextId}="${e}"]`}function Sne(e,t){const n=t.target;if(!vne(n))return null;const r=_ne(e),i=wne(n,r);return!i||!ux(i)?null:i}function kne(e,t){const n=Sne(e,t);return n?n.getAttribute(mf.draggableId):null}function Ene(e,t){const n=`[${kE.contextId}="${e}"]`,i=v6(document,n).find(a=>a.getAttribute(kE.id)===t);return!i||!ux(i)?null:i}function jne(e){e.preventDefault()}function Zg({expected:e,phase:t,isLockActive:n,shouldWarn:r}){return!(!n()||e!==t)}function T6({lockAPI:e,store:t,registry:n,draggableId:r}){if(e.isClaimed())return!1;const i=n.draggable.findById(r);return!(!i||!i.options.isEnabled||!p6(t.getState(),r))}function Tne({lockAPI:e,contextId:t,store:n,registry:r,draggableId:i,forceSensorStop:a,sourceEvent:o}){if(!T6({lockAPI:e,store:n,registry:r,draggableId:i}))return null;const u=r.draggable.getById(i),d=Ene(t,u.descriptor.id);if(!d||o&&!u.options.canDragInteractiveElements&&bne(d,o))return null;const h=e.claim(a||Xl);let m="PRE_DRAG";function b(){return u.options.shouldRespectForcePress}function y(){return e.isActive(h)}function k(M,P){Zg({expected:M,phase:m,isLockActive:y,shouldWarn:!0})&&n.dispatch(P())}const w=k.bind(null,"DRAGGING");function _(M){function P(){e.release(),m="COMPLETED"}m!=="PRE_DRAG"&&(P(),$e()),n.dispatch(wee(M.liftActionArgs)),m="DRAGGING";function I(z,K={shouldBlockNextClick:!1}){if(M.cleanup(),K.shouldBlockNextClick){const G=xa(window,[{eventName:"click",fn:jne,options:{once:!0,passive:!1,capture:!0}}]);setTimeout(G)}P(),n.dispatch(s6({reason:z}))}return{isActive:()=>Zg({expected:"DRAGGING",phase:m,isLockActive:y,shouldWarn:!1}),shouldRespectForcePress:b,drop:z=>I("DROP",z),cancel:z=>I("CANCEL",z),...M.actions}}function j(M){const P=Vm(z=>{w(()=>o6({client:z}))});return{..._({liftActionArgs:{id:i,clientSelection:M,movementMode:"FLUID"},cleanup:()=>P.cancel(),actions:{move:P}}),move:P}}function O(){const M={moveUp:()=>w(Oee),moveRight:()=>w(Mee),moveDown:()=>w(Cee),moveLeft:()=>w(Dee)};return _({liftActionArgs:{id:i,clientSelection:yne(d),movementMode:"SNAP"},cleanup:Xl,actions:M})}function T(){Zg({expected:"PRE_DRAG",phase:m,isLockActive:y,shouldWarn:!0})&&e.release()}return{isActive:()=>Zg({expected:"PRE_DRAG",phase:m,isLockActive:y,shouldWarn:!1}),shouldRespectForcePress:b,fluidLift:j,snapLift:O,abort:T}}const Ane=[one,une,pne];function Nne({contextId:e,store:t,registry:n,customSensors:r,enableDefaultSensors:i}){const a=[...i?Ane:[],...r||[]],o=S.useState(()=>qte())[0],l=et(function(_,j){tp(_)&&!tp(j)&&o.tryAbandon()},[o]);Zi(function(){let _=t.getState();return t.subscribe(()=>{const O=t.getState();l(_,O),_=O})},[o,t,l]),Zi(()=>o.tryAbandon,[o.tryAbandon]);const u=et(w=>T6({lockAPI:o,registry:n,store:t,draggableId:w}),[o,n,t]),d=et((w,_,j)=>Tne({lockAPI:o,registry:n,contextId:e,store:t,draggableId:w,forceSensorStop:_||null,sourceEvent:j&&j.sourceEvent?j.sourceEvent:null}),[e,o,n,t]),h=et(w=>kne(e,w),[e]),m=et(w=>{const _=n.draggable.findById(w);return _?_.options:null},[n.draggable]),b=et(function(){o.isClaimed()&&(o.tryAbandon(),t.getState().phase!=="IDLE"&&t.dispatch($j()))},[o,t]),y=et(()=>o.isClaimed(),[o]),k=Ct(()=>({canGetLock:u,tryGetLock:d,findClosestDraggableId:h,findOptionsForDraggable:m,tryReleaseLock:b,isLockClaimed:y}),[u,d,h,m,b,y]);for(let w=0;w<a.length;w++)a[w](k)}const One=e=>({onBeforeCapture:t=>{const n=()=>{e.onBeforeCapture&&e.onBeforeCapture(t)};Iu.flushSync(n)},onBeforeDragStart:e.onBeforeDragStart,onDragStart:e.onDragStart,onDragEnd:e.onDragEnd,onDragUpdate:e.onDragUpdate}),Cne=e=>({...ep,...e.autoScrollerOptions,durationDampening:{...ep.durationDampening,...e.autoScrollerOptions}});function im(e){return e.current||$e(),e.current}function Mne(e){const{contextId:t,setCallbacks:n,sensors:r,nonce:i,dragHandleUsageInstructions:a}=e,o=S.useRef(null),l=w6(e),u=et(()=>One(l.current),[l]),d=et(()=>Cne(l.current),[l]),h=Fte(t),m=Yte({contextId:t,text:a}),b=Rte(t,i),y=et(G=>{im(o).dispatch(G)},[]),k=Ct(()=>gD({publishWhileDragging:See,updateDroppableScroll:Eee,updateDroppableIsEnabled:jee,updateDroppableIsCombineEnabled:Tee,collectionStarting:kee},y),[y]),w=Bte(),_=Ct(()=>hte(w,k),[w,k]),j=Ct(()=>Ote({scrollWindow:mte,scrollDroppable:_.scrollDroppable,getAutoScrollerOptions:d,...gD({move:o6},y)}),[_.scrollDroppable,y,d]),O=Ite(t),T=Ct(()=>cte({announce:h,autoScroller:j,dimensionMarshal:_,focusMarshal:O,getResponders:u,styleMarshal:b}),[h,j,_,O,u,b]);o.current=T;const C=et(()=>{const G=im(o);G.getState().phase!=="IDLE"&&G.dispatch($j())},[]),M=et(()=>{const G=im(o).getState();return G.phase==="DROP_ANIMATING"?!0:G.phase==="IDLE"?!1:G.isDragging},[]),P=Ct(()=>({isDragging:M,tryAbort:C}),[M,C]);n(P);const I=et(G=>p6(im(o).getState(),G),[]),z=et(()=>lu(im(o).getState()),[]),K=Ct(()=>({marshal:_,focus:O,contextId:t,canLift:I,isMovementAllowed:z,dragHandleUsageInstructionsId:m,registry:w}),[t,_,m,O,I,z,w]);return Nne({contextId:t,store:T,registry:w,customSensors:r||null,enableDefaultSensors:e.enableDefaultSensors!==!1}),S.useEffect(()=>C,[C]),on.createElement(dx.Provider,{value:K},on.createElement(D4,{context:Yj,store:T},e.children))}function Dne(){return on.useId()}function Rp(e){const t=Dne(),n=e.dragHandleUsageInstructions||ty.dragHandleUsageInstructions;return on.createElement(uQ,null,r=>on.createElement(Mne,{nonce:e.nonce,contextId:t,setCallbacks:r,dragHandleUsageInstructions:n,enableDefaultSensors:e.enableDefaultSensors,sensors:e.sensors,onBeforeCapture:e.onBeforeCapture,onBeforeDragStart:e.onBeforeDragStart,onDragStart:e.onDragStart,onDragUpdate:e.onDragUpdate,onDragEnd:e.onDragEnd,autoScrollerOptions:e.autoScrollerOptions},e.children))}const YD={dragging:5e3,dropAnimating:4500},Pne=(e,t)=>t?$m.drop(t.duration):e?$m.snap:$m.fluid,Rne=(e,t)=>{if(e)return t?Qm.opacity.drop:Qm.opacity.combining},Lne=e=>e.forceShouldAnimate!=null?e.forceShouldAnimate:e.mode==="SNAP";function Ine(e){const n=e.dimension.client,{offset:r,combineWith:i,dropping:a}=e,o=!!i,l=Lne(e),u=!!a,d=u?_E.drop(r,o):_E.moveTo(r);return{position:"fixed",top:n.marginBox.top,left:n.marginBox.left,boxSizing:"border-box",width:n.borderBox.width,height:n.borderBox.height,transition:Pne(l,a),transform:d,opacity:Rne(o,u),zIndex:u?YD.dropAnimating:YD.dragging,pointerEvents:"none"}}function $ne(e){return{transform:_E.moveTo(e.offset),transition:e.shouldAnimateDisplacement?void 0:"none"}}function Bne(e){return e.type==="DRAGGING"?Ine(e):$ne(e)}function zne(e,t,n=_r){const r=window.getComputedStyle(t),i=t.getBoundingClientRect(),a=P4(i,r),o=Ay(a,n),l={client:a,tagName:t.tagName.toLowerCase(),display:r.display},u={x:a.marginBox.width,y:a.marginBox.height};return{descriptor:e,placeholder:l,displaceBy:u,client:a,page:o}}function Une(e){const t=qj("draggable"),{descriptor:n,registry:r,getDraggableRef:i,canDragInteractiveElements:a,shouldRespectForcePress:o,isEnabled:l}=e,u=Ct(()=>({canDragInteractiveElements:a,shouldRespectForcePress:o,isEnabled:l}),[a,l,o]),d=et(y=>{const k=i();return k||$e(),zne(n,k,y)},[n,i]),h=Ct(()=>({uniqueId:t,descriptor:n,options:u,getDimension:d}),[n,d,u,t]),m=S.useRef(h),b=S.useRef(!0);Zi(()=>(r.draggable.register(m.current),()=>r.draggable.unregister(m.current)),[r.draggable]),Zi(()=>{if(b.current){b.current=!1;return}const y=m.current;m.current=h,r.draggable.update(h,y)},[h,r.draggable])}var Wj=on.createContext(null);function Py(e){const t=S.useContext(e);return t||$e(),t}function Fne(e){e.preventDefault()}const Hne=e=>{const t=S.useRef(null),n=et((P=null)=>{t.current=P},[]),r=et(()=>t.current,[]),{contextId:i,dragHandleUsageInstructionsId:a,registry:o}=Py(dx),{type:l,droppableId:u}=Py(Wj),d=Ct(()=>({id:e.draggableId,index:e.index,type:l,droppableId:u}),[e.draggableId,e.index,l,u]),{children:h,draggableId:m,isEnabled:b,shouldRespectForcePress:y,canDragInteractiveElements:k,isClone:w,mapped:_,dropAnimationFinished:j}=e;if(!w){const P=Ct(()=>({descriptor:d,registry:o,getDraggableRef:r,canDragInteractiveElements:k,shouldRespectForcePress:y,isEnabled:b}),[d,o,r,k,y,b]);Une(P)}const O=Ct(()=>b?{tabIndex:0,role:"button","aria-describedby":a,"data-rfd-drag-handle-draggable-id":m,"data-rfd-drag-handle-context-id":i,draggable:!1,onDragStart:Fne}:null,[i,a,m,b]),T=et(P=>{_.type==="DRAGGING"&&_.dropping&&P.propertyName==="transform"&&Iu.flushSync(j)},[j,_]),C=Ct(()=>{const P=Bne(_),I=_.type==="DRAGGING"&&_.dropping?T:void 0;return{innerRef:n,draggableProps:{"data-rfd-draggable-context-id":i,"data-rfd-draggable-id":m,style:P,onTransitionEnd:I},dragHandleProps:O}},[i,O,m,_,T,n]),M=Ct(()=>({draggableId:d.id,type:d.type,source:{index:d.index,droppableId:d.droppableId}}),[d.droppableId,d.id,d.index,d.type]);return on.createElement(on.Fragment,null,h(C,_.snapshot,M))};var A6=(e,t)=>e===t,N6=e=>{const{combine:t,destination:n}=e;return n?n.droppableId:t?t.droppableId:null};const Gne=e=>e.combine?e.combine.draggableId:null,Yne=e=>e.at&&e.at.type==="COMBINE"?e.at.combine.draggableId:null;function qne(){const e=wr((i,a)=>({x:i,y:a})),t=wr((i,a,o=null,l=null,u=null)=>({isDragging:!0,isClone:a,isDropAnimating:!!u,dropAnimation:u,mode:i,draggingOver:o,combineWith:l,combineTargetFor:null})),n=wr((i,a,o,l,u=null,d=null,h=null)=>({mapped:{type:"DRAGGING",dropping:null,draggingOver:u,combineWith:d,mode:a,offset:i,dimension:o,forceShouldAnimate:h,snapshot:t(a,l,u,d,null)}}));return(i,a)=>{if(tp(i)){if(i.critical.draggable.id!==a.draggableId)return null;const o=i.current.client.offset,l=i.dimensions.draggables[a.draggableId],u=Vi(i.impact),d=Yne(i.impact),h=i.forceShouldAnimate;return n(e(o.x,o.y),i.movementMode,l,a.isClone,u,d,h)}if(i.phase==="DROP_ANIMATING"){const o=i.completed;if(o.result.draggableId!==a.draggableId)return null;const l=a.isClone,u=i.dimensions.draggables[a.draggableId],d=o.result,h=d.mode,m=N6(d),b=Gne(d),k={duration:i.dropDuration,curve:zj.drop,moveTo:i.newHomeClientOffset,opacity:b?Qm.opacity.drop:null,scale:b?Qm.scale.drop:null};return{mapped:{type:"DRAGGING",offset:i.newHomeClientOffset,dimension:u,dropping:k,draggingOver:m,combineWith:b,mode:h,forceShouldAnimate:null,snapshot:t(h,l,m,b,k)}}}return null}}function O6(e=null){return{isDragging:!1,isDropAnimating:!1,isClone:!1,dropAnimation:null,mode:null,draggingOver:null,combineTargetFor:e,combineWith:null}}const Kne={mapped:{type:"SECONDARY",offset:_r,combineTargetFor:null,shouldAnimateDisplacement:!0,snapshot:O6(null)}};function Wne(){const e=wr((o,l)=>({x:o,y:l})),t=wr(O6),n=wr((o,l=null,u)=>({mapped:{type:"SECONDARY",offset:o,combineTargetFor:l,shouldAnimateDisplacement:u,snapshot:t(l)}})),r=o=>o?n(_r,o,!0):null,i=(o,l,u,d)=>{const h=u.displaced.visible[o],m=!!(d.inVirtualList&&d.effected[o]),b=sx(u),y=b&&b.draggableId===o?l:null;if(!h){if(!m)return r(y);if(u.displaced.invisible[o])return null;const _=Cf(d.displacedBy.point),j=e(_.x,_.y);return n(j,y,!0)}if(m)return r(y);const k=u.displacedBy.point,w=e(k.x,k.y);return n(w,y,h.shouldAnimate)};return(o,l)=>{if(tp(o))return o.critical.draggable.id===l.draggableId?null:i(l.draggableId,o.critical.draggable.id,o.impact,o.afterCritical);if(o.phase==="DROP_ANIMATING"){const u=o.completed;return u.result.draggableId===l.draggableId?null:i(l.draggableId,u.result.draggableId,u.impact,u.afterCritical)}return null}}const Vne=()=>{const e=qne(),t=Wne();return(r,i)=>e(r,i)||t(r,i)||Kne},Zne={dropAnimationFinished:l6},Xne=M4(Vne,Zne,null,{context:Yj,areStatePropsEqual:A6})(Hne);function C6(e){return Py(Wj).isUsingCloneFor===e.draggableId&&!e.isClone?null:on.createElement(Xne,e)}function Pf(e){const t=typeof e.isDragDisabled=="boolean"?!e.isDragDisabled:!0,n=!!e.disableInteractiveElementBlocking,r=!!e.shouldRespectForcePress;return on.createElement(C6,Ny({},e,{isClone:!1,isEnabled:t,canDragInteractiveElements:n,shouldRespectForcePress:r}))}const M6=e=>t=>e===t,Jne=M6("scroll"),Qne=M6("auto"),qD=(e,t)=>t(e.overflowX)||t(e.overflowY),ere=e=>{const t=window.getComputedStyle(e),n={overflowX:t.overflowX,overflowY:t.overflowY};return qD(n,Jne)||qD(n,Qne)},tre=()=>!1,D6=e=>e==null?null:e===document.body?tre()?e:null:e===document.documentElement?null:ere(e)?e:D6(e.parentElement);var EE=e=>({x:e.scrollLeft,y:e.scrollTop});const P6=e=>e?window.getComputedStyle(e).position==="fixed"?!0:P6(e.parentElement):!1;var nre=e=>{const t=D6(e),n=P6(e);return{closestScrollable:t,isFixedOnPage:n}},rre=({descriptor:e,isEnabled:t,isCombineEnabled:n,isFixedOnPage:r,direction:i,client:a,page:o,closest:l})=>{const u=(()=>{if(!l)return null;const{scrollSize:b,client:y}=l,k=f6({scrollHeight:b.scrollHeight,scrollWidth:b.scrollWidth,height:y.paddingBox.height,width:y.paddingBox.width});return{pageMarginBox:l.page.marginBox,frameClient:y,scrollSize:b,shouldClipSubject:l.shouldClipSubject,scroll:{initial:l.scroll,current:l.scroll,max:k,diff:{value:_r,displacement:_r}}}})(),d=i==="vertical"?Dj:Y4,h=ff({page:o,withPlaceholder:null,axis:d,frame:u});return{descriptor:e,isCombineEnabled:n,isFixedOnPage:r,axis:d,isEnabled:t,client:a,page:o,frame:u,subject:h}};const ire=(e,t)=>{const n=R4(e);if(!t||e!==t)return n;const r=n.paddingBox.top-t.scrollTop,i=n.paddingBox.left-t.scrollLeft,a=r+t.scrollHeight,o=i+t.scrollWidth,u=Nj({top:r,right:o,bottom:a,left:i},n.border);return Oj({borderBox:u,margin:n.margin,border:n.border,padding:n.padding})};var are=({ref:e,descriptor:t,env:n,windowScroll:r,direction:i,isDropDisabled:a,isCombineEnabled:o,shouldClipSubject:l})=>{const u=n.closestScrollable,d=ire(e,u),h=Ay(d,r),m=(()=>{if(!u)return null;const y=R4(u),k={scrollHeight:u.scrollHeight,scrollWidth:u.scrollWidth};return{client:y,page:Ay(y,r),scroll:EE(u),scrollSize:k,shouldClipSubject:l}})();return rre({descriptor:t,isEnabled:!a,isCombineEnabled:o,isFixedOnPage:n.isFixedOnPage,direction:i,client:d,page:h,closest:m})};const ore={passive:!1},sre={passive:!0};var KD=e=>e.shouldPublishImmediately?ore:sre;const Xg=e=>e&&e.env.closestScrollable||null;function lre(e){const t=S.useRef(null),n=Py(dx),r=qj("droppable"),{registry:i,marshal:a}=n,o=w6(e),l=Ct(()=>({id:e.droppableId,type:e.type,mode:e.mode}),[e.droppableId,e.mode,e.type]),u=S.useRef(l),d=Ct(()=>wr((C,M)=>{t.current||$e();const P={x:C,y:M};a.updateDroppableScroll(l.id,P)}),[l.id,a]),h=et(()=>{const C=t.current;return!C||!C.env.closestScrollable?_r:EE(C.env.closestScrollable)},[]),m=et(()=>{const C=h();d(C.x,C.y)},[h,d]),b=Ct(()=>Vm(m),[m]),y=et(()=>{const C=t.current,M=Xg(C);if(C&&M||$e(),C.scrollOptions.shouldPublishImmediately){m();return}b()},[b,m]),k=et((C,M)=>{t.current&&$e();const P=o.current,I=P.getDroppableRef();I||$e();const z=nre(I),K={ref:I,descriptor:l,env:z,scrollOptions:M};t.current=K;const G=are({ref:I,descriptor:l,env:z,windowScroll:C,direction:P.direction,isDropDisabled:P.isDropDisabled,isCombineEnabled:P.isCombineEnabled,shouldClipSubject:!P.ignoreContainerClipping}),F=z.closestScrollable;return F&&(F.setAttribute(UD.contextId,n.contextId),F.addEventListener("scroll",y,KD(K.scrollOptions))),G},[n.contextId,l,y,o]),w=et(()=>{const C=t.current,M=Xg(C);return C&&M||$e(),EE(M)},[]),_=et(()=>{const C=t.current;C||$e();const M=Xg(C);t.current=null,M&&(b.cancel(),M.removeAttribute(UD.contextId),M.removeEventListener("scroll",y,KD(C.scrollOptions)))},[y,b]),j=et(C=>{const M=t.current;M||$e();const P=Xg(M);P||$e(),P.scrollTop+=C.y,P.scrollLeft+=C.x},[]),O=Ct(()=>({getDimensionAndWatchScroll:k,getScrollWhileDragging:w,dragStopped:_,scroll:j}),[_,k,w,j]),T=Ct(()=>({uniqueId:r,descriptor:l,callbacks:O}),[O,l,r]);Zi(()=>(u.current=T.descriptor,i.droppable.register(T),()=>{t.current&&_(),i.droppable.unregister(T)}),[O,l,_,T,a,i.droppable]),Zi(()=>{t.current&&a.updateDroppableIsEnabled(u.current.id,!e.isDropDisabled)},[e.isDropDisabled,a]),Zi(()=>{t.current&&a.updateDroppableIsCombineEnabled(u.current.id,e.isCombineEnabled)},[e.isCombineEnabled,a])}function C1(){}const WD={width:0,height:0,margin:bQ},cre=({isAnimatingOpenOnMount:e,placeholder:t,animate:n})=>e||n==="close"?WD:{height:t.client.borderBox.height,width:t.client.borderBox.width,margin:t.client.margin},ure=({isAnimatingOpenOnMount:e,placeholder:t,animate:n})=>{const r=cre({isAnimatingOpenOnMount:e,placeholder:t,animate:n});return{display:t.display,boxSizing:"border-box",width:r.width,height:r.height,marginTop:r.margin.top,marginRight:r.margin.right,marginBottom:r.margin.bottom,marginLeft:r.margin.left,flexShrink:"0",flexGrow:"0",pointerEvents:"none",transition:n!=="none"?$m.placeholder:null}},dre=e=>{const t=S.useRef(null),n=et(()=>{t.current&&(clearTimeout(t.current),t.current=null)},[]),{animate:r,onTransitionEnd:i,onClose:a,contextId:o}=e,[l,u]=S.useState(e.animate==="open");S.useEffect(()=>l?r!=="open"?(n(),u(!1),C1):t.current?C1:(t.current=setTimeout(()=>{t.current=null,u(!1)}),n):C1,[r,l,n]);const d=et(m=>{m.propertyName==="height"&&(i(),r==="close"&&a())},[r,a,i]),h=ure({isAnimatingOpenOnMount:l,animate:e.animate,placeholder:e.placeholder});return on.createElement(e.placeholder.tagName,{style:h,"data-rfd-placeholder-context-id":o,onTransitionEnd:d,ref:e.innerRef})};var fre=on.memo(dre);class hre extends on.PureComponent{constructor(...t){super(...t),this.state={isVisible:!!this.props.on,data:this.props.on,animate:this.props.shouldAnimate&&this.props.on?"open":"none"},this.onClose=()=>{this.state.animate==="close"&&this.setState({isVisible:!1})}}static getDerivedStateFromProps(t,n){return t.shouldAnimate?t.on?{isVisible:!0,data:t.on,animate:"open"}:n.isVisible?{isVisible:!0,data:n.data,animate:"close"}:{isVisible:!1,animate:"close",data:null}:{isVisible:!!t.on,data:t.on,animate:"none"}}render(){if(!this.state.isVisible)return null;const t={onClose:this.onClose,data:this.state.data,animate:this.state.animate};return this.props.children(t)}}const mre=e=>{const t=S.useContext(dx);t||$e();const{contextId:n,isMovementAllowed:r}=t,i=S.useRef(null),a=S.useRef(null),{children:o,droppableId:l,type:u,mode:d,direction:h,ignoreContainerClipping:m,isDropDisabled:b,isCombineEnabled:y,snapshot:k,useClone:w,updateViewportMaxScroll:_,getContainerForClone:j}=e,O=et(()=>i.current,[]),T=et((F=null)=>{i.current=F},[]);et(()=>a.current,[]);const C=et((F=null)=>{a.current=F},[]),M=et(()=>{r()&&_({maxScroll:m6()})},[r,_]);lre({droppableId:l,type:u,mode:d,direction:h,isDropDisabled:b,isCombineEnabled:y,ignoreContainerClipping:m,getDroppableRef:O});const P=Ct(()=>on.createElement(hre,{on:e.placeholder,shouldAnimate:e.shouldAnimatePlaceholder},({onClose:F,data:B,animate:q})=>on.createElement(fre,{placeholder:B,onClose:F,innerRef:C,animate:q,contextId:n,onTransitionEnd:M})),[n,M,e.placeholder,e.shouldAnimatePlaceholder,C]),I=Ct(()=>({innerRef:T,placeholder:P,droppableProps:{"data-rfd-droppable-id":l,"data-rfd-droppable-context-id":n}}),[n,l,P,T]),z=w?w.dragging.draggableId:null,K=Ct(()=>({droppableId:l,type:u,isUsingCloneFor:z}),[l,z,u]);function G(){if(!w)return null;const{dragging:F,render:B}=w,q=on.createElement(C6,{draggableId:F.draggableId,index:F.source.index,isClone:!0,isEnabled:!0,shouldRespectForcePress:!1,canDragInteractiveElements:!0},(X,Z)=>B(X,Z,F));return yK.createPortal(q,j())}return on.createElement(Wj.Provider,{value:K},o(I,k),G())};function pre(){return document.body||$e(),document.body}const VD={mode:"standard",type:"DEFAULT",direction:"vertical",isDropDisabled:!1,isCombineEnabled:!1,ignoreContainerClipping:!1,renderClone:null,getContainerForClone:pre},R6=e=>{let t={...e},n;for(n in VD)e[n]===void 0&&(t={...t,[n]:VD[n]});return t},M1=(e,t)=>e===t.droppable.type,ZD=(e,t)=>t.draggables[e.draggable.id],gre=()=>{const e={placeholder:null,shouldAnimatePlaceholder:!0,snapshot:{isDraggingOver:!1,draggingOverWith:null,draggingFromThisWith:null,isUsingPlaceholder:!1},useClone:null},t={...e,shouldAnimatePlaceholder:!1},n=wr(a=>({draggableId:a.id,type:a.type,source:{index:a.index,droppableId:a.droppableId}})),r=wr((a,o,l,u,d,h)=>{const m=d.descriptor.id;if(d.descriptor.droppableId===a){const k=h?{render:h,dragging:n(d.descriptor)}:null,w={isDraggingOver:l,draggingOverWith:l?m:null,draggingFromThisWith:m,isUsingPlaceholder:!0};return{placeholder:d.placeholder,shouldAnimatePlaceholder:!1,snapshot:w,useClone:k}}if(!o)return t;if(!u)return e;const y={isDraggingOver:l,draggingOverWith:m,draggingFromThisWith:null,isUsingPlaceholder:!0};return{placeholder:d.placeholder,shouldAnimatePlaceholder:!0,snapshot:y,useClone:null}});return(a,o)=>{const l=R6(o),u=l.droppableId,d=l.type,h=!l.isDropDisabled,m=l.renderClone;if(tp(a)){const b=a.critical;if(!M1(d,b))return t;const y=ZD(b,a.dimensions),k=Vi(a.impact)===u;return r(u,h,k,k,y,m)}if(a.phase==="DROP_ANIMATING"){const b=a.completed;if(!M1(d,b.critical))return t;const y=ZD(b.critical,a.dimensions);return r(u,h,N6(b.result)===u,Vi(b.impact)===u,y,m)}if(a.phase==="IDLE"&&a.completed&&!a.shouldFlush){const b=a.completed;if(!M1(d,b.critical))return t;const y=Vi(b.impact)===u,k=!!(b.impact.at&&b.impact.at.type==="COMBINE"),w=b.critical.droppable.id===u;return y?k?e:t:w?e:t}return t}},bre={updateViewportMaxScroll:Nee},Rf=M4(gre,bre,(e,t,n)=>({...R6(n),...e,...t}),{context:Yj,areStatePropsEqual:A6})(mre),yre={1948:{start:new Date(1948,4,1),end:new Date(1948,7,13)},1949:{start:new Date(1949,2,3),end:new Date(1949,7,11)},1950:{start:new Date(1950,2,1),end:new Date(1950,7,10)},1951:{start:new Date(1951,3,6),end:new Date(1951,7,9)},1955:{start:new Date(1955,3,5),end:new Date(1955,7,9)},1956:{start:new Date(1956,3,20),end:new Date(1956,7,30)},1957:{start:new Date(1957,3,5),end:new Date(1957,7,22)},1958:{start:new Date(1958,3,4),end:new Date(1958,7,21)},1959:{start:new Date(1959,3,3),end:new Date(1959,7,20)},1960:{start:new Date(1960,3,1),end:new Date(1960,7,18)},1987:{start:new Date(1987,3,10),end:new Date(1987,8,11)},1988:{start:new Date(1988,3,8),end:new Date(1988,8,9)}};function np(e,t,n){const r=yre[e];if(!r)return!1;const i=new Date(e,t-1,n,0,0,0,0);return i>=r.start&&i<r.end}function vre(e){if(!isFinite(e.getTime()))return 0;const t=e.getUTCFullYear(),n=Date.UTC(t,0,1),i=Math.floor((e.getTime()-n)/864e5)+1,a=e.getUTCHours(),o=e.getUTCMinutes(),l=e.getUTCSeconds(),u=(a-12)/24+o/1440+l/86400,d=2*Math.PI/365*(i-1+u);return 229.18*(75e-6+.001868*Math.cos(d)-.032077*Math.sin(d)-.014615*Math.cos(2*d)-.040849*Math.sin(2*d))}function xre(e){return e=(e+540)%360-180,e>=124&&e<=132||e>=129&&e<=146?135:e>=73&&e<=135?120:e>=-161&&e<=-154?-150:e>=-170&&e<-161?-165:e>=-150&&e<-141?-135:e>=-141&&e<-126?-120:e>=-126&&e<-111?-105:e>=-111&&e<-96?-90:e>=-96&&e<-81?-75:Math.round(e/15)*15}function Lp(e,t,n=!1){const r=new Date(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),0,0);if(n)return new Date(r.getTime()-1800*1e3);if(t==null||!isFinite(t))return r;let i=t;Math.abs(i)<=Math.PI+1e-6&&(i=i*180/Math.PI),i=(i+540)%360-180;const a=xre(i),o=4*(i-a),l=vre(r);return new Date(r.getTime()+(o+l)*60*1e3)}function L6(e){return e.replace(/\D/g,"")}function wre(e,t,n){if(!Number.isFinite(e)||!Number.isFinite(t)||!Number.isFinite(n)||e<1800||e>2200||t<1||t>12||n<1||n>31)return!1;const r=new Date(e,t-1,n);return r.getFullYear()===e&&r.getMonth()+1===t&&r.getDate()===n}function _re(e,t){return!(!Number.isFinite(e)||!Number.isFinite(t)||e<0||e>23||t<0||t>59)}function Lf(e){const t=L6(e.trim());if(t.length!==8)return null;const n=Number(t.slice(0,4)),r=Number(t.slice(4,6)),i=Number(t.slice(6,8));return wre(n,r,i)?{y:n,m:r,d:i}:null}function Ip(e){const t=e.trim();if(!t||t==="")return null;const n=L6(t);if(n.length!==4)return null;const r=Number(n.slice(0,2)),i=Number(n.slice(2,4));return _re(r,i)?{hh:r,mm:i}:null}function hx(e){const t=e.trim(),n=Lf(t);if(!n)return t;const r=String(n.y).padStart(4,"0"),i=String(n.m).padStart(2,"0"),a=String(n.d).padStart(2,"0");return`${r}${i}${a}`}function mx(e){const t=e.trim();if(t==="")return"";const n=Ip(t);if(!n)return t;const r=String(n.hh).padStart(2,"0"),i=String(n.mm).padStart(2,"0");return`${r}${i}`}var ny={exports:{}},Sre=ny.exports,XD;function kre(){return XD||(XD=1,(function(e,t){(function(n,r){e.exports=r()})(Sre,function(){return(function(n){function r(a){if(i[a])return i[a].exports;var o=i[a]={i:a,l:!1,exports:{}};return n[a].call(o.exports,o,o.exports,r),o.l=!0,o.exports}var i={};return r.m=n,r.c=i,r.d=function(a,o,l){r.o(a,o)||Object.defineProperty(a,o,{configurable:!1,enumerable:!0,get:l})},r.n=function(a){var o=a&&a.__esModule?function(){return a.default}:function(){return a};return r.d(o,"a",o),o},r.o=function(a,o){return Object.prototype.hasOwnProperty.call(a,o)},r.p="",r(r.s=0)})([function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var a=i(1),o=(function(l){return l&&l.__esModule?l:{default:l}})(a);r.default=o.default,n.exports=r.default},function(n,r,i){function a(q){return q&&q.__esModule?q:{default:q}}Object.defineProperty(r,"__esModule",{value:!0});var o=i(2),l=a(o),u=i(3),d=a(u),h=i(4),m=a(h),b=i(5),y=a(b),k=i(6),w=a(k),_=i(7),j=a(_),O=i(8),T=a(O),C=i(9),M=a(C),P=i(10),I=a(P),z=i(11),K=a(z),G=i(12),F=a(G),B={lunarInfo:l.default,solarMonth:d.default,gan:m.default,zhi:y.default,animals:w.default,lunarTerm:j.default,lTermInfo:T.default,nStr1:M.default,nStr2:I.default,nStr3:K.default,nStr4:F.default,lYearDays:function(q){var X,Z=348;for(X=32768;X>8;X>>=1)Z+=B.lunarInfo[q-1900]&X?1:0;return Z+B.leapDays(q)},leapMonth:function(q){return 15&B.lunarInfo[q-1900]},leapDays:function(q){return B.leapMonth(q)?65536&B.lunarInfo[q-1900]?30:29:0},monthDays:function(q,X){return X>12||X<1?-1:B.lunarInfo[q-1900]&65536>>X?30:29},solarDays:function(q,X){if(X>12||X<1)return-1;var Z=X-1;return Z==1?q%4==0&&q%100!=0||q%400==0?29:28:B.solarMonth[Z]},toGanZhi:function(q){return B.gan[q%10]+B.zhi[q%12]},getTerm:function(q,X){if(q<1900||q>2100||X<1||X>24)return-1;var Z=B.lTermInfo[q-1900],Y=[parseInt("0x"+Z.substr(0,5)).toString(),parseInt("0x"+Z.substr(5,5)).toString(),parseInt("0x"+Z.substr(10,5)).toString(),parseInt("0x"+Z.substr(15,5)).toString(),parseInt("0x"+Z.substr(20,5)).toString(),parseInt("0x"+Z.substr(25,5)).toString()],V=[Y[0].substr(0,1),Y[0].substr(1,2),Y[0].substr(3,1),Y[0].substr(4,2),Y[1].substr(0,1),Y[1].substr(1,2),Y[1].substr(3,1),Y[1].substr(4,2),Y[2].substr(0,1),Y[2].substr(1,2),Y[2].substr(3,1),Y[2].substr(4,2),Y[3].substr(0,1),Y[3].substr(1,2),Y[3].substr(3,1),Y[3].substr(4,2),Y[4].substr(0,1),Y[4].substr(1,2),Y[4].substr(3,1),Y[4].substr(4,2),Y[5].substr(0,1),Y[5].substr(1,2),Y[5].substr(3,1),Y[5].substr(4,2)];return parseInt(V[X-1])},toChinaYear:function(q){var X=parseInt(q/1e3),Z=parseInt(q%1e3/100),Y=parseInt(q%100/10),V=q%10;return B.nStr4[X]+B.nStr4[Z]+B.nStr4[Y]+B.nStr4[V]+""},toChinaMonth:function(q){if(q>12||q<1)return-1;var X=B.nStr3[q-1];return X+=""},toChinaDay:function(q){var X;switch(q){case 10:X="";break;case 20:X="";break;case 30:X="";break;default:X=B.nStr2[Math.floor(q/10)],X+=B.nStr1[q%10]}return X},getAnimal:function(q){return B.animals[(q-4)%12]},solar2lunar:function(se,ce,W){if(se<1900||se>2100||se==1900&&ce==1&&W<31)return-1;if(se)var Y=new Date(se,parseInt(ce)-1,W);else var Y=new Date;var V,me=0,Q=0,se=Y.getFullYear(),ce=Y.getMonth()+1,W=Y.getDate(),ne=(Date.UTC(Y.getFullYear(),Y.getMonth(),Y.getDate())-Date.UTC(1900,0,31))/864e5;for(V=1900;V<2101&&ne>0;V++)Q=B.lYearDays(V),ne-=Q;ne<0&&(ne+=Q,V--);var ie=new Date,he=!1;ie.getFullYear()==se&&ie.getMonth()+1==ce&&ie.getDate()==W&&(he=!0);var J=Y.getDay(),ae=B.nStr1[J];J==0&&(J=7);var pe=V,me=B.leapMonth(V),ee=!1;for(V=1;V<13&&ne>0;V++)me>0&&V==me+1&&ee==0?(--V,ee=!0,Q=B.leapDays(pe)):Q=B.monthDays(pe,V),ee==1&&V==me+1&&(ee=!1),ne-=Q;ne==0&&me>0&&V==me+1&&(ee?ee=!1:(ee=!0,--V)),ne<0&&(ne+=Q,--V);var je=V,xe=ne+1,ue=ce-1,Ee=B.getTerm(se,3),Me=B.toGanZhi(se-4),Ie=new Date(se,1,Ee).getTime();new Date(se,ue,W).getTime()<Ie&&(Me=B.toGanZhi(se-5));var Ke=B.getTerm(se,2*ce-1),ht=B.getTerm(se,2*ce),mt=B.toGanZhi(12*(se-1900)+ce+11);W>=Ke&&(mt=B.toGanZhi(12*(se-1900)+ce+12));var De=!1,ze="";Ke==W&&(De=!0,ze=B.lunarTerm[2*ce-2]),ht==W&&(De=!0,ze=B.lunarTerm[2*ce-1]);var Ge=Date.UTC(se,ue,1,0,0,0,0)/864e5+25567+10,oe=B.toGanZhi(Ge+W-1);return{lYear:pe,lMonth:je,lDay:xe,animal:B.getAnimal(pe),yearCn:B.toChinaYear(pe),monthCn:(ee&&me===je?"":"")+B.toChinaMonth(je),dayCn:B.toChinaDay(xe),cYear:se,cMonth:ce,cDay:W,gzYear:Me,gzMonth:mt,gzDay:oe,isToday:he,isLeap:ee,nWeek:J,ncWeek:""+ae,isTerm:De,term:ze}},lunar2solar:function(q,X,Z,Y){var V=B.leapMonth(q);if(B.leapDays(q),Y&&V!=X||q==2100&&X==12&&Z>1||q==1900&&X==1&&Z<31)return-1;var Q=B.monthDays(q,X);if(q<1900||q>2100||Z>Q)return-1;for(var se=0,ce=1900;ce<q;ce++)se+=B.lYearDays(ce);for(var W=0,ne=!1,ce=1;ce<X;ce++)W=B.leapMonth(q),ne||W<=ce&&W>0&&(se+=B.leapDays(q),ne=!0),se+=B.monthDays(q,ce);Y&&(se+=Q);var ie=Date.UTC(1900,1,30,0,0,0),he=new Date(864e5*(se+Z-31)+ie),J=he.getUTCFullYear(),ae=he.getUTCMonth()+1,pe=he.getUTCDate();return B.solar2lunar(J,ae,pe)}};r.default=B,n.exports=r.default},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.default=[19416,19168,42352,21717,53856,55632,91476,22176,39632,21970,19168,42422,42192,53840,119381,46400,54944,44450,38320,84343,18800,42160,46261,27216,27968,109396,11104,38256,21234,18800,25958,54432,59984,28309,23248,11104,100067,37600,116951,51536,54432,120998,46416,22176,107956,9680,37584,53938,43344,46423,27808,46416,86869,19872,42416,83315,21168,43432,59728,27296,44710,43856,19296,43748,42352,21088,62051,55632,23383,22176,38608,19925,19152,42192,54484,53840,54616,46400,46752,103846,38320,18864,43380,42160,45690,27216,27968,44870,43872,38256,19189,18800,25776,29859,59984,27480,23232,43872,38613,37600,51552,55636,54432,55888,30034,22176,43959,9680,37584,51893,43344,46240,47780,44368,21977,19360,42416,86390,21168,43312,31060,27296,44368,23378,19296,42726,42208,53856,60005,54576,23200,30371,38608,19195,19152,42192,118966,53840,54560,56645,46496,22224,21938,18864,42359,42160,43600,111189,27936,44448,84835,37744,18936,18800,25776,92326,59984,27424,108228,43744,37600,53987,51552,54615,54432,55888,23893,22176,42704,21972,21200,43448,43344,46240,46758,44368,21920,43940,42416,21168,45683,26928,29495,27296,44368,84821,19296,42352,21732,53600,59752,54560,55968,92838,22224,19168,43476,42192,53584,62034,54560],n.exports=r.default},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.default=[31,28,31,30,31,30,31,31,30,31,30,31],n.exports=r.default},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.default=["","","","","","","","","",""],n.exports=r.default},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.default=["","","","","","","","","","","",""],n.exports=r.default},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.default=["","","","","","","","","","","",""],n.exports=r.default},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.default=["","","","","","","","","","","","","","","","","","","","","","","",""],n.exports=r.default},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.default=["9778397bd097c36b0b6fc9274c91aa","97b6b97bd19801ec9210c965cc920e","97bcf97c3598082c95f8c965cc920f","97bd0b06bdb0722c965ce1cfcc920f","b027097bd097c36b0b6fc9274c91aa","97b6b97bd19801ec9210c965cc920e","97bcf97c359801ec95f8c965cc920f","97bd0b06bdb0722c965ce1cfcc920f","b027097bd097c36b0b6fc9274c91aa","97b6b97bd19801ec9210c965cc920e","97bcf97c359801ec95f8c965cc920f","97bd0b06bdb0722c965ce1cfcc920f","b027097bd097c36b0b6fc9274c91aa","9778397bd19801ec9210c965cc920e","97b6b97bd19801ec95f8c965cc920f","97bd09801d98082c95f8e1cfcc920f","97bd097bd097c36b0b6fc9210c8dc2","9778397bd197c36c9210c9274c91aa","97b6b97bd19801ec95f8c965cc920e","97bd09801d98082c95f8e1cfcc920f","97bd097bd097c36b0b6fc9210c8dc2","9778397bd097c36c9210c9274c91aa","97b6b97bd19801ec95f8c965cc920e","97bcf97c3598082c95f8e1cfcc920f","97bd097bd097c36b0b6fc9210c8dc2","9778397bd097c36c9210c9274c91aa","97b6b97bd19801ec9210c965cc920e","97bcf97c3598082c95f8c965cc920f","97bd097bd097c35b0b6fc920fb0722","9778397bd097c36b0b6fc9274c91aa","97b6b97bd19801ec9210c965cc920e","97bcf97c3598082c95f8c965cc920f","97bd097bd097c35b0b6fc920fb0722","9778397bd097c36b0b6fc9274c91aa","97b6b97bd19801ec9210c965cc920e","97bcf97c359801ec95f8c965cc920f","97bd097bd097c35b0b6fc920fb0722","9778397bd097c36b0b6fc9274c91aa","97b6b97bd19801ec9210c965cc920e","97bcf97c359801ec95f8c965cc920f","97bd097bd097c35b0b6fc920fb0722","9778397bd097c36b0b6fc9274c91aa","97b6b97bd19801ec9210c965cc920e","97bcf97c359801ec95f8c965cc920f","97bd097bd07f595b0b6fc920fb0722","9778397bd097c36b0b6fc9210c8dc2","9778397bd19801ec9210c9274c920e","97b6b97bd19801ec95f8c965cc920f","97bd07f5307f595b0b0bc920fb0722","7f0e397bd097c36b0b6fc9210c8dc2","9778397bd097c36c9210c9274c920e","97b6b97bd19801ec95f8c965cc920f","97bd07f5307f595b0b0bc920fb0722","7f0e397bd097c36b0b6fc9210c8dc2","9778397bd097c36c9210c9274c91aa","97b6b97bd19801ec9210c965cc920e","97bd07f1487f595b0b0bc920fb0722","7f0e397bd097c36b0b6fc9210c8dc2","9778397bd097c36b0b6fc9274c91aa","97b6b97bd19801ec9210c965cc920e","97bcf7f1487f595b0b0bb0b6fb0722","7f0e397bd097c35b0b6fc920fb0722","9778397bd097c36b0b6fc9274c91aa","97b6b97bd19801ec9210c965cc920e","97bcf7f1487f595b0b0bb0b6fb0722","7f0e397bd097c35b0b6fc920fb0722","9778397bd097c36b0b6fc9274c91aa","97b6b97bd19801ec9210c965cc920e","97bcf7f1487f531b0b0bb0b6fb0722","7f0e397bd097c35b0b6fc920fb0722","9778397bd097c36b0b6fc9274c91aa","97b6b97bd19801ec9210c965cc920e","97bcf7f1487f531b0b0bb0b6fb0722","7f0e397bd07f595b0b6fc920fb0722","9778397bd097c36b0b6fc9274c91aa","97b6b97bd19801ec9210c9274c920e","97bcf7f0e47f531b0b0bb0b6fb0722","7f0e397bd07f595b0b0bc920fb0722","9778397bd097c36b0b6fc9210c91aa","97b6b97bd197c36c9210c9274c920e","97bcf7f0e47f531b0b0bb0b6fb0722","7f0e397bd07f595b0b0bc920fb0722","9778397bd097c36b0b6fc9210c8dc2","9778397bd097c36c9210c9274c920e","97b6b7f0e47f531b0723b0b6fb0722","7f0e37f5307f595b0b0bc920fb0722","7f0e397bd097c36b0b6fc9210c8dc2","9778397bd097c36b0b70c9274c91aa","97b6b7f0e47f531b0723b0b6fb0721","7f0e37f1487f595b0b0bb0b6fb0722","7f0e397bd097c35b0b6fc9210c8dc2","9778397bd097c36b0b6fc9274c91aa","97b6b7f0e47f531b0723b0b6fb0721","7f0e27f1487f595b0b0bb0b6fb0722","7f0e397bd097c35b0b6fc920fb0722","9778397bd097c36b0b6fc9274c91aa","97b6b7f0e47f531b0723b0b6fb0721","7f0e27f1487f531b0b0bb0b6fb0722","7f0e397bd097c35b0b6fc920fb0722","9778397bd097c36b0b6fc9274c91aa","97b6b7f0e47f531b0723b0b6fb0721","7f0e27f1487f531b0b0bb0b6fb0722","7f0e397bd097c35b0b6fc920fb0722","9778397bd097c36b0b6fc9274c91aa","97b6b7f0e47f531b0723b0b6fb0721","7f0e27f1487f531b0b0bb0b6fb0722","7f0e397bd07f595b0b0bc920fb0722","9778397bd097c36b0b6fc9274c91aa","97b6b7f0e47f531b0723b0787b0721","7f0e27f0e47f531b0b0bb0b6fb0722","7f0e397bd07f595b0b0bc920fb0722","9778397bd097c36b0b6fc9210c91aa","97b6b7f0e47f149b0723b0787b0721","7f0e27f0e47f531b0723b0b6fb0722","7f0e397bd07f595b0b0bc920fb0722","9778397bd097c36b0b6fc9210c8dc2","977837f0e37f149b0723b0787b0721","7f07e7f0e47f531b0723b0b6fb0722","7f0e37f5307f595b0b0bc920fb0722","7f0e397bd097c35b0b6fc9210c8dc2","977837f0e37f14998082b0787b0721","7f07e7f0e47f531b0723b0b6fb0721","7f0e37f1487f595b0b0bb0b6fb0722","7f0e397bd097c35b0b6fc9210c8dc2","977837f0e37f14998082b0787b06bd","7f07e7f0e47f531b0723b0b6fb0721","7f0e27f1487f531b0b0bb0b6fb0722","7f0e397bd097c35b0b6fc920fb0722","977837f0e37f14998082b0787b06bd","7f07e7f0e47f531b0723b0b6fb0721","7f0e27f1487f531b0b0bb0b6fb0722","7f0e397bd097c35b0b6fc920fb0722","977837f0e37f14998082b0787b06bd","7f07e7f0e47f531b0723b0b6fb0721","7f0e27f1487f531b0b0bb0b6fb0722","7f0e397bd07f595b0b0bc920fb0722","977837f0e37f14998082b0787b06bd","7f07e7f0e47f531b0723b0b6fb0721","7f0e27f1487f531b0b0bb0b6fb0722","7f0e397bd07f595b0b0bc920fb0722","977837f0e37f14998082b0787b06bd","7f07e7f0e47f149b0723b0787b0721","7f0e27f0e47f531b0b0bb0b6fb0722","7f0e397bd07f595b0b0bc920fb0722","977837f0e37f14998082b0723b06bd","7f07e7f0e37f149b0723b0787b0721","7f0e27f0e47f531b0723b0b6fb0722","7f0e397bd07f595b0b0bc920fb0722","977837f0e37f14898082b0723b02d5","7ec967f0e37f14998082b0787b0721","7f07e7f0e47f531b0723b0b6fb0722","7f0e37f1487f595b0b0bb0b6fb0722","7f0e37f0e37f14898082b0723b02d5","7ec967f0e37f14998082b0787b0721","7f07e7f0e47f531b0723b0b6fb0722","7f0e37f1487f531b0b0bb0b6fb0722","7f0e37f0e37f14898082b0723b02d5","7ec967f0e37f14998082b0787b06bd","7f07e7f0e47f531b0723b0b6fb0721","7f0e37f1487f531b0b0bb0b6fb0722","7f0e37f0e37f14898082b072297c35","7ec967f0e37f14998082b0787b06bd","7f07e7f0e47f531b0723b0b6fb0721","7f0e27f1487f531b0b0bb0b6fb0722","7f0e37f0e37f14898082b072297c35","7ec967f0e37f14998082b0787b06bd","7f07e7f0e47f531b0723b0b6fb0721","7f0e27f1487f531b0b0bb0b6fb0722","7f0e37f0e366aa89801eb072297c35","7ec967f0e37f14998082b0787b06bd","7f07e7f0e47f149b0723b0787b0721","7f0e27f1487f531b0b0bb0b6fb0722","7f0e37f0e366aa89801eb072297c35","7ec967f0e37f14998082b0723b06bd","7f07e7f0e47f149b0723b0787b0721","7f0e27f0e47f531b0723b0b6fb0722","7f0e37f0e366aa89801eb072297c35","7ec967f0e37f14998082b0723b06bd","7f07e7f0e37f14998083b0787b0721","7f0e27f0e47f531b0723b0b6fb0722","7f0e37f0e366aa89801eb072297c35","7ec967f0e37f14898082b0723b02d5","7f07e7f0e37f14998082b0787b0721","7f07e7f0e47f531b0723b0b6fb0722","7f0e36665b66aa89801e9808297c35","665f67f0e37f14898082b0723b02d5","7ec967f0e37f14998082b0787b0721","7f07e7f0e47f531b0723b0b6fb0722","7f0e36665b66a449801e9808297c35","665f67f0e37f14898082b0723b02d5","7ec967f0e37f14998082b0787b06bd","7f07e7f0e47f531b0723b0b6fb0721","7f0e36665b66a449801e9808297c35","665f67f0e37f14898082b072297c35","7ec967f0e37f14998082b0787b06bd","7f07e7f0e47f531b0723b0b6fb0721","7f0e26665b66a449801e9808297c35","665f67f0e37f1489801eb072297c35","7ec967f0e37f14998082b0787b06bd","7f07e7f0e47f531b0723b0b6fb0721","7f0e27f1487f531b0b0bb0b6fb0722"],n.exports=r.default},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.default=["","","","","","","","","","",""],n.exports=r.default},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.default=["","","",""],n.exports=r.default},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.default=["","","","","","","","","","","",""],n.exports=r.default},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.default=["","","","","","","","","","",""],n.exports=r.default}])})})(ny)),ny.exports}var I6=kre();const Ere=Ti(I6),jre=ij({__proto__:null,default:Ere},[I6]);function Vj(e){return typeof e=="object"&&e!==null}function Tre(e){return Vj(e)&&"default"in e}function Are(e){return Vj(e)&&typeof e.lunar2solar=="function"}function Nre(e){if(!Vj(e))throw new Error("Invalid lunar2solar result");const t=e.cYear,n=e.cMonth,r=e.cDay,i=e.isLeap;if(typeof t!="number"||typeof n!="number"||typeof r!="number")throw new Error("Invalid lunar2solar fields");return{cYear:t,cMonth:n,cDay:r,isLeap:typeof i=="boolean"?i:void 0}}function Ore(e){const t=Tre(e)?e.default:e;if(!Are(t))throw new Error("solarlunar.lunar2solar not found");return{lunar2solar:(r,i,a,o)=>{const l=t.lunar2solar(r,i,a,o);return Nre(l)}}}const Cre=Ore(jre);function ea(e,t,n,r=4,i=0){const a=Cre.lunar2solar(e,t,n,!1);return new Date(a.cYear,a.cMonth-1,a.cDay,r,i)}const JD=e=>e<10?`0${e}`:`${e}`;function If(e){if(e.calendarType!=="lunar")return e;const t=Lf(e.birthDay??"");if(!t)return e;try{const n=ea(t.y,t.m,t.d,0,0),r=n.getFullYear(),i=n.getMonth()+1,a=n.getDate();return{...e,birthDay:`${r}${JD(i)}${JD(a)}`,calendarType:"solar"}}catch{return e}}function Zj(e){const t=e.mingSikType??"/",n=Lf(e.birthDay??"");if(!n){const C=e.corrected instanceof Date?e.corrected:new Date(NaN),M=typeof e.ganji=="string"?e.ganji:"",P=typeof e.ganjiText=="string"?e.ganjiText:M,I=typeof e.dayStem=="string"?e.dayStem:"";return{corrected:C,correctedLocal:typeof e.correctedLocal=="string"?e.correctedLocal:"",ganji:M,ganjiText:P,dayStem:I}}let r=n.y,i=n.m,a=n.d;if(e.calendarType==="lunar")try{const C=ea(r,i,a,0,0);r=C.getFullYear(),i=C.getMonth()+1,a=C.getDate()}catch{}const o=Ip(e.birthTime??""),l=!e.birthTime||e.birthTime===""||!o,u=l?4:o.hh,d=l?30:o.mm,h=!e.birthPlace||e.birthPlace.name===""||e.birthPlace.lon===0?127.5:e.birthPlace.lon,m=new Date(r,i-1,a,u,d,0,0),b=!e.birthPlace||typeof e.birthPlace=="object"&&e.birthPlace.name==="",y=Lp(m,h,b),k=l?"":y.toLocaleTimeString("ko-KR",{hour:"2-digit",minute:"2-digit",hour12:!1}),w=ut(y,h),_=Ot(y,h),j=gt(y,t),O=l?null:ao(y,t),T=[` : ${w} ${_} ${j}`,O?`${O}`:null].filter(Boolean).join(" ");return{corrected:y,correctedLocal:k,ganji:T,ganjiText:T,dayStem:j.charAt(0)}}function QD(e,t){return e instanceof Date&&!Number.isNaN(e.getTime())?e:t}function $p(e){return(typeof e=="string"?e.trim():"")===""?"":""}function eP(e){if(typeof e!="string")return null;const t=e.match(/\s*:\s*(.)/);return t?t[1]:null}function Mre(e){const t=eP(e.ganjiText)??eP(e.ganji);if(!t)return"forward";const r=["","","","",""].includes(t),i=$p(e.gender)==="";return r?i?"forward":"backward":i?"backward":"forward"}function rp(e){const t={...e,birthDay:hx(e.birthDay??""),birthTime:e.birthTime===""?"":mx(e.birthTime??""),gender:$p(e.gender),dateObj:QD(e.dateObj,new Date),corrected:QD(e.corrected,new Date(NaN)),correctedLocal:typeof e.correctedLocal=="string"?e.correctedLocal:"",ganjiText:typeof e.ganjiText=="string"?e.ganjiText:"",ganji:typeof e.ganji=="string"?e.ganji:"",dayStem:typeof e.dayStem=="string"?e.dayStem:"",calendarType:e.calendarType==="lunar"?"lunar":"solar",dir:e.dir==="backward"?"backward":"forward"},n=Zj(t),r={...t,...n};return{...r,dir:Mre(r)}}function Dre(e){return e===""||e==="/"||e===""?e:"/"}function Pre(e){return e==="lunar"?"lunar":"solar"}function Rre(e,t){if(t||!e||e.name==="")return{name:"",lat:0,lon:127.5};const n=Number.isFinite(e.lat)?e.lat:0,r=Number.isFinite(e.lon)?e.lon:127.5;return{name:typeof e.name=="string"&&e.name.trim()?e.name.trim():"",lat:n,lon:r}}function Lre(e,t){const n=typeof e=="string"?e.trim():"";return n?{ok:!0,value:n}:t?{ok:!1,message:" ."}:{ok:!0,value:""}}function Xj(e,t){const r=hx(typeof e=="string"?e:""),i=Lf(r);if(!i)return{ok:!1,message:"(YYYYMMDD)  ."};if(i.y<1900||i.y>2100)return{ok:!1,message:"(YYYY) 1900~2100  ."};if(t==="solar"){const a=new Date(i.y,i.m-1,i.d);if(a.getFullYear()!==i.y||a.getMonth()+1!==i.m||a.getDate()!==i.d)return{ok:!1,message:"  ."}}else try{ea(i.y,i.m,i.d,0,0)}catch{return{ok:!1,message:"      ."}}return{ok:!0,value:r}}function Jj(e,t){if(t)return{ok:!0,value:""};const r=mx(typeof e=="string"?e:"");return Ip(r)?{ok:!0,value:r}:{ok:!1,message:"  HHmm  ."}}function $6(e,t){const n=t?.requireName??!1,r=Lre(e.name,n);if(!r.ok)return r;const i=Pre(e.calendarType),a=Xj(e.birthDay,i);if(!a.ok)return a;const o=Jj(e.birthTime,e.unknownTime);if(!o.ok)return o;const l=Dre(e.mingSikType),u={id:e.id,name:r.value,birthDay:a.value,birthTime:o.value,gender:$p(e.gender),sortOrder:e.sortOrder,birthPlace:Rre(e.birthPlace,e.unknownPlace),relationship:e.relationship??"",memo:e.memo??"",folder:e.folder,mingSikType:l,DayChangeRule:l===""?"":"",favorite:e.favorite??!1,deletedAt:e.deletedAt??null,dateObj:e.dateObj??new Date,corrected:new Date(NaN),correctedLocal:"",dayStem:"",ganjiText:"",ganji:"",calendarType:i,dir:"forward"};return{ok:!0,value:rp(u)}}function rc(e,t=0){const n=If(e),r=Lf(n.birthDay??"");if(!r)throw new Error(`Invalid date: ${e.birthDay}`);const i=Ip(n.birthTime??""),a=!i,o=a?4:i.hh,l=a?30:i.mm,u=new Date(r.y,r.m-1,r.d,o,l,0,0);if(Number.isNaN(u.getTime()))throw new Error(`Invalid date: ${e.birthDay} ${e.birthTime}`);const d=!n.birthPlace||typeof n.birthPlace=="object"&&n.birthPlace.name==="",h=n.birthPlace?.lon??127.5,m=Lp(u,h,d);return t!==0?new Date(m.getTime()+t*60*1e3):m}function Ire(e){return typeof e=="object"&&e!==null&&!Array.isArray(e)}function pu(e){return[...e].sort((t,n)=>{const r=typeof t.sortOrder=="number"&&Number.isFinite(t.sortOrder)?t.sortOrder:-1,i=typeof n.sortOrder=="number"&&Number.isFinite(n.sortOrder)?n.sortOrder:-1;if(r!==i)return r-i;const a=(t.name??"").toString(),o=(n.name??"").toString(),l=a.localeCompare(o);return l!==0?l:t.id.localeCompare(n.id)})}function jE(e){if(!Ire(e))return null;const t=typeof e.id=="string"?e.id:null,n=typeof e.user_id=="string"?e.user_id:null;if(!t||!n)return null;const r=o=>typeof o=="number"&&Number.isFinite(o)?o:null,i=o=>typeof o=="string"?o:null,a=o=>typeof o=="boolean"?o:null;return{id:t,user_id:n,name:i(e.name),birth_day:i(e.birth_day),birth_time:i(e.birth_time),gender:i(e.gender),birth_place_name:i(e.birth_place_name),birth_place_lat:r(e.birth_place_lat),birth_place_lon:r(e.birth_place_lon),relationship:i(e.relationship),memo:i(e.memo),folder:i(e.folder),ming_sik_type:i(e.ming_sik_type),day_change_rule:i(e.day_change_rule),calendar_type:i(e.calendar_type),favorite:a(e.favorite),sort_order:typeof e.sort_order=="string"||typeof e.sort_order=="number"?e.sort_order:null,created_at:i(e.created_at),deleted_at:i(e.deleted_at),updated_at:i(e.updated_at)}}function B6(e){const t={name:e.birth_place_name??"",lat:e.birth_place_lat??0,lon:e.birth_place_lon??127.5},n=e.sort_order===null||e.sort_order===void 0?void 0:Number(e.sort_order),r=typeof n=="number"&&Number.isFinite(n)?n:void 0,i={id:e.id,name:e.name??"",birthDay:hx(e.birth_day??""),birthTime:mx(e.birth_time??""),gender:$p(e.gender),birthPlace:t,relationship:e.relationship??"",memo:e.memo??"",folder:e.folder??"",mingSikType:["","/",""].includes(e.ming_sik_type)?e.ming_sik_type:"",DayChangeRule:e.day_change_rule===""||e.day_change_rule===""?e.day_change_rule:"",favorite:e.favorite??!1,deletedAt:e.deleted_at??null,sortOrder:r,dateObj:new Date,corrected:new Date(NaN),correctedLocal:"",dayStem:"",ganjiText:"",ganji:"",calendarType:e.calendar_type==="lunar"?"lunar":"solar",dir:"forward"};return rp(i)}function $re(e,t){const n=typeof e.folder=="string"?e.folder.trim():"",r=typeof e.sortOrder=="number"&&Number.isFinite(e.sortOrder)?e.sortOrder:null;return{id:e.id,user_id:t,sort_order:r,folder:n||null,favorite:!!e.favorite,updated_at:new Date().toISOString()}}function tP(e,t){const n=hx(e.birthDay??""),r=mx(e.birthTime??""),i=e.birthPlace??{name:"",lat:0,lon:127.5},a=typeof e.sortOrder=="number"&&Number.isFinite(e.sortOrder)?e.sortOrder:null;return{id:e.id,user_id:t,name:e.name??null,birth_day:n||null,birth_time:r||null,gender:$p(e.gender),birth_place_name:i.name??null,birth_place_lat:typeof i.lat=="number"?i.lat:null,birth_place_lon:typeof i.lon=="number"?i.lon:null,relationship:e.relationship??null,memo:e.memo??null,folder:typeof e.folder=="string"?e.folder:null,ming_sik_type:e.mingSikType??null,day_change_rule:e.DayChangeRule??null,calendar_type:e.calendarType??"solar",favorite:e.favorite??!1,deleted_at:e.deletedAt??null,sort_order:a,updated_at:new Date().toISOString()}}const TE="hm_session_started_at_ms",Bre=7200*1e3;function z6(){return typeof window>"u"?null:window.localStorage}function zre(){const e=z6();if(!e)return Date.now();const t=e.getItem(TE),n=t?Number(t):NaN;if(Number.isFinite(n))return n;const r=Date.now();return e.setItem(TE,String(r)),r}function U6(e=Date.now()){const t=z6();if(t)try{t.setItem(TE,String(e))}catch{}}function Ure(e=Date.now()){const t=zre();return e-t>=Bre}const Jg="myeongsik-list";function Fre(e){try{return JSON.parse(e)}catch{return null}}async function Hre(e){if(typeof window>"u")return;const t=window.localStorage.getItem(Jg);if(!t)return;const n=Fre(t);if(!n){window.localStorage.removeItem(Jg);return}const r=n.state??{},i=Array.isArray(r.list)?r.list:[];if(i.length===0){window.localStorage.removeItem(Jg);return}const a=await e.getUser();if(!a)return;const o=await e.fetchRows(a.id),l=new Set(o.map(d=>d.id)),u=i.filter(d=>!!d&&typeof d.id=="string"&&d.id.trim()!==""&&!l.has(d.id));for(const d of u)await e.upsertOne(a.id,d);window.localStorage.removeItem(Jg)}const Gre=250;function Yre(e){return e.map(t=>{const n=typeof t.folder=="string"?t.folder.trim():"",r=typeof t.sortOrder=="number"&&Number.isFinite(t.sortOrder)?t.sortOrder:"",i=t.favorite?1:0;return`${t.id}:${r}:${n}:${i}`}).join("|")}function qre(e){if(typeof window>"u")return;const t=window,n="__hm_reorder_flush_installed__";t[n]!==!0&&(t[n]=!0,window.addEventListener("beforeunload",()=>e()),document.addEventListener("visibilitychange",()=>{document.visibilityState==="hidden"&&e()}))}function Kre(e){let t=null,n=null,r=!1,i="";async function a(){if(!r){r=!0;try{for(;n;){const l=n;if(n=null,l.key&&l.key===i){l.resolve();continue}const u=await e.getUser();if(!u){console.warn("reorder flush skipped: no user"),l.resolve();continue}await e.upsertOrderPatch(u.id,l.list),i=l.key,l.resolve()}}finally{r=!1}}}qre(()=>{a()});function o(l,u){const d=Yre(l);if(d&&d===i&&!n)return Promise.resolve();if(n)n.key=d,n.list=l;else{let h;const m=new Promise(b=>{h=b});n={key:d,list:l,promise:m,resolve:h}}return typeof window>"u"?(a(),n.promise):(t&&window.clearTimeout(t),u?.immediate?a():t=window.setTimeout(()=>{t=null,a()},Gre),n.promise)}return{queue:o,flushNow:a}}const xr="__UNASSIGNED__",Wre=[" ",""],Ql=e=>typeof e=="string"?e.trim():"",F6=e=>Wre.includes(e);function Kd(e,t){const n=[],r=[];for(const i of e){const a=Ql(i);a&&(t[a]?n.push(a):r.push(a))}return[...n,...r]}function px(e,t){const n=new Set(t.map(o=>Ql(o)).filter(o=>o!=="")),r=new Set,i=Object.create(null),a=(o,l)=>{i[o]||(i[o]=[]),i[o].push(l)};for(const o of e){const l=String(o.id??"");if(!l||r.has(l))continue;r.add(l);const u=Ql(o.folder),d=!u||F6(u)?xr:n.has(u)?u:xr;a(d,o)}i[xr]||(i[xr]=[]);for(const o of t){const l=Ql(o);l&&(i[l]||(i[l]=[]))}return i}function Qj(e,t){const n=[];for(const i of t){const a=Ql(i);if(!a)continue;const o=e[a];Array.isArray(o)&&n.push(...o)}const r=e[xr];return Array.isArray(r)&&r.length&&n.push(...r),n}function Vre(e){const{list:t,orderedFolders:n,source:r,destination:i}=e,a=px(t,n),o=r.droppableId===xr?xr:r.droppableId,l=i.droppableId===xr?xr:i.droppableId,u=[...a[o]??[]],d=o===l?u:[...a[l]??[]],h=u[r.index];if(!h)return{nextList:t,changedIds:[]};u.splice(r.index,1);const b=o!==l&&l===xr,y=Math.max(0,Math.min(i.index,d.length)),k=b?d.length:y;o===l?u.splice(k,0,h):d.splice(k,0,h);const w=String(h.id),_=new Set([w]),j={...h,folder:l===xr?"":l};return a[o]=u,a[l]=o===l?u:d,a[l]=(a[l]??[]).map(O=>String(O.id)===w?j:O),{nextList:Qj(a,n),changedIds:Array.from(_)}}function Zre(e){const{list:t,orderedFolders:n,targetId:r,nextFolder:i}=e,a=px(t,n),o=[...n.map(j=>Ql(j)),xr].filter(Boolean);let l=null,u=-1;for(const j of o){const T=(a[j]??[]).findIndex(C=>String(C.id)===r);if(T>=0){l=j,u=T;break}}if(!l||u<0)return{nextList:t,changedIds:[]};const d=[...a[l]??[]],h=d[u];if(!h)return{nextList:t,changedIds:[]};d.splice(u,1);const m=Ql(i),b=!m||F6(m)?xr:m,y=l!==b,k=y?[...a[b]??[]]:d,w=String(h.id),_={...h,folder:b===xr?"":b};return y?k.push(_):d.splice(u,0,_),a[l]=d,a[b]=y?k:d,{nextList:Qj(a,n),changedIds:[w]}}function Xre(e){const{list:t,targetId:n,orderedFolders:r}=e,i=px(t,r);let a=null,o=null;const l=[...r.map(y=>Ql(y)),xr].filter(Boolean);for(const y of l){const k=i[y]??[],w=k.findIndex(_=>String(_.id)===n);if(w>=0){a=y,o=k[w]??null;break}}if(!a||!o)return{nextList:t,nextItem:null};const u=[...i[a]??[]],d=u.findIndex(y=>String(y.id)===n);if(d<0)return{nextList:t,nextItem:null};const h=u[d],m=!h.favorite,b={...h,favorite:m};return u.splice(d,1),m?u.unshift(b):u.push(b),i[a]=u,{nextList:Qj(i,r),nextItem:b}}function Jre(e){const{list:t,folderName:n}=e,r=n.trim();if(!r)return{nextList:t,changedIds:[]};const i=[],a=[],o=[];for(const l of t){if((l.folder??"").trim()!==r){a.push(l);continue}i.push(String(l.id)),o.push({...l,folder:""})}return{nextList:[...a,...o],changedIds:i}}function H6(e){return e.trim().length>0}const am=e=>e.toLowerCase().replace(/\s+/g," ").trim(),Qre=e=>e.replace(/\D/g,""),eie=e=>{const t=typeof e.birthDay=="string"?e.birthDay:"",n=Qre(t);if(n.length!==8)return t?[t]:[];const r=n.slice(0,4),i=n.slice(4,6),a=n.slice(6,8);return[n,`${r}-${i}-${a}`,`${r}.${i}.${a}`,`${r}/${i}/${a}`,`${r}${i}${a}`]},tie=e=>{const t=[],n=typeof e.ganji=="string"?e.ganji:"",r=typeof e.ganjiText=="string"?e.ganjiText:"",i=typeof e.dayStem=="string"?e.dayStem:"";return n&&t.push(n),r&&t.push(r),i&&t.push(i),t},nie=e=>{const t=[],n=typeof e.memo=="string"?e.memo:"",r=typeof e.relationship=="string"?e.relationship:"",i=e.birthPlace&&typeof e.birthPlace=="object"&&typeof e.birthPlace.name=="string"?e.birthPlace.name:"";return n&&t.push(n),r&&t.push(r),i&&t.push(i),t},nP=(e,t,n)=>{const r=am(t);if(!r)return!0;const i=am(typeof e.name=="string"?e.name:""),a=eie(e).map(am),o=tie(e).map(am),l=nie(e).map(am),u=h=>h.includes(r),d=h=>h.some(u);switch(n){case"name":return u(i);case"birth":return d(a);case"ganji":return d(o);case"memo":return d(l);case"all":default:return u(i)||d(a)||d(o)||d(l)}};function rie(e){const{search:t,searchMode:n,orderedFolders:r,grouped:i,unassignedItems:a}=e;if(!H6(t)){const d={};for(const h of r){const m=typeof h=="string"?h.trim():"";m&&(d[m]=i[m]??[])}return{filteredGrouped:d,filteredUnassigned:a??[],totalMatches:(a?.length??0)+r.reduce((h,m)=>h+(i[m]?.length??0),0)}}const o={};let l=0;for(const d of r){const h=typeof d=="string"?d.trim():"";if(!h)continue;const b=(i[h]??[]).filter(y=>nP(y,t,n));o[h]=b,l+=b.length}const u=(a??[]).filter(d=>nP(d,t,n));return l+=u.length,{filteredGrouped:o,filteredUnassigned:u,totalMatches:l}}function iie(e){return"source"in e&&"destination"in e?e:{orderedFolders:e.orderedFolders,source:{droppableId:(e.sourceFolder??xr).toString(),index:e.sourceIndex},destination:{droppableId:(e.destinationFolder??xr).toString(),index:e.destinationIndex}}}function aie(e,t){const n=String(t.eventType??""),r=jE(t.new),i=jE(t.old),a=r??i;if(!a)return e;if(n==="DELETE"||a.deleted_at)return e.filter(d=>d.id!==a.id);const o=B6(a),u=e.some(d=>d.id===o.id)?e.map(d=>d.id===o.id?o:d):[...e,o];return pu(u)}async function oie(e){if(!e)return;const t=Le;if(typeof t.removeChannel=="function"){await t.removeChannel(e);return}if(typeof t.removeSubscription=="function"){await t.removeSubscription(e);return}}function sie(){return["id","user_id","name","birth_day","birth_time","gender","birth_place_name","birth_place_lat","birth_place_lon","relationship","memo","folder","ming_sik_type","day_change_rule","calendar_type","favorite","deleted_at","created_at","updated_at","sort_order"].join(", ")}function lie(){return{async getUser(){const{data:e,error:t}=await Le.auth.getUser();return t||!e.user?null:{id:e.user.id}},async fetchRows(e){const{data:t,error:n}=await Le.from("myeongsik").select(sie()).eq("user_id",e).is("deleted_at",null).order("sort_order",{ascending:!0,nullsFirst:!0}).order("created_at",{ascending:!1});return n||!t?[]:(Array.isArray(t)?t:[]).map(i=>jE(i)).filter(i=>i!==null).filter(i=>i.user_id===e)},async upsertOne(e,t){const n=tP(t,e),{error:r}=await Le.from("myeongsik").upsert(n,{onConflict:"id"});r&&console.error("myeongsik upsert error:",r)},async updateOne(e,t,n){const r=tP(n,e),{error:i}=await Le.from("myeongsik").update(r).eq("id",t);i&&console.error("myeongsik update error:",i)},async softDelete(e){const t=new Date().toISOString(),{error:n}=await Le.from("myeongsik").update({deleted_at:t}).eq("id",e);n&&console.error("myeongsik softDelete error:",n)},async upsertOrderPatch(e,t){const n=t.map(i=>$re(i,e)),{error:r}=await Le.from("myeongsik").upsert(n,{onConflict:"id"});r&&console.error("myeongsik orderPatch upsert error:",r)},async subscribe(e,t,n){const r=Le.channel(`myeongsik:${e}`).on("postgres_changes",{event:"*",schema:"public",table:"myeongsik",filter:`user_id=eq.${e}`},a=>{typeof a!="object"||a===null||t(a)}).subscribe(a=>{n&&n(String(a))});return{async unsubscribe(){await oie(r)}}}}}function cie(e){return e.trim().toLowerCase().replace(/\s+/g,"").replace(/-/g,"_")}function Om(e){if(!e)return"FREE";const t=cie(e);return t==="free"?"FREE":t==="basic"?"BASIC":t==="pro"?"PRO":t==="prompt_hidden"||t==="prompt_hide"||t==="hidden"||t==="hide"||t==="prompt_locked"||t==="prompt_lock"||t==="locked"||t==="lock"?"FREE":t==="prompt_full"||t==="full"?"PRO":t==="ms_all"||t==="msall"||t==="basic_3"||t==="basic3"||t==="basic_5"||t==="basic5"||t==="basic_10"||t==="basic10"?"BASIC":t==="pro_select"||t==="proselect"?"PRO":"FREE"}function AE(e){switch(e){case"FREE":return{maxMyeongsik:1,canManageMyeongsik:!0,canUseLuckTabs:!0,canUseMultiMode:!0,canUseAllPrompts:!1,canUseAdvancedReport:!1,canRemoveAds:!1};case"BASIC":return{maxMyeongsik:9999,canManageMyeongsik:!0,canUseLuckTabs:!0,canUseMultiMode:!0,canUseAllPrompts:!0,canUseAdvancedReport:!0,canRemoveAds:!1};case"PRO":return{maxMyeongsik:null,canManageMyeongsik:!0,canUseLuckTabs:!0,canUseMultiMode:!0,canUseAllPrompts:!0,canUseAdvancedReport:!0,canRemoveAds:!0}}}const Qg={plan:"FREE",maxMyeongsik:1,canManageMyeongsik:!0,canUseLuckTabs:!0,canUseMultiMode:!0,canUseAllPrompts:!1,canUseAdvancedReport:!1,canRemoveAds:!1,canUseMyoViewer:!1,startsAt:null,expiresAt:null};function uie(e,t){if(typeof e=="number"&&Number.isFinite(e))return Math.floor(e);if(typeof e=="string"&&e.trim()!==""){const n=Number(e);return Number.isFinite(n)?Math.floor(n):t}return t}function rP(e){if(typeof e!="string"||e.trim()==="")return null;const t=new Date(e);return Number.isNaN(t.getTime())?null:t}function iP(e,t,n=Date.now()){return!(e&&e.getTime()>n||t&&t.getTime()<=n)}function die(e){return e?e.can_use_myo_viewer===!0:!1}async function fie(e){const{data:t,error:n}=await Le.from("user_entitlements").select("plan,max_myeongsik,starts_at,expires_at,can_use_myo_viewer").eq("user_id",e).maybeSingle();return n?null:t??null}const vn=Zo((e,t)=>({loaded:!1,loading:!1,userId:null,...Qg,reset:()=>{e({loaded:!1,loading:!1,userId:null,...Qg})},loadFromServer:async n=>{if(!t().loading){e({loading:!0});try{const{data:i,error:a}=await Le.auth.getUser(),o=i.user?.id??null;if(a||!o){e({...Qg,loaded:!0,userId:null});return}const l=t();if(!n?.force&&l.loaded&&l.userId===o)return;const u=await fie(o);if(!u){const O=AE("FREE");e({loaded:!0,userId:o,plan:"FREE",maxMyeongsik:O.maxMyeongsik===null?9999:O.maxMyeongsik,canManageMyeongsik:O.canManageMyeongsik,canUseLuckTabs:O.canUseLuckTabs,canUseMultiMode:O.canUseMultiMode,canUseAllPrompts:O.canUseAllPrompts,canUseAdvancedReport:O.canUseAdvancedReport,canRemoveAds:O.canRemoveAds,canUseMyoViewer:!1,startsAt:null,expiresAt:null});return}const d=rP(u.starts_at??null),h=rP(u.expires_at??null),m=iP(d,h),b=Om(u.plan??null),y=m?b:"FREE",k=AE(y),w=k.maxMyeongsik===null?9999:k.maxMyeongsik,_=uie(u.max_myeongsik,w),j=Math.max(1,Math.max(_,w));e({loaded:!0,userId:o,plan:y,maxMyeongsik:j,canManageMyeongsik:k.canManageMyeongsik,canUseLuckTabs:k.canUseLuckTabs,canUseMultiMode:k.canUseMultiMode,canUseAllPrompts:k.canUseAllPrompts,canUseAdvancedReport:k.canUseAdvancedReport,canRemoveAds:k.canRemoveAds,canUseMyoViewer:die(u),startsAt:d,expiresAt:h})}catch(i){console.error("loadFromServer(entitlements) exception:",i),e({...Qg,loaded:!0,userId:null})}finally{e({loading:!1})}}},isActiveNow:()=>{const{startsAt:n,expiresAt:r}=t();return iP(n,r)},getRemainingMs:n=>{if(!n)return null;const r=n.getTime()-Date.now();return r>0?r:0},formatRemaining:n=>{const r=Math.floor(n/1e3),i=r%60,a=Math.floor(r/60),o=a%60,l=Math.floor(a/60),u=l%24,d=Math.floor(l/24),h=[];return d>0&&h.push(`${d}`),u>0&&h.push(`${u}`),d===0&&o>0&&h.push(`${o}`),h.length===0&&h.push(`${i}`),h.join(" ")},canAddMyeongsik:()=>({ok:!0}),canManageNow:()=>{const n=t();return n.loaded&&n.isActiveNow()&&n.canManageMyeongsik},canUseLuckTabsNow:()=>{const n=t();return n.loaded&&n.isActiveNow()&&n.canUseLuckTabs},canUseMultiModeNow:()=>{const n=t();return n.loaded&&n.isActiveNow()&&n.canUseMultiMode},canUseAllPromptsNow:()=>{const n=t();return n.loaded&&n.isActiveNow()&&n.canUseAllPrompts},canUseAdvancedReportNow:()=>{const n=t();return n.loaded&&n.isActiveNow()&&n.canUseAdvancedReport},shouldShowAdsNow:()=>{const n=t();return!n.loaded||!n.isActiveNow()?!0:!n.canRemoveAds},canUseMyoViewerNow:()=>{const n=t();return n.loaded&&n.canUseMyoViewer}})),eT="guest_myeongsik_v1";function G6(e){return typeof e=="object"&&e!==null}function NE(e,t){if(typeof e=="number"&&Number.isFinite(e))return e;if(typeof e=="string"&&e.trim()!==""){const n=Number(e);if(Number.isFinite(n))return n}return t}function zi(e,t=""){return typeof e=="string"?e:t}function hie(e,t=!1){return typeof e=="boolean"?e:t}function mie(e){return G6(e)?{name:zi(e.name,""),lat:NE(e.lat,0),lon:NE(e.lon,0)}:{name:"",lat:0,lon:0}}function pie(e){return{id:e.id,sortOrder:typeof e.sortOrder=="number"?e.sortOrder:1,name:e.name??"",birthDay:e.birthDay??"",birthTime:e.birthTime??"",gender:e.gender??"",birthPlace:e.birthPlace??{name:"",lat:0,lon:0},relationship:e.relationship??"",memo:e.memo??"",folder:e.folder??"",mingSikType:e.mingSikType??"/",DayChangeRule:e.DayChangeRule??"",favorite:!!e.favorite,calendarType:e.calendarType??"solar",dir:e.dir??"forward"}}function gie(e){if(!G6(e))return null;const t={id:zi(e.id,""),sortOrder:NE(e.sortOrder,1),name:zi(e.name,""),birthDay:zi(e.birthDay,""),birthTime:zi(e.birthTime,""),gender:zi(e.gender,""),birthPlace:mie(e.birthPlace),relationship:zi(e.relationship,""),memo:zi(e.memo,""),folder:zi(e.folder,""),mingSikType:zi(e.mingSikType,"/"),DayChangeRule:zi(e.DayChangeRule,""),favorite:hie(e.favorite,!1),calendarType:zi(e.calendarType,"solar"),dir:zi(e.dir,"forward")};return t.id?rp(t):null}function Y6(){try{const e=localStorage.getItem(eT);if(!e)return[];const t=JSON.parse(e);if(!Array.isArray(t))return[];const n=t.map(gie).filter(r=>r!==null);return pu(n)}catch{return[]}}function Bl(e){try{const t=e.map(pie);localStorage.setItem(eT,JSON.stringify(t))}catch{}}function q6(){try{localStorage.removeItem(eT)}catch{}}const As=Zo(e=>({open:!1,reason:"HEADER",openWith:t=>e({open:!0,reason:t}),close:()=>e({open:!1})})),Kn=lie(),bie=Kre(Kn);function tu(){const t=vn.getState().canManageNow();return t||console.warn("[myeongsik] blocked: canManageNow=false"),t}function yie(e){const n=vn.getState().canAddMyeongsik(e);return n.ok||console.warn("[myeongsik] blocked: canAddMyeongsik",n.message),n.ok}async function aP(e){const t=Y6();if(t.length)try{for(const n of t)await Kn.upsertOne(e,n);q6()}catch(n){console.warn("[myeongsik] migrateGuestListToServerIfAny failed:",n)}}const jn=Zo((e,t)=>({loading:!1,loaded:!1,loadedUserId:null,realtimeReady:!1,list:[],currentId:null,_rtSub:null,_rtUserId:null,getCurrent:()=>{const{list:n,currentId:r}=t();return r?n.find(i=>i.id===r)??null:null},setCurrentId:n=>e({currentId:n}),startRealtime:async()=>{if(typeof window>"u")return;if(Ure()){U6(Date.now()),window.location.reload();return}const n=await Kn.getUser();if(!n){await t().stopRealtime(),e({realtimeReady:!1});return}if(t()._rtUserId===n.id&&t()._rtSub){e({realtimeReady:!0});return}await t().stopRealtime();const r=await Kn.subscribe(n.id,i=>{e(a=>({list:aie(a.list,i)}))},i=>{i==="SUBSCRIBED"&&e({realtimeReady:!0})});e({_rtSub:r,_rtUserId:n.id})},stopRealtime:async()=>{const n=t()._rtSub;if(n)try{await n.unsubscribe()}catch(r){console.warn("stopRealtime error",r)}e({_rtSub:null,_rtUserId:null,realtimeReady:!1})},loadFromServer:async()=>{if(!t().loading){e({loading:!0});try{const n=await Kn.getUser(),r=t();if(n&&r.loaded&&r.loadedUserId===n.id){e({loading:!1});return}if(!n){const u=Y6(),d=u[0]?.id??null;e({list:u,currentId:d,loaded:!0,loadedUserId:null}),await t().stopRealtime();return}await aP(n.id);const i=await Kn.fetchRows(n.id),a=pu(i.map(B6)),o=t().currentId,l=o&&a.some(u=>u.id===o)?o:a[0]?.id??null;e({list:a,currentId:l,loaded:!0,loadedUserId:n.id}),await t().startRealtime()}catch(n){console.error("useMyeongSikStore.loadFromServer exception:",n)}finally{e({loading:!1})}}},migrateLocalToServer:async()=>{try{await Hre(Kn);const n=await Kn.getUser();n&&await aP(n.id)}catch(n){console.error("useMyeongSikStore.migrateLocalToServer exception:",n)}},add:async n=>{const r=await Kn.getUser(),i=t().list.length;if(!yie(i)){r||As.getState().openWith("ADD_LIMIT");return}const a=(i||0)+1,o={...n,sortOrder:n.sortOrder??a},l=rp(o),u=t().list,d=pu([...u,l]),h=t().currentId??l.id;if(e({list:d,currentId:h}),!r){Bl(d),d.length===1&&As.getState().openWith("PERSIST_SAVE");return}await Kn.upsertOne(r.id,l)},update:async(n,r)=>{const i=await Kn.getUser();if(i&&!tu())return;const a=t().list.find(u=>u.id===n);if(!a)return;const o=rp({...a,...r}),l=pu(t().list.map(u=>u.id===n?o:u));if(e({list:l}),!i){Bl(l);return}await Kn.updateOne(i.id,n,o)},remove:async n=>{const r=await Kn.getUser();if(r&&!tu())return;const a=t().list.filter(l=>l.id!==n),o=t().currentId===n?a[0]?.id??null:t().currentId;if(e({list:a,currentId:o}),!r){Bl(a);return}await Kn.softDelete(n)},moveItemByDnD:async n=>{const r=t().list,i=iie(n),o=Vre({list:r,orderedFolders:i.orderedFolders,source:i.source,destination:i.destination}).nextList;e({list:o});const l=await Kn.getUser();if(l&&!tu()){e({list:r});return}if(!l){Bl(o);return}await t().reorder(o)},applyNextList:async n=>{const r=t().list;e({list:n});const i=await Kn.getUser();if(i&&!tu()){e({list:r});return}if(!i){Bl(n);return}await t().reorder(n)},toggleFavoriteWithReorder:async(n,r)=>{const i=await Kn.getUser();if(i&&!tu())return;const o=Xre({list:t().list,targetId:n,orderedFolders:r}).nextList;if(e({list:o}),!i){Bl(o);return}await t().reorder(o)},unsetFolderForFolder:async n=>{const r=await Kn.getUser();if(r&&!tu())return;const i=(n??"").trim();if(!i)return;const a=t().list,o=Jre({list:a,folderName:i}),l=pu(o.nextList),u=new Set(o.changedIds);if(u.size===0)return;if(e({list:l}),!r){Bl(l);return}const d=l.filter(h=>u.has(h.id));await Kn.upsertOrderPatch(r.id,d)},reorder:async n=>{const r=await Kn.getUser();if(r&&!tu())return;const i=n.map((o,l)=>({...o,sortOrder:l+1})),a=pu(i);if(e({list:a}),!r){Bl(a);return}await bie.queue(a)},clear:()=>{e({currentId:null,list:[],loaded:!1,loadedUserId:null}),q6()}})),oP="__custom__",eb=[{value:"",label:" (1 )"},{value:"/",label:" / "},{value:"",label:""},{value:"",label:""},{value:"",label:""},{value:"",label:""},{value:"",label:""}],K6=({value:e,onChange:t})=>{const[n,r]=S.useState(eb),[i,a]=S.useState(""),[o,l]=S.useState(!1),[u,d]=S.useState(""),[h,m]=S.useState(!1),{list:b}=jn(),y=(e??i??"").trim(),k=y==="",w=b.some(P=>(P.relationship??"").trim()===""),_=w&&!k?n.filter(P=>P.value!==""):n,j=S.useMemo(()=>{const P=_.find(I=>I.value==="");return P?[P,..._.filter(I=>I.value!=="")]:_},[_]);S.useEffect(()=>{e!==void 0&&a(e)},[e]),S.useEffect(()=>{y||w||(a(""),t?.(""))},[y,w,t]);const O=P=>{const I=P.target.value;I===oP?(l(!0),a(""),t?.("")):(l(!1),d(""),a(I),t?.(I))};S.useEffect(()=>{const P=localStorage.getItem("relationshipOptions");if(P)try{const I=JSON.parse(P),z=new Set,K=[...I,...eb].filter(G=>!G||!G.value||z.has(G.value)?!1:(z.add(G.value),!0));r(K)}catch{r(eb)}},[]),S.useEffect(()=>{(async()=>{const{data:{user:I},error:z}=await Le.auth.getUser();if(z||!I)return;const{data:K,error:G}=await Le.from("user_settings").select("payload").eq("user_id",I.id).single();if(G&&G.code!=="PGRST116"){console.error("load relationships settings error",G.message);return}const F=K?.payload?.relationshipOptions;if(!Array.isArray(F))return;const B=F.map(q=>q&&typeof q=="object"&&typeof q.value=="string"&&typeof q.label=="string"?{value:q.value,label:q.label}:typeof q=="string"?{value:q,label:q}:null).filter(q=>!!q);B.length&&r(q=>{const X=new Set,Z=[...B,...q,...eb].filter(Y=>X.has(Y.value)?!1:(X.add(Y.value),!0));return localStorage.setItem("relationshipOptions",JSON.stringify(Z)),Z})})()},[]),S.useEffect(()=>{localStorage.setItem("relationshipOptions",JSON.stringify(n)),(async()=>{const{data:{user:I},error:z}=await Le.auth.getUser();if(z||!I)return;const{data:K,error:G}=await Le.from("user_settings").select("payload").eq("user_id",I.id).single();if(G&&G.code!=="PGRST116"){console.error("load relationships settings error",G.message);return}const F={...K?.payload??{},relationshipOptions:n},{error:B}=await Le.from("user_settings").upsert({user_id:I.id,payload:F,updated_at:new Date().toISOString()});B&&console.error("save relationships settings error",B.message)})()},[n]);const T=()=>{const P=u.trim();if(!P)return;const I={value:P,label:P};r(z=>[...z,I]),a(P),t?.(P),d(""),l(!1)},C=P=>{r(n.filter(I=>I.value!==P)),i===P&&a("")},M=P=>{if(!P.destination)return;const I=Array.from(n),[z]=I.splice(P.source.index,1);I.splice(P.destination.index,0,z),r(I)};return g.jsxs(g.Fragment,{children:[g.jsxs("div",{className:"rel_set flex items-center gap-2",children:[g.jsxs("select",{name:"relationship",id:"relationship",value:i,onChange:O,children:[g.jsx("option",{value:"",hidden:!0,children:" "}),j.map(P=>g.jsx("option",{value:P.value,children:P.label},P.value)),g.jsx("option",{value:oP,children:" "})]}),g.jsx("button",{type:"button",onClick:()=>m(!0),className:"btn_style",children:" "})]}),o&&!h&&g.jsxs("div",{className:"rel_set flex items-center mt-2 gap-2",children:[g.jsx("input",{type:"text",placeholder:"  ",value:u,onChange:P=>d(P.target.value)}),g.jsx("button",{type:"button",onClick:T,className:"btn_style",children:" "})]}),h&&g.jsxs("div",{className:"p-3 border mt-2 rounded bg-gray-50 dark:bg-neutral-900",children:[g.jsx("h4",{className:"font-bold mb-2",children:" "}),g.jsx(Rp,{onDragEnd:M,children:g.jsx(Rf,{droppableId:"relList",children:P=>g.jsxs("ul",{ref:P.innerRef,...P.droppableProps,className:"space-y-1",children:[n.map((I,z)=>g.jsx(Pf,{draggableId:I.value,index:z,children:K=>g.jsxs("li",{ref:K.innerRef,...K.draggableProps,...K.dragHandleProps,className:"flex justify-between items-center bg-white dark:bg-neutral-800 p-2 rounded border text-sm desk:text-base",children:[g.jsx("span",{className:"cursor-grab mr-2",children:""}),g.jsx("span",{className:"flex-1 pr-1",children:I.label}),g.jsx("button",{type:"button",className:"text-red-500 cursor-pointer",onClick:()=>C(I.value),children:""})]})},I.value)),P.placeholder]})})}),g.jsx("button",{type:"button",onClick:()=>m(!1),className:"w-full btn_style mt-2",children:""})]})]})},En=" ",W6=["","","","","",""],V6="ms_folders",Z6="ms_folder_order",sP="ms_folder_favs",OE="ms_disabled_presets",ic="myeoun:folder-updated";function Su(e){if(e!==En)return e||void 0}function gx(e){if(typeof window>"u")return[];const t=window.localStorage.getItem(e);if(!t)return[];try{const n=JSON.parse(t);return Array.isArray(n)?n.filter(r=>typeof r=="string"):[]}catch{return[]}}function tT(e,t){if(!(typeof window>"u"))try{window.localStorage.setItem(e,JSON.stringify(t))}catch{}}function vie(){const e=gx(OE);return W6.filter(t=>!e.includes(t))}function nT(){return gx(V6)}function rT(e){const t=Array.isArray(e)?e.filter(n=>typeof n=="string"&&n.trim()!==""):[];tT(V6,t),typeof window<"u"&&window.dispatchEvent(new Event(ic))}function Ry(){const e=vie(),t=nT(),n=new Set,r=[];for(const i of[...e,...t])n.has(i)||(n.add(i),r.push(i));return r}function xie(){return[En,...Ry()]}function X6(e){const t=e.trim();if(!t||t===En)return;const n=nT();if(n.includes(t))return;const r=[...n,t];rT(r)}function wie(e){const t=nT(),n=t.filter(r=>r!==e);n.length!==t.length&&rT(n)}function _ie(e){const t=gx(OE);if(t.includes(e))return;const n=[...t,e];tT(OE,n),typeof window<"u"&&window.dispatchEvent(new Event(ic))}function Ly(){return gx(Z6)}function Wd(e){tT(Z6,e),typeof window<"u"&&window.dispatchEvent(new Event(ic))}function Bm(e,t){const n=new Set(e),r=[];for(const i of t)n.has(i)&&!r.includes(i)&&r.push(i);for(const i of e)r.includes(i)||r.push(i);return r}function Sie(e){return Array.from(new Set(e))}function tb(e){const t=e.filter(n=>n!==En);return{rest:t,withUnassigned:[En,...t]}}function kie(e,t){return Bm(t,e)}function Eie({value:e,onChange:t}){const[n,r]=S.useState([En]),[i,a]=S.useState(!1),[o,l]=S.useState(""),[u,d]=S.useState(!1),h=S.useCallback(async _=>{const{data:{user:j},error:O}=await Le.auth.getUser();if(O||!j)return;const T=_.map((M,P)=>({user_id:j.id,folder_name:M,sort_order:P+1,updated_at:new Date().toISOString()})),{error:C}=await Le.from("user_folder_order").upsert(T,{onConflict:"user_id,folder_name"});C&&console.error("save folder order error",C.message)},[]),m=S.useCallback(()=>{if(typeof window>"u")return;const _=Sie(xie()),j=_.includes(En)?_:[En,..._],{rest:O}=tb(j),T=Ly(),C=kie(T,O),M=[En,...C];r(M),T.length===C.length&&T.every((I,z)=>I===C[z])||(Wd(C),h(C))},[h]);S.useEffect(()=>{if(m(),typeof window<"u"){const _=()=>m();return window.addEventListener(ic,_),()=>window.removeEventListener(ic,_)}},[m]);const b=S.useMemo(()=>e||En,[e]),y=_=>{const{rest:j}=tb(_);Wd(j),h(j)},k=_=>{const{source:j,destination:O}=_;if(!O||O.index===j.index)return;const{rest:T}=tb(n),C=Array.from(T),[M]=C.splice(j.index,1);C.splice(O.index,0,M);const P=[En,...C];r(P),y(P)},w=_=>{const j=Su(_);j&&(X6(j),m())};return g.jsxs("div",{className:"space-y-2",children:[g.jsxs("div",{className:"flex items-center gap-2",children:[g.jsxs("select",{className:"flex-1 border rounded-lg p-2",value:i?"__custom__":b,onChange:_=>{const j=_.target.value;if(j==="__custom__"){a(!0),t(void 0);return}a(!1),t(Su(j))},children:[n.map(_=>g.jsx("option",{value:_,children:_},_)),g.jsx("option",{value:"__custom__",children:"+   "})]}),g.jsx("button",{type:"button",className:"px-3 py-2 rounded bg-neutral-200 hover:bg-neutral-300 dark:bg-neutral-800 dark:hover:bg-neutral-700 text-sm cursor-pointer",onClick:()=>d(_=>!_),children:u?" ":" "})]}),i&&g.jsxs("div",{className:"flex items-center gap-2",children:[g.jsx("input",{type:"text",value:o,onChange:_=>l(_.target.value),placeholder:"  ",className:"flex-1 border rounded-lg p-2"}),g.jsx("button",{type:"button",className:"px-3 py-2 rounded bg-neutral-800 hover:bg-neutral-700 text-sm text-white cursor-pointer",onClick:()=>{const _=o.trim();_&&(w(_),t(Su(_)),a(!1),l(""))},children:""})]}),u&&g.jsxs("div",{className:"p-3 border rounded bg-neutral-50 dark:bg-neutral-900",children:[g.jsx("h4",{className:"font-bold mb-2 text-s",children:"  "}),g.jsxs("div",{className:"flex items-center justify-between bg-white dark:bg-neutral-800 p-2 rounded border text-sm mb-2",children:[g.jsx("span",{className:"opacity-60 select-none",children:""}),g.jsxs("span",{className:"flex-1 px-2",children:[En," ()"]})]}),g.jsx(Rp,{onDragEnd:k,children:g.jsx(Rf,{droppableId:"folderList",direction:"vertical",type:"FOLDER",children:_=>g.jsxs("ul",{ref:_.innerRef,..._.droppableProps,className:"space-y-1",children:[tb(n).rest.map((j,O)=>g.jsx(Pf,{draggableId:j,index:O,children:T=>g.jsxs("li",{ref:T.innerRef,...T.draggableProps,...T.dragHandleProps,className:"flex items-center justify-between bg-white dark:bg-neutral-800 p-2 rounded border text-sm",children:[g.jsx("span",{className:"cursor-grab select-none mr-2",children:""}),g.jsx("span",{className:"flex-1 pr-1",children:j})]})},j)),_.placeholder]})})})]}),g.jsxs("p",{className:"text-xs text-gray-500",children:['   "',En,'" .      .']})]})}function J6({message:e,onClose:t,ms:n=2e3}){return S.useEffect(()=>{const r=setTimeout(t,n);return()=>clearTimeout(r)},[t,n]),g.jsx("div",{className:"fixed top-4 left-1/2 -translate-x-1/2 bg-black text-white px-4 py-2 rounded-lg shadow-lg z-[9999]",children:e})}const lP=[{key:"name",label:"",placeholder:" ",type:"text"},{key:"birthDay",label:"",placeholder:": 19900101",type:"tel"},{key:"birthTime",label:"",placeholder:": 1524",type:"tel"},{key:"mingSikType",label:" ",type:"mingrule"},{key:"gender",label:"",type:"radio"},{key:"birthPlace",label:"",type:"place"},{key:"relationship",label:"",type:"relationship"},{key:"folder",label:" ",type:"folder"},{key:"memo",label:"",placeholder:" ",type:"textarea"}],jie=[{value:"solar",label:"",id:"calendarType_solar"},{value:"lunar",label:"",id:"calendarType_lunar"}],Tie=["","/",""],Aie=["",""],Q6={gender:"",mingSikType:"/",DayChangeRule:"",calendarType:"solar"};function Nie(e,t,n){return n==="ArrowRight"||n==="ArrowDown"?(e+1)%t:n==="ArrowLeft"||n==="ArrowUp"?(e-1+t)%t:n==="Home"?0:n==="End"?t-1:e}function Oie(e){const t=document.getElementById(e);t instanceof HTMLElement&&t.focus()}function Cie(){const[e,t]=S.useState(0),[n,r]=S.useState({...Q6}),[i,a]=S.useState(null),[o,l]=S.useState(!1),[u,d]=S.useState(!1);return{stepIndex:e,setStepIndex:t,form:n,setForm:r,toast:i,setToast:a,unknownTime:o,setUnknownTime:l,unknownPlace:u,setUnknownPlace:d}}function Mie({currentStepKey:e,birthPlace:t,unknownPlace:n,stepIndex:r}){S.useEffect(()=>{if(["name","birthDay","birthTime","memo"].includes(e)){const a=document.querySelector(".current-step input[type='text']:not([disabled]), .current-step textarea:not([disabled])");if(a){a.focus();return}}if(e==="mingSikType"){const a=document.querySelector("[id^='ming_'][id$='_lbl'][aria-checked='true']");if(a){a.focus();return}}if(e==="gender"){const a=document.querySelector("[id^='gender_'][id$='_lbl'][aria-checked='true']");if(a){a.focus();return}}if(e==="birthPlace"){if(t||n){const a=()=>{const o=document.querySelector(".current-step form button[type='submit']");o&&o.focus()};a(),setTimeout(a,0)}else{const a=document.getElementById("inputBirthPlaceBtn");a&&a.focus()}return}if(e==="relationship"||e==="folder"){setTimeout(()=>{const a=document.querySelector(".current-step select");a&&a.focus()},0);return}document.querySelector(".current-step button, .current-step [tabindex='0']")?.focus()},[n,r,e,t])}function Die(e,t){if(e!=="lunar"||!t||t.length!==8)return null;try{const n=Number(t.slice(0,4)),r=Number(t.slice(4,6)),i=Number(t.slice(6,8)),a=ea(n,r,i);return` ${a.getFullYear()}-${String(a.getMonth()+1).padStart(2,"0")}-${String(a.getDate()).padStart(2,"0")}`}catch(n){const r=n instanceof Error?n.message:void 0;return` ${r?`: ${r}`:""}`}}function Pie(e,t,n,r){switch(e){case"birthPlace":return r?"":t.birthPlace?.name||"";case"birthTime":return n?"":t.birthTime||"";case"folder":return t.folder?String(t.folder):En;default:{const a=t[e];return typeof a=="string"?a:a!=null?String(a):""}}}function Rie({form:e,unknownTime:t,unknownPlace:n,stepIndex:r}){const i=lP[r],a=S.useMemo(()=>Die(e.calendarType,e.birthDay),[e.calendarType,e.birthDay]);return{steps:lP,currentStep:i,lunarPreview:a,displayValue:l=>Pie(l,e,t,n),CALENDAR_OPTIONS:jie,MING_OPTIONS:Tie,GENDER_OPTIONS:Aie,nextIndex:Nie,focusById:Oie,isDST:np}}function Lie(){return{add:jn(t=>t.add)}}const Cr=[];for(let e=0;e<256;++e)Cr.push((e+256).toString(16).slice(1));function Iie(e,t=0){return(Cr[e[t+0]]+Cr[e[t+1]]+Cr[e[t+2]]+Cr[e[t+3]]+"-"+Cr[e[t+4]]+Cr[e[t+5]]+"-"+Cr[e[t+6]]+Cr[e[t+7]]+"-"+Cr[e[t+8]]+Cr[e[t+9]]+"-"+Cr[e[t+10]]+Cr[e[t+11]]+Cr[e[t+12]]+Cr[e[t+13]]+Cr[e[t+14]]+Cr[e[t+15]]).toLowerCase()}let D1;const $ie=new Uint8Array(16);function Bie(){if(!D1){if(typeof crypto>"u"||!crypto.getRandomValues)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");D1=crypto.getRandomValues.bind(crypto)}return D1($ie)}const zie=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),cP={randomUUID:zie};function e7(e,t,n){if(cP.randomUUID&&!e)return cP.randomUUID();e=e||{};const r=e.random??e.rng?.()??Bie();if(r.length<16)throw new Error("Random bytes length must be >= 16");return r[6]=r[6]&15|64,r[8]=r[8]&63|128,Iie(r)}function Uie(e,t,n){const r=Su(e.folder);return $6({id:e7(),name:e.name,birthDay:e.birthDay??"",calendarType:e.calendarType??"solar",birthTime:e.birthTime,unknownTime:t,gender:e.gender,birthPlace:e.birthPlace,unknownPlace:n,relationship:e.relationship,memo:e.memo,folder:r,mingSikType:e.mingSikType,dateObj:e.dateObj||new Date},{requireName:!1})}function Fie(e,t,n,r){if(e==="name"&&!t.name)return{ok:!0,message:"  '' .",nextForm:{...t,name:""}};if(e==="birthDay"){const i=Xj(t.birthDay??"",t.calendarType??"solar");if(!i.ok)return{ok:!1,message:i.message};if(t.birthDay!==i.value)return{ok:!0,nextForm:{...t,birthDay:i.value}}}if(e==="birthTime"){const i=Jj(t.birthTime??"",n);if(!i.ok)return{ok:!1,message:i.message};if(i.value!==""&&t.birthTime!==i.value)return{ok:!0,nextForm:{...t,birthTime:i.value}}}return e==="birthPlace"&&!t.birthPlace&&!r?{ok:!1,message:"  ''  ."}:{ok:!0}}function Hie({form:e,setForm:t,stepIndex:n,setStepIndex:r,stepsLength:i,currentStepKey:a,unknownTime:o,setUnknownTime:l,unknownPlace:u,setUnknownPlace:d,setToast:h,onSave:m}){const{add:b}=Lie(),y=S.useCallback(()=>{const w=Fie(a,e,o,u);if(!w.ok){h(w.message??" .");return}if(w.nextForm&&(t(w.nextForm),w.message&&h(w.message)),n<i-1){r(n+1);return}const _=Uie(e,o,u);if(!_.ok){h(_.message);return}const j=_.value;b(j),m(j),h(" !"),t({...Q6}),l(!1),d(!1),r(0)},[a,e,o,u,h,t,n,i,r,b,m,l,d]),k=S.useCallback(w=>{if(w.key!=="Enter")return;const _=w.target,j=_.getAttribute("role");if(j==="radio"||j==="checkbox")return;const O=document.getElementById("mapModal");if(O&&O.contains(_))return;const T=_.tagName.toLowerCase(),C=_ instanceof HTMLInputElement?_.type:"";if(T==="textarea"){if(w.shiftKey)return;w.preventDefault(),y();return}if(C==="radio"||C==="checkbox"){w.preventDefault(),_ instanceof HTMLInputElement&&_.click();return}T==="button"&&_.type!=="submit"||(w.preventDefault(),y())},[y]);return{handleNext:y,handleFormKeyDown:k}}function Gie({onSave:e}){const t=Cie(),n=Rie({form:t.form,unknownTime:t.unknownTime,unknownPlace:t.unknownPlace,stepIndex:t.stepIndex});Mie({currentStepKey:n.currentStep.key,birthPlace:t.form.birthPlace,unknownPlace:t.unknownPlace,stepIndex:t.stepIndex});const r=Hie({form:t.form,setForm:t.setForm,stepIndex:t.stepIndex,setStepIndex:t.setStepIndex,stepsLength:n.steps.length,currentStepKey:n.currentStep.key,unknownTime:t.unknownTime,setUnknownTime:t.setUnknownTime,unknownPlace:t.unknownPlace,setUnknownPlace:t.setUnknownPlace,setToast:t.setToast,onSave:e});return{steps:n.steps,stepIndex:t.stepIndex,setStepIndex:t.setStepIndex,currentStep:n.currentStep,form:t.form,setForm:t.setForm,toast:t.toast,setToast:t.setToast,unknownTime:t.unknownTime,setUnknownTime:t.setUnknownTime,unknownPlace:t.unknownPlace,setUnknownPlace:t.setUnknownPlace,lunarPreview:n.lunarPreview,handleNext:r.handleNext,handleFormKeyDown:r.handleFormKeyDown,displayValue:n.displayValue,CALENDAR_OPTIONS:n.CALENDAR_OPTIONS,MING_OPTIONS:n.MING_OPTIONS,GENDER_OPTIONS:n.GENDER_OPTIONS,nextIndex:n.nextIndex,focusById:n.focusById,isDST:n.isDST}}function Yie({onSave:e,onClose:t}){const n=Gie({onSave:e});return g.jsxs("div",{className:"mx-auto mt-10 space-y-2 max-w-[640px] w-[96%] text-neutral-900 dark:text-neutral-100",children:[n.toast&&g.jsx(J6,{message:n.toast,onClose:()=>n.setToast(null)}),n.steps.slice(0,n.stepIndex).map((r,i)=>g.jsxs("button",{onClick:()=>n.setStepIndex(i),className:"p-3 rounded-lg bg-neutral-100 dark:bg-neutral-900 border border-neutral-200 dark:border-neutral-800 flex justify-between w-full text-left hover:bg-neutral-200 dark:hover:bg-neutral-800/80 transition-colors",children:[g.jsx("span",{className:"font-semibold",children:r.label}),g.jsx("span",{className:"text-neutral-600 dark:text-neutral-300",children:n.displayValue(r.key)})]},r.key)),g.jsx("div",{className:"p-4 border rounded-lg shadow current-step bg-white dark:bg-neutral-900 border-neutral-200 dark:border-neutral-800",children:g.jsxs("form",{onSubmit:r=>{r.preventDefault(),n.handleNext()},onKeyDown:n.handleFormKeyDown,children:[g.jsx("label",{className:"block mb-2 font-bold",children:n.currentStep.label}),n.currentStep.key==="name"&&g.jsx("input",{type:"text",className:"w-full border rounded-lg p-2 bg-white dark:bg-neutral-900 border-neutral-300 dark:border-neutral-700 placeholder-neutral-400 dark:placeholder-neutral-500 text-neutral-900 dark:text-neutral-100",placeholder:n.currentStep.placeholder,value:n.form.name||"",onChange:r=>n.setForm({...n.form,name:r.target.value})}),n.currentStep.key==="birthDay"&&g.jsxs("div",{className:"space-y-2",children:[g.jsxs("div",{className:"flex gap-1 items-center",children:[g.jsx("input",{type:"text",className:"flex-1 border rounded-lg p-2 bg-white dark:bg-neutral-900 border-neutral-300 dark:border-neutral-700 placeholder-neutral-400 dark:placeholder-neutral-500 text-neutral-900 dark:text-neutral-100",placeholder:n.currentStep.placeholder,value:n.form.birthDay||"",onChange:r=>{const i=r.target.value.replace(/\D/g,"");n.setForm({...n.form,birthDay:i.slice(0,8)})},inputMode:"numeric",pattern:"\\d*",maxLength:8}),g.jsx("fieldset",{role:"radiogroup","aria-label":" ",className:"flex gap-1 text-sm",children:n.CALENDAR_OPTIONS.map(({value:r,label:i,id:a})=>{const o=n.form.calendarType===r;return g.jsxs("span",{className:"inline-flex items-center gap-1",children:[g.jsx("input",{id:a,name:"calendarType",type:"radio",style:{display:"none"}}),g.jsx("label",{htmlFor:a,id:`${a}_lbl`,role:"radio","aria-checked":o,tabIndex:0,className:`cursor-pointer select-none px-2 py-1 rounded-md border
                                     border-neutral-300 dark:border-neutral-700
                                     bg-white dark:bg-neutral-900
                                     focus-visible:outline focus-visible:outline-2 focus-visible:outline-amber-500
                                     data-[checked=true]:border-amber-400 data-[checked=true]:bg-amber-50
                                     dark:data-[checked=true]:bg-amber-500/10`,"data-checked":o?"true":"false",onKeyDown:l=>{if(l.stopPropagation(),l.key===" "||l.key==="Enter"){l.preventDefault(),n.setForm({...n.form,calendarType:r});return}if(!["ArrowRight","ArrowLeft","ArrowUp","ArrowDown","Home","End"].includes(l.key))return;l.preventDefault();const d=n.CALENDAR_OPTIONS.findIndex(b=>b.value===n.form.calendarType),h=n.nextIndex(d<0?0:d,n.CALENDAR_OPTIONS.length,l.key),m=n.CALENDAR_OPTIONS[h].value;n.setForm({...n.form,calendarType:m}),n.focusById(`${n.CALENDAR_OPTIONS[h].id}_lbl`)},onClick:l=>{l.preventDefault(),n.setForm({...n.form,calendarType:r})},children:i})]},r)})})]}),n.form.calendarType==="lunar"&&g.jsx("div",{className:"flex items-center justify-end",children:g.jsx("span",{className:"text-xs text-neutral-600 dark:text-neutral-300",children:n.lunarPreview})}),n.form.birthDay&&n.form.birthDay.length===8&&(()=>{const r=Number(n.form.birthDay.slice(0,4)),i=Number(n.form.birthDay.slice(4,6)),a=Number(n.form.birthDay.slice(6,8));return n.isDST(r,i,a)?g.jsx("div",{className:"text-xs text-red-600 dark:text-red-400 mt-1",children:"  ."}):null})()]}),n.currentStep.key==="birthTime"&&g.jsxs("div",{className:"space-y-2",children:[g.jsx("input",{type:"text",className:"w-full border rounded-lg p-2 disabled:opacity-50 bg-white dark:bg-neutral-900 border-neutral-300 dark:border-neutral-700 placeholder-neutral-400 dark:placeholder-neutral-500 text-neutral-900 dark:text-neutral-100",placeholder:n.currentStep.placeholder,value:n.unknownTime?"":n.form.birthTime||"",onChange:r=>{const i=r.target.value.replace(/\D/g,"");n.setForm({...n.form,birthTime:i.slice(0,4)})},inputMode:"numeric",pattern:"\\d*",maxLength:4,disabled:n.unknownTime}),g.jsxs("span",{className:"inline-flex items-center gap-1",children:[g.jsx("input",{id:"birthTimeX",type:"checkbox",style:{display:"none"}}),g.jsx("label",{htmlFor:"birthTimeX",role:"checkbox","aria-checked":n.unknownTime,tabIndex:0,className:`text-sm select-none cursor-pointer px-2 py-1 rounded-md border
                             border-neutral-300 dark:border-neutral-700
                             bg-white dark:bg-neutral-900
                             focus-visible:outline focus-visible:outline-2 focus-visible:outline-amber-500
                             data-[checked=true]:border-amber-400 data-[checked=true]:bg-amber-50
                             dark:data-[checked=true]:bg-amber-500/10`,"data-checked":n.unknownTime?"true":"false",onKeyDown:r=>{r.stopPropagation(),(r.key===" "||r.key==="Enter")&&(r.preventDefault(),n.setUnknownTime(!n.unknownTime))},onClick:r=>{r.preventDefault(),n.setUnknownTime(!n.unknownTime)},children:""})]})]}),n.currentStep.key==="mingSikType"&&g.jsx("fieldset",{role:"radiogroup","aria-label":" ",className:"flex flex-wrap gap-3",children:n.MING_OPTIONS.map(r=>{const i=`ming_${r}`,a=(n.form.mingSikType??"/")===r;return g.jsxs("span",{className:"inline-flex items-center gap-1",children:[g.jsx("input",{id:i,name:"mingSikType",type:"radio",style:{display:"none"}}),g.jsxs("label",{htmlFor:i,id:`${i}_lbl`,role:"radio","aria-checked":a,tabIndex:0,className:`cursor-pointer select-none px-2 py-1 rounded-md border
                                 border-neutral-300 dark:border-neutral-700
                                 bg-white dark:bg-neutral-900
                                 focus-visible:outline focus-visible:outline-2 focus-visible:outline-amber-500
                                 data-[checked=true]:border-amber-400 data-[checked=true]:bg-amber-50
                                 dark:data-[checked=true]:bg-amber-500/10`,"data-checked":a?"true":"false",onKeyDown:o=>{if(o.stopPropagation(),o.key===" "||o.key==="Enter"){o.preventDefault(),n.setForm({...n.form,mingSikType:r});return}if(!["ArrowRight","ArrowLeft","ArrowUp","ArrowDown","Home","End"].includes(o.key))return;o.preventDefault();const u=n.form.mingSikType??"/",d=n.MING_OPTIONS.indexOf(u),h=n.nextIndex(d,n.MING_OPTIONS.length,o.key),m=n.MING_OPTIONS[h];n.setForm({...n.form,mingSikType:m}),n.focusById(`ming_${m}_lbl`)},onClick:o=>{o.preventDefault(),n.setForm({...n.form,mingSikType:r})},children:[r," "]})]},r)})}),n.currentStep.key==="gender"&&g.jsx("fieldset",{role:"radiogroup","aria-label":"",className:"flex gap-2",children:n.GENDER_OPTIONS.map(r=>{const i=`gender_${r}`,a=(n.form.gender??"")===r;return g.jsxs("span",{className:"inline-flex items-center gap-1",children:[g.jsx("input",{id:i,name:"gender",type:"radio",style:{display:"none"}}),g.jsx("label",{htmlFor:i,id:`${i}_lbl`,role:"radio","aria-checked":a,tabIndex:0,className:`cursor-pointer select-none px-2 py-1 rounded-md border
                                 border-neutral-300 dark:border-neutral-700
                                 bg-white dark:bg-neutral-900
                                 focus-visible:outline focus-visible:outline-2 focus-visible:outline-amber-500
                                 data-[checked=true]:border-amber-400 data-[checked=true]:bg-amber-50
                                 dark:data-[checked=true]:bg-amber-500/10`,"data-checked":a?"true":"false",onKeyDown:o=>{if(o.stopPropagation(),o.key===" "||o.key==="Enter"){o.preventDefault(),n.setForm({...n.form,gender:r});return}if(!["ArrowRight","ArrowLeft","ArrowUp","ArrowDown","Home","End"].includes(o.key))return;o.preventDefault();const u=n.form.gender??"",d=n.GENDER_OPTIONS.indexOf(u),h=n.nextIndex(d,n.GENDER_OPTIONS.length,o.key),m=n.GENDER_OPTIONS[h];n.setForm({...n.form,gender:m}),n.focusById(`gender_${m}_lbl`)},onClick:o=>{o.preventDefault(),n.setForm({...n.form,gender:r})},children:r})]},r)})}),n.currentStep.key==="birthPlace"&&g.jsxs("div",{className:"space-y-2",children:[g.jsx(S4,{onSelect:r=>n.setForm({...n.form,birthPlace:r}),value:n.unknownPlace?"":n.form.birthPlace?.name??""}),g.jsxs("span",{className:"inline-flex items-center gap-1",children:[g.jsx("input",{id:"birthPlaceX",type:"checkbox",style:{display:"none"}}),g.jsx("label",{htmlFor:"birthPlaceX",role:"checkbox","aria-checked":n.unknownPlace,tabIndex:0,className:`text-sm select-none cursor-pointer px-2 py-1 rounded-md border
                             border-neutral-300 dark:border-neutral-700
                             bg-white dark:bg-neutral-900
                             focus-visible:outline focus-visible:outline-2 focus-visible:outline-amber-500
                             data-[checked=true]:border-amber-400 data-[checked=true]:bg-amber-50
                             dark:data-[checked=true]:bg-amber-500/10`,"data-checked":n.unknownPlace?"true":"false",onKeyDown:r=>{r.stopPropagation(),(r.key===" "||r.key==="Enter")&&(r.preventDefault(),n.setUnknownPlace(!n.unknownPlace))},onClick:r=>{r.preventDefault(),n.setUnknownPlace(!n.unknownPlace)},children:""})]})]}),n.currentStep.key==="relationship"&&g.jsx(K6,{value:n.form.relationship||"",onChange:r=>n.setForm({...n.form,relationship:r})}),n.currentStep.key==="folder"&&g.jsx(Eie,{value:Su(n.form.folder),onChange:r=>n.setForm({...n.form,folder:r})}),n.currentStep.key==="memo"&&g.jsx("textarea",{className:"w-full border rounded-lg p-2 bg-white dark:bg-neutral-900 border-neutral-300 dark:border-neutral-700 placeholder-neutral-400 dark:placeholder-neutral-500 text-neutral-900 dark:text-neutral-100",placeholder:n.currentStep.placeholder,value:n.form.memo||"",onChange:r=>n.setForm({...n.form,memo:r.target.value})}),g.jsxs("div",{className:"flex justify-between gap-2",children:[g.jsx("button",{className:"mt-4 w-full btn_style btn_secondary dark:focus:ring-amber-500",onClick:t,children:""}),g.jsx("button",{type:"submit",className:"mt-4 w-full btn_style dark:focus:ring-amber-500",children:n.stepIndex===n.steps.length-1?"":""})]})]})})]})}var nb={},uP;function qie(){if(uP)return nb;uP=1,nb.match=a,nb.parse=o;var e=/(?:(only|not)?\s*([^\s\(\)]+)(?:\s*and)?\s*)?(.+)?/i,t=/\(\s*([^\s\:\)]+)\s*(?:\:\s*([^\s\)]+))?\s*\)/,n=/^(?:(min|max)-)?(.+)/,r=/(em|rem|px|cm|mm|in|pt|pc)?$/,i=/(dpi|dpcm|dppx)?$/;function a(h,m){return o(h).some(function(b){var y=b.inverse,k=b.type==="all"||m.type===b.type;if(k&&y||!(k||y))return!1;var w=b.expressions.every(function(_){var j=_.feature,O=_.modifier,T=_.value,C=m[j];if(!C)return!1;switch(j){case"orientation":case"scan":return C.toLowerCase()===T.toLowerCase();case"width":case"height":case"device-width":case"device-height":T=d(T),C=d(C);break;case"resolution":T=u(T),C=u(C);break;case"aspect-ratio":case"device-aspect-ratio":case"device-pixel-ratio":T=l(T),C=l(C);break;case"grid":case"color":case"color-index":case"monochrome":T=parseInt(T,10)||1,C=parseInt(C,10)||0;break}switch(O){case"min":return C>=T;case"max":return C<=T;default:return C===T}});return w&&!y||!w&&y})}function o(h){return h.split(",").map(function(m){m=m.trim();var b=m.match(e),y=b[1],k=b[2],w=b[3]||"",_={};return _.inverse=!!y&&y.toLowerCase()==="not",_.type=k?k.toLowerCase():"all",w=w.match(/\([^\)]+\)/g)||[],_.expressions=w.map(function(j){var O=j.match(t),T=O[1].toLowerCase().match(n);return{modifier:T[1],feature:T[2],value:O[2]}}),_})}function l(h){var m=Number(h),b;return m||(b=h.match(/^(\d+)\s*\/\s*(\d+)$/),m=b[1]/b[2]),m}function u(h){var m=parseFloat(h),b=String(h).match(i)[1];switch(b){case"dpcm":return m/2.54;case"dppx":return m*96;default:return m}}function d(h){var m=parseFloat(h),b=String(h).match(r)[1];switch(b){case"em":return m*16;case"rem":return m*16;case"cm":return m*96/2.54;case"mm":return m*96/2.54/10;case"in":return m*96;case"pt":return m*72;case"pc":return m*72/12;default:return m}}return nb}var P1,dP;function Kie(){if(dP)return P1;dP=1;var e=qie().match,t=typeof window<"u"?window.matchMedia:null;function n(i,a,o){var l=this,u;t&&!o&&(u=t.call(window,i)),u?(this.matches=u.matches,this.media=u.media,u.addListener(m)):(this.matches=e(i,a),this.media=i),this.addListener=d,this.removeListener=h,this.dispose=b;function d(y){u&&u.addListener(y)}function h(y){u&&u.removeListener(y)}function m(y){l.matches=y.matches,l.media=y.media}function b(){u&&u.removeListener(m)}}function r(i,a,o){return new n(i,a,o)}return P1=r,P1}var Wie=Kie();const Vie=Ti(Wie);var Zie=/[A-Z]/g,Xie=/^ms-/,R1={};function Jie(e){return"-"+e.toLowerCase()}function t7(e){if(R1.hasOwnProperty(e))return R1[e];var t=e.replace(Zie,Jie);return R1[e]=Xie.test(t)?"-"+t:t}function Qie(e,t){if(e===t)return!0;if(!e||!t)return!1;const n=Object.keys(e),r=Object.keys(t),i=n.length;if(r.length!==i)return!1;for(let a=0;a<i;a++){const o=n[a];if(e[o]!==t[o]||!Object.prototype.hasOwnProperty.call(t,o))return!1}return!0}var L1={exports:{}},I1,fP;function eae(){if(fP)return I1;fP=1;var e="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return I1=e,I1}var $1,hP;function tae(){if(hP)return $1;hP=1;var e=eae();function t(){}function n(){}return n.resetWarningCache=t,$1=function(){function r(o,l,u,d,h,m){if(m!==e){var b=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw b.name="Invariant Violation",b}}r.isRequired=r;function i(){return r}var a={array:r,bigint:r,bool:r,func:r,number:r,object:r,string:r,symbol:r,any:r,arrayOf:i,element:r,elementType:r,instanceOf:i,node:r,objectOf:i,oneOf:i,oneOfType:i,shape:i,exact:i,checkPropTypes:n,resetWarningCache:t};return a.PropTypes=a,a},$1}var mP;function nae(){return mP||(mP=1,L1.exports=tae()()),L1.exports}var rae=nae();const Bt=Ti(rae),Xr=Bt.oneOfType([Bt.string,Bt.number]),n7={all:Bt.bool,grid:Bt.bool,aural:Bt.bool,braille:Bt.bool,handheld:Bt.bool,print:Bt.bool,projection:Bt.bool,screen:Bt.bool,tty:Bt.bool,tv:Bt.bool,embossed:Bt.bool},iae={orientation:Bt.oneOf(["portrait","landscape"]),scan:Bt.oneOf(["progressive","interlace"]),aspectRatio:Bt.string,deviceAspectRatio:Bt.string,height:Xr,deviceHeight:Xr,width:Xr,deviceWidth:Xr,color:Bt.bool,colorIndex:Bt.bool,monochrome:Bt.bool,resolution:Xr,type:Object.keys(n7)},{type:GMe,...aae}=iae,oae={minAspectRatio:Bt.string,maxAspectRatio:Bt.string,minDeviceAspectRatio:Bt.string,maxDeviceAspectRatio:Bt.string,minHeight:Xr,maxHeight:Xr,minDeviceHeight:Xr,maxDeviceHeight:Xr,minWidth:Xr,maxWidth:Xr,minDeviceWidth:Xr,maxDeviceWidth:Xr,minColor:Bt.number,maxColor:Bt.number,minColorIndex:Bt.number,maxColorIndex:Bt.number,minMonochrome:Bt.number,maxMonochrome:Bt.number,minResolution:Xr,maxResolution:Xr,...aae},sae={...n7,...oae};var lae={all:sae};const cae=e=>`not ${e}`,uae=(e,t)=>{const n=t7(e);return typeof t=="number"&&(t=`${t}px`),t===!0?n:t===!1?cae(n):`(${n}: ${t})`},dae=e=>e.join(" and "),fae=e=>{const t=[];return Object.keys(lae.all).forEach(n=>{const r=e[n];r!=null&&t.push(uae(n,r))}),dae(t)},hae=S.createContext(void 0),mae=e=>e.query||fae(e),pP=e=>e?Object.keys(e).reduce((n,r)=>(n[t7(r)]=e[r],n),{}):void 0,r7=()=>{const e=S.useRef(!1);return S.useEffect(()=>{e.current=!0},[]),e.current},pae=e=>{const t=S.useContext(hae),n=()=>pP(e)||pP(t),[r,i]=S.useState(n);return S.useEffect(()=>{const a=n();Qie(r,a)||i(a)},[e,t]),r},gae=e=>{const t=()=>mae(e),[n,r]=S.useState(t);return S.useEffect(()=>{const i=t();n!==i&&r(i)},[e]),n},bae=(e,t)=>{const n=()=>Vie(e,t||{},!!t),[r,i]=S.useState(n),a=r7();return S.useEffect(()=>{if(a){const o=n();return i(o),()=>{o&&o.dispose()}}},[e,t]),r},yae=e=>{const[t,n]=S.useState(e.matches);return S.useEffect(()=>{const r=i=>{n(i.matches)};return e.addListener(r),n(e.matches),()=>{e.removeListener(r)}},[e]),t},vae=(e,t,n)=>{const r=pae(t),i=gae(e);if(!i)throw new Error("Invalid or missing MediaQuery!");const a=bae(i,r),o=yae(a);return r7(),S.useEffect(()=>{},[o]),S.useEffect(()=>()=>{a&&a.dispose()},[]),o},i7={Classic:"",Modern:""};function so(e,t){const r={:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}}[e];return r?r[t]??"":""}function xae(e,t){return{:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}}[e]?.[t]??""}function wae(e,t){const n={:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},r={:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}},i=n[e];return i&&r[i]?r[i][t]??"":""}function _ae(e,t){return{:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}}[e]?.[t]??""}function Sae(e,t){const n={:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},r={:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}},i=n[e];return i&&r[i]?r[i][t]??"":""}function lo(e){const{baseBranch:t,targetBranch:n,era:r,gaehwa:i}=e;return!t||!n?"":r===""?i?xae(t,n):wae(t,n):i?_ae(t,n):Sae(t,n)}const ni=Zo()(Z5((e,t)=>{const n=new Date,r="/",i=127.5,a=0,o=(b,y)=>y?new Date(b.getTime()+y*60*1e3):b,l=i,u=o(n,a),d=ut(u,l),h=Ot(u,l),m=gt(u,r);return{date:n,scope:"",rule:r,lon:i,dstOffsetMinutes:a,yearGZ:d,monthGZ:h,dayGZ:m,setDate:b=>{const{rule:y,lon:k,dstOffsetMinutes:w}=t(),_=typeof k=="number"?k:void 0,j=o(b,w);e({date:b,yearGZ:ut(j,_),monthGZ:Ot(j,_),dayGZ:gt(j,y)})},resetDate:()=>{const{rule:b,lon:y,dstOffsetMinutes:k}=t(),w=new Date,_=typeof y=="number"?y:void 0,j=o(w,k);e({date:w,yearGZ:ut(j,_),monthGZ:Ot(j,_),dayGZ:gt(j,b)})},resetMonth:()=>{const{lon:b,dstOffsetMinutes:y}=t(),k=new Date,w=typeof b=="number"?b:void 0,_=o(k,y);e({date:k,monthGZ:Ot(_,w)})},setScope:b=>e({scope:b}),setRule:b=>{const{date:y,lon:k,dstOffsetMinutes:w}=t(),_=typeof k=="number"?k:void 0,j=o(y,w);e({rule:b,yearGZ:ut(j,_),monthGZ:Ot(j,_),dayGZ:gt(j,b)})},setLon:b=>{const{date:y,rule:k,dstOffsetMinutes:w}=t(),_=typeof b=="number"?b:void 0,j=o(y,w);e({lon:b,yearGZ:ut(j,_),monthGZ:Ot(j,_),dayGZ:gt(j,k)})},setDstOffsetMinutes:b=>{const{date:y,rule:k,lon:w}=t(),_=typeof w=="number"?w:void 0,j=o(y,b);e({dstOffsetMinutes:b,yearGZ:ut(j,_),monthGZ:Ot(j,_),dayGZ:gt(j,k)})},setFromEvent:(b,y)=>{const{rule:k,lon:w,dstOffsetMinutes:_}=t(),j=typeof w=="number"?w:void 0,O=o(b.at,_);e({date:b.at,scope:y,yearGZ:ut(O,j),monthGZ:Ot(O,j),dayGZ:gt(O,k)})},forceKey:new Date}},{name:"luck-picker-v1",merge:(e,t)=>{const n=e;return n.date&&typeof n.date=="string"&&(n.date=new Date(n.date)),{...t,...n}}})),kae=60*1e3,a7=60*kae,Eae=24*a7,jae=(e,t)=>{const n=new Date(e.getTime()),r=n.getFullYear()+t,i=n.getMonth(),a=n.getDate();return new Date(Date.UTC(r,i,a,n.getUTCHours(),n.getUTCMinutes()))},ip=e=>{const t=new Date(e);return t.setSeconds(0,0),t},ry={HOUR:a7,DAY:Eae},o7=[315,345,15,45,75,105,135,165,195,225,255,285],Tae=e=>{const t=e.getFullYear(),n=[];for(const r of[t-1,t])for(const i of o7){const a=bn(r,i);a.getTime()<=e.getTime()&&n.push(a)}if(!n.length)throw new Error("  ");return n.sort((r,i)=>i.getTime()-r.getTime()),ip(n[0])},Aae=e=>{const t=e.getFullYear(),n=[];for(const r of[t,t+1])for(const i of o7){const a=bn(r,i);a.getTime()>=e.getTime()&&n.push(a)}if(!n.length)throw new Error("  ");return n.sort((r,i)=>r.getTime()-i.getTime()),ip(n[0])},ji=e=>{const t=e.getFullYear(),n=[{deg:315,name:""},{deg:345,name:""},{deg:15,name:""},{deg:45,name:""},{deg:75,name:""},{deg:105,name:""},{deg:135,name:""},{deg:165,name:""},{deg:195,name:""},{deg:225,name:""},{deg:255,name:""},{deg:285,name:""}],r={deg:315,name:""},i=n.map(l=>({name:l.name,date:bn(t,l.deg)})).concat([{name:r.name,date:bn(t+1,r.deg)},{name:"",date:bn(t+1,285)}]),a=bn(t,315),o=bn(t+1,315);return i.filter(l=>l.date>=a&&l.date<o).sort((l,u)=>l.date.getTime()-u.date.getTime())},s7=(()=>{const e=[];for(let t=0;t<60;t+=1)e.push(`${ti[t%10]}${ki[t%12]}`);return e})(),Nae=e=>{const t=s7.indexOf(e);if(t<0)throw new Error(`Unknown : ${e}`);return t},ap=(e,t,n=1)=>{const r=Nae(e),i=t==="forward"?n:-n;return s7[(r+i+60*1e3)%60]},Md=2*ry.HOUR,gP=e=>(Math.floor((e+1)/2)*2-1+24)%24,Oae=(e,t)=>{const n=e.getHours(),r=gP(n),i=new Date(e);i.setHours(r,0,0,0),i.getTime()>e.getTime()&&i.setTime(i.getTime()-Md);const a=new Date(i.getTime()+Md),o=e.getTime()-i.getTime(),l=a.getTime()-e.getTime();if(o<0||o>Md||l<0||l>Md){const u=new Date(e);for(u.setHours(gP(e.getHours()),0,0,0);u.getTime()>e.getTime();)u.setTime(u.getTime()-Md);const d=new Date(u.getTime()+Md),h=e.getTime()-u.getTime(),m=d.getTime()-e.getTime();return t==="backward"?h:m}return t==="backward"?o:l},l7=(e,t,n,r=120)=>{const i=ip(e),a=Oae(i,n),o=10*ry.DAY/(2*ry.HOUR),l=ip(new Date(i.getTime()+a*o)),u=jae(e,r).getTime(),d=[];let h=ap(t,n,1);for(let m=l.getTime();m<=u;m+=10*ry.DAY)d.push({at:new Date(m),gz:h}),h=ap(h,n,1);return{firstChange:l,events:d}},c7=(e,t)=>{const n=t==="forward"?e===""?"":"":e===""?"":"";return r=>r===n},u7=(e,t,n,r)=>{const i=c7(r,n);let a=t;const o=[];for(const l of e.events){const u=l.gz.charAt(1);i(u)&&(a=ap(a,n,1),o.push({at:l.at,gz:a}))}return{events:o}},CE=7200*1e3,Cae=(e,t,n)=>{const r=e.charAt(0),i=e.charAt(1),a=ti.indexOf(r),o=ki.indexOf(i),l=t==="forward"?n:-n,u=(a+l%10+10)%10,d=(o+l%12+12)%12;return ti[u]+ki[d]},Mae=e=>(Math.floor((e+1)/2)*2-1+24)%24,Dae=e=>{const t=e.getHours(),n=Mae(t),r=new Date(e);return r.setHours(n,0,0,0),r.getTime()>e.getTime()&&r.setTime(r.getTime()-CE),r},Pae=(e,t)=>{const n=ji(e).sort((m,b)=>m.date.getTime()-b.date.getTime()),r=e.getTime();let i;if(t==="forward"){let m=n.find(b=>b.date.getTime()>r);if(!m){const b=new Date(e.getFullYear()+1,0,2,12,0,0,0);m=ji(b).sort((k,w)=>k.date.getTime()-w.date.getTime()).find(k=>k.date.getTime()>r)}if(!m)throw new Error("    .");i=m.date}else{let m=n.filter(b=>b.date.getTime()<r);if(m.length===0){const b=new Date(e.getFullYear()-1,11,31,12,0,0,0);m=ji(b).sort((k,w)=>k.date.getTime()-w.date.getTime()).filter(k=>k.date.getTime()<r)}if(m.length===0)throw new Error("    .");i=m[m.length-1].date}const a=Dae(e),o=t==="forward"?CE:-CE,l=i.getTime();let u=new Date(a.getTime()),d=0;const h=365*24/2;for(;d<h;){const m=u.getTime();if(t==="forward"){if(m>=l)return u}else if(m<=l)return u;u=new Date(u.getTime()+o),d++}throw new Error("     .")},Rae=(e,t)=>{const i=Math.abs(t.getTime()-e.getTime())*120;return new Date(e.getTime()+i)},Bp=(e,t,n,r=120,i)=>{console.log(i);const a=Pae(e,n),o=Rae(e,a),l=Math.floor(r/10),u=[];for(let d=0;d<l;d++){const h=new Date(o);h.setFullYear(h.getFullYear()+d*10),h.setSeconds(0,0);const m=Cae(t,n,d+1);u.push({at:h,gz:m})}return u.sort((d,h)=>d.at.getTime()-h.at.getTime()),{natalMonthPillar:t,firstChange:o,mPillars:[],events:u}},Lae=(e,t)=>{const r=(t.getTime()-e.getTime())/(365.2425*24*60*60*1e3);return Math.max(0,Math.floor(r))},d7=(e,t,n,r,i)=>{const a=c7(r,n);let o=t;const l=[];for(const u of e.events){const d=u.gz.charAt(1);a(d)&&(o=ap(o,n,1),l.push({at:u.at,gz:o,age:Lae(i,u.at)}))}return{events:l}},Iae=e=>{const t=Number(e.birthDay.slice(0,4)),n=Number(e.birthDay.slice(4,6)),r=Number(e.birthDay.slice(6,8));let i=12,a=0;return e.birthTime&&e.birthTime!==""&&/^\d{4}$/.test(e.birthTime)&&(i=Number(e.birthTime.slice(0,2)),a=Number(e.birthTime.slice(2,4))),new Date(t,n-1,r,i,a,0,0)},bx=(e,t)=>{const n=Iae(e),r=!e.birthPlace||typeof e.birthPlace=="object"&&e.birthPlace.name==="",i=Lp(n,e.birthPlace?.lon??null,r),a=t?.dstOffsetMinutes??0,o=a!==0?new Date(i.getTime()+a*60*1e3):i;return ip(o)},iT=(e,t,n)=>{const r=e.birthPlace?.lon??127.5,i=bx(e,n),a=gt(i,t),o=ao(i,t,a.charAt(0));return{year:ut(i,r),month:Ot(i,r),day:a,hour:o}},$ae=(()=>{const e=[];for(let t=0;t<60;t++)e.push(`${ti[t%10]}${ki[t%12]}`);return e})(),Bae=e=>$ae.indexOf(e),B1=e=>{if(Bae(e)<0)throw new Error(`Unknown : ${e}`);return{stem:e[0],branch:e[1]}};function zae(e,t="/",n=0){const r=S.useMemo(()=>If(e),[e]),i=S.useMemo(()=>bx(r,{dstOffsetMinutes:n}),[r,n]),a=S.useMemo(()=>iT(r,t,{dstOffsetMinutes:n}),[r,t,n]);return S.useMemo(()=>{const o=Bp(i,a.month,r.dir,120,r?.birthPlace?.lon??127.5),l=new Date;function u(C,M){let P=null;const I=M.getTime();for(const z of C)if(z.at.getTime()<=I)P=z;else break;return P}const d=u(o.events,l)?.gz??a.month,h=B1(d),m=l.getFullYear(),b=bn(m,315),k=b&&l>=b?m:m-1,w=ut(new Date(k,1,10,0,0,0),127.5),_=B1(w),j=Ot(l,127.5),O=B1(j),T=[];return O&&T.push({key:"wolun",label:"",data:O}),_&&T.push({key:"seun",label:"",data:_}),h&&T.push({key:"daeun",label:"",data:h}),T},[i,r.dir,a.month,r.birthPlace?.lon])}const Uae=365.2425*24*60*60*1e3,Fae=1440*60*1e3,Hae=(e,t)=>(t.getTime()-e.getTime())/Uae,Gae=e=>e<1?1+e:e,bP=e=>Math.floor(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate())/Fae),Yae=(e,t)=>{try{const n=t==="forward"?Aae(e):Tae(e),r=Math.abs(bP(n)-bP(e));return(t==="forward"?r+1:r)/3}catch{return 0}},qae=(e,t,n,r)=>{const i=Yae(e,n),a=Math.max(1,Math.floor(i+1e-9)),o=new Date(e.getFullYear()+Math.max(0,a-1),0,1,12,0,0,0),l=Math.max(0,Math.floor(r/10)),u=[];for(let d=0;d<l;d+=1){const h=new Date(o);h.setFullYear(h.getFullYear()+d*10),h.setSeconds(0,0);const m=ap(t,n,d+1);u.push({at:h,gz:m})}return{baseAge:a,events:u}};function dc(e,t="/",n=100,r=0){const i=nn(d=>d.settings.daewoonDisplayBase),a=S.useMemo(()=>If(e),[e]),o=S.useMemo(()=>bx(a,{dstOffsetMinutes:r}),[a,r]),l=S.useMemo(()=>iT(a,t,{dstOffsetMinutes:r}),[a,t,r]),u=a.dir==="backward"?"backward":"forward";return S.useMemo(()=>{const d=(k,w)=>k.map((_,j)=>{const O=j===0?1:w+(j-1)*10,T=_.at.getFullYear();return{..._,age:O,startYear:T}});if(i===""){const k=qae(o,l.month,u,n),w={at:o,gz:l.month};return d([w,...k.events],k.baseAge)}const h=Bp(o,l.month,u,n,a.birthPlace?.lon??127.5),m={at:o,gz:h.natalMonthPillar},b=h.events[0]?Hae(o,h.events[0].at):0,y=Gae(b);return d([m,...h.events],y)},[o,l.month,u,n,a.birthPlace?.lon,i])}function z1(e){return e instanceof Date&&!Number.isNaN(e.getTime())}function Kae(e,t){if(!Array.isArray(e)||e.length===0||!z1(t))return{gz:"",at:t,index:-1};const n=e;for(let a=0;a<n.length;a++){const o=n[a],l=n[a+1];if(!z1(o.at))continue;if(t.getTime()>=o.at.getTime()&&(!l||z1(l.at)&&t.getTime()<l.at.getTime()))return{gz:o.gz??"",at:o.at,index:a}}if(t.getTime()<n[0].at.getTime()){const a=n[0];return{gz:a.gz??"",at:a.at,index:0}}const r=n.length-1,i=n[r];return{gz:i.gz??"",at:i.at,index:r}}function yx(e,t,n,r){const{date:i,rule:a,lon:o}=ni(),l=S.useMemo(()=>n??i??new Date,[n,i]),u=r?.dstOffsetMinutes??0,d=dc(e,e?.mingSikType,100,u),h=u!==0?new Date(l.getTime()+u*60*1e3):l,{gz:m}=Kae(d,h);return S.useMemo(()=>{try{const b=o??e?.birthPlace?.lon??127.5,y=a??e?.mingSikType??t??"/";return{dae:{gz:m,at:h},se:{gz:ut(h,b),at:h},wol:{gz:Ot(h,b),at:h},il:{gz:gt(h,y),at:h}}}catch{const b=new Date;return{dae:{gz:"",at:b},se:{gz:"",at:b},wol:{gz:"",at:b},il:{gz:"",at:b}}}},[a,o,e,t,m,h])}const Iy=Zo(e=>({useDST:!1,setUseDST:t=>e({useDST:t}),toggleDST:()=>e(t=>({useDST:!t.useDST}))})),Ks=()=>Iy(e=>e.useDST?-60:0),kn=["","","",""],yP={month:1},vP=["","","",""],zp=[{name:"",members:["","",""],out:"",wang:""},{name:"",members:["","",""],out:"",wang:""},{name:"",members:["","",""],out:"",wang:""},{name:"",members:["","",""],out:"",wang:""}],f7=[{name:"",members:["","",""],out:"",wang:""},{name:"",members:["","",""],out:"",wang:""},{name:"",members:["","",""],out:"",wang:""},{name:"",members:["","",""],out:"",wang:""}],xP=[{name:"",members:["","",""]},{name:"",members:["","",""]}],Wae={:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},ME={:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""};function Re(e){if(!e)return"";const t=e.replace(/[()[\]{}]/g,"").replace(/\s+/g,"").replace(/[\-_.]/g,""),n=t.match(/([]).*?([])/);if(n)return`${n[1]}${n[2]}`;const r=t.match(/([]).*?([])/);if(r){const i=Wae[r[1]]??r[1],a=ME[r[2]]??r[2];return`${i}${a}`}return""}const $y=e=>e&&e.length>=1?e[0]:"",Fi=e=>e&&e.length>=2?e[1]:"",aT=[{pair:["",""],label:""},{pair:["",""],label:""},{pair:["",""],label:""},{pair:["",""],label:""},{pair:["",""],label:""}],oT=[{pair:["",""],label:""},{pair:["",""],label:""},{pair:["",""],label:""},{pair:["",""],label:""}],sT=[{pair:["",""],label:""},{pair:["",""],label:""},{pair:["",""],label:""},{pair:["",""],label:""},{pair:["",""],label:""},{pair:["",""],label:""}],lT=[{pair:["",""],label:""},{pair:["",""],label:""},{pair:["",""],label:""},{pair:["",""],label:""},{pair:["",""],label:""},{pair:["",""],label:""}],cT=[{pair:["",""],label:""},{pair:["",""],label:""},{pair:["",""],label:""},{pair:["",""],label:""},{pair:["",""],label:""},{pair:["",""],label:""}],uT=[{pair:["",""],label:""},{pair:["",""],label:""},{pair:["",""],label:""},{pair:["",""],label:""},{pair:["",""],label:""},{pair:["",""],label:""}],dT=[{pair:["",""],label:""},{pair:["",""],label:""},{pair:["",""],label:""},{pair:["",""],label:""},{pair:["",""],label:""},{pair:["",""],label:""}],fT=[{pair:["",""],label:""},{pair:["",""],label:""},{pair:["",""],label:""},{pair:["",""],label:""},{pair:["",""],label:""},{pair:["",""],label:""}],hT=[{pair:["",""],label:""},{pair:["",""],label:""},{pair:["",""],label:""},{pair:["",""],label:""},{pair:["",""],label:""},{pair:["",""],label:""}],mT=[{pair:["",""],label:""}],pT=new Set(["","","",""]),By=new Set(["","","",""]),gT=[{pair:["",""],label:""},{pair:["",""],label:""},{pair:["",""],label:""},{pair:["",""],label:""},{pair:["",""],label:""}],h7=[{pair:["",""],label:""},{pair:["",""],label:""},{pair:["",""],label:""},{pair:["",""],label:""},{pair:["",""],label:""},{pair:["",""],label:""},{pair:["",""],label:""},{pair:["",""],label:""},{pair:["",""],label:""},{pair:["",""],label:""},{pair:["",""],label:""},{pair:["",""],label:""}];function xi(e,t,n){for(const{pair:[r,i],label:a}of e)if(t===r&&n===i||t===i&&n===r)return a;return null}function un(e,t){e.includes(t)||e.push(t)}const Vae=e=>[...e].sort((t,n)=>t-n).map(t=>kn[t]).join("X");function Zae(e,t){const n=[];for(const r of e)for(const i of t){if(r===i)continue;const a=Math.min(r,i),o=Math.max(r,i);n.push([a,o])}return n.sort((r,i)=>{const a=Math.abs(r[0]-r[1]),o=Math.abs(i[0]-i[1]);return a!==o?a-o:0})}function Xae(e){const t=[],n=[...e].sort((r,i)=>r-i);for(let r=0;r<n.length;r++)for(let i=r+1;i<n.length;i++){const a=n[r],o=n[i];t.push([a,o])}return t}const m7=e=>{switch(e){case"":return"";case"":return"";case"":return"";case"":return""}};function Jae(e){if(!e)return!1;const t=e.normalize("NFC").trim();return/^#\s*$/u.test(t)}const p7=["cheonganHap","cheonganChung","jijiSamhap","jijiBanhap","jijiBanghap","jijiYukhap","jijiChung","jijiHyeong","jijiPa","jijiHae","jijiWonjin","jijiGwimun","amhap","ganjiAmhap"];function Qae(e){if(!e||e.length===0)return e;const t=Array.from(new Set(e.map(i=>i?.normalize("NFKC")??""))).filter(Boolean),n=t.some(i=>i.includes("")||i.includes("()")),r=t.some(i=>i.includes("")||i.includes("()"));return t.filter(i=>!(n&&(i.includes("")||i.includes("")||i.includes(""))||r&&(i.includes("")||i.includes("")||i.includes(""))))}function g7(e){for(const t of p7){const r=(e[t]??[]).map(i=>i&&i.normalize("NFKC")).filter(i=>!!i&&!Jae(i));e[t]=Array.from(new Set(r))}return e.jijiHyeong=Qae(e.jijiHyeong),e}function eoe(e,t){for(let n=0;n<e.length;n++)if((e[n]??"").includes(t))return n;return-1}function toe(e,t){for(const n of zp)if(!(n.wang!==e&&n.wang!==t)&&n.members.includes(e)&&n.members.includes(t))return!0;return!1}function wP(e,t,n){eoe(e,n)<0&&un(e,t)}function vx(e,t={}){const{emitGanjiAmhap:n=!0,fillNone:r=!0}=t,i=[Re(e[0]??""),Re(e[1]??""),Re(e[2]??""),Re(e[3]??"")],a={title:"",cheonganHap:[],cheonganChung:[],jijiSamhap:[],jijiBanhap:[],jijiBanghap:[],jijiYukhap:[],jijiChung:[],jijiHyeong:[],jijiPa:[],jijiHae:[],jijiWonjin:[],jijiGwimun:[],amhap:[],ganjiAmhap:[]},o=i.map(b=>$y(b)),l=i.map(b=>Fi(b));function u(b,y){if(b===y)return;const k=o[b],w=o[y];if(!k||!w)return;const _=xi(aT,k,w);_&&un(a.cheonganHap,`#${kn[b]}X${kn[y]}_${_}`);const j=xi(oT,k,w);j&&un(a.cheonganChung,`#${kn[b]}X${kn[y]}_${j}`)}for(let b=0;b<4;b++)for(let y=b+1;y<4;y++)u(b,y);function d(b,y,k,w,_=!0){const j=[],O=[];for(let C=0;C<4;C++)l[C]===b&&j.push(C),l[C]===y&&O.push(C);const T=Zae(j,O);for(const[C,M]of T){const P=`#${kn[C]}X${kn[M]}_${k}`;_?wP(w,P,k):un(w,P)}}const h=(b,y)=>{for(const{pair:[k,w],label:_}of b)d(k,w,_,y)};h(sT,a.jijiYukhap),h(lT,a.jijiChung),h(cT,a.jijiPa),h(uT,a.jijiHae),h(dT,a.jijiWonjin),h(fT,a.jijiGwimun);for(const b of zp){if(!b.members.every(_=>l.includes(_)))continue;const k=[];for(let _=0;_<4;_++)b.members.includes(l[_])&&k.push(_);const w=Vae(k);un(a.jijiSamhap,`#${w}_${b.name}`)}for(const{pair:[b,y],label:k}of h7)toe(b,y)&&d(b,y,k,a.jijiBanhap,!1);for(const{pair:[b,y],label:k}of hT)d(b,y,k,a.jijiHyeong);for(const{pair:[b,y],label:k}of mT)d(b,y,k,a.jijiHyeong);for(const b of pT){const y=l.map((k,w)=>k===b?w:-1).filter(k=>k>=0);if(!(y.length<2))for(const[k,w]of Xae(y)){const _=`#${kn[k]}X${kn[w]}_${b}`;wP(a.jijiHyeong,_,`${b}`)}}for(const{pair:[b,y],label:k}of gT)d(b,y,k,a.amhap);if(n)for(let b=0;b<4;b++){const y=i[b]??"";if(y.length<2)continue;const k=`${y[0]}${y[1]}`;By.has(k)&&un(a.ganjiAmhap,`#${m7(kn[b])}_${k}`)}const m=g7(a);if(r)for(const b of Object.keys(m)){if(b==="title")continue;const y=m[b];Array.isArray(y)&&y.length===0&&(m[b]=["#"])}return m}function noe(e,t){for(const n of zp)if(!(n.wang!==e&&n.wang!==t)&&n.members.includes(e)&&n.members.includes(t))return!0;return!1}function roe(e,t){const n=[],r=new Set;for(const i of e)for(const a of t){if(i===a)continue;const o=Math.min(i,a),l=Math.max(i,a),u=`${o}-${l}`;r.has(u)||(r.add(u),n.push([o,l]))}return n}function Wl(e,t={}){const{emitNatalGanjiAmhap:n=!1}=t,r=[Re(e.natal[0]??""),Re(e.natal[1]??""),Re(e.natal[2]??""),Re(e.natal[3]??"")],a=[Re(e.daewoon??""),Re(e.sewoon??""),Re(e.wolwoon??"")].some(m=>m.length>=2),o={cheonganHap:[],cheonganChung:[],jijiSamhap:[],jijiBanhap:[],jijiBanghap:[],jijiYukhap:[],jijiChung:[],jijiHyeong:[],jijiPa:[],jijiHae:[],jijiWonjin:[],jijiGwimun:[],amhap:[],ganjiAmhap:[]},l=r.map(m=>{const b=Fi(m??"");return ME[b]??b});for(const{pair:[m,b],label:y}of h7){if(!noe(m,b))continue;const k=[],w=[];for(let j=0;j<4;j++)l[j]===m&&k.push(j),l[j]===b&&w.push(j);const _=roe(k,w);for(const[j,O]of _){const T=`#${kn[j]}X${kn[O]}_${y}`;un(o.jijiBanhap,T)}}if(n&&a)for(let m=0;m<4;m++){const b=r[m]??"";if(b.length<2)continue;const y=`${b[0]}${b[1]}`;By.has(y)&&un(o.ganjiAmhap,`#${m7(kn[m])}_${y}`)}const u=[["",e.daewoon],["",e.sewoon],["",e.wolwoon],["",e.ilwoon]];let d=!1,h=!1;for(const[m,b]of u){if(!b)continue;const y=Re(b);if(!y||y.length<2)continue;const k=$y(y),w=Fi(y);{const j=`${k}${w}`;By.has(j)&&un(o.ganjiAmhap,`#${m}_${j}`)}for(let j=0;j<4;j++){const O=r[j]??"";if(O.length<2)continue;const T=kn[j],C=$y(O),M=Fi(O),P=xi(aT,k,C);P&&un(o.cheonganHap,`#${m}X${T}_${P}`);const I=xi(oT,k,C);I&&un(o.cheonganChung,`#${m}X${T}_${I}`);const z=xi(sT,w,M);z&&un(o.jijiYukhap,`#${m}X${T}_${z}`);const K=xi(lT,w,M);K&&un(o.jijiChung,`#${m}X${T}_${K}`);const G=xi(cT,w,M);G&&un(o.jijiPa,`#${m}X${T}_${G}`);const F=xi(uT,w,M);F&&un(o.jijiHae,`#${m}X${T}_${F}`);const B=xi(dT,w,M);B&&un(o.jijiWonjin,`#${m}X${T}_${B}`);const q=xi(fT,w,M);q&&un(o.jijiGwimun,`#${m}X${T}_${q}`);const X=xi(hT,w,M);if(X)un(o.jijiHyeong,`#${m}X${T}_${X}`);else{const Y=xi(mT,w,M);Y?un(o.jijiHyeong,`#${m}X${T}_${Y}`):w===M&&pT.has(w)&&un(o.jijiHyeong,`#${m}X${T}_${w}${M}`)}const Z=xi(gT,w,M);Z&&un(o.amhap,`#${m}X${T}_${Z}`)}for(const j of zp){if(!j.members.includes(w))continue;const O=j.members.filter(C=>C!==w),T=l.map((C,M)=>({b:C,pos:kn[M]})).filter(C=>C.b&&O.includes(C.b));if(new Set(T.map(C=>C.b)).size===2){const[C,M]=T.map(P=>P.pos).sort((P,I)=>kn.indexOf(P)-kn.indexOf(I));un(o.jijiSamhap,`#${m}X${C}X${M}_(${j.name})`)}}for(const j of xP){if(!j.members.includes(w))continue;const O=j.members.filter(C=>C!==w),T=l.map((C,M)=>({b:C,pos:kn[M]})).filter(C=>C.b&&O.includes(C.b));if(new Set(T.map(C=>C.b)).size===2){const[C,M]=T.map(P=>P.pos).sort((P,I)=>kn.indexOf(P)-kn.indexOf(I));un(o.jijiHyeong,`#${m}X${C}X${M}_${j.name}`),j.name===""&&(d=!0),j.name===""&&(h=!0)}}const _=[...r.map((j,O)=>({b:ME[Fi(j)]??Fi(j),pos:kn[O]}))];for(const j of f7){const O=_.filter(T=>j.members.includes(T.b));if(new Set(O.map(T=>T.b)).size===3){const T=O.map(C=>C.pos).join("X");un(o.jijiBanghap,`#${T}_(${j.name})`)}}}{const m=[],b=[["",e.daewoon],["",e.sewoon],["",e.wolwoon],["",e.ilwoon]];for(const[y,k]of b){const w=Re(k??"");w.length>=2&&m.push({kind:y,b:Fi(w)})}if(m.length>=2){const y=r.map((k,w)=>({pos:kn[w],b:Fi(k)}));for(const k of xP)for(let w=0;w<m.length;w++)for(let _=w+1;_<m.length;_++){const j=m[w],O=m[_];for(const T of y){const C=new Set([T.b,j.b,O.b]);if(C.size===3&&k.members.every(M=>C.has(M))){const M=[j.kind,O.kind].sort((I,z)=>vP.indexOf(I)-vP.indexOf(z)).join("X"),P=`${T.pos}X${M}`;un(o.jijiHyeong,`#${P}_${k.name}`),k.name===""&&(d=!0),k.name===""&&(h=!0)}}}}}return(d||h)&&(o.jijiHyeong=o.jijiHyeong.filter(m=>!(d&&/(||)/.test(m)||h&&/(||)/.test(m)))),g7(ioe(o))}function ioe(e){const t=/(|||)X(|||)/,n={...e};for(const r of Object.keys(e)){if(r==="title")continue;const i=e[r];Array.isArray(i)&&(n[r]=i.filter(a=>!t.test(a??"")))}return n}const aoe={:"",:"",:"",:"",:""},_P={:"",:"",:"",:"",:""},ooe={:"",:"",:"",:"",:""},soe={:"",:"",:"",:"",:""},loe={:.15,:.1,:-.15,:-.2,:-.25};function coe(e,t){const n=Array.from(new Set(t)).sort((r,i)=>r-i);if(n.length<3)return!1;for(let r=0;r<n.length;r++){const i=n[r],a=n[r+1],o=n[r+2];if(!(a==null||o==null)&&o-i<=2&&(e===i||e===a||e===o))return!0}return!1}function uoe(e){const t=e.includes(yP.month),n=coe(yP.month,e)||e.length>=3;return t&&n?"":t||e.length>=2?"":""}function doe(e,t,n,r){const i=r===""?2:r===""?1:.5;e[t]=(e[t]??0)-i,e[n]=(e[n]??0)+i}function foe(e,t,n={}){const{includeBanghap:r=!0,includeSamhap:i=!0}=n,a=[Re(e[0]??""),Re(e[1]??""),Re(e[2]??""),Re(e[3]??"")],o=a.map(h=>Fi(h)).filter(Boolean),l=[],u={...t},d=(h,m)=>{const b=[];for(let j=0;j<a.length;j++){const O=Fi(a[j]??"");m.members.includes(O)&&b.push(j)}if(!m.members.every(j=>o.includes(j)))return;const k=uoe(b),w=m.out,_=_P[w];doe(u,_,w,k),l.push({type:h,name:m.name,out:m.out,strength:k})};if(i)for(const h of zp)d("",h);if(r)for(const h of f7)d("",h);return{applied:l,score:u,strengthAdj:loe,shengNext:aoe,shengPrev:_P,ke:ooe,keInv:soe}}function zy(e){return kn[e]}function SP(e){const t=new Map,n=new Map;for(let r=0;r<4;r++){const i=Re(e[r]??""),a=$y(i),o=Fi(i);a&&t.set(a,[...t.get(a)??[],r]),o&&n.set(o,[...n.get(o)??[],r])}return{stemPos:t,branchPos:n}}function om(e,t,n){const r=[];for(const i of t)for(const a of n)r.push(`#${zy(i)}X${zy(a)}_${e}`);return r}function hoe(e,t){const n=SP(e),r=SP(t),i={:[],:[],:[],:[],:[],:[],:[],:[],:[],:[],:[],:[],:[],:[]},a=(l,u)=>{l.includes(u)||l.push(u)};for(const{pair:[l,u],label:d}of aT){const h=[...n.stemPos.get(l)??[],...n.stemPos.get(u)??[]],m=[...r.stemPos.get(l)??[],...r.stemPos.get(u)??[]];if(h.length&&m.length)for(const b of om(d,h,m))a(i.,b)}for(const{pair:[l,u],label:d}of oT){const h=[...n.stemPos.get(l)??[],...n.stemPos.get(u)??[]],m=[...r.stemPos.get(l)??[],...r.stemPos.get(u)??[]];if(h.length&&m.length)for(const b of om(d,h,m))a(i.,b)}const o=(l,u)=>{const d=Array.from(n.branchPos.keys()),h=Array.from(r.branchPos.keys());for(const m of d)for(const b of h){const y=xi(u,m,b);if(!y)continue;const k=n.branchPos.get(m)??[],w=r.branchPos.get(b)??[];for(const _ of om(y,k,w))a(i[l],_)}};o("",sT),o("",lT),o("",cT),o("",uT),o("",dT),o("",fT),o("",hT),o("",mT);for(const l of pT){const u=n.branchPos.get(l)??[],d=r.branchPos.get(l)??[];if(!(!u.length||!d.length))for(const h of om(`${l}`,u,d))a(i.,h)}for(const{label:l,pair:[u,d]}of gT){const h=[...n.branchPos.get(u)??[],...n.branchPos.get(d)??[]],m=[...r.branchPos.get(u)??[],...r.branchPos.get(d)??[]];if(!(!h.length||!m.length))for(const b of om(l,h,m))a(i.,b)}{const l=Array.from(n.stemPos.keys()),u=Array.from(r.stemPos.keys());for(const d of l)for(const h of u){const m=n.stemPos.get(d)??[],b=r.stemPos.get(h)??[];for(const y of m){const k=Fi(Re(e[y]??"")),w=`${d}${k}`;if(By.has(w))for(const _ of b){const j=Fi(Re(t[_]??""));`${h}${j}`===w&&a(i.,`#${zy(y)}X${zy(_)}_${w}`)}}}}return i}const b7=new Set(Object.keys(Jn)),y7=new Set(Object.keys(ar)),moe=e=>e.slice(0,1),poe=e=>e.slice(-1);function Ns(e){return cf.has(e)?e:b7.has(e)?Jn[e]??e:e}function Lr(e){return Gm.has(e)?e:y7.has(e)?ar[e]??e:e}function Ro(e){return Ns(moe(e))}function en(e){return Lr(poe(e))}function goe(e){if(!e)return null;const t=Array.from(String(e));let n=null,r=null;for(const i of t)!n&&(cf.has(i)||b7.has(i))&&(n=Ns(i)),(Gm.has(i)||y7.has(i))&&(r=Lr(i));return n&&r?{stem:n,branch:r}:null}function boe(e){return e.map(en)}function rb(e,t,n="classic"){const r=Ro(t),i=en(t),a=(n==="hgc"?ix:rx)[i]??[];return[r,...a].includes(e)}const DE=[["",""],["",""],["",""],["",""],["",""],["",""]],PE=[["",""],["",""],["",""],["",""],["",""],["",""]],yoe=new Set(["","","",""]),v7=[["",""],["",""]],voe=[{set:new Set(["","","","","","","","","",""]),voids:["",""]},{set:new Set(["","","","","","","","","",""]),voids:["",""]},{set:new Set(["","","","","","","","","",""]),voids:["",""]},{set:new Set(["","","","","","","","","",""]),voids:["",""]},{set:new Set(["","","","","","","","","",""]),voids:["",""]},{set:new Set(["","","","","","","","","",""]),voids:["",""]}];function zm(e,t,n){const r=Lr(t),i=Lr(n);for(const[a,o]of e)if(a===r&&o===i||a===i&&o===r)return!0;return!1}function kP(e,t,n){const r=Lr(t),i=Lr(n);for(const[a,o]of e)if(a===r&&o===i||a===i&&o===r)return`${a}${o}`;return`${r}${i}`}function Uy(e){for(const t of voe)if(t.set.has(e))return t.voids;return null}function RE(e){const t=Lr(e),n=[{group:new Set(["","",""]),years:new Set(["","",""])},{group:new Set(["","",""]),years:new Set(["","",""])},{group:new Set(["","",""]),years:new Set(["","",""])},{group:new Set(["","",""]),years:new Set(["","",""])}];for(const r of n)if(r.group.has(t))return Array.from(r.years);return null}const rr={2:4,1:3,3:2,0:1},Vd={1:4,2:3,0:2,3:1},Se={year:0,month:1,day:2,hour:3};function xoe(e){return e===3?"si":e===2?"il":e===1?"wol":"yeon"}const Nu=e=>e===0?"":e===1?"":e===2?"":"",$f=e=>e==="dae"?"":e==="se"?"":e==="wol"?"":"",woe=(e,t)=>`#X${Nu(t)}_${e}`,af=(e,t,n)=>t===Se.month&&n===Se.day?`#X_${e}`:t===Se.year&&n===Se.month?`#X_${e}`:t===Se.year&&n===Se.day?`#X_${e}`:t===Se.month&&n===Se.hour?`#X_${e}`:t===Se.day&&n===Se.hour?`#X_${e}`:`#${Nu(t)}X${Nu(n)}_${e}`,ib=(e,t)=>`#${Nu(t)}_${e}`,x7=(e,t)=>`#X${Nu(t)}_${e}`,_oe=(e,t)=>`#(${e==="day"?"":""})X${Nu(t)}_`,Dd=e=>`#_${e}`,Pd=(e,t)=>`#X${$f(t)}_${e}`,sm=(e,t)=>`#X${$f(t)}_${e}`,U1=(e,t,n)=>`#${Nu(n)}X${$f(t)}_${e}`,Soe=(e,t)=>`#(${t==="day"?"":""})_${$f(e)}_`,koe=(e,t)=>`#(${t==="day"?"":""})X${$f(e)}_`,EP=(e,t)=>`#X${$f(e)}_${t}`;function LE(e,t){const n=Lr(e),r=[Se.day,Se.month,Se.hour,Se.year];for(const i of r)if(en(t[i])===n)return{pos:i,weight:rr[i]??0};return null}function bT(e,t,n){return en(t[n])===Lr(e)?{pos:n,weight:rr[n]}:null}function Eoe(e,t){const n=Ns(e),r=[Se.day,Se.month,Se.hour,Se.year];for(const i of r)if(Ro(t[i])===n)return{pos:i,weight:rr[i]??0};return null}const joe=e=>(Array.isArray(e)?e:String(e).split("")).map(t=>Lr(t.trim())).filter(Boolean),_n=e=>Object.fromEntries(Object.entries(e).map(([t,n])=>[Ns(t),joe(n)])),Toe=_n({:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),w7=_n({:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),Aoe=_n({:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),Noe=_n({:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),Ooe=_n({:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),Coe=_n({:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),Moe=_n({:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),_7=_n({:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),Doe=_n({:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),Poe=_n({:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),Roe=_n({:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),Loe=_n({:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),Ioe=_n({:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),S7=_n({:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),$oe=_n({:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),Boe=_n({:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),jP=_n({:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),zoe=_n({:"",:"",:"",:"",:""}),Uoe=_n({:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),TP=_n({:"",:"",:""}),AP=_n({:"",:"",:""}),Foe=_n({:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),k7=_n({:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),E7=_n({:"",:"",:"",:"",:"",:"",:""}),Hoe=e=>(Array.isArray(e)?e:String(e).split("")).map(t=>Lr(t.trim())).filter(Boolean),Da=e=>Object.fromEntries(Object.entries(e).map(([t,n])=>[Lr(t),(Array.isArray(n)?n:[n]).map(r=>Lr(r))])),xx=e=>Object.fromEntries(Object.entries(e).map(([t,n])=>[Lr(t),Hoe(n)])),j7={:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},T7={:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},A7={:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},N7={:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},Goe=Da({:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),NP=Da({:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),Yoe=xx({:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),qoe=xx({:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),Koe=xx({:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),Woe=xx({:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),Voe=Da({:["",""],:["",""],:["",""],:["",""],:["",""],:["",""],:["",""],:["",""],:["",""],:["",""],:["",""],:["",""]}),Zoe=Da({:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),Xoe=Da({:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),Joe=Da({:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),Qoe=Da({:["",""],:["",""],:["",""],:["",""],:["",""],:["",""],:["",""],:["",""],:["",""],:["",""],:["",""],:["",""]}),O7=Da({:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),ese=Da({:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),tse=Da({:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),nse=Da({:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),rse=Da({:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),Tn=e=>Object.fromEntries(Object.entries(e).map(([t,n])=>[Lr(t),(Array.isArray(n)?n:[n]).map(r=>Lr(r))])),ise=Tn({:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),C7=Tn({:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),ase=Tn({:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),ose=Tn({:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),sse=Tn({:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),M7=Tn({:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),lse=Tn({:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),cse=Tn({:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),use=Tn({:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),dse=Tn({:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),fse=Tn({:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),D7=Tn({:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),hse=Tn({:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),mse=Tn({:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),pse=Tn({:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),gse=Tn({:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),bse=Tn({:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),yse=Tn({:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),P7=Tn({:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),vse=D7,xse=C7,wse=P7,_se=Tn({:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),Sse=M7,kse=Tn({:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),Ese=Tn({:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),jse=Tn({:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""});function Up(e,t){e.push(t)}function F1(e,t,n,r,i=0){const a=Vd[n]>=Vd[r]?n:r;e.push({name:af(t,n,r),weight:rr[a]+i,pos:a})}function Tse(e,t,n,r,i){const a=en(e[Se.year]),o=t[a];if(!o)return;const l=n==="MONTH"?[Se.month]:n==="DAY"?[Se.day]:n==="HOUR"?[Se.hour]:[Se.year,Se.month,Se.day,Se.hour];for(const u of o)for(const d of l){const h=bT(u,e,d);h&&Up(i,{name:af(r,Se.year,d),weight:h.weight,pos:d})}}function Ase(e,t,n,r){const i=en(e[Se.month]),a=t[i];if(!a)return;const o=Ns(a),l=Eoe(o,e);l&&Up(r,{name:x7(n,l.pos),weight:l.weight,pos:l.pos})}function OP(e,t,n,r,i="ALL"){const a=en(e[Se.month]),o=t[a];if(!o)return;const l=i==="YEAR"?[Se.year]:i==="DAY"?[Se.day]:i==="HOUR"?[Se.hour]:i==="DAY_HOUR"?[Se.day,Se.hour]:[Se.year,Se.month,Se.day,Se.hour];for(const u of o)for(const d of l){const h=bT(u,e,d);if(!h)continue;const m=d===Se.month?`#_${n}`:x7(n,d);Up(r,{name:m,weight:h.weight,pos:d})}}function CP(e,t,n,r){const i=en(e[Se.month]),a=t[i];if(!a)return;const o=e[Se.day];a.includes(o)&&Up(r,{name:af(n,Se.month,Se.day),weight:rr[Se.day],pos:Se.day})}function MP(e,t,n,r,i){const a=Ro(e[Se.day]),o=t[a];if(!o)return;const l=i==="DAY"?[Se.day]:i==="HOUR"?[Se.hour]:[Se.year,Se.month,Se.day,Se.hour];for(const u of o)for(const d of l){const h=bT(u,e,d);h&&Up(r,{name:woe(n,d),weight:h.weight,pos:d})}}function Nse({natal:e,daewoon:t,basis:n}){const r=Ro(e[Se.day]),i=en(e[Se.day]),a=en(e[Se.month]),o=en(e[Se.year]),l=boe(e),u=[],d=[],h=[[ise,"MONTH",""],[C7,"DAY",""],[ose,"MONTH",""],[sse,"MONTH",""],[lse,"ALL",""],[cse,"HOUR",""],[use,"ALL",""],[dse,"ALL",""],[fse,"ALL",""],[D7,"ALL",""],[hse,"ALL",""],[mse,"ALL",""],[pse,"ALL",""],[gse,"ALL",""],[bse,"ALL",""],[yse,"ALL",""],[P7,"ALL",""],[vse,"ALL",""],[xse,"ALL",""],[wse,"ALL",""],[_se,"ALL",""],[Sse,"ALL",""],[kse,"ALL",""],[Ese,"ALL",""],[jse,"ALL",""]];for(const[C,M,P]of h)Tse(e,C,M,P,d);const m=[[j7,""],[T7,""],[A7,""],[N7,""]];for(const[C,M]of m)Ase(e,C,M,u);const b=[[Goe,"","ALL"],[NP,"","YEAR"],[NP,"","DAY"],[Voe,"","ALL"],[Zoe,"","ALL"],[Xoe,"","ALL"],[Joe,"","ALL"],[Qoe,"","ALL"]];for(const[C,M,P]of b)OP(e,C,M,d,P);const y=[[O7,"","ALL"],[ese,"","DAY_HOUR"],[tse,"","DAY_HOUR"],[nse,"","ALL"],[rse,"","ALL"]];for(const[C,M,P]of y)OP(e,C,M,u,P);const k=[[Yoe,""],[Woe,""]];for(const[C,M]of k)CP(e,C,M,u);const w=[[qoe,""],[Koe,""]];for(const[C,M]of w)CP(e,C,M,d);const _=[[Toe,"","ALL"],[w7,"","ALL"],[Aoe,"","ALL"],[Noe,"","ALL"],[Ooe,"","ALL"],[Coe,"","ALL"],[Moe,"","ALL"],[_7,"","ALL"],[Doe,"","ALL"],[Poe,"","ALL"],[Roe,"","ALL"],[Loe,"","ALL"],[Ioe,"","ALL"],[Foe,"","ALL"]];for(const[C,M,P]of _)MP(e,C,M,u,P);const j=[[S7,"","ALL"],[$oe,"","ALL"],[Boe,"","ALL"],[jP,"","DAY"],[jP,"","HOUR"],[TP,"","DAY"],[TP,"","HOUR"],[AP,"","DAY"],[AP,"","HOUR"],[zoe,"","DAY"],[Uoe,"","ALL"],[k7,"","ALL"]];for(const[C,M,P]of j)MP(e,C,M,d,P);if(new Set(["","","",""]).has(e[Se.day])){d.push({name:Dd(""),weight:rr[Se.day],pos:Se.day});for(const M of[Se.year,Se.month,Se.hour])e[M]===e[Se.day]&&d.push({name:ib("",M),weight:rr[M],pos:M})}{const C=E7[r];if(C)for(const M of[Se.year,Se.month,Se.day,Se.hour]){const P=Ro(e[M]),I=en(e[M]);P===r&&C.includes(I)&&d.push({name:ib("",M),weight:rr[M],pos:M})}}for(const[C,M]of v7){const P=LE(C,e),I=LE(M,e);P&&I&&F1(d,"",P.pos,I.pos)}{const C=new Set(["",""]),M=new Set(["","","",""]);for(let P=0;P<=3;P++){const I=Ro(e[P]),z=en(e[P]);(C.has(I)||M.has(z))&&d.push({name:ib("",P),weight:rr[P],pos:P})}}{const C=e[Se.hour],M=(I,z)=>I.includes(r)&&z.includes(C);(M(["",""],["",""])||M(["",""],["",""])||M(["",""],["",""])||M(["",""],["",""])||M(["",""],["",""]))&&d.push({name:Dd(""),weight:rr[Se.hour],pos:Se.hour})}["","","",""].every(C=>l.includes(C))&&u.push({name:Dd(""),weight:rr[Se.day],pos:Se.day});{const C=e[Se.day],M=e[Se.hour];(C===""&&M===""||C===""&&M==="")&&d.push({name:af("",Se.day,Se.hour),weight:rr[Se.hour],pos:Se.hour})}{const C=en(e[Se.year]),M=new Set(l.slice(1)),P=(z,K)=>z.every(G=>M.has(G))&&C===K;(P(["","",""],"")||P(["","",""],"")||P(["","",""],"")||P(["","",""],""))&&u.push({name:Dd(""),weight:rr[Se.day],pos:Se.day})}(e[Se.day]===""||e[Se.day]==="")&&u.push({name:Dd(""),weight:rr[Se.day],pos:Se.day});{const M={:{rok:"",maStem:""},:{rok:"",maStem:""},:{rok:"",maStem:""},:{rok:"",maStem:""},:{rok:"",maStem:""},:{rok:"",maStem:""},:{rok:"",maStem:""},:{rok:"",maStem:""},:{rok:"",maStem:""},:{rok:"",maStem:""}}[r];M&&e.some(I=>en(I)===M.rok)&&Ro(e[Se.hour])===M.maStem&&u.push({name:af("",Se.day,Se.hour),weight:rr[Se.hour],pos:Se.hour})}{const C=en(e[Se.hour]),P={:{rok:"",ma:"",rokStem:"",maStem:""},:{rok:"",ma:"",rokStem:"",maStem:""},:{rok:"",ma:"",rokStem:"",maStem:""},:{rok:"",ma:"",rokStem:"",maStem:""},:{rok:"",ma:"",rokStem:"",maStem:""},:{rok:"",ma:"",rokStem:"",maStem:""},:{rok:"",ma:"",rokStem:"",maStem:""},:{rok:"",ma:"",rokStem:"",maStem:""},:{rok:"",ma:"",rokStem:"",maStem:""},:{rok:"",ma:"",rokStem:"",maStem:""}}[r];if(P){const I=i===P.rok,z=C===P.ma,K=rb(P.rokStem,e[Se.day],"classic")||rb(P.rokStem,e[Se.hour],"classic"),G=rb(P.maStem,e[Se.day],"classic")||rb(P.maStem,e[Se.hour],"classic");I&&z&&(K||G)&&u.push({name:af("",Se.day,Se.hour),weight:rr[Se.hour],pos:Se.hour})}}{const C=new Set(["","","","","",""]),M=e.map(Ro),P=e.map(en),I=M.concat(P).filter(F=>C.has(F)).length,z=t?Ro(t):"",K=t?en(t):"",G=C.has(z)||C.has(K);(I>=4||I===3&&G)&&d.push({name:Dd(""),weight:rr[Se.day],pos:Se.day})}{const C=new Set(["",""]),M=new Set(["",""]);for(let P=0;P<=3;P++){const I=Ro(e[P]),z=en(e[P]);(C.has(I)||M.has(z))&&d.push({name:ib("",P),weight:rr[P],pos:P})}}{const C=[[Se.year,Se.month],[Se.year,Se.day],[Se.month,Se.day],[Se.month,Se.hour],[Se.day,Se.hour]];for(const[M,P]of C){const I=en(e[M]),z=en(e[P]);if(zm(DE,I,z)){const K=kP(DE,I,z);F1(d,`${K}`,M,P)}}}{const C=[[Se.year,Se.month,0],[Se.month,Se.day,1],[Se.month,Se.hour,0],[Se.day,Se.hour,0]];for(const[M,P,I]of C){const z=en(e[M]),K=en(e[P]);if(zm(PE,z,K)){const G=kP(PE,z,K),F=(I?1:0)+(yoe.has(z+K)?1:0);F1(d,`${G}`,M,P,F)}}}const O=Uy(e[Se.day]),T=Uy(e[Se.year]);{const C=(n?.voidBasis??"day")==="day"?O:T;if(C){const[M,P]=C.map(Lr);for(const I of[Se.year,Se.month,Se.day,Se.hour]){const z=en(e[I]);(z===M||z===P)&&d.push({name:_oe(n?.voidBasis??"day",I),weight:rr[I],pos:I})}}}return{goodPos:u,badPos:d,dayVoid:O,yearVoid:T,dStem:r,dBranch:i,mBranch:a,yBranch:o,branches:l}}function ab({src:e,luck:t,natal:n,dStem:r,dBranch:i,mBranch:a,yBranch:o,branches:l,dayVoid:u,yearVoid:d,basis:h}){const m=[],b=[],y=(O,T)=>{O.includes(T)||O.push(T)},k=goe(t??null);if(!k)return{good:m,bad:b};const w=k.branch,_=k.stem;Ns(j7[a]??"")===_&&y(m,sm("",e)),Ns(T7[a]??"")===_&&y(m,sm("",e)),Ns(A7[a]??"")===_&&y(m,sm("",e)),Ns(N7[a]??"")===_&&y(m,sm("",e)),O7[a]?.includes(w)&&y(m,sm("",e)),w7[r]?.includes(w)&&y(m,Pd("",e)),_7[r]?.includes(w)&&y(m,Pd("",e)),S7[r]?.includes(w)&&y(b,Pd("",e)),k7[r]?.includes(w)&&y(b,Pd("",e)),E7[r]?.includes(w)&&y(b,Pd("",e)),e==="se"&&(ase[o]?.includes(w)&&y(b,EP(e,"")),M7[o]?.includes(w)&&y(b,EP(e,"")));for(const O of l)if(zm(v7,w,O)){const T=LE(O,n)?.pos;T!==void 0&&y(b,U1("",e,T));break}new Set(["",""]).has(r)&&new Set(["","","",""]).has(w)&&y(b,Pd("",e));const j=(h?.voidBasis??"day")==="day"?u:d;j&&(w===j[0]||w===j[1])&&y(b,Soe(e,h?.voidBasis??"day"));for(let O=0;O<=3;O++){const T=en(n[O]);zm(DE,w,T)&&y(b,U1("",e,O)),zm(PE,w,T)&&y(b,U1("",e,O))}if(e==="se"){const O=(h?.samjaeBasis??"day")==="day"?i:o,T=O?RE(O):null;T&&T.includes(w)&&y(b,koe(e,h?.samjaeBasis??"day"))}return{good:m,bad:b}}const Ose=/^#(|||)X\1_/,Cse=e=>Ose.test(e);function DP(e){const t=new Map;for(const n of e){if(Cse(n.name))continue;const r=`${n.name}@${n.pos}`,i=t.get(r);(!i||n.weight>i.weight)&&t.set(r,n)}return Array.from(t.values()).sort((n,r)=>r.weight!==n.weight?r.weight-n.weight:n.name.localeCompare(r.name,"ko"))}function Mse(e){const t=e.lastIndexOf("_");return t>=0?e.slice(t+1):e}const Dse=new Set(["",""]);function Pse(e){return Dse.has(e)?!0:e.endsWith("")||e.endsWith("")}function PP(e){const t=new Map;for(const r of e){const i=Mse(r.name);t.has(i)||t.set(i,[]),t.get(i).push(r)}const n=[];for(const[r,i]of t)if(Pse(r))n.push(...i);else{const a=i.sort((o,l)=>Vd[o.pos]!==Vd[l.pos]?Vd[l.pos]-Vd[o.pos]:l.weight-o.weight)[0];n.push(a)}return n}function RP(e,t){const n={si:[],il:[],yeon:[],wol:[]},r=xoe;for(const i of e)n[r(i.pos)].push(i.name);return n}function Fp({natal:e,daewoon:t,sewoon:n,wolwoon:r,ilwoon:i,basis:a}){const{goodPos:o,badPos:l,dayVoid:u,yearVoid:d,dStem:h,dBranch:m,mBranch:b,yBranch:y,branches:k}=Nse({natal:e,daewoon:t,basis:a}),w=PP(DP(o)),_=PP(DP(l)),j=RP(w),O=RP(_),T=ab({src:"dae",luck:t??null,natal:e,dStem:h,dBranch:m,mBranch:b,yBranch:y,branches:k,dayVoid:u,yearVoid:d,basis:a}),C=ab({src:"se",luck:n??null,natal:e,dStem:h,dBranch:m,mBranch:b,yBranch:y,branches:k,dayVoid:u,yearVoid:d,basis:a}),M=ab({src:"wol",luck:r??null,natal:e,dStem:h,dBranch:m,mBranch:b,yBranch:y,branches:k,dayVoid:u,yearVoid:d,basis:a}),P=ab({src:"il",luck:i??null,natal:e,dStem:h,dBranch:m,mBranch:b,yBranch:y,branches:k,dayVoid:u,yearVoid:d,basis:a});return{good:{...j,dae:T.good,se:C.good,wolun:M.good,ilun:P.good},bad:{...O,dae:T.bad,se:C.bad,wolun:M.bad,ilun:P.bad},meta:{voidPair:{day:Uy(e[Se.day])??void 0,year:Uy(e[Se.year])??void 0},samjaeYears:{day:RE(en(e[Se.day]))??void 0,year:RE(en(e[Se.year]))??void 0},currentBasis:{voidBasis:a?.voidBasis??"day",samjaeBasis:a?.samjaeBasis??"day"}}}}function Rse(e){return typeof e=="object"&&e!==null}function Bf(e){const t=i7;return Rse(t)&&("Classic"in t||"Modern"in t||"classic"in t||"modern"in t)?e==="classic"?t.Classic:t.Modern:e}const LP=["","","","","","","","","",""],IP=["","","","","","","","","","","",""],Lse=["","","","","","","","","","","",""];function Ise(e){const t=ax(e);return t===""||t===""?0:t===""||t===""?2:t===""||t===""?4:t===""||t===""?6:8}function $se(e,t){const n=Ise(e);return(t?Lse:IP).map(i=>{const a=IP.indexOf(i);let o=(n+(a<0?0:a))%10;return t&&(i===""||i==="")&&(o=(o+2)%10),`${LP[o]??LP[0]}${i}`})}function Um(e){const t=n=>n.toString().padStart(2,"0");return`${e.getFullYear()} ${t(e.getMonth()+1)} ${t(e.getDate())} ${t(e.getHours())} ${t(e.getMinutes())}`}function $P(e){return e<10?`0${e}`:`${e}`}function IE(e){return`${$P(e.getHours())}:${$P(e.getMinutes())}`}function yT(e){return!e||e===""?!0:!/^\d{4}$/.test(e)}function BP(e,t){if(!e||!/^\d{8}$/.test(e))return"";const n=e.slice(0,4),r=e.slice(4,6),i=e.slice(6,8),a=`${n}-${r}-${i}`;return!t||yT(t)?a:`${a} ${t.slice(0,2)}:${t.slice(2,4)}`}function Bse(e,t,n){if(n)return"";const r=(e??"").trim();if(r)return r;const i=t instanceof Date?t:new Date(t);return Number.isNaN(i.getTime())?"":IE(i)}const zP=["","/",""],zse="/";function R7(e,t){return e&&zP.includes(e)?e:t&&zP.includes(t)?t:zse}function UP(e){return e===""}function Use(e){return e===""?"":""}function Fse(e){switch(e){case"":return 1;case"":return 2;case"":return 3;case"":default:return 0}}const Hse=e=>e instanceof Date&&!Number.isNaN(e.getTime());function $E(e,t){const n=yT(e.birthTime);let r=Number(e.birthDay?.slice(0,4)??2e3),i=Number(e.birthDay?.slice(4,6)??1),a=Number(e.birthDay?.slice(6,8)??1);if(e.calendarType==="lunar"){const T=ea(r,i,a);r=T.getFullYear(),i=T.getMonth()+1,a=T.getDate()}const o=n?4:Number(e.birthTime?.slice(0,2)??4),l=n?30:Number(e.birthTime?.slice(2,4)??30),u=new Date(r,i-1,a,o,l,0,0),d=!e.birthPlace||e.birthPlace.name===""||!e.birthPlace.lon,h=d?127.5:e.birthPlace.lon,m=Hse(e.corrected);let b;m?b=e.corrected:d?b=u:b=Lp(u,h,n);const y=t?new Date(b.getTime()-3600*1e3):b,k=R7(e.mingSikType),w=ut(y,h),_=Ot(y,h),j=gt(y,k),O=n?null:ao(y,k);return{corrected:y,year:{stem:w.charAt(0),branch:w.charAt(1)},month:{stem:_.charAt(0),branch:_.charAt(1)},day:{stem:j.charAt(0),branch:j.charAt(1)},hour:O?{stem:O.charAt(0),branch:O.charAt(1)}:null}}const Gse=[{keys:["",""],label:"",elem:""},{keys:["",""],label:"",elem:""},{keys:["",""],label:"",elem:""},{keys:["",""],label:"",elem:""},{keys:["",""],label:"",elem:""},{keys:["",""],label:"",elem:""},{keys:["",""],label:"",elem:""},{keys:["",""],label:"",elem:""},{keys:["",""],label:"",elem:""},{keys:["",""],label:"",elem:""},{keys:["",""],label:"",elem:""},{keys:["",""],label:"",elem:""},{keys:["",""],label:"",elem:""},{keys:["",""],label:"",elem:""},{keys:["",""],label:"",elem:""},{keys:["",""],label:"",elem:""},{keys:["",""],label:"",elem:""},{keys:["",""],label:"",elem:""},{keys:["",""],label:"",elem:""},{keys:["",""],label:"",elem:""},{keys:["",""],label:"",elem:""},{keys:["",""],label:"",elem:""},{keys:["",""],label:"",elem:""},{keys:["",""],label:"",elem:""},{keys:["",""],label:"",elem:""},{keys:["",""],label:"",elem:""},{keys:["",""],label:"",elem:""},{keys:["",""],label:"",elem:""},{keys:["",""],label:"",elem:""},{keys:["",""],label:"",elem:""}],Yse=(()=>{const e={};for(const t of Gse){const[n,r]=t.keys;e[n]={label:t.label,elem:t.elem},e[r]={label:t.label,elem:t.elem}}return e})(),qse={:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""};function Kse(e,t){const n=`${ax(e)}${kj(t)}`;return Yse[n]??null}function Wse(e){switch(e){case"":return"bg-green-600 text-white";case"":return"bg-red-600 text-white";case"":return"bg-yellow-600 text-white";case"":return"bg-gray-500 text-white";case"":return"bg-blue-700 text-white";default:return"bg-neutral-700 text-white"}}function Vse(e){switch(qse[kj(e)]){case"":return"bg-green-600 text-white border-green-600";case"":return"bg-red-600 text-white border-red-600";case"":return"bg-yellow-500 text-white border-yellow-500";case"":return"bg-gray-400 text-white border-gray-400";case"":return"bg-blue-900 text-white border-blue-600";default:return"bg-neutral-700 text-white border-neutral-700"}}function Zse({stem:e,branch:t}){const n=Kse(e,t);if(!n)return null;const r=Wse(n.elem);return g.jsx("span",{className:`inline-block mt-1 px-1.5 py-[2px] rounded ${r} border border-white/10 text-nowrap`,title:`${n.label}  ${n.elem}`,children:n.label})}function FP({value:e,kind:t,charType:n,thinEum:r,highlighted:i}){const{settings:a}=nn(),o=Ji(e,t,a),l=Ei(e,t,n),u=oo(e,t),d=r&&u?"font-thin":"font-bold",h=i?"border-purple-500 border-3":"border-neutral-200 dark:border-neutral-800";return g.jsx("div",{className:`w-11 h-11 sm:w-14 sm:h-14 md:w-14 md:h-14 rounded-md ${o}
                  flex items-center justify-center border ${h}`,children:g.jsx("span",{className:`text-[24px] md:text-2xl ${d} `,children:l})})}function L7({title:e,data:t,dayStem:n,charType:r,thinEum:i,showSipSin:a,showUnseong:o,showShinsal:l,showNabeum:u,hiddenMode:d,hiddenStemMode:h,calcUnseong:m,calcShinsal:b,size:y="regular",highlightedStem:k=!1,highlightedBranch:w=!1}){const _=y==="compact"?"py-1 text-center text-xs tracking-wider":"px-2 py-1 text-center text-xs tracking-wider",j=y==="compact"?"py-2":"p-2";return g.jsxs("div",{className:"rounded-xl bg-white dark:bg-neutral-900 border border-neutral-200 dark:border-neutral-800 overflow-hidden",children:[g.jsx("div",{className:`${_} bg-neutral-50 dark:bg-neutral-800/60 text-neutral-600 dark:text-neutral-300`,children:e}),g.jsx("div",{className:`${j} flex flex-col items-center gap-1`,children:t?g.jsxs(g.Fragment,{children:[a&&g.jsx("div",{className:"text-xs text-neutral-500 dark:text-neutral-400",children:Ta(n,{stem:t.stem})}),g.jsx(FP,{value:t.stem,kind:"stem",charType:r,thinEum:i,highlighted:k}),g.jsx(FP,{value:t.branch,kind:"branch",charType:r,thinEum:i,highlighted:w}),g.jsx(g4,{branch:t.branch,dayStem:n,mode:d,mapping:h}),(o||l||u)&&g.jsxs("div",{className:"text-[11px] text-neutral-500 dark:text-neutral-400 mt-1 text-center space-y-0.5 w-full",children:[o&&g.jsx("div",{children:m(t.branch)}),l&&g.jsx("div",{children:b(t.branch)}),u&&g.jsx(Zse,{stem:t.stem,branch:t.branch})]})]}):g.jsx("span",{className:"text-xs text-neutral-500 dark:text-neutral-400",children:" "})})]})}const Xse=(e,t,n,r)=>{let i=e.data.stem,a=e.data.branch;return e.key==="daeun"&&t&&(i=t.charAt(0),a=t.charAt(1)),e.key==="seun"&&n&&(i=n.charAt(0),a=n.charAt(1)),e.key==="wolun"&&r&&(i=r.charAt(0),a=r.charAt(1)),{stem:i,branch:a}};function Jse({cards:e,isDesktop:t,dayStem:n,charType:r,thinEum:i,showSipSin:a,showUnseong:o,showShinsal:l,showNabeum:u,hiddenMode:d,hiddenStemMode:h,calcUnseong:m,calcShinsal:b,daeGz:y,seGz:k,wolGz:w,highlightMap:_={}}){const j=t?"regular":"compact",O=e.length===1?"grid-cols-1":e.length===2?"grid-cols-2":"grid-cols-3",T="rounded-lg bg-white dark:bg-neutral-900 text-neutral-900 dark:text-white border border-neutral-200 dark:border-neutral-700 shadow",C=t?"px-3 py-1 text-md text-neutral-600 dark:text-neutral-300":"px-3 py-1 text-[11px] text-neutral-600 dark:text-neutral-300",M=t?`grid gap-2 p-3 ${O}`:`grid gap-1 p-0 ${O}`;return g.jsxs("div",{className:T,children:[g.jsx("div",{className:C,children:g.jsx("b",{children:""})}),g.jsx("div",{className:"pb-2",children:g.jsx("div",{className:M,children:e.map(P=>{const I=Xse(P,y,k,w),z=_[P.key]??{stem:!1,branch:!1};return g.jsx(L7,{title:P.label,data:I,dayStem:n,charType:r,thinEum:i,showSipSin:a,showUnseong:o,showShinsal:l,showNabeum:u,hiddenMode:d,hiddenStemMode:h,calcUnseong:m,calcShinsal:b,size:j,highlightedStem:z.stem,highlightedBranch:z.branch},P.key)})})})]})}function Qse({pillars:e,isDesktop:t,dayStem:n,charType:r,thinEum:i,showSipSin:a,showUnseong:o,showShinsal:l,showNabeum:u,hiddenMode:d,hiddenStemMode:h,calcUnseong:m,calcShinsal:b,highlightMap:y={}}){const k=t?"regular":"compact",w=t?"px-3 py-1 text-md text-neutral-600 dark:text-neutral-300":"px-3 py-1 text-[11px] text-neutral-600 dark:text-neutral-300",_=t?"grid grid-cols-4 gap-2 p-3":"grid grid-cols-4 gap-1";return g.jsxs("div",{className:"flex-2 rounded-lg bg-white dark:bg-neutral-900 text-neutral-900 dark:text-white border border-neutral-200 dark:border-neutral-700 shadow",children:[g.jsx("div",{className:w,children:g.jsx("b",{children:""})}),g.jsx("div",{className:t?"pb-2":"px-1 pb-2",children:g.jsx("div",{className:_,children:e.map(j=>{const O=y[j.key]??{stem:!1,branch:!1};return g.jsx(L7,{title:j.label,data:j.data,dayStem:n,charType:r,thinEum:i,showSipSin:a,showUnseong:o,showShinsal:l,showNabeum:u,hiddenMode:d,hiddenStemMode:h,calcUnseong:m,calcShinsal:b,size:k,highlightedStem:O.stem,highlightedBranch:O.branch},j.key)})})})]})}function ele({hourCandidates:e,useInsi:t,onToggleRule:n,usePrevDay:r,onTogglePrevDay:i,canSelectHourBranch:a,manualHour:o,onSelectHour:l}){return g.jsxs("div",{className:"my-4 p-3 border rounded bg-neutral-50 dark:bg-neutral-800",children:[g.jsxs("div",{className:"flex items-center justify-between mb-2",children:[g.jsx("span",{className:"font-semibold text-sm text-neutral-700 dark:text-neutral-300",children:" "}),g.jsxs("div",{className:"flex items-center gap-2",children:[g.jsx("button",{onClick:n,className:"px-2 py-1 text-xs rounded border bg-white dark:bg-neutral-900 border-neutral-300 dark:border-neutral-600 cursor-pointer",children:t?" : ":" : "}),g.jsx("button",{onClick:i,className:`px-2 py-1 text-xs rounded border cursor-pointer ${r?"bg-amber-500 text-white border-amber-500":"bg-white dark:bg-neutral-900 border-neutral-300 dark:border-neutral-600"}`,children:""})]})]}),g.jsx("div",{className:"grid grid-cols-4 gap-2",children:e.map(u=>{const d=u.charAt(0),h=u.charAt(1),m=o?.stem===d&&o?.branch===h,b=a?!a(h):!1;return g.jsx("button",{onClick:()=>l(d,h),disabled:b,className:`p-2 text-xs rounded border ${m?Vse(h):"bg-white dark:bg-neutral-900 text-neutral-700 dark:text-neutral-200 border-neutral-300 dark:border-neutral-600"} ${b?"opacity-40 cursor-not-allowed":"cursor-pointer"}`,title:`${u} ( )`,children:u},u)})})]})}function tle(e){const i=e.trim().replace(/^#?(|||)(X(|||))?_/u,"").replace(/\((|||)\)$/u,"").replace(/\s+/g," ").trim(),a=i.includes("_")?i.split("_").pop()??i:i;return a.includes("")?"":a.includes("")?"":a.includes("")?"":a===""||a===""||a===""?"":a}const lm={:{title:"()",kind:"",oneLine:"     .",bullets:["  ,   ."]},:{title:"()",kind:"",oneLine:"    ."},:{title:"()",kind:"",oneLine:"    ."},:{title:"()",kind:"",oneLine:"   :   ."},:{title:"() / ",kind:"",oneLine:"   ."},:{title:"()",kind:"",oneLine:"    ."},:{title:"()",kind:"",oneLine:"   ."},:{title:"()",kind:"",oneLine:" ,    ."},:{title:"()",kind:"",oneLine:"  (  ) ."},:{title:"()",kind:"",oneLine:"     ."},:{title:"()",kind:"",oneLine:"    ."},:{title:"()",kind:"",oneLine:"  / ."},:{title:"()",kind:"",oneLine:"    ."},:{title:"()",kind:"",oneLine:"()   ."},:{title:"()",kind:"",oneLine:"  ()  ."},:{title:"()",kind:"",oneLine:"  :   ."},:{title:"()",kind:"",oneLine:"    ."},:{title:"()",kind:"",oneLine:"+     ."},:{title:"()",kind:"",oneLine:"///   ."},:{title:"()",kind:"",oneLine:"     ."},:{title:"()",kind:"",oneLine:"/        ."},:{title:"()",kind:"",oneLine:" 3      .",bullets:["    ."]},:{title:"()",kind:"",oneLine:"   ."},:{title:"()",kind:"",oneLine:"   ."},:{title:"()",kind:"",oneLine:"   ."},:{title:"() / ",kind:"",oneLine:"   ."},:{title:"()",kind:"",oneLine:"    ."},:{title:"()",kind:"",oneLine:"//     ."},:{title:"()",kind:"",oneLine:"  :   ."},:{title:"()",kind:"",oneLine:"   : //."},:{title:"",kind:"",oneLine:"  :   ."},:{title:"",kind:"",oneLine:"  :  ."},:{title:"()",kind:"",oneLine:"//     ."},:{title:"()",kind:"",oneLine:"    ."},:{title:"()",kind:"",oneLine:" //  ."},:{title:"()",kind:"",oneLine:"   ."},:{title:"()",kind:"",oneLine:"  : ."},:{title:"()",kind:"",oneLine:": /  ."},:{title:"",kind:"",oneLine:"      ."},:{title:"()",kind:"",oneLine:"   ."},:{title:"()",kind:"",oneLine:"  ."},:{title:"()",kind:"",oneLine:" / :   ."},:{title:"()",kind:"",oneLine:"()  ."},:{title:"()",kind:"",oneLine:"   ."},:{title:"()",kind:"",oneLine:"/ :  ."},:{title:"()",kind:"",oneLine:"   ."},:{title:"()",kind:"",oneLine:"   ."},:{title:"()",kind:"",oneLine:"   ."},:{title:"()",kind:"",oneLine:" / :    ."},:{title:"()",kind:"",oneLine:" :   / ."},:{title:"",kind:"",oneLine:"   ."},:{title:"()",kind:"",oneLine:"() //  ."},:{title:"()",kind:"",oneLine:" :      ."},:{title:"()",kind:"",oneLine:" ."},:{title:"()",kind:"",oneLine:"  :  ."},:{title:"()",kind:"",oneLine:"//    ."},:{title:"()",kind:"",oneLine:"    : ."},:{title:"",kind:"",oneLine:"  : //."},:{title:"()",kind:"",oneLine:"/  ."},:{title:"()",kind:"",oneLine:"  : ."},:{title:"()",kind:"",oneLine:" : /  ."},:{title:"()",kind:"",oneLine:"  :  ."},:{title:"()",kind:"",oneLine:" () ."},:{title:"()",kind:"",oneLine:"  ,    ."},:{title:"",kind:"",oneLine:":  ."},:{title:"",kind:"",oneLine:" /  ."},:{title:"()",kind:"",oneLine:"/ :  ."},:{title:"()",kind:"",oneLine:"/ :  ."},:{title:"()",kind:"",oneLine:"      :    ."},:{title:"",kind:"",oneLine:"    ."},:{title:"()",kind:"",oneLine:" .       ."},:{title:"()",kind:"",oneLine:" .     ."},:{title:"()",kind:"",oneLine:"  .      ."},:{title:"()",kind:"",oneLine:" :  ."},:{title:"()",kind:"",oneLine:"  :  ."},:{title:"()",kind:"",oneLine:"   :  ."},:{title:"()",kind:"",oneLine:" :  /,   ."},:{title:"",kind:"",oneLine:"      ."},:{title:"()",kind:"",oneLine:"/  :    ."},:{title:"()",kind:"",oneLine:"  :   ."},:{title:"()",kind:"",oneLine:"  : /  ."},:{title:"()",kind:"",oneLine:"  : // ."},:{title:"()",kind:"",oneLine:"   :  ."},:{title:"()",kind:"",oneLine:"//   ."},:{title:"()",kind:"",oneLine:"/  :  ."},:{title:"()",kind:"",oneLine:"/    ."},:{title:"()",kind:"",oneLine:" :    ,  /  ."}};function nle(e){const t=tle(e),n=lm[t];if(n)return n;if(t.endsWith("")){const r=t.replace(/$/,"");if(lm[r])return lm[r]}else{const r=`${t}`;if(lm[r])return lm[r]}return{title:t||"",kind:"",oneLine:" "}}function rle(e){const t=`${e.title}  ${e.kind}`,n=e.oneLine,r=(e.bullets??[]).map(i=>`- ${i}`).join(`
`);return r?`${t}
${n}
${r}`:`${t}
${n}`}function Oo({columnKey:e,title:t,goodTags:n,badTags:r,isDesktop:i,openTagKey:a,setOpenTagKey:o}){const l=BE(n,Fy),u=BE(r,Fy),d=i||l.length>0,h=i||u.length>0;return!i&&l.length===0&&u.length===0?null:g.jsxs("div",{className:"flex-1 rounded-md border border-neutral-200 dark:border-neutral-800 p-2",children:[g.jsx("div",{className:"text-[11px] text-neutral-500 dark:text-neutral-400 mb-1",children:t}),g.jsxs("div",{className:"space-y-2",children:[g.jsxs("div",{children:[d&&g.jsx("div",{className:"text-[10px] text-emerald-600 dark:text-emerald-400 mb-1",children:""}),g.jsx(HP,{tags:n,idPrefix:`${e}-good`,isDesktop:i,openTagKey:a,setOpenTagKey:o})]}),g.jsxs("div",{children:[h&&g.jsx("div",{className:"text-[10px] text-rose-600 dark:text-rose-400 mb-1",children:""}),g.jsx(HP,{tags:r,idPrefix:`${e}-bad`,isDesktop:i,openTagKey:a,setOpenTagKey:o})]})]})]})}function HP({tags:e,idPrefix:t,isDesktop:n,openTagKey:r,setOpenTagKey:i}){const a=BE(e,Fy);return a.length===0?n?g.jsx("div",{className:"text-[11px] text-neutral-400 text-center",children:""}):null:g.jsx("div",{className:"flex flex-row flex-wrap desk:flex-col gap-1",children:a.map((o,l)=>{const u=`${t}-${l}`;return g.jsx(ile,{tag:o,id:u,openTagKey:r,setOpenTagKey:i},u)})})}function ile({tag:e,id:t,openTagKey:n,setOpenTagKey:r}){const i=n===t,a=nle(e),o=a?rle(a):"",l=Fy(e),u=S.useRef(null),d=S.useRef(null),[h,m]=S.useState("center");return S.useLayoutEffect(()=>{if(!i)return;const b=d.current;if(!b)return;const y=b.getBoundingClientRect(),w=Math.min(300,window.innerWidth-16*2),_=y.left,j=window.innerWidth-y.right;j<w/2&&_>j?m("right"):_<w/2&&j>_?m("left"):m("center")},[i]),S.useLayoutEffect(()=>{if(!i)return;const b=y=>{const k=y.target;!u.current||k&&u.current.contains(k)||r(null)};return document.addEventListener("mousedown",b),document.addEventListener("touchstart",b),()=>{document.removeEventListener("mousedown",b),document.removeEventListener("touchstart",b)}},[i,r]),g.jsxs("div",{ref:u,className:"relative",children:[g.jsx("button",{ref:d,type:"button",onClick:()=>r(i?null:t),className:["px-2 py-1 text-[12px] desk:text-[11px] text-center  rounded border desk:break-keep w-full cursor-pointer ",i?"bg-purple-500/20 text-purple-200 border-purple-500":"bg-neutral-50 dark:bg-neutral-800 text-neutral-600 dark:text-neutral-300 border-neutral-200 dark:border-neutral-700"].join(" "),title:l,children:l}),a&&i&&g.jsx("div",{className:["absolute top-full mt-2 z-50",h==="left"?"left-0":h==="right"?"right-0":"left-1/2 -translate-x-1/2"].join(" "),children:g.jsx("div",{className:"relative whitespace-pre-wrap break-words break-keep rounded-md border border-neutral-700 bg-neutral-900 text-neutral-100 text-[10px] leading-4 p-2 shadow-lg text-center",style:{width:"min(190px, calc(100vw - 24px))"},children:o})})]})}function Fy(e){const t=e.replace(/^#/,""),n=t.split("_"),r=n.length>1?n[n.length-1]:t,i=r.split(" ").filter(Boolean);return i.length>0?i[i.length-1]:r}function BE(e,t){const n=new Set,r=[];for(const i of e){const a=t(i);n.has(a)||(n.add(a),r.push(i))}return r}const ale=[{level:0,label:" "},{level:1,label:" "},{level:2,label:" "},{level:3,label:" "}];function ole({isDesktop:e,exposureLevel:t,relationApplyLevel:n,maxRelationApplyLevel:r,onChangeRelationApplyLevel:i,relationChips:a,relationByPillar:o,activeRelationTag:l,onToggleRelationTag:u,showRelationBox:d,showEtcShinsalBox:h,etcShinsalGood:m,etcShinsalBad:b}){const[y,k]=S.useState(!0),[w,_]=S.useState(!0),[j,O]=S.useState(null);return g.jsxs(g.Fragment,{children:[d&&g.jsx("div",{className:"px-2 desk:px-0 py-2",children:g.jsxs("div",{className:"rounded-lg border border-neutral-200 dark:border-neutral-800 bg-white dark:bg-neutral-900 p-3",children:[g.jsxs("button",{type:"button",onClick:()=>k(T=>!T),className:["w-full flex items-center justify-between pl-1 text-xs text-neutral-600 dark:text-neutral-300 cursor-pointer",y?"mb-1":"mb-0"].join(" "),children:[g.jsx("span",{children:""}),g.jsx("span",{className:"text-[10px]",children:y?"":""})]}),y&&g.jsxs(g.Fragment,{children:[g.jsx("div",{className:"pl-1 mb-2",children:g.jsx("div",{className:"flex flex-wrap gap-1",children:ale.filter(T=>T.level<=r).map(T=>{const C=n===T.level;return g.jsx("button",{type:"button",onClick:()=>i(T.level),className:["px-2 py-1 text-[11px] rounded border transition cursor-pointer",C?"bg-purple-500 text-white border-purple-500":"bg-neutral-50 dark:bg-neutral-800 text-neutral-600 dark:text-neutral-300 border-neutral-200 dark:border-neutral-700"].join(" "),children:T.label},T.level)})})}),g.jsx("div",{className:"text-[11px] text-amber-600 dark:text-amber-300 pl-1 mb-2",children:"     ."}),a.length===0?g.jsx("div",{className:"text-xs text-neutral-400",children:"  ."}):g.jsxs("div",{className:"grid w-full gap-2 desk:gap-4 grid-cols-1",style:{gridTemplateColumns:e?n>=3?"4fr 5fr":n>=2?"3.5fr 6.5fr":n>=1?"2fr 8fr":"1fr":void 0},children:[n>=1&&g.jsx("div",{className:"border-t desk:border-0 border-neutral-200 dark:border-neutral-800 pt-2 desk:pt-0 order-2 desk:order-1 flex-4 grid grid-cols-1 gap-1 desk:gap-2",style:{gridTemplateColumns:e?`repeat(${n>=3?3:n>=2?2:1}, minmax(60px, 1fr))`:void 0},children:(e?[n>=3&&g.jsx(Co,{title:"",tags:o.luck.wol,activeTag:l,onToggle:u},"wol"),n>=2&&g.jsx(Co,{title:"",tags:o.luck.se,activeTag:l,onToggle:u},"se"),n>=1&&g.jsx(Co,{title:"",tags:o.luck.dae,activeTag:l,onToggle:u},"dae")]:[n>=1&&g.jsx(Co,{title:"",tags:o.luck.dae,activeTag:l,onToggle:u},"dae"),n>=2&&g.jsx(Co,{title:"",tags:o.luck.se,activeTag:l,onToggle:u},"se"),n>=3&&g.jsx(Co,{title:"",tags:o.luck.wol,activeTag:l,onToggle:u},"wol")]).filter(Boolean)}),g.jsxs("div",{className:"order-1 desk:order-2 flex flex-col desk:flex-row flex-5 gap-1 desk:gap-2 desk:pl-0 desk:border-t-0 desk:border-l-0",children:[g.jsx(Co,{title:"",tags:o.natal.hour,activeTag:l,onToggle:u}),g.jsx(Co,{title:"",tags:o.natal.day,activeTag:l,onToggle:u}),g.jsx(Co,{title:"",tags:o.natal.month,activeTag:l,onToggle:u}),g.jsx(Co,{title:"",tags:o.natal.year,activeTag:l,onToggle:u})]})]})]})]})}),h&&g.jsx("div",{className:"px-2 desk:px-0 py-2",children:g.jsxs("div",{className:"rounded-lg border border-neutral-200 dark:border-neutral-800 bg-white dark:bg-neutral-900 p-3",children:[g.jsxs("button",{type:"button",onClick:()=>_(T=>!T),className:["w-full flex items-center justify-between pl-1 text-xs text-neutral-600 dark:text-neutral-300 cursor-pointer",w?"mb-1":"mb-0"].join(" "),children:[g.jsx("span",{children:""}),g.jsx("span",{className:"text-[10px]",children:w?"":""})]}),w&&g.jsxs(g.Fragment,{children:[g.jsx("div",{className:"pl-1 text-[11px] text-amber-600 dark:text-amber-300 mb-2",children:"       ."}),GP(m)||GP(b)?g.jsxs("div",{className:"grid w-full gap-2 desk:gap-4 grid-cols-1",style:{gridTemplateColumns:e?t>=3?"4fr 5fr":t>=2?"3.5fr 6.5fr":t>=1?"2fr 8fr":"1fr":void 0},children:[g.jsx("div",{className:"order-2 desk:order-1 flex-4 grid grid-cols-1 gap-1 desk:gap-2",style:{gridTemplateColumns:e?`repeat(${t>=3?3:t>=2?2:t>=1?1:0}, minmax(60px, 1fr))`:void 0},children:(e?[t>=3&&g.jsx(Oo,{columnKey:"etc-luck-wol",title:"",goodTags:m.luck.wol,badTags:b.luck.wol,isDesktop:e,openTagKey:j,setOpenTagKey:O},"luck-wol"),t>=2&&g.jsx(Oo,{columnKey:"etc-luck-se",title:"",goodTags:m.luck.se,badTags:b.luck.se,isDesktop:e,openTagKey:j,setOpenTagKey:O},"luck-se"),t>=1&&g.jsx(Oo,{columnKey:"etc-luck-dae",title:"",goodTags:m.luck.dae,badTags:b.luck.dae,isDesktop:e,openTagKey:j,setOpenTagKey:O},"luck-dae")]:[t>=1&&g.jsx(Oo,{columnKey:"etc-luck-dae",title:"",goodTags:m.luck.dae,badTags:b.luck.dae,isDesktop:e,openTagKey:j,setOpenTagKey:O},"luck-dae"),t>=2&&g.jsx(Oo,{columnKey:"etc-luck-se",title:"",goodTags:m.luck.se,badTags:b.luck.se,isDesktop:e,openTagKey:j,setOpenTagKey:O},"luck-se"),t>=3&&g.jsx(Oo,{columnKey:"etc-luck-wol",title:"",goodTags:m.luck.wol,badTags:b.luck.wol,isDesktop:e,openTagKey:j,setOpenTagKey:O},"luck-wol")]).filter(Boolean)}),g.jsxs("div",{className:"order-1 desk:order-2 flex flex-col desk:flex-row flex-5 gap-1 desk:gap-2",children:[g.jsx(Oo,{columnKey:"etc-natal-hour",title:"",goodTags:m.natal.hour,badTags:b.natal.hour,isDesktop:e,openTagKey:j,setOpenTagKey:O}),g.jsx(Oo,{columnKey:"etc-natal-day",title:"",goodTags:m.natal.day,badTags:b.natal.day,isDesktop:e,openTagKey:j,setOpenTagKey:O}),g.jsx(Oo,{columnKey:"etc-natal-month",title:"",goodTags:m.natal.month,badTags:b.natal.month,isDesktop:e,openTagKey:j,setOpenTagKey:O}),g.jsx(Oo,{columnKey:"etc-natal-year",title:"",goodTags:m.natal.year,badTags:b.natal.year,isDesktop:e,openTagKey:j,setOpenTagKey:O})]})]}):g.jsx("div",{className:"text-xs text-neutral-400",children:"  ."})]})]})})]})}function Co({title:e,tags:t,activeTag:n,onToggle:r}){return g.jsxs("div",{className:"flex-1 rounded-md border border-neutral-200 dark:border-neutral-800 p-2",children:[g.jsx("div",{className:"text-[11px] text-neutral-500 dark:text-neutral-400 mb-1",children:e}),t.length===0?g.jsx("div",{className:"text-[11px] text-neutral-400 text-center",children:""}):g.jsx("div",{className:"flex flex-row flex-wrap desk:flex-col gap-1",children:t.map(i=>{const a=n===i;return g.jsx("button",{type:"button",onClick:()=>r(a?null:i),className:["px-2 py-1 text-[12px] desk:text-[11px] rounded border transition desk:break-keep cursor-pointer",a?"bg-purple-500 text-white border-purple-500":"bg-neutral-50 dark:bg-neutral-800 text-neutral-600 dark:text-neutral-300 border-neutral-200 dark:border-neutral-700"].join(" "),title:i,children:sle(i)},i)})})]})}function sle(e){const t=e.replace(/^#/,""),n=t.split("_");return(n.length>1?n.slice(1).join("_"):t).replace(/_/g," ")}function GP(e){const{natal:t,luck:n}=e;return t.hour.length>0||t.day.length>0||t.month.length>0||t.year.length>0||n.dae.length>0||n.se.length>0||n.wol.length>0}function YP(e){return String(e).padStart(2,"0")}function lle(e,t,n){if(!e||e.length<8)return BP(e,t);const r=BP(e,t);if(n!=="lunar")return r;try{const i=Number(e.slice(0,4)),a=Number(e.slice(4,6)),o=Number(e.slice(6,8)),l=ea(i,a,o);return` ${`${l.getFullYear()}.${YP(l.getMonth()+1)}.${YP(l.getDate())}`} ( ${r})`}catch{return` ${r}`}}function cle({data:e,hourTable:t}){const{date:n,setDstOffsetMinutes:r}=ni(),i=nn(Oe=>Oe.settings),a=i.showNabeum??!0,o=i.showRelationBox??!0,l=i.showEtcShinsal??!0,u=R7(e.mingSikType,t),d=!e.birthPlace||e.birthPlace.name===""||!e.birthPlace.lon?127.5:e.birthPlace.lon,{solarY:h,solarM:m,solarD:b}=S.useMemo(()=>{let Oe=Number(e.birthDay?.slice(0,4)??2e3),Fe=Number(e.birthDay?.slice(4,6)??1),We=Number(e.birthDay?.slice(6,8)??1);if(e.calendarType==="lunar"){const bt=ea(Oe,Fe,We);Oe=bt.getFullYear(),Fe=bt.getMonth()+1,We=bt.getDate()}return{solarY:Oe,solarM:Fe,solarD:We}},[e.birthDay,e.calendarType]),y=Iy(Oe=>Oe.useDST),k=Iy(Oe=>Oe.setUseDST);S.useEffect(()=>{h&&m&&b&&k(np(h,m,b))},[h,m,b,k]),S.useEffect(()=>{r(y?-60:0)},[y,r]);const w=yT(e.birthTime),[_,j]=S.useState(()=>$E(e,y));S.useEffect(()=>{j($E(e,y))},[e,y]);const O=e.id??`${e.birthDay}-${e.birthTime}-${e.name??""}`,T=qi(Oe=>Oe.usePrevDay),C=qi(Oe=>Oe.setUsePrevDay),M=S.useMemo(()=>{const Oe=`${_.day.stem}${_.day.branch}`,Fe=T?io(Oe,-1):Oe;return{stem:Fe.charAt(0),branch:Fe.charAt(1)}},[_.day.stem,_.day.branch,T]),P=_.day.stem,I=M.stem,[z,K]=S.useState(null),[G,F]=S.useState(()=>UP(e.mingSikType)),B=qi(Oe=>Oe.clearManualHour);S.useEffect(()=>{K(null),B(),F(UP(e.mingSikType)),C(!1)},[O,e.mingSikType,B,C]);const q=T&&G?I:P,X=S.useMemo(()=>$se(q,G),[G,q]),Z=z??_.hour,Y=qi(Oe=>Oe.setManualHour),V=S.useCallback(Oe=>T?G?Oe===""||Oe==="":Oe==="":!0,[T,G]);S.useEffect(()=>{z&&(V(z.branch)||(K(null),B()))},[z,V,B]);const Q=(Oe,Fe)=>{if(!V(Fe))return;if(z?.stem===Oe&&z?.branch===Fe){K(null),B();return}const We={stem:Oe,branch:Fe};K(We),Y(We)},se=Use(i.sinsalBase)===""?M.branch:_.year.branch,ce=Oe=>i.showSibiUnseong?so(I,Oe):null,W=Oe=>i.showSibiSinsal?lo({baseBranch:se,targetBranch:Oe,era:Bf(i.sinsalMode),gaehwa:i.sinsalBloom}):null,ne=y?-60:0,ie=zae(e,u,ne),he=vae({query:"(min-width: 992px)"}),J=i.hiddenStem==="regular"?"main":"all",ae=Fse(i.exposure),pe=ae===0?[]:ie.filter(Oe=>(Oe.key==="daeun"?1:Oe.key==="seun"?2:3)<=ae),me=np(h,m,b),ee=()=>k(!y),je=S.useMemo(()=>{const Oe=e.corrected instanceof Date?e.corrected:new Date(String(e.corrected??""));return Number.isNaN(Oe.getTime())?_.corrected:Oe},[e.corrected,_.corrected]),xe=S.useMemo(()=>je&&(me&&y?new Date(je.getTime()-3600*1e3):je),[je,me,y]),ue=S.useMemo(()=>{const Oe=me&&y?"":e.correctedLocal;return Bse(Oe,xe??new Date,w)},[e.correctedLocal,xe,w,me,y]),Ee=yx(e,t,n,{dstOffsetMinutes:ne}),Me=Ee.dae.gz,Ie=Ee.se.gz,Ke=Ee.wol.gz,ht=S.useMemo(()=>ae>=3&&Ke?3:ae>=2&&Ie?2:ae>=1&&Me?1:0,[ae,Me,Ie,Ke]),[mt,De]=S.useState(ht),[ze,Ge]=S.useState(null);S.useEffect(()=>{De(ht),Ge(null)},[O,ht]);const oe=S.useMemo(()=>{const Oe=Nt=>Nt?.stem&&Nt?.branch?`${Nt.stem}${Nt.branch}`:"",Fe=[Oe(_.year),Oe(_.month),Oe(M),Oe(Z)],We=Wl({natal:[...Fe],daewoon:mt>=1?Me??void 0:void 0,sewoon:mt>=2?Ie??void 0:void 0,wolwoon:mt>=3?Ke??void 0:void 0}),bt=vx([...Fe],{fillNone:!1}),At={...We};for(const Nt of p7)At[Nt]=Array.from(new Set([...At[Nt]??[],...bt[Nt]??[]]));return At},[_,M,Z,Me,Ie,Ke,mt]),Ce=S.useMemo(()=>{const Oe=[...oe.cheonganHap,...oe.cheonganChung,...oe.jijiSamhap,...oe.jijiBanhap,...oe.jijiBanghap,...oe.jijiYukhap,...oe.jijiChung,...oe.jijiHyeong,...oe.jijiPa,...oe.jijiHae,...oe.amhap,...oe.ganjiAmhap].filter(Fe=>Fe&&Fe!=="#");return Array.from(new Set(Oe))},[oe]);S.useEffect(()=>{ze&&!Ce.includes(ze)&&Ge(null)},[ze,Ce]);const Ue=S.useMemo(()=>{const Oe=(We,bt)=>{We.includes(bt)||We.push(bt)},Fe={luck:{wol:[],se:[],dae:[]},natal:{hour:[],day:[],month:[],year:[]}};for(const We of Ce){const At=(We.replace(/^#/,"").split("_")[0]??"").split("X").filter(Boolean);At.includes("")&&Oe(Fe.luck.wol,We),At.includes("")&&Oe(Fe.luck.se,We),At.includes("")&&Oe(Fe.luck.dae,We),At.includes("")&&Oe(Fe.natal.hour,We),At.includes("")&&Oe(Fe.natal.day,We),At.includes("")&&Oe(Fe.natal.month,We),At.includes("")&&Oe(Fe.natal.year,We)}return Fe},[Ce]),rt=S.useMemo(()=>{const Oe=bt=>bt?.stem&&bt?.branch?`${bt.stem}${bt.branch}`:"",Fe=Fp({natal:[Oe(_.year),Oe(_.month),Oe(M),Oe(Z)],daewoon:ae>=1?Me??void 0:void 0,sewoon:ae>=2?Ie??void 0:void 0,wolwoon:ae>=3?Ke??void 0:void 0}),We=bt=>Array.from(new Set(bt.filter(At=>At&&At!=="#")));return{good:{natal:{hour:We(Fe.good.si??[]),day:We(Fe.good.il??[]),month:We(Fe.good.wol??[]),year:We(Fe.good.yeon??[])},luck:{dae:We(Fe.good.dae??[]),se:We(Fe.good.se??[]),wol:We(Fe.good.wolun??[])}},bad:{natal:{hour:We(Fe.bad.si??[]),day:We(Fe.bad.il??[]),month:We(Fe.bad.wol??[]),year:We(Fe.bad.yeon??[])},luck:{dae:We(Fe.bad.dae??[]),se:We(Fe.bad.se??[]),wol:We(Fe.bad.wolun??[])}}}},[_,M,Z,Me,Ie,Ke,ae]),xt=S.useMemo(()=>{const Oe={},Fe=(We,bt)=>{for(const At of We)Oe[At]=bt};return Fe(oe.cheonganHap,"stem"),Fe(oe.cheonganChung,"stem"),Fe(oe.jijiSamhap,"branch"),Fe(oe.jijiBanhap,"branch"),Fe(oe.jijiBanghap,"branch"),Fe(oe.jijiYukhap,"branch"),Fe(oe.jijiChung,"branch"),Fe(oe.jijiHyeong,"branch"),Fe(oe.jijiPa,"branch"),Fe(oe.jijiHae,"branch"),Fe(oe.amhap,"branch"),Fe(oe.ganjiAmhap,"both"),Oe},[oe]),st=S.useMemo(()=>{if(!ze)return{};const Oe=xt[ze]??"branch",We=(ze.replace(/^#/,"").split("_")[0]??"").split("X").filter(Boolean),bt={:"year",:"month",:"day",:"hour",:"daeun",:"seun",:"wolun",:"ilun"},At={};for(const Nt of We){const Mt=bt[Nt];if(!Mt)continue;const Kt=At[Mt]??{stem:!1,branch:!1};Oe==="stem"?Kt.stem=!0:(Oe==="branch"||(Kt.stem=!0),Kt.branch=!0),At[Mt]=Kt}return At},[ze,xt]);return g.jsxs("div",{className:"w-full max-w-[640px] mx-auto",children:[g.jsxs("div",{className:"mb-1 gap-2 p-2",children:[g.jsxs("div",{children:[g.jsxs("div",{className:"text-md desk:text-xl font-bold text-neutral-900 dark:text-neutral-100",children:[(e.name?.trim()||"")+" ",g.jsxs("span",{className:"text-sm text-neutral-500 dark:text-neutral-400 mr-2",children:["(",e.gender,")"]}),me&&g.jsxs("button",{onClick:ee,className:`px-2 py-0.5 text-xs rounded cursor-pointer border
                  ${y?"bg-red-600 text-white border-red-600":"bg-neutral-100 text-neutral-700 border-neutral-300 dark:bg-neutral-800 dark:text-neutral-200 dark:border-neutral-700"}`,children:[" ",y?"ON":"OFF"]})]}),g.jsxs("div",{className:"text-xs desk:text-sm text-neutral-600 dark:text-neutral-400",children:[lle(e.birthDay,e.birthTime,e.calendarType)," : ",ue]})]}),g.jsxs("div",{className:"text-xs text-neutral-500 dark:text-neutral-400",children:[e.birthPlace?.name?`: ${e.birthPlace.name}`:""," /  : ",d.toFixed(2),"  ",u," "]})]}),g.jsxs("div",{className:`grid gap-2 p-2 desk:p-0 ${pe.length===0?"grid-cols-1":pe.length===1?"grid-cols-[2fr_8fr]":pe.length===2?"grid-cols-[3.5fr_6.5fr]":"grid-cols-[4fr_5fr]"}`,children:[pe.length>0&&g.jsx(Jse,{cards:pe,isDesktop:he,dayStem:I,charType:i.charType,thinEum:i.thinEum,showSipSin:i.showSipSin,showUnseong:i.showSibiUnseong,showShinsal:i.showSibiSinsal,showNabeum:a,hiddenMode:J,hiddenStemMode:i.hiddenStemMode,calcUnseong:ce,calcShinsal:W,daeGz:Me,seGz:Ie,wolGz:Ke,highlightMap:st}),g.jsx(Qse,{isDesktop:he,dayStem:I,charType:i.charType,thinEum:i.thinEum,showSipSin:i.showSipSin,showUnseong:i.showSibiUnseong,showShinsal:i.showSibiSinsal,showNabeum:a,hiddenMode:J,hiddenStemMode:i.hiddenStemMode,calcUnseong:ce,calcShinsal:W,highlightMap:st,pillars:[{key:"hour",label:"",data:Z},{key:"day",label:"",data:M},{key:"month",label:"",data:_.month},{key:"year",label:"",data:_.year}]})]}),w&&g.jsx(ele,{hourCandidates:X,useInsi:G,onToggleRule:()=>F(Oe=>!Oe),usePrevDay:T,onTogglePrevDay:()=>C(!T),canSelectHourBranch:V,manualHour:z,onSelectHour:Q}),g.jsx(ole,{isDesktop:he,exposureLevel:ae,relationApplyLevel:mt,maxRelationApplyLevel:ht,onChangeRelationApplyLevel:De,relationChips:Ce,relationByPillar:Ue,activeRelationTag:ze,onToggleRelationTag:Ge,showRelationBox:o,showEtcShinsalBox:l,etcShinsalGood:rt.good,etcShinsalBad:rt.bad})]})}function ac(e,t){const n=e,r=typeof n.isUnknownTime=="boolean"?n.isUnknownTime:!1,i=typeof n.birthTime=="string"&&/^(?:\d{4}|\d{2}:\d{2})$/.test(n.birthTime),a=typeof n.birthHour=="number",o=typeof n.birthMinute=="number";if(r||!(i||a||o)){const u=new Date(t);return u.setHours(4,30,0,0),u}return t}function wx(e,t){const n=e.length;if(n===0||!t)return 0;const r=e[0].at.getTime(),i=e[n-1].at.getTime(),a=t.getTime();if(a<=r)return 0;if(a>=i)return n-1;for(let o=0;o<n-1;o+=1){const l=e[o].at.getTime(),u=e[o+1].at.getTime();if(a>=l&&a<u)return o}return 0}function ule({data:e}){const t=Ks(),n=dc(e,e.mingSikType,100,t),r=qi(G=>G.usePrevDay),i=S.useMemo(()=>{const G=If(e);return rc(G,t)},[e,t]),a=S.useMemo(()=>ac(e,i),[e,i]),o=S.useMemo(()=>{const G=e.mingSikType??"/",F=gt(a,G);return(r?io(F,-1):F).charAt(0)},[a,e.mingSikType,r]),{date:l,setFromEvent:u}=ni(),d=S.useMemo(()=>wx(n,l),[n,l]),h=nn(G=>G.settings),m=nn(G=>G.setKey),{charType:b,thinEum:y,showSipSin:k,showSibiUnseong:w,showSibiSinsal:_,sinsalBase:j,sinsalMode:O,sinsalBloom:T,daewoonDisplayBase:C}=h,M=!e.birthPlace||e.birthPlace.name===""||e.birthPlace.lon===0?127.5:e.birthPlace.lon,P=e.mingSikType??"/",I=j===""?(r?io(gt(a,P),-1):gt(a,P)).charAt(1):ut(a,M).charAt(1),z=G=>w?so(o,G):null,K=G=>_?lo({baseBranch:I,targetBranch:G,era:Bf(O),gaehwa:!!T}):null;return g.jsxs("div",{className:"w-full max-w-[640px] mx-auto rounded-xl bg-white dark:bg-neutral-900 border border-neutral-200 dark:border-neutral-800 overflow-hidden",children:[g.jsxs("div",{className:"px-3 py-2 text-sm font-semibold tracking-wider bg-neutral-50 dark:bg-neutral-800/60 text-neutral-700 dark:text-neutral-300 flex items-center justify-between gap-2",children:[g.jsx("span",{children:""}),g.jsxs("div",{className:"inline-flex rounded-md overflow-hidden border border-neutral-300 dark:border-neutral-700 bg-white dark:bg-neutral-800",children:[g.jsx("button",{type:"button",onClick:()=>m("daewoonDisplayBase",""),className:`px-2 py-1 text-[11px] desk:text-xs tracking-[-1px] cursor-pointer transition-colors ${C===""?"bg-indigo-600 text-white":"text-neutral-700 hover:bg-neutral-100 dark:text-neutral-300 dark:hover:bg-neutral-700"}`,children:""}),g.jsx("button",{type:"button",onClick:()=>m("daewoonDisplayBase",""),className:`px-2 py-1 text-[11px] desk:text-xs tracking-[-1px] cursor-pointer transition-colors ${C===""?"bg-indigo-600 text-white":"text-neutral-700 hover:bg-neutral-100 dark:text-neutral-300 dark:hover:bg-neutral-700"}`,children:""})]})]}),g.jsx("div",{className:"flex gap-0.5 desk:gap-1 py-2 desk:p-2 flex-row-reverse",children:n.map((G,F)=>{const B=G.gz.charAt(0),q=G.gz.charAt(1),X=dle(G.age),Z=F===d,Y=Ei(B,"stem",b),V=Ei(q,"branch",b),Q=oo(B,"stem"),se=oo(q,"branch"),ce=y&&Q?"font-thin":"font-bold",W=y&&se?"font-thin":"font-bold",ne=z(q),ie=K(q);return g.jsxs("div",{onClick:()=>u(G,""),className:`flex-1 rounded-sm desk:rounded-lg bg-white dark:bg-neutral-900 overflow-hidden cursor-pointer ${Z?"border border-yellow-500":"border border-neutral-200 dark:border-neutral-800 hover:border-yellow-500"}`,title:`${G.gz}  ${G.at.toLocaleDateString()}`,children:[g.jsx("div",{className:"desk:px-2 py-1 text-center text-[10px] bg-neutral-50 dark:bg-neutral-800/60 text-neutral-600 dark:text-neutral-300",children:X}),g.jsxs("div",{className:"p-2 flex flex-col items-center gap-0.5",children:[k&&g.jsx("div",{className:"text-[10px] text-neutral-500 dark:text-neutral-400 text-nowrap",children:Ta(o,{stem:B})}),g.jsx("div",{className:`w-8 h-8 md:w-10 md:h-10 rounded-sm md:rounded-lg flex items-center justify-center border border-neutral-200 dark:border-neutral-800 ${Ji(B,"stem",h)}`,children:g.jsx("span",{className:`text-[20px] md:text-xl ${ce}`,children:Y})}),g.jsx("div",{className:`w-8 h-8 md:w-10 md:h-10 rounded-sm md:rounded-lg flex items-center justify-center border border-neutral-200 dark:border-neutral-800 ${Ji(q,"branch",h)}`,children:g.jsx("span",{className:`text-[20px] md:text-xl ${W}`,children:V})}),k&&g.jsx("div",{className:"text-[10px] text-neutral-500 dark:text-neutral-400 text-nowrap",children:Ta(o,{branch:q})}),(w||_)&&g.jsxs("div",{className:"text-[10px] text-neutral-500 dark:text-neutral-400 mt-1 text-center space-y-0.5 text-nowrap",children:[w&&g.jsx("div",{children:ne}),_&&g.jsx("div",{children:ie})]})]})]},`${G.gz}-${F}`)})})]})}function dle(e){return e>=2?String(Math.floor(e)):Number.isInteger(e)?String(e):e.toFixed(4).replace(/\.?0+$/,"")}const fle=!1,qP=e=>e<10?`0${e}`:`${e}`;function vT(e){const t=e,n=typeof t.birthDay=="string"?t.birthDay:"",r=typeof t.calendarType=="string"?t.calendarType:"solar";if(n.length<8)return e;const i=Number(n.slice(0,4)),a=Number(n.slice(4,6)),o=Number(n.slice(6,8)),l=["isLeap","isLeapMonth","leapMonth","leap","lunarLeap"];let u=!1;for(const d of l){const h=t[d];if(typeof h=="boolean"){u=h;break}if(typeof h=="number"){u=h===1;break}if(typeof h=="string"){u=h==="1"||h.toLowerCase()==="true";break}}if(r==="lunar")try{const d=ea(i,a,o,0,0),h=`${d.getFullYear()}${qP(d.getMonth()+1)}${qP(d.getDate())}`;return{...e,birthDay:h,calendarType:"solar"}}catch{return e}return e}function H1(e){return new Date(e,6,2,12,0,0,0)}function hle(e,t){return t-e+1}function mle({data:e,list:t,onSelect:n}){const r=nn(G=>G.settings),{date:i,setFromEvent:a}=ni(),o=Ks(),l=qi(G=>G.usePrevDay),[u,d]=S.useState(()=>t);S.useEffect(()=>{t&&t.length>0&&d(t)},[t]);const h=rc(e,o),m=S.useMemo(()=>ac(e,h),[e,h]),b=S.useMemo(()=>m.getFullYear(),[m]),y=!e.birthPlace||e.birthPlace.name===""||e.birthPlace.lon===0?127.5:e.birthPlace.lon,k=S.useMemo(()=>{if(!i)return[];const G=i.getFullYear(),F=H1(G),B=ut(F,y);return[{at:F,gz:B}]},[i,y]),w=t.length>0?t:u.length>0?u:k,_=S.useMemo(()=>[...w].sort((G,F)=>G.at.getTime()-F.at.getTime()),[w]),j=S.useMemo(()=>{if(_.length===0)return 0;const G=wx(_,i);return G<0?0:G>=_.length?_.length-1:G},[_,i]),[O,T]=S.useState(null);S.useEffect(()=>{T(null)},[i,_]);const C=O??j,M=S.useMemo(()=>{const G=vT(e);return rc(G,o)},[e,o]),P=S.useMemo(()=>ac(e,M),[e,M]),I=e.mingSikType??"/",z=S.useMemo(()=>{const G=gt(P,I);return(l?io(G,-1):G).charAt(0)},[P,I,l]),K=S.useMemo(()=>r.sinsalBase===""?(l?io(gt(m,I),-1):gt(m,I)).charAt(1):ut(m,y).charAt(1),[m,I,y,r.sinsalBase,l]);return g.jsxs("div",{className:"w-full max-w-[640px] mx-auto rounded-xl bg-white dark:bg-neutral-900 border border-neutral-200 dark:border-neutral-800 overflow-hidden",children:[g.jsx("div",{className:"px-3 py-2 text-sm font-semibold tracking-wider bg-neutral-50 dark:bg-neutral-800/60 text-neutral-700 dark:text-neutral-300",children:""}),g.jsx("div",{className:"flex gap-0.5 desk:gap-1 py-2 desk:p-2 flex-row-reverse",children:_.map((G,F)=>{const B=G.at.getFullYear(),q=H1(B),X=ut(q,y),Z=X.charAt(0),Y=X.charAt(1),V=F===C,Q=Ei(Z,"stem",r.charType),se=Ei(Y,"branch",r.charType),ce=oo(Z,"stem"),W=oo(Y,"branch"),ne=r.thinEum&&ce?"font-thin":"font-bold",ie=r.thinEum&&W?"font-thin":"font-bold",he=r.showSibiUnseong?so(z,Y):null,J=r.showSibiSinsal?lo({baseBranch:K,targetBranch:Y,era:Bf(r.sinsalMode),gaehwa:!!r.sinsalBloom}):null,ae=hle(b,B);return g.jsxs("div",{onClick:()=>{T(F);const pe=H1(B),me=ut(pe,y);a({at:pe,gz:me},""),n&&(typeof queueMicrotask<"u"?queueMicrotask(()=>n(B)):Promise.resolve().then(()=>n(B)))},className:`flex-1 rounded-sm desk:rounded-lg bg-white dark:bg-neutral-900 overflow-hidden cursor-pointer ${V?"border border-yellow-500":"border border-neutral-200 dark:border-neutral-800 hover:border-yellow-500"}`,title:`${X}  ${G.at.toLocaleDateString()}  ${ae}`,children:[g.jsxs("div",{className:"desk:px-2 py-1 text-center text-[10px] bg-neutral-100 dark:bg-neutral-800/60 text-neutral-700 dark:text-neutral-200",children:[ae,""]}),g.jsx("div",{className:"desk:px-2 py-1 text-center text-[10px] bg-neutral-50 dark:bg-neutral-800/60 text-neutral-600 dark:text-neutral-300",children:B}),g.jsxs("div",{className:"p-2 flex flex-col items-center gap-1",children:[r.showSipSin&&g.jsx("div",{className:"text-[10px] text-neutral-500 dark:text-neutral-400 text-nowrap",children:Ta(z,{stem:Z})}),g.jsx("div",{className:`w-8 h-8 md:w-10 md:h-10 rounded-sm md:rounded-lg flex items-center justify-center border ${Ji(Z,"stem",r)}`,children:g.jsx("span",{className:`text-[20px] md:text-xl ${ne}`,children:Q})}),g.jsx("div",{className:`w-8 h-8 md:w-10 md:h-10 rounded-sm md:rounded-lg flex items-center justify-center border ${Ji(Y,"branch",r)}`,children:g.jsx("span",{className:`text-[20px] md:text-xl ${ie}`,children:se})}),r.showSipSin&&g.jsx("div",{className:"text-[10px] text-neutral-500 dark:text-neutral-400 text-nowrap",children:Ta(z,{branch:Y})}),(r.showSibiUnseong||r.showSibiSinsal)&&g.jsxs("div",{className:"text-[10px] text-neutral-500 dark:text-neutral-400 text-center text-nowrap",children:[r.showSibiUnseong&&he&&g.jsx("div",{children:he}),r.showSibiSinsal&&J&&g.jsx("div",{children:J})]})]})]},`${B}-${G.gz||F}`)})})]})}const ple=new Set(["","","","","","","","","","","",""]);function gle(e){const t=new Date(e.getFullYear(),e.getMonth()+1),n=t.getFullYear(),i=[...ji(new Date(n-1,5,15,12,0))??[],...ji(new Date(n,5,15,12,0))??[],...ji(new Date(n+1,5,15,12,0))??[]].map(u=>({name:String(u.name),date:new Date(u.date)})).sort((u,d)=>u.date.getTime()-d.date.getTime()).filter(u=>ple.has(u.name));let a=i.findIndex((u,d)=>i[d].date<=t&&t<i[d+1]?.date);a<0&&(a=0);const o=i[a],l=i[a+1];return{start:new Date(o.date.getFullYear(),o.date.getMonth(),o.date.getDate(),0,0,0,0),end:new Date(l.date.getFullYear(),l.date.getMonth(),l.date.getDate(),0,0,0,0),cur:o,next:l}}const ble=new Set(["","","","","","","","","","","",""]);function yle(e){return new Date(e.getFullYear(),e.getMonth(),e.getDate(),23,59,0,0)}function vle(e){const t=new Intl.DateTimeFormat("ko-KR",{timeZone:"Asia/Seoul",month:"numeric"}).formatToParts(e);return Number(t.find(n=>n.type==="month")?.value??e.getMonth()+1)}function G1(e){return new Date(e,5,15,12,0,0,0)}function xle(e){const n=[...ji(G1(e-1))??[],...ji(G1(e))??[],...ji(G1(e+1))??[]].map(l=>({name:String(l.name),date:new Date(l.date)})).sort((l,u)=>l.date.getTime()-u.date.getTime()).filter(l=>ble.has(l.name)),r=new Date(e,0,1,0,0,0,0),i=new Date(e+1,0,1,0,0,0,0),a=n.findIndex(l=>l.name===""&&l.date>=r&&l.date<i);if(a===-1)return[];const o=[];for(let l=0;l<12;l++){const u=n[a+l];if(!u)break;const d=new Date(u.date),h=yle(d);o.push({name:u.name,termAt:d,at00:h})}return o}function wle({data:e,activeYear:t,onSelect:n,onSelectMonth:r}){const i=nn(T=>T.settings),a=Ks(),o=qi(T=>T.usePrevDay),l=!e.birthPlace||e.birthPlace.name===""||e.birthPlace.lon===0?127.5:e.birthPlace.lon,u=rc(e,a),d=S.useMemo(()=>ac(e,u),[e,u]),h=S.useMemo(()=>{const T=vT(e);return rc(T,a)},[e,a]),m=S.useMemo(()=>ac(e,h),[e,h]),b=e.mingSikType??"/",y=S.useMemo(()=>{const T=gt(m,b);return(o?io(T,-1):T).charAt(0)},[m,b,o]),k=i.sinsalBase===""?(o?io(gt(d,b),-1):gt(d,b)).charAt(1):ut(d,l).charAt(1),w=S.useMemo(()=>t?xle(t).map(C=>{const M=C.termAt,P=new Date(C.termAt.getTime()+1860*1e3),I=Ot(P,l);return{at:M,gz:I,term:C.name,termAt:C.termAt}}):[],[t,l]),{date:_,setFromEvent:j}=ni(),O=wx(w,_);return g.jsxs("div",{className:"w-full max-w-[640px] mx-auto rounded-xl bg-white dark:bg-neutral-900 border border-neutral-200 dark:border-neutral-800 overflow-hidden",children:[g.jsx("div",{className:"px-3 py-2 text-sm font-semibold tracking-wider bg-neutral-50 dark:bg-neutral-800/60 text-neutral-700 dark:text-neutral-300",children:""}),g.jsx("div",{className:"flex gap-0.5 desk:gap-1 py-2 desk:p-2 flex-row-reverse",children:w.map((T,C)=>{const M=T.gz.charAt(0),P=T.gz.charAt(1),I=`${vle(T.at)}`,z=C===O,K=Ei(M,"stem",i.charType),G=Ei(P,"branch",i.charType),F=oo(M,"stem"),B=oo(P,"branch"),q=i.thinEum&&F?"font-thin":"font-bold",X=i.thinEum&&B?"font-thin":"font-bold",Z=i.showSibiUnseong?so(y,P):null,Y=i.showSibiSinsal?lo({baseBranch:k,targetBranch:P,era:Bf(i.sinsalMode),gaehwa:!!i.sinsalBloom}):null;return g.jsxs("div",{onClick:()=>{r(T.at);const V=new Date(T.at),{start:Q}=gle(V);n?.(Q.getFullYear(),Q.getMonth()),j({at:V,gz:Ot(V,l)},"")},className:`flex-1 rounded-sm desk:rounded-lg bg-white dark:bg-neutral-900 overflow-hidden cursor-pointer ${z?"border border-yellow-500":"border border-neutral-200 dark:border-neutral-800 hover:border-yellow-500"}`,title:`${T.term}   ${T.gz}  ${T.termAt.toLocaleString()}`,children:[g.jsx("div",{className:"desk:px-2 py-1 text-center text-[10px] bg-neutral-50 dark:bg-neutral-800/60 text-neutral-600 dark:text-neutral-300",children:I}),g.jsxs("div",{className:"p-2 flex flex-col items-center gap-1",children:[i.showSipSin&&g.jsx("div",{className:"text-[10px] text-neutral-500 dark:text-neutral-400 text-nowrap",children:Ta(y,{stem:M})}),g.jsx("div",{className:`w-7 h-7 sm:w-8 sm:h-8 md:w-10 md:h-10 rounded-sm md:rounded-lg flex items-center justify-center border border-neutral-200 dark:border-neutral-800 ${Ji(M,"stem",i)}`,children:g.jsx("span",{className:`text-base md:text-xl ${q}`,children:K})}),g.jsx("div",{className:`w-7 h-7 sm:w-8 sm:h-8 md:w-10 md:h-10 rounded-sm md:rounded-lg flex items-center justify-center border border-neutral-200 dark:border-neutral-800 ${Ji(P,"branch",i)}`,children:g.jsx("span",{className:`text-base md:text-xl ${X}`,children:G})}),i.showSipSin&&g.jsx("div",{className:"text-[10px] text-neutral-500 dark:text-neutral-400 text-nowrap",children:Ta(y,{branch:P})}),(i.showSibiUnseong||i.showSibiSinsal)&&g.jsxs("div",{className:"text-[10px] text-neutral-500 dark:text-neutral-400 text-center text-nowrap",children:[i.showSibiUnseong&&Z&&g.jsx("div",{children:Z}),i.showSibiSinsal&&Y&&g.jsx("div",{children:Y})]}),g.jsx("div",{className:"text-[10px] text-neutral-400 dark:text-neutral-500 text-nowrap",children:T.term})]})]},`${T.term}-${T.at.toISOString()}`)})})]})}function _le(){const e=nn(r=>r.settings),{date:t,setFromEvent:n}=ni();return{settings:e,pickedDate:t,setFromEvent:n}}const Sle=(e,t)=>new Date(e,t,15,12,0,0,0),zE=e=>{const t=new Date(e);return t.setHours(23,59,0,0),t},kle=new Set(["","","","","","","","","","","",""]),I7=e=>[...ji(new Date(e-1,5,15,12,0))??[],...ji(new Date(e,5,15,12,0))??[],...ji(new Date(e+1,5,15,12,0))??[]].map(n=>({name:String(n.name),date:new Date(n.date)})).sort((n,r)=>n.date.getTime()-r.date.getTime()),Ele=e=>{const t=I7(e.getFullYear()),n=t.filter(o=>kle.has(o.name));if(n.length<12){const o=t.findIndex(d=>d.date>e),l=t[Math.max(0,o-1)],u=t[Math.min(t.length-1,o)];return{start:new Date(l.date),end:new Date(u.date),cur:l,next:u}}let r=n.findIndex(o=>o.date>e)-1;r<0&&(r=n.length-1);const i=n[r],a=n[(r+1)%n.length];return{start:new Date(i.date),end:new Date(a.date),cur:i,next:a}},jle=e=>{if(!e)return null;const t=new Intl.DateTimeFormat("ko-KR",{timeZone:"Asia/Seoul",month:"numeric",day:"numeric",hour:"2-digit",minute:"2-digit",hour12:!1}).formatToParts(e);let n="",r="",i="",a="";for(const o of t)o.type==="month"&&(n=o.value),o.type==="day"&&(r=o.value),o.type==="hour"&&(i=o.value),o.type==="minute"&&(a=o.value);return`${n}/${r} ${i}:${a}`};function Tle({data:e,year:t,month:n,selectedMonth:r,dstOffsetMinutes:i=0,settings:a,pickedDate:o}){const l=qi(B=>B.usePrevDay),u=a.ilunRule||"/",d=e.mingSikType??"/",h=S.useMemo(()=>{const B=vT(e);return rc(B,i)},[e,i]),m=S.useMemo(()=>ac(e,h),[e,h]),b=S.useMemo(()=>{if(!m)return;const B=gt(m,d);return(l?io(B,-1):B).charAt(0)},[m,d,l]),y=S.useMemo(()=>e?rc(e,i):null,[e,i]),k=S.useMemo(()=>e&&y?ac(e,y):null,[e,y]),w=e&&e.birthPlace&&e.birthPlace.name!==""&&e.birthPlace.lon!==0?e.birthPlace.lon:127.5,_=e&&k?a.sinsalBase===""?(l?io(gt(k,d),-1):gt(k,d)).charAt(1):ut(k,w).charAt(1):null,j=S.useMemo(()=>Sle(t,n),[t,n]),O=S.useMemo(()=>o?zE(new Date(o)):null,[o]),T=S.useMemo(()=>r?zE(r):null,[r]),C=S.useMemo(()=>O??T??j,[O,T,j]),{start:M,end:P,cur:I,next:z}=S.useMemo(()=>Ele(C),[C]),K=S.useMemo(()=>{const B=[],q=new Date(M);for(;q<P;)B.push(new Date(q)),q.setDate(q.getDate()+1);return B},[M,P]),G=S.useMemo(()=>{const B=I7(C.getFullYear()),q=B.filter(Z=>Z.date>=M&&Z.date<P),X=B.find(Z=>Z.date>=P);return X?[...q,X]:q},[C,M,P]),F=S.useMemo(()=>{const B=[];let q=[];const X=new Date(M).getDay();for(let Z=0;Z<X;Z+=1)q.push(null);for(const Z of K)q.length===7&&(B.push(q),q=[]),q.push(Z);for(;q.length<7;)q.push(null);return B.push(q),B},[K,M]);return{rule:u,dayStem:b,baseBranch:_,pickerNoon:O,termMarks:G,weeks:F,cur:I??null,next:z??null}}function Ale({setFromEvent:e}){return{handleDayClick:S.useCallback(n=>{e({at:n},"")},[e])}}function Nle({data:e,year:t,month:n,selectedMonth:r}){const i=Ks(),a=_le(),o=Tle({data:e,year:t,month:n,selectedMonth:r,dstOffsetMinutes:i,settings:a.settings,pickedDate:a.pickedDate}),l=Ale({setFromEvent:a.setFromEvent});return g.jsxs("div",{className:"w-full max-w-[800px] mx-auto mb-4 rounded-xl bg-white dark:bg-neutral-900 border border-neutral-200 dark:border-neutral-800 overflow-hidden",children:[g.jsx("div",{className:"flex justify-center items-center px-2 desk:px-4 py-2 bg-neutral-50 dark:bg-neutral-800/60",children:g.jsxs("div",{className:"text-center text-[11px] desk:text-sm font-semibold text-neutral-700 dark:text-neutral-200",children:[o.cur?.name?g.jsxs(g.Fragment,{children:[o.cur.name," "," ~ ",o.next?.name??""]}):`${t} ${n}`,o.termMarks.length>0&&g.jsxs("div",{className:"mt-0.5 text-[10px] desk:text-xs font-normal text-neutral-500 dark:text-neutral-400",children:["[",o.termMarks.map((u,d)=>g.jsxs("span",{children:[u.name," ",jle(u.date),d<o.termMarks.length-1?"  ":""]},`${u.name}_${u.date.getTime()}_${d}`)),"]"]})]})}),g.jsx("div",{className:"grid grid-cols-7 text-center text-xs bg-neutral-100 dark:bg-neutral-800 text-neutral-600 dark:text-neutral-300",children:["","","","","","",""].map(u=>g.jsx("div",{className:"py-1",children:u},u))}),g.jsx("div",{className:"grid grid-cols-7 gap-px bg-neutral-200 dark:bg-neutral-800",children:o.weeks.map((u,d)=>u.map((h,m)=>{if(!h)return g.jsx("div",{className:"bg-white dark:bg-neutral-900 border border-neutral-200 dark:border-neutral-800"},`${d}-${m}`);const b=zE(h),y=new Date(h.getFullYear(),h.getMonth(),h.getDate(),0,0,0,0),k=new Date,w=b.getFullYear()===k.getFullYear()&&b.getMonth()===k.getMonth()&&b.getDate()===k.getDate(),j=!!o.pickerNoon&&b.getFullYear()===o.pickerNoon.getFullYear()&&b.getMonth()===o.pickerNoon.getMonth()&&b.getDate()===o.pickerNoon.getDate()||!o.pickerNoon&&w,O=i!==0?new Date(y.getTime()+i*60*1e3):y,T=MW(O,o.rule),C=T.charAt(0),M=T.charAt(1),P=Ei(C,"stem",a.settings.charType),I=Ei(M,"branch",a.settings.charType),z=a.settings.thinEum&&oo(C,"stem")?"font-thin":"font-bold",K=a.settings.thinEum&&oo(M,"branch")?"font-thin":"font-bold",G=!!o.dayStem&&a.settings.showSipSin,F=!!o.dayStem&&a.settings.showSibiUnseong,B=!!o.dayStem&&o.baseBranch!=null&&a.settings.showSibiSinsal,q=G?Ta(o.dayStem,{stem:C}):"",X=G?Ta(o.dayStem,{branch:M}):"",Z=F?so(o.dayStem,M):"",Y=B?lo({baseBranch:o.baseBranch,targetBranch:M,era:Bf(a.settings.sinsalMode),gaehwa:!!a.settings.sinsalBloom}):"",V=o.termMarks.find(Q=>Q.date.getFullYear()===b.getFullYear()&&Q.date.getMonth()===b.getMonth()&&Q.date.getDate()===b.getDate());return g.jsxs("div",{onClick:()=>l.handleDayClick(y),className:`space-y-1 bg-white dark:bg-neutral-900 flex flex-col items-center justify-start p-1 text-xs border cursor-pointer ${j?"border-yellow-500":"border-neutral-200 dark:border-neutral-800"}`,title:`${T} (${b.toLocaleDateString()})`,children:[g.jsxs("div",{className:"text-neutral-600 dark:text-neutral-400 flex items-center gap-1",children:[g.jsx("span",{children:b.getDate()}),V&&g.jsx("span",{className:"text-[10px] text-nowrap px-1 rounded bg-amber-100 text-amber-700 dark:bg-amber-900/40 dark:text-amber-200",children:V.name})]}),G&&g.jsx("div",{className:"text-[10px] text-neutral-500 dark:text-neutral-400",children:q}),g.jsx("div",{className:`w-8 h-8 rounded flex items-center justify-center text-base ${Ji(C,"stem",a.settings)}`,children:g.jsx("span",{className:z,children:P})}),g.jsx("div",{className:`w-8 h-8 rounded flex items-center justify-center text-base ${Ji(M,"branch",a.settings)}`,children:g.jsx("span",{className:K,children:I})}),G&&g.jsx("div",{className:"text-[10px] text-neutral-500 dark:text-neutral-400",children:X}),(F||B)&&g.jsxs("div",{className:"text-[10px] text-neutral-500 dark:text-neutral-400 text-center space-y-0.5",children:[F&&Z&&g.jsx("div",{children:Z}),B&&Y&&g.jsx("div",{children:Y})]})]},h.toISOString())}))})]})}function KP(e,t){const n=e.startYear??e.at.getFullYear(),r=t?t.startYear??t.at.getFullYear():n+10,i=[];for(let a=n;a<r;a++){const o=bn(a,315),l=ut(new Date(a,1,10));i.push({at:o,gz:l})}return i}function Ole({data:e}){const t=Ks(),n=dc(e,e.mingSikType,100,t),[r,i]=S.useState(null),[a,o]=S.useState(null),[l,u]=S.useState("il"),[d,h]=S.useState(null);S.useEffect(()=>{if(!n.length)return;const _=new Date,j=n.findIndex((O,T)=>{const C=n[T+1]?.at;return _>=O.at&&(!C||_<C)});j!==-1&&i(j)},[n]);const m=_=>_<=0&&n.length>1?1:_;S.useEffect(()=>{if(r===null)return;const _=m(r),j=n[_],O=n[_+1];if(!j)return;const T=KP(j,O);if(!Array.isArray(T)||T.length===0)return;const C=T.filter(z=>!!z&&z.at instanceof Date&&!Number.isNaN(z.at.getTime()));if(!C.length)return;const M=new Date,P=M.getTime();C.findIndex((z,K)=>{const G=C[K+1]?.at,F=z.at.getTime(),B=G?G.getTime():null;return P>=F&&(B===null||P<B)})!==-1&&o({year:M.getFullYear(),month:M.getMonth()})},[r,n]);const b=yx(e,void 0,void 0,{dstOffsetMinutes:t}),{date:y}=ni(),k=y.getMonth()+1===1?y.getFullYear()-1:y.getFullYear(),w=S.useMemo(()=>{if(!b?.dae?.gz)return[];const _=n.findIndex((M,P)=>{const I=n[P+1]?.at;return b.dae.at>=M.at&&(!I||b.dae.at<I)});if(_===-1)return[];const j=m(_),O=n[j],T=n[j+1],C=KP(O,T);return Array.isArray(C)?C.filter(M=>!!M&&M.at instanceof Date&&!Number.isNaN(M.at.getTime())):[]},[n,b?.dae]);return g.jsxs("div",{className:"w-full space-y-4",children:[g.jsx(ule,{data:e}),l==="se"||l==="wol"||l==="il"?g.jsx(mle,{data:e,list:w,onSelect:()=>{u("wol")}}):null,l==="wol"||l==="il"?g.jsx(wle,{data:e,activeYear:k,onSelect:(_,j)=>{o({year:_,month:j}),u("il")},onSelectMonth:h}):null,l==="il"&&a&&g.jsx(Nle,{data:e,year:a.year,month:a.month+1,selectedMonth:d})]})}const Cle=new Set(xW),Mle=new Set(wW);function WP(e){return typeof e=="string"&&e.length>=2&&Cle.has(e[0])&&Mle.has(e[1])}function Bi(e,...t){if(WP(e))return e;for(const n of t)if(WP(n))return n;return""}const Dle={:0,:2,:4,:6,:8,:10,:12,:14,:16,:18,:20,:22};function ob(e,t){let n=null;const r=t.getTime();for(const i of e)if(i.at.getTime()<=r)n=i;else break;return n}function Ple({data:e}){const t=nn(q=>q.settings),{manualHour:n}=qi(),{showSibiUnseong:r,showSibiSinsal:i,sinsalBase:a,sinsalMode:o,sinsalBloom:l}=t,{date:u}=ni(),d=Ks(),h=e.mingSikType??"/",m=e.DayChangeRule??(e.mingSikType===""?"":""),b=S.useMemo(()=>If(e),[e]),y=S.useMemo(()=>bx(b,{dstOffsetMinutes:d}),[b,d]),k=S.useMemo(()=>iT(b,h,{dstOffsetMinutes:d}),[b,d,h]),w=S.useMemo(()=>ax(k.day?.charAt(0)??""),[k.day]),_=!e.birthTime||e.birthTime==="",j=S.useMemo(()=>l7(y,k.hour,e.dir??"forward",120),[y,k.hour,e.dir]),O=S.useMemo(()=>u7(j,k.day,e.dir??"forward",m),[j,k.day,e.dir,m]),T=S.useMemo(()=>Bp(y,k.month,e.dir??"forward",120,b.birthPlace?.lon??127.5),[y,k.month,e.dir,b.birthPlace?.lon]),C=S.useMemo(()=>d7(T,k.year,e.dir??"forward",m,y),[T,k.year,e.dir,y,m]),M=S.useMemo(()=>{const q=j?.events?.[0];return q?{at:q.at,from:Bi(k.hour),to:Bi(q.gz)}:null},[j?.events,k.hour]),P=S.useMemo(()=>{const q=T?.events?.[0];return T?.firstChange?{at:T.firstChange,from:Bi(k.month),to:Bi(q?.gz??k.month)}:null},[T?.firstChange,T?.events,k.month]),I=S.useMemo(()=>{const q=_?n?n.stem+n.branch:"":Bi(ob(j.events,u)?.gz,k.hour);let X;if(_&&n){const Z=u.getFullYear(),Y=u.getMonth(),V=u.getDate(),Q=Dle[n.branch]??0,se=new Date(Z,Y,V,Q,0),ce=gt(se,h);X=Bi(ce,k.day)}else X=Bi(ob(O.events,u)?.gz,k.day);return{si:q,il:X,wl:Bi(ob(T.events,u)?.gz,k.month),yn:Bi(ob(C.events,u)?.gz,k.year)}},[u,j.events,O.events,T.events,C.events,k,_,n,h]),z=S.useMemo(()=>({si:Bi(ao(u,h)),il:Bi(gt(u,h)),wl:Bi(Ot(u)),yn:Bi(ut(u))}),[u,h]),K=S.useMemo(()=>a===""?k.day.charAt(1):k.year.charAt(1),[a,k.day,k.year]),G=S.useMemo(()=>Bf(o),[o]),F=q=>{if(!q)return{unseong:"",shinsal:""};const X=Ei(w,"stem",""),Z=Ei(q.charAt(1),"branch",""),Y=Ei(K,"branch","");return{unseong:r&&so(X,Z)||"",shinsal:i&&lo({baseBranch:Y,targetBranch:Z,era:G,gaehwa:!!l})||""}},B=(q,X,Z="myoun")=>{const Y=X,{unseong:V,shinsal:Q}=X?F(X):{unseong:"",shinsal:""},se=Z==="myoun"&&_&&(q===""||q==="");return g.jsx(qd,{label:q,gz:Y,dayStem:w,settings:t,unseongText:X?V:"",shinsalText:X?Q:"",hideBranchSipSin:!0,size:"sm",isUnknownTime:se},`${Z}-${q}`)};return g.jsxs("div",{className:"w-full max-w-[640px] mx-auto mb-4 px-2 py-4 desk:p-4 bg-white dark:bg-neutral-950 text-neutral-900 dark:text-neutral-100 rounded-xl shadow border border-neutral-200 dark:border-neutral-800",children:[g.jsx("header",{className:"flex flex-wrap items-center gap-3 justify-between mb-4",children:g.jsxs("div",{className:"font-semibold text-xs desk:text-sm",children:[" +   "," ",g.jsxs("span",{className:"text-neutral-500 dark:text-neutral-400",children:["(: ",Um(y),")"]})]})}),g.jsxs("div",{className:"grid grid-cols-2 gap-2 desk:gap-4 mb-6",children:[g.jsxs("div",{children:[g.jsx("label",{className:"block text-xs mb-2 text-neutral-600 dark:text-neutral-300",children:""}),g.jsxs("div",{className:"grid grid-cols-4 gap-1 desk:gap-2",children:[B("",I.si,"myoun"),B("",I.il,"myoun"),B("",I.wl,"myoun"),B("",I.yn,"myoun")]})]}),g.jsxs("div",{children:[g.jsx("label",{className:"block text-xs mb-2 text-neutral-600 dark:text-neutral-300",children:" "}),g.jsxs("div",{className:"grid grid-cols-4 gap-1 desk:gap-2",children:[B("",z.si,"live"),B("",z.il,"live"),B("",z.wl,"live"),B("",z.yn,"live")]})]})]}),g.jsxs("div",{className:"mt-4 text-xs text-neutral-700 dark:text-neutral-300 space-y-1",children:[g.jsx("div",{className:"font-semibold",children:"  "}),g.jsxs("div",{children:[":"," ",M?`${Um(M.at)} (${M.from}  ${M.to})`:" "]}),g.jsxs("div",{children:[":"," ",P?`${Um(P.at)} (${P.from}  ${P.to})`:" "]})]})]})}const Rle=["","","","","","","","","",""],Lle={:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},Ile={:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},$7={:"",:"",:"",:"",:""},B7={:"",:"",:"",:"",:""},z7={:"",:"",:"",:"",:""};function $le(e,t){switch(e){case"":return t;case"":return $7[t];case"":return B7[t];case"":return z7[t];case"":return U7[t];default:return t}}const U7={:"",:"",:"",:"",:""};function Ble(e,t){const n=Math.max(0,Math.round(t));if(e.length===0)return[];const r=e[0],i=e[1]??[r[0],0],a=Math.max(0,Number(r[1]??0)),o=Math.max(0,Number(i[1]??0)),l=a+o;if(n<=0)return[[r[0],0],[i[0],0]];if(l<=0)return[[r[0],n],[i[0],0]];const u=a/l*n,d=o/l*n;let h=Math.floor(u),m=Math.floor(d),b=n-(h+m);return b>0&&(u-h>=d-m?h+=1:m+=1,b-=1),b>0&&(h+=b),[[r[0],h],[i[0],m]]}function zle({data:e,perStemElementScaled:t,dayStem:n,yongshinTop:r,yongshinKind:i,width:a=340,height:o=360}){const l=a/2,u=o/2-20,d=Math.min(a,o)*.33,h=S.useMemo(()=>{const w=(n??"").charAt(0);return Ile[w]??null},[n]),m=S.useMemo(()=>e.map((w,_)=>{const j=Math.PI/2+2*-Math.PI*_/5;return{...w,angle:j,x:l+d*Math.cos(j),y:u-d*Math.sin(j)}}),[e,l,u,d]),b=w=>w?w.includes("")?"":w.includes("")?"":w.includes("")?"":w.includes("")?"":w.includes("")?"":null:null,y=(w,_)=>_===w?"":$7[w]===_?"":B7[w]===_?"":z7[w]===_?"":U7[w]===_?"":"",k=S.useMemo(()=>{if(!e||e.length===0)return null;const w=[...e].sort((P,I)=>I.value-P.value),_=w[0],O=w[w.length-1]?.name??"",T=b(r),C=h&&T?y(h,T):O;return{summary:i==="GYEOKGUK"?`${_.name}   ,    ${_.name}  .`:`${_.name}   ,  ${C}     .`,advice:_.value>45?`${_.name}         .`:"       ."}},[e,h,r,i]);return g.jsxs("div",{className:"w-full flex flex-col items-center p-6 bg-white dark:bg-neutral-900 rounded-[2.5rem] border border-neutral-100 dark:border-neutral-800 shadow-xl tracking-tighter transition-colors",children:[g.jsx("div",{className:"text-center mb-4",children:g.jsxs("h3",{className:"text-lg font-black text-neutral-800 dark:text-neutral-100",children:[n,"  "]})}),g.jsxs("svg",{width:a,height:o,className:"overflow-visible",children:[g.jsx("defs",{children:g.jsx("marker",{id:"arrow",markerWidth:"10",markerHeight:"7",refX:"9",refY:"3.5",orient:"auto",children:g.jsx("path",{d:"M0,0 L10,3.5 L0,7 Z",fill:"#94a3b8",opacity:"0.4"})})}),m.map((w,_)=>{const j=m[(_+2)%5];return g.jsx("line",{x1:w.x,y1:w.y,x2:j.x,y2:j.y,stroke:"currentColor",className:"text-neutral-200 dark:text-neutral-800",strokeWidth:1.5,strokeDasharray:"4 4"},`line-ke-${_}`)}),m.map((w,_)=>{const j=m[(_+1)%5],O=(w.x+j.x)/2,T=(w.y+j.y)/2,C=O-l,M=T-u,P=l+C*1.45,I=u+M*1.45;return g.jsx("path",{d:`M${w.x},${w.y} Q${P},${I} ${j.x},${j.y}`,stroke:"#94a3b8",strokeWidth:2,strokeOpacity:.25,fill:"none",markerEnd:"url(#arrow)"},`path-sheng-${_}`)}),m.map(w=>{const _=w.name,j=h?$le(_,h):null,O=j?Rle.filter(C=>Lle[C]===j).map(C=>[C,t?.[C]??0]):[],T=Ble(O,w.value);return g.jsxs("g",{transform:`translate(${w.x},${w.y})`,children:[g.jsx("circle",{r:40,fill:w.color,className:"stroke-white/20 dark:stroke-black/20",strokeWidth:1}),g.jsx("circle",{r:40,fill:"black",opacity:.05}),g.jsx("text",{textAnchor:"middle",dy:"-5",fontSize:15,className:"fill-white font-black",children:w.name}),g.jsxs("text",{textAnchor:"middle",dy:"15",fontSize:13,className:"fill-white/90 font-bold",children:[w.value,"%"]}),g.jsx("g",{transform:"translate(0, 48)",children:T.map(([C,M],P)=>{const I=C.charAt(0),z=Math.round(M),K=z===0;return g.jsxs("g",{transform:`translate(${(P===0?-1:1)*25}, 0)`,children:[g.jsx("rect",{x:"-21",y:"0",width:"42",height:"21",rx:"10.5",fill:K?"rgba(0,0,0,0.1)":"rgba(0,0,0,0.3)"}),g.jsxs("text",{textAnchor:"middle",y:"14.5",fontSize:12,className:`font-black ${K?"fill-neutral-400 dark:fill-neutral-500":"fill-white"}`,children:[g.jsx("tspan",{children:I}),g.jsx("tspan",{dx:"1",children:z})]})]},C)})})]},w.name)})]}),k&&g.jsxs("div",{className:"w-full mt-6 space-y-3",children:[g.jsx("div",{className:"p-4 bg-neutral-50 dark:bg-neutral-800/40 rounded-2xl border border-neutral-100 dark:border-neutral-800 text-center",children:g.jsx("p",{className:"text-[12px] text-neutral-700 dark:text-neutral-300 font-bold",children:k.summary})}),g.jsx("div",{className:"px-4 py-3 bg-blue-50/50 dark:bg-blue-900/10 rounded-2xl border border-blue-100/30 text-center",children:g.jsxs("p",{className:"text-[11.5px] text-blue-700 dark:text-blue-300 font-bold",children:[" ",k.advice]})})]})]})}const Ule=[{name:"",min:0,max:10},{name:"",min:10,max:20},{name:"",min:20,max:35},{name:"",min:35,max:45},{name:"",min:45,max:55},{name:"",min:55,max:65},{name:"",min:65,max:80},{name:"",min:80,max:100.0001}];function xT(e){return Math.max(0,Math.min(100,e))}function F7(e){const t=xT(e);return Ule.find(r=>t>=r.min&&t<r.max)?.name??""}const Fle=[10,20,35,45,55,65,80];function Hle({value:e,deukFlags:t,strongestOpponent:n}){const[r,i]=S.useState(!1),a=S.useMemo(()=>xT(e),[e]),o=S.useMemo(()=>F7(a),[a]);S.useEffect(()=>{i(!0)},[]);const l=S.useMemo(()=>a>=80?{tag:"",desc:"      .",advice:"  () ()   ."}:a>=55?{tag:"",desc:"      .",advice:"      ."}:a>=45?{tag:"",desc:"        .",advice:"      ."}:a>=20?{tag:"",desc:"       .",advice:"() ()       ."}:{tag:"",desc:"       .",advice:"        ."},[a]),u=S.useMemo(()=>{if(!t)return null;const d=a>=50,h=[];if(d){h.push("      ,");const m=[];t.&&m.push("()"),t.&&m.push("()"),t.&&m.push(""),m.length>0?h.push(`${m.join("")}    .`):h.push("   .")}else{const m=n||"";h.push(`${m}  `),t.||h.push(","),t.||h.push(""),h.push("   .")}return h.join(" ").replace(" ,",",")},[a,t,n]);return g.jsxs("div",{className:"w-full p-6 bg-white dark:bg-neutral-900 rounded-3xl shadow-lg border border-neutral-100 dark:border-neutral-800",children:[g.jsxs("div",{className:"flex justify-between items-end mb-6",children:[g.jsxs("div",{children:[g.jsx("h3",{className:"text-lg font-bold text-neutral-800 dark:text-neutral-100 leading-tight",children:"    "}),g.jsx("p",{className:"text-[10px] text-neutral-400 uppercase tracking-tighter",children:"  "})]}),g.jsxs("div",{className:"flex items-baseline gap-1",children:[g.jsx("span",{className:"text-2xl font-black text-neutral-800 dark:text-white",children:a.toFixed(0)}),g.jsx("span",{className:"text-xs font-bold text-neutral-500",children:"%"})]})]}),g.jsxs("div",{className:"relative mb-8 pt-4",children:[g.jsxs("div",{className:"flex justify-between text-[10px] font-bold text-neutral-400 mb-2 px-1",children:[g.jsx("span",{children:""}),g.jsx("span",{className:"translate-x-1",children:""}),g.jsx("span",{children:""})]}),g.jsxs("div",{className:"relative h-3 rounded-full bg-neutral-100 dark:bg-neutral-800 overflow-visible shadow-inner",children:[g.jsx("div",{className:"absolute inset-0 rounded-full bg-gradient-to-r from-blue-400 via-emerald-400 via-yellow-400 to-red-500 opacity-80"}),Fle.map(d=>g.jsx("div",{className:"absolute top-0 h-3 w-[1.5px] bg-white/30 dark:bg-black/20",style:{left:`${d}%`}},d)),g.jsx("div",{className:"absolute left-1/2 top-0 w-0.5 h-3 bg-white/50 -translate-x-1/2 z-10"}),g.jsx("div",{className:"absolute -top-1.5 h-6 w-3 bg-white dark:bg-neutral-100 rounded-full shadow-[0_2px_8px_rgba(0,0,0,0.3)] border-2 border-neutral-800 dark:border-white z-20 transition-all duration-1000 ease-out",style:{left:r?`${a}%`:"50%",transform:"translateX(-50%)"},children:g.jsx("div",{className:"w-full h-full flex items-center justify-center",children:g.jsx("div",{className:"w-1 h-2 bg-neutral-300 rounded-full"})})})]})]}),g.jsxs("div",{className:"space-y-3",children:[g.jsxs("div",{className:"flex items-center gap-3",children:[g.jsxs("div",{className:`px-3 py-1 rounded-full text-[11px] font-black border-2 ${a>=55?"border-red-500/20 bg-red-50 text-red-600":a>=45?"border-emerald-500/20 bg-emerald-50 text-emerald-600":"border-blue-500/20 bg-blue-50 text-blue-600"}`,children:[l.tag," (",o,")"]}),g.jsx("div",{className:"h-[1px] flex-1 bg-neutral-100 dark:bg-neutral-800"})]}),g.jsxs("div",{className:"px-1",children:[g.jsx("p",{className:"text-[12px] text-neutral-700 dark:text-neutral-300 font-bold leading-snug mb-1",children:l.desc}),g.jsxs("p",{className:"text-[11px] text-neutral-500 dark:text-neutral-400 leading-relaxed italic",children:[" ",l.advice]})]}),u&&g.jsx("div",{className:"mt-3 pt-3 border-t border-neutral-100 dark:border-neutral-800",children:g.jsxs("p",{className:"text-[11px] text-neutral-600 dark:text-neutral-400 leading-relaxed",children:[g.jsx("span",{className:"font-bold text-neutral-500 mr-1",children:":"}),u]})})]})]})}const VP={year:{stem:10,branch:10},month:{stem:15,branch:30},day:{stem:25,branch:25},hour:{stem:15,branch:15}},Gle=["year","month","day","hour"],Yle=new Set(["","","","",""]),sb=new Set(["","","","",""]),ZP={:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},qle={:5,:7,:5,:-5,:-7,:-5};function Kle({natal:e,perStemElementScaled:t}){const[n,r]=S.useState(!1);S.useEffect(()=>{const b=setTimeout(()=>r(!0),100);return()=>clearTimeout(b)},[e]);const i=S.useMemo(()=>{if(!t||!e||e.length<4)return null;let b=0,y=0;Object.entries(t).forEach(([q,X])=>{sb.has(q.charAt(0))?b+=X:y+=X});const k=b+y>0?(b-y)/(b+y):0;let w=0,_=0,j=0,O=0;e.forEach(q=>{[q[0],ZP[q[1]]].forEach(X=>{X&&(Yle.has(X)?w+=1:_+=1,sb.has(X)?j+=1:O+=1)})});const T=w+_>0?(w-_)/(w+_):0,C=j+O>0?(j-O)/(j+O):0;let M=0,P=0;e.forEach((q,X)=>{const Z=Gle[X],Y=VP[Z].stem,V=VP[Z].branch;sb.has(q[0])?M+=Y:P+=Y;const Q=ZP[q[1]];Q&&sb.has(Q)?M+=V:P+=V});const I=M+P>0?(M-P)/(M+P):0,z=e[1]?.charAt(1),K=(qle[z]||0)/100,G=T*.3+C*.3+k*.2+I*.2+K,F=(Math.min(1,Math.max(-1,G))+1)*50,B=100-Math.abs(F-50)*2;return{yang:F,yin:100-F,essencePos:(T+1)*50,naturePos:(C+1)*50,harmony:B,category:F>=55?"":F<=45?"":""}},[e,t]),a=S.useMemo(()=>{if(!i)return null;const{yang:b,essencePos:y,naturePos:k,category:w,harmony:_}=i,j=Math.abs(y-k);let O="";w===""?O="              .":w===""?O=b>75?"    .       .":"         .":O=b<25?"    .         .":"   .         .";let T="";j<15?T="     .      .":j<40?T="       .    .":T="        .      .";let C="";return _>85?C="    .   .":w===""?C="         .":C="          .",{natureDetail:O,consistencyDetail:T,advice:C}},[i]);if(!i||!a)return null;const{yang:o,yin:l,essencePos:u,naturePos:d,harmony:h,category:m}=i;return g.jsxs("div",{className:"w-full p-6 bg-white dark:bg-neutral-900 rounded-3xl shadow-xl border border-neutral-100 dark:border-neutral-800",children:[g.jsxs("div",{className:"flex justify-between items-start mb-10",children:[g.jsx("div",{children:g.jsx("h3",{className:"text-lg font-bold text-neutral-800 dark:text-neutral-100 leading-tight",children:"   "})}),g.jsxs("div",{className:"bg-emerald-50 dark:bg-emerald-900/20 px-3 py-1.5 rounded-xl text-center border border-emerald-100 dark:border-emerald-800/50",children:[g.jsx("div",{className:"text-[9px] font-bold text-emerald-600 mb-0.5 uppercase",children:""}),g.jsxs("div",{className:"text-base font-black text-emerald-500 leading-none",children:[h.toFixed(0),"%"]})]})]}),g.jsxs("div",{className:"relative mb-14",children:[n&&g.jsxs("div",{className:"absolute -top-8 transition-all duration-1000 ease-out flex flex-col items-center",style:{left:`${u}%`,transform:"translateX(-50%)"},children:[g.jsx("span",{className:"text-[10px] font-bold text-blue-500 mb-1",children:""}),g.jsx("div",{className:"w-[1.5px] h-3 bg-blue-500/40 rounded-full"})]}),g.jsxs("div",{className:"relative w-full h-8 bg-neutral-100 dark:bg-neutral-800 rounded-2xl flex overflow-hidden shadow-inner border-[3px] border-white dark:border-neutral-900",children:[g.jsx("div",{className:"h-full bg-blue-500 transition-all duration-1000 ease-out",style:{width:n?`${l}%`:"50%"}}),g.jsx("div",{className:"h-full bg-red-500 transition-all duration-1000 ease-out",style:{width:n?`${o}%`:"50%"}}),g.jsx("div",{className:"absolute left-1/2 top-0 w-[1px] h-full bg-white/30 -translate-x-1/2 z-10"})]}),n&&g.jsxs("div",{className:"absolute -bottom-8 transition-all duration-1000 ease-out flex flex-col items-center",style:{left:`${d}%`,transform:"translateX(-50%)"},children:[g.jsx("div",{className:"w-[1.5px] h-3 bg-red-500/40 rounded-full"}),g.jsx("span",{className:"text-[10px] font-bold text-red-500 mt-1",children:""})]})]}),g.jsxs("div",{className:"space-y-3 mb-5 mt-6",children:[g.jsxs("div",{className:"p-4 bg-neutral-50 dark:bg-neutral-800/40 rounded-2xl border border-neutral-100 dark:border-neutral-800",children:[g.jsxs("h4",{className:"text-[11.5px] font-bold text-neutral-800 dark:text-neutral-300 mb-1.5 flex items-center gap-1.5",children:[g.jsx("span",{className:"w-1 h-1 bg-red-400 rounded-full"}),"  "]}),g.jsx("p",{className:"text-[11px] text-neutral-500 dark:text-neutral-400 leading-relaxed",children:a.natureDetail})]}),g.jsxs("div",{className:"p-4 bg-neutral-50 dark:bg-neutral-800/40 rounded-2xl border border-neutral-100 dark:border-neutral-800",children:[g.jsxs("h4",{className:"text-[11.5px] font-bold text-neutral-800 dark:text-neutral-300 mb-1.5 flex items-center gap-1.5",children:[g.jsx("span",{className:"w-1 h-1 bg-blue-400 rounded-full"}),"  "]}),g.jsx("p",{className:"text-[11px] text-neutral-500 dark:text-neutral-400 leading-relaxed",children:a.consistencyDetail})]})]}),g.jsxs("div",{className:`text-center py-3 rounded-xl text-[11px] font-bold tracking-tight shadow-sm ${m===""?"bg-red-50 text-red-600 dark:bg-red-950/20":m===""?"bg-blue-50 text-blue-600 dark:bg-blue-950/20":"bg-emerald-50 text-emerald-600 dark:bg-emerald-950/20"}`,children:[" ",a.advice]})]})}function cm(e,t){if(e==="#")return"bg-neutral-100 text-neutral-500 border-neutral-200 dark:bg-neutral-900 dark:text-neutral-500 dark:border-neutral-700";switch(t){case"natal":return"bg-violet-100 text-violet-800 border-violet-200 dark:bg-violet-900/30 dark:text-violet-200 dark:border-violet-800";case"dae":return"bg-blue-100 text-blue-800 border-blue-200 dark:bg-blue-900/30 dark:text-blue-200 dark:border-blue-800";case"se":return"bg-green-100 text-green-800 border-green-200 dark:bg-green-900/30 dark:text-green-200 dark:border-green-800";case"wol":return"bg-orange-100 text-orange-800 border-orange-200 dark:bg-orange-900/30 dark:text-orange-200 dark:border-orange-800";case"il":return"bg-red-100 text-red-800 border-red-200 dark:bg-red-900/30 dark:text-red-200 dark:border-red-800";default:return""}}function ma({label:e,natal:t,dae:n,se:r,wol:i,il:a}){const o=n.length+r.length+i.length+a.length>0,l=t.length>0?t:["#"],u=o?l.filter(m=>m!=="#"):l,h=u.some(m=>m!=="#")||n.length>0||r.length>0||i.length>0||a.length>0?"shrink-0 w-20 text-xs font-semibold text-orange-700 dark:text-orange-300 mt-1":"shrink-0 w-20 text-xs font-semibold text-neutral-700 dark:text-neutral-400 mt-1";return g.jsxs("div",{className:"flex items-start gap-3 p-1 rounded-sm",children:[g.jsx("div",{className:h,children:e}),g.jsxs("div",{className:"flex flex-wrap gap-2",children:[u.map((m,b)=>g.jsx("span",{className:"text-xs px-2 py-1 rounded-full border whitespace-nowrap "+cm(m,"natal"),children:m},`natal-${b}`)),n.map((m,b)=>g.jsx("span",{className:"text-xs px-2 py-1 rounded-full border whitespace-nowrap "+cm(m,"dae"),children:m},`dae-${b}`)),r.map((m,b)=>g.jsx("span",{className:"text-xs px-2 py-1 rounded-full border whitespace-nowrap "+cm(m,"se"),children:m},`se-${b}`)),i.map((m,b)=>g.jsx("span",{className:"text-xs px-2 py-1 rounded-full border whitespace-nowrap "+cm(m,"wol"),children:m},`wol-${b}`)),a.map((m,b)=>g.jsx("span",{className:"text-xs px-2 py-1 rounded-full border whitespace-nowrap "+cm(m,"il"),children:m},`il-${b}`))]})]})}function UE(e){return Array.isArray(e)?e:[]}function lb(e,t){const n=new Set(UE(e));return UE(t).filter(i=>!n.has(i))}function Wle({pillars:e,daewoon:t,sewoon:n,wolwoon:r,ilwoon:i,tab:a=""}){const o=vx(e),l=Wl({natal:e}),u=t?Wl({natal:e,daewoon:t}):l,d=n?Wl({natal:e,daewoon:t,sewoon:n}):u,h=r?Wl({natal:e,daewoon:t,sewoon:n,wolwoon:r}):d,m=i?Wl({natal:e,daewoon:t,sewoon:n,wolwoon:r,ilwoon:i}):h,b=w=>({natal:UE(o[w]),dae:lb(l[w],u[w]),se:lb(u[w],d[w]),wol:lb(d[w],h[w]),il:lb(h[w],m[w])}),y={cheonganHap:b("cheonganHap"),cheonganChung:b("cheonganChung"),jijiSamhap:b("jijiSamhap"),jijiBanhap:b("jijiBanhap"),jijiBanghap:b("jijiBanghap"),jijiYukhap:b("jijiYukhap"),amhap:b("amhap"),ganjiAmhap:b("ganjiAmhap"),jijiChung:b("jijiChung"),jijiHyeong:b("jijiHyeong"),jijiPa:b("jijiPa"),jijiHae:b("jijiHae")},k=w=>a===""?{natal:w.natal,dae:[],se:[],wol:[],il:[]}:a===""?{natal:w.natal,dae:w.dae,se:[],wol:[],il:[]}:a===""?{natal:w.natal,dae:w.dae,se:w.se,wol:[],il:[]}:a===""?{natal:w.natal,dae:w.dae,se:w.se,wol:w.wol,il:[]}:a===""?{natal:w.natal,dae:w.dae,se:w.se,wol:w.wol,il:w.il}:{natal:[],dae:[],se:[],wol:[],il:[]};return g.jsxs("div",{className:"rounded-xl p-4 bg-neutral-100 dark:bg-neutral-900 text-neutral-900 dark:text-neutral-100 space-y-2",children:[g.jsx("div",{className:"text-base font-bold mb-1",children:""}),g.jsx(ma,{label:"",...k(y.cheonganHap)}),g.jsx(ma,{label:"",...k(y.cheonganChung)}),g.jsx("div",{className:"border-t border-neutral-200 dark:border-neutral-800 my-2"}),g.jsx(ma,{label:"",...k(y.jijiSamhap)}),g.jsx(ma,{label:"",...k(y.jijiBanhap)}),g.jsx(ma,{label:"",...k(y.jijiBanghap)}),g.jsx(ma,{label:"",...k(y.jijiYukhap)}),g.jsx(ma,{label:"",...k(y.amhap)}),g.jsx(ma,{label:"",...k(y.ganjiAmhap)}),g.jsx(ma,{label:"",...k(y.jijiChung)}),g.jsx(ma,{label:"",...k(y.jijiHyeong)}),g.jsx(ma,{label:"",...k(y.jijiPa)}),g.jsx(ma,{label:"",...k(y.jijiHae)})]})}function Vle(e,t){if(e==="#")return"bg-neutral-100 text-neutral-500 border-neutral-200 dark:bg-neutral-900 dark:text-neutral-500 dark:border-neutral-700";switch(t){case"natal":return"bg-violet-100 text-violet-800 border-violet-200 dark:bg-violet-900/30 dark:text-violet-200 dark:border-violet-800";case"dae":return"bg-blue-100 text-blue-800 border-blue-200 dark:bg-blue-900/30 dark:text-blue-200 dark:border-blue-800";case"se":return"bg-green-100 text-green-800 border-green-200 dark:bg-green-900/30 dark:text-green-200 dark:border-green-800";case"wol":return"bg-orange-100 text-orange-800 border-orange-200 dark:bg-orange-900/30 dark:text-orange-200 dark:border-orange-800";case"il":return"bg-red-100 text-red-800 border-red-200 dark:bg-red-900/30 dark:text-red-200 dark:border-red-800";default:return""}}function Zle({items:e,source:t}){const n=e.length>0?e:["#"];return g.jsx("div",{className:"flex flex-wrap gap-2",children:n.map((r,i)=>g.jsx("span",{className:"text-xs px-2 py-1 rounded-full border whitespace-nowrap "+Vle(r,t),children:r},`${t}-${i}-${r}`))})}function XP({title:e,rows:t}){return g.jsxs("div",{className:"space-y-2 desk:flex-1 desk:px-1",children:[g.jsx("div",{className:"text-md font-bold text-neutral-800 dark:text-neutral-200 mt-2",children:e}),t.map(n=>{const i=n.items.some(a=>a!=="#")?"shrink-0 w-12 text-xs font-semibold text-orange-700 dark:text-orange-300 mt-1":"shrink-0 w-12 text-xs font-semibold text-neutral-700 dark:text-neutral-300 mt-1";return g.jsxs("div",{className:"flex items-start gap-3 p-1 rounded-sm",children:[g.jsx("div",{className:i,children:n.label}),g.jsx(Zle,{items:n.items.length>0?n.items:["#"],source:n.source})]},`${e}-${n.label}`)})]})}function Xle({pillars:e,daewoon:t,sewoon:n,wolwoon:r,ilwoon:i,tab:a=""}){const{settings:o}=nn(),[l,u]=S.useState(""),[d,h]=S.useState("");S.useEffect(()=>{o.sinsalBase===""?(u(""),h("")):(u(""),h(""))},[o.sinsalBase]);const m=S.useMemo(()=>({voidBasis:l===""?"day":"year",samjaeBasis:d===""?"day":"year"}),[l,d]),b=S.useMemo(()=>Fp({natal:e,daewoon:t,sewoon:n,wolwoon:r,ilwoon:i,basis:m}),[e,t,n,r,i,m]),{good:y,bad:k,meta:w}=b,_=G=>G.map(F=>F==="#"?F:` ${F}`),j=(G,F)=>{const B=["natal"];return F===""&&B.push("natal"),F===""&&B.push("natal","dae"),F===""&&B.push("natal","dae","se"),F===""&&B.push("natal","dae","se","wol"),F===""&&B.push("natal","dae","se","wol","il"),G.filter(q=>B.includes(q.source))},O=[{label:"",items:_(y.si),source:"natal"},{label:"",items:_(y.il),source:"natal"},{label:"",items:_(y.wol),source:"natal"},{label:"",items:_(y.yeon),source:"natal"},{label:"",items:y.dae,source:"dae"},{label:"",items:y.se,source:"se"},{label:"",items:y.wolun,source:"wol"},{label:"",items:y.ilun,source:"il"}],T=[{label:"",items:_(k.si),source:"natal"},{label:"",items:_(k.il),source:"natal"},{label:"",items:_(k.wol),source:"natal"},{label:"",items:_(k.yeon),source:"natal"},{label:"",items:k.dae,source:"dae"},{label:"",items:k.se,source:"se"},{label:"",items:k.wolun,source:"wol"},{label:"",items:k.ilun,source:"il"}],C=j(O,a),M=j(T,a),P=w.voidPair.day?`(${w.voidPair.day.join("")})`:"()",I=w.voidPair.year?`(${w.voidPair.year.join("")})`:"()",z=w.samjaeYears.day?`(${w.samjaeYears.day.join("")})`:"()",K=w.samjaeYears.year?`(${w.samjaeYears.year.join("")})`:"()";return g.jsxs("div",{className:"rounded-xl p-4 bg-neutral-100 dark:bg-neutral-900 text-neutral-900 dark:text-neutral-100 space-y-2",children:[g.jsx("div",{className:"text-base font-bold mb-1",children:"(/)"}),g.jsxs("div",{className:"flex flex-wrap justify-center items-center gap-3 text-xs",children:[g.jsxs("div",{className:"flex items-center gap-2",children:[g.jsx("label",{className:"text-neutral-600 dark:text-neutral-300",children:" "}),g.jsxs("select",{value:l,onChange:G=>u(G.target.value),className:"px-2 h-30 rounded border border-neutral-300 dark:border-neutral-700 bg-white dark:bg-neutral-800",children:[g.jsx("option",{value:"",children:P}),g.jsx("option",{value:"",children:I})]})]}),g.jsxs("div",{className:"flex items-center gap-2",children:[g.jsx("label",{className:"text-neutral-600 dark:text-neutral-300",children:" "}),g.jsxs("select",{value:d,onChange:G=>h(G.target.value),className:"px-2 h-30 rounded border border-neutral-300 dark:border-neutral-700 bg-white dark:bg-neutral-800",children:[g.jsx("option",{value:"",children:z}),g.jsx("option",{value:"",children:K})]})]})]}),g.jsxs("div",{className:"desk:flex",children:[g.jsx(XP,{title:"()",rows:C}),g.jsx("div",{className:"block desk:hidden border-t border-neutral-200 dark:border-neutral-800 mt-4 mb-3"}),g.jsx(XP,{title:"()",rows:M})]})]})}const wa={year:0,month:1,day:2,hour:3},H7={[wa.year]:.3,[wa.month]:.5,[wa.day]:.3,[wa.hour]:.3},G7={[wa.year]:.15,[wa.month]:.2,[wa.day]:0,[wa.hour]:.15},Jle=e=>Gm.has(e)?e:ar[e]??e,Qle=e=>cf.has(e)?e:Jn[e]??e,ece=e=>typeof e=="string"&&e.length>=2?Jle(e.slice(-1)):"",tce=e=>typeof e=="string"&&e.length>=1?Qle(e.slice(0,1)):"",Mn=(e,t,n,r)=>({han:e,nan:t,jo:n,seup:r}),nce={:Mn(2,0,.5,2),:Mn(2,0,0,2),:Mn(2,0,0,2),:Mn(0,2,2,0),:Mn(0,2,2,0),:Mn(0,2,1,2),:Mn(0,2,2,.5),:Mn(0,2,2,0),:Mn(0,2,2,1),:Mn(2,0,0,2),:Mn(2,0,0,2),:Mn(2,0,1,1)},rce={:Mn(0,1,1,0),:Mn(0,1,1,0),:Mn(0,2,2,0),:Mn(0,2,2,0),:Mn(0,0,1,0),:Mn(0,0,0,1),:Mn(1,0,0,1),:Mn(1,0,0,1),:Mn(2,0,0,2),:Mn(2,0,0,2)},JP=e=>Math.max(0,Math.min(100,e));function QP(e,t){const n=Math.max(0,e),r=Math.max(0,t),i=n+r;return i<=0?50:r/i*100}function ice(e){let t=0,n=0,r=0,i=0;return[wa.year,wa.month,wa.day,wa.hour].forEach(a=>{const o=nce[ece(e[a])],l=rce[tce(e[a])],u=H7[a],d=G7[a];u>0&&o&&(t+=o.han*u,n+=o.nan*u,r+=o.jo*u,i+=o.seup*u),d>0&&l&&(t+=l.han*d,n+=l.nan*d,r+=l.jo*d,i+=l.seup*d)}),{han:t,nan:n,jo:r,seup:i}}function Y7(e){const t=Array.isArray(e)?e.slice(0,4):[];for(;t.length<4;)t.push("");return t.map(n=>typeof n=="string"?n:"")}function q7(e){const{han:t,nan:n,jo:r,seup:i}=ice(e),a=QP(t,n),o=QP(i,r);return{hanNanPct:JP(a),joSeupPct:JP(o),raw:{han:t,nan:n,jo:r,seup:i},weights:{branch:H7,stem:G7}}}function ace(e){return q7(Y7(e))}function oce(e){const t=Y7(e);return S.useMemo(()=>q7(t),[t])}function eR({label:e,percent:t,leftHint:n,midHint:r,rightHint:i,gradientClass:a}){const[o,l]=S.useState(!1),u=S.useMemo(()=>Math.max(0,Math.min(100,t)),[t]),d=[20,35,50,65,80];return S.useEffect(()=>{l(!0)},[]),g.jsxs("div",{className:"flex-1 p-4 bg-white dark:bg-neutral-900 rounded-3xl shadow-sm border border-neutral-100 dark:border-neutral-800",children:[g.jsxs("div",{className:"flex justify-between items-center mb-4",children:[g.jsx("span",{className:"text-[11px] font-black text-neutral-400 uppercase",children:e}),g.jsxs("span",{className:"text-sm font-black dark:text-white",children:[u.toFixed(0),"%"]})]}),g.jsxs("div",{className:"flex justify-between text-[10px] font-bold text-neutral-400 mb-1.5 px-0.5",children:[g.jsx("span",{children:n}),g.jsx("span",{children:r}),g.jsx("span",{children:i})]}),g.jsxs("div",{className:"relative h-2.5 rounded-full bg-neutral-100 dark:bg-neutral-800 overflow-visible shadow-inner",children:[g.jsx("div",{className:`absolute inset-0 rounded-full opacity-80 ${a}`}),d.map(h=>g.jsx("div",{className:"absolute top-0 h-2.5 w-[1px] bg-white/20 dark:bg-black/10",style:{left:`${h}%`}},h)),g.jsx("div",{className:"absolute -top-1.5 h-5 w-2.5 bg-white dark:bg-neutral-100 rounded-full shadow-md border-2 border-neutral-800 dark:border-white z-20 transition-all duration-1000 ease-out",style:{left:o?`${u}%`:"50%",transform:"translateX(-50%)"}})]})]})}const sce={:{el:"",season:"",name:""},:{el:"",season:"",name:""},:{el:"",season:"",name:""},:{el:"",season:"",name:""},:{el:"",season:"",name:""},:{el:"",season:"",name:""},:{el:"",season:"",name:""},:{el:"",season:"",name:""},:{el:"",season:"",name:""},:{el:"",season:"",name:""},:{el:"",season:"",name:""},:{el:"",season:"",name:""}};function lce(e){const t=new Set(e);return t.has("")&&t.has("")?"   ":t.has("")&&t.has("")?"   ":t.has("")&&t.has("")?"   ":t.has("")&&t.has("")?"   ":""}function cce(e,t,n){const r=e[1]?.charAt(1)||"",i=sce[r],a=e.map(u=>u.charAt(1)).filter(Boolean);let o="",l="";if(i){o=`${i.season} (${i.name})  , `;const u=lce(a);u&&(o+=`${u} `),t>=60?o+="()  .":t<=40?o+="()  .":o+="   ."}else o="   .";return n>=60?l="()      .":n<=40?l="()       .":l="() ()      .",{tempDesc:o,wetDesc:l}}function uce({natal:e}){const{hanNanPct:t,joSeupPct:n}=oce(e),r=S.useMemo(()=>{let o="";return t>60?o+="   , ":t<40?o+="   , ":o+="    , ",n>60?o+="     .":n<40?o+="      .":o+="     .",o},[t,n]),{tempDesc:i,wetDesc:a}=S.useMemo(()=>cce(e,t,n),[e,t,n]);return g.jsxs("div",{className:"w-full space-y-3",children:[g.jsxs("div",{className:"flex gap-3",children:[g.jsx(eR,{label:" ()",percent:t,leftHint:"",midHint:"",rightHint:"",gradientClass:"bg-gradient-to-r from-blue-500 via-neutral-200 to-red-500"}),g.jsx(eR,{label:" ()",percent:n,leftHint:"",midHint:"",rightHint:"",gradientClass:"bg-gradient-to-r from-teal-600 via-neutral-200 to-orange-600"})]}),g.jsxs("div",{className:"space-y-2 p-4 bg-neutral-50 dark:bg-neutral-800/30 rounded-2xl border border-neutral-100 dark:border-neutral-800",children:[g.jsxs("p",{className:"text-[11px] text-neutral-600 dark:text-neutral-400 leading-relaxed",children:[g.jsx("span",{className:"font-bold text-blue-500 mr-1",children:":"}),i]}),g.jsx("div",{className:"h-px bg-neutral-200 dark:bg-neutral-700/50"}),g.jsxs("p",{className:"text-[11px] text-neutral-600 dark:text-neutral-400 leading-relaxed",children:[g.jsx("span",{className:"font-bold text-teal-600 mr-1",children:":"}),a]}),g.jsx("div",{className:"h-px bg-neutral-200 dark:bg-neutral-700/50"}),g.jsxs("p",{className:"text-[11px] text-neutral-500 dark:text-neutral-500 leading-relaxed italic",children:[g.jsx("span",{className:"font-bold mr-1",children:":"}),r.replace(/, $/,".")]})]})]})}const Jr={:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},Xa={:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},dce={:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},Hy={:"",:"",:"",:"",:""},K7={:"",:"",:"",:"",:""},op={:"",:"",:"",:"",:""},W7={:"",:"",:"",:"",:""},fce={:{:{stem:"",w:10},:{stem:"",w:20}},:{:{stem:"",w:9},:{stem:"",w:3},:{stem:"",w:18}},:{:{stem:"",w:7},:{stem:"",w:7},:{stem:"",w:16}},:{:{stem:"",w:10},:{stem:"",w:20}},:{:{stem:"",w:9},:{stem:"",w:3},:{stem:"",w:18}},:{:{stem:"",w:7},:{stem:"",w:7},:{stem:"",w:16}},:{:{stem:"",w:10},:{stem:"",w:9},:{stem:"",w:11}},:{:{stem:"",w:9},:{stem:"",w:3},:{stem:"",w:18}},:{:{stem:"",w:7},:{stem:"",w:7},:{stem:"",w:16}},:{:{stem:"",w:10},:{stem:"",w:20}},:{:{stem:"",w:9},:{stem:"",w:3},:{stem:"",w:18}},:{:{stem:"",w:7},:{stem:"",w:7},:{stem:"",w:16}}},hce={:{:{stem:"",w:100}},:{:{stem:"",w:20},:{stem:"",w:30},:{stem:"",w:50}},:{:{stem:"",w:30},:{stem:"",w:70}},:{:{stem:"",w:100}},:{:{stem:"",w:20},:{stem:"",w:30},:{stem:"",w:50}},:{:{stem:"",w:30},:{stem:"",w:70}},:{:{stem:"",w:100}},:{:{stem:"",w:20},:{stem:"",w:30},:{stem:"",w:50}},:{:{stem:"",w:30},:{stem:"",w:70}},:{:{stem:"",w:100}},:{:{stem:"",w:20},:{stem:"",w:30},:{stem:"",w:50}},:{:{stem:"",w:30},:{stem:"",w:70}}};function wT(e){return e===""||e===""||e===""||e===""||e===""||e===""||e===""||e===""||e===""||e===""||e===""||e===""}function V7(e){return(typeof e=="string"?e.trim().toLowerCase():"")==="hgc"?"hgc":"classic"}function _T(e){return e==="hgc"?hce:fce}const mce={:["","",""],:["","",""],:["","",""],:["","",""],:["","",""],:["","",""],:["","",""],:["","",""],:["","",""],:["","",""],:["","",""],:["","",""]},Y1={:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},Z7={:"",:"",:"",:"",:""},X7={:"",:"",:"",:""},pce=[{a:"",b:"",to:""},{a:"",b:"",to:""},{a:"",b:"",to:""},{a:"",b:"",to:""},{a:"",b:"",to:""}],gce=[["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""]],bce={:!0,:!1,:!0,:!1,:!0,:!1,:!0,:!1,:!0,:!1},Qe=(e,t)=>`${e}${t}`,Ui=(e,t,n)=>`${e}${t}${n}`,yce={:["",""],:["",""],:["",""],:["",""],:["",""],:["",""],:["",""],:["",""],:["",""],:["",""],:["",""],:["",""]},tR={[Qe("","")]:[""],[Qe("","")]:["",""],[Qe("","")]:["",""],[Qe("","")]:[""],[Qe("","")]:[""],[Qe("","")]:[""],[Qe("","")]:["",""],[Qe("","")]:[""],[Qe("","")]:[""],[Qe("","")]:[""],[Qe("","")]:[""],[Qe("","")]:[""],[Qe("","")]:[""],[Qe("","")]:[""],[Qe("","")]:[""],[Qe("","")]:[""],[Qe("","")]:[""],[Qe("","")]:[""],[Qe("","")]:[""],[Qe("","")]:[""],[Qe("","")]:[""],[Qe("","")]:[""],[Qe("","")]:[""],[Qe("","")]:[""],[Qe("","")]:[""],[Qe("","")]:[""],[Qe("","")]:[""],[Qe("","")]:[""],[Qe("","")]:[""],[Qe("","")]:[""],[Qe("","")]:[""],[Qe("","")]:[""],[Qe("","")]:[""],[Qe("","")]:[""],[Qe("","")]:[""],[Qe("","")]:[""],[Qe("","")]:[""],[Qe("","")]:[""],[Qe("","")]:[""],[Qe("","")]:[""],[Qe("","")]:[""],[Qe("","")]:[""],[Qe("","")]:[""],[Qe("","")]:[""],[Qe("","")]:[""],[Qe("","")]:[""],[Qe("","")]:[""],[Qe("","")]:["",""],[Qe("","")]:[""],[Qe("","")]:[""],[Qe("","")]:[""],[Qe("","")]:[""],[Qe("","")]:[""],[Qe("","")]:[""],[Qe("","")]:[""]},nR={[Ui("","","")]:[""],[Ui("","","")]:[""],[Ui("","","")]:[""],[Ui("","","")]:[""],[Ui("","","")]:[""],[Ui("","","")]:[""],[Ui("","","")]:[""],[Ui("","","")]:[""],[Ui("","","")]:[""],[Ui("","","")]:[""],[Ui("","","")]:["",""]},vce={:"",:"",:"",:"",:"",:"",:"",:"",:"",:""};function _a(e){return["","","","",""].includes(e)}function xce(e){return["","","","","",""].includes(e)}const q1=e=>({:"",:"",:"",:"",:"",:"",:"",:"",:"",:""})[e]??e,ga=e=>e&&e.length>=1?e.charAt(0):"",In=e=>e&&e.length>=2?e.charAt(1):"",wce=e=>Array.from(new Set(e));function _ce(e,t){const n=mce[e];if(!n)return!1;const r=new Set(t.filter(Boolean));return n.filter(a=>a!==e).every(a=>r.has(a))}function Sce(e){return Jr[e]??""}function Ja(e,t){const n=Jr[e],r=Jr[t];if(!n||!r)return"";let i;r===n?i="":r===Hy[n]?i="":r===op[n]?i="":r===W7[n]?i="":r===K7[n]?i="":i="";const a=_a(e)===_a(t);switch(i){case"":return a?"":"";case"":return a?"":"";case"":return a?"":"";case"":return a?"":"";case"":return a?"":""}}function kce(e,t){const n=Jr[e],r=Xa[t];if(!n||!r)return"";let i;r===n?i="":r===Hy[n]?i="":r===op[n]?i="":r===W7[n]?i="":r===K7[n]?i="":i="";const a=xce(t)===_a(e);switch(i){case"":return a?"":"";case"":return a?"":"";case"":return a?"":"";case"":return a?"":"";case"":return a?"":""}}function Ece(e){return{:"",:"",:"",:"",:""}[e]??""}function FE(e,t){const n=Sce(e),r=_a(e);let i;t===n?i="":Hy[n]===t?i="":Hy[t]===n?i="":op[n]===t?i="":op[t]===n?i="":i="";const a=r===_a(Ece(t));switch(i){case"":return a?"":"";case"":return a?"":"";case"":return a?"":"";case"":return a?"":"";case"":return a?"":""}}const jce={:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},Tce=e=>/^(|||||||||)$/.test(e);function Ace(e){return e?Tce(e)?e:jce[e]??"":""}function cb(e){return Ace(ga(e))}function Nce(e){return e?.charAt(0)??""}function Oce(e){return e?.charAt(1)??""}function Cce(e,t,n){const[r,i,a,o]=(e??[]).slice(0,4),l=oe=>(oe?.length??0)>=1?oe.charAt(0):"",u=oe=>(oe?.length??0)>=2?oe.charAt(1):"",d=[r,i,a,o].map(l).filter(Boolean),h=new Set(Object.keys(Xa)),m=[r,i,a,o].map(u).filter(oe=>!!oe&&h.has(oe)),b=l(a),y=bce[b]??!1,k=new Set,w=t==="classic"?rx:ix,_=new Set(["","","","","","","","","",""]),j=oe=>(w[oe]??[]).filter(Ce=>_.has(Ce)),O=(oe,Ce)=>{const Ue=Xa[Ce];return Ue?FE(oe,Ue):null},T={:0,:0,:0,:0,:0};for(const oe of d){const Ce=Jr[oe];Ce&&(T[Ce]+=10)}const C=[];for(const oe of m){const Ce=dce[oe];Ce&&C.push(Ce);const Ue=Xa[oe];Ue&&(T[Ue]+=6)}const P=[...d,...C].map(oe=>Ja(b,oe)),I={:["",""],:["",""],:["",""],:["",""],:["",""]},z=oe=>P.filter(Ce=>Ce===oe).length,K=oe=>P.filter(Ce=>I[oe].includes(Ce)).length,G=m[1],F=!!b&&vce[b]===G,B=n.elementPercent100;B.>=20&&B.>=20&&B.>=15&&k.add("");const q=[r,i,a,o].filter(Boolean),X=[];for(const oe of q){const Ce=oe.charAt(0),Ue=oe.charAt(1);X.push(Ja(b,Ce)),X.push(O(b,Ue))}const Z=(oe,Ce)=>{const Ue=(rt,xt)=>!!rt&&!!xt&&oe.includes(rt)&&Ce.includes(xt)||Ce.includes(rt)&&oe.includes(xt);for(let rt=0;rt+1<X.length;rt+=2)if(Ue(X[rt],X[rt+1]))return!0;return!1},Y=oe=>X.some(Ce=>!!Ce&&oe.includes(Ce)),V=z("")+z(""),Q=z(""),se=K(""),ce=K(""),W=Z(["",""],["",""]);if((Q>=1||V>=2)&&se>=1&&V>se&&ce<=1&&W&&k.add(""),Y(I.)&&Y(I.)&&Z(I.,I.)){const oe=P.includes("");k.add(oe?"":"")}K("")>=2&&K("")>=2&&Math.abs(K("")-K(""))<=1&&K("")<=1&&K("")<=1&&k.add("");const ne=z(""),ie=z(""),he=z("")+z(""),J=z("")+z(""),ae=K("");ie>=2&&he>=1&&T.+T.>=20&&k.add(""),ie>=2&&J>=1&&T.+T.>=20&&k.add(""),ie>=2&&J>=1&&T.+T.>=20&&Z([""],["",""])&&ae<=1&&k.add(""),ne>=2&&J>=1&&T.+T.>=20&&Z([""],["",""])&&ae<=1&&k.add("");const pe=(oe,Ce)=>{const Ue=Jr[oe],rt=Xa[Ce];return!!Ue&&!!rt&&Ue===rt},me=[r,i,a,o].filter(Boolean),ee=u(a),je=pe(b,ee),xe=me.map(oe=>oe.charAt(0)).filter(oe=>["",""].includes(Ja(b,oe)));let ue=!1;for(const oe of me){const Ce=oe.charAt(0),Ue=oe.charAt(1);if(xe.includes(Ce)&&pe(Ce,Ue)){ue=!0;break}}je&&ue&&k.add(""),K("")>=3&&K("")>=.5*(K("")+K("")+K("")+K(""))&&k.add(""),K("")>=3&&K("")>=.5*(K("")+K("")+K("")+K(""))&&k.add(""),K("")>=3&&K("")>=1&&k.add(""),K("")>=3&&K("")+K("")<=1&&k.add("");const Ee=z("");K("")+K("")>=2&&Ee===1&&K("")>=1&&k.add(""),Ee>=2&&he+K("")>=3&&k.add("");const Me=ne+ie;(ne>=2||Me>=2)&&J>=1&&Me>J&&k.add(""),ie>=2&&J>=1&&Me>J&&k.add("");const Ie=z(""),Ke=z("");Ie>=2&&Ee+Ke>=1&&k.add(""),Ie>=2&&Ee+Ke===0&&k.add(""),y&&Ie>=2&&Ee>=1&&k.add(""),!y&&Ie>=2&&Ee>=1&&k.add(""),z("")>=2&&z("")>=1&&k.add(""),z("")>=1&&z("")>=1&&Z([""],[""])&&k.add(""),F&&Ee>=1&&K("")+K("")>=2&&k.add("");const ht=[u(r),u(i),u(a),u(o)].filter(Boolean),mt=[r?.charAt(0),i?.charAt(0),o?.charAt(0)].filter(Boolean),De=new Set(mt.map(oe=>Ja(b,oe))),ze=new Set(ht.flatMap(oe=>{const Ce=Xa[oe];return Ce?[FE(b,Ce)]:[]})),Ge=new Set(ht.flatMap(oe=>j(oe).map(Ce=>Ja(b,Ce))));return["","","","",""].forEach(oe=>{const Ce=I[oe],Ue=Ce.some(st=>De.has(st)),rt=Ce.some(st=>ze.has(st)),xt=Ce.some(st=>Ge.has(st));!Ue&&!rt&&!xt?k.add(`${oe}`):!Ue&&!rt&&xt&&k.add(`${oe}`)}),Array.from(k)}const Mce=e=>{const t={:0,:0,:0,:0,:0};for(const n of e){const r=ga(n),i=In(n),a=Jr[r],o=Xa[i];a&&(t[a]+=10),o&&(t[o]+=6)}return t};function Dce(e){const{pillars:t,dayStem:n,monthBranch:r,mapping:i}=e,[a,o,l,u]=(t??[]).slice(0,4),d=[ga(a),ga(o),ga(l),ga(u)].filter(Boolean),h=[In(a),In(o),In(l),In(u)].filter(Boolean),m=Jr[n],b=d.map(oe=>Ja(n,oe)),y=[],k=oe=>d.filter(Ce=>Ce===oe).length,w=oe=>h.filter(Ce=>Ce===oe).length,_=oe=>oe.every(Ce=>h.includes(Ce)),j=oe=>b.some(Ce=>oe.includes(Ce)),O=ga(o),T=oe=>_a(oe),C=()=>{const oe=d.map(Ce=>Jr[Ce]);return oe.length===4&&oe.every(Ce=>Ce===oe[0])},M=()=>{if(d.length!==4)return!1;const oe=d.map(T),Ce=oe[0]&&!oe[1]&&oe[2]&&!oe[3],Ue=!oe[0]&&oe[1]&&!oe[2]&&oe[3];return Ce||Ue};_a(n)&&Z7[n]===r&&y.push("");const P=[["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""]];for(const[oe,Ce]of P)if(n===oe&&r===Ce){y.push("");break}!_a(n)&&X7[n]===r&&y.push("");const I=Y1[n];I&&In(l)===I&&m===Xa[In(l)]&&y.push(""),I&&In(u)===I&&m===Xa[In(u)]&&y.push("");const z=[a,o,l,u].map(Nce),K=[a,o,l,u].map(Oce);for(const oe of z);for(const oe of K);const G=i==="hgc"?ix:rx;function F(oe){return(G[oe]??[]).filter(Ce=>["","","","","","","","","",""].includes(Ce))}const B=[a,o,l,u].filter(Boolean),X=B.flatMap(oe=>[oe.charAt(0),oe.charAt(1)]).flatMap(oe=>{try{if(["","","","","","","","","",""].includes(oe))return[Ja(n,oe)];if(["","","","","","","","","","","",""].includes(oe)){const Ce=kce(n,oe),Ue=F(oe).map(rt=>Ja(n,rt));return[Ce,...Ue]}return[]}catch{return[]}}),Z=oe=>X.some(Ce=>oe.includes(Ce)),Y=(oe,Ce)=>{const Ue=[],rt=[];for(const st of B){const Oe=st.charAt(0),Fe=st.charAt(1);Ue.push(Ja(n,Oe));const We=Xa[Fe];We?rt.push(FE(n,We)):rt.push(null)}const xt=(st,Oe)=>!!st&&!!Oe&&(oe.includes(st)&&Ce.includes(Oe)||Ce.includes(st)&&oe.includes(Oe));for(let st=0;st<Ue.length;st++)if(xt(Ue[st],rt[st]))return!0;for(let st=0;st<Ue.length-1;st++)if(xt(Ue[st],Ue[st+1])||xt(rt[st],rt[st+1]))return!0;return!1},V={:["",""],:["",""],:["",""],:["",""]};Z([...V.])&&Z([...V.])&&Y([...V.],[...V.])&&y.push(""),Z([...V.])&&Z([...V.])&&Y([...V.],[...V.])&&y.push("");const Q=oe=>b.filter(Ce=>oe.includes(Ce)).length,se=Q(["",""]),ce=Q([""]),W=Q([""]),ne=Q(["",""]),ie=Q(["",""]),he=Q(["",""]);ce>=1&&se>=1&&se>=ce&&W<=ce&&y.push("");const J=Q([""]);J>=1&&ne>=1&&J>=ne&&y.push(""),b.includes("")&&ne>=1&&y.push("");const pe=Mce(t),me=Object.entries(pe).sort((oe,Ce)=>Ce[1]-oe[1]),ee=me[0];if(ee&&ee[1]>=60&&y.push(`(${ee[0]})`),me.length>=2){const[oe,Ce]=me[0],[,Ue]=me[1];Ce>=75&&Ce-Ue>=12&&m!==oe&&y.push(`(${oe})`)}for(const oe of pce){const Ce=d.includes(oe.a),Ue=d.includes(oe.b);if(!Ce||!Ue)continue;const rt=oe.to,xt=pe[rt]??0,st=Jr[oe.a],Oe=Jr[oe.b],Fe=Math.max(pe[st]??0,pe[Oe]??0),We=Xa[r]===rt,At=Object.entries(pe).sort((Mt,Kt)=>Kt[1]-Mt[1])[0]?.[0]===rt;let Nt=!1;xt>=60&&(We||At)&&Fe<=20&&xt-Fe>=20&&(y.push(`(${rt})`),Nt=!0),!Nt&&xt>=50&&(We||At)&&Fe<=25&&(y.push(`(${rt})`),Nt=!0),!Nt&&xt>=35&&y.push(`(${rt})`)}const je=`${ga(u)}${In(u)}`;["",""].includes(n)&&["","",""].includes(je)&&y.push(""),["","","",""].includes(In(u))&&y.push(""),["",""].includes(n)&&(In(l)===""||In(o)==="")&&!h.includes("")&&y.push("");const xe=d.some(oe=>oe===""||oe===""),ue=h.some(oe=>oe===""||oe==="");["",""].includes(In(l))&&!xe&&!ue&&y.push(""),["","",""].every(oe=>d.includes(oe))&&y.push(""),["","",""].every(oe=>d.includes(oe))&&y.push(""),["","",""].every(oe=>d.includes(oe))&&y.push("");const Ee=Object.values(pe).sort((oe,Ce)=>Ce-oe);Ee.length>=3&&Ee[0]-Ee[2]<=8&&Ee[0]+Ee[1]+Ee[2]>=80&&y.push(""),ie>=1&&he>=1&&Math.abs(ie-he)<=1&&y.push(""),_(["","","",""])&&y.push(""),_(["","","",""])&&y.push(""),_(["","","",""])&&y.push(""),h.length===4&&h.every(oe=>oe===h[0])&&y.push(""),d.length===4&&C()&&M()&&y.push(""),t.every(oe=>oe&&oe===t[0])&&y.push(""),d.length===4&&d.every(oe=>oe===d[0])&&h.length===4&&h.every(oe=>oe===h[0])&&y.push(""),se>=1&&(In(l)===Y1[n]||In(u)===Y1[n])&&y.push(""),k("")>=3&&_(["","",""])&&["","",""].includes(In(l))&&y.push("");const Ie=n===""||n==="",Ke=[["","",""],["","",""]],ht=[["","",""],["","",""]];Ie&&(Ke.some(oe=>_(oe))||ht.some(oe=>_(oe)))&&y.push("");const mt=new Set(["","","","","",""]),De=`${ga(l)}${In(l)}`;if(mt.has(De)&&w("")>=2&&(j(["",""])||h.includes("")||h.includes("")||j(["",""])||y.push("")),new Set(["","","","","",""]).has(De)&&w("")>=2&&h.includes("")&&y.push(""),n===""&&`${ga(u)}${In(u)}`==""){const oe=Ja(n,O);!["","","",""].includes(oe)&&j(["",""])&&!h.includes("")&&!h.includes("")&&y.push("")}return new Set(["","",""]).has(De)&&`${ga(u)}${In(u)}`==""&&!h.includes("")&&!j(["",""])&&y.push(""),De===""&&w("")+w("")>=2&&y.push(""),(De===""||De==="")&&w("")>=2&&!j(["",""])&&!h.includes("")&&y.push(""),n===""&&_(["","",""])&&y.push(""),De===""&&`${ga(u)}${In(u)}`==""&&y.push(""),wce(y)}function Pce(e){const t=[];for(const n of e)switch(n.kind){case"BUNIL_PICK":t.push(`: ${n.from} `);break;case"WANGJI_FIXED_JUNGI":t.push(":   ");break;case"SAENGJI_EMITTED_ONE":t.push(`: ${n.from}  `);break;case"SAENGJI_EMITTED_MULTI":t.push(`:      ${n.from} `);break;case"SAENGJI_NOT_EMITTED_USE_JUNGI":t.push(":    ");break;case"GOJI_SAMHAP_USE_JUNGI":t.push(":     ");break;case"GOJI_EARLY_JEOLIP_USE_CHOGI":t.push(":  +12    ");break;case"GOJI_LATE_JEOLIP_USE_JUNGI":t.push(":  +12    ");break;case"NEUTRALIZED":t.push(":   / ");break;case"EX_GEONLOK":t.push(": /   ");break;case"EX_YANGIN":t.push(":    ");break;case"EX_WOLGEOP":t.push(":    ");break;case"EX_EXCLUDED_BIGEOP":t.push(": /  ");break}return t}function Rce(e){return e===""?"()":{:"",:"",:"",:"",:"",:"",:"",:""}[e]??"-"}const rR=1e3*60*60*24;function ub(e){return Date.UTC(e.getFullYear(),e.getMonth(),e.getDate())}function Lce(e){let t=ji(e);const n=t[0]?.date;if(n&&e.getTime()<n.getTime()){const r=new Date(e);r.setFullYear(e.getFullYear()-1),t=ji(r)}return t}function Ice(e){const t=yce[e];return Array.isArray(t)&&t.length>0?t[0]:null}function $ce(e,t){const n=Ice(e);if(!n)return null;const r=Lce(t),i=r.findIndex(d=>d.name===n);if(i<0)return null;const a=r[i]?.date,o=r[i+1]?.date;if(!a)return null;const l=Math.floor((ub(t)-ub(a))/rR)+1,u=o?Math.max(1,Math.floor((ub(o)-ub(a))/rR)):30;return{dayIdx:l<1?1:l,spanDays:u}}function Bce(e){return(e.?.w??0)+(e.?.w??0)+e..w}function zce(e,t,n){const r=Math.max(1,Bce(e)),i=Math.max(1,Math.min(n,t)),a=Math.max(1,Math.min(r,Math.ceil(i*r/n))),o=e.?.w??0,l=e.?.w??0;return e.&&a<=o?{stem:e..stem,from:""}:e.&&a<=o+l?{stem:e..stem,from:""}:{stem:e..stem,from:""}}function J7(e){const{dayStem:t,monthBranch:n,date:r,pillars:i,emittedStems:a=[],otherBranches:o=[],isNeutralized:l,mapping:u}=e,d=[],h=V7(u),m=_T(h);if(!wT(n))return{:"-",:"-",:"-",:"-",:"-",:"-",:[],reason:["  "],reasonTokens:[]};const b=m[n];if(!b)return{:"-",:"-",:"-",:"-",:"-",:"-",:[],reason:["  "],reasonTokens:[]};const y={:b.?{stem:q1(b..stem),w:b..w}:void 0,:b.?{stem:q1(b..stem),w:b..w}:void 0,:{stem:q1(b..stem),w:b..w}},k=y..stem;let w=k;const _=$ce(n,r);if(["","","",""].includes(n)&&_ce(n,o)&&y.)w=y..stem,d.push({kind:"GOJI_SAMHAP_USE_JUNGI"});else if(_){const B=zce(y,_.dayIdx,_.spanDays);w=B.stem,d.push({kind:"BUNIL_PICK",from:B.from})}else w=k,d.push({kind:"BUNIL_FALLBACK_USE_WOLRYEONG"});function j(B,q){if(!B)return!1;if(q.includes(B))return!0;const X=Jr[B];return X?q.some(Z=>Jr[Z]===X):!1}let O="";w&&j(w,a)&&!l?.(w)?(O=w,d.push({kind:"DANRYEONG_CONFIRMED_BY_EMIT"})):w&&l?.(w)&&d.push({kind:"NEUTRALIZED"});const T=O||k;let C="";const M=Jr[T];if(M){const B=Object.entries(op).find(([,q])=>q===M)?.[0]??null;B&&(C=Object.entries(Jr).find(([X,Z])=>Z===B&&_a(X)===_a(T))?.[0]??"")}let P="-";const I=Ja(t,T),z=gce.some(([B,q])=>B===t&&q===n),K=_a(t)&&Z7[t]===n,G=!_a(t)&&X7[t]===n;I===""||I===""?z?(P="",d.push({kind:"EX_GEONLOK"})):K?(P="",d.push({kind:"EX_YANGIN"})):G?(P="",d.push({kind:"EX_WOLGEOP"})):d.push({kind:"EX_EXCLUDED_BIGEOP"}):P=Rce(I);const F=Dce({pillars:i,dayStem:t,monthBranch:n,mapping:u});return{:k,:w,:O||"-",:T||"-",:C||"-",:P,:F,reason:Pce(d),reasonTokens:d}}function Uce(e){const[t,n,r,i]=e,a=cb(i),o=cb(r),l=cb(n),u=cb(t),d=[],h=[[a,o],[o,l],[l,u]];for(const[b,y]of h){if(!b||!y)continue;const k=Qe(b,y),w=tR[k];w?.length&&d.push(...w);const _=Qe(y,b);if(_!==k){const j=tR[_];j?.length&&d.push(...j)}}const m=[[a,o,l],[o,l,u]];for(const[b,y,k]of m){if(!b||!y||!k)continue;const w=Ui(b,y,k),_=nR[w];_?.length&&d.push(..._);const j=Ui(k,y,b);if(j!==w){const O=nR[j];O?.length&&d.push(...O)}}return Array.from(new Set(d))}const Fce=["","","","",""];function Hce(e){return Fce.includes(e)}function Gce(e){const t=/^(.+?)\((.+)\)$/.exec(e.trim());return t?{base:t[1].trim(),inner:t[2].trim()}:{base:e.trim()}}function um(e,t){if(!t)return e;const n=(Hce(t),t);return`${e}(${n})`}const Yce={:{title:"",short:"    ."},:{title:"",short:"    ."},:{title:"",short:"    ."},:{title:"",short:"   ."},:{title:"",short:"   ."},:{title:"",short:"     ."},:{title:"",short:"   ."},:{title:"",short:"   ."},:{title:"",short:"   ."},:{title:"",short:"    ."},:{title:"",short:"     ."},:{title:"",short:"    ."},:{title:"",short:"    ."},:{title:"",short:"   ."},:{title:"",short:"    ."},:{title:"",short:"    ."},:{title:"",short:"    ."},:{title:"",short:" 3    ."},:{title:"",short:"    ."},:{title:"",short:"    ."},:{title:"",short:"    ."},:{title:"",short:"    ."},:{title:"",short:"   ."},:{title:"",short:"     ."},:{title:"",short:"     ."},:{title:"",short:"     ."},:{title:"",short:"     ."},:{title:"",short:"    ."},:{title:"",short:"    ."},:{title:"",short:"    ."},:{title:"",short:"    ."},:{title:"",short:"   ."},:{title:"",short:"   ."},:{title:"",short:"    ."},:{title:"",short:"    ."},:{title:"",short:"   ."},:{title:"",short:"   ."}},qce={:e=>({title:um("",e),short:"     ."}),:e=>({title:um("",e),short:"   ."}),:e=>({title:um("",e),short:"   ."}),:e=>({title:um("",e),short:"    ."}),:e=>({title:um("",e),short:"    ."})};function Kce(e){const{base:t,inner:n}=Gce(e);return t===""||t===""||t===""||t===""||t===""?qce[t](n):Yce[t]}function Wce(e){const t=Kce(e);if(t)return t.detail?`${t.short}

${t.detail}`:t.short}const Vce=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),iR={:"   .   .",:"   .",:"  .",:"    .",:"  .",:"  .  .",:"   .",:"  .   .",:"   .",:"  .",:"   .",:"   .",:"  .",:"   .",:"   .",:"   .",:"   .",:"   .",:"  .",:"  .",:"   .",:"    .",:"   .",:"   .",:"   .",:"   .",:"   .",:"   .",:"  .",:"   .",:"  .  .",:"   .",:"   .",:"  .",:"  .",:"   .",:"    .",:"      .",:"  .",:"  .",:"    .",:"  .",:"  .",:"   .",:"  .",:"   .",:"   .",:"   .",:"   .",:"  .",:"  .",:"  .",:"    .",:"   .",:"  .",:"    .",:"     .",:"   .",:"  .",:"     .",:"    .",:"   .",:"    .",:"    .",:"   .",:"   .",:" .",:"   .",:"   .",:"   .",:"   ."};function Zce(e){if(Vce(iR,e))return iR[e]}const aR={:"(/)",:"(/)",:"(/)",:"(/)",:"(/)"},Xce={:{title:"",short:"    .",detail:"       ."},:{title:"",short:"      .",detail:"  +     ."},:{title:"",short:"     .",detail:"  +     ."},:{title:"",short:"     .",detail:"  +  ."},:{title:"",short:"      .",detail:"     ."},:{title:"",short:"    ."},:{title:"",short:"    .",detail:"  +    ."},:{title:"",short:"()    .",hint:"     "},:{title:"",short:"     ."},:{title:"",short:"    ."},:{title:"",short:"  +    ."},:{title:"",short:"   ."},:{title:"",short:"   ."},:{title:"",short:"    ."},:{title:"",short:"   ."},:{title:"",short:"      ."},:{title:"",short:"    ."},:{title:"",short:"      ."},:{title:"",short:"    ."},:{title:"",short:"       ."},:{title:"",short:"    ."},:{title:"",short:"     ."},:{title:"",short:"     ."},:{title:"",short:"    ."}};function Jce(e){const t=/^(|)(||||)$/.exec(e);if(!t)return null;const n=t[1],r=t[2];return n===""?{kind:"",group:r}:{kind:"",group:r}}function Qce(e,t){return e===""?{title:`${t}`,short:`${aR[t]}() //   .`,hint:"( ) +  +   "}:{title:`${t}`,short:`${aR[t]}()     .`,hint:" X /  O"}}function eue(e){const t=Jce(e);return t?Qce(t.kind,t.group):Xce[e]}function tue(e){const t=eue(e);if(t)return t.detail?`${t.short}

${t.detail}`:t.short}const nue={:{title:"",text:"()  /  .   ."},:{title:"",text:" (//)     .  ."},:{title:"",text:"       .     ."},:{title:"",text:" (/)    ( ).    ."},:{title:"",text:" (/)   ,           ."}};function rue(e){return nue[e]?.text}const iue=e=>{switch(e){case"":return"( )";case"":return"";case"":return"()"}},aue={BUNIL_PICK:{title:"",text:"    //     ."},BUNIL_FALLBACK_USE_WOLRYEONG:{title:" ",text:"    ()    ."},DANRYEONG_CONFIRMED_BY_EMIT:{title:" ",text:"      ."},WANGJI_FIXED_JUNGI:{title:"",text:"       ."},SAENGJI_EMITTED_ONE:{title:" ",text:"        ."},SAENGJI_EMITTED_MULTI:{title:"  ",text:"          ."},SAENGJI_NOT_EMITTED_USE_JUNGI:{title:" ",text:"        ."},GOJI_SAMHAP_USE_JUNGI:{title:" + ",text:"      ."},GOJI_EARLY_JEOLIP_USE_CHOGI:{title:" +  ",text:"   12    ."},GOJI_LATE_JEOLIP_USE_JUNGI:{title:" +  ",text:"   12    ."},NEUTRALIZED:{title:"",text:"       ."},EX_GEONLOK:{title:" ",text:"       ."},EX_YANGIN:{title:" ",text:"       ."},EX_WOLGEOP:{title:" ",text:"        ."},EX_EXCLUDED_BIGEOP:{title:" ",text:"   ."}},oue={:{title:"",text:"      ."},:{title:"",text:"      ."},:{title:"",text:"      ."},:{title:"",text:"      ."},:{title:"",text:"      ."},:{title:"",text:"      ."},"()":{title:"()",text:"      ."},:{title:"",text:"      ."},:{title:"",text:"      ."},:{title:"",text:"/       ."},:{title:"",text:"/        ."},:{title:"",text:"/       ."}},sue=e=>e.replace(/^\s*:\s*/,"").trim();function lue(e){const t=sue(e);return oue[t]}function cue(e){const t=aue[e.kind];if(t)return"from"in e?{...t,text:`${t.text} ( : ${iue(e.from)})`}:t}const nu=S.memo(({text:e,color:t,onClick:n})=>{const r={violet:"bg-violet-50 text-violet-700 border-violet-200 dark:bg-violet-900/20 dark:text-violet-300 dark:border-violet-800",amber:"bg-amber-50 text-amber-700 border-amber-200 dark:bg-amber-900/20 dark:text-amber-300 dark:border-amber-800",blue:"bg-blue-50 text-blue-700 border-blue-200 dark:bg-blue-900/20 dark:text-blue-300 dark:border-blue-800",green:"bg-green-50 text-green-700 border-green-200 dark:bg-green-900/20 dark:text-green-300 dark:border-green-800",red:"bg-red-50 text-red-700 border-red-200 dark:bg-red-900/20 dark:text-red-300 dark:border-red-800"};return g.jsx("button",{type:"button",onClick:n,className:`px-2.5 py-1 text-[11px] font-bold rounded-lg border shadow-sm whitespace-nowrap active:scale-95 transition-transform cursor-pointer ${r[t]}`,children:e})}),Rd=({text:e})=>g.jsxs("div",{className:"absolute z-50 left-0 top-full mt-2 w-[220px] p-3 bg-white dark:bg-neutral-800 rounded-xl shadow-xl border border-neutral-200 dark:border-neutral-700 text-[11px] leading-relaxed text-left text-neutral-700 dark:text-neutral-200 pointer-events-none transition-none",children:[g.jsx("div",{className:"absolute -top-1 left-4 w-2 h-2 bg-white dark:bg-neutral-800 border-t border-l border-neutral-200 dark:border-neutral-700 rotate-45"}),e]}),db=S.memo(({title:e,children:t})=>g.jsxs("div",{className:"flex flex-col gap-2",children:[g.jsx("div",{className:"text-[10px] font-black text-neutral-400 dark:text-neutral-500 uppercase pl-1",children:e}),g.jsx("div",{className:"flex flex-wrap gap-1.5",children:t})]}));function uue({pillars:e,tab:t,birthDate:n,emittedStems:r,otherBranches:i,isNeutralized:a,mapping:o,unified:l}){const[u,d]=S.useState(null);S.useEffect(()=>{d(null)},[t,e]);const h=S.useMemo(()=>{const[w,_,j,O]=e,T=z=>z&&z.length>=1?z.charAt(0):"",C=z=>z&&z.length>=2?z.charAt(1):"",M=n instanceof Date&&!Number.isNaN(n.getTime())?n:new Date,P=[T(w),T(_),T(j),T(O)].filter(z=>!!z),I=[C(w),C(j),C(O)].filter(z=>!!z);return J7({dayStem:T(j),monthBranch:C(_),date:M,pillars:e,emittedStems:r??P,otherBranches:i??I,isNeutralized:a,mapping:o})},[e,n,r,i,a,o]),m=S.useMemo(()=>Uce(e),[e]),b=S.useMemo(()=>Cce(e,o,l),[e,o,l]),y=w=>{d(_=>_===w?null:w)},k=[{key:"",value:h.},{key:"",value:h.},{key:"",value:h.},{key:"",value:h.},{key:"",value:h.}];return g.jsxs("div",{className:"p-6 rounded-[2rem] bg-white dark:bg-neutral-900 border border-neutral-100 dark:border-neutral-800 shadow-sm space-y-6 overflow-visible",children:[g.jsxs("div",{className:"flex items-center justify-between",children:[g.jsx("h3",{className:"font-black text-lg text-neutral-800 dark:text-neutral-100 italic",children:"   "}),g.jsx("span",{className:"text-[10px] bg-amber-100 dark:bg-amber-900/30 text-amber-600 dark:text-amber-400 px-2 py-0.5 rounded-full font-bold",children:"     "})]}),g.jsxs("div",{className:"space-y-5",children:[g.jsx(db,{title:"////",children:k.map(({key:w,value:_})=>g.jsxs("div",{className:"relative",children:[g.jsx(nu,{text:`${w}: ${_||"-"}`,color:"violet",onClick:()=>y(`env-${w}`)}),u===`env-${w}`&&g.jsx(Rd,{text:rue(w)??" ."})]},w))}),g.jsxs(db,{title:"",children:[g.jsxs("div",{className:"relative",children:[g.jsx(nu,{text:`: ${h.||"-"}`,color:"amber",onClick:()=>y("naegyeok")}),u==="naegyeok"&&g.jsx(Rd,{text:lue(h.||"")?.text??"  ."})]}),h.reasonTokens?.map((w,_)=>{const j=cue(w),O=`reason-${_}`;return g.jsxs("div",{className:"relative",children:[g.jsx(nu,{text:j?.title??(h.reason[_]||w.kind),color:"amber",onClick:()=>y(O)}),u===O&&g.jsx(Rd,{text:j?.text??"  ."})]},O)})]}),g.jsx(db,{title:"",children:h.&&h..length>0?h..map((w,_)=>g.jsxs("div",{className:"relative",children:[g.jsx(nu,{text:`: ${w}`,color:"blue",onClick:()=>y(`outer-${_}`)}),u===`outer-${_}`&&g.jsx(Rd,{text:Wce(w)??" "})]},`outer-${_}`)):g.jsx(nu,{text:": -",color:"blue"})}),(m.length>0||b.length>0)&&g.jsxs(db,{title:"  ",children:[m.map((w,_)=>g.jsxs("div",{className:"relative",children:[g.jsx(nu,{text:w,color:"green",onClick:()=>y(`mul-${_}`)}),u===`mul-${_}`&&g.jsx(Rd,{text:Zce(w)??" "})]},`mul-${_}`)),b.map((w,_)=>g.jsxs("div",{className:"relative",children:[g.jsx(nu,{text:w,color:"red",onClick:()=>y(`str-${_}`)}),u===`str-${_}`&&g.jsx(Rd,{text:tue(w)??" "})]},`str-${_}`))]})]}),!h.reasonTokens?.length&&h.reason.length>0&&g.jsx("div",{className:"pt-4 border-t border-neutral-100 dark:border-neutral-800",children:g.jsxs("p",{className:"text-[11px] text-neutral-500 leading-relaxed font-medium",children:[g.jsx("span",{className:"font-bold mr-1 text-neutral-400",children:"  :"}),h.reason.join(" / ")]})})]})}const due=Object.fromEntries(ho..map((e,t)=>[e,ti[t]])),fue=Object.fromEntries(ti.map((e,t)=>[e,ho.[t]])),hue=Object.fromEntries(ho..map((e,t)=>[e,ki[t]])),mue=Object.fromEntries(ki.map((e,t)=>[e,ho.[t]])),pue=e=>due[e]??e,gue=e=>hue[e]??e,bue=e=>fue[e]??e,yue=e=>mue[e]??e;function vue(e){const t={...e};for(const n of Object.keys(e)){const r=/[]/.test(n)?pue(n):bue(n);r&&t[r]===void 0&&(t[r]=e[n])}return t}function ST(e){const t={...e};for(const n of Object.keys(e)){const r=/[]/.test(n)?gue(n):yue(n);r&&t[r]===void 0&&(t[r]=e[n])}return t}const xue={:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},wue={:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},Q7={:[{stem:"",ratio:1,main:!0}],:[{stem:"",ratio:1,main:!0}],:[{stem:"",ratio:.2},{stem:"",ratio:.3},{stem:"",ratio:.5,main:!0}],:[{stem:"",ratio:.2},{stem:"",ratio:.3},{stem:"",ratio:.5,main:!0}],:[{stem:"",ratio:.3},{stem:"",ratio:.7,main:!0}],:[{stem:"",ratio:.3},{stem:"",ratio:.7,main:!0}],:[{stem:"",ratio:1,main:!0}],:[{stem:"",ratio:1,main:!0}],:[{stem:"",ratio:.2},{stem:"",ratio:.3},{stem:"",ratio:.5,main:!0}],:[{stem:"",ratio:.2},{stem:"",ratio:.3},{stem:"",ratio:.5,main:!0}],:[{stem:"",ratio:.3},{stem:"",ratio:.7,main:!0}],:[{stem:"",ratio:.3},{stem:"",ratio:.7,main:!0}],:[{stem:"",ratio:1,main:!0}],:[{stem:"",ratio:1,main:!0}],:[{stem:"",ratio:.2},{stem:"",ratio:.3},{stem:"",ratio:.5,main:!0}],:[{stem:"",ratio:.2},{stem:"",ratio:.3},{stem:"",ratio:.5,main:!0}],:[{stem:"",ratio:.3},{stem:"",ratio:.7,main:!0}],:[{stem:"",ratio:.3},{stem:"",ratio:.7,main:!0}],:[{stem:"",ratio:1,main:!0}],:[{stem:"",ratio:1,main:!0}],:[{stem:"",ratio:.2},{stem:"",ratio:.3},{stem:"",ratio:.5,main:!0}],:[{stem:"",ratio:.2},{stem:"",ratio:.3},{stem:"",ratio:.5,main:!0}],:[{stem:"",ratio:.3},{stem:"",ratio:.7,main:!0}],:[{stem:"",ratio:.3},{stem:"",ratio:.7,main:!0}]},_ue={...Q7,:[{stem:"",ratio:.2},{stem:"",ratio:.3},{stem:"",ratio:.5,main:!0}],:[{stem:"",ratio:.2},{stem:"",ratio:.3},{stem:"",ratio:.5,main:!0}],:[{stem:"",ratio:.2},{stem:"",ratio:.2},{stem:"",ratio:1,main:!0}],:[{stem:"",ratio:.2},{stem:"",ratio:.2},{stem:"",ratio:1,main:!0}],:[{stem:"",ratio:.2},{stem:"",ratio:.3},{stem:"",ratio:.7,main:!0}],:[{stem:"",ratio:.2},{stem:"",ratio:.3},{stem:"",ratio:.7,main:!0}],:[{stem:"",ratio:.2},{stem:"",ratio:.3},{stem:"",ratio:.7,main:!0}],:[{stem:"",ratio:.2},{stem:"",ratio:.3},{stem:"",ratio:.7,main:!0}]},oR=vue(xue),sp=ST(wue);ST(Q7);ST(_ue);const Sue=["","","","",""];function kue(){const[e,t]=S.useState("   "),[n,r]=S.useState(""),[i,a]=S.useState(!0);return{bigTab:e,setBigTab:t,blendTab:n,setBlendTab:r,demoteAbsent:i,setDemoteAbsent:a}}const Eue={:{:"#13B713",:"#DC143C",:"#F0B100",:"#a0a0a0",:"#353535"},:{:"#DC143C",:"#F0B100",:"#a0a0a0",:"#353535",:"#13B713"},:{:"#F0B100",:"#a0a0a0",:"#353535",:"#13B713",:"#DC143C"},:{:"#a0a0a0",:"#353535",:"#13B713",:"#DC143C",:"#F0B100"},:{:"#353535",:"#13B713",:"#DC143C",:"#F0B100",:"#a0a0a0"}},jue={:"",:"",:"",:"",:"",:"",:"",:"",:"",:""};function HE(e){const t=jue[e]??"";return Eue[t]}const Tue=Object.fromEntries(ho..map((e,t)=>[e,ti[t]])),Aue=Object.fromEntries(ti.map((e,t)=>[e,ho.[t]])),Nue=Object.fromEntries(ho..map((e,t)=>[e,ki[t]])),Oue=Object.fromEntries(ki.map((e,t)=>[e,ho.[t]])),Cue=e=>Tue[e]??e,Mue=e=>Nue[e]??e,Due=e=>Aue[e]??e,Pue=e=>Oue[e]??e;function e9(e){const t={...e};for(const n of Object.keys(e)){if(n.length<2)continue;const r=n.charAt(0),i=n.charAt(1),a=/[]/.test(r)||/[]/.test(i)?`${Cue(r)}${Mue(i)}`:`${Due(r)}${Pue(i)}`;t[a]===void 0&&(t[a]=e[n])}return t}const t9={:1,:.2,:1,:1,:.5,:.7,:0,:.5,:1,:1,:0,:1,:0,:0,:.3,:0,:.5,:.3,:0,:0,:.3,:0,:.8,:.3,:0,:.5,:0,:0,:.3,:.3,:0,:.3,:0,:0,:.8,:0,:0,:.8,:0,:0,:.5,:0,:1,:.5,:0,:0,:.7,:0,:1,:.5,:.7,:0,:.2,:.7,:1,:.7,:.7,:1,:.2,:.7},Rue={...t9,:.8,:.3,:.5,:.5,:.2,:.2,:.8,:.2},Lue=e9(t9),Iue=e9(Rue),GE={:"",:"",:"",:"",:""},YE={:"",:"",:"",:"",:""},qE={:"",:"",:"",:"",:""},KE={:"",:"",:"",:"",:""},$ue=e=>Jn[e]??e,Bue=e=>ar[e]??e;function n9(e){return!e||e.length<2?"":`${$ue(e[0])}${Bue(e[1])}`}const r9=e=>e&&e.length>=1?e[0]:"",i9=e=>e&&e.length>=2?e[1]:"";function zue(e){return{:e,:GE[e],:YE[e],:qE[e],:KE[e]}}function a9(e,t){if(!e)return!1;const n=sp[e];return!!n&&n===t}function o9(e,t){const n=Object.values(e).reduce((a,o)=>a+Math.max(0,o),0);return n<=0?!1:Math.max(0,e[t]??0)/n*100>=30}function s9(e,t){const n=(e??[]).slice(0,4).map(n9);if(n.length!==4||n.some(m=>m.length<2))return{flags:{:{:!1,:!1,:!1},:{:!1,:!1,:!1},:{:!1,:!1,:!1},:{:!1,:!1,:!1},:{:!1,:!1,:!1}},monthBranch:"",dayEl:""};const r=r9(n[2]),i=r===""||r===""?"":r===""||r===""?"":r===""||r===""?"":r===""||r===""?"":"",a=n.map(m=>i9(m)),o={:{:!1,:!1,:!1},:{:!1,:!1,:!1},:{:!1,:!1,:!1},:{:!1,:!1,:!1},:{:!1,:!1,:!1}},l=a[1],u=sp[l],d=zue(i),h=a[2];return Object.keys(o).forEach(m=>{const b=d[m];u&&u===b&&(o[m].=!0),a9(h,b)&&(o[m].=!0),o[m].=o9(t,b)}),{flags:o,monthBranch:l,dayEl:i}}function l9(e,t){const n=(e??[]).slice(0,4).map(n9);if(n.length<3||n[0].length<2||n[1].length<2||n[2].length<2){const b={:!1,:!1,:!1};return{flags:{:{...b},:{...b},:{...b},:{...b},:{...b},:{...b},:{...b},:{...b},:{...b},:{...b}},monthBranch:"",dayEl:""}}const r=r9(n[2]),i=r===""||r===""?"":r===""||r===""?"":r===""||r===""?"":r===""||r===""?"":"",a=n.map(b=>i9(b)),o={:!1,:!1,:!1},l={:{...o},:{...o},:{...o},:{...o},:{...o},:{...o},:{...o},:{...o},:{...o},:{...o}},u=a[1],d=sp[u],h=a[2],m={:i,:i,:GE[i],:GE[i],:qE[i],:qE[i],:KE[i],:KE[i],:YE[i],:YE[i]};return Object.keys(l).forEach(b=>{const y=m[b];d&&d===y&&(l[b].=!0),a9(h,y)&&(l[b].=!0),l[b].=o9(t,y)}),{flags:l,monthBranch:u,dayEl:i}}const Uue=Object.fromEntries(Object.entries(Jn).map(([e,t])=>[t,e])),Fue=Object.fromEntries(Object.entries(ar).map(([e,t])=>[t,e])),Hue=e=>Jn[e]??e,Gue=e=>ar[e]??e;function Yue(e){return!e||e.length<2?"":`${Hue(e[0])}${Gue(e[1])}`}function ru(e){return oR[e]??oR[Uue[e]??""]}function zl(e){return sp[e]??sp[Fue[e]??""]}const K1=["year","month","day","hour"],que={year:{stem:10,branch:10},month:{stem:15,branch:30},day:{stem:25,branch:25},hour:{stem:15,branch:15}},Kue={year:{stem:10,branch:10},month:{stem:15,branch:45},day:{stem:25,branch:40},hour:{stem:15,branch:12.5}},Wue=new Set(["","","","",""]),Vue=new Set(["","","","","",""]),Zue=new Set(["","","",""]),W1=e=>Wue.has(e)?"":"",V1=e=>{const t=Vue.has(e)?"":"";return Zue.has(e)?t===""?"":"":t};function sR(e){const t=e.reduce((l,u)=>l+u,0);if(t<=0)return e.map(()=>0);const n=e.map(l=>l*100/t),r=n.map(l=>Math.floor(l+.5)),i=100-r.reduce((l,u)=>l+u,0);if(i===0)return r;const a=n.map((l,u)=>({i:u,frac:l-Math.floor(l+.5)})).sort((l,u)=>u.frac-l.frac),o=r.slice();if(i>0)for(let l=0;l<i;l++)o[a[l].i]+=1;else for(let l=0;l<-i;l++)o[a[a.length-1-l].i]-=1;return o}function Xue(e,t){return e===0?t?1:.8:e===1?t?.6:.5:t?.3:.2}const fb={:.15,:.1,:-.15,:-.2,:-.25},$s={:"",:"",:"",:"",:""},Ou={:"",:"",:"",:"",:""},Go={:"",:"",:"",:"",:""},_x={:"",:"",:"",:"",:""};function hb(e,t){return e===t?"":$s[t]===e?"":$s[e]===t?"":Go[e]===t?"":Go[t]===e?"":""}const iu=e=>e&&e.length>=1?e[0]:"",Ul=e=>e&&e.length>=2?e[1]:"";function Jue(e,t){const n=e.reduce((u,d)=>u+d,0);if(n<=0||t<=0)return new Array(e.length).fill(0);const r=e.map(u=>u/n*t),i=r.map(u=>Math.floor(u));let a=t-i.reduce((u,d)=>u+d,0);const o=r.map((u,d)=>({i:d,frac:u-Math.floor(u)})).sort((u,d)=>d.frac-u.frac),l=i.slice();for(let u=0;u<o.length&&a>0;u++)l[o[u].i]+=1,a-=1;return l}function lR(e,t){switch(e){case"":return t;case"":return $s[t];case"":return Go[t];case"":return _x[t];case"":return Ou[t];default:return t}}const cR={:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},Que=["","","","",""],ede={:{a:"",b:"",aVal:0,bVal:0},:{a:"",b:"",aVal:0,bVal:0},:{a:"",b:"",aVal:0,bVal:0},:{a:"",b:"",aVal:0,bVal:0},:{a:"",b:"",aVal:0,bVal:0}},uR={:0,:0,:0,:0,:0,:0,:0,:0,:0,:0},tde={:{:!1,:!1,:!1},:{:!1,:!1,:!1},:{:!1,:!1,:!1},:{:!1,:!1,:!1},:{:!1,:!1,:!1}};function nde(e){return e.length===4&&!!e[0]&&e[0].length>=2&&!!e[1]&&e[1].length>=2&&!!e[2]&&e[2].length>=2}function rde(e){const t=Que.map(n=>({name:n,value:0,color:"#999999"}));return{overlay:{totalsSub:{...uR},perStemAugBare:{},perStemAugFull:{}},totals:t,perTenGod:{...ede},PerTenGodSub:{...uR},elementScoreRaw:e,deukFlags:{...tde},perStemElement:{},perStemElementScaled:{},stemScoreRaw:{},elementPercent100:{:0,:0,:0,:0,:0}}}function ide(e,t){const n=e[2]?.[0]??"",r=t??n;return{dayStem:r,dayEl:r===""||r===""?"":r===""||r===""?"":r===""||r===""?"":r===""||r===""?"":""}}const mr={threeHarmony:20,halfStrong:12,halfMedium:8,halfWeak:4,monthBranch:10,maxPerElement:30};function ade(e){const t=e.map(i=>i&&i.length>1?i[1]:""),n=new Set(t),r=[];return n.has("")&&n.has("")&&n.has("")&&r.push({element:"",score:mr.threeHarmony}),n.has("")&&n.has("")&&n.has("")&&r.push({element:"",score:mr.threeHarmony}),n.has("")&&n.has("")&&n.has("")&&r.push({element:"",score:mr.threeHarmony}),n.has("")&&n.has("")&&n.has("")&&r.push({element:"",score:mr.threeHarmony}),n.has("")&&n.has("")?r.push({element:"",score:mr.halfStrong}):n.has("")&&n.has("")?r.push({element:"",score:mr.halfMedium}):n.has("")&&n.has("")&&r.push({element:"",score:mr.halfWeak}),n.has("")&&n.has("")?r.push({element:"",score:mr.halfStrong}):n.has("")&&n.has("")?r.push({element:"",score:mr.halfMedium}):n.has("")&&n.has("")&&r.push({element:"",score:mr.halfWeak}),n.has("")&&n.has("")?r.push({element:"",score:mr.halfStrong}):n.has("")&&n.has("")?r.push({element:"",score:mr.halfMedium}):n.has("")&&n.has("")&&r.push({element:"",score:mr.halfWeak}),n.has("")&&n.has("")?r.push({element:"",score:mr.halfStrong}):n.has("")&&n.has("")?r.push({element:"",score:mr.halfMedium}):n.has("")&&n.has("")&&r.push({element:"",score:mr.halfWeak}),r}function Gy(e){const{pillars:t,dayStem:n,mode:r,debug:i,useHarmonyOverlay:a,criteriaMode:o,luck:l}=e,u=o==="modern"?que:Kue,d=r==="classic"?Iue:Lue,h={:0,:0,:0,:0,:0},m={},b=(t??[]).slice(0,4).map(Yue);if(!nde(b))return rde(h);const{dayStem:y,dayEl:k}=ide(b,n),w=[{val:0},{val:0},{val:0},{val:0}],_=[[],[],[],[]];for(const J of b){if(!J)continue;const ae=J.charAt(0),pe=J.charAt(1);m[ae]=(m[ae]??0)+50;const me=cR[pe];me&&(m[me]=(m[me]??0)+50)}for(let J=0;J<4;J++){const ae=b[J];if(!ae||ae.length<2)continue;const pe=K1[J],me=iu(ae),ee=Ul(ae),je=u[pe],xe=ru(me);xe&&(h[xe]+=je.stem,w[J]={stem:me,el:xe,pol:W1(me),val:je.stem});const ue=zl(ee);ue&&(h[ue]+=je.branch,_[J].push({el:ue,pol:V1(ee),val:je.branch}))}for(let J=0;J<4;J++){const ae=b[J];if(!ae||ae.length<2)continue;const pe=K1[J],me=d[ae]??0;if(me===0)continue;const ee=iu(ae),je=ru(ee);if(!je)continue;const xe=u[pe].stem*me;h[je]+=xe,w[J].val+=xe}for(let J=0;J<4;J++){const ae=b[J];if(!ae||ae.length<2)continue;const pe=Ul(ae),me=zl(pe);if(!me)continue;const ee=u[K1[J]].branch,je=V1(pe);let xe=0;const ue=[J];J-1>=0&&ue.push(J-1),J+1<=3&&ue.push(J+1),J-2>=0&&ue.push(J-2),J+2<=3&&ue.push(J+2);const Ee=Array.from(new Set(ue));for(const Me of Ee){if(!b[Me]||b[Me].length<2)continue;const Ie=iu(b[Me]),Ke=ru(Ie);if(!Ke||Ke!==me)continue;const ht=W1(Ie)===je,mt=Math.abs(Me-J),De=Xue(mt,ht);xe+=ee*De}xe!==0&&(h[me]+=xe,_[J].push({el:me,pol:je,val:xe}))}for(let J=0;J<4;J++){const ae=b[J];if(!ae||ae.length<2)continue;const pe=iu(ae),me=ru(pe);if(!me)continue;let ee=0;const je=Ul(b[J]),xe=zl(je);xe&&(ee+=fb[hb(me,xe)]);const ue=J===0?[1]:J===3?[2]:[J-1,J+1];for(const Me of ue){const Ie=iu(b[Me]),Ke=ru(Ie);Ke&&(ee+=fb[hb(me,Ke)])}const Ee=w[J].val;if(Ee!==0&&ee!==0){const Me=Math.round(Ee*(1+ee)*10)/10,Ie=Me-Ee;h[me]+=Ie,w[J].val=Me}}for(let J=0;J<4;J++){const ae=b[J];if(!ae||ae.length<2)continue;const pe=Ul(ae),me=zl(pe);if(!me)continue;let ee=0;const je=iu(b[J]),xe=ru(je);xe&&(ee+=fb[hb(me,xe)]);const ue=J===0?[1]:J===3?[2]:[J-1,J+1];for(const Me of ue){if(!b[Me]||b[Me].length<2)continue;const Ie=Ul(b[Me]),Ke=zl(Ie);Ke&&(ee+=fb[hb(me,Ke)])}const Ee=_[J].reduce((Me,Ie)=>Me+Ie.val,0);if(Ee!==0&&ee!==0){const Ie=Math.round(Ee*(1+ee)*10)/10-Ee;h[me]+=Ie,_[J].length>0&&(_[J][0].val+=Ie)}}a&&foe(b,h);const j={dae:{stem:.04,branch:.04},se:{stem:.03,branch:.03},wol:{stem:.02,branch:.02},il:{stem:.01,branch:.01}},O=[];if(!(!l||l.tab==="")){let J=function(ae,pe){const me=ae?Re(ae):"";if(!me||me.length<2)return;const ee=iu(me),je=Ul(me),xe=ru(ee),ue=zl(je),Ee=Math.max(1,(h.??0)+(h.??0)+(h.??0)+(h.??0)+(h.??0)),Me=j[pe];if(xe){const Ie=Math.round(Ee*Me.stem);h[xe]+=Ie,O.push({stem:ee,el:xe,pol:W1(ee),val:Ie})}if(ue){const Ie=Math.round(Ee*Me.branch);h[ue]+=Ie,O.push({el:ue,pol:V1(je),val:Ie})}};J(l.dae,"dae"),(l.tab===""||l.tab===""||l.tab==="")&&J(l.se,"se"),(l.tab===""||l.tab==="")&&J(l.wol,"wol"),l.tab===""&&J(l.il,"il")}const T=ade(b),C=b[1]?Ul(b[1]):"",M=zl(C),P={:0,:0,:0,:0,:0};for(const J of T)P[J.element]+=J.score;M&&(P[M]+=mr.monthBranch),["","","","",""].forEach(J=>{const ae=Math.min(mr.maxPerElement,P[J]);ae>0&&(h[J]+=ae)});const I={:0,:0,:0,:0,:0};Object.entries(h).forEach(([J,ae])=>{const pe=q(J,k);I[pe]+=ae});const z=["","","","",""],K=sR(z.map(J=>I[J])),G=HE(y),F=z.map((J,ae)=>({name:J,value:K[ae],color:G[J]})),B={:0,:0,:0,:0,:0,:0,:0,:0,:0,:0};function q(J,ae){return J===ae?"":$s[ae]===J?"":Go[ae]===J?"":Go[J]===ae?"":Ou[ae]===J?"":""}function X(J,ae){switch(q(J,k)){case"":B.+=ae*.5,B.+=ae*.5;break;case"":B.+=ae*.5,B.+=ae*.5;break;case"":B.+=ae*.5,B.+=ae*.5;break;case"":B.+=ae*.5,B.+=ae*.5;break;case"":B.+=ae*.5,B.+=ae*.5;break}}Object.entries(h).forEach(([J,ae])=>{ae>0&&X(J,ae)});const Z={:{a:"",b:"",aVal:0,bVal:0},:{a:"",b:"",aVal:0,bVal:0},:{a:"",b:"",aVal:0,bVal:0},:{a:"",b:"",aVal:0,bVal:0},:{a:"",b:"",aVal:0,bVal:0}};for(const J of z){const ae=F.find(ue=>ue.name===J)?.value??0,pe=Z[J].a,me=Z[J].b,ee=B[pe]??0,je=B[me]??0,xe=ee+je;if(xe>0){const ue=Math.floor(ae*ee/xe+.5),Ee=ae-ue;Z[J].aVal=ue,Z[J].bVal=Ee}else Z[J].aVal=Math.floor(ae/2+.5),Z[J].bVal=ae-Z[J].aVal}const{flags:Y}=s9(b,h),V={};w.forEach(J=>{if(J.stem&&J.el&&J.val){const ae=`${J.stem}${J.el}`;V[ae]=(V[ae]??0)+J.val}});for(let J=0;J<4;J++){const ae=b[J];if(!ae||ae.length<2)continue;const pe=Ul(ae),me=cR[pe],ee=zl(pe);if(!me||!ee)continue;const je=`${me}${ee}`,xe=_[J].reduce((ue,Ee)=>ue+Ee.val,0);V[je]=(V[je]??0)+xe}const Q=["","","","","","","","","",""],se={};Q.forEach(J=>{se[J]=0}),z.forEach(J=>{const ae=F.find(Ee=>Ee.name===J)?.value??0,pe=lR(J,k),me=Object.entries(V).filter(([Ee])=>Ee.endsWith(pe)),ee=me.map(([Ee])=>Ee),je=me.map(([,Ee])=>Ee),xe=Math.max(0,Math.round(ae*10)),ue=Jue(je.length?je:[1,1],xe);if(ee.length===2)se[ee[0]]=(ue[0]??Math.round(xe/2))/10,se[ee[1]]=(ue[1]??xe-(ue[0]??0))/10;else if(ee.length===1)se[ee[0]]=xe/10;else{const Ee=pe===""?["",""]:pe===""?["",""]:pe===""?["",""]:pe===""?["",""]:["",""],Me=Math.floor(xe/2),Ie=xe-Me;se[Ee[0]]+=Me/10,se[Ee[1]]+=Ie/10}});const ce=["","","","",""],W={:0,:0,:0,:0,:0};for(const J of F){const ae=lR(J.name,k);W[ae]+=J.value}const ne=sR(ce.map(J=>W[J])),ie={:ne[0],:ne[1],:ne[2],:ne[3],:ne[4]};return i&&console.log({elementScore:h,totals:F,perTenGod:Z,perStemRaw:V,perStemElementScaled:se,elementPercent100:ie}),{overlay:{totalsSub:B,perStemAugBare:V,perStemAugFull:se},totals:F,perTenGod:Z,PerTenGodSub:B,stemScoreRaw:m,elementScoreRaw:h,deukFlags:Y,perStemElement:V,perStemElementScaled:se,elementPercent100:ie}}const mb={:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},ode=["","","","",""];function dR(e){return ode.includes(e)}const c9={:"",:"",:"",:"",:""},u9={:"",:"",:"",:"",:""},d9={:"",:"",:"",:"",:""},f9={:"",:"",:"",:"",:""},Yy={:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},sde=["","","","","","","","","",""],lde={natal:50,dae:30,se:20,wol:7,il:3};function qy(e){if(!e)return null;const t=e.trim();if(["","","","","","","","","",""].includes(t))return t;if(Jn[t])return Jn[t];if(["","","","","","","","","","","",""].includes(t))return mb[t]??null;if(ar[t])return mb[ar[t]]??null;const n=t.charAt(0);return Jn[n]?Jn[n]:["","","","","","","","","",""].includes(n)?n:ar[n]?mb[ar[n]]??null:["","","","","","","","","","","",""].includes(n)?mb[n]??null:null}function cde(e,t){const n=Yy[e],r=Yy[t];if(!n||!r)return"";let i;r===n?i="":r===c9[n]?i="":r===u9[n]?i="":r===d9[n]?i="":r===f9[n]?i="":i="";const a=dR(e)===dR(t);switch(i){case"":return a?"":"";case"":return a?"":"";case"":return a?"":"";case"":return a?"":"";case"":return a?"":""}}function Ky(e){const t=Object.entries(e),n=t.reduce((d,[,h])=>d+(h>0?h:0),0);if(n<=0)return Object.fromEntries(t.map(([d])=>[d,0]));const r=t.map(([d,h])=>[d,(h>0?h:0)*100/n]),i=r.map(([d,h])=>[d,Math.round(h)]);let a=i.reduce((d,[,h])=>d+h,0);const o=r.map(([d,h])=>[d,h-Math.round(h)]).sort((d,h)=>h[1]-d[1]),l=Object.fromEntries(i.map(([d,h])=>[d,h]));let u=0;for(;a<100&&u<o.length;)l[o[u][0]]+=1,a+=1,u+=1;return l}function fR(e,t){const n={:0,:0,:0,:0,:0,:0,:0,:0,:0,:0};for(const[r,i]of Object.entries(e??{})){if(i<=0)continue;const a=qy(r);if(!a)continue;const o=cde(t,a);n[o]+=i}return Ky(n)}function ude(e){return{:{a:"",b:"",aVal:e.,bVal:e.},:{a:"",b:"",aVal:e.,bVal:e.},:{a:"",b:"",aVal:e.,bVal:e.},:{a:"",b:"",aVal:e.,bVal:e.},:{a:"",b:"",aVal:e.,bVal:e.}}}function hR(e){const t={};for(const[n,r]of Object.entries(e??{})){if(r<=0)continue;const i=qy(n);i&&(t[i]=(t[i]??0)+r)}return t}function mR(e){const n={...{:0,:0,:0,:0,:0,:0,:0,:0,:0,:0}};for(const r of sde){const i=Yy[r],a=`${r}${i}`;n[a]=Math.max(0,Math.round(e[r]??0))}return n}function pR(e){const t=["","","","",""],n={:0,:0,:0,:0,:0};for(const r of t)typeof e[r]=="number"&&(n[r]=e[r]);return n}function dde(e,t){const n=Yy[e];if(!n)return"";let r;return t===n?r="":t===c9[n]?r="":t===u9[n]?r="":t===d9[n]?r="":t===f9[n]?r="":r="",r}function fde(e,t){const n=t?.dae?pb(t.dae):{},r=t?.se?pb(t.se):{},i=t?.wol?pb(t.wol):{},a=t?.il?pb(t.il):{},o={},l=[{kind:"natal",bare:e},{kind:"dae",bare:n},{kind:"se",bare:r},{kind:"wol",bare:i},{kind:"il",bare:a}];for(const{kind:d,bare:h}of l){const m=lde[d];if(!h||Object.keys(h).length===0)continue;const b=Ky(h);for(const[y,k]of Object.entries(b))o[y]=(o[y]??0)+k*m}const u=Object.values(o).reduce((d,h)=>d+h,0);if(u>0)for(const d of Object.keys(o))o[d]=o[d]/u*100;return o}function hde(e){if(!e)return[];const t=qy(e.charAt(0)),n=qy(e.charAt(1));return[t,n].filter(Boolean)}function pb(e){const t=hde(e),n={};for(const r of t)n[r]=(n[r]??0)+1;return n}function Hp(e){const{natal:t,tab:n,chain:r,hourKey:i="unified"}=e,a=[Re(t[0]??""),Re(t[1]??""),Re(t[2]??""),Re(t[3]??"")],o=a[2]?.charAt(0)??"",{hiddenStemMode:l,hiddenStem:u}=Kl,d=l==="classic"?"classic":"hgc",h=r?{tab:n,dae:r.dae?Re(r.dae):void 0,se:(n===""||n===""||n==="")&&r.se?Re(r.se):void 0,wol:(n===""||n==="")&&r.wol?Re(r.wol):void 0,il:n===""&&r.il?Re(r.il):void 0}:{tab:n},m=Gy({pillars:a,dayStem:o,mode:d,criteriaMode:"modern",useHarmonyOverlay:!0,luck:h}),b=Gy({pillars:a,dayStem:o,mode:d,criteriaMode:"modern",useHarmonyOverlay:!0,luck:{tab:"",dae:void 0,se:void 0,wol:void 0,il:void 0}}),y=hR(m.perStemElementScaled),k=n===""?y:fde(y,r),w=Ky(k),_=fR(k,o),j=ude(_),O=mR(w),T=hR(b.perStemElementScaled),C=fR(T,o),M=Ky(T),P=mR(M);return{elementScoreRaw:m.elementScoreRaw,elementPercent100:m.elementPercent100,totals:m.totals,perStemElementScaled:m.perStemElementScaled,dayStem:o,mergedStems:w,perTenGodSub:_,perTenGod:j,overlay:{totalsSub:_,perStemAugBare:k,perStemAugFull:O},natalFixed:{elementScoreRaw:pR(b.elementScoreRaw),elementPercent100:pR(b.elementPercent100),totalsSub:C,overlay:{totalsSub:C,perStemAugBare:T,perStemAugFull:P}}}}const Lo=["","","","",""],oc={:0,:0,:0,:0,:0},mde=[{name:"",min:0,max:10},{name:"",min:10,max:20},{name:"",min:20,max:35},{name:"",min:35,max:45},{name:"",min:45,max:55},{name:"",min:55,max:65},{name:"",min:65,max:80},{name:"",min:80,max:100.0001}],pde={:{temp:"cold",wet:"wet"},:{temp:"cold",wet:"wet"},:{temp:"cold",wet:"wet"},:{temp:"mild",wet:"normal"},:{temp:"mild",wet:"normal"},:{temp:"mild",wet:"wet"},:{temp:"hot",wet:"normal"},:{temp:"hot",wet:"dry"},:{temp:"hot",wet:"wet"},:{temp:"mild",wet:"dry"},:{temp:"mild",wet:"dry"},:{temp:"mild",wet:"dry"}},Z1=24,gde=[[60,0],[55,.01],[50,.03],[45,.06],[40,.1],[35,.18],[30,.32],[27,.48],[24,.62]],Wy=20;Object.fromEntries(Object.entries(Jn).map(([e,t])=>[t,e]));Object.fromEntries(Object.entries(ar).map(([e,t])=>[t,e]));const h9={:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},bde={:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""};function m9(e){return Math.max(0,Math.min(100,e))}function pf(e,t,n){return Math.max(t,Math.min(n,e))}function yde(e){const t=m9(e);return mde.find(n=>t>=n.min&&t<n.max)?.name??""}function vde(e){const t=e?.[2]?.charAt(0)??"";return h9[t]??null}function xde(e){return(e?.[1]?.charAt(1)??"")||null}function p9(e){return _x[e]}function wde(e){return e?{peer:e,resource:Ou[e],leak:$s[e],wealth:Go[e],officer:p9(e)}:null}function _de(e){const t={...oc};for(const n of e){if(!n)continue;const r=n.charAt(0),i=n.charAt(1),a=h9[r],o=bde[i];a&&(t[a]+=10),o&&(t[o]+=6)}return t}function Sde(e){const t=Object.values(e).reduce((r,i)=>r+i,0);if(t<=0)return{:20,:20,:20,:20,:20};const n={...oc};return Lo.forEach(r=>{n[r]=e[r]/t*100}),n}function kde(e){if(!e||e.length===0)return null;const t=e.reduce((r,i)=>r+(i?.value??0),0)||0;if(t<=0)return null;const n=r=>e.find(i=>i.name===r)?.value??0;return m9((n("")+n(""))/t*100)}function Ede(e,t){return!e||!t?null:t===e?"":$s[e]===t?"":Go[e]===t?"":p9(e)===t?"":Ou[e]===t?"":null}function jde(e){for(const[t,n]of gde)if(e>=t)return n;return 1}const gR=(e,t)=>pf((Wy-(t[e]??0))/Wy,0,1),bR=(e,t)=>pf(((t[e]??0)-Wy)/Wy,0,1);function Tde(e,t,n,r){const i=Ede(e,n);if(!e||!i)return 0;const a=pf((50-t)/50,0,1),o=pf((t-50)/50,0,1),l=gR(n,r),u=bR(n,r),d=gR(e,r),h=bR(e,r),m=6.5;let b=0;if(a>0)switch(i){case"":b=+(.3+.4*d+.15*l)*a;break;case"":b=+(.18+.45*d)*a;break;case"":b=-(.08+.2*(1-l)+.1*h)*a;break;case"":b=-(.22+.25*(1-l)+.1*(1-d))*a;break;case"":b=-(.35+.25*(1-l)+.1*(1-d))*a;break}else if(o>0)switch(i){case"":b=-(.25+.25*(1-l)+.2*h)*o;break;case"":b=-(.28+.2*h)*o;break;case"":b=+(.18+.2*l+.15*h)*o;break;case"":b=+(.22+.25*l+.1*h)*o;break;case"":b=+(.2+.2*l)*o;break}else switch(i){case"":b=.08*(d+l);break;case"":b=.05*d-.03*h;break;case"":b=.02*l-.02*u;break;case"":b=.01*l-.06*u;break;case"":b=-.05*(1-l);break}return Math.round(m*b*10)/10}function Ade(e,t,n){const r=["","",""].includes(t),i=["","","",""].includes(t),a={...oc};if(r){const o=$s[e],l=Go[e],u=_x[e];a[o]+=28,a[l]+=22,a[u]+=20,n.get(o)?.push(":    ()"),n.get(l)?.push(":     "),n.get(u)?.push(":     ")}if(i){const o=Ou[e],l=e;a[o]+=28,a[l]+=22,n.get(o)?.push(":     "),n.get(l)?.push(":     ")}return a}function yR(e,t){if(!e)return{...oc};const n=pde[e]??{temp:"mild",wet:"normal"},r={...oc};return n.temp==="cold"?(r.+=16,r.+=6,t.get("")?.push(":   "),t.get("")?.push(":  ")):n.temp==="hot"&&(r.+=14,r.+=6,t.get("")?.push(":   "),t.get("")?.push(":  ")),n.wet==="wet"?(r.+=8,r.+=4,t.get("")?.push(":   "),t.get("")?.push(":  ")):n.wet==="dry"&&(r.+=8,r.+=4,t.get("")?.push(":   "),t.get("")?.push(":  ")),r}function vR(e,t){const n={...oc};for(const r of Lo){const i=Go[r],a=Math.max(0,(e[r]??0)-(e[i]??0));if(a<=0)continue;const o=$s[r],l=Math.round(a*.35);l>0&&(n[o]+=l,t.get(o)?.push(`: ${r}${i} `))}return n}function xR(e,t){const n={...oc},r=Object.entries(e),i=Math.min(...r.map(([,o])=>o)),a=r.filter(([,o])=>o<=Math.max(6,i));for(const[o]of a)n[o]+=12,t.get(o)?.push(":  ");return n}const gb=()=>new Map(Lo.map(e=>[e,[]]));function gf(e,t){const n=vde(e),r=xde(e),i=_de(e),a=Sde(i);let o=kde(t);if(o==null)if(!n)o=50;else{const F=n,B=Ou[n],q=Object.values(i).reduce((X,Z)=>X+Z,0)||1;o=Math.min(100,Math.max(0,((i[F]??0)+(i[B]??0))/q*100))}const l=yde(o),u={...oc},d=gb();if(n){const F=Ade(n,l,d);Lo.forEach(B=>{u[B]+=F[B]??0})}const h=yR(r,d);Lo.forEach(F=>{u[F]+=h[F]??0});const m=vR(i,d);Lo.forEach(F=>{u[F]+=m[F]??0});const b=xR(i,d);Lo.forEach(F=>{u[F]+=b[F]??0});const y=wde(n),k={:0,:0,:0,:0,:0};if(Array.isArray(t))for(const F of t)k[F.name]=F.value;if(o>=45&&o<=55&&y){const F=k.>=30||k.>=Math.max(k.,k.,k.,k.)+5;o<=50?(u[y.resource]+=14,d.get(y.resource)?.push(": -"),u[y.peer]+=10,d.get(y.peer)?.push(": -"),u[y.leak]+=6,d.get(y.leak)?.push(": -"),u[y.wealth]+=3,d.get(y.wealth)?.push(": -"),F&&(u[y.officer]=Math.round(u[y.officer]*.8*10)/10,d.get(y.officer)?.push(":   "))):(u[y.leak]+=14,d.get(y.leak)?.push(": -"),u[y.wealth]+=10,d.get(y.wealth)?.push(": -"),u[y.officer]+=6,d.get(y.officer)?.push(": -"),u[y.resource]+=3,d.get(y.resource)?.push(": -"))}Lo.forEach(F=>{const B=Tde(n,o,F,a);u[F]=pf(Math.round((u[F]+B)*10)/10,0,999)});const _=o<50;Lo.forEach(F=>{const B=a[F]??0,q=_&&n===F;if(B>=Z1&&!q){const X=jde(B);u[F]=Math.round(u[F]*X*10)/10;const Z=Math.min(14,Math.max(0,Math.ceil((B-Z1)*.5)));Z>0&&(u[F]=pf(u[F]-Z,0,999)),d.get(F)?.push(" ()")}});const j={:[],:[],:[],:[],:[]};if(n){const F=$s[n],B=Go[n],q=_x[n],X=n,Z=Ou[n];j[F].push(""),j[B].push(""),j[q].push(""),j[X].push(""),j[Z].push("")}const O={:(i.??0)>0,:(i.??0)>0,:(i.??0)>0,:(i.??0)>0,:(i.??0)>0},T=F=>{const B=a[F]??0;return B>=Z1&&!(_&&n===F)?B>=55?4:B>=45?3:2:O[F]?0:1},C=yR(r,gb()),M=vR(i,gb()),P=xR(i,gb()),I=Lo.map(F=>({element:F,score:Math.round(u[F]*10)/10,via:Nde(F,C,M,P),reasons:(d.get(F)??[]).slice(),tenGodHints:j[F]})).sort((F,B)=>{const q=T(F.element),X=T(B.element);return q!==X?q-X:B.score!==F.score?B.score-F.score:F.element.localeCompare(B.element)}),z=Ode(l,C,M,P),K={:0,:0,:0,:0,:0},G=t?t.reduce((F,B)=>(F[B.name]=B.value,F),{...K}):void 0;return{chosenType:z,ordered:I,debug:{band:l,overallPct:o,elementScore:i,tenGodTotals:G,monthBranch:r??void 0}}}function Nde(e,t,n,r){const i=[];return(t[e]??0)>0&&i.push(""),(n[e]??0)>0&&i.push(""),(r[e]??0)>0&&i.push(""),i.length===0&&i.push(""),i}function Ode(e,t,n,r){if(["","","",""].includes(e))return"";const a=d=>Object.values(d).reduce((h,m)=>h+m,0),o=a(t),l=a(n),u=a(r);return o>Math.max(l,u)?"":l>=u?"":""}function wR(e){const t=e.reduce((l,u)=>l+u,0);if(t<=0)return e.map(()=>0);const n=e.map(l=>l*100/t),r=n.map(l=>Math.round(l));let a=100-r.reduce((l,u)=>l+u,0);const o=n.map((l,u)=>({i:u,f:l-Math.round(l)})).sort((l,u)=>u.f-l.f);for(let l=0;l<o.length&&a>0;l++)r[o[l].i]+=1,a-=1;return r}const Gd=["","","","",""],Vn={threeHarmony:20,halfStrong:12,halfMedium:8,halfWeak:4,monthBranch:10,maxPerElement:30},Cde={:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""};function g9(e){return Cde[e]??e}function b9(e){const t=(e||"").trim().slice(-1),n=g9(t);return"".includes(n)?"":"".includes(n)?"":"".includes(n)?"":"".includes(n)?"":"".includes(n)?"":null}function y9(e){const t=e.map(i=>i&&i.length>1?g9(i[1]):""),n=new Set(t),r=[];return n.has("")&&n.has("")&&n.has("")&&r.push({element:"",score:Vn.threeHarmony}),n.has("")&&n.has("")&&n.has("")&&r.push({element:"",score:Vn.threeHarmony}),n.has("")&&n.has("")&&n.has("")&&r.push({element:"",score:Vn.threeHarmony}),n.has("")&&n.has("")&&n.has("")&&r.push({element:"",score:Vn.threeHarmony}),n.has("")&&n.has("")?r.push({element:"",score:Vn.halfStrong}):n.has("")&&n.has("")?r.push({element:"",score:Vn.halfMedium}):n.has("")&&n.has("")&&r.push({element:"",score:Vn.halfWeak}),n.has("")&&n.has("")?r.push({element:"",score:Vn.halfStrong}):n.has("")&&n.has("")?r.push({element:"",score:Vn.halfMedium}):n.has("")&&n.has("")&&r.push({element:"",score:Vn.halfWeak}),n.has("")&&n.has("")?r.push({element:"",score:Vn.halfStrong}):n.has("")&&n.has("")?r.push({element:"",score:Vn.halfMedium}):n.has("")&&n.has("")&&r.push({element:"",score:Vn.halfWeak}),n.has("")&&n.has("")?r.push({element:"",score:Vn.halfStrong}):n.has("")&&n.has("")?r.push({element:"",score:Vn.halfMedium}):n.has("")&&n.has("")&&r.push({element:"",score:Vn.halfWeak}),r}function Mde(e,t){const n=[Re(e[0]??""),Re(e[1]??""),Re(e[2]??""),Re(e[3]??"")],{elementScoreRaw:r}=Gy({pillars:n,criteriaMode:t?.criteriaMode??"modern",useHarmonyOverlay:t?.useHarmonyOverlay??!0,luck:void 0}),i=Gd.map(y=>r[y]??0),a=wR(i),o={:0,:0,:0,:0,:0};Gd.forEach((y,k)=>{o[y]=a[k]});const l=y9(n),u=b9(n[1]),d={:0,:0,:0,:0,:0};for(const y of l)d[y.element]+=y.score;u&&(d[u]+=Vn.monthBranch);for(const y of Gd)o[y]=(o[y]??0)+Math.min(Vn.maxPerElement,d[y]??0);const h=Gd.map(y=>o[y]??0),m=wR(h),b={:0,:0,:0,:0,:0};return Gd.forEach((y,k)=>{b[y]=m[k]}),b}function Dde(e,t){const n=[Re(e[0]??""),Re(e[1]??""),Re(e[2]??""),Re(e[3]??"")],{elementScoreRaw:r}=Gy({pillars:n,criteriaMode:"modern",useHarmonyOverlay:!0,luck:void 0}),i=y9(n),a=b9(n[1]),o={...r},l={:0,:0,:0,:0,:0};for(const u of i)l[u.element]+=u.score;a&&(l[a]+=Vn.monthBranch);for(const u of Gd)o[u]=(o[u]??0)+Math.min(Vn.maxPerElement,l[u]??0);return{:o.??0,:o.??0,:o.??0,:o.??0,:o.??0}}function v9(e,t){const n=Mde(e,t),r=Re(e[2]??"").charAt(0),a={:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}[r];if(!a)return 0;const o={:"",:"",:"",:"",:""},l=n[a]??0,u=n[o[a]]??0;return l+u*.7}const bf={:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},x9={:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},bb={:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},Pde=["","","","",""];function _R(e){return Pde.includes(e)}const Rde={:"",:"",:"",:"",:""},Lde={:"",:"",:"",:"",:""},Ide={:"",:"",:"",:"",:""},$de={:"",:"",:"",:"",:""};function lp(e){if(!e)return null;const t=e.trim();if(["","","","","","","","","",""].includes(t))return t;if(Jn[t])return Jn[t];if(["","","","","","","","","","","",""].includes(t))return bb[t]??null;if(ar[t])return bb[ar[t]]??null;const n=t.charAt(0);return Jn[n]?Jn[n]:["","","","","","","","","",""].includes(n)?n:ar[n]?bb[ar[n]]??null:["","","","","","","","","","","",""].includes(n)?bb[n]??null:null}function Bde(e,t){const n=bf[e],r=bf[t];if(!n||!r)return"";let i;r===n?i="":r===Rde[n]?i="":r===Lde[n]?i="":r===Ide[n]?i="":r===$de[n]?i="":i="";const a=_R(e)===_R(t);switch(i){case"":return a?"":"";case"":return a?"":"";case"":return a?"":"";case"":return a?"":"";case"":return a?"":""}}function zde(e){switch(e){case"":case"":return"";case"":case"":return"";case"":case"":return"";case"":case"":return"";case"":case"":return""}}function of(e){const t=Object.entries(e),n=t.reduce((d,[,h])=>d+(h>0?h:0),0);if(n<=0)return Object.fromEntries(t.map(([d])=>[d,0]));const r=t.map(([d,h])=>[d,(h>0?h:0)*100/n]),i=r.map(([d,h])=>[d,Math.floor(h)]);let a=i.reduce((d,[,h])=>d+h,0);const o=r.map(([d,h])=>[d,h-Math.floor(h)]).sort((d,h)=>h[1]-d[1]),l=Object.fromEntries(i.map(([d,h])=>[d,h]));let u=0;for(;a<100&&u<o.length;)l[o[u][0]]+=1,a+=1,u+=1;return l}function Ude(e){const t={:0,:0,:0,:0,:0};for(const[n,r]of Object.entries(e??{})){const i=bf[lp(n)];i&&r>0&&(t[i]+=r)}return of(t)}function Fde(e,t){const n={:0,:0,:0,:0,:0,:0,:0,:0,:0,:0};for(const[r,i]of Object.entries(e??{})){if(i<=0)continue;const a=lp(r);if(!a)continue;const o=Bde(t,a);n[o]+=i}return n}function Hde(e){const t={:0,:0,:0,:0,:0};for(const[n,r]of Object.entries(e)){const i=zde(n);t[i]+=r}return of(t)}function SR(e){const t=Array.isArray(e)?e.slice(0,4):[];for(;t.length<4;)t.push("");return t.map((n,r)=>{const i=Re(n??"");return i||(r<=2?"--":"")})}function w9(e,t){const n=!!t?.includeBranches,r={:!1,:!1,:!1,:!1,:!1};for(const i of e){if(!i)continue;const a=bf[i.charAt(0)];if(a&&(r[a]=!0),n){const o=x9[i.charAt(1)];o&&(r[o]=!0)}}return r}function _9(e){const t={:0,:0,:0,:0,:0};for(const n of e){if(!n)continue;const r=bf[n.charAt(0)],i=x9[n.charAt(1)];r&&(t[r]+=10),i&&(t[i]+=6)}return t}function X1(e){return e[0]?.length===2&&e[1]?.length===2&&e[2]?.length===2}const Gde=["","","","","","","","","",""];function Yde(e){const t={};for(const[n,r]of Object.entries(e??{})){if(r<=0)continue;const i=lp(n);i&&(t[i]=(t[i]??0)+r)}return t}function kR(e){const n={...{:0,:0,:0,:0,:0,:0,:0,:0,:0,:0}};for(const r of Gde){const i=bf[r],a=`${r}${i}`;n[a]=Math.max(0,Math.round(e[r]??0))}return n}const qde={natal:50,dae:30,se:20,wol:7,il:3};function Kde(e){const t={};for(const{kind:r,bare:i}of e){const a=qde[r]??0;if(a<=0)continue;const o=of(i);for(const[l,u]of Object.entries(o))t[l]=(t[l]??0)+u*a}const n=Object.values(t).reduce((r,i)=>r+i,0);if(n>0)for(const r of Object.keys(t))t[r]=t[r]/n*100;return t}function Wde(e){if(!e)return[];const t=lp(e.charAt(0)),n=lp(e.charAt(1));return[t,n].filter(Boolean)}function yb(e){const t=Wde(e),n={};for(const r of t)n[r]=(n[r]??0)+1;return n}const Ds=["","","","",""],pr={threeHarmony:20,halfStrong:12,halfMedium:8,halfWeak:4,monthBranch:10,maxPerElement:30};function Vde(e){const t=(e??"").trim(),n=t?t[t.length-1]:"";return["","",""].includes(n)?"WINTER":["","",""].includes(n)?"SUMMER":["","",""].includes(n)?"SPRING":["","",""].includes(n)?"AUTUMN":"UNKNOWN"}const Zde=30;function S9(e){return e<=40?"cold":e>=60?"hot":"mild"}function Xde(e){return e>=60?"wet":e<=40?"dry":"normal"}function Vy(e){return Math.abs(e-50)>=Zde}function Jde(e,t){if(!t)return e==="WINTER"||e==="SUMMER"?.85:.55;const n=Vy(t.hanNanPct),r=Vy(t.joSeupPct);if(!(n||r))return e==="WINTER"||e==="SUMMER"?.55:.45;const a=S9(t.hanNanPct),o=e==="WINTER"?"cold":e==="SUMMER"?"hot":"mild",l=a==="mild"||o==="mild"||a===o;return e==="WINTER"||e==="SUMMER"?l?1.5:.8:.65}function Qde(e,t){const n=Ds.filter(u=>t[u]),r=n.map(u=>e[u]??0),i=r.length?Math.max(...r):0,a=r.length?Math.min(...r):0,o=Math.round(i-a),l=n.length>=3&&o<=12;return{presentEls:n,spread:o,balancedPresent:l}}function kT(e){return/||wood/i.test(e)?"":/||fire/i.test(e)?"":/||earth/i.test(e)?"":/||metal/i.test(e)?"":/||water/i.test(e)?"":null}function cp(e){switch(e){case"":return"";case"":return"";case"":return"";case"":return"";case"":return""}}function J1(e){switch(e){case"":return"";case"":return"";case"":return"";case"":return"";case"":return""}}function Zy(e){switch(e){case"":return"";case"":return"";case"":return"";case"":return"";case"":return""}}function efe(e){switch(e){case"":return"";case"":return"";case"":return"";case"":return"";case"":return""}}function tfe(e){const n=[["",""],["",""],["",""],["",""],["",""]],r=[];for(const[i,a]of n){const o=e[i]??0,l=e[a]??0;if(o<24||l<24||Math.min(o,l)/Math.max(o,l)<.6)continue;let d=null,h=null;if(Zy(i)===a)d=i,h=a;else if(Zy(a)===i)d=a,h=i;else continue;const m=cp(d),b=`${d}()${h}    ${m}( )`;r.push({a:i,b:a,controller:d,controlled:h,mediator:m,reason:b})}return r}function ET(e,t){const n=Math.max(.1,1-t/120);return Math.max(0,Math.round(e*n))}function dm(e,t,n){return n?e.map(r=>!r.elNorm||t[r.elNorm]?r:{...r,score:0,reasons:[...r.reasons,":    0"]}):e}function fm(e,t,n){const r=i=>i?t[i]:!1;return[...e].sort((i,a)=>{if(n){const o=r(i.elNorm)?1:0,l=r(a.elNorm)?1:0;if(o!==l)return l-o}return a.score!==i.score?a.score-i.score:(i.elNorm??i.element).localeCompare(a.elNorm??a.element,"ko")})}function nfe(e,t,n){const r=(e??"").trim(),i=r?r[r.length-1]:"",a=new Set(["","",""]),o=new Set(["","",""]),l=new Set(["","",""]),u=new Set(["","",""]),d=Object.fromEntries(Ds.map(w=>[w,0])),h=Object.fromEntries(Ds.map(w=>[w,[]])),m=(w,_,j)=>{d[w]+=_,h[w].push(j)},b=w=>{for(const _ of w)m(_.el,_.base,_.why)};let y=null,k=!1;if(n){const w=Vy(n.hanNanPct),_=Vy(n.joSeupPct);if(w||_){k=!0;const j=S9(n.hanNanPct),O=Xde(n.joSeupPct),T=Math.abs(n.hanNanPct-50),C=Math.abs(n.joSeupPct-50),M=Math.min(1,T/35),P=Math.min(1,C/35),I=Math.round(100-n.hanNanPct),z=Math.round(n.hanNanPct),K=Math.round(n.joSeupPct),G=Math.round(100-n.joSeupPct);if(w){const F=Math.round(80+50*M),B=Math.round(40+25*M);j==="cold"?(m("",F,`( ${I}%):   -> `),m("",B," :   -> "),y=""):j==="hot"&&(m("",F,`( ${z}%):   -> `),m("",B," :  -> "),y="")}if(_){const F=Math.round(55+35*P),B=Math.round(25+20*P);O==="wet"?(m("",F,`( ${K}%):   -> `),y!==""&&m("",B," :   -> ")):O==="dry"&&(y!==""&&m("",F,`( ${G}%):   -> `),m("",B," :  -> "))}}}if(!k){let w=[];a.has(i)?w=[{el:"",base:110,why:"():     "},{el:"",base:60,why:" :      "}]:o.has(i)?w=[{el:"",base:110,why:"():     "},{el:"",base:70,why:" :   () "}]:l.has(i)?w=[{el:"",base:90,why:"():     /"},{el:"",base:55,why:" : ()    "}]:u.has(i)?w=[{el:"",base:85,why:"():     "},{el:"",base:75,why:"():     "}]:w=[{el:"",base:60,why:":       ()"},{el:"",base:60,why:":       ()"}],b(w)}return Ds.filter(w=>d[w]>0).map(w=>({element:w,elNorm:w,score:ET(d[w],t[w]??0),reasons:[...h[w],` ${w}  ${Math.round(t[w]??0)}%`]}))}function rfe(e){const t=tfe(e);if(!t.length)return{applicable:!1,items:[],note:"       "};const n=new Map;for(const i of t){const a=e[i.a]??0,o=e[i.b]??0,l=Math.min(a,o),u=95+Math.round(l/2),d=n.get(i.mediator),h=[i.reason,`(${i.a} ${Math.round(a)}%  ${i.b} ${Math.round(o)}%)`,` : ${i.controller}${i.mediator}${i.controlled}`];d?n.set(i.mediator,{score:Math.max(d.score,u),reasons:[...d.reasons,...h]}):n.set(i.mediator,{score:u,reasons:h})}return{applicable:!0,items:Array.from(n.entries()).map(([i,a])=>({element:i,elNorm:i,score:ET(a.score,e[i]??0),reasons:a.reasons})),note:"////       ( )  "}}function ife(e,t){let n="",r=e.??0;for(const d of Ds){const h=e[d]??0;h<r&&(r=h,n=d)}const i=Ds.some(d=>!t[d]);if(!(i||r<=8))return{applicable:!1,items:[],note:"    ( )  "};const l=ET((i?85:70)+Math.round((8-Math.min(8,r))*6),e[n]??0);return{applicable:!0,items:[{element:n,elNorm:n,score:l,reasons:[i?"():  /  ":"():      ",`  ${n} = ${Math.round(r)}%`]}],note:" ()  ( 8% )      "}}function afe(e){let t="",n=-1;for(const r of Ds){const i=e[r]??0;i>n&&(n=i,t=r)}return{el:t,pct:n}}function ofe(e){const t=e[2]?.charAt(0);return t?"".includes(t)?"":"".includes(t)?"":"".includes(t)?"":"".includes(t)?"":"".includes(t)?"":null:null}function k9(e){const t=(e||"").trim().slice(-1);return"".includes(t)?"":"".includes(t)?"":"".includes(t)?"":"".includes(t)?"":"".includes(t)?"":null}function sfe(e){return{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}[e]??e}function E9(e){const t=e.map(i=>i&&i.length>1?sfe(i[1]):""),n=new Set(t),r=[];return n.has("")&&n.has("")&&n.has("")&&r.push({element:"",name:" ",score:pr.threeHarmony}),n.has("")&&n.has("")&&n.has("")&&r.push({element:"",name:" ",score:pr.threeHarmony}),n.has("")&&n.has("")&&n.has("")&&r.push({element:"",name:" ",score:pr.threeHarmony}),n.has("")&&n.has("")&&n.has("")&&r.push({element:"",name:" ",score:pr.threeHarmony}),n.has("")&&n.has("")?r.push({element:"",name:" ()",score:pr.halfStrong}):n.has("")&&n.has("")?r.push({element:"",name:" ()",score:pr.halfMedium}):n.has("")&&n.has("")&&r.push({element:"",name:" ()",score:pr.halfWeak}),n.has("")&&n.has("")?r.push({element:"",name:" ()",score:pr.halfStrong}):n.has("")&&n.has("")?r.push({element:"",name:" ()",score:pr.halfMedium}):n.has("")&&n.has("")&&r.push({element:"",name:" ()",score:pr.halfWeak}),n.has("")&&n.has("")?r.push({element:"",name:" ()",score:pr.halfStrong}):n.has("")&&n.has("")?r.push({element:"",name:" ()",score:pr.halfMedium}):n.has("")&&n.has("")&&r.push({element:"",name:" ()",score:pr.halfWeak}),n.has("")&&n.has("")?r.push({element:"",name:" ()",score:pr.halfStrong}):n.has("")&&n.has("")?r.push({element:"",name:" ()",score:pr.halfMedium}):n.has("")&&n.has("")&&r.push({element:"",name:" ()",score:pr.halfWeak}),r}function lfe(e){const t=Object.values(e).reduce((r,i)=>r+i,0);if(t<=.001)return e;const n={...e};for(const r of Ds)n[r]=n[r]/t*100;return n}function j9(e,t,n){const r=k9(t),i=E9(n),a={...e},o={:0,:0,:0,:0,:0};for(const l of i)o[l.element]+=l.score;r&&(o[r]+=pr.monthBranch);for(const l of Ds)a[l]=(a[l]??0)+Math.min(pr.maxPerElement,o[l]);return lfe(a)}function cfe(e,t){return e===t?"":cp(e)===t?"":Zy(e)===t?"":Zy(t)===e?"":cp(t)===e?"":""}function jT(e){const{eokbuList:t,monthGz:n,elemPct:r,presentMap:i,demoteAbsent:a,gyeokgukList:o,pillars:l}=e,u=ace(l),d=ofe(l),h=Vde(n),m=E9(l),b=j9(r,n,l),y=[];for(const me of m)y.push(me.name);const k=k9(n);k&&y.push(`(${k}) `);const w=afe(b),_=w.el,j=w.pct;let O=[...t],T="1.  /()  ",C=!1;if(d){const me=b[d]??0,ee=b[J1(d)]??0;C=me+ee>=45}if(j>=30&&d){let me=null,ee="";switch(cfe(d,_)){case"":if(d===""&&h==="WINTER")me="",ee=` (${d})     ()  `;else{const xe=cp(d);me=xe,ee=`(${d})  (${xe}) `}break;case"":me=efe(_),ee=`(${_})  (${me}) ()`;break;case"":me=J1(d),ee=`(${_})  (${me})  ()`;break;case"":me=d,ee=`(${_})  (${me})  ()`;break;case"":C?(me=cp(d),ee=`(${_})  (${me}) ()`):(me=J1(d),ee=`(${_})  (${me}) ()`);break}if(me){const xe=y.length>0?`[${y.join(", ")}] `:" ";O=[{element:me,elNorm:me,score:150,reasons:[ee,xe]},...t.filter(ue=>ue.elNorm!==me)],T=` : ${ee}`}}const M=fm(dm(O,i,a),i,a),P=fm(dm(nfe(n,r,u),i,a),i,a),I=Qde(r,i),z=Jde(h,u),K=1.25,G=rfe(r),F=fm(dm(G.items,i,a),i,a),B=ife(r,i),q=fm(dm(B.items,i,a),i,a),X=Array.isArray(o)?o:[],Z=X.length>0,Y=fm(dm(X,i,a),i,a),V=w.pct>=60,Q=V?1.6:.55,se=V?"     ( )  ":Z?"/     ":"  ",ce=me=>Math.max(0,...me.map(ee=>Number.isFinite(ee.score)?ee.score:0)),ne=[{kind:"EOKBU",title:"",marker:"",priority:1,weight:K,applicable:M.length>0,note:T,candidates:M},{kind:"JOHU",title:"",marker:"",priority:2,weight:z,applicable:!0,note:h==="WINTER"?"2. ()   ":h==="SUMMER"?"2. ()   ":"2.    ,   ",candidates:P},{kind:"TONGGWAN",title:"",marker:"",priority:3,weight:.7,applicable:G.applicable,note:G.note,candidates:F},{kind:"BYEONGYAK",title:"",marker:"",priority:3,weight:.7,applicable:B.applicable,note:B.note,candidates:q},{kind:"GYEOKGUK",title:"",marker:"",priority:4,weight:Q,applicable:Z,note:se,candidates:Y}].map(me=>{const ee=me.candidates.map(Ee=>{if(!me.applicable)return{...Ee,finalScore:0};let Me=Ee.score*me.weight;if(me.kind==="EOKBU")if(I.balancedPresent)Me*=.75;else{const Ie=Math.min(35,Math.round(I.spread*.9));Me+=Ie}return Ee.elNorm&&!i[Ee.elNorm]&&(Me*=.25),Me=Math.min(99,Me*.55),{...Ee,finalScore:Math.round(Me)}});ee.sort((Ee,Me)=>(Me.finalScore??0)-(Ee.finalScore??0));const xe=ee[0]?.finalScore??0,ue=ce(ee);return{...me,maxScore:ue,fitScore:xe,finalScore:xe,candidates:ee}}).sort((me,ee)=>me.priority-ee.priority),ie=[...ne].filter(me=>me.applicable&&me.candidates.length>0).sort((me,ee)=>ee.fitScore!==me.fitScore?ee.fitScore-me.fitScore:me.priority-ee.priority)[0],he=Math.max(0,...ne.map(me=>me.fitScore)),J=ie?.kind??null,ae=ne.map(me=>{if(!J)return me;if(me.kind===J){const ee=me.fitScore<he?he+1:me.fitScore;return{...me,finalScore:ee}}return{...me,finalScore:me.fitScore}}),pe=J?ae.find(me=>me.kind===J)??null:null;return{bestKind:J,best:pe,groups:ae,adjustedElemPct:b}}const ufe={:"",:"",:"",:"",:""},dfe={:"",:"",:"",:"",:""},ffe={:"",:"",:"",:"",:""},hfe={:"",:"",:"",:"",:""};function Q1(e){switch(e){case"":case"":case"":case"":return"";case"":case"":case"":case"":return"";case"":case"":case"":case"":return"";case"":case"":case"":case"":return"";case"":case"":case"":case"":return"";default:return null}}function mfe(e){const t=(e||"").trim();return!t||t==="-"?null:t.includes("")?"":t.includes("")?"":t.includes("")?"":t.includes("")?"":t.includes("")?"":t.includes("")||t.includes("")?"":t.includes("")?"":t.includes("")?"":t.includes("")||t.includes("")?"":t.includes("")?"":null}function pfe(e){return e===""||e===""?"":e===""||e===""?"":e===""||e===""?"":e===""||e===""?"":""}function gfe(e,t){switch(t){case"":return e;case"":return ufe[e];case"":return ffe[e];case"":return hfe[e];case"":return dfe[e]}}function bfe(e,t){const n=new Map,r=(u,d,h)=>{if(!u)return;const m=n.get(u);if(!m){n.set(u,{element:u,score:d,reasons:[h]});return}m.score=Math.max(m.score,d),m.reasons=m.reasons.includes(h)?m.reasons:[...m.reasons,h]},i=Q1(t),a=mfe(e.);if(i&&a){const u=pfe(a),d=gfe(i,u);r(d,92,` ${e.}  ${u} (${d})`)}const o=Q1(e.);o&&r(o,86,` ${e.}  (${o})`);const l=Q1(e.);return l&&r(l,70,` ${e.}  (${l})`),Array.from(n.values()).sort((u,d)=>d.score-u.score)}const hm=e=>e&&e.length>=1?e.charAt(0):"",vb=e=>e&&e.length>=2?e.charAt(1):"",yfe={:["",""],:["",""],:["",""],:["",""],:["",""]};function vfe(e){const t=String(e??"");if(!/^\d{8}$/.test(t))return new Date;const n=Number(t.slice(0,4)),r=Number(t.slice(4,6)),i=Number(t.slice(6,8)),a=new Date(n,r-1,i,12,0,0,0);return Number.isNaN(a.getTime())?new Date:a}function xfe({data:e,pillars:t,lunarPillars:n,daewoonGzProp:r,blendTab:i,demoteAbsent:a}){const{date:o,yearGZ:l,monthGZ:u,dayGZ:d}=ni(),h=S.useMemo(()=>Re(l),[l]),m=S.useMemo(()=>Re(u),[u]),b=S.useMemo(()=>Re(d),[d]),y=dc(e,e?.mingSikType),k=S.useMemo(()=>{if(!y?.length)return 0;const De=y.findIndex((ze,Ge)=>{const oe=y[Ge+1]?.at;return o>=ze.at&&(!oe||o<oe)});return De!==-1?De:o<y[0].at?0:y.length-1},[y,o]),w=S.useMemo(()=>{const De=r??y?.[k]?.gz??"";return Re(De)||null},[r,y,k]),{manualHour:_,usePrevDay:j}=qi(),O=e.mingSikType??"/",T=S.useMemo(()=>SR(t),[t]),C=S.useMemo(()=>SR(n),[n]),M=S.useMemo(()=>{const De=[...T];return(!De[3]||De[3]===""||De[3]==="--")&&_&&(De[3]=_.stem+_.branch),De},[T,_]),P=S.useMemo(()=>{const De=[...C];return(!De[3]||De[3]===""||De[3]==="--")&&_&&(De[3]=_.stem+_.branch),De},[C,_]),I=S.useMemo(()=>{const De=Number(e.birthDay?.slice(0,4)),ze=Number(e.birthDay?.slice(4,6)),Ge=Number(e.birthDay?.slice(6,8));if(!Number.isFinite(De)||!Number.isFinite(ze)||!Number.isFinite(Ge))return null;const oe=new Date(De,ze-1,Ge,12,0,0,0),Ce=Re(ut(oe)||""),Ue=Re(Ot(oe)||""),rt=Re(gt(oe,O)||"");return[Ce,Ue,rt,""]},[e.birthDay,O]),z=X1(M),K=X1(P),F=(e.calendarType==="lunar"?"lunar":"solar")==="lunar"?K?"lunar":z?"solar":"lunar":z?"solar":K?"lunar":"solar",B=S.useMemo(()=>{const ze=[...F==="lunar"?K?P:z?M:I??["","","",""]:z?M:K?P:I??["","","",""]];if((!ze[3]||ze[3]===""||ze[3]==="--")&&_&&(ze[3]=_.stem+_.branch),ze[3]==="--"&&(ze[3]=""),!j)return ze;const Ge=io(ze[2]||"",-1);return[ze[0],ze[1],Ge,ze[3]]},[F,z,K,M,P,I,_,j]),q=S.useMemo(()=>hm(B[2]??""),[B]),X=S.useMemo(()=>vb(B[1]??""),[B]),Z=S.useMemo(()=>vfe(e.birthDay),[e.birthDay]),Y=S.useMemo(()=>_?_.stem+_.branch:B[3]||"",[_,B]),V=S.useMemo(()=>({dae:i!==""?w??null:null,se:i===""||i===""||i===""?h??null:null,wol:i===""||i===""?m??null:null,il:i===""?b??null:null}),[i,w,h,m,b]),Q=S.useMemo(()=>Hp({natal:B,tab:i,chain:V,hourKey:Y}),[B,i,V,Y]),se=S.useMemo(()=>{if(!Q)return null;const De=Yde(Q.perStemElementScaled),ze=V.dae?yb(V.dae):{},Ge=V.se?yb(V.se):{},oe=V.wol?yb(V.wol):{},Ce=V.il?yb(V.il):{},Ue=Kde([{kind:"natal",bare:De},{kind:"dae",bare:ze},{kind:"se",bare:Ge},{kind:"wol",bare:oe},{kind:"il",bare:Ce}]),rt=of(Ue),xt=kR(rt),st=Fde(Ue,Q.dayStem),Oe=Hde(st),Fe=Ude(Ue);return{perStemAugBare:Ue,perStemAugFull:xt,elemPct100:Fe,totalsMain:Oe,totalsSub:st}},[Q,V]),ce=S.useMemo(()=>w9(B,{includeBranches:!0}),[B]),W=S.useMemo(()=>["","","","",""].some(De=>!ce[De]),[ce]),ne=se?.elemPct100??Q?.elementPercent100??_9(B),ie=S.useMemo(()=>{if(!Q||!se)return[];const De=HE(Q.dayStem);return Object.entries(se.totalsMain).map(([ze,Ge])=>({name:ze,value:Ge,color:De[ze]}))},[Q,se]),he=se?.elemPct100??{:0,:0,:0,:0,:0},J=se?.totalsSub??Q?.perTenGodSub??null,ae=S.useMemo(()=>[i,w??"",h??"",m??"",b??"",o?.toISOString?.()??"",Y].join("|"),[i,w,h,m,b,o,Y]),pe=typeof gf=="function"?gf(B,Q?.totals):null,me=S.useMemo(()=>(pe?.ordered??[]).map(ze=>{const Ge=ze.element??"",oe=/||wood/i.test(Ge)?"":/||fire/i.test(Ge)?"":/||earth/i.test(Ge)?"":/||metal/i.test(Ge)?"":/||water/i.test(Ge)?"":null,Ce=typeof ze.score=="number"?ze.score:oe?ne[oe]??0:0,Ue=Array.isArray(ze.reasons)?ze.reasons:[];return{element:Ge,elNorm:oe,score:Ce,reasons:Ue}}),[pe,ne]),ee=S.useMemo(()=>me.map(De=>({element:De.element,elNorm:De.elNorm,score:De.score,reasons:De.reasons})),[me]),je=S.useMemo(()=>{if(!q||!X)return[];const[De,ze,Ge,oe]=B,Ce=[hm(De),hm(ze),hm(Ge),hm(oe)].filter(Boolean),Ue=[vb(De),vb(Ge),vb(oe)].filter(Boolean),rt=J7({dayStem:q,monthBranch:X,date:Z,pillars:B,emittedStems:Ce,otherBranches:Ue}),xt=bfe(rt,q),st=Oe=>/||wood/i.test(Oe)?"":/||fire/i.test(Oe)?"":/||earth/i.test(Oe)?"":/||metal/i.test(Oe)?"":/||water/i.test(Oe)?"":null;return(xt??[]).map(Oe=>({element:Oe.element,elNorm:st(Oe.element),score:Number.isFinite(Oe.score)?Oe.score:0,reasons:Array.isArray(Oe.reasons)?Oe.reasons:[]}))},[B,q,X,Z]),xe=S.useMemo(()=>{const De=B[1]||"";return jT({eokbuList:ee,monthGz:De,elemPct:ne,presentMap:ce,demoteAbsent:a,pillars:B,gyeokgukList:je})},[B,ee,ne,ce,a,je]),ue=S.useMemo(()=>{const De=xe.adjustedElemPct;return De?of({:De.??0,:De.??0,:De.??0,:De.??0,:De.??0}):null},[xe.adjustedElemPct]),Ee=S.useMemo(()=>{if(!q||!ue)return ie;const De={:0,:0,:0,:0,:0};for(const oe of["","","","",""]){const Ce=dde(q,oe);De[Ce]+=ue[oe]??0}const ze=of(De),Ge=HE(q);return Object.entries(ze).map(([oe,Ce])=>({name:oe,value:Ce,color:Ge[oe]}))},[ue,ie,q]),Me=S.useMemo(()=>{const De=se?.perStemAugFull;if(!De||!ue)return De;const ze=De,Ge={};for(const oe of["","","","",""]){const[Ce,Ue]=yfe[oe],rt=`${Ce}${oe}`,xt=`${Ue}${oe}`,st=Math.max(0,Number(ze[rt]??0)),Oe=Math.max(0,Number(ze[xt]??0)),Fe=st+Oe,We=Math.max(0,Number(ue[oe]??0));if(We<=0){Ge[Ce]=0,Ge[Ue]=0;continue}if(Fe<=0){Ge[Ce]=Math.round(We),Ge[Ue]=0;continue}const bt=st/Fe*We,At=Oe/Fe*We,Nt=Math.floor(bt),Mt=Math.floor(At);let Kt=Math.round(We)-(Nt+Mt),rn=Nt,ai=Mt;Kt>0&&(bt-Nt>=At-Mt?rn+=1:ai+=1,Kt-=1),Kt>0&&(rn+=Kt),Ge[Ce]=rn,Ge[Ue]=ai}return kR(Ge)},[ue,se?.perStemAugFull]),Ie=S.useMemo(()=>{const De=J?Object.entries(J).sort(([Ge],[oe])=>Ge.localeCompare(oe)).map(([Ge,oe])=>`${Ge}:${oe}`).join(","):"none",ze=Ee.map(Ge=>`${Ge.name}:${Ge.value}`).join(",");return`${ae}||${B.join("")}||${ze}||${De}`},[ae,B,Ee,J]),Ke=S.useMemo(()=>{const De=xe.best;return De?.candidates?.length?De.candidates.map(ze=>({element:ze.element,elNorm:ze.elNorm,score:ze.score,reasons:ze.reasons})):me},[xe,me]),ht=S.useMemo(()=>Math.max(0,...Ke.map(De=>Number.isFinite(De.score)?De.score:0)),[Ke]),mt=S.useMemo(()=>v9(B,{criteriaMode:"modern",useHarmonyOverlay:!0}),[B]);return{seGz:h,wolGz:m,ilGz:b,daewoonGz:w,activePillars:B,chain:V,unified:Q,overlay:se,chartData:Ee,pentagonPerStemScaled:Me,elementPct:he,tenSubTotals100:J,hourKeyForUi:Y,revKey:Ie,yongshinMulti:xe,yongshinRecommend:xe,yongshinList:Ke,maxScore:ht,hasAbsent:W,dayElementPercent:mt,isValidActive:X1(B)}}function wfe(e){if(typeof e!="object"||e===null)return!1;const t=e,n=t.at,r=t.gz;return n instanceof Date&&!Number.isNaN(n.getTime())&&typeof r=="string"}function _fe(e){const t=new Date(e,1,15,12,0,0,0);return Re(ut(t)||"")}function Sfe(e,t){return(e?.ordered??[]).map(r=>{const i=r.element??"",a=kT(i),o=typeof r.score=="number"?r.score:a?t[a]??0:0;return{element:i,elNorm:a,score:o,reasons:Array.isArray(r.reasons)?r.reasons:[]}})}const kfe={:"",:"",:"",:"",:"",:"",:"",:"",:"",:""};function Xy(e){return kfe[e]??null}function Efe(e,t){const n={:!1,:!1,:!1,:!1,:!1},r=_T(t);for(const i of e){const a=i?.charAt(0)??"",o=i?.charAt(1)??"",l=Xy(a);if(l&&(n[l]=!0),wT(o)){const u=r[o],d=[u.,u.,u.].filter(Boolean);for(const h of d){const m=Xy(h.stem);m&&h.w>0&&(n[m]=!0)}}}return n}function jfe(e,t){const n=_T(t),r={:0,:0,:0,:0,:0};for(const o of e){const l=o?.charAt(0)??"",u=o?.charAt(1)??"",d=Xy(l);if(d&&(r[d]+=50),wT(u)){const h=n[u],m=[h.,h.,h.].filter(Boolean),b=m.reduce((k,w)=>k+(Number.isFinite(w.w)?w.w:0),0),y=b>0?b:1;for(const k of m){const w=Xy(k.stem);w&&(r[w]+=50*k.w/y)}}}const i=r.+r.+r.+r.+r.,a=i>0?i:1;return{:r./a*100,:r./a*100,:r./a*100,:r./a*100,:r./a*100}}function Tfe(e,t,n){return e||jfe(t,n)}function Afe(e){const{data:t,pillars:n,hourKey:r,demoteAbsent:i,gyeokgukList:a,hiddenStemMode:o}=e,l=S.useMemo(()=>V7(o),[o]),u=dc(t,t?.mingSikType),d=S.useMemo(()=>Array.isArray(u)?u.filter(wfe).slice(0,10):[],[u]),[h,m]=S.useState(0),[b,y]=S.useState(0),k=Math.max(0,Math.min(d.length-1,h)),w=d[k]??null,_=S.useMemo(()=>{if(!w)return[];const K=w.at.getFullYear();return Array.from({length:10},(G,F)=>{const B=K+F;return{year:B,gz:_fe(B)}})},[w]),j=b==null?null:Math.max(0,Math.min(_.length-1,b)),O=j==null?null:_[j]??null,T=S.useMemo(()=>Efe(n,l),[n,l]),C=S.useMemo(()=>["","","","",""].some(K=>!T[K]),[T]),M=S.useMemo(()=>{const K=w?Re(w.gz):null,G=O?Re(O.gz):null;return{dae:K||null,se:G||null,wol:null,il:null}},[w,O]),P=S.useMemo(()=>M.se?"":"",[M.se]),I=S.useMemo(()=>{const K=w?`${w.at.getFullYear()}~ ${Re(w.gz)}`:" -",G=O?` / ${O.year} ${Re(O.gz)}`:"";return`${K}${G}`},[w,O]),z=S.useMemo(()=>{if(!w)return null;const K=Hp({natal:n,tab:P,chain:M,hourKey:r}),G=Tfe(K?.elementPercent100,n,l),F=typeof gf=="function"?gf(n,K?.totals):null,B=Sfe(F,G);return jT({eokbuList:B,monthGz:n[1]||"",elemPct:G,presentMap:T,demoteAbsent:i,pillars:n,gyeokgukList:Array.isArray(a)?a:null})},[w,n,P,M,r,T,i,a,l]);return{daeIndex:k,setDaeIndex:m,seIndex:j,setSeIndex:y,dae10:d,se10:_,chain:M,tab:P,label:I,recommend:z,presentMap:T,hasAbsent:C}}const Nfe={EOKBU:"",JOHU:"",TONGGWAN:"",BYEONGYAK:"",GYEOKGUK:""};function WE(e){return e?Nfe[e]??e:""}function Ofe(e){if(typeof e!="object"||e===null)return!1;const t=e;return t.at instanceof Date&&!Number.isNaN(t.at.getTime())&&typeof t.gz=="string"}function Cfe(e){const t=new Date(e,1,15,12,0,0,0);return Re(ut(t)||"")}function eS(e){const t=e?.best??null,n=t?.candidates?.[0]??null,r=t?.kind??null,i=n?.element??null,a=n?.elNorm??(n?.element?kT(n.element):null),o=typeof t?.fitScore=="number"?t.fitScore:0,l=r&&i?`${WE(r)}:${i}`:r?`${WE(r)}:`:"";return{kind:r,top1:i,top1ElNorm:a,fit:o,label:l,result:e}}function Mfe(e,t){return(e?.ordered??[]).map(r=>{const i=r.element??"",a=kT(i),o=typeof r.score=="number"?r.score:a?t[a]??0:0;return{element:i,elNorm:a,score:o,reasons:Array.isArray(r.reasons)?r.reasons:[]}})}function ER(e){const{pillars:t,hourKey:n,chain:r,tab:i,demoteAbsent:a,presentMap:o,gyeokgukList:l}=e,u=Hp({natal:t,tab:i,chain:r,hourKey:n}),d=u?.elementPercent100??_9(t),h=typeof gf=="function"?gf(t,u?.totals):null,m=Mfe(h,d);return jT({eokbuList:m,monthGz:t[1]||"",elemPct:d,presentMap:o,demoteAbsent:a,pillars:t,gyeokgukList:Array.isArray(l)?l:null})}function Dfe(e){const t=[];for(const n of e){const r=t[t.length-1];if(!r){t.push({fromYear:n.year,toYear:n.year,snap:n.snap});continue}r.snap.label===n.snap.label?r.toYear=n.year:t.push({fromYear:n.year,toYear:n.year,snap:n.snap})}return t}const Io=({text:e,tone:t="base",onClick:n,title:r})=>{const i=t==="pick"?"bg-violet-100 text-violet-800 border-violet-200 dark:bg-violet-900/30 dark:text-violet-200 dark:border-violet-800":t==="diff"?"bg-amber-100 text-amber-800 border-amber-200 dark:bg-amber-900/30 dark:text-amber-200 dark:border-amber-800 cursor-pointer":"bg-neutral-200 dark:bg-neutral-800 text-neutral-700 dark:text-neutral-300 border-neutral-200 dark:border-neutral-700",a=g.jsx("span",{className:`inline-flex items-center text-[11px] px-2 py-0.5 rounded-full border whitespace-nowrap ${i}`,title:r,children:e});return n?g.jsx("button",{type:"button",className:"inline-flex",onClick:n,title:r,children:a}):a};function jR({snap:e}){const t=e.result?.best??null,n=t?.candidates?.slice(0,3)??[];return t?g.jsxs("div",{className:"mt-2 rounded-lg border border-neutral-200 dark:border-neutral-800 bg-white dark:bg-neutral-900 p-3",children:[g.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[g.jsx(Io,{text:`: ${WE(t.kind)}`,tone:"pick"}),g.jsx(Io,{text:` ${t.fitScore}`}),n[0]?.element?g.jsx(Io,{text:`1 ${n[0].element}`,tone:"diff"}):null]}),t.note?g.jsx("div",{className:"mt-2 text-xs text-neutral-600 dark:text-neutral-400 whitespace-normal break-words",children:t.note}):null,n.length?g.jsx("ul",{className:"mt-2 space-y-2",children:n.map((r,i)=>g.jsx("li",{className:"text-xs",children:g.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[g.jsx(Io,{text:`${i+1} ${r.element}`}),g.jsx(Io,{text:` ${r.score}`}),(r.reasons??[]).slice(0,4).map((a,o)=>g.jsx(Io,{text:a},o))]})},`${r.elNorm??r.element}-${i}`))}):g.jsx("div",{className:"mt-2 text-xs text-neutral-600 dark:text-neutral-400",children:" "})]}):g.jsx("div",{className:"text-xs text-neutral-600 dark:text-neutral-400",children:" "})}function Pfe(e){const{data:t,pillars:n,hourKey:r,demoteAbsent:i,natal:a}=e,o=S.useMemo(()=>w9(n,{includeBranches:!0}),[n]),l=dc(t,t?.mingSikType),u=S.useMemo(()=>Array.isArray(l)?l.filter(Ofe).slice(0,10):[],[l]),d=S.useMemo(()=>eS(a),[a]),[h,m]=S.useState(null),b=w=>m(_=>_===w?null:w),y=S.useMemo(()=>u.map((w,_)=>{const j=Re(w.gz)||"",T=ER({pillars:n,hourKey:r,chain:{dae:j||null,se:null,wol:null,il:null},tab:"",demoteAbsent:i,presentMap:o}),C=eS(T),M=w.at.getFullYear(),P=Array.from({length:10},(F,B)=>{const q=M+B,X=Cfe(q),Y=ER({pillars:n,hourKey:r,chain:{dae:j||null,se:X||null,wol:null,il:null},tab:"",demoteAbsent:i,presentMap:o}),V=eS(Y);return{year:q,snap:V}}),z=Dfe(P).filter(F=>F.snap.top1ElNorm!==C.top1ElNorm),K=C.top1ElNorm!==d.top1ElNorm,G=K||z.length>0;return{idx:_,dae:w,daeLabel:`${M}~ ${j||""}`,daeSnap:C,daeDiffFromNatal:K,segDiffOnly:z,hasAnyChange:G}}).filter(w=>w.hasAnyChange),[u,n,r,i,o,d.top1ElNorm]),k=S.useMemo(()=>y.some(w=>w.hasAnyChange),[y]);return g.jsxs("div",{className:"rounded-xl bg-neutral-100 dark:bg-neutral-900 p-4 space-y-3",children:[g.jsxs("div",{className:"flex items-center justify-between gap-2",children:[g.jsx("div",{className:"text-sm font-bold",children:"  "}),g.jsxs("div",{className:"text-xs text-neutral-600 dark:text-neutral-400 whitespace-normal break-words",children:["(): ",d.label," /  ",d.fit]})]}),k?g.jsx("div",{className:"space-y-3",children:y.map(w=>{const _=`dae:${w.idx}`,j=h===_;return g.jsxs("div",{className:"rounded-lg border border-neutral-200 dark:border-neutral-800 bg-white dark:bg-neutral-900 p-3",children:[g.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[g.jsx(Io,{text:` ${w.daeLabel}`,tone:"base"}),g.jsx(Io,{text:` ${w.daeSnap.label} ( ${w.daeSnap.fit})`,tone:w.daeDiffFromNatal?"diff":"base",onClick:()=>b(_),title:" (top3) "}),w.daeDiffFromNatal?g.jsx(Io,{text:" ",tone:"diff"}):null]}),w.segDiffOnly.length?g.jsx("div",{className:"mt-2 flex flex-wrap gap-2",children:w.segDiffOnly.map((O,T)=>{const C=`seg:${w.idx}:${T}`,M=h===C,P=O.fromYear===O.toYear?`${O.fromYear}`:`${O.fromYear}~${O.toYear}`;return g.jsxs("div",{className:"inline-flex flex-col",children:[g.jsx("div",{className:"flex items-center gap-2",children:g.jsx(Io,{text:` ${P}  ${O.snap.label} ( ${O.snap.fit})`,tone:"diff",onClick:()=>b(C),title:" (top3) "})}),M?g.jsx(jR,{snap:O.snap}):null]},C)})}):null,j?g.jsx(jR,{snap:w.daeSnap}):null]},_)})}):g.jsx("div",{className:"w-full p-3 rounded-xl bg-neutral-100 dark:bg-neutral-900 text-sm text-neutral-600 dark:text-neutral-400 text-center",children:"  ."})]})}const Jy=({children:e,variant:t="neutral"})=>{const n={neutral:"bg-neutral-100 text-neutral-600 dark:bg-neutral-800 dark:text-neutral-400",violet:"bg-violet-100 text-violet-700 dark:bg-violet-900/40 dark:text-violet-300",amber:"bg-amber-100 text-amber-700 dark:bg-amber-900/40 dark:text-amber-300",indigo:"bg-indigo-100 text-indigo-700 dark:bg-indigo-900/40 dark:text-indigo-300"};return g.jsx("span",{className:`px-2 py-0.5 rounded-md text-[10px] font-bold tracking-tight shadow-sm ${n[t]}`,children:e})};function Rfe(e,t){if(t<=0)return"12%";const n=Math.round(e/t*100);return`${Math.max(5,Math.min(100,n))}%`}function Lfe({pct:e}){const t=["","","","",""],n={:"bg-green-500",:"bg-red-500",:"bg-yellow-500",:"bg-gray-400",:"bg-black"};return g.jsxs("div",{className:"mt-3 pt-3 border-t border-neutral-100 dark:border-neutral-800",children:[g.jsx("div",{className:"flex items-center justify-between mb-2",children:g.jsx("span",{className:"text-[10px] font-bold text-neutral-400 uppercase tracking-wider",children:"   (/ )"})}),g.jsx("div",{className:"flex h-2.5 w-full rounded-full overflow-hidden bg-neutral-100 dark:bg-neutral-800 shadow-inner",children:t.map(r=>{const i=e[r]||0;return i<=0?null:g.jsx("div",{className:`h-full ${n[r]} transition-all duration-500`,style:{width:`${i}%`}},r)})}),g.jsx("div",{className:"flex flex-wrap gap-2 mt-1.5",children:t.map(r=>{const i=e[r]||0;return i<=0?null:g.jsxs("div",{className:"flex items-center gap-1",children:[g.jsx("div",{className:`w-1.5 h-1.5 rounded-full ${n[r]}`}),g.jsxs("span",{className:"text-[10px] text-neutral-500 dark:text-neutral-400 font-medium",children:[r," ",Math.round(i),"%"]})]},r)})})]})}function Ife({g:e,isBest:t,demoteAbsent:n,hasAbsent:r,onDemoteAbsentChange:i}){const a=e.candidates.slice(0,3);return g.jsxs("details",{open:t,className:`group rounded-2xl border transition-all duration-300 ${t?"border-violet-200 dark:border-violet-800 bg-white dark:bg-neutral-900 shadow-md":"border-neutral-200 dark:border-neutral-800 bg-neutral-50/50 dark:bg-neutral-900/50"}`,children:[g.jsx("summary",{className:"list-none cursor-pointer p-4 select-none",children:g.jsxs("div",{className:"flex flex-col gap-3",children:[g.jsxs("div",{className:"flex items-center justify-between",children:[g.jsxs("div",{className:"flex items-center gap-2",children:[g.jsxs("span",{className:`text-sm ${t?"font-black text-violet-600":"font-bold text-neutral-700 dark:text-neutral-300"}`,children:[e.marker," ",e.title]}),t&&g.jsx(Jy,{variant:"violet",children:" "}),!e.applicable&&g.jsx(Jy,{variant:"neutral",children:""})]}),g.jsxs("div",{className:"flex items-center gap-2",children:[g.jsx("span",{className:"text-[10px] font-medium text-neutral-400",children:""}),g.jsx("span",{className:"text-sm font-black text-neutral-800 dark:text-neutral-100",children:e.fitScore}),g.jsx("span",{className:"text-neutral-300 group-open:rotate-180 transition-transform",children:""})]})]}),g.jsx("p",{className:"text-[11px] text-neutral-500 dark:text-neutral-400 leading-relaxed whitespace-normal break-words pr-4",children:e.note})]})}),g.jsxs("div",{className:"px-4 pb-4 space-y-3",children:[a.length===0?g.jsx("div",{className:"text-[11px] text-neutral-400 py-2 text-center border-t border-neutral-100 dark:border-neutral-800",children:"  ."}):g.jsx("div",{className:"space-y-2 border-t border-neutral-100 dark:border-neutral-800 pt-3",children:a.map((o,l)=>g.jsxs("div",{className:"flex items-center gap-4 p-3 rounded-xl bg-neutral-50 dark:bg-neutral-800/50 border border-neutral-100 dark:border-neutral-800",children:[g.jsxs("div",{className:"flex flex-col items-center justify-center min-w-[40px]",children:[g.jsxs("span",{className:"text-[9px] font-bold text-neutral-400 uppercase",children:[l+1,"st"]}),g.jsx("span",{className:"text-sm font-black text-neutral-800 dark:text-neutral-100",children:o.element})]}),g.jsxs("div",{className:"flex-1 space-y-2",children:[g.jsx("div",{className:"h-2 w-full rounded-full bg-neutral-200 dark:bg-neutral-700 overflow-hidden shadow-inner",children:g.jsx("div",{className:`h-full rounded-full transition-all duration-700 ${t?"bg-gradient-to-r from-violet-400 to-indigo-500":"bg-neutral-400"}`,style:{width:Rfe(o.score??0,e.maxScore)}})}),g.jsx("div",{className:"flex flex-wrap gap-1",children:(o.reasons??[]).slice(0,4).map((u,d)=>g.jsx("span",{className:"text-[9px] px-1.5 py-0.5 rounded-md bg-white dark:bg-neutral-700 text-neutral-500 dark:text-neutral-400 border border-neutral-100 dark:border-neutral-600 shadow-sm",children:u},d))})]})]},`${e.kind}-${o.element}-${l}`))}),r&&g.jsxs("button",{type:"button",onClick:()=>i?.(!n),className:`px-2 py-1 rounded-full text-[10px] font-bold border transition cursor-pointer ${n?"bg-amber-100 text-amber-700 border-amber-200 dark:bg-amber-900/30 dark:text-amber-300 dark:border-amber-800":"bg-neutral-100 text-neutral-500 border-neutral-200 dark:bg-neutral-800 dark:text-neutral-400 dark:border-neutral-700"}`,"aria-pressed":n,children:[" ",n?"ON":"OFF"]})]})]})}function $fe({result:e}){const n=e.groups.filter(l=>l.applicable).flatMap(l=>l.candidates.map(u=>({...u,groupTitle:l.title,groupKind:l.kind,sortScore:u.finalScore??0}))).sort((l,u)=>u.sortScore-l.sortScore).slice(0,3),r=n[0];let i="  ",a=0,o="";if(r){a=r.sortScore,o=e.best?.note??"";const l=n[1],u=l&&r.sortScore-l.sortScore<=5,d=l&&r.groupKind!==l.groupKind;if(u&&d){const h=r.groupTitle.replace("",""),m=l.groupTitle;i=`${h} & ${m}`}else i=r.groupTitle}return g.jsxs("div",{className:"relative overflow-hidden rounded-[2rem] border border-violet-200 dark:border-violet-800 p-6 bg-gradient-to-br from-violet-50 to-white dark:from-violet-950/20 dark:to-neutral-900 shadow-sm",children:[g.jsx("div",{className:"absolute -right-4 -top-4 w-24 h-24 bg-violet-100 dark:bg-violet-900/20 rounded-full blur-3xl"}),g.jsxs("div",{className:"relative z-10 flex flex-col gap-4",children:[g.jsxs("div",{className:"flex items-center justify-between",children:[g.jsx(Jy,{variant:"indigo",children:" "}),g.jsxs("div",{className:"flex items-center gap-1.5",children:[g.jsx("span",{className:"text-[10px] text-neutral-400 font-bold uppercase",children:" "}),g.jsx("span",{className:"text-lg font-black text-violet-600 dark:text-violet-400",children:a})]})]}),g.jsxs("div",{className:"flex flex-col gap-2",children:[g.jsx("h4",{className:"text-2xl font-black text-neutral-800 dark:text-neutral-100 tracking-tighter",children:e.best?`${e.best.marker} ${i}`:"  "}),n.length>0&&g.jsx("div",{className:"flex flex-wrap gap-2 mt-1",children:n.map((l,u)=>g.jsxs("div",{className:"flex items-center gap-1.5 bg-white/60 dark:bg-black/20 px-2.5 py-1.5 rounded-lg border border-violet-100 dark:border-violet-900/30",children:[g.jsxs("span",{className:"text-[10px] font-bold text-neutral-500",children:[u+1,""]}),g.jsx("span",{className:"text-sm font-black text-indigo-600 dark:text-indigo-400",children:l.element}),g.jsxs("span",{className:"text-[9px] text-neutral-400",children:["(",l.groupTitle.replace("",""),")"]})]},`${l.element}-${u}`))})]}),o&&g.jsx("p",{className:"text-xs text-neutral-600 dark:text-neutral-400 leading-relaxed font-medium mt-1",children:o}),e.adjustedElemPct&&g.jsx(Lfe,{pct:e.adjustedElemPct})]})]})}function Bfe({recommend:e,data:t,pillars:n,hourKey:r,demoteAbsent:i,onDemoteAbsentChange:a,hasAbsent:o,hiddenStemMode:l}){const u=Afe({data:t,pillars:n,hourKey:r,demoteAbsent:i,hiddenStemMode:l}),d=o??u.hasAbsent;return g.jsxs("div",{className:"w-full p-6 rounded-[2.5rem] bg-white dark:bg-neutral-900 border border-neutral-100 dark:border-neutral-800 shadow-xl space-y-8",children:[g.jsxs("div",{className:"flex items-center justify-between px-2",children:[g.jsx("div",{className:"space-y-1",children:g.jsx("h2",{className:"text-xl font-black text-neutral-800 dark:text-neutral-100 tracking-tighter uppercase",children:" "})}),d&&g.jsxs("div",{className:"flex flex-col items-end",children:[g.jsx(Jy,{variant:"amber",children:"  "}),i&&g.jsx("span",{className:"text-[9px] text-amber-500 font-bold mt-1",children:" "})]})]}),g.jsx($fe,{result:e}),g.jsxs("div",{className:"space-y-4",children:[g.jsxs("div",{className:"flex items-center gap-2 px-2",children:[g.jsx("div",{className:"h-px flex-1 bg-neutral-100 dark:bg-neutral-800"}),g.jsx("span",{className:"text-[10px] font-black text-neutral-300 dark:text-neutral-600 uppercase tracking-widest",children:" "}),g.jsx("div",{className:"h-px flex-1 bg-neutral-100 dark:bg-neutral-800"})]}),g.jsx("div",{className:"grid gap-3",children:e.groups.map(h=>g.jsx(Ife,{g:h,isBest:e.bestKind===h.kind,demoteAbsent:i,hasAbsent:d,onDemoteAbsentChange:a},h.kind))})]}),g.jsx("div",{className:"pt-2",children:g.jsx(Pfe,{data:t,pillars:n,hourKey:r,demoteAbsent:i,natal:e})})]})}const TR=e=>e<10?`0${e}`:`${e}`;function zfe(e){const t=e,n=typeof t.birthDay=="string"?t.birthDay:"",r=typeof t.calendarType=="string"?t.calendarType:"solar";if(n.length<8)return e;const i=Number(n.slice(0,4)),a=Number(n.slice(4,6)),o=Number(n.slice(6,8));if(r==="lunar")try{const l=ea(i,a,o),u=`${l.getFullYear()}${TR(l.getMonth()+1)}${TR(l.getDate())}`;return{...e,birthDay:u,calendarType:"solar"}}catch{return e}return e}function Ufe(e){if(typeof e!="number"&&typeof e!="string")return null;const t=String(e);if(!/^\d{8}$/.test(t))return null;const n=Number(t.slice(0,4)),r=Number(t.slice(4,6)),i=Number(t.slice(6,8)),a=new Date(n,r-1,i);return Number.isNaN(a.getTime())?null:a}const Ffe=["  ","   ","","",""];function Hfe(e){return e==="  "||e===""}function Gfe({data:e,pillars:t,lunarPillars:n,daewoonGz:r}){const i=nn(y=>y.settings),a=kue(),o=zfe(e),l=Ufe(o.birthDay)||void 0,u=vn(y=>y.canUseAdvancedReportNow()),d=xfe({data:o,pillars:t,lunarPillars:n,daewoonGzProp:r,blendTab:a.blendTab,demoteAbsent:a.demoteAbsent}),h=S.useMemo(()=>"    100   ! (  )",[]),m=S.useMemo(()=>{if(!d.activePillars)return null;const y=Dde(d.activePillars);return s9(d.activePillars,y)},[d.activePillars]),b=S.useMemo(()=>{if(!d.chartData)return;const y=d.chartData.filter(k=>["","",""].includes(k.name));return y.sort((k,w)=>w.value-k.value),y[0]?.name},[d.chartData]);return d.isValidActive?g.jsxs("div",{className:"space-y-4 mb-4",children:[g.jsxs("div",{className:"flex flex-col items-center mb-8",children:[g.jsx("div",{className:"flex gap-2 justify-center flex-wrap mb-4",children:Sue.map(y=>{const k=a.blendTab===y;return g.jsx("button",{onClick:()=>a.setBlendTab(y),className:`
                  px-4 py-1.5 text-[11px] font-bold rounded-full transition-all duration-200 active:scale-95 cursor-pointer
                  ${k?"bg-amber-400 text-amber-950 shadow-[0_2px_10px_rgba(251,191,36,0.4)] border border-amber-300":"bg-neutral-100 dark:bg-neutral-800 text-neutral-500 dark:text-neutral-400 border border-transparent hover:bg-neutral-200 dark:hover:bg-neutral-700"}
                `,children:y},y)})}),g.jsxs("div",{className:"flex items-start gap-2 px-4 py-2 bg-amber-50/50 dark:bg-amber-900/10 rounded-xl border border-amber-100/50 dark:border-amber-900/20",children:[g.jsx("span",{className:"text-amber-500 text-[12px] mt-0.5",children:""}),g.jsxs("p",{className:"text-[10.5px] text-amber-700 dark:text-amber-400/80 leading-relaxed font-medium",children:["    ",g.jsx("span",{className:"font-bold underline decoration-amber-300/50 underline-offset-2 text-amber-800 dark:text-amber-300",children:" "})," ",g.jsx("span",{className:"font-bold underline decoration-amber-300/50 underline-offset-2 text-amber-800 dark:text-amber-300",children:" "}),"   ."]})]})]}),g.jsx("div",{className:"flex gap-2 mb-8 justify-center flex-wrap",children:Ffe.map(y=>{const k=!u&&Hfe(y),w=a.bigTab===y;return g.jsxs("button",{title:k?h:void 0,onClick:()=>a.setBigTab(y),className:`
                relative px-4 py-2 text-sm font-bold rounded-2xl border transition-all duration-300 active:scale-95 flex items-center gap-1.5 cursor-pointer
                ${w?"bg-violet-600 text-white border-violet-500 shadow-[0_4px_12px_rgba(139,92,246,0.3)] z-10":"bg-white dark:bg-neutral-900 text-neutral-500 dark:text-neutral-400 border-neutral-200 dark:border-neutral-800 hover:border-violet-300 dark:hover:border-violet-700"}
                ${k?"opacity-70 bg-neutral-50 dark:bg-neutral-900/50":""}
              `,children:[g.jsx("span",{className:k?"mr-1":"",children:y}),k&&g.jsx("span",{className:"flex items-center justify-center w-4 h-4 bg-neutral-200 dark:bg-neutral-800 rounded-full text-[10px]",children:""}),w&&!k&&g.jsx("span",{className:"absolute -bottom-1 left-1/2 -translate-x-1/2 w-1 h-1 bg-white rounded-full"})]},y)})}),a.bigTab===""&&g.jsx(Wle,{pillars:d.activePillars,daewoon:d.daewoonGz||void 0,sewoon:d.seGz||void 0,wolwoon:d.wolGz||void 0,ilwoon:d.ilGz||void 0,tab:a.blendTab},`harm-${a.blendTab}-${d.hourKeyForUi}`),a.bigTab==="   "&&g.jsxs("div",{className:"space-y-4",children:[g.jsx(zle,{data:d.chartData,perStemElementScaled:d.overlay?.perStemAugFull,dayStem:d.activePillars[2]?.charAt(0)??null,yongshinTop:d.yongshinMulti?.best?.candidates?.[0]?.element??null,yongshinKind:d.yongshinMulti?.bestKind??null},`pentagon-${d.revKey}`),g.jsx(Kle,{natal:d.activePillars,perStemElementScaled:d.overlay?.perStemAugFull}),g.jsx(Hle,{value:d.dayElementPercent,deukFlags:m?.flags.,strongestOpponent:b}),g.jsx(uce,{natal:d.activePillars})]}),a.bigTab===""&&!u&&g.jsxs("div",{className:"p-4 rounded-xl border border-neutral-300 dark:border-neutral-700 bg-neutral-50 dark:bg-neutral-900 text-sm text-neutral-600 dark:text-neutral-300 text-center",children:["   ",g.jsx("b",{children:""}),"   .   100  !"]}),a.bigTab===""&&u&&g.jsx(Bfe,{recommend:d.yongshinMulti,data:o,pillars:d.activePillars,hourKey:d.hourKeyForUi,demoteAbsent:a.demoteAbsent,onDemoteAbsentChange:a.setDemoteAbsent,hasAbsent:d.hasAbsent,hiddenStemMode:i.hiddenStemMode},`yongshin-${a.blendTab}-${d.hourKeyForUi}`),a.bigTab===""&&g.jsx(Xle,{pillars:d.activePillars,daewoon:d.daewoonGz||void 0,sewoon:d.seGz||void 0,wolwoon:d.wolGz||void 0,ilwoon:d.ilGz||void 0,tab:a.blendTab},`shin-${a.blendTab}-${d.hourKeyForUi}`),a.bigTab==="  "&&!u&&g.jsxs("div",{className:"p-4 rounded-xl border border-neutral-300 dark:border-neutral-700 bg-neutral-50 dark:bg-neutral-900 text-sm text-neutral-600 dark:text-neutral-300 text-center",children:["   ",g.jsx("b",{children:"  "}),"   .   100  !"]}),a.bigTab==="  "&&u&&g.jsx(uue,{unified:d.unified,pillars:d.activePillars,tab:a.blendTab,mapping:i.hiddenStemMode,birthDate:l},`gyeok-${a.blendTab}-${d.hourKeyForUi}`)]}):g.jsx("div",{className:"p-4 rounded-xl bg-neutral-100 dark:bg-neutral-900 text-sm",children:"   ."})}const xb=e=>typeof e=="string"&&e.length>=2,Yfe=e=>!Array.isArray(e)||e.length!==4?!1:xb(e[0])&&xb(e[1])&&xb(e[2])&&(e[3]===""||xb(e[3]));function qfe({data:e}){const[t,n]=S.useState("un"),r=Ks(),i=vn(d=>d.canUseMyoViewerNow());S.useEffect(()=>{t==="myoun"&&!i&&n("un")},[t,i]);const a=S.useMemo(()=>{try{const d=If(e);return rc(d,r)}catch{return new Date}},[e,r]),o=S.useMemo(()=>ac(e,a),[e,a]),l=!e.birthTime||e.birthTime==="",u=S.useMemo(()=>{try{const d=ut(o,e.birthPlace?.lon),h=Ot(o,e.birthPlace?.lon),m=gt(o,e.mingSikType),b=l?"":ao(o,e.mingSikType);return[d,h,m,b]}catch{return[]}},[o,e?.mingSikType,e?.birthPlace?.lon,l]);return g.jsxs("div",{className:"w-[calc(100%_-_16px)] max-w-[625px] desk:max-w-[640px] mx-auto",children:[g.jsxs("div",{className:"flex border-b border-neutral-700 mb-4",children:[g.jsx("button",{onClick:()=>n("un"),className:`px-2 desk:px-4 py-2 text-xs desk:text-sm cursor-pointer border-b hover:border-purple-500 hover:text-purple-500 font-bold ${t==="un"?"border-purple-500 text-purple-500":"border-transparent text-neutral-400"}`,children:" "}),i?g.jsx("button",{onClick:()=>n("myoun"),className:`px-2 desk:px-4 py-2 text-xs desk:text-sm cursor-pointer border-b hover:border-purple-500 hover:text-purple-500 font-bold ${t==="myoun"?"border-purple-500 text-purple-500":"border-transparent text-neutral-400"}`,children:" "}):null,g.jsx("button",{onClick:()=>n("report"),className:`px-2 desk:px-4 py-2 text-xs desk:text-sm cursor-pointer border-b hover:border-purple-500 hover:text-purple-500 font-bold ${t==="report"?"border-purple-500 text-purple-500":"border-transparent text-neutral-400"}`,children:" "})]}),t==="un"&&g.jsx(Ole,{data:e}),t==="myoun"&&i&&g.jsx(Ple,{data:e}),t==="report"&&g.jsx(Gfe,{data:e,pillars:Yfe(u)?u:[]})]})}function Kfe({onOpenSidebar:e,onAddNew:t,onOpenCustom:n,isLoggedIn:r}){const i=jn(C=>C.list.length),a=vn(C=>C.canAddMyeongsik),[o,l]=S.useState(!1);S.useEffect(()=>{let C=!0;Le.auth.getSession().then(({data:P})=>{C&&l(!!P.session?.user)});const{data:M}=Le.auth.onAuthStateChange((P,I)=>{l(!!I?.user)});return()=>{C=!1,M.subscription.unsubscribe()}},[]);const u=r||o,d=a(i),h=!d.ok,m=h?d.message:"",b=()=>{if(h){ya(m||"   ");return}t()},y=()=>{if(h){ya(m||"   ");return}n()},k=()=>{As.getState().openWith("HEADER")},w=async()=>{const{error:C}=await Le.auth.signOut();if(C){console.error(C),ya("  ");return}ya(" ")},_="w-8 h-8 sm:w-10 sm:h-10 flex items-center justify-center rounded-md text-white focus:outline-none focus:ring-2 focus:ring-purple-500 transition-colors",j="bg-purple-600 hover:bg-purple-700 dark:bg-purple-600 dark:hover:bg-purple-500 cursor-pointer",O="bg-orange-600 hover:bg-orange-700 dark:bg-orange-600 dark:hover:bg-orange-500 cursor-pointer",T="bg-neutral-300 dark:bg-neutral-800 text-neutral-100 cursor-not-allowed opacity-80";return g.jsx("header",{className:"fixed min-w-[320px] top-0 left-0 right-0 bg-white dark:bg-neutral-950 border-b border-neutral-200 dark:border-neutral-800 z-55 px-2 desk:px-3 transition-colors",children:g.jsxs("div",{className:"relative max-w-[640px] w-full mx-auto h-12 sm:h-14 flex justify-between items-center",children:[g.jsx("button",{type:"button",onClick:e,"aria-label":" ",className:"p-2 rounded-full text-neutral-700 dark:text-neutral-200 hover:bg-neutral-100 dark:hover:bg-neutral-800 hover:text-purple-600 dark:hover:text-purple-400 focus:outline-none focus:ring-2 focus:ring-purple-500 cursor-pointer transition-colors",children:g.jsx(OX,{size:22})}),g.jsx("h1",{className:"absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 mx-auto text-base sm:text-lg font-bold tracking-tight text-neutral-900 dark:text-neutral-100",children:""}),g.jsxs("div",{className:"flex gap-2 items-center",children:[g.jsxs("button",{type:"button",onClick:b,"aria-label":" ",disabled:h,title:" ",className:`${_} ${h?T:j}`,children:[g.jsx(UX,{size:18}),h?g.jsx("span",{className:"ml-1 text-[12px]",children:""}):null]}),g.jsxs("button",{type:"button",onClick:y,"aria-label":"  ",disabled:h,title:"  ",className:`${_} ${h?T:O}`,children:[g.jsx($X,{size:18}),h?g.jsx("span",{className:"ml-1 text-[12px]",children:""}):null]}),u?g.jsx("button",{type:"button",onClick:w,"aria-label":"",title:"",className:"inline-flex items-center gap-1 text-xs cursor-pointer text-neutral-700 dark:text-neutral-200 hover:text-purple-600 dark:hover:text-purple-400",children:g.jsx("ins",{children:""})}):g.jsx("button",{type:"button",onClick:k,"aria-label":"",title:"",className:"text-xs cursor-pointer",children:g.jsx("ins",{children:""})})]})]})})}function Wfe(e){S.useEffect(()=>{const t=e??x5()??(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light");_5(t),e&&w5(e)},[e])}const T9=["theme","hiddenStem","hiddenStemMode","sinsalMode","sinsalBase","sinsalBloom","exposure","charType","thinEum","visibility","difficultyMode"];function Vfe(e){return typeof e=="string"&&T9.includes(e)}function VE(e){const t=Array.isArray(e)?e.filter(Vfe):[],n=T9.filter(r=>!t.includes(r));return[...t,...n]}function ZE(e){return{...Kl,...e,sectionOrder:VE(e.sectionOrder)}}function Zfe(e,t){return e.theme??t.theme??"dark"}function Xfe({open:e,settings:t}){const n=S.useMemo(()=>VE(t.sectionOrder),[t.sectionOrder]),r=S.useMemo(()=>ZE(t),[t]),[i,a]=S.useState(n),[o,l]=S.useState(r),[u,d]=S.useState(null),[h,m]=S.useState(!1);return S.useEffect(()=>{if(!e||h)return;const y=VE(t.sectionOrder);l({...ZE(t),sectionOrder:y}),a(y),m(!1)},[e,t,h]),{order:i,setOrder:a,localSettings:o,setLocalSettings:l,updateSetting:(y,k)=>{l(w=>{const _={...w,[y]:k};return m(!0),_})},toastMessage:u,setToastMessage:d,dirty:h,setDirty:m}}function Jfe(){try{typeof window<"u"&&window.localStorage.removeItem("settings_v1")}catch{}}function A9(e){w5(e)}function Qfe({setSettings:e,saveToServer:t}){return{applyChanges:S.useCallback(async(r,i,a)=>{const o={...ZE(r),sectionOrder:i};Jfe(),S.startTransition(()=>{e(o)}),o.theme&&A9(o.theme),a(),t(!0)},[e,t])}}function ehe({open:e,onClose:t}){const{settings:n,setSettings:r,saveToServer:i}=nn(),a=Xfe({open:e,settings:n}),o=Qfe({setSettings:r,saveToServer:i}),l=()=>a.setToastMessage(null),u=Zfe(a.localSettings,n);Wfe(u),S.useEffect(()=>{A9(u)},[u]);const d=()=>{o.applyChanges(a.localSettings,a.order,()=>{a.setToastMessage(" "),a.setDirty(!1),t()})},h=b=>{const{destination:y,source:k}=b;if(!y||y.index===k.index)return;const w=Array.from(a.order),[_]=w.splice(k.index,1);w.splice(y.index,0,_),a.setOrder(w)},m=b=>{switch(b){case"theme":return g.jsx(Ya,{title:"",children:g.jsx(the,{value:a.localSettings.theme??"dark",onChange:y=>a.updateSetting("theme",y)})});case"hiddenStem":return g.jsx(Ya,{title:"  ",children:g.jsx(Ld,{value:a.localSettings.hiddenStem,onChange:y=>a.updateSetting("hiddenStem",y),options:[{label:"",value:"all"},{label:" ",value:"regular"}]})});case"hiddenStemMode":return g.jsx(Ya,{title:" ",children:g.jsx(Ld,{value:a.localSettings.hiddenStemMode,onChange:y=>a.updateSetting("hiddenStemMode",y),options:[{label:"",value:"classic"},{label:"",value:"hgc"}]})});case"sinsalMode":return g.jsx(Ya,{title:"",children:g.jsx(Ld,{value:a.localSettings.sinsalMode,onChange:y=>a.updateSetting("sinsalMode",y),options:[{label:"",value:"classic"},{label:"",value:"modern"}]})});case"sinsalBase":return g.jsx(Ya,{title:"",children:g.jsx(Ld,{value:a.localSettings.sinsalBase,onChange:y=>a.updateSetting("sinsalBase",y),options:[{label:"",value:""},{label:"",value:""}]})});case"sinsalBloom":return g.jsx(Ya,{title:" ",children:g.jsx(Mo,{label:" ",checked:!!a.localSettings.sinsalBloom,onChange:y=>a.updateSetting("sinsalBloom",y)})});case"exposure":return g.jsx(Ya,{title:" ",children:g.jsx(Ld,{value:a.localSettings.exposure,onChange:y=>a.updateSetting("exposure",y),options:[{label:"",value:""},{label:"",value:""},{label:"",value:""},{label:"",value:""}]})});case"charType":return g.jsx(Ya,{title:" ",children:g.jsx(Ld,{value:a.localSettings.charType,onChange:y=>a.updateSetting("charType",y),options:[{label:"",value:""},{label:"",value:""}]})});case"thinEum":return g.jsx(Ya,{title:" ",children:g.jsx(Mo,{label:" ",checked:!!a.localSettings.thinEum,onChange:y=>a.updateSetting("thinEum",y)})});case"visibility":return g.jsx(Ya,{title:" ",children:g.jsxs("div",{className:"space-y-2 w-full max-w-[180px] mx-auto",children:[g.jsx(Mo,{label:" ",checked:!!a.localSettings.showSipSin,onChange:y=>a.updateSetting("showSipSin",y)}),g.jsx(Mo,{label:" ",checked:!!a.localSettings.showSibiUnseong,onChange:y=>a.updateSetting("showSibiUnseong",y)}),g.jsx(Mo,{label:" ",checked:!!a.localSettings.showSibiSinsal,onChange:y=>a.updateSetting("showSibiSinsal",y)}),g.jsx(Mo,{label:" ",checked:!!a.localSettings.showNabeum,onChange:y=>a.updateSetting("showNabeum",y)}),g.jsx(Mo,{label:" BOX ",checked:!!a.localSettings.showEtcShinsal,onChange:y=>a.updateSetting("showEtcShinsal",y)}),g.jsx(Mo,{label:" BOX ",checked:!!a.localSettings.showRelationBox,onChange:y=>a.updateSetting("showRelationBox",y)}),g.jsx(Mo,{label:" BOX ",checked:!!a.localSettings.showPromptBox,onChange:y=>a.updateSetting("showPromptBox",y)})]})});case"difficultyMode":return g.jsx(Ya,{title:" UP ver.",children:g.jsx(Mo,{label:" UP ",checked:!!a.localSettings.difficultyMode,onChange:y=>a.updateSetting("difficultyMode",y)})});default:return null}};return g.jsxs(g.Fragment,{children:[g.jsx("style",{children:"[data-rbd-drag-handle-context-id]{touch-action:none!important}"}),g.jsx("div",{className:`fixed inset-0 bg-black/60 transition-opacity duration-300 z-90 ${e?"opacity-100 pointer-events-auto":"opacity-0 pointer-events-none"}`,onClick:t}),g.jsxs("div",{className:`fixed inset-x-0 mx-auto w-full max-w-[640px] h-[88dvh] bg-white text-neutral-900 dark:bg-neutral-950 dark:text-white shadow-lg rounded-t-2xl transition-bottom duration-300 z-99 ${e?"bottom-0":"bottom-[-88dvh]"}`,children:[g.jsxs("div",{className:"flex justify-between items-center p-4 border-b border-neutral-200 dark:border-neutral-800",children:[g.jsx("h2",{className:"text-lg font-bold",children:""}),g.jsx("button",{onClick:d,className:"px-3 py-1 rounded bg-indigo-600 hover:bg-indigo-500 text-white text-sm cursor-pointer",children:""})]}),e&&g.jsx(Rp,{onDragEnd:h,children:g.jsx(Rf,{droppableId:"settings-sections",children:b=>g.jsxs("ul",{ref:b.innerRef,...b.droppableProps,className:"flex flex-col gap-2 p-4 overflow-y-auto max-h-[80dvh] list-none",children:[a.order.map((y,k)=>g.jsx(Pf,{draggableId:y,index:k,children:w=>g.jsxs("li",{ref:w.innerRef,...w.draggableProps,...w.dragHandleProps,className:"!flex justify-between items-center bg-white dark:bg-neutral-800 p-2 rounded border text-sm desk:text-base select-none cursor-grab active:cursor-grabbing",children:[g.jsx("span",{className:"mr-2 select-none text-neutral-500",children:"::"}),g.jsx("div",{className:"flex-1 min-w-0",children:m(y)})]})},y)),b.placeholder]})})})]}),a.toastMessage&&g.jsx(J6,{message:a.toastMessage,onClose:l,ms:1800})]})}function the({value:e,onChange:t}){const n=e==="dark";return g.jsxs("button",{"data-no-drag":!0,onClick:()=>t(n?"light":"dark"),className:"flex items-center gap-2 px-3 py-1.5 rounded-md border text-sm cursor-pointer border-neutral-300 bg-white hover:bg-neutral-100 text-neutral-700 dark:border-neutral-700 dark:bg-neutral-900 dark:hover:bg-neutral-800 dark:text-neutral-200",title:"/ ","aria-pressed":n,children:[g.jsx("span",{className:"inline-block w-10 h-5 bg-neutral-300 rounded-full relative after:content-[''] after:w-4 after:h-4 after:bg-white after:rounded-full after:absolute after:top-0.5 after:left-0.5 after:transition-all dark:bg-neutral-700"}),g.jsx("span",{children:n?"":""})]})}function Ya({title:e,children:t}){return g.jsxs("div",{className:"p-3 rounded-lg bg-neutral-50 border border-neutral-200 text-neutral-900 dark:bg-neutral-900 dark:border-neutral-800 dark:text-neutral-100 space-y-3",children:[g.jsx("h3",{className:"text-sm font-semibold text-center",children:e}),g.jsx("div",{className:"flex justify-center",children:t})]})}function Ld({value:e,onChange:t,options:n}){return g.jsx("div",{"data-no-drag":!0,className:"inline-flex rounded-md overflow-hidden border border-neutral-300 bg-white dark:border-neutral-700 dark:bg-neutral-800",onMouseDown:r=>r.stopPropagation(),onTouchStart:r=>r.stopPropagation(),children:n.map(r=>{const i=e===r.value;return g.jsx("button",{type:"button",onClick:()=>t(r.value),className:`px-3 py-1 text-sm transition-colors ${i?"bg-indigo-600 text-white":"text-neutral-700 hover:bg-neutral-100 dark:text-neutral-300 dark:hover:bg-neutral-700 cursor-pointer"}`,children:r.label},r.value)})})}function Mo({label:e,checked:t,onChange:n}){const r=`switch-${e}`;return g.jsxs("label",{"data-no-drag":!0,htmlFor:r,className:"flex items-center justify-between w-full max-w-[180px] text-sm cursor-pointer",children:[g.jsx("span",{children:e}),g.jsx("input",{id:r,type:"checkbox",checked:t,onChange:i=>n(i.target.checked),className:"peer hidden"}),g.jsx("span",{className:"w-10 h-5 bg-neutral-300 rounded-full relative after:content-[''] after:w-4 after:h-4 after:bg-white after:rounded-full after:absolute after:top-0.5 after:left-0.5 after:transition-all peer-checked:bg-indigo-600 peer-checked:after:translate-x-5 dark:bg-neutral-700 dark:peer-checked:bg-indigo-600"})]})}function nhe(){const[e,t]=S.useState(!1),[n,r]=S.useState(!1),i=jn(h=>h.list),a=cc();S.useEffect(()=>{r(jn.getState().loading);const h=jn.subscribe(m=>{r(m.loading)});return()=>h()},[]);const o=()=>{if(!n){if(i.length===0){alert("    !");return}a("/iching")}},d={bottom:"var(--bottom-dock, 0px)",paddingBottom:"env(safe-area-inset-bottom, 0px)"};return g.jsxs(g.Fragment,{children:[g.jsx("div",{className:"fixed min-w-[320px] h-[64px] px-2 box-border left-0 right-0 bg-white border-t border-neutral-200 py-2 text-xs sm:text-sm z-50 dark:bg-neutral-950 dark:border-neutral-800",style:d,children:g.jsxs("nav",{className:"flex justify-around items-center max-w-[640px] w-full mx-auto",children:[g.jsx(mm,{icon:g.jsx(SX,{size:22}),label:"",onClick:()=>a("/")}),g.jsx(mm,{icon:g.jsx(wX,{size:22}),label:"",onClick:()=>a("/couple")}),g.jsx(mm,{icon:g.jsx(x4,{size:22}),label:"FAQ",onClick:()=>a("/faq")}),g.jsx(mm,{icon:g.jsx(PX,{size:22}),label:"",onClick:()=>t(!0)}),g.jsx(mm,{icon:g.jsx(LX,{size:22}),label:"",onClick:o})]})}),g.jsx(ehe,{open:e,onClose:()=>t(!1)})]})}function mm({icon:e,label:t,onClick:n,disabled:r}){return g.jsxs("button",{onClick:n,disabled:r,className:"flex flex-1 flex-col items-center justify-center text-neutral-600 hover:text-purple-600 transition-colors cursor-pointer disabled:opacity-50 disabled:cursor-not-allowed dark:text-neutral-300 dark:hover:text-purple-400",children:[e,g.jsx("span",{className:"mt-1",children:t})]})}const N9=e=>e.map(t=>typeof t=="string"?t.trim():"").filter(t=>t!==""),Qy=e=>N9(e).join(""),rhe=()=>{const[e,t]=S.useState(()=>{if(typeof window>"u")return{};try{const u=localStorage.getItem(sP);return u?JSON.parse(u):{}}catch{return{}}});S.useEffect(()=>{if(!(typeof window>"u"))try{localStorage.setItem(sP,JSON.stringify(e))}catch{}},[e]);const[n,r]=S.useState({}),[i,a]=S.useState(""),[o,l]=S.useState(()=>{const u=Ry(),d=Ly(),h=d.length?Bm(u,d):u;return Kd(h,e)});return S.useEffect(()=>{l(u=>{const d=Kd(u,e);return Qy(d)===Qy(u)?u:d})},[e]),S.useEffect(()=>{r(u=>{const d={...u};for(const h of o)d[h]===void 0&&(d[h]=!0);return d})},[o]),{folderFavMap:e,setFolderFavMap:t,folderOpenMap:n,setFolderOpenMap:r,newFolderName:i,setNewFolderName:a,orderedFolders:o,setOrderedFolders:l}},ihe=({list:e,orderedFolders:t})=>{const{grouped:n,unassignedItems:r}=S.useMemo(()=>{const i=px(e,t),a={};for(const o of t)a[o]=i[o]??[];return{grouped:a,unassignedItems:i[xr]??[]}},[e,t]);return{grouped:n,unassignedItems:r}},pm=async()=>{const{data:e,error:t}=await Le.auth.getUser();return t||!e.user?null:e.user.id},ahe=async e=>{const{data:t,error:n}=await Le.from("user_custom_folders").select("folder_name").eq("user_id",e);return n&&n.code==="PGRST205"?{data:[],error:n,disabled:!0}:n?{data:[],error:n}:{data:(t??[]).map(a=>a.folder_name?a.folder_name.trim():"").filter(a=>a!==""),error:null}},ohe=async e=>{const{data:t,error:n}=await Le.from("user_folder_order").select("folder_name, sort_order").eq("user_id",e).order("sort_order",{ascending:!0,nullsFirst:!0});return n?{data:[],error:n}:{data:(t??[]).map(a=>a.folder_name?String(a.folder_name):"").filter(a=>a.trim()!==""),error:null}},she=async(e,t)=>{const n=t.filter(i=>typeof i=="string"&&i.trim()!=="").map((i,a)=>({user_id:e,folder_name:i.trim(),sort_order:a+1,updated_at:new Date().toISOString()}));if(!n.length){const{error:i}=await Le.from("user_folder_order").delete().eq("user_id",e);return{data:null,error:i}}const{error:r}=await Le.from("user_folder_order").upsert(n,{onConflict:"user_id,folder_name"});return{data:null,error:r}},lhe=async(e,t)=>{const{error:n}=await Le.from("user_folder_order").delete().eq("user_id",e).eq("folder_name",t);return{data:null,error:n}},che=async(e,t)=>{const{error:n}=await Le.from("user_custom_folders").upsert({user_id:e,folder_name:t,updated_at:new Date().toISOString()});return n&&n.code==="PGRST205"?{data:null,error:n,disabled:!0}:{data:null,error:n}},uhe=async(e,t)=>{const{error:n}=await Le.from("user_custom_folders").delete().eq("user_id",e).eq("folder_name",t);return n&&n.code==="PGRST205"?{data:null,error:n,disabled:!0}:{data:null,error:n}},dhe=({folderFavMap:e,setFolderFavMap:t,setOrderedFolders:n,unsetFolderForFolder:r})=>{const[i,a]=S.useState(!1),o=S.useRef(e),l=S.useRef(!1),u=S.useRef(!1);S.useEffect(()=>{o.current=e},[e]),S.useEffect(()=>{(async()=>{if(i)return;const O=await pm();if(!O)return;try{if(!u.current){const I=await ahe(O);I.disabled&&(u.current=!0),I.error?console.error("load custom folders from server error:",I.error):I.data.length&&rT(I.data)}}catch(I){console.error("load custom folders exception:",I)}const T=await ohe(O);if(T.error){console.error("load folder order from server error:",T.error),a(!0);return}const C=Ry(),M=T.data,P=M.length?Bm(C,M):Bm(C,Ly());n(Kd(P,o.current)),M.length&&Wd(M),a(!0)})()},[i,n]);const d=S.useCallback(async j=>{const O=await pm();if(!O)return;const T=await she(O,j);T.error&&console.error("save folder order to server error:",T.error)},[]),h=S.useRef(null),m=S.useRef(null),b=S.useRef(""),y=S.useCallback((j,O)=>{const T=N9(j),C=Qy(T);if(C&&C===b.current)return;h.current=T;const M=async()=>{const P=h.current;if(h.current=null,!P)return;const I=Qy(P);I&&I===b.current||(await d(P),b.current=I)};if(O?.immediate){m.current&&(window.clearTimeout(m.current),m.current=null),M();return}m.current&&window.clearTimeout(m.current),m.current=window.setTimeout(()=>{m.current=null,M()},300)},[d]);S.useEffect(()=>()=>{m.current&&(window.clearTimeout(m.current),m.current=null);const j=h.current;h.current=null,j&&j.length&&d(j)},[d]),S.useEffect(()=>{if(typeof window>"u")return;const j=()=>{if(l.current){l.current=!1;return}const O=Ry(),T=Ly(),C=T.length?Bm(O,T):O;n(Kd(C,o.current))};return window.addEventListener(ic,j),()=>window.removeEventListener(ic,j)},[n]);const k=S.useCallback(j=>{const{source:O,destination:T,type:C}=j;if(!T||C!=="FOLDER")return;const M=O.index,P=T.index;M!==P&&n(I=>{if(!I.length)return I;const z=[...I],[K]=z.splice(M,1);z.splice(P,0,K);const G=Kd(z,o.current);return l.current=!0,Wd(G),y(G),G})},[y,n]),w=S.useCallback(j=>{const O=j.trim();!O||O===En||(X6(O),(async()=>{if(u.current)return;const T=await pm();if(!T)return;const C=await che(T,O);C.disabled&&(u.current=!0),C.error&&console.error("save custom folder error:",C.error)})(),n(T=>{if(T.includes(O))return T;const C=[...T,O],M=Kd(C,o.current);return Wd(M),y(M,{immediate:!0}),M}))},[y,n]),_=S.useCallback(j=>{r(j),t(O=>{const T={...O};return delete T[j],T}),n(O=>{const T=O.filter(C=>C!==j);return Wd(T),y(T,{immediate:!0}),(async()=>{const C=await pm();if(!C)return;const M=await lhe(C,j);M.error&&console.error("delete folder order entry error:",M.error)})(),T}),W6.includes(j)?_ie(j):(wie(j),(async()=>{if(u.current)return;const O=await pm();if(!O)return;const T=await uhe(O,j);T.disabled&&(u.current=!0),T.error&&console.error("delete custom folder error:",T.error)})())},[y,t,n,r]);return{handleDragEnd:k,createFolder:w,deleteFolder:_,UNASSIGNED_LABEL:En}};function fhe(e,t){const n=rhe(),r=ihe({list:e,orderedFolders:n.orderedFolders}),i=dhe({folderFavMap:n.folderFavMap,setFolderFavMap:n.setFolderFavMap,setOrderedFolders:n.setOrderedFolders,unsetFolderForFolder:t.unsetFolderForFolder});return{folderFavMap:n.folderFavMap,setFolderFavMap:n.setFolderFavMap,folderOpenMap:n.folderOpenMap,setFolderOpenMap:n.setFolderOpenMap,newFolderName:n.newFolderName,setNewFolderName:n.setNewFolderName,orderedFolders:n.orderedFolders,grouped:r.grouped,unassignedItems:r.unassignedItems,handleDragEnd:i.handleDragEnd,createFolder:i.createFolder,deleteFolder:i.deleteFolder,UNASSIGNED_LABEL:i.UNASSIGNED_LABEL}}function hhe({onClose:e,onAddNew:t,isLoggedIn:n,onLogin:r}){const i=jn(m=>m.list.length),o=vn(m=>m.canAddMyeongsik)(i),l=!o.ok,u=l?o.message:"",d=()=>{if(l){ya(u||"  ");return}t()},h=async()=>{const{error:m}=await Le.auth.signOut();if(m){console.error(m),ya(" ");return}ya(" ")};return g.jsxs("div",{className:"flex justify-between items-center w-full h-12 desk:h-16 p-4 border-b border-neutral-200 dark:border-neutral-800",children:[g.jsx("div",{className:"flex items-center gap-2",children:g.jsx("h2",{className:"text-lg font-bold",children:" "})}),g.jsxs("div",{className:"flex items-center gap-2",children:[n?g.jsxs("button",{type:"button",onClick:h,className:`inline-flex items-center gap-1 px-3 py-1.5 rounded text-sm cursor-pointer
                       bg-neutral-200 text-neutral-800 hover:bg-neutral-300
                       dark:bg-neutral-800 dark:text-neutral-100 dark:hover:bg-neutral-700`,title:"",children:[g.jsx(AX,{size:16})," "]}):g.jsxs("button",{type:"button",onClick:r,className:`inline-flex items-center gap-1 px-3 py-1.5 rounded text-sm cursor-pointer
                       bg-neutral-200 text-neutral-800 hover:bg-neutral-300
                       dark:bg-neutral-800 dark:text-neutral-100 dark:hover:bg-neutral-700`,title:"",children:[g.jsx(w4,{size:16})," "]}),g.jsxs("button",{type:"button",onClick:d,disabled:l,title:u,className:l?"inline-flex items-center gap-1 px-3 py-1.5 rounded text-sm bg-neutral-200 text-neutral-500 dark:bg-neutral-800 dark:text-neutral-400 cursor-not-allowed opacity-80":"inline-flex items-center gap-1 px-3 py-1.5 rounded text-sm cursor-pointer bg-purple-600 hover:bg-purple-500 text-white",children:[g.jsx(MX,{size:16}),"  ",l?"":""]}),g.jsx("button",{type:"button",onClick:e,className:"p-1 rounded cursor-pointer hover:bg-neutral-100 dark:hover:bg-neutral-900","aria-label":" ",title:"",children:g.jsx(ky,{size:22})})]})]})}function mhe({search:e,setSearch:t,searchMode:n,setSearchMode:r,isFiltering:i,totalMatches:a}){return g.jsx("div",{className:"mb-3 sticky top-[-16px] z-10 pb-2 pt-2 bg-white dark:bg-neutral-950 z-50",children:g.jsxs("div",{className:"flex items-center gap-2",children:[g.jsxs("select",{value:n,onChange:o=>r(o.target.value),className:"h-30 text-xs rounded px-2 py-1 cursor-pointer bg-white dark:bg-neutral-900 border border-neutral-300 dark:border-neutral-700 text-neutral-900 dark:text-neutral-100 focus:outline-none focus:ring-2 focus:ring-amber-500/40",children:[g.jsx("option",{value:"name",children:""}),g.jsx("option",{value:"ganji",children:""}),g.jsx("option",{value:"birth",children:""})]}),g.jsxs("div",{className:"relative flex-1",children:[g.jsx("input",{type:"text",value:e,onChange:o=>t(o.target.value),placeholder:n==="name"?" ":n==="ganji"?"  (: )":"  (: 19961229, 1996-12-29)",className:"w-full pl-7 pr-8 py-1 h-30 rounded bg-white dark:bg-neutral-900 border border-neutral-300 dark:border-neutral-700 text-[16px] text-neutral-900 dark:text-neutral-100 placeholder-neutral-400 dark:placeholder-neutral-500 focus:outline-none focus:ring-2 focus:ring-amber-500/40"}),e&&g.jsx("button",{type:"button",onClick:()=>t(""),className:"absolute right-2 top-1/2 -translate-y-1/2 opacity-60 hover:opacity-100","aria-label":" ",title:" ",children:g.jsx(vX,{size:16})})]}),i&&g.jsxs("span",{className:"text-xs text-neutral-500 dark:text-neutral-400 whitespace-nowrap",children:[a,""]})]})})}function phe({newFolderName:e,setNewFolderName:t,onCreate:n,isFiltering:r,totalCount:i,collapsed:a,onToggleCollapse:o}){return g.jsxs(g.Fragment,{children:[g.jsxs("div",{className:"flex items-center mb-2 gap-2",children:[g.jsx("input",{type:"text",value:e,onChange:l=>t(l.target.value),placeholder:"  ",className:"flex-1 w-[60%] px-2 py-1 rounded h-30 bg-white dark:bg-neutral-900 border border-neutral-300 dark:border-neutral-700 text-sm text-neutral-900 dark:text-neutral-100 placeholder-neutral-400 dark:placeholder-neutral-500",onClick:l=>l.stopPropagation()}),g.jsx("button",{type:"button",className:"px-3 rounded h-30 text-sm cursor-pointer bg-neutral-100 hover:bg-neutral-200 dark:bg-neutral-800 dark:hover:bg-neutral-700 text-neutral-900 dark:text-neutral-100 border border-neutral-200 dark:border-neutral-700",onClick:l=>{l.stopPropagation(),n()},children:""})]}),g.jsx("p",{className:"text-xs text-neutral-600 dark:text-neutral-400 mb-1",children:r?"   .":"/      ."}),g.jsxs("div",{className:"flex items-center justify-between text-xs text-neutral-600 dark:text-neutral-400 mb-2",children:[g.jsxs("div",{children:[g.jsx("span",{className:"font-semibold text-neutral-900 dark:text-neutral-100",children:"  "}),g.jsx("span",{className:"mx-1",children:""}),g.jsxs("span",{className:"font-semibold text-amber-500 dark:text-amber-600",children:[i,""]})]}),g.jsx("button",{type:"button",onClick:o,className:"px-2 py-1 rounded border border-neutral-200 dark:border-neutral-700 text-xs text-neutral-700 dark:text-neutral-200 hover:bg-neutral-100 dark:hover:bg-neutral-900 cursor-pointer",children:a?"  ":"  "})]}),g.jsx("div",{className:"text-xs mb-2 text-neutral-900 dark:text-neutral-100",children:"         !"})]})}function AR({droppableId:e,items:t,isDropDisabled:n,className:r}){return g.jsx(Rf,{droppableId:e,type:"ITEM",direction:"vertical",ignoreContainerClipping:!0,isDropDisabled:n,children:i=>g.jsx("div",{ref:i.innerRef,...i.droppableProps,className:r,children:g.jsxs("ul",{className:"flex flex-col gap-2",children:[t,i.placeholder]})})})}function ghe({folderName:e,folderIndex:t,isOpen:n,isFavorite:r,itemCount:i,isDragDisabled:a,onToggleOpen:o,onToggleFavorite:l,onDelete:u,inner:d}){return g.jsx(Pf,{draggableId:`folder-${e}`,index:t,isDragDisabled:a,children:h=>g.jsxs("div",{ref:h.innerRef,...h.draggableProps,...h.dragHandleProps,className:"mb-4 cursor-grab active:cursor-grabbing select-none",children:[g.jsxs("div",{className:"flex items-center justify-between px-2 py-2 rounded bg-neutral-50 dark:bg-neutral-900/70 border border-neutral-200 dark:border-neutral-800 text-neutral-800 dark:text-neutral-200",children:[g.jsxs("div",{className:"flex items-center gap-2",children:[g.jsxs("button",{type:"button",onClick:m=>{m.stopPropagation(),o()},className:"inline-flex items-center gap-1 text-sm font-semibold cursor-pointer",children:[n?g.jsx(gX,{size:16}):g.jsx(mX,{size:16}),g.jsx("span",{className:"text-sm font-semibold",children:e})]}),g.jsx("button",{type:"button",onClick:m=>{m.stopPropagation(),l()},className:`p-1 rounded cursor-pointer ${r?"text-yellow-400":"text-neutral-400"} hover:text-yellow-400`,"aria-label":"  ",title:r?" ":"",children:g.jsx(_4,{size:16,fill:r?"currentColor":"none"})})]}),g.jsxs("div",{className:"flex items-center gap-2",children:[g.jsxs("span",{className:"opacity-60 text-xs",children:[i,""]}),g.jsx("button",{type:"button",onClick:m=>{m.stopPropagation(),u()},className:"px-2 py-1 rounded text-xs cursor-pointer border border-red-300 dark:border-red-700 text-red-700 dark:text-red-300 hover:bg-red-50 dark:hover:bg-red-900/30",children:""})]})]}),n?d:null]})},`folder-${e}`)}const bhe=()=>({canManage:vn(()=>!0)}),up="";function yhe(e,t){if(!/^\d{8}$/.test(e))return e||"";const n=e.slice(0,4),r=e.slice(4,6),i=e.slice(6,8);return t&&/^\d{4}$/.test(t)?`${n} ${r} ${i} ${t.slice(0,2)}:${t.slice(2,4)}`:t===up?`${n} ${r} ${i} ( )`:`${n} ${r} ${i}`}function vhe(e){if(!e||e==="")return"";const t=e.split(/[\s,]+/).filter(Boolean);if(t.length===0)return"";const n=o=>t.find(l=>o.some(u=>l.endsWith(u))),r=n(["","","","",""]),i=n(["","","","","",""]);return t.length===1||!n(["","","","","","","","","","",""])&&!n(["","","","","",""])?e:r&&i?`${r} ${i}`:r||e}function NR(e){return(e.ganji??"").replace(/\r\n/g,`
`).replace(/\s*null\s*/gi,"").trim()}function xhe(e,t){const n=Lf(e),r=Ip(t);if(!n||!r)return null;const i=new Date(n.y,n.m-1,n.d,r.hh,r.mm,0,0),a=new Date(i.getTime()-3600*1e3),o=String(a.getFullYear()).padStart(4,"0"),l=String(a.getMonth()+1).padStart(2,"0"),u=String(a.getDate()).padStart(2,"0"),d=String(a.getHours()).padStart(2,"0"),h=String(a.getMinutes()).padStart(2,"0");return{birthDay:`${o}${l}${u}`,birthTime:`${d}${h}`}}function whe(e){const t=NR(e),n=String(e.birthDay??"").trim();if(!/^\d{8}$/.test(n))return t;const r=Number(n.slice(0,4)),i=Number(n.slice(4,6)),a=Number(n.slice(6,8));if(!np(r,i,a)||!e.birthTime||e.birthTime===up)return t;const o=xhe(n,e.birthTime);if(!o)return t;const l=e.corrected instanceof Date?e.corrected:new Date(e.corrected);if(Number.isNaN(l.getTime()))return t;const u=new Date(l.getTime()-3600*1e3),d=Zj({...e,birthDay:o.birthDay,birthTime:o.birthTime,corrected:u});return NR({...e,...d})}function _he(e){const t=String(e??"").trim();if(/^\d{8}$/.test(t)){const r=Number(t.slice(0,4));return Number.isFinite(r)?r:NaN}const n=new Date(t);return Number.isNaN(n.getTime())?NaN:n.getFullYear()}function She(e,t){return Number.isNaN(e)?0:t-e+1}function khe(e){return{...e,transition:e?.transform?"transform 0.15s ease":"none"}}function Ehe(e){return e===""?"":e===""?"":e??""}function jhe(e){const t=e.trim(),n=/^(\d{1,2}):(\d{2})$/.exec(t);if(!n)return null;const r=Number(n[1]),i=Number(n[2]);if(!Number.isFinite(r)||!Number.isFinite(i)||r<0||r>23||i<0||i>59)return null;const a=r-1<0?23:r-1;return`${String(a).padStart(2,"0")}:${String(i).padStart(2,"0")}`}function The(e,t){if(t)return up;const n=String(e.birthDay??"").trim(),r=String(e.correctedLocal??"").trim(),i=e.corrected instanceof Date?e.corrected:new Date(String(e.corrected??"")),a=!Number.isNaN(i.getTime()),o=r||(a?IE(i):"");if(!/^\d{8}$/.test(n))return o;const l=Number(n.slice(0,4)),u=Number(n.slice(4,6)),d=Number(n.slice(6,8));if(!np(l,u,d)||!e.birthTime||e.birthTime===up)return o;if(a){const m=new Date(i.getTime()-36e5);return IE(m)}return jhe(r)??o}function Ahe({m:e,memoOpen:t,isDragDisabled:n}){const r=n,i=`item:${e.id}`,a=whe(e),o=vhe(e.birthPlace?.name),l=e.relationship?.trim()?e.relationship:" ",u=Ehe(e.gender),d=!e.birthTime||e.birthTime===up,h=The(e,d),m=!!(o||h),b=yhe(e.birthDay,e.birthTime),y=e.calendarType==="lunar"?"":"",k=_he(e.birthDay),w=She(k,new Date().getFullYear()),_=!!(e.memo&&e.memo.trim()!==""),j=t?" ":" ",O=e.mingSikType??"/",T=r?" ":"::",C=e.favorite?" ":"";return{keyId:i,dragDisabled:r,dragHandleLabel:T,ganji:a,placeDisplay:o,relationshipLabel:l,genderLabel:u,birthDisplay:b,calendarLabel:y,correctedLabel:h,showMetaLine:m,showMemo:_,memoToggleLabel:j,age:w,mingSikTypeValue:O,favoriteLabel:C,editLabel:"",deleteLabel:"",getDragStyle:khe}}const Nhe=({m:e,unassignedLabel:t,onToggleMemo:n,onChangeFolder:r,onChangeMingSikType:i,onView:a,onEdit:o,onDelete:l,onToggleFavorite:u})=>{const d=S.useCallback(_=>{_?.stopPropagation(),n(e.id)},[n,e.id]),h=S.useCallback(_=>{_?.stopPropagation(),a(e)},[a,e]),m=S.useCallback(_=>{_?.stopPropagation(),o(e)},[o,e]),b=S.useCallback(_=>{_?.stopPropagation(),l(e)},[l,e]),y=S.useCallback(_=>{_?.stopPropagation(),u(e.id)},[u,e.id]),k=S.useCallback(_=>{const j=_===t?void 0:_;r(e.id,j)},[r,e.id,t]),w=S.useCallback(_=>{i(e,_)},[i,e]);return{handleToggleMemo:d,handleView:h,handleEdit:m,handleDelete:b,handleToggleFavorite:y,handleFolderChange:k,handleMingSikTypeChange:w}};function OR({m:e,index:t,orderedFolders:n,unassignedLabel:r,isDragDisabled:i,collapsed:a,memoOpen:o,onToggleMemo:l,onToggleCollapsed:u,onChangeFolder:d,onChangeMingSikType:h,onView:m,onEdit:b,onDelete:y,onToggleFavorite:k}){bhe();const w=Ahe({m:e,memoOpen:o,isDragDisabled:i}),_=a,j=Nhe({m:e,unassignedLabel:r,onToggleMemo:l,onChangeFolder:d,onChangeMingSikType:h,onView:m,onEdit:b,onDelete:y,onToggleFavorite:k});return g.jsx(Pf,{draggableId:w.keyId,index:t,isDragDisabled:i,children:O=>g.jsx("li",{ref:O.innerRef,...O.draggableProps,...O.dragHandleProps,style:O.draggableProps.style,className:`list-none select-none rounded-xl border bg-white dark:bg-neutral-900 border-neutral-200 dark:border-neutral-800 text-neutral-900 dark:text-neutral-100 ${i?"cursor-default":"cursor-grab active:cursor-grabbing"}`,onClick:()=>{_&&j.handleView()},children:g.jsxs("div",{className:"p-3",children:[g.jsxs("div",{className:"flex items-center gap-2",children:[g.jsxs("div",{className:"font-semibold text-sm desk:text-base",children:[e.name," (",w.age,"",w.genderLabel,")"]}),g.jsx("span",{className:"opacity-40",children:""}),g.jsx("div",{className:"text-sm text-neutral-600 dark:text-neutral-300 text-nowrap",children:w.relationshipLabel}),g.jsxs("div",{className:"ml-auto flex items-center gap-2",children:[g.jsx("span",{className:"opacity-50 select-none",children:w.dragHandleLabel}),g.jsx("button",{type:"button",onClick:T=>{T.stopPropagation(),u()},className:"text-xs px-2 py-1 rounded border border-neutral-200 dark:border-neutral-700 text-neutral-700 dark:text-neutral-200 hover:bg-neutral-100 dark:hover:bg-neutral-900 cursor-pointer",children:_?" ":" "})]})]}),!_&&g.jsxs("div",{className:"text-sm text-neutral-600 dark:text-neutral-300 mt-1",children:[w.birthDisplay,", ",w.calendarLabel]}),!_&&w.showMetaLine&&g.jsxs("div",{className:"text-sm text-neutral-500 dark:text-neutral-400",children:[w.placeDisplay,w.correctedLabel&&g.jsxs("span",{className:"opacity-70",children:["  ",w.correctedLabel]})]}),w.ganji&&g.jsx("div",{className:"text-sm text-neutral-800 dark:text-neutral-200 mt-1 whitespace-pre-wrap break-keep",children:w.ganji}),!_&&w.showMemo&&g.jsxs("div",{children:[g.jsx("button",{type:"button",className:"text-xs text-neutral-500 dark:text-neutral-400 hover:text-neutral-800 dark:hover:text-neutral-200 inline-flex items-center gap-1 cursor-pointer",onClick:j.handleToggleMemo,children:w.memoToggleLabel}),g.jsx("div",{className:o?"mt-1 text-sm text-neutral-800 dark:text-neutral-200 whitespace-pre-wrap":"hidden",children:e.memo})]}),!_&&g.jsxs("div",{className:"flex flex-wrap gap-2 mt-3",children:[g.jsx("select",{className:"h-30 text-xs rounded px-2 py-1 bg-white dark:bg-neutral-900 border border-neutral-300 dark:border-neutral-700 text-neutral-900 dark:text-neutral-100 focus:outline-none focus:ring-2 focus:ring-amber-500/40 cursor-pointer",value:e.folder??r,onClick:T=>T.stopPropagation(),onChange:T=>{T.stopPropagation(),j.handleFolderChange(T.target.value)},children:[r,...n].map(T=>g.jsx("option",{value:T,children:T},T))}),g.jsxs("select",{className:"h-30 text-xs rounded px-2 py-1 bg-white dark:bg-neutral-900 border border-neutral-300 dark:border-neutral-700 text-neutral-900 dark:text-neutral-100 focus:outline-none focus:ring-2 focus:ring-amber-500/40 cursor-pointer",value:w.mingSikTypeValue,onClick:T=>T.stopPropagation(),onChange:T=>{T.stopPropagation(),j.handleMingSikTypeChange(T.target.value)},children:[g.jsx("option",{value:"",children:""}),g.jsx("option",{value:"/",children:"/"}),g.jsx("option",{value:"",children:""})]})]}),!_&&g.jsxs("div",{className:"flex gap-2 mt-3",children:[g.jsx("button",{type:"button",onClick:j.handleView,className:"px-3 py-1 rounded text-white text-sm cursor-pointer bg-indigo-600 hover:bg-indigo-500",children:""}),g.jsx("button",{type:"button",title:"",onClick:j.handleEdit,className:"px-3 py-1 rounded text-white text-sm bg-amber-600 hover:bg-amber-500 cursor-pointer",children:w.editLabel}),g.jsx("button",{type:"button",title:"",onClick:j.handleDelete,className:"px-3 py-1 rounded text-white text-sm bg-red-600 hover:bg-red-500 cursor-pointer",children:w.deleteLabel}),g.jsx("button",{type:"button",title:w.favoriteLabel,onClick:j.handleToggleFavorite,className:`ml-auto p-1 rounded cursor-pointer ${e.favorite?"text-yellow-400":"text-neutral-400"} hover:text-yellow-400`,"aria-label":w.favoriteLabel,children:g.jsx(_4,{size:16,fill:e.favorite?"currentColor":"none"})})]})]})})},w.keyId)}const Ohe="list:__unassigned__",Che=e=>`list:${e}`,CR=e=>{if(!e.startsWith("list:"))return;const t=e.slice(5);return t==="__unassigned__"?void 0:t},Mhe=({search:e,searchMode:t,orderedFolders:n,grouped:r,unassignedItems:i})=>{const a=H6(e),{filteredUnassigned:o,filteredGrouped:l,totalMatches:u}=S.useMemo(()=>rie({search:e,searchMode:t,orderedFolders:n,unassignedItems:i,grouped:r}),[e,t,n,i,r]);return{isFiltering:a,filteredUnassigned:o,filteredGrouped:l,totalMatches:u}},Dhe=({list:e,orderedFolders:t})=>{const[n,r]=S.useState(""),[i,a]=S.useState("name"),[o,l]=S.useState({}),u=S.useRef(null),d=S.useRef(null);return S.useEffect(()=>{if(d.current==null)return;const b=u.current;b&&(b.scrollTop=d.current,d.current=null)},[e,t]),{search:n,setSearch:r,searchMode:i,setSearchMode:a,memoOpenMap:o,toggleMemo:b=>{l(y=>({...y,[b]:!y[b]}))},scrollRef:u,stashScrollTop:()=>{const b=u.current;b&&(d.current=b.scrollTop)}}},MR=()=>{typeof window>"u"||window.dispatchEvent(new Event(ic))},Phe=({list:e,orderedFolders:t,isFiltering:n,handleFolderDragEnd:r,moveItemByDnD:i,applyNextList:a,update:o,remove:l,onView:u,onClose:d,onDeleteView:h,folderFavMap:m,setFolderFavMap:b,setFolderOpenMap:y,createFolder:k,deleteFolder:w,newFolderName:_,setNewFolderName:j,stashScrollTop:O})=>{const T=S.useCallback((B,q)=>{const{nextList:X}=Zre({list:e,orderedFolders:t,targetId:B,nextFolder:q??""});a(X)},[e,t,a]),C=S.useCallback((B,q)=>{const X={...B,mingSikType:q},Z=Zj(X);o(B.id,{mingSikType:q,...Z}),u({...X,...Z}),d()},[o,u,d]),M=S.useCallback(B=>{u(B),d()},[u,d]),P=S.useCallback(B=>{confirm(`'${B.name}'  ?`)&&(l(B.id),h&&h())},[l,h]),I=S.useCallback(()=>{const B=_.trim();B&&(k(B),j(""),MR())},[_,k,j]),z=S.useCallback(B=>{if(m[B]){alert(`'${B}'   .
   .`);return}confirm(`'${B}'  ?
(   )`)&&(w(B),MR())},[m,w]),K=S.useCallback(B=>{y(q=>({...q,[B]:!q[B]}))},[y]),G=S.useCallback(B=>{b(q=>({...q,[B]:!q[B]}))},[b]);return{handleDrop:S.useCallback(B=>{const{type:q,source:X,destination:Z,draggableId:Y}=B;if(Z&&!n){if(O(),q==="FOLDER"){r(B);return}if(q==="ITEM"){if(!Y.replace(/^item:/,""))return;const Q=CR(X.droppableId),se=CR(Z.droppableId);i({orderedFolders:t,sourceFolder:Q,sourceIndex:X.index,destinationFolder:se,destinationIndex:Z.index})}}},[n,O,r,i,t]),changeFolder:T,changeMingSikType:C,viewAndClose:M,requestDelete:P,createFolderAndNotify:I,requestDeleteFolder:z,toggleFolderOpen:K,toggleFolderFavorite:G}};function Rhe({open:e,onClose:t,onView:n,onAddNew:r,onEdit:i,onDeleteView:a,isLoggedIn:o}){const[l,u]=S.useState(!1),d=nn(xe=>xe.settings),h=nn(xe=>xe.setKey),m=nn(xe=>xe.saveToServer),{list:b,remove:y,update:k,moveItemByDnD:w,toggleFavoriteWithReorder:_,unsetFolderForFolder:j,applyNextList:O}=jn(),{folderFavMap:T,setFolderFavMap:C,folderOpenMap:M,setFolderOpenMap:P,newFolderName:I,setNewFolderName:z,orderedFolders:K,grouped:G,unassignedItems:F,handleDragEnd:B,createFolder:q,deleteFolder:X,UNASSIGNED_LABEL:Z}=fhe(b,{unsetFolderForFolder:j}),Y=Dhe({list:b,orderedFolders:K}),V=d.sidebarCardsCollapsed,Q=d.sidebarCardCollapsedMap,se=xe=>Q[xe]??V,ce=xe=>{h("sidebarCardCollapsedMap",xe),m()},W=xe=>{h("sidebarCardsCollapsed",xe);const ue=b.reduce((Ee,Me)=>(Ee[Me.id]=xe,Ee),{});ce(ue)},ne=xe=>{ce({...Q,[xe]:!(Q[xe]??!0)})},{isFiltering:ie,filteredUnassigned:he,filteredGrouped:J,totalMatches:ae}=Mhe({search:Y.search,searchMode:Y.searchMode,orderedFolders:K,unassignedItems:F,grouped:G}),pe=Phe({list:b,applyNextList:O,orderedFolders:K,isFiltering:ie,handleFolderDragEnd:B,moveItemByDnD:w,update:k,remove:y,onView:n,onClose:t,onDeleteView:a,folderFavMap:T,setFolderFavMap:C,setFolderOpenMap:P,createFolder:q,deleteFolder:X,newFolderName:I,setNewFolderName:z,stashScrollTop:Y.stashScrollTop}),me=()=>{u(!0)},ee=xe=>{Iu.flushSync(()=>{u(!1),pe.handleDrop(xe)})},je=()=>{As.getState().openWith("HEADER")};return g.jsxs(g.Fragment,{children:[g.jsx("style",{children:"[data-rbd-drag-handle-context-id]{touch-action:none!important}"}),g.jsx("div",{className:`fixed inset-0 bg-black/70 transition-opacity duration-300 z-100 ${e?"opacity-100 pointer-events-auto":"opacity-0 pointer-events-none"}`,onClick:t}),g.jsxs("div",{className:`fixed top-0 left-0 h-[100dvh] min-w-[320px] w-full desk:w-1/3
                    bg-white dark:bg-neutral-950
                    text-neutral-900 dark:text-white
                    shadow-lg z-101 transition-[left] duration-300
                    overflow-hidden
                    ${e?"left-0":"left-[-100%]"}`,children:[g.jsx(hhe,{onClose:t,onAddNew:()=>{r(),t()},onLogin:()=>{je()},isLoggedIn:o}),g.jsx(Rp,{onBeforeDragStart:me,onDragEnd:ee,children:g.jsxs("div",{ref:Y.scrollRef,className:"p-4 h-[calc(100%-56px)] overflow-y-auto overscroll-contain",style:{touchAction:l?"none":"pan-y"},children:[g.jsxs(g.Fragment,{children:[g.jsx(mhe,{search:Y.search,setSearch:Y.setSearch,searchMode:Y.searchMode,setSearchMode:Y.setSearchMode,isFiltering:ie,totalMatches:ae}),g.jsx(phe,{newFolderName:I,setNewFolderName:z,isFiltering:ie,onCreate:pe.createFolderAndNotify,totalCount:b.length,collapsed:V,onToggleCollapse:()=>W(!V)})]}),g.jsx(AR,{droppableId:Ohe,isDropDisabled:ie,className:"mb-6",items:he.map((xe,ue)=>g.jsx(OR,{m:xe,index:ue,orderedFolders:K,unassignedLabel:Z,isDragDisabled:ie,collapsed:se(xe.id),memoOpen:!!Y.memoOpenMap[xe.id],onToggleMemo:Y.toggleMemo,onToggleCollapsed:()=>ne(xe.id),onChangeFolder:pe.changeFolder,onChangeMingSikType:pe.changeMingSikType,onView:pe.viewAndClose,onEdit:Ee=>i(Ee),onDelete:pe.requestDelete,onToggleFavorite:Ee=>void _(Ee,K)},xe.id))}),g.jsx(Rf,{droppableId:"folders:root",type:"FOLDER",direction:"vertical",ignoreContainerClipping:!0,isDropDisabled:ie,children:xe=>g.jsxs("div",{ref:xe.innerRef,...xe.droppableProps,children:[K.map((ue,Ee)=>{const Me=Che(ue),Ie=J[ue]||[],Ke=!!M[ue],ht=!!T[ue];return g.jsx(ghe,{folderName:ue,folderIndex:Ee,isOpen:Ke,isFavorite:ht,itemCount:Ie.length,isDragDisabled:ie,onToggleOpen:()=>pe.toggleFolderOpen(ue),onToggleFavorite:()=>pe.toggleFolderFavorite(ue),onDelete:()=>pe.requestDeleteFolder(ue),inner:g.jsx(AR,{droppableId:Me,isDropDisabled:ie,className:"mt-2",items:Ie.map((mt,De)=>g.jsx(OR,{m:mt,index:De,orderedFolders:K,unassignedLabel:Z,isDragDisabled:ie,collapsed:se(mt.id),memoOpen:!!Y.memoOpenMap[mt.id],onToggleMemo:Y.toggleMemo,onToggleCollapsed:()=>ne(mt.id),onChangeFolder:pe.changeFolder,onChangeMingSikType:pe.changeMingSikType,onView:pe.viewAndClose,onEdit:ze=>i(ze),onDelete:pe.requestDelete,onToggleFavorite:ze=>void _(ze,K)},mt.id))})},`folder-${ue}`)}),xe.placeholder]})})]})})]})]})}function DR(e){return{...e,calendarType:e.calendarType??"solar"}}function PR(e){return!e.birthTime||e.birthTime===""}function RR(e){return!e.birthPlace||e.birthPlace.name===""}function Lhe(e,t){if(t!=="lunar"||!e||e.length!==8)return null;try{const n=Number(e.slice(0,4)),r=Number(e.slice(4,6)),i=Number(e.slice(6,8)),a=ea(n,r,i),o=String(a.getMonth()+1).padStart(2,"0"),l=String(a.getDate()).padStart(2,"0");return`  ${a.getFullYear()}-${o}-${l}`}catch(n){const r=n instanceof Error?n.message:void 0;return`  ${r?`: ${r}`:""}`}}const O9="ms_folders";function Ihe(){try{const e=JSON.parse(localStorage.getItem(O9)||"[]");return Array.isArray(e)?e:[]}catch{return[]}}function $he(e){localStorage.setItem(O9,JSON.stringify(e))}function Bhe(e){const[t,n]=S.useState(!1),[r,i]=S.useState(()=>DR(e)),[a,o]=S.useState(PR(e)),[l,u]=S.useState(RR(e)),[d,h]=S.useState([]);return S.useEffect(()=>{h(Ihe())},[]),{isEditing:t,setIsEditing:n,form:r,setForm:i,updateForm:(y,k)=>{i(w=>({...w,[y]:k}))},unknownTime:a,setUnknownTime:o,unknownPlace:l,setUnknownPlace:u,customFolders:d,setCustomFolders:h,resetForm:()=>{i(DR(e)),o(PR(e)),u(RR(e))}}}const C9=["","","","","",""];function zhe(e,t){const n=Array.from(new Set(e.map(a=>a.folder).filter(Boolean))),r=new Set([...C9,...t,...n]),i=Array.from(r).sort((a,o)=>a.localeCompare(o));return[En,...i]}function Uhe({list:e,customFolders:t,form:n}){const r=S.useMemo(()=>zhe(e,t),[e,t]),i=S.useMemo(()=>Lhe(n.birthDay,n.calendarType),[n.birthDay,n.calendarType]);return{folderOptions:r,lunarPreview:i}}function Fhe(e,t,n){if(!e.name||e.name.trim()==="")return"";const r=Xj(e.birthDay??"",e.calendarType??"solar");if(!r.ok)return r.message;const i=Jj(e.birthTime??"",t);return i.ok?!n&&!e.birthPlace?"":null:i.message}function Hhe({item:e,form:t,unknownTime:n,unknownPlace:r,customFolders:i,setCustomFolders:a,update:o,remove:l,onClose:u,onSaved:d}){return{save:()=>{const b=Fhe(t,n,r);if(b){alert(b);return}const y=Su(t.folder===En?void 0:t.folder),k=$6({id:e.id,name:t.name,birthDay:t.birthDay??"",calendarType:t.calendarType??"solar",birthTime:t.birthTime,unknownTime:n,gender:t.gender,birthPlace:t.birthPlace,unknownPlace:r,relationship:t.relationship,memo:t.memo,folder:y,mingSikType:t.mingSikType,favorite:e.favorite,deletedAt:e.deletedAt??null,sortOrder:e.sortOrder,dateObj:e.dateObj},{requireName:!0});if(!k.ok){alert(k.message);return}const w={...e,...k.value};if(w.folder&&!C9.includes(w.folder)&&!i.includes(w.folder)){const _=[...i,w.folder];a(_),$he(_)}o(e.id,w),d?.(),u?.()},removeThis:()=>{confirm(`'${e.name}'  ?`)&&l(e.id)}}}const tS="w-full rounded p-2 border transition-colors duration-200 bg-white text-neutral-900 placeholder-neutral-400 border-neutral-300 focus:outline-none focus:ring-2 focus:ring-violet-500 focus:border-transparent dark:bg-neutral-900 dark:text-neutral-100 dark:placeholder-neutral-500 dark:border-neutral-700 dark:focus:ring-violet-400",Ghe="w-full rounded p-2 border transition-colors duration-200 bg-white text-neutral-900 border-neutral-300 focus:outline-none focus:ring-2 focus:ring-violet-500 focus:border-transparent dark:bg-neutral-900 dark:text-neutral-100 dark:border-neutral-700 dark:focus:ring-violet-400",Yhe="w-full rounded p-2 border min-h-28 transition-colors duration-200 bg-white text-neutral-900 placeholder-neutral-400 border-neutral-300 focus:outline-none focus:ring-2 focus:ring-violet-500 focus:border-transparent dark:bg-neutral-900 dark:text-neutral-100 dark:placeholder-neutral-500 dark:border-neutral-700 dark:focus:ring-violet-400",Ss="block text-sm mb-1 font-medium text-neutral-800 dark:text-neutral-200",qhe="text-xs text-neutral-500 dark:text-neutral-400",wb="accent-violet-600 dark:accent-violet-400",LR="accent-violet-600 dark:accent-violet-400",Sx="px-3 py-1.5 rounded text-sm font-medium transition-colors duration-200 focus:outline-none focus:ring-2 focus:ring-offset-2 dark:focus:ring-offset-neutral-900",Khe=`${Sx} bg-amber-600 text-white hover:bg-amber-500 dark:bg-amber-600 dark:hover:bg-amber-500 cursor-pointer`,Whe=`${Sx} bg-red-600 text-white hover:bg-red-500 dark:bg-red-600 dark:hover:bg-red-500 cursor-pointer`,IR=`${Sx} bg-neutral-800 text-white hover:bg-neutral-700 dark:bg-neutral-700 dark:hover:bg-neutral-600 cursor-pointer`,Vhe=`${Sx} bg-green-600 text-white hover:bg-green-500 dark:bg-green-600 dark:hover:bg-green-500 cursor-pointer`;function Zhe({item:e,onClose:t}){const{list:n,update:r,remove:i}=jn(),a=Bhe(e),o=Uhe({list:n,customFolders:a.customFolders,form:a.form}),l=Hhe({item:e,form:a.form,unknownTime:a.unknownTime,unknownPlace:a.unknownPlace,customFolders:a.customFolders,setCustomFolders:a.setCustomFolders,update:r,remove:i,onClose:t,onSaved:()=>a.setIsEditing(!1)});return a.isEditing?g.jsxs("div",{className:"space-y-4 max-h-[calc(90dvh_-_40px)] overflow-auto transition-colors duration-200 bg-white text-neutral-900 dark:bg-neutral-950 dark:text-neutral-100 p-4 rounded-xl",children:[g.jsx("h3",{className:"text-lg font-bold",children:" "}),g.jsxs("div",{children:[g.jsx("label",{className:Ss,children:""}),g.jsx("input",{className:tS,value:a.form.name||"",onChange:u=>a.updateForm("name",u.target.value),placeholder:""})]}),g.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3",children:[g.jsxs("div",{children:[g.jsx("label",{className:Ss,children:" (YYYYMMDD)"}),g.jsx("input",{className:tS,value:a.form.birthDay||"",onChange:u=>a.updateForm("birthDay",u.target.value.replace(/\D/g,"").slice(0,8)),inputMode:"numeric",maxLength:8,placeholder:": 19900101"}),g.jsxs("div",{className:"flex gap-4 mt-2 items-center justify-between",children:[g.jsxs("div",{className:"flex gap-4",children:[g.jsxs("span",{className:"inline-flex items-center gap-1",children:[g.jsx("input",{type:"radio",className:wb,name:"calendarType",checked:a.form.calendarType==="solar",onChange:()=>a.updateForm("calendarType","solar"),id:"editor_calendar_solar"}),g.jsx("label",{htmlFor:"editor_calendar_solar",className:"inline-flex items-center gap-1 text-sm text-neutral-800 dark:text-neutral-200 cursor-pointer",children:""})]}),g.jsxs("span",{className:"inline-flex items-center gap-1",children:[g.jsx("input",{type:"radio",className:wb,name:"calendarType",checked:a.form.calendarType==="lunar",onChange:()=>a.updateForm("calendarType","lunar"),id:"editor_calendar_lunar"}),g.jsx("label",{htmlFor:"editor_calendar_lunar",className:"inline-flex items-center gap-1 text-sm text-neutral-800 dark:text-neutral-200 cursor-pointer",children:""})]})]}),o.lunarPreview&&g.jsx("span",{className:qhe,children:o.lunarPreview})]})]}),g.jsxs("div",{children:[g.jsx("label",{className:Ss,children:"  (HHMM)"}),g.jsx("input",{className:`${tS} disabled:opacity-50`,value:a.unknownTime?"":a.form.birthTime||"",onChange:u=>a.updateForm("birthTime",u.target.value.replace(/\D/g,"").slice(0,4)),inputMode:"numeric",maxLength:4,placeholder:": 1524",disabled:a.unknownTime}),g.jsxs("div",{className:"mt-1 text-sm flex items-center gap-2",children:[g.jsx("input",{type:"checkbox",className:LR,checked:a.unknownTime,onChange:u=>a.setUnknownTime(u.target.checked),id:"editor_birthTimeX"}),g.jsx("label",{htmlFor:"editor_birthTimeX",className:"text-neutral-800 dark:text-neutral-200 cursor-pointer",children:""})]})]})]}),g.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3",children:[g.jsxs("div",{children:[g.jsx("label",{className:Ss,children:" "}),g.jsx("div",{className:"flex gap-4 text-sm",children:["","/",""].map(u=>{const d=`editor_ming_${u}`;return g.jsxs("span",{className:"inline-flex items-center gap-1",children:[g.jsx("input",{type:"radio",className:wb,name:"mingSikType",checked:(a.form.mingSikType??"")===u,onChange:()=>a.updateForm("mingSikType",u),id:d}),g.jsx("label",{htmlFor:d,className:"text-neutral-800 dark:text-neutral-200 cursor-pointer",children:u})]},u)})})]}),g.jsxs("div",{children:[g.jsx("label",{className:Ss,children:""}),g.jsx("div",{className:"flex gap-4 text-sm",children:["",""].map(u=>{const d=`editor_gender_${u}`;return g.jsxs("span",{className:"inline-flex items-center gap-1",children:[g.jsx("input",{type:"radio",className:wb,name:"gender",value:u,checked:a.form.gender===u,onChange:h=>a.updateForm("gender",h.target.value),id:d}),g.jsx("label",{htmlFor:d,className:"text-neutral-800 dark:text-neutral-200 cursor-pointer",children:u})]},u)})})]})]}),g.jsxs("div",{children:[g.jsx("label",{className:Ss,children:" "}),g.jsx(S4,{onSelect:u=>a.updateForm("birthPlace",u),value:a.unknownPlace?"":a.form.birthPlace?.name??""}),g.jsxs("div",{className:"mt-1 text-sm flex items-center gap-2",children:[g.jsx("input",{type:"checkbox",className:LR,checked:a.unknownPlace,onChange:u=>a.setUnknownPlace(u.target.checked),id:"editor_birthPlaceX"}),g.jsx("label",{htmlFor:"editor_birthPlaceX",className:"text-neutral-800 dark:text-neutral-200 cursor-pointer",children:""})]})]}),g.jsxs("div",{children:[g.jsx("label",{className:Ss,children:""}),g.jsx(K6,{value:a.form.relationship||"",onChange:u=>a.updateForm("relationship",u)})]}),g.jsxs("div",{children:[g.jsx("label",{className:Ss,children:""}),g.jsx("select",{className:Ghe,value:a.form.folder??En,onChange:u=>{const d=u.target.value;d===En?a.updateForm("folder",void 0):a.updateForm("folder",d)},children:o.folderOptions.map(u=>g.jsx("option",{value:u===En?En:u,children:u},u))})]}),g.jsxs("div",{children:[g.jsx("label",{className:Ss,children:""}),g.jsx("textarea",{className:Yhe,value:a.form.memo||"",onChange:u=>a.updateForm("memo",u.target.value),placeholder:" "})]}),g.jsxs("div",{className:"flex gap-2 justify-end",children:[g.jsx("button",{className:IR,onClick:()=>{a.resetForm(),a.setIsEditing(!1)},children:""}),g.jsx("button",{className:Vhe,onClick:l.save,children:""})]})]}):g.jsxs("div",{className:"p-4 space-y-3 transition-colors duration-200 bg-white text-neutral-900 dark:bg-neutral-950 dark:text-neutral-100",children:[g.jsxs("div",{className:"flex items-center justify-between",children:[g.jsxs("h3",{className:"text-lg font-bold",children:[" ",e.name," "]}),g.jsxs("div",{className:"flex gap-2",children:[g.jsx("button",{className:Khe,onClick:()=>a.setIsEditing(!0),children:""}),g.jsx("button",{className:Whe,onClick:l.removeThis,children:""}),t&&g.jsx("button",{className:IR,onClick:t,children:""})]})]}),g.jsxs("div",{className:"text-sm text-neutral-700 dark:text-neutral-300",children:[g.jsxs("div",{children:[": ",e.gender]}),g.jsxs("div",{children:["/: ",e.birthDay," ",e.birthTime===""?"( )":e.birthTime,","," ",e.calendarType==="lunar"?"":""]}),g.jsxs("div",{children:[": ",e.correctedLocal||"-"]}),g.jsxs("div",{children:[": ",e.birthPlace?.name||"-"]}),g.jsxs("div",{children:[": ",e.relationship||"-"]}),g.jsxs("div",{children:[": ",e.folder??En]})]}),e.ganji&&g.jsx("div",{className:"text-sm text-red-500 whitespace-pre-wrap",children:e.ganji}),e.memo&&g.jsxs("div",{className:"text-sm whitespace-pre-wrap text-neutral-800 dark:text-neutral-200",children:[g.jsx("p",{className:"mb-1 font-semibold",children:""}),e.memo]})]})}function Xhe({children:e}){const t=qr(),[n,r]=S.useState(!1),i=[{label:" ",href:"/admin/dashboard"},{label:"  ",href:"/admin/user"},{label:"  ",href:"/admin/logs"}];return g.jsxs("div",{className:"flex min-h-screen bg-neutral-950 text-white",children:[g.jsxs("aside",{className:`
          fixed top-0 left-0 h-full bg-neutral-900 border-r border-neutral-800 
          transition-all z-50

          desk:w-60 desk:translate-x-0
          ${n?"w-60 translate-x-0":"-translate-x-full"}
        `,children:[g.jsxs("div",{className:"p-4 font-bold text-lg flex items-center justify-between",children:[g.jsx("span",{className:"desk:block hidden",children:""}),g.jsx("button",{className:"desk:hidden text-neutral-400 hover:text-white",onClick:()=>r(!1),children:""})]}),g.jsx("nav",{className:"mt-4 flex flex-col gap-1 px-2",children:i.map(a=>{const o=t.pathname.startsWith(a.href);return g.jsx("a",{href:a.href,className:`
                  block px-3 py-2 rounded-md text-sm
                  ${o?"bg-neutral-800 text-yellow-400":"text-neutral-300 hover:bg-neutral-800"}
                `,children:a.label},a.href)})})]}),g.jsxs("main",{className:"flex-1 flex flex-col desk:ml-60",children:[g.jsxs("header",{className:"h-14 border-b border-neutral-800 bg-neutral-900 flex items-center px-4 justify-between",children:[g.jsx("button",{className:"desk:hidden text-neutral-300",onClick:()=>r(!0),children:""}),g.jsx("div",{className:"font-semibold",children:" "}),g.jsx("button",{className:"text-sm text-neutral-400 hover:text-white cursor-pointer",onClick:()=>window.location.href="/",children:" "})]}),g.jsx("div",{className:"flex-1",children:e})]})]})}function Jhe(){const[e,t]=S.useState(null),[n,r]=S.useState(!0);return S.useEffect(()=>{(async()=>{const{data:a}=await Le.auth.getUser(),o=a.user?.id;if(!o){t(null),r(!1);return}const{data:l}=await Le.from("admin_roles").select("role").eq("user_id",o).maybeSingle();t(l?.role??null),r(!1)})()},[]),{role:e,loading:n}}function Qhe({allow:e,children:t}){const{role:n,loading:r}=Jhe();return r?g.jsx("div",{className:"text-white p-6",children:"Checking permission..."}):!n||!e.includes(n)?g.jsx("div",{className:"text-red-400 p-6",children:" ."}):g.jsx(g.Fragment,{children:t})}function M9(e){var t,n,r="";if(typeof e=="string"||typeof e=="number")r+=e;else if(typeof e=="object")if(Array.isArray(e)){var i=e.length;for(t=0;t<i;t++)e[t]&&(n=M9(e[t]))&&(r&&(r+=" "),r+=n)}else for(n in e)e[n]&&(r&&(r+=" "),r+=n);return r}function fn(){for(var e,t,n=0,r="",i=arguments.length;n<i;n++)(e=arguments[n])&&(t=M9(e))&&(r&&(r+=" "),r+=t);return r}var eme=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"];function TT(e){if(typeof e!="string")return!1;var t=eme;return t.includes(e)}var tme=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],nme=new Set(tme);function D9(e){return typeof e!="string"?!1:nme.has(e)}function P9(e){return typeof e=="string"&&e.startsWith("data-")}function co(e){if(typeof e!="object"||e===null)return{};var t={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(D9(n)||P9(n))&&(t[n]=e[n]);return t}function kx(e){if(e==null)return null;if(S.isValidElement(e)&&typeof e.props=="object"&&e.props!==null){var t=e.props;return co(t)}return typeof e=="object"&&!Array.isArray(e)?co(e):null}function Aa(e){var t={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(D9(n)||P9(n)||TT(n))&&(t[n]=e[n]);return t}function rme(e){return e==null?null:S.isValidElement(e)?Aa(e.props):typeof e=="object"&&!Array.isArray(e)?Aa(e):null}var ime=["children","width","height","viewBox","className","style","title","desc"];function XE(){return XE=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},XE.apply(null,arguments)}function ame(e,t){if(e==null)return{};var n,r,i=ome(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function ome(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var R9=S.forwardRef((e,t)=>{var{children:n,width:r,height:i,viewBox:a,className:o,style:l,title:u,desc:d}=e,h=ame(e,ime),m=a||{width:r,height:i,x:0,y:0},b=fn("recharts-surface",o);return S.createElement("svg",XE({},Aa(h),{className:b,width:r,height:i,style:l,viewBox:"".concat(m.x," ").concat(m.y," ").concat(m.width," ").concat(m.height),ref:t}),S.createElement("title",null,u),S.createElement("desc",null,d),n)}),sme=["children","className"];function JE(){return JE=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},JE.apply(null,arguments)}function lme(e,t){if(e==null)return{};var n,r,i=cme(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function cme(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var Yo=S.forwardRef((e,t)=>{var{children:n,className:r}=e,i=lme(e,sme),a=fn("recharts-layer",r);return S.createElement("g",JE({className:a},Aa(i),{ref:t}),n)}),ume=S.createContext(null);function Dn(e){return function(){return e}}const QE=Math.PI,e2=2*QE,cu=1e-6,dme=e2-cu;function L9(e){this._+=e[0];for(let t=1,n=e.length;t<n;++t)this._+=arguments[t]+e[t]}function fme(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return L9;const n=10**t;return function(r){this._+=r[0];for(let i=1,a=r.length;i<a;++i)this._+=Math.round(arguments[i]*n)/n+r[i]}}class hme{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?L9:fme(t)}moveTo(t,n){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,n){this._append`L${this._x1=+t},${this._y1=+n}`}quadraticCurveTo(t,n,r,i){this._append`Q${+t},${+n},${this._x1=+r},${this._y1=+i}`}bezierCurveTo(t,n,r,i,a,o){this._append`C${+t},${+n},${+r},${+i},${this._x1=+a},${this._y1=+o}`}arcTo(t,n,r,i,a){if(t=+t,n=+n,r=+r,i=+i,a=+a,a<0)throw new Error(`negative radius: ${a}`);let o=this._x1,l=this._y1,u=r-t,d=i-n,h=o-t,m=l-n,b=h*h+m*m;if(this._x1===null)this._append`M${this._x1=t},${this._y1=n}`;else if(b>cu)if(!(Math.abs(m*u-d*h)>cu)||!a)this._append`L${this._x1=t},${this._y1=n}`;else{let y=r-o,k=i-l,w=u*u+d*d,_=y*y+k*k,j=Math.sqrt(w),O=Math.sqrt(b),T=a*Math.tan((QE-Math.acos((w+b-_)/(2*j*O)))/2),C=T/O,M=T/j;Math.abs(C-1)>cu&&this._append`L${t+C*h},${n+C*m}`,this._append`A${a},${a},0,0,${+(m*y>h*k)},${this._x1=t+M*u},${this._y1=n+M*d}`}}arc(t,n,r,i,a,o){if(t=+t,n=+n,r=+r,o=!!o,r<0)throw new Error(`negative radius: ${r}`);let l=r*Math.cos(i),u=r*Math.sin(i),d=t+l,h=n+u,m=1^o,b=o?i-a:a-i;this._x1===null?this._append`M${d},${h}`:(Math.abs(this._x1-d)>cu||Math.abs(this._y1-h)>cu)&&this._append`L${d},${h}`,r&&(b<0&&(b=b%e2+e2),b>dme?this._append`A${r},${r},0,1,${m},${t-l},${n-u}A${r},${r},0,1,${m},${this._x1=d},${this._y1=h}`:b>cu&&this._append`A${r},${r},0,${+(b>=QE)},${m},${this._x1=t+r*Math.cos(a)},${this._y1=n+r*Math.sin(a)}`)}rect(t,n,r,i){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+n}h${r=+r}v${+i}h${-r}Z`}toString(){return this._}}function I9(e){let t=3;return e.digits=function(n){if(!arguments.length)return t;if(n==null)t=null;else{const r=Math.floor(n);if(!(r>=0))throw new RangeError(`invalid digits: ${n}`);t=r}return e},()=>new hme(t)}function AT(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function $9(e){this._context=e}$9.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}};function Ex(e){return new $9(e)}function B9(e){return e[0]}function z9(e){return e[1]}function U9(e,t){var n=Dn(!0),r=null,i=Ex,a=null,o=I9(l);e=typeof e=="function"?e:e===void 0?B9:Dn(e),t=typeof t=="function"?t:t===void 0?z9:Dn(t);function l(u){var d,h=(u=AT(u)).length,m,b=!1,y;for(r==null&&(a=i(y=o())),d=0;d<=h;++d)!(d<h&&n(m=u[d],d,u))===b&&((b=!b)?a.lineStart():a.lineEnd()),b&&a.point(+e(m,d,u),+t(m,d,u));if(y)return a=null,y+""||null}return l.x=function(u){return arguments.length?(e=typeof u=="function"?u:Dn(+u),l):e},l.y=function(u){return arguments.length?(t=typeof u=="function"?u:Dn(+u),l):t},l.defined=function(u){return arguments.length?(n=typeof u=="function"?u:Dn(!!u),l):n},l.curve=function(u){return arguments.length?(i=u,r!=null&&(a=i(r)),l):i},l.context=function(u){return arguments.length?(u==null?r=a=null:a=i(r=u),l):r},l}function _b(e,t,n){var r=null,i=Dn(!0),a=null,o=Ex,l=null,u=I9(d);e=typeof e=="function"?e:e===void 0?B9:Dn(+e),t=typeof t=="function"?t:Dn(t===void 0?0:+t),n=typeof n=="function"?n:n===void 0?z9:Dn(+n);function d(m){var b,y,k,w=(m=AT(m)).length,_,j=!1,O,T=new Array(w),C=new Array(w);for(a==null&&(l=o(O=u())),b=0;b<=w;++b){if(!(b<w&&i(_=m[b],b,m))===j)if(j=!j)y=b,l.areaStart(),l.lineStart();else{for(l.lineEnd(),l.lineStart(),k=b-1;k>=y;--k)l.point(T[k],C[k]);l.lineEnd(),l.areaEnd()}j&&(T[b]=+e(_,b,m),C[b]=+t(_,b,m),l.point(r?+r(_,b,m):T[b],n?+n(_,b,m):C[b]))}if(O)return l=null,O+""||null}function h(){return U9().defined(i).curve(o).context(a)}return d.x=function(m){return arguments.length?(e=typeof m=="function"?m:Dn(+m),r=null,d):e},d.x0=function(m){return arguments.length?(e=typeof m=="function"?m:Dn(+m),d):e},d.x1=function(m){return arguments.length?(r=m==null?null:typeof m=="function"?m:Dn(+m),d):r},d.y=function(m){return arguments.length?(t=typeof m=="function"?m:Dn(+m),n=null,d):t},d.y0=function(m){return arguments.length?(t=typeof m=="function"?m:Dn(+m),d):t},d.y1=function(m){return arguments.length?(n=m==null?null:typeof m=="function"?m:Dn(+m),d):n},d.lineX0=d.lineY0=function(){return h().x(e).y(t)},d.lineY1=function(){return h().x(e).y(n)},d.lineX1=function(){return h().x(r).y(t)},d.defined=function(m){return arguments.length?(i=typeof m=="function"?m:Dn(!!m),d):i},d.curve=function(m){return arguments.length?(o=m,a!=null&&(l=o(a)),d):o},d.context=function(m){return arguments.length?(m==null?a=l=null:l=o(a=m),d):a},d}class F9{constructor(t,n){this._context=t,this._x=n}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(t,n){switch(t=+t,n=+n,this._point){case 0:{this._point=1,this._line?this._context.lineTo(t,n):this._context.moveTo(t,n);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+t)/2,this._y0,this._x0,n,t,n):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+n)/2,t,this._y0,t,n);break}}this._x0=t,this._y0=n}}function mme(e){return new F9(e,!0)}function pme(e){return new F9(e,!1)}function ev(){}function tv(e,t,n){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+n)/6)}function H9(e){this._context=e}H9.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:tv(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:tv(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function gme(e){return new H9(e)}function G9(e){this._context=e}G9.prototype={areaStart:ev,areaEnd:ev,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:tv(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function bme(e){return new G9(e)}function Y9(e){this._context=e}Y9.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+e)/6,r=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(n,r):this._context.moveTo(n,r);break;case 3:this._point=4;default:tv(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function yme(e){return new Y9(e)}function q9(e){this._context=e}q9.prototype={areaStart:ev,areaEnd:ev,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}};function vme(e){return new q9(e)}function $R(e){return e<0?-1:1}function BR(e,t,n){var r=e._x1-e._x0,i=t-e._x1,a=(e._y1-e._y0)/(r||i<0&&-0),o=(n-e._y1)/(i||r<0&&-0),l=(a*i+o*r)/(r+i);return($R(a)+$R(o))*Math.min(Math.abs(a),Math.abs(o),.5*Math.abs(l))||0}function zR(e,t){var n=e._x1-e._x0;return n?(3*(e._y1-e._y0)/n-t)/2:t}function nS(e,t,n){var r=e._x0,i=e._y0,a=e._x1,o=e._y1,l=(a-r)/3;e._context.bezierCurveTo(r+l,i+l*t,a-l,o-l*n,a,o)}function nv(e){this._context=e}nv.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:nS(this,this._t0,zR(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var n=NaN;if(e=+e,t=+t,!(e===this._x1&&t===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,nS(this,zR(this,n=BR(this,e,t)),n);break;default:nS(this,this._t0,n=BR(this,e,t));break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=n}}};function K9(e){this._context=new W9(e)}(K9.prototype=Object.create(nv.prototype)).point=function(e,t){nv.prototype.point.call(this,t,e)};function W9(e){this._context=e}W9.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,n,r,i,a){this._context.bezierCurveTo(t,e,r,n,a,i)}};function xme(e){return new nv(e)}function wme(e){return new K9(e)}function V9(e){this._context=e}V9.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,n=e.length;if(n)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),n===2)this._context.lineTo(e[1],t[1]);else for(var r=UR(e),i=UR(t),a=0,o=1;o<n;++a,++o)this._context.bezierCurveTo(r[0][a],i[0][a],r[1][a],i[1][a],e[o],t[o]);(this._line||this._line!==0&&n===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}};function UR(e){var t,n=e.length-1,r,i=new Array(n),a=new Array(n),o=new Array(n);for(i[0]=0,a[0]=2,o[0]=e[0]+2*e[1],t=1;t<n-1;++t)i[t]=1,a[t]=4,o[t]=4*e[t]+2*e[t+1];for(i[n-1]=2,a[n-1]=7,o[n-1]=8*e[n-1]+e[n],t=1;t<n;++t)r=i[t]/a[t-1],a[t]-=r,o[t]-=r*o[t-1];for(i[n-1]=o[n-1]/a[n-1],t=n-2;t>=0;--t)i[t]=(o[t]-i[t+1])/a[t];for(a[n-1]=(e[n]+i[n-1])/2,t=0;t<n-1;++t)a[t]=2*e[t+1]-i[t+1];return[i,a]}function _me(e){return new V9(e)}function jx(e,t){this._context=e,this._t=t}jx.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var n=this._x*(1-this._t)+e*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,t)}break}}this._x=e,this._y=t}};function Sme(e){return new jx(e,.5)}function kme(e){return new jx(e,0)}function Eme(e){return new jx(e,1)}function yf(e,t){if((o=e.length)>1)for(var n=1,r,i,a=e[t[0]],o,l=a.length;n<o;++n)for(i=a,a=e[t[n]],r=0;r<l;++r)a[r][1]+=a[r][0]=isNaN(i[r][1])?i[r][0]:i[r][1]}function t2(e){for(var t=e.length,n=new Array(t);--t>=0;)n[t]=t;return n}function jme(e,t){return e[t]}function Tme(e){const t=[];return t.key=e,t}function Ame(){var e=Dn([]),t=t2,n=yf,r=jme;function i(a){var o=Array.from(e.apply(this,arguments),Tme),l,u=o.length,d=-1,h;for(const m of a)for(l=0,++d;l<u;++l)(o[l][d]=[0,+r(m,o[l].key,d,a)]).data=m;for(l=0,h=AT(t(o));l<u;++l)o[h[l]].index=l;return n(o,h),o}return i.keys=function(a){return arguments.length?(e=typeof a=="function"?a:Dn(Array.from(a)),i):e},i.value=function(a){return arguments.length?(r=typeof a=="function"?a:Dn(+a),i):r},i.order=function(a){return arguments.length?(t=a==null?t2:typeof a=="function"?a:Dn(Array.from(a)),i):t},i.offset=function(a){return arguments.length?(n=a??yf,i):n},i}function Nme(e,t){if((r=e.length)>0){for(var n,r,i=0,a=e[0].length,o;i<a;++i){for(o=n=0;n<r;++n)o+=e[n][i][1]||0;if(o)for(n=0;n<r;++n)e[n][i][1]/=o}yf(e,t)}}function Ome(e,t){if((i=e.length)>0){for(var n=0,r=e[t[0]],i,a=r.length;n<a;++n){for(var o=0,l=0;o<i;++o)l+=e[o][n][1]||0;r[n][1]+=r[n][0]=-l/2}yf(e,t)}}function Cme(e,t){if(!(!((o=e.length)>0)||!((a=(i=e[t[0]]).length)>0))){for(var n=0,r=1,i,a,o;r<a;++r){for(var l=0,u=0,d=0;l<o;++l){for(var h=e[t[l]],m=h[r][1]||0,b=h[r-1][1]||0,y=(m-b)/2,k=0;k<l;++k){var w=e[t[k]],_=w[r][1]||0,j=w[r-1][1]||0;y+=_-j}u+=m,d+=y*m}i[r-1][1]+=i[r-1][0]=n,u&&(n-=d/u)}i[r-1][1]+=i[r-1][0]=n,yf(e,t)}}var rS={},iS={},FR;function Mme(){return FR||(FR=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return n==="__proto__"}e.isUnsafeProperty=t})(iS)),iS}var aS={},HR;function Z9(){return HR||(HR=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){switch(typeof n){case"number":case"symbol":return!1;case"string":return n.includes(".")||n.includes("[")||n.includes("]")}}e.isDeepKey=t})(aS)),aS}var oS={},GR;function NT(){return GR||(GR=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return typeof n=="string"||typeof n=="symbol"?n:Object.is(n?.valueOf?.(),-0)?"-0":String(n)}e.toKey=t})(oS)),oS}var sS={},lS={},YR;function Dme(){return YR||(YR=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){if(n==null)return"";if(typeof n=="string")return n;if(Array.isArray(n))return n.map(t).join(",");const r=String(n);return r==="0"&&Object.is(Number(n),-0)?"-0":r}e.toString=t})(lS)),lS}var qR;function OT(){return qR||(qR=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Dme(),n=NT();function r(i){if(Array.isArray(i))return i.map(n.toKey);if(typeof i=="symbol")return[i];i=t.toString(i);const a=[],o=i.length;if(o===0)return a;let l=0,u="",d="",h=!1;for(i.charCodeAt(0)===46&&(a.push(""),l++);l<o;){const m=i[l];d?m==="\\"&&l+1<o?(l++,u+=i[l]):m===d?d="":u+=m:h?m==='"'||m==="'"?d=m:m==="]"?(h=!1,a.push(u),u=""):u+=m:m==="["?(h=!0,u&&(a.push(u),u="")):m==="."?u&&(a.push(u),u=""):u+=m,l++}return u&&a.push(u),a}e.toPath=r})(sS)),sS}var KR;function CT(){return KR||(KR=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Mme(),n=Z9(),r=NT(),i=OT();function a(l,u,d){if(l==null)return d;switch(typeof u){case"string":{if(t.isUnsafeProperty(u))return d;const h=l[u];return h===void 0?n.isDeepKey(u)?a(l,i.toPath(u),d):d:h}case"number":case"symbol":{typeof u=="number"&&(u=r.toKey(u));const h=l[u];return h===void 0?d:h}default:{if(Array.isArray(u))return o(l,u,d);if(Object.is(u?.valueOf(),-0)?u="-0":u=String(u),t.isUnsafeProperty(u))return d;const h=l[u];return h===void 0?d:h}}}function o(l,u,d){if(u.length===0)return d;let h=l;for(let m=0;m<u.length;m++){if(h==null||t.isUnsafeProperty(u[m]))return d;h=h[u[m]]}return h===void 0?d:h}e.get=a})(rS)),rS}var cS,WR;function Pme(){return WR||(WR=1,cS=CT().get),cS}var Rme=Pme();const Tx=Ti(Rme);var Sa=e=>e===0?0:e>0?1:-1,uo=e=>typeof e=="number"&&e!=+e,Bs=e=>typeof e=="string"&&e.indexOf("%")===e.length-1,tt=e=>(typeof e=="number"||e instanceof Number)&&!uo(e),qo=e=>tt(e)||typeof e=="string",Lme=0,dp=e=>{var t=++Lme;return"".concat(e||"").concat(t)},sc=function(t,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!tt(t)&&typeof t!="string")return r;var a;if(Bs(t)){if(n==null)return r;var o=t.indexOf("%");a=n*parseFloat(t.slice(0,o))/100}else a=+t;return uo(a)&&(a=r),i&&n!=null&&a>n&&(a=n),a},X9=e=>{if(!Array.isArray(e))return!1;for(var t=e.length,n={},r=0;r<t;r++)if(!n[e[r]])n[e[r]]=!0;else return!0;return!1};function $o(e,t,n){return tt(e)&&tt(t)?e+n*(t-e):t}function J9(e,t,n){if(!(!e||!e.length))return e.find(r=>r&&(typeof t=="function"?t(r):Tx(r,t))===n)}var Rr=e=>e===null||typeof e>"u",MT=e=>Rr(e)?e:"".concat(e.charAt(0).toUpperCase()).concat(e.slice(1));function Ime(e){return e!=null}function Gp(){}var Q9=e=>"radius"in e&&"startAngle"in e&&"endAngle"in e,DT=(e,t)=>{if(!e||typeof e=="function"||typeof e=="boolean")return null;var n=e;if(S.isValidElement(e)&&(n=e.props),typeof n!="object"&&typeof n!="function")return null;var r={};return Object.keys(n).forEach(i=>{TT(i)&&(r[i]=(a=>n[i](n,a)))}),r},$me=(e,t,n)=>r=>(e(t,n,r),null),Bme=(e,t,n)=>{if(e===null||typeof e!="object"&&typeof e!="function")return null;var r=null;return Object.keys(e).forEach(i=>{var a=e[i];TT(i)&&typeof a=="function"&&(r||(r={}),r[i]=$me(a,t,n))}),r};function VR(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function zme(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?VR(Object(n),!0).forEach(function(r){Ume(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):VR(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Ume(e,t,n){return(t=Fme(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Fme(e){var t=Hme(e,"string");return typeof t=="symbol"?t:t+""}function Hme(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function ta(e,t){var n=zme({},e),r=t,i=Object.keys(t),a=i.reduce((o,l)=>(o[l]===void 0&&r[l]!==void 0&&(o[l]=r[l]),o),n);return a}var uS={},dS={},ZR;function Gme(){return ZR||(ZR=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n,r){const i=new Map;for(let a=0;a<n.length;a++){const o=n[a],l=r(o);i.has(l)||i.set(l,o)}return Array.from(i.values())}e.uniqBy=t})(dS)),dS}var fS={},XR;function e8(){return XR||(XR=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return n}e.identity=t})(fS)),fS}var hS={},mS={},pS={},JR;function Yme(){return JR||(JR=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return Number.isSafeInteger(n)&&n>=0}e.isLength=t})(pS)),pS}var QR;function PT(){return QR||(QR=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Yme();function n(r){return r!=null&&typeof r!="function"&&t.isLength(r.length)}e.isArrayLike=n})(mS)),mS}var gS={},e3;function qme(){return e3||(e3=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return typeof n=="object"&&n!==null}e.isObjectLike=t})(gS)),gS}var t3;function Kme(){return t3||(t3=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=PT(),n=qme();function r(i){return n.isObjectLike(i)&&t.isArrayLike(i)}e.isArrayLikeObject=r})(hS)),hS}var bS={},yS={},n3;function Wme(){return n3||(n3=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=CT();function n(r){return function(i){return t.get(i,r)}}e.property=n})(yS)),yS}var vS={},xS={},wS={},_S={},r3;function t8(){return r3||(r3=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return n!==null&&(typeof n=="object"||typeof n=="function")}e.isObject=t})(_S)),_S}var SS={},i3;function n8(){return i3||(i3=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return n==null||typeof n!="object"&&typeof n!="function"}e.isPrimitive=t})(SS)),SS}var kS={},a3;function r8(){return a3||(a3=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n,r){return n===r||Number.isNaN(n)&&Number.isNaN(r)}e.eq=t})(kS)),kS}var o3;function Vme(){return o3||(o3=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=t8(),n=n8(),r=r8();function i(h,m,b){return typeof b!="function"?i(h,m,()=>{}):a(h,m,function y(k,w,_,j,O,T){const C=b(k,w,_,j,O,T);return C!==void 0?!!C:a(k,w,y,T)},new Map)}function a(h,m,b,y){if(m===h)return!0;switch(typeof m){case"object":return o(h,m,b,y);case"function":return Object.keys(m).length>0?a(h,{...m},b,y):r.eq(h,m);default:return t.isObject(h)?typeof m=="string"?m==="":!0:r.eq(h,m)}}function o(h,m,b,y){if(m==null)return!0;if(Array.isArray(m))return u(h,m,b,y);if(m instanceof Map)return l(h,m,b,y);if(m instanceof Set)return d(h,m,b,y);const k=Object.keys(m);if(h==null)return k.length===0;if(k.length===0)return!0;if(y?.has(m))return y.get(m)===h;y?.set(m,h);try{for(let w=0;w<k.length;w++){const _=k[w];if(!n.isPrimitive(h)&&!(_ in h)||m[_]===void 0&&h[_]!==void 0||m[_]===null&&h[_]!==null||!b(h[_],m[_],_,h,m,y))return!1}return!0}finally{y?.delete(m)}}function l(h,m,b,y){if(m.size===0)return!0;if(!(h instanceof Map))return!1;for(const[k,w]of m.entries()){const _=h.get(k);if(b(_,w,k,h,m,y)===!1)return!1}return!0}function u(h,m,b,y){if(m.length===0)return!0;if(!Array.isArray(h))return!1;const k=new Set;for(let w=0;w<m.length;w++){const _=m[w];let j=!1;for(let O=0;O<h.length;O++){if(k.has(O))continue;const T=h[O];let C=!1;if(b(T,_,w,h,m,y)&&(C=!0),C){k.add(O),j=!0;break}}if(!j)return!1}return!0}function d(h,m,b,y){return m.size===0?!0:h instanceof Set?u([...h],[...m],b,y):!1}e.isMatchWith=i,e.isSetMatch=d})(wS)),wS}var s3;function i8(){return s3||(s3=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Vme();function n(r,i){return t.isMatchWith(r,i,()=>{})}e.isMatch=n})(xS)),xS}var ES={},jS={},TS={},l3;function Zme(){return l3||(l3=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return Object.getOwnPropertySymbols(n).filter(r=>Object.prototype.propertyIsEnumerable.call(n,r))}e.getSymbols=t})(TS)),TS}var AS={},c3;function a8(){return c3||(c3=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return n==null?n===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(n)}e.getTag=t})(AS)),AS}var NS={},u3;function o8(){return u3||(u3=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t="[object RegExp]",n="[object String]",r="[object Number]",i="[object Boolean]",a="[object Arguments]",o="[object Symbol]",l="[object Date]",u="[object Map]",d="[object Set]",h="[object Array]",m="[object Function]",b="[object ArrayBuffer]",y="[object Object]",k="[object Error]",w="[object DataView]",_="[object Uint8Array]",j="[object Uint8ClampedArray]",O="[object Uint16Array]",T="[object Uint32Array]",C="[object BigUint64Array]",M="[object Int8Array]",P="[object Int16Array]",I="[object Int32Array]",z="[object BigInt64Array]",K="[object Float32Array]",G="[object Float64Array]";e.argumentsTag=a,e.arrayBufferTag=b,e.arrayTag=h,e.bigInt64ArrayTag=z,e.bigUint64ArrayTag=C,e.booleanTag=i,e.dataViewTag=w,e.dateTag=l,e.errorTag=k,e.float32ArrayTag=K,e.float64ArrayTag=G,e.functionTag=m,e.int16ArrayTag=P,e.int32ArrayTag=I,e.int8ArrayTag=M,e.mapTag=u,e.numberTag=r,e.objectTag=y,e.regexpTag=t,e.setTag=d,e.stringTag=n,e.symbolTag=o,e.uint16ArrayTag=O,e.uint32ArrayTag=T,e.uint8ArrayTag=_,e.uint8ClampedArrayTag=j})(NS)),NS}var OS={},d3;function Xme(){return d3||(d3=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return ArrayBuffer.isView(n)&&!(n instanceof DataView)}e.isTypedArray=t})(OS)),OS}var f3;function s8(){return f3||(f3=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Zme(),n=a8(),r=o8(),i=n8(),a=Xme();function o(h,m){return l(h,void 0,h,new Map,m)}function l(h,m,b,y=new Map,k=void 0){const w=k?.(h,m,b,y);if(w!==void 0)return w;if(i.isPrimitive(h))return h;if(y.has(h))return y.get(h);if(Array.isArray(h)){const _=new Array(h.length);y.set(h,_);for(let j=0;j<h.length;j++)_[j]=l(h[j],j,b,y,k);return Object.hasOwn(h,"index")&&(_.index=h.index),Object.hasOwn(h,"input")&&(_.input=h.input),_}if(h instanceof Date)return new Date(h.getTime());if(h instanceof RegExp){const _=new RegExp(h.source,h.flags);return _.lastIndex=h.lastIndex,_}if(h instanceof Map){const _=new Map;y.set(h,_);for(const[j,O]of h)_.set(j,l(O,j,b,y,k));return _}if(h instanceof Set){const _=new Set;y.set(h,_);for(const j of h)_.add(l(j,void 0,b,y,k));return _}if(typeof Buffer<"u"&&Buffer.isBuffer(h))return h.subarray();if(a.isTypedArray(h)){const _=new(Object.getPrototypeOf(h)).constructor(h.length);y.set(h,_);for(let j=0;j<h.length;j++)_[j]=l(h[j],j,b,y,k);return _}if(h instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&h instanceof SharedArrayBuffer)return h.slice(0);if(h instanceof DataView){const _=new DataView(h.buffer.slice(0),h.byteOffset,h.byteLength);return y.set(h,_),u(_,h,b,y,k),_}if(typeof File<"u"&&h instanceof File){const _=new File([h],h.name,{type:h.type});return y.set(h,_),u(_,h,b,y,k),_}if(typeof Blob<"u"&&h instanceof Blob){const _=new Blob([h],{type:h.type});return y.set(h,_),u(_,h,b,y,k),_}if(h instanceof Error){const _=new h.constructor;return y.set(h,_),_.message=h.message,_.name=h.name,_.stack=h.stack,_.cause=h.cause,u(_,h,b,y,k),_}if(h instanceof Boolean){const _=new Boolean(h.valueOf());return y.set(h,_),u(_,h,b,y,k),_}if(h instanceof Number){const _=new Number(h.valueOf());return y.set(h,_),u(_,h,b,y,k),_}if(h instanceof String){const _=new String(h.valueOf());return y.set(h,_),u(_,h,b,y,k),_}if(typeof h=="object"&&d(h)){const _=Object.create(Object.getPrototypeOf(h));return y.set(h,_),u(_,h,b,y,k),_}return h}function u(h,m,b=h,y,k){const w=[...Object.keys(m),...t.getSymbols(m)];for(let _=0;_<w.length;_++){const j=w[_],O=Object.getOwnPropertyDescriptor(h,j);(O==null||O.writable)&&(h[j]=l(m[j],j,b,y,k))}}function d(h){switch(n.getTag(h)){case r.argumentsTag:case r.arrayTag:case r.arrayBufferTag:case r.dataViewTag:case r.booleanTag:case r.dateTag:case r.float32ArrayTag:case r.float64ArrayTag:case r.int8ArrayTag:case r.int16ArrayTag:case r.int32ArrayTag:case r.mapTag:case r.numberTag:case r.objectTag:case r.regexpTag:case r.setTag:case r.stringTag:case r.symbolTag:case r.uint8ArrayTag:case r.uint8ClampedArrayTag:case r.uint16ArrayTag:case r.uint32ArrayTag:return!0;default:return!1}}e.cloneDeepWith=o,e.cloneDeepWithImpl=l,e.copyProperties=u})(jS)),jS}var h3;function Jme(){return h3||(h3=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=s8();function n(r){return t.cloneDeepWithImpl(r,void 0,r,new Map,void 0)}e.cloneDeep=n})(ES)),ES}var m3;function Qme(){return m3||(m3=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=i8(),n=Jme();function r(i){return i=n.cloneDeep(i),a=>t.isMatch(a,i)}e.matches=r})(vS)),vS}var CS={},MS={},DS={},p3;function epe(){return p3||(p3=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=s8(),n=o8();function r(i,a){return t.cloneDeepWith(i,(o,l,u,d)=>{const h=a?.(o,l,u,d);if(h!==void 0)return h;if(typeof i=="object")switch(Object.prototype.toString.call(i)){case n.numberTag:case n.stringTag:case n.booleanTag:{const m=new i.constructor(i?.valueOf());return t.copyProperties(m,i),m}case n.argumentsTag:{const m={};return t.copyProperties(m,i),m.length=i.length,m[Symbol.iterator]=i[Symbol.iterator],m}default:return}})}e.cloneDeepWith=r})(DS)),DS}var g3;function tpe(){return g3||(g3=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=epe();function n(r){return t.cloneDeepWith(r)}e.cloneDeep=n})(MS)),MS}var PS={},RS={},b3;function l8(){return b3||(b3=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=/^(?:0|[1-9]\d*)$/;function n(r,i=Number.MAX_SAFE_INTEGER){switch(typeof r){case"number":return Number.isInteger(r)&&r>=0&&r<i;case"symbol":return!1;case"string":return t.test(r)}}e.isIndex=n})(RS)),RS}var LS={},y3;function npe(){return y3||(y3=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=a8();function n(r){return r!==null&&typeof r=="object"&&t.getTag(r)==="[object Arguments]"}e.isArguments=n})(LS)),LS}var v3;function rpe(){return v3||(v3=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Z9(),n=l8(),r=npe(),i=OT();function a(o,l){let u;if(Array.isArray(l)?u=l:typeof l=="string"&&t.isDeepKey(l)&&o?.[l]==null?u=i.toPath(l):u=[l],u.length===0)return!1;let d=o;for(let h=0;h<u.length;h++){const m=u[h];if((d==null||!Object.hasOwn(d,m))&&!((Array.isArray(d)||r.isArguments(d))&&n.isIndex(m)&&m<d.length))return!1;d=d[m]}return!0}e.has=a})(PS)),PS}var x3;function ipe(){return x3||(x3=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=i8(),n=NT(),r=tpe(),i=CT(),a=rpe();function o(l,u){switch(typeof l){case"object":{Object.is(l?.valueOf(),-0)&&(l="-0");break}case"number":{l=n.toKey(l);break}}return u=r.cloneDeep(u),function(d){const h=i.get(d,l);return h===void 0?a.has(d,l):u===void 0?h===void 0:t.isMatch(h,u)}}e.matchesProperty=o})(CS)),CS}var w3;function ape(){return w3||(w3=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=e8(),n=Wme(),r=Qme(),i=ipe();function a(o){if(o==null)return t.identity;switch(typeof o){case"function":return o;case"object":return Array.isArray(o)&&o.length===2?i.matchesProperty(o[0],o[1]):r.matches(o);case"string":case"symbol":case"number":return n.property(o)}}e.iteratee=a})(bS)),bS}var _3;function ope(){return _3||(_3=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Gme(),n=e8(),r=Kme(),i=ape();function a(o,l=n.identity){return r.isArrayLikeObject(o)?t.uniqBy(Array.from(o),i.iteratee(l)):[]}e.uniqBy=a})(uS)),uS}var IS,S3;function spe(){return S3||(S3=1,IS=ope().uniqBy),IS}var lpe=spe();const k3=Ti(lpe);function cpe(e,t,n){return t===!0?k3(e,n):typeof t=="function"?k3(e,t):e}var $S={exports:{}},BS={},zS={exports:{}},US={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var E3;function upe(){if(E3)return US;E3=1;var e=Ef();function t(m,b){return m===b&&(m!==0||1/m===1/b)||m!==m&&b!==b}var n=typeof Object.is=="function"?Object.is:t,r=e.useState,i=e.useEffect,a=e.useLayoutEffect,o=e.useDebugValue;function l(m,b){var y=b(),k=r({inst:{value:y,getSnapshot:b}}),w=k[0].inst,_=k[1];return a(function(){w.value=y,w.getSnapshot=b,u(w)&&_({inst:w})},[m,y,b]),i(function(){return u(w)&&_({inst:w}),m(function(){u(w)&&_({inst:w})})},[m]),o(y),y}function u(m){var b=m.getSnapshot;m=m.value;try{var y=b();return!n(m,y)}catch{return!0}}function d(m,b){return b()}var h=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?d:l;return US.useSyncExternalStore=e.useSyncExternalStore!==void 0?e.useSyncExternalStore:h,US}var j3;function dpe(){return j3||(j3=1,zS.exports=upe()),zS.exports}/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var T3;function fpe(){if(T3)return BS;T3=1;var e=Ef(),t=dpe();function n(d,h){return d===h&&(d!==0||1/d===1/h)||d!==d&&h!==h}var r=typeof Object.is=="function"?Object.is:n,i=t.useSyncExternalStore,a=e.useRef,o=e.useEffect,l=e.useMemo,u=e.useDebugValue;return BS.useSyncExternalStoreWithSelector=function(d,h,m,b,y){var k=a(null);if(k.current===null){var w={hasValue:!1,value:null};k.current=w}else w=k.current;k=l(function(){function j(P){if(!O){if(O=!0,T=P,P=b(P),y!==void 0&&w.hasValue){var I=w.value;if(y(I,P))return C=I}return C=P}if(I=C,r(T,P))return I;var z=b(P);return y!==void 0&&y(I,z)?(T=P,I):(T=P,C=z)}var O=!1,T,C,M=m===void 0?null:m;return[function(){return j(h())},M===null?void 0:function(){return j(M())}]},[h,m,b,y]);var _=i(d,k[0],k[1]);return o(function(){w.hasValue=!0,w.value=_},[_]),u(_),_},BS}var A3;function hpe(){return A3||(A3=1,$S.exports=fpe()),$S.exports}var mpe=hpe(),RT=S.createContext(null),ppe=e=>e,Sr=()=>{var e=S.useContext(RT);return e?e.store.dispatch:ppe},iy=()=>{},gpe=()=>iy,bpe=(e,t)=>e===t;function it(e){var t=S.useContext(RT);return mpe.useSyncExternalStoreWithSelector(t?t.subscription.addNestedSub:gpe,t?t.store.getState:iy,t?t.store.getState:iy,t?e:iy,bpe)}function ype(e,t=`expected a function, instead received ${typeof e}`){if(typeof e!="function")throw new TypeError(t)}function vpe(e,t=`expected an object, instead received ${typeof e}`){if(typeof e!="object")throw new TypeError(t)}function xpe(e,t="expected all items to be functions, instead received the following types: "){if(!e.every(n=>typeof n=="function")){const n=e.map(r=>typeof r=="function"?`function ${r.name||"unnamed"}()`:typeof r).join(", ");throw new TypeError(`${t}[${n}]`)}}var N3=e=>Array.isArray(e)?e:[e];function wpe(e){const t=Array.isArray(e[0])?e[0]:e;return xpe(t,"createSelector expects all input-selectors to be functions, but received the following types: "),t}function _pe(e,t){const n=[],{length:r}=e;for(let i=0;i<r;i++)n.push(e[i].apply(null,t));return n}var Spe=class{constructor(e){this.value=e}deref(){return this.value}},kpe=typeof WeakRef<"u"?WeakRef:Spe,Epe=0,O3=1;function Sb(){return{s:Epe,v:void 0,o:null,p:null}}function c8(e,t={}){let n=Sb();const{resultEqualityCheck:r}=t;let i,a=0;function o(){let l=n;const{length:u}=arguments;for(let m=0,b=u;m<b;m++){const y=arguments[m];if(typeof y=="function"||typeof y=="object"&&y!==null){let k=l.o;k===null&&(l.o=k=new WeakMap);const w=k.get(y);w===void 0?(l=Sb(),k.set(y,l)):l=w}else{let k=l.p;k===null&&(l.p=k=new Map);const w=k.get(y);w===void 0?(l=Sb(),k.set(y,l)):l=w}}const d=l;let h;if(l.s===O3)h=l.v;else if(h=e.apply(null,arguments),a++,r){const m=i?.deref?.()??i;m!=null&&r(m,h)&&(h=m,a!==0&&a--),i=typeof h=="object"&&h!==null||typeof h=="function"?new kpe(h):h}return d.s=O3,d.v=h,h}return o.clearCache=()=>{n=Sb(),o.resetResultsCount()},o.resultsCount=()=>a,o.resetResultsCount=()=>{a=0},o}function jpe(e,...t){const n=typeof e=="function"?{memoize:e,memoizeOptions:t}:e,r=(...i)=>{let a=0,o=0,l,u={},d=i.pop();typeof d=="object"&&(u=d,d=i.pop()),ype(d,`createSelector expects an output function after the inputs, but received: [${typeof d}]`);const h={...n,...u},{memoize:m,memoizeOptions:b=[],argsMemoize:y=c8,argsMemoizeOptions:k=[]}=h,w=N3(b),_=N3(k),j=wpe(i),O=m(function(){return a++,d.apply(null,arguments)},...w),T=y(function(){o++;const M=_pe(j,arguments);return l=O.apply(null,M),l},..._);return Object.assign(T,{resultFunc:d,memoizedResultFunc:O,dependencies:j,dependencyRecomputations:()=>o,resetDependencyRecomputations:()=>{o=0},lastResult:()=>l,recomputations:()=>a,resetRecomputations:()=>{a=0},memoize:m,argsMemoize:y})};return Object.assign(r,{withTypes:()=>r}),r}var _e=jpe(c8),Tpe=Object.assign((e,t=_e)=>{vpe(e,`createStructuredSelector expects first argument to be an object where each property is a selector, instead received a ${typeof e}`);const n=Object.keys(e),r=n.map(a=>e[a]);return t(r,(...a)=>a.reduce((o,l,u)=>(o[n[u]]=l,o),{}))},{withTypes:()=>Tpe}),FS={},HS={},GS={},C3;function Ape(){return C3||(C3=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return typeof r=="symbol"?1:r===null?2:r===void 0?3:r!==r?4:0}const n=(r,i,a)=>{if(r!==i){const o=t(r),l=t(i);if(o===l&&o===0){if(r<i)return a==="desc"?1:-1;if(r>i)return a==="desc"?-1:1}return a==="desc"?l-o:o-l}return 0};e.compareValues=n})(GS)),GS}var YS={},qS={},M3;function u8(){return M3||(M3=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return typeof n=="symbol"||n instanceof Symbol}e.isSymbol=t})(qS)),qS}var D3;function Npe(){return D3||(D3=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=u8(),n=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,r=/^\w*$/;function i(a,o){return Array.isArray(a)?!1:typeof a=="number"||typeof a=="boolean"||a==null||t.isSymbol(a)?!0:typeof a=="string"&&(r.test(a)||!n.test(a))||o!=null&&Object.hasOwn(o,a)}e.isKey=i})(YS)),YS}var P3;function Ope(){return P3||(P3=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Ape(),n=Npe(),r=OT();function i(a,o,l,u){if(a==null)return[];l=u?void 0:l,Array.isArray(a)||(a=Object.values(a)),Array.isArray(o)||(o=o==null?[null]:[o]),o.length===0&&(o=[null]),Array.isArray(l)||(l=l==null?[]:[l]),l=l.map(y=>String(y));const d=(y,k)=>{let w=y;for(let _=0;_<k.length&&w!=null;++_)w=w[k[_]];return w},h=(y,k)=>k==null||y==null?k:typeof y=="object"&&"key"in y?Object.hasOwn(k,y.key)?k[y.key]:d(k,y.path):typeof y=="function"?y(k):Array.isArray(y)?d(k,y):typeof k=="object"?k[y]:k,m=o.map(y=>(Array.isArray(y)&&y.length===1&&(y=y[0]),y==null||typeof y=="function"||Array.isArray(y)||n.isKey(y)?y:{key:y,path:r.toPath(y)}));return a.map(y=>({original:y,criteria:m.map(k=>h(k,y))})).slice().sort((y,k)=>{for(let w=0;w<m.length;w++){const _=t.compareValues(y.criteria[w],k.criteria[w],l[w]);if(_!==0)return _}return 0}).map(y=>y.original)}e.orderBy=i})(HS)),HS}var KS={},R3;function Cpe(){return R3||(R3=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n,r=1){const i=[],a=Math.floor(r),o=(l,u)=>{for(let d=0;d<l.length;d++){const h=l[d];Array.isArray(h)&&u<a?o(h,u+1):i.push(h)}};return o(n,0),i}e.flatten=t})(KS)),KS}var WS={},L3;function d8(){return L3||(L3=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=l8(),n=PT(),r=t8(),i=r8();function a(o,l,u){return r.isObject(u)&&(typeof l=="number"&&n.isArrayLike(u)&&t.isIndex(l)&&l<u.length||typeof l=="string"&&l in u)?i.eq(u[l],o):!1}e.isIterateeCall=a})(WS)),WS}var I3;function Mpe(){return I3||(I3=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Ope(),n=Cpe(),r=d8();function i(a,...o){const l=o.length;return l>1&&r.isIterateeCall(a,o[0],o[1])?o=[]:l>2&&r.isIterateeCall(o[0],o[1],o[2])&&(o=[o[0]]),t.orderBy(a,n.flatten(o),["asc"])}e.sortBy=i})(FS)),FS}var VS,$3;function Dpe(){return $3||($3=1,VS=Mpe().sortBy),VS}var Ppe=Dpe();const Ax=Ti(Ppe);var f8=e=>e.legend.settings,Rpe=e=>e.legend.size,Lpe=e=>e.legend.payload;_e([Lpe,f8],(e,t)=>{var{itemSorter:n}=t,r=e.flat(1);return n?Ax(r,n):r});var kb=1;function Ipe(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],[t,n]=S.useState({height:0,left:0,top:0,width:0}),r=S.useCallback(i=>{if(i!=null){var a=i.getBoundingClientRect(),o={height:a.height,left:a.left,top:a.top,width:a.width};(Math.abs(o.height-t.height)>kb||Math.abs(o.left-t.left)>kb||Math.abs(o.top-t.top)>kb||Math.abs(o.width-t.width)>kb)&&n({height:o.height,left:o.left,top:o.top,width:o.width})}},[t.width,t.height,t.top,t.left,...e]);return[t,r]}var h8=Symbol.for("immer-nothing"),B3=Symbol.for("immer-draftable"),ri=Symbol.for("immer-state");function Qa(e,...t){throw new Error(`[Immer] minified error nr: ${e}. Full error at: https://bit.ly/3cXEKWf`)}var Wi=Object,vf=Wi.getPrototypeOf,rv="constructor",Nx="prototype",n2="configurable",iv="enumerable",ay="writable",fp="value",zs=e=>!!e&&!!e[ri];function fo(e){return e?m8(e)||Ox(e)||!!e[B3]||!!e[rv]?.[B3]||Cx(e)||Mx(e):!1}var $pe=Wi[Nx][rv].toString(),z3=new WeakMap;function m8(e){if(!e||!LT(e))return!1;const t=vf(e);if(t===null||t===Wi[Nx])return!0;const n=Wi.hasOwnProperty.call(t,rv)&&t[rv];if(n===Object)return!0;if(!Yd(n))return!1;let r=z3.get(n);return r===void 0&&(r=Function.toString.call(n),z3.set(n,r)),r===$pe}function Yp(e,t,n=!0){qp(e)===0?(n?Reflect.ownKeys(e):Wi.keys(e)).forEach(i=>{t(i,e[i],e)}):e.forEach((r,i)=>t(i,r,e))}function qp(e){const t=e[ri];return t?t.type_:Ox(e)?1:Cx(e)?2:Mx(e)?3:0}var U3=(e,t,n=qp(e))=>n===2?e.has(t):Wi[Nx].hasOwnProperty.call(e,t),r2=(e,t,n=qp(e))=>n===2?e.get(t):e[t],av=(e,t,n,r=qp(e))=>{r===2?e.set(t,n):r===3?e.add(n):e[t]=n};function Bpe(e,t){return e===t?e!==0||1/e===1/t:e!==e&&t!==t}var Ox=Array.isArray,Cx=e=>e instanceof Map,Mx=e=>e instanceof Set,LT=e=>typeof e=="object",Yd=e=>typeof e=="function",ZS=e=>typeof e=="boolean",Es=e=>e.copy_||e.base_,IT=e=>e.modified_?e.copy_:e.base_;function i2(e,t){if(Cx(e))return new Map(e);if(Mx(e))return new Set(e);if(Ox(e))return Array[Nx].slice.call(e);const n=m8(e);if(t===!0||t==="class_only"&&!n){const r=Wi.getOwnPropertyDescriptors(e);delete r[ri];let i=Reflect.ownKeys(r);for(let a=0;a<i.length;a++){const o=i[a],l=r[o];l[ay]===!1&&(l[ay]=!0,l[n2]=!0),(l.get||l.set)&&(r[o]={[n2]:!0,[ay]:!0,[iv]:l[iv],[fp]:e[o]})}return Wi.create(vf(e),r)}else{const r=vf(e);if(r!==null&&n)return{...e};const i=Wi.create(r);return Wi.assign(i,e)}}function $T(e,t=!1){return Dx(e)||zs(e)||!fo(e)||(qp(e)>1&&Wi.defineProperties(e,{set:Eb,add:Eb,clear:Eb,delete:Eb}),Wi.freeze(e),t&&Yp(e,(n,r)=>{$T(r,!0)},!1)),e}function zpe(){Qa(2)}var Eb={[fp]:zpe};function Dx(e){return e===null||!LT(e)?!0:Wi.isFrozen(e)}var ov="MapSet",a2="Patches",p8={};function xf(e){const t=p8[e];return t||Qa(0,e),t}var Upe=e=>!!p8[e],hp,g8=()=>hp,Fpe=(e,t)=>({drafts_:[],parent_:e,immer_:t,canAutoFreeze_:!0,unfinalizedDrafts_:0,handledSet_:new Set,processedForPatches_:new Set,mapSetPlugin_:Upe(ov)?xf(ov):void 0});function F3(e,t){t&&(e.patchPlugin_=xf(a2),e.patches_=[],e.inversePatches_=[],e.patchListener_=t)}function o2(e){s2(e),e.drafts_.forEach(Hpe),e.drafts_=null}function s2(e){e===hp&&(hp=e.parent_)}var H3=e=>hp=Fpe(hp,e);function Hpe(e){const t=e[ri];t.type_===0||t.type_===1?t.revoke_():t.revoked_=!0}function G3(e,t){t.unfinalizedDrafts_=t.drafts_.length;const n=t.drafts_[0];if(e!==void 0&&e!==n){n[ri].modified_&&(o2(t),Qa(4)),fo(e)&&(e=Y3(t,e));const{patchPlugin_:i}=t;i&&i.generateReplacementPatches_(n[ri].base_,e,t)}else e=Y3(t,n);return Gpe(t,e,!0),o2(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),e!==h8?e:void 0}function Y3(e,t){if(Dx(t))return t;const n=t[ri];if(!n)return BT(t,e.handledSet_,e);if(!Px(n,e))return t;if(!n.modified_)return n.base_;if(!n.finalized_){const{callbacks_:r}=n;if(r)for(;r.length>0;)r.pop()(e);v8(n,e)}return n.copy_}function Gpe(e,t,n=!1){!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&$T(t,n)}function b8(e){e.finalized_=!0,e.scope_.unfinalizedDrafts_--}var Px=(e,t)=>e.scope_===t,Ype=[];function y8(e,t,n,r){const i=Es(e),a=e.type_;if(r!==void 0&&r2(i,r,a)===t){av(i,r,n,a);return}if(!e.draftLocations_){const l=e.draftLocations_=new Map;Yp(i,(u,d)=>{if(zs(d)){const h=l.get(d)||[];h.push(u),l.set(d,h)}})}const o=e.draftLocations_.get(t)??Ype;for(const l of o)av(i,l,n,a)}function qpe(e,t,n){e.callbacks_.push(function(i){const a=t;if(!a||!Px(a,i))return;i.mapSetPlugin_?.fixSetContents(a);const o=IT(a);y8(e,a.draft_??a,o,n),v8(a,i)})}function v8(e,t){if(e.modified_&&!e.finalized_&&(e.type_===3||(e.assigned_?.size??0)>0)){const{patchPlugin_:r}=t;if(r){const i=r.getPath(e);i&&r.generatePatches_(e,i,t)}b8(e)}}function Kpe(e,t,n){const{scope_:r}=e;if(zs(n)){const i=n[ri];Px(i,r)&&i.callbacks_.push(function(){oy(e);const o=IT(i);y8(e,n,o,t)})}else fo(n)&&e.callbacks_.push(function(){const a=Es(e);r2(a,t,e.type_)===n&&r.drafts_.length>1&&(e.assigned_.get(t)??!1)===!0&&e.copy_&&BT(r2(e.copy_,t,e.type_),r.handledSet_,r)})}function BT(e,t,n){return!n.immer_.autoFreeze_&&n.unfinalizedDrafts_<1||zs(e)||t.has(e)||!fo(e)||Dx(e)||(t.add(e),Yp(e,(r,i)=>{if(zs(i)){const a=i[ri];if(Px(a,n)){const o=IT(a);av(e,r,o,e.type_),b8(a)}}else fo(i)&&BT(i,t,n)})),e}function Wpe(e,t){const n=Ox(e),r={type_:n?1:0,scope_:t?t.scope_:g8(),modified_:!1,finalized_:!1,assigned_:void 0,parent_:t,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1,callbacks_:void 0};let i=r,a=zT;n&&(i=[r],a=mp);const{revoke:o,proxy:l}=Proxy.revocable(i,a);return r.draft_=l,r.revoke_=o,[l,r]}var zT={get(e,t){if(t===ri)return e;const n=Es(e);if(!U3(n,t,e.type_))return Vpe(e,n,t);const r=n[t];if(e.finalized_||!fo(r))return r;if(r===XS(e.base_,t)){oy(e);const i=e.type_===1?+t:t,a=c2(e.scope_,r,e,i);return e.copy_[i]=a}return r},has(e,t){return t in Es(e)},ownKeys(e){return Reflect.ownKeys(Es(e))},set(e,t,n){const r=x8(Es(e),t);if(r?.set)return r.set.call(e.draft_,n),!0;if(!e.modified_){const i=XS(Es(e),t),a=i?.[ri];if(a&&a.base_===n)return e.copy_[t]=n,e.assigned_.set(t,!1),!0;if(Bpe(n,i)&&(n!==void 0||U3(e.base_,t,e.type_)))return!0;oy(e),l2(e)}return e.copy_[t]===n&&(n!==void 0||t in e.copy_)||Number.isNaN(n)&&Number.isNaN(e.copy_[t])||(e.copy_[t]=n,e.assigned_.set(t,!0),Kpe(e,t,n)),!0},deleteProperty(e,t){return oy(e),XS(e.base_,t)!==void 0||t in e.base_?(e.assigned_.set(t,!1),l2(e)):e.assigned_.delete(t),e.copy_&&delete e.copy_[t],!0},getOwnPropertyDescriptor(e,t){const n=Es(e),r=Reflect.getOwnPropertyDescriptor(n,t);return r&&{[ay]:!0,[n2]:e.type_!==1||t!=="length",[iv]:r[iv],[fp]:n[t]}},defineProperty(){Qa(11)},getPrototypeOf(e){return vf(e.base_)},setPrototypeOf(){Qa(12)}},mp={};Yp(zT,(e,t)=>{mp[e]=function(){const n=arguments;return n[0]=n[0][0],t.apply(this,n)}});mp.deleteProperty=function(e,t){return mp.set.call(this,e,t,void 0)};mp.set=function(e,t,n){return zT.set.call(this,e[0],t,n,e[0])};function XS(e,t){const n=e[ri];return(n?Es(n):e)[t]}function Vpe(e,t,n){const r=x8(t,n);return r?fp in r?r[fp]:r.get?.call(e.draft_):void 0}function x8(e,t){if(!(t in e))return;let n=vf(e);for(;n;){const r=Object.getOwnPropertyDescriptor(n,t);if(r)return r;n=vf(n)}}function l2(e){e.modified_||(e.modified_=!0,e.parent_&&l2(e.parent_))}function oy(e){e.copy_||(e.assigned_=new Map,e.copy_=i2(e.base_,e.scope_.immer_.useStrictShallowCopy_))}var Zpe=class{constructor(t){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.useStrictIteration_=!1,this.produce=(n,r,i)=>{if(Yd(n)&&!Yd(r)){const o=r;r=n;const l=this;return function(d=o,...h){return l.produce(d,m=>r.call(this,m,...h))}}Yd(r)||Qa(6),i!==void 0&&!Yd(i)&&Qa(7);let a;if(fo(n)){const o=H3(this),l=c2(o,n,void 0);let u=!0;try{a=r(l),u=!1}finally{u?o2(o):s2(o)}return F3(o,i),G3(a,o)}else if(!n||!LT(n)){if(a=r(n),a===void 0&&(a=n),a===h8&&(a=void 0),this.autoFreeze_&&$T(a,!0),i){const o=[],l=[];xf(a2).generateReplacementPatches_(n,a,{patches_:o,inversePatches_:l}),i(o,l)}return a}else Qa(1,n)},this.produceWithPatches=(n,r)=>{if(Yd(n))return(l,...u)=>this.produceWithPatches(l,d=>n(d,...u));let i,a;return[this.produce(n,r,(l,u)=>{i=l,a=u}),i,a]},ZS(t?.autoFreeze)&&this.setAutoFreeze(t.autoFreeze),ZS(t?.useStrictShallowCopy)&&this.setUseStrictShallowCopy(t.useStrictShallowCopy),ZS(t?.useStrictIteration)&&this.setUseStrictIteration(t.useStrictIteration)}createDraft(t){fo(t)||Qa(8),zs(t)&&(t=ro(t));const n=H3(this),r=c2(n,t,void 0);return r[ri].isManual_=!0,s2(n),r}finishDraft(t,n){const r=t&&t[ri];(!r||!r.isManual_)&&Qa(9);const{scope_:i}=r;return F3(i,n),G3(void 0,i)}setAutoFreeze(t){this.autoFreeze_=t}setUseStrictShallowCopy(t){this.useStrictShallowCopy_=t}setUseStrictIteration(t){this.useStrictIteration_=t}shouldUseStrictIteration(){return this.useStrictIteration_}applyPatches(t,n){let r;for(r=n.length-1;r>=0;r--){const a=n[r];if(a.path.length===0&&a.op==="replace"){t=a.value;break}}r>-1&&(n=n.slice(r+1));const i=xf(a2).applyPatches_;return zs(t)?i(t,n):this.produce(t,a=>i(a,n))}};function c2(e,t,n,r){const[i,a]=Cx(t)?xf(ov).proxyMap_(t,n):Mx(t)?xf(ov).proxySet_(t,n):Wpe(t,n);return(n?.scope_??g8()).drafts_.push(i),a.callbacks_=n?.callbacks_??[],a.key_=r,n&&r!==void 0?qpe(n,a,r):a.callbacks_.push(function(u){u.mapSetPlugin_?.fixSetContents(a);const{patchPlugin_:d}=u;a.modified_&&d&&d.generatePatches_(a,[],u)}),i}function ro(e){return zs(e)||Qa(10,e),w8(e)}function w8(e){if(!fo(e)||Dx(e))return e;const t=e[ri];let n,r=!0;if(t){if(!t.modified_)return t.base_;t.finalized_=!0,n=i2(e,t.scope_.immer_.useStrictShallowCopy_),r=t.scope_.immer_.shouldUseStrictIteration()}else n=i2(e,!0);return Yp(n,(i,a)=>{av(n,i,w8(a))},r),t&&(t.finalized_=!1),n}var Xpe=new Zpe,_8=Xpe.produce;function S8(e){return({dispatch:n,getState:r})=>i=>a=>typeof a=="function"?a(n,r,e):i(a)}var Jpe=S8(),Qpe=S8,e0e=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?Wm:Wm.apply(null,arguments)};function Na(e,t){function n(...r){if(t){let i=t(...r);if(!i)throw new Error(Xi(0));return{type:e,payload:i.payload,..."meta"in i&&{meta:i.meta},..."error"in i&&{error:i.error}}}return{type:e,payload:r[0]}}return n.toString=()=>`${e}`,n.type=e,n.match=r=>j4(r)&&r.type===e,n}var k8=class Cm extends Array{constructor(...t){super(...t),Object.setPrototypeOf(this,Cm.prototype)}static get[Symbol.species](){return Cm}concat(...t){return super.concat.apply(this,t)}prepend(...t){return t.length===1&&Array.isArray(t[0])?new Cm(...t[0].concat(this)):new Cm(...t.concat(this))}};function q3(e){return fo(e)?_8(e,()=>{}):e}function jb(e,t,n){return e.has(t)?e.get(t):e.set(t,n(t)).get(t)}function t0e(e){return typeof e=="boolean"}var n0e=()=>function(t){const{thunk:n=!0,immutableCheck:r=!0,serializableCheck:i=!0,actionCreatorCheck:a=!0}=t??{};let o=new k8;return n&&(t0e(n)?o.push(Jpe):o.push(Qpe(n.extraArgument))),o},E8="RTK_autoBatch",yn=()=>e=>({payload:e,meta:{[E8]:!0}}),K3=e=>t=>{setTimeout(t,e)},j8=(e={type:"raf"})=>t=>(...n)=>{const r=t(...n);let i=!0,a=!1,o=!1;const l=new Set,u=e.type==="tick"?queueMicrotask:e.type==="raf"?typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:K3(10):e.type==="callback"?e.queueNotification:K3(e.timeout),d=()=>{o=!1,a&&(a=!1,l.forEach(h=>h()))};return Object.assign({},r,{subscribe(h){const m=()=>i&&h(),b=r.subscribe(m);return l.add(h),()=>{b(),l.delete(h)}},dispatch(h){try{return i=!h?.meta?.[E8],a=!i,a&&(o||(o=!0,u(d))),r.dispatch(h)}finally{i=!0}}})},r0e=e=>function(n){const{autoBatch:r=!0}=n??{};let i=new k8(e);return r&&i.push(j8(typeof r=="object"?r:void 0)),i};function i0e(e){const t=n0e(),{reducer:n=void 0,middleware:r,devTools:i=!0,preloadedState:a=void 0,enhancers:o=void 0}=e||{};let l;if(typeof n=="function")l=n;else if(Ej(n))l=k4(n);else throw new Error(Xi(1));let u;typeof r=="function"?u=r(t):u=t();let d=Wm;i&&(d=e0e({trace:!1,...typeof i=="object"&&i}));const h=E4(...u),m=r0e(h);let b=typeof o=="function"?o(m):m();const y=d(...b);return jj(l,a,y)}function T8(e){const t={},n=[];let r;const i={addCase(a,o){const l=typeof a=="string"?a:a.type;if(!l)throw new Error(Xi(28));if(l in t)throw new Error(Xi(29));return t[l]=o,i},addAsyncThunk(a,o){return o.pending&&(t[a.pending.type]=o.pending),o.rejected&&(t[a.rejected.type]=o.rejected),o.fulfilled&&(t[a.fulfilled.type]=o.fulfilled),o.settled&&n.push({matcher:a.settled,reducer:o.settled}),i},addMatcher(a,o){return n.push({matcher:a,reducer:o}),i},addDefaultCase(a){return r=a,i}};return e(i),[t,n,r]}function a0e(e){return typeof e=="function"}function o0e(e,t){let[n,r,i]=T8(t),a;if(a0e(e))a=()=>q3(e());else{const l=q3(e);a=()=>l}function o(l=a(),u){let d=[n[u.type],...r.filter(({matcher:h})=>h(u)).map(({reducer:h})=>h)];return d.filter(h=>!!h).length===0&&(d=[i]),d.reduce((h,m)=>{if(m)if(zs(h)){const y=m(h,u);return y===void 0?h:y}else{if(fo(h))return _8(h,b=>m(b,u));{const b=m(h,u);if(b===void 0){if(h===null)return h;throw Error("A case reducer on a non-draftable value must not return undefined")}return b}}return h},l)}return o.getInitialState=a,o}var s0e="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",l0e=(e=21)=>{let t="",n=e;for(;n--;)t+=s0e[Math.random()*64|0];return t},c0e=Symbol.for("rtk-slice-createasyncthunk");function u0e(e,t){return`${e}/${t}`}function d0e({creators:e}={}){const t=e?.asyncThunk?.[c0e];return function(r){const{name:i,reducerPath:a=i}=r;if(!i)throw new Error(Xi(11));const o=(typeof r.reducers=="function"?r.reducers(h0e()):r.reducers)||{},l=Object.keys(o),u={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},d={addCase(T,C){const M=typeof T=="string"?T:T.type;if(!M)throw new Error(Xi(12));if(M in u.sliceCaseReducersByType)throw new Error(Xi(13));return u.sliceCaseReducersByType[M]=C,d},addMatcher(T,C){return u.sliceMatchers.push({matcher:T,reducer:C}),d},exposeAction(T,C){return u.actionCreators[T]=C,d},exposeCaseReducer(T,C){return u.sliceCaseReducersByName[T]=C,d}};l.forEach(T=>{const C=o[T],M={reducerName:T,type:u0e(i,T),createNotation:typeof r.reducers=="function"};p0e(C)?b0e(M,C,d,t):m0e(M,C,d)});function h(){const[T={},C=[],M=void 0]=typeof r.extraReducers=="function"?T8(r.extraReducers):[r.extraReducers],P={...T,...u.sliceCaseReducersByType};return o0e(r.initialState,I=>{for(let z in P)I.addCase(z,P[z]);for(let z of u.sliceMatchers)I.addMatcher(z.matcher,z.reducer);for(let z of C)I.addMatcher(z.matcher,z.reducer);M&&I.addDefaultCase(M)})}const m=T=>T,b=new Map,y=new WeakMap;let k;function w(T,C){return k||(k=h()),k(T,C)}function _(){return k||(k=h()),k.getInitialState()}function j(T,C=!1){function M(I){let z=I[T];return typeof z>"u"&&C&&(z=jb(y,M,_)),z}function P(I=m){const z=jb(b,C,()=>new WeakMap);return jb(z,I,()=>{const K={};for(const[G,F]of Object.entries(r.selectors??{}))K[G]=f0e(F,I,()=>jb(y,I,_),C);return K})}return{reducerPath:T,getSelectors:P,get selectors(){return P(M)},selectSlice:M}}const O={name:i,reducer:w,actions:u.actionCreators,caseReducers:u.sliceCaseReducersByName,getInitialState:_,...j(a),injectInto(T,{reducerPath:C,...M}={}){const P=C??a;return T.inject({reducerPath:P,reducer:w},M),{...O,...j(P,!0)}}};return O}}function f0e(e,t,n,r){function i(a,...o){let l=t(a);return typeof l>"u"&&r&&(l=n()),e(l,...o)}return i.unwrapped=e,i}var Ai=d0e();function h0e(){function e(t,n){return{_reducerDefinitionType:"asyncThunk",payloadCreator:t,...n}}return e.withTypes=()=>e,{reducer(t){return Object.assign({[t.name](...n){return t(...n)}}[t.name],{_reducerDefinitionType:"reducer"})},preparedReducer(t,n){return{_reducerDefinitionType:"reducerWithPrepare",prepare:t,reducer:n}},asyncThunk:e}}function m0e({type:e,reducerName:t,createNotation:n},r,i){let a,o;if("reducer"in r){if(n&&!g0e(r))throw new Error(Xi(17));a=r.reducer,o=r.prepare}else a=r;i.addCase(e,a).exposeCaseReducer(t,a).exposeAction(t,o?Na(e,o):Na(e))}function p0e(e){return e._reducerDefinitionType==="asyncThunk"}function g0e(e){return e._reducerDefinitionType==="reducerWithPrepare"}function b0e({type:e,reducerName:t},n,r,i){if(!i)throw new Error(Xi(18));const{payloadCreator:a,fulfilled:o,pending:l,rejected:u,settled:d,options:h}=n,m=i(e,a,h);r.exposeAction(t,m),o&&r.addCase(m.fulfilled,o),l&&r.addCase(m.pending,l),u&&r.addCase(m.rejected,u),d&&r.addMatcher(m.settled,d),r.exposeCaseReducer(t,{fulfilled:o||Tb,pending:l||Tb,rejected:u||Tb,settled:d||Tb})}function Tb(){}var y0e="task",A8="listener",N8="completed",UT="cancelled",v0e=`task-${UT}`,x0e=`task-${N8}`,u2=`${A8}-${UT}`,w0e=`${A8}-${N8}`,Rx=class{constructor(e){this.code=e,this.message=`${y0e} ${UT} (reason: ${e})`}name="TaskAbortError";message},FT=(e,t)=>{if(typeof e!="function")throw new TypeError(Xi(32))},sv=()=>{},O8=(e,t=sv)=>(e.catch(t),e),C8=(e,t)=>(e.addEventListener("abort",t,{once:!0}),()=>e.removeEventListener("abort",t)),ku=e=>{if(e.aborted)throw new Rx(e.reason)};function M8(e,t){let n=sv;return new Promise((r,i)=>{const a=()=>i(new Rx(e.reason));if(e.aborted){a();return}n=C8(e,a),t.finally(()=>n()).then(r,i)}).finally(()=>{n=sv})}var _0e=async(e,t)=>{try{return await Promise.resolve(),{status:"ok",value:await e()}}catch(n){return{status:n instanceof Rx?"cancelled":"rejected",error:n}}finally{t?.()}},lv=e=>t=>O8(M8(e,t).then(n=>(ku(e),n))),D8=e=>{const t=lv(e);return n=>t(new Promise(r=>setTimeout(r,n)))},{assign:sf}=Object,W3={},Lx="listenerMiddleware",S0e=(e,t)=>{const n=r=>C8(e,()=>r.abort(e.reason));return(r,i)=>{FT(r);const a=new AbortController;n(a);const o=_0e(async()=>{ku(e),ku(a.signal);const l=await r({pause:lv(a.signal),delay:D8(a.signal),signal:a.signal});return ku(a.signal),l},()=>a.abort(x0e));return i?.autoJoin&&t.push(o.catch(sv)),{result:lv(e)(o),cancel(){a.abort(v0e)}}}},k0e=(e,t)=>{const n=async(r,i)=>{ku(t);let a=()=>{};const l=[new Promise((u,d)=>{let h=e({predicate:r,effect:(m,b)=>{b.unsubscribe(),u([m,b.getState(),b.getOriginalState()])}});a=()=>{h(),d()}})];i!=null&&l.push(new Promise(u=>setTimeout(u,i,null)));try{const u=await M8(t,Promise.race(l));return ku(t),u}finally{a()}};return(r,i)=>O8(n(r,i))},P8=e=>{let{type:t,actionCreator:n,matcher:r,predicate:i,effect:a}=e;if(t)i=Na(t).match;else if(n)t=n.type,i=n.match;else if(r)i=r;else if(!i)throw new Error(Xi(21));return FT(a),{predicate:i,type:t,effect:a}},R8=sf(e=>{const{type:t,predicate:n,effect:r}=P8(e);return{id:l0e(),effect:r,type:t,predicate:n,pending:new Set,unsubscribe:()=>{throw new Error(Xi(22))}}},{withTypes:()=>R8}),V3=(e,t)=>{const{type:n,effect:r,predicate:i}=P8(t);return Array.from(e.values()).find(a=>(typeof n=="string"?a.type===n:a.predicate===i)&&a.effect===r)},d2=e=>{e.pending.forEach(t=>{t.abort(u2)})},E0e=(e,t)=>()=>{for(const n of t.keys())d2(n);e.clear()},Z3=(e,t,n)=>{try{e(t,n)}catch(r){setTimeout(()=>{throw r},0)}},L8=sf(Na(`${Lx}/add`),{withTypes:()=>L8}),j0e=Na(`${Lx}/removeAll`),I8=sf(Na(`${Lx}/remove`),{withTypes:()=>I8}),T0e=(...e)=>{console.error(`${Lx}/error`,...e)},Kp=(e={})=>{const t=new Map,n=new Map,r=y=>{const k=n.get(y)??0;n.set(y,k+1)},i=y=>{const k=n.get(y)??1;k===1?n.delete(y):n.set(y,k-1)},{extra:a,onError:o=T0e}=e;FT(o);const l=y=>(y.unsubscribe=()=>t.delete(y.id),t.set(y.id,y),k=>{y.unsubscribe(),k?.cancelActive&&d2(y)}),u=y=>{const k=V3(t,y)??R8(y);return l(k)};sf(u,{withTypes:()=>u});const d=y=>{const k=V3(t,y);return k&&(k.unsubscribe(),y.cancelActive&&d2(k)),!!k};sf(d,{withTypes:()=>d});const h=async(y,k,w,_)=>{const j=new AbortController,O=k0e(u,j.signal),T=[];try{y.pending.add(j),r(y),await Promise.resolve(y.effect(k,sf({},w,{getOriginalState:_,condition:(C,M)=>O(C,M).then(Boolean),take:O,delay:D8(j.signal),pause:lv(j.signal),extra:a,signal:j.signal,fork:S0e(j.signal,T),unsubscribe:y.unsubscribe,subscribe:()=>{t.set(y.id,y)},cancelActiveListeners:()=>{y.pending.forEach((C,M,P)=>{C!==j&&(C.abort(u2),P.delete(C))})},cancel:()=>{j.abort(u2),y.pending.delete(j)},throwIfCancelled:()=>{ku(j.signal)}})))}catch(C){C instanceof Rx||Z3(o,C,{raisedBy:"effect"})}finally{await Promise.all(T),j.abort(w0e),i(y),y.pending.delete(j)}},m=E0e(t,n);return{middleware:y=>k=>w=>{if(!j4(w))return k(w);if(L8.match(w))return u(w.payload);if(j0e.match(w)){m();return}if(I8.match(w))return d(w.payload);let _=y.getState();const j=()=>{if(_===W3)throw new Error(Xi(23));return _};let O;try{if(O=k(w),t.size>0){const T=y.getState(),C=Array.from(t.values());for(const M of C){let P=!1;try{P=M.predicate(w,T,_)}catch(I){P=!1,Z3(o,I,{raisedBy:"predicate"})}P&&h(M,w,y,j)}}}finally{_=W3}return O},startListening:u,stopListening:d,clearListeners:m}};function Xi(e){return`Minified Redux Toolkit error #${e}; visit https://redux-toolkit.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var A0e={layoutType:"horizontal",width:0,height:0,margin:{top:5,right:5,bottom:5,left:5},scale:1},$8=Ai({name:"chartLayout",initialState:A0e,reducers:{setLayout(e,t){e.layoutType=t.payload},setChartSize(e,t){e.width=t.payload.width,e.height=t.payload.height},setMargin(e,t){var n,r,i,a;e.margin.top=(n=t.payload.top)!==null&&n!==void 0?n:0,e.margin.right=(r=t.payload.right)!==null&&r!==void 0?r:0,e.margin.bottom=(i=t.payload.bottom)!==null&&i!==void 0?i:0,e.margin.left=(a=t.payload.left)!==null&&a!==void 0?a:0},setScale(e,t){e.scale=t.payload}}}),{setMargin:N0e,setLayout:O0e,setChartSize:C0e,setScale:M0e}=$8.actions,D0e=$8.reducer;function B8(e,t,n){return Array.isArray(e)&&e&&t+n!==0?e.slice(t,n+1):e}function X3(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Zd(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?X3(Object(n),!0).forEach(function(r){P0e(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):X3(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function P0e(e,t,n){return(t=R0e(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function R0e(e){var t=L0e(e,"string");return typeof t=="symbol"?t:t+""}function L0e(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Yr(e,t,n){return Rr(e)||Rr(t)?n:qo(t)?Tx(e,t,n):typeof t=="function"?t(e):n}var I0e=(e,t,n)=>{if(t&&n){var{width:r,height:i}=n,{align:a,verticalAlign:o,layout:l}=t;if((l==="vertical"||l==="horizontal"&&o==="middle")&&a!=="center"&&tt(e[a]))return Zd(Zd({},e),{},{[a]:e[a]+(r||0)});if((l==="horizontal"||l==="vertical"&&a==="center")&&o!=="middle"&&tt(e[o]))return Zd(Zd({},e),{},{[o]:e[o]+(i||0)})}return e},Ws=(e,t)=>e==="horizontal"&&t==="xAxis"||e==="vertical"&&t==="yAxis"||e==="centric"&&t==="angleAxis"||e==="radial"&&t==="radiusAxis",z8=(e,t,n,r)=>{if(r)return e.map(l=>l.coordinate);var i,a,o=e.map(l=>(l.coordinate===t&&(i=!0),l.coordinate===n&&(a=!0),l.coordinate));return i||o.push(t),a||o.push(n),o},U8=(e,t,n)=>{if(!e)return null;var{duplicateDomain:r,type:i,range:a,scale:o,realScaleType:l,isCategorical:u,categoricalDomain:d,tickCount:h,ticks:m,niceTicks:b,axisType:y}=e;if(!o)return null;var k=l==="scaleBand"&&o.bandwidth?o.bandwidth()/2:2,w=i==="category"&&o.bandwidth?o.bandwidth()/k:0;if(w=y==="angleAxis"&&a&&a.length>=2?Sa(a[0]-a[1])*2*w:w,m||b){var _=(m||b||[]).map((j,O)=>{var T=r?r.indexOf(j):j;return{coordinate:o(T)+w,value:j,offset:w,index:O}});return _.filter(j=>!uo(j.coordinate))}return u&&d?d.map((j,O)=>({coordinate:o(j)+w,value:j,index:O,offset:w})):o.ticks&&h!=null?o.ticks(h).map((j,O)=>({coordinate:o(j)+w,value:j,offset:w,index:O})):o.domain().map((j,O)=>({coordinate:o(j)+w,value:r?r[j]:j,index:O,offset:w}))},J3=1e-4,$0e=e=>{var t=e.domain();if(!(!t||t.length<=2)){var n=t.length,r=e.range(),i=Math.min(r[0],r[1])-J3,a=Math.max(r[0],r[1])+J3,o=e(t[0]),l=e(t[n-1]);(o<i||o>a||l<i||l>a)&&e.domain([t[0],t[n-1]])}},B0e=e=>{var t=e.length;if(!(t<=0))for(var n=0,r=e[0].length;n<r;++n)for(var i=0,a=0,o=0;o<t;++o){var l=uo(e[o][n][1])?e[o][n][0]:e[o][n][1];l>=0?(e[o][n][0]=i,e[o][n][1]=i+l,i=e[o][n][1]):(e[o][n][0]=a,e[o][n][1]=a+l,a=e[o][n][1])}},z0e=e=>{var t=e.length;if(!(t<=0))for(var n=0,r=e[0].length;n<r;++n)for(var i=0,a=0;a<t;++a){var o=uo(e[a][n][1])?e[a][n][0]:e[a][n][1];o>=0?(e[a][n][0]=i,e[a][n][1]=i+o,i=e[a][n][1]):(e[a][n][0]=0,e[a][n][1]=0)}},U0e={sign:B0e,expand:Nme,none:yf,silhouette:Ome,wiggle:Cme,positive:z0e},F0e=(e,t,n)=>{var r=U0e[n],i=Ame().keys(t).value((a,o)=>Number(Yr(a,o,0))).order(t2).offset(r);return i(e)};function H0e(e){return e==null?void 0:String(e)}function Q3(e){var{axis:t,ticks:n,bandSize:r,entry:i,index:a,dataKey:o}=e;if(t.type==="category"){if(!t.allowDuplicatedCategory&&t.dataKey&&!Rr(i[t.dataKey])){var l=J9(n,"value",i[t.dataKey]);if(l)return l.coordinate+r/2}return n[a]?n[a].coordinate+r/2:null}var u=Yr(i,Rr(o)?t.dataKey:o);return Rr(u)?null:t.scale(u)}var G0e=e=>{var t=e.flat(2).filter(tt);return[Math.min(...t),Math.max(...t)]},Y0e=e=>[e[0]===1/0?0:e[0],e[1]===-1/0?0:e[1]],q0e=(e,t,n)=>{if(e!=null)return Y0e(Object.keys(e).reduce((r,i)=>{var a=e[i],{stackedData:o}=a,l=o.reduce((u,d)=>{var h=B8(d,t,n),m=G0e(h);return[Math.min(u[0],m[0]),Math.max(u[1],m[1])]},[1/0,-1/0]);return[Math.min(l[0],r[0]),Math.max(l[1],r[1])]},[1/0,-1/0]))},eL=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,tL=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,cv=(e,t,n)=>{if(e&&e.scale&&e.scale.bandwidth){var r=e.scale.bandwidth();if(!n||r>0)return r}if(e&&t&&t.length>=2){for(var i=Ax(t,h=>h.coordinate),a=1/0,o=1,l=i.length;o<l;o++){var u=i[o],d=i[o-1];a=Math.min((u.coordinate||0)-(d.coordinate||0),a)}return a===1/0?0:a}return n?void 0:0};function nL(e){var{tooltipEntrySettings:t,dataKey:n,payload:r,value:i,name:a}=e;return Zd(Zd({},t),{},{dataKey:n,payload:r,value:i,name:a})}function F8(e,t){if(e)return String(e);if(typeof t=="string")return t}var K0e=(e,t)=>{if(t==="horizontal")return e.chartX;if(t==="vertical")return e.chartY},W0e=(e,t)=>t==="centric"?e.angle:e.radius,Vs=e=>e.layout.width,Zs=e=>e.layout.height,V0e=e=>e.layout.scale,H8=e=>e.layout.margin,Ix=_e(e=>e.cartesianAxis.xAxis,e=>Object.values(e)),$x=_e(e=>e.cartesianAxis.yAxis,e=>Object.values(e)),Z0e="data-recharts-item-index",X0e="data-recharts-item-data-key",Wp=60;function rL(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Ab(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?rL(Object(n),!0).forEach(function(r){J0e(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):rL(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function J0e(e,t,n){return(t=Q0e(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Q0e(e){var t=ege(e,"string");return typeof t=="symbol"?t:t+""}function ege(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var tge=e=>e.brush.height;function nge(e){var t=$x(e);return t.reduce((n,r)=>{if(r.orientation==="left"&&!r.mirror&&!r.hide){var i=typeof r.width=="number"?r.width:Wp;return n+i}return n},0)}function rge(e){var t=$x(e);return t.reduce((n,r)=>{if(r.orientation==="right"&&!r.mirror&&!r.hide){var i=typeof r.width=="number"?r.width:Wp;return n+i}return n},0)}function ige(e){var t=Ix(e);return t.reduce((n,r)=>r.orientation==="top"&&!r.mirror&&!r.hide?n+r.height:n,0)}function age(e){var t=Ix(e);return t.reduce((n,r)=>r.orientation==="bottom"&&!r.mirror&&!r.hide?n+r.height:n,0)}var $r=_e([Vs,Zs,H8,tge,nge,rge,ige,age,f8,Rpe],(e,t,n,r,i,a,o,l,u,d)=>{var h={left:(n.left||0)+i,right:(n.right||0)+a},m={top:(n.top||0)+o,bottom:(n.bottom||0)+l},b=Ab(Ab({},m),h),y=b.bottom;b.bottom+=r,b=I0e(b,u,d);var k=e-b.left-b.right,w=t-b.top-b.bottom;return Ab(Ab({brushBottom:y},b),{},{width:Math.max(k,0),height:Math.max(w,0)})}),oge=_e($r,e=>({x:e.left,y:e.top,width:e.width,height:e.height})),G8=_e(Vs,Zs,(e,t)=>({x:0,y:0,width:e,height:t})),sge=S.createContext(null),Ni=()=>S.useContext(sge)!=null,Bx=e=>e.brush,zx=_e([Bx,$r,H8],(e,t,n)=>({height:e.height,x:tt(e.x)?e.x:t.left,y:tt(e.y)?e.y:t.top+t.height+t.brushBottom-(n?.bottom||0),width:tt(e.width)?e.width:t.width})),JS={},QS={},ek={},iL;function lge(){return iL||(iL=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n,r,{signal:i,edges:a}={}){let o,l=null;const u=a!=null&&a.includes("leading"),d=a==null||a.includes("trailing"),h=()=>{l!==null&&(n.apply(o,l),o=void 0,l=null)},m=()=>{d&&h(),w()};let b=null;const y=()=>{b!=null&&clearTimeout(b),b=setTimeout(()=>{b=null,m()},r)},k=()=>{b!==null&&(clearTimeout(b),b=null)},w=()=>{k(),o=void 0,l=null},_=()=>{h()},j=function(...O){if(i?.aborted)return;o=this,l=O;const T=b==null;y(),u&&T&&h()};return j.schedule=y,j.cancel=w,j.flush=_,i?.addEventListener("abort",w,{once:!0}),j}e.debounce=t})(ek)),ek}var aL;function cge(){return aL||(aL=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=lge();function n(r,i=0,a={}){typeof a!="object"&&(a={});const{leading:o=!1,trailing:l=!0,maxWait:u}=a,d=Array(2);o&&(d[0]="leading"),l&&(d[1]="trailing");let h,m=null;const b=t.debounce(function(...w){h=r.apply(this,w),m=null},i,{edges:d}),y=function(...w){return u!=null&&(m===null&&(m=Date.now()),Date.now()-m>=u)?(h=r.apply(this,w),m=Date.now(),b.cancel(),b.schedule(),h):(b.apply(this,w),h)},k=()=>(b.flush(),h);return y.cancel=b.cancel,y.flush=k,y}e.debounce=n})(QS)),QS}var oL;function uge(){return oL||(oL=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=cge();function n(r,i=0,a={}){const{leading:o=!0,trailing:l=!0}=a;return t.debounce(r,i,{leading:o,maxWait:i,trailing:l})}e.throttle=n})(JS)),JS}var tk,sL;function dge(){return sL||(sL=1,tk=uge().throttle),tk}var fge=dge();const hge=Ti(fge);var uv=function(t,n){for(var r=arguments.length,i=new Array(r>2?r-2:0),a=2;a<r;a++)i[a-2]=arguments[a];if(typeof console<"u"&&console.warn&&(n===void 0&&console.warn("LogUtils requires an error message argument"),!t))if(n===void 0)console.warn("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var o=0;console.warn(n.replace(/%s/g,()=>i[o++]))}},Y8=(e,t,n)=>{var{width:r="100%",height:i="100%",aspect:a,maxHeight:o}=n,l=Bs(r)?e:Number(r),u=Bs(i)?t:Number(i);return a&&a>0&&(l?u=l/a:u&&(l=u*a),o&&u!=null&&u>o&&(u=o)),{calculatedWidth:l,calculatedHeight:u}},mge={width:0,height:0,overflow:"visible"},pge={width:0,overflowX:"visible"},gge={height:0,overflowY:"visible"},bge={},yge=e=>{var{width:t,height:n}=e,r=Bs(t),i=Bs(n);return r&&i?mge:r?pge:i?gge:bge};function vge(e){var{width:t,height:n,aspect:r}=e,i=t,a=n;return i===void 0&&a===void 0?(i="100%",a="100%"):i===void 0?i=r&&r>0?void 0:"100%":a===void 0&&(a=r&&r>0?void 0:"100%"),{width:i,height:a}}function Pn(e){return Number.isFinite(e)}function Ko(e){return typeof e=="number"&&e>0&&Number.isFinite(e)}function f2(){return f2=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},f2.apply(null,arguments)}function lL(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function cL(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?lL(Object(n),!0).forEach(function(r){xge(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):lL(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function xge(e,t,n){return(t=wge(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function wge(e){var t=_ge(e,"string");return typeof t=="symbol"?t:t+""}function _ge(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var q8=S.createContext({width:-1,height:-1});function Sge(e){return Ko(e.width)&&Ko(e.height)}function K8(e){var{children:t,width:n,height:r}=e,i=S.useMemo(()=>({width:n,height:r}),[n,r]);return Sge(i)?S.createElement(q8.Provider,{value:i},t):null}var HT=()=>S.useContext(q8),kge=S.forwardRef((e,t)=>{var{aspect:n,initialDimension:r={width:-1,height:-1},width:i,height:a,minWidth:o=0,minHeight:l,maxHeight:u,children:d,debounce:h=0,id:m,className:b,onResize:y,style:k={}}=e,w=S.useRef(null),_=S.useRef();_.current=y,S.useImperativeHandle(t,()=>w.current);var[j,O]=S.useState({containerWidth:r.width,containerHeight:r.height}),T=S.useCallback((z,K)=>{O(G=>{var F=Math.round(z),B=Math.round(K);return G.containerWidth===F&&G.containerHeight===B?G:{containerWidth:F,containerHeight:B}})},[]);S.useEffect(()=>{if(w.current==null||typeof ResizeObserver>"u")return Gp;var z=B=>{var q,{width:X,height:Z}=B[0].contentRect;T(X,Z),(q=_.current)===null||q===void 0||q.call(_,X,Z)};h>0&&(z=hge(z,h,{trailing:!0,leading:!1}));var K=new ResizeObserver(z),{width:G,height:F}=w.current.getBoundingClientRect();return T(G,F),K.observe(w.current),()=>{K.disconnect()}},[T,h]);var{containerWidth:C,containerHeight:M}=j;uv(!n||n>0,"The aspect(%s) must be greater than zero.",n);var{calculatedWidth:P,calculatedHeight:I}=Y8(C,M,{width:i,height:a,aspect:n,maxHeight:u});return uv(P!=null&&P>0||I!=null&&I>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,P,I,i,a,o,l,n),S.createElement("div",{id:m?"".concat(m):void 0,className:fn("recharts-responsive-container",b),style:cL(cL({},k),{},{width:i,height:a,minWidth:o,minHeight:l,maxHeight:u}),ref:w},S.createElement("div",{style:yge({width:i,height:a})},S.createElement(K8,{width:P,height:I},d)))}),Ege=S.forwardRef((e,t)=>{var n=HT();if(Ko(n.width)&&Ko(n.height))return e.children;var{width:r,height:i}=vge({width:e.width,height:e.height,aspect:e.aspect}),{calculatedWidth:a,calculatedHeight:o}=Y8(void 0,void 0,{width:r,height:i,aspect:e.aspect,maxHeight:e.maxHeight});return tt(a)&&tt(o)?S.createElement(K8,{width:a,height:o},e.children):S.createElement(kge,f2({},e,{width:r,height:i,ref:t}))});function W8(e){if(e)return{x:e.x,y:e.y,upperWidth:"upperWidth"in e?e.upperWidth:e.width,lowerWidth:"lowerWidth"in e?e.lowerWidth:e.width,width:e.width,height:e.height}}var Ux=()=>{var e,t=Ni(),n=it(oge),r=it(zx),i=(e=it(Bx))===null||e===void 0?void 0:e.padding;return!t||!r||!i?n:{width:r.width-i.left-i.right,height:r.height-i.top-i.bottom,x:i.left,y:i.top}},jge={top:0,bottom:0,left:0,right:0,width:0,height:0,brushBottom:0},V8=()=>{var e;return(e=it($r))!==null&&e!==void 0?e:jge},Z8=()=>it(Vs),X8=()=>it(Zs),sn=e=>e.layout.layoutType,Vp=()=>it(sn),Tge=()=>{var e=Vp();if(e==="horizontal"||e==="vertical")return e},Age=()=>{var e=Vp();return e!==void 0},Fx=e=>{var t=Sr(),n=Ni(),{width:r,height:i}=e,a=HT(),o=r,l=i;return a&&(o=a.width>0?a.width:r,l=a.height>0?a.height:i),S.useEffect(()=>{!n&&Ko(o)&&Ko(l)&&t(C0e({width:o,height:l}))},[t,n,o,l]),null},J8=Symbol.for("immer-nothing"),uL=Symbol.for("immer-draftable"),Qi=Symbol.for("immer-state");function eo(e,...t){throw new Error(`[Immer] minified error nr: ${e}. Full error at: https://bit.ly/3cXEKWf`)}var pp=Object.getPrototypeOf;function wf(e){return!!e&&!!e[Qi]}function Cu(e){return e?Q8(e)||Array.isArray(e)||!!e[uL]||!!e.constructor?.[uL]||Zp(e)||Gx(e):!1}var Nge=Object.prototype.constructor.toString(),dL=new WeakMap;function Q8(e){if(!e||typeof e!="object")return!1;const t=Object.getPrototypeOf(e);if(t===null||t===Object.prototype)return!0;const n=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;if(n===Object)return!0;if(typeof n!="function")return!1;let r=dL.get(n);return r===void 0&&(r=Function.toString.call(n),dL.set(n,r)),r===Nge}function dv(e,t,n=!0){Hx(e)===0?(n?Reflect.ownKeys(e):Object.keys(e)).forEach(i=>{t(i,e[i],e)}):e.forEach((r,i)=>t(i,r,e))}function Hx(e){const t=e[Qi];return t?t.type_:Array.isArray(e)?1:Zp(e)?2:Gx(e)?3:0}function h2(e,t){return Hx(e)===2?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function ez(e,t,n){const r=Hx(e);r===2?e.set(t,n):r===3?e.add(n):e[t]=n}function Oge(e,t){return e===t?e!==0||1/e===1/t:e!==e&&t!==t}function Zp(e){return e instanceof Map}function Gx(e){return e instanceof Set}function uu(e){return e.copy_||e.base_}function m2(e,t){if(Zp(e))return new Map(e);if(Gx(e))return new Set(e);if(Array.isArray(e))return Array.prototype.slice.call(e);const n=Q8(e);if(t===!0||t==="class_only"&&!n){const r=Object.getOwnPropertyDescriptors(e);delete r[Qi];let i=Reflect.ownKeys(r);for(let a=0;a<i.length;a++){const o=i[a],l=r[o];l.writable===!1&&(l.writable=!0,l.configurable=!0),(l.get||l.set)&&(r[o]={configurable:!0,writable:!0,enumerable:l.enumerable,value:e[o]})}return Object.create(pp(e),r)}else{const r=pp(e);if(r!==null&&n)return{...e};const i=Object.create(r);return Object.assign(i,e)}}function GT(e,t=!1){return Yx(e)||wf(e)||!Cu(e)||(Hx(e)>1&&Object.defineProperties(e,{set:Nb,add:Nb,clear:Nb,delete:Nb}),Object.freeze(e),t&&Object.values(e).forEach(n=>GT(n,!0))),e}function Cge(){eo(2)}var Nb={value:Cge};function Yx(e){return e===null||typeof e!="object"?!0:Object.isFrozen(e)}var Mge={};function Mu(e){const t=Mge[e];return t||eo(0,e),t}var gp;function tz(){return gp}function Dge(e,t){return{drafts_:[],parent_:e,immer_:t,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function fL(e,t){t&&(Mu("Patches"),e.patches_=[],e.inversePatches_=[],e.patchListener_=t)}function p2(e){g2(e),e.drafts_.forEach(Pge),e.drafts_=null}function g2(e){e===gp&&(gp=e.parent_)}function hL(e){return gp=Dge(gp,e)}function Pge(e){const t=e[Qi];t.type_===0||t.type_===1?t.revoke_():t.revoked_=!0}function mL(e,t){t.unfinalizedDrafts_=t.drafts_.length;const n=t.drafts_[0];return e!==void 0&&e!==n?(n[Qi].modified_&&(p2(t),eo(4)),Cu(e)&&(e=fv(t,e),t.parent_||hv(t,e)),t.patches_&&Mu("Patches").generateReplacementPatches_(n[Qi].base_,e,t.patches_,t.inversePatches_)):e=fv(t,n,[]),p2(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),e!==J8?e:void 0}function fv(e,t,n){if(Yx(t))return t;const r=e.immer_.shouldUseStrictIteration(),i=t[Qi];if(!i)return dv(t,(a,o)=>pL(e,i,t,a,o,n),r),t;if(i.scope_!==e)return t;if(!i.modified_)return hv(e,i.base_,!0),i.base_;if(!i.finalized_){i.finalized_=!0,i.scope_.unfinalizedDrafts_--;const a=i.copy_;let o=a,l=!1;i.type_===3&&(o=new Set(a),a.clear(),l=!0),dv(o,(u,d)=>pL(e,i,a,u,d,n,l),r),hv(e,a,!1),n&&e.patches_&&Mu("Patches").generatePatches_(i,n,e.patches_,e.inversePatches_)}return i.copy_}function pL(e,t,n,r,i,a,o){if(i==null||typeof i!="object"&&!o)return;const l=Yx(i);if(!(l&&!o)){if(wf(i)){const u=a&&t&&t.type_!==3&&!h2(t.assigned_,r)?a.concat(r):void 0,d=fv(e,i,u);if(ez(n,r,d),wf(d))e.canAutoFreeze_=!1;else return}else o&&n.add(i);if(Cu(i)&&!l){if(!e.immer_.autoFreeze_&&e.unfinalizedDrafts_<1||t&&t.base_&&t.base_[r]===i&&l)return;fv(e,i),(!t||!t.scope_.parent_)&&typeof r!="symbol"&&(Zp(n)?n.has(r):Object.prototype.propertyIsEnumerable.call(n,r))&&hv(e,i)}}}function hv(e,t,n=!1){!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&GT(t,n)}function Rge(e,t){const n=Array.isArray(e),r={type_:n?1:0,scope_:t?t.scope_:tz(),modified_:!1,finalized_:!1,assigned_:{},parent_:t,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1};let i=r,a=YT;n&&(i=[r],a=bp);const{revoke:o,proxy:l}=Proxy.revocable(i,a);return r.draft_=l,r.revoke_=o,l}var YT={get(e,t){if(t===Qi)return e;const n=uu(e);if(!h2(n,t))return Lge(e,n,t);const r=n[t];return e.finalized_||!Cu(r)?r:r===nk(e.base_,t)?(rk(e),e.copy_[t]=y2(r,e)):r},has(e,t){return t in uu(e)},ownKeys(e){return Reflect.ownKeys(uu(e))},set(e,t,n){const r=nz(uu(e),t);if(r?.set)return r.set.call(e.draft_,n),!0;if(!e.modified_){const i=nk(uu(e),t),a=i?.[Qi];if(a&&a.base_===n)return e.copy_[t]=n,e.assigned_[t]=!1,!0;if(Oge(n,i)&&(n!==void 0||h2(e.base_,t)))return!0;rk(e),b2(e)}return e.copy_[t]===n&&(n!==void 0||t in e.copy_)||Number.isNaN(n)&&Number.isNaN(e.copy_[t])||(e.copy_[t]=n,e.assigned_[t]=!0),!0},deleteProperty(e,t){return nk(e.base_,t)!==void 0||t in e.base_?(e.assigned_[t]=!1,rk(e),b2(e)):delete e.assigned_[t],e.copy_&&delete e.copy_[t],!0},getOwnPropertyDescriptor(e,t){const n=uu(e),r=Reflect.getOwnPropertyDescriptor(n,t);return r&&{writable:!0,configurable:e.type_!==1||t!=="length",enumerable:r.enumerable,value:n[t]}},defineProperty(){eo(11)},getPrototypeOf(e){return pp(e.base_)},setPrototypeOf(){eo(12)}},bp={};dv(YT,(e,t)=>{bp[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}});bp.deleteProperty=function(e,t){return bp.set.call(this,e,t,void 0)};bp.set=function(e,t,n){return YT.set.call(this,e[0],t,n,e[0])};function nk(e,t){const n=e[Qi];return(n?uu(n):e)[t]}function Lge(e,t,n){const r=nz(t,n);return r?"value"in r?r.value:r.get?.call(e.draft_):void 0}function nz(e,t){if(!(t in e))return;let n=pp(e);for(;n;){const r=Object.getOwnPropertyDescriptor(n,t);if(r)return r;n=pp(n)}}function b2(e){e.modified_||(e.modified_=!0,e.parent_&&b2(e.parent_))}function rk(e){e.copy_||(e.copy_=m2(e.base_,e.scope_.immer_.useStrictShallowCopy_))}var Ige=class{constructor(e){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.useStrictIteration_=!0,this.produce=(t,n,r)=>{if(typeof t=="function"&&typeof n!="function"){const a=n;n=t;const o=this;return function(u=a,...d){return o.produce(u,h=>n.call(this,h,...d))}}typeof n!="function"&&eo(6),r!==void 0&&typeof r!="function"&&eo(7);let i;if(Cu(t)){const a=hL(this),o=y2(t,void 0);let l=!0;try{i=n(o),l=!1}finally{l?p2(a):g2(a)}return fL(a,r),mL(i,a)}else if(!t||typeof t!="object"){if(i=n(t),i===void 0&&(i=t),i===J8&&(i=void 0),this.autoFreeze_&&GT(i,!0),r){const a=[],o=[];Mu("Patches").generateReplacementPatches_(t,i,a,o),r(a,o)}return i}else eo(1,t)},this.produceWithPatches=(t,n)=>{if(typeof t=="function")return(o,...l)=>this.produceWithPatches(o,u=>t(u,...l));let r,i;return[this.produce(t,n,(o,l)=>{r=o,i=l}),r,i]},typeof e?.autoFreeze=="boolean"&&this.setAutoFreeze(e.autoFreeze),typeof e?.useStrictShallowCopy=="boolean"&&this.setUseStrictShallowCopy(e.useStrictShallowCopy),typeof e?.useStrictIteration=="boolean"&&this.setUseStrictIteration(e.useStrictIteration)}createDraft(e){Cu(e)||eo(8),wf(e)&&(e=$ge(e));const t=hL(this),n=y2(e,void 0);return n[Qi].isManual_=!0,g2(t),n}finishDraft(e,t){const n=e&&e[Qi];(!n||!n.isManual_)&&eo(9);const{scope_:r}=n;return fL(r,t),mL(void 0,r)}setAutoFreeze(e){this.autoFreeze_=e}setUseStrictShallowCopy(e){this.useStrictShallowCopy_=e}setUseStrictIteration(e){this.useStrictIteration_=e}shouldUseStrictIteration(){return this.useStrictIteration_}applyPatches(e,t){let n;for(n=t.length-1;n>=0;n--){const i=t[n];if(i.path.length===0&&i.op==="replace"){e=i.value;break}}n>-1&&(t=t.slice(n+1));const r=Mu("Patches").applyPatches_;return wf(e)?r(e,t):this.produce(e,i=>r(i,t))}};function y2(e,t){const n=Zp(e)?Mu("MapSet").proxyMap_(e,t):Gx(e)?Mu("MapSet").proxySet_(e,t):Rge(e,t);return(t?t.scope_:tz()).drafts_.push(n),n}function $ge(e){return wf(e)||eo(10,e),rz(e)}function rz(e){if(!Cu(e)||Yx(e))return e;const t=e[Qi];let n,r=!0;if(t){if(!t.modified_)return t.base_;t.finalized_=!0,n=m2(e,t.scope_.immer_.useStrictShallowCopy_),r=t.scope_.immer_.shouldUseStrictIteration()}else n=m2(e,!0);return dv(n,(i,a)=>{ez(n,i,rz(a))},r),t&&(t.finalized_=!1),n}var Bge=new Ige;Bge.produce;var zge={settings:{layout:"horizontal",align:"center",verticalAlign:"middle",itemSorter:"value"},size:{width:0,height:0},payload:[]},iz=Ai({name:"legend",initialState:zge,reducers:{setLegendSize(e,t){e.size.width=t.payload.width,e.size.height=t.payload.height},setLegendSettings(e,t){e.settings.align=t.payload.align,e.settings.layout=t.payload.layout,e.settings.verticalAlign=t.payload.verticalAlign,e.settings.itemSorter=t.payload.itemSorter},addLegendPayload:{reducer(e,t){e.payload.push(t.payload)},prepare:yn()},replaceLegendPayload:{reducer(e,t){var{prev:n,next:r}=t.payload,i=ro(e).payload.indexOf(n);i>-1&&(e.payload[i]=r)},prepare:yn()},removeLegendPayload:{reducer(e,t){var n=ro(e).payload.indexOf(t.payload);n>-1&&e.payload.splice(n,1)},prepare:yn()}}}),{setLegendSize:qMe,setLegendSettings:KMe,addLegendPayload:Uge,replaceLegendPayload:Fge,removeLegendPayload:Hge}=iz.actions,Gge=iz.reducer;function v2(){return v2=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},v2.apply(null,arguments)}function gL(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function ik(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?gL(Object(n),!0).forEach(function(r){Yge(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):gL(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Yge(e,t,n){return(t=qge(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function qge(e){var t=Kge(e,"string");return typeof t=="symbol"?t:t+""}function Kge(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Wge(e){return Array.isArray(e)&&qo(e[0])&&qo(e[1])?e.join(" ~ "):e}var Vge=e=>{var{separator:t=" : ",contentStyle:n={},itemStyle:r={},labelStyle:i={},payload:a,formatter:o,itemSorter:l,wrapperClassName:u,labelClassName:d,label:h,labelFormatter:m,accessibilityLayer:b=!1}=e,y=()=>{if(a&&a.length){var M={padding:0,margin:0},P=(l?Ax(a,l):a).map((I,z)=>{if(I.type==="none")return null;var K=I.formatter||o||Wge,{value:G,name:F}=I,B=G,q=F;if(K){var X=K(G,F,I,z,a);if(Array.isArray(X))[B,q]=X;else if(X!=null)B=X;else return null}var Z=ik({display:"block",paddingTop:4,paddingBottom:4,color:I.color||"#000"},r);return S.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(z),style:Z},qo(q)?S.createElement("span",{className:"recharts-tooltip-item-name"},q):null,qo(q)?S.createElement("span",{className:"recharts-tooltip-item-separator"},t):null,S.createElement("span",{className:"recharts-tooltip-item-value"},B),S.createElement("span",{className:"recharts-tooltip-item-unit"},I.unit||""))});return S.createElement("ul",{className:"recharts-tooltip-item-list",style:M},P)}return null},k=ik({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},n),w=ik({margin:0},i),_=!Rr(h),j=_?h:"",O=fn("recharts-default-tooltip",u),T=fn("recharts-tooltip-label",d);_&&m&&a!==void 0&&a!==null&&(j=m(h,a));var C=b?{role:"status","aria-live":"assertive"}:{};return S.createElement("div",v2({className:O,style:k},C),S.createElement("p",{className:T,style:w},S.isValidElement(j)?j:"".concat(j)),y())},gm="recharts-tooltip-wrapper",Zge={visibility:"hidden"};function Xge(e){var{coordinate:t,translateX:n,translateY:r}=e;return fn(gm,{["".concat(gm,"-right")]:tt(n)&&t&&tt(t.x)&&n>=t.x,["".concat(gm,"-left")]:tt(n)&&t&&tt(t.x)&&n<t.x,["".concat(gm,"-bottom")]:tt(r)&&t&&tt(t.y)&&r>=t.y,["".concat(gm,"-top")]:tt(r)&&t&&tt(t.y)&&r<t.y})}function bL(e){var{allowEscapeViewBox:t,coordinate:n,key:r,offsetTopLeft:i,position:a,reverseDirection:o,tooltipDimension:l,viewBox:u,viewBoxDimension:d}=e;if(a&&tt(a[r]))return a[r];var h=n[r]-l-(i>0?i:0),m=n[r]+i;if(t[r])return o[r]?h:m;var b=u[r];if(b==null)return 0;if(o[r]){var y=h,k=b;return y<k?Math.max(m,b):Math.max(h,b)}if(d==null)return 0;var w=m+l,_=b+d;return w>_?Math.max(h,b):Math.max(m,b)}function Jge(e){var{translateX:t,translateY:n,useTranslate3d:r}=e;return{transform:r?"translate3d(".concat(t,"px, ").concat(n,"px, 0)"):"translate(".concat(t,"px, ").concat(n,"px)")}}function Qge(e){var{allowEscapeViewBox:t,coordinate:n,offsetTopLeft:r,position:i,reverseDirection:a,tooltipBox:o,useTranslate3d:l,viewBox:u}=e,d,h,m;return o.height>0&&o.width>0&&n?(h=bL({allowEscapeViewBox:t,coordinate:n,key:"x",offsetTopLeft:r,position:i,reverseDirection:a,tooltipDimension:o.width,viewBox:u,viewBoxDimension:u.width}),m=bL({allowEscapeViewBox:t,coordinate:n,key:"y",offsetTopLeft:r,position:i,reverseDirection:a,tooltipDimension:o.height,viewBox:u,viewBoxDimension:u.height}),d=Jge({translateX:h,translateY:m,useTranslate3d:l})):d=Zge,{cssProperties:d,cssClasses:Xge({translateX:h,translateY:m,coordinate:n})}}function yL(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Ob(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?yL(Object(n),!0).forEach(function(r){x2(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):yL(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function x2(e,t,n){return(t=ebe(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ebe(e){var t=tbe(e,"string");return typeof t=="symbol"?t:t+""}function tbe(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class nbe extends S.PureComponent{constructor(){super(...arguments),x2(this,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0}}),x2(this,"handleKeyDown",t=>{if(t.key==="Escape"){var n,r,i,a;this.setState({dismissed:!0,dismissedAtCoordinate:{x:(n=(r=this.props.coordinate)===null||r===void 0?void 0:r.x)!==null&&n!==void 0?n:0,y:(i=(a=this.props.coordinate)===null||a===void 0?void 0:a.y)!==null&&i!==void 0?i:0}})}})}componentDidMount(){document.addEventListener("keydown",this.handleKeyDown)}componentWillUnmount(){document.removeEventListener("keydown",this.handleKeyDown)}componentDidUpdate(){var t,n;this.state.dismissed&&(((t=this.props.coordinate)===null||t===void 0?void 0:t.x)!==this.state.dismissedAtCoordinate.x||((n=this.props.coordinate)===null||n===void 0?void 0:n.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}render(){var{active:t,allowEscapeViewBox:n,animationDuration:r,animationEasing:i,children:a,coordinate:o,hasPayload:l,isAnimationActive:u,offset:d,position:h,reverseDirection:m,useTranslate3d:b,viewBox:y,wrapperStyle:k,lastBoundingBox:w,innerRef:_,hasPortalFromProps:j}=this.props,{cssClasses:O,cssProperties:T}=Qge({allowEscapeViewBox:n,coordinate:o,offsetTopLeft:d,position:h,reverseDirection:m,tooltipBox:{height:w.height,width:w.width},useTranslate3d:b,viewBox:y}),C=j?{}:Ob(Ob({transition:u&&t?"transform ".concat(r,"ms ").concat(i):void 0},T),{},{pointerEvents:"none",visibility:!this.state.dismissed&&t&&l?"visible":"hidden",position:"absolute",top:0,left:0}),M=Ob(Ob({},C),{},{visibility:!this.state.dismissed&&t&&l?"visible":"hidden"},k);return S.createElement("div",{xmlns:"http://www.w3.org/1999/xhtml",tabIndex:-1,className:O,style:M,ref:_},a)}}var az=()=>{var e;return(e=it(t=>t.rootProps.accessibilityLayer))!==null&&e!==void 0?e:!0};function w2(){return w2=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},w2.apply(null,arguments)}function vL(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function xL(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?vL(Object(n),!0).forEach(function(r){rbe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):vL(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function rbe(e,t,n){return(t=ibe(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ibe(e){var t=abe(e,"string");return typeof t=="symbol"?t:t+""}function abe(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var wL={curveBasisClosed:bme,curveBasisOpen:yme,curveBasis:gme,curveBumpX:mme,curveBumpY:pme,curveLinearClosed:vme,curveLinear:Ex,curveMonotoneX:xme,curveMonotoneY:wme,curveNatural:_me,curveStep:Sme,curveStepAfter:Eme,curveStepBefore:kme},mv=e=>Pn(e.x)&&Pn(e.y),_L=e=>e.base!=null&&mv(e.base)&&mv(e),bm=e=>e.x,ym=e=>e.y,obe=(e,t)=>{if(typeof e=="function")return e;var n="curve".concat(MT(e));return(n==="curveMonotone"||n==="curveBump")&&t?wL["".concat(n).concat(t==="vertical"?"Y":"X")]:wL[n]||Ex},sbe=e=>{var{type:t="linear",points:n=[],baseLine:r,layout:i,connectNulls:a=!1}=e,o=obe(t,i),l=a?n.filter(mv):n,u;if(Array.isArray(r)){var d=n.map((y,k)=>xL(xL({},y),{},{base:r[k]}));i==="vertical"?u=_b().y(ym).x1(bm).x0(y=>y.base.x):u=_b().x(bm).y1(ym).y0(y=>y.base.y);var h=u.defined(_L).curve(o),m=a?d.filter(_L):d;return h(m)}i==="vertical"&&tt(r)?u=_b().y(ym).x1(bm).x0(r):tt(r)?u=_b().x(bm).y1(ym).y0(r):u=U9().x(bm).y(ym);var b=u.defined(mv).curve(o);return b(l)},sy=e=>{var{className:t,points:n,path:r,pathRef:i}=e;if((!n||!n.length)&&!r)return null;var a=n&&n.length?sbe(e):r;return S.createElement("path",w2({},co(e),DT(e),{className:fn("recharts-curve",t),d:a===null?void 0:a,ref:i}))},lbe=["x","y","top","left","width","height","className"];function _2(){return _2=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},_2.apply(null,arguments)}function SL(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function cbe(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?SL(Object(n),!0).forEach(function(r){ube(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):SL(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function ube(e,t,n){return(t=dbe(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function dbe(e){var t=fbe(e,"string");return typeof t=="symbol"?t:t+""}function fbe(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function hbe(e,t){if(e==null)return{};var n,r,i=mbe(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function mbe(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var pbe=(e,t,n,r,i,a)=>"M".concat(e,",").concat(i,"v").concat(r,"M").concat(a,",").concat(t,"h").concat(n),gbe=e=>{var{x:t=0,y:n=0,top:r=0,left:i=0,width:a=0,height:o=0,className:l}=e,u=hbe(e,lbe),d=cbe({x:t,y:n,top:r,left:i,width:a,height:o},u);return!tt(t)||!tt(n)||!tt(a)||!tt(o)||!tt(r)||!tt(i)?null:S.createElement("path",_2({},Aa(d),{className:fn("recharts-cross",l),d:pbe(t,n,a,o,r,i)}))};function bbe(e,t,n,r){var i=r/2;return{stroke:"none",fill:"#ccc",x:e==="horizontal"?t.x-i:n.left+.5,y:e==="horizontal"?n.top+.5:t.y-i,width:e==="horizontal"?r:n.width-1,height:e==="horizontal"?n.height-1:r}}function kL(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function EL(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?kL(Object(n),!0).forEach(function(r){ybe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):kL(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function ybe(e,t,n){return(t=vbe(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function vbe(e){var t=xbe(e,"string");return typeof t=="symbol"?t:t+""}function xbe(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var wbe=e=>e.replace(/([A-Z])/g,t=>"-".concat(t.toLowerCase())),_be=(e,t,n)=>e.map(r=>"".concat(wbe(r)," ").concat(t,"ms ").concat(n)).join(","),Sbe=(e,t)=>[Object.keys(e),Object.keys(t)].reduce((n,r)=>n.filter(i=>r.includes(i))),yp=(e,t)=>Object.keys(t).reduce((n,r)=>EL(EL({},n),{},{[r]:e(r,t[r])}),{});function jL(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function ir(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?jL(Object(n),!0).forEach(function(r){kbe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):jL(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function kbe(e,t,n){return(t=Ebe(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Ebe(e){var t=jbe(e,"string");return typeof t=="symbol"?t:t+""}function jbe(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var pv=(e,t,n)=>e+(t-e)*n,S2=e=>{var{from:t,to:n}=e;return t!==n},oz=(e,t,n)=>{var r=yp((i,a)=>{if(S2(a)){var[o,l]=e(a.from,a.to,a.velocity);return ir(ir({},a),{},{from:o,velocity:l})}return a},t);return n<1?yp((i,a)=>S2(a)?ir(ir({},a),{},{velocity:pv(a.velocity,r[i].velocity,n),from:pv(a.from,r[i].from,n)}):a,t):oz(e,r,n-1)};function Tbe(e,t,n,r,i,a){var o,l=r.reduce((b,y)=>ir(ir({},b),{},{[y]:{from:e[y],velocity:0,to:t[y]}}),{}),u=()=>yp((b,y)=>y.from,l),d=()=>!Object.values(l).filter(S2).length,h=null,m=b=>{o||(o=b);var y=b-o,k=y/n.dt;l=oz(n,l,k),i(ir(ir(ir({},e),t),u())),o=b,d()||(h=a.setTimeout(m))};return()=>(h=a.setTimeout(m),()=>{var b;(b=h)===null||b===void 0||b()})}function Abe(e,t,n,r,i,a,o){var l=null,u=i.reduce((m,b)=>ir(ir({},m),{},{[b]:[e[b],t[b]]}),{}),d,h=m=>{d||(d=m);var b=(m-d)/r,y=yp((w,_)=>pv(..._,n(b)),u);if(a(ir(ir(ir({},e),t),y)),b<1)l=o.setTimeout(h);else{var k=yp((w,_)=>pv(..._,n(1)),u);a(ir(ir(ir({},e),t),k))}};return()=>(l=o.setTimeout(h),()=>{var m;(m=l)===null||m===void 0||m()})}const Nbe=(e,t,n,r,i,a)=>{var o=Sbe(e,t);return n==null?()=>(i(ir(ir({},e),t)),()=>{}):n.isStepper===!0?Tbe(e,t,n,o,i,a):Abe(e,t,n,r,o,i,a)};var gv=1e-4,sz=(e,t)=>[0,3*e,3*t-6*e,3*e-3*t+1],lz=(e,t)=>e.map((n,r)=>n*t**r).reduce((n,r)=>n+r),TL=(e,t)=>n=>{var r=sz(e,t);return lz(r,n)},Obe=(e,t)=>n=>{var r=sz(e,t),i=[...r.map((a,o)=>a*o).slice(1),0];return lz(i,n)},Cbe=function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];if(n.length===1)switch(n[0]){case"linear":return[0,0,1,1];case"ease":return[.25,.1,.25,1];case"ease-in":return[.42,0,1,1];case"ease-out":return[.42,0,.58,1];case"ease-in-out":return[0,0,.58,1];default:{var i,a=n[0].split("(");if(a[0]==="cubic-bezier"&&((i=a[1])===null||i===void 0?void 0:i.split(")")[0].split(",").length)===4){var o=a[1].split(")")[0].split(",").map(l=>parseFloat(l));return[o[0],o[1],o[2],o[3]]}}}return n.length===4?n:[0,0,1,1]},Mbe=(e,t,n,r)=>{var i=TL(e,n),a=TL(t,r),o=Obe(e,n),l=d=>d>1?1:d<0?0:d,u=d=>{for(var h=d>1?1:d,m=h,b=0;b<8;++b){var y=i(m)-h,k=o(m);if(Math.abs(y-h)<gv||k<gv)return a(m);m=l(m-y/k)}return a(m)};return u.isStepper=!1,u},AL=function(){return Mbe(...Cbe(...arguments))},Dbe=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},{stiff:n=100,damping:r=8,dt:i=17}=t,a=(o,l,u)=>{var d=-(o-l)*n,h=u*r,m=u+(d-h)*i/1e3,b=u*i/1e3+o;return Math.abs(b-l)<gv&&Math.abs(m)<gv?[l,0]:[b,m]};return a.isStepper=!0,a.dt=i,a},Pbe=e=>{if(typeof e=="string")switch(e){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return AL(e);case"spring":return Dbe();default:if(e.split("(")[0]==="cubic-bezier")return AL(e)}return typeof e=="function"?e:null};function Rbe(e){var t,n=()=>null,r=!1,i=null,a=o=>{if(!r){if(Array.isArray(o)){if(!o.length)return;var l=o,[u,...d]=l;if(typeof u=="number"){i=e.setTimeout(a.bind(null,d),u);return}a(u),i=e.setTimeout(a.bind(null,d));return}typeof o=="string"&&(t=o,n(t)),typeof o=="object"&&(t=o,n(t)),typeof o=="function"&&o()}};return{stop:()=>{r=!0},start:o=>{r=!1,i&&(i(),i=null),a(o)},subscribe:o=>(n=o,()=>{n=()=>null}),getTimeoutController:()=>e}}class Lbe{setTimeout(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=performance.now(),i=null,a=o=>{o-r>=n?t(o):typeof requestAnimationFrame=="function"&&(i=requestAnimationFrame(a))};return i=requestAnimationFrame(a),()=>{i!=null&&cancelAnimationFrame(i)}}}function Ibe(){return Rbe(new Lbe)}var $be=S.createContext(Ibe);function Bbe(e,t){var n=S.useContext($be);return S.useMemo(()=>t??n(e),[e,t,n])}var zbe=()=>!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout),zf={devToolsEnabled:!1,isSsr:zbe()},Ube={begin:0,duration:1e3,easing:"ease",isActive:!0,canBegin:!0,onAnimationEnd:()=>{},onAnimationStart:()=>{}},NL={t:0},ak={t:1};function cz(e){var t=ta(e,Ube),{isActive:n,canBegin:r,duration:i,easing:a,begin:o,onAnimationEnd:l,onAnimationStart:u,children:d}=t,h=n==="auto"?!zf.isSsr:n,m=Bbe(t.animationId,t.animationManager),[b,y]=S.useState(h?NL:ak),k=S.useRef(null);return S.useEffect(()=>{h||y(ak)},[h]),S.useEffect(()=>{if(!h||!r)return Gp;var w=Nbe(NL,ak,Pbe(a),i,y,m.getTimeoutController()),_=()=>{k.current=w()};return m.start([u,o,_,i,l]),()=>{m.stop(),k.current&&k.current(),l()}},[h,r,i,a,o,u,l,m]),d(b.t)}function uz(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"animation-",n=S.useRef(dp(t)),r=S.useRef(e);return r.current!==e&&(n.current=dp(t),r.current=e),n.current}var Fbe=["radius"],Hbe=["radius"];function OL(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function CL(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?OL(Object(n),!0).forEach(function(r){Gbe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):OL(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Gbe(e,t,n){return(t=Ybe(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Ybe(e){var t=qbe(e,"string");return typeof t=="symbol"?t:t+""}function qbe(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function bv(){return bv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},bv.apply(null,arguments)}function ML(e,t){if(e==null)return{};var n,r,i=Kbe(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function Kbe(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var DL=(e,t,n,r,i)=>{var a=Math.min(Math.abs(n)/2,Math.abs(r)/2),o=r>=0?1:-1,l=n>=0?1:-1,u=r>=0&&n>=0||r<0&&n<0?1:0,d;if(a>0&&i instanceof Array){for(var h=[0,0,0,0],m=0,b=4;m<b;m++)h[m]=i[m]>a?a:i[m];d="M".concat(e,",").concat(t+o*h[0]),h[0]>0&&(d+="A ".concat(h[0],",").concat(h[0],",0,0,").concat(u,",").concat(e+l*h[0],",").concat(t)),d+="L ".concat(e+n-l*h[1],",").concat(t),h[1]>0&&(d+="A ".concat(h[1],",").concat(h[1],",0,0,").concat(u,`,
        `).concat(e+n,",").concat(t+o*h[1])),d+="L ".concat(e+n,",").concat(t+r-o*h[2]),h[2]>0&&(d+="A ".concat(h[2],",").concat(h[2],",0,0,").concat(u,`,
        `).concat(e+n-l*h[2],",").concat(t+r)),d+="L ".concat(e+l*h[3],",").concat(t+r),h[3]>0&&(d+="A ".concat(h[3],",").concat(h[3],",0,0,").concat(u,`,
        `).concat(e,",").concat(t+r-o*h[3])),d+="Z"}else if(a>0&&i===+i&&i>0){var y=Math.min(a,i);d="M ".concat(e,",").concat(t+o*y,`
            A `).concat(y,",").concat(y,",0,0,").concat(u,",").concat(e+l*y,",").concat(t,`
            L `).concat(e+n-l*y,",").concat(t,`
            A `).concat(y,",").concat(y,",0,0,").concat(u,",").concat(e+n,",").concat(t+o*y,`
            L `).concat(e+n,",").concat(t+r-o*y,`
            A `).concat(y,",").concat(y,",0,0,").concat(u,",").concat(e+n-l*y,",").concat(t+r,`
            L `).concat(e+l*y,",").concat(t+r,`
            A `).concat(y,",").concat(y,",0,0,").concat(u,",").concat(e,",").concat(t+r-o*y," Z")}else d="M ".concat(e,",").concat(t," h ").concat(n," v ").concat(r," h ").concat(-n," Z");return d},PL={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},Wbe=e=>{var t=ta(e,PL),n=S.useRef(null),[r,i]=S.useState(-1);S.useEffect(()=>{if(n.current&&n.current.getTotalLength)try{var V=n.current.getTotalLength();V&&i(V)}catch{}},[]);var{x:a,y:o,width:l,height:u,radius:d,className:h}=t,{animationEasing:m,animationDuration:b,animationBegin:y,isAnimationActive:k,isUpdateAnimationActive:w}=t,_=S.useRef(l),j=S.useRef(u),O=S.useRef(a),T=S.useRef(o),C=S.useMemo(()=>({x:a,y:o,width:l,height:u,radius:d}),[a,o,l,u,d]),M=uz(C,"rectangle-");if(a!==+a||o!==+o||l!==+l||u!==+u||l===0||u===0)return null;var P=fn("recharts-rectangle",h);if(!w){var I=Aa(t),{radius:z}=I,K=ML(I,Fbe);return S.createElement("path",bv({},K,{radius:typeof d=="number"?d:void 0,className:P,d:DL(a,o,l,u,d)}))}var G=_.current,F=j.current,B=O.current,q=T.current,X="0px ".concat(r===-1?1:r,"px"),Z="".concat(r,"px 0px"),Y=_be(["strokeDasharray"],b,typeof m=="string"?m:PL.animationEasing);return S.createElement(cz,{animationId:M,key:M,canBegin:r>0,duration:b,easing:m,isActive:w,begin:y},V=>{var Q=$o(G,l,V),se=$o(F,u,V),ce=$o(B,a,V),W=$o(q,o,V);n.current&&(_.current=Q,j.current=se,O.current=ce,T.current=W);var ne;k?V>0?ne={transition:Y,strokeDasharray:Z}:ne={strokeDasharray:X}:ne={strokeDasharray:Z};var ie=Aa(t),{radius:he}=ie,J=ML(ie,Hbe);return S.createElement("path",bv({},J,{radius:typeof d=="number"?d:void 0,className:P,d:DL(ce,W,Q,se,d),ref:n,style:CL(CL({},ne),t.style)}))})};function RL(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function LL(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?RL(Object(n),!0).forEach(function(r){Vbe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):RL(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Vbe(e,t,n){return(t=Zbe(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Zbe(e){var t=Xbe(e,"string");return typeof t=="symbol"?t:t+""}function Xbe(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var yv=Math.PI/180,Jbe=e=>e*180/Math.PI,Pr=(e,t,n,r)=>({x:e+Math.cos(-yv*r)*n,y:t+Math.sin(-yv*r)*n}),Qbe=function(t,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(t-(r.left||0)-(r.right||0)),Math.abs(n-(r.top||0)-(r.bottom||0)))/2},eye=(e,t)=>{var{x:n,y:r}=e,{x:i,y:a}=t;return Math.sqrt((n-i)**2+(r-a)**2)},tye=(e,t)=>{var{x:n,y:r}=e,{cx:i,cy:a}=t,o=eye({x:n,y:r},{x:i,y:a});if(o<=0)return{radius:o,angle:0};var l=(n-i)/o,u=Math.acos(l);return r>a&&(u=2*Math.PI-u),{radius:o,angle:Jbe(u),angleInRadian:u}},nye=e=>{var{startAngle:t,endAngle:n}=e,r=Math.floor(t/360),i=Math.floor(n/360),a=Math.min(r,i);return{startAngle:t-a*360,endAngle:n-a*360}},rye=(e,t)=>{var{startAngle:n,endAngle:r}=t,i=Math.floor(n/360),a=Math.floor(r/360),o=Math.min(i,a);return e+o*360},iye=(e,t)=>{var{chartX:n,chartY:r}=e,{radius:i,angle:a}=tye({x:n,y:r},t),{innerRadius:o,outerRadius:l}=t;if(i<o||i>l||i===0)return null;var{startAngle:u,endAngle:d}=nye(t),h=a,m;if(u<=d){for(;h>d;)h-=360;for(;h<u;)h+=360;m=h>=u&&h<=d}else{for(;h>u;)h-=360;for(;h<d;)h+=360;m=h>=d&&h<=u}return m?LL(LL({},t),{},{radius:i,angle:rye(h,t)}):null};function dz(e){var{cx:t,cy:n,radius:r,startAngle:i,endAngle:a}=e,o=Pr(t,n,r,i),l=Pr(t,n,r,a);return{points:[o,l],cx:t,cy:n,radius:r,startAngle:i,endAngle:a}}function k2(){return k2=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},k2.apply(null,arguments)}var aye=(e,t)=>{var n=Sa(t-e),r=Math.min(Math.abs(t-e),359.999);return n*r},Cb=e=>{var{cx:t,cy:n,radius:r,angle:i,sign:a,isExternal:o,cornerRadius:l,cornerIsExternal:u}=e,d=l*(o?1:-1)+r,h=Math.asin(l/d)/yv,m=u?i:i+a*h,b=Pr(t,n,d,m),y=Pr(t,n,r,m),k=u?i-a*h:i,w=Pr(t,n,d*Math.cos(h*yv),k);return{center:b,circleTangency:y,lineTangency:w,theta:h}},fz=e=>{var{cx:t,cy:n,innerRadius:r,outerRadius:i,startAngle:a,endAngle:o}=e,l=aye(a,o),u=a+l,d=Pr(t,n,i,a),h=Pr(t,n,i,u),m="M ".concat(d.x,",").concat(d.y,`
    A `).concat(i,",").concat(i,`,0,
    `).concat(+(Math.abs(l)>180),",").concat(+(a>u),`,
    `).concat(h.x,",").concat(h.y,`
  `);if(r>0){var b=Pr(t,n,r,a),y=Pr(t,n,r,u);m+="L ".concat(y.x,",").concat(y.y,`
            A `).concat(r,",").concat(r,`,0,
            `).concat(+(Math.abs(l)>180),",").concat(+(a<=u),`,
            `).concat(b.x,",").concat(b.y," Z")}else m+="L ".concat(t,",").concat(n," Z");return m},oye=e=>{var{cx:t,cy:n,innerRadius:r,outerRadius:i,cornerRadius:a,forceCornerRadius:o,cornerIsExternal:l,startAngle:u,endAngle:d}=e,h=Sa(d-u),{circleTangency:m,lineTangency:b,theta:y}=Cb({cx:t,cy:n,radius:i,angle:u,sign:h,cornerRadius:a,cornerIsExternal:l}),{circleTangency:k,lineTangency:w,theta:_}=Cb({cx:t,cy:n,radius:i,angle:d,sign:-h,cornerRadius:a,cornerIsExternal:l}),j=l?Math.abs(u-d):Math.abs(u-d)-y-_;if(j<0)return o?"M ".concat(b.x,",").concat(b.y,`
        a`).concat(a,",").concat(a,",0,0,1,").concat(a*2,`,0
        a`).concat(a,",").concat(a,",0,0,1,").concat(-a*2,`,0
      `):fz({cx:t,cy:n,innerRadius:r,outerRadius:i,startAngle:u,endAngle:d});var O="M ".concat(b.x,",").concat(b.y,`
    A`).concat(a,",").concat(a,",0,0,").concat(+(h<0),",").concat(m.x,",").concat(m.y,`
    A`).concat(i,",").concat(i,",0,").concat(+(j>180),",").concat(+(h<0),",").concat(k.x,",").concat(k.y,`
    A`).concat(a,",").concat(a,",0,0,").concat(+(h<0),",").concat(w.x,",").concat(w.y,`
  `);if(r>0){var{circleTangency:T,lineTangency:C,theta:M}=Cb({cx:t,cy:n,radius:r,angle:u,sign:h,isExternal:!0,cornerRadius:a,cornerIsExternal:l}),{circleTangency:P,lineTangency:I,theta:z}=Cb({cx:t,cy:n,radius:r,angle:d,sign:-h,isExternal:!0,cornerRadius:a,cornerIsExternal:l}),K=l?Math.abs(u-d):Math.abs(u-d)-M-z;if(K<0&&a===0)return"".concat(O,"L").concat(t,",").concat(n,"Z");O+="L".concat(I.x,",").concat(I.y,`
      A`).concat(a,",").concat(a,",0,0,").concat(+(h<0),",").concat(P.x,",").concat(P.y,`
      A`).concat(r,",").concat(r,",0,").concat(+(K>180),",").concat(+(h>0),",").concat(T.x,",").concat(T.y,`
      A`).concat(a,",").concat(a,",0,0,").concat(+(h<0),",").concat(C.x,",").concat(C.y,"Z")}else O+="L".concat(t,",").concat(n,"Z");return O},sye={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},lye=e=>{var t=ta(e,sye),{cx:n,cy:r,innerRadius:i,outerRadius:a,cornerRadius:o,forceCornerRadius:l,cornerIsExternal:u,startAngle:d,endAngle:h,className:m}=t;if(a<i||d===h)return null;var b=fn("recharts-sector",m),y=a-i,k=sc(o,y,0,!0),w;return k>0&&Math.abs(d-h)<360?w=oye({cx:n,cy:r,innerRadius:i,outerRadius:a,cornerRadius:Math.min(k,y/2),forceCornerRadius:l,cornerIsExternal:u,startAngle:d,endAngle:h}):w=fz({cx:n,cy:r,innerRadius:i,outerRadius:a,startAngle:d,endAngle:h}),S.createElement("path",k2({},Aa(t),{className:b,d:w}))};function cye(e,t,n){if(e==="horizontal")return[{x:t.x,y:n.top},{x:t.x,y:n.top+n.height}];if(e==="vertical")return[{x:n.left,y:t.y},{x:n.left+n.width,y:t.y}];if(Q9(t)){if(e==="centric"){var{cx:r,cy:i,innerRadius:a,outerRadius:o,angle:l}=t,u=Pr(r,i,a,l),d=Pr(r,i,o,l);return[{x:u.x,y:u.y},{x:d.x,y:d.y}]}return dz(t)}}var ok={},sk={},lk={},IL;function uye(){return IL||(IL=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=u8();function n(r){return t.isSymbol(r)?NaN:Number(r)}e.toNumber=n})(lk)),lk}var $L;function dye(){return $L||($L=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=uye();function n(r){return r?(r=t.toNumber(r),r===1/0||r===-1/0?(r<0?-1:1)*Number.MAX_VALUE:r===r?r:0):r===0?r:0}e.toFinite=n})(sk)),sk}var BL;function fye(){return BL||(BL=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=d8(),n=dye();function r(i,a,o){o&&typeof o!="number"&&t.isIterateeCall(i,a,o)&&(a=o=void 0),i=n.toFinite(i),a===void 0?(a=i,i=0):a=n.toFinite(a),o=o===void 0?i<a?1:-1:n.toFinite(o);const l=Math.max(Math.ceil((a-i)/(o||1)),0),u=new Array(l);for(let d=0;d<l;d++)u[d]=i,i+=o;return u}e.range=r})(ok)),ok}var ck,zL;function hye(){return zL||(zL=1,ck=fye().range),ck}var mye=hye();const hz=Ti(mye);function ec(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function pye(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function qT(e){let t,n,r;e.length!==2?(t=ec,n=(l,u)=>ec(e(l),u),r=(l,u)=>e(l)-u):(t=e===ec||e===pye?e:gye,n=e,r=e);function i(l,u,d=0,h=l.length){if(d<h){if(t(u,u)!==0)return h;do{const m=d+h>>>1;n(l[m],u)<0?d=m+1:h=m}while(d<h)}return d}function a(l,u,d=0,h=l.length){if(d<h){if(t(u,u)!==0)return h;do{const m=d+h>>>1;n(l[m],u)<=0?d=m+1:h=m}while(d<h)}return d}function o(l,u,d=0,h=l.length){const m=i(l,u,d,h-1);return m>d&&r(l[m-1],u)>-r(l[m],u)?m-1:m}return{left:i,center:o,right:a}}function gye(){return 0}function mz(e){return e===null?NaN:+e}function*bye(e,t){for(let n of e)n!=null&&(n=+n)>=n&&(yield n)}const yye=qT(ec),Xp=yye.right;qT(mz).center;class UL extends Map{constructor(t,n=wye){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),t!=null)for(const[r,i]of t)this.set(r,i)}get(t){return super.get(FL(this,t))}has(t){return super.has(FL(this,t))}set(t,n){return super.set(vye(this,t),n)}delete(t){return super.delete(xye(this,t))}}function FL({_intern:e,_key:t},n){const r=t(n);return e.has(r)?e.get(r):n}function vye({_intern:e,_key:t},n){const r=t(n);return e.has(r)?e.get(r):(e.set(r,n),n)}function xye({_intern:e,_key:t},n){const r=t(n);return e.has(r)&&(n=e.get(r),e.delete(r)),n}function wye(e){return e!==null&&typeof e=="object"?e.valueOf():e}function _ye(e=ec){if(e===ec)return pz;if(typeof e!="function")throw new TypeError("compare is not a function");return(t,n)=>{const r=e(t,n);return r||r===0?r:(e(n,n)===0)-(e(t,t)===0)}}function pz(e,t){return(e==null||!(e>=e))-(t==null||!(t>=t))||(e<t?-1:e>t?1:0)}const Sye=Math.sqrt(50),kye=Math.sqrt(10),Eye=Math.sqrt(2);function vv(e,t,n){const r=(t-e)/Math.max(0,n),i=Math.floor(Math.log10(r)),a=r/Math.pow(10,i),o=a>=Sye?10:a>=kye?5:a>=Eye?2:1;let l,u,d;return i<0?(d=Math.pow(10,-i)/o,l=Math.round(e*d),u=Math.round(t*d),l/d<e&&++l,u/d>t&&--u,d=-d):(d=Math.pow(10,i)*o,l=Math.round(e/d),u=Math.round(t/d),l*d<e&&++l,u*d>t&&--u),u<l&&.5<=n&&n<2?vv(e,t,n*2):[l,u,d]}function E2(e,t,n){if(t=+t,e=+e,n=+n,!(n>0))return[];if(e===t)return[e];const r=t<e,[i,a,o]=r?vv(t,e,n):vv(e,t,n);if(!(a>=i))return[];const l=a-i+1,u=new Array(l);if(r)if(o<0)for(let d=0;d<l;++d)u[d]=(a-d)/-o;else for(let d=0;d<l;++d)u[d]=(a-d)*o;else if(o<0)for(let d=0;d<l;++d)u[d]=(i+d)/-o;else for(let d=0;d<l;++d)u[d]=(i+d)*o;return u}function j2(e,t,n){return t=+t,e=+e,n=+n,vv(e,t,n)[2]}function T2(e,t,n){t=+t,e=+e,n=+n;const r=t<e,i=r?j2(t,e,n):j2(e,t,n);return(r?-1:1)*(i<0?1/-i:i)}function HL(e,t){let n;for(const r of e)r!=null&&(n<r||n===void 0&&r>=r)&&(n=r);return n}function GL(e,t){let n;for(const r of e)r!=null&&(n>r||n===void 0&&r>=r)&&(n=r);return n}function gz(e,t,n=0,r=1/0,i){if(t=Math.floor(t),n=Math.floor(Math.max(0,n)),r=Math.floor(Math.min(e.length-1,r)),!(n<=t&&t<=r))return e;for(i=i===void 0?pz:_ye(i);r>n;){if(r-n>600){const u=r-n+1,d=t-n+1,h=Math.log(u),m=.5*Math.exp(2*h/3),b=.5*Math.sqrt(h*m*(u-m)/u)*(d-u/2<0?-1:1),y=Math.max(n,Math.floor(t-d*m/u+b)),k=Math.min(r,Math.floor(t+(u-d)*m/u+b));gz(e,t,y,k,i)}const a=e[t];let o=n,l=r;for(vm(e,n,t),i(e[r],a)>0&&vm(e,n,r);o<l;){for(vm(e,o,l),++o,--l;i(e[o],a)<0;)++o;for(;i(e[l],a)>0;)--l}i(e[n],a)===0?vm(e,n,l):(++l,vm(e,l,r)),l<=t&&(n=l+1),t<=l&&(r=l-1)}return e}function vm(e,t,n){const r=e[t];e[t]=e[n],e[n]=r}function jye(e,t,n){if(e=Float64Array.from(bye(e)),!(!(r=e.length)||isNaN(t=+t))){if(t<=0||r<2)return GL(e);if(t>=1)return HL(e);var r,i=(r-1)*t,a=Math.floor(i),o=HL(gz(e,a).subarray(0,a+1)),l=GL(e.subarray(a+1));return o+(l-o)*(i-a)}}function Tye(e,t,n=mz){if(!(!(r=e.length)||isNaN(t=+t))){if(t<=0||r<2)return+n(e[0],0,e);if(t>=1)return+n(e[r-1],r-1,e);var r,i=(r-1)*t,a=Math.floor(i),o=+n(e[a],a,e),l=+n(e[a+1],a+1,e);return o+(l-o)*(i-a)}}function Aye(e,t,n){e=+e,t=+t,n=(i=arguments.length)<2?(t=e,e=0,1):i<3?1:+n;for(var r=-1,i=Math.max(0,Math.ceil((t-e)/n))|0,a=new Array(i);++r<i;)a[r]=e+r*n;return a}function Pa(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}function Xs(e,t){switch(arguments.length){case 0:break;case 1:{typeof e=="function"?this.interpolator(e):this.range(e);break}default:{this.domain(e),typeof t=="function"?this.interpolator(t):this.range(t);break}}return this}const A2=Symbol("implicit");function KT(){var e=new UL,t=[],n=[],r=A2;function i(a){let o=e.get(a);if(o===void 0){if(r!==A2)return r;e.set(a,o=t.push(a)-1)}return n[o%n.length]}return i.domain=function(a){if(!arguments.length)return t.slice();t=[],e=new UL;for(const o of a)e.has(o)||e.set(o,t.push(o)-1);return i},i.range=function(a){return arguments.length?(n=Array.from(a),i):n.slice()},i.unknown=function(a){return arguments.length?(r=a,i):r},i.copy=function(){return KT(t,n).unknown(r)},Pa.apply(i,arguments),i}function WT(){var e=KT().unknown(void 0),t=e.domain,n=e.range,r=0,i=1,a,o,l=!1,u=0,d=0,h=.5;delete e.unknown;function m(){var b=t().length,y=i<r,k=y?i:r,w=y?r:i;a=(w-k)/Math.max(1,b-u+d*2),l&&(a=Math.floor(a)),k+=(w-k-a*(b-u))*h,o=a*(1-u),l&&(k=Math.round(k),o=Math.round(o));var _=Aye(b).map(function(j){return k+a*j});return n(y?_.reverse():_)}return e.domain=function(b){return arguments.length?(t(b),m()):t()},e.range=function(b){return arguments.length?([r,i]=b,r=+r,i=+i,m()):[r,i]},e.rangeRound=function(b){return[r,i]=b,r=+r,i=+i,l=!0,m()},e.bandwidth=function(){return o},e.step=function(){return a},e.round=function(b){return arguments.length?(l=!!b,m()):l},e.padding=function(b){return arguments.length?(u=Math.min(1,d=+b),m()):u},e.paddingInner=function(b){return arguments.length?(u=Math.min(1,b),m()):u},e.paddingOuter=function(b){return arguments.length?(d=+b,m()):d},e.align=function(b){return arguments.length?(h=Math.max(0,Math.min(1,b)),m()):h},e.copy=function(){return WT(t(),[r,i]).round(l).paddingInner(u).paddingOuter(d).align(h)},Pa.apply(m(),arguments)}function bz(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return bz(t())},e}function Nye(){return bz(WT.apply(null,arguments).paddingInner(1))}function VT(e,t,n){e.prototype=t.prototype=n,n.constructor=e}function yz(e,t){var n=Object.create(e.prototype);for(var r in t)n[r]=t[r];return n}function Jp(){}var vp=.7,xv=1/vp,lf="\\s*([+-]?\\d+)\\s*",xp="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Ho="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",Oye=/^#([0-9a-f]{3,8})$/,Cye=new RegExp(`^rgb\\(${lf},${lf},${lf}\\)$`),Mye=new RegExp(`^rgb\\(${Ho},${Ho},${Ho}\\)$`),Dye=new RegExp(`^rgba\\(${lf},${lf},${lf},${xp}\\)$`),Pye=new RegExp(`^rgba\\(${Ho},${Ho},${Ho},${xp}\\)$`),Rye=new RegExp(`^hsl\\(${xp},${Ho},${Ho}\\)$`),Lye=new RegExp(`^hsla\\(${xp},${Ho},${Ho},${xp}\\)$`),YL={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};VT(Jp,wp,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:qL,formatHex:qL,formatHex8:Iye,formatHsl:$ye,formatRgb:KL,toString:KL});function qL(){return this.rgb().formatHex()}function Iye(){return this.rgb().formatHex8()}function $ye(){return vz(this).formatHsl()}function KL(){return this.rgb().formatRgb()}function wp(e){var t,n;return e=(e+"").trim().toLowerCase(),(t=Oye.exec(e))?(n=t[1].length,t=parseInt(t[1],16),n===6?WL(t):n===3?new Si(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):n===8?Mb(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):n===4?Mb(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=Cye.exec(e))?new Si(t[1],t[2],t[3],1):(t=Mye.exec(e))?new Si(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=Dye.exec(e))?Mb(t[1],t[2],t[3],t[4]):(t=Pye.exec(e))?Mb(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=Rye.exec(e))?XL(t[1],t[2]/100,t[3]/100,1):(t=Lye.exec(e))?XL(t[1],t[2]/100,t[3]/100,t[4]):YL.hasOwnProperty(e)?WL(YL[e]):e==="transparent"?new Si(NaN,NaN,NaN,0):null}function WL(e){return new Si(e>>16&255,e>>8&255,e&255,1)}function Mb(e,t,n,r){return r<=0&&(e=t=n=NaN),new Si(e,t,n,r)}function Bye(e){return e instanceof Jp||(e=wp(e)),e?(e=e.rgb(),new Si(e.r,e.g,e.b,e.opacity)):new Si}function N2(e,t,n,r){return arguments.length===1?Bye(e):new Si(e,t,n,r??1)}function Si(e,t,n,r){this.r=+e,this.g=+t,this.b=+n,this.opacity=+r}VT(Si,N2,yz(Jp,{brighter(e){return e=e==null?xv:Math.pow(xv,e),new Si(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?vp:Math.pow(vp,e),new Si(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new Si(Eu(this.r),Eu(this.g),Eu(this.b),wv(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:VL,formatHex:VL,formatHex8:zye,formatRgb:ZL,toString:ZL}));function VL(){return`#${yu(this.r)}${yu(this.g)}${yu(this.b)}`}function zye(){return`#${yu(this.r)}${yu(this.g)}${yu(this.b)}${yu((isNaN(this.opacity)?1:this.opacity)*255)}`}function ZL(){const e=wv(this.opacity);return`${e===1?"rgb(":"rgba("}${Eu(this.r)}, ${Eu(this.g)}, ${Eu(this.b)}${e===1?")":`, ${e})`}`}function wv(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function Eu(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function yu(e){return e=Eu(e),(e<16?"0":"")+e.toString(16)}function XL(e,t,n,r){return r<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new to(e,t,n,r)}function vz(e){if(e instanceof to)return new to(e.h,e.s,e.l,e.opacity);if(e instanceof Jp||(e=wp(e)),!e)return new to;if(e instanceof to)return e;e=e.rgb();var t=e.r/255,n=e.g/255,r=e.b/255,i=Math.min(t,n,r),a=Math.max(t,n,r),o=NaN,l=a-i,u=(a+i)/2;return l?(t===a?o=(n-r)/l+(n<r)*6:n===a?o=(r-t)/l+2:o=(t-n)/l+4,l/=u<.5?a+i:2-a-i,o*=60):l=u>0&&u<1?0:o,new to(o,l,u,e.opacity)}function Uye(e,t,n,r){return arguments.length===1?vz(e):new to(e,t,n,r??1)}function to(e,t,n,r){this.h=+e,this.s=+t,this.l=+n,this.opacity=+r}VT(to,Uye,yz(Jp,{brighter(e){return e=e==null?xv:Math.pow(xv,e),new to(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?vp:Math.pow(vp,e),new to(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*t,i=2*n-r;return new Si(uk(e>=240?e-240:e+120,i,r),uk(e,i,r),uk(e<120?e+240:e-120,i,r),this.opacity)},clamp(){return new to(JL(this.h),Db(this.s),Db(this.l),wv(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=wv(this.opacity);return`${e===1?"hsl(":"hsla("}${JL(this.h)}, ${Db(this.s)*100}%, ${Db(this.l)*100}%${e===1?")":`, ${e})`}`}}));function JL(e){return e=(e||0)%360,e<0?e+360:e}function Db(e){return Math.max(0,Math.min(1,e||0))}function uk(e,t,n){return(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)*255}const ZT=e=>()=>e;function Fye(e,t){return function(n){return e+n*t}}function Hye(e,t,n){return e=Math.pow(e,n),t=Math.pow(t,n)-e,n=1/n,function(r){return Math.pow(e+r*t,n)}}function Gye(e){return(e=+e)==1?xz:function(t,n){return n-t?Hye(t,n,e):ZT(isNaN(t)?n:t)}}function xz(e,t){var n=t-e;return n?Fye(e,n):ZT(isNaN(e)?t:e)}const QL=(function e(t){var n=Gye(t);function r(i,a){var o=n((i=N2(i)).r,(a=N2(a)).r),l=n(i.g,a.g),u=n(i.b,a.b),d=xz(i.opacity,a.opacity);return function(h){return i.r=o(h),i.g=l(h),i.b=u(h),i.opacity=d(h),i+""}}return r.gamma=e,r})(1);function Yye(e,t){t||(t=[]);var n=e?Math.min(t.length,e.length):0,r=t.slice(),i;return function(a){for(i=0;i<n;++i)r[i]=e[i]*(1-a)+t[i]*a;return r}}function qye(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function Kye(e,t){var n=t?t.length:0,r=e?Math.min(n,e.length):0,i=new Array(r),a=new Array(n),o;for(o=0;o<r;++o)i[o]=Uf(e[o],t[o]);for(;o<n;++o)a[o]=t[o];return function(l){for(o=0;o<r;++o)a[o]=i[o](l);return a}}function Wye(e,t){var n=new Date;return e=+e,t=+t,function(r){return n.setTime(e*(1-r)+t*r),n}}function _v(e,t){return e=+e,t=+t,function(n){return e*(1-n)+t*n}}function Vye(e,t){var n={},r={},i;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(i in t)i in e?n[i]=Uf(e[i],t[i]):r[i]=t[i];return function(a){for(i in n)r[i]=n[i](a);return r}}var O2=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,dk=new RegExp(O2.source,"g");function Zye(e){return function(){return e}}function Xye(e){return function(t){return e(t)+""}}function Jye(e,t){var n=O2.lastIndex=dk.lastIndex=0,r,i,a,o=-1,l=[],u=[];for(e=e+"",t=t+"";(r=O2.exec(e))&&(i=dk.exec(t));)(a=i.index)>n&&(a=t.slice(n,a),l[o]?l[o]+=a:l[++o]=a),(r=r[0])===(i=i[0])?l[o]?l[o]+=i:l[++o]=i:(l[++o]=null,u.push({i:o,x:_v(r,i)})),n=dk.lastIndex;return n<t.length&&(a=t.slice(n),l[o]?l[o]+=a:l[++o]=a),l.length<2?u[0]?Xye(u[0].x):Zye(t):(t=u.length,function(d){for(var h=0,m;h<t;++h)l[(m=u[h]).i]=m.x(d);return l.join("")})}function Uf(e,t){var n=typeof t,r;return t==null||n==="boolean"?ZT(t):(n==="number"?_v:n==="string"?(r=wp(t))?(t=r,QL):Jye:t instanceof wp?QL:t instanceof Date?Wye:qye(t)?Yye:Array.isArray(t)?Kye:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?Vye:_v)(e,t)}function XT(e,t){return e=+e,t=+t,function(n){return Math.round(e*(1-n)+t*n)}}function Qye(e,t){t===void 0&&(t=e,e=Uf);for(var n=0,r=t.length-1,i=t[0],a=new Array(r<0?0:r);n<r;)a[n]=e(i,i=t[++n]);return function(o){var l=Math.max(0,Math.min(r-1,Math.floor(o*=r)));return a[l](o-l)}}function eve(e){return function(){return e}}function Sv(e){return+e}var eI=[0,1];function Qr(e){return e}function C2(e,t){return(t-=e=+e)?function(n){return(n-e)/t}:eve(isNaN(t)?NaN:.5)}function tve(e,t){var n;return e>t&&(n=e,e=t,t=n),function(r){return Math.max(e,Math.min(t,r))}}function nve(e,t,n){var r=e[0],i=e[1],a=t[0],o=t[1];return i<r?(r=C2(i,r),a=n(o,a)):(r=C2(r,i),a=n(a,o)),function(l){return a(r(l))}}function rve(e,t,n){var r=Math.min(e.length,t.length)-1,i=new Array(r),a=new Array(r),o=-1;for(e[r]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++o<r;)i[o]=C2(e[o],e[o+1]),a[o]=n(t[o],t[o+1]);return function(l){var u=Xp(e,l,1,r)-1;return a[u](i[u](l))}}function Qp(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function qx(){var e=eI,t=eI,n=Uf,r,i,a,o=Qr,l,u,d;function h(){var b=Math.min(e.length,t.length);return o!==Qr&&(o=tve(e[0],e[b-1])),l=b>2?rve:nve,u=d=null,m}function m(b){return b==null||isNaN(b=+b)?a:(u||(u=l(e.map(r),t,n)))(r(o(b)))}return m.invert=function(b){return o(i((d||(d=l(t,e.map(r),_v)))(b)))},m.domain=function(b){return arguments.length?(e=Array.from(b,Sv),h()):e.slice()},m.range=function(b){return arguments.length?(t=Array.from(b),h()):t.slice()},m.rangeRound=function(b){return t=Array.from(b),n=XT,h()},m.clamp=function(b){return arguments.length?(o=b?!0:Qr,h()):o!==Qr},m.interpolate=function(b){return arguments.length?(n=b,h()):n},m.unknown=function(b){return arguments.length?(a=b,m):a},function(b,y){return r=b,i=y,h()}}function JT(){return qx()(Qr,Qr)}function ive(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function kv(e,t){if((n=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var n,r=e.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+e.slice(n+1)]}function _f(e){return e=kv(Math.abs(e)),e?e[1]:NaN}function ave(e,t){return function(n,r){for(var i=n.length,a=[],o=0,l=e[0],u=0;i>0&&l>0&&(u+l+1>r&&(l=Math.max(1,r-u)),a.push(n.substring(i-=l,i+l)),!((u+=l+1)>r));)l=e[o=(o+1)%e.length];return a.reverse().join(t)}}function ove(e){return function(t){return t.replace(/[0-9]/g,function(n){return e[+n]})}}var sve=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function _p(e){if(!(t=sve.exec(e)))throw new Error("invalid format: "+e);var t;return new QT({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}_p.prototype=QT.prototype;function QT(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}QT.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function lve(e){e:for(var t=e.length,n=1,r=-1,i;n<t;++n)switch(e[n]){case".":r=i=n;break;case"0":r===0&&(r=n),i=n;break;default:if(!+e[n])break e;r>0&&(r=0);break}return r>0?e.slice(0,r)+e.slice(i+1):e}var wz;function cve(e,t){var n=kv(e,t);if(!n)return e+"";var r=n[0],i=n[1],a=i-(wz=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,o=r.length;return a===o?r:a>o?r+new Array(a-o+1).join("0"):a>0?r.slice(0,a)+"."+r.slice(a):"0."+new Array(1-a).join("0")+kv(e,Math.max(0,t+a-1))[0]}function tI(e,t){var n=kv(e,t);if(!n)return e+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}const nI={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:ive,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>tI(e*100,t),r:tI,s:cve,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function rI(e){return e}var iI=Array.prototype.map,aI=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function uve(e){var t=e.grouping===void 0||e.thousands===void 0?rI:ave(iI.call(e.grouping,Number),e.thousands+""),n=e.currency===void 0?"":e.currency[0]+"",r=e.currency===void 0?"":e.currency[1]+"",i=e.decimal===void 0?".":e.decimal+"",a=e.numerals===void 0?rI:ove(iI.call(e.numerals,String)),o=e.percent===void 0?"%":e.percent+"",l=e.minus===void 0?"":e.minus+"",u=e.nan===void 0?"NaN":e.nan+"";function d(m){m=_p(m);var b=m.fill,y=m.align,k=m.sign,w=m.symbol,_=m.zero,j=m.width,O=m.comma,T=m.precision,C=m.trim,M=m.type;M==="n"?(O=!0,M="g"):nI[M]||(T===void 0&&(T=12),C=!0,M="g"),(_||b==="0"&&y==="=")&&(_=!0,b="0",y="=");var P=w==="$"?n:w==="#"&&/[boxX]/.test(M)?"0"+M.toLowerCase():"",I=w==="$"?r:/[%p]/.test(M)?o:"",z=nI[M],K=/[defgprs%]/.test(M);T=T===void 0?6:/[gprs]/.test(M)?Math.max(1,Math.min(21,T)):Math.max(0,Math.min(20,T));function G(F){var B=P,q=I,X,Z,Y;if(M==="c")q=z(F)+q,F="";else{F=+F;var V=F<0||1/F<0;if(F=isNaN(F)?u:z(Math.abs(F),T),C&&(F=lve(F)),V&&+F==0&&k!=="+"&&(V=!1),B=(V?k==="("?k:l:k==="-"||k==="("?"":k)+B,q=(M==="s"?aI[8+wz/3]:"")+q+(V&&k==="("?")":""),K){for(X=-1,Z=F.length;++X<Z;)if(Y=F.charCodeAt(X),48>Y||Y>57){q=(Y===46?i+F.slice(X+1):F.slice(X))+q,F=F.slice(0,X);break}}}O&&!_&&(F=t(F,1/0));var Q=B.length+F.length+q.length,se=Q<j?new Array(j-Q+1).join(b):"";switch(O&&_&&(F=t(se+F,se.length?j-q.length:1/0),se=""),y){case"<":F=B+F+q+se;break;case"=":F=B+se+F+q;break;case"^":F=se.slice(0,Q=se.length>>1)+B+F+q+se.slice(Q);break;default:F=se+B+F+q;break}return a(F)}return G.toString=function(){return m+""},G}function h(m,b){var y=d((m=_p(m),m.type="f",m)),k=Math.max(-8,Math.min(8,Math.floor(_f(b)/3)))*3,w=Math.pow(10,-k),_=aI[8+k/3];return function(j){return y(w*j)+_}}return{format:d,formatPrefix:h}}var Pb,eA,_z;dve({thousands:",",grouping:[3],currency:["$",""]});function dve(e){return Pb=uve(e),eA=Pb.format,_z=Pb.formatPrefix,Pb}function fve(e){return Math.max(0,-_f(Math.abs(e)))}function hve(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(_f(t)/3)))*3-_f(Math.abs(e)))}function mve(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,_f(t)-_f(e))+1}function Sz(e,t,n,r){var i=T2(e,t,n),a;switch(r=_p(r??",f"),r.type){case"s":{var o=Math.max(Math.abs(e),Math.abs(t));return r.precision==null&&!isNaN(a=hve(i,o))&&(r.precision=a),_z(r,o)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(a=mve(i,Math.max(Math.abs(e),Math.abs(t))))&&(r.precision=a-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(a=fve(i))&&(r.precision=a-(r.type==="%")*2);break}}return eA(r)}function fc(e){var t=e.domain;return e.ticks=function(n){var r=t();return E2(r[0],r[r.length-1],n??10)},e.tickFormat=function(n,r){var i=t();return Sz(i[0],i[i.length-1],n??10,r)},e.nice=function(n){n==null&&(n=10);var r=t(),i=0,a=r.length-1,o=r[i],l=r[a],u,d,h=10;for(l<o&&(d=o,o=l,l=d,d=i,i=a,a=d);h-- >0;){if(d=j2(o,l,n),d===u)return r[i]=o,r[a]=l,t(r);if(d>0)o=Math.floor(o/d)*d,l=Math.ceil(l/d)*d;else if(d<0)o=Math.ceil(o*d)/d,l=Math.floor(l*d)/d;else break;u=d}return e},e}function kz(){var e=JT();return e.copy=function(){return Qp(e,kz())},Pa.apply(e,arguments),fc(e)}function Ez(e){var t;function n(r){return r==null||isNaN(r=+r)?t:r}return n.invert=n,n.domain=n.range=function(r){return arguments.length?(e=Array.from(r,Sv),n):e.slice()},n.unknown=function(r){return arguments.length?(t=r,n):t},n.copy=function(){return Ez(e).unknown(t)},e=arguments.length?Array.from(e,Sv):[0,1],fc(n)}function jz(e,t){e=e.slice();var n=0,r=e.length-1,i=e[n],a=e[r],o;return a<i&&(o=n,n=r,r=o,o=i,i=a,a=o),e[n]=t.floor(i),e[r]=t.ceil(a),e}function oI(e){return Math.log(e)}function sI(e){return Math.exp(e)}function pve(e){return-Math.log(-e)}function gve(e){return-Math.exp(-e)}function bve(e){return isFinite(e)?+("1e"+e):e<0?0:e}function yve(e){return e===10?bve:e===Math.E?Math.exp:t=>Math.pow(e,t)}function vve(e){return e===Math.E?Math.log:e===10&&Math.log10||e===2&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}function lI(e){return(t,n)=>-e(-t,n)}function tA(e){const t=e(oI,sI),n=t.domain;let r=10,i,a;function o(){return i=vve(r),a=yve(r),n()[0]<0?(i=lI(i),a=lI(a),e(pve,gve)):e(oI,sI),t}return t.base=function(l){return arguments.length?(r=+l,o()):r},t.domain=function(l){return arguments.length?(n(l),o()):n()},t.ticks=l=>{const u=n();let d=u[0],h=u[u.length-1];const m=h<d;m&&([d,h]=[h,d]);let b=i(d),y=i(h),k,w;const _=l==null?10:+l;let j=[];if(!(r%1)&&y-b<_){if(b=Math.floor(b),y=Math.ceil(y),d>0){for(;b<=y;++b)for(k=1;k<r;++k)if(w=b<0?k/a(-b):k*a(b),!(w<d)){if(w>h)break;j.push(w)}}else for(;b<=y;++b)for(k=r-1;k>=1;--k)if(w=b>0?k/a(-b):k*a(b),!(w<d)){if(w>h)break;j.push(w)}j.length*2<_&&(j=E2(d,h,_))}else j=E2(b,y,Math.min(y-b,_)).map(a);return m?j.reverse():j},t.tickFormat=(l,u)=>{if(l==null&&(l=10),u==null&&(u=r===10?"s":","),typeof u!="function"&&(!(r%1)&&(u=_p(u)).precision==null&&(u.trim=!0),u=eA(u)),l===1/0)return u;const d=Math.max(1,r*l/t.ticks().length);return h=>{let m=h/a(Math.round(i(h)));return m*r<r-.5&&(m*=r),m<=d?u(h):""}},t.nice=()=>n(jz(n(),{floor:l=>a(Math.floor(i(l))),ceil:l=>a(Math.ceil(i(l)))})),t}function Tz(){const e=tA(qx()).domain([1,10]);return e.copy=()=>Qp(e,Tz()).base(e.base()),Pa.apply(e,arguments),e}function cI(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function uI(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function nA(e){var t=1,n=e(cI(t),uI(t));return n.constant=function(r){return arguments.length?e(cI(t=+r),uI(t)):t},fc(n)}function Az(){var e=nA(qx());return e.copy=function(){return Qp(e,Az()).constant(e.constant())},Pa.apply(e,arguments)}function dI(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function xve(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function wve(e){return e<0?-e*e:e*e}function rA(e){var t=e(Qr,Qr),n=1;function r(){return n===1?e(Qr,Qr):n===.5?e(xve,wve):e(dI(n),dI(1/n))}return t.exponent=function(i){return arguments.length?(n=+i,r()):n},fc(t)}function iA(){var e=rA(qx());return e.copy=function(){return Qp(e,iA()).exponent(e.exponent())},Pa.apply(e,arguments),e}function _ve(){return iA.apply(null,arguments).exponent(.5)}function fI(e){return Math.sign(e)*e*e}function Sve(e){return Math.sign(e)*Math.sqrt(Math.abs(e))}function Nz(){var e=JT(),t=[0,1],n=!1,r;function i(a){var o=Sve(e(a));return isNaN(o)?r:n?Math.round(o):o}return i.invert=function(a){return e.invert(fI(a))},i.domain=function(a){return arguments.length?(e.domain(a),i):e.domain()},i.range=function(a){return arguments.length?(e.range((t=Array.from(a,Sv)).map(fI)),i):t.slice()},i.rangeRound=function(a){return i.range(a).round(!0)},i.round=function(a){return arguments.length?(n=!!a,i):n},i.clamp=function(a){return arguments.length?(e.clamp(a),i):e.clamp()},i.unknown=function(a){return arguments.length?(r=a,i):r},i.copy=function(){return Nz(e.domain(),t).round(n).clamp(e.clamp()).unknown(r)},Pa.apply(i,arguments),fc(i)}function Oz(){var e=[],t=[],n=[],r;function i(){var o=0,l=Math.max(1,t.length);for(n=new Array(l-1);++o<l;)n[o-1]=Tye(e,o/l);return a}function a(o){return o==null||isNaN(o=+o)?r:t[Xp(n,o)]}return a.invertExtent=function(o){var l=t.indexOf(o);return l<0?[NaN,NaN]:[l>0?n[l-1]:e[0],l<n.length?n[l]:e[e.length-1]]},a.domain=function(o){if(!arguments.length)return e.slice();e=[];for(let l of o)l!=null&&!isNaN(l=+l)&&e.push(l);return e.sort(ec),i()},a.range=function(o){return arguments.length?(t=Array.from(o),i()):t.slice()},a.unknown=function(o){return arguments.length?(r=o,a):r},a.quantiles=function(){return n.slice()},a.copy=function(){return Oz().domain(e).range(t).unknown(r)},Pa.apply(a,arguments)}function Cz(){var e=0,t=1,n=1,r=[.5],i=[0,1],a;function o(u){return u!=null&&u<=u?i[Xp(r,u,0,n)]:a}function l(){var u=-1;for(r=new Array(n);++u<n;)r[u]=((u+1)*t-(u-n)*e)/(n+1);return o}return o.domain=function(u){return arguments.length?([e,t]=u,e=+e,t=+t,l()):[e,t]},o.range=function(u){return arguments.length?(n=(i=Array.from(u)).length-1,l()):i.slice()},o.invertExtent=function(u){var d=i.indexOf(u);return d<0?[NaN,NaN]:d<1?[e,r[0]]:d>=n?[r[n-1],t]:[r[d-1],r[d]]},o.unknown=function(u){return arguments.length&&(a=u),o},o.thresholds=function(){return r.slice()},o.copy=function(){return Cz().domain([e,t]).range(i).unknown(a)},Pa.apply(fc(o),arguments)}function Mz(){var e=[.5],t=[0,1],n,r=1;function i(a){return a!=null&&a<=a?t[Xp(e,a,0,r)]:n}return i.domain=function(a){return arguments.length?(e=Array.from(a),r=Math.min(e.length,t.length-1),i):e.slice()},i.range=function(a){return arguments.length?(t=Array.from(a),r=Math.min(e.length,t.length-1),i):t.slice()},i.invertExtent=function(a){var o=t.indexOf(a);return[e[o-1],e[o]]},i.unknown=function(a){return arguments.length?(n=a,i):n},i.copy=function(){return Mz().domain(e).range(t).unknown(n)},Pa.apply(i,arguments)}const fk=new Date,hk=new Date;function or(e,t,n,r){function i(a){return e(a=arguments.length===0?new Date:new Date(+a)),a}return i.floor=a=>(e(a=new Date(+a)),a),i.ceil=a=>(e(a=new Date(a-1)),t(a,1),e(a),a),i.round=a=>{const o=i(a),l=i.ceil(a);return a-o<l-a?o:l},i.offset=(a,o)=>(t(a=new Date(+a),o==null?1:Math.floor(o)),a),i.range=(a,o,l)=>{const u=[];if(a=i.ceil(a),l=l==null?1:Math.floor(l),!(a<o)||!(l>0))return u;let d;do u.push(d=new Date(+a)),t(a,l),e(a);while(d<a&&a<o);return u},i.filter=a=>or(o=>{if(o>=o)for(;e(o),!a(o);)o.setTime(o-1)},(o,l)=>{if(o>=o)if(l<0)for(;++l<=0;)for(;t(o,-1),!a(o););else for(;--l>=0;)for(;t(o,1),!a(o););}),n&&(i.count=(a,o)=>(fk.setTime(+a),hk.setTime(+o),e(fk),e(hk),Math.floor(n(fk,hk))),i.every=a=>(a=Math.floor(a),!isFinite(a)||!(a>0)?null:a>1?i.filter(r?o=>r(o)%a===0:o=>i.count(0,o)%a===0):i)),i}const Ev=or(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);Ev.every=e=>(e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?or(t=>{t.setTime(Math.floor(t/e)*e)},(t,n)=>{t.setTime(+t+n*e)},(t,n)=>(n-t)/e):Ev);Ev.range;const Os=1e3,ka=Os*60,Cs=ka*60,Us=Cs*24,aA=Us*7,hI=Us*30,mk=Us*365,vu=or(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*Os)},(e,t)=>(t-e)/Os,e=>e.getUTCSeconds());vu.range;const oA=or(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*Os)},(e,t)=>{e.setTime(+e+t*ka)},(e,t)=>(t-e)/ka,e=>e.getMinutes());oA.range;const sA=or(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*ka)},(e,t)=>(t-e)/ka,e=>e.getUTCMinutes());sA.range;const lA=or(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*Os-e.getMinutes()*ka)},(e,t)=>{e.setTime(+e+t*Cs)},(e,t)=>(t-e)/Cs,e=>e.getHours());lA.range;const cA=or(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*Cs)},(e,t)=>(t-e)/Cs,e=>e.getUTCHours());cA.range;const e0=or(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*ka)/Us,e=>e.getDate()-1);e0.range;const Kx=or(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/Us,e=>e.getUTCDate()-1);Kx.range;const Dz=or(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/Us,e=>Math.floor(e/Us));Dz.range;function $u(e){return or(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(t,n)=>{t.setDate(t.getDate()+n*7)},(t,n)=>(n-t-(n.getTimezoneOffset()-t.getTimezoneOffset())*ka)/aA)}const Wx=$u(0),jv=$u(1),kve=$u(2),Eve=$u(3),Sf=$u(4),jve=$u(5),Tve=$u(6);Wx.range;jv.range;kve.range;Eve.range;Sf.range;jve.range;Tve.range;function Bu(e){return or(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(t,n)=>{t.setUTCDate(t.getUTCDate()+n*7)},(t,n)=>(n-t)/aA)}const Vx=Bu(0),Tv=Bu(1),Ave=Bu(2),Nve=Bu(3),kf=Bu(4),Ove=Bu(5),Cve=Bu(6);Vx.range;Tv.range;Ave.range;Nve.range;kf.range;Ove.range;Cve.range;const uA=or(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+(t.getFullYear()-e.getFullYear())*12,e=>e.getMonth());uA.range;const dA=or(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+(t.getUTCFullYear()-e.getUTCFullYear())*12,e=>e.getUTCMonth());dA.range;const Fs=or(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear());Fs.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:or(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,n)=>{t.setFullYear(t.getFullYear()+n*e)});Fs.range;const Hs=or(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());Hs.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:or(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,n)=>{t.setUTCFullYear(t.getUTCFullYear()+n*e)});Hs.range;function Pz(e,t,n,r,i,a){const o=[[vu,1,Os],[vu,5,5*Os],[vu,15,15*Os],[vu,30,30*Os],[a,1,ka],[a,5,5*ka],[a,15,15*ka],[a,30,30*ka],[i,1,Cs],[i,3,3*Cs],[i,6,6*Cs],[i,12,12*Cs],[r,1,Us],[r,2,2*Us],[n,1,aA],[t,1,hI],[t,3,3*hI],[e,1,mk]];function l(d,h,m){const b=h<d;b&&([d,h]=[h,d]);const y=m&&typeof m.range=="function"?m:u(d,h,m),k=y?y.range(d,+h+1):[];return b?k.reverse():k}function u(d,h,m){const b=Math.abs(h-d)/m,y=qT(([,,_])=>_).right(o,b);if(y===o.length)return e.every(T2(d/mk,h/mk,m));if(y===0)return Ev.every(Math.max(T2(d,h,m),1));const[k,w]=o[b/o[y-1][2]<o[y][2]/b?y-1:y];return k.every(w)}return[l,u]}const[Mve,Dve]=Pz(Hs,dA,Vx,Dz,cA,sA),[Pve,Rve]=Pz(Fs,uA,Wx,e0,lA,oA);function pk(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function gk(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function xm(e,t,n){return{y:e,m:t,d:n,H:0,M:0,S:0,L:0}}function Lve(e){var t=e.dateTime,n=e.date,r=e.time,i=e.periods,a=e.days,o=e.shortDays,l=e.months,u=e.shortMonths,d=wm(i),h=_m(i),m=wm(a),b=_m(a),y=wm(o),k=_m(o),w=wm(l),_=_m(l),j=wm(u),O=_m(u),T={a:V,A:Q,b:se,B:ce,c:null,d:vI,e:vI,f:axe,g:pxe,G:bxe,H:nxe,I:rxe,j:ixe,L:Rz,m:oxe,M:sxe,p:W,q:ne,Q:_I,s:SI,S:lxe,u:cxe,U:uxe,V:dxe,w:fxe,W:hxe,x:null,X:null,y:mxe,Y:gxe,Z:yxe,"%":wI},C={a:ie,A:he,b:J,B:ae,c:null,d:xI,e:xI,f:_xe,g:Mxe,G:Pxe,H:vxe,I:xxe,j:wxe,L:Iz,m:Sxe,M:kxe,p:pe,q:me,Q:_I,s:SI,S:Exe,u:jxe,U:Txe,V:Axe,w:Nxe,W:Oxe,x:null,X:null,y:Cxe,Y:Dxe,Z:Rxe,"%":wI},M={a:G,A:F,b:B,B:q,c:X,d:bI,e:bI,f:Jve,g:gI,G:pI,H:yI,I:yI,j:Wve,L:Xve,m:Kve,M:Vve,p:K,q:qve,Q:exe,s:txe,S:Zve,u:Uve,U:Fve,V:Hve,w:zve,W:Gve,x:Z,X:Y,y:gI,Y:pI,Z:Yve,"%":Qve};T.x=P(n,T),T.X=P(r,T),T.c=P(t,T),C.x=P(n,C),C.X=P(r,C),C.c=P(t,C);function P(ee,je){return function(xe){var ue=[],Ee=-1,Me=0,Ie=ee.length,Ke,ht,mt;for(xe instanceof Date||(xe=new Date(+xe));++Ee<Ie;)ee.charCodeAt(Ee)===37&&(ue.push(ee.slice(Me,Ee)),(ht=mI[Ke=ee.charAt(++Ee)])!=null?Ke=ee.charAt(++Ee):ht=Ke==="e"?" ":"0",(mt=je[Ke])&&(Ke=mt(xe,ht)),ue.push(Ke),Me=Ee+1);return ue.push(ee.slice(Me,Ee)),ue.join("")}}function I(ee,je){return function(xe){var ue=xm(1900,void 0,1),Ee=z(ue,ee,xe+="",0),Me,Ie;if(Ee!=xe.length)return null;if("Q"in ue)return new Date(ue.Q);if("s"in ue)return new Date(ue.s*1e3+("L"in ue?ue.L:0));if(je&&!("Z"in ue)&&(ue.Z=0),"p"in ue&&(ue.H=ue.H%12+ue.p*12),ue.m===void 0&&(ue.m="q"in ue?ue.q:0),"V"in ue){if(ue.V<1||ue.V>53)return null;"w"in ue||(ue.w=1),"Z"in ue?(Me=gk(xm(ue.y,0,1)),Ie=Me.getUTCDay(),Me=Ie>4||Ie===0?Tv.ceil(Me):Tv(Me),Me=Kx.offset(Me,(ue.V-1)*7),ue.y=Me.getUTCFullYear(),ue.m=Me.getUTCMonth(),ue.d=Me.getUTCDate()+(ue.w+6)%7):(Me=pk(xm(ue.y,0,1)),Ie=Me.getDay(),Me=Ie>4||Ie===0?jv.ceil(Me):jv(Me),Me=e0.offset(Me,(ue.V-1)*7),ue.y=Me.getFullYear(),ue.m=Me.getMonth(),ue.d=Me.getDate()+(ue.w+6)%7)}else("W"in ue||"U"in ue)&&("w"in ue||(ue.w="u"in ue?ue.u%7:"W"in ue?1:0),Ie="Z"in ue?gk(xm(ue.y,0,1)).getUTCDay():pk(xm(ue.y,0,1)).getDay(),ue.m=0,ue.d="W"in ue?(ue.w+6)%7+ue.W*7-(Ie+5)%7:ue.w+ue.U*7-(Ie+6)%7);return"Z"in ue?(ue.H+=ue.Z/100|0,ue.M+=ue.Z%100,gk(ue)):pk(ue)}}function z(ee,je,xe,ue){for(var Ee=0,Me=je.length,Ie=xe.length,Ke,ht;Ee<Me;){if(ue>=Ie)return-1;if(Ke=je.charCodeAt(Ee++),Ke===37){if(Ke=je.charAt(Ee++),ht=M[Ke in mI?je.charAt(Ee++):Ke],!ht||(ue=ht(ee,xe,ue))<0)return-1}else if(Ke!=xe.charCodeAt(ue++))return-1}return ue}function K(ee,je,xe){var ue=d.exec(je.slice(xe));return ue?(ee.p=h.get(ue[0].toLowerCase()),xe+ue[0].length):-1}function G(ee,je,xe){var ue=y.exec(je.slice(xe));return ue?(ee.w=k.get(ue[0].toLowerCase()),xe+ue[0].length):-1}function F(ee,je,xe){var ue=m.exec(je.slice(xe));return ue?(ee.w=b.get(ue[0].toLowerCase()),xe+ue[0].length):-1}function B(ee,je,xe){var ue=j.exec(je.slice(xe));return ue?(ee.m=O.get(ue[0].toLowerCase()),xe+ue[0].length):-1}function q(ee,je,xe){var ue=w.exec(je.slice(xe));return ue?(ee.m=_.get(ue[0].toLowerCase()),xe+ue[0].length):-1}function X(ee,je,xe){return z(ee,t,je,xe)}function Z(ee,je,xe){return z(ee,n,je,xe)}function Y(ee,je,xe){return z(ee,r,je,xe)}function V(ee){return o[ee.getDay()]}function Q(ee){return a[ee.getDay()]}function se(ee){return u[ee.getMonth()]}function ce(ee){return l[ee.getMonth()]}function W(ee){return i[+(ee.getHours()>=12)]}function ne(ee){return 1+~~(ee.getMonth()/3)}function ie(ee){return o[ee.getUTCDay()]}function he(ee){return a[ee.getUTCDay()]}function J(ee){return u[ee.getUTCMonth()]}function ae(ee){return l[ee.getUTCMonth()]}function pe(ee){return i[+(ee.getUTCHours()>=12)]}function me(ee){return 1+~~(ee.getUTCMonth()/3)}return{format:function(ee){var je=P(ee+="",T);return je.toString=function(){return ee},je},parse:function(ee){var je=I(ee+="",!1);return je.toString=function(){return ee},je},utcFormat:function(ee){var je=P(ee+="",C);return je.toString=function(){return ee},je},utcParse:function(ee){var je=I(ee+="",!0);return je.toString=function(){return ee},je}}}var mI={"-":"",_:" ",0:"0"},kr=/^\s*\d+/,Ive=/^%/,$ve=/[\\^$*+?|[\]().{}]/g;function It(e,t,n){var r=e<0?"-":"",i=(r?-e:e)+"",a=i.length;return r+(a<n?new Array(n-a+1).join(t)+i:i)}function Bve(e){return e.replace($ve,"\\$&")}function wm(e){return new RegExp("^(?:"+e.map(Bve).join("|")+")","i")}function _m(e){return new Map(e.map((t,n)=>[t.toLowerCase(),n]))}function zve(e,t,n){var r=kr.exec(t.slice(n,n+1));return r?(e.w=+r[0],n+r[0].length):-1}function Uve(e,t,n){var r=kr.exec(t.slice(n,n+1));return r?(e.u=+r[0],n+r[0].length):-1}function Fve(e,t,n){var r=kr.exec(t.slice(n,n+2));return r?(e.U=+r[0],n+r[0].length):-1}function Hve(e,t,n){var r=kr.exec(t.slice(n,n+2));return r?(e.V=+r[0],n+r[0].length):-1}function Gve(e,t,n){var r=kr.exec(t.slice(n,n+2));return r?(e.W=+r[0],n+r[0].length):-1}function pI(e,t,n){var r=kr.exec(t.slice(n,n+4));return r?(e.y=+r[0],n+r[0].length):-1}function gI(e,t,n){var r=kr.exec(t.slice(n,n+2));return r?(e.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function Yve(e,t,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(n,n+6));return r?(e.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function qve(e,t,n){var r=kr.exec(t.slice(n,n+1));return r?(e.q=r[0]*3-3,n+r[0].length):-1}function Kve(e,t,n){var r=kr.exec(t.slice(n,n+2));return r?(e.m=r[0]-1,n+r[0].length):-1}function bI(e,t,n){var r=kr.exec(t.slice(n,n+2));return r?(e.d=+r[0],n+r[0].length):-1}function Wve(e,t,n){var r=kr.exec(t.slice(n,n+3));return r?(e.m=0,e.d=+r[0],n+r[0].length):-1}function yI(e,t,n){var r=kr.exec(t.slice(n,n+2));return r?(e.H=+r[0],n+r[0].length):-1}function Vve(e,t,n){var r=kr.exec(t.slice(n,n+2));return r?(e.M=+r[0],n+r[0].length):-1}function Zve(e,t,n){var r=kr.exec(t.slice(n,n+2));return r?(e.S=+r[0],n+r[0].length):-1}function Xve(e,t,n){var r=kr.exec(t.slice(n,n+3));return r?(e.L=+r[0],n+r[0].length):-1}function Jve(e,t,n){var r=kr.exec(t.slice(n,n+6));return r?(e.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function Qve(e,t,n){var r=Ive.exec(t.slice(n,n+1));return r?n+r[0].length:-1}function exe(e,t,n){var r=kr.exec(t.slice(n));return r?(e.Q=+r[0],n+r[0].length):-1}function txe(e,t,n){var r=kr.exec(t.slice(n));return r?(e.s=+r[0],n+r[0].length):-1}function vI(e,t){return It(e.getDate(),t,2)}function nxe(e,t){return It(e.getHours(),t,2)}function rxe(e,t){return It(e.getHours()%12||12,t,2)}function ixe(e,t){return It(1+e0.count(Fs(e),e),t,3)}function Rz(e,t){return It(e.getMilliseconds(),t,3)}function axe(e,t){return Rz(e,t)+"000"}function oxe(e,t){return It(e.getMonth()+1,t,2)}function sxe(e,t){return It(e.getMinutes(),t,2)}function lxe(e,t){return It(e.getSeconds(),t,2)}function cxe(e){var t=e.getDay();return t===0?7:t}function uxe(e,t){return It(Wx.count(Fs(e)-1,e),t,2)}function Lz(e){var t=e.getDay();return t>=4||t===0?Sf(e):Sf.ceil(e)}function dxe(e,t){return e=Lz(e),It(Sf.count(Fs(e),e)+(Fs(e).getDay()===4),t,2)}function fxe(e){return e.getDay()}function hxe(e,t){return It(jv.count(Fs(e)-1,e),t,2)}function mxe(e,t){return It(e.getFullYear()%100,t,2)}function pxe(e,t){return e=Lz(e),It(e.getFullYear()%100,t,2)}function gxe(e,t){return It(e.getFullYear()%1e4,t,4)}function bxe(e,t){var n=e.getDay();return e=n>=4||n===0?Sf(e):Sf.ceil(e),It(e.getFullYear()%1e4,t,4)}function yxe(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+It(t/60|0,"0",2)+It(t%60,"0",2)}function xI(e,t){return It(e.getUTCDate(),t,2)}function vxe(e,t){return It(e.getUTCHours(),t,2)}function xxe(e,t){return It(e.getUTCHours()%12||12,t,2)}function wxe(e,t){return It(1+Kx.count(Hs(e),e),t,3)}function Iz(e,t){return It(e.getUTCMilliseconds(),t,3)}function _xe(e,t){return Iz(e,t)+"000"}function Sxe(e,t){return It(e.getUTCMonth()+1,t,2)}function kxe(e,t){return It(e.getUTCMinutes(),t,2)}function Exe(e,t){return It(e.getUTCSeconds(),t,2)}function jxe(e){var t=e.getUTCDay();return t===0?7:t}function Txe(e,t){return It(Vx.count(Hs(e)-1,e),t,2)}function $z(e){var t=e.getUTCDay();return t>=4||t===0?kf(e):kf.ceil(e)}function Axe(e,t){return e=$z(e),It(kf.count(Hs(e),e)+(Hs(e).getUTCDay()===4),t,2)}function Nxe(e){return e.getUTCDay()}function Oxe(e,t){return It(Tv.count(Hs(e)-1,e),t,2)}function Cxe(e,t){return It(e.getUTCFullYear()%100,t,2)}function Mxe(e,t){return e=$z(e),It(e.getUTCFullYear()%100,t,2)}function Dxe(e,t){return It(e.getUTCFullYear()%1e4,t,4)}function Pxe(e,t){var n=e.getUTCDay();return e=n>=4||n===0?kf(e):kf.ceil(e),It(e.getUTCFullYear()%1e4,t,4)}function Rxe(){return"+0000"}function wI(){return"%"}function _I(e){return+e}function SI(e){return Math.floor(+e/1e3)}var Id,Bz,zz;Lxe({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function Lxe(e){return Id=Lve(e),Bz=Id.format,Id.parse,zz=Id.utcFormat,Id.utcParse,Id}function Ixe(e){return new Date(e)}function $xe(e){return e instanceof Date?+e:+new Date(+e)}function fA(e,t,n,r,i,a,o,l,u,d){var h=JT(),m=h.invert,b=h.domain,y=d(".%L"),k=d(":%S"),w=d("%I:%M"),_=d("%I %p"),j=d("%a %d"),O=d("%b %d"),T=d("%B"),C=d("%Y");function M(P){return(u(P)<P?y:l(P)<P?k:o(P)<P?w:a(P)<P?_:r(P)<P?i(P)<P?j:O:n(P)<P?T:C)(P)}return h.invert=function(P){return new Date(m(P))},h.domain=function(P){return arguments.length?b(Array.from(P,$xe)):b().map(Ixe)},h.ticks=function(P){var I=b();return e(I[0],I[I.length-1],P??10)},h.tickFormat=function(P,I){return I==null?M:d(I)},h.nice=function(P){var I=b();return(!P||typeof P.range!="function")&&(P=t(I[0],I[I.length-1],P??10)),P?b(jz(I,P)):h},h.copy=function(){return Qp(h,fA(e,t,n,r,i,a,o,l,u,d))},h}function Bxe(){return Pa.apply(fA(Pve,Rve,Fs,uA,Wx,e0,lA,oA,vu,Bz).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function zxe(){return Pa.apply(fA(Mve,Dve,Hs,dA,Vx,Kx,cA,sA,vu,zz).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function Zx(){var e=0,t=1,n,r,i,a,o=Qr,l=!1,u;function d(m){return m==null||isNaN(m=+m)?u:o(i===0?.5:(m=(a(m)-n)*i,l?Math.max(0,Math.min(1,m)):m))}d.domain=function(m){return arguments.length?([e,t]=m,n=a(e=+e),r=a(t=+t),i=n===r?0:1/(r-n),d):[e,t]},d.clamp=function(m){return arguments.length?(l=!!m,d):l},d.interpolator=function(m){return arguments.length?(o=m,d):o};function h(m){return function(b){var y,k;return arguments.length?([y,k]=b,o=m(y,k),d):[o(0),o(1)]}}return d.range=h(Uf),d.rangeRound=h(XT),d.unknown=function(m){return arguments.length?(u=m,d):u},function(m){return a=m,n=m(e),r=m(t),i=n===r?0:1/(r-n),d}}function hc(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function Uz(){var e=fc(Zx()(Qr));return e.copy=function(){return hc(e,Uz())},Xs.apply(e,arguments)}function Fz(){var e=tA(Zx()).domain([1,10]);return e.copy=function(){return hc(e,Fz()).base(e.base())},Xs.apply(e,arguments)}function Hz(){var e=nA(Zx());return e.copy=function(){return hc(e,Hz()).constant(e.constant())},Xs.apply(e,arguments)}function hA(){var e=rA(Zx());return e.copy=function(){return hc(e,hA()).exponent(e.exponent())},Xs.apply(e,arguments)}function Uxe(){return hA.apply(null,arguments).exponent(.5)}function Gz(){var e=[],t=Qr;function n(r){if(r!=null&&!isNaN(r=+r))return t((Xp(e,r,1)-1)/(e.length-1))}return n.domain=function(r){if(!arguments.length)return e.slice();e=[];for(let i of r)i!=null&&!isNaN(i=+i)&&e.push(i);return e.sort(ec),n},n.interpolator=function(r){return arguments.length?(t=r,n):t},n.range=function(){return e.map((r,i)=>t(i/(e.length-1)))},n.quantiles=function(r){return Array.from({length:r+1},(i,a)=>jye(e,a/r))},n.copy=function(){return Gz(t).domain(e)},Xs.apply(n,arguments)}function Xx(){var e=0,t=.5,n=1,r=1,i,a,o,l,u,d=Qr,h,m=!1,b;function y(w){return isNaN(w=+w)?b:(w=.5+((w=+h(w))-a)*(r*w<r*a?l:u),d(m?Math.max(0,Math.min(1,w)):w))}y.domain=function(w){return arguments.length?([e,t,n]=w,i=h(e=+e),a=h(t=+t),o=h(n=+n),l=i===a?0:.5/(a-i),u=a===o?0:.5/(o-a),r=a<i?-1:1,y):[e,t,n]},y.clamp=function(w){return arguments.length?(m=!!w,y):m},y.interpolator=function(w){return arguments.length?(d=w,y):d};function k(w){return function(_){var j,O,T;return arguments.length?([j,O,T]=_,d=Qye(w,[j,O,T]),y):[d(0),d(.5),d(1)]}}return y.range=k(Uf),y.rangeRound=k(XT),y.unknown=function(w){return arguments.length?(b=w,y):b},function(w){return h=w,i=w(e),a=w(t),o=w(n),l=i===a?0:.5/(a-i),u=a===o?0:.5/(o-a),r=a<i?-1:1,y}}function Yz(){var e=fc(Xx()(Qr));return e.copy=function(){return hc(e,Yz())},Xs.apply(e,arguments)}function qz(){var e=tA(Xx()).domain([.1,1,10]);return e.copy=function(){return hc(e,qz()).base(e.base())},Xs.apply(e,arguments)}function Kz(){var e=nA(Xx());return e.copy=function(){return hc(e,Kz()).constant(e.constant())},Xs.apply(e,arguments)}function mA(){var e=rA(Xx());return e.copy=function(){return hc(e,mA()).exponent(e.exponent())},Xs.apply(e,arguments)}function Fxe(){return mA.apply(null,arguments).exponent(.5)}const Mm=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:WT,scaleDiverging:Yz,scaleDivergingLog:qz,scaleDivergingPow:mA,scaleDivergingSqrt:Fxe,scaleDivergingSymlog:Kz,scaleIdentity:Ez,scaleImplicit:A2,scaleLinear:kz,scaleLog:Tz,scaleOrdinal:KT,scalePoint:Nye,scalePow:iA,scaleQuantile:Oz,scaleQuantize:Cz,scaleRadial:Nz,scaleSequential:Uz,scaleSequentialLog:Fz,scaleSequentialPow:hA,scaleSequentialQuantile:Gz,scaleSequentialSqrt:Uxe,scaleSequentialSymlog:Hz,scaleSqrt:_ve,scaleSymlog:Az,scaleThreshold:Mz,scaleTime:Bxe,scaleUtc:zxe,tickFormat:Sz},Symbol.toStringTag,{value:"Module"}));var mc=e=>e.chartData,Hxe=_e([mc],e=>{var t=e.chartData!=null?e.chartData.length-1:0;return{chartData:e.chartData,computedData:e.computedData,dataEndIndex:t,dataStartIndex:0}}),pA=(e,t,n,r)=>r?Hxe(e):mc(e);function lc(e){if(Array.isArray(e)&&e.length===2){var[t,n]=e;if(Pn(t)&&Pn(n))return!0}return!1}function kI(e,t,n){return n?e:[Math.min(e[0],t[0]),Math.max(e[1],t[1])]}function Wz(e,t){if(t&&typeof e!="function"&&Array.isArray(e)&&e.length===2){var[n,r]=e,i,a;if(Pn(n))i=n;else if(typeof n=="function")return;if(Pn(r))a=r;else if(typeof r=="function")return;var o=[i,a];if(lc(o))return o}}function Gxe(e,t,n){if(!(!n&&t==null)){if(typeof e=="function"&&t!=null)try{var r=e(t,n);if(lc(r))return kI(r,t,n)}catch{}if(Array.isArray(e)&&e.length===2){var[i,a]=e,o,l;if(i==="auto")t!=null&&(o=Math.min(...t));else if(tt(i))o=i;else if(typeof i=="function")try{t!=null&&(o=i(t?.[0]))}catch{}else if(typeof i=="string"&&eL.test(i)){var u=eL.exec(i);if(u==null||t==null)o=void 0;else{var d=+u[1];o=t[0]-d}}else o=t?.[0];if(a==="auto")t!=null&&(l=Math.max(...t));else if(tt(a))l=a;else if(typeof a=="function")try{t!=null&&(l=a(t?.[1]))}catch{}else if(typeof a=="string"&&tL.test(a)){var h=tL.exec(a);if(h==null||t==null)l=void 0;else{var m=+h[1];l=t[1]+m}}else l=t?.[1];var b=[o,l];if(lc(b))return t==null?b:kI(b,t,n)}}}var Ff=1e9,Yxe={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},bA,xn=!0,Oa="[DecimalError] ",ju=Oa+"Invalid argument: ",gA=Oa+"Exponent out of range: ",Hf=Math.floor,du=Math.pow,qxe=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,Yi,vr=1e7,dn=7,Vz=9007199254740991,Av=Hf(Vz/dn),He={};He.absoluteValue=He.abs=function(){var e=new this.constructor(this);return e.s&&(e.s=1),e};He.comparedTo=He.cmp=function(e){var t,n,r,i,a=this;if(e=new a.constructor(e),a.s!==e.s)return a.s||-e.s;if(a.e!==e.e)return a.e>e.e^a.s<0?1:-1;for(r=a.d.length,i=e.d.length,t=0,n=r<i?r:i;t<n;++t)if(a.d[t]!==e.d[t])return a.d[t]>e.d[t]^a.s<0?1:-1;return r===i?0:r>i^a.s<0?1:-1};He.decimalPlaces=He.dp=function(){var e=this,t=e.d.length-1,n=(t-e.e)*dn;if(t=e.d[t],t)for(;t%10==0;t/=10)n--;return n<0?0:n};He.dividedBy=He.div=function(e){return Ps(this,new this.constructor(e))};He.dividedToIntegerBy=He.idiv=function(e){var t=this,n=t.constructor;return tn(Ps(t,new n(e),0,1),n.precision)};He.equals=He.eq=function(e){return!this.cmp(e)};He.exponent=function(){return Qn(this)};He.greaterThan=He.gt=function(e){return this.cmp(e)>0};He.greaterThanOrEqualTo=He.gte=function(e){return this.cmp(e)>=0};He.isInteger=He.isint=function(){return this.e>this.d.length-2};He.isNegative=He.isneg=function(){return this.s<0};He.isPositive=He.ispos=function(){return this.s>0};He.isZero=function(){return this.s===0};He.lessThan=He.lt=function(e){return this.cmp(e)<0};He.lessThanOrEqualTo=He.lte=function(e){return this.cmp(e)<1};He.logarithm=He.log=function(e){var t,n=this,r=n.constructor,i=r.precision,a=i+5;if(e===void 0)e=new r(10);else if(e=new r(e),e.s<1||e.eq(Yi))throw Error(Oa+"NaN");if(n.s<1)throw Error(Oa+(n.s?"NaN":"-Infinity"));return n.eq(Yi)?new r(0):(xn=!1,t=Ps(Sp(n,a),Sp(e,a),a),xn=!0,tn(t,i))};He.minus=He.sub=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?Jz(t,e):Zz(t,(e.s=-e.s,e))};He.modulo=He.mod=function(e){var t,n=this,r=n.constructor,i=r.precision;if(e=new r(e),!e.s)throw Error(Oa+"NaN");return n.s?(xn=!1,t=Ps(n,e,0,1).times(e),xn=!0,n.minus(t)):tn(new r(n),i)};He.naturalExponential=He.exp=function(){return Xz(this)};He.naturalLogarithm=He.ln=function(){return Sp(this)};He.negated=He.neg=function(){var e=new this.constructor(this);return e.s=-e.s||0,e};He.plus=He.add=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?Zz(t,e):Jz(t,(e.s=-e.s,e))};He.precision=He.sd=function(e){var t,n,r,i=this;if(e!==void 0&&e!==!!e&&e!==1&&e!==0)throw Error(ju+e);if(t=Qn(i)+1,r=i.d.length-1,n=r*dn+1,r=i.d[r],r){for(;r%10==0;r/=10)n--;for(r=i.d[0];r>=10;r/=10)n++}return e&&t>n?t:n};He.squareRoot=He.sqrt=function(){var e,t,n,r,i,a,o,l=this,u=l.constructor;if(l.s<1){if(!l.s)return new u(0);throw Error(Oa+"NaN")}for(e=Qn(l),xn=!1,i=Math.sqrt(+l),i==0||i==1/0?(t=zo(l.d),(t.length+e)%2==0&&(t+="0"),i=Math.sqrt(t),e=Hf((e+1)/2)-(e<0||e%2),i==1/0?t="5e"+e:(t=i.toExponential(),t=t.slice(0,t.indexOf("e")+1)+e),r=new u(t)):r=new u(i.toString()),n=u.precision,i=o=n+3;;)if(a=r,r=a.plus(Ps(l,a,o+2)).times(.5),zo(a.d).slice(0,o)===(t=zo(r.d)).slice(0,o)){if(t=t.slice(o-3,o+1),i==o&&t=="4999"){if(tn(a,n+1,0),a.times(a).eq(l)){r=a;break}}else if(t!="9999")break;o+=4}return xn=!0,tn(r,n)};He.times=He.mul=function(e){var t,n,r,i,a,o,l,u,d,h=this,m=h.constructor,b=h.d,y=(e=new m(e)).d;if(!h.s||!e.s)return new m(0);for(e.s*=h.s,n=h.e+e.e,u=b.length,d=y.length,u<d&&(a=b,b=y,y=a,o=u,u=d,d=o),a=[],o=u+d,r=o;r--;)a.push(0);for(r=d;--r>=0;){for(t=0,i=u+r;i>r;)l=a[i]+y[r]*b[i-r-1]+t,a[i--]=l%vr|0,t=l/vr|0;a[i]=(a[i]+t)%vr|0}for(;!a[--o];)a.pop();return t?++n:a.shift(),e.d=a,e.e=n,xn?tn(e,m.precision):e};He.toDecimalPlaces=He.todp=function(e,t){var n=this,r=n.constructor;return n=new r(n),e===void 0?n:(Wo(e,0,Ff),t===void 0?t=r.rounding:Wo(t,0,8),tn(n,e+Qn(n)+1,t))};He.toExponential=function(e,t){var n,r=this,i=r.constructor;return e===void 0?n=Du(r,!0):(Wo(e,0,Ff),t===void 0?t=i.rounding:Wo(t,0,8),r=tn(new i(r),e+1,t),n=Du(r,!0,e+1)),n};He.toFixed=function(e,t){var n,r,i=this,a=i.constructor;return e===void 0?Du(i):(Wo(e,0,Ff),t===void 0?t=a.rounding:Wo(t,0,8),r=tn(new a(i),e+Qn(i)+1,t),n=Du(r.abs(),!1,e+Qn(r)+1),i.isneg()&&!i.isZero()?"-"+n:n)};He.toInteger=He.toint=function(){var e=this,t=e.constructor;return tn(new t(e),Qn(e)+1,t.rounding)};He.toNumber=function(){return+this};He.toPower=He.pow=function(e){var t,n,r,i,a,o,l=this,u=l.constructor,d=12,h=+(e=new u(e));if(!e.s)return new u(Yi);if(l=new u(l),!l.s){if(e.s<1)throw Error(Oa+"Infinity");return l}if(l.eq(Yi))return l;if(r=u.precision,e.eq(Yi))return tn(l,r);if(t=e.e,n=e.d.length-1,o=t>=n,a=l.s,o){if((n=h<0?-h:h)<=Vz){for(i=new u(Yi),t=Math.ceil(r/dn+4),xn=!1;n%2&&(i=i.times(l),jI(i.d,t)),n=Hf(n/2),n!==0;)l=l.times(l),jI(l.d,t);return xn=!0,e.s<0?new u(Yi).div(i):tn(i,r)}}else if(a<0)throw Error(Oa+"NaN");return a=a<0&&e.d[Math.max(t,n)]&1?-1:1,l.s=1,xn=!1,i=e.times(Sp(l,r+d)),xn=!0,i=Xz(i),i.s=a,i};He.toPrecision=function(e,t){var n,r,i=this,a=i.constructor;return e===void 0?(n=Qn(i),r=Du(i,n<=a.toExpNeg||n>=a.toExpPos)):(Wo(e,1,Ff),t===void 0?t=a.rounding:Wo(t,0,8),i=tn(new a(i),e,t),n=Qn(i),r=Du(i,e<=n||n<=a.toExpNeg,e)),r};He.toSignificantDigits=He.tosd=function(e,t){var n=this,r=n.constructor;return e===void 0?(e=r.precision,t=r.rounding):(Wo(e,1,Ff),t===void 0?t=r.rounding:Wo(t,0,8)),tn(new r(n),e,t)};He.toString=He.valueOf=He.val=He.toJSON=He[Symbol.for("nodejs.util.inspect.custom")]=function(){var e=this,t=Qn(e),n=e.constructor;return Du(e,t<=n.toExpNeg||t>=n.toExpPos)};function Zz(e,t){var n,r,i,a,o,l,u,d,h=e.constructor,m=h.precision;if(!e.s||!t.s)return t.s||(t=new h(e)),xn?tn(t,m):t;if(u=e.d,d=t.d,o=e.e,i=t.e,u=u.slice(),a=o-i,a){for(a<0?(r=u,a=-a,l=d.length):(r=d,i=o,l=u.length),o=Math.ceil(m/dn),l=o>l?o+1:l+1,a>l&&(a=l,r.length=1),r.reverse();a--;)r.push(0);r.reverse()}for(l=u.length,a=d.length,l-a<0&&(a=l,r=d,d=u,u=r),n=0;a;)n=(u[--a]=u[a]+d[a]+n)/vr|0,u[a]%=vr;for(n&&(u.unshift(n),++i),l=u.length;u[--l]==0;)u.pop();return t.d=u,t.e=i,xn?tn(t,m):t}function Wo(e,t,n){if(e!==~~e||e<t||e>n)throw Error(ju+e)}function zo(e){var t,n,r,i=e.length-1,a="",o=e[0];if(i>0){for(a+=o,t=1;t<i;t++)r=e[t]+"",n=dn-r.length,n&&(a+=Fl(n)),a+=r;o=e[t],r=o+"",n=dn-r.length,n&&(a+=Fl(n))}else if(o===0)return"0";for(;o%10===0;)o/=10;return a+o}var Ps=(function(){function e(r,i){var a,o=0,l=r.length;for(r=r.slice();l--;)a=r[l]*i+o,r[l]=a%vr|0,o=a/vr|0;return o&&r.unshift(o),r}function t(r,i,a,o){var l,u;if(a!=o)u=a>o?1:-1;else for(l=u=0;l<a;l++)if(r[l]!=i[l]){u=r[l]>i[l]?1:-1;break}return u}function n(r,i,a){for(var o=0;a--;)r[a]-=o,o=r[a]<i[a]?1:0,r[a]=o*vr+r[a]-i[a];for(;!r[0]&&r.length>1;)r.shift()}return function(r,i,a,o){var l,u,d,h,m,b,y,k,w,_,j,O,T,C,M,P,I,z,K=r.constructor,G=r.s==i.s?1:-1,F=r.d,B=i.d;if(!r.s)return new K(r);if(!i.s)throw Error(Oa+"Division by zero");for(u=r.e-i.e,I=B.length,M=F.length,y=new K(G),k=y.d=[],d=0;B[d]==(F[d]||0);)++d;if(B[d]>(F[d]||0)&&--u,a==null?O=a=K.precision:o?O=a+(Qn(r)-Qn(i))+1:O=a,O<0)return new K(0);if(O=O/dn+2|0,d=0,I==1)for(h=0,B=B[0],O++;(d<M||h)&&O--;d++)T=h*vr+(F[d]||0),k[d]=T/B|0,h=T%B|0;else{for(h=vr/(B[0]+1)|0,h>1&&(B=e(B,h),F=e(F,h),I=B.length,M=F.length),C=I,w=F.slice(0,I),_=w.length;_<I;)w[_++]=0;z=B.slice(),z.unshift(0),P=B[0],B[1]>=vr/2&&++P;do h=0,l=t(B,w,I,_),l<0?(j=w[0],I!=_&&(j=j*vr+(w[1]||0)),h=j/P|0,h>1?(h>=vr&&(h=vr-1),m=e(B,h),b=m.length,_=w.length,l=t(m,w,b,_),l==1&&(h--,n(m,I<b?z:B,b))):(h==0&&(l=h=1),m=B.slice()),b=m.length,b<_&&m.unshift(0),n(w,m,_),l==-1&&(_=w.length,l=t(B,w,I,_),l<1&&(h++,n(w,I<_?z:B,_))),_=w.length):l===0&&(h++,w=[0]),k[d++]=h,l&&w[0]?w[_++]=F[C]||0:(w=[F[C]],_=1);while((C++<M||w[0]!==void 0)&&O--)}return k[0]||k.shift(),y.e=u,tn(y,o?a+Qn(y)+1:a)}})();function Xz(e,t){var n,r,i,a,o,l,u=0,d=0,h=e.constructor,m=h.precision;if(Qn(e)>16)throw Error(gA+Qn(e));if(!e.s)return new h(Yi);for(xn=!1,l=m,o=new h(.03125);e.abs().gte(.1);)e=e.times(o),d+=5;for(r=Math.log(du(2,d))/Math.LN10*2+5|0,l+=r,n=i=a=new h(Yi),h.precision=l;;){if(i=tn(i.times(e),l),n=n.times(++u),o=a.plus(Ps(i,n,l)),zo(o.d).slice(0,l)===zo(a.d).slice(0,l)){for(;d--;)a=tn(a.times(a),l);return h.precision=m,t==null?(xn=!0,tn(a,m)):a}a=o}}function Qn(e){for(var t=e.e*dn,n=e.d[0];n>=10;n/=10)t++;return t}function bk(e,t,n){if(t>e.LN10.sd())throw xn=!0,n&&(e.precision=n),Error(Oa+"LN10 precision limit exceeded");return tn(new e(e.LN10),t)}function Fl(e){for(var t="";e--;)t+="0";return t}function Sp(e,t){var n,r,i,a,o,l,u,d,h,m=1,b=10,y=e,k=y.d,w=y.constructor,_=w.precision;if(y.s<1)throw Error(Oa+(y.s?"NaN":"-Infinity"));if(y.eq(Yi))return new w(0);if(t==null?(xn=!1,d=_):d=t,y.eq(10))return t==null&&(xn=!0),bk(w,d);if(d+=b,w.precision=d,n=zo(k),r=n.charAt(0),a=Qn(y),Math.abs(a)<15e14){for(;r<7&&r!=1||r==1&&n.charAt(1)>3;)y=y.times(e),n=zo(y.d),r=n.charAt(0),m++;a=Qn(y),r>1?(y=new w("0."+n),a++):y=new w(r+"."+n.slice(1))}else return u=bk(w,d+2,_).times(a+""),y=Sp(new w(r+"."+n.slice(1)),d-b).plus(u),w.precision=_,t==null?(xn=!0,tn(y,_)):y;for(l=o=y=Ps(y.minus(Yi),y.plus(Yi),d),h=tn(y.times(y),d),i=3;;){if(o=tn(o.times(h),d),u=l.plus(Ps(o,new w(i),d)),zo(u.d).slice(0,d)===zo(l.d).slice(0,d))return l=l.times(2),a!==0&&(l=l.plus(bk(w,d+2,_).times(a+""))),l=Ps(l,new w(m),d),w.precision=_,t==null?(xn=!0,tn(l,_)):l;l=u,i+=2}}function EI(e,t){var n,r,i;for((n=t.indexOf("."))>-1&&(t=t.replace(".","")),(r=t.search(/e/i))>0?(n<0&&(n=r),n+=+t.slice(r+1),t=t.substring(0,r)):n<0&&(n=t.length),r=0;t.charCodeAt(r)===48;)++r;for(i=t.length;t.charCodeAt(i-1)===48;)--i;if(t=t.slice(r,i),t){if(i-=r,n=n-r-1,e.e=Hf(n/dn),e.d=[],r=(n+1)%dn,n<0&&(r+=dn),r<i){for(r&&e.d.push(+t.slice(0,r)),i-=dn;r<i;)e.d.push(+t.slice(r,r+=dn));t=t.slice(r),r=dn-t.length}else r-=i;for(;r--;)t+="0";if(e.d.push(+t),xn&&(e.e>Av||e.e<-Av))throw Error(gA+n)}else e.s=0,e.e=0,e.d=[0];return e}function tn(e,t,n){var r,i,a,o,l,u,d,h,m=e.d;for(o=1,a=m[0];a>=10;a/=10)o++;if(r=t-o,r<0)r+=dn,i=t,d=m[h=0];else{if(h=Math.ceil((r+1)/dn),a=m.length,h>=a)return e;for(d=a=m[h],o=1;a>=10;a/=10)o++;r%=dn,i=r-dn+o}if(n!==void 0&&(a=du(10,o-i-1),l=d/a%10|0,u=t<0||m[h+1]!==void 0||d%a,u=n<4?(l||u)&&(n==0||n==(e.s<0?3:2)):l>5||l==5&&(n==4||u||n==6&&(r>0?i>0?d/du(10,o-i):0:m[h-1])%10&1||n==(e.s<0?8:7))),t<1||!m[0])return u?(a=Qn(e),m.length=1,t=t-a-1,m[0]=du(10,(dn-t%dn)%dn),e.e=Hf(-t/dn)||0):(m.length=1,m[0]=e.e=e.s=0),e;if(r==0?(m.length=h,a=1,h--):(m.length=h+1,a=du(10,dn-r),m[h]=i>0?(d/du(10,o-i)%du(10,i)|0)*a:0),u)for(;;)if(h==0){(m[0]+=a)==vr&&(m[0]=1,++e.e);break}else{if(m[h]+=a,m[h]!=vr)break;m[h--]=0,a=1}for(r=m.length;m[--r]===0;)m.pop();if(xn&&(e.e>Av||e.e<-Av))throw Error(gA+Qn(e));return e}function Jz(e,t){var n,r,i,a,o,l,u,d,h,m,b=e.constructor,y=b.precision;if(!e.s||!t.s)return t.s?t.s=-t.s:t=new b(e),xn?tn(t,y):t;if(u=e.d,m=t.d,r=t.e,d=e.e,u=u.slice(),o=d-r,o){for(h=o<0,h?(n=u,o=-o,l=m.length):(n=m,r=d,l=u.length),i=Math.max(Math.ceil(y/dn),l)+2,o>i&&(o=i,n.length=1),n.reverse(),i=o;i--;)n.push(0);n.reverse()}else{for(i=u.length,l=m.length,h=i<l,h&&(l=i),i=0;i<l;i++)if(u[i]!=m[i]){h=u[i]<m[i];break}o=0}for(h&&(n=u,u=m,m=n,t.s=-t.s),l=u.length,i=m.length-l;i>0;--i)u[l++]=0;for(i=m.length;i>o;){if(u[--i]<m[i]){for(a=i;a&&u[--a]===0;)u[a]=vr-1;--u[a],u[i]+=vr}u[i]-=m[i]}for(;u[--l]===0;)u.pop();for(;u[0]===0;u.shift())--r;return u[0]?(t.d=u,t.e=r,xn?tn(t,y):t):new b(0)}function Du(e,t,n){var r,i=Qn(e),a=zo(e.d),o=a.length;return t?(n&&(r=n-o)>0?a=a.charAt(0)+"."+a.slice(1)+Fl(r):o>1&&(a=a.charAt(0)+"."+a.slice(1)),a=a+(i<0?"e":"e+")+i):i<0?(a="0."+Fl(-i-1)+a,n&&(r=n-o)>0&&(a+=Fl(r))):i>=o?(a+=Fl(i+1-o),n&&(r=n-i-1)>0&&(a=a+"."+Fl(r))):((r=i+1)<o&&(a=a.slice(0,r)+"."+a.slice(r)),n&&(r=n-o)>0&&(i+1===o&&(a+="."),a+=Fl(r))),e.s<0?"-"+a:a}function jI(e,t){if(e.length>t)return e.length=t,!0}function Qz(e){var t,n,r;function i(a){var o=this;if(!(o instanceof i))return new i(a);if(o.constructor=i,a instanceof i){o.s=a.s,o.e=a.e,o.d=(a=a.d)?a.slice():a;return}if(typeof a=="number"){if(a*0!==0)throw Error(ju+a);if(a>0)o.s=1;else if(a<0)a=-a,o.s=-1;else{o.s=0,o.e=0,o.d=[0];return}if(a===~~a&&a<1e7){o.e=0,o.d=[a];return}return EI(o,a.toString())}else if(typeof a!="string")throw Error(ju+a);if(a.charCodeAt(0)===45?(a=a.slice(1),o.s=-1):o.s=1,qxe.test(a))EI(o,a);else throw Error(ju+a)}if(i.prototype=He,i.ROUND_UP=0,i.ROUND_DOWN=1,i.ROUND_CEIL=2,i.ROUND_FLOOR=3,i.ROUND_HALF_UP=4,i.ROUND_HALF_DOWN=5,i.ROUND_HALF_EVEN=6,i.ROUND_HALF_CEIL=7,i.ROUND_HALF_FLOOR=8,i.clone=Qz,i.config=i.set=Kxe,e===void 0&&(e={}),e)for(r=["precision","rounding","toExpNeg","toExpPos","LN10"],t=0;t<r.length;)e.hasOwnProperty(n=r[t++])||(e[n]=this[n]);return i.config(e),i}function Kxe(e){if(!e||typeof e!="object")throw Error(Oa+"Object expected");var t,n,r,i=["precision",1,Ff,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(t=0;t<i.length;t+=3)if((r=e[n=i[t]])!==void 0)if(Hf(r)===r&&r>=i[t+1]&&r<=i[t+2])this[n]=r;else throw Error(ju+n+": "+r);if((r=e[n="LN10"])!==void 0)if(r==Math.LN10)this[n]=new this(r);else throw Error(ju+n+": "+r);return this}var bA=Qz(Yxe);Yi=new bA(1);const qt=bA;var Wxe=e=>e,eU={},tU=e=>e===eU,TI=e=>function t(){return arguments.length===0||arguments.length===1&&tU(arguments.length<=0?void 0:arguments[0])?t:e(...arguments)},nU=(e,t)=>e===1?t:TI(function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];var a=r.filter(o=>o!==eU).length;return a>=e?t(...r):nU(e-a,TI(function(){for(var o=arguments.length,l=new Array(o),u=0;u<o;u++)l[u]=arguments[u];var d=r.map(h=>tU(h)?l.shift():h);return t(...d,...l)}))}),Vxe=e=>nU(e.length,e),M2=(e,t)=>{for(var n=[],r=e;r<t;++r)n[r-e]=r;return n},Zxe=Vxe((e,t)=>Array.isArray(t)?t.map(e):Object.keys(t).map(n=>t[n]).map(e)),Xxe=function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];if(!n.length)return Wxe;var i=n.reverse(),a=i[0],o=i.slice(1);return function(){return o.reduce((l,u)=>u(l),a(...arguments))}},D2=e=>Array.isArray(e)?e.reverse():e.split("").reverse().join("");function rU(e){var t;return e===0?t=1:t=Math.floor(new qt(e).abs().log(10).toNumber())+1,t}function iU(e,t,n){for(var r=new qt(e),i=0,a=[];r.lt(t)&&i<1e5;)a.push(r.toNumber()),r=r.add(n),i++;return a}var aU=e=>{var[t,n]=e,[r,i]=[t,n];return t>n&&([r,i]=[n,t]),[r,i]},oU=(e,t,n)=>{if(e.lte(0))return new qt(0);var r=rU(e.toNumber()),i=new qt(10).pow(r),a=e.div(i),o=r!==1?.05:.1,l=new qt(Math.ceil(a.div(o).toNumber())).add(n).mul(o),u=l.mul(i);return t?new qt(u.toNumber()):new qt(Math.ceil(u.toNumber()))},Jxe=(e,t,n)=>{var r=new qt(1),i=new qt(e);if(!i.isint()&&n){var a=Math.abs(e);a<1?(r=new qt(10).pow(rU(e)-1),i=new qt(Math.floor(i.div(r).toNumber())).mul(r)):a>1&&(i=new qt(Math.floor(e)))}else e===0?i=new qt(Math.floor((t-1)/2)):n||(i=new qt(Math.floor(e)));var o=Math.floor((t-1)/2),l=Xxe(Zxe(u=>i.add(new qt(u-o).mul(r)).toNumber()),M2);return l(0,t)},sU=function(t,n,r,i){var a=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((n-t)/(r-1)))return{step:new qt(0),tickMin:new qt(0),tickMax:new qt(0)};var o=oU(new qt(n).sub(t).div(r-1),i,a),l;t<=0&&n>=0?l=new qt(0):(l=new qt(t).add(n).div(2),l=l.sub(new qt(l).mod(o)));var u=Math.ceil(l.sub(t).div(o).toNumber()),d=Math.ceil(new qt(n).sub(l).div(o).toNumber()),h=u+d+1;return h>r?sU(t,n,r,i,a+1):(h<r&&(d=n>0?d+(r-h):d,u=n>0?u:u+(r-h)),{step:o,tickMin:l.sub(new qt(u).mul(o)),tickMax:l.add(new qt(d).mul(o))})},Qxe=function(t){var[n,r]=t,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,o=Math.max(i,2),[l,u]=aU([n,r]);if(l===-1/0||u===1/0){var d=u===1/0?[l,...M2(0,i-1).map(()=>1/0)]:[...M2(0,i-1).map(()=>-1/0),u];return n>r?D2(d):d}if(l===u)return Jxe(l,i,a);var{step:h,tickMin:m,tickMax:b}=sU(l,u,o,a,0),y=iU(m,b.add(new qt(.1).mul(h)),h);return n>r?D2(y):y},ewe=function(t,n){var[r,i]=t,a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,[o,l]=aU([r,i]);if(o===-1/0||l===1/0)return[r,i];if(o===l)return[o];var u=Math.max(n,2),d=oU(new qt(l).sub(o).div(u-1),a,0),h=[...iU(new qt(o),new qt(l),d),l];return a===!1&&(h=h.map(m=>Math.round(m))),r>i?D2(h):h},twe=e=>e.rootProps.barCategoryGap,Jx=e=>e.rootProps.stackOffset,lU=e=>e.rootProps.reverseStackOrder,yA=e=>e.options.chartName,vA=e=>e.rootProps.syncId,cU=e=>e.rootProps.syncMethod,xA=e=>e.options.eventEmitter,nwe=e=>e.rootProps.baseValue,ei={grid:-100,barBackground:-50,area:100,cursorRectangle:200,bar:300,line:400,axis:500,scatter:600,activeBar:1e3,cursorLine:1100,activeDot:1200,label:2e3},js={allowDuplicatedCategory:!0,angleAxisId:0,reversed:!1,scale:"auto",tick:!0,type:"category"},Hi={allowDataOverflow:!1,allowDuplicatedCategory:!0,radiusAxisId:0,scale:"auto",tick:!0,tickCount:5,type:"number"},Qx=(e,t)=>{if(!(!e||!t))return e!=null&&e.reversed?[t[1],t[0]]:t},rwe={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:!1,dataKey:void 0,domain:void 0,id:js.angleAxisId,includeHidden:!1,name:void 0,reversed:js.reversed,scale:js.scale,tick:js.tick,tickCount:void 0,ticks:void 0,type:js.type,unit:void 0},iwe={allowDataOverflow:Hi.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:Hi.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:Hi.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:Hi.scale,tick:Hi.tick,tickCount:Hi.tickCount,ticks:void 0,type:Hi.type,unit:void 0},awe={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:js.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:js.angleAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:js.scale,tick:js.tick,tickCount:void 0,ticks:void 0,type:"number",unit:void 0},owe={allowDataOverflow:Hi.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:Hi.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:Hi.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:Hi.scale,tick:Hi.tick,tickCount:Hi.tickCount,ticks:void 0,type:"category",unit:void 0},wA=(e,t)=>e.polarAxis.angleAxis[t]!=null?e.polarAxis.angleAxis[t]:e.layout.layoutType==="radial"?awe:rwe,_A=(e,t)=>e.polarAxis.radiusAxis[t]!=null?e.polarAxis.radiusAxis[t]:e.layout.layoutType==="radial"?owe:iwe,ew=e=>e.polarOptions,SA=_e([Vs,Zs,$r],Qbe),uU=_e([ew,SA],(e,t)=>{if(e!=null)return sc(e.innerRadius,t,0)}),dU=_e([ew,SA],(e,t)=>{if(e!=null)return sc(e.outerRadius,t,t*.8)}),swe=e=>{if(e==null)return[0,0];var{startAngle:t,endAngle:n}=e;return[t,n]},fU=_e([ew],swe);_e([wA,fU],Qx);var hU=_e([SA,uU,dU],(e,t,n)=>{if(!(e==null||t==null||n==null))return[t,n]});_e([_A,hU],Qx);var mU=_e([sn,ew,uU,dU,Vs,Zs],(e,t,n,r,i,a)=>{if(!(e!=="centric"&&e!=="radial"||t==null||n==null||r==null)){var{cx:o,cy:l,startAngle:u,endAngle:d}=t;return{cx:sc(o,i,i/2),cy:sc(l,a,a/2),innerRadius:n,outerRadius:r,startAngle:u,endAngle:d,clockWise:!1}}}),sr=(e,t)=>t,tw=(e,t,n)=>n;function kA(e){return e?.id}function pU(e,t,n){var{chartData:r=[]}=t,{allowDuplicatedCategory:i,dataKey:a}=n,o=new Map;return e.forEach(l=>{var u,d=(u=l.data)!==null&&u!==void 0?u:r;if(!(d==null||d.length===0)){var h=kA(l);d.forEach((m,b)=>{var y=a==null||i?b:String(Yr(m,a,null)),k=Yr(m,l.dataKey,0),w;o.has(y)?w=o.get(y):w={},Object.assign(w,{[h]:k}),o.set(y,w)})}}),Array.from(o.values())}function EA(e){return e.stackId!=null&&e.dataKey!=null}var nw=(e,t)=>e===t?!0:e==null||t==null?!1:e[0]===t[0]&&e[1]===t[1];function rw(e,t){return Array.isArray(e)&&Array.isArray(t)&&e.length===0&&t.length===0?!0:e===t}function lwe(e,t){if(e.length===t.length){for(var n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0}return!1}var lr=e=>{var t=sn(e);return t==="horizontal"?"xAxis":t==="vertical"?"yAxis":t==="centric"?"angleAxis":"radiusAxis"},Gf=e=>e.tooltip.settings.axisId;function AI(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Nv(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?AI(Object(n),!0).forEach(function(r){cwe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):AI(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function cwe(e,t,n){return(t=uwe(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function uwe(e){var t=dwe(e,"string");return typeof t=="symbol"?t:t+""}function dwe(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var P2=[0,"auto"],gr={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:void 0,height:30,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"bottom",padding:{left:0,right:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"category",unit:void 0},gU=(e,t)=>e.cartesianAxis.xAxis[t],Js=(e,t)=>{var n=gU(e,t);return n??gr},br={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:P2,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"left",padding:{top:0,bottom:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"number",unit:void 0,width:Wp},bU=(e,t)=>e.cartesianAxis.yAxis[t],Qs=(e,t)=>{var n=bU(e,t);return n??br},fwe={domain:[0,"auto"],includeHidden:!1,reversed:!1,allowDataOverflow:!1,allowDuplicatedCategory:!1,dataKey:void 0,id:0,name:"",range:[64,64],scale:"auto",type:"number",unit:""},jA=(e,t)=>{var n=e.cartesianAxis.zAxis[t];return n??fwe},ii=(e,t,n)=>{switch(t){case"xAxis":return Js(e,n);case"yAxis":return Qs(e,n);case"zAxis":return jA(e,n);case"angleAxis":return wA(e,n);case"radiusAxis":return _A(e,n);default:throw new Error("Unexpected axis type: ".concat(t))}},hwe=(e,t,n)=>{switch(t){case"xAxis":return Js(e,n);case"yAxis":return Qs(e,n);default:throw new Error("Unexpected axis type: ".concat(t))}},t0=(e,t,n)=>{switch(t){case"xAxis":return Js(e,n);case"yAxis":return Qs(e,n);case"angleAxis":return wA(e,n);case"radiusAxis":return _A(e,n);default:throw new Error("Unexpected axis type: ".concat(t))}},yU=e=>e.graphicalItems.cartesianItems.some(t=>t.type==="bar")||e.graphicalItems.polarItems.some(t=>t.type==="radialBar");function vU(e,t){return n=>{switch(e){case"xAxis":return"xAxisId"in n&&n.xAxisId===t;case"yAxis":return"yAxisId"in n&&n.yAxisId===t;case"zAxis":return"zAxisId"in n&&n.zAxisId===t;case"angleAxis":return"angleAxisId"in n&&n.angleAxisId===t;case"radiusAxis":return"radiusAxisId"in n&&n.radiusAxisId===t;default:return!1}}}var xU=e=>e.graphicalItems.cartesianItems,mwe=_e([sr,tw],vU),wU=(e,t,n)=>e.filter(n).filter(r=>t?.includeHidden===!0?!0:!r.hide),n0=_e([xU,ii,mwe],wU,{memoizeOptions:{resultEqualityCheck:rw}}),_U=_e([n0],e=>e.filter(t=>t.type==="area"||t.type==="bar").filter(EA)),SU=e=>e.filter(t=>!("stackId"in t)||t.stackId===void 0),pwe=_e([n0],SU),kU=e=>e.map(t=>t.data).filter(Boolean).flat(1),gwe=_e([n0],kU,{memoizeOptions:{resultEqualityCheck:rw}}),EU=(e,t)=>{var{chartData:n=[],dataStartIndex:r,dataEndIndex:i}=t;return e.length>0?e:n.slice(r,i+1)},TA=_e([gwe,pA],EU),jU=(e,t,n)=>t?.dataKey!=null?e.map(r=>({value:Yr(r,t.dataKey)})):n.length>0?n.map(r=>r.dataKey).flatMap(r=>e.map(i=>({value:Yr(i,r)}))):e.map(r=>({value:r})),iw=_e([TA,ii,n0],jU);function TU(e,t){switch(e){case"xAxis":return t.direction==="x";case"yAxis":return t.direction==="y";default:return!1}}function ly(e){if(qo(e)||e instanceof Date){var t=Number(e);if(Pn(t))return t}}function NI(e){if(Array.isArray(e)){var t=[ly(e[0]),ly(e[1])];return lc(t)?t:void 0}var n=ly(e);if(n!=null)return[n,n]}function Gs(e){return e.map(ly).filter(Ime)}function bwe(e,t,n){return!n||typeof t!="number"||uo(t)?[]:n.length?Gs(n.flatMap(r=>{var i=Yr(e,r.dataKey),a,o;if(Array.isArray(i)?[a,o]=i:a=o=i,!(!Pn(a)||!Pn(o)))return[t-a,t+o]})):[]}var cr=e=>{var t=lr(e),n=Gf(e);return t0(e,t,n)},r0=_e([cr],e=>e?.dataKey),ywe=_e([_U,pA,cr],pU),AU=(e,t,n,r)=>{var i={},a=t.reduce((o,l)=>(l.stackId==null||(o[l.stackId]==null&&(o[l.stackId]=[]),o[l.stackId].push(l)),o),i);return Object.fromEntries(Object.entries(a).map(o=>{var[l,u]=o,d=r?[...u].reverse():u,h=d.map(kA);return[l,{stackedData:F0e(e,h,n),graphicalItems:d}]}))},R2=_e([ywe,_U,Jx,lU],AU),NU=(e,t,n,r)=>{var{dataStartIndex:i,dataEndIndex:a}=t;if(r==null&&n!=="zAxis"){var o=q0e(e,i,a);if(!(o!=null&&o[0]===0&&o[1]===0))return o}},vwe=_e([ii],e=>e.allowDataOverflow),AA=e=>{var t;if(e==null||!("domain"in e))return P2;if(e.domain!=null)return e.domain;if(e.ticks!=null){if(e.type==="number"){var n=Gs(e.ticks);return[Math.min(...n),Math.max(...n)]}if(e.type==="category")return e.ticks.map(String)}return(t=e?.domain)!==null&&t!==void 0?t:P2},OU=_e([ii],AA),CU=_e([OU,vwe],Wz),xwe=_e([R2,mc,sr,CU],NU,{memoizeOptions:{resultEqualityCheck:nw}}),NA=e=>e.errorBars,wwe=(e,t,n)=>e.flatMap(r=>t[r.id]).filter(Boolean).filter(r=>TU(n,r)),Ov=function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var i=n.filter(Boolean);if(i.length!==0){var a=i.flat(),o=Math.min(...a),l=Math.max(...a);return[o,l]}},MU=(e,t,n,r,i)=>{var a,o;if(n.length>0&&e.forEach(l=>{n.forEach(u=>{var d,h,m=(d=r[u.id])===null||d===void 0?void 0:d.filter(j=>TU(i,j)),b=Yr(l,(h=t.dataKey)!==null&&h!==void 0?h:u.dataKey),y=bwe(l,b,m);if(y.length>=2){var k=Math.min(...y),w=Math.max(...y);(a==null||k<a)&&(a=k),(o==null||w>o)&&(o=w)}var _=NI(b);_!=null&&(a=a==null?_[0]:Math.min(a,_[0]),o=o==null?_[1]:Math.max(o,_[1]))})}),t?.dataKey!=null&&e.forEach(l=>{var u=NI(Yr(l,t.dataKey));u!=null&&(a=a==null?u[0]:Math.min(a,u[0]),o=o==null?u[1]:Math.max(o,u[1]))}),Pn(a)&&Pn(o))return[a,o]},_we=_e([TA,ii,pwe,NA,sr],MU,{memoizeOptions:{resultEqualityCheck:nw}});function Swe(e){var{value:t}=e;if(qo(t)||t instanceof Date)return t}var kwe=(e,t,n)=>{var r=e.map(Swe).filter(i=>i!=null);return n&&(t.dataKey==null||t.allowDuplicatedCategory&&X9(r))?hz(0,e.length):t.allowDuplicatedCategory?r:Array.from(new Set(r))},DU=e=>e.referenceElements.dots,Yf=(e,t,n)=>e.filter(r=>r.ifOverflow==="extendDomain").filter(r=>t==="xAxis"?r.xAxisId===n:r.yAxisId===n),Ewe=_e([DU,sr,tw],Yf),PU=e=>e.referenceElements.areas,jwe=_e([PU,sr,tw],Yf),RU=e=>e.referenceElements.lines,Twe=_e([RU,sr,tw],Yf),LU=(e,t)=>{var n=Gs(e.map(r=>t==="xAxis"?r.x:r.y));if(n.length!==0)return[Math.min(...n),Math.max(...n)]},Awe=_e(Ewe,sr,LU),IU=(e,t)=>{var n=Gs(e.flatMap(r=>[t==="xAxis"?r.x1:r.y1,t==="xAxis"?r.x2:r.y2]));if(n.length!==0)return[Math.min(...n),Math.max(...n)]},Nwe=_e([jwe,sr],IU);function Owe(e){var t;if(e.x!=null)return Gs([e.x]);var n=(t=e.segment)===null||t===void 0?void 0:t.map(r=>r.x);return n==null||n.length===0?[]:Gs(n)}function Cwe(e){var t;if(e.y!=null)return Gs([e.y]);var n=(t=e.segment)===null||t===void 0?void 0:t.map(r=>r.y);return n==null||n.length===0?[]:Gs(n)}var $U=(e,t)=>{var n=e.flatMap(r=>t==="xAxis"?Owe(r):Cwe(r));if(n.length!==0)return[Math.min(...n),Math.max(...n)]},Mwe=_e([Twe,sr],$U),Dwe=_e(Awe,Mwe,Nwe,(e,t,n)=>Ov(e,n,t)),BU=(e,t,n,r,i,a,o,l)=>{if(n!=null)return n;var u=o==="vertical"&&l==="xAxis"||o==="horizontal"&&l==="yAxis",d=u?Ov(r,a,i):Ov(a,i);return Gxe(t,d,e.allowDataOverflow)},Pwe=_e([ii,OU,CU,xwe,_we,Dwe,sn,sr],BU,{memoizeOptions:{resultEqualityCheck:nw}}),Rwe=[0,1],zU=(e,t,n,r,i,a,o)=>{if(!((e==null||n==null||n.length===0)&&o===void 0)){var{dataKey:l,type:u}=e,d=Ws(t,a);if(d&&l==null){var h;return hz(0,(h=n?.length)!==null&&h!==void 0?h:0)}return u==="category"?kwe(r,e,d):i==="expand"?Rwe:o}},OA=_e([ii,sn,TA,iw,Jx,sr,Pwe],zU),UU=(e,t,n,r,i)=>{if(e!=null){var{scale:a,type:o}=e;if(a==="auto")return t==="radial"&&i==="radiusAxis"?"band":t==="radial"&&i==="angleAxis"?"linear":o==="category"&&r&&(r.indexOf("LineChart")>=0||r.indexOf("AreaChart")>=0||r.indexOf("ComposedChart")>=0&&!n)?"point":o==="category"?"band":"linear";if(typeof a=="string"){var l="scale".concat(MT(a));return l in Mm?l:"point"}}},i0=_e([ii,sn,yU,yA,sr],UU);function Lwe(e){if(e!=null){if(e in Mm)return Mm[e]();var t="scale".concat(MT(e));if(t in Mm)return Mm[t]()}}function CA(e,t,n,r){if(!(n==null||r==null)){if(typeof e.scale=="function")return e.scale.copy().domain(n).range(r);var i=Lwe(t);if(i!=null){var a=i.domain(n).range(r);return $0e(a),a}}}var FU=(e,t,n)=>{var r=AA(t);if(!(n!=="auto"&&n!=="linear")){if(t!=null&&t.tickCount&&Array.isArray(r)&&(r[0]==="auto"||r[1]==="auto")&&lc(e))return Qxe(e,t.tickCount,t.allowDecimals);if(t!=null&&t.tickCount&&t.type==="number"&&lc(e))return ewe(e,t.tickCount,t.allowDecimals)}},MA=_e([OA,t0,i0],FU),HU=(e,t,n,r)=>{if(r!=="angleAxis"&&e?.type==="number"&&lc(t)&&Array.isArray(n)&&n.length>0){var i=t[0],a=n[0],o=t[1],l=n[n.length-1];return[Math.min(i,a),Math.max(o,l)]}return t},Iwe=_e([ii,OA,MA,sr],HU),$we=_e(iw,ii,(e,t)=>{if(!(!t||t.type!=="number")){var n=1/0,r=Array.from(Gs(e.map(l=>l.value))).sort((l,u)=>l-u);if(r.length<2)return 1/0;var i=r[r.length-1]-r[0];if(i===0)return 1/0;for(var a=0;a<r.length-1;a++){var o=r[a+1]-r[a];n=Math.min(n,o)}return n/i}}),GU=_e($we,sn,twe,$r,(e,t,n,r)=>r,(e,t,n,r,i)=>{if(!Pn(e))return 0;var a=t==="vertical"?r.height:r.width;if(i==="gap")return e*a/2;if(i==="no-gap"){var o=sc(n,e*a),l=e*a/2;return l-o-(l-o)/a*o}return 0}),Bwe=(e,t)=>{var n=Js(e,t);return n==null||typeof n.padding!="string"?0:GU(e,"xAxis",t,n.padding)},zwe=(e,t)=>{var n=Qs(e,t);return n==null||typeof n.padding!="string"?0:GU(e,"yAxis",t,n.padding)},Uwe=_e(Js,Bwe,(e,t)=>{var n,r;if(e==null)return{left:0,right:0};var{padding:i}=e;return typeof i=="string"?{left:t,right:t}:{left:((n=i.left)!==null&&n!==void 0?n:0)+t,right:((r=i.right)!==null&&r!==void 0?r:0)+t}}),Fwe=_e(Qs,zwe,(e,t)=>{var n,r;if(e==null)return{top:0,bottom:0};var{padding:i}=e;return typeof i=="string"?{top:t,bottom:t}:{top:((n=i.top)!==null&&n!==void 0?n:0)+t,bottom:((r=i.bottom)!==null&&r!==void 0?r:0)+t}}),Hwe=_e([$r,Uwe,zx,Bx,(e,t,n)=>n],(e,t,n,r,i)=>{var{padding:a}=r;return i?[a.left,n.width-a.right]:[e.left+t.left,e.left+e.width-t.right]}),Gwe=_e([$r,sn,Fwe,zx,Bx,(e,t,n)=>n],(e,t,n,r,i,a)=>{var{padding:o}=i;return a?[r.height-o.bottom,o.top]:t==="horizontal"?[e.top+e.height-n.bottom,e.top+n.top]:[e.top+n.top,e.top+e.height-n.bottom]}),a0=(e,t,n,r)=>{var i;switch(t){case"xAxis":return Hwe(e,n,r);case"yAxis":return Gwe(e,n,r);case"zAxis":return(i=jA(e,n))===null||i===void 0?void 0:i.range;case"angleAxis":return fU(e);case"radiusAxis":return hU(e,n);default:return}},YU=_e([ii,a0],Qx),qf=_e([ii,i0,Iwe,YU],CA);_e([n0,NA,sr],wwe);function qU(e,t){return e.id<t.id?-1:e.id>t.id?1:0}var aw=(e,t)=>t,ow=(e,t,n)=>n,Ywe=_e(Ix,aw,ow,(e,t,n)=>e.filter(r=>r.orientation===t).filter(r=>r.mirror===n).sort(qU)),qwe=_e($x,aw,ow,(e,t,n)=>e.filter(r=>r.orientation===t).filter(r=>r.mirror===n).sort(qU)),KU=(e,t)=>({width:e.width,height:t.height}),Kwe=(e,t)=>{var n=typeof t.width=="number"?t.width:Wp;return{width:n,height:e.height}},Wwe=_e($r,Js,KU),Vwe=(e,t,n)=>{switch(t){case"top":return e.top;case"bottom":return n-e.bottom;default:return 0}},Zwe=(e,t,n)=>{switch(t){case"left":return e.left;case"right":return n-e.right;default:return 0}},Xwe=_e(Zs,$r,Ywe,aw,ow,(e,t,n,r,i)=>{var a={},o;return n.forEach(l=>{var u=KU(t,l);o==null&&(o=Vwe(t,r,e));var d=r==="top"&&!i||r==="bottom"&&i;a[l.id]=o-Number(d)*u.height,o+=(d?-1:1)*u.height}),a}),Jwe=_e(Vs,$r,qwe,aw,ow,(e,t,n,r,i)=>{var a={},o;return n.forEach(l=>{var u=Kwe(t,l);o==null&&(o=Zwe(t,r,e));var d=r==="left"&&!i||r==="right"&&i;a[l.id]=o-Number(d)*u.width,o+=(d?-1:1)*u.width}),a}),Qwe=(e,t)=>{var n=Js(e,t);if(n!=null)return Xwe(e,n.orientation,n.mirror)},e_e=_e([$r,Js,Qwe,(e,t)=>t],(e,t,n,r)=>{if(t!=null){var i=n?.[r];return i==null?{x:e.left,y:0}:{x:e.left,y:i}}}),t_e=(e,t)=>{var n=Qs(e,t);if(n!=null)return Jwe(e,n.orientation,n.mirror)},n_e=_e([$r,Qs,t_e,(e,t)=>t],(e,t,n,r)=>{if(t!=null){var i=n?.[r];return i==null?{x:0,y:e.top}:{x:i,y:e.top}}}),r_e=_e($r,Qs,(e,t)=>{var n=typeof t.width=="number"?t.width:Wp;return{width:n,height:e.height}}),WU=(e,t,n,r)=>{if(n!=null){var{allowDuplicatedCategory:i,type:a,dataKey:o}=n,l=Ws(e,r),u=t.map(d=>d.value);if(o&&l&&a==="category"&&i&&X9(u))return u}},DA=_e([sn,iw,ii,sr],WU),VU=(e,t,n,r)=>{if(!(n==null||n.dataKey==null)){var{type:i,scale:a}=n,o=Ws(e,r);if(o&&(i==="number"||a!=="auto"))return t.map(l=>l.value)}},PA=_e([sn,iw,t0,sr],VU),OI=_e([sn,hwe,i0,qf,DA,PA,a0,MA,sr],(e,t,n,r,i,a,o,l,u)=>{if(t!=null){var d=Ws(e,u);return{angle:t.angle,interval:t.interval,minTickGap:t.minTickGap,orientation:t.orientation,tick:t.tick,tickCount:t.tickCount,tickFormatter:t.tickFormatter,ticks:t.ticks,type:t.type,unit:t.unit,axisType:u,categoricalDomain:a,duplicateDomain:i,isCategorical:d,niceTicks:l,range:o,realScaleType:n,scale:r}}}),i_e=(e,t,n,r,i,a,o,l,u)=>{if(!(t==null||r==null)){var d=Ws(e,u),{type:h,ticks:m,tickCount:b}=t,y=n==="scaleBand"&&typeof r.bandwidth=="function"?r.bandwidth()/2:2,k=h==="category"&&r.bandwidth?r.bandwidth()/y:0;k=u==="angleAxis"&&a!=null&&a.length>=2?Sa(a[0]-a[1])*2*k:k;var w=m||i;if(w){var _=w.map((j,O)=>{var T=o?o.indexOf(j):j;return{index:O,coordinate:r(T)+k,value:j,offset:k}});return _.filter(j=>Pn(j.coordinate))}return d&&l?l.map((j,O)=>({coordinate:r(j)+k,value:j,index:O,offset:k})).filter(j=>Pn(j.coordinate)):r.ticks?r.ticks(b).map(j=>({coordinate:r(j)+k,value:j,offset:k})):r.domain().map((j,O)=>({coordinate:r(j)+k,value:o?o[j]:j,index:O,offset:k}))}},ZU=_e([sn,t0,i0,qf,MA,a0,DA,PA,sr],i_e),a_e=(e,t,n,r,i,a,o)=>{if(!(t==null||n==null||r==null||r[0]===r[1])){var l=Ws(e,o),{tickCount:u}=t,d=0;return d=o==="angleAxis"&&r?.length>=2?Sa(r[0]-r[1])*2*d:d,l&&a?a.map((h,m)=>({coordinate:n(h)+d,value:h,index:m,offset:d})):n.ticks?n.ticks(u).map(h=>({coordinate:n(h)+d,value:h,offset:d})):n.domain().map((h,m)=>({coordinate:n(h)+d,value:i?i[h]:h,index:m,offset:d}))}},XU=_e([sn,t0,qf,a0,DA,PA,sr],a_e),JU=_e(ii,qf,(e,t)=>{if(!(e==null||t==null))return Nv(Nv({},e),{},{scale:t})}),o_e=_e([ii,i0,OA,YU],CA);_e((e,t,n)=>jA(e,n),o_e,(e,t)=>{if(!(e==null||t==null))return Nv(Nv({},e),{},{scale:t})});var s_e=_e([sn,Ix,$x],(e,t,n)=>{switch(e){case"horizontal":return t.some(r=>r.reversed)?"right-to-left":"left-to-right";case"vertical":return n.some(r=>r.reversed)?"bottom-to-top":"top-to-bottom";case"centric":case"radial":return"left-to-right";default:return}}),QU=e=>e.options.defaultTooltipEventType,eF=e=>e.options.validateTooltipEventTypes;function tF(e,t,n){if(e==null)return t;var r=e?"axis":"item";return n==null?t:n.includes(r)?r:t}function RA(e,t){var n=QU(e),r=eF(e);return tF(t,n,r)}function l_e(e){return it(t=>RA(t,e))}var nF=(e,t)=>{var n,r=Number(t);if(!(uo(r)||t==null))return r>=0?e==null||(n=e[r])===null||n===void 0?void 0:n.value:void 0},c_e=e=>e.tooltip.settings,Vl={active:!1,index:null,dataKey:void 0,graphicalItemId:void 0,coordinate:void 0},u_e={itemInteraction:{click:Vl,hover:Vl},axisInteraction:{click:Vl,hover:Vl},keyboardInteraction:Vl,syncInteraction:{active:!1,index:null,dataKey:void 0,label:void 0,coordinate:void 0,sourceViewBox:void 0,graphicalItemId:void 0},tooltipItemPayloads:[],settings:{shared:void 0,trigger:"hover",axisId:0,active:!1,defaultIndex:void 0}},rF=Ai({name:"tooltip",initialState:u_e,reducers:{addTooltipEntrySettings:{reducer(e,t){e.tooltipItemPayloads.push(t.payload)},prepare:yn()},replaceTooltipEntrySettings:{reducer(e,t){var{prev:n,next:r}=t.payload,i=ro(e).tooltipItemPayloads.indexOf(n);i>-1&&(e.tooltipItemPayloads[i]=r)},prepare:yn()},removeTooltipEntrySettings:{reducer(e,t){var n=ro(e).tooltipItemPayloads.indexOf(t.payload);n>-1&&e.tooltipItemPayloads.splice(n,1)},prepare:yn()},setTooltipSettingsState(e,t){e.settings=t.payload},setActiveMouseOverItemIndex(e,t){e.syncInteraction.active=!1,e.keyboardInteraction.active=!1,e.itemInteraction.hover.active=!0,e.itemInteraction.hover.index=t.payload.activeIndex,e.itemInteraction.hover.dataKey=t.payload.activeDataKey,e.itemInteraction.hover.graphicalItemId=t.payload.activeGraphicalItemId,e.itemInteraction.hover.coordinate=t.payload.activeCoordinate},mouseLeaveChart(e){e.itemInteraction.hover.active=!1,e.axisInteraction.hover.active=!1},mouseLeaveItem(e){e.itemInteraction.hover.active=!1},setActiveClickItemIndex(e,t){e.syncInteraction.active=!1,e.itemInteraction.click.active=!0,e.keyboardInteraction.active=!1,e.itemInteraction.click.index=t.payload.activeIndex,e.itemInteraction.click.dataKey=t.payload.activeDataKey,e.itemInteraction.click.graphicalItemId=t.payload.activeGraphicalItemId,e.itemInteraction.click.coordinate=t.payload.activeCoordinate},setMouseOverAxisIndex(e,t){e.syncInteraction.active=!1,e.axisInteraction.hover.active=!0,e.keyboardInteraction.active=!1,e.axisInteraction.hover.index=t.payload.activeIndex,e.axisInteraction.hover.dataKey=t.payload.activeDataKey,e.axisInteraction.hover.coordinate=t.payload.activeCoordinate},setMouseClickAxisIndex(e,t){e.syncInteraction.active=!1,e.keyboardInteraction.active=!1,e.axisInteraction.click.active=!0,e.axisInteraction.click.index=t.payload.activeIndex,e.axisInteraction.click.dataKey=t.payload.activeDataKey,e.axisInteraction.click.coordinate=t.payload.activeCoordinate},setSyncInteraction(e,t){e.syncInteraction=t.payload},setKeyboardInteraction(e,t){e.keyboardInteraction.active=t.payload.active,e.keyboardInteraction.index=t.payload.activeIndex,e.keyboardInteraction.coordinate=t.payload.activeCoordinate,e.keyboardInteraction.dataKey=t.payload.activeDataKey}}}),{addTooltipEntrySettings:d_e,replaceTooltipEntrySettings:f_e,removeTooltipEntrySettings:h_e,setTooltipSettingsState:m_e,setActiveMouseOverItemIndex:p_e,mouseLeaveItem:WMe,mouseLeaveChart:iF,setActiveClickItemIndex:VMe,setMouseOverAxisIndex:aF,setMouseClickAxisIndex:g_e,setSyncInteraction:L2,setKeyboardInteraction:I2}=rF.actions,b_e=rF.reducer;function CI(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Rb(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?CI(Object(n),!0).forEach(function(r){y_e(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):CI(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function y_e(e,t,n){return(t=v_e(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function v_e(e){var t=x_e(e,"string");return typeof t=="symbol"?t:t+""}function x_e(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function w_e(e,t,n){return t==="axis"?n==="click"?e.axisInteraction.click:e.axisInteraction.hover:n==="click"?e.itemInteraction.click:e.itemInteraction.hover}function __e(e){return e.index!=null}var oF=(e,t,n,r)=>{if(t==null)return Vl;var i=w_e(e,t,n);if(i==null)return Vl;if(i.active)return i;if(e.keyboardInteraction.active)return e.keyboardInteraction;if(e.syncInteraction.active&&e.syncInteraction.index!=null)return e.syncInteraction;var a=e.settings.active===!0;if(__e(i)){if(a)return Rb(Rb({},i),{},{active:!0})}else if(r!=null)return{active:!0,coordinate:void 0,dataKey:void 0,index:r,graphicalItemId:void 0};return Rb(Rb({},Vl),{},{coordinate:i.coordinate})};function S_e(e){if(typeof e=="number")return Number.isFinite(e)?e:void 0;if(e instanceof Date){var t=e.valueOf();return Number.isFinite(t)?t:void 0}var n=Number(e);return Number.isFinite(n)?n:void 0}function k_e(e,t){var n=S_e(e),r=t[0],i=t[1];if(n===void 0)return!1;var a=Math.min(r,i),o=Math.max(r,i);return n>=a&&n<=o}function E_e(e,t,n){if(n==null||t==null)return!0;var r=Yr(e,t);return r==null||!lc(n)?!0:k_e(r,n)}var LA=(e,t,n,r)=>{var i=e?.index;if(i==null)return null;var a=Number(i);if(!Pn(a))return i;var o=0,l=1/0;t.length>0&&(l=t.length-1);var u=Math.max(o,Math.min(a,l)),d=t[u];return d==null||E_e(d,n,r)?String(u):null},sF=(e,t,n,r,i,a,o,l)=>{if(!(a==null||l==null)){var u=o[0],d=u==null?void 0:l(u.positions,a);if(d!=null)return d;var h=i?.[Number(a)];if(h)switch(n){case"horizontal":return{x:h.coordinate,y:(r.top+t)/2};default:return{x:(r.left+e)/2,y:h.coordinate}}}},lF=(e,t,n,r)=>{if(t==="axis")return e.tooltipItemPayloads;if(e.tooltipItemPayloads.length===0)return[];var i;return n==="hover"?i=e.itemInteraction.hover.dataKey:i=e.itemInteraction.click.dataKey,i==null&&r!=null?[e.tooltipItemPayloads[0]]:e.tooltipItemPayloads.filter(a=>{var o;return((o=a.settings)===null||o===void 0?void 0:o.dataKey)===i})},o0=e=>e.options.tooltipPayloadSearcher,Kf=e=>e.tooltip;function MI(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function DI(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?MI(Object(n),!0).forEach(function(r){j_e(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):MI(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function j_e(e,t,n){return(t=T_e(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function T_e(e){var t=A_e(e,"string");return typeof t=="symbol"?t:t+""}function A_e(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function N_e(e,t){return e??t}var cF=(e,t,n,r,i,a,o)=>{if(!(t==null||a==null)){var{chartData:l,computedData:u,dataStartIndex:d,dataEndIndex:h}=n,m=[];return e.reduce((b,y)=>{var k,{dataDefinedOnItem:w,settings:_}=y,j=N_e(w,l),O=Array.isArray(j)?B8(j,d,h):j,T=(k=_?.dataKey)!==null&&k!==void 0?k:r,C=_?.nameKey,M;if(r&&Array.isArray(O)&&!Array.isArray(O[0])&&o==="axis"?M=J9(O,r,i):M=a(O,t,u,C),Array.isArray(M))M.forEach(I=>{var z=DI(DI({},_),{},{name:I.name,unit:I.unit,color:void 0,fill:void 0});b.push(nL({tooltipEntrySettings:z,dataKey:I.dataKey,payload:I.payload,value:Yr(I.payload,I.dataKey),name:I.name}))});else{var P;b.push(nL({tooltipEntrySettings:_,dataKey:T,payload:M,value:Yr(M,T),name:(P=Yr(M,C))!==null&&P!==void 0?P:_?.name}))}return b},m)}},IA=_e([cr,sn,yU,yA,lr],UU),O_e=_e([e=>e.graphicalItems.cartesianItems,e=>e.graphicalItems.polarItems],(e,t)=>[...e,...t]),C_e=_e([lr,Gf],vU),s0=_e([O_e,cr,C_e],wU,{memoizeOptions:{resultEqualityCheck:rw}}),M_e=_e([s0],e=>e.filter(EA)),D_e=_e([s0],kU,{memoizeOptions:{resultEqualityCheck:rw}}),Wf=_e([D_e,mc],EU),P_e=_e([M_e,mc,cr],pU),$A=_e([Wf,cr,s0],jU),uF=_e([cr],AA),R_e=_e([cr],e=>e.allowDataOverflow),dF=_e([uF,R_e],Wz),L_e=_e([s0],e=>e.filter(EA)),I_e=_e([P_e,L_e,Jx,lU],AU),$_e=_e([I_e,mc,lr,dF],NU),B_e=_e([s0],SU),z_e=_e([Wf,cr,B_e,NA,lr],MU,{memoizeOptions:{resultEqualityCheck:nw}}),U_e=_e([DU,lr,Gf],Yf),F_e=_e([U_e,lr],LU),H_e=_e([PU,lr,Gf],Yf),G_e=_e([H_e,lr],IU),Y_e=_e([RU,lr,Gf],Yf),q_e=_e([Y_e,lr],$U),K_e=_e([F_e,q_e,G_e],Ov),W_e=_e([cr,uF,dF,$_e,z_e,K_e,sn,lr],BU),l0=_e([cr,sn,Wf,$A,Jx,lr,W_e],zU),V_e=_e([l0,cr,IA],FU),Z_e=_e([cr,l0,V_e,lr],HU),fF=e=>{var t=lr(e),n=Gf(e),r=!1;return a0(e,t,n,r)},hF=_e([cr,fF],Qx),mF=_e([cr,IA,Z_e,hF],CA),X_e=_e([sn,$A,cr,lr],WU),J_e=_e([sn,$A,cr,lr],VU),Q_e=(e,t,n,r,i,a,o,l)=>{if(t){var{type:u}=t,d=Ws(e,l);if(r){var h=n==="scaleBand"&&r.bandwidth?r.bandwidth()/2:2,m=u==="category"&&r.bandwidth?r.bandwidth()/h:0;return m=l==="angleAxis"&&i!=null&&i?.length>=2?Sa(i[0]-i[1])*2*m:m,d&&o?o.map((b,y)=>({coordinate:r(b)+m,value:b,index:y,offset:m})):r.domain().map((b,y)=>({coordinate:r(b)+m,value:a?a[b]:b,index:y,offset:m}))}}},el=_e([sn,cr,IA,mF,fF,X_e,J_e,lr],Q_e),BA=_e([QU,eF,c_e],(e,t,n)=>tF(n.shared,e,t)),pF=e=>e.tooltip.settings.trigger,zA=e=>e.tooltip.settings.defaultIndex,c0=_e([Kf,BA,pF,zA],oF),kp=_e([c0,Wf,r0,l0],LA),gF=_e([el,kp],nF),e1e=_e([c0],e=>{if(e)return e.dataKey});_e([c0],e=>{if(e)return e.graphicalItemId});var bF=_e([Kf,BA,pF,zA],lF),t1e=_e([Vs,Zs,sn,$r,el,zA,bF,o0],sF),n1e=_e([c0,t1e],(e,t)=>e!=null&&e.coordinate?e.coordinate:t),r1e=_e([c0],e=>e.active),i1e=_e([bF,kp,mc,r0,gF,o0,BA],cF),a1e=_e([i1e],e=>{if(e!=null){var t=e.map(n=>n.payload).filter(n=>n!=null);return Array.from(new Set(t))}});function PI(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function RI(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?PI(Object(n),!0).forEach(function(r){o1e(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):PI(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function o1e(e,t,n){return(t=s1e(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function s1e(e){var t=l1e(e,"string");return typeof t=="symbol"?t:t+""}function l1e(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var c1e=()=>it(cr),u1e=()=>{var e=c1e(),t=it(el),n=it(mF);return cv(!e||!n?void 0:RI(RI({},e),{},{scale:n}),t)};function LI(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function $d(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?LI(Object(n),!0).forEach(function(r){d1e(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):LI(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function d1e(e,t,n){return(t=f1e(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function f1e(e){var t=h1e(e,"string");return typeof t=="symbol"?t:t+""}function h1e(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var m1e=(e,t,n,r)=>{var i=t.find(a=>a&&a.index===n);if(i){if(e==="horizontal")return{x:i.coordinate,y:r.chartY};if(e==="vertical")return{x:r.chartX,y:i.coordinate}}return{x:0,y:0}},p1e=(e,t,n,r)=>{var i=t.find(d=>d&&d.index===n);if(i){if(e==="centric"){var a=i.coordinate,{radius:o}=r;return $d($d($d({},r),Pr(r.cx,r.cy,o,a)),{},{angle:a,radius:o})}var l=i.coordinate,{angle:u}=r;return $d($d($d({},r),Pr(r.cx,r.cy,l,u)),{},{angle:u,radius:l})}return{angle:0,clockWise:!1,cx:0,cy:0,endAngle:0,innerRadius:0,outerRadius:0,radius:0,startAngle:0,x:0,y:0}};function g1e(e,t){var{chartX:n,chartY:r}=e;return n>=t.left&&n<=t.left+t.width&&r>=t.top&&r<=t.top+t.height}var yF=(e,t,n,r,i)=>{var a,o=-1,l=(a=t?.length)!==null&&a!==void 0?a:0;if(l<=1||e==null)return 0;if(r==="angleAxis"&&i!=null&&Math.abs(Math.abs(i[1]-i[0])-360)<=1e-6)for(var u=0;u<l;u++){var d=u>0?n[u-1].coordinate:n[l-1].coordinate,h=n[u].coordinate,m=u>=l-1?n[0].coordinate:n[u+1].coordinate,b=void 0;if(Sa(h-d)!==Sa(m-h)){var y=[];if(Sa(m-h)===Sa(i[1]-i[0])){b=m;var k=h+i[1]-i[0];y[0]=Math.min(k,(k+d)/2),y[1]=Math.max(k,(k+d)/2)}else{b=d;var w=m+i[1]-i[0];y[0]=Math.min(h,(w+h)/2),y[1]=Math.max(h,(w+h)/2)}var _=[Math.min(h,(b+h)/2),Math.max(h,(b+h)/2)];if(e>_[0]&&e<=_[1]||e>=y[0]&&e<=y[1]){({index:o}=n[u]);break}}else{var j=Math.min(d,m),O=Math.max(d,m);if(e>(j+h)/2&&e<=(O+h)/2){({index:o}=n[u]);break}}}else if(t){for(var T=0;T<l;T++)if(T===0&&e<=(t[T].coordinate+t[T+1].coordinate)/2||T>0&&T<l-1&&e>(t[T].coordinate+t[T-1].coordinate)/2&&e<=(t[T].coordinate+t[T+1].coordinate)/2||T===l-1&&e>(t[T].coordinate+t[T-1].coordinate)/2){({index:o}=t[T]);break}}return o},vF=()=>it(yA),UA=(e,t)=>t,xF=(e,t,n)=>n,FA=(e,t,n,r)=>r,b1e=_e(el,e=>Ax(e,t=>t.coordinate)),HA=_e([Kf,UA,xF,FA],oF),GA=_e([HA,Wf,r0,l0],LA),y1e=(e,t,n)=>{if(t!=null){var r=Kf(e);return t==="axis"?n==="hover"?r.axisInteraction.hover.dataKey:r.axisInteraction.click.dataKey:n==="hover"?r.itemInteraction.hover.dataKey:r.itemInteraction.click.dataKey}},wF=_e([Kf,UA,xF,FA],lF),Cv=_e([Vs,Zs,sn,$r,el,FA,wF,o0],sF),v1e=_e([HA,Cv],(e,t)=>{var n;return(n=e.coordinate)!==null&&n!==void 0?n:t}),_F=_e([el,GA],nF),x1e=_e([wF,GA,mc,r0,_F,o0,UA],cF),w1e=_e([HA,GA],(e,t)=>({isActive:e.active&&t!=null,activeIndex:t})),_1e=(e,t,n,r,i,a,o)=>{if(!(!e||!n||!r||!i)&&g1e(e,o)){var l=K0e(e,t),u=yF(l,a,i,n,r),d=m1e(t,i,u,e);return{activeIndex:String(u),activeCoordinate:d}}},S1e=(e,t,n,r,i,a,o)=>{if(!(!e||!r||!i||!a||!n)){var l=iye(e,n);if(l){var u=W0e(l,t),d=yF(u,o,a,r,i),h=p1e(t,a,d,l);return{activeIndex:String(d),activeCoordinate:h}}}},k1e=(e,t,n,r,i,a,o,l)=>{if(!(!e||!t||!r||!i||!a))return t==="horizontal"||t==="vertical"?_1e(e,t,r,i,a,o,l):S1e(e,t,n,r,i,a,o)},E1e=_e(e=>e.zIndex.zIndexMap,(e,t)=>t,(e,t,n)=>n,(e,t,n)=>{if(t!=null){var r=e[t];if(r!=null)return n?r.panoramaElementId:r.elementId}}),j1e=_e(e=>e.zIndex.zIndexMap,e=>{var t=Object.keys(e).map(r=>parseInt(r,10)).concat(Object.values(ei)),n=Array.from(new Set(t));return n.sort((r,i)=>r-i)},{memoizeOptions:{resultEqualityCheck:lwe}});function II(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function $I(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?II(Object(n),!0).forEach(function(r){T1e(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):II(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function T1e(e,t,n){return(t=A1e(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function A1e(e){var t=N1e(e,"string");return typeof t=="symbol"?t:t+""}function N1e(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var O1e={},C1e={zIndexMap:Object.values(ei).reduce((e,t)=>$I($I({},e),{},{[t]:{elementId:void 0,panoramaElementId:void 0,consumers:0}}),O1e)},M1e=new Set(Object.values(ei));function D1e(e){return M1e.has(e)}var SF=Ai({name:"zIndex",initialState:C1e,reducers:{registerZIndexPortal:{reducer:(e,t)=>{var{zIndex:n}=t.payload;e.zIndexMap[n]?e.zIndexMap[n].consumers+=1:e.zIndexMap[n]={consumers:1,elementId:void 0,panoramaElementId:void 0}},prepare:yn()},unregisterZIndexPortal:{reducer:(e,t)=>{var{zIndex:n}=t.payload;e.zIndexMap[n]&&(e.zIndexMap[n].consumers-=1,e.zIndexMap[n].consumers<=0&&!D1e(n)&&delete e.zIndexMap[n])},prepare:yn()},registerZIndexPortalId:{reducer:(e,t)=>{var{zIndex:n,elementId:r,isPanorama:i}=t.payload;e.zIndexMap[n]?i?e.zIndexMap[n].panoramaElementId=r:e.zIndexMap[n].elementId=r:e.zIndexMap[n]={consumers:0,elementId:i?void 0:r,panoramaElementId:i?r:void 0}},prepare:yn()},unregisterZIndexPortalId:{reducer:(e,t)=>{var{zIndex:n}=t.payload;e.zIndexMap[n]&&(t.payload.isPanorama?e.zIndexMap[n].panoramaElementId=void 0:e.zIndexMap[n].elementId=void 0)},prepare:yn()}}}),{registerZIndexPortal:P1e,unregisterZIndexPortal:R1e,registerZIndexPortalId:L1e,unregisterZIndexPortalId:I1e}=SF.actions,$1e=SF.reducer;function tl(e){var{zIndex:t,children:n}=e,r=Age(),i=r&&t!==void 0&&t!==0,a=Ni(),o=Sr();S.useLayoutEffect(()=>i?(o(P1e({zIndex:t})),()=>{o(R1e({zIndex:t}))}):Gp,[o,t,i]);var l=it(d=>E1e(d,t,a));if(!i)return n;if(!l)return null;var u=document.getElementById(l);return u?Iu.createPortal(n,u):null}function $2(){return $2=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},$2.apply(null,arguments)}function BI(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Lb(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?BI(Object(n),!0).forEach(function(r){B1e(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):BI(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function B1e(e,t,n){return(t=z1e(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function z1e(e){var t=U1e(e,"string");return typeof t=="symbol"?t:t+""}function U1e(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function F1e(e){var{cursor:t,cursorComp:n,cursorProps:r}=e;return S.isValidElement(t)?S.cloneElement(t,r):S.createElement(n,r)}function H1e(e){var t,{coordinate:n,payload:r,index:i,offset:a,tooltipAxisBandSize:o,layout:l,cursor:u,tooltipEventType:d,chartName:h}=e,m=n,b=r,y=i;if(!u||!m||h!=="ScatterChart"&&d!=="axis")return null;var k,w,_;if(h==="ScatterChart")k=m,w=gbe,_=ei.cursorLine;else if(h==="BarChart")k=bbe(l,m,a,o),w=Wbe,_=ei.cursorRectangle;else if(l==="radial"&&Q9(m)){var{cx:j,cy:O,radius:T,startAngle:C,endAngle:M}=dz(m);k={cx:j,cy:O,startAngle:C,endAngle:M,innerRadius:T,outerRadius:T},w=lye,_=ei.cursorLine}else k={points:cye(l,m,a)},w=sy,_=ei.cursorLine;var P=typeof u=="object"&&"className"in u?u.className:void 0,I=Lb(Lb(Lb(Lb({stroke:"#ccc",pointerEvents:"none"},a),k),kx(u)),{},{payload:b,payloadIndex:y,className:fn("recharts-tooltip-cursor",P)});return S.createElement(tl,{zIndex:(t=e.zIndex)!==null&&t!==void 0?t:_},S.createElement(F1e,{cursor:u,cursorComp:w,cursorProps:I}))}function G1e(e){var t=u1e(),n=V8(),r=Vp(),i=vF();return t==null||n==null||r==null||i==null?null:S.createElement(H1e,$2({},e,{offset:n,layout:r,tooltipAxisBandSize:t,chartName:i}))}var kF=S.createContext(null),Y1e=()=>S.useContext(kF),yk={exports:{}},zI;function q1e(){return zI||(zI=1,(function(e){var t=Object.prototype.hasOwnProperty,n="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(n=!1));function i(u,d,h){this.fn=u,this.context=d,this.once=h||!1}function a(u,d,h,m,b){if(typeof h!="function")throw new TypeError("The listener must be a function");var y=new i(h,m||u,b),k=n?n+d:d;return u._events[k]?u._events[k].fn?u._events[k]=[u._events[k],y]:u._events[k].push(y):(u._events[k]=y,u._eventsCount++),u}function o(u,d){--u._eventsCount===0?u._events=new r:delete u._events[d]}function l(){this._events=new r,this._eventsCount=0}l.prototype.eventNames=function(){var d=[],h,m;if(this._eventsCount===0)return d;for(m in h=this._events)t.call(h,m)&&d.push(n?m.slice(1):m);return Object.getOwnPropertySymbols?d.concat(Object.getOwnPropertySymbols(h)):d},l.prototype.listeners=function(d){var h=n?n+d:d,m=this._events[h];if(!m)return[];if(m.fn)return[m.fn];for(var b=0,y=m.length,k=new Array(y);b<y;b++)k[b]=m[b].fn;return k},l.prototype.listenerCount=function(d){var h=n?n+d:d,m=this._events[h];return m?m.fn?1:m.length:0},l.prototype.emit=function(d,h,m,b,y,k){var w=n?n+d:d;if(!this._events[w])return!1;var _=this._events[w],j=arguments.length,O,T;if(_.fn){switch(_.once&&this.removeListener(d,_.fn,void 0,!0),j){case 1:return _.fn.call(_.context),!0;case 2:return _.fn.call(_.context,h),!0;case 3:return _.fn.call(_.context,h,m),!0;case 4:return _.fn.call(_.context,h,m,b),!0;case 5:return _.fn.call(_.context,h,m,b,y),!0;case 6:return _.fn.call(_.context,h,m,b,y,k),!0}for(T=1,O=new Array(j-1);T<j;T++)O[T-1]=arguments[T];_.fn.apply(_.context,O)}else{var C=_.length,M;for(T=0;T<C;T++)switch(_[T].once&&this.removeListener(d,_[T].fn,void 0,!0),j){case 1:_[T].fn.call(_[T].context);break;case 2:_[T].fn.call(_[T].context,h);break;case 3:_[T].fn.call(_[T].context,h,m);break;case 4:_[T].fn.call(_[T].context,h,m,b);break;default:if(!O)for(M=1,O=new Array(j-1);M<j;M++)O[M-1]=arguments[M];_[T].fn.apply(_[T].context,O)}}return!0},l.prototype.on=function(d,h,m){return a(this,d,h,m,!1)},l.prototype.once=function(d,h,m){return a(this,d,h,m,!0)},l.prototype.removeListener=function(d,h,m,b){var y=n?n+d:d;if(!this._events[y])return this;if(!h)return o(this,y),this;var k=this._events[y];if(k.fn)k.fn===h&&(!b||k.once)&&(!m||k.context===m)&&o(this,y);else{for(var w=0,_=[],j=k.length;w<j;w++)(k[w].fn!==h||b&&!k[w].once||m&&k[w].context!==m)&&_.push(k[w]);_.length?this._events[y]=_.length===1?_[0]:_:o(this,y)}return this},l.prototype.removeAllListeners=function(d){var h;return d?(h=n?n+d:d,this._events[h]&&o(this,h)):(this._events=new r,this._eventsCount=0),this},l.prototype.off=l.prototype.removeListener,l.prototype.addListener=l.prototype.on,l.prefixed=n,l.EventEmitter=l,e.exports=l})(yk)),yk.exports}var K1e=q1e();const W1e=Ti(K1e);var Ep=new W1e,B2="recharts.syncEvent.tooltip",UI="recharts.syncEvent.brush";function V1e(e,t){if(t){var n=Number.parseInt(t,10);if(!uo(n))return e?.[n]}}var Z1e={chartName:"",tooltipPayloadSearcher:void 0,eventEmitter:void 0,defaultTooltipEventType:"axis"},EF=Ai({name:"options",initialState:Z1e,reducers:{createEventEmitter:e=>{e.eventEmitter==null&&(e.eventEmitter=Symbol("rechartsEventEmitter"))}}}),X1e=EF.reducer,{createEventEmitter:J1e}=EF.actions;function Q1e(e){return e.tooltip.syncInteraction}var eSe={chartData:void 0,computedData:void 0,dataStartIndex:0,dataEndIndex:0},jF=Ai({name:"chartData",initialState:eSe,reducers:{setChartData(e,t){if(e.chartData=t.payload,t.payload==null){e.dataStartIndex=0,e.dataEndIndex=0;return}t.payload.length>0&&e.dataEndIndex!==t.payload.length-1&&(e.dataEndIndex=t.payload.length-1)},setComputedData(e,t){e.computedData=t.payload},setDataStartEndIndexes(e,t){var{startIndex:n,endIndex:r}=t.payload;n!=null&&(e.dataStartIndex=n),r!=null&&(e.dataEndIndex=r)}}}),{setChartData:FI,setDataStartEndIndexes:tSe,setComputedData:ZMe}=jF.actions,nSe=jF.reducer,rSe=["x","y"];function HI(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Bd(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?HI(Object(n),!0).forEach(function(r){iSe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):HI(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function iSe(e,t,n){return(t=aSe(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function aSe(e){var t=oSe(e,"string");return typeof t=="symbol"?t:t+""}function oSe(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function sSe(e,t){if(e==null)return{};var n,r,i=lSe(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function lSe(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function cSe(){var e=it(vA),t=it(xA),n=Sr(),r=it(cU),i=it(el),a=Vp(),o=Ux(),l=it(u=>u.rootProps.className);S.useEffect(()=>{if(e==null)return Gp;var u=(d,h,m)=>{if(t!==m&&e===d){if(r==="index"){var b;if(o&&h!==null&&h!==void 0&&(b=h.payload)!==null&&b!==void 0&&b.coordinate&&h.payload.sourceViewBox){var y=h.payload.coordinate,{x:k,y:w}=y,_=sSe(y,rSe),{x:j,y:O,width:T,height:C}=h.payload.sourceViewBox,M=Bd(Bd({},_),{},{x:o.x+(T?(k-j)/T:0)*o.width,y:o.y+(C?(w-O)/C:0)*o.height});n(Bd(Bd({},h),{},{payload:Bd(Bd({},h.payload),{},{coordinate:M})}))}else n(h);return}if(i!=null){var P;if(typeof r=="function"){var I={activeTooltipIndex:h.payload.index==null?void 0:Number(h.payload.index),isTooltipActive:h.payload.active,activeIndex:h.payload.index==null?void 0:Number(h.payload.index),activeLabel:h.payload.label,activeDataKey:h.payload.dataKey,activeCoordinate:h.payload.coordinate},z=r(i,I);P=i[z]}else r==="value"&&(P=i.find(Y=>String(Y.value)===h.payload.label));var{coordinate:K}=h.payload;if(P==null||h.payload.active===!1||K==null||o==null){n(L2({active:!1,coordinate:void 0,dataKey:void 0,index:null,label:void 0,sourceViewBox:void 0,graphicalItemId:void 0}));return}var{x:G,y:F}=K,B=Math.min(G,o.x+o.width),q=Math.min(F,o.y+o.height),X={x:a==="horizontal"?P.coordinate:B,y:a==="horizontal"?q:P.coordinate},Z=L2({active:h.payload.active,coordinate:X,dataKey:h.payload.dataKey,index:String(P.index),label:h.payload.label,sourceViewBox:h.payload.sourceViewBox,graphicalItemId:h.payload.graphicalItemId});n(Z)}}};return Ep.on(B2,u),()=>{Ep.off(B2,u)}},[l,n,t,e,r,i,a,o])}function uSe(){var e=it(vA),t=it(xA),n=Sr();S.useEffect(()=>{if(e==null)return Gp;var r=(i,a,o)=>{t!==o&&e===i&&n(tSe(a))};return Ep.on(UI,r),()=>{Ep.off(UI,r)}},[n,t,e])}function dSe(){var e=Sr();S.useEffect(()=>{e(J1e())},[e]),cSe(),uSe()}function fSe(e,t,n,r,i,a){var o=it(y=>y1e(y,e,t)),l=it(xA),u=it(vA),d=it(cU),h=it(Q1e),m=h?.active,b=Ux();S.useEffect(()=>{if(!m&&u!=null&&l!=null){var y=L2({active:a,coordinate:n,dataKey:o,index:i,label:typeof r=="number"?String(r):r,sourceViewBox:b,graphicalItemId:void 0});Ep.emit(B2,u,y,l)}},[m,n,o,i,r,l,u,d,a,b])}function GI(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function YI(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?GI(Object(n),!0).forEach(function(r){hSe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):GI(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function hSe(e,t,n){return(t=mSe(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function mSe(e){var t=pSe(e,"string");return typeof t=="symbol"?t:t+""}function pSe(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function gSe(e){return e.dataKey}function bSe(e,t){return S.isValidElement(e)?S.cloneElement(e,t):typeof e=="function"?S.createElement(e,t):S.createElement(Vge,t)}var qI=[],ySe={allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",axisId:0,contentStyle:{},cursor:!0,filterNull:!0,isAnimationActive:"auto",itemSorter:"name",itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,wrapperStyle:{}};function vSe(e){var t,n,r=ta(e,ySe),{active:i,allowEscapeViewBox:a,animationDuration:o,animationEasing:l,content:u,filterNull:d,isAnimationActive:h,offset:m,payloadUniqBy:b,position:y,reverseDirection:k,useTranslate3d:w,wrapperStyle:_,cursor:j,shared:O,trigger:T,defaultIndex:C,portal:M,axisId:P}=r,I=Sr(),z=typeof C=="number"?String(C):C;S.useEffect(()=>{I(m_e({shared:O,trigger:T,axisId:P,active:i,defaultIndex:z}))},[I,O,T,P,i,z]);var K=Ux(),G=az(),F=l_e(O),{activeIndex:B,isActive:q}=(t=it(pe=>w1e(pe,F,T,z)))!==null&&t!==void 0?t:{},X=it(pe=>x1e(pe,F,T,z)),Z=it(pe=>_F(pe,F,T,z)),Y=it(pe=>v1e(pe,F,T,z)),V=X,Q=Y1e(),se=(n=i??q)!==null&&n!==void 0?n:!1,[ce,W]=Ipe([V,se]),ne=F==="axis"?Z:void 0;fSe(F,T,Y,ne,B,se);var ie=M??Q;if(ie==null||K==null||F==null)return null;var he=V??qI;se||(he=qI),d&&he.length&&(he=cpe(he.filter(pe=>pe.value!=null&&(pe.hide!==!0||r.includeHidden)),b,gSe));var J=he.length>0,ae=S.createElement(nbe,{allowEscapeViewBox:a,animationDuration:o,animationEasing:l,isAnimationActive:h,active:se,coordinate:Y,hasPayload:J,offset:m,position:y,reverseDirection:k,useTranslate3d:w,viewBox:K,wrapperStyle:_,lastBoundingBox:ce,innerRef:W,hasPortalFromProps:!!M},bSe(u,YI(YI({},r),{},{payload:he,label:ne,active:se,activeIndex:B,coordinate:Y,accessibilityLayer:G})));return S.createElement(S.Fragment,null,Iu.createPortal(ae,ie),se&&S.createElement(G1e,{cursor:j,tooltipEventType:F,coordinate:Y,payload:he,index:B}))}function xSe(e,t,n){return(t=wSe(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function wSe(e){var t=_Se(e,"string");return typeof t=="symbol"?t:t+""}function _Se(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class SSe{constructor(t){xSe(this,"cache",new Map),this.maxSize=t}get(t){var n=this.cache.get(t);return n!==void 0&&(this.cache.delete(t),this.cache.set(t,n)),n}set(t,n){if(this.cache.has(t))this.cache.delete(t);else if(this.cache.size>=this.maxSize){var r=this.cache.keys().next().value;r!=null&&this.cache.delete(r)}this.cache.set(t,n)}clear(){this.cache.clear()}size(){return this.cache.size}}function KI(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function kSe(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?KI(Object(n),!0).forEach(function(r){ESe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):KI(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function ESe(e,t,n){return(t=jSe(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function jSe(e){var t=TSe(e,"string");return typeof t=="symbol"?t:t+""}function TSe(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var ASe={cacheSize:2e3,enableCache:!0},TF=kSe({},ASe),WI=new SSe(TF.cacheSize),NSe={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},VI="recharts_measurement_span";function OSe(e,t){var n=t.fontSize||"",r=t.fontFamily||"",i=t.fontWeight||"",a=t.fontStyle||"",o=t.letterSpacing||"",l=t.textTransform||"";return"".concat(e,"|").concat(n,"|").concat(r,"|").concat(i,"|").concat(a,"|").concat(o,"|").concat(l)}var ZI=(e,t)=>{try{var n=document.getElementById(VI);n||(n=document.createElement("span"),n.setAttribute("id",VI),n.setAttribute("aria-hidden","true"),document.body.appendChild(n)),Object.assign(n.style,NSe,t),n.textContent="".concat(e);var r=n.getBoundingClientRect();return{width:r.width,height:r.height}}catch{return{width:0,height:0}}},Fm=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t==null||zf.isSsr)return{width:0,height:0};if(!TF.enableCache)return ZI(t,n);var r=OSe(t,n),i=WI.get(r);if(i)return i;var a=ZI(t,n);return WI.set(r,a),a},XI=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,JI=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,CSe=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,MSe=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,AF={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},DSe=Object.keys(AF),Xd="NaN";function PSe(e,t){return e*AF[t]}class wi{static parse(t){var n,[,r,i]=(n=MSe.exec(t))!==null&&n!==void 0?n:[];return new wi(parseFloat(r),i??"")}constructor(t,n){this.num=t,this.unit=n,this.num=t,this.unit=n,uo(t)&&(this.unit=""),n!==""&&!CSe.test(n)&&(this.num=NaN,this.unit=""),DSe.includes(n)&&(this.num=PSe(t,n),this.unit="px")}add(t){return this.unit!==t.unit?new wi(NaN,""):new wi(this.num+t.num,this.unit)}subtract(t){return this.unit!==t.unit?new wi(NaN,""):new wi(this.num-t.num,this.unit)}multiply(t){return this.unit!==""&&t.unit!==""&&this.unit!==t.unit?new wi(NaN,""):new wi(this.num*t.num,this.unit||t.unit)}divide(t){return this.unit!==""&&t.unit!==""&&this.unit!==t.unit?new wi(NaN,""):new wi(this.num/t.num,this.unit||t.unit)}toString(){return"".concat(this.num).concat(this.unit)}isNaN(){return uo(this.num)}}function NF(e){if(e.includes(Xd))return Xd;for(var t=e;t.includes("*")||t.includes("/");){var n,[,r,i,a]=(n=XI.exec(t))!==null&&n!==void 0?n:[],o=wi.parse(r??""),l=wi.parse(a??""),u=i==="*"?o.multiply(l):o.divide(l);if(u.isNaN())return Xd;t=t.replace(XI,u.toString())}for(;t.includes("+")||/.-\d+(?:\.\d+)?/.test(t);){var d,[,h,m,b]=(d=JI.exec(t))!==null&&d!==void 0?d:[],y=wi.parse(h??""),k=wi.parse(b??""),w=m==="+"?y.add(k):y.subtract(k);if(w.isNaN())return Xd;t=t.replace(JI,w.toString())}return t}var QI=/\(([^()]*)\)/;function RSe(e){for(var t=e,n;(n=QI.exec(t))!=null;){var[,r]=n;t=t.replace(QI,NF(r))}return t}function LSe(e){var t=e.replace(/\s+/g,"");return t=RSe(t),t=NF(t),t}function ISe(e){try{return LSe(e)}catch{return Xd}}function vk(e){var t=ISe(e.slice(5,-1));return t===Xd?"":t}var $Se=["x","y","lineHeight","capHeight","fill","scaleToFit","textAnchor","verticalAnchor"],BSe=["dx","dy","angle","className","breakAll"];function z2(){return z2=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},z2.apply(null,arguments)}function e$(e,t){if(e==null)return{};var n,r,i=zSe(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function zSe(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var OF=/[ \f\n\r\t\v\u2028\u2029]+/,CF=e=>{var{children:t,breakAll:n,style:r}=e;try{var i=[];Rr(t)||(n?i=t.toString().split(""):i=t.toString().split(OF));var a=i.map(l=>({word:l,width:Fm(l,r).width})),o=n?0:Fm("",r).width;return{wordsWithComputedWidth:a,spaceWidth:o}}catch{return null}};function USe(e){return e==="start"||e==="middle"||e==="end"||e==="inherit"}var MF=(e,t,n,r)=>e.reduce((i,a)=>{var{word:o,width:l}=a,u=i[i.length-1];if(u&&l!=null&&(t==null||r||u.width+l+n<Number(t)))u.words.push(o),u.width+=l+n;else{var d={words:[o],width:l};i.push(d)}return i},[]),DF=e=>e.reduce((t,n)=>t.width>n.width?t:n),FSe="",t$=(e,t,n,r,i,a,o,l)=>{var u=e.slice(0,t),d=CF({breakAll:n,style:r,children:u+FSe});if(!d)return[!1,[]];var h=MF(d.wordsWithComputedWidth,a,o,l),m=h.length>i||DF(h).width>Number(a);return[m,h]},HSe=(e,t,n,r,i)=>{var{maxLines:a,children:o,style:l,breakAll:u}=e,d=tt(a),h=String(o),m=MF(t,r,n,i);if(!d||i)return m;var b=m.length>a||DF(m).width>Number(r);if(!b)return m;for(var y=0,k=h.length-1,w=0,_;y<=k&&w<=h.length-1;){var j=Math.floor((y+k)/2),O=j-1,[T,C]=t$(h,O,u,l,a,r,n,i),[M]=t$(h,j,u,l,a,r,n,i);if(!T&&!M&&(y=j+1),T&&M&&(k=j-1),!T&&M){_=C;break}w++}return _||m},n$=e=>{var t=Rr(e)?[]:e.toString().split(OF);return[{words:t,width:void 0}]},GSe=e=>{var{width:t,scaleToFit:n,children:r,style:i,breakAll:a,maxLines:o}=e;if((t||n)&&!zf.isSsr){var l,u,d=CF({breakAll:a,children:r,style:i});if(d){var{wordsWithComputedWidth:h,spaceWidth:m}=d;l=h,u=m}else return n$(r);return HSe({breakAll:a,children:r,maxLines:o,style:i},l,u,t,!!n)}return n$(r)},PF="#808080",YSe={angle:0,breakAll:!1,capHeight:"0.71em",fill:PF,lineHeight:"1em",scaleToFit:!1,textAnchor:"start",verticalAnchor:"end",x:0,y:0},YA=S.forwardRef((e,t)=>{var n=ta(e,YSe),{x:r,y:i,lineHeight:a,capHeight:o,fill:l,scaleToFit:u,textAnchor:d,verticalAnchor:h}=n,m=e$(n,$Se),b=S.useMemo(()=>GSe({breakAll:m.breakAll,children:m.children,maxLines:m.maxLines,scaleToFit:u,style:m.style,width:m.width}),[m.breakAll,m.children,m.maxLines,u,m.style,m.width]),{dx:y,dy:k,angle:w,className:_,breakAll:j}=m,O=e$(m,BSe);if(!qo(r)||!qo(i)||b.length===0)return null;var T=Number(r)+(tt(y)?y:0),C=Number(i)+(tt(k)?k:0);if(!Pn(T)||!Pn(C))return null;var M;switch(h){case"start":M=vk("calc(".concat(o,")"));break;case"middle":M=vk("calc(".concat((b.length-1)/2," * -").concat(a," + (").concat(o," / 2))"));break;default:M=vk("calc(".concat(b.length-1," * -").concat(a,")"));break}var P=[];if(u){var I=b[0].width,{width:z}=m;P.push("scale(".concat(tt(z)&&tt(I)?z/I:1,")"))}return w&&P.push("rotate(".concat(w,", ").concat(T,", ").concat(C,")")),P.length&&(O.transform=P.join(" ")),S.createElement("text",z2({},Aa(O),{ref:t,x:T,y:C,className:fn("recharts-text",_),textAnchor:d,fill:l.includes("url")?PF:l}),b.map((K,G)=>{var F=K.words.join(j?"":" ");return S.createElement("tspan",{x:T,dy:G===0?M:a,key:"".concat(F,"-").concat(G)},F)}))});YA.displayName="Text";var qSe=["labelRef"];function KSe(e,t){if(e==null)return{};var n,r,i=WSe(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function WSe(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function r$(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function $n(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?r$(Object(n),!0).forEach(function(r){VSe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r$(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function VSe(e,t,n){return(t=ZSe(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ZSe(e){var t=XSe(e,"string");return typeof t=="symbol"?t:t+""}function XSe(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Ts(){return Ts=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ts.apply(null,arguments)}var RF=S.createContext(null),JSe=e=>{var{x:t,y:n,upperWidth:r,lowerWidth:i,width:a,height:o,children:l}=e,u=S.useMemo(()=>({x:t,y:n,upperWidth:r,lowerWidth:i,width:a,height:o}),[t,n,r,i,a,o]);return S.createElement(RF.Provider,{value:u},l)},LF=()=>{var e=S.useContext(RF),t=Ux();return e||W8(t)},QSe=S.createContext(null),eke=()=>{var e=S.useContext(QSe),t=it(mU);return e||t},tke=e=>{var{value:t,formatter:n}=e,r=Rr(e.children)?t:e.children;return typeof n=="function"?n(r):r},qA=e=>e!=null&&typeof e=="function",nke=(e,t)=>{var n=Sa(t-e),r=Math.min(Math.abs(t-e),360);return n*r},rke=(e,t,n,r,i)=>{var{offset:a,className:o}=e,{cx:l,cy:u,innerRadius:d,outerRadius:h,startAngle:m,endAngle:b,clockWise:y}=i,k=(d+h)/2,w=nke(m,b),_=w>=0?1:-1,j,O;switch(t){case"insideStart":j=m+_*a,O=y;break;case"insideEnd":j=b-_*a,O=!y;break;case"end":j=b+_*a,O=y;break;default:throw new Error("Unsupported position ".concat(t))}O=w<=0?O:!O;var T=Pr(l,u,k,j),C=Pr(l,u,k,j+(O?1:-1)*359),M="M".concat(T.x,",").concat(T.y,`
    A`).concat(k,",").concat(k,",0,1,").concat(O?0:1,`,
    `).concat(C.x,",").concat(C.y),P=Rr(e.id)?dp("recharts-radial-line-"):e.id;return S.createElement("text",Ts({},r,{dominantBaseline:"central",className:fn("recharts-radial-bar-label",o)}),S.createElement("defs",null,S.createElement("path",{id:P,d:M})),S.createElement("textPath",{xlinkHref:"#".concat(P)},n))},ike=(e,t,n)=>{var{cx:r,cy:i,innerRadius:a,outerRadius:o,startAngle:l,endAngle:u}=e,d=(l+u)/2;if(n==="outside"){var{x:h,y:m}=Pr(r,i,o+t,d);return{x:h,y:m,textAnchor:h>=r?"start":"end",verticalAnchor:"middle"}}if(n==="center")return{x:r,y:i,textAnchor:"middle",verticalAnchor:"middle"};if(n==="centerTop")return{x:r,y:i,textAnchor:"middle",verticalAnchor:"start"};if(n==="centerBottom")return{x:r,y:i,textAnchor:"middle",verticalAnchor:"end"};var b=(a+o)/2,{x:y,y:k}=Pr(r,i,b,d);return{x:y,y:k,textAnchor:"middle",verticalAnchor:"middle"}},U2=e=>"cx"in e&&tt(e.cx),ake=(e,t)=>{var{parentViewBox:n,offset:r,position:i}=e,a;n!=null&&!U2(n)&&(a=n);var{x:o,y:l,upperWidth:u,lowerWidth:d,height:h}=t,m=o,b=o+(u-d)/2,y=(m+b)/2,k=(u+d)/2,w=m+u/2,_=h>=0?1:-1,j=_*r,O=_>0?"end":"start",T=_>0?"start":"end",C=u>=0?1:-1,M=C*r,P=C>0?"end":"start",I=C>0?"start":"end";if(i==="top"){var z={x:m+u/2,y:l-j,textAnchor:"middle",verticalAnchor:O};return $n($n({},z),a?{height:Math.max(l-a.y,0),width:u}:{})}if(i==="bottom"){var K={x:b+d/2,y:l+h+j,textAnchor:"middle",verticalAnchor:T};return $n($n({},K),a?{height:Math.max(a.y+a.height-(l+h),0),width:d}:{})}if(i==="left"){var G={x:y-M,y:l+h/2,textAnchor:P,verticalAnchor:"middle"};return $n($n({},G),a?{width:Math.max(G.x-a.x,0),height:h}:{})}if(i==="right"){var F={x:y+k+M,y:l+h/2,textAnchor:I,verticalAnchor:"middle"};return $n($n({},F),a?{width:Math.max(a.x+a.width-F.x,0),height:h}:{})}var B=a?{width:k,height:h}:{};return i==="insideLeft"?$n({x:y+M,y:l+h/2,textAnchor:I,verticalAnchor:"middle"},B):i==="insideRight"?$n({x:y+k-M,y:l+h/2,textAnchor:P,verticalAnchor:"middle"},B):i==="insideTop"?$n({x:m+u/2,y:l+j,textAnchor:"middle",verticalAnchor:T},B):i==="insideBottom"?$n({x:b+d/2,y:l+h-j,textAnchor:"middle",verticalAnchor:O},B):i==="insideTopLeft"?$n({x:m+M,y:l+j,textAnchor:I,verticalAnchor:T},B):i==="insideTopRight"?$n({x:m+u-M,y:l+j,textAnchor:P,verticalAnchor:T},B):i==="insideBottomLeft"?$n({x:b+M,y:l+h-j,textAnchor:I,verticalAnchor:O},B):i==="insideBottomRight"?$n({x:b+d-M,y:l+h-j,textAnchor:P,verticalAnchor:O},B):i&&typeof i=="object"&&(tt(i.x)||Bs(i.x))&&(tt(i.y)||Bs(i.y))?$n({x:o+sc(i.x,k),y:l+sc(i.y,h),textAnchor:"end",verticalAnchor:"end"},B):$n({x:w,y:l+h/2,textAnchor:"middle",verticalAnchor:"middle"},B)},oke={angle:0,offset:5,zIndex:ei.label,position:"middle",textBreakAll:!1};function Hl(e){var t=ta(e,oke),{viewBox:n,position:r,value:i,children:a,content:o,className:l="",textBreakAll:u,labelRef:d}=t,h=eke(),m=LF(),b=r==="center"?m:h??m,y,k,w;if(n==null?y=b:U2(n)?y=n:y=W8(n),!y||Rr(i)&&Rr(a)&&!S.isValidElement(o)&&typeof o!="function")return null;var _=$n($n({},t),{},{viewBox:y});if(S.isValidElement(o)){var{labelRef:j}=_,O=KSe(_,qSe);return S.cloneElement(o,O)}if(typeof o=="function"){if(k=S.createElement(o,_),S.isValidElement(k))return k}else k=tke(t);var T=Aa(t);if(U2(y)){if(r==="insideStart"||r==="insideEnd"||r==="end")return rke(t,r,k,T,y);w=ike(y,t.offset,t.position)}else w=ake(t,y);return S.createElement(tl,{zIndex:t.zIndex},S.createElement(YA,Ts({ref:d,className:fn("recharts-label",l)},T,w,{textAnchor:USe(T.textAnchor)?T.textAnchor:w.textAnchor,breakAll:u}),k))}Hl.displayName="Label";var ske=(e,t,n)=>{if(!e)return null;var r={viewBox:t,labelRef:n};return e===!0?S.createElement(Hl,Ts({key:"label-implicit"},r)):qo(e)?S.createElement(Hl,Ts({key:"label-implicit",value:e},r)):S.isValidElement(e)?e.type===Hl?S.cloneElement(e,$n({key:"label-implicit"},r)):S.createElement(Hl,Ts({key:"label-implicit",content:e},r)):qA(e)?S.createElement(Hl,Ts({key:"label-implicit",content:e},r)):e&&typeof e=="object"?S.createElement(Hl,Ts({},e,{key:"label-implicit"},r)):null};function lke(e){var{label:t,labelRef:n}=e,r=LF();return ske(t,r,n)||null}var xk={},wk={},i$;function cke(){return i$||(i$=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return n[n.length-1]}e.last=t})(wk)),wk}var _k={},a$;function uke(){return a$||(a$=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return Array.isArray(n)?n:Array.from(n)}e.toArray=t})(_k)),_k}var o$;function dke(){return o$||(o$=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=cke(),n=uke(),r=PT();function i(a){if(r.isArrayLike(a))return t.last(n.toArray(a))}e.last=i})(xk)),xk}var Sk,s$;function fke(){return s$||(s$=1,Sk=dke().last),Sk}var hke=fke();const mke=Ti(hke);var pke=["valueAccessor"],gke=["dataKey","clockWise","id","textBreakAll","zIndex"];function Mv(){return Mv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Mv.apply(null,arguments)}function l$(e,t){if(e==null)return{};var n,r,i=bke(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function bke(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var yke=e=>Array.isArray(e.value)?mke(e.value):e.value,IF=S.createContext(void 0),vke=IF.Provider,$F=S.createContext(void 0);$F.Provider;function xke(){return S.useContext(IF)}function wke(){return S.useContext($F)}function cy(e){var{valueAccessor:t=yke}=e,n=l$(e,pke),{dataKey:r,clockWise:i,id:a,textBreakAll:o,zIndex:l}=n,u=l$(n,gke),d=xke(),h=wke(),m=d||h;return!m||!m.length?null:S.createElement(tl,{zIndex:l??ei.label},S.createElement(Yo,{className:"recharts-label-list"},m.map((b,y)=>{var k,w=Rr(r)?t(b,y):Yr(b&&b.payload,r),_=Rr(a)?{}:{id:"".concat(a,"-").concat(y)};return S.createElement(Hl,Mv({key:"label-".concat(y)},Aa(b),u,_,{fill:(k=n.fill)!==null&&k!==void 0?k:b.fill,parentViewBox:b.parentViewBox,value:w,textBreakAll:o,viewBox:b.viewBox,index:y,zIndex:0}))})))}cy.displayName="LabelList";function _ke(e){var{label:t}=e;return t?t===!0?S.createElement(cy,{key:"labelList-implicit"}):S.isValidElement(t)||qA(t)?S.createElement(cy,{key:"labelList-implicit",content:t}):typeof t=="object"?S.createElement(cy,Mv({key:"labelList-implicit"},t,{type:String(t.type)})):null:null}function F2(){return F2=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},F2.apply(null,arguments)}var BF=e=>{var{cx:t,cy:n,r,className:i}=e,a=fn("recharts-dot",i);return tt(t)&&tt(n)&&tt(r)?S.createElement("circle",F2({},co(e),DT(e),{className:a,cx:t,cy:n,r})):null},Ske={radiusAxis:{},angleAxis:{}},zF=Ai({name:"polarAxis",initialState:Ske,reducers:{addRadiusAxis(e,t){e.radiusAxis[t.payload.id]=t.payload},removeRadiusAxis(e,t){delete e.radiusAxis[t.payload.id]},addAngleAxis(e,t){e.angleAxis[t.payload.id]=t.payload},removeAngleAxis(e,t){delete e.angleAxis[t.payload.id]}}}),{addRadiusAxis:XMe,removeRadiusAxis:JMe,addAngleAxis:QMe,removeAngleAxis:eDe}=zF.actions,kke=zF.reducer,kk={exports:{}},Ft={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var c$;function Eke(){if(c$)return Ft;c$=1;var e=typeof Symbol=="function"&&Symbol.for,t=e?Symbol.for("react.element"):60103,n=e?Symbol.for("react.portal"):60106,r=e?Symbol.for("react.fragment"):60107,i=e?Symbol.for("react.strict_mode"):60108,a=e?Symbol.for("react.profiler"):60114,o=e?Symbol.for("react.provider"):60109,l=e?Symbol.for("react.context"):60110,u=e?Symbol.for("react.async_mode"):60111,d=e?Symbol.for("react.concurrent_mode"):60111,h=e?Symbol.for("react.forward_ref"):60112,m=e?Symbol.for("react.suspense"):60113,b=e?Symbol.for("react.suspense_list"):60120,y=e?Symbol.for("react.memo"):60115,k=e?Symbol.for("react.lazy"):60116,w=e?Symbol.for("react.block"):60121,_=e?Symbol.for("react.fundamental"):60117,j=e?Symbol.for("react.responder"):60118,O=e?Symbol.for("react.scope"):60119;function T(M){if(typeof M=="object"&&M!==null){var P=M.$$typeof;switch(P){case t:switch(M=M.type,M){case u:case d:case r:case a:case i:case m:return M;default:switch(M=M&&M.$$typeof,M){case l:case h:case k:case y:case o:return M;default:return P}}case n:return P}}}function C(M){return T(M)===d}return Ft.AsyncMode=u,Ft.ConcurrentMode=d,Ft.ContextConsumer=l,Ft.ContextProvider=o,Ft.Element=t,Ft.ForwardRef=h,Ft.Fragment=r,Ft.Lazy=k,Ft.Memo=y,Ft.Portal=n,Ft.Profiler=a,Ft.StrictMode=i,Ft.Suspense=m,Ft.isAsyncMode=function(M){return C(M)||T(M)===u},Ft.isConcurrentMode=C,Ft.isContextConsumer=function(M){return T(M)===l},Ft.isContextProvider=function(M){return T(M)===o},Ft.isElement=function(M){return typeof M=="object"&&M!==null&&M.$$typeof===t},Ft.isForwardRef=function(M){return T(M)===h},Ft.isFragment=function(M){return T(M)===r},Ft.isLazy=function(M){return T(M)===k},Ft.isMemo=function(M){return T(M)===y},Ft.isPortal=function(M){return T(M)===n},Ft.isProfiler=function(M){return T(M)===a},Ft.isStrictMode=function(M){return T(M)===i},Ft.isSuspense=function(M){return T(M)===m},Ft.isValidElementType=function(M){return typeof M=="string"||typeof M=="function"||M===r||M===d||M===a||M===i||M===m||M===b||typeof M=="object"&&M!==null&&(M.$$typeof===k||M.$$typeof===y||M.$$typeof===o||M.$$typeof===l||M.$$typeof===h||M.$$typeof===_||M.$$typeof===j||M.$$typeof===O||M.$$typeof===w)},Ft.typeOf=T,Ft}var u$;function jke(){return u$||(u$=1,kk.exports=Eke()),kk.exports}jke();var UF=e=>e&&typeof e=="object"&&"clipDot"in e?!!e.clipDot:!0;function Tke(e){var{tooltipEntrySettings:t}=e,n=Sr(),r=Ni(),i=S.useRef(null);return S.useLayoutEffect(()=>{r||(i.current===null?n(d_e(t)):i.current!==t&&n(f_e({prev:i.current,next:t})),i.current=t)},[t,n,r]),S.useLayoutEffect(()=>()=>{i.current&&(n(h_e(i.current)),i.current=null)},[n]),null}function Ake(e){var{legendPayload:t}=e,n=Sr(),r=Ni(),i=S.useRef(null);return S.useLayoutEffect(()=>{r||(i.current===null?n(Uge(t)):i.current!==t&&n(Fge({prev:i.current,next:t})),i.current=t)},[n,r,t]),S.useLayoutEffect(()=>()=>{i.current&&(n(Hge(i.current)),i.current=null)},[n]),null}var Ek,Nke=()=>{var[e]=S.useState(()=>dp("uid-"));return e},Oke=(Ek=qY.useId)!==null&&Ek!==void 0?Ek:Nke;function FF(e,t){var n=Oke();return t||(e?"".concat(e,"-").concat(n):n)}var Cke=S.createContext(void 0),Mke=e=>{var{id:t,type:n,children:r}=e,i=FF("recharts-".concat(n),t);return S.createElement(Cke.Provider,{value:i},r(i))},Dke={cartesianItems:[],polarItems:[]},HF=Ai({name:"graphicalItems",initialState:Dke,reducers:{addCartesianGraphicalItem:{reducer(e,t){e.cartesianItems.push(t.payload)},prepare:yn()},replaceCartesianGraphicalItem:{reducer(e,t){var{prev:n,next:r}=t.payload,i=ro(e).cartesianItems.indexOf(n);i>-1&&(e.cartesianItems[i]=r)},prepare:yn()},removeCartesianGraphicalItem:{reducer(e,t){var n=ro(e).cartesianItems.indexOf(t.payload);n>-1&&e.cartesianItems.splice(n,1)},prepare:yn()},addPolarGraphicalItem:{reducer(e,t){e.polarItems.push(t.payload)},prepare:yn()},removePolarGraphicalItem:{reducer(e,t){var n=ro(e).polarItems.indexOf(t.payload);n>-1&&e.polarItems.splice(n,1)},prepare:yn()}}}),{addCartesianGraphicalItem:Pke,replaceCartesianGraphicalItem:Rke,removeCartesianGraphicalItem:Lke,addPolarGraphicalItem:tDe,removePolarGraphicalItem:nDe}=HF.actions,Ike=HF.reducer,$ke=e=>{var t=Sr(),n=S.useRef(null);return S.useLayoutEffect(()=>{n.current===null?t(Pke(e)):n.current!==e&&t(Rke({prev:n.current,next:e})),n.current=e},[t,e]),S.useLayoutEffect(()=>()=>{n.current&&(t(Lke(n.current)),n.current=null)},[t]),null},Bke=S.memo($ke),zke=["points"];function d$(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function jk(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?d$(Object(n),!0).forEach(function(r){Uke(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):d$(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Uke(e,t,n){return(t=Fke(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Fke(e){var t=Hke(e,"string");return typeof t=="symbol"?t:t+""}function Hke(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Dv(){return Dv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Dv.apply(null,arguments)}function Gke(e,t){if(e==null)return{};var n,r,i=Yke(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function Yke(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function qke(e){var{option:t,dotProps:n,className:r}=e;if(S.isValidElement(t))return S.cloneElement(t,n);if(typeof t=="function")return t(n);var i=fn(r,typeof t!="boolean"?t.className:""),a=n??{},{points:o}=a,l=Gke(a,zke);return S.createElement(BF,Dv({},l,{className:i}))}function Kke(e,t){return e==null?!1:t?!0:e.length===1}function Wke(e){var{points:t,dot:n,className:r,dotClassName:i,dataKey:a,baseProps:o,needClip:l,clipPathId:u,zIndex:d=ei.scatter}=e;if(!Kke(t,n))return null;var h=UF(n),m=rme(n),b=t.map((k,w)=>{var _,j,O=jk(jk(jk({r:3},o),m),{},{index:w,cx:(_=k.x)!==null&&_!==void 0?_:void 0,cy:(j=k.y)!==null&&j!==void 0?j:void 0,dataKey:a,value:k.value,payload:k.payload,points:t});return S.createElement(qke,{key:"dot-".concat(w),option:n,dotProps:O,className:i})}),y={};return l&&u!=null&&(y.clipPath="url(#clipPath-".concat(h?"":"dots-").concat(u,")")),S.createElement(tl,{zIndex:d},S.createElement(Yo,Dv({className:r},y),b))}function f$(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function h$(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?f$(Object(n),!0).forEach(function(r){Vke(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):f$(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Vke(e,t,n){return(t=Zke(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Zke(e){var t=Xke(e,"string");return typeof t=="symbol"?t:t+""}function Xke(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Jke={xAxis:{},yAxis:{},zAxis:{}},GF=Ai({name:"cartesianAxis",initialState:Jke,reducers:{addXAxis:{reducer(e,t){e.xAxis[t.payload.id]=t.payload},prepare:yn()},replaceXAxis:{reducer(e,t){var{prev:n,next:r}=t.payload;e.xAxis[n.id]!==void 0&&(n.id!==r.id&&delete e.xAxis[n.id],e.xAxis[r.id]=r)},prepare:yn()},removeXAxis:{reducer(e,t){delete e.xAxis[t.payload.id]},prepare:yn()},addYAxis:{reducer(e,t){e.yAxis[t.payload.id]=t.payload},prepare:yn()},replaceYAxis:{reducer(e,t){var{prev:n,next:r}=t.payload;e.yAxis[n.id]!==void 0&&(n.id!==r.id&&delete e.yAxis[n.id],e.yAxis[r.id]=r)},prepare:yn()},removeYAxis:{reducer(e,t){delete e.yAxis[t.payload.id]},prepare:yn()},addZAxis:{reducer(e,t){e.zAxis[t.payload.id]=t.payload},prepare:yn()},replaceZAxis:{reducer(e,t){var{prev:n,next:r}=t.payload;e.zAxis[n.id]!==void 0&&(n.id!==r.id&&delete e.zAxis[n.id],e.zAxis[r.id]=r)},prepare:yn()},removeZAxis:{reducer(e,t){delete e.zAxis[t.payload.id]},prepare:yn()},updateYAxisWidth(e,t){var{id:n,width:r}=t.payload,i=e.yAxis[n];if(i){var a=i.widthHistory||[];if(a.length===3&&a[0]===a[2]&&r===a[1]&&r!==i.width&&Math.abs(r-a[0])<=1)return;var o=[...a,r].slice(-3);e.yAxis[n]=h$(h$({},e.yAxis[n]),{},{width:r,widthHistory:o})}}}}),{addXAxis:Qke,replaceXAxis:eEe,removeXAxis:tEe,addYAxis:nEe,replaceYAxis:rEe,removeYAxis:iEe,addZAxis:rDe,replaceZAxis:iDe,removeZAxis:aDe,updateYAxisWidth:aEe}=GF.actions,oEe=GF.reducer,sEe=_e([$r],e=>({top:e.top,bottom:e.bottom,left:e.left,right:e.right})),lEe=_e([sEe,Vs,Zs],(e,t,n)=>{if(!(!e||t==null||n==null))return{x:e.left,y:e.top,width:Math.max(0,t-e.left-e.right),height:Math.max(0,n-e.top-e.bottom)}}),KA=()=>it(lEe),cEe=()=>it(a1e);function m$(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Tk(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?m$(Object(n),!0).forEach(function(r){uEe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):m$(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function uEe(e,t,n){return(t=dEe(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function dEe(e){var t=fEe(e,"string");return typeof t=="symbol"?t:t+""}function fEe(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var hEe=e=>{var{point:t,childIndex:n,mainColor:r,activeDot:i,dataKey:a,clipPath:o}=e;if(i===!1||t.x==null||t.y==null)return null;var l={index:n,dataKey:a,cx:t.x,cy:t.y,r:4,fill:r??"none",strokeWidth:2,stroke:"#fff",payload:t.payload,value:t.value},u=Tk(Tk(Tk({},l),kx(i)),DT(i)),d;return S.isValidElement(i)?d=S.cloneElement(i,u):typeof i=="function"?d=i(u):d=S.createElement(BF,u),S.createElement(Yo,{className:"recharts-active-dot",clipPath:o},d)};function p$(e){var{points:t,mainColor:n,activeDot:r,itemDataKey:i,clipPath:a,zIndex:o=ei.activeDot}=e,l=it(kp),u=cEe();if(t==null||u==null)return null;var d=t.find(h=>u.includes(h.payload));return Rr(d)?null:S.createElement(tl,{zIndex:o},S.createElement(hEe,{point:d,childIndex:Number(l),mainColor:n,dataKey:i,activeDot:r,clipPath:a}))}var mEe={},YF=Ai({name:"errorBars",initialState:mEe,reducers:{addErrorBar:(e,t)=>{var{itemId:n,errorBar:r}=t.payload;e[n]||(e[n]=[]),e[n].push(r)},replaceErrorBar:(e,t)=>{var{itemId:n,prev:r,next:i}=t.payload;e[n]&&(e[n]=e[n].map(a=>a.dataKey===r.dataKey&&a.direction===r.direction?i:a))},removeErrorBar:(e,t)=>{var{itemId:n,errorBar:r}=t.payload;e[n]&&(e[n]=e[n].filter(i=>i.dataKey!==r.dataKey||i.direction!==r.direction))}}}),{addErrorBar:oDe,replaceErrorBar:sDe,removeErrorBar:lDe}=YF.actions,pEe=YF.reducer;function qF(e,t){var n,r,i=it(d=>Js(d,e)),a=it(d=>Qs(d,t)),o=(n=i?.allowDataOverflow)!==null&&n!==void 0?n:gr.allowDataOverflow,l=(r=a?.allowDataOverflow)!==null&&r!==void 0?r:br.allowDataOverflow,u=o||l;return{needClip:u,needClipX:o,needClipY:l}}function gEe(e){var{xAxisId:t,yAxisId:n,clipPathId:r}=e,i=KA(),{needClipX:a,needClipY:o,needClip:l}=qF(t,n);if(!l||!i)return null;var{x:u,y:d,width:h,height:m}=i;return S.createElement("clipPath",{id:"clipPath-".concat(r)},S.createElement("rect",{x:a?u:u-h/2,y:o?d:d-m/2,width:a?h:h*2,height:o?m:m*2}))}var bEe=new Set(["axisLine","tickLine","activeBar","activeDot","activeLabel","activeShape","allowEscapeViewBox","background","cursor","dot","label","line","margin","padding","position","shape","style","tick","wrapperStyle"]);function yEe(e,t){return e==null&&t==null?!0:typeof e=="number"&&typeof t=="number"?e===t||e!==e&&t!==t:e===t}function WA(e,t){var n=new Set([...Object.keys(e),...Object.keys(t)]);for(var r of n)if(bEe.has(r)){if(e[r]==null&&t[r]==null)continue;if(!ey(e[r],t[r]))return!1}else if(!yEe(e[r],t[r]))return!1;return!0}var vEe=e=>{var{chartData:t}=e,n=Sr(),r=Ni();return S.useEffect(()=>r?()=>{}:(n(FI(t)),()=>{n(FI(void 0))}),[t,n,r]),null},g$={x:0,y:0,width:0,height:0,padding:{top:0,right:0,bottom:0,left:0}},KF=Ai({name:"brush",initialState:g$,reducers:{setBrushSettings(e,t){return t.payload==null?g$:t.payload}}}),{setBrushSettings:cDe}=KF.actions,xEe=KF.reducer;function wEe(e,t,n){return(t=_Ee(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function _Ee(e){var t=SEe(e,"string");return typeof t=="symbol"?t:t+""}function SEe(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class VA{static create(t){return new VA(t)}constructor(t){this.scale=t}get domain(){return this.scale.domain}get range(){return this.scale.range}get rangeMin(){return this.range()[0]}get rangeMax(){return this.range()[1]}get bandwidth(){return this.scale.bandwidth}apply(t){var{bandAware:n,position:r}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t!==void 0){if(r)switch(r){case"start":return this.scale(t);case"middle":{var i=this.bandwidth?this.bandwidth()/2:0;return this.scale(t)+i}case"end":{var a=this.bandwidth?this.bandwidth():0;return this.scale(t)+a}default:return this.scale(t)}if(n){var o=this.bandwidth?this.bandwidth()/2:0;return this.scale(t)+o}return this.scale(t)}}isInRange(t){var n=this.range(),r=n[0],i=n[n.length-1];return r<=i?t>=r&&t<=i:t>=i&&t<=r}}wEe(VA,"EPS",1e-4);function kEe(e){return(e%180+180)%180}var EEe=function(t){var{width:n,height:r}=t,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,a=kEe(i),o=a*Math.PI/180,l=Math.atan(r/n),u=o>l&&o<Math.PI-l?r/Math.sin(o):n/Math.cos(o);return Math.abs(u)},jEe={dots:[],areas:[],lines:[]},WF=Ai({name:"referenceElements",initialState:jEe,reducers:{addDot:(e,t)=>{e.dots.push(t.payload)},removeDot:(e,t)=>{var n=ro(e).dots.findIndex(r=>r===t.payload);n!==-1&&e.dots.splice(n,1)},addArea:(e,t)=>{e.areas.push(t.payload)},removeArea:(e,t)=>{var n=ro(e).areas.findIndex(r=>r===t.payload);n!==-1&&e.areas.splice(n,1)},addLine:(e,t)=>{e.lines.push(t.payload)},removeLine:(e,t)=>{var n=ro(e).lines.findIndex(r=>r===t.payload);n!==-1&&e.lines.splice(n,1)}}}),{addDot:uDe,removeDot:dDe,addArea:fDe,removeArea:hDe,addLine:mDe,removeLine:pDe}=WF.actions,TEe=WF.reducer,AEe=S.createContext(void 0),NEe=e=>{var{children:t}=e,[n]=S.useState("".concat(dp("recharts"),"-clip")),r=KA();if(r==null)return null;var{x:i,y:a,width:o,height:l}=r;return S.createElement(AEe.Provider,{value:n},S.createElement("defs",null,S.createElement("clipPath",{id:n},S.createElement("rect",{x:i,y:a,height:l,width:o}))),t)};function VF(e,t){if(t<1)return[];if(t===1)return e;for(var n=[],r=0;r<e.length;r+=t)n.push(e[r]);return n}function OEe(e,t,n){var r={width:e.width+t.width,height:e.height+t.height};return EEe(r,n)}function CEe(e,t,n){var r=n==="width",{x:i,y:a,width:o,height:l}=e;return t===1?{start:r?i:a,end:r?i+o:a+l}:{start:r?i+o:a+l,end:r?i:a}}function Pv(e,t,n,r,i){if(e*t<e*r||e*t>e*i)return!1;var a=n();return e*(t-e*a/2-r)>=0&&e*(t+e*a/2-i)<=0}function MEe(e,t){return VF(e,t+1)}function DEe(e,t,n,r,i){for(var a=(r||[]).slice(),{start:o,end:l}=t,u=0,d=1,h=o,m=function(){var k=r?.[u];if(k===void 0)return{v:VF(r,d)};var w=u,_,j=()=>(_===void 0&&(_=n(k,w)),_),O=k.coordinate,T=u===0||Pv(e,O,j,h,l);T||(u=0,h=o,d+=1),T&&(h=O+e*(j()/2+i),u+=d)},b;d<=a.length;)if(b=m(),b)return b.v;return[]}function b$(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Hr(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?b$(Object(n),!0).forEach(function(r){PEe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):b$(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function PEe(e,t,n){return(t=REe(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function REe(e){var t=LEe(e,"string");return typeof t=="symbol"?t:t+""}function LEe(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function IEe(e,t,n,r,i){for(var a=(r||[]).slice(),o=a.length,{start:l}=t,{end:u}=t,d=function(b){var y=a[b],k,w=()=>(k===void 0&&(k=n(y,b)),k);if(b===o-1){var _=e*(y.coordinate+e*w()/2-u);a[b]=y=Hr(Hr({},y),{},{tickCoord:_>0?y.coordinate-_*e:y.coordinate})}else a[b]=y=Hr(Hr({},y),{},{tickCoord:y.coordinate});if(y.tickCoord!=null){var j=Pv(e,y.tickCoord,w,l,u);j&&(u=y.tickCoord-e*(w()/2+i),a[b]=Hr(Hr({},y),{},{isShow:!0}))}},h=o-1;h>=0;h--)d(h);return a}function $Ee(e,t,n,r,i,a){var o=(r||[]).slice(),l=o.length,{start:u,end:d}=t;if(a){var h=r[l-1],m=n(h,l-1),b=e*(h.coordinate+e*m/2-d);if(o[l-1]=h=Hr(Hr({},h),{},{tickCoord:b>0?h.coordinate-b*e:h.coordinate}),h.tickCoord!=null){var y=Pv(e,h.tickCoord,()=>m,u,d);y&&(d=h.tickCoord-e*(m/2+i),o[l-1]=Hr(Hr({},h),{},{isShow:!0}))}}for(var k=a?l-1:l,w=function(O){var T=o[O],C,M=()=>(C===void 0&&(C=n(T,O)),C);if(O===0){var P=e*(T.coordinate-e*M()/2-u);o[O]=T=Hr(Hr({},T),{},{tickCoord:P<0?T.coordinate-P*e:T.coordinate})}else o[O]=T=Hr(Hr({},T),{},{tickCoord:T.coordinate});if(T.tickCoord!=null){var I=Pv(e,T.tickCoord,M,u,d);I&&(u=T.tickCoord+e*(M()/2+i),o[O]=Hr(Hr({},T),{},{isShow:!0}))}},_=0;_<k;_++)w(_);return o}function ZA(e,t,n){var{tick:r,ticks:i,viewBox:a,minTickGap:o,orientation:l,interval:u,tickFormatter:d,unit:h,angle:m}=e;if(!i||!i.length||!r)return[];if(tt(u)||zf.isSsr){var b;return(b=MEe(i,tt(u)?u:0))!==null&&b!==void 0?b:[]}var y=[],k=l==="top"||l==="bottom"?"width":"height",w=h&&k==="width"?Fm(h,{fontSize:t,letterSpacing:n}):{width:0,height:0},_=(T,C)=>{var M=typeof d=="function"?d(T.value,C):T.value;return k==="width"?OEe(Fm(M,{fontSize:t,letterSpacing:n}),w,m):Fm(M,{fontSize:t,letterSpacing:n})[k]},j=i.length>=2?Sa(i[1].coordinate-i[0].coordinate):1,O=CEe(a,j,k);return u==="equidistantPreserveStart"?DEe(j,O,_,i,o):(u==="preserveStart"||u==="preserveStartEnd"?y=$Ee(j,O,_,i,o,u==="preserveStartEnd"):y=IEe(j,O,_,i,o),y.filter(T=>T.isShow))}var BEe=e=>{var{ticks:t,label:n,labelGapWithTick:r=5,tickSize:i=0,tickMargin:a=0}=e,o=0;if(t){Array.from(t).forEach(h=>{if(h){var m=h.getBoundingClientRect();m.width>o&&(o=m.width)}});var l=n?n.getBoundingClientRect().width:0,u=i+a,d=o+u+l+(n?r:0);return Math.round(d)}return 0},zEe=["axisLine","width","height","className","hide","ticks","axisType"];function UEe(e,t){if(e==null)return{};var n,r,i=FEe(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function FEe(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function Pu(){return Pu=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Pu.apply(null,arguments)}function y$(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Xn(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?y$(Object(n),!0).forEach(function(r){HEe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):y$(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function HEe(e,t,n){return(t=GEe(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function GEe(e){var t=YEe(e,"string");return typeof t=="symbol"?t:t+""}function YEe(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Rs={x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd",zIndex:ei.axis};function qEe(e){var{x:t,y:n,width:r,height:i,orientation:a,mirror:o,axisLine:l,otherSvgProps:u}=e;if(!l)return null;var d=Xn(Xn(Xn({},u),co(l)),{},{fill:"none"});if(a==="top"||a==="bottom"){var h=+(a==="top"&&!o||a==="bottom"&&o);d=Xn(Xn({},d),{},{x1:t,y1:n+h*i,x2:t+r,y2:n+h*i})}else{var m=+(a==="left"&&!o||a==="right"&&o);d=Xn(Xn({},d),{},{x1:t+m*r,y1:n,x2:t+m*r,y2:n+i})}return S.createElement("line",Pu({},d,{className:fn("recharts-cartesian-axis-line",Tx(l,"className"))}))}function KEe(e,t,n,r,i,a,o,l,u){var d,h,m,b,y,k,w=l?-1:1,_=e.tickSize||o,j=tt(e.tickCoord)?e.tickCoord:e.coordinate;switch(a){case"top":d=h=e.coordinate,b=n+ +!l*i,m=b-w*_,k=m-w*u,y=j;break;case"left":m=b=e.coordinate,h=t+ +!l*r,d=h-w*_,y=d-w*u,k=j;break;case"right":m=b=e.coordinate,h=t+ +l*r,d=h+w*_,y=d+w*u,k=j;break;default:d=h=e.coordinate,b=n+ +l*i,m=b+w*_,k=m+w*u,y=j;break}return{line:{x1:d,y1:m,x2:h,y2:b},tick:{x:y,y:k}}}function WEe(e,t){switch(e){case"left":return t?"start":"end";case"right":return t?"end":"start";default:return"middle"}}function VEe(e,t){switch(e){case"left":case"right":return"middle";case"top":return t?"start":"end";default:return t?"end":"start"}}function ZEe(e){var{option:t,tickProps:n,value:r}=e,i,a=fn(n.className,"recharts-cartesian-axis-tick-value");if(S.isValidElement(t))i=S.cloneElement(t,Xn(Xn({},n),{},{className:a}));else if(typeof t=="function")i=t(Xn(Xn({},n),{},{className:a}));else{var o="recharts-cartesian-axis-tick-value";typeof t!="boolean"&&(o=fn(o,t?.className)),i=S.createElement(YA,Pu({},n,{className:o}),r)}return i}var XEe=S.forwardRef((e,t)=>{var{ticks:n=[],tick:r,tickLine:i,stroke:a,tickFormatter:o,unit:l,padding:u,tickTextProps:d,orientation:h,mirror:m,x:b,y,width:k,height:w,tickSize:_,tickMargin:j,fontSize:O,letterSpacing:T,getTicksConfig:C,events:M,axisType:P}=e,I=ZA(Xn(Xn({},C),{},{ticks:n}),O,T),z=WEe(h,m),K=VEe(h,m),G=co(C),F=kx(r),B={};typeof i=="object"&&(B=i);var q=Xn(Xn({},G),{},{fill:"none"},B),X=I.map(V=>Xn({entry:V},KEe(V,b,y,k,w,h,_,m,j))),Z=X.map(V=>{var{entry:Q,line:se}=V;return S.createElement(Yo,{className:"recharts-cartesian-axis-tick",key:"tick-".concat(Q.value,"-").concat(Q.coordinate,"-").concat(Q.tickCoord)},i&&S.createElement("line",Pu({},q,se,{className:fn("recharts-cartesian-axis-tick-line",Tx(i,"className"))})))}),Y=X.map((V,Q)=>{var{entry:se,tick:ce}=V,W=Xn(Xn(Xn(Xn({textAnchor:z,verticalAnchor:K},G),{},{stroke:"none",fill:a},F),ce),{},{index:Q,payload:se,visibleTicksCount:I.length,tickFormatter:o,padding:u},d);return S.createElement(Yo,Pu({className:"recharts-cartesian-axis-tick-label",key:"tick-label-".concat(se.value,"-").concat(se.coordinate,"-").concat(se.tickCoord)},Bme(M,se,Q)),r&&S.createElement(ZEe,{option:r,tickProps:W,value:"".concat(typeof o=="function"?o(se.value,Q):se.value).concat(l||"")}))});return S.createElement("g",{className:"recharts-cartesian-axis-ticks recharts-".concat(P,"-ticks")},Y.length>0&&S.createElement(tl,{zIndex:ei.label},S.createElement("g",{className:"recharts-cartesian-axis-tick-labels recharts-".concat(P,"-tick-labels"),ref:t},Y)),Z.length>0&&S.createElement("g",{className:"recharts-cartesian-axis-tick-lines recharts-".concat(P,"-tick-lines")},Z))}),JEe=S.forwardRef((e,t)=>{var{axisLine:n,width:r,height:i,className:a,hide:o,ticks:l,axisType:u}=e,d=UEe(e,zEe),[h,m]=S.useState(""),[b,y]=S.useState(""),k=S.useRef(null);S.useImperativeHandle(t,()=>({getCalculatedWidth:()=>{var _;return BEe({ticks:k.current,label:(_=e.labelRef)===null||_===void 0?void 0:_.current,labelGapWithTick:5,tickSize:e.tickSize,tickMargin:e.tickMargin})}}));var w=S.useCallback(_=>{if(_){var j=_.getElementsByClassName("recharts-cartesian-axis-tick-value");k.current=j;var O=j[0];if(O){var T=window.getComputedStyle(O),C=T.fontSize,M=T.letterSpacing;(C!==h||M!==b)&&(m(C),y(M))}}},[h,b]);return o||r!=null&&r<=0||i!=null&&i<=0?null:S.createElement(tl,{zIndex:e.zIndex},S.createElement(Yo,{className:fn("recharts-cartesian-axis",a)},S.createElement(qEe,{x:e.x,y:e.y,width:r,height:i,orientation:e.orientation,mirror:e.mirror,axisLine:n,otherSvgProps:co(e)}),S.createElement(XEe,{ref:w,axisType:u,events:d,fontSize:h,getTicksConfig:e,height:e.height,letterSpacing:b,mirror:e.mirror,orientation:e.orientation,padding:e.padding,stroke:e.stroke,tick:e.tick,tickFormatter:e.tickFormatter,tickLine:e.tickLine,tickMargin:e.tickMargin,tickSize:e.tickSize,tickTextProps:e.tickTextProps,ticks:l,unit:e.unit,width:e.width,x:e.x,y:e.y}),S.createElement(JSe,{x:e.x,y:e.y,width:e.width,height:e.height,lowerWidth:e.width,upperWidth:e.width},S.createElement(lke,{label:e.label,labelRef:e.labelRef}),e.children)))}),XA=S.forwardRef((e,t)=>{var n=ta(e,Rs);return S.createElement(JEe,Pu({},n,{ref:t}))});XA.displayName="CartesianAxis";var QEe=["x1","y1","x2","y2","key"],e2e=["offset"],t2e=["xAxisId","yAxisId"],n2e=["xAxisId","yAxisId"];function v$(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Gr(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?v$(Object(n),!0).forEach(function(r){r2e(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):v$(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function r2e(e,t,n){return(t=i2e(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function i2e(e){var t=a2e(e,"string");return typeof t=="symbol"?t:t+""}function a2e(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function xu(){return xu=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},xu.apply(null,arguments)}function Rv(e,t){if(e==null)return{};var n,r,i=o2e(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function o2e(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var s2e=e=>{var{fill:t}=e;if(!t||t==="none")return null;var{fillOpacity:n,x:r,y:i,width:a,height:o,ry:l}=e;return S.createElement("rect",{x:r,y:i,ry:l,width:a,height:o,stroke:"none",fill:t,fillOpacity:n,className:"recharts-cartesian-grid-bg"})};function ZF(e){var{option:t,lineItemProps:n}=e,r;if(S.isValidElement(t))r=S.cloneElement(t,n);else if(typeof t=="function")r=t(n);else{var i,{x1:a,y1:o,x2:l,y2:u,key:d}=n,h=Rv(n,QEe),m=(i=co(h))!==null&&i!==void 0?i:{},{offset:b}=m,y=Rv(m,e2e);r=S.createElement("line",xu({},y,{x1:a,y1:o,x2:l,y2:u,fill:"none",key:d}))}return r}function l2e(e){var{x:t,width:n,horizontal:r=!0,horizontalPoints:i}=e;if(!r||!i||!i.length)return null;var{xAxisId:a,yAxisId:o}=e,l=Rv(e,t2e),u=i.map((d,h)=>{var m=Gr(Gr({},l),{},{x1:t,y1:d,x2:t+n,y2:d,key:"line-".concat(h),index:h});return S.createElement(ZF,{key:"line-".concat(h),option:r,lineItemProps:m})});return S.createElement("g",{className:"recharts-cartesian-grid-horizontal"},u)}function c2e(e){var{y:t,height:n,vertical:r=!0,verticalPoints:i}=e;if(!r||!i||!i.length)return null;var{xAxisId:a,yAxisId:o}=e,l=Rv(e,n2e),u=i.map((d,h)=>{var m=Gr(Gr({},l),{},{x1:d,y1:t,x2:d,y2:t+n,key:"line-".concat(h),index:h});return S.createElement(ZF,{option:r,lineItemProps:m,key:"line-".concat(h)})});return S.createElement("g",{className:"recharts-cartesian-grid-vertical"},u)}function u2e(e){var{horizontalFill:t,fillOpacity:n,x:r,y:i,width:a,height:o,horizontalPoints:l,horizontal:u=!0}=e;if(!u||!t||!t.length||l==null)return null;var d=l.map(m=>Math.round(m+i-i)).sort((m,b)=>m-b);i!==d[0]&&d.unshift(0);var h=d.map((m,b)=>{var y=!d[b+1],k=y?i+o-m:d[b+1]-m;if(k<=0)return null;var w=b%t.length;return S.createElement("rect",{key:"react-".concat(b),y:m,x:r,height:k,width:a,stroke:"none",fill:t[w],fillOpacity:n,className:"recharts-cartesian-grid-bg"})});return S.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},h)}function d2e(e){var{vertical:t=!0,verticalFill:n,fillOpacity:r,x:i,y:a,width:o,height:l,verticalPoints:u}=e;if(!t||!n||!n.length)return null;var d=u.map(m=>Math.round(m+i-i)).sort((m,b)=>m-b);i!==d[0]&&d.unshift(0);var h=d.map((m,b)=>{var y=!d[b+1],k=y?i+o-m:d[b+1]-m;if(k<=0)return null;var w=b%n.length;return S.createElement("rect",{key:"react-".concat(b),x:m,y:a,width:k,height:l,stroke:"none",fill:n[w],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return S.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},h)}var f2e=(e,t)=>{var{xAxis:n,width:r,height:i,offset:a}=e;return z8(ZA(Gr(Gr(Gr({},Rs),n),{},{ticks:U8(n),viewBox:{x:0,y:0,width:r,height:i}})),a.left,a.left+a.width,t)},h2e=(e,t)=>{var{yAxis:n,width:r,height:i,offset:a}=e;return z8(ZA(Gr(Gr(Gr({},Rs),n),{},{ticks:U8(n),viewBox:{x:0,y:0,width:r,height:i}})),a.top,a.top+a.height,t)},m2e={horizontal:!0,vertical:!0,horizontalPoints:[],verticalPoints:[],stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[],xAxisId:0,yAxisId:0,syncWithTicks:!1,zIndex:ei.grid};function XF(e){var t=Z8(),n=X8(),r=V8(),i=Gr(Gr({},ta(e,m2e)),{},{x:tt(e.x)?e.x:r.left,y:tt(e.y)?e.y:r.top,width:tt(e.width)?e.width:r.width,height:tt(e.height)?e.height:r.height}),{xAxisId:a,yAxisId:o,x:l,y:u,width:d,height:h,syncWithTicks:m,horizontalValues:b,verticalValues:y}=i,k=Ni(),w=it(K=>OI(K,"xAxis",a,k)),_=it(K=>OI(K,"yAxis",o,k));if(!Ko(d)||!Ko(h)||!tt(l)||!tt(u))return null;var j=i.verticalCoordinatesGenerator||f2e,O=i.horizontalCoordinatesGenerator||h2e,{horizontalPoints:T,verticalPoints:C}=i;if((!T||!T.length)&&typeof O=="function"){var M=b&&b.length,P=O({yAxis:_?Gr(Gr({},_),{},{ticks:M?b:_.ticks}):void 0,width:t??d,height:n??h,offset:r},M?!0:m);uv(Array.isArray(P),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(typeof P,"]")),Array.isArray(P)&&(T=P)}if((!C||!C.length)&&typeof j=="function"){var I=y&&y.length,z=j({xAxis:w?Gr(Gr({},w),{},{ticks:I?y:w.ticks}):void 0,width:t??d,height:n??h,offset:r},I?!0:m);uv(Array.isArray(z),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(typeof z,"]")),Array.isArray(z)&&(C=z)}return S.createElement(tl,{zIndex:i.zIndex},S.createElement("g",{className:"recharts-cartesian-grid"},S.createElement(s2e,{fill:i.fill,fillOpacity:i.fillOpacity,x:i.x,y:i.y,width:i.width,height:i.height,ry:i.ry}),S.createElement(u2e,xu({},i,{horizontalPoints:T})),S.createElement(d2e,xu({},i,{verticalPoints:C})),S.createElement(l2e,xu({},i,{offset:r,horizontalPoints:T,xAxis:w,yAxis:_})),S.createElement(c2e,xu({},i,{offset:r,verticalPoints:C,xAxis:w,yAxis:_}))))}XF.displayName="CartesianGrid";function p2e(e){var t=kx(e),n=3,r=2;if(t!=null){var{r:i,strokeWidth:a}=t,o=Number(i),l=Number(a);return(Number.isNaN(o)||o<0)&&(o=n),(Number.isNaN(l)||l<0)&&(l=r),{r:o,strokeWidth:l}}return{r:n,strokeWidth:r}}var JF=(e,t,n,r)=>JU(e,"xAxis",t,r),QF=(e,t,n,r)=>XU(e,"xAxis",t,r),eH=(e,t,n,r)=>JU(e,"yAxis",n,r),tH=(e,t,n,r)=>XU(e,"yAxis",n,r),g2e=_e([sn,JF,eH,QF,tH],(e,t,n,r,i)=>Ws(e,"xAxis")?cv(t,r,!1):cv(n,i,!1)),b2e=(e,t,n,r,i)=>i,nH=_e([xU,b2e],(e,t)=>e.filter(n=>n.type==="area").find(n=>n.id===t)),y2e=(e,t,n,r,i)=>{var a,o=nH(e,t,n,r,i);if(o!=null){var l=sn(e),u=Ws(l,"xAxis"),d;if(u?d=R2(e,"yAxis",n,r):d=R2(e,"xAxis",t,r),d!=null){var{stackId:h}=o,m=kA(o);if(!(h==null||m==null)){var b=(a=d[h])===null||a===void 0?void 0:a.stackedData;return b?.find(y=>y.key===m)}}}},v2e=_e([sn,JF,eH,QF,tH,y2e,pA,g2e,nH,nwe],(e,t,n,r,i,a,o,l,u,d)=>{var{chartData:h,dataStartIndex:m,dataEndIndex:b}=o;if(!(u==null||e!=="horizontal"&&e!=="vertical"||t==null||n==null||r==null||i==null||r.length===0||i.length===0||l==null)){var{data:y}=u,k;if(y&&y.length>0?k=y:k=h?.slice(m,b+1),k!=null)return $2e({layout:e,xAxis:t,yAxis:n,xAxisTicks:r,yAxisTicks:i,dataStartIndex:m,areaSettings:u,stackedData:a,displayedData:k,chartBaseValue:d,bandSize:l})}}),x2e=["id"],w2e=["activeDot","animationBegin","animationDuration","animationEasing","connectNulls","dot","fill","fillOpacity","hide","isAnimationActive","legendType","stroke","xAxisId","yAxisId"];function Tu(){return Tu=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Tu.apply(null,arguments)}function rH(e,t){if(e==null)return{};var n,r,i=_2e(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function _2e(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function x$(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Jd(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?x$(Object(n),!0).forEach(function(r){S2e(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):x$(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function S2e(e,t,n){return(t=k2e(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function k2e(e){var t=E2e(e,"string");return typeof t=="symbol"?t:t+""}function E2e(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Lv(e,t){return e&&e!=="none"?e:t}var j2e=e=>{var{dataKey:t,name:n,stroke:r,fill:i,legendType:a,hide:o}=e;return[{inactive:o,dataKey:t,type:a,color:Lv(r,i),value:F8(n,t),payload:e}]},T2e=S.memo(e=>{var{dataKey:t,data:n,stroke:r,strokeWidth:i,fill:a,name:o,hide:l,unit:u,tooltipType:d}=e,h={dataDefinedOnItem:n,positions:void 0,settings:{stroke:r,strokeWidth:i,fill:a,dataKey:t,nameKey:void 0,name:F8(o,t),hide:l,type:d,color:Lv(r,a),unit:u}};return S.createElement(Tke,{tooltipEntrySettings:h})});function A2e(e){var{clipPathId:t,points:n,props:r}=e,{needClip:i,dot:a,dataKey:o}=r,l=co(r);return S.createElement(Wke,{points:n,dot:a,className:"recharts-area-dots",dotClassName:"recharts-area-dot",dataKey:o,baseProps:l,needClip:i,clipPathId:t})}function N2e(e){var{showLabels:t,children:n,points:r}=e,i=r.map(a=>{var o,l,u={x:(o=a.x)!==null&&o!==void 0?o:0,y:(l=a.y)!==null&&l!==void 0?l:0,width:0,lowerWidth:0,upperWidth:0,height:0};return Jd(Jd({},u),{},{value:a.value,payload:a.payload,parentViewBox:void 0,viewBox:u,fill:void 0})});return S.createElement(vke,{value:t?i:void 0},n)}function w$(e){var{points:t,baseLine:n,needClip:r,clipPathId:i,props:a}=e,{layout:o,type:l,stroke:u,connectNulls:d,isRange:h}=a,{id:m}=a,b=rH(a,x2e),y=co(b),k=Aa(b);return S.createElement(S.Fragment,null,t?.length>1&&S.createElement(Yo,{clipPath:r?"url(#clipPath-".concat(i,")"):void 0},S.createElement(sy,Tu({},k,{id:m,points:t,connectNulls:d,type:l,baseLine:n,layout:o,stroke:"none",className:"recharts-area-area"})),u!=="none"&&S.createElement(sy,Tu({},y,{className:"recharts-area-curve",layout:o,type:l,connectNulls:d,fill:"none",points:t})),u!=="none"&&h&&S.createElement(sy,Tu({},y,{className:"recharts-area-curve",layout:o,type:l,connectNulls:d,fill:"none",points:n}))),S.createElement(A2e,{points:t,props:b,clipPathId:i}))}function O2e(e){var{alpha:t,baseLine:n,points:r,strokeWidth:i}=e,a=r[0].y,o=r[r.length-1].y;if(!Pn(a)||!Pn(o))return null;var l=t*Math.abs(a-o),u=Math.max(...r.map(d=>d.x||0));return tt(n)?u=Math.max(n,u):n&&Array.isArray(n)&&n.length&&(u=Math.max(...n.map(d=>d.x||0),u)),tt(u)?S.createElement("rect",{x:0,y:a<o?a:a-l,width:u+(i?parseInt("".concat(i),10):1),height:Math.floor(l)}):null}function C2e(e){var{alpha:t,baseLine:n,points:r,strokeWidth:i}=e,a=r[0].x,o=r[r.length-1].x;if(!Pn(a)||!Pn(o))return null;var l=t*Math.abs(a-o),u=Math.max(...r.map(d=>d.y||0));return tt(n)?u=Math.max(n,u):n&&Array.isArray(n)&&n.length&&(u=Math.max(...n.map(d=>d.y||0),u)),tt(u)?S.createElement("rect",{x:a<o?a:a-l,y:0,width:l,height:Math.floor(u+(i?parseInt("".concat(i),10):1))}):null}function M2e(e){var{alpha:t,layout:n,points:r,baseLine:i,strokeWidth:a}=e;return n==="vertical"?S.createElement(O2e,{alpha:t,points:r,baseLine:i,strokeWidth:a}):S.createElement(C2e,{alpha:t,points:r,baseLine:i,strokeWidth:a})}function D2e(e){var{needClip:t,clipPathId:n,props:r,previousPointsRef:i,previousBaselineRef:a}=e,{points:o,baseLine:l,isAnimationActive:u,animationBegin:d,animationDuration:h,animationEasing:m,onAnimationStart:b,onAnimationEnd:y}=r,k=S.useMemo(()=>({points:o,baseLine:l}),[o,l]),w=uz(k,"recharts-area-"),_=Tge(),[j,O]=S.useState(!1),T=!j,C=S.useCallback(()=>{typeof y=="function"&&y(),O(!1)},[y]),M=S.useCallback(()=>{typeof b=="function"&&b(),O(!0)},[b]);if(_==null)return null;var P=i.current,I=a.current;return S.createElement(N2e,{showLabels:T,points:o},r.children,S.createElement(cz,{animationId:w,begin:d,duration:h,isActive:u,easing:m,onAnimationEnd:C,onAnimationStart:M,key:w},z=>{if(P){var K=P.length/o.length,G=z===1?o:o.map((B,q)=>{var X=Math.floor(q*K);if(P[X]){var Z=P[X];return Jd(Jd({},B),{},{x:$o(Z.x,B.x,z),y:$o(Z.y,B.y,z)})}return B}),F;return tt(l)?F=$o(I,l,z):Rr(l)||uo(l)?F=$o(I,0,z):F=l.map((B,q)=>{var X=Math.floor(q*K);if(Array.isArray(I)&&I[X]){var Z=I[X];return Jd(Jd({},B),{},{x:$o(Z.x,B.x,z),y:$o(Z.y,B.y,z)})}return B}),z>0&&(i.current=G,a.current=F),S.createElement(w$,{points:G,baseLine:F,needClip:t,clipPathId:n,props:r})}return z>0&&(i.current=o,a.current=l),S.createElement(Yo,null,u&&S.createElement("defs",null,S.createElement("clipPath",{id:"animationClipPath-".concat(n)},S.createElement(M2e,{alpha:z,points:o,baseLine:l,layout:_,strokeWidth:r.strokeWidth}))),S.createElement(Yo,{clipPath:"url(#animationClipPath-".concat(n,")")},S.createElement(w$,{points:o,baseLine:l,needClip:t,clipPathId:n,props:r})))}),S.createElement(_ke,{label:r.label}))}function P2e(e){var{needClip:t,clipPathId:n,props:r}=e,i=S.useRef(null),a=S.useRef();return S.createElement(D2e,{needClip:t,clipPathId:n,props:r,previousPointsRef:i,previousBaselineRef:a})}class R2e extends S.PureComponent{render(){var{hide:t,dot:n,points:r,className:i,top:a,left:o,needClip:l,xAxisId:u,yAxisId:d,width:h,height:m,id:b,baseLine:y,zIndex:k}=this.props;if(t)return null;var w=fn("recharts-area",i),_=b,{r:j,strokeWidth:O}=p2e(n),T=UF(n),C=j*2+O,M=l?"url(#clipPath-".concat(T?"":"dots-").concat(_,")"):void 0;return S.createElement(tl,{zIndex:k},S.createElement(Yo,{className:w},l&&S.createElement("defs",null,S.createElement(gEe,{clipPathId:_,xAxisId:u,yAxisId:d}),!T&&S.createElement("clipPath",{id:"clipPath-dots-".concat(_)},S.createElement("rect",{x:o-C/2,y:a-C/2,width:h+C,height:m+C}))),S.createElement(P2e,{needClip:l,clipPathId:_,props:this.props})),S.createElement(p$,{points:r,mainColor:Lv(this.props.stroke,this.props.fill),itemDataKey:this.props.dataKey,activeDot:this.props.activeDot,clipPath:M}),this.props.isRange&&Array.isArray(y)&&S.createElement(p$,{points:y,mainColor:Lv(this.props.stroke,this.props.fill),itemDataKey:this.props.dataKey,activeDot:this.props.activeDot,clipPath:M}))}}var iH={activeDot:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",connectNulls:!1,dot:!1,fill:"#3182bd",fillOpacity:.6,hide:!1,isAnimationActive:"auto",legendType:"line",stroke:"#3182bd",strokeWidth:1,type:"linear",label:!1,xAxisId:0,yAxisId:0,zIndex:ei.area};function L2e(e){var t,n=ta(e,iH),{activeDot:r,animationBegin:i,animationDuration:a,animationEasing:o,connectNulls:l,dot:u,fill:d,fillOpacity:h,hide:m,isAnimationActive:b,legendType:y,stroke:k,xAxisId:w,yAxisId:_}=n,j=rH(n,w2e),O=Vp(),T=vF(),{needClip:C}=qF(w,_),M=Ni(),{points:P,isRange:I,baseLine:z}=(t=it(X=>v2e(X,w,_,M,e.id)))!==null&&t!==void 0?t:{},K=KA();if(O!=="horizontal"&&O!=="vertical"||K==null||T!=="AreaChart"&&T!=="ComposedChart")return null;var{height:G,width:F,x:B,y:q}=K;return!P||!P.length?null:S.createElement(R2e,Tu({},j,{activeDot:r,animationBegin:i,animationDuration:a,animationEasing:o,baseLine:z,connectNulls:l,dot:u,fill:d,fillOpacity:h,height:G,hide:m,layout:O,isAnimationActive:b==="auto"?!zf.isSsr:b,isRange:I,legendType:y,needClip:C,points:P,stroke:k,width:F,left:B,top:q,xAxisId:w,yAxisId:_}))}var I2e=(e,t,n,r,i)=>{var a=n??t;if(tt(a))return a;var o=e==="horizontal"?i:r,l=o.scale.domain();if(o.type==="number"){var u=Math.max(l[0],l[1]),d=Math.min(l[0],l[1]);return a==="dataMin"?d:a==="dataMax"||u<0?u:Math.max(Math.min(l[0],l[1]),0)}return a==="dataMin"?l[0]:a==="dataMax"?l[1]:l[0]};function $2e(e){var{areaSettings:{connectNulls:t,baseValue:n,dataKey:r},stackedData:i,layout:a,chartBaseValue:o,xAxis:l,yAxis:u,displayedData:d,dataStartIndex:h,xAxisTicks:m,yAxisTicks:b,bandSize:y}=e,k=i&&i.length,w=I2e(a,o,n,l,u),_=a==="horizontal",j=!1,O=d.map((C,M)=>{var P;k?P=i[h+M]:(P=Yr(C,r),Array.isArray(P)?j=!0:P=[w,P]);var I=P[1]==null||k&&!t&&Yr(C,r)==null;return _?{x:Q3({axis:l,ticks:m,bandSize:y,entry:C,index:M}),y:I?null:u.scale(P[1]),value:P,payload:C}:{x:I?null:l.scale(P[1]),y:Q3({axis:u,ticks:b,bandSize:y,entry:C,index:M}),value:P,payload:C}}),T;return k||j?T=O.map(C=>{var M=Array.isArray(C.value)?C.value[0]:null;return _?{x:C.x,y:M!=null&&C.y!=null?u.scale(M):null,payload:C.payload}:{x:M!=null?l.scale(M):null,y:C.y,payload:C.payload}}):T=_?u.scale(w):l.scale(w),{points:O,baseLine:T,isRange:j}}function B2e(e){var t=ta(e,iH),n=Ni();return S.createElement(Mke,{id:t.id,type:"area"},r=>S.createElement(S.Fragment,null,S.createElement(Ake,{legendPayload:j2e(t)}),S.createElement(T2e,{dataKey:t.dataKey,data:t.data,stroke:t.stroke,strokeWidth:t.strokeWidth,fill:t.fill,name:t.name,hide:t.hide,unit:t.unit,tooltipType:t.tooltipType}),S.createElement(Bke,{type:"area",id:r,data:t.data,dataKey:t.dataKey,xAxisId:t.xAxisId,yAxisId:t.yAxisId,zAxisId:0,stackId:H0e(t.stackId),hide:t.hide,barSize:void 0,baseValue:t.baseValue,isPanorama:n,connectNulls:t.connectNulls}),S.createElement(L2e,Tu({},t,{id:r}))))}var aH=S.memo(B2e,WA);aH.displayName="Area";var z2e=["domain","range"],U2e=["domain","range"];function _$(e,t){if(e==null)return{};var n,r,i=F2e(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function F2e(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function S$(e,t){return e===t?!0:Array.isArray(e)&&e.length===2&&Array.isArray(t)&&t.length===2?e[0]===t[0]&&e[1]===t[1]:!1}function oH(e,t){if(e===t)return!0;var{domain:n,range:r}=e,i=_$(e,z2e),{domain:a,range:o}=t,l=_$(t,U2e);return!S$(n,a)||!S$(r,o)?!1:WA(i,l)}var H2e=["dangerouslySetInnerHTML","ticks"],G2e=["id"];function H2(){return H2=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},H2.apply(null,arguments)}function k$(e,t){if(e==null)return{};var n,r,i=Y2e(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function Y2e(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function q2e(e){var t=Sr(),n=S.useRef(null);return S.useLayoutEffect(()=>{n.current===null?t(Qke(e)):n.current!==e&&t(eEe({prev:n.current,next:e})),n.current=e},[e,t]),S.useLayoutEffect(()=>()=>{n.current&&(t(tEe(n.current)),n.current=null)},[t]),null}var K2e=e=>{var{xAxisId:t,className:n}=e,r=it(G8),i=Ni(),a="xAxis",o=it(_=>qf(_,a,t,i)),l=it(_=>ZU(_,a,t,i)),u=it(_=>Wwe(_,t)),d=it(_=>e_e(_,t)),h=it(_=>gU(_,t));if(u==null||d==null||h==null)return null;var{dangerouslySetInnerHTML:m,ticks:b}=e,y=k$(e,H2e),{id:k}=h,w=k$(h,G2e);return S.createElement(XA,H2({},y,w,{scale:o,x:d.x,y:d.y,width:u.width,height:u.height,className:fn("recharts-".concat(a," ").concat(a),n),viewBox:r,ticks:l,axisType:a}))},W2e={allowDataOverflow:gr.allowDataOverflow,allowDecimals:gr.allowDecimals,allowDuplicatedCategory:gr.allowDuplicatedCategory,angle:gr.angle,axisLine:Rs.axisLine,height:gr.height,hide:!1,includeHidden:gr.includeHidden,interval:gr.interval,minTickGap:gr.minTickGap,mirror:gr.mirror,orientation:gr.orientation,padding:gr.padding,reversed:gr.reversed,scale:gr.scale,tick:gr.tick,tickCount:gr.tickCount,tickLine:Rs.tickLine,tickSize:Rs.tickSize,type:gr.type,xAxisId:0},V2e=e=>{var t=ta(e,W2e);return S.createElement(S.Fragment,null,S.createElement(q2e,{allowDataOverflow:t.allowDataOverflow,allowDecimals:t.allowDecimals,allowDuplicatedCategory:t.allowDuplicatedCategory,angle:t.angle,dataKey:t.dataKey,domain:t.domain,height:t.height,hide:t.hide,id:t.xAxisId,includeHidden:t.includeHidden,interval:t.interval,minTickGap:t.minTickGap,mirror:t.mirror,name:t.name,orientation:t.orientation,padding:t.padding,reversed:t.reversed,scale:t.scale,tick:t.tick,tickCount:t.tickCount,tickFormatter:t.tickFormatter,ticks:t.ticks,type:t.type,unit:t.unit}),S.createElement(K2e,t))},sH=S.memo(V2e,oH);sH.displayName="XAxis";var Z2e=["dangerouslySetInnerHTML","ticks"],X2e=["id"];function G2(){return G2=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},G2.apply(null,arguments)}function E$(e,t){if(e==null)return{};var n,r,i=J2e(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function J2e(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function Q2e(e){var t=Sr(),n=S.useRef(null);return S.useLayoutEffect(()=>{n.current===null?t(nEe(e)):n.current!==e&&t(rEe({prev:n.current,next:e})),n.current=e},[e,t]),S.useLayoutEffect(()=>()=>{n.current&&(t(iEe(n.current)),n.current=null)},[t]),null}var eje=e=>{var{yAxisId:t,className:n,width:r,label:i}=e,a=S.useRef(null),o=S.useRef(null),l=it(G8),u=Ni(),d=Sr(),h="yAxis",m=it(M=>qf(M,h,t,u)),b=it(M=>r_e(M,t)),y=it(M=>n_e(M,t)),k=it(M=>ZU(M,h,t,u)),w=it(M=>bU(M,t));if(S.useLayoutEffect(()=>{if(!(r!=="auto"||!b||qA(i)||S.isValidElement(i)||w==null)){var M=a.current;if(M){var P=M.getCalculatedWidth();Math.round(b.width)!==Math.round(P)&&d(aEe({id:t,width:P}))}}},[k,b,d,i,t,r,w]),b==null||y==null||w==null)return null;var{dangerouslySetInnerHTML:_,ticks:j}=e,O=E$(e,Z2e),{id:T}=w,C=E$(w,X2e);return S.createElement(XA,G2({},O,C,{ref:a,labelRef:o,scale:m,x:y.x,y:y.y,tickTextProps:r==="auto"?{width:void 0}:{width:r},width:b.width,height:b.height,className:fn("recharts-".concat(h," ").concat(h),n),viewBox:l,ticks:k,axisType:h}))},tje={allowDataOverflow:br.allowDataOverflow,allowDecimals:br.allowDecimals,allowDuplicatedCategory:br.allowDuplicatedCategory,angle:br.angle,axisLine:Rs.axisLine,hide:!1,includeHidden:br.includeHidden,interval:br.interval,minTickGap:br.minTickGap,mirror:br.mirror,orientation:br.orientation,padding:br.padding,reversed:br.reversed,scale:br.scale,tick:br.tick,tickCount:br.tickCount,tickLine:Rs.tickLine,tickSize:Rs.tickSize,type:br.type,width:br.width,yAxisId:0},nje=e=>{var t=ta(e,tje);return S.createElement(S.Fragment,null,S.createElement(Q2e,{interval:t.interval,id:t.yAxisId,scale:t.scale,type:t.type,domain:t.domain,allowDataOverflow:t.allowDataOverflow,dataKey:t.dataKey,allowDuplicatedCategory:t.allowDuplicatedCategory,allowDecimals:t.allowDecimals,tickCount:t.tickCount,padding:t.padding,includeHidden:t.includeHidden,reversed:t.reversed,ticks:t.ticks,width:t.width,orientation:t.orientation,mirror:t.mirror,hide:t.hide,unit:t.unit,name:t.name,angle:t.angle,minTickGap:t.minTickGap,tick:t.tick,tickFormatter:t.tickFormatter}),S.createElement(eje,t))},lH=S.memo(nje,oH);lH.displayName="YAxis";var rje=(e,t)=>t,JA=_e([rje,sn,mU,lr,hF,el,b1e,$r],k1e),QA=e=>{var t=e.currentTarget.getBoundingClientRect(),n=t.width/e.currentTarget.offsetWidth,r=t.height/e.currentTarget.offsetHeight;return{chartX:Math.round((e.clientX-t.left)/n),chartY:Math.round((e.clientY-t.top)/r)}},cH=Na("mouseClick"),uH=Kp();uH.startListening({actionCreator:cH,effect:(e,t)=>{var n=e.payload,r=JA(t.getState(),QA(n));r?.activeIndex!=null&&t.dispatch(g_e({activeIndex:r.activeIndex,activeDataKey:void 0,activeCoordinate:r.activeCoordinate}))}});var Y2=Na("mouseMove"),dH=Kp(),Ib=null;dH.startListening({actionCreator:Y2,effect:(e,t)=>{var n=e.payload;Ib!==null&&cancelAnimationFrame(Ib);var r=QA(n);Ib=requestAnimationFrame(()=>{var i=t.getState(),a=RA(i,i.tooltip.settings.shared);if(a==="axis"){var o=JA(i,r);o?.activeIndex!=null?t.dispatch(aF({activeIndex:o.activeIndex,activeDataKey:void 0,activeCoordinate:o.activeCoordinate})):t.dispatch(iF())}Ib=null})}});var j$={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,barSize:void 0,className:void 0,maxBarSize:void 0,stackOffset:"none",syncId:void 0,syncMethod:"index",baseValue:void 0,reverseStackOrder:!1},fH=Ai({name:"rootProps",initialState:j$,reducers:{updateOptions:(e,t)=>{var n;e.accessibilityLayer=t.payload.accessibilityLayer,e.barCategoryGap=t.payload.barCategoryGap,e.barGap=(n=t.payload.barGap)!==null&&n!==void 0?n:j$.barGap,e.barSize=t.payload.barSize,e.maxBarSize=t.payload.maxBarSize,e.stackOffset=t.payload.stackOffset,e.syncId=t.payload.syncId,e.syncMethod=t.payload.syncMethod,e.className=t.payload.className,e.baseValue=t.payload.baseValue,e.reverseStackOrder=t.payload.reverseStackOrder}}}),ije=fH.reducer,{updateOptions:aje}=fH.actions,hH=Ai({name:"polarOptions",initialState:null,reducers:{updatePolarOptions:(e,t)=>t.payload}}),{updatePolarOptions:gDe}=hH.actions,oje=hH.reducer,mH=Na("keyDown"),pH=Na("focus"),eN=Kp();eN.startListening({actionCreator:mH,effect:(e,t)=>{var n=t.getState(),r=n.rootProps.accessibilityLayer!==!1;if(r){var{keyboardInteraction:i}=n.tooltip,a=e.payload;if(!(a!=="ArrowRight"&&a!=="ArrowLeft"&&a!=="Enter")){var o=LA(i,Wf(n),r0(n),l0(n)),l=o==null?-1:Number(o);if(!(!Number.isFinite(l)||l<0)){var u=el(n);if(a==="Enter"){var d=Cv(n,"axis","hover",String(i.index));t.dispatch(I2({active:!i.active,activeIndex:i.index,activeDataKey:i.dataKey,activeCoordinate:d}));return}var h=s_e(n),m=h==="left-to-right"?1:-1,b=a==="ArrowRight"?1:-1,y=l+b*m;if(!(u==null||y>=u.length||y<0)){var k=Cv(n,"axis","hover",String(y));t.dispatch(I2({active:!0,activeIndex:y.toString(),activeDataKey:void 0,activeCoordinate:k}))}}}}}});eN.startListening({actionCreator:pH,effect:(e,t)=>{var n=t.getState(),r=n.rootProps.accessibilityLayer!==!1;if(r){var{keyboardInteraction:i}=n.tooltip;if(!i.active&&i.index==null){var a="0",o=Cv(n,"axis","hover",String(a));t.dispatch(I2({activeDataKey:void 0,active:!0,activeIndex:a,activeCoordinate:o}))}}}});var pa=Na("externalEvent"),gH=Kp(),Ak=new Map;gH.startListening({actionCreator:pa,effect:(e,t)=>{var{handler:n,reactEvent:r}=e.payload;if(n!=null){r.persist();var i=r.type,a=Ak.get(i);a!==void 0&&cancelAnimationFrame(a);var o=requestAnimationFrame(()=>{try{var l=t.getState(),u={activeCoordinate:n1e(l),activeDataKey:e1e(l),activeIndex:kp(l),activeLabel:gF(l),activeTooltipIndex:kp(l),isTooltipActive:r1e(l)};n(u,r)}finally{Ak.delete(i)}});Ak.set(i,o)}}});var sje=_e([Kf],e=>e.tooltipItemPayloads),lje=_e([sje,o0,(e,t,n)=>t,(e,t,n)=>n],(e,t,n,r)=>{var i=e.find(l=>l.settings.dataKey===r);if(i!=null){var{positions:a}=i;if(a!=null){var o=t(a,n);return o}}}),bH=Na("touchMove"),yH=Kp();yH.startListening({actionCreator:bH,effect:(e,t)=>{var n=e.payload;if(!(n.touches==null||n.touches.length===0)){var r=t.getState(),i=RA(r,r.tooltip.settings.shared);if(i==="axis"){var a=JA(r,QA({clientX:n.touches[0].clientX,clientY:n.touches[0].clientY,currentTarget:n.currentTarget}));a?.activeIndex!=null&&t.dispatch(aF({activeIndex:a.activeIndex,activeDataKey:void 0,activeCoordinate:a.activeCoordinate}))}else if(i==="item"){var o,l=n.touches[0];if(document.elementFromPoint==null)return;var u=document.elementFromPoint(l.clientX,l.clientY);if(!u||!u.getAttribute)return;var d=u.getAttribute(Z0e),h=(o=u.getAttribute(X0e))!==null&&o!==void 0?o:void 0,m=lje(t.getState(),d,h);t.dispatch(p_e({activeDataKey:h,activeIndex:d,activeCoordinate:m}))}}}});var cje=k4({brush:xEe,cartesianAxis:oEe,chartData:nSe,errorBars:pEe,graphicalItems:Ike,layout:D0e,legend:Gge,options:X1e,polarAxis:kke,polarOptions:oje,referenceElements:TEe,rootProps:ije,tooltip:b_e,zIndex:$1e}),uje=function(t){return i0e({reducer:cje,preloadedState:t,middleware:n=>{var r;return n({serializableCheck:!1,immutableCheck:!["commonjs","es6","production"].includes((r="es6")!==null&&r!==void 0?r:"")}).concat([uH.middleware,dH.middleware,eN.middleware,gH.middleware,yH.middleware])},enhancers:n=>{var r=n;return typeof n=="function"&&(r=n()),r.concat(j8({type:"raf"}))},devTools:zf.devToolsEnabled})};function dje(e){var{preloadedState:t,children:n,reduxStoreName:r}=e,i=Ni(),a=S.useRef(null);if(i)return n;a.current==null&&(a.current=uje(t));var o=RT;return S.createElement(D4,{context:o,store:a.current},n)}function fje(e){var{layout:t,margin:n}=e,r=Sr(),i=Ni();return S.useEffect(()=>{i||(r(O0e(t)),r(N0e(n)))},[r,i,t,n]),null}var hje=S.memo(fje,WA);function mje(e){var t=Sr();return S.useEffect(()=>{t(aje(e))},[t,e]),null}function T$(e){var{zIndex:t,isPanorama:n}=e,r=n?"recharts-zindex-panorama-":"recharts-zindex-",i=FF("".concat(r).concat(t)),a=Sr();return S.useLayoutEffect(()=>(a(L1e({zIndex:t,elementId:i,isPanorama:n})),()=>{a(I1e({zIndex:t,isPanorama:n}))}),[a,t,i,n]),S.createElement("g",{tabIndex:-1,id:i})}function A$(e){var{children:t,isPanorama:n}=e,r=it(j1e);if(!r||r.length===0)return t;var i=r.filter(o=>o<0),a=r.filter(o=>o>0);return S.createElement(S.Fragment,null,i.map(o=>S.createElement(T$,{key:o,zIndex:o,isPanorama:n})),t,a.map(o=>S.createElement(T$,{key:o,zIndex:o,isPanorama:n})))}var pje=["children"];function gje(e,t){if(e==null)return{};var n,r,i=bje(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function bje(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function Iv(){return Iv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Iv.apply(null,arguments)}var yje={width:"100%",height:"100%",display:"block"},vje=S.forwardRef((e,t)=>{var n=Z8(),r=X8(),i=az();if(!Ko(n)||!Ko(r))return null;var{children:a,otherAttributes:o,title:l,desc:u}=e,d,h;return o!=null&&(typeof o.tabIndex=="number"?d=o.tabIndex:d=i?0:void 0,typeof o.role=="string"?h=o.role:h=i?"application":void 0),S.createElement(R9,Iv({},o,{title:l,desc:u,role:h,tabIndex:d,width:n,height:r,style:yje,ref:t}),a)}),xje=e=>{var{children:t}=e,n=it(zx);if(!n)return null;var{width:r,height:i,y:a,x:o}=n;return S.createElement(R9,{width:r,height:i,x:o,y:a},t)},N$=S.forwardRef((e,t)=>{var{children:n}=e,r=gje(e,pje),i=Ni();return i?S.createElement(xje,null,S.createElement(A$,{isPanorama:!0},n)):S.createElement(vje,Iv({ref:t},r),S.createElement(A$,{isPanorama:!1},n))});function wje(){var e=Sr(),[t,n]=S.useState(null),r=it(V0e);return S.useEffect(()=>{if(t!=null){var i=t.getBoundingClientRect(),a=i.width/t.offsetWidth;Pn(a)&&a!==r&&e(M0e(a))}},[t,e,r]),n}function O$(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function _je(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?O$(Object(n),!0).forEach(function(r){Sje(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):O$(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Sje(e,t,n){return(t=kje(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function kje(e){var t=Eje(e,"string");return typeof t=="symbol"?t:t+""}function Eje(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Ru(){return Ru=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ru.apply(null,arguments)}var jje=()=>(dSe(),null);function $v(e){if(typeof e=="number")return e;if(typeof e=="string"){var t=parseFloat(e);if(!Number.isNaN(t))return t}return 0}var Tje=S.forwardRef((e,t)=>{var n,r,i=S.useRef(null),[a,o]=S.useState({containerWidth:$v((n=e.style)===null||n===void 0?void 0:n.width),containerHeight:$v((r=e.style)===null||r===void 0?void 0:r.height)}),l=S.useCallback((d,h)=>{o(m=>{var b=Math.round(d),y=Math.round(h);return m.containerWidth===b&&m.containerHeight===y?m:{containerWidth:b,containerHeight:y}})},[]),u=S.useCallback(d=>{if(typeof t=="function"&&t(d),d!=null&&typeof ResizeObserver<"u"){var{width:h,height:m}=d.getBoundingClientRect();l(h,m);var b=k=>{var{width:w,height:_}=k[0].contentRect;l(w,_)},y=new ResizeObserver(b);y.observe(d),i.current=y}},[t,l]);return S.useEffect(()=>()=>{var d=i.current;d?.disconnect()},[l]),S.createElement(S.Fragment,null,S.createElement(Fx,{width:a.containerWidth,height:a.containerHeight}),S.createElement("div",Ru({ref:u},e)))}),Aje=S.forwardRef((e,t)=>{var{width:n,height:r}=e,[i,a]=S.useState({containerWidth:$v(n),containerHeight:$v(r)}),o=S.useCallback((u,d)=>{a(h=>{var m=Math.round(u),b=Math.round(d);return h.containerWidth===m&&h.containerHeight===b?h:{containerWidth:m,containerHeight:b}})},[]),l=S.useCallback(u=>{if(typeof t=="function"&&t(u),u!=null){var{width:d,height:h}=u.getBoundingClientRect();o(d,h)}},[t,o]);return S.createElement(S.Fragment,null,S.createElement(Fx,{width:i.containerWidth,height:i.containerHeight}),S.createElement("div",Ru({ref:l},e)))}),Nje=S.forwardRef((e,t)=>{var{width:n,height:r}=e;return S.createElement(S.Fragment,null,S.createElement(Fx,{width:n,height:r}),S.createElement("div",Ru({ref:t},e)))}),Oje=S.forwardRef((e,t)=>{var{width:n,height:r}=e;return Bs(n)||Bs(r)?S.createElement(Aje,Ru({},e,{ref:t})):S.createElement(Nje,Ru({},e,{ref:t}))});function Cje(e){return e===!0?Tje:Oje}var Mje=S.forwardRef((e,t)=>{var{children:n,className:r,height:i,onClick:a,onContextMenu:o,onDoubleClick:l,onMouseDown:u,onMouseEnter:d,onMouseLeave:h,onMouseMove:m,onMouseUp:b,onTouchEnd:y,onTouchMove:k,onTouchStart:w,style:_,width:j,responsive:O,dispatchTouchEvents:T=!0}=e,C=S.useRef(null),M=Sr(),[P,I]=S.useState(null),[z,K]=S.useState(null),G=wje(),F=HT(),B=F?.width>0?F.width:j,q=F?.height>0?F.height:i,X=S.useCallback(ee=>{G(ee),typeof t=="function"&&t(ee),I(ee),K(ee),ee!=null&&(C.current=ee)},[G,t,I,K]),Z=S.useCallback(ee=>{M(cH(ee)),M(pa({handler:a,reactEvent:ee}))},[M,a]),Y=S.useCallback(ee=>{M(Y2(ee)),M(pa({handler:d,reactEvent:ee}))},[M,d]),V=S.useCallback(ee=>{M(iF()),M(pa({handler:h,reactEvent:ee}))},[M,h]),Q=S.useCallback(ee=>{M(Y2(ee)),M(pa({handler:m,reactEvent:ee}))},[M,m]),se=S.useCallback(()=>{M(pH())},[M]),ce=S.useCallback(ee=>{M(mH(ee.key))},[M]),W=S.useCallback(ee=>{M(pa({handler:o,reactEvent:ee}))},[M,o]),ne=S.useCallback(ee=>{M(pa({handler:l,reactEvent:ee}))},[M,l]),ie=S.useCallback(ee=>{M(pa({handler:u,reactEvent:ee}))},[M,u]),he=S.useCallback(ee=>{M(pa({handler:b,reactEvent:ee}))},[M,b]),J=S.useCallback(ee=>{M(pa({handler:w,reactEvent:ee}))},[M,w]),ae=S.useCallback(ee=>{T&&M(bH(ee)),M(pa({handler:k,reactEvent:ee}))},[M,T,k]),pe=S.useCallback(ee=>{M(pa({handler:y,reactEvent:ee}))},[M,y]),me=Cje(O);return S.createElement(kF.Provider,{value:P},S.createElement(ume.Provider,{value:z},S.createElement(me,{width:B??_?.width,height:q??_?.height,className:fn("recharts-wrapper",r),style:_je({position:"relative",cursor:"default",width:B,height:q},_),onClick:Z,onContextMenu:W,onDoubleClick:ne,onFocus:se,onKeyDown:ce,onMouseDown:ie,onMouseEnter:Y,onMouseLeave:V,onMouseMove:Q,onMouseUp:he,onTouchEnd:pe,onTouchMove:ae,onTouchStart:J,ref:X},S.createElement(jje,null),n)))}),Dje=["width","height","responsive","children","className","style","compact","title","desc"];function Pje(e,t){if(e==null)return{};var n,r,i=Rje(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function Rje(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var Lje=S.forwardRef((e,t)=>{var{width:n,height:r,responsive:i,children:a,className:o,style:l,compact:u,title:d,desc:h}=e,m=Pje(e,Dje),b=co(m);return u?S.createElement(S.Fragment,null,S.createElement(Fx,{width:n,height:r}),S.createElement(N$,{otherAttributes:b,title:d,desc:h},a)):S.createElement(Mje,{className:o,style:l,width:n,height:r,responsive:i??!1,onClick:e.onClick,onMouseLeave:e.onMouseLeave,onMouseEnter:e.onMouseEnter,onMouseMove:e.onMouseMove,onMouseDown:e.onMouseDown,onMouseUp:e.onMouseUp,onContextMenu:e.onContextMenu,onDoubleClick:e.onDoubleClick,onTouchStart:e.onTouchStart,onTouchMove:e.onTouchMove,onTouchEnd:e.onTouchEnd},S.createElement(N$,{otherAttributes:b,title:d,desc:h,ref:t},S.createElement(NEe,null,a)))});function q2(){return q2=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},q2.apply(null,arguments)}var Ije={top:5,right:5,bottom:5,left:5},$je={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,layout:"horizontal",margin:Ije,responsive:!1,reverseStackOrder:!1,stackOffset:"none",syncMethod:"index"},Bje=S.forwardRef(function(t,n){var r,i=ta(t.categoricalChartProps,$je),{chartName:a,defaultTooltipEventType:o,validateTooltipEventTypes:l,tooltipPayloadSearcher:u,categoricalChartProps:d}=t,h={chartName:a,defaultTooltipEventType:o,validateTooltipEventTypes:l,tooltipPayloadSearcher:u,eventEmitter:void 0};return S.createElement(dje,{preloadedState:{options:h},reduxStoreName:(r=d.id)!==null&&r!==void 0?r:a},S.createElement(vEe,{chartData:d.data}),S.createElement(hje,{layout:i.layout,margin:i.margin}),S.createElement(mje,{baseValue:i.baseValue,accessibilityLayer:i.accessibilityLayer,barCategoryGap:i.barCategoryGap,maxBarSize:i.maxBarSize,stackOffset:i.stackOffset,barGap:i.barGap,barSize:i.barSize,syncId:i.syncId,syncMethod:i.syncMethod,className:i.className,reverseStackOrder:i.reverseStackOrder}),S.createElement(Lje,q2({},i,{ref:n})))}),zje=["axis"],Uje=S.forwardRef((e,t)=>S.createElement(Bje,{chartName:"AreaChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:zje,tooltipPayloadSearcher:V1e,categoricalChartProps:e,ref:t}));function vH(e){return typeof e=="object"&&e!==null}function gu(e,t=0){return typeof e=="number"&&Number.isFinite(e)?e:t}function Fje(e,t=""){return typeof e=="string"?e:t}function Hje(e){if(!Array.isArray(e))return[];const t=[];for(const n of e){if(!vH(n))continue;const r=Fje(n.day),i=gu(n.dau),a=gu(n.total_active_ms);r&&t.push({day:r,dau:i,total_active_ms:a})}return t}function Gje(e){return vH(e)?{online_now:gu(e.online_now),active_today:gu(e.active_today),active_7d:gu(e.active_7d),active_30d:gu(e.active_30d),active_365d:gu(e.active_365d),series:Hje(e.series)}:null}function Yje(e){if(!e||e<=0)return"0";const t=Math.floor(e/1e3),n=Math.floor(t/86400),r=Math.floor(t%86400/3600),i=Math.floor(t%3600/60);return n>=1?`${n} ${r}`:r>=1?`${r} ${i}`:`${i}`}function C$(){const[e,t]=S.useState(30),[n,r]=S.useState(null),[i,a]=S.useState(0),[o,l]=S.useState(!1),[u,d]=S.useState(""),h=S.useRef(!1),m=S.useRef(!1),b=S.useCallback(async()=>{if(!h.current){h.current=!0,l(!0),d("");try{const{data:_,error:j}=await Le.rpc("admin_dashboard_stats",{p_days:e});if(j){d(j.message||"RPC error"),r(null);return}const O=Gje(_);if(!O){d("   ( )"),r(null);return}r(O),a(O.online_now)}finally{l(!1),h.current=!1}}},[e]),y=S.useCallback(async()=>{if(!m.current){m.current=!0;try{const{data:_,error:j}=await Le.rpc("admin_online_now");if(j)return;const O=typeof _=="number"?_:typeof _=="string"?Number(_):0;Number.isFinite(O)&&a(O)}finally{m.current=!1}}},[]);S.useEffect(()=>{b()},[b]),S.useEffect(()=>{y();const _=window.setInterval(()=>void y(),3e4);return()=>window.clearInterval(_)},[y]),S.useEffect(()=>{const _=window.setInterval(()=>void b(),3e5);return()=>window.clearInterval(_)},[b]);const k=S.useMemo(()=>n?.series??[],[n]),w=S.useMemo(()=>k.reduce((_,j)=>_+(j.total_active_ms||0),0),[k]);return g.jsx(Qhe,{allow:["admin","operator","viewer"],children:g.jsxs("div",{className:"p-6 text-white",children:[g.jsxs("div",{className:"flex items-center justify-between gap-3 mb-6",children:[g.jsx("h1",{className:"text-2xl font-bold",children:"Dashboard"}),g.jsxs("div",{className:"flex items-center gap-2",children:[g.jsxs("select",{value:e,onChange:_=>{const j=Number(_.target.value);(j===30||j===60||j===90)&&t(j)},className:"px-2 py-1 bg-neutral-800 border border-neutral-700 rounded text-sm",title:"DAU  ",children:[g.jsx("option",{value:30,children:" 30"}),g.jsx("option",{value:60,children:" 60"}),g.jsx("option",{value:90,children:" 90"})]}),g.jsx("button",{type:"button",onClick:()=>void b(),className:"px-3 py-1 rounded bg-neutral-700 hover:bg-neutral-600 cursor-pointer text-sm",children:""})]})]}),u?g.jsx("div",{className:"text-red-400 mb-3",children:u}):null,o?g.jsx("div",{className:"text-neutral-300 mb-3",children:"Loading..."}):null,g.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-5 gap-4 mb-10",children:[g.jsx(Sm,{label:" ",value:i}),g.jsx(Sm,{label:" (DAU)",value:n?.active_today??0}),g.jsx(Sm,{label:" 7 ",value:n?.active_7d??0}),g.jsx(Sm,{label:" 30 ",value:n?.active_30d??0}),g.jsx(Sm,{label:" 1 ",value:n?.active_365d??0})]}),g.jsxs("section",{className:"mb-10",children:[g.jsxs("div",{className:"flex items-end justify-between gap-3 mb-3",children:[g.jsx("h2",{className:"text-xl font-semibold",children:"DAU "}),g.jsx("div",{className:"text-xs text-neutral-400",children:"(     )"})]}),g.jsx(qje,{data:k})]}),g.jsxs("section",{className:"mt-6",children:[g.jsx("h3",{className:"text-lg font-semibold mb-2",children:"   ()"}),g.jsxs("div",{className:"p-4 bg-neutral-900 border border-neutral-700 rounded-lg",children:[g.jsx("div",{className:"text-sm text-neutral-400",children:"series.total_active_ms  (day    )"}),g.jsx("div",{className:"text-2xl font-bold mt-1",children:Yje(w)})]})]})]})})}function Sm({label:e,value:t}){return g.jsxs("div",{className:"p-4 bg-neutral-900 border border-neutral-700 rounded-lg",children:[g.jsx("div",{className:"text-neutral-400 text-sm",children:e}),g.jsx("div",{className:"text-3xl font-bold mt-1",children:t})]})}function qje({data:e}){return g.jsx("div",{className:"w-full h-64 bg-neutral-900 border border-neutral-700 rounded-lg p-2 text-xs",children:g.jsx(Ege,{width:"100%",height:"100%",children:g.jsxs(Uje,{data:e,children:[g.jsx(XF,{strokeDasharray:"3 3"}),g.jsx(sH,{dataKey:"day"}),g.jsx(lH,{}),g.jsx(vSe,{formatter:(t,n)=>n==="dau"?[t,"DAU"]:[t,n]}),g.jsx(aH,{type:"monotone",dataKey:"dau"})]})})})}function Kje(){const[e,t]=S.useState(""),[n,r]=S.useState("ACTIVE"),[i,a]=S.useState("LAST_SEEN_DESC"),[o,l]=S.useState(1),[u,d]=S.useState({});return{search:e,setSearch:t,tab:n,setTab:r,sort:i,setSort:a,page:o,setPage:l,draftByUser:u,setDraftByUser:d,setDraft:(m,b)=>{d(y=>{const k=y[m]??{plan:"FREE",startDate:"",endDate:"",myoViewer:"OFF",saving:!1};return{...y,[m]:{...k,...b}}})}}}const K2=20;function Wje(e){return typeof e=="object"&&e!==null}function Do(e){return typeof e=="string"?e:null}function M$(e){return typeof e=="boolean"?e:null}function Nk(e){if(typeof e=="number"&&Number.isFinite(e))return e;if(typeof e=="string"&&e.trim()!==""){const t=Number(e);return Number.isFinite(t)?t:null}return null}function xH(e){return e==="FREE"||e==="BASIC"||e==="PRO"}function Vje(e){return xH(e)?e:null}function Zje(e){if(!Wje(e))return null;const t=Do(e.user_id);return t?{user_id:t,name:Do(e.name),nickname:Do(e.nickname),email:Do(e.email),disabled_at:Do(e.disabled_at),created_at:Do(e.created_at),plan:Vje(e.plan),starts_at:Do(e.starts_at),expires_at:Do(e.expires_at),can_use_myo_viewer:M$(e.can_use_myo_viewer),myeongsik_count:Nk(e.myeongsik_count),last_seen_at:Do(e.last_seen_at),last_path:Do(e.last_path),total_active_ms:Nk(e.total_active_ms),online:M$(e.online),total_count:Nk(e.total_count)}:null}function D$(e){const t=(e??"").trim();return t.length?t:null}function wH(e){const t=/^(\d{4})-(\d{2})-(\d{2})$/.exec(e);if(!t)return!1;const n=Number(t[1]),r=Number(t[2]),i=Number(t[3]);if(!Number.isFinite(n)||!Number.isFinite(r)||!Number.isFinite(i)||r<1||r>12)return!1;const a=new Date(Date.UTC(n,r-1,i));return a.getUTCFullYear()===n&&a.getUTCMonth()===r-1&&a.getUTCDate()===i}function Xje(e,t){if(!wH(e))throw new Error(`   : ${e}`);const n=/^(\d{4})-(\d{2})-(\d{2})$/.exec(e);if(!n)throw new Error(`   : ${e}`);const r=Number(n[1]),i=Number(n[2]),a=Number(n[3]),o=new Date(Date.UTC(r,i-1,a));o.setUTCDate(o.getUTCDate()+t);const l=String(o.getUTCFullYear()).padStart(4,"0"),u=String(o.getUTCMonth()+1).padStart(2,"0"),d=String(o.getUTCDate()).padStart(2,"0");return`${l}-${u}-${d}`}function P$(e){if(!wH(e))throw new Error(`   : ${e}`);return`${e}T00:00:00.000Z`}function Jje(e){return typeof e=="object"&&e!==null}function Qje(e,t){if(console.error(e,t),Jje(t)&&console.error(`${e} fields`,{message:t.message,code:t.code,details:t.details,hint:t.hint}),typeof t=="object"&&t!==null)try{console.error(`${e} ownKeys`,Object.getOwnPropertyNames(t))}catch{}try{console.error(`${e} json`,JSON.stringify(t))}catch{}}function eTe(){const[e,t]=S.useState([]),[n,r]=S.useState(0),[i,a]=S.useState(!1),[o,l]=S.useState(null),u=S.useCallback(async h=>{const{search:m,tab:b,sort:y,page:k}=h;a(!0),l(null);try{const w=Math.max(0,(Math.max(1,k)-1)*K2),{data:_,error:j}=await Le.rpc("admin_list_users",{p_search:m&&m.trim()?m.trim():null,p_tab:b,p_sort:y,p_limit:K2,p_offset:w});if(j)throw j;const T=(Array.isArray(_)?_:[]).map(Zje).filter(C=>C!==null);t(T),r(T[0]?.total_count??0)}catch(w){t([]),r(0),l(w instanceof Error?w.message:"  ")}finally{a(!1)}},[]),d=S.useCallback(async(h,m,b,y)=>{if(m){l(null),b(h,{saving:!0});try{if(!xH(m.plan))throw new Error(`  : ${String(m.plan)}`);const k=D$(m.startDate),w=D$(m.endDate),_=k?P$(k):null,j=w?P$(Xje(w,1)):null;if(_&&j){const C=Date.parse(_),M=Date.parse(j);if(!Number.isFinite(C)||!Number.isFinite(M))throw new Error("  ");if(M<=C)throw new Error("  .")}const O={p_target_user_id:h,p_plan:m.plan,p_can_use_myo_viewer:m.myoViewer==="ON",p_starts_at:_,p_expires_at:j},{error:T}=await Le.rpc("admin_set_user_entitlements",O);if(T)throw Qje("admin_set_user_entitlements error",T),T;b(h,{saving:!1,lastSavedAt:Date.now()}),await y()}catch(k){throw b(h,{saving:!1}),l(k instanceof Error?k.message:" "),k}}},[]);return{rows:e,totalCount:n,loading:i,error:o,setError:l,fetchList:u,saveEntitlements:d}}const _H=[{value:"FREE",label:"FREE ()"},{value:"BASIC",label:"BASIC (ON)"},{value:"PRO",label:"PRO (OFF)"}];function tTe(e){return e==="FREE"||e==="BASIC"||e==="PRO"}function nTe(e){const t=e??"FREE";return _H.find(n=>n.value===t)?.label??String(t)}function rTe(e){if(!e)return" ";const t=Date.parse(e);if(!Number.isFinite(t))return" ";const n=Date.now()-t,r=Math.floor(n/1e3);if(r<15)return"";if(r<60)return`${r} `;const i=Math.floor(r/60);if(i<60)return`${i} `;const a=Math.floor(i/60);return a<24?`${a} `:`${Math.floor(a/24)} `}function R$(e){if(!e||e<=0)return"0";const t=Math.floor(e/1e3),n=Math.floor(t/86400),r=Math.floor(t%86400/3600),i=Math.floor(t%3600/60);return n>=1?`${n} ${r}`:r>=1?`${r} ${i}`:`${i}`}function Bv(e){if(!e)return"";const t=Date.parse(e);return Number.isFinite(t)?new Date(t).toISOString().slice(0,10):""}function iTe(e,t){const n=Bv(e),r=Bv(t);return!n&&!r?" ":n&&!r?`${n} ~`:!n&&r?`~ ${r}`:`${n} ~ ${r}`}function aTe(e,t){const n={...e};for(const r of t){const i=r.plan??"FREE",a=Bv(r.starts_at),o=Bv(r.expires_at),l=r.can_use_myo_viewer===!0?"ON":"OFF",u=n[r.user_id];if(!u){n[r.user_id]={plan:i,startDate:a,endDate:o,myoViewer:l,saving:!1};continue}u.saving||(u.plan!==i||u.startDate!==a||u.endDate!==o||u.myoViewer!==l)&&(n[r.user_id]={...u,plan:i,startDate:a,endDate:o,myoViewer:l})}return n}function oTe(){const e=Kje(),{search:t,setSearch:n,tab:r,setTab:i,sort:a,setSort:o,page:l,setPage:u,draftByUser:d,setDraftByUser:h,setDraft:m}=e,{rows:b,totalCount:y,loading:k,error:w,fetchList:_,saveEntitlements:j}=eTe(),O=S.useMemo(()=>Math.max(1,Math.ceil(y/K2)),[y]);return S.useEffect(()=>{u(1)},[r,a]),S.useEffect(()=>{_({search:t,tab:r,sort:a,page:l})},[_,t,r,a,l]),S.useEffect(()=>{l>O&&u(O)},[l,O,u]),S.useEffect(()=>{h(T=>aTe(T,b))},[b,h]),g.jsxs("div",{className:"p-6 text-white",children:[g.jsx("h1",{className:"text-2xl font-bold mb-4",children:"Users"}),g.jsxs("div",{className:"flex flex-col md:flex-row gap-2 md:items-center mb-4",children:[g.jsx("input",{className:"px-3 py-2 bg-neutral-800 border border-neutral-700 rounded w-full max-w-sm",placeholder:"Search (name, email, userId...)",value:t,onChange:T=>{n(T.target.value),u(1)}}),g.jsxs("div",{className:"flex gap-2",children:[g.jsxs("select",{className:"px-2 py-2 bg-neutral-800 border border-neutral-700 rounded text-sm",value:r,onChange:T=>{const C=T.target.value;i(C==="DISABLED"?"DISABLED":C==="ALL"?"ALL":"ACTIVE")},children:[g.jsx("option",{value:"ACTIVE",children:""}),g.jsx("option",{value:"DISABLED",children:""}),g.jsx("option",{value:"ALL",children:""})]}),g.jsxs("select",{className:"px-2 py-2 bg-neutral-800 border border-neutral-700 rounded text-sm",value:a,onChange:T=>{const C=T.target.value;(C==="LAST_SEEN_DESC"||C==="LAST_SEEN_ASC"||C==="CREATED_DESC"||C==="CREATED_ASC"||C==="PLAN_DESC"||C==="ONLINE_ACTIVE_MS_DESC"||C==="TOTAL_ACTIVE_MS_DESC")&&o(C)},children:[g.jsx("option",{value:"LAST_SEEN_DESC",children:" "}),g.jsx("option",{value:"CREATED_DESC",children:" "}),g.jsx("option",{value:"PLAN_DESC",children:""}),g.jsx("option",{value:"ONLINE_ACTIVE_MS_DESC",children:"+"}),g.jsx("option",{value:"TOTAL_ACTIVE_MS_DESC",children:""}),g.jsx("option",{value:"LAST_SEEN_ASC",children:" "}),g.jsx("option",{value:"CREATED_ASC",children:" "})]})]})]}),w&&g.jsx("div",{className:"text-red-400 mb-2",children:w}),k&&g.jsx("div",{children:"Loading..."}),g.jsx("div",{className:"space-y-3",children:b.map(T=>{const C=T.name||T.nickname||"(no profile)",M=T.email||"",P=d[T.user_id]??{plan:"FREE",startDate:"",endDate:"",myoViewer:"OFF",saving:!1,lastSavedAt:void 0},I=Date.now(),z=(T.starts_at?Date.parse(T.starts_at)<=I:!0)&&(T.expires_at?Date.parse(T.expires_at)>I:!0),K=T.plan??"FREE",G=z?K:"FREE",F=T.can_use_myo_viewer===!0?"ON":"OFF",B=T.last_seen_at??null,q=T.online===!0,X=T.total_active_ms??null;return g.jsxs("div",{className:"p-4 bg-neutral-900 border border-neutral-700 rounded-lg hover:bg-neutral-800",children:[g.jsxs("div",{className:"font-semibold text-lg flex flex-col desk:flex-row item-start desk:items-center justify-between gap-3",children:[g.jsxs("div",{className:"min-w-0 flex flex-col desk:flex-row item-start desk:items-center gap-2",children:[g.jsx("span",{className:"text-nowrap mr-1",children:C}),M?g.jsxs("span",{className:"text-sm text-neutral-400",children:["(",M,")"]}):null,g.jsxs("div",{className:"flex items-center gap-1",children:[g.jsxs("span",{className:`text-[11px] px-2 py-0.5 rounded-full border ${q?"bg-emerald-900/40 border-emerald-700 text-emerald-300":"bg-neutral-800 border-neutral-700 text-neutral-300"}`,title:B?new Date(B).toLocaleString():" ",children:[q?"":"","  ",rTe(B)]}),g.jsxs("span",{className:"text-[11px] px-2 py-0.5 rounded-full border bg-neutral-800 border-neutral-700 text-neutral-300",title:" ",children:[" ",R$(X)]})]})]}),g.jsx("span",{className:"text-neutral-500 text-sm shrink-0",children:T.user_id})]}),g.jsxs("div",{className:"text-sm text-neutral-400 mt-1",children:[" ",T.myeongsik_count??0,"",B?g.jsxs(g.Fragment,{children:["    ",new Date(B).toLocaleString()]}):g.jsx(g.Fragment,{children:"     "}),g.jsxs(g.Fragment,{children:["   ",R$(X)]})]}),g.jsxs("div",{className:"text-sm text-neutral-400 mt-1",children:[" ",nTe(G),"  ",iTe(T.starts_at,T.expires_at),"    ",F,!z&&T.plan&&T.plan!=="FREE"?" ()":""]}),g.jsxs("div",{className:"mt-3 flex flex-col gap-2",children:[g.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[g.jsxs("div",{className:"mb-1",children:[g.jsx("input",{type:"date",className:"px-2 py-1 bg-neutral-800 border border-neutral-700 rounded text-sm",value:P.startDate,onChange:Z=>m(T.user_id,{startDate:Z.target.value})}),g.jsx("span",{className:"text-neutral-500 mx-1",children:"~"}),g.jsx("input",{type:"date",className:"px-2 py-1 bg-neutral-800 border border-neutral-700 rounded text-sm",value:P.endDate,onChange:Z=>m(T.user_id,{endDate:Z.target.value})})]}),g.jsx("select",{className:"px-2 py-1 bg-neutral-800 border border-neutral-700 rounded text-sm",value:P.plan,onChange:Z=>{const Y=Z.target.value;tTe(Y)&&m(T.user_id,{plan:Y})},children:_H.map(Z=>g.jsx("option",{value:Z.value,children:Z.label},Z.value))}),g.jsxs("select",{className:"px-2 py-1 bg-neutral-800 border border-neutral-700 rounded text-sm",value:P.myoViewer,onChange:Z=>m(T.user_id,{myoViewer:Z.target.value==="ON"?"ON":"OFF"}),children:[g.jsx("option",{value:"ON",children:"  ON"}),g.jsx("option",{value:"OFF",children:"  OFF"})]}),g.jsx("button",{type:"button",disabled:P.saving,onClick:()=>void j(T.user_id,P,e.setDraft,()=>_({search:t,tab:r,sort:a,page:l})),className:"px-3 py-1 rounded bg-purple-600 hover:bg-purple-500 disabled:opacity-50 cursor-pointer",children:P.saving?" ...":""}),g.jsx("button",{type:"button",onClick:()=>location.href=`/admin/user/${T.user_id}`,className:"px-3 py-1 rounded bg-neutral-700 hover:bg-neutral-600 cursor-pointer",children:""})]}),P.lastSavedAt!=null?g.jsxs("div",{className:"text-xs text-emerald-400",children:["  ",new Date(P.lastSavedAt).toLocaleString()]}):null]})]},T.user_id)})}),g.jsxs("div",{className:"flex items-center justify-center gap-3 mt-6",children:[g.jsx("button",{disabled:l<=1,onClick:()=>u(T=>T-1),className:"px-3 py-1 border border-neutral-700 rounded disabled:opacity-50",children:""}),g.jsxs("span",{children:[l," / ",O," ( ",y,")"]}),g.jsx("button",{disabled:l>=O,onClick:()=>u(T=>T+1),className:"px-3 py-1 border border-neutral-700 rounded disabled:opacity-50",children:""})]})]})}function sTe(){const[e,t]=S.useState(null),[n,r]=S.useState([]),[i,a]=S.useState(!1);return{profile:e,setProfile:t,myeongsikList:n,setMyeongsikList:r,saving:i,setSaving:a}}function lTe(e){return{isDisabled:!!e?.disabled_at,hasProfile:!!e}}async function tN({action:e,targetUserId:t,targetRecordId:n,payload:r={}}){const a=(await Le.auth.getSession()).data.session?.user?.id;a&&await Le.from("audit_logs").insert({action:e,target_user_id:t??null,target_record_id:n??null,actor_admin_id:a,payload:r})}const cTe=async e=>{const{data:t}=await Le.from("profiles").select("*").eq("user_id",e).maybeSingle();return t??null},uTe=async e=>{const{data:t}=await Le.from("myeongsik").select("*").eq("user_id",e).order("created_at",{ascending:!1});return t??[]},dTe=async e=>{await Le.from("profiles").insert({user_id:e,name:"",nickname:"",email:"",mgr_memo:""})},fTe=async(e,t)=>{await Le.from("profiles").update({name:t.name,nickname:t.nickname,email:t.email,mgr_memo:t.mgr_memo}).eq("user_id",e)},hTe=async e=>{await Le.from("profiles").update({disabled_at:null}).eq("user_id",e),await Le.from("myeongsik").update({deleted_at:null}).eq("user_id",e),await tN({action:"restore_account",targetUserId:e,payload:{source:"admin_user_detail"}})},mTe=async e=>{await Le.from("myeongsik").update({deleted_at:null}).eq("user_id",e),await tN({action:"restore_myeongsik_all",targetUserId:e,payload:{source:"admin_user_detail"}})},L$=async(e,t,n)=>{const{error:r}=await Le.rpc("admin_set_myeongsik_deleted",{p_target_user_id:e,p_myeongsik_id:t,p_deleted_at:n});if(r)throw console.error("admin_set_myeongsik_deleted error:",{message:r.message,details:r.details,hint:r.hint,code:r.code}),r;await tN({action:n?"delete_myeongsik":"restore_myeongsik",targetUserId:e,targetRecordId:t,payload:{deleted_at:n,source:"admin_user_detail"}})};function pTe(e,t){if(t&&typeof t=="object"){const n=t;console.error(e,{message:n.message,details:n.details,hint:n.hint,code:n.code});return}console.error(e,t)}function gTe({userId:e,profile:t,setProfile:n,setMyeongsikList:r,setSaving:i}){const a=S.useCallback(async()=>{const _=await cTe(e);n(_)},[e,n]),o=S.useCallback(async()=>{const _=await uTe(e);r(_)},[e,r]);S.useEffect(()=>{a(),o()},[a,o]);const l=S.useCallback(async()=>{if(e){i(!0);try{await dTe(e),await a()}catch(_){throw console.error("handleCreateProfile failed:",_),_}finally{i(!1)}}},[e,i,a]),u=S.useCallback(async()=>{if(e&&t){i(!0);try{await fTe(e,t),await a()}catch(_){throw console.error("handleSaveProfile failed:",_),_}finally{i(!1)}}},[e,t,i,a]),d=S.useCallback(async()=>{if(e&&t){i(!0);try{const _=t.disabled_at==null,{data:j,error:O}=await Le.rpc("admin_set_profile_disabled",{p_target_user_id:e,p_disabled:_});if(O)throw pTe("admin_set_profile_disabled error:",O),O;n({...t,disabled_at:typeof j=="string"?j:null})}finally{i(!1)}}},[e,t,n,i]),h=S.useCallback(async()=>{if(e){i(!0);try{await hTe(e),await a(),await o()}catch(_){throw console.error("handleRestoreAccount failed:",_),_}finally{i(!1)}}},[e,i,a,o]),m=S.useCallback(async()=>{if(e){i(!0);try{await mTe(e),await o()}catch(_){throw console.error("handleRestoreAllMyeongsik failed:",_),_}finally{i(!1)}}},[e,i,o]),b=S.useCallback(async _=>{if(e&&_){i(!0);try{await L$(e,_,null),await o()}catch(j){throw console.error("handleRestoreMyeongsik failed:",j),j}finally{i(!1)}}},[e,i,o]),y=S.useCallback(_=>{const j=typeof window<"u"?window.location.origin:"",O=_?`${j}/impersonate?userId=${e}&myeongsikId=${_}`:`${j}/impersonate?userId=${e}`;window.open(O,"_blank")},[e]),k=S.useCallback(async(_,j)=>{if(!e||!_)return;const O=j?null:new Date().toISOString();i(!0);try{await L$(e,_,O),await o()}catch(T){throw console.error("toggleDeleteMyeongsik failed:",T),T}finally{i(!1)}},[e,i,o]),w=S.useCallback(_=>{window.location.href=_},[]);return{handleCreateProfile:l,handleSaveProfile:u,toggleDisable:d,handleRestoreAccount:h,handleRestoreAllMyeongsik:m,handleRestoreMyeongsik:b,handleViewAsUser:y,toggleDeleteMyeongsik:k,goTo:w}}function bTe({params:e}){const t=e.userId,n=sTe(),r=lTe(n.profile),i=gTe({userId:t,profile:n.profile,setProfile:n.setProfile,setMyeongsikList:n.setMyeongsikList,setSaving:n.setSaving});return g.jsxs("div",{className:"p-6 text-white",children:[g.jsx("button",{className:"mb-4 underline cursor-pointer",onClick:()=>i.goTo("/admin/user"),children:"  "}),g.jsx("h1",{className:"text-2xl font-bold mb-4",children:" "}),g.jsxs("div",{className:"p-4 bg-neutral-900 border border-neutral-700 rounded-lg mb-6",children:[g.jsx("div",{className:"flex items-center justify-between mb-3",children:g.jsxs("div",{className:"flex items-center gap-3",children:[g.jsx("h2",{className:"text-xl font-semibold",children:""}),g.jsx("button",{className:"px-3 py-1 bg-blue-700 text-xs rounded cursor-pointer",onClick:()=>i.handleViewAsUser(),children:" ( )"})]})}),!r.hasProfile&&g.jsx("button",{onClick:i.handleCreateProfile,className:"px-3 py-2 bg-blue-600 rounded cursor-pointer",disabled:n.saving,children:" "}),r.hasProfile&&n.profile&&g.jsxs("div",{className:"space-y-3",children:[g.jsxs("div",{children:[g.jsx("label",{children:""}),g.jsx("input",{className:"w-full p-2 bg-neutral-800 border border-neutral-600 rounded",value:n.profile.name??"",onChange:a=>n.setProfile({...n.profile,name:a.target.value})})]}),g.jsxs("div",{children:[g.jsx("label",{children:""}),g.jsx("input",{className:"w-full p-2 bg-neutral-800 border border-neutral-600 rounded",value:n.profile.nickname??"",onChange:a=>n.setProfile({...n.profile,nickname:a.target.value})})]}),g.jsxs("div",{children:[g.jsx("label",{children:"Email"}),g.jsx("input",{className:"w-full p-2 bg-neutral-800 border border-neutral-600 rounded",value:n.profile.email??"",onChange:a=>n.setProfile({...n.profile,email:a.target.value})})]}),g.jsxs("div",{children:[g.jsx("label",{children:" "}),g.jsx("textarea",{className:"w-full p-2 bg-neutral-800 border border-neutral-600 rounded",rows:3,value:n.profile.mgr_memo??"",onChange:a=>n.setProfile({...n.profile,mgr_memo:a.target.value})})]}),g.jsxs("div",{className:"flex gap-2",children:[g.jsx("button",{onClick:i.handleSaveProfile,className:"px-3 py-2 bg-green-600 rounded cursor-pointer text-xs",disabled:n.saving,children:""}),r.isDisabled&&g.jsx("button",{onClick:i.handleRestoreAccount,className:"px-3 py-2 bg-blue-600 rounded cursor-pointer text-xs",disabled:n.saving,children:" + "}),g.jsx("button",{onClick:i.toggleDisable,className:`px-3 py-2 rounded cursor-pointer text-xs ${r.isDisabled?"bg-yellow-600":"bg-gray-600"}`,children:r.isDisabled?" ":" "})]})]})]}),g.jsxs("div",{className:"p-4 bg-neutral-900 border border-neutral-700 rounded-lg",children:[g.jsxs("div",{className:"flex items-center justify-between mb-4",children:[g.jsx("h2",{className:"text-xl font-semibold",children:" "}),g.jsx("button",{className:"px-3 py-2 bg-blue-700 rounded text-xs cursor-pointer",onClick:i.handleRestoreAllMyeongsik,disabled:n.saving,children:"  "})]}),n.myeongsikList.map(a=>g.jsx("div",{className:"p-3 bg-neutral-800 border border-neutral-700 rounded mb-3",children:g.jsxs("div",{className:"flex items-center justify-between",children:[g.jsxs("div",{children:[g.jsx("div",{className:"font-semibold",children:a.name||"(no name)"}),g.jsxs("div",{className:"text-sm text-neutral-400",children:["Birth: ",a.birth_json?.birthDay??"-"," "," ",a.created_at?new Date(a.created_at).toLocaleString():"-"]})]}),g.jsx("div",{className:"flex gap-2",children:g.jsx("button",{className:"text-nowrap px-2 py-1 border border-emerald-500 text-emerald-100 rounded cursor-pointer text-xs",onClick:()=>i.handleRestoreMyeongsik(a.id),disabled:n.saving,children:"  "})})]})},a.id)),n.myeongsikList.length===0&&g.jsx("div",{className:"text-neutral-400",children:" ."})]})]})}function yTe({open:e,onClose:t,children:n}){return e?g.jsx("div",{className:"fixed inset-0 bg-black/70 z-50 flex items-center justify-center",children:g.jsxs("div",{className:"bg-neutral-900 border border-neutral-700 rounded-lg p-6 max-w-2xl w-full relative",children:[g.jsx("button",{className:"absolute top-3 right-3 text-neutral-400 hover:text-white",onClick:t,children:""}),g.jsx("div",{className:"max-h-[70vh] overflow-y-auto",children:n})]})}):null}const I$=50;function vTe(){const[e,t]=S.useState(null),[n,r]=S.useState(!1),[i,a]=S.useState([]),[o,l]=S.useState(1),[u,d]=S.useState("all"),[h,m]=S.useState("all"),[b,y]=S.useState("30"),[k,w]=S.useState(""),[_,j]=S.useState(!1),O=S.useCallback(async C=>{await Le.from("audit_logs").delete().eq("id",C),a(M=>M.filter(P=>P.id!==C))},[]),T=S.useCallback(async()=>{j(!0);const C=new Date;b!=="all"&&C.setDate(C.getDate()-Number(b));let M=Le.from("audit_logs").select("*").order("created_at",{ascending:!1}).range((o-1)*I$,o*I$-1);b!=="all"&&(M=M.gte("created_at",C.toISOString())),u!=="all"&&(M=M.eq("action",u)),h!=="all"&&(M=M.eq("actor_admin_id",h));const{data:P}=await M;let I=P||[];if(k.trim()!==""){const z=k.toLowerCase();I=I.filter(K=>(JSON.stringify(K).toLowerCase()+(K.payload?JSON.stringify(K.payload).toLowerCase():"")).includes(z))}a(I),j(!1)},[o,u,h,b,k]);return S.useEffect(()=>{T()},[T]),g.jsxs("div",{className:"p-6 text-white",children:[g.jsx("h1",{className:"text-2xl font-bold mb-6",children:"Audit Logs"}),g.jsxs("div",{className:"mb-6 grid grid-cols-1 md:grid-cols-4 gap-3",children:[g.jsxs("select",{className:"p-2 bg-neutral-800 rounded border border-neutral-600",value:u,onChange:C=>d(C.target.value),children:[g.jsx("option",{value:"all",children:" Action"}),g.jsx("option",{value:"delete_myeongsik",children:" "}),g.jsx("option",{value:"restore_myeongsik",children:" "}),g.jsx("option",{value:"update_profile",children:" "}),g.jsx("option",{value:"impersonate_user",children:""})]}),g.jsxs("select",{className:"p-2 bg-neutral-800 rounded border border-neutral-600",value:h,onChange:C=>m(C.target.value),children:[g.jsx("option",{value:"all",children:" "}),g.jsx("option",{value:"",children:""}),g.jsx("option",{value:"system",children:"System"})]}),g.jsxs("select",{className:"p-2 bg-neutral-800 rounded border border-neutral-600",value:b,onChange:C=>y(C.target.value),children:[g.jsx("option",{value:"1",children:"24"}),g.jsx("option",{value:"7",children:"7"}),g.jsx("option",{value:"30",children:"30"}),g.jsx("option",{value:"all",children:""})]}),g.jsx("input",{className:"p-2 bg-neutral-800 rounded border border-neutral-600",placeholder:" (payload )",value:k,onChange:C=>w(C.target.value)})]}),_?g.jsx("div",{children:"Loading..."}):i.map(C=>g.jsxs("div",{className:"p-4 bg-neutral-900 border border-neutral-700 rounded mb-4 cursor-pointer hover:bg-neutral-800",onClick:()=>{t(C),r(!0)},children:[g.jsxs("div",{className:"flex items-center justify-between gap-3",children:[g.jsx("div",{className:"font-semibold text-lg",children:C.action}),g.jsx("button",{className:"px-2 py-1 text-xs bg-red-700 hover:bg-red-600 rounded cursor-pointer",onClick:M=>{M.stopPropagation(),O(C.id)},children:""})]}),g.jsxs("div",{className:"text-sm mt-1 text-neutral-400",children:[g.jsxs("div",{children:["Actor: ",C.actor_admin_id]}),g.jsxs("div",{children:["Target User: ",C.target_user_id||"-"]}),g.jsxs("div",{children:["Target Record: ",C.target_record_id||"-"]}),g.jsxs("div",{children:["Time: ",new Date(C.created_at).toLocaleString()]})]}),C.payload&&g.jsx("pre",{className:"mt-3 text-xs bg-neutral-800 p-2 rounded",children:JSON.stringify(C.payload,null,2)})]},C.id)),g.jsxs("div",{className:"flex items-center justify-center gap-3 mt-6",children:[g.jsx("button",{className:"px-3 py-1 bg-neutral-800 border border-neutral-600 rounded disabled:opacity-40 cursor-pointer",disabled:o===1,onClick:()=>l(C=>C-1),children:" "}),g.jsxs("span",{className:"text-neutral-400",children:["Page ",o]}),g.jsx("button",{className:"px-3 py-1 bg-neutral-800 border border-neutral-600 rounded cursor-pointer",onClick:()=>l(C=>C+1),children:" "})]}),g.jsx(yTe,{open:n,onClose:()=>r(!1),children:e&&g.jsxs("div",{children:[g.jsx("h2",{className:"text-xl font-bold mb-3",children:e.action}),g.jsxs("div",{className:"text-sm text-neutral-400 space-y-1 mb-4",children:[g.jsxs("div",{children:["Actor: ",e.actor_admin_id]}),g.jsxs("div",{children:["Target User: ",e.target_user_id??"-"]}),g.jsxs("div",{children:["Target Record: ",e.target_record_id??"-"]}),g.jsxs("div",{children:["Time: ",new Date(e.created_at).toLocaleString()]})]}),g.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Payload"}),g.jsx("pre",{className:"text-xs bg-neutral-800 p-3 rounded whitespace-pre-wrap",children:JSON.stringify(e.payload,null,2)})]})})]})}const xTe="15b517b3-3d97-41a6-ae17-563abd163a36".split(",").map(e=>e.trim()).filter(Boolean);function SH(){const[e,t]=S.useState(!1),[n,r]=S.useState(!1);if(S.useEffect(()=>{(async()=>{const{data:l}=await Le.auth.getUser(),u=l.user?.id;r(!!u&&xTe.includes(u)),t(!0)})()},[]),!e)return g.jsx("div",{className:"p-6 text-white",children:"  ...!"});if(!n)return g.jsx("div",{className:"p-6 text-white",children:"  "});const i=window.location.pathname;let a=g.jsx(C$,{});if(i.startsWith("/admin/user/")){const o=i.replace("/admin/user/","");a=g.jsx(bTe,{params:{userId:o}})}else i.startsWith("/admin/user")?a=g.jsx(oTe,{}):i.startsWith("/admin/logs")?a=g.jsx(vTe,{}):i.startsWith("/admin/dashboard")&&(a=g.jsx(C$,{}));return g.jsx(Xhe,{children:a})}function wTe({pillarsA:e,pillarsB:t}){const n=hoe(e,t);return g.jsxs("div",{className:"rounded-xl p-4 bg-neutral-100 dark:bg-neutral-900 text-neutral-900 dark:text-neutral-100 space-y-2",children:[g.jsx("div",{className:"text-sm font-bold mb-3",children:"   "}),Object.entries(n).map(([r,i])=>i.length>0?g.jsxs("div",{className:"flex gap-2 text-xs",children:[g.jsx("span",{className:"shrink-0 w-20 text-xs font-semibold text-neutral-700 dark:text-neutral-400 mt-1",children:r}),g.jsx("div",{className:"flex flex-wrap gap-2",children:i.map((a,o)=>g.jsx("span",{className:"text-xs px-2 py-1 rounded-full border whitespace-nowrap bg-violet-100 text-violet-800 border-violet-200 dark:bg-violet-900/30 dark:text-violet-200 dark:border-violet-800",children:a},o))})]},r):null)]})}const _Te=["","","","","","","","","",""],STe=["","","","","","","","","",""],kTe=["","","","","","","","","","","",""],ETe=["","","","","","","","","","","",""],jTe=new Set([..._Te,...STe]),TTe=new Set([...kTe,...ETe]);function ATe(e){return typeof e=="object"&&e!==null}function $$(e){return typeof e=="string"&&e.length>=2&&jTe.has(e[0])&&TTe.has(e[1])}function gn(e,...t){if($$(e))return e;for(const n of t)if($$(n))return n;return""}function $b(e,t){let n=null;const r=t.getTime();for(const i of e)if(i.at.getTime()<=r)n=i;else break;return n}function NTe(e){const t=n=>String(n).padStart(2,"0");return`${e.getFullYear()}-${t(e.getMonth()+1)}-${t(e.getDate())}T${t(e.getHours())}:${t(e.getMinutes())}`}function B$(e){if(!e)return null;const t=/^(\d{4})-(\d{2})-(\d{2})T(\d{2}):(\d{2})$/.exec(e);if(!t)return null;const[,n,r,i,a,o]=t,l=new Date(+n,+r-1,+i,+a,+o);return Number.isNaN(l.getTime())?null:l}function zv(e){const t=e;return typeof t.name=="string"&&t.name?t.name:typeof t.title=="string"&&t.title?t.title:typeof t.memo=="string"&&t.memo?t.memo:" "}function OTe(e){const t=Number(e.birthDay.slice(0,4)),n=Number(e.birthDay.slice(4,6)),r=Number(e.birthDay.slice(6,8));let i=0,a=0;const o=e;return typeof o.birthTime=="string"&&o.birthTime.length>=4&&(i=Number(o.birthTime.slice(0,2)),a=Number(o.birthTime.slice(2,4))),{y:t,m:n,d:r,hh:i,mm:a}}function sw(e){const{y:t,m:n,d:r,hh:i,mm:a}=OTe(e),o=e.corrected instanceof Date&&!Number.isNaN(e.corrected.getTime())?e.corrected:new Date(t,n-1,r,i,a),l=o.getHours(),u=o.getMinutes();return e.calendarType==="lunar"?ea(t,n,r,l,u):new Date(t,n-1,r,l,u)}function CTe(e){const t=sw(e);return`${zv(e)}-${t.toISOString()}`}function zd(e){const t=e;return typeof t.id=="string"&&t.id?t.id:CTe(e)}function MTe(e){return ATe(e)&&("Classic"in e||"Modern"in e||"classic"in e||"modern"in e)}function DTe(e){const t=i7;return MTe(t)?e==="classic"?t.Classic:t.Modern:e}function PTe(e){if(!e)return"";const t=e,n=l=>typeof t[l]=="string"?String(t[l]).trim().toLowerCase():null,r=l=>typeof t[l]=="boolean"?t[l]:null,i=[n("gender"),n("sex"),n("genderType"),n(""),n("sexType"),n("g")].filter(l=>!!l);for(const l of i){if(["","","male","m","boy","man"].includes(l))return"";if(["","","female","f","girl","woman"].includes(l))return""}const a=r("isMale"),o=r("isFemale");return a===!0?"":o===!0?"":""}const Ok="people_picker_order_v1";function RTe(e,t,n){const r=e.slice(),[i]=r.splice(t,1);return r.splice(n,0,i),r}function z$({open:e,list:t,onSelect:n,onClose:r}){const[i,a]=S.useState("");S.useEffect(()=>{e||a("")},[e]);const o=S.useMemo(()=>t.map(zd),[t]),l=S.useMemo(()=>new Set(o),[o]),[u,d]=S.useState([]);S.useEffect(()=>{const w=localStorage.getItem(Ok),_=w?JSON.parse(w):[],j=_.filter(T=>l.has(T)),O=[...j,...o.filter(T=>!j.includes(T))];d(O),JSON.stringify(O)!==JSON.stringify(_)&&localStorage.setItem(Ok,JSON.stringify(O))},[o,l]);const h=w=>{d(w),localStorage.setItem(Ok,JSON.stringify(w))},m=S.useMemo(()=>{const w=new Map(t.map(T=>[zd(T),T])),_=[];for(const T of u){const C=w.get(T);C&&_.push(C)}w.forEach((T,C)=>{u.includes(C)||_.push(T)});const j=[],O=[];for(const T of _)(typeof T.relationship=="string"?T.relationship.trim():"")===""?j.push(T):O.push(T);return[...j,...O]},[t,u]),b=S.useMemo(()=>{const w=i.trim().toLowerCase();return w?m.filter(_=>{const j=typeof _.relationship=="string"?_.relationship.trim():"";return`${zv(_)} ${j}`.toLowerCase().includes(w)}):m},[m,i]),y=i.trim()==="",k=w=>{const{destination:_,source:j}=w;if(!_||!y||_.index===j.index)return;const O=b.map(zd),T=RTe(O,j.index,_.index),M=m.map(zd).filter(I=>!O.includes(I)),P=[...T,...M].filter((I,z,K)=>K.indexOf(I)===z);h(P)};return g.jsxs(g.Fragment,{children:[g.jsx("style",{children:"[data-rbd-drag-handle-context-id]{touch-action:none!important}"}),g.jsx("div",{className:`fixed inset-0 bg-black/60 transition-opacity duration-200 z-[1000] ${e?"opacity-100 pointer-events-auto":"opacity-0 pointer-events-none"}`,onClick:r}),g.jsxs("div",{className:`fixed bottom-0 inset-x-0 mx-auto w-full max-w-[640px] max-h-[80dvh] bg-white dark:bg-neutral-950 rounded-t-2xl border border-neutral-200 dark:border-neutral-800 p-4 overflow-auto transition-transform duration-300 z-[1001] ${e?"translate-y-0":"translate-y-full"}`,children:[g.jsxs("div",{className:"flex items-center justify-between mb-3",children:[g.jsx("h3",{className:"text-sm font-semibold text-neutral-900 dark:text-neutral-200",children:" "}),g.jsx("button",{onClick:r,className:"text-neutral-500 hover:text-neutral-900 dark:text-neutral-400 dark:hover:text-white text-sm cursor-pointer",children:""})]}),g.jsxs("div",{className:"mb-3",children:[g.jsx("input",{value:i,onChange:w=>a(w.target.value),placeholder:" ",className:"w-full px-3 py-2 rounded border border-neutral-300 dark:border-neutral-700 bg-white dark:bg-neutral-900 text-sm"}),g.jsx("div",{className:"text-[11px] text-neutral-500 mt-1",children:"    ."})]}),g.jsx(Rp,{onDragEnd:k,children:g.jsx(Rf,{droppableId:"people-picker",children:w=>g.jsxs("ul",{className:"space-y-2",ref:w.innerRef,...w.droppableProps,children:[b.map((_,j)=>{const O=sw(_),T=typeof _.relationship=="string"?_.relationship.trim():"",C=T||" ",M=zv(_),P=T&&M===" "?T:M;return g.jsx(Pf,{draggableId:zd(_),index:j,isDragDisabled:!y,children:I=>g.jsx("li",{ref:I.innerRef,...I.draggableProps,...I.dragHandleProps,className:"flex items-center justify-between gap-2 px-3 py-2 rounded border border-neutral-200 dark:border-neutral-800 bg-white dark:bg-neutral-900",children:g.jsxs("button",{onClick:()=>n(_),className:"flex-1 text-left cursor-pointer",children:[g.jsxs("div",{className:"flex items-center gap-2 text-sm text-neutral-900 dark:text-neutral-100",children:[g.jsx("span",{children:P}),g.jsx("span",{className:`text-[10px] px-1.5 py-0.5 rounded border border-neutral-300 dark:border-neutral-700 ${T?"text-neutral-600 dark:text-neutral-300":"text-neutral-400 dark:text-neutral-500"}`,children:C})]}),g.jsx("div",{className:"text-neutral-500 dark:text-neutral-400 text-xs",children:Um(O)})]})})},zd(_))}),w.placeholder]})})})]})]})}function Ck({label:e,gzHour:t,gzDay:n,gzMonth:r,gzYear:i,dayStem:a,cardSettings:o,sinsalBaseBranch:l,sinsalMode:u,sinsalBloom:d}){const h=w=>{const _=o.showSibiUnseong?so(a,w):"",j=o.showSibiSinsal?lo({baseBranch:l,targetBranch:w,era:DTe(u),gaehwa:!!d}):"";return{unseongText:_||void 0,shinsalText:j||void 0}},m=gn(t).charAt(1),b=gn(n).charAt(1),y=gn(r).charAt(1),k=gn(i).charAt(1);return g.jsxs("div",{className:"rounded-lg border bg-white dark:bg-neutral-900 border-neutral-200 dark:border-neutral-800 py-2 desk:p-2",children:[g.jsx("div",{className:"px-2 py-1 text-xs text-neutral-600 dark:text-neutral-300",children:e}),g.jsx("div",{className:"grid grid-cols-4 gap-1 text-neutral-900 dark:text-white",children:[["",gn(t),m],["",gn(n),b],["",gn(r),y],["",gn(i),k]].map(([w,_,j])=>{const{unseongText:O,shinsalText:T}=h(j);return g.jsx(qd,{label:w,gz:_,dayStem:a,settings:nn.getState().settings,unseongText:O,shinsalText:T,hideBranchSipSin:!0,size:"sm"},`${e}-${w}`)})})]})}function Ud({label:e,data:t,mode:n,effectiveDate:r,onPick:i}){const a=nn(P=>P.settings),o=S.useMemo(()=>t?sw(t):null,[t]),l="/",u=gn(o?ao(o,l):void 0),d=gn(o?gt(o,l):void 0),h=gn(o?Ot(o):void 0),m=gn(o?ut(o):void 0),b=S.useMemo(()=>d.charAt(0)||"",[d]),y=o,k=S.useMemo(()=>{const P=t?.birthPlace;return!P||P.name===""||!P.lon?127.5:P.lon},[t]),w=t?.mingSikType??l,_=S.useMemo(()=>{const P=y?gt(y,w).charAt(1):d.charAt(1)||"",I=y?ut(y,k).charAt(1):m.charAt(1)||"";return(a.sinsalBase??"")===""?P:I},[a.sinsalBase,y,w,k,d,m]),j=S.useMemo(()=>{if(n!==""||!o||!t)return null;try{const P=l7(o,u,t.dir,120),I=u7(P,d,t.dir,t.DayChangeRule),z=Bp(o,h,t.dir,120,t?.birthPlace?.lon??127.5),K=d7(z,m,t.dir,t.DayChangeRule,o),G=r;return{si:gn($b(P.events,G)?.gz,u),il:gn($b(I.events,G)?.gz,d),wl:gn($b(z.events,G)?.gz,h),yn:gn($b(K.events,G)?.gz,m)}}catch{return null}},[n,o,u,d,h,m,r,t]),O=S.useMemo(()=>{if(n!=="")return null;const P=r;return{si:gn(ao(P,l)),il:gn(gt(P,l)),wl:gn(Ot(P)),yn:gn(ut(P))}},[n,r]),T=t?zv(t):"",C=o?Um(o):"",M=t?PTe(t):"";return t?g.jsxs("div",{className:"space-y-2",children:[g.jsx("button",{onClick:i,className:"px-3 py-1 rounded text-xs bg-neutral-900 dark:bg-white text-white dark:text-neutral-900 border border-neutral-900 dark:border-white hover:opacity-90 cursor-pointer",title:"  ",children:" "}),g.jsxs("div",{className:"text-[11px] text-neutral-600 dark:text-neutral-300",children:[g.jsx("span",{className:"font-semibold text-neutral-900 dark:text-neutral-200",children:e}),g.jsx("span",{className:"ml-2 text-neutral-900 dark:text-neutral-50",children:T}),M&&g.jsxs("span",{className:"ml-1 text-neutral-500 dark:text-neutral-400",children:[" ",M]}),C&&g.jsx("span",{className:"block mt-1 text-neutral-500 dark:text-neutral-400 text-[10px]",children:C})]}),n===""&&g.jsx(Ck,{label:"",gzHour:u,gzDay:d,gzMonth:h,gzYear:m,dayStem:b,cardSettings:a,sinsalBaseBranch:_,sinsalMode:a.sinsalMode,sinsalBloom:!!a.sinsalBloom}),n===""&&j&&g.jsx(Ck,{label:"",gzHour:j.si,gzDay:j.il,gzMonth:j.wl,gzYear:j.yn,dayStem:b,cardSettings:a,sinsalBaseBranch:_,sinsalMode:a.sinsalMode,sinsalBloom:!!a.sinsalBloom}),n===""&&O&&g.jsx(Ck,{label:"",gzHour:O.si,gzDay:O.il,gzMonth:O.wl,gzYear:O.yn,dayStem:b,cardSettings:a,sinsalBaseBranch:_,sinsalMode:a.sinsalMode,sinsalBloom:!!a.sinsalBloom})]}):g.jsx("div",{className:"flex items-center justify-center h-48 rounded-lg border border-dashed bg-white dark:bg-neutral-900 border-neutral-300 dark:border-neutral-700",children:g.jsx("button",{onClick:i,className:"px-3 py-2 rounded bg-neutral-900 dark:bg-white text-white dark:text-neutral-900 text-sm hover:opacity-90 cursor-pointer",children:" "})})}function LTe({people:e=[]}){const[t,n]=S.useState(),[r,i]=S.useState(),[a,o]=S.useState(!1),[l,u]=S.useState(!1),d=S.useRef(new Date),[h,m]=S.useState(()=>NTe(d.current)),b=S.useRef(B$(h)??d.current),y=S.useMemo(()=>{const C=B$(h);return C&&(b.current=C),b.current},[h]),[k,w]=S.useState(!1),[_,j]=S.useState(!1);function O(C){if(!C)return["","","",""];try{const M=sw(C),P="/",I={hour:gn(ao(M,P)),day:gn(gt(M,P)),month:gn(Ot(M)),year:gn(ut(M))};return[I.year,I.month,I.day,I.hour]}catch{return["","","",""]}}const T=vn(C=>C.canUseMyoViewerNow());return g.jsxs(g.Fragment,{children:[g.jsxs("div",{className:"w-[96%] max-w-[640px] mx-auto bg-white dark:bg-neutral-950 text-neutral-900 dark:text-neutral-100 rounded-xl shadow border border-neutral-200 dark:border-neutral-800 px-2 py-4 desk:p-4",children:[g.jsxs("header",{className:"flex gap-3 justify-between items-center mb-4",children:[g.jsx("div",{className:"font-semibold text-sm text-neutral-900 dark:text-neutral-200",children:" "}),g.jsxs("div",{className:"flex items-center gap-4 text-xs text-neutral-600 dark:text-neutral-400",children:[T?g.jsxs("label",{className:"flex items-center gap-1 cursor-pointer",children:[g.jsx("input",{type:"checkbox",checked:a,onChange:C=>o(C.target.checked),className:"accent-indigo-500"})," "]}):null,g.jsx("button",{onClick:()=>u(C=>!C),className:"px-2 py-1 rounded border border-neutral-300 dark:border-neutral-700 hover:border-indigo-500 text-neutral-700 dark:text-neutral-300 bg-white dark:bg-neutral-900 cursor-pointer",children:l?" ":" "})]})]}),g.jsxs("div",{className:"grid grid-cols-2 gap-2 desk:gap-4",children:[g.jsx(Ud,{label:" A",data:t,mode:"",effectiveDate:y,onPick:()=>w(!0)}),g.jsx(Ud,{label:" B",data:r,mode:"",effectiveDate:y,onPick:()=>j(!0)}),a&&t&&g.jsx(Ud,{label:" A",data:t,mode:"",effectiveDate:y,onPick:()=>w(!0)}),a&&r&&g.jsx(Ud,{label:" B",data:r,mode:"",effectiveDate:y,onPick:()=>j(!0)}),l&&t&&g.jsx(Ud,{label:" A",data:t,mode:"",effectiveDate:y,onPick:()=>w(!0)}),l&&r&&g.jsx(Ud,{label:" B",data:r,mode:"",effectiveDate:y,onPick:()=>j(!0)})]}),t&&r&&g.jsx("div",{className:"mt-4",children:g.jsx(wTe,{pillarsA:O(t),pillarsB:O(r)})}),g.jsxs("div",{className:"mt-4 max-w-[260px] mx-auto text-center",children:[g.jsx("label",{className:"min-w-0 block text-xs text-neutral-600 dark:text-neutral-400 mb-2",children:" /"}),g.jsx("input",{type:"datetime-local",value:h,onChange:C=>m(C.target.value),className:"min-w-0 bg-white dark:bg-neutral-900 border border-neutral-300 dark:border-neutral-700 rounded px-3 py-1 text-xs w-[260px] max-w-[260px] box-border overflow-x-hidden text-neutral-900 dark:text-neutral-100 h-30",min:"1900-01-01T00:00",max:"2100-12-31T23:59"})]})]}),g.jsx(z$,{open:k,list:e||[],onSelect:C=>{n(C),w(!1)},onClose:()=>w(!1)}),g.jsx(z$,{open:_,list:e||[],onSelect:C=>{i(C),j(!1)},onClose:()=>j(!1)})]})}function ITe(){const[e,t]=S.useState(!1),[n,r]=S.useState(!1),i=async()=>{try{const{data:{user:a}}=await Le.auth.getUser();if(!a){alert("  .");return}const o=a.id,l=new Date().toISOString();await Le.from("profiles").update({disabled_at:l}).eq("id",o),await Le.from("myeongsik").update({deleted_at:l}).eq("user_id",o),await Le.auth.signOut(),alert(" .   ."),window.location.href="/"}catch(a){console.error(a),alert("    .")}};return g.jsxs(g.Fragment,{children:[g.jsxs("footer",{className:"py-8 pb-[calc(64px+env(safe-area-inset-bottom,0px)+var(--bottom-dock,0px))] px-4 border-t border-neutral-200 dark:border-neutral-700",children:[g.jsx("div",{className:"text-center text-[12px] text-orange-600 dark:text-orange-300",children:"Copyright  2025 Hwarim96. All rights reserved."}),g.jsxs("div",{className:"flex justify-center items-center gap-4 mt-3",children:[g.jsx("button",{onClick:()=>t(!0),className:"text-[12px] text-neutral-500 dark:text-neutral-300 underline cursor-pointer hover:text-orange-500 transition",children:" "}),g.jsx("button",{onClick:()=>r(!0),className:"text-[12px] text-red-500 underline hover:text-red-400 transition cursor-pointer",children:""})]})]}),e&&g.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50",onClick:()=>t(!1),children:g.jsxs("div",{className:"w-full max-w-lg bg-white dark:bg-neutral-900 text-neutral-900 dark:text-neutral-200 p-6 rounded-xl shadow-xl relative animate-fadeInUp",onClick:a=>a.stopPropagation(),children:[g.jsx("h2",{className:"text-lg font-bold mb-4",children:" "}),g.jsxs("div",{className:"text-sm leading-relaxed max-h-[60vh] overflow-y-auto pr-2",children:[g.jsx("p",{className:"mb-2",children:"     ,    ."}),g.jsx("p",{className:"font-semibold mt-4 mb-1",children:"1.  "}),g.jsxs("p",{className:"mb-1",children:["    (, )",g.jsx("br",{}),"       ( ,  ,  )"]}),g.jsxs("p",{className:"mb-2",children:["    (, )",g.jsx("br",{}),"       ( ,  ,  )"]}),g.jsx("p",{className:"font-semibold mt-4 mb-1",children:"2.  "}),g.jsxs("p",{className:"mb-2",children:["     ",g.jsx("br",{}),"    /  ",g.jsx("br",{}),"      "]}),g.jsx("p",{className:"font-semibold mt-4 mb-1",children:"3.  "}),g.jsxs("p",{className:"mb-2",children:["     ",g.jsx("br",{}),"         "]}),g.jsx("p",{className:"font-semibold mt-4 mb-1",children:"4. 3 "}),g.jsx("p",{className:"mb-1",children:"       ."}),g.jsx("p",{className:"mb-2",children:"   3  ."}),g.jsx("p",{className:"font-semibold mt-4 mb-1",children:"5. "}),g.jsx("p",{className:"mb-2",children:" Supabase /DB    ."}),g.jsx("p",{className:"font-semibold mt-4 mb-1",children:"6. "}),g.jsx("p",{children:"   : unique950318@gmail.com"})]}),g.jsx("button",{onClick:()=>t(!1),className:"cursor-pointer mt-4 w-full py-2 bg-neutral-900 dark:bg-neutral-700 text-white rounded-lg hover:bg-neutral-800 transition",children:""})]})}),n&&g.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50",onClick:()=>r(!1),children:g.jsxs("div",{className:"w-full max-w-sm bg-white dark:bg-neutral-900 text-neutral-900 dark:text-neutral-200 p-6 rounded-xl shadow-xl relative animate-fadeInUp",onClick:a=>a.stopPropagation(),children:[g.jsx("h2",{className:"text-lg font-bold mb-4 text-red-500",children:" ?"}),g.jsxs("p",{className:"text-sm leading-relaxed mb-6",children:["        .",g.jsx("br",{}),"    ."]}),g.jsxs("div",{className:"flex gap-3",children:[g.jsx("button",{onClick:()=>r(!1),className:"cursor-pointer flex-1 py-2 bg-neutral-300 dark:bg-neutral-700 text-black dark:text-white rounded-lg hover:bg-neutral-400 transition",children:""}),g.jsx("button",{onClick:i,className:"cursor-pointer flex-1 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition",children:""})]})]})})]})}function $Te(e){const t=e.getFullYear(),n=String(e.getMonth()+1).padStart(2,"0"),r=String(e.getDate()).padStart(2,"0");return`${t}-${n}-${r}`}function Mk(e){if(!/^\d{4}-\d{2}-\d{2}$/.test(e))return null;const[t,n,r]=e.split("-"),i=Number(t),a=Number(n),o=Number(r);if(!Number.isFinite(i)||!Number.isFinite(a)||!Number.isFinite(o)||a<1||a>12)return null;const l=new Date(i,a,0).getDate();return o<1||o>l?null:{y:i,m:a,d:o}}function U$(e,t,n){return e<t?t:e>n?n:e}function kH({date:e,onChange:t,min:n="1900-01-01",max:r="2100-12-31",className:i="px-2 py-1 text-xs border rounded bg-white dark:bg-neutral-700"}){const a=S.useMemo(()=>e instanceof Date&&!Number.isNaN(e.getTime())?e:new Date,[e]),o=S.useMemo(()=>$Te(a),[a]),[l,u]=S.useState(o);S.useEffect(()=>{u(o)},[o]);const d=h=>{if(!Mk(h))return;const b=U$(h,n,r),{y,m:k,d:w}=Mk(b),_=a.getHours(),j=a.getMinutes(),O=a.getSeconds(),T=a.getMilliseconds(),C=new Date(y,k-1,w,_,j,O,T);Number.isNaN(C.getTime())||t(C)};return g.jsx("input",{type:"date",value:l,min:n,max:r,onChange:h=>{const m=h.target.value;u(m),m&&d(m)},onBlur:()=>{if(!l||!Mk(l)){u(o);return}const h=U$(l,n,r);h!==l&&(u(h),d(h))},className:i,"aria-label":" "})}function BTe({ms:e}){const{date:t,setDate:n}=ni(),r=Ks(),i=S.useMemo(()=>{const d=typeof e.id=="string"?e.id:"";if(d)return d;const h=typeof e.birthDay=="string"||typeof e.birthDay=="number"?String(e.birthDay):"",m=typeof e.birthTime=="string"?e.birthTime:"";return[typeof e.ganji=="string"?e.ganji:"",h,m].filter(Boolean).join("|")},[e]);S.useEffect(()=>{n(new Date)},[i]);const a=yx(e,void 0,void 0,{dstOffsetMinutes:r}),o=t instanceof Date&&!Number.isNaN(t.getTime())?t:new Date,l=S.useMemo(()=>{const d=typeof e.ganji=="string"?e.ganji:"",h=a?.dae?.gz?`${a.dae.gz}`:null,m=a?.se?.gz?`${a.se.gz}`:null,b=a?.wol?.gz?`${a.wol.gz}`:null,y=[h,m,b].filter(Boolean).join(" ");return[d,y].filter(Boolean).join(" + ")},[e.ganji,a]),u=d=>{n(d)};return g.jsxs("div",{className:"w-[calc(100%_-_16px)] max-w-[625px] desk:max-w-[640px] mx-auto mb-4 px-2 rounded-xl border border-neutral-200 dark:border-neutral-800 bg-white dark:bg-neutral-950 p-3 space-y-3",children:[l&&g.jsx("div",{className:"text-center text-sm font-medium text-neutral-800 dark:text-neutral-200",children:l}),g.jsx("div",{className:"grid grid-cols-1 gap-3",children:g.jsxs("label",{className:"w-full flex justify-center items-center",children:[g.jsx("span",{className:"text-sm text-neutral-500 mr-4",children:""}),g.jsx(kH,{date:o,onChange:u,min:"1900-01-01",max:"2100-12-31"})]})})]})}function zTe({useWoldu:e,useSiju:t,hourRule:n,gender:r,onToggleWoldu:i,onToggleSiju:a,onChangeHourRule:o,onChangeGender:l}){return g.jsxs("div",{className:"flex flex-wrap items-center gap-6 mb-4",children:[g.jsxs("div",{children:[g.jsx("p",{className:"font-medium mb-2",children:"/"}),g.jsxs("span",{className:"mr-3 chkContainer",children:[g.jsx("input",{type:"checkbox",id:"useWoldu",checked:e,onChange:u=>i(u.target.checked)}),g.jsx("label",{htmlFor:"useWoldu",className:"ml-1",children:" "})]}),g.jsxs("span",{className:"chkContainer",children:[g.jsx("input",{type:"checkbox",id:"useSidu",checked:t,onChange:u=>a(u.target.checked)}),g.jsx("label",{htmlFor:"useSidu",className:"ml-1",children:" "})]})]}),g.jsxs("div",{children:[g.jsx("p",{className:"font-medium mb-2",children:" "}),g.jsxs("span",{className:"mr-3 chkContainer",children:[g.jsx("input",{type:"radio",id:"jasi",checked:n==="",onChange:()=>o("")}),g.jsx("label",{htmlFor:"jasi",className:"ml-1",children:""})]}),g.jsxs("span",{className:"chkContainer",children:[g.jsx("input",{type:"radio",id:"insi",checked:n==="",onChange:()=>o("")}),g.jsx("label",{htmlFor:"insi",className:"ml-1",children:""})]})]}),g.jsxs("div",{children:[g.jsx("p",{className:"font-medium mb-2",children:""}),g.jsxs("span",{className:"mr-3 chkContainer",children:[g.jsx("input",{type:"radio",id:"male",checked:r==="male",onChange:()=>l("male")}),g.jsx("label",{htmlFor:"male",className:"ml-1",children:""})]}),g.jsxs("span",{className:"chkContainer",children:[g.jsx("input",{type:"radio",id:"female",checked:r==="female",onChange:()=>l("female")}),g.jsx("label",{htmlFor:"female",className:"ml-1",children:""})]})]})]})}function UTe({pillars:e,active:t,canEnterOthers:n,onActivate:r}){return g.jsx("div",{className:"grid grid-cols-4 gap-2 mb-4",children:[["hourStem",""],["dayStem",""],["monthStem",""],["yearStem",""],["hourBranch",""],["dayBranch",""],["monthBranch",""],["yearBranch",""]].map(([i,a])=>{const o=!n&&!(i==="yearStem"||i==="yearBranch"||i==="dayStem"||i==="dayBranch"),l=t===i;return g.jsxs("button",{onClick:()=>!o&&r(i),disabled:o,className:["border rounded p-2 text-center cursor-pointer",l?"border-purple-500 bg-purple-100 dark:bg-purple-900/30":"border-neutral-300 dark:border-neutral-700",o?"opacity-50 cursor-not-allowed":""].join(" "),children:[a,g.jsx("br",{}),g.jsx("span",{className:"font-bold",children:e[i]??"-"})]},i)})})}function FTe({results:e,selectedRow:t,onSelectRow:n,gender:r}){return e?e.length===0?g.jsx("div",{className:"p-4 text-neutral-500",children:"  ."}):g.jsxs("table",{className:"w-full text-xs",children:[g.jsx("thead",{className:"sticky top-0 bg-neutral-50 dark:bg-neutral-800",children:g.jsxs("tr",{children:[g.jsx("th",{className:"p-1 text-center",children:""}),g.jsx("th",{className:"p-1 text-center",children:""}),g.jsx("th",{className:"p-1 text-center",children:""}),g.jsx("th",{className:"p-1 text-center",children:""}),g.jsx("th",{className:"p-1 text-center",children:""}),g.jsx("th",{className:"p-1 text-center",children:""}),g.jsx("th",{className:"p-1 text-center",children:""})]})}),g.jsx("tbody",{children:e.map((i,a)=>g.jsxs("tr",{className:"border-t border-neutral-200 dark:border-neutral-800",children:[g.jsx("td",{className:"p-1 text-center",children:g.jsxs("span",{className:"chkContainer",children:[g.jsx("input",{type:"radio",name:"selectRow",id:`selectRow-${a}`,checked:t===a,onChange:()=>n(a)}),g.jsx("label",{htmlFor:`selectRow-${a}`,children:"ON"})]})}),g.jsx("td",{className:"p-1 text-center",children:i.date}),g.jsx("td",{className:"p-1 text-center",children:i.year}),g.jsx("td",{className:"p-1 text-center",children:i.month}),g.jsx("td",{className:"p-1 text-center",children:i.day}),g.jsx("td",{className:"p-1 text-center",children:g.jsx("div",{className:"flex flex-wrap gap-1",children:i.hourSlots.map((o,l)=>g.jsx("span",{className:"inline-flex items-center mx-auto gap-1 px-1 py-0.5 rounded bg-neutral-100 dark:bg-neutral-800 border border-neutral-200 dark:border-neutral-700",children:g.jsx("b",{children:o.branch})},l))})}),g.jsx("td",{className:"p-1 text-center",children:r==="male"?"":""})]},`${i.date}-${a}`))})]}):g.jsx("div",{className:"p-2 text-neutral-500 text-sm text-center",children:"    ."})}function HTe({toast:e,showToast4:t,searchToast:n,error:r}){return g.jsxs(g.Fragment,{children:[e&&g.jsx("div",{className:"pointer-events-none fixed left-1/2 -translate-x-1/2 top-6 z-[1100] border border-white/30",children:g.jsx("div",{className:"px-4 py-2 rounded-md bg-black/80 text-white text-sm shadow-lg",children:e})}),t&&g.jsx("div",{className:"fixed inset-0 flex items-center justify-center z-[2000]",children:g.jsx("div",{className:"bg-black text-white px-4 py-2 rounded-lg shadow-lg",children:" 4  ."})}),n&&g.jsx("div",{className:"fixed inset-0 flex items-center justify-center z-[2000]",children:g.jsxs("div",{className:"bg-black text-white px-4 py-2 rounded-lg shadow-lg text-center",children:["  .",g.jsx("br",{}),"   ."]})}),r&&g.jsx("div",{className:"mt-3 text-xs text-red-600 text-center",children:r})]})}function GTe({choices:e,onChoose:t}){return!e||e.length===0?null:g.jsxs("div",{className:"mb-3",children:[g.jsx("p",{className:"text-sm mb-1",children:"  ."}),g.jsx("div",{className:"flex gap-2",children:e.map(n=>g.jsx("button",{onClick:()=>t(n),className:"flex-1 px-2 py-1 border rounded hover:bg-orange-100 dark:hover:bg-orange-800 cursor-pointer",children:n},n))})]})}const nN=["","","","","","","","","",""],u0=["","","","","","","","","","","",""],YTe={:0,:1,:2,:3,:4,:5,:6,:7,:8,:9},EH=["","","","","","","","","","","",""],qTe=u0,KTe=EH,WTe=["23:00~0:59","01:00~2:59","03:00~4:59","05:00~6:59","07:00~8:59","09:00~10:59","11:00~12:59","13:00~14:59","15:00~16:59","17:00~18:59","19:00~20:59","21:00~22:59"],VTe={:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},ZTe={:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""};function jp(e,t){let n;e===""||e===""?n="":e===""||e===""?n="":e===""||e===""?n="":e===""||e===""?n="":n="";const r=YTe[n],i=EH.indexOf(t),a=(r+(i>=0?i:0))%10;return nN[a]}function lw(e,t){const n=t===""?qTe:KTe,r=e===""||e===""?0:e===""||e===""?2:e===""||e===""?4:e===""||e===""?6:8,i=u0.reduce((a,o)=>(a[o]="",a),{});for(let a=0;a<12;a++){const o=nN[(r+a)%10],l=n[a];i[l]=`${o}${l}`}return i}const XTe={:{hh:0,mi:0},:{hh:2,mi:0},:{hh:4,mi:0},:{hh:6,mi:0},:{hh:8,mi:0},:{hh:10,mi:0},:{hh:12,mi:0},:{hh:14,mi:0},:{hh:16,mi:0},:{hh:18,mi:0},:{hh:20,mi:0},:{hh:22,mi:0}};function JTe(e){return e==="yearStem"?"yearBranch":e==="yearBranch"?"yearStem":e==="monthStem"?"monthBranch":e==="monthBranch"?"monthStem":e==="dayStem"?"dayBranch":e==="dayBranch"?"dayStem":e==="hourStem"?"hourBranch":"hourStem"}function QTe({active:e,pillars:t,activeIsStem:n,activeIsBranch:r,onSelect:i,settingsObj:a}){return e?g.jsxs("div",{className:"w-full",children:[n&&g.jsxs("div",{children:[g.jsx("p",{className:"font-medium mb-2",children:""}),g.jsx("div",{className:"grid grid-cols-5 gap-2",children:nN.map(o=>g.jsx("button",{onClick:()=>i(o),className:`border rounded px-2 py-1 cursor-pointer ${Ji(o,"stem",a)}`,children:o},o))})]}),r&&g.jsxs("div",{children:[g.jsx("p",{className:"font-medium mb-2",children:""}),g.jsx("div",{className:"grid grid-cols-6 gap-2",children:u0.filter(o=>{const l=JTe(e),u=t[l];return u?ZTe[o]===VTe[u]:!0}).map(o=>g.jsx("button",{onClick:()=>i(o),className:`border rounded px-2 py-1 cursor-pointer ${Ji(o,"branch",a)}`,children:o},o))})]})]}):g.jsx("div",{className:"text-sm text-neutral-500 p-2 border rounded w-full text-center",children:"   ."})}function eAe(){const[e,t]=S.useState({}),[n,r]=S.useState(null),[i,a]=S.useState(null),[o,l]=S.useState(!0),[u,d]=S.useState(!0),[h,m]=S.useState(""),[b,y]=S.useState("male"),[k,w]=S.useState(null),[_,j]=S.useState(!1),[O,T]=S.useState(null),[C,M]=S.useState({gender:"",mingSikType:"/",DayChangeRule:"",calendarType:"solar"}),[P,I]=S.useState(!1),[z,K]=S.useState(null),[G,F]=S.useState(null),[B,q]=S.useState(!1),[X,Z]=S.useState(!1),Y=V=>{F(V),setTimeout(()=>F(null),1800)};return S.useEffect(()=>{if(!B)return;const V=setTimeout(()=>q(!1),2e3);return()=>clearTimeout(V)},[B]),S.useEffect(()=>{if(!X)return;const V=setTimeout(()=>Z(!1),2e3);return()=>clearTimeout(V)},[X]),{pillars:e,setPillars:t,active:n,setActive:r,monthBranchChoices:i,setMonthBranchChoices:a,useWoldu:o,setUseWoldu:l,useSiju:u,setUseSiju:d,hourRule:h,setHourRule:m,gender:b,setGender:y,results:k,setResults:w,searching:_,setSearching:j,selectedRow:O,setSelectedRow:T,form:C,setForm:M,unknownPlace:P,setUnknownPlace:I,error:z,setError:K,toast:G,showToast4:B,setShowToast:q,searchToast:X,setSearchToast:Z,showToast:Y}}function jH(e){return!!(e.yearStem&&e.yearBranch&&e.monthStem&&e.monthBranch&&e.dayStem&&e.dayBranch&&e.hourStem&&e.hourBranch)}function F$(e,t){return u0.filter(n=>jp(e,n)===t)}function H$(e,t,n){if(!n||!e.yearStem)return{next:e,monthBranchChoices:null};const r={...e};if(!r.yearStem)return{next:r,monthBranchChoices:null};if(t==="monthStem"&&r.monthStem){const i=F$(r.yearStem,r.monthStem);return i.length>=2?{next:r,monthBranchChoices:i.slice(0,2)}:(i.length===1&&(r.monthBranch=i[0]),{next:r,monthBranchChoices:null})}if(t==="monthBranch"&&r.monthBranch)return r.monthStem=jp(r.yearStem,r.monthBranch),{next:r,monthBranchChoices:null};if(t==="yearStem")if(r.monthStem&&!r.monthBranch){const i=F$(r.yearStem,r.monthStem);if(i.length>=2)return{next:r,monthBranchChoices:i.slice(0,2)};i.length===1&&(r.monthBranch=i[0])}else r.monthBranch&&!r.monthStem&&(r.monthStem=jp(r.yearStem,r.monthBranch));return{next:r,monthBranchChoices:null}}function tAe(e,t,n,r){if(!n||!e.dayStem)return e;const i={...e};if(!i.dayStem)return i;const a=lw(i.dayStem,r),o=u=>Object.entries(a).find(([,d])=>d.startsWith(u)),l=u=>a[u];if(t==="hourStem"&&i.hourStem){const u=o(i.hourStem);return u&&(i.hourBranch=u[0]),i}if(t==="hourBranch"&&i.hourBranch){const u=l(i.hourBranch);return u&&(i.hourStem=u.slice(0,1)),i}if(t==="dayStem"){if(i.hourStem&&!i.hourBranch){const u=o(i.hourStem);u&&(i.hourBranch=u[0])}else if(i.hourBranch&&!i.hourStem){const u=l(i.hourBranch);u&&(i.hourStem=u.slice(0,1))}}return i}function nAe(e,t){return!t||!e.yearStem?!1:e.monthBranch&&e.monthStem?jp(e.yearStem,e.monthBranch)!==e.monthStem:!1}function rAe(e,t,n){if(!t||!e.dayStem)return!1;if(e.hourBranch&&e.hourStem){const i=lw(e.dayStem,n)[e.hourBranch];return i?i.slice(0,1)!==e.hourStem:!1}return!1}function Dk(e,t,n){const i=lw(e,t)[n];return i?i.slice(0,1):null}function iAe({pillars:e,setPillars:t,active:n,setActive:r,monthBranchChoices:i,setMonthBranchChoices:a,useWoldu:o,setUseWoldu:l,useSiju:u,setUseSiju:d,hourRule:h,setHourRule:m,setResults:b,setError:y,showToast:k}){const w=o||u,_=!!(e.yearStem&&e.yearBranch),j=!!(e.dayStem&&e.dayBranch),O=!w||_||j,T=!!n&&n.endsWith("Stem"),C=!!n&&n.endsWith("Branch"),M=S.useMemo(()=>jH(e),[e]);return S.useEffect(()=>{if(!(!u||!e.dayStem||!e.hourBranch)&&(e.hourBranch===""||e.hourBranch==="")){const B=Dk(e.dayStem,h,e.hourBranch);B&&t(q=>({...q,hourStem:B}))}},[h,u,e.dayStem,e.hourBranch,t]),{needStartFromYearOrDay:w,canEnterOthers:O,activeIsStem:T,activeIsBranch:C,filledAll:M,monthBranchChoices:i,handleSelect:B=>{if(!n)return;if(!O&&!(n==="yearStem"||n==="yearBranch"||n==="dayStem"||n==="dayBranch")){y("/      ."),setTimeout(()=>y(null),1500);return}let X={...e,[n]:B};if(n==="yearStem"||n==="monthStem"||n==="monthBranch"){const V=H$(X,n,o);X=V.next,a(V.monthBranchChoices)}(n==="dayStem"||n==="hourStem"||n==="hourBranch")&&(X=tAe(X,n,u,h));let Z=!1;nAe(X,o)&&(l(!1),Z=!0),rAe(X,u,h)&&(d(!1),Z=!0),Z&&k("/  .  ."),t(X),b(null),r(n==="yearStem"?"yearBranch":n==="yearBranch"?"yearStem":n==="monthStem"?"monthBranch":n==="monthBranch"?"monthStem":n==="dayStem"?"dayBranch":n==="dayBranch"?"dayStem":n==="hourStem"?"hourBranch":"hourStem"),setTimeout(()=>{const V={...X};if(V.yearStem&&V.yearBranch&&!V.monthStem){r("monthStem");return}if(V.monthStem&&V.monthBranch&&!V.dayStem){r("dayStem");return}if(V.dayStem&&V.dayBranch&&!V.hourStem){r("hourStem");return}},0)},handleMonthBranchChoice:B=>{let q={...e,monthBranch:B};a(null),q=H$(q,"monthBranch",o).next,t(q),r("dayStem")},clearAll:()=>{t({}),b(null),y(null),r(null),a(null)},onToggleWoldu:B=>{b(null),B&&t(q=>{const X={...q};return X.yearStem&&X.monthBranch&&(X.monthStem=jp(X.yearStem,X.monthBranch)),X}),l(B)},onToggleSiju:B=>{b(null),B&&t(q=>{const X={...q};if(X.dayStem&&X.hourBranch){const Z=Dk(X.dayStem,h,X.hourBranch);Z&&(X.hourStem=Z)}return X}),d(B)},onChangeHourRule:B=>{if(b(null),m(B),u&&e.dayStem&&e.hourBranch&&(e.hourBranch===""||e.hourBranch==="")){const q=Dk(e.dayStem,B,e.hourBranch);q&&t(X=>({...X,hourStem:q}))}}}}function aAe(e){const{selectedRow:t,results:n,gender:r,hourRule:i,form:a,unknownPlace:o}=e,l=t!==null?n?.filter((G,F)=>F===t)??[]:[];if(l.length===0)return{error:"  ."};const u=l[0],d=i===""?"/":"",[h,m,b]=u.date.split("-").map(Number);let y=0,k=0;if(u.hourSlots.length>0){const G=u.hourSlots[0].branch,F=XTe[G];F&&(y=F.hh,k=F.mi)}const w=new Date(h,m-1,b,y,k),_=w,j="",O=r==="male"?"":"",T=oAe(u.year.charAt(0),O),C=ut(_,127.5),M=Ot(_,127.5),P=gt(_,d),I=ao(_,d),z=[`: ${C} ${M} ${P}`,I?`${I}`:null].filter(Boolean).join(" ");return{payload:{id:e7(),name:"",birthDay:`${h}${String(m).padStart(2,"0")}${String(b).padStart(2,"0")}`,birthTime:`${String(y).padStart(2,"0")}${String(k).padStart(2,"0")}`,gender:O,birthPlace:o?{name:"",lat:0,lon:127.5}:a.birthPlace??{name:"",lat:0,lon:127.5},relationship:a.relationship??"",memo:a.memo??"",folder:Su(a.folder),mingSikType:a.mingSikType??"/",DayChangeRule:a.mingSikType===""?"":"",calendarType:a.calendarType??"solar",ganjiText:`: ${u.year} ${u.month} ${u.day} ${u.hour}`,ganji:z,dayStem:u.day.charAt(0),dateObj:w,corrected:_,correctedLocal:j,dir:T,favorite:!1}}}function oAe(e,t){const r=["","","","","","","","","",""].includes(e),i=t==="";return r?i?"forward":"backward":i?"backward":"forward"}function sAe(e){jn.getState().add(e)}function lAe(e,t,n,r=300){if(!e.yearStem||!e.yearBranch)return[];if(!e.monthStem||!e.monthBranch)return[];if(!e.dayStem||!e.dayBranch)return[];if(!e.hourStem||!e.hourBranch)return[];const i=`${e.yearStem}${e.yearBranch}`,a=`${e.monthStem}${e.monthBranch}`,o=`${e.dayStem}${e.dayBranch}`,l=`${e.hourStem}${e.hourBranch}`,u=[],d=new Date(1900,0,1,12,0,0),h=new Date(2100,11,31,12,0,0);for(let m=d.getTime();m<=h.getTime();m+=24*3600*1e3){const b=new Date(m),y=ut(b);if(y!==i)continue;const k=Ot(b);if(k!==a)continue;const w=gt(b,n);if(w!==o)continue;const _=lw(e.dayStem,t),j=[];for(let O=0;O<12;O++){const T=u0[O];_[T]===l&&j.push({branch:T,time:WTe[O]})}if(j.length!==0&&(u.push({date:`${b.getFullYear()}-${String(b.getMonth()+1).padStart(2,"0")}-${String(b.getDate()).padStart(2,"0")}`,year:y,month:k,day:w,hour:l,hourSlots:j}),u.length>=r))break}return u}function cAe({pillars:e,hourRule:t,results:n,selectedRow:r,gender:i,form:a,unknownPlace:o,setResults:l,setSearching:u,setError:d,setSearchToast:h,setForm:m,setUnknownPlace:b,showToast:y,onSave:k,onClose:w}){return{doSearch:()=>{if(l(null),d(null),!jH(e)){d(" 4  .");return}u(!0);try{const T=lAe(e,t,t===""?"/":"");T.length===0&&d("  . (: 1900~2100)"),l(T)}catch(O){O instanceof Error?d(O.message):d(String(O))}finally{u(!1)}},handleSave:()=>{const O=aAe({selectedRow:r,results:n,gender:i,hourRule:t,form:a,unknownPlace:o});if("error"in O){h(!0);return}Iu.flushSync(()=>{sAe(O.payload)}),k(O.payload),y(" !"),m({gender:"",mingSikType:"/",DayChangeRule:"",calendarType:"solar"}),b(!1),w()}}}function uAe({open:e,onClose:t,onSave:n}){const{settings:r}=nn(),i=eAe(),a=iAe({pillars:i.pillars,setPillars:i.setPillars,active:i.active,setActive:i.setActive,monthBranchChoices:i.monthBranchChoices,setMonthBranchChoices:i.setMonthBranchChoices,useWoldu:i.useWoldu,setUseWoldu:i.setUseWoldu,useSiju:i.useSiju,setUseSiju:i.setUseSiju,hourRule:i.hourRule,setHourRule:i.setHourRule,setResults:i.setResults,setError:i.setError,showToast:i.showToast}),o=cAe({pillars:i.pillars,hourRule:i.hourRule,results:i.results,selectedRow:i.selectedRow,gender:i.gender,form:i.form,unknownPlace:i.unknownPlace,setResults:i.setResults,setSearching:i.setSearching,setError:i.setError,setSearchToast:i.setSearchToast,setForm:i.setForm,setUnknownPlace:i.setUnknownPlace,showToast:i.showToast,onSave:n,onClose:t});return e?g.jsx("div",{className:"fixed min-w-[320px] inset-0 z-[1000] flex items-center justify-center bg-black/50",children:g.jsxs("div",{className:"bg-white max-w-[360px] dark:bg-neutral-900 rounded-xl shadow-xl w-full max-w-5xl p-4 relative",children:[g.jsx("button",{onClick:t,className:"absolute top-3 right-3 text-neutral-500 hover:text-neutral-800 dark:hover:text-neutral-200 cursor-pointer","aria-label":"",children:g.jsx(ky,{size:20})}),g.jsx("h2",{className:"text-lg font-semibold mb-4",children:"  "}),g.jsx(zTe,{useWoldu:i.useWoldu,useSiju:i.useSiju,hourRule:i.hourRule,gender:i.gender,onToggleWoldu:a.onToggleWoldu,onToggleSiju:a.onToggleSiju,onChangeHourRule:a.onChangeHourRule,onChangeGender:i.setGender}),a.needStartFromYearOrDay&&!a.canEnterOthers&&g.jsxs("div",{className:"mb-3 text-sm text-orange-700 bg-orange-50 dark:text-orange-300 dark:bg-orange-900/30 rounded p-2 text-center",children:["/  . ",g.jsx("br",{}),g.jsx("b",{children:""}),"  ",g.jsx("b",{children:""})," ."]}),g.jsx(UTe,{pillars:i.pillars,active:i.active,canEnterOthers:a.canEnterOthers,onActivate:i.setActive}),g.jsx(GTe,{choices:i.monthBranchChoices,onChoose:a.handleMonthBranchChoice}),g.jsx("div",{className:"flex w-full flex-wrap gap-6 mb-4",children:g.jsx(QTe,{active:i.active,pillars:i.pillars,activeIsStem:a.activeIsStem,activeIsBranch:a.activeIsBranch,onSelect:a.handleSelect,settingsObj:r})}),g.jsxs("div",{className:"flex justify-between items-center gap-3 mb-4",children:[g.jsx("span",{children:g.jsx("button",{type:"button",onClick:()=>{if(!a.filledAll){i.setShowToast(!0);return}o.doSearch()},disabled:i.searching,className:"px-2 py-1 rounded-md bg-blue-600 text-white disabled:opacity-50 cursor-pointer",children:i.searching?"..":""})}),g.jsxs("span",{className:"flex items-center gap-2",children:[g.jsx("button",{type:"button",onClick:a.clearAll,className:"px-2 py-1 rounded-md bg-red-600 border border-neutral-300 dark:border-neutral-700 cursor-pointer",children:""}),g.jsx("button",{type:"button",onClick:o.handleSave,className:"px-2 py-1 rounded-md border bg-yellow-600 border-neutral-300 dark:border-neutral-700 cursor-pointer",children:""})]})]}),g.jsx("div",{className:"max-h-[40vh] overflow-auto rounded border border-neutral-200 dark:border-neutral-800",children:g.jsx(FTe,{results:i.results,selectedRow:i.selectedRow,onSelectRow:i.setSelectedRow,gender:i.gender})}),g.jsx(HTe,{toast:i.toast,showToast4:i.showToast4,searchToast:i.searchToast,error:i.error})]})}):null}function dAe(){return g.jsx("div",{className:"flex flex-col desk:flex-row desk:items-center desk:justify-between gap-2",children:g.jsx("div",{className:"text-sm font-semibold text-neutral-700 dark:text-neutral-200",children:"AI  "})})}function fAe({sections:e,toggleSection:t}){const n=nn(i=>i.settings.daewoonDisplayBase),r=nn(i=>i.setKey);return g.jsxs("div",{className:"mt-3 border-t pt-3",children:[g.jsxs("div",{className:"text-[11px] font-semibold mb-3 text-neutral-700 dark:text-neutral-200 space-y-0.5",children:[g.jsxs("p",{children:["   ",g.jsx("span",{className:"text-amber-500",children:"(TIP.  AI  . ex.,  )"})]}),g.jsx("p",{className:"text-amber-500",children:"      . (     .)"}),g.jsx("p",{className:"text-amber-500",children:" AI     .  ,   ."}),g.jsx("p",{className:"text-amber-500",children:"  AI ,    .  ."})]}),g.jsx("div",{className:"flex flex-wrap gap-2",children:[{key:"twelveUnseong",label:""},{key:"twelveShinsal",label:""},{key:"shinsal",label:" "},{key:"nabeum",label:""}].map(i=>{const a=e[i.key];return g.jsxs("button",{type:"button",onClick:()=>t(i.key),className:`flex items-center gap-1.5 px-3 py-1 text-[10px] font-medium rounded-full border transition-all cursor-pointer ${a?"bg-neutral-900 border-neutral-900 text-white dark:bg-neutral-100 dark:border-neutral-100 dark:text-black shadow-sm":"bg-white border-neutral-200 text-neutral-500 hover:bg-neutral-50 hover:text-neutral-700 dark:bg-neutral-800 dark:border-neutral-700 dark:text-neutral-400 dark:hover:bg-neutral-700 dark:hover:text-neutral-200"}`,children:[g.jsx("span",{className:a?"":"hidden",children:""}),i.label," "]},i.key)})}),g.jsxs("div",{className:"mt-2 flex items-center gap-2",children:[g.jsx("span",{className:"text-[11px] font-semibold text-neutral-700 dark:text-neutral-200",children:" "}),g.jsxs("div",{className:"inline-flex rounded-full overflow-hidden border border-neutral-200 dark:border-neutral-700",children:[g.jsx("button",{type:"button",onClick:()=>r("daewoonDisplayBase",""),className:`px-3 py-1 text-xs cursor-pointer transition-colors ${n===""?"bg-neutral-900 text-white dark:bg-neutral-100 dark:text-black":"bg-white text-neutral-600 hover:bg-neutral-50 dark:bg-neutral-800 dark:text-neutral-300 dark:hover:bg-neutral-700"}`,children:""}),g.jsx("button",{type:"button",onClick:()=>r("daewoonDisplayBase",""),className:`px-3 py-1 text-xs cursor-pointer transition-colors ${n===""?"bg-neutral-900 text-white dark:bg-neutral-100 dark:text-black":"bg-white text-neutral-600 hover:bg-neutral-50 dark:bg-neutral-800 dark:text-neutral-300 dark:hover:bg-neutral-700"}`,children:""})]})]})]})}function hAe({mainCategory:e,subCategory:t,mainCategoryMeta:n,currentSubList:r,onMainCategoryChange:i,onSubCategoryChange:a}){return g.jsxs("div",{className:"hidden flex-wrap gap-2 items-center",children:[g.jsx("select",{value:e,onChange:o=>i(o.target.value),className:"px-2.5 h-30 h-8 text-[11px] rounded-md border bg-white dark:bg-neutral-800 text-neutral-700 dark:text-neutral-200 border-neutral-200 dark:border-neutral-700",children:Object.keys(n).map(o=>g.jsx("option",{value:o,children:n[o].label},o))}),r.length>0&&g.jsx("select",{value:t,onChange:o=>a(o.target.value),className:"px-2.5 h-30 h-8 text-[11px] rounded-md border bg-white dark:bg-neutral-800 text-neutral-700 dark:text-neutral-200 border-neutral-200 dark:border-neutral-700",children:r.map(o=>g.jsx("option",{value:o.key,children:o.label},o.key))})]})}function mAe({visible:e,relationMode:t,setRelationMode:n,partnerId:r,setPartnerId:i,partnerOptions:a}){return e?g.jsxs("div",{className:"flex flex-col gap-1.5 text-[11px] text-neutral-700 dark:text-neutral-200",children:[g.jsxs("div",{className:"flex items-center gap-2",children:[g.jsx("span",{className:"font-semibold",children:" "}),g.jsxs("div",{className:"inline-flex rounded-full border border-neutral-200 dark:border-neutral-700 overflow-hidden",children:[g.jsx("button",{type:"button",onClick:()=>n("solo"),className:`px-3 py-1 cursor-pointer ${t==="solo"?"bg-neutral-900 text-white dark:bg-yellow-500 dark:text-black":"bg-neutral-50 dark:bg-neutral-800 text-neutral-600 dark:text-neutral-300"}`,children:" "}),g.jsx("button",{type:"button",onClick:()=>n("couple"),className:`px-3 py-1 cursor-pointer ${t==="couple"?"bg-neutral-900 text-white dark:bg-yellow-500 dark:text-black":"bg-neutral-50 dark:bg-neutral-800 text-neutral-600 dark:text-neutral-300"}`,children:" "})]})]}),t==="couple"&&g.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[g.jsx("span",{className:"font-semibold",children:"  "}),g.jsxs("select",{value:r,onChange:o=>i(o.target.value),className:"min-w-[180px] h-30 px-2 py-1 border rounded bg-white dark:bg-neutral-800",children:[g.jsx("option",{value:"",children:" "}),a.map(o=>g.jsx("option",{value:o.id,children:o.label},o.id))]})]})]}):null}function pAe({isMultiMode:e,setIsMultiMode:t,canUseMultiMode:n}){const r=!n;return g.jsxs("div",{className:"grid grid-cols-2 p-1 gap-1 bg-neutral-100 dark:bg-neutral-800 rounded-lg",children:[g.jsx("button",{type:"button",onClick:()=>t(!1),className:`flex items-center justify-center py-2 text-xs font-medium rounded-md transition-all cursor-pointer ${e?"text-neutral-500 dark:text-neutral-400 hover:text-neutral-700 dark:hover:text-neutral-200":"bg-white dark:bg-neutral-700 text-neutral-900 dark:text-neutral-100 shadow-sm"}`,children:"  ( )"}),g.jsxs("button",{type:"button",onClick:()=>t(!0),disabled:r,title:r?" .":"  ( )",className:`flex items-center justify-center py-2 text-xs font-medium rounded-md transition-all ${r?"text-neutral-400 cursor-not-allowed opacity-50":e?"bg-white dark:bg-neutral-700 text-neutral-900 dark:text-neutral-100 shadow-sm cursor-pointer":"text-neutral-500 dark:text-neutral-400 hover:text-neutral-700 dark:hover:text-neutral-200 cursor-pointer"}`,children:["  ( ) ",r?"":""]})]})}function gAe({tabs:e,activeTab:t,setActiveTab:n,date:r,setDate:i,canUseLuckTabs:a}){return g.jsxs("div",{className:"flex flex-col gap-3",children:[g.jsx("div",{className:"flex items-center gap-1 p-1 bg-neutral-50 dark:bg-neutral-800/50 rounded-lg border border-neutral-100 dark:border-neutral-800 overflow-x-auto",children:e.map((o,l)=>{const d=!a&&!(l===0),h=!d&&t===o;return g.jsxs("button",{type:"button",onClick:()=>{d||n(o)},disabled:d,title:d?"  ":o,className:["flex-1 min-w-[50px] px-3 py-1.5 text-xs font-medium rounded-md transition-all whitespace-nowrap",d?"text-neutral-400 cursor-not-allowed opacity-50":"cursor-pointer",h?"bg-neutral-800 text-white dark:bg-neutral-200 dark:text-black shadow-sm":d?"":"text-neutral-600 dark:text-neutral-400 hover:bg-neutral-200 dark:hover:bg-neutral-700"].join(" "),children:[o," ",d?"()":""]},o)})}),g.jsxs("div",{className:"flex flex-col desk:flex-row desk:items-center justify-between gap-3 p-3 bg-neutral-50 dark:bg-neutral-800/30 rounded-lg border border-neutral-100 dark:border-neutral-800",children:[g.jsxs("div",{className:"text-[11px] text-neutral-500 dark:text-neutral-400 space-y-0.5",children:[g.jsx("p",{children:"      ."}),g.jsx("p",{children:"     ."})]}),g.jsx("div",{className:"shrink-0",children:g.jsx(kH,{date:r,onChange:i})})]})]})}function bAe({multiTab:e,setMultiTab:t,daeList:n,selectedDaeIdx:r,onToggleDae:i,seStartYear:a,seEndYear:o,onSeStartChange:l,onSeEndChange:u,onSeStartBlur:d,onSeEndBlur:h,seYearsCount:m,wolStartDate:b,wolEndDate:y,onWolStartChange:k,onWolEndChange:w,onWolStartBlur:_,onWolEndBlur:j,wolMonthsCount:O,ilStartDate:T,ilEndDate:C,onIlStartChange:M,onIlEndChange:P,onIlStartBlur:I,onIlEndBlur:z,ilDaysCount:K}){return g.jsxs("div",{className:"space-y-3 p-3 border border-neutral-200 dark:border-neutral-700 rounded-lg mt-2",children:[g.jsx("div",{className:"flex gap-1 p-1 bg-neutral-100 dark:bg-neutral-800 rounded-md",children:["","","",""].map(G=>g.jsx("button",{type:"button",onClick:()=>t(G),className:`flex-1 px-3 py-1.5 text-xs font-medium rounded cursor-pointer transition-all ${e===G?"bg-white dark:bg-neutral-600 text-neutral-900 dark:text-white shadow-sm":"text-neutral-500 dark:text-neutral-400 hover:text-neutral-700"}`,children:G},G))}),e===""&&g.jsxs("div",{children:[g.jsx("div",{className:"text-xs font-semibold mb-2 text-neutral-700 dark:text-neutral-200",children:"  (  )"}),g.jsx("div",{className:"grid grid-cols-2 gap-1.5",children:n.map((G,F)=>g.jsxs("button",{type:"button",onClick:()=>i(F),className:`px-2 py-1.5 text-xs rounded border cursor-pointer text-left ${r.includes(F)?"bg-blue-600 text-white border-blue-600":"bg-white dark:bg-neutral-700 border-neutral-300 dark:border-neutral-600"}`,children:[g.jsx("div",{className:"font-mono",children:G.gz}),g.jsxs("div",{className:"text-[10px] opacity-80",children:[G.age," (",G.startYear,"~",G.endYear,")"]})]},F))})]}),e===""&&g.jsxs("div",{children:[g.jsx("div",{className:"text-xs font-semibold mb-2 text-neutral-700 dark:text-neutral-200",children:"  ( 10)"}),g.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[g.jsx("input",{type:"number",value:a,onChange:G=>l(Number(G.target.value)),onBlur:d,className:"w-24 px-2 h-30 text-xs border rounded bg-white dark:bg-neutral-700"}),g.jsx("span",{className:"text-xs",children:"~"}),g.jsx("input",{type:"number",value:o,onChange:G=>u(Number(G.target.value)),onBlur:h,className:"w-24 px-2 h-30 text-xs border rounded bg-white dark:bg-neutral-700"})]}),g.jsxs("div",{className:"text-[10px] text-neutral-500 dark:text-neutral-400 mt-1",children:[" : ",m,""]})]}),e===""&&g.jsxs("div",{children:[g.jsx("div",{className:"text-xs font-semibold mb-2 text-neutral-700 dark:text-neutral-200",children:"  ( 12)"}),g.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[g.jsx("input",{type:"month",value:b,onChange:G=>k(G.target.value),onBlur:_,className:"px-2 py-1 text-xs border rounded bg-white dark:bg-neutral-700"}),g.jsx("span",{className:"text-xs",children:"~"}),g.jsx("input",{type:"month",value:y,onChange:G=>w(G.target.value),onBlur:j,className:"px-2 py-1 text-xs border rounded bg-white dark:bg-neutral-700"})]}),g.jsxs("div",{className:"text-[10px] text-neutral-500 dark:text-neutral-400 mt-1",children:[" : ",O,""]})]}),e===""&&g.jsxs("div",{children:[g.jsx("div",{className:"text-xs font-semibold mb-2 text-neutral-700 dark:text-neutral-200",children:"  ( 7)"}),g.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[g.jsx("input",{type:"date",value:T,onChange:G=>M(G.target.value),onBlur:I,className:"px-2 py-1 text-xs border rounded bg-white dark:bg-neutral-700"}),g.jsx("span",{className:"text-xs",children:"~"}),g.jsx("input",{type:"date",value:C,onChange:G=>P(G.target.value),onBlur:z,className:"px-2 py-1 text-xs border rounded bg-white dark:bg-neutral-700"})]}),g.jsxs("div",{className:"text-[10px] text-neutral-500 dark:text-neutral-400 mt-1",children:[" : ",K,""]})]}),g.jsxs("div",{className:"text-[11px] text-neutral-500 dark:text-neutral-400",children:[g.jsxs("p",{children:[" ",e,"   ."]}),g.jsx("p",{children:"   ."})]})]})}function yAe({value:e,lockSelection:t=!1}){const[n,r]=S.useState(!1);return t?g.jsx("div",{className:"w-full h-[320px] text-xs font-mono rounded-md border bg-neutral-50 dark:bg-neutral-800 p-2 select-none flex items-center justify-center text-center text-neutral-500","aria-readonly":"true",children:"   "}):g.jsxs("div",{children:[g.jsxs("div",{className:"relative",children:[g.jsx("textarea",{readOnly:!0,value:e,placeholder:"   ",className:["w-full text-xs font-mono rounded-md border bg-neutral-50 dark:bg-neutral-800 p-2 resize-none transition-[height] duration-200","desk:h-[270px] desk:overflow-y-auto",n?"h-[270px] overflow-y-auto pointer-events-auto":"h-[150px] overflow-hidden pointer-events-none desk:pointer-events-auto"].join(" ")}),!n&&g.jsx("div",{className:"pointer-events-none absolute inset-x-0 bottom-0 h-10 rounded-b-md bg-gradient-to-t from-white/95 dark:from-neutral-800/95 to-transparent"})]}),g.jsx("div",{className:"mt-2 mb-3 flex justify-center desk:hidden",children:g.jsx("button",{type:"button",onClick:()=>r(i=>!i),className:"px-3 py-1 rounded-full border text-xs bg-white text-neutral-700 border-neutral-300 dark:bg-neutral-900 dark:text-neutral-200 dark:border-neutral-700",children:n?"":""})})]})}const vAe=["","","","",""],xAe={personality:{label:"    "},lifeFlow:{label:"   "},love:{label:"    "},career:{label:"    "},money:{label:"    "},family:{label:"      "},baby:{label:"    "},health:{label:"    "},move:{label:"     "},social:{label:"  "},compat:{label:"   "},risk:{label:"  "},meta:{label:"    "},etc:{label:"  "}},G$={personality:[{key:"overview",label:"  "},{key:"personality_basic",label:" "},{key:"personality_shadow",label:""},{key:"personality_relationshipStyle",label:" "},{key:"personality_workStyle",label:" "},{key:"personality_stressPattern",label:" "}],lifeFlow:[{key:"overview",label:"  "},{key:"lifeFlow_cycle",label:" "},{key:"lifeFlow_turningPoint",label:""},{key:"lifeFlow_peak",label:""},{key:"lifeFlow_down",label:""},{key:"lifeFlow_theme",label:"  "}],love:[{key:"love_pattern",label:" "},{key:"love_timing",label:"/ "},{key:"love_partner",label:" "},{key:"love_current",label:" /"},{key:"love_breakup",label:" "},{key:"love_marriageChange",label:"/ "}],career:[{key:"career_aptitude",label:" "},{key:"career_mode",label:" vs "},{key:"career_jobChange",label:"/ "},{key:"career_promotion",label:""},{key:"career_study",label:""},{key:"career_exam",label:""}],money:[{key:"overview",label:"  "},{key:"money_flow",label:" "},{key:"money_income",label:""},{key:"money_spending",label:" "},{key:"money_saving",label:"/ "},{key:"money_asset",label:" "},{key:"money_debt",label:"/ "},{key:"money_invest",label:" "},{key:"money_bigEvent",label:"  "}],family:[{key:"overview",label:"  "},{key:"family_origin",label:"/ "},{key:"family_current",label:" /"},{key:"family_parents",label:" "},{key:"family_siblings",label:" "},{key:"family_children",label:"/"},{key:"family_care",label:" "}],baby:[{key:"overview",label:" "},{key:"baby_pregnancy",label:"  "},{key:"baby_birth",label:"  "},{key:"baby_selection",label:"  "}],health:[{key:"overview",label:" "},{key:"health_overall",label:""},{key:"health_physical",label:" "},{key:"health_mental",label:""},{key:"health_stress",label:" "},{key:"health_accident",label:" "}],move:[{key:"overview",label:" "},{key:"move_timing",label:" "},{key:"move_chance",label:" "},{key:"move_targetHouse",label:"  "},{key:"move_environment",label:"  "},{key:"move_finance",label:" "}],social:[{key:"overview",label:"  "},{key:"social_overall",label:" "},{key:"social_friend",label:" "},{key:"social_workspace",label:" "},{key:"social_network",label:""},{key:"social_conflict",label:" "}],compat:[{key:"overview",label:" "},{key:"compat_overall",label:"  "},{key:"compat_love",label:"/ "},{key:"compat_marriage",label:"  "},{key:"compat_work",label:"/ "},{key:"compat_family",label:" "},{key:"compat_friend",label:" "}],risk:[{key:"overview",label:" "},{key:"risk_money",label:" "},{key:"risk_relationship",label:" "},{key:"risk_health",label:" "},{key:"risk_lawsuit",label:"/ "},{key:"risk_burnout",label:" "}],meta:[{key:"overview",label:"  "},{key:"meta_structure",label:"  "},{key:"meta_cycle",label:"  "},{key:"meta_trigger",label:" "},{key:"meta_usage",label:" "}],etc:[]};function wAe(){const[e,t]=S.useState(null);return S.useEffect(()=>{let n=!0;return Le.auth.getUser().then(({data:r})=>{n&&t(r.user?.id??null)}),()=>{n=!1}},[]),e}const _Ae={twelveUnseong:!0,twelveShinsal:!0,shinsal:!0,nabeum:!0},Uv=Zo(e=>({sections:_Ae,setSections:t=>e({sections:t}),toggleSection:t=>e(n=>({sections:{...n.sections,[t]:!n.sections[t]}}))})),Pk=1e3*60*60*24;function Rk(e,t){return(t.getFullYear()-e.getFullYear())*12+(t.getMonth()-e.getMonth())}function Bb(e){return`${e.getFullYear()}-${String(e.getMonth()+1).padStart(2,"0")}`}function zb(e){return`${e.getFullYear()}-${String(e.getMonth()+1).padStart(2,"0")}-${String(e.getDate()).padStart(2,"0")}`}function Y$(){const e=new Date,t=e.getFullYear(),n=String(e.getMonth()+1).padStart(2,"0"),r=String(e.getDate()).padStart(2,"0");return`${t}-${n}-${r}`}function q$(){const e=new Date;return`${e.getFullYear()}-${String(e.getMonth()+1).padStart(2,"0")}`}function SAe(){const e=new Date().getFullYear(),[t,n]=S.useState(e),[r,i]=S.useState(e),[a,o]=S.useState(()=>q$()),[l,u]=S.useState(()=>q$()),[d,h]=S.useState(()=>Y$()),[m,b]=S.useState(()=>Y$()),y=Z=>{n(Z)},k=Z=>{i(Z)},w=()=>{const Z=t;let Y=r;Y<Z&&(Y=Z),Y-Z>9&&(Y=Z+9),i(Y)},_=()=>{let Z=t;const Y=r;Y<Z&&(Z=Y),Y-Z>9&&(Z=Y-9),n(Z)},j=S.useMemo(()=>{if(!Number.isFinite(t)||!Number.isFinite(r))return 0;const Z=r-t+1;return Z>0?Z:0},[t,r]),O=S.useMemo(()=>{const Z=[];if(!Number.isFinite(t)||!Number.isFinite(r))return Z;for(let Y=t;Y<=r&&Z.length<10;Y++)Z.push(Y);return Z},[t,r]),T=Z=>{o(Z)},C=Z=>{u(Z)},M=()=>{const[Z,Y]=a.split("-").map(Number),[V,Q]=l.split("-").map(Number),se=new Date(Z,Y-1),ce=new Date(V,Q-1);if(ce<se){u(Bb(se));return}if(Rk(se,ce)>11){const ne=new Date(se);ne.setMonth(se.getMonth()+11),u(Bb(ne))}},P=()=>{const[Z,Y]=a.split("-").map(Number),[V,Q]=l.split("-").map(Number),se=new Date(Z,Y-1),ce=new Date(V,Q-1);if(ce<se){o(Bb(ce));return}if(Rk(se,ce)>11){const ne=new Date(ce);ne.setMonth(ce.getMonth()-11),o(Bb(ne))}},I=S.useMemo(()=>{const[Z,Y]=(a||"").split("-").map(Number),[V,Q]=(l||"").split("-").map(Number);if(!Number.isFinite(Z)||!Number.isFinite(Y)||!Number.isFinite(V)||!Number.isFinite(Q))return 0;const se=new Date(Z,Y-1,1),ce=new Date(V,Q-1,1),W=Rk(se,ce)+1;return W>0?W:0},[a,l]),z=S.useMemo(()=>{const Z=[],[Y,V]=a.split("-").map(Number),[Q,se]=l.split("-").map(Number),ce=new Date(Y,V-1),W=new Date(Q,se-1);if(Number.isNaN(ce.getTime())||Number.isNaN(W.getTime()))return Z;for(;ce<=W&&Z.length<12;)Z.push(`${ce.getFullYear()}-${String(ce.getMonth()+1).padStart(2,"0")}`),ce.setMonth(ce.getMonth()+1);return Z},[a,l]),K=Z=>{h(Z)},G=Z=>{b(Z)},F=()=>{if(!d||!m)return;const[Z,Y,V]=d.split("-").map(Number),[Q,se,ce]=m.split("-").map(Number),W=new Date(Z,Y-1,V,4,0,0),ne=new Date(Q,se-1,ce,4,0,0);if(ne<W){b(zb(W));return}if(Math.floor((ne.getTime()-W.getTime())/Pk)>7){const he=new Date(W);he.setDate(W.getDate()+6),b(zb(he))}},B=()=>{if(!d||!m)return;const[Z,Y,V]=d.split("-").map(Number),[Q,se,ce]=m.split("-").map(Number),W=new Date(Z,Y-1,V,4,0,0),ne=new Date(Q,se-1,ce,4,0,0);if(W>ne){h(zb(ne));return}if(Math.floor((ne.getTime()-W.getTime())/Pk)>7){const he=new Date(ne);he.setDate(ne.getDate()-6),h(zb(he))}},q=S.useMemo(()=>{const[Z,Y,V]=(d||"").split("-").map(Number),[Q,se,ce]=(m||"").split("-").map(Number);if(!Number.isFinite(Z)||!Number.isFinite(Y)||!Number.isFinite(V)||!Number.isFinite(Q)||!Number.isFinite(se)||!Number.isFinite(ce))return 0;const W=new Date(Z,Y-1,V,4,0,0),ne=new Date(Q,se-1,ce,4,0,0),ie=Math.floor((ne.getTime()-W.getTime())/Pk)+1;return ie>0?ie:0},[d,m]),X=S.useMemo(()=>{const Z=[],[Y,V,Q]=d.split("-").map(Number),[se,ce,W]=m.split("-").map(Number),ne=new Date(Y,V-1,Q,4,0,0),ie=new Date(se,ce-1,W,4,0,0);if(Number.isNaN(ne.getTime())||Number.isNaN(ie.getTime()))return Z;const he=new Date(ne);for(;he<=ie&&Z.length<31;){const J=he.getFullYear(),ae=String(he.getMonth()+1).padStart(2,"0"),pe=String(he.getDate()).padStart(2,"0");Z.push(`${J}-${ae}-${pe}`),he.setDate(he.getDate()+1)}return Z},[d,m]);return{seStartYear:t,seEndYear:r,wolStartYM:a,wolEndYM:l,ilStartDate:d,ilEndDate:m,onSeStartChange:y,onSeEndChange:k,onSeStartBlur:w,onSeEndBlur:_,onWolStartChange:T,onWolEndChange:C,onWolStartBlur:M,onWolEndBlur:P,onIlStartChange:K,onIlEndChange:G,onIlStartBlur:F,onIlEndBlur:B,seYearsCount:j,wolMonthsCount:I,ilDaysCount:q,seYearsList:O,wolMonthsList:z,ilDaysList:X}}function kAe({msId:e,canUseMultiMode:t,canUseLuckTabs:n}){const r=Uv(Q=>Q.sections),i=Uv(Q=>Q.toggleSection),[a,o]=S.useState(!1),[l,u]=S.useState(!1),[d,h]=S.useState(""),[m,b]=S.useState("personality"),[y,k]=S.useState("overview"),[w,_]=S.useState("solo"),[j,O]=S.useState(""),[T,C]=S.useState(!1),[M,P]=S.useState(""),[I,z]=S.useState([]),[K,G]=S.useState(""),[F,B]=S.useState([]),q=SAe();S.useEffect(()=>{m!=="love"&&m!=="compat"&&(_("solo"),h(""))},[m]),S.useEffect(()=>{!t&&T&&C(!1)},[t,T]),S.useEffect(()=>{!n&&j!==""&&O("")},[n,j]),S.useEffect(()=>{M!==""&&z([])},[M]),S.useEffect(()=>{G(""),B([])},[e]);function X(){const Q=K.trim();Q&&(B(se=>[...se,Q]),G(""))}function Z(Q){B(se=>se.filter((ce,W)=>W!==Q))}function Y(){B([])}function V(Q){z(se=>se.includes(Q)?se.filter(ce=>ce!==Q):[...se,Q])}return{sections:r,toggleSection:i,friendMode:a,setFriendMode:o,teacherMode:l,setTeacherMode:u,partnerId:d,setPartnerId:h,mainCategory:m,setMainCategory:b,subCategory:y,setSubCategory:k,relationMode:w,setRelationMode:_,activeTab:j,setActiveTab:O,isMultiMode:T,setIsMultiMode:C,multiTab:M,setMultiTab:P,selectedDaeIdx:I,setSelectedDaeIdx:z,handleToggleDae:V,rangeControls:q,questionDraft:K,setQuestionDraft:G,extraQuestions:F,setExtraQuestions:B,handleAddQuestion:X,handleRemoveQuestion:Z,handleClearQuestions:Y}}const TH=Zo(e=>({shinsalBase:"",shinsalEra:"",shinsalGaehwa:!1,hiddenStemMode:"hgc",setShinsalBase:t=>e({shinsalBase:t}),setShinsalEra:t=>e({shinsalEra:t}),setShinsalGaehwa:t=>e({shinsalGaehwa:t}),setHiddenStemMode:t=>e({hiddenStemMode:t})})),EAe=!1,K$=e=>e<10?`0${e}`:`${e}`;function jAe(e){const t=e,n=typeof t.birthDay=="string"?t.birthDay:"",r=typeof t.calendarType=="string"?t.calendarType:"solar";if(n.length<8)return e;const i=Number(n.slice(0,4)),a=Number(n.slice(4,6)),o=Number(n.slice(6,8));if(r==="lunar")try{const l=ea(i,a,o,0,0),u=`${l.getFullYear()}${K$(l.getMonth()+1)}${K$(l.getDate())}`;return{...e,birthDay:u,calendarType:"solar"}}catch{return e}return e}const Dm={:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},Pm={:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},Ys={:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},Ub={:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},TAe=["","","","",""];function W$(e){return TAe.includes(e)}const AH={:"",:"",:"",:"",:""},NH={:"",:"",:"",:"",:""},OH={:"",:"",:"",:"",:""},CH={:"",:"",:"",:"",:""};function W2(e){if(!e)return null;const t=e.trim();if(["","","","","","","","","",""].includes(t))return t;if(Dm[t])return Dm[t];if(["","","","","","","","","","","",""].includes(t))return Ub[t]??null;if(Pm[t])return Ub[Pm[t]]??null;const n=t.charAt(0);return Dm[n]?Dm[n]:["","","","","","","","","",""].includes(n)?n:Pm[n]?Ub[Pm[n]]??null:["","","","","","","","","","","",""].includes(n)?Ub[n]??null:null}function MH(e){const t={};for(const[n,r]of Object.entries(e??{})){if(r<=0)continue;const i=W2(n);i&&(t[i]=(t[i]??0)+r)}return t}function AAe(e){if(!e)return[];const t=W2(e.charAt(0)),n=W2(e.charAt(1));return[t,n].filter(Boolean)}function Fb(e){const t=AAe(e),n={};for(const r of t)n[r]=(n[r]??0)+1;return n}function rN(e,t){const n=Ys[e],r=Ys[t];if(!n||!r)return"";let i;r===n?i="":r===AH[n]?i="":r===NH[n]?i="":r===OH[n]?i="":r===CH[n]?i="":i="";const a=W$(e)===W$(t);switch(i){case"":return a?"":"";case"":return a?"":"";case"":return a?"":"";case"":return a?"":"";case"":return a?"":""}}function DH(e,t){return t===e?"":t===AH[e]?"":t===NH[e]?"":t===OH[e]?"":t===CH[e]?"":""}function Fv(e){const t=Object.entries(e),n=t.reduce((d,[,h])=>d+(h>0?h:0),0);if(n<=0)return Object.fromEntries(t.map(([d])=>[d,0]));const r=t.map(([d,h])=>[d,(h>0?h:0)*100/n]),i=r.map(([d,h])=>[d,Math.floor(h)]);let a=i.reduce((d,[,h])=>d+h,0);const o=r.map(([d,h])=>[d,h-Math.floor(h)]).sort((d,h)=>h[1]-d[1]),l=Object.fromEntries(i.map(([d,h])=>[d,h]));let u=0;for(;a<100&&u<o.length;)l[o[u][0]]+=1,a+=1,u+=1;return l}const NAe={:{name:"",element:"",brief:"  ",keywords:" "},:{name:"",element:"",brief:"  ",keywords:" "},:{name:"",element:"",brief:"  ",keywords:" "},:{name:"",element:"",brief:"  ",keywords:" "},:{name:"",element:"",brief:"  ",keywords:""},:{name:"",element:"",brief:"  ",keywords:""},:{name:"",element:"",brief:" ",keywords:""},:{name:"",element:"",brief:" ",keywords:""},:{name:"",element:"",brief:" ",keywords:""},:{name:"",element:"",brief:" ",keywords:""},:{name:"",element:"",brief:" ",keywords:""},:{name:"",element:"",brief:" ",keywords:""},:{name:"",element:"",brief:"  ",keywords:""},:{name:"",element:"",brief:"  ",keywords:""},:{name:"",element:"",brief:"  ",keywords:""},:{name:"",element:"",brief:"  ",keywords:""},:{name:"",element:"",brief:"  ",keywords:" "},:{name:"",element:"",brief:"  ",keywords:" "},:{name:"",element:"",brief:"",keywords:""},:{name:"",element:"",brief:"",keywords:""},:{name:"",element:"",brief:"()",keywords:""},:{name:"",element:"",brief:"()",keywords:""},:{name:"",element:"",brief:" ",keywords:""},:{name:"",element:"",brief:" ",keywords:""},:{name:"",element:"",brief:"",keywords:"/"},:{name:"",element:"",brief:"",keywords:"/"},:{name:"",element:"",brief:" ",keywords:" "},:{name:"",element:"",brief:" ",keywords:" "},:{name:"",element:"",brief:"  ",keywords:" "},:{name:"",element:"",brief:"  ",keywords:" "},:{name:"",element:"",brief:" ",keywords:"/"},:{name:"",element:"",brief:" ",keywords:"/"},:{name:"",element:"",brief:"",keywords:""},:{name:"",element:"",brief:"",keywords:""},:{name:"",element:"",brief:" ",keywords:""},:{name:"",element:"",brief:" ",keywords:""},:{name:"",element:"",brief:"()",keywords:""},:{name:"",element:"",brief:"()",keywords:""},:{name:"",element:"",brief:"()",keywords:""},:{name:"",element:"",brief:"()",keywords:""},:{name:"",element:"",brief:"(  )",keywords:""},:{name:"",element:"",brief:"(  )",keywords:""},:{name:"",element:"",brief:"()",keywords:" "},:{name:"",element:"",brief:"()",keywords:" "},:{name:"",element:"",brief:"  ",keywords:" "},:{name:"",element:"",brief:"  ",keywords:" "},:{name:"",element:"",brief:" ",keywords:" "},:{name:"",element:"",brief:" ",keywords:" "},:{name:"",element:"",brief:"",keywords:""},:{name:"",element:"",brief:"",keywords:""},:{name:"",element:"",brief:"   ",keywords:" "},:{name:"",element:"",brief:"   ",keywords:" "},:{name:"",element:"",brief:"",keywords:""},:{name:"",element:"",brief:"",keywords:""},:{name:"",element:"",brief:"  ",keywords:""},:{name:"",element:"",brief:"  ",keywords:""},:{name:"",element:"",brief:"",keywords:""},:{name:"",element:"",brief:"",keywords:""},:{name:"",element:"",brief:"  ",keywords:""},:{name:"",element:"",brief:"  ",keywords:""}},OAe=e=>{if(!e||e.length<2)return e;const t=e.charAt(0),n=e.charAt(1),r=Dm[t]??t,i=Pm[n]??n;return`${r}${i}`},Hv=e=>{const t=OAe(e),n=NAe[t];return n?{...n,code:t}:null},CAe=["","","","",""],MAe=["","","","","","","","","",""],DAe={:["",""],:["",""],:["",""],:["",""],:["",""]},PAe=["","","","","","","","","",""];function RAe(e,t,n){const r=Math.max(0,Math.round(n)),i=Math.max(0,Number(e??0)),a=Math.max(0,Number(t??0)),o=i+a;if(r<=0)return[0,0];if(o<=0)return[r,0];const l=i/o*r,u=a/o*r;let d=Math.floor(l),h=Math.floor(u),m=r-(d+h);return m>0&&(l-d>=u-h?d+=1:h+=1,m-=1),m>0&&(d+=m),[d,h]}function PH(e){const{natal:t,dayStem:n,perStemSource:r}=e,i=MH(r??{}),a={:0,:0,:0,:0,:0};for(const[m,b]of Object.entries(i)){const y=Ys[m];y&&(a[y]+=Math.max(0,Number(b??0)))}const o=Fv(a),l=j9(o,t[1]??"",t),u=Fv(l),d={};for(const m of CAe){const[b,y]=DAe[m],[k,w]=RAe(i[b]??0,i[y]??0,u[m]??0);d[b]=k,d[y]=w}const h=Object.fromEntries(PAe.map(m=>[m,0]));for(const m of MAe){const b=Math.max(0,Number(d[m]??0)),y=rN(n,m);h[y]+=b}return{elementPercent100:u,perStemBare100:d,totalsSub100:h}}function RH(e,t){const{mode:n,tab:r,isStudyTone:i}=t,a=(...o)=>e.push(...o);if(n==="single"){if(r===""){a("","##      (  )",">       ,      .","- **  **: ', , , , ' ', , '      , '  , , , , '   .      .","- ** **:   ,     '' .","- ** **:     ,          .","- ** **:   ,       (, , )   .","- ** **: '   '  , '      '    .","- ** **:             .");return}r?(a("","##     ( )","- ** **:         .   '     '  .","- ** **:  '/' , '     '    .","- ****:     , '    ' '    '   ."),i?a("","##  ()",`-  : (${r})  ,    ( + / )  .`,"-     /      ()  ."):a("","##  ()",`-    (${r})   ,         .`,"-   ,          .")):a("","##  ()","-   ,      /  .")}else a("","##     ( )","- ** **:               .","- ** **: '  '   , '       '  ."),i?a("","##  ()","-       .    .","-      (/// )  1~2 ."):a("","##  ()","-  (///)  ,           .");i&&e.push("- (teacherMode)     ,   .","-      (/ / )  1~2 .")}function LH(e,t){const n=jAe(e),r=n.birthDay??"",i=r.slice(0,4),a=r.slice(4,6),o=r.slice(6,8);let l="";if(n.corrected instanceof Date&&!Number.isNaN(n.corrected.getTime())){const u=String(n.corrected.getHours()).padStart(2,"0"),d=String(n.corrected.getMinutes()).padStart(2,"0");l=t?"":`${u}:${d}`}return`${i} ${a} ${o}  ${l}`}function LAe(e){const t={:0,:0,:0,:0,:0};for(const[n,r]of Object.entries(e)){const i=Ys[n];i&&(t[i]+=r)}return t}function IAe(e,t){const n={:0,:0,:0,:0,:0,:0,:0,:0,:0,:0};for(const[r,i]of Object.entries(e)){if(i<=0)continue;const a=rN(t,r);n[a]+=i}return n}function $Ae(e){return{:e.+e.,:e.+e.,:e.+e.,:e.+e.,:e.+e.}}const BAe={natal:50,dae:30,se:20,wol:7,il:3};function zAe(e){const t={};for(const{kind:r,bare:i}of e){const a=BAe[r]??0;if(a<=0)continue;const o=Fv(i);for(const[l,u]of Object.entries(o))t[l]=(t[l]??0)+u*a}const n=Object.values(t).reduce((r,i)=>r+i,0);if(n>0)for(const r of Object.keys(t))t[r]=t[r]/n*100;return t}function IH(e,t,n){const r=MH(e.perStemElementScaled),i=t!==""&&n?.dae?Fb(n.dae):{},a=(t===""||t===""||t==="")&&n?.se?Fb(n.se):{},o=(t===""||t==="")&&n?.wol?Fb(n.wol):{},l=t===""&&n?.il?Fb(n.il):{},u=zAe([{kind:"natal",bare:r},{kind:"dae",bare:i},{kind:"se",bare:a},{kind:"wol",bare:o},{kind:"il",bare:l}]),d=Fv(u),h=LAe(d),m=IAe(d,e.dayStem),b=$Ae(m);return{perStemAugBare:d,elementPercent:h,totalsSub:m,totalsMain:b}}function $H(e){return!e.birthTime||e.birthTime===""}function BH(e,t){return t[3]?["","","",""]:["","",""]}function UAe(e,t){return e.map((n,r)=>t[r]??"")}const FAe=["","","","","","","","","",""],HAe=["","","","","","","","","",""];function V2(e,t){const n={};for(const i of HAe){const a=rN(t,i);n[a]=i}const r={};for(const i of FAe){const a=n[i],o=a?Ys[a]??"":"",l=a?`${i}(${a}${o})`:i;typeof e[i]=="number"&&(r[l]=e[i])}return r}function wu(e,t){return Object.entries(e).filter(([,r])=>r!=null&&`${r}`.trim()!=="").map(([r,i])=>`${r}: ${i}`).join(", ")}function GAe(e){return e.map(t=>String(t??"").trim()).filter(Boolean).join(`
`)}function ba(e){return e.filter(t=>t&&t.pos&&t.gz&&t.value).map(t=>`${t.pos}: [ - ${t.gz}] / ${t.value}`).join(`
`)}function Gv(e){return`: ${e.yang}, : ${e.yin}`}const YAe={si:"",il:"",wol:"",yeon:""};function V$(e){return e.replace(/^#/,"").trim()}function iN(e){const t=[],n=["si","il","wol","yeon"];for(const a of n){const o=e.good?.[a]??[],l=e.bad?.[a]??[];o.length===0&&l.length===0||(t.push(`[${YAe[a]}]`),o.length>0&&t.push(` : ${o.map(V$).join(", ")}`),l.length>0&&t.push(` : ${l.map(V$).join(", ")}`))}const r=e.meta?.voidPair;(r?.day||r?.year)&&(t.push("[]"),r.day?.length&&t.push(` : ${r.day.join("  ")}`),r.year?.length&&t.push(` : ${r.year.join("  ")}`));const i=e.meta?.samjaeYears;return(i?.day||i?.year)&&(t.push("[]"),i.day?.length&&t.push(` : ${i.day.join("")}`),i.year?.length&&t.push(` : ${i.year.join("")}`)),t.join(`
`)}const qAe={cheonganHap:"",cheonganChung:"",jijiSamhap:"",jijiBanhap:"",jijiBanghap:"",jijiYukhap:"",jijiChung:"",jijiHyeong:"",jijiPa:"",jijiHae:"",jijiWonjin:"",jijiGwimun:"",amhap:"",ganjiAmhap:""},KAe=["cheonganHap","cheonganChung","jijiSamhap","jijiBanhap","jijiBanghap","jijiYukhap","jijiChung","jijiHyeong","jijiPa","jijiHae","jijiWonjin","jijiGwimun","amhap","ganjiAmhap"],Z$=["","","","","","","",""];function WAe(e){return[...e].sort((t,n)=>{const r=Z$.indexOf(t),i=Z$.indexOf(n);return r===-1&&i===-1?t.localeCompare(n,"ko"):r===-1?1:i===-1?-1:r-i})}function VAe(e){return e.replace(/^#/,"").replace(/_/g," ").replace(/X/g," X ").replace(/\s+/g," ").trim()}function ZAe(e){const t=e.replace(/^#/,"").trim();if(!t)return null;const[n,r=""]=t.split("_");return{tokens:n.split("X").filter(Boolean),label:r,human:VAe(t)}}function XAe(e){const t=e.map(ZAe).filter(a=>!!a),n=[],r=new Set,i=new Map;t.forEach((a,o)=>{if(a.tokens.length!==2||!a.label)return;const l=i.get(a.label)??[];l.push(o),i.set(a.label,l)});for(const[a,o]of i){const l=new Map;for(const h of o){const m=t[h],[b,y]=m.tokens;l.has(b)||l.set(b,[]),l.has(y)||l.set(y,[]),l.get(b).push(h),l.get(y).push(h)}let u="",d=[];for(const[h,m]of l)m.length>d.length&&(u=h,d=m);if(d.length>=2){const h=d.map(b=>{r.add(b);const[y,k]=t[b].tokens;return y===u?k:y}).filter(Boolean),m=`${WAe(h).join("  ")} X ${u} ${a}`.trim();m&&n.push(m)}}return t.forEach((a,o)=>{r.has(o)||n.push(a.human)}),n}function Yv(e){const t=[];for(const n of KAe){const r=e[n];if(!Array.isArray(r))continue;const i=r.filter(l=>l&&typeof l=="string"&&!l.includes(""));if(i.length===0)continue;const a=XAe(i),o=qAe[n]??n;t.push(`${o} : ${a.join("  ")}`)}return t.join(`
`)}function JAe(e){const t=[];for(const[n,r]of Object.entries(e))!r||!r.gz||!r.nabeum||t.push({pos:n,gz:r.gz,value:r.nabeum});return ba(t)}const Rm=e=>typeof e=="object"&&e!==null&&!Array.isArray(e);function qv(e){if(e!=null){if(Array.isArray(e)){const t=e.map(n=>qv(n)).filter(n=>n!==void 0);return t.length>0?t:void 0}if(Rm(e)){const t={};for(const[n,r]of Object.entries(e)){const i=qv(r);i!==void 0&&(t[n]=i)}return Object.keys(t).length>0?t:void 0}return e}}function zH(e){return e==null?"":typeof e=="string"?e:typeof e=="number"||typeof e=="boolean"?String(e):""}const ks=e=>typeof e=="string"||typeof e=="number"||typeof e=="boolean",QAe=e=>typeof e.yang=="number"&&typeof e.yin=="number",eNe=e=>"good"in e||"bad"in e||"meta"in e,tNe=new Set(["cheonganHap","cheonganChung","jijiSamhap","jijiBanhap","jijiBanghap","jijiYukhap","jijiChung","jijiHyeong","jijiPa","jijiHae","jijiWonjin","jijiGwimun","amhap","ganjiAmhap"]),nNe=e=>Object.keys(e).some(t=>tNe.has(t)),rNe=e=>{const t=Object.keys(e);return!t.includes("")&&!t.includes("")?!1:t.every(n=>n===""||n===""||n==="")},iNe=e=>{const t=Object.keys(e);return t.includes("")?t.every(n=>n===""||n===""||n===""):!1},aNe=e=>{const t=Object.keys(e);return t.includes("")?t.every(n=>n===""||n===""||n===""):!1};function X$(e){const t=typeof e.pos=="string"?e.pos:"",n=typeof e.gz=="string"?e.gz:"";if(!t||!n)return null;const r=typeof e.unseong=="string"&&e.unseong||typeof e.shinsal=="string"&&e.shinsal||typeof e.nabeum=="string"&&e.nabeum||typeof e.value=="string"&&e.value||"";return r?{pos:t,gz:n,value:r}:null}function uy(e){if(e==null)return"";const t=zH(e);if(t)return t;if(Array.isArray(e)){if(e.length===0)return"";if(e.every(ks))return GAe(e.map(String));const n=[];for(const r of e){if(!Rm(r))continue;const i=X$(r);i&&n.push(i)}return n.length>0?ba(n):e.map(r=>uy(r)).filter(Boolean).join(`

`)}if(Rm(e)){if(QAe(e))return Gv(e);if(eNe(e))return iN(e);if(nNe(e))return Yv(e);if(rNe(e)){const u=e.,d=e.;if(ks(u)&&ks(d))return`${u} / : ${d}`;if(ks(u))return String(u);if(ks(d))return`: ${d}`}if(iNe(e)){const u=e.;if(ks(u))return String(u)}if(aNe(e)){const u=e.;if(ks(u))return String(u)}const n=Object.entries(e);if(n.length===0)return"";if(n.every(([,u])=>ks(u)))return wu(e);if(n.every(([,u])=>Array.isArray(u)))return n.map(([d,h])=>{const m=h.map(b=>uy(b)).filter(Boolean).join(`

`);return m?`[${d}]
${m}`:""}).filter(Boolean).join(`
`);if(n.every(([,u])=>u==null||ks(u)||Rm(u))){const u=n.map(([d,h])=>{if(h==null)return"";const m=uy(h);if(!m)return"";const b=m.includes(`
`)?`
`:" ";return`${d}:${b}${m}`}).filter(Boolean);if(u.length>0)return u.join(`
`)}if(n.every(([,u])=>!u||Rm(u)&&typeof u.gz=="string"))return JAe(e);const l=X$(e);return l?ba([l]):JSON.stringify(e,null,2)}return String(e??"")}function oNe(e,t){const n=qv(e);if(n===void 0)return"";if(t==="plain")return uy(n);const r=zH(n);return r!==""?r:["```json",JSON.stringify(n,null,2),"```"].join(`
`)}function UH(e,t,n){const r=oNe(t,n);return r.trim()?`## ${e}
${r}`:""}const Uo=(e,t)=>UH(e,t,"plain"),FH=(e,t)=>UH(e,t,"fenced"),sNe=(e,t)=>{if(!e)return{};const n=t,r=l=>{if(!l)return;const u={};for(const[d,h]of Object.entries(l)){if(!Array.isArray(h))continue;const m=h.filter(b=>typeof b=="string"&&b.includes(n));m.length>0&&(u[d]=m)}return Object.keys(u).length>0?u:void 0},i=r(e.good),a=r(e.bad),o={};return i&&(o.good=i),a&&(o.bad=a),o},lNe=(e,t)=>{const n={};if(!e||typeof e!="object")return n;for(const[r,i]of Object.entries(e)){if(!Array.isArray(i))continue;const a=Array.from(new Set(i.filter(o=>typeof o=="string"&&o.includes(t))));a.length>0&&(n[r]=a)}return n};function Z2(e,t){return Object.fromEntries(Object.entries(e).map(([n,r])=>[`${n}(${DH(t,n)})`,r]))}const J$={year:{stem:10,branch:10},month:{stem:15,branch:30},day:{stem:25,branch:25},hour:{stem:15,branch:15}},cNe=["year","month","day","hour"],uNe=new Set(["","","","",""]),Qd=new Set(["","","","",""]),X2={:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},dNe={:5,:7,:5,:-5,:-7,:-5},Lk=e=>Math.round(e*10)/10,HH=e=>{const t=Lk(e),n=Lk(100-e),r=Lk(100-Math.abs(t-50)*2),i=t>=55?"":t<=45?"":"";return{yang:t,yin:n,harmony:r,category:i}};function fNe(e){if(!e)return null;let t=0,n=0;Object.entries(e).forEach(([i,a])=>{const o=Number(a)||0;Qd.has(i.charAt(0))?t+=o:n+=o});const r=t+n;return r<=0?null:t/r*100}function Hb(e){if(!e||e.length<2)return null;const t=e.charAt(0),n=e.charAt(1),r=X2[n],i=[t,r].filter(Boolean);return i.length?i.filter(o=>Qd.has(o)).length/i.length*100:null}function aN(e){const{natal:t,perStemElementScaled:n,mode:r="natal"}=e;if(!n||!t||t.length<3)return null;let i=0,a=0;Object.entries(n).forEach(([M,P])=>{const I=Number(P)||0;Qd.has(M.charAt(0))?i+=I:a+=I});const o=i+a>0?(i-a)/(i+a):0;let l=0,u=0,d=0,h=0;t.forEach(M=>{if(!M||M.length<2)return;const P=M[0],I=X2[M[1]];[P,I].forEach(z=>{z&&(uNe.has(z)?l+=1:u+=1,Qd.has(z)?d+=1:h+=1)})});const m=l+u>0?(l-u)/(l+u):0,b=d+h>0?(d-h)/(d+h):0;let y=0,k=0;t.forEach((M,P)=>{if(!M||M.length<2)return;const I=cNe[P],z=J$[I].stem,K=J$[I].branch;Qd.has(M[0])?y+=z:k+=z;const G=X2[M[1]];G&&Qd.has(G)?y+=K:k+=K});const w=y+k>0?(y-k)/(y+k):0,_=t[1]?.charAt(1),j=(dNe[_??""]||0)/100,O=r==="luck"?{essence:.15,nature:.15,base:.7,position:0,season:0}:{essence:.3,nature:.3,base:.2,position:.2,season:1},T=m*O.essence+b*O.nature+o*O.base+w*O.position+j*O.season;if(!Number.isFinite(T))return null;const C=(Math.min(1,Math.max(-1,T))+1)*50;return HH(C)}function hNe(e){const{natal:t,natalScaled:n,chain:r,weights:i}=e;if(!t||t.length<3)return null;const a=aN({natal:t,perStemElementScaled:n,mode:"natal"}),o=a?.yang??fNe(n);if(o==null)return null;const l=[];i.natal>0&&l.push({yang:o,weight:i.natal});const u=Hb(r?.dae??null);u!=null&&(i.dae??0)>0&&l.push({yang:u,weight:i.dae??0});const d=Hb(r?.se??null);d!=null&&(i.se??0)>0&&l.push({yang:d,weight:i.se??0});const h=Hb(r?.wol??null);h!=null&&(i.wol??0)>0&&l.push({yang:h,weight:i.wol??0});const m=Hb(r?.il??null);m!=null&&(i.il??0)>0&&l.push({yang:m,weight:i.il??0});const b=l.reduce((k,w)=>k+w.weight,0);if(b<=0)return a??null;const y=l.reduce((k,w)=>k+w.yang*w.weight,0)/b;return HH(y)}function GH(e){const{ms:t,natal:n,chain:r,basis:i,tab:a,unified:o,percent:l,category:u,sections:d}=e,h=d?.tenGod??!0,m=d?.twelveUnseong??!0,b=d?.twelveShinsal??!0,y=d?.shinsal??!0,k=d?.nabeum??!0,w=$H(t),_=Re(n[3]??""),j=[Re(n[0]??""),Re(n[1]??""),Re(n[2]??""),_],{shinsalEra:O,shinsalGaehwa:T,shinsalBase:C}=TH.getState(),M=C===""?j[0]?.charAt(1)??"":j[2]?.charAt(1)??"",{flags:P}=l9(j,o.natalFixed.elementScoreRaw),I=`${u} (${l.toFixed(1)}%)  ${[` ${P..||P..||P..||P..?"":""}`,` ${P..||P..||P..||P..?"":""}`,` ${P..||P..?"":""}`].join(", ")}`,z=BH(t,j),K=o.dayStem,G=Ys[K]??Ys[o.dayStem]??"",F=PH({natal:j,dayStem:K,perStemSource:o.natalFixed.overlay.perStemAugFull??o.natalFixed.overlay.perStemAugBare}),B=`: ${t.name??""}  (${LH(t,w)}) 
${t.ganjiText} / : ${t.gender}`,q=(ie,he)=>{const J=(he??"").trim();return J?`## ${ie}
${J}`:""},X=[],Z=[];Z.push(" ver."),Z.push(q("",I));const Y=aN({natal:j,perStemElementScaled:o.natalFixed.overlay.perStemAugFull??o.natalFixed.overlay.perStemAugBare,mode:"natal"});if(Y&&Z.push(q("()",Gv(Y))),Z.push(q("(  )",wu(Z2(F.elementPercent100,G)))),h){const ie=V2(F.totalsSub100,K);Z.push(q(" ( 10 100)",wu(ie)))}if(m){const ie=z.map((he,J)=>{const ae=j[J]??"";return ae?{pos:he,gz:ae,value:so(K,ae.charAt(1))}:null}).filter(Boolean);ie.length>0&&Z.push(q("()",ba(ie)))}if(b){const ie=z.map((he,J)=>{const ae=j[J]??"";return ae?{pos:he,gz:ae,value:lo({baseBranch:M,targetBranch:ae.charAt(1),era:O,gaehwa:T})}:null}).filter(Boolean);ie.length>0&&Z.push(q("()",ba(ie)))}if(k){const ie=z.map((he,J)=>{const ae=j[J]??"";if(!ae)return null;const pe=Hv(ae);return pe?{pos:he,gz:ae,value:pe.name}:null}).filter(Boolean);ie.length>0&&Z.push(q("",ba(ie)))}if(Z.push(q("()",Yv(vx(z.map((ie,he)=>j[he]??""))))),y){const ie=Fp({natal:j,daewoon:null,sewoon:null,wolwoon:null,ilwoon:null,basis:i});Z.push(q("()",iN(ie)))}const V=Z.filter(Boolean).join(`

`);V&&X.push(V);const Q={:{natal:100},:{natal:70,dae:30},:{natal:60,dae:25,se:15},:{natal:55,dae:20,se:15,wol:10},:{natal:50,dae:20,se:15,wol:10,il:5}},se=(ie,he)=>{if(ie==="")return"";const J=he??Hp({natal:j,tab:ie,chain:r,hourKey:"prompt"}),ae=IH(J,ie,r),pe=ae.elementPercent,me=ae.totalsSub,ee=[];ee.push(`${ie} ver.`);const je={dae:r?.dae?Re(r.dae):null,se:r?.se?Re(r.se):null,wol:r?.wol?Re(r.wol):null,il:r?.il?Re(r.il):null},xe=hNe({natal:j,natalScaled:o.natalFixed.overlay.perStemAugFull??o.natalFixed.overlay.perStemAugBare,chain:je,weights:Q[ie]});if(xe&&ee.push(q(`( + ${ie})`,Gv(xe))),ee.push(q(`( + ${ie})`,wu(Z2(pe,G)))),h){const Ie=V2(me,K);ee.push(q(` ( + ${ie})`,wu(Ie)))}const ue=ie===""?r?.dae:ie===""?r?.se:ie===""?r?.wol:ie===""?r?.il:null,Ee=ue?Re(ue):"";if(Ee&&(ee[0]=`${ie} ver.  : ${Ee}`),Ee&&m){const Ie=so(K,Ee.charAt(1));ee.push(q(`(${ie})`,ba([{pos:ie,gz:Ee,value:Ie}])))}if(Ee&&b){const Ie=lo({baseBranch:M,targetBranch:Ee.charAt(1),era:O,gaehwa:T});ee.push(q(`(${ie})`,ba([{pos:ie,gz:Ee,value:Ie}])))}if(Ee&&k){const Ie=Hv(Ee);Ie&&ee.push(q("",ba([{pos:ie,gz:Ee,value:Ie.name}])))}const Me=Wl({natal:j,daewoon:ie!==""?r?.dae??void 0:void 0,sewoon:ie===""||ie===""||ie===""?r?.se??void 0:void 0,wolwoon:ie===""||ie===""?r?.wol??void 0:void 0,ilwoon:ie===""?r?.il??void 0:void 0});return ee.push(q(`(${ie})`,Yv(Me))),ee.filter(Boolean).join(`

`)};if(a!==""){const ie=a===""?[""]:a===""?["",""]:a===""?["","",""]:a===""?["","","",""]:[];for(const he of ie){const J=se(he,he===a?o:void 0);J&&X.push(J)}}const ce=X.filter(ie=>ie&&ie.trim().length>0).join(`

`),W=[];RH(W,{mode:"single",tab:a,isStudyTone:e.teacherMode===!0});const ne=W.join(`
`).trim();return{header:B,body:ce,guide:ne}}function mNe(e){const{header:t,body:n,guide:r}=GH(e);return[t,n,r].filter(i=>i&&i.trim().length>0).join(`

`)}function Fo(e){const{scope:t,infoText:n,gz:r,chain:i,natal:a,relationArgs:o,basis:l,unified:u,dayEl:d,baseDayStem:h,show:m,shinsalSettings:b,harmonyMode:y="scope",includeBasicInfo:k=!0}=e,w=IH(u,t,i),_=Wl({natal:a,daewoon:o.daewoon,sewoon:o.sewoon,wolwoon:o.wolwoon,ilwoon:o.ilwoon}),j=m.shinsal?Fp({natal:a,daewoon:o.daewoon,sewoon:o.sewoon,wolwoon:o.wolwoon,ilwoon:o.ilwoon,basis:l}):null,O=m.nabeum?Hv(r):null,T=m.twelveUnseong?so(h,r.charAt(1)):null,C=m.twelveShinsal?lo({baseBranch:b.baseBranch,targetBranch:r.charAt(1),era:b.era,gaehwa:b.gaehwa}):null,M=y==="full"?_:lNe(_,t);return{...k?{:n,:r}:{},:Z2(w.elementPercent,d),...m.tenGod?{:w.totalsSub}:{},:M,...m.shinsal?{:sNe(j,t)}:{},...m.nabeum?{:O?{:O.name,:O.element}:null}:{},...m.twelveUnseong?{:{:t,:T}}:{},...m.twelveShinsal?{:{:t,:C}}:{}}}function pNe(e){const{selectedDaeList:t,daeList:n,natal:r,basis:i,unified:a,dayEl:o,baseDayStem:l,show:u,shinsalSettings:d}=e;if(n.length===0||t.length===0)return[];const h=[];for(const m of t){const b={dae:m.gz,se:null,wol:null,il:null},y=Fo({scope:"",infoText:`${m.age} ${m.gz} (${m.startYear}~${m.endYear})`,gz:m.gz,chain:b,natal:r,relationArgs:{daewoon:m.gz,sewoon:void 0,wolwoon:void 0,ilwoon:void 0},basis:i,unified:a,dayEl:o,baseDayStem:l,show:u,shinsalSettings:d,harmonyMode:"full",includeBasicInfo:!1});h.push(Uo(`${m.age} ${m.gz} (${m.startYear}~${m.endYear})`,y))}return h.filter(m=>m.trim().length>0)}function oN(e){return new Date(e.startYear,(e.startMonth??1)-1,e.startDay??1)}function YH(e,t){const n=e[t],r=e[t+1];return r?oN(r):new Date(n.endYear+1,0,1)}function qH(e,t,n,r){return e<r&&t>n}function KH(e,t,n){const r=new Date(t,0,1),i=new Date(n+1,0,1),a=[];for(let o=0;o<e.length;o++){const l=e[o],u=oN(l),d=YH(e,o);qH(u,d,r,i)&&(a.some(h=>h.gz===l.gz&&h.startYear===l.startYear)||a.push(l))}return a}function WH(e,t){return KH(e,t,t)}function Kv(e,t,n){const r=new Date(t,n-1,1),i=new Date(t,n,1),a=[];for(let o=0;o<e.length;o++){const l=e[o],u=oN(l),d=YH(e,o);qH(u,d,r,i)&&(a.some(h=>h.gz===l.gz&&h.startYear===l.startYear)||a.push(l))}return a}function J2(e,t){if(!Number.isInteger(t)||t<1||t>12)throw new RangeError(`findSeForMonthPairs: month must be 1..12, got ${t}`);const n=new Date(e,t-1,1,0,0,0,0),r=new Date(e,t,1,0,0,0,0),i=bn(e,315),a=[],o=u=>{const d=ut(new Date(u,5,15,12,0,0,0)),h=Re(d||"");h&&(a.some(m=>m.useYear===u&&m.gz===h)||a.push({useYear:u,gz:h}))};return n<i&&i<r?(o(e-1),o(e)):r<=i?o(e-1):o(e),a}function gNe(e){const{seYears:t,daeList:n,natal:r,basis:i,unified:a,dayEl:o,baseDayStem:l,show:u,shinsalSettings:d}=e;if(t.length===0)return[];const h=Array.from(new Set(t)).sort((w,_)=>w-_),m=[],b=h[0],y=h[h.length-1],k=KH(n,b,y);if(k.length>0){const w=b,_=ut(new Date(w,5,15,12,0,0)),j=Re(_||""),O={:k.map(T=>{const C={dae:T.gz,se:j||null,wol:null,il:null};return Fo({scope:"",infoText:`${T.age} ${T.gz} (${T.startYear}~${T.endYear})`,gz:T.gz,chain:C,natal:r,relationArgs:{daewoon:T.gz,sewoon:j||void 0,wolwoon:void 0,ilwoon:void 0},basis:i,unified:a,dayEl:o,baseDayStem:l,show:u,shinsalSettings:d,harmonyMode:"scope",includeBasicInfo:!0})})};m.push(Uo("",O))}for(const w of h){const _=new Date(w,5,15,12,0,0),j=ut(_),O=WH(n,w),T=O.length>0?O[0]:null,C=Re(j||""),M=w,P={dae:T?T.gz:null,se:C||null,wol:null,il:null},I=Fo({scope:"",infoText:`${M} ${C}`,gz:C,chain:P,natal:r,relationArgs:{daewoon:T?.gz,sewoon:C||void 0,wolwoon:void 0,ilwoon:void 0},basis:i,unified:a,dayEl:o,baseDayStem:l,show:u,shinsalSettings:d,harmonyMode:"scope",includeBasicInfo:!0});m.push(Uo(` ${M}`,{:I}))}return m.filter(w=>w.trim().length>0)}function Ik(e){return String(e).padStart(2,"0")}function bNe(e,t){const n=new Date(e,t-1,1,12,0,0,0),r=new Date(e,t,1,12,0,0,0),i=bn(e,315),a=J2(e,t);if(!(n<i&&i<r)){const k=a[a.length-1]??(()=>{const w=Re(ut(new Date(e,5,15,12,0,0,0))||"");return{useYear:e,gz:w}})();return[{label:`${e}-${Ik(t)}`,repDate:new Date(e,t-1,15,12,0,0,0),se:k}]}const l=1440*60*1e3,u=new Date(i.getTime()-l);u.setHours(12,0,0,0);const d=new Date(i.getTime()+l);d.setHours(12,0,0,0);const h=a.find(k=>k.useYear===e-1)??a[0],m=a.find(k=>k.useYear===e)??a[a.length-1],b=h??{useYear:e-1,gz:Re(ut(new Date(e-1,5,15,12,0,0,0))||"")},y=m??{useYear:e,gz:Re(ut(new Date(e,5,15,12,0,0,0))||"")};return[{label:`${e}-${Ik(t)}()`,repDate:u,se:b},{label:`${e}-${Ik(t)}()`,repDate:d,se:y}]}function yNe(e){const{wolMonths:t,daeList:n,natal:r,basis:i,unified:a,dayEl:o,baseDayStem:l,show:u,shinsalSettings:d}=e;if(t.length===0)return[];const h=[],m=[],b=new Map;for(const O of t){const[T,C]=O.split("-").map(Number),M=Kv(n,T,C);for(const I of M)m.some(z=>z.gz===I.gz&&z.startYear===I.startYear)||m.push(I);const P=J2(T,C);for(const I of P){const z=`${I.useYear}:${I.gz}`;b.has(z)||b.set(z,{year:I.useYear,month:C,gz:I.gz})}}const[y,k]=t[0].split("-").map(Number),w=J2(y,k),_=w[w.length-1]?.gz??Re(ut(new Date(y,5,15,12,0,0,0))||"");if(m.length>0){const O={:m.map(T=>{const C={dae:T.gz,se:_||null,wol:null,il:null};return Fo({scope:"",infoText:`${T.age} ${T.gz} (${T.startYear}~${T.endYear})`,gz:T.gz,chain:C,natal:r,relationArgs:{daewoon:T.gz,sewoon:_||void 0,wolwoon:void 0,ilwoon:void 0},basis:i,unified:a,dayEl:o,baseDayStem:l,show:u,shinsalSettings:d,harmonyMode:"scope",includeBasicInfo:!0})})};h.push(Uo("",O))}const j=Array.from(b.keys()).sort((O,T)=>{const C=Number(O.split(":")[0]),M=Number(T.split(":")[0]);return C-M});if(j.length>0){const O={:j.map(T=>{const C=b.get(T),M=C.year,P=C.gz,z=WH(n,M)[0]??m[0]??null,K={dae:z?z.gz:null,se:P,wol:null,il:null};return Fo({scope:"",infoText:`${M} ${P}`,gz:P,chain:K,natal:r,relationArgs:{daewoon:z?.gz,sewoon:P,wolwoon:void 0,ilwoon:void 0},basis:i,unified:a,dayEl:o,baseDayStem:l,show:u,shinsalSettings:d,harmonyMode:"scope",includeBasicInfo:!0})})};h.push(Uo("",O))}for(const O of t){const[T,C]=O.split("-").map(Number),M=Kv(n,T,C),P=M.length>0?M[0]:null,z=bNe(T,C).map(K=>{const G=Ot(K.repDate),F=Re(G||""),B={dae:P?P.gz:null,se:K.se.gz||null,wol:F,il:null};return Fo({scope:"",infoText:`${K.label} ${F}  ${K.se.useYear} ${K.se.gz}`,gz:F,chain:B,natal:r,relationArgs:{daewoon:P?.gz,sewoon:K.se.gz||void 0,wolwoon:F,ilwoon:void 0},basis:i,unified:a,dayEl:o,baseDayStem:l,show:u,shinsalSettings:d,harmonyMode:"scope",includeBasicInfo:!0})});h.push(Uo(` ${O}`,{:z}))}return h.filter(O=>O.trim().length>0)}function $k(e){const t=e.getFullYear(),n=bn(t,315),r=e<n?t-1:t,i=ut(new Date(r,5,15,12,0,0,0)),a=Re(i||"");return{useYear:r,gz:a}}function vNe(e){const{ilDays:t,daeList:n,natal:r,basis:i,unified:a,dayEl:o,baseDayStem:l,show:u,shinsalSettings:d,dayBoundaryRule:h}=e;if(t.length===0)return[];const m=[],[b,y,k]=t[0].split("-").map(Number),w=new Date(b,y-1,k,4,0),_=new Date(b,y-1,k,12,0);if(!Number.isNaN(w.getTime())){const j=Kv(n,b,y),O=j.length>0?j[0]:null,T=[];for(const G of t){const[F,B,q]=G.split("-").map(Number),X=new Date(F,B-1,q,12,0),Z=new Date(F,B-1,q,4,0);if(Number.isNaN(X.getTime())||Number.isNaN(Z.getTime()))continue;const Y=$k(X),V=Re(Ot(X)||""),Q=Re(gt(Z,h)||""),se=`${Y.useYear}|${Y.gz}|${V}`;T.some(ce=>ce.key===se)||T.push({key:se,repDateStr:G,seYear:Y.useYear,seGZ:Y.gz,wolGZ:V,ilGZ:Q})}const C=Re(gt(w,h)||""),M=Re(Ot(_)||""),P=$k(_),I=T.length>0?T:[{key:`${P.useYear}|${P.gz}|${M}`,repDateStr:t[0],seYear:P.useYear,seGZ:P.gz,wolGZ:M,ilGZ:C}];if(O){const G=I[I.length-1],F={dae:O.gz,se:G.seGZ,wol:G.wolGZ,il:G.ilGZ},B=Fo({scope:"",infoText:`${O.age} ${O.gz} (${O.startYear}~${O.endYear})`,gz:O.gz,chain:F,natal:r,relationArgs:{daewoon:O.gz,sewoon:G.seGZ,wolwoon:G.wolGZ,ilwoon:G.ilGZ},basis:i,unified:a,dayEl:o,baseDayStem:l,show:u,shinsalSettings:d,harmonyMode:"scope",includeBasicInfo:!0});m.push(Uo("",B))}const z=I.filter(G=>G.seGZ.trim().length>0).map(G=>{const F={dae:O?O.gz:null,se:G.seGZ,wol:G.wolGZ,il:G.ilGZ};return Fo({scope:"",infoText:`${G.seYear} ${G.seGZ} (${G.repDateStr} )`,gz:G.seGZ,chain:F,natal:r,relationArgs:{daewoon:O?.gz,sewoon:G.seGZ,wolwoon:G.wolGZ,ilwoon:G.ilGZ},basis:i,unified:a,dayEl:o,baseDayStem:l,show:u,shinsalSettings:d,harmonyMode:"scope",includeBasicInfo:!0})});z.length>0&&m.push(Uo("",{:z}));const K=I.filter(G=>G.wolGZ.trim().length>0).map(G=>{const F={dae:O?O.gz:null,se:G.seGZ,wol:G.wolGZ,il:G.ilGZ};return Fo({scope:"",infoText:`${G.repDateStr} ${G.wolGZ}`,gz:G.wolGZ,chain:F,natal:r,relationArgs:{daewoon:O?.gz,sewoon:G.seGZ,wolwoon:G.wolGZ,ilwoon:G.ilGZ},basis:i,unified:a,dayEl:o,baseDayStem:l,show:u,shinsalSettings:d,harmonyMode:"scope",includeBasicInfo:!0})});K.length>0&&m.push(Uo("",{:K}))}for(const j of t){const[O,T,C]=j.split("-").map(Number),M=new Date(O,T-1,C,4,0),P=new Date(O,T-1,C,12,0);if(Number.isNaN(M.getTime())||Number.isNaN(P.getTime()))continue;const I=Kv(n,O,T),z=I.length>0?I[0]:null,G=$k(P).gz,F=Ot(P),B=Re(F||""),q=gt(M,h),X=Re(q||""),Z={dae:z?z.gz:null,se:G||null,wol:B,il:X},Y=Fo({scope:"",infoText:`${j} ${X}`,gz:X,chain:Z,natal:r,relationArgs:{daewoon:z?.gz,sewoon:G||void 0,wolwoon:B||void 0,ilwoon:X||void 0},basis:i,unified:a,dayEl:o,baseDayStem:l,show:u,shinsalSettings:d,harmonyMode:"scope",includeBasicInfo:!0});m.push(Uo(` ${j}`,{:Y}))}return m.filter(j=>j.trim().length>0)}function VH(e){const{ms:t,natal:n,basis:r,includeTenGod:i,unified:a,percent:o,category:l,selectedDaeList:u,daeList:d,seYears:h,wolMonths:m,ilDays:b,sections:y}=e,k=$H(t),w=Re(n[3]??""),_=t.mingSikType??"/",j=[Re(n[0]??""),Re(n[1]??""),Re(n[2]??""),w],O=BH(t,j),T=j[2]?.charAt(0)??"",C=Ys[T]??Ys[a.dayStem]??"",M=PH({natal:j,dayStem:T,perStemSource:a.natalFixed.overlay.perStemAugFull??a.natalFixed.overlay.perStemAugBare}),P=!!i&&(y?.tenGod??!0),I=y?.twelveUnseong??!0,z=y?.twelveShinsal??!0,K=y?.shinsal??!0,G=y?.nabeum??!0,{shinsalBase:F,shinsalEra:B,shinsalGaehwa:q}=TH.getState(),X=F===""?j[0]?.charAt(1)??"":j[2]?.charAt(1)??"",Z=`: ${t.name??""}  (${LH(t,k)}) 
${t.ganjiText} / : ${t.gender}`,Y=(pe,me)=>{const ee=(me??"").trim();return ee?`## ${pe}
${ee}`:""},V=[],{flags:Q}=l9(j,a.natalFixed.elementScoreRaw),se=`${l} (${o.toFixed(1)}%)  ${[` ${Q..||Q..||Q..||Q..?"":""}`,` ${Q..||Q..||Q..||Q..?"":""}`,` ${Q..||Q..?"":""}`].join("  ")}`,ce=[];ce.push(" ver."),ce.push(Y("",se));const W=aN({natal:j,perStemElementScaled:a.natalFixed.overlay.perStemAugFull??a.natalFixed.overlay.perStemAugBare,mode:"natal"});if(W&&ce.push(Y("()",Gv(W))),ce.push(Y("(  )",wu(Object.fromEntries(Object.entries(M.elementPercent100).map(([pe,me])=>[`${pe}(${DH(C,pe)})`,me]))))),P){const pe=V2(M.totalsSub100,T);ce.push(Y(" ( 10 100)",wu(pe)))}if(I){const pe=O.map((me,ee)=>{const je=j[ee]??"";return je?{pos:me,gz:je,value:so(T,je.charAt(1))}:null}).filter(Boolean);pe.length>0&&ce.push(Y("()",ba(pe)))}if(z){const pe=O.map((me,ee)=>{const je=j[ee]??"";return je?{pos:me,gz:je,value:lo({baseBranch:X,targetBranch:je.charAt(1),era:B,gaehwa:q})}:null}).filter(Boolean);pe.length>0&&ce.push(Y("()",ba(pe)))}if(G){const pe=O.map((me,ee)=>{const je=j[ee]??"";if(!je)return null;const xe=Hv(je);return xe?{pos:me,gz:je,value:xe.name}:null}).filter(Boolean);pe.length>0&&ce.push(Y("",ba(pe)))}const ne=vx(UAe(O,j));if(ce.push(Y("()",Yv(ne))),K){const pe=Fp({natal:j,daewoon:null,sewoon:null,wolwoon:null,ilwoon:null,basis:r});ce.push(Y("()",iN(pe)))}const ie=ce.filter(Boolean).join(`

`);ie&&V.push(ie),d.length>0&&u.length>0&&(V.push(" ver."),V.push(...pNe({selectedDaeList:u,daeList:d,natal:j,basis:r,unified:a,dayEl:C,baseDayStem:T,show:{tenGod:P,twelveUnseong:I,twelveShinsal:z,shinsal:K,nabeum:G},shinsalSettings:{baseBranch:X,era:B,gaehwa:q}}))),h.length>0&&(V.push(" ver."),V.push(...gNe({seYears:h,daeList:d,natal:j,basis:r,unified:a,dayEl:C,baseDayStem:T,show:{tenGod:P,twelveUnseong:I,twelveShinsal:z,shinsal:K,nabeum:G},shinsalSettings:{baseBranch:X,era:B,gaehwa:q}}))),m.length>0&&(V.push(" ver."),V.push(...yNe({wolMonths:m,daeList:d,natal:j,basis:r,unified:a,dayEl:C,baseDayStem:T,show:{tenGod:P,twelveUnseong:I,twelveShinsal:z,shinsal:K,nabeum:G},shinsalSettings:{baseBranch:X,era:B,gaehwa:q}}))),b.length>0&&(V.push(" ver."),V.push(...vNe({ilDays:b,daeList:d,natal:j,basis:r,unified:a,dayEl:C,baseDayStem:T,show:{tenGod:P,twelveUnseong:I,twelveShinsal:z,shinsal:K,nabeum:G},shinsalSettings:{baseBranch:X,era:B,gaehwa:q},dayBoundaryRule:_})));const he=(qv(V.join(`

`))??"").toString(),J=[];RH(J,{mode:"multi",isStudyTone:e.teacherMode===!0});const ae=J.join(`
`).trim();return{header:Z,body:he,guide:ae}}function xNe(e){const{header:t,body:n,guide:r}=VH(e);return[t,n,r].filter(i=>i&&i.trim().length>0).join(`

`)}function sN(e){if(!e)return null;const t=e.name||"";let n="";if(e.birthDay&&e.birthDay.length===8){const o=e.birthDay.slice(0,4),l=e.birthDay.slice(4,6),u=e.birthDay.slice(6,8);n=`${o}-${l}-${u}`}else e.birthDay&&(n=e.birthDay);let r="";if(e.birthTime&&e.birthTime.trim().length>0){const l=e.birthTime.trim().padEnd(4,"0").slice(0,4),u=l.slice(0,2),d=l.slice(2,4);r=`${u}:${d}`}let i="";e.birthPlace&&typeof e.birthPlace=="object"&&(i=e.birthPlace.name||"");const a=e.ganji||e.ganjiText||"";return{name:t,birthDate:n,birthTime:r,birthPlace:i,ganjiText:a}}function wNe(e){const{header:t,body:n}=GH(e),r=e.relationMode==="couple"?sN(e.partnerMs??null):null,i=r?FH("  ",r):"";return[t,n,i].filter(a=>a&&a.trim().length>0).join(`

`)}function _Ne(e){const{header:t,body:n}=VH(e),r=e.relationMode==="couple"?sN(e.partnerMs??null):null,i=r?FH("  ",r):"";return[t,n,i].filter(a=>a&&a.trim().length>0).join(`

`)}function SNe(e){const t=(e??"").trim();if(!t)return"";const n=[/\r?\n-----\s*\r?\n/,/\r?\n?\s*\s*/,/\r?\n?\s*\s*/,/\r?\n##\s*\s*/,/\r?\n##\s*/,/\r?\n?###\s*/,/\r?\n?\s*\s*/,/\r?\n?\s*\s*/];let r=-1;for(const i of n){const a=t.search(i);a>=0&&(r=r<0?a:Math.min(r,a))}return r>=0?t.slice(0,r).trimEnd():t}function kNe(e){return e?`    .
`:""}function ENe(e){return e?` /  .
`:""}function jNe(e,t){if(e!=="couple")return"";const n=sN(t);return n?["","","[  -   ]","",`-  : ${n.name}`,`-  : ${n.birthDate}`,`-  : ${n.birthTime}`,`-  : ${n.birthPlace}`,`- ${n.ganjiText}`,"","  /  ,","     .",""].join(`
`):""}function lN(e){if(!e)return["","","",""];let t=Number(e.birthDay?.slice(0,4)??2e3),n=Number(e.birthDay?.slice(4,6)??1),r=Number(e.birthDay?.slice(6,8)??1);if(e.calendarType==="lunar"){const T=ea(t,n,r);t=T.getFullYear(),n=T.getMonth()+1,r=T.getDate()}const i=!e.birthTime||e.birthTime==="",a=i?4:Number(e.birthTime.slice(0,2)),o=i?30:Number(e.birthTime.slice(2,4)),l=new Date(t,n-1,r,a,o,0,0),u=!e.birthPlace||e.birthPlace.name===""||!e.birthPlace.lon?127.5:e.birthPlace.lon,d=Lp(l,u,i),h=e.mingSikType??"/",m=ut(d,u),b=Ot(d,u),y=gt(d,h),k=i?null:ao(d,h),w=Re(m),_=Re(b),j=Re(y),O=k?Re(k):"";return[w,_,j,O]}function ZH(e){const t=new Date(e.corrected),n=lN(e),r=n[0].charAt(0),a=["","","","",""].includes(r),o=e.gender==="",l=o&&a||!o&&!a?"forward":"backward",u=Bp(t,n[1],l,120,e.birthPlace?.lon??127.5),d=u.firstChange;if(!d)return[];const h=[];let m=Re(u.events[0]?.gz??n[1]);for(let b=0;b<10;b++){const y=new Date(d);if(y.setFullYear(y.getFullYear()+b*10),b>0){const k=u.events[b];k&&(m=Re(k.gz))}h.push(`${y.getFullYear()} ${String(y.getMonth()+1).padStart(2,"0")} ${m}  `)}return h}function Zl(e){return Re(e)}function TNe(e){return e[0]?.length===2&&e[1]?.length===2&&e[2]?.length===2}function Q$(e){const t=Array.isArray(e)?e.slice(0,4):[];for(;t.length<4;)t.push("");return t.map((n,r)=>{const i=Re(n??"");return i||(r<=2?"--":"")})}function XH(e,t){if(!Array.isArray(e)||e.length===0)return null;const n=t.getTime();for(let r=e.length-1;r>=0;r-=1){const i=e[r];if(n>=i.at.getTime())return i.gz}return e[0].gz}function ANe(e,t){if(!Array.isArray(e)||e.length===0)return null;const n=e.map(r=>{const i=String(r??"").match(/(\d{4})\s*(\d{1,2})\s*([-]{2})/);if(!i)return null;const a=Number(i[1]),o=Number(i[2]),l=Zl(i[3]??"");return!Number.isFinite(a)||!Number.isFinite(o)||!l?null:{at:new Date(a,o-1,1,12,0,0,0),gz:l}}).filter(Boolean);return XH(n,t)}function NNe(e,t,n,r,i){const a=Zl(ut(t)||""),o=Zl(Ot(t)||""),l=Zl(gt(t,n)||"");let u=e?.dae?Zl(e.dae):null;if(!u&&r)if(i&&i.length>0)u=XH(i,t);else{const d=ZH(r);u=ANe(d,t)}return e?{dae:u,se:e.se??(a||null),wol:e.wol??(o||null),il:e.il??(l||null)}:{dae:u,se:a||null,wol:o||null,il:l||null}}function ONe(e,t){const n=Q$(e),r=Q$(t);return{solarKo:n,lunarKo:r}}function e5(e,t){if(!t)return e;const n=io(e[2]||"",-1);return[e[0],e[1],n,e[3]]}function Q2(e,t,n){const r=[...e];return n&&(!r[3]||r[3]===""||r[3]==="--")&&t&&(r[3]=t.stem+t.branch),r}function CNe(e,t,n){return e?"solar":t?"lunar":"solar"}function MNe(e,t,n,r,i,a,o,l){return Q2(e==="lunar"?n?i:t?r:a??["","","",""]:t?r:n?i:a??["","","",""],o,l)}function DNe(e,t){const n=Number(e.birthDay?.slice(0,4)),r=Number(e.birthDay?.slice(4,6)),i=Number(e.birthDay?.slice(6,8));if(!Number.isFinite(n)||!Number.isFinite(r)||!Number.isFinite(i))return null;const a=new Date(n,r-1,i,12,4,0,0),o=Zl(ut(a)||""),l=Zl(Ot(a)||""),u=Zl(gt(a,t)||"");return[o,l,u,""]}function PNe(e,t){return t&&e?e.stem+e.branch:""}function RNe(e,t,n){const i=[...lN(e)];return n&&t&&t.length===2&&(i[3]=t),i}function LNe(e){const t=v9(e,{criteriaMode:"modern",useHarmonyOverlay:!0}),n=xT(t);return{percent:n,category:F7(n)}}function INe(e,t){const n=e.birthDay?Number(e.birthDay.slice(0,4)):0;return t&&t.length>0?t.slice(0,10).map((i,a)=>{const o=i.at.getFullYear(),l=i.at.getMonth()+1,u=i.at.getDate(),d=n>0?n5(n,o):a*10;return{gz:i.gz,age:d,startYear:o,startMonth:l,startDay:u,endYear:o+10}}):ZH(e).slice(0,10).map((i,a)=>{const o=i.match(/(\d{4})\s+(\d{1,2})\s+([-]{2})\s+/),l=o?Number(o[1]):0,u=o?Number(o[2]):1,d=1,h=o?o[3]:"",m=n>0?n5(n,l):a*10;return{gz:h,age:m,startYear:l,startMonth:u,startDay:d,endYear:l+10}})}function $Ne(e,t){return e.filter(n=>n.id!==t).map(n=>{const r=(n.name??"").trim()||" ",i=n.birthDay?n.birthDay:"",a=i?`${r} (${i})`:r;return{id:n.id,label:a}})}function BNe(e,t){if(!e)return"";if(t.length===0)return e;const n=["","-----","     ","",...t.map((r,i)=>`${i+1}. ${r}`)];return`${e}
${n.join(`
`)}`}function t5(e){return TNe(e)}function n5(e,t){return t-e+1}function zNe({ms:e,natal:t,lunarPillars:n,chain:r,basis:i,includeTenGod:a=!1,canUseMultiMode:o,canUseLuckTabs:l,input:u}){const{friendMode:d,teacherMode:h,partnerId:m,mainCategory:b,subCategory:y,relationMode:k,activeTab:w,isMultiMode:_,multiTab:j,selectedDaeIdx:O,rangeControls:T,extraQuestions:C,sections:M}=u,P=jn(zn=>zn.list),{date:I,setDate:z}=ni(),K=Ks();S.useEffect(()=>{z(new Date)},[e.id,z]);const G=S.useMemo(()=>m?P.find(zn=>zn.id===m)??null:null,[m,P]),F=e.mingSikType??"/",B=dc(e,F,100,K),q=S.useMemo(()=>B.slice(1),[B]),X=S.useMemo(()=>I??new Date,[I]),Z=S.useMemo(()=>NNe(r,X,F,e,q),[r,X,F,e,q]),Y=S.useMemo(()=>l?Z:{dae:null,se:null,wol:null,il:null},[l,Z]),V=qi(zn=>zn.manualHour),Q=qi(zn=>zn.usePrevDay),se=!e.birthTime||e.birthTime===""||!/^\d{4}$/.test(e.birthTime??""),{solarKo:ce,lunarKo:W}=S.useMemo(()=>ONe(t,n),[t,n]),ne=S.useMemo(()=>Q2(ce,V,se),[ce,V,se]),ie=S.useMemo(()=>Q2(W,V,se),[W,V,se]),he=S.useMemo(()=>DNe(e,F),[e,F]),J=t5(ne),ae=t5(ie),pe=CNe(J,ae),me=S.useMemo(()=>MNe(pe,J,ae,ne,ie,he,V,se),[pe,J,ae,ne,ie,he,V,se]),ee=S.useMemo(()=>e5(me,Q),[me,Q]),je=S.useMemo(()=>se&&V?V.stem+V.branch:ee[3]||"",[V,ee,se]),xe=PNe(V,se),ue=S.useMemo(()=>RNe(e,xe,se),[e,xe,se]),Ee=S.useMemo(()=>e5(ue,Q),[ue,Q]),Me=l?w:"",Ie=b==="love"||b==="compat",ht=Ie&&k==="couple"?G??null:null,mt=Ie?k:void 0,De=S.useMemo(()=>Hp({natal:Ee,tab:Me,chain:Y,hourKey:je}),[Ee,Me,Y,je]),{percent:ze,category:Ge}=S.useMemo(()=>LNe(Ee),[Ee]),oe=S.useMemo(()=>INe(e,q),[e,q]),Ce=S.useMemo(()=>$Ne(P??[],e.id),[P,e.id]),Ue=S.useMemo(()=>O.map(zn=>oe[zn]).filter(zn=>!!zn),[O,oe]),rt=S.useMemo(()=>j===""?T.seYearsList:[],[j,T.seYearsList]),xt=S.useMemo(()=>j===""?T.wolMonthsList:[],[j,T.wolMonthsList]),st=S.useMemo(()=>j===""?T.ilDaysList:[],[j,T.ilDaysList]),Oe=S.useMemo(()=>e?mNe({ms:e,natal:Ee,chain:Y,basis:i,tab:Me,unified:De,percent:ze,category:Ge,teacherMode:h,sections:M}):"",[e,i,a,Me,Y,De,ze,Ge,Ee,b,y,k,ht,h,M,X]),Fe=S.useMemo(()=>!e||!_||!o?"":xNe({ms:e,natal:Ee,basis:i,includeTenGod:a,unified:De,percent:ze,category:Ge,selectedDaeList:Ue,daeList:oe,seYears:rt,wolMonths:xt,ilDays:st,teacherMode:h,sections:M}),[e,_,o,rt,Ue,oe,xt,st,Ee,i,a,De,ze,Ge,b,y,mt,ht,h,d,M]),We=S.useMemo(()=>jNe(k,G),[k,G]),bt=_?Fe:Oe,At=S.useMemo(()=>ENe(h),[h]),Nt=S.useMemo(()=>kNe(d),[d]),Mt=S.useMemo(()=>bt||We?`${bt}${We}
${At}${Nt}`:"",[At,Nt,bt,We]),Kt=S.useMemo(()=>BNe(Mt,C),[Mt,C]),rn=S.useMemo(()=>e?_?_Ne({ms:e,natal:Ee,basis:i,includeTenGod:a,unified:De,percent:ze,category:Ge,selectedDaeList:Ue,daeList:oe,seYears:rt,wolMonths:xt,ilDays:st,relationMode:mt,partnerMs:ht,teacherMode:h,sections:M}):wNe({ms:e,natal:Ee,chain:Y,basis:i,tab:Me,unified:De,percent:ze,category:Ge,relationMode:k,partnerMs:ht,teacherMode:h,sections:M}):"",[e,_,Ee,i,a,De,ze,Ge,Ue,oe,rt,xt,st,b,y,k,mt,ht,h,d,M,Y,Me,X]),ai=S.useMemo(()=>{const zn=rn.trim();if(zn)return zn;const Pe=SNe(bt).trim();return Pe||bt.trim()},[rn,bt]);return{date:I,setDate:z,partnerMs:G,partnerOptions:Ce,daeList:oe,tabForLogic:Me,baseText:bt,basePrompt:Mt,finalText:Kt,infoOnlyText:ai,allowManualHour:se,activePillars:ee}}function r5(e,t=1200){const[n,r]=S.useState(!1),i=!!(e&&e.trim().length>0),a=S.useCallback(async()=>{if(i)try{await navigator.clipboard.writeText(e),r(!0),setTimeout(()=>r(!1),t)}catch{r(!1)}},[i,e,t]);return{copied:n,canCopy:i,onCopy:a}}function UNe(e,t){const{copied:n,canCopy:r,onCopy:i}=r5(e),{copied:a,canCopy:o,onCopy:l}=r5(t);return{copiedAll:n,copiedInfo:a,canCopyAll:r,canCopyInfo:o,onCopyAll:i,onCopyInfoOnly:l}}function FNe({ms:e,natal:t,lunarPillars:n,chain:r,basis:i,includeTenGod:a=!1}){const o=jn(G=>G._rtUserId),u=wAe()??o??null,d=vn(G=>G.loaded),h=vn(G=>G.userId),m=vn(G=>G.plan),b=S.useMemo(()=>Om(!u||!d||h!==u?"FREE":m??null),[u,d,h,m]),y=S.useMemo(()=>AE(b),[b]),k=y.canUseMultiMode,w=y.canUseLuckTabs,_=y.canUseAllPrompts?"full":"locked",j=kAe({msId:e.id,canUseMultiMode:k,canUseLuckTabs:w}),O=zNe({ms:e,natal:t,lunarPillars:n,chain:r,basis:i,includeTenGod:a,canUseMultiMode:k,canUseLuckTabs:w,input:j}),{copiedAll:T,copiedInfo:C,canCopyAll:M,canCopyInfo:P,onCopyAll:I,onCopyInfoOnly:z}=UNe(O.finalText,O.infoOnlyText);function K(G,F){j.setMainCategory(G),j.setSubCategory(F?.[0]?.key??"overview")}return{sections:j.sections,toggleSection:j.toggleSection,friendMode:j.friendMode,setFriendMode:j.setFriendMode,teacherMode:j.teacherMode,setTeacherMode:j.setTeacherMode,date:O.date,setDate:O.setDate,planTier:b,promptAccess:_,canUseMultiMode:k,canUseLuckTabs:w,partnerId:j.partnerId,setPartnerId:j.setPartnerId,partnerMs:O.partnerMs,mainCategory:j.mainCategory,subCategory:j.subCategory,setSubCategory:j.setSubCategory,relationMode:j.relationMode,setRelationMode:j.setRelationMode,activeTab:j.activeTab,setActiveTab:j.setActiveTab,isMultiMode:j.isMultiMode,setIsMultiMode:j.setIsMultiMode,multiTab:j.multiTab,setMultiTab:j.setMultiTab,selectedDaeIdx:j.selectedDaeIdx,handleToggleDae:j.handleToggleDae,rangeControls:j.rangeControls,partnerOptions:O.partnerOptions,daeList:O.daeList,tabForLogic:O.tabForLogic,baseText:O.baseText,basePrompt:O.basePrompt,finalText:O.finalText,infoOnlyText:O.infoOnlyText,copiedAll:T,copiedInfo:C,canCopyAll:_==="full"&&M,canCopyInfo:_==="full"&&P,onCopyAll:I,onCopyInfoOnly:z,handleMainCategoryChange:K,setQuestionDraft:j.setQuestionDraft,questionDraft:j.questionDraft,extraQuestions:j.extraQuestions,setExtraQuestions:j.setExtraQuestions,handleAddQuestion:j.handleAddQuestion,handleRemoveQuestion:j.handleRemoveQuestion,handleClearQuestions:j.handleClearQuestions,allowManualHour:O.allowManualHour,activePillars:O.activePillars}}function HNe({ms:e,natal:t,chain:n,basis:r,lunarPillars:i,includeTenGod:a=!1}){const o=FNe({ms:e,natal:t,chain:n,basis:r,lunarPillars:i,includeTenGod:a}),l=G$[o.mainCategory];if(!e)return g.jsx("div",{className:"p-4 border rounded bg-neutral-50 dark:bg-neutral-900 text-sm text-neutral-500",children:"  ."});const u=o.promptAccess!=="full",d=u?"    . ":void 0,h=!u&&o.canCopyAll,m="https://gemini.google.com/app",b="https://chatgpt.com/",y=async k=>{await o.onCopyAll(),!(typeof window>"u")&&window.open(k,"_blank","noopener,noreferrer")};return g.jsxs("div",{className:"relative rounded-xl border border-neutral-200 dark:border-neutral-800 bg-white dark:bg-neutral-900 p-3 space-y-2 desk:space-y-3",children:[u?g.jsx("div",{className:"absolute inset-0 z-10 rounded-xl bg-white/70 dark:bg-neutral-900/70 backdrop-blur-[1px] flex items-center justify-center p-4",children:g.jsxs("div",{className:"max-w-sm text-center border border-neutral-300 dark:border-neutral-700 rounded-xl bg-white dark:bg-neutral-900 px-4 py-3 shadow-sm",children:[g.jsx("div",{className:"text-lg font-semibold",children:"  "}),g.jsxs("div",{className:"text-sm text-neutral-600 dark:text-neutral-300 mt-1",children:["   /  .",g.jsx("br",{}),"    100   ! (  )"]})]})}):null,g.jsx(dAe,{}),g.jsx(fAe,{sections:o.sections,toggleSection:o.toggleSection}),g.jsx(hAe,{mainCategory:o.mainCategory,subCategory:o.subCategory,mainCategoryMeta:xAe,currentSubList:l,onMainCategoryChange:k=>o.handleMainCategoryChange(k,G$[k]),onSubCategoryChange:o.setSubCategory}),g.jsx(mAe,{visible:o.mainCategory==="love"||o.mainCategory==="compat",relationMode:o.relationMode,setRelationMode:o.setRelationMode,partnerId:o.partnerId,setPartnerId:o.setPartnerId,partnerOptions:o.partnerOptions}),g.jsx(pAe,{isMultiMode:o.canUseMultiMode?o.isMultiMode:!1,setIsMultiMode:k=>{!o.canUseMultiMode&&k||o.setIsMultiMode(k)},canUseMultiMode:o.canUseMultiMode}),o.isMultiMode?g.jsx(bAe,{multiTab:o.multiTab,setMultiTab:o.setMultiTab,daeList:o.daeList.map(k=>({gz:k.gz,age:k.age,startYear:k.startYear,endYear:k.endYear})),selectedDaeIdx:o.selectedDaeIdx,onToggleDae:o.handleToggleDae,seStartYear:o.rangeControls.seStartYear,seEndYear:o.rangeControls.seEndYear,onSeStartChange:o.rangeControls.onSeStartChange,onSeEndChange:o.rangeControls.onSeEndChange,onSeStartBlur:o.rangeControls.onSeStartBlur,onSeEndBlur:o.rangeControls.onSeEndBlur,seYearsCount:o.rangeControls.seYearsCount,wolStartDate:o.rangeControls.wolStartYM,wolEndDate:o.rangeControls.wolEndYM,onWolStartChange:o.rangeControls.onWolStartChange,onWolEndChange:o.rangeControls.onWolEndChange,onWolStartBlur:o.rangeControls.onWolStartBlur,onWolEndBlur:o.rangeControls.onWolEndBlur,wolMonthsCount:o.rangeControls.wolMonthsCount,ilStartDate:o.rangeControls.ilStartDate,ilEndDate:o.rangeControls.ilEndDate,onIlStartChange:o.rangeControls.onIlStartChange,onIlEndChange:o.rangeControls.onIlEndChange,onIlStartBlur:o.rangeControls.onIlStartBlur,onIlEndBlur:o.rangeControls.onIlEndBlur,ilDaysCount:o.rangeControls.ilDaysCount}):g.jsx(gAe,{tabs:vAe,activeTab:o.tabForLogic,setActiveTab:k=>{!o.canUseLuckTabs&&k!==""||o.setActiveTab(k)},date:o.date,setDate:o.setDate,canUseLuckTabs:o.canUseLuckTabs}),g.jsx(yAe,{value:o.finalText,lockSelection:u}),g.jsx("div",{className:"flex justify-end",children:g.jsxs("div",{className:"flex flex-col desk:flex-row gap-2 w-full desk:w-auto",children:[g.jsx("button",{type:"button",onClick:o.onCopyAll,disabled:!h,title:h?void 0:d,className:["w-full desk:w-auto px-3 py-1 rounded-md text-xs whitespace-nowrap",h?"cursor-pointer":"cursor-not-allowed opacity-50",o.copiedAll?"bg-green-600 text-white":"bg-neutral-900 text-white dark:bg-yellow-500 dark:text-black"].join(" "),children:o.copiedAll?"":`${h?"":" "}`}),g.jsx("button",{type:"button",onClick:()=>void y(m),disabled:!h,title:h?void 0:d,className:["w-full desk:w-auto px-3 py-1 rounded-md text-xs whitespace-nowrap",h?"cursor-pointer bg-blue-600 text-white dark:bg-blue-500":"cursor-not-allowed opacity-50 bg-blue-600 text-white dark:bg-blue-500"].join(" "),children:`   ${h?"":" "}`}),g.jsx("button",{type:"button",onClick:()=>void y(b),disabled:!h,title:h?void 0:d,className:["w-full desk:w-auto px-3 py-1 rounded-md text-xs whitespace-nowrap",h?"cursor-pointer bg-emerald-600 text-white dark:bg-emerald-500":"cursor-not-allowed opacity-50 bg-emerald-600 text-white dark:bg-emerald-500"].join(" "),children:`   ${h?"":" "}`})]})})]})}function GNe(){const[e,t]=S.useState(null),[n,r]=S.useState(!1),[i,a]=S.useState(!1),[o]=S.useState(()=>typeof window>"u"?!1:window.location.pathname.startsWith("/admin"));return{userId:e,setUserId:t,authChecked:n,setAuthChecked:r,isLoggedIn:i,setIsLoggedIn:a,adminMode:o}}function YNe(){const e=jn(r=>r.loading),t=nn(r=>r.loaded),n=vn(r=>r.loaded);return{loading:e,settingsLoaded:t,entLoaded:n}}const i5="app_session_started_at_ms",qNe=7200*1e3;function KNe(){if(typeof window>"u")return null;try{return window.sessionStorage}catch{return null}}function WNe(){const e=KNe();if(!e)return Date.now();const t=e.getItem(i5),n=t?Number(t):NaN;if(!Number.isFinite(n)||n<=0){const r=Date.now();try{e.setItem(i5,String(r))}catch{}return r}return n}function VNe(e=Date.now()){const t=WNe();return Math.max(0,e-t)}function ZNe(e,t=Date.now()){return VNe(t)>=e}async function XNe(e,t){const{data:n,error:r}=await Le.from("user_settings_kv").select("value").eq("user_id",e).eq("setting_key",t).maybeSingle();if(r)throw r;return n?.value??null}async function JNe(e,t,n){const{error:r}=await Le.from("user_settings_kv").upsert({user_id:e,setting_key:t,value:n},{onConflict:"user_id,setting_key"});if(r)throw r}const QNe=e=>typeof e=="object"&&e!==null&&!Array.isArray(e);function ef(e){if(e===null)return"null";if(e===void 0)return"undefined";const t=typeof e;return t==="string"?JSON.stringify(e):t==="number"||t==="boolean"?String(e):Array.isArray(e)?`[${e.map(ef).join(",")}]`:QNe(e)?`{${Object.keys(e).sort().map(i=>`${JSON.stringify(i)}:${ef(e[i])}`).join(",")}}`:e instanceof Date?`{"$date":${JSON.stringify(e.toISOString())}}`:JSON.stringify(String(e))}function eOe(e,t){let n=null;return(...r)=>{n!==null&&window.clearTimeout(n),n=window.setTimeout(()=>{n=null,e(...r)},t)}}function tOe(e,t){const n=t.debounceMs??400;let r=!1,i=null,a=ef(t.select(t.store.getState()));const o=eOe(async m=>{try{await JNe(e,t.dbKey,m),a=ef(m)}catch(b){console.error(`[settings] save failed key=${t.dbKey}`,b)}},n),l=m=>{r=!0;try{t.apply(m),a=ef(m)}finally{r=!1}},u=m=>{t.validate&&!t.validate(m)||l(m)},d=async()=>{const m=await XNe(e,t.dbKey);m!==null&&u(m)};i=t.store.subscribe(m=>{if(r)return;const b=t.select(m);ef(b)!==a&&o(b)});const h=()=>{i&&i(),i=null};return{dbKey:t.dbKey,loadFromDb:d,applyRemote:u,stop:h}}function nOe(e){if(typeof e!="object"||e===null)return!1;const t=e;return["twelveUnseong","twelveShinsal","shinsal","nabeum"].every(r=>typeof t[r]=="boolean")}function Bk(e){return typeof e=="object"&&e!==null&&!Array.isArray(e)}function rOe(e){S.useEffect(()=>{if(!e)return;const t=[];t.push(tOe(e,{dbKey:"promptCopy.sections",store:Uv,select:o=>o.sections,apply:o=>Uv.setState({sections:o}),validate:nOe,debounceMs:250})),Promise.all(t.map(o=>o.loadFromDb())).catch(o=>{console.error("[settings] initial load failed",o)});const n=[{table:"user_settings_kv",filterByUserId:!0}],r=new Map,i=(o,l,u)=>{const d=r.get(o);d&&window.clearTimeout(d);const h=window.setTimeout(()=>{r.delete(o),u()},l);r.set(o,h)},a=Le.channel(`app-sync:${e}`);for(const o of n)a.on("postgres_changes",{event:"*",schema:"public",table:o.table,...o.filterByUserId?{filter:`user_id=eq.${e}`}:{}},l=>{if(ZNe(qNe)){window.location.reload();return}if(o.table==="user_settings_kv"){if(!Bk(l))return;const u=l.new,d=l.old,h=w=>Bk(w)&&typeof w.setting_key=="string"?w.setting_key:null,m=w=>Bk(w)?w.value:null,b=h(u)??h(d);if(!b)return;const y=t.find(w=>w.dbKey===b);if(!y)return;const k=typeof l.eventType=="string"?l.eventType:"";if(k==="INSERT"||k==="UPDATE"){y.applyRemote(m(u));return}y.loadFromDb();return}if(o.onChange){const u=typeof o.debounceMs=="number"?o.debounceMs:0;u>0?i(o.table,u,()=>o.onChange?.(l)):o.onChange(l)}});return a.subscribe(),()=>{for(const o of t)o.stop();for(const[,o]of r)window.clearTimeout(o);r.clear(),Le.removeChannel(a)}},[e])}function iOe({setUserId:e,setIsLoggedIn:t,setAuthChecked:n}){S.useEffect(()=>{const r=Le;let i=!1,a=null;const o=h=>{const m=h?.user?.id??null;t(!!h),e(m)},l=h=>{o(h),h&&U6(Date.now()),i||(i=!0,n(!0))};(async()=>{const{data:h,error:m}=await r.auth.getSession();if(m){l(null);return}if(h.session){l(h.session);return}a=window.setTimeout(()=>l(null),1200)})();const{data:{subscription:d}}=r.auth.onAuthStateChange((h,m)=>{a!==null&&(window.clearTimeout(a),a=null),l(m),m||jn.getState().stopRealtime()});return()=>{a!==null&&window.clearTimeout(a),d.unsubscribe()}},[n,t,e])}function aOe(e){iOe({setUserId:e.setUserId,setIsLoggedIn:e.setIsLoggedIn,setAuthChecked:e.setAuthChecked}),rOe(e.userId)}function oOe(e){const[t,n]=S.useState(()=>e.length>0?e[0].id:""),[r,i]=S.useState(!1),[a,o]=S.useState(!1),[l,u]=S.useState(null),[d,h]=S.useState(!0),[m,b]=S.useState(!1),[y,k]=S.useState(!1);return{currentId:t,setCurrentId:n,wizardOpen:r,setWizardOpen:i,showSidebar:a,setShowSidebar:o,editing:l,setEditing:u,showToday:d,setShowToday:h,showCouple:m,setShowCouple:b,openCustom:y,setOpenCustom:k}}function sOe(e){const t=ni(i=>i.date),n=ni(i=>i.rule),r=dc(e);return S.useMemo(()=>{if(!e)return{dae:null,se:null,wol:null,il:null};const i=wx(r,t),a=i>=0?r[i]?.gz??null:null,o=ut(t),l=Ot(t),u=gt(t,n);return{dae:a,se:o,wol:l,il:u}},[e,r,t,n])}const lOe=e=>typeof e=="string"&&e.length>=2,cOe=e=>Array.isArray(e)&&e.length===4&&e.every(lOe);function uOe({list:e,currentId:t,settings:n,emptyMs:r}){const i=S.useMemo(()=>e.find(b=>b.id===t)??e[0],[e,t]),a=e.length>0&&!!i&&typeof i.birthDay=="string",o=a?i:r,l=S.useMemo(()=>lN(o),[o]),u=sOe(o),d=vn(b=>b.canAddMyeongsik(e.length).ok),h=n.sinsalBase===""?"day":"year",m=n.sinsalBase===""?"day":"year";return{current:i,hasCurrent:a,msForHooks:o,natal:l,chain:u,isValidPillars:cOe,canAdd:d,voidBasis:h,samjaeBasis:m}}function dOe({canAdd:e,hasCurrent:t,current:n,isLoggedIn:r,setWizardOpen:i,setOpenCustom:a,setShowSidebar:o,setShowToday:l,setShowCouple:u,setCurrentId:d,setEditing:h}){const{settings:m,saveToServer:b,loaded:y}=nn();S.useEffect(()=>{!r||!y||b()},[r,y,m,b]);const k=S.useCallback(()=>{if(!e){Bn.error("   1   .");return}i(!0)},[e,i]),w=S.useCallback(()=>{if(!e){Bn.error("   1   .");return}a(!0)},[e,a]),_=S.useCallback(M=>{d(M.id),o(!1),l(!1),u(!1);const P=new Date;P.setHours(12,0,0,0),ni.getState().setDate(P),t&&n?.id===M.id&&(l(!1),u(!1),o(!1))},[n,t,d,o,l,u]),j=S.useCallback(M=>{h(M),d(M.id),o(!1),l(!1),u(!1)},[h,d,o,l,u]),O=S.useCallback(()=>{const M=jn.getState().list[0]?.id??"";d(M),l(!0),u(!1)},[d,l,u]),T=S.useCallback(M=>{d(M.id),l(!1),u(!1),o(!1),requestAnimationFrame(()=>i(!1))},[d,l,u,o,i]),C=S.useCallback(M=>{d(M.id),l(!1),u(!1),o(!1)},[d,l,u,o]);return{openAdd:k,openCustomModal:w,handleSidebarView:_,handleSidebarEdit:j,handleSidebarDeleteView:O,handleWizardSave:T,handleCustomSave:C}}function fOe(){return g.jsx("div",{className:"pt-16 pb-24",children:g.jsxs("div",{className:"max-w-[640px] mx-auto px-4",children:[g.jsx("div",{className:"flex items-center justify-between gap-3 mb-4",children:g.jsxs("div",{className:"flex items-center gap-2",children:[g.jsx(x4,{className:"w-5 h-5 text-neutral-700 dark:text-neutral-200"}),g.jsx("h2",{className:"text-lg font-bold text-neutral-900 dark:text-neutral-100",children:"  "})]})}),g.jsxs("div",{className:"space-y-3",children:[g.jsxs("details",{className:"rounded-xl border border-neutral-200 bg-white p-4 dark:border-neutral-800 dark:bg-neutral-900/40",children:[g.jsx("summary",{className:"text-sm desk:text-base cursor-pointer select-none font-semibold text-neutral-900 dark:text-neutral-100",children:"Q.   ."}),g.jsxs("div",{className:"mt-3 text-xs desk:text-sm leading-relaxed text-neutral-700 dark:text-neutral-200",children:[g.jsxs("p",{children:["A.  ",g.jsx("b",{children:""})," ",g.jsx("b",{children:""}),"   .   ,    ."]}),g.jsxs("p",{className:"mt-2",children:[" ",g.jsx("b",{children:"*"}),"   ",g.jsx("b",{children:" "})," ",g.jsx("b",{children:"8*"}),"  ",g.jsx("b",{children:"    "}),"      ."]}),g.jsxs("p",{className:"mt-2",children:[" ",g.jsx("b",{children:" "}),"     ."]})]})]}),g.jsxs("details",{className:"rounded-xl border border-neutral-200 bg-white p-4 dark:border-neutral-800 dark:bg-neutral-900/40",children:[g.jsx("summary",{className:"text-sm desk:text-base cursor-pointer select-none font-semibold text-neutral-900 dark:text-neutral-100",children:"Q.     ."}),g.jsxs("div",{className:"mt-3 text-xs desk:text-sm leading-relaxed text-neutral-700 dark:text-neutral-200",children:[g.jsxs("p",{children:["A.    . ",g.jsx("b",{children:"*"}),", ",g.jsx("b",{children:"8*"}),"    ."]}),g.jsxs("p",{className:"mt-2",children:[" ",g.jsx("b",{children:""})," (  8   -  )   ."]}),g.jsxs("p",{className:"mt-2",children:["(    ,    ",g.jsx("b",{children:" "})," .)"]}),g.jsx("p",{className:"mt-2",children:" .    .    ,   ( )     ."})]})]}),g.jsxs("details",{className:"rounded-xl border border-neutral-200 bg-white p-4 dark:border-neutral-800 dark:bg-neutral-900/40",children:[g.jsx("summary",{className:"text-sm desk:text-base cursor-pointer select-none font-semibold text-neutral-900 dark:text-neutral-100",children:"Q.     ."}),g.jsxs("div",{className:"mt-3 text-xs desk:text-sm leading-relaxed text-neutral-700 dark:text-neutral-200",children:[g.jsx("p",{children:"A.     .         ,       ."}),g.jsx("p",{className:"mt-2",children:"    ,      ."}),g.jsxs("p",{className:"mt-2",children:["(   ",g.jsx("b",{children:" "}),"  ^^)",g.jsx("br",{}),g.jsx("a",{href:"https://5seasons.co.kr/",target:"_blank",children:g.jsx("ins",{className:"text-amber-500",children:"   !"})})]})]})]}),g.jsxs("details",{className:"rounded-xl border border-neutral-200 bg-white p-4 dark:border-neutral-800 dark:bg-neutral-900/40",children:[g.jsx("summary",{className:"text-sm desk:text-base cursor-pointer select-none font-semibold text-neutral-900 dark:text-neutral-100",children:"Q.  ''   ?"}),g.jsxs("div",{className:"mt-3 text-xs desk:text-sm leading-relaxed text-neutral-700 dark:text-neutral-200",children:[g.jsx("p",{children:"A.      ."}),g.jsx("p",{className:"mt-2",children:"          ^^"}),g.jsx("p",{className:"mt-2",children:g.jsx("a",{href:"https://yavares.tistory.com/345",target:"_blank",children:g.jsx("ins",{className:"text-amber-500",children:"  "})})})]})]})]})]})})}const JH="https://t1.daumcdn.net/kas/static/ba.min.js",hOe="//t1.daumcdn.net/kas/static/ba.min.js";let km=null,Em=null;function QH(){return typeof window<"u"&&typeof document<"u"}function a5(e){return typeof e=="object"&&e!==null}function eG(){if(!QH())return!1;const e=window;if(!a5(e))return!1;const t=e.adfit;return a5(t)?typeof t.destroy=="function":!1}function tG(){return Array.from(document.querySelectorAll(`script[src="${JH}"], script[src="${hOe}"]`))}function nG(e){return e.getAttribute("data-adfit-scan")==="1"}function mOe(){const t=tG().filter(n=>!nG(n));if(!(t.length<=1))for(let n=1;n<t.length;n+=1){const r=t[n];r.parentNode?.removeChild(r)}}function o5(){return document.body??document.head??document.documentElement}function zk(e,t){return new Promise((n,r)=>{let i=!1;const a=()=>{e.removeEventListener("load",u),e.removeEventListener("error",d)},o=()=>{i||(i=!0,a(),n())},l=()=>{i||(i=!0,a(),r(new Error("AdFit script load failed")))},u=()=>o(),d=()=>l();e.addEventListener("load",u),e.addEventListener("error",d),window.setTimeout(()=>{eG(),o()},t)})}function s5(e){const t=document.createElement("script");return t.async=!0,t.type="text/javascript",t.charset="utf-8",t.src=JH,e?t.setAttribute("data-adfit-scan","1"):t.setAttribute("data-adfit-managed","1"),t}function ej(e){return QH()?(e?.mode??"boot")==="boot"?km||(km=(async()=>{if(mOe(),eG())return{inserted:!1};const r=tG().filter(a=>!nG(a))[0];if(r)return await zk(r,2500),{inserted:!1};const i=s5(!1);return o5().appendChild(i),await zk(i,4e3),{inserted:!0}})().finally(()=>{km=null}),km):Em||(Em=(async()=>{const n=s5(!0);o5().appendChild(n);try{return await zk(n,4e3),{inserted:!0}}finally{n.parentNode?.removeChild(n)}})().finally(()=>{Em=null}),Em):Promise.resolve({inserted:!1})}function rG({enabled:e}){return S.useEffect(()=>{e&&ej({mode:"boot"})},[e]),null}function l5(e){return typeof e=="object"&&e!==null}function pOe(e){const t=window;if(!l5(t))return;const n=t.adfit;if(!l5(n))return;const r=n.destroy;if(typeof r=="function")try{r.call(n,e)}catch{}}function _u({adUnit:e,width:t,height:n,enabled:r=!0,isVisible:i=!0,className:a,wrapperStyle:o,reserveSpace:l=!0}){const u=S.useRef(!1),d=S.useRef(!1),h=S.useMemo(()=>({...l?{width:"100%",minHeight:n,display:"flex",justifyContent:"center",alignItems:"flex-start"}:{width:"100%"},...o}),[n,l,o]);return S.useEffect(()=>{if(!r||u.current)return;u.current=!0;let m=!1;return(async()=>{try{if(await ej({mode:"boot"}),m)return}catch{}})(),()=>{m=!0}},[r]),S.useEffect(()=>{if(!r||!i||d.current)return;d.current=!0;let m=!1;return(async()=>{try{if(await ej({mode:"scan"}),m)return}catch{}})(),()=>{m=!0}},[r,i]),S.useEffect(()=>()=>{pOe(e),u.current=!1,d.current=!1},[e]),r?g.jsx("div",{className:a,style:h,children:g.jsx("div",{style:l?{width:t,height:n}:void 0,children:g.jsx("ins",{className:"kakao_ad_area",style:{display:"none"},"data-ad-unit":e,"data-ad-width":String(t),"data-ad-height":String(n)})})}):null}function iG({enabled:e,adUnit:t,width:n,height:r,showAfterScrollY:i=180,rightPx:a=16,topPx:o=120,breakpointClassName:l="hidden desk:block"}){const[u,d]=S.useState(!1),[h,m]=S.useState(!1);return S.useEffect(()=>{if(!e){d(!1),m(!1);return}m(!0);let b=0;const y=()=>{b||(b=window.requestAnimationFrame(()=>{b=0;const k=window.scrollY||0;d(k>=i)}))};return y(),window.addEventListener("scroll",y,{passive:!0}),()=>{b&&window.cancelAnimationFrame(b),window.removeEventListener("scroll",y)}},[e,i]),e?g.jsx("div",{className:l,style:{position:"fixed",right:a,top:o,zIndex:60,pointerEvents:"none",visibility:u?"visible":"hidden",opacity:u?1:0,transition:"opacity 150ms ease"},children:g.jsx("div",{style:{pointerEvents:u?"auto":"none"},children:g.jsx("div",{style:{borderRadius:12,background:"rgba(0,0,0,0.04)",backdropFilter:"blur(6px)",padding:8},children:g.jsx(_u,{enabled:h,isVisible:u,adUnit:t,width:n,height:r,wrapperStyle:{display:"flex",justifyContent:"center"}})})})}):null}function aG(){const[e,t]=S.useState(!1),[n,r]=S.useState(!1),[i,a]=S.useState(!1),[o,l]=S.useState(!1),[u,d]=S.useState(!1);S.useEffect(()=>{document.title=" - //";const y=window.setTimeout(()=>t(!0),50),k=window.setTimeout(()=>r(!0),250),w=window.setTimeout(()=>a(!0),450);return()=>{window.clearTimeout(y),window.clearTimeout(k),window.clearTimeout(w)}},[]);const h=()=>u?!0:(ya.error(`   
  .`),!1),m=async()=>{if(!h())return;const y=`${window.location.origin}/auth/callback`;console.log("[oauth] origin =",window.location.origin),console.log("[oauth] redirectTo =",y);const{data:k,error:w}=await Le.auth.signInWithOAuth({provider:"google",options:{redirectTo:y,skipBrowserRedirect:!0}});if(console.log("[oauth] authorize url =",k?.url),w){console.error("Google Login Error:",w),ya.error("   .");return}if(!k?.url){ya.error(" URL  .");return}window.location.assign(k.url)},b=async()=>{if(!h())return;const y=`${window.location.origin}/auth/callback`;console.log("[oauth] origin =",window.location.origin),console.log("[oauth] redirectTo =",y);const{data:k,error:w}=await Le.auth.signInWithOAuth({provider:"kakao",options:{redirectTo:y,skipBrowserRedirect:!0}});if(console.log("[oauth] authorize url =",k?.url),w){console.error("Kakao Login Error:",w),ya.error("   .");return}if(!k?.url){ya.error(" URL  .");return}window.location.assign(k.url)};return g.jsxs("main",{className:`relative py-6 max-h-[70vh] overflow-auto bg-neutral-950 text-white transition-opacity duration-500 ${e?"opacity-100":"opacity-0"}`,children:[g.jsxs("header",{className:`transform transition-all duration-500 mb-8 ${n?"translate-y-0 opacity-100":"translate-y-4 opacity-0"} text-center max-w-[680px]`,children:[g.jsx("h1",{className:"text-3xl font-bold tracking-tight mb-2",children:""}),g.jsxs("p",{className:"text-sm text-neutral-300 leading-relaxed",children:["      /       .",g.jsx("br",{}),"   /     "]})]}),g.jsxs("section",{className:`w-full max-w-sm mx-auto rounded-2xl bg-neutral-900 p-4 shadow-xl border border-neutral-800 transition-all duration-500 ${i?"opacity-100 translate-y-0":"opacity-0 translate-y-6"}`,"aria-label":"",children:[g.jsx("h2",{className:"mb-2 text-2xl font-bold tracking-tight text-center",children:""}),g.jsxs("p",{className:"mb-5 text-sm text-neutral-400 text-center leading-relaxed",children:["  .",g.jsx("br",{}),"      "]}),g.jsx("div",{className:"mb-5 space-y-2",children:g.jsxs("label",{className:"flex items-start gap-2 text-sm text-neutral-300 cursor-pointer",children:[g.jsx("input",{type:"checkbox",checked:u,onChange:()=>d(!u),className:"mt-[2px]"}),g.jsxs("span",{children:["  .",g.jsx("button",{type:"button",onClick:()=>l(!0),className:"ml-1 underline text-orange-400 hover:text-orange-300 cursor-pointer",children:"( )"})]})]})}),g.jsxs("div",{className:"space-y-2",children:[g.jsxs("button",{type:"button",onClick:m,disabled:!u,"aria-disabled":!u,className:`flex items-center justify-center gap-3 w-full py-3 rounded-lg font-medium text-sm shadow transition-all 
              ${u?"bg-white text-black hover:bg-neutral-100 active:scale-[0.98] cursor-pointer":"bg-neutral-700 text-neutral-400 cursor-not-allowed"}`,children:[g.jsx("img",{src:"https://www.gstatic.com/firebasejs/ui/2.0.0/images/auth/google.svg",alt:"Google Logo",className:"w-5 h-5 opacity-90"}),g.jsx("span",{children:"  "})]}),g.jsxs("button",{type:"button",onClick:b,disabled:!u,"aria-disabled":!u,className:`flex items-center justify-center gap-3 w-full py-3 rounded-lg font-medium text-sm shadow transition-all
              ${u?"bg-[#FEE500] text-black hover:brightness-95 active:scale-[0.98] cursor-pointer":"bg-neutral-700 text-neutral-400 cursor-not-allowed"}`,children:[g.jsx("img",{src:"/icons/KakaoTalk_logo.png",alt:"KakaoTalk",className:"h-5"}),g.jsx("span",{children:" "})]})]}),g.jsxs("div",{className:"mt-6 border-t border-neutral-800 pt-4 text-xs text-neutral-400 leading-relaxed",children:[g.jsx("p",{className:"font-semibold text-neutral-300 mb-2",children:"    "}),g.jsxs("ul",{className:"list-disc pl-5 space-y-1",children:[g.jsx("li",{children:" /  "}),g.jsx("li",{children:"    "}),g.jsx("li",{children:"/ (  )"})]}),g.jsx("p",{className:"mt-3 text-[11px] text-neutral-500",children:": unique950318@gmail.com   "})]})]}),g.jsx(Y5,{position:"top-center",toastOptions:{duration:2e3}}),o&&g.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50",onClick:()=>l(!1),children:g.jsxs("div",{className:"w-full max-w-lg bg-white dark:bg-neutral-900 text-neutral-900 dark:text-neutral-200 p-6 rounded-xl shadow-xl relative animate-fadeInUp",onClick:y=>y.stopPropagation(),children:[g.jsx("h3",{className:"text-lg font-bold mb-4",children:" "}),g.jsxs("div",{className:"text-sm leading-relaxed max-h-[60vh] overflow-y-auto pr-2",children:[g.jsx("p",{className:"mb-2",children:"( )     ,      ."}),g.jsx("p",{className:"font-semibold mt-4 mb-1",children:"1.  "}),g.jsxs("p",{className:"mb-2",children:["   ,  (,  )",g.jsx("br",{}),"       ( ,  )"]}),g.jsx("p",{className:"font-semibold mt-4 mb-1",children:"2.  "}),g.jsxs("p",{className:"mb-2",children:["     ",g.jsx("br",{}),"      ",g.jsx("br",{}),"      "]}),g.jsx("p",{className:"font-semibold mt-4 mb-1",children:"3.  "}),g.jsxs("p",{className:"mb-2",children:["     ",g.jsx("br",{}),"           "]}),g.jsx("p",{className:"font-semibold mt-4 mb-1",children:"4. 3 "}),g.jsx("p",{className:"mb-2",children:"          ."}),g.jsx("p",{className:"font-semibold mt-4 mb-1",children:"5. "}),g.jsx("p",{className:"mb-2",children:" Supabase        ."}),g.jsx("p",{className:"font-semibold mt-4 mb-1",children:"6. "}),g.jsx("p",{children:"   : unique950318@gmail.com"})]}),g.jsx("button",{onClick:()=>l(!1),className:"mt-4 w-full py-2 bg-neutral-900 dark:bg-neutral-700 text-white rounded-lg hover:bg-neutral-800 transition cursor-pointer",children:""})]})})]})}function gOe(e){switch(e){case"PERSIST_SAVE":return"    !";case"ADD_LIMIT":return"    !";case"HEADER":return"";default:return""}}function bOe(){const e=As(i=>i.open),t=As(i=>i.reason),n=As(i=>i.close),r=S.useMemo(()=>gOe(t),[t]);return S.useEffect(()=>{if(!e)return;const i=a=>{a.key==="Escape"&&n()};return window.addEventListener("keydown",i),()=>window.removeEventListener("keydown",i)},[e,n]),S.useEffect(()=>{const{data:i}=Le.auth.onAuthStateChange((a,o)=>{o?.user&&(vn.getState().loadFromServer(),nn.getState().loadFromServer(),jn.getState().loadFromServer(),As.getState().close())});return()=>i.subscription.unsubscribe()},[]),e?g.jsx("div",{className:"fixed inset-0 z-[9999] bg-black/60 flex items-center justify-center p-4",onClick:n,role:"dialog","aria-modal":"true",children:g.jsxs("div",{className:"w-full max-w-[520px] rounded-2xl bg-white dark:bg-neutral-950 border border-neutral-200 dark:border-neutral-800 shadow-xl overflow-hidden",onClick:i=>i.stopPropagation(),children:[g.jsxs("div",{className:"flex items-center justify-between px-4 py-2 border-b border-neutral-200 dark:border-neutral-800",children:[g.jsx("div",{className:"text-sm font-semibold text-neutral-900 dark:text-neutral-100",children:r}),g.jsx("button",{type:"button",onClick:n,className:`w-8 h-8 rounded-full flex items-center justify-center
                       bg-neutral-100 hover:bg-neutral-200
                       dark:bg-neutral-800 dark:hover:bg-neutral-700
                       text-neutral-700 dark:text-neutral-200 cursor-pointer`,"aria-label":"",title:"",children:""})]}),g.jsx("div",{className:"p-4",children:g.jsx(aG,{})})]})}):null}function yOe(){const e=As(t=>t.openWith);return g.jsx("div",{className:"max-w-[640px] mx-auto px-3",children:g.jsxs("div",{className:`rounded-xl border border-amber-300/60 bg-amber-50 text-amber-950
                      dark:border-amber-500/30 dark:bg-amber-950/30 dark:text-amber-100
                      shadow-sm px-4 py-3 flex items-center justify-between gap-3`,children:[g.jsxs("div",{className:"min-w-0",children:[g.jsx("div",{className:"text-sm font-semibold truncate",children:"   "}),g.jsx("div",{className:"text-xs opacity-90 mt-0.5 leading-relaxed",children:" /   ."})]}),g.jsxs("button",{type:"button",onClick:()=>e("PERSIST_SAVE"),className:`shrink-0 inline-flex items-center gap-1.5
                     px-3 py-2 rounded-lg text-xs font-semibold
                     bg-amber-500 hover:bg-amber-600 text-white
                     border border-amber-600/30
                     cursor-pointer`,"aria-label":"",title:"",children:[g.jsx(w4,{size:16}),""]})]})})}const cN="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js";let jm=null;function uN(){return typeof window<"u"&&typeof document<"u"}function oG(){return uN()?Array.from(document.querySelectorAll('script[src*="pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"]')):[]}function sG(e,t){const n=`client=${encodeURIComponent(t)}`;return e.includes(n)||e.includes(`client=${t}`)}function c5(e){return oG().some(n=>{const r=n.getAttribute("src")??"";return r.includes(cN)&&sG(r,e)})}function Uk(e){const t=oG().filter(n=>{const r=n.getAttribute("src")??"";return r.includes(cN)&&sG(r,e)});if(!(t.length<=1))for(let n=1;n<t.length;n+=1){const r=t[n];r.parentNode&&r.parentNode.removeChild(r)}}function vOe(e){const t=document.createElement("script");return t.async=!0,t.src=`${cN}?client=${encodeURIComponent(e)}`,t.crossOrigin="anonymous",t}function xOe(e){return new Promise((t,n)=>{const r=()=>t(),i=()=>n(new Error("AdSense script failed to load"));e.addEventListener("load",r,{once:!0}),e.addEventListener("error",i,{once:!0})})}function wOe(e){return typeof e!="object"||e===null||!("push"in e)?!1:typeof e.push=="function"}async function u5(e){if(uN()){if(c5(e)){Uk(e);return}if(jm)return jm;jm=(async()=>{if(c5(e)){Uk(e);return}const t=vOe(e);document.head.appendChild(t),await xOe(t),Uk(e)})();try{await jm}finally{jm=null}}}function _Oe(e={}){if(!uN())return;const t=window.adsbygoogle;if(Array.isArray(t)){t.push(e);return}if(wOe(t)){t.push(e);return}const n=[];n.push(e),window.adsbygoogle=n}function SOe({enabled:e,isVisible:t,clientId:n,slotId:r,width:i,height:a,testMode:o=!1}){const l=S.useRef(!1),u=S.useRef(null);return S.useEffect(()=>{l.current=!1},[n,r,i,a]),S.useEffect(()=>{e&&u5(n).catch(()=>{})},[e,n]),S.useEffect(()=>{if(!e||!t||l.current)return;let d=!0;return(async()=>{try{if(await Promise.resolve(),!d||(await u5(n),!d))return;_Oe({}),l.current=!0}catch{console.log()}})(),()=>{d=!1}},[e,t,n]),e?g.jsx("ins",{ref:u,className:"adsbygoogle",style:{display:"inline-block",width:i,height:a},"data-ad-client":n,"data-ad-slot":r,...o?{"data-adtest":"on"}:{}}):null}function lG({enabled:e,clientId:t,slotId:n,width:r,height:i,showAfterScrollY:a=180,side:o="left",sidePx:l=16,topPx:u=120,breakpointClassName:d="hidden desk:block"}){const[h,m]=S.useState(!1),[b,y]=S.useState(!1);return S.useEffect(()=>{if(!e){m(!1),y(!1);return}y(!0);let k=0;const w=()=>{k||(k=window.requestAnimationFrame(()=>{k=0;const _=window.scrollY||0;m(_>=a)}))};return w(),window.addEventListener("scroll",w,{passive:!0}),()=>{k&&window.cancelAnimationFrame(k),window.removeEventListener("scroll",w)}},[e,a]),e?g.jsx("div",{className:d,style:{position:"fixed",...o==="left"?{left:l}:{right:l},top:u,zIndex:60,pointerEvents:"none",visibility:h?"visible":"hidden",opacity:h?1:0,transition:"opacity 150ms ease"},children:g.jsx("div",{style:{pointerEvents:h?"auto":"none"},children:g.jsx("div",{style:{borderRadius:12,background:"rgba(0,0,0,0.04)",backdropFilter:"blur(6px)",padding:8},children:g.jsx("div",{style:{display:"flex",justifyContent:"center"},children:g.jsx(SOe,{enabled:b,isVisible:h,clientId:t,slotId:n,width:r,height:i})})})})}):null}const cG="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js";function d5(e){return typeof e=="object"&&e!==null&&"push"in e&&typeof e.push=="function"}function kOe(){return document.querySelector(`script[src^="${cG}"]`)}async function f5(e){kOe()||await new Promise((n,r)=>{const i=document.createElement("script");i.async=!0,i.src=`${cG}?client=${encodeURIComponent(e)}`,i.crossOrigin="anonymous",i.onload=()=>n(),i.onerror=()=>r(new Error("Failed to load adsbygoogle.js")),document.head.appendChild(i)})}function EOe(){const e=window.adsbygoogle;if(d5(e)){e.push({});return}window.adsbygoogle||(window.adsbygoogle=[]);const t=window.adsbygoogle;d5(t)&&t.push({})}function jOe({enabled:e,clientId:t,slotId:n,heightPx:r=100,maxWidthPx:i=750,marginTopPx:a=0,fullWidthResponsive:o=!0,pushOnVisible:l=!0,testMode:u=!1,className:d,style:h}){const m=S.useRef(null),b=S.useRef(!1),y=S.useMemo(()=>`adsense_banner:${t}:${n}`,[t,n]),[k,w]=S.useState(!l);return S.useEffect(()=>{b.current=!1},[t,n]),S.useEffect(()=>{e&&f5(t).catch(()=>{})},[e,t]),S.useEffect(()=>{if(!e||!l)return;const _=m.current;if(!_)return;const j=new IntersectionObserver(O=>{const T=O[0];T&&T.isIntersecting&&w(!0)},{root:null,threshold:.05});return j.observe(_),()=>j.disconnect()},[e,l]),S.useEffect(()=>{if(!e||!k||b.current)return;let _=!0;return(async()=>{try{if(await f5(t),!_||(await Promise.resolve(),!_))return;EOe(),b.current=!0}catch{}})(),()=>{_=!1}},[e,k,t]),e?g.jsx("div",{style:{width:"100%",display:"flex",justifyContent:"center",marginTop:a,...h},className:d,children:g.jsx("ins",{ref:m,className:"adsbygoogle",style:{display:"block",width:"100%",height:`${r}px`,maxWidth:`${i}px`},"data-ad-client":t,"data-ad-slot":n,"data-full-width-responsive":o?"true":"false",...u?{"data-adtest":"on"}:{}},y)}):null}const TOe="DAN-GW4jrUdfiXklZ12U",AOe="DAN-CeRuC0yKzSAs5Gju",NOe="DAN-G16gewnPhZou1D9y",OOe="DAN-rdKe9ZODmrZR4hho",COe="DAN-INfSKh1pW2cEtWNu",MOe={id:"empty",name:"",birthDay:"",birthTime:"",gender:"",birthPlace:{name:"",lat:0,lon:0},relationship:"",memo:"",folder:"",mingSikType:"/",DayChangeRule:"",favorite:!1,dateObj:new Date,corrected:new Date,correctedLocal:"",dayStem:"",ganjiText:"",ganji:"",calendarType:"solar",dir:"forward"};function Gb(){const e=qr(),t=cc(),n=GNe();aOe(n);const r=YNe(),i=m=>{if(typeof window>"u")return null;try{return window.sessionStorage.getItem(m)}catch{return null}},a=(m,b)=>{if(!(typeof window>"u"))try{window.sessionStorage.setItem(m,b)}catch{}},[o,l]=S.useState(!1),[u,d]=S.useState(()=>typeof window>"u"?!1:i("app_loading_shown_v1")==="1"),h=!n.authChecked||!r.entLoaded||!r.settingsLoaded;return S.useEffect(()=>{h||l(!0)},[h]),S.useEffect(()=>{n.authChecked&&(n.isLoggedIn||e.pathname==="/"||e.pathname==="/result"||t("/",{replace:!0}))},[n.authChecked,n.isLoggedIn,e.pathname,t]),S.useEffect(()=>{!u&&!o&&h&&(d(!0),a("app_loading_shown_v1","1"))},[u,o,h]),n.authChecked&&n.isLoggedIn&&n.adminMode?g.jsx(SH,{}):!o&&h&&!u?g.jsx("main",{className:"flex min-h-screen items-center justify-center",children:g.jsx("p",{className:"text-sm text-neutral-500 animate-pulse",children:n.authChecked?"  ...":"  ..."})}):g.jsx(DOe,{isLoggedIn:n.isLoggedIn})}function DOe({isLoggedIn:e}){const t=qr(),n=cc(),{list:r}=jn(),i=nn(I=>I.settings),a=oOe(r),o=uOe({list:r,currentId:a.currentId,settings:i,emptyMs:MOe}),l=dOe({canAdd:o.canAdd,hasCurrent:o.hasCurrent,current:o.current,isLoggedIn:e,setWizardOpen:a.setWizardOpen,setOpenCustom:a.setOpenCustom,setShowSidebar:a.setShowSidebar,setShowToday:a.setShowToday,setShowCouple:a.setShowCouple,setCurrentId:a.setCurrentId,setEditing:a.setEditing}),[u,d]=S.useState(!1),[h,m]=S.useState(0);S.useEffect(()=>{a.editing&&d(!1)},[a.editing]),S.useEffect(()=>{const I=t.pathname;if(I==="/faq"){d(!0),a.setShowCouple(!1),a.setShowToday(!1);return}if(I==="/couple"){d(!1),a.setShowCouple(!0),a.setShowToday(!1);return}if(I==="/result"){d(!1),a.setShowCouple(!1),a.setShowToday(!1);return}d(!1),a.setShowCouple(!1),a.setShowToday(!0)},[a,t.pathname,a.setShowCouple,a.setShowToday]);const b=vn(I=>I.shouldShowAdsNow()),y=o.hasCurrent&&!a.showToday&&!a.showCouple&&!u&&!a.wizardOpen&&!a.editing,k=a.showToday||!o.hasCurrent&&!a.showCouple&&!u&&!a.wizardOpen&&!a.editing,w=!e&&o.hasCurrent&&y,_=!e&&!y,[j,O]=S.useState(!1),T=(...I)=>{d(!1),a.setShowToday(!1),a.setShowCouple(!1),n("/result",{replace:!1}),l.handleSidebarView(...I)},C=()=>{a.setOpenCustom(!1),m(I=>I+1)},M=I=>{d(!1),l.handleCustomSave(I)},P=I=>{d(!1),l.handleWizardSave(I),n("/result",{replace:!1})};return g.jsxs("div",{className:"min-h-screen pb-16",children:[g.jsx(rG,{enabled:b}),b&&y&&g.jsx(lG,{enabled:!0,clientId:"ca-pub-4729618898154189",slotId:"1598573921",width:160,height:600,showAfterScrollY:0,side:"left",sidePx:16,topPx:60,breakpointClassName:"hidden desk:block"}),g.jsx("div",{className:"hidden desk:block",children:g.jsx(iG,{enabled:b,adUnit:COe,width:160,height:600,showAfterScrollY:0,rightPx:16,topPx:60,breakpointClassName:"hidden desk:block"})}),g.jsx(Kfe,{isLoggedIn:e,onOpenSidebar:()=>a.setShowSidebar(!0),onAddNew:l.openAdd,onOpenCustom:l.openCustomModal}),g.jsx(bOe,{}),j&&g.jsxs("div",{className:"fixed inset-0 z-[210] bg-black/70 flex items-center justify-center",children:[g.jsx("div",{className:"w-full max-w-[420px] max-h-[90dvh] overflow-auto rounded-2xl",children:g.jsx(aG,{})}),g.jsx("button",{className:"fixed top-4 right-4 text-white text-2xl",onClick:()=>O(!1),children:""})]}),g.jsx(uAe,{open:a.openCustom,onClose:C,onSave:M},h),g.jsx(Y5,{position:"top-center"}),g.jsx(Rhe,{open:a.showSidebar,onClose:()=>a.setShowSidebar(!1),onView:T,onAddNew:l.openAdd,onEdit:l.handleSidebarEdit,onDeleteView:l.handleSidebarDeleteView,isLoggedIn:e}),_&&g.jsx("div",{className:"absolute w-full left-0 mt-14 desk:mt-16 text-xs desk:text-base text-amber-500 dark:text-amber-400 text-center",children:" .    ."}),u&&g.jsx(fOe,{}),k&&g.jsx(WX,{}),a.wizardOpen&&g.jsxs(g.Fragment,{children:[g.jsx("div",{id:"wizard-dim",className:"bg-black opacity-80 fixed inset-0 w-full min-h-full z-99"}),g.jsx("div",{className:"absolute inset-0 transition-opacity duration-150 opacity-100 z-100",children:g.jsx("div",{className:"py-6 pb-16 overflow-y-auto min-h-[100dvh]",children:g.jsx(Yie,{onSave:P,onClose:()=>a.setWizardOpen(!1)})})})]}),o.hasCurrent&&!a.showToday&&!a.showCouple&&!u&&g.jsxs("div",{className:"pt-16",children:[w&&g.jsx("div",{children:g.jsx(yOe,{})}),g.jsx("div",{className:"pb-4",children:g.jsx(cle,{data:o.current,hourTable:o.current?.mingSikType??"/"})}),g.jsx(BTe,{ms:o.current}),g.jsx("div",{children:g.jsx(qfe,{data:o.current})}),b&&y&&i.showPromptBox&&g.jsx("div",{className:"max-w-[760px] mx-auto px-3 mt-6 mb-2",children:g.jsx(jOe,{enabled:!0,clientId:"ca-pub-4729618898154189",slotId:"3868873416",heightPx:100,maxWidthPx:750,marginTopPx:10,fullWidthResponsive:!0,testMode:!1})}),i.showPromptBox&&g.jsx("div",{className:"max-w-[640px] mx-auto mb-8",children:g.jsx(HNe,{ms:o.current,natal:o.isValidPillars(o.natal)?o.natal:[],chain:o.chain,basis:{voidBasis:o.voidBasis,samjaeBasis:o.samjaeBasis},includeTenGod:!0,lunarPillars:[]})}),b&&y&&g.jsxs("div",{className:"max-w-[760px] mx-auto px-3 pb-6",children:[g.jsx("div",{className:"hidden md:block",children:g.jsx(_u,{enabled:!0,adUnit:OOe,width:728,height:90})}),g.jsx("div",{className:"md:hidden",children:g.jsx(_u,{enabled:!0,adUnit:NOe,width:320,height:50})})]})]}),a.showCouple&&g.jsx("div",{className:"pt-18 pb-4",children:g.jsx(LTe,{people:r})}),b&&!y&&g.jsxs("div",{className:"max-w-[760px] mx-auto px-3 mt-1 mb-2",children:[g.jsx("div",{className:"hidden md:block",children:g.jsx(_u,{enabled:!0,adUnit:AOe,width:728,height:90})}),g.jsx("div",{className:"md:hidden",children:g.jsx(_u,{enabled:!0,adUnit:TOe,width:320,height:50})})]}),a.editing&&g.jsx("div",{className:"fixed inset-0 z-55 flex items-center justify-center bg-black/60",children:g.jsx("div",{className:"overflow-auto bg-white dark:bg-neutral-950 p-4 rounded-xl w-full max-h-[90dvh] max-w-xl shadow-lg",children:g.jsx(Zhe,{item:a.editing,onClose:()=>a.setEditing(null)})})}),g.jsx(nhe,{}),g.jsx(ITe,{})]})}function POe(){const e=qr(),[t,n]=S.useState(null),[r,i]=S.useState(null);return S.useEffect(()=>{if(e.pathname!=="/impersonate")return;const a=new URLSearchParams(e.search);n(a.get("userId")),i(a.get("myeongsikId"))},[e.pathname,e.search]),g.jsxs("div",{className:"p-4 text-white",children:[g.jsx("div",{className:"text-sm text-neutral-400",children:"Impersonate"}),g.jsxs("div",{className:"mt-2",children:["userId: ",t??"(none)"]}),g.jsxs("div",{className:"mt-1",children:["myeongsikId: ",r??"(none)"]})]})}function ROe(){const e=qr(),t=cc(),n=S.useRef(!1),[r,i]=S.useState("  ...");return S.useEffect(()=>{(async()=>{try{console.log("[auth-callback] search =",e.search),console.log("[auth-callback] hash =",e.hash);const o=new URLSearchParams(e.search),l=e.hash.startsWith("#")?e.hash.slice(1):e.hash,u=l.indexOf("?"),d=new URLSearchParams(u>=0?l.slice(u+1):l),h=_=>o.get(_)??d.get(_),m=h("error"),b=h("error_description");if(m){i(` : ${decodeURIComponent(b??m)}`);return}const y=h("code");if(!y){const _=h("access_token"),j=h("refresh_token");if(!_||!j){i(" code . (redirectTo/PKCE  )");return}const{error:O}=await Le.auth.setSession({access_token:_,refresh_token:j});if(O){i(`  : ${O.message}`);return}t("/",{replace:!0});return}if(n.current)return;n.current=!0;const{data:{session:k}}=await Le.auth.getSession();if(k){t("/",{replace:!0});return}const{error:w}=await Le.auth.exchangeCodeForSession(y);if(w){const{data:{session:_}}=await Le.auth.getSession();if(_){t("/",{replace:!0});return}i(`  : ${w.message}`);return}t("/",{replace:!0})}catch(o){i(o instanceof Error?o.message:"   ")}})()},[e.search,t,e.hash]),g.jsx("main",{className:"min-h-screen flex items-center justify-center",children:g.jsx("p",{className:"text-sm text-neutral-500",children:r})})}function LOe({yinYang:e,changing:t,onClick:n,showChanging:r=!0}){return g.jsxs("button",{type:"button",onClick:n,className:["w-full select-none","rounded-xl px-3 py-2","border border-neutral-200 dark:border-neutral-800","bg-white hover:bg-neutral-50 dark:bg-neutral-900 dark:hover:bg-neutral-800","flex items-center gap-3",n?"cursor-pointer":"cursor-default"].join(" "),title:n?"  (6789)":void 0,children:[g.jsx("div",{className:"flex-1",children:e===1?g.jsx("div",{className:"h-3 rounded bg-neutral-900 dark:bg-neutral-100"}):g.jsxs("div",{className:"flex gap-2",children:[g.jsx("div",{className:"h-3 flex-1 rounded bg-neutral-900 dark:bg-neutral-100"}),g.jsx("div",{className:"h-3 flex-1 rounded bg-neutral-900 dark:bg-neutral-100"})]})}),r&&g.jsx("div",{className:"w-8 text-right text-sm font-medium text-neutral-700 dark:text-neutral-300",children:t?"":""})]})}function IOe(e){return e===6||e===9}function cw(e){return e===7||e===9?1:0}function uG(e){return e===6?1:e===9?0:cw(e)}function $Oe(e){return e===6?7:e===7?8:e===8?9:6}function dG(e){let t=2166136261;for(let n=0;n<e.length;n+=1)t^=e.charCodeAt(n),t=t+(t<<1)+(t<<4)+(t<<7)+(t<<8)+(t<<24)>>>0;return t>>>0}function fG(e){let t=e>>>0;return()=>{t+=1831565813;let n=t;return n=Math.imul(n^n>>>15,n|1),n^=n+Math.imul(n^n>>>7,n|61),((n^n>>>14)>>>0)/4294967296}}function hG(){return new Date().toISOString()}function mG(){const e=Date.now().toString(36),t=Math.floor(Math.random()*1e9).toString(36);return`ich_${e}_${t}`}function pG(e){const t=[];for(let n=0;n<e.length;n+=1)IOe(e[n].value)&&t.push(n+1);return t}function tj(e){const t=()=>e()<.5?2:3,n=t(),r=t(),i=t(),a=n+r+i;return{value:a===6?6:a===7?7:a===8?8:9,source:"coin",coins:[n,r,i]}}function BOe(e){return e?[e.myeongSikId?`id=${e.myeongSikId}`:"",e.pillarsText?`pillars=${e.pillarsText}`:"",e.birthISO?`birth=${e.birthISO}`:"",e.tz?`tz=${e.tz}`:"",e.luck?.daeun?`daeun=${e.luck.daeun}`:"",e.luck?.seun?`seun=${e.luck.seun}`:"",e.luck?.wolun?`wolun=${e.luck.wolun}`:"",e.luck?.ilun?`ilun=${e.luck.ilun}`:""].filter(Boolean).join("|"):""}const dN=["","","","","","","","","",""],fN=["","","","","","","","","","","",""];function tc(e,t){const n=e%t;return n<0?n+t:n}function hN(e){const t=e-1984,n=dN[tc(t,10)],r=fN[tc(t,12)];return`${n}${r}`}function gG(e,t){if(t<1||t>12)throw new Error(`month must be 1..12, got ${t}`);const n=tc(e-1984,10),r=n===0||n===5?2:n===1||n===6?4:n===2||n===7?6:n===3||n===8?8:0,i=t===1?1:t===12?0:t,a=tc(i-2,12),o=tc(r+a,10),l=dN[o],u=fN[i];return`${l}${u}`}function zOe(e){const t=e.getFullYear(),n=e.getMonth(),r=e.getDate(),i=Date.UTC(1984,0,31),a=Date.UTC(t,n,r),o=Math.floor((a-i)/864e5),l=tc(o,60),u=dN[tc(l,10)],d=fN[tc(l,12)];return`${u}${d}`}function Za(e){const t=e.getFullYear(),n=String(e.getMonth()+1).padStart(2,"0"),r=String(e.getDate()).padStart(2,"0");return`${t}-${n}-${r}`}function va(e){const t=/^(\d{4})-(\d{2})-(\d{2})$/.exec(e);if(!t)return null;const n=Number(t[1]),r=Number(t[2])-1,i=Number(t[3]);if(![n,r,i].every(o=>Number.isFinite(o)))return null;const a=new Date(n,r,i,9,0,0,0);return a.getFullYear()!==n||a.getMonth()!==r||a.getDate()!==i?null:a}function bG(e,t){const n=new Date(e);return n.setDate(n.getDate()+t),n}function Lu(){const e=new Date;return new Date(e.getFullYear(),e.getMonth(),e.getDate(),9,0,0,0)}function mN(e,t){return e.getTime()<=t.getTime()?{start:e,end:t}:{start:t,end:e}}function h5(e,t){return e*100+t}function UOe(e,t){const n=[];let r=e.getFullYear(),i=e.getMonth()+1;const a=h5(t.getFullYear(),t.getMonth()+1);for(;h5(r,i)<=a;)n.push({y:r,m1:i}),i+=1,i===13&&(i=1,r+=1);return n}function FOe(e,t=10){const n=va(e.startYMD)??Lu(),r=va(e.endYMD)??Lu(),{start:i,end:a}=mN(n,r),o=i.getFullYear(),l=a.getFullYear(),u=[];for(let d=o;d<=l&&!(u.length>=t);d+=1){const h=new Date(d,5,15,9,0,0,0);u.push({year:d,refDateYMD:Za(h),seun:hN(d)})}return u}function HOe(e,t=12,n=!1){const r=va(e.startYMD)??Lu(),i=va(e.endYMD)??Lu(),{start:a,end:o}=mN(r,i),l=UOe(a,o),u=[];for(const d of l){if(u.length>=t)break;if(n&&d.m1===1)continue;const h=new Date(d.y,d.m1-1,15,9,0,0,0),m=new Date(d.y,d.m1-1,15,12,0,0,0),b=ut(m)||hN(d.y),y=Ot(m)||gG(d.y,d.m1);u.push({year:d.y,month:d.m1,refDateYMD:Za(h),seun:b,wolun:y})}return u}function GOe(e,t=7){const n=va(e.startYMD)??Lu(),r=va(e.endYMD)??Lu(),{start:i,end:a}=mN(n,r),o=[];let l=new Date(i);for(;l.getTime()<=a.getTime()&&!(o.length>=t);){const u=l.getFullYear(),d=l.getMonth()+1,h=new Date(u,d-1,l.getDate(),12,0,0,0),m=ut(h)||hN(u),b=Ot(h)||gG(u,d);o.push({dateYMD:Za(l),seun:m,wolun:b,ilun:zOe(l)}),l=bG(l,1)}return o}function yG(e,t){const n=va(t.startYMD)??Lu();if(e==="seun")return new Date(n.getFullYear(),5,15,9,0,0,0);if(e==="wolun"){const r=n.getFullYear(),i=n.getMonth()+1;return new Date(r,i-1,15,9,0,0,0)}return new Date(n.getFullYear(),n.getMonth(),n.getDate(),9,0,0,0)}function Fk(e,t){const n=yG(e,t),r=Za(n);return e==="seun"?{tab:e,baseDateYMD:r,seun:FOe(t,10),wolun:[],ilun:[]}:e==="wolun"?{tab:e,baseDateYMD:r,seun:[],wolun:HOe(t,12,!1),ilun:[]}:{tab:e,baseDateYMD:r,seun:[],wolun:[],ilun:GOe(t,7)}}function vG(e){return e===7||e===9?1:0}const Ca={:{key:"",ko:"",hanja:"",symbolHanja:"",bitsBottomUp:"111",element:"",naJiaUpperTopDown:["","",""],naJiaLowerTopDown:["","",""]},:{key:"",ko:"",hanja:"",symbolHanja:"",bitsBottomUp:"110",element:"",naJiaUpperTopDown:["","",""],naJiaLowerTopDown:["","",""]},:{key:"",ko:"",hanja:"",symbolHanja:"",bitsBottomUp:"101",element:"",naJiaUpperTopDown:["","",""],naJiaLowerTopDown:["","",""]},:{key:"",ko:"",hanja:"",symbolHanja:"",bitsBottomUp:"100",element:"",naJiaUpperTopDown:["","",""],naJiaLowerTopDown:["","",""]},:{key:"",ko:"",hanja:"",symbolHanja:"",bitsBottomUp:"011",element:"",naJiaUpperTopDown:["","",""],naJiaLowerTopDown:["","",""]},:{key:"",ko:"",hanja:"",symbolHanja:"",bitsBottomUp:"010",element:"",naJiaUpperTopDown:["","",""],naJiaLowerTopDown:["","",""]},:{key:"",ko:"",hanja:"",symbolHanja:"",bitsBottomUp:"001",element:"",naJiaUpperTopDown:["","",""],naJiaLowerTopDown:["","",""]},:{key:"",ko:"",hanja:"",symbolHanja:"",bitsBottomUp:"000",element:"",naJiaUpperTopDown:["","",""],naJiaLowerTopDown:["","",""]}},YOe=[{n:1,ko:"",nameHanja:"",upper:"",lower:""},{n:2,ko:"",nameHanja:"",upper:"",lower:""},{n:3,ko:"",nameHanja:"",upper:"",lower:""},{n:4,ko:"",nameHanja:"",upper:"",lower:""},{n:5,ko:"",nameHanja:"",upper:"",lower:""},{n:6,ko:"",nameHanja:"",upper:"",lower:""},{n:7,ko:"",nameHanja:"",upper:"",lower:""},{n:8,ko:"",nameHanja:"",upper:"",lower:""},{n:9,ko:"",nameHanja:"",upper:"",lower:""},{n:10,ko:"",nameHanja:"",upper:"",lower:""},{n:11,ko:"",nameHanja:"",upper:"",lower:""},{n:12,ko:"",nameHanja:"",upper:"",lower:""},{n:13,ko:"",nameHanja:"",upper:"",lower:""},{n:14,ko:"",nameHanja:"",upper:"",lower:""},{n:15,ko:"",nameHanja:"",upper:"",lower:""},{n:16,ko:"",nameHanja:"",upper:"",lower:""},{n:17,ko:"",nameHanja:"",upper:"",lower:""},{n:18,ko:"",nameHanja:"",upper:"",lower:""},{n:19,ko:"",nameHanja:"",upper:"",lower:""},{n:20,ko:"",nameHanja:"",upper:"",lower:""},{n:21,ko:"",nameHanja:"",upper:"",lower:""},{n:22,ko:"",nameHanja:"",upper:"",lower:""},{n:23,ko:"",nameHanja:"",upper:"",lower:""},{n:24,ko:"",nameHanja:"",upper:"",lower:""},{n:25,ko:"",nameHanja:"",upper:"",lower:""},{n:26,ko:"",nameHanja:"",upper:"",lower:""},{n:27,ko:"",nameHanja:"",upper:"",lower:""},{n:28,ko:"",nameHanja:"",upper:"",lower:""},{n:29,ko:"",nameHanja:"",upper:"",lower:""},{n:30,ko:"",nameHanja:"",upper:"",lower:""},{n:31,ko:"",nameHanja:"",upper:"",lower:""},{n:32,ko:"",nameHanja:"",upper:"",lower:""},{n:33,ko:"",nameHanja:"",upper:"",lower:""},{n:34,ko:"",nameHanja:"",upper:"",lower:""},{n:35,ko:"",nameHanja:"",upper:"",lower:""},{n:36,ko:"",nameHanja:"",upper:"",lower:""},{n:37,ko:"",nameHanja:"",upper:"",lower:""},{n:38,ko:"",nameHanja:"",upper:"",lower:""},{n:39,ko:"",nameHanja:"",upper:"",lower:""},{n:40,ko:"",nameHanja:"",upper:"",lower:""},{n:41,ko:"",nameHanja:"",upper:"",lower:""},{n:42,ko:"",nameHanja:"",upper:"",lower:""},{n:43,ko:"",nameHanja:"",upper:"",lower:""},{n:44,ko:"",nameHanja:"",upper:"",lower:""},{n:45,ko:"",nameHanja:"",upper:"",lower:""},{n:46,ko:"",nameHanja:"",upper:"",lower:""},{n:47,ko:"",nameHanja:"",upper:"",lower:""},{n:48,ko:"",nameHanja:"",upper:"",lower:""},{n:49,ko:"",nameHanja:"",upper:"",lower:""},{n:50,ko:"",nameHanja:"",upper:"",lower:""},{n:51,ko:"",nameHanja:"",upper:"",lower:""},{n:52,ko:"",nameHanja:"",upper:"",lower:""},{n:53,ko:"",nameHanja:"",upper:"",lower:""},{n:54,ko:"",nameHanja:"",upper:"",lower:""},{n:55,ko:"",nameHanja:"",upper:"",lower:""},{n:56,ko:"",nameHanja:"",upper:"",lower:""},{n:57,ko:"",nameHanja:"",upper:"",lower:""},{n:58,ko:"",nameHanja:"",upper:"",lower:""},{n:59,ko:"",nameHanja:"",upper:"",lower:""},{n:60,ko:"",nameHanja:"",upper:"",lower:""},{n:61,ko:"",nameHanja:"",upper:"",lower:""},{n:62,ko:"",nameHanja:"",upper:"",lower:""},{n:63,ko:"",nameHanja:"",upper:"",lower:""},{n:64,ko:"",nameHanja:"",upper:"",lower:""}];function Wv(e){const t=Object.keys(Ca);for(const n of t)if(Ca[n].bitsBottomUp===e)return n;return null}function qOe(e,t){return`${Ca[t].bitsBottomUp}${Ca[e].bitsBottomUp}`}const KOe=(()=>{const e={};for(const t of YOe){const n=Ca[t.upper],r=Ca[t.lower],i=qOe(t.upper,t.lower);e[i]={number:t.n,titleKo:t.ko,nameHanja:t.nameHanja,titleHanja:`${n.symbolHanja}${r.symbolHanja}${t.nameHanja}`,upperKo:n.ko,lowerKo:r.ko,upperHanja:n.hanja,lowerHanja:r.hanja,upperSymbolHanja:n.symbolHanja,lowerSymbolHanja:r.symbolHanja,bitsBottomUp:i}}return e})();function pN(e){const t=e.join(""),n=KOe[t];if(n)return n;const r=t.slice(0,3),i=t.slice(3,6),a=Wv(r),o=Wv(i),l=a?Ca[a]:null,u=o?Ca[o]:null;return{number:void 0,titleKo:"",nameHanja:"",titleHanja:u&&l?`${u.symbolHanja}${l.symbolHanja}`:"",upperKo:u?.ko,lowerKo:l?.ko,upperHanja:u?.hanja,lowerHanja:l?.hanja,upperSymbolHanja:u?.symbolHanja,lowerSymbolHanja:l?.symbolHanja,bitsBottomUp:t}}function nj(e){const t=e.map(n=>vG(n.value));return pN(t)}const m5={:[1,44,33,12,20,23,35,14],:[29,60,3,63,49,55,36,7],:[52,22,26,41,38,10,61,53],:[51,16,40,32,46,48,28,17],:[57,9,37,42,25,21,27,18],:[30,56,50,64,4,59,6,13],:[2,24,19,11,34,43,5,8],:[58,47,45,31,39,15,62,54]};function WOe(e){return e===0?"pure":e===1?"1":e===2?"2":e===3?"3":e===4?"4":e===5?"5":e===6?"youhun":"guihun"}function VOe(e){return e==="pure"?6:e==="1"?1:e==="2"?2:e==="3"?3:e==="4"?4:e==="5"?5:e==="youhun"?4:3}function ZOe(e){return(e+2)%6+1}function XOe(e){return e===""||e===""?"":e===""||e===""?"":e===""||e===""||e===""||e===""?"":e===""||e===""?"":e===""||e===""?"":null}function p5(e,t){return e===""&&t===""||e===""&&t===""||e===""&&t===""||e===""&&t===""||e===""&&t===""}function g5(e,t){return e===""&&t===""||e===""&&t===""||e===""&&t===""||e===""&&t===""||e===""&&t===""}function JOe(e,t){return t===e?"":p5(t,e)?"":p5(e,t)?"":g5(t,e)?"":g5(e,t)?"":""}function QOe(e){const t=Object.keys(m5);for(const n of t){const r=m5[n].indexOf(e);if(r>=0)return{palace:n,stage:WOe(r)}}return null}function eCe(e){const t=e.join(""),n=t.slice(0,3),r=t.slice(3,6),i=Wv(n),a=Wv(r);if(!i||!a)return[];const o=Ca[i],u=Ca[a].naJiaUpperTopDown,d=o.naJiaLowerTopDown;return[...u,...d]}function rj(e){const t=e.map(k=>vG(k.value)),n=pN(t),r=typeof n.number=="number"?n.number:null,i=eCe(t),a=r?QOe(r):null,o=a?.palace??null,l=o?Ca[o].element:null,u=a?.stage??"pure",d=VOe(u),h=ZOe(d),m=7-d,b=7-h,y=[];if(i.length===6&&l)for(const k of i){const w=XOe(k);if(!w){y.push("");continue}y.push(JOe(l,w))}return{leftTopDown:y.length?y:[],rightTopDown:i.length?i:[],markers:[{text:"",atLineTopDown:m},{text:"",atLineTopDown:b}],palace:o?{key:o,element:Ca[o].element,stage:u}:void 0}}function Hk(e){const t=fG(dG(e)),n=[];for(let r=0;r<6;r+=1)n.push(tj(t));return n}function Gk(e,t,n,r,i){return{id:mG(),kind:"iching_sixyao",createdAtISO:hG(),question:e,seedTextUsed:t,linesBottomUp:n,changingLines:pG(n),baseBitsBottomUp:n.map(a=>cw(a.value)),changedBitsBottomUp:n.map(a=>uG(a.value)),saju:r??void 0,viewMeta:i}}function tCe(e){const{periodTab:t,seunPayload:n,wolunPayload:r,ilunPayload:i,questionText:a,sajuSeedPart:o,saju:l,viewMeta:u}=e,d=[];return t==="seun"&&n?.seun?.length&&n.seun.forEach(h=>{const m=` ${h.year} (${h.seun}`,b=`${a}::${h.refDateYMD}`,y=o?`${b}::SAJU::${o}`:b,k=Hk(y),w=Gk(a,y,k,l,u);d.push({key:`seun-${h.year}`,title:m,dateYMD:h.refDateYMD,record:w})}),t==="wolun"&&r?.wolun?.length&&r.wolun.forEach(h=>{const m=String(h.month).padStart(2,"0"),b=` ${h.year}-${m} (${h.seun} ${h.wolun}`,y=`${a}::${h.refDateYMD}`,k=o?`${y}::SAJU::${o}`:y,w=Hk(k),_=Gk(a,k,w,l,u);d.push({key:`wolun-${h.year}-${m}`,title:b,dateYMD:h.refDateYMD,record:_})}),t==="ilun"&&i?.ilun?.length&&i.ilun.forEach(h=>{const m=` ${h.dateYMD} (${h.seun} ${h.wolun} ${h.ilun}`,b=`${a}::${h.dateYMD}`,y=o?`${b}::SAJU::${o}`:b,k=Hk(y),w=Gk(a,y,k,l,u);d.push({key:`ilun-${h.dateYMD}`,title:m,dateYMD:h.dateYMD,record:w})}),d}function nCe(e){if(!e)return"  ";const t=[e.name?`: ${e.name}`:"",e.gender?`: ${e.gender}`:"",e.pillarsText?`: ${e.pillarsText}`:""].filter(Boolean);return t.length?t.join(`
`):"  "}function rCe(e,t){if(!e||!e.luck)return e;const{daeun:n,seun:r,wolun:i,ilun:a}=e.luck;return{...e,luck:t==="seun"?{daeun:n,seun:r}:t==="wolun"?{daeun:n,seun:r,wolun:i}:{daeun:n,seun:r,wolun:i,ilun:a}}}function iCe(e){const{selectedCardText:t,ready:n,periodCards:r,finalQuestion:i,question:a,baseBits:o,changedBits:l,changingIndexes:u,lineValues:d,lines:h,saju:m,periodTab:b}=e,y=(i.trim()||a.trim()).trim(),k=y||"( )";if(t&&t.trim())return[` : ${k}`,"",t.trim()].join(`
`);if(!n&&r.length===0)return"";const w=o.join(""),_=l.join(""),j=u.length?u.join(", "):"",O=d.join(", "),T=nj(h),C=pN(l),M=typeof T.number=="number"?String(T.number):"",P=T.titleKo||"",I=T.titleHanja||"?",z=T.nameHanja||"?",K=T.upperKo&&T.lowerKo?`${T.upperKo}/${T.lowerKo}`:"",G=T.upperHanja&&T.lowerHanja?`${T.upperHanja}/${T.lowerHanja}`:"",F=typeof C.number=="number"?String(C.number):"",B=C.upperKo&&C.lowerKo?`${C.upperKo}/${C.lowerKo}`:"",q=C.upperHanja&&C.lowerHanja?`${C.upperHanja}/${C.lowerHanja}`:"",X=rj(h),Z=X.leftTopDown.length?X.leftTopDown.join(" "):"()",Y=X.rightTopDown.length?X.rightTopDown.join(" "):"()",V=X.markers.length?X.markers.map(ie=>`${ie.text}${ie.atLineTopDown}`).join(", "):"()",Q=nCe(m),se=r.length>0?[" (  )",...r.flatMap((ie,he)=>{const J=nj(ie.record.linesBottomUp),ae=rj(ie.record.linesBottomUp),pe=ie.record.baseBitsBottomUp.join(""),me=ie.record.changedBitsBottomUp.join(""),ee=ie.record.changingLines.length?ie.record.changingLines.join(", "):"",je=ie.record.linesBottomUp.map(Ke=>Ke.value).join(", "),xe=J.titleKo||"",ue=typeof J.number=="number"?String(J.number):"",Ee=ae.leftTopDown.length?ae.leftTopDown.join(" "):"()",Me=ae.rightTopDown.length?ae.rightTopDown.join(" "):"()",Ie=ae.markers.length?ae.markers.map(Ke=>`${Ke.text}${Ke.atLineTopDown}`).join(", "):"()";return[`${he+1}. ${ie.title}`,`-  /: ${ue}  ${xe}`,`-  (): ${pe}`,`-  (): ${me}`,`- : ${ee}`,`- (): ${je}`,`- (): ${Ee}`,`- (): ${Me}`,`- ///: ${Ie}`]}),""]:[],ce=n&&h.length===6?[" ()",`-  : ${M}`,`- (): ${P}`,`- (): ${I} (${z})`,`- / : ${K} (${G})`,""," ()",`-  : ${F}`,`- / : ${B} (${q})`,""," ",`-  (): ${w}`,`-  (): ${_}`,`- : ${j}`,`- (): ${O}`,`- (): ${Z}`,`- (): ${Y}`,`- ///: ${V}`,""]:[" ","- /   ",""],W=n&&r.length===0,ne=W?rCe(m??null,b):null;return[" / .        .","",`: ${k}`,"",...ce," ",Q,"",...W?["(JSON)",JSON.stringify(ne??{},null,2),""]:[],"",...se,"","-     ","-        ","-    "].join(`
`)}const b5=[`1.  () 

 
 ()	( ,  : ,  : ) (() )

 = 
 = 
 = 
 = 

() - () +  + ()
5() - () +  + ()
4() - () + ()
3() - () +  + ()
2() - () +  + ()
() - () + ()`,`2.  () 

 
 ()	( ,  : ,  : ) (() )

 = 
 = 
 = 
 = 

() - () +  + ()
5() - () + () -  
4() - () +  + ()
3() - () +  + ()
2() - () + ()
() - () +  + ()`,`3.  

  
 ()	( ,  : ,  : )

 = 
 = 
 = 
 = 

() - () +  + ()
5() - () +  + ()
4() - () + ()
3() - () +  + ()
2() - () +  + ()
() - () + ()`,`4.  

 
 ()	( ,  : ,  : )

 = 
 = 
 = 
 = 

() - () + ()
5() - () +  + ()
4() - () +  + ()
3() - () + ()
2() - () +  + ()
() - () +  + ()`,`5.  

 
 ()	( ,  : ,  : ) (: )

 = 
 = 
 = 
 = 

() - () +  + ()
5() - () + ()
4() - () +  + ()
3() - () +  + ()
2() - () + ()
() - () +  + ()`,`6.  

 
 ()	( ,  : ,  : ) (: )

 = 
 = 
 = 
 = 

() - () + ()
5() - () + ()
4() - () +  +  + ()
3() - () + ()
2() - () + ()
() - () +  +  + ()`,`7.  

 
 ()	( ,  : ,  : ) (: )

 = 
 = 
 = 
 = 

() - () +  + ()
5() - () + ()
4() - () +  + ()
3() - () +  + ()
2() - () + ()
() - () +  + ()`,`8.  

 
 ()	( ,  : ,  : ) (: )

 = 
 = 
 = 
 = 

() - () +  + ()
5() - () + ()
4() - () +  + ()
3() - () +  + ()
2() - () + ()
() - () +  + ()`,`9.  

 
 ()	( ,  : ,  : )

 = 
 = 
 = 
 = 

() - () + ()
5() - () + ()
4() - () +  +  + ()
3() - () + ()
2() - () + ()
() - () +  +  + () -  `,`10.  

 
 ()	( ,  : ,  : )

 = 
 = 
 = 
 = 

() - () +  + ()
5() - () +  + ()
4() - () + ()
3() - () +  + ()
2() - () +  + ()
() - () + ()`,`11.  

 
 ()	( ,  : ,  : )

 = 
 = 
 = 
 = 

() - () +  + ()
5() - () +  + ()
4() - () + ()
3() - () +  + ()
2() - () +  + () -  
() - () + ()`,`12.  () 

 
 ()	( ,  : ,  : )

 = 
 = 
 = 
 = 

() - () +  + ()
5() - () + () -  
4() - () +  + ()
3() - () +  + ()
2() - () + ()
() - () +  + ()`,`13.  

 
 ()	( ,  : ,  : ) (: )

 = 
 = 
 = 
 = 

() - () +  +  + ()
5() - () + ()
4() - () + ()
3() - () +  +  + ()
2() - () + ()
() - () + ()`,`14.  

 
 ()	( ,  : ,  : ) (: )

 = 
 = 
 = 
 = 

() - () +  + ()
5() - () +  + ()
4() - () + ()
3() - () +  + ()
2() - () +  + () -  
() - () + ()`,`15.  

 
 ()	( ,  : (),  : )

 = 
 = 
 = 
 = 

() - () +  + ()
5() - () +  + ()
4() - () + ()
3() - () +  + ()
2() - () +  + ()
() - () + ()`,`16.  

 
 ()	( ,  : ,  : )

 = 
 = 
 = 
 = 

() - () + ()
5() - () +  + ()
4() - () +  + () -  
3() - () + ()
2() - () +  + ()
() - () +  + ()`,`17.  

 
 ()	( ,  : ,  : ) (: )

 = 
 = 
 = 
 = 

() - () +  + ()
5() - () +  + ()
4() - () + ()
3() - () +  + ()
2() - () +  + ()
() - () + ()`,`18.  

  
 ()	( ,  : ,  : ) (: )

 = 
 = 
 = 
 = 

() - () +  + () -  
5() - () + ()
4() - () +  + ()
3() - () +  + ()
2() - () + ()
() - () +  + ()`,`19.  

 
 ()	( ,  : ,  : )

 = 
 = 
 = 
 = 

() - () + ()
5() - () +  + ()
4() - () +  + () -  
3() - () + () -  
2() - () +  + ()
() - () +  + ()`,`20.  

 
 ()	( ,  : ,  : )

 = 
 = 
 = 
 = 

() - () + ()
5() - () +  + ()
4() - () +  + ()
3() - () + ()
2() - () +  + ()
() - () +  + ()`,`21.  

  
 ()	( ,  : ,  : )

 = 
 = 
 = 
 = 

() - () + ()
5() - () +  +  + ()
4() - () + ()
3() - () + ()
2() - () +  +  + ()
() - () + ()`,`22.  

 
 ()	( ,  : ,  : )

 = 
 = 
 = 
 = 

() - () + ()
5() - () + ()
4() - () +  +  + ()
3() - () + ()
2() - () + ()
() - () +  +  + ()`,`23.  

 
 ()	( ,  : ,  : )

 = 
 = 
 = 
 = 

() - () + ()
5() - () +  + ()
4() - () +  + () -  
3() - () + ()
2() - () +  + ()
() - () +  + ()`,`24.  

 
 ()	( ,  : ,  : )

 = 
 = 
 = 
 = 

() - () + ()
5() - () + ()
4() - () +  +  + ()
3() - () + ()
2() - () + ()
() - () +  +  + () -  `,`25.  

 
 ()	( ,  : ,  : )

 = 
 = 
 = 
 = 

() - () + ()
5() - () + ()
4() - () +  +  + ()
3() - () + ()
2() - () + ()
() - () +  +  + ()`,`26.  

 
 ()	( ,  : ,  : )

 = 
 = 
 = 
 = 

() - () +  + ()
5() - () +  + ()
4() - () + ()
3() - () +  + ()
2() - () +  + ()
() - () + ()`,`27.  

 
 ()	( ,  : ,  : ) (: )

 = 
 = 
 = 
 = 

() - () + ()
5() - () +  + ()
4() - () +  + ()
3() - () + ()
2() - () +  + ()
() - () +  + ()`,`28.  

 
 ()	( ,  : ,  : ) (: )

 = 
 = 
 = 
 = 

() - () +  + ()
5() - () + ()
4() - () +  + ()
3() - () +  + ()
2() - () + ()
() - () +  + ()`,`29.  () (() ) 

 
 ()	( ,  : ,  : )

 = 
 = 
 = 
 = 

() - () +  + ()
5() - () + ()
4() - () +  + ()
3() - () +  + ()
2() - () + ()
() - () +  + ()`,`30.  () (() ) 

 
 ()	( ,  : ,  : )

 = 
 = 
 = 
 = 

() - () +  +  + () -  
5() - () + ()
4() - () + ()
3() - () +  +  + ()
2() - () + ()
() - () + ()`,`31.  

 
 ()	( ,  : (),  : )

 = 
 = 
 = 
 = 

() - () +  +  + ()
5() - () + ()
4() - () + ()
3() - () +  +  + ()
2() - () + ()
() - () + ()`,`32.  

 
 ()	( ,  : ,  : )

 = 
 = 
 = 
 = 

() - () +  + ()
5() - () + ()
4() - () +  + ()
3() - () +  + ()
2() - () + ()
() - () +  + ()`,`33.  

 
 ()	( ,  : ,  : )

 = 
 = 
 = 
 = 

() - () + ()
5() - () +  + ()
4() - () +  + ()
3() - () + ()
2() - () +  + ()
() - () +  + ()`,`34.  

 
 ()	( ,  : ,  : )

 = 
 = 
 = 
 = 

() - () + ()
5() - () + ()
4() - () +  +  + ()
3() - () + ()
2() - () + ()
() - () +  +  + ()`,`35.  

 
 ()	( ,  : ,  : ) (: )

 = 
 = 
 = 
 = 

() - () + ()
5() - () + ()
4() - () +  +  + ()
3() - () + () -  
2() - () + ()
() - () +  +  + ()`,`36.  

  
 ()	( ,  : ,  : ) (: )

 = 
 = 
 = 
 = 

() - () + () -  
5() - () +  + ()
4() - () +  + ()
3() - () + ()
2() - () +  + ()
() - () +  + ()`,`37.  
 
 ()	( ,  : ,  : )

 = 
 = 
 = 
 = 

() - () + ()
5() - () +  +  + ()
4() - () + ()
3() - () + ()
2() - () +  +  + ()
() - () + ()`,`38.  

 
 ()	( ,  : ,  : )

 = 
 = 
 = 
 = 

() - () + ()
5() - () + ()
4() - () +  +  + ()
3() - () + ()
2() - () + () -  
() - () +  +  + ()`,`39.  

 
 ()	( ,  : (),  : )

 = 
 = 
 = 
 = 

() - () +  + ()
5() - () + ()
4() - () +  + ()
3() - () +  + ()
2() - () + ()
() - () +  + ()`,`40.  

 
 ()	( ,  : ,  : )

 = 
 = 
 = 
 = 

() - () + ()
5() - () +  +  + ()
4() - () + ()
3() - () + ()
2() - () +  +  + ()
() - () + ()`,`41.  

 
 ()	( ,  : ,  : )

 = 
 = 
 = 
 = 

() - () +  + ()
5() - () +  + ()
4() - () + ()
3() - () +  + ()
2() - () +  + ()
() - () + ()`,`42.  

 
 ()	( ,  : ,  : )

 = 
 = 
 = 
 = 

() - () +  + ()
5() - () +  + ()
4() - () + ()
3() - () +  + ()
2() - () +  + ()
() - () + ()`,`43.  

 
 ()	( ,  : ,  : )

 = 
 = 
 = 
 = 

() - () + ()
5() - () +  + ()
4() - () +  + ()
3() - () + () -  
2() - () +  + ()
() - () +  + ()`,`44.  

 
 ()	( ,  : ,  : )

 = 
 = 
 = 
 = 

() - () + ()
5() - () +  + ()
4() - () +  + () -  
3() - () + ()
2() - () +  + ()
() - () +  + ()`,`45.  () 

 
 ()	( ,  : (),  : )

 = 
 = 
 = 
 = 

() - () +  + () -  
5() - () +  + ()
4() - () + ()
3() - () +  + ()
2() - () +  + ()
() - () + () -  `,`46.  

 
 ()	( ,  : ,  : )

 = 
 = 
 = 
 = 

() - () + () -  
5() - () +  + ()
4() - () +  + ()
3() - () + () -  
2() - () +  + ()
() - () +  + ()`,`47.  

 
 ()	( ,  : (),  : )

 = 
 = 
 = 
 = 

() - () +  + ()
5() - () + ()
4() - () +  + ()
3() - () +  + () -  
2() - () + ()
() - () +  + ()`,`48.  

 
 ()	( ,  : ,  : )

 = 
 = 
 = 
 = 

() - () + ()
5() - () +  +  + ()
4() - () + ()
3() - () + ()
2() - () +  +  + ()
() - () + ()`,`49.  

 
 ()	( ,  : ,  : )

 = 
 = 
 = 
 = 

() - () +  + ()
5() - () + ()
4() - () +  + ()
3() - () +  + ()
2() - () + ()
() - () +  + () -  `,`50.  

 
 ()	( ,  : ,  : )

 = 
 = 
 = 
 = 

() - () +  + ()
5() - () +  + ()
4() - () + ()
3() - () +  + ()
2() - () +  + ()
() - () + () -  `,`51.  () (() )  

 
 ()	( ,  : ,  : )

 = 
 = 
 = 
 = 

() - () +  + ()
5() - () +  + ()
4() - () + ()
3() - () +  + ()
2() - () +  + ()
() - () + ()`,`52. () (() ) 

 
 ()	( ,  : ,  : )

 = 
 = 
 = 
 = 

() - () +  +  + ()
5() - () + ()
4() - () + ()
3() - () +  +  + ()
2() - () + ()
() - () + ()`,`53.  

 
 ()	( ,  : ,  : ) (: )

 = 
 = 
 = 
 = 

() - () +  +  + ()
5() - () + ()
4() - () + ()
3() - () +  +  + ()
2() - () + ()
() - () + ()`,`54.  

 
 ()	( ,  : (),  : ) (: )

 = 
 = 
 = 
 = 

() - () +  + ()
5() - () +  + () -  
4() - () + ()
3() - () +  + ()
2() - () +  + ()
() - () + ()`,`55.  

 
 ()	( ,  : ,  : )

 = 
 = 
 = 
 = 

() - () +  + () -  
5() - () +  + ()
4() - () + ()
3() - () +  + ()
2() - () +  + ()
() - () + ()`,`56.  

 
 ()	( ,  : ,  : )

 = 
 = 
 = 
 = 

() - () + ()
5() - () +  + ()
4() - () +  + ()
3() - () + ()
2() - () +  + ()
() - () +  + ()`,`57.  () (() ) 

 
 ()	( ,  : ,  : )

 = 
 = 
 = 
 = 

() - () +  + ()
5() - () + () -  
4() - () +  + ()
3() - () +  + ()
2() - () + ()
() - () +  + ()`,`58.  () (() ) 

 
 ()	( ,  : (),  : )

 = 
 = 
 = 
 = 

() - () +  + ()
5() - () +  + ()
4() - () + () -  
3() - () +  + ()
2() - () +  + ()
() - () + ()`,`59.  

 
 ()	( ,  : ,  : )

 = 
 = 
 = 
 = 

() - () +  + ()
5() - () +  + ()
4() - () + ()
3() - () +  + ()
2() - () +  + () -  
() - () + ()`,`60.  

 
 ()	( ,  : ,  : )

 = 
 = 
 = 
 = 

() - () +  + () -  
5() - () + ()
4() - () +  + ()
3() - () +  + ()
2() - () + ()
() - () +  + ()`,`61.  

 
 ()	( ,  : ,  : ) (: )

 = 
 = 
 = 
 = 

() - () + ()
5() - () +  + ()
4() - () +  + ()
3() - () + ()
2() - () +  + ()
() - () +  + ()`,`62.  

 
 ()	( ,  : (),  : ) (: )

 = 
 = 
 = 
 = 

() - () + ()
5() - () + ()
4() - () +  +  + ()
3() - () + ()
2() - () + ()
() - () +  +  + ()`,`63.  

 
 ()	( ,  : ,  : )

 = 
 = 
 = 
 = 

() - () +  +  + ()
5() - () + ()
4() - () + ()
3() - () +  +  + ()
2() - () + ()
() - () + ()`,`64.  

 
 ()	( ,  : ,  : )

 = 
 = 
 = 
 = 

() - () +  + ()
5() - () + ()
4() - () +  + ()
3() - () +  + ()
2() - () + ()
() - () +  + ()`];function aCe({saju:e,viewMeta:t,initialQuestion:n="",onBaseDateChange:r}){const[i,a]=S.useState(n),[o,l]=S.useState(""),[u,d]=S.useState("all"),[h,m]=S.useState("seun"),[b,y]=S.useState(()=>{const Pe=new Date,at=new Date(Pe.getFullYear(),0,1,9,0,0,0),zt=new Date(Pe.getFullYear()+9,11,31,9,0,0,0);return{startYMD:Za(at),endYMD:Za(zt)}}),[k,w]=S.useState(()=>{const Pe=new Date,at=new Date(Pe.getFullYear(),Pe.getMonth(),1,9,0,0,0),zt=new Date(at);return zt.setMonth(zt.getMonth()+11),{startYMD:Za(at),endYMD:Za(zt)}}),[_,j]=S.useState(()=>{const Pe=new Date,at=new Date(Pe.getFullYear(),Pe.getMonth(),Pe.getDate(),9,0,0,0),zt=bG(at,6);return{startYMD:Za(at),endYMD:Za(zt)}}),[O,T]=S.useState([]),[C,M]=S.useState(null),[P,I]=S.useState([]),[z,K]=S.useState(!1),[G,F]=S.useState(!1),[B,q]=S.useState(null),X=S.useRef(null),Z=S.useRef(null),Y=S.useRef(null);S.useEffect(()=>{a(n),l(n)},[n]),S.useEffect(()=>{I([])},[h,b.startYMD,b.endYMD,k.startYMD,k.endYMD,_.startYMD,_.endYMD]),S.useEffect(()=>{if(!B)return;const Pe=window.setTimeout(()=>q(null),2200);return()=>window.clearTimeout(Pe)},[B]);const V=S.useMemo(()=>{const Pe=va(b.startYMD);if(Pe&&Pe.getMonth()===0){const at=new Date(Pe.getFullYear(),1,1,9,0,0,0);return{...b,startYMD:Za(at)}}return b},[b]),Q=h,se=S.useMemo(()=>Q?yG(Q,Q==="seun"?V:Q==="wolun"?k:_):new Date,[Q,_,V,k]);S.useEffect(()=>{r&&r(se??null)},[se,r]);const ce=S.useMemo(()=>BOe(e),[e]),W=S.useMemo(()=>`${o.trim()}::${se.toISOString()}`,[se,o]),ne=S.useMemo(()=>ce?`${W}::SAJU::${ce}`:W,[W,ce]),ie=S.useMemo(()=>{const Pe=dG(ne);return fG(Pe)},[ne]),he=S.useMemo(()=>h==="seun"?Fk("seun",V):null,[h,V]),J=S.useMemo(()=>h==="wolun"?Fk("wolun",k):null,[h,k]),ae=S.useMemo(()=>h==="ilun"?Fk("ilun",_):null,[h,_]),pe=S.useMemo(()=>{const Pe=va(b.startYMD);return Pe?String(Pe.getFullYear()):""},[b.startYMD]),me=S.useMemo(()=>{const Pe=va(b.endYMD);return Pe?String(Pe.getFullYear()):""},[b.endYMD]),ee=S.useMemo(()=>{const Pe=va(k.startYMD);if(!Pe)return"";const at=String(Pe.getMonth()+1).padStart(2,"0");return`${Pe.getFullYear()}-${at}`},[k.startYMD]),je=S.useMemo(()=>{const Pe=va(k.endYMD);if(!Pe)return"";const at=String(Pe.getMonth()+1).padStart(2,"0");return`${Pe.getFullYear()}-${at}`},[k.endYMD]),xe=S.useMemo(()=>{if(h==="seun"){const Pe=he?.seun[0];return Pe?` ${Pe.year} - ${Pe.seun}`:""}if(h==="wolun"){const Pe=J?.wolun[0];if(!Pe)return"";const at=String(Pe.month).padStart(2,"0");return` ${Pe.year}-${at} - ${Pe.seun} ${Pe.wolun}`}if(h==="ilun"){const Pe=ae?.ilun[0];return Pe?` ${Pe.dateYMD} - ${Pe.seun} ${Pe.wolun} ${Pe.ilun}`:""}return""},[h,he,J,ae]),ue=S.useCallback((Pe,at,zt)=>{Pe(Er=>({...Er,[at]:zt}))},[]),Ee=S.useCallback((Pe,at)=>{if(!at)return;const zt=Number(at);if(!Number.isFinite(zt))return;const Er=Math.trunc(zt);y(oi=>({...oi,[Pe]:`${Er}-06-15`}))},[]),Me=S.useCallback((Pe,at)=>{if(!at)return;const zt=/^(\d{4})-(\d{2})$/.exec(at);zt&&w(Er=>({...Er,[Pe]:`${zt[1]}-${zt[2]}-15`}))},[]),Ie=O.length===6,Ke=S.useMemo(()=>O.map(Pe=>cw(Pe.value)),[O]),ht=S.useMemo(()=>O.map(Pe=>uG(Pe.value)),[O]),mt=S.useMemo(()=>pG(O),[O]),De=S.useMemo(()=>O.map(Pe=>Pe.value),[O]),ze=O.length>0||!!C,Ge=P.length>0,oe=o.trim().length>0,Ce=!oe||G||Ge||Ie,Ue=!oe||z||ze||Ge||G,rt=S.useCallback(()=>{window.setTimeout(()=>{X.current?.scrollIntoView({behavior:"smooth",block:"start"})},50)},[]),xt=S.useCallback(()=>{window.setTimeout(()=>{Z.current?.scrollIntoView({behavior:"smooth",block:"start"})},50)},[]),st=S.useCallback(()=>{T([]),M(null),I([]),K(!1),F(!1),q(null)},[]),Oe=S.useCallback(()=>o.trim()?!0:(alert("  !"),window.setTimeout(()=>{Y.current?.focus()},0),!1),[o]),Fe=S.useCallback(()=>{if(!Oe()||Ce)return;K(!0);let Pe=0;T(at=>at.length>=6?at:(Pe=at.length+1,[...at,tj(ie)])),window.setTimeout(()=>{if(K(!1),Pe>=6){rt();return}Pe>0&&q(`${Pe}  !  ${Pe+1} ?`)},350)},[Oe,Ce,ie,rt]),We=S.useCallback(()=>{if(!Oe()||Ce)return;K(!0);const Pe=[];for(let at=0;at<6;at+=1)Pe.push(tj(ie));T(Pe),window.setTimeout(()=>{K(!1),rt()},350)},[Oe,Ce,ie,rt]),bt=S.useMemo(()=>{if(O.length!==6)return"";const Pe=nj(O);if(typeof Pe.number!="number")return"";const at=Pe.number-1;return at<0||at>=b5.length?"":b5[at]??""},[O]),At=S.useCallback(Pe=>{T(at=>{if(Pe<0||Pe>=at.length)return at;const zt=[...at],Er=zt[Pe];return zt[Pe]={value:$Oe(Er.value),source:"manual"},zt})},[]),Nt=S.useCallback(()=>{if(O.length!==6)return;const Pe=(o.trim()||i.trim()).trim(),at={id:mG(),kind:"iching_sixyao",createdAtISO:hG(),question:Pe,seedTextUsed:ne,linesBottomUp:O,changingLines:mt,baseBitsBottomUp:Ke,changedBitsBottomUp:ht,saju:e??void 0,viewMeta:t};M(at)},[Ke,ht,mt,ne,o,O,i,e,t]);S.useEffect(()=>{O.length===6&&Nt()},[Nt,O.length]);const Mt=S.useMemo(()=>[{value:7,source:"manual"}].concat(Array.from({length:5},()=>({value:7,source:"manual"}))),[]),Kt=S.useCallback(()=>{if(!Oe()||Ue)return;F(!0);const Pe=(o.trim()||i.trim()).trim(),at=tCe({periodTab:h,seunPayload:he,wolunPayload:J,ilunPayload:ae,questionText:Pe,sajuSeedPart:ce,saju:e,viewMeta:t});I(at),window.setTimeout(()=>{F(!1),xt()},400)},[Oe,Ue,o,ae,h,i,e,ce,he,t,J,xt]),rn=S.useMemo(()=>iCe({selectedCardText:bt,ready:Ie,periodCards:P,finalQuestion:o,question:i,baseBits:Ke,changedBits:ht,changingIndexes:mt,lineValues:De,lines:O,saju:e,periodTab:h}),[bt,Ie,P,o,i,Ke,ht,mt,De,O,e,se,he,J,ae,h]),ai=S.useCallback(async()=>{if(rn)try{await navigator.clipboard.writeText(rn),alert("  !")}catch{alert("  .   .")}},[rn]),zn=S.useMemo(()=>{if(!Ie)return null;const Pe=rj(O),at=Pe.leftTopDown.join(" "),zt=Pe.rightTopDown.join(" "),Er=Pe.markers.map(oi=>`${oi.text}${oi.atLineTopDown}`).join(", ");return{liuQin:at,zhi:zt,marks:Er}},[O,Ie]);return{saju:e,question:i,setQuestion:a,finalQuestion:o,setFinalQuestion:l,questionInputRef:Y,drawMode:u,setDrawMode:d,periodTab:h,setPeriodTab:m,seunRange:b,setSeunRange:y,wolunRange:k,setWolunRange:w,ilunRange:_,setIlunRange:j,seunStartYear:pe,seunEndYear:me,wolunStartYM:ee,wolunEndYM:je,activePeriodLabel:xe,onRangeChange:ue,onSeunYearChange:Ee,onWolunMonthChange:Me,ready:Ie,baseBits:Ke,changedBits:ht,changingIndexes:mt,lineValues:De,autoSideSummary:zn,selectedCardText:bt,drawOne:Fe,drawAll:We,reset:st,onEditLine:At,lines:O,record:C,periodCards:P,placeholderLines:Mt,copyPrompt:ai,isDrawing:z,isPeriodDrawing:G,toast:B,disableSingleDraw:Ce,disablePeriodDraw:Ue,resultRef:X,periodCardsRef:Z,buildPeriodCards:Kt}}const oCe="DAN-GW4jrUdfiXklZ12U",sCe="DAN-CeRuC0yKzSAs5Gju";function lCe(e){const{saju:t,question:n,setQuestion:r,finalQuestion:i,setFinalQuestion:a,questionInputRef:o,drawMode:l,setDrawMode:u,lines:d,isDrawing:h,disableSingleDraw:m,selectedCardText:b,drawOne:y,drawAll:k,reset:w,copyPrompt:_,toast:j,resultRef:O}=aCe(e),T=b?b.split(/\r?\n/):[],C=T[0]??"",M=T.slice(1).join("\\n").trim(),P=d.length?[...d].reverse():[],I=T.map(z=>z.trim()).map(z=>{const K=/^(|5|4|3|2|)\((|)\)\s*-\s*(.+)$/.exec(z);if(!K)return null;const G=K[1],F=K[2],B=//.test(K[3]),X=K[3].replace(/\s*-\s*\s*?/g,"").trim().split(" + ").map(Q=>Q.trim()).filter(Boolean),Z=X.filter(Q=>Q===""||Q===""||Q===""||Q===""),Y=X.find(Q=>/\([]\)/.test(Q))??"",V=X.find(Q=>/\(.+\)/.test(Q)&&Q!==Y)??"";return{label:G,yinYang:F,liuQin:V,zhi:Y,markers:Z,hasDonghyo:B}}).filter(Boolean);return g.jsxs("div",{className:"w-full max-w-[768px] mx-auto pb-12 desk:pb-4 p-4",children:[g.jsxs("div",{className:"rounded-2xl border border-neutral-200 bg-white p-4 dark:border-neutral-800 dark:bg-neutral-900",children:[g.jsx("div",{className:"text-lg font-bold text-neutral-900 dark:text-neutral-100",children:"   "}),g.jsx("div",{className:"mt-1 text-sm text-neutral-600 dark:text-neutral-400",children:"   ,     ."}),g.jsxs("div",{className:"mt-4 rounded-2xl border border-neutral-200 bg-neutral-50 p-3 dark:border-neutral-800 dark:bg-neutral-950",children:[g.jsx("div",{className:"text-sm font-semibold text-neutral-900 dark:text-neutral-100",children:" "}),t?g.jsxs("div",{className:"mt-1 text-sm text-neutral-700 dark:text-neutral-300 space-y-1",children:[g.jsxs("div",{children:[g.jsx("span",{className:"font-semibold",children:":"})," ",t.name?t.name:" ",t.gender?`  ${t.gender}`:""]}),t.pillarsText?g.jsxs("div",{children:[g.jsx("span",{className:"font-semibold",children:":"})," ",t.pillarsText]}):null]}):g.jsx("div",{className:"mt-1 text-sm text-neutral-600 dark:text-neutral-400",children:"  ."})]}),g.jsxs("div",{className:"mt-4 grid grid-cols-1 gap-3",children:[g.jsxs("label",{className:"block",children:[g.jsx("div",{className:"text-sm font-medium text-neutral-800 dark:text-neutral-200",children:""}),g.jsx("textarea",{ref:o,value:n,onChange:z=>r(z.target.value),rows:3,className:"mt-1 w-full rounded-xl border border-neutral-200 bg-white px-3 py-2 text-sm outline-none focus:border-neutral-400 dark:border-neutral-800 dark:bg-neutral-900 dark:text-neutral-100",placeholder:"      !"})]}),g.jsxs("div",{className:"flex flex-wrap items-center gap-2 text-xs text-neutral-600 dark:text-neutral-400",children:[g.jsx("button",{type:"button",onClick:()=>a(n.trim()),className:"rounded-xl border border-neutral-300 bg-white px-3 py-2 text-xs font-semibold text-neutral-800 hover:bg-neutral-50 dark:border-neutral-700 dark:bg-neutral-900 dark:text-neutral-100 dark:hover:bg-neutral-800 cursor-pointer",children:" "}),g.jsxs("span",{children:[" : ",i.trim()?i:""]})]}),g.jsxs("div",{className:"rounded-2xl border border-neutral-200 bg-neutral-50 p-3 dark:border-neutral-800 dark:bg-neutral-950",children:[g.jsx("div",{className:"text-sm font-semibold text-neutral-900 dark:text-neutral-100",children:" "}),g.jsxs("div",{className:"mt-2 flex flex-wrap gap-3 text-sm text-neutral-700 dark:text-neutral-300",children:[g.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[g.jsx("input",{type:"radio",name:"drawMode",checked:l==="all",onChange:()=>u("all")})," "]}),g.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[g.jsx("input",{type:"radio",name:"drawMode",checked:l==="step",onChange:()=>u("step")})," "]})]})]}),g.jsxs("div",{className:"flex flex-wrap gap-2",children:[g.jsx("button",{type:"button",onClick:l==="all"?k:y,disabled:m||h,className:"rounded-xl bg-neutral-900 px-4 py-2 text-sm font-semibold text-white hover:bg-neutral-800 disabled:cursor-not-allowed disabled:opacity-50 dark:bg-neutral-100 dark:text-neutral-900 dark:hover:bg-neutral-200 cursor-pointer",children:l==="all"?" ":`1  (${d.length}/6)`}),g.jsx("button",{type:"button",onClick:w,className:"rounded-xl border border-neutral-300 bg-white px-4 py-2 text-sm font-semibold text-neutral-800 hover:bg-neutral-50 dark:border-neutral-700 dark:bg-neutral-900 dark:text-neutral-100 dark:hover:bg-neutral-800 cursor-pointer",children:""}),h?g.jsxs("div",{className:"flex items-center gap-2 text-xs text-neutral-600 dark:text-neutral-400",children:[g.jsx("span",{children:" "}),g.jsx("span",{className:"animate-pulse",children:"..."})]}):null]})]})]}),g.jsxs("div",{className:"mt-4",ref:O,children:[g.jsxs("div",{className:"mb-3",children:[g.jsx("div",{className:"hidden md:block",children:g.jsx(_u,{enabled:!0,adUnit:sCe,width:728,height:90})}),g.jsx("div",{className:"md:hidden",children:g.jsx(_u,{enabled:!0,adUnit:oCe,width:320,height:50})})]}),b?g.jsx("div",{className:"rounded-2xl border border-neutral-200 bg-gradient-to-b from-amber-50 to-white p-4 shadow-sm dark:border-neutral-800 dark:from-neutral-900 dark:to-neutral-950",children:g.jsxs("div",{className:"flex flex-col gap-4 md:flex-row",children:[g.jsxs("div",{className:"w-full md:w-[180px]",children:[g.jsx("div",{className:"rounded-xl border border-amber-200 bg-white px-3 py-2 text-sm font-semibold text-amber-900 dark:border-neutral-700 dark:bg-neutral-900 dark:text-neutral-100",children:C}),g.jsxs("div",{className:"mt-3 rounded-xl border border-amber-200 bg-white px-3 py-4 dark:border-neutral-700 dark:bg-neutral-900",children:[g.jsx("div",{className:"text-xs font-semibold text-neutral-700 dark:text-neutral-300",children:" "}),g.jsx("div",{className:"mt-2 flex flex-col gap-2",children:P.map((z,K)=>g.jsxs("div",{className:"flex items-center gap-2",children:[g.jsx("span",{className:"text-[10px] text-neutral-500 dark:text-neutral-400",children:6-K}),g.jsx(LOe,{yinYang:cw(z.value),changing:!1,showChanging:!1})]},`line-${K}`))})]})]}),g.jsxs("div",{className:"flex-1 rounded-xl border border-amber-200 bg-white p-4 dark:border-neutral-700 dark:bg-neutral-900",children:[g.jsx("div",{className:"space-y-2",children:(I.length?I:[]).map(z=>g.jsxs("div",{className:"flex items-center justify-between gap-3 rounded-lg border border-amber-100 bg-amber-50/50 px-3 py-2 text-sm dark:border-neutral-800 dark:bg-neutral-950",children:[g.jsxs("div",{children:[g.jsxs("div",{className:"font-semibold text-neutral-900 dark:text-neutral-100",children:[z.label," (",z.yinYang,")"]}),g.jsxs("div",{className:"text-xs text-neutral-700 dark:text-neutral-300",children:[z.liuQin||"-"," ",z.zhi?`  ${z.zhi}`:""]})]}),g.jsxs("div",{className:"flex flex-wrap gap-1 text-[10px] font-semibold text-amber-900 dark:text-neutral-200",children:[z.hasDonghyo&&g.jsx("span",{className:"rounded border border-red-200 bg-red-50 px-1.5 py-0.5 text-red-600 dark:border-red-900/40 dark:bg-red-950/40 dark:text-red-300",children:""}),z.markers.map(K=>g.jsx("span",{className:"rounded border border-amber-200 bg-white px-1.5 py-0.5 dark:border-neutral-700 dark:bg-neutral-900",children:K},`${z.label}-${K}`))]})]},z.label))}),!I.length&&g.jsx("pre",{className:"mt-2 whitespace-pre-wrap text-sm text-neutral-800 dark:text-neutral-100",children:M})]})]})}):g.jsx("div",{className:"text-sm text-neutral-600 dark:text-neutral-400",children:"   ."})]}),g.jsxs("div",{className:"mt-4 rounded-2xl border border-neutral-200 bg-white p-4 dark:border-neutral-800 dark:bg-neutral-900",children:[g.jsx("div",{className:"text-sm font-semibold text-neutral-900 dark:text-neutral-100",children:" "}),g.jsx("div",{className:"mt-1 text-xs text-neutral-600 dark:text-neutral-400",children:"   AI    ."}),b?g.jsx("button",{type:"button",onClick:_,className:"mt-3 w-full rounded-xl border border-neutral-300 bg-white px-3 py-2 text-xs font-semibold text-neutral-800 hover:bg-neutral-50 dark:border-neutral-700 dark:bg-neutral-900 dark:text-neutral-100 dark:hover:bg-neutral-800 cursor-pointer",children:"AI   "}):g.jsx("div",{className:"mt-3 text-sm text-neutral-600 dark:text-neutral-400",children:"  ."})]}),j?g.jsx("div",{className:"fixed bottom-6 left-1/2 z-50 w-[90%] max-w-sm -translate-x-1/2",children:g.jsx("div",{className:"rounded-2xl border border-neutral-200 bg-white px-4 py-3 text-sm text-neutral-900 shadow-lg dark:border-neutral-800 dark:bg-neutral-900 dark:text-neutral-100",children:j})}):null]})}const cCe="DAN-INfSKh1pW2cEtWNu";function Yb(e){return!e?.stem||!e?.branch?"":`${e.stem}${e.branch}`}function uCe(e){const t=[e.year?`${e.year}`:"",e.month?`${e.month}`:"",e.day?`${e.day}`:"",e.hour?`${e.hour}`:""].filter(Boolean);return t.length?t.join(" "):""}function Yk(e){if(typeof e!="string")return!1;const t=e.trim();return t===""||t===""||t===""||t==="self"||t===""||t===""}function dCe({current:e}){const t=Iy(h=>h.useDST),n=e.mingSikType,r=S.useMemo(()=>$E(e,t),[e,t]),[i,a]=S.useState(null),o=ni(h=>h.date),l=yx(e,n,i??o??void 0),u=S.useMemo(()=>{const h={year:Yb(r.year),month:Yb(r.month),day:Yb(r.day),hour:Yb(r.hour)},m=e.ganjiText?.trim()||e.ganji?.trim()||uCe(h),b={daeun:l.dae.gz||void 0,seun:l.se.gz||void 0,wolun:l.wol.gz||void 0,ilun:l.il.gz||void 0};return{name:e.name||void 0,gender:e.gender||void 0,pillarsText:m,pillars:h,luck:b}},[e,l,r]),d=S.useMemo(()=>({sourceRoute:"/iching",currentId:e.id,currentName:e.name??null}),[e.id,e.name]);return g.jsx("div",{className:"py-2",children:g.jsx(lCe,{saju:u,viewMeta:d,onBaseDateChange:a},e.id)})}function fCe(){const e=jn(w=>w.list),t=jn(w=>w.loading),n=jn(w=>w.currentId),r=jn(w=>w.setCurrentId),i=cc(),a=S.useRef(!1),[o,l]=S.useState(!1),u=S.useRef(!1),d=vn(w=>w.shouldShowAdsNow()),h=S.useMemo(()=>e.find(_=>Yk(_.relationship))?.id??null,[e]);S.useEffect(()=>{if(t||e.length===0)return;const w=h??e[0]?.id??null;if(!a.current){w&&n!==w&&r(w),a.current=!0;return}n&&!e.some(_=>_.id===n)&&w&&r(w)},[t,e,n,h,r]),S.useEffect(()=>{t&&l(!0)},[t]);const m=S.useMemo(()=>e.find(w=>w.id===n)??null,[e,n]),b=S.useMemo(()=>m||(e.find(_=>Yk(_.relationship))??e[0]??null),[m,e]),y=S.useMemo(()=>{const w=e.find(_=>Yk(_.relationship));return w?[w,...e.filter(_=>_.id!==w.id)]:e},[e]);S.useEffect(()=>{o&&(t||e.length>0||u.current||(u.current=!0,alert("   .  ."),i("/",{replace:!0})))},[o,e.length,t,i]),S.useEffect(()=>{let w=!0;Le.auth.getSession().then(({data:j})=>{w&&(j.session?.user||i("/",{replace:!0}))});const{data:_}=Le.auth.onAuthStateChange((j,O)=>{O?.user||i("/",{replace:!0})});return()=>{w=!1,_.subscription.unsubscribe()}},[i]);const k=S.useMemo(()=>n||h||(e[0]?.id??""),[n,h,e]);return g.jsxs("div",{className:"min-h-screen bg-neutral-100 dark:bg-neutral-950",children:[g.jsx(rG,{enabled:d}),d&&g.jsx(lG,{enabled:!0,clientId:"ca-pub-4729618898154189",slotId:"1598573921",width:160,height:600,showAfterScrollY:0,side:"left",sidePx:16,topPx:60,breakpointClassName:"hidden desk:block"}),g.jsx("div",{className:"hidden desk:block",children:g.jsx(iG,{enabled:d,adUnit:cCe,width:160,height:600,showAfterScrollY:0,rightPx:16,topPx:60,breakpointClassName:"hidden desk:block"})}),g.jsxs("div",{className:"w-full max-w-[768px] mx-auto px-4 pt-4",children:[g.jsxs("div",{className:"flex items-center justify-between gap-3",children:[g.jsxs("div",{children:[g.jsx("div",{className:"text-xl font-bold text-neutral-900 dark:text-neutral-100",children:"   "}),g.jsx("div",{className:"text-sm text-neutral-600 dark:text-neutral-400",children:"    ."})]}),g.jsx(fj,{to:"/",className:"rounded-xl border border-neutral-300 bg-white px-4 py-2 text-sm font-semibold text-neutral-800 hover:bg-neutral-50 dark:border-neutral-700 dark:bg-neutral-900 dark:text-neutral-100 dark:hover:bg-neutral-800",children:""})]}),e.length>0&&g.jsxs("div",{className:"mt-4 flex flex-col gap-2 sm:flex-row sm:items-center sm:justify-between",children:[g.jsx("label",{className:"text-sm font-medium text-neutral-700 dark:text-neutral-300",children:" "}),g.jsxs("select",{className:"w-full sm:w-[320px] rounded-xl border border-neutral-300 bg-white px-3 py-2 text-sm dark:border-neutral-700 dark:bg-neutral-900 dark:text-neutral-100",value:k,onChange:w=>{const _=w.target.value;_&&r(_)},children:[g.jsx("option",{value:"",disabled:!0,children:""}),y.map(w=>g.jsx("option",{value:w.id,children:w.name?.trim()?w.name:" "},w.id))]})]})]}),t&&e.length===0&&g.jsx("div",{className:"w-full max-w-[768px] mx-auto px-4 py-10",children:g.jsx("div",{className:"rounded-2xl border border-neutral-200 bg-white p-4 text-sm text-neutral-600 dark:border-neutral-800 dark:bg-neutral-900 dark:text-neutral-400",children:" .."})}),b&&g.jsx(dCe,{current:b})]})}function hCe(e){return typeof e=="object"&&e!==null}function mCe(e){if(!hCe(e))return null;const t=typeof e.ok=="boolean"?e.ok:void 0,n=typeof e.total_active_ms=="number"?e.total_active_ms:void 0,r=typeof e.upgraded_to_basic=="boolean"?e.upgraded_to_basic:void 0;return{ok:t,total_active_ms:n,upgraded_to_basic:r}}function xG({enabled:e=!0,intervalMs:t=6e4,path:n,onBasicUnlocked:r,onTotalActiveMs:i}){const a=S.useRef(!1),o=S.useRef(""),l=S.useRef(!1),u=S.useRef(null),d=S.useRef(null),h=S.useRef(null),m=S.useRef(0);return S.useEffect(()=>{o.current=n??""},[n]),S.useEffect(()=>{let b=null;return(async()=>{const{data:k}=await Le.auth.getSession();u.current=k.session?.user?.id??null;const _=Le.auth.onAuthStateChange((j,O)=>{u.current=O?.user?.id??null,l.current=!1}).data?.subscription;_&&typeof _.unsubscribe=="function"&&(b=()=>_.unsubscribe())})(),()=>{b&&b()}},[]),S.useEffect(()=>{if(!e)return;const b=async w=>{if(document.visibilityState!=="visible")return;const _=Date.now();if(!(w!=="init"&&_-m.current<1e4)&&(m.current=_,!a.current)){a.current=!0;try{if(!u.current)return;const O=o.current||null,{data:T,error:C}=await Le.rpc("ping_activity",{p_last_path:O});if(C)return;const M=mCe(T);if(!M)return;typeof M.total_active_ms=="number"&&i?.(M.total_active_ms),M.upgraded_to_basic===!0&&!l.current&&(l.current=!0,r?.())}finally{a.current=!1}}};b("init");const y=Math.floor(Math.random()*5e3);h.current=window.setTimeout(()=>{b("interval"),d.current=window.setInterval(()=>void b("interval"),t)},y);const k=()=>{document.visibilityState==="visible"&&b("visible")};return document.addEventListener("visibilitychange",k),()=>{document.removeEventListener("visibilitychange",k),h.current!==null&&(window.clearTimeout(h.current),h.current=null),d.current!==null&&(window.clearInterval(d.current),d.current=null)}},[e,t,r,i]),null}function pCe(){const e=jn(a=>a.loadFromServer),t=jn(a=>a.migrateLocalToServer),n=nn(a=>a.loadFromServer),r=vn(a=>a.loadFromServer),i=S.useCallback(async()=>{await t(),await Promise.all([r(),n(),e()])},[t,r,n,e]);return S.useEffect(()=>{i();const{data:a}=Le.auth.onAuthStateChange(o=>{o==="TOKEN_REFRESHED"||o==="INITIAL_SESSION"||i()});return()=>{a.subscription.unsubscribe()}},[i]),null}function gCe(e){try{const t=localStorage.getItem(e);if(!t)return 0;const n=Number(t);return Number.isFinite(n)?n:0}catch{return 0}}function bCe(e,t){try{localStorage.setItem(e,String(t))}catch{}}function yCe(e){return e<=0?0:Math.floor(Math.random()*e)}function vCe({enabled:e=!0,href:t="https://open.kakao.com/o/sjBRz57h",hintTexts:n=["    !"," .",",  ."," ,   ,  !","  !  ! "],hideHintHours:r=24,cycleMs:i=4200,mobilePaddingX:a=0,bottomDockCssVarName:o="--bottom-dock"}){const l=S.useMemo(()=>"kakao_chat_hint_hide_until",[]),[u,d]=S.useState(!1),[h,m]=S.useState(()=>yCe(n.length)),b=S.useRef(null),y=S.useCallback(_=>{if(typeof document>"u")return;const j=`${Math.max(0,Math.floor(_))}px`;document.documentElement.style.setProperty(o,j)},[o]);if(S.useEffect(()=>{if(n.length<=0){m(0);return}m(_=>_%n.length)},[n.length]),S.useEffect(()=>{if(!e){d(!1);return}const _=gCe(l),j=Date.now();if(_>j){d(!1);return}const O=window.setTimeout(()=>d(!0),900);return()=>window.clearTimeout(O)},[e,l]),S.useEffect(()=>{if(!e||!u||n.length<=1)return;const _=window.setInterval(()=>{m(j=>j+1>=n.length?0:j+1)},i);return()=>window.clearInterval(_)},[e,u,n.length,i]),S.useEffect(()=>{if(!e||!u){y(0);return}const _=b.current;if(!_){y(0);return}const j=()=>{const O=Math.ceil(_.getBoundingClientRect().height);y(O)};if(j(),typeof ResizeObserver<"u"){const O=new ResizeObserver(j);return O.observe(_),()=>{O.disconnect(),y(0)}}return window.addEventListener("resize",j),()=>{window.removeEventListener("resize",j),y(0)}},[e,u,y]),!e)return null;const k=()=>{bCe(l,Date.now()+r*60*60*1e3),d(!1),y(0)},w=n[h]??"";return g.jsxs(g.Fragment,{children:[g.jsx("style",{children:`
        @keyframes hintFadeCycle {
          0%   { opacity: 0; transform: translate3d(0, 6px, 0); }
          14%  { opacity: 1; transform: translate3d(0, 0, 0); }
          78%  { opacity: 1; transform: translate3d(0, 0, 0); }
          100% { opacity: 0; transform: translate3d(0, -2px, 0); }
        }
      `}),u&&n.length>0?g.jsx("div",{ref:b,className:"desk:hidden fixed left-0 right-0 bottom-0 z-[99] pointer-events-none",style:{paddingLeft:a,paddingRight:a,paddingBottom:0},children:g.jsxs("div",{className:"pointer-events-auto w-full border border-neutral-700 bg-neutral-900/95 text-white shadow-lg",style:{display:"grid",gridTemplateColumns:"1fr auto",alignItems:"center",gap:10,padding:"4px 8px"},children:[g.jsx("div",{className:"min-w-0 text-xs whitespace-nowrap overflow-hidden text-ellipsis",style:{animationName:"hintFadeCycle",animationDuration:`${i}ms`,animationTimingFunction:"ease-in-out",animationIterationCount:"infinite"},title:w,children:w}),g.jsxs("div",{style:{display:"flex",alignItems:"center",gap:8},children:[g.jsx("button",{type:"button",onClick:k,"aria-label":" ",title:"",className:"w-8 h-8 rounded-full bg-neutral-800 border border-neutral-700 text-[14px] flex items-center justify-center hover:bg-neutral-700",children:g.jsx(ky,{})}),g.jsx("a",{href:t,target:"_blank",rel:"noopener noreferrer","aria-label":"  ",title:"( )",className:`w-8 h-8 rounded-full bg-neutral-800 hover:bg-neutral-700 border border-neutral-700
                           flex items-center justify-center transition-colors`,children:g.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none","aria-hidden":"true",children:[g.jsx("path",{d:"M4 5.5C4 4.12 5.12 3 6.5 3h11C18.88 3 20 4.12 20 5.5v7C20 13.88 18.88 15 17.5 15H10l-4.5 4V15H6.5C5.12 15 4 13.88 4 12.5v-7Z",stroke:"currentColor",strokeWidth:"1.8",strokeLinejoin:"round"}),g.jsx("path",{d:"M7.5 7.5h9M7.5 10.5h6",stroke:"currentColor",strokeWidth:"1.8",strokeLinecap:"round"})]})})]})]})}):null,g.jsxs("div",{className:"hidden desk:block fixed right-5 bottom-5 z-[999]",children:[u&&n.length>0&&g.jsx("div",{className:"absolute bottom-14 right-0 w-max max-w-[260px]",children:g.jsxs("div",{className:"relative rounded-xl bg-neutral-900 text-white border border-neutral-700 shadow-lg px-3 py-2 text-xs whitespace-pre-line",style:{animationName:"hintFadeCycle",animationDuration:`${i}ms`,animationTimingFunction:"ease-in-out",animationIterationCount:"infinite"},children:[w,g.jsx("button",{type:"button",onClick:k,className:"absolute -top-2 -right-2 w-6 h-6 rounded-full bg-neutral-800 border border-neutral-700 text-[12px] flex items-center justify-center hover:bg-neutral-700 cursor-pointer","aria-label":" ",title:"",children:g.jsx(ky,{size:12})}),g.jsx("div",{className:"absolute -bottom-2 right-4 w-0 h-0 border-l-8 border-r-8 border-t-8 border-l-transparent border-r-transparent border-t-neutral-900"})]})}),g.jsx("a",{href:t,target:"_blank",rel:"noopener noreferrer","aria-label":"  ",title:"( )",className:`flex items-center justify-center w-12 h-12 rounded-full shadow-lg
                     bg-neutral-800 hover:bg-neutral-700 border border-neutral-700 transition-colors`,children:g.jsxs("svg",{width:"22",height:"22",viewBox:"0 0 24 24",fill:"none","aria-hidden":"true",children:[g.jsx("path",{d:"M4 5.5C4 4.12 5.12 3 6.5 3h11C18.88 3 20 4.12 20 5.5v7C20 13.88 18.88 15 17.5 15H10l-4.5 4V15H6.5C5.12 15 4 13.88 4 12.5v-7Z",stroke:"currentColor",strokeWidth:"1.8",strokeLinejoin:"round"}),g.jsx("path",{d:"M7.5 7.5h9M7.5 10.5h6",stroke:"currentColor",strokeWidth:"1.8",strokeLinecap:"round"})]})})]})]})}function xCe(e){const t=["#F87171","#FBBF24","#34D399","#60A5FA","#A78BFA","#F472B6"],n=[];for(let r=0;r<e;r+=1)n.push({leftPct:Math.random()*100,size:6+Math.floor(Math.random()*8),delayMs:Math.floor(Math.random()*300),durationMs:1200+Math.floor(Math.random()*900),rotate:Math.floor(Math.random()*360),driftPx:-40+Math.floor(Math.random()*80),color:t[r%t.length]});return n}function wCe({open:e,onClose:t}){const n=S.useMemo(()=>xCe(48),[]);return S.useEffect(()=>{if(!e)return;const r=a=>{a.key==="Escape"&&t()};window.addEventListener("keydown",r);const i=window.setTimeout(()=>t(),6e3);return()=>{window.removeEventListener("keydown",r),window.clearTimeout(i)}},[e,t]),e?g.jsxs("div",{className:"fixed inset-0 z-[2000] flex items-center justify-center",children:[g.jsx("style",{children:`
        @keyframes confettiFall {
          0%   { transform: translate3d(var(--dx), -20px, 0) rotate(var(--rot)); opacity: 0; }
          10%  { opacity: 1; }
          100% { transform: translate3d(var(--dx), 560px, 0) rotate(calc(var(--rot) + 360deg)); opacity: 0; }
        }
        @keyframes pop {
          0% { transform: scale(0.98); opacity: 0; }
          100% { transform: scale(1); opacity: 1; }
        }
      `}),g.jsx("div",{className:"absolute inset-0 bg-black/60",onClick:t}),g.jsx("div",{className:"absolute inset-0 overflow-hidden pointer-events-none",children:n.map((r,i)=>{const a={position:"absolute",top:0,left:`${r.leftPct}%`,width:r.size,height:Math.max(8,r.size+6),background:r.color,borderRadius:2,transform:`rotate(${r.rotate}deg)`,animation:`confettiFall ${r.durationMs}ms ease-out ${r.delayMs}ms forwards`,"--dx":`${r.driftPx}px`,"--rot":`${r.rotate}deg`};return g.jsx("span",{style:a},i)})}),g.jsxs("div",{className:`relative w-[92%] max-w-[420px] rounded-2xl bg-white dark:bg-neutral-950
                   border border-neutral-200 dark:border-neutral-800 shadow-xl p-5`,style:{animation:"pop 160ms ease-out"},children:[g.jsxs("div",{className:"text-center",children:[g.jsx("div",{className:"text-3xl mb-2",children:""}),g.jsx("div",{className:"text-xl font-extrabold text-neutral-900 dark:text-neutral-50",children:"BASIC  !"}),g.jsx("div",{className:"mt-2 text-sm text-neutral-600 dark:text-neutral-300",children:"     ! "})]}),g.jsx("div",{className:"mt-4 flex justify-center gap-2",children:g.jsx("button",{type:"button",onClick:t,className:"px-4 py-2 rounded-lg bg-neutral-900 text-white hover:bg-neutral-800 cursor-pointer",children:""})})]})]}):null}function y5(e){if(typeof e!="string")return"FREE";const t=e.toUpperCase();return t==="BASIC"?"BASIC":t==="PRO"?"PRO":"FREE"}function _Ce(){const e=qr(),t=e.pathname+e.search,n=!e.pathname.startsWith("/admin")&&!e.pathname.startsWith("/impersonate")&&!e.pathname.startsWith("/auth/callback"),[r,i]=S.useState(!1),a=vn(b=>b.loaded),o=vn(b=>b.loading),l=vn(b=>b.userId),u=vn(b=>y5(b.plan)),d=S.useRef(!1);S.useEffect(()=>{n&&(a||o||vn.getState().loadFromServer())},[n,a,o]);const h=S.useCallback(async()=>{if(d.current)return;d.current=!0;const{data:b,error:y}=await Le.rpc("mark_basic_celebrated");if(y){console.warn("[basic celebration] rpc error:",y.message);return}b===!0&&i(!0)},[]);S.useEffect(()=>{n&&a&&l&&u==="BASIC"&&h()},[n,a,l,u,h]);const m=S.useCallback(()=>{(async()=>(await vn.getState().loadFromServer(),y5(vn.getState().plan)==="BASIC"&&(d.current=!1,await h())))()},[h]);return g.jsxs(g.Fragment,{children:[g.jsx(xG,{enabled:n,path:t,onBasicUnlocked:m}),g.jsx(vCe,{enabled:n}),g.jsx(wCe,{open:r,onClose:()=>i(!1)})]})}function SCe(e){return typeof e=="object"&&e!==null}function kCe(e){if(!Array.isArray(e)||e.length===0)return null;const t=e[0];if(!SCe(t))return null;const n=t.disabled_at;return typeof n=="string"?n:null}function ECe(){const e=cc(),t=qr(),n=S.useRef(!1);return S.useEffect(()=>{const r=async()=>{if(!n.current){n.current=!0;try{const{data:o}=await Le.auth.getSession(),l=o.session?.user?.id??null;if(!l)return;const{data:u,error:d}=await Le.rpc("get_my_account_status");if(!d){!!kCe(u)&&t.pathname!=="/disabled"&&e("/disabled",{replace:!0});return}const{data:h,error:m}=await Le.from("profiles").select("disabled_at").eq("user_id",l).maybeSingle();if(m)return;(h?.disabled_at??null)&&t.pathname!=="/disabled"&&e("/disabled",{replace:!0})}finally{n.current=!1}}};r();const{data:i}=Le.auth.onAuthStateChange(()=>{r()}),a=()=>{document.visibilityState==="visible"&&r()};return document.addEventListener("visibilitychange",a),()=>{document.removeEventListener("visibilitychange",a),i.subscription.unsubscribe()}},[e,t.pathname]),null}function jCe(e){return typeof e=="object"&&e!==null}function TCe(e){if(!Array.isArray(e)||e.length===0)return null;const t=e[0];if(!jCe(t))return null;const n=t.disabled_at;return typeof n=="string"?n:null}const ACe=Zo((e,t)=>({loaded:!1,loading:!1,userId:null,disabledAt:null,reset:()=>{e({loaded:!0,loading:!1,userId:null,disabledAt:null})},loadFromServer:async n=>{if(!t().loading){e({loading:!0,userId:n});try{const{data:i,error:a}=await Le.rpc("get_my_account_status");if(!a){const d=TCe(i);e({loaded:!0,loading:!1,disabledAt:d});return}const{data:o,error:l}=await Le.from("profiles").select("disabled_at").eq("user_id",n).maybeSingle();if(l){console.error("[accountStatus] load error:",l),e({loaded:!0,loading:!1,disabledAt:null});return}const u=o?.disabled_at??null;e({loaded:!0,loading:!1,disabledAt:typeof u=="string"?u:null})}catch(i){console.error("[accountStatus] exception:",i),e({loaded:!0,loading:!1,disabledAt:null})}}}}));function NCe(e){if(!e)return"-";const t=Date.parse(e);return Number.isFinite(t)?new Date(t).toLocaleString():e}function OCe(){const e=ACe(n=>n.disabledAt),t=S.useCallback(async()=>{try{await Le.auth.signOut(),window.location.href="/"}catch(n){console.error("signOut error:",n),window.location.href="/"}},[]);return g.jsx("main",{className:"min-h-screen flex items-center justify-center p-6 text-white",children:g.jsxs("div",{className:"w-full max-w-[520px] bg-neutral-900 border border-neutral-700 rounded-xl p-6",children:[g.jsx("h1",{className:"text-2xl font-bold mb-3",children:" "}),g.jsxs("div",{className:"text-sm text-neutral-300 leading-6",children:["        .",g.jsx("span",{className:"font-semibold text-neutral-100",children:NCe(e)})]}),g.jsx("div",{className:"mt-5 p-3 bg-neutral-800 border border-neutral-700 rounded text-sm text-neutral-300",children:"    ."}),g.jsxs("div",{className:"mt-6 flex gap-2",children:[g.jsx("button",{type:"button",onClick:t,className:"px-4 py-2 rounded bg-neutral-700 hover:bg-neutral-600 cursor-pointer",children:""}),g.jsx("button",{type:"button",onClick:()=>window.location.reload(),className:"px-4 py-2 rounded bg-blue-700 hover:bg-blue-600 cursor-pointer",children:""})]})]})})}function CCe(){const e=qr();return S.useEffect(()=>{window.scrollTo({top:0,left:0,behavior:"auto"})},[e.pathname]),g.jsxs(g.Fragment,{children:[g.jsx(pCe,{}),g.jsx(_Ce,{}),g.jsx(ECe,{}),g.jsx(xG,{}),g.jsxs(Bq,{children:[g.jsx(qa,{path:"/auth/callback",element:g.jsx(ROe,{})}),g.jsx(qa,{path:"/disabled",element:g.jsx(OCe,{})}),g.jsx(qa,{path:"/iching",element:g.jsx(fCe,{})}),g.jsx(qa,{path:"/",element:g.jsx(Gb,{})}),g.jsx(qa,{path:"/faq",element:g.jsx(Gb,{})}),g.jsx(qa,{path:"/couple",element:g.jsx(Gb,{})}),g.jsx(qa,{path:"/result",element:g.jsx(Gb,{})}),g.jsx(qa,{path:"/admin/*",element:g.jsx(SH,{})}),g.jsx(qa,{path:"/impersonate",element:g.jsx(POe,{})}),g.jsx(qa,{path:"*",element:g.jsx(Iq,{to:"/",replace:!0})})]})]})}YY.createRoot(document.getElementById("root")).render(g.jsx(lK,{children:g.jsx(CCe,{})}));
