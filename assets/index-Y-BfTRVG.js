function u2(e,t){for(var n=0;n<t.length;n++){const r=t[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in e)){const a=Object.getOwnPropertyDescriptor(r,i);a&&Object.defineProperty(e,i,a.get?a:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const a of i)if(a.type==="childList")for(const s of a.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&r(s)}).observe(document,{childList:!0,subtree:!0});function n(i){const a={};return i.integrity&&(a.integrity=i.integrity),i.referrerPolicy&&(a.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?a.credentials="include":i.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function r(i){if(i.ep)return;i.ep=!0;const a=n(i);fetch(i.href,a)}})();function Li(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function Rm(e){if(Object.prototype.hasOwnProperty.call(e,"__esModule"))return e;var t=e.default;if(typeof t=="function"){var n=function r(){var i=!1;try{i=this instanceof r}catch{}return i?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};n.prototype=t.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(e).forEach(function(r){var i=Object.getOwnPropertyDescriptor(e,r);Object.defineProperty(n,r,i.get?i:{enumerable:!0,get:function(){return e[r]}})}),n}var Dx={exports:{}},wh={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Jj;function _U(){if(Jj)return wh;Jj=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function n(r,i,a){var s=null;if(a!==void 0&&(s=""+a),i.key!==void 0&&(s=""+i.key),"key"in i){a={};for(var c in i)c!=="key"&&(a[c]=i[c])}else a=i;return i=a.ref,{$$typeof:e,type:r,key:s,ref:i!==void 0?i:null,props:a}}return wh.Fragment=t,wh.jsx=n,wh.jsxs=n,wh}var Qj;function xU(){return Qj||(Qj=1,Dx.exports=_U()),Dx.exports}var _=xU();const O3="harim.theme",SS="harim.settings.v1";function j3(){try{const e=localStorage.getItem(O3);if(e==="dark"||e==="light")return e;const t=localStorage.getItem(SS);if(t){const r=JSON.parse(t)?.theme;if(r==="dark"||r==="light")return r}return null}catch{return null}}function G0(e){try{localStorage.setItem(O3,e);const t=localStorage.getItem(SS),n=t?JSON.parse(t):{};localStorage.setItem(SS,JSON.stringify({...n,theme:e}))}catch{}}function N3(e){const t=document.documentElement;t.classList.toggle("dark",e==="dark"),t.style.setProperty("color-scheme",e)}(function(){try{const e=j3()??(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light");N3(e)}catch{}})();var Px={exports:{}},mt={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var eN;function wU(){if(eN)return mt;eN=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),a=Symbol.for("react.consumer"),s=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),f=Symbol.for("react.memo"),m=Symbol.for("react.lazy"),p=Symbol.for("react.activity"),y=Symbol.iterator;function b(q){return q===null||typeof q!="object"?null:(q=y&&q[y]||q["@@iterator"],typeof q=="function"?q:null)}var x={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},T=Object.assign,S={};function j(q,K,X){this.props=q,this.context=K,this.refs=S,this.updater=X||x}j.prototype.isReactComponent={},j.prototype.setState=function(q,K){if(typeof q!="object"&&typeof q!="function"&&q!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,q,K,"setState")},j.prototype.forceUpdate=function(q){this.updater.enqueueForceUpdate(this,q,"forceUpdate")};function D(){}D.prototype=j.prototype;function O(q,K,X){this.props=q,this.context=K,this.refs=S,this.updater=X||x}var M=O.prototype=new D;M.constructor=O,T(M,j.prototype),M.isPureReactComponent=!0;var N=Array.isArray;function R(){}var $={H:null,A:null,T:null,S:null},B=Object.prototype.hasOwnProperty;function H(q,K,X){var ie=X.ref;return{$$typeof:e,type:q,key:K,ref:ie!==void 0?ie:null,props:X}}function V(q,K){return H(q.type,K,q.props)}function z(q){return typeof q=="object"&&q!==null&&q.$$typeof===e}function F(q){var K={"=":"=0",":":"=2"};return"$"+q.replace(/[=:]/g,function(X){return K[X]})}var Q=/\/+/g;function ee(q,K){return typeof q=="object"&&q!==null&&q.key!=null?F(""+q.key):K.toString(36)}function be(q){switch(q.status){case"fulfilled":return q.value;case"rejected":throw q.reason;default:switch(typeof q.status=="string"?q.then(R,R):(q.status="pending",q.then(function(K){q.status==="pending"&&(q.status="fulfilled",q.value=K)},function(K){q.status==="pending"&&(q.status="rejected",q.reason=K)})),q.status){case"fulfilled":return q.value;case"rejected":throw q.reason}}throw q}function J(q,K,X,ie,Z){var W=typeof q;(W==="undefined"||W==="boolean")&&(q=null);var de=!1;if(q===null)de=!0;else switch(W){case"bigint":case"string":case"number":de=!0;break;case"object":switch(q.$$typeof){case e:case t:de=!0;break;case m:return de=q._init,J(de(q._payload),K,X,ie,Z)}}if(de)return Z=Z(q),de=ie===""?"."+ee(q,0):ie,N(Z)?(X="",de!=null&&(X=de.replace(Q,"$&/")+"/"),J(Z,K,X,"",function(se){return se})):Z!=null&&(z(Z)&&(Z=V(Z,X+(Z.key==null||q&&q.key===Z.key?"":(""+Z.key).replace(Q,"$&/")+"/")+de)),K.push(Z)),1;de=0;var te=ie===""?".":ie+":";if(N(q))for(var Y=0;Y<q.length;Y++)ie=q[Y],W=te+ee(ie,Y),de+=J(ie,K,X,W,Z);else if(Y=b(q),typeof Y=="function")for(q=Y.call(q),Y=0;!(ie=q.next()).done;)ie=ie.value,W=te+ee(ie,Y++),de+=J(ie,K,X,W,Z);else if(W==="object"){if(typeof q.then=="function")return J(be(q),K,X,ie,Z);throw K=String(q),Error("Objects are not valid as a React child (found: "+(K==="[object Object]"?"object with keys {"+Object.keys(q).join(", ")+"}":K)+"). If you meant to render a collection of children, use an array instead.")}return de}function le(q,K,X){if(q==null)return q;var ie=[],Z=0;return J(q,ie,"","",function(W){return K.call(X,W,Z++)}),ie}function ae(q){if(q._status===-1){var K=q._result;K=K(),K.then(function(X){(q._status===0||q._status===-1)&&(q._status=1,q._result=X)},function(X){(q._status===0||q._status===-1)&&(q._status=2,q._result=X)}),q._status===-1&&(q._status=0,q._result=K)}if(q._status===1)return q._result.default;throw q._result}var me=typeof reportError=="function"?reportError:function(q){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var K=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof q=="object"&&q!==null&&typeof q.message=="string"?String(q.message):String(q),error:q});if(!window.dispatchEvent(K))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",q);return}console.error(q)},ne={map:le,forEach:function(q,K,X){le(q,function(){K.apply(this,arguments)},X)},count:function(q){var K=0;return le(q,function(){K++}),K},toArray:function(q){return le(q,function(K){return K})||[]},only:function(q){if(!z(q))throw Error("React.Children.only expected to receive a single React element child.");return q}};return mt.Activity=p,mt.Children=ne,mt.Component=j,mt.Fragment=n,mt.Profiler=i,mt.PureComponent=O,mt.StrictMode=r,mt.Suspense=d,mt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=$,mt.__COMPILER_RUNTIME={__proto__:null,c:function(q){return $.H.useMemoCache(q)}},mt.cache=function(q){return function(){return q.apply(null,arguments)}},mt.cacheSignal=function(){return null},mt.cloneElement=function(q,K,X){if(q==null)throw Error("The argument must be a React element, but you passed "+q+".");var ie=T({},q.props),Z=q.key;if(K!=null)for(W in K.key!==void 0&&(Z=""+K.key),K)!B.call(K,W)||W==="key"||W==="__self"||W==="__source"||W==="ref"&&K.ref===void 0||(ie[W]=K[W]);var W=arguments.length-2;if(W===1)ie.children=X;else if(1<W){for(var de=Array(W),te=0;te<W;te++)de[te]=arguments[te+2];ie.children=de}return H(q.type,Z,ie)},mt.createContext=function(q){return q={$$typeof:s,_currentValue:q,_currentValue2:q,_threadCount:0,Provider:null,Consumer:null},q.Provider=q,q.Consumer={$$typeof:a,_context:q},q},mt.createElement=function(q,K,X){var ie,Z={},W=null;if(K!=null)for(ie in K.key!==void 0&&(W=""+K.key),K)B.call(K,ie)&&ie!=="key"&&ie!=="__self"&&ie!=="__source"&&(Z[ie]=K[ie]);var de=arguments.length-2;if(de===1)Z.children=X;else if(1<de){for(var te=Array(de),Y=0;Y<de;Y++)te[Y]=arguments[Y+2];Z.children=te}if(q&&q.defaultProps)for(ie in de=q.defaultProps,de)Z[ie]===void 0&&(Z[ie]=de[ie]);return H(q,W,Z)},mt.createRef=function(){return{current:null}},mt.forwardRef=function(q){return{$$typeof:c,render:q}},mt.isValidElement=z,mt.lazy=function(q){return{$$typeof:m,_payload:{_status:-1,_result:q},_init:ae}},mt.memo=function(q,K){return{$$typeof:f,type:q,compare:K===void 0?null:K}},mt.startTransition=function(q){var K=$.T,X={};$.T=X;try{var ie=q(),Z=$.S;Z!==null&&Z(X,ie),typeof ie=="object"&&ie!==null&&typeof ie.then=="function"&&ie.then(R,me)}catch(W){me(W)}finally{K!==null&&X.types!==null&&(K.types=X.types),$.T=K}},mt.unstable_useCacheRefresh=function(){return $.H.useCacheRefresh()},mt.use=function(q){return $.H.use(q)},mt.useActionState=function(q,K,X){return $.H.useActionState(q,K,X)},mt.useCallback=function(q,K){return $.H.useCallback(q,K)},mt.useContext=function(q){return $.H.useContext(q)},mt.useDebugValue=function(){},mt.useDeferredValue=function(q,K){return $.H.useDeferredValue(q,K)},mt.useEffect=function(q,K){return $.H.useEffect(q,K)},mt.useEffectEvent=function(q){return $.H.useEffectEvent(q)},mt.useId=function(){return $.H.useId()},mt.useImperativeHandle=function(q,K,X){return $.H.useImperativeHandle(q,K,X)},mt.useInsertionEffect=function(q,K){return $.H.useInsertionEffect(q,K)},mt.useLayoutEffect=function(q,K){return $.H.useLayoutEffect(q,K)},mt.useMemo=function(q,K){return $.H.useMemo(q,K)},mt.useOptimistic=function(q,K){return $.H.useOptimistic(q,K)},mt.useReducer=function(q,K,X){return $.H.useReducer(q,K,X)},mt.useRef=function(q){return $.H.useRef(q)},mt.useState=function(q){return $.H.useState(q)},mt.useSyncExternalStore=function(q,K,X){return $.H.useSyncExternalStore(q,K,X)},mt.useTransition=function(){return $.H.useTransition()},mt.version="19.2.1",mt}var tN;function sf(){return tN||(tN=1,Px.exports=wU()),Px.exports}var A=sf();const un=Li(A),SU=u2({__proto__:null,default:un},[A]);var Rx={exports:{}},Sh={},Lx={exports:{}},Ix={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var nN;function EU(){return nN||(nN=1,(function(e){function t(J,le){var ae=J.length;J.push(le);e:for(;0<ae;){var me=ae-1>>>1,ne=J[me];if(0<i(ne,le))J[me]=le,J[ae]=ne,ae=me;else break e}}function n(J){return J.length===0?null:J[0]}function r(J){if(J.length===0)return null;var le=J[0],ae=J.pop();if(ae!==le){J[0]=ae;e:for(var me=0,ne=J.length,q=ne>>>1;me<q;){var K=2*(me+1)-1,X=J[K],ie=K+1,Z=J[ie];if(0>i(X,ae))ie<ne&&0>i(Z,X)?(J[me]=Z,J[ie]=ae,me=ie):(J[me]=X,J[K]=ae,me=K);else if(ie<ne&&0>i(Z,ae))J[me]=Z,J[ie]=ae,me=ie;else break e}}return le}function i(J,le){var ae=J.sortIndex-le.sortIndex;return ae!==0?ae:J.id-le.id}if(e.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var a=performance;e.unstable_now=function(){return a.now()}}else{var s=Date,c=s.now();e.unstable_now=function(){return s.now()-c}}var d=[],f=[],m=1,p=null,y=3,b=!1,x=!1,T=!1,S=!1,j=typeof setTimeout=="function"?setTimeout:null,D=typeof clearTimeout=="function"?clearTimeout:null,O=typeof setImmediate<"u"?setImmediate:null;function M(J){for(var le=n(f);le!==null;){if(le.callback===null)r(f);else if(le.startTime<=J)r(f),le.sortIndex=le.expirationTime,t(d,le);else break;le=n(f)}}function N(J){if(T=!1,M(J),!x)if(n(d)!==null)x=!0,R||(R=!0,F());else{var le=n(f);le!==null&&be(N,le.startTime-J)}}var R=!1,$=-1,B=5,H=-1;function V(){return S?!0:!(e.unstable_now()-H<B)}function z(){if(S=!1,R){var J=e.unstable_now();H=J;var le=!0;try{e:{x=!1,T&&(T=!1,D($),$=-1),b=!0;var ae=y;try{t:{for(M(J),p=n(d);p!==null&&!(p.expirationTime>J&&V());){var me=p.callback;if(typeof me=="function"){p.callback=null,y=p.priorityLevel;var ne=me(p.expirationTime<=J);if(J=e.unstable_now(),typeof ne=="function"){p.callback=ne,M(J),le=!0;break t}p===n(d)&&r(d),M(J)}else r(d);p=n(d)}if(p!==null)le=!0;else{var q=n(f);q!==null&&be(N,q.startTime-J),le=!1}}break e}finally{p=null,y=ae,b=!1}le=void 0}}finally{le?F():R=!1}}}var F;if(typeof O=="function")F=function(){O(z)};else if(typeof MessageChannel<"u"){var Q=new MessageChannel,ee=Q.port2;Q.port1.onmessage=z,F=function(){ee.postMessage(null)}}else F=function(){j(z,0)};function be(J,le){$=j(function(){J(e.unstable_now())},le)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(J){J.callback=null},e.unstable_forceFrameRate=function(J){0>J||125<J?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):B=0<J?Math.floor(1e3/J):5},e.unstable_getCurrentPriorityLevel=function(){return y},e.unstable_next=function(J){switch(y){case 1:case 2:case 3:var le=3;break;default:le=y}var ae=y;y=le;try{return J()}finally{y=ae}},e.unstable_requestPaint=function(){S=!0},e.unstable_runWithPriority=function(J,le){switch(J){case 1:case 2:case 3:case 4:case 5:break;default:J=3}var ae=y;y=J;try{return le()}finally{y=ae}},e.unstable_scheduleCallback=function(J,le,ae){var me=e.unstable_now();switch(typeof ae=="object"&&ae!==null?(ae=ae.delay,ae=typeof ae=="number"&&0<ae?me+ae:me):ae=me,J){case 1:var ne=-1;break;case 2:ne=250;break;case 5:ne=1073741823;break;case 4:ne=1e4;break;default:ne=5e3}return ne=ae+ne,J={id:m++,callback:le,priorityLevel:J,startTime:ae,expirationTime:ne,sortIndex:-1},ae>me?(J.sortIndex=ae,t(f,J),n(d)===null&&J===n(f)&&(T?(D($),$=-1):T=!0,be(N,ae-me))):(J.sortIndex=ne,t(d,J),x||b||(x=!0,R||(R=!0,F()))),J},e.unstable_shouldYield=V,e.unstable_wrapCallback=function(J){var le=y;return function(){var ae=y;y=le;try{return J.apply(this,arguments)}finally{y=ae}}}})(Ix)),Ix}var rN;function AU(){return rN||(rN=1,Lx.exports=EU()),Lx.exports}var $x={exports:{}},Wr={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var iN;function TU(){if(iN)return Wr;iN=1;var e=sf();function t(d){var f="https://react.dev/errors/"+d;if(1<arguments.length){f+="?args[]="+encodeURIComponent(arguments[1]);for(var m=2;m<arguments.length;m++)f+="&args[]="+encodeURIComponent(arguments[m])}return"Minified React error #"+d+"; visit "+f+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var r={d:{f:n,r:function(){throw Error(t(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},i=Symbol.for("react.portal");function a(d,f,m){var p=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:i,key:p==null?null:""+p,children:d,containerInfo:f,implementation:m}}var s=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function c(d,f){if(d==="font")return"";if(typeof f=="string")return f==="use-credentials"?f:""}return Wr.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,Wr.createPortal=function(d,f){var m=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!f||f.nodeType!==1&&f.nodeType!==9&&f.nodeType!==11)throw Error(t(299));return a(d,f,null,m)},Wr.flushSync=function(d){var f=s.T,m=r.p;try{if(s.T=null,r.p=2,d)return d()}finally{s.T=f,r.p=m,r.d.f()}},Wr.preconnect=function(d,f){typeof d=="string"&&(f?(f=f.crossOrigin,f=typeof f=="string"?f==="use-credentials"?f:"":void 0):f=null,r.d.C(d,f))},Wr.prefetchDNS=function(d){typeof d=="string"&&r.d.D(d)},Wr.preinit=function(d,f){if(typeof d=="string"&&f&&typeof f.as=="string"){var m=f.as,p=c(m,f.crossOrigin),y=typeof f.integrity=="string"?f.integrity:void 0,b=typeof f.fetchPriority=="string"?f.fetchPriority:void 0;m==="style"?r.d.S(d,typeof f.precedence=="string"?f.precedence:void 0,{crossOrigin:p,integrity:y,fetchPriority:b}):m==="script"&&r.d.X(d,{crossOrigin:p,integrity:y,fetchPriority:b,nonce:typeof f.nonce=="string"?f.nonce:void 0})}},Wr.preinitModule=function(d,f){if(typeof d=="string")if(typeof f=="object"&&f!==null){if(f.as==null||f.as==="script"){var m=c(f.as,f.crossOrigin);r.d.M(d,{crossOrigin:m,integrity:typeof f.integrity=="string"?f.integrity:void 0,nonce:typeof f.nonce=="string"?f.nonce:void 0})}}else f==null&&r.d.M(d)},Wr.preload=function(d,f){if(typeof d=="string"&&typeof f=="object"&&f!==null&&typeof f.as=="string"){var m=f.as,p=c(m,f.crossOrigin);r.d.L(d,m,{crossOrigin:p,integrity:typeof f.integrity=="string"?f.integrity:void 0,nonce:typeof f.nonce=="string"?f.nonce:void 0,type:typeof f.type=="string"?f.type:void 0,fetchPriority:typeof f.fetchPriority=="string"?f.fetchPriority:void 0,referrerPolicy:typeof f.referrerPolicy=="string"?f.referrerPolicy:void 0,imageSrcSet:typeof f.imageSrcSet=="string"?f.imageSrcSet:void 0,imageSizes:typeof f.imageSizes=="string"?f.imageSizes:void 0,media:typeof f.media=="string"?f.media:void 0})}},Wr.preloadModule=function(d,f){if(typeof d=="string")if(f){var m=c(f.as,f.crossOrigin);r.d.m(d,{as:typeof f.as=="string"&&f.as!=="script"?f.as:void 0,crossOrigin:m,integrity:typeof f.integrity=="string"?f.integrity:void 0})}else r.d.m(d)},Wr.requestFormReset=function(d){r.d.r(d)},Wr.unstable_batchedUpdates=function(d,f){return d(f)},Wr.useFormState=function(d,f,m){return s.H.useFormState(d,f,m)},Wr.useFormStatus=function(){return s.H.useHostTransitionStatus()},Wr.version="19.2.1",Wr}var aN;function C3(){if(aN)return $x.exports;aN=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),$x.exports=TU(),$x.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var oN;function kU(){if(oN)return Sh;oN=1;var e=AU(),t=sf(),n=C3();function r(o){var l="https://react.dev/errors/"+o;if(1<arguments.length){l+="?args[]="+encodeURIComponent(arguments[1]);for(var h=2;h<arguments.length;h++)l+="&args[]="+encodeURIComponent(arguments[h])}return"Minified React error #"+o+"; visit "+l+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(o){return!(!o||o.nodeType!==1&&o.nodeType!==9&&o.nodeType!==11)}function a(o){var l=o,h=o;if(o.alternate)for(;l.return;)l=l.return;else{o=l;do l=o,(l.flags&4098)!==0&&(h=l.return),o=l.return;while(o)}return l.tag===3?h:null}function s(o){if(o.tag===13){var l=o.memoizedState;if(l===null&&(o=o.alternate,o!==null&&(l=o.memoizedState)),l!==null)return l.dehydrated}return null}function c(o){if(o.tag===31){var l=o.memoizedState;if(l===null&&(o=o.alternate,o!==null&&(l=o.memoizedState)),l!==null)return l.dehydrated}return null}function d(o){if(a(o)!==o)throw Error(r(188))}function f(o){var l=o.alternate;if(!l){if(l=a(o),l===null)throw Error(r(188));return l!==o?null:o}for(var h=o,v=l;;){var E=h.return;if(E===null)break;var k=E.alternate;if(k===null){if(v=E.return,v!==null){h=v;continue}break}if(E.child===k.child){for(k=E.child;k;){if(k===h)return d(E),o;if(k===v)return d(E),l;k=k.sibling}throw Error(r(188))}if(h.return!==v.return)h=E,v=k;else{for(var I=!1,G=E.child;G;){if(G===h){I=!0,h=E,v=k;break}if(G===v){I=!0,v=E,h=k;break}G=G.sibling}if(!I){for(G=k.child;G;){if(G===h){I=!0,h=k,v=E;break}if(G===v){I=!0,v=k,h=E;break}G=G.sibling}if(!I)throw Error(r(189))}}if(h.alternate!==v)throw Error(r(190))}if(h.tag!==3)throw Error(r(188));return h.stateNode.current===h?o:l}function m(o){var l=o.tag;if(l===5||l===26||l===27||l===6)return o;for(o=o.child;o!==null;){if(l=m(o),l!==null)return l;o=o.sibling}return null}var p=Object.assign,y=Symbol.for("react.element"),b=Symbol.for("react.transitional.element"),x=Symbol.for("react.portal"),T=Symbol.for("react.fragment"),S=Symbol.for("react.strict_mode"),j=Symbol.for("react.profiler"),D=Symbol.for("react.consumer"),O=Symbol.for("react.context"),M=Symbol.for("react.forward_ref"),N=Symbol.for("react.suspense"),R=Symbol.for("react.suspense_list"),$=Symbol.for("react.memo"),B=Symbol.for("react.lazy"),H=Symbol.for("react.activity"),V=Symbol.for("react.memo_cache_sentinel"),z=Symbol.iterator;function F(o){return o===null||typeof o!="object"?null:(o=z&&o[z]||o["@@iterator"],typeof o=="function"?o:null)}var Q=Symbol.for("react.client.reference");function ee(o){if(o==null)return null;if(typeof o=="function")return o.$$typeof===Q?null:o.displayName||o.name||null;if(typeof o=="string")return o;switch(o){case T:return"Fragment";case j:return"Profiler";case S:return"StrictMode";case N:return"Suspense";case R:return"SuspenseList";case H:return"Activity"}if(typeof o=="object")switch(o.$$typeof){case x:return"Portal";case O:return o.displayName||"Context";case D:return(o._context.displayName||"Context")+".Consumer";case M:var l=o.render;return o=o.displayName,o||(o=l.displayName||l.name||"",o=o!==""?"ForwardRef("+o+")":"ForwardRef"),o;case $:return l=o.displayName||null,l!==null?l:ee(o.type)||"Memo";case B:l=o._payload,o=o._init;try{return ee(o(l))}catch{}}return null}var be=Array.isArray,J=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,le=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ae={pending:!1,data:null,method:null,action:null},me=[],ne=-1;function q(o){return{current:o}}function K(o){0>ne||(o.current=me[ne],me[ne]=null,ne--)}function X(o,l){ne++,me[ne]=o.current,o.current=l}var ie=q(null),Z=q(null),W=q(null),de=q(null);function te(o,l){switch(X(W,l),X(Z,o),X(ie,null),l.nodeType){case 9:case 11:o=(o=l.documentElement)&&(o=o.namespaceURI)?xj(o):0;break;default:if(o=l.tagName,l=l.namespaceURI)l=xj(l),o=wj(l,o);else switch(o){case"svg":o=1;break;case"math":o=2;break;default:o=0}}K(ie),X(ie,o)}function Y(){K(ie),K(Z),K(W)}function se(o){o.memoizedState!==null&&X(de,o);var l=ie.current,h=wj(l,o.type);l!==h&&(X(Z,o),X(ie,h))}function xe(o){Z.current===o&&(K(ie),K(Z)),de.current===o&&(K(de),yh._currentValue=ae)}var ce,Ne;function pe(o){if(ce===void 0)try{throw Error()}catch(h){var l=h.stack.trim().match(/\n( *(at )?)/);ce=l&&l[1]||"",Ne=-1<h.stack.indexOf(`
    at`)?" (<anonymous>)":-1<h.stack.indexOf("@")?"@unknown:0:0":""}return`
`+ce+o+Ne}var Te=!1;function Me(o,l){if(!o||Te)return"";Te=!0;var h=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var v={DetermineComponentFrameRoot:function(){try{if(l){var Re=function(){throw Error()};if(Object.defineProperty(Re.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Re,[])}catch(ke){var Ae=ke}Reflect.construct(o,[],Re)}else{try{Re.call()}catch(ke){Ae=ke}o.call(Re.prototype)}}else{try{throw Error()}catch(ke){Ae=ke}(Re=o())&&typeof Re.catch=="function"&&Re.catch(function(){})}}catch(ke){if(ke&&Ae&&typeof ke.stack=="string")return[ke.stack,Ae.stack]}return[null,null]}};v.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var E=Object.getOwnPropertyDescriptor(v.DetermineComponentFrameRoot,"name");E&&E.configurable&&Object.defineProperty(v.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var k=v.DetermineComponentFrameRoot(),I=k[0],G=k[1];if(I&&G){var oe=I.split(`
`),Se=G.split(`
`);for(E=v=0;v<oe.length&&!oe[v].includes("DetermineComponentFrameRoot");)v++;for(;E<Se.length&&!Se[E].includes("DetermineComponentFrameRoot");)E++;if(v===oe.length||E===Se.length)for(v=oe.length-1,E=Se.length-1;1<=v&&0<=E&&oe[v]!==Se[E];)E--;for(;1<=v&&0<=E;v--,E--)if(oe[v]!==Se[E]){if(v!==1||E!==1)do if(v--,E--,0>E||oe[v]!==Se[E]){var Ce=`
`+oe[v].replace(" at new "," at ");return o.displayName&&Ce.includes("<anonymous>")&&(Ce=Ce.replace("<anonymous>",o.displayName)),Ce}while(1<=v&&0<=E);break}}}finally{Te=!1,Error.prepareStackTrace=h}return(h=o?o.displayName||o.name:"")?pe(h):""}function Le(o,l){switch(o.tag){case 26:case 27:case 5:return pe(o.type);case 16:return pe("Lazy");case 13:return o.child!==l&&l!==null?pe("Suspense Fallback"):pe("Suspense");case 19:return pe("SuspenseList");case 0:case 15:return Me(o.type,!1);case 11:return Me(o.type.render,!1);case 1:return Me(o.type,!0);case 31:return pe("Activity");default:return""}}function Be(o){try{var l="",h=null;do l+=Le(o,h),h=o,o=o.return;while(o);return l}catch(v){return`
Error generating stack: `+v.message+`
`+v.stack}}var ge=Object.prototype.hasOwnProperty,Ue=e.unstable_scheduleCallback,ue=e.unstable_cancelCallback,he=e.unstable_shouldYield,$e=e.unstable_requestPaint,ze=e.unstable_now,He=e.unstable_getCurrentPriorityLevel,dt=e.unstable_ImmediatePriority,yt=e.unstable_UserBlockingPriority,qt=e.unstable_NormalPriority,yn=e.unstable_LowPriority,bn=e.unstable_IdlePriority,Ct=e.log,gi=e.unstable_setDisableYieldValue,Wn=null,Ut=null;function fn(o){if(typeof Ct=="function"&&gi(o),Ut&&typeof Ut.setStrictMode=="function")try{Ut.setStrictMode(Wn,o)}catch{}}var _n=Math.clz32?Math.clz32:Zs,Hr=Math.log,Ka=Math.LN2;function Zs(o){return o>>>=0,o===0?32:31-(Hr(o)/Ka|0)|0}var Fr=256,hr=262144,Wa=4194304;function Gr(o){var l=o&42;if(l!==0)return l;switch(o&-o){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return o&261888;case 262144:case 524288:case 1048576:case 2097152:return o&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return o&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return o}}function jr(o,l,h){var v=o.pendingLanes;if(v===0)return 0;var E=0,k=o.suspendedLanes,I=o.pingedLanes;o=o.warmLanes;var G=v&134217727;return G!==0?(v=G&~k,v!==0?E=Gr(v):(I&=G,I!==0?E=Gr(I):h||(h=G&~o,h!==0&&(E=Gr(h))))):(G=v&~k,G!==0?E=Gr(G):I!==0?E=Gr(I):h||(h=v&~o,h!==0&&(E=Gr(h)))),E===0?0:l!==0&&l!==E&&(l&k)===0&&(k=E&-E,h=l&-l,k>=h||k===32&&(h&4194048)!==0)?l:E}function ha(o,l){return(o.pendingLanes&~(o.suspendedLanes&~o.pingedLanes)&l)===0}function Tf(o,l){switch(o){case 1:case 2:case 4:case 8:case 64:return l+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return l+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function tc(){var o=Wa;return Wa<<=1,(Wa&62914560)===0&&(Wa=4194304),o}function ma(o){for(var l=[],h=0;31>h;h++)l.push(o);return l}function vi(o,l){o.pendingLanes|=l,l!==268435456&&(o.suspendedLanes=0,o.pingedLanes=0,o.warmLanes=0)}function Xs(o,l,h,v,E,k){var I=o.pendingLanes;o.pendingLanes=h,o.suspendedLanes=0,o.pingedLanes=0,o.warmLanes=0,o.expiredLanes&=h,o.entangledLanes&=h,o.errorRecoveryDisabledLanes&=h,o.shellSuspendCounter=0;var G=o.entanglements,oe=o.expirationTimes,Se=o.hiddenUpdates;for(h=I&~h;0<h;){var Ce=31-_n(h),Re=1<<Ce;G[Ce]=0,oe[Ce]=-1;var Ae=Se[Ce];if(Ae!==null)for(Se[Ce]=null,Ce=0;Ce<Ae.length;Ce++){var ke=Ae[Ce];ke!==null&&(ke.lane&=-536870913)}h&=~Re}v!==0&&nc(o,v,0),k!==0&&E===0&&o.tag!==0&&(o.suspendedLanes|=k&~(I&~l))}function nc(o,l,h){o.pendingLanes|=l,o.suspendedLanes&=~l;var v=31-_n(l);o.entangledLanes|=l,o.entanglements[v]=o.entanglements[v]|1073741824|h&261930}function Tu(o,l){var h=o.entangledLanes|=l;for(o=o.entanglements;h;){var v=31-_n(h),E=1<<v;E&l|o[v]&l&&(o[v]|=l),h&=~E}}function ku(o,l){var h=l&-l;return h=(h&42)!==0?1:Vn(h),(h&(o.suspendedLanes|l))!==0?0:h}function Vn(o){switch(o){case 2:o=1;break;case 8:o=4;break;case 32:o=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:o=128;break;case 268435456:o=134217728;break;default:o=0}return o}function We(o){return o&=-o,2<o?8<o?(o&134217727)!==0?32:268435456:8:2}function Js(){var o=le.p;return o!==0?o:(o=window.event,o===void 0?32:qj(o.type))}function Qs(o,l){var h=le.p;try{return le.p=o,l()}finally{le.p=h}}var qr=Math.random().toString(36).slice(2),kn="__reactFiber$"+qr,Dn="__reactProps$"+qr,mr="__reactContainer$"+qr,ri="__reactEvents$"+qr,Xo="__reactListeners$"+qr,rc="__reactHandles$"+qr,ic="__reactResources$"+qr,Va="__reactMarker$"+qr;function el(o){delete o[kn],delete o[Dn],delete o[ri],delete o[Xo],delete o[rc]}function Bi(o){var l=o[kn];if(l)return l;for(var h=o.parentNode;h;){if(l=h[mr]||h[kn]){if(h=l.alternate,l.child!==null||h!==null&&h.child!==null)for(o=jj(o);o!==null;){if(h=o[kn])return h;o=jj(o)}return l}o=h,h=o.parentNode}return null}function pa(o){if(o=o[kn]||o[mr]){var l=o.tag;if(l===5||l===6||l===13||l===31||l===26||l===27||l===3)return o}return null}function yi(o){var l=o.tag;if(l===5||l===26||l===27||l===6)return o.stateNode;throw Error(r(33))}function Eo(o){var l=o[ic];return l||(l=o[ic]={hoistableStyles:new Map,hoistableScripts:new Map}),l}function Pn(o){o[Va]=!0}var _e=new Set,qe={};function ct(o,l){pt(o,l),pt(o+"Capture",l)}function pt(o,l){for(qe[o]=l,o=0;o<l.length;o++)_e.add(l[o])}var at=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),xt={},Mt={};function wt(o){return ge.call(Mt,o)?!0:ge.call(xt,o)?!1:at.test(o)?Mt[o]=!0:(xt[o]=!0,!1)}function ut(o,l,h){if(wt(l))if(h===null)o.removeAttribute(l);else{switch(typeof h){case"undefined":case"function":case"symbol":o.removeAttribute(l);return;case"boolean":var v=l.toLowerCase().slice(0,5);if(v!=="data-"&&v!=="aria-"){o.removeAttribute(l);return}}o.setAttribute(l,""+h)}}function ht(o,l,h){if(h===null)o.removeAttribute(l);else{switch(typeof h){case"undefined":case"function":case"symbol":case"boolean":o.removeAttribute(l);return}o.setAttribute(l,""+h)}}function pr(o,l,h,v){if(v===null)o.removeAttribute(h);else{switch(typeof v){case"undefined":case"function":case"symbol":case"boolean":o.removeAttribute(h);return}o.setAttributeNS(l,h,""+v)}}function Rn(o){switch(typeof o){case"bigint":case"boolean":case"number":case"string":case"undefined":return o;case"object":return o;default:return""}}function ga(o){var l=o.type;return(o=o.nodeName)&&o.toLowerCase()==="input"&&(l==="checkbox"||l==="radio")}function va(o,l,h){var v=Object.getOwnPropertyDescriptor(o.constructor.prototype,l);if(!o.hasOwnProperty(l)&&typeof v<"u"&&typeof v.get=="function"&&typeof v.set=="function"){var E=v.get,k=v.set;return Object.defineProperty(o,l,{configurable:!0,get:function(){return E.call(this)},set:function(I){h=""+I,k.call(this,I)}}),Object.defineProperty(o,l,{enumerable:v.enumerable}),{getValue:function(){return h},setValue:function(I){h=""+I},stopTracking:function(){o._valueTracker=null,delete o[l]}}}}function ft(o){if(!o._valueTracker){var l=ga(o)?"checked":"value";o._valueTracker=va(o,l,""+o[l])}}function nn(o){if(!o)return!1;var l=o._valueTracker;if(!l)return!0;var h=l.getValue(),v="";return o&&(v=ga(o)?o.checked?"true":"false":o.value),o=v,o!==h?(l.setValue(o),!0):!1}function Ao(o){if(o=o||(typeof document<"u"?document:void 0),typeof o>"u")return null;try{return o.activeElement||o.body}catch{return o.body}}var Ou=/[\n"\\]/g;function hn(o){return o.replace(Ou,function(l){return"\\"+l.charCodeAt(0).toString(16)+" "})}function kf(o,l,h,v,E,k,I,G){o.name="",I!=null&&typeof I!="function"&&typeof I!="symbol"&&typeof I!="boolean"?o.type=I:o.removeAttribute("type"),l!=null?I==="number"?(l===0&&o.value===""||o.value!=l)&&(o.value=""+Rn(l)):o.value!==""+Rn(l)&&(o.value=""+Rn(l)):I!=="submit"&&I!=="reset"||o.removeAttribute("value"),l!=null?Za(o,I,Rn(l)):h!=null?Za(o,I,Rn(h)):v!=null&&o.removeAttribute("value"),E==null&&k!=null&&(o.defaultChecked=!!k),E!=null&&(o.checked=E&&typeof E!="function"&&typeof E!="symbol"),G!=null&&typeof G!="function"&&typeof G!="symbol"&&typeof G!="boolean"?o.name=""+Rn(G):o.removeAttribute("name")}function ac(o,l,h,v,E,k,I,G){if(k!=null&&typeof k!="function"&&typeof k!="symbol"&&typeof k!="boolean"&&(o.type=k),l!=null||h!=null){if(!(k!=="submit"&&k!=="reset"||l!=null)){ft(o);return}h=h!=null?""+Rn(h):"",l=l!=null?""+Rn(l):h,G||l===o.value||(o.value=l),o.defaultValue=l}v=v??E,v=typeof v!="function"&&typeof v!="symbol"&&!!v,o.checked=G?o.checked:!!v,o.defaultChecked=!!v,I!=null&&typeof I!="function"&&typeof I!="symbol"&&typeof I!="boolean"&&(o.name=I),ft(o)}function Za(o,l,h){l==="number"&&Ao(o.ownerDocument)===o||o.defaultValue===""+h||(o.defaultValue=""+h)}function Qt(o,l,h,v){if(o=o.options,l){l={};for(var E=0;E<h.length;E++)l["$"+h[E]]=!0;for(h=0;h<o.length;h++)E=l.hasOwnProperty("$"+o[h].value),o[h].selected!==E&&(o[h].selected=E),E&&v&&(o[h].defaultSelected=!0)}else{for(h=""+Rn(h),l=null,E=0;E<o.length;E++){if(o[E].value===h){o[E].selected=!0,v&&(o[E].defaultSelected=!0);return}l!==null||o[E].disabled||(l=o[E])}l!==null&&(l.selected=!0)}}function To(o,l,h){if(l!=null&&(l=""+Rn(l),l!==o.value&&(o.value=l),h==null)){o.defaultValue!==l&&(o.defaultValue=l);return}o.defaultValue=h!=null?""+Rn(h):""}function tl(o,l,h,v){if(l==null){if(v!=null){if(h!=null)throw Error(r(92));if(be(v)){if(1<v.length)throw Error(r(93));v=v[0]}h=v}h==null&&(h=""),l=h}h=Rn(l),o.defaultValue=h,v=o.textContent,v===h&&v!==""&&v!==null&&(o.value=v),ft(o)}function ya(o,l){if(l){var h=o.firstChild;if(h&&h===o.lastChild&&h.nodeType===3){h.nodeValue=l;return}}o.textContent=l}var Of=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function nl(o,l,h){var v=l.indexOf("--")===0;h==null||typeof h=="boolean"||h===""?v?o.setProperty(l,""):l==="float"?o.cssFloat="":o[l]="":v?o.setProperty(l,h):typeof h!="number"||h===0||Of.has(l)?l==="float"?o.cssFloat=h:o[l]=(""+h).trim():o[l]=h+"px"}function ju(o,l,h){if(l!=null&&typeof l!="object")throw Error(r(62));if(o=o.style,h!=null){for(var v in h)!h.hasOwnProperty(v)||l!=null&&l.hasOwnProperty(v)||(v.indexOf("--")===0?o.setProperty(v,""):v==="float"?o.cssFloat="":o[v]="");for(var E in l)v=l[E],l.hasOwnProperty(E)&&h[E]!==v&&nl(o,E,v)}else for(var k in l)l.hasOwnProperty(k)&&nl(o,k,l[k])}function oc(o){if(o.indexOf("-")===-1)return!1;switch(o){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Nu=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),jf=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function rl(o){return jf.test(""+o)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":o}function bi(){}var Cu=null;function sc(o){return o=o.target||o.srcElement||window,o.correspondingUseElement&&(o=o.correspondingUseElement),o.nodeType===3?o.parentNode:o}var il=null,lt=null;function zi(o){var l=pa(o);if(l&&(o=l.stateNode)){var h=o[Dn]||null;e:switch(o=l.stateNode,l.type){case"input":if(kf(o,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name),l=h.name,h.type==="radio"&&l!=null){for(h=o;h.parentNode;)h=h.parentNode;for(h=h.querySelectorAll('input[name="'+hn(""+l)+'"][type="radio"]'),l=0;l<h.length;l++){var v=h[l];if(v!==o&&v.form===o.form){var E=v[Dn]||null;if(!E)throw Error(r(90));kf(v,E.value,E.defaultValue,E.defaultValue,E.checked,E.defaultChecked,E.type,E.name)}}for(l=0;l<h.length;l++)v=h[l],v.form===o.form&&nn(v)}break e;case"textarea":To(o,h.value,h.defaultValue);break e;case"select":l=h.value,l!=null&&Qt(o,!!h.multiple,l,!1)}}}var Ht=!1;function Nf(o,l,h){if(Ht)return o(l,h);Ht=!0;try{var v=o(l);return v}finally{if(Ht=!1,(il!==null||lt!==null)&&(fg(),il&&(l=il,o=lt,lt=il=null,zi(l),o)))for(l=0;l<o.length;l++)zi(o[l])}}function Jo(o,l){var h=o.stateNode;if(h===null)return null;var v=h[Dn]||null;if(v===null)return null;h=v[l];e:switch(l){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(v=!v.disabled)||(o=o.type,v=!(o==="button"||o==="input"||o==="select"||o==="textarea")),o=!v;break e;default:o=!1}if(o)return null;if(h&&typeof h!="function")throw Error(r(231,l,typeof h));return h}var Ui=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),lc=!1;if(Ui)try{var Hi={};Object.defineProperty(Hi,"passive",{get:function(){lc=!0}}),window.addEventListener("test",Hi,Hi),window.removeEventListener("test",Hi,Hi)}catch{lc=!1}var ba=null,Qo=null,Ln=null;function ko(){if(Ln)return Ln;var o,l=Qo,h=l.length,v,E="value"in ba?ba.value:ba.textContent,k=E.length;for(o=0;o<h&&l[o]===E[o];o++);var I=h-o;for(v=1;v<=I&&l[h-v]===E[k-v];v++);return Ln=E.slice(o,1<v?1-v:void 0)}function cc(o){var l=o.keyCode;return"charCode"in o?(o=o.charCode,o===0&&l===13&&(o=13)):o=l,o===10&&(o=13),32<=o||o===13?o:0}function uc(){return!0}function vp(){return!1}function Nr(o){function l(h,v,E,k,I){this._reactName=h,this._targetInst=E,this.type=v,this.nativeEvent=k,this.target=I,this.currentTarget=null;for(var G in o)o.hasOwnProperty(G)&&(h=o[G],this[G]=h?h(k):k[G]);return this.isDefaultPrevented=(k.defaultPrevented!=null?k.defaultPrevented:k.returnValue===!1)?uc:vp,this.isPropagationStopped=vp,this}return p(l.prototype,{preventDefault:function(){this.defaultPrevented=!0;var h=this.nativeEvent;h&&(h.preventDefault?h.preventDefault():typeof h.returnValue!="unknown"&&(h.returnValue=!1),this.isDefaultPrevented=uc)},stopPropagation:function(){var h=this.nativeEvent;h&&(h.stopPropagation?h.stopPropagation():typeof h.cancelBubble!="unknown"&&(h.cancelBubble=!0),this.isPropagationStopped=uc)},persist:function(){},isPersistent:uc}),l}var Xa={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(o){return o.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Mu=Nr(Xa),al=p({},Xa,{view:0,detail:0}),kt=Nr(al),Cf,ii,Ja,dc=p({},al,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:If,button:0,buttons:0,relatedTarget:function(o){return o.relatedTarget===void 0?o.fromElement===o.srcElement?o.toElement:o.fromElement:o.relatedTarget},movementX:function(o){return"movementX"in o?o.movementX:(o!==Ja&&(Ja&&o.type==="mousemove"?(Cf=o.screenX-Ja.screenX,ii=o.screenY-Ja.screenY):ii=Cf=0,Ja=o),Cf)},movementY:function(o){return"movementY"in o?o.movementY:ii}}),yp=Nr(dc),Mf=p({},dc,{dataTransfer:0}),Fb=Nr(Mf),bp=p({},al,{relatedTarget:0}),Df=Nr(bp),Gb=p({},Xa,{animationName:0,elapsedTime:0,pseudoElement:0}),Pf=Nr(Gb),qb=p({},Xa,{clipboardData:function(o){return"clipboardData"in o?o.clipboardData:window.clipboardData}}),_a=Nr(qb),Yb=p({},Xa,{data:0}),Rf=Nr(Yb),Oo={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},_p={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},xp={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Lf(o){var l=this.nativeEvent;return l.getModifierState?l.getModifierState(o):(o=xp[o])?!!l[o]:!1}function If(){return Lf}var wp=p({},al,{key:function(o){if(o.key){var l=Oo[o.key]||o.key;if(l!=="Unidentified")return l}return o.type==="keypress"?(o=cc(o),o===13?"Enter":String.fromCharCode(o)):o.type==="keydown"||o.type==="keyup"?_p[o.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:If,charCode:function(o){return o.type==="keypress"?cc(o):0},keyCode:function(o){return o.type==="keydown"||o.type==="keyup"?o.keyCode:0},which:function(o){return o.type==="keypress"?cc(o):o.type==="keydown"||o.type==="keyup"?o.keyCode:0}}),Sp=Nr(wp),Kb=p({},dc,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Ep=Nr(Kb),$f=p({},al,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:If}),Wb=Nr($f),Ap=p({},Xa,{propertyName:0,elapsedTime:0,pseudoElement:0}),Tp=Nr(Ap),Du=p({},dc,{deltaX:function(o){return"deltaX"in o?o.deltaX:"wheelDeltaX"in o?-o.wheelDeltaX:0},deltaY:function(o){return"deltaY"in o?o.deltaY:"wheelDeltaY"in o?-o.wheelDeltaY:"wheelDelta"in o?-o.wheelDelta:0},deltaZ:0,deltaMode:0}),es=Nr(Du),Vb=p({},Xa,{newState:0,oldState:0}),fc=Nr(Vb),_i=[9,13,27,32],Pu=Ui&&"CompositionEvent"in window,ol=null;Ui&&"documentMode"in document&&(ol=document.documentMode);var Zb=Ui&&"TextEvent"in window&&!ol,Ru=Ui&&(!Pu||ol&&8<ol&&11>=ol),Lu=" ",kp=!1;function Op(o,l){switch(o){case"keyup":return _i.indexOf(l.keyCode)!==-1;case"keydown":return l.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Bf(o){return o=o.detail,typeof o=="object"&&"data"in o?o.data:null}var sl=!1;function Fi(o,l){switch(o){case"compositionend":return Bf(l);case"keypress":return l.which!==32?null:(kp=!0,Lu);case"textInput":return o=l.data,o===Lu&&kp?null:o;default:return null}}function ll(o,l){if(sl)return o==="compositionend"||!Pu&&Op(o,l)?(o=ko(),Ln=Qo=ba=null,sl=!1,o):null;switch(o){case"paste":return null;case"keypress":if(!(l.ctrlKey||l.altKey||l.metaKey)||l.ctrlKey&&l.altKey){if(l.char&&1<l.char.length)return l.char;if(l.which)return String.fromCharCode(l.which)}return null;case"compositionend":return Ru&&l.locale!=="ko"?null:l.data;default:return null}}var Xb={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function xa(o){var l=o&&o.nodeName&&o.nodeName.toLowerCase();return l==="input"?!!Xb[o.type]:l==="textarea"}function jp(o,l,h,v){il?lt?lt.push(v):lt=[v]:il=v,l=bg(l,"onChange"),0<l.length&&(h=new Mu("onChange","change",null,h,v),o.push({event:h,listeners:l}))}var wa=null,hc=null;function mc(o){pj(o,0)}function pc(o){var l=yi(o);if(nn(l))return o}function gc(o,l){if(o==="change")return l}var Np=!1;if(Ui){var Sa;if(Ui){var cl="oninput"in document;if(!cl){var Cp=document.createElement("div");Cp.setAttribute("oninput","return;"),cl=typeof Cp.oninput=="function"}Sa=cl}else Sa=!1;Np=Sa&&(!document.documentMode||9<document.documentMode)}function Iu(){wa&&(wa.detachEvent("onpropertychange",Mp),hc=wa=null)}function Mp(o){if(o.propertyName==="value"&&pc(hc)){var l=[];jp(l,hc,o,sc(o)),Nf(mc,l)}}function Qa(o,l,h){o==="focusin"?(Iu(),wa=l,hc=h,wa.attachEvent("onpropertychange",Mp)):o==="focusout"&&Iu()}function Jb(o){if(o==="selectionchange"||o==="keyup"||o==="keydown")return pc(hc)}function ul(o,l){if(o==="click")return pc(l)}function Qb(o,l){if(o==="input"||o==="change")return pc(l)}function eo(o,l){return o===l&&(o!==0||1/o===1/l)||o!==o&&l!==l}var gr=typeof Object.is=="function"?Object.is:eo;function dl(o,l){if(gr(o,l))return!0;if(typeof o!="object"||o===null||typeof l!="object"||l===null)return!1;var h=Object.keys(o),v=Object.keys(l);if(h.length!==v.length)return!1;for(v=0;v<h.length;v++){var E=h[v];if(!ge.call(l,E)||!gr(o[E],l[E]))return!1}return!0}function $u(o){for(;o&&o.firstChild;)o=o.firstChild;return o}function vc(o,l){var h=$u(o);o=0;for(var v;h;){if(h.nodeType===3){if(v=o+h.textContent.length,o<=l&&v>=l)return{node:h,offset:l-o};o=v}e:{for(;h;){if(h.nextSibling){h=h.nextSibling;break e}h=h.parentNode}h=void 0}h=$u(h)}}function Bu(o,l){return o&&l?o===l?!0:o&&o.nodeType===3?!1:l&&l.nodeType===3?Bu(o,l.parentNode):"contains"in o?o.contains(l):o.compareDocumentPosition?!!(o.compareDocumentPosition(l)&16):!1:!1}function yc(o){o=o!=null&&o.ownerDocument!=null&&o.ownerDocument.defaultView!=null?o.ownerDocument.defaultView:window;for(var l=Ao(o.document);l instanceof o.HTMLIFrameElement;){try{var h=typeof l.contentWindow.location.href=="string"}catch{h=!1}if(h)o=l.contentWindow;else break;l=Ao(o.document)}return l}function jo(o){var l=o&&o.nodeName&&o.nodeName.toLowerCase();return l&&(l==="input"&&(o.type==="text"||o.type==="search"||o.type==="tel"||o.type==="url"||o.type==="password")||l==="textarea"||o.contentEditable==="true")}var zu=Ui&&"documentMode"in document&&11>=document.documentMode,No=null,Uu=null,bc=null,fl=!1;function Dp(o,l,h){var v=h.window===h?h.document:h.nodeType===9?h:h.ownerDocument;fl||No==null||No!==Ao(v)||(v=No,"selectionStart"in v&&jo(v)?v={start:v.selectionStart,end:v.selectionEnd}:(v=(v.ownerDocument&&v.ownerDocument.defaultView||window).getSelection(),v={anchorNode:v.anchorNode,anchorOffset:v.anchorOffset,focusNode:v.focusNode,focusOffset:v.focusOffset}),bc&&dl(bc,v)||(bc=v,v=bg(Uu,"onSelect"),0<v.length&&(l=new Mu("onSelect","select",null,l,h),o.push({event:l,listeners:v}),l.target=No)))}function Co(o,l){var h={};return h[o.toLowerCase()]=l.toLowerCase(),h["Webkit"+o]="webkit"+l,h["Moz"+o]="moz"+l,h}var hl={animationend:Co("Animation","AnimationEnd"),animationiteration:Co("Animation","AnimationIteration"),animationstart:Co("Animation","AnimationStart"),transitionrun:Co("Transition","TransitionRun"),transitionstart:Co("Transition","TransitionStart"),transitioncancel:Co("Transition","TransitionCancel"),transitionend:Co("Transition","TransitionEnd")},Hu={},Pp={};Ui&&(Pp=document.createElement("div").style,"AnimationEvent"in window||(delete hl.animationend.animation,delete hl.animationiteration.animation,delete hl.animationstart.animation),"TransitionEvent"in window||delete hl.transitionend.transition);function vr(o){if(Hu[o])return Hu[o];if(!hl[o])return o;var l=hl[o],h;for(h in l)if(l.hasOwnProperty(h)&&h in Pp)return Hu[o]=l[h];return o}var _c=vr("animationend"),Rp=vr("animationiteration"),xc=vr("animationstart"),e_=vr("transitionrun"),Lp=vr("transitionstart"),t_=vr("transitioncancel"),ml=vr("transitionend"),Ip=new Map,Mo="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Mo.push("scrollEnd");function xi(o,l){Ip.set(o,l),ct(l,[o])}var wc=typeof reportError=="function"?reportError:function(o){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var l=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof o=="object"&&o!==null&&typeof o.message=="string"?String(o.message):String(o),error:o});if(!window.dispatchEvent(l))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",o);return}console.error(o)},wi=[],Yr=0,Fu=0;function Sc(){for(var o=Yr,l=Fu=Yr=0;l<o;){var h=wi[l];wi[l++]=null;var v=wi[l];wi[l++]=null;var E=wi[l];wi[l++]=null;var k=wi[l];if(wi[l++]=null,v!==null&&E!==null){var I=v.pending;I===null?E.next=E:(E.next=I.next,I.next=E),v.pending=E}k!==0&&pl(h,E,k)}}function Do(o,l,h,v){wi[Yr++]=o,wi[Yr++]=l,wi[Yr++]=h,wi[Yr++]=v,Fu|=v,o.lanes|=v,o=o.alternate,o!==null&&(o.lanes|=v)}function zf(o,l,h,v){return Do(o,l,h,v),Ec(o)}function Ea(o,l){return Do(o,null,null,l),Ec(o)}function pl(o,l,h){o.lanes|=h;var v=o.alternate;v!==null&&(v.lanes|=h);for(var E=!1,k=o.return;k!==null;)k.childLanes|=h,v=k.alternate,v!==null&&(v.childLanes|=h),k.tag===22&&(o=k.stateNode,o===null||o._visibility&1||(E=!0)),o=k,k=k.return;return o.tag===3?(k=o.stateNode,E&&l!==null&&(E=31-_n(h),o=k.hiddenUpdates,v=o[E],v===null?o[E]=[l]:v.push(l),l.lane=h|536870912),k):null}function Ec(o){if(50<dh)throw dh=0,rx=null,Error(r(185));for(var l=o.return;l!==null;)o=l,l=o.return;return o.tag===3?o.stateNode:null}var ts={};function n_(o,l,h,v){this.tag=o,this.key=h,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=l,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=v,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Kr(o,l,h,v){return new n_(o,l,h,v)}function Gu(o){return o=o.prototype,!(!o||!o.isReactComponent)}function Aa(o,l){var h=o.alternate;return h===null?(h=Kr(o.tag,l,o.key,o.mode),h.elementType=o.elementType,h.type=o.type,h.stateNode=o.stateNode,h.alternate=o,o.alternate=h):(h.pendingProps=l,h.type=o.type,h.flags=0,h.subtreeFlags=0,h.deletions=null),h.flags=o.flags&65011712,h.childLanes=o.childLanes,h.lanes=o.lanes,h.child=o.child,h.memoizedProps=o.memoizedProps,h.memoizedState=o.memoizedState,h.updateQueue=o.updateQueue,l=o.dependencies,h.dependencies=l===null?null:{lanes:l.lanes,firstContext:l.firstContext},h.sibling=o.sibling,h.index=o.index,h.ref=o.ref,h.refCleanup=o.refCleanup,h}function Uf(o,l){o.flags&=65011714;var h=o.alternate;return h===null?(o.childLanes=0,o.lanes=l,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=h.childLanes,o.lanes=h.lanes,o.child=h.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=h.memoizedProps,o.memoizedState=h.memoizedState,o.updateQueue=h.updateQueue,o.type=h.type,l=h.dependencies,o.dependencies=l===null?null:{lanes:l.lanes,firstContext:l.firstContext}),o}function Ac(o,l,h,v,E,k){var I=0;if(v=o,typeof o=="function")Gu(o)&&(I=1);else if(typeof o=="string")I=lU(o,h,ie.current)?26:o==="html"||o==="head"||o==="body"?27:5;else e:switch(o){case H:return o=Kr(31,h,l,E),o.elementType=H,o.lanes=k,o;case T:return ns(h.children,E,k,l);case S:I=8,E|=24;break;case j:return o=Kr(12,h,l,E|2),o.elementType=j,o.lanes=k,o;case N:return o=Kr(13,h,l,E),o.elementType=N,o.lanes=k,o;case R:return o=Kr(19,h,l,E),o.elementType=R,o.lanes=k,o;default:if(typeof o=="object"&&o!==null)switch(o.$$typeof){case O:I=10;break e;case D:I=9;break e;case M:I=11;break e;case $:I=14;break e;case B:I=16,v=null;break e}I=29,h=Error(r(130,o===null?"null":typeof o,"")),v=null}return l=Kr(I,h,l,E),l.elementType=o,l.type=v,l.lanes=k,l}function ns(o,l,h,v){return o=Kr(7,o,v,l),o.lanes=h,o}function qu(o,l,h){return o=Kr(6,o,null,l),o.lanes=h,o}function Hf(o){var l=Kr(18,null,null,0);return l.stateNode=o,l}function Ff(o,l,h){return l=Kr(4,o.children!==null?o.children:[],o.key,l),l.lanes=h,l.stateNode={containerInfo:o.containerInfo,pendingChildren:null,implementation:o.implementation},l}var u=new WeakMap;function g(o,l){if(typeof o=="object"&&o!==null){var h=u.get(o);return h!==void 0?h:(l={value:o,source:l,stack:Be(l)},u.set(o,l),l)}return{value:o,source:l,stack:Be(l)}}var w=[],C=0,P=null,U=0,re=[],ye=0,Ee=null,Pe=1,Ge="";function et(o,l){w[C++]=U,w[C++]=P,P=o,U=l}function bt(o,l,h){re[ye++]=Pe,re[ye++]=Ge,re[ye++]=Ee,Ee=o;var v=Pe;o=Ge;var E=32-_n(v)-1;v&=~(1<<E),h+=1;var k=32-_n(l)+E;if(30<k){var I=E-E%5;k=(v&(1<<I)-1).toString(32),v>>=I,E-=I,Pe=1<<32-_n(l)+E|h<<E|v,Ge=k+o}else Pe=1<<k|h<<E|v,Ge=o}function ir(o){o.return!==null&&(et(o,1),bt(o,1,0))}function In(o){for(;o===P;)P=w[--C],w[C]=null,U=w[--C],w[C]=null;for(;o===Ee;)Ee=re[--ye],re[ye]=null,Ge=re[--ye],re[ye]=null,Pe=re[--ye],re[ye]=null}function ai(o,l){re[ye++]=Pe,re[ye++]=Ge,re[ye++]=Ee,Pe=l.id,Ge=l.overflow,Ee=o}var Pt=null,Rt=null,St=!1,Po=null,Si=!1,Yu=Error(r(519));function Ro(o){var l=Error(r(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Tc(g(l,o)),Yu}function Gf(o){var l=o.stateNode,h=o.type,v=o.memoizedProps;switch(l[kn]=o,l[Dn]=v,h){case"dialog":At("cancel",l),At("close",l);break;case"iframe":case"object":case"embed":At("load",l);break;case"video":case"audio":for(h=0;h<hh.length;h++)At(hh[h],l);break;case"source":At("error",l);break;case"img":case"image":case"link":At("error",l),At("load",l);break;case"details":At("toggle",l);break;case"input":At("invalid",l),ac(l,v.value,v.defaultValue,v.checked,v.defaultChecked,v.type,v.name,!0);break;case"select":At("invalid",l);break;case"textarea":At("invalid",l),tl(l,v.value,v.defaultValue,v.children)}h=v.children,typeof h!="string"&&typeof h!="number"&&typeof h!="bigint"||l.textContent===""+h||v.suppressHydrationWarning===!0||bj(l.textContent,h)?(v.popover!=null&&(At("beforetoggle",l),At("toggle",l)),v.onScroll!=null&&At("scroll",l),v.onScrollEnd!=null&&At("scrollend",l),v.onClick!=null&&(l.onclick=bi),l=!0):l=!1,l||Ro(o,!0)}function On(o){for(Pt=o.return;Pt;)switch(Pt.tag){case 5:case 31:case 13:Si=!1;return;case 27:case 3:Si=!0;return;default:Pt=Pt.return}}function to(o){if(o!==Pt)return!1;if(!St)return On(o),St=!0,!1;var l=o.tag,h;if((h=l!==3&&l!==27)&&((h=l===5)&&(h=o.type,h=!(h!=="form"&&h!=="button")||yx(o.type,o.memoizedProps)),h=!h),h&&Rt&&Ro(o),On(o),l===13){if(o=o.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(r(317));Rt=Oj(o)}else if(l===31){if(o=o.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(r(317));Rt=Oj(o)}else l===27?(l=Rt,jl(o.type)?(o=Sx,Sx=null,Rt=o):Rt=l):Rt=Pt?ka(o.stateNode.nextSibling):null;return!0}function rs(){Rt=Pt=null,St=!1}function qf(){var o=Po;return o!==null&&(ki===null?ki=o:ki.push.apply(ki,o),Po=null),o}function Tc(o){Po===null?Po=[o]:Po.push(o)}var kc=q(null),Lo=null,no=null;function gl(o,l,h){X(kc,l._currentValue),l._currentValue=h}function is(o){o._currentValue=kc.current,K(kc)}function r_(o,l,h){for(;o!==null;){var v=o.alternate;if((o.childLanes&l)!==l?(o.childLanes|=l,v!==null&&(v.childLanes|=l)):v!==null&&(v.childLanes&l)!==l&&(v.childLanes|=l),o===h)break;o=o.return}}function i_(o,l,h,v){var E=o.child;for(E!==null&&(E.return=o);E!==null;){var k=E.dependencies;if(k!==null){var I=E.child;k=k.firstContext;e:for(;k!==null;){var G=k;k=E;for(var oe=0;oe<l.length;oe++)if(G.context===l[oe]){k.lanes|=h,G=k.alternate,G!==null&&(G.lanes|=h),r_(k.return,h,o),v||(I=null);break e}k=G.next}}else if(E.tag===18){if(I=E.return,I===null)throw Error(r(341));I.lanes|=h,k=I.alternate,k!==null&&(k.lanes|=h),r_(I,h,o),I=null}else I=E.child;if(I!==null)I.return=E;else for(I=E;I!==null;){if(I===o){I=null;break}if(E=I.sibling,E!==null){E.return=I.return,I=E;break}I=I.return}E=I}}function Ku(o,l,h,v){o=null;for(var E=l,k=!1;E!==null;){if(!k){if((E.flags&524288)!==0)k=!0;else if((E.flags&262144)!==0)break}if(E.tag===10){var I=E.alternate;if(I===null)throw Error(r(387));if(I=I.memoizedProps,I!==null){var G=E.type;gr(E.pendingProps.value,I.value)||(o!==null?o.push(G):o=[G])}}else if(E===de.current){if(I=E.alternate,I===null)throw Error(r(387));I.memoizedState.memoizedState!==E.memoizedState.memoizedState&&(o!==null?o.push(yh):o=[yh])}E=E.return}o!==null&&i_(l,o,h,v),l.flags|=262144}function $p(o){for(o=o.firstContext;o!==null;){if(!gr(o.context._currentValue,o.memoizedValue))return!0;o=o.next}return!1}function Oc(o){Lo=o,no=null,o=o.dependencies,o!==null&&(o.firstContext=null)}function Cr(o){return ik(Lo,o)}function Bp(o,l){return Lo===null&&Oc(o),ik(o,l)}function ik(o,l){var h=l._currentValue;if(l={context:l,memoizedValue:h,next:null},no===null){if(o===null)throw Error(r(308));no=l,o.dependencies={lanes:0,firstContext:l},o.flags|=524288}else no=no.next=l;return h}var i8=typeof AbortController<"u"?AbortController:function(){var o=[],l=this.signal={aborted:!1,addEventListener:function(h,v){o.push(v)}};this.abort=function(){l.aborted=!0,o.forEach(function(h){return h()})}},a8=e.unstable_scheduleCallback,o8=e.unstable_NormalPriority,Zn={$$typeof:O,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function a_(){return{controller:new i8,data:new Map,refCount:0}}function Yf(o){o.refCount--,o.refCount===0&&a8(o8,function(){o.controller.abort()})}var Kf=null,o_=0,Wu=0,Vu=null;function s8(o,l){if(Kf===null){var h=Kf=[];o_=0,Wu=cx(),Vu={status:"pending",value:void 0,then:function(v){h.push(v)}}}return o_++,l.then(ak,ak),l}function ak(){if(--o_===0&&Kf!==null){Vu!==null&&(Vu.status="fulfilled");var o=Kf;Kf=null,Wu=0,Vu=null;for(var l=0;l<o.length;l++)(0,o[l])()}}function l8(o,l){var h=[],v={status:"pending",value:null,reason:null,then:function(E){h.push(E)}};return o.then(function(){v.status="fulfilled",v.value=l;for(var E=0;E<h.length;E++)(0,h[E])(l)},function(E){for(v.status="rejected",v.reason=E,E=0;E<h.length;E++)(0,h[E])(void 0)}),v}var ok=J.S;J.S=function(o,l){FO=ze(),typeof l=="object"&&l!==null&&typeof l.then=="function"&&s8(o,l),ok!==null&&ok(o,l)};var jc=q(null);function s_(){var o=jc.current;return o!==null?o:en.pooledCache}function zp(o,l){l===null?X(jc,jc.current):X(jc,l.pool)}function sk(){var o=s_();return o===null?null:{parent:Zn._currentValue,pool:o}}var Zu=Error(r(460)),l_=Error(r(474)),Up=Error(r(542)),Hp={then:function(){}};function lk(o){return o=o.status,o==="fulfilled"||o==="rejected"}function ck(o,l,h){switch(h=o[h],h===void 0?o.push(l):h!==l&&(l.then(bi,bi),l=h),l.status){case"fulfilled":return l.value;case"rejected":throw o=l.reason,dk(o),o;default:if(typeof l.status=="string")l.then(bi,bi);else{if(o=en,o!==null&&100<o.shellSuspendCounter)throw Error(r(482));o=l,o.status="pending",o.then(function(v){if(l.status==="pending"){var E=l;E.status="fulfilled",E.value=v}},function(v){if(l.status==="pending"){var E=l;E.status="rejected",E.reason=v}})}switch(l.status){case"fulfilled":return l.value;case"rejected":throw o=l.reason,dk(o),o}throw Cc=l,Zu}}function Nc(o){try{var l=o._init;return l(o._payload)}catch(h){throw h!==null&&typeof h=="object"&&typeof h.then=="function"?(Cc=h,Zu):h}}var Cc=null;function uk(){if(Cc===null)throw Error(r(459));var o=Cc;return Cc=null,o}function dk(o){if(o===Zu||o===Up)throw Error(r(483))}var Xu=null,Wf=0;function Fp(o){var l=Wf;return Wf+=1,Xu===null&&(Xu=[]),ck(Xu,o,l)}function Vf(o,l){l=l.props.ref,o.ref=l!==void 0?l:null}function Gp(o,l){throw l.$$typeof===y?Error(r(525)):(o=Object.prototype.toString.call(l),Error(r(31,o==="[object Object]"?"object with keys {"+Object.keys(l).join(", ")+"}":o)))}function fk(o){function l(ve,fe){if(o){var we=ve.deletions;we===null?(ve.deletions=[fe],ve.flags|=16):we.push(fe)}}function h(ve,fe){if(!o)return null;for(;fe!==null;)l(ve,fe),fe=fe.sibling;return null}function v(ve){for(var fe=new Map;ve!==null;)ve.key!==null?fe.set(ve.key,ve):fe.set(ve.index,ve),ve=ve.sibling;return fe}function E(ve,fe){return ve=Aa(ve,fe),ve.index=0,ve.sibling=null,ve}function k(ve,fe,we){return ve.index=we,o?(we=ve.alternate,we!==null?(we=we.index,we<fe?(ve.flags|=67108866,fe):we):(ve.flags|=67108866,fe)):(ve.flags|=1048576,fe)}function I(ve){return o&&ve.alternate===null&&(ve.flags|=67108866),ve}function G(ve,fe,we,De){return fe===null||fe.tag!==6?(fe=qu(we,ve.mode,De),fe.return=ve,fe):(fe=E(fe,we),fe.return=ve,fe)}function oe(ve,fe,we,De){var rt=we.type;return rt===T?Ce(ve,fe,we.props.children,De,we.key):fe!==null&&(fe.elementType===rt||typeof rt=="object"&&rt!==null&&rt.$$typeof===B&&Nc(rt)===fe.type)?(fe=E(fe,we.props),Vf(fe,we),fe.return=ve,fe):(fe=Ac(we.type,we.key,we.props,null,ve.mode,De),Vf(fe,we),fe.return=ve,fe)}function Se(ve,fe,we,De){return fe===null||fe.tag!==4||fe.stateNode.containerInfo!==we.containerInfo||fe.stateNode.implementation!==we.implementation?(fe=Ff(we,ve.mode,De),fe.return=ve,fe):(fe=E(fe,we.children||[]),fe.return=ve,fe)}function Ce(ve,fe,we,De,rt){return fe===null||fe.tag!==7?(fe=ns(we,ve.mode,De,rt),fe.return=ve,fe):(fe=E(fe,we),fe.return=ve,fe)}function Re(ve,fe,we){if(typeof fe=="string"&&fe!==""||typeof fe=="number"||typeof fe=="bigint")return fe=qu(""+fe,ve.mode,we),fe.return=ve,fe;if(typeof fe=="object"&&fe!==null){switch(fe.$$typeof){case b:return we=Ac(fe.type,fe.key,fe.props,null,ve.mode,we),Vf(we,fe),we.return=ve,we;case x:return fe=Ff(fe,ve.mode,we),fe.return=ve,fe;case B:return fe=Nc(fe),Re(ve,fe,we)}if(be(fe)||F(fe))return fe=ns(fe,ve.mode,we,null),fe.return=ve,fe;if(typeof fe.then=="function")return Re(ve,Fp(fe),we);if(fe.$$typeof===O)return Re(ve,Bp(ve,fe),we);Gp(ve,fe)}return null}function Ae(ve,fe,we,De){var rt=fe!==null?fe.key:null;if(typeof we=="string"&&we!==""||typeof we=="number"||typeof we=="bigint")return rt!==null?null:G(ve,fe,""+we,De);if(typeof we=="object"&&we!==null){switch(we.$$typeof){case b:return we.key===rt?oe(ve,fe,we,De):null;case x:return we.key===rt?Se(ve,fe,we,De):null;case B:return we=Nc(we),Ae(ve,fe,we,De)}if(be(we)||F(we))return rt!==null?null:Ce(ve,fe,we,De,null);if(typeof we.then=="function")return Ae(ve,fe,Fp(we),De);if(we.$$typeof===O)return Ae(ve,fe,Bp(ve,we),De);Gp(ve,we)}return null}function ke(ve,fe,we,De,rt){if(typeof De=="string"&&De!==""||typeof De=="number"||typeof De=="bigint")return ve=ve.get(we)||null,G(fe,ve,""+De,rt);if(typeof De=="object"&&De!==null){switch(De.$$typeof){case b:return ve=ve.get(De.key===null?we:De.key)||null,oe(fe,ve,De,rt);case x:return ve=ve.get(De.key===null?we:De.key)||null,Se(fe,ve,De,rt);case B:return De=Nc(De),ke(ve,fe,we,De,rt)}if(be(De)||F(De))return ve=ve.get(we)||null,Ce(fe,ve,De,rt,null);if(typeof De.then=="function")return ke(ve,fe,we,Fp(De),rt);if(De.$$typeof===O)return ke(ve,fe,we,Bp(fe,De),rt);Gp(fe,De)}return null}function Ze(ve,fe,we,De){for(var rt=null,Lt=null,Je=fe,_t=fe=0,jt=null;Je!==null&&_t<we.length;_t++){Je.index>_t?(jt=Je,Je=null):jt=Je.sibling;var It=Ae(ve,Je,we[_t],De);if(It===null){Je===null&&(Je=jt);break}o&&Je&&It.alternate===null&&l(ve,Je),fe=k(It,fe,_t),Lt===null?rt=It:Lt.sibling=It,Lt=It,Je=jt}if(_t===we.length)return h(ve,Je),St&&et(ve,_t),rt;if(Je===null){for(;_t<we.length;_t++)Je=Re(ve,we[_t],De),Je!==null&&(fe=k(Je,fe,_t),Lt===null?rt=Je:Lt.sibling=Je,Lt=Je);return St&&et(ve,_t),rt}for(Je=v(Je);_t<we.length;_t++)jt=ke(Je,ve,_t,we[_t],De),jt!==null&&(o&&jt.alternate!==null&&Je.delete(jt.key===null?_t:jt.key),fe=k(jt,fe,_t),Lt===null?rt=jt:Lt.sibling=jt,Lt=jt);return o&&Je.forEach(function(Pl){return l(ve,Pl)}),St&&et(ve,_t),rt}function ot(ve,fe,we,De){if(we==null)throw Error(r(151));for(var rt=null,Lt=null,Je=fe,_t=fe=0,jt=null,It=we.next();Je!==null&&!It.done;_t++,It=we.next()){Je.index>_t?(jt=Je,Je=null):jt=Je.sibling;var Pl=Ae(ve,Je,It.value,De);if(Pl===null){Je===null&&(Je=jt);break}o&&Je&&Pl.alternate===null&&l(ve,Je),fe=k(Pl,fe,_t),Lt===null?rt=Pl:Lt.sibling=Pl,Lt=Pl,Je=jt}if(It.done)return h(ve,Je),St&&et(ve,_t),rt;if(Je===null){for(;!It.done;_t++,It=we.next())It=Re(ve,It.value,De),It!==null&&(fe=k(It,fe,_t),Lt===null?rt=It:Lt.sibling=It,Lt=It);return St&&et(ve,_t),rt}for(Je=v(Je);!It.done;_t++,It=we.next())It=ke(Je,ve,_t,It.value,De),It!==null&&(o&&It.alternate!==null&&Je.delete(It.key===null?_t:It.key),fe=k(It,fe,_t),Lt===null?rt=It:Lt.sibling=It,Lt=It);return o&&Je.forEach(function(bU){return l(ve,bU)}),St&&et(ve,_t),rt}function Xt(ve,fe,we,De){if(typeof we=="object"&&we!==null&&we.type===T&&we.key===null&&(we=we.props.children),typeof we=="object"&&we!==null){switch(we.$$typeof){case b:e:{for(var rt=we.key;fe!==null;){if(fe.key===rt){if(rt=we.type,rt===T){if(fe.tag===7){h(ve,fe.sibling),De=E(fe,we.props.children),De.return=ve,ve=De;break e}}else if(fe.elementType===rt||typeof rt=="object"&&rt!==null&&rt.$$typeof===B&&Nc(rt)===fe.type){h(ve,fe.sibling),De=E(fe,we.props),Vf(De,we),De.return=ve,ve=De;break e}h(ve,fe);break}else l(ve,fe);fe=fe.sibling}we.type===T?(De=ns(we.props.children,ve.mode,De,we.key),De.return=ve,ve=De):(De=Ac(we.type,we.key,we.props,null,ve.mode,De),Vf(De,we),De.return=ve,ve=De)}return I(ve);case x:e:{for(rt=we.key;fe!==null;){if(fe.key===rt)if(fe.tag===4&&fe.stateNode.containerInfo===we.containerInfo&&fe.stateNode.implementation===we.implementation){h(ve,fe.sibling),De=E(fe,we.children||[]),De.return=ve,ve=De;break e}else{h(ve,fe);break}else l(ve,fe);fe=fe.sibling}De=Ff(we,ve.mode,De),De.return=ve,ve=De}return I(ve);case B:return we=Nc(we),Xt(ve,fe,we,De)}if(be(we))return Ze(ve,fe,we,De);if(F(we)){if(rt=F(we),typeof rt!="function")throw Error(r(150));return we=rt.call(we),ot(ve,fe,we,De)}if(typeof we.then=="function")return Xt(ve,fe,Fp(we),De);if(we.$$typeof===O)return Xt(ve,fe,Bp(ve,we),De);Gp(ve,we)}return typeof we=="string"&&we!==""||typeof we=="number"||typeof we=="bigint"?(we=""+we,fe!==null&&fe.tag===6?(h(ve,fe.sibling),De=E(fe,we),De.return=ve,ve=De):(h(ve,fe),De=qu(we,ve.mode,De),De.return=ve,ve=De),I(ve)):h(ve,fe)}return function(ve,fe,we,De){try{Wf=0;var rt=Xt(ve,fe,we,De);return Xu=null,rt}catch(Je){if(Je===Zu||Je===Up)throw Je;var Lt=Kr(29,Je,null,ve.mode);return Lt.lanes=De,Lt.return=ve,Lt}finally{}}}var Mc=fk(!0),hk=fk(!1),vl=!1;function c_(o){o.updateQueue={baseState:o.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function u_(o,l){o=o.updateQueue,l.updateQueue===o&&(l.updateQueue={baseState:o.baseState,firstBaseUpdate:o.firstBaseUpdate,lastBaseUpdate:o.lastBaseUpdate,shared:o.shared,callbacks:null})}function yl(o){return{lane:o,tag:0,payload:null,callback:null,next:null}}function bl(o,l,h){var v=o.updateQueue;if(v===null)return null;if(v=v.shared,(Bt&2)!==0){var E=v.pending;return E===null?l.next=l:(l.next=E.next,E.next=l),v.pending=l,l=Ec(o),pl(o,null,h),l}return Do(o,v,l,h),Ec(o)}function Zf(o,l,h){if(l=l.updateQueue,l!==null&&(l=l.shared,(h&4194048)!==0)){var v=l.lanes;v&=o.pendingLanes,h|=v,l.lanes=h,Tu(o,h)}}function d_(o,l){var h=o.updateQueue,v=o.alternate;if(v!==null&&(v=v.updateQueue,h===v)){var E=null,k=null;if(h=h.firstBaseUpdate,h!==null){do{var I={lane:h.lane,tag:h.tag,payload:h.payload,callback:null,next:null};k===null?E=k=I:k=k.next=I,h=h.next}while(h!==null);k===null?E=k=l:k=k.next=l}else E=k=l;h={baseState:v.baseState,firstBaseUpdate:E,lastBaseUpdate:k,shared:v.shared,callbacks:v.callbacks},o.updateQueue=h;return}o=h.lastBaseUpdate,o===null?h.firstBaseUpdate=l:o.next=l,h.lastBaseUpdate=l}var f_=!1;function Xf(){if(f_){var o=Vu;if(o!==null)throw o}}function Jf(o,l,h,v){f_=!1;var E=o.updateQueue;vl=!1;var k=E.firstBaseUpdate,I=E.lastBaseUpdate,G=E.shared.pending;if(G!==null){E.shared.pending=null;var oe=G,Se=oe.next;oe.next=null,I===null?k=Se:I.next=Se,I=oe;var Ce=o.alternate;Ce!==null&&(Ce=Ce.updateQueue,G=Ce.lastBaseUpdate,G!==I&&(G===null?Ce.firstBaseUpdate=Se:G.next=Se,Ce.lastBaseUpdate=oe))}if(k!==null){var Re=E.baseState;I=0,Ce=Se=oe=null,G=k;do{var Ae=G.lane&-536870913,ke=Ae!==G.lane;if(ke?(Ot&Ae)===Ae:(v&Ae)===Ae){Ae!==0&&Ae===Wu&&(f_=!0),Ce!==null&&(Ce=Ce.next={lane:0,tag:G.tag,payload:G.payload,callback:null,next:null});e:{var Ze=o,ot=G;Ae=l;var Xt=h;switch(ot.tag){case 1:if(Ze=ot.payload,typeof Ze=="function"){Re=Ze.call(Xt,Re,Ae);break e}Re=Ze;break e;case 3:Ze.flags=Ze.flags&-65537|128;case 0:if(Ze=ot.payload,Ae=typeof Ze=="function"?Ze.call(Xt,Re,Ae):Ze,Ae==null)break e;Re=p({},Re,Ae);break e;case 2:vl=!0}}Ae=G.callback,Ae!==null&&(o.flags|=64,ke&&(o.flags|=8192),ke=E.callbacks,ke===null?E.callbacks=[Ae]:ke.push(Ae))}else ke={lane:Ae,tag:G.tag,payload:G.payload,callback:G.callback,next:null},Ce===null?(Se=Ce=ke,oe=Re):Ce=Ce.next=ke,I|=Ae;if(G=G.next,G===null){if(G=E.shared.pending,G===null)break;ke=G,G=ke.next,ke.next=null,E.lastBaseUpdate=ke,E.shared.pending=null}}while(!0);Ce===null&&(oe=Re),E.baseState=oe,E.firstBaseUpdate=Se,E.lastBaseUpdate=Ce,k===null&&(E.shared.lanes=0),El|=I,o.lanes=I,o.memoizedState=Re}}function mk(o,l){if(typeof o!="function")throw Error(r(191,o));o.call(l)}function pk(o,l){var h=o.callbacks;if(h!==null)for(o.callbacks=null,o=0;o<h.length;o++)mk(h[o],l)}var Ju=q(null),qp=q(0);function gk(o,l){o=hs,X(qp,o),X(Ju,l),hs=o|l.baseLanes}function h_(){X(qp,hs),X(Ju,Ju.current)}function m_(){hs=qp.current,K(Ju),K(qp)}var Gi=q(null),Ta=null;function _l(o){var l=o.alternate;X(Gn,Gn.current&1),X(Gi,o),Ta===null&&(l===null||Ju.current!==null||l.memoizedState!==null)&&(Ta=o)}function p_(o){X(Gn,Gn.current),X(Gi,o),Ta===null&&(Ta=o)}function vk(o){o.tag===22?(X(Gn,Gn.current),X(Gi,o),Ta===null&&(Ta=o)):xl()}function xl(){X(Gn,Gn.current),X(Gi,Gi.current)}function qi(o){K(Gi),Ta===o&&(Ta=null),K(Gn)}var Gn=q(0);function Yp(o){for(var l=o;l!==null;){if(l.tag===13){var h=l.memoizedState;if(h!==null&&(h=h.dehydrated,h===null||xx(h)||wx(h)))return l}else if(l.tag===19&&(l.memoizedProps.revealOrder==="forwards"||l.memoizedProps.revealOrder==="backwards"||l.memoizedProps.revealOrder==="unstable_legacy-backwards"||l.memoizedProps.revealOrder==="together")){if((l.flags&128)!==0)return l}else if(l.child!==null){l.child.return=l,l=l.child;continue}if(l===o)break;for(;l.sibling===null;){if(l.return===null||l.return===o)return null;l=l.return}l.sibling.return=l.return,l=l.sibling}return null}var as=0,gt=null,Vt=null,Xn=null,Kp=!1,Qu=!1,Dc=!1,Wp=0,Qf=0,ed=null,c8=0;function $n(){throw Error(r(321))}function g_(o,l){if(l===null)return!1;for(var h=0;h<l.length&&h<o.length;h++)if(!gr(o[h],l[h]))return!1;return!0}function v_(o,l,h,v,E,k){return as=k,gt=l,l.memoizedState=null,l.updateQueue=null,l.lanes=0,J.H=o===null||o.memoizedState===null?eO:M_,Dc=!1,k=h(v,E),Dc=!1,Qu&&(k=bk(l,h,v,E)),yk(o),k}function yk(o){J.H=nh;var l=Vt!==null&&Vt.next!==null;if(as=0,Xn=Vt=gt=null,Kp=!1,Qf=0,ed=null,l)throw Error(r(300));o===null||Jn||(o=o.dependencies,o!==null&&$p(o)&&(Jn=!0))}function bk(o,l,h,v){gt=o;var E=0;do{if(Qu&&(ed=null),Qf=0,Qu=!1,25<=E)throw Error(r(301));if(E+=1,Xn=Vt=null,o.updateQueue!=null){var k=o.updateQueue;k.lastEffect=null,k.events=null,k.stores=null,k.memoCache!=null&&(k.memoCache.index=0)}J.H=tO,k=l(h,v)}while(Qu);return k}function u8(){var o=J.H,l=o.useState()[0];return l=typeof l.then=="function"?eh(l):l,o=o.useState()[0],(Vt!==null?Vt.memoizedState:null)!==o&&(gt.flags|=1024),l}function y_(){var o=Wp!==0;return Wp=0,o}function b_(o,l,h){l.updateQueue=o.updateQueue,l.flags&=-2053,o.lanes&=~h}function __(o){if(Kp){for(o=o.memoizedState;o!==null;){var l=o.queue;l!==null&&(l.pending=null),o=o.next}Kp=!1}as=0,Xn=Vt=gt=null,Qu=!1,Qf=Wp=0,ed=null}function oi(){var o={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Xn===null?gt.memoizedState=Xn=o:Xn=Xn.next=o,Xn}function qn(){if(Vt===null){var o=gt.alternate;o=o!==null?o.memoizedState:null}else o=Vt.next;var l=Xn===null?gt.memoizedState:Xn.next;if(l!==null)Xn=l,Vt=o;else{if(o===null)throw gt.alternate===null?Error(r(467)):Error(r(310));Vt=o,o={memoizedState:Vt.memoizedState,baseState:Vt.baseState,baseQueue:Vt.baseQueue,queue:Vt.queue,next:null},Xn===null?gt.memoizedState=Xn=o:Xn=Xn.next=o}return Xn}function Vp(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function eh(o){var l=Qf;return Qf+=1,ed===null&&(ed=[]),o=ck(ed,o,l),l=gt,(Xn===null?l.memoizedState:Xn.next)===null&&(l=l.alternate,J.H=l===null||l.memoizedState===null?eO:M_),o}function Zp(o){if(o!==null&&typeof o=="object"){if(typeof o.then=="function")return eh(o);if(o.$$typeof===O)return Cr(o)}throw Error(r(438,String(o)))}function x_(o){var l=null,h=gt.updateQueue;if(h!==null&&(l=h.memoCache),l==null){var v=gt.alternate;v!==null&&(v=v.updateQueue,v!==null&&(v=v.memoCache,v!=null&&(l={data:v.data.map(function(E){return E.slice()}),index:0})))}if(l==null&&(l={data:[],index:0}),h===null&&(h=Vp(),gt.updateQueue=h),h.memoCache=l,h=l.data[l.index],h===void 0)for(h=l.data[l.index]=Array(o),v=0;v<o;v++)h[v]=V;return l.index++,h}function os(o,l){return typeof l=="function"?l(o):l}function Xp(o){var l=qn();return w_(l,Vt,o)}function w_(o,l,h){var v=o.queue;if(v===null)throw Error(r(311));v.lastRenderedReducer=h;var E=o.baseQueue,k=v.pending;if(k!==null){if(E!==null){var I=E.next;E.next=k.next,k.next=I}l.baseQueue=E=k,v.pending=null}if(k=o.baseState,E===null)o.memoizedState=k;else{l=E.next;var G=I=null,oe=null,Se=l,Ce=!1;do{var Re=Se.lane&-536870913;if(Re!==Se.lane?(Ot&Re)===Re:(as&Re)===Re){var Ae=Se.revertLane;if(Ae===0)oe!==null&&(oe=oe.next={lane:0,revertLane:0,gesture:null,action:Se.action,hasEagerState:Se.hasEagerState,eagerState:Se.eagerState,next:null}),Re===Wu&&(Ce=!0);else if((as&Ae)===Ae){Se=Se.next,Ae===Wu&&(Ce=!0);continue}else Re={lane:0,revertLane:Se.revertLane,gesture:null,action:Se.action,hasEagerState:Se.hasEagerState,eagerState:Se.eagerState,next:null},oe===null?(G=oe=Re,I=k):oe=oe.next=Re,gt.lanes|=Ae,El|=Ae;Re=Se.action,Dc&&h(k,Re),k=Se.hasEagerState?Se.eagerState:h(k,Re)}else Ae={lane:Re,revertLane:Se.revertLane,gesture:Se.gesture,action:Se.action,hasEagerState:Se.hasEagerState,eagerState:Se.eagerState,next:null},oe===null?(G=oe=Ae,I=k):oe=oe.next=Ae,gt.lanes|=Re,El|=Re;Se=Se.next}while(Se!==null&&Se!==l);if(oe===null?I=k:oe.next=G,!gr(k,o.memoizedState)&&(Jn=!0,Ce&&(h=Vu,h!==null)))throw h;o.memoizedState=k,o.baseState=I,o.baseQueue=oe,v.lastRenderedState=k}return E===null&&(v.lanes=0),[o.memoizedState,v.dispatch]}function S_(o){var l=qn(),h=l.queue;if(h===null)throw Error(r(311));h.lastRenderedReducer=o;var v=h.dispatch,E=h.pending,k=l.memoizedState;if(E!==null){h.pending=null;var I=E=E.next;do k=o(k,I.action),I=I.next;while(I!==E);gr(k,l.memoizedState)||(Jn=!0),l.memoizedState=k,l.baseQueue===null&&(l.baseState=k),h.lastRenderedState=k}return[k,v]}function _k(o,l,h){var v=gt,E=qn(),k=St;if(k){if(h===void 0)throw Error(r(407));h=h()}else h=l();var I=!gr((Vt||E).memoizedState,h);if(I&&(E.memoizedState=h,Jn=!0),E=E.queue,T_(Sk.bind(null,v,E,o),[o]),E.getSnapshot!==l||I||Xn!==null&&Xn.memoizedState.tag&1){if(v.flags|=2048,td(9,{destroy:void 0},wk.bind(null,v,E,h,l),null),en===null)throw Error(r(349));k||(as&127)!==0||xk(v,l,h)}return h}function xk(o,l,h){o.flags|=16384,o={getSnapshot:l,value:h},l=gt.updateQueue,l===null?(l=Vp(),gt.updateQueue=l,l.stores=[o]):(h=l.stores,h===null?l.stores=[o]:h.push(o))}function wk(o,l,h,v){l.value=h,l.getSnapshot=v,Ek(l)&&Ak(o)}function Sk(o,l,h){return h(function(){Ek(l)&&Ak(o)})}function Ek(o){var l=o.getSnapshot;o=o.value;try{var h=l();return!gr(o,h)}catch{return!0}}function Ak(o){var l=Ea(o,2);l!==null&&Oi(l,o,2)}function E_(o){var l=oi();if(typeof o=="function"){var h=o;if(o=h(),Dc){fn(!0);try{h()}finally{fn(!1)}}}return l.memoizedState=l.baseState=o,l.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:os,lastRenderedState:o},l}function Tk(o,l,h,v){return o.baseState=h,w_(o,Vt,typeof v=="function"?v:os)}function d8(o,l,h,v,E){if(eg(o))throw Error(r(485));if(o=l.action,o!==null){var k={payload:E,action:o,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(I){k.listeners.push(I)}};J.T!==null?h(!0):k.isTransition=!1,v(k),h=l.pending,h===null?(k.next=l.pending=k,kk(l,k)):(k.next=h.next,l.pending=h.next=k)}}function kk(o,l){var h=l.action,v=l.payload,E=o.state;if(l.isTransition){var k=J.T,I={};J.T=I;try{var G=h(E,v),oe=J.S;oe!==null&&oe(I,G),Ok(o,l,G)}catch(Se){A_(o,l,Se)}finally{k!==null&&I.types!==null&&(k.types=I.types),J.T=k}}else try{k=h(E,v),Ok(o,l,k)}catch(Se){A_(o,l,Se)}}function Ok(o,l,h){h!==null&&typeof h=="object"&&typeof h.then=="function"?h.then(function(v){jk(o,l,v)},function(v){return A_(o,l,v)}):jk(o,l,h)}function jk(o,l,h){l.status="fulfilled",l.value=h,Nk(l),o.state=h,l=o.pending,l!==null&&(h=l.next,h===l?o.pending=null:(h=h.next,l.next=h,kk(o,h)))}function A_(o,l,h){var v=o.pending;if(o.pending=null,v!==null){v=v.next;do l.status="rejected",l.reason=h,Nk(l),l=l.next;while(l!==v)}o.action=null}function Nk(o){o=o.listeners;for(var l=0;l<o.length;l++)(0,o[l])()}function Ck(o,l){return l}function Mk(o,l){if(St){var h=en.formState;if(h!==null){e:{var v=gt;if(St){if(Rt){t:{for(var E=Rt,k=Si;E.nodeType!==8;){if(!k){E=null;break t}if(E=ka(E.nextSibling),E===null){E=null;break t}}k=E.data,E=k==="F!"||k==="F"?E:null}if(E){Rt=ka(E.nextSibling),v=E.data==="F!";break e}}Ro(v)}v=!1}v&&(l=h[0])}}return h=oi(),h.memoizedState=h.baseState=l,v={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ck,lastRenderedState:l},h.queue=v,h=Xk.bind(null,gt,v),v.dispatch=h,v=E_(!1),k=C_.bind(null,gt,!1,v.queue),v=oi(),E={state:l,dispatch:null,action:o,pending:null},v.queue=E,h=d8.bind(null,gt,E,k,h),E.dispatch=h,v.memoizedState=o,[l,h,!1]}function Dk(o){var l=qn();return Pk(l,Vt,o)}function Pk(o,l,h){if(l=w_(o,l,Ck)[0],o=Xp(os)[0],typeof l=="object"&&l!==null&&typeof l.then=="function")try{var v=eh(l)}catch(I){throw I===Zu?Up:I}else v=l;l=qn();var E=l.queue,k=E.dispatch;return h!==l.memoizedState&&(gt.flags|=2048,td(9,{destroy:void 0},f8.bind(null,E,h),null)),[v,k,o]}function f8(o,l){o.action=l}function Rk(o){var l=qn(),h=Vt;if(h!==null)return Pk(l,h,o);qn(),l=l.memoizedState,h=qn();var v=h.queue.dispatch;return h.memoizedState=o,[l,v,!1]}function td(o,l,h,v){return o={tag:o,create:h,deps:v,inst:l,next:null},l=gt.updateQueue,l===null&&(l=Vp(),gt.updateQueue=l),h=l.lastEffect,h===null?l.lastEffect=o.next=o:(v=h.next,h.next=o,o.next=v,l.lastEffect=o),o}function Lk(){return qn().memoizedState}function Jp(o,l,h,v){var E=oi();gt.flags|=o,E.memoizedState=td(1|l,{destroy:void 0},h,v===void 0?null:v)}function Qp(o,l,h,v){var E=qn();v=v===void 0?null:v;var k=E.memoizedState.inst;Vt!==null&&v!==null&&g_(v,Vt.memoizedState.deps)?E.memoizedState=td(l,k,h,v):(gt.flags|=o,E.memoizedState=td(1|l,k,h,v))}function Ik(o,l){Jp(8390656,8,o,l)}function T_(o,l){Qp(2048,8,o,l)}function h8(o){gt.flags|=4;var l=gt.updateQueue;if(l===null)l=Vp(),gt.updateQueue=l,l.events=[o];else{var h=l.events;h===null?l.events=[o]:h.push(o)}}function $k(o){var l=qn().memoizedState;return h8({ref:l,nextImpl:o}),function(){if((Bt&2)!==0)throw Error(r(440));return l.impl.apply(void 0,arguments)}}function Bk(o,l){return Qp(4,2,o,l)}function zk(o,l){return Qp(4,4,o,l)}function Uk(o,l){if(typeof l=="function"){o=o();var h=l(o);return function(){typeof h=="function"?h():l(null)}}if(l!=null)return o=o(),l.current=o,function(){l.current=null}}function Hk(o,l,h){h=h!=null?h.concat([o]):null,Qp(4,4,Uk.bind(null,l,o),h)}function k_(){}function Fk(o,l){var h=qn();l=l===void 0?null:l;var v=h.memoizedState;return l!==null&&g_(l,v[1])?v[0]:(h.memoizedState=[o,l],o)}function Gk(o,l){var h=qn();l=l===void 0?null:l;var v=h.memoizedState;if(l!==null&&g_(l,v[1]))return v[0];if(v=o(),Dc){fn(!0);try{o()}finally{fn(!1)}}return h.memoizedState=[v,l],v}function O_(o,l,h){return h===void 0||(as&1073741824)!==0&&(Ot&261930)===0?o.memoizedState=l:(o.memoizedState=h,o=qO(),gt.lanes|=o,El|=o,h)}function qk(o,l,h,v){return gr(h,l)?h:Ju.current!==null?(o=O_(o,h,v),gr(o,l)||(Jn=!0),o):(as&42)===0||(as&1073741824)!==0&&(Ot&261930)===0?(Jn=!0,o.memoizedState=h):(o=qO(),gt.lanes|=o,El|=o,l)}function Yk(o,l,h,v,E){var k=le.p;le.p=k!==0&&8>k?k:8;var I=J.T,G={};J.T=G,C_(o,!1,l,h);try{var oe=E(),Se=J.S;if(Se!==null&&Se(G,oe),oe!==null&&typeof oe=="object"&&typeof oe.then=="function"){var Ce=l8(oe,v);th(o,l,Ce,Wi(o))}else th(o,l,v,Wi(o))}catch(Re){th(o,l,{then:function(){},status:"rejected",reason:Re},Wi())}finally{le.p=k,I!==null&&G.types!==null&&(I.types=G.types),J.T=I}}function m8(){}function j_(o,l,h,v){if(o.tag!==5)throw Error(r(476));var E=Kk(o).queue;Yk(o,E,l,ae,h===null?m8:function(){return Wk(o),h(v)})}function Kk(o){var l=o.memoizedState;if(l!==null)return l;l={memoizedState:ae,baseState:ae,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:os,lastRenderedState:ae},next:null};var h={};return l.next={memoizedState:h,baseState:h,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:os,lastRenderedState:h},next:null},o.memoizedState=l,o=o.alternate,o!==null&&(o.memoizedState=l),l}function Wk(o){var l=Kk(o);l.next===null&&(l=o.alternate.memoizedState),th(o,l.next.queue,{},Wi())}function N_(){return Cr(yh)}function Vk(){return qn().memoizedState}function Zk(){return qn().memoizedState}function p8(o){for(var l=o.return;l!==null;){switch(l.tag){case 24:case 3:var h=Wi();o=yl(h);var v=bl(l,o,h);v!==null&&(Oi(v,l,h),Zf(v,l,h)),l={cache:a_()},o.payload=l;return}l=l.return}}function g8(o,l,h){var v=Wi();h={lane:v,revertLane:0,gesture:null,action:h,hasEagerState:!1,eagerState:null,next:null},eg(o)?Jk(l,h):(h=zf(o,l,h,v),h!==null&&(Oi(h,o,v),Qk(h,l,v)))}function Xk(o,l,h){var v=Wi();th(o,l,h,v)}function th(o,l,h,v){var E={lane:v,revertLane:0,gesture:null,action:h,hasEagerState:!1,eagerState:null,next:null};if(eg(o))Jk(l,E);else{var k=o.alternate;if(o.lanes===0&&(k===null||k.lanes===0)&&(k=l.lastRenderedReducer,k!==null))try{var I=l.lastRenderedState,G=k(I,h);if(E.hasEagerState=!0,E.eagerState=G,gr(G,I))return Do(o,l,E,0),en===null&&Sc(),!1}catch{}finally{}if(h=zf(o,l,E,v),h!==null)return Oi(h,o,v),Qk(h,l,v),!0}return!1}function C_(o,l,h,v){if(v={lane:2,revertLane:cx(),gesture:null,action:v,hasEagerState:!1,eagerState:null,next:null},eg(o)){if(l)throw Error(r(479))}else l=zf(o,h,v,2),l!==null&&Oi(l,o,2)}function eg(o){var l=o.alternate;return o===gt||l!==null&&l===gt}function Jk(o,l){Qu=Kp=!0;var h=o.pending;h===null?l.next=l:(l.next=h.next,h.next=l),o.pending=l}function Qk(o,l,h){if((h&4194048)!==0){var v=l.lanes;v&=o.pendingLanes,h|=v,l.lanes=h,Tu(o,h)}}var nh={readContext:Cr,use:Zp,useCallback:$n,useContext:$n,useEffect:$n,useImperativeHandle:$n,useLayoutEffect:$n,useInsertionEffect:$n,useMemo:$n,useReducer:$n,useRef:$n,useState:$n,useDebugValue:$n,useDeferredValue:$n,useTransition:$n,useSyncExternalStore:$n,useId:$n,useHostTransitionStatus:$n,useFormState:$n,useActionState:$n,useOptimistic:$n,useMemoCache:$n,useCacheRefresh:$n};nh.useEffectEvent=$n;var eO={readContext:Cr,use:Zp,useCallback:function(o,l){return oi().memoizedState=[o,l===void 0?null:l],o},useContext:Cr,useEffect:Ik,useImperativeHandle:function(o,l,h){h=h!=null?h.concat([o]):null,Jp(4194308,4,Uk.bind(null,l,o),h)},useLayoutEffect:function(o,l){return Jp(4194308,4,o,l)},useInsertionEffect:function(o,l){Jp(4,2,o,l)},useMemo:function(o,l){var h=oi();l=l===void 0?null:l;var v=o();if(Dc){fn(!0);try{o()}finally{fn(!1)}}return h.memoizedState=[v,l],v},useReducer:function(o,l,h){var v=oi();if(h!==void 0){var E=h(l);if(Dc){fn(!0);try{h(l)}finally{fn(!1)}}}else E=l;return v.memoizedState=v.baseState=E,o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:o,lastRenderedState:E},v.queue=o,o=o.dispatch=g8.bind(null,gt,o),[v.memoizedState,o]},useRef:function(o){var l=oi();return o={current:o},l.memoizedState=o},useState:function(o){o=E_(o);var l=o.queue,h=Xk.bind(null,gt,l);return l.dispatch=h,[o.memoizedState,h]},useDebugValue:k_,useDeferredValue:function(o,l){var h=oi();return O_(h,o,l)},useTransition:function(){var o=E_(!1);return o=Yk.bind(null,gt,o.queue,!0,!1),oi().memoizedState=o,[!1,o]},useSyncExternalStore:function(o,l,h){var v=gt,E=oi();if(St){if(h===void 0)throw Error(r(407));h=h()}else{if(h=l(),en===null)throw Error(r(349));(Ot&127)!==0||xk(v,l,h)}E.memoizedState=h;var k={value:h,getSnapshot:l};return E.queue=k,Ik(Sk.bind(null,v,k,o),[o]),v.flags|=2048,td(9,{destroy:void 0},wk.bind(null,v,k,h,l),null),h},useId:function(){var o=oi(),l=en.identifierPrefix;if(St){var h=Ge,v=Pe;h=(v&~(1<<32-_n(v)-1)).toString(32)+h,l="_"+l+"R_"+h,h=Wp++,0<h&&(l+="H"+h.toString(32)),l+="_"}else h=c8++,l="_"+l+"r_"+h.toString(32)+"_";return o.memoizedState=l},useHostTransitionStatus:N_,useFormState:Mk,useActionState:Mk,useOptimistic:function(o){var l=oi();l.memoizedState=l.baseState=o;var h={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return l.queue=h,l=C_.bind(null,gt,!0,h),h.dispatch=l,[o,l]},useMemoCache:x_,useCacheRefresh:function(){return oi().memoizedState=p8.bind(null,gt)},useEffectEvent:function(o){var l=oi(),h={impl:o};return l.memoizedState=h,function(){if((Bt&2)!==0)throw Error(r(440));return h.impl.apply(void 0,arguments)}}},M_={readContext:Cr,use:Zp,useCallback:Fk,useContext:Cr,useEffect:T_,useImperativeHandle:Hk,useInsertionEffect:Bk,useLayoutEffect:zk,useMemo:Gk,useReducer:Xp,useRef:Lk,useState:function(){return Xp(os)},useDebugValue:k_,useDeferredValue:function(o,l){var h=qn();return qk(h,Vt.memoizedState,o,l)},useTransition:function(){var o=Xp(os)[0],l=qn().memoizedState;return[typeof o=="boolean"?o:eh(o),l]},useSyncExternalStore:_k,useId:Vk,useHostTransitionStatus:N_,useFormState:Dk,useActionState:Dk,useOptimistic:function(o,l){var h=qn();return Tk(h,Vt,o,l)},useMemoCache:x_,useCacheRefresh:Zk};M_.useEffectEvent=$k;var tO={readContext:Cr,use:Zp,useCallback:Fk,useContext:Cr,useEffect:T_,useImperativeHandle:Hk,useInsertionEffect:Bk,useLayoutEffect:zk,useMemo:Gk,useReducer:S_,useRef:Lk,useState:function(){return S_(os)},useDebugValue:k_,useDeferredValue:function(o,l){var h=qn();return Vt===null?O_(h,o,l):qk(h,Vt.memoizedState,o,l)},useTransition:function(){var o=S_(os)[0],l=qn().memoizedState;return[typeof o=="boolean"?o:eh(o),l]},useSyncExternalStore:_k,useId:Vk,useHostTransitionStatus:N_,useFormState:Rk,useActionState:Rk,useOptimistic:function(o,l){var h=qn();return Vt!==null?Tk(h,Vt,o,l):(h.baseState=o,[o,h.queue.dispatch])},useMemoCache:x_,useCacheRefresh:Zk};tO.useEffectEvent=$k;function D_(o,l,h,v){l=o.memoizedState,h=h(v,l),h=h==null?l:p({},l,h),o.memoizedState=h,o.lanes===0&&(o.updateQueue.baseState=h)}var P_={enqueueSetState:function(o,l,h){o=o._reactInternals;var v=Wi(),E=yl(v);E.payload=l,h!=null&&(E.callback=h),l=bl(o,E,v),l!==null&&(Oi(l,o,v),Zf(l,o,v))},enqueueReplaceState:function(o,l,h){o=o._reactInternals;var v=Wi(),E=yl(v);E.tag=1,E.payload=l,h!=null&&(E.callback=h),l=bl(o,E,v),l!==null&&(Oi(l,o,v),Zf(l,o,v))},enqueueForceUpdate:function(o,l){o=o._reactInternals;var h=Wi(),v=yl(h);v.tag=2,l!=null&&(v.callback=l),l=bl(o,v,h),l!==null&&(Oi(l,o,h),Zf(l,o,h))}};function nO(o,l,h,v,E,k,I){return o=o.stateNode,typeof o.shouldComponentUpdate=="function"?o.shouldComponentUpdate(v,k,I):l.prototype&&l.prototype.isPureReactComponent?!dl(h,v)||!dl(E,k):!0}function rO(o,l,h,v){o=l.state,typeof l.componentWillReceiveProps=="function"&&l.componentWillReceiveProps(h,v),typeof l.UNSAFE_componentWillReceiveProps=="function"&&l.UNSAFE_componentWillReceiveProps(h,v),l.state!==o&&P_.enqueueReplaceState(l,l.state,null)}function Pc(o,l){var h=l;if("ref"in l){h={};for(var v in l)v!=="ref"&&(h[v]=l[v])}if(o=o.defaultProps){h===l&&(h=p({},h));for(var E in o)h[E]===void 0&&(h[E]=o[E])}return h}function iO(o){wc(o)}function aO(o){console.error(o)}function oO(o){wc(o)}function tg(o,l){try{var h=o.onUncaughtError;h(l.value,{componentStack:l.stack})}catch(v){setTimeout(function(){throw v})}}function sO(o,l,h){try{var v=o.onCaughtError;v(h.value,{componentStack:h.stack,errorBoundary:l.tag===1?l.stateNode:null})}catch(E){setTimeout(function(){throw E})}}function R_(o,l,h){return h=yl(h),h.tag=3,h.payload={element:null},h.callback=function(){tg(o,l)},h}function lO(o){return o=yl(o),o.tag=3,o}function cO(o,l,h,v){var E=h.type.getDerivedStateFromError;if(typeof E=="function"){var k=v.value;o.payload=function(){return E(k)},o.callback=function(){sO(l,h,v)}}var I=h.stateNode;I!==null&&typeof I.componentDidCatch=="function"&&(o.callback=function(){sO(l,h,v),typeof E!="function"&&(Al===null?Al=new Set([this]):Al.add(this));var G=v.stack;this.componentDidCatch(v.value,{componentStack:G!==null?G:""})})}function v8(o,l,h,v,E){if(h.flags|=32768,v!==null&&typeof v=="object"&&typeof v.then=="function"){if(l=h.alternate,l!==null&&Ku(l,h,E,!0),h=Gi.current,h!==null){switch(h.tag){case 31:case 13:return Ta===null?hg():h.alternate===null&&Bn===0&&(Bn=3),h.flags&=-257,h.flags|=65536,h.lanes=E,v===Hp?h.flags|=16384:(l=h.updateQueue,l===null?h.updateQueue=new Set([v]):l.add(v),ox(o,v,E)),!1;case 22:return h.flags|=65536,v===Hp?h.flags|=16384:(l=h.updateQueue,l===null?(l={transitions:null,markerInstances:null,retryQueue:new Set([v])},h.updateQueue=l):(h=l.retryQueue,h===null?l.retryQueue=new Set([v]):h.add(v)),ox(o,v,E)),!1}throw Error(r(435,h.tag))}return ox(o,v,E),hg(),!1}if(St)return l=Gi.current,l!==null?((l.flags&65536)===0&&(l.flags|=256),l.flags|=65536,l.lanes=E,v!==Yu&&(o=Error(r(422),{cause:v}),Tc(g(o,h)))):(v!==Yu&&(l=Error(r(423),{cause:v}),Tc(g(l,h))),o=o.current.alternate,o.flags|=65536,E&=-E,o.lanes|=E,v=g(v,h),E=R_(o.stateNode,v,E),d_(o,E),Bn!==4&&(Bn=2)),!1;var k=Error(r(520),{cause:v});if(k=g(k,h),uh===null?uh=[k]:uh.push(k),Bn!==4&&(Bn=2),l===null)return!0;v=g(v,h),h=l;do{switch(h.tag){case 3:return h.flags|=65536,o=E&-E,h.lanes|=o,o=R_(h.stateNode,v,o),d_(h,o),!1;case 1:if(l=h.type,k=h.stateNode,(h.flags&128)===0&&(typeof l.getDerivedStateFromError=="function"||k!==null&&typeof k.componentDidCatch=="function"&&(Al===null||!Al.has(k))))return h.flags|=65536,E&=-E,h.lanes|=E,E=lO(E),cO(E,o,h,v),d_(h,E),!1}h=h.return}while(h!==null);return!1}var L_=Error(r(461)),Jn=!1;function Mr(o,l,h,v){l.child=o===null?hk(l,null,h,v):Mc(l,o.child,h,v)}function uO(o,l,h,v,E){h=h.render;var k=l.ref;if("ref"in v){var I={};for(var G in v)G!=="ref"&&(I[G]=v[G])}else I=v;return Oc(l),v=v_(o,l,h,I,k,E),G=y_(),o!==null&&!Jn?(b_(o,l,E),ss(o,l,E)):(St&&G&&ir(l),l.flags|=1,Mr(o,l,v,E),l.child)}function dO(o,l,h,v,E){if(o===null){var k=h.type;return typeof k=="function"&&!Gu(k)&&k.defaultProps===void 0&&h.compare===null?(l.tag=15,l.type=k,fO(o,l,k,v,E)):(o=Ac(h.type,null,v,l,l.mode,E),o.ref=l.ref,o.return=l,l.child=o)}if(k=o.child,!G_(o,E)){var I=k.memoizedProps;if(h=h.compare,h=h!==null?h:dl,h(I,v)&&o.ref===l.ref)return ss(o,l,E)}return l.flags|=1,o=Aa(k,v),o.ref=l.ref,o.return=l,l.child=o}function fO(o,l,h,v,E){if(o!==null){var k=o.memoizedProps;if(dl(k,v)&&o.ref===l.ref)if(Jn=!1,l.pendingProps=v=k,G_(o,E))(o.flags&131072)!==0&&(Jn=!0);else return l.lanes=o.lanes,ss(o,l,E)}return I_(o,l,h,v,E)}function hO(o,l,h,v){var E=v.children,k=o!==null?o.memoizedState:null;if(o===null&&l.stateNode===null&&(l.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),v.mode==="hidden"){if((l.flags&128)!==0){if(k=k!==null?k.baseLanes|h:h,o!==null){for(v=l.child=o.child,E=0;v!==null;)E=E|v.lanes|v.childLanes,v=v.sibling;v=E&~k}else v=0,l.child=null;return mO(o,l,k,h,v)}if((h&536870912)!==0)l.memoizedState={baseLanes:0,cachePool:null},o!==null&&zp(l,k!==null?k.cachePool:null),k!==null?gk(l,k):h_(),vk(l);else return v=l.lanes=536870912,mO(o,l,k!==null?k.baseLanes|h:h,h,v)}else k!==null?(zp(l,k.cachePool),gk(l,k),xl(),l.memoizedState=null):(o!==null&&zp(l,null),h_(),xl());return Mr(o,l,E,h),l.child}function rh(o,l){return o!==null&&o.tag===22||l.stateNode!==null||(l.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),l.sibling}function mO(o,l,h,v,E){var k=s_();return k=k===null?null:{parent:Zn._currentValue,pool:k},l.memoizedState={baseLanes:h,cachePool:k},o!==null&&zp(l,null),h_(),vk(l),o!==null&&Ku(o,l,v,!0),l.childLanes=E,null}function ng(o,l){return l=ig({mode:l.mode,children:l.children},o.mode),l.ref=o.ref,o.child=l,l.return=o,l}function pO(o,l,h){return Mc(l,o.child,null,h),o=ng(l,l.pendingProps),o.flags|=2,qi(l),l.memoizedState=null,o}function y8(o,l,h){var v=l.pendingProps,E=(l.flags&128)!==0;if(l.flags&=-129,o===null){if(St){if(v.mode==="hidden")return o=ng(l,v),l.lanes=536870912,rh(null,o);if(p_(l),(o=Rt)?(o=kj(o,Si),o=o!==null&&o.data==="&"?o:null,o!==null&&(l.memoizedState={dehydrated:o,treeContext:Ee!==null?{id:Pe,overflow:Ge}:null,retryLane:536870912,hydrationErrors:null},h=Hf(o),h.return=l,l.child=h,Pt=l,Rt=null)):o=null,o===null)throw Ro(l);return l.lanes=536870912,null}return ng(l,v)}var k=o.memoizedState;if(k!==null){var I=k.dehydrated;if(p_(l),E)if(l.flags&256)l.flags&=-257,l=pO(o,l,h);else if(l.memoizedState!==null)l.child=o.child,l.flags|=128,l=null;else throw Error(r(558));else if(Jn||Ku(o,l,h,!1),E=(h&o.childLanes)!==0,Jn||E){if(v=en,v!==null&&(I=ku(v,h),I!==0&&I!==k.retryLane))throw k.retryLane=I,Ea(o,I),Oi(v,o,I),L_;hg(),l=pO(o,l,h)}else o=k.treeContext,Rt=ka(I.nextSibling),Pt=l,St=!0,Po=null,Si=!1,o!==null&&ai(l,o),l=ng(l,v),l.flags|=4096;return l}return o=Aa(o.child,{mode:v.mode,children:v.children}),o.ref=l.ref,l.child=o,o.return=l,o}function rg(o,l){var h=l.ref;if(h===null)o!==null&&o.ref!==null&&(l.flags|=4194816);else{if(typeof h!="function"&&typeof h!="object")throw Error(r(284));(o===null||o.ref!==h)&&(l.flags|=4194816)}}function I_(o,l,h,v,E){return Oc(l),h=v_(o,l,h,v,void 0,E),v=y_(),o!==null&&!Jn?(b_(o,l,E),ss(o,l,E)):(St&&v&&ir(l),l.flags|=1,Mr(o,l,h,E),l.child)}function gO(o,l,h,v,E,k){return Oc(l),l.updateQueue=null,h=bk(l,v,h,E),yk(o),v=y_(),o!==null&&!Jn?(b_(o,l,k),ss(o,l,k)):(St&&v&&ir(l),l.flags|=1,Mr(o,l,h,k),l.child)}function vO(o,l,h,v,E){if(Oc(l),l.stateNode===null){var k=ts,I=h.contextType;typeof I=="object"&&I!==null&&(k=Cr(I)),k=new h(v,k),l.memoizedState=k.state!==null&&k.state!==void 0?k.state:null,k.updater=P_,l.stateNode=k,k._reactInternals=l,k=l.stateNode,k.props=v,k.state=l.memoizedState,k.refs={},c_(l),I=h.contextType,k.context=typeof I=="object"&&I!==null?Cr(I):ts,k.state=l.memoizedState,I=h.getDerivedStateFromProps,typeof I=="function"&&(D_(l,h,I,v),k.state=l.memoizedState),typeof h.getDerivedStateFromProps=="function"||typeof k.getSnapshotBeforeUpdate=="function"||typeof k.UNSAFE_componentWillMount!="function"&&typeof k.componentWillMount!="function"||(I=k.state,typeof k.componentWillMount=="function"&&k.componentWillMount(),typeof k.UNSAFE_componentWillMount=="function"&&k.UNSAFE_componentWillMount(),I!==k.state&&P_.enqueueReplaceState(k,k.state,null),Jf(l,v,k,E),Xf(),k.state=l.memoizedState),typeof k.componentDidMount=="function"&&(l.flags|=4194308),v=!0}else if(o===null){k=l.stateNode;var G=l.memoizedProps,oe=Pc(h,G);k.props=oe;var Se=k.context,Ce=h.contextType;I=ts,typeof Ce=="object"&&Ce!==null&&(I=Cr(Ce));var Re=h.getDerivedStateFromProps;Ce=typeof Re=="function"||typeof k.getSnapshotBeforeUpdate=="function",G=l.pendingProps!==G,Ce||typeof k.UNSAFE_componentWillReceiveProps!="function"&&typeof k.componentWillReceiveProps!="function"||(G||Se!==I)&&rO(l,k,v,I),vl=!1;var Ae=l.memoizedState;k.state=Ae,Jf(l,v,k,E),Xf(),Se=l.memoizedState,G||Ae!==Se||vl?(typeof Re=="function"&&(D_(l,h,Re,v),Se=l.memoizedState),(oe=vl||nO(l,h,oe,v,Ae,Se,I))?(Ce||typeof k.UNSAFE_componentWillMount!="function"&&typeof k.componentWillMount!="function"||(typeof k.componentWillMount=="function"&&k.componentWillMount(),typeof k.UNSAFE_componentWillMount=="function"&&k.UNSAFE_componentWillMount()),typeof k.componentDidMount=="function"&&(l.flags|=4194308)):(typeof k.componentDidMount=="function"&&(l.flags|=4194308),l.memoizedProps=v,l.memoizedState=Se),k.props=v,k.state=Se,k.context=I,v=oe):(typeof k.componentDidMount=="function"&&(l.flags|=4194308),v=!1)}else{k=l.stateNode,u_(o,l),I=l.memoizedProps,Ce=Pc(h,I),k.props=Ce,Re=l.pendingProps,Ae=k.context,Se=h.contextType,oe=ts,typeof Se=="object"&&Se!==null&&(oe=Cr(Se)),G=h.getDerivedStateFromProps,(Se=typeof G=="function"||typeof k.getSnapshotBeforeUpdate=="function")||typeof k.UNSAFE_componentWillReceiveProps!="function"&&typeof k.componentWillReceiveProps!="function"||(I!==Re||Ae!==oe)&&rO(l,k,v,oe),vl=!1,Ae=l.memoizedState,k.state=Ae,Jf(l,v,k,E),Xf();var ke=l.memoizedState;I!==Re||Ae!==ke||vl||o!==null&&o.dependencies!==null&&$p(o.dependencies)?(typeof G=="function"&&(D_(l,h,G,v),ke=l.memoizedState),(Ce=vl||nO(l,h,Ce,v,Ae,ke,oe)||o!==null&&o.dependencies!==null&&$p(o.dependencies))?(Se||typeof k.UNSAFE_componentWillUpdate!="function"&&typeof k.componentWillUpdate!="function"||(typeof k.componentWillUpdate=="function"&&k.componentWillUpdate(v,ke,oe),typeof k.UNSAFE_componentWillUpdate=="function"&&k.UNSAFE_componentWillUpdate(v,ke,oe)),typeof k.componentDidUpdate=="function"&&(l.flags|=4),typeof k.getSnapshotBeforeUpdate=="function"&&(l.flags|=1024)):(typeof k.componentDidUpdate!="function"||I===o.memoizedProps&&Ae===o.memoizedState||(l.flags|=4),typeof k.getSnapshotBeforeUpdate!="function"||I===o.memoizedProps&&Ae===o.memoizedState||(l.flags|=1024),l.memoizedProps=v,l.memoizedState=ke),k.props=v,k.state=ke,k.context=oe,v=Ce):(typeof k.componentDidUpdate!="function"||I===o.memoizedProps&&Ae===o.memoizedState||(l.flags|=4),typeof k.getSnapshotBeforeUpdate!="function"||I===o.memoizedProps&&Ae===o.memoizedState||(l.flags|=1024),v=!1)}return k=v,rg(o,l),v=(l.flags&128)!==0,k||v?(k=l.stateNode,h=v&&typeof h.getDerivedStateFromError!="function"?null:k.render(),l.flags|=1,o!==null&&v?(l.child=Mc(l,o.child,null,E),l.child=Mc(l,null,h,E)):Mr(o,l,h,E),l.memoizedState=k.state,o=l.child):o=ss(o,l,E),o}function yO(o,l,h,v){return rs(),l.flags|=256,Mr(o,l,h,v),l.child}var $_={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function B_(o){return{baseLanes:o,cachePool:sk()}}function z_(o,l,h){return o=o!==null?o.childLanes&~h:0,l&&(o|=Ki),o}function bO(o,l,h){var v=l.pendingProps,E=!1,k=(l.flags&128)!==0,I;if((I=k)||(I=o!==null&&o.memoizedState===null?!1:(Gn.current&2)!==0),I&&(E=!0,l.flags&=-129),I=(l.flags&32)!==0,l.flags&=-33,o===null){if(St){if(E?_l(l):xl(),(o=Rt)?(o=kj(o,Si),o=o!==null&&o.data!=="&"?o:null,o!==null&&(l.memoizedState={dehydrated:o,treeContext:Ee!==null?{id:Pe,overflow:Ge}:null,retryLane:536870912,hydrationErrors:null},h=Hf(o),h.return=l,l.child=h,Pt=l,Rt=null)):o=null,o===null)throw Ro(l);return wx(o)?l.lanes=32:l.lanes=536870912,null}var G=v.children;return v=v.fallback,E?(xl(),E=l.mode,G=ig({mode:"hidden",children:G},E),v=ns(v,E,h,null),G.return=l,v.return=l,G.sibling=v,l.child=G,v=l.child,v.memoizedState=B_(h),v.childLanes=z_(o,I,h),l.memoizedState=$_,rh(null,v)):(_l(l),U_(l,G))}var oe=o.memoizedState;if(oe!==null&&(G=oe.dehydrated,G!==null)){if(k)l.flags&256?(_l(l),l.flags&=-257,l=H_(o,l,h)):l.memoizedState!==null?(xl(),l.child=o.child,l.flags|=128,l=null):(xl(),G=v.fallback,E=l.mode,v=ig({mode:"visible",children:v.children},E),G=ns(G,E,h,null),G.flags|=2,v.return=l,G.return=l,v.sibling=G,l.child=v,Mc(l,o.child,null,h),v=l.child,v.memoizedState=B_(h),v.childLanes=z_(o,I,h),l.memoizedState=$_,l=rh(null,v));else if(_l(l),wx(G)){if(I=G.nextSibling&&G.nextSibling.dataset,I)var Se=I.dgst;I=Se,v=Error(r(419)),v.stack="",v.digest=I,Tc({value:v,source:null,stack:null}),l=H_(o,l,h)}else if(Jn||Ku(o,l,h,!1),I=(h&o.childLanes)!==0,Jn||I){if(I=en,I!==null&&(v=ku(I,h),v!==0&&v!==oe.retryLane))throw oe.retryLane=v,Ea(o,v),Oi(I,o,v),L_;xx(G)||hg(),l=H_(o,l,h)}else xx(G)?(l.flags|=192,l.child=o.child,l=null):(o=oe.treeContext,Rt=ka(G.nextSibling),Pt=l,St=!0,Po=null,Si=!1,o!==null&&ai(l,o),l=U_(l,v.children),l.flags|=4096);return l}return E?(xl(),G=v.fallback,E=l.mode,oe=o.child,Se=oe.sibling,v=Aa(oe,{mode:"hidden",children:v.children}),v.subtreeFlags=oe.subtreeFlags&65011712,Se!==null?G=Aa(Se,G):(G=ns(G,E,h,null),G.flags|=2),G.return=l,v.return=l,v.sibling=G,l.child=v,rh(null,v),v=l.child,G=o.child.memoizedState,G===null?G=B_(h):(E=G.cachePool,E!==null?(oe=Zn._currentValue,E=E.parent!==oe?{parent:oe,pool:oe}:E):E=sk(),G={baseLanes:G.baseLanes|h,cachePool:E}),v.memoizedState=G,v.childLanes=z_(o,I,h),l.memoizedState=$_,rh(o.child,v)):(_l(l),h=o.child,o=h.sibling,h=Aa(h,{mode:"visible",children:v.children}),h.return=l,h.sibling=null,o!==null&&(I=l.deletions,I===null?(l.deletions=[o],l.flags|=16):I.push(o)),l.child=h,l.memoizedState=null,h)}function U_(o,l){return l=ig({mode:"visible",children:l},o.mode),l.return=o,o.child=l}function ig(o,l){return o=Kr(22,o,null,l),o.lanes=0,o}function H_(o,l,h){return Mc(l,o.child,null,h),o=U_(l,l.pendingProps.children),o.flags|=2,l.memoizedState=null,o}function _O(o,l,h){o.lanes|=l;var v=o.alternate;v!==null&&(v.lanes|=l),r_(o.return,l,h)}function F_(o,l,h,v,E,k){var I=o.memoizedState;I===null?o.memoizedState={isBackwards:l,rendering:null,renderingStartTime:0,last:v,tail:h,tailMode:E,treeForkCount:k}:(I.isBackwards=l,I.rendering=null,I.renderingStartTime=0,I.last=v,I.tail=h,I.tailMode=E,I.treeForkCount=k)}function xO(o,l,h){var v=l.pendingProps,E=v.revealOrder,k=v.tail;v=v.children;var I=Gn.current,G=(I&2)!==0;if(G?(I=I&1|2,l.flags|=128):I&=1,X(Gn,I),Mr(o,l,v,h),v=St?U:0,!G&&o!==null&&(o.flags&128)!==0)e:for(o=l.child;o!==null;){if(o.tag===13)o.memoizedState!==null&&_O(o,h,l);else if(o.tag===19)_O(o,h,l);else if(o.child!==null){o.child.return=o,o=o.child;continue}if(o===l)break e;for(;o.sibling===null;){if(o.return===null||o.return===l)break e;o=o.return}o.sibling.return=o.return,o=o.sibling}switch(E){case"forwards":for(h=l.child,E=null;h!==null;)o=h.alternate,o!==null&&Yp(o)===null&&(E=h),h=h.sibling;h=E,h===null?(E=l.child,l.child=null):(E=h.sibling,h.sibling=null),F_(l,!1,E,h,k,v);break;case"backwards":case"unstable_legacy-backwards":for(h=null,E=l.child,l.child=null;E!==null;){if(o=E.alternate,o!==null&&Yp(o)===null){l.child=E;break}o=E.sibling,E.sibling=h,h=E,E=o}F_(l,!0,h,null,k,v);break;case"together":F_(l,!1,null,null,void 0,v);break;default:l.memoizedState=null}return l.child}function ss(o,l,h){if(o!==null&&(l.dependencies=o.dependencies),El|=l.lanes,(h&l.childLanes)===0)if(o!==null){if(Ku(o,l,h,!1),(h&l.childLanes)===0)return null}else return null;if(o!==null&&l.child!==o.child)throw Error(r(153));if(l.child!==null){for(o=l.child,h=Aa(o,o.pendingProps),l.child=h,h.return=l;o.sibling!==null;)o=o.sibling,h=h.sibling=Aa(o,o.pendingProps),h.return=l;h.sibling=null}return l.child}function G_(o,l){return(o.lanes&l)!==0?!0:(o=o.dependencies,!!(o!==null&&$p(o)))}function b8(o,l,h){switch(l.tag){case 3:te(l,l.stateNode.containerInfo),gl(l,Zn,o.memoizedState.cache),rs();break;case 27:case 5:se(l);break;case 4:te(l,l.stateNode.containerInfo);break;case 10:gl(l,l.type,l.memoizedProps.value);break;case 31:if(l.memoizedState!==null)return l.flags|=128,p_(l),null;break;case 13:var v=l.memoizedState;if(v!==null)return v.dehydrated!==null?(_l(l),l.flags|=128,null):(h&l.child.childLanes)!==0?bO(o,l,h):(_l(l),o=ss(o,l,h),o!==null?o.sibling:null);_l(l);break;case 19:var E=(o.flags&128)!==0;if(v=(h&l.childLanes)!==0,v||(Ku(o,l,h,!1),v=(h&l.childLanes)!==0),E){if(v)return xO(o,l,h);l.flags|=128}if(E=l.memoizedState,E!==null&&(E.rendering=null,E.tail=null,E.lastEffect=null),X(Gn,Gn.current),v)break;return null;case 22:return l.lanes=0,hO(o,l,h,l.pendingProps);case 24:gl(l,Zn,o.memoizedState.cache)}return ss(o,l,h)}function wO(o,l,h){if(o!==null)if(o.memoizedProps!==l.pendingProps)Jn=!0;else{if(!G_(o,h)&&(l.flags&128)===0)return Jn=!1,b8(o,l,h);Jn=(o.flags&131072)!==0}else Jn=!1,St&&(l.flags&1048576)!==0&&bt(l,U,l.index);switch(l.lanes=0,l.tag){case 16:e:{var v=l.pendingProps;if(o=Nc(l.elementType),l.type=o,typeof o=="function")Gu(o)?(v=Pc(o,v),l.tag=1,l=vO(null,l,o,v,h)):(l.tag=0,l=I_(null,l,o,v,h));else{if(o!=null){var E=o.$$typeof;if(E===M){l.tag=11,l=uO(null,l,o,v,h);break e}else if(E===$){l.tag=14,l=dO(null,l,o,v,h);break e}}throw l=ee(o)||o,Error(r(306,l,""))}}return l;case 0:return I_(o,l,l.type,l.pendingProps,h);case 1:return v=l.type,E=Pc(v,l.pendingProps),vO(o,l,v,E,h);case 3:e:{if(te(l,l.stateNode.containerInfo),o===null)throw Error(r(387));v=l.pendingProps;var k=l.memoizedState;E=k.element,u_(o,l),Jf(l,v,null,h);var I=l.memoizedState;if(v=I.cache,gl(l,Zn,v),v!==k.cache&&i_(l,[Zn],h,!0),Xf(),v=I.element,k.isDehydrated)if(k={element:v,isDehydrated:!1,cache:I.cache},l.updateQueue.baseState=k,l.memoizedState=k,l.flags&256){l=yO(o,l,v,h);break e}else if(v!==E){E=g(Error(r(424)),l),Tc(E),l=yO(o,l,v,h);break e}else{switch(o=l.stateNode.containerInfo,o.nodeType){case 9:o=o.body;break;default:o=o.nodeName==="HTML"?o.ownerDocument.body:o}for(Rt=ka(o.firstChild),Pt=l,St=!0,Po=null,Si=!0,h=hk(l,null,v,h),l.child=h;h;)h.flags=h.flags&-3|4096,h=h.sibling}else{if(rs(),v===E){l=ss(o,l,h);break e}Mr(o,l,v,h)}l=l.child}return l;case 26:return rg(o,l),o===null?(h=Dj(l.type,null,l.pendingProps,null))?l.memoizedState=h:St||(h=l.type,o=l.pendingProps,v=_g(W.current).createElement(h),v[kn]=l,v[Dn]=o,Dr(v,h,o),Pn(v),l.stateNode=v):l.memoizedState=Dj(l.type,o.memoizedProps,l.pendingProps,o.memoizedState),null;case 27:return se(l),o===null&&St&&(v=l.stateNode=Nj(l.type,l.pendingProps,W.current),Pt=l,Si=!0,E=Rt,jl(l.type)?(Sx=E,Rt=ka(v.firstChild)):Rt=E),Mr(o,l,l.pendingProps.children,h),rg(o,l),o===null&&(l.flags|=4194304),l.child;case 5:return o===null&&St&&((E=v=Rt)&&(v=V8(v,l.type,l.pendingProps,Si),v!==null?(l.stateNode=v,Pt=l,Rt=ka(v.firstChild),Si=!1,E=!0):E=!1),E||Ro(l)),se(l),E=l.type,k=l.pendingProps,I=o!==null?o.memoizedProps:null,v=k.children,yx(E,k)?v=null:I!==null&&yx(E,I)&&(l.flags|=32),l.memoizedState!==null&&(E=v_(o,l,u8,null,null,h),yh._currentValue=E),rg(o,l),Mr(o,l,v,h),l.child;case 6:return o===null&&St&&((o=h=Rt)&&(h=Z8(h,l.pendingProps,Si),h!==null?(l.stateNode=h,Pt=l,Rt=null,o=!0):o=!1),o||Ro(l)),null;case 13:return bO(o,l,h);case 4:return te(l,l.stateNode.containerInfo),v=l.pendingProps,o===null?l.child=Mc(l,null,v,h):Mr(o,l,v,h),l.child;case 11:return uO(o,l,l.type,l.pendingProps,h);case 7:return Mr(o,l,l.pendingProps,h),l.child;case 8:return Mr(o,l,l.pendingProps.children,h),l.child;case 12:return Mr(o,l,l.pendingProps.children,h),l.child;case 10:return v=l.pendingProps,gl(l,l.type,v.value),Mr(o,l,v.children,h),l.child;case 9:return E=l.type._context,v=l.pendingProps.children,Oc(l),E=Cr(E),v=v(E),l.flags|=1,Mr(o,l,v,h),l.child;case 14:return dO(o,l,l.type,l.pendingProps,h);case 15:return fO(o,l,l.type,l.pendingProps,h);case 19:return xO(o,l,h);case 31:return y8(o,l,h);case 22:return hO(o,l,h,l.pendingProps);case 24:return Oc(l),v=Cr(Zn),o===null?(E=s_(),E===null&&(E=en,k=a_(),E.pooledCache=k,k.refCount++,k!==null&&(E.pooledCacheLanes|=h),E=k),l.memoizedState={parent:v,cache:E},c_(l),gl(l,Zn,E)):((o.lanes&h)!==0&&(u_(o,l),Jf(l,null,null,h),Xf()),E=o.memoizedState,k=l.memoizedState,E.parent!==v?(E={parent:v,cache:v},l.memoizedState=E,l.lanes===0&&(l.memoizedState=l.updateQueue.baseState=E),gl(l,Zn,v)):(v=k.cache,gl(l,Zn,v),v!==E.cache&&i_(l,[Zn],h,!0))),Mr(o,l,l.pendingProps.children,h),l.child;case 29:throw l.pendingProps}throw Error(r(156,l.tag))}function ls(o){o.flags|=4}function q_(o,l,h,v,E){if((l=(o.mode&32)!==0)&&(l=!1),l){if(o.flags|=16777216,(E&335544128)===E)if(o.stateNode.complete)o.flags|=8192;else if(VO())o.flags|=8192;else throw Cc=Hp,l_}else o.flags&=-16777217}function SO(o,l){if(l.type!=="stylesheet"||(l.state.loading&4)!==0)o.flags&=-16777217;else if(o.flags|=16777216,!$j(l))if(VO())o.flags|=8192;else throw Cc=Hp,l_}function ag(o,l){l!==null&&(o.flags|=4),o.flags&16384&&(l=o.tag!==22?tc():536870912,o.lanes|=l,ad|=l)}function ih(o,l){if(!St)switch(o.tailMode){case"hidden":l=o.tail;for(var h=null;l!==null;)l.alternate!==null&&(h=l),l=l.sibling;h===null?o.tail=null:h.sibling=null;break;case"collapsed":h=o.tail;for(var v=null;h!==null;)h.alternate!==null&&(v=h),h=h.sibling;v===null?l||o.tail===null?o.tail=null:o.tail.sibling=null:v.sibling=null}}function mn(o){var l=o.alternate!==null&&o.alternate.child===o.child,h=0,v=0;if(l)for(var E=o.child;E!==null;)h|=E.lanes|E.childLanes,v|=E.subtreeFlags&65011712,v|=E.flags&65011712,E.return=o,E=E.sibling;else for(E=o.child;E!==null;)h|=E.lanes|E.childLanes,v|=E.subtreeFlags,v|=E.flags,E.return=o,E=E.sibling;return o.subtreeFlags|=v,o.childLanes=h,l}function _8(o,l,h){var v=l.pendingProps;switch(In(l),l.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return mn(l),null;case 1:return mn(l),null;case 3:return h=l.stateNode,v=null,o!==null&&(v=o.memoizedState.cache),l.memoizedState.cache!==v&&(l.flags|=2048),is(Zn),Y(),h.pendingContext&&(h.context=h.pendingContext,h.pendingContext=null),(o===null||o.child===null)&&(to(l)?ls(l):o===null||o.memoizedState.isDehydrated&&(l.flags&256)===0||(l.flags|=1024,qf())),mn(l),null;case 26:var E=l.type,k=l.memoizedState;return o===null?(ls(l),k!==null?(mn(l),SO(l,k)):(mn(l),q_(l,E,null,v,h))):k?k!==o.memoizedState?(ls(l),mn(l),SO(l,k)):(mn(l),l.flags&=-16777217):(o=o.memoizedProps,o!==v&&ls(l),mn(l),q_(l,E,o,v,h)),null;case 27:if(xe(l),h=W.current,E=l.type,o!==null&&l.stateNode!=null)o.memoizedProps!==v&&ls(l);else{if(!v){if(l.stateNode===null)throw Error(r(166));return mn(l),null}o=ie.current,to(l)?Gf(l):(o=Nj(E,v,h),l.stateNode=o,ls(l))}return mn(l),null;case 5:if(xe(l),E=l.type,o!==null&&l.stateNode!=null)o.memoizedProps!==v&&ls(l);else{if(!v){if(l.stateNode===null)throw Error(r(166));return mn(l),null}if(k=ie.current,to(l))Gf(l);else{var I=_g(W.current);switch(k){case 1:k=I.createElementNS("http://www.w3.org/2000/svg",E);break;case 2:k=I.createElementNS("http://www.w3.org/1998/Math/MathML",E);break;default:switch(E){case"svg":k=I.createElementNS("http://www.w3.org/2000/svg",E);break;case"math":k=I.createElementNS("http://www.w3.org/1998/Math/MathML",E);break;case"script":k=I.createElement("div"),k.innerHTML="<script><\/script>",k=k.removeChild(k.firstChild);break;case"select":k=typeof v.is=="string"?I.createElement("select",{is:v.is}):I.createElement("select"),v.multiple?k.multiple=!0:v.size&&(k.size=v.size);break;default:k=typeof v.is=="string"?I.createElement(E,{is:v.is}):I.createElement(E)}}k[kn]=l,k[Dn]=v;e:for(I=l.child;I!==null;){if(I.tag===5||I.tag===6)k.appendChild(I.stateNode);else if(I.tag!==4&&I.tag!==27&&I.child!==null){I.child.return=I,I=I.child;continue}if(I===l)break e;for(;I.sibling===null;){if(I.return===null||I.return===l)break e;I=I.return}I.sibling.return=I.return,I=I.sibling}l.stateNode=k;e:switch(Dr(k,E,v),E){case"button":case"input":case"select":case"textarea":v=!!v.autoFocus;break e;case"img":v=!0;break e;default:v=!1}v&&ls(l)}}return mn(l),q_(l,l.type,o===null?null:o.memoizedProps,l.pendingProps,h),null;case 6:if(o&&l.stateNode!=null)o.memoizedProps!==v&&ls(l);else{if(typeof v!="string"&&l.stateNode===null)throw Error(r(166));if(o=W.current,to(l)){if(o=l.stateNode,h=l.memoizedProps,v=null,E=Pt,E!==null)switch(E.tag){case 27:case 5:v=E.memoizedProps}o[kn]=l,o=!!(o.nodeValue===h||v!==null&&v.suppressHydrationWarning===!0||bj(o.nodeValue,h)),o||Ro(l,!0)}else o=_g(o).createTextNode(v),o[kn]=l,l.stateNode=o}return mn(l),null;case 31:if(h=l.memoizedState,o===null||o.memoizedState!==null){if(v=to(l),h!==null){if(o===null){if(!v)throw Error(r(318));if(o=l.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(r(557));o[kn]=l}else rs(),(l.flags&128)===0&&(l.memoizedState=null),l.flags|=4;mn(l),o=!1}else h=qf(),o!==null&&o.memoizedState!==null&&(o.memoizedState.hydrationErrors=h),o=!0;if(!o)return l.flags&256?(qi(l),l):(qi(l),null);if((l.flags&128)!==0)throw Error(r(558))}return mn(l),null;case 13:if(v=l.memoizedState,o===null||o.memoizedState!==null&&o.memoizedState.dehydrated!==null){if(E=to(l),v!==null&&v.dehydrated!==null){if(o===null){if(!E)throw Error(r(318));if(E=l.memoizedState,E=E!==null?E.dehydrated:null,!E)throw Error(r(317));E[kn]=l}else rs(),(l.flags&128)===0&&(l.memoizedState=null),l.flags|=4;mn(l),E=!1}else E=qf(),o!==null&&o.memoizedState!==null&&(o.memoizedState.hydrationErrors=E),E=!0;if(!E)return l.flags&256?(qi(l),l):(qi(l),null)}return qi(l),(l.flags&128)!==0?(l.lanes=h,l):(h=v!==null,o=o!==null&&o.memoizedState!==null,h&&(v=l.child,E=null,v.alternate!==null&&v.alternate.memoizedState!==null&&v.alternate.memoizedState.cachePool!==null&&(E=v.alternate.memoizedState.cachePool.pool),k=null,v.memoizedState!==null&&v.memoizedState.cachePool!==null&&(k=v.memoizedState.cachePool.pool),k!==E&&(v.flags|=2048)),h!==o&&h&&(l.child.flags|=8192),ag(l,l.updateQueue),mn(l),null);case 4:return Y(),o===null&&hx(l.stateNode.containerInfo),mn(l),null;case 10:return is(l.type),mn(l),null;case 19:if(K(Gn),v=l.memoizedState,v===null)return mn(l),null;if(E=(l.flags&128)!==0,k=v.rendering,k===null)if(E)ih(v,!1);else{if(Bn!==0||o!==null&&(o.flags&128)!==0)for(o=l.child;o!==null;){if(k=Yp(o),k!==null){for(l.flags|=128,ih(v,!1),o=k.updateQueue,l.updateQueue=o,ag(l,o),l.subtreeFlags=0,o=h,h=l.child;h!==null;)Uf(h,o),h=h.sibling;return X(Gn,Gn.current&1|2),St&&et(l,v.treeForkCount),l.child}o=o.sibling}v.tail!==null&&ze()>ug&&(l.flags|=128,E=!0,ih(v,!1),l.lanes=4194304)}else{if(!E)if(o=Yp(k),o!==null){if(l.flags|=128,E=!0,o=o.updateQueue,l.updateQueue=o,ag(l,o),ih(v,!0),v.tail===null&&v.tailMode==="hidden"&&!k.alternate&&!St)return mn(l),null}else 2*ze()-v.renderingStartTime>ug&&h!==536870912&&(l.flags|=128,E=!0,ih(v,!1),l.lanes=4194304);v.isBackwards?(k.sibling=l.child,l.child=k):(o=v.last,o!==null?o.sibling=k:l.child=k,v.last=k)}return v.tail!==null?(o=v.tail,v.rendering=o,v.tail=o.sibling,v.renderingStartTime=ze(),o.sibling=null,h=Gn.current,X(Gn,E?h&1|2:h&1),St&&et(l,v.treeForkCount),o):(mn(l),null);case 22:case 23:return qi(l),m_(),v=l.memoizedState!==null,o!==null?o.memoizedState!==null!==v&&(l.flags|=8192):v&&(l.flags|=8192),v?(h&536870912)!==0&&(l.flags&128)===0&&(mn(l),l.subtreeFlags&6&&(l.flags|=8192)):mn(l),h=l.updateQueue,h!==null&&ag(l,h.retryQueue),h=null,o!==null&&o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(h=o.memoizedState.cachePool.pool),v=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(v=l.memoizedState.cachePool.pool),v!==h&&(l.flags|=2048),o!==null&&K(jc),null;case 24:return h=null,o!==null&&(h=o.memoizedState.cache),l.memoizedState.cache!==h&&(l.flags|=2048),is(Zn),mn(l),null;case 25:return null;case 30:return null}throw Error(r(156,l.tag))}function x8(o,l){switch(In(l),l.tag){case 1:return o=l.flags,o&65536?(l.flags=o&-65537|128,l):null;case 3:return is(Zn),Y(),o=l.flags,(o&65536)!==0&&(o&128)===0?(l.flags=o&-65537|128,l):null;case 26:case 27:case 5:return xe(l),null;case 31:if(l.memoizedState!==null){if(qi(l),l.alternate===null)throw Error(r(340));rs()}return o=l.flags,o&65536?(l.flags=o&-65537|128,l):null;case 13:if(qi(l),o=l.memoizedState,o!==null&&o.dehydrated!==null){if(l.alternate===null)throw Error(r(340));rs()}return o=l.flags,o&65536?(l.flags=o&-65537|128,l):null;case 19:return K(Gn),null;case 4:return Y(),null;case 10:return is(l.type),null;case 22:case 23:return qi(l),m_(),o!==null&&K(jc),o=l.flags,o&65536?(l.flags=o&-65537|128,l):null;case 24:return is(Zn),null;case 25:return null;default:return null}}function EO(o,l){switch(In(l),l.tag){case 3:is(Zn),Y();break;case 26:case 27:case 5:xe(l);break;case 4:Y();break;case 31:l.memoizedState!==null&&qi(l);break;case 13:qi(l);break;case 19:K(Gn);break;case 10:is(l.type);break;case 22:case 23:qi(l),m_(),o!==null&&K(jc);break;case 24:is(Zn)}}function ah(o,l){try{var h=l.updateQueue,v=h!==null?h.lastEffect:null;if(v!==null){var E=v.next;h=E;do{if((h.tag&o)===o){v=void 0;var k=h.create,I=h.inst;v=k(),I.destroy=v}h=h.next}while(h!==E)}}catch(G){Kt(l,l.return,G)}}function wl(o,l,h){try{var v=l.updateQueue,E=v!==null?v.lastEffect:null;if(E!==null){var k=E.next;v=k;do{if((v.tag&o)===o){var I=v.inst,G=I.destroy;if(G!==void 0){I.destroy=void 0,E=l;var oe=h,Se=G;try{Se()}catch(Ce){Kt(E,oe,Ce)}}}v=v.next}while(v!==k)}}catch(Ce){Kt(l,l.return,Ce)}}function AO(o){var l=o.updateQueue;if(l!==null){var h=o.stateNode;try{pk(l,h)}catch(v){Kt(o,o.return,v)}}}function TO(o,l,h){h.props=Pc(o.type,o.memoizedProps),h.state=o.memoizedState;try{h.componentWillUnmount()}catch(v){Kt(o,l,v)}}function oh(o,l){try{var h=o.ref;if(h!==null){switch(o.tag){case 26:case 27:case 5:var v=o.stateNode;break;case 30:v=o.stateNode;break;default:v=o.stateNode}typeof h=="function"?o.refCleanup=h(v):h.current=v}}catch(E){Kt(o,l,E)}}function Io(o,l){var h=o.ref,v=o.refCleanup;if(h!==null)if(typeof v=="function")try{v()}catch(E){Kt(o,l,E)}finally{o.refCleanup=null,o=o.alternate,o!=null&&(o.refCleanup=null)}else if(typeof h=="function")try{h(null)}catch(E){Kt(o,l,E)}else h.current=null}function kO(o){var l=o.type,h=o.memoizedProps,v=o.stateNode;try{e:switch(l){case"button":case"input":case"select":case"textarea":h.autoFocus&&v.focus();break e;case"img":h.src?v.src=h.src:h.srcSet&&(v.srcset=h.srcSet)}}catch(E){Kt(o,o.return,E)}}function Y_(o,l,h){try{var v=o.stateNode;F8(v,o.type,h,l),v[Dn]=l}catch(E){Kt(o,o.return,E)}}function OO(o){return o.tag===5||o.tag===3||o.tag===26||o.tag===27&&jl(o.type)||o.tag===4}function K_(o){e:for(;;){for(;o.sibling===null;){if(o.return===null||OO(o.return))return null;o=o.return}for(o.sibling.return=o.return,o=o.sibling;o.tag!==5&&o.tag!==6&&o.tag!==18;){if(o.tag===27&&jl(o.type)||o.flags&2||o.child===null||o.tag===4)continue e;o.child.return=o,o=o.child}if(!(o.flags&2))return o.stateNode}}function W_(o,l,h){var v=o.tag;if(v===5||v===6)o=o.stateNode,l?(h.nodeType===9?h.body:h.nodeName==="HTML"?h.ownerDocument.body:h).insertBefore(o,l):(l=h.nodeType===9?h.body:h.nodeName==="HTML"?h.ownerDocument.body:h,l.appendChild(o),h=h._reactRootContainer,h!=null||l.onclick!==null||(l.onclick=bi));else if(v!==4&&(v===27&&jl(o.type)&&(h=o.stateNode,l=null),o=o.child,o!==null))for(W_(o,l,h),o=o.sibling;o!==null;)W_(o,l,h),o=o.sibling}function og(o,l,h){var v=o.tag;if(v===5||v===6)o=o.stateNode,l?h.insertBefore(o,l):h.appendChild(o);else if(v!==4&&(v===27&&jl(o.type)&&(h=o.stateNode),o=o.child,o!==null))for(og(o,l,h),o=o.sibling;o!==null;)og(o,l,h),o=o.sibling}function jO(o){var l=o.stateNode,h=o.memoizedProps;try{for(var v=o.type,E=l.attributes;E.length;)l.removeAttributeNode(E[0]);Dr(l,v,h),l[kn]=o,l[Dn]=h}catch(k){Kt(o,o.return,k)}}var cs=!1,Qn=!1,V_=!1,NO=typeof WeakSet=="function"?WeakSet:Set,yr=null;function w8(o,l){if(o=o.containerInfo,gx=kg,o=yc(o),jo(o)){if("selectionStart"in o)var h={start:o.selectionStart,end:o.selectionEnd};else e:{h=(h=o.ownerDocument)&&h.defaultView||window;var v=h.getSelection&&h.getSelection();if(v&&v.rangeCount!==0){h=v.anchorNode;var E=v.anchorOffset,k=v.focusNode;v=v.focusOffset;try{h.nodeType,k.nodeType}catch{h=null;break e}var I=0,G=-1,oe=-1,Se=0,Ce=0,Re=o,Ae=null;t:for(;;){for(var ke;Re!==h||E!==0&&Re.nodeType!==3||(G=I+E),Re!==k||v!==0&&Re.nodeType!==3||(oe=I+v),Re.nodeType===3&&(I+=Re.nodeValue.length),(ke=Re.firstChild)!==null;)Ae=Re,Re=ke;for(;;){if(Re===o)break t;if(Ae===h&&++Se===E&&(G=I),Ae===k&&++Ce===v&&(oe=I),(ke=Re.nextSibling)!==null)break;Re=Ae,Ae=Re.parentNode}Re=ke}h=G===-1||oe===-1?null:{start:G,end:oe}}else h=null}h=h||{start:0,end:0}}else h=null;for(vx={focusedElem:o,selectionRange:h},kg=!1,yr=l;yr!==null;)if(l=yr,o=l.child,(l.subtreeFlags&1028)!==0&&o!==null)o.return=l,yr=o;else for(;yr!==null;){switch(l=yr,k=l.alternate,o=l.flags,l.tag){case 0:if((o&4)!==0&&(o=l.updateQueue,o=o!==null?o.events:null,o!==null))for(h=0;h<o.length;h++)E=o[h],E.ref.impl=E.nextImpl;break;case 11:case 15:break;case 1:if((o&1024)!==0&&k!==null){o=void 0,h=l,E=k.memoizedProps,k=k.memoizedState,v=h.stateNode;try{var Ze=Pc(h.type,E);o=v.getSnapshotBeforeUpdate(Ze,k),v.__reactInternalSnapshotBeforeUpdate=o}catch(ot){Kt(h,h.return,ot)}}break;case 3:if((o&1024)!==0){if(o=l.stateNode.containerInfo,h=o.nodeType,h===9)_x(o);else if(h===1)switch(o.nodeName){case"HEAD":case"HTML":case"BODY":_x(o);break;default:o.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((o&1024)!==0)throw Error(r(163))}if(o=l.sibling,o!==null){o.return=l.return,yr=o;break}yr=l.return}}function CO(o,l,h){var v=h.flags;switch(h.tag){case 0:case 11:case 15:ds(o,h),v&4&&ah(5,h);break;case 1:if(ds(o,h),v&4)if(o=h.stateNode,l===null)try{o.componentDidMount()}catch(I){Kt(h,h.return,I)}else{var E=Pc(h.type,l.memoizedProps);l=l.memoizedState;try{o.componentDidUpdate(E,l,o.__reactInternalSnapshotBeforeUpdate)}catch(I){Kt(h,h.return,I)}}v&64&&AO(h),v&512&&oh(h,h.return);break;case 3:if(ds(o,h),v&64&&(o=h.updateQueue,o!==null)){if(l=null,h.child!==null)switch(h.child.tag){case 27:case 5:l=h.child.stateNode;break;case 1:l=h.child.stateNode}try{pk(o,l)}catch(I){Kt(h,h.return,I)}}break;case 27:l===null&&v&4&&jO(h);case 26:case 5:ds(o,h),l===null&&v&4&&kO(h),v&512&&oh(h,h.return);break;case 12:ds(o,h);break;case 31:ds(o,h),v&4&&PO(o,h);break;case 13:ds(o,h),v&4&&RO(o,h),v&64&&(o=h.memoizedState,o!==null&&(o=o.dehydrated,o!==null&&(h=C8.bind(null,h),X8(o,h))));break;case 22:if(v=h.memoizedState!==null||cs,!v){l=l!==null&&l.memoizedState!==null||Qn,E=cs;var k=Qn;cs=v,(Qn=l)&&!k?fs(o,h,(h.subtreeFlags&8772)!==0):ds(o,h),cs=E,Qn=k}break;case 30:break;default:ds(o,h)}}function MO(o){var l=o.alternate;l!==null&&(o.alternate=null,MO(l)),o.child=null,o.deletions=null,o.sibling=null,o.tag===5&&(l=o.stateNode,l!==null&&el(l)),o.stateNode=null,o.return=null,o.dependencies=null,o.memoizedProps=null,o.memoizedState=null,o.pendingProps=null,o.stateNode=null,o.updateQueue=null}var xn=null,Ei=!1;function us(o,l,h){for(h=h.child;h!==null;)DO(o,l,h),h=h.sibling}function DO(o,l,h){if(Ut&&typeof Ut.onCommitFiberUnmount=="function")try{Ut.onCommitFiberUnmount(Wn,h)}catch{}switch(h.tag){case 26:Qn||Io(h,l),us(o,l,h),h.memoizedState?h.memoizedState.count--:h.stateNode&&(h=h.stateNode,h.parentNode.removeChild(h));break;case 27:Qn||Io(h,l);var v=xn,E=Ei;jl(h.type)&&(xn=h.stateNode,Ei=!1),us(o,l,h),ph(h.stateNode),xn=v,Ei=E;break;case 5:Qn||Io(h,l);case 6:if(v=xn,E=Ei,xn=null,us(o,l,h),xn=v,Ei=E,xn!==null)if(Ei)try{(xn.nodeType===9?xn.body:xn.nodeName==="HTML"?xn.ownerDocument.body:xn).removeChild(h.stateNode)}catch(k){Kt(h,l,k)}else try{xn.removeChild(h.stateNode)}catch(k){Kt(h,l,k)}break;case 18:xn!==null&&(Ei?(o=xn,Aj(o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o,h.stateNode),hd(o)):Aj(xn,h.stateNode));break;case 4:v=xn,E=Ei,xn=h.stateNode.containerInfo,Ei=!0,us(o,l,h),xn=v,Ei=E;break;case 0:case 11:case 14:case 15:wl(2,h,l),Qn||wl(4,h,l),us(o,l,h);break;case 1:Qn||(Io(h,l),v=h.stateNode,typeof v.componentWillUnmount=="function"&&TO(h,l,v)),us(o,l,h);break;case 21:us(o,l,h);break;case 22:Qn=(v=Qn)||h.memoizedState!==null,us(o,l,h),Qn=v;break;default:us(o,l,h)}}function PO(o,l){if(l.memoizedState===null&&(o=l.alternate,o!==null&&(o=o.memoizedState,o!==null))){o=o.dehydrated;try{hd(o)}catch(h){Kt(l,l.return,h)}}}function RO(o,l){if(l.memoizedState===null&&(o=l.alternate,o!==null&&(o=o.memoizedState,o!==null&&(o=o.dehydrated,o!==null))))try{hd(o)}catch(h){Kt(l,l.return,h)}}function S8(o){switch(o.tag){case 31:case 13:case 19:var l=o.stateNode;return l===null&&(l=o.stateNode=new NO),l;case 22:return o=o.stateNode,l=o._retryCache,l===null&&(l=o._retryCache=new NO),l;default:throw Error(r(435,o.tag))}}function sg(o,l){var h=S8(o);l.forEach(function(v){if(!h.has(v)){h.add(v);var E=M8.bind(null,o,v);v.then(E,E)}})}function Ai(o,l){var h=l.deletions;if(h!==null)for(var v=0;v<h.length;v++){var E=h[v],k=o,I=l,G=I;e:for(;G!==null;){switch(G.tag){case 27:if(jl(G.type)){xn=G.stateNode,Ei=!1;break e}break;case 5:xn=G.stateNode,Ei=!1;break e;case 3:case 4:xn=G.stateNode.containerInfo,Ei=!0;break e}G=G.return}if(xn===null)throw Error(r(160));DO(k,I,E),xn=null,Ei=!1,k=E.alternate,k!==null&&(k.return=null),E.return=null}if(l.subtreeFlags&13886)for(l=l.child;l!==null;)LO(l,o),l=l.sibling}var ro=null;function LO(o,l){var h=o.alternate,v=o.flags;switch(o.tag){case 0:case 11:case 14:case 15:Ai(l,o),Ti(o),v&4&&(wl(3,o,o.return),ah(3,o),wl(5,o,o.return));break;case 1:Ai(l,o),Ti(o),v&512&&(Qn||h===null||Io(h,h.return)),v&64&&cs&&(o=o.updateQueue,o!==null&&(v=o.callbacks,v!==null&&(h=o.shared.hiddenCallbacks,o.shared.hiddenCallbacks=h===null?v:h.concat(v))));break;case 26:var E=ro;if(Ai(l,o),Ti(o),v&512&&(Qn||h===null||Io(h,h.return)),v&4){var k=h!==null?h.memoizedState:null;if(v=o.memoizedState,h===null)if(v===null)if(o.stateNode===null){e:{v=o.type,h=o.memoizedProps,E=E.ownerDocument||E;t:switch(v){case"title":k=E.getElementsByTagName("title")[0],(!k||k[Va]||k[kn]||k.namespaceURI==="http://www.w3.org/2000/svg"||k.hasAttribute("itemprop"))&&(k=E.createElement(v),E.head.insertBefore(k,E.querySelector("head > title"))),Dr(k,v,h),k[kn]=o,Pn(k),v=k;break e;case"link":var I=Lj("link","href",E).get(v+(h.href||""));if(I){for(var G=0;G<I.length;G++)if(k=I[G],k.getAttribute("href")===(h.href==null||h.href===""?null:h.href)&&k.getAttribute("rel")===(h.rel==null?null:h.rel)&&k.getAttribute("title")===(h.title==null?null:h.title)&&k.getAttribute("crossorigin")===(h.crossOrigin==null?null:h.crossOrigin)){I.splice(G,1);break t}}k=E.createElement(v),Dr(k,v,h),E.head.appendChild(k);break;case"meta":if(I=Lj("meta","content",E).get(v+(h.content||""))){for(G=0;G<I.length;G++)if(k=I[G],k.getAttribute("content")===(h.content==null?null:""+h.content)&&k.getAttribute("name")===(h.name==null?null:h.name)&&k.getAttribute("property")===(h.property==null?null:h.property)&&k.getAttribute("http-equiv")===(h.httpEquiv==null?null:h.httpEquiv)&&k.getAttribute("charset")===(h.charSet==null?null:h.charSet)){I.splice(G,1);break t}}k=E.createElement(v),Dr(k,v,h),E.head.appendChild(k);break;default:throw Error(r(468,v))}k[kn]=o,Pn(k),v=k}o.stateNode=v}else Ij(E,o.type,o.stateNode);else o.stateNode=Rj(E,v,o.memoizedProps);else k!==v?(k===null?h.stateNode!==null&&(h=h.stateNode,h.parentNode.removeChild(h)):k.count--,v===null?Ij(E,o.type,o.stateNode):Rj(E,v,o.memoizedProps)):v===null&&o.stateNode!==null&&Y_(o,o.memoizedProps,h.memoizedProps)}break;case 27:Ai(l,o),Ti(o),v&512&&(Qn||h===null||Io(h,h.return)),h!==null&&v&4&&Y_(o,o.memoizedProps,h.memoizedProps);break;case 5:if(Ai(l,o),Ti(o),v&512&&(Qn||h===null||Io(h,h.return)),o.flags&32){E=o.stateNode;try{ya(E,"")}catch(Ze){Kt(o,o.return,Ze)}}v&4&&o.stateNode!=null&&(E=o.memoizedProps,Y_(o,E,h!==null?h.memoizedProps:E)),v&1024&&(V_=!0);break;case 6:if(Ai(l,o),Ti(o),v&4){if(o.stateNode===null)throw Error(r(162));v=o.memoizedProps,h=o.stateNode;try{h.nodeValue=v}catch(Ze){Kt(o,o.return,Ze)}}break;case 3:if(Sg=null,E=ro,ro=xg(l.containerInfo),Ai(l,o),ro=E,Ti(o),v&4&&h!==null&&h.memoizedState.isDehydrated)try{hd(l.containerInfo)}catch(Ze){Kt(o,o.return,Ze)}V_&&(V_=!1,IO(o));break;case 4:v=ro,ro=xg(o.stateNode.containerInfo),Ai(l,o),Ti(o),ro=v;break;case 12:Ai(l,o),Ti(o);break;case 31:Ai(l,o),Ti(o),v&4&&(v=o.updateQueue,v!==null&&(o.updateQueue=null,sg(o,v)));break;case 13:Ai(l,o),Ti(o),o.child.flags&8192&&o.memoizedState!==null!=(h!==null&&h.memoizedState!==null)&&(cg=ze()),v&4&&(v=o.updateQueue,v!==null&&(o.updateQueue=null,sg(o,v)));break;case 22:E=o.memoizedState!==null;var oe=h!==null&&h.memoizedState!==null,Se=cs,Ce=Qn;if(cs=Se||E,Qn=Ce||oe,Ai(l,o),Qn=Ce,cs=Se,Ti(o),v&8192)e:for(l=o.stateNode,l._visibility=E?l._visibility&-2:l._visibility|1,E&&(h===null||oe||cs||Qn||Rc(o)),h=null,l=o;;){if(l.tag===5||l.tag===26){if(h===null){oe=h=l;try{if(k=oe.stateNode,E)I=k.style,typeof I.setProperty=="function"?I.setProperty("display","none","important"):I.display="none";else{G=oe.stateNode;var Re=oe.memoizedProps.style,Ae=Re!=null&&Re.hasOwnProperty("display")?Re.display:null;G.style.display=Ae==null||typeof Ae=="boolean"?"":(""+Ae).trim()}}catch(Ze){Kt(oe,oe.return,Ze)}}}else if(l.tag===6){if(h===null){oe=l;try{oe.stateNode.nodeValue=E?"":oe.memoizedProps}catch(Ze){Kt(oe,oe.return,Ze)}}}else if(l.tag===18){if(h===null){oe=l;try{var ke=oe.stateNode;E?Tj(ke,!0):Tj(oe.stateNode,!1)}catch(Ze){Kt(oe,oe.return,Ze)}}}else if((l.tag!==22&&l.tag!==23||l.memoizedState===null||l===o)&&l.child!==null){l.child.return=l,l=l.child;continue}if(l===o)break e;for(;l.sibling===null;){if(l.return===null||l.return===o)break e;h===l&&(h=null),l=l.return}h===l&&(h=null),l.sibling.return=l.return,l=l.sibling}v&4&&(v=o.updateQueue,v!==null&&(h=v.retryQueue,h!==null&&(v.retryQueue=null,sg(o,h))));break;case 19:Ai(l,o),Ti(o),v&4&&(v=o.updateQueue,v!==null&&(o.updateQueue=null,sg(o,v)));break;case 30:break;case 21:break;default:Ai(l,o),Ti(o)}}function Ti(o){var l=o.flags;if(l&2){try{for(var h,v=o.return;v!==null;){if(OO(v)){h=v;break}v=v.return}if(h==null)throw Error(r(160));switch(h.tag){case 27:var E=h.stateNode,k=K_(o);og(o,k,E);break;case 5:var I=h.stateNode;h.flags&32&&(ya(I,""),h.flags&=-33);var G=K_(o);og(o,G,I);break;case 3:case 4:var oe=h.stateNode.containerInfo,Se=K_(o);W_(o,Se,oe);break;default:throw Error(r(161))}}catch(Ce){Kt(o,o.return,Ce)}o.flags&=-3}l&4096&&(o.flags&=-4097)}function IO(o){if(o.subtreeFlags&1024)for(o=o.child;o!==null;){var l=o;IO(l),l.tag===5&&l.flags&1024&&l.stateNode.reset(),o=o.sibling}}function ds(o,l){if(l.subtreeFlags&8772)for(l=l.child;l!==null;)CO(o,l.alternate,l),l=l.sibling}function Rc(o){for(o=o.child;o!==null;){var l=o;switch(l.tag){case 0:case 11:case 14:case 15:wl(4,l,l.return),Rc(l);break;case 1:Io(l,l.return);var h=l.stateNode;typeof h.componentWillUnmount=="function"&&TO(l,l.return,h),Rc(l);break;case 27:ph(l.stateNode);case 26:case 5:Io(l,l.return),Rc(l);break;case 22:l.memoizedState===null&&Rc(l);break;case 30:Rc(l);break;default:Rc(l)}o=o.sibling}}function fs(o,l,h){for(h=h&&(l.subtreeFlags&8772)!==0,l=l.child;l!==null;){var v=l.alternate,E=o,k=l,I=k.flags;switch(k.tag){case 0:case 11:case 15:fs(E,k,h),ah(4,k);break;case 1:if(fs(E,k,h),v=k,E=v.stateNode,typeof E.componentDidMount=="function")try{E.componentDidMount()}catch(Se){Kt(v,v.return,Se)}if(v=k,E=v.updateQueue,E!==null){var G=v.stateNode;try{var oe=E.shared.hiddenCallbacks;if(oe!==null)for(E.shared.hiddenCallbacks=null,E=0;E<oe.length;E++)mk(oe[E],G)}catch(Se){Kt(v,v.return,Se)}}h&&I&64&&AO(k),oh(k,k.return);break;case 27:jO(k);case 26:case 5:fs(E,k,h),h&&v===null&&I&4&&kO(k),oh(k,k.return);break;case 12:fs(E,k,h);break;case 31:fs(E,k,h),h&&I&4&&PO(E,k);break;case 13:fs(E,k,h),h&&I&4&&RO(E,k);break;case 22:k.memoizedState===null&&fs(E,k,h),oh(k,k.return);break;case 30:break;default:fs(E,k,h)}l=l.sibling}}function Z_(o,l){var h=null;o!==null&&o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(h=o.memoizedState.cachePool.pool),o=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(o=l.memoizedState.cachePool.pool),o!==h&&(o!=null&&o.refCount++,h!=null&&Yf(h))}function X_(o,l){o=null,l.alternate!==null&&(o=l.alternate.memoizedState.cache),l=l.memoizedState.cache,l!==o&&(l.refCount++,o!=null&&Yf(o))}function io(o,l,h,v){if(l.subtreeFlags&10256)for(l=l.child;l!==null;)$O(o,l,h,v),l=l.sibling}function $O(o,l,h,v){var E=l.flags;switch(l.tag){case 0:case 11:case 15:io(o,l,h,v),E&2048&&ah(9,l);break;case 1:io(o,l,h,v);break;case 3:io(o,l,h,v),E&2048&&(o=null,l.alternate!==null&&(o=l.alternate.memoizedState.cache),l=l.memoizedState.cache,l!==o&&(l.refCount++,o!=null&&Yf(o)));break;case 12:if(E&2048){io(o,l,h,v),o=l.stateNode;try{var k=l.memoizedProps,I=k.id,G=k.onPostCommit;typeof G=="function"&&G(I,l.alternate===null?"mount":"update",o.passiveEffectDuration,-0)}catch(oe){Kt(l,l.return,oe)}}else io(o,l,h,v);break;case 31:io(o,l,h,v);break;case 13:io(o,l,h,v);break;case 23:break;case 22:k=l.stateNode,I=l.alternate,l.memoizedState!==null?k._visibility&2?io(o,l,h,v):sh(o,l):k._visibility&2?io(o,l,h,v):(k._visibility|=2,nd(o,l,h,v,(l.subtreeFlags&10256)!==0||!1)),E&2048&&Z_(I,l);break;case 24:io(o,l,h,v),E&2048&&X_(l.alternate,l);break;default:io(o,l,h,v)}}function nd(o,l,h,v,E){for(E=E&&((l.subtreeFlags&10256)!==0||!1),l=l.child;l!==null;){var k=o,I=l,G=h,oe=v,Se=I.flags;switch(I.tag){case 0:case 11:case 15:nd(k,I,G,oe,E),ah(8,I);break;case 23:break;case 22:var Ce=I.stateNode;I.memoizedState!==null?Ce._visibility&2?nd(k,I,G,oe,E):sh(k,I):(Ce._visibility|=2,nd(k,I,G,oe,E)),E&&Se&2048&&Z_(I.alternate,I);break;case 24:nd(k,I,G,oe,E),E&&Se&2048&&X_(I.alternate,I);break;default:nd(k,I,G,oe,E)}l=l.sibling}}function sh(o,l){if(l.subtreeFlags&10256)for(l=l.child;l!==null;){var h=o,v=l,E=v.flags;switch(v.tag){case 22:sh(h,v),E&2048&&Z_(v.alternate,v);break;case 24:sh(h,v),E&2048&&X_(v.alternate,v);break;default:sh(h,v)}l=l.sibling}}var lh=8192;function rd(o,l,h){if(o.subtreeFlags&lh)for(o=o.child;o!==null;)BO(o,l,h),o=o.sibling}function BO(o,l,h){switch(o.tag){case 26:rd(o,l,h),o.flags&lh&&o.memoizedState!==null&&cU(h,ro,o.memoizedState,o.memoizedProps);break;case 5:rd(o,l,h);break;case 3:case 4:var v=ro;ro=xg(o.stateNode.containerInfo),rd(o,l,h),ro=v;break;case 22:o.memoizedState===null&&(v=o.alternate,v!==null&&v.memoizedState!==null?(v=lh,lh=16777216,rd(o,l,h),lh=v):rd(o,l,h));break;default:rd(o,l,h)}}function zO(o){var l=o.alternate;if(l!==null&&(o=l.child,o!==null)){l.child=null;do l=o.sibling,o.sibling=null,o=l;while(o!==null)}}function ch(o){var l=o.deletions;if((o.flags&16)!==0){if(l!==null)for(var h=0;h<l.length;h++){var v=l[h];yr=v,HO(v,o)}zO(o)}if(o.subtreeFlags&10256)for(o=o.child;o!==null;)UO(o),o=o.sibling}function UO(o){switch(o.tag){case 0:case 11:case 15:ch(o),o.flags&2048&&wl(9,o,o.return);break;case 3:ch(o);break;case 12:ch(o);break;case 22:var l=o.stateNode;o.memoizedState!==null&&l._visibility&2&&(o.return===null||o.return.tag!==13)?(l._visibility&=-3,lg(o)):ch(o);break;default:ch(o)}}function lg(o){var l=o.deletions;if((o.flags&16)!==0){if(l!==null)for(var h=0;h<l.length;h++){var v=l[h];yr=v,HO(v,o)}zO(o)}for(o=o.child;o!==null;){switch(l=o,l.tag){case 0:case 11:case 15:wl(8,l,l.return),lg(l);break;case 22:h=l.stateNode,h._visibility&2&&(h._visibility&=-3,lg(l));break;default:lg(l)}o=o.sibling}}function HO(o,l){for(;yr!==null;){var h=yr;switch(h.tag){case 0:case 11:case 15:wl(8,h,l);break;case 23:case 22:if(h.memoizedState!==null&&h.memoizedState.cachePool!==null){var v=h.memoizedState.cachePool.pool;v!=null&&v.refCount++}break;case 24:Yf(h.memoizedState.cache)}if(v=h.child,v!==null)v.return=h,yr=v;else e:for(h=o;yr!==null;){v=yr;var E=v.sibling,k=v.return;if(MO(v),v===h){yr=null;break e}if(E!==null){E.return=k,yr=E;break e}yr=k}}}var E8={getCacheForType:function(o){var l=Cr(Zn),h=l.data.get(o);return h===void 0&&(h=o(),l.data.set(o,h)),h},cacheSignal:function(){return Cr(Zn).controller.signal}},A8=typeof WeakMap=="function"?WeakMap:Map,Bt=0,en=null,Et=null,Ot=0,Yt=0,Yi=null,Sl=!1,id=!1,J_=!1,hs=0,Bn=0,El=0,Lc=0,Q_=0,Ki=0,ad=0,uh=null,ki=null,ex=!1,cg=0,FO=0,ug=1/0,dg=null,Al=null,ar=0,Tl=null,od=null,ms=0,tx=0,nx=null,GO=null,dh=0,rx=null;function Wi(){return(Bt&2)!==0&&Ot!==0?Ot&-Ot:J.T!==null?cx():Js()}function qO(){if(Ki===0)if((Ot&536870912)===0||St){var o=hr;hr<<=1,(hr&3932160)===0&&(hr=262144),Ki=o}else Ki=536870912;return o=Gi.current,o!==null&&(o.flags|=32),Ki}function Oi(o,l,h){(o===en&&(Yt===2||Yt===9)||o.cancelPendingCommit!==null)&&(sd(o,0),kl(o,Ot,Ki,!1)),vi(o,h),((Bt&2)===0||o!==en)&&(o===en&&((Bt&2)===0&&(Lc|=h),Bn===4&&kl(o,Ot,Ki,!1)),$o(o))}function YO(o,l,h){if((Bt&6)!==0)throw Error(r(327));var v=!h&&(l&127)===0&&(l&o.expiredLanes)===0||ha(o,l),E=v?O8(o,l):ax(o,l,!0),k=v;do{if(E===0){id&&!v&&kl(o,l,0,!1);break}else{if(h=o.current.alternate,k&&!T8(h)){E=ax(o,l,!1),k=!1;continue}if(E===2){if(k=l,o.errorRecoveryDisabledLanes&k)var I=0;else I=o.pendingLanes&-536870913,I=I!==0?I:I&536870912?536870912:0;if(I!==0){l=I;e:{var G=o;E=uh;var oe=G.current.memoizedState.isDehydrated;if(oe&&(sd(G,I).flags|=256),I=ax(G,I,!1),I!==2){if(J_&&!oe){G.errorRecoveryDisabledLanes|=k,Lc|=k,E=4;break e}k=ki,ki=E,k!==null&&(ki===null?ki=k:ki.push.apply(ki,k))}E=I}if(k=!1,E!==2)continue}}if(E===1){sd(o,0),kl(o,l,0,!0);break}e:{switch(v=o,k=E,k){case 0:case 1:throw Error(r(345));case 4:if((l&4194048)!==l)break;case 6:kl(v,l,Ki,!Sl);break e;case 2:ki=null;break;case 3:case 5:break;default:throw Error(r(329))}if((l&62914560)===l&&(E=cg+300-ze(),10<E)){if(kl(v,l,Ki,!Sl),jr(v,0,!0)!==0)break e;ms=l,v.timeoutHandle=Sj(KO.bind(null,v,h,ki,dg,ex,l,Ki,Lc,ad,Sl,k,"Throttled",-0,0),E);break e}KO(v,h,ki,dg,ex,l,Ki,Lc,ad,Sl,k,null,-0,0)}}break}while(!0);$o(o)}function KO(o,l,h,v,E,k,I,G,oe,Se,Ce,Re,Ae,ke){if(o.timeoutHandle=-1,Re=l.subtreeFlags,Re&8192||(Re&16785408)===16785408){Re={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:bi},BO(l,k,Re);var Ze=(k&62914560)===k?cg-ze():(k&4194048)===k?FO-ze():0;if(Ze=uU(Re,Ze),Ze!==null){ms=k,o.cancelPendingCommit=Ze(tj.bind(null,o,l,k,h,v,E,I,G,oe,Ce,Re,null,Ae,ke)),kl(o,k,I,!Se);return}}tj(o,l,k,h,v,E,I,G,oe)}function T8(o){for(var l=o;;){var h=l.tag;if((h===0||h===11||h===15)&&l.flags&16384&&(h=l.updateQueue,h!==null&&(h=h.stores,h!==null)))for(var v=0;v<h.length;v++){var E=h[v],k=E.getSnapshot;E=E.value;try{if(!gr(k(),E))return!1}catch{return!1}}if(h=l.child,l.subtreeFlags&16384&&h!==null)h.return=l,l=h;else{if(l===o)break;for(;l.sibling===null;){if(l.return===null||l.return===o)return!0;l=l.return}l.sibling.return=l.return,l=l.sibling}}return!0}function kl(o,l,h,v){l&=~Q_,l&=~Lc,o.suspendedLanes|=l,o.pingedLanes&=~l,v&&(o.warmLanes|=l),v=o.expirationTimes;for(var E=l;0<E;){var k=31-_n(E),I=1<<k;v[k]=-1,E&=~I}h!==0&&nc(o,h,l)}function fg(){return(Bt&6)===0?(fh(0),!1):!0}function ix(){if(Et!==null){if(Yt===0)var o=Et.return;else o=Et,no=Lo=null,__(o),Xu=null,Wf=0,o=Et;for(;o!==null;)EO(o.alternate,o),o=o.return;Et=null}}function sd(o,l){var h=o.timeoutHandle;h!==-1&&(o.timeoutHandle=-1,Y8(h)),h=o.cancelPendingCommit,h!==null&&(o.cancelPendingCommit=null,h()),ms=0,ix(),en=o,Et=h=Aa(o.current,null),Ot=l,Yt=0,Yi=null,Sl=!1,id=ha(o,l),J_=!1,ad=Ki=Q_=Lc=El=Bn=0,ki=uh=null,ex=!1,(l&8)!==0&&(l|=l&32);var v=o.entangledLanes;if(v!==0)for(o=o.entanglements,v&=l;0<v;){var E=31-_n(v),k=1<<E;l|=o[E],v&=~k}return hs=l,Sc(),h}function WO(o,l){gt=null,J.H=nh,l===Zu||l===Up?(l=uk(),Yt=3):l===l_?(l=uk(),Yt=4):Yt=l===L_?8:l!==null&&typeof l=="object"&&typeof l.then=="function"?6:1,Yi=l,Et===null&&(Bn=1,tg(o,g(l,o.current)))}function VO(){var o=Gi.current;return o===null?!0:(Ot&4194048)===Ot?Ta===null:(Ot&62914560)===Ot||(Ot&536870912)!==0?o===Ta:!1}function ZO(){var o=J.H;return J.H=nh,o===null?nh:o}function XO(){var o=J.A;return J.A=E8,o}function hg(){Bn=4,Sl||(Ot&4194048)!==Ot&&Gi.current!==null||(id=!0),(El&134217727)===0&&(Lc&134217727)===0||en===null||kl(en,Ot,Ki,!1)}function ax(o,l,h){var v=Bt;Bt|=2;var E=ZO(),k=XO();(en!==o||Ot!==l)&&(dg=null,sd(o,l)),l=!1;var I=Bn;e:do try{if(Yt!==0&&Et!==null){var G=Et,oe=Yi;switch(Yt){case 8:ix(),I=6;break e;case 3:case 2:case 9:case 6:Gi.current===null&&(l=!0);var Se=Yt;if(Yt=0,Yi=null,ld(o,G,oe,Se),h&&id){I=0;break e}break;default:Se=Yt,Yt=0,Yi=null,ld(o,G,oe,Se)}}k8(),I=Bn;break}catch(Ce){WO(o,Ce)}while(!0);return l&&o.shellSuspendCounter++,no=Lo=null,Bt=v,J.H=E,J.A=k,Et===null&&(en=null,Ot=0,Sc()),I}function k8(){for(;Et!==null;)JO(Et)}function O8(o,l){var h=Bt;Bt|=2;var v=ZO(),E=XO();en!==o||Ot!==l?(dg=null,ug=ze()+500,sd(o,l)):id=ha(o,l);e:do try{if(Yt!==0&&Et!==null){l=Et;var k=Yi;t:switch(Yt){case 1:Yt=0,Yi=null,ld(o,l,k,1);break;case 2:case 9:if(lk(k)){Yt=0,Yi=null,QO(l);break}l=function(){Yt!==2&&Yt!==9||en!==o||(Yt=7),$o(o)},k.then(l,l);break e;case 3:Yt=7;break e;case 4:Yt=5;break e;case 7:lk(k)?(Yt=0,Yi=null,QO(l)):(Yt=0,Yi=null,ld(o,l,k,7));break;case 5:var I=null;switch(Et.tag){case 26:I=Et.memoizedState;case 5:case 27:var G=Et;if(I?$j(I):G.stateNode.complete){Yt=0,Yi=null;var oe=G.sibling;if(oe!==null)Et=oe;else{var Se=G.return;Se!==null?(Et=Se,mg(Se)):Et=null}break t}}Yt=0,Yi=null,ld(o,l,k,5);break;case 6:Yt=0,Yi=null,ld(o,l,k,6);break;case 8:ix(),Bn=6;break e;default:throw Error(r(462))}}j8();break}catch(Ce){WO(o,Ce)}while(!0);return no=Lo=null,J.H=v,J.A=E,Bt=h,Et!==null?0:(en=null,Ot=0,Sc(),Bn)}function j8(){for(;Et!==null&&!he();)JO(Et)}function JO(o){var l=wO(o.alternate,o,hs);o.memoizedProps=o.pendingProps,l===null?mg(o):Et=l}function QO(o){var l=o,h=l.alternate;switch(l.tag){case 15:case 0:l=gO(h,l,l.pendingProps,l.type,void 0,Ot);break;case 11:l=gO(h,l,l.pendingProps,l.type.render,l.ref,Ot);break;case 5:__(l);default:EO(h,l),l=Et=Uf(l,hs),l=wO(h,l,hs)}o.memoizedProps=o.pendingProps,l===null?mg(o):Et=l}function ld(o,l,h,v){no=Lo=null,__(l),Xu=null,Wf=0;var E=l.return;try{if(v8(o,E,l,h,Ot)){Bn=1,tg(o,g(h,o.current)),Et=null;return}}catch(k){if(E!==null)throw Et=E,k;Bn=1,tg(o,g(h,o.current)),Et=null;return}l.flags&32768?(St||v===1?o=!0:id||(Ot&536870912)!==0?o=!1:(Sl=o=!0,(v===2||v===9||v===3||v===6)&&(v=Gi.current,v!==null&&v.tag===13&&(v.flags|=16384))),ej(l,o)):mg(l)}function mg(o){var l=o;do{if((l.flags&32768)!==0){ej(l,Sl);return}o=l.return;var h=_8(l.alternate,l,hs);if(h!==null){Et=h;return}if(l=l.sibling,l!==null){Et=l;return}Et=l=o}while(l!==null);Bn===0&&(Bn=5)}function ej(o,l){do{var h=x8(o.alternate,o);if(h!==null){h.flags&=32767,Et=h;return}if(h=o.return,h!==null&&(h.flags|=32768,h.subtreeFlags=0,h.deletions=null),!l&&(o=o.sibling,o!==null)){Et=o;return}Et=o=h}while(o!==null);Bn=6,Et=null}function tj(o,l,h,v,E,k,I,G,oe){o.cancelPendingCommit=null;do pg();while(ar!==0);if((Bt&6)!==0)throw Error(r(327));if(l!==null){if(l===o.current)throw Error(r(177));if(k=l.lanes|l.childLanes,k|=Fu,Xs(o,h,k,I,G,oe),o===en&&(Et=en=null,Ot=0),od=l,Tl=o,ms=h,tx=k,nx=E,GO=v,(l.subtreeFlags&10256)!==0||(l.flags&10256)!==0?(o.callbackNode=null,o.callbackPriority=0,D8(qt,function(){return oj(),null})):(o.callbackNode=null,o.callbackPriority=0),v=(l.flags&13878)!==0,(l.subtreeFlags&13878)!==0||v){v=J.T,J.T=null,E=le.p,le.p=2,I=Bt,Bt|=4;try{w8(o,l,h)}finally{Bt=I,le.p=E,J.T=v}}ar=1,nj(),rj(),ij()}}function nj(){if(ar===1){ar=0;var o=Tl,l=od,h=(l.flags&13878)!==0;if((l.subtreeFlags&13878)!==0||h){h=J.T,J.T=null;var v=le.p;le.p=2;var E=Bt;Bt|=4;try{LO(l,o);var k=vx,I=yc(o.containerInfo),G=k.focusedElem,oe=k.selectionRange;if(I!==G&&G&&G.ownerDocument&&Bu(G.ownerDocument.documentElement,G)){if(oe!==null&&jo(G)){var Se=oe.start,Ce=oe.end;if(Ce===void 0&&(Ce=Se),"selectionStart"in G)G.selectionStart=Se,G.selectionEnd=Math.min(Ce,G.value.length);else{var Re=G.ownerDocument||document,Ae=Re&&Re.defaultView||window;if(Ae.getSelection){var ke=Ae.getSelection(),Ze=G.textContent.length,ot=Math.min(oe.start,Ze),Xt=oe.end===void 0?ot:Math.min(oe.end,Ze);!ke.extend&&ot>Xt&&(I=Xt,Xt=ot,ot=I);var ve=vc(G,ot),fe=vc(G,Xt);if(ve&&fe&&(ke.rangeCount!==1||ke.anchorNode!==ve.node||ke.anchorOffset!==ve.offset||ke.focusNode!==fe.node||ke.focusOffset!==fe.offset)){var we=Re.createRange();we.setStart(ve.node,ve.offset),ke.removeAllRanges(),ot>Xt?(ke.addRange(we),ke.extend(fe.node,fe.offset)):(we.setEnd(fe.node,fe.offset),ke.addRange(we))}}}}for(Re=[],ke=G;ke=ke.parentNode;)ke.nodeType===1&&Re.push({element:ke,left:ke.scrollLeft,top:ke.scrollTop});for(typeof G.focus=="function"&&G.focus(),G=0;G<Re.length;G++){var De=Re[G];De.element.scrollLeft=De.left,De.element.scrollTop=De.top}}kg=!!gx,vx=gx=null}finally{Bt=E,le.p=v,J.T=h}}o.current=l,ar=2}}function rj(){if(ar===2){ar=0;var o=Tl,l=od,h=(l.flags&8772)!==0;if((l.subtreeFlags&8772)!==0||h){h=J.T,J.T=null;var v=le.p;le.p=2;var E=Bt;Bt|=4;try{CO(o,l.alternate,l)}finally{Bt=E,le.p=v,J.T=h}}ar=3}}function ij(){if(ar===4||ar===3){ar=0,$e();var o=Tl,l=od,h=ms,v=GO;(l.subtreeFlags&10256)!==0||(l.flags&10256)!==0?ar=5:(ar=0,od=Tl=null,aj(o,o.pendingLanes));var E=o.pendingLanes;if(E===0&&(Al=null),We(h),l=l.stateNode,Ut&&typeof Ut.onCommitFiberRoot=="function")try{Ut.onCommitFiberRoot(Wn,l,void 0,(l.current.flags&128)===128)}catch{}if(v!==null){l=J.T,E=le.p,le.p=2,J.T=null;try{for(var k=o.onRecoverableError,I=0;I<v.length;I++){var G=v[I];k(G.value,{componentStack:G.stack})}}finally{J.T=l,le.p=E}}(ms&3)!==0&&pg(),$o(o),E=o.pendingLanes,(h&261930)!==0&&(E&42)!==0?o===rx?dh++:(dh=0,rx=o):dh=0,fh(0)}}function aj(o,l){(o.pooledCacheLanes&=l)===0&&(l=o.pooledCache,l!=null&&(o.pooledCache=null,Yf(l)))}function pg(){return nj(),rj(),ij(),oj()}function oj(){if(ar!==5)return!1;var o=Tl,l=tx;tx=0;var h=We(ms),v=J.T,E=le.p;try{le.p=32>h?32:h,J.T=null,h=nx,nx=null;var k=Tl,I=ms;if(ar=0,od=Tl=null,ms=0,(Bt&6)!==0)throw Error(r(331));var G=Bt;if(Bt|=4,UO(k.current),$O(k,k.current,I,h),Bt=G,fh(0,!1),Ut&&typeof Ut.onPostCommitFiberRoot=="function")try{Ut.onPostCommitFiberRoot(Wn,k)}catch{}return!0}finally{le.p=E,J.T=v,aj(o,l)}}function sj(o,l,h){l=g(h,l),l=R_(o.stateNode,l,2),o=bl(o,l,2),o!==null&&(vi(o,2),$o(o))}function Kt(o,l,h){if(o.tag===3)sj(o,o,h);else for(;l!==null;){if(l.tag===3){sj(l,o,h);break}else if(l.tag===1){var v=l.stateNode;if(typeof l.type.getDerivedStateFromError=="function"||typeof v.componentDidCatch=="function"&&(Al===null||!Al.has(v))){o=g(h,o),h=lO(2),v=bl(l,h,2),v!==null&&(cO(h,v,l,o),vi(v,2),$o(v));break}}l=l.return}}function ox(o,l,h){var v=o.pingCache;if(v===null){v=o.pingCache=new A8;var E=new Set;v.set(l,E)}else E=v.get(l),E===void 0&&(E=new Set,v.set(l,E));E.has(h)||(J_=!0,E.add(h),o=N8.bind(null,o,l,h),l.then(o,o))}function N8(o,l,h){var v=o.pingCache;v!==null&&v.delete(l),o.pingedLanes|=o.suspendedLanes&h,o.warmLanes&=~h,en===o&&(Ot&h)===h&&(Bn===4||Bn===3&&(Ot&62914560)===Ot&&300>ze()-cg?(Bt&2)===0&&sd(o,0):Q_|=h,ad===Ot&&(ad=0)),$o(o)}function lj(o,l){l===0&&(l=tc()),o=Ea(o,l),o!==null&&(vi(o,l),$o(o))}function C8(o){var l=o.memoizedState,h=0;l!==null&&(h=l.retryLane),lj(o,h)}function M8(o,l){var h=0;switch(o.tag){case 31:case 13:var v=o.stateNode,E=o.memoizedState;E!==null&&(h=E.retryLane);break;case 19:v=o.stateNode;break;case 22:v=o.stateNode._retryCache;break;default:throw Error(r(314))}v!==null&&v.delete(l),lj(o,h)}function D8(o,l){return Ue(o,l)}var gg=null,cd=null,sx=!1,vg=!1,lx=!1,Ol=0;function $o(o){o!==cd&&o.next===null&&(cd===null?gg=cd=o:cd=cd.next=o),vg=!0,sx||(sx=!0,R8())}function fh(o,l){if(!lx&&vg){lx=!0;do for(var h=!1,v=gg;v!==null;){if(o!==0){var E=v.pendingLanes;if(E===0)var k=0;else{var I=v.suspendedLanes,G=v.pingedLanes;k=(1<<31-_n(42|o)+1)-1,k&=E&~(I&~G),k=k&201326741?k&201326741|1:k?k|2:0}k!==0&&(h=!0,fj(v,k))}else k=Ot,k=jr(v,v===en?k:0,v.cancelPendingCommit!==null||v.timeoutHandle!==-1),(k&3)===0||ha(v,k)||(h=!0,fj(v,k));v=v.next}while(h);lx=!1}}function P8(){cj()}function cj(){vg=sx=!1;var o=0;Ol!==0&&q8()&&(o=Ol);for(var l=ze(),h=null,v=gg;v!==null;){var E=v.next,k=uj(v,l);k===0?(v.next=null,h===null?gg=E:h.next=E,E===null&&(cd=h)):(h=v,(o!==0||(k&3)!==0)&&(vg=!0)),v=E}ar!==0&&ar!==5||fh(o),Ol!==0&&(Ol=0)}function uj(o,l){for(var h=o.suspendedLanes,v=o.pingedLanes,E=o.expirationTimes,k=o.pendingLanes&-62914561;0<k;){var I=31-_n(k),G=1<<I,oe=E[I];oe===-1?((G&h)===0||(G&v)!==0)&&(E[I]=Tf(G,l)):oe<=l&&(o.expiredLanes|=G),k&=~G}if(l=en,h=Ot,h=jr(o,o===l?h:0,o.cancelPendingCommit!==null||o.timeoutHandle!==-1),v=o.callbackNode,h===0||o===l&&(Yt===2||Yt===9)||o.cancelPendingCommit!==null)return v!==null&&v!==null&&ue(v),o.callbackNode=null,o.callbackPriority=0;if((h&3)===0||ha(o,h)){if(l=h&-h,l===o.callbackPriority)return l;switch(v!==null&&ue(v),We(h)){case 2:case 8:h=yt;break;case 32:h=qt;break;case 268435456:h=bn;break;default:h=qt}return v=dj.bind(null,o),h=Ue(h,v),o.callbackPriority=l,o.callbackNode=h,l}return v!==null&&v!==null&&ue(v),o.callbackPriority=2,o.callbackNode=null,2}function dj(o,l){if(ar!==0&&ar!==5)return o.callbackNode=null,o.callbackPriority=0,null;var h=o.callbackNode;if(pg()&&o.callbackNode!==h)return null;var v=Ot;return v=jr(o,o===en?v:0,o.cancelPendingCommit!==null||o.timeoutHandle!==-1),v===0?null:(YO(o,v,l),uj(o,ze()),o.callbackNode!=null&&o.callbackNode===h?dj.bind(null,o):null)}function fj(o,l){if(pg())return null;YO(o,l,!0)}function R8(){K8(function(){(Bt&6)!==0?Ue(dt,P8):cj()})}function cx(){if(Ol===0){var o=Wu;o===0&&(o=Fr,Fr<<=1,(Fr&261888)===0&&(Fr=256)),Ol=o}return Ol}function hj(o){return o==null||typeof o=="symbol"||typeof o=="boolean"?null:typeof o=="function"?o:rl(""+o)}function mj(o,l){var h=l.ownerDocument.createElement("input");return h.name=l.name,h.value=l.value,o.id&&h.setAttribute("form",o.id),l.parentNode.insertBefore(h,l),o=new FormData(o),h.parentNode.removeChild(h),o}function L8(o,l,h,v,E){if(l==="submit"&&h&&h.stateNode===E){var k=hj((E[Dn]||null).action),I=v.submitter;I&&(l=(l=I[Dn]||null)?hj(l.formAction):I.getAttribute("formAction"),l!==null&&(k=l,I=null));var G=new Mu("action","action",null,v,E);o.push({event:G,listeners:[{instance:null,listener:function(){if(v.defaultPrevented){if(Ol!==0){var oe=I?mj(E,I):new FormData(E);j_(h,{pending:!0,data:oe,method:E.method,action:k},null,oe)}}else typeof k=="function"&&(G.preventDefault(),oe=I?mj(E,I):new FormData(E),j_(h,{pending:!0,data:oe,method:E.method,action:k},k,oe))},currentTarget:E}]})}}for(var ux=0;ux<Mo.length;ux++){var dx=Mo[ux],I8=dx.toLowerCase(),$8=dx[0].toUpperCase()+dx.slice(1);xi(I8,"on"+$8)}xi(_c,"onAnimationEnd"),xi(Rp,"onAnimationIteration"),xi(xc,"onAnimationStart"),xi("dblclick","onDoubleClick"),xi("focusin","onFocus"),xi("focusout","onBlur"),xi(e_,"onTransitionRun"),xi(Lp,"onTransitionStart"),xi(t_,"onTransitionCancel"),xi(ml,"onTransitionEnd"),pt("onMouseEnter",["mouseout","mouseover"]),pt("onMouseLeave",["mouseout","mouseover"]),pt("onPointerEnter",["pointerout","pointerover"]),pt("onPointerLeave",["pointerout","pointerover"]),ct("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),ct("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),ct("onBeforeInput",["compositionend","keypress","textInput","paste"]),ct("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),ct("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),ct("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var hh="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),B8=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(hh));function pj(o,l){l=(l&4)!==0;for(var h=0;h<o.length;h++){var v=o[h],E=v.event;v=v.listeners;e:{var k=void 0;if(l)for(var I=v.length-1;0<=I;I--){var G=v[I],oe=G.instance,Se=G.currentTarget;if(G=G.listener,oe!==k&&E.isPropagationStopped())break e;k=G,E.currentTarget=Se;try{k(E)}catch(Ce){wc(Ce)}E.currentTarget=null,k=oe}else for(I=0;I<v.length;I++){if(G=v[I],oe=G.instance,Se=G.currentTarget,G=G.listener,oe!==k&&E.isPropagationStopped())break e;k=G,E.currentTarget=Se;try{k(E)}catch(Ce){wc(Ce)}E.currentTarget=null,k=oe}}}}function At(o,l){var h=l[ri];h===void 0&&(h=l[ri]=new Set);var v=o+"__bubble";h.has(v)||(gj(l,o,2,!1),h.add(v))}function fx(o,l,h){var v=0;l&&(v|=4),gj(h,o,v,l)}var yg="_reactListening"+Math.random().toString(36).slice(2);function hx(o){if(!o[yg]){o[yg]=!0,_e.forEach(function(h){h!=="selectionchange"&&(B8.has(h)||fx(h,!1,o),fx(h,!0,o))});var l=o.nodeType===9?o:o.ownerDocument;l===null||l[yg]||(l[yg]=!0,fx("selectionchange",!1,l))}}function gj(o,l,h,v){switch(qj(l)){case 2:var E=hU;break;case 8:E=mU;break;default:E=Ox}h=E.bind(null,l,h,o),E=void 0,!lc||l!=="touchstart"&&l!=="touchmove"&&l!=="wheel"||(E=!0),v?E!==void 0?o.addEventListener(l,h,{capture:!0,passive:E}):o.addEventListener(l,h,!0):E!==void 0?o.addEventListener(l,h,{passive:E}):o.addEventListener(l,h,!1)}function mx(o,l,h,v,E){var k=v;if((l&1)===0&&(l&2)===0&&v!==null)e:for(;;){if(v===null)return;var I=v.tag;if(I===3||I===4){var G=v.stateNode.containerInfo;if(G===E)break;if(I===4)for(I=v.return;I!==null;){var oe=I.tag;if((oe===3||oe===4)&&I.stateNode.containerInfo===E)return;I=I.return}for(;G!==null;){if(I=Bi(G),I===null)return;if(oe=I.tag,oe===5||oe===6||oe===26||oe===27){v=k=I;continue e}G=G.parentNode}}v=v.return}Nf(function(){var Se=k,Ce=sc(h),Re=[];e:{var Ae=Ip.get(o);if(Ae!==void 0){var ke=Mu,Ze=o;switch(o){case"keypress":if(cc(h)===0)break e;case"keydown":case"keyup":ke=Sp;break;case"focusin":Ze="focus",ke=Df;break;case"focusout":Ze="blur",ke=Df;break;case"beforeblur":case"afterblur":ke=Df;break;case"click":if(h.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ke=yp;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ke=Fb;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ke=Wb;break;case _c:case Rp:case xc:ke=Pf;break;case ml:ke=Tp;break;case"scroll":case"scrollend":ke=kt;break;case"wheel":ke=es;break;case"copy":case"cut":case"paste":ke=_a;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ke=Ep;break;case"toggle":case"beforetoggle":ke=fc}var ot=(l&4)!==0,Xt=!ot&&(o==="scroll"||o==="scrollend"),ve=ot?Ae!==null?Ae+"Capture":null:Ae;ot=[];for(var fe=Se,we;fe!==null;){var De=fe;if(we=De.stateNode,De=De.tag,De!==5&&De!==26&&De!==27||we===null||ve===null||(De=Jo(fe,ve),De!=null&&ot.push(mh(fe,De,we))),Xt)break;fe=fe.return}0<ot.length&&(Ae=new ke(Ae,Ze,null,h,Ce),Re.push({event:Ae,listeners:ot}))}}if((l&7)===0){e:{if(Ae=o==="mouseover"||o==="pointerover",ke=o==="mouseout"||o==="pointerout",Ae&&h!==Cu&&(Ze=h.relatedTarget||h.fromElement)&&(Bi(Ze)||Ze[mr]))break e;if((ke||Ae)&&(Ae=Ce.window===Ce?Ce:(Ae=Ce.ownerDocument)?Ae.defaultView||Ae.parentWindow:window,ke?(Ze=h.relatedTarget||h.toElement,ke=Se,Ze=Ze?Bi(Ze):null,Ze!==null&&(Xt=a(Ze),ot=Ze.tag,Ze!==Xt||ot!==5&&ot!==27&&ot!==6)&&(Ze=null)):(ke=null,Ze=Se),ke!==Ze)){if(ot=yp,De="onMouseLeave",ve="onMouseEnter",fe="mouse",(o==="pointerout"||o==="pointerover")&&(ot=Ep,De="onPointerLeave",ve="onPointerEnter",fe="pointer"),Xt=ke==null?Ae:yi(ke),we=Ze==null?Ae:yi(Ze),Ae=new ot(De,fe+"leave",ke,h,Ce),Ae.target=Xt,Ae.relatedTarget=we,De=null,Bi(Ce)===Se&&(ot=new ot(ve,fe+"enter",Ze,h,Ce),ot.target=we,ot.relatedTarget=Xt,De=ot),Xt=De,ke&&Ze)t:{for(ot=z8,ve=ke,fe=Ze,we=0,De=ve;De;De=ot(De))we++;De=0;for(var rt=fe;rt;rt=ot(rt))De++;for(;0<we-De;)ve=ot(ve),we--;for(;0<De-we;)fe=ot(fe),De--;for(;we--;){if(ve===fe||fe!==null&&ve===fe.alternate){ot=ve;break t}ve=ot(ve),fe=ot(fe)}ot=null}else ot=null;ke!==null&&vj(Re,Ae,ke,ot,!1),Ze!==null&&Xt!==null&&vj(Re,Xt,Ze,ot,!0)}}e:{if(Ae=Se?yi(Se):window,ke=Ae.nodeName&&Ae.nodeName.toLowerCase(),ke==="select"||ke==="input"&&Ae.type==="file")var Lt=gc;else if(xa(Ae))if(Np)Lt=Qb;else{Lt=Jb;var Je=Qa}else ke=Ae.nodeName,!ke||ke.toLowerCase()!=="input"||Ae.type!=="checkbox"&&Ae.type!=="radio"?Se&&oc(Se.elementType)&&(Lt=gc):Lt=ul;if(Lt&&(Lt=Lt(o,Se))){jp(Re,Lt,h,Ce);break e}Je&&Je(o,Ae,Se),o==="focusout"&&Se&&Ae.type==="number"&&Se.memoizedProps.value!=null&&Za(Ae,"number",Ae.value)}switch(Je=Se?yi(Se):window,o){case"focusin":(xa(Je)||Je.contentEditable==="true")&&(No=Je,Uu=Se,bc=null);break;case"focusout":bc=Uu=No=null;break;case"mousedown":fl=!0;break;case"contextmenu":case"mouseup":case"dragend":fl=!1,Dp(Re,h,Ce);break;case"selectionchange":if(zu)break;case"keydown":case"keyup":Dp(Re,h,Ce)}var _t;if(Pu)e:{switch(o){case"compositionstart":var jt="onCompositionStart";break e;case"compositionend":jt="onCompositionEnd";break e;case"compositionupdate":jt="onCompositionUpdate";break e}jt=void 0}else sl?Op(o,h)&&(jt="onCompositionEnd"):o==="keydown"&&h.keyCode===229&&(jt="onCompositionStart");jt&&(Ru&&h.locale!=="ko"&&(sl||jt!=="onCompositionStart"?jt==="onCompositionEnd"&&sl&&(_t=ko()):(ba=Ce,Qo="value"in ba?ba.value:ba.textContent,sl=!0)),Je=bg(Se,jt),0<Je.length&&(jt=new Rf(jt,o,null,h,Ce),Re.push({event:jt,listeners:Je}),_t?jt.data=_t:(_t=Bf(h),_t!==null&&(jt.data=_t)))),(_t=Zb?Fi(o,h):ll(o,h))&&(jt=bg(Se,"onBeforeInput"),0<jt.length&&(Je=new Rf("onBeforeInput","beforeinput",null,h,Ce),Re.push({event:Je,listeners:jt}),Je.data=_t)),L8(Re,o,Se,h,Ce)}pj(Re,l)})}function mh(o,l,h){return{instance:o,listener:l,currentTarget:h}}function bg(o,l){for(var h=l+"Capture",v=[];o!==null;){var E=o,k=E.stateNode;if(E=E.tag,E!==5&&E!==26&&E!==27||k===null||(E=Jo(o,h),E!=null&&v.unshift(mh(o,E,k)),E=Jo(o,l),E!=null&&v.push(mh(o,E,k))),o.tag===3)return v;o=o.return}return[]}function z8(o){if(o===null)return null;do o=o.return;while(o&&o.tag!==5&&o.tag!==27);return o||null}function vj(o,l,h,v,E){for(var k=l._reactName,I=[];h!==null&&h!==v;){var G=h,oe=G.alternate,Se=G.stateNode;if(G=G.tag,oe!==null&&oe===v)break;G!==5&&G!==26&&G!==27||Se===null||(oe=Se,E?(Se=Jo(h,k),Se!=null&&I.unshift(mh(h,Se,oe))):E||(Se=Jo(h,k),Se!=null&&I.push(mh(h,Se,oe)))),h=h.return}I.length!==0&&o.push({event:l,listeners:I})}var U8=/\r\n?/g,H8=/\u0000|\uFFFD/g;function yj(o){return(typeof o=="string"?o:""+o).replace(U8,`
`).replace(H8,"")}function bj(o,l){return l=yj(l),yj(o)===l}function Zt(o,l,h,v,E,k){switch(h){case"children":typeof v=="string"?l==="body"||l==="textarea"&&v===""||ya(o,v):(typeof v=="number"||typeof v=="bigint")&&l!=="body"&&ya(o,""+v);break;case"className":ht(o,"class",v);break;case"tabIndex":ht(o,"tabindex",v);break;case"dir":case"role":case"viewBox":case"width":case"height":ht(o,h,v);break;case"style":ju(o,v,k);break;case"data":if(l!=="object"){ht(o,"data",v);break}case"src":case"href":if(v===""&&(l!=="a"||h!=="href")){o.removeAttribute(h);break}if(v==null||typeof v=="function"||typeof v=="symbol"||typeof v=="boolean"){o.removeAttribute(h);break}v=rl(""+v),o.setAttribute(h,v);break;case"action":case"formAction":if(typeof v=="function"){o.setAttribute(h,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof k=="function"&&(h==="formAction"?(l!=="input"&&Zt(o,l,"name",E.name,E,null),Zt(o,l,"formEncType",E.formEncType,E,null),Zt(o,l,"formMethod",E.formMethod,E,null),Zt(o,l,"formTarget",E.formTarget,E,null)):(Zt(o,l,"encType",E.encType,E,null),Zt(o,l,"method",E.method,E,null),Zt(o,l,"target",E.target,E,null)));if(v==null||typeof v=="symbol"||typeof v=="boolean"){o.removeAttribute(h);break}v=rl(""+v),o.setAttribute(h,v);break;case"onClick":v!=null&&(o.onclick=bi);break;case"onScroll":v!=null&&At("scroll",o);break;case"onScrollEnd":v!=null&&At("scrollend",o);break;case"dangerouslySetInnerHTML":if(v!=null){if(typeof v!="object"||!("__html"in v))throw Error(r(61));if(h=v.__html,h!=null){if(E.children!=null)throw Error(r(60));o.innerHTML=h}}break;case"multiple":o.multiple=v&&typeof v!="function"&&typeof v!="symbol";break;case"muted":o.muted=v&&typeof v!="function"&&typeof v!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(v==null||typeof v=="function"||typeof v=="boolean"||typeof v=="symbol"){o.removeAttribute("xlink:href");break}h=rl(""+v),o.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",h);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":v!=null&&typeof v!="function"&&typeof v!="symbol"?o.setAttribute(h,""+v):o.removeAttribute(h);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":v&&typeof v!="function"&&typeof v!="symbol"?o.setAttribute(h,""):o.removeAttribute(h);break;case"capture":case"download":v===!0?o.setAttribute(h,""):v!==!1&&v!=null&&typeof v!="function"&&typeof v!="symbol"?o.setAttribute(h,v):o.removeAttribute(h);break;case"cols":case"rows":case"size":case"span":v!=null&&typeof v!="function"&&typeof v!="symbol"&&!isNaN(v)&&1<=v?o.setAttribute(h,v):o.removeAttribute(h);break;case"rowSpan":case"start":v==null||typeof v=="function"||typeof v=="symbol"||isNaN(v)?o.removeAttribute(h):o.setAttribute(h,v);break;case"popover":At("beforetoggle",o),At("toggle",o),ut(o,"popover",v);break;case"xlinkActuate":pr(o,"http://www.w3.org/1999/xlink","xlink:actuate",v);break;case"xlinkArcrole":pr(o,"http://www.w3.org/1999/xlink","xlink:arcrole",v);break;case"xlinkRole":pr(o,"http://www.w3.org/1999/xlink","xlink:role",v);break;case"xlinkShow":pr(o,"http://www.w3.org/1999/xlink","xlink:show",v);break;case"xlinkTitle":pr(o,"http://www.w3.org/1999/xlink","xlink:title",v);break;case"xlinkType":pr(o,"http://www.w3.org/1999/xlink","xlink:type",v);break;case"xmlBase":pr(o,"http://www.w3.org/XML/1998/namespace","xml:base",v);break;case"xmlLang":pr(o,"http://www.w3.org/XML/1998/namespace","xml:lang",v);break;case"xmlSpace":pr(o,"http://www.w3.org/XML/1998/namespace","xml:space",v);break;case"is":ut(o,"is",v);break;case"innerText":case"textContent":break;default:(!(2<h.length)||h[0]!=="o"&&h[0]!=="O"||h[1]!=="n"&&h[1]!=="N")&&(h=Nu.get(h)||h,ut(o,h,v))}}function px(o,l,h,v,E,k){switch(h){case"style":ju(o,v,k);break;case"dangerouslySetInnerHTML":if(v!=null){if(typeof v!="object"||!("__html"in v))throw Error(r(61));if(h=v.__html,h!=null){if(E.children!=null)throw Error(r(60));o.innerHTML=h}}break;case"children":typeof v=="string"?ya(o,v):(typeof v=="number"||typeof v=="bigint")&&ya(o,""+v);break;case"onScroll":v!=null&&At("scroll",o);break;case"onScrollEnd":v!=null&&At("scrollend",o);break;case"onClick":v!=null&&(o.onclick=bi);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!qe.hasOwnProperty(h))e:{if(h[0]==="o"&&h[1]==="n"&&(E=h.endsWith("Capture"),l=h.slice(2,E?h.length-7:void 0),k=o[Dn]||null,k=k!=null?k[h]:null,typeof k=="function"&&o.removeEventListener(l,k,E),typeof v=="function")){typeof k!="function"&&k!==null&&(h in o?o[h]=null:o.hasAttribute(h)&&o.removeAttribute(h)),o.addEventListener(l,v,E);break e}h in o?o[h]=v:v===!0?o.setAttribute(h,""):ut(o,h,v)}}}function Dr(o,l,h){switch(l){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":At("error",o),At("load",o);var v=!1,E=!1,k;for(k in h)if(h.hasOwnProperty(k)){var I=h[k];if(I!=null)switch(k){case"src":v=!0;break;case"srcSet":E=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,l));default:Zt(o,l,k,I,h,null)}}E&&Zt(o,l,"srcSet",h.srcSet,h,null),v&&Zt(o,l,"src",h.src,h,null);return;case"input":At("invalid",o);var G=k=I=E=null,oe=null,Se=null;for(v in h)if(h.hasOwnProperty(v)){var Ce=h[v];if(Ce!=null)switch(v){case"name":E=Ce;break;case"type":I=Ce;break;case"checked":oe=Ce;break;case"defaultChecked":Se=Ce;break;case"value":k=Ce;break;case"defaultValue":G=Ce;break;case"children":case"dangerouslySetInnerHTML":if(Ce!=null)throw Error(r(137,l));break;default:Zt(o,l,v,Ce,h,null)}}ac(o,k,G,oe,Se,I,E,!1);return;case"select":At("invalid",o),v=I=k=null;for(E in h)if(h.hasOwnProperty(E)&&(G=h[E],G!=null))switch(E){case"value":k=G;break;case"defaultValue":I=G;break;case"multiple":v=G;default:Zt(o,l,E,G,h,null)}l=k,h=I,o.multiple=!!v,l!=null?Qt(o,!!v,l,!1):h!=null&&Qt(o,!!v,h,!0);return;case"textarea":At("invalid",o),k=E=v=null;for(I in h)if(h.hasOwnProperty(I)&&(G=h[I],G!=null))switch(I){case"value":v=G;break;case"defaultValue":E=G;break;case"children":k=G;break;case"dangerouslySetInnerHTML":if(G!=null)throw Error(r(91));break;default:Zt(o,l,I,G,h,null)}tl(o,v,E,k);return;case"option":for(oe in h)if(h.hasOwnProperty(oe)&&(v=h[oe],v!=null))switch(oe){case"selected":o.selected=v&&typeof v!="function"&&typeof v!="symbol";break;default:Zt(o,l,oe,v,h,null)}return;case"dialog":At("beforetoggle",o),At("toggle",o),At("cancel",o),At("close",o);break;case"iframe":case"object":At("load",o);break;case"video":case"audio":for(v=0;v<hh.length;v++)At(hh[v],o);break;case"image":At("error",o),At("load",o);break;case"details":At("toggle",o);break;case"embed":case"source":case"link":At("error",o),At("load",o);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(Se in h)if(h.hasOwnProperty(Se)&&(v=h[Se],v!=null))switch(Se){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,l));default:Zt(o,l,Se,v,h,null)}return;default:if(oc(l)){for(Ce in h)h.hasOwnProperty(Ce)&&(v=h[Ce],v!==void 0&&px(o,l,Ce,v,h,void 0));return}}for(G in h)h.hasOwnProperty(G)&&(v=h[G],v!=null&&Zt(o,l,G,v,h,null))}function F8(o,l,h,v){switch(l){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var E=null,k=null,I=null,G=null,oe=null,Se=null,Ce=null;for(ke in h){var Re=h[ke];if(h.hasOwnProperty(ke)&&Re!=null)switch(ke){case"checked":break;case"value":break;case"defaultValue":oe=Re;default:v.hasOwnProperty(ke)||Zt(o,l,ke,null,v,Re)}}for(var Ae in v){var ke=v[Ae];if(Re=h[Ae],v.hasOwnProperty(Ae)&&(ke!=null||Re!=null))switch(Ae){case"type":k=ke;break;case"name":E=ke;break;case"checked":Se=ke;break;case"defaultChecked":Ce=ke;break;case"value":I=ke;break;case"defaultValue":G=ke;break;case"children":case"dangerouslySetInnerHTML":if(ke!=null)throw Error(r(137,l));break;default:ke!==Re&&Zt(o,l,Ae,ke,v,Re)}}kf(o,I,G,oe,Se,Ce,k,E);return;case"select":ke=I=G=Ae=null;for(k in h)if(oe=h[k],h.hasOwnProperty(k)&&oe!=null)switch(k){case"value":break;case"multiple":ke=oe;default:v.hasOwnProperty(k)||Zt(o,l,k,null,v,oe)}for(E in v)if(k=v[E],oe=h[E],v.hasOwnProperty(E)&&(k!=null||oe!=null))switch(E){case"value":Ae=k;break;case"defaultValue":G=k;break;case"multiple":I=k;default:k!==oe&&Zt(o,l,E,k,v,oe)}l=G,h=I,v=ke,Ae!=null?Qt(o,!!h,Ae,!1):!!v!=!!h&&(l!=null?Qt(o,!!h,l,!0):Qt(o,!!h,h?[]:"",!1));return;case"textarea":ke=Ae=null;for(G in h)if(E=h[G],h.hasOwnProperty(G)&&E!=null&&!v.hasOwnProperty(G))switch(G){case"value":break;case"children":break;default:Zt(o,l,G,null,v,E)}for(I in v)if(E=v[I],k=h[I],v.hasOwnProperty(I)&&(E!=null||k!=null))switch(I){case"value":Ae=E;break;case"defaultValue":ke=E;break;case"children":break;case"dangerouslySetInnerHTML":if(E!=null)throw Error(r(91));break;default:E!==k&&Zt(o,l,I,E,v,k)}To(o,Ae,ke);return;case"option":for(var Ze in h)if(Ae=h[Ze],h.hasOwnProperty(Ze)&&Ae!=null&&!v.hasOwnProperty(Ze))switch(Ze){case"selected":o.selected=!1;break;default:Zt(o,l,Ze,null,v,Ae)}for(oe in v)if(Ae=v[oe],ke=h[oe],v.hasOwnProperty(oe)&&Ae!==ke&&(Ae!=null||ke!=null))switch(oe){case"selected":o.selected=Ae&&typeof Ae!="function"&&typeof Ae!="symbol";break;default:Zt(o,l,oe,Ae,v,ke)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var ot in h)Ae=h[ot],h.hasOwnProperty(ot)&&Ae!=null&&!v.hasOwnProperty(ot)&&Zt(o,l,ot,null,v,Ae);for(Se in v)if(Ae=v[Se],ke=h[Se],v.hasOwnProperty(Se)&&Ae!==ke&&(Ae!=null||ke!=null))switch(Se){case"children":case"dangerouslySetInnerHTML":if(Ae!=null)throw Error(r(137,l));break;default:Zt(o,l,Se,Ae,v,ke)}return;default:if(oc(l)){for(var Xt in h)Ae=h[Xt],h.hasOwnProperty(Xt)&&Ae!==void 0&&!v.hasOwnProperty(Xt)&&px(o,l,Xt,void 0,v,Ae);for(Ce in v)Ae=v[Ce],ke=h[Ce],!v.hasOwnProperty(Ce)||Ae===ke||Ae===void 0&&ke===void 0||px(o,l,Ce,Ae,v,ke);return}}for(var ve in h)Ae=h[ve],h.hasOwnProperty(ve)&&Ae!=null&&!v.hasOwnProperty(ve)&&Zt(o,l,ve,null,v,Ae);for(Re in v)Ae=v[Re],ke=h[Re],!v.hasOwnProperty(Re)||Ae===ke||Ae==null&&ke==null||Zt(o,l,Re,Ae,v,ke)}function _j(o){switch(o){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function G8(){if(typeof performance.getEntriesByType=="function"){for(var o=0,l=0,h=performance.getEntriesByType("resource"),v=0;v<h.length;v++){var E=h[v],k=E.transferSize,I=E.initiatorType,G=E.duration;if(k&&G&&_j(I)){for(I=0,G=E.responseEnd,v+=1;v<h.length;v++){var oe=h[v],Se=oe.startTime;if(Se>G)break;var Ce=oe.transferSize,Re=oe.initiatorType;Ce&&_j(Re)&&(oe=oe.responseEnd,I+=Ce*(oe<G?1:(G-Se)/(oe-Se)))}if(--v,l+=8*(k+I)/(E.duration/1e3),o++,10<o)break}}if(0<o)return l/o/1e6}return navigator.connection&&(o=navigator.connection.downlink,typeof o=="number")?o:5}var gx=null,vx=null;function _g(o){return o.nodeType===9?o:o.ownerDocument}function xj(o){switch(o){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function wj(o,l){if(o===0)switch(l){case"svg":return 1;case"math":return 2;default:return 0}return o===1&&l==="foreignObject"?0:o}function yx(o,l){return o==="textarea"||o==="noscript"||typeof l.children=="string"||typeof l.children=="number"||typeof l.children=="bigint"||typeof l.dangerouslySetInnerHTML=="object"&&l.dangerouslySetInnerHTML!==null&&l.dangerouslySetInnerHTML.__html!=null}var bx=null;function q8(){var o=window.event;return o&&o.type==="popstate"?o===bx?!1:(bx=o,!0):(bx=null,!1)}var Sj=typeof setTimeout=="function"?setTimeout:void 0,Y8=typeof clearTimeout=="function"?clearTimeout:void 0,Ej=typeof Promise=="function"?Promise:void 0,K8=typeof queueMicrotask=="function"?queueMicrotask:typeof Ej<"u"?function(o){return Ej.resolve(null).then(o).catch(W8)}:Sj;function W8(o){setTimeout(function(){throw o})}function jl(o){return o==="head"}function Aj(o,l){var h=l,v=0;do{var E=h.nextSibling;if(o.removeChild(h),E&&E.nodeType===8)if(h=E.data,h==="/$"||h==="/&"){if(v===0){o.removeChild(E),hd(l);return}v--}else if(h==="$"||h==="$?"||h==="$~"||h==="$!"||h==="&")v++;else if(h==="html")ph(o.ownerDocument.documentElement);else if(h==="head"){h=o.ownerDocument.head,ph(h);for(var k=h.firstChild;k;){var I=k.nextSibling,G=k.nodeName;k[Va]||G==="SCRIPT"||G==="STYLE"||G==="LINK"&&k.rel.toLowerCase()==="stylesheet"||h.removeChild(k),k=I}}else h==="body"&&ph(o.ownerDocument.body);h=E}while(h);hd(l)}function Tj(o,l){var h=o;o=0;do{var v=h.nextSibling;if(h.nodeType===1?l?(h._stashedDisplay=h.style.display,h.style.display="none"):(h.style.display=h._stashedDisplay||"",h.getAttribute("style")===""&&h.removeAttribute("style")):h.nodeType===3&&(l?(h._stashedText=h.nodeValue,h.nodeValue=""):h.nodeValue=h._stashedText||""),v&&v.nodeType===8)if(h=v.data,h==="/$"){if(o===0)break;o--}else h!=="$"&&h!=="$?"&&h!=="$~"&&h!=="$!"||o++;h=v}while(h)}function _x(o){var l=o.firstChild;for(l&&l.nodeType===10&&(l=l.nextSibling);l;){var h=l;switch(l=l.nextSibling,h.nodeName){case"HTML":case"HEAD":case"BODY":_x(h),el(h);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(h.rel.toLowerCase()==="stylesheet")continue}o.removeChild(h)}}function V8(o,l,h,v){for(;o.nodeType===1;){var E=h;if(o.nodeName.toLowerCase()!==l.toLowerCase()){if(!v&&(o.nodeName!=="INPUT"||o.type!=="hidden"))break}else if(v){if(!o[Va])switch(l){case"meta":if(!o.hasAttribute("itemprop"))break;return o;case"link":if(k=o.getAttribute("rel"),k==="stylesheet"&&o.hasAttribute("data-precedence"))break;if(k!==E.rel||o.getAttribute("href")!==(E.href==null||E.href===""?null:E.href)||o.getAttribute("crossorigin")!==(E.crossOrigin==null?null:E.crossOrigin)||o.getAttribute("title")!==(E.title==null?null:E.title))break;return o;case"style":if(o.hasAttribute("data-precedence"))break;return o;case"script":if(k=o.getAttribute("src"),(k!==(E.src==null?null:E.src)||o.getAttribute("type")!==(E.type==null?null:E.type)||o.getAttribute("crossorigin")!==(E.crossOrigin==null?null:E.crossOrigin))&&k&&o.hasAttribute("async")&&!o.hasAttribute("itemprop"))break;return o;default:return o}}else if(l==="input"&&o.type==="hidden"){var k=E.name==null?null:""+E.name;if(E.type==="hidden"&&o.getAttribute("name")===k)return o}else return o;if(o=ka(o.nextSibling),o===null)break}return null}function Z8(o,l,h){if(l==="")return null;for(;o.nodeType!==3;)if((o.nodeType!==1||o.nodeName!=="INPUT"||o.type!=="hidden")&&!h||(o=ka(o.nextSibling),o===null))return null;return o}function kj(o,l){for(;o.nodeType!==8;)if((o.nodeType!==1||o.nodeName!=="INPUT"||o.type!=="hidden")&&!l||(o=ka(o.nextSibling),o===null))return null;return o}function xx(o){return o.data==="$?"||o.data==="$~"}function wx(o){return o.data==="$!"||o.data==="$?"&&o.ownerDocument.readyState!=="loading"}function X8(o,l){var h=o.ownerDocument;if(o.data==="$~")o._reactRetry=l;else if(o.data!=="$?"||h.readyState!=="loading")l();else{var v=function(){l(),h.removeEventListener("DOMContentLoaded",v)};h.addEventListener("DOMContentLoaded",v),o._reactRetry=v}}function ka(o){for(;o!=null;o=o.nextSibling){var l=o.nodeType;if(l===1||l===3)break;if(l===8){if(l=o.data,l==="$"||l==="$!"||l==="$?"||l==="$~"||l==="&"||l==="F!"||l==="F")break;if(l==="/$"||l==="/&")return null}}return o}var Sx=null;function Oj(o){o=o.nextSibling;for(var l=0;o;){if(o.nodeType===8){var h=o.data;if(h==="/$"||h==="/&"){if(l===0)return ka(o.nextSibling);l--}else h!=="$"&&h!=="$!"&&h!=="$?"&&h!=="$~"&&h!=="&"||l++}o=o.nextSibling}return null}function jj(o){o=o.previousSibling;for(var l=0;o;){if(o.nodeType===8){var h=o.data;if(h==="$"||h==="$!"||h==="$?"||h==="$~"||h==="&"){if(l===0)return o;l--}else h!=="/$"&&h!=="/&"||l++}o=o.previousSibling}return null}function Nj(o,l,h){switch(l=_g(h),o){case"html":if(o=l.documentElement,!o)throw Error(r(452));return o;case"head":if(o=l.head,!o)throw Error(r(453));return o;case"body":if(o=l.body,!o)throw Error(r(454));return o;default:throw Error(r(451))}}function ph(o){for(var l=o.attributes;l.length;)o.removeAttributeNode(l[0]);el(o)}var Oa=new Map,Cj=new Set;function xg(o){return typeof o.getRootNode=="function"?o.getRootNode():o.nodeType===9?o:o.ownerDocument}var ps=le.d;le.d={f:J8,r:Q8,D:eU,C:tU,L:nU,m:rU,X:aU,S:iU,M:oU};function J8(){var o=ps.f(),l=fg();return o||l}function Q8(o){var l=pa(o);l!==null&&l.tag===5&&l.type==="form"?Wk(l):ps.r(o)}var ud=typeof document>"u"?null:document;function Mj(o,l,h){var v=ud;if(v&&typeof l=="string"&&l){var E=hn(l);E='link[rel="'+o+'"][href="'+E+'"]',typeof h=="string"&&(E+='[crossorigin="'+h+'"]'),Cj.has(E)||(Cj.add(E),o={rel:o,crossOrigin:h,href:l},v.querySelector(E)===null&&(l=v.createElement("link"),Dr(l,"link",o),Pn(l),v.head.appendChild(l)))}}function eU(o){ps.D(o),Mj("dns-prefetch",o,null)}function tU(o,l){ps.C(o,l),Mj("preconnect",o,l)}function nU(o,l,h){ps.L(o,l,h);var v=ud;if(v&&o&&l){var E='link[rel="preload"][as="'+hn(l)+'"]';l==="image"&&h&&h.imageSrcSet?(E+='[imagesrcset="'+hn(h.imageSrcSet)+'"]',typeof h.imageSizes=="string"&&(E+='[imagesizes="'+hn(h.imageSizes)+'"]')):E+='[href="'+hn(o)+'"]';var k=E;switch(l){case"style":k=dd(o);break;case"script":k=fd(o)}Oa.has(k)||(o=p({rel:"preload",href:l==="image"&&h&&h.imageSrcSet?void 0:o,as:l},h),Oa.set(k,o),v.querySelector(E)!==null||l==="style"&&v.querySelector(gh(k))||l==="script"&&v.querySelector(vh(k))||(l=v.createElement("link"),Dr(l,"link",o),Pn(l),v.head.appendChild(l)))}}function rU(o,l){ps.m(o,l);var h=ud;if(h&&o){var v=l&&typeof l.as=="string"?l.as:"script",E='link[rel="modulepreload"][as="'+hn(v)+'"][href="'+hn(o)+'"]',k=E;switch(v){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":k=fd(o)}if(!Oa.has(k)&&(o=p({rel:"modulepreload",href:o},l),Oa.set(k,o),h.querySelector(E)===null)){switch(v){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(h.querySelector(vh(k)))return}v=h.createElement("link"),Dr(v,"link",o),Pn(v),h.head.appendChild(v)}}}function iU(o,l,h){ps.S(o,l,h);var v=ud;if(v&&o){var E=Eo(v).hoistableStyles,k=dd(o);l=l||"default";var I=E.get(k);if(!I){var G={loading:0,preload:null};if(I=v.querySelector(gh(k)))G.loading=5;else{o=p({rel:"stylesheet",href:o,"data-precedence":l},h),(h=Oa.get(k))&&Ex(o,h);var oe=I=v.createElement("link");Pn(oe),Dr(oe,"link",o),oe._p=new Promise(function(Se,Ce){oe.onload=Se,oe.onerror=Ce}),oe.addEventListener("load",function(){G.loading|=1}),oe.addEventListener("error",function(){G.loading|=2}),G.loading|=4,wg(I,l,v)}I={type:"stylesheet",instance:I,count:1,state:G},E.set(k,I)}}}function aU(o,l){ps.X(o,l);var h=ud;if(h&&o){var v=Eo(h).hoistableScripts,E=fd(o),k=v.get(E);k||(k=h.querySelector(vh(E)),k||(o=p({src:o,async:!0},l),(l=Oa.get(E))&&Ax(o,l),k=h.createElement("script"),Pn(k),Dr(k,"link",o),h.head.appendChild(k)),k={type:"script",instance:k,count:1,state:null},v.set(E,k))}}function oU(o,l){ps.M(o,l);var h=ud;if(h&&o){var v=Eo(h).hoistableScripts,E=fd(o),k=v.get(E);k||(k=h.querySelector(vh(E)),k||(o=p({src:o,async:!0,type:"module"},l),(l=Oa.get(E))&&Ax(o,l),k=h.createElement("script"),Pn(k),Dr(k,"link",o),h.head.appendChild(k)),k={type:"script",instance:k,count:1,state:null},v.set(E,k))}}function Dj(o,l,h,v){var E=(E=W.current)?xg(E):null;if(!E)throw Error(r(446));switch(o){case"meta":case"title":return null;case"style":return typeof h.precedence=="string"&&typeof h.href=="string"?(l=dd(h.href),h=Eo(E).hoistableStyles,v=h.get(l),v||(v={type:"style",instance:null,count:0,state:null},h.set(l,v)),v):{type:"void",instance:null,count:0,state:null};case"link":if(h.rel==="stylesheet"&&typeof h.href=="string"&&typeof h.precedence=="string"){o=dd(h.href);var k=Eo(E).hoistableStyles,I=k.get(o);if(I||(E=E.ownerDocument||E,I={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},k.set(o,I),(k=E.querySelector(gh(o)))&&!k._p&&(I.instance=k,I.state.loading=5),Oa.has(o)||(h={rel:"preload",as:"style",href:h.href,crossOrigin:h.crossOrigin,integrity:h.integrity,media:h.media,hrefLang:h.hrefLang,referrerPolicy:h.referrerPolicy},Oa.set(o,h),k||sU(E,o,h,I.state))),l&&v===null)throw Error(r(528,""));return I}if(l&&v!==null)throw Error(r(529,""));return null;case"script":return l=h.async,h=h.src,typeof h=="string"&&l&&typeof l!="function"&&typeof l!="symbol"?(l=fd(h),h=Eo(E).hoistableScripts,v=h.get(l),v||(v={type:"script",instance:null,count:0,state:null},h.set(l,v)),v):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,o))}}function dd(o){return'href="'+hn(o)+'"'}function gh(o){return'link[rel="stylesheet"]['+o+"]"}function Pj(o){return p({},o,{"data-precedence":o.precedence,precedence:null})}function sU(o,l,h,v){o.querySelector('link[rel="preload"][as="style"]['+l+"]")?v.loading=1:(l=o.createElement("link"),v.preload=l,l.addEventListener("load",function(){return v.loading|=1}),l.addEventListener("error",function(){return v.loading|=2}),Dr(l,"link",h),Pn(l),o.head.appendChild(l))}function fd(o){return'[src="'+hn(o)+'"]'}function vh(o){return"script[async]"+o}function Rj(o,l,h){if(l.count++,l.instance===null)switch(l.type){case"style":var v=o.querySelector('style[data-href~="'+hn(h.href)+'"]');if(v)return l.instance=v,Pn(v),v;var E=p({},h,{"data-href":h.href,"data-precedence":h.precedence,href:null,precedence:null});return v=(o.ownerDocument||o).createElement("style"),Pn(v),Dr(v,"style",E),wg(v,h.precedence,o),l.instance=v;case"stylesheet":E=dd(h.href);var k=o.querySelector(gh(E));if(k)return l.state.loading|=4,l.instance=k,Pn(k),k;v=Pj(h),(E=Oa.get(E))&&Ex(v,E),k=(o.ownerDocument||o).createElement("link"),Pn(k);var I=k;return I._p=new Promise(function(G,oe){I.onload=G,I.onerror=oe}),Dr(k,"link",v),l.state.loading|=4,wg(k,h.precedence,o),l.instance=k;case"script":return k=fd(h.src),(E=o.querySelector(vh(k)))?(l.instance=E,Pn(E),E):(v=h,(E=Oa.get(k))&&(v=p({},h),Ax(v,E)),o=o.ownerDocument||o,E=o.createElement("script"),Pn(E),Dr(E,"link",v),o.head.appendChild(E),l.instance=E);case"void":return null;default:throw Error(r(443,l.type))}else l.type==="stylesheet"&&(l.state.loading&4)===0&&(v=l.instance,l.state.loading|=4,wg(v,h.precedence,o));return l.instance}function wg(o,l,h){for(var v=h.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),E=v.length?v[v.length-1]:null,k=E,I=0;I<v.length;I++){var G=v[I];if(G.dataset.precedence===l)k=G;else if(k!==E)break}k?k.parentNode.insertBefore(o,k.nextSibling):(l=h.nodeType===9?h.head:h,l.insertBefore(o,l.firstChild))}function Ex(o,l){o.crossOrigin==null&&(o.crossOrigin=l.crossOrigin),o.referrerPolicy==null&&(o.referrerPolicy=l.referrerPolicy),o.title==null&&(o.title=l.title)}function Ax(o,l){o.crossOrigin==null&&(o.crossOrigin=l.crossOrigin),o.referrerPolicy==null&&(o.referrerPolicy=l.referrerPolicy),o.integrity==null&&(o.integrity=l.integrity)}var Sg=null;function Lj(o,l,h){if(Sg===null){var v=new Map,E=Sg=new Map;E.set(h,v)}else E=Sg,v=E.get(h),v||(v=new Map,E.set(h,v));if(v.has(o))return v;for(v.set(o,null),h=h.getElementsByTagName(o),E=0;E<h.length;E++){var k=h[E];if(!(k[Va]||k[kn]||o==="link"&&k.getAttribute("rel")==="stylesheet")&&k.namespaceURI!=="http://www.w3.org/2000/svg"){var I=k.getAttribute(l)||"";I=o+I;var G=v.get(I);G?G.push(k):v.set(I,[k])}}return v}function Ij(o,l,h){o=o.ownerDocument||o,o.head.insertBefore(h,l==="title"?o.querySelector("head > title"):null)}function lU(o,l,h){if(h===1||l.itemProp!=null)return!1;switch(o){case"meta":case"title":return!0;case"style":if(typeof l.precedence!="string"||typeof l.href!="string"||l.href==="")break;return!0;case"link":if(typeof l.rel!="string"||typeof l.href!="string"||l.href===""||l.onLoad||l.onError)break;switch(l.rel){case"stylesheet":return o=l.disabled,typeof l.precedence=="string"&&o==null;default:return!0}case"script":if(l.async&&typeof l.async!="function"&&typeof l.async!="symbol"&&!l.onLoad&&!l.onError&&l.src&&typeof l.src=="string")return!0}return!1}function $j(o){return!(o.type==="stylesheet"&&(o.state.loading&3)===0)}function cU(o,l,h,v){if(h.type==="stylesheet"&&(typeof v.media!="string"||matchMedia(v.media).matches!==!1)&&(h.state.loading&4)===0){if(h.instance===null){var E=dd(v.href),k=l.querySelector(gh(E));if(k){l=k._p,l!==null&&typeof l=="object"&&typeof l.then=="function"&&(o.count++,o=Eg.bind(o),l.then(o,o)),h.state.loading|=4,h.instance=k,Pn(k);return}k=l.ownerDocument||l,v=Pj(v),(E=Oa.get(E))&&Ex(v,E),k=k.createElement("link"),Pn(k);var I=k;I._p=new Promise(function(G,oe){I.onload=G,I.onerror=oe}),Dr(k,"link",v),h.instance=k}o.stylesheets===null&&(o.stylesheets=new Map),o.stylesheets.set(h,l),(l=h.state.preload)&&(h.state.loading&3)===0&&(o.count++,h=Eg.bind(o),l.addEventListener("load",h),l.addEventListener("error",h))}}var Tx=0;function uU(o,l){return o.stylesheets&&o.count===0&&Tg(o,o.stylesheets),0<o.count||0<o.imgCount?function(h){var v=setTimeout(function(){if(o.stylesheets&&Tg(o,o.stylesheets),o.unsuspend){var k=o.unsuspend;o.unsuspend=null,k()}},6e4+l);0<o.imgBytes&&Tx===0&&(Tx=62500*G8());var E=setTimeout(function(){if(o.waitingForImages=!1,o.count===0&&(o.stylesheets&&Tg(o,o.stylesheets),o.unsuspend)){var k=o.unsuspend;o.unsuspend=null,k()}},(o.imgBytes>Tx?50:800)+l);return o.unsuspend=h,function(){o.unsuspend=null,clearTimeout(v),clearTimeout(E)}}:null}function Eg(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Tg(this,this.stylesheets);else if(this.unsuspend){var o=this.unsuspend;this.unsuspend=null,o()}}}var Ag=null;function Tg(o,l){o.stylesheets=null,o.unsuspend!==null&&(o.count++,Ag=new Map,l.forEach(dU,o),Ag=null,Eg.call(o))}function dU(o,l){if(!(l.state.loading&4)){var h=Ag.get(o);if(h)var v=h.get(null);else{h=new Map,Ag.set(o,h);for(var E=o.querySelectorAll("link[data-precedence],style[data-precedence]"),k=0;k<E.length;k++){var I=E[k];(I.nodeName==="LINK"||I.getAttribute("media")!=="not all")&&(h.set(I.dataset.precedence,I),v=I)}v&&h.set(null,v)}E=l.instance,I=E.getAttribute("data-precedence"),k=h.get(I)||v,k===v&&h.set(null,E),h.set(I,E),this.count++,v=Eg.bind(this),E.addEventListener("load",v),E.addEventListener("error",v),k?k.parentNode.insertBefore(E,k.nextSibling):(o=o.nodeType===9?o.head:o,o.insertBefore(E,o.firstChild)),l.state.loading|=4}}var yh={$$typeof:O,Provider:null,Consumer:null,_currentValue:ae,_currentValue2:ae,_threadCount:0};function fU(o,l,h,v,E,k,I,G,oe){this.tag=1,this.containerInfo=o,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=ma(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ma(0),this.hiddenUpdates=ma(null),this.identifierPrefix=v,this.onUncaughtError=E,this.onCaughtError=k,this.onRecoverableError=I,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=oe,this.incompleteTransitions=new Map}function Bj(o,l,h,v,E,k,I,G,oe,Se,Ce,Re){return o=new fU(o,l,h,I,oe,Se,Ce,Re,G),l=1,k===!0&&(l|=24),k=Kr(3,null,null,l),o.current=k,k.stateNode=o,l=a_(),l.refCount++,o.pooledCache=l,l.refCount++,k.memoizedState={element:v,isDehydrated:h,cache:l},c_(k),o}function zj(o){return o?(o=ts,o):ts}function Uj(o,l,h,v,E,k){E=zj(E),v.context===null?v.context=E:v.pendingContext=E,v=yl(l),v.payload={element:h},k=k===void 0?null:k,k!==null&&(v.callback=k),h=bl(o,v,l),h!==null&&(Oi(h,o,l),Zf(h,o,l))}function Hj(o,l){if(o=o.memoizedState,o!==null&&o.dehydrated!==null){var h=o.retryLane;o.retryLane=h!==0&&h<l?h:l}}function kx(o,l){Hj(o,l),(o=o.alternate)&&Hj(o,l)}function Fj(o){if(o.tag===13||o.tag===31){var l=Ea(o,67108864);l!==null&&Oi(l,o,67108864),kx(o,67108864)}}function Gj(o){if(o.tag===13||o.tag===31){var l=Wi();l=Vn(l);var h=Ea(o,l);h!==null&&Oi(h,o,l),kx(o,l)}}var kg=!0;function hU(o,l,h,v){var E=J.T;J.T=null;var k=le.p;try{le.p=2,Ox(o,l,h,v)}finally{le.p=k,J.T=E}}function mU(o,l,h,v){var E=J.T;J.T=null;var k=le.p;try{le.p=8,Ox(o,l,h,v)}finally{le.p=k,J.T=E}}function Ox(o,l,h,v){if(kg){var E=jx(v);if(E===null)mx(o,l,v,Og,h),Yj(o,v);else if(gU(E,o,l,h,v))v.stopPropagation();else if(Yj(o,v),l&4&&-1<pU.indexOf(o)){for(;E!==null;){var k=pa(E);if(k!==null)switch(k.tag){case 3:if(k=k.stateNode,k.current.memoizedState.isDehydrated){var I=Gr(k.pendingLanes);if(I!==0){var G=k;for(G.pendingLanes|=2,G.entangledLanes|=2;I;){var oe=1<<31-_n(I);G.entanglements[1]|=oe,I&=~oe}$o(k),(Bt&6)===0&&(ug=ze()+500,fh(0))}}break;case 31:case 13:G=Ea(k,2),G!==null&&Oi(G,k,2),fg(),kx(k,2)}if(k=jx(v),k===null&&mx(o,l,v,Og,h),k===E)break;E=k}E!==null&&v.stopPropagation()}else mx(o,l,v,null,h)}}function jx(o){return o=sc(o),Nx(o)}var Og=null;function Nx(o){if(Og=null,o=Bi(o),o!==null){var l=a(o);if(l===null)o=null;else{var h=l.tag;if(h===13){if(o=s(l),o!==null)return o;o=null}else if(h===31){if(o=c(l),o!==null)return o;o=null}else if(h===3){if(l.stateNode.current.memoizedState.isDehydrated)return l.tag===3?l.stateNode.containerInfo:null;o=null}else l!==o&&(o=null)}}return Og=o,null}function qj(o){switch(o){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(He()){case dt:return 2;case yt:return 8;case qt:case yn:return 32;case bn:return 268435456;default:return 32}default:return 32}}var Cx=!1,Nl=null,Cl=null,Ml=null,bh=new Map,_h=new Map,Dl=[],pU="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Yj(o,l){switch(o){case"focusin":case"focusout":Nl=null;break;case"dragenter":case"dragleave":Cl=null;break;case"mouseover":case"mouseout":Ml=null;break;case"pointerover":case"pointerout":bh.delete(l.pointerId);break;case"gotpointercapture":case"lostpointercapture":_h.delete(l.pointerId)}}function xh(o,l,h,v,E,k){return o===null||o.nativeEvent!==k?(o={blockedOn:l,domEventName:h,eventSystemFlags:v,nativeEvent:k,targetContainers:[E]},l!==null&&(l=pa(l),l!==null&&Fj(l)),o):(o.eventSystemFlags|=v,l=o.targetContainers,E!==null&&l.indexOf(E)===-1&&l.push(E),o)}function gU(o,l,h,v,E){switch(l){case"focusin":return Nl=xh(Nl,o,l,h,v,E),!0;case"dragenter":return Cl=xh(Cl,o,l,h,v,E),!0;case"mouseover":return Ml=xh(Ml,o,l,h,v,E),!0;case"pointerover":var k=E.pointerId;return bh.set(k,xh(bh.get(k)||null,o,l,h,v,E)),!0;case"gotpointercapture":return k=E.pointerId,_h.set(k,xh(_h.get(k)||null,o,l,h,v,E)),!0}return!1}function Kj(o){var l=Bi(o.target);if(l!==null){var h=a(l);if(h!==null){if(l=h.tag,l===13){if(l=s(h),l!==null){o.blockedOn=l,Qs(o.priority,function(){Gj(h)});return}}else if(l===31){if(l=c(h),l!==null){o.blockedOn=l,Qs(o.priority,function(){Gj(h)});return}}else if(l===3&&h.stateNode.current.memoizedState.isDehydrated){o.blockedOn=h.tag===3?h.stateNode.containerInfo:null;return}}}o.blockedOn=null}function jg(o){if(o.blockedOn!==null)return!1;for(var l=o.targetContainers;0<l.length;){var h=jx(o.nativeEvent);if(h===null){h=o.nativeEvent;var v=new h.constructor(h.type,h);Cu=v,h.target.dispatchEvent(v),Cu=null}else return l=pa(h),l!==null&&Fj(l),o.blockedOn=h,!1;l.shift()}return!0}function Wj(o,l,h){jg(o)&&h.delete(l)}function vU(){Cx=!1,Nl!==null&&jg(Nl)&&(Nl=null),Cl!==null&&jg(Cl)&&(Cl=null),Ml!==null&&jg(Ml)&&(Ml=null),bh.forEach(Wj),_h.forEach(Wj)}function Ng(o,l){o.blockedOn===l&&(o.blockedOn=null,Cx||(Cx=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,vU)))}var Cg=null;function Vj(o){Cg!==o&&(Cg=o,e.unstable_scheduleCallback(e.unstable_NormalPriority,function(){Cg===o&&(Cg=null);for(var l=0;l<o.length;l+=3){var h=o[l],v=o[l+1],E=o[l+2];if(typeof v!="function"){if(Nx(v||h)===null)continue;break}var k=pa(h);k!==null&&(o.splice(l,3),l-=3,j_(k,{pending:!0,data:E,method:h.method,action:v},v,E))}}))}function hd(o){function l(oe){return Ng(oe,o)}Nl!==null&&Ng(Nl,o),Cl!==null&&Ng(Cl,o),Ml!==null&&Ng(Ml,o),bh.forEach(l),_h.forEach(l);for(var h=0;h<Dl.length;h++){var v=Dl[h];v.blockedOn===o&&(v.blockedOn=null)}for(;0<Dl.length&&(h=Dl[0],h.blockedOn===null);)Kj(h),h.blockedOn===null&&Dl.shift();if(h=(o.ownerDocument||o).$$reactFormReplay,h!=null)for(v=0;v<h.length;v+=3){var E=h[v],k=h[v+1],I=E[Dn]||null;if(typeof k=="function")I||Vj(h);else if(I){var G=null;if(k&&k.hasAttribute("formAction")){if(E=k,I=k[Dn]||null)G=I.formAction;else if(Nx(E)!==null)continue}else G=I.action;typeof G=="function"?h[v+1]=G:(h.splice(v,3),v-=3),Vj(h)}}}function Zj(){function o(k){k.canIntercept&&k.info==="react-transition"&&k.intercept({handler:function(){return new Promise(function(I){return E=I})},focusReset:"manual",scroll:"manual"})}function l(){E!==null&&(E(),E=null),v||setTimeout(h,20)}function h(){if(!v&&!navigation.transition){var k=navigation.currentEntry;k&&k.url!=null&&navigation.navigate(k.url,{state:k.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var v=!1,E=null;return navigation.addEventListener("navigate",o),navigation.addEventListener("navigatesuccess",l),navigation.addEventListener("navigateerror",l),setTimeout(h,100),function(){v=!0,navigation.removeEventListener("navigate",o),navigation.removeEventListener("navigatesuccess",l),navigation.removeEventListener("navigateerror",l),E!==null&&(E(),E=null)}}}function Mx(o){this._internalRoot=o}Mg.prototype.render=Mx.prototype.render=function(o){var l=this._internalRoot;if(l===null)throw Error(r(409));var h=l.current,v=Wi();Uj(h,v,o,l,null,null)},Mg.prototype.unmount=Mx.prototype.unmount=function(){var o=this._internalRoot;if(o!==null){this._internalRoot=null;var l=o.containerInfo;Uj(o.current,2,null,o,null,null),fg(),l[mr]=null}};function Mg(o){this._internalRoot=o}Mg.prototype.unstable_scheduleHydration=function(o){if(o){var l=Js();o={blockedOn:null,target:o,priority:l};for(var h=0;h<Dl.length&&l!==0&&l<Dl[h].priority;h++);Dl.splice(h,0,o),h===0&&Kj(o)}};var Xj=t.version;if(Xj!=="19.2.1")throw Error(r(527,Xj,"19.2.1"));le.findDOMNode=function(o){var l=o._reactInternals;if(l===void 0)throw typeof o.render=="function"?Error(r(188)):(o=Object.keys(o).join(","),Error(r(268,o)));return o=f(l),o=o!==null?m(o):null,o=o===null?null:o.stateNode,o};var yU={bundleType:0,version:"19.2.1",rendererPackageName:"react-dom",currentDispatcherRef:J,reconcilerVersion:"19.2.1"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Dg=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Dg.isDisabled&&Dg.supportsFiber)try{Wn=Dg.inject(yU),Ut=Dg}catch{}}return Sh.createRoot=function(o,l){if(!i(o))throw Error(r(299));var h=!1,v="",E=iO,k=aO,I=oO;return l!=null&&(l.unstable_strictMode===!0&&(h=!0),l.identifierPrefix!==void 0&&(v=l.identifierPrefix),l.onUncaughtError!==void 0&&(E=l.onUncaughtError),l.onCaughtError!==void 0&&(k=l.onCaughtError),l.onRecoverableError!==void 0&&(I=l.onRecoverableError)),l=Bj(o,1,!1,null,null,h,v,null,E,k,I,Zj),o[mr]=l.current,hx(o),new Mx(l)},Sh.hydrateRoot=function(o,l,h){if(!i(o))throw Error(r(299));var v=!1,E="",k=iO,I=aO,G=oO,oe=null;return h!=null&&(h.unstable_strictMode===!0&&(v=!0),h.identifierPrefix!==void 0&&(E=h.identifierPrefix),h.onUncaughtError!==void 0&&(k=h.onUncaughtError),h.onCaughtError!==void 0&&(I=h.onCaughtError),h.onRecoverableError!==void 0&&(G=h.onRecoverableError),h.formState!==void 0&&(oe=h.formState)),l=Bj(o,1,!0,l,h??null,v,E,oe,k,I,G,Zj),l.context=zj(null),h=l.current,v=Wi(),v=Vn(v),E=yl(v),E.callback=null,bl(h,E,v),h=v,l.current.lanes=h,vi(l,h),$o(l),o[mr]=l.current,hx(o),new Mg(l)},Sh.version="19.2.1",Sh}var sN;function OU(){if(sN)return Rx.exports;sN=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),Rx.exports=kU(),Rx.exports}var jU=OU();/**
 * react-router v7.10.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var lN="popstate";function NU(e={}){function t(i,a){let{pathname:s="/",search:c="",hash:d=""}=xu(i.location.hash.substring(1));return!s.startsWith("/")&&!s.startsWith(".")&&(s="/"+s),ES("",{pathname:s,search:c,hash:d},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function n(i,a){let s=i.document.querySelector("base"),c="";if(s&&s.getAttribute("href")){let d=i.location.href,f=d.indexOf("#");c=f===-1?d:d.slice(0,f)}return c+"#"+(typeof a=="string"?a:im(a))}function r(i,a){za(i.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(a)})`)}return MU(t,n,r,e)}function Cn(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function za(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function CU(){return Math.random().toString(36).substring(2,10)}function cN(e,t){return{usr:e.state,key:e.key,idx:t}}function ES(e,t,n=null,r){return{pathname:typeof e=="string"?e:e.pathname,search:"",hash:"",...typeof t=="string"?xu(t):t,state:n,key:t&&t.key||r||CU()}}function im({pathname:e="/",search:t="",hash:n=""}){return t&&t!=="?"&&(e+=t.charAt(0)==="?"?t:"?"+t),n&&n!=="#"&&(e+=n.charAt(0)==="#"?n:"#"+n),e}function xu(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substring(n),e=e.substring(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substring(r),e=e.substring(0,r)),e&&(t.pathname=e)}return t}function MU(e,t,n,r={}){let{window:i=document.defaultView,v5Compat:a=!1}=r,s=i.history,c="POP",d=null,f=m();f==null&&(f=0,s.replaceState({...s.state,idx:f},""));function m(){return(s.state||{idx:null}).idx}function p(){c="POP";let S=m(),j=S==null?null:S-f;f=S,d&&d({action:c,location:T.location,delta:j})}function y(S,j){c="PUSH";let D=ES(T.location,S,j);n&&n(D,S),f=m()+1;let O=cN(D,f),M=T.createHref(D);try{s.pushState(O,"",M)}catch(N){if(N instanceof DOMException&&N.name==="DataCloneError")throw N;i.location.assign(M)}a&&d&&d({action:c,location:T.location,delta:1})}function b(S,j){c="REPLACE";let D=ES(T.location,S,j);n&&n(D,S),f=m();let O=cN(D,f),M=T.createHref(D);s.replaceState(O,"",M),a&&d&&d({action:c,location:T.location,delta:0})}function x(S){return DU(S)}let T={get action(){return c},get location(){return e(i,s)},listen(S){if(d)throw new Error("A history only accepts one active listener");return i.addEventListener(lN,p),d=S,()=>{i.removeEventListener(lN,p),d=null}},createHref(S){return t(i,S)},createURL:x,encodeLocation(S){let j=x(S);return{pathname:j.pathname,search:j.search,hash:j.hash}},push:y,replace:b,go(S){return s.go(S)}};return T}function DU(e,t=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),Cn(n,"No window.location.(origin|href) available to create URL");let r=typeof e=="string"?e:im(e);return r=r.replace(/ $/,"%20"),!t&&r.startsWith("//")&&(r=n+r),new URL(r,n)}function M3(e,t,n="/"){return PU(e,t,n,!1)}function PU(e,t,n,r){let i=typeof t=="string"?xu(t):t,a=Ms(i.pathname||"/",n);if(a==null)return null;let s=D3(e);RU(s);let c=null;for(let d=0;c==null&&d<s.length;++d){let f=YU(a);c=GU(s[d],f,r)}return c}function D3(e,t=[],n=[],r="",i=!1){let a=(s,c,d=i,f)=>{let m={relativePath:f===void 0?s.path||"":f,caseSensitive:s.caseSensitive===!0,childrenIndex:c,route:s};if(m.relativePath.startsWith("/")){if(!m.relativePath.startsWith(r)&&d)return;Cn(m.relativePath.startsWith(r),`Absolute route path "${m.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),m.relativePath=m.relativePath.slice(r.length)}let p=js([r,m.relativePath]),y=n.concat(m);s.children&&s.children.length>0&&(Cn(s.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${p}".`),D3(s.children,t,y,p,d)),!(s.path==null&&!s.index)&&t.push({path:p,score:HU(p,s.index),routesMeta:y})};return e.forEach((s,c)=>{if(s.path===""||!s.path?.includes("?"))a(s,c);else for(let d of P3(s.path))a(s,c,!0,d)}),t}function P3(e){let t=e.split("/");if(t.length===0)return[];let[n,...r]=t,i=n.endsWith("?"),a=n.replace(/\?$/,"");if(r.length===0)return i?[a,""]:[a];let s=P3(r.join("/")),c=[];return c.push(...s.map(d=>d===""?a:[a,d].join("/"))),i&&c.push(...s),c.map(d=>e.startsWith("/")&&d===""?"/":d)}function RU(e){e.sort((t,n)=>t.score!==n.score?n.score-t.score:FU(t.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}var LU=/^:[\w-]+$/,IU=3,$U=2,BU=1,zU=10,UU=-2,uN=e=>e==="*";function HU(e,t){let n=e.split("/"),r=n.length;return n.some(uN)&&(r+=UU),t&&(r+=$U),n.filter(i=>!uN(i)).reduce((i,a)=>i+(LU.test(a)?IU:a===""?BU:zU),r)}function FU(e,t){return e.length===t.length&&e.slice(0,-1).every((r,i)=>r===t[i])?e[e.length-1]-t[t.length-1]:0}function GU(e,t,n=!1){let{routesMeta:r}=e,i={},a="/",s=[];for(let c=0;c<r.length;++c){let d=r[c],f=c===r.length-1,m=a==="/"?t:t.slice(a.length)||"/",p=dv({path:d.relativePath,caseSensitive:d.caseSensitive,end:f},m),y=d.route;if(!p&&f&&n&&!r[r.length-1].route.index&&(p=dv({path:d.relativePath,caseSensitive:d.caseSensitive,end:!1},m)),!p)return null;Object.assign(i,p.params),s.push({params:i,pathname:js([a,p.pathname]),pathnameBase:XU(js([a,p.pathnameBase])),route:y}),p.pathnameBase!=="/"&&(a=js([a,p.pathnameBase]))}return s}function dv(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=qU(e.path,e.caseSensitive,e.end),i=t.match(n);if(!i)return null;let a=i[0],s=a.replace(/(.)\/+$/,"$1"),c=i.slice(1);return{params:r.reduce((f,{paramName:m,isOptional:p},y)=>{if(m==="*"){let x=c[y]||"";s=a.slice(0,a.length-x.length).replace(/(.)\/+$/,"$1")}const b=c[y];return p&&!b?f[m]=void 0:f[m]=(b||"").replace(/%2F/g,"/"),f},{}),pathname:a,pathnameBase:s,pattern:e}}function qU(e,t=!1,n=!0){za(e==="*"||!e.endsWith("*")||e.endsWith("/*"),`Route path "${e}" will be treated as if it were "${e.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${e.replace(/\*$/,"/*")}".`);let r=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(s,c,d)=>(r.push({paramName:c,isOptional:d!=null}),d?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return e.endsWith("*")?(r.push({paramName:"*"}),i+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":e!==""&&e!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,t?void 0:"i"),r]}function YU(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return za(!1,`The URL path "${e}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),e}}function Ms(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&r!=="/"?null:e.slice(n)||"/"}var KU=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,WU=e=>KU.test(e);function VU(e,t="/"){let{pathname:n,search:r="",hash:i=""}=typeof e=="string"?xu(e):e,a;if(n)if(WU(n))a=n;else{if(n.includes("//")){let s=n;n=n.replace(/\/\/+/g,"/"),za(!1,`Pathnames cannot have embedded double slashes - normalizing ${s} -> ${n}`)}n.startsWith("/")?a=dN(n.substring(1),"/"):a=dN(n,t)}else a=t;return{pathname:a,search:JU(r),hash:QU(i)}}function dN(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function Bx(e,t,n,r){return`Cannot include a '${e}' character in a manually specified \`to.${t}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function ZU(e){return e.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function R3(e){let t=ZU(e);return t.map((n,r)=>r===t.length-1?n.pathname:n.pathnameBase)}function L3(e,t,n,r=!1){let i;typeof e=="string"?i=xu(e):(i={...e},Cn(!i.pathname||!i.pathname.includes("?"),Bx("?","pathname","search",i)),Cn(!i.pathname||!i.pathname.includes("#"),Bx("#","pathname","hash",i)),Cn(!i.search||!i.search.includes("#"),Bx("#","search","hash",i)));let a=e===""||i.pathname==="",s=a?"/":i.pathname,c;if(s==null)c=n;else{let p=t.length-1;if(!r&&s.startsWith("..")){let y=s.split("/");for(;y[0]==="..";)y.shift(),p-=1;i.pathname=y.join("/")}c=p>=0?t[p]:"/"}let d=VU(i,c),f=s&&s!=="/"&&s.endsWith("/"),m=(a||s===".")&&n.endsWith("/");return!d.pathname.endsWith("/")&&(f||m)&&(d.pathname+="/"),d}var js=e=>e.join("/").replace(/\/\/+/g,"/"),XU=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),JU=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,QU=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function eH(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}function tH(e){return e.map(t=>t.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var I3=["POST","PUT","PATCH","DELETE"];new Set(I3);var nH=["GET",...I3];new Set(nH);var lf=A.createContext(null);lf.displayName="DataRouter";var Oy=A.createContext(null);Oy.displayName="DataRouterState";A.createContext(!1);var $3=A.createContext({isTransitioning:!1});$3.displayName="ViewTransition";var rH=A.createContext(new Map);rH.displayName="Fetchers";var iH=A.createContext(null);iH.displayName="Await";var So=A.createContext(null);So.displayName="Navigation";var Lm=A.createContext(null);Lm.displayName="Location";var zs=A.createContext({outlet:null,matches:[],isDataRoute:!1});zs.displayName="Route";var d2=A.createContext(null);d2.displayName="RouteError";function aH(e,{relative:t}={}){Cn(Im(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:r}=A.useContext(So),{hash:i,pathname:a,search:s}=$m(e,{relative:t}),c=a;return n!=="/"&&(c=a==="/"?n:js([n,a])),r.createHref({pathname:c,search:s,hash:i})}function Im(){return A.useContext(Lm)!=null}function Zl(){return Cn(Im(),"useLocation() may be used only in the context of a <Router> component."),A.useContext(Lm).location}var B3="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function z3(e){A.useContext(So).static||A.useLayoutEffect(e)}function oH(){let{isDataRoute:e}=A.useContext(zs);return e?bH():sH()}function sH(){Cn(Im(),"useNavigate() may be used only in the context of a <Router> component.");let e=A.useContext(lf),{basename:t,navigator:n}=A.useContext(So),{matches:r}=A.useContext(zs),{pathname:i}=Zl(),a=JSON.stringify(R3(r)),s=A.useRef(!1);return z3(()=>{s.current=!0}),A.useCallback((d,f={})=>{if(za(s.current,B3),!s.current)return;if(typeof d=="number"){n.go(d);return}let m=L3(d,JSON.parse(a),i,f.relative==="path");e==null&&t!=="/"&&(m.pathname=m.pathname==="/"?t:js([t,m.pathname])),(f.replace?n.replace:n.push)(m,f.state,f)},[t,n,a,i,e])}A.createContext(null);function $m(e,{relative:t}={}){let{matches:n}=A.useContext(zs),{pathname:r}=Zl(),i=JSON.stringify(R3(n));return A.useMemo(()=>L3(e,JSON.parse(i),r,t==="path"),[e,i,r,t])}function lH(e,t){return U3(e,t)}function U3(e,t,n,r,i){Cn(Im(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:a}=A.useContext(So),{matches:s}=A.useContext(zs),c=s[s.length-1],d=c?c.params:{},f=c?c.pathname:"/",m=c?c.pathnameBase:"/",p=c&&c.route;{let D=p&&p.path||"";H3(f,!p||D.endsWith("*")||D.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${f}" (under <Route path="${D}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${D}"> to <Route path="${D==="/"?"*":`${D}/*`}">.`)}let y=Zl(),b;if(t){let D=typeof t=="string"?xu(t):t;Cn(m==="/"||D.pathname?.startsWith(m),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${m}" but pathname "${D.pathname}" was given in the \`location\` prop.`),b=D}else b=y;let x=b.pathname||"/",T=x;if(m!=="/"){let D=m.replace(/^\//,"").split("/");T="/"+x.replace(/^\//,"").split("/").slice(D.length).join("/")}let S=M3(e,{pathname:T});za(p||S!=null,`No routes matched location "${b.pathname}${b.search}${b.hash}" `),za(S==null||S[S.length-1].route.element!==void 0||S[S.length-1].route.Component!==void 0||S[S.length-1].route.lazy!==void 0,`Matched leaf route at location "${b.pathname}${b.search}${b.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let j=hH(S&&S.map(D=>Object.assign({},D,{params:Object.assign({},d,D.params),pathname:js([m,a.encodeLocation?a.encodeLocation(D.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:D.pathname]),pathnameBase:D.pathnameBase==="/"?m:js([m,a.encodeLocation?a.encodeLocation(D.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:D.pathnameBase])})),s,n,r,i);return t&&j?A.createElement(Lm.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...b},navigationType:"POP"}},j):j}function cH(){let e=yH(),t=eH(e)?`${e.status} ${e.statusText}`:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,r="rgba(200,200,200, 0.5)",i={padding:"0.5rem",backgroundColor:r},a={padding:"2px 4px",backgroundColor:r},s=null;return console.error("Error handled by React Router default ErrorBoundary:",e),s=A.createElement(A.Fragment,null,A.createElement("p",null," Hey developer "),A.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",A.createElement("code",{style:a},"ErrorBoundary")," or"," ",A.createElement("code",{style:a},"errorElement")," prop on your route.")),A.createElement(A.Fragment,null,A.createElement("h2",null,"Unexpected Application Error!"),A.createElement("h3",{style:{fontStyle:"italic"}},t),n?A.createElement("pre",{style:i},n):null,s)}var uH=A.createElement(cH,null),dH=class extends A.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||t.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){this.props.onError?this.props.onError(e,t):console.error("React Router caught the following error during render",e)}render(){return this.state.error!==void 0?A.createElement(zs.Provider,{value:this.props.routeContext},A.createElement(d2.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function fH({routeContext:e,match:t,children:n}){let r=A.useContext(lf);return r&&r.static&&r.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=t.route.id),A.createElement(zs.Provider,{value:e},n)}function hH(e,t=[],n=null,r=null,i=null){if(e==null){if(!n)return null;if(n.errors)e=n.matches;else if(t.length===0&&!n.initialized&&n.matches.length>0)e=n.matches;else return null}let a=e,s=n?.errors;if(s!=null){let m=a.findIndex(p=>p.route.id&&s?.[p.route.id]!==void 0);Cn(m>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(s).join(",")}`),a=a.slice(0,Math.min(a.length,m+1))}let c=!1,d=-1;if(n)for(let m=0;m<a.length;m++){let p=a[m];if((p.route.HydrateFallback||p.route.hydrateFallbackElement)&&(d=m),p.route.id){let{loaderData:y,errors:b}=n,x=p.route.loader&&!y.hasOwnProperty(p.route.id)&&(!b||b[p.route.id]===void 0);if(p.route.lazy||x){c=!0,d>=0?a=a.slice(0,d+1):a=[a[0]];break}}}let f=n&&r?(m,p)=>{r(m,{location:n.location,params:n.matches?.[0]?.params??{},unstable_pattern:tH(n.matches),errorInfo:p})}:void 0;return a.reduceRight((m,p,y)=>{let b,x=!1,T=null,S=null;n&&(b=s&&p.route.id?s[p.route.id]:void 0,T=p.route.errorElement||uH,c&&(d<0&&y===0?(H3("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),x=!0,S=null):d===y&&(x=!0,S=p.route.hydrateFallbackElement||null)));let j=t.concat(a.slice(0,y+1)),D=()=>{let O;return b?O=T:x?O=S:p.route.Component?O=A.createElement(p.route.Component,null):p.route.element?O=p.route.element:O=m,A.createElement(fH,{match:p,routeContext:{outlet:m,matches:j,isDataRoute:n!=null},children:O})};return n&&(p.route.ErrorBoundary||p.route.errorElement||y===0)?A.createElement(dH,{location:n.location,revalidation:n.revalidation,component:T,error:b,children:D(),routeContext:{outlet:null,matches:j,isDataRoute:!0},onError:f}):D()},null)}function f2(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function mH(e){let t=A.useContext(lf);return Cn(t,f2(e)),t}function pH(e){let t=A.useContext(Oy);return Cn(t,f2(e)),t}function gH(e){let t=A.useContext(zs);return Cn(t,f2(e)),t}function h2(e){let t=gH(e),n=t.matches[t.matches.length-1];return Cn(n.route.id,`${e} can only be used on routes that contain a unique "id"`),n.route.id}function vH(){return h2("useRouteId")}function yH(){let e=A.useContext(d2),t=pH("useRouteError"),n=h2("useRouteError");return e!==void 0?e:t.errors?.[n]}function bH(){let{router:e}=mH("useNavigate"),t=h2("useNavigate"),n=A.useRef(!1);return z3(()=>{n.current=!0}),A.useCallback(async(i,a={})=>{za(n.current,B3),n.current&&(typeof i=="number"?await e.navigate(i):await e.navigate(i,{fromRouteId:t,...a}))},[e,t])}var fN={};function H3(e,t,n){!t&&!fN[e]&&(fN[e]=!0,za(!1,n))}A.memo(_H);function _H({routes:e,future:t,state:n,unstable_onError:r}){return U3(e,void 0,n,r,t)}function q0(e){Cn(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function xH({basename:e="/",children:t=null,location:n,navigationType:r="POP",navigator:i,static:a=!1,unstable_useTransitions:s}){Cn(!Im(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let c=e.replace(/^\/*/,"/"),d=A.useMemo(()=>({basename:c,navigator:i,static:a,unstable_useTransitions:s,future:{}}),[c,i,a,s]);typeof n=="string"&&(n=xu(n));let{pathname:f="/",search:m="",hash:p="",state:y=null,key:b="default"}=n,x=A.useMemo(()=>{let T=Ms(f,c);return T==null?null:{location:{pathname:T,search:m,hash:p,state:y,key:b},navigationType:r}},[c,f,m,p,y,b,r]);return za(x!=null,`<Router basename="${c}"> is not able to match the URL "${f}${m}${p}" because it does not start with the basename, so the <Router> won't render anything.`),x==null?null:A.createElement(So.Provider,{value:d},A.createElement(Lm.Provider,{children:t,value:x}))}function wH({children:e,location:t}){return lH(AS(e),t)}function AS(e,t=[]){let n=[];return A.Children.forEach(e,(r,i)=>{if(!A.isValidElement(r))return;let a=[...t,i];if(r.type===A.Fragment){n.push.apply(n,AS(r.props.children,a));return}Cn(r.type===q0,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Cn(!r.props.index||!r.props.children,"An index route cannot have child routes.");let s={id:r.props.id||a.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,middleware:r.props.middleware,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(s.children=AS(r.props.children,a)),n.push(s)}),n}var Y0="get",K0="application/x-www-form-urlencoded";function jy(e){return typeof HTMLElement<"u"&&e instanceof HTMLElement}function SH(e){return jy(e)&&e.tagName.toLowerCase()==="button"}function EH(e){return jy(e)&&e.tagName.toLowerCase()==="form"}function AH(e){return jy(e)&&e.tagName.toLowerCase()==="input"}function TH(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function kH(e,t){return e.button===0&&(!t||t==="_self")&&!TH(e)}var Pg=null;function OH(){if(Pg===null)try{new FormData(document.createElement("form"),0),Pg=!1}catch{Pg=!0}return Pg}var jH=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function zx(e){return e!=null&&!jH.has(e)?(za(!1,`"${e}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${K0}"`),null):e}function NH(e,t){let n,r,i,a,s;if(EH(e)){let c=e.getAttribute("action");r=c?Ms(c,t):null,n=e.getAttribute("method")||Y0,i=zx(e.getAttribute("enctype"))||K0,a=new FormData(e)}else if(SH(e)||AH(e)&&(e.type==="submit"||e.type==="image")){let c=e.form;if(c==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let d=e.getAttribute("formaction")||c.getAttribute("action");if(r=d?Ms(d,t):null,n=e.getAttribute("formmethod")||c.getAttribute("method")||Y0,i=zx(e.getAttribute("formenctype"))||zx(c.getAttribute("enctype"))||K0,a=new FormData(c,e),!OH()){let{name:f,type:m,value:p}=e;if(m==="image"){let y=f?`${f}.`:"";a.append(`${y}x`,"0"),a.append(`${y}y`,"0")}else f&&a.append(f,p)}}else{if(jy(e))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=Y0,r=null,i=K0,s=e}return a&&i==="text/plain"&&(s=a,a=void 0),{action:r,method:n.toLowerCase(),encType:i,formData:a,body:s}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function m2(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function CH(e,t,n){let r=typeof e=="string"?new URL(e,typeof window>"u"?"server://singlefetch/":window.location.origin):e;return r.pathname==="/"?r.pathname=`_root.${n}`:t&&Ms(r.pathname,t)==="/"?r.pathname=`${t.replace(/\/$/,"")}/_root.${n}`:r.pathname=`${r.pathname.replace(/\/$/,"")}.${n}`,r}async function MH(e,t){if(e.id in t)return t[e.id];try{let n=await import(e.module);return t[e.id]=n,n}catch(n){return console.error(`Error loading route module \`${e.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function DH(e){return e==null?!1:e.href==null?e.rel==="preload"&&typeof e.imageSrcSet=="string"&&typeof e.imageSizes=="string":typeof e.rel=="string"&&typeof e.href=="string"}async function PH(e,t,n){let r=await Promise.all(e.map(async i=>{let a=t.routes[i.route.id];if(a){let s=await MH(a,n);return s.links?s.links():[]}return[]}));return $H(r.flat(1).filter(DH).filter(i=>i.rel==="stylesheet"||i.rel==="preload").map(i=>i.rel==="stylesheet"?{...i,rel:"prefetch",as:"style"}:{...i,rel:"prefetch"}))}function hN(e,t,n,r,i,a){let s=(d,f)=>n[f]?d.route.id!==n[f].route.id:!0,c=(d,f)=>n[f].pathname!==d.pathname||n[f].route.path?.endsWith("*")&&n[f].params["*"]!==d.params["*"];return a==="assets"?t.filter((d,f)=>s(d,f)||c(d,f)):a==="data"?t.filter((d,f)=>{let m=r.routes[d.route.id];if(!m||!m.hasLoader)return!1;if(s(d,f)||c(d,f))return!0;if(d.route.shouldRevalidate){let p=d.route.shouldRevalidate({currentUrl:new URL(i.pathname+i.search+i.hash,window.origin),currentParams:n[0]?.params||{},nextUrl:new URL(e,window.origin),nextParams:d.params,defaultShouldRevalidate:!0});if(typeof p=="boolean")return p}return!0}):[]}function RH(e,t,{includeHydrateFallback:n}={}){return LH(e.map(r=>{let i=t.routes[r.route.id];if(!i)return[];let a=[i.module];return i.clientActionModule&&(a=a.concat(i.clientActionModule)),i.clientLoaderModule&&(a=a.concat(i.clientLoaderModule)),n&&i.hydrateFallbackModule&&(a=a.concat(i.hydrateFallbackModule)),i.imports&&(a=a.concat(i.imports)),a}).flat(1))}function LH(e){return[...new Set(e)]}function IH(e){let t={},n=Object.keys(e).sort();for(let r of n)t[r]=e[r];return t}function $H(e,t){let n=new Set;return new Set(t),e.reduce((r,i)=>{let a=JSON.stringify(IH(i));return n.has(a)||(n.add(a),r.push({key:a,link:i})),r},[])}function F3(){let e=A.useContext(lf);return m2(e,"You must render this element inside a <DataRouterContext.Provider> element"),e}function BH(){let e=A.useContext(Oy);return m2(e,"You must render this element inside a <DataRouterStateContext.Provider> element"),e}var p2=A.createContext(void 0);p2.displayName="FrameworkContext";function G3(){let e=A.useContext(p2);return m2(e,"You must render this element inside a <HydratedRouter> element"),e}function zH(e,t){let n=A.useContext(p2),[r,i]=A.useState(!1),[a,s]=A.useState(!1),{onFocus:c,onBlur:d,onMouseEnter:f,onMouseLeave:m,onTouchStart:p}=t,y=A.useRef(null);A.useEffect(()=>{if(e==="render"&&s(!0),e==="viewport"){let T=j=>{j.forEach(D=>{s(D.isIntersecting)})},S=new IntersectionObserver(T,{threshold:.5});return y.current&&S.observe(y.current),()=>{S.disconnect()}}},[e]),A.useEffect(()=>{if(r){let T=setTimeout(()=>{s(!0)},100);return()=>{clearTimeout(T)}}},[r]);let b=()=>{i(!0)},x=()=>{i(!1),s(!1)};return n?e!=="intent"?[a,y,{}]:[a,y,{onFocus:Eh(c,b),onBlur:Eh(d,x),onMouseEnter:Eh(f,b),onMouseLeave:Eh(m,x),onTouchStart:Eh(p,b)}]:[!1,y,{}]}function Eh(e,t){return n=>{e&&e(n),n.defaultPrevented||t(n)}}function UH({page:e,...t}){let{router:n}=F3(),r=A.useMemo(()=>M3(n.routes,e,n.basename),[n.routes,e,n.basename]);return r?A.createElement(FH,{page:e,matches:r,...t}):null}function HH(e){let{manifest:t,routeModules:n}=G3(),[r,i]=A.useState([]);return A.useEffect(()=>{let a=!1;return PH(e,t,n).then(s=>{a||i(s)}),()=>{a=!0}},[e,t,n]),r}function FH({page:e,matches:t,...n}){let r=Zl(),{manifest:i,routeModules:a}=G3(),{basename:s}=F3(),{loaderData:c,matches:d}=BH(),f=A.useMemo(()=>hN(e,t,d,i,r,"data"),[e,t,d,i,r]),m=A.useMemo(()=>hN(e,t,d,i,r,"assets"),[e,t,d,i,r]),p=A.useMemo(()=>{if(e===r.pathname+r.search+r.hash)return[];let x=new Set,T=!1;if(t.forEach(j=>{let D=i.routes[j.route.id];!D||!D.hasLoader||(!f.some(O=>O.route.id===j.route.id)&&j.route.id in c&&a[j.route.id]?.shouldRevalidate||D.hasClientLoader?T=!0:x.add(j.route.id))}),x.size===0)return[];let S=CH(e,s,"data");return T&&x.size>0&&S.searchParams.set("_routes",t.filter(j=>x.has(j.route.id)).map(j=>j.route.id).join(",")),[S.pathname+S.search]},[s,c,r,i,f,t,e,a]),y=A.useMemo(()=>RH(m,i),[m,i]),b=HH(m);return A.createElement(A.Fragment,null,p.map(x=>A.createElement("link",{key:x,rel:"prefetch",as:"fetch",href:x,...n})),y.map(x=>A.createElement("link",{key:x,rel:"modulepreload",href:x,...n})),b.map(({key:x,link:T})=>A.createElement("link",{key:x,nonce:n.nonce,...T})))}function GH(...e){return t=>{e.forEach(n=>{typeof n=="function"?n(t):n!=null&&(n.current=t)})}}var q3=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{q3&&(window.__reactRouterVersion="7.10.1")}catch{}function qH({basename:e,children:t,unstable_useTransitions:n,window:r}){let i=A.useRef();i.current==null&&(i.current=NU({window:r,v5Compat:!0}));let a=i.current,[s,c]=A.useState({action:a.action,location:a.location}),d=A.useCallback(f=>{n===!1?c(f):A.startTransition(()=>c(f))},[n]);return A.useLayoutEffect(()=>a.listen(d),[a,d]),A.createElement(xH,{basename:e,children:t,location:s.location,navigationType:s.action,navigator:a,unstable_useTransitions:n===!0})}var Y3=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,K3=A.forwardRef(function({onClick:t,discover:n="render",prefetch:r="none",relative:i,reloadDocument:a,replace:s,state:c,target:d,to:f,preventScrollReset:m,viewTransition:p,...y},b){let{basename:x,unstable_useTransitions:T}=A.useContext(So),S=typeof f=="string"&&Y3.test(f),j,D=!1;if(typeof f=="string"&&S&&(j=f,q3))try{let V=new URL(window.location.href),z=f.startsWith("//")?new URL(V.protocol+f):new URL(f),F=Ms(z.pathname,x);z.origin===V.origin&&F!=null?f=F+z.search+z.hash:D=!0}catch{za(!1,`<Link to="${f}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let O=aH(f,{relative:i}),[M,N,R]=zH(r,y),$=VH(f,{replace:s,state:c,target:d,preventScrollReset:m,relative:i,viewTransition:p,unstable_useTransitions:T});function B(V){t&&t(V),V.defaultPrevented||$(V)}let H=A.createElement("a",{...y,...R,href:j||O,onClick:D||a?t:B,ref:GH(b,N),target:d,"data-discover":!S&&n==="render"?"true":void 0});return M&&!S?A.createElement(A.Fragment,null,H,A.createElement(UH,{page:O})):H});K3.displayName="Link";var YH=A.forwardRef(function({"aria-current":t="page",caseSensitive:n=!1,className:r="",end:i=!1,style:a,to:s,viewTransition:c,children:d,...f},m){let p=$m(s,{relative:f.relative}),y=Zl(),b=A.useContext(Oy),{navigator:x,basename:T}=A.useContext(So),S=b!=null&&eF(p)&&c===!0,j=x.encodeLocation?x.encodeLocation(p).pathname:p.pathname,D=y.pathname,O=b&&b.navigation&&b.navigation.location?b.navigation.location.pathname:null;n||(D=D.toLowerCase(),O=O?O.toLowerCase():null,j=j.toLowerCase()),O&&T&&(O=Ms(O,T)||O);const M=j!=="/"&&j.endsWith("/")?j.length-1:j.length;let N=D===j||!i&&D.startsWith(j)&&D.charAt(M)==="/",R=O!=null&&(O===j||!i&&O.startsWith(j)&&O.charAt(j.length)==="/"),$={isActive:N,isPending:R,isTransitioning:S},B=N?t:void 0,H;typeof r=="function"?H=r($):H=[r,N?"active":null,R?"pending":null,S?"transitioning":null].filter(Boolean).join(" ");let V=typeof a=="function"?a($):a;return A.createElement(K3,{...f,"aria-current":B,className:H,ref:m,style:V,to:s,viewTransition:c},typeof d=="function"?d($):d)});YH.displayName="NavLink";var KH=A.forwardRef(({discover:e="render",fetcherKey:t,navigate:n,reloadDocument:r,replace:i,state:a,method:s=Y0,action:c,onSubmit:d,relative:f,preventScrollReset:m,viewTransition:p,...y},b)=>{let{unstable_useTransitions:x}=A.useContext(So),T=JH(),S=QH(c,{relative:f}),j=s.toLowerCase()==="get"?"get":"post",D=typeof c=="string"&&Y3.test(c),O=M=>{if(d&&d(M),M.defaultPrevented)return;M.preventDefault();let N=M.nativeEvent.submitter,R=N?.getAttribute("formmethod")||s,$=()=>T(N||M.currentTarget,{fetcherKey:t,method:R,navigate:n,replace:i,state:a,relative:f,preventScrollReset:m,viewTransition:p});x&&n!==!1?A.startTransition(()=>$()):$()};return A.createElement("form",{ref:b,method:j,action:S,onSubmit:r?d:O,...y,"data-discover":!D&&e==="render"?"true":void 0})});KH.displayName="Form";function WH(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function W3(e){let t=A.useContext(lf);return Cn(t,WH(e)),t}function VH(e,{target:t,replace:n,state:r,preventScrollReset:i,relative:a,viewTransition:s,unstable_useTransitions:c}={}){let d=oH(),f=Zl(),m=$m(e,{relative:a});return A.useCallback(p=>{if(kH(p,t)){p.preventDefault();let y=n!==void 0?n:im(f)===im(m),b=()=>d(e,{replace:y,state:r,preventScrollReset:i,relative:a,viewTransition:s});c?A.startTransition(()=>b()):b()}},[f,d,m,n,r,t,e,i,a,s,c])}var ZH=0,XH=()=>`__${String(++ZH)}__`;function JH(){let{router:e}=W3("useSubmit"),{basename:t}=A.useContext(So),n=vH(),r=e.fetch,i=e.navigate;return A.useCallback(async(a,s={})=>{let{action:c,method:d,encType:f,formData:m,body:p}=NH(a,t);if(s.navigate===!1){let y=s.fetcherKey||XH();await r(y,n,s.action||c,{preventScrollReset:s.preventScrollReset,formData:m,body:p,formMethod:s.method||d,formEncType:s.encType||f,flushSync:s.flushSync})}else await i(s.action||c,{preventScrollReset:s.preventScrollReset,formData:m,body:p,formMethod:s.method||d,formEncType:s.encType||f,replace:s.replace,state:s.state,fromRouteId:n,flushSync:s.flushSync,viewTransition:s.viewTransition})},[r,i,t,n])}function QH(e,{relative:t}={}){let{basename:n}=A.useContext(So),r=A.useContext(zs);Cn(r,"useFormAction must be used inside a RouteContext");let[i]=r.matches.slice(-1),a={...$m(e||".",{relative:t})},s=Zl();if(e==null){a.search=s.search;let c=new URLSearchParams(a.search),d=c.getAll("index");if(d.some(m=>m==="")){c.delete("index"),d.filter(p=>p).forEach(p=>c.append("index",p));let m=c.toString();a.search=m?`?${m}`:""}}return(!e||e===".")&&i.route.index&&(a.search=a.search?a.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(a.pathname=a.pathname==="/"?n:js([n,a.pathname])),im(a)}function eF(e,{relative:t}={}){let n=A.useContext($3);Cn(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=W3("useViewTransitionState"),i=$m(e,{relative:t});if(!n.isTransitioning)return!1;let a=Ms(n.currentLocation.pathname,r)||n.currentLocation.pathname,s=Ms(n.nextLocation.pathname,r)||n.nextLocation.pathname;return dv(i.pathname,s)!=null||dv(i.pathname,a)!=null}var cf=C3();const tF=Li(cf);let nF={data:""},rF=e=>typeof window=="object"?((e?e.querySelector("#_goober"):window._goober)||Object.assign((e||document.head).appendChild(document.createElement("style")),{innerHTML:" ",id:"_goober"})).firstChild:e||nF,iF=/(?:([\u0080-\uFFFF\w-%@]+) *:? *([^{;]+?);|([^;}{]*?) *{)|(}\s*)/g,aF=/\/\*[^]*?\*\/|  +/g,mN=/\n+/g,Bl=(e,t)=>{let n="",r="",i="";for(let a in e){let s=e[a];a[0]=="@"?a[1]=="i"?n=a+" "+s+";":r+=a[1]=="f"?Bl(s,a):a+"{"+Bl(s,a[1]=="k"?"":t)+"}":typeof s=="object"?r+=Bl(s,t?t.replace(/([^,])+/g,c=>a.replace(/([^,]*:\S+\([^)]*\))|([^,])+/g,d=>/&/.test(d)?d.replace(/&/g,c):c?c+" "+d:d)):a):s!=null&&(a=/^--/.test(a)?a:a.replace(/[A-Z]/g,"-$&").toLowerCase(),i+=Bl.p?Bl.p(a,s):a+":"+s+";")}return n+(t&&i?t+"{"+i+"}":i)+r},gs={},V3=e=>{if(typeof e=="object"){let t="";for(let n in e)t+=n+V3(e[n]);return t}return e},oF=(e,t,n,r,i)=>{let a=V3(e),s=gs[a]||(gs[a]=(d=>{let f=0,m=11;for(;f<d.length;)m=101*m+d.charCodeAt(f++)>>>0;return"go"+m})(a));if(!gs[s]){let d=a!==e?e:(f=>{let m,p,y=[{}];for(;m=iF.exec(f.replace(aF,""));)m[4]?y.shift():m[3]?(p=m[3].replace(mN," ").trim(),y.unshift(y[0][p]=y[0][p]||{})):y[0][m[1]]=m[2].replace(mN," ").trim();return y[0]})(e);gs[s]=Bl(i?{["@keyframes "+s]:d}:d,n?"":"."+s)}let c=n&&gs.g?gs.g:null;return n&&(gs.g=gs[s]),((d,f,m,p)=>{p?f.data=f.data.replace(p,d):f.data.indexOf(d)===-1&&(f.data=m?d+f.data:f.data+d)})(gs[s],t,r,c),s},sF=(e,t,n)=>e.reduce((r,i,a)=>{let s=t[a];if(s&&s.call){let c=s(n),d=c&&c.props&&c.props.className||/^go/.test(c)&&c;s=d?"."+d:c&&typeof c=="object"?c.props?"":Bl(c,""):c===!1?"":c}return r+i+(s??"")},"");function Ny(e){let t=this||{},n=e.call?e(t.p):e;return oF(n.unshift?n.raw?sF(n,[].slice.call(arguments,1),t.p):n.reduce((r,i)=>Object.assign(r,i&&i.call?i(t.p):i),{}):n,rF(t.target),t.g,t.o,t.k)}let Z3,TS,kS;Ny.bind({g:1});let Ds=Ny.bind({k:1});function lF(e,t,n,r){Bl.p=t,Z3=e,TS=n,kS=r}function Xl(e,t){let n=this||{};return function(){let r=arguments;function i(a,s){let c=Object.assign({},a),d=c.className||i.className;n.p=Object.assign({theme:TS&&TS()},c),n.o=/ *go\d+/.test(d),c.className=Ny.apply(n,r)+(d?" "+d:"");let f=e;return e[0]&&(f=c.as||e,delete c.as),kS&&f[0]&&kS(c),Z3(f,c)}return i}}var cF=e=>typeof e=="function",fv=(e,t)=>cF(e)?e(t):e,uF=(()=>{let e=0;return()=>(++e).toString()})(),X3=(()=>{let e;return()=>{if(e===void 0&&typeof window<"u"){let t=matchMedia("(prefers-reduced-motion: reduce)");e=!t||t.matches}return e}})(),dF=20,g2="default",J3=(e,t)=>{let{toastLimit:n}=e.settings;switch(t.type){case 0:return{...e,toasts:[t.toast,...e.toasts].slice(0,n)};case 1:return{...e,toasts:e.toasts.map(s=>s.id===t.toast.id?{...s,...t.toast}:s)};case 2:let{toast:r}=t;return J3(e,{type:e.toasts.find(s=>s.id===r.id)?1:0,toast:r});case 3:let{toastId:i}=t;return{...e,toasts:e.toasts.map(s=>s.id===i||i===void 0?{...s,dismissed:!0,visible:!1}:s)};case 4:return t.toastId===void 0?{...e,toasts:[]}:{...e,toasts:e.toasts.filter(s=>s.id!==t.toastId)};case 5:return{...e,pausedAt:t.time};case 6:let a=t.time-(e.pausedAt||0);return{...e,pausedAt:void 0,toasts:e.toasts.map(s=>({...s,pauseDuration:s.pauseDuration+a}))}}},W0=[],Q3={toasts:[],pausedAt:void 0,settings:{toastLimit:dF}},Fo={},eI=(e,t=g2)=>{Fo[t]=J3(Fo[t]||Q3,e),W0.forEach(([n,r])=>{n===t&&r(Fo[t])})},tI=e=>Object.keys(Fo).forEach(t=>eI(e,t)),fF=e=>Object.keys(Fo).find(t=>Fo[t].toasts.some(n=>n.id===e)),Cy=(e=g2)=>t=>{eI(t,e)},hF={blank:4e3,error:4e3,success:2e3,loading:1/0,custom:4e3},mF=(e={},t=g2)=>{let[n,r]=A.useState(Fo[t]||Q3),i=A.useRef(Fo[t]);A.useEffect(()=>(i.current!==Fo[t]&&r(Fo[t]),W0.push([t,r]),()=>{let s=W0.findIndex(([c])=>c===t);s>-1&&W0.splice(s,1)}),[t]);let a=n.toasts.map(s=>{var c,d,f;return{...e,...e[s.type],...s,removeDelay:s.removeDelay||((c=e[s.type])==null?void 0:c.removeDelay)||e?.removeDelay,duration:s.duration||((d=e[s.type])==null?void 0:d.duration)||e?.duration||hF[s.type],style:{...e.style,...(f=e[s.type])==null?void 0:f.style,...s.style}}});return{...n,toasts:a}},pF=(e,t="blank",n)=>({createdAt:Date.now(),visible:!0,dismissed:!1,type:t,ariaProps:{role:"status","aria-live":"polite"},message:e,pauseDuration:0,...n,id:n?.id||uF()}),Bm=e=>(t,n)=>{let r=pF(t,e,n);return Cy(r.toasterId||fF(r.id))({type:2,toast:r}),r.id},lr=(e,t)=>Bm("blank")(e,t);lr.error=Bm("error");lr.success=Bm("success");lr.loading=Bm("loading");lr.custom=Bm("custom");lr.dismiss=(e,t)=>{let n={type:3,toastId:e};t?Cy(t)(n):tI(n)};lr.dismissAll=e=>lr.dismiss(void 0,e);lr.remove=(e,t)=>{let n={type:4,toastId:e};t?Cy(t)(n):tI(n)};lr.removeAll=e=>lr.remove(void 0,e);lr.promise=(e,t,n)=>{let r=lr.loading(t.loading,{...n,...n?.loading});return typeof e=="function"&&(e=e()),e.then(i=>{let a=t.success?fv(t.success,i):void 0;return a?lr.success(a,{id:r,...n,...n?.success}):lr.dismiss(r),i}).catch(i=>{let a=t.error?fv(t.error,i):void 0;a?lr.error(a,{id:r,...n,...n?.error}):lr.dismiss(r)}),e};var gF=1e3,vF=(e,t="default")=>{let{toasts:n,pausedAt:r}=mF(e,t),i=A.useRef(new Map).current,a=A.useCallback((p,y=gF)=>{if(i.has(p))return;let b=setTimeout(()=>{i.delete(p),s({type:4,toastId:p})},y);i.set(p,b)},[]);A.useEffect(()=>{if(r)return;let p=Date.now(),y=n.map(b=>{if(b.duration===1/0)return;let x=(b.duration||0)+b.pauseDuration-(p-b.createdAt);if(x<0){b.visible&&lr.dismiss(b.id);return}return setTimeout(()=>lr.dismiss(b.id,t),x)});return()=>{y.forEach(b=>b&&clearTimeout(b))}},[n,r,t]);let s=A.useCallback(Cy(t),[t]),c=A.useCallback(()=>{s({type:5,time:Date.now()})},[s]),d=A.useCallback((p,y)=>{s({type:1,toast:{id:p,height:y}})},[s]),f=A.useCallback(()=>{r&&s({type:6,time:Date.now()})},[r,s]),m=A.useCallback((p,y)=>{let{reverseOrder:b=!1,gutter:x=8,defaultPosition:T}=y||{},S=n.filter(O=>(O.position||T)===(p.position||T)&&O.height),j=S.findIndex(O=>O.id===p.id),D=S.filter((O,M)=>M<j&&O.visible).length;return S.filter(O=>O.visible).slice(...b?[D+1]:[0,D]).reduce((O,M)=>O+(M.height||0)+x,0)},[n]);return A.useEffect(()=>{n.forEach(p=>{if(p.dismissed)a(p.id,p.removeDelay);else{let y=i.get(p.id);y&&(clearTimeout(y),i.delete(p.id))}})},[n,a]),{toasts:n,handlers:{updateHeight:d,startPause:c,endPause:f,calculateOffset:m}}},yF=Ds`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
 transform: scale(1) rotate(45deg);
  opacity: 1;
}`,bF=Ds`
from {
  transform: scale(0);
  opacity: 0;
}
to {
  transform: scale(1);
  opacity: 1;
}`,_F=Ds`
from {
  transform: scale(0) rotate(90deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(90deg);
	opacity: 1;
}`,xF=Xl("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${e=>e.primary||"#ff4b4b"};
  position: relative;
  transform: rotate(45deg);

  animation: ${yF} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;

  &:after,
  &:before {
    content: '';
    animation: ${bF} 0.15s ease-out forwards;
    animation-delay: 150ms;
    position: absolute;
    border-radius: 3px;
    opacity: 0;
    background: ${e=>e.secondary||"#fff"};
    bottom: 9px;
    left: 4px;
    height: 2px;
    width: 12px;
  }

  &:before {
    animation: ${_F} 0.15s ease-out forwards;
    animation-delay: 180ms;
    transform: rotate(90deg);
  }
`,wF=Ds`
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
`,SF=Xl("div")`
  width: 12px;
  height: 12px;
  box-sizing: border-box;
  border: 2px solid;
  border-radius: 100%;
  border-color: ${e=>e.secondary||"#e0e0e0"};
  border-right-color: ${e=>e.primary||"#616161"};
  animation: ${wF} 1s linear infinite;
`,EF=Ds`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(45deg);
	opacity: 1;
}`,AF=Ds`
0% {
	height: 0;
	width: 0;
	opacity: 0;
}
40% {
  height: 0;
	width: 6px;
	opacity: 1;
}
100% {
  opacity: 1;
  height: 10px;
}`,TF=Xl("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${e=>e.primary||"#61d345"};
  position: relative;
  transform: rotate(45deg);

  animation: ${EF} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;
  &:after {
    content: '';
    box-sizing: border-box;
    animation: ${AF} 0.2s ease-out forwards;
    opacity: 0;
    animation-delay: 200ms;
    position: absolute;
    border-right: 2px solid;
    border-bottom: 2px solid;
    border-color: ${e=>e.secondary||"#fff"};
    bottom: 6px;
    left: 6px;
    height: 10px;
    width: 6px;
  }
`,kF=Xl("div")`
  position: absolute;
`,OF=Xl("div")`
  position: relative;
  display: flex;
  justify-content: center;
  align-items: center;
  min-width: 20px;
  min-height: 20px;
`,jF=Ds`
from {
  transform: scale(0.6);
  opacity: 0.4;
}
to {
  transform: scale(1);
  opacity: 1;
}`,NF=Xl("div")`
  position: relative;
  transform: scale(0.6);
  opacity: 0.4;
  min-width: 20px;
  animation: ${jF} 0.3s 0.12s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
`,CF=({toast:e})=>{let{icon:t,type:n,iconTheme:r}=e;return t!==void 0?typeof t=="string"?A.createElement(NF,null,t):t:n==="blank"?null:A.createElement(OF,null,A.createElement(SF,{...r}),n!=="loading"&&A.createElement(kF,null,n==="error"?A.createElement(xF,{...r}):A.createElement(TF,{...r})))},MF=e=>`
0% {transform: translate3d(0,${e*-200}%,0) scale(.6); opacity:.5;}
100% {transform: translate3d(0,0,0) scale(1); opacity:1;}
`,DF=e=>`
0% {transform: translate3d(0,0,-1px) scale(1); opacity:1;}
100% {transform: translate3d(0,${e*-150}%,-1px) scale(.6); opacity:0;}
`,PF="0%{opacity:0;} 100%{opacity:1;}",RF="0%{opacity:1;} 100%{opacity:0;}",LF=Xl("div")`
  display: flex;
  align-items: center;
  background: #fff;
  color: #363636;
  line-height: 1.3;
  will-change: transform;
  box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1), 0 3px 3px rgba(0, 0, 0, 0.05);
  max-width: 350px;
  pointer-events: auto;
  padding: 8px 10px;
  border-radius: 8px;
`,IF=Xl("div")`
  display: flex;
  justify-content: center;
  margin: 4px 10px;
  color: inherit;
  flex: 1 1 auto;
  white-space: pre-line;
`,$F=(e,t)=>{let n=e.includes("top")?1:-1,[r,i]=X3()?[PF,RF]:[MF(n),DF(n)];return{animation:t?`${Ds(r)} 0.35s cubic-bezier(.21,1.02,.73,1) forwards`:`${Ds(i)} 0.4s forwards cubic-bezier(.06,.71,.55,1)`}},BF=A.memo(({toast:e,position:t,style:n,children:r})=>{let i=e.height?$F(e.position||t||"top-center",e.visible):{opacity:0},a=A.createElement(CF,{toast:e}),s=A.createElement(IF,{...e.ariaProps},fv(e.message,e));return A.createElement(LF,{className:e.className,style:{...i,...n,...e.style}},typeof r=="function"?r({icon:a,message:s}):A.createElement(A.Fragment,null,a,s))});lF(A.createElement);var zF=({id:e,className:t,style:n,onHeightUpdate:r,children:i})=>{let a=A.useCallback(s=>{if(s){let c=()=>{let d=s.getBoundingClientRect().height;r(e,d)};c(),new MutationObserver(c).observe(s,{subtree:!0,childList:!0,characterData:!0})}},[e,r]);return A.createElement("div",{ref:a,className:t,style:n},i)},UF=(e,t)=>{let n=e.includes("top"),r=n?{top:0}:{bottom:0},i=e.includes("center")?{justifyContent:"center"}:e.includes("right")?{justifyContent:"flex-end"}:{};return{left:0,right:0,display:"flex",position:"absolute",transition:X3()?void 0:"all 230ms cubic-bezier(.21,1.02,.73,1)",transform:`translateY(${t*(n?1:-1)}px)`,...r,...i}},HF=Ny`
  z-index: 9999;
  > * {
    pointer-events: auto;
  }
`,Rg=16,nI=({reverseOrder:e,position:t="top-center",toastOptions:n,gutter:r,children:i,toasterId:a,containerStyle:s,containerClassName:c})=>{let{toasts:d,handlers:f}=vF(n,a);return A.createElement("div",{"data-rht-toaster":a||"",style:{position:"fixed",zIndex:9999,top:Rg,left:Rg,right:Rg,bottom:Rg,pointerEvents:"none",...s},className:c,onMouseEnter:f.startPause,onMouseLeave:f.endPause},d.map(m=>{let p=m.position||t,y=f.calculateOffset(m,{reverseOrder:e,gutter:r,defaultPosition:t}),b=UF(p,y);return A.createElement(zF,{id:m.id,key:m.id,onHeightUpdate:f.updateHeight,className:m.visible?HF:"",style:b},m.type==="custom"?fv(m.message,m):i?i(m):A.createElement(BF,{toast:m,position:p}))}))},FF=lr;function GF(e,t,n,r=0,i=0){t<=2&&(e-=1,t+=12);const a=Math.floor(e/100),s=2-a+Math.floor(a/4),c=n+(r+i/60)/24;return Math.floor(365.25*(e+4716))+Math.floor(30.6001*(t+1))+c+s-1524.5}const qF=864e5;function YF(e){const t=(e-24405875e-1)*qF;return new Date(t)}function KF(e,t=7){const n=e+(t-.5)/12;if(n>=1986&&n<2005){const i=n-2e3;return 63.86+.3345*i-.060374*i*i+.0017275*i**3+651814e-9*i**4+2373599e-11*i**5}if(n>=2005&&n<2050){const i=n-2e3;return 62.92+.32217*i+.005589*i*i}if(n>=2050&&n<=2150){const i=(n-1820)/100;return-20+32*i*i-.5628*(2150-n)}if(n>=1900&&n<1986)return-2.79+1.494119*(n-1900)-.0598939*(n-1900)**2+.0061966*(n-1900)**3-197e-6*(n-1900)**4;if(n>=1800&&n<1900){const i=(n-1800)/100;return 13.72-33.244*i+68.612*i**2-65.3*i**3-1.653*i**4+.3343*i**5-.012125*i**6+1348e-7*i**7-175e-8*i**8}const r=(n-1820)/100;return-20+32*r*r}function WF(e){const t=Math.floor(e+.5),n=e+.5-t;let r=t;if(t>=2299161){const p=Math.floor((t-186721625e-2)/36524.25);r=t+1+p-Math.floor(p/4)}const i=r+1524,a=Math.floor((i-122.1)/365.25),s=Math.floor(365.25*a),c=Math.floor((i-s)/30.6001),d=i-s-Math.floor(30.6001*c)+n;let f=c-1;f>12&&(f-=12);let m=a-4715;return f>2&&(m-=1),[m,f,d]}const Jh=Math.PI,Qc=Jh/180,VF=180/Jh,ZF=86400;function XF(e){return e%=360,e<0?e+360:e}function JF(e,t){return(e-t+540)%360-180}function pN(e,t){for(;e-t>180;)e-=360;for(;e-t<-180;)e+=360;return e}function QF(e){const[t,n]=WF(e);return e+KF(t,Math.round(n))/ZF}function gN(e,t){let n=0,r=1;for(let i=0;i<e.length;i++){let a=0;for(const[s,c,d]of e[i])a+=s*Math.cos(c+d*t);n+=a*r,r*=t}return n*1e-8}function eG(e){const t=(e-2451545)/36525,n=(297.85036+445267.11148*t-.0019142*t*t+t*t*t/189474)*Qc,r=(357.52772+35999.05034*t-1603e-7*t*t-t*t*t/3e5)*Qc,i=(134.96298+477198.867398*t+.0086972*t*t+t*t*t/56250)*Qc,a=(93.27191+483202.017538*t-.0036825*t*t+t*t*t/327270)*Qc,s=(125.04452-1934.136261*t+.0020708*t*t+t*t*t/45e4)*Qc,c=[[0,0,0,0,1,-171996,-174.2,92025,8.9],[0,0,2,-2,2,-13187,-1.6,5736,-3.1],[0,0,2,0,2,-2274,-.2,977,-.5],[0,0,0,0,2,2062,.2,-895,.5],[0,1,0,0,0,1426,-3.4,54,-.1],[1,0,0,0,0,712,.1,-7,0],[0,1,2,-2,2,-517,1.2,224,-.6],[0,0,2,0,1,-386,-.4,200,0],[1,0,2,0,2,-301,0,129,-.1],[0,-1,2,-2,2,217,-.5,-95,.3]];let d=0,f=0;for(const[m,p,y,b,x,T,S,j,D]of c){const O=m*n+p*r+y*i+b*a+x*s;d+=(T+S*t)*Math.sin(O),f+=(j+D*t)*Math.cos(O)}return d*=1e-4,f*=1e-4,{dpsi:d,deps:f}}function Lg(e){const t=QF(e),n=(t-2451545)/365250,r=gN(vN.L,n),i=gN(vN.R,n);let a=r+Jh;a>2*Jh&&(a-=2*Jh);const{dpsi:s}=eG(t),c=s/3600*Qc,d=20.4898/(3600*i),f=a+c-d*Qc;return XF(f*VF)}function or(e,t,n){const r=(t%360+360)%360,i=GF(e,1,1),a=Lg(i);let s=r-a;s<0&&(s+=360);let c=i+s/.98564736;const d=1e-6,f=5e-6;for(let y=0;y<25;y++){const b=Lg(c),x=JF(r,b);if(Math.abs(x)<d)break;const T=Lg(c+f),S=Lg(c-f),j=pN(T,b),D=pN(S,b),O=(j-D)/(2*f);c+=x/O}const m=YF(c),p=new Date(m.getFullYear(),m.getMonth(),m.getDate(),m.getHours(),m.getMinutes(),0,0);if(Number.isFinite(n)){const y=n/15-9;if(Math.abs(y)>1e-12)return new Date(p.getTime()+y*36e5)}return p}const vN={L:[[[175347046,0,0],[3341656,4.6692568,6283.07585],[34894,4.6261,12566.1517],[3497,2.7441,5753.3849],[3418,2.8289,3.5231],[3136,3.6277,77713.7715],[2676,4.4181,7860.4194],[2343,6.1352,3930.2097],[1324,.7425,11506.7698],[1273,2.0371,529.691],[1199,1.1096,1577.3435],[990,5.233,5884.927],[902,2.045,26.298],[857,3.508,398.149],[780,1.179,5223.694],[753,2.533,5507.553],[505,4.583,18849.228],[492,4.205,775.523],[357,2.92,.067],[317,5.849,11790.629]],[[628331966747,0,0],[206059,2.678235,6283.07585],[4303,2.6351,12566.1517],[425,1.59,3.523],[119,5.796,26.298],[109,2.966,1577.344],[93,2.59,18849.23],[72,1.14,529.69],[68,1.87,398.15],[67,4.41,5507.55],[59,2.89,5223.69],[56,2.17,155.42]],[[52919,0,0],[8720,1.0721,6283.0758],[309,.867,12566.152]],[[289,5.844,6283.076],[35,0,0]],[[114,3.142,0],[8,4.13,6283.08]],[[1,3.14,0]]],R:[[[100013989,0,0],[1670700,3.0984635,6283.07585],[13956,3.05525,12566.1517],[3084,5.1985,77713.7715],[1628,1.1739,5753.3849],[1576,2.8469,7860.4194],[925,5.453,11506.77],[542,4.564,3930.21],[472,3.661,5884.927],[346,.964,5507.553],[329,5.9,5223.694]],[[103019,1.10749,6283.07585],[1721,1.0644,12566.1517],[702,3.142,0],[32,1.02,18849.23]],[[4359,5.7846,6283.0758],[124,5.579,12566.152],[12,3.14,0]],[[145,4.273,6283.076]]]},hi=["","","","","","","","","",""],Pi=["","","","","","","","","","","",""],$a={:["","","","","","","","","",""],:["","","","","","","","","","","",""]},ua={:["","","","","","","","","",""],:["","","","","","","","","","","",""]},tG=["","","","","","","","","",""],nG=["","","","","","","","","","","",""],rG=["","","","","","","","","","","","","","","","","","","",""],iG=["","","","","","","","","","","","","","","","","","","","","","","",""],My=new Set(hi),v2=new Set(Pi),Dy={:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},y2={:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},b2=["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],_2={:["","","","","","","","","","","",""],:["","","","","","","","","","","",""],:["","","","","","","","","","","",""],:["","","","","","","","","","","",""],:["","","","","","","","","","","",""],:["","","","","","","","","","","",""],:["","","","","","","","","","","",""],:["","","","","","","","","","","",""],:["","","","","","","","","","","",""],:["","","","","","","","","","","",""]},rI={:["","","","","","","","","","","",""],:["","","","","","","","","","","",""],:["","","","","","","","","","","",""],:["","","","","","","","","","","",""],:["","","","","","","","","","","",""],:["","","","","","","","","","","",""],:["","","","","","","","","","","",""],:["","","","","","","","","","","",""],:["","","","","","","","","","","",""],:["","","","","","","","","","","",""]},yN=[{branch:"",hanja:"",start:1380,end:60},{branch:"",hanja:"",start:60,end:180},{branch:"",hanja:"",start:180,end:300},{branch:"",hanja:"",start:300,end:420},{branch:"",hanja:"",start:420,end:540},{branch:"",hanja:"",start:540,end:660},{branch:"",hanja:"",start:660,end:780},{branch:"",hanja:"",start:780,end:900},{branch:"",hanja:"",start:900,end:1020},{branch:"",hanja:"",start:1020,end:1140},{branch:"",hanja:"",start:1140,end:1260},{branch:"",hanja:"",start:1260,end:1380}],aG={:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}},oG={:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}};function sG(e,t=127.5){return(vt(e,t)||"").charAt(0)}const bN=new Map;function iI(e,t=127.5){const n=`${e}@${t}`,r=bN.get(n);if(r)return r;const i=or(e,315,t);if(!i)throw new Error(`    : year=${e}, lon=${t}`);return bN.set(n,i),i}const lG=(e,t)=>(e%t+t)%t,aI=e=>e instanceof Date&&!Number.isNaN(e.getTime());function oI(e,t=127.5){if(!aI(e))throw new Error("resolveYearIndex: invalid date");const n=e.getFullYear(),r=iI(n,t),i=e<r?n-1:n,a=lG(i-4,60);return{useYear:i,index60Num:a}}function vt(e,t=127.5){const{index60Num:n}=oI(e,t);return b2[n]}const cG=[2,4,6,8,0,2,4,6,8,0];function uG(e,t=127.5){const n=new Array(12);return n[0]=iI(e,t),n[1]=or(e,345,t),n[2]=or(e,15,t),n[3]=or(e,45,t),n[4]=or(e,75,t),n[5]=or(e,105,t),n[6]=or(e,135,t),n[7]=or(e,165,t),n[8]=or(e,195,t),n[9]=or(e,225,t),n[10]=or(e,255,t),n[11]=or(e+1,285,t),n.map(r=>new Date(r.getTime()+1800*1e3))}function dG(e,t=127.5){const{useYear:n}=oI(e,t),r=uG(n,t);let i=0;for(let s=0;s<12;s++)e>=r[s]&&(i=s);return{monthIndex:i+1,useYear:n,boundaries:r}}function fG(e,t=127.5){const n=sG(e,t),r=$a..indexOf(n);if(r<0)throw new Error(`resolveFirstMonthStemIdx: invalid year stem "${n}"`);return cG[r]}function hG(e,t,n=127.5){return(fG(e,n)+(t-1))%10}function Dt(e,t=127.5){if(!aI(e))return"";const{monthIndex:n}=dG(e,t),r=(2+(n-1))%12,i=$a.[r],a=hG(e,n,t);return $a.[a]+i}const sI=(e,t)=>(e%t+t)%t;function lI(e,t,n,r=0,i=0,a=0){t<=2&&(e-=1,t+=12);const s=Math.floor(e/100),c=2-s+Math.floor(s/4),d=(r+i/60+a/3600)/24;return Math.floor(365.25*(e+4716))+Math.floor(30.6001*(t+1))+n+d+c-1524.5}function mG(e,t){const n=e.getHours(),r=e.getMinutes(),i=n*60+r,a=cI(e);return t===""&&a===""?i>=1380?1:0:t===""&&(a===""||a==="")?i<180?-1:0:(i<0,0)}function pG(e,t){const r=e.getHours()*60+e.getMinutes();return t===""?r>=1380?1:0:t===""&&r<180?-1:0}const hv={JDN:2445731,idx:0};function Tt(e,t){const n=mG(e,t),r=new Date(e.getTime());r.setDate(r.getDate()+n);const i=lI(r.getFullYear(),r.getMonth()+1,r.getDate(),r.getHours(),r.getMinutes()),a=Math.floor(i+.5),s=sI(a-hv.JDN+hv.idx,60),c=b2[s];if(!c)throw new Error(`getDayGanZhi: idx=${s} out of range (jdn=${a}, jd=${i})`);return c}function gG(e,t){const n=new Date(e),r=pG(n,t),i=new Date(e.getTime());i.setDate(i.getDate()+r);const a=lI(i.getFullYear(),i.getMonth()+1,i.getDate(),i.getHours(),i.getMinutes()),s=Math.floor(a+.5),c=sI(s-hv.JDN+hv.idx,60),d=b2[c];if(!d)throw new Error(`getDayGanZhi: idx=${c} out of range (jdn=${s}, jd=${a})`);return d}function cI(e){e instanceof Date||(e=new Date(e));const t=e.getHours()*60+e.getMinutes();for(let n=0;n<yN.length;n++){const{branch:r,start:i,end:a}=yN[n];if(i<a){if(t>=i&&t<a)return r}else if(t>=i||t<a)return r}return""}function vG(e,t,n,r){const i=hi.indexOf(t);if(i<0)return"";let a=(i%5*2+n)%10;const s=e.getHours();return(r===""||r==="/"&&s>=3)&&(n===0||n===1)&&(a=(a+2)%10),hi[a]}function Ua(e,t,n){e instanceof Date||(e=new Date(e));const r=cI(e),i=Pi.indexOf(r),s=(n??Tt(e,t)).charAt(0);return vG(e,s,i,t)+r}const _N=e=>{let t;const n=new Set,r=(f,m)=>{const p=typeof f=="function"?f(t):f;if(!Object.is(p,t)){const y=t;t=m??(typeof p!="object"||p===null)?p:Object.assign({},t,p),n.forEach(b=>b(t,y))}},i=()=>t,c={setState:r,getState:i,getInitialState:()=>d,subscribe:f=>(n.add(f),()=>n.delete(f))},d=t=e(r,i,c);return c},yG=(e=>e?_N(e):_N),bG=e=>e;function _G(e,t=bG){const n=un.useSyncExternalStore(e.subscribe,un.useCallback(()=>t(e.getState()),[e,t]),un.useCallback(()=>t(e.getInitialState()),[e,t]));return un.useDebugValue(n),n}const xN=e=>{const t=yG(e),n=r=>_G(t,r);return Object.assign(n,t),n},zm=(e=>e?xN(e):xN);function xG(e,t){let n;try{n=e()}catch{return}return{getItem:i=>{var a;const s=d=>d===null?null:JSON.parse(d,void 0),c=(a=n.getItem(i))!=null?a:null;return c instanceof Promise?c.then(s):s(c)},setItem:(i,a)=>n.setItem(i,JSON.stringify(a,void 0)),removeItem:i=>n.removeItem(i)}}const OS=e=>t=>{try{const n=e(t);return n instanceof Promise?n:{then(r){return OS(r)(n)},catch(r){return this}}}catch(n){return{then(r){return this},catch(r){return OS(r)(n)}}}},wG=(e,t)=>(n,r,i)=>{let a={storage:xG(()=>localStorage),partialize:T=>T,version:0,merge:(T,S)=>({...S,...T}),...t},s=!1;const c=new Set,d=new Set;let f=a.storage;if(!f)return e((...T)=>{console.warn(`[zustand persist middleware] Unable to update item '${a.name}', the given storage is currently unavailable.`),n(...T)},r,i);const m=()=>{const T=a.partialize({...r()});return f.setItem(a.name,{state:T,version:a.version})},p=i.setState;i.setState=(T,S)=>(p(T,S),m());const y=e((...T)=>(n(...T),m()),r,i);i.getInitialState=()=>y;let b;const x=()=>{var T,S;if(!f)return;s=!1,c.forEach(D=>{var O;return D((O=r())!=null?O:y)});const j=((S=a.onRehydrateStorage)==null?void 0:S.call(a,(T=r())!=null?T:y))||void 0;return OS(f.getItem.bind(f))(a.name).then(D=>{if(D)if(typeof D.version=="number"&&D.version!==a.version){if(a.migrate){const O=a.migrate(D.state,D.version);return O instanceof Promise?O.then(M=>[!0,M]):[!0,O]}console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return[!1,D.state];return[!1,void 0]}).then(D=>{var O;const[M,N]=D;if(b=a.merge(N,(O=r())!=null?O:y),n(b,!0),M)return m()}).then(()=>{j?.(b,void 0),b=r(),s=!0,d.forEach(D=>D(b))}).catch(D=>{j?.(void 0,D)})};return i.persist={setOptions:T=>{a={...a,...T},T.storage&&(f=T.storage)},clearStorage:()=>{f?.removeItem(a.name)},getOptions:()=>a,rehydrate:()=>x(),hasHydrated:()=>s,onHydrate:T=>(c.add(T),()=>{c.delete(T)}),onFinishHydration:T=>(d.add(T),()=>{d.delete(T)})},a.skipHydration||x(),b||y},uI=wG;var vs={},Ig={},jS=function(e,t){return jS=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(n[i]=r[i])},jS(e,t)};function dI(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");jS(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}var mv=function(){return mv=Object.assign||function(t){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(t[a]=n[a])}return t},mv.apply(this,arguments)};function uf(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n}function fI(e,t,n,r){var i=arguments.length,a=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,n):r,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")a=Reflect.decorate(e,t,n,r);else for(var c=e.length-1;c>=0;c--)(s=e[c])&&(a=(i<3?s(a):i>3?s(t,n,a):s(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a}function hI(e,t){return function(n,r){t(n,r,e)}}function mI(e,t,n,r,i,a){function s(j){if(j!==void 0&&typeof j!="function")throw new TypeError("Function expected");return j}for(var c=r.kind,d=c==="getter"?"get":c==="setter"?"set":"value",f=!t&&e?r.static?e:e.prototype:null,m=t||(f?Object.getOwnPropertyDescriptor(f,r.name):{}),p,y=!1,b=n.length-1;b>=0;b--){var x={};for(var T in r)x[T]=T==="access"?{}:r[T];for(var T in r.access)x.access[T]=r.access[T];x.addInitializer=function(j){if(y)throw new TypeError("Cannot add initializers after decoration has completed");a.push(s(j||null))};var S=(0,n[b])(c==="accessor"?{get:m.get,set:m.set}:m[d],x);if(c==="accessor"){if(S===void 0)continue;if(S===null||typeof S!="object")throw new TypeError("Object expected");(p=s(S.get))&&(m.get=p),(p=s(S.set))&&(m.set=p),(p=s(S.init))&&i.unshift(p)}else(p=s(S))&&(c==="field"?i.unshift(p):m[d]=p)}f&&Object.defineProperty(f,r.name,m),y=!0}function pI(e,t,n){for(var r=arguments.length>2,i=0;i<t.length;i++)n=r?t[i].call(e,n):t[i].call(e);return r?n:void 0}function gI(e){return typeof e=="symbol"?e:"".concat(e)}function vI(e,t,n){return typeof t=="symbol"&&(t=t.description?"[".concat(t.description,"]"):""),Object.defineProperty(e,"name",{configurable:!0,value:n?"".concat(n," ",t):t})}function yI(e,t){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(e,t)}function Xe(e,t,n,r){function i(a){return a instanceof n?a:new n(function(s){s(a)})}return new(n||(n=Promise))(function(a,s){function c(m){try{f(r.next(m))}catch(p){s(p)}}function d(m){try{f(r.throw(m))}catch(p){s(p)}}function f(m){m.done?a(m.value):i(m.value).then(c,d)}f((r=r.apply(e,t||[])).next())})}function bI(e,t){var n={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},r,i,a,s=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return s.next=c(0),s.throw=c(1),s.return=c(2),typeof Symbol=="function"&&(s[Symbol.iterator]=function(){return this}),s;function c(f){return function(m){return d([f,m])}}function d(f){if(r)throw new TypeError("Generator is already executing.");for(;s&&(s=0,f[0]&&(n=0)),n;)try{if(r=1,i&&(a=f[0]&2?i.return:f[0]?i.throw||((a=i.return)&&a.call(i),0):i.next)&&!(a=a.call(i,f[1])).done)return a;switch(i=0,a&&(f=[f[0]&2,a.value]),f[0]){case 0:case 1:a=f;break;case 4:return n.label++,{value:f[1],done:!1};case 5:n.label++,i=f[1],f=[0];continue;case 7:f=n.ops.pop(),n.trys.pop();continue;default:if(a=n.trys,!(a=a.length>0&&a[a.length-1])&&(f[0]===6||f[0]===2)){n=0;continue}if(f[0]===3&&(!a||f[1]>a[0]&&f[1]<a[3])){n.label=f[1];break}if(f[0]===6&&n.label<a[1]){n.label=a[1],a=f;break}if(a&&n.label<a[2]){n.label=a[2],n.ops.push(f);break}a[2]&&n.ops.pop(),n.trys.pop();continue}f=t.call(e,n)}catch(m){f=[6,m],i=0}finally{r=a=0}if(f[0]&5)throw f[1];return{value:f[0]?f[1]:void 0,done:!0}}}var Py=Object.create?(function(e,t,n,r){r===void 0&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}):(function(e,t,n,r){r===void 0&&(r=n),e[r]=t[n]});function _I(e,t){for(var n in e)n!=="default"&&!Object.prototype.hasOwnProperty.call(t,n)&&Py(t,e,n)}function pv(e){var t=typeof Symbol=="function"&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function x2(e,t){var n=typeof Symbol=="function"&&e[Symbol.iterator];if(!n)return e;var r=n.call(e),i,a=[],s;try{for(;(t===void 0||t-- >0)&&!(i=r.next()).done;)a.push(i.value)}catch(c){s={error:c}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(s)throw s.error}}return a}function xI(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(x2(arguments[t]));return e}function wI(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;for(var r=Array(e),i=0,t=0;t<n;t++)for(var a=arguments[t],s=0,c=a.length;s<c;s++,i++)r[i]=a[s];return r}function SI(e,t,n){if(n||arguments.length===2)for(var r=0,i=t.length,a;r<i;r++)(a||!(r in t))&&(a||(a=Array.prototype.slice.call(t,0,r)),a[r]=t[r]);return e.concat(a||Array.prototype.slice.call(t))}function qd(e){return this instanceof qd?(this.v=e,this):new qd(e)}function EI(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(e,t||[]),i,a=[];return i=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),c("next"),c("throw"),c("return",s),i[Symbol.asyncIterator]=function(){return this},i;function s(b){return function(x){return Promise.resolve(x).then(b,p)}}function c(b,x){r[b]&&(i[b]=function(T){return new Promise(function(S,j){a.push([b,T,S,j])>1||d(b,T)})},x&&(i[b]=x(i[b])))}function d(b,x){try{f(r[b](x))}catch(T){y(a[0][3],T)}}function f(b){b.value instanceof qd?Promise.resolve(b.value.v).then(m,p):y(a[0][2],b)}function m(b){d("next",b)}function p(b){d("throw",b)}function y(b,x){b(x),a.shift(),a.length&&d(a[0][0],a[0][1])}}function AI(e){var t,n;return t={},r("next"),r("throw",function(i){throw i}),r("return"),t[Symbol.iterator]=function(){return this},t;function r(i,a){t[i]=e[i]?function(s){return(n=!n)?{value:qd(e[i](s)),done:!1}:a?a(s):s}:a}}function TI(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t=e[Symbol.asyncIterator],n;return t?t.call(e):(e=typeof pv=="function"?pv(e):e[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(a){n[a]=e[a]&&function(s){return new Promise(function(c,d){s=e[a](s),i(c,d,s.done,s.value)})}}function i(a,s,c,d){Promise.resolve(d).then(function(f){a({value:f,done:c})},s)}}function kI(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e}var SG=Object.create?(function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}):function(e,t){e.default=t},NS=function(e){return NS=Object.getOwnPropertyNames||function(t){var n=[];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[n.length]=r);return n},NS(e)};function OI(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var n=NS(e),r=0;r<n.length;r++)n[r]!=="default"&&Py(t,e,n[r]);return SG(t,e),t}function jI(e){return e&&e.__esModule?e:{default:e}}function NI(e,t,n,r){if(n==="a"&&!r)throw new TypeError("Private accessor was defined without a getter");if(typeof t=="function"?e!==t||!r:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?r:n==="a"?r.call(e):r?r.value:t.get(e)}function CI(e,t,n,r,i){if(r==="m")throw new TypeError("Private method is not writable");if(r==="a"&&!i)throw new TypeError("Private accessor was defined without a setter");if(typeof t=="function"?e!==t||!i:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return r==="a"?i.call(e,n):i?i.value=n:t.set(e,n),n}function MI(e,t){if(t===null||typeof t!="object"&&typeof t!="function")throw new TypeError("Cannot use 'in' operator on non-object");return typeof e=="function"?t===e:e.has(t)}function DI(e,t,n){if(t!=null){if(typeof t!="object"&&typeof t!="function")throw new TypeError("Object expected.");var r,i;if(n){if(!Symbol.asyncDispose)throw new TypeError("Symbol.asyncDispose is not defined.");r=t[Symbol.asyncDispose]}if(r===void 0){if(!Symbol.dispose)throw new TypeError("Symbol.dispose is not defined.");r=t[Symbol.dispose],n&&(i=r)}if(typeof r!="function")throw new TypeError("Object not disposable.");i&&(r=function(){try{i.call(this)}catch(a){return Promise.reject(a)}}),e.stack.push({value:t,dispose:r,async:n})}else n&&e.stack.push({async:!0});return t}var EG=typeof SuppressedError=="function"?SuppressedError:function(e,t,n){var r=new Error(n);return r.name="SuppressedError",r.error=e,r.suppressed=t,r};function PI(e){function t(a){e.error=e.hasError?new EG(a,e.error,"An error was suppressed during disposal."):a,e.hasError=!0}var n,r=0;function i(){for(;n=e.stack.pop();)try{if(!n.async&&r===1)return r=0,e.stack.push(n),Promise.resolve().then(i);if(n.dispose){var a=n.dispose.call(n.value);if(n.async)return r|=2,Promise.resolve(a).then(i,function(s){return t(s),i()})}else r|=1}catch(s){t(s)}if(r===1)return e.hasError?Promise.reject(e.error):Promise.resolve();if(e.hasError)throw e.error}return i()}function RI(e,t){return typeof e=="string"&&/^\.\.?\//.test(e)?e.replace(/\.(tsx)$|((?:\.d)?)((?:\.[^./]+?)?)\.([cm]?)ts$/i,function(n,r,i,a,s){return r?t?".jsx":".js":i&&(!a||!s)?n:i+a+"."+s.toLowerCase()+"js"}):e}const AG={__extends:dI,__assign:mv,__rest:uf,__decorate:fI,__param:hI,__esDecorate:mI,__runInitializers:pI,__propKey:gI,__setFunctionName:vI,__metadata:yI,__awaiter:Xe,__generator:bI,__createBinding:Py,__exportStar:_I,__values:pv,__read:x2,__spread:xI,__spreadArrays:wI,__spreadArray:SI,__await:qd,__asyncGenerator:EI,__asyncDelegator:AI,__asyncValues:TI,__makeTemplateObject:kI,__importStar:OI,__importDefault:jI,__classPrivateFieldGet:NI,__classPrivateFieldSet:CI,__classPrivateFieldIn:MI,__addDisposableResource:DI,__disposeResources:PI,__rewriteRelativeImportExtension:RI},TG=Object.freeze(Object.defineProperty({__proto__:null,__addDisposableResource:DI,get __assign(){return mv},__asyncDelegator:AI,__asyncGenerator:EI,__asyncValues:TI,__await:qd,__awaiter:Xe,__classPrivateFieldGet:NI,__classPrivateFieldIn:MI,__classPrivateFieldSet:CI,__createBinding:Py,__decorate:fI,__disposeResources:PI,__esDecorate:mI,__exportStar:_I,__extends:dI,__generator:bI,__importDefault:jI,__importStar:OI,__makeTemplateObject:kI,__metadata:yI,__param:hI,__propKey:gI,__read:x2,__rest:uf,__rewriteRelativeImportExtension:RI,__runInitializers:pI,__setFunctionName:vI,__spread:xI,__spreadArray:SI,__spreadArrays:wI,__values:pv,default:AG},Symbol.toStringTag,{value:"Module"})),kG=e=>e?(...t)=>e(...t):(...t)=>fetch(...t);let Ry=class extends Error{constructor(t,n="FunctionsError",r){super(t),this.name=n,this.context=r}},LI=class extends Ry{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}},CS=class extends Ry{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}},MS=class extends Ry{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}};var gv;(function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"})(gv||(gv={}));class OG{constructor(t,{headers:n={},customFetch:r,region:i=gv.Any}={}){this.url=t,this.headers=n,this.region=i,this.fetch=kG(r)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t){return Xe(this,arguments,void 0,function*(n,r={}){var i;let a,s;try{const{headers:c,method:d,body:f,signal:m,timeout:p}=r;let y={},{region:b}=r;b||(b=this.region);const x=new URL(`${this.url}/${n}`);b&&b!=="any"&&(y["x-region"]=b,x.searchParams.set("forceFunctionRegion",b));let T;f&&(c&&!Object.prototype.hasOwnProperty.call(c,"Content-Type")||!c)?typeof Blob<"u"&&f instanceof Blob||f instanceof ArrayBuffer?(y["Content-Type"]="application/octet-stream",T=f):typeof f=="string"?(y["Content-Type"]="text/plain",T=f):typeof FormData<"u"&&f instanceof FormData?T=f:(y["Content-Type"]="application/json",T=JSON.stringify(f)):T=f;let S=m;p&&(s=new AbortController,a=setTimeout(()=>s.abort(),p),m?(S=s.signal,m.addEventListener("abort",()=>s.abort())):S=s.signal);const j=yield this.fetch(x.toString(),{method:d||"POST",headers:Object.assign(Object.assign(Object.assign({},y),this.headers),c),body:T,signal:S}).catch(N=>{throw new LI(N)}),D=j.headers.get("x-relay-error");if(D&&D==="true")throw new CS(j);if(!j.ok)throw new MS(j);let O=((i=j.headers.get("Content-Type"))!==null&&i!==void 0?i:"text/plain").split(";")[0].trim(),M;return O==="application/json"?M=yield j.json():O==="application/octet-stream"||O==="application/pdf"?M=yield j.blob():O==="text/event-stream"?M=j:O==="multipart/form-data"?M=yield j.formData():M=yield j.text(),{data:M,error:null,response:j}}catch(c){return{data:null,error:c,response:c instanceof MS||c instanceof CS?c.context:void 0}}finally{a&&clearTimeout(a)}})}}const jG=Object.freeze(Object.defineProperty({__proto__:null,get FunctionRegion(){return gv},FunctionsClient:OG,FunctionsError:Ry,FunctionsFetchError:LI,FunctionsHttpError:MS,FunctionsRelayError:CS},Symbol.toStringTag,{value:"Module"})),II=Rm(jG);var Vr={};const df=Rm(TG);var $g={},Bg={},zg={},Ug={},Hg={},Fg={},wN;function $I(){if(wN)return Fg;wN=1,Object.defineProperty(Fg,"__esModule",{value:!0});class e extends Error{constructor(n){super(n.message),this.name="PostgrestError",this.details=n.details,this.hint=n.hint,this.code=n.code}}return Fg.default=e,Fg}var SN;function BI(){if(SN)return Hg;SN=1,Object.defineProperty(Hg,"__esModule",{value:!0});const t=df.__importDefault($I());let n=class{constructor(i){var a,s;this.shouldThrowOnError=!1,this.method=i.method,this.url=i.url,this.headers=new Headers(i.headers),this.schema=i.schema,this.body=i.body,this.shouldThrowOnError=(a=i.shouldThrowOnError)!==null&&a!==void 0?a:!1,this.signal=i.signal,this.isMaybeSingle=(s=i.isMaybeSingle)!==null&&s!==void 0?s:!1,i.fetch?this.fetch=i.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(i,a){return this.headers=new Headers(this.headers),this.headers.set(i,a),this}then(i,a){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const s=this.fetch;let c=s(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async d=>{var f,m,p,y;let b=null,x=null,T=null,S=d.status,j=d.statusText;if(d.ok){if(this.method!=="HEAD"){const N=await d.text();N===""||(this.headers.get("Accept")==="text/csv"||this.headers.get("Accept")&&(!((f=this.headers.get("Accept"))===null||f===void 0)&&f.includes("application/vnd.pgrst.plan+text"))?x=N:x=JSON.parse(N))}const O=(m=this.headers.get("Prefer"))===null||m===void 0?void 0:m.match(/count=(exact|planned|estimated)/),M=(p=d.headers.get("content-range"))===null||p===void 0?void 0:p.split("/");O&&M&&M.length>1&&(T=parseInt(M[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(x)&&(x.length>1?(b={code:"PGRST116",details:`Results contain ${x.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},x=null,T=null,S=406,j="Not Acceptable"):x.length===1?x=x[0]:x=null)}else{const O=await d.text();try{b=JSON.parse(O),Array.isArray(b)&&d.status===404&&(x=[],b=null,S=200,j="OK")}catch{d.status===404&&O===""?(S=204,j="No Content"):b={message:O}}if(b&&this.isMaybeSingle&&(!((y=b?.details)===null||y===void 0)&&y.includes("0 rows"))&&(b=null,S=200,j="OK"),b&&this.shouldThrowOnError)throw new t.default(b)}return{error:b,data:x,count:T,status:S,statusText:j}});return this.shouldThrowOnError||(c=c.catch(d=>{var f,m,p,y,b,x;let T="";const S=d?.cause;if(S){const j=(f=S?.message)!==null&&f!==void 0?f:"",D=(m=S?.code)!==null&&m!==void 0?m:"";T=`${(p=d?.name)!==null&&p!==void 0?p:"FetchError"}: ${d?.message}`,T+=`

Caused by: ${(y=S?.name)!==null&&y!==void 0?y:"Error"}: ${j}`,D&&(T+=` (${D})`),S?.stack&&(T+=`
${S.stack}`)}else T=(b=d?.stack)!==null&&b!==void 0?b:"";return{error:{message:`${(x=d?.name)!==null&&x!==void 0?x:"FetchError"}: ${d?.message}`,details:T,hint:"",code:""},data:null,count:null,status:0,statusText:""}})),c.then(i,a)}returns(){return this}overrideTypes(){return this}};return Hg.default=n,Hg}var EN;function zI(){if(EN)return Ug;EN=1,Object.defineProperty(Ug,"__esModule",{value:!0});const t=df.__importDefault(BI());let n=class extends t.default{select(i){let a=!1;const s=(i??"*").split("").map(c=>/\s/.test(c)&&!a?"":(c==='"'&&(a=!a),c)).join("");return this.url.searchParams.set("select",s),this.headers.append("Prefer","return=representation"),this}order(i,{ascending:a=!0,nullsFirst:s,foreignTable:c,referencedTable:d=c}={}){const f=d?`${d}.order`:"order",m=this.url.searchParams.get(f);return this.url.searchParams.set(f,`${m?`${m},`:""}${i}.${a?"asc":"desc"}${s===void 0?"":s?".nullsfirst":".nullslast"}`),this}limit(i,{foreignTable:a,referencedTable:s=a}={}){const c=typeof s>"u"?"limit":`${s}.limit`;return this.url.searchParams.set(c,`${i}`),this}range(i,a,{foreignTable:s,referencedTable:c=s}={}){const d=typeof c>"u"?"offset":`${c}.offset`,f=typeof c>"u"?"limit":`${c}.limit`;return this.url.searchParams.set(d,`${i}`),this.url.searchParams.set(f,`${a-i+1}`),this}abortSignal(i){return this.signal=i,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:i=!1,verbose:a=!1,settings:s=!1,buffers:c=!1,wal:d=!1,format:f="text"}={}){var m;const p=[i?"analyze":null,a?"verbose":null,s?"settings":null,c?"buffers":null,d?"wal":null].filter(Boolean).join("|"),y=(m=this.headers.get("Accept"))!==null&&m!==void 0?m:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${f}; for="${y}"; options=${p};`),f==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(i){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${i}`),this}};return Ug.default=n,Ug}var AN;function w2(){if(AN)return zg;AN=1,Object.defineProperty(zg,"__esModule",{value:!0});const t=df.__importDefault(zI()),n=new RegExp("[,()]");let r=class extends t.default{eq(a,s){return this.url.searchParams.append(a,`eq.${s}`),this}neq(a,s){return this.url.searchParams.append(a,`neq.${s}`),this}gt(a,s){return this.url.searchParams.append(a,`gt.${s}`),this}gte(a,s){return this.url.searchParams.append(a,`gte.${s}`),this}lt(a,s){return this.url.searchParams.append(a,`lt.${s}`),this}lte(a,s){return this.url.searchParams.append(a,`lte.${s}`),this}like(a,s){return this.url.searchParams.append(a,`like.${s}`),this}likeAllOf(a,s){return this.url.searchParams.append(a,`like(all).{${s.join(",")}}`),this}likeAnyOf(a,s){return this.url.searchParams.append(a,`like(any).{${s.join(",")}}`),this}ilike(a,s){return this.url.searchParams.append(a,`ilike.${s}`),this}ilikeAllOf(a,s){return this.url.searchParams.append(a,`ilike(all).{${s.join(",")}}`),this}ilikeAnyOf(a,s){return this.url.searchParams.append(a,`ilike(any).{${s.join(",")}}`),this}regexMatch(a,s){return this.url.searchParams.append(a,`match.${s}`),this}regexIMatch(a,s){return this.url.searchParams.append(a,`imatch.${s}`),this}is(a,s){return this.url.searchParams.append(a,`is.${s}`),this}isDistinct(a,s){return this.url.searchParams.append(a,`isdistinct.${s}`),this}in(a,s){const c=Array.from(new Set(s)).map(d=>typeof d=="string"&&n.test(d)?`"${d}"`:`${d}`).join(",");return this.url.searchParams.append(a,`in.(${c})`),this}contains(a,s){return typeof s=="string"?this.url.searchParams.append(a,`cs.${s}`):Array.isArray(s)?this.url.searchParams.append(a,`cs.{${s.join(",")}}`):this.url.searchParams.append(a,`cs.${JSON.stringify(s)}`),this}containedBy(a,s){return typeof s=="string"?this.url.searchParams.append(a,`cd.${s}`):Array.isArray(s)?this.url.searchParams.append(a,`cd.{${s.join(",")}}`):this.url.searchParams.append(a,`cd.${JSON.stringify(s)}`),this}rangeGt(a,s){return this.url.searchParams.append(a,`sr.${s}`),this}rangeGte(a,s){return this.url.searchParams.append(a,`nxl.${s}`),this}rangeLt(a,s){return this.url.searchParams.append(a,`sl.${s}`),this}rangeLte(a,s){return this.url.searchParams.append(a,`nxr.${s}`),this}rangeAdjacent(a,s){return this.url.searchParams.append(a,`adj.${s}`),this}overlaps(a,s){return typeof s=="string"?this.url.searchParams.append(a,`ov.${s}`):this.url.searchParams.append(a,`ov.{${s.join(",")}}`),this}textSearch(a,s,{config:c,type:d}={}){let f="";d==="plain"?f="pl":d==="phrase"?f="ph":d==="websearch"&&(f="w");const m=c===void 0?"":`(${c})`;return this.url.searchParams.append(a,`${f}fts${m}.${s}`),this}match(a){return Object.entries(a).forEach(([s,c])=>{this.url.searchParams.append(s,`eq.${c}`)}),this}not(a,s,c){return this.url.searchParams.append(a,`not.${s}.${c}`),this}or(a,{foreignTable:s,referencedTable:c=s}={}){const d=c?`${c}.or`:"or";return this.url.searchParams.append(d,`(${a})`),this}filter(a,s,c){return this.url.searchParams.append(a,`${s}.${c}`),this}};return zg.default=r,zg}var TN;function UI(){if(TN)return Bg;TN=1,Object.defineProperty(Bg,"__esModule",{value:!0});const t=df.__importDefault(w2());let n=class{constructor(i,{headers:a={},schema:s,fetch:c}){this.url=i,this.headers=new Headers(a),this.schema=s,this.fetch=c}select(i,a){const{head:s=!1,count:c}=a??{},d=s?"HEAD":"GET";let f=!1;const m=(i??"*").split("").map(p=>/\s/.test(p)&&!f?"":(p==='"'&&(f=!f),p)).join("");return this.url.searchParams.set("select",m),c&&this.headers.append("Prefer",`count=${c}`),new t.default({method:d,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(i,{count:a,defaultToNull:s=!0}={}){var c;const d="POST";if(a&&this.headers.append("Prefer",`count=${a}`),s||this.headers.append("Prefer","missing=default"),Array.isArray(i)){const f=i.reduce((m,p)=>m.concat(Object.keys(p)),[]);if(f.length>0){const m=[...new Set(f)].map(p=>`"${p}"`);this.url.searchParams.set("columns",m.join(","))}}return new t.default({method:d,url:this.url,headers:this.headers,schema:this.schema,body:i,fetch:(c=this.fetch)!==null&&c!==void 0?c:fetch})}upsert(i,{onConflict:a,ignoreDuplicates:s=!1,count:c,defaultToNull:d=!0}={}){var f;const m="POST";if(this.headers.append("Prefer",`resolution=${s?"ignore":"merge"}-duplicates`),a!==void 0&&this.url.searchParams.set("on_conflict",a),c&&this.headers.append("Prefer",`count=${c}`),d||this.headers.append("Prefer","missing=default"),Array.isArray(i)){const p=i.reduce((y,b)=>y.concat(Object.keys(b)),[]);if(p.length>0){const y=[...new Set(p)].map(b=>`"${b}"`);this.url.searchParams.set("columns",y.join(","))}}return new t.default({method:m,url:this.url,headers:this.headers,schema:this.schema,body:i,fetch:(f=this.fetch)!==null&&f!==void 0?f:fetch})}update(i,{count:a}={}){var s;const c="PATCH";return a&&this.headers.append("Prefer",`count=${a}`),new t.default({method:c,url:this.url,headers:this.headers,schema:this.schema,body:i,fetch:(s=this.fetch)!==null&&s!==void 0?s:fetch})}delete({count:i}={}){var a;const s="DELETE";return i&&this.headers.append("Prefer",`count=${i}`),new t.default({method:s,url:this.url,headers:this.headers,schema:this.schema,fetch:(a=this.fetch)!==null&&a!==void 0?a:fetch})}};return Bg.default=n,Bg}var kN;function NG(){if(kN)return $g;kN=1,Object.defineProperty($g,"__esModule",{value:!0});const e=df,t=e.__importDefault(UI()),n=e.__importDefault(w2());let r=class HI{constructor(a,{headers:s={},schema:c,fetch:d}={}){this.url=a,this.headers=new Headers(s),this.schemaName=c,this.fetch=d}from(a){if(!a||typeof a!="string"||a.trim()==="")throw new Error("Invalid relation name: relation must be a non-empty string.");const s=new URL(`${this.url}/${a}`);return new t.default(s,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(a){return new HI(this.url,{headers:this.headers,schema:a,fetch:this.fetch})}rpc(a,s={},{head:c=!1,get:d=!1,count:f}={}){var m;let p;const y=new URL(`${this.url}/rpc/${a}`);let b;c||d?(p=c?"HEAD":"GET",Object.entries(s).filter(([T,S])=>S!==void 0).map(([T,S])=>[T,Array.isArray(S)?`{${S.join(",")}}`:`${S}`]).forEach(([T,S])=>{y.searchParams.append(T,S)})):(p="POST",b=s);const x=new Headers(this.headers);return f&&x.set("Prefer",`count=${f}`),new n.default({method:p,url:y,headers:x,schema:this.schemaName,body:b,fetch:(m=this.fetch)!==null&&m!==void 0?m:fetch})}};return $g.default=r,$g}var ON;function FI(){if(ON)return Vr;ON=1,Object.defineProperty(Vr,"__esModule",{value:!0}),Vr.PostgrestError=Vr.PostgrestBuilder=Vr.PostgrestTransformBuilder=Vr.PostgrestFilterBuilder=Vr.PostgrestQueryBuilder=Vr.PostgrestClient=void 0;const e=df,t=e.__importDefault(NG());Vr.PostgrestClient=t.default;const n=e.__importDefault(UI());Vr.PostgrestQueryBuilder=n.default;const r=e.__importDefault(w2());Vr.PostgrestFilterBuilder=r.default;const i=e.__importDefault(zI());Vr.PostgrestTransformBuilder=i.default;const a=e.__importDefault(BI());Vr.PostgrestBuilder=a.default;const s=e.__importDefault($I());return Vr.PostgrestError=s.default,Vr.default={PostgrestClient:t.default,PostgrestQueryBuilder:n.default,PostgrestFilterBuilder:r.default,PostgrestTransformBuilder:i.default,PostgrestBuilder:a.default,PostgrestError:s.default},Vr}class GI{constructor(){}static detectEnvironment(){var t;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((t=navigator.userAgent)===null||t===void 0)&&t.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const n=process.versions;if(n&&n.node){const r=n.node,i=parseInt(r.replace(/^v/,"").split(".")[0]);return i>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${i} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${i} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const t=this.detectEnvironment();if(t.constructor)return t.constructor;let n=t.error||"WebSocket not supported in this environment.";throw t.workaround&&(n+=`

Suggested solution: ${t.workaround}`),new Error(n)}static createWebSocket(t,n){const r=this.getWebSocketConstructor();return new r(t,n)}static isWebSocketSupported(){try{const t=this.detectEnvironment();return t.type==="native"||t.type==="ws"}catch{return!1}}}const CG="2.86.2",MG=`realtime-js/${CG}`,qI="1.0.0",DG="2.0.0",jN=qI,DS=1e4,PG=1e3,RG=100;var eu;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})(eu||(eu={}));var er;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})(er||(er={}));var uo;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})(uo||(uo={}));var PS;(function(e){e.websocket="websocket"})(PS||(PS={}));var tu;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})(tu||(tu={}));class LG{constructor(t){this.HEADER_LENGTH=1,this.USER_BROADCAST_PUSH_META_LENGTH=6,this.KINDS={userBroadcastPush:3,userBroadcast:4},this.BINARY_ENCODING=0,this.JSON_ENCODING=1,this.BROADCAST_EVENT="broadcast",this.allowedMetadataKeys=[],this.allowedMetadataKeys=t??[]}encode(t,n){if(t.event===this.BROADCAST_EVENT&&!(t.payload instanceof ArrayBuffer)&&typeof t.payload.event=="string")return n(this._binaryEncodeUserBroadcastPush(t));let r=[t.join_ref,t.ref,t.topic,t.event,t.payload];return n(JSON.stringify(r))}_binaryEncodeUserBroadcastPush(t){var n;return this._isArrayBuffer((n=t.payload)===null||n===void 0?void 0:n.payload)?this._encodeBinaryUserBroadcastPush(t):this._encodeJsonUserBroadcastPush(t)}_encodeBinaryUserBroadcastPush(t){var n,r;const i=(r=(n=t.payload)===null||n===void 0?void 0:n.payload)!==null&&r!==void 0?r:new ArrayBuffer(0);return this._encodeUserBroadcastPush(t,this.BINARY_ENCODING,i)}_encodeJsonUserBroadcastPush(t){var n,r;const i=(r=(n=t.payload)===null||n===void 0?void 0:n.payload)!==null&&r!==void 0?r:{},s=new TextEncoder().encode(JSON.stringify(i)).buffer;return this._encodeUserBroadcastPush(t,this.JSON_ENCODING,s)}_encodeUserBroadcastPush(t,n,r){var i,a;const s=t.topic,c=(i=t.ref)!==null&&i!==void 0?i:"",d=(a=t.join_ref)!==null&&a!==void 0?a:"",f=t.payload.event,m=this.allowedMetadataKeys?this._pick(t.payload,this.allowedMetadataKeys):{},p=Object.keys(m).length===0?"":JSON.stringify(m);if(d.length>255)throw new Error(`joinRef length ${d.length} exceeds maximum of 255`);if(c.length>255)throw new Error(`ref length ${c.length} exceeds maximum of 255`);if(s.length>255)throw new Error(`topic length ${s.length} exceeds maximum of 255`);if(f.length>255)throw new Error(`userEvent length ${f.length} exceeds maximum of 255`);if(p.length>255)throw new Error(`metadata length ${p.length} exceeds maximum of 255`);const y=this.USER_BROADCAST_PUSH_META_LENGTH+d.length+c.length+s.length+f.length+p.length,b=new ArrayBuffer(this.HEADER_LENGTH+y);let x=new DataView(b),T=0;x.setUint8(T++,this.KINDS.userBroadcastPush),x.setUint8(T++,d.length),x.setUint8(T++,c.length),x.setUint8(T++,s.length),x.setUint8(T++,f.length),x.setUint8(T++,p.length),x.setUint8(T++,n),Array.from(d,j=>x.setUint8(T++,j.charCodeAt(0))),Array.from(c,j=>x.setUint8(T++,j.charCodeAt(0))),Array.from(s,j=>x.setUint8(T++,j.charCodeAt(0))),Array.from(f,j=>x.setUint8(T++,j.charCodeAt(0))),Array.from(p,j=>x.setUint8(T++,j.charCodeAt(0)));var S=new Uint8Array(b.byteLength+r.byteLength);return S.set(new Uint8Array(b),0),S.set(new Uint8Array(r),b.byteLength),S.buffer}decode(t,n){if(this._isArrayBuffer(t)){let r=this._binaryDecode(t);return n(r)}if(typeof t=="string"){const r=JSON.parse(t),[i,a,s,c,d]=r;return n({join_ref:i,ref:a,topic:s,event:c,payload:d})}return n({})}_binaryDecode(t){const n=new DataView(t),r=n.getUint8(0),i=new TextDecoder;switch(r){case this.KINDS.userBroadcast:return this._decodeUserBroadcast(t,n,i)}}_decodeUserBroadcast(t,n,r){const i=n.getUint8(1),a=n.getUint8(2),s=n.getUint8(3),c=n.getUint8(4);let d=this.HEADER_LENGTH+4;const f=r.decode(t.slice(d,d+i));d=d+i;const m=r.decode(t.slice(d,d+a));d=d+a;const p=r.decode(t.slice(d,d+s));d=d+s;const y=t.slice(d,t.byteLength),b=c===this.JSON_ENCODING?JSON.parse(r.decode(y)):y,x={type:this.BROADCAST_EVENT,event:m,payload:b};return s>0&&(x.meta=JSON.parse(p)),{join_ref:null,ref:null,topic:f,event:this.BROADCAST_EVENT,payload:x}}_isArrayBuffer(t){var n;return t instanceof ArrayBuffer||((n=t?.constructor)===null||n===void 0?void 0:n.name)==="ArrayBuffer"}_pick(t,n){return!t||typeof t!="object"?{}:Object.fromEntries(Object.entries(t).filter(([r])=>n.includes(r)))}}class YI{constructor(t,n){this.callback=t,this.timerCalc=n,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=n}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var an;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(an||(an={}));const NN=(e,t,n={})=>{var r;const i=(r=n.skipTypes)!==null&&r!==void 0?r:[];return t?Object.keys(t).reduce((a,s)=>(a[s]=IG(s,e,t,i),a),{}):{}},IG=(e,t,n,r)=>{const i=t.find(c=>c.name===e),a=i?.type,s=n[e];return a&&!r.includes(a)?KI(a,s):RS(s)},KI=(e,t)=>{if(e.charAt(0)==="_"){const n=e.slice(1,e.length);return UG(t,n)}switch(e){case an.bool:return $G(t);case an.float4:case an.float8:case an.int2:case an.int4:case an.int8:case an.numeric:case an.oid:return BG(t);case an.json:case an.jsonb:return zG(t);case an.timestamp:return HG(t);case an.abstime:case an.date:case an.daterange:case an.int4range:case an.int8range:case an.money:case an.reltime:case an.text:case an.time:case an.timestamptz:case an.timetz:case an.tsrange:case an.tstzrange:return RS(t);default:return RS(t)}},RS=e=>e,$G=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},BG=e=>{if(typeof e=="string"){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},zG=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch(t){return console.log(`JSON parse error: ${t}`),e}return e},UG=(e,t)=>{if(typeof e!="string")return e;const n=e.length-1,r=e[n];if(e[0]==="{"&&r==="}"){let a;const s=e.slice(1,n);try{a=JSON.parse("["+s+"]")}catch{a=s?s.split(","):[]}return a.map(c=>KI(t,c))}return e},HG=e=>typeof e=="string"?e.replace(" ","T"):e,WI=e=>{const t=new URL(e);return t.protocol=t.protocol.replace(/^ws/i,"http"),t.pathname=t.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),t.pathname===""||t.pathname==="/"?t.pathname="/api/broadcast":t.pathname=t.pathname+"/api/broadcast",t.href};class Ux{constructor(t,n,r={},i=DS){this.channel=t,this.event=n,this.payload=r,this.timeout=i,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,n){var r;return this._hasReceived(t)&&n((r=this.receivedResp)===null||r===void 0?void 0:r.response),this.recHooks.push({status:t,callback:n}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=n=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=n,this._matchReceive(n)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,n){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:n})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:n}){this.recHooks.filter(r=>r.status===t).forEach(r=>r.callback(n))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var LS;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})(LS||(LS={}));let VI=class V0{constructor(t,n){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const r=n?.events||{state:"presence_state",diff:"presence_diff"};this.channel._on(r.state,{},i=>{const{onJoin:a,onLeave:s,onSync:c}=this.caller;this.joinRef=this.channel._joinRef(),this.state=V0.syncState(this.state,i,a,s),this.pendingDiffs.forEach(d=>{this.state=V0.syncDiff(this.state,d,a,s)}),this.pendingDiffs=[],c()}),this.channel._on(r.diff,{},i=>{const{onJoin:a,onLeave:s,onSync:c}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(i):(this.state=V0.syncDiff(this.state,i,a,s),c())}),this.onJoin((i,a,s)=>{this.channel._trigger("presence",{event:"join",key:i,currentPresences:a,newPresences:s})}),this.onLeave((i,a,s)=>{this.channel._trigger("presence",{event:"leave",key:i,currentPresences:a,leftPresences:s})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,n,r,i){const a=this.cloneDeep(t),s=this.transformState(n),c={},d={};return this.map(a,(f,m)=>{s[f]||(d[f]=m)}),this.map(s,(f,m)=>{const p=a[f];if(p){const y=m.map(S=>S.presence_ref),b=p.map(S=>S.presence_ref),x=m.filter(S=>b.indexOf(S.presence_ref)<0),T=p.filter(S=>y.indexOf(S.presence_ref)<0);x.length>0&&(c[f]=x),T.length>0&&(d[f]=T)}else c[f]=m}),this.syncDiff(a,{joins:c,leaves:d},r,i)}static syncDiff(t,n,r,i){const{joins:a,leaves:s}={joins:this.transformState(n.joins),leaves:this.transformState(n.leaves)};return r||(r=()=>{}),i||(i=()=>{}),this.map(a,(c,d)=>{var f;const m=(f=t[c])!==null&&f!==void 0?f:[];if(t[c]=this.cloneDeep(d),m.length>0){const p=t[c].map(b=>b.presence_ref),y=m.filter(b=>p.indexOf(b.presence_ref)<0);t[c].unshift(...y)}r(c,m,d)}),this.map(s,(c,d)=>{let f=t[c];if(!f)return;const m=d.map(p=>p.presence_ref);f=f.filter(p=>m.indexOf(p.presence_ref)<0),t[c]=f,i(c,f,d),f.length===0&&delete t[c]}),t}static map(t,n){return Object.getOwnPropertyNames(t).map(r=>n(r,t[r]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((n,r)=>{const i=t[r];return"metas"in i?n[r]=i.metas.map(a=>(a.presence_ref=a.phx_ref,delete a.phx_ref,delete a.phx_ref_prev,a)):n[r]=i,n},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}};var IS;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(IS||(IS={}));var Bd;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"})(Bd||(Bd={}));var Uo;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})(Uo||(Uo={}));const FG=er;let ZI=class XI{constructor(t,n={config:{}},r){var i,a;if(this.topic=t,this.params=n,this.socket=r,this.bindings={},this.state=er.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},n.config),this.timeout=this.socket.timeout,this.joinPush=new Ux(this,uo.join,this.params,this.timeout),this.rejoinTimer=new YI(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=er.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(s=>s.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=er.closed,this.socket._remove(this)}),this._onError(s=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,s),this.state=er.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=er.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",s=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,s),this.state=er.errored,this.rejoinTimer.scheduleTimeout())}),this._on(uo.reply,{},(s,c)=>{this._trigger(this._replyEventName(c),s)}),this.presence=new VI(this),this.broadcastEndpointURL=WI(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((a=(i=this.params.config)===null||i===void 0?void 0:i.broadcast)===null||a===void 0)&&a.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(t,n=this.timeout){var r,i,a;if(this.socket.isConnected()||this.socket.connect(),this.state==er.closed){const{config:{broadcast:s,presence:c,private:d}}=this.params,f=(i=(r=this.bindings.postgres_changes)===null||r===void 0?void 0:r.map(b=>b.filter))!==null&&i!==void 0?i:[],m=!!this.bindings[Bd.PRESENCE]&&this.bindings[Bd.PRESENCE].length>0||((a=this.params.config.presence)===null||a===void 0?void 0:a.enabled)===!0,p={},y={broadcast:s,presence:Object.assign(Object.assign({},c),{enabled:m}),postgres_changes:f,private:d};this.socket.accessTokenValue&&(p.access_token=this.socket.accessTokenValue),this._onError(b=>t?.(Uo.CHANNEL_ERROR,b)),this._onClose(()=>t?.(Uo.CLOSED)),this.updateJoinPayload(Object.assign({config:y},p)),this.joinedOnce=!0,this._rejoin(n),this.joinPush.receive("ok",async({postgres_changes:b})=>{var x;if(this.socket.setAuth(),b===void 0){t?.(Uo.SUBSCRIBED);return}else{const T=this.bindings.postgres_changes,S=(x=T?.length)!==null&&x!==void 0?x:0,j=[];for(let D=0;D<S;D++){const O=T[D],{filter:{event:M,schema:N,table:R,filter:$}}=O,B=b&&b[D];if(B&&B.event===M&&B.schema===N&&B.table===R&&B.filter===$)j.push(Object.assign(Object.assign({},O),{id:B.id}));else{this.unsubscribe(),this.state=er.errored,t?.(Uo.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=j,t&&t(Uo.SUBSCRIBED);return}}).receive("error",b=>{this.state=er.errored,t?.(Uo.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(b).join(", ")||"error")))}).receive("timeout",()=>{t?.(Uo.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,n={}){return await this.send({type:"presence",event:"track",payload:t},n.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,n,r){return this.state===er.joined&&t===Bd.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(()=>this.subscribe())),this._on(t,n,r)}async httpSend(t,n,r={}){var i;const a=this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"";if(n==null)return Promise.reject("Payload is required for httpSend()");const s={method:"POST",headers:{Authorization:a,apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:t,payload:n,private:this.private}]})},c=await this._fetchWithTimeout(this.broadcastEndpointURL,s,(i=r.timeout)!==null&&i!==void 0?i:this.timeout);if(c.status===202)return{success:!0};let d=c.statusText;try{const f=await c.json();d=f.error||f.message||d}catch{}return Promise.reject(new Error(d))}async send(t,n={}){var r,i;if(!this._canPush()&&t.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:a,payload:s}=t,d={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:a,payload:s,private:this.private}]})};try{const f=await this._fetchWithTimeout(this.broadcastEndpointURL,d,(r=n.timeout)!==null&&r!==void 0?r:this.timeout);return await((i=f.body)===null||i===void 0?void 0:i.cancel()),f.ok?"ok":"error"}catch(f){return f.name==="AbortError"?"timed out":"error"}}else return new Promise(a=>{var s,c,d;const f=this._push(t.type,t,n.timeout||this.timeout);t.type==="broadcast"&&!(!((d=(c=(s=this.params)===null||s===void 0?void 0:s.config)===null||c===void 0?void 0:c.broadcast)===null||d===void 0)&&d.ack)&&a("ok"),f.receive("ok",()=>a("ok")),f.receive("error",()=>a("error")),f.receive("timeout",()=>a("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=er.leaving;const n=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(uo.close,"leave",this._joinRef())};this.joinPush.destroy();let r=null;return new Promise(i=>{r=new Ux(this,uo.leave,{},t),r.receive("ok",()=>{n(),i("ok")}).receive("timeout",()=>{n(),i("timed out")}).receive("error",()=>{i("error")}),r.send(),this._canPush()||r.trigger("ok",{})}).finally(()=>{r?.destroy()})}teardown(){this.pushBuffer.forEach(t=>t.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=er.closed,this.bindings={}}async _fetchWithTimeout(t,n,r){const i=new AbortController,a=setTimeout(()=>i.abort(),r),s=await this.socket.fetch(t,Object.assign(Object.assign({},n),{signal:i.signal}));return clearTimeout(a),s}_push(t,n,r=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let i=new Ux(this,t,n,r);return this._canPush()?i.send():this._addToPushBuffer(i),i}_addToPushBuffer(t){if(t.startTimeout(),this.pushBuffer.push(t),this.pushBuffer.length>RG){const n=this.pushBuffer.shift();n&&(n.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${n.event}`,n.payload))}}_onMessage(t,n,r){return n}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,n,r){var i,a;const s=t.toLocaleLowerCase(),{close:c,error:d,leave:f,join:m}=uo;if(r&&[c,d,f,m].indexOf(s)>=0&&r!==this._joinRef())return;let y=this._onMessage(s,n,r);if(n&&!y)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(s)?(i=this.bindings.postgres_changes)===null||i===void 0||i.filter(b=>{var x,T,S;return((x=b.filter)===null||x===void 0?void 0:x.event)==="*"||((S=(T=b.filter)===null||T===void 0?void 0:T.event)===null||S===void 0?void 0:S.toLocaleLowerCase())===s}).map(b=>b.callback(y,r)):(a=this.bindings[s])===null||a===void 0||a.filter(b=>{var x,T,S,j,D,O;if(["broadcast","presence","postgres_changes"].includes(s))if("id"in b){const M=b.id,N=(x=b.filter)===null||x===void 0?void 0:x.event;return M&&((T=n.ids)===null||T===void 0?void 0:T.includes(M))&&(N==="*"||N?.toLocaleLowerCase()===((S=n.data)===null||S===void 0?void 0:S.type.toLocaleLowerCase()))}else{const M=(D=(j=b?.filter)===null||j===void 0?void 0:j.event)===null||D===void 0?void 0:D.toLocaleLowerCase();return M==="*"||M===((O=n?.event)===null||O===void 0?void 0:O.toLocaleLowerCase())}else return b.type.toLocaleLowerCase()===s}).map(b=>{if(typeof y=="object"&&"ids"in y){const x=y.data,{schema:T,table:S,commit_timestamp:j,type:D,errors:O}=x;y=Object.assign(Object.assign({},{schema:T,table:S,commit_timestamp:j,eventType:D,new:{},old:{},errors:O}),this._getPayloadRecords(x))}b.callback(y,r)})}_isClosed(){return this.state===er.closed}_isJoined(){return this.state===er.joined}_isJoining(){return this.state===er.joining}_isLeaving(){return this.state===er.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,n,r){const i=t.toLocaleLowerCase(),a={type:i,filter:n,callback:r};return this.bindings[i]?this.bindings[i].push(a):this.bindings[i]=[a],this}_off(t,n){const r=t.toLocaleLowerCase();return this.bindings[r]&&(this.bindings[r]=this.bindings[r].filter(i=>{var a;return!(((a=i.type)===null||a===void 0?void 0:a.toLocaleLowerCase())===r&&XI.isEqual(i.filter,n))})),this}static isEqual(t,n){if(Object.keys(t).length!==Object.keys(n).length)return!1;for(const r in t)if(t[r]!==n[r])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(uo.close,{},t)}_onError(t){this._on(uo.error,{},n=>t(n))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=er.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const n={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(n.new=NN(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(n.old=NN(t.columns,t.old_record)),n}};const Hx=()=>{},Gg={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},GG=[1e3,2e3,5e3,1e4],qG=1e4,YG=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;let KG=class{constructor(t,n){var r;if(this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=DS,this.transport=null,this.heartbeatIntervalMs=Gg.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=Hx,this.ref=0,this.reconnectTimer=null,this.vsn=jN,this.logger=Hx,this.conn=null,this.sendBuffer=[],this.serializer=new LG,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=i=>i?(...a)=>i(...a):(...a)=>fetch(...a),!(!((r=n?.params)===null||r===void 0)&&r.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=n.params.apikey,this.endPoint=`${t}/${PS.websocket}`,this.httpEndpoint=WI(t),this._initializeOptions(n),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(n?.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this.accessToken&&!this._authPromise&&this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=GI.createWebSocket(this.endpointURL())}catch(t){this._setConnectionState("disconnected");const n=t.message;throw n.includes("Node.js")?new Error(`${n}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${n}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:this.vsn}))}disconnect(t,n){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const r=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(r),this._setConnectionState("disconnected")},typeof this.conn.close=="function"&&(t?this.conn.close(t,n??""):this.conn.close()),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(t){const n=await t.unsubscribe();return this.channels.length===0&&this.disconnect(),n}async removeAllChannels(){const t=await Promise.all(this.channels.map(n=>n.unsubscribe()));return this.channels=[],this.disconnect(),t}log(t,n,r){this.logger(t,n,r)}connectionState(){switch(this.conn&&this.conn.readyState){case eu.connecting:return tu.Connecting;case eu.open:return tu.Open;case eu.closing:return tu.Closing;default:return tu.Closed}}isConnected(){return this.connectionState()===tu.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(t,n={config:{}}){const r=`realtime:${t}`,i=this.getChannels().find(a=>a.topic===r);if(i)return i;{const a=new ZI(`realtime:${t}`,n,this);return this.channels.push(a),a}}push(t){const{topic:n,event:r,payload:i,ref:a}=t,s=()=>{this.encode(t,c=>{var d;(d=this.conn)===null||d===void 0||d.send(c)})};this.log("push",`${n} ${r} (${a})`,i),this.isConnected()?s():this.sendBuffer.push(s)}async setAuth(t=null){this._authPromise=this._performAuth(t);try{await this._authPromise}finally{this._authPromise=null}}async sendHeartbeat(){var t;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(n){this.log("error","error in heartbeat callback",n)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(n){this.log("error","error in heartbeat callback",n)}this._wasManualDisconnect=!1,(t=this.conn)===null||t===void 0||t.close(PG,"heartbeat timeout"),setTimeout(()=>{var n;this.isConnected()||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout()},Gg.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(n){this.log("error","error in heartbeat callback",n)}this._setAuthSafely("heartbeat")}onHeartbeat(t){this.heartbeatCallback=t}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let n=this.channels.find(r=>r.topic===t&&(r._isJoined()||r._isJoining()));n&&(this.log("transport",`leaving duplicate topic "${t}"`),n.unsubscribe())}_remove(t){this.channels=this.channels.filter(n=>n.topic!==t.topic)}_onConnMessage(t){this.decode(t.data,n=>{if(n.topic==="phoenix"&&n.event==="phx_reply")try{this.heartbeatCallback(n.payload.status==="ok"?"ok":"error")}catch(f){this.log("error","error in heartbeat callback",f)}n.ref&&n.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:r,event:i,payload:a,ref:s}=n,c=s?`(${s})`:"",d=a.status||"";this.log("receive",`${d} ${r} ${i} ${c}`.trim(),a),this.channels.filter(f=>f._isMember(r)).forEach(f=>f._trigger(i,a,s)),this._triggerStateCallbacks("message",n)})}_clearTimer(t){var n;t==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):t==="reconnect"&&((n=this.reconnectTimer)===null||n===void 0||n.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t))}_teardownConnection(){if(this.conn){if(this.conn.readyState===eu.open||this.conn.readyState===eu.connecting)try{this.conn.close()}catch(t){this.log("error","Error closing connection",t)}this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null}this._clearAllTimers(),this.channels.forEach(t=>t.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),(this._authPromise||(this.accessToken&&!this.accessTokenValue?this.setAuth():Promise.resolve())).then(()=>{this.flushSendBuffer()}).catch(n=>{this.log("error","error waiting for auth on connect",n),this.flushSendBuffer()}),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=n=>{this.log("worker","worker error",n.message),this.workerRef.terminate()},this.workerRef.onmessage=n=>{n.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(t){var n;this._setConnectionState("disconnected"),this.log("transport","close",t),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout(),this._triggerStateCallbacks("close",t)}_onConnError(t){this._setConnectionState("disconnected"),this.log("transport",`${t}`),this._triggerChanError(),this._triggerStateCallbacks("error",t)}_triggerChanError(){this.channels.forEach(t=>t._trigger(uo.error))}_appendParams(t,n){if(Object.keys(n).length===0)return t;const r=t.match(/\?/)?"&":"?",i=new URLSearchParams(n);return`${t}${r}${i}`}_workerObjectUrl(t){let n;if(t)n=t;else{const r=new Blob([YG],{type:"application/javascript"});n=URL.createObjectURL(r)}return n}_setConnectionState(t,n=!1){this._connectionState=t,t==="connecting"?this._wasManualDisconnect=!1:t==="disconnecting"&&(this._wasManualDisconnect=n)}async _performAuth(t=null){let n;t?n=t:this.accessToken?n=await this.accessToken():n=this.accessTokenValue,this.accessTokenValue!=n&&(this.accessTokenValue=n,this.channels.forEach(r=>{const i={access_token:n,version:MG};n&&r.updateJoinPayload(i),r.joinedOnce&&r._isJoined()&&r._push(uo.access_token,{access_token:n})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(t="general"){this.setAuth().catch(n=>{this.log("error",`error setting auth in ${t}`,n)})}_triggerStateCallbacks(t,n){try{this.stateChangeCallbacks[t].forEach(r=>{try{r(n)}catch(i){this.log("error",`error in ${t} callback`,i)}})}catch(r){this.log("error",`error triggering ${t} callbacks`,r)}}_setupReconnectionTimer(){this.reconnectTimer=new YI(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},Gg.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(t){var n,r,i,a,s,c,d,f,m,p,y,b;switch(this.transport=(n=t?.transport)!==null&&n!==void 0?n:null,this.timeout=(r=t?.timeout)!==null&&r!==void 0?r:DS,this.heartbeatIntervalMs=(i=t?.heartbeatIntervalMs)!==null&&i!==void 0?i:Gg.HEARTBEAT_INTERVAL,this.worker=(a=t?.worker)!==null&&a!==void 0?a:!1,this.accessToken=(s=t?.accessToken)!==null&&s!==void 0?s:null,this.heartbeatCallback=(c=t?.heartbeatCallback)!==null&&c!==void 0?c:Hx,this.vsn=(d=t?.vsn)!==null&&d!==void 0?d:jN,t?.params&&(this.params=t.params),t?.logger&&(this.logger=t.logger),(t?.logLevel||t?.log_level)&&(this.logLevel=t.logLevel||t.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(f=t?.reconnectAfterMs)!==null&&f!==void 0?f:(x=>GG[x-1]||qG),this.vsn){case qI:this.encode=(m=t?.encode)!==null&&m!==void 0?m:((x,T)=>T(JSON.stringify(x))),this.decode=(p=t?.decode)!==null&&p!==void 0?p:((x,T)=>T(JSON.parse(x)));break;case DG:this.encode=(y=t?.encode)!==null&&y!==void 0?y:this.serializer.encode.bind(this.serializer),this.decode=(b=t?.decode)!==null&&b!==void 0?b:this.serializer.decode.bind(this.serializer);break;default:throw new Error(`Unsupported serializer version: ${this.vsn}`)}if(this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=t?.workerUrl}}};const WG=Object.freeze(Object.defineProperty({__proto__:null,REALTIME_CHANNEL_STATES:FG,get REALTIME_LISTEN_TYPES(){return Bd},get REALTIME_POSTGRES_CHANGES_LISTEN_EVENT(){return IS},get REALTIME_PRESENCE_LISTEN_EVENTS(){return LS},get REALTIME_SUBSCRIBE_STATES(){return Uo},RealtimeChannel:ZI,RealtimeClient:KG,RealtimePresence:VI,WebSocketFactory:GI},Symbol.toStringTag,{value:"Module"})),JI=Rm(WG);class Um extends Error{constructor(t){super(t),this.__isStorageError=!0,this.name="StorageError"}}function wn(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}class QI extends Um{constructor(t,n,r){super(t),this.name="StorageApiError",this.status=n,this.statusCode=r}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class vv extends Um{constructor(t,n){super(t),this.name="StorageUnknownError",this.originalError=n}}const S2=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),VG=()=>Response,$S=e=>{if(Array.isArray(e))return e.map(n=>$S(n));if(typeof e=="function"||e!==Object(e))return e;const t={};return Object.entries(e).forEach(([n,r])=>{const i=n.replace(/([-_][a-z])/gi,a=>a.toUpperCase().replace(/[-_]/g,""));t[i]=$S(r)}),t},ZG=e=>{if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},XG=e=>!e||typeof e!="string"||e.length===0||e.length>100||e.trim()!==e||e.includes("/")||e.includes("\\")?!1:/^[\w!.\*'() &$@=;:+,?-]+$/.test(e),Fx=e=>{var t;return e.msg||e.message||e.error_description||(typeof e.error=="string"?e.error:(t=e.error)===null||t===void 0?void 0:t.message)||JSON.stringify(e)},JG=(e,t,n)=>Xe(void 0,void 0,void 0,function*(){const r=yield VG();e instanceof r&&!n?.noResolveJson?e.json().then(i=>{const a=e.status||500,s=i?.statusCode||a+"";t(new QI(Fx(i),a,s))}).catch(i=>{t(new vv(Fx(i),i))}):t(new vv(Fx(e),e))}),QG=(e,t,n,r)=>{const i={method:e,headers:t?.headers||{}};return e==="GET"||!r?i:(ZG(r)?(i.headers=Object.assign({"Content-Type":"application/json"},t?.headers),i.body=JSON.stringify(r)):i.body=r,t?.duplex&&(i.duplex=t.duplex),Object.assign(Object.assign({},i),n))};function Hm(e,t,n,r,i,a){return Xe(this,void 0,void 0,function*(){return new Promise((s,c)=>{e(n,QG(t,r,i,a)).then(d=>{if(!d.ok)throw d;return r?.noResolveJson?d:d.json()}).then(d=>s(d)).catch(d=>JG(d,c,r))})})}function am(e,t,n,r){return Xe(this,void 0,void 0,function*(){return Hm(e,"GET",t,n,r)})}function co(e,t,n,r,i){return Xe(this,void 0,void 0,function*(){return Hm(e,"POST",t,r,i,n)})}function BS(e,t,n,r,i){return Xe(this,void 0,void 0,function*(){return Hm(e,"PUT",t,r,i,n)})}function eq(e,t,n,r){return Xe(this,void 0,void 0,function*(){return Hm(e,"HEAD",t,Object.assign(Object.assign({},n),{noResolveJson:!0}),r)})}function E2(e,t,n,r,i){return Xe(this,void 0,void 0,function*(){return Hm(e,"DELETE",t,r,i,n)})}class tq{constructor(t,n){this.downloadFn=t,this.shouldThrowOnError=n}then(t,n){return this.execute().then(t,n)}execute(){return Xe(this,void 0,void 0,function*(){try{return{data:(yield this.downloadFn()).body,error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(wn(t))return{data:null,error:t};throw t}})}}var e$;class nq{constructor(t,n){this.downloadFn=t,this.shouldThrowOnError=n,this[e$]="BlobDownloadBuilder",this.promise=null}asStream(){return new tq(this.downloadFn,this.shouldThrowOnError)}then(t,n){return this.getPromise().then(t,n)}catch(t){return this.getPromise().catch(t)}finally(t){return this.getPromise().finally(t)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}execute(){return Xe(this,void 0,void 0,function*(){try{return{data:yield(yield this.downloadFn()).blob(),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(wn(t))return{data:null,error:t};throw t}})}}e$=Symbol.toStringTag;const rq={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},CN={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class iq{constructor(t,n={},r,i){this.shouldThrowOnError=!1,this.url=t,this.headers=n,this.bucketId=r,this.fetch=S2(i)}throwOnError(){return this.shouldThrowOnError=!0,this}uploadOrUpdate(t,n,r,i){return Xe(this,void 0,void 0,function*(){try{let a;const s=Object.assign(Object.assign({},CN),i);let c=Object.assign(Object.assign({},this.headers),t==="POST"&&{"x-upsert":String(s.upsert)});const d=s.metadata;typeof Blob<"u"&&r instanceof Blob?(a=new FormData,a.append("cacheControl",s.cacheControl),d&&a.append("metadata",this.encodeMetadata(d)),a.append("",r)):typeof FormData<"u"&&r instanceof FormData?(a=r,a.has("cacheControl")||a.append("cacheControl",s.cacheControl),d&&!a.has("metadata")&&a.append("metadata",this.encodeMetadata(d))):(a=r,c["cache-control"]=`max-age=${s.cacheControl}`,c["content-type"]=s.contentType,d&&(c["x-metadata"]=this.toBase64(this.encodeMetadata(d))),(typeof ReadableStream<"u"&&a instanceof ReadableStream||a&&typeof a=="object"&&"pipe"in a&&typeof a.pipe=="function")&&!s.duplex&&(s.duplex="half")),i?.headers&&(c=Object.assign(Object.assign({},c),i.headers));const f=this._removeEmptyFolders(n),m=this._getFinalPath(f),p=yield(t=="PUT"?BS:co)(this.fetch,`${this.url}/object/${m}`,a,Object.assign({headers:c},s?.duplex?{duplex:s.duplex}:{}));return{data:{path:f,id:p.Id,fullPath:p.Key},error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(wn(a))return{data:null,error:a};throw a}})}upload(t,n,r){return Xe(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",t,n,r)})}uploadToSignedUrl(t,n,r,i){return Xe(this,void 0,void 0,function*(){const a=this._removeEmptyFolders(t),s=this._getFinalPath(a),c=new URL(this.url+`/object/upload/sign/${s}`);c.searchParams.set("token",n);try{let d;const f=Object.assign({upsert:CN.upsert},i),m=Object.assign(Object.assign({},this.headers),{"x-upsert":String(f.upsert)});typeof Blob<"u"&&r instanceof Blob?(d=new FormData,d.append("cacheControl",f.cacheControl),d.append("",r)):typeof FormData<"u"&&r instanceof FormData?(d=r,d.append("cacheControl",f.cacheControl)):(d=r,m["cache-control"]=`max-age=${f.cacheControl}`,m["content-type"]=f.contentType);const p=yield BS(this.fetch,c.toString(),d,{headers:m});return{data:{path:a,fullPath:p.Key},error:null}}catch(d){if(this.shouldThrowOnError)throw d;if(wn(d))return{data:null,error:d};throw d}})}createSignedUploadUrl(t,n){return Xe(this,void 0,void 0,function*(){try{let r=this._getFinalPath(t);const i=Object.assign({},this.headers);n?.upsert&&(i["x-upsert"]="true");const a=yield co(this.fetch,`${this.url}/object/upload/sign/${r}`,{},{headers:i}),s=new URL(this.url+a.url),c=s.searchParams.get("token");if(!c)throw new Um("No token returned by API");return{data:{signedUrl:s.toString(),path:t,token:c},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(wn(r))return{data:null,error:r};throw r}})}update(t,n,r){return Xe(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",t,n,r)})}move(t,n,r){return Xe(this,void 0,void 0,function*(){try{return{data:yield co(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:t,destinationKey:n,destinationBucket:r?.destinationBucket},{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(wn(i))return{data:null,error:i};throw i}})}copy(t,n,r){return Xe(this,void 0,void 0,function*(){try{return{data:{path:(yield co(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:t,destinationKey:n,destinationBucket:r?.destinationBucket},{headers:this.headers})).Key},error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(wn(i))return{data:null,error:i};throw i}})}createSignedUrl(t,n,r){return Xe(this,void 0,void 0,function*(){try{let i=this._getFinalPath(t),a=yield co(this.fetch,`${this.url}/object/sign/${i}`,Object.assign({expiresIn:n},r?.transform?{transform:r.transform}:{}),{headers:this.headers});const s=r?.download?`&download=${r.download===!0?"":r.download}`:"";return a={signedUrl:encodeURI(`${this.url}${a.signedURL}${s}`)},{data:a,error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(wn(i))return{data:null,error:i};throw i}})}createSignedUrls(t,n,r){return Xe(this,void 0,void 0,function*(){try{const i=yield co(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:n,paths:t},{headers:this.headers}),a=r?.download?`&download=${r.download===!0?"":r.download}`:"";return{data:i.map(s=>Object.assign(Object.assign({},s),{signedUrl:s.signedURL?encodeURI(`${this.url}${s.signedURL}${a}`):null})),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(wn(i))return{data:null,error:i};throw i}})}download(t,n){const i=typeof n?.transform<"u"?"render/image/authenticated":"object",a=this.transformOptsToQueryString(n?.transform||{}),s=a?`?${a}`:"",c=this._getFinalPath(t),d=()=>am(this.fetch,`${this.url}/${i}/${c}${s}`,{headers:this.headers,noResolveJson:!0});return new nq(d,this.shouldThrowOnError)}info(t){return Xe(this,void 0,void 0,function*(){const n=this._getFinalPath(t);try{const r=yield am(this.fetch,`${this.url}/object/info/${n}`,{headers:this.headers});return{data:$S(r),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(wn(r))return{data:null,error:r};throw r}})}exists(t){return Xe(this,void 0,void 0,function*(){const n=this._getFinalPath(t);try{return yield eq(this.fetch,`${this.url}/object/${n}`,{headers:this.headers}),{data:!0,error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(wn(r)&&r instanceof vv){const i=r.originalError;if([400,404].includes(i?.status))return{data:!1,error:r}}throw r}})}getPublicUrl(t,n){const r=this._getFinalPath(t),i=[],a=n?.download?`download=${n.download===!0?"":n.download}`:"";a!==""&&i.push(a);const c=typeof n?.transform<"u"?"render/image":"object",d=this.transformOptsToQueryString(n?.transform||{});d!==""&&i.push(d);let f=i.join("&");return f!==""&&(f=`?${f}`),{data:{publicUrl:encodeURI(`${this.url}/${c}/public/${r}${f}`)}}}remove(t){return Xe(this,void 0,void 0,function*(){try{return{data:yield E2(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:t},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(wn(n))return{data:null,error:n};throw n}})}list(t,n,r){return Xe(this,void 0,void 0,function*(){try{const i=Object.assign(Object.assign(Object.assign({},rq),n),{prefix:t||""});return{data:yield co(this.fetch,`${this.url}/object/list/${this.bucketId}`,i,{headers:this.headers},r),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(wn(i))return{data:null,error:i};throw i}})}listV2(t,n){return Xe(this,void 0,void 0,function*(){try{const r=Object.assign({},t);return{data:yield co(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,r,{headers:this.headers},n),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(wn(r))return{data:null,error:r};throw r}})}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return typeof Buffer<"u"?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t.replace(/^\/+/,"")}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){const n=[];return t.width&&n.push(`width=${t.width}`),t.height&&n.push(`height=${t.height}`),t.resize&&n.push(`resize=${t.resize}`),t.format&&n.push(`format=${t.format}`),t.quality&&n.push(`quality=${t.quality}`),n.join("&")}}const t$="2.86.2",n$={"X-Client-Info":`storage-js/${t$}`};class aq{constructor(t,n={},r,i){this.shouldThrowOnError=!1;const a=new URL(t);i?.useNewHostname&&/supabase\.(co|in|red)$/.test(a.hostname)&&!a.hostname.includes("storage.supabase.")&&(a.hostname=a.hostname.replace("supabase.","storage.supabase.")),this.url=a.href.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},n$),n),this.fetch=S2(r)}throwOnError(){return this.shouldThrowOnError=!0,this}listBuckets(t){return Xe(this,void 0,void 0,function*(){try{const n=this.listBucketOptionsToQueryString(t);return{data:yield am(this.fetch,`${this.url}/bucket${n}`,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(wn(n))return{data:null,error:n};throw n}})}getBucket(t){return Xe(this,void 0,void 0,function*(){try{return{data:yield am(this.fetch,`${this.url}/bucket/${t}`,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(wn(n))return{data:null,error:n};throw n}})}createBucket(t){return Xe(this,arguments,void 0,function*(n,r={public:!1}){try{return{data:yield co(this.fetch,`${this.url}/bucket`,{id:n,name:n,type:r.type,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(wn(i))return{data:null,error:i};throw i}})}updateBucket(t,n){return Xe(this,void 0,void 0,function*(){try{return{data:yield BS(this.fetch,`${this.url}/bucket/${t}`,{id:t,name:t,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(wn(r))return{data:null,error:r};throw r}})}emptyBucket(t){return Xe(this,void 0,void 0,function*(){try{return{data:yield co(this.fetch,`${this.url}/bucket/${t}/empty`,{},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(wn(n))return{data:null,error:n};throw n}})}deleteBucket(t){return Xe(this,void 0,void 0,function*(){try{return{data:yield E2(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(wn(n))return{data:null,error:n};throw n}})}listBucketOptionsToQueryString(t){const n={};return t&&("limit"in t&&(n.limit=String(t.limit)),"offset"in t&&(n.offset=String(t.offset)),t.search&&(n.search=t.search),t.sortColumn&&(n.sortColumn=t.sortColumn),t.sortOrder&&(n.sortOrder=t.sortOrder)),Object.keys(n).length>0?"?"+new URLSearchParams(n).toString():""}}var om=class extends Error{constructor(e,t){super(e),this.name="IcebergError",this.status=t.status,this.icebergType=t.icebergType,this.icebergCode=t.icebergCode,this.details=t.details,this.isCommitStateUnknown=t.icebergType==="CommitStateUnknownException"||[500,502,504].includes(t.status)&&t.icebergType?.includes("CommitState")===!0}isNotFound(){return this.status===404}isConflict(){return this.status===409}isAuthenticationTimeout(){return this.status===419}};function oq(e,t,n){const r=new URL(t,e);if(n)for(const[i,a]of Object.entries(n))a!==void 0&&r.searchParams.set(i,a);return r.toString()}async function sq(e){return!e||e.type==="none"?{}:e.type==="bearer"?{Authorization:`Bearer ${e.token}`}:e.type==="header"?{[e.name]:e.value}:e.type==="custom"?await e.getHeaders():{}}function lq(e){const t=e.fetchImpl??globalThis.fetch;return{async request({method:n,path:r,query:i,body:a,headers:s}){const c=oq(e.baseUrl,r,i),d=await sq(e.auth),f=await t(c,{method:n,headers:{...a?{"Content-Type":"application/json"}:{},...d,...s},body:a?JSON.stringify(a):void 0}),m=await f.text(),p=(f.headers.get("content-type")||"").includes("application/json"),y=p&&m?JSON.parse(m):m;if(!f.ok){const b=p?y:void 0,x=b?.error;throw new om(x?.message??`Request failed with status ${f.status}`,{status:f.status,icebergType:x?.type,icebergCode:x?.code,details:b})}return{status:f.status,headers:f.headers,data:y}}}}function qg(e){return e.join("")}var cq=class{constructor(e,t=""){this.client=e,this.prefix=t}async listNamespaces(e){const t=e?{parent:qg(e.namespace)}:void 0;return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces`,query:t})).data.namespaces.map(r=>({namespace:r}))}async createNamespace(e,t){const n={namespace:e.namespace,properties:t?.properties};return(await this.client.request({method:"POST",path:`${this.prefix}/namespaces`,body:n})).data}async dropNamespace(e){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${qg(e.namespace)}`})}async loadNamespaceMetadata(e){return{properties:(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${qg(e.namespace)}`})).data.properties}}async namespaceExists(e){try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${qg(e.namespace)}`}),!0}catch(t){if(t instanceof om&&t.status===404)return!1;throw t}}async createNamespaceIfNotExists(e,t){try{return await this.createNamespace(e,t)}catch(n){if(n instanceof om&&n.status===409)return;throw n}}};function md(e){return e.join("")}var uq=class{constructor(e,t="",n){this.client=e,this.prefix=t,this.accessDelegation=n}async listTables(e){return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${md(e.namespace)}/tables`})).data.identifiers}async createTable(e,t){const n={};return this.accessDelegation&&(n["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${md(e.namespace)}/tables`,body:t,headers:n})).data.metadata}async updateTable(e,t){const n=await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${md(e.namespace)}/tables/${e.name}`,body:t});return{"metadata-location":n.data["metadata-location"],metadata:n.data.metadata}}async dropTable(e,t){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${md(e.namespace)}/tables/${e.name}`,query:{purgeRequested:String(t?.purge??!1)}})}async loadTable(e){const t={};return this.accessDelegation&&(t["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${md(e.namespace)}/tables/${e.name}`,headers:t})).data.metadata}async tableExists(e){const t={};this.accessDelegation&&(t["X-Iceberg-Access-Delegation"]=this.accessDelegation);try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${md(e.namespace)}/tables/${e.name}`,headers:t}),!0}catch(n){if(n instanceof om&&n.status===404)return!1;throw n}}async createTableIfNotExists(e,t){try{return await this.createTable(e,t)}catch(n){if(n instanceof om&&n.status===409)return await this.loadTable({namespace:e.namespace,name:t.name});throw n}}},dq=class{constructor(e){let t="v1";e.catalogName&&(t+=`/${e.catalogName}`);const n=e.baseUrl.endsWith("/")?e.baseUrl:`${e.baseUrl}/`;this.client=lq({baseUrl:n,auth:e.auth,fetchImpl:e.fetch}),this.accessDelegation=e.accessDelegation?.join(","),this.namespaceOps=new cq(this.client,t),this.tableOps=new uq(this.client,t,this.accessDelegation)}async listNamespaces(e){return this.namespaceOps.listNamespaces(e)}async createNamespace(e,t){return this.namespaceOps.createNamespace(e,t)}async dropNamespace(e){await this.namespaceOps.dropNamespace(e)}async loadNamespaceMetadata(e){return this.namespaceOps.loadNamespaceMetadata(e)}async listTables(e){return this.tableOps.listTables(e)}async createTable(e,t){return this.tableOps.createTable(e,t)}async updateTable(e,t){return this.tableOps.updateTable(e,t)}async dropTable(e,t){await this.tableOps.dropTable(e,t)}async loadTable(e){return this.tableOps.loadTable(e)}async namespaceExists(e){return this.namespaceOps.namespaceExists(e)}async tableExists(e){return this.tableOps.tableExists(e)}async createNamespaceIfNotExists(e,t){return this.namespaceOps.createNamespaceIfNotExists(e,t)}async createTableIfNotExists(e,t){return this.tableOps.createTableIfNotExists(e,t)}};class r${constructor(t,n={},r){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},n$),n),this.fetch=S2(r)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(t){return Xe(this,void 0,void 0,function*(){try{return{data:yield co(this.fetch,`${this.url}/bucket`,{name:t},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(wn(n))return{data:null,error:n};throw n}})}listBuckets(t){return Xe(this,void 0,void 0,function*(){try{const n=new URLSearchParams;t?.limit!==void 0&&n.set("limit",t.limit.toString()),t?.offset!==void 0&&n.set("offset",t.offset.toString()),t?.sortColumn&&n.set("sortColumn",t.sortColumn),t?.sortOrder&&n.set("sortOrder",t.sortOrder),t?.search&&n.set("search",t.search);const r=n.toString(),i=r?`${this.url}/bucket?${r}`:`${this.url}/bucket`;return{data:yield am(this.fetch,i,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(wn(n))return{data:null,error:n};throw n}})}deleteBucket(t){return Xe(this,void 0,void 0,function*(){try{return{data:yield E2(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(wn(n))return{data:null,error:n};throw n}})}from(t){if(!XG(t))throw new Um("Invalid bucket name: File, folder, and bucket names must follow AWS object key naming guidelines and should avoid the use of any other characters.");return new dq({baseUrl:this.url,catalogName:t,auth:{type:"custom",getHeaders:()=>Xe(this,void 0,void 0,function*(){return this.headers})},fetch:this.fetch})}}const A2={"X-Client-Info":`storage-js/${t$}`,"Content-Type":"application/json"};class T2 extends Error{constructor(t){super(t),this.__isStorageVectorsError=!0,this.name="StorageVectorsError"}}function Mi(e){return typeof e=="object"&&e!==null&&"__isStorageVectorsError"in e}class Z0 extends T2{constructor(t,n,r){super(t),this.name="StorageVectorsApiError",this.status=n,this.statusCode=r}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class i$ extends T2{constructor(t,n){super(t),this.name="StorageVectorsUnknownError",this.originalError=n}}var zS;(function(e){e.InternalError="InternalError",e.S3VectorConflictException="S3VectorConflictException",e.S3VectorNotFoundException="S3VectorNotFoundException",e.S3VectorBucketNotEmpty="S3VectorBucketNotEmpty",e.S3VectorMaxBucketsExceeded="S3VectorMaxBucketsExceeded",e.S3VectorMaxIndexesExceeded="S3VectorMaxIndexesExceeded"})(zS||(zS={}));const Ly=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),fq=()=>Response,a$=e=>{if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},hq=e=>Array.from(new Float32Array(e)),mq=(e,t)=>{if(t!==void 0&&e.float32.length!==t)throw new Error(`Vector dimension mismatch: expected ${t}, got ${e.float32.length}`)},MN=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),pq=(e,t,n)=>Xe(void 0,void 0,void 0,function*(){if(e&&typeof e=="object"&&"status"in e&&"ok"in e&&typeof e.status=="number"&&!n?.noResolveJson){const i=e.status||500,a=e;if(typeof a.json=="function")a.json().then(s=>{const c=s?.statusCode||s?.code||i+"";t(new Z0(MN(s),i,c))}).catch(()=>{const s=i+"",c=a.statusText||`HTTP ${i} error`;t(new Z0(c,i,s))});else{const s=i+"",c=a.statusText||`HTTP ${i} error`;t(new Z0(c,i,s))}}else t(new i$(MN(e),e))}),gq=(e,t,n,r)=>{const i={method:e,headers:t?.headers||{}};return r?(a$(r)?(i.headers=Object.assign({"Content-Type":"application/json"},t?.headers),i.body=JSON.stringify(r)):i.body=r,Object.assign(Object.assign({},i),n)):i};function vq(e,t,n,r,i,a){return Xe(this,void 0,void 0,function*(){return new Promise((s,c)=>{e(n,gq(t,r,i,a)).then(d=>{if(!d.ok)throw d;if(r?.noResolveJson)return d;const f=d.headers.get("content-type");return!f||!f.includes("application/json")?{}:d.json()}).then(d=>s(d)).catch(d=>pq(d,c,r))})})}function ta(e,t,n,r,i){return Xe(this,void 0,void 0,function*(){return vq(e,"POST",t,r,i,n)})}class o${constructor(t,n={},r){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},A2),n),this.fetch=Ly(r)}throwOnError(){return this.shouldThrowOnError=!0,this}createIndex(t){return Xe(this,void 0,void 0,function*(){try{return{data:(yield ta(this.fetch,`${this.url}/CreateIndex`,t,{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Mi(n))return{data:null,error:n};throw n}})}getIndex(t,n){return Xe(this,void 0,void 0,function*(){try{return{data:yield ta(this.fetch,`${this.url}/GetIndex`,{vectorBucketName:t,indexName:n},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Mi(r))return{data:null,error:r};throw r}})}listIndexes(t){return Xe(this,void 0,void 0,function*(){try{return{data:yield ta(this.fetch,`${this.url}/ListIndexes`,t,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Mi(n))return{data:null,error:n};throw n}})}deleteIndex(t,n){return Xe(this,void 0,void 0,function*(){try{return{data:(yield ta(this.fetch,`${this.url}/DeleteIndex`,{vectorBucketName:t,indexName:n},{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Mi(r))return{data:null,error:r};throw r}})}}class s${constructor(t,n={},r){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},A2),n),this.fetch=Ly(r)}throwOnError(){return this.shouldThrowOnError=!0,this}putVectors(t){return Xe(this,void 0,void 0,function*(){try{if(t.vectors.length<1||t.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return{data:(yield ta(this.fetch,`${this.url}/PutVectors`,t,{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Mi(n))return{data:null,error:n};throw n}})}getVectors(t){return Xe(this,void 0,void 0,function*(){try{return{data:yield ta(this.fetch,`${this.url}/GetVectors`,t,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Mi(n))return{data:null,error:n};throw n}})}listVectors(t){return Xe(this,void 0,void 0,function*(){try{if(t.segmentCount!==void 0){if(t.segmentCount<1||t.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(t.segmentIndex!==void 0&&(t.segmentIndex<0||t.segmentIndex>=t.segmentCount))throw new Error(`segmentIndex must be between 0 and ${t.segmentCount-1}`)}return{data:yield ta(this.fetch,`${this.url}/ListVectors`,t,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Mi(n))return{data:null,error:n};throw n}})}queryVectors(t){return Xe(this,void 0,void 0,function*(){try{return{data:yield ta(this.fetch,`${this.url}/QueryVectors`,t,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Mi(n))return{data:null,error:n};throw n}})}deleteVectors(t){return Xe(this,void 0,void 0,function*(){try{if(t.keys.length<1||t.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return{data:(yield ta(this.fetch,`${this.url}/DeleteVectors`,t,{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Mi(n))return{data:null,error:n};throw n}})}}class l${constructor(t,n={},r){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},A2),n),this.fetch=Ly(r)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(t){return Xe(this,void 0,void 0,function*(){try{return{data:(yield ta(this.fetch,`${this.url}/CreateVectorBucket`,{vectorBucketName:t},{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Mi(n))return{data:null,error:n};throw n}})}getBucket(t){return Xe(this,void 0,void 0,function*(){try{return{data:yield ta(this.fetch,`${this.url}/GetVectorBucket`,{vectorBucketName:t},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Mi(n))return{data:null,error:n};throw n}})}listBuckets(){return Xe(this,arguments,void 0,function*(t={}){try{return{data:yield ta(this.fetch,`${this.url}/ListVectorBuckets`,t,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Mi(n))return{data:null,error:n};throw n}})}deleteBucket(t){return Xe(this,void 0,void 0,function*(){try{return{data:(yield ta(this.fetch,`${this.url}/DeleteVectorBucket`,{vectorBucketName:t},{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Mi(n))return{data:null,error:n};throw n}})}}class c$ extends l${constructor(t,n={}){super(t,n.headers||{},n.fetch)}from(t){return new u$(this.url,this.headers,t,this.fetch)}createBucket(t){const n=Object.create(null,{createBucket:{get:()=>super.createBucket}});return Xe(this,void 0,void 0,function*(){return n.createBucket.call(this,t)})}getBucket(t){const n=Object.create(null,{getBucket:{get:()=>super.getBucket}});return Xe(this,void 0,void 0,function*(){return n.getBucket.call(this,t)})}listBuckets(){const t=Object.create(null,{listBuckets:{get:()=>super.listBuckets}});return Xe(this,arguments,void 0,function*(n={}){return t.listBuckets.call(this,n)})}deleteBucket(t){const n=Object.create(null,{deleteBucket:{get:()=>super.deleteBucket}});return Xe(this,void 0,void 0,function*(){return n.deleteBucket.call(this,t)})}}class u$ extends o${constructor(t,n,r,i){super(t,n,i),this.vectorBucketName=r}createIndex(t){const n=Object.create(null,{createIndex:{get:()=>super.createIndex}});return Xe(this,void 0,void 0,function*(){return n.createIndex.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName}))})}listIndexes(){const t=Object.create(null,{listIndexes:{get:()=>super.listIndexes}});return Xe(this,arguments,void 0,function*(n={}){return t.listIndexes.call(this,Object.assign(Object.assign({},n),{vectorBucketName:this.vectorBucketName}))})}getIndex(t){const n=Object.create(null,{getIndex:{get:()=>super.getIndex}});return Xe(this,void 0,void 0,function*(){return n.getIndex.call(this,this.vectorBucketName,t)})}deleteIndex(t){const n=Object.create(null,{deleteIndex:{get:()=>super.deleteIndex}});return Xe(this,void 0,void 0,function*(){return n.deleteIndex.call(this,this.vectorBucketName,t)})}index(t){return new d$(this.url,this.headers,this.vectorBucketName,t,this.fetch)}}class d$ extends s${constructor(t,n,r,i,a){super(t,n,a),this.vectorBucketName=r,this.indexName=i}putVectors(t){const n=Object.create(null,{putVectors:{get:()=>super.putVectors}});return Xe(this,void 0,void 0,function*(){return n.putVectors.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}getVectors(t){const n=Object.create(null,{getVectors:{get:()=>super.getVectors}});return Xe(this,void 0,void 0,function*(){return n.getVectors.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}listVectors(){const t=Object.create(null,{listVectors:{get:()=>super.listVectors}});return Xe(this,arguments,void 0,function*(n={}){return t.listVectors.call(this,Object.assign(Object.assign({},n),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}queryVectors(t){const n=Object.create(null,{queryVectors:{get:()=>super.queryVectors}});return Xe(this,void 0,void 0,function*(){return n.queryVectors.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}deleteVectors(t){const n=Object.create(null,{deleteVectors:{get:()=>super.deleteVectors}});return Xe(this,void 0,void 0,function*(){return n.deleteVectors.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}}class yq extends aq{constructor(t,n={},r,i){super(t,n,r,i)}from(t){return new iq(this.url,this.headers,t,this.fetch)}get vectors(){return new c$(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new r$(this.url+"/iceberg",this.headers,this.fetch)}}const bq=Object.freeze(Object.defineProperty({__proto__:null,StorageAnalyticsClient:r$,StorageApiError:QI,StorageClient:yq,StorageError:Um,StorageUnknownError:vv,StorageVectorsApiError:Z0,StorageVectorsClient:c$,StorageVectorsError:T2,get StorageVectorsErrorCode(){return zS},StorageVectorsUnknownError:i$,VectorBucketApi:l$,VectorBucketScope:u$,VectorDataApi:s$,VectorIndexApi:o$,VectorIndexScope:d$,isPlainObject:a$,isStorageError:wn,isStorageVectorsError:Mi,normalizeToFloat32:hq,resolveFetch:Ly,resolveResponse:fq,validateVectorDimension:mq},Symbol.toStringTag,{value:"Module"})),_q=Rm(bq);var Gx={},Ah={},DN;function xq(){return DN||(DN=1,Object.defineProperty(Ah,"__esModule",{value:!0}),Ah.version=void 0,Ah.version="2.86.2"),Ah}var PN;function wq(){return PN||(PN=1,(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.DEFAULT_REALTIME_OPTIONS=e.DEFAULT_AUTH_OPTIONS=e.DEFAULT_DB_OPTIONS=e.DEFAULT_GLOBAL_OPTIONS=e.DEFAULT_HEADERS=void 0;const t=xq();let n="";typeof Deno<"u"?n="deno":typeof document<"u"?n="web":typeof navigator<"u"&&navigator.product==="ReactNative"?n="react-native":n="node",e.DEFAULT_HEADERS={"X-Client-Info":`supabase-js-${n}/${t.version}`},e.DEFAULT_GLOBAL_OPTIONS={headers:e.DEFAULT_HEADERS},e.DEFAULT_DB_OPTIONS={schema:"public"},e.DEFAULT_AUTH_OPTIONS={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},e.DEFAULT_REALTIME_OPTIONS={}})(Gx)),Gx}var qx={},RN;function Sq(){return RN||(RN=1,(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.fetchWithAuth=e.resolveHeadersConstructor=e.resolveFetch=void 0;const t=i=>i?(...a)=>i(...a):(...a)=>fetch(...a);e.resolveFetch=t;const n=()=>Headers;e.resolveHeadersConstructor=n;const r=(i,a,s)=>{const c=(0,e.resolveFetch)(s),d=(0,e.resolveHeadersConstructor)();return async(f,m)=>{var p;const y=(p=await a())!==null&&p!==void 0?p:i;let b=new d(m?.headers);return b.has("apikey")||b.set("apikey",i),b.has("Authorization")||b.set("Authorization",`Bearer ${y}`),c(f,Object.assign(Object.assign({},m),{headers:b}))}};e.fetchWithAuth=r})(qx)),qx}var ys={},LN;function Eq(){if(LN)return ys;LN=1,Object.defineProperty(ys,"__esModule",{value:!0}),ys.isBrowser=void 0,ys.uuid=e,ys.ensureTrailingSlash=t,ys.applySettingDefaults=r,ys.validateSupabaseUrl=i;function e(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(a){var s=Math.random()*16|0,c=a=="x"?s:s&3|8;return c.toString(16)})}function t(a){return a.endsWith("/")?a:a+"/"}const n=()=>typeof window<"u";ys.isBrowser=n;function r(a,s){var c,d;const{db:f,auth:m,realtime:p,global:y}=a,{db:b,auth:x,realtime:T,global:S}=s,j={db:Object.assign(Object.assign({},b),f),auth:Object.assign(Object.assign({},x),m),realtime:Object.assign(Object.assign({},T),p),storage:{},global:Object.assign(Object.assign(Object.assign({},S),y),{headers:Object.assign(Object.assign({},(c=S?.headers)!==null&&c!==void 0?c:{}),(d=y?.headers)!==null&&d!==void 0?d:{})}),accessToken:async()=>""};return a.accessToken?j.accessToken=a.accessToken:delete j.accessToken,j}function i(a){const s=a?.trim();if(!s)throw new Error("supabaseUrl is required.");if(!s.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(t(s))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}return ys}var Th={};const f$="2.86.2",kd=30*1e3,US=3,Yx=US*kd,Aq="http://localhost:9999",Tq="supabase.auth.token",kq={"X-Client-Info":`gotrue-js/${f$}`},HS="X-Supabase-Api-Version",h$={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},Oq=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,jq=600*1e3;let Yd=class extends Error{constructor(t,n,r){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=n,this.code=r}};function Qe(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}let m$=class extends Yd{constructor(t,n,r){super(t,n,r),this.name="AuthApiError",this.status=n,this.code=r}};function p$(e){return Qe(e)&&e.name==="AuthApiError"}let zl=class extends Yd{constructor(t,n){super(t),this.name="AuthUnknownError",this.originalError=n}},Us=class extends Yd{constructor(t,n,r,i){super(t,r,i),this.name=n,this.status=r}},ji=class extends Us{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}};function g$(e){return Qe(e)&&e.name==="AuthSessionMissingError"}let Yc=class extends Us{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}},Fh=class extends Us{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}},Gh=class extends Us{constructor(t,n=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}};function v$(e){return Qe(e)&&e.name==="AuthImplicitGrantRedirectError"}let FS=class extends Us{constructor(t,n=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}},yv=class extends Us{constructor(t,n){super(t,"AuthRetryableFetchError",n,void 0)}};function X0(e){return Qe(e)&&e.name==="AuthRetryableFetchError"}let GS=class extends Us{constructor(t,n,r){super(t,"AuthWeakPasswordError",n,"weak_password"),this.reasons=r}};function Nq(e){return Qe(e)&&e.name==="AuthWeakPasswordError"}let bv=class extends Us{constructor(t){super(t,"AuthInvalidJwtError",400,"invalid_jwt")}};const _v="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),IN=` 	
\r=`.split(""),Cq=(()=>{const e=new Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<IN.length;t+=1)e[IN[t].charCodeAt(0)]=-2;for(let t=0;t<_v.length;t+=1)e[_v[t].charCodeAt(0)]=t;return e})();function $N(e,t,n){if(e!==null)for(t.queue=t.queue<<8|e,t.queuedBits+=8;t.queuedBits>=6;){const r=t.queue>>t.queuedBits-6&63;n(_v[r]),t.queuedBits-=6}else if(t.queuedBits>0)for(t.queue=t.queue<<6-t.queuedBits,t.queuedBits=6;t.queuedBits>=6;){const r=t.queue>>t.queuedBits-6&63;n(_v[r]),t.queuedBits-=6}}function y$(e,t,n){const r=Cq[e];if(r>-1)for(t.queue=t.queue<<6|r,t.queuedBits+=6;t.queuedBits>=8;)n(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else{if(r===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`)}}function BN(e){const t=[],n=s=>{t.push(String.fromCodePoint(s))},r={utf8seq:0,codepoint:0},i={queue:0,queuedBits:0},a=s=>{Pq(s,r,n)};for(let s=0;s<e.length;s+=1)y$(e.charCodeAt(s),i,a);return t.join("")}function Mq(e,t){if(e<=127){t(e);return}else if(e<=2047){t(192|e>>6),t(128|e&63);return}else if(e<=65535){t(224|e>>12),t(128|e>>6&63),t(128|e&63);return}else if(e<=1114111){t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),t(128|e&63);return}throw new Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}function Dq(e,t){for(let n=0;n<e.length;n+=1){let r=e.charCodeAt(n);if(r>55295&&r<=56319){const i=(r-55296)*1024&65535;r=(e.charCodeAt(n+1)-56320&65535|i)+65536,n+=1}Mq(r,t)}}function Pq(e,t,n){if(t.utf8seq===0){if(e<=127){n(e);return}for(let r=1;r<6;r+=1)if((e>>7-r&1)===0){t.utf8seq=r;break}if(t.utf8seq===2)t.codepoint=e&31;else if(t.utf8seq===3)t.codepoint=e&15;else if(t.utf8seq===4)t.codepoint=e&7;else throw new Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|e&63,t.utf8seq-=1,t.utf8seq===0&&n(t.codepoint)}}function zd(e){const t=[],n={queue:0,queuedBits:0},r=i=>{t.push(i)};for(let i=0;i<e.length;i+=1)y$(e.charCodeAt(i),n,r);return new Uint8Array(t)}function Rq(e){const t=[];return Dq(e,n=>t.push(n)),new Uint8Array(t)}function nu(e){const t=[],n={queue:0,queuedBits:0},r=i=>{t.push(i)};return e.forEach(i=>$N(i,n,r)),$N(null,n,r),t.join("")}function Lq(e){return Math.round(Date.now()/1e3)+e}function Iq(){return Symbol("auth-callback")}const Lr=()=>typeof window<"u"&&typeof document<"u",Ic={tested:!1,writable:!1},b$=()=>{if(!Lr())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Ic.tested)return Ic.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),Ic.tested=!0,Ic.writable=!0}catch{Ic.tested=!0,Ic.writable=!1}return Ic.writable};function $q(e){const t={},n=new URL(e);if(n.hash&&n.hash[0]==="#")try{new URLSearchParams(n.hash.substring(1)).forEach((i,a)=>{t[a]=i})}catch{}return n.searchParams.forEach((r,i)=>{t[i]=r}),t}const _$=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),Bq=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",Od=async(e,t,n)=>{await e.setItem(t,JSON.stringify(n))},$c=async(e,t)=>{const n=await e.getItem(t);if(!n)return null;try{return JSON.parse(n)}catch{return n}},Pr=async(e,t)=>{await e.removeItem(t)};class Iy{constructor(){this.promise=new Iy.promiseConstructor((t,n)=>{this.resolve=t,this.reject=n})}}Iy.promiseConstructor=Promise;function Kx(e){const t=e.split(".");if(t.length!==3)throw new bv("Invalid JWT structure");for(let r=0;r<t.length;r++)if(!Oq.test(t[r]))throw new bv("JWT not in base64url format");return{header:JSON.parse(BN(t[0])),payload:JSON.parse(BN(t[1])),signature:zd(t[2]),raw:{header:t[0],payload:t[1]}}}async function zq(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}function Uq(e,t){return new Promise((r,i)=>{(async()=>{for(let a=0;a<1/0;a++)try{const s=await e(a);if(!t(a,null,s)){r(s);return}}catch(s){if(!t(a,s)){i(s);return}}})()})}function Hq(e){return("0"+e.toString(16)).substr(-2)}function Fq(){const t=new Uint32Array(56);if(typeof crypto>"u"){const n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",r=n.length;let i="";for(let a=0;a<56;a++)i+=n.charAt(Math.floor(Math.random()*r));return i}return crypto.getRandomValues(t),Array.from(t,Hq).join("")}async function Gq(e){const n=new TextEncoder().encode(e),r=await crypto.subtle.digest("SHA-256",n),i=new Uint8Array(r);return Array.from(i).map(a=>String.fromCharCode(a)).join("")}async function qq(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const n=await Gq(e);return btoa(n).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function pd(e,t,n=!1){const r=Fq();let i=r;n&&(i+="/PASSWORD_RECOVERY"),await Od(e,`${t}-code-verifier`,i);const a=await qq(r);return[a,r===a?"plain":"s256"]}const Yq=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function Kq(e){const t=e.headers.get(HS);if(!t||!t.match(Yq))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}function Wq(e){if(!e)throw new Error("Missing exp claim");const t=Math.floor(Date.now()/1e3);if(e<=t)throw new Error("JWT has expired")}function Vq(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const Zq=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function gd(e){if(!Zq.test(e))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function Wx(){const e={};return new Proxy(e,{get:(t,n)=>{if(n==="__isUserNotAvailableProxy")return!0;if(typeof n=="symbol"){const r=n.toString();if(r==="Symbol(Symbol.toPrimitive)"||r==="Symbol(Symbol.toStringTag)"||r==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${n}" property of the session object is not supported. Please use getUser() instead.`)},set:(t,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(t,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function Xq(e,t){return new Proxy(e,{get:(n,r,i)=>{if(r==="__isInsecureUserWarningProxy")return!0;if(typeof r=="symbol"){const a=r.toString();if(a==="Symbol(Symbol.toPrimitive)"||a==="Symbol(Symbol.toStringTag)"||a==="Symbol(util.inspect.custom)"||a==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(n,r,i)}return!t.value&&typeof r=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),t.value=!0),Reflect.get(n,r,i)}})}function zN(e){return JSON.parse(JSON.stringify(e))}const Kc=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),Jq=[502,503,504];async function UN(e){var t;if(!Bq(e))throw new yv(Kc(e),0);if(Jq.includes(e.status))throw new yv(Kc(e),e.status);let n;try{n=await e.json()}catch(a){throw new zl(Kc(a),a)}let r;const i=Kq(e);if(i&&i.getTime()>=h$["2024-01-01"].timestamp&&typeof n=="object"&&n&&typeof n.code=="string"?r=n.code:typeof n=="object"&&n&&typeof n.error_code=="string"&&(r=n.error_code),r){if(r==="weak_password")throw new GS(Kc(n),e.status,((t=n.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(r==="session_not_found")throw new ji}else if(typeof n=="object"&&n&&typeof n.weak_password=="object"&&n.weak_password&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.reasons.reduce((a,s)=>a&&typeof s=="string",!0))throw new GS(Kc(n),e.status,n.weak_password.reasons);throw new m$(Kc(n),e.status||500,r)}const Qq=(e,t,n,r)=>{const i={method:e,headers:t?.headers||{}};return e==="GET"?i:(i.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t?.headers),i.body=JSON.stringify(r),Object.assign(Object.assign({},i),n))};async function st(e,t,n,r){var i;const a=Object.assign({},r?.headers);a[HS]||(a[HS]=h$["2024-01-01"].name),r?.jwt&&(a.Authorization=`Bearer ${r.jwt}`);const s=(i=r?.query)!==null&&i!==void 0?i:{};r?.redirectTo&&(s.redirect_to=r.redirectTo);const c=Object.keys(s).length?"?"+new URLSearchParams(s).toString():"",d=await eY(e,t,n+c,{headers:a,noResolveJson:r?.noResolveJson},{},r?.body);return r?.xform?r?.xform(d):{data:Object.assign({},d),error:null}}async function eY(e,t,n,r,i,a){const s=Qq(t,r,i,a);let c;try{c=await e(n,Object.assign({},s))}catch(d){throw console.error(d),new yv(Kc(d),0)}if(c.ok||await UN(c),r?.noResolveJson)return c;try{return await c.json()}catch(d){await UN(d)}}function so(e){var t;let n=null;rY(e)&&(n=Object.assign({},e),e.expires_at||(n.expires_at=Lq(e.expires_in)));const r=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:n,user:r},error:null}}function HN(e){const t=so(e);return!t.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((n,r)=>n&&typeof r=="string",!0)&&(t.data.weak_password=e.weak_password),t}function Ul(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function tY(e){return{data:e,error:null}}function nY(e){const{action_link:t,email_otp:n,hashed_token:r,redirect_to:i,verification_type:a}=e,s=uf(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),c={action_link:t,email_otp:n,hashed_token:r,redirect_to:i,verification_type:a},d=Object.assign({},s);return{data:{properties:c,user:d},error:null}}function FN(e){return e}function rY(e){return e.access_token&&e.refresh_token&&e.expires_in}const J0=["global","local","others"];let k2=class{constructor({url:t="",headers:n={},fetch:r}){this.url=t,this.headers=n,this.fetch=_$(r),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(t,n=J0[0]){if(J0.indexOf(n)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${J0.join(", ")}`);try{return await st(this.fetch,"POST",`${this.url}/logout?scope=${n}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(r){if(Qe(r))return{data:null,error:r};throw r}}async inviteUserByEmail(t,n={}){try{return await st(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:n.data},headers:this.headers,redirectTo:n.redirectTo,xform:Ul})}catch(r){if(Qe(r))return{data:{user:null},error:r};throw r}}async generateLink(t){try{const{options:n}=t,r=uf(t,["options"]),i=Object.assign(Object.assign({},r),n);return"newEmail"in r&&(i.new_email=r?.newEmail,delete i.newEmail),await st(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:i,headers:this.headers,xform:nY,redirectTo:n?.redirectTo})}catch(n){if(Qe(n))return{data:{properties:null,user:null},error:n};throw n}}async createUser(t){try{return await st(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:Ul})}catch(n){if(Qe(n))return{data:{user:null},error:n};throw n}}async listUsers(t){var n,r,i,a,s,c,d;try{const f={nextPage:null,lastPage:0,total:0},m=await st(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(n=t?.page)===null||n===void 0?void 0:n.toString())!==null&&r!==void 0?r:"",per_page:(a=(i=t?.perPage)===null||i===void 0?void 0:i.toString())!==null&&a!==void 0?a:""},xform:FN});if(m.error)throw m.error;const p=await m.json(),y=(s=m.headers.get("x-total-count"))!==null&&s!==void 0?s:0,b=(d=(c=m.headers.get("link"))===null||c===void 0?void 0:c.split(","))!==null&&d!==void 0?d:[];return b.length>0&&(b.forEach(x=>{const T=parseInt(x.split(";")[0].split("=")[1].substring(0,1)),S=JSON.parse(x.split(";")[1].split("=")[1]);f[`${S}Page`]=T}),f.total=parseInt(y)),{data:Object.assign(Object.assign({},p),f),error:null}}catch(f){if(Qe(f))return{data:{users:[]},error:f};throw f}}async getUserById(t){gd(t);try{return await st(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:Ul})}catch(n){if(Qe(n))return{data:{user:null},error:n};throw n}}async updateUserById(t,n){gd(t);try{return await st(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:n,headers:this.headers,xform:Ul})}catch(r){if(Qe(r))return{data:{user:null},error:r};throw r}}async deleteUser(t,n=!1){gd(t);try{return await st(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:n},xform:Ul})}catch(r){if(Qe(r))return{data:{user:null},error:r};throw r}}async _listFactors(t){gd(t.userId);try{const{data:n,error:r}=await st(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:i=>({data:{factors:i},error:null})});return{data:n,error:r}}catch(n){if(Qe(n))return{data:null,error:n};throw n}}async _deleteFactor(t){gd(t.userId),gd(t.id);try{return{data:await st(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(n){if(Qe(n))return{data:null,error:n};throw n}}async _listOAuthClients(t){var n,r,i,a,s,c,d;try{const f={nextPage:null,lastPage:0,total:0},m=await st(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(n=t?.page)===null||n===void 0?void 0:n.toString())!==null&&r!==void 0?r:"",per_page:(a=(i=t?.perPage)===null||i===void 0?void 0:i.toString())!==null&&a!==void 0?a:""},xform:FN});if(m.error)throw m.error;const p=await m.json(),y=(s=m.headers.get("x-total-count"))!==null&&s!==void 0?s:0,b=(d=(c=m.headers.get("link"))===null||c===void 0?void 0:c.split(","))!==null&&d!==void 0?d:[];return b.length>0&&(b.forEach(x=>{const T=parseInt(x.split(";")[0].split("=")[1].substring(0,1)),S=JSON.parse(x.split(";")[1].split("=")[1]);f[`${S}Page`]=T}),f.total=parseInt(y)),{data:Object.assign(Object.assign({},p),f),error:null}}catch(f){if(Qe(f))return{data:{clients:[]},error:f};throw f}}async _createOAuthClient(t){try{return await st(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:t,headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(Qe(n))return{data:null,error:n};throw n}}async _getOAuthClient(t){try{return await st(this.fetch,"GET",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(Qe(n))return{data:null,error:n};throw n}}async _updateOAuthClient(t,n){try{return await st(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${t}`,{body:n,headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(Qe(r))return{data:null,error:r};throw r}}async _deleteOAuthClient(t){try{return await st(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(n){if(Qe(n))return{data:null,error:n};throw n}}async _regenerateOAuthClientSecret(t){try{return await st(this.fetch,"POST",`${this.url}/admin/oauth/clients/${t}/regenerate_secret`,{headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(Qe(n))return{data:null,error:n};throw n}}};function GN(e={}){return{getItem:t=>e[t]||null,setItem:(t,n)=>{e[t]=n},removeItem:t=>{delete e[t]}}}const Wc={debug:!!(globalThis&&b$()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class O2 extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}let x$=class extends O2{};class iY extends O2{}async function w$(e,t,n){Wc.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const r=new globalThis.AbortController;return t>0&&setTimeout(()=>{r.abort(),Wc.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:r.signal},async i=>{if(i){Wc.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,i.name);try{return await n()}finally{Wc.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,i.name)}}else{if(t===0)throw Wc.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new x$(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(Wc.debug)try{const a=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(a,null,"  "))}catch(a){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",a)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await n()}}))}const qN={};async function aY(e,t,n){var r;const i=(r=qN[e])!==null&&r!==void 0?r:Promise.resolve(),a=Promise.race([i.catch(()=>null),t>=0?new Promise((s,c)=>{setTimeout(()=>{c(new iY(`Acquring process lock with name "${e}" timed out`))},t)}):null].filter(s=>s)).catch(s=>{if(s&&s.isAcquireTimeout)throw s;return null}).then(async()=>await n());return qN[e]=a.catch(async s=>{if(s&&s.isAcquireTimeout)return await i,null;throw s}),await a}function oY(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function S$(e){if(!/^0x[a-fA-F0-9]{40}$/.test(e))throw new Error(`@supabase/auth-js: Address "${e}" is invalid.`);return e.toLowerCase()}function sY(e){return parseInt(e,16)}function lY(e){const t=new TextEncoder().encode(e);return"0x"+Array.from(t,r=>r.toString(16).padStart(2,"0")).join("")}function cY(e){var t;const{chainId:n,domain:r,expirationTime:i,issuedAt:a=new Date,nonce:s,notBefore:c,requestId:d,resources:f,scheme:m,uri:p,version:y}=e;{if(!Number.isInteger(n))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${n}`);if(!r)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(s&&s.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${s}`);if(!p)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(y!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${y}`);if(!((t=e.statement)===null||t===void 0)&&t.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${e.statement}`)}const b=S$(e.address),x=m?`${m}://${r}`:r,T=e.statement?`${e.statement}
`:"",S=`${x} wants you to sign in with your Ethereum account:
${b}

${T}`;let j=`URI: ${p}
Version: ${y}
Chain ID: ${n}${s?`
Nonce: ${s}`:""}
Issued At: ${a.toISOString()}`;if(i&&(j+=`
Expiration Time: ${i.toISOString()}`),c&&(j+=`
Not Before: ${c.toISOString()}`),d&&(j+=`
Request ID: ${d}`),f){let D=`
Resources:`;for(const O of f){if(!O||typeof O!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${O}`);D+=`
- ${O}`}j+=D}return`${S}
${j}`}class tr extends Error{constructor({message:t,code:n,cause:r,name:i}){var a;super(t,{cause:r}),this.__isWebAuthnError=!0,this.name=(a=i??(r instanceof Error?r.name:void 0))!==null&&a!==void 0?a:"Unknown Error",this.code=n}}class xv extends tr{constructor(t,n){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:n,message:t}),this.name="WebAuthnUnknownError",this.originalError=n}}function uY({error:e,options:t}){var n,r,i;const{publicKey:a}=t;if(!a)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(t.signal instanceof AbortSignal)return new tr({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else if(e.name==="ConstraintError"){if(((n=a.authenticatorSelection)===null||n===void 0?void 0:n.requireResidentKey)===!0)return new tr({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:e});if(t.mediation==="conditional"&&((r=a.authenticatorSelection)===null||r===void 0?void 0:r.userVerification)==="required")return new tr({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:e});if(((i=a.authenticatorSelection)===null||i===void 0?void 0:i.userVerification)==="required")return new tr({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:e})}else{if(e.name==="InvalidStateError")return new tr({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:e});if(e.name==="NotAllowedError")return new tr({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="NotSupportedError")return a.pubKeyCredParams.filter(c=>c.type==="public-key").length===0?new tr({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:e}):new tr({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:e});if(e.name==="SecurityError"){const s=window.location.hostname;if(E$(s)){if(a.rp.id!==s)return new tr({message:`The RP ID "${a.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else return new tr({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="TypeError"){if(a.user.id.byteLength<1||a.user.id.byteLength>64)return new tr({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:e})}else if(e.name==="UnknownError")return new tr({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new tr({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}function dY({error:e,options:t}){const{publicKey:n}=t;if(!n)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(t.signal instanceof AbortSignal)return new tr({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else{if(e.name==="NotAllowedError")return new tr({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="SecurityError"){const r=window.location.hostname;if(E$(r)){if(n.rpId!==r)return new tr({message:`The RP ID "${n.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else return new tr({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="UnknownError")return new tr({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new tr({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}class fY{createNewAbortSignal(){if(this.controller){const n=new Error("Cancelling existing WebAuthn API call for new one");n.name="AbortError",this.controller.abort(n)}const t=new AbortController;return this.controller=t,t.signal}cancelCeremony(){if(this.controller){const t=new Error("Manually cancelling existing WebAuthn API call");t.name="AbortError",this.controller.abort(t),this.controller=void 0}}}const hY=new fY;function mY(e){if(!e)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(e);const{challenge:t,user:n,excludeCredentials:r}=e,i=uf(e,["challenge","user","excludeCredentials"]),a=zd(t).buffer,s=Object.assign(Object.assign({},n),{id:zd(n.id).buffer}),c=Object.assign(Object.assign({},i),{challenge:a,user:s});if(r&&r.length>0){c.excludeCredentials=new Array(r.length);for(let d=0;d<r.length;d++){const f=r[d];c.excludeCredentials[d]=Object.assign(Object.assign({},f),{id:zd(f.id).buffer,type:f.type||"public-key",transports:f.transports})}}return c}function pY(e){if(!e)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(e);const{challenge:t,allowCredentials:n}=e,r=uf(e,["challenge","allowCredentials"]),i=zd(t).buffer,a=Object.assign(Object.assign({},r),{challenge:i});if(n&&n.length>0){a.allowCredentials=new Array(n.length);for(let s=0;s<n.length;s++){const c=n[s];a.allowCredentials[s]=Object.assign(Object.assign({},c),{id:zd(c.id).buffer,type:c.type||"public-key",transports:c.transports})}}return a}function gY(e){var t;if("toJSON"in e&&typeof e.toJSON=="function")return e.toJSON();const n=e;return{id:e.id,rawId:e.id,response:{attestationObject:nu(new Uint8Array(e.response.attestationObject)),clientDataJSON:nu(new Uint8Array(e.response.clientDataJSON))},type:"public-key",clientExtensionResults:e.getClientExtensionResults(),authenticatorAttachment:(t=n.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function vY(e){var t;if("toJSON"in e&&typeof e.toJSON=="function")return e.toJSON();const n=e,r=e.getClientExtensionResults(),i=e.response;return{id:e.id,rawId:e.id,response:{authenticatorData:nu(new Uint8Array(i.authenticatorData)),clientDataJSON:nu(new Uint8Array(i.clientDataJSON)),signature:nu(new Uint8Array(i.signature)),userHandle:i.userHandle?nu(new Uint8Array(i.userHandle)):void 0},type:"public-key",clientExtensionResults:r,authenticatorAttachment:(t=n.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function E$(e){return e==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(e)}function YN(){var e,t;return!!(Lr()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((e=navigator?.credentials)===null||e===void 0?void 0:e.create)=="function"&&typeof((t=navigator?.credentials)===null||t===void 0?void 0:t.get)=="function")}async function yY(e){try{const t=await navigator.credentials.create(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new xv("Browser returned unexpected credential type",t)}:{data:null,error:new xv("Empty credential response",t)}}catch(t){return{data:null,error:uY({error:t,options:e})}}}async function bY(e){try{const t=await navigator.credentials.get(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new xv("Browser returned unexpected credential type",t)}:{data:null,error:new xv("Empty credential response",t)}}catch(t){return{data:null,error:dY({error:t,options:e})}}}const _Y={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"direct"},xY={userVerification:"preferred",hints:["security-key"],attestation:"direct"};function wv(...e){const t=i=>i!==null&&typeof i=="object"&&!Array.isArray(i),n=i=>i instanceof ArrayBuffer||ArrayBuffer.isView(i),r={};for(const i of e)if(i)for(const a in i){const s=i[a];if(s!==void 0)if(Array.isArray(s))r[a]=s;else if(n(s))r[a]=s;else if(t(s)){const c=r[a];t(c)?r[a]=wv(c,s):r[a]=wv(s)}else r[a]=s}return r}function wY(e,t){return wv(_Y,e,t||{})}function SY(e,t){return wv(xY,e,t||{})}class EY{constructor(t){this.client=t,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(t){return this.client.mfa.enroll(Object.assign(Object.assign({},t),{factorType:"webauthn"}))}async _challenge({factorId:t,webauthn:n,friendlyName:r,signal:i},a){try{const{data:s,error:c}=await this.client.mfa.challenge({factorId:t,webauthn:n});if(!s)return{data:null,error:c};const d=i??hY.createNewAbortSignal();if(s.webauthn.type==="create"){const{user:f}=s.webauthn.credential_options.publicKey;f.name||(f.name=`${f.id}:${r}`),f.displayName||(f.displayName=f.name)}switch(s.webauthn.type){case"create":{const f=wY(s.webauthn.credential_options.publicKey,a?.create),{data:m,error:p}=await yY({publicKey:f,signal:d});return m?{data:{factorId:t,challengeId:s.id,webauthn:{type:s.webauthn.type,credential_response:m}},error:null}:{data:null,error:p}}case"request":{const f=SY(s.webauthn.credential_options.publicKey,a?.request),{data:m,error:p}=await bY(Object.assign(Object.assign({},s.webauthn.credential_options),{publicKey:f,signal:d}));return m?{data:{factorId:t,challengeId:s.id,webauthn:{type:s.webauthn.type,credential_response:m}},error:null}:{data:null,error:p}}}}catch(s){return Qe(s)?{data:null,error:s}:{data:null,error:new zl("Unexpected error in challenge",s)}}}async _verify({challengeId:t,factorId:n,webauthn:r}){return this.client.mfa.verify({factorId:n,challengeId:t,webauthn:r})}async _authenticate({factorId:t,webauthn:{rpId:n=typeof window<"u"?window.location.hostname:void 0,rpOrigins:r=typeof window<"u"?[window.location.origin]:void 0,signal:i}={}},a){if(!n)return{data:null,error:new Yd("rpId is required for WebAuthn authentication")};try{if(!YN())return{data:null,error:new zl("Browser does not support WebAuthn",null)};const{data:s,error:c}=await this.challenge({factorId:t,webauthn:{rpId:n,rpOrigins:r},signal:i},{request:a});if(!s)return{data:null,error:c};const{webauthn:d}=s;return this._verify({factorId:t,challengeId:s.challengeId,webauthn:{type:d.type,rpId:n,rpOrigins:r,credential_response:d.credential_response}})}catch(s){return Qe(s)?{data:null,error:s}:{data:null,error:new zl("Unexpected error in authenticate",s)}}}async _register({friendlyName:t,webauthn:{rpId:n=typeof window<"u"?window.location.hostname:void 0,rpOrigins:r=typeof window<"u"?[window.location.origin]:void 0,signal:i}={}},a){if(!n)return{data:null,error:new Yd("rpId is required for WebAuthn registration")};try{if(!YN())return{data:null,error:new zl("Browser does not support WebAuthn",null)};const{data:s,error:c}=await this._enroll({friendlyName:t});if(!s)return await this.client.mfa.listFactors().then(m=>{var p;return(p=m.data)===null||p===void 0?void 0:p.all.find(y=>y.factor_type==="webauthn"&&y.friendly_name===t&&y.status!=="unverified")}).then(m=>m?this.client.mfa.unenroll({factorId:m?.id}):void 0),{data:null,error:c};const{data:d,error:f}=await this._challenge({factorId:s.id,friendlyName:s.friendly_name,webauthn:{rpId:n,rpOrigins:r},signal:i},{create:a});return d?this._verify({factorId:s.id,challengeId:d.challengeId,webauthn:{rpId:n,rpOrigins:r,type:d.webauthn.type,credential_response:d.webauthn.credential_response}}):{data:null,error:f}}catch(s){return Qe(s)?{data:null,error:s}:{data:null,error:new zl("Unexpected error in register",s)}}}}oY();const AY={url:Aq,storageKey:Tq,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:kq,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1};async function KN(e,t,n){return await n()}const vd={};let j2=class qS{get jwks(){var t,n;return(n=(t=vd[this.storageKey])===null||t===void 0?void 0:t.jwks)!==null&&n!==void 0?n:{keys:[]}}set jwks(t){vd[this.storageKey]=Object.assign(Object.assign({},vd[this.storageKey]),{jwks:t})}get jwks_cached_at(){var t,n;return(n=(t=vd[this.storageKey])===null||t===void 0?void 0:t.cachedAt)!==null&&n!==void 0?n:Number.MIN_SAFE_INTEGER}set jwks_cached_at(t){vd[this.storageKey]=Object.assign(Object.assign({},vd[this.storageKey]),{cachedAt:t})}constructor(t){var n,r,i;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;const a=Object.assign(Object.assign({},AY),t);if(this.storageKey=a.storageKey,this.instanceID=(n=qS.nextInstanceID[this.storageKey])!==null&&n!==void 0?n:0,qS.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!a.debug,typeof a.debug=="function"&&(this.logger=a.debug),this.instanceID>0&&Lr()){const s=`${this._logPrefix()} Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.`;console.warn(s),this.logDebugMessages&&console.trace(s)}if(this.persistSession=a.persistSession,this.autoRefreshToken=a.autoRefreshToken,this.admin=new k2({url:a.url,headers:a.headers,fetch:a.fetch}),this.url=a.url,this.headers=a.headers,this.fetch=_$(a.fetch),this.lock=a.lock||KN,this.detectSessionInUrl=a.detectSessionInUrl,this.flowType=a.flowType,this.hasCustomAuthorizationHeader=a.hasCustomAuthorizationHeader,this.throwOnError=a.throwOnError,a.lock?this.lock=a.lock:Lr()&&(!((r=globalThis?.navigator)===null||r===void 0)&&r.locks)?this.lock=w$:this.lock=KN,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new EY(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this),listGrants:this._listOAuthGrants.bind(this),revokeGrant:this._revokeOAuthGrant.bind(this)},this.persistSession?(a.storage?this.storage=a.storage:b$()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=GN(this.memoryStorage)),a.userStorage&&(this.userStorage=a.userStorage)):(this.memoryStorage={},this.storage=GN(this.memoryStorage)),Lr()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(s){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",s)}(i=this.broadcastChannel)===null||i===void 0||i.addEventListener("message",async s=>{this._debug("received broadcast notification from other tab or client",s),await this._notifyAllSubscribers(s.data.event,s.data.session,!1)})}this.initialize()}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(t){if(this.throwOnError&&t&&t.error)throw t.error;return t}_logPrefix(){return`GoTrueClient@${this.storageKey}:${this.instanceID} (${f$}) ${new Date().toISOString()}`}_debug(...t){return this.logDebugMessages&&this.logger(this._logPrefix(),...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{let n={},r="none";if(Lr()&&(n=$q(window.location.href),this._isImplicitGrantCallback(n)?r="implicit":await this._isPKCECallback(n)&&(r="pkce")),Lr()&&this.detectSessionInUrl&&r!=="none"){const{data:i,error:a}=await this._getSessionFromURL(n,r);if(a){if(this._debug("#_initialize()","error detecting session from URL",a),v$(a)){const d=(t=a.details)===null||t===void 0?void 0:t.code;if(d==="identity_already_exists"||d==="identity_not_found"||d==="single_identity_not_deletable")return{error:a}}return await this._removeSession(),{error:a}}const{session:s,redirectType:c}=i;return this._debug("#_initialize()","detected session in URL",s,"redirect type",c),await this._saveSession(s),setTimeout(async()=>{c==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",s):await this._notifyAllSubscribers("SIGNED_IN",s)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(n){return Qe(n)?this._returnResult({error:n}):this._returnResult({error:new zl("Unexpected error during initialization",n)})}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var n,r,i;try{const a=await st(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(r=(n=t?.options)===null||n===void 0?void 0:n.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:(i=t?.options)===null||i===void 0?void 0:i.captchaToken}},xform:so}),{data:s,error:c}=a;if(c||!s)return this._returnResult({data:{user:null,session:null},error:c});const d=s.session,f=s.user;return s.session&&(await this._saveSession(s.session),await this._notifyAllSubscribers("SIGNED_IN",d)),this._returnResult({data:{user:f,session:d},error:null})}catch(a){if(Qe(a))return this._returnResult({data:{user:null,session:null},error:a});throw a}}async signUp(t){var n,r,i;try{let a;if("email"in t){const{email:m,password:p,options:y}=t;let b=null,x=null;this.flowType==="pkce"&&([b,x]=await pd(this.storage,this.storageKey)),a=await st(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:y?.emailRedirectTo,body:{email:m,password:p,data:(n=y?.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:y?.captchaToken},code_challenge:b,code_challenge_method:x},xform:so})}else if("phone"in t){const{phone:m,password:p,options:y}=t;a=await st(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:m,password:p,data:(r=y?.data)!==null&&r!==void 0?r:{},channel:(i=y?.channel)!==null&&i!==void 0?i:"sms",gotrue_meta_security:{captcha_token:y?.captchaToken}},xform:so})}else throw new Fh("You must provide either an email or phone number and a password");const{data:s,error:c}=a;if(c||!s)return await Pr(this.storage,`${this.storageKey}-code-verifier`),this._returnResult({data:{user:null,session:null},error:c});const d=s.session,f=s.user;return s.session&&(await this._saveSession(s.session),await this._notifyAllSubscribers("SIGNED_IN",d)),this._returnResult({data:{user:f,session:d},error:null})}catch(a){if(await Pr(this.storage,`${this.storageKey}-code-verifier`),Qe(a))return this._returnResult({data:{user:null,session:null},error:a});throw a}}async signInWithPassword(t){try{let n;if("email"in t){const{email:a,password:s,options:c}=t;n=await st(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:a,password:s,gotrue_meta_security:{captcha_token:c?.captchaToken}},xform:HN})}else if("phone"in t){const{phone:a,password:s,options:c}=t;n=await st(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:a,password:s,gotrue_meta_security:{captcha_token:c?.captchaToken}},xform:HN})}else throw new Fh("You must provide either an email or phone number and a password");const{data:r,error:i}=n;if(i)return this._returnResult({data:{user:null,session:null},error:i});if(!r||!r.session||!r.user){const a=new Yc;return this._returnResult({data:{user:null,session:null},error:a})}return r.session&&(await this._saveSession(r.session),await this._notifyAllSubscribers("SIGNED_IN",r.session)),this._returnResult({data:Object.assign({user:r.user,session:r.session},r.weak_password?{weakPassword:r.weak_password}:null),error:i})}catch(n){if(Qe(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async signInWithOAuth(t){var n,r,i,a;return await this._handleProviderSignIn(t.provider,{redirectTo:(n=t.options)===null||n===void 0?void 0:n.redirectTo,scopes:(r=t.options)===null||r===void 0?void 0:r.scopes,queryParams:(i=t.options)===null||i===void 0?void 0:i.queryParams,skipBrowserRedirect:(a=t.options)===null||a===void 0?void 0:a.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(t))}async signInWithWeb3(t){const{chain:n}=t;switch(n){case"ethereum":return await this.signInWithEthereum(t);case"solana":return await this.signInWithSolana(t);default:throw new Error(`@supabase/auth-js: Unsupported chain "${n}"`)}}async signInWithEthereum(t){var n,r,i,a,s,c,d,f,m,p,y;let b,x;if("message"in t)b=t.message,x=t.signature;else{const{chain:T,wallet:S,statement:j,options:D}=t;let O;if(Lr())if(typeof S=="object")O=S;else{const H=window;if("ethereum"in H&&typeof H.ethereum=="object"&&"request"in H.ethereum&&typeof H.ethereum.request=="function")O=H.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof S!="object"||!D?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");O=S}const M=new URL((n=D?.url)!==null&&n!==void 0?n:window.location.href),N=await O.request({method:"eth_requestAccounts"}).then(H=>H).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!N||N.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const R=S$(N[0]);let $=(r=D?.signInWithEthereum)===null||r===void 0?void 0:r.chainId;if(!$){const H=await O.request({method:"eth_chainId"});$=sY(H)}const B={domain:M.host,address:R,statement:j,uri:M.href,version:"1",chainId:$,nonce:(i=D?.signInWithEthereum)===null||i===void 0?void 0:i.nonce,issuedAt:(s=(a=D?.signInWithEthereum)===null||a===void 0?void 0:a.issuedAt)!==null&&s!==void 0?s:new Date,expirationTime:(c=D?.signInWithEthereum)===null||c===void 0?void 0:c.expirationTime,notBefore:(d=D?.signInWithEthereum)===null||d===void 0?void 0:d.notBefore,requestId:(f=D?.signInWithEthereum)===null||f===void 0?void 0:f.requestId,resources:(m=D?.signInWithEthereum)===null||m===void 0?void 0:m.resources};b=cY(B),x=await O.request({method:"personal_sign",params:[lY(b),R]})}try{const{data:T,error:S}=await st(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:b,signature:x},!((p=t.options)===null||p===void 0)&&p.captchaToken?{gotrue_meta_security:{captcha_token:(y=t.options)===null||y===void 0?void 0:y.captchaToken}}:null),xform:so});if(S)throw S;if(!T||!T.session||!T.user){const j=new Yc;return this._returnResult({data:{user:null,session:null},error:j})}return T.session&&(await this._saveSession(T.session),await this._notifyAllSubscribers("SIGNED_IN",T.session)),this._returnResult({data:Object.assign({},T),error:S})}catch(T){if(Qe(T))return this._returnResult({data:{user:null,session:null},error:T});throw T}}async signInWithSolana(t){var n,r,i,a,s,c,d,f,m,p,y,b;let x,T;if("message"in t)x=t.message,T=t.signature;else{const{chain:S,wallet:j,statement:D,options:O}=t;let M;if(Lr())if(typeof j=="object")M=j;else{const R=window;if("solana"in R&&typeof R.solana=="object"&&("signIn"in R.solana&&typeof R.solana.signIn=="function"||"signMessage"in R.solana&&typeof R.solana.signMessage=="function"))M=R.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof j!="object"||!O?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");M=j}const N=new URL((n=O?.url)!==null&&n!==void 0?n:window.location.href);if("signIn"in M&&M.signIn){const R=await M.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},O?.signInWithSolana),{version:"1",domain:N.host,uri:N.href}),D?{statement:D}:null));let $;if(Array.isArray(R)&&R[0]&&typeof R[0]=="object")$=R[0];else if(R&&typeof R=="object"&&"signedMessage"in R&&"signature"in R)$=R;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in $&&"signature"in $&&(typeof $.signedMessage=="string"||$.signedMessage instanceof Uint8Array)&&$.signature instanceof Uint8Array)x=typeof $.signedMessage=="string"?$.signedMessage:new TextDecoder().decode($.signedMessage),T=$.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in M)||typeof M.signMessage!="function"||!("publicKey"in M)||typeof M!="object"||!M.publicKey||!("toBase58"in M.publicKey)||typeof M.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");x=[`${N.host} wants you to sign in with your Solana account:`,M.publicKey.toBase58(),...D?["",D,""]:[""],"Version: 1",`URI: ${N.href}`,`Issued At: ${(i=(r=O?.signInWithSolana)===null||r===void 0?void 0:r.issuedAt)!==null&&i!==void 0?i:new Date().toISOString()}`,...!((a=O?.signInWithSolana)===null||a===void 0)&&a.notBefore?[`Not Before: ${O.signInWithSolana.notBefore}`]:[],...!((s=O?.signInWithSolana)===null||s===void 0)&&s.expirationTime?[`Expiration Time: ${O.signInWithSolana.expirationTime}`]:[],...!((c=O?.signInWithSolana)===null||c===void 0)&&c.chainId?[`Chain ID: ${O.signInWithSolana.chainId}`]:[],...!((d=O?.signInWithSolana)===null||d===void 0)&&d.nonce?[`Nonce: ${O.signInWithSolana.nonce}`]:[],...!((f=O?.signInWithSolana)===null||f===void 0)&&f.requestId?[`Request ID: ${O.signInWithSolana.requestId}`]:[],...!((p=(m=O?.signInWithSolana)===null||m===void 0?void 0:m.resources)===null||p===void 0)&&p.length?["Resources",...O.signInWithSolana.resources.map($=>`- ${$}`)]:[]].join(`
`);const R=await M.signMessage(new TextEncoder().encode(x),"utf8");if(!R||!(R instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");T=R}}try{const{data:S,error:j}=await st(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:x,signature:nu(T)},!((y=t.options)===null||y===void 0)&&y.captchaToken?{gotrue_meta_security:{captcha_token:(b=t.options)===null||b===void 0?void 0:b.captchaToken}}:null),xform:so});if(j)throw j;if(!S||!S.session||!S.user){const D=new Yc;return this._returnResult({data:{user:null,session:null},error:D})}return S.session&&(await this._saveSession(S.session),await this._notifyAllSubscribers("SIGNED_IN",S.session)),this._returnResult({data:Object.assign({},S),error:j})}catch(S){if(Qe(S))return this._returnResult({data:{user:null,session:null},error:S});throw S}}async _exchangeCodeForSession(t){const n=await $c(this.storage,`${this.storageKey}-code-verifier`),[r,i]=(n??"").split("/");try{const{data:a,error:s}=await st(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:r},xform:so});if(await Pr(this.storage,`${this.storageKey}-code-verifier`),s)throw s;if(!a||!a.session||!a.user){const c=new Yc;return this._returnResult({data:{user:null,session:null,redirectType:null},error:c})}return a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",a.session)),this._returnResult({data:Object.assign(Object.assign({},a),{redirectType:i??null}),error:s})}catch(a){if(await Pr(this.storage,`${this.storageKey}-code-verifier`),Qe(a))return this._returnResult({data:{user:null,session:null,redirectType:null},error:a});throw a}}async signInWithIdToken(t){try{const{options:n,provider:r,token:i,access_token:a,nonce:s}=t,c=await st(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:r,id_token:i,access_token:a,nonce:s,gotrue_meta_security:{captcha_token:n?.captchaToken}},xform:so}),{data:d,error:f}=c;if(f)return this._returnResult({data:{user:null,session:null},error:f});if(!d||!d.session||!d.user){const m=new Yc;return this._returnResult({data:{user:null,session:null},error:m})}return d.session&&(await this._saveSession(d.session),await this._notifyAllSubscribers("SIGNED_IN",d.session)),this._returnResult({data:d,error:f})}catch(n){if(Qe(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async signInWithOtp(t){var n,r,i,a,s;try{if("email"in t){const{email:c,options:d}=t;let f=null,m=null;this.flowType==="pkce"&&([f,m]=await pd(this.storage,this.storageKey));const{error:p}=await st(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:c,data:(n=d?.data)!==null&&n!==void 0?n:{},create_user:(r=d?.shouldCreateUser)!==null&&r!==void 0?r:!0,gotrue_meta_security:{captcha_token:d?.captchaToken},code_challenge:f,code_challenge_method:m},redirectTo:d?.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:p})}if("phone"in t){const{phone:c,options:d}=t,{data:f,error:m}=await st(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:c,data:(i=d?.data)!==null&&i!==void 0?i:{},create_user:(a=d?.shouldCreateUser)!==null&&a!==void 0?a:!0,gotrue_meta_security:{captcha_token:d?.captchaToken},channel:(s=d?.channel)!==null&&s!==void 0?s:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:f?.message_id},error:m})}throw new Fh("You must provide either an email or phone number.")}catch(c){if(await Pr(this.storage,`${this.storageKey}-code-verifier`),Qe(c))return this._returnResult({data:{user:null,session:null},error:c});throw c}}async verifyOtp(t){var n,r;try{let i,a;"options"in t&&(i=(n=t.options)===null||n===void 0?void 0:n.redirectTo,a=(r=t.options)===null||r===void 0?void 0:r.captchaToken);const{data:s,error:c}=await st(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:a}}),redirectTo:i,xform:so});if(c)throw c;if(!s)throw new Error("An error occurred on token verification.");const d=s.session,f=s.user;return d?.access_token&&(await this._saveSession(d),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",d)),this._returnResult({data:{user:f,session:d},error:null})}catch(i){if(Qe(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}}async signInWithSSO(t){var n,r,i,a,s;try{let c=null,d=null;this.flowType==="pkce"&&([c,d]=await pd(this.storage,this.storageKey));const f=await st(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(r=(n=t.options)===null||n===void 0?void 0:n.redirectTo)!==null&&r!==void 0?r:void 0}),!((i=t?.options)===null||i===void 0)&&i.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:c,code_challenge_method:d}),headers:this.headers,xform:tY});return!((a=f.data)===null||a===void 0)&&a.url&&Lr()&&!(!((s=t.options)===null||s===void 0)&&s.skipBrowserRedirect)&&window.location.assign(f.data.url),this._returnResult(f)}catch(c){if(await Pr(this.storage,`${this.storageKey}-code-verifier`),Qe(c))return this._returnResult({data:null,error:c});throw c}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:n},error:r}=t;if(r)throw r;if(!n)throw new ji;const{error:i}=await st(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:n.access_token});return this._returnResult({data:{user:null,session:null},error:i})})}catch(t){if(Qe(t))return this._returnResult({data:{user:null,session:null},error:t});throw t}}async resend(t){try{const n=`${this.url}/resend`;if("email"in t){const{email:r,type:i,options:a}=t,{error:s}=await st(this.fetch,"POST",n,{headers:this.headers,body:{email:r,type:i,gotrue_meta_security:{captcha_token:a?.captchaToken}},redirectTo:a?.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:s})}else if("phone"in t){const{phone:r,type:i,options:a}=t,{data:s,error:c}=await st(this.fetch,"POST",n,{headers:this.headers,body:{phone:r,type:i,gotrue_meta_security:{captcha_token:a?.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:s?.message_id},error:c})}throw new Fh("You must provide either an email or phone number and a type")}catch(n){if(Qe(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async n=>n))}async _acquireLock(t,n){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const r=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),i=(async()=>(await r,await n()))();return this.pendingInLock.push((async()=>{try{await i}catch{}})()),i}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const r=n();for(this.pendingInLock.push((async()=>{try{await r}catch{}})()),await r;this.pendingInLock.length;){const i=[...this.pendingInLock];await Promise.all(i),this.pendingInLock.splice(0,i.length)}return await r}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const n=await this.__loadSession();return await t(n)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const n=await $c(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",n),n!==null&&(this._isValidSession(n)?t=n:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const r=t.expires_at?t.expires_at*1e3-Date.now()<Yx:!1;if(this._debug("#__loadSession()",`session has${r?"":" not"} expired`,"expires_at",t.expires_at),!r){if(this.userStorage){const s=await $c(this.userStorage,this.storageKey+"-user");s?.user?t.user=s.user:t.user=Wx()}if(this.storage.isServer&&t.user&&!t.user.__isUserNotAvailableProxy){const s={value:this.suppressGetSessionWarning};t.user=Xq(t.user,s),s.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:t},error:null}}const{data:i,error:a}=await this._callRefreshToken(t.refresh_token);return a?this._returnResult({data:{session:null},error:a}):this._returnResult({data:{session:i},error:null})}finally{this._debug("#__loadSession()","end")}}async getUser(t){if(t)return await this._getUser(t);await this.initializePromise;const n=await this._acquireLock(-1,async()=>await this._getUser());return n.data.user&&(this.suppressGetSessionWarning=!0),n}async _getUser(t){try{return t?await st(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:Ul}):await this._useSession(async n=>{var r,i,a;const{data:s,error:c}=n;if(c)throw c;return!(!((r=s.session)===null||r===void 0)&&r.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new ji}:await st(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(a=(i=s.session)===null||i===void 0?void 0:i.access_token)!==null&&a!==void 0?a:void 0,xform:Ul})})}catch(n){if(Qe(n))return g$(n)&&(await this._removeSession(),await Pr(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({data:{user:null},error:n});throw n}}async updateUser(t,n={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(t,n))}async _updateUser(t,n={}){try{return await this._useSession(async r=>{const{data:i,error:a}=r;if(a)throw a;if(!i.session)throw new ji;const s=i.session;let c=null,d=null;this.flowType==="pkce"&&t.email!=null&&([c,d]=await pd(this.storage,this.storageKey));const{data:f,error:m}=await st(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:n?.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:c,code_challenge_method:d}),jwt:s.access_token,xform:Ul});if(m)throw m;return s.user=f.user,await this._saveSession(s),await this._notifyAllSubscribers("USER_UPDATED",s),this._returnResult({data:{user:s.user},error:null})})}catch(r){if(await Pr(this.storage,`${this.storageKey}-code-verifier`),Qe(r))return this._returnResult({data:{user:null},error:r});throw r}}async setSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new ji;const n=Date.now()/1e3;let r=n,i=!0,a=null;const{payload:s}=Kx(t.access_token);if(s.exp&&(r=s.exp,i=r<=n),i){const{data:c,error:d}=await this._callRefreshToken(t.refresh_token);if(d)return this._returnResult({data:{user:null,session:null},error:d});if(!c)return{data:{user:null,session:null},error:null};a=c}else{const{data:c,error:d}=await this._getUser(t.access_token);if(d)throw d;a={access_token:t.access_token,refresh_token:t.refresh_token,user:c.user,token_type:"bearer",expires_in:r-n,expires_at:r},await this._saveSession(a),await this._notifyAllSubscribers("SIGNED_IN",a)}return this._returnResult({data:{user:a.user,session:a},error:null})}catch(n){if(Qe(n))return this._returnResult({data:{session:null,user:null},error:n});throw n}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async n=>{var r;if(!t){const{data:s,error:c}=n;if(c)throw c;t=(r=s.session)!==null&&r!==void 0?r:void 0}if(!t?.refresh_token)throw new ji;const{data:i,error:a}=await this._callRefreshToken(t.refresh_token);return a?this._returnResult({data:{user:null,session:null},error:a}):i?this._returnResult({data:{user:i.user,session:i},error:null}):this._returnResult({data:{user:null,session:null},error:null})})}catch(n){if(Qe(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async _getSessionFromURL(t,n){try{if(!Lr())throw new Gh("No browser detected.");if(t.error||t.error_description||t.error_code)throw new Gh(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(n){case"implicit":if(this.flowType==="pkce")throw new FS("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Gh("Not a valid implicit grant flow url.");break;default:}if(n==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new FS("No code detected.");const{data:D,error:O}=await this._exchangeCodeForSession(t.code);if(O)throw O;const M=new URL(window.location.href);return M.searchParams.delete("code"),window.history.replaceState(window.history.state,"",M.toString()),{data:{session:D.session,redirectType:null},error:null}}const{provider_token:r,provider_refresh_token:i,access_token:a,refresh_token:s,expires_in:c,expires_at:d,token_type:f}=t;if(!a||!c||!s||!f)throw new Gh("No session defined in URL");const m=Math.round(Date.now()/1e3),p=parseInt(c);let y=m+p;d&&(y=parseInt(d));const b=y-m;b*1e3<=kd&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${b}s, should have been closer to ${p}s`);const x=y-p;m-x>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",x,y,m):m-x<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",x,y,m);const{data:T,error:S}=await this._getUser(a);if(S)throw S;const j={provider_token:r,provider_refresh_token:i,access_token:a,expires_in:p,expires_at:y,refresh_token:s,token_type:f,user:T.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:j,redirectType:t.type},error:null})}catch(r){if(Qe(r))return this._returnResult({data:{session:null,redirectType:null},error:r});throw r}}_isImplicitGrantCallback(t){return!!(t.access_token||t.error_description)}async _isPKCECallback(t){const n=await $c(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&n)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async n=>{var r;const{data:i,error:a}=n;if(a)return this._returnResult({error:a});const s=(r=i.session)===null||r===void 0?void 0:r.access_token;if(s){const{error:c}=await this.admin.signOut(s,t);if(c&&!(p$(c)&&(c.status===404||c.status===401||c.status===403)))return this._returnResult({error:c})}return t!=="others"&&(await this._removeSession(),await Pr(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({error:null})})}onAuthStateChange(t){const n=Iq(),r={id:n,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",n),this.stateChangeEmitters.delete(n)}};return this._debug("#onAuthStateChange()","registered callback with id",n),this.stateChangeEmitters.set(n,r),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(n)})))(),{data:{subscription:r}}}async _emitInitialSession(t){return await this._useSession(async n=>{var r,i;try{const{data:{session:a},error:s}=n;if(s)throw s;await((r=this.stateChangeEmitters.get(t))===null||r===void 0?void 0:r.callback("INITIAL_SESSION",a)),this._debug("INITIAL_SESSION","callback id",t,"session",a)}catch(a){await((i=this.stateChangeEmitters.get(t))===null||i===void 0?void 0:i.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",a),console.error(a)}})}async resetPasswordForEmail(t,n={}){let r=null,i=null;this.flowType==="pkce"&&([r,i]=await pd(this.storage,this.storageKey,!0));try{return await st(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:r,code_challenge_method:i,gotrue_meta_security:{captcha_token:n.captchaToken}},headers:this.headers,redirectTo:n.redirectTo})}catch(a){if(await Pr(this.storage,`${this.storageKey}-code-verifier`),Qe(a))return this._returnResult({data:null,error:a});throw a}}async getUserIdentities(){var t;try{const{data:n,error:r}=await this.getUser();if(r)throw r;return this._returnResult({data:{identities:(t=n.user.identities)!==null&&t!==void 0?t:[]},error:null})}catch(n){if(Qe(n))return this._returnResult({data:null,error:n});throw n}}async linkIdentity(t){return"token"in t?this.linkIdentityIdToken(t):this.linkIdentityOAuth(t)}async linkIdentityOAuth(t){var n;try{const{data:r,error:i}=await this._useSession(async a=>{var s,c,d,f,m;const{data:p,error:y}=a;if(y)throw y;const b=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(s=t.options)===null||s===void 0?void 0:s.redirectTo,scopes:(c=t.options)===null||c===void 0?void 0:c.scopes,queryParams:(d=t.options)===null||d===void 0?void 0:d.queryParams,skipBrowserRedirect:!0});return await st(this.fetch,"GET",b,{headers:this.headers,jwt:(m=(f=p.session)===null||f===void 0?void 0:f.access_token)!==null&&m!==void 0?m:void 0})});if(i)throw i;return Lr()&&!(!((n=t.options)===null||n===void 0)&&n.skipBrowserRedirect)&&window.location.assign(r?.url),this._returnResult({data:{provider:t.provider,url:r?.url},error:null})}catch(r){if(Qe(r))return this._returnResult({data:{provider:t.provider,url:null},error:r});throw r}}async linkIdentityIdToken(t){return await this._useSession(async n=>{var r;try{const{error:i,data:{session:a}}=n;if(i)throw i;const{options:s,provider:c,token:d,access_token:f,nonce:m}=t,p=await st(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(r=a?.access_token)!==null&&r!==void 0?r:void 0,body:{provider:c,id_token:d,access_token:f,nonce:m,link_identity:!0,gotrue_meta_security:{captcha_token:s?.captchaToken}},xform:so}),{data:y,error:b}=p;return b?this._returnResult({data:{user:null,session:null},error:b}):!y||!y.session||!y.user?this._returnResult({data:{user:null,session:null},error:new Yc}):(y.session&&(await this._saveSession(y.session),await this._notifyAllSubscribers("USER_UPDATED",y.session)),this._returnResult({data:y,error:b}))}catch(i){if(await Pr(this.storage,`${this.storageKey}-code-verifier`),Qe(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}})}async unlinkIdentity(t){try{return await this._useSession(async n=>{var r,i;const{data:a,error:s}=n;if(s)throw s;return await st(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(i=(r=a.session)===null||r===void 0?void 0:r.access_token)!==null&&i!==void 0?i:void 0})})}catch(n){if(Qe(n))return this._returnResult({data:null,error:n});throw n}}async _refreshAccessToken(t){const n=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(n,"begin");try{const r=Date.now();return await Uq(async i=>(i>0&&await zq(200*Math.pow(2,i-1)),this._debug(n,"refreshing attempt",i),await st(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:so})),(i,a)=>{const s=200*Math.pow(2,i);return a&&X0(a)&&Date.now()+s-r<kd})}catch(r){if(this._debug(n,"error",r),Qe(r))return this._returnResult({data:{session:null,user:null},error:r});throw r}finally{this._debug(n,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,n){const r=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:n.redirectTo,scopes:n.scopes,queryParams:n.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",n,"url",r),Lr()&&!n.skipBrowserRedirect&&window.location.assign(r),{data:{provider:t,url:r},error:null}}async _recoverAndRefresh(){var t,n;const r="#_recoverAndRefresh()";this._debug(r,"begin");try{const i=await $c(this.storage,this.storageKey);if(i&&this.userStorage){let s=await $c(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!s&&(s={user:i.user},await Od(this.userStorage,this.storageKey+"-user",s)),i.user=(t=s?.user)!==null&&t!==void 0?t:Wx()}else if(i&&!i.user&&!i.user){const s=await $c(this.storage,this.storageKey+"-user");s&&s?.user?(i.user=s.user,await Pr(this.storage,this.storageKey+"-user"),await Od(this.storage,this.storageKey,i)):i.user=Wx()}if(this._debug(r,"session from storage",i),!this._isValidSession(i)){this._debug(r,"session is not valid"),i!==null&&await this._removeSession();return}const a=((n=i.expires_at)!==null&&n!==void 0?n:1/0)*1e3-Date.now()<Yx;if(this._debug(r,`session has${a?"":" not"} expired with margin of ${Yx}s`),a){if(this.autoRefreshToken&&i.refresh_token){const{error:s}=await this._callRefreshToken(i.refresh_token);s&&(console.error(s),X0(s)||(this._debug(r,"refresh failed with a non-retryable error, removing the session",s),await this._removeSession()))}}else if(i.user&&i.user.__isUserNotAvailableProxy===!0)try{const{data:s,error:c}=await this._getUser(i.access_token);!c&&s?.user?(i.user=s.user,await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)):this._debug(r,"could not get user data, skipping SIGNED_IN notification")}catch(s){console.error("Error getting user data:",s),this._debug(r,"error getting user data, skipping SIGNED_IN notification",s)}else await this._notifyAllSubscribers("SIGNED_IN",i)}catch(i){this._debug(r,"error",i),console.error(i);return}finally{this._debug(r,"end")}}async _callRefreshToken(t){var n,r;if(!t)throw new ji;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const i=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(i,"begin");try{this.refreshingDeferred=new Iy;const{data:a,error:s}=await this._refreshAccessToken(t);if(s)throw s;if(!a.session)throw new ji;await this._saveSession(a.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",a.session);const c={data:a.session,error:null};return this.refreshingDeferred.resolve(c),c}catch(a){if(this._debug(i,"error",a),Qe(a)){const s={data:null,error:a};return X0(a)||await this._removeSession(),(n=this.refreshingDeferred)===null||n===void 0||n.resolve(s),s}throw(r=this.refreshingDeferred)===null||r===void 0||r.reject(a),a}finally{this.refreshingDeferred=null,this._debug(i,"end")}}async _notifyAllSubscribers(t,n,r=!0){const i=`#_notifyAllSubscribers(${t})`;this._debug(i,"begin",n,`broadcast = ${r}`);try{this.broadcastChannel&&r&&this.broadcastChannel.postMessage({event:t,session:n});const a=[],s=Array.from(this.stateChangeEmitters.values()).map(async c=>{try{await c.callback(t,n)}catch(d){a.push(d)}});if(await Promise.all(s),a.length>0){for(let c=0;c<a.length;c+=1)console.error(a[c]);throw a[0]}}finally{this._debug(i,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0,await Pr(this.storage,`${this.storageKey}-code-verifier`);const n=Object.assign({},t),r=n.user&&n.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!r&&n.user&&await Od(this.userStorage,this.storageKey+"-user",{user:n.user});const i=Object.assign({},n);delete i.user;const a=zN(i);await Od(this.storage,this.storageKey,a)}else{const i=zN(n);await Od(this.storage,this.storageKey,i)}}async _removeSession(){this._debug("#_removeSession()"),this.suppressGetSessionWarning=!1,await Pr(this.storage,this.storageKey),await Pr(this.storage,this.storageKey+"-code-verifier"),await Pr(this.storage,this.storageKey+"-user"),this.userStorage&&await Pr(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&Lr()&&window?.removeEventListener&&window.removeEventListener("visibilitychange",t)}catch(n){console.error("removing visibilitychange callback failed",n)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),kd);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async n=>{const{data:{session:r}}=n;if(!r||!r.refresh_token||!r.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const i=Math.floor((r.expires_at*1e3-t)/kd);this._debug("#_autoRefreshTokenTick()",`access token expires in ${i} ticks, a tick lasts ${kd}ms, refresh threshold is ${US} ticks`),i<=US&&await this._callRefreshToken(r.refresh_token)})}catch(n){console.error("Auto refresh tick failed with error. This is likely a transient error.",n)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof O2)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Lr()||!window?.addEventListener)return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window?.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const n=`#_onVisibilityChanged(${t})`;this._debug(n,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(n,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,n,r){const i=[`provider=${encodeURIComponent(n)}`];if(r?.redirectTo&&i.push(`redirect_to=${encodeURIComponent(r.redirectTo)}`),r?.scopes&&i.push(`scopes=${encodeURIComponent(r.scopes)}`),this.flowType==="pkce"){const[a,s]=await pd(this.storage,this.storageKey),c=new URLSearchParams({code_challenge:`${encodeURIComponent(a)}`,code_challenge_method:`${encodeURIComponent(s)}`});i.push(c.toString())}if(r?.queryParams){const a=new URLSearchParams(r.queryParams);i.push(a.toString())}return r?.skipBrowserRedirect&&i.push(`skip_http_redirect=${r.skipBrowserRedirect}`),`${t}?${i.join("&")}`}async _unenroll(t){try{return await this._useSession(async n=>{var r;const{data:i,error:a}=n;return a?this._returnResult({data:null,error:a}):await st(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(r=i?.session)===null||r===void 0?void 0:r.access_token})})}catch(n){if(Qe(n))return this._returnResult({data:null,error:n});throw n}}async _enroll(t){try{return await this._useSession(async n=>{var r,i;const{data:a,error:s}=n;if(s)return this._returnResult({data:null,error:s});const c=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:t.factorType==="totp"?{issuer:t.issuer}:{}),{data:d,error:f}=await st(this.fetch,"POST",`${this.url}/factors`,{body:c,headers:this.headers,jwt:(r=a?.session)===null||r===void 0?void 0:r.access_token});return f?this._returnResult({data:null,error:f}):(t.factorType==="totp"&&d.type==="totp"&&(!((i=d?.totp)===null||i===void 0)&&i.qr_code)&&(d.totp.qr_code=`data:image/svg+xml;utf-8,${d.totp.qr_code}`),this._returnResult({data:d,error:null}))})}catch(n){if(Qe(n))return this._returnResult({data:null,error:n});throw n}}async _verify(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var r;const{data:i,error:a}=n;if(a)return this._returnResult({data:null,error:a});const s=Object.assign({challenge_id:t.challengeId},"webauthn"in t?{webauthn:Object.assign(Object.assign({},t.webauthn),{credential_response:t.webauthn.type==="create"?gY(t.webauthn.credential_response):vY(t.webauthn.credential_response)})}:{code:t.code}),{data:c,error:d}=await st(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:s,headers:this.headers,jwt:(r=i?.session)===null||r===void 0?void 0:r.access_token});return d?this._returnResult({data:null,error:d}):(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+c.expires_in},c)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",c),this._returnResult({data:c,error:d}))})}catch(n){if(Qe(n))return this._returnResult({data:null,error:n});throw n}})}async _challenge(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var r;const{data:i,error:a}=n;if(a)return this._returnResult({data:null,error:a});const s=await st(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:t,headers:this.headers,jwt:(r=i?.session)===null||r===void 0?void 0:r.access_token});if(s.error)return s;const{data:c}=s;if(c.type!=="webauthn")return{data:c,error:null};switch(c.webauthn.type){case"create":return{data:Object.assign(Object.assign({},c),{webauthn:Object.assign(Object.assign({},c.webauthn),{credential_options:Object.assign(Object.assign({},c.webauthn.credential_options),{publicKey:mY(c.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},c),{webauthn:Object.assign(Object.assign({},c.webauthn),{credential_options:Object.assign(Object.assign({},c.webauthn.credential_options),{publicKey:pY(c.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(n){if(Qe(n))return this._returnResult({data:null,error:n});throw n}})}async _challengeAndVerify(t){const{data:n,error:r}=await this._challenge({factorId:t.factorId});return r?this._returnResult({data:null,error:r}):await this._verify({factorId:t.factorId,challengeId:n.id,code:t.code})}async _listFactors(){var t;const{data:{user:n},error:r}=await this.getUser();if(r)return{data:null,error:r};const i={all:[],phone:[],totp:[],webauthn:[]};for(const a of(t=n?.factors)!==null&&t!==void 0?t:[])i.all.push(a),a.status==="verified"&&i[a.factor_type].push(a);return{data:i,error:null}}async _getAuthenticatorAssuranceLevel(){var t,n;const{data:{session:r},error:i}=await this.getSession();if(i)return this._returnResult({data:null,error:i});if(!r)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:a}=Kx(r.access_token);let s=null;a.aal&&(s=a.aal);let c=s;((n=(t=r.user.factors)===null||t===void 0?void 0:t.filter(m=>m.status==="verified"))!==null&&n!==void 0?n:[]).length>0&&(c="aal2");const f=a.amr||[];return{data:{currentLevel:s,nextLevel:c,currentAuthenticationMethods:f},error:null}}async _getAuthorizationDetails(t){try{return await this._useSession(async n=>{const{data:{session:r},error:i}=n;return i?this._returnResult({data:null,error:i}):r?await st(this.fetch,"GET",`${this.url}/oauth/authorizations/${t}`,{headers:this.headers,jwt:r.access_token,xform:a=>({data:a,error:null})}):this._returnResult({data:null,error:new ji})})}catch(n){if(Qe(n))return this._returnResult({data:null,error:n});throw n}}async _approveAuthorization(t,n){try{return await this._useSession(async r=>{const{data:{session:i},error:a}=r;if(a)return this._returnResult({data:null,error:a});if(!i)return this._returnResult({data:null,error:new ji});const s=await st(this.fetch,"POST",`${this.url}/oauth/authorizations/${t}/consent`,{headers:this.headers,jwt:i.access_token,body:{action:"approve"},xform:c=>({data:c,error:null})});return s.data&&s.data.redirect_url&&Lr()&&!n?.skipBrowserRedirect&&window.location.assign(s.data.redirect_url),s})}catch(r){if(Qe(r))return this._returnResult({data:null,error:r});throw r}}async _denyAuthorization(t,n){try{return await this._useSession(async r=>{const{data:{session:i},error:a}=r;if(a)return this._returnResult({data:null,error:a});if(!i)return this._returnResult({data:null,error:new ji});const s=await st(this.fetch,"POST",`${this.url}/oauth/authorizations/${t}/consent`,{headers:this.headers,jwt:i.access_token,body:{action:"deny"},xform:c=>({data:c,error:null})});return s.data&&s.data.redirect_url&&Lr()&&!n?.skipBrowserRedirect&&window.location.assign(s.data.redirect_url),s})}catch(r){if(Qe(r))return this._returnResult({data:null,error:r});throw r}}async _listOAuthGrants(){try{return await this._useSession(async t=>{const{data:{session:n},error:r}=t;return r?this._returnResult({data:null,error:r}):n?await st(this.fetch,"GET",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:n.access_token,xform:i=>({data:i,error:null})}):this._returnResult({data:null,error:new ji})})}catch(t){if(Qe(t))return this._returnResult({data:null,error:t});throw t}}async _revokeOAuthGrant(t){try{return await this._useSession(async n=>{const{data:{session:r},error:i}=n;return i?this._returnResult({data:null,error:i}):r?(await st(this.fetch,"DELETE",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:r.access_token,query:{client_id:t.clientId},noResolveJson:!0}),{data:{},error:null}):this._returnResult({data:null,error:new ji})})}catch(n){if(Qe(n))return this._returnResult({data:null,error:n});throw n}}async fetchJwk(t,n={keys:[]}){let r=n.keys.find(c=>c.kid===t);if(r)return r;const i=Date.now();if(r=this.jwks.keys.find(c=>c.kid===t),r&&this.jwks_cached_at+jq>i)return r;const{data:a,error:s}=await st(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(s)throw s;return!a.keys||a.keys.length===0||(this.jwks=a,this.jwks_cached_at=i,r=a.keys.find(c=>c.kid===t),!r)?null:r}async getClaims(t,n={}){try{let r=t;if(!r){const{data:b,error:x}=await this.getSession();if(x||!b.session)return this._returnResult({data:null,error:x});r=b.session.access_token}const{header:i,payload:a,signature:s,raw:{header:c,payload:d}}=Kx(r);n?.allowExpired||Wq(a.exp);const f=!i.alg||i.alg.startsWith("HS")||!i.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(i.kid,n?.keys?{keys:n.keys}:n?.jwks);if(!f){const{error:b}=await this.getUser(r);if(b)throw b;return{data:{claims:a,header:i,signature:s},error:null}}const m=Vq(i.alg),p=await crypto.subtle.importKey("jwk",f,m,!0,["verify"]);if(!await crypto.subtle.verify(m,p,s,Rq(`${c}.${d}`)))throw new bv("Invalid JWT signature");return{data:{claims:a,header:i,signature:s},error:null}}catch(r){if(Qe(r))return this._returnResult({data:null,error:r});throw r}}};j2.nextInstanceID={};const TY=k2,kY=j2,OY=Object.freeze(Object.defineProperty({__proto__:null,AuthAdminApi:TY,AuthApiError:m$,AuthClient:kY,AuthError:Yd,AuthImplicitGrantRedirectError:Gh,AuthInvalidCredentialsError:Fh,AuthInvalidJwtError:bv,AuthInvalidTokenResponseError:Yc,AuthPKCEGrantCodeExchangeError:FS,AuthRetryableFetchError:yv,AuthSessionMissingError:ji,AuthUnknownError:zl,AuthWeakPasswordError:GS,CustomAuthError:Us,GoTrueAdminApi:k2,GoTrueClient:j2,NavigatorLockAcquireTimeoutError:x$,SIGN_OUT_SCOPES:J0,isAuthApiError:p$,isAuthError:Qe,isAuthImplicitGrantRedirectError:v$,isAuthRetryableFetchError:X0,isAuthSessionMissingError:g$,isAuthWeakPasswordError:Nq,lockInternals:Wc,navigatorLock:w$,processLock:aY},Symbol.toStringTag,{value:"Module"})),A$=Rm(OY);var WN;function jY(){if(WN)return Th;WN=1,Object.defineProperty(Th,"__esModule",{value:!0}),Th.SupabaseAuthClient=void 0;const e=A$;let t=class extends e.AuthClient{constructor(r){super(r)}};return Th.SupabaseAuthClient=t,Th}var VN;function ZN(){if(VN)return Ig;VN=1,Object.defineProperty(Ig,"__esModule",{value:!0});const e=II,t=FI(),n=JI,r=_q,i=wq(),a=Sq(),s=Eq(),c=jY();class d{constructor(m,p,y){var b,x,T;this.supabaseUrl=m,this.supabaseKey=p;const S=(0,s.validateSupabaseUrl)(m);if(!p)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",S),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",S),this.storageUrl=new URL("storage/v1",S),this.functionsUrl=new URL("functions/v1",S);const j=`sb-${S.hostname.split(".")[0]}-auth-token`,D={db:i.DEFAULT_DB_OPTIONS,realtime:i.DEFAULT_REALTIME_OPTIONS,auth:Object.assign(Object.assign({},i.DEFAULT_AUTH_OPTIONS),{storageKey:j}),global:i.DEFAULT_GLOBAL_OPTIONS},O=(0,s.applySettingDefaults)(y??{},D);this.storageKey=(b=O.auth.storageKey)!==null&&b!==void 0?b:"",this.headers=(x=O.global.headers)!==null&&x!==void 0?x:{},O.accessToken?(this.accessToken=O.accessToken,this.auth=new Proxy({},{get:(M,N)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(N)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((T=O.auth)!==null&&T!==void 0?T:{},this.headers,O.global.fetch),this.fetch=(0,a.fetchWithAuth)(p,this._getAccessToken.bind(this),O.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},O.realtime)),this.accessToken&&this.accessToken().then(M=>this.realtime.setAuth(M)).catch(M=>console.warn("Failed to set initial Realtime auth token:",M)),this.rest=new t.PostgrestClient(new URL("rest/v1",S).href,{headers:this.headers,schema:O.db.schema,fetch:this.fetch}),this.storage=new r.StorageClient(this.storageUrl.href,this.headers,this.fetch,y?.storage),O.accessToken||this._listenForAuthEvents()}get functions(){return new e.FunctionsClient(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(m){return this.rest.from(m)}schema(m){return this.rest.schema(m)}rpc(m,p={},y={head:!1,get:!1,count:void 0}){return this.rest.rpc(m,p,y)}channel(m,p={config:{}}){return this.realtime.channel(m,p)}getChannels(){return this.realtime.getChannels()}removeChannel(m){return this.realtime.removeChannel(m)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var m,p;if(this.accessToken)return await this.accessToken();const{data:y}=await this.auth.getSession();return(p=(m=y.session)===null||m===void 0?void 0:m.access_token)!==null&&p!==void 0?p:this.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:m,persistSession:p,detectSessionInUrl:y,storage:b,userStorage:x,storageKey:T,flowType:S,lock:j,debug:D,throwOnError:O},M,N){const R={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new c.SupabaseAuthClient({url:this.authUrl.href,headers:Object.assign(Object.assign({},R),M),storageKey:T,autoRefreshToken:m,persistSession:p,detectSessionInUrl:y,storage:b,userStorage:x,flowType:S,lock:j,debug:D,throwOnError:O,fetch:N,hasCustomAuthorizationHeader:Object.keys(this.headers).some($=>$.toLowerCase()==="authorization")})}_initRealtimeClient(m){return new n.RealtimeClient(this.realtimeUrl.href,Object.assign(Object.assign({},m),{params:Object.assign({apikey:this.supabaseKey},m?.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((p,y)=>{this._handleTokenChanged(p,"CLIENT",y?.access_token)})}_handleTokenChanged(m,p,y){(m==="TOKEN_REFRESHED"||m==="SIGNED_IN")&&this.changedAccessToken!==y?(this.changedAccessToken=y,this.realtime.setAuth(y)):m==="SIGNED_OUT"&&(this.realtime.setAuth(),p=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}return Ig.default=d,Ig}var XN;function NY(){return XN||(XN=1,(function(e){var t=vs&&vs.__createBinding||(Object.create?(function(m,p,y,b){b===void 0&&(b=y);var x=Object.getOwnPropertyDescriptor(p,y);(!x||("get"in x?!p.__esModule:x.writable||x.configurable))&&(x={enumerable:!0,get:function(){return p[y]}}),Object.defineProperty(m,b,x)}):(function(m,p,y,b){b===void 0&&(b=y),m[b]=p[y]})),n=vs&&vs.__exportStar||function(m,p){for(var y in m)y!=="default"&&!Object.prototype.hasOwnProperty.call(p,y)&&t(p,m,y)},r=vs&&vs.__importDefault||function(m){return m&&m.__esModule?m:{default:m}};Object.defineProperty(e,"__esModule",{value:!0}),e.createClient=e.SupabaseClient=e.FunctionRegion=e.FunctionsError=e.FunctionsRelayError=e.FunctionsFetchError=e.FunctionsHttpError=e.PostgrestError=void 0;const i=r(ZN());n(A$,e);var a=FI();Object.defineProperty(e,"PostgrestError",{enumerable:!0,get:function(){return a.PostgrestError}});var s=II;Object.defineProperty(e,"FunctionsHttpError",{enumerable:!0,get:function(){return s.FunctionsHttpError}}),Object.defineProperty(e,"FunctionsFetchError",{enumerable:!0,get:function(){return s.FunctionsFetchError}}),Object.defineProperty(e,"FunctionsRelayError",{enumerable:!0,get:function(){return s.FunctionsRelayError}}),Object.defineProperty(e,"FunctionsError",{enumerable:!0,get:function(){return s.FunctionsError}}),Object.defineProperty(e,"FunctionRegion",{enumerable:!0,get:function(){return s.FunctionRegion}}),n(JI,e);var c=ZN();Object.defineProperty(e,"SupabaseClient",{enumerable:!0,get:function(){return r(c).default}});const d=(m,p,y)=>new i.default(m,p,y);e.createClient=d;function f(){if(typeof window<"u"||typeof process>"u")return!1;const m=process.version;if(m==null)return!1;const p=m.match(/^v(\d+)\./);return p?parseInt(p[1],10)<=18:!1}f()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217")})(vs)),vs}var T$=NY();const k$=Li(T$),CY=u2({__proto__:null,default:k$},[T$]),{PostgrestError:Vwe,FunctionsHttpError:Zwe,FunctionsFetchError:Xwe,FunctionsRelayError:Jwe,FunctionsError:Qwe,FunctionRegion:e1e,SupabaseClient:t1e,createClient:MY,GoTrueAdminApi:n1e,GoTrueClient:r1e,AuthAdminApi:i1e,AuthClient:a1e,navigatorLock:o1e,NavigatorLockAcquireTimeoutError:s1e,lockInternals:l1e,processLock:c1e,SIGN_OUT_SCOPES:u1e,AuthError:d1e,AuthApiError:f1e,AuthUnknownError:h1e,CustomAuthError:m1e,AuthSessionMissingError:p1e,AuthInvalidTokenResponseError:g1e,AuthInvalidCredentialsError:v1e,AuthImplicitGrantRedirectError:y1e,AuthPKCEGrantCodeExchangeError:b1e,AuthRetryableFetchError:_1e,AuthWeakPasswordError:x1e,AuthInvalidJwtError:w1e,isAuthError:S1e,isAuthApiError:E1e,isAuthSessionMissingError:A1e,isAuthImplicitGrantRedirectError:T1e,isAuthRetryableFetchError:k1e,isAuthWeakPasswordError:O1e,RealtimePresence:j1e,RealtimeChannel:N1e,RealtimeClient:C1e,REALTIME_LISTEN_TYPES:M1e,REALTIME_POSTGRES_CHANGES_LISTEN_EVENT:D1e,REALTIME_PRESENCE_LISTEN_EVENTS:P1e,REALTIME_SUBSCRIBE_STATES:R1e,REALTIME_CHANNEL_STATES:L1e}=k$||CY,Ye=MY("https://jouhybyquybxbnqztxum.supabase.co","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImpvdWh5YnlxdXlieGJucXp0eHVtIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjQ5NjIwOTgsImV4cCI6MjA4MDUzODA5OH0.qAD7S7yRW8GxcRze_3dyirReIy6HvMr9DeET-djp1Fw",{auth:{persistSession:!0,autoRefreshToken:!0,detectSessionInUrl:!0,storage:localStorage}}),O$="settings_v1",YS=()=>{try{typeof window<"u"&&window.localStorage.removeItem(O$)}catch{}},ou={hiddenStem:"all",hiddenStemMode:"classic",ilunRule:"/",sinsalMode:"classic",sinsalBase:"",sinsalBloom:!1,exposure:"",charType:"",thinEum:!1,showSipSin:!0,showSibiSinsal:!0,showSibiUnseong:!0,showNabeum:!0,theme:"dark",difficultyMode:!1,sectionOrder:["hiddenStem","hiddenStemMode","ilunRule","sinsalMode","sinsalBase","sinsalBloom","exposure","charType","thinEum","visibility","difficultyMode"]},JN=["theme","hiddenStem","hiddenStemMode","ilunRule","sinsalMode","sinsalBase","sinsalBloom","exposure","charType","thinEum","visibility","difficultyMode"],DY=e=>{const t=Array.isArray(e)?e.filter(r=>typeof r=="string"&&JN.includes(r)):[],n=JN.filter(r=>!t.includes(r));return[...t,...n]},Ud=e=>({...ou,...e,sectionOrder:DY(e.sectionOrder)}),PY=e=>{if(e&&typeof e=="object"){const t=e;if(t.settings&&typeof t.settings=="object")return Ud(t.settings);if(t.state&&typeof t.state=="object"){const n=t.state;if(n.settings&&typeof n.settings=="object")return Ud(n.settings)}}return Ud(e??{})},RY=e=>{if(!e||typeof e!="object")return!1;const t=e;return!!(t.state||t.settings)};YS();const Ar=zm()(uI((e,t)=>({settings:ou,syncing:!1,loaded:!1,setSettings:n=>e({settings:Ud(n)}),setKey:(n,r)=>e({settings:Ud({...t().settings,[n]:r})}),reset:()=>e({settings:ou}),loadFromServer:async()=>{try{e({syncing:!0}),YS();const{data:{user:n},error:r}=await Ye.auth.getUser();if(r||!n){e({syncing:!1,loaded:!1});return}const{data:i,error:a}=await Ye.from("user_settings").select("payload").eq("user_id",n.id).single();if(a&&a.code!=="PGRST116"){console.error("loadFromServer(settings) error:",a),e({syncing:!1,loaded:!0});return}if(i?.payload){const s=PY(i.payload);e({settings:s,syncing:!1,loaded:!0}),RY(i.payload)&&await Ye.from("user_settings").upsert({user_id:n.id,payload:s,updated_at:new Date().toISOString()});return}await t().saveToServer(!0),e({syncing:!1,loaded:!0})}catch(n){console.error("loadFromServer(settings) exception:",n),e({syncing:!1,loaded:!0})}},saveToServer:async(n=!1)=>{try{if(!t().loaded&&!n)return;e({syncing:!0}),YS();const{data:{user:r},error:i}=await Ye.auth.getUser();if(i||!r){e({syncing:!1});return}const a=Ud(t().settings),{error:s}=await Ye.from("user_settings").upsert({user_id:r.id,payload:a,updated_at:new Date().toISOString()});s&&console.error("saveToServer(settings) error:",s),e({syncing:!1,loaded:!0})}catch(r){console.error("saveToServer(settings) exception:",r),e({syncing:!1})}}}),{name:O$,storage:{getItem:()=>null,setItem:()=>null,removeItem:()=>null},merge:(e,t)=>t}));function KS(e){const t=hi.indexOf(e);if(t!==-1)return hi[t];const n=ua..indexOf(e);return n!==-1?hi[n]:null}function j$(e){const t=Pi.indexOf(e);if(t!==-1)return Pi[t];const n=ua..indexOf(e);return n!==-1?Pi[n]:null}function QN(e,t){if(t?.difficultyMode)return t?.theme==="light"?"bg-white border border-gray-300 text-neutral-900":"bg-white text-black";switch(e){case"":return"bg-green-600 text-white";case"":return"bg-red-600 text-white";case"":return"bg-yellow-500 text-white";case"":return"bg-gray-400 text-white";case"":return"bg-black text-white";default:return"bg-neutral-700 text-white"}}function la(e,t,n){if(t==="stem"){const r=KS(e);if(!r)return console.warn("Invalid stem:",e),"bg-neutral-700";const i=hi.indexOf(r),a=i>=0?tG[i]:void 0;return QN(a,n)}else{const r=j$(e);if(!r)return console.warn("Invalid branch:",e),"bg-neutral-700";const i=Pi.indexOf(r),a=i>=0?nG[i]:void 0;return QN(a,n)}}function ui(e,t){const n=KS(e);if(!n)throw new Error(`getSipSin: invalid dayStem ${e}`);if(t.stem){const r=KS(t.stem);if(!r)throw new Error(`getSipSin: invalid stem ${t.stem}`);return aG[n][r]}if(t.branch){const r=j$(t.branch);if(!r)throw new Error(`getSipSin: invalid branch ${t.branch}`);return oG[n][r]}throw new Error("getSipSin: stem or branch required")}const $y={:["","(-)",""],:["","",""],:["","",""],:["","(-)",""],:["","",""],:["","",""],:["","",""],:["","",""],:["","",""],:["","(-)",""],:["","",""],:["","",""]},By={:["(-)","(-)",""],:["","",""],:["(-)","",""],:["(-)","(-)",""],:["","",""],:["(-)","",""],:["(-)","(-)",""],:["","",""],:["(-)","",""],:["(-)","(-)",""],:["","",""],:["(-)","",""]};function qh({branch:e,dayStem:t,mode:n="all",mapping:r="classic",variant:i="auto",isUnknownTime:a=!1}){const s=(r==="hgc"?By:$y)[e]??[],c=n==="main"?[s[2]]:s,d=i==="white",f=d?"text-white":"text-neutral-800 dark:text-white",m=d?"border-white":"border-neutral-800 dark: border-neutral-200",p=d?"text-yellow-900":"text-red-600 dark:text-yellow-300";return _.jsx("div",{className:"w-full flex flex-col gap-1 mt-1",children:c.map((y,b)=>y==="(-)"||a?_.jsx("div",{className:`w-full max-w-[80px] mx-auto text-[10px] desk:text-xs text-neutral-500 py-0.5 desk:px-1 border ${m} ${f} rounded text-center text-nowrap`,children:"(-) ()"},b):_.jsxs("div",{className:`w-full max-w-[80px] mx-auto text-[10px] desk:text-xs py-0.5 desk:px-1 border ${m} ${f} rounded text-center text-nowrap 
            ${n==="main"||b===2?`jeonggi bg-neutral-500/50 ${p} font-bold`:""}`,children:[y," (",ui(t,{stem:y}),")"]},b))})}const Fm=zm(e=>({manualHour:null,setManualHour:t=>e({manualHour:t}),clearManualHour:()=>e({manualHour:null})})),N2={:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},N$=Object.fromEntries(Object.entries(N2).map(([e,t])=>[t,e])),C2={:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},C$=Object.fromEntries(Object.entries(C2).map(([e,t])=>[t,e]));function eC(e){return $a..includes(e)}function tC(e){return $a..includes(e)}function LY(e){return ua..includes(e)}function IY(e){return ua..includes(e)}function nC(e,t,n){return n===""?t==="stem"?N2[e]??e:C2[e]??e:t==="stem"?N$[e]??e:C$[e]??e}function rC(e){const t=N$[e]??e;return LY(t)?t:""}function $Y(e){const t=C$[e]??e;return IY(t)?t:""}function BY(e){if(eC(e))return e;const t=N2[e]??e;return eC(t)?t:""}function zY(e){if(tC(e))return e;const t=C2[e]??e;return tC(t)?t:""}const UY=new Set(["","","","","","","","","",""]),HY=new Set(["","","","","","","","","","","",""]),FY=e=>UY.has(e),GY=e=>HY.has(e);function Nd({label:e,gz:t,dayStem:n,settings:r,unseongText:i,shinsalText:a,hideBranchSipSin:s=!0,hideHiddenStems:c=!1,size:d="sm",variant:f="auto",isUnknownTime:m=!1}){const{manualHour:p}=Fm(),y=m&&!p,b=t.charAt(0),x=t.charAt(1),T=nC(b,"stem",r.charType),S=nC(x,"branch",r.charType),j=rC(b),D=$Y(x),O=rC(n),M=zY(x),N=BY(n),R=r.showSipSin?ui(O,{stem:j}):null,$=!s&&r.showSipSin?ui(O,{branch:D}):null,B=r.thinEum&&FY(b)?"font-thin":"font-bold",H=r.thinEum&&GY(x)?"font-thin":"font-bold",V={sm:"w-10 h-10 sm:w-12 sm:h-12",md:"w-12 h-12 sm:w-14 sm:h-14 md:w-16 md:h-16",lg:"w-14 h-14 sm:w-16 sm:h-16 md:w-20 md:h-20"},z=!c&&!!r.hiddenStem,F=r.hiddenStem==="regular"?"main":"all",Q=r.hiddenStemMode==="hgc"?"hgc":"classic",ee=f==="white",be=ee?"bg-white text-neutral-900 border border-neutral-200":"bg-white dark:bg-neutral-900 text-neutral-900 dark:text-neutral-100 border border-neutral-200 dark:border-neutral-800",J=ee?"bg-neutral-100 text-neutral-700":"bg-neutral-100 dark:bg-neutral-800/60 text-neutral-700 dark:text-neutral-200",le=ee?"border-neutral-200":"border-neutral-200 dark:border-neutral-800",ae=ee?"text-neutral-500":"text-neutral-400",me=ee?"text-neutral-500":"text-neutral-400",{settings:ne}=Ar(),q=y?`bg-white ${le}`:`${la(j,"stem",ne)} ${le}`,K=y?`bg-white ${le}`:`${la(D,"branch",ne)} ${le}`,X=y?"text-black":ne.difficultyMode?ne.theme==="light"?"text-neutral-900":"text-black":"text-white",ie=y?"text-black":ne.difficultyMode?ne.theme==="light"?"text-neutral-900":"text-black":"text-white";return _.jsxs("div",{className:`rounded-sm desk:rounded-xl overflow-hidden ${be}`,children:[_.jsx("div",{className:`py-2 text-center text-[10px] desk:text-xs tracking-wider ${J} text-nowrap`,children:e}),_.jsxs("div",{className:"py-3 flex flex-col items-center gap-1",children:[R&&_.jsx("div",{className:`text-[10px] desk:text-xs ${ae} text-nowrap`,children:m&&!p?"-":R}),_.jsx("div",{className:`${V[d]} rounded-sm desk:rounded-lg flex items-center justify-center border ${q}`,children:_.jsx("span",{className:`text-2xl md:text-3xl ${X} ${B}`,children:y?"-":T})}),_.jsx("div",{className:`${V[d]} rounded-sm desk:rounded-lg flex items-center justify-center border ${K}`,children:_.jsx("span",{className:`text-2xl md:text-3xl ${ie} ${H}`,children:y?"-":S})}),z&&_.jsx(qh,{branch:M,dayStem:N,mode:F,mapping:Q,isUnknownTime:m&&!p&&(e===""||e==="")}),$&&_.jsx("div",{className:`text-[10px] desk:text-xs ${me}`,children:m&&!p?"-":$}),r.showSibiUnseong&&_.jsx("div",{className:`text-[10px] desk:text-xs ${me} text-nowrap`,children:m&&!p?"-":i||""}),r.showSibiSinsal&&_.jsx("div",{className:`text-[10px] desk:text-xs ${me} text-nowrap`,children:m&&!p?"-":a||""})]})]})}const qY=new Set(ua.);function YY(e){return My.has(e)?e:qY.has(e)?Dy[e]:""}function KY({label:e,settings:t,hideBranchSipSin:n=!0}){const r=t.showSipSin,i=!!t.hiddenStem,s=(t.hiddenStem==="regular"?"main":"all")==="main"?1:3,c=t.showSipSin&&!n;return _.jsxs("div",{className:"rounded-sm desk:rounded-xl bg-white dark:bg-neutral-900 border border-neutral-200 dark:border-neutral-800 overflow-hidden transition-colors",children:[_.jsx("div",{className:"py-2 text-center text-[10px] desk:text-xs tracking-wider bg-neutral-100 dark:bg-neutral-800/60 text-neutral-700 dark:text-neutral-200 text-nowrap",children:e}),_.jsxs("div",{className:"p-3 flex flex-col items-center gap-1",children:[r&&_.jsx("div",{className:"text-[10px] desk:text-xs text-neutral-500 dark:text-neutral-400 text-nowrap",children:"-"}),_.jsx("div",{className:"w-10 h-10 sm:w-12 sm:h-12 rounded-sm desk:rounded-lg flex items-center justify-center border border-neutral-200 dark:border-neutral-800 bg-white",children:_.jsx("span",{className:"text-2xl md:text-3xl font-bold text-neutral-900",children:"-"})}),_.jsx("div",{className:"w-10 h-10 sm:w-12 sm:h-12 rounded-sm desk:rounded-lg flex items-center justify-center border border-neutral-200 dark:border-neutral-800 bg-white",children:_.jsx("span",{className:"text-2xl md:text-3xl font-bold text-neutral-900",children:"-"})}),i&&_.jsx("div",{className:"flex flex-col gap-1 mt-1 w-full",children:Array.from({length:s}).map((d,f)=>_.jsx("div",{className:"w-full max-w-[80px] mx-auto text-[10px] desk:text-xs py-0.5 desk:px-1 border border-neutral-200 dark:border-neutral-800 rounded text-center text-nowrap text-neutral-500 dark:text-neutral-400",children:"-"},f))}),c&&_.jsx("div",{className:"text-[10px] desk:text-xs text-neutral-500 dark:text-neutral-400",children:"-"})]})]})}function WY(){const e=Ar(x=>x.settings),[t,n]=A.useState(new Date),[r,i]=A.useState(!0),[a,s]=A.useState("/"),[c,d]=A.useState(!1);A.useEffect(()=>{if(!r)return;const x=setInterval(()=>n(new Date),1e3);return()=>clearInterval(x)},[r]);const f=vt(t),m=Dt(t),p=Tt(t,a),y=Ua(t,"/"),b=YY(p.charAt(0));return _.jsx("div",{className:"flex justify-center items-center mt-12 w-full h-[calc(100dvh_-_112px)] ",children:_.jsxs("div",{className:`w-[96%] max-w-[640px] mx-auto mb-4 p-4
                      bg-white dark:bg-neutral-950
                      text-neutral-900 dark:text-neutral-100
                      rounded-xl shadow border border-neutral-200 dark:border-neutral-800 transition-colors`,children:[_.jsxs("header",{className:"flex flex-col desk:flex-row items-center justify-center desk:justify-between mb-4 gap-2",children:[_.jsxs("div",{className:"font-semibold text-sm desk:text-base",children:[" "," ",_.jsxs("span",{className:"text-neutral-500 dark:text-neutral-400",children:["(",r?"":"",") ",XY(t)]})]}),_.jsxs("div",{className:"flex gap-2 items-center",children:[_.jsxs("select",{value:a,onChange:x=>s(x.target.value),className:`text-xs rounded px-2 py-1 h-30 cursor-pointer
                        bg-white dark:bg-neutral-900
                        border border-neutral-300 dark:border-neutral-700
                        text-neutral-900 dark:text-neutral-100
                        focus:outline-none focus:ring-2 focus:ring-amber-500/40`,children:[_.jsx("option",{value:"",children:" ( 23)"}),_.jsx("option",{value:"/",children:"/ ()"}),_.jsx("option",{value:"",children:" ( 3)"})]}),_.jsx("button",{onClick:()=>i(!r),className:`text-xs px-3 py-1 rounded transition-colors cursor-pointer
                        bg-neutral-100 hover:bg-neutral-200
                        dark:bg-neutral-800 dark:hover:bg-neutral-700
                        text-neutral-900 dark:text-neutral-100
                        border border-neutral-200 dark:border-neutral-700`,children:r?" ":" "})]})]}),_.jsxs("div",{className:"grid grid-cols-4 gap-3 mb-6",children:[c?_.jsx(KY,{label:"",settings:e,hideBranchSipSin:!0}):_.jsx(Nd,{label:"",gz:y,dayStem:b,settings:e,hideBranchSipSin:!0}),_.jsx(Nd,{label:"",gz:p,dayStem:b,settings:e,hideBranchSipSin:!0}),_.jsx(Nd,{label:"",gz:m,dayStem:b,settings:e,hideBranchSipSin:!0}),_.jsx(Nd,{label:"",gz:f,dayStem:b,settings:e,hideBranchSipSin:!0})]}),_.jsxs("div",{className:"flex flex-col desk:flex-row gap-2 desk:gap-3 items-center",children:[_.jsx("label",{className:"text-sm text-neutral-600 dark:text-neutral-300",children:"/ "}),_.jsx("input",{type:"datetime-local",value:VY(t),disabled:r,onChange:x=>{const T=ZY(x.target.value);T&&n(T)},className:`rounded px-3 py-1 text-sm transition-colors
                        bg-white dark:bg-neutral-900
                        border border-neutral-300 dark:border-neutral-700
                        text-neutral-900 dark:text-neutral-100
                        focus:outline-none focus:ring-2 focus:ring-amber-500/40
                        ${r?"opacity-50 cursor-not-allowed":"cursor-pointer"}`,min:"1900-01-01T00:00",max:"2100-12-31T23:59"}),_.jsx("button",{onClick:()=>d(x=>!x),className:`text-xs px-3 py-1 rounded border transition-colors cursor-pointer
                        ${c?"bg-white text-neutral-900 border-neutral-300 hover:bg-neutral-100":"bg-neutral-100 text-neutral-900 border-neutral-200 hover:bg-neutral-200 dark:bg-neutral-800 dark:text-neutral-100 dark:border-neutral-700 dark:hover:bg-neutral-700"}`,title:"     ",children:c?" ":" "})]})]})})}function VY(e){const t=n=>n.toString().padStart(2,"0");return`${e.getFullYear()}-${t(e.getMonth()+1)}-${t(e.getDate())}T${t(e.getHours())}:${t(e.getMinutes())}`}function ZY(e){if(!e)return null;const[t,n]=e.split("T");if(!t||!n)return null;const[r,i,a]=t.split("-").map(Number),[s,c]=n.split(":").map(Number),d=new Date(r,i-1,a,s,c);return Number.isNaN(d.getTime())?null:d}function XY(e){const t=n=>n.toString().padStart(2,"0");return`${t(e.getHours())}:${t(e.getMinutes())}:${t(e.getSeconds())}`}const Rr=[];for(let e=0;e<256;++e)Rr.push((e+256).toString(16).slice(1));function JY(e,t=0){return(Rr[e[t+0]]+Rr[e[t+1]]+Rr[e[t+2]]+Rr[e[t+3]]+"-"+Rr[e[t+4]]+Rr[e[t+5]]+"-"+Rr[e[t+6]]+Rr[e[t+7]]+"-"+Rr[e[t+8]]+Rr[e[t+9]]+"-"+Rr[e[t+10]]+Rr[e[t+11]]+Rr[e[t+12]]+Rr[e[t+13]]+Rr[e[t+14]]+Rr[e[t+15]]).toLowerCase()}let Vx;const QY=new Uint8Array(16);function eK(){if(!Vx){if(typeof crypto>"u"||!crypto.getRandomValues)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");Vx=crypto.getRandomValues.bind(crypto)}return Vx(QY)}const tK=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),iC={randomUUID:tK};function M$(e,t,n){if(iC.randomUUID&&!e)return iC.randomUUID();e=e||{};const r=e.random??e.rng?.()??eK();if(r.length<16)throw new Error("Random bytes length must be >= 16");return r[6]=r[6]&15|64,r[8]=r[8]&63|128,JY(r)}var Yh={exports:{}};/* @preserve
 * Leaflet 1.9.4, a JS library for interactive maps. https://leafletjs.com
 * (c) 2010-2023 Vladimir Agafonkin, (c) 2010-2011 CloudMade
 */var nK=Yh.exports,aC;function rK(){return aC||(aC=1,(function(e,t){(function(n,r){r(t)})(nK,(function(n){var r="1.9.4";function i(u){var g,w,C,P;for(w=1,C=arguments.length;w<C;w++){P=arguments[w];for(g in P)u[g]=P[g]}return u}var a=Object.create||(function(){function u(){}return function(g){return u.prototype=g,new u}})();function s(u,g){var w=Array.prototype.slice;if(u.bind)return u.bind.apply(u,w.call(arguments,1));var C=w.call(arguments,2);return function(){return u.apply(g,C.length?C.concat(w.call(arguments)):arguments)}}var c=0;function d(u){return"_leaflet_id"in u||(u._leaflet_id=++c),u._leaflet_id}function f(u,g,w){var C,P,U,re;return re=function(){C=!1,P&&(U.apply(w,P),P=!1)},U=function(){C?P=arguments:(u.apply(w,arguments),setTimeout(re,g),C=!0)},U}function m(u,g,w){var C=g[1],P=g[0],U=C-P;return u===C&&w?u:((u-P)%U+U)%U+P}function p(){return!1}function y(u,g){if(g===!1)return u;var w=Math.pow(10,g===void 0?6:g);return Math.round(u*w)/w}function b(u){return u.trim?u.trim():u.replace(/^\s+|\s+$/g,"")}function x(u){return b(u).split(/\s+/)}function T(u,g){Object.prototype.hasOwnProperty.call(u,"options")||(u.options=u.options?a(u.options):{});for(var w in g)u.options[w]=g[w];return u.options}function S(u,g,w){var C=[];for(var P in u)C.push(encodeURIComponent(w?P.toUpperCase():P)+"="+encodeURIComponent(u[P]));return(!g||g.indexOf("?")===-1?"?":"&")+C.join("&")}var j=/\{ *([\w_ -]+) *\}/g;function D(u,g){return u.replace(j,function(w,C){var P=g[C];if(P===void 0)throw new Error("No value provided for variable "+w);return typeof P=="function"&&(P=P(g)),P})}var O=Array.isArray||function(u){return Object.prototype.toString.call(u)==="[object Array]"};function M(u,g){for(var w=0;w<u.length;w++)if(u[w]===g)return w;return-1}var N="data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs=";function R(u){return window["webkit"+u]||window["moz"+u]||window["ms"+u]}var $=0;function B(u){var g=+new Date,w=Math.max(0,16-(g-$));return $=g+w,window.setTimeout(u,w)}var H=window.requestAnimationFrame||R("RequestAnimationFrame")||B,V=window.cancelAnimationFrame||R("CancelAnimationFrame")||R("CancelRequestAnimationFrame")||function(u){window.clearTimeout(u)};function z(u,g,w){if(w&&H===B)u.call(g);else return H.call(window,s(u,g))}function F(u){u&&V.call(window,u)}var Q={__proto__:null,extend:i,create:a,bind:s,get lastId(){return c},stamp:d,throttle:f,wrapNum:m,falseFn:p,formatNum:y,trim:b,splitWords:x,setOptions:T,getParamString:S,template:D,isArray:O,indexOf:M,emptyImageUrl:N,requestFn:H,cancelFn:V,requestAnimFrame:z,cancelAnimFrame:F};function ee(){}ee.extend=function(u){var g=function(){T(this),this.initialize&&this.initialize.apply(this,arguments),this.callInitHooks()},w=g.__super__=this.prototype,C=a(w);C.constructor=g,g.prototype=C;for(var P in this)Object.prototype.hasOwnProperty.call(this,P)&&P!=="prototype"&&P!=="__super__"&&(g[P]=this[P]);return u.statics&&i(g,u.statics),u.includes&&(be(u.includes),i.apply(null,[C].concat(u.includes))),i(C,u),delete C.statics,delete C.includes,C.options&&(C.options=w.options?a(w.options):{},i(C.options,u.options)),C._initHooks=[],C.callInitHooks=function(){if(!this._initHooksCalled){w.callInitHooks&&w.callInitHooks.call(this),this._initHooksCalled=!0;for(var U=0,re=C._initHooks.length;U<re;U++)C._initHooks[U].call(this)}},g},ee.include=function(u){var g=this.prototype.options;return i(this.prototype,u),u.options&&(this.prototype.options=g,this.mergeOptions(u.options)),this},ee.mergeOptions=function(u){return i(this.prototype.options,u),this},ee.addInitHook=function(u){var g=Array.prototype.slice.call(arguments,1),w=typeof u=="function"?u:function(){this[u].apply(this,g)};return this.prototype._initHooks=this.prototype._initHooks||[],this.prototype._initHooks.push(w),this};function be(u){if(!(typeof L>"u"||!L||!L.Mixin)){u=O(u)?u:[u];for(var g=0;g<u.length;g++)u[g]===L.Mixin.Events&&console.warn("Deprecated include of L.Mixin.Events: this property will be removed in future releases, please inherit from L.Evented instead.",new Error().stack)}}var J={on:function(u,g,w){if(typeof u=="object")for(var C in u)this._on(C,u[C],g);else{u=x(u);for(var P=0,U=u.length;P<U;P++)this._on(u[P],g,w)}return this},off:function(u,g,w){if(!arguments.length)delete this._events;else if(typeof u=="object")for(var C in u)this._off(C,u[C],g);else{u=x(u);for(var P=arguments.length===1,U=0,re=u.length;U<re;U++)P?this._off(u[U]):this._off(u[U],g,w)}return this},_on:function(u,g,w,C){if(typeof g!="function"){console.warn("wrong listener type: "+typeof g);return}if(this._listens(u,g,w)===!1){w===this&&(w=void 0);var P={fn:g,ctx:w};C&&(P.once=!0),this._events=this._events||{},this._events[u]=this._events[u]||[],this._events[u].push(P)}},_off:function(u,g,w){var C,P,U;if(this._events&&(C=this._events[u],!!C)){if(arguments.length===1){if(this._firingCount)for(P=0,U=C.length;P<U;P++)C[P].fn=p;delete this._events[u];return}if(typeof g!="function"){console.warn("wrong listener type: "+typeof g);return}var re=this._listens(u,g,w);if(re!==!1){var ye=C[re];this._firingCount&&(ye.fn=p,this._events[u]=C=C.slice()),C.splice(re,1)}}},fire:function(u,g,w){if(!this.listens(u,w))return this;var C=i({},g,{type:u,target:this,sourceTarget:g&&g.sourceTarget||this});if(this._events){var P=this._events[u];if(P){this._firingCount=this._firingCount+1||1;for(var U=0,re=P.length;U<re;U++){var ye=P[U],Ee=ye.fn;ye.once&&this.off(u,Ee,ye.ctx),Ee.call(ye.ctx||this,C)}this._firingCount--}}return w&&this._propagateEvent(C),this},listens:function(u,g,w,C){typeof u!="string"&&console.warn('"string" type argument expected');var P=g;typeof g!="function"&&(C=!!g,P=void 0,w=void 0);var U=this._events&&this._events[u];if(U&&U.length&&this._listens(u,P,w)!==!1)return!0;if(C){for(var re in this._eventParents)if(this._eventParents[re].listens(u,g,w,C))return!0}return!1},_listens:function(u,g,w){if(!this._events)return!1;var C=this._events[u]||[];if(!g)return!!C.length;w===this&&(w=void 0);for(var P=0,U=C.length;P<U;P++)if(C[P].fn===g&&C[P].ctx===w)return P;return!1},once:function(u,g,w){if(typeof u=="object")for(var C in u)this._on(C,u[C],g,!0);else{u=x(u);for(var P=0,U=u.length;P<U;P++)this._on(u[P],g,w,!0)}return this},addEventParent:function(u){return this._eventParents=this._eventParents||{},this._eventParents[d(u)]=u,this},removeEventParent:function(u){return this._eventParents&&delete this._eventParents[d(u)],this},_propagateEvent:function(u){for(var g in this._eventParents)this._eventParents[g].fire(u.type,i({layer:u.target,propagatedFrom:u.target},u),!0)}};J.addEventListener=J.on,J.removeEventListener=J.clearAllEventListeners=J.off,J.addOneTimeEventListener=J.once,J.fireEvent=J.fire,J.hasEventListeners=J.listens;var le=ee.extend(J);function ae(u,g,w){this.x=w?Math.round(u):u,this.y=w?Math.round(g):g}var me=Math.trunc||function(u){return u>0?Math.floor(u):Math.ceil(u)};ae.prototype={clone:function(){return new ae(this.x,this.y)},add:function(u){return this.clone()._add(ne(u))},_add:function(u){return this.x+=u.x,this.y+=u.y,this},subtract:function(u){return this.clone()._subtract(ne(u))},_subtract:function(u){return this.x-=u.x,this.y-=u.y,this},divideBy:function(u){return this.clone()._divideBy(u)},_divideBy:function(u){return this.x/=u,this.y/=u,this},multiplyBy:function(u){return this.clone()._multiplyBy(u)},_multiplyBy:function(u){return this.x*=u,this.y*=u,this},scaleBy:function(u){return new ae(this.x*u.x,this.y*u.y)},unscaleBy:function(u){return new ae(this.x/u.x,this.y/u.y)},round:function(){return this.clone()._round()},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},floor:function(){return this.clone()._floor()},_floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},ceil:function(){return this.clone()._ceil()},_ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},trunc:function(){return this.clone()._trunc()},_trunc:function(){return this.x=me(this.x),this.y=me(this.y),this},distanceTo:function(u){u=ne(u);var g=u.x-this.x,w=u.y-this.y;return Math.sqrt(g*g+w*w)},equals:function(u){return u=ne(u),u.x===this.x&&u.y===this.y},contains:function(u){return u=ne(u),Math.abs(u.x)<=Math.abs(this.x)&&Math.abs(u.y)<=Math.abs(this.y)},toString:function(){return"Point("+y(this.x)+", "+y(this.y)+")"}};function ne(u,g,w){return u instanceof ae?u:O(u)?new ae(u[0],u[1]):u==null?u:typeof u=="object"&&"x"in u&&"y"in u?new ae(u.x,u.y):new ae(u,g,w)}function q(u,g){if(u)for(var w=g?[u,g]:u,C=0,P=w.length;C<P;C++)this.extend(w[C])}q.prototype={extend:function(u){var g,w;if(!u)return this;if(u instanceof ae||typeof u[0]=="number"||"x"in u)g=w=ne(u);else if(u=K(u),g=u.min,w=u.max,!g||!w)return this;return!this.min&&!this.max?(this.min=g.clone(),this.max=w.clone()):(this.min.x=Math.min(g.x,this.min.x),this.max.x=Math.max(w.x,this.max.x),this.min.y=Math.min(g.y,this.min.y),this.max.y=Math.max(w.y,this.max.y)),this},getCenter:function(u){return ne((this.min.x+this.max.x)/2,(this.min.y+this.max.y)/2,u)},getBottomLeft:function(){return ne(this.min.x,this.max.y)},getTopRight:function(){return ne(this.max.x,this.min.y)},getTopLeft:function(){return this.min},getBottomRight:function(){return this.max},getSize:function(){return this.max.subtract(this.min)},contains:function(u){var g,w;return typeof u[0]=="number"||u instanceof ae?u=ne(u):u=K(u),u instanceof q?(g=u.min,w=u.max):g=w=u,g.x>=this.min.x&&w.x<=this.max.x&&g.y>=this.min.y&&w.y<=this.max.y},intersects:function(u){u=K(u);var g=this.min,w=this.max,C=u.min,P=u.max,U=P.x>=g.x&&C.x<=w.x,re=P.y>=g.y&&C.y<=w.y;return U&&re},overlaps:function(u){u=K(u);var g=this.min,w=this.max,C=u.min,P=u.max,U=P.x>g.x&&C.x<w.x,re=P.y>g.y&&C.y<w.y;return U&&re},isValid:function(){return!!(this.min&&this.max)},pad:function(u){var g=this.min,w=this.max,C=Math.abs(g.x-w.x)*u,P=Math.abs(g.y-w.y)*u;return K(ne(g.x-C,g.y-P),ne(w.x+C,w.y+P))},equals:function(u){return u?(u=K(u),this.min.equals(u.getTopLeft())&&this.max.equals(u.getBottomRight())):!1}};function K(u,g){return!u||u instanceof q?u:new q(u,g)}function X(u,g){if(u)for(var w=g?[u,g]:u,C=0,P=w.length;C<P;C++)this.extend(w[C])}X.prototype={extend:function(u){var g=this._southWest,w=this._northEast,C,P;if(u instanceof Z)C=u,P=u;else if(u instanceof X){if(C=u._southWest,P=u._northEast,!C||!P)return this}else return u?this.extend(W(u)||ie(u)):this;return!g&&!w?(this._southWest=new Z(C.lat,C.lng),this._northEast=new Z(P.lat,P.lng)):(g.lat=Math.min(C.lat,g.lat),g.lng=Math.min(C.lng,g.lng),w.lat=Math.max(P.lat,w.lat),w.lng=Math.max(P.lng,w.lng)),this},pad:function(u){var g=this._southWest,w=this._northEast,C=Math.abs(g.lat-w.lat)*u,P=Math.abs(g.lng-w.lng)*u;return new X(new Z(g.lat-C,g.lng-P),new Z(w.lat+C,w.lng+P))},getCenter:function(){return new Z((this._southWest.lat+this._northEast.lat)/2,(this._southWest.lng+this._northEast.lng)/2)},getSouthWest:function(){return this._southWest},getNorthEast:function(){return this._northEast},getNorthWest:function(){return new Z(this.getNorth(),this.getWest())},getSouthEast:function(){return new Z(this.getSouth(),this.getEast())},getWest:function(){return this._southWest.lng},getSouth:function(){return this._southWest.lat},getEast:function(){return this._northEast.lng},getNorth:function(){return this._northEast.lat},contains:function(u){typeof u[0]=="number"||u instanceof Z||"lat"in u?u=W(u):u=ie(u);var g=this._southWest,w=this._northEast,C,P;return u instanceof X?(C=u.getSouthWest(),P=u.getNorthEast()):C=P=u,C.lat>=g.lat&&P.lat<=w.lat&&C.lng>=g.lng&&P.lng<=w.lng},intersects:function(u){u=ie(u);var g=this._southWest,w=this._northEast,C=u.getSouthWest(),P=u.getNorthEast(),U=P.lat>=g.lat&&C.lat<=w.lat,re=P.lng>=g.lng&&C.lng<=w.lng;return U&&re},overlaps:function(u){u=ie(u);var g=this._southWest,w=this._northEast,C=u.getSouthWest(),P=u.getNorthEast(),U=P.lat>g.lat&&C.lat<w.lat,re=P.lng>g.lng&&C.lng<w.lng;return U&&re},toBBoxString:function(){return[this.getWest(),this.getSouth(),this.getEast(),this.getNorth()].join(",")},equals:function(u,g){return u?(u=ie(u),this._southWest.equals(u.getSouthWest(),g)&&this._northEast.equals(u.getNorthEast(),g)):!1},isValid:function(){return!!(this._southWest&&this._northEast)}};function ie(u,g){return u instanceof X?u:new X(u,g)}function Z(u,g,w){if(isNaN(u)||isNaN(g))throw new Error("Invalid LatLng object: ("+u+", "+g+")");this.lat=+u,this.lng=+g,w!==void 0&&(this.alt=+w)}Z.prototype={equals:function(u,g){if(!u)return!1;u=W(u);var w=Math.max(Math.abs(this.lat-u.lat),Math.abs(this.lng-u.lng));return w<=(g===void 0?1e-9:g)},toString:function(u){return"LatLng("+y(this.lat,u)+", "+y(this.lng,u)+")"},distanceTo:function(u){return te.distance(this,W(u))},wrap:function(){return te.wrapLatLng(this)},toBounds:function(u){var g=180*u/40075017,w=g/Math.cos(Math.PI/180*this.lat);return ie([this.lat-g,this.lng-w],[this.lat+g,this.lng+w])},clone:function(){return new Z(this.lat,this.lng,this.alt)}};function W(u,g,w){return u instanceof Z?u:O(u)&&typeof u[0]!="object"?u.length===3?new Z(u[0],u[1],u[2]):u.length===2?new Z(u[0],u[1]):null:u==null?u:typeof u=="object"&&"lat"in u?new Z(u.lat,"lng"in u?u.lng:u.lon,u.alt):g===void 0?null:new Z(u,g,w)}var de={latLngToPoint:function(u,g){var w=this.projection.project(u),C=this.scale(g);return this.transformation._transform(w,C)},pointToLatLng:function(u,g){var w=this.scale(g),C=this.transformation.untransform(u,w);return this.projection.unproject(C)},project:function(u){return this.projection.project(u)},unproject:function(u){return this.projection.unproject(u)},scale:function(u){return 256*Math.pow(2,u)},zoom:function(u){return Math.log(u/256)/Math.LN2},getProjectedBounds:function(u){if(this.infinite)return null;var g=this.projection.bounds,w=this.scale(u),C=this.transformation.transform(g.min,w),P=this.transformation.transform(g.max,w);return new q(C,P)},infinite:!1,wrapLatLng:function(u){var g=this.wrapLng?m(u.lng,this.wrapLng,!0):u.lng,w=this.wrapLat?m(u.lat,this.wrapLat,!0):u.lat,C=u.alt;return new Z(w,g,C)},wrapLatLngBounds:function(u){var g=u.getCenter(),w=this.wrapLatLng(g),C=g.lat-w.lat,P=g.lng-w.lng;if(C===0&&P===0)return u;var U=u.getSouthWest(),re=u.getNorthEast(),ye=new Z(U.lat-C,U.lng-P),Ee=new Z(re.lat-C,re.lng-P);return new X(ye,Ee)}},te=i({},de,{wrapLng:[-180,180],R:6371e3,distance:function(u,g){var w=Math.PI/180,C=u.lat*w,P=g.lat*w,U=Math.sin((g.lat-u.lat)*w/2),re=Math.sin((g.lng-u.lng)*w/2),ye=U*U+Math.cos(C)*Math.cos(P)*re*re,Ee=2*Math.atan2(Math.sqrt(ye),Math.sqrt(1-ye));return this.R*Ee}}),Y=6378137,se={R:Y,MAX_LATITUDE:85.0511287798,project:function(u){var g=Math.PI/180,w=this.MAX_LATITUDE,C=Math.max(Math.min(w,u.lat),-w),P=Math.sin(C*g);return new ae(this.R*u.lng*g,this.R*Math.log((1+P)/(1-P))/2)},unproject:function(u){var g=180/Math.PI;return new Z((2*Math.atan(Math.exp(u.y/this.R))-Math.PI/2)*g,u.x*g/this.R)},bounds:(function(){var u=Y*Math.PI;return new q([-u,-u],[u,u])})()};function xe(u,g,w,C){if(O(u)){this._a=u[0],this._b=u[1],this._c=u[2],this._d=u[3];return}this._a=u,this._b=g,this._c=w,this._d=C}xe.prototype={transform:function(u,g){return this._transform(u.clone(),g)},_transform:function(u,g){return g=g||1,u.x=g*(this._a*u.x+this._b),u.y=g*(this._c*u.y+this._d),u},untransform:function(u,g){return g=g||1,new ae((u.x/g-this._b)/this._a,(u.y/g-this._d)/this._c)}};function ce(u,g,w,C){return new xe(u,g,w,C)}var Ne=i({},te,{code:"EPSG:3857",projection:se,transformation:(function(){var u=.5/(Math.PI*se.R);return ce(u,.5,-u,.5)})()}),pe=i({},Ne,{code:"EPSG:900913"});function Te(u){return document.createElementNS("http://www.w3.org/2000/svg",u)}function Me(u,g){var w="",C,P,U,re,ye,Ee;for(C=0,U=u.length;C<U;C++){for(ye=u[C],P=0,re=ye.length;P<re;P++)Ee=ye[P],w+=(P?"L":"M")+Ee.x+" "+Ee.y;w+=g?We.svg?"z":"x":""}return w||"M0 0"}var Le=document.documentElement.style,Be="ActiveXObject"in window,ge=Be&&!document.addEventListener,Ue="msLaunchUri"in navigator&&!("documentMode"in document),ue=Vn("webkit"),he=Vn("android"),$e=Vn("android 2")||Vn("android 3"),ze=parseInt(/WebKit\/([0-9]+)|$/.exec(navigator.userAgent)[1],10),He=he&&Vn("Google")&&ze<537&&!("AudioNode"in window),dt=!!window.opera,yt=!Ue&&Vn("chrome"),qt=Vn("gecko")&&!ue&&!dt&&!Be,yn=!yt&&Vn("safari"),bn=Vn("phantom"),Ct="OTransition"in Le,gi=navigator.platform.indexOf("Win")===0,Wn=Be&&"transition"in Le,Ut="WebKitCSSMatrix"in window&&"m11"in new window.WebKitCSSMatrix&&!$e,fn="MozPerspective"in Le,_n=!window.L_DISABLE_3D&&(Wn||Ut||fn)&&!Ct&&!bn,Hr=typeof orientation<"u"||Vn("mobile"),Ka=Hr&&ue,Zs=Hr&&Ut,Fr=!window.PointerEvent&&window.MSPointerEvent,hr=!!(window.PointerEvent||Fr),Wa="ontouchstart"in window||!!window.TouchEvent,Gr=!window.L_NO_TOUCH&&(Wa||hr),jr=Hr&&dt,ha=Hr&&qt,Tf=(window.devicePixelRatio||window.screen.deviceXDPI/window.screen.logicalXDPI)>1,tc=(function(){var u=!1;try{var g=Object.defineProperty({},"passive",{get:function(){u=!0}});window.addEventListener("testPassiveEventSupport",p,g),window.removeEventListener("testPassiveEventSupport",p,g)}catch{}return u})(),ma=(function(){return!!document.createElement("canvas").getContext})(),vi=!!(document.createElementNS&&Te("svg").createSVGRect),Xs=!!vi&&(function(){var u=document.createElement("div");return u.innerHTML="<svg/>",(u.firstChild&&u.firstChild.namespaceURI)==="http://www.w3.org/2000/svg"})(),nc=!vi&&(function(){try{var u=document.createElement("div");u.innerHTML='<v:shape adj="1"/>';var g=u.firstChild;return g.style.behavior="url(#default#VML)",g&&typeof g.adj=="object"}catch{return!1}})(),Tu=navigator.platform.indexOf("Mac")===0,ku=navigator.platform.indexOf("Linux")===0;function Vn(u){return navigator.userAgent.toLowerCase().indexOf(u)>=0}var We={ie:Be,ielt9:ge,edge:Ue,webkit:ue,android:he,android23:$e,androidStock:He,opera:dt,chrome:yt,gecko:qt,safari:yn,phantom:bn,opera12:Ct,win:gi,ie3d:Wn,webkit3d:Ut,gecko3d:fn,any3d:_n,mobile:Hr,mobileWebkit:Ka,mobileWebkit3d:Zs,msPointer:Fr,pointer:hr,touch:Gr,touchNative:Wa,mobileOpera:jr,mobileGecko:ha,retina:Tf,passiveEvents:tc,canvas:ma,svg:vi,vml:nc,inlineSvg:Xs,mac:Tu,linux:ku},Js=We.msPointer?"MSPointerDown":"pointerdown",Qs=We.msPointer?"MSPointerMove":"pointermove",qr=We.msPointer?"MSPointerUp":"pointerup",kn=We.msPointer?"MSPointerCancel":"pointercancel",Dn={touchstart:Js,touchmove:Qs,touchend:qr,touchcancel:kn},mr={touchstart:Eo,touchmove:yi,touchend:yi,touchcancel:yi},ri={},Xo=!1;function rc(u,g,w){return g==="touchstart"&&pa(),mr[g]?(w=mr[g].bind(this,w),u.addEventListener(Dn[g],w,!1),w):(console.warn("wrong event specified:",g),p)}function ic(u,g,w){if(!Dn[g]){console.warn("wrong event specified:",g);return}u.removeEventListener(Dn[g],w,!1)}function Va(u){ri[u.pointerId]=u}function el(u){ri[u.pointerId]&&(ri[u.pointerId]=u)}function Bi(u){delete ri[u.pointerId]}function pa(){Xo||(document.addEventListener(Js,Va,!0),document.addEventListener(Qs,el,!0),document.addEventListener(qr,Bi,!0),document.addEventListener(kn,Bi,!0),Xo=!0)}function yi(u,g){if(g.pointerType!==(g.MSPOINTER_TYPE_MOUSE||"mouse")){g.touches=[];for(var w in ri)g.touches.push(ri[w]);g.changedTouches=[g],u(g)}}function Eo(u,g){g.MSPOINTER_TYPE_TOUCH&&g.pointerType===g.MSPOINTER_TYPE_TOUCH&&Ln(g),yi(u,g)}function Pn(u){var g={},w,C;for(C in u)w=u[C],g[C]=w&&w.bind?w.bind(u):w;return u=g,g.type="dblclick",g.detail=2,g.isTrusted=!1,g._simulated=!0,g}var _e=200;function qe(u,g){u.addEventListener("dblclick",g);var w=0,C;function P(U){if(U.detail!==1){C=U.detail;return}if(!(U.pointerType==="mouse"||U.sourceCapabilities&&!U.sourceCapabilities.firesTouchEvents)){var re=cc(U);if(!(re.some(function(Ee){return Ee instanceof HTMLLabelElement&&Ee.attributes.for})&&!re.some(function(Ee){return Ee instanceof HTMLInputElement||Ee instanceof HTMLSelectElement}))){var ye=Date.now();ye-w<=_e?(C++,C===2&&g(Pn(U))):C=1,w=ye}}}return u.addEventListener("click",P),{dblclick:g,simDblclick:P}}function ct(u,g){u.removeEventListener("dblclick",g.dblclick),u.removeEventListener("click",g.simDblclick)}var pt=ac(["transform","webkitTransform","OTransform","MozTransform","msTransform"]),at=ac(["webkitTransition","transition","OTransition","MozTransition","msTransition"]),xt=at==="webkitTransition"||at==="OTransition"?at+"End":"transitionend";function Mt(u){return typeof u=="string"?document.getElementById(u):u}function wt(u,g){var w=u.style[g]||u.currentStyle&&u.currentStyle[g];if((!w||w==="auto")&&document.defaultView){var C=document.defaultView.getComputedStyle(u,null);w=C?C[g]:null}return w==="auto"?null:w}function ut(u,g,w){var C=document.createElement(u);return C.className=g||"",w&&w.appendChild(C),C}function ht(u){var g=u.parentNode;g&&g.removeChild(u)}function pr(u){for(;u.firstChild;)u.removeChild(u.firstChild)}function Rn(u){var g=u.parentNode;g&&g.lastChild!==u&&g.appendChild(u)}function ga(u){var g=u.parentNode;g&&g.firstChild!==u&&g.insertBefore(u,g.firstChild)}function va(u,g){if(u.classList!==void 0)return u.classList.contains(g);var w=Ou(u);return w.length>0&&new RegExp("(^|\\s)"+g+"(\\s|$)").test(w)}function ft(u,g){if(u.classList!==void 0)for(var w=x(g),C=0,P=w.length;C<P;C++)u.classList.add(w[C]);else if(!va(u,g)){var U=Ou(u);Ao(u,(U?U+" ":"")+g)}}function nn(u,g){u.classList!==void 0?u.classList.remove(g):Ao(u,b((" "+Ou(u)+" ").replace(" "+g+" "," ")))}function Ao(u,g){u.className.baseVal===void 0?u.className=g:u.className.baseVal=g}function Ou(u){return u.correspondingElement&&(u=u.correspondingElement),u.className.baseVal===void 0?u.className:u.className.baseVal}function hn(u,g){"opacity"in u.style?u.style.opacity=g:"filter"in u.style&&kf(u,g)}function kf(u,g){var w=!1,C="DXImageTransform.Microsoft.Alpha";try{w=u.filters.item(C)}catch{if(g===1)return}g=Math.round(g*100),w?(w.Enabled=g!==100,w.Opacity=g):u.style.filter+=" progid:"+C+"(opacity="+g+")"}function ac(u){for(var g=document.documentElement.style,w=0;w<u.length;w++)if(u[w]in g)return u[w];return!1}function Za(u,g,w){var C=g||new ae(0,0);u.style[pt]=(We.ie3d?"translate("+C.x+"px,"+C.y+"px)":"translate3d("+C.x+"px,"+C.y+"px,0)")+(w?" scale("+w+")":"")}function Qt(u,g){u._leaflet_pos=g,We.any3d?Za(u,g):(u.style.left=g.x+"px",u.style.top=g.y+"px")}function To(u){return u._leaflet_pos||new ae(0,0)}var tl,ya,Of;if("onselectstart"in document)tl=function(){lt(window,"selectstart",Ln)},ya=function(){Ht(window,"selectstart",Ln)};else{var nl=ac(["userSelect","WebkitUserSelect","OUserSelect","MozUserSelect","msUserSelect"]);tl=function(){if(nl){var u=document.documentElement.style;Of=u[nl],u[nl]="none"}},ya=function(){nl&&(document.documentElement.style[nl]=Of,Of=void 0)}}function ju(){lt(window,"dragstart",Ln)}function oc(){Ht(window,"dragstart",Ln)}var Nu,jf;function rl(u){for(;u.tabIndex===-1;)u=u.parentNode;u.style&&(bi(),Nu=u,jf=u.style.outlineStyle,u.style.outlineStyle="none",lt(window,"keydown",bi))}function bi(){Nu&&(Nu.style.outlineStyle=jf,Nu=void 0,jf=void 0,Ht(window,"keydown",bi))}function Cu(u){do u=u.parentNode;while((!u.offsetWidth||!u.offsetHeight)&&u!==document.body);return u}function sc(u){var g=u.getBoundingClientRect();return{x:g.width/u.offsetWidth||1,y:g.height/u.offsetHeight||1,boundingClientRect:g}}var il={__proto__:null,TRANSFORM:pt,TRANSITION:at,TRANSITION_END:xt,get:Mt,getStyle:wt,create:ut,remove:ht,empty:pr,toFront:Rn,toBack:ga,hasClass:va,addClass:ft,removeClass:nn,setClass:Ao,getClass:Ou,setOpacity:hn,testProp:ac,setTransform:Za,setPosition:Qt,getPosition:To,get disableTextSelection(){return tl},get enableTextSelection(){return ya},disableImageDrag:ju,enableImageDrag:oc,preventOutline:rl,restoreOutline:bi,getSizedParentNode:Cu,getScale:sc};function lt(u,g,w,C){if(g&&typeof g=="object")for(var P in g)Ui(u,P,g[P],w);else{g=x(g);for(var U=0,re=g.length;U<re;U++)Ui(u,g[U],w,C)}return this}var zi="_leaflet_events";function Ht(u,g,w,C){if(arguments.length===1)Nf(u),delete u[zi];else if(g&&typeof g=="object")for(var P in g)lc(u,P,g[P],w);else if(g=x(g),arguments.length===2)Nf(u,function(ye){return M(g,ye)!==-1});else for(var U=0,re=g.length;U<re;U++)lc(u,g[U],w,C);return this}function Nf(u,g){for(var w in u[zi]){var C=w.split(/\d/)[0];(!g||g(C))&&lc(u,C,null,null,w)}}var Jo={mouseenter:"mouseover",mouseleave:"mouseout",wheel:!("onwheel"in window)&&"mousewheel"};function Ui(u,g,w,C){var P=g+d(w)+(C?"_"+d(C):"");if(u[zi]&&u[zi][P])return this;var U=function(ye){return w.call(C||u,ye||window.event)},re=U;!We.touchNative&&We.pointer&&g.indexOf("touch")===0?U=rc(u,g,U):We.touch&&g==="dblclick"?U=qe(u,U):"addEventListener"in u?g==="touchstart"||g==="touchmove"||g==="wheel"||g==="mousewheel"?u.addEventListener(Jo[g]||g,U,We.passiveEvents?{passive:!1}:!1):g==="mouseenter"||g==="mouseleave"?(U=function(ye){ye=ye||window.event,Xa(u,ye)&&re(ye)},u.addEventListener(Jo[g],U,!1)):u.addEventListener(g,re,!1):u.attachEvent("on"+g,U),u[zi]=u[zi]||{},u[zi][P]=U}function lc(u,g,w,C,P){P=P||g+d(w)+(C?"_"+d(C):"");var U=u[zi]&&u[zi][P];if(!U)return this;!We.touchNative&&We.pointer&&g.indexOf("touch")===0?ic(u,g,U):We.touch&&g==="dblclick"?ct(u,U):"removeEventListener"in u?u.removeEventListener(Jo[g]||g,U,!1):u.detachEvent("on"+g,U),u[zi][P]=null}function Hi(u){return u.stopPropagation?u.stopPropagation():u.originalEvent?u.originalEvent._stopped=!0:u.cancelBubble=!0,this}function ba(u){return Ui(u,"wheel",Hi),this}function Qo(u){return lt(u,"mousedown touchstart dblclick contextmenu",Hi),u._leaflet_disable_click=!0,this}function Ln(u){return u.preventDefault?u.preventDefault():u.returnValue=!1,this}function ko(u){return Ln(u),Hi(u),this}function cc(u){if(u.composedPath)return u.composedPath();for(var g=[],w=u.target;w;)g.push(w),w=w.parentNode;return g}function uc(u,g){if(!g)return new ae(u.clientX,u.clientY);var w=sc(g),C=w.boundingClientRect;return new ae((u.clientX-C.left)/w.x-g.clientLeft,(u.clientY-C.top)/w.y-g.clientTop)}var vp=We.linux&&We.chrome?window.devicePixelRatio:We.mac?window.devicePixelRatio*3:window.devicePixelRatio>0?2*window.devicePixelRatio:1;function Nr(u){return We.edge?u.wheelDeltaY/2:u.deltaY&&u.deltaMode===0?-u.deltaY/vp:u.deltaY&&u.deltaMode===1?-u.deltaY*20:u.deltaY&&u.deltaMode===2?-u.deltaY*60:u.deltaX||u.deltaZ?0:u.wheelDelta?(u.wheelDeltaY||u.wheelDelta)/2:u.detail&&Math.abs(u.detail)<32765?-u.detail*20:u.detail?u.detail/-32765*60:0}function Xa(u,g){var w=g.relatedTarget;if(!w)return!0;try{for(;w&&w!==u;)w=w.parentNode}catch{return!1}return w!==u}var Mu={__proto__:null,on:lt,off:Ht,stopPropagation:Hi,disableScrollPropagation:ba,disableClickPropagation:Qo,preventDefault:Ln,stop:ko,getPropagationPath:cc,getMousePosition:uc,getWheelDelta:Nr,isExternalTarget:Xa,addListener:lt,removeListener:Ht},al=le.extend({run:function(u,g,w,C){this.stop(),this._el=u,this._inProgress=!0,this._duration=w||.25,this._easeOutPower=1/Math.max(C||.5,.2),this._startPos=To(u),this._offset=g.subtract(this._startPos),this._startTime=+new Date,this.fire("start"),this._animate()},stop:function(){this._inProgress&&(this._step(!0),this._complete())},_animate:function(){this._animId=z(this._animate,this),this._step()},_step:function(u){var g=+new Date-this._startTime,w=this._duration*1e3;g<w?this._runFrame(this._easeOut(g/w),u):(this._runFrame(1),this._complete())},_runFrame:function(u,g){var w=this._startPos.add(this._offset.multiplyBy(u));g&&w._round(),Qt(this._el,w),this.fire("step")},_complete:function(){F(this._animId),this._inProgress=!1,this.fire("end")},_easeOut:function(u){return 1-Math.pow(1-u,this._easeOutPower)}}),kt=le.extend({options:{crs:Ne,center:void 0,zoom:void 0,minZoom:void 0,maxZoom:void 0,layers:[],maxBounds:void 0,renderer:void 0,zoomAnimation:!0,zoomAnimationThreshold:4,fadeAnimation:!0,markerZoomAnimation:!0,transform3DLimit:8388608,zoomSnap:1,zoomDelta:1,trackResize:!0},initialize:function(u,g){g=T(this,g),this._handlers=[],this._layers={},this._zoomBoundLayers={},this._sizeChanged=!0,this._initContainer(u),this._initLayout(),this._onResize=s(this._onResize,this),this._initEvents(),g.maxBounds&&this.setMaxBounds(g.maxBounds),g.zoom!==void 0&&(this._zoom=this._limitZoom(g.zoom)),g.center&&g.zoom!==void 0&&this.setView(W(g.center),g.zoom,{reset:!0}),this.callInitHooks(),this._zoomAnimated=at&&We.any3d&&!We.mobileOpera&&this.options.zoomAnimation,this._zoomAnimated&&(this._createAnimProxy(),lt(this._proxy,xt,this._catchTransitionEnd,this)),this._addLayers(this.options.layers)},setView:function(u,g,w){if(g=g===void 0?this._zoom:this._limitZoom(g),u=this._limitCenter(W(u),g,this.options.maxBounds),w=w||{},this._stop(),this._loaded&&!w.reset&&w!==!0){w.animate!==void 0&&(w.zoom=i({animate:w.animate},w.zoom),w.pan=i({animate:w.animate,duration:w.duration},w.pan));var C=this._zoom!==g?this._tryAnimatedZoom&&this._tryAnimatedZoom(u,g,w.zoom):this._tryAnimatedPan(u,w.pan);if(C)return clearTimeout(this._sizeTimer),this}return this._resetView(u,g,w.pan&&w.pan.noMoveStart),this},setZoom:function(u,g){return this._loaded?this.setView(this.getCenter(),u,{zoom:g}):(this._zoom=u,this)},zoomIn:function(u,g){return u=u||(We.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom+u,g)},zoomOut:function(u,g){return u=u||(We.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom-u,g)},setZoomAround:function(u,g,w){var C=this.getZoomScale(g),P=this.getSize().divideBy(2),U=u instanceof ae?u:this.latLngToContainerPoint(u),re=U.subtract(P).multiplyBy(1-1/C),ye=this.containerPointToLatLng(P.add(re));return this.setView(ye,g,{zoom:w})},_getBoundsCenterZoom:function(u,g){g=g||{},u=u.getBounds?u.getBounds():ie(u);var w=ne(g.paddingTopLeft||g.padding||[0,0]),C=ne(g.paddingBottomRight||g.padding||[0,0]),P=this.getBoundsZoom(u,!1,w.add(C));if(P=typeof g.maxZoom=="number"?Math.min(g.maxZoom,P):P,P===1/0)return{center:u.getCenter(),zoom:P};var U=C.subtract(w).divideBy(2),re=this.project(u.getSouthWest(),P),ye=this.project(u.getNorthEast(),P),Ee=this.unproject(re.add(ye).divideBy(2).add(U),P);return{center:Ee,zoom:P}},fitBounds:function(u,g){if(u=ie(u),!u.isValid())throw new Error("Bounds are not valid.");var w=this._getBoundsCenterZoom(u,g);return this.setView(w.center,w.zoom,g)},fitWorld:function(u){return this.fitBounds([[-90,-180],[90,180]],u)},panTo:function(u,g){return this.setView(u,this._zoom,{pan:g})},panBy:function(u,g){if(u=ne(u).round(),g=g||{},!u.x&&!u.y)return this.fire("moveend");if(g.animate!==!0&&!this.getSize().contains(u))return this._resetView(this.unproject(this.project(this.getCenter()).add(u)),this.getZoom()),this;if(this._panAnim||(this._panAnim=new al,this._panAnim.on({step:this._onPanTransitionStep,end:this._onPanTransitionEnd},this)),g.noMoveStart||this.fire("movestart"),g.animate!==!1){ft(this._mapPane,"leaflet-pan-anim");var w=this._getMapPanePos().subtract(u).round();this._panAnim.run(this._mapPane,w,g.duration||.25,g.easeLinearity)}else this._rawPanBy(u),this.fire("move").fire("moveend");return this},flyTo:function(u,g,w){if(w=w||{},w.animate===!1||!We.any3d)return this.setView(u,g,w);this._stop();var C=this.project(this.getCenter()),P=this.project(u),U=this.getSize(),re=this._zoom;u=W(u),g=g===void 0?re:g;var ye=Math.max(U.x,U.y),Ee=ye*this.getZoomScale(re,g),Pe=P.distanceTo(C)||1,Ge=1.42,et=Ge*Ge;function bt(On){var to=On?-1:1,rs=On?Ee:ye,qf=Ee*Ee-ye*ye+to*et*et*Pe*Pe,Tc=2*rs*et*Pe,kc=qf/Tc,Lo=Math.sqrt(kc*kc+1)-kc,no=Lo<1e-9?-18:Math.log(Lo);return no}function ir(On){return(Math.exp(On)-Math.exp(-On))/2}function In(On){return(Math.exp(On)+Math.exp(-On))/2}function ai(On){return ir(On)/In(On)}var Pt=bt(0);function Rt(On){return ye*(In(Pt)/In(Pt+Ge*On))}function St(On){return ye*(In(Pt)*ai(Pt+Ge*On)-ir(Pt))/et}function Po(On){return 1-Math.pow(1-On,1.5)}var Si=Date.now(),Yu=(bt(1)-Pt)/Ge,Ro=w.duration?1e3*w.duration:1e3*Yu*.8;function Gf(){var On=(Date.now()-Si)/Ro,to=Po(On)*Yu;On<=1?(this._flyToFrame=z(Gf,this),this._move(this.unproject(C.add(P.subtract(C).multiplyBy(St(to)/Pe)),re),this.getScaleZoom(ye/Rt(to),re),{flyTo:!0})):this._move(u,g)._moveEnd(!0)}return this._moveStart(!0,w.noMoveStart),Gf.call(this),this},flyToBounds:function(u,g){var w=this._getBoundsCenterZoom(u,g);return this.flyTo(w.center,w.zoom,g)},setMaxBounds:function(u){return u=ie(u),this.listens("moveend",this._panInsideMaxBounds)&&this.off("moveend",this._panInsideMaxBounds),u.isValid()?(this.options.maxBounds=u,this._loaded&&this._panInsideMaxBounds(),this.on("moveend",this._panInsideMaxBounds)):(this.options.maxBounds=null,this)},setMinZoom:function(u){var g=this.options.minZoom;return this.options.minZoom=u,this._loaded&&g!==u&&(this.fire("zoomlevelschange"),this.getZoom()<this.options.minZoom)?this.setZoom(u):this},setMaxZoom:function(u){var g=this.options.maxZoom;return this.options.maxZoom=u,this._loaded&&g!==u&&(this.fire("zoomlevelschange"),this.getZoom()>this.options.maxZoom)?this.setZoom(u):this},panInsideBounds:function(u,g){this._enforcingBounds=!0;var w=this.getCenter(),C=this._limitCenter(w,this._zoom,ie(u));return w.equals(C)||this.panTo(C,g),this._enforcingBounds=!1,this},panInside:function(u,g){g=g||{};var w=ne(g.paddingTopLeft||g.padding||[0,0]),C=ne(g.paddingBottomRight||g.padding||[0,0]),P=this.project(this.getCenter()),U=this.project(u),re=this.getPixelBounds(),ye=K([re.min.add(w),re.max.subtract(C)]),Ee=ye.getSize();if(!ye.contains(U)){this._enforcingBounds=!0;var Pe=U.subtract(ye.getCenter()),Ge=ye.extend(U).getSize().subtract(Ee);P.x+=Pe.x<0?-Ge.x:Ge.x,P.y+=Pe.y<0?-Ge.y:Ge.y,this.panTo(this.unproject(P),g),this._enforcingBounds=!1}return this},invalidateSize:function(u){if(!this._loaded)return this;u=i({animate:!1,pan:!0},u===!0?{animate:!0}:u);var g=this.getSize();this._sizeChanged=!0,this._lastCenter=null;var w=this.getSize(),C=g.divideBy(2).round(),P=w.divideBy(2).round(),U=C.subtract(P);return!U.x&&!U.y?this:(u.animate&&u.pan?this.panBy(U):(u.pan&&this._rawPanBy(U),this.fire("move"),u.debounceMoveend?(clearTimeout(this._sizeTimer),this._sizeTimer=setTimeout(s(this.fire,this,"moveend"),200)):this.fire("moveend")),this.fire("resize",{oldSize:g,newSize:w}))},stop:function(){return this.setZoom(this._limitZoom(this._zoom)),this.options.zoomSnap||this.fire("viewreset"),this._stop()},locate:function(u){if(u=this._locateOptions=i({timeout:1e4,watch:!1},u),!("geolocation"in navigator))return this._handleGeolocationError({code:0,message:"Geolocation not supported."}),this;var g=s(this._handleGeolocationResponse,this),w=s(this._handleGeolocationError,this);return u.watch?this._locationWatchId=navigator.geolocation.watchPosition(g,w,u):navigator.geolocation.getCurrentPosition(g,w,u),this},stopLocate:function(){return navigator.geolocation&&navigator.geolocation.clearWatch&&navigator.geolocation.clearWatch(this._locationWatchId),this._locateOptions&&(this._locateOptions.setView=!1),this},_handleGeolocationError:function(u){if(this._container._leaflet_id){var g=u.code,w=u.message||(g===1?"permission denied":g===2?"position unavailable":"timeout");this._locateOptions.setView&&!this._loaded&&this.fitWorld(),this.fire("locationerror",{code:g,message:"Geolocation error: "+w+"."})}},_handleGeolocationResponse:function(u){if(this._container._leaflet_id){var g=u.coords.latitude,w=u.coords.longitude,C=new Z(g,w),P=C.toBounds(u.coords.accuracy*2),U=this._locateOptions;if(U.setView){var re=this.getBoundsZoom(P);this.setView(C,U.maxZoom?Math.min(re,U.maxZoom):re)}var ye={latlng:C,bounds:P,timestamp:u.timestamp};for(var Ee in u.coords)typeof u.coords[Ee]=="number"&&(ye[Ee]=u.coords[Ee]);this.fire("locationfound",ye)}},addHandler:function(u,g){if(!g)return this;var w=this[u]=new g(this);return this._handlers.push(w),this.options[u]&&w.enable(),this},remove:function(){if(this._initEvents(!0),this.options.maxBounds&&this.off("moveend",this._panInsideMaxBounds),this._containerId!==this._container._leaflet_id)throw new Error("Map container is being reused by another instance");try{delete this._container._leaflet_id,delete this._containerId}catch{this._container._leaflet_id=void 0,this._containerId=void 0}this._locationWatchId!==void 0&&this.stopLocate(),this._stop(),ht(this._mapPane),this._clearControlPos&&this._clearControlPos(),this._resizeRequest&&(F(this._resizeRequest),this._resizeRequest=null),this._clearHandlers(),this._loaded&&this.fire("unload");var u;for(u in this._layers)this._layers[u].remove();for(u in this._panes)ht(this._panes[u]);return this._layers=[],this._panes=[],delete this._mapPane,delete this._renderer,this},createPane:function(u,g){var w="leaflet-pane"+(u?" leaflet-"+u.replace("Pane","")+"-pane":""),C=ut("div",w,g||this._mapPane);return u&&(this._panes[u]=C),C},getCenter:function(){return this._checkIfLoaded(),this._lastCenter&&!this._moved()?this._lastCenter.clone():this.layerPointToLatLng(this._getCenterLayerPoint())},getZoom:function(){return this._zoom},getBounds:function(){var u=this.getPixelBounds(),g=this.unproject(u.getBottomLeft()),w=this.unproject(u.getTopRight());return new X(g,w)},getMinZoom:function(){return this.options.minZoom===void 0?this._layersMinZoom||0:this.options.minZoom},getMaxZoom:function(){return this.options.maxZoom===void 0?this._layersMaxZoom===void 0?1/0:this._layersMaxZoom:this.options.maxZoom},getBoundsZoom:function(u,g,w){u=ie(u),w=ne(w||[0,0]);var C=this.getZoom()||0,P=this.getMinZoom(),U=this.getMaxZoom(),re=u.getNorthWest(),ye=u.getSouthEast(),Ee=this.getSize().subtract(w),Pe=K(this.project(ye,C),this.project(re,C)).getSize(),Ge=We.any3d?this.options.zoomSnap:1,et=Ee.x/Pe.x,bt=Ee.y/Pe.y,ir=g?Math.max(et,bt):Math.min(et,bt);return C=this.getScaleZoom(ir,C),Ge&&(C=Math.round(C/(Ge/100))*(Ge/100),C=g?Math.ceil(C/Ge)*Ge:Math.floor(C/Ge)*Ge),Math.max(P,Math.min(U,C))},getSize:function(){return(!this._size||this._sizeChanged)&&(this._size=new ae(this._container.clientWidth||0,this._container.clientHeight||0),this._sizeChanged=!1),this._size.clone()},getPixelBounds:function(u,g){var w=this._getTopLeftPoint(u,g);return new q(w,w.add(this.getSize()))},getPixelOrigin:function(){return this._checkIfLoaded(),this._pixelOrigin},getPixelWorldBounds:function(u){return this.options.crs.getProjectedBounds(u===void 0?this.getZoom():u)},getPane:function(u){return typeof u=="string"?this._panes[u]:u},getPanes:function(){return this._panes},getContainer:function(){return this._container},getZoomScale:function(u,g){var w=this.options.crs;return g=g===void 0?this._zoom:g,w.scale(u)/w.scale(g)},getScaleZoom:function(u,g){var w=this.options.crs;g=g===void 0?this._zoom:g;var C=w.zoom(u*w.scale(g));return isNaN(C)?1/0:C},project:function(u,g){return g=g===void 0?this._zoom:g,this.options.crs.latLngToPoint(W(u),g)},unproject:function(u,g){return g=g===void 0?this._zoom:g,this.options.crs.pointToLatLng(ne(u),g)},layerPointToLatLng:function(u){var g=ne(u).add(this.getPixelOrigin());return this.unproject(g)},latLngToLayerPoint:function(u){var g=this.project(W(u))._round();return g._subtract(this.getPixelOrigin())},wrapLatLng:function(u){return this.options.crs.wrapLatLng(W(u))},wrapLatLngBounds:function(u){return this.options.crs.wrapLatLngBounds(ie(u))},distance:function(u,g){return this.options.crs.distance(W(u),W(g))},containerPointToLayerPoint:function(u){return ne(u).subtract(this._getMapPanePos())},layerPointToContainerPoint:function(u){return ne(u).add(this._getMapPanePos())},containerPointToLatLng:function(u){var g=this.containerPointToLayerPoint(ne(u));return this.layerPointToLatLng(g)},latLngToContainerPoint:function(u){return this.layerPointToContainerPoint(this.latLngToLayerPoint(W(u)))},mouseEventToContainerPoint:function(u){return uc(u,this._container)},mouseEventToLayerPoint:function(u){return this.containerPointToLayerPoint(this.mouseEventToContainerPoint(u))},mouseEventToLatLng:function(u){return this.layerPointToLatLng(this.mouseEventToLayerPoint(u))},_initContainer:function(u){var g=this._container=Mt(u);if(g){if(g._leaflet_id)throw new Error("Map container is already initialized.")}else throw new Error("Map container not found.");lt(g,"scroll",this._onScroll,this),this._containerId=d(g)},_initLayout:function(){var u=this._container;this._fadeAnimated=this.options.fadeAnimation&&We.any3d,ft(u,"leaflet-container"+(We.touch?" leaflet-touch":"")+(We.retina?" leaflet-retina":"")+(We.ielt9?" leaflet-oldie":"")+(We.safari?" leaflet-safari":"")+(this._fadeAnimated?" leaflet-fade-anim":""));var g=wt(u,"position");g!=="absolute"&&g!=="relative"&&g!=="fixed"&&g!=="sticky"&&(u.style.position="relative"),this._initPanes(),this._initControlPos&&this._initControlPos()},_initPanes:function(){var u=this._panes={};this._paneRenderers={},this._mapPane=this.createPane("mapPane",this._container),Qt(this._mapPane,new ae(0,0)),this.createPane("tilePane"),this.createPane("overlayPane"),this.createPane("shadowPane"),this.createPane("markerPane"),this.createPane("tooltipPane"),this.createPane("popupPane"),this.options.markerZoomAnimation||(ft(u.markerPane,"leaflet-zoom-hide"),ft(u.shadowPane,"leaflet-zoom-hide"))},_resetView:function(u,g,w){Qt(this._mapPane,new ae(0,0));var C=!this._loaded;this._loaded=!0,g=this._limitZoom(g),this.fire("viewprereset");var P=this._zoom!==g;this._moveStart(P,w)._move(u,g)._moveEnd(P),this.fire("viewreset"),C&&this.fire("load")},_moveStart:function(u,g){return u&&this.fire("zoomstart"),g||this.fire("movestart"),this},_move:function(u,g,w,C){g===void 0&&(g=this._zoom);var P=this._zoom!==g;return this._zoom=g,this._lastCenter=u,this._pixelOrigin=this._getNewPixelOrigin(u),C?w&&w.pinch&&this.fire("zoom",w):((P||w&&w.pinch)&&this.fire("zoom",w),this.fire("move",w)),this},_moveEnd:function(u){return u&&this.fire("zoomend"),this.fire("moveend")},_stop:function(){return F(this._flyToFrame),this._panAnim&&this._panAnim.stop(),this},_rawPanBy:function(u){Qt(this._mapPane,this._getMapPanePos().subtract(u))},_getZoomSpan:function(){return this.getMaxZoom()-this.getMinZoom()},_panInsideMaxBounds:function(){this._enforcingBounds||this.panInsideBounds(this.options.maxBounds)},_checkIfLoaded:function(){if(!this._loaded)throw new Error("Set map center and zoom first.")},_initEvents:function(u){this._targets={},this._targets[d(this._container)]=this;var g=u?Ht:lt;g(this._container,"click dblclick mousedown mouseup mouseover mouseout mousemove contextmenu keypress keydown keyup",this._handleDOMEvent,this),this.options.trackResize&&g(window,"resize",this._onResize,this),We.any3d&&this.options.transform3DLimit&&(u?this.off:this.on).call(this,"moveend",this._onMoveEnd)},_onResize:function(){F(this._resizeRequest),this._resizeRequest=z(function(){this.invalidateSize({debounceMoveend:!0})},this)},_onScroll:function(){this._container.scrollTop=0,this._container.scrollLeft=0},_onMoveEnd:function(){var u=this._getMapPanePos();Math.max(Math.abs(u.x),Math.abs(u.y))>=this.options.transform3DLimit&&this._resetView(this.getCenter(),this.getZoom())},_findEventTargets:function(u,g){for(var w=[],C,P=g==="mouseout"||g==="mouseover",U=u.target||u.srcElement,re=!1;U;){if(C=this._targets[d(U)],C&&(g==="click"||g==="preclick")&&this._draggableMoved(C)){re=!0;break}if(C&&C.listens(g,!0)&&(P&&!Xa(U,u)||(w.push(C),P))||U===this._container)break;U=U.parentNode}return!w.length&&!re&&!P&&this.listens(g,!0)&&(w=[this]),w},_isClickDisabled:function(u){for(;u&&u!==this._container;){if(u._leaflet_disable_click)return!0;u=u.parentNode}},_handleDOMEvent:function(u){var g=u.target||u.srcElement;if(!(!this._loaded||g._leaflet_disable_events||u.type==="click"&&this._isClickDisabled(g))){var w=u.type;w==="mousedown"&&rl(g),this._fireDOMEvent(u,w)}},_mouseEvents:["click","dblclick","mouseover","mouseout","contextmenu"],_fireDOMEvent:function(u,g,w){if(u.type==="click"){var C=i({},u);C.type="preclick",this._fireDOMEvent(C,C.type,w)}var P=this._findEventTargets(u,g);if(w){for(var U=[],re=0;re<w.length;re++)w[re].listens(g,!0)&&U.push(w[re]);P=U.concat(P)}if(P.length){g==="contextmenu"&&Ln(u);var ye=P[0],Ee={originalEvent:u};if(u.type!=="keypress"&&u.type!=="keydown"&&u.type!=="keyup"){var Pe=ye.getLatLng&&(!ye._radius||ye._radius<=10);Ee.containerPoint=Pe?this.latLngToContainerPoint(ye.getLatLng()):this.mouseEventToContainerPoint(u),Ee.layerPoint=this.containerPointToLayerPoint(Ee.containerPoint),Ee.latlng=Pe?ye.getLatLng():this.layerPointToLatLng(Ee.layerPoint)}for(re=0;re<P.length;re++)if(P[re].fire(g,Ee,!0),Ee.originalEvent._stopped||P[re].options.bubblingMouseEvents===!1&&M(this._mouseEvents,g)!==-1)return}},_draggableMoved:function(u){return u=u.dragging&&u.dragging.enabled()?u:this,u.dragging&&u.dragging.moved()||this.boxZoom&&this.boxZoom.moved()},_clearHandlers:function(){for(var u=0,g=this._handlers.length;u<g;u++)this._handlers[u].disable()},whenReady:function(u,g){return this._loaded?u.call(g||this,{target:this}):this.on("load",u,g),this},_getMapPanePos:function(){return To(this._mapPane)||new ae(0,0)},_moved:function(){var u=this._getMapPanePos();return u&&!u.equals([0,0])},_getTopLeftPoint:function(u,g){var w=u&&g!==void 0?this._getNewPixelOrigin(u,g):this.getPixelOrigin();return w.subtract(this._getMapPanePos())},_getNewPixelOrigin:function(u,g){var w=this.getSize()._divideBy(2);return this.project(u,g)._subtract(w)._add(this._getMapPanePos())._round()},_latLngToNewLayerPoint:function(u,g,w){var C=this._getNewPixelOrigin(w,g);return this.project(u,g)._subtract(C)},_latLngBoundsToNewLayerBounds:function(u,g,w){var C=this._getNewPixelOrigin(w,g);return K([this.project(u.getSouthWest(),g)._subtract(C),this.project(u.getNorthWest(),g)._subtract(C),this.project(u.getSouthEast(),g)._subtract(C),this.project(u.getNorthEast(),g)._subtract(C)])},_getCenterLayerPoint:function(){return this.containerPointToLayerPoint(this.getSize()._divideBy(2))},_getCenterOffset:function(u){return this.latLngToLayerPoint(u).subtract(this._getCenterLayerPoint())},_limitCenter:function(u,g,w){if(!w)return u;var C=this.project(u,g),P=this.getSize().divideBy(2),U=new q(C.subtract(P),C.add(P)),re=this._getBoundsOffset(U,w,g);return Math.abs(re.x)<=1&&Math.abs(re.y)<=1?u:this.unproject(C.add(re),g)},_limitOffset:function(u,g){if(!g)return u;var w=this.getPixelBounds(),C=new q(w.min.add(u),w.max.add(u));return u.add(this._getBoundsOffset(C,g))},_getBoundsOffset:function(u,g,w){var C=K(this.project(g.getNorthEast(),w),this.project(g.getSouthWest(),w)),P=C.min.subtract(u.min),U=C.max.subtract(u.max),re=this._rebound(P.x,-U.x),ye=this._rebound(P.y,-U.y);return new ae(re,ye)},_rebound:function(u,g){return u+g>0?Math.round(u-g)/2:Math.max(0,Math.ceil(u))-Math.max(0,Math.floor(g))},_limitZoom:function(u){var g=this.getMinZoom(),w=this.getMaxZoom(),C=We.any3d?this.options.zoomSnap:1;return C&&(u=Math.round(u/C)*C),Math.max(g,Math.min(w,u))},_onPanTransitionStep:function(){this.fire("move")},_onPanTransitionEnd:function(){nn(this._mapPane,"leaflet-pan-anim"),this.fire("moveend")},_tryAnimatedPan:function(u,g){var w=this._getCenterOffset(u)._trunc();return(g&&g.animate)!==!0&&!this.getSize().contains(w)?!1:(this.panBy(w,g),!0)},_createAnimProxy:function(){var u=this._proxy=ut("div","leaflet-proxy leaflet-zoom-animated");this._panes.mapPane.appendChild(u),this.on("zoomanim",function(g){var w=pt,C=this._proxy.style[w];Za(this._proxy,this.project(g.center,g.zoom),this.getZoomScale(g.zoom,1)),C===this._proxy.style[w]&&this._animatingZoom&&this._onZoomTransitionEnd()},this),this.on("load moveend",this._animMoveEnd,this),this._on("unload",this._destroyAnimProxy,this)},_destroyAnimProxy:function(){ht(this._proxy),this.off("load moveend",this._animMoveEnd,this),delete this._proxy},_animMoveEnd:function(){var u=this.getCenter(),g=this.getZoom();Za(this._proxy,this.project(u,g),this.getZoomScale(g,1))},_catchTransitionEnd:function(u){this._animatingZoom&&u.propertyName.indexOf("transform")>=0&&this._onZoomTransitionEnd()},_nothingToAnimate:function(){return!this._container.getElementsByClassName("leaflet-zoom-animated").length},_tryAnimatedZoom:function(u,g,w){if(this._animatingZoom)return!0;if(w=w||{},!this._zoomAnimated||w.animate===!1||this._nothingToAnimate()||Math.abs(g-this._zoom)>this.options.zoomAnimationThreshold)return!1;var C=this.getZoomScale(g),P=this._getCenterOffset(u)._divideBy(1-1/C);return w.animate!==!0&&!this.getSize().contains(P)?!1:(z(function(){this._moveStart(!0,w.noMoveStart||!1)._animateZoom(u,g,!0)},this),!0)},_animateZoom:function(u,g,w,C){this._mapPane&&(w&&(this._animatingZoom=!0,this._animateToCenter=u,this._animateToZoom=g,ft(this._mapPane,"leaflet-zoom-anim")),this.fire("zoomanim",{center:u,zoom:g,noUpdate:C}),this._tempFireZoomEvent||(this._tempFireZoomEvent=this._zoom!==this._animateToZoom),this._move(this._animateToCenter,this._animateToZoom,void 0,!0),setTimeout(s(this._onZoomTransitionEnd,this),250))},_onZoomTransitionEnd:function(){this._animatingZoom&&(this._mapPane&&nn(this._mapPane,"leaflet-zoom-anim"),this._animatingZoom=!1,this._move(this._animateToCenter,this._animateToZoom,void 0,!0),this._tempFireZoomEvent&&this.fire("zoom"),delete this._tempFireZoomEvent,this.fire("move"),this._moveEnd(!0))}});function Cf(u,g){return new kt(u,g)}var ii=ee.extend({options:{position:"topright"},initialize:function(u){T(this,u)},getPosition:function(){return this.options.position},setPosition:function(u){var g=this._map;return g&&g.removeControl(this),this.options.position=u,g&&g.addControl(this),this},getContainer:function(){return this._container},addTo:function(u){this.remove(),this._map=u;var g=this._container=this.onAdd(u),w=this.getPosition(),C=u._controlCorners[w];return ft(g,"leaflet-control"),w.indexOf("bottom")!==-1?C.insertBefore(g,C.firstChild):C.appendChild(g),this._map.on("unload",this.remove,this),this},remove:function(){return this._map?(ht(this._container),this.onRemove&&this.onRemove(this._map),this._map.off("unload",this.remove,this),this._map=null,this):this},_refocusOnMap:function(u){this._map&&u&&u.screenX>0&&u.screenY>0&&this._map.getContainer().focus()}}),Ja=function(u){return new ii(u)};kt.include({addControl:function(u){return u.addTo(this),this},removeControl:function(u){return u.remove(),this},_initControlPos:function(){var u=this._controlCorners={},g="leaflet-",w=this._controlContainer=ut("div",g+"control-container",this._container);function C(P,U){var re=g+P+" "+g+U;u[P+U]=ut("div",re,w)}C("top","left"),C("top","right"),C("bottom","left"),C("bottom","right")},_clearControlPos:function(){for(var u in this._controlCorners)ht(this._controlCorners[u]);ht(this._controlContainer),delete this._controlCorners,delete this._controlContainer}});var dc=ii.extend({options:{collapsed:!0,position:"topright",autoZIndex:!0,hideSingleBase:!1,sortLayers:!1,sortFunction:function(u,g,w,C){return w<C?-1:C<w?1:0}},initialize:function(u,g,w){T(this,w),this._layerControlInputs=[],this._layers=[],this._lastZIndex=0,this._handlingClick=!1,this._preventClick=!1;for(var C in u)this._addLayer(u[C],C);for(C in g)this._addLayer(g[C],C,!0)},onAdd:function(u){this._initLayout(),this._update(),this._map=u,u.on("zoomend",this._checkDisabledLayers,this);for(var g=0;g<this._layers.length;g++)this._layers[g].layer.on("add remove",this._onLayerChange,this);return this._container},addTo:function(u){return ii.prototype.addTo.call(this,u),this._expandIfNotCollapsed()},onRemove:function(){this._map.off("zoomend",this._checkDisabledLayers,this);for(var u=0;u<this._layers.length;u++)this._layers[u].layer.off("add remove",this._onLayerChange,this)},addBaseLayer:function(u,g){return this._addLayer(u,g),this._map?this._update():this},addOverlay:function(u,g){return this._addLayer(u,g,!0),this._map?this._update():this},removeLayer:function(u){u.off("add remove",this._onLayerChange,this);var g=this._getLayer(d(u));return g&&this._layers.splice(this._layers.indexOf(g),1),this._map?this._update():this},expand:function(){ft(this._container,"leaflet-control-layers-expanded"),this._section.style.height=null;var u=this._map.getSize().y-(this._container.offsetTop+50);return u<this._section.clientHeight?(ft(this._section,"leaflet-control-layers-scrollbar"),this._section.style.height=u+"px"):nn(this._section,"leaflet-control-layers-scrollbar"),this._checkDisabledLayers(),this},collapse:function(){return nn(this._container,"leaflet-control-layers-expanded"),this},_initLayout:function(){var u="leaflet-control-layers",g=this._container=ut("div",u),w=this.options.collapsed;g.setAttribute("aria-haspopup",!0),Qo(g),ba(g);var C=this._section=ut("section",u+"-list");w&&(this._map.on("click",this.collapse,this),lt(g,{mouseenter:this._expandSafely,mouseleave:this.collapse},this));var P=this._layersLink=ut("a",u+"-toggle",g);P.href="#",P.title="Layers",P.setAttribute("role","button"),lt(P,{keydown:function(U){U.keyCode===13&&this._expandSafely()},click:function(U){Ln(U),this._expandSafely()}},this),w||this.expand(),this._baseLayersList=ut("div",u+"-base",C),this._separator=ut("div",u+"-separator",C),this._overlaysList=ut("div",u+"-overlays",C),g.appendChild(C)},_getLayer:function(u){for(var g=0;g<this._layers.length;g++)if(this._layers[g]&&d(this._layers[g].layer)===u)return this._layers[g]},_addLayer:function(u,g,w){this._map&&u.on("add remove",this._onLayerChange,this),this._layers.push({layer:u,name:g,overlay:w}),this.options.sortLayers&&this._layers.sort(s(function(C,P){return this.options.sortFunction(C.layer,P.layer,C.name,P.name)},this)),this.options.autoZIndex&&u.setZIndex&&(this._lastZIndex++,u.setZIndex(this._lastZIndex)),this._expandIfNotCollapsed()},_update:function(){if(!this._container)return this;pr(this._baseLayersList),pr(this._overlaysList),this._layerControlInputs=[];var u,g,w,C,P=0;for(w=0;w<this._layers.length;w++)C=this._layers[w],this._addItem(C),g=g||C.overlay,u=u||!C.overlay,P+=C.overlay?0:1;return this.options.hideSingleBase&&(u=u&&P>1,this._baseLayersList.style.display=u?"":"none"),this._separator.style.display=g&&u?"":"none",this},_onLayerChange:function(u){this._handlingClick||this._update();var g=this._getLayer(d(u.target)),w=g.overlay?u.type==="add"?"overlayadd":"overlayremove":u.type==="add"?"baselayerchange":null;w&&this._map.fire(w,g)},_createRadioElement:function(u,g){var w='<input type="radio" class="leaflet-control-layers-selector" name="'+u+'"'+(g?' checked="checked"':"")+"/>",C=document.createElement("div");return C.innerHTML=w,C.firstChild},_addItem:function(u){var g=document.createElement("label"),w=this._map.hasLayer(u.layer),C;u.overlay?(C=document.createElement("input"),C.type="checkbox",C.className="leaflet-control-layers-selector",C.defaultChecked=w):C=this._createRadioElement("leaflet-base-layers_"+d(this),w),this._layerControlInputs.push(C),C.layerId=d(u.layer),lt(C,"click",this._onInputClick,this);var P=document.createElement("span");P.innerHTML=" "+u.name;var U=document.createElement("span");g.appendChild(U),U.appendChild(C),U.appendChild(P);var re=u.overlay?this._overlaysList:this._baseLayersList;return re.appendChild(g),this._checkDisabledLayers(),g},_onInputClick:function(){if(!this._preventClick){var u=this._layerControlInputs,g,w,C=[],P=[];this._handlingClick=!0;for(var U=u.length-1;U>=0;U--)g=u[U],w=this._getLayer(g.layerId).layer,g.checked?C.push(w):g.checked||P.push(w);for(U=0;U<P.length;U++)this._map.hasLayer(P[U])&&this._map.removeLayer(P[U]);for(U=0;U<C.length;U++)this._map.hasLayer(C[U])||this._map.addLayer(C[U]);this._handlingClick=!1,this._refocusOnMap()}},_checkDisabledLayers:function(){for(var u=this._layerControlInputs,g,w,C=this._map.getZoom(),P=u.length-1;P>=0;P--)g=u[P],w=this._getLayer(g.layerId).layer,g.disabled=w.options.minZoom!==void 0&&C<w.options.minZoom||w.options.maxZoom!==void 0&&C>w.options.maxZoom},_expandIfNotCollapsed:function(){return this._map&&!this.options.collapsed&&this.expand(),this},_expandSafely:function(){var u=this._section;this._preventClick=!0,lt(u,"click",Ln),this.expand();var g=this;setTimeout(function(){Ht(u,"click",Ln),g._preventClick=!1})}}),yp=function(u,g,w){return new dc(u,g,w)},Mf=ii.extend({options:{position:"topleft",zoomInText:'<span aria-hidden="true">+</span>',zoomInTitle:"Zoom in",zoomOutText:'<span aria-hidden="true">&#x2212;</span>',zoomOutTitle:"Zoom out"},onAdd:function(u){var g="leaflet-control-zoom",w=ut("div",g+" leaflet-bar"),C=this.options;return this._zoomInButton=this._createButton(C.zoomInText,C.zoomInTitle,g+"-in",w,this._zoomIn),this._zoomOutButton=this._createButton(C.zoomOutText,C.zoomOutTitle,g+"-out",w,this._zoomOut),this._updateDisabled(),u.on("zoomend zoomlevelschange",this._updateDisabled,this),w},onRemove:function(u){u.off("zoomend zoomlevelschange",this._updateDisabled,this)},disable:function(){return this._disabled=!0,this._updateDisabled(),this},enable:function(){return this._disabled=!1,this._updateDisabled(),this},_zoomIn:function(u){!this._disabled&&this._map._zoom<this._map.getMaxZoom()&&this._map.zoomIn(this._map.options.zoomDelta*(u.shiftKey?3:1))},_zoomOut:function(u){!this._disabled&&this._map._zoom>this._map.getMinZoom()&&this._map.zoomOut(this._map.options.zoomDelta*(u.shiftKey?3:1))},_createButton:function(u,g,w,C,P){var U=ut("a",w,C);return U.innerHTML=u,U.href="#",U.title=g,U.setAttribute("role","button"),U.setAttribute("aria-label",g),Qo(U),lt(U,"click",ko),lt(U,"click",P,this),lt(U,"click",this._refocusOnMap,this),U},_updateDisabled:function(){var u=this._map,g="leaflet-disabled";nn(this._zoomInButton,g),nn(this._zoomOutButton,g),this._zoomInButton.setAttribute("aria-disabled","false"),this._zoomOutButton.setAttribute("aria-disabled","false"),(this._disabled||u._zoom===u.getMinZoom())&&(ft(this._zoomOutButton,g),this._zoomOutButton.setAttribute("aria-disabled","true")),(this._disabled||u._zoom===u.getMaxZoom())&&(ft(this._zoomInButton,g),this._zoomInButton.setAttribute("aria-disabled","true"))}});kt.mergeOptions({zoomControl:!0}),kt.addInitHook(function(){this.options.zoomControl&&(this.zoomControl=new Mf,this.addControl(this.zoomControl))});var Fb=function(u){return new Mf(u)},bp=ii.extend({options:{position:"bottomleft",maxWidth:100,metric:!0,imperial:!0},onAdd:function(u){var g="leaflet-control-scale",w=ut("div",g),C=this.options;return this._addScales(C,g+"-line",w),u.on(C.updateWhenIdle?"moveend":"move",this._update,this),u.whenReady(this._update,this),w},onRemove:function(u){u.off(this.options.updateWhenIdle?"moveend":"move",this._update,this)},_addScales:function(u,g,w){u.metric&&(this._mScale=ut("div",g,w)),u.imperial&&(this._iScale=ut("div",g,w))},_update:function(){var u=this._map,g=u.getSize().y/2,w=u.distance(u.containerPointToLatLng([0,g]),u.containerPointToLatLng([this.options.maxWidth,g]));this._updateScales(w)},_updateScales:function(u){this.options.metric&&u&&this._updateMetric(u),this.options.imperial&&u&&this._updateImperial(u)},_updateMetric:function(u){var g=this._getRoundNum(u),w=g<1e3?g+" m":g/1e3+" km";this._updateScale(this._mScale,w,g/u)},_updateImperial:function(u){var g=u*3.2808399,w,C,P;g>5280?(w=g/5280,C=this._getRoundNum(w),this._updateScale(this._iScale,C+" mi",C/w)):(P=this._getRoundNum(g),this._updateScale(this._iScale,P+" ft",P/g))},_updateScale:function(u,g,w){u.style.width=Math.round(this.options.maxWidth*w)+"px",u.innerHTML=g},_getRoundNum:function(u){var g=Math.pow(10,(Math.floor(u)+"").length-1),w=u/g;return w=w>=10?10:w>=5?5:w>=3?3:w>=2?2:1,g*w}}),Df=function(u){return new bp(u)},Gb='<svg aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="12" height="8" viewBox="0 0 12 8" class="leaflet-attribution-flag"><path fill="#4C7BE1" d="M0 0h12v4H0z"/><path fill="#FFD500" d="M0 4h12v3H0z"/><path fill="#E0BC00" d="M0 7h12v1H0z"/></svg>',Pf=ii.extend({options:{position:"bottomright",prefix:'<a href="https://leafletjs.com" title="A JavaScript library for interactive maps">'+(We.inlineSvg?Gb+" ":"")+"Leaflet</a>"},initialize:function(u){T(this,u),this._attributions={}},onAdd:function(u){u.attributionControl=this,this._container=ut("div","leaflet-control-attribution"),Qo(this._container);for(var g in u._layers)u._layers[g].getAttribution&&this.addAttribution(u._layers[g].getAttribution());return this._update(),u.on("layeradd",this._addAttribution,this),this._container},onRemove:function(u){u.off("layeradd",this._addAttribution,this)},_addAttribution:function(u){u.layer.getAttribution&&(this.addAttribution(u.layer.getAttribution()),u.layer.once("remove",function(){this.removeAttribution(u.layer.getAttribution())},this))},setPrefix:function(u){return this.options.prefix=u,this._update(),this},addAttribution:function(u){return u?(this._attributions[u]||(this._attributions[u]=0),this._attributions[u]++,this._update(),this):this},removeAttribution:function(u){return u?(this._attributions[u]&&(this._attributions[u]--,this._update()),this):this},_update:function(){if(this._map){var u=[];for(var g in this._attributions)this._attributions[g]&&u.push(g);var w=[];this.options.prefix&&w.push(this.options.prefix),u.length&&w.push(u.join(", ")),this._container.innerHTML=w.join(' <span aria-hidden="true">|</span> ')}}});kt.mergeOptions({attributionControl:!0}),kt.addInitHook(function(){this.options.attributionControl&&new Pf().addTo(this)});var qb=function(u){return new Pf(u)};ii.Layers=dc,ii.Zoom=Mf,ii.Scale=bp,ii.Attribution=Pf,Ja.layers=yp,Ja.zoom=Fb,Ja.scale=Df,Ja.attribution=qb;var _a=ee.extend({initialize:function(u){this._map=u},enable:function(){return this._enabled?this:(this._enabled=!0,this.addHooks(),this)},disable:function(){return this._enabled?(this._enabled=!1,this.removeHooks(),this):this},enabled:function(){return!!this._enabled}});_a.addTo=function(u,g){return u.addHandler(g,this),this};var Yb={Events:J},Rf=We.touch?"touchstart mousedown":"mousedown",Oo=le.extend({options:{clickTolerance:3},initialize:function(u,g,w,C){T(this,C),this._element=u,this._dragStartTarget=g||u,this._preventOutline=w},enable:function(){this._enabled||(lt(this._dragStartTarget,Rf,this._onDown,this),this._enabled=!0)},disable:function(){this._enabled&&(Oo._dragging===this&&this.finishDrag(!0),Ht(this._dragStartTarget,Rf,this._onDown,this),this._enabled=!1,this._moved=!1)},_onDown:function(u){if(this._enabled&&(this._moved=!1,!va(this._element,"leaflet-zoom-anim"))){if(u.touches&&u.touches.length!==1){Oo._dragging===this&&this.finishDrag();return}if(!(Oo._dragging||u.shiftKey||u.which!==1&&u.button!==1&&!u.touches)&&(Oo._dragging=this,this._preventOutline&&rl(this._element),ju(),tl(),!this._moving)){this.fire("down");var g=u.touches?u.touches[0]:u,w=Cu(this._element);this._startPoint=new ae(g.clientX,g.clientY),this._startPos=To(this._element),this._parentScale=sc(w);var C=u.type==="mousedown";lt(document,C?"mousemove":"touchmove",this._onMove,this),lt(document,C?"mouseup":"touchend touchcancel",this._onUp,this)}}},_onMove:function(u){if(this._enabled){if(u.touches&&u.touches.length>1){this._moved=!0;return}var g=u.touches&&u.touches.length===1?u.touches[0]:u,w=new ae(g.clientX,g.clientY)._subtract(this._startPoint);!w.x&&!w.y||Math.abs(w.x)+Math.abs(w.y)<this.options.clickTolerance||(w.x/=this._parentScale.x,w.y/=this._parentScale.y,Ln(u),this._moved||(this.fire("dragstart"),this._moved=!0,ft(document.body,"leaflet-dragging"),this._lastTarget=u.target||u.srcElement,window.SVGElementInstance&&this._lastTarget instanceof window.SVGElementInstance&&(this._lastTarget=this._lastTarget.correspondingUseElement),ft(this._lastTarget,"leaflet-drag-target")),this._newPos=this._startPos.add(w),this._moving=!0,this._lastEvent=u,this._updatePosition())}},_updatePosition:function(){var u={originalEvent:this._lastEvent};this.fire("predrag",u),Qt(this._element,this._newPos),this.fire("drag",u)},_onUp:function(){this._enabled&&this.finishDrag()},finishDrag:function(u){nn(document.body,"leaflet-dragging"),this._lastTarget&&(nn(this._lastTarget,"leaflet-drag-target"),this._lastTarget=null),Ht(document,"mousemove touchmove",this._onMove,this),Ht(document,"mouseup touchend touchcancel",this._onUp,this),oc(),ya();var g=this._moved&&this._moving;this._moving=!1,Oo._dragging=!1,g&&this.fire("dragend",{noInertia:u,distance:this._newPos.distanceTo(this._startPos)})}});function _p(u,g,w){var C,P=[1,4,2,8],U,re,ye,Ee,Pe,Ge,et,bt;for(U=0,Ge=u.length;U<Ge;U++)u[U]._code=es(u[U],g);for(ye=0;ye<4;ye++){for(et=P[ye],C=[],U=0,Ge=u.length,re=Ge-1;U<Ge;re=U++)Ee=u[U],Pe=u[re],Ee._code&et?Pe._code&et||(bt=Du(Pe,Ee,et,g,w),bt._code=es(bt,g),C.push(bt)):(Pe._code&et&&(bt=Du(Pe,Ee,et,g,w),bt._code=es(bt,g),C.push(bt)),C.push(Ee));u=C}return u}function xp(u,g){var w,C,P,U,re,ye,Ee,Pe,Ge;if(!u||u.length===0)throw new Error("latlngs not passed");_i(u)||(console.warn("latlngs are not flat! Only the first ring will be used"),u=u[0]);var et=W([0,0]),bt=ie(u),ir=bt.getNorthWest().distanceTo(bt.getSouthWest())*bt.getNorthEast().distanceTo(bt.getNorthWest());ir<1700&&(et=Lf(u));var In=u.length,ai=[];for(w=0;w<In;w++){var Pt=W(u[w]);ai.push(g.project(W([Pt.lat-et.lat,Pt.lng-et.lng])))}for(ye=Ee=Pe=0,w=0,C=In-1;w<In;C=w++)P=ai[w],U=ai[C],re=P.y*U.x-U.y*P.x,Ee+=(P.x+U.x)*re,Pe+=(P.y+U.y)*re,ye+=re*3;ye===0?Ge=ai[0]:Ge=[Ee/ye,Pe/ye];var Rt=g.unproject(ne(Ge));return W([Rt.lat+et.lat,Rt.lng+et.lng])}function Lf(u){for(var g=0,w=0,C=0,P=0;P<u.length;P++){var U=W(u[P]);g+=U.lat,w+=U.lng,C++}return W([g/C,w/C])}var If={__proto__:null,clipPolygon:_p,polygonCenter:xp,centroid:Lf};function wp(u,g){if(!g||!u.length)return u.slice();var w=g*g;return u=Wb(u,w),u=Ep(u,w),u}function Sp(u,g,w){return Math.sqrt(fc(u,g,w,!0))}function Kb(u,g,w){return fc(u,g,w)}function Ep(u,g){var w=u.length,C=typeof Uint8Array<"u"?Uint8Array:Array,P=new C(w);P[0]=P[w-1]=1,$f(u,P,g,0,w-1);var U,re=[];for(U=0;U<w;U++)P[U]&&re.push(u[U]);return re}function $f(u,g,w,C,P){var U=0,re,ye,Ee;for(ye=C+1;ye<=P-1;ye++)Ee=fc(u[ye],u[C],u[P],!0),Ee>U&&(re=ye,U=Ee);U>w&&(g[re]=1,$f(u,g,w,C,re),$f(u,g,w,re,P))}function Wb(u,g){for(var w=[u[0]],C=1,P=0,U=u.length;C<U;C++)Vb(u[C],u[P])>g&&(w.push(u[C]),P=C);return P<U-1&&w.push(u[U-1]),w}var Ap;function Tp(u,g,w,C,P){var U=C?Ap:es(u,w),re=es(g,w),ye,Ee,Pe;for(Ap=re;;){if(!(U|re))return[u,g];if(U&re)return!1;ye=U||re,Ee=Du(u,g,ye,w,P),Pe=es(Ee,w),ye===U?(u=Ee,U=Pe):(g=Ee,re=Pe)}}function Du(u,g,w,C,P){var U=g.x-u.x,re=g.y-u.y,ye=C.min,Ee=C.max,Pe,Ge;return w&8?(Pe=u.x+U*(Ee.y-u.y)/re,Ge=Ee.y):w&4?(Pe=u.x+U*(ye.y-u.y)/re,Ge=ye.y):w&2?(Pe=Ee.x,Ge=u.y+re*(Ee.x-u.x)/U):w&1&&(Pe=ye.x,Ge=u.y+re*(ye.x-u.x)/U),new ae(Pe,Ge,P)}function es(u,g){var w=0;return u.x<g.min.x?w|=1:u.x>g.max.x&&(w|=2),u.y<g.min.y?w|=4:u.y>g.max.y&&(w|=8),w}function Vb(u,g){var w=g.x-u.x,C=g.y-u.y;return w*w+C*C}function fc(u,g,w,C){var P=g.x,U=g.y,re=w.x-P,ye=w.y-U,Ee=re*re+ye*ye,Pe;return Ee>0&&(Pe=((u.x-P)*re+(u.y-U)*ye)/Ee,Pe>1?(P=w.x,U=w.y):Pe>0&&(P+=re*Pe,U+=ye*Pe)),re=u.x-P,ye=u.y-U,C?re*re+ye*ye:new ae(P,U)}function _i(u){return!O(u[0])||typeof u[0][0]!="object"&&typeof u[0][0]<"u"}function Pu(u){return console.warn("Deprecated use of _flat, please use L.LineUtil.isFlat instead."),_i(u)}function ol(u,g){var w,C,P,U,re,ye,Ee,Pe;if(!u||u.length===0)throw new Error("latlngs not passed");_i(u)||(console.warn("latlngs are not flat! Only the first ring will be used"),u=u[0]);var Ge=W([0,0]),et=ie(u),bt=et.getNorthWest().distanceTo(et.getSouthWest())*et.getNorthEast().distanceTo(et.getNorthWest());bt<1700&&(Ge=Lf(u));var ir=u.length,In=[];for(w=0;w<ir;w++){var ai=W(u[w]);In.push(g.project(W([ai.lat-Ge.lat,ai.lng-Ge.lng])))}for(w=0,C=0;w<ir-1;w++)C+=In[w].distanceTo(In[w+1])/2;if(C===0)Pe=In[0];else for(w=0,U=0;w<ir-1;w++)if(re=In[w],ye=In[w+1],P=re.distanceTo(ye),U+=P,U>C){Ee=(U-C)/P,Pe=[ye.x-Ee*(ye.x-re.x),ye.y-Ee*(ye.y-re.y)];break}var Pt=g.unproject(ne(Pe));return W([Pt.lat+Ge.lat,Pt.lng+Ge.lng])}var Zb={__proto__:null,simplify:wp,pointToSegmentDistance:Sp,closestPointOnSegment:Kb,clipSegment:Tp,_getEdgeIntersection:Du,_getBitCode:es,_sqClosestPointOnSegment:fc,isFlat:_i,_flat:Pu,polylineCenter:ol},Ru={project:function(u){return new ae(u.lng,u.lat)},unproject:function(u){return new Z(u.y,u.x)},bounds:new q([-180,-90],[180,90])},Lu={R:6378137,R_MINOR:6356752314245179e-9,bounds:new q([-2003750834279e-5,-1549657073972e-5],[2003750834279e-5,1876465623138e-5]),project:function(u){var g=Math.PI/180,w=this.R,C=u.lat*g,P=this.R_MINOR/w,U=Math.sqrt(1-P*P),re=U*Math.sin(C),ye=Math.tan(Math.PI/4-C/2)/Math.pow((1-re)/(1+re),U/2);return C=-w*Math.log(Math.max(ye,1e-10)),new ae(u.lng*g*w,C)},unproject:function(u){for(var g=180/Math.PI,w=this.R,C=this.R_MINOR/w,P=Math.sqrt(1-C*C),U=Math.exp(-u.y/w),re=Math.PI/2-2*Math.atan(U),ye=0,Ee=.1,Pe;ye<15&&Math.abs(Ee)>1e-7;ye++)Pe=P*Math.sin(re),Pe=Math.pow((1-Pe)/(1+Pe),P/2),Ee=Math.PI/2-2*Math.atan(U*Pe)-re,re+=Ee;return new Z(re*g,u.x*g/w)}},kp={__proto__:null,LonLat:Ru,Mercator:Lu,SphericalMercator:se},Op=i({},te,{code:"EPSG:3395",projection:Lu,transformation:(function(){var u=.5/(Math.PI*Lu.R);return ce(u,.5,-u,.5)})()}),Bf=i({},te,{code:"EPSG:4326",projection:Ru,transformation:ce(1/180,1,-1/180,.5)}),sl=i({},de,{projection:Ru,transformation:ce(1,0,-1,0),scale:function(u){return Math.pow(2,u)},zoom:function(u){return Math.log(u)/Math.LN2},distance:function(u,g){var w=g.lng-u.lng,C=g.lat-u.lat;return Math.sqrt(w*w+C*C)},infinite:!0});de.Earth=te,de.EPSG3395=Op,de.EPSG3857=Ne,de.EPSG900913=pe,de.EPSG4326=Bf,de.Simple=sl;var Fi=le.extend({options:{pane:"overlayPane",attribution:null,bubblingMouseEvents:!0},addTo:function(u){return u.addLayer(this),this},remove:function(){return this.removeFrom(this._map||this._mapToAdd)},removeFrom:function(u){return u&&u.removeLayer(this),this},getPane:function(u){return this._map.getPane(u?this.options[u]||u:this.options.pane)},addInteractiveTarget:function(u){return this._map._targets[d(u)]=this,this},removeInteractiveTarget:function(u){return delete this._map._targets[d(u)],this},getAttribution:function(){return this.options.attribution},_layerAdd:function(u){var g=u.target;if(g.hasLayer(this)){if(this._map=g,this._zoomAnimated=g._zoomAnimated,this.getEvents){var w=this.getEvents();g.on(w,this),this.once("remove",function(){g.off(w,this)},this)}this.onAdd(g),this.fire("add"),g.fire("layeradd",{layer:this})}}});kt.include({addLayer:function(u){if(!u._layerAdd)throw new Error("The provided object is not a Layer.");var g=d(u);return this._layers[g]?this:(this._layers[g]=u,u._mapToAdd=this,u.beforeAdd&&u.beforeAdd(this),this.whenReady(u._layerAdd,u),this)},removeLayer:function(u){var g=d(u);return this._layers[g]?(this._loaded&&u.onRemove(this),delete this._layers[g],this._loaded&&(this.fire("layerremove",{layer:u}),u.fire("remove")),u._map=u._mapToAdd=null,this):this},hasLayer:function(u){return d(u)in this._layers},eachLayer:function(u,g){for(var w in this._layers)u.call(g,this._layers[w]);return this},_addLayers:function(u){u=u?O(u)?u:[u]:[];for(var g=0,w=u.length;g<w;g++)this.addLayer(u[g])},_addZoomLimit:function(u){(!isNaN(u.options.maxZoom)||!isNaN(u.options.minZoom))&&(this._zoomBoundLayers[d(u)]=u,this._updateZoomLevels())},_removeZoomLimit:function(u){var g=d(u);this._zoomBoundLayers[g]&&(delete this._zoomBoundLayers[g],this._updateZoomLevels())},_updateZoomLevels:function(){var u=1/0,g=-1/0,w=this._getZoomSpan();for(var C in this._zoomBoundLayers){var P=this._zoomBoundLayers[C].options;u=P.minZoom===void 0?u:Math.min(u,P.minZoom),g=P.maxZoom===void 0?g:Math.max(g,P.maxZoom)}this._layersMaxZoom=g===-1/0?void 0:g,this._layersMinZoom=u===1/0?void 0:u,w!==this._getZoomSpan()&&this.fire("zoomlevelschange"),this.options.maxZoom===void 0&&this._layersMaxZoom&&this.getZoom()>this._layersMaxZoom&&this.setZoom(this._layersMaxZoom),this.options.minZoom===void 0&&this._layersMinZoom&&this.getZoom()<this._layersMinZoom&&this.setZoom(this._layersMinZoom)}});var ll=Fi.extend({initialize:function(u,g){T(this,g),this._layers={};var w,C;if(u)for(w=0,C=u.length;w<C;w++)this.addLayer(u[w])},addLayer:function(u){var g=this.getLayerId(u);return this._layers[g]=u,this._map&&this._map.addLayer(u),this},removeLayer:function(u){var g=u in this._layers?u:this.getLayerId(u);return this._map&&this._layers[g]&&this._map.removeLayer(this._layers[g]),delete this._layers[g],this},hasLayer:function(u){var g=typeof u=="number"?u:this.getLayerId(u);return g in this._layers},clearLayers:function(){return this.eachLayer(this.removeLayer,this)},invoke:function(u){var g=Array.prototype.slice.call(arguments,1),w,C;for(w in this._layers)C=this._layers[w],C[u]&&C[u].apply(C,g);return this},onAdd:function(u){this.eachLayer(u.addLayer,u)},onRemove:function(u){this.eachLayer(u.removeLayer,u)},eachLayer:function(u,g){for(var w in this._layers)u.call(g,this._layers[w]);return this},getLayer:function(u){return this._layers[u]},getLayers:function(){var u=[];return this.eachLayer(u.push,u),u},setZIndex:function(u){return this.invoke("setZIndex",u)},getLayerId:function(u){return d(u)}}),Xb=function(u,g){return new ll(u,g)},xa=ll.extend({addLayer:function(u){return this.hasLayer(u)?this:(u.addEventParent(this),ll.prototype.addLayer.call(this,u),this.fire("layeradd",{layer:u}))},removeLayer:function(u){return this.hasLayer(u)?(u in this._layers&&(u=this._layers[u]),u.removeEventParent(this),ll.prototype.removeLayer.call(this,u),this.fire("layerremove",{layer:u})):this},setStyle:function(u){return this.invoke("setStyle",u)},bringToFront:function(){return this.invoke("bringToFront")},bringToBack:function(){return this.invoke("bringToBack")},getBounds:function(){var u=new X;for(var g in this._layers){var w=this._layers[g];u.extend(w.getBounds?w.getBounds():w.getLatLng())}return u}}),jp=function(u,g){return new xa(u,g)},wa=ee.extend({options:{popupAnchor:[0,0],tooltipAnchor:[0,0],crossOrigin:!1},initialize:function(u){T(this,u)},createIcon:function(u){return this._createIcon("icon",u)},createShadow:function(u){return this._createIcon("shadow",u)},_createIcon:function(u,g){var w=this._getIconUrl(u);if(!w){if(u==="icon")throw new Error("iconUrl not set in Icon options (see the docs).");return null}var C=this._createImg(w,g&&g.tagName==="IMG"?g:null);return this._setIconStyles(C,u),(this.options.crossOrigin||this.options.crossOrigin==="")&&(C.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),C},_setIconStyles:function(u,g){var w=this.options,C=w[g+"Size"];typeof C=="number"&&(C=[C,C]);var P=ne(C),U=ne(g==="shadow"&&w.shadowAnchor||w.iconAnchor||P&&P.divideBy(2,!0));u.className="leaflet-marker-"+g+" "+(w.className||""),U&&(u.style.marginLeft=-U.x+"px",u.style.marginTop=-U.y+"px"),P&&(u.style.width=P.x+"px",u.style.height=P.y+"px")},_createImg:function(u,g){return g=g||document.createElement("img"),g.src=u,g},_getIconUrl:function(u){return We.retina&&this.options[u+"RetinaUrl"]||this.options[u+"Url"]}});function hc(u){return new wa(u)}var mc=wa.extend({options:{iconUrl:"marker-icon.png",iconRetinaUrl:"marker-icon-2x.png",shadowUrl:"marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],tooltipAnchor:[16,-28],shadowSize:[41,41]},_getIconUrl:function(u){return typeof mc.imagePath!="string"&&(mc.imagePath=this._detectIconPath()),(this.options.imagePath||mc.imagePath)+wa.prototype._getIconUrl.call(this,u)},_stripUrl:function(u){var g=function(w,C,P){var U=C.exec(w);return U&&U[P]};return u=g(u,/^url\((['"])?(.+)\1\)$/,2),u&&g(u,/^(.*)marker-icon\.png$/,1)},_detectIconPath:function(){var u=ut("div","leaflet-default-icon-path",document.body),g=wt(u,"background-image")||wt(u,"backgroundImage");if(document.body.removeChild(u),g=this._stripUrl(g),g)return g;var w=document.querySelector('link[href$="leaflet.css"]');return w?w.href.substring(0,w.href.length-11-1):""}}),pc=_a.extend({initialize:function(u){this._marker=u},addHooks:function(){var u=this._marker._icon;this._draggable||(this._draggable=new Oo(u,u,!0)),this._draggable.on({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).enable(),ft(u,"leaflet-marker-draggable")},removeHooks:function(){this._draggable.off({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).disable(),this._marker._icon&&nn(this._marker._icon,"leaflet-marker-draggable")},moved:function(){return this._draggable&&this._draggable._moved},_adjustPan:function(u){var g=this._marker,w=g._map,C=this._marker.options.autoPanSpeed,P=this._marker.options.autoPanPadding,U=To(g._icon),re=w.getPixelBounds(),ye=w.getPixelOrigin(),Ee=K(re.min._subtract(ye).add(P),re.max._subtract(ye).subtract(P));if(!Ee.contains(U)){var Pe=ne((Math.max(Ee.max.x,U.x)-Ee.max.x)/(re.max.x-Ee.max.x)-(Math.min(Ee.min.x,U.x)-Ee.min.x)/(re.min.x-Ee.min.x),(Math.max(Ee.max.y,U.y)-Ee.max.y)/(re.max.y-Ee.max.y)-(Math.min(Ee.min.y,U.y)-Ee.min.y)/(re.min.y-Ee.min.y)).multiplyBy(C);w.panBy(Pe,{animate:!1}),this._draggable._newPos._add(Pe),this._draggable._startPos._add(Pe),Qt(g._icon,this._draggable._newPos),this._onDrag(u),this._panRequest=z(this._adjustPan.bind(this,u))}},_onDragStart:function(){this._oldLatLng=this._marker.getLatLng(),this._marker.closePopup&&this._marker.closePopup(),this._marker.fire("movestart").fire("dragstart")},_onPreDrag:function(u){this._marker.options.autoPan&&(F(this._panRequest),this._panRequest=z(this._adjustPan.bind(this,u)))},_onDrag:function(u){var g=this._marker,w=g._shadow,C=To(g._icon),P=g._map.layerPointToLatLng(C);w&&Qt(w,C),g._latlng=P,u.latlng=P,u.oldLatLng=this._oldLatLng,g.fire("move",u).fire("drag",u)},_onDragEnd:function(u){F(this._panRequest),delete this._oldLatLng,this._marker.fire("moveend").fire("dragend",u)}}),gc=Fi.extend({options:{icon:new mc,interactive:!0,keyboard:!0,title:"",alt:"Marker",zIndexOffset:0,opacity:1,riseOnHover:!1,riseOffset:250,pane:"markerPane",shadowPane:"shadowPane",bubblingMouseEvents:!1,autoPanOnFocus:!0,draggable:!1,autoPan:!1,autoPanPadding:[50,50],autoPanSpeed:10},initialize:function(u,g){T(this,g),this._latlng=W(u)},onAdd:function(u){this._zoomAnimated=this._zoomAnimated&&u.options.markerZoomAnimation,this._zoomAnimated&&u.on("zoomanim",this._animateZoom,this),this._initIcon(),this.update()},onRemove:function(u){this.dragging&&this.dragging.enabled()&&(this.options.draggable=!0,this.dragging.removeHooks()),delete this.dragging,this._zoomAnimated&&u.off("zoomanim",this._animateZoom,this),this._removeIcon(),this._removeShadow()},getEvents:function(){return{zoom:this.update,viewreset:this.update}},getLatLng:function(){return this._latlng},setLatLng:function(u){var g=this._latlng;return this._latlng=W(u),this.update(),this.fire("move",{oldLatLng:g,latlng:this._latlng})},setZIndexOffset:function(u){return this.options.zIndexOffset=u,this.update()},getIcon:function(){return this.options.icon},setIcon:function(u){return this.options.icon=u,this._map&&(this._initIcon(),this.update()),this._popup&&this.bindPopup(this._popup,this._popup.options),this},getElement:function(){return this._icon},update:function(){if(this._icon&&this._map){var u=this._map.latLngToLayerPoint(this._latlng).round();this._setPos(u)}return this},_initIcon:function(){var u=this.options,g="leaflet-zoom-"+(this._zoomAnimated?"animated":"hide"),w=u.icon.createIcon(this._icon),C=!1;w!==this._icon&&(this._icon&&this._removeIcon(),C=!0,u.title&&(w.title=u.title),w.tagName==="IMG"&&(w.alt=u.alt||"")),ft(w,g),u.keyboard&&(w.tabIndex="0",w.setAttribute("role","button")),this._icon=w,u.riseOnHover&&this.on({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&lt(w,"focus",this._panOnFocus,this);var P=u.icon.createShadow(this._shadow),U=!1;P!==this._shadow&&(this._removeShadow(),U=!0),P&&(ft(P,g),P.alt=""),this._shadow=P,u.opacity<1&&this._updateOpacity(),C&&this.getPane().appendChild(this._icon),this._initInteraction(),P&&U&&this.getPane(u.shadowPane).appendChild(this._shadow)},_removeIcon:function(){this.options.riseOnHover&&this.off({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&Ht(this._icon,"focus",this._panOnFocus,this),ht(this._icon),this.removeInteractiveTarget(this._icon),this._icon=null},_removeShadow:function(){this._shadow&&ht(this._shadow),this._shadow=null},_setPos:function(u){this._icon&&Qt(this._icon,u),this._shadow&&Qt(this._shadow,u),this._zIndex=u.y+this.options.zIndexOffset,this._resetZIndex()},_updateZIndex:function(u){this._icon&&(this._icon.style.zIndex=this._zIndex+u)},_animateZoom:function(u){var g=this._map._latLngToNewLayerPoint(this._latlng,u.zoom,u.center).round();this._setPos(g)},_initInteraction:function(){if(this.options.interactive&&(ft(this._icon,"leaflet-interactive"),this.addInteractiveTarget(this._icon),pc)){var u=this.options.draggable;this.dragging&&(u=this.dragging.enabled(),this.dragging.disable()),this.dragging=new pc(this),u&&this.dragging.enable()}},setOpacity:function(u){return this.options.opacity=u,this._map&&this._updateOpacity(),this},_updateOpacity:function(){var u=this.options.opacity;this._icon&&hn(this._icon,u),this._shadow&&hn(this._shadow,u)},_bringToFront:function(){this._updateZIndex(this.options.riseOffset)},_resetZIndex:function(){this._updateZIndex(0)},_panOnFocus:function(){var u=this._map;if(u){var g=this.options.icon.options,w=g.iconSize?ne(g.iconSize):ne(0,0),C=g.iconAnchor?ne(g.iconAnchor):ne(0,0);u.panInside(this._latlng,{paddingTopLeft:C,paddingBottomRight:w.subtract(C)})}},_getPopupAnchor:function(){return this.options.icon.options.popupAnchor},_getTooltipAnchor:function(){return this.options.icon.options.tooltipAnchor}});function Np(u,g){return new gc(u,g)}var Sa=Fi.extend({options:{stroke:!0,color:"#3388ff",weight:3,opacity:1,lineCap:"round",lineJoin:"round",dashArray:null,dashOffset:null,fill:!1,fillColor:null,fillOpacity:.2,fillRule:"evenodd",interactive:!0,bubblingMouseEvents:!0},beforeAdd:function(u){this._renderer=u.getRenderer(this)},onAdd:function(){this._renderer._initPath(this),this._reset(),this._renderer._addPath(this)},onRemove:function(){this._renderer._removePath(this)},redraw:function(){return this._map&&this._renderer._updatePath(this),this},setStyle:function(u){return T(this,u),this._renderer&&(this._renderer._updateStyle(this),this.options.stroke&&u&&Object.prototype.hasOwnProperty.call(u,"weight")&&this._updateBounds()),this},bringToFront:function(){return this._renderer&&this._renderer._bringToFront(this),this},bringToBack:function(){return this._renderer&&this._renderer._bringToBack(this),this},getElement:function(){return this._path},_reset:function(){this._project(),this._update()},_clickTolerance:function(){return(this.options.stroke?this.options.weight/2:0)+(this._renderer.options.tolerance||0)}}),cl=Sa.extend({options:{fill:!0,radius:10},initialize:function(u,g){T(this,g),this._latlng=W(u),this._radius=this.options.radius},setLatLng:function(u){var g=this._latlng;return this._latlng=W(u),this.redraw(),this.fire("move",{oldLatLng:g,latlng:this._latlng})},getLatLng:function(){return this._latlng},setRadius:function(u){return this.options.radius=this._radius=u,this.redraw()},getRadius:function(){return this._radius},setStyle:function(u){var g=u&&u.radius||this._radius;return Sa.prototype.setStyle.call(this,u),this.setRadius(g),this},_project:function(){this._point=this._map.latLngToLayerPoint(this._latlng),this._updateBounds()},_updateBounds:function(){var u=this._radius,g=this._radiusY||u,w=this._clickTolerance(),C=[u+w,g+w];this._pxBounds=new q(this._point.subtract(C),this._point.add(C))},_update:function(){this._map&&this._updatePath()},_updatePath:function(){this._renderer._updateCircle(this)},_empty:function(){return this._radius&&!this._renderer._bounds.intersects(this._pxBounds)},_containsPoint:function(u){return u.distanceTo(this._point)<=this._radius+this._clickTolerance()}});function Cp(u,g){return new cl(u,g)}var Iu=cl.extend({initialize:function(u,g,w){if(typeof g=="number"&&(g=i({},w,{radius:g})),T(this,g),this._latlng=W(u),isNaN(this.options.radius))throw new Error("Circle radius cannot be NaN");this._mRadius=this.options.radius},setRadius:function(u){return this._mRadius=u,this.redraw()},getRadius:function(){return this._mRadius},getBounds:function(){var u=[this._radius,this._radiusY||this._radius];return new X(this._map.layerPointToLatLng(this._point.subtract(u)),this._map.layerPointToLatLng(this._point.add(u)))},setStyle:Sa.prototype.setStyle,_project:function(){var u=this._latlng.lng,g=this._latlng.lat,w=this._map,C=w.options.crs;if(C.distance===te.distance){var P=Math.PI/180,U=this._mRadius/te.R/P,re=w.project([g+U,u]),ye=w.project([g-U,u]),Ee=re.add(ye).divideBy(2),Pe=w.unproject(Ee).lat,Ge=Math.acos((Math.cos(U*P)-Math.sin(g*P)*Math.sin(Pe*P))/(Math.cos(g*P)*Math.cos(Pe*P)))/P;(isNaN(Ge)||Ge===0)&&(Ge=U/Math.cos(Math.PI/180*g)),this._point=Ee.subtract(w.getPixelOrigin()),this._radius=isNaN(Ge)?0:Ee.x-w.project([Pe,u-Ge]).x,this._radiusY=Ee.y-re.y}else{var et=C.unproject(C.project(this._latlng).subtract([this._mRadius,0]));this._point=w.latLngToLayerPoint(this._latlng),this._radius=this._point.x-w.latLngToLayerPoint(et).x}this._updateBounds()}});function Mp(u,g,w){return new Iu(u,g,w)}var Qa=Sa.extend({options:{smoothFactor:1,noClip:!1},initialize:function(u,g){T(this,g),this._setLatLngs(u)},getLatLngs:function(){return this._latlngs},setLatLngs:function(u){return this._setLatLngs(u),this.redraw()},isEmpty:function(){return!this._latlngs.length},closestLayerPoint:function(u){for(var g=1/0,w=null,C=fc,P,U,re=0,ye=this._parts.length;re<ye;re++)for(var Ee=this._parts[re],Pe=1,Ge=Ee.length;Pe<Ge;Pe++){P=Ee[Pe-1],U=Ee[Pe];var et=C(u,P,U,!0);et<g&&(g=et,w=C(u,P,U))}return w&&(w.distance=Math.sqrt(g)),w},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return ol(this._defaultShape(),this._map.options.crs)},getBounds:function(){return this._bounds},addLatLng:function(u,g){return g=g||this._defaultShape(),u=W(u),g.push(u),this._bounds.extend(u),this.redraw()},_setLatLngs:function(u){this._bounds=new X,this._latlngs=this._convertLatLngs(u)},_defaultShape:function(){return _i(this._latlngs)?this._latlngs:this._latlngs[0]},_convertLatLngs:function(u){for(var g=[],w=_i(u),C=0,P=u.length;C<P;C++)w?(g[C]=W(u[C]),this._bounds.extend(g[C])):g[C]=this._convertLatLngs(u[C]);return g},_project:function(){var u=new q;this._rings=[],this._projectLatlngs(this._latlngs,this._rings,u),this._bounds.isValid()&&u.isValid()&&(this._rawPxBounds=u,this._updateBounds())},_updateBounds:function(){var u=this._clickTolerance(),g=new ae(u,u);this._rawPxBounds&&(this._pxBounds=new q([this._rawPxBounds.min.subtract(g),this._rawPxBounds.max.add(g)]))},_projectLatlngs:function(u,g,w){var C=u[0]instanceof Z,P=u.length,U,re;if(C){for(re=[],U=0;U<P;U++)re[U]=this._map.latLngToLayerPoint(u[U]),w.extend(re[U]);g.push(re)}else for(U=0;U<P;U++)this._projectLatlngs(u[U],g,w)},_clipPoints:function(){var u=this._renderer._bounds;if(this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(u))){if(this.options.noClip){this._parts=this._rings;return}var g=this._parts,w,C,P,U,re,ye,Ee;for(w=0,P=0,U=this._rings.length;w<U;w++)for(Ee=this._rings[w],C=0,re=Ee.length;C<re-1;C++)ye=Tp(Ee[C],Ee[C+1],u,C,!0),ye&&(g[P]=g[P]||[],g[P].push(ye[0]),(ye[1]!==Ee[C+1]||C===re-2)&&(g[P].push(ye[1]),P++))}},_simplifyPoints:function(){for(var u=this._parts,g=this.options.smoothFactor,w=0,C=u.length;w<C;w++)u[w]=wp(u[w],g)},_update:function(){this._map&&(this._clipPoints(),this._simplifyPoints(),this._updatePath())},_updatePath:function(){this._renderer._updatePoly(this)},_containsPoint:function(u,g){var w,C,P,U,re,ye,Ee=this._clickTolerance();if(!this._pxBounds||!this._pxBounds.contains(u))return!1;for(w=0,U=this._parts.length;w<U;w++)for(ye=this._parts[w],C=0,re=ye.length,P=re-1;C<re;P=C++)if(!(!g&&C===0)&&Sp(u,ye[P],ye[C])<=Ee)return!0;return!1}});function Jb(u,g){return new Qa(u,g)}Qa._flat=Pu;var ul=Qa.extend({options:{fill:!0},isEmpty:function(){return!this._latlngs.length||!this._latlngs[0].length},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return xp(this._defaultShape(),this._map.options.crs)},_convertLatLngs:function(u){var g=Qa.prototype._convertLatLngs.call(this,u),w=g.length;return w>=2&&g[0]instanceof Z&&g[0].equals(g[w-1])&&g.pop(),g},_setLatLngs:function(u){Qa.prototype._setLatLngs.call(this,u),_i(this._latlngs)&&(this._latlngs=[this._latlngs])},_defaultShape:function(){return _i(this._latlngs[0])?this._latlngs[0]:this._latlngs[0][0]},_clipPoints:function(){var u=this._renderer._bounds,g=this.options.weight,w=new ae(g,g);if(u=new q(u.min.subtract(w),u.max.add(w)),this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(u))){if(this.options.noClip){this._parts=this._rings;return}for(var C=0,P=this._rings.length,U;C<P;C++)U=_p(this._rings[C],u,!0),U.length&&this._parts.push(U)}},_updatePath:function(){this._renderer._updatePoly(this,!0)},_containsPoint:function(u){var g=!1,w,C,P,U,re,ye,Ee,Pe;if(!this._pxBounds||!this._pxBounds.contains(u))return!1;for(U=0,Ee=this._parts.length;U<Ee;U++)for(w=this._parts[U],re=0,Pe=w.length,ye=Pe-1;re<Pe;ye=re++)C=w[re],P=w[ye],C.y>u.y!=P.y>u.y&&u.x<(P.x-C.x)*(u.y-C.y)/(P.y-C.y)+C.x&&(g=!g);return g||Qa.prototype._containsPoint.call(this,u,!0)}});function Qb(u,g){return new ul(u,g)}var eo=xa.extend({initialize:function(u,g){T(this,g),this._layers={},u&&this.addData(u)},addData:function(u){var g=O(u)?u:u.features,w,C,P;if(g){for(w=0,C=g.length;w<C;w++)P=g[w],(P.geometries||P.geometry||P.features||P.coordinates)&&this.addData(P);return this}var U=this.options;if(U.filter&&!U.filter(u))return this;var re=gr(u,U);return re?(re.feature=zu(u),re.defaultOptions=re.options,this.resetStyle(re),U.onEachFeature&&U.onEachFeature(u,re),this.addLayer(re)):this},resetStyle:function(u){return u===void 0?this.eachLayer(this.resetStyle,this):(u.options=i({},u.defaultOptions),this._setLayerStyle(u,this.options.style),this)},setStyle:function(u){return this.eachLayer(function(g){this._setLayerStyle(g,u)},this)},_setLayerStyle:function(u,g){u.setStyle&&(typeof g=="function"&&(g=g(u.feature)),u.setStyle(g))}});function gr(u,g){var w=u.type==="Feature"?u.geometry:u,C=w?w.coordinates:null,P=[],U=g&&g.pointToLayer,re=g&&g.coordsToLatLng||$u,ye,Ee,Pe,Ge;if(!C&&!w)return null;switch(w.type){case"Point":return ye=re(C),dl(U,u,ye,g);case"MultiPoint":for(Pe=0,Ge=C.length;Pe<Ge;Pe++)ye=re(C[Pe]),P.push(dl(U,u,ye,g));return new xa(P);case"LineString":case"MultiLineString":return Ee=vc(C,w.type==="LineString"?0:1,re),new Qa(Ee,g);case"Polygon":case"MultiPolygon":return Ee=vc(C,w.type==="Polygon"?1:2,re),new ul(Ee,g);case"GeometryCollection":for(Pe=0,Ge=w.geometries.length;Pe<Ge;Pe++){var et=gr({geometry:w.geometries[Pe],type:"Feature",properties:u.properties},g);et&&P.push(et)}return new xa(P);case"FeatureCollection":for(Pe=0,Ge=w.features.length;Pe<Ge;Pe++){var bt=gr(w.features[Pe],g);bt&&P.push(bt)}return new xa(P);default:throw new Error("Invalid GeoJSON object.")}}function dl(u,g,w,C){return u?u(g,w):new gc(w,C&&C.markersInheritOptions&&C)}function $u(u){return new Z(u[1],u[0],u[2])}function vc(u,g,w){for(var C=[],P=0,U=u.length,re;P<U;P++)re=g?vc(u[P],g-1,w):(w||$u)(u[P]),C.push(re);return C}function Bu(u,g){return u=W(u),u.alt!==void 0?[y(u.lng,g),y(u.lat,g),y(u.alt,g)]:[y(u.lng,g),y(u.lat,g)]}function yc(u,g,w,C){for(var P=[],U=0,re=u.length;U<re;U++)P.push(g?yc(u[U],_i(u[U])?0:g-1,w,C):Bu(u[U],C));return!g&&w&&P.length>0&&P.push(P[0].slice()),P}function jo(u,g){return u.feature?i({},u.feature,{geometry:g}):zu(g)}function zu(u){return u.type==="Feature"||u.type==="FeatureCollection"?u:{type:"Feature",properties:{},geometry:u}}var No={toGeoJSON:function(u){return jo(this,{type:"Point",coordinates:Bu(this.getLatLng(),u)})}};gc.include(No),Iu.include(No),cl.include(No),Qa.include({toGeoJSON:function(u){var g=!_i(this._latlngs),w=yc(this._latlngs,g?1:0,!1,u);return jo(this,{type:(g?"Multi":"")+"LineString",coordinates:w})}}),ul.include({toGeoJSON:function(u){var g=!_i(this._latlngs),w=g&&!_i(this._latlngs[0]),C=yc(this._latlngs,w?2:g?1:0,!0,u);return g||(C=[C]),jo(this,{type:(w?"Multi":"")+"Polygon",coordinates:C})}}),ll.include({toMultiPoint:function(u){var g=[];return this.eachLayer(function(w){g.push(w.toGeoJSON(u).geometry.coordinates)}),jo(this,{type:"MultiPoint",coordinates:g})},toGeoJSON:function(u){var g=this.feature&&this.feature.geometry&&this.feature.geometry.type;if(g==="MultiPoint")return this.toMultiPoint(u);var w=g==="GeometryCollection",C=[];return this.eachLayer(function(P){if(P.toGeoJSON){var U=P.toGeoJSON(u);if(w)C.push(U.geometry);else{var re=zu(U);re.type==="FeatureCollection"?C.push.apply(C,re.features):C.push(re)}}}),w?jo(this,{geometries:C,type:"GeometryCollection"}):{type:"FeatureCollection",features:C}}});function Uu(u,g){return new eo(u,g)}var bc=Uu,fl=Fi.extend({options:{opacity:1,alt:"",interactive:!1,crossOrigin:!1,errorOverlayUrl:"",zIndex:1,className:""},initialize:function(u,g,w){this._url=u,this._bounds=ie(g),T(this,w)},onAdd:function(){this._image||(this._initImage(),this.options.opacity<1&&this._updateOpacity()),this.options.interactive&&(ft(this._image,"leaflet-interactive"),this.addInteractiveTarget(this._image)),this.getPane().appendChild(this._image),this._reset()},onRemove:function(){ht(this._image),this.options.interactive&&this.removeInteractiveTarget(this._image)},setOpacity:function(u){return this.options.opacity=u,this._image&&this._updateOpacity(),this},setStyle:function(u){return u.opacity&&this.setOpacity(u.opacity),this},bringToFront:function(){return this._map&&Rn(this._image),this},bringToBack:function(){return this._map&&ga(this._image),this},setUrl:function(u){return this._url=u,this._image&&(this._image.src=u),this},setBounds:function(u){return this._bounds=ie(u),this._map&&this._reset(),this},getEvents:function(){var u={zoom:this._reset,viewreset:this._reset};return this._zoomAnimated&&(u.zoomanim=this._animateZoom),u},setZIndex:function(u){return this.options.zIndex=u,this._updateZIndex(),this},getBounds:function(){return this._bounds},getElement:function(){return this._image},_initImage:function(){var u=this._url.tagName==="IMG",g=this._image=u?this._url:ut("img");if(ft(g,"leaflet-image-layer"),this._zoomAnimated&&ft(g,"leaflet-zoom-animated"),this.options.className&&ft(g,this.options.className),g.onselectstart=p,g.onmousemove=p,g.onload=s(this.fire,this,"load"),g.onerror=s(this._overlayOnError,this,"error"),(this.options.crossOrigin||this.options.crossOrigin==="")&&(g.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),this.options.zIndex&&this._updateZIndex(),u){this._url=g.src;return}g.src=this._url,g.alt=this.options.alt},_animateZoom:function(u){var g=this._map.getZoomScale(u.zoom),w=this._map._latLngBoundsToNewLayerBounds(this._bounds,u.zoom,u.center).min;Za(this._image,w,g)},_reset:function(){var u=this._image,g=new q(this._map.latLngToLayerPoint(this._bounds.getNorthWest()),this._map.latLngToLayerPoint(this._bounds.getSouthEast())),w=g.getSize();Qt(u,g.min),u.style.width=w.x+"px",u.style.height=w.y+"px"},_updateOpacity:function(){hn(this._image,this.options.opacity)},_updateZIndex:function(){this._image&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._image.style.zIndex=this.options.zIndex)},_overlayOnError:function(){this.fire("error");var u=this.options.errorOverlayUrl;u&&this._url!==u&&(this._url=u,this._image.src=u)},getCenter:function(){return this._bounds.getCenter()}}),Dp=function(u,g,w){return new fl(u,g,w)},Co=fl.extend({options:{autoplay:!0,loop:!0,keepAspectRatio:!0,muted:!1,playsInline:!0},_initImage:function(){var u=this._url.tagName==="VIDEO",g=this._image=u?this._url:ut("video");if(ft(g,"leaflet-image-layer"),this._zoomAnimated&&ft(g,"leaflet-zoom-animated"),this.options.className&&ft(g,this.options.className),g.onselectstart=p,g.onmousemove=p,g.onloadeddata=s(this.fire,this,"load"),u){for(var w=g.getElementsByTagName("source"),C=[],P=0;P<w.length;P++)C.push(w[P].src);this._url=w.length>0?C:[g.src];return}O(this._url)||(this._url=[this._url]),!this.options.keepAspectRatio&&Object.prototype.hasOwnProperty.call(g.style,"objectFit")&&(g.style.objectFit="fill"),g.autoplay=!!this.options.autoplay,g.loop=!!this.options.loop,g.muted=!!this.options.muted,g.playsInline=!!this.options.playsInline;for(var U=0;U<this._url.length;U++){var re=ut("source");re.src=this._url[U],g.appendChild(re)}}});function hl(u,g,w){return new Co(u,g,w)}var Hu=fl.extend({_initImage:function(){var u=this._image=this._url;ft(u,"leaflet-image-layer"),this._zoomAnimated&&ft(u,"leaflet-zoom-animated"),this.options.className&&ft(u,this.options.className),u.onselectstart=p,u.onmousemove=p}});function Pp(u,g,w){return new Hu(u,g,w)}var vr=Fi.extend({options:{interactive:!1,offset:[0,0],className:"",pane:void 0,content:""},initialize:function(u,g){u&&(u instanceof Z||O(u))?(this._latlng=W(u),T(this,g)):(T(this,u),this._source=g),this.options.content&&(this._content=this.options.content)},openOn:function(u){return u=arguments.length?u:this._source._map,u.hasLayer(this)||u.addLayer(this),this},close:function(){return this._map&&this._map.removeLayer(this),this},toggle:function(u){return this._map?this.close():(arguments.length?this._source=u:u=this._source,this._prepareOpen(),this.openOn(u._map)),this},onAdd:function(u){this._zoomAnimated=u._zoomAnimated,this._container||this._initLayout(),u._fadeAnimated&&hn(this._container,0),clearTimeout(this._removeTimeout),this.getPane().appendChild(this._container),this.update(),u._fadeAnimated&&hn(this._container,1),this.bringToFront(),this.options.interactive&&(ft(this._container,"leaflet-interactive"),this.addInteractiveTarget(this._container))},onRemove:function(u){u._fadeAnimated?(hn(this._container,0),this._removeTimeout=setTimeout(s(ht,void 0,this._container),200)):ht(this._container),this.options.interactive&&(nn(this._container,"leaflet-interactive"),this.removeInteractiveTarget(this._container))},getLatLng:function(){return this._latlng},setLatLng:function(u){return this._latlng=W(u),this._map&&(this._updatePosition(),this._adjustPan()),this},getContent:function(){return this._content},setContent:function(u){return this._content=u,this.update(),this},getElement:function(){return this._container},update:function(){this._map&&(this._container.style.visibility="hidden",this._updateContent(),this._updateLayout(),this._updatePosition(),this._container.style.visibility="",this._adjustPan())},getEvents:function(){var u={zoom:this._updatePosition,viewreset:this._updatePosition};return this._zoomAnimated&&(u.zoomanim=this._animateZoom),u},isOpen:function(){return!!this._map&&this._map.hasLayer(this)},bringToFront:function(){return this._map&&Rn(this._container),this},bringToBack:function(){return this._map&&ga(this._container),this},_prepareOpen:function(u){var g=this._source;if(!g._map)return!1;if(g instanceof xa){g=null;var w=this._source._layers;for(var C in w)if(w[C]._map){g=w[C];break}if(!g)return!1;this._source=g}if(!u)if(g.getCenter)u=g.getCenter();else if(g.getLatLng)u=g.getLatLng();else if(g.getBounds)u=g.getBounds().getCenter();else throw new Error("Unable to get source layer LatLng.");return this.setLatLng(u),this._map&&this.update(),!0},_updateContent:function(){if(this._content){var u=this._contentNode,g=typeof this._content=="function"?this._content(this._source||this):this._content;if(typeof g=="string")u.innerHTML=g;else{for(;u.hasChildNodes();)u.removeChild(u.firstChild);u.appendChild(g)}this.fire("contentupdate")}},_updatePosition:function(){if(this._map){var u=this._map.latLngToLayerPoint(this._latlng),g=ne(this.options.offset),w=this._getAnchor();this._zoomAnimated?Qt(this._container,u.add(w)):g=g.add(u).add(w);var C=this._containerBottom=-g.y,P=this._containerLeft=-Math.round(this._containerWidth/2)+g.x;this._container.style.bottom=C+"px",this._container.style.left=P+"px"}},_getAnchor:function(){return[0,0]}});kt.include({_initOverlay:function(u,g,w,C){var P=g;return P instanceof u||(P=new u(C).setContent(g)),w&&P.setLatLng(w),P}}),Fi.include({_initOverlay:function(u,g,w,C){var P=w;return P instanceof u?(T(P,C),P._source=this):(P=g&&!C?g:new u(C,this),P.setContent(w)),P}});var _c=vr.extend({options:{pane:"popupPane",offset:[0,7],maxWidth:300,minWidth:50,maxHeight:null,autoPan:!0,autoPanPaddingTopLeft:null,autoPanPaddingBottomRight:null,autoPanPadding:[5,5],keepInView:!1,closeButton:!0,autoClose:!0,closeOnEscapeKey:!0,className:""},openOn:function(u){return u=arguments.length?u:this._source._map,!u.hasLayer(this)&&u._popup&&u._popup.options.autoClose&&u.removeLayer(u._popup),u._popup=this,vr.prototype.openOn.call(this,u)},onAdd:function(u){vr.prototype.onAdd.call(this,u),u.fire("popupopen",{popup:this}),this._source&&(this._source.fire("popupopen",{popup:this},!0),this._source instanceof Sa||this._source.on("preclick",Hi))},onRemove:function(u){vr.prototype.onRemove.call(this,u),u.fire("popupclose",{popup:this}),this._source&&(this._source.fire("popupclose",{popup:this},!0),this._source instanceof Sa||this._source.off("preclick",Hi))},getEvents:function(){var u=vr.prototype.getEvents.call(this);return(this.options.closeOnClick!==void 0?this.options.closeOnClick:this._map.options.closePopupOnClick)&&(u.preclick=this.close),this.options.keepInView&&(u.moveend=this._adjustPan),u},_initLayout:function(){var u="leaflet-popup",g=this._container=ut("div",u+" "+(this.options.className||"")+" leaflet-zoom-animated"),w=this._wrapper=ut("div",u+"-content-wrapper",g);if(this._contentNode=ut("div",u+"-content",w),Qo(g),ba(this._contentNode),lt(g,"contextmenu",Hi),this._tipContainer=ut("div",u+"-tip-container",g),this._tip=ut("div",u+"-tip",this._tipContainer),this.options.closeButton){var C=this._closeButton=ut("a",u+"-close-button",g);C.setAttribute("role","button"),C.setAttribute("aria-label","Close popup"),C.href="#close",C.innerHTML='<span aria-hidden="true">&#215;</span>',lt(C,"click",function(P){Ln(P),this.close()},this)}},_updateLayout:function(){var u=this._contentNode,g=u.style;g.width="",g.whiteSpace="nowrap";var w=u.offsetWidth;w=Math.min(w,this.options.maxWidth),w=Math.max(w,this.options.minWidth),g.width=w+1+"px",g.whiteSpace="",g.height="";var C=u.offsetHeight,P=this.options.maxHeight,U="leaflet-popup-scrolled";P&&C>P?(g.height=P+"px",ft(u,U)):nn(u,U),this._containerWidth=this._container.offsetWidth},_animateZoom:function(u){var g=this._map._latLngToNewLayerPoint(this._latlng,u.zoom,u.center),w=this._getAnchor();Qt(this._container,g.add(w))},_adjustPan:function(){if(this.options.autoPan){if(this._map._panAnim&&this._map._panAnim.stop(),this._autopanning){this._autopanning=!1;return}var u=this._map,g=parseInt(wt(this._container,"marginBottom"),10)||0,w=this._container.offsetHeight+g,C=this._containerWidth,P=new ae(this._containerLeft,-w-this._containerBottom);P._add(To(this._container));var U=u.layerPointToContainerPoint(P),re=ne(this.options.autoPanPadding),ye=ne(this.options.autoPanPaddingTopLeft||re),Ee=ne(this.options.autoPanPaddingBottomRight||re),Pe=u.getSize(),Ge=0,et=0;U.x+C+Ee.x>Pe.x&&(Ge=U.x+C-Pe.x+Ee.x),U.x-Ge-ye.x<0&&(Ge=U.x-ye.x),U.y+w+Ee.y>Pe.y&&(et=U.y+w-Pe.y+Ee.y),U.y-et-ye.y<0&&(et=U.y-ye.y),(Ge||et)&&(this.options.keepInView&&(this._autopanning=!0),u.fire("autopanstart").panBy([Ge,et]))}},_getAnchor:function(){return ne(this._source&&this._source._getPopupAnchor?this._source._getPopupAnchor():[0,0])}}),Rp=function(u,g){return new _c(u,g)};kt.mergeOptions({closePopupOnClick:!0}),kt.include({openPopup:function(u,g,w){return this._initOverlay(_c,u,g,w).openOn(this),this},closePopup:function(u){return u=arguments.length?u:this._popup,u&&u.close(),this}}),Fi.include({bindPopup:function(u,g){return this._popup=this._initOverlay(_c,this._popup,u,g),this._popupHandlersAdded||(this.on({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!0),this},unbindPopup:function(){return this._popup&&(this.off({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!1,this._popup=null),this},openPopup:function(u){return this._popup&&(this instanceof xa||(this._popup._source=this),this._popup._prepareOpen(u||this._latlng)&&this._popup.openOn(this._map)),this},closePopup:function(){return this._popup&&this._popup.close(),this},togglePopup:function(){return this._popup&&this._popup.toggle(this),this},isPopupOpen:function(){return this._popup?this._popup.isOpen():!1},setPopupContent:function(u){return this._popup&&this._popup.setContent(u),this},getPopup:function(){return this._popup},_openPopup:function(u){if(!(!this._popup||!this._map)){ko(u);var g=u.layer||u.target;if(this._popup._source===g&&!(g instanceof Sa)){this._map.hasLayer(this._popup)?this.closePopup():this.openPopup(u.latlng);return}this._popup._source=g,this.openPopup(u.latlng)}},_movePopup:function(u){this._popup.setLatLng(u.latlng)},_onKeyPress:function(u){u.originalEvent.keyCode===13&&this._openPopup(u)}});var xc=vr.extend({options:{pane:"tooltipPane",offset:[0,0],direction:"auto",permanent:!1,sticky:!1,opacity:.9},onAdd:function(u){vr.prototype.onAdd.call(this,u),this.setOpacity(this.options.opacity),u.fire("tooltipopen",{tooltip:this}),this._source&&(this.addEventParent(this._source),this._source.fire("tooltipopen",{tooltip:this},!0))},onRemove:function(u){vr.prototype.onRemove.call(this,u),u.fire("tooltipclose",{tooltip:this}),this._source&&(this.removeEventParent(this._source),this._source.fire("tooltipclose",{tooltip:this},!0))},getEvents:function(){var u=vr.prototype.getEvents.call(this);return this.options.permanent||(u.preclick=this.close),u},_initLayout:function(){var u="leaflet-tooltip",g=u+" "+(this.options.className||"")+" leaflet-zoom-"+(this._zoomAnimated?"animated":"hide");this._contentNode=this._container=ut("div",g),this._container.setAttribute("role","tooltip"),this._container.setAttribute("id","leaflet-tooltip-"+d(this))},_updateLayout:function(){},_adjustPan:function(){},_setPosition:function(u){var g,w,C=this._map,P=this._container,U=C.latLngToContainerPoint(C.getCenter()),re=C.layerPointToContainerPoint(u),ye=this.options.direction,Ee=P.offsetWidth,Pe=P.offsetHeight,Ge=ne(this.options.offset),et=this._getAnchor();ye==="top"?(g=Ee/2,w=Pe):ye==="bottom"?(g=Ee/2,w=0):ye==="center"?(g=Ee/2,w=Pe/2):ye==="right"?(g=0,w=Pe/2):ye==="left"?(g=Ee,w=Pe/2):re.x<U.x?(ye="right",g=0,w=Pe/2):(ye="left",g=Ee+(Ge.x+et.x)*2,w=Pe/2),u=u.subtract(ne(g,w,!0)).add(Ge).add(et),nn(P,"leaflet-tooltip-right"),nn(P,"leaflet-tooltip-left"),nn(P,"leaflet-tooltip-top"),nn(P,"leaflet-tooltip-bottom"),ft(P,"leaflet-tooltip-"+ye),Qt(P,u)},_updatePosition:function(){var u=this._map.latLngToLayerPoint(this._latlng);this._setPosition(u)},setOpacity:function(u){this.options.opacity=u,this._container&&hn(this._container,u)},_animateZoom:function(u){var g=this._map._latLngToNewLayerPoint(this._latlng,u.zoom,u.center);this._setPosition(g)},_getAnchor:function(){return ne(this._source&&this._source._getTooltipAnchor&&!this.options.sticky?this._source._getTooltipAnchor():[0,0])}}),e_=function(u,g){return new xc(u,g)};kt.include({openTooltip:function(u,g,w){return this._initOverlay(xc,u,g,w).openOn(this),this},closeTooltip:function(u){return u.close(),this}}),Fi.include({bindTooltip:function(u,g){return this._tooltip&&this.isTooltipOpen()&&this.unbindTooltip(),this._tooltip=this._initOverlay(xc,this._tooltip,u,g),this._initTooltipInteractions(),this._tooltip.options.permanent&&this._map&&this._map.hasLayer(this)&&this.openTooltip(),this},unbindTooltip:function(){return this._tooltip&&(this._initTooltipInteractions(!0),this.closeTooltip(),this._tooltip=null),this},_initTooltipInteractions:function(u){if(!(!u&&this._tooltipHandlersAdded)){var g=u?"off":"on",w={remove:this.closeTooltip,move:this._moveTooltip};this._tooltip.options.permanent?w.add=this._openTooltip:(w.mouseover=this._openTooltip,w.mouseout=this.closeTooltip,w.click=this._openTooltip,this._map?this._addFocusListeners():w.add=this._addFocusListeners),this._tooltip.options.sticky&&(w.mousemove=this._moveTooltip),this[g](w),this._tooltipHandlersAdded=!u}},openTooltip:function(u){return this._tooltip&&(this instanceof xa||(this._tooltip._source=this),this._tooltip._prepareOpen(u)&&(this._tooltip.openOn(this._map),this.getElement?this._setAriaDescribedByOnLayer(this):this.eachLayer&&this.eachLayer(this._setAriaDescribedByOnLayer,this))),this},closeTooltip:function(){if(this._tooltip)return this._tooltip.close()},toggleTooltip:function(){return this._tooltip&&this._tooltip.toggle(this),this},isTooltipOpen:function(){return this._tooltip.isOpen()},setTooltipContent:function(u){return this._tooltip&&this._tooltip.setContent(u),this},getTooltip:function(){return this._tooltip},_addFocusListeners:function(){this.getElement?this._addFocusListenersOnLayer(this):this.eachLayer&&this.eachLayer(this._addFocusListenersOnLayer,this)},_addFocusListenersOnLayer:function(u){var g=typeof u.getElement=="function"&&u.getElement();g&&(lt(g,"focus",function(){this._tooltip._source=u,this.openTooltip()},this),lt(g,"blur",this.closeTooltip,this))},_setAriaDescribedByOnLayer:function(u){var g=typeof u.getElement=="function"&&u.getElement();g&&g.setAttribute("aria-describedby",this._tooltip._container.id)},_openTooltip:function(u){if(!(!this._tooltip||!this._map)){if(this._map.dragging&&this._map.dragging.moving()&&!this._openOnceFlag){this._openOnceFlag=!0;var g=this;this._map.once("moveend",function(){g._openOnceFlag=!1,g._openTooltip(u)});return}this._tooltip._source=u.layer||u.target,this.openTooltip(this._tooltip.options.sticky?u.latlng:void 0)}},_moveTooltip:function(u){var g=u.latlng,w,C;this._tooltip.options.sticky&&u.originalEvent&&(w=this._map.mouseEventToContainerPoint(u.originalEvent),C=this._map.containerPointToLayerPoint(w),g=this._map.layerPointToLatLng(C)),this._tooltip.setLatLng(g)}});var Lp=wa.extend({options:{iconSize:[12,12],html:!1,bgPos:null,className:"leaflet-div-icon"},createIcon:function(u){var g=u&&u.tagName==="DIV"?u:document.createElement("div"),w=this.options;if(w.html instanceof Element?(pr(g),g.appendChild(w.html)):g.innerHTML=w.html!==!1?w.html:"",w.bgPos){var C=ne(w.bgPos);g.style.backgroundPosition=-C.x+"px "+-C.y+"px"}return this._setIconStyles(g,"icon"),g},createShadow:function(){return null}});function t_(u){return new Lp(u)}wa.Default=mc;var ml=Fi.extend({options:{tileSize:256,opacity:1,updateWhenIdle:We.mobile,updateWhenZooming:!0,updateInterval:200,zIndex:1,bounds:null,minZoom:0,maxZoom:void 0,maxNativeZoom:void 0,minNativeZoom:void 0,noWrap:!1,pane:"tilePane",className:"",keepBuffer:2},initialize:function(u){T(this,u)},onAdd:function(){this._initContainer(),this._levels={},this._tiles={},this._resetView()},beforeAdd:function(u){u._addZoomLimit(this)},onRemove:function(u){this._removeAllTiles(),ht(this._container),u._removeZoomLimit(this),this._container=null,this._tileZoom=void 0},bringToFront:function(){return this._map&&(Rn(this._container),this._setAutoZIndex(Math.max)),this},bringToBack:function(){return this._map&&(ga(this._container),this._setAutoZIndex(Math.min)),this},getContainer:function(){return this._container},setOpacity:function(u){return this.options.opacity=u,this._updateOpacity(),this},setZIndex:function(u){return this.options.zIndex=u,this._updateZIndex(),this},isLoading:function(){return this._loading},redraw:function(){if(this._map){this._removeAllTiles();var u=this._clampZoom(this._map.getZoom());u!==this._tileZoom&&(this._tileZoom=u,this._updateLevels()),this._update()}return this},getEvents:function(){var u={viewprereset:this._invalidateAll,viewreset:this._resetView,zoom:this._resetView,moveend:this._onMoveEnd};return this.options.updateWhenIdle||(this._onMove||(this._onMove=f(this._onMoveEnd,this.options.updateInterval,this)),u.move=this._onMove),this._zoomAnimated&&(u.zoomanim=this._animateZoom),u},createTile:function(){return document.createElement("div")},getTileSize:function(){var u=this.options.tileSize;return u instanceof ae?u:new ae(u,u)},_updateZIndex:function(){this._container&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._container.style.zIndex=this.options.zIndex)},_setAutoZIndex:function(u){for(var g=this.getPane().children,w=-u(-1/0,1/0),C=0,P=g.length,U;C<P;C++)U=g[C].style.zIndex,g[C]!==this._container&&U&&(w=u(w,+U));isFinite(w)&&(this.options.zIndex=w+u(-1,1),this._updateZIndex())},_updateOpacity:function(){if(this._map&&!We.ielt9){hn(this._container,this.options.opacity);var u=+new Date,g=!1,w=!1;for(var C in this._tiles){var P=this._tiles[C];if(!(!P.current||!P.loaded)){var U=Math.min(1,(u-P.loaded)/200);hn(P.el,U),U<1?g=!0:(P.active?w=!0:this._onOpaqueTile(P),P.active=!0)}}w&&!this._noPrune&&this._pruneTiles(),g&&(F(this._fadeFrame),this._fadeFrame=z(this._updateOpacity,this))}},_onOpaqueTile:p,_initContainer:function(){this._container||(this._container=ut("div","leaflet-layer "+(this.options.className||"")),this._updateZIndex(),this.options.opacity<1&&this._updateOpacity(),this.getPane().appendChild(this._container))},_updateLevels:function(){var u=this._tileZoom,g=this.options.maxZoom;if(u!==void 0){for(var w in this._levels)w=Number(w),this._levels[w].el.children.length||w===u?(this._levels[w].el.style.zIndex=g-Math.abs(u-w),this._onUpdateLevel(w)):(ht(this._levels[w].el),this._removeTilesAtZoom(w),this._onRemoveLevel(w),delete this._levels[w]);var C=this._levels[u],P=this._map;return C||(C=this._levels[u]={},C.el=ut("div","leaflet-tile-container leaflet-zoom-animated",this._container),C.el.style.zIndex=g,C.origin=P.project(P.unproject(P.getPixelOrigin()),u).round(),C.zoom=u,this._setZoomTransform(C,P.getCenter(),P.getZoom()),p(C.el.offsetWidth),this._onCreateLevel(C)),this._level=C,C}},_onUpdateLevel:p,_onRemoveLevel:p,_onCreateLevel:p,_pruneTiles:function(){if(this._map){var u,g,w=this._map.getZoom();if(w>this.options.maxZoom||w<this.options.minZoom){this._removeAllTiles();return}for(u in this._tiles)g=this._tiles[u],g.retain=g.current;for(u in this._tiles)if(g=this._tiles[u],g.current&&!g.active){var C=g.coords;this._retainParent(C.x,C.y,C.z,C.z-5)||this._retainChildren(C.x,C.y,C.z,C.z+2)}for(u in this._tiles)this._tiles[u].retain||this._removeTile(u)}},_removeTilesAtZoom:function(u){for(var g in this._tiles)this._tiles[g].coords.z===u&&this._removeTile(g)},_removeAllTiles:function(){for(var u in this._tiles)this._removeTile(u)},_invalidateAll:function(){for(var u in this._levels)ht(this._levels[u].el),this._onRemoveLevel(Number(u)),delete this._levels[u];this._removeAllTiles(),this._tileZoom=void 0},_retainParent:function(u,g,w,C){var P=Math.floor(u/2),U=Math.floor(g/2),re=w-1,ye=new ae(+P,+U);ye.z=+re;var Ee=this._tileCoordsToKey(ye),Pe=this._tiles[Ee];return Pe&&Pe.active?(Pe.retain=!0,!0):(Pe&&Pe.loaded&&(Pe.retain=!0),re>C?this._retainParent(P,U,re,C):!1)},_retainChildren:function(u,g,w,C){for(var P=2*u;P<2*u+2;P++)for(var U=2*g;U<2*g+2;U++){var re=new ae(P,U);re.z=w+1;var ye=this._tileCoordsToKey(re),Ee=this._tiles[ye];if(Ee&&Ee.active){Ee.retain=!0;continue}else Ee&&Ee.loaded&&(Ee.retain=!0);w+1<C&&this._retainChildren(P,U,w+1,C)}},_resetView:function(u){var g=u&&(u.pinch||u.flyTo);this._setView(this._map.getCenter(),this._map.getZoom(),g,g)},_animateZoom:function(u){this._setView(u.center,u.zoom,!0,u.noUpdate)},_clampZoom:function(u){var g=this.options;return g.minNativeZoom!==void 0&&u<g.minNativeZoom?g.minNativeZoom:g.maxNativeZoom!==void 0&&g.maxNativeZoom<u?g.maxNativeZoom:u},_setView:function(u,g,w,C){var P=Math.round(g);this.options.maxZoom!==void 0&&P>this.options.maxZoom||this.options.minZoom!==void 0&&P<this.options.minZoom?P=void 0:P=this._clampZoom(P);var U=this.options.updateWhenZooming&&P!==this._tileZoom;(!C||U)&&(this._tileZoom=P,this._abortLoading&&this._abortLoading(),this._updateLevels(),this._resetGrid(),P!==void 0&&this._update(u),w||this._pruneTiles(),this._noPrune=!!w),this._setZoomTransforms(u,g)},_setZoomTransforms:function(u,g){for(var w in this._levels)this._setZoomTransform(this._levels[w],u,g)},_setZoomTransform:function(u,g,w){var C=this._map.getZoomScale(w,u.zoom),P=u.origin.multiplyBy(C).subtract(this._map._getNewPixelOrigin(g,w)).round();We.any3d?Za(u.el,P,C):Qt(u.el,P)},_resetGrid:function(){var u=this._map,g=u.options.crs,w=this._tileSize=this.getTileSize(),C=this._tileZoom,P=this._map.getPixelWorldBounds(this._tileZoom);P&&(this._globalTileRange=this._pxBoundsToTileRange(P)),this._wrapX=g.wrapLng&&!this.options.noWrap&&[Math.floor(u.project([0,g.wrapLng[0]],C).x/w.x),Math.ceil(u.project([0,g.wrapLng[1]],C).x/w.y)],this._wrapY=g.wrapLat&&!this.options.noWrap&&[Math.floor(u.project([g.wrapLat[0],0],C).y/w.x),Math.ceil(u.project([g.wrapLat[1],0],C).y/w.y)]},_onMoveEnd:function(){!this._map||this._map._animatingZoom||this._update()},_getTiledPixelBounds:function(u){var g=this._map,w=g._animatingZoom?Math.max(g._animateToZoom,g.getZoom()):g.getZoom(),C=g.getZoomScale(w,this._tileZoom),P=g.project(u,this._tileZoom).floor(),U=g.getSize().divideBy(C*2);return new q(P.subtract(U),P.add(U))},_update:function(u){var g=this._map;if(g){var w=this._clampZoom(g.getZoom());if(u===void 0&&(u=g.getCenter()),this._tileZoom!==void 0){var C=this._getTiledPixelBounds(u),P=this._pxBoundsToTileRange(C),U=P.getCenter(),re=[],ye=this.options.keepBuffer,Ee=new q(P.getBottomLeft().subtract([ye,-ye]),P.getTopRight().add([ye,-ye]));if(!(isFinite(P.min.x)&&isFinite(P.min.y)&&isFinite(P.max.x)&&isFinite(P.max.y)))throw new Error("Attempted to load an infinite number of tiles");for(var Pe in this._tiles){var Ge=this._tiles[Pe].coords;(Ge.z!==this._tileZoom||!Ee.contains(new ae(Ge.x,Ge.y)))&&(this._tiles[Pe].current=!1)}if(Math.abs(w-this._tileZoom)>1){this._setView(u,w);return}for(var et=P.min.y;et<=P.max.y;et++)for(var bt=P.min.x;bt<=P.max.x;bt++){var ir=new ae(bt,et);if(ir.z=this._tileZoom,!!this._isValidTile(ir)){var In=this._tiles[this._tileCoordsToKey(ir)];In?In.current=!0:re.push(ir)}}if(re.sort(function(Pt,Rt){return Pt.distanceTo(U)-Rt.distanceTo(U)}),re.length!==0){this._loading||(this._loading=!0,this.fire("loading"));var ai=document.createDocumentFragment();for(bt=0;bt<re.length;bt++)this._addTile(re[bt],ai);this._level.el.appendChild(ai)}}}},_isValidTile:function(u){var g=this._map.options.crs;if(!g.infinite){var w=this._globalTileRange;if(!g.wrapLng&&(u.x<w.min.x||u.x>w.max.x)||!g.wrapLat&&(u.y<w.min.y||u.y>w.max.y))return!1}if(!this.options.bounds)return!0;var C=this._tileCoordsToBounds(u);return ie(this.options.bounds).overlaps(C)},_keyToBounds:function(u){return this._tileCoordsToBounds(this._keyToTileCoords(u))},_tileCoordsToNwSe:function(u){var g=this._map,w=this.getTileSize(),C=u.scaleBy(w),P=C.add(w),U=g.unproject(C,u.z),re=g.unproject(P,u.z);return[U,re]},_tileCoordsToBounds:function(u){var g=this._tileCoordsToNwSe(u),w=new X(g[0],g[1]);return this.options.noWrap||(w=this._map.wrapLatLngBounds(w)),w},_tileCoordsToKey:function(u){return u.x+":"+u.y+":"+u.z},_keyToTileCoords:function(u){var g=u.split(":"),w=new ae(+g[0],+g[1]);return w.z=+g[2],w},_removeTile:function(u){var g=this._tiles[u];g&&(ht(g.el),delete this._tiles[u],this.fire("tileunload",{tile:g.el,coords:this._keyToTileCoords(u)}))},_initTile:function(u){ft(u,"leaflet-tile");var g=this.getTileSize();u.style.width=g.x+"px",u.style.height=g.y+"px",u.onselectstart=p,u.onmousemove=p,We.ielt9&&this.options.opacity<1&&hn(u,this.options.opacity)},_addTile:function(u,g){var w=this._getTilePos(u),C=this._tileCoordsToKey(u),P=this.createTile(this._wrapCoords(u),s(this._tileReady,this,u));this._initTile(P),this.createTile.length<2&&z(s(this._tileReady,this,u,null,P)),Qt(P,w),this._tiles[C]={el:P,coords:u,current:!0},g.appendChild(P),this.fire("tileloadstart",{tile:P,coords:u})},_tileReady:function(u,g,w){g&&this.fire("tileerror",{error:g,tile:w,coords:u});var C=this._tileCoordsToKey(u);w=this._tiles[C],w&&(w.loaded=+new Date,this._map._fadeAnimated?(hn(w.el,0),F(this._fadeFrame),this._fadeFrame=z(this._updateOpacity,this)):(w.active=!0,this._pruneTiles()),g||(ft(w.el,"leaflet-tile-loaded"),this.fire("tileload",{tile:w.el,coords:u})),this._noTilesToLoad()&&(this._loading=!1,this.fire("load"),We.ielt9||!this._map._fadeAnimated?z(this._pruneTiles,this):setTimeout(s(this._pruneTiles,this),250)))},_getTilePos:function(u){return u.scaleBy(this.getTileSize()).subtract(this._level.origin)},_wrapCoords:function(u){var g=new ae(this._wrapX?m(u.x,this._wrapX):u.x,this._wrapY?m(u.y,this._wrapY):u.y);return g.z=u.z,g},_pxBoundsToTileRange:function(u){var g=this.getTileSize();return new q(u.min.unscaleBy(g).floor(),u.max.unscaleBy(g).ceil().subtract([1,1]))},_noTilesToLoad:function(){for(var u in this._tiles)if(!this._tiles[u].loaded)return!1;return!0}});function Ip(u){return new ml(u)}var Mo=ml.extend({options:{minZoom:0,maxZoom:18,subdomains:"abc",errorTileUrl:"",zoomOffset:0,tms:!1,zoomReverse:!1,detectRetina:!1,crossOrigin:!1,referrerPolicy:!1},initialize:function(u,g){this._url=u,g=T(this,g),g.detectRetina&&We.retina&&g.maxZoom>0?(g.tileSize=Math.floor(g.tileSize/2),g.zoomReverse?(g.zoomOffset--,g.minZoom=Math.min(g.maxZoom,g.minZoom+1)):(g.zoomOffset++,g.maxZoom=Math.max(g.minZoom,g.maxZoom-1)),g.minZoom=Math.max(0,g.minZoom)):g.zoomReverse?g.minZoom=Math.min(g.maxZoom,g.minZoom):g.maxZoom=Math.max(g.minZoom,g.maxZoom),typeof g.subdomains=="string"&&(g.subdomains=g.subdomains.split("")),this.on("tileunload",this._onTileRemove)},setUrl:function(u,g){return this._url===u&&g===void 0&&(g=!0),this._url=u,g||this.redraw(),this},createTile:function(u,g){var w=document.createElement("img");return lt(w,"load",s(this._tileOnLoad,this,g,w)),lt(w,"error",s(this._tileOnError,this,g,w)),(this.options.crossOrigin||this.options.crossOrigin==="")&&(w.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),typeof this.options.referrerPolicy=="string"&&(w.referrerPolicy=this.options.referrerPolicy),w.alt="",w.src=this.getTileUrl(u),w},getTileUrl:function(u){var g={r:We.retina?"@2x":"",s:this._getSubdomain(u),x:u.x,y:u.y,z:this._getZoomForUrl()};if(this._map&&!this._map.options.crs.infinite){var w=this._globalTileRange.max.y-u.y;this.options.tms&&(g.y=w),g["-y"]=w}return D(this._url,i(g,this.options))},_tileOnLoad:function(u,g){We.ielt9?setTimeout(s(u,this,null,g),0):u(null,g)},_tileOnError:function(u,g,w){var C=this.options.errorTileUrl;C&&g.getAttribute("src")!==C&&(g.src=C),u(w,g)},_onTileRemove:function(u){u.tile.onload=null},_getZoomForUrl:function(){var u=this._tileZoom,g=this.options.maxZoom,w=this.options.zoomReverse,C=this.options.zoomOffset;return w&&(u=g-u),u+C},_getSubdomain:function(u){var g=Math.abs(u.x+u.y)%this.options.subdomains.length;return this.options.subdomains[g]},_abortLoading:function(){var u,g;for(u in this._tiles)if(this._tiles[u].coords.z!==this._tileZoom&&(g=this._tiles[u].el,g.onload=p,g.onerror=p,!g.complete)){g.src=N;var w=this._tiles[u].coords;ht(g),delete this._tiles[u],this.fire("tileabort",{tile:g,coords:w})}},_removeTile:function(u){var g=this._tiles[u];if(g)return g.el.setAttribute("src",N),ml.prototype._removeTile.call(this,u)},_tileReady:function(u,g,w){if(!(!this._map||w&&w.getAttribute("src")===N))return ml.prototype._tileReady.call(this,u,g,w)}});function xi(u,g){return new Mo(u,g)}var wc=Mo.extend({defaultWmsParams:{service:"WMS",request:"GetMap",layers:"",styles:"",format:"image/jpeg",transparent:!1,version:"1.1.1"},options:{crs:null,uppercase:!1},initialize:function(u,g){this._url=u;var w=i({},this.defaultWmsParams);for(var C in g)C in this.options||(w[C]=g[C]);g=T(this,g);var P=g.detectRetina&&We.retina?2:1,U=this.getTileSize();w.width=U.x*P,w.height=U.y*P,this.wmsParams=w},onAdd:function(u){this._crs=this.options.crs||u.options.crs,this._wmsVersion=parseFloat(this.wmsParams.version);var g=this._wmsVersion>=1.3?"crs":"srs";this.wmsParams[g]=this._crs.code,Mo.prototype.onAdd.call(this,u)},getTileUrl:function(u){var g=this._tileCoordsToNwSe(u),w=this._crs,C=K(w.project(g[0]),w.project(g[1])),P=C.min,U=C.max,re=(this._wmsVersion>=1.3&&this._crs===Bf?[P.y,P.x,U.y,U.x]:[P.x,P.y,U.x,U.y]).join(","),ye=Mo.prototype.getTileUrl.call(this,u);return ye+S(this.wmsParams,ye,this.options.uppercase)+(this.options.uppercase?"&BBOX=":"&bbox=")+re},setParams:function(u,g){return i(this.wmsParams,u),g||this.redraw(),this}});function wi(u,g){return new wc(u,g)}Mo.WMS=wc,xi.wms=wi;var Yr=Fi.extend({options:{padding:.1},initialize:function(u){T(this,u),d(this),this._layers=this._layers||{}},onAdd:function(){this._container||(this._initContainer(),ft(this._container,"leaflet-zoom-animated")),this.getPane().appendChild(this._container),this._update(),this.on("update",this._updatePaths,this)},onRemove:function(){this.off("update",this._updatePaths,this),this._destroyContainer()},getEvents:function(){var u={viewreset:this._reset,zoom:this._onZoom,moveend:this._update,zoomend:this._onZoomEnd};return this._zoomAnimated&&(u.zoomanim=this._onAnimZoom),u},_onAnimZoom:function(u){this._updateTransform(u.center,u.zoom)},_onZoom:function(){this._updateTransform(this._map.getCenter(),this._map.getZoom())},_updateTransform:function(u,g){var w=this._map.getZoomScale(g,this._zoom),C=this._map.getSize().multiplyBy(.5+this.options.padding),P=this._map.project(this._center,g),U=C.multiplyBy(-w).add(P).subtract(this._map._getNewPixelOrigin(u,g));We.any3d?Za(this._container,U,w):Qt(this._container,U)},_reset:function(){this._update(),this._updateTransform(this._center,this._zoom);for(var u in this._layers)this._layers[u]._reset()},_onZoomEnd:function(){for(var u in this._layers)this._layers[u]._project()},_updatePaths:function(){for(var u in this._layers)this._layers[u]._update()},_update:function(){var u=this.options.padding,g=this._map.getSize(),w=this._map.containerPointToLayerPoint(g.multiplyBy(-u)).round();this._bounds=new q(w,w.add(g.multiplyBy(1+u*2)).round()),this._center=this._map.getCenter(),this._zoom=this._map.getZoom()}}),Fu=Yr.extend({options:{tolerance:0},getEvents:function(){var u=Yr.prototype.getEvents.call(this);return u.viewprereset=this._onViewPreReset,u},_onViewPreReset:function(){this._postponeUpdatePaths=!0},onAdd:function(){Yr.prototype.onAdd.call(this),this._draw()},_initContainer:function(){var u=this._container=document.createElement("canvas");lt(u,"mousemove",this._onMouseMove,this),lt(u,"click dblclick mousedown mouseup contextmenu",this._onClick,this),lt(u,"mouseout",this._handleMouseOut,this),u._leaflet_disable_events=!0,this._ctx=u.getContext("2d")},_destroyContainer:function(){F(this._redrawRequest),delete this._ctx,ht(this._container),Ht(this._container),delete this._container},_updatePaths:function(){if(!this._postponeUpdatePaths){var u;this._redrawBounds=null;for(var g in this._layers)u=this._layers[g],u._update();this._redraw()}},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){Yr.prototype._update.call(this);var u=this._bounds,g=this._container,w=u.getSize(),C=We.retina?2:1;Qt(g,u.min),g.width=C*w.x,g.height=C*w.y,g.style.width=w.x+"px",g.style.height=w.y+"px",We.retina&&this._ctx.scale(2,2),this._ctx.translate(-u.min.x,-u.min.y),this.fire("update")}},_reset:function(){Yr.prototype._reset.call(this),this._postponeUpdatePaths&&(this._postponeUpdatePaths=!1,this._updatePaths())},_initPath:function(u){this._updateDashArray(u),this._layers[d(u)]=u;var g=u._order={layer:u,prev:this._drawLast,next:null};this._drawLast&&(this._drawLast.next=g),this._drawLast=g,this._drawFirst=this._drawFirst||this._drawLast},_addPath:function(u){this._requestRedraw(u)},_removePath:function(u){var g=u._order,w=g.next,C=g.prev;w?w.prev=C:this._drawLast=C,C?C.next=w:this._drawFirst=w,delete u._order,delete this._layers[d(u)],this._requestRedraw(u)},_updatePath:function(u){this._extendRedrawBounds(u),u._project(),u._update(),this._requestRedraw(u)},_updateStyle:function(u){this._updateDashArray(u),this._requestRedraw(u)},_updateDashArray:function(u){if(typeof u.options.dashArray=="string"){var g=u.options.dashArray.split(/[, ]+/),w=[],C,P;for(P=0;P<g.length;P++){if(C=Number(g[P]),isNaN(C))return;w.push(C)}u.options._dashArray=w}else u.options._dashArray=u.options.dashArray},_requestRedraw:function(u){this._map&&(this._extendRedrawBounds(u),this._redrawRequest=this._redrawRequest||z(this._redraw,this))},_extendRedrawBounds:function(u){if(u._pxBounds){var g=(u.options.weight||0)+1;this._redrawBounds=this._redrawBounds||new q,this._redrawBounds.extend(u._pxBounds.min.subtract([g,g])),this._redrawBounds.extend(u._pxBounds.max.add([g,g]))}},_redraw:function(){this._redrawRequest=null,this._redrawBounds&&(this._redrawBounds.min._floor(),this._redrawBounds.max._ceil()),this._clear(),this._draw(),this._redrawBounds=null},_clear:function(){var u=this._redrawBounds;if(u){var g=u.getSize();this._ctx.clearRect(u.min.x,u.min.y,g.x,g.y)}else this._ctx.save(),this._ctx.setTransform(1,0,0,1,0,0),this._ctx.clearRect(0,0,this._container.width,this._container.height),this._ctx.restore()},_draw:function(){var u,g=this._redrawBounds;if(this._ctx.save(),g){var w=g.getSize();this._ctx.beginPath(),this._ctx.rect(g.min.x,g.min.y,w.x,w.y),this._ctx.clip()}this._drawing=!0;for(var C=this._drawFirst;C;C=C.next)u=C.layer,(!g||u._pxBounds&&u._pxBounds.intersects(g))&&u._updatePath();this._drawing=!1,this._ctx.restore()},_updatePoly:function(u,g){if(this._drawing){var w,C,P,U,re=u._parts,ye=re.length,Ee=this._ctx;if(ye){for(Ee.beginPath(),w=0;w<ye;w++){for(C=0,P=re[w].length;C<P;C++)U=re[w][C],Ee[C?"lineTo":"moveTo"](U.x,U.y);g&&Ee.closePath()}this._fillStroke(Ee,u)}}},_updateCircle:function(u){if(!(!this._drawing||u._empty())){var g=u._point,w=this._ctx,C=Math.max(Math.round(u._radius),1),P=(Math.max(Math.round(u._radiusY),1)||C)/C;P!==1&&(w.save(),w.scale(1,P)),w.beginPath(),w.arc(g.x,g.y/P,C,0,Math.PI*2,!1),P!==1&&w.restore(),this._fillStroke(w,u)}},_fillStroke:function(u,g){var w=g.options;w.fill&&(u.globalAlpha=w.fillOpacity,u.fillStyle=w.fillColor||w.color,u.fill(w.fillRule||"evenodd")),w.stroke&&w.weight!==0&&(u.setLineDash&&u.setLineDash(g.options&&g.options._dashArray||[]),u.globalAlpha=w.opacity,u.lineWidth=w.weight,u.strokeStyle=w.color,u.lineCap=w.lineCap,u.lineJoin=w.lineJoin,u.stroke())},_onClick:function(u){for(var g=this._map.mouseEventToLayerPoint(u),w,C,P=this._drawFirst;P;P=P.next)w=P.layer,w.options.interactive&&w._containsPoint(g)&&(!(u.type==="click"||u.type==="preclick")||!this._map._draggableMoved(w))&&(C=w);this._fireEvent(C?[C]:!1,u)},_onMouseMove:function(u){if(!(!this._map||this._map.dragging.moving()||this._map._animatingZoom)){var g=this._map.mouseEventToLayerPoint(u);this._handleMouseHover(u,g)}},_handleMouseOut:function(u){var g=this._hoveredLayer;g&&(nn(this._container,"leaflet-interactive"),this._fireEvent([g],u,"mouseout"),this._hoveredLayer=null,this._mouseHoverThrottled=!1)},_handleMouseHover:function(u,g){if(!this._mouseHoverThrottled){for(var w,C,P=this._drawFirst;P;P=P.next)w=P.layer,w.options.interactive&&w._containsPoint(g)&&(C=w);C!==this._hoveredLayer&&(this._handleMouseOut(u),C&&(ft(this._container,"leaflet-interactive"),this._fireEvent([C],u,"mouseover"),this._hoveredLayer=C)),this._fireEvent(this._hoveredLayer?[this._hoveredLayer]:!1,u),this._mouseHoverThrottled=!0,setTimeout(s(function(){this._mouseHoverThrottled=!1},this),32)}},_fireEvent:function(u,g,w){this._map._fireDOMEvent(g,w||g.type,u)},_bringToFront:function(u){var g=u._order;if(g){var w=g.next,C=g.prev;if(w)w.prev=C;else return;C?C.next=w:w&&(this._drawFirst=w),g.prev=this._drawLast,this._drawLast.next=g,g.next=null,this._drawLast=g,this._requestRedraw(u)}},_bringToBack:function(u){var g=u._order;if(g){var w=g.next,C=g.prev;if(C)C.next=w;else return;w?w.prev=C:C&&(this._drawLast=C),g.prev=null,g.next=this._drawFirst,this._drawFirst.prev=g,this._drawFirst=g,this._requestRedraw(u)}}});function Sc(u){return We.canvas?new Fu(u):null}var Do=(function(){try{return document.namespaces.add("lvml","urn:schemas-microsoft-com:vml"),function(u){return document.createElement("<lvml:"+u+' class="lvml">')}}catch{}return function(u){return document.createElement("<"+u+' xmlns="urn:schemas-microsoft.com:vml" class="lvml">')}})(),zf={_initContainer:function(){this._container=ut("div","leaflet-vml-container")},_update:function(){this._map._animatingZoom||(Yr.prototype._update.call(this),this.fire("update"))},_initPath:function(u){var g=u._container=Do("shape");ft(g,"leaflet-vml-shape "+(this.options.className||"")),g.coordsize="1 1",u._path=Do("path"),g.appendChild(u._path),this._updateStyle(u),this._layers[d(u)]=u},_addPath:function(u){var g=u._container;this._container.appendChild(g),u.options.interactive&&u.addInteractiveTarget(g)},_removePath:function(u){var g=u._container;ht(g),u.removeInteractiveTarget(g),delete this._layers[d(u)]},_updateStyle:function(u){var g=u._stroke,w=u._fill,C=u.options,P=u._container;P.stroked=!!C.stroke,P.filled=!!C.fill,C.stroke?(g||(g=u._stroke=Do("stroke")),P.appendChild(g),g.weight=C.weight+"px",g.color=C.color,g.opacity=C.opacity,C.dashArray?g.dashStyle=O(C.dashArray)?C.dashArray.join(" "):C.dashArray.replace(/( *, *)/g," "):g.dashStyle="",g.endcap=C.lineCap.replace("butt","flat"),g.joinstyle=C.lineJoin):g&&(P.removeChild(g),u._stroke=null),C.fill?(w||(w=u._fill=Do("fill")),P.appendChild(w),w.color=C.fillColor||C.color,w.opacity=C.fillOpacity):w&&(P.removeChild(w),u._fill=null)},_updateCircle:function(u){var g=u._point.round(),w=Math.round(u._radius),C=Math.round(u._radiusY||w);this._setPath(u,u._empty()?"M0 0":"AL "+g.x+","+g.y+" "+w+","+C+" 0,"+65535*360)},_setPath:function(u,g){u._path.v=g},_bringToFront:function(u){Rn(u._container)},_bringToBack:function(u){ga(u._container)}},Ea=We.vml?Do:Te,pl=Yr.extend({_initContainer:function(){this._container=Ea("svg"),this._container.setAttribute("pointer-events","none"),this._rootGroup=Ea("g"),this._container.appendChild(this._rootGroup)},_destroyContainer:function(){ht(this._container),Ht(this._container),delete this._container,delete this._rootGroup,delete this._svgSize},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){Yr.prototype._update.call(this);var u=this._bounds,g=u.getSize(),w=this._container;(!this._svgSize||!this._svgSize.equals(g))&&(this._svgSize=g,w.setAttribute("width",g.x),w.setAttribute("height",g.y)),Qt(w,u.min),w.setAttribute("viewBox",[u.min.x,u.min.y,g.x,g.y].join(" ")),this.fire("update")}},_initPath:function(u){var g=u._path=Ea("path");u.options.className&&ft(g,u.options.className),u.options.interactive&&ft(g,"leaflet-interactive"),this._updateStyle(u),this._layers[d(u)]=u},_addPath:function(u){this._rootGroup||this._initContainer(),this._rootGroup.appendChild(u._path),u.addInteractiveTarget(u._path)},_removePath:function(u){ht(u._path),u.removeInteractiveTarget(u._path),delete this._layers[d(u)]},_updatePath:function(u){u._project(),u._update()},_updateStyle:function(u){var g=u._path,w=u.options;g&&(w.stroke?(g.setAttribute("stroke",w.color),g.setAttribute("stroke-opacity",w.opacity),g.setAttribute("stroke-width",w.weight),g.setAttribute("stroke-linecap",w.lineCap),g.setAttribute("stroke-linejoin",w.lineJoin),w.dashArray?g.setAttribute("stroke-dasharray",w.dashArray):g.removeAttribute("stroke-dasharray"),w.dashOffset?g.setAttribute("stroke-dashoffset",w.dashOffset):g.removeAttribute("stroke-dashoffset")):g.setAttribute("stroke","none"),w.fill?(g.setAttribute("fill",w.fillColor||w.color),g.setAttribute("fill-opacity",w.fillOpacity),g.setAttribute("fill-rule",w.fillRule||"evenodd")):g.setAttribute("fill","none"))},_updatePoly:function(u,g){this._setPath(u,Me(u._parts,g))},_updateCircle:function(u){var g=u._point,w=Math.max(Math.round(u._radius),1),C=Math.max(Math.round(u._radiusY),1)||w,P="a"+w+","+C+" 0 1,0 ",U=u._empty()?"M0 0":"M"+(g.x-w)+","+g.y+P+w*2+",0 "+P+-w*2+",0 ";this._setPath(u,U)},_setPath:function(u,g){u._path.setAttribute("d",g)},_bringToFront:function(u){Rn(u._path)},_bringToBack:function(u){ga(u._path)}});We.vml&&pl.include(zf);function Ec(u){return We.svg||We.vml?new pl(u):null}kt.include({getRenderer:function(u){var g=u.options.renderer||this._getPaneRenderer(u.options.pane)||this.options.renderer||this._renderer;return g||(g=this._renderer=this._createRenderer()),this.hasLayer(g)||this.addLayer(g),g},_getPaneRenderer:function(u){if(u==="overlayPane"||u===void 0)return!1;var g=this._paneRenderers[u];return g===void 0&&(g=this._createRenderer({pane:u}),this._paneRenderers[u]=g),g},_createRenderer:function(u){return this.options.preferCanvas&&Sc(u)||Ec(u)}});var ts=ul.extend({initialize:function(u,g){ul.prototype.initialize.call(this,this._boundsToLatLngs(u),g)},setBounds:function(u){return this.setLatLngs(this._boundsToLatLngs(u))},_boundsToLatLngs:function(u){return u=ie(u),[u.getSouthWest(),u.getNorthWest(),u.getNorthEast(),u.getSouthEast()]}});function n_(u,g){return new ts(u,g)}pl.create=Ea,pl.pointsToPath=Me,eo.geometryToLayer=gr,eo.coordsToLatLng=$u,eo.coordsToLatLngs=vc,eo.latLngToCoords=Bu,eo.latLngsToCoords=yc,eo.getFeature=jo,eo.asFeature=zu,kt.mergeOptions({boxZoom:!0});var Kr=_a.extend({initialize:function(u){this._map=u,this._container=u._container,this._pane=u._panes.overlayPane,this._resetStateTimeout=0,u.on("unload",this._destroy,this)},addHooks:function(){lt(this._container,"mousedown",this._onMouseDown,this)},removeHooks:function(){Ht(this._container,"mousedown",this._onMouseDown,this)},moved:function(){return this._moved},_destroy:function(){ht(this._pane),delete this._pane},_resetState:function(){this._resetStateTimeout=0,this._moved=!1},_clearDeferredResetState:function(){this._resetStateTimeout!==0&&(clearTimeout(this._resetStateTimeout),this._resetStateTimeout=0)},_onMouseDown:function(u){if(!u.shiftKey||u.which!==1&&u.button!==1)return!1;this._clearDeferredResetState(),this._resetState(),tl(),ju(),this._startPoint=this._map.mouseEventToContainerPoint(u),lt(document,{contextmenu:ko,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseMove:function(u){this._moved||(this._moved=!0,this._box=ut("div","leaflet-zoom-box",this._container),ft(this._container,"leaflet-crosshair"),this._map.fire("boxzoomstart")),this._point=this._map.mouseEventToContainerPoint(u);var g=new q(this._point,this._startPoint),w=g.getSize();Qt(this._box,g.min),this._box.style.width=w.x+"px",this._box.style.height=w.y+"px"},_finish:function(){this._moved&&(ht(this._box),nn(this._container,"leaflet-crosshair")),ya(),oc(),Ht(document,{contextmenu:ko,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseUp:function(u){if(!(u.which!==1&&u.button!==1)&&(this._finish(),!!this._moved)){this._clearDeferredResetState(),this._resetStateTimeout=setTimeout(s(this._resetState,this),0);var g=new X(this._map.containerPointToLatLng(this._startPoint),this._map.containerPointToLatLng(this._point));this._map.fitBounds(g).fire("boxzoomend",{boxZoomBounds:g})}},_onKeyDown:function(u){u.keyCode===27&&(this._finish(),this._clearDeferredResetState(),this._resetState())}});kt.addInitHook("addHandler","boxZoom",Kr),kt.mergeOptions({doubleClickZoom:!0});var Gu=_a.extend({addHooks:function(){this._map.on("dblclick",this._onDoubleClick,this)},removeHooks:function(){this._map.off("dblclick",this._onDoubleClick,this)},_onDoubleClick:function(u){var g=this._map,w=g.getZoom(),C=g.options.zoomDelta,P=u.originalEvent.shiftKey?w-C:w+C;g.options.doubleClickZoom==="center"?g.setZoom(P):g.setZoomAround(u.containerPoint,P)}});kt.addInitHook("addHandler","doubleClickZoom",Gu),kt.mergeOptions({dragging:!0,inertia:!0,inertiaDeceleration:3400,inertiaMaxSpeed:1/0,easeLinearity:.2,worldCopyJump:!1,maxBoundsViscosity:0});var Aa=_a.extend({addHooks:function(){if(!this._draggable){var u=this._map;this._draggable=new Oo(u._mapPane,u._container),this._draggable.on({dragstart:this._onDragStart,drag:this._onDrag,dragend:this._onDragEnd},this),this._draggable.on("predrag",this._onPreDragLimit,this),u.options.worldCopyJump&&(this._draggable.on("predrag",this._onPreDragWrap,this),u.on("zoomend",this._onZoomEnd,this),u.whenReady(this._onZoomEnd,this))}ft(this._map._container,"leaflet-grab leaflet-touch-drag"),this._draggable.enable(),this._positions=[],this._times=[]},removeHooks:function(){nn(this._map._container,"leaflet-grab"),nn(this._map._container,"leaflet-touch-drag"),this._draggable.disable()},moved:function(){return this._draggable&&this._draggable._moved},moving:function(){return this._draggable&&this._draggable._moving},_onDragStart:function(){var u=this._map;if(u._stop(),this._map.options.maxBounds&&this._map.options.maxBoundsViscosity){var g=ie(this._map.options.maxBounds);this._offsetLimit=K(this._map.latLngToContainerPoint(g.getNorthWest()).multiplyBy(-1),this._map.latLngToContainerPoint(g.getSouthEast()).multiplyBy(-1).add(this._map.getSize())),this._viscosity=Math.min(1,Math.max(0,this._map.options.maxBoundsViscosity))}else this._offsetLimit=null;u.fire("movestart").fire("dragstart"),u.options.inertia&&(this._positions=[],this._times=[])},_onDrag:function(u){if(this._map.options.inertia){var g=this._lastTime=+new Date,w=this._lastPos=this._draggable._absPos||this._draggable._newPos;this._positions.push(w),this._times.push(g),this._prunePositions(g)}this._map.fire("move",u).fire("drag",u)},_prunePositions:function(u){for(;this._positions.length>1&&u-this._times[0]>50;)this._positions.shift(),this._times.shift()},_onZoomEnd:function(){var u=this._map.getSize().divideBy(2),g=this._map.latLngToLayerPoint([0,0]);this._initialWorldOffset=g.subtract(u).x,this._worldWidth=this._map.getPixelWorldBounds().getSize().x},_viscousLimit:function(u,g){return u-(u-g)*this._viscosity},_onPreDragLimit:function(){if(!(!this._viscosity||!this._offsetLimit)){var u=this._draggable._newPos.subtract(this._draggable._startPos),g=this._offsetLimit;u.x<g.min.x&&(u.x=this._viscousLimit(u.x,g.min.x)),u.y<g.min.y&&(u.y=this._viscousLimit(u.y,g.min.y)),u.x>g.max.x&&(u.x=this._viscousLimit(u.x,g.max.x)),u.y>g.max.y&&(u.y=this._viscousLimit(u.y,g.max.y)),this._draggable._newPos=this._draggable._startPos.add(u)}},_onPreDragWrap:function(){var u=this._worldWidth,g=Math.round(u/2),w=this._initialWorldOffset,C=this._draggable._newPos.x,P=(C-g+w)%u+g-w,U=(C+g+w)%u-g-w,re=Math.abs(P+w)<Math.abs(U+w)?P:U;this._draggable._absPos=this._draggable._newPos.clone(),this._draggable._newPos.x=re},_onDragEnd:function(u){var g=this._map,w=g.options,C=!w.inertia||u.noInertia||this._times.length<2;if(g.fire("dragend",u),C)g.fire("moveend");else{this._prunePositions(+new Date);var P=this._lastPos.subtract(this._positions[0]),U=(this._lastTime-this._times[0])/1e3,re=w.easeLinearity,ye=P.multiplyBy(re/U),Ee=ye.distanceTo([0,0]),Pe=Math.min(w.inertiaMaxSpeed,Ee),Ge=ye.multiplyBy(Pe/Ee),et=Pe/(w.inertiaDeceleration*re),bt=Ge.multiplyBy(-et/2).round();!bt.x&&!bt.y?g.fire("moveend"):(bt=g._limitOffset(bt,g.options.maxBounds),z(function(){g.panBy(bt,{duration:et,easeLinearity:re,noMoveStart:!0,animate:!0})}))}}});kt.addInitHook("addHandler","dragging",Aa),kt.mergeOptions({keyboard:!0,keyboardPanDelta:80});var Uf=_a.extend({keyCodes:{left:[37],right:[39],down:[40],up:[38],zoomIn:[187,107,61,171],zoomOut:[189,109,54,173]},initialize:function(u){this._map=u,this._setPanDelta(u.options.keyboardPanDelta),this._setZoomDelta(u.options.zoomDelta)},addHooks:function(){var u=this._map._container;u.tabIndex<=0&&(u.tabIndex="0"),lt(u,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.on({focus:this._addHooks,blur:this._removeHooks},this)},removeHooks:function(){this._removeHooks(),Ht(this._map._container,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.off({focus:this._addHooks,blur:this._removeHooks},this)},_onMouseDown:function(){if(!this._focused){var u=document.body,g=document.documentElement,w=u.scrollTop||g.scrollTop,C=u.scrollLeft||g.scrollLeft;this._map._container.focus(),window.scrollTo(C,w)}},_onFocus:function(){this._focused=!0,this._map.fire("focus")},_onBlur:function(){this._focused=!1,this._map.fire("blur")},_setPanDelta:function(u){var g=this._panKeys={},w=this.keyCodes,C,P;for(C=0,P=w.left.length;C<P;C++)g[w.left[C]]=[-1*u,0];for(C=0,P=w.right.length;C<P;C++)g[w.right[C]]=[u,0];for(C=0,P=w.down.length;C<P;C++)g[w.down[C]]=[0,u];for(C=0,P=w.up.length;C<P;C++)g[w.up[C]]=[0,-1*u]},_setZoomDelta:function(u){var g=this._zoomKeys={},w=this.keyCodes,C,P;for(C=0,P=w.zoomIn.length;C<P;C++)g[w.zoomIn[C]]=u;for(C=0,P=w.zoomOut.length;C<P;C++)g[w.zoomOut[C]]=-u},_addHooks:function(){lt(document,"keydown",this._onKeyDown,this)},_removeHooks:function(){Ht(document,"keydown",this._onKeyDown,this)},_onKeyDown:function(u){if(!(u.altKey||u.ctrlKey||u.metaKey)){var g=u.keyCode,w=this._map,C;if(g in this._panKeys){if(!w._panAnim||!w._panAnim._inProgress)if(C=this._panKeys[g],u.shiftKey&&(C=ne(C).multiplyBy(3)),w.options.maxBounds&&(C=w._limitOffset(ne(C),w.options.maxBounds)),w.options.worldCopyJump){var P=w.wrapLatLng(w.unproject(w.project(w.getCenter()).add(C)));w.panTo(P)}else w.panBy(C)}else if(g in this._zoomKeys)w.setZoom(w.getZoom()+(u.shiftKey?3:1)*this._zoomKeys[g]);else if(g===27&&w._popup&&w._popup.options.closeOnEscapeKey)w.closePopup();else return;ko(u)}}});kt.addInitHook("addHandler","keyboard",Uf),kt.mergeOptions({scrollWheelZoom:!0,wheelDebounceTime:40,wheelPxPerZoomLevel:60});var Ac=_a.extend({addHooks:function(){lt(this._map._container,"wheel",this._onWheelScroll,this),this._delta=0},removeHooks:function(){Ht(this._map._container,"wheel",this._onWheelScroll,this)},_onWheelScroll:function(u){var g=Nr(u),w=this._map.options.wheelDebounceTime;this._delta+=g,this._lastMousePos=this._map.mouseEventToContainerPoint(u),this._startTime||(this._startTime=+new Date);var C=Math.max(w-(+new Date-this._startTime),0);clearTimeout(this._timer),this._timer=setTimeout(s(this._performZoom,this),C),ko(u)},_performZoom:function(){var u=this._map,g=u.getZoom(),w=this._map.options.zoomSnap||0;u._stop();var C=this._delta/(this._map.options.wheelPxPerZoomLevel*4),P=4*Math.log(2/(1+Math.exp(-Math.abs(C))))/Math.LN2,U=w?Math.ceil(P/w)*w:P,re=u._limitZoom(g+(this._delta>0?U:-U))-g;this._delta=0,this._startTime=null,re&&(u.options.scrollWheelZoom==="center"?u.setZoom(g+re):u.setZoomAround(this._lastMousePos,g+re))}});kt.addInitHook("addHandler","scrollWheelZoom",Ac);var ns=600;kt.mergeOptions({tapHold:We.touchNative&&We.safari&&We.mobile,tapTolerance:15});var qu=_a.extend({addHooks:function(){lt(this._map._container,"touchstart",this._onDown,this)},removeHooks:function(){Ht(this._map._container,"touchstart",this._onDown,this)},_onDown:function(u){if(clearTimeout(this._holdTimeout),u.touches.length===1){var g=u.touches[0];this._startPos=this._newPos=new ae(g.clientX,g.clientY),this._holdTimeout=setTimeout(s(function(){this._cancel(),this._isTapValid()&&(lt(document,"touchend",Ln),lt(document,"touchend touchcancel",this._cancelClickPrevent),this._simulateEvent("contextmenu",g))},this),ns),lt(document,"touchend touchcancel contextmenu",this._cancel,this),lt(document,"touchmove",this._onMove,this)}},_cancelClickPrevent:function u(){Ht(document,"touchend",Ln),Ht(document,"touchend touchcancel",u)},_cancel:function(){clearTimeout(this._holdTimeout),Ht(document,"touchend touchcancel contextmenu",this._cancel,this),Ht(document,"touchmove",this._onMove,this)},_onMove:function(u){var g=u.touches[0];this._newPos=new ae(g.clientX,g.clientY)},_isTapValid:function(){return this._newPos.distanceTo(this._startPos)<=this._map.options.tapTolerance},_simulateEvent:function(u,g){var w=new MouseEvent(u,{bubbles:!0,cancelable:!0,view:window,screenX:g.screenX,screenY:g.screenY,clientX:g.clientX,clientY:g.clientY});w._simulated=!0,g.target.dispatchEvent(w)}});kt.addInitHook("addHandler","tapHold",qu),kt.mergeOptions({touchZoom:We.touch,bounceAtZoomLimits:!0});var Hf=_a.extend({addHooks:function(){ft(this._map._container,"leaflet-touch-zoom"),lt(this._map._container,"touchstart",this._onTouchStart,this)},removeHooks:function(){nn(this._map._container,"leaflet-touch-zoom"),Ht(this._map._container,"touchstart",this._onTouchStart,this)},_onTouchStart:function(u){var g=this._map;if(!(!u.touches||u.touches.length!==2||g._animatingZoom||this._zooming)){var w=g.mouseEventToContainerPoint(u.touches[0]),C=g.mouseEventToContainerPoint(u.touches[1]);this._centerPoint=g.getSize()._divideBy(2),this._startLatLng=g.containerPointToLatLng(this._centerPoint),g.options.touchZoom!=="center"&&(this._pinchStartLatLng=g.containerPointToLatLng(w.add(C)._divideBy(2))),this._startDist=w.distanceTo(C),this._startZoom=g.getZoom(),this._moved=!1,this._zooming=!0,g._stop(),lt(document,"touchmove",this._onTouchMove,this),lt(document,"touchend touchcancel",this._onTouchEnd,this),Ln(u)}},_onTouchMove:function(u){if(!(!u.touches||u.touches.length!==2||!this._zooming)){var g=this._map,w=g.mouseEventToContainerPoint(u.touches[0]),C=g.mouseEventToContainerPoint(u.touches[1]),P=w.distanceTo(C)/this._startDist;if(this._zoom=g.getScaleZoom(P,this._startZoom),!g.options.bounceAtZoomLimits&&(this._zoom<g.getMinZoom()&&P<1||this._zoom>g.getMaxZoom()&&P>1)&&(this._zoom=g._limitZoom(this._zoom)),g.options.touchZoom==="center"){if(this._center=this._startLatLng,P===1)return}else{var U=w._add(C)._divideBy(2)._subtract(this._centerPoint);if(P===1&&U.x===0&&U.y===0)return;this._center=g.unproject(g.project(this._pinchStartLatLng,this._zoom).subtract(U),this._zoom)}this._moved||(g._moveStart(!0,!1),this._moved=!0),F(this._animRequest);var re=s(g._move,g,this._center,this._zoom,{pinch:!0,round:!1},void 0);this._animRequest=z(re,this,!0),Ln(u)}},_onTouchEnd:function(){if(!this._moved||!this._zooming){this._zooming=!1;return}this._zooming=!1,F(this._animRequest),Ht(document,"touchmove",this._onTouchMove,this),Ht(document,"touchend touchcancel",this._onTouchEnd,this),this._map.options.zoomAnimation?this._map._animateZoom(this._center,this._map._limitZoom(this._zoom),!0,this._map.options.zoomSnap):this._map._resetView(this._center,this._map._limitZoom(this._zoom))}});kt.addInitHook("addHandler","touchZoom",Hf),kt.BoxZoom=Kr,kt.DoubleClickZoom=Gu,kt.Drag=Aa,kt.Keyboard=Uf,kt.ScrollWheelZoom=Ac,kt.TapHold=qu,kt.TouchZoom=Hf,n.Bounds=q,n.Browser=We,n.CRS=de,n.Canvas=Fu,n.Circle=Iu,n.CircleMarker=cl,n.Class=ee,n.Control=ii,n.DivIcon=Lp,n.DivOverlay=vr,n.DomEvent=Mu,n.DomUtil=il,n.Draggable=Oo,n.Evented=le,n.FeatureGroup=xa,n.GeoJSON=eo,n.GridLayer=ml,n.Handler=_a,n.Icon=wa,n.ImageOverlay=fl,n.LatLng=Z,n.LatLngBounds=X,n.Layer=Fi,n.LayerGroup=ll,n.LineUtil=Zb,n.Map=kt,n.Marker=gc,n.Mixin=Yb,n.Path=Sa,n.Point=ae,n.PolyUtil=If,n.Polygon=ul,n.Polyline=Qa,n.Popup=_c,n.PosAnimation=al,n.Projection=kp,n.Rectangle=ts,n.Renderer=Yr,n.SVG=pl,n.SVGOverlay=Hu,n.TileLayer=Mo,n.Tooltip=xc,n.Transformation=xe,n.Util=Q,n.VideoOverlay=Co,n.bind=s,n.bounds=K,n.canvas=Sc,n.circle=Mp,n.circleMarker=Cp,n.control=Ja,n.divIcon=t_,n.extend=i,n.featureGroup=jp,n.geoJSON=Uu,n.geoJson=bc,n.gridLayer=Ip,n.icon=hc,n.imageOverlay=Dp,n.latLng=W,n.latLngBounds=ie,n.layerGroup=Xb,n.map=Cf,n.marker=Np,n.point=ne,n.polygon=Qb,n.polyline=Jb,n.popup=Rp,n.rectangle=n_,n.setOptions=T,n.stamp=d,n.svg=Ec,n.svgOverlay=Pp,n.tileLayer=xi,n.tooltip=e_,n.transformation=ce,n.version=r,n.videoOverlay=hl;var Ff=window.L;n.noConflict=function(){return window.L=Ff,this},window.L=n}))})(Yh,Yh.exports)),Yh.exports}var iK=rK();const Zx=Li(iK),Yg=e=>e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#39;");function Bc(e){const t=document.getElementById(e);if(!t)throw new Error(`#${e} not found`);return t}function aK(e){const{buttonId:t,buttonInputId:n,modalId:r,closeMapId:i,mapCloseBtnId:a,searchBoxId:s,suggestionsId:c,mapId:d}=e.ids,f=e.initialCenter??{lat:37.5665,lon:126.978},m=Bc(n),p=Bc(t),y=Bc(r),b=Bc(a),x=Bc(s),T=Bc(c),S=i?Bc(i):null;let j=null,D=null,O=null;const M=F=>F.code==="Space"||F.key===" "||F.key==="Spacebar"||F.key==="Space",N=F=>{M(F)&&document.activeElement!==x&&(F.preventDefault(),F.stopPropagation(),x.focus())},R=()=>{y.style.display="flex",j?setTimeout(()=>j?.invalidateSize(),200):setTimeout(()=>{j=Zx.map(d,{keyboard:!1}).setView([f.lat,f.lon],11),Zx.tileLayer("https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",{attribution:" OpenStreetMap"}).addTo(j),j.invalidateSize()},0),y.addEventListener("keydown",N,!0),y.addEventListener("keyup",N,!0),x.focus()},$=()=>{y.style.display="none",x.value="",T.innerHTML="",O&&(window.clearTimeout(O),O=null),y.removeEventListener("keydown",N,!0),y.removeEventListener("keyup",N,!0)},B=F=>{const Q=F.dataset.name??"",ee=Number(F.dataset.lat??""),be=Number(F.dataset.lon??"");!Number.isFinite(ee)||!Number.isFinite(be)||!j||(D?D.setLatLng([ee,be]):D=Zx.marker([ee,be]).addTo(j),j.flyTo([ee,be],14,{duration:.5}),m.value=Q,m.dataset.lat=String(ee),m.dataset.lon=String(be),e.onSelected?.({name:Q,lat:ee,lon:be}),T.innerHTML="",$())},H=()=>{O&&window.clearTimeout(O);const F=x.value.trim();if(!F){T.innerHTML="";return}O=window.setTimeout(async()=>{try{const Q="https://nominatim.openstreetmap.org/search?format=jsonv2&limit=12&accept-language=ko&addressdetails=1&dedupe=1&email=unique950318@gmail.com&q="+encodeURIComponent(F),ee=await fetch(Q,{headers:{Accept:"application/json"}});if(!ee.ok)throw new Error(`HTTP ${ee.status}`);const be=await ee.json();if(!Array.isArray(be)||be.length===0){T.innerHTML='<li style="padding:8px"> </li>';return}const J=be.slice(0,12).map((le,ae)=>{const me=le.display_name.split(",").slice(0,3).map(K=>K.trim()).join("  "),ne="padding:8px;cursor:pointer;outline:none;",q=ae===0?"background-color:#1f2937;border-radius:4px;":"";return`<li
                    role="option"
                    data-name="${Yg(me)}"
                    data-lat="${Yg(le.lat)}"
                    data-lon="${Yg(le.lon)}"
                    data-active="${ae===0?"1":"0"}"
                    style="${ne}${q}"
                  >${Yg(me)}</li>`}).join("");T.innerHTML=J}catch(Q){console.error(Q),T.innerHTML='<li style="padding:8px;color:#b91c1c"> </li>'}},250)},V=F=>{const Q=F.target;Q.tagName==="LI"&&B(Q)},z=F=>{if(F.key==="Enter"){const Q=T.querySelector('li[data-active="1"]')??T.querySelector("li");Q&&B(Q)}};return p.addEventListener("click",R),b.addEventListener("click",$),S&&S.addEventListener("click",$),x.addEventListener("input",H),x.addEventListener("keydown",z),T.addEventListener("click",V),()=>{p.removeEventListener("click",R),b.removeEventListener("click",$),S&&S.removeEventListener("click",$),x.removeEventListener("input",H),x.removeEventListener("keydown",z),T.removeEventListener("click",V),y.removeEventListener("keydown",N,!0),y.removeEventListener("keyup",N,!0),O&&(window.clearTimeout(O),O=null),j&&(j.remove(),j=null)}}function yd(){return document.getElementById("suggestions")}function Q0(e){const t=Array.from(e.querySelectorAll('li, [role="option"]'));return t.forEach((n,r)=>{n.getAttribute("role")||n.setAttribute("role","option"),n.setAttribute("aria-selected",n===document.activeElement?"true":"false"),n.tabIndex=-1,n.id||(n.id=`suggestion-item-${r}`)}),t}function Xx(e,t){const n=Q0(e);if(n.length===0)return;const r=n.length;let i=t;i<0&&(i=r-1),i>=r&&(i=0),n.forEach(s=>{s.tabIndex=-1,s.setAttribute("aria-selected","false")});const a=n[i];a.tabIndex=0,a.setAttribute("aria-selected","true"),a.focus()}function D$({onSelect:e,placeholderText:t="",buttonStyle:n,value:r}){const[i,a]=A.useState(t),[s,c]=A.useState(!1),[d,f]=A.useState(r??""),m=A.useRef(null),p=A.useRef(null),y=A.useRef(null),b=A.useRef(null);return A.useEffect(()=>{r!==void 0&&f(r)},[r]),A.useEffect(()=>{if(!s)return;const x=aK({ids:{buttonInputId:"inputBirthPlace",buttonId:"inputBirthPlaceBtn",modalId:"mapModal",closeMapId:"closeMap",mapCloseBtnId:"mapCloseBtn",searchBoxId:"searchBox",suggestionsId:"suggestions",mapId:"map"},onSelected:H=>{a(""),f(H.name),m.current&&(m.current.value=H.name),p.current&&(p.current.value=String(H.lat)),y.current&&(y.current.value=String(H.lon)),e?.(H),c(!1)}}),T=document.getElementById("inputBirthPlaceBtn");T&&T.dispatchEvent(new MouseEvent("click",{bubbles:!0}));const S=document.getElementById("mapModal"),j=document.getElementById("searchBox"),D=yd();setTimeout(()=>j?.focus(),0);const O='button, [href], input:not([type="hidden"]), select, textarea, [tabindex]:not([tabindex="-1"])',M=H=>{if(H.key==="Escape"){H.preventDefault(),c(!1);return}if(H.key!=="Tab")return;const V=yd();if(V&&V.contains(document.activeElement))return;const z=Array.from(S.querySelectorAll(O)).filter(be=>!be.hasAttribute("disabled")&&be.tabIndex!==-1);if(z.length===0)return;const F=z[0],Q=z[z.length-1],ee=document.activeElement;H.shiftKey?(ee===F||!S.contains(ee))&&(H.preventDefault(),Q.focus()):(ee===Q||!S.contains(ee))&&(H.preventDefault(),F.focus())};S.addEventListener("keydown",M);const N=H=>{if(H.key!=="ArrowDown")return;const V=yd();!V||Q0(V).length===0||H.preventDefault()};j?.addEventListener("keydown",N);const R=H=>{if(H.target.value.trim()===""){const z=yd();z&&(z.innerHTML="")}};j?.addEventListener("input",R);const $=H=>{const V=yd();if(!V)return;const z=Q0(V);if(z.length===0)return;const F=document.activeElement,Q=F?z.indexOf(F):-1;if(Q===-1)return;const ee=be=>{H.preventDefault(),Xx(V,Q+be)};switch(H.key){case"Tab":H.preventDefault(),ee(H.shiftKey?-1:1);break;case"ArrowDown":H.preventDefault(),ee(1);break;case"ArrowUp":H.preventDefault(),ee(-1);break;case"Home":H.preventDefault(),Xx(V,0);break;case"End":H.preventDefault(),Xx(V,z.length-1);break;case"Enter":case" ":H.preventDefault(),F.click();break;case"Backspace":H.preventDefault(),V.innerHTML="",j?.focus();break}H.stopPropagation()};let B=null;return D&&(D.addEventListener("keydown",$),B=new MutationObserver(()=>{const H=yd();!H||Q0(H).length}),B.observe(D,{childList:!0,subtree:!1})),()=>{S.removeEventListener("keydown",M),j?.removeEventListener("keydown",N),j?.removeEventListener("input",R),D&&D.removeEventListener("keydown",$),B?.disconnect(),x?.()}},[s,e]),A.useEffect(()=>{s||setTimeout(()=>b.current?.focus(),0)},[s]),_.jsxs("li",{className:"flex items-center gap-2",children:[_.jsx("input",{className:`w-[60%] desk:w-[70%] mr-2 border rounded-lg p-2
                   bg-white dark:bg-neutral-900
                   border-neutral-300 dark:border-neutral-700
                   text-neutral-900 dark:text-neutral-100
                   placeholder-neutral-400 dark:placeholder-neutral-500`,type:"text",id:"inputBirthPlace",readOnly:!0,"aria-readonly":"true",value:d&&d.trim()!==""?d:t}),_.jsx("button",{ref:b,type:"button",id:"inputBirthPlaceBtn",className:"btn_style text-sm desk:text-base w-[calc(40%_-_8px)] desk:w-[calc(30%_-_8px)] p-0",style:n,onClick:()=>c(!0),"aria-haspopup":"dialog","aria-expanded":s,"aria-controls":"mapModal",children:i}),_.jsx("input",{ref:m,type:"hidden",name:"birthPlace_name",defaultValue:""}),_.jsx("input",{ref:p,type:"hidden",name:"birthPlace_lat",defaultValue:""}),_.jsx("input",{ref:y,type:"hidden",name:"birthPlace_lon",defaultValue:""}),s&&_.jsx("div",{id:"mapModal",role:"dialog","aria-modal":"true","aria-labelledby":"mapModalTitle",className:"fixed inset-0 z-[999] flex items-center justify-center bg-black/40 dark:bg-black/60 p-4",children:_.jsxs("div",{className:`w-[96vw] desk:w-[920px] rounded-2xl shadow-2xl overflow-hidden flex flex-col
                          bg-white dark:bg-neutral-950
                          text-neutral-900 dark:text-neutral-100
                          border border-neutral-200 dark:border-neutral-800`,children:[_.jsxs("div",{className:"flex items-center justify-between px-4 py-3 border-b border-neutral-200 dark:border-neutral-800",children:[_.jsx("div",{id:"mapModalTitle",className:"font-bold",children:""}),_.jsx("button",{id:"mapCloseBtn","aria-label":"",className:"text-xl hover:opacity-70 cursor-pointer",onClick:()=>c(!1),children:""})]}),_.jsxs("div",{className:"relative grid gap-2 px-3 py-3 border-t border-neutral-200 dark:border-neutral-800",children:[_.jsx("label",{htmlFor:"searchBox",className:"text-xs text-neutral-500 dark:text-neutral-400",children:"/ "}),_.jsxs("div",{className:"relative",children:[_.jsx("input",{id:"searchBox",placeholder:":   / seoul /  / tokyo",className:`h-10 w-full rounded-lg border px-3 outline-none
                             bg-white dark:bg-neutral-900
                             border-neutral-300 dark:border-neutral-700
                             placeholder-neutral-400 dark:placeholder-neutral-500
                             text-neutral-900 dark:text-neutral-100
                             focus:border-neutral-400 dark:focus:border-neutral-600`,autoComplete:"off"}),_.jsx("ul",{id:"suggestions",role:"listbox","aria-label":" ",className:`absolute left-0 right-0 mt-1 max-h-60 overflow-y-auto rounded-lg border shadow-xl z-[1005]
                             bg-white dark:bg-neutral-900
                             border-neutral-200 dark:border-neutral-700
                             text-neutral-900 dark:text-neutral-100
                             divide-y divide-neutral-200 dark:divide-neutral-800`})]})]}),_.jsx("div",{className:"relative h-[250px] desk:h-[360px] border-y border-neutral-200 dark:border-neutral-800",children:_.jsx("div",{id:"map",className:"h-full w-full"})}),_.jsxs("div",{className:"gap-2 p-3",children:[_.jsxs("div",{id:"footerHint",className:"pr-2 text-xs text-neutral-600 dark:text-neutral-300 flex-1",children:[_.jsxs("p",{className:"flex mb-1",children:[_.jsx("span",{className:"mr-1",children:"*"}),_.jsx("span",{children:" ,  ."})]}),_.jsxs("p",{className:"flex",children:[_.jsx("span",{className:"mr-1",children:"*"}),_.jsx("span",{children:"       ,   ."})]})]}),_.jsx("button",{id:"closeMap",style:{display:"none"},"aria-hidden":"true",tabIndex:-1})]})]})})]})}function wr(e){return`Minified Redux error #${e}; visit https://redux.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var oK=typeof Symbol=="function"&&Symbol.observable||"@@observable",oC=oK,Jx=()=>Math.random().toString(36).substring(7).split("").join("."),sK={INIT:`@@redux/INIT${Jx()}`,REPLACE:`@@redux/REPLACE${Jx()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${Jx()}`},Sv=sK;function M2(e){if(typeof e!="object"||e===null)return!1;let t=e;for(;Object.getPrototypeOf(t)!==null;)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t||Object.getPrototypeOf(e)===null}function D2(e,t,n){if(typeof e!="function")throw new Error(wr(2));if(typeof t=="function"&&typeof n=="function"||typeof n=="function"&&typeof arguments[3]=="function")throw new Error(wr(0));if(typeof t=="function"&&typeof n>"u"&&(n=t,t=void 0),typeof n<"u"){if(typeof n!="function")throw new Error(wr(1));return n(D2)(e,t)}let r=e,i=t,a=new Map,s=a,c=0,d=!1;function f(){s===a&&(s=new Map,a.forEach((S,j)=>{s.set(j,S)}))}function m(){if(d)throw new Error(wr(3));return i}function p(S){if(typeof S!="function")throw new Error(wr(4));if(d)throw new Error(wr(5));let j=!0;f();const D=c++;return s.set(D,S),function(){if(j){if(d)throw new Error(wr(6));j=!1,f(),s.delete(D),a=null}}}function y(S){if(!M2(S))throw new Error(wr(7));if(typeof S.type>"u")throw new Error(wr(8));if(typeof S.type!="string")throw new Error(wr(17));if(d)throw new Error(wr(9));try{d=!0,i=r(i,S)}finally{d=!1}return(a=s).forEach(D=>{D()}),S}function b(S){if(typeof S!="function")throw new Error(wr(10));r=S,y({type:Sv.REPLACE})}function x(){const S=p;return{subscribe(j){if(typeof j!="object"||j===null)throw new Error(wr(11));function D(){const M=j;M.next&&M.next(m())}return D(),{unsubscribe:S(D)}},[oC](){return this}}}return y({type:Sv.INIT}),{dispatch:y,subscribe:p,getState:m,replaceReducer:b,[oC]:x}}function lK(e){Object.keys(e).forEach(t=>{const n=e[t];if(typeof n(void 0,{type:Sv.INIT})>"u")throw new Error(wr(12));if(typeof n(void 0,{type:Sv.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(wr(13))})}function P$(e){const t=Object.keys(e),n={};for(let a=0;a<t.length;a++){const s=t[a];typeof e[s]=="function"&&(n[s]=e[s])}const r=Object.keys(n);let i;try{lK(n)}catch(a){i=a}return function(s={},c){if(i)throw i;let d=!1;const f={};for(let m=0;m<r.length;m++){const p=r[m],y=n[p],b=s[p],x=y(b,c);if(typeof x>"u")throw c&&c.type,new Error(wr(14));f[p]=x,d=d||x!==b}return d=d||r.length!==Object.keys(s).length,d?f:s}}function sC(e,t){return function(...n){return t(e.apply(this,n))}}function lC(e,t){if(typeof e=="function")return sC(e,t);if(typeof e!="object"||e===null)throw new Error(wr(16));const n={};for(const r in e){const i=e[r];typeof i=="function"&&(n[r]=sC(i,t))}return n}function sm(...e){return e.length===0?t=>t:e.length===1?e[0]:e.reduce((t,n)=>(...r)=>t(n(...r)))}function R$(...e){return t=>(n,r)=>{const i=t(n,r);let a=()=>{throw new Error(wr(15))};const s={getState:i.getState,dispatch:(d,...f)=>a(d,...f)},c=e.map(d=>d(s));return a=sm(...c)(i.dispatch),{...i,dispatch:a}}}function L$(e){return M2(e)&&"type"in e&&typeof e.type=="string"}var Qx={exports:{}},ew={};/**
 * @license React
 * use-sync-external-store-with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var cC;function cK(){if(cC)return ew;cC=1;var e=sf();function t(d,f){return d===f&&(d!==0||1/d===1/f)||d!==d&&f!==f}var n=typeof Object.is=="function"?Object.is:t,r=e.useSyncExternalStore,i=e.useRef,a=e.useEffect,s=e.useMemo,c=e.useDebugValue;return ew.useSyncExternalStoreWithSelector=function(d,f,m,p,y){var b=i(null);if(b.current===null){var x={hasValue:!1,value:null};b.current=x}else x=b.current;b=s(function(){function S(N){if(!j){if(j=!0,D=N,N=p(N),y!==void 0&&x.hasValue){var R=x.value;if(y(R,N))return O=R}return O=N}if(R=O,n(D,N))return R;var $=p(N);return y!==void 0&&y(R,$)?(D=N,R):(D=N,O=$)}var j=!1,D,O,M=m===void 0?null:m;return[function(){return S(f())},M===null?void 0:function(){return S(M())}]},[f,m,p,y]);var T=r(d,b[0],b[1]);return a(function(){x.hasValue=!0,x.value=T},[T]),c(T),T},ew}var uC;function uK(){return uC||(uC=1,Qx.exports=cK()),Qx.exports}uK();var dK=A.version.startsWith("19"),fK=Symbol.for(dK?"react.transitional.element":"react.element"),hK=Symbol.for("react.portal"),mK=Symbol.for("react.fragment"),pK=Symbol.for("react.strict_mode"),gK=Symbol.for("react.profiler"),vK=Symbol.for("react.consumer"),yK=Symbol.for("react.context"),I$=Symbol.for("react.forward_ref"),bK=Symbol.for("react.suspense"),_K=Symbol.for("react.suspense_list"),P2=Symbol.for("react.memo"),xK=Symbol.for("react.lazy"),wK=I$,SK=P2;function EK(e){if(typeof e=="object"&&e!==null){const{$$typeof:t}=e;switch(t){case fK:switch(e=e.type,e){case mK:case gK:case pK:case bK:case _K:return e;default:switch(e=e&&e.$$typeof,e){case yK:case I$:case xK:case P2:return e;case vK:return e;default:return t}}case hK:return t}}}function AK(e){return EK(e)===P2}function TK(e,t,n,r,{areStatesEqual:i,areOwnPropsEqual:a,areStatePropsEqual:s}){let c=!1,d,f,m,p,y;function b(D,O){return d=D,f=O,m=e(d,f),p=t(r,f),y=n(m,p,f),c=!0,y}function x(){return m=e(d,f),t.dependsOnOwnProps&&(p=t(r,f)),y=n(m,p,f),y}function T(){return e.dependsOnOwnProps&&(m=e(d,f)),t.dependsOnOwnProps&&(p=t(r,f)),y=n(m,p,f),y}function S(){const D=e(d,f),O=!s(D,m);return m=D,O&&(y=n(m,p,f)),y}function j(D,O){const M=!a(O,f),N=!i(D,d,O,f);return d=D,f=O,M&&N?x():M?T():N?S():y}return function(O,M){return c?j(O,M):b(O,M)}}function kK(e,{initMapStateToProps:t,initMapDispatchToProps:n,initMergeProps:r,...i}){const a=t(e,i),s=n(e,i),c=r(e,i);return TK(a,s,c,e,i)}function OK(e,t){const n={};for(const r in e){const i=e[r];typeof i=="function"&&(n[r]=(...a)=>t(i(...a)))}return n}function WS(e){return function(n){const r=e(n);function i(){return r}return i.dependsOnOwnProps=!1,i}}function dC(e){return e.dependsOnOwnProps?!!e.dependsOnOwnProps:e.length!==1}function $$(e,t){return function(r,{displayName:i}){const a=function(c,d){return a.dependsOnOwnProps?a.mapToProps(c,d):a.mapToProps(c,void 0)};return a.dependsOnOwnProps=!0,a.mapToProps=function(c,d){a.mapToProps=e,a.dependsOnOwnProps=dC(e);let f=a(c,d);return typeof f=="function"&&(a.mapToProps=f,a.dependsOnOwnProps=dC(f),f=a(c,d)),f},a}}function R2(e,t){return(n,r)=>{throw new Error(`Invalid value of type ${typeof e} for ${t} argument when connecting component ${r.wrappedComponentName}.`)}}function jK(e){return e&&typeof e=="object"?WS(t=>OK(e,t)):e?typeof e=="function"?$$(e):R2(e,"mapDispatchToProps"):WS(t=>({dispatch:t}))}function NK(e){return e?typeof e=="function"?$$(e):R2(e,"mapStateToProps"):WS(()=>({}))}function CK(e,t,n){return{...n,...e,...t}}function MK(e){return function(n,{displayName:r,areMergedPropsEqual:i}){let a=!1,s;return function(d,f,m){const p=e(d,f,m);return a?i(p,s)||(s=p):(a=!0,s=p),s}}}function DK(e){return e?typeof e=="function"?MK(e):R2(e,"mergeProps"):()=>CK}function PK(e){e()}function RK(){let e=null,t=null;return{clear(){e=null,t=null},notify(){PK(()=>{let n=e;for(;n;)n.callback(),n=n.next})},get(){const n=[];let r=e;for(;r;)n.push(r),r=r.next;return n},subscribe(n){let r=!0;const i=t={callback:n,next:null,prev:t};return i.prev?i.prev.next=i:e=i,function(){!r||e===null||(r=!1,i.next?i.next.prev=i.prev:t=i.prev,i.prev?i.prev.next=i.next:e=i.next)}}}}var fC={notify(){},get:()=>[]};function B$(e,t){let n,r=fC,i=0,a=!1;function s(T){m();const S=r.subscribe(T);let j=!1;return()=>{j||(j=!0,S(),p())}}function c(){r.notify()}function d(){x.onStateChange&&x.onStateChange()}function f(){return a}function m(){i++,n||(n=t?t.addNestedSub(d):e.subscribe(d),r=RK())}function p(){i--,n&&i===0&&(n(),n=void 0,r.clear(),r=fC)}function y(){a||(a=!0,m())}function b(){a&&(a=!1,p())}const x={addNestedSub:s,notifyNestedSubs:c,handleChangeWrapper:d,isSubscribed:f,trySubscribe:y,tryUnsubscribe:b,getListeners:()=>r};return x}var LK=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",IK=LK(),$K=()=>typeof navigator<"u"&&navigator.product==="ReactNative",BK=$K(),zK=()=>IK||BK?A.useLayoutEffect:A.useEffect,Ev=zK();function hC(e,t){return e===t?e!==0||t!==0||1/e===1/t:e!==e&&t!==t}function ev(e,t){if(hC(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;const n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(!Object.prototype.hasOwnProperty.call(t,n[i])||!hC(e[n[i]],t[n[i]]))return!1;return!0}var UK={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},HK={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},FK={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},z$={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},GK={[wK]:FK,[SK]:z$};function mC(e){return AK(e)?z$:GK[e.$$typeof]||UK}var qK=Object.defineProperty,YK=Object.getOwnPropertyNames,pC=Object.getOwnPropertySymbols,KK=Object.getOwnPropertyDescriptor,WK=Object.getPrototypeOf,gC=Object.prototype;function VS(e,t){if(typeof t!="string"){if(gC){const a=WK(t);a&&a!==gC&&VS(e,a)}let n=YK(t);pC&&(n=n.concat(pC(t)));const r=mC(e),i=mC(t);for(let a=0;a<n.length;++a){const s=n[a];if(!HK[s]&&!(i&&i[s])&&!(r&&r[s])){const c=KK(t,s);try{qK(e,s,c)}catch{}}}}return e}var VK=Symbol.for("react-redux-context"),ZK=typeof globalThis<"u"?globalThis:{};function XK(){if(!A.createContext)return{};const e=ZK[VK]??=new Map;let t=e.get(A.createContext);return t||(t=A.createContext(null),e.set(A.createContext,t)),t}var U$=XK(),JK=[null,null];function QK(e,t,n){Ev(()=>e(...t),n)}function eW(e,t,n,r,i,a){e.current=r,n.current=!1,i.current&&(i.current=null,a())}function tW(e,t,n,r,i,a,s,c,d,f,m){if(!e)return()=>{};let p=!1,y=null;const b=()=>{if(p||!c.current)return;const T=t.getState();let S,j;try{S=r(T,i.current)}catch(D){j=D,y=D}j||(y=null),S===a.current?s.current||f():(a.current=S,d.current=S,s.current=!0,m())};return n.onStateChange=b,n.trySubscribe(),b(),()=>{if(p=!0,n.tryUnsubscribe(),n.onStateChange=null,y)throw y}}function nW(e,t){return e===t}function rW(e,t,n,{pure:r,areStatesEqual:i=nW,areOwnPropsEqual:a=ev,areStatePropsEqual:s=ev,areMergedPropsEqual:c=ev,forwardRef:d=!1,context:f=U$}={}){const m=f,p=NK(e),y=jK(t),b=DK(n),x=!!e;return S=>{const j=S.displayName||S.name||"Component",D=`Connect(${j})`,O={shouldHandleStateChanges:x,displayName:D,wrappedComponentName:j,WrappedComponent:S,initMapStateToProps:p,initMapDispatchToProps:y,initMergeProps:b,areStatesEqual:i,areStatePropsEqual:s,areOwnPropsEqual:a,areMergedPropsEqual:c};function M($){const[B,H,V]=A.useMemo(()=>{const{reactReduxForwardedRef:ce,...Ne}=$;return[$.context,ce,Ne]},[$]),z=A.useMemo(()=>{let ce=m;return B?.Consumer,ce},[B,m]),F=A.useContext(z),Q=!!$.store&&!!$.store.getState&&!!$.store.dispatch,ee=!!F&&!!F.store,be=Q?$.store:F.store,J=ee?F.getServerState:be.getState,le=A.useMemo(()=>kK(be.dispatch,O),[be]),[ae,me]=A.useMemo(()=>{if(!x)return JK;const ce=B$(be,Q?void 0:F.subscription),Ne=ce.notifyNestedSubs.bind(ce);return[ce,Ne]},[be,Q,F]),ne=A.useMemo(()=>Q?F:{...F,subscription:ae},[Q,F,ae]),q=A.useRef(void 0),K=A.useRef(V),X=A.useRef(void 0),ie=A.useRef(!1),Z=A.useRef(!1),W=A.useRef(void 0);Ev(()=>(Z.current=!0,()=>{Z.current=!1}),[]);const de=A.useMemo(()=>()=>X.current&&V===K.current?X.current:le(be.getState(),V),[be,V]),te=A.useMemo(()=>Ne=>ae?tW(x,be,ae,le,K,q,ie,Z,X,me,Ne):()=>{},[ae]);QK(eW,[K,q,ie,V,X,me]);let Y;try{Y=A.useSyncExternalStore(te,de,J?()=>le(J(),V):de)}catch(ce){throw W.current&&(ce.message+=`
The error may be correlated with this previous error:
${W.current.stack}

`),ce}Ev(()=>{W.current=void 0,X.current=void 0,q.current=Y});const se=A.useMemo(()=>A.createElement(S,{...Y,ref:H}),[H,S,Y]);return A.useMemo(()=>x?A.createElement(z.Provider,{value:ne},se):se,[z,se,ne])}const R=A.memo(M);if(R.WrappedComponent=S,R.displayName=M.displayName=D,d){const B=A.forwardRef(function(V,z){return A.createElement(R,{...V,reactReduxForwardedRef:z})});return B.displayName=D,B.WrappedComponent=S,VS(B,S)}return VS(R,S)}}var H$=rW;function iW(e){const{children:t,context:n,serverState:r,store:i}=e,a=A.useMemo(()=>{const d=B$(i);return{store:i,subscription:d,getServerState:r?()=>r:void 0}},[i,r]),s=A.useMemo(()=>i.getState(),[i]);Ev(()=>{const{subscription:d}=a;return d.onStateChange=d.notifyNestedSubs,d.trySubscribe(),s!==i.getState()&&d.notifyNestedSubs(),()=>{d.tryUnsubscribe(),d.onStateChange=void 0}},[a,s]);const c=n||U$;return A.createElement(c.Provider,{value:a},t)}var F$=iW,aW="Invariant failed";function oW(e,t){throw new Error(aW)}var go=function(t){var n=t.top,r=t.right,i=t.bottom,a=t.left,s=r-a,c=i-n,d={top:n,right:r,bottom:i,left:a,width:s,height:c,x:a,y:n,center:{x:(r+a)/2,y:(i+n)/2}};return d},L2=function(t,n){return{top:t.top-n.top,left:t.left-n.left,bottom:t.bottom+n.bottom,right:t.right+n.right}},vC=function(t,n){return{top:t.top+n.top,left:t.left+n.left,bottom:t.bottom-n.bottom,right:t.right-n.right}},sW=function(t,n){return{top:t.top+n.y,left:t.left+n.x,bottom:t.bottom+n.y,right:t.right+n.x}},tw={top:0,right:0,bottom:0,left:0},I2=function(t){var n=t.borderBox,r=t.margin,i=r===void 0?tw:r,a=t.border,s=a===void 0?tw:a,c=t.padding,d=c===void 0?tw:c,f=go(L2(n,i)),m=go(vC(n,s)),p=go(vC(m,d));return{marginBox:f,borderBox:go(n),paddingBox:m,contentBox:p,margin:i,border:s,padding:d}},ja=function(t){var n=t.slice(0,-2),r=t.slice(-2);if(r!=="px")return 0;var i=Number(n);return isNaN(i)&&oW(),i},lW=function(){return{x:window.pageXOffset,y:window.pageYOffset}},Av=function(t,n){var r=t.borderBox,i=t.border,a=t.margin,s=t.padding,c=sW(r,n);return I2({borderBox:c,border:i,margin:a,padding:s})},Tv=function(t,n){return n===void 0&&(n=lW()),Av(t,n)},G$=function(t,n){var r={top:ja(n.marginTop),right:ja(n.marginRight),bottom:ja(n.marginBottom),left:ja(n.marginLeft)},i={top:ja(n.paddingTop),right:ja(n.paddingRight),bottom:ja(n.paddingBottom),left:ja(n.paddingLeft)},a={top:ja(n.borderTopWidth),right:ja(n.borderRightWidth),bottom:ja(n.borderBottomWidth),left:ja(n.borderLeftWidth)};return I2({borderBox:t,margin:r,padding:i,border:a})},q$=function(t){var n=t.getBoundingClientRect(),r=window.getComputedStyle(t);return G$(n,r)},lm=function(t){var n=[],r=null,i=function(){for(var s=arguments.length,c=new Array(s),d=0;d<s;d++)c[d]=arguments[d];n=c,!r&&(r=requestAnimationFrame(function(){r=null,t.apply(void 0,n)}))};return i.cancel=function(){r&&(cancelAnimationFrame(r),r=null)},i};function kv(){return kv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},kv.apply(null,arguments)}function Y$(e,t){}Y$.bind(null,"warn");Y$.bind(null,"error");function Fl(){}function cW(e,t){return{...e,...t}}function Ma(e,t,n){const r=t.map(i=>{const a=cW(n,i.options);return e.addEventListener(i.eventName,i.fn,a),function(){e.removeEventListener(i.eventName,i.fn,a)}});return function(){r.forEach(a=>{a()})}}const uW="Invariant failed";class Ov extends Error{}Ov.prototype.toString=function(){return this.message};function Fe(e,t){throw new Ov(uW)}class dW extends un.Component{constructor(...t){super(...t),this.callbacks=null,this.unbind=Fl,this.onWindowError=n=>{const r=this.getCallbacks();r.isDragging()&&r.tryAbort(),n.error instanceof Ov&&n.preventDefault()},this.getCallbacks=()=>{if(!this.callbacks)throw new Error("Unable to find AppCallbacks in <ErrorBoundary/>");return this.callbacks},this.setCallbacks=n=>{this.callbacks=n}}componentDidMount(){this.unbind=Ma(window,[{eventName:"error",fn:this.onWindowError}])}componentDidCatch(t){if(t instanceof Ov){this.setState({});return}throw t}componentWillUnmount(){this.unbind()}render(){return this.props.children(this.setCallbacks)}}const fW=`
  Press space bar to start a drag.
  When dragging you can use the arrow keys to move the item around and escape to cancel.
  Some screen readers may require you to be in focus mode or to use your pass through key
`,jv=e=>e+1,hW=e=>`
  You have lifted an item in position ${jv(e.source.index)}
`,K$=(e,t)=>{const n=e.droppableId===t.droppableId,r=jv(e.index),i=jv(t.index);return n?`
      You have moved the item from position ${r}
      to position ${i}
    `:`
    You have moved the item from position ${r}
    in list ${e.droppableId}
    to list ${t.droppableId}
    in position ${i}
  `},W$=(e,t,n)=>t.droppableId===n.droppableId?`
      The item ${e}
      has been combined with ${n.draggableId}`:`
      The item ${e}
      in list ${t.droppableId}
      has been combined with ${n.draggableId}
      in list ${n.droppableId}
    `,mW=e=>{const t=e.destination;if(t)return K$(e.source,t);const n=e.combine;return n?W$(e.draggableId,e.source,n):"You are over an area that cannot be dropped on"},yC=e=>`
  The item has returned to its starting position
  of ${jv(e.index)}
`,pW=e=>{if(e.reason==="CANCEL")return`
      Movement cancelled.
      ${yC(e.source)}
    `;const t=e.destination,n=e.combine;return t?`
      You have dropped the item.
      ${K$(e.source,t)}
    `:n?`
      You have dropped the item.
      ${W$(e.draggableId,e.source,n)}
    `:`
    The item has been dropped while not over a drop area.
    ${yC(e.source)}
  `},tv={dragHandleUsageInstructions:fW,onDragStart:hW,onDragUpdate:mW,onDragEnd:pW};function gW(e,t){return!!(e===t||Number.isNaN(e)&&Number.isNaN(t))}function V$(e,t){if(e.length!==t.length)return!1;for(let n=0;n<e.length;n++)if(!gW(e[n],t[n]))return!1;return!0}function Nt(e,t){const n=A.useState(()=>({inputs:t,result:e()}))[0],r=A.useRef(!0),i=A.useRef(n),s=r.current||!!(t&&i.current.inputs&&V$(t,i.current.inputs))?i.current:{inputs:t,result:e()};return A.useEffect(()=>{r.current=!1,i.current=s},[s]),s.result}function tt(e,t){return Nt(()=>e,t)}const Tr={x:0,y:0},$r=(e,t)=>({x:e.x+t.x,y:e.y+t.y}),ra=(e,t)=>({x:e.x-t.x,y:e.y-t.y}),Gl=(e,t)=>e.x===t.x&&e.y===t.y,ff=e=>({x:e.x!==0?-e.x:0,y:e.y!==0?-e.y:0}),hu=(e,t,n=0)=>e==="x"?{x:t,y:n}:{x:n,y:t},cm=(e,t)=>Math.sqrt((t.x-e.x)**2+(t.y-e.y)**2),bC=(e,t)=>Math.min(...t.map(n=>cm(e,n))),Z$=e=>t=>({x:e(t.x),y:e(t.y)});var vW=(e,t)=>{const n=go({top:Math.max(t.top,e.top),right:Math.min(t.right,e.right),bottom:Math.min(t.bottom,e.bottom),left:Math.max(t.left,e.left)});return n.width<=0||n.height<=0?null:n};const Gm=(e,t)=>({top:e.top+t.y,left:e.left+t.x,bottom:e.bottom+t.y,right:e.right+t.x}),_C=e=>[{x:e.left,y:e.top},{x:e.right,y:e.top},{x:e.left,y:e.bottom},{x:e.right,y:e.bottom}],yW={top:0,right:0,bottom:0,left:0},bW=(e,t)=>t?Gm(e,t.scroll.diff.displacement):e,_W=(e,t,n)=>n&&n.increasedBy?{...e,[t.end]:e[t.end]+n.increasedBy[t.line]}:e,xW=(e,t)=>t&&t.shouldClipSubject?vW(t.pageMarginBox,e):go(e);var Kd=({page:e,withPlaceholder:t,axis:n,frame:r})=>{const i=bW(e.marginBox,r),a=_W(i,n,t),s=xW(a,r);return{page:e,withPlaceholder:t,active:s}},$2=(e,t)=>{e.frame||Fe();const n=e.frame,r=ra(t,n.scroll.initial),i=ff(r),a={...n,scroll:{initial:n.scroll.initial,current:t,diff:{value:r,displacement:i},max:n.scroll.max}},s=Kd({page:e.subject.page,withPlaceholder:e.subject.withPlaceholder,axis:e.axis,frame:a});return{...e,frame:a,subject:s}};function Er(e,t=V$){let n=null;function r(...i){if(n&&n.lastThis===this&&t(i,n.lastArgs))return n.lastResult;const a=e.apply(this,i);return n={lastResult:a,lastArgs:i,lastThis:this},a}return r.clear=function(){n=null},r}const X$=Er(e=>e.reduce((t,n)=>(t[n.descriptor.id]=n,t),{})),J$=Er(e=>e.reduce((t,n)=>(t[n.descriptor.id]=n,t),{})),zy=Er(e=>Object.values(e)),wW=Er(e=>Object.values(e));var hf=Er((e,t)=>wW(t).filter(r=>e===r.descriptor.droppableId).sort((r,i)=>r.descriptor.index-i.descriptor.index));function B2(e){return e.at&&e.at.type==="REORDER"?e.at.destination:null}function Uy(e){return e.at&&e.at.type==="COMBINE"?e.at.combine:null}var Hy=Er((e,t)=>t.filter(n=>n.descriptor.id!==e.descriptor.id)),SW=({isMovingForward:e,draggable:t,destination:n,insideDestination:r,previousImpact:i})=>{if(!n.isCombineEnabled||!B2(i))return null;function s(b){const x={type:"COMBINE",combine:{draggableId:b,droppableId:n.descriptor.id}};return{...i,at:x}}const c=i.displaced.all,d=c.length?c[0]:null;if(e)return d?s(d):null;const f=Hy(t,r);if(!d){if(!f.length)return null;const b=f[f.length-1];return s(b.descriptor.id)}const m=f.findIndex(b=>b.descriptor.id===d);m===-1&&Fe();const p=m-1;if(p<0)return null;const y=f[p];return s(y.descriptor.id)},mf=(e,t)=>e.descriptor.droppableId===t.descriptor.id;const Q$={point:Tr,value:0},um={invisible:{},visible:{},all:[]},EW={displaced:um,displacedBy:Q$,at:null};var Ba=(e,t)=>n=>e<=n&&n<=t,eB=e=>{const t=Ba(e.top,e.bottom),n=Ba(e.left,e.right);return r=>{if(t(r.top)&&t(r.bottom)&&n(r.left)&&n(r.right))return!0;const a=t(r.top)||t(r.bottom),s=n(r.left)||n(r.right);if(a&&s)return!0;const d=r.top<e.top&&r.bottom>e.bottom,f=r.left<e.left&&r.right>e.right;return d&&f?!0:d&&s||f&&a}},AW=e=>{const t=Ba(e.top,e.bottom),n=Ba(e.left,e.right);return r=>t(r.top)&&t(r.bottom)&&n(r.left)&&n(r.right)};const z2={direction:"vertical",line:"y",crossAxisLine:"x",start:"top",end:"bottom",size:"height",crossAxisStart:"left",crossAxisEnd:"right",crossAxisSize:"width"},tB={direction:"horizontal",line:"x",crossAxisLine:"y",start:"left",end:"right",size:"width",crossAxisStart:"top",crossAxisEnd:"bottom",crossAxisSize:"height"};var TW=e=>t=>{const n=Ba(t.top,t.bottom),r=Ba(t.left,t.right);return i=>e===z2?n(i.top)&&n(i.bottom):r(i.left)&&r(i.right)};const kW=(e,t)=>{const n=t.frame?t.frame.scroll.diff.displacement:Tr;return Gm(e,n)},OW=(e,t,n)=>t.subject.active?n(t.subject.active)(e):!1,jW=(e,t,n)=>n(t)(e),U2=({target:e,destination:t,viewport:n,withDroppableDisplacement:r,isVisibleThroughFrameFn:i})=>{const a=r?kW(e,t):e;return OW(a,t,i)&&jW(a,n,i)},NW=e=>U2({...e,isVisibleThroughFrameFn:eB}),nB=e=>U2({...e,isVisibleThroughFrameFn:AW}),CW=e=>U2({...e,isVisibleThroughFrameFn:TW(e.destination.axis)}),MW=(e,t,n)=>{if(typeof n=="boolean")return n;if(!t)return!0;const{invisible:r,visible:i}=t;if(r[e])return!1;const a=i[e];return a?a.shouldAnimate:!0};function DW(e,t){const n=e.page.marginBox,r={top:t.point.y,right:0,bottom:0,left:t.point.x};return go(L2(n,r))}function dm({afterDragging:e,destination:t,displacedBy:n,viewport:r,forceShouldAnimate:i,last:a}){return e.reduce(function(c,d){const f=DW(d,n),m=d.descriptor.id;if(c.all.push(m),!NW({target:f,destination:t,viewport:r,withDroppableDisplacement:!0}))return c.invisible[d.descriptor.id]=!0,c;const y=MW(m,a,i),b={draggableId:m,shouldAnimate:y};return c.visible[m]=b,c},{all:[],visible:{},invisible:{}})}function PW(e,t){if(!e.length)return 0;const n=e[e.length-1].descriptor.index;return t.inHomeList?n:n+1}function xC({insideDestination:e,inHomeList:t,displacedBy:n,destination:r}){const i=PW(e,{inHomeList:t});return{displaced:um,displacedBy:n,at:{type:"REORDER",destination:{droppableId:r.descriptor.id,index:i}}}}function Nv({draggable:e,insideDestination:t,destination:n,viewport:r,displacedBy:i,last:a,index:s,forceShouldAnimate:c}){const d=mf(e,n);if(s==null)return xC({insideDestination:t,inHomeList:d,displacedBy:i,destination:n});const f=t.find(x=>x.descriptor.index===s);if(!f)return xC({insideDestination:t,inHomeList:d,displacedBy:i,destination:n});const m=Hy(e,t),p=t.indexOf(f),y=m.slice(p);return{displaced:dm({afterDragging:y,destination:n,displacedBy:i,last:a,viewport:r.frame,forceShouldAnimate:c}),displacedBy:i,at:{type:"REORDER",destination:{droppableId:n.descriptor.id,index:s}}}}function Yl(e,t){return!!t.effected[e]}var RW=({isMovingForward:e,destination:t,draggables:n,combine:r,afterCritical:i})=>{if(!t.isCombineEnabled)return null;const a=r.draggableId,c=n[a].descriptor.index;return Yl(a,i)?e?c:c-1:e?c+1:c},LW=({isMovingForward:e,isInHomeList:t,insideDestination:n,location:r})=>{if(!n.length)return null;const i=r.index,a=e?i+1:i-1,s=n[0].descriptor.index,c=n[n.length-1].descriptor.index,d=t?c:c+1;return a<s||a>d?null:a},IW=({isMovingForward:e,isInHomeList:t,draggable:n,draggables:r,destination:i,insideDestination:a,previousImpact:s,viewport:c,afterCritical:d})=>{const f=s.at;if(f||Fe(),f.type==="REORDER"){const p=LW({isMovingForward:e,isInHomeList:t,location:f.destination,insideDestination:a});return p==null?null:Nv({draggable:n,insideDestination:a,destination:i,viewport:c,last:s.displaced,displacedBy:s.displacedBy,index:p})}const m=RW({isMovingForward:e,destination:i,displaced:s.displaced,draggables:r,combine:f.combine,afterCritical:d});return m==null?null:Nv({draggable:n,insideDestination:a,destination:i,viewport:c,last:s.displaced,displacedBy:s.displacedBy,index:m})},$W=({displaced:e,afterCritical:t,combineWith:n,displacedBy:r})=>{const i=!!(e.visible[n]||e.invisible[n]);return Yl(n,t)?i?Tr:ff(r.point):i?r.point:Tr},BW=({afterCritical:e,impact:t,draggables:n})=>{const r=Uy(t);r||Fe();const i=r.draggableId,a=n[i].page.borderBox.center,s=$W({displaced:t.displaced,afterCritical:e,combineWith:i,displacedBy:t.displacedBy});return $r(a,s)};const rB=(e,t)=>t.margin[e.start]+t.borderBox[e.size]/2,zW=(e,t)=>t.margin[e.end]+t.borderBox[e.size]/2,H2=(e,t,n)=>t[e.crossAxisStart]+n.margin[e.crossAxisStart]+n.borderBox[e.crossAxisSize]/2,wC=({axis:e,moveRelativeTo:t,isMoving:n})=>hu(e.line,t.marginBox[e.end]+rB(e,n),H2(e,t.marginBox,n)),SC=({axis:e,moveRelativeTo:t,isMoving:n})=>hu(e.line,t.marginBox[e.start]-zW(e,n),H2(e,t.marginBox,n)),UW=({axis:e,moveInto:t,isMoving:n})=>hu(e.line,t.contentBox[e.start]+rB(e,n),H2(e,t.contentBox,n));var HW=({impact:e,draggable:t,draggables:n,droppable:r,afterCritical:i})=>{const a=hf(r.descriptor.id,n),s=t.page,c=r.axis;if(!a.length)return UW({axis:c,moveInto:r.page,isMoving:s});const{displaced:d,displacedBy:f}=e,m=d.all[0];if(m){const y=n[m];if(Yl(m,i))return SC({axis:c,moveRelativeTo:y.page,isMoving:s});const b=Av(y.page,f.point);return SC({axis:c,moveRelativeTo:b,isMoving:s})}const p=a[a.length-1];if(p.descriptor.id===t.descriptor.id)return s.borderBox.center;if(Yl(p.descriptor.id,i)){const y=Av(p.page,ff(i.displacedBy.point));return wC({axis:c,moveRelativeTo:y,isMoving:s})}return wC({axis:c,moveRelativeTo:p.page,isMoving:s})},ZS=(e,t)=>{const n=e.frame;return n?$r(t,n.scroll.diff.displacement):t};const FW=({impact:e,draggable:t,droppable:n,draggables:r,afterCritical:i})=>{const a=t.page.borderBox.center,s=e.at;return!n||!s?a:s.type==="REORDER"?HW({impact:e,draggable:t,draggables:r,droppable:n,afterCritical:i}):BW({impact:e,draggables:r,afterCritical:i})};var Fy=e=>{const t=FW(e),n=e.droppable;return n?ZS(n,t):t},iB=(e,t)=>{const n=ra(t,e.scroll.initial),r=ff(n);return{frame:go({top:t.y,bottom:t.y+e.frame.height,left:t.x,right:t.x+e.frame.width}),scroll:{initial:e.scroll.initial,max:e.scroll.max,current:t,diff:{value:n,displacement:r}}}};function EC(e,t){return e.map(n=>t[n])}function GW(e,t){for(let n=0;n<t.length;n++){const r=t[n].visible[e];if(r)return r}return null}var qW=({impact:e,viewport:t,destination:n,draggables:r,maxScrollChange:i})=>{const a=iB(t,$r(t.scroll.current,i)),s=n.frame?$2(n,$r(n.frame.scroll.current,i)):n,c=e.displaced,d=dm({afterDragging:EC(c.all,r),destination:n,displacedBy:e.displacedBy,viewport:a.frame,last:c,forceShouldAnimate:!1}),f=dm({afterDragging:EC(c.all,r),destination:s,displacedBy:e.displacedBy,viewport:t.frame,last:c,forceShouldAnimate:!1}),m={},p={},y=[c,d,f];return c.all.forEach(x=>{const T=GW(x,y);if(T){p[x]=T;return}m[x]=!0}),{...e,displaced:{all:c.all,invisible:m,visible:p}}},YW=(e,t)=>$r(e.scroll.diff.displacement,t),F2=({pageBorderBoxCenter:e,draggable:t,viewport:n})=>{const r=YW(n,e),i=ra(r,t.page.borderBox.center);return $r(t.client.borderBox.center,i)},aB=({draggable:e,destination:t,newPageBorderBoxCenter:n,viewport:r,withDroppableDisplacement:i,onlyOnMainAxis:a=!1})=>{const s=ra(n,e.page.borderBox.center),d={target:Gm(e.page.borderBox,s),destination:t,withDroppableDisplacement:i,viewport:r};return a?CW(d):nB(d)},KW=({isMovingForward:e,draggable:t,destination:n,draggables:r,previousImpact:i,viewport:a,previousPageBorderBoxCenter:s,previousClientSelection:c,afterCritical:d})=>{if(!n.isEnabled)return null;const f=hf(n.descriptor.id,r),m=mf(t,n),p=SW({isMovingForward:e,draggable:t,destination:n,insideDestination:f,previousImpact:i})||IW({isMovingForward:e,isInHomeList:m,draggable:t,draggables:r,destination:n,insideDestination:f,previousImpact:i,viewport:a,afterCritical:d});if(!p)return null;const y=Fy({impact:p,draggable:t,droppable:n,draggables:r,afterCritical:d});if(aB({draggable:t,destination:n,newPageBorderBoxCenter:y,viewport:a.frame,withDroppableDisplacement:!1,onlyOnMainAxis:!0}))return{clientSelection:F2({pageBorderBoxCenter:y,draggable:t,viewport:a}),impact:p,scrollJumpRequest:null};const x=ra(y,s),T=qW({impact:p,viewport:a,destination:n,draggables:r,maxScrollChange:x});return{clientSelection:c,impact:T,scrollJumpRequest:x}};const si=e=>{const t=e.subject.active;return t||Fe(),t};var WW=({isMovingForward:e,pageBorderBoxCenter:t,source:n,droppables:r,viewport:i})=>{const a=n.subject.active;if(!a)return null;const s=n.axis,c=Ba(a[s.start],a[s.end]),d=zy(r).filter(m=>m!==n).filter(m=>m.isEnabled).filter(m=>!!m.subject.active).filter(m=>eB(i.frame)(si(m))).filter(m=>{const p=si(m);return e?a[s.crossAxisEnd]<p[s.crossAxisEnd]:p[s.crossAxisStart]<a[s.crossAxisStart]}).filter(m=>{const p=si(m),y=Ba(p[s.start],p[s.end]);return c(p[s.start])||c(p[s.end])||y(a[s.start])||y(a[s.end])}).sort((m,p)=>{const y=si(m)[s.crossAxisStart],b=si(p)[s.crossAxisStart];return e?y-b:b-y}).filter((m,p,y)=>si(m)[s.crossAxisStart]===si(y[0])[s.crossAxisStart]);if(!d.length)return null;if(d.length===1)return d[0];const f=d.filter(m=>Ba(si(m)[s.start],si(m)[s.end])(t[s.line]));return f.length===1?f[0]:f.length>1?f.sort((m,p)=>si(m)[s.start]-si(p)[s.start])[0]:d.sort((m,p)=>{const y=bC(t,_C(si(m))),b=bC(t,_C(si(p)));return y!==b?y-b:si(m)[s.start]-si(p)[s.start]})[0]};const AC=(e,t)=>{const n=e.page.borderBox.center;return Yl(e.descriptor.id,t)?ra(n,t.displacedBy.point):n},VW=(e,t)=>{const n=e.page.borderBox;return Yl(e.descriptor.id,t)?Gm(n,ff(t.displacedBy.point)):n};var ZW=({pageBorderBoxCenter:e,viewport:t,destination:n,insideDestination:r,afterCritical:i})=>r.filter(s=>nB({target:VW(s,i),destination:n,viewport:t.frame,withDroppableDisplacement:!0})).sort((s,c)=>{const d=cm(e,ZS(n,AC(s,i))),f=cm(e,ZS(n,AC(c,i)));return d<f?-1:f<d?1:s.descriptor.index-c.descriptor.index})[0]||null,qm=Er(function(t,n){const r=n[t.line];return{value:r,point:hu(t.line,r)}});const XW=(e,t,n)=>{const r=e.axis;if(e.descriptor.mode==="virtual")return hu(r.line,t[r.line]);const i=e.subject.page.contentBox[r.size],d=hf(e.descriptor.id,n).reduce((f,m)=>f+m.client.marginBox[r.size],0)+t[r.line]-i;return d<=0?null:hu(r.line,d)},oB=(e,t)=>({...e,scroll:{...e.scroll,max:t}}),sB=(e,t,n)=>{const r=e.frame;mf(t,e)&&Fe(),e.subject.withPlaceholder&&Fe();const i=qm(e.axis,t.displaceBy).point,a=XW(e,i,n),s={placeholderSize:i,increasedBy:a,oldFrameMaxScroll:e.frame?e.frame.scroll.max:null};if(!r){const m=Kd({page:e.subject.page,withPlaceholder:s,axis:e.axis,frame:e.frame});return{...e,subject:m}}const c=a?$r(r.scroll.max,a):r.scroll.max,d=oB(r,c),f=Kd({page:e.subject.page,withPlaceholder:s,axis:e.axis,frame:d});return{...e,subject:f,frame:d}},JW=e=>{const t=e.subject.withPlaceholder;t||Fe();const n=e.frame;if(!n){const s=Kd({page:e.subject.page,axis:e.axis,frame:null,withPlaceholder:null});return{...e,subject:s}}const r=t.oldFrameMaxScroll;r||Fe();const i=oB(n,r),a=Kd({page:e.subject.page,axis:e.axis,frame:i,withPlaceholder:null});return{...e,subject:a,frame:i}};var QW=({previousPageBorderBoxCenter:e,moveRelativeTo:t,insideDestination:n,draggable:r,draggables:i,destination:a,viewport:s,afterCritical:c})=>{if(!t){if(n.length)return null;const p={displaced:um,displacedBy:Q$,at:{type:"REORDER",destination:{droppableId:a.descriptor.id,index:0}}},y=Fy({impact:p,draggable:r,droppable:a,draggables:i,afterCritical:c}),b=mf(r,a)?a:sB(a,r,i);return aB({draggable:r,destination:b,newPageBorderBoxCenter:y,viewport:s.frame,withDroppableDisplacement:!1,onlyOnMainAxis:!0})?p:null}const d=e[a.axis.line]<=t.page.borderBox.center[a.axis.line],f=(()=>{const p=t.descriptor.index;return t.descriptor.id===r.descriptor.id||d?p:p+1})(),m=qm(a.axis,r.displaceBy);return Nv({draggable:r,insideDestination:n,destination:a,viewport:s,displacedBy:m,last:um,index:f})},eV=({isMovingForward:e,previousPageBorderBoxCenter:t,draggable:n,isOver:r,draggables:i,droppables:a,viewport:s,afterCritical:c})=>{const d=WW({isMovingForward:e,pageBorderBoxCenter:t,source:r,droppables:a,viewport:s});if(!d)return null;const f=hf(d.descriptor.id,i),m=ZW({pageBorderBoxCenter:t,viewport:s,destination:d,insideDestination:f,afterCritical:c}),p=QW({previousPageBorderBoxCenter:t,destination:d,draggable:n,draggables:i,moveRelativeTo:m,insideDestination:f,viewport:s,afterCritical:c});if(!p)return null;const y=Fy({impact:p,draggable:n,droppable:d,draggables:i,afterCritical:c});return{clientSelection:F2({pageBorderBoxCenter:y,draggable:n,viewport:s}),impact:p,scrollJumpRequest:null}},aa=e=>{const t=e.at;return t?t.type==="REORDER"?t.destination.droppableId:t.combine.droppableId:null};const tV=(e,t)=>{const n=aa(e);return n?t[n]:null};var nV=({state:e,type:t})=>{const n=tV(e.impact,e.dimensions.droppables),r=!!n,i=e.dimensions.droppables[e.critical.droppable.id],a=n||i,s=a.axis.direction,c=s==="vertical"&&(t==="MOVE_UP"||t==="MOVE_DOWN")||s==="horizontal"&&(t==="MOVE_LEFT"||t==="MOVE_RIGHT");if(c&&!r)return null;const d=t==="MOVE_DOWN"||t==="MOVE_RIGHT",f=e.dimensions.draggables[e.critical.draggable.id],m=e.current.page.borderBoxCenter,{draggables:p,droppables:y}=e.dimensions;return c?KW({isMovingForward:d,previousPageBorderBoxCenter:m,draggable:f,destination:a,draggables:p,viewport:e.viewport,previousClientSelection:e.current.client.selection,previousImpact:e.impact,afterCritical:e.afterCritical}):eV({isMovingForward:d,previousPageBorderBoxCenter:m,draggable:f,isOver:a,draggables:p,droppables:y,viewport:e.viewport,afterCritical:e.afterCritical})};function Vc(e){return e.phase==="DRAGGING"||e.phase==="COLLECTING"}function lB(e){const t=Ba(e.top,e.bottom),n=Ba(e.left,e.right);return function(i){return t(i.y)&&n(i.x)}}function rV(e,t){return e.left<t.right&&e.right>t.left&&e.top<t.bottom&&e.bottom>t.top}function iV({pageBorderBox:e,draggable:t,candidates:n}){const r=t.page.borderBox.center,i=n.map(a=>{const s=a.axis,c=hu(a.axis.line,e.center[s.line],a.page.borderBox.center[s.crossAxisLine]);return{id:a.descriptor.id,distance:cm(r,c)}}).sort((a,s)=>s.distance-a.distance);return i[0]?i[0].id:null}function aV({pageBorderBox:e,draggable:t,droppables:n}){const r=zy(n).filter(i=>{if(!i.isEnabled)return!1;const a=i.subject.active;if(!a||!rV(e,a))return!1;if(lB(a)(e.center))return!0;const s=i.axis,c=a.center[s.crossAxisLine],d=e[s.crossAxisStart],f=e[s.crossAxisEnd],m=Ba(a[s.crossAxisStart],a[s.crossAxisEnd]),p=m(d),y=m(f);return!p&&!y?!0:p?d<c:f>c});return r.length?r.length===1?r[0].descriptor.id:iV({pageBorderBox:e,draggable:t,candidates:r}):null}const cB=(e,t)=>go(Gm(e,t));var oV=(e,t)=>{const n=e.frame;return n?cB(t,n.scroll.diff.value):t};function uB({displaced:e,id:t}){return!!(e.visible[t]||e.invisible[t])}function sV({draggable:e,closest:t,inHomeList:n}){return t?n&&t.descriptor.index>e.descriptor.index?t.descriptor.index-1:t.descriptor.index:null}var lV=({pageBorderBoxWithDroppableScroll:e,draggable:t,destination:n,insideDestination:r,last:i,viewport:a,afterCritical:s})=>{const c=n.axis,d=qm(n.axis,t.displaceBy),f=d.value,m=e[c.start],p=e[c.end],b=Hy(t,r).find(T=>{const S=T.descriptor.id,j=T.page.borderBox.center[c.line],D=Yl(S,s),O=uB({displaced:i,id:S});return D?O?p<=j:m<j-f:O?p<=j+f:m<j})||null,x=sV({draggable:t,closest:b,inHomeList:mf(t,n)});return Nv({draggable:t,insideDestination:r,destination:n,viewport:a,last:i,displacedBy:d,index:x})};const cV=4;var uV=({draggable:e,pageBorderBoxWithDroppableScroll:t,previousImpact:n,destination:r,insideDestination:i,afterCritical:a})=>{if(!r.isCombineEnabled)return null;const s=r.axis,c=qm(r.axis,e.displaceBy),d=c.value,f=t[s.start],m=t[s.end],y=Hy(e,i).find(x=>{const T=x.descriptor.id,S=x.page.borderBox,D=S[s.size]/cV,O=Yl(T,a),M=uB({displaced:n.displaced,id:T});return O?M?m>S[s.start]+D&&m<S[s.end]-D:f>S[s.start]-d+D&&f<S[s.end]-d-D:M?m>S[s.start]+d+D&&m<S[s.end]+d-D:f>S[s.start]+D&&f<S[s.end]-D});return y?{displacedBy:c,displaced:n.displaced,at:{type:"COMBINE",combine:{draggableId:y.descriptor.id,droppableId:r.descriptor.id}}}:null},dB=({pageOffset:e,draggable:t,draggables:n,droppables:r,previousImpact:i,viewport:a,afterCritical:s})=>{const c=cB(t.page.borderBox,e),d=aV({pageBorderBox:c,draggable:t,droppables:r});if(!d)return EW;const f=r[d],m=hf(f.descriptor.id,n),p=oV(f,c);return uV({pageBorderBoxWithDroppableScroll:p,draggable:t,previousImpact:i,destination:f,insideDestination:m,afterCritical:s})||lV({pageBorderBoxWithDroppableScroll:p,draggable:t,destination:f,insideDestination:m,last:i.displaced,viewport:a,afterCritical:s})},G2=(e,t)=>({...e,[t.descriptor.id]:t});const dV=({previousImpact:e,impact:t,droppables:n})=>{const r=aa(e),i=aa(t);if(!r||r===i)return n;const a=n[r];if(!a.subject.withPlaceholder)return n;const s=JW(a);return G2(n,s)};var fV=({draggable:e,draggables:t,droppables:n,previousImpact:r,impact:i})=>{const a=dV({previousImpact:r,impact:i,droppables:n}),s=aa(i);if(!s)return a;const c=n[s];if(mf(e,c)||c.subject.withPlaceholder)return a;const d=sB(c,e,t);return G2(a,d)},Qh=({state:e,clientSelection:t,dimensions:n,viewport:r,impact:i,scrollJumpRequest:a})=>{const s=r||e.viewport,c=n||e.dimensions,d=t||e.current.client.selection,f=ra(d,e.initial.client.selection),m={offset:f,selection:d,borderBoxCenter:$r(e.initial.client.borderBoxCenter,f)},p={selection:$r(m.selection,s.scroll.current),borderBoxCenter:$r(m.borderBoxCenter,s.scroll.current),offset:$r(m.offset,s.scroll.diff.value)},y={client:m,page:p};if(e.phase==="COLLECTING")return{...e,dimensions:c,viewport:s,current:y};const b=c.draggables[e.critical.draggable.id],x=i||dB({pageOffset:p.offset,draggable:b,draggables:c.draggables,droppables:c.droppables,previousImpact:e.impact,viewport:s,afterCritical:e.afterCritical}),T=fV({draggable:b,impact:x,previousImpact:e.impact,draggables:c.draggables,droppables:c.droppables});return{...e,current:y,dimensions:{draggables:c.draggables,droppables:T},impact:x,viewport:s,scrollJumpRequest:a||null,forceShouldAnimate:a?!1:null}};function hV(e,t){return e.map(n=>t[n])}var fB=({impact:e,viewport:t,draggables:n,destination:r,forceShouldAnimate:i})=>{const a=e.displaced,s=hV(a.all,n),c=dm({afterDragging:s,destination:r,displacedBy:e.displacedBy,viewport:t.frame,forceShouldAnimate:i,last:a});return{...e,displaced:c}},hB=({impact:e,draggable:t,droppable:n,draggables:r,viewport:i,afterCritical:a})=>{const s=Fy({impact:e,draggable:t,draggables:r,droppable:n,afterCritical:a});return F2({pageBorderBoxCenter:s,draggable:t,viewport:i})},mB=({state:e,dimensions:t,viewport:n})=>{e.movementMode!=="SNAP"&&Fe();const r=e.impact,i=n||e.viewport,a=t||e.dimensions,{draggables:s,droppables:c}=a,d=s[e.critical.draggable.id],f=aa(r);f||Fe();const m=c[f],p=fB({impact:r,viewport:i,destination:m,draggables:s}),y=hB({impact:p,draggable:d,droppable:m,draggables:s,viewport:i,afterCritical:e.afterCritical});return Qh({impact:p,clientSelection:y,state:e,dimensions:a,viewport:i})},mV=e=>({index:e.index,droppableId:e.droppableId}),pB=({draggable:e,home:t,draggables:n,viewport:r})=>{const i=qm(t.axis,e.displaceBy),a=hf(t.descriptor.id,n),s=a.indexOf(e);s===-1&&Fe();const c=a.slice(s+1),d=c.reduce((y,b)=>(y[b.descriptor.id]=!0,y),{}),f={inVirtualList:t.descriptor.mode==="virtual",displacedBy:i,effected:d};return{impact:{displaced:dm({afterDragging:c,destination:t,displacedBy:i,last:null,viewport:r.frame,forceShouldAnimate:!1}),displacedBy:i,at:{type:"REORDER",destination:mV(e.descriptor)}},afterCritical:f}},pV=(e,t)=>({draggables:e.draggables,droppables:G2(e.droppables,t)}),gV=({draggable:e,offset:t,initialWindowScroll:n})=>{const r=Av(e.client,t),i=Tv(r,n);return{...e,placeholder:{...e.placeholder,client:r},client:r,page:i}},vV=e=>{const t=e.frame;return t||Fe(),t},yV=({additions:e,updatedDroppables:t,viewport:n})=>{const r=n.scroll.diff.value;return e.map(i=>{const a=i.descriptor.droppableId,s=t[a],d=vV(s).scroll.diff.value,f=$r(r,d);return gV({draggable:i,offset:f,initialWindowScroll:n.scroll.initial})})},bV=({state:e,published:t})=>{const n=t.modified.map(j=>{const D=e.dimensions.droppables[j.droppableId];return $2(D,j.scroll)}),r={...e.dimensions.droppables,...X$(n)},i=J$(yV({additions:t.additions,updatedDroppables:r,viewport:e.viewport})),a={...e.dimensions.draggables,...i};t.removals.forEach(j=>{delete a[j]});const s={droppables:r,draggables:a},c=aa(e.impact),d=c?s.droppables[c]:null,f=s.draggables[e.critical.draggable.id],m=s.droppables[e.critical.droppable.id],{impact:p,afterCritical:y}=pB({draggable:f,home:m,draggables:a,viewport:e.viewport}),b=d&&d.isCombineEnabled?e.impact:p,x=dB({pageOffset:e.current.page.offset,draggable:s.draggables[e.critical.draggable.id],draggables:s.draggables,droppables:s.droppables,previousImpact:b,viewport:e.viewport,afterCritical:y}),T={...e,phase:"DRAGGING",impact:x,onLiftImpact:p,dimensions:s,afterCritical:y,forceShouldAnimate:!1};return e.phase==="COLLECTING"?T:{...T,phase:"DROP_PENDING",reason:e.reason,isWaiting:!1}};const XS=e=>e.movementMode==="SNAP",nw=(e,t,n)=>{const r=pV(e.dimensions,t);return!XS(e)||n?Qh({state:e,dimensions:r}):mB({state:e,dimensions:r})};function rw(e){return e.isDragging&&e.movementMode==="SNAP"?{...e,scrollJumpRequest:null}:e}const TC={phase:"IDLE",completed:null,shouldFlush:!1};var _V=(e=TC,t)=>{if(t.type==="FLUSH")return{...TC,shouldFlush:!0};if(t.type==="INITIAL_PUBLISH"){e.phase!=="IDLE"&&Fe();const{critical:n,clientSelection:r,viewport:i,dimensions:a,movementMode:s}=t.payload,c=a.draggables[n.draggable.id],d=a.droppables[n.droppable.id],f={selection:r,borderBoxCenter:c.client.borderBox.center,offset:Tr},m={client:f,page:{selection:$r(f.selection,i.scroll.initial),borderBoxCenter:$r(f.selection,i.scroll.initial),offset:$r(f.selection,i.scroll.diff.value)}},p=zy(a.droppables).every(T=>!T.isFixedOnPage),{impact:y,afterCritical:b}=pB({draggable:c,home:d,draggables:a.draggables,viewport:i});return{phase:"DRAGGING",isDragging:!0,critical:n,movementMode:s,dimensions:a,initial:m,current:m,isWindowScrollAllowed:p,impact:y,afterCritical:b,onLiftImpact:y,viewport:i,scrollJumpRequest:null,forceShouldAnimate:null}}if(t.type==="COLLECTION_STARTING")return e.phase==="COLLECTING"||e.phase==="DROP_PENDING"?e:(e.phase!=="DRAGGING"&&Fe(),{...e,phase:"COLLECTING"});if(t.type==="PUBLISH_WHILE_DRAGGING")return e.phase==="COLLECTING"||e.phase==="DROP_PENDING"||Fe(),bV({state:e,published:t.payload});if(t.type==="MOVE"){if(e.phase==="DROP_PENDING")return e;Vc(e)||Fe();const{client:n}=t.payload;return Gl(n,e.current.client.selection)?e:Qh({state:e,clientSelection:n,impact:XS(e)?e.impact:null})}if(t.type==="UPDATE_DROPPABLE_SCROLL"){if(e.phase==="DROP_PENDING"||e.phase==="COLLECTING")return rw(e);Vc(e)||Fe();const{id:n,newScroll:r}=t.payload,i=e.dimensions.droppables[n];if(!i)return e;const a=$2(i,r);return nw(e,a,!1)}if(t.type==="UPDATE_DROPPABLE_IS_ENABLED"){if(e.phase==="DROP_PENDING")return e;Vc(e)||Fe();const{id:n,isEnabled:r}=t.payload,i=e.dimensions.droppables[n];i||Fe(),i.isEnabled===r&&Fe();const a={...i,isEnabled:r};return nw(e,a,!0)}if(t.type==="UPDATE_DROPPABLE_IS_COMBINE_ENABLED"){if(e.phase==="DROP_PENDING")return e;Vc(e)||Fe();const{id:n,isCombineEnabled:r}=t.payload,i=e.dimensions.droppables[n];i||Fe(),i.isCombineEnabled===r&&Fe();const a={...i,isCombineEnabled:r};return nw(e,a,!0)}if(t.type==="MOVE_BY_WINDOW_SCROLL"){if(e.phase==="DROP_PENDING"||e.phase==="DROP_ANIMATING")return e;Vc(e)||Fe(),e.isWindowScrollAllowed||Fe();const n=t.payload.newScroll;if(Gl(e.viewport.scroll.current,n))return rw(e);const r=iB(e.viewport,n);return XS(e)?mB({state:e,viewport:r}):Qh({state:e,viewport:r})}if(t.type==="UPDATE_VIEWPORT_MAX_SCROLL"){if(!Vc(e))return e;const n=t.payload.maxScroll;if(Gl(n,e.viewport.scroll.max))return e;const r={...e.viewport,scroll:{...e.viewport.scroll,max:n}};return{...e,viewport:r}}if(t.type==="MOVE_UP"||t.type==="MOVE_DOWN"||t.type==="MOVE_LEFT"||t.type==="MOVE_RIGHT"){if(e.phase==="COLLECTING"||e.phase==="DROP_PENDING")return e;e.phase!=="DRAGGING"&&Fe();const n=nV({state:e,type:t.type});return n?Qh({state:e,impact:n.impact,clientSelection:n.clientSelection,scrollJumpRequest:n.scrollJumpRequest}):e}if(t.type==="DROP_PENDING"){const n=t.payload.reason;return e.phase!=="COLLECTING"&&Fe(),{...e,phase:"DROP_PENDING",isWaiting:!0,reason:n}}if(t.type==="DROP_ANIMATE"){const{completed:n,dropDuration:r,newHomeClientOffset:i}=t.payload;return e.phase==="DRAGGING"||e.phase==="DROP_PENDING"||Fe(),{phase:"DROP_ANIMATING",completed:n,dropDuration:r,newHomeClientOffset:i,dimensions:e.dimensions}}if(t.type==="DROP_COMPLETE"){const{completed:n}=t.payload;return{phase:"IDLE",completed:n,shouldFlush:!1}}return e};function Gt(e,t){return e instanceof Object&&"type"in e&&e.type===t}const xV=e=>({type:"BEFORE_INITIAL_CAPTURE",payload:e}),wV=e=>({type:"LIFT",payload:e}),SV=e=>({type:"INITIAL_PUBLISH",payload:e}),EV=e=>({type:"PUBLISH_WHILE_DRAGGING",payload:e}),AV=()=>({type:"COLLECTION_STARTING",payload:null}),TV=e=>({type:"UPDATE_DROPPABLE_SCROLL",payload:e}),kV=e=>({type:"UPDATE_DROPPABLE_IS_ENABLED",payload:e}),OV=e=>({type:"UPDATE_DROPPABLE_IS_COMBINE_ENABLED",payload:e}),gB=e=>({type:"MOVE",payload:e}),jV=e=>({type:"MOVE_BY_WINDOW_SCROLL",payload:e}),NV=e=>({type:"UPDATE_VIEWPORT_MAX_SCROLL",payload:e}),CV=()=>({type:"MOVE_UP",payload:null}),MV=()=>({type:"MOVE_DOWN",payload:null}),DV=()=>({type:"MOVE_RIGHT",payload:null}),PV=()=>({type:"MOVE_LEFT",payload:null}),q2=()=>({type:"FLUSH",payload:null}),RV=e=>({type:"DROP_ANIMATE",payload:e}),Y2=e=>({type:"DROP_COMPLETE",payload:e}),vB=e=>({type:"DROP",payload:e}),LV=e=>({type:"DROP_PENDING",payload:e}),yB=()=>({type:"DROP_ANIMATION_FINISHED",payload:null});var IV=e=>({getState:t,dispatch:n})=>r=>i=>{if(!Gt(i,"LIFT")){r(i);return}const{id:a,clientSelection:s,movementMode:c}=i.payload,d=t();d.phase==="DROP_ANIMATING"&&n(Y2({completed:d.completed})),t().phase!=="IDLE"&&Fe(),n(q2()),n(xV({draggableId:a,movementMode:c}));const m={draggableId:a,scrollOptions:{shouldPublishImmediately:c==="SNAP"}},{critical:p,dimensions:y,viewport:b}=e.startPublishing(m);n(SV({critical:p,dimensions:y,clientSelection:s,movementMode:c,viewport:b}))},$V=e=>()=>t=>n=>{Gt(n,"INITIAL_PUBLISH")&&e.dragging(),Gt(n,"DROP_ANIMATE")&&e.dropping(n.payload.completed.result.reason),(Gt(n,"FLUSH")||Gt(n,"DROP_COMPLETE"))&&e.resting(),t(n)};const K2={outOfTheWay:"cubic-bezier(0.2, 0, 0, 1)",drop:"cubic-bezier(.2,1,.1,1)"},fm={opacity:{drop:0,combining:.7},scale:{drop:.75}},bB={outOfTheWay:.2,minDropTime:.33,maxDropTime:.55},zc=`${bB.outOfTheWay}s ${K2.outOfTheWay}`,em={fluid:`opacity ${zc}`,snap:`transform ${zc}, opacity ${zc}`,drop:e=>{const t=`${e}s ${K2.drop}`;return`transform ${t}, opacity ${t}`},outOfTheWay:`transform ${zc}`,placeholder:`height ${zc}, width ${zc}, margin ${zc}`},kC=e=>Gl(e,Tr)?void 0:`translate(${e.x}px, ${e.y}px)`,JS={moveTo:kC,drop:(e,t)=>{const n=kC(e);if(n)return t?`${n} scale(${fm.scale.drop})`:n}},{minDropTime:QS,maxDropTime:_B}=bB,BV=_B-QS,OC=1500,zV=.6;var UV=({current:e,destination:t,reason:n})=>{const r=cm(e,t);if(r<=0)return QS;if(r>=OC)return _B;const i=r/OC,a=QS+BV*i,s=n==="CANCEL"?a*zV:a;return Number(s.toFixed(2))},HV=({impact:e,draggable:t,dimensions:n,viewport:r,afterCritical:i})=>{const{draggables:a,droppables:s}=n,c=aa(e),d=c?s[c]:null,f=s[t.descriptor.droppableId],m=hB({impact:e,draggable:t,draggables:a,afterCritical:i,droppable:d||f,viewport:r});return ra(m,t.client.borderBox.center)},FV=({draggables:e,reason:t,lastImpact:n,home:r,viewport:i,onLiftImpact:a})=>!n.at||t!=="DROP"?{impact:fB({draggables:e,impact:a,destination:r,viewport:i,forceShouldAnimate:!0}),didDropInsideDroppable:!1}:n.at.type==="REORDER"?{impact:n,didDropInsideDroppable:!0}:{impact:{...n,displaced:um},didDropInsideDroppable:!0};const GV=({getState:e,dispatch:t})=>n=>r=>{if(!Gt(r,"DROP")){n(r);return}const i=e(),a=r.payload.reason;if(i.phase==="COLLECTING"){t(LV({reason:a}));return}if(i.phase==="IDLE")return;i.phase==="DROP_PENDING"&&i.isWaiting&&Fe(),i.phase==="DRAGGING"||i.phase==="DROP_PENDING"||Fe();const c=i.critical,d=i.dimensions,f=d.draggables[i.critical.draggable.id],{impact:m,didDropInsideDroppable:p}=FV({reason:a,lastImpact:i.impact,afterCritical:i.afterCritical,onLiftImpact:i.onLiftImpact,home:i.dimensions.droppables[i.critical.droppable.id],viewport:i.viewport,draggables:i.dimensions.draggables}),y=p?B2(m):null,b=p?Uy(m):null,x={index:c.draggable.index,droppableId:c.droppable.id},T={draggableId:f.descriptor.id,type:f.descriptor.type,source:x,reason:a,mode:i.movementMode,destination:y,combine:b},S=HV({impact:m,draggable:f,dimensions:d,viewport:i.viewport,afterCritical:i.afterCritical}),j={critical:i.critical,afterCritical:i.afterCritical,result:T,impact:m};if(!(!Gl(i.current.client.offset,S)||!!T.combine)){t(Y2({completed:j}));return}const O=UV({current:i.current.client.offset,destination:S,reason:a});t(RV({newHomeClientOffset:S,dropDuration:O,completed:j}))};var xB=()=>({x:window.pageXOffset,y:window.pageYOffset});function qV(e){return{eventName:"scroll",options:{passive:!0,capture:!1},fn:t=>{t.target!==window&&t.target!==window.document||e()}}}function YV({onWindowScroll:e}){function t(){e(xB())}const n=lm(t),r=qV(n);let i=Fl;function a(){return i!==Fl}function s(){a()&&Fe(),i=Ma(window,[r])}function c(){a()||Fe(),n.cancel(),i(),i=Fl}return{start:s,stop:c,isActive:a}}const KV=e=>Gt(e,"DROP_COMPLETE")||Gt(e,"DROP_ANIMATE")||Gt(e,"FLUSH"),WV=e=>{const t=YV({onWindowScroll:n=>{e.dispatch(jV({newScroll:n}))}});return n=>r=>{!t.isActive()&&Gt(r,"INITIAL_PUBLISH")&&t.start(),t.isActive()&&KV(r)&&t.stop(),n(r)}};var VV=e=>{let t=!1,n=!1;const r=setTimeout(()=>{n=!0}),i=a=>{t||n||(t=!0,e(a),clearTimeout(r))};return i.wasCalled=()=>t,i},ZV=()=>{const e=[],t=i=>{const a=e.findIndex(c=>c.timerId===i);a===-1&&Fe();const[s]=e.splice(a,1);s.callback()};return{add:i=>{const a=setTimeout(()=>t(a)),s={timerId:a,callback:i};e.push(s)},flush:()=>{if(!e.length)return;const i=[...e];e.length=0,i.forEach(a=>{clearTimeout(a.timerId),a.callback()})}}};const XV=(e,t)=>e==null&&t==null?!0:e==null||t==null?!1:e.droppableId===t.droppableId&&e.index===t.index,JV=(e,t)=>e==null&&t==null?!0:e==null||t==null?!1:e.draggableId===t.draggableId&&e.droppableId===t.droppableId,QV=(e,t)=>{if(e===t)return!0;const n=e.draggable.id===t.draggable.id&&e.draggable.droppableId===t.draggable.droppableId&&e.draggable.type===t.draggable.type&&e.draggable.index===t.draggable.index,r=e.droppable.id===t.droppable.id&&e.droppable.type===t.droppable.type;return n&&r},kh=(e,t)=>{t()},Kg=(e,t)=>({draggableId:e.draggable.id,type:e.droppable.type,source:{droppableId:e.droppable.id,index:e.draggable.index},mode:t});function iw(e,t,n,r){if(!e){n(r(t));return}const i=VV(n);e(t,{announce:i}),i.wasCalled()||n(r(t))}var eZ=(e,t)=>{const n=ZV();let r=null;const i=(p,y)=>{r&&Fe(),kh("onBeforeCapture",()=>{const b=e().onBeforeCapture;b&&b({draggableId:p,mode:y})})},a=(p,y)=>{r&&Fe(),kh("onBeforeDragStart",()=>{const b=e().onBeforeDragStart;b&&b(Kg(p,y))})},s=(p,y)=>{r&&Fe();const b=Kg(p,y);r={mode:y,lastCritical:p,lastLocation:b.source,lastCombine:null},n.add(()=>{kh("onDragStart",()=>iw(e().onDragStart,b,t,tv.onDragStart))})},c=(p,y)=>{const b=B2(y),x=Uy(y);r||Fe();const T=!QV(p,r.lastCritical);T&&(r.lastCritical=p);const S=!XV(r.lastLocation,b);S&&(r.lastLocation=b);const j=!JV(r.lastCombine,x);if(j&&(r.lastCombine=x),!T&&!S&&!j)return;const D={...Kg(p,r.mode),combine:x,destination:b};n.add(()=>{kh("onDragUpdate",()=>iw(e().onDragUpdate,D,t,tv.onDragUpdate))})},d=()=>{r||Fe(),n.flush()},f=p=>{r||Fe(),r=null,kh("onDragEnd",()=>iw(e().onDragEnd,p,t,tv.onDragEnd))};return{beforeCapture:i,beforeStart:a,start:s,update:c,flush:d,drop:f,abort:()=>{if(!r)return;const p={...Kg(r.lastCritical,r.mode),combine:null,destination:null,reason:"CANCEL"};f(p)}}},tZ=(e,t)=>{const n=eZ(e,t);return r=>i=>a=>{if(Gt(a,"BEFORE_INITIAL_CAPTURE")){n.beforeCapture(a.payload.draggableId,a.payload.movementMode);return}if(Gt(a,"INITIAL_PUBLISH")){const c=a.payload.critical;n.beforeStart(c,a.payload.movementMode),i(a),n.start(c,a.payload.movementMode);return}if(Gt(a,"DROP_COMPLETE")){const c=a.payload.completed.result;n.flush(),i(a),n.drop(c);return}if(i(a),Gt(a,"FLUSH")){n.abort();return}const s=r.getState();s.phase==="DRAGGING"&&n.update(s.critical,s.impact)}};const nZ=e=>t=>n=>{if(!Gt(n,"DROP_ANIMATION_FINISHED")){t(n);return}const r=e.getState();r.phase!=="DROP_ANIMATING"&&Fe(),e.dispatch(Y2({completed:r.completed}))},rZ=e=>{let t=null,n=null;function r(){n&&(cancelAnimationFrame(n),n=null),t&&(t(),t=null)}return i=>a=>{if((Gt(a,"FLUSH")||Gt(a,"DROP_COMPLETE")||Gt(a,"DROP_ANIMATION_FINISHED"))&&r(),i(a),!Gt(a,"DROP_ANIMATE"))return;const s={eventName:"scroll",options:{capture:!0,passive:!1,once:!0},fn:function(){e.getState().phase==="DROP_ANIMATING"&&e.dispatch(yB())}};n=requestAnimationFrame(()=>{n=null,t=Ma(window,[s])})}};var iZ=e=>()=>t=>n=>{(Gt(n,"DROP_COMPLETE")||Gt(n,"FLUSH")||Gt(n,"DROP_ANIMATE"))&&e.stopPublishing(),t(n)},aZ=e=>{let t=!1;return()=>n=>r=>{if(Gt(r,"INITIAL_PUBLISH")){t=!0,e.tryRecordFocus(r.payload.critical.draggable.id),n(r),e.tryRestoreFocusRecorded();return}if(n(r),!!t){if(Gt(r,"FLUSH")){t=!1,e.tryRestoreFocusRecorded();return}if(Gt(r,"DROP_COMPLETE")){t=!1;const i=r.payload.completed.result;i.combine&&e.tryShiftRecord(i.draggableId,i.combine.draggableId),e.tryRestoreFocusRecorded()}}}};const oZ=e=>Gt(e,"DROP_COMPLETE")||Gt(e,"DROP_ANIMATE")||Gt(e,"FLUSH");var sZ=e=>t=>n=>r=>{if(oZ(r)){e.stop(),n(r);return}if(Gt(r,"INITIAL_PUBLISH")){n(r);const i=t.getState();i.phase!=="DRAGGING"&&Fe(),e.start(i);return}n(r),e.scroll(t.getState())};const lZ=e=>t=>n=>{if(t(n),!Gt(n,"PUBLISH_WHILE_DRAGGING"))return;const r=e.getState();r.phase==="DROP_PENDING"&&(r.isWaiting||e.dispatch(vB({reason:r.reason})))},cZ=sm;var uZ=({dimensionMarshal:e,focusMarshal:t,styleMarshal:n,getResponders:r,announce:i,autoScroller:a})=>D2(_V,cZ(R$($V(n),iZ(e),IV(e),GV,nZ,rZ,lZ,sZ(a),WV,aZ(t),tZ(r,i))));const aw=()=>({additions:{},removals:{},modified:{}});function dZ({registry:e,callbacks:t}){let n=aw(),r=null;const i=()=>{r||(t.collectionStarting(),r=requestAnimationFrame(()=>{r=null;const{additions:d,removals:f,modified:m}=n,p=Object.keys(d).map(x=>e.draggable.getById(x).getDimension(Tr)).sort((x,T)=>x.descriptor.index-T.descriptor.index),y=Object.keys(m).map(x=>{const S=e.droppable.getById(x).callbacks.getScrollWhileDragging();return{droppableId:x,scroll:S}}),b={additions:p,removals:Object.keys(f),modified:y};n=aw(),t.publish(b)}))};return{add:d=>{const f=d.descriptor.id;n.additions[f]=d,n.modified[d.descriptor.droppableId]=!0,n.removals[f]&&delete n.removals[f],i()},remove:d=>{const f=d.descriptor;n.removals[f.id]=!0,n.modified[f.droppableId]=!0,n.additions[f.id]&&delete n.additions[f.id],i()},stop:()=>{r&&(cancelAnimationFrame(r),r=null,n=aw())}}}var wB=({scrollHeight:e,scrollWidth:t,height:n,width:r})=>{const i=ra({x:t,y:e},{x:r,y:n});return{x:Math.max(0,i.x),y:Math.max(0,i.y)}},SB=()=>{const e=document.documentElement;return e||Fe(),e},EB=()=>{const e=SB();return wB({scrollHeight:e.scrollHeight,scrollWidth:e.scrollWidth,width:e.clientWidth,height:e.clientHeight})},fZ=()=>{const e=xB(),t=EB(),n=e.y,r=e.x,i=SB(),a=i.clientWidth,s=i.clientHeight,c=r+a,d=n+s;return{frame:go({top:n,left:r,right:c,bottom:d}),scroll:{initial:e,current:e,max:t,diff:{value:Tr,displacement:Tr}}}},hZ=({critical:e,scrollOptions:t,registry:n})=>{const r=fZ(),i=r.scroll.current,a=e.droppable,s=n.droppable.getAllByType(a.type).map(m=>m.callbacks.getDimensionAndWatchScroll(i,t)),c=n.draggable.getAllByType(e.draggable.type).map(m=>m.getDimension(i));return{dimensions:{draggables:J$(c),droppables:X$(s)},critical:e,viewport:r}};function jC(e,t,n){return!(n.descriptor.id===t.id||n.descriptor.type!==t.type||e.droppable.getById(n.descriptor.droppableId).descriptor.mode!=="virtual")}var mZ=(e,t)=>{let n=null;const r=dZ({callbacks:{publish:t.publishWhileDragging,collectionStarting:t.collectionStarting},registry:e}),i=(y,b)=>{e.droppable.exists(y)||Fe(),n&&t.updateDroppableIsEnabled({id:y,isEnabled:b})},a=(y,b)=>{n&&(e.droppable.exists(y)||Fe(),t.updateDroppableIsCombineEnabled({id:y,isCombineEnabled:b}))},s=(y,b)=>{n&&(e.droppable.exists(y)||Fe(),t.updateDroppableScroll({id:y,newScroll:b}))},c=(y,b)=>{n&&e.droppable.getById(y).callbacks.scroll(b)},d=()=>{if(!n)return;r.stop();const y=n.critical.droppable;e.droppable.getAllByType(y.type).forEach(b=>b.callbacks.dragStopped()),n.unsubscribe(),n=null},f=y=>{n||Fe();const b=n.critical.draggable;y.type==="ADDITION"&&jC(e,b,y.value)&&r.add(y.value),y.type==="REMOVAL"&&jC(e,b,y.value)&&r.remove(y.value)};return{updateDroppableIsEnabled:i,updateDroppableIsCombineEnabled:a,scrollDroppable:c,updateDroppableScroll:s,startPublishing:y=>{n&&Fe();const b=e.draggable.getById(y.draggableId),x=e.droppable.getById(b.descriptor.droppableId),T={draggable:b.descriptor,droppable:x.descriptor},S=e.subscribe(f);return n={critical:T,unsubscribe:S},hZ({critical:T,registry:e,scrollOptions:y.scrollOptions})},stopPublishing:d}},AB=(e,t)=>e.phase==="IDLE"?!0:e.phase!=="DROP_ANIMATING"||e.completed.result.draggableId===t?!1:e.completed.result.reason==="DROP",pZ=e=>{window.scrollBy(e.x,e.y)};const gZ=Er(e=>zy(e).filter(t=>!(!t.isEnabled||!t.frame))),vZ=(e,t)=>gZ(t).find(r=>(r.frame||Fe(),lB(r.frame.pageMarginBox)(e)))||null;var yZ=({center:e,destination:t,droppables:n})=>{if(t){const i=n[t];return i.frame?i:null}return vZ(e,n)};const hm={startFromPercentage:.25,maxScrollAtPercentage:.05,maxPixelScroll:28,ease:e=>e**2,durationDampening:{stopDampeningAt:1200,accelerateAt:360},disabled:!1};var bZ=(e,t,n=()=>hm)=>{const r=n(),i=e[t.size]*r.startFromPercentage,a=e[t.size]*r.maxScrollAtPercentage;return{startScrollingFrom:i,maxScrollValueAt:a}},TB=({startOfRange:e,endOfRange:t,current:n})=>{const r=t-e;return r===0?0:(n-e)/r},W2=1,_Z=(e,t,n=()=>hm)=>{const r=n();if(e>t.startScrollingFrom)return 0;if(e<=t.maxScrollValueAt)return r.maxPixelScroll;if(e===t.startScrollingFrom)return W2;const a=1-TB({startOfRange:t.maxScrollValueAt,endOfRange:t.startScrollingFrom,current:e}),s=r.maxPixelScroll*r.ease(a);return Math.ceil(s)},xZ=(e,t,n)=>{const r=n(),i=r.durationDampening.accelerateAt,a=r.durationDampening.stopDampeningAt,s=t,c=a,f=Date.now()-s;if(f>=a)return e;if(f<i)return W2;const m=TB({startOfRange:i,endOfRange:c,current:f}),p=e*r.ease(m);return Math.ceil(p)},NC=({distanceToEdge:e,thresholds:t,dragStartTime:n,shouldUseTimeDampening:r,getAutoScrollerOptions:i})=>{const a=_Z(e,t,i);return a===0?0:r?Math.max(xZ(a,n,i),W2):a},CC=({container:e,distanceToEdges:t,dragStartTime:n,axis:r,shouldUseTimeDampening:i,getAutoScrollerOptions:a})=>{const s=bZ(e,r,a);return t[r.end]<t[r.start]?NC({distanceToEdge:t[r.end],thresholds:s,dragStartTime:n,shouldUseTimeDampening:i,getAutoScrollerOptions:a}):-1*NC({distanceToEdge:t[r.start],thresholds:s,dragStartTime:n,shouldUseTimeDampening:i,getAutoScrollerOptions:a})},wZ=({container:e,subject:t,proposedScroll:n})=>{const r=t.height>e.height,i=t.width>e.width;return!i&&!r?n:i&&r?null:{x:i?0:n.x,y:r?0:n.y}};const SZ=Z$(e=>e===0?0:e);var kB=({dragStartTime:e,container:t,subject:n,center:r,shouldUseTimeDampening:i,getAutoScrollerOptions:a})=>{const s={top:r.y-t.top,right:t.right-r.x,bottom:t.bottom-r.y,left:r.x-t.left},c=CC({container:t,distanceToEdges:s,dragStartTime:e,axis:z2,shouldUseTimeDampening:i,getAutoScrollerOptions:a}),d=CC({container:t,distanceToEdges:s,dragStartTime:e,axis:tB,shouldUseTimeDampening:i,getAutoScrollerOptions:a}),f=SZ({x:d,y:c});if(Gl(f,Tr))return null;const m=wZ({container:t,subject:n,proposedScroll:f});return m?Gl(m,Tr)?null:m:null};const EZ=Z$(e=>e===0?0:e>0?1:-1),V2=(()=>{const e=(t,n)=>t<0?t:t>n?t-n:0;return({current:t,max:n,change:r})=>{const i=$r(t,r),a={x:e(i.x,n.x),y:e(i.y,n.y)};return Gl(a,Tr)?null:a}})(),OB=({max:e,current:t,change:n})=>{const r={x:Math.max(t.x,e.x),y:Math.max(t.y,e.y)},i=EZ(n),a=V2({max:r,current:t,change:i});return!a||i.x!==0&&a.x===0||i.y!==0&&a.y===0},Z2=(e,t)=>OB({current:e.scroll.current,max:e.scroll.max,change:t}),AZ=(e,t)=>{if(!Z2(e,t))return null;const n=e.scroll.max,r=e.scroll.current;return V2({current:r,max:n,change:t})},X2=(e,t)=>{const n=e.frame;return n?OB({current:n.scroll.current,max:n.scroll.max,change:t}):!1},TZ=(e,t)=>{const n=e.frame;return!n||!X2(e,t)?null:V2({current:n.scroll.current,max:n.scroll.max,change:t})};var kZ=({viewport:e,subject:t,center:n,dragStartTime:r,shouldUseTimeDampening:i,getAutoScrollerOptions:a})=>{const s=kB({dragStartTime:r,container:e.frame,subject:t,center:n,shouldUseTimeDampening:i,getAutoScrollerOptions:a});return s&&Z2(e,s)?s:null},OZ=({droppable:e,subject:t,center:n,dragStartTime:r,shouldUseTimeDampening:i,getAutoScrollerOptions:a})=>{const s=e.frame;if(!s)return null;const c=kB({dragStartTime:r,container:s.pageMarginBox,subject:t,center:n,shouldUseTimeDampening:i,getAutoScrollerOptions:a});return c&&X2(e,c)?c:null},MC=({state:e,dragStartTime:t,shouldUseTimeDampening:n,scrollWindow:r,scrollDroppable:i,getAutoScrollerOptions:a})=>{const s=e.current.page.borderBoxCenter,d=e.dimensions.draggables[e.critical.draggable.id].page.marginBox;if(e.isWindowScrollAllowed){const p=e.viewport,y=kZ({dragStartTime:t,viewport:p,subject:d,center:s,shouldUseTimeDampening:n,getAutoScrollerOptions:a});if(y){r(y);return}}const f=yZ({center:s,destination:aa(e.impact),droppables:e.dimensions.droppables});if(!f)return;const m=OZ({dragStartTime:t,droppable:f,subject:d,center:s,shouldUseTimeDampening:n,getAutoScrollerOptions:a});m&&i(f.descriptor.id,m)},jZ=({scrollWindow:e,scrollDroppable:t,getAutoScrollerOptions:n=()=>hm})=>{const r=lm(e),i=lm(t);let a=null;const s=f=>{a||Fe();const{shouldUseTimeDampening:m,dragStartTime:p}=a;MC({state:f,scrollWindow:r,scrollDroppable:i,dragStartTime:p,shouldUseTimeDampening:m,getAutoScrollerOptions:n})};return{start:f=>{a&&Fe();const m=Date.now();let p=!1;const y=()=>{p=!0};MC({state:f,dragStartTime:0,shouldUseTimeDampening:!1,scrollWindow:y,scrollDroppable:y,getAutoScrollerOptions:n}),a={dragStartTime:m,shouldUseTimeDampening:p},p&&s(f)},stop:()=>{a&&(r.cancel(),i.cancel(),a=null)},scroll:s}},NZ=({move:e,scrollDroppable:t,scrollWindow:n})=>{const r=(c,d)=>{const f=$r(c.current.client.selection,d);e({client:f})},i=(c,d)=>{if(!X2(c,d))return d;const f=TZ(c,d);if(!f)return t(c.descriptor.id,d),null;const m=ra(d,f);return t(c.descriptor.id,m),ra(d,m)},a=(c,d,f)=>{if(!c||!Z2(d,f))return f;const m=AZ(d,f);if(!m)return n(f),null;const p=ra(f,m);return n(p),ra(f,p)};return c=>{const d=c.scrollJumpRequest;if(!d)return;const f=aa(c.impact);f||Fe();const m=i(c.dimensions.droppables[f],d);if(!m)return;const p=c.viewport,y=a(c.isWindowScrollAllowed,p,m);y&&r(c,y)}},CZ=({scrollDroppable:e,scrollWindow:t,move:n,getAutoScrollerOptions:r})=>{const i=jZ({scrollWindow:t,scrollDroppable:e,getAutoScrollerOptions:r}),a=NZ({move:n,scrollWindow:t,scrollDroppable:e});return{scroll:d=>{if(!(r().disabled||d.phase!=="DRAGGING")){if(d.movementMode==="FLUID"){i.scroll(d);return}d.scrollJumpRequest&&a(d)}},start:i.start,stop:i.stop}};const Wd="data-rfd",Vd=(()=>{const e=`${Wd}-drag-handle`;return{base:e,draggableId:`${e}-draggable-id`,contextId:`${e}-context-id`}})(),eE=(()=>{const e=`${Wd}-draggable`;return{base:e,contextId:`${e}-context-id`,id:`${e}-id`}})(),MZ=(()=>{const e=`${Wd}-droppable`;return{base:e,contextId:`${e}-context-id`,id:`${e}-id`}})(),DC={contextId:`${Wd}-scroll-container-context-id`},DZ=e=>t=>`[${t}="${e}"]`,Oh=(e,t)=>e.map(n=>{const r=n.styles[t];return r?`${n.selector} { ${r} }`:""}).join(" "),PZ="pointer-events: none;";var RZ=e=>{const t=DZ(e),n=(()=>{const c=`
      cursor: -webkit-grab;
      cursor: grab;
    `;return{selector:t(Vd.contextId),styles:{always:`
          -webkit-touch-callout: none;
          -webkit-tap-highlight-color: rgba(0,0,0,0);
          touch-action: manipulation;
        `,resting:c,dragging:PZ,dropAnimating:c}}})(),r=(()=>{const c=`
      transition: ${em.outOfTheWay};
    `;return{selector:t(eE.contextId),styles:{dragging:c,dropAnimating:c,userCancel:c}}})(),i={selector:t(MZ.contextId),styles:{always:"overflow-anchor: none;"}},s=[r,n,i,{selector:"body",styles:{dragging:`
        cursor: grabbing;
        cursor: -webkit-grabbing;
        user-select: none;
        -webkit-user-select: none;
        -moz-user-select: none;
        -ms-user-select: none;
        overflow-anchor: none;
      `}}];return{always:Oh(s,"always"),resting:Oh(s,"resting"),dragging:Oh(s,"dragging"),dropAnimating:Oh(s,"dropAnimating"),userCancel:Oh(s,"userCancel")}};const oa=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u"?A.useLayoutEffect:A.useEffect,ow=()=>{const e=document.querySelector("head");return e||Fe(),e},PC=e=>{const t=document.createElement("style");return e&&t.setAttribute("nonce",e),t.type="text/css",t};function LZ(e,t){const n=Nt(()=>RZ(e),[e]),r=A.useRef(null),i=A.useRef(null),a=tt(Er(p=>{const y=i.current;y||Fe(),y.textContent=p}),[]),s=tt(p=>{const y=r.current;y||Fe(),y.textContent=p},[]);oa(()=>{!r.current&&!i.current||Fe();const p=PC(t),y=PC(t);return r.current=p,i.current=y,p.setAttribute(`${Wd}-always`,e),y.setAttribute(`${Wd}-dynamic`,e),ow().appendChild(p),ow().appendChild(y),s(n.always),a(n.resting),()=>{const b=x=>{const T=x.current;T||Fe(),ow().removeChild(T),x.current=null};b(r),b(i)}},[t,s,a,n.always,n.resting,e]);const c=tt(()=>a(n.dragging),[a,n.dragging]),d=tt(p=>{if(p==="DROP"){a(n.dropAnimating);return}a(n.userCancel)},[a,n.dropAnimating,n.userCancel]),f=tt(()=>{i.current&&a(n.resting)},[a,n.resting]);return Nt(()=>({dragging:c,dropping:d,resting:f}),[c,d,f])}function jB(e,t){return Array.from(e.querySelectorAll(t))}var NB=e=>e&&e.ownerDocument&&e.ownerDocument.defaultView?e.ownerDocument.defaultView:window;function Gy(e){return e instanceof NB(e).HTMLElement}function IZ(e,t){const n=`[${Vd.contextId}="${e}"]`,r=jB(document,n);if(!r.length)return null;const i=r.find(a=>a.getAttribute(Vd.draggableId)===t);return!i||!Gy(i)?null:i}function $Z(e){const t=A.useRef({}),n=A.useRef(null),r=A.useRef(null),i=A.useRef(!1),a=tt(function(y,b){const x={id:y,focus:b};return t.current[y]=x,function(){const S=t.current;S[y]!==x&&delete S[y]}},[]),s=tt(function(y){const b=IZ(e,y);b&&b!==document.activeElement&&b.focus()},[e]),c=tt(function(y,b){n.current===y&&(n.current=b)},[]),d=tt(function(){r.current||i.current&&(r.current=requestAnimationFrame(()=>{r.current=null;const y=n.current;y&&s(y)}))},[s]),f=tt(function(y){n.current=null;const b=document.activeElement;b&&b.getAttribute(Vd.draggableId)===y&&(n.current=y)},[]);return oa(()=>(i.current=!0,function(){i.current=!1;const y=r.current;y&&cancelAnimationFrame(y)}),[]),Nt(()=>({register:a,tryRecordFocus:f,tryRestoreFocusRecorded:d,tryShiftRecord:c}),[a,f,d,c])}function BZ(){const e={draggables:{},droppables:{}},t=[];function n(p){return t.push(p),function(){const b=t.indexOf(p);b!==-1&&t.splice(b,1)}}function r(p){t.length&&t.forEach(y=>y(p))}function i(p){return e.draggables[p]||null}function a(p){const y=i(p);return y||Fe(),y}const s={register:p=>{e.draggables[p.descriptor.id]=p,r({type:"ADDITION",value:p})},update:(p,y)=>{const b=e.draggables[y.descriptor.id];b&&b.uniqueId===p.uniqueId&&(delete e.draggables[y.descriptor.id],e.draggables[p.descriptor.id]=p)},unregister:p=>{const y=p.descriptor.id,b=i(y);b&&p.uniqueId===b.uniqueId&&(delete e.draggables[y],e.droppables[p.descriptor.droppableId]&&r({type:"REMOVAL",value:p}))},getById:a,findById:i,exists:p=>!!i(p),getAllByType:p=>Object.values(e.draggables).filter(y=>y.descriptor.type===p)};function c(p){return e.droppables[p]||null}function d(p){const y=c(p);return y||Fe(),y}const f={register:p=>{e.droppables[p.descriptor.id]=p},unregister:p=>{const y=c(p.descriptor.id);y&&p.uniqueId===y.uniqueId&&delete e.droppables[p.descriptor.id]},getById:d,findById:c,exists:p=>!!c(p),getAllByType:p=>Object.values(e.droppables).filter(y=>y.descriptor.type===p)};function m(){e.draggables={},e.droppables={},t.length=0}return{draggable:s,droppable:f,subscribe:n,clean:m}}function zZ(){const e=Nt(BZ,[]);return A.useEffect(()=>function(){e.clean()},[e]),e}var J2=un.createContext(null),Cv=()=>{const e=document.body;return e||Fe(),e};const UZ={position:"absolute",width:"1px",height:"1px",margin:"-1px",border:"0",padding:"0",overflow:"hidden",clip:"rect(0 0 0 0)","clip-path":"inset(100%)"},HZ=e=>`rfd-announcement-${e}`;function FZ(e){const t=Nt(()=>HZ(e),[e]),n=A.useRef(null);return A.useEffect(function(){const a=document.createElement("div");return n.current=a,a.id=t,a.setAttribute("aria-live","assertive"),a.setAttribute("aria-atomic","true"),kv(a.style,UZ),Cv().appendChild(a),function(){setTimeout(function(){const d=Cv();d.contains(a)&&d.removeChild(a),a===n.current&&(n.current=null)})}},[t]),tt(i=>{const a=n.current;if(a){a.textContent=i;return}},[])}const GZ={separator:"::"};function Q2(e,t=GZ){const n=un.useId();return Nt(()=>`${e}${t.separator}${n}`,[t.separator,e,n])}function qZ({contextId:e,uniqueId:t}){return`rfd-hidden-text-${e}-${t}`}function YZ({contextId:e,text:t}){const n=Q2("hidden-text",{separator:"-"}),r=Nt(()=>qZ({contextId:e,uniqueId:n}),[n,e]);return A.useEffect(function(){const a=document.createElement("div");return a.id=r,a.textContent=t,a.style.display="none",Cv().appendChild(a),function(){const c=Cv();c.contains(a)&&c.removeChild(a)}},[r,t]),r}var qy=un.createContext(null);function CB(e){const t=A.useRef(e);return A.useEffect(()=>{t.current=e}),t}function KZ(){let e=null;function t(){return!!e}function n(s){return s===e}function r(s){e&&Fe();const c={abandon:s};return e=c,c}function i(){e||Fe(),e=null}function a(){e&&(e.abandon(),i())}return{isClaimed:t,isActive:n,claim:r,release:i,tryAbandon:a}}function mm(e){return e.phase==="IDLE"||e.phase==="DROP_ANIMATING"?!1:e.isDragging}const WZ=9,VZ=13,eA=27,MB=32,ZZ=33,XZ=34,JZ=35,QZ=36,eX=37,tX=38,nX=39,rX=40,iX={[VZ]:!0,[WZ]:!0};var DB=e=>{iX[e.keyCode]&&e.preventDefault()};const Yy=(()=>{const e="visibilitychange";return typeof document>"u"?e:[e,`ms${e}`,`webkit${e}`,`moz${e}`,`o${e}`].find(r=>`on${r}`in document)||e})(),PB=0,RC=5;function aX(e,t){return Math.abs(t.x-e.x)>=RC||Math.abs(t.y-e.y)>=RC}const LC={type:"IDLE"};function oX({cancel:e,completed:t,getPhase:n,setPhase:r}){return[{eventName:"mousemove",fn:i=>{const{button:a,clientX:s,clientY:c}=i;if(a!==PB)return;const d={x:s,y:c},f=n();if(f.type==="DRAGGING"){i.preventDefault(),f.actions.move(d);return}f.type!=="PENDING"&&Fe();const m=f.point;if(!aX(m,d))return;i.preventDefault();const p=f.actions.fluidLift(d);r({type:"DRAGGING",actions:p})}},{eventName:"mouseup",fn:i=>{const a=n();if(a.type!=="DRAGGING"){e();return}i.preventDefault(),a.actions.drop({shouldBlockNextClick:!0}),t()}},{eventName:"mousedown",fn:i=>{n().type==="DRAGGING"&&i.preventDefault(),e()}},{eventName:"keydown",fn:i=>{if(n().type==="PENDING"){e();return}if(i.keyCode===eA){i.preventDefault(),e();return}DB(i)}},{eventName:"resize",fn:e},{eventName:"scroll",options:{passive:!0,capture:!1},fn:()=>{n().type==="PENDING"&&e()}},{eventName:"webkitmouseforcedown",fn:i=>{const a=n();if(a.type==="IDLE"&&Fe(),a.actions.shouldRespectForcePress()){e();return}i.preventDefault()}},{eventName:Yy,fn:e}]}function sX(e){const t=A.useRef(LC),n=A.useRef(Fl),r=Nt(()=>({eventName:"mousedown",fn:function(p){if(p.defaultPrevented||p.button!==PB||p.ctrlKey||p.metaKey||p.shiftKey||p.altKey)return;const y=e.findClosestDraggableId(p);if(!y)return;const b=e.tryGetLock(y,s,{sourceEvent:p});if(!b)return;p.preventDefault();const x={x:p.clientX,y:p.clientY};n.current(),f(b,x)}}),[e]),i=Nt(()=>({eventName:"webkitmouseforcewillbegin",fn:m=>{if(m.defaultPrevented)return;const p=e.findClosestDraggableId(m);if(!p)return;const y=e.findOptionsForDraggable(p);y&&(y.shouldRespectForcePress||e.canGetLock(p)&&m.preventDefault())}}),[e]),a=tt(function(){const p={passive:!1,capture:!0};n.current=Ma(window,[i,r],p)},[i,r]),s=tt(()=>{t.current.type!=="IDLE"&&(t.current=LC,n.current(),a())},[a]),c=tt(()=>{const m=t.current;s(),m.type==="DRAGGING"&&m.actions.cancel({shouldBlockNextClick:!0}),m.type==="PENDING"&&m.actions.abort()},[s]),d=tt(function(){const p={capture:!0,passive:!1},y=oX({cancel:c,completed:s,getPhase:()=>t.current,setPhase:b=>{t.current=b}});n.current=Ma(window,y,p)},[c,s]),f=tt(function(p,y){t.current.type!=="IDLE"&&Fe(),t.current={type:"PENDING",point:y,actions:p},d()},[d]);oa(function(){return a(),function(){n.current()}},[a])}function lX(){}const cX={[XZ]:!0,[ZZ]:!0,[QZ]:!0,[JZ]:!0};function uX(e,t){function n(){t(),e.cancel()}function r(){t(),e.drop()}return[{eventName:"keydown",fn:i=>{if(i.keyCode===eA){i.preventDefault(),n();return}if(i.keyCode===MB){i.preventDefault(),r();return}if(i.keyCode===rX){i.preventDefault(),e.moveDown();return}if(i.keyCode===tX){i.preventDefault(),e.moveUp();return}if(i.keyCode===nX){i.preventDefault(),e.moveRight();return}if(i.keyCode===eX){i.preventDefault(),e.moveLeft();return}if(cX[i.keyCode]){i.preventDefault();return}DB(i)}},{eventName:"mousedown",fn:n},{eventName:"mouseup",fn:n},{eventName:"click",fn:n},{eventName:"touchstart",fn:n},{eventName:"resize",fn:n},{eventName:"wheel",fn:n,options:{passive:!0}},{eventName:Yy,fn:n}]}function dX(e){const t=A.useRef(lX),n=Nt(()=>({eventName:"keydown",fn:function(a){if(a.defaultPrevented||a.keyCode!==MB)return;const s=e.findClosestDraggableId(a);if(!s)return;const c=e.tryGetLock(s,m,{sourceEvent:a});if(!c)return;a.preventDefault();let d=!0;const f=c.snapLift();t.current();function m(){d||Fe(),d=!1,t.current(),r()}t.current=Ma(window,uX(f,m),{capture:!0,passive:!1})}}),[e]),r=tt(function(){const a={passive:!1,capture:!0};t.current=Ma(window,[n],a)},[n]);oa(function(){return r(),function(){t.current()}},[r])}const sw={type:"IDLE"},fX=120,hX=.15;function mX({cancel:e,getPhase:t}){return[{eventName:"orientationchange",fn:e},{eventName:"resize",fn:e},{eventName:"contextmenu",fn:n=>{n.preventDefault()}},{eventName:"keydown",fn:n=>{if(t().type!=="DRAGGING"){e();return}n.keyCode===eA&&n.preventDefault(),e()}},{eventName:Yy,fn:e}]}function pX({cancel:e,completed:t,getPhase:n}){return[{eventName:"touchmove",options:{capture:!1},fn:r=>{const i=n();if(i.type!=="DRAGGING"){e();return}i.hasMoved=!0;const{clientX:a,clientY:s}=r.touches[0],c={x:a,y:s};r.preventDefault(),i.actions.move(c)}},{eventName:"touchend",fn:r=>{const i=n();if(i.type!=="DRAGGING"){e();return}r.preventDefault(),i.actions.drop({shouldBlockNextClick:!0}),t()}},{eventName:"touchcancel",fn:r=>{if(n().type!=="DRAGGING"){e();return}r.preventDefault(),e()}},{eventName:"touchforcechange",fn:r=>{const i=n();i.type==="IDLE"&&Fe();const a=r.touches[0];if(!a||!(a.force>=hX))return;const c=i.actions.shouldRespectForcePress();if(i.type==="PENDING"){c&&e();return}if(c){if(i.hasMoved){r.preventDefault();return}e();return}r.preventDefault()}},{eventName:Yy,fn:e}]}function gX(e){const t=A.useRef(sw),n=A.useRef(Fl),r=tt(function(){return t.current},[]),i=tt(function(b){t.current=b},[]),a=Nt(()=>({eventName:"touchstart",fn:function(b){if(b.defaultPrevented)return;const x=e.findClosestDraggableId(b);if(!x)return;const T=e.tryGetLock(x,c,{sourceEvent:b});if(!T)return;const S=b.touches[0],{clientX:j,clientY:D}=S,O={x:j,y:D};n.current(),p(T,O)}}),[e]),s=tt(function(){const b={capture:!0,passive:!1};n.current=Ma(window,[a],b)},[a]),c=tt(()=>{const y=t.current;y.type!=="IDLE"&&(y.type==="PENDING"&&clearTimeout(y.longPressTimerId),i(sw),n.current(),s())},[s,i]),d=tt(()=>{const y=t.current;c(),y.type==="DRAGGING"&&y.actions.cancel({shouldBlockNextClick:!0}),y.type==="PENDING"&&y.actions.abort()},[c]),f=tt(function(){const b={capture:!0,passive:!1},x={cancel:d,completed:c,getPhase:r},T=Ma(window,pX(x),b),S=Ma(window,mX(x),b);n.current=function(){T(),S()}},[d,r,c]),m=tt(function(){const b=r();b.type!=="PENDING"&&Fe();const x=b.actions.fluidLift(b.point);i({type:"DRAGGING",actions:x,hasMoved:!1})},[r,i]),p=tt(function(b,x){r().type!=="IDLE"&&Fe();const T=setTimeout(m,fX);i({type:"PENDING",point:x,actions:b,longPressTimerId:T}),f()},[f,r,i,m]);oa(function(){return s(),function(){n.current();const x=r();x.type==="PENDING"&&(clearTimeout(x.longPressTimerId),i(sw))}},[r,s,i]),oa(function(){return Ma(window,[{eventName:"touchmove",fn:()=>{},options:{capture:!1,passive:!1}}])},[])}const vX=["input","button","textarea","select","option","optgroup","video","audio"];function RB(e,t){if(t==null)return!1;if(vX.includes(t.tagName.toLowerCase()))return!0;const r=t.getAttribute("contenteditable");return r==="true"||r===""?!0:t===e?!1:RB(e,t.parentElement)}function yX(e,t){const n=t.target;return Gy(n)?RB(e,n):!1}var bX=e=>go(e.getBoundingClientRect()).center;function _X(e){return e instanceof NB(e).Element}const xX=(()=>{const e="matches";return typeof document>"u"?e:[e,"msMatchesSelector","webkitMatchesSelector"].find(r=>r in Element.prototype)||e})();function LB(e,t){return e==null?null:e[xX](t)?e:LB(e.parentElement,t)}function wX(e,t){return e.closest?e.closest(t):LB(e,t)}function SX(e){return`[${Vd.contextId}="${e}"]`}function EX(e,t){const n=t.target;if(!_X(n))return null;const r=SX(e),i=wX(n,r);return!i||!Gy(i)?null:i}function AX(e,t){const n=EX(e,t);return n?n.getAttribute(Vd.draggableId):null}function TX(e,t){const n=`[${eE.contextId}="${e}"]`,i=jB(document,n).find(a=>a.getAttribute(eE.id)===t);return!i||!Gy(i)?null:i}function kX(e){e.preventDefault()}function Wg({expected:e,phase:t,isLockActive:n,shouldWarn:r}){return!(!n()||e!==t)}function IB({lockAPI:e,store:t,registry:n,draggableId:r}){if(e.isClaimed())return!1;const i=n.draggable.findById(r);return!(!i||!i.options.isEnabled||!AB(t.getState(),r))}function OX({lockAPI:e,contextId:t,store:n,registry:r,draggableId:i,forceSensorStop:a,sourceEvent:s}){if(!IB({lockAPI:e,store:n,registry:r,draggableId:i}))return null;const d=r.draggable.getById(i),f=TX(t,d.descriptor.id);if(!f||s&&!d.options.canDragInteractiveElements&&yX(f,s))return null;const m=e.claim(a||Fl);let p="PRE_DRAG";function y(){return d.options.shouldRespectForcePress}function b(){return e.isActive(m)}function x(N,R){Wg({expected:N,phase:p,isLockActive:b,shouldWarn:!0})&&n.dispatch(R())}const T=x.bind(null,"DRAGGING");function S(N){function R(){e.release(),p="COMPLETED"}p!=="PRE_DRAG"&&(R(),Fe()),n.dispatch(wV(N.liftActionArgs)),p="DRAGGING";function $(B,H={shouldBlockNextClick:!1}){if(N.cleanup(),H.shouldBlockNextClick){const V=Ma(window,[{eventName:"click",fn:kX,options:{once:!0,passive:!1,capture:!0}}]);setTimeout(V)}R(),n.dispatch(vB({reason:B}))}return{isActive:()=>Wg({expected:"DRAGGING",phase:p,isLockActive:b,shouldWarn:!1}),shouldRespectForcePress:y,drop:B=>$("DROP",B),cancel:B=>$("CANCEL",B),...N.actions}}function j(N){const R=lm(B=>{T(()=>gB({client:B}))});return{...S({liftActionArgs:{id:i,clientSelection:N,movementMode:"FLUID"},cleanup:()=>R.cancel(),actions:{move:R}}),move:R}}function D(){const N={moveUp:()=>T(CV),moveRight:()=>T(DV),moveDown:()=>T(MV),moveLeft:()=>T(PV)};return S({liftActionArgs:{id:i,clientSelection:bX(f),movementMode:"SNAP"},cleanup:Fl,actions:N})}function O(){Wg({expected:"PRE_DRAG",phase:p,isLockActive:b,shouldWarn:!0})&&e.release()}return{isActive:()=>Wg({expected:"PRE_DRAG",phase:p,isLockActive:b,shouldWarn:!1}),shouldRespectForcePress:y,fluidLift:j,snapLift:D,abort:O}}const jX=[sX,dX,gX];function NX({contextId:e,store:t,registry:n,customSensors:r,enableDefaultSensors:i}){const a=[...i?jX:[],...r||[]],s=A.useState(()=>KZ())[0],c=tt(function(S,j){mm(S)&&!mm(j)&&s.tryAbandon()},[s]);oa(function(){let S=t.getState();return t.subscribe(()=>{const D=t.getState();c(S,D),S=D})},[s,t,c]),oa(()=>s.tryAbandon,[s.tryAbandon]);const d=tt(T=>IB({lockAPI:s,registry:n,store:t,draggableId:T}),[s,n,t]),f=tt((T,S,j)=>OX({lockAPI:s,registry:n,contextId:e,store:t,draggableId:T,forceSensorStop:S||null,sourceEvent:j&&j.sourceEvent?j.sourceEvent:null}),[e,s,n,t]),m=tt(T=>AX(e,T),[e]),p=tt(T=>{const S=n.draggable.findById(T);return S?S.options:null},[n.draggable]),y=tt(function(){s.isClaimed()&&(s.tryAbandon(),t.getState().phase!=="IDLE"&&t.dispatch(q2()))},[s,t]),b=tt(()=>s.isClaimed(),[s]),x=Nt(()=>({canGetLock:d,tryGetLock:f,findClosestDraggableId:m,findOptionsForDraggable:p,tryReleaseLock:y,isLockClaimed:b}),[d,f,m,p,y,b]);for(let T=0;T<a.length;T++)a[T](x)}const CX=e=>({onBeforeCapture:t=>{const n=()=>{e.onBeforeCapture&&e.onBeforeCapture(t)};cf.flushSync(n)},onBeforeDragStart:e.onBeforeDragStart,onDragStart:e.onDragStart,onDragEnd:e.onDragEnd,onDragUpdate:e.onDragUpdate}),MX=e=>({...hm,...e.autoScrollerOptions,durationDampening:{...hm.durationDampening,...e.autoScrollerOptions}});function jh(e){return e.current||Fe(),e.current}function DX(e){const{contextId:t,setCallbacks:n,sensors:r,nonce:i,dragHandleUsageInstructions:a}=e,s=A.useRef(null),c=CB(e),d=tt(()=>CX(c.current),[c]),f=tt(()=>MX(c.current),[c]),m=FZ(t),p=YZ({contextId:t,text:a}),y=LZ(t,i),b=tt(V=>{jh(s).dispatch(V)},[]),x=Nt(()=>lC({publishWhileDragging:EV,updateDroppableScroll:TV,updateDroppableIsEnabled:kV,updateDroppableIsCombineEnabled:OV,collectionStarting:AV},b),[b]),T=zZ(),S=Nt(()=>mZ(T,x),[T,x]),j=Nt(()=>CZ({scrollWindow:pZ,scrollDroppable:S.scrollDroppable,getAutoScrollerOptions:f,...lC({move:gB},b)}),[S.scrollDroppable,b,f]),D=$Z(t),O=Nt(()=>uZ({announce:m,autoScroller:j,dimensionMarshal:S,focusMarshal:D,getResponders:d,styleMarshal:y}),[m,j,S,D,d,y]);s.current=O;const M=tt(()=>{const V=jh(s);V.getState().phase!=="IDLE"&&V.dispatch(q2())},[]),N=tt(()=>{const V=jh(s).getState();return V.phase==="DROP_ANIMATING"?!0:V.phase==="IDLE"?!1:V.isDragging},[]),R=Nt(()=>({isDragging:N,tryAbort:M}),[N,M]);n(R);const $=tt(V=>AB(jh(s).getState(),V),[]),B=tt(()=>Vc(jh(s).getState()),[]),H=Nt(()=>({marshal:S,focus:D,contextId:t,canLift:$,isMovementAllowed:B,dragHandleUsageInstructionsId:p,registry:T}),[t,S,p,D,$,B,T]);return NX({contextId:t,store:O,registry:T,customSensors:r||null,enableDefaultSensors:e.enableDefaultSensors!==!1}),A.useEffect(()=>M,[M]),un.createElement(qy.Provider,{value:H},un.createElement(F$,{context:J2,store:O},e.children))}function PX(){return un.useId()}function Ym(e){const t=PX(),n=e.dragHandleUsageInstructions||tv.dragHandleUsageInstructions;return un.createElement(dW,null,r=>un.createElement(DX,{nonce:e.nonce,contextId:t,setCallbacks:r,dragHandleUsageInstructions:n,enableDefaultSensors:e.enableDefaultSensors,sensors:e.sensors,onBeforeCapture:e.onBeforeCapture,onBeforeDragStart:e.onBeforeDragStart,onDragStart:e.onDragStart,onDragUpdate:e.onDragUpdate,onDragEnd:e.onDragEnd,autoScrollerOptions:e.autoScrollerOptions},e.children))}const IC={dragging:5e3,dropAnimating:4500},RX=(e,t)=>t?em.drop(t.duration):e?em.snap:em.fluid,LX=(e,t)=>{if(e)return t?fm.opacity.drop:fm.opacity.combining},IX=e=>e.forceShouldAnimate!=null?e.forceShouldAnimate:e.mode==="SNAP";function $X(e){const n=e.dimension.client,{offset:r,combineWith:i,dropping:a}=e,s=!!i,c=IX(e),d=!!a,f=d?JS.drop(r,s):JS.moveTo(r);return{position:"fixed",top:n.marginBox.top,left:n.marginBox.left,boxSizing:"border-box",width:n.borderBox.width,height:n.borderBox.height,transition:RX(c,a),transform:f,opacity:LX(s,d),zIndex:d?IC.dropAnimating:IC.dragging,pointerEvents:"none"}}function BX(e){return{transform:JS.moveTo(e.offset),transition:e.shouldAnimateDisplacement?void 0:"none"}}function zX(e){return e.type==="DRAGGING"?$X(e):BX(e)}function UX(e,t,n=Tr){const r=window.getComputedStyle(t),i=t.getBoundingClientRect(),a=G$(i,r),s=Tv(a,n),c={client:a,tagName:t.tagName.toLowerCase(),display:r.display},d={x:a.marginBox.width,y:a.marginBox.height};return{descriptor:e,placeholder:c,displaceBy:d,client:a,page:s}}function HX(e){const t=Q2("draggable"),{descriptor:n,registry:r,getDraggableRef:i,canDragInteractiveElements:a,shouldRespectForcePress:s,isEnabled:c}=e,d=Nt(()=>({canDragInteractiveElements:a,shouldRespectForcePress:s,isEnabled:c}),[a,c,s]),f=tt(b=>{const x=i();return x||Fe(),UX(n,x,b)},[n,i]),m=Nt(()=>({uniqueId:t,descriptor:n,options:d,getDimension:f}),[n,f,d,t]),p=A.useRef(m),y=A.useRef(!0);oa(()=>(r.draggable.register(p.current),()=>r.draggable.unregister(p.current)),[r.draggable]),oa(()=>{if(y.current){y.current=!1;return}const b=p.current;p.current=m,r.draggable.update(m,b)},[m,r.draggable])}var tA=un.createContext(null);function Mv(e){const t=A.useContext(e);return t||Fe(),t}function FX(e){e.preventDefault()}const GX=e=>{const t=A.useRef(null),n=tt((R=null)=>{t.current=R},[]),r=tt(()=>t.current,[]),{contextId:i,dragHandleUsageInstructionsId:a,registry:s}=Mv(qy),{type:c,droppableId:d}=Mv(tA),f=Nt(()=>({id:e.draggableId,index:e.index,type:c,droppableId:d}),[e.draggableId,e.index,c,d]),{children:m,draggableId:p,isEnabled:y,shouldRespectForcePress:b,canDragInteractiveElements:x,isClone:T,mapped:S,dropAnimationFinished:j}=e;if(!T){const R=Nt(()=>({descriptor:f,registry:s,getDraggableRef:r,canDragInteractiveElements:x,shouldRespectForcePress:b,isEnabled:y}),[f,s,r,x,b,y]);HX(R)}const D=Nt(()=>y?{tabIndex:0,role:"button","aria-describedby":a,"data-rfd-drag-handle-draggable-id":p,"data-rfd-drag-handle-context-id":i,draggable:!1,onDragStart:FX}:null,[i,a,p,y]),O=tt(R=>{S.type==="DRAGGING"&&S.dropping&&R.propertyName==="transform"&&cf.flushSync(j)},[j,S]),M=Nt(()=>{const R=zX(S),$=S.type==="DRAGGING"&&S.dropping?O:void 0;return{innerRef:n,draggableProps:{"data-rfd-draggable-context-id":i,"data-rfd-draggable-id":p,style:R,onTransitionEnd:$},dragHandleProps:D}},[i,D,p,S,O,n]),N=Nt(()=>({draggableId:f.id,type:f.type,source:{index:f.index,droppableId:f.droppableId}}),[f.droppableId,f.id,f.index,f.type]);return un.createElement(un.Fragment,null,m(M,S.snapshot,N))};var $B=(e,t)=>e===t,BB=e=>{const{combine:t,destination:n}=e;return n?n.droppableId:t?t.droppableId:null};const qX=e=>e.combine?e.combine.draggableId:null,YX=e=>e.at&&e.at.type==="COMBINE"?e.at.combine.draggableId:null;function KX(){const e=Er((i,a)=>({x:i,y:a})),t=Er((i,a,s=null,c=null,d=null)=>({isDragging:!0,isClone:a,isDropAnimating:!!d,dropAnimation:d,mode:i,draggingOver:s,combineWith:c,combineTargetFor:null})),n=Er((i,a,s,c,d=null,f=null,m=null)=>({mapped:{type:"DRAGGING",dropping:null,draggingOver:d,combineWith:f,mode:a,offset:i,dimension:s,forceShouldAnimate:m,snapshot:t(a,c,d,f,null)}}));return(i,a)=>{if(mm(i)){if(i.critical.draggable.id!==a.draggableId)return null;const s=i.current.client.offset,c=i.dimensions.draggables[a.draggableId],d=aa(i.impact),f=YX(i.impact),m=i.forceShouldAnimate;return n(e(s.x,s.y),i.movementMode,c,a.isClone,d,f,m)}if(i.phase==="DROP_ANIMATING"){const s=i.completed;if(s.result.draggableId!==a.draggableId)return null;const c=a.isClone,d=i.dimensions.draggables[a.draggableId],f=s.result,m=f.mode,p=BB(f),y=qX(f),x={duration:i.dropDuration,curve:K2.drop,moveTo:i.newHomeClientOffset,opacity:y?fm.opacity.drop:null,scale:y?fm.scale.drop:null};return{mapped:{type:"DRAGGING",offset:i.newHomeClientOffset,dimension:d,dropping:x,draggingOver:p,combineWith:y,mode:m,forceShouldAnimate:null,snapshot:t(m,c,p,y,x)}}}return null}}function zB(e=null){return{isDragging:!1,isDropAnimating:!1,isClone:!1,dropAnimation:null,mode:null,draggingOver:null,combineTargetFor:e,combineWith:null}}const WX={mapped:{type:"SECONDARY",offset:Tr,combineTargetFor:null,shouldAnimateDisplacement:!0,snapshot:zB(null)}};function VX(){const e=Er((s,c)=>({x:s,y:c})),t=Er(zB),n=Er((s,c=null,d)=>({mapped:{type:"SECONDARY",offset:s,combineTargetFor:c,shouldAnimateDisplacement:d,snapshot:t(c)}})),r=s=>s?n(Tr,s,!0):null,i=(s,c,d,f)=>{const m=d.displaced.visible[s],p=!!(f.inVirtualList&&f.effected[s]),y=Uy(d),b=y&&y.draggableId===s?c:null;if(!m){if(!p)return r(b);if(d.displaced.invisible[s])return null;const S=ff(f.displacedBy.point),j=e(S.x,S.y);return n(j,b,!0)}if(p)return r(b);const x=d.displacedBy.point,T=e(x.x,x.y);return n(T,b,m.shouldAnimate)};return(s,c)=>{if(mm(s))return s.critical.draggable.id===c.draggableId?null:i(c.draggableId,s.critical.draggable.id,s.impact,s.afterCritical);if(s.phase==="DROP_ANIMATING"){const d=s.completed;return d.result.draggableId===c.draggableId?null:i(c.draggableId,d.result.draggableId,d.impact,d.afterCritical)}return null}}const ZX=()=>{const e=KX(),t=VX();return(r,i)=>e(r,i)||t(r,i)||WX},XX={dropAnimationFinished:yB},JX=H$(ZX,XX,null,{context:J2,areStatePropsEqual:$B})(GX);function UB(e){return Mv(tA).isUsingCloneFor===e.draggableId&&!e.isClone?null:un.createElement(JX,e)}function Zd(e){const t=typeof e.isDragDisabled=="boolean"?!e.isDragDisabled:!0,n=!!e.disableInteractiveElementBlocking,r=!!e.shouldRespectForcePress;return un.createElement(UB,kv({},e,{isClone:!1,isEnabled:t,canDragInteractiveElements:n,shouldRespectForcePress:r}))}const HB=e=>t=>e===t,QX=HB("scroll"),eJ=HB("auto"),$C=(e,t)=>t(e.overflowX)||t(e.overflowY),tJ=e=>{const t=window.getComputedStyle(e),n={overflowX:t.overflowX,overflowY:t.overflowY};return $C(n,QX)||$C(n,eJ)},nJ=()=>!1,FB=e=>e==null?null:e===document.body?nJ()?e:null:e===document.documentElement?null:tJ(e)?e:FB(e.parentElement);var tE=e=>({x:e.scrollLeft,y:e.scrollTop});const GB=e=>e?window.getComputedStyle(e).position==="fixed"?!0:GB(e.parentElement):!1;var rJ=e=>{const t=FB(e),n=GB(e);return{closestScrollable:t,isFixedOnPage:n}},iJ=({descriptor:e,isEnabled:t,isCombineEnabled:n,isFixedOnPage:r,direction:i,client:a,page:s,closest:c})=>{const d=(()=>{if(!c)return null;const{scrollSize:y,client:b}=c,x=wB({scrollHeight:y.scrollHeight,scrollWidth:y.scrollWidth,height:b.paddingBox.height,width:b.paddingBox.width});return{pageMarginBox:c.page.marginBox,frameClient:b,scrollSize:y,shouldClipSubject:c.shouldClipSubject,scroll:{initial:c.scroll,current:c.scroll,max:x,diff:{value:Tr,displacement:Tr}}}})(),f=i==="vertical"?z2:tB,m=Kd({page:s,withPlaceholder:null,axis:f,frame:d});return{descriptor:e,isCombineEnabled:n,isFixedOnPage:r,axis:f,isEnabled:t,client:a,page:s,frame:d,subject:m}};const aJ=(e,t)=>{const n=q$(e);if(!t||e!==t)return n;const r=n.paddingBox.top-t.scrollTop,i=n.paddingBox.left-t.scrollLeft,a=r+t.scrollHeight,s=i+t.scrollWidth,d=L2({top:r,right:s,bottom:a,left:i},n.border);return I2({borderBox:d,margin:n.margin,border:n.border,padding:n.padding})};var oJ=({ref:e,descriptor:t,env:n,windowScroll:r,direction:i,isDropDisabled:a,isCombineEnabled:s,shouldClipSubject:c})=>{const d=n.closestScrollable,f=aJ(e,d),m=Tv(f,r),p=(()=>{if(!d)return null;const b=q$(d),x={scrollHeight:d.scrollHeight,scrollWidth:d.scrollWidth};return{client:b,page:Tv(b,r),scroll:tE(d),scrollSize:x,shouldClipSubject:c}})();return iJ({descriptor:t,isEnabled:!a,isCombineEnabled:s,isFixedOnPage:n.isFixedOnPage,direction:i,client:f,page:m,closest:p})};const sJ={passive:!1},lJ={passive:!0};var BC=e=>e.shouldPublishImmediately?sJ:lJ;const Vg=e=>e&&e.env.closestScrollable||null;function cJ(e){const t=A.useRef(null),n=Mv(qy),r=Q2("droppable"),{registry:i,marshal:a}=n,s=CB(e),c=Nt(()=>({id:e.droppableId,type:e.type,mode:e.mode}),[e.droppableId,e.mode,e.type]),d=A.useRef(c),f=Nt(()=>Er((M,N)=>{t.current||Fe();const R={x:M,y:N};a.updateDroppableScroll(c.id,R)}),[c.id,a]),m=tt(()=>{const M=t.current;return!M||!M.env.closestScrollable?Tr:tE(M.env.closestScrollable)},[]),p=tt(()=>{const M=m();f(M.x,M.y)},[m,f]),y=Nt(()=>lm(p),[p]),b=tt(()=>{const M=t.current,N=Vg(M);if(M&&N||Fe(),M.scrollOptions.shouldPublishImmediately){p();return}y()},[y,p]),x=tt((M,N)=>{t.current&&Fe();const R=s.current,$=R.getDroppableRef();$||Fe();const B=rJ($),H={ref:$,descriptor:c,env:B,scrollOptions:N};t.current=H;const V=oJ({ref:$,descriptor:c,env:B,windowScroll:M,direction:R.direction,isDropDisabled:R.isDropDisabled,isCombineEnabled:R.isCombineEnabled,shouldClipSubject:!R.ignoreContainerClipping}),z=B.closestScrollable;return z&&(z.setAttribute(DC.contextId,n.contextId),z.addEventListener("scroll",b,BC(H.scrollOptions))),V},[n.contextId,c,b,s]),T=tt(()=>{const M=t.current,N=Vg(M);return M&&N||Fe(),tE(N)},[]),S=tt(()=>{const M=t.current;M||Fe();const N=Vg(M);t.current=null,N&&(y.cancel(),N.removeAttribute(DC.contextId),N.removeEventListener("scroll",b,BC(M.scrollOptions)))},[b,y]),j=tt(M=>{const N=t.current;N||Fe();const R=Vg(N);R||Fe(),R.scrollTop+=M.y,R.scrollLeft+=M.x},[]),D=Nt(()=>({getDimensionAndWatchScroll:x,getScrollWhileDragging:T,dragStopped:S,scroll:j}),[S,x,T,j]),O=Nt(()=>({uniqueId:r,descriptor:c,callbacks:D}),[D,c,r]);oa(()=>(d.current=O.descriptor,i.droppable.register(O),()=>{t.current&&S(),i.droppable.unregister(O)}),[D,c,S,O,a,i.droppable]),oa(()=>{t.current&&a.updateDroppableIsEnabled(d.current.id,!e.isDropDisabled)},[e.isDropDisabled,a]),oa(()=>{t.current&&a.updateDroppableIsCombineEnabled(d.current.id,e.isCombineEnabled)},[e.isCombineEnabled,a])}function lw(){}const zC={width:0,height:0,margin:yW},uJ=({isAnimatingOpenOnMount:e,placeholder:t,animate:n})=>e||n==="close"?zC:{height:t.client.borderBox.height,width:t.client.borderBox.width,margin:t.client.margin},dJ=({isAnimatingOpenOnMount:e,placeholder:t,animate:n})=>{const r=uJ({isAnimatingOpenOnMount:e,placeholder:t,animate:n});return{display:t.display,boxSizing:"border-box",width:r.width,height:r.height,marginTop:r.margin.top,marginRight:r.margin.right,marginBottom:r.margin.bottom,marginLeft:r.margin.left,flexShrink:"0",flexGrow:"0",pointerEvents:"none",transition:n!=="none"?em.placeholder:null}},fJ=e=>{const t=A.useRef(null),n=tt(()=>{t.current&&(clearTimeout(t.current),t.current=null)},[]),{animate:r,onTransitionEnd:i,onClose:a,contextId:s}=e,[c,d]=A.useState(e.animate==="open");A.useEffect(()=>c?r!=="open"?(n(),d(!1),lw):t.current?lw:(t.current=setTimeout(()=>{t.current=null,d(!1)}),n):lw,[r,c,n]);const f=tt(p=>{p.propertyName==="height"&&(i(),r==="close"&&a())},[r,a,i]),m=dJ({isAnimatingOpenOnMount:c,animate:e.animate,placeholder:e.placeholder});return un.createElement(e.placeholder.tagName,{style:m,"data-rfd-placeholder-context-id":s,onTransitionEnd:f,ref:e.innerRef})};var hJ=un.memo(fJ);class mJ extends un.PureComponent{constructor(...t){super(...t),this.state={isVisible:!!this.props.on,data:this.props.on,animate:this.props.shouldAnimate&&this.props.on?"open":"none"},this.onClose=()=>{this.state.animate==="close"&&this.setState({isVisible:!1})}}static getDerivedStateFromProps(t,n){return t.shouldAnimate?t.on?{isVisible:!0,data:t.on,animate:"open"}:n.isVisible?{isVisible:!0,data:n.data,animate:"close"}:{isVisible:!1,animate:"close",data:null}:{isVisible:!!t.on,data:t.on,animate:"none"}}render(){if(!this.state.isVisible)return null;const t={onClose:this.onClose,data:this.state.data,animate:this.state.animate};return this.props.children(t)}}const pJ=e=>{const t=A.useContext(qy);t||Fe();const{contextId:n,isMovementAllowed:r}=t,i=A.useRef(null),a=A.useRef(null),{children:s,droppableId:c,type:d,mode:f,direction:m,ignoreContainerClipping:p,isDropDisabled:y,isCombineEnabled:b,snapshot:x,useClone:T,updateViewportMaxScroll:S,getContainerForClone:j}=e,D=tt(()=>i.current,[]),O=tt((z=null)=>{i.current=z},[]);tt(()=>a.current,[]);const M=tt((z=null)=>{a.current=z},[]),N=tt(()=>{r()&&S({maxScroll:EB()})},[r,S]);cJ({droppableId:c,type:d,mode:f,direction:m,isDropDisabled:y,isCombineEnabled:b,ignoreContainerClipping:p,getDroppableRef:D});const R=Nt(()=>un.createElement(mJ,{on:e.placeholder,shouldAnimate:e.shouldAnimatePlaceholder},({onClose:z,data:F,animate:Q})=>un.createElement(hJ,{placeholder:F,onClose:z,innerRef:M,animate:Q,contextId:n,onTransitionEnd:N})),[n,N,e.placeholder,e.shouldAnimatePlaceholder,M]),$=Nt(()=>({innerRef:O,placeholder:R,droppableProps:{"data-rfd-droppable-id":c,"data-rfd-droppable-context-id":n}}),[n,c,R,O]),B=T?T.dragging.draggableId:null,H=Nt(()=>({droppableId:c,type:d,isUsingCloneFor:B}),[c,B,d]);function V(){if(!T)return null;const{dragging:z,render:F}=T,Q=un.createElement(UB,{draggableId:z.draggableId,index:z.source.index,isClone:!0,isEnabled:!0,shouldRespectForcePress:!1,canDragInteractiveElements:!0},(ee,be)=>F(ee,be,z));return tF.createPortal(Q,j())}return un.createElement(tA.Provider,{value:H},s($,x),V())};function gJ(){return document.body||Fe(),document.body}const UC={mode:"standard",type:"DEFAULT",direction:"vertical",isDropDisabled:!1,isCombineEnabled:!1,ignoreContainerClipping:!1,renderClone:null,getContainerForClone:gJ},qB=e=>{let t={...e},n;for(n in UC)e[n]===void 0&&(t={...t,[n]:UC[n]});return t},cw=(e,t)=>e===t.droppable.type,HC=(e,t)=>t.draggables[e.draggable.id],vJ=()=>{const e={placeholder:null,shouldAnimatePlaceholder:!0,snapshot:{isDraggingOver:!1,draggingOverWith:null,draggingFromThisWith:null,isUsingPlaceholder:!1},useClone:null},t={...e,shouldAnimatePlaceholder:!1},n=Er(a=>({draggableId:a.id,type:a.type,source:{index:a.index,droppableId:a.droppableId}})),r=Er((a,s,c,d,f,m)=>{const p=f.descriptor.id;if(f.descriptor.droppableId===a){const x=m?{render:m,dragging:n(f.descriptor)}:null,T={isDraggingOver:c,draggingOverWith:c?p:null,draggingFromThisWith:p,isUsingPlaceholder:!0};return{placeholder:f.placeholder,shouldAnimatePlaceholder:!1,snapshot:T,useClone:x}}if(!s)return t;if(!d)return e;const b={isDraggingOver:c,draggingOverWith:p,draggingFromThisWith:null,isUsingPlaceholder:!0};return{placeholder:f.placeholder,shouldAnimatePlaceholder:!0,snapshot:b,useClone:null}});return(a,s)=>{const c=qB(s),d=c.droppableId,f=c.type,m=!c.isDropDisabled,p=c.renderClone;if(mm(a)){const y=a.critical;if(!cw(f,y))return t;const b=HC(y,a.dimensions),x=aa(a.impact)===d;return r(d,m,x,x,b,p)}if(a.phase==="DROP_ANIMATING"){const y=a.completed;if(!cw(f,y.critical))return t;const b=HC(y.critical,a.dimensions);return r(d,m,BB(y.result)===d,aa(y.impact)===d,b,p)}if(a.phase==="IDLE"&&a.completed&&!a.shouldFlush){const y=a.completed;if(!cw(f,y.critical))return t;const b=aa(y.impact)===d,x=!!(y.impact.at&&y.impact.at.type==="COMBINE"),T=y.critical.droppable.id===d;return b?x?e:t:T?e:t}return t}},yJ={updateViewportMaxScroll:NV},su=H$(vJ,yJ,(e,t,n)=>({...qB(n),...e,...t}),{context:J2,areStatePropsEqual:$B})(pJ),bJ={1948:{start:new Date(1948,4,1),end:new Date(1948,7,13)},1949:{start:new Date(1949,2,3),end:new Date(1949,7,11)},1950:{start:new Date(1950,2,1),end:new Date(1950,7,10)},1951:{start:new Date(1951,3,6),end:new Date(1951,7,9)},1955:{start:new Date(1955,3,5),end:new Date(1955,7,9)},1956:{start:new Date(1956,3,20),end:new Date(1956,7,30)},1957:{start:new Date(1957,3,5),end:new Date(1957,7,22)},1958:{start:new Date(1958,3,4),end:new Date(1958,7,21)},1959:{start:new Date(1959,3,3),end:new Date(1959,7,20)},1960:{start:new Date(1960,3,1),end:new Date(1960,7,18)},1987:{start:new Date(1987,3,10),end:new Date(1987,8,11)},1988:{start:new Date(1988,3,8),end:new Date(1988,8,9)}};function Dv(e,t,n){const r=bJ[e];if(!r)return!1;const i=new Date(e,t-1,n,0,0,0,0);return i>=r.start&&i<r.end}function _J(e){if(!isFinite(e.getTime()))return 0;const t=e.getUTCFullYear(),n=Date.UTC(t,0,1),i=Math.floor((e.getTime()-n)/864e5)+1,a=e.getUTCHours(),s=e.getUTCMinutes(),c=e.getUTCSeconds(),d=(a-12)/24+s/1440+c/86400,f=2*Math.PI/365*(i-1+d);return 229.18*(75e-6+.001868*Math.cos(f)-.032077*Math.sin(f)-.014615*Math.cos(2*f)-.040849*Math.sin(2*f))}function xJ(e){return e=(e+540)%360-180,e>=124&&e<=132||e>=129&&e<=146?135:e>=73&&e<=135?120:e>=-161&&e<=-154?-150:e>=-170&&e<-161?-165:e>=-150&&e<-141?-135:e>=-141&&e<-126?-120:e>=-126&&e<-111?-105:e>=-111&&e<-96?-90:e>=-96&&e<-81?-75:Math.round(e/15)*15}function wu(e,t,n=!1){const r=new Date(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),0,0);if(n)return new Date(r.getTime()-1800*1e3);if(t==null||!isFinite(t))return r;let i=t;Math.abs(i)<=Math.PI+1e-6&&(i=i*180/Math.PI),i=(i+540)%360-180;const a=xJ(i),s=4*(i-a),c=_J(r);return new Date(r.getTime()+(s+c)*60*1e3)}var nv={exports:{}},wJ=nv.exports,FC;function SJ(){return FC||(FC=1,(function(e,t){(function(n,r){e.exports=r()})(wJ,function(){return(function(n){function r(a){if(i[a])return i[a].exports;var s=i[a]={i:a,l:!1,exports:{}};return n[a].call(s.exports,s,s.exports,r),s.l=!0,s.exports}var i={};return r.m=n,r.c=i,r.d=function(a,s,c){r.o(a,s)||Object.defineProperty(a,s,{configurable:!1,enumerable:!0,get:c})},r.n=function(a){var s=a&&a.__esModule?function(){return a.default}:function(){return a};return r.d(s,"a",s),s},r.o=function(a,s){return Object.prototype.hasOwnProperty.call(a,s)},r.p="",r(r.s=0)})([function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var a=i(1),s=(function(c){return c&&c.__esModule?c:{default:c}})(a);r.default=s.default,n.exports=r.default},function(n,r,i){function a(Q){return Q&&Q.__esModule?Q:{default:Q}}Object.defineProperty(r,"__esModule",{value:!0});var s=i(2),c=a(s),d=i(3),f=a(d),m=i(4),p=a(m),y=i(5),b=a(y),x=i(6),T=a(x),S=i(7),j=a(S),D=i(8),O=a(D),M=i(9),N=a(M),R=i(10),$=a(R),B=i(11),H=a(B),V=i(12),z=a(V),F={lunarInfo:c.default,solarMonth:f.default,gan:p.default,zhi:b.default,animals:T.default,lunarTerm:j.default,lTermInfo:O.default,nStr1:N.default,nStr2:$.default,nStr3:H.default,nStr4:z.default,lYearDays:function(Q){var ee,be=348;for(ee=32768;ee>8;ee>>=1)be+=F.lunarInfo[Q-1900]&ee?1:0;return be+F.leapDays(Q)},leapMonth:function(Q){return 15&F.lunarInfo[Q-1900]},leapDays:function(Q){return F.leapMonth(Q)?65536&F.lunarInfo[Q-1900]?30:29:0},monthDays:function(Q,ee){return ee>12||ee<1?-1:F.lunarInfo[Q-1900]&65536>>ee?30:29},solarDays:function(Q,ee){if(ee>12||ee<1)return-1;var be=ee-1;return be==1?Q%4==0&&Q%100!=0||Q%400==0?29:28:F.solarMonth[be]},toGanZhi:function(Q){return F.gan[Q%10]+F.zhi[Q%12]},getTerm:function(Q,ee){if(Q<1900||Q>2100||ee<1||ee>24)return-1;var be=F.lTermInfo[Q-1900],J=[parseInt("0x"+be.substr(0,5)).toString(),parseInt("0x"+be.substr(5,5)).toString(),parseInt("0x"+be.substr(10,5)).toString(),parseInt("0x"+be.substr(15,5)).toString(),parseInt("0x"+be.substr(20,5)).toString(),parseInt("0x"+be.substr(25,5)).toString()],le=[J[0].substr(0,1),J[0].substr(1,2),J[0].substr(3,1),J[0].substr(4,2),J[1].substr(0,1),J[1].substr(1,2),J[1].substr(3,1),J[1].substr(4,2),J[2].substr(0,1),J[2].substr(1,2),J[2].substr(3,1),J[2].substr(4,2),J[3].substr(0,1),J[3].substr(1,2),J[3].substr(3,1),J[3].substr(4,2),J[4].substr(0,1),J[4].substr(1,2),J[4].substr(3,1),J[4].substr(4,2),J[5].substr(0,1),J[5].substr(1,2),J[5].substr(3,1),J[5].substr(4,2)];return parseInt(le[ee-1])},toChinaYear:function(Q){var ee=parseInt(Q/1e3),be=parseInt(Q%1e3/100),J=parseInt(Q%100/10),le=Q%10;return F.nStr4[ee]+F.nStr4[be]+F.nStr4[J]+F.nStr4[le]+""},toChinaMonth:function(Q){if(Q>12||Q<1)return-1;var ee=F.nStr3[Q-1];return ee+=""},toChinaDay:function(Q){var ee;switch(Q){case 10:ee="";break;case 20:ee="";break;case 30:ee="";break;default:ee=F.nStr2[Math.floor(Q/10)],ee+=F.nStr1[Q%10]}return ee},getAnimal:function(Q){return F.animals[(Q-4)%12]},solar2lunar:function(me,ne,q){if(me<1900||me>2100||me==1900&&ne==1&&q<31)return-1;if(me)var J=new Date(me,parseInt(ne)-1,q);else var J=new Date;var le,te=0,ae=0,me=J.getFullYear(),ne=J.getMonth()+1,q=J.getDate(),K=(Date.UTC(J.getFullYear(),J.getMonth(),J.getDate())-Date.UTC(1900,0,31))/864e5;for(le=1900;le<2101&&K>0;le++)ae=F.lYearDays(le),K-=ae;K<0&&(K+=ae,le--);var X=new Date,ie=!1;X.getFullYear()==me&&X.getMonth()+1==ne&&X.getDate()==q&&(ie=!0);var Z=J.getDay(),W=F.nStr1[Z];Z==0&&(Z=7);var de=le,te=F.leapMonth(le),Y=!1;for(le=1;le<13&&K>0;le++)te>0&&le==te+1&&Y==0?(--le,Y=!0,ae=F.leapDays(de)):ae=F.monthDays(de,le),Y==1&&le==te+1&&(Y=!1),K-=ae;K==0&&te>0&&le==te+1&&(Y?Y=!1:(Y=!0,--le)),K<0&&(K+=ae,--le);var se=le,xe=K+1,ce=ne-1,Ne=F.getTerm(me,3),pe=F.toGanZhi(me-4),Te=new Date(me,1,Ne).getTime();new Date(me,ce,q).getTime()<Te&&(pe=F.toGanZhi(me-5));var Me=F.getTerm(me,2*ne-1),Le=F.getTerm(me,2*ne),Be=F.toGanZhi(12*(me-1900)+ne+11);q>=Me&&(Be=F.toGanZhi(12*(me-1900)+ne+12));var ge=!1,Ue="";Me==q&&(ge=!0,Ue=F.lunarTerm[2*ne-2]),Le==q&&(ge=!0,Ue=F.lunarTerm[2*ne-1]);var ue=Date.UTC(me,ce,1,0,0,0,0)/864e5+25567+10,he=F.toGanZhi(ue+q-1);return{lYear:de,lMonth:se,lDay:xe,animal:F.getAnimal(de),yearCn:F.toChinaYear(de),monthCn:(Y&&te===se?"":"")+F.toChinaMonth(se),dayCn:F.toChinaDay(xe),cYear:me,cMonth:ne,cDay:q,gzYear:pe,gzMonth:Be,gzDay:he,isToday:ie,isLeap:Y,nWeek:Z,ncWeek:""+W,isTerm:ge,term:Ue}},lunar2solar:function(Q,ee,be,J){var le=F.leapMonth(Q);if(F.leapDays(Q),J&&le!=ee||Q==2100&&ee==12&&be>1||Q==1900&&ee==1&&be<31)return-1;var ae=F.monthDays(Q,ee);if(Q<1900||Q>2100||be>ae)return-1;for(var me=0,ne=1900;ne<Q;ne++)me+=F.lYearDays(ne);for(var q=0,K=!1,ne=1;ne<ee;ne++)q=F.leapMonth(Q),K||q<=ne&&q>0&&(me+=F.leapDays(Q),K=!0),me+=F.monthDays(Q,ne);J&&(me+=ae);var X=Date.UTC(1900,1,30,0,0,0),ie=new Date(864e5*(me+be-31)+X),Z=ie.getUTCFullYear(),W=ie.getUTCMonth()+1,de=ie.getUTCDate();return F.solar2lunar(Z,W,de)}};r.default=F,n.exports=r.default},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.default=[19416,19168,42352,21717,53856,55632,91476,22176,39632,21970,19168,42422,42192,53840,119381,46400,54944,44450,38320,84343,18800,42160,46261,27216,27968,109396,11104,38256,21234,18800,25958,54432,59984,28309,23248,11104,100067,37600,116951,51536,54432,120998,46416,22176,107956,9680,37584,53938,43344,46423,27808,46416,86869,19872,42416,83315,21168,43432,59728,27296,44710,43856,19296,43748,42352,21088,62051,55632,23383,22176,38608,19925,19152,42192,54484,53840,54616,46400,46752,103846,38320,18864,43380,42160,45690,27216,27968,44870,43872,38256,19189,18800,25776,29859,59984,27480,23232,43872,38613,37600,51552,55636,54432,55888,30034,22176,43959,9680,37584,51893,43344,46240,47780,44368,21977,19360,42416,86390,21168,43312,31060,27296,44368,23378,19296,42726,42208,53856,60005,54576,23200,30371,38608,19195,19152,42192,118966,53840,54560,56645,46496,22224,21938,18864,42359,42160,43600,111189,27936,44448,84835,37744,18936,18800,25776,92326,59984,27424,108228,43744,37600,53987,51552,54615,54432,55888,23893,22176,42704,21972,21200,43448,43344,46240,46758,44368,21920,43940,42416,21168,45683,26928,29495,27296,44368,84821,19296,42352,21732,53600,59752,54560,55968,92838,22224,19168,43476,42192,53584,62034,54560],n.exports=r.default},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.default=[31,28,31,30,31,30,31,31,30,31,30,31],n.exports=r.default},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.default=["","","","","","","","","",""],n.exports=r.default},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.default=["","","","","","","","","","","",""],n.exports=r.default},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.default=["","","","","","","","","","","",""],n.exports=r.default},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.default=["","","","","","","","","","","","","","","","","","","","","","","",""],n.exports=r.default},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.default=["9778397bd097c36b0b6fc9274c91aa","97b6b97bd19801ec9210c965cc920e","97bcf97c3598082c95f8c965cc920f","97bd0b06bdb0722c965ce1cfcc920f","b027097bd097c36b0b6fc9274c91aa","97b6b97bd19801ec9210c965cc920e","97bcf97c359801ec95f8c965cc920f","97bd0b06bdb0722c965ce1cfcc920f","b027097bd097c36b0b6fc9274c91aa","97b6b97bd19801ec9210c965cc920e","97bcf97c359801ec95f8c965cc920f","97bd0b06bdb0722c965ce1cfcc920f","b027097bd097c36b0b6fc9274c91aa","9778397bd19801ec9210c965cc920e","97b6b97bd19801ec95f8c965cc920f","97bd09801d98082c95f8e1cfcc920f","97bd097bd097c36b0b6fc9210c8dc2","9778397bd197c36c9210c9274c91aa","97b6b97bd19801ec95f8c965cc920e","97bd09801d98082c95f8e1cfcc920f","97bd097bd097c36b0b6fc9210c8dc2","9778397bd097c36c9210c9274c91aa","97b6b97bd19801ec95f8c965cc920e","97bcf97c3598082c95f8e1cfcc920f","97bd097bd097c36b0b6fc9210c8dc2","9778397bd097c36c9210c9274c91aa","97b6b97bd19801ec9210c965cc920e","97bcf97c3598082c95f8c965cc920f","97bd097bd097c35b0b6fc920fb0722","9778397bd097c36b0b6fc9274c91aa","97b6b97bd19801ec9210c965cc920e","97bcf97c3598082c95f8c965cc920f","97bd097bd097c35b0b6fc920fb0722","9778397bd097c36b0b6fc9274c91aa","97b6b97bd19801ec9210c965cc920e","97bcf97c359801ec95f8c965cc920f","97bd097bd097c35b0b6fc920fb0722","9778397bd097c36b0b6fc9274c91aa","97b6b97bd19801ec9210c965cc920e","97bcf97c359801ec95f8c965cc920f","97bd097bd097c35b0b6fc920fb0722","9778397bd097c36b0b6fc9274c91aa","97b6b97bd19801ec9210c965cc920e","97bcf97c359801ec95f8c965cc920f","97bd097bd07f595b0b6fc920fb0722","9778397bd097c36b0b6fc9210c8dc2","9778397bd19801ec9210c9274c920e","97b6b97bd19801ec95f8c965cc920f","97bd07f5307f595b0b0bc920fb0722","7f0e397bd097c36b0b6fc9210c8dc2","9778397bd097c36c9210c9274c920e","97b6b97bd19801ec95f8c965cc920f","97bd07f5307f595b0b0bc920fb0722","7f0e397bd097c36b0b6fc9210c8dc2","9778397bd097c36c9210c9274c91aa","97b6b97bd19801ec9210c965cc920e","97bd07f1487f595b0b0bc920fb0722","7f0e397bd097c36b0b6fc9210c8dc2","9778397bd097c36b0b6fc9274c91aa","97b6b97bd19801ec9210c965cc920e","97bcf7f1487f595b0b0bb0b6fb0722","7f0e397bd097c35b0b6fc920fb0722","9778397bd097c36b0b6fc9274c91aa","97b6b97bd19801ec9210c965cc920e","97bcf7f1487f595b0b0bb0b6fb0722","7f0e397bd097c35b0b6fc920fb0722","9778397bd097c36b0b6fc9274c91aa","97b6b97bd19801ec9210c965cc920e","97bcf7f1487f531b0b0bb0b6fb0722","7f0e397bd097c35b0b6fc920fb0722","9778397bd097c36b0b6fc9274c91aa","97b6b97bd19801ec9210c965cc920e","97bcf7f1487f531b0b0bb0b6fb0722","7f0e397bd07f595b0b6fc920fb0722","9778397bd097c36b0b6fc9274c91aa","97b6b97bd19801ec9210c9274c920e","97bcf7f0e47f531b0b0bb0b6fb0722","7f0e397bd07f595b0b0bc920fb0722","9778397bd097c36b0b6fc9210c91aa","97b6b97bd197c36c9210c9274c920e","97bcf7f0e47f531b0b0bb0b6fb0722","7f0e397bd07f595b0b0bc920fb0722","9778397bd097c36b0b6fc9210c8dc2","9778397bd097c36c9210c9274c920e","97b6b7f0e47f531b0723b0b6fb0722","7f0e37f5307f595b0b0bc920fb0722","7f0e397bd097c36b0b6fc9210c8dc2","9778397bd097c36b0b70c9274c91aa","97b6b7f0e47f531b0723b0b6fb0721","7f0e37f1487f595b0b0bb0b6fb0722","7f0e397bd097c35b0b6fc9210c8dc2","9778397bd097c36b0b6fc9274c91aa","97b6b7f0e47f531b0723b0b6fb0721","7f0e27f1487f595b0b0bb0b6fb0722","7f0e397bd097c35b0b6fc920fb0722","9778397bd097c36b0b6fc9274c91aa","97b6b7f0e47f531b0723b0b6fb0721","7f0e27f1487f531b0b0bb0b6fb0722","7f0e397bd097c35b0b6fc920fb0722","9778397bd097c36b0b6fc9274c91aa","97b6b7f0e47f531b0723b0b6fb0721","7f0e27f1487f531b0b0bb0b6fb0722","7f0e397bd097c35b0b6fc920fb0722","9778397bd097c36b0b6fc9274c91aa","97b6b7f0e47f531b0723b0b6fb0721","7f0e27f1487f531b0b0bb0b6fb0722","7f0e397bd07f595b0b0bc920fb0722","9778397bd097c36b0b6fc9274c91aa","97b6b7f0e47f531b0723b0787b0721","7f0e27f0e47f531b0b0bb0b6fb0722","7f0e397bd07f595b0b0bc920fb0722","9778397bd097c36b0b6fc9210c91aa","97b6b7f0e47f149b0723b0787b0721","7f0e27f0e47f531b0723b0b6fb0722","7f0e397bd07f595b0b0bc920fb0722","9778397bd097c36b0b6fc9210c8dc2","977837f0e37f149b0723b0787b0721","7f07e7f0e47f531b0723b0b6fb0722","7f0e37f5307f595b0b0bc920fb0722","7f0e397bd097c35b0b6fc9210c8dc2","977837f0e37f14998082b0787b0721","7f07e7f0e47f531b0723b0b6fb0721","7f0e37f1487f595b0b0bb0b6fb0722","7f0e397bd097c35b0b6fc9210c8dc2","977837f0e37f14998082b0787b06bd","7f07e7f0e47f531b0723b0b6fb0721","7f0e27f1487f531b0b0bb0b6fb0722","7f0e397bd097c35b0b6fc920fb0722","977837f0e37f14998082b0787b06bd","7f07e7f0e47f531b0723b0b6fb0721","7f0e27f1487f531b0b0bb0b6fb0722","7f0e397bd097c35b0b6fc920fb0722","977837f0e37f14998082b0787b06bd","7f07e7f0e47f531b0723b0b6fb0721","7f0e27f1487f531b0b0bb0b6fb0722","7f0e397bd07f595b0b0bc920fb0722","977837f0e37f14998082b0787b06bd","7f07e7f0e47f531b0723b0b6fb0721","7f0e27f1487f531b0b0bb0b6fb0722","7f0e397bd07f595b0b0bc920fb0722","977837f0e37f14998082b0787b06bd","7f07e7f0e47f149b0723b0787b0721","7f0e27f0e47f531b0b0bb0b6fb0722","7f0e397bd07f595b0b0bc920fb0722","977837f0e37f14998082b0723b06bd","7f07e7f0e37f149b0723b0787b0721","7f0e27f0e47f531b0723b0b6fb0722","7f0e397bd07f595b0b0bc920fb0722","977837f0e37f14898082b0723b02d5","7ec967f0e37f14998082b0787b0721","7f07e7f0e47f531b0723b0b6fb0722","7f0e37f1487f595b0b0bb0b6fb0722","7f0e37f0e37f14898082b0723b02d5","7ec967f0e37f14998082b0787b0721","7f07e7f0e47f531b0723b0b6fb0722","7f0e37f1487f531b0b0bb0b6fb0722","7f0e37f0e37f14898082b0723b02d5","7ec967f0e37f14998082b0787b06bd","7f07e7f0e47f531b0723b0b6fb0721","7f0e37f1487f531b0b0bb0b6fb0722","7f0e37f0e37f14898082b072297c35","7ec967f0e37f14998082b0787b06bd","7f07e7f0e47f531b0723b0b6fb0721","7f0e27f1487f531b0b0bb0b6fb0722","7f0e37f0e37f14898082b072297c35","7ec967f0e37f14998082b0787b06bd","7f07e7f0e47f531b0723b0b6fb0721","7f0e27f1487f531b0b0bb0b6fb0722","7f0e37f0e366aa89801eb072297c35","7ec967f0e37f14998082b0787b06bd","7f07e7f0e47f149b0723b0787b0721","7f0e27f1487f531b0b0bb0b6fb0722","7f0e37f0e366aa89801eb072297c35","7ec967f0e37f14998082b0723b06bd","7f07e7f0e47f149b0723b0787b0721","7f0e27f0e47f531b0723b0b6fb0722","7f0e37f0e366aa89801eb072297c35","7ec967f0e37f14998082b0723b06bd","7f07e7f0e37f14998083b0787b0721","7f0e27f0e47f531b0723b0b6fb0722","7f0e37f0e366aa89801eb072297c35","7ec967f0e37f14898082b0723b02d5","7f07e7f0e37f14998082b0787b0721","7f07e7f0e47f531b0723b0b6fb0722","7f0e36665b66aa89801e9808297c35","665f67f0e37f14898082b0723b02d5","7ec967f0e37f14998082b0787b0721","7f07e7f0e47f531b0723b0b6fb0722","7f0e36665b66a449801e9808297c35","665f67f0e37f14898082b0723b02d5","7ec967f0e37f14998082b0787b06bd","7f07e7f0e47f531b0723b0b6fb0721","7f0e36665b66a449801e9808297c35","665f67f0e37f14898082b072297c35","7ec967f0e37f14998082b0787b06bd","7f07e7f0e47f531b0723b0b6fb0721","7f0e26665b66a449801e9808297c35","665f67f0e37f1489801eb072297c35","7ec967f0e37f14998082b0787b06bd","7f07e7f0e47f531b0723b0b6fb0721","7f0e27f1487f531b0b0bb0b6fb0722"],n.exports=r.default},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.default=["","","","","","","","","","",""],n.exports=r.default},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.default=["","","",""],n.exports=r.default},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.default=["","","","","","","","","","","",""],n.exports=r.default},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.default=["","","","","","","","","","",""],n.exports=r.default}])})})(nv)),nv.exports}var YB=SJ();const EJ=Li(YB),nA=u2({__proto__:null,default:EJ},[YB]);function nE(e){return typeof e=="object"&&e!==null}function AJ(e){if(!nE(e))throw new Error("Invalid lunar2solar result");const t=e,n=t.cYear,r=t.cMonth,i=t.cDay;if(typeof n!="number"||typeof r!="number"||typeof i!="number")throw new Error("Invalid lunar2solar fields");const a=t.isLeap;return{cYear:n,cMonth:r,cDay:i,isLeap:typeof a=="boolean"?a:void 0}}function TJ(e){const t=nE(e)&&"default"in e?e.default:e;if(!nE(t))throw new Error("solarlunar module invalid");const n=t.lunar2solar;if(typeof n!="function")throw new Error("solarlunar.lunar2solar not found");return(r,i,a)=>AJ(n(r,i,a,!1))}const kJ=TJ(nA);function Ky(e){const t=e.mingSikType??"/";let n=Number(e.birthDay.slice(0,4)),r=Number(e.birthDay.slice(4,6)),i=Number(e.birthDay.slice(6,8));if(e.calendarType==="lunar"){const D=kJ(n,r,i);n=D.cYear,r=D.cMonth,i=D.cDay}const a=!e.birthTime||e.birthTime==="",s=a?4:Number(e.birthTime.slice(0,2)),c=a?30:Number(e.birthTime.slice(2,4)),d=!e.birthPlace||e.birthPlace.name===""||e.birthPlace.lon===0?127.5:e.birthPlace.lon,f=new Date(n,r-1,i,s,c,0,0),m=!e.birthPlace||typeof e.birthPlace=="object"&&e.birthPlace.name==="",p=wu(f,d,m),y=a?"":p.toLocaleTimeString("ko-KR",{hour:"2-digit",minute:"2-digit",hour12:!1}),b=vt(p,d),x=Dt(p,d),T=Tt(p,t),S=a?null:Ua(p,t),j=[` : ${b} ${x} ${T}`,S?`${S}`:null].filter(Boolean).join(" ");return{corrected:p,correctedLocal:y,ganji:j}}function rA(e){const t=(e??"").trim();return t?t===""||t.toLowerCase()==="female"||t==="2"||t.toUpperCase()==="F"?"":(t===""||t.toLowerCase()==="male"||t==="1"||t.toUpperCase()==="M",""):""}function GC(e){if(!e)return null;const t=e.match(/(|||||||||)(|||||||||||)/);if(t)return t[1];const n=e.split(/\s+/).find(r=>r.endsWith(""));return n&&n.length>0?n.charAt(0):null}function qC(e){const t=rA(e.gender),n=GC(e.ganjiText)??GC(e.ganji);if(!n)return"forward";const i=["","","","",""].includes(n),a=t==="";return i&&!a||!i&&a?"forward":"backward"}function OJ(e){const t=e.dateObj instanceof Date?e.dateObj:e.dateObj?new Date(e.dateObj):new Date,n=e.corrected instanceof Date?e.corrected:e.corrected?new Date(e.corrected):new Date(NaN),r={...e,dateObj:t,corrected:n};try{const i=Ky(r),a={...r,...i},s=qC(a);return{...a,dir:s}}catch(i){console.error("[useMyeongSikStore] recalcGanjiSnapshot error:",i);const a=qC(r);return{...r,dir:a}}}function jJ(e){const t={name:e.birth_place_name??"",lat:e.birth_place_lat??0,lon:e.birth_place_lon??127.5},n=e.sort_order===null||e.sort_order===void 0?void 0:Number(e.sort_order),r=typeof n=="number"&&Number.isFinite(n)?n:void 0,i={id:e.id,name:e.name??"",birthDay:e.birth_day??"",birthTime:e.birth_time??"",gender:rA(e.gender),birthPlace:t,relationship:e.relationship??"",memo:e.memo??"",folder:e.folder??"",mingSikType:["","/",""].includes(e.ming_sik_type)?e.ming_sik_type:"",DayChangeRule:e.day_change_rule===""||e.day_change_rule===""?e.day_change_rule:"",favorite:e.favorite??!1,deletedAt:e.deleted_at??null,sortOrder:r,dateObj:new Date,corrected:new Date(NaN),correctedLocal:"",dayStem:"",ganjiText:"",ganji:"",calendarType:"solar",dir:"forward"};return OJ(i)}function Zg(e,t){const n=e.birthPlace??{name:"",lat:0,lon:127.5},r=typeof e.sortOrder=="number"&&Number.isFinite(e.sortOrder)?e.sortOrder:null;return{id:e.id,user_id:t,name:e.name??null,birth_day:e.birthDay??null,birth_time:e.birthTime??null,gender:rA(e.gender),birth_place_name:n.name??null,birth_place_lat:typeof n.lat=="number"?n.lat:null,birth_place_lon:typeof n.lon=="number"?n.lon:null,relationship:e.relationship??null,memo:e.memo??null,folder:e.folder??null,ming_sik_type:e.mingSikType??null,day_change_rule:e.DayChangeRule??null,favorite:e.favorite??!1,deleted_at:e.deletedAt??null,sort_order:r,updated_at:new Date().toISOString()}}const vo=zm((e,t)=>({currentId:null,list:[],loading:!0,setCurrent:n=>e({currentId:n}),loadFromServer:async()=>{e({loading:!0});const{data:{user:n},error:r}=await Ye.auth.getUser();if(r||!n){console.error("loadFromServer: user not found / error",r),e({list:[],currentId:null,loading:!1});return}const a=await Ye.from("myeongsik").select("id, user_id, name, birth_day, birth_time, gender, birth_place_name, birth_place_lat, birth_place_lon, relationship, memo, folder, ming_sik_type, day_change_rule, favorite, deleted_at, created_at, updated_at"+", sort_order").eq("user_id",n.id).is("deleted_at",null).order("sort_order",{ascending:!0,nullsFirst:!0}).order("created_at",{ascending:!1}),s=a.data,c=a.error;if(c||!s){console.error("loadFromServer error:",c),e({loading:!1});return}const f=s.filter(y=>y.user_id===n.id).map(jJ),m=t().currentId,p=m&&f.some(y=>y.id===m)?m:f[0]?.id??null;e({list:f,currentId:p,loading:!1})},migrateLocalToServer:async()=>{if(typeof window>"u")return;const n=window.localStorage.getItem("myeongsik-list");if(!n)return;let r;try{r=JSON.parse(n)}catch(x){console.error("migrateLocalToServer: JSON parse error",x),window.localStorage.removeItem("myeongsik-list");return}const i=r.state??{},a=Array.isArray(i.list)?i.list:[];if(a.length===0){window.localStorage.removeItem("myeongsik-list");return}const{data:{user:s},error:c}=await Ye.auth.getUser();if(c||!s){console.warn("migrateLocalToServer: no user, skip");return}const{data:d,error:f}=await Ye.from("myeongsik").select("id").eq("user_id",s.id);if(f){console.error("migrateLocalToServer: fetch existing ids error",f);return}const m=new Set((d??[]).map(x=>x.id)),p=a.filter(x=>!!x&&!m.has(x.id));if(p.length===0){window.localStorage.removeItem("myeongsik-list");return}const y=p.map(x=>Zg(x,s.id)),{error:b}=await Ye.from("myeongsik").upsert(y,{onConflict:"id"});if(b){console.error("migrateLocalToServer upsert error:",b);return}window.localStorage.removeItem("myeongsik-list")},add:async n=>{const r=(t().list.length||0)+1,i={...n,sortOrder:n.sortOrder??r},{data:{user:a},error:s}=await Ye.auth.getUser();if(s||!a){console.error("add: user not found",s);return}e(f=>({list:[...f.list,i],currentId:f.currentId??i.id}));const c=Zg(i,a.id),{error:d}=await Ye.from("myeongsik").upsert(c,{onConflict:"id"});d&&console.error("add upsert error:",d)},update:async(n,r)=>{const i=t().list.find(m=>m.id===n);if(!i)return;const a={...i,...r};e(m=>({list:m.list.map(p=>p.id===n?a:p)}));const{data:{user:s},error:c}=await Ye.auth.getUser();if(c||!s){console.error("update: user not found",c);return}const d=Zg(a,s.id),{error:f}=await Ye.from("myeongsik").update(d).eq("id",n);f&&console.error("update error:",f)},remove:async n=>{e(a=>{const s=a.list.filter(d=>d.id!==n),c=a.currentId===n?s[0]?.id??null:a.currentId;return{list:s,currentId:c}});const r=new Date().toISOString(),{error:i}=await Ye.from("myeongsik").update({deleted_at:r}).eq("id",n);i&&console.error("remove error:",i)},reorder:async n=>{const r=n.map((d,f)=>({...d,sortOrder:f+1}));e({list:r});const{data:{user:i},error:a}=await Ye.auth.getUser();if(a||!i){console.error("reorder: user not found",a);return}const s=r.map(d=>Zg(d,i.id)),{error:c}=await Ye.from("myeongsik").upsert(s,{onConflict:"id"});c&&console.error("reorder upsert error:",c)},clear:()=>{e({currentId:null,list:[]})}})),YC="__custom__",KC=[{value:"",label:" (1 )"},{value:"/",label:" / "},{value:"",label:""},{value:"",label:""},{value:"",label:""},{value:"",label:""},{value:"",label:""}],KB=({value:e,onChange:t})=>{const[n,r]=A.useState(KC),[i,a]=A.useState(""),[s,c]=A.useState(!1),[d,f]=A.useState(""),[m,p]=A.useState(!1),{list:y}=vo(),x=y.some(O=>O.relationship==="")?n.filter(O=>O.value!==""):n;A.useEffect(()=>{e!==void 0&&a(e)},[e]);const T=O=>{const M=O.target.value;M===YC?(c(!0),a(""),t?.("")):(c(!1),f(""),a(M),t?.(M))};A.useEffect(()=>{const O=localStorage.getItem("relationshipOptions");O&&r(JSON.parse(O))},[]),A.useEffect(()=>{(async()=>{const{data:{user:M},error:N}=await Ye.auth.getUser();if(N||!M)return;const{data:R,error:$}=await Ye.from("user_settings").select("payload").eq("user_id",M.id).single();if($&&$.code!=="PGRST116"){console.error("load relationships settings error",$.message);return}const B=R?.payload?.relationshipOptions;if(!Array.isArray(B))return;const H=B.map(V=>V&&typeof V=="object"&&typeof V.value=="string"&&typeof V.label=="string"?{value:V.value,label:V.label}:typeof V=="string"?{value:V,label:V}:null).filter(V=>!!V);H.length&&r(V=>{const z=new Set,F=[...H,...V,...KC].filter(Q=>z.has(Q.value)?!1:(z.add(Q.value),!0));return localStorage.setItem("relationshipOptions",JSON.stringify(F)),F})})()},[]),A.useEffect(()=>{localStorage.setItem("relationshipOptions",JSON.stringify(n)),(async()=>{const{data:{user:M},error:N}=await Ye.auth.getUser();if(N||!M)return;const{data:R,error:$}=await Ye.from("user_settings").select("payload").eq("user_id",M.id).single();if($&&$.code!=="PGRST116"){console.error("load relationships settings error",$.message);return}const B={...R?.payload??{},relationshipOptions:n},{error:H}=await Ye.from("user_settings").upsert({user_id:M.id,payload:B,updated_at:new Date().toISOString()});H&&console.error("save relationships settings error",H.message)})()},[n]);const S=()=>{const O=d.trim();if(!O)return;const M={value:O,label:O};r(N=>[...N,M]),a(O),t?.(O),f(""),c(!1)},j=O=>{r(n.filter(M=>M.value!==O)),i===O&&a("")},D=O=>{if(!O.destination)return;const M=Array.from(n),[N]=M.splice(O.source.index,1);M.splice(O.destination.index,0,N),r(M)};return _.jsxs(_.Fragment,{children:[_.jsxs("div",{className:"rel_set flex items-center gap-2",children:[_.jsxs("select",{name:"relationship",id:"relationship",value:i,onChange:T,children:[_.jsx("option",{value:"",hidden:!0,children:""}),x.map(O=>_.jsx("option",{value:O.value,children:O.label},O.value)),_.jsx("option",{value:YC,children:" "})]}),_.jsx("button",{type:"button",onClick:()=>p(!0),className:"btn_style",children:""})]}),s&&!m&&_.jsxs("div",{className:"rel_set flex items-center mt-2 gap-2",children:[_.jsx("input",{type:"text",placeholder:" ",value:d,onChange:O=>f(O.target.value)}),_.jsx("button",{type:"button",onClick:S,className:"btn_style",children:""})]}),m&&_.jsxs("div",{className:"p-3 border mt-2 rounded bg-gray-50 dark:bg-neutral-900",children:[_.jsx("h4",{className:"font-bold mb-2",children:" "}),_.jsx(Ym,{onDragEnd:D,children:_.jsx(su,{droppableId:"relList",children:O=>_.jsxs("ul",{ref:O.innerRef,...O.droppableProps,className:"space-y-1",children:[n.map((M,N)=>_.jsx(Zd,{draggableId:M.value,index:N,children:R=>_.jsxs("li",{ref:R.innerRef,...R.draggableProps,...R.dragHandleProps,className:"flex justify-between items-center bg-white dark:bg-neutral-800 p-2 rounded border text-sm desk:text-base",children:[_.jsx("span",{className:"cursor-grab mr-2",children:""}),_.jsx("span",{className:"flex-1 pr-1",children:M.label}),_.jsx("button",{type:"button",className:"text-red-500",onClick:()=>j(M.value),children:""})]})},M.value)),O.placeholder]})})}),_.jsx("button",{type:"button",onClick:()=>p(!1),className:"w-full btn_style mt-2",children:""})]})]})},Nn=" ",WB=["","","","","",""],VB="ms_folders",ZB="ms_folder_order",WC="ms_folder_favs",rE="ms_disabled_presets",mu="myeoun:folder-updated";function lu(e){if(e!==Nn)return e||void 0}function Wy(e){if(typeof window>"u")return[];const t=window.localStorage.getItem(e);if(!t)return[];try{const n=JSON.parse(t);return Array.isArray(n)?n.filter(r=>typeof r=="string"):[]}catch{return[]}}function iA(e,t){if(!(typeof window>"u"))try{window.localStorage.setItem(e,JSON.stringify(t))}catch{}}function NJ(){const e=Wy(rE);return WB.filter(t=>!e.includes(t))}function aA(){return Wy(VB)}function oA(e){const t=Array.isArray(e)?e.filter(n=>typeof n=="string"&&n.trim()!==""):[];iA(VB,t),typeof window<"u"&&window.dispatchEvent(new Event(mu))}function rv(){const e=NJ(),t=aA(),n=new Set,r=[];for(const i of[...e,...t])n.has(i)||(n.add(i),r.push(i));return r}function CJ(){return[Nn,...rv()]}function XB(e){const t=e.trim();if(!t||t===Nn)return;const n=aA();if(n.includes(t))return;const r=[...n,t];oA(r)}function MJ(e){const t=aA(),n=t.filter(r=>r!==e);n.length!==t.length&&oA(n)}function DJ(e){const t=Wy(rE);if(t.includes(e))return;const n=[...t,e];iA(rE,n),typeof window<"u"&&window.dispatchEvent(new Event(mu))}function iv(){return Wy(ZB)}function Cd(e){iA(ZB,e),typeof window<"u"&&window.dispatchEvent(new Event(mu))}function Kh(e,t){const n=new Set(e),r=[];for(const i of t)n.has(i)&&!r.includes(i)&&r.push(i);for(const i of e)r.includes(i)||r.push(i);return r}function PJ(e){return Array.from(new Set(e))}function Xg(e){const t=e.filter(n=>n!==Nn);return{rest:t,withUnassigned:[Nn,...t]}}function RJ(e,t){return Kh(t,e)}function LJ({value:e,onChange:t}){const[n,r]=A.useState([Nn]),[i,a]=A.useState(!1),[s,c]=A.useState(""),[d,f]=A.useState(!1),m=A.useCallback(async S=>{const{data:{user:j},error:D}=await Ye.auth.getUser();if(D||!j)return;const O=S.map((N,R)=>({user_id:j.id,folder_name:N,sort_order:R+1,updated_at:new Date().toISOString()})),{error:M}=await Ye.from("user_folder_order").upsert(O,{onConflict:"user_id,folder_name"});M&&console.error("save folder order error",M.message)},[]),p=A.useCallback(()=>{if(typeof window>"u")return;const S=PJ(CJ()),j=S.includes(Nn)?S:[Nn,...S],{rest:D}=Xg(j),O=iv(),M=RJ(O,D),N=[Nn,...M];r(N),O.length===M.length&&O.every(($,B)=>$===M[B])||(Cd(M),m(M))},[m]);A.useEffect(()=>{if(p(),typeof window<"u"){const S=()=>p();return window.addEventListener(mu,S),()=>window.removeEventListener(mu,S)}},[p]);const y=A.useMemo(()=>e||Nn,[e]),b=S=>{const{rest:j}=Xg(S);Cd(j),m(j)},x=S=>{const{source:j,destination:D}=S;if(!D||D.index===j.index)return;const{rest:O}=Xg(n),M=Array.from(O),[N]=M.splice(j.index,1);M.splice(D.index,0,N);const R=[Nn,...M];r(R),b(R)},T=S=>{const j=lu(S);j&&(XB(j),p())};return _.jsxs("div",{className:"space-y-2",children:[_.jsxs("div",{className:"flex items-center gap-2",children:[_.jsxs("select",{className:"flex-1 border rounded-lg p-2",value:i?"__custom__":y,onChange:S=>{const j=S.target.value;if(j==="__custom__"){a(!0),t(void 0);return}a(!1),t(lu(j))},children:[n.map(S=>_.jsx("option",{value:S,children:S},S)),_.jsx("option",{value:"__custom__",children:"+   "})]}),_.jsx("button",{type:"button",className:"px-3 py-2 rounded bg-neutral-200 hover:bg-neutral-300 dark:bg-neutral-800 dark:hover:bg-neutral-700 text-sm cursor-pointer",onClick:()=>f(S=>!S),children:d?" ":" "})]}),i&&_.jsxs("div",{className:"flex items-center gap-2",children:[_.jsx("input",{type:"text",value:s,onChange:S=>c(S.target.value),placeholder:"  ",className:"flex-1 border rounded-lg p-2"}),_.jsx("button",{type:"button",className:"px-3 py-2 rounded bg-neutral-800 hover:bg-neutral-700 text-sm text-white cursor-pointer",onClick:()=>{const S=s.trim();S&&(T(S),t(lu(S)),a(!1),c(""))},children:""})]}),d&&_.jsxs("div",{className:"p-3 border rounded bg-neutral-50 dark:bg-neutral-900",children:[_.jsx("h4",{className:"font-bold mb-2 text-s",children:"  "}),_.jsxs("div",{className:"flex items-center justify-between bg-white dark:bg-neutral-800 p-2 rounded border text-sm mb-2",children:[_.jsx("span",{className:"opacity-60 select-none",children:""}),_.jsxs("span",{className:"flex-1 px-2",children:[Nn," ()"]})]}),_.jsx(Ym,{onDragEnd:x,children:_.jsx(su,{droppableId:"folderList",direction:"vertical",type:"FOLDER",children:S=>_.jsxs("ul",{ref:S.innerRef,...S.droppableProps,className:"space-y-1",children:[Xg(n).rest.map((j,D)=>_.jsx(Zd,{draggableId:j,index:D,children:O=>_.jsxs("li",{ref:O.innerRef,...O.draggableProps,...O.dragHandleProps,className:"flex items-center justify-between bg-white dark:bg-neutral-800 p-2 rounded border text-sm",children:[_.jsx("span",{className:"cursor-grab select-none mr-2",children:""}),_.jsx("span",{className:"flex-1 pr-1",children:j})]})},j)),S.placeholder]})})})]}),_.jsxs("p",{className:"text-xs text-gray-500",children:['   "',Nn,'" .      .']})]})}function JB({message:e,onClose:t,ms:n=2e3}){return A.useEffect(()=>{const r=setTimeout(t,n);return()=>clearTimeout(r)},[t,n]),_.jsx("div",{className:"fixed top-4 left-1/2 -translate-x-1/2 bg-black text-white px-4 py-2 rounded-lg shadow-lg z-[9999]",children:e})}function Vy(e){return typeof e=="object"&&e!==null}function IJ(e){return Vy(e)&&"default"in e}function $J(e){return Vy(e)&&typeof e.lunar2solar=="function"}function BJ(e){if(!Vy(e))throw new Error("Invalid lunar2solar result");const t=e.cYear,n=e.cMonth,r=e.cDay,i=e.isLeap;if(typeof t!="number"||typeof n!="number"||typeof r!="number")throw new Error("Invalid lunar2solar fields");return{cYear:t,cMonth:n,cDay:r,isLeap:typeof i=="boolean"?i:void 0}}function zJ(e){const t=IJ(e)?e.default:e;if(!$J(t))throw new Error("solarlunar.lunar2solar not found");return{lunar2solar:(r,i,a,s)=>{const c=t.lunar2solar(r,i,a,s);return BJ(c)}}}const UJ=zJ(nA);function ei(e,t,n,r=4,i=0){const a=UJ.lunar2solar(e,t,n,!1);return new Date(a.cYear,a.cMonth-1,a.cDay,r,i)}const Nh=[{key:"name",label:"",placeholder:" ",type:"text"},{key:"birthDay",label:"",placeholder:": 19900101",type:"tel"},{key:"birthTime",label:" ",placeholder:": 1524",type:"tel"},{key:"mingSikType",label:" ",type:"mingrule"},{key:"gender",label:"",type:"radio"},{key:"birthPlace",label:" ",type:"place"},{key:"relationship",label:"",type:"relationship"},{key:"folder",label:" ",type:"folder"},{key:"memo",label:"",placeholder:" ",type:"textarea"}],Ch=[{value:"solar",label:"",id:"calendarType_solar"},{value:"lunar",label:"",id:"calendarType_lunar"}],Jg=["","/",""],Qg=["",""];function uw(e,t,n){return n==="ArrowRight"||n==="ArrowDown"?(e+1)%t:n==="ArrowLeft"||n==="ArrowUp"?(e-1+t)%t:n==="Home"?0:n==="End"?t-1:e}function dw(e){const t=document.getElementById(e);t instanceof HTMLElement&&t.focus()}function HJ({onSave:e,onClose:t}){const{add:n}=vo(),[r,i]=A.useState(0),[a,s]=A.useState({gender:"",mingSikType:"/",DayChangeRule:"",calendarType:"solar"}),[c,d]=A.useState(null),[f,m]=A.useState(!1),[p,y]=A.useState(!1),b=Nh[r],x=M=>d(M);A.useEffect(()=>{if(["name","birthDay","birthTime","memo"].includes(b.key)){const N=document.querySelector(".current-step input[type='text']:not([disabled]), .current-step textarea:not([disabled])");if(N){N.focus();return}}if(b.key==="mingSikType"){const N=document.querySelector("[id^='ming_'][id$='_lbl'][aria-checked='true']");if(N){N.focus();return}}if(b.key==="gender"){const N=document.querySelector("[id^='gender_'][id$='_lbl'][aria-checked='true']");if(N){N.focus();return}}if(a.birthPlace||p){const N=()=>{const R=document.querySelector(".current-step form button[type='submit']");R&&R.focus()};N(),setTimeout(N,0)}else{const N=document.getElementById("inputBirthPlaceBtn");N&&N.focus()}if(b.key==="relationship"){setTimeout(()=>{const N=document.querySelector(".current-step select");N&&N.focus()},0);return}if(b.key==="folder"){setTimeout(()=>{const N=document.querySelector(".current-step select");N&&N.focus()},0);return}document.querySelector(".current-step button, .current-step [tabindex='0']")?.focus()},[p,r,b.key,a.birthPlace]);const T=A.useMemo(()=>{if(a.calendarType!=="lunar"||!a.birthDay||a.birthDay.length!==8)return null;try{const M=Number(a.birthDay.slice(0,4)),N=Number(a.birthDay.slice(4,6)),R=Number(a.birthDay.slice(6,8)),$=ei(M,N,R);return`  ${$.getFullYear()}-${String($.getMonth()+1).padStart(2,"0")}-${String($.getDate()).padStart(2,"0")}`}catch(M){const N=M instanceof Error?M.message:void 0;return`  ${N?`: ${N}`:""}`}},[a.calendarType,a.birthDay]),S=()=>{const M=Nh[r];if(M.key==="name"&&(a.name||(s({...a,name:""}),x("   '' ."))),M.key==="birthDay"){const N=/^\d{8}$/;if(!a.birthDay||!N.test(a.birthDay))return x(" YYYYMMDD  ."),!1;const R=Number(a.birthDay.substring(0,4)),$=Number(a.birthDay.substring(4,6)),B=Number(a.birthDay.substring(6,8));if(R<1900||R>2100)return x("  1900~2100  ."),!1;if($<1||$>12)return x("  01~12  ."),!1;if(B<1||B>31)return x("  01~31  ."),!1;if(a.calendarType==="solar"){const H=new Date(R,$-1,B);if(H.getFullYear()!==R||H.getMonth()+1!==$||H.getDate()!==B)return x("  ."),!1}else try{ei(R,$,B)}catch(H){return x(H instanceof Error?H.message:"   ."),!1}}if(M.key==="birthTime"){if(!a.birthTime&&!f)return x("   ''  ."),!1;if(a.birthTime){const N=Number(a.birthTime);if(Number.isNaN(N)||N<0||N>2359)return x("  00002359  ."),!1;const R=Number(a.birthTime.slice(0,2)),$=Number(a.birthTime.slice(2,4));if(R>23||$>59)return x("  00002359  ."),!1}}return M.key==="birthPlace"&&!a.birthPlace&&!p?(x("   ''  ."),!1):!0},j=()=>{if(!S())return;if(r<Nh.length-1){i(r+1);return}const M=lu(a.folder),N=!a.birthTime||a.birthTime==="",R=!a.birthPlace||typeof a.birthPlace=="object"&&a.birthPlace.name==="";let $=Number(a.birthDay.slice(0,4)),B=Number(a.birthDay.slice(4,6)),H=Number(a.birthDay.slice(6,8));if(a.calendarType==="lunar"){const W=ei($,B,H);$=W.getFullYear(),B=W.getMonth()+1,H=W.getDate()}const V=N?4:Number(a.birthTime.slice(0,2)),z=N?30:Number(a.birthTime.slice(2,4)),F=new Date($,B-1,H,V,z,0,0),Q=p||!a.birthPlace||a.birthPlace.lon===0?127.5:a.birthPlace.lon,ee=wu(F,Q,R),be=a.mingSikType??"/",J=N?"":ee.toLocaleTimeString("ko-KR",{hour:"2-digit",minute:"2-digit"}),le=vt(ee,Q),ae=Dt(ee,Q),me=Tt(ee,be),ne=N?null:Ua(ee,be),q=[` : ${le} ${ae} ${me}`,ne?`${ne}`:null].filter(Boolean).join(" ");function K(W,de){const Y=["","","","","","","","","",""].includes(W),se=de==="";return Y?se?"forward":"backward":se?"backward":"forward"}const X=le.charAt(0),ie=K(X,a.gender??""),Z={id:M$(),name:a.name?.trim()||"",birthDay:a.birthDay||"",birthTime:N?"":a.birthTime||"",gender:a.gender??"",birthPlace:p?{name:"",lat:0,lon:127.5}:a.birthPlace??{name:"",lat:0,lon:127.5},relationship:a.relationship??"",memo:a.memo??"",mingSikType:a.mingSikType??"/",DayChangeRule:a.mingSikType===""?"":"",folder:M,correctedLocal:J,ganji:q,calendarType:a.calendarType??"solar",dir:ie,corrected:ee,dateObj:a.dateObj||new Date,dayStem:a.dayStem||"",ganjiText:a.ganjiText||"   "};n(Z),e(Z),d(" !"),s({gender:"",mingSikType:"/",calendarType:"solar"}),m(!1),y(!1),i(0)},D=M=>{if(M.key!=="Enter")return;const N=M.target,R=N.getAttribute("role");if(R==="radio"||R==="checkbox")return;const $=document.getElementById("mapModal");if($&&$.contains(N))return;const B=N.tagName.toLowerCase(),H=N instanceof HTMLInputElement?N.type:"";if(B==="textarea"){if(M.shiftKey)return;M.preventDefault(),j();return}if(H==="radio"||H==="checkbox"){M.preventDefault(),N instanceof HTMLInputElement&&N.click();return}B==="button"&&N.type!=="submit"||(M.preventDefault(),j())},O=M=>{switch(M){case"birthPlace":return p?"":a.birthPlace?.name||"";case"birthTime":return f?"":a.birthTime||"";case"folder":return a.folder?String(a.folder):Nn;default:{const R=a[M];return typeof R=="string"?R:R!=null?String(R):""}}};return _.jsxs("div",{className:"mx-auto mt-10 space-y-2 max-w-[640px] w-[96%] text-neutral-900 dark:text-neutral-100",children:[c&&_.jsx(JB,{message:c,onClose:()=>d(null)}),Nh.slice(0,r).map((M,N)=>_.jsxs("button",{onClick:()=>i(N),className:"p-3 rounded-lg bg-neutral-100 dark:bg-neutral-900 border border-neutral-200 dark:border-neutral-800 flex justify-between w-full text-left hover:bg-neutral-200 dark:hover:bg-neutral-800/80 transition-colors",children:[_.jsx("span",{className:"font-semibold",children:M.label}),_.jsx("span",{className:"text-neutral-600 dark:text-neutral-300",children:O(M.key)})]},M.key)),_.jsx("div",{className:"p-4 border rounded-lg shadow current-step bg-white dark:bg-neutral-900 border-neutral-200 dark:border-neutral-800",children:_.jsxs("form",{onSubmit:M=>{M.preventDefault(),j()},onKeyDown:D,children:[_.jsx("label",{className:"block mb-2 font-bold",children:b.label}),b.key==="name"&&_.jsx("input",{type:"text",className:"w-full border rounded-lg p-2 bg-white dark:bg-neutral-900 border-neutral-300 dark:border-neutral-700 placeholder-neutral-400 dark:placeholder-neutral-500 text-neutral-900 dark:text-neutral-100",placeholder:b.placeholder,value:a.name||"",onChange:M=>s({...a,name:M.target.value})}),b.key==="birthDay"&&_.jsxs("div",{className:"space-y-2",children:[_.jsxs("div",{className:"flex gap-1 items-center",children:[_.jsx("input",{type:"text",className:"flex-1 border rounded-lg p-2 bg-white dark:bg-neutral-900 border-neutral-300 dark:border-neutral-700 placeholder-neutral-400 dark:placeholder-neutral-500 text-neutral-900 dark:text-neutral-100",placeholder:b.placeholder,value:a.birthDay||"",onChange:M=>{const N=M.target.value.replace(/\D/g,"");s({...a,birthDay:N.slice(0,8)})},inputMode:"numeric",pattern:"\\d*",maxLength:8}),_.jsx("fieldset",{role:"radiogroup","aria-label":" ",className:"flex gap-1 text-sm",children:Ch.map(({value:M,label:N,id:R})=>{const $=a.calendarType===M;return _.jsxs("span",{className:"inline-flex items-center gap-1",children:[_.jsx("input",{id:R,name:"calendarType",type:"radio",style:{display:"none"}}),_.jsx("label",{htmlFor:R,id:`${R}_lbl`,role:"radio","aria-checked":$,tabIndex:0,className:`cursor-pointer select-none px-2 py-1 rounded-md border
                                     border-neutral-300 dark:border-neutral-700
                                     bg-white dark:bg-neutral-900
                                     focus-visible:outline focus-visible:outline-2 focus-visible:outline-amber-500
                                     data-[checked=true]:border-amber-400 data-[checked=true]:bg-amber-50
                                     dark:data-[checked=true]:bg-amber-500/10`,"data-checked":$?"true":"false",onKeyDown:B=>{if(B.stopPropagation(),B.key===" "||B.key==="Enter"){B.preventDefault(),s({...a,calendarType:M});return}if(!["ArrowRight","ArrowLeft","ArrowUp","ArrowDown","Home","End"].includes(B.key))return;B.preventDefault();const V=Ch.findIndex(Q=>Q.value===a.calendarType),z=uw(V<0?0:V,Ch.length,B.key),F=Ch[z].value;s({...a,calendarType:F}),dw(`${Ch[z].id}_lbl`)},onClick:B=>{B.preventDefault(),s({...a,calendarType:M})},children:N})]},M)})})]}),a.calendarType==="lunar"&&_.jsx("div",{className:"flex items-center justify-end",children:_.jsx("span",{className:"text-xs text-neutral-600 dark:text-neutral-300",children:T})}),a.birthDay&&a.birthDay.length===8&&(()=>{const M=Number(a.birthDay.slice(0,4)),N=Number(a.birthDay.slice(4,6)),R=Number(a.birthDay.slice(6,8));return Dv(M,N,R)?_.jsx("div",{className:"text-xs text-red-600 dark:text-red-400 mt-1",children:" ."}):null})()]}),b.key==="birthTime"&&_.jsxs("div",{className:"space-y-2",children:[_.jsx("input",{type:"text",className:"w-full border rounded-lg p-2 disabled:opacity-50 bg-white dark:bg-neutral-900 border-neutral-300 dark:border-neutral-700 placeholder-neutral-400 dark:placeholder-neutral-500 text-neutral-900 dark:text-neutral-100",placeholder:b.placeholder,value:f?"":a.birthTime||"",onChange:M=>{const N=M.target.value.replace(/\D/g,"");s({...a,birthTime:N.slice(0,4)})},inputMode:"numeric",pattern:"\\d*",maxLength:4,disabled:f}),_.jsxs("span",{className:"inline-flex items-center gap-1",children:[_.jsx("input",{id:"birthTimeX",type:"checkbox",style:{display:"none"}}),_.jsx("label",{htmlFor:"birthTimeX",role:"checkbox","aria-checked":f,tabIndex:0,className:`text-sm select-none cursor-pointer px-2 py-1 rounded-md border
                             border-neutral-300 dark:border-neutral-700
                             bg-white dark:bg-neutral-900
                             focus-visible:outline focus-visible:outline-2 focus-visible:outline-amber-500
                             data-[checked=true]:border-amber-400 data-[checked=true]:bg-amber-50
                             dark:data-[checked=true]:bg-amber-500/10`,"data-checked":f?"true":"false",onKeyDown:M=>{M.stopPropagation(),(M.key===" "||M.key==="Enter")&&(M.preventDefault(),m(!f))},onClick:M=>{M.preventDefault(),m(!f)},children:""})]})]}),b.key==="mingSikType"&&_.jsx("fieldset",{role:"radiogroup","aria-label":" ",className:"flex flex-wrap gap-3",children:Jg.map(M=>{const N=`ming_${M}`,R=(a.mingSikType??"/")===M;return _.jsxs("span",{className:"inline-flex items-center gap-1",children:[_.jsx("input",{id:N,name:"mingSikType",type:"radio",style:{display:"none"}}),_.jsxs("label",{htmlFor:N,id:`${N}_lbl`,role:"radio","aria-checked":R,tabIndex:0,className:`cursor-pointer select-none px-2 py-1 rounded-md border
                                 border-neutral-300 dark:border-neutral-700
                                 bg-white dark:bg-neutral-900
                                 focus-visible:outline focus-visible:outline-2 focus-visible:outline-amber-500
                                 data-[checked=true]:border-amber-400 data-[checked=true]:bg-amber-50
                                 dark:data-[checked=true]:bg-amber-500/10`,"data-checked":R?"true":"false",onKeyDown:$=>{if($.stopPropagation(),$.key===" "||$.key==="Enter"){$.preventDefault(),s({...a,mingSikType:M});return}if(!["ArrowRight","ArrowLeft","ArrowUp","ArrowDown","Home","End"].includes($.key))return;$.preventDefault();const H=a.mingSikType??"/",V=Jg.indexOf(H),z=uw(V,Jg.length,$.key),F=Jg[z];s({...a,mingSikType:F}),dw(`ming_${F}_lbl`)},onClick:$=>{$.preventDefault(),s({...a,mingSikType:M})},children:[M,""]})]},M)})}),b.key==="gender"&&_.jsx("fieldset",{role:"radiogroup","aria-label":"",className:"flex gap-2",children:Qg.map(M=>{const N=`gender_${M}`,R=(a.gender??"")===M;return _.jsxs("span",{className:"inline-flex items-center gap-1",children:[_.jsx("input",{id:N,name:"gender",type:"radio",style:{display:"none"}}),_.jsx("label",{htmlFor:N,id:`${N}_lbl`,role:"radio","aria-checked":R,tabIndex:0,className:`cursor-pointer select-none px-2 py-1 rounded-md border
                                 border-neutral-300 dark:border-neutral-700
                                 bg-white dark:bg-neutral-900
                                 focus-visible:outline focus-visible:outline-2 focus-visible:outline-amber-500
                                 data-[checked=true]:border-amber-400 data-[checked=true]:bg-amber-50
                                 dark:data-[checked=true]:bg-amber-500/10`,"data-checked":R?"true":"false",onKeyDown:$=>{if($.stopPropagation(),$.key===" "||$.key==="Enter"){$.preventDefault(),s({...a,gender:M});return}if(!["ArrowRight","ArrowLeft","ArrowUp","ArrowDown","Home","End"].includes($.key))return;$.preventDefault();const H=a.gender??"",V=Qg.indexOf(H),z=uw(V,Qg.length,$.key),F=Qg[z];s({...a,gender:F}),dw(`gender_${F}_lbl`)},onClick:$=>{$.preventDefault(),s({...a,gender:M})},children:M})]},M)})}),b.key==="birthPlace"&&_.jsxs("div",{className:"space-y-2",children:[_.jsx(D$,{onSelect:M=>s({...a,birthPlace:M}),value:p?"":a.birthPlace?.name??""}),_.jsxs("span",{className:"inline-flex items-center gap-1",children:[_.jsx("input",{id:"birthPlaceX",type:"checkbox",style:{display:"none"}}),_.jsx("label",{htmlFor:"birthPlaceX",role:"checkbox","aria-checked":p,tabIndex:0,className:`text-sm select-none cursor-pointer px-2 py-1 rounded-md border
                             border-neutral-300 dark:border-neutral-700
                             bg-white dark:bg-neutral-900
                             focus-visible:outline focus-visible:outline-2 focus-visible:outline-amber-500
                             data-[checked=true]:border-amber-400 data-[checked=true]:bg-amber-50
                             dark:data-[checked=true]:bg-amber-500/10`,"data-checked":p?"true":"false",onKeyDown:M=>{M.stopPropagation(),(M.key===" "||M.key==="Enter")&&(M.preventDefault(),y(!p))},onClick:M=>{M.preventDefault(),y(!p)},children:""})]})]}),b.key==="relationship"&&_.jsx(KB,{value:a.relationship||"",onChange:M=>s({...a,relationship:M})}),b.key==="folder"&&_.jsx(LJ,{value:lu(a.folder),onChange:M=>s({...a,folder:M})}),b.key==="memo"&&_.jsx("textarea",{className:"w-full border rounded-lg p-2 bg-white dark:bg-neutral-900 border-neutral-300 dark:border-neutral-700 placeholder-neutral-400 dark:placeholder-neutral-500 text-neutral-900 dark:text-neutral-100",placeholder:b.placeholder,value:a.memo||"",onChange:M=>s({...a,memo:M.target.value})}),_.jsxs("div",{className:"flex justify-between gap-2",children:[_.jsx("button",{className:"mt-4 w-full btn_style btn_secondary dark:focus:ring-amber-500",onClick:t,children:""}),_.jsx("button",{type:"submit",className:"mt-4 w-full btn_style dark:focus:ring-amber-500",children:r===Nh.length-1?"":""})]})]})})]})}var e0={},VC;function FJ(){if(VC)return e0;VC=1,e0.match=a,e0.parse=s;var e=/(?:(only|not)?\s*([^\s\(\)]+)(?:\s*and)?\s*)?(.+)?/i,t=/\(\s*([^\s\:\)]+)\s*(?:\:\s*([^\s\)]+))?\s*\)/,n=/^(?:(min|max)-)?(.+)/,r=/(em|rem|px|cm|mm|in|pt|pc)?$/,i=/(dpi|dpcm|dppx)?$/;function a(m,p){return s(m).some(function(y){var b=y.inverse,x=y.type==="all"||p.type===y.type;if(x&&b||!(x||b))return!1;var T=y.expressions.every(function(S){var j=S.feature,D=S.modifier,O=S.value,M=p[j];if(!M)return!1;switch(j){case"orientation":case"scan":return M.toLowerCase()===O.toLowerCase();case"width":case"height":case"device-width":case"device-height":O=f(O),M=f(M);break;case"resolution":O=d(O),M=d(M);break;case"aspect-ratio":case"device-aspect-ratio":case"device-pixel-ratio":O=c(O),M=c(M);break;case"grid":case"color":case"color-index":case"monochrome":O=parseInt(O,10)||1,M=parseInt(M,10)||0;break}switch(D){case"min":return M>=O;case"max":return M<=O;default:return M===O}});return T&&!b||!T&&b})}function s(m){return m.split(",").map(function(p){p=p.trim();var y=p.match(e),b=y[1],x=y[2],T=y[3]||"",S={};return S.inverse=!!b&&b.toLowerCase()==="not",S.type=x?x.toLowerCase():"all",T=T.match(/\([^\)]+\)/g)||[],S.expressions=T.map(function(j){var D=j.match(t),O=D[1].toLowerCase().match(n);return{modifier:O[1],feature:O[2],value:D[2]}}),S})}function c(m){var p=Number(m),y;return p||(y=m.match(/^(\d+)\s*\/\s*(\d+)$/),p=y[1]/y[2]),p}function d(m){var p=parseFloat(m),y=String(m).match(i)[1];switch(y){case"dpcm":return p/2.54;case"dppx":return p*96;default:return p}}function f(m){var p=parseFloat(m),y=String(m).match(r)[1];switch(y){case"em":return p*16;case"rem":return p*16;case"cm":return p*96/2.54;case"mm":return p*96/2.54/10;case"in":return p*96;case"pt":return p*72;case"pc":return p*72/12;default:return p}}return e0}var fw,ZC;function GJ(){if(ZC)return fw;ZC=1;var e=FJ().match,t=typeof window<"u"?window.matchMedia:null;function n(i,a,s){var c=this,d;t&&!s&&(d=t.call(window,i)),d?(this.matches=d.matches,this.media=d.media,d.addListener(p)):(this.matches=e(i,a),this.media=i),this.addListener=f,this.removeListener=m,this.dispose=y;function f(b){d&&d.addListener(b)}function m(b){d&&d.removeListener(b)}function p(b){c.matches=b.matches,c.media=b.media}function y(){d&&d.removeListener(p)}}function r(i,a,s){return new n(i,a,s)}return fw=r,fw}var qJ=GJ();const YJ=Li(qJ);var KJ=/[A-Z]/g,WJ=/^ms-/,hw={};function VJ(e){return"-"+e.toLowerCase()}function QB(e){if(hw.hasOwnProperty(e))return hw[e];var t=e.replace(KJ,VJ);return hw[e]=WJ.test(t)?"-"+t:t}function ZJ(e,t){if(e===t)return!0;if(!e||!t)return!1;const n=Object.keys(e),r=Object.keys(t),i=n.length;if(r.length!==i)return!1;for(let a=0;a<i;a++){const s=n[a];if(e[s]!==t[s]||!Object.prototype.hasOwnProperty.call(t,s))return!1}return!0}var mw={exports:{}},pw,XC;function XJ(){if(XC)return pw;XC=1;var e="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return pw=e,pw}var gw,JC;function JJ(){if(JC)return gw;JC=1;var e=XJ();function t(){}function n(){}return n.resetWarningCache=t,gw=function(){function r(s,c,d,f,m,p){if(p!==e){var y=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw y.name="Invariant Violation",y}}r.isRequired=r;function i(){return r}var a={array:r,bigint:r,bool:r,func:r,number:r,object:r,string:r,symbol:r,any:r,arrayOf:i,element:r,elementType:r,instanceOf:i,node:r,objectOf:i,oneOf:i,oneOfType:i,shape:i,exact:i,checkPropTypes:n,resetWarningCache:t};return a.PropTypes=a,a},gw}var QC;function QJ(){return QC||(QC=1,mw.exports=JJ()()),mw.exports}var eQ=QJ();const zt=Li(eQ),ci=zt.oneOfType([zt.string,zt.number]),e5={all:zt.bool,grid:zt.bool,aural:zt.bool,braille:zt.bool,handheld:zt.bool,print:zt.bool,projection:zt.bool,screen:zt.bool,tty:zt.bool,tv:zt.bool,embossed:zt.bool},tQ={orientation:zt.oneOf(["portrait","landscape"]),scan:zt.oneOf(["progressive","interlace"]),aspectRatio:zt.string,deviceAspectRatio:zt.string,height:ci,deviceHeight:ci,width:ci,deviceWidth:ci,color:zt.bool,colorIndex:zt.bool,monochrome:zt.bool,resolution:ci,type:Object.keys(e5)},{type:I1e,...nQ}=tQ,rQ={minAspectRatio:zt.string,maxAspectRatio:zt.string,minDeviceAspectRatio:zt.string,maxDeviceAspectRatio:zt.string,minHeight:ci,maxHeight:ci,minDeviceHeight:ci,maxDeviceHeight:ci,minWidth:ci,maxWidth:ci,minDeviceWidth:ci,maxDeviceWidth:ci,minColor:zt.number,maxColor:zt.number,minColorIndex:zt.number,maxColorIndex:zt.number,minMonochrome:zt.number,maxMonochrome:zt.number,minResolution:ci,maxResolution:ci,...nQ},iQ={...e5,...rQ};var aQ={all:iQ};const oQ=e=>`not ${e}`,sQ=(e,t)=>{const n=QB(e);return typeof t=="number"&&(t=`${t}px`),t===!0?n:t===!1?oQ(n):`(${n}: ${t})`},lQ=e=>e.join(" and "),cQ=e=>{const t=[];return Object.keys(aQ.all).forEach(n=>{const r=e[n];r!=null&&t.push(sQ(n,r))}),lQ(t)},uQ=A.createContext(void 0),dQ=e=>e.query||cQ(e),eM=e=>e?Object.keys(e).reduce((n,r)=>(n[QB(r)]=e[r],n),{}):void 0,t5=()=>{const e=A.useRef(!1);return A.useEffect(()=>{e.current=!0},[]),e.current},fQ=e=>{const t=A.useContext(uQ),n=()=>eM(e)||eM(t),[r,i]=A.useState(n);return A.useEffect(()=>{const a=n();ZJ(r,a)||i(a)},[e,t]),r},hQ=e=>{const t=()=>dQ(e),[n,r]=A.useState(t);return A.useEffect(()=>{const i=t();n!==i&&r(i)},[e]),n},mQ=(e,t)=>{const n=()=>YJ(e,t||{},!!t),[r,i]=A.useState(n),a=t5();return A.useEffect(()=>{if(a){const s=n();return i(s),()=>{s&&s.dispose()}}},[e,t]),r},pQ=e=>{const[t,n]=A.useState(e.matches);return A.useEffect(()=>{const r=i=>{n(i.matches)};return e.addListener(r),n(e.matches),()=>{e.removeListener(r)}},[e]),t},gQ=(e,t,n)=>{const r=fQ(t),i=hQ(e);if(!i)throw new Error("Invalid or missing MediaQuery!");const a=mQ(i,r),s=pQ(a);return t5(),A.useEffect(()=>{},[s]),A.useEffect(()=>()=>{a&&a.dispose()},[]),s},n5=(()=>{const e=[];for(let t=0;t<60;t++)e.push(`${hi[t%10]}${Pi[t%12]}`);return e})();function vQ(e){const t=n5.indexOf(e);if(t<0)throw new Error(`Unknown : ${e}`);return t}function Pv(e,t,n=1){const r=vQ(e),i=t==="forward"?n:-n;return n5[(r+i+60*1e3)%60]}const yQ=60*1e3,bQ=60*yQ,_Q=24*bQ;function xQ(e,t){const n=new Date(e.getTime()),r=n.getFullYear()+t,i=n.getMonth(),a=n.getDate();return new Date(Date.UTC(r,i,a,n.getUTCHours(),n.getUTCMinutes()))}function iE(e){const t=new Date(e);return t.setSeconds(0,0),t}function wQ(e,t,n){const r=e.getHours(),i=n==="/"?(Math.floor((r+1)/2)*2-1+24)%24:(Math.floor(r/2)*2+1)%24,a=new Date(e);a.setHours(i,0,0,0);const s=new Date(a);s.setHours(i+2,0,0,0);const c=e.getTime()-a.getTime(),d=s.getTime()-e.getTime();return t==="backward"?c:d}function r5(e,t,n,r=120,i="/"){const a=iE(e),s=wQ(a,n,i),c=iE(new Date(a.getTime()+s*120)),d=xQ(e,r).getTime(),f=[];let m=Pv(t,n,1);for(let p=c.getTime();p<=d;p+=10*_Q)f.push({at:new Date(p),gz:m}),m=Pv(m,n,1);return{firstChange:c,events:f}}function i5(e,t){const n=t==="forward"?e===""?"":"":e===""?"":"";return r=>r===n}function a5(e,t,n,r){const i=i5(r,n);let a=t;const s=[];for(const c of e.events){const d=c.gz.charAt(1);i(d)&&(a=Pv(a,n,1),s.push({at:c.at,gz:a}))}return{events:s}}function yo(e){const t=e.getFullYear(),n=[{deg:315,name:""},{deg:345,name:""},{deg:15,name:""},{deg:45,name:""},{deg:75,name:""},{deg:105,name:""},{deg:135,name:""},{deg:165,name:""},{deg:195,name:""},{deg:225,name:""},{deg:255,name:""},{deg:285,name:""}],r={deg:315,name:""},i=n.map(c=>({name:c.name,date:or(t,c.deg)})).concat([{name:r.name,date:or(t+1,r.deg)},{name:"",date:or(t+1,285)}]),a=or(t,315),s=or(t+1,315);return i.filter(c=>c.date>=a&&c.date<s).sort((c,d)=>c.date.getTime()-d.date.getTime())}const SQ={:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},EQ={:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},AQ=e=>SQ[e]??("".includes(e)?e:null),TQ=e=>EQ[e]??("".includes(e)?e:null);function tM(e){const t=AQ(e[0]),n=TQ(e[1]);if(!t||!n)throw new Error(`Invalid GZ: ${e}`);return`${t}${n}`}function Km(e,t,n,r=120,i){function a(O){return O instanceof Date||(O=new Date(O)),Math.floor((O.getHours()+1)%24/2)}function s(O){return["","","","","","","","","","","",""][a(O)]}function c(O,M,N){const R=O.charAt(0),$=O.charAt(1),B=hi.indexOf(R),H=Pi.indexOf($),V=M==="forward"?N:-N,z=(B+V%10+10)%10,F=(H+V%12+12)%12;return hi[z]+Pi[F]}const d=yo(e).sort((O,M)=>O.date.getTime()-M.date.getTime());let f;if(n==="forward"){const O=d.findIndex(M=>M.date>=e);O>=0&&(f=d[O].date)}else{const O=d.filter(M=>M.date<=e);O.length&&(f=O[O.length-1].date)}function m(O,M){const N=s(O),R={:23,:1,:3,:5,:7,:9,:11,:13,:15,:17,:19,:21},$=R[N],B=($+2)%24,H=new Date(O);if(H.setSeconds(0,0),n==="backward"&&M){const z=s(M),F=R[z],Q=new Date(M);return Q.setHours(F,0,0,0),Q}if(n==="forward"&&M){const z=s(M),F=R[z],Q=new Date(M);if(Q.setHours(F,0,0,0),Q>H)return Q}const V=new Date(H);return n==="forward"?(V.setHours(B,0,0,0),V<=H&&V.setDate(V.getDate()+1)):(V.setHours($,0,0,0),V>=H&&V.setDate(V.getDate()-1)),V}new Date(e).setSeconds(0,0);const y=tM(Dt(e,127.5)),b=m(e,f),x=Math.floor(n==="forward"?(b.getTime()-e.getTime())/6e4:(e.getTime()-b.getTime())/6e4),T=Math.round(x/120*(14400*60*1e3));let S=new Date(e.getTime()+T);try{const O=tM(Dt(e,i));(n==="forward"&&y!==O||n==="backward"&&y!==O)&&(S=new Date(e.getTime()+6e4))}catch{}const j=r/10,D=[];for(let O=0;O<j;O++){const M=new Date(S);M.setFullYear(M.getFullYear()+O*10),M.setSeconds(0,0);const N=c(t,n,O+1);D.push({at:M,gz:N})}return{natalMonthPillar:t,firstChange:S,mPillars:[],events:D}}function kQ(e,t){const r=(t.getTime()-e.getTime())/(365.2425*24*60*60*1e3);return Math.max(0,Math.floor(r))}function o5(e,t,n,r,i){const a=i5(r,n);let s=t;const c=[];for(const d of e.events){const f=d.gz.charAt(1);a(f)&&(s=Pv(s,n,1),c.push({at:d.at,gz:s,age:kQ(i,d.at)}))}return{events:c}}function OQ(e){const t=Number(e.birthDay.slice(0,4)),n=Number(e.birthDay.slice(4,6)),r=Number(e.birthDay.slice(6,8));let i=12,a=0;return e.birthTime&&e.birthTime!==""&&/^\d{4}$/.test(e.birthTime)&&(i=Number(e.birthTime.slice(0,2)),a=Number(e.birthTime.slice(2,4))),new Date(t,n-1,r,i,a,0,0)}function Zy(e){const t=OQ(e),n=!e.birthPlace||typeof e.birthPlace=="object"&&e.birthPlace.name==="",r=wu(t,e.birthPlace?.lon??null,n);return iE(r)}function sA(e,t){const n=e.birthPlace?.lon??127.5,r=Zy(e),i=Tt(r,t),a=Ua(r,t,i.charAt(0));return{year:vt(r,n),month:Dt(r,n),day:i,hour:a}}const jQ=(()=>{const e=[];for(let t=0;t<60;t++)e.push(`${hi[t%10]}${Pi[t%12]}`);return e})(),NQ=e=>jQ.indexOf(e),vw=e=>{if(NQ(e)<0)throw new Error(`Unknown : ${e}`);return{stem:e[0],branch:e[1]}};function lA(e){return typeof e=="object"&&e!==null}function CQ(e){return lA(e)&&"default"in e}function MQ(e){return lA(e)&&typeof e.lunar2solar=="function"}function DQ(e){if(!lA(e))throw new Error("Invalid lunar2solar result");const t=e.cYear,n=e.cMonth,r=e.cDay,i=e.isLeap;if(typeof t!="number"||typeof n!="number"||typeof r!="number")throw new Error("Invalid lunar2solar fields");return{cYear:t,cMonth:n,cDay:r,isLeap:typeof i=="boolean"?i:void 0}}function PQ(e){const t=CQ(e)?e.default:e;if(!MQ(t))throw new Error("solarlunar.lunar2solar not found");return{lunar2solar:(r,i,a,s)=>{const c=t.lunar2solar(r,i,a,!!s);return DQ(c)}}}const RQ=PQ(nA),nM=e=>e<10?`0${e}`:`${e}`;function cA(e){const t=e,n=typeof t.birthDay=="string"?t.birthDay:"",r=typeof t.calendarType=="string"?t.calendarType:"solar";if(n.length<8||r!=="lunar")return e;const i=Number(n.slice(0,4)),a=Number(n.slice(4,6)),s=Number(n.slice(6,8)),c=["isLeap","isLeapMonth","leapMonth","leap","lunarLeap"];let d=!1;for(const f of c){const m=t[f];if(typeof m=="boolean"){d=m;break}if(typeof m=="number"){d=m===1;break}if(typeof m=="string"){d=m==="1"||m.toLowerCase()==="true";break}}try{const f=RQ.lunar2solar(i,a,s,d),m=`${f.cYear}${nM(f.cMonth)}${nM(f.cDay)}`;return{...e,birthDay:m,calendarType:"solar"}}catch{return e}}function LQ(e,t="/"){const n=A.useMemo(()=>cA(e),[e]),r=A.useMemo(()=>Zy(n),[n]),i=A.useMemo(()=>sA(n,t),[n,t]);return A.useMemo(()=>{const a=Km(r,i.month,n.dir,120,n?.birthPlace?.lon??127.5),s=new Date;function c(O,M){let N=null;const R=M.getTime();for(const $ of O)if($.at.getTime()<=R)N=$;else break;return N}const d=c(a.events,s)?.gz??i.month,f=vw(d),m=s.getFullYear(),p=or(m,315),b=p&&s>=p?m:m-1,x=vt(new Date(b,1,10,0,0,0),127.5),T=vw(x),S=Dt(s,127.5),j=vw(S),D=[];return j&&D.push({key:"wolun",label:"",data:j}),T&&D.push({key:"seun",label:"",data:T}),f&&D.push({key:"daeun",label:"",data:f}),D},[r,n.dir,i.month,n.birthPlace?.lon])}function tm(e){const t=n=>n.toString().padStart(2,"0");return`${e.getFullYear()} ${t(e.getMonth()+1)} ${t(e.getDate())} ${t(e.getHours())} ${t(e.getMinutes())}`}function rM(e){return e<10?`0${e}`:`${e}`}function aE(e){return`${rM(e.getHours())}:${rM(e.getMinutes())}`}const Ri=zm()(uI((e,t)=>{const n=new Date,r="/",i=127.5,a=i,s=vt(n,a),c=Dt(n,a),d=Tt(n,r);return{date:n,scope:"",rule:r,lon:i,yearGZ:s,monthGZ:c,dayGZ:d,setDate:f=>{const{rule:m,lon:p}=t(),y=typeof p=="number"?p:void 0;e({date:f,yearGZ:vt(f,y),monthGZ:Dt(f,y),dayGZ:Tt(f,m)})},resetDate:()=>{const{rule:f,lon:m}=t(),p=new Date,y=typeof m=="number"?m:void 0;e({date:p,yearGZ:vt(p,y),monthGZ:Dt(p,y),dayGZ:Tt(p,f)})},resetMonth:()=>{const{lon:f}=t(),m=new Date;e({date:m,monthGZ:Dt(m,typeof f=="number"?f:void 0)})},setScope:f=>e({scope:f}),setRule:f=>{const{date:m,lon:p}=t(),y=typeof p=="number"?p:void 0;e({rule:f,yearGZ:vt(m,y),monthGZ:Dt(m,y),dayGZ:Tt(m,f)})},setLon:f=>{const{date:m,rule:p}=t(),y=typeof f=="number"?f:void 0;e({lon:f,yearGZ:vt(m,y),monthGZ:Dt(m,y),dayGZ:Tt(m,p)})},setFromEvent:(f,m)=>{const{rule:p,lon:y}=t(),b=typeof y=="number"?y:void 0;e({date:f.at,scope:m,yearGZ:vt(f.at,b),monthGZ:Dt(f.at,b),dayGZ:Tt(f.at,p)})},forceKey:new Date}},{name:"luck-picker-v1",merge:(e,t)=>{const n=e;return n.date&&typeof n.date=="string"&&(n.date=new Date(n.date)),{...t,...n}}})),Su={Classic:"",Modern:""};function ln(e,t){const r={:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}}[e];return r?r[t]??"":""}function IQ(e,t){return{:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}}[e]?.[t]??""}function $Q(e,t){const n={:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},r={:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}},i=n[e];return i&&r[i]?r[i][t]??"":""}function BQ(e,t){return{:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}}[e]?.[t]??""}function zQ(e,t){const n={:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},r={:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}},i=n[e];return i&&r[i]?r[i][t]??"":""}function cn(e){const{baseBranch:t,targetBranch:n,era:r,gaehwa:i}=e;return!t||!n?"":r===""?i?IQ(t,n):$Q(t,n):i?BQ(t,n):zQ(t,n)}function Wm(e,t="/",n=100){const r=A.useMemo(()=>cA(e),[e]),i=A.useMemo(()=>Zy(r),[r]),a=A.useMemo(()=>sA(r,t),[r,t]),s=(c,d)=>{const f=d.getFullYear()-c.getFullYear(),m=d.getMonth()-c.getMonth(),p=d.getDate()-c.getDate(),y=m<0||m===0&&p<0?f-1:f;return Math.max(0,y)};return A.useMemo(()=>Km(i,a.month,r.dir,n,r.birthPlace?.lon??127.5).events.map(d=>({...d,age:s(i,d.at)})),[i,a.month,r.dir,n,r.birthPlace?.lon])}function yw(e){return e instanceof Date&&!Number.isNaN(e.getTime())}function UQ(e,t){if(!Array.isArray(e)||e.length===0||!yw(t))return{gz:"",at:t,index:-1};const n=e;for(let a=0;a<n.length;a++){const s=n[a],c=n[a+1];if(!yw(s.at))continue;if(t.getTime()>=s.at.getTime()&&(!c||yw(c.at)&&t.getTime()<c.at.getTime()))return{gz:s.gz??"",at:s.at,index:a}}if(t.getTime()<n[0].at.getTime()){const a=n[0];return{gz:a.gz??"",at:a.at,index:0}}const r=n.length-1,i=n[r];return{gz:i.gz??"",at:i.at,index:r}}function uA(e,t,n){const{date:r,rule:i,lon:a}=Ri(),s=A.useMemo(()=>n??r??new Date,[n,r]),c=Wm(e,e?.mingSikType),{gz:d}=UQ(c,s);return A.useMemo(()=>{try{const f=a??e?.birthPlace?.lon??127.5,m=i??e?.mingSikType??t??"/";return{dae:{gz:d,at:s},se:{gz:vt(s,f),at:s},wol:{gz:Dt(s,f),at:s},il:{gz:Tt(s,m),at:s}}}catch{const f=new Date;return{dae:{gz:"",at:f},se:{gz:"",at:f},wol:{gz:"",at:f},il:{gz:"",at:f}}}},[s,i,a,e,t,d])}const dA={:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},fA={:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},HQ=Object.fromEntries(Object.entries(dA).map(([e,t])=>[t,e])),FQ=Object.fromEntries(Object.entries(fA).map(([e,t])=>[t,e])),GQ=new Set(["","","","","","","","","",""]),qQ=new Set(["","","","","","","","","","","",""]),YQ=[{keys:["",""],label:"",elem:""},{keys:["",""],label:"",elem:""},{keys:["",""],label:"",elem:""},{keys:["",""],label:"",elem:""},{keys:["",""],label:"",elem:""},{keys:["",""],label:"",elem:""},{keys:["",""],label:"",elem:""},{keys:["",""],label:"",elem:""},{keys:["",""],label:"",elem:""},{keys:["",""],label:"",elem:""},{keys:["",""],label:"",elem:""},{keys:["",""],label:"",elem:""},{keys:["",""],label:"",elem:""},{keys:["",""],label:"",elem:""},{keys:["",""],label:"",elem:""},{keys:["",""],label:"",elem:""},{keys:["",""],label:"",elem:""},{keys:["",""],label:"",elem:""},{keys:["",""],label:"",elem:""},{keys:["",""],label:"",elem:""},{keys:["",""],label:"",elem:""},{keys:["",""],label:"",elem:""},{keys:["",""],label:"",elem:""},{keys:["",""],label:"",elem:""},{keys:["",""],label:"",elem:""},{keys:["",""],label:"",elem:""},{keys:["",""],label:"",elem:""},{keys:["",""],label:"",elem:""},{keys:["",""],label:"",elem:""},{keys:["",""],label:"",elem:""}],KQ=(()=>{const e={};for(const t of YQ){const[n,r]=t.keys;e[n]={label:t.label,elem:t.elem},e[r]={label:t.label,elem:t.elem}}return e})();function WQ(e){switch(e){case"":return"bg-green-600 text-white";case"":return"bg-red-600 text-white";case"":return"bg-yellow-600 text-white";case"":return"bg-gray-500 text-white";case"":return"bg-blue-700 text-white";default:return"bg-neutral-700 text-white"}}const VQ={:1,:2,:3};function ZQ(e){return e.includes("")?3:e.includes("")?2:(e.includes(""),1)}const XQ={:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""};function JQ(e){switch(XQ[e]){case"":return"bg-green-600 text-white border-green-600";case"":return"bg-red-600 text-white border-red-600";case"":return"bg-yellow-500 text-white border-yellow-500";case"":return"bg-gray-400 text-white border-gray-400";case"":return"bg-blue-900 text-white border-blue-600";default:return"bg-neutral-700 text-white border-neutral-700"}}function QQ({data:e,hourTable:t}){const{date:n}=Ri(),r=Ar(W=>W.settings),i=r.showNabeum??!0,a=e.mingSikType??t??"/",s=!e.birthPlace||e.birthPlace.name===""||!e.birthPlace.lon?127.5:e.birthPlace.lon,{solarY:c,solarM:d,solarD:f}=A.useMemo(()=>{let W=Number(e.birthDay?.slice(0,4)??2e3),de=Number(e.birthDay?.slice(4,6)??1),te=Number(e.birthDay?.slice(6,8)??1);if(e.calendarType==="lunar"){const Y=ei(W,de,te);W=Y.getFullYear(),de=Y.getMonth()+1,te=Y.getDate()}return{solarY:W,solarM:de,solarD:te}},[e.birthDay,e.calendarType]),[m,p]=A.useState(!1);A.useEffect(()=>{c&&d&&f&&p(Dv(c,d,f))},[c,d,f]);const y=!e.birthTime||e.birthTime==="";function b(W,de){const te=!W.birthTime||W.birthTime==="";let Y=Number(W.birthDay.slice(0,4)),se=Number(W.birthDay.slice(4,6)),xe=Number(W.birthDay.slice(6,8));if(W.calendarType==="lunar"){const He=ei(Y,se,xe);Y=He.getFullYear(),se=He.getMonth()+1,xe=He.getDate()}const ce=te?4:Number(W.birthTime.slice(0,2)),Ne=te?30:Number(W.birthTime.slice(2,4)),pe=new Date(Y,se-1,xe,ce,Ne,0,0),Te=!W.birthPlace||W.birthPlace.name===""||!W.birthPlace.lon,Me=Te?127.5:W.birthPlace.lon,Le=W.corrected instanceof Date&&!Number.isNaN(W.corrected.getTime());let Be;Le?Be=W.corrected:Te?Be=pe:Be=wu(pe,Me,te);const ge=de?new Date(Be.getTime()-3600*1e3):Be,Ue=W.mingSikType??"/",ue=vt(ge,Me),he=Dt(ge,Me),$e=Tt(ge,Ue),ze=te?null:Ua(ge,Ue);return{corrected:ge,year:{stem:ue.charAt(0),branch:ue.charAt(1)},month:{stem:he.charAt(0),branch:he.charAt(1)},day:{stem:$e.charAt(0),branch:$e.charAt(1)},hour:ze?{stem:ze.charAt(0),branch:ze.charAt(1)}:null}}const[x,T]=A.useState(()=>b(e,m));A.useEffect(()=>{T(b(e,m))},[e,m]);const S=eee(e.correctedLocal,x.corrected,y),j=e.id??`${e.birthDay}-${e.birthTime}-${e.name??""}`,D=x.day.stem,[O,M]=A.useState(null),[N,R]=A.useState(()=>e.mingSikType==="");A.useEffect(()=>{M(null),R(e.mingSikType==="")},[j,e.mingSikType]);const $=A.useMemo(()=>(N?_2:rI)[D]??[],[N,D]),B=O??x.hour,H=r.sinsalBase===""?x.day.branch:x.year.branch,V=Fm(W=>W.setManualHour),z=(W,de)=>{const te={stem:W,branch:de};M(te),V(te)},F=W=>r.showSibiUnseong?ln(D,W):null,Q=W=>r.showSibiSinsal?cn({baseBranch:H,targetBranch:W,era:bw(r.sinsalMode),gaehwa:r.sinsalBloom}):null,ee=LQ(e,a),be=gQ({query:"(min-width: 992px)"}),J=r.hiddenStem==="regular"?"main":"all",le=r.exposure,ae=le===""?0:VQ[le],me=ae===0?[]:ee.filter(W=>ZQ(W.label)<=ae),ne=Dv(c,d,f),q=()=>p(W=>!W),K=uA(e,t,n),X=K.dae.gz,ie=K.se.gz,Z=K.wol.gz;return _.jsxs("div",{className:"w-full max-w-[640px] mx-auto",children:[_.jsxs("div",{className:"mb-1 flex flex-wrap items-end justify-between gap-2 p-2",children:[_.jsxs("div",{children:[_.jsxs("div",{className:"text-md desk:text-xl font-bold text-neutral-900 dark:text-neutral-100",children:[(e.name?.trim()||"")+" ",_.jsxs("span",{className:"text-sm text-neutral-500 dark:text-neutral-400 mr-2",children:["(",e.gender,")"]}),ne&&_.jsxs("button",{onClick:q,className:`px-2 py-0.5 text-xs rounded cursor-pointer border
                  ${m?"bg-red-600 text-white border-red-600":"bg-neutral-100 text-neutral-700 border-neutral-300 dark:bg-neutral-800 dark:text-neutral-200 dark:border-neutral-700"}`,children:[" ",m?"ON":"OFF"]})]}),_.jsxs("div",{className:"text-sm text-neutral-600 dark:text-neutral-400",children:[nee(e.birthDay,e.birthTime),e.birthPlace?.name?`  ${": "+e.birthPlace.name}`:""]}),_.jsxs("div",{className:"text-sm text-neutral-600 dark:text-neutral-400",children:[": ",S]})]}),_.jsxs("div",{className:"text-xs text-neutral-500 dark:text-neutral-400",children:[" : ",s.toFixed(2),"  ",a," "]})]}),_.jsxs("div",{className:`grid gap-2 p-2 desk:p-0 ${me.length===0?"grid-cols-1":me.length===1?"grid-cols-[2fr_8fr]":me.length===2?"grid-cols-[3.5fr_6.5fr]":"grid-cols-[4fr_5fr]"}`,children:[me.length>0&&(be?_.jsxs("section",{className:"rounded-lg bg-white dark:bg-neutral-900 text-neutral-900 dark:text-white border border-neutral-200 dark:border-neutral-700 shadow",children:[_.jsx("div",{className:"px-3 py-1 text-md text-neutral-600 dark:text-neutral-300",children:_.jsx("b",{children:""})}),_.jsx("div",{className:"pb-2",children:_.jsx("div",{className:`grid gap-2 p-3 ${me.length===1?"grid-cols-1":me.length===2?"grid-cols-2":"grid-cols-3"}`,children:me.map(W=>{let de=W.data.stem,te=W.data.branch;W.label.includes("")&&X&&(de=X.charAt(0),te=X.charAt(1)),W.label.includes("")&&ie&&(de=ie.charAt(0),te=ie.charAt(1)),W.label.includes("")&&Z&&(de=Z.charAt(0),te=Z.charAt(1));const Y=F(te),se=Q(te);return _.jsxs("div",{className:"rounded-xl bg-white dark:bg-neutral-900 border border-neutral-200 dark:border-neutral-800 overflow-hidden",children:[_.jsx("div",{className:"px-2 py-1 text-center text-xs tracking-wider bg-neutral-50 dark:bg-neutral-800/60 text-neutral-600 dark:text-neutral-300",children:W.label}),_.jsxs("div",{className:"p-2 flex flex-col items-center gap-1",children:[r.showSipSin&&_.jsx("div",{className:"text-xs text-neutral-500 dark:text-neutral-400",children:ui(D,{stem:de})}),_.jsx(Rl,{value:de,kind:"stem",charType:r.charType,thinEum:r.thinEum}),_.jsx(Rl,{value:te,kind:"branch",charType:r.charType,thinEum:r.thinEum}),_.jsx(qh,{branch:te,dayStem:D,mode:J,mapping:r.hiddenStemMode}),(r.showSibiUnseong||r.showSibiSinsal||i)&&_.jsxs("div",{className:"text-[11px] text-neutral-500 dark:text-neutral-400 mt-1 text-center space-y-0.5",children:[r.showSibiUnseong&&_.jsx("div",{children:Y}),r.showSibiSinsal&&_.jsx("div",{children:se}),i&&_.jsx(t0,{stem:de,branch:te})]})]})]},W.key)})})})]}):_.jsxs("div",{className:"rounded-lg bg-white dark:bg-neutral-900 text-neutral-900 dark:text-white border border-neutral-200 dark:border-neutral-700 shadow",children:[_.jsx("div",{className:"px-3 py-1 text-[11px] text-neutral-600 dark:text-neutral-300",children:""}),_.jsx("div",{className:"pb-2",children:_.jsx("div",{className:`grid gap-1 p-0 ${me.length===1?"grid-cols-1":me.length===2?"grid-cols-2":"grid-cols-3"}`,children:me.map(W=>{let de=W.data.stem,te=W.data.branch;W.label.includes("")&&X&&(de=X.charAt(0),te=X.charAt(1)),W.label.includes("")&&ie&&(de=ie.charAt(0),te=ie.charAt(1)),W.label.includes("")&&Z&&(de=Z.charAt(0),te=Z.charAt(1));const Y=F(te),se=Q(te);return _.jsxs("div",{className:"rounded-xl bg-white dark:bg-neutral-900 border border-neutral-200 dark:border-neutral-800 overflow-hidden",children:[_.jsx("div",{className:"py-1 text-center text-xs tracking-wider bg-neutral-50 dark:bg-neutral-800/60 text-neutral-600 dark:text-neutral-300",children:W.label}),_.jsxs("div",{className:"py-2 flex flex-col items-center gap-1",children:[r.showSipSin&&_.jsx("div",{className:"text-xs text-neutral-500 dark:text-neutral-400",children:ui(D,{stem:de})}),_.jsx(Rl,{value:de,kind:"stem",charType:r.charType,thinEum:r.thinEum}),_.jsx(Rl,{value:te,kind:"branch",charType:r.charType,thinEum:r.thinEum}),_.jsx(qh,{branch:te,dayStem:D,mode:J,mapping:r.hiddenStemMode}),(r.showSibiUnseong||r.showSibiSinsal||i)&&_.jsxs("div",{className:"text-[11px] text-neutral-500 dark:text-neutral-400 mt-1 text-center space-y-0.5",children:[r.showSibiUnseong&&_.jsx("div",{children:Y}),r.showSibiSinsal&&_.jsx("div",{children:se}),i&&_.jsx(t0,{stem:de,branch:te})]})]})]},W.key)})})})]})),be?_.jsxs("section",{className:"flex-2 rounded-lg bg-white dark:bg-neutral-900 text-neutral-900 dark:text-white border border-neutral-200 dark:border-neutral-700 shadow",children:[_.jsx("div",{className:"px-3 py-1 text-md text-neutral-600 dark:text-neutral-300",children:_.jsx("b",{children:""})}),_.jsx("div",{className:"pb-2",children:_.jsx("div",{className:"grid grid-cols-4 gap-2 p-3",children:[{key:"hour",label:"",data:B},{key:"day",label:"",data:x.day},{key:"month",label:"",data:x.month},{key:"year",label:"",data:x.year}].map(W=>_.jsxs("div",{className:"rounded-xl bg-white dark:bg-neutral-900 border border-neutral-200 dark:border-neutral-800 overflow-hidden",children:[_.jsx("div",{className:"px-2 py-1 text-center text-xs tracking-wider bg-neutral-50 dark:bg-neutral-800/60 text-neutral-600 dark:text-neutral-300",children:W.label}),_.jsx("div",{className:"p-2 flex flex-col items-center gap-1",children:W.data?_.jsxs(_.Fragment,{children:[r.showSipSin&&_.jsx("div",{className:"text-xs text-neutral-500 dark:text-neutral-400",children:ui(D,{stem:W.data.stem})}),_.jsx(Rl,{value:W.data.stem,kind:"stem",charType:r.charType,thinEum:r.thinEum}),_.jsx(Rl,{value:W.data.branch,kind:"branch",charType:r.charType,thinEum:r.thinEum}),_.jsx(qh,{branch:W.data.branch,dayStem:D,mode:J,mapping:r.hiddenStemMode}),(r.showSibiUnseong||r.showSibiSinsal||i)&&_.jsxs("div",{className:"text-[11px] text-neutral-500 dark:text-neutral-400 mt-1 text-center space-y-0.5",children:[r.showSibiUnseong&&_.jsx("div",{children:ln(D,W.data.branch)}),r.showSibiSinsal&&_.jsx("div",{children:cn({baseBranch:r.sinsalBase===""?x.day.branch:x.year.branch,targetBranch:W.data.branch,era:bw(r.sinsalMode),gaehwa:r.sinsalBloom})}),i&&_.jsx(t0,{stem:W.data.stem,branch:W.data.branch})]})]}):_.jsx("span",{className:"text-[10px] desk:text-xs text-neutral-500 dark:text-neutral-400",children:" "})})]},W.key))})})]}):_.jsxs("div",{className:"flex-2 rounded-lg bg-white dark:bg-neutral-900 text-neutral-900 dark:text-white border border-neutral-200 dark:border-neutral-700 shadow",children:[_.jsx("div",{className:"px-3 py-1 text-[11px] text-neutral-600 dark:text-neutral-300",children:""}),_.jsx("div",{className:"px-1 pb-2",children:_.jsx("div",{className:"grid grid-cols-4 gap-1",children:[{key:"hour",label:"",data:B},{key:"day",label:"",data:x.day},{key:"month",label:"",data:x.month},{key:"year",label:"",data:x.year}].map(W=>_.jsxs("div",{className:"rounded-xl bg-white dark:bg-neutral-900 border border-neutral-200 dark:border-neutral-800 overflow-hidden",children:[_.jsx("div",{className:"py-1 text-center text-xs tracking-wider bg-neutral-50 dark:bg-neutral-800/60 text-neutral-600 dark:text-neutral-300",children:W.label}),_.jsx("div",{className:"py-2 flex flex-col items-center gap-1",children:W.data?_.jsxs(_.Fragment,{children:[r.showSipSin&&_.jsx("div",{className:"text-xs text-neutral-500 dark:text-neutral-400",children:ui(D,{stem:W.data.stem})}),_.jsx(Rl,{value:W.data.stem,kind:"stem",charType:r.charType,thinEum:r.thinEum}),_.jsx(Rl,{value:W.data.branch,kind:"branch",charType:r.charType,thinEum:r.thinEum}),_.jsx(qh,{branch:W.data.branch,dayStem:D,mode:J,mapping:r.hiddenStemMode}),(r.showSibiUnseong||r.showSibiSinsal||i)&&_.jsxs("div",{className:"text-[11px] text-neutral-500 dark:text-neutral-400 mt-1 text-center space-y-0.5",children:[r.showSibiUnseong&&_.jsx("div",{children:ln(D,W.data.branch)}),r.showSibiSinsal&&_.jsx("div",{children:cn({baseBranch:r.sinsalBase===""?x.day.branch:x.year.branch,targetBranch:W.data.branch,era:bw(r.sinsalMode),gaehwa:r.sinsalBloom})}),i&&_.jsx(t0,{stem:W.data.stem,branch:W.data.branch})]})]}):_.jsx("span",{className:"text-xs text-neutral-500 dark:text-neutral-400 text-nowrap",children:" "})})]},W.key))})})]})]}),y&&_.jsxs("div",{className:"mt-4 p-3 border rounded bg-neutral-50 dark:bg-neutral-800",children:[_.jsxs("div",{className:"flex items-center justify-between mb-2",children:[_.jsx("span",{className:"font-semibold text-sm text-neutral-700 dark:text-neutral-300",children:" "}),_.jsx("button",{onClick:()=>R(W=>!W),className:"px-2 py-1 text-xs rounded border bg-white dark:bg-neutral-900 border-neutral-300 dark:border-neutral-600 cursor-pointer",children:N?" : ":" : "})]}),_.jsx("div",{className:"grid grid-cols-4 gap-2",children:$.map(W=>{const de=W.charAt(0),te=W.charAt(1),Y=O?.stem===de&&O?.branch===te;return _.jsx("button",{onClick:()=>z(de,te),className:`p-2 text-xs rounded border cursor-pointer ${Y?JQ(te):"bg-white dark:bg-neutral-900 text-neutral-700 dark:text-neutral-200 border-neutral-300 dark:border-neutral-600"}`,title:`${W} ( )`,children:W},W)})})]})]})}function eee(e,t,n){if(n)return"";const r=(e??"").trim();if(r)return r;const i=t instanceof Date?t:new Date(t);return Number.isNaN(i.getTime())?"":aE(i)}function t0({stem:e,branch:t}){const n=dA[e]??e,r=fA[t]??t,i=`${n}${r}`,a=KQ[i];if(!a)return null;const s=WQ(a.elem);return _.jsx("span",{className:`inline-block px-1.5 py-[2px] rounded ${s} border border-white/10 text-nowrap`,title:`${a.label}  ${a.elem}`,children:a.label})}function tee(e){return Vy(e)&&("Classic"in e||"Modern"in e||"classic"in e||"modern"in e)}function bw(e){const t=Su;return tee(t)?e==="classic"?t.Classic:t.Modern:e}function Rl({value:e,kind:t,charType:n,thinEum:r}){const{settings:i}=Ar(),a=la(e,t,i),s=n===""?t==="stem"?dA[e]??e:fA[e]??e:t==="stem"?HQ[e]??e:FQ[e]??e,c=t==="stem"?GQ.has(e):qQ.has(e),d=r&&c?"font-thin":"font-bold";return _.jsx("div",{className:`w-11 h-11 sm:w-14 sm:h-14 md:w-14 md:h-14 rounded-md ${a}
                  flex items-center justify-center border border-neutral-200 dark:border-neutral-800`,children:_.jsx("span",{className:`text-[24px] md:text-2xl ${d}`,children:s})})}function nee(e,t){if(!e||!/^\d{8}$/.test(e))return"";const n=e.slice(0,4),r=e.slice(4,6),i=e.slice(6,8),a=`${n}-${r}-${i}`;return!t||t===""||!/^\d{4}$/.test(t)?a:`${a} ${t.slice(0,2)}:${t.slice(2,4)}`}function Kl(e){const t=Number(e.birthDay?.slice(0,4)),n=Number(e.birthDay?.slice(4,6))-1,r=Number(e.birthDay?.slice(6,8)),i=!e.birthTime||e.birthTime===""?0:Number(e.birthTime?.slice(0,2)),a=!e.birthTime||e.birthTime===""?0:Number(e.birthTime?.slice(2,4)),s=new Date(t,n,r,i,a,0,0);if(isNaN(s.getTime()))throw new Error(`Invalid date: ${e.birthDay} ${e.birthTime}`);const c=!e.birthPlace||typeof e.birthPlace=="object"&&e.birthPlace.name==="";return wu(s,e.birthPlace?.lon??127.5,c)}function Xy(e,t){const n=e.length;if(n===0||!t)return 0;const r=e[0].at.getTime(),i=e[n-1].at.getTime(),a=t.getTime();if(a<=r)return 0;if(a>=i)return n-1;for(let s=0;s<n-1;s+=1){const c=e[s].at.getTime(),d=e[s+1].at.getTime();if(a>=c&&a<d)return s}return 0}const s5={:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},l5={:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},ree=Object.fromEntries(Object.entries(s5).map(([e,t])=>[t,e])),iee=Object.fromEntries(Object.entries(l5).map(([e,t])=>[t,e]));function iM(e,t,n){return n===""?t==="stem"?s5[e]??e:l5[e]??e:t==="stem"?ree[e]??e:iee[e]??e}const aee=new Set(["","","","","","","","","",""]),oee=new Set(["","","","","","","","","","","",""]);function aM(e,t){return t==="stem"?aee.has(e):oee.has(e)}function see(e){return typeof e=="object"&&e!==null}function lee(e){return see(e)&&("Classic"in e||"Modern"in e||"classic"in e||"modern"in e)}function cee(e){const t=Su;return lee(t)?e==="classic"?t.Classic:t.Modern:e}const uee=!1,oM=e=>e<10?`0${e}`:`${e}`;function dee(e){const t=e,n=typeof t.birthDay=="string"?t.birthDay:"",r=typeof t.calendarType=="string"?t.calendarType:"solar";if(n.length<8)return e;const i=Number(n.slice(0,4)),a=Number(n.slice(4,6)),s=Number(n.slice(6,8)),c=["isLeap","isLeapMonth","leapMonth","leap","lunarLeap"];let d=!1;for(const f of c){const m=t[f];if(typeof m=="boolean"){d=m;break}if(typeof m=="number"){d=m===1;break}if(typeof m=="string"){d=m==="1"||m.toLowerCase()==="true";break}}if(r==="lunar")try{const f=ei(i,a,s,0,0),m=`${f.getFullYear()}${oM(f.getMonth()+1)}${oM(f.getDate())}`;return{...e,birthDay:m,calendarType:"solar"}}catch{return e}return e}function fee({data:e}){const t=Wm(e),n=A.useMemo(()=>{const N=dee(e);return Kl(N)},[e]),r=A.useMemo(()=>{const N=e.mingSikType??"/";return Tt(n,N).charAt(0)},[n,e.mingSikType]),{date:i,setFromEvent:a}=Ri(),s=A.useMemo(()=>Xy(t,i),[t,i]),c=Ar(N=>N.settings),{charType:d,thinEum:f,showSipSin:m,showSibiUnseong:p,showSibiSinsal:y,sinsalBase:b,sinsalMode:x,sinsalBloom:T}=c,S=!e.birthPlace||e.birthPlace.name===""||e.birthPlace.lon===0?127.5:e.birthPlace.lon,j=e.mingSikType??"/",D=b===""?Tt(n,j).charAt(1):vt(n,S).charAt(1),O=N=>p?ln(r,N):null,M=N=>y?cn({baseBranch:D,targetBranch:N,era:cee(x),gaehwa:!!T}):null;return _.jsxs("div",{className:"w-full max-w-[640px] mx-auto rounded-xl bg-white dark:bg-neutral-900 border border-neutral-200 dark:border-neutral-800 overflow-hidden",children:[_.jsx("div",{className:"px-3 py-2 text-sm font-semibold tracking-wider bg-neutral-50 dark:bg-neutral-800/60 text-neutral-700 dark:text-neutral-300",children:""}),_.jsx("div",{className:"flex gap-0.5 desk:gap-1 py-2 desk:p-2 flex-row-reverse",children:t.map((N,R)=>{const $=N.gz.charAt(0),B=N.gz.charAt(1),H=hee(n,N.at),V=R===s,z=iM($,"stem",d),F=iM(B,"branch",d),Q=aM($,"stem"),ee=aM(B,"branch"),be=f&&Q?"font-thin":"font-bold",J=f&&ee?"font-thin":"font-bold",le=O(B),ae=M(B);return _.jsxs("div",{onClick:()=>a(N,""),className:`flex-1 rounded-sm desk:rounded-lg bg-white dark:bg-neutral-900 overflow-hidden cursor-pointer ${V?"border border-yellow-500":"border border-neutral-200 dark:border-neutral-800 hover:border-yellow-500"}`,title:`${N.gz}  ${N.at.toLocaleDateString()}`,children:[_.jsx("div",{className:"desk:px-2 py-1 text-center text-[10px] bg-neutral-50 dark:bg-neutral-800/60 text-neutral-600 dark:text-neutral-300",children:H}),_.jsxs("div",{className:"p-2 flex flex-col items-center gap-0.5",children:[m&&_.jsx("div",{className:"text-[10px] text-neutral-500 dark:text-neutral-400 text-nowrap",children:ui(r,{stem:$})}),_.jsx("div",{className:`w-8 h-8 md:w-10 md:h-10 rounded-sm md:rounded-lg flex items-center justify-center border border-neutral-200 dark:border-neutral-800 ${la($,"stem",c)}`,children:_.jsx("span",{className:`text-[20px] md:text-xl ${be}`,children:z})}),_.jsx("div",{className:`w-8 h-8 md:w-10 md:h-10 rounded-sm md:rounded-lg flex items-center justify-center border border-neutral-200 dark:border-neutral-800 ${la(B,"branch",c)}`,children:_.jsx("span",{className:`text-[20px] md:text-xl ${J}`,children:F})}),m&&_.jsx("div",{className:"text-[10px] text-neutral-500 dark:text-neutral-400 text-nowrap",children:ui(r,{branch:B})}),(p||y)&&_.jsxs("div",{className:"text-[10px] text-neutral-500 dark:text-neutral-400 mt-1 text-center space-y-0.5 text-nowrap",children:[p&&_.jsx("div",{children:le}),y&&_.jsx("div",{children:ae})]})]})]},`${N.gz}-${R}`)})})]})}function hee(e,t){const r=(t.getTime()-e.getTime())/(365.2425*24*60*60*1e3);return Math.max(0,Math.round(r))}function Jy(e,t){const n=e,r=typeof n.isUnknownTime=="boolean"?n.isUnknownTime:!1,i=typeof n.birthTime=="string"&&/^(?:\d{4}|\d{2}:\d{2})$/.test(n.birthTime),a=typeof n.birthHour=="number",s=typeof n.birthMinute=="number";if(r||!(i||a||s)){const d=new Date(t);return d.setDate(d.getDate()+1),d.setHours(4,30,0,0),d}return t}const c5={:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},u5={:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},mee=Object.fromEntries(Object.entries(c5).map(([e,t])=>[t,e])),pee=Object.fromEntries(Object.entries(u5).map(([e,t])=>[t,e]));function sM(e,t,n){return n===""?t==="stem"?c5[e]??e:u5[e]??e:t==="stem"?mee[e]??e:pee[e]??e}const gee=new Set(["","","","","","","","","",""]),vee=new Set(["","","","","","","","","","","",""]);function lM(e,t){return t==="stem"?gee.has(e):vee.has(e)}function yee(e){return typeof e=="object"&&e!==null}function bee(e){return yee(e)&&("Classic"in e||"Modern"in e||"classic"in e||"modern"in e)}function _ee(e){const t=Su;return bee(t)?e==="classic"?t.Classic:t.Modern:e}function _w(e){return new Date(e,6,2,12,0,0,0)}function xee(e,t){return t-e+1}const wee=!1,cM=e=>e<10?`0${e}`:`${e}`;function See(e){const t=e,n=typeof t.birthDay=="string"?t.birthDay:"",r=typeof t.calendarType=="string"?t.calendarType:"solar";if(n.length<8)return e;const i=Number(n.slice(0,4)),a=Number(n.slice(4,6)),s=Number(n.slice(6,8)),c=["isLeap","isLeapMonth","leapMonth","leap","lunarLeap"];let d=!1;for(const f of c){const m=t[f];if(typeof m=="boolean"){d=m;break}if(typeof m=="number"){d=m===1;break}if(typeof m=="string"){d=m==="1"||m.toLowerCase()==="true";break}}if(r==="lunar")try{const f=ei(i,a,s,0,0),m=`${f.getFullYear()}${cM(f.getMonth()+1)}${cM(f.getDate())}`;return{...e,birthDay:m,calendarType:"solar"}}catch{return e}return e}function Eee({data:e,list:t,onSelect:n}){const r=Ar($=>$.settings),{date:i,setFromEvent:a}=Ri(),[s,c]=A.useState(()=>t);A.useEffect(()=>{t&&t.length>0&&c(t)},[t]);const d=Kl(e),f=A.useMemo(()=>Jy(e,d),[e,d]),m=A.useMemo(()=>f.getFullYear(),[f]),p=!e.birthPlace||e.birthPlace.name===""||e.birthPlace.lon===0?127.5:e.birthPlace.lon,y=A.useMemo(()=>{if(!i)return[];const $=i.getFullYear(),B=_w($),H=vt(B,p);return[{at:B,gz:H}]},[i,p]),b=t.length>0?t:s.length>0?s:y,x=A.useMemo(()=>[...b].sort(($,B)=>$.at.getTime()-B.at.getTime()),[b]),T=A.useMemo(()=>{if(x.length===0)return 0;const $=Xy(x,i);return $<0?0:$>=x.length?x.length-1:$},[x,i]),[S,j]=A.useState(null);A.useEffect(()=>{j(null)},[i,x]);const D=S??T,O=A.useMemo(()=>{const $=See(e);return Kl($)},[e]),M=e.mingSikType??"/",N=A.useMemo(()=>Tt(O,M).charAt(0),[O,M]),R=A.useMemo(()=>r.sinsalBase===""?Tt(f,M).charAt(1):vt(f,p).charAt(1),[f,M,p,r.sinsalBase]);return _.jsxs("div",{className:"w-full max-w-[640px] mx-auto rounded-xl bg-white dark:bg-neutral-900 border border-neutral-200 dark:border-neutral-800 overflow-hidden",children:[_.jsx("div",{className:"px-3 py-2 text-sm font-semibold tracking-wider bg-neutral-50 dark:bg-neutral-800/60 text-neutral-700 dark:text-neutral-300",children:""}),_.jsx("div",{className:"flex gap-0.5 desk:gap-1 py-2 desk:p-2 flex-row-reverse",children:x.map(($,B)=>{const H=$.at.getFullYear(),V=_w(H),z=vt(V,p),F=z.charAt(0),Q=z.charAt(1),ee=B===D,be=sM(F,"stem",r.charType),J=sM(Q,"branch",r.charType),le=lM(F,"stem"),ae=lM(Q,"branch"),me=r.thinEum&&le?"font-thin":"font-bold",ne=r.thinEum&&ae?"font-thin":"font-bold",q=r.showSibiUnseong?ln(N,Q):null,K=r.showSibiSinsal?cn({baseBranch:R,targetBranch:Q,era:_ee(r.sinsalMode),gaehwa:!!r.sinsalBloom}):null,X=xee(m,H);return _.jsxs("div",{onClick:()=>{if(B===0){j(B);return}j(B);const ie=_w(H),Z=vt(ie,p);a({at:ie,gz:Z},""),n&&(typeof queueMicrotask<"u"?queueMicrotask(()=>n(H)):Promise.resolve().then(()=>n(H)))},className:`flex-1 rounded-sm desk:rounded-lg bg-white dark:bg-neutral-900 overflow-hidden cursor-pointer ${ee?"border border-yellow-500":"border border-neutral-200 dark:border-neutral-800 hover:border-yellow-500"}`,title:`${z}  ${$.at.toLocaleDateString()}  ${X}`,children:[_.jsxs("div",{className:"desk:px-2 py-1 text-center text-[10px] bg-neutral-100 dark:bg-neutral-800/60 text-neutral-700 dark:text-neutral-200",children:[X,""]}),_.jsx("div",{className:"desk:px-2 py-1 text-center text-[10px] bg-neutral-50 dark:bg-neutral-800/60 text-neutral-600 dark:text-neutral-300",children:H}),_.jsxs("div",{className:"p-2 flex flex-col items-center gap-1",children:[r.showSipSin&&_.jsx("div",{className:"text-[10px] text-neutral-500 dark:text-neutral-400 text-nowrap",children:ui(N,{stem:F})}),_.jsx("div",{className:`w-8 h-8 md:w-10 md:h-10 rounded-sm md:rounded-lg flex items-center justify-center border ${la(F,"stem",r)}`,children:_.jsx("span",{className:`text-[20px] md:text-xl ${me}`,children:be})}),_.jsx("div",{className:`w-8 h-8 md:w-10 md:h-10 rounded-sm md:rounded-lg flex items-center justify-center border ${la(Q,"branch",r)}`,children:_.jsx("span",{className:`text-[20px] md:text-xl ${ne}`,children:J})}),r.showSipSin&&_.jsx("div",{className:"text-[10px] text-neutral-500 dark:text-neutral-400 text-nowrap",children:ui(N,{branch:Q})}),(r.showSibiUnseong||r.showSibiSinsal)&&_.jsxs("div",{className:"text-[10px] text-neutral-500 dark:text-neutral-400 text-center text-nowrap",children:[r.showSibiUnseong&&q&&_.jsx("div",{children:q}),r.showSibiSinsal&&K&&_.jsx("div",{children:K})]})]})]},`${H}-${$.gz||B}`)})})]})}const Aee=new Set(["","","","","","","","","","","",""]);function Tee(e){const t=new Date(e.getFullYear(),e.getMonth()+1),n=t.getFullYear(),i=[...yo(new Date(n-1,5,15,12,0))??[],...yo(new Date(n,5,15,12,0))??[],...yo(new Date(n+1,5,15,12,0))??[]].map(d=>({name:String(d.name),date:new Date(d.date)})).sort((d,f)=>d.date.getTime()-f.date.getTime()).filter(d=>Aee.has(d.name));let a=i.findIndex((d,f)=>i[f].date<=t&&t<i[f+1]?.date);a<0&&(a=0);const s=i[a],c=i[a+1];return{start:new Date(s.date.getFullYear(),s.date.getMonth(),s.date.getDate(),0,0,0,0),end:new Date(c.date.getFullYear(),c.date.getMonth(),c.date.getDate(),0,0,0,0),cur:s,next:c}}const d5={:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},f5={:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},kee=Object.fromEntries(Object.entries(d5).map(([e,t])=>[t,e])),Oee=Object.fromEntries(Object.entries(f5).map(([e,t])=>[t,e]));function uM(e,t,n){return n===""?t==="stem"?d5[e]??e:f5[e]??e:t==="stem"?kee[e]??e:Oee[e]??e}const jee=new Set(["","","","","","","","","",""]),Nee=new Set(["","","","","","","","","","","",""]);function dM(e,t){return t==="stem"?jee.has(e):Nee.has(e)}function Cee(e){return typeof e=="object"&&e!==null}function Mee(e){return Cee(e)&&("Classic"in e||"Modern"in e||"classic"in e||"modern"in e)}function Dee(e){const t=Su;return Mee(t)?e==="classic"?t.Classic:t.Modern:e}const Pee=new Set(["","","","","","","","","","","",""]);function Ree(e){return new Date(e.getFullYear(),e.getMonth(),e.getDate(),23,59,0,0)}function Lee(e){const t=new Intl.DateTimeFormat("ko-KR",{timeZone:"Asia/Seoul",month:"numeric"}).formatToParts(e);return Number(t.find(n=>n.type==="month")?.value??e.getMonth()+1)}function xw(e){return new Date(e,5,15,12,0,0,0)}function Iee(e){const n=[...yo(xw(e-1))??[],...yo(xw(e))??[],...yo(xw(e+1))??[]].map(c=>({name:String(c.name),date:new Date(c.date)})).sort((c,d)=>c.date.getTime()-d.date.getTime()).filter(c=>Pee.has(c.name)),r=new Date(e,0,1,0,0,0,0),i=new Date(e+1,0,1,0,0,0,0),a=n.findIndex(c=>c.name===""&&c.date>=r&&c.date<i);if(a===-1)return[];const s=[];for(let c=0;c<12;c++){const d=n[a+c];if(!d)break;const f=new Date(d.date),m=Ree(f);s.push({name:d.name,termAt:f,at00:m})}return s}const $ee=!1,fM=e=>e<10?`0${e}`:`${e}`;function Bee(e){const t=e,n=typeof t.birthDay=="string"?t.birthDay:"",r=typeof t.calendarType=="string"?t.calendarType:"solar";if(n.length<8)return e;const i=Number(n.slice(0,4)),a=Number(n.slice(4,6)),s=Number(n.slice(6,8)),c=["isLeap","isLeapMonth","leapMonth","leap","lunarLeap"];let d=!1;for(const f of c){const m=t[f];if(typeof m=="boolean"){d=m;break}if(typeof m=="number"){d=m===1;break}if(typeof m=="string"){d=m==="1"||m.toLowerCase()==="true";break}}if(r==="lunar")try{const f=ei(i,a,s,0,0),m=`${f.getFullYear()}${fM(f.getMonth()+1)}${fM(f.getDate())}`;return{...e,birthDay:m,calendarType:"solar"}}catch{return e}return e}function zee({data:e,activeYear:t,onSelect:n,onSelectMonth:r}){const i=Ar(S=>S.settings),a=!e.birthPlace||e.birthPlace.name===""||e.birthPlace.lon===0?127.5:e.birthPlace.lon,s=Kl(e),c=A.useMemo(()=>Jy(e,s),[e,s]),d=A.useMemo(()=>{const S=Bee(e);return Kl(S)},[e]),f=e.mingSikType??"/",m=A.useMemo(()=>Tt(d,f).charAt(0),[d,f]),p=i.sinsalBase===""?Tt(c,f).charAt(1):vt(c,a).charAt(1),y=A.useMemo(()=>t?Iee(t).map(j=>{const D=j.termAt,O=new Date(j.termAt.getTime()+1860*1e3),M=Dt(O,a);return{at:D,gz:M,term:j.name,termAt:j.termAt}}):[],[t,a]),{date:b,setFromEvent:x}=Ri(),T=Xy(y,b);return _.jsxs("div",{className:"w-full max-w-[640px] mx-auto rounded-xl bg-white dark:bg-neutral-900 border border-neutral-200 dark:border-neutral-800 overflow-hidden",children:[_.jsx("div",{className:"px-3 py-2 text-sm font-semibold tracking-wider bg-neutral-50 dark:bg-neutral-800/60 text-neutral-700 dark:text-neutral-300",children:""}),_.jsx("div",{className:"flex gap-0.5 desk:gap-1 py-2 desk:p-2 flex-row-reverse",children:y.map((S,j)=>{const D=S.gz.charAt(0),O=S.gz.charAt(1),M=`${Lee(S.at)}`,N=j===T,R=uM(D,"stem",i.charType),$=uM(O,"branch",i.charType),B=dM(D,"stem"),H=dM(O,"branch"),V=i.thinEum&&B?"font-thin":"font-bold",z=i.thinEum&&H?"font-thin":"font-bold",F=i.showSibiUnseong?ln(m,O):null,Q=i.showSibiSinsal?cn({baseBranch:p,targetBranch:O,era:Dee(i.sinsalMode),gaehwa:!!i.sinsalBloom}):null;return _.jsxs("div",{onClick:()=>{r(S.at);const ee=new Date(S.at),{start:be}=Tee(ee);n?.(be.getFullYear(),be.getMonth()),x({at:ee,gz:Dt(ee,a)},"")},className:`flex-1 rounded-sm desk:rounded-lg bg-white dark:bg-neutral-900 overflow-hidden cursor-pointer ${N?"border border-yellow-500":"border border-neutral-200 dark:border-neutral-800 hover:border-yellow-500"}`,title:`${S.term}   ${S.gz}  ${S.termAt.toLocaleString()}`,children:[_.jsx("div",{className:"desk:px-2 py-1 text-center text-[10px] bg-neutral-50 dark:bg-neutral-800/60 text-neutral-600 dark:text-neutral-300",children:M}),_.jsxs("div",{className:"p-2 flex flex-col items-center gap-1",children:[i.showSipSin&&_.jsx("div",{className:"text-[10px] text-neutral-500 dark:text-neutral-400 text-nowrap",children:ui(m,{stem:D})}),_.jsx("div",{className:`w-7 h-7 sm:w-8 sm:h-8 md:w-10 md:h-10 rounded-sm md:rounded-lg flex items-center justify-center border border-neutral-200 dark:border-neutral-800 ${la(D,"stem",i)}`,children:_.jsx("span",{className:`text-base md:text-xl ${V}`,children:R})}),_.jsx("div",{className:`w-7 h-7 sm:w-8 sm:h-8 md:w-10 md:h-10 rounded-sm md:rounded-lg flex items-center justify-center border border-neutral-200 dark:border-neutral-800 ${la(O,"branch",i)}`,children:_.jsx("span",{className:`text-base md:text-xl ${z}`,children:$})}),i.showSipSin&&_.jsx("div",{className:"text-[10px] text-neutral-500 dark:text-neutral-400 text-nowrap",children:ui(m,{branch:O})}),(i.showSibiUnseong||i.showSibiSinsal)&&_.jsxs("div",{className:"text-[10px] text-neutral-500 dark:text-neutral-400 text-center text-nowrap",children:[i.showSibiUnseong&&F&&_.jsx("div",{children:F}),i.showSibiSinsal&&Q&&_.jsx("div",{children:Q})]}),_.jsx("div",{className:"text-[10px] text-neutral-400 dark:text-neutral-500 text-nowrap",children:S.term})]})]},`${S.term}-${S.at.toISOString()}`)})})]})}const h5={:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},m5={:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},Uee=Object.fromEntries(Object.entries(h5).map(([e,t])=>[t,e])),Hee=Object.fromEntries(Object.entries(m5).map(([e,t])=>[t,e]));function hM(e,t,n){return n===""?t==="stem"?h5[e]??e:m5[e]??e:t==="stem"?Uee[e]??e:Hee[e]??e}const Fee=new Set(["","","","","","","","","",""]),Gee=new Set(["","","","","","","","","","","",""]);function mM(e,t){return t==="stem"?Fee.has(e):Gee.has(e)}function qee(e){return typeof e=="object"&&e!==null}function Yee(e){return qee(e)&&("Classic"in e||"Modern"in e||"classic"in e||"modern"in e)}function Kee(e){const t=Su;return Yee(t)?e==="classic"?t.Classic:t.Modern:e}const Wee=!1,pM=e=>e<10?`0${e}`:`${e}`;function Vee(e){const t=e,n=typeof t.birthDay=="string"?t.birthDay:"",r=typeof t.calendarType=="string"?t.calendarType:"solar";if(n.length<8)return e;const i=Number(n.slice(0,4)),a=Number(n.slice(4,6)),s=Number(n.slice(6,8));if(r==="lunar")try{const c=ei(i,a,s,0,0),d=`${c.getFullYear()}${pM(c.getMonth()+1)}${pM(c.getDate())}`;return{...e,birthDay:d,calendarType:"solar"}}catch{return e}return e}function Zee(e,t){return new Date(e,t,15,12,0,0,0)}function ww(e){const t=new Date(e);return t.setHours(23,59,0,0),t}const Xee=new Set(["","","","","","","","","","","",""]);function p5(e){return[...yo(new Date(e-1,5,15,12,0))??[],...yo(new Date(e,5,15,12,0))??[],...yo(new Date(e+1,5,15,12,0))??[]].map(n=>({name:String(n.name),date:new Date(n.date)})).sort((n,r)=>n.date.getTime()-r.date.getTime())}function Jee(e){const t=p5(e.getFullYear()),n=t.filter(s=>Xee.has(s.name));if(n.length<12){const s=t.findIndex(f=>f.date>e),c=t[Math.max(0,s-1)],d=t[Math.min(t.length-1,s)];return{start:new Date(c.date),end:new Date(d.date),cur:c,next:d}}let r=n.findIndex(s=>s.date>e)-1;r<0&&(r=n.length-1);const i=n[r],a=n[(r+1)%n.length];return{start:new Date(i.date),end:new Date(a.date),cur:i,next:a}}function Qee({data:e,year:t,month:n,selectedMonth:r}){const i=Ar(H=>H.settings),a=i.ilunRule||"/",s=e?Kl(e):null,c=e&&s?Jy(e,s):null,d=A.useMemo(()=>{const H=Vee(e);return Kl(H)},[e]),f=A.useMemo(()=>d?Tt(d,a).charAt(0):void 0,[d,a]),m=e&&e.birthPlace&&e.birthPlace.name!==""&&e.birthPlace.lon!==0?e.birthPlace.lon:127.5,p=e&&c?i.sinsalBase===""?Tt(c,a).charAt(1):vt(c,m).charAt(1):null,{date:y,setFromEvent:b}=Ri(),x=A.useMemo(()=>Zee(t,n),[t,n]),T=A.useMemo(()=>y?ww(new Date(y)):null,[y]),S=A.useMemo(()=>r?ww(r):null,[r]),j=A.useMemo(()=>T??S??x,[T,S,x]),{start:D,end:O,cur:M,next:N}=A.useMemo(()=>Jee(j),[j]),R=A.useMemo(()=>{const H=[],V=new Date(D);for(;V<O;)H.push(new Date(V)),V.setDate(V.getDate()+1);return H},[D,O]),$=A.useMemo(()=>{const H=p5(j.getFullYear()),V=H.filter(F=>F.date>=D&&F.date<O),z=H.find(F=>F.date>=O);return z?[...V,z]:V},[j,D,O]),B=A.useMemo(()=>{const H=[];let V=[];const z=new Date(D).getDay();for(let F=0;F<z;F++)V.push(null);for(const F of R)V.length===7&&(H.push(V),V=[]),V.push(F);for(;V.length<7;)V.push(null);return H.push(V),H},[R,D]);return _.jsxs("div",{className:"w-full max-w-[800px] mx-auto mb-4 rounded-xl bg-white dark:bg-neutral-900 border border-neutral-200 dark:border-neutral-800 overflow-hidden",children:[_.jsx("div",{className:"flex justify-center items-center px-2 desk:px-4 py-2 bg-neutral-50 dark:bg-neutral-800/60",children:_.jsxs("div",{className:"text-center text-[11px] desk:text-sm font-semibold text-neutral-700 dark:text-neutral-200",children:[M?.name?_.jsxs(_.Fragment,{children:[M.name," ~ ",N?.name??""]}):`${t} ${n}`,$.length>0&&_.jsxs("div",{className:"mt-0.5 text-[10px] desk:text-xs font-normal text-neutral-500 dark:text-neutral-400",children:["[",$.map((H,V)=>_.jsxs("span",{children:[H.name," ",ete(H.date),V<$.length-1?"  ":""]},`${H.name}_${H.date.getTime()}_${V}`)),"]"]})]})}),_.jsx("div",{className:"grid grid-cols-7 text-center text-xs bg-neutral-100 dark:bg-neutral-800 text-neutral-600 dark:text-neutral-300",children:["","","","","","",""].map(H=>_.jsx("div",{className:"py-1",children:H},H))}),_.jsx("div",{className:"grid grid-cols-7 gap-px bg-neutral-200 dark:bg-neutral-800",children:B.map((H,V)=>H.map((z,F)=>{if(!z)return _.jsx("div",{className:"bg-white dark:bg-neutral-900"},`${V}-${F}`);const Q=ww(z),ee=new Date,be=Q.getFullYear()===ee.getFullYear()&&Q.getMonth()===ee.getMonth()&&Q.getDate()===ee.getDate(),le=!!T&&Q.getFullYear()===T.getFullYear()&&Q.getMonth()===T.getMonth()&&Q.getDate()===T.getDate()||!T&&be,ae=gG(Q,a),me=ae.charAt(0),ne=ae.charAt(1),q=hM(me,"stem",i.charType),K=hM(ne,"branch",i.charType),X=i.thinEum&&mM(me,"stem")?"font-thin":"font-bold",ie=i.thinEum&&mM(ne,"branch")?"font-thin":"font-bold",Z=!!f&&i.showSipSin,W=!!f&&i.showSibiUnseong,de=!!f&&p!=null&&i.showSibiSinsal,te=Z?ui(f,{stem:me}):"",Y=Z?ui(f,{branch:ne}):"",se=W?ln(f,ne):"",xe=de?cn({baseBranch:p,targetBranch:ne,era:Kee(i.sinsalMode),gaehwa:!!i.sinsalBloom}):"",ce=$.find(Ne=>Ne.date.getFullYear()===Q.getFullYear()&&Ne.date.getMonth()===Q.getMonth()&&Ne.date.getDate()===Q.getDate());return _.jsxs("div",{onClick:()=>b({at:Q},""),className:`space-y-1 bg-white dark:bg-neutral-900 flex flex-col items-center justify-start p-1 text-xs border cursor-pointer ${le?"border-yellow-500":"border-neutral-200 dark:border-neutral-800"}`,title:`${ae} (${Q.toLocaleDateString()})`,children:[_.jsxs("div",{className:"text-neutral-600 dark:text-neutral-400 flex items-center gap-1",children:[_.jsx("span",{children:Q.getDate()}),ce&&_.jsx("span",{className:"text-[10px] text-nowrap px-1 rounded bg-amber-100 text-amber-700 dark:bg-amber-900/40 dark:text-amber-200",children:ce.name})]}),Z&&_.jsx("div",{className:"text-[10px] text-neutral-500 dark:text-neutral-400",children:te}),_.jsx("div",{className:`w-8 h-8 rounded flex items-center justify-center text-base ${la(me,"stem",i)}`,children:_.jsx("span",{className:X,children:q})}),_.jsx("div",{className:`w-8 h-8 rounded flex items-center justify-center text-base ${la(ne,"branch",i)}`,children:_.jsx("span",{className:ie,children:K})}),Z&&_.jsx("div",{className:"text-[10px] text-neutral-500 dark:text-neutral-400",children:Y}),(W||de)&&_.jsxs("div",{className:"text-[10px] text-neutral-500 dark:text-neutral-400 text-center space-y-0.5",children:[W&&se&&_.jsx("div",{children:se}),de&&xe&&_.jsx("div",{children:xe})]})]},z.toISOString())}))})]})}function ete(e){if(!e)return null;const t=new Intl.DateTimeFormat("ko-KR",{timeZone:"Asia/Seoul",month:"numeric",day:"numeric",hour:"2-digit",minute:"2-digit",hour12:!1}).formatToParts(e);let n="",r="",i="",a="";for(const s of t)s.type==="month"&&(n=s.value),s.type==="day"&&(r=s.value),s.type==="hour"&&(i=s.value),s.type==="minute"&&(a=s.value);return`${n}/${r} ${i}:${a}`}function gM(e,t){const n=e.at.getFullYear(),r=t?t.at.getFullYear():n+10,i=[];for(let a=n;a<r;a++){const s=or(a,315);let c=a;new Date<s&&(c=a-1);const f=vt(new Date(c,1,10));i.push({at:s,gz:f})}return i}function tte({data:e}){const t=Wm(e),[n,r]=A.useState(null),[i,a]=A.useState(null),[s,c]=A.useState("il"),[d,f]=A.useState(null);A.useEffect(()=>{if(!t.length)return;const x=new Date,T=t.findIndex((S,j)=>{const D=t[j+1]?.at;return x>=S.at&&(!D||x<D)});T!==-1&&r(T)},[t]),A.useEffect(()=>{if(n===null)return;const x=t[n],T=t[n+1];if(!x)return;const S=gM(x,T),j=new Date;S.findIndex((O,M)=>{const N=S[M+1]?.at;return j>=O.at&&(!N||j<N)})!==-1&&a({year:j.getFullYear(),month:j.getMonth()})},[n,t]);const m=uA(e),{date:p}=Ri(),y=p.getMonth()+1===1?p.getFullYear()-1:p.getFullYear(),b=A.useMemo(()=>{if(!m?.dae?.gz)return[];const x=t.findIndex((j,D)=>{const O=t[D+1]?.at;return m.dae.at>=j.at&&(!O||m.dae.at<O)});if(x===-1)return[];const T=t[x],S=t[x+1];return gM(T,S)},[t,m?.dae]);return _.jsxs("div",{className:"w-full space-y-4",children:[_.jsx(fee,{data:e}),s==="se"||s==="wol"||s==="il"?_.jsx(Eee,{data:e,list:b,onSelect:()=>{c("wol")}}):null,s==="wol"||s==="il"?_.jsx(zee,{data:e,activeYear:y,onSelect:(x,T)=>{a({year:x,month:T}),c("il")},onSelectMonth:f}):null,s==="il"&&i&&_.jsx(Qee,{data:e,year:i.year,month:i.month+1,hourTable:e?.mingSikType,selectedMonth:d})]})}const nte=new Set(rG),rte=new Set(iG);function vM(e){return typeof e=="string"&&e.length>=2&&nte.has(e[0])&&rte.has(e[1])}function Vi(e,...t){if(vM(e))return e;for(const n of t)if(vM(n))return n;return""}const ite={:0,:2,:4,:6,:8,:10,:12,:14,:16,:18,:20,:22},g5={:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},ate={:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""};function yM(e){return!!e&&$a..includes(e)}function ote(e){return g5[e]??e}function bM(e){return ate[e]??e}function ste(e){if(yM(e))return e;const t=g5[e];return yM(t)?t:""}function lte(e){return typeof e=="object"&&e!==null&&("Classic"in e||"Modern"in e||"classic"in e||"modern"in e)}function cte(e){const t=Su;return lte(t)?e==="classic"?t.Classic??t.classic:t.Modern??t.modern:e}function n0(e,t){let n=null;const r=t.getTime();for(const i of e)if(i.at.getTime()<=r)n=i;else break;return n}function ute({data:e}){const t=Ar(V=>V.settings),{manualHour:n}=Fm(),{showSibiUnseong:r,showSibiSinsal:i,sinsalBase:a,sinsalMode:s,sinsalBloom:c}=t,{date:d}=Ri(),f=A.useMemo(()=>cA(e),[e]),m=A.useMemo(()=>Zy(f),[f]),p=A.useMemo(()=>sA(f,"/"),[f]),y=A.useMemo(()=>ste(p.day?.charAt(0)??""),[p.day]),b=!e.birthTime||e.birthTime==="",x=A.useMemo(()=>r5(m,p.hour,e.dir??"forward",120,"/"),[m,p.hour,e.dir]),T=A.useMemo(()=>a5(x,p.day,e.dir??"forward",""),[x,p.day,e.dir]),S=A.useMemo(()=>Km(m,p.month,e.dir??"forward",120,f.birthPlace?.lon??127.5),[m,p.month,e.dir,f.birthPlace?.lon]),j=A.useMemo(()=>o5(S,p.year,e.dir??"forward","",m),[S,p.year,e.dir,m]),D=A.useMemo(()=>{const V=x?.events?.[0];return V?{at:V.at,from:Vi(p.hour),to:Vi(V.gz)}:null},[x?.events,p.hour]),O=A.useMemo(()=>{const V=S?.events?.[0];return S?.firstChange?{at:S.firstChange,from:Vi(p.month),to:Vi(V?.gz??p.month)}:null},[S?.firstChange,S?.events,p.month]),M=A.useMemo(()=>{const V=b?n?n.stem+n.branch:"":Vi(n0(x.events,d)?.gz,p.hour);let z;if(b&&n){const F=d.getFullYear(),Q=d.getMonth(),ee=d.getDate(),be=ite[n.branch]??0,J=new Date(F,Q,ee,be,0),le=Tt(J,e.mingSikType??"/");z=Vi(le,p.day)}else z=Vi(n0(T.events,d)?.gz,p.day);return{si:V,il:z,wl:Vi(n0(S.events,d)?.gz,p.month),yn:Vi(n0(j.events,d)?.gz,p.year)}},[d,x.events,T.events,S.events,j.events,p,b,n,e.mingSikType]),N=A.useMemo(()=>({si:Vi(Ua(d,"/")),il:Vi(Tt(d,"/")),wl:Vi(Dt(d)),yn:Vi(vt(d))}),[d]),R=A.useMemo(()=>a===""?p.day.charAt(1):p.year.charAt(1),[a,p.day,p.year]),$=A.useMemo(()=>cte(s),[s]),B=V=>{if(!V)return{unseong:"",shinsal:""};const z=ote(y),F=bM(V.charAt(1)),Q=bM(R);return{unseong:r&&ln(z,F)||"",shinsal:i&&cn({baseBranch:Q,targetBranch:F,era:$,gaehwa:!!c})||""}},H=(V,z,F="myoun")=>{const Q=z,{unseong:ee,shinsal:be}=z?B(z):{unseong:"",shinsal:""},J=F==="myoun"&&b&&(V===""||V==="");return _.jsx(Nd,{label:V,gz:Q,dayStem:y,settings:t,unseongText:z?ee:"",shinsalText:z?be:"",hideBranchSipSin:!0,size:"sm",isUnknownTime:J},`${F}-${V}`)};return _.jsxs("div",{className:"w-full max-w-[640px] mx-auto mb-4 px-2 py-4 desk:p-4 bg-white dark:bg-neutral-950 text-neutral-900 dark:text-neutral-100 rounded-xl shadow border border-neutral-200 dark:border-neutral-800",children:[_.jsx("header",{className:"flex flex-wrap items-center gap-3 justify-between mb-4",children:_.jsxs("div",{className:"font-semibold text-xs desk:text-sm",children:[" +   "," ",_.jsxs("span",{className:"text-neutral-500 dark:text-neutral-400",children:["(: ",tm(m),")"]})]})}),_.jsxs("div",{className:"grid grid-cols-2 gap-2 desk:gap-4 mb-6",children:[_.jsxs("div",{children:[_.jsx("label",{className:"block text-xs mb-2 text-neutral-600 dark:text-neutral-300",children:""}),_.jsxs("div",{className:"grid grid-cols-4 gap-1 desk:gap-2",children:[H("",M.si,"myoun"),H("",M.il,"myoun"),H("",M.wl,"myoun"),H("",M.yn,"myoun")]})]}),_.jsxs("div",{children:[_.jsx("label",{className:"block text-xs mb-2 text-neutral-600 dark:text-neutral-300",children:" "}),_.jsxs("div",{className:"grid grid-cols-4 gap-1 desk:gap-2",children:[H("",N.si,"live"),H("",N.il,"live"),H("",N.wl,"live"),H("",N.yn,"live")]})]})]}),_.jsxs("div",{className:"mt-4 text-xs text-neutral-700 dark:text-neutral-300 space-y-1",children:[_.jsx("div",{className:"font-semibold",children:"  "}),_.jsxs("div",{children:[":"," ",D?`${tm(D.at)} (${D.from}  ${D.to})`:" "]}),_.jsxs("div",{children:[":"," ",O?`${tm(O.at)} (${O.from}  ${O.to})`:" "]})]})]})}const _M=["","","","","","","","","",""],dte={:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},fte={:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},hte={:"",:"",:"",:"",:""},mte={:"",:"",:"",:"",:""},pte={:"",:"",:"",:"",:""},gte={:"",:"",:"",:"",:""};function vte(e,t){switch(e){case"":return t;case"":return hte[t];case"":return pte[t];case"":return gte[t];case"":return mte[t];default:return t}}function yte({data:e,perStemElementScaled:t,elementPercent:n,dayStem:r,width:i=280,height:a=280,revKey:s}){const c=i,d=a,f=c/2,m=d/2,p=Math.min(c,d)*.37,y=A.useMemo(()=>{const O=(r??"").charAt(0);return fte[O]??null},[r]),b=O=>Math.PI/2+2*-Math.PI*O/5,x=A.useMemo(()=>e.map((O,M)=>({...O,x:f+p*Math.cos(b(M)),y:m-p*Math.sin(b(M))})),[e,f,m,p]),[T,S]=A.useState(0),j=A.useRef(""),D=A.useMemo(()=>{const O=e.map(R=>`${R.name}:${R.value}`).join(","),M=_M.map(R=>`${R}:${t?.[R]??0}`).join(","),N=n?`:${n.??0},:${n.??0},:${n.??0},:${n.??0},:${n.??0}`:"el:none";return[s??"",O,M,N,r??""].join("||")},[s,e,t,r,n]);return A.useEffect(()=>{D!==j.current&&(j.current=D,S(O=>O+1))},[D]),_.jsx("div",{className:"w-full",children:_.jsxs("svg",{width:c,height:d,className:"mx-auto pt-2",children:[x.map((O,M)=>{const N=x[(M+2)%5];return _.jsx("line",{x1:O.x,y1:O.y,x2:N.x,y2:N.y,stroke:"#94a3b8",strokeWidth:1},`line-${M}`)}),x.map((O,M)=>{const N=x[(M+1)%5],R=(O.x+N.x)/2,$=(O.y+N.y)/2,B=R-f,H=$-m,V=1.5,z=f+B*V,F=m+H*V;return _.jsx("path",{d:`M${O.x},${O.y} Q${z},${F} ${N.x},${N.y}`,stroke:"#ef4444",strokeWidth:1.5,fill:"none",markerEnd:"url(#arrow)"},`curve-${M}`)}),_.jsx("defs",{children:_.jsx("marker",{id:"arrow",markerWidth:"6",markerHeight:"6",refX:"5",refY:"3",orient:"auto",children:_.jsx("path",{d:"M0,0 L6,3 L0,6 Z",fill:"#ef4444"})})}),x.map(O=>{const M=O.name,N=y?vte(M,y):null,R=N?_M.filter($=>dte[$]===N).map($=>[$,t?.[$]??0]):[];return _.jsxs("g",{transform:`translate(${O.x},${O.y})`,children:[_.jsx("circle",{r:33,fill:O.color??"#334155",opacity:O.value===0?.7:1}),_.jsxs("text",{textAnchor:"middle",dy:"-6",fontSize:14,className:"fill-white font-semibold",children:[O.name," ",O.value]}),R.map(([$,B],H)=>_.jsxs("text",{textAnchor:"middle",dy:8+H*11,fontSize:10,className:"fill-white",children:[$," ",Math.round(B)]},$))]},`${O.name}-${O.value}`)})]},T)})}const bte=[{name:"",min:0,max:10},{name:"",min:10,max:20},{name:"",min:20,max:35},{name:"",min:35,max:45},{name:"",min:45,max:55},{name:"",min:55,max:65},{name:"",min:65,max:80},{name:"",min:80,max:100.0001}];function hA(e){return Math.max(0,Math.min(100,e))}function v5(e){const t=hA(e);return bte.find(r=>t>=r.min&&t<r.max)?.name??""}const _te=[10,20,35,45,55,65,80];function xte({value:e}){const t=A.useMemo(()=>hA(e),[e]),n=A.useMemo(()=>v5(t),[t]);return _.jsxs("div",{className:"w-full mx-auto p-2 desk:p-4 bg-neutral-100 dark:bg-neutral-800 rounded-xl",children:[_.jsxs("div",{className:"flex justify-between text-[11px] text-neutral-400 mb-1",children:[_.jsx("span",{children:""}),_.jsx("span",{children:""}),_.jsx("span",{children:""})]}),_.jsxs("div",{className:"relative h-4 rounded bg-gradient-to-r from-blue-500 via-yellow-400 to-red-500",children:[_te.map(r=>_.jsx("div",{className:"absolute top-0 h-4 w-[1px] bg-black/30",style:{left:`${r}%`},title:`${r}%`},r)),_.jsx("div",{className:"absolute top-0 h-4 w-[1px] bg-black/40",style:{left:"50%"},title:"50%"}),_.jsx("div",{className:"absolute -top-1 h-6 w-2 bg-white rounded shadow-sm",style:{left:`${t}%`,transform:"translateX(-50%)"},"aria-label":`  ${t}%`})]}),_.jsxs("div",{className:"mt-2 flex items-center gap-2",children:[_.jsx("span",{className:"inline-flex items-center px-2 py-0.5 rounded-full text-xs border border-neutral-600 text-neutral-700 dark:text-neutral-200",children:n}),_.jsxs("span",{className:"text-xs text-neutral-400",children:[t.toFixed(1),"%"]})]})]})}const xs=["","","",""],r0={year:0,month:1,day:2,hour:3},Sw="",wte={:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},y5={:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""};function Ke(e){if(!e)return"";const t=e.replace(/[()[\]{}]/g,"").replace(/\s+/g,"").replace(/[:\-_.]/g,""),n=t.match(/([]).*?([])/);if(n)return`${n[1]}${n[2]}`;const r=t.match(/([]).*?([])/);if(r){const i=wte[r[1]]??r[1],a=y5[r[2]]??r[2];return`${i}${a}`}return""}const Rv=e=>e&&e.length>=1?e[0]:"",ws=e=>e&&e.length>=2?e[1]:"",mA=[{pair:["",""],label:""},{pair:["",""],label:""},{pair:["",""],label:""},{pair:["",""],label:""},{pair:["",""],label:""}],pA=[{pair:["",""],label:""},{pair:["",""],label:""},{pair:["",""],label:""},{pair:["",""],label:""}],gA=[{pair:["",""],label:""},{pair:["",""],label:""},{pair:["",""],label:""},{pair:["",""],label:""},{pair:["",""],label:""},{pair:["",""],label:""}],vA=[{pair:["",""],label:""},{pair:["",""],label:""},{pair:["",""],label:""},{pair:["",""],label:""},{pair:["",""],label:""},{pair:["",""],label:""}],yA=[{pair:["",""],label:""},{pair:["",""],label:""},{pair:["",""],label:""},{pair:["",""],label:""},{pair:["",""],label:""},{pair:["",""],label:""}],bA=[{pair:["",""],label:""},{pair:["",""],label:""},{pair:["",""],label:""},{pair:["",""],label:""},{pair:["",""],label:""},{pair:["",""],label:""}],_A=[{pair:["",""],label:""},{pair:["",""],label:""},{pair:["",""],label:""},{pair:["",""],label:""},{pair:["",""],label:""},{pair:["",""],label:""}],xA=[{pair:["",""],label:""},{pair:["",""],label:""},{pair:["",""],label:""},{pair:["",""],label:""},{pair:["",""],label:""},{pair:["",""],label:""}],xM=[{name:"",members:["","",""]},{name:"",members:["","",""]}],wA=[{pair:["",""],label:""},{pair:["",""],label:""},{pair:["",""],label:""},{pair:["",""],label:""},{pair:["",""],label:""},{pair:["",""],label:""}],SA=[{pair:["",""],label:""}],Ste=new Set(["","","",""]),pm=new Set(["","","",""]),Qy=[{name:"",members:["","",""],out:"",wang:""},{name:"",members:["","",""],out:"",wang:""},{name:"",members:["","",""],out:"",wang:""},{name:"",members:["","",""],out:"",wang:""}],eb=[{name:"",members:["","",""],out:"",wang:""},{name:"",members:["","",""],out:"",wang:""},{name:"",members:["","",""],out:"",wang:""},{name:"",members:["","",""],out:"",wang:""}];function Hn(e,t,n){for(const{pair:[r,i],label:a}of e)if(t===r&&n===i||t===i&&n===r)return a;return null}function on(e,t){e.includes(t)||e.push(t)}const Uc=e=>[...e].sort((t,n)=>t-n).map(t=>xs[t]).join("X"),Ew=(e,t)=>e===0&&t===3||e===3&&t===0;function wM(e,t){const n=[];for(const r of e)for(const i of t){if(r===i)continue;const a=Math.min(r,i),s=Math.max(r,i);a===0&&s===3||n.push([a,s])}return n.sort((r,i)=>{const a=Math.abs(r[0]-r[1]),s=Math.abs(i[0]-i[1]);return a!==s?a-s:0})}function Ete(e){const t=[],n=[...e].sort((r,i)=>r-i);for(let r=0;r<n.length;r++)for(let i=r+1;i<n.length;i++){const a=n[r],s=n[i];a===0&&s===3||t.push([a,s])}return t}const b5=e=>{switch(e){case"":return"";case"":return"";case"":return"";case"":return""}};function Ate(e){if(!e)return!1;const t=e.normalize("NFC").trim();return/^#\s*$/u.test(t)}const Tte=["cheonganHap","cheonganChung","jijiSamhap","jijiBanhap","jijiBanghap","jijiYukhap","jijiChung","jijiHyeong","jijiPa","jijiHae","jijiWonjin","jijiGwimun","amhap","ganjiAmhap"];function _5(e){for(const t of Tte){const r=(e[t]??[]).map(i=>i&&i.normalize("NFKC")).filter(i=>!!i&&!Ate(i));e[t]=Array.from(new Set(r))}return e.jijiHyeong=x5(e.jijiHyeong),e}const SM=["","","",""];function x5(e){if(!e||e.length===0)return e;const t=Array.from(new Set(e.map(i=>i?.normalize("NFKC")??""))).filter(Boolean),n=t.some(i=>i.includes("")||i.includes("()")),r=t.some(i=>i.includes("")||i.includes("()"));return t.filter(i=>!(n&&(i.includes("")||i.includes("")||i.includes(""))||r&&(i.includes("")||i.includes("")||i.includes(""))))}function EA(e,t={}){const{emitGanjiAmhap:n=!0}=t,r=e.map(Ke),i=r.map(y=>Rv(y)),a=r.map(y=>ws(y)),c={title:r.map((y,b)=>`${y}${["","","",""][b]}`).join(" "),cheonganHap:[],cheonganChung:[],jijiSamhap:[],jijiBanhap:[],jijiBanghap:[],jijiYukhap:[],jijiChung:[],jijiHyeong:[],jijiPa:[],jijiHae:[],jijiWonjin:[],jijiGwimun:[],amhap:[],ganjiAmhap:[]},d=(y,b,x,T)=>{const S=i.flatMap((D,O)=>D===y?[O]:[]),j=i.flatMap((D,O)=>D===b?[O]:[]);for(const D of S)for(const O of j)D!==O&&Math.abs(D-O)===1&&on(T,`#${Uc([D,O])}_${x}`)};mA.forEach(({pair:[y,b],label:x})=>d(y,b,x,c.cheonganHap)),pA.forEach(({pair:[y,b],label:x})=>d(y,b,x,c.cheonganChung));const f=y=>{const b=new Set,x=[];for(const T of y)for(let S=0;S<a.length;S++)if(a[S]===T&&!b.has(S)){b.add(S),x.push(S);break}return x};Qy.forEach(({name:y,members:b,wang:x})=>{const T=b.filter(j=>a.includes(j)),S=new Set(T).size;if(S===3){const j=f(b);j.length===3&&on(c.jijiSamhap,`#${Uc(j)}_${y}`)}else if(S===2){if(!T.includes(x))return;const[j,D]=T,O=a.flatMap(($,B)=>$===j?[B]:[]),M=a.flatMap(($,B)=>$===D?[B]:[]),N=wM(O,M),R=N.length>1;for(const[$,B]of N){const H=Ew($,B),V=`#${Uc([$,B])}_${j}${D}${R?"":H?`_${Sw}`:""}`;on(c.jijiSamhap,V)}}}),eb.forEach(({name:y,members:b})=>{const x=b.filter(S=>a.includes(S));if(new Set(x).size===3){const S=f(b);S.length===3&&on(c.jijiBanghap,`#${Uc(S)}_${y}`)}});const m=(y,b,x,T)=>{const S=a.flatMap((M,N)=>M===y?[N]:[]),j=a.flatMap((M,N)=>M===b?[N]:[]),D=wM(S,j),O=D.length>1;for(const[M,N]of D){const R=Ew(M,N),$=`#${Uc([M,N])}_${x}${O?"":R?`_${Sw}`:""}`;on(T,$)}};if(gA.forEach(({pair:[y,b],label:x})=>m(y,b,x,c.jijiYukhap)),vA.forEach(({pair:[y,b],label:x})=>m(y,b,x,c.jijiChung)),yA.forEach(({pair:[y,b],label:x})=>m(y,b,x,c.jijiPa)),bA.forEach(({pair:[y,b],label:x})=>m(y,b,x,c.jijiHae)),_A.forEach(({pair:[y,b],label:x})=>m(y,b,x,c.jijiWonjin)),xA.forEach(({pair:[y,b],label:x})=>m(y,b,x,c.jijiGwimun)),[["","",""],["","",""]].forEach(y=>{const b=[],x=new Set;if(y.forEach(T=>{a.forEach((S,j)=>{S===T&&(b.push(j),x.add(T))})}),x.size===3){const T=Array.from(new Set(b)).sort((S,j)=>S-j);on(c.jijiHyeong,`#${Uc(T)}_${y.join("")}`)}}),wA.forEach(({pair:[y,b],label:x})=>m(y,b,x,c.jijiHyeong)),SA.forEach(({pair:[y,b],label:x})=>m(y,b,x,c.jijiHyeong)),["","","",""].forEach(y=>{const b=a.flatMap((S,j)=>S===y?[j]:[]),x=Ete(b),T=x.length>1;for(const[S,j]of x){const D=Ew(S,j),O=`#${Uc([S,j])}_${y}${y}${T?"":D?`_${Sw}`:""}`;on(c.jijiHyeong,O)}}),[{pair:["",""],label:""},{pair:["",""],label:""},{pair:["",""],label:""},{pair:["",""],label:""},{pair:["",""],label:""}].forEach(({pair:[y,b],label:x})=>m(y,b,x,c.amhap)),n)for(let y=0;y<4;y++){const b=r[y]??"";if(b.length<2)continue;const x=`${b[0]}${b[1]}`;pm.has(x)&&on(c.ganjiAmhap,`#${b5(xs[y])}_${x}`)}return c.jijiHyeong=x5(c.jijiHyeong),_5(c)}function Xr(e,t={}){const{emitNatalGanjiAmhap:n=!1}=t,r=[Ke(e.natal[0]??""),Ke(e.natal[1]??""),Ke(e.natal[2]??""),Ke(e.natal[3]??"")],a=[Ke(e.daewoon??""),Ke(e.sewoon??""),Ke(e.wolwoon??"")].some(m=>m.length>=2),s={cheonganHap:[],cheonganChung:[],jijiSamhap:[],jijiBanhap:[],jijiBanghap:[],jijiYukhap:[],jijiChung:[],jijiHyeong:[],jijiPa:[],jijiHae:[],jijiWonjin:[],jijiGwimun:[],amhap:[],ganjiAmhap:[]};if(n&&a)for(let m=0;m<4;m++){const p=r[m]??"";if(p.length<2)continue;const y=`${p[0]}${p[1]}`;pm.has(y)&&on(s.ganjiAmhap,`#${b5(xs[m])}_${y}`)}const c=[["",e.daewoon],["",e.sewoon],["",e.wolwoon],["",e.ilwoon]];let d=!1,f=!1;for(const[m,p]of c){if(!p)continue;const y=Ke(p);if(!y||y.length<2)continue;const b=Rv(y),x=ws(y);{const j=`${b}${x}`;pm.has(j)&&on(s.ganjiAmhap,`#${m}_${j}`)}for(let j=0;j<4;j++){const D=r[j]??"";if(D.length<2)continue;const O=xs[j],M=Rv(D),N=ws(D),R=Hn(mA,b,M);R&&on(s.cheonganHap,`#${m}X${O}_${R}`);const $=Hn(pA,b,M);$&&on(s.cheonganChung,`#${m}X${O}_${$}`);const B=Hn(gA,x,N);B&&on(s.jijiYukhap,`#${m}X${O}_${B}`);const H=Hn(vA,x,N);H&&on(s.jijiChung,`#${m}X${O}_${H}`);const V=Hn(yA,x,N);V&&on(s.jijiPa,`#${m}X${O}_${V}`);const z=Hn(bA,x,N);z&&on(s.jijiHae,`#${m}X${O}_${z}`);const F=Hn(_A,x,N);F&&on(s.jijiWonjin,`#${m}X${O}_${F}`);const Q=Hn(xA,x,N);Q&&on(s.jijiGwimun,`#${m}X${O}_${Q}`);const ee=Hn(wA,x,N);if(ee)on(s.jijiHyeong,`#${m}X${O}_${ee}`);else{const le=Hn(SA,x,N);le?on(s.jijiHyeong,`#${m}X${O}_${le}`):x===N&&Ste.has(x)&&on(s.jijiHyeong,`#${m}X${O}_${x}${N}`)}const J=Hn([{pair:["",""],label:""},{pair:["",""],label:""},{pair:["",""],label:""},{pair:["",""],label:""},{pair:["",""],label:""}],x,N);J&&on(s.amhap,`#${m}X${O}_${J}`)}const T=r.map(j=>{const D=ws(j??"");return y5[D]??D});for(const j of Qy){if(!j.members.includes(x))continue;const D=j.members.filter(M=>M!==x),O=T.map((M,N)=>({b:M,pos:xs[N]})).filter(M=>D.includes(M.b));if(new Set(O.map(M=>M.b)).size===2){const[M,N]=O.map(R=>R.pos).sort((R,$)=>["","","",""].indexOf(R)-["","","",""].indexOf($));on(s.jijiSamhap,`#${m}X${M}X${N}_(${j.name})`)}}const S=[...r.map((j,D)=>({b:ws(j),pos:xs[D]}))];for(const j of eb){const D=S.filter(O=>j.members.includes(O.b));if(new Set(D.map(O=>O.b)).size===3){const O=D.map(M=>M.pos).join("X");on(s.jijiBanghap,`#${O}_(${j.name})`)}}for(const j of xM){if(!j.members.includes(x))continue;const D=j.members.filter(M=>M!==x),O=T.map((M,N)=>({b:M,pos:xs[N]})).filter(M=>D.includes(M.b));if(new Set(O.map(M=>M.b)).size===2){const[M,N]=O.map(R=>R.pos).sort((R,$)=>["","","",""].indexOf(R)-["","","",""].indexOf($));on(s.jijiHyeong,`#${m}X${M}X${N}_${j.name}`),j.name===""&&(d=!0),j.name===""&&(f=!0)}}}{const m=[],p=[["",e.daewoon],["",e.sewoon],["",e.wolwoon],["",e.ilwoon]];for(const[y,b]of p){const x=Ke(b??"");x.length>=2&&m.push({kind:y,b:ws(x)})}if(m.length>=2){const y=r.map((b,x)=>({pos:xs[x],b:ws(b)}));for(const b of xM)for(let x=0;x<m.length;x++)for(let T=x+1;T<m.length;T++){const S=m[x],j=m[T];for(const D of y){const O=new Set([D.b,S.b,j.b]);if(O.size===3&&b.members.every(M=>O.has(M))){const M=[S.kind,j.kind].sort((R,$)=>SM.indexOf(R)-SM.indexOf($)).join("X"),N=`${D.pos}X${M}`;on(s.jijiHyeong,`#${N}_${b.name}`),b.name===""&&(d=!0),b.name===""&&(f=!0)}}}}}return(d||f)&&(s.jijiHyeong=s.jijiHyeong.filter(m=>!(d&&/(||)/.test(m)||f&&/(||)/.test(m)))),_5(s)}function kte(e,t){const r=e.map(Ke).map(d=>ws(d)),i=r0.month,a=r[i],s=d=>{const f=[];for(let m=0;m<4;m++){const p=r[m];p&&d.has(p)&&f.push(m)}return f},c=d=>{const f=[...d].sort((m,p)=>m-p);return f.length===3&&f[0]+1===f[1]&&f[1]+1===f[2]};for(const d of Qy){const f=new Set(d.members),m=s(f);if(m.length===3){const p=m.includes(i),y=a===d.wang;p?c(m)?t[d.out]+=y?10:8:t[d.out]+=5:t[d.out]+=3}if(m.length===2&&m.includes(i)){const p=m[0]===i?m[1]:m[0],y=a===d.wang;p===r0.day&&y?t[d.out]+=8:p===r0.year&&y?t[d.out]+=6:p===r0.hour&&(t[d.out]+=y?4:2)}}for(const d of eb){const f=new Set(d.members),m=s(f);if(m.length===3){const p=m.includes(i),y=a===d.wang;p?c(m)?t[d.out]+=y?8:6:t[d.out]+=4:t[d.out]+=2}}}function EM(e){const t=["","","",""],n=e.map(Ke),r=n.map(c=>Rv(c)),i=n.map(c=>ws(c)),a=new Map,s=new Map;for(let c=0;c<4;c++){const d=r[c],f=i[c];d.includes(d)&&a.set(d,[...a.get(d)??[],c]),f.includes(f)&&s.set(f,[...s.get(f)??[],c])}return{stemsByPos:r,brsByPos:i,stemPos:a,brPos:s,names:t}}function Jt(e){return xs[e]}function Zr(e,t){t&&(e.includes(t)||e.push(t))}function Ote(e,t){const n=EM(e),r=EM(t),i={:[],:[],:[],:[],:[],:[],:[],:[],:[],:[],:[],:[],:[],:[]};for(let c=0;c<4;c++){const d=n.stemsByPos[c],f=n.brsByPos[c];for(let m=0;m<4;m++){const p=r.stemsByPos[m],y=r.brsByPos[m],b=Hn(mA,d,p);b&&Zr(i.,`${Jt(c)}X${Jt(m)} ${b}`);const x=Hn(pA,d,p);x&&Zr(i.,`${Jt(c)}X${Jt(m)} ${x}`);const T=Hn(gA,f,y);T&&Zr(i.,`${Jt(c)}X${Jt(m)} ${T}`);const S=Hn(vA,f,y);S&&Zr(i.,`${Jt(c)}X${Jt(m)} ${S}`);const j=Hn(yA,f,y);j&&Zr(i.,`${Jt(c)}X${Jt(m)} ${j}`);const D=Hn(bA,f,y);D&&Zr(i.,`${Jt(c)}X${Jt(m)} ${D}`);const O=Hn(_A,f,y);O&&Zr(i.,`${Jt(c)}X${Jt(m)} ${O}`);const M=Hn(xA,f,y);M&&Zr(i.,`${Jt(c)}X${Jt(m)} ${M}`);const R=Hn([{pair:["",""],label:""},{pair:["",""],label:""},{pair:["",""],label:""},{pair:["",""],label:""},{pair:["",""],label:""}],f,y);R&&Zr(i.,`${Jt(c)}X${Jt(m)} ${R}`);const $=`${d}${y}`,B=`${p}${f}`;pm.has($)&&Zr(i.,`${Jt(c)}X${Jt(m)} ${$}`),pm.has(B)&&Zr(i.,`${Jt(m)}X${Jt(c)} ${B}`);const H=Hn(wA,f,y);if(H)Zr(i.,`${Jt(c)}X${Jt(m)} ${H}`);else{const V=Hn(SA,f,y);V&&Zr(i.,`${Jt(c)}X${Jt(m)} ${V}`)}}}const a=new Set(n.brsByPos.filter(Boolean)),s=new Set(r.brsByPos.filter(Boolean));for(const c of Qy){if(c.members.every(m=>a.has(m)||s.has(m))){const m=c.members.filter(y=>a.has(y)).length,p=c.members.filter(y=>s.has(y)).length;m>=1&&p>=1&&Zr(i.,`${c.name}`)}const f=c.members.filter(m=>a.has(m)||s.has(m));if(f.length===2&&f.includes(c.wang)){const m=f.some(y=>a.has(y)),p=f.some(y=>s.has(y));if(m&&p){const[y,b]=f.sort(),x=n.brPos.get(y)?.[0]??n.brPos.get(b)?.[0],T=r.brPos.get(y)?.[0]??r.brPos.get(b)?.[0];x!=null&&T!=null&&Zr(i.,`${Jt(x)}X${Jt(T)} ${y}${b}`)}}}for(const c of eb)if(c.members.every(f=>a.has(f)||s.has(f))){const f=c.members.filter(p=>a.has(p)).length,m=c.members.filter(p=>s.has(p)).length;f>=1&&m>=1&&Zr(i.,`${c.name}`)}return Object.keys(i).forEach(c=>i[c].sort()),i}function Mh(e,t){if(e==="#")return"bg-neutral-100 text-neutral-500 border-neutral-200 dark:bg-neutral-900 dark:text-neutral-500 dark:border-neutral-700";switch(t){case"natal":return"bg-violet-100 text-violet-800 border-violet-200 dark:bg-violet-900/30 dark:text-violet-200 dark:border-violet-800";case"dae":return"bg-blue-100 text-blue-800 border-blue-200 dark:bg-blue-900/30 dark:text-blue-200 dark:border-blue-800";case"se":return"bg-green-100 text-green-800 border-green-200 dark:bg-green-900/30 dark:text-green-200 dark:border-green-800";case"wol":return"bg-orange-100 text-orange-800 border-orange-200 dark:bg-orange-900/30 dark:text-orange-200 dark:border-orange-800";case"il":return"bg-red-100 text-red-800 border-red-200 dark:bg-red-900/30 dark:text-red-200 dark:border-red-800";default:return""}}function ao({label:e,natal:t,dae:n,se:r,wol:i,il:a}){const s=n.length+r.length+i.length+a.length>0,c=t.length>0?t:["#"],d=s?c.filter(p=>p!=="#"):c,m=d.some(p=>p!=="#")||n.length>0||r.length>0||i.length>0||a.length>0?"shrink-0 w-20 text-xs font-semibold text-orange-700 dark:text-orange-300 mt-1":"shrink-0 w-20 text-xs font-semibold text-neutral-700 dark:text-neutral-400 mt-1";return _.jsxs("div",{className:"flex items-start gap-3 border border-gray-700 dark:border-gray-200 p-2 rounded-sm",children:[_.jsx("div",{className:m,children:e}),_.jsxs("div",{className:"flex flex-wrap gap-2",children:[d.map((p,y)=>_.jsx("span",{className:"text-xs px-2 py-1 rounded-full border whitespace-nowrap "+Mh(p,"natal"),children:p},`natal-${y}`)),n.map((p,y)=>_.jsx("span",{className:"text-xs px-2 py-1 rounded-full border whitespace-nowrap "+Mh(p,"dae"),children:p},`dae-${y}`)),r.map((p,y)=>_.jsx("span",{className:"text-xs px-2 py-1 rounded-full border whitespace-nowrap "+Mh(p,"se"),children:p},`se-${y}`)),i.map((p,y)=>_.jsx("span",{className:"text-xs px-2 py-1 rounded-full border whitespace-nowrap "+Mh(p,"wol"),children:p},`wol-${y}`)),a.map((p,y)=>_.jsx("span",{className:"text-xs px-2 py-1 rounded-full border whitespace-nowrap "+Mh(p,"il"),children:p},`il-${y}`))]})]})}function oE(e){return Array.isArray(e)?e:[]}function i0(e,t){const n=new Set(oE(e));return oE(t).filter(i=>!n.has(i))}function jte({pillars:e,daewoon:t,sewoon:n,wolwoon:r,ilwoon:i,tab:a=""}){const s=EA(e),c=Xr({natal:e}),d=t?Xr({natal:e,daewoon:t}):c,f=n?Xr({natal:e,daewoon:t,sewoon:n}):d,m=r?Xr({natal:e,daewoon:t,sewoon:n,wolwoon:r}):f,p=i?Xr({natal:e,daewoon:t,sewoon:n,wolwoon:r,ilwoon:i}):m,y=T=>({natal:oE(s[T]),dae:i0(c[T],d[T]),se:i0(d[T],f[T]),wol:i0(f[T],m[T]),il:i0(m[T],p[T])}),b={cheonganHap:y("cheonganHap"),cheonganChung:y("cheonganChung"),jijiSamhap:y("jijiSamhap"),jijiBanghap:y("jijiBanghap"),jijiYukhap:y("jijiYukhap"),amhap:y("amhap"),ganjiAmhap:y("ganjiAmhap"),jijiChung:y("jijiChung"),jijiHyeong:y("jijiHyeong"),jijiPa:y("jijiPa"),jijiHae:y("jijiHae")},x=T=>a===""?{natal:T.natal,dae:[],se:[],wol:[],il:[]}:a===""?{natal:T.natal,dae:T.dae,se:[],wol:[],il:[]}:a===""?{natal:T.natal,dae:T.dae,se:T.se,wol:[],il:[]}:a===""?{natal:T.natal,dae:T.dae,se:T.se,wol:T.wol,il:[]}:a===""?{natal:T.natal,dae:T.dae,se:T.se,wol:T.wol,il:T.il}:{natal:[],dae:[],se:[],wol:[],il:[]};return _.jsxs("div",{className:"rounded-xl p-4 bg-neutral-100 dark:bg-neutral-900 text-neutral-900 dark:text-neutral-100 space-y-2",children:[_.jsx("div",{className:"text-base font-bold mb-1",children:""}),_.jsx(ao,{label:"",...x(b.cheonganHap)}),_.jsx(ao,{label:"",...x(b.cheonganChung)}),_.jsx("div",{className:"border-t border-neutral-200 dark:border-neutral-800 my-2"}),_.jsx(ao,{label:"",...x(b.jijiSamhap)}),_.jsx(ao,{label:"",...x(b.jijiBanghap)}),_.jsx(ao,{label:"",...x(b.jijiYukhap)}),_.jsx(ao,{label:"",...x(b.amhap)}),_.jsx(ao,{label:"",...x(b.ganjiAmhap)}),_.jsx(ao,{label:"",...x(b.jijiChung)}),_.jsx(ao,{label:"",...x(b.jijiHyeong)}),_.jsx(ao,{label:"",...x(b.jijiPa)}),_.jsx(ao,{label:"",...x(b.jijiHae)})]})}const Nte={:{:"#13B713",:"#DC143C",:"#F0B100",:"#a0a0a0",:"#353535"},:{:"#DC143C",:"#F0B100",:"#a0a0a0",:"#353535",:"#13B713"},:{:"#F0B100",:"#a0a0a0",:"#353535",:"#13B713",:"#DC143C"},:{:"#a0a0a0",:"#353535",:"#13B713",:"#DC143C",:"#F0B100"},:{:"#353535",:"#13B713",:"#DC143C",:"#F0B100",:"#a0a0a0"}},Cte={:"",:"",:"",:"",:"",:"",:"",:"",:"",:""};function w5(e){const t=Cte[e]??"";return Nte[t]}const S5={:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},Mte={:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},Vm={:"",:"",:"",:"",:""},gm={:"",:"",:"",:"",:""},pf={:"",:"",:"",:"",:""},Dte=[{name:"",min:0,max:10},{name:"",min:10,max:20},{name:"",min:20,max:35},{name:"",min:35,max:45},{name:"",min:45,max:55},{name:"",min:55,max:65},{name:"",min:65,max:80},{name:"",min:80,max:100.0001}],Pte={:{temp:"cold",wet:"wet"},:{temp:"cold",wet:"wet"},:{temp:"cold",wet:"wet"},:{temp:"mild",wet:"normal"},:{temp:"mild",wet:"normal"},:{temp:"mild",wet:"wet"},:{temp:"hot",wet:"normal"},:{temp:"hot",wet:"dry"},:{temp:"hot",wet:"wet"},:{temp:"mild",wet:"dry"},:{temp:"mild",wet:"dry"},:{temp:"mild",wet:"dry"}};function AA(e){return Math.max(0,Math.min(100,e))}function Xd(e,t,n){return Math.max(t,Math.min(n,e))}function Rte(e){const t=AA(e);return Dte.find(n=>t>=n.min&&t<n.max)?.name??""}function Lte(e){const t=e?.[2]?.charAt(0)??"";return S5[t]??null}function Ite(e){return(e?.[1]?.charAt(1)??"")||null}function tb(e){const t=Object.entries(pf);for(const[n,r]of t)if(r===e)return n;return""}function $te(e){return e?{peer:e,resource:gm[e],leak:Vm[e],wealth:pf[e],officer:tb(e)}:null}function Bte(e){const t={:0,:0,:0,:0,:0};for(const n of e){if(!n)continue;const r=n.charAt(0),i=n.charAt(1),a=S5[r],s=Mte[i];a&&(t[a]+=10),s&&(t[s]+=6)}return t}function zte(e){const t=Object.values(e).reduce((r,i)=>r+i,0);if(t<=0)return{:20,:20,:20,:20,:20};const n={:0,:0,:0,:0,:0};return Object.keys(e).forEach(r=>{n[r]=e[r]/t*100}),n}function Ute(e){if(!e||e.length===0)return null;const t=e.reduce((r,i)=>r+(i?.value??0),0)||0;if(t<=0)return null;const n=r=>e.find(i=>i.name===r)?.value??0;return AA((n("")+n(""))/t*100)}function Hte(e,t){return!e||!t?null:t===e?"":Vm[e]===t?"":pf[e]===t?"":tb(e)===t?"":gm[e]===t?"":null}const Aw=24,Fte=[[60,0],[55,.01],[50,.03],[45,.06],[40,.1],[35,.18],[30,.32],[27,.48],[24,.62]];function Gte(e){for(const[t,n]of Fte)if(e>=t)return n;return 1}const Lv=20,AM=(e,t)=>Xd((Lv-(t[e]??0))/Lv,0,1),TM=(e,t)=>Xd(((t[e]??0)-Lv)/Lv,0,1);function qte(e,t,n,r){const i=Hte(e,n);if(!e||!i)return 0;const a=Xd((50-t)/50,0,1),s=Xd((t-50)/50,0,1),c=AM(n,r),d=TM(n,r),f=AM(e,r),m=TM(e,r),p=6.5;let y=0;if(a>0)switch(i){case"":y=+(.3+.4*f+.15*c)*a;break;case"":y=+(.18+.45*f)*a;break;case"":y=-(.08+.2*(1-c)+.1*m)*a;break;case"":y=-(.22+.25*(1-c)+.1*(1-f))*a;break;case"":y=-(.35+.25*(1-c)+.1*(1-f))*a;break}else if(s>0)switch(i){case"":y=-(.25+.25*(1-c)+.2*m)*s;break;case"":y=-(.28+.2*m)*s;break;case"":y=+(.18+.2*c+.15*m)*s;break;case"":y=+(.22+.25*c+.1*m)*s;break;case"":y=+(.2+.2*c)*s;break}else switch(i){case"":y=.08*(f+c);break;case"":y=.05*f-.03*m;break;case"":y=.02*c-.02*d;break;case"":y=.01*c-.06*d;break;case"":y=-.05*(1-c);break}return Math.round(p*y*10)/10}function Yte(e,t,n,r){const i=["","",""].includes(t),a=["","","",""].includes(t),s={:0,:0,:0,:0,:0};if(i){const c=Vm[e],d=pf[e],f=tb(e);s[c]+=28,s[d]+=22,s[f]+=20,r.get(c)?.push(":    ()"),r.get(d)?.push(":     "),r.get(f)?.push(":     ")}if(a){const c=gm[e],d=e;s[c]+=28,s[d]+=22,r.get(c)?.push(":     "),r.get(d)?.push(":     ")}return s}function kM(e,t){if(!e)return{:0,:0,:0,:0,:0};const n=Pte[e]??{temp:"mild",wet:"normal"},r={:0,:0,:0,:0,:0};return n.temp==="cold"?(r.+=16,r.+=6,t.get("")?.push(":   "),t.get("")?.push(":  ")):n.temp==="hot"&&(r.+=14,r.+=6,t.get("")?.push(":   "),t.get("")?.push(":  ")),n.wet==="wet"?(r.+=8,r.+=4,t.get("")?.push(":   "),t.get("")?.push(":  ")):n.wet==="dry"&&(r.+=8,r.+=4,t.get("")?.push(":   "),t.get("")?.push(":  ")),r}function OM(e,t){const n={:0,:0,:0,:0,:0},r=["","","","",""];for(const i of r){const a=pf[i],s=Math.max(0,(e[i]??0)-(e[a]??0));if(s<=0)continue;const c=Vm[i],d=Math.round(s*.35);d>0&&(n[c]+=d,t.get(c)?.push(`: ${i}${a} `))}return n}function jM(e,t){const n={:0,:0,:0,:0,:0},r=Object.entries(e),i=Math.min(...r.map(([,s])=>s)),a=r.filter(([,s])=>s<=Math.max(6,i));for(const[s]of a)n[s]+=12,t.get(s)?.push(":  ");return n}function NM(e,t){const n=Lte(e),r=Ite(e),i=Bte(e),a=zte(i);let s=Ute(t);if(s==null)if(!n)s=50;else{const z=n,F=gm[n],Q=Object.values(i).reduce((ee,be)=>ee+be,0)||1;s=AA(((i[z]??0)+(i[F]??0))/Q*100)}const c=Rte(s),d={:0,:0,:0,:0,:0},f=new Map(["","","","",""].map(z=>[z,[]]));if(n){const z=Yte(n,c,i,f);Object.keys(d).forEach(F=>{d[F]+=z[F]??0})}const m=kM(r,f);Object.keys(d).forEach(z=>{d[z]+=m[z]??0});const p=OM(i,f);Object.keys(d).forEach(z=>{d[z]+=p[z]??0});const y=jM(i,f);Object.keys(d).forEach(z=>{d[z]+=y[z]??0});const b=$te(n),x={:0,:0,:0,:0,:0};if(Array.isArray(t))for(const z of t)x[z.name]=z.value;if(s>=45&&s<=55&&b){const z=x.>=30||x.>=Math.max(x.,x.,x.,x.)+5;s<=50?(d[b.resource]+=14,f.get(b.resource)?.push(": -"),d[b.peer]+=10,f.get(b.peer)?.push(": -"),d[b.leak]+=6,f.get(b.leak)?.push(": -"),d[b.wealth]+=3,f.get(b.wealth)?.push(": -"),z&&b.officer&&(d[b.officer]=Math.round(d[b.officer]*.8*10)/10,f.get(b.officer)?.push(":   "))):(d[b.leak]+=14,f.get(b.leak)?.push(": -"),d[b.wealth]+=10,f.get(b.wealth)?.push(": -"),b.officer&&(d[b.officer]+=6,f.get(b.officer)?.push(": -")),d[b.resource]+=3,f.get(b.resource)?.push(": -"))}["","","","",""].forEach(z=>{const F=qte(n,s,z,a);d[z]=Xd(Math.round((d[z]+F)*10)/10,0,999)});const S=s<50;["","","","",""].forEach(z=>{const F=a[z]??0,Q=S&&n===z;if(F>=Aw&&!Q){const ee=Gte(F);d[z]=Math.round(d[z]*ee*10)/10;const be=Math.min(14,Math.max(0,Math.ceil((F-Aw)*.5)));be>0&&(d[z]=Xd(d[z]-be,0,999)),f.get(z)?.push(" ()")}});const j={:[],:[],:[],:[],:[]};if(n){const z=Vm[n],F=pf[n],Q=tb(n),ee=n,be=gm[n];j[z].push(""),j[F].push(""),j[Q].push(""),j[ee].push(""),j[be].push("")}const D={:(i.??0)>0,:(i.??0)>0,:(i.??0)>0,:(i.??0)>0,:(i.??0)>0},O=z=>{const F=a[z]??0;return F>=Aw&&!(S&&n===z)?F>=55?4:F>=45?3:2:D[z]?0:1},M=kM(r,new Map),N=OM(i,new Map),R=jM(i,new Map),$=Object.keys(d).map(z=>({element:z,score:Math.round(d[z]*10)/10,via:Kte(z,M,N,R),reasons:(f.get(z)??[]).slice(),tenGodHints:j[z]})).sort((z,F)=>{const Q=O(z.element),ee=O(F.element);return Q!==ee?Q-ee:F.score!==z.score?F.score-z.score:z.element.localeCompare(F.element)}),B=Wte(c,M,N,R),H={:0,:0,:0,:0,:0},V=t?t.reduce((z,F)=>(z[F.name]=F.value,z),{...H}):void 0;return{chosenType:B,ordered:$,debug:{band:c,overallPct:s,elementScore:i,tenGodTotals:V,monthBranch:r??void 0}}}function Kte(e,t,n,r){const i=[];return(t[e]??0)>0&&i.push(""),(n[e]??0)>0&&i.push(""),(r[e]??0)>0&&i.push(""),i.length===0&&i.push(""),i}function Wte(e,t,n,r){if(["","","",""].includes(e))return"";const a=f=>Object.values(f).reduce((m,p)=>m+p,0),s=a(t),c=a(n),d=a(r);return s>Math.max(c,d)?"":c>=d?"":""}const Vte=Object.fromEntries(ua..map((e,t)=>[e,hi[t]])),Zte=Object.fromEntries(hi.map((e,t)=>[e,ua.[t]])),Xte=Object.fromEntries(ua..map((e,t)=>[e,Pi[t]])),Jte=Object.fromEntries(Pi.map((e,t)=>[e,ua.[t]])),Qte=e=>Vte[e]??e,ene=e=>Xte[e]??e,tne=e=>Zte[e]??e,nne=e=>Jte[e]??e;function rne(e){const t={...e};for(const n of Object.keys(e)){const r=/[]/.test(n)?Qte(n):tne(n);r&&t[r]===void 0&&(t[r]=e[n])}return t}function TA(e){const t={...e};for(const n of Object.keys(e)){const r=/[]/.test(n)?ene(n):nne(n);r&&t[r]===void 0&&(t[r]=e[n])}return t}const ine={:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},ane={:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},E5={:[{stem:"",ratio:1,main:!0}],:[{stem:"",ratio:1,main:!0}],:[{stem:"",ratio:.2},{stem:"",ratio:.3},{stem:"",ratio:.5,main:!0}],:[{stem:"",ratio:.2},{stem:"",ratio:.3},{stem:"",ratio:.5,main:!0}],:[{stem:"",ratio:.3},{stem:"",ratio:.7,main:!0}],:[{stem:"",ratio:.3},{stem:"",ratio:.7,main:!0}],:[{stem:"",ratio:1,main:!0}],:[{stem:"",ratio:1,main:!0}],:[{stem:"",ratio:.2},{stem:"",ratio:.3},{stem:"",ratio:.5,main:!0}],:[{stem:"",ratio:.2},{stem:"",ratio:.3},{stem:"",ratio:.5,main:!0}],:[{stem:"",ratio:.3},{stem:"",ratio:.7,main:!0}],:[{stem:"",ratio:.3},{stem:"",ratio:.7,main:!0}],:[{stem:"",ratio:1,main:!0}],:[{stem:"",ratio:1,main:!0}],:[{stem:"",ratio:.2},{stem:"",ratio:.3},{stem:"",ratio:.5,main:!0}],:[{stem:"",ratio:.2},{stem:"",ratio:.3},{stem:"",ratio:.5,main:!0}],:[{stem:"",ratio:.3},{stem:"",ratio:.7,main:!0}],:[{stem:"",ratio:.3},{stem:"",ratio:.7,main:!0}],:[{stem:"",ratio:1,main:!0}],:[{stem:"",ratio:1,main:!0}],:[{stem:"",ratio:.2},{stem:"",ratio:.3},{stem:"",ratio:.5,main:!0}],:[{stem:"",ratio:.2},{stem:"",ratio:.3},{stem:"",ratio:.5,main:!0}],:[{stem:"",ratio:.3},{stem:"",ratio:.7,main:!0}],:[{stem:"",ratio:.3},{stem:"",ratio:.7,main:!0}]},one={...E5,:[{stem:"",ratio:.2},{stem:"",ratio:.3},{stem:"",ratio:.5,main:!0}],:[{stem:"",ratio:.2},{stem:"",ratio:.3},{stem:"",ratio:.5,main:!0}],:[{stem:"",ratio:.2},{stem:"",ratio:.2},{stem:"",ratio:1,main:!0}],:[{stem:"",ratio:.2},{stem:"",ratio:.2},{stem:"",ratio:1,main:!0}],:[{stem:"",ratio:.2},{stem:"",ratio:.3},{stem:"",ratio:.7,main:!0}],:[{stem:"",ratio:.2},{stem:"",ratio:.3},{stem:"",ratio:.7,main:!0}],:[{stem:"",ratio:.2},{stem:"",ratio:.3},{stem:"",ratio:.7,main:!0}],:[{stem:"",ratio:.2},{stem:"",ratio:.3},{stem:"",ratio:.7,main:!0}]},CM=rne(ine),MM=TA(ane);TA(E5);TA(one);const sne=["","","","",""],jn={2:4,1:3,3:2,0:1};function a0(e,t,n="classic"){const r=Qi(t),i=sn(t),a=(n==="hgc"?By:$y)[i]??[];return[r,...a].includes(e)}const Md={1:4,2:3,0:2,3:1},A5=new Set(Object.keys(Dy)),T5=new Set(Object.keys(y2)),lne=e=>e.slice(0,1),cne=e=>e.slice(-1);function Ts(e){return My.has(e)?e:A5.has(e)?Dy[e]??e:e}function ni(e){return v2.has(e)?e:T5.has(e)?y2[e]??e:e}function Qi(e){return Ts(lne(e))}function sn(e){return ni(cne(e))}const je={year:0,month:1,day:2,hour:3};function Tw(e,t){const n=ni(e),r=[je.day,je.month,je.hour,je.year];for(const i of r)if(sn(t[i])===n)return{pos:i,weight:jn[i]??0};return null}function kA(e,t,n){return sn(t[n])===ni(e)?{pos:n,weight:jn[n]}:null}function une(e,t){const n=Ts(e),r=[je.day,je.month,je.hour,je.year];for(const i of r)if(Qi(t[i])===n)return{pos:i,weight:jn[i]??0};return null}const dne=/^#(|||)X\1_/,fne=e=>dne.test(e);function DM(e){const t=new Map;for(const n of e){if(fne(n.name))continue;const r=`${n.name}@${n.pos}`,i=t.get(r);(!i||n.weight>i.weight)&&t.set(r,n)}return Array.from(t.values()).sort((n,r)=>r.weight!==n.weight?r.weight-n.weight:n.name.localeCompare(r.name,"ko"))}function o0(e){return e===3?"si":e===2?"il":e===1?"wol":"yeon"}const pu=e=>e===0?"":e===1?"":e===2?"":"",gf=e=>e==="dae"?"":e==="se"?"":e==="wol"?"":"",hne=(e,t)=>`#X${pu(t)}_${e}`,k5=(e,t)=>t===je.month?`#_${e}`:`#X${pu(t)}_${e}`,Hd=(e,t,n)=>`#${pu(t)}X${pu(n)}_${e}`,mne=(e,t)=>`#${e==="day"?"":""}X${pu(t)}_`,Bo=e=>`#_${e}`,s0=(e,t)=>`#${pu(t)}_${e}`,bd=(e,t)=>`#X${gf(t)}_${e}`,Dh=(e,t)=>`#X${gf(t)}_${e}`,kw=(e,t,n)=>`#${gf(t)}X${pu(n)}_${e}`,pne=(e,t)=>`#${t==="day"?"":""}X${gf(e)}_`,gne=(e,t)=>`#${t==="day"?"":""}X${gf(e)}_`,PM=(e,t)=>`#X${gf(e)}_${t}`;function vne(e){if(!e)return null;const t=Array.from(String(e));let n=null,r=null;for(const i of t)!n&&(My.has(i)||A5.has(i))&&(n=Ts(i)),(v2.has(i)||T5.has(i))&&(r=ni(i));return n&&r?{stem:n,branch:r}:null}function Ow(e){return e.map(sn)}const Mn=e=>Object.fromEntries(Object.entries(e).map(([t,n])=>[ni(t),(Array.isArray(n)?n:[n]).map(ni)])),yne=Mn({:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),O5=Mn({:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),bne=Mn({:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),_ne=Mn({:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),xne=Mn({:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),j5=Mn({:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),wne=Mn({:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),Sne=Mn({:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),Ene=Mn({:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),Ane=Mn({:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),Tne=Mn({:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),N5=Mn({:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),kne=Mn({:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),One=Mn({:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),jne=Mn({:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),Nne=Mn({:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),Cne=Mn({:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),Mne=Mn({:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),C5=Mn({:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),Dne=N5,Pne=O5,Rne=C5,Lne=Mn({:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),Ine=j5,$ne=Mn({:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),Bne=Mn({:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),zne=Mn({:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),M5=e=>(Array.isArray(e)?e:String(e).split("")).map(t=>ni(t.trim())).filter(Boolean),qa=e=>Object.fromEntries(Object.entries(e).map(([t,n])=>[ni(t),(Array.isArray(n)?n:[n]).map(r=>ni(r))])),RM={:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},LM={:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},IM={:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},$M={:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},Une=qa({:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),BM=qa({:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),nb=e=>Object.fromEntries(Object.entries(e).map(([t,n])=>[ni(t),M5(n)])),Hne=nb({:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),Fne=nb({:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),Gne=nb({:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),qne=nb({:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),Yne=qa({:["",""],:["",""],:["",""],:["",""],:["",""],:["",""],:["",""],:["",""],:["",""],:["",""],:["",""],:["",""]}),Kne=qa({:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),Wne=qa({:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),Vne=qa({:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),Zne=qa({:["",""],:["",""],:["",""],:["",""],:["",""],:["",""],:["",""],:["",""],:["",""],:["",""],:["",""],:["",""]}),zM=qa({:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),Xne=qa({:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),Jne=qa({:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),Qne=qa({:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),ere=qa({:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),Tn=e=>Object.fromEntries(Object.entries(e).map(([t,n])=>[Ts(t),M5(n)])),tre=Tn({:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),UM=Tn({:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),nre=Tn({:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),rre=Tn({:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),ire=Tn({:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),are=Tn({:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),ore=Tn({:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),HM=Tn({:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),sre=Tn({:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),lre=Tn({:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),cre=Tn({:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),ure=Tn({:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),dre=Tn({:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),FM=Tn({:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),fre=Tn({:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),hre=Tn({:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),GM=Tn({:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),mre=Tn({:"",:"",:"",:""}),pre=Tn({:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),qM=Tn({:"",:"",:""}),YM=Tn({:"",:"",:""}),gre=Tn({:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),KM=Tn({:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),WM=Tn({:"",:"",:"",:"",:"",:"",:""}),jw=[["",""],["",""],["",""],["",""],["",""],["",""]],Nw=[["",""],["",""],["",""],["",""],["",""],["",""]],vre=new Set(["","","",""]),VM=[["",""],["",""]],yre=[{set:new Set(["","","","","","","","","",""]),voids:["",""]},{set:new Set(["","","","","","","","","",""]),voids:["",""]},{set:new Set(["","","","","","","","","",""]),voids:["",""]},{set:new Set(["","","","","","","","","",""]),voids:["",""]},{set:new Set(["","","","","","","","","",""]),voids:["",""]},{set:new Set(["","","","","","","","","",""]),voids:["",""]}];function Ph(e,t,n){const r=ni(t),i=ni(n);for(const[a,s]of e)if(a===r&&s===i||a===i&&s===r)return!0;return!1}function ZM(e,t,n){const r=ni(t),i=ni(n);for(const[a,s]of e)if(a===r&&s===i||a===i&&s===r)return`${a}${s}`;return`${r}${i}`}function l0(e){for(const t of yre)if(t.set.has(e))return t.voids;return null}function Cw(e){const t=ni(e),n=[{group:new Set(["","",""]),years:new Set(["","",""])},{group:new Set(["","",""]),years:new Set(["","",""])},{group:new Set(["","",""]),years:new Set(["","",""])},{group:new Set(["","",""]),years:new Set(["","",""])}];for(const r of n)if(r.group.has(t))return Array.from(r.years);return null}function Zm(e,t){e.push(t)}function Mw(e,t,n,r,i=0){const a=Md[n]>=Md[r]?n:r,s=Hd(t,n,r);e.push({name:s,weight:jn[a]+i,pos:a})}function pn(e,t,n,r,i){const a=sn(e[je.year]),s=t[a];if(!s)return;const c=n==="MONTH"?[je.month]:n==="DAY"?[je.day]:n==="HOUR"?[je.hour]:[je.year,je.month,je.day,je.hour];for(const d of s)for(const f of c){const m=kA(d,e,f);m&&Zm(i,{name:Hd(r,je.year,f),weight:m.weight,pos:f})}}function c0(e,t,n,r){const i=sn(e[je.month]),a=t[i];if(!a)return;const s=Ts(a),c=une(s,e);c&&Zm(r,{name:k5(n,c.pos),weight:c.weight,pos:c.pos})}function Zi(e,t,n,r,i="ALL"){const a=sn(e[je.month]),s=t[a];if(!s)return;const c=i==="YEAR"?[je.year]:i==="DAY"?[je.day]:i==="HOUR"?[je.hour]:i==="DAY_HOUR"?[je.day,je.hour]:[je.year,je.month,je.day,je.hour];for(const d of s)for(const f of c){const m=kA(d,e,f);if(!m)continue;const p=f===je.month?`#_${n}`:k5(n,f);Zm(r,{name:p,weight:m.weight,pos:f})}}function u0(e,t,n,r){const i=sn(e[je.month]),a=t[i];if(!a)return;const s=e[je.day];a.includes(s)&&Zm(r,{name:Hd(n,je.month,je.day),weight:jn[je.day],pos:je.day})}function rn(e,t,n,r,i){const a=Qi(e[je.day]),s=t[a];if(!s)return;const c=i==="DAY"?[je.day]:i==="HOUR"?[je.hour]:[je.year,je.month,je.day,je.hour];for(const d of s)for(const f of c){const m=kA(d,e,f);m&&Zm(r,{name:hne(n,f),weight:m.weight,pos:f})}}function Ni({natal:e,daewoon:t,sewoon:n,wolwoon:r,ilwoon:i,basis:a}){const s=Qi(e[je.day]),c=sn(e[je.day]),d=sn(e[je.month]),f=sn(e[je.year]),m=Ow(e),p=[],y=[],b=new Set(["","","",""]);if(pn(e,yne,"MONTH","",y),pn(e,O5,"DAY","",y),pn(e,_ne,"MONTH","",y),pn(e,xne,"MONTH","",y),pn(e,wne,"ALL","",y),pn(e,Sne,"HOUR","",y),pn(e,Ene,"ALL","",y),pn(e,Ane,"ALL","",y),pn(e,Tne,"ALL","",y),pn(e,N5,"ALL","",y),pn(e,kne,"ALL","",y),pn(e,One,"ALL","",y),pn(e,jne,"ALL","",y),pn(e,Nne,"ALL","",y),pn(e,Cne,"ALL","",y),pn(e,Mne,"ALL","",y),pn(e,C5,"ALL","",y),pn(e,Dne,"ALL","",y),pn(e,Pne,"ALL","",y),pn(e,Rne,"ALL","",y),pn(e,Lne,"ALL","",y),pn(e,Ine,"ALL","",y),pn(e,$ne,"ALL","",y),pn(e,Bne,"ALL","",y),pn(e,zne,"ALL","",y),c0(e,RM,"",p),c0(e,LM,"",p),c0(e,IM,"",p),c0(e,$M,"",p),Zi(e,Une,"",y,"ALL"),Zi(e,BM,"",y,"YEAR"),Zi(e,BM,"",y,"DAY"),u0(e,Hne,"",p),u0(e,Fne,"",y),u0(e,Gne,"",y),u0(e,qne,"",p),Zi(e,Yne,"",y,"ALL"),Zi(e,Kne,"",y,"ALL"),Zi(e,Wne,"",y,"ALL"),Zi(e,Vne,"",y,"ALL"),Zi(e,Zne,"",y,"ALL"),Zi(e,zM,"",p,"ALL"),Zi(e,Xne,"",p,"DAY_HOUR"),Zi(e,Jne,"",p,"DAY_HOUR"),Zi(e,Qne,"",p,"ALL"),Zi(e,ere,"",p,"ALL"),rn(e,tre,"",p,"ALL"),rn(e,UM,"",p,"ALL"),rn(e,nre,"",p,"ALL"),rn(e,rre,"",p,"ALL"),rn(e,ire,"",p,"ALL"),rn(e,are,"",p,"ALL"),rn(e,ore,"",p,"ALL"),rn(e,HM,"",p,"ALL"),rn(e,sre,"",p,"ALL"),rn(e,lre,"",p,"ALL"),rn(e,cre,"",p,"ALL"),rn(e,ure,"",p,"ALL"),rn(e,dre,"",p,"ALL"),rn(e,FM,"",y,"ALL"),rn(e,fre,"",y,"ALL"),rn(e,hre,"",y,"ALL"),rn(e,GM,"",y,"DAY"),rn(e,GM,"",y,"HOUR"),rn(e,qM,"",y,"DAY"),rn(e,qM,"",y,"HOUR"),rn(e,YM,"",y,"DAY"),rn(e,YM,"",y,"HOUR"),rn(e,mre,"",y,"DAY"),rn(e,pre,"",y,"ALL"),rn(e,gre,"",p,"ALL"),rn(e,KM,"",y,"ALL"),b.has(e[je.day])){y.push({name:Bo(""),weight:jn[je.day],pos:je.day});for(const ne of[je.year,je.month,je.hour])e[ne]===e[je.day]&&y.push({name:s0("",ne),weight:jn[ne],pos:ne})}const T=WM[s];if(T)for(const ne of[je.year,je.month,je.day,je.hour]){const q=Qi(e[ne]),K=sn(e[ne]);q===s&&T.includes(K)&&y.push({name:s0("",ne),weight:jn[ne],pos:ne})}for(const[ne,q]of VM){const K=Tw(ne,e),X=Tw(q,e);K&&X&&Mw(y,"",K.pos,X.pos)}{const ne=new Set(["",""]),q=new Set(["","","",""]);for(let K=0;K<=3;K++){const X=Qi(e[K]),ie=sn(e[K]);(ne.has(X)||q.has(ie))&&y.push({name:s0("",K),weight:jn[K],pos:K})}}{const ne=Qi(e[je.day]),q=e[je.hour],K=(X,ie)=>X.includes(ne)&&ie.includes(q);K(["",""],["",""])&&y.push({name:Bo(""),weight:jn[je.hour],pos:je.hour}),K(["",""],["",""])&&y.push({name:Bo(""),weight:jn[je.hour],pos:je.hour}),K(["",""],["",""])&&y.push({name:Bo(""),weight:jn[je.hour],pos:je.hour}),K(["",""],["",""])&&y.push({name:Bo(""),weight:jn[je.hour],pos:je.hour}),K(["",""],["",""])&&y.push({name:Bo(""),weight:jn[je.hour],pos:je.hour})}{const ne=Ow(e);["","","",""].every(K=>ne.includes(K))&&p.push({name:Bo(""),weight:jn[je.day],pos:je.day})}{const ne=e[je.day],q=e[je.hour];(ne===""&&q===""||ne===""&&q==="")&&y.push({name:Hd("",je.day,je.hour),weight:jn[je.hour],pos:je.hour})}{const ne=sn(e[je.year]),q=new Set(Ow(e).slice(1)),K=(X,ie)=>X.every(Z=>q.has(Z))&&ne===ie;(K(["","",""],"")||K(["","",""],"")||K(["","",""],"")||K(["","",""],""))&&p.push({name:Bo(""),weight:jn[je.day],pos:je.day})}["",""].includes(e[je.day])&&p.push({name:Bo(""),weight:jn[je.day],pos:je.day});{const ne=Qi(e[je.day]),K={:{rok:"",group:["","",""],ma:"",maStem:""},:{rok:"",group:["","",""],ma:"",maStem:""},:{rok:"",group:["","",""],ma:"",maStem:""},:{rok:"",group:["","",""],ma:"",maStem:""},:{rok:"",group:["","",""],ma:"",maStem:""},:{rok:"",group:["","",""],ma:"",maStem:""},:{rok:"",group:["","",""],ma:"",maStem:""},:{rok:"",group:["","",""],ma:"",maStem:""},:{rok:"",group:["","",""],ma:"",maStem:""},:{rok:"",group:["","",""],ma:"",maStem:""}}[ne],X=e.some(W=>sn(W)===K.rok),Z=Qi(e[je.hour])===K.maStem;X&&Z&&p.push({name:Hd("",je.day,je.hour),weight:jn[je.hour],pos:je.hour})}{const ne=Qi(e[je.day]),q=sn(e[je.day]),K=sn(e[je.hour]),ie={:{rok:"",ma:"",rokStem:"",maStem:""},:{rok:"",ma:"",rokStem:"",maStem:""},:{rok:"",ma:"",rokStem:"",maStem:""},:{rok:"",ma:"",rokStem:"",maStem:""},:{rok:"",ma:"",rokStem:"",maStem:""},:{rok:"",ma:"",rokStem:"",maStem:""},:{rok:"",ma:"",rokStem:"",maStem:""},:{rok:"",ma:"",rokStem:"",maStem:""},:{rok:"",ma:"",rokStem:"",maStem:""},:{rok:"",ma:"",rokStem:"",maStem:""}}[ne];if(ie){const Z=q===ie.rok,W=K===ie.ma,de=a0(ie.rokStem,e[je.day],"classic")||a0(ie.rokStem,e[je.hour],"classic"),te=a0(ie.maStem,e[je.day],"classic")||a0(ie.maStem,e[je.hour],"classic");Z&&W&&(de||te)&&p.push({name:Hd("",je.day,je.hour),weight:jn[je.hour],pos:je.hour})}}{const ne=new Set(["","","","","",""]),q=e.map(Qi),K=e.map(sn),X=q.concat(K).filter(de=>ne.has(de)).length,ie=t?Qi(t):"",Z=t?sn(t):"",W=ne.has(ie)||ne.has(Z);(X>=4||X===3&&W)&&y.push({name:Bo(""),weight:jn[je.day],pos:je.day})}{const ne=new Set(["",""]),q=new Set(["",""]);for(let K=0;K<=3;K++){const X=Qi(e[K]),ie=sn(e[K]);(ne.has(X)||q.has(ie))&&y.push({name:s0("",K),weight:jn[K],pos:K})}}{const ne=[[je.year,je.month],[je.year,je.day],[je.month,je.day],[je.month,je.hour],[je.day,je.hour]];for(const[q,K]of ne){const X=sn(e[q]),ie=sn(e[K]);if(Ph(jw,X,ie)){const Z=ZM(jw,X,ie);Mw(y,`${Z}`,q,K)}}}{const ne=[[je.year,je.month,0],[je.month,je.day,1],[je.month,je.hour,0],[je.day,je.hour,0]];for(const[q,K,X]of ne){const ie=sn(e[q]),Z=sn(e[K]);if(Ph(Nw,ie,Z)){const W=ZM(Nw,ie,Z),de=(X?1:0)+(vre.has(ie+Z)?1:0);Mw(y,`${W}`,q,K,de)}}}function S(ne){const q=ne.lastIndexOf("_");return q>=0?ne.slice(q+1):ne}const j=new Set(["",""]);function D(ne){return j.has(ne)?!0:ne.endsWith("")||ne.endsWith("")}function O(ne){const q=new Map;for(const X of ne){const ie=S(X.name);q.has(ie)||q.set(ie,[]),q.get(ie).push(X)}const K=[];for(const[X,ie]of q)if(D(X))K.push(...ie);else{const Z=ie.sort((W,de)=>Md[W.pos]!==Md[de.pos]?Md[de.pos]-Md[W.pos]:de.weight-W.weight)[0];K.push(Z)}return K}const M=l0(e[je.day]),N=l0(e[je.year]);{const ne=(a?.voidBasis??"day")==="day"?M:N;if(ne){const[q,K]=ne.map(ni),X=[je.year,je.month,je.day,je.hour];for(const ie of X){const Z=sn(e[ie]);(Z===q||Z===K)&&y.push({name:mne(a?.voidBasis??"day",ie),weight:jn[ie],pos:ie})}}}const R=O(DM(p)),$=O(DM(y)),B={si:[],il:[],yeon:[],wol:[]},H={si:[],il:[],yeon:[],wol:[]};for(const ne of R)B[o0(ne.pos)].push(ne.name);for(const ne of $)H[o0(ne.pos)].push(ne.name);const V=[],z=[],F=[],Q=[],ee=[],be=[],J=[],le=[];function ae(ne,q){ne.includes(q)||ne.push(q)}function me(ne,q){const K=vne(q);if(!K)return;const X=K.branch,ie=K.stem;let Z,W;switch(ne){case"dae":Z=V,W=ee;break;case"se":Z=z,W=be;break;case"wol":Z=F,W=J;break;case"il":Z=Q,W=le;break;default:return}Ts(RM[d])===ie&&ae(Z,Dh("",ne)),Ts(LM[d])===ie&&ae(Z,Dh("",ne)),Ts(IM[d])===ie&&ae(Z,Dh("",ne)),Ts($M[d])===ie&&ae(Z,Dh("",ne)),zM[d]?.includes(X)&&ae(Z,Dh("",ne)),UM[s]?.includes(X)&&ae(Z,bd("",ne)),HM[s]?.includes(X)&&ae(Z,bd("",ne)),FM[s]?.includes(X)&&ae(W,bd("",ne)),KM[s]?.includes(X)&&ae(W,bd("",ne)),WM[s]?.includes(X)&&ae(W,bd("",ne)),ne==="se"&&(bne[f]?.includes(X)&&ae(W,PM(ne,"")),j5[f]?.includes(X)&&ae(W,PM(ne,"")));for(const te of m)if(Ph(VM,X,te)){const Y=Tw(te,e)?.pos;Y!==void 0&&ae(W,kw("",ne,Y));break}new Set(["",""]).has(s)&&new Set(["","","",""]).has(X)&&ae(W,bd("",ne));const de=(a?.voidBasis??"day")==="day"?M:N;de&&(X===de[0]||X===de[1])&&ae(W,pne(ne,a?.voidBasis??"day"));for(let te=0;te<=3;te++){const Y=sn(e[te]);Ph(jw,X,Y)&&ae(W,kw("",ne,te)),Ph(Nw,X,Y)&&ae(W,kw("",ne,te))}if(ne==="se"){const te=(a?.samjaeBasis??"day")==="day"?c:f,Y=te?Cw(te):null;Y&&Y.includes(X)&&ae(W,gne(ne,a?.samjaeBasis??"day"))}}return me("dae",t??null),me("se",n??null),me("wol",r??null),me("il",i??null),{good:{si:[],il:[],yeon:[],wol:[],...(()=>{const ne={si:[],il:[],yeon:[],wol:[]};for(const q of R)ne[o0(q.pos)].push(q.name);return ne})(),dae:V,se:z,wolun:F,ilun:Q},bad:{si:[],il:[],yeon:[],wol:[],...(()=>{const ne={si:[],il:[],yeon:[],wol:[]};for(const q of $)ne[o0(q.pos)].push(q.name);return ne})(),dae:ee,se:be,wolun:J,ilun:le},meta:{voidPair:{day:l0(e[je.day])??void 0,year:l0(e[je.year])??void 0},samjaeYears:{day:Cw(c)??void 0,year:Cw(f)??void 0},currentBasis:{voidBasis:a?.voidBasis??"day",samjaeBasis:a?.samjaeBasis??"day"}}}}function bre(e,t){if(e==="#")return"bg-neutral-100 text-neutral-500 border-neutral-200 dark:bg-neutral-900 dark:text-neutral-500 dark:border-neutral-700";switch(t){case"natal":return"bg-violet-100 text-violet-800 border-violet-200 dark:bg-violet-900/30 dark:text-violet-200 dark:border-violet-800";case"dae":return"bg-blue-100 text-blue-800 border-blue-200 dark:bg-blue-900/30 dark:text-blue-200 dark:border-blue-800";case"se":return"bg-green-100 text-green-800 border-green-200 dark:bg-green-900/30 dark:text-green-200 dark:border-green-800";case"wol":return"bg-orange-100 text-orange-800 border-orange-200 dark:bg-orange-900/30 dark:text-orange-200 dark:border-orange-800";case"il":return"bg-red-100 text-red-800 border-red-200 dark:bg-red-900/30 dark:text-red-200 dark:border-red-800";default:return""}}function _re({items:e,source:t}){const n=e.length>0?e:["#"];return _.jsx("div",{className:"flex flex-wrap gap-2",children:n.map((r,i)=>_.jsx("span",{className:"text-xs px-2 py-1 rounded-full border whitespace-nowrap "+bre(r,t),children:r},`${t}-${i}-${r}`))})}function XM({title:e,rows:t}){return _.jsxs("div",{className:"space-y-2 desk:flex-1 desk:px-1",children:[_.jsx("div",{className:"text-md font-bold text-neutral-800 dark:text-neutral-200 mt-2",children:e}),t.map(n=>{const i=n.items.some(a=>a!=="#")?"shrink-0 w-12 text-xs font-semibold text-orange-700 dark:text-orange-300 mt-1":"shrink-0 w-12 text-xs font-semibold text-neutral-700 dark:text-neutral-300 mt-1";return _.jsxs("div",{className:"flex items-start gap-3 border border-gray-700 dark:border-gray-400 p-2 rounded-sm",children:[_.jsx("div",{className:i,children:n.label}),_.jsx(_re,{items:n.items.length>0?n.items:["#"],source:n.source})]},`${e}-${n.label}`)})]})}function xre({pillars:e,daewoon:t,sewoon:n,wolwoon:r,ilwoon:i,tab:a=""}){const{settings:s}=Ar(),[c,d]=A.useState(""),[f,m]=A.useState("");A.useEffect(()=>{s.sinsalBase===""?(d(""),m("")):(d(""),m(""))},[s.sinsalBase]);const p=A.useMemo(()=>({voidBasis:c===""?"day":"year",samjaeBasis:f===""?"day":"year"}),[c,f]),y=A.useMemo(()=>Ni({natal:e,daewoon:t,sewoon:n,wolwoon:r,ilwoon:i,basis:p}),[e,t,n,r,i,p]),{good:b,bad:x,meta:T}=y,S=V=>V.map(z=>z==="#"?z:` ${z}`),j=(V,z)=>{const F=["natal"];return z===""&&F.push("natal"),z===""&&F.push("natal","dae"),z===""&&F.push("natal","dae","se"),z===""&&F.push("natal","dae","se","wol"),z===""&&F.push("natal","dae","se","wol","il"),V.filter(Q=>F.includes(Q.source))},D=[{label:"",items:S(b.si),source:"natal"},{label:"",items:S(b.il),source:"natal"},{label:"",items:S(b.wol),source:"natal"},{label:"",items:S(b.yeon),source:"natal"},{label:"",items:b.dae,source:"dae"},{label:"",items:b.se,source:"se"},{label:"",items:b.wolun,source:"wol"},{label:"",items:b.ilun,source:"il"}],O=[{label:"",items:S(x.si),source:"natal"},{label:"",items:S(x.il),source:"natal"},{label:"",items:S(x.wol),source:"natal"},{label:"",items:S(x.yeon),source:"natal"},{label:"",items:x.dae,source:"dae"},{label:"",items:x.se,source:"se"},{label:"",items:x.wolun,source:"wol"},{label:"",items:x.ilun,source:"il"}],M=j(D,a),N=j(O,a),R=T.voidPair.day?`(${T.voidPair.day.join("")})`:"()",$=T.voidPair.year?`(${T.voidPair.year.join("")})`:"()",B=T.samjaeYears.day?`(${T.samjaeYears.day.join("")})`:"()",H=T.samjaeYears.year?`(${T.samjaeYears.year.join("")})`:"()";return _.jsxs("div",{className:"rounded-xl p-4 bg-neutral-100 dark:bg-neutral-900 text-neutral-900 dark:text-neutral-100 space-y-2",children:[_.jsx("div",{className:"text-base font-bold mb-1",children:"(/)"}),_.jsxs("div",{className:"flex flex-wrap items-center gap-3 text-xs",children:[_.jsxs("div",{className:"flex items-center gap-2",children:[_.jsx("label",{className:"text-neutral-600 dark:text-neutral-300",children:" "}),_.jsxs("select",{value:c,onChange:V=>d(V.target.value),className:"px-2 h-30 rounded border border-neutral-300 dark:border-neutral-700 bg-white dark:bg-neutral-800",children:[_.jsx("option",{value:"",children:R}),_.jsx("option",{value:"",children:$})]})]}),_.jsxs("div",{className:"flex items-center gap-2",children:[_.jsx("label",{className:"text-neutral-600 dark:text-neutral-300",children:" "}),_.jsxs("select",{value:f,onChange:V=>m(V.target.value),className:"px-2 h-30 rounded border border-neutral-300 dark:border-neutral-700 bg-white dark:bg-neutral-800",children:[_.jsx("option",{value:"",children:B}),_.jsx("option",{value:"",children:H})]})]})]}),_.jsxs("div",{className:"desk:flex",children:[_.jsx(XM,{title:"()",rows:M}),_.jsx("div",{className:"block desk:hidden border-t border-neutral-200 dark:border-neutral-800 mt-4 mb-3"}),_.jsx(XM,{title:"()",rows:N})]})]})}const Da={year:0,month:1,day:2,hour:3},D5={[Da.year]:.3,[Da.month]:.5,[Da.day]:.3,[Da.hour]:.3},P5={[Da.year]:.15,[Da.month]:.2,[Da.day]:0,[Da.hour]:.15},wre=e=>v2.has(e)?e:y2[e]??e,Sre=e=>My.has(e)?e:Dy[e]??e,Ere=e=>typeof e=="string"&&e.length>=2?wre(e.slice(-1)):"",Are=e=>typeof e=="string"&&e.length>=1?Sre(e.slice(0,1)):"",zn=(e,t,n,r)=>({han:e,nan:t,jo:n,seup:r}),Tre={:zn(2,0,.5,2),:zn(2,0,0,2),:zn(2,0,0,2),:zn(0,2,2,0),:zn(0,2,2,0),:zn(0,2,1,2),:zn(0,2,2,.5),:zn(0,2,2,0),:zn(0,2,2,1),:zn(2,0,0,2),:zn(2,0,0,2),:zn(2,0,1,1)},kre={:zn(0,1,1,0),:zn(0,1,1,0),:zn(0,2,2,0),:zn(0,2,2,0),:zn(0,0,1,0),:zn(0,0,0,1),:zn(1,0,0,1),:zn(1,0,0,1),:zn(2,0,0,2),:zn(2,0,0,2)},JM=e=>Math.max(0,Math.min(100,e));function QM(e,t){const n=Math.max(0,e),r=Math.max(0,t),i=n+r;return i<=0?50:r/i*100}function Ore(e){let t=0,n=0,r=0,i=0;return[Da.year,Da.month,Da.day,Da.hour].forEach(a=>{const s=Tre[Ere(e[a])],c=kre[Are(e[a])],d=D5[a],f=P5[a];d>0&&s&&(t+=s.han*d,n+=s.nan*d,r+=s.jo*d,i+=s.seup*d),f>0&&c&&(t+=c.han*f,n+=c.nan*f,r+=c.jo*f,i+=c.seup*f)}),{han:t,nan:n,jo:r,seup:i}}function jre(e){const t=Array.isArray(e)?e.slice(0,4):[];for(;t.length<4;)t.push("");return t.map(n=>typeof n=="string"?n:"")}function Nre(e){const t=jre(e);return A.useMemo(()=>{const{han:n,nan:r,jo:i,seup:a}=Ore(t),s=QM(n,r),c=QM(a,i);return{hanNanPct:JM(s),joSeupPct:JM(c),raw:{han:n,nan:r,jo:i,seup:a},weights:{branch:D5,stem:P5}}},[t])}function eD({label:e,percent:t,leftHint:n,midHint:r,rightHint:i}){const a=A.useMemo(()=>Math.max(0,Math.min(100,t)),[t]),s=[10,20,35,45,55,65,80];return _.jsxs("div",{className:"w-full mx-auto p-2 desk:p-4 bg-neutral-100 dark:bg-neutral-800 rounded-xl",children:[_.jsxs("div",{className:"flex justify-between text-[11px] text-neutral-400 mb-1",children:[_.jsx("span",{children:n}),_.jsx("span",{children:r}),_.jsx("span",{children:i})]}),_.jsxs("div",{className:"relative h-4 rounded bg-gradient-to-r from-blue-500 via-yellow-400 to-red-500",children:[s.map(c=>_.jsx("div",{className:"absolute top-0 h-4 w-[1px] bg-black/30",style:{left:`${c}%`},title:`${c}%`},c)),_.jsx("div",{className:"absolute top-0 h-4 w-[1px] bg-black/40",style:{left:"50%"},title:"50%"}),_.jsx("div",{className:"absolute -top-1 h-6 w-2 bg-white rounded shadow-sm",style:{left:`${a}%`,transform:"translateX(-50%)"},"aria-label":`${e} ${a.toFixed(1)}%`})]}),_.jsxs("div",{className:"mt-2 flex items-center gap-2",children:[_.jsx("span",{className:"inline-flex items-center px-2 py-0.5 rounded-full text-xs border border-neutral-600 text-neutral-700 dark:text-neutral-200",children:e}),_.jsxs("span",{className:"text-xs text-neutral-400",children:[a.toFixed(1),"%"]})]})]})}function Cre({natal:e}){const{hanNanPct:t,joSeupPct:n}=Nre(e);return _.jsxs("div",{className:"flex gap-2",children:[_.jsx(eD,{label:"",percent:t,leftHint:"",midHint:"",rightHint:""}),_.jsx(eD,{label:"",percent:n,leftHint:"",midHint:"",rightHint:""})]})}const Mre=Object.fromEntries(ua..map((e,t)=>[e,hi[t]])),Dre=Object.fromEntries(hi.map((e,t)=>[e,ua.[t]])),Pre=Object.fromEntries(ua..map((e,t)=>[e,Pi[t]])),Rre=Object.fromEntries(Pi.map((e,t)=>[e,ua.[t]])),Lre=e=>Mre[e]??e,Ire=e=>Pre[e]??e,$re=e=>Dre[e]??e,Bre=e=>Rre[e]??e;function R5(e){const t={...e};for(const n of Object.keys(e)){if(n.length<2)continue;const r=n.charAt(0),i=n.charAt(1),a=/[]/.test(r)||/[]/.test(i)?`${Lre(r)}${Ire(i)}`:`${$re(r)}${Bre(i)}`;t[a]===void 0&&(t[a]=e[n])}return t}const L5={:1,:.2,:1,:1,:.5,:.7,:0,:.5,:1,:1,:0,:1,:0,:0,:.3,:0,:.5,:.3,:0,:0,:.3,:0,:.8,:.3,:0,:.5,:0,:0,:.3,:.3,:0,:.3,:0,:0,:.8,:0,:0,:.8,:0,:0,:.5,:0,:1,:.5,:0,:0,:.7,:0,:1,:.5,:.7,:0,:.2,:.7,:1,:.7,:.7,:1,:.2,:.7},zre={...L5,:.8,:.3,:.5,:.5,:.2,:.2,:.8,:.2},Ure=R5(L5),Hre=R5(zre),Fre={:"",:"",:"",:"",:""},Gre={:"",:"",:"",:"",:""},qre={:"",:"",:"",:"",:""},Yre={:"",:"",:"",:"",:""},Kre={:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},Wre={:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},Vre=e=>Kre[e]??e,Zre=e=>Wre[e]??e;function I5(e){return!e||e.length<2?"":`${Vre(e[0])}${Zre(e[1])}`}const $5=e=>e&&e.length>=1?e[0]:"",B5=e=>e&&e.length>=2?e[1]:"";function z5(e){return{:e,:Fre[e],:Gre[e],:qre[e],:Yre[e]}}const U5={:["","","","","","","",""],:["","","","","","","",""],:["","","","","","","",""],:["","","","","","","",""],:["","","","","","","","","","","",""],:["","","","","","","","","","","",""],:["","","","","","","","","","","",""],:["","","","","","","","","","","",""],:["","","","","","","",""],:["","","","","","","",""]};function Xre(e,t){const n=(e??[]).slice(0,4).map(I5);if(n.length!==4||n.some(y=>y.length<2))return{flags:{:{:!1,:!1,:!1},:{:!1,:!1,:!1},:{:!1,:!1,:!1},:{:!1,:!1,:!1},:{:!1,:!1,:!1}},monthBranch:"",dayEl:""};const r=$5(n[2]),i=r===""||r===""?"":r===""||r===""?"":r===""||r===""?"":r===""||r===""?"":"",a=n.map(y=>B5(y)),s={:{:!1,:!1,:!1},:{:!1,:!1,:!1},:{:!1,:!1,:!1},:{:!1,:!1,:!1},:{:!1,:!1,:!1}},c=U5[r]??[],d=a[1];c.includes(d)&&(s..=!0,s..=!0);const f=a[2];c.includes(f)&&(s..=!0,s..=!0);const m=z5(i).,p=t[m]??0;return s..=p>=30,{flags:s,monthBranch:d,dayEl:i}}function H5(e,t){const n=(e??[]).slice(0,4).map(I5);if(n.length<3||n[0].length<2||n[1].length<2||n[2].length<2){const x={:!1,:!1,:!1};return{flags:{:{...x},:{...x},:{...x},:{...x},:{...x},:{...x},:{...x},:{...x},:{...x},:{...x}},monthBranch:"",dayEl:""}}const r=$5(n[2]),i=r===""||r===""?"":r===""||r===""?"":r===""||r===""?"":r===""||r===""?"":"",a=n.map(x=>B5(x)),s={:!1,:!1,:!1},c={:{...s},:{...s},:{...s},:{...s},:{...s},:{...s},:{...s},:{...s},:{...s},:{...s}},d=U5[r]??[],f=a[1];d.includes(f)&&(c..=!0,c..=!0,c..=!0,c..=!0);const m=a[2];d.includes(m)&&(c..=!0,c..=!0,c..=!0,c..=!0);const p=z5(i).;return(t[p]??0)>=30&&(c..=!0,c..=!0,c..=!0,c..=!0),{flags:c,monthBranch:f,dayEl:i}}const Jre={:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},Qre={:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},eie={:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},tie={:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},nie=e=>Jre[e]??e,rie=e=>Qre[e]??e;function iie(e){return!e||e.length<2?"":`${nie(e[0])}${rie(e[1])}`}function Hc(e){return CM[e]??CM[eie[e]??""]}function Fc(e){return MM[e]??MM[tie[e]??""]}const Dw=["year","month","day","hour"],aie={year:{stem:10,branch:10},month:{stem:15,branch:30},day:{stem:25,branch:25},hour:{stem:15,branch:15}},oie={year:{stem:10,branch:10},month:{stem:15,branch:45},day:{stem:25,branch:40},hour:{stem:15,branch:12.5}},sie=new Set(["","","","",""]),lie=new Set(["","","","","",""]),cie=new Set(["","","",""]),Pw=e=>sie.has(e)?"":"",Rw=e=>{const t=lie.has(e)?"":"";return cie.has(e)?t===""?"":"":t};function tD(e){const t=e.reduce((c,d)=>c+d,0);if(t<=0)return e.map(()=>0);const n=e.map(c=>c*100/t),r=n.map(c=>Math.floor(c+.5)),i=100-r.reduce((c,d)=>c+d,0);if(i===0)return r;const a=n.map((c,d)=>({i:d,frac:c-Math.floor(c+.5)})).sort((c,d)=>d.frac-c.frac),s=r.slice();if(i>0)for(let c=0;c<i;c++)s[a[c].i]+=1;else for(let c=0;c<-i;c++)s[a[a.length-1-c].i]-=1;return s}function uie(e,t){return e===0?t?1:.8:e===1?t?.6:.5:t?.3:.2}const d0={:.15,:.1,:-.15,:-.2,:-.25},Iv={:"",:"",:"",:"",:""},F5={:"",:"",:"",:"",:""},vm={:"",:"",:"",:"",:""},die={:"",:"",:"",:"",:""};function f0(e,t){return e===t?"":Iv[t]===e?"":Iv[e]===t?"":vm[e]===t?"":vm[t]===e?"":""}const Ll=e=>e&&e.length>=1?e[0]:"",Gc=e=>e&&e.length>=2?e[1]:"";function fie(e,t){const n=e.reduce((d,f)=>d+f,0);if(n<=0||t<=0)return new Array(e.length).fill(0);const r=e.map(d=>d/n*t),i=r.map(d=>Math.floor(d));let a=t-i.reduce((d,f)=>d+f,0);const s=r.map((d,f)=>({i:f,frac:d-Math.floor(d)})).sort((d,f)=>f.frac-d.frac),c=i.slice();for(let d=0;d<s.length&&a>0;d++)c[s[d].i]+=1,a-=1;return c}function nD(e,t){switch(e){case"":return t;case"":return Iv[t];case"":return vm[t];case"":return die[t];case"":return F5[t];default:return t}}function sE(e){const{pillars:t,dayStem:n,mode:r,debug:i,useHarmonyOverlay:a,criteriaMode:s,luck:c}=e,d=s==="modern"?aie:oie,f=r==="classic"?Hre:Ure,m={:0,:0,:0,:0,:0},p={},y={:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},b=(t??[]).slice(0,4).map(iie),x=b.length===4&&b[0]&&b[0].length>=2&&b[1]&&b[1].length>=2&&b[2]&&b[2].length>=2,T={totalsSub:{:0,:0,:0,:0,:0,:0,:0,:0,:0,:0},perStemAugBare:{},perStemAugFull:{}};if(!x){const Z=["","","","",""].map(W=>({name:W,value:0,color:"#999999"}));return{overlay:T,totals:Z,perTenGod:{:{a:"",b:"",aVal:0,bVal:0},:{a:"",b:"",aVal:0,bVal:0},:{a:"",b:"",aVal:0,bVal:0},:{a:"",b:"",aVal:0,bVal:0},:{a:"",b:"",aVal:0,bVal:0}},PerTenGodSub:{:0,:0,:0,:0,:0,:0,:0,:0,:0,:0},elementScoreRaw:m,deukFlags:{:{:!1,:!1,:!1},:{:!1,:!1,:!1},:{:!1,:!1,:!1},:{:!1,:!1,:!1},:{:!1,:!1,:!1}},perStemElement:{},perStemElementScaled:{},stemScoreRaw:{},elementPercent100:{:0,:0,:0,:0,:0}}}const S=Ll(b[2]),j=n??S,D=j===""||j===""?"":j===""||j===""?"":j===""||j===""?"":j===""||j===""?"":"",O=[{val:0},{val:0},{val:0},{val:0}],M=[[],[],[],[]];for(const Z of b){if(!Z)continue;const W=Z.charAt(0),de=Z.charAt(1);p[W]=(p[W]??0)+50;const te=y[de];te&&(p[te]=(p[te]??0)+50)}for(let Z=0;Z<4;Z++){const W=b[Z];if(!W||W.length<2)continue;const de=Dw[Z],te=Ll(W),Y=Gc(W),se=d[de],xe=Hc(te);xe&&(m[xe]+=se.stem,O[Z]={stem:te,el:xe,pol:Pw(te),val:se.stem});const ce=Fc(Y);ce&&(m[ce]+=se.branch,M[Z].push({el:ce,pol:Rw(Y),val:se.branch}))}for(let Z=0;Z<4;Z++){const W=b[Z];if(!W||W.length<2)continue;const de=Dw[Z],te=f[W]??0;if(te===0)continue;const Y=Ll(W),se=Hc(Y);if(!se)continue;const xe=d[de].stem*te;m[se]+=xe,O[Z].val+=xe}for(let Z=0;Z<4;Z++){const W=b[Z];if(!W||W.length<2)continue;const de=Gc(W),te=Fc(de);if(!te)continue;const Y=d[Dw[Z]].branch,se=Rw(de);let xe=0;const ce=[Z];Z-1>=0&&ce.push(Z-1),Z+1<=3&&ce.push(Z+1),Z-2>=0&&ce.push(Z-2),Z+2<=3&&ce.push(Z+2);const Ne=Array.from(new Set(ce));for(const pe of Ne){if(!b[pe]||b[pe].length<2)continue;const Te=Ll(b[pe]),Me=Hc(Te);if(!Me||Me!==te)continue;const Le=Pw(Te)===se,Be=Math.abs(pe-Z),ge=uie(Be,Le);xe+=Y*ge}xe!==0&&(m[te]+=xe,M[Z].push({el:te,pol:se,val:xe}))}for(let Z=0;Z<4;Z++){const W=b[Z];if(!W||W.length<2)continue;const de=Ll(W),te=Hc(de);if(!te)continue;let Y=0;const se=Gc(b[Z]),xe=Fc(se);xe&&(Y+=d0[f0(te,xe)]);const ce=Z===0?[1]:Z===3?[2]:[Z-1,Z+1];for(const pe of ce){const Te=Ll(b[pe]),Me=Hc(Te);Me&&(Y+=d0[f0(te,Me)])}const Ne=O[Z].val;if(Ne!==0&&Y!==0){const pe=Math.round(Ne*(1+Y)*10)/10,Te=pe-Ne;m[te]+=Te,O[Z].val=pe}}for(let Z=0;Z<4;Z++){const W=b[Z];if(!W||W.length<2)continue;const de=Gc(W),te=Fc(de);if(!te)continue;let Y=0;const se=Ll(b[Z]),xe=Hc(se);xe&&(Y+=d0[f0(te,xe)]);const ce=Z===0?[1]:Z===3?[2]:[Z-1,Z+1];for(const pe of ce){if(!b[pe]||b[pe].length<2)continue;const Te=Gc(b[pe]),Me=Fc(Te);Me&&(Y+=d0[f0(te,Me)])}const Ne=M[Z].reduce((pe,Te)=>pe+Te.val,0);if(Ne!==0&&Y!==0){const Te=Math.round(Ne*(1+Y)*10)/10-Ne;m[te]+=Te,M[Z].length>0&&(M[Z][0].val+=Te)}}a&&kte(b,m);const N={dae:{stem:.04,branch:.04},se:{stem:.03,branch:.03},wol:{stem:.02,branch:.02},il:{stem:.01,branch:.01}},R=[];if(!(!c||c.tab==="")){let Z=function(W,de){const te=W?Ke(W):"";if(!te||te.length<2)return;const Y=Ll(te),se=Gc(te),xe=Hc(Y),ce=Fc(se),Ne=Math.max(1,(m.??0)+(m.??0)+(m.??0)+(m.??0)+(m.??0)),pe=N[de];if(xe){const Te=Math.round(Ne*pe.stem);m[xe]+=Te,R.push({stem:Y,el:xe,pol:Pw(Y),val:Te})}if(ce){const Te=Math.round(Ne*pe.branch);m[ce]+=Te,R.push({el:ce,pol:Rw(se),val:Te})}};Z(c.dae,"dae"),(c.tab===""||c.tab===""||c.tab==="")&&Z(c.se,"se"),(c.tab===""||c.tab==="")&&Z(c.wol,"wol"),c.tab===""&&Z(c.il,"il")}const $={:0,:0,:0,:0,:0};Object.entries(m).forEach(([Z,W])=>{const de=Q(Z,D);$[de]+=W});const B=["","","","",""],H=tD(B.map(Z=>$[Z])),V=w5(j),z=B.map((Z,W)=>({name:Z,value:H[W],color:V[Z]})),F={:0,:0,:0,:0,:0,:0,:0,:0,:0,:0};function Q(Z,W){return Z===W?"":Iv[W]===Z?"":vm[W]===Z?"":vm[Z]===W?"":F5[W]===Z?"":""}function ee(Z,W){switch(Q(Z,D)){case"":F.+=W*.5,F.+=W*.5;break;case"":F.+=W*.5,F.+=W*.5;break;case"":F.+=W*.5,F.+=W*.5;break;case"":F.+=W*.5,F.+=W*.5;break;case"":F.+=W*.5,F.+=W*.5;break}}Object.entries(m).forEach(([Z,W])=>{W>0&&ee(Z,W)});const be={:{a:"",b:"",aVal:0,bVal:0},:{a:"",b:"",aVal:0,bVal:0},:{a:"",b:"",aVal:0,bVal:0},:{a:"",b:"",aVal:0,bVal:0},:{a:"",b:"",aVal:0,bVal:0}};for(const Z of B){const W=z.find(ce=>ce.name===Z)?.value??0,de=be[Z].a,te=be[Z].b,Y=F[de]??0,se=F[te]??0,xe=Y+se;if(xe>0){const ce=Math.floor(W*Y/xe+.5),Ne=W-ce;be[Z].aVal=ce,be[Z].bVal=Ne}else be[Z].aVal=Math.floor(W/2+.5),be[Z].bVal=W-be[Z].aVal}const{flags:J}=Xre(b,m),le={};O.forEach(Z=>{if(Z.stem&&Z.el&&Z.val){const W=`${Z.stem}${Z.el}`;le[W]=(le[W]??0)+Z.val}});for(let Z=0;Z<4;Z++){const W=b[Z];if(!W||W.length<2)continue;const de=Gc(W),te=y[de],Y=Fc(de);if(!te||!Y)continue;const se=`${te}${Y}`,xe=M[Z].reduce((ce,Ne)=>ce+Ne.val,0);le[se]=(le[se]??0)+xe}const ae=["","","","","","","","","",""],me={};ae.forEach(Z=>{me[Z]=0}),B.forEach(Z=>{const W=z.find(Ne=>Ne.name===Z)?.value??0,de=nD(Z,D),te=Object.entries(le).filter(([Ne])=>Ne.endsWith(de)),Y=te.map(([Ne])=>Ne),se=te.map(([,Ne])=>Ne),xe=Math.max(0,Math.round(W*10)),ce=fie(se.length?se:[1,1],xe);if(Y.length===2)me[Y[0]]=(ce[0]??Math.round(xe/2))/10,me[Y[1]]=(ce[1]??xe-(ce[0]??0))/10;else if(Y.length===1)me[Y[0]]=xe/10;else{const Ne=de===""?["",""]:de===""?["",""]:de===""?["",""]:de===""?["",""]:["",""],pe=Math.floor(xe/2),Te=xe-pe;me[Ne[0]]+=pe/10,me[Ne[1]]+=Te/10}});const ne=["","","","",""],q={:0,:0,:0,:0,:0};for(const Z of z){const W=nD(Z.name,D);q[W]+=Z.value}const K=tD(ne.map(Z=>q[Z])),X={:K[0],:K[1],:K[2],:K[3],:K[4]};return i&&console.log({elementScore:m,totals:z,perTenGod:be,perStemRaw:le,perStemElementScaled:me,elementPercent100:X}),{overlay:{totalsSub:F,perStemAugBare:le,perStemAugFull:me},totals:z,perTenGod:be,PerTenGodSub:F,stemScoreRaw:p,elementScoreRaw:m,deukFlags:J,perStemElement:le,perStemElementScaled:me,elementPercent100:X}}function hie(e){const t=e.reduce((c,d)=>c+d,0);if(t<=0)return e.map(()=>0);const n=e.map(c=>c*100/t),r=n.map(c=>Math.round(c));let a=100-r.reduce((c,d)=>c+d,0);const s=n.map((c,d)=>({i:d,f:c-Math.round(c)})).sort((c,d)=>d.f-c.f);for(let c=0;c<s.length&&a>0;c++)r[s[c].i]+=1,a-=1;return r}const rD=["","","","",""];function mie(e,t){const n=[Ke(e[0]??""),Ke(e[1]??""),Ke(e[2]??""),Ke(e[3]??"")],{elementScoreRaw:r}=sE({pillars:n,criteriaMode:t?.criteriaMode??"modern",useHarmonyOverlay:t?.useHarmonyOverlay??!0,luck:void 0}),i=rD.map(c=>r[c]??0),a=hie(i),s={:0,:0,:0,:0,:0};return rD.forEach((c,d)=>{s[c]=a[d]}),s}function G5(e,t){const n=mie(e,t),r=Ke(e[2]??"").charAt(0),a={:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}[r];if(!a)return 0;const s={:"",:"",:"",:"",:""},c=n[a]??0,d=n[s[a]]??0;return c+d*.7}const h0={:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},m0={:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},p0={:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},pie=["","","","",""];function iD(e){return pie.includes(e)}const gie={:"",:"",:"",:"",:""},vie={:"",:"",:"",:"",:""},yie={:"",:"",:"",:"",:""},bie={:"",:"",:"",:"",:""},lE={:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},_ie=["","","","","","","","","",""],xie={natal:50,dae:30,se:20,wol:7,il:3};function $v(e){if(!e)return null;const t=e.trim();if(["","","","","","","","","",""].includes(t))return t;if(h0[t])return h0[t];if(["","","","","","","","","","","",""].includes(t))return p0[t]??null;if(m0[t])return p0[m0[t]]??null;const n=t.charAt(0);return h0[n]?h0[n]:["","","","","","","","","",""].includes(n)?n:m0[n]?p0[m0[n]]??null:["","","","","","","","","","","",""].includes(n)?p0[n]??null:null}function wie(e,t){const n=lE[e],r=lE[t];if(!n||!r)return"";let i;r===n?i="":r===gie[n]?i="":r===vie[n]?i="":r===yie[n]?i="":r===bie[n]?i="":i="";const a=iD(e)===iD(t);switch(i){case"":return a?"":"";case"":return a?"":"";case"":return a?"":"";case"":return a?"":"";case"":return a?"":""}}function Bv(e){const t=Object.entries(e),n=t.reduce((f,[,m])=>f+(m>0?m:0),0);if(n<=0)return Object.fromEntries(t.map(([f])=>[f,0]));const r=t.map(([f,m])=>[f,(m>0?m:0)*100/n]),i=r.map(([f,m])=>[f,Math.round(m)]);let a=i.reduce((f,[,m])=>f+m,0);const s=r.map(([f,m])=>[f,m-Math.round(m)]).sort((f,m)=>m[1]-f[1]),c=Object.fromEntries(i.map(([f,m])=>[f,m]));let d=0;for(;a<100&&d<s.length;)c[s[d][0]]+=1,a+=1,d+=1;return c}function aD(e,t){const n={:0,:0,:0,:0,:0,:0,:0,:0,:0,:0};for(const[r,i]of Object.entries(e??{})){if(i<=0)continue;const a=$v(r);if(!a)continue;const s=wie(t,a);n[s]+=i}return Bv(n)}function Sie(e){return{:{a:"",b:"",aVal:e.,bVal:e.},:{a:"",b:"",aVal:e.,bVal:e.},:{a:"",b:"",aVal:e.,bVal:e.},:{a:"",b:"",aVal:e.,bVal:e.},:{a:"",b:"",aVal:e.,bVal:e.}}}function oD(e){const t={};for(const[n,r]of Object.entries(e??{})){if(r<=0)continue;const i=$v(n);i&&(t[i]=(t[i]??0)+r)}return t}function sD(e){const n={...{:0,:0,:0,:0,:0,:0,:0,:0,:0,:0}};for(const r of _ie){const i=lE[r],a=`${r}${i}`;n[a]=Math.max(0,Math.round(e[r]??0))}return n}function lD(e){const t=["","","","",""],n={:0,:0,:0,:0,:0};for(const r of t)typeof e[r]=="number"&&(n[r]=e[r]);return n}function Eie(e,t){const n=t?.dae?g0(t.dae):{},r=t?.se?g0(t.se):{},i=t?.wol?g0(t.wol):{},a=t?.il?g0(t.il):{},s={},c=[{kind:"natal",bare:e},{kind:"dae",bare:n},{kind:"se",bare:r},{kind:"wol",bare:i},{kind:"il",bare:a}];for(const{kind:f,bare:m}of c){const p=xie[f];if(!m||Object.keys(m).length===0)continue;const y=Bv(m);for(const[b,x]of Object.entries(y))s[b]=(s[b]??0)+x*p}const d=Object.values(s).reduce((f,m)=>f+m,0);if(d>0)for(const f of Object.keys(s))s[f]=s[f]/d*100;return s}function Aie(e){if(!e)return[];const t=$v(e.charAt(0)),n=$v(e.charAt(1));return[t,n].filter(Boolean)}function g0(e){const t=Aie(e),n={};for(const r of t)n[r]=(n[r]??0)+1;return n}function q5(e){const{natal:t,tab:n,chain:r,hourKey:i="unified"}=e,a=[Ke(t[0]??""),Ke(t[1]??""),Ke(t[2]??""),Ke(t[3]??"")],s=a[2]?.charAt(0)??"",{hiddenStemMode:c,hiddenStem:d}=ou,f=c==="classic"?"classic":"hgc",m=r?{tab:n,dae:r.dae?Ke(r.dae):void 0,se:(n===""||n===""||n==="")&&r.se?Ke(r.se):void 0,wol:(n===""||n==="")&&r.wol?Ke(r.wol):void 0,il:n===""&&r.il?Ke(r.il):void 0}:{tab:n},p=sE({pillars:a,dayStem:s,mode:f,criteriaMode:"modern",useHarmonyOverlay:!0,luck:m}),y=sE({pillars:a,dayStem:s,mode:f,criteriaMode:"modern",useHarmonyOverlay:!0,luck:{tab:"",dae:void 0,se:void 0,wol:void 0,il:void 0}}),b=oD(p.perStemElementScaled),x=n===""?b:Eie(b,r),T=Bv(x),S=aD(x,s),j=Sie(S),D=sD(T),O=oD(y.perStemElementScaled),M=aD(O,s),N=Bv(O),R=sD(N);return{elementScoreRaw:p.elementScoreRaw,elementPercent100:p.elementPercent100,totals:p.totals,perStemElementScaled:p.perStemElementScaled,dayStem:s,mergedStems:T,perTenGodSub:S,perTenGod:j,overlay:{totalsSub:S,perStemAugBare:x,perStemAugFull:D},natalFixed:{elementScoreRaw:lD(y.elementScoreRaw),elementPercent100:lD(y.elementPercent100),totalsSub:M,overlay:{totalsSub:M,perStemAugBare:O,perStemAugFull:R}}}}const Pa={:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},Go={:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},Tie={:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""};function Ra(e){return["","","","",""].includes(e)}function kie(e){return["","","","","",""].includes(e)}const Y5={:"",:"",:"",:"",:""},OA={:"",:"",:"",:"",:""},K5={:"",:"",:"",:"",:""},W5={:"",:"",:"",:"",:""},Lw=e=>({:"",:"",:"",:"",:"",:"",:"",:"",:"",:""})[e]??e,Ca=e=>e&&e.length>=1?e.charAt(0):"",Yn=e=>e&&e.length>=2?e.charAt(1):"",Oie=e=>Array.from(new Set(e)),jie={:{:{stem:"",w:10},:{stem:"",w:20}},:{:{stem:"",w:9},:{stem:"",w:3},:{stem:"",w:18}},:{:{stem:"",w:10},:{stem:"",w:7},:{stem:"",w:16}},:{:{stem:"",w:9},:{stem:"",w:20}},:{:{stem:"",w:7},:{stem:"",w:3},:{stem:"",w:18}},:{:{stem:"",w:10},:{stem:"",w:7},:{stem:"",w:16}},:{:{stem:"",w:10},:{stem:"",w:9},:{stem:"",w:11}},:{:{stem:"",w:9},:{stem:"",w:3},:{stem:"",w:18}},:{:{stem:"",w:10},:{stem:"",w:7},:{stem:"",w:16}},:{:{stem:"",w:9},:{stem:"",w:20}},:{:{stem:"",w:7},:{stem:"",w:3},:{stem:"",w:18}},:{:{stem:"",w:16},:{stem:"",w:7},:{stem:"",w:16}}},Nie={:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""};function Cie(e,t){const n=Nie[e];if(!n)return!1;const i=yo(t).find(c=>c.name===n);if(!i)return!1;const a=new Date(i.date);return Math.floor((t.getTime()-a.getTime())/(1e3*60*60*24))<=12}const Mie={:["","",""],:["","",""],:["","",""],:["","",""]};function Die(e,t){const n=Mie[e];return n?n.filter(r=>r!==e).every(r=>t.includes(r)):!1}function fo(e,t){const n=Pa[e],r=Pa[t];if(!n||!r)return"";let i;r===n?i="":r===Y5[n]?i="":r===OA[n]?i="":r===K5[n]?i="":r===W5[n]?i="":i="";const a=Ra(e)===Ra(t);switch(i){case"":return a?"":"";case"":return a?"":"";case"":return a?"":"";case"":return a?"":"";case"":return a?"":""}}function Pie(e,t){const n=Pa[e],r=Go[t];if(!n||!r)return"";let i;r===n?i="":r===Y5[n]?i="":r===OA[n]?i="":r===K5[n]?i="":r===W5[n]?i="":i="";const a=Ra(e)===kie(t);switch(i){case"":return a?"":"";case"":return a?"":"";case"":return a?"":"";case"":return a?"":"";case"":return a?"":""}}function Rie(e){return{:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}[e]??""}function cE(e,t){const n=Rie(e),r=Ra(e),i={:"",:"",:"",:"",:""},a={:"",:"",:"",:"",:""};let s;t===n?s="":i[n]===t?s="":i[t]===n?s="":a[n]===t?s="":a[t]===n?s="":s="";const c=r===Ra(Lie(t));switch(s){case"":return c?"":"";case"":return c?"":"";case"":return c?"":"";case"":return c?"":"";case"":return c?"":""}}function Lie(e){return{:"",:"",:"",:"",:""}[e]}const Iw={:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},V5={:"",:"",:"",:"",:""},Z5={:"",:"",:"",:""},Iie=[{a:"",b:"",to:""},{a:"",b:"",to:""},{a:"",b:"",to:""},{a:"",b:"",to:""},{a:"",b:"",to:""}],$ie=e=>{const t={:0,:0,:0,:0,:0};for(const n of e){const r=Ca(n),i=Yn(n),a=Pa[r],s=Go[i];a&&(t[a]+=10),s&&(t[s]+=6)}return t};function Bie(e){const{pillars:t,dayStem:n,monthBranch:r,mapping:i}=e,[a,s,c,d]=(t??[]).slice(0,4),f=[Ca(a),Ca(s),Ca(c),Ca(d)].filter(Boolean),m=[Yn(a),Yn(s),Yn(c),Yn(d)].filter(Boolean),p=Pa[n],y=f.map(he=>fo(n,he)),b=[],x=he=>f.filter($e=>$e===he).length,T=he=>m.filter($e=>$e===he).length,S=he=>he.every($e=>m.includes($e)),j=he=>y.some($e=>he.includes($e)),D=Ca(s),O=he=>Ra(he),M=()=>{const he=f.map($e=>Pa[$e]);return he.length===4&&he.every($e=>$e===he[0])},N=()=>{if(f.length!==4)return!1;const he=f.map(O),$e=he[0]&&!he[1]&&he[2]&&!he[3],ze=!he[0]&&he[1]&&!he[2]&&he[3];return $e||ze};Ra(n)&&V5[n]===r&&b.push("");const R=[["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""]];for(const[he,$e]of R)if(n===he&&r===$e){b.push("");break}!Ra(n)&&Z5[n]===r&&b.push("");const $=Iw[n];$&&Yn(c)===$&&p===Go[Yn(c)]&&b.push(""),$&&Yn(d)===$&&p===Go[Yn(d)]&&b.push("");const B=[a,s,c,d].map(Kie),H=[a,s,c,d].map(Wie);for(const he of B);for(const he of H);const V=i==="hgc"?By:$y;function z(he){return(V[he]??[]).filter($e=>["","","","","","","","","",""].includes($e))}const F=[a,s,c,d].filter(Boolean),ee=F.flatMap(he=>[he.charAt(0),he.charAt(1)]).flatMap(he=>{try{if(["","","","","","","","","",""].includes(he))return[fo(n,he)];if(["","","","","","","","","","","",""].includes(he)){const $e=Pie(n,he),ze=z(he).map(He=>fo(n,He));return[$e,...ze]}return[]}catch{return[]}}),be=he=>ee.some($e=>he.includes($e)),J=(he,$e)=>{const ze=[],He=[];for(const yt of F){const qt=yt.charAt(0),yn=yt.charAt(1);ze.push(fo(n,qt));const bn=Go[yn];bn?He.push(cE(n,bn)):He.push(null)}const dt=(yt,qt)=>!!yt&&!!qt&&(he.includes(yt)&&$e.includes(qt)||$e.includes(yt)&&he.includes(qt));for(let yt=0;yt<ze.length;yt++)if(dt(ze[yt],He[yt]))return!0;for(let yt=0;yt<ze.length-1;yt++)if(dt(ze[yt],ze[yt+1])||dt(He[yt],He[yt+1]))return!0;return!1},le={:["",""],:["",""],:["",""],:["",""]};be([...le.])&&be([...le.])&&J([...le.],[...le.])&&b.push(""),be([...le.])&&be([...le.])&&J([...le.],[...le.])&&b.push("");const ae=he=>y.filter($e=>he.includes($e)).length,me=ae(["",""]),ne=ae([""]),q=ae([""]),K=ae(["",""]),X=ae(["",""]),ie=ae(["",""]);ne>=1&&me>=1&&me>=ne&&q<=ne&&b.push("");const Z=ae([""]);Z>=1&&K>=1&&Z>=K&&b.push(""),y.includes("")&&K>=1&&b.push("");const de=$ie(t),te=Object.entries(de).sort((he,$e)=>$e[1]-he[1]),Y=te[0];if(Y&&Y[1]>=60&&b.push(`(${Y[0]})`),te.length>=2){const[he,$e]=te[0],[,ze]=te[1];$e>=75&&$e-ze>=12&&p!==he&&b.push(`(${he})`)}for(const he of Iie){const $e=f.includes(he.a),ze=f.includes(he.b);if(!$e||!ze)continue;const He=he.to,dt=de[He]??0,yt=Pa[he.a],qt=Pa[he.b],yn=Math.max(de[yt]??0,de[qt]??0),bn=Go[r]===He,gi=Object.entries(de).sort((Ut,fn)=>fn[1]-Ut[1])[0]?.[0]===He;let Wn=!1;dt>=60&&(bn||gi)&&yn<=20&&dt-yn>=20&&(b.push(`(${He})`),Wn=!0),!Wn&&dt>=50&&(bn||gi)&&yn<=25&&(b.push(`(${He})`),Wn=!0),!Wn&&dt>=35&&b.push(`(${He})`)}const se=`${Ca(d)}${Yn(d)}`;["",""].includes(n)&&["","",""].includes(se)&&b.push(""),["","","",""].includes(Yn(d))&&b.push(""),["",""].includes(n)&&(Yn(c)===""||Yn(s)==="")&&!m.includes("")&&b.push("");const xe=f.some(he=>he===""||he===""),ce=m.some(he=>he===""||he==="");["",""].includes(Yn(c))&&!xe&&!ce&&b.push(""),["","",""].every(he=>f.includes(he))&&b.push(""),["","",""].every(he=>f.includes(he))&&b.push(""),["","",""].every(he=>f.includes(he))&&b.push("");const Ne=Object.values(de).sort((he,$e)=>$e-he);Ne.length>=3&&Ne[0]-Ne[2]<=8&&Ne[0]+Ne[1]+Ne[2]>=80&&b.push(""),X>=1&&ie>=1&&Math.abs(X-ie)<=1&&b.push(""),S(["","","",""])&&b.push(""),S(["","","",""])&&b.push(""),S(["","","",""])&&b.push(""),m.length===4&&m.every(he=>he===m[0])&&b.push(""),f.length===4&&M()&&N()&&b.push(""),t.every(he=>he&&he===t[0])&&b.push(""),f.length===4&&f.every(he=>he===f[0])&&m.length===4&&m.every(he=>he===m[0])&&b.push(""),me>=1&&(Yn(c)===Iw[n]||Yn(d)===Iw[n])&&b.push(""),x("")>=3&&S(["","",""])&&["","",""].includes(Yn(c))&&b.push("");const Te=n===""||n==="",Me=[["","",""],["","",""]],Le=[["","",""],["","",""]];Te&&(Me.some(he=>S(he))||Le.some(he=>S(he)))&&b.push("");const Be=new Set(["","","","","",""]),ge=`${Ca(c)}${Yn(c)}`;if(Be.has(ge)&&T("")>=2&&(j(["",""])||m.includes("")||m.includes("")||j(["",""])||b.push("")),new Set(["","","","","",""]).has(ge)&&T("")>=2&&m.includes("")&&b.push(""),n===""&&`${Ca(d)}${Yn(d)}`==""){const he=fo(n,D);!["","","",""].includes(he)&&j(["",""])&&!m.includes("")&&!m.includes("")&&b.push("")}return new Set(["","",""]).has(ge)&&`${Ca(d)}${Yn(d)}`==""&&!m.includes("")&&!j(["",""])&&b.push(""),ge===""&&T("")+T("")>=2&&b.push(""),(ge===""||ge==="")&&T("")>=2&&!j(["",""])&&!m.includes("")&&b.push(""),n===""&&S(["","",""])&&b.push(""),ge===""&&`${Ca(d)}${Yn(d)}`==""&&b.push(""),Oie(b)}function zie(e){const{dayStem:t,monthBranch:n,date:r,pillars:i,emittedStems:a=[],otherBranches:s=[],isNeutralized:c,mapping:d}=e,f=[],m=jie[n];if(!m)return{:"-",:"-",:"-",:"-",:"-",:[],reason:["  "]};const p={:m.?{stem:Lw(m..stem),w:m..w}:void 0,:m.?{stem:Lw(m..stem),w:m..w}:void 0,:{stem:Lw(m..stem),w:m..w}},y=p..stem;let b=y;if(["","","",""].includes(n))b=p..stem,f.push(":   ");else if(["","","",""].includes(n)){const B=[];p.&&B.push({from:"",stem:p..stem,w:p..w,emitted:a.includes(p..stem)}),p.&&B.push({from:"",stem:p..stem,w:p..w,emitted:a.includes(p..stem)}),B.push({from:"",stem:p..stem,w:p..w,emitted:a.includes(p..stem)});const H=B.filter(V=>V.emitted);H.length===1?(b=H[0].stem,f.push(`: ${H[0].from}  `)):H.length>1?(H.sort((V,z)=>z.w-V.w),b=H[0].stem,f.push(`:      ${H[0].from} `)):(b=p..stem,f.push(":    "))}else["","","",""].includes(n)&&(Die(n,s)&&p.?(b=p..stem,f.push(":     ")):Cie(n,r)&&p.?(b=p..stem,f.push(":  +12    ")):(b=p..stem,f.push(":  +12    ")));const x=b;let T="";const S=Pa[x];if(S){const B=Object.entries(OA).find(([,H])=>H===S)?.[0]??null;B&&(T=Object.entries(Pa).find(([V,z])=>z===B&&Ra(V)===Ra(x))?.[0]??"")}c?.(x)&&f.push(":   / ");let j="-";const D=fo(t,x),M=[["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""]].some(([B,H])=>B===t&&H===n),N=Ra(t)&&V5[t]===n,R=!Ra(t)&&Z5[t]===n;D===""||D===""?M?(j="",f.push(": /   ")):N?(j="",f.push(":    ")):R?(j="",f.push(":    ")):f.push(": /  "):D===""?j="()":j={:"",:"",:"",:"",:"",:"",:"",:""}[D]??"-";const $=Bie({pillars:i,dayStem:t,monthBranch:n,mapping:d});return{:y,:b,:x,:T,:j,:$,reason:f}}const Ie=(e,t)=>`${e}+${t}`,li=(e,t,n)=>`${e}+${t}+${n}`,Uie={[Ie("","")]:[""],[li("","","")]:void 0,[Ie("","")]:["",""],[Ie("","")]:["",""],[Ie("","")]:[""],[Ie("","")]:[""],[Ie("","")]:[""],[Ie("","")]:["",""],[Ie("","")]:[""],[Ie("","")]:[""],[Ie("","")]:[""],[li("","","")]:["",""],[Ie("","")]:[""],[Ie("","")]:[""],[Ie("","")]:[""],[Ie("","")]:[""],[Ie("","")]:[""],[Ie("","")]:[""],[Ie("","")]:[""],[Ie("","")]:[""],[Ie("","")]:[""],[Ie("","")]:[""],[Ie("","")]:[""],[Ie("","")]:[""],[Ie("","")]:[""],[Ie("","")]:[""],[Ie("","")]:[""],[Ie("","")]:[""],[Ie("","")]:[""],[Ie("","")]:[""],[Ie("","")]:[""],[Ie("","")]:[""],[Ie("","")]:[""],[Ie("","")]:[""],[Ie("","")]:[""],[Ie("","")]:[""],[Ie("","")]:[""],[Ie("","")]:[""],[Ie("","")]:[""],[Ie("","")]:[""],[Ie("","")]:[""],[Ie("","")]:[""],[Ie("","")]:[""],[Ie("","")]:[""],[Ie("","")]:[""],[Ie("","")]:[""],[Ie("","")]:[""],[Ie("","")]:[""],[Ie("","")]:[""],[Ie("","")]:[""],[Ie("","")]:[""],[Ie("","")]:[""],[Ie("","")]:[""],[Ie("","")]:[""],[Ie("","")]:[""],[Ie("","")]:[""],[Ie("","")]:[""],[Ie("","")]:[""],[Ie("","")]:[""],[Ie("","")]:[""],[Ie("","")]:[""],[Ie("","")]:["",""],[Ie("","")]:["",""],[Ie("","")]:[""],[Ie("","")]:["",""],[Ie("","")]:["",""],[Ie("","")]:["",""],[Ie("","")]:[""],[Ie("","")]:[""],[Ie("","")]:["",""],[Ie("","")]:[""],[Ie("","")]:[""],[Ie("","")]:[""],[Ie("","")]:[""],[Ie("","")]:[""],[Ie("","")]:[""],[Ie("","")]:[""],[Ie("","")]:[""],[Ie("","")]:[""],[Ie("","")]:[""],[Ie("","")]:[""],[Ie("","")]:[""],[Ie("","")]:[""],[Ie("","")]:[""],[Ie("","")]:[""],[Ie("","")]:[""],[Ie("","")]:[""],[Ie("","")]:[""],[Ie("","")]:[""],[Ie("","")]:[""],[Ie("","")]:["",""],[Ie("","")]:[""],[Ie("","")]:[""],[Ie("","")]:[""],[Ie("","")]:[""],[Ie("","")]:[""],[Ie("","")]:[""],[Ie("","")]:[""],[Ie("","")]:[""],[Ie("","")]:[""],[Ie("","")]:[""]},Hie={[li("","","")]:[""],[li("","","")]:[""],[li("","","")]:[""],[li("","","")]:[""],[li("","","")]:[""],[li("","","")]:[""],[li("","","")]:[""],[li("","","")]:[""],[li("","","")]:[""],[li("","","")]:[""],[li("","","")]:["",""]};function Fie(){const e={},t={},n=/[]/g;for(const[r,i]of Object.entries(Uie)){if(!i)continue;const a=r.match(n);if(!a||a.length<2)continue;const[s,c]=a;e[r]=i.map(d=>`${s}X${c}_${d}`)}for(const[r,i]of Object.entries(Hie)){if(!i)continue;const a=r.match(n);if(!a||a.length<3)continue;const[s,c,d]=a;t[r]=i.map(f=>`${s}X${c}X${d}_${f}`)}return{newPairs:e,newTris:t}}const{newPairs:$w,newTris:Bw}=Fie();function Gie(e){const[t,n,r,i]=e,a=b=>Ca(b),s=a(i),c=a(r),d=a(n),f=a(t),m=[],p=[[s,c],[c,d],[d,f]];for(const[b,x]of p){if(!b||!x)continue;const T=Ie(b,x),S=$w[T];S&&S.length&&m.push(...S);const j=Ie(x,b);j!==T&&$w[j]&&m.push(...$w[j])}const y=[[s,c,d],[c,d,f]];for(const[b,x,T]of y){if(!b||!x||!T)continue;const S=li(b,x,T),j=Bw[S];j&&j.length&&m.push(...j);const D=li(T,x,b);D!==S&&Bw[D]&&m.push(...Bw[D])}return Array.from(new Set(m))}const qie={:!0,:!1,:!0,:!1,:!0,:!1,:!0,:!1,:!0,:!1},Yie={:"",:"",:"",:"",:"",:"",:"",:"",:"",:""};function Kie(e){return e?.charAt(0)??""}function Wie(e){return e?.charAt(1)??""}function Vie(e,t,n){const[r,i,a,s]=(e??[]).slice(0,4),c=ue=>(ue?.length??0)>=1?ue.charAt(0):"",d=ue=>(ue?.length??0)>=2?ue.charAt(1):"",f=[r,i,a,s].map(c).filter(Boolean),m=[r,i,a,s].map(d).filter(Boolean),p=c(a),y=qie[p]??!1,b=new Set,x=t==="classic"?$y:By,T=new Set(["","","","","","","","","",""]),S=ue=>(x[ue]??[]).filter(he=>T.has(he)),j=(ue,he)=>{const $e=Go[he];if(!$e)throw new Error(`Unknown branch main element: ${he}`);return cE(ue,$e)},D={:0,:0,:0,:0,:0};for(const ue of f){const he=Pa[ue];he&&(D[he]+=10)}const O=[];for(const ue of m){const he=Tie[ue];he&&O.push(he);const $e=Go[ue];$e&&(D[$e]+=6)}const N=[...f,...O].map(ue=>fo(p,ue)),R={:["",""],:["",""],:["",""],:["",""],:["",""]},$=ue=>N.filter(he=>he===ue).length,B=ue=>N.filter(he=>R[ue].includes(he)).length,H=m[1],V=!!p&&Yie[p]===H,z=n.elementPercent100;z.>=20&&z.>=20&&z.>=15&&b.add("");const F=[r,i,a,s].filter(Boolean),Q=[];for(const ue of F){const he=ue.charAt(0),$e=ue.charAt(1);Q.push(fo(p,he)),Q.push(j(p,$e))}const ee=(ue,he)=>{const $e=(ze,He)=>!!ze&&!!He&&ue.includes(ze)&&he.includes(He)||he.includes(ze)&&ue.includes(He);for(let ze=0;ze+1<Q.length;ze+=2)if($e(Q[ze],Q[ze+1]))return!0;return!1},be=ue=>Q.some(he=>ue.includes(he)),J=$("")+$(""),le=$(""),ae=B(""),me=B(""),ne=ee(["",""],["",""]);if((le>=1||J>=2)&&ae>=1&&J>ae&&me<=1&&ne&&b.add(""),be(R.)&&be(R.)&&ee(R.,R.)){const ue=N.includes("");b.add(ue?"":"")}B("")>=2&&B("")>=2&&Math.abs(B("")-B(""))<=1&&B("")<=1&&B("")<=1&&b.add("");const q=$(""),K=$(""),X=$("")+$(""),ie=$("")+$(""),Z=B("");K>=2&&X>=1&&D.+D.>=20&&b.add(""),K>=2&&ie>=1&&D.+D.>=20&&b.add(""),K>=2&&ie>=1&&D.+D.>=20&&ee([""],["",""])&&Z<=1&&b.add(""),q>=2&&ie>=1&&D.+D.>=20&&ee([""],["",""])&&Z<=1&&b.add("");const W=(ue,he)=>{const $e=Pa[ue],ze=Go[he];return!!$e&&!!ze&&$e===ze},de=[r,i,a,s].filter(Boolean),te=d(a),Y=W(p,te),se=de.map(ue=>ue.charAt(0)).filter(ue=>["",""].includes(fo(p,ue)));let xe=!1;for(const ue of de){const he=ue.charAt(0),$e=ue.charAt(1);if(se.includes(he)&&W(he,$e)){xe=!0;break}}Y&&xe&&b.add(""),B("")>=3&&B("")>=.5*(B("")+B("")+B("")+B(""))&&b.add(""),B("")>=3&&B("")>=.5*(B("")+B("")+B("")+B(""))&&b.add(""),B("")>=3&&B("")>=1&&b.add(""),B("")>=3&&B("")+B("")<=1&&b.add("");const ce=$("");B("")+B("")>=2&&ce===1&&B("")>=1&&b.add(""),ce>=2&&X+B("")>=3&&b.add("");const Ne=q+K;(q>=2||Ne>=2)&&ie>=1&&Ne>ie&&b.add(""),K>=2&&ie>=1&&Ne>ie&&b.add("");const pe=$(""),Te=$("");pe>=2&&ce+Te>=1&&b.add(""),pe>=2&&ce+Te===0&&b.add(""),y&&pe>=2&&ce>=1&&b.add(""),!y&&pe>=2&&ce>=1&&b.add(""),$("")>=2&&$("")>=1&&b.add(""),$("")>=1&&$("")>=1&&ee([""],[""])&&b.add(""),V&&ce>=1&&B("")+B("")>=2&&b.add("");const Me=[d(r),d(i),d(a),d(s)].filter(Boolean),Le=[r?.charAt(0),i?.charAt(0),s?.charAt(0)].filter(Boolean),Be=new Set(Le.map(ue=>fo(p,ue))),ge=new Set(Me.flatMap(ue=>{const he=Go[ue];return he?[cE(p,he)]:[]})),Ue=new Set(Me.flatMap(ue=>S(ue).map(he=>fo(p,he))));return["","","","",""].forEach(ue=>{const he=R[ue],$e=he.some(dt=>Be.has(dt)),ze=he.some(dt=>ge.has(dt)),He=he.some(dt=>Ue.has(dt));!$e&&!ze&&!He?b.add(`${ue}`):!$e&&!ze&&He&&b.add(`${ue}`)}),Array.from(b)}function Zie(e){const{pillars:t,tab:n,birthDate:r,emittedStems:i,otherBranches:a,isNeutralized:s,mapping:c,unified:d}=e,[f,m,p,y]=t,b=ee=>ee&&ee.length>=1?ee.charAt(0):"",x=ee=>ee&&ee.length>=2?ee.charAt(1):"",T=x(m),S=b(p),j=r instanceof Date&&!Number.isNaN(r.getTime())?r:new Date,D=[b(f),b(m),b(p),b(y)].filter(ee=>!!(ee&&ee.length===1)),O=[x(f),x(p),x(y)].filter(ee=>!!(ee&&ee.length===1)),M=zie({dayStem:S,monthBranch:T,date:j,pillars:t,emittedStems:i??D,otherBranches:a??O,isNeutralized:s,mapping:c}),N=[` : ${M.||"-"}`,` : ${M.||"-"}`,` : ${M.||"-"}`,` : ${M.||"-"}`],R=[` : ${M.||"-"}`],$=Array.isArray(M.)&&M..length>0?M..map(ee=>` : ${ee}`):[" : -"],B=Gie(t),H=[...B.length?B.map(ee=>`${ee}`):[]],z=[...Vie(t,c,d)],F=({text:ee,color:be})=>{const J={violet:"bg-violet-100 text-violet-800 border-violet-200 dark:bg-violet-900/30 dark:text-violet-200 dark:border-violet-800",amber:"bg-amber-100 text-amber-800 border-amber-200 dark:bg-amber-900/30 dark:text-amber-200 dark:border-amber-800",blue:"bg-blue-100 text-blue-800 border-blue-200 dark:bg-blue-900/30 dark:text-blue-200 dark:border-blue-800",green:"bg-green-100 text-green-800 border-green-200 dark:bg-green-900/30 dark:text-green-200 dark:border-green-800",red:"bg-red-100 text-red-800 border-red-200 dark:bg-red-900/30 dark:text-red-200 dark:border-red-800"};return _.jsx("span",{className:`inline-block text-xs px-2 py-1 rounded-full border whitespace-nowrap ${J[be]}`,title:ee,children:ee})},Q=({children:ee})=>_.jsx("li",{className:"!flex flex-wrap gap-1 border border-gray-700 dark:border-gray-200 p-2 rounded-sm",children:ee});return _.jsxs("div",{className:"p-4 rounded-xl bg-neutral-100 dark:bg-neutral-900 space-y-3 text-sm","data-revkey":`gyeok:${n}|${t.join("")}|${N.join(",")}|${R.join(",")}|${$.join(",")}`,children:[_.jsx("div",{className:"font-bold text-base",children:"   "}),_.jsxs("ul",{className:"space-y-1",children:[_.jsx(Q,{children:N.map(ee=>_.jsx(F,{text:ee,color:"violet"},ee))}),_.jsx(Q,{children:R.map(ee=>_.jsx(F,{text:ee,color:"amber"},ee))}),_.jsx(Q,{children:$.map(ee=>_.jsx(F,{text:ee,color:"blue"},ee))}),_.jsx(Q,{children:H.map(ee=>_.jsx(F,{text:ee,color:"green"},ee))}),_.jsx(Q,{children:z.map(ee=>_.jsx(F,{text:ee,color:"red"},ee))})]}),M.reason.length>0&&_.jsxs("div",{className:"mt-2 text-xs text-neutral-600 dark:text-neutral-400",children:[" ",M.reason.join(" / ")]})]})}const Dd={:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},Pd={:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},Jd={:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},X5={:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},v0={:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},Xie=["","","","",""];function cD(e){return Xie.includes(e)}const Jie={:"",:"",:"",:"",:""},Qie={:"",:"",:"",:"",:""},eae={:"",:"",:"",:"",:""},tae={:"",:"",:"",:"",:""};function ym(e){if(!e)return null;const t=e.trim();if(["","","","","","","","","",""].includes(t))return t;if(Dd[t])return Dd[t];if(["","","","","","","","","","","",""].includes(t))return v0[t]??null;if(Pd[t])return v0[Pd[t]]??null;const n=t.charAt(0);return Dd[n]?Dd[n]:["","","","","","","","","",""].includes(n)?n:Pd[n]?v0[Pd[n]]??null:["","","","","","","","","","","",""].includes(n)?v0[n]??null:null}function nae(e,t){const n=Jd[e],r=Jd[t];if(!n||!r)return"";let i;r===n?i="":r===Jie[n]?i="":r===Qie[n]?i="":r===eae[n]?i="":r===tae[n]?i="":i="";const a=cD(e)===cD(t);switch(i){case"":return a?"":"";case"":return a?"":"";case"":return a?"":"";case"":return a?"":"";case"":return a?"":""}}function rae(e){switch(e){case"":case"":return"";case"":case"":return"";case"":case"":return"";case"":case"":return"";case"":case"":return""}}function rb(e){const t=Object.entries(e),n=t.reduce((f,[,m])=>f+(m>0?m:0),0);if(n<=0)return Object.fromEntries(t.map(([f])=>[f,0]));const r=t.map(([f,m])=>[f,(m>0?m:0)*100/n]),i=r.map(([f,m])=>[f,Math.floor(m)]);let a=i.reduce((f,[,m])=>f+m,0);const s=r.map(([f,m])=>[f,m-Math.floor(m)]).sort((f,m)=>m[1]-f[1]),c=Object.fromEntries(i.map(([f,m])=>[f,m]));let d=0;for(;a<100&&d<s.length;)c[s[d][0]]+=1,a+=1,d+=1;return c}function iae(e){const t={:0,:0,:0,:0,:0};for(const[n,r]of Object.entries(e??{})){const i=Jd[ym(n)];i&&r>0&&(t[i]+=r)}return rb(t)}function aae(e,t){const n={:0,:0,:0,:0,:0,:0,:0,:0,:0,:0};for(const[r,i]of Object.entries(e??{})){if(i<=0)continue;const a=ym(r);if(!a)continue;const s=nae(t,a);n[s]+=i}return n}function oae(e){const t={:0,:0,:0,:0,:0};for(const[n,r]of Object.entries(e)){const i=rae(n);t[i]+=r}return rb(t)}function zw(e){if(!e)return"";const t=e.replace(/[()[\]{}]/g,"").replace(/\s+/g,"").replace(/[:\-_.]/g,""),n=t.match(/([]).*?([])/);if(n)return`${n[1]}${n[2]}`;const r=t.match(/([]).*?([])/);return r?`${Dd[r[1]]}${Pd[r[2]]}`:""}function uD(e){const t=Array.isArray(e)?e.slice(0,4):[];for(;t.length<4;)t.push("");return t.map((n,r)=>{if(!n)return"";const i=n.replace(/[()[\]{}]/g,"").replace(/\s+/g,"").replace(/[:\-_.]/g,""),a=i.match(/([]).*?([])/);if(a)return`${a[1]}${a[2]}`;const s=i.match(/([]).*?([])/);return s?`${Dd[s[1]]}${Pd[s[2]]}`:r<=2?"--":""})}function sae(e,t){const n={:!1,:!1,:!1,:!1,:!1};for(const r of e){if(!r)continue;const i=Jd[r.charAt(0)];i&&(n[i]=!0);{const a=X5[r.charAt(1)];a&&(n[a]=!0)}}return n}function lae(e){const t={:0,:0,:0,:0,:0};for(const n of e){if(!n)continue;const r=Jd[n.charAt(0)],i=X5[n.charAt(1)];r&&(t[r]+=10),i&&(t[i]+=6)}return t}function Uw(e){return e[0]?.length===2&&e[1]?.length===2&&e[2]?.length===2}const cae=["","","","","","","","","",""];function uae(e){const t={};for(const[n,r]of Object.entries(e??{})){if(r<=0)continue;const i=ym(n);i&&(t[i]=(t[i]??0)+r)}return t}function dae(e){const n={...{:0,:0,:0,:0,:0,:0,:0,:0,:0,:0}};for(const r of cae){const i=Jd[r],a=`${r}${i}`;n[a]=Math.max(0,Math.round(e[r]??0))}return n}const fae={natal:50,dae:30,se:20,wol:7,il:3};function hae(e){const t={};for(const{kind:r,bare:i}of e){const a=fae[r]??0;if(a<=0)continue;const s=rb(i);for(const[c,d]of Object.entries(s))t[c]=(t[c]??0)+d*a}const n=Object.values(t).reduce((r,i)=>r+i,0);if(n>0)for(const r of Object.keys(t))t[r]=t[r]/n*100;return t}function mae(e){if(!e)return[];const t=ym(e.charAt(0)),n=ym(e.charAt(1));return[t,n].filter(Boolean)}function y0(e){const t=mae(e),n={};for(const r of t)n[r]=(n[r]??0)+1;return n}function pae({data:e,pillars:t,lunarPillars:n,daewoonGz:r}){const i=Ar(pe=>pe.settings),[a,s]=A.useState("   "),[c,d]=A.useState(""),[f,m]=A.useState(!0),{date:p,yearGZ:y,monthGZ:b,dayGZ:x}=Ri(),T=A.useMemo(()=>Ke(y),[y]),S=A.useMemo(()=>Ke(b),[b]),j=A.useMemo(()=>Ke(x),[x]),D=Wm(e,e?.mingSikType),O=A.useMemo(()=>{if(!D?.length)return 0;const pe=D.findIndex((Te,Me)=>{const Le=D[Me+1]?.at;return p>=Te.at&&(!Le||p<Le)});return pe!==-1?pe:p<D[0].at?0:D.length-1},[D,p]),M=A.useMemo(()=>{const pe=r??D?.[O]?.gz??"";return Ke(pe)||null},[r,D,O]),{manualHour:N}=Fm(),R=e.mingSikType??"/",$=A.useMemo(()=>uD(t),[t]),B=A.useMemo(()=>uD(n),[n]),H=A.useMemo(()=>{const pe=[...$];return(!pe[3]||pe[3]==="")&&N&&(pe[3]=N.stem+N.branch),pe},[$,N]),V=A.useMemo(()=>{const pe=[...B];return(!pe[3]||pe[3]==="")&&N&&(pe[3]=N.stem+N.branch),pe},[B,N]),z=A.useMemo(()=>{const pe=Number(e.birthDay?.slice(0,4)),Te=Number(e.birthDay?.slice(4,6)),Me=Number(e.birthDay?.slice(6,8));if(!Number.isFinite(pe)||!Number.isFinite(Te)||!Number.isFinite(Me))return null;const Le=new Date(pe,Te-1,Me,12,0,0,0),Be=zw(vt(Le)||""),ge=zw(Dt(Le)||""),Ue=zw(Tt(Le,R)||"");return[Be,ge,Ue,""]},[e.birthDay,R]),F=Uw(H),Q=Uw(V),[ee]=A.useState("solar"),be=ee==="lunar"?Q?"lunar":F?"solar":"lunar":F?"solar":Q?"lunar":"solar",J=A.useMemo(()=>{const Te=[...be==="lunar"?Q?V:F?H:z??["","","",""]:F?H:Q?V:z??["","","",""]];return(!Te[3]||Te[3]==="")&&N&&(Te[3]=N.stem+N.branch),Te},[be,F,Q,H,V,z,N]),le=A.useMemo(()=>N?N.stem+N.branch:J[3]||"",[N,J]),ae=A.useMemo(()=>({dae:c!==""?M??null:null,se:c===""||c===""||c===""?T??null:null,wol:c===""||c===""?S??null:null,il:c===""?j??null:null}),[c,M,T,S,j]),me=A.useMemo(()=>q5({natal:J,tab:c,chain:ae,hourKey:le}),[J,c,ae,le]),ne=A.useMemo(()=>{if(!me)return null;const pe=uae(me.perStemElementScaled),Te=ae.dae?y0(ae.dae):{},Me=ae.se?y0(ae.se):{},Le=ae.wol?y0(ae.wol):{},Be=ae.il?y0(ae.il):{},ge=hae([{kind:"natal",bare:pe},{kind:"dae",bare:Te},{kind:"se",bare:Me},{kind:"wol",bare:Le},{kind:"il",bare:Be}]),Ue=rb(ge),ue=dae(Ue),he=aae(ge,me.dayStem),$e=oae(he),ze=iae(ge);return{perStemAugBare:ge,perStemAugFull:ue,elemPct100:ze,totalsMain:$e,totalsSub:he}},[me,ae]),q=A.useMemo(()=>sae(J),[J]),K=A.useMemo(()=>["","","","",""].some(pe=>!q[pe]),[q]),X=ne?.elemPct100??me?.elementPercent100??lae(J),ie=A.useMemo(()=>{if(!me||!ne)return[];const pe=w5(me.dayStem);return Object.entries(ne.totalsMain).map(([Te,Me])=>({name:Te,value:Me,color:pe[Te]}))},[me,ne]),Z=ne?.elemPct100??{:0,:0,:0,:0,:0},W=ne?.totalsSub??null,de=A.useMemo(()=>N?N.stem+N.branch:J[3]||"",[N,J]),te=A.useMemo(()=>[c,M??"",T??"",S??"",j??"",p?.toISOString?.()??"",de].join("|"),[c,M,T,S,j,p,de]),Y=A.useMemo(()=>{const pe=W?Object.entries(W).sort(([Me],[Le])=>Me.localeCompare(Le)).map(([Me,Le])=>`${Me}:${Le}`).join(","):"none",Te=ie.map(Me=>`${Me.name}:${Me.value}`).join(",");return`${te}||${J.join("")}||${Te}||${pe}`},[te,J,ie,W]),se=typeof NM=="function"?NM(J,me?.totals):null,xe=A.useMemo(()=>{const Te=(se?.ordered??[]).map(Be=>{const ge=Be.element??"",Ue=/||wood/i.test(ge)?"":/||fire/i.test(ge)?"":/||earth/i.test(ge)?"":/||metal/i.test(ge)?"":/||water/i.test(ge)?"":null,ue=typeof Be.score=="number"?Be.score:Ue?X[Ue]??0:0,he=Array.isArray(Be.reasons)?Be.reasons:[];return{element:ge,elNorm:Ue,score:ue,reasons:he}}),Me=Be=>Be?q[Be]:!1,Le=f?Te.map(Be=>Be.elNorm&&!Me(Be.elNorm)?{...Be,score:0,reasons:[...Be.reasons,":    0"]}:Be):Te;return Le.sort((Be,ge)=>{const Ue=Me(Be.elNorm)?1:0,ue=Me(ge.elNorm)?1:0;return f&&Ue!==ue?ue-Ue:(ge.score??0)!==(Be.score??0)?(ge.score??0)-(Be.score??0):(Be.elNorm??Be.element).localeCompare(ge.elNorm??ge.element)}),Le},[se,f,X,q]),ce=A.useMemo(()=>Math.max(0,...xe.map(pe=>Number.isFinite(pe.score)?pe.score:0)),[xe]);function Ne(pe){return G5(pe,{criteriaMode:"modern",useHarmonyOverlay:!0})}return Uw(J)?_.jsxs("div",{className:"space-y-4 mb-4",children:[_.jsx("div",{className:"flex gap-2 justify-center flex-wrap",children:sne.map(pe=>_.jsx("button",{onClick:()=>d(pe),className:"px-2 py-1 text-xs rounded border cursor-pointer "+(c===pe?"bg-yellow-500 text-black border-yellow-600":"bg-neutral-400 dark:bg-neutral-900 text-neutral-100 dark:text-neutral-300 border-neutral-400 dark:border-neutral-700"),children:pe},pe))}),_.jsx("div",{className:"flex gap-2 mb-4 justify-center flex-wrap",children:["  ","   ","",""].map(pe=>_.jsx("button",{onClick:()=>s(pe),className:"px-3 py-1 text-sm rounded border cursor-pointer "+(a===pe?"bg-violet-500 text-white border-violet-600":"bg-neutral-400 dark:bg-neutral-900 text-neutral-100 dark:text-neutral-300 border-neutral-400 dark:border-neutral-700"),children:pe},pe))}),a===""&&_.jsx(jte,{pillars:J,daewoon:M||void 0,sewoon:T||void 0,wolwoon:S||void 0,ilwoon:j||void 0,tab:c},`harm-${c}-${de}`),a==="   "&&_.jsxs("div",{className:"space-y-4",children:[_.jsx(yte,{data:ie,revKey:Y,perStemElementScaled:ne?.perStemAugFull,elementPercent:Z,dayStem:J[2]?.charAt(0)??null},`pentagon-${Y}`),_.jsx(xte,{value:Ne(J)}),_.jsx(Cre,{natal:J}),_.jsxs("div",{className:"w-full p-4 rounded-xl bg-neutral-100 dark:bg-neutral-900 space-y-3",children:[_.jsxs("div",{className:"flex items-center justify-between",children:[_.jsx("div",{className:"text-sm font-bold",children:" "}),K&&_.jsxs("button",{type:"button",onClick:()=>m(pe=>!pe),className:`text-xs px-2 py-1 rounded-lg border transition cursor-pointer
                    ${f?"bg-violet-100 text-violet-800 border-violet-200 whitespace-nowrap dark:bg-violet-900/30 dark:text-violet-200 dark:border-violet-800":"bg-white text-neutral-700 border-neutral-300 hover:bg-neutral-50 dark:bg-neutral-800 dark:text-neutral-200 dark:border-neutral-700"}`,"aria-pressed":f,children:[": ",f?"ON":"OFF"]})]}),_.jsx("ul",{className:"space-y-2",children:xe.map((pe,Te)=>_.jsxs("li",{className:"flex items-start justify-between gap-3 rounded-lg border border-neutral-200 dark:border-neutral-800 p-2",children:[_.jsxs("div",{className:"flex items-center gap-2",children:[_.jsxs("span",{className:"text-xs px-2 py-0.5 rounded-full bg-neutral-200 dark:bg-neutral-800 text-neutral-800 dark:text-neutral-200",children:[Te+1,""]}),_.jsx("span",{className:"text-sm font-semibold",children:pe.element})]}),_.jsxs("div",{className:"flex-1",children:[_.jsx("div",{className:"mt-1 h-1.5 w-full rounded bg-neutral-300 dark:bg-neutral-800 overflow-hidden",children:_.jsx("div",{className:"h-1.5 rounded bg-white dark:bg-neutral-100",style:{width:`${ce>0?Math.max(2,Math.min(100,Math.round((pe.score??0)/ce*100))):12}%`},title:` ${pe.score}`})}),_.jsx("div",{className:"mt-2 flex flex-wrap gap-1.5",children:(pe.reasons??[]).map((Me,Le)=>_.jsx("span",{className:"text-[11px] px-2 py-0.5 rounded-full bg-neutral-200 dark:bg-neutral-800 text-neutral-700 dark:text-neutral-300",children:Me},Le))})]})]},pe.elNorm??pe.element))})]})]}),a===""&&_.jsx(xre,{pillars:J,daewoon:M||void 0,sewoon:T||void 0,wolwoon:S||void 0,ilwoon:j||void 0,tab:c},`shin-${c}-${de}`),a==="  "&&_.jsx(Zie,{unified:me,pillars:J,tab:c,mapping:i.hiddenStemMode},`gyeok-${c}-${de}`)]}):_.jsx("div",{className:"p-4 rounded-xl bg-neutral-100 dark:bg-neutral-900 text-sm",children:"   ."})}const gae=!1,dD=e=>e<10?`0${e}`:`${e}`,vae=e=>typeof e=="string"&&e.length>=2,yae=e=>Array.isArray(e)&&e.length===4&&e.every(vae);function bae(e){const t=e,n=typeof t.birthDay=="string"?t.birthDay:"",r=typeof t.calendarType=="string"?t.calendarType:"solar";if(n.length<8)return e;const i=Number(n.slice(0,4)),a=Number(n.slice(4,6)),s=Number(n.slice(6,8)),c=["isLeap","isLeapMonth","leapMonth","leap","lunarLeap"];let d=!1;for(const f of c){const m=t[f];if(typeof m=="boolean"){d=m;break}if(typeof m=="number"){d=m===1;break}if(typeof m=="string"){d=m==="1"||m.toLowerCase()==="true";break}}if(r==="lunar")try{const f=ei(i,a,s,0,0),m=`${f.getFullYear()}${dD(f.getMonth()+1)}${dD(f.getDate())}`;return{...e,birthDay:m,calendarType:"solar"}}catch{return e}return e}function _ae({data:e}){const[t,n]=A.useState("un"),r=A.useMemo(()=>{try{const c=bae(e);return Kl(c)}catch{return new Date}},[e]),i=A.useMemo(()=>Jy(e,r),[e,r]),a=!e.birthTime||e.birthTime==="",s=A.useMemo(()=>{try{const c=vt(i,e.birthPlace?.lon),d=Dt(i,e.birthPlace?.lon),f=Tt(i,e.mingSikType),m=a?"":Ua(i,e.mingSikType);return[c,d,f,m]}catch{return[]}},[i,e?.mingSikType,e?.birthPlace?.lon,a]);return _.jsxs("div",{className:"w-[96%] max-w-[640px] mx-auto",children:[_.jsxs("div",{className:"flex border-b border-neutral-700 mb-4",children:[_.jsx("button",{onClick:()=>n("un"),className:`px-2 desk:px-4 py-2 text-xs desk:text-sm cursor-pointer border-b hover:border-purple-500 hover:text-purple-500 font-bold ${t==="un"?"border-purple-500 text-purple-500":"border-transparent text-neutral-400"}`,children:" "}),_.jsx("button",{onClick:()=>n("myoun"),className:`px-2 desk:px-4 py-2 text-xs desk:text-sm cursor-pointer border-b hover:border-purple-500 hover:text-purple-500 font-bold ${t==="myoun"?"border-purple-500 text-purple-500":"border-transparent text-neutral-400"}`,children:" "}),_.jsx("button",{onClick:()=>n("report"),className:`px-2 desk:px-4 py-2 text-xs desk:text-sm cursor-pointer border-b hover:border-purple-500 hover:text-purple-500 font-bold ${t==="report"?"border-purple-500 text-purple-500":"border-transparent text-neutral-400"}`,children:" "})]}),t==="un"&&_.jsx(tte,{data:e}),t==="myoun"&&_.jsx(ute,{data:e}),t==="report"&&_.jsx(pae,{data:e,pillars:yae(s)?s:[]})]})}/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xae=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),wae=e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(t,n,r)=>r?r.toUpperCase():n.toLowerCase()),fD=e=>{const t=wae(e);return t.charAt(0).toUpperCase()+t.slice(1)},J5=(...e)=>e.filter((t,n,r)=>!!t&&t.trim()!==""&&r.indexOf(t)===n).join(" ").trim(),Sae=e=>{for(const t in e)if(t.startsWith("aria-")||t==="role"||t==="title")return!0};/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var Eae={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Aae=A.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:i="",children:a,iconNode:s,...c},d)=>A.createElement("svg",{ref:d,...Eae,width:t,height:t,stroke:e,strokeWidth:r?Number(n)*24/Number(t):n,className:J5("lucide",i),...!a&&!Sae(c)&&{"aria-hidden":"true"},...c},[...s.map(([f,m])=>A.createElement(f,m)),...Array.isArray(a)?a:[a]]));/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const da=(e,t)=>{const n=A.forwardRef(({className:r,...i},a)=>A.createElement(Aae,{ref:a,iconNode:t,className:J5(`lucide-${xae(fD(e))}`,`lucide-${e}`,r),...i}));return n.displayName=fD(e),n};/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tae=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],kae=da("chevron-down",Tae);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Oae=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],jae=da("chevron-up",Oae);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nae=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],Cae=da("circle-x",Nae);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mae=[["path",{d:"M19.414 14.414C21 12.828 22 11.5 22 9.5a5.5 5.5 0 0 0-9.591-3.676.6.6 0 0 1-.818.001A5.5 5.5 0 0 0 2 9.5c0 2.3 1.5 4 3 5.5l5.535 5.362a2 2 0 0 0 2.879.052 2.12 2.12 0 0 0-.004-3 2.124 2.124 0 1 0 3-3 2.124 2.124 0 0 0 3.004 0 2 2 0 0 0 0-2.828l-1.881-1.882a2.41 2.41 0 0 0-3.409 0l-1.71 1.71a2 2 0 0 1-2.828 0 2 2 0 0 1 0-2.828l2.823-2.762",key:"17lmqv"}]],Dae=da("heart-handshake",Mae);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pae=[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-6a2 2 0 0 1 2.582 0l7 6A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"r6nss1"}]],Rae=da("house",Pae);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lae=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],Iae=da("log-out",Lae);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $ae=[["path",{d:"M4 5h16",key:"1tepv9"}],["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 19h16",key:"1djgab"}]],Bae=da("menu",$ae);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zae=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],Uae=da("plus",zae);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hae=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],Fae=da("settings",Hae);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gae=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}],["path",{d:"M7 21v-2a2 2 0 0 1 2-2h6a2 2 0 0 1 2 2v2",key:"1m6ac2"}]],qae=da("square-user",Gae);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yae=[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]],hD=da("star",Yae);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kae=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]],Wae=da("user-plus",Kae);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vae=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],Q5=da("x",Vae);function Zae({onOpenSidebar:e,onAddNew:t,onOpenCustom:n}){return _.jsx("header",{className:"fixed min-w-[320px] top-0 left-0 right-0 bg-white dark:bg-neutral-950 border-b border-neutral-200 dark:border-neutral-800 z-55 px-2 desk:px-3 transition-colors",children:_.jsxs("div",{className:"relative max-w-[640px] w-full mx-auto h-12 sm:h-14 flex justify-between items-center",children:[_.jsx("button",{type:"button",onClick:e,"aria-label":" ",className:"p-2 rounded-full text-neutral-700 dark:text-neutral-200 hover:bg-neutral-100 dark:hover:bg-neutral-800 hover:text-purple-600 dark:hover:text-purple-400 focus:outline-none focus:ring-2 focus:ring-purple-500 cursor-pointer transition-colors",children:_.jsx(Bae,{size:22})}),_.jsx("h1",{className:"absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 mx-auto text-base sm:text-lg font-bold tracking-tight text-neutral-900 dark:text-neutral-100",children:""}),_.jsxs("div",{className:"flex gap-2",children:[_.jsx("button",{type:"button",onClick:t,"aria-label":" ",className:"w-8 h-8 sm:w-10 sm:h-10 flex items-center justify-center rounded-md bg-purple-600 text-white hover:bg-purple-700 dark:bg-purple-600 dark:hover:bg-purple-500 focus:outline-none focus:ring-2 focus:ring-purple-500 cursor-pointer transition-colors",children:_.jsx(Wae,{size:18})}),_.jsx("button",{type:"button",onClick:n,"aria-label":" ",className:"w-8 h-8 sm:w-10 sm:h-10 flex items-center justify-center rounded-md bg-orange-600 text-white hover:bg-orange-700 dark:bg-orange-600 dark:hover:bg-orange-500 focus:outline-none focus:ring-2 focus:ring-purple-500 cursor-pointer transition-colors",children:_.jsx(qae,{size:18})})]})]})})}function Xae(e){A.useEffect(()=>{const t=e??j3()??(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light");N3(t),e&&G0(e)},[e])}const e4=["theme","hiddenStem","hiddenStemMode","sinsalMode","sinsalBase","sinsalBloom","exposure","charType","thinEum","visibility","difficultyMode"];function Jae(e){return typeof e=="string"&&e4.includes(e)}function Hw(e){const t=Array.isArray(e)?e.filter(Jae):[],n=e4.filter(r=>!t.includes(r));return[...t,...n]}function Qae({open:e,onClose:t}){const{settings:n,setSettings:r,saveToServer:i}=Ar(),a=A.useMemo(()=>Hw(n.sectionOrder),[n.sectionOrder]),s=A.useMemo(()=>({...ou,...n,sectionOrder:Hw(n.sectionOrder)}),[n]),[c,d]=A.useState(a),[f,m]=A.useState(s),[p,y]=A.useState(null),[b,x]=A.useState(!1),T=A.useCallback(()=>y(null),[]),S=f.theme??n.theme??"dark";Xae(S),A.useEffect(()=>{G0(S)},[S]),A.useEffect(()=>{if(!e)return;const N=Hw(n.sectionOrder);b||(m({...ou,...n,sectionOrder:N}),d(N),x(!1))},[e,n,b]);const j=(N,R)=>{m($=>{const B={...$,[N]:R};return N==="theme"&&G0(R),x(!0),B})},D=()=>{const N={...ou,...f,sectionOrder:c};try{typeof window<"u"&&window.localStorage.removeItem("settings_v1")}catch{}r(N),N.theme&&G0(N.theme),i(!0),y(" "),x(!1),t()},O=N=>{const{destination:R,source:$}=N;if(!R||R.index===$.index)return;const B=Array.from(c),[H]=B.splice($.index,1);B.splice(R.index,0,H),d(B)},M=N=>{switch(N){case"theme":return _.jsx(oo,{title:"",children:_.jsx(eoe,{value:f.theme??"dark",onChange:R=>j("theme",R)})});case"hiddenStem":return _.jsx(oo,{title:"  ",children:_.jsx(_d,{value:f.hiddenStem,onChange:R=>j("hiddenStem",R),options:[{label:"",value:"all"},{label:" ",value:"regular"}]})});case"hiddenStemMode":return _.jsx(oo,{title:" ",children:_.jsx(_d,{value:f.hiddenStemMode,onChange:R=>j("hiddenStemMode",R),options:[{label:"",value:"classic"},{label:"",value:"hgc"}]})});case"sinsalMode":return _.jsx(oo,{title:"",children:_.jsx(_d,{value:f.sinsalMode,onChange:R=>j("sinsalMode",R),options:[{label:"",value:"classic"},{label:"",value:"modern"}]})});case"sinsalBase":return _.jsx(oo,{title:"",children:_.jsx(_d,{value:f.sinsalBase,onChange:R=>j("sinsalBase",R),options:[{label:"",value:""},{label:"",value:""}]})});case"sinsalBloom":return _.jsx(oo,{title:" ",children:_.jsx(qc,{label:" ",checked:!!f.sinsalBloom,onChange:R=>j("sinsalBloom",R)})});case"exposure":return _.jsx(oo,{title:" ",children:_.jsx(_d,{value:f.exposure,onChange:R=>j("exposure",R),options:[{label:"",value:""},{label:"",value:""},{label:"",value:""},{label:"",value:""}]})});case"charType":return _.jsx(oo,{title:" ",children:_.jsx(_d,{value:f.charType,onChange:R=>j("charType",R),options:[{label:"",value:""},{label:"",value:""}]})});case"thinEum":return _.jsx(oo,{title:" ",children:_.jsx(qc,{label:" ",checked:!!f.thinEum,onChange:R=>j("thinEum",R)})});case"visibility":return _.jsx(oo,{title:" ",children:_.jsxs("div",{className:"space-y-2 w-full max-w-[180px] mx-auto",children:[_.jsx(qc,{label:" ",checked:!!f.showSipSin,onChange:R=>j("showSipSin",R)}),_.jsx(qc,{label:" ",checked:!!f.showSibiUnseong,onChange:R=>j("showSibiUnseong",R)}),_.jsx(qc,{label:" ",checked:!!f.showSibiSinsal,onChange:R=>j("showSibiSinsal",R)}),_.jsx(qc,{label:" ",checked:!!f.showNabeum,onChange:R=>j("showNabeum",R)})]})});case"difficultyMode":return _.jsx(oo,{title:" UP ver.",children:_.jsx(qc,{label:" UP ",checked:!!f.difficultyMode,onChange:R=>j("difficultyMode",R)})});default:return null}};return _.jsxs(_.Fragment,{children:[_.jsx("style",{children:"[data-rbd-drag-handle-context-id]{touch-action:none!important}"}),_.jsx("div",{className:`fixed inset-0 bg-black/60 transition-opacity duration-300 z-90 ${e?"opacity-100 pointer-events-auto":"opacity-0 pointer-events-none"}`,onClick:t}),_.jsxs("div",{className:`fixed inset-x-0 mx-auto w-full max-w-[640px] h-[88dvh] bg-white text-neutral-900 dark:bg-neutral-950 dark:text-white shadow-lg rounded-t-2xl transition-bottom duration-300 z-99 ${e?"bottom-0":"bottom-[-88dvh]"}`,children:[_.jsx("div",{className:"flex justify-between items-center p-4 border-b border-neutral-200 dark:border-neutral-800",children:_.jsxs("div",{className:"flex items-center gap-2",children:[_.jsx("h2",{className:"text-lg font-bold",children:""}),_.jsx("button",{onClick:D,className:"px-3 py-1 rounded bg-indigo-600 hover:bg-indigo-500 text-white text-sm cursor-pointer",children:""})]})}),e&&_.jsx(Ym,{onDragEnd:O,children:_.jsx(su,{droppableId:"settings-sections",children:N=>_.jsxs("ul",{ref:N.innerRef,...N.droppableProps,className:"flex flex-col gap-2 p-4 overflow-y-auto max-h-[80dvh] list-none",children:[c.map((R,$)=>_.jsx(Zd,{draggableId:R,index:$,children:B=>_.jsxs("li",{ref:B.innerRef,...B.draggableProps,...B.dragHandleProps,className:"!flex justify-between items-center bg-white dark:bg-neutral-800 p-2 rounded border text-sm desk:text-base select-none cursor-grab active:cursor-grabbing",children:[_.jsx("span",{className:"mr-2 select-none",children:""}),_.jsx("div",{className:"flex-1 min-w-0",children:M(R)})]})},R)),N.placeholder]})})})]}),p&&_.jsx(JB,{message:p,onClose:T,ms:1800})]})}function eoe({value:e,onChange:t}){const n=e==="dark";return _.jsxs("button",{"data-no-drag":!0,onClick:()=>t(n?"light":"dark"),className:"flex items-center gap-2 px-3 py-1.5 rounded-md border text-sm cursor-pointer border-neutral-300 bg-white hover:bg-neutral-100 text-neutral-700 dark:border-neutral-700 dark:bg-neutral-900 dark:hover:bg-neutral-800 dark:text-neutral-200",title:"/ ","aria-pressed":n,children:[_.jsx("span",{className:"inline-block w-10 h-5 bg-neutral-300 rounded-full relative after:content-[''] after:w-4 after:h-4 after:bg-white after:rounded-full after:absolute after:top-0.5 after:left-0.5 after:transition-all dark:bg-neutral-700"}),_.jsx("span",{children:n?"":""})]})}function oo({title:e,children:t}){return _.jsxs("div",{className:"p-3 rounded-lg bg-neutral-50 border border-neutral-200 text-neutral-900 dark:bg-neutral-900 dark:border-neutral-800 dark:text-neutral-100 space-y-3",children:[_.jsx("h3",{className:"text-sm font-semibold text-center",children:e}),_.jsx("div",{className:"flex justify-center",children:t})]})}function _d({value:e,onChange:t,options:n}){return _.jsx("div",{"data-no-drag":!0,className:"inline-flex rounded-md overflow-hidden border border-neutral-300 bg-white dark:border-neutral-700 dark:bg-neutral-800",onMouseDown:r=>r.stopPropagation(),onTouchStart:r=>r.stopPropagation(),children:n.map(r=>{const i=e===r.value;return _.jsx("button",{type:"button",onClick:()=>t(r.value),className:`px-3 py-1 text-sm transition-colors ${i?"bg-indigo-600 text-white":"text-neutral-700 hover:bg-neutral-100 dark:text-neutral-300 dark:hover:bg-neutral-700 cursor-pointer"}`,children:r.label},r.value)})})}function qc({label:e,checked:t,onChange:n}){const r=`switch-${e}`;return _.jsxs("label",{"data-no-drag":!0,htmlFor:r,className:"flex items-center justify-between w-full max-w-[180px] text-sm cursor-pointer",children:[_.jsx("span",{children:e}),_.jsx("input",{id:r,type:"checkbox",checked:t,onChange:i=>n(i.target.checked),className:"peer hidden"}),_.jsx("span",{className:"w-10 h-5 bg-neutral-300 rounded-full relative after:content-[''] after:w-4 after:h-4 after:bg-white after:rounded-full after:absolute after:top-0.5 after:left-0.5 after:transition-all peer-checked:bg-green-600 peer-checked:after:translate-x-5 dark:bg-neutral-700 dark:peer-checked:bg-green-600"})]})}function toe({onShowToday:e,onShowCouple:t}){const[n,r]=A.useState(!1),[i,a]=A.useState(!1),[s,c]=A.useState(!1),d=async()=>{if(!i){a(!0);try{await Ye.auth.signOut(),window.location.reload()}catch(f){console.error(f),alert(" .  ."),a(!1)}}};return _.jsxs(_.Fragment,{children:[_.jsx("div",{className:"fixed min-w-[320px] h-[64px] bottom-0 left-0 right-0 bg-white border-t border-neutral-200 py-2 text-xs sm:text-sm z-50 dark:bg-neutral-950 dark:border-neutral-800",children:_.jsxs("nav",{className:"flex justify-around items-center max-w-[640px] w-full mx-auto",children:[_.jsx(b0,{icon:_.jsx(Rae,{size:22}),label:" ",onClick:e}),_.jsx(b0,{icon:_.jsx(Dae,{size:22}),label:"",onClick:t}),_.jsx(b0,{icon:_.jsx(Fae,{size:22}),label:"",onClick:()=>r(!0)}),_.jsx(b0,{icon:_.jsx(Iae,{size:22}),label:"",onClick:()=>c(!0),disabled:i})]})}),_.jsx(Qae,{open:n,onClose:()=>r(!1)}),s&&_.jsx("div",{className:"fixed inset-0 z-[120] flex items-center justify-center bg-black/50",onClick:()=>c(!1),children:_.jsxs("div",{className:"w-full max-w-sm bg-white dark:bg-neutral-900 text-neutral-900 dark:text-neutral-100 p-6 rounded-xl shadow-xl",onClick:f=>f.stopPropagation(),children:[_.jsx("h3",{className:"text-lg font-bold mb-4",children:" ?"}),_.jsxs("div",{className:"flex gap-3",children:[_.jsx("button",{type:"button",className:"flex-1 py-2 rounded-lg bg-neutral-200 dark:bg-neutral-800 text-neutral-900 dark:text-neutral-100 cursor-pointer",onClick:()=>c(!1),children:""}),_.jsx("button",{type:"button",className:"flex-1 py-2 rounded-lg bg-red-600 text-white hover:bg-red-700 cursor-pointer",onClick:()=>{c(!1),d()},children:""})]})]})})]})}function b0({icon:e,label:t,onClick:n,disabled:r}){return _.jsxs("button",{onClick:n,disabled:r,className:"flex flex-col items-center justify-center text-neutral-600 hover:text-purple-600 transition-colors cursor-pointer disabled:opacity-50 disabled:cursor-not-allowed dark:text-neutral-300 dark:hover:text-purple-400",children:[e,_.jsx("span",{className:"mt-1",children:t})]})}function noe(e,t){const[n,r]=A.useState(()=>{if(typeof window>"u")return{};try{const B=localStorage.getItem(WC);return B?JSON.parse(B):{}}catch{return{}}});A.useEffect(()=>{if(!(typeof window>"u"))try{localStorage.setItem(WC,JSON.stringify(n))}catch{}},[n]);const[i,a]=A.useState({}),[s,c]=A.useState({}),[d,f]=A.useState(""),[m,p]=A.useState(!1),[y,b]=A.useState(()=>{const B=rv(),H=iv();return H.length?Kh(B,H):B}),x=A.useRef(!1),T=A.useRef(!1);A.useEffect(()=>{(async()=>{if(m)return;const{data:{user:H},error:V}=await Ye.auth.getUser();if(V||!H)return;try{if(!T.current){const{data:J,error:le}=await Ye.from("user_custom_folders").select("folder_name").eq("user_id",H.id);if(le?.code==="PGRST205")T.current=!0;else if(!le&&J){const ae=J.map(me=>me.folder_name?me.folder_name.trim():"").filter(me=>me!=="");oA(ae)}else le&&console.error("load custom folders from server error:",le)}}catch(J){console.error("load custom folders exception:",J)}const{data:z,error:F}=await Ye.from("user_folder_order").select("folder_name, sort_order").eq("user_id",H.id).order("sort_order",{ascending:!0,nullsFirst:!0});if(F){console.error("load folder order from server error:",F),p(!0);return}const Q=rv(),ee=(z??[]).map(J=>J.folder_name?String(J.folder_name):"").filter(J=>J.trim()!==""),be=ee.length?Kh(Q,ee):Kh(Q,iv());b(be),ee.length&&Cd(ee),p(!0)})()},[m]);const S=A.useCallback(async B=>{const{data:{user:H},error:V}=await Ye.auth.getUser();if(V||!H)return;const z=B.filter(Q=>typeof Q=="string"&&Q.trim()!=="").map((Q,ee)=>({user_id:H.id,folder_name:Q.trim(),sort_order:ee+1,updated_at:new Date().toISOString()}));if(!z.length){await Ye.from("user_folder_order").delete().eq("user_id",H.id);return}const{error:F}=await Ye.from("user_folder_order").upsert(z,{onConflict:"user_id,folder_name"});F&&console.error("save folder order to server error:",F)},[]),j=A.useCallback(async B=>{if(T.current)return;const{data:{user:H},error:V}=await Ye.auth.getUser();if(V||!H)return;const{error:z}=await Ye.from("user_custom_folders").upsert({user_id:H.id,folder_name:B,updated_at:new Date().toISOString()});z&&(z.code==="PGRST205"?T.current=!0:console.error("save custom folder error:",z))},[]),D=A.useCallback(async B=>{if(T.current)return;const{data:{user:H},error:V}=await Ye.auth.getUser();if(V||!H)return;const{error:z}=await Ye.from("user_custom_folders").delete().eq("user_id",H.id).eq("folder_name",B);z&&(z.code==="PGRST205"?T.current=!0:console.error("delete custom folder error:",z))},[]);A.useEffect(()=>{if(typeof window>"u")return;const B=()=>{if(x.current){x.current=!1;return}const H=rv(),V=iv(),z=V.length?Kh(H,V):H;b(z)};return window.addEventListener(mu,B),()=>window.removeEventListener(mu,B)},[]),A.useEffect(()=>{a(B=>{const H={...B};for(const V of y)H[V]===void 0&&(H[V]=!0);return H})},[y]);const{grouped:O,unassignedItems:M}=A.useMemo(()=>{const B={};y.forEach(z=>{B[z]=[]});const H=[],V=new Set;for(const z of e){if(!z.id||V.has(z.id))continue;const F=z.folder;F&&y.includes(F)?B[F].push(z):H.push(z),V.add(z.id)}return{grouped:B,unassignedItems:H}},[e,y]),N=A.useCallback(B=>{const{source:H,destination:V,type:z}=B;if(!V||z!=="FOLDER")return;const F=H.index,Q=V.index;F!==Q&&b(ee=>{if(!ee.length)return ee;const be=[...ee],[J]=be.splice(F,1);return be.splice(Q,0,J),x.current=!0,Cd(be),S(be),be})},[S]);return{folderFavMap:n,setFolderFavMap:r,folderOpenMap:i,setFolderOpenMap:a,memoOpenMap:s,setMemoOpenMap:c,newFolderName:d,setNewFolderName:f,orderedFolders:y,grouped:O,unassignedItems:M,handleDragEnd:N,createFolder:B=>{const H=B.trim();!H||H===Nn||(XB(H),j(H),b(V=>{if(V.includes(H))return V;const z=[...V,H];return Cd(z),S(z),S(z),z}))},deleteFolder:B=>{e.forEach(H=>{H.folder===B&&t(H.id,{folder:void 0})}),r(H=>{const V={...H};return delete V[B],V}),b(H=>{const V=H.filter(z=>z!==B);return Cd(V),S(V),S(V),(async()=>{const{data:{user:z},error:F}=await Ye.auth.getUser();F||!z||await Ye.from("user_folder_order").delete().eq("user_id",z.id).eq("folder_name",B)})(),V}),WB.includes(B)?DJ(B):(MJ(B),D(B))},UNASSIGNED_LABEL:Nn}}function mD(e,t){if(!/^\d{8}$/.test(e))return e||"";const n=e.slice(0,4),r=e.slice(4,6),i=e.slice(6,8);return t&&/^\d{4}$/.test(t)?`${n} ${r} ${i} ${t.slice(0,2)}:${t.slice(2,4)}`:t===""?`${n} ${r} ${i} ( )`:`${n} ${r} ${i}`}function roe(e){if(!e)return"";const t=e.split(/[\s,]+/).filter(Boolean);if(t.length===0)return"";const n=s=>t.find(c=>s.some(d=>c.endsWith(d))),r=n(["","",""]),i=n(["","","",""]);return t.length===1||!n(["","","","","","",""])&&!n(["","","","",""])?e:r&&i?`${r} ${i}`:r||e}function uE(e){return(e.ganji??"").replace(/\r\n/g,`
`).replace(/\s*null\s*/gi,"").trim()}function ioe(e,t,n){if(n)return"";if((e??"").trim()){const a=new Date(t);return aE(a)}const i=t instanceof Date?t:new Date(t);return Number.isNaN(i.getTime())?"":aE(i)}const aoe="list:__unassigned__",ooe=e=>`list:${e}`,pD=e=>{if(!e.startsWith("list:"))return;const t=e.slice(5);return t==="__unassigned__"?void 0:t},soe="myeoun:folder-updated",gD=()=>{typeof window>"u"||window.dispatchEvent(new Event(soe))};function loe(e){const t=uE(e),n=String(e.birthDay??"").trim();if(!/^\d{8}$/.test(n))return t;const r=Number(n.slice(0,4)),i=Number(n.slice(4,6)),a=Number(n.slice(6,8));if(!Dv(r,i,a)||!e.birthTime||e.birthTime==="")return t;const s=Number(e.birthTime.slice(0,2)),c=e.birthTime.slice(2,4),d=s-1<0?23:s-1,f=String(d).padStart(2,"0")+c,m=e.corrected instanceof Date?e.corrected:new Date(e.corrected);if(Number.isNaN(m.getTime()))return t;new Date(m.getTime()-3600*1e3);const p=Ky({...e,birthTime:f});return uE({...e,...p})}function coe({open:e,onClose:t,onView:n,onAddNew:r,onEdit:i,onDeleteView:a}){const{list:s,remove:c,update:d,reorder:f}=vo(),{folderFavMap:m,setFolderFavMap:p,folderOpenMap:y,setFolderOpenMap:b,memoOpenMap:x,setMemoOpenMap:T,newFolderName:S,setNewFolderName:j,orderedFolders:D,grouped:O,unassignedItems:M,handleDragEnd:N,createFolder:R,deleteFolder:$,UNASSIGNED_LABEL:B}=noe(s,d),[H,V]=A.useState(""),[z,F]=A.useState("name"),Q=/\S/.test(H),{filteredUnassigned:ee,filteredGrouped:be,totalMatches:J}=A.useMemo(()=>{const K=Y=>Y.toLowerCase().replace(/\s+/g," ").trim();if(!Q)return{filteredUnassigned:M,filteredGrouped:O,totalMatches:M.length+Object.values(O).reduce((Y,se)=>Y+se.length,0)};const X=K(H),ie=Y=>{const se=String(Y.birthDay??"").trim();let xe="",ce="",Ne="";if(/^\d{8}$/.test(se))xe=se.slice(0,4),ce=se.slice(4,6),Ne=se.slice(6,8);else{const Be=new Date(se);if(!Number.isNaN(Be.getTime())){const ge=Be.getFullYear(),Ue=Be.getMonth()+1,ue=Be.getDate();xe=String(ge).padStart(4,"0"),ce=String(Ue).padStart(2,"0"),Ne=String(ue).padStart(2,"0")}}const pe=xe&&ce&&Ne?`${xe}${ce}${Ne}`:"",Te=xe&&ce&&Ne?`${xe}-${ce}-${Ne}`:"",Me=xe&&ce&&Ne?`${xe}.${ce}.${Ne}`:"",Le=mD(Y.birthDay,Y.birthTime);return K([pe,Te,Me,Le].filter(Boolean).join(" "))},Z=Y=>z==="name"?K(Y.name??"").includes(X):z==="ganji"?K(uE(Y)??"").includes(X):ie(Y).includes(X),W=M.filter(Z),de={};let te=W.length;for(const Y of D){const se=(O[Y]||[]).filter(Z);de[Y]=se,te+=se.length}return{filteredUnassigned:W,filteredGrouped:de,totalMatches:te}},[H,z,Q,M,O,D]),le=A.useRef(null),ae=A.useRef(null);A.useEffect(()=>{if(ae.current==null)return;const K=le.current;K&&(K.scrollTop=ae.current,ae.current=null)},[s,D]);const me=K=>({...K,transition:K?.transform?"transform 0.15s ease":"none"}),ne=(K,X)=>{const ie=loe(K),Z=roe(K.birthPlace?.name),W=`item:${K.id}`,de=!!x[K.id],te=K.gender===""?"":K.gender===""?"":K.gender,Y=!K.birthTime||K.birthTime==="",se=ioe(K.correctedLocal,K.corrected,Y),xe=String(K.birthDay).trim();let ce=NaN;if(/^\d{8}$/.test(xe)){const Me=`${xe.slice(0,4)}-${xe.slice(4,6)}-${xe.slice(6,8)}`,Le=new Date(Me);Number.isNaN(Le.getTime())||(ce=Le.getFullYear())}else{const Me=new Date(xe);Number.isNaN(Me.getTime())||(ce=Me.getFullYear())}function Ne(Me,Le){return Number.isNaN(Me)?0:Le-Me+1}const pe=new Date().getFullYear(),Te=Ne(ce,pe);return _.jsx(Zd,{draggableId:W,index:X,isDragDisabled:Q,children:Me=>_.jsx("li",{ref:Me.innerRef,...Me.draggableProps,...Me.dragHandleProps,style:me(Me.draggableProps.style),className:`list-none select-none rounded-xl border
                       bg-white dark:bg-neutral-900
                       border-neutral-200 dark:border-neutral-800
                       text-neutral-900 dark:text-neutral-100
                       cursor-grab active:cursor-grabbing`,children:_.jsxs("div",{className:"p-3",children:[_.jsxs("div",{className:"flex items-center gap-2",children:[_.jsxs("div",{className:"font-semibold text-sm desk:text-base",children:[K.name," (",Te,", ",te,")"]}),_.jsx("span",{className:"opacity-40",children:""}),_.jsx("div",{className:"text-sm text-neutral-600 dark:text-neutral-300",children:K.relationship?K.relationship:" "}),_.jsx("span",{className:"ml-auto opacity-50 select-none",children:""})]}),_.jsxs("div",{className:"text-sm text-neutral-600 dark:text-neutral-300 mt-1",children:[mD(K.birthDay,K.birthTime),","," ",K.calendarType==="lunar"?"":""]}),(Z||se)&&_.jsxs("div",{className:"text-sm text-neutral-500 dark:text-neutral-400",children:[Z,se&&_.jsxs("span",{className:"opacity-70",children:[" "," "," ",Y?"":se]})]}),ie&&_.jsx("div",{className:"text-sm text-neutral-800 dark:text-neutral-200 mt-1 whitespace-pre-wrap break-keep",children:ie}),K.memo&&K.memo.trim()!==""&&_.jsxs("div",{children:[_.jsx("button",{type:"button",className:"text-xs text-neutral-500 dark:text-neutral-400 hover:text-neutral-800 dark:hover:text-neutral-200 inline-flex items-center gap-1 cursor-pointer",onClick:Le=>{Le.stopPropagation(),T(Be=>({...Be,[K.id]:!Be[K.id]}))},children:de?" ":" "}),_.jsx("div",{className:de?"mt-1 text-sm text-neutral-800 dark:text-neutral-200 whitespace-pre-wrap":"hidden",children:K.memo})]}),_.jsxs("div",{className:"flex flex-wrap gap-2 mt-3",children:[_.jsx("select",{className:`h-30 text-xs rounded px-2 py-1 cursor-pointer
                             bg-white dark:bg-neutral-900
                             border border-neutral-300 dark:border-neutral-700
                             text-neutral-900 dark:text-neutral-100
                             focus:outline-none focus:ring-2 focus:ring-amber-500/40`,value:K.folder??B,onClick:Le=>Le.stopPropagation(),onChange:Le=>{Le.stopPropagation();const Be=Le.target.value,ge=Be===B?void 0:Be;d(K.id,{folder:ge})},children:[B,...D].map(Le=>_.jsx("option",{value:Le,children:Le},Le))}),_.jsxs("select",{className:`h-30 text-xs rounded px-2 py-1 cursor-pointer
                             bg-white dark:bg-neutral-900
                             border border-neutral-300 dark:border-neutral-700
                             text-neutral-900 dark:text-neutral-100
                             focus:outline-none focus:ring-2 focus:ring-amber-500/40`,value:K.mingSikType??"/",onClick:Le=>Le.stopPropagation(),onChange:Le=>{Le.stopPropagation();const Be=Le.target.value,ge={...K,mingSikType:Be},Ue=Ky(ge);d(K.id,{mingSikType:Be,...Ue}),n({...ge,...Ue}),t()},children:[_.jsx("option",{value:"",children:""}),_.jsx("option",{value:"/",children:"/"}),_.jsx("option",{value:"",children:""})]})]}),_.jsxs("div",{className:"flex gap-2 mt-3",children:[_.jsx("button",{onClick:Le=>{Le.stopPropagation(),n(K),t()},className:`px-3 py-1 rounded text-white text-sm cursor-pointer
                             bg-indigo-600 hover:bg-indigo-500`,children:""}),_.jsx("button",{onClick:Le=>{Le.stopPropagation(),i?.(K)},className:`px-3 py-1 rounded text-white text-sm cursor-pointer
                             bg-amber-600 hover:bg-amber-500`,children:""}),_.jsx("button",{onClick:Le=>{Le.stopPropagation(),confirm(`'${K.name}'  ?`)&&(c(K.id),a&&a())},className:`px-3 py-1 rounded text-white text-sm cursor-pointer
                             bg-red-600 hover:bg-red-500`,children:""}),_.jsx("button",{type:"button",onClick:Le=>{Le.stopPropagation();const Be=!K.favorite;d(K.id,{favorite:Be});const ge=K.folder??"__unassigned__",Ue={__unassigned__:[]};D.forEach(ze=>{Ue[ze]=[]}),s.forEach(ze=>{const He=ze.folder??"__unassigned__";Ue[He]||(Ue[He]=[]),Ue[He].push(ze)});const he=(Ue[ge]??[]).filter(ze=>ze.id!==K.id);Be?Ue[ge]=[{...K,favorite:Be},...he]:Ue[ge]=[...he,{...K,favorite:Be}];const $e=[...Ue.__unassigned__,...D.flatMap(ze=>Ue[ze]??[])];f($e)},className:`ml-auto p-1 rounded cursor-pointer ${K.favorite?"text-yellow-400":"text-neutral-400"} hover:text-yellow-400`,children:_.jsx(hD,{size:16,fill:K.favorite?"currentColor":"none"})})]})]})})},W)},q=K=>{const{type:X,source:ie,destination:Z,draggableId:W}=K;if(!Z||Q)return;const de=le.current;if(de&&(ae.current=de.scrollTop),X==="FOLDER"){N(K);return}if(X==="ITEM"){if(!W.replace(/^item:/,""))return;const Y=pD(ie.droppableId),se=pD(Z.droppableId),xe=Y??"__unassigned__",ce=se??"__unassigned__",Ne={__unassigned__:[...M]};D.forEach(ge=>{Ne[ge]=[...O[ge]||[]]});const pe=Ne[xe]??[];if(!pe[ie.index])return;const[Te]=pe.splice(ie.index,1),Me={...Te,folder:se??void 0},Le=Ne[ce]??[];Le.splice(Z.index,0,Me),Ne[xe]=pe,Ne[ce]=Le;const Be=[...Ne.__unassigned__,...D.flatMap(ge=>Ne[ge]??[])];f(Be)}};return _.jsxs(_.Fragment,{children:[_.jsx("div",{className:`fixed inset-0 bg-black/70 transition-opacity duration-300 z-90 ${e?"opacity-100 pointer-events-auto":"opacity-0 pointer-events-none"}`,onClick:t}),_.jsxs("div",{className:`fixed top-0 left-0 h-[100dvh] min-w-[320px] w-full desk:w-1/3
                    bg-white dark:bg-neutral-950
                    text-neutral-900 dark:text-white
                    shadow-lg z-99 transition-[left] duration-300
                    overflow-hidden
                    ${e?"left-0":"left-[-100%]"}`,children:[_.jsxs("div",{className:"flex justify-between items-center w-full h-12 desk:h-16 p-4 border-b border-neutral-200 dark:border-neutral-800",children:[_.jsx("h2",{className:"text-lg font-bold",children:" "}),_.jsxs("div",{className:"flex items-center gap-2",children:[_.jsxs("button",{type:"button",onClick:()=>{r(),t()},className:`inline-flex items-center gap-1 px-3 py-1.5 rounded text-sm cursor-pointer
                         bg-purple-600 hover:bg-purple-500 text-white`,children:[_.jsx(Uae,{size:16})," "]}),_.jsx("button",{onClick:t,className:"p-1 rounded cursor-pointer hover:bg-neutral-100 dark:hover:bg-neutral-900",children:_.jsx(Q5,{size:22})})]})]}),_.jsx(Ym,{onDragEnd:q,children:_.jsxs("div",{ref:le,className:"p-4 h-[calc(100%-56px)] overflow-y-auto overscroll-contain",style:{touchAction:"pan-y"},children:[_.jsx("div",{className:"mb-3 sticky top-[-16px] z-10 pb-2 pt-2 bg-white dark:bg-neutral-950 z-50",children:_.jsxs("div",{className:"flex items-center gap-2",children:[_.jsxs("select",{value:z,onChange:K=>F(K.target.value),className:`h-30 text-xs rounded px-2 py-1 cursor-pointer
                             bg-white dark:bg-neutral-900
                             border border-neutral-300 dark:border-neutral-700
                             text-neutral-900 dark:text-neutral-100
                             focus:outline-none focus:ring-2 focus:ring-amber-500/40`,children:[_.jsx("option",{value:"name",children:""}),_.jsx("option",{value:"ganji",children:""}),_.jsx("option",{value:"birth",children:""})]}),_.jsxs("div",{className:"relative flex-1",children:[_.jsx("input",{type:"text",value:H,onChange:K=>V(K.target.value),placeholder:z==="name"?" ":z==="ganji"?"  (: )":"  (: 19961229, 1996-12-29)",className:`w-full pl-7 pr-8 py-1 h-30 rounded
                               bg-white dark:bg-neutral-900
                               border border-neutral-300 dark:border-neutral-700
                               text-[16px] text-neutral-900 dark:text-neutral-100
                               placeholder-neutral-400 dark:placeholder-neutral-500
                               focus:outline-none focus:ring-2 focus:ring-amber-500/40`}),H&&_.jsx("button",{type:"button",onClick:()=>V(""),className:"absolute right-2 top-1/2 -translate-y-1/2 opacity-60 hover:opacity-100","aria-label":" ",title:" ",children:_.jsx(Cae,{size:16})})]}),Q&&_.jsxs("span",{className:"text-xs text-neutral-500 dark:text-neutral-400 whitespace-nowrap",children:[J,""]})]})}),_.jsxs("div",{className:"flex items-center mb-2 gap-2",children:[_.jsx("input",{type:"text",value:S,onChange:K=>j(K.target.value),placeholder:"  ",className:`flex-1 w-[60%] px-2 py-1 rounded h-30
                           bg-white dark:bg-neutral-900
                           border border-neutral-300 dark:border-neutral-700
                           text-sm text-neutral-900 dark:text-neutral-100
                           placeholder-neutral-400 dark:placeholder-neutral-500`,onClick:K=>K.stopPropagation()}),_.jsx("button",{type:"button",className:`px-3 rounded h-30 text-sm cursor-pointer
                           bg-neutral-100 hover:bg-neutral-200
                           dark:bg-neutral-800 dark:hover:bg-neutral-700
                           text-neutral-900 dark:text-neutral-100
                           border border-neutral-200 dark:border-neutral-700`,onClick:K=>{K.stopPropagation();const X=S.trim();X&&(R(X),j(""),gD())},children:""})]}),_.jsx("p",{className:"text-xs text-neutral-600 dark:text-neutral-400 mb-2",children:Q?"   .":"/      ."}),_.jsx(su,{droppableId:aoe,type:"ITEM",direction:"vertical",ignoreContainerClipping:!0,isDropDisabled:Q,children:K=>{const X=ee;return _.jsx("div",{ref:K.innerRef,...K.droppableProps,className:"mb-6",children:_.jsxs("ul",{className:"flex flex-col gap-2",children:[X.map((ie,Z)=>ne(ie,Z)),K.placeholder]})})}}),_.jsx(su,{droppableId:"folders:root",type:"FOLDER",direction:"vertical",ignoreContainerClipping:!0,isDropDisabled:Q,children:K=>_.jsxs("div",{ref:K.innerRef,...K.droppableProps,children:[D.map((X,ie)=>{const Z=ooe(X),W=be[X]||[],de=!!y[X],te=!!m[X];return _.jsx(Zd,{draggableId:`folder-${X}`,index:ie,isDragDisabled:Q,children:Y=>_.jsxs("div",{ref:Y.innerRef,...Y.draggableProps,...Y.dragHandleProps,className:"mb-4 cursor-grab active:cursor-grabbing select-none",children:[_.jsxs("div",{className:`flex items-center justify-between px-2 py-2 rounded
                                         bg-neutral-50 dark:bg-neutral-900/70
                                         border border-neutral-200 dark:border-neutral-800
                                         text-neutral-800 dark:text-neutral-200`,children:[_.jsxs("div",{className:"flex items-center gap-2",children:[_.jsxs("button",{type:"button",onClick:se=>{se.stopPropagation(),b(xe=>({...xe,[X]:!de}))},className:"inline-flex items-center gap-1 text-sm font-semibold cursor-pointer",children:[de?_.jsx(jae,{size:16}):_.jsx(kae,{size:16}),_.jsx("span",{className:"text-sm font-semibold",children:X})]}),_.jsx("button",{type:"button",onClick:se=>{se.stopPropagation(),p(xe=>({...xe,[X]:!xe[X]}))},className:`p-1 rounded cursor-pointer ${te?"text-yellow-400":"text-neutral-400"} hover:text-yellow-400`,children:_.jsx(hD,{size:16,fill:te?"currentColor":"none"})})]}),_.jsxs("div",{className:"flex items-center gap-2",children:[_.jsxs("span",{className:"opacity-60 text-xs",children:[W.length,""]}),_.jsx("button",{type:"button",onClick:se=>{if(se.stopPropagation(),m[X]){alert(`'${X}'    .
   .`);return}confirm(`'${X}'  ?
(   )`)&&($(X),gD())},className:`px-2 py-1 rounded text-xs cursor-pointer
                                             border border-red-300 dark:border-red-700
                                             text-red-700 dark:text-red-300
                                             hover:bg-red-50 dark:hover:bg-red-900/30`,children:""})]})]}),de&&_.jsx(su,{droppableId:Z,type:"ITEM",direction:"vertical",ignoreContainerClipping:!0,isDropDisabled:Q,children:se=>_.jsx("div",{ref:se.innerRef,...se.droppableProps,className:"mt-2",children:_.jsxs("ul",{className:"flex flex-col gap-2",children:[W.map((xe,ce)=>ne(xe,ce)),se.placeholder]})})})]})},`folder-${X}`)}),K.placeholder]})})]})})]})]})}const vD="ms_folders",Fw="w-full rounded p-2 border transition-colors duration-200 bg-white text-neutral-900 placeholder-neutral-400 border-neutral-300 focus:outline-none focus:ring-2 focus:ring-violet-500 focus:border-transparent dark:bg-neutral-900 dark:text-neutral-100 dark:placeholder-neutral-500 dark:border-neutral-700 dark:focus:ring-violet-400",uoe="w-full rounded p-2 border transition-colors duration-200 bg-white text-neutral-900 border-neutral-300 focus:outline-none focus:ring-2 focus:ring-violet-500 focus:border-transparent dark:bg-neutral-900 dark:text-neutral-100 dark:border-neutral-700 dark:focus:ring-violet-400",doe="w-full rounded p-2 border min-h-28 transition-colors duration-200 bg-white text-neutral-900 placeholder-neutral-400 border-neutral-300 focus:outline-none focus:ring-2 focus:ring-violet-500 focus:border-transparent dark:bg-neutral-900 dark:text-neutral-100 dark:placeholder-neutral-500 dark:border-neutral-700 dark:focus:ring-violet-400",bs="block text-sm mb-1 font-medium text-neutral-800 dark:text-neutral-200",foe="text-xs text-neutral-500 dark:text-neutral-400",_0="accent-violet-600 dark:accent-violet-400",yD="accent-violet-600 dark:accent-violet-400",ib="px-3 py-1.5 rounded text-sm font-medium transition-colors duration-200 focus:outline-none focus:ring-2 focus:ring-offset-2 dark:focus:ring-offset-neutral-900",hoe=`${ib} bg-amber-600 text-white hover:bg-amber-500 dark:bg-amber-600 dark:hover:bg-amber-500 cursor-pointer`,moe=`${ib} bg-red-600 text-white hover:bg-red-500 dark:bg-red-600 dark:hover:bg-red-500 cursor-pointer`,bD=`${ib} bg-neutral-800 text-white hover:bg-neutral-700 dark:bg-neutral-700 dark:hover:bg-neutral-600 cursor-pointer`,poe=`${ib} bg-green-600 text-white hover:bg-green-500 dark:bg-green-600 dark:hover:bg-green-500 cursor-pointer`;function goe({item:e,onClose:t}){const{list:n,update:r,remove:i}=vo(),[a,s]=A.useState(!1),[c,d]=A.useState({...e,calendarType:e.calendarType??"solar"}),[f,m]=A.useState(!e.birthTime||e.birthTime===""),[p,y]=A.useState(!e.birthPlace||e.birthPlace.name===""),b=A.useMemo(()=>["","","","","",""],[]),[x,T]=A.useState([]);A.useEffect(()=>{try{const N=JSON.parse(localStorage.getItem(vD)||"[]");Array.isArray(N)&&T(N)}catch{}},[]);const S=A.useMemo(()=>{const N=Array.from(new Set(n.map(B=>B.folder).filter(Boolean))),R=new Set([...b,...x,...N]),$=Array.from(R).sort((B,H)=>B.localeCompare(H));return[Nn,...$]},[n,x,b]),j=()=>{d({...e,calendarType:e.calendarType??"solar"}),m(!e.birthTime||e.birthTime===""),y(!e.birthPlace||e.birthPlace.name==="")},D=()=>{if(!c.name||c.name.trim()==="")return" .";if(!c.birthDay||!/^\d{8}$/.test(c.birthDay))return" YYYYMMDD  .";const N=Number(c.birthDay.slice(0,4)),R=Number(c.birthDay.slice(4,6)),$=Number(c.birthDay.slice(6,8));if(c.calendarType==="lunar")try{ei(N,R,$)}catch(B){return B instanceof Error?B.message:"   ."}else{const B=new Date(N,R-1,$);if(B.getFullYear()!==N||B.getMonth()+1!==R||B.getDate()!==$)return"   ."}if(!f){if(!c.birthTime||!/^\d{4}$/.test(c.birthTime))return"  00002359 (4) .";const B=Number(c.birthTime.slice(0,2)),H=Number(c.birthTime.slice(2,4));if(B<0||B>23||H<0||H>59)return"  00002359  ."}return!p&&!c.birthPlace?"   '' .":null},O=()=>{const N=D();if(N){alert(N);return}const R=Number(c.birthDay.slice(0,4)),$=Number(c.birthDay.slice(4,6)),B=Number(c.birthDay.slice(6,8));let H=R,V=$,z=B;if(c.calendarType==="lunar"){const W=ei(R,$,B);H=W.getFullYear(),V=W.getMonth()+1,z=W.getDate()}const F=f?4:Number((c.birthTime??"0430").slice(0,2)),Q=f?30:Number((c.birthTime??"0430").slice(2,4)),ee=p||!c.birthPlace||c.birthPlace.lon===0?127.5:c.birthPlace.lon,be=new Date(H,V-1,z,F,Q,0,0),J=!c.birthPlace||typeof c.birthPlace=="object"&&c.birthPlace.name==="",le=wu(be,ee,J),me=vt(le,ee).charAt(0),q=((W,de)=>{const Y=["","","","","","","","","",""].includes(W),se=(de??"")==="";return Y?se?"forward":"backward":se?"backward":"forward"})(me,c.gender??""),K=lu(c.folder===Nn?void 0:c.folder),X={...e,name:(c.name??"").trim()||"",birthDay:c.birthDay,birthTime:f?"":c.birthTime??"0430",gender:c.gender??"",birthPlace:p?{name:"",lat:0,lon:127.5}:c.birthPlace??{name:"",lat:0,lon:127.5},relationship:c.relationship??"",memo:c.memo??"",folder:K,calendarType:c.calendarType??"solar",mingSikType:c.mingSikType??"/",DayChangeRule:(c.mingSikType??"/")===""?"":"",dir:q,corrected:le,correctedLocal:"",ganji:""},ie=Ky(X),Z={...X,...ie};if(Z.folder&&!b.includes(Z.folder)&&!x.includes(Z.folder)){const W=[...x,Z.folder];T(W),localStorage.setItem(vD,JSON.stringify(W))}r(e.id,Z),s(!1),t&&t()},M=()=>{confirm(`'${e.name}'  ?`)&&i(e.id)};return a?_.jsxs("div",{className:"space-y-4 max-h-[calc(90dvh_-_40px)] overflow-auto transition-colors duration-200 bg-white text-neutral-900 dark:bg-neutral-950 dark:text-neutral-100 p-4 rounded-xl",children:[_.jsx("h3",{className:"text-lg font-bold",children:" "}),_.jsxs("div",{children:[_.jsx("label",{className:bs,children:""}),_.jsx("input",{className:Fw,value:c.name||"",onChange:N=>d({...c,name:N.target.value}),placeholder:""})]}),_.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3",children:[_.jsxs("div",{children:[_.jsx("label",{className:bs,children:" (YYYYMMDD)"}),_.jsx("input",{className:Fw,value:c.birthDay||"",onChange:N=>d({...c,birthDay:N.target.value.replace(/\D/g,"").slice(0,8)}),inputMode:"numeric",maxLength:8,placeholder:": 19900101"}),_.jsxs("div",{className:"flex gap-4 mt-2 items-center justify-between",children:[_.jsxs("div",{className:"flex gap-4",children:[_.jsxs("span",{className:"inline-flex items-center gap-1",children:[_.jsx("input",{type:"radio",className:_0,name:"calendarType",checked:c.calendarType==="solar",onChange:()=>d({...c,calendarType:"solar"}),id:"editor_calendar_solar"}),_.jsx("label",{htmlFor:"editor_calendar_solar",className:"inline-flex items-center gap-1 text-sm text-neutral-800 dark:text-neutral-200 cursor-pointer",children:""})]}),_.jsxs("span",{className:"inline-flex items-center gap-1",children:[_.jsx("input",{type:"radio",className:_0,name:"calendarType",checked:c.calendarType==="lunar",onChange:()=>d({...c,calendarType:"lunar"}),id:"editor_calendar_lunar"}),_.jsx("label",{htmlFor:"editor_calendar_lunar",className:"inline-flex items-center gap-1 text-sm text-neutral-800 dark:text-neutral-200 cursor-pointer",children:""})]})]}),c.calendarType==="lunar"&&c.birthDay?.length===8&&_.jsx("span",{className:foe,children:(()=>{try{const N=Number(c.birthDay.slice(0,4)),R=Number(c.birthDay.slice(4,6)),$=Number(c.birthDay.slice(6,8)),B=ei(N,R,$);return`  ${B.getFullYear()}-${String(B.getMonth()+1).padStart(2,"0")}-${String(B.getDate()).padStart(2,"0")}`}catch(N){const R=N instanceof Error?N.message:void 0;return`  ${R?`: ${R}`:""}`}})()})]})]}),_.jsxs("div",{children:[_.jsx("label",{className:bs,children:"  (HHMM)"}),_.jsx("input",{className:`${Fw} disabled:opacity-50`,value:f?"":c.birthTime||"",onChange:N=>d({...c,birthTime:N.target.value.replace(/\D/g,"").slice(0,4)}),inputMode:"numeric",maxLength:4,placeholder:": 1524",disabled:f}),_.jsxs("div",{className:"mt-1 text-sm flex items-center gap-2",children:[_.jsx("input",{type:"checkbox",className:yD,checked:f,onChange:N=>m(N.target.checked),id:"editor_birthTimeX"}),_.jsx("label",{htmlFor:"editor_birthTimeX",className:"text-neutral-800 dark:text-neutral-200 cursor-pointer",children:""})]})]})]}),_.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3",children:[_.jsxs("div",{children:[_.jsx("label",{className:bs,children:" "}),_.jsx("div",{className:"flex gap-4 text-sm",children:["","/",""].map(N=>{const R=`editor_ming_${N}`;return _.jsxs("span",{className:"inline-flex items-center gap-1",children:[_.jsx("input",{type:"radio",className:_0,name:"mingSikType",checked:(c.mingSikType??"")===N,onChange:()=>d({...c,mingSikType:N}),id:R}),_.jsx("label",{htmlFor:R,className:"text-neutral-800 dark:text-neutral-200 cursor-pointer",children:N})]},N)})})]}),_.jsxs("div",{children:[_.jsx("label",{className:bs,children:""}),_.jsx("div",{className:"flex gap-4 text-sm",children:["",""].map(N=>{const R=`editor_gender_${N}`;return _.jsxs("span",{className:"inline-flex items-center gap-1",children:[_.jsx("input",{type:"radio",className:_0,name:"gender",value:N,checked:c.gender===N,onChange:$=>d({...c,gender:$.target.value}),id:R}),_.jsx("label",{htmlFor:R,className:"text-neutral-800 dark:text-neutral-200 cursor-pointer",children:N})]},N)})})]})]}),_.jsxs("div",{children:[_.jsx("label",{className:bs,children:" "}),_.jsx(D$,{onSelect:N=>d({...c,birthPlace:N}),value:p?"":c.birthPlace?.name??""}),_.jsxs("div",{className:"mt-1 text-sm flex items-center gap-2",children:[_.jsx("input",{type:"checkbox",className:yD,checked:p,onChange:N=>y(N.target.checked),id:"editor_birthPlaceX"}),_.jsx("label",{htmlFor:"editor_birthPlaceX",className:"text-neutral-800 dark:text-neutral-200 cursor-pointer",children:""})]})]}),_.jsxs("div",{children:[_.jsx("label",{className:bs,children:""}),_.jsx(KB,{value:c.relationship||"",onChange:N=>d({...c,relationship:N})})]}),_.jsxs("div",{children:[_.jsx("label",{className:bs,children:""}),_.jsx("select",{className:uoe,value:c.folder??Nn,onChange:N=>{const R=N.target.value;d(R===Nn?{...c,folder:void 0}:{...c,folder:R})},children:S.map(N=>_.jsx("option",{value:N===Nn?Nn:N,children:N},N))})]}),_.jsxs("div",{children:[_.jsx("label",{className:bs,children:""}),_.jsx("textarea",{className:doe,value:c.memo||"",onChange:N=>d({...c,memo:N.target.value}),placeholder:" "})]}),_.jsxs("div",{className:"flex gap-2 justify-end",children:[_.jsx("button",{className:bD,onClick:()=>{j(),s(!1)},children:""}),_.jsx("button",{className:poe,onClick:O,children:""})]})]}):_.jsxs("div",{className:"p-4 space-y-3 transition-colors duration-200 bg-white text-neutral-900 dark:bg-neutral-950 dark:text-neutral-100",children:[_.jsxs("div",{className:"flex items-center justify-between",children:[_.jsxs("h3",{className:"text-lg font-bold",children:[" ",e.name," "]}),_.jsxs("div",{className:"flex gap-2",children:[_.jsx("button",{className:hoe,onClick:()=>s(!0),children:""}),_.jsx("button",{className:moe,onClick:M,children:""}),t&&_.jsx("button",{className:bD,onClick:t,children:""})]})]}),_.jsxs("div",{className:"text-sm text-neutral-700 dark:text-neutral-300",children:[_.jsxs("div",{children:[": ",e.gender]}),_.jsxs("div",{children:["/: ",e.birthDay," ",e.birthTime===""?"( )":e.birthTime,","," ",e.calendarType==="lunar"?"":""]}),_.jsxs("div",{children:[": ",e.correctedLocal||"-"]}),_.jsxs("div",{children:[": ",e.birthPlace?.name||"-"]}),_.jsxs("div",{children:[": ",e.relationship||"-"]}),_.jsxs("div",{children:[": ",e.folder??Nn]})]}),e.ganji&&_.jsx("div",{className:"text-sm text-red-500 whitespace-pre-wrap",children:e.ganji}),e.memo&&_.jsxs("div",{className:"text-sm whitespace-pre-wrap text-neutral-800 dark:text-neutral-200",children:[_.jsx("p",{className:"mb-1 font-semibold",children:""}),e.memo]})]})}function voe({children:e}){const t=Zl(),[n,r]=A.useState(!1),i=[{label:" ",href:"/admin/dashboard"},{label:"  ",href:"/admin/user"},{label:"  ",href:"/admin/logs"}];return _.jsxs("div",{className:"flex min-h-screen bg-neutral-950 text-white",children:[_.jsxs("aside",{className:`
          fixed top-0 left-0 h-full bg-neutral-900 border-r border-neutral-800 
          transition-all z-50

          desk:w-60 desk:translate-x-0
          ${n?"w-60 translate-x-0":"-translate-x-full"}
        `,children:[_.jsxs("div",{className:"p-4 font-bold text-lg flex items-center justify-between",children:[_.jsx("span",{className:"desk:block hidden",children:""}),_.jsx("button",{className:"desk:hidden text-neutral-400 hover:text-white",onClick:()=>r(!1),children:""})]}),_.jsx("nav",{className:"mt-4 flex flex-col gap-1 px-2",children:i.map(a=>{const s=t.pathname.startsWith(a.href);return _.jsx("a",{href:a.href,className:`
                  block px-3 py-2 rounded-md text-sm
                  ${s?"bg-neutral-800 text-yellow-400":"text-neutral-300 hover:bg-neutral-800"}
                `,children:a.label},a.href)})})]}),_.jsxs("main",{className:"flex-1 flex flex-col desk:ml-60",children:[_.jsxs("header",{className:"h-14 border-b border-neutral-800 bg-neutral-900 flex items-center px-4 justify-between",children:[_.jsx("button",{className:"desk:hidden text-neutral-300",onClick:()=>r(!0),children:""}),_.jsx("div",{className:"font-semibold",children:" "}),_.jsx("button",{className:"text-sm text-neutral-400 hover:text-white cursor-pointer",onClick:()=>window.location.href="/#/",children:" "})]}),_.jsx("div",{className:"flex-1",children:e})]})]})}function yoe(){const[e,t]=A.useState(null),[n,r]=A.useState(!0);return A.useEffect(()=>{(async()=>{const{data:a}=await Ye.auth.getUser(),s=a.user?.id;if(!s){t(null),r(!1);return}const{data:c}=await Ye.from("admin_roles").select("role").eq("user_id",s).maybeSingle();t(c?.role??null),r(!1)})()},[]),{role:e,loading:n}}function boe({allow:e,children:t}){const{role:n,loading:r}=yoe();return r?_.jsx("div",{className:"text-white p-6",children:"Checking permission..."}):!n||!e.includes(n)?_.jsx("div",{className:"text-red-400 p-6",children:" ."}):_.jsx(_.Fragment,{children:t})}function t4(e){var t,n,r="";if(typeof e=="string"||typeof e=="number")r+=e;else if(typeof e=="object")if(Array.isArray(e)){var i=e.length;for(t=0;t<i;t++)e[t]&&(n=t4(e[t]))&&(r&&(r+=" "),r+=n)}else for(n in e)e[n]&&(r&&(r+=" "),r+=n);return r}function vn(){for(var e,t,n=0,r="",i=arguments.length;n<i;n++)(e=arguments[n])&&(t=t4(e))&&(r&&(r+=" "),r+=t);return r}var _oe=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"];function jA(e){if(typeof e!="string")return!1;var t=_oe;return t.includes(e)}var xoe=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],woe=new Set(xoe);function n4(e){return typeof e!="string"?!1:woe.has(e)}function r4(e){return typeof e=="string"&&e.startsWith("data-")}function _o(e){if(typeof e!="object"||e===null)return{};var t={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(n4(n)||r4(n))&&(t[n]=e[n]);return t}function ab(e){if(e==null)return null;if(A.isValidElement(e)&&typeof e.props=="object"&&e.props!==null){var t=e.props;return _o(t)}return typeof e=="object"&&!Array.isArray(e)?_o(e):null}function Ha(e){var t={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(n4(n)||r4(n)||jA(n))&&(t[n]=e[n]);return t}function Soe(e){return e==null?null:A.isValidElement(e)?Ha(e.props):typeof e=="object"&&!Array.isArray(e)?Ha(e):null}var Eoe=["children","width","height","viewBox","className","style","title","desc"];function dE(){return dE=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},dE.apply(null,arguments)}function Aoe(e,t){if(e==null)return{};var n,r,i=Toe(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function Toe(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var i4=A.forwardRef((e,t)=>{var{children:n,width:r,height:i,viewBox:a,className:s,style:c,title:d,desc:f}=e,m=Aoe(e,Eoe),p=a||{width:r,height:i,x:0,y:0},y=vn("recharts-surface",s);return A.createElement("svg",dE({},Ha(m),{className:y,width:r,height:i,style:c,viewBox:"".concat(p.x," ").concat(p.y," ").concat(p.width," ").concat(p.height),ref:t}),A.createElement("title",null,d),A.createElement("desc",null,f),n)}),koe=["children","className"];function fE(){return fE=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},fE.apply(null,arguments)}function Ooe(e,t){if(e==null)return{};var n,r,i=joe(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function joe(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var Ko=A.forwardRef((e,t)=>{var{children:n,className:r}=e,i=Ooe(e,koe),a=vn("recharts-layer",r);return A.createElement("g",fE({className:a},Ha(i),{ref:t}),n)}),Noe=A.createContext(null);function Un(e){return function(){return e}}const hE=Math.PI,mE=2*hE,Zc=1e-6,Coe=mE-Zc;function a4(e){this._+=e[0];for(let t=1,n=e.length;t<n;++t)this._+=arguments[t]+e[t]}function Moe(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return a4;const n=10**t;return function(r){this._+=r[0];for(let i=1,a=r.length;i<a;++i)this._+=Math.round(arguments[i]*n)/n+r[i]}}class Doe{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?a4:Moe(t)}moveTo(t,n){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,n){this._append`L${this._x1=+t},${this._y1=+n}`}quadraticCurveTo(t,n,r,i){this._append`Q${+t},${+n},${this._x1=+r},${this._y1=+i}`}bezierCurveTo(t,n,r,i,a,s){this._append`C${+t},${+n},${+r},${+i},${this._x1=+a},${this._y1=+s}`}arcTo(t,n,r,i,a){if(t=+t,n=+n,r=+r,i=+i,a=+a,a<0)throw new Error(`negative radius: ${a}`);let s=this._x1,c=this._y1,d=r-t,f=i-n,m=s-t,p=c-n,y=m*m+p*p;if(this._x1===null)this._append`M${this._x1=t},${this._y1=n}`;else if(y>Zc)if(!(Math.abs(p*d-f*m)>Zc)||!a)this._append`L${this._x1=t},${this._y1=n}`;else{let b=r-s,x=i-c,T=d*d+f*f,S=b*b+x*x,j=Math.sqrt(T),D=Math.sqrt(y),O=a*Math.tan((hE-Math.acos((T+y-S)/(2*j*D)))/2),M=O/D,N=O/j;Math.abs(M-1)>Zc&&this._append`L${t+M*m},${n+M*p}`,this._append`A${a},${a},0,0,${+(p*b>m*x)},${this._x1=t+N*d},${this._y1=n+N*f}`}}arc(t,n,r,i,a,s){if(t=+t,n=+n,r=+r,s=!!s,r<0)throw new Error(`negative radius: ${r}`);let c=r*Math.cos(i),d=r*Math.sin(i),f=t+c,m=n+d,p=1^s,y=s?i-a:a-i;this._x1===null?this._append`M${f},${m}`:(Math.abs(this._x1-f)>Zc||Math.abs(this._y1-m)>Zc)&&this._append`L${f},${m}`,r&&(y<0&&(y=y%mE+mE),y>Coe?this._append`A${r},${r},0,1,${p},${t-c},${n-d}A${r},${r},0,1,${p},${this._x1=f},${this._y1=m}`:y>Zc&&this._append`A${r},${r},0,${+(y>=hE)},${p},${this._x1=t+r*Math.cos(a)},${this._y1=n+r*Math.sin(a)}`)}rect(t,n,r,i){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+n}h${r=+r}v${+i}h${-r}Z`}toString(){return this._}}function o4(e){let t=3;return e.digits=function(n){if(!arguments.length)return t;if(n==null)t=null;else{const r=Math.floor(n);if(!(r>=0))throw new RangeError(`invalid digits: ${n}`);t=r}return e},()=>new Doe(t)}function NA(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function s4(e){this._context=e}s4.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}};function ob(e){return new s4(e)}function l4(e){return e[0]}function c4(e){return e[1]}function u4(e,t){var n=Un(!0),r=null,i=ob,a=null,s=o4(c);e=typeof e=="function"?e:e===void 0?l4:Un(e),t=typeof t=="function"?t:t===void 0?c4:Un(t);function c(d){var f,m=(d=NA(d)).length,p,y=!1,b;for(r==null&&(a=i(b=s())),f=0;f<=m;++f)!(f<m&&n(p=d[f],f,d))===y&&((y=!y)?a.lineStart():a.lineEnd()),y&&a.point(+e(p,f,d),+t(p,f,d));if(b)return a=null,b+""||null}return c.x=function(d){return arguments.length?(e=typeof d=="function"?d:Un(+d),c):e},c.y=function(d){return arguments.length?(t=typeof d=="function"?d:Un(+d),c):t},c.defined=function(d){return arguments.length?(n=typeof d=="function"?d:Un(!!d),c):n},c.curve=function(d){return arguments.length?(i=d,r!=null&&(a=i(r)),c):i},c.context=function(d){return arguments.length?(d==null?r=a=null:a=i(r=d),c):r},c}function x0(e,t,n){var r=null,i=Un(!0),a=null,s=ob,c=null,d=o4(f);e=typeof e=="function"?e:e===void 0?l4:Un(+e),t=typeof t=="function"?t:Un(t===void 0?0:+t),n=typeof n=="function"?n:n===void 0?c4:Un(+n);function f(p){var y,b,x,T=(p=NA(p)).length,S,j=!1,D,O=new Array(T),M=new Array(T);for(a==null&&(c=s(D=d())),y=0;y<=T;++y){if(!(y<T&&i(S=p[y],y,p))===j)if(j=!j)b=y,c.areaStart(),c.lineStart();else{for(c.lineEnd(),c.lineStart(),x=y-1;x>=b;--x)c.point(O[x],M[x]);c.lineEnd(),c.areaEnd()}j&&(O[y]=+e(S,y,p),M[y]=+t(S,y,p),c.point(r?+r(S,y,p):O[y],n?+n(S,y,p):M[y]))}if(D)return c=null,D+""||null}function m(){return u4().defined(i).curve(s).context(a)}return f.x=function(p){return arguments.length?(e=typeof p=="function"?p:Un(+p),r=null,f):e},f.x0=function(p){return arguments.length?(e=typeof p=="function"?p:Un(+p),f):e},f.x1=function(p){return arguments.length?(r=p==null?null:typeof p=="function"?p:Un(+p),f):r},f.y=function(p){return arguments.length?(t=typeof p=="function"?p:Un(+p),n=null,f):t},f.y0=function(p){return arguments.length?(t=typeof p=="function"?p:Un(+p),f):t},f.y1=function(p){return arguments.length?(n=p==null?null:typeof p=="function"?p:Un(+p),f):n},f.lineX0=f.lineY0=function(){return m().x(e).y(t)},f.lineY1=function(){return m().x(e).y(n)},f.lineX1=function(){return m().x(r).y(t)},f.defined=function(p){return arguments.length?(i=typeof p=="function"?p:Un(!!p),f):i},f.curve=function(p){return arguments.length?(s=p,a!=null&&(c=s(a)),f):s},f.context=function(p){return arguments.length?(p==null?a=c=null:c=s(a=p),f):a},f}class d4{constructor(t,n){this._context=t,this._x=n}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(t,n){switch(t=+t,n=+n,this._point){case 0:{this._point=1,this._line?this._context.lineTo(t,n):this._context.moveTo(t,n);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+t)/2,this._y0,this._x0,n,t,n):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+n)/2,t,this._y0,t,n);break}}this._x0=t,this._y0=n}}function Poe(e){return new d4(e,!0)}function Roe(e){return new d4(e,!1)}function zv(){}function Uv(e,t,n){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+n)/6)}function f4(e){this._context=e}f4.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:Uv(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:Uv(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function Loe(e){return new f4(e)}function h4(e){this._context=e}h4.prototype={areaStart:zv,areaEnd:zv,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:Uv(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function Ioe(e){return new h4(e)}function m4(e){this._context=e}m4.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+e)/6,r=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(n,r):this._context.moveTo(n,r);break;case 3:this._point=4;default:Uv(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function $oe(e){return new m4(e)}function p4(e){this._context=e}p4.prototype={areaStart:zv,areaEnd:zv,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}};function Boe(e){return new p4(e)}function _D(e){return e<0?-1:1}function xD(e,t,n){var r=e._x1-e._x0,i=t-e._x1,a=(e._y1-e._y0)/(r||i<0&&-0),s=(n-e._y1)/(i||r<0&&-0),c=(a*i+s*r)/(r+i);return(_D(a)+_D(s))*Math.min(Math.abs(a),Math.abs(s),.5*Math.abs(c))||0}function wD(e,t){var n=e._x1-e._x0;return n?(3*(e._y1-e._y0)/n-t)/2:t}function Gw(e,t,n){var r=e._x0,i=e._y0,a=e._x1,s=e._y1,c=(a-r)/3;e._context.bezierCurveTo(r+c,i+c*t,a-c,s-c*n,a,s)}function Hv(e){this._context=e}Hv.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:Gw(this,this._t0,wD(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var n=NaN;if(e=+e,t=+t,!(e===this._x1&&t===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,Gw(this,wD(this,n=xD(this,e,t)),n);break;default:Gw(this,this._t0,n=xD(this,e,t));break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=n}}};function g4(e){this._context=new v4(e)}(g4.prototype=Object.create(Hv.prototype)).point=function(e,t){Hv.prototype.point.call(this,t,e)};function v4(e){this._context=e}v4.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,n,r,i,a){this._context.bezierCurveTo(t,e,r,n,a,i)}};function zoe(e){return new Hv(e)}function Uoe(e){return new g4(e)}function y4(e){this._context=e}y4.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,n=e.length;if(n)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),n===2)this._context.lineTo(e[1],t[1]);else for(var r=SD(e),i=SD(t),a=0,s=1;s<n;++a,++s)this._context.bezierCurveTo(r[0][a],i[0][a],r[1][a],i[1][a],e[s],t[s]);(this._line||this._line!==0&&n===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}};function SD(e){var t,n=e.length-1,r,i=new Array(n),a=new Array(n),s=new Array(n);for(i[0]=0,a[0]=2,s[0]=e[0]+2*e[1],t=1;t<n-1;++t)i[t]=1,a[t]=4,s[t]=4*e[t]+2*e[t+1];for(i[n-1]=2,a[n-1]=7,s[n-1]=8*e[n-1]+e[n],t=1;t<n;++t)r=i[t]/a[t-1],a[t]-=r,s[t]-=r*s[t-1];for(i[n-1]=s[n-1]/a[n-1],t=n-2;t>=0;--t)i[t]=(s[t]-i[t+1])/a[t];for(a[n-1]=(e[n]+i[n-1])/2,t=0;t<n-1;++t)a[t]=2*e[t+1]-i[t+1];return[i,a]}function Hoe(e){return new y4(e)}function sb(e,t){this._context=e,this._t=t}sb.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var n=this._x*(1-this._t)+e*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,t)}break}}this._x=e,this._y=t}};function Foe(e){return new sb(e,.5)}function Goe(e){return new sb(e,0)}function qoe(e){return new sb(e,1)}function Qd(e,t){if((s=e.length)>1)for(var n=1,r,i,a=e[t[0]],s,c=a.length;n<s;++n)for(i=a,a=e[t[n]],r=0;r<c;++r)a[r][1]+=a[r][0]=isNaN(i[r][1])?i[r][0]:i[r][1]}function pE(e){for(var t=e.length,n=new Array(t);--t>=0;)n[t]=t;return n}function Yoe(e,t){return e[t]}function Koe(e){const t=[];return t.key=e,t}function Woe(){var e=Un([]),t=pE,n=Qd,r=Yoe;function i(a){var s=Array.from(e.apply(this,arguments),Koe),c,d=s.length,f=-1,m;for(const p of a)for(c=0,++f;c<d;++c)(s[c][f]=[0,+r(p,s[c].key,f,a)]).data=p;for(c=0,m=NA(t(s));c<d;++c)s[m[c]].index=c;return n(s,m),s}return i.keys=function(a){return arguments.length?(e=typeof a=="function"?a:Un(Array.from(a)),i):e},i.value=function(a){return arguments.length?(r=typeof a=="function"?a:Un(+a),i):r},i.order=function(a){return arguments.length?(t=a==null?pE:typeof a=="function"?a:Un(Array.from(a)),i):t},i.offset=function(a){return arguments.length?(n=a??Qd,i):n},i}function Voe(e,t){if((r=e.length)>0){for(var n,r,i=0,a=e[0].length,s;i<a;++i){for(s=n=0;n<r;++n)s+=e[n][i][1]||0;if(s)for(n=0;n<r;++n)e[n][i][1]/=s}Qd(e,t)}}function Zoe(e,t){if((i=e.length)>0){for(var n=0,r=e[t[0]],i,a=r.length;n<a;++n){for(var s=0,c=0;s<i;++s)c+=e[s][n][1]||0;r[n][1]+=r[n][0]=-c/2}Qd(e,t)}}function Xoe(e,t){if(!(!((s=e.length)>0)||!((a=(i=e[t[0]]).length)>0))){for(var n=0,r=1,i,a,s;r<a;++r){for(var c=0,d=0,f=0;c<s;++c){for(var m=e[t[c]],p=m[r][1]||0,y=m[r-1][1]||0,b=(p-y)/2,x=0;x<c;++x){var T=e[t[x]],S=T[r][1]||0,j=T[r-1][1]||0;b+=S-j}d+=p,f+=b*p}i[r-1][1]+=i[r-1][0]=n,d&&(n-=f/d)}i[r-1][1]+=i[r-1][0]=n,Qd(e,t)}}var qw={},Yw={},ED;function Joe(){return ED||(ED=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return n==="__proto__"}e.isUnsafeProperty=t})(Yw)),Yw}var Kw={},AD;function b4(){return AD||(AD=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){switch(typeof n){case"number":case"symbol":return!1;case"string":return n.includes(".")||n.includes("[")||n.includes("]")}}e.isDeepKey=t})(Kw)),Kw}var Ww={},TD;function CA(){return TD||(TD=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return typeof n=="string"||typeof n=="symbol"?n:Object.is(n?.valueOf?.(),-0)?"-0":String(n)}e.toKey=t})(Ww)),Ww}var Vw={},Zw={},kD;function Qoe(){return kD||(kD=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){if(n==null)return"";if(typeof n=="string")return n;if(Array.isArray(n))return n.map(t).join(",");const r=String(n);return r==="0"&&Object.is(Number(n),-0)?"-0":r}e.toString=t})(Zw)),Zw}var OD;function MA(){return OD||(OD=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Qoe(),n=CA();function r(i){if(Array.isArray(i))return i.map(n.toKey);if(typeof i=="symbol")return[i];i=t.toString(i);const a=[],s=i.length;if(s===0)return a;let c=0,d="",f="",m=!1;for(i.charCodeAt(0)===46&&(a.push(""),c++);c<s;){const p=i[c];f?p==="\\"&&c+1<s?(c++,d+=i[c]):p===f?f="":d+=p:m?p==='"'||p==="'"?f=p:p==="]"?(m=!1,a.push(d),d=""):d+=p:p==="["?(m=!0,d&&(a.push(d),d="")):p==="."?d&&(a.push(d),d=""):d+=p,c++}return d&&a.push(d),a}e.toPath=r})(Vw)),Vw}var jD;function DA(){return jD||(jD=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Joe(),n=b4(),r=CA(),i=MA();function a(c,d,f){if(c==null)return f;switch(typeof d){case"string":{if(t.isUnsafeProperty(d))return f;const m=c[d];return m===void 0?n.isDeepKey(d)?a(c,i.toPath(d),f):f:m}case"number":case"symbol":{typeof d=="number"&&(d=r.toKey(d));const m=c[d];return m===void 0?f:m}default:{if(Array.isArray(d))return s(c,d,f);if(Object.is(d?.valueOf(),-0)?d="-0":d=String(d),t.isUnsafeProperty(d))return f;const m=c[d];return m===void 0?f:m}}}function s(c,d,f){if(d.length===0)return f;let m=c;for(let p=0;p<d.length;p++){if(m==null||t.isUnsafeProperty(d[p]))return f;m=m[d[p]]}return m===void 0?f:m}e.get=a})(qw)),qw}var Xw,ND;function ese(){return ND||(ND=1,Xw=DA().get),Xw}var tse=ese();const lb=Li(tse);var La=e=>e===0?0:e>0?1:-1,xo=e=>typeof e=="number"&&e!=+e,Ps=e=>typeof e=="string"&&e.indexOf("%")===e.length-1,nt=e=>(typeof e=="number"||e instanceof Number)&&!xo(e),Wo=e=>nt(e)||typeof e=="string",nse=0,bm=e=>{var t=++nse;return"".concat(e||"").concat(t)},Wl=function(t,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!nt(t)&&typeof t!="string")return r;var a;if(Ps(t)){if(n==null)return r;var s=t.indexOf("%");a=n*parseFloat(t.slice(0,s))/100}else a=+t;return xo(a)&&(a=r),i&&n!=null&&a>n&&(a=n),a},_4=e=>{if(!Array.isArray(e))return!1;for(var t=e.length,n={},r=0;r<t;r++)if(!n[e[r]])n[e[r]]=!0;else return!0;return!1};function Ho(e,t,n){return nt(e)&&nt(t)?e+n*(t-e):t}function x4(e,t,n){if(!(!e||!e.length))return e.find(r=>r&&(typeof t=="function"?t(r):lb(r,t))===n)}var zr=e=>e===null||typeof e>"u",PA=e=>zr(e)?e:"".concat(e.charAt(0).toUpperCase()).concat(e.slice(1));function rse(e){return e!=null}function Xm(){}var w4=e=>"radius"in e&&"startAngle"in e&&"endAngle"in e,RA=(e,t)=>{if(!e||typeof e=="function"||typeof e=="boolean")return null;var n=e;if(A.isValidElement(e)&&(n=e.props),typeof n!="object"&&typeof n!="function")return null;var r={};return Object.keys(n).forEach(i=>{jA(i)&&(r[i]=(a=>n[i](n,a)))}),r},ise=(e,t,n)=>r=>(e(t,n,r),null),ase=(e,t,n)=>{if(e===null||typeof e!="object"&&typeof e!="function")return null;var r=null;return Object.keys(e).forEach(i=>{var a=e[i];jA(i)&&typeof a=="function"&&(r||(r={}),r[i]=ise(a,t,n))}),r};function CD(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function ose(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?CD(Object(n),!0).forEach(function(r){sse(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):CD(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function sse(e,t,n){return(t=lse(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function lse(e){var t=cse(e,"string");return typeof t=="symbol"?t:t+""}function cse(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function fa(e,t){var n=ose({},e),r=t,i=Object.keys(t),a=i.reduce((s,c)=>(s[c]===void 0&&r[c]!==void 0&&(s[c]=r[c]),s),n);return a}var Jw={},Qw={},MD;function use(){return MD||(MD=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n,r){const i=new Map;for(let a=0;a<n.length;a++){const s=n[a],c=r(s);i.has(c)||i.set(c,s)}return Array.from(i.values())}e.uniqBy=t})(Qw)),Qw}var e1={},DD;function S4(){return DD||(DD=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return n}e.identity=t})(e1)),e1}var t1={},n1={},r1={},PD;function dse(){return PD||(PD=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return Number.isSafeInteger(n)&&n>=0}e.isLength=t})(r1)),r1}var RD;function LA(){return RD||(RD=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=dse();function n(r){return r!=null&&typeof r!="function"&&t.isLength(r.length)}e.isArrayLike=n})(n1)),n1}var i1={},LD;function fse(){return LD||(LD=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return typeof n=="object"&&n!==null}e.isObjectLike=t})(i1)),i1}var ID;function hse(){return ID||(ID=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=LA(),n=fse();function r(i){return n.isObjectLike(i)&&t.isArrayLike(i)}e.isArrayLikeObject=r})(t1)),t1}var a1={},o1={},$D;function mse(){return $D||($D=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=DA();function n(r){return function(i){return t.get(i,r)}}e.property=n})(o1)),o1}var s1={},l1={},c1={},u1={},BD;function E4(){return BD||(BD=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return n!==null&&(typeof n=="object"||typeof n=="function")}e.isObject=t})(u1)),u1}var d1={},zD;function A4(){return zD||(zD=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return n==null||typeof n!="object"&&typeof n!="function"}e.isPrimitive=t})(d1)),d1}var f1={},UD;function T4(){return UD||(UD=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n,r){return n===r||Number.isNaN(n)&&Number.isNaN(r)}e.eq=t})(f1)),f1}var HD;function pse(){return HD||(HD=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=E4(),n=A4(),r=T4();function i(m,p,y){return typeof y!="function"?i(m,p,()=>{}):a(m,p,function b(x,T,S,j,D,O){const M=y(x,T,S,j,D,O);return M!==void 0?!!M:a(x,T,b,O)},new Map)}function a(m,p,y,b){if(p===m)return!0;switch(typeof p){case"object":return s(m,p,y,b);case"function":return Object.keys(p).length>0?a(m,{...p},y,b):r.eq(m,p);default:return t.isObject(m)?typeof p=="string"?p==="":!0:r.eq(m,p)}}function s(m,p,y,b){if(p==null)return!0;if(Array.isArray(p))return d(m,p,y,b);if(p instanceof Map)return c(m,p,y,b);if(p instanceof Set)return f(m,p,y,b);const x=Object.keys(p);if(m==null)return x.length===0;if(x.length===0)return!0;if(b?.has(p))return b.get(p)===m;b?.set(p,m);try{for(let T=0;T<x.length;T++){const S=x[T];if(!n.isPrimitive(m)&&!(S in m)||p[S]===void 0&&m[S]!==void 0||p[S]===null&&m[S]!==null||!y(m[S],p[S],S,m,p,b))return!1}return!0}finally{b?.delete(p)}}function c(m,p,y,b){if(p.size===0)return!0;if(!(m instanceof Map))return!1;for(const[x,T]of p.entries()){const S=m.get(x);if(y(S,T,x,m,p,b)===!1)return!1}return!0}function d(m,p,y,b){if(p.length===0)return!0;if(!Array.isArray(m))return!1;const x=new Set;for(let T=0;T<p.length;T++){const S=p[T];let j=!1;for(let D=0;D<m.length;D++){if(x.has(D))continue;const O=m[D];let M=!1;if(y(O,S,T,m,p,b)&&(M=!0),M){x.add(D),j=!0;break}}if(!j)return!1}return!0}function f(m,p,y,b){return p.size===0?!0:m instanceof Set?d([...m],[...p],y,b):!1}e.isMatchWith=i,e.isSetMatch=f})(c1)),c1}var FD;function k4(){return FD||(FD=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=pse();function n(r,i){return t.isMatchWith(r,i,()=>{})}e.isMatch=n})(l1)),l1}var h1={},m1={},p1={},GD;function gse(){return GD||(GD=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return Object.getOwnPropertySymbols(n).filter(r=>Object.prototype.propertyIsEnumerable.call(n,r))}e.getSymbols=t})(p1)),p1}var g1={},qD;function O4(){return qD||(qD=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return n==null?n===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(n)}e.getTag=t})(g1)),g1}var v1={},YD;function j4(){return YD||(YD=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t="[object RegExp]",n="[object String]",r="[object Number]",i="[object Boolean]",a="[object Arguments]",s="[object Symbol]",c="[object Date]",d="[object Map]",f="[object Set]",m="[object Array]",p="[object Function]",y="[object ArrayBuffer]",b="[object Object]",x="[object Error]",T="[object DataView]",S="[object Uint8Array]",j="[object Uint8ClampedArray]",D="[object Uint16Array]",O="[object Uint32Array]",M="[object BigUint64Array]",N="[object Int8Array]",R="[object Int16Array]",$="[object Int32Array]",B="[object BigInt64Array]",H="[object Float32Array]",V="[object Float64Array]";e.argumentsTag=a,e.arrayBufferTag=y,e.arrayTag=m,e.bigInt64ArrayTag=B,e.bigUint64ArrayTag=M,e.booleanTag=i,e.dataViewTag=T,e.dateTag=c,e.errorTag=x,e.float32ArrayTag=H,e.float64ArrayTag=V,e.functionTag=p,e.int16ArrayTag=R,e.int32ArrayTag=$,e.int8ArrayTag=N,e.mapTag=d,e.numberTag=r,e.objectTag=b,e.regexpTag=t,e.setTag=f,e.stringTag=n,e.symbolTag=s,e.uint16ArrayTag=D,e.uint32ArrayTag=O,e.uint8ArrayTag=S,e.uint8ClampedArrayTag=j})(v1)),v1}var y1={},KD;function vse(){return KD||(KD=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return ArrayBuffer.isView(n)&&!(n instanceof DataView)}e.isTypedArray=t})(y1)),y1}var WD;function N4(){return WD||(WD=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=gse(),n=O4(),r=j4(),i=A4(),a=vse();function s(m,p){return c(m,void 0,m,new Map,p)}function c(m,p,y,b=new Map,x=void 0){const T=x?.(m,p,y,b);if(T!==void 0)return T;if(i.isPrimitive(m))return m;if(b.has(m))return b.get(m);if(Array.isArray(m)){const S=new Array(m.length);b.set(m,S);for(let j=0;j<m.length;j++)S[j]=c(m[j],j,y,b,x);return Object.hasOwn(m,"index")&&(S.index=m.index),Object.hasOwn(m,"input")&&(S.input=m.input),S}if(m instanceof Date)return new Date(m.getTime());if(m instanceof RegExp){const S=new RegExp(m.source,m.flags);return S.lastIndex=m.lastIndex,S}if(m instanceof Map){const S=new Map;b.set(m,S);for(const[j,D]of m)S.set(j,c(D,j,y,b,x));return S}if(m instanceof Set){const S=new Set;b.set(m,S);for(const j of m)S.add(c(j,void 0,y,b,x));return S}if(typeof Buffer<"u"&&Buffer.isBuffer(m))return m.subarray();if(a.isTypedArray(m)){const S=new(Object.getPrototypeOf(m)).constructor(m.length);b.set(m,S);for(let j=0;j<m.length;j++)S[j]=c(m[j],j,y,b,x);return S}if(m instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&m instanceof SharedArrayBuffer)return m.slice(0);if(m instanceof DataView){const S=new DataView(m.buffer.slice(0),m.byteOffset,m.byteLength);return b.set(m,S),d(S,m,y,b,x),S}if(typeof File<"u"&&m instanceof File){const S=new File([m],m.name,{type:m.type});return b.set(m,S),d(S,m,y,b,x),S}if(typeof Blob<"u"&&m instanceof Blob){const S=new Blob([m],{type:m.type});return b.set(m,S),d(S,m,y,b,x),S}if(m instanceof Error){const S=new m.constructor;return b.set(m,S),S.message=m.message,S.name=m.name,S.stack=m.stack,S.cause=m.cause,d(S,m,y,b,x),S}if(m instanceof Boolean){const S=new Boolean(m.valueOf());return b.set(m,S),d(S,m,y,b,x),S}if(m instanceof Number){const S=new Number(m.valueOf());return b.set(m,S),d(S,m,y,b,x),S}if(m instanceof String){const S=new String(m.valueOf());return b.set(m,S),d(S,m,y,b,x),S}if(typeof m=="object"&&f(m)){const S=Object.create(Object.getPrototypeOf(m));return b.set(m,S),d(S,m,y,b,x),S}return m}function d(m,p,y=m,b,x){const T=[...Object.keys(p),...t.getSymbols(p)];for(let S=0;S<T.length;S++){const j=T[S],D=Object.getOwnPropertyDescriptor(m,j);(D==null||D.writable)&&(m[j]=c(p[j],j,y,b,x))}}function f(m){switch(n.getTag(m)){case r.argumentsTag:case r.arrayTag:case r.arrayBufferTag:case r.dataViewTag:case r.booleanTag:case r.dateTag:case r.float32ArrayTag:case r.float64ArrayTag:case r.int8ArrayTag:case r.int16ArrayTag:case r.int32ArrayTag:case r.mapTag:case r.numberTag:case r.objectTag:case r.regexpTag:case r.setTag:case r.stringTag:case r.symbolTag:case r.uint8ArrayTag:case r.uint8ClampedArrayTag:case r.uint16ArrayTag:case r.uint32ArrayTag:return!0;default:return!1}}e.cloneDeepWith=s,e.cloneDeepWithImpl=c,e.copyProperties=d})(m1)),m1}var VD;function yse(){return VD||(VD=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=N4();function n(r){return t.cloneDeepWithImpl(r,void 0,r,new Map,void 0)}e.cloneDeep=n})(h1)),h1}var ZD;function bse(){return ZD||(ZD=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=k4(),n=yse();function r(i){return i=n.cloneDeep(i),a=>t.isMatch(a,i)}e.matches=r})(s1)),s1}var b1={},_1={},x1={},XD;function _se(){return XD||(XD=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=N4(),n=j4();function r(i,a){return t.cloneDeepWith(i,(s,c,d,f)=>{const m=a?.(s,c,d,f);if(m!==void 0)return m;if(typeof i=="object")switch(Object.prototype.toString.call(i)){case n.numberTag:case n.stringTag:case n.booleanTag:{const p=new i.constructor(i?.valueOf());return t.copyProperties(p,i),p}case n.argumentsTag:{const p={};return t.copyProperties(p,i),p.length=i.length,p[Symbol.iterator]=i[Symbol.iterator],p}default:return}})}e.cloneDeepWith=r})(x1)),x1}var JD;function xse(){return JD||(JD=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=_se();function n(r){return t.cloneDeepWith(r)}e.cloneDeep=n})(_1)),_1}var w1={},S1={},QD;function C4(){return QD||(QD=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=/^(?:0|[1-9]\d*)$/;function n(r,i=Number.MAX_SAFE_INTEGER){switch(typeof r){case"number":return Number.isInteger(r)&&r>=0&&r<i;case"symbol":return!1;case"string":return t.test(r)}}e.isIndex=n})(S1)),S1}var E1={},eP;function wse(){return eP||(eP=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=O4();function n(r){return r!==null&&typeof r=="object"&&t.getTag(r)==="[object Arguments]"}e.isArguments=n})(E1)),E1}var tP;function Sse(){return tP||(tP=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=b4(),n=C4(),r=wse(),i=MA();function a(s,c){let d;if(Array.isArray(c)?d=c:typeof c=="string"&&t.isDeepKey(c)&&s?.[c]==null?d=i.toPath(c):d=[c],d.length===0)return!1;let f=s;for(let m=0;m<d.length;m++){const p=d[m];if((f==null||!Object.hasOwn(f,p))&&!((Array.isArray(f)||r.isArguments(f))&&n.isIndex(p)&&p<f.length))return!1;f=f[p]}return!0}e.has=a})(w1)),w1}var nP;function Ese(){return nP||(nP=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=k4(),n=CA(),r=xse(),i=DA(),a=Sse();function s(c,d){switch(typeof c){case"object":{Object.is(c?.valueOf(),-0)&&(c="-0");break}case"number":{c=n.toKey(c);break}}return d=r.cloneDeep(d),function(f){const m=i.get(f,c);return m===void 0?a.has(f,c):d===void 0?m===void 0:t.isMatch(m,d)}}e.matchesProperty=s})(b1)),b1}var rP;function Ase(){return rP||(rP=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=S4(),n=mse(),r=bse(),i=Ese();function a(s){if(s==null)return t.identity;switch(typeof s){case"function":return s;case"object":return Array.isArray(s)&&s.length===2?i.matchesProperty(s[0],s[1]):r.matches(s);case"string":case"symbol":case"number":return n.property(s)}}e.iteratee=a})(a1)),a1}var iP;function Tse(){return iP||(iP=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=use(),n=S4(),r=hse(),i=Ase();function a(s,c=n.identity){return r.isArrayLikeObject(s)?t.uniqBy(Array.from(s),i.iteratee(c)):[]}e.uniqBy=a})(Jw)),Jw}var A1,aP;function kse(){return aP||(aP=1,A1=Tse().uniqBy),A1}var Ose=kse();const oP=Li(Ose);function jse(e,t,n){return t===!0?oP(e,n):typeof t=="function"?oP(e,t):e}var T1={exports:{}},k1={},O1={exports:{}},j1={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var sP;function Nse(){if(sP)return j1;sP=1;var e=sf();function t(p,y){return p===y&&(p!==0||1/p===1/y)||p!==p&&y!==y}var n=typeof Object.is=="function"?Object.is:t,r=e.useState,i=e.useEffect,a=e.useLayoutEffect,s=e.useDebugValue;function c(p,y){var b=y(),x=r({inst:{value:b,getSnapshot:y}}),T=x[0].inst,S=x[1];return a(function(){T.value=b,T.getSnapshot=y,d(T)&&S({inst:T})},[p,b,y]),i(function(){return d(T)&&S({inst:T}),p(function(){d(T)&&S({inst:T})})},[p]),s(b),b}function d(p){var y=p.getSnapshot;p=p.value;try{var b=y();return!n(p,b)}catch{return!0}}function f(p,y){return y()}var m=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?f:c;return j1.useSyncExternalStore=e.useSyncExternalStore!==void 0?e.useSyncExternalStore:m,j1}var lP;function Cse(){return lP||(lP=1,O1.exports=Nse()),O1.exports}/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var cP;function Mse(){if(cP)return k1;cP=1;var e=sf(),t=Cse();function n(f,m){return f===m&&(f!==0||1/f===1/m)||f!==f&&m!==m}var r=typeof Object.is=="function"?Object.is:n,i=t.useSyncExternalStore,a=e.useRef,s=e.useEffect,c=e.useMemo,d=e.useDebugValue;return k1.useSyncExternalStoreWithSelector=function(f,m,p,y,b){var x=a(null);if(x.current===null){var T={hasValue:!1,value:null};x.current=T}else T=x.current;x=c(function(){function j(R){if(!D){if(D=!0,O=R,R=y(R),b!==void 0&&T.hasValue){var $=T.value;if(b($,R))return M=$}return M=R}if($=M,r(O,R))return $;var B=y(R);return b!==void 0&&b($,B)?(O=R,$):(O=R,M=B)}var D=!1,O,M,N=p===void 0?null:p;return[function(){return j(m())},N===null?void 0:function(){return j(N())}]},[m,p,y,b]);var S=i(f,x[0],x[1]);return s(function(){T.hasValue=!0,T.value=S},[S]),d(S),S},k1}var uP;function Dse(){return uP||(uP=1,T1.exports=Mse()),T1.exports}var Pse=Dse(),IA=A.createContext(null),Rse=e=>e,kr=()=>{var e=A.useContext(IA);return e?e.store.dispatch:Rse},av=()=>{},Lse=()=>av,Ise=(e,t)=>e===t;function it(e){var t=A.useContext(IA);return Pse.useSyncExternalStoreWithSelector(t?t.subscription.addNestedSub:Lse,t?t.store.getState:av,t?t.store.getState:av,t?e:av,Ise)}function $se(e,t=`expected a function, instead received ${typeof e}`){if(typeof e!="function")throw new TypeError(t)}function Bse(e,t=`expected an object, instead received ${typeof e}`){if(typeof e!="object")throw new TypeError(t)}function zse(e,t="expected all items to be functions, instead received the following types: "){if(!e.every(n=>typeof n=="function")){const n=e.map(r=>typeof r=="function"?`function ${r.name||"unnamed"}()`:typeof r).join(", ");throw new TypeError(`${t}[${n}]`)}}var dP=e=>Array.isArray(e)?e:[e];function Use(e){const t=Array.isArray(e[0])?e[0]:e;return zse(t,"createSelector expects all input-selectors to be functions, but received the following types: "),t}function Hse(e,t){const n=[],{length:r}=e;for(let i=0;i<r;i++)n.push(e[i].apply(null,t));return n}var Fse=class{constructor(e){this.value=e}deref(){return this.value}},Gse=typeof WeakRef<"u"?WeakRef:Fse,qse=0,fP=1;function w0(){return{s:qse,v:void 0,o:null,p:null}}function M4(e,t={}){let n=w0();const{resultEqualityCheck:r}=t;let i,a=0;function s(){let c=n;const{length:d}=arguments;for(let p=0,y=d;p<y;p++){const b=arguments[p];if(typeof b=="function"||typeof b=="object"&&b!==null){let x=c.o;x===null&&(c.o=x=new WeakMap);const T=x.get(b);T===void 0?(c=w0(),x.set(b,c)):c=T}else{let x=c.p;x===null&&(c.p=x=new Map);const T=x.get(b);T===void 0?(c=w0(),x.set(b,c)):c=T}}const f=c;let m;if(c.s===fP)m=c.v;else if(m=e.apply(null,arguments),a++,r){const p=i?.deref?.()??i;p!=null&&r(p,m)&&(m=p,a!==0&&a--),i=typeof m=="object"&&m!==null||typeof m=="function"?new Gse(m):m}return f.s=fP,f.v=m,m}return s.clearCache=()=>{n=w0(),s.resetResultsCount()},s.resultsCount=()=>a,s.resetResultsCount=()=>{a=0},s}function Yse(e,...t){const n=typeof e=="function"?{memoize:e,memoizeOptions:t}:e,r=(...i)=>{let a=0,s=0,c,d={},f=i.pop();typeof f=="object"&&(d=f,f=i.pop()),$se(f,`createSelector expects an output function after the inputs, but received: [${typeof f}]`);const m={...n,...d},{memoize:p,memoizeOptions:y=[],argsMemoize:b=M4,argsMemoizeOptions:x=[]}=m,T=dP(y),S=dP(x),j=Use(i),D=p(function(){return a++,f.apply(null,arguments)},...T),O=b(function(){s++;const N=Hse(j,arguments);return c=D.apply(null,N),c},...S);return Object.assign(O,{resultFunc:f,memoizedResultFunc:D,dependencies:j,dependencyRecomputations:()=>s,resetDependencyRecomputations:()=>{s=0},lastResult:()=>c,recomputations:()=>a,resetRecomputations:()=>{a=0},memoize:p,argsMemoize:b})};return Object.assign(r,{withTypes:()=>r}),r}var Oe=Yse(M4),Kse=Object.assign((e,t=Oe)=>{Bse(e,`createStructuredSelector expects first argument to be an object where each property is a selector, instead received a ${typeof e}`);const n=Object.keys(e),r=n.map(a=>e[a]);return t(r,(...a)=>a.reduce((s,c,d)=>(s[n[d]]=c,s),{}))},{withTypes:()=>Kse}),N1={},C1={},M1={},hP;function Wse(){return hP||(hP=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return typeof r=="symbol"?1:r===null?2:r===void 0?3:r!==r?4:0}const n=(r,i,a)=>{if(r!==i){const s=t(r),c=t(i);if(s===c&&s===0){if(r<i)return a==="desc"?1:-1;if(r>i)return a==="desc"?-1:1}return a==="desc"?c-s:s-c}return 0};e.compareValues=n})(M1)),M1}var D1={},P1={},mP;function D4(){return mP||(mP=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return typeof n=="symbol"||n instanceof Symbol}e.isSymbol=t})(P1)),P1}var pP;function Vse(){return pP||(pP=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=D4(),n=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,r=/^\w*$/;function i(a,s){return Array.isArray(a)?!1:typeof a=="number"||typeof a=="boolean"||a==null||t.isSymbol(a)?!0:typeof a=="string"&&(r.test(a)||!n.test(a))||s!=null&&Object.hasOwn(s,a)}e.isKey=i})(D1)),D1}var gP;function Zse(){return gP||(gP=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Wse(),n=Vse(),r=MA();function i(a,s,c,d){if(a==null)return[];c=d?void 0:c,Array.isArray(a)||(a=Object.values(a)),Array.isArray(s)||(s=s==null?[null]:[s]),s.length===0&&(s=[null]),Array.isArray(c)||(c=c==null?[]:[c]),c=c.map(b=>String(b));const f=(b,x)=>{let T=b;for(let S=0;S<x.length&&T!=null;++S)T=T[x[S]];return T},m=(b,x)=>x==null||b==null?x:typeof b=="object"&&"key"in b?Object.hasOwn(x,b.key)?x[b.key]:f(x,b.path):typeof b=="function"?b(x):Array.isArray(b)?f(x,b):typeof x=="object"?x[b]:x,p=s.map(b=>(Array.isArray(b)&&b.length===1&&(b=b[0]),b==null||typeof b=="function"||Array.isArray(b)||n.isKey(b)?b:{key:b,path:r.toPath(b)}));return a.map(b=>({original:b,criteria:p.map(x=>m(x,b))})).slice().sort((b,x)=>{for(let T=0;T<p.length;T++){const S=t.compareValues(b.criteria[T],x.criteria[T],c[T]);if(S!==0)return S}return 0}).map(b=>b.original)}e.orderBy=i})(C1)),C1}var R1={},vP;function Xse(){return vP||(vP=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n,r=1){const i=[],a=Math.floor(r),s=(c,d)=>{for(let f=0;f<c.length;f++){const m=c[f];Array.isArray(m)&&d<a?s(m,d+1):i.push(m)}};return s(n,0),i}e.flatten=t})(R1)),R1}var L1={},yP;function P4(){return yP||(yP=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=C4(),n=LA(),r=E4(),i=T4();function a(s,c,d){return r.isObject(d)&&(typeof c=="number"&&n.isArrayLike(d)&&t.isIndex(c)&&c<d.length||typeof c=="string"&&c in d)?i.eq(d[c],s):!1}e.isIterateeCall=a})(L1)),L1}var bP;function Jse(){return bP||(bP=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Zse(),n=Xse(),r=P4();function i(a,...s){const c=s.length;return c>1&&r.isIterateeCall(a,s[0],s[1])?s=[]:c>2&&r.isIterateeCall(s[0],s[1],s[2])&&(s=[s[0]]),t.orderBy(a,n.flatten(s),["asc"])}e.sortBy=i})(N1)),N1}var I1,_P;function Qse(){return _P||(_P=1,I1=Jse().sortBy),I1}var ele=Qse();const cb=Li(ele);var R4=e=>e.legend.settings,tle=e=>e.legend.size,nle=e=>e.legend.payload;Oe([nle,R4],(e,t)=>{var{itemSorter:n}=t,r=e.flat(1);return n?cb(r,n):r});var S0=1;function rle(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],[t,n]=A.useState({height:0,left:0,top:0,width:0}),r=A.useCallback(i=>{if(i!=null){var a=i.getBoundingClientRect(),s={height:a.height,left:a.left,top:a.top,width:a.width};(Math.abs(s.height-t.height)>S0||Math.abs(s.left-t.left)>S0||Math.abs(s.top-t.top)>S0||Math.abs(s.width-t.width)>S0)&&n({height:s.height,left:s.left,top:s.top,width:s.width})}},[t.width,t.height,t.top,t.left,...e]);return[t,r]}var L4=Symbol.for("immer-nothing"),xP=Symbol.for("immer-draftable"),mi=Symbol.for("immer-state");function ho(e,...t){throw new Error(`[Immer] minified error nr: ${e}. Full error at: https://bit.ly/3cXEKWf`)}var ia=Object,ef=ia.getPrototypeOf,Fv="constructor",ub="prototype",gE="configurable",Gv="enumerable",ov="writable",_m="value",Rs=e=>!!e&&!!e[mi];function wo(e){return e?I4(e)||db(e)||!!e[xP]||!!e[Fv]?.[xP]||fb(e)||hb(e):!1}var ile=ia[ub][Fv].toString(),wP=new WeakMap;function I4(e){if(!e||!$A(e))return!1;const t=ef(e);if(t===null||t===ia[ub])return!0;const n=ia.hasOwnProperty.call(t,Fv)&&t[Fv];if(n===Object)return!0;if(!jd(n))return!1;let r=wP.get(n);return r===void 0&&(r=Function.toString.call(n),wP.set(n,r)),r===ile}function Jm(e,t,n=!0){Qm(e)===0?(n?Reflect.ownKeys(e):ia.keys(e)).forEach(i=>{t(i,e[i],e)}):e.forEach((r,i)=>t(i,r,e))}function Qm(e){const t=e[mi];return t?t.type_:db(e)?1:fb(e)?2:hb(e)?3:0}var SP=(e,t,n=Qm(e))=>n===2?e.has(t):ia[ub].hasOwnProperty.call(e,t),vE=(e,t,n=Qm(e))=>n===2?e.get(t):e[t],qv=(e,t,n,r=Qm(e))=>{r===2?e.set(t,n):r===3?e.add(n):e[t]=n};function ale(e,t){return e===t?e!==0||1/e===1/t:e!==e&&t!==t}var db=Array.isArray,fb=e=>e instanceof Map,hb=e=>e instanceof Set,$A=e=>typeof e=="object",jd=e=>typeof e=="function",$1=e=>typeof e=="boolean",Ss=e=>e.copy_||e.base_,BA=e=>e.modified_?e.copy_:e.base_;function yE(e,t){if(fb(e))return new Map(e);if(hb(e))return new Set(e);if(db(e))return Array[ub].slice.call(e);const n=I4(e);if(t===!0||t==="class_only"&&!n){const r=ia.getOwnPropertyDescriptors(e);delete r[mi];let i=Reflect.ownKeys(r);for(let a=0;a<i.length;a++){const s=i[a],c=r[s];c[ov]===!1&&(c[ov]=!0,c[gE]=!0),(c.get||c.set)&&(r[s]={[gE]:!0,[ov]:!0,[Gv]:c[Gv],[_m]:e[s]})}return ia.create(ef(e),r)}else{const r=ef(e);if(r!==null&&n)return{...e};const i=ia.create(r);return ia.assign(i,e)}}function zA(e,t=!1){return mb(e)||Rs(e)||!wo(e)||(Qm(e)>1&&ia.defineProperties(e,{set:E0,add:E0,clear:E0,delete:E0}),ia.freeze(e),t&&Jm(e,(n,r)=>{zA(r,!0)},!1)),e}function ole(){ho(2)}var E0={[_m]:ole};function mb(e){return e===null||!$A(e)?!0:ia.isFrozen(e)}var Yv="MapSet",bE="Patches",$4={};function tf(e){const t=$4[e];return t||ho(0,e),t}var sle=e=>!!$4[e],xm,B4=()=>xm,lle=(e,t)=>({drafts_:[],parent_:e,immer_:t,canAutoFreeze_:!0,unfinalizedDrafts_:0,handledSet_:new Set,processedForPatches_:new Set,mapSetPlugin_:sle(Yv)?tf(Yv):void 0});function EP(e,t){t&&(e.patchPlugin_=tf(bE),e.patches_=[],e.inversePatches_=[],e.patchListener_=t)}function _E(e){xE(e),e.drafts_.forEach(cle),e.drafts_=null}function xE(e){e===xm&&(xm=e.parent_)}var AP=e=>xm=lle(xm,e);function cle(e){const t=e[mi];t.type_===0||t.type_===1?t.revoke_():t.revoked_=!0}function TP(e,t){t.unfinalizedDrafts_=t.drafts_.length;const n=t.drafts_[0];if(e!==void 0&&e!==n){n[mi].modified_&&(_E(t),ho(4)),wo(e)&&(e=kP(t,e));const{patchPlugin_:i}=t;i&&i.generateReplacementPatches_(n[mi].base_,e,t)}else e=kP(t,n);return ule(t,e,!0),_E(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),e!==L4?e:void 0}function kP(e,t){if(mb(t))return t;const n=t[mi];if(!n)return UA(t,e.handledSet_,e);if(!pb(n,e))return t;if(!n.modified_)return n.base_;if(!n.finalized_){const{callbacks_:r}=n;if(r)for(;r.length>0;)r.pop()(e);H4(n,e)}return n.copy_}function ule(e,t,n=!1){!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&zA(t,n)}function z4(e){e.finalized_=!0,e.scope_.unfinalizedDrafts_--}var pb=(e,t)=>e.scope_===t,dle=[];function U4(e,t,n,r){const i=Ss(e),a=e.type_;if(r!==void 0&&vE(i,r,a)===t){qv(i,r,n,a);return}if(!e.draftLocations_){const c=e.draftLocations_=new Map;Jm(i,(d,f)=>{if(Rs(f)){const m=c.get(f)||[];m.push(d),c.set(f,m)}})}const s=e.draftLocations_.get(t)??dle;for(const c of s)qv(i,c,n,a)}function fle(e,t,n){e.callbacks_.push(function(i){const a=t;if(!a||!pb(a,i))return;i.mapSetPlugin_?.fixSetContents(a);const s=BA(a);U4(e,a.draft_??a,s,n),H4(a,i)})}function H4(e,t){if(e.modified_&&!e.finalized_&&(e.type_===3||(e.assigned_?.size??0)>0)){const{patchPlugin_:r}=t;if(r){const i=r.getPath(e);i&&r.generatePatches_(e,i,t)}z4(e)}}function hle(e,t,n){const{scope_:r}=e;if(Rs(n)){const i=n[mi];pb(i,r)&&i.callbacks_.push(function(){sv(e);const s=BA(i);U4(e,n,s,t)})}else wo(n)&&e.callbacks_.push(function(){const a=Ss(e);vE(a,t,e.type_)===n&&r.drafts_.length>1&&(e.assigned_.get(t)??!1)===!0&&e.copy_&&UA(vE(e.copy_,t,e.type_),r.handledSet_,r)})}function UA(e,t,n){return!n.immer_.autoFreeze_&&n.unfinalizedDrafts_<1||Rs(e)||t.has(e)||!wo(e)||mb(e)||(t.add(e),Jm(e,(r,i)=>{if(Rs(i)){const a=i[mi];if(pb(a,n)){const s=BA(a);qv(e,r,s,e.type_),z4(a)}}else wo(i)&&UA(i,t,n)})),e}function mle(e,t){const n=db(e),r={type_:n?1:0,scope_:t?t.scope_:B4(),modified_:!1,finalized_:!1,assigned_:void 0,parent_:t,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1,callbacks_:void 0};let i=r,a=HA;n&&(i=[r],a=wm);const{revoke:s,proxy:c}=Proxy.revocable(i,a);return r.draft_=c,r.revoke_=s,[c,r]}var HA={get(e,t){if(t===mi)return e;const n=Ss(e);if(!SP(n,t,e.type_))return ple(e,n,t);const r=n[t];if(e.finalized_||!wo(r))return r;if(r===B1(e.base_,t)){sv(e);const i=e.type_===1?+t:t,a=SE(e.scope_,r,e,i);return e.copy_[i]=a}return r},has(e,t){return t in Ss(e)},ownKeys(e){return Reflect.ownKeys(Ss(e))},set(e,t,n){const r=F4(Ss(e),t);if(r?.set)return r.set.call(e.draft_,n),!0;if(!e.modified_){const i=B1(Ss(e),t),a=i?.[mi];if(a&&a.base_===n)return e.copy_[t]=n,e.assigned_.set(t,!1),!0;if(ale(n,i)&&(n!==void 0||SP(e.base_,t,e.type_)))return!0;sv(e),wE(e)}return e.copy_[t]===n&&(n!==void 0||t in e.copy_)||Number.isNaN(n)&&Number.isNaN(e.copy_[t])||(e.copy_[t]=n,e.assigned_.set(t,!0),hle(e,t,n)),!0},deleteProperty(e,t){return sv(e),B1(e.base_,t)!==void 0||t in e.base_?(e.assigned_.set(t,!1),wE(e)):e.assigned_.delete(t),e.copy_&&delete e.copy_[t],!0},getOwnPropertyDescriptor(e,t){const n=Ss(e),r=Reflect.getOwnPropertyDescriptor(n,t);return r&&{[ov]:!0,[gE]:e.type_!==1||t!=="length",[Gv]:r[Gv],[_m]:n[t]}},defineProperty(){ho(11)},getPrototypeOf(e){return ef(e.base_)},setPrototypeOf(){ho(12)}},wm={};Jm(HA,(e,t)=>{wm[e]=function(){const n=arguments;return n[0]=n[0][0],t.apply(this,n)}});wm.deleteProperty=function(e,t){return wm.set.call(this,e,t,void 0)};wm.set=function(e,t,n){return HA.set.call(this,e[0],t,n,e[0])};function B1(e,t){const n=e[mi];return(n?Ss(n):e)[t]}function ple(e,t,n){const r=F4(t,n);return r?_m in r?r[_m]:r.get?.call(e.draft_):void 0}function F4(e,t){if(!(t in e))return;let n=ef(e);for(;n;){const r=Object.getOwnPropertyDescriptor(n,t);if(r)return r;n=ef(n)}}function wE(e){e.modified_||(e.modified_=!0,e.parent_&&wE(e.parent_))}function sv(e){e.copy_||(e.assigned_=new Map,e.copy_=yE(e.base_,e.scope_.immer_.useStrictShallowCopy_))}var gle=class{constructor(t){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.useStrictIteration_=!1,this.produce=(n,r,i)=>{if(jd(n)&&!jd(r)){const s=r;r=n;const c=this;return function(f=s,...m){return c.produce(f,p=>r.call(this,p,...m))}}jd(r)||ho(6),i!==void 0&&!jd(i)&&ho(7);let a;if(wo(n)){const s=AP(this),c=SE(s,n,void 0);let d=!0;try{a=r(c),d=!1}finally{d?_E(s):xE(s)}return EP(s,i),TP(a,s)}else if(!n||!$A(n)){if(a=r(n),a===void 0&&(a=n),a===L4&&(a=void 0),this.autoFreeze_&&zA(a,!0),i){const s=[],c=[];tf(bE).generateReplacementPatches_(n,a,{patches_:s,inversePatches_:c}),i(s,c)}return a}else ho(1,n)},this.produceWithPatches=(n,r)=>{if(jd(n))return(c,...d)=>this.produceWithPatches(c,f=>n(f,...d));let i,a;return[this.produce(n,r,(c,d)=>{i=c,a=d}),i,a]},$1(t?.autoFreeze)&&this.setAutoFreeze(t.autoFreeze),$1(t?.useStrictShallowCopy)&&this.setUseStrictShallowCopy(t.useStrictShallowCopy),$1(t?.useStrictIteration)&&this.setUseStrictIteration(t.useStrictIteration)}createDraft(t){wo(t)||ho(8),Rs(t)&&(t=bo(t));const n=AP(this),r=SE(n,t,void 0);return r[mi].isManual_=!0,xE(n),r}finishDraft(t,n){const r=t&&t[mi];(!r||!r.isManual_)&&ho(9);const{scope_:i}=r;return EP(i,n),TP(void 0,i)}setAutoFreeze(t){this.autoFreeze_=t}setUseStrictShallowCopy(t){this.useStrictShallowCopy_=t}setUseStrictIteration(t){this.useStrictIteration_=t}shouldUseStrictIteration(){return this.useStrictIteration_}applyPatches(t,n){let r;for(r=n.length-1;r>=0;r--){const a=n[r];if(a.path.length===0&&a.op==="replace"){t=a.value;break}}r>-1&&(n=n.slice(r+1));const i=tf(bE).applyPatches_;return Rs(t)?i(t,n):this.produce(t,a=>i(a,n))}};function SE(e,t,n,r){const[i,a]=fb(t)?tf(Yv).proxyMap_(t,n):hb(t)?tf(Yv).proxySet_(t,n):mle(t,n);return(n?.scope_??B4()).drafts_.push(i),a.callbacks_=n?.callbacks_??[],a.key_=r,n&&r!==void 0?fle(n,a,r):a.callbacks_.push(function(d){d.mapSetPlugin_?.fixSetContents(a);const{patchPlugin_:f}=d;a.modified_&&f&&f.generatePatches_(a,[],d)}),i}function bo(e){return Rs(e)||ho(10,e),G4(e)}function G4(e){if(!wo(e)||mb(e))return e;const t=e[mi];let n,r=!0;if(t){if(!t.modified_)return t.base_;t.finalized_=!0,n=yE(e,t.scope_.immer_.useStrictShallowCopy_),r=t.scope_.immer_.shouldUseStrictIteration()}else n=yE(e,!0);return Jm(n,(i,a)=>{qv(n,i,G4(a))},r),t&&(t.finalized_=!1),n}var vle=new gle,q4=vle.produce;function Y4(e){return({dispatch:n,getState:r})=>i=>a=>typeof a=="function"?a(n,r,e):i(a)}var yle=Y4(),ble=Y4,_le=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?sm:sm.apply(null,arguments)};function Fa(e,t){function n(...r){if(t){let i=t(...r);if(!i)throw new Error(sa(0));return{type:e,payload:i.payload,..."meta"in i&&{meta:i.meta},..."error"in i&&{error:i.error}}}return{type:e,payload:r[0]}}return n.toString=()=>`${e}`,n.type=e,n.match=r=>L$(r)&&r.type===e,n}var K4=class Wh extends Array{constructor(...t){super(...t),Object.setPrototypeOf(this,Wh.prototype)}static get[Symbol.species](){return Wh}concat(...t){return super.concat.apply(this,t)}prepend(...t){return t.length===1&&Array.isArray(t[0])?new Wh(...t[0].concat(this)):new Wh(...t.concat(this))}};function OP(e){return wo(e)?q4(e,()=>{}):e}function A0(e,t,n){return e.has(t)?e.get(t):e.set(t,n(t)).get(t)}function xle(e){return typeof e=="boolean"}var wle=()=>function(t){const{thunk:n=!0,immutableCheck:r=!0,serializableCheck:i=!0,actionCreatorCheck:a=!0}=t??{};let s=new K4;return n&&(xle(n)?s.push(yle):s.push(ble(n.extraArgument))),s},W4="RTK_autoBatch",En=()=>e=>({payload:e,meta:{[W4]:!0}}),jP=e=>t=>{setTimeout(t,e)},V4=(e={type:"raf"})=>t=>(...n)=>{const r=t(...n);let i=!0,a=!1,s=!1;const c=new Set,d=e.type==="tick"?queueMicrotask:e.type==="raf"?typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:jP(10):e.type==="callback"?e.queueNotification:jP(e.timeout),f=()=>{s=!1,a&&(a=!1,c.forEach(m=>m()))};return Object.assign({},r,{subscribe(m){const p=()=>i&&m(),y=r.subscribe(p);return c.add(m),()=>{y(),c.delete(m)}},dispatch(m){try{return i=!m?.meta?.[W4],a=!i,a&&(s||(s=!0,d(f))),r.dispatch(m)}finally{i=!0}}})},Sle=e=>function(n){const{autoBatch:r=!0}=n??{};let i=new K4(e);return r&&i.push(V4(typeof r=="object"?r:void 0)),i};function Ele(e){const t=wle(),{reducer:n=void 0,middleware:r,devTools:i=!0,preloadedState:a=void 0,enhancers:s=void 0}=e||{};let c;if(typeof n=="function")c=n;else if(M2(n))c=P$(n);else throw new Error(sa(1));let d;typeof r=="function"?d=r(t):d=t();let f=sm;i&&(f=_le({trace:!1,...typeof i=="object"&&i}));const m=R$(...d),p=Sle(m);let y=typeof s=="function"?s(p):p();const b=f(...y);return D2(c,a,b)}function Z4(e){const t={},n=[];let r;const i={addCase(a,s){const c=typeof a=="string"?a:a.type;if(!c)throw new Error(sa(28));if(c in t)throw new Error(sa(29));return t[c]=s,i},addAsyncThunk(a,s){return s.pending&&(t[a.pending.type]=s.pending),s.rejected&&(t[a.rejected.type]=s.rejected),s.fulfilled&&(t[a.fulfilled.type]=s.fulfilled),s.settled&&n.push({matcher:a.settled,reducer:s.settled}),i},addMatcher(a,s){return n.push({matcher:a,reducer:s}),i},addDefaultCase(a){return r=a,i}};return e(i),[t,n,r]}function Ale(e){return typeof e=="function"}function Tle(e,t){let[n,r,i]=Z4(t),a;if(Ale(e))a=()=>OP(e());else{const c=OP(e);a=()=>c}function s(c=a(),d){let f=[n[d.type],...r.filter(({matcher:m})=>m(d)).map(({reducer:m})=>m)];return f.filter(m=>!!m).length===0&&(f=[i]),f.reduce((m,p)=>{if(p)if(Rs(m)){const b=p(m,d);return b===void 0?m:b}else{if(wo(m))return q4(m,y=>p(y,d));{const y=p(m,d);if(y===void 0){if(m===null)return m;throw Error("A case reducer on a non-draftable value must not return undefined")}return y}}return m},c)}return s.getInitialState=a,s}var kle="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",Ole=(e=21)=>{let t="",n=e;for(;n--;)t+=kle[Math.random()*64|0];return t},jle=Symbol.for("rtk-slice-createasyncthunk");function Nle(e,t){return`${e}/${t}`}function Cle({creators:e}={}){const t=e?.asyncThunk?.[jle];return function(r){const{name:i,reducerPath:a=i}=r;if(!i)throw new Error(sa(11));const s=(typeof r.reducers=="function"?r.reducers(Dle()):r.reducers)||{},c=Object.keys(s),d={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},f={addCase(O,M){const N=typeof O=="string"?O:O.type;if(!N)throw new Error(sa(12));if(N in d.sliceCaseReducersByType)throw new Error(sa(13));return d.sliceCaseReducersByType[N]=M,f},addMatcher(O,M){return d.sliceMatchers.push({matcher:O,reducer:M}),f},exposeAction(O,M){return d.actionCreators[O]=M,f},exposeCaseReducer(O,M){return d.sliceCaseReducersByName[O]=M,f}};c.forEach(O=>{const M=s[O],N={reducerName:O,type:Nle(i,O),createNotation:typeof r.reducers=="function"};Rle(M)?Ile(N,M,f,t):Ple(N,M,f)});function m(){const[O={},M=[],N=void 0]=typeof r.extraReducers=="function"?Z4(r.extraReducers):[r.extraReducers],R={...O,...d.sliceCaseReducersByType};return Tle(r.initialState,$=>{for(let B in R)$.addCase(B,R[B]);for(let B of d.sliceMatchers)$.addMatcher(B.matcher,B.reducer);for(let B of M)$.addMatcher(B.matcher,B.reducer);N&&$.addDefaultCase(N)})}const p=O=>O,y=new Map,b=new WeakMap;let x;function T(O,M){return x||(x=m()),x(O,M)}function S(){return x||(x=m()),x.getInitialState()}function j(O,M=!1){function N($){let B=$[O];return typeof B>"u"&&M&&(B=A0(b,N,S)),B}function R($=p){const B=A0(y,M,()=>new WeakMap);return A0(B,$,()=>{const H={};for(const[V,z]of Object.entries(r.selectors??{}))H[V]=Mle(z,$,()=>A0(b,$,S),M);return H})}return{reducerPath:O,getSelectors:R,get selectors(){return R(N)},selectSlice:N}}const D={name:i,reducer:T,actions:d.actionCreators,caseReducers:d.sliceCaseReducersByName,getInitialState:S,...j(a),injectInto(O,{reducerPath:M,...N}={}){const R=M??a;return O.inject({reducerPath:R,reducer:T},N),{...D,...j(R,!0)}}};return D}}function Mle(e,t,n,r){function i(a,...s){let c=t(a);return typeof c>"u"&&r&&(c=n()),e(c,...s)}return i.unwrapped=e,i}var Ii=Cle();function Dle(){function e(t,n){return{_reducerDefinitionType:"asyncThunk",payloadCreator:t,...n}}return e.withTypes=()=>e,{reducer(t){return Object.assign({[t.name](...n){return t(...n)}}[t.name],{_reducerDefinitionType:"reducer"})},preparedReducer(t,n){return{_reducerDefinitionType:"reducerWithPrepare",prepare:t,reducer:n}},asyncThunk:e}}function Ple({type:e,reducerName:t,createNotation:n},r,i){let a,s;if("reducer"in r){if(n&&!Lle(r))throw new Error(sa(17));a=r.reducer,s=r.prepare}else a=r;i.addCase(e,a).exposeCaseReducer(t,a).exposeAction(t,s?Fa(e,s):Fa(e))}function Rle(e){return e._reducerDefinitionType==="asyncThunk"}function Lle(e){return e._reducerDefinitionType==="reducerWithPrepare"}function Ile({type:e,reducerName:t},n,r,i){if(!i)throw new Error(sa(18));const{payloadCreator:a,fulfilled:s,pending:c,rejected:d,settled:f,options:m}=n,p=i(e,a,m);r.exposeAction(t,p),s&&r.addCase(p.fulfilled,s),c&&r.addCase(p.pending,c),d&&r.addCase(p.rejected,d),f&&r.addMatcher(p.settled,f),r.exposeCaseReducer(t,{fulfilled:s||T0,pending:c||T0,rejected:d||T0,settled:f||T0})}function T0(){}var $le="task",X4="listener",J4="completed",FA="cancelled",Ble=`task-${FA}`,zle=`task-${J4}`,EE=`${X4}-${FA}`,Ule=`${X4}-${J4}`,gb=class{constructor(e){this.code=e,this.message=`${$le} ${FA} (reason: ${e})`}name="TaskAbortError";message},GA=(e,t)=>{if(typeof e!="function")throw new TypeError(sa(32))},Kv=()=>{},Q4=(e,t=Kv)=>(e.catch(t),e),e7=(e,t)=>(e.addEventListener("abort",t,{once:!0}),()=>e.removeEventListener("abort",t)),cu=e=>{if(e.aborted)throw new gb(e.reason)};function t7(e,t){let n=Kv;return new Promise((r,i)=>{const a=()=>i(new gb(e.reason));if(e.aborted){a();return}n=e7(e,a),t.finally(()=>n()).then(r,i)}).finally(()=>{n=Kv})}var Hle=async(e,t)=>{try{return await Promise.resolve(),{status:"ok",value:await e()}}catch(n){return{status:n instanceof gb?"cancelled":"rejected",error:n}}finally{t?.()}},Wv=e=>t=>Q4(t7(e,t).then(n=>(cu(e),n))),n7=e=>{const t=Wv(e);return n=>t(new Promise(r=>setTimeout(r,n)))},{assign:Fd}=Object,NP={},vb="listenerMiddleware",Fle=(e,t)=>{const n=r=>e7(e,()=>r.abort(e.reason));return(r,i)=>{GA(r);const a=new AbortController;n(a);const s=Hle(async()=>{cu(e),cu(a.signal);const c=await r({pause:Wv(a.signal),delay:n7(a.signal),signal:a.signal});return cu(a.signal),c},()=>a.abort(zle));return i?.autoJoin&&t.push(s.catch(Kv)),{result:Wv(e)(s),cancel(){a.abort(Ble)}}}},Gle=(e,t)=>{const n=async(r,i)=>{cu(t);let a=()=>{};const c=[new Promise((d,f)=>{let m=e({predicate:r,effect:(p,y)=>{y.unsubscribe(),d([p,y.getState(),y.getOriginalState()])}});a=()=>{m(),f()}})];i!=null&&c.push(new Promise(d=>setTimeout(d,i,null)));try{const d=await t7(t,Promise.race(c));return cu(t),d}finally{a()}};return(r,i)=>Q4(n(r,i))},r7=e=>{let{type:t,actionCreator:n,matcher:r,predicate:i,effect:a}=e;if(t)i=Fa(t).match;else if(n)t=n.type,i=n.match;else if(r)i=r;else if(!i)throw new Error(sa(21));return GA(a),{predicate:i,type:t,effect:a}},i7=Fd(e=>{const{type:t,predicate:n,effect:r}=r7(e);return{id:Ole(),effect:r,type:t,predicate:n,pending:new Set,unsubscribe:()=>{throw new Error(sa(22))}}},{withTypes:()=>i7}),CP=(e,t)=>{const{type:n,effect:r,predicate:i}=r7(t);return Array.from(e.values()).find(a=>(typeof n=="string"?a.type===n:a.predicate===i)&&a.effect===r)},AE=e=>{e.pending.forEach(t=>{t.abort(EE)})},qle=(e,t)=>()=>{for(const n of t.keys())AE(n);e.clear()},MP=(e,t,n)=>{try{e(t,n)}catch(r){setTimeout(()=>{throw r},0)}},a7=Fd(Fa(`${vb}/add`),{withTypes:()=>a7}),Yle=Fa(`${vb}/removeAll`),o7=Fd(Fa(`${vb}/remove`),{withTypes:()=>o7}),Kle=(...e)=>{console.error(`${vb}/error`,...e)},ep=(e={})=>{const t=new Map,n=new Map,r=b=>{const x=n.get(b)??0;n.set(b,x+1)},i=b=>{const x=n.get(b)??1;x===1?n.delete(b):n.set(b,x-1)},{extra:a,onError:s=Kle}=e;GA(s);const c=b=>(b.unsubscribe=()=>t.delete(b.id),t.set(b.id,b),x=>{b.unsubscribe(),x?.cancelActive&&AE(b)}),d=b=>{const x=CP(t,b)??i7(b);return c(x)};Fd(d,{withTypes:()=>d});const f=b=>{const x=CP(t,b);return x&&(x.unsubscribe(),b.cancelActive&&AE(x)),!!x};Fd(f,{withTypes:()=>f});const m=async(b,x,T,S)=>{const j=new AbortController,D=Gle(d,j.signal),O=[];try{b.pending.add(j),r(b),await Promise.resolve(b.effect(x,Fd({},T,{getOriginalState:S,condition:(M,N)=>D(M,N).then(Boolean),take:D,delay:n7(j.signal),pause:Wv(j.signal),extra:a,signal:j.signal,fork:Fle(j.signal,O),unsubscribe:b.unsubscribe,subscribe:()=>{t.set(b.id,b)},cancelActiveListeners:()=>{b.pending.forEach((M,N,R)=>{M!==j&&(M.abort(EE),R.delete(M))})},cancel:()=>{j.abort(EE),b.pending.delete(j)},throwIfCancelled:()=>{cu(j.signal)}})))}catch(M){M instanceof gb||MP(s,M,{raisedBy:"effect"})}finally{await Promise.all(O),j.abort(Ule),i(b),b.pending.delete(j)}},p=qle(t,n);return{middleware:b=>x=>T=>{if(!L$(T))return x(T);if(a7.match(T))return d(T.payload);if(Yle.match(T)){p();return}if(o7.match(T))return f(T.payload);let S=b.getState();const j=()=>{if(S===NP)throw new Error(sa(23));return S};let D;try{if(D=x(T),t.size>0){const O=b.getState(),M=Array.from(t.values());for(const N of M){let R=!1;try{R=N.predicate(T,O,S)}catch($){R=!1,MP(s,$,{raisedBy:"predicate"})}R&&m(N,T,b,j)}}}finally{S=NP}return D},startListening:d,stopListening:f,clearListeners:p}};function sa(e){return`Minified Redux Toolkit error #${e}; visit https://redux-toolkit.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var Wle={layoutType:"horizontal",width:0,height:0,margin:{top:5,right:5,bottom:5,left:5},scale:1},s7=Ii({name:"chartLayout",initialState:Wle,reducers:{setLayout(e,t){e.layoutType=t.payload},setChartSize(e,t){e.width=t.payload.width,e.height=t.payload.height},setMargin(e,t){var n,r,i,a;e.margin.top=(n=t.payload.top)!==null&&n!==void 0?n:0,e.margin.right=(r=t.payload.right)!==null&&r!==void 0?r:0,e.margin.bottom=(i=t.payload.bottom)!==null&&i!==void 0?i:0,e.margin.left=(a=t.payload.left)!==null&&a!==void 0?a:0},setScale(e,t){e.scale=t.payload}}}),{setMargin:Vle,setLayout:Zle,setChartSize:Xle,setScale:Jle}=s7.actions,Qle=s7.reducer;function l7(e,t,n){return Array.isArray(e)&&e&&t+n!==0?e.slice(t,n+1):e}function DP(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Rd(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?DP(Object(n),!0).forEach(function(r){ece(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):DP(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function ece(e,t,n){return(t=tce(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function tce(e){var t=nce(e,"string");return typeof t=="symbol"?t:t+""}function nce(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function ti(e,t,n){return zr(e)||zr(t)?n:Wo(t)?lb(e,t,n):typeof t=="function"?t(e):n}var rce=(e,t,n)=>{if(t&&n){var{width:r,height:i}=n,{align:a,verticalAlign:s,layout:c}=t;if((c==="vertical"||c==="horizontal"&&s==="middle")&&a!=="center"&&nt(e[a]))return Rd(Rd({},e),{},{[a]:e[a]+(r||0)});if((c==="horizontal"||c==="vertical"&&a==="center")&&s!=="middle"&&nt(e[s]))return Rd(Rd({},e),{},{[s]:e[s]+(i||0)})}return e},Hs=(e,t)=>e==="horizontal"&&t==="xAxis"||e==="vertical"&&t==="yAxis"||e==="centric"&&t==="angleAxis"||e==="radial"&&t==="radiusAxis",c7=(e,t,n,r)=>{if(r)return e.map(c=>c.coordinate);var i,a,s=e.map(c=>(c.coordinate===t&&(i=!0),c.coordinate===n&&(a=!0),c.coordinate));return i||s.push(t),a||s.push(n),s},u7=(e,t,n)=>{if(!e)return null;var{duplicateDomain:r,type:i,range:a,scale:s,realScaleType:c,isCategorical:d,categoricalDomain:f,tickCount:m,ticks:p,niceTicks:y,axisType:b}=e;if(!s)return null;var x=c==="scaleBand"&&s.bandwidth?s.bandwidth()/2:2,T=i==="category"&&s.bandwidth?s.bandwidth()/x:0;if(T=b==="angleAxis"&&a&&a.length>=2?La(a[0]-a[1])*2*T:T,p||y){var S=(p||y||[]).map((j,D)=>{var O=r?r.indexOf(j):j;return{coordinate:s(O)+T,value:j,offset:T,index:D}});return S.filter(j=>!xo(j.coordinate))}return d&&f?f.map((j,D)=>({coordinate:s(j)+T,value:j,index:D,offset:T})):s.ticks&&m!=null?s.ticks(m).map((j,D)=>({coordinate:s(j)+T,value:j,offset:T,index:D})):s.domain().map((j,D)=>({coordinate:s(j)+T,value:r?r[j]:j,index:D,offset:T}))},PP=1e-4,ice=e=>{var t=e.domain();if(!(!t||t.length<=2)){var n=t.length,r=e.range(),i=Math.min(r[0],r[1])-PP,a=Math.max(r[0],r[1])+PP,s=e(t[0]),c=e(t[n-1]);(s<i||s>a||c<i||c>a)&&e.domain([t[0],t[n-1]])}},ace=e=>{var t=e.length;if(!(t<=0))for(var n=0,r=e[0].length;n<r;++n)for(var i=0,a=0,s=0;s<t;++s){var c=xo(e[s][n][1])?e[s][n][0]:e[s][n][1];c>=0?(e[s][n][0]=i,e[s][n][1]=i+c,i=e[s][n][1]):(e[s][n][0]=a,e[s][n][1]=a+c,a=e[s][n][1])}},oce=e=>{var t=e.length;if(!(t<=0))for(var n=0,r=e[0].length;n<r;++n)for(var i=0,a=0;a<t;++a){var s=xo(e[a][n][1])?e[a][n][0]:e[a][n][1];s>=0?(e[a][n][0]=i,e[a][n][1]=i+s,i=e[a][n][1]):(e[a][n][0]=0,e[a][n][1]=0)}},sce={sign:ace,expand:Voe,none:Qd,silhouette:Zoe,wiggle:Xoe,positive:oce},lce=(e,t,n)=>{var r=sce[n],i=Woe().keys(t).value((a,s)=>Number(ti(a,s,0))).order(pE).offset(r);return i(e)};function cce(e){return e==null?void 0:String(e)}function RP(e){var{axis:t,ticks:n,bandSize:r,entry:i,index:a,dataKey:s}=e;if(t.type==="category"){if(!t.allowDuplicatedCategory&&t.dataKey&&!zr(i[t.dataKey])){var c=x4(n,"value",i[t.dataKey]);if(c)return c.coordinate+r/2}return n[a]?n[a].coordinate+r/2:null}var d=ti(i,zr(s)?t.dataKey:s);return zr(d)?null:t.scale(d)}var uce=e=>{var t=e.flat(2).filter(nt);return[Math.min(...t),Math.max(...t)]},dce=e=>[e[0]===1/0?0:e[0],e[1]===-1/0?0:e[1]],fce=(e,t,n)=>{if(e!=null)return dce(Object.keys(e).reduce((r,i)=>{var a=e[i],{stackedData:s}=a,c=s.reduce((d,f)=>{var m=l7(f,t,n),p=uce(m);return[Math.min(d[0],p[0]),Math.max(d[1],p[1])]},[1/0,-1/0]);return[Math.min(c[0],r[0]),Math.max(c[1],r[1])]},[1/0,-1/0]))},LP=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,IP=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,Vv=(e,t,n)=>{if(e&&e.scale&&e.scale.bandwidth){var r=e.scale.bandwidth();if(!n||r>0)return r}if(e&&t&&t.length>=2){for(var i=cb(t,m=>m.coordinate),a=1/0,s=1,c=i.length;s<c;s++){var d=i[s],f=i[s-1];a=Math.min((d.coordinate||0)-(f.coordinate||0),a)}return a===1/0?0:a}return n?void 0:0};function $P(e){var{tooltipEntrySettings:t,dataKey:n,payload:r,value:i,name:a}=e;return Rd(Rd({},t),{},{dataKey:n,payload:r,value:i,name:a})}function d7(e,t){if(e)return String(e);if(typeof t=="string")return t}var hce=(e,t)=>{if(t==="horizontal")return e.chartX;if(t==="vertical")return e.chartY},mce=(e,t)=>t==="centric"?e.angle:e.radius,Fs=e=>e.layout.width,Gs=e=>e.layout.height,pce=e=>e.layout.scale,f7=e=>e.layout.margin,yb=Oe(e=>e.cartesianAxis.xAxis,e=>Object.values(e)),bb=Oe(e=>e.cartesianAxis.yAxis,e=>Object.values(e)),gce="data-recharts-item-index",vce="data-recharts-item-data-key",tp=60;function BP(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function k0(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?BP(Object(n),!0).forEach(function(r){yce(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):BP(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function yce(e,t,n){return(t=bce(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function bce(e){var t=_ce(e,"string");return typeof t=="symbol"?t:t+""}function _ce(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var xce=e=>e.brush.height;function wce(e){var t=bb(e);return t.reduce((n,r)=>{if(r.orientation==="left"&&!r.mirror&&!r.hide){var i=typeof r.width=="number"?r.width:tp;return n+i}return n},0)}function Sce(e){var t=bb(e);return t.reduce((n,r)=>{if(r.orientation==="right"&&!r.mirror&&!r.hide){var i=typeof r.width=="number"?r.width:tp;return n+i}return n},0)}function Ece(e){var t=yb(e);return t.reduce((n,r)=>r.orientation==="top"&&!r.mirror&&!r.hide?n+r.height:n,0)}function Ace(e){var t=yb(e);return t.reduce((n,r)=>r.orientation==="bottom"&&!r.mirror&&!r.hide?n+r.height:n,0)}var Ur=Oe([Fs,Gs,f7,xce,wce,Sce,Ece,Ace,R4,tle],(e,t,n,r,i,a,s,c,d,f)=>{var m={left:(n.left||0)+i,right:(n.right||0)+a},p={top:(n.top||0)+s,bottom:(n.bottom||0)+c},y=k0(k0({},p),m),b=y.bottom;y.bottom+=r,y=rce(y,d,f);var x=e-y.left-y.right,T=t-y.top-y.bottom;return k0(k0({brushBottom:b},y),{},{width:Math.max(x,0),height:Math.max(T,0)})}),Tce=Oe(Ur,e=>({x:e.left,y:e.top,width:e.width,height:e.height})),h7=Oe(Fs,Gs,(e,t)=>({x:0,y:0,width:e,height:t})),kce=A.createContext(null),$i=()=>A.useContext(kce)!=null,_b=e=>e.brush,xb=Oe([_b,Ur,f7],(e,t,n)=>({height:e.height,x:nt(e.x)?e.x:t.left,y:nt(e.y)?e.y:t.top+t.height+t.brushBottom-(n?.bottom||0),width:nt(e.width)?e.width:t.width})),z1={},U1={},H1={},zP;function Oce(){return zP||(zP=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n,r,{signal:i,edges:a}={}){let s,c=null;const d=a!=null&&a.includes("leading"),f=a==null||a.includes("trailing"),m=()=>{c!==null&&(n.apply(s,c),s=void 0,c=null)},p=()=>{f&&m(),T()};let y=null;const b=()=>{y!=null&&clearTimeout(y),y=setTimeout(()=>{y=null,p()},r)},x=()=>{y!==null&&(clearTimeout(y),y=null)},T=()=>{x(),s=void 0,c=null},S=()=>{m()},j=function(...D){if(i?.aborted)return;s=this,c=D;const O=y==null;b(),d&&O&&m()};return j.schedule=b,j.cancel=T,j.flush=S,i?.addEventListener("abort",T,{once:!0}),j}e.debounce=t})(H1)),H1}var UP;function jce(){return UP||(UP=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Oce();function n(r,i=0,a={}){typeof a!="object"&&(a={});const{leading:s=!1,trailing:c=!0,maxWait:d}=a,f=Array(2);s&&(f[0]="leading"),c&&(f[1]="trailing");let m,p=null;const y=t.debounce(function(...T){m=r.apply(this,T),p=null},i,{edges:f}),b=function(...T){return d!=null&&(p===null&&(p=Date.now()),Date.now()-p>=d)?(m=r.apply(this,T),p=Date.now(),y.cancel(),y.schedule(),m):(y.apply(this,T),m)},x=()=>(y.flush(),m);return b.cancel=y.cancel,b.flush=x,b}e.debounce=n})(U1)),U1}var HP;function Nce(){return HP||(HP=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=jce();function n(r,i=0,a={}){const{leading:s=!0,trailing:c=!0}=a;return t.debounce(r,i,{leading:s,maxWait:i,trailing:c})}e.throttle=n})(z1)),z1}var F1,FP;function Cce(){return FP||(FP=1,F1=Nce().throttle),F1}var Mce=Cce();const Dce=Li(Mce);var Zv=function(t,n){for(var r=arguments.length,i=new Array(r>2?r-2:0),a=2;a<r;a++)i[a-2]=arguments[a];if(typeof console<"u"&&console.warn&&(n===void 0&&console.warn("LogUtils requires an error message argument"),!t))if(n===void 0)console.warn("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var s=0;console.warn(n.replace(/%s/g,()=>i[s++]))}},m7=(e,t,n)=>{var{width:r="100%",height:i="100%",aspect:a,maxHeight:s}=n,c=Ps(r)?e:Number(r),d=Ps(i)?t:Number(i);return a&&a>0&&(c?d=c/a:d&&(c=d*a),s&&d!=null&&d>s&&(d=s)),{calculatedWidth:c,calculatedHeight:d}},Pce={width:0,height:0,overflow:"visible"},Rce={width:0,overflowX:"visible"},Lce={height:0,overflowY:"visible"},Ice={},$ce=e=>{var{width:t,height:n}=e,r=Ps(t),i=Ps(n);return r&&i?Pce:r?Rce:i?Lce:Ice};function Bce(e){var{width:t,height:n,aspect:r}=e,i=t,a=n;return i===void 0&&a===void 0?(i="100%",a="100%"):i===void 0?i=r&&r>0?void 0:"100%":a===void 0&&(a=r&&r>0?void 0:"100%"),{width:i,height:a}}function Fn(e){return Number.isFinite(e)}function Vo(e){return typeof e=="number"&&e>0&&Number.isFinite(e)}function TE(){return TE=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},TE.apply(null,arguments)}function GP(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function qP(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?GP(Object(n),!0).forEach(function(r){zce(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):GP(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function zce(e,t,n){return(t=Uce(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Uce(e){var t=Hce(e,"string");return typeof t=="symbol"?t:t+""}function Hce(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var p7=A.createContext({width:-1,height:-1});function Fce(e){return Vo(e.width)&&Vo(e.height)}function g7(e){var{children:t,width:n,height:r}=e,i=A.useMemo(()=>({width:n,height:r}),[n,r]);return Fce(i)?A.createElement(p7.Provider,{value:i},t):null}var qA=()=>A.useContext(p7),Gce=A.forwardRef((e,t)=>{var{aspect:n,initialDimension:r={width:-1,height:-1},width:i,height:a,minWidth:s=0,minHeight:c,maxHeight:d,children:f,debounce:m=0,id:p,className:y,onResize:b,style:x={}}=e,T=A.useRef(null),S=A.useRef();S.current=b,A.useImperativeHandle(t,()=>T.current);var[j,D]=A.useState({containerWidth:r.width,containerHeight:r.height}),O=A.useCallback((B,H)=>{D(V=>{var z=Math.round(B),F=Math.round(H);return V.containerWidth===z&&V.containerHeight===F?V:{containerWidth:z,containerHeight:F}})},[]);A.useEffect(()=>{if(T.current==null||typeof ResizeObserver>"u")return Xm;var B=F=>{var Q,{width:ee,height:be}=F[0].contentRect;O(ee,be),(Q=S.current)===null||Q===void 0||Q.call(S,ee,be)};m>0&&(B=Dce(B,m,{trailing:!0,leading:!1}));var H=new ResizeObserver(B),{width:V,height:z}=T.current.getBoundingClientRect();return O(V,z),H.observe(T.current),()=>{H.disconnect()}},[O,m]);var{containerWidth:M,containerHeight:N}=j;Zv(!n||n>0,"The aspect(%s) must be greater than zero.",n);var{calculatedWidth:R,calculatedHeight:$}=m7(M,N,{width:i,height:a,aspect:n,maxHeight:d});return Zv(R!=null&&R>0||$!=null&&$>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,R,$,i,a,s,c,n),A.createElement("div",{id:p?"".concat(p):void 0,className:vn("recharts-responsive-container",y),style:qP(qP({},x),{},{width:i,height:a,minWidth:s,minHeight:c,maxHeight:d}),ref:T},A.createElement("div",{style:$ce({width:i,height:a})},A.createElement(g7,{width:R,height:$},f)))}),qce=A.forwardRef((e,t)=>{var n=qA();if(Vo(n.width)&&Vo(n.height))return e.children;var{width:r,height:i}=Bce({width:e.width,height:e.height,aspect:e.aspect}),{calculatedWidth:a,calculatedHeight:s}=m7(void 0,void 0,{width:r,height:i,aspect:e.aspect,maxHeight:e.maxHeight});return nt(a)&&nt(s)?A.createElement(g7,{width:a,height:s},e.children):A.createElement(Gce,TE({},e,{width:r,height:i,ref:t}))});function v7(e){if(e)return{x:e.x,y:e.y,upperWidth:"upperWidth"in e?e.upperWidth:e.width,lowerWidth:"lowerWidth"in e?e.lowerWidth:e.width,width:e.width,height:e.height}}var wb=()=>{var e,t=$i(),n=it(Tce),r=it(xb),i=(e=it(_b))===null||e===void 0?void 0:e.padding;return!t||!r||!i?n:{width:r.width-i.left-i.right,height:r.height-i.top-i.bottom,x:i.left,y:i.top}},Yce={top:0,bottom:0,left:0,right:0,width:0,height:0,brushBottom:0},y7=()=>{var e;return(e=it(Ur))!==null&&e!==void 0?e:Yce},b7=()=>it(Fs),_7=()=>it(Gs),dn=e=>e.layout.layoutType,np=()=>it(dn),Kce=()=>{var e=np();if(e==="horizontal"||e==="vertical")return e},Wce=()=>{var e=np();return e!==void 0},Sb=e=>{var t=kr(),n=$i(),{width:r,height:i}=e,a=qA(),s=r,c=i;return a&&(s=a.width>0?a.width:r,c=a.height>0?a.height:i),A.useEffect(()=>{!n&&Vo(s)&&Vo(c)&&t(Xle({width:s,height:c}))},[t,n,s,c]),null},x7=Symbol.for("immer-nothing"),YP=Symbol.for("immer-draftable"),ca=Symbol.for("immer-state");function mo(e,...t){throw new Error(`[Immer] minified error nr: ${e}. Full error at: https://bit.ly/3cXEKWf`)}var Sm=Object.getPrototypeOf;function nf(e){return!!e&&!!e[ca]}function gu(e){return e?w7(e)||Array.isArray(e)||!!e[YP]||!!e.constructor?.[YP]||rp(e)||Ab(e):!1}var Vce=Object.prototype.constructor.toString(),KP=new WeakMap;function w7(e){if(!e||typeof e!="object")return!1;const t=Object.getPrototypeOf(e);if(t===null||t===Object.prototype)return!0;const n=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;if(n===Object)return!0;if(typeof n!="function")return!1;let r=KP.get(n);return r===void 0&&(r=Function.toString.call(n),KP.set(n,r)),r===Vce}function Xv(e,t,n=!0){Eb(e)===0?(n?Reflect.ownKeys(e):Object.keys(e)).forEach(i=>{t(i,e[i],e)}):e.forEach((r,i)=>t(i,r,e))}function Eb(e){const t=e[ca];return t?t.type_:Array.isArray(e)?1:rp(e)?2:Ab(e)?3:0}function kE(e,t){return Eb(e)===2?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function S7(e,t,n){const r=Eb(e);r===2?e.set(t,n):r===3?e.add(n):e[t]=n}function Zce(e,t){return e===t?e!==0||1/e===1/t:e!==e&&t!==t}function rp(e){return e instanceof Map}function Ab(e){return e instanceof Set}function Xc(e){return e.copy_||e.base_}function OE(e,t){if(rp(e))return new Map(e);if(Ab(e))return new Set(e);if(Array.isArray(e))return Array.prototype.slice.call(e);const n=w7(e);if(t===!0||t==="class_only"&&!n){const r=Object.getOwnPropertyDescriptors(e);delete r[ca];let i=Reflect.ownKeys(r);for(let a=0;a<i.length;a++){const s=i[a],c=r[s];c.writable===!1&&(c.writable=!0,c.configurable=!0),(c.get||c.set)&&(r[s]={configurable:!0,writable:!0,enumerable:c.enumerable,value:e[s]})}return Object.create(Sm(e),r)}else{const r=Sm(e);if(r!==null&&n)return{...e};const i=Object.create(r);return Object.assign(i,e)}}function YA(e,t=!1){return Tb(e)||nf(e)||!gu(e)||(Eb(e)>1&&Object.defineProperties(e,{set:O0,add:O0,clear:O0,delete:O0}),Object.freeze(e),t&&Object.values(e).forEach(n=>YA(n,!0))),e}function Xce(){mo(2)}var O0={value:Xce};function Tb(e){return e===null||typeof e!="object"?!0:Object.isFrozen(e)}var Jce={};function vu(e){const t=Jce[e];return t||mo(0,e),t}var Em;function E7(){return Em}function Qce(e,t){return{drafts_:[],parent_:e,immer_:t,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function WP(e,t){t&&(vu("Patches"),e.patches_=[],e.inversePatches_=[],e.patchListener_=t)}function jE(e){NE(e),e.drafts_.forEach(eue),e.drafts_=null}function NE(e){e===Em&&(Em=e.parent_)}function VP(e){return Em=Qce(Em,e)}function eue(e){const t=e[ca];t.type_===0||t.type_===1?t.revoke_():t.revoked_=!0}function ZP(e,t){t.unfinalizedDrafts_=t.drafts_.length;const n=t.drafts_[0];return e!==void 0&&e!==n?(n[ca].modified_&&(jE(t),mo(4)),gu(e)&&(e=Jv(t,e),t.parent_||Qv(t,e)),t.patches_&&vu("Patches").generateReplacementPatches_(n[ca].base_,e,t.patches_,t.inversePatches_)):e=Jv(t,n,[]),jE(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),e!==x7?e:void 0}function Jv(e,t,n){if(Tb(t))return t;const r=e.immer_.shouldUseStrictIteration(),i=t[ca];if(!i)return Xv(t,(a,s)=>XP(e,i,t,a,s,n),r),t;if(i.scope_!==e)return t;if(!i.modified_)return Qv(e,i.base_,!0),i.base_;if(!i.finalized_){i.finalized_=!0,i.scope_.unfinalizedDrafts_--;const a=i.copy_;let s=a,c=!1;i.type_===3&&(s=new Set(a),a.clear(),c=!0),Xv(s,(d,f)=>XP(e,i,a,d,f,n,c),r),Qv(e,a,!1),n&&e.patches_&&vu("Patches").generatePatches_(i,n,e.patches_,e.inversePatches_)}return i.copy_}function XP(e,t,n,r,i,a,s){if(i==null||typeof i!="object"&&!s)return;const c=Tb(i);if(!(c&&!s)){if(nf(i)){const d=a&&t&&t.type_!==3&&!kE(t.assigned_,r)?a.concat(r):void 0,f=Jv(e,i,d);if(S7(n,r,f),nf(f))e.canAutoFreeze_=!1;else return}else s&&n.add(i);if(gu(i)&&!c){if(!e.immer_.autoFreeze_&&e.unfinalizedDrafts_<1||t&&t.base_&&t.base_[r]===i&&c)return;Jv(e,i),(!t||!t.scope_.parent_)&&typeof r!="symbol"&&(rp(n)?n.has(r):Object.prototype.propertyIsEnumerable.call(n,r))&&Qv(e,i)}}}function Qv(e,t,n=!1){!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&YA(t,n)}function tue(e,t){const n=Array.isArray(e),r={type_:n?1:0,scope_:t?t.scope_:E7(),modified_:!1,finalized_:!1,assigned_:{},parent_:t,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1};let i=r,a=KA;n&&(i=[r],a=Am);const{revoke:s,proxy:c}=Proxy.revocable(i,a);return r.draft_=c,r.revoke_=s,c}var KA={get(e,t){if(t===ca)return e;const n=Xc(e);if(!kE(n,t))return nue(e,n,t);const r=n[t];return e.finalized_||!gu(r)?r:r===G1(e.base_,t)?(q1(e),e.copy_[t]=ME(r,e)):r},has(e,t){return t in Xc(e)},ownKeys(e){return Reflect.ownKeys(Xc(e))},set(e,t,n){const r=A7(Xc(e),t);if(r?.set)return r.set.call(e.draft_,n),!0;if(!e.modified_){const i=G1(Xc(e),t),a=i?.[ca];if(a&&a.base_===n)return e.copy_[t]=n,e.assigned_[t]=!1,!0;if(Zce(n,i)&&(n!==void 0||kE(e.base_,t)))return!0;q1(e),CE(e)}return e.copy_[t]===n&&(n!==void 0||t in e.copy_)||Number.isNaN(n)&&Number.isNaN(e.copy_[t])||(e.copy_[t]=n,e.assigned_[t]=!0),!0},deleteProperty(e,t){return G1(e.base_,t)!==void 0||t in e.base_?(e.assigned_[t]=!1,q1(e),CE(e)):delete e.assigned_[t],e.copy_&&delete e.copy_[t],!0},getOwnPropertyDescriptor(e,t){const n=Xc(e),r=Reflect.getOwnPropertyDescriptor(n,t);return r&&{writable:!0,configurable:e.type_!==1||t!=="length",enumerable:r.enumerable,value:n[t]}},defineProperty(){mo(11)},getPrototypeOf(e){return Sm(e.base_)},setPrototypeOf(){mo(12)}},Am={};Xv(KA,(e,t)=>{Am[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}});Am.deleteProperty=function(e,t){return Am.set.call(this,e,t,void 0)};Am.set=function(e,t,n){return KA.set.call(this,e[0],t,n,e[0])};function G1(e,t){const n=e[ca];return(n?Xc(n):e)[t]}function nue(e,t,n){const r=A7(t,n);return r?"value"in r?r.value:r.get?.call(e.draft_):void 0}function A7(e,t){if(!(t in e))return;let n=Sm(e);for(;n;){const r=Object.getOwnPropertyDescriptor(n,t);if(r)return r;n=Sm(n)}}function CE(e){e.modified_||(e.modified_=!0,e.parent_&&CE(e.parent_))}function q1(e){e.copy_||(e.copy_=OE(e.base_,e.scope_.immer_.useStrictShallowCopy_))}var rue=class{constructor(e){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.useStrictIteration_=!0,this.produce=(t,n,r)=>{if(typeof t=="function"&&typeof n!="function"){const a=n;n=t;const s=this;return function(d=a,...f){return s.produce(d,m=>n.call(this,m,...f))}}typeof n!="function"&&mo(6),r!==void 0&&typeof r!="function"&&mo(7);let i;if(gu(t)){const a=VP(this),s=ME(t,void 0);let c=!0;try{i=n(s),c=!1}finally{c?jE(a):NE(a)}return WP(a,r),ZP(i,a)}else if(!t||typeof t!="object"){if(i=n(t),i===void 0&&(i=t),i===x7&&(i=void 0),this.autoFreeze_&&YA(i,!0),r){const a=[],s=[];vu("Patches").generateReplacementPatches_(t,i,a,s),r(a,s)}return i}else mo(1,t)},this.produceWithPatches=(t,n)=>{if(typeof t=="function")return(s,...c)=>this.produceWithPatches(s,d=>t(d,...c));let r,i;return[this.produce(t,n,(s,c)=>{r=s,i=c}),r,i]},typeof e?.autoFreeze=="boolean"&&this.setAutoFreeze(e.autoFreeze),typeof e?.useStrictShallowCopy=="boolean"&&this.setUseStrictShallowCopy(e.useStrictShallowCopy),typeof e?.useStrictIteration=="boolean"&&this.setUseStrictIteration(e.useStrictIteration)}createDraft(e){gu(e)||mo(8),nf(e)&&(e=iue(e));const t=VP(this),n=ME(e,void 0);return n[ca].isManual_=!0,NE(t),n}finishDraft(e,t){const n=e&&e[ca];(!n||!n.isManual_)&&mo(9);const{scope_:r}=n;return WP(r,t),ZP(void 0,r)}setAutoFreeze(e){this.autoFreeze_=e}setUseStrictShallowCopy(e){this.useStrictShallowCopy_=e}setUseStrictIteration(e){this.useStrictIteration_=e}shouldUseStrictIteration(){return this.useStrictIteration_}applyPatches(e,t){let n;for(n=t.length-1;n>=0;n--){const i=t[n];if(i.path.length===0&&i.op==="replace"){e=i.value;break}}n>-1&&(t=t.slice(n+1));const r=vu("Patches").applyPatches_;return nf(e)?r(e,t):this.produce(e,i=>r(i,t))}};function ME(e,t){const n=rp(e)?vu("MapSet").proxyMap_(e,t):Ab(e)?vu("MapSet").proxySet_(e,t):tue(e,t);return(t?t.scope_:E7()).drafts_.push(n),n}function iue(e){return nf(e)||mo(10,e),T7(e)}function T7(e){if(!gu(e)||Tb(e))return e;const t=e[ca];let n,r=!0;if(t){if(!t.modified_)return t.base_;t.finalized_=!0,n=OE(e,t.scope_.immer_.useStrictShallowCopy_),r=t.scope_.immer_.shouldUseStrictIteration()}else n=OE(e,!0);return Xv(n,(i,a)=>{S7(n,i,T7(a))},r),t&&(t.finalized_=!1),n}var aue=new rue;aue.produce;var oue={settings:{layout:"horizontal",align:"center",verticalAlign:"middle",itemSorter:"value"},size:{width:0,height:0},payload:[]},k7=Ii({name:"legend",initialState:oue,reducers:{setLegendSize(e,t){e.size.width=t.payload.width,e.size.height=t.payload.height},setLegendSettings(e,t){e.settings.align=t.payload.align,e.settings.layout=t.payload.layout,e.settings.verticalAlign=t.payload.verticalAlign,e.settings.itemSorter=t.payload.itemSorter},addLegendPayload:{reducer(e,t){e.payload.push(t.payload)},prepare:En()},replaceLegendPayload:{reducer(e,t){var{prev:n,next:r}=t.payload,i=bo(e).payload.indexOf(n);i>-1&&(e.payload[i]=r)},prepare:En()},removeLegendPayload:{reducer(e,t){var n=bo(e).payload.indexOf(t.payload);n>-1&&e.payload.splice(n,1)},prepare:En()}}}),{setLegendSize:B1e,setLegendSettings:z1e,addLegendPayload:sue,replaceLegendPayload:lue,removeLegendPayload:cue}=k7.actions,uue=k7.reducer;function DE(){return DE=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},DE.apply(null,arguments)}function JP(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Y1(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?JP(Object(n),!0).forEach(function(r){due(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):JP(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function due(e,t,n){return(t=fue(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function fue(e){var t=hue(e,"string");return typeof t=="symbol"?t:t+""}function hue(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function mue(e){return Array.isArray(e)&&Wo(e[0])&&Wo(e[1])?e.join(" ~ "):e}var pue=e=>{var{separator:t=" : ",contentStyle:n={},itemStyle:r={},labelStyle:i={},payload:a,formatter:s,itemSorter:c,wrapperClassName:d,labelClassName:f,label:m,labelFormatter:p,accessibilityLayer:y=!1}=e,b=()=>{if(a&&a.length){var N={padding:0,margin:0},R=(c?cb(a,c):a).map(($,B)=>{if($.type==="none")return null;var H=$.formatter||s||mue,{value:V,name:z}=$,F=V,Q=z;if(H){var ee=H(V,z,$,B,a);if(Array.isArray(ee))[F,Q]=ee;else if(ee!=null)F=ee;else return null}var be=Y1({display:"block",paddingTop:4,paddingBottom:4,color:$.color||"#000"},r);return A.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(B),style:be},Wo(Q)?A.createElement("span",{className:"recharts-tooltip-item-name"},Q):null,Wo(Q)?A.createElement("span",{className:"recharts-tooltip-item-separator"},t):null,A.createElement("span",{className:"recharts-tooltip-item-value"},F),A.createElement("span",{className:"recharts-tooltip-item-unit"},$.unit||""))});return A.createElement("ul",{className:"recharts-tooltip-item-list",style:N},R)}return null},x=Y1({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},n),T=Y1({margin:0},i),S=!zr(m),j=S?m:"",D=vn("recharts-default-tooltip",d),O=vn("recharts-tooltip-label",f);S&&p&&a!==void 0&&a!==null&&(j=p(m,a));var M=y?{role:"status","aria-live":"assertive"}:{};return A.createElement("div",DE({className:D,style:x},M),A.createElement("p",{className:O,style:T},A.isValidElement(j)?j:"".concat(j)),b())},Rh="recharts-tooltip-wrapper",gue={visibility:"hidden"};function vue(e){var{coordinate:t,translateX:n,translateY:r}=e;return vn(Rh,{["".concat(Rh,"-right")]:nt(n)&&t&&nt(t.x)&&n>=t.x,["".concat(Rh,"-left")]:nt(n)&&t&&nt(t.x)&&n<t.x,["".concat(Rh,"-bottom")]:nt(r)&&t&&nt(t.y)&&r>=t.y,["".concat(Rh,"-top")]:nt(r)&&t&&nt(t.y)&&r<t.y})}function QP(e){var{allowEscapeViewBox:t,coordinate:n,key:r,offsetTopLeft:i,position:a,reverseDirection:s,tooltipDimension:c,viewBox:d,viewBoxDimension:f}=e;if(a&&nt(a[r]))return a[r];var m=n[r]-c-(i>0?i:0),p=n[r]+i;if(t[r])return s[r]?m:p;var y=d[r];if(y==null)return 0;if(s[r]){var b=m,x=y;return b<x?Math.max(p,y):Math.max(m,y)}if(f==null)return 0;var T=p+c,S=y+f;return T>S?Math.max(m,y):Math.max(p,y)}function yue(e){var{translateX:t,translateY:n,useTranslate3d:r}=e;return{transform:r?"translate3d(".concat(t,"px, ").concat(n,"px, 0)"):"translate(".concat(t,"px, ").concat(n,"px)")}}function bue(e){var{allowEscapeViewBox:t,coordinate:n,offsetTopLeft:r,position:i,reverseDirection:a,tooltipBox:s,useTranslate3d:c,viewBox:d}=e,f,m,p;return s.height>0&&s.width>0&&n?(m=QP({allowEscapeViewBox:t,coordinate:n,key:"x",offsetTopLeft:r,position:i,reverseDirection:a,tooltipDimension:s.width,viewBox:d,viewBoxDimension:d.width}),p=QP({allowEscapeViewBox:t,coordinate:n,key:"y",offsetTopLeft:r,position:i,reverseDirection:a,tooltipDimension:s.height,viewBox:d,viewBoxDimension:d.height}),f=yue({translateX:m,translateY:p,useTranslate3d:c})):f=gue,{cssProperties:f,cssClasses:vue({translateX:m,translateY:p,coordinate:n})}}function eR(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function j0(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?eR(Object(n),!0).forEach(function(r){PE(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):eR(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function PE(e,t,n){return(t=_ue(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function _ue(e){var t=xue(e,"string");return typeof t=="symbol"?t:t+""}function xue(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class wue extends A.PureComponent{constructor(){super(...arguments),PE(this,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0}}),PE(this,"handleKeyDown",t=>{if(t.key==="Escape"){var n,r,i,a;this.setState({dismissed:!0,dismissedAtCoordinate:{x:(n=(r=this.props.coordinate)===null||r===void 0?void 0:r.x)!==null&&n!==void 0?n:0,y:(i=(a=this.props.coordinate)===null||a===void 0?void 0:a.y)!==null&&i!==void 0?i:0}})}})}componentDidMount(){document.addEventListener("keydown",this.handleKeyDown)}componentWillUnmount(){document.removeEventListener("keydown",this.handleKeyDown)}componentDidUpdate(){var t,n;this.state.dismissed&&(((t=this.props.coordinate)===null||t===void 0?void 0:t.x)!==this.state.dismissedAtCoordinate.x||((n=this.props.coordinate)===null||n===void 0?void 0:n.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}render(){var{active:t,allowEscapeViewBox:n,animationDuration:r,animationEasing:i,children:a,coordinate:s,hasPayload:c,isAnimationActive:d,offset:f,position:m,reverseDirection:p,useTranslate3d:y,viewBox:b,wrapperStyle:x,lastBoundingBox:T,innerRef:S,hasPortalFromProps:j}=this.props,{cssClasses:D,cssProperties:O}=bue({allowEscapeViewBox:n,coordinate:s,offsetTopLeft:f,position:m,reverseDirection:p,tooltipBox:{height:T.height,width:T.width},useTranslate3d:y,viewBox:b}),M=j?{}:j0(j0({transition:d&&t?"transform ".concat(r,"ms ").concat(i):void 0},O),{},{pointerEvents:"none",visibility:!this.state.dismissed&&t&&c?"visible":"hidden",position:"absolute",top:0,left:0}),N=j0(j0({},M),{},{visibility:!this.state.dismissed&&t&&c?"visible":"hidden"},x);return A.createElement("div",{xmlns:"http://www.w3.org/1999/xhtml",tabIndex:-1,className:D,style:N,ref:S},a)}}var O7=()=>{var e;return(e=it(t=>t.rootProps.accessibilityLayer))!==null&&e!==void 0?e:!0};function RE(){return RE=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},RE.apply(null,arguments)}function tR(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function nR(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?tR(Object(n),!0).forEach(function(r){Sue(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):tR(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Sue(e,t,n){return(t=Eue(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Eue(e){var t=Aue(e,"string");return typeof t=="symbol"?t:t+""}function Aue(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var rR={curveBasisClosed:Ioe,curveBasisOpen:$oe,curveBasis:Loe,curveBumpX:Poe,curveBumpY:Roe,curveLinearClosed:Boe,curveLinear:ob,curveMonotoneX:zoe,curveMonotoneY:Uoe,curveNatural:Hoe,curveStep:Foe,curveStepAfter:qoe,curveStepBefore:Goe},ey=e=>Fn(e.x)&&Fn(e.y),iR=e=>e.base!=null&&ey(e.base)&&ey(e),Lh=e=>e.x,Ih=e=>e.y,Tue=(e,t)=>{if(typeof e=="function")return e;var n="curve".concat(PA(e));return(n==="curveMonotone"||n==="curveBump")&&t?rR["".concat(n).concat(t==="vertical"?"Y":"X")]:rR[n]||ob},kue=e=>{var{type:t="linear",points:n=[],baseLine:r,layout:i,connectNulls:a=!1}=e,s=Tue(t,i),c=a?n.filter(ey):n,d;if(Array.isArray(r)){var f=n.map((b,x)=>nR(nR({},b),{},{base:r[x]}));i==="vertical"?d=x0().y(Ih).x1(Lh).x0(b=>b.base.x):d=x0().x(Lh).y1(Ih).y0(b=>b.base.y);var m=d.defined(iR).curve(s),p=a?f.filter(iR):f;return m(p)}i==="vertical"&&nt(r)?d=x0().y(Ih).x1(Lh).x0(r):nt(r)?d=x0().x(Lh).y1(Ih).y0(r):d=u4().x(Lh).y(Ih);var y=d.defined(ey).curve(s);return y(c)},lv=e=>{var{className:t,points:n,path:r,pathRef:i}=e;if((!n||!n.length)&&!r)return null;var a=n&&n.length?kue(e):r;return A.createElement("path",RE({},_o(e),RA(e),{className:vn("recharts-curve",t),d:a===null?void 0:a,ref:i}))},Oue=["x","y","top","left","width","height","className"];function LE(){return LE=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},LE.apply(null,arguments)}function aR(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function jue(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?aR(Object(n),!0).forEach(function(r){Nue(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):aR(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Nue(e,t,n){return(t=Cue(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Cue(e){var t=Mue(e,"string");return typeof t=="symbol"?t:t+""}function Mue(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Due(e,t){if(e==null)return{};var n,r,i=Pue(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function Pue(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var Rue=(e,t,n,r,i,a)=>"M".concat(e,",").concat(i,"v").concat(r,"M").concat(a,",").concat(t,"h").concat(n),Lue=e=>{var{x:t=0,y:n=0,top:r=0,left:i=0,width:a=0,height:s=0,className:c}=e,d=Due(e,Oue),f=jue({x:t,y:n,top:r,left:i,width:a,height:s},d);return!nt(t)||!nt(n)||!nt(a)||!nt(s)||!nt(r)||!nt(i)?null:A.createElement("path",LE({},Ha(f),{className:vn("recharts-cross",c),d:Rue(t,n,a,s,r,i)}))};function Iue(e,t,n,r){var i=r/2;return{stroke:"none",fill:"#ccc",x:e==="horizontal"?t.x-i:n.left+.5,y:e==="horizontal"?n.top+.5:t.y-i,width:e==="horizontal"?r:n.width-1,height:e==="horizontal"?n.height-1:r}}function oR(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function sR(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?oR(Object(n),!0).forEach(function(r){$ue(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):oR(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function $ue(e,t,n){return(t=Bue(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Bue(e){var t=zue(e,"string");return typeof t=="symbol"?t:t+""}function zue(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Uue=e=>e.replace(/([A-Z])/g,t=>"-".concat(t.toLowerCase())),Hue=(e,t,n)=>e.map(r=>"".concat(Uue(r)," ").concat(t,"ms ").concat(n)).join(","),Fue=(e,t)=>[Object.keys(e),Object.keys(t)].reduce((n,r)=>n.filter(i=>r.includes(i))),Tm=(e,t)=>Object.keys(t).reduce((n,r)=>sR(sR({},n),{},{[r]:e(r,t[r])}),{});function lR(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function sr(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?lR(Object(n),!0).forEach(function(r){Gue(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):lR(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Gue(e,t,n){return(t=que(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function que(e){var t=Yue(e,"string");return typeof t=="symbol"?t:t+""}function Yue(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var ty=(e,t,n)=>e+(t-e)*n,IE=e=>{var{from:t,to:n}=e;return t!==n},j7=(e,t,n)=>{var r=Tm((i,a)=>{if(IE(a)){var[s,c]=e(a.from,a.to,a.velocity);return sr(sr({},a),{},{from:s,velocity:c})}return a},t);return n<1?Tm((i,a)=>IE(a)?sr(sr({},a),{},{velocity:ty(a.velocity,r[i].velocity,n),from:ty(a.from,r[i].from,n)}):a,t):j7(e,r,n-1)};function Kue(e,t,n,r,i,a){var s,c=r.reduce((y,b)=>sr(sr({},y),{},{[b]:{from:e[b],velocity:0,to:t[b]}}),{}),d=()=>Tm((y,b)=>b.from,c),f=()=>!Object.values(c).filter(IE).length,m=null,p=y=>{s||(s=y);var b=y-s,x=b/n.dt;c=j7(n,c,x),i(sr(sr(sr({},e),t),d())),s=y,f()||(m=a.setTimeout(p))};return()=>(m=a.setTimeout(p),()=>{var y;(y=m)===null||y===void 0||y()})}function Wue(e,t,n,r,i,a,s){var c=null,d=i.reduce((p,y)=>sr(sr({},p),{},{[y]:[e[y],t[y]]}),{}),f,m=p=>{f||(f=p);var y=(p-f)/r,b=Tm((T,S)=>ty(...S,n(y)),d);if(a(sr(sr(sr({},e),t),b)),y<1)c=s.setTimeout(m);else{var x=Tm((T,S)=>ty(...S,n(1)),d);a(sr(sr(sr({},e),t),x))}};return()=>(c=s.setTimeout(m),()=>{var p;(p=c)===null||p===void 0||p()})}const Vue=(e,t,n,r,i,a)=>{var s=Fue(e,t);return n==null?()=>(i(sr(sr({},e),t)),()=>{}):n.isStepper===!0?Kue(e,t,n,s,i,a):Wue(e,t,n,r,s,i,a)};var ny=1e-4,N7=(e,t)=>[0,3*e,3*t-6*e,3*e-3*t+1],C7=(e,t)=>e.map((n,r)=>n*t**r).reduce((n,r)=>n+r),cR=(e,t)=>n=>{var r=N7(e,t);return C7(r,n)},Zue=(e,t)=>n=>{var r=N7(e,t),i=[...r.map((a,s)=>a*s).slice(1),0];return C7(i,n)},Xue=function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];if(n.length===1)switch(n[0]){case"linear":return[0,0,1,1];case"ease":return[.25,.1,.25,1];case"ease-in":return[.42,0,1,1];case"ease-out":return[.42,0,.58,1];case"ease-in-out":return[0,0,.58,1];default:{var i,a=n[0].split("(");if(a[0]==="cubic-bezier"&&((i=a[1])===null||i===void 0?void 0:i.split(")")[0].split(",").length)===4){var s=a[1].split(")")[0].split(",").map(c=>parseFloat(c));return[s[0],s[1],s[2],s[3]]}}}return n.length===4?n:[0,0,1,1]},Jue=(e,t,n,r)=>{var i=cR(e,n),a=cR(t,r),s=Zue(e,n),c=f=>f>1?1:f<0?0:f,d=f=>{for(var m=f>1?1:f,p=m,y=0;y<8;++y){var b=i(p)-m,x=s(p);if(Math.abs(b-m)<ny||x<ny)return a(p);p=c(p-b/x)}return a(p)};return d.isStepper=!1,d},uR=function(){return Jue(...Xue(...arguments))},Que=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},{stiff:n=100,damping:r=8,dt:i=17}=t,a=(s,c,d)=>{var f=-(s-c)*n,m=d*r,p=d+(f-m)*i/1e3,y=d*i/1e3+s;return Math.abs(y-c)<ny&&Math.abs(p)<ny?[c,0]:[y,p]};return a.isStepper=!0,a.dt=i,a},ede=e=>{if(typeof e=="string")switch(e){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return uR(e);case"spring":return Que();default:if(e.split("(")[0]==="cubic-bezier")return uR(e)}return typeof e=="function"?e:null};function tde(e){var t,n=()=>null,r=!1,i=null,a=s=>{if(!r){if(Array.isArray(s)){if(!s.length)return;var c=s,[d,...f]=c;if(typeof d=="number"){i=e.setTimeout(a.bind(null,f),d);return}a(d),i=e.setTimeout(a.bind(null,f));return}typeof s=="string"&&(t=s,n(t)),typeof s=="object"&&(t=s,n(t)),typeof s=="function"&&s()}};return{stop:()=>{r=!0},start:s=>{r=!1,i&&(i(),i=null),a(s)},subscribe:s=>(n=s,()=>{n=()=>null}),getTimeoutController:()=>e}}class nde{setTimeout(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=performance.now(),i=null,a=s=>{s-r>=n?t(s):typeof requestAnimationFrame=="function"&&(i=requestAnimationFrame(a))};return i=requestAnimationFrame(a),()=>{i!=null&&cancelAnimationFrame(i)}}}function rde(){return tde(new nde)}var ide=A.createContext(rde);function ade(e,t){var n=A.useContext(ide);return A.useMemo(()=>t??n(e),[e,t,n])}var ode=()=>!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout),vf={devToolsEnabled:!1,isSsr:ode()},sde={begin:0,duration:1e3,easing:"ease",isActive:!0,canBegin:!0,onAnimationEnd:()=>{},onAnimationStart:()=>{}},dR={t:0},K1={t:1};function M7(e){var t=fa(e,sde),{isActive:n,canBegin:r,duration:i,easing:a,begin:s,onAnimationEnd:c,onAnimationStart:d,children:f}=t,m=n==="auto"?!vf.isSsr:n,p=ade(t.animationId,t.animationManager),[y,b]=A.useState(m?dR:K1),x=A.useRef(null);return A.useEffect(()=>{m||b(K1)},[m]),A.useEffect(()=>{if(!m||!r)return Xm;var T=Vue(dR,K1,ede(a),i,b,p.getTimeoutController()),S=()=>{x.current=T()};return p.start([d,s,S,i,c]),()=>{p.stop(),x.current&&x.current(),c()}},[m,r,i,a,s,d,c,p]),f(y.t)}function D7(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"animation-",n=A.useRef(bm(t)),r=A.useRef(e);return r.current!==e&&(n.current=bm(t),r.current=e),n.current}var lde=["radius"],cde=["radius"];function fR(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function hR(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?fR(Object(n),!0).forEach(function(r){ude(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):fR(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function ude(e,t,n){return(t=dde(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function dde(e){var t=fde(e,"string");return typeof t=="symbol"?t:t+""}function fde(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function ry(){return ry=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ry.apply(null,arguments)}function mR(e,t){if(e==null)return{};var n,r,i=hde(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function hde(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var pR=(e,t,n,r,i)=>{var a=Math.min(Math.abs(n)/2,Math.abs(r)/2),s=r>=0?1:-1,c=n>=0?1:-1,d=r>=0&&n>=0||r<0&&n<0?1:0,f;if(a>0&&i instanceof Array){for(var m=[0,0,0,0],p=0,y=4;p<y;p++)m[p]=i[p]>a?a:i[p];f="M".concat(e,",").concat(t+s*m[0]),m[0]>0&&(f+="A ".concat(m[0],",").concat(m[0],",0,0,").concat(d,",").concat(e+c*m[0],",").concat(t)),f+="L ".concat(e+n-c*m[1],",").concat(t),m[1]>0&&(f+="A ".concat(m[1],",").concat(m[1],",0,0,").concat(d,`,
        `).concat(e+n,",").concat(t+s*m[1])),f+="L ".concat(e+n,",").concat(t+r-s*m[2]),m[2]>0&&(f+="A ".concat(m[2],",").concat(m[2],",0,0,").concat(d,`,
        `).concat(e+n-c*m[2],",").concat(t+r)),f+="L ".concat(e+c*m[3],",").concat(t+r),m[3]>0&&(f+="A ".concat(m[3],",").concat(m[3],",0,0,").concat(d,`,
        `).concat(e,",").concat(t+r-s*m[3])),f+="Z"}else if(a>0&&i===+i&&i>0){var b=Math.min(a,i);f="M ".concat(e,",").concat(t+s*b,`
            A `).concat(b,",").concat(b,",0,0,").concat(d,",").concat(e+c*b,",").concat(t,`
            L `).concat(e+n-c*b,",").concat(t,`
            A `).concat(b,",").concat(b,",0,0,").concat(d,",").concat(e+n,",").concat(t+s*b,`
            L `).concat(e+n,",").concat(t+r-s*b,`
            A `).concat(b,",").concat(b,",0,0,").concat(d,",").concat(e+n-c*b,",").concat(t+r,`
            L `).concat(e+c*b,",").concat(t+r,`
            A `).concat(b,",").concat(b,",0,0,").concat(d,",").concat(e,",").concat(t+r-s*b," Z")}else f="M ".concat(e,",").concat(t," h ").concat(n," v ").concat(r," h ").concat(-n," Z");return f},gR={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},mde=e=>{var t=fa(e,gR),n=A.useRef(null),[r,i]=A.useState(-1);A.useEffect(()=>{if(n.current&&n.current.getTotalLength)try{var le=n.current.getTotalLength();le&&i(le)}catch{}},[]);var{x:a,y:s,width:c,height:d,radius:f,className:m}=t,{animationEasing:p,animationDuration:y,animationBegin:b,isAnimationActive:x,isUpdateAnimationActive:T}=t,S=A.useRef(c),j=A.useRef(d),D=A.useRef(a),O=A.useRef(s),M=A.useMemo(()=>({x:a,y:s,width:c,height:d,radius:f}),[a,s,c,d,f]),N=D7(M,"rectangle-");if(a!==+a||s!==+s||c!==+c||d!==+d||c===0||d===0)return null;var R=vn("recharts-rectangle",m);if(!T){var $=Ha(t),{radius:B}=$,H=mR($,lde);return A.createElement("path",ry({},H,{radius:typeof f=="number"?f:void 0,className:R,d:pR(a,s,c,d,f)}))}var V=S.current,z=j.current,F=D.current,Q=O.current,ee="0px ".concat(r===-1?1:r,"px"),be="".concat(r,"px 0px"),J=Hue(["strokeDasharray"],y,typeof p=="string"?p:gR.animationEasing);return A.createElement(M7,{animationId:N,key:N,canBegin:r>0,duration:y,easing:p,isActive:T,begin:b},le=>{var ae=Ho(V,c,le),me=Ho(z,d,le),ne=Ho(F,a,le),q=Ho(Q,s,le);n.current&&(S.current=ae,j.current=me,D.current=ne,O.current=q);var K;x?le>0?K={transition:J,strokeDasharray:be}:K={strokeDasharray:ee}:K={strokeDasharray:be};var X=Ha(t),{radius:ie}=X,Z=mR(X,cde);return A.createElement("path",ry({},Z,{radius:typeof f=="number"?f:void 0,className:R,d:pR(ne,q,ae,me,f),ref:n,style:hR(hR({},K),t.style)}))})};function vR(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function yR(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?vR(Object(n),!0).forEach(function(r){pde(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):vR(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function pde(e,t,n){return(t=gde(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function gde(e){var t=vde(e,"string");return typeof t=="symbol"?t:t+""}function vde(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var iy=Math.PI/180,yde=e=>e*180/Math.PI,Br=(e,t,n,r)=>({x:e+Math.cos(-iy*r)*n,y:t+Math.sin(-iy*r)*n}),bde=function(t,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(t-(r.left||0)-(r.right||0)),Math.abs(n-(r.top||0)-(r.bottom||0)))/2},_de=(e,t)=>{var{x:n,y:r}=e,{x:i,y:a}=t;return Math.sqrt((n-i)**2+(r-a)**2)},xde=(e,t)=>{var{x:n,y:r}=e,{cx:i,cy:a}=t,s=_de({x:n,y:r},{x:i,y:a});if(s<=0)return{radius:s,angle:0};var c=(n-i)/s,d=Math.acos(c);return r>a&&(d=2*Math.PI-d),{radius:s,angle:yde(d),angleInRadian:d}},wde=e=>{var{startAngle:t,endAngle:n}=e,r=Math.floor(t/360),i=Math.floor(n/360),a=Math.min(r,i);return{startAngle:t-a*360,endAngle:n-a*360}},Sde=(e,t)=>{var{startAngle:n,endAngle:r}=t,i=Math.floor(n/360),a=Math.floor(r/360),s=Math.min(i,a);return e+s*360},Ede=(e,t)=>{var{chartX:n,chartY:r}=e,{radius:i,angle:a}=xde({x:n,y:r},t),{innerRadius:s,outerRadius:c}=t;if(i<s||i>c||i===0)return null;var{startAngle:d,endAngle:f}=wde(t),m=a,p;if(d<=f){for(;m>f;)m-=360;for(;m<d;)m+=360;p=m>=d&&m<=f}else{for(;m>d;)m-=360;for(;m<f;)m+=360;p=m>=f&&m<=d}return p?yR(yR({},t),{},{radius:i,angle:Sde(m,t)}):null};function P7(e){var{cx:t,cy:n,radius:r,startAngle:i,endAngle:a}=e,s=Br(t,n,r,i),c=Br(t,n,r,a);return{points:[s,c],cx:t,cy:n,radius:r,startAngle:i,endAngle:a}}function $E(){return $E=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},$E.apply(null,arguments)}var Ade=(e,t)=>{var n=La(t-e),r=Math.min(Math.abs(t-e),359.999);return n*r},N0=e=>{var{cx:t,cy:n,radius:r,angle:i,sign:a,isExternal:s,cornerRadius:c,cornerIsExternal:d}=e,f=c*(s?1:-1)+r,m=Math.asin(c/f)/iy,p=d?i:i+a*m,y=Br(t,n,f,p),b=Br(t,n,r,p),x=d?i-a*m:i,T=Br(t,n,f*Math.cos(m*iy),x);return{center:y,circleTangency:b,lineTangency:T,theta:m}},R7=e=>{var{cx:t,cy:n,innerRadius:r,outerRadius:i,startAngle:a,endAngle:s}=e,c=Ade(a,s),d=a+c,f=Br(t,n,i,a),m=Br(t,n,i,d),p="M ".concat(f.x,",").concat(f.y,`
    A `).concat(i,",").concat(i,`,0,
    `).concat(+(Math.abs(c)>180),",").concat(+(a>d),`,
    `).concat(m.x,",").concat(m.y,`
  `);if(r>0){var y=Br(t,n,r,a),b=Br(t,n,r,d);p+="L ".concat(b.x,",").concat(b.y,`
            A `).concat(r,",").concat(r,`,0,
            `).concat(+(Math.abs(c)>180),",").concat(+(a<=d),`,
            `).concat(y.x,",").concat(y.y," Z")}else p+="L ".concat(t,",").concat(n," Z");return p},Tde=e=>{var{cx:t,cy:n,innerRadius:r,outerRadius:i,cornerRadius:a,forceCornerRadius:s,cornerIsExternal:c,startAngle:d,endAngle:f}=e,m=La(f-d),{circleTangency:p,lineTangency:y,theta:b}=N0({cx:t,cy:n,radius:i,angle:d,sign:m,cornerRadius:a,cornerIsExternal:c}),{circleTangency:x,lineTangency:T,theta:S}=N0({cx:t,cy:n,radius:i,angle:f,sign:-m,cornerRadius:a,cornerIsExternal:c}),j=c?Math.abs(d-f):Math.abs(d-f)-b-S;if(j<0)return s?"M ".concat(y.x,",").concat(y.y,`
        a`).concat(a,",").concat(a,",0,0,1,").concat(a*2,`,0
        a`).concat(a,",").concat(a,",0,0,1,").concat(-a*2,`,0
      `):R7({cx:t,cy:n,innerRadius:r,outerRadius:i,startAngle:d,endAngle:f});var D="M ".concat(y.x,",").concat(y.y,`
    A`).concat(a,",").concat(a,",0,0,").concat(+(m<0),",").concat(p.x,",").concat(p.y,`
    A`).concat(i,",").concat(i,",0,").concat(+(j>180),",").concat(+(m<0),",").concat(x.x,",").concat(x.y,`
    A`).concat(a,",").concat(a,",0,0,").concat(+(m<0),",").concat(T.x,",").concat(T.y,`
  `);if(r>0){var{circleTangency:O,lineTangency:M,theta:N}=N0({cx:t,cy:n,radius:r,angle:d,sign:m,isExternal:!0,cornerRadius:a,cornerIsExternal:c}),{circleTangency:R,lineTangency:$,theta:B}=N0({cx:t,cy:n,radius:r,angle:f,sign:-m,isExternal:!0,cornerRadius:a,cornerIsExternal:c}),H=c?Math.abs(d-f):Math.abs(d-f)-N-B;if(H<0&&a===0)return"".concat(D,"L").concat(t,",").concat(n,"Z");D+="L".concat($.x,",").concat($.y,`
      A`).concat(a,",").concat(a,",0,0,").concat(+(m<0),",").concat(R.x,",").concat(R.y,`
      A`).concat(r,",").concat(r,",0,").concat(+(H>180),",").concat(+(m>0),",").concat(O.x,",").concat(O.y,`
      A`).concat(a,",").concat(a,",0,0,").concat(+(m<0),",").concat(M.x,",").concat(M.y,"Z")}else D+="L".concat(t,",").concat(n,"Z");return D},kde={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},Ode=e=>{var t=fa(e,kde),{cx:n,cy:r,innerRadius:i,outerRadius:a,cornerRadius:s,forceCornerRadius:c,cornerIsExternal:d,startAngle:f,endAngle:m,className:p}=t;if(a<i||f===m)return null;var y=vn("recharts-sector",p),b=a-i,x=Wl(s,b,0,!0),T;return x>0&&Math.abs(f-m)<360?T=Tde({cx:n,cy:r,innerRadius:i,outerRadius:a,cornerRadius:Math.min(x,b/2),forceCornerRadius:c,cornerIsExternal:d,startAngle:f,endAngle:m}):T=R7({cx:n,cy:r,innerRadius:i,outerRadius:a,startAngle:f,endAngle:m}),A.createElement("path",$E({},Ha(t),{className:y,d:T}))};function jde(e,t,n){if(e==="horizontal")return[{x:t.x,y:n.top},{x:t.x,y:n.top+n.height}];if(e==="vertical")return[{x:n.left,y:t.y},{x:n.left+n.width,y:t.y}];if(w4(t)){if(e==="centric"){var{cx:r,cy:i,innerRadius:a,outerRadius:s,angle:c}=t,d=Br(r,i,a,c),f=Br(r,i,s,c);return[{x:d.x,y:d.y},{x:f.x,y:f.y}]}return P7(t)}}var W1={},V1={},Z1={},bR;function Nde(){return bR||(bR=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=D4();function n(r){return t.isSymbol(r)?NaN:Number(r)}e.toNumber=n})(Z1)),Z1}var _R;function Cde(){return _R||(_R=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Nde();function n(r){return r?(r=t.toNumber(r),r===1/0||r===-1/0?(r<0?-1:1)*Number.MAX_VALUE:r===r?r:0):r===0?r:0}e.toFinite=n})(V1)),V1}var xR;function Mde(){return xR||(xR=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=P4(),n=Cde();function r(i,a,s){s&&typeof s!="number"&&t.isIterateeCall(i,a,s)&&(a=s=void 0),i=n.toFinite(i),a===void 0?(a=i,i=0):a=n.toFinite(a),s=s===void 0?i<a?1:-1:n.toFinite(s);const c=Math.max(Math.ceil((a-i)/(s||1)),0),d=new Array(c);for(let f=0;f<c;f++)d[f]=i,i+=s;return d}e.range=r})(W1)),W1}var X1,wR;function Dde(){return wR||(wR=1,X1=Mde().range),X1}var Pde=Dde();const L7=Li(Pde);function ql(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function Rde(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function WA(e){let t,n,r;e.length!==2?(t=ql,n=(c,d)=>ql(e(c),d),r=(c,d)=>e(c)-d):(t=e===ql||e===Rde?e:Lde,n=e,r=e);function i(c,d,f=0,m=c.length){if(f<m){if(t(d,d)!==0)return m;do{const p=f+m>>>1;n(c[p],d)<0?f=p+1:m=p}while(f<m)}return f}function a(c,d,f=0,m=c.length){if(f<m){if(t(d,d)!==0)return m;do{const p=f+m>>>1;n(c[p],d)<=0?f=p+1:m=p}while(f<m)}return f}function s(c,d,f=0,m=c.length){const p=i(c,d,f,m-1);return p>f&&r(c[p-1],d)>-r(c[p],d)?p-1:p}return{left:i,center:s,right:a}}function Lde(){return 0}function I7(e){return e===null?NaN:+e}function*Ide(e,t){for(let n of e)n!=null&&(n=+n)>=n&&(yield n)}const $de=WA(ql),ip=$de.right;WA(I7).center;class SR extends Map{constructor(t,n=Ude){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),t!=null)for(const[r,i]of t)this.set(r,i)}get(t){return super.get(ER(this,t))}has(t){return super.has(ER(this,t))}set(t,n){return super.set(Bde(this,t),n)}delete(t){return super.delete(zde(this,t))}}function ER({_intern:e,_key:t},n){const r=t(n);return e.has(r)?e.get(r):n}function Bde({_intern:e,_key:t},n){const r=t(n);return e.has(r)?e.get(r):(e.set(r,n),n)}function zde({_intern:e,_key:t},n){const r=t(n);return e.has(r)&&(n=e.get(r),e.delete(r)),n}function Ude(e){return e!==null&&typeof e=="object"?e.valueOf():e}function Hde(e=ql){if(e===ql)return $7;if(typeof e!="function")throw new TypeError("compare is not a function");return(t,n)=>{const r=e(t,n);return r||r===0?r:(e(n,n)===0)-(e(t,t)===0)}}function $7(e,t){return(e==null||!(e>=e))-(t==null||!(t>=t))||(e<t?-1:e>t?1:0)}const Fde=Math.sqrt(50),Gde=Math.sqrt(10),qde=Math.sqrt(2);function ay(e,t,n){const r=(t-e)/Math.max(0,n),i=Math.floor(Math.log10(r)),a=r/Math.pow(10,i),s=a>=Fde?10:a>=Gde?5:a>=qde?2:1;let c,d,f;return i<0?(f=Math.pow(10,-i)/s,c=Math.round(e*f),d=Math.round(t*f),c/f<e&&++c,d/f>t&&--d,f=-f):(f=Math.pow(10,i)*s,c=Math.round(e/f),d=Math.round(t/f),c*f<e&&++c,d*f>t&&--d),d<c&&.5<=n&&n<2?ay(e,t,n*2):[c,d,f]}function BE(e,t,n){if(t=+t,e=+e,n=+n,!(n>0))return[];if(e===t)return[e];const r=t<e,[i,a,s]=r?ay(t,e,n):ay(e,t,n);if(!(a>=i))return[];const c=a-i+1,d=new Array(c);if(r)if(s<0)for(let f=0;f<c;++f)d[f]=(a-f)/-s;else for(let f=0;f<c;++f)d[f]=(a-f)*s;else if(s<0)for(let f=0;f<c;++f)d[f]=(i+f)/-s;else for(let f=0;f<c;++f)d[f]=(i+f)*s;return d}function zE(e,t,n){return t=+t,e=+e,n=+n,ay(e,t,n)[2]}function UE(e,t,n){t=+t,e=+e,n=+n;const r=t<e,i=r?zE(t,e,n):zE(e,t,n);return(r?-1:1)*(i<0?1/-i:i)}function AR(e,t){let n;for(const r of e)r!=null&&(n<r||n===void 0&&r>=r)&&(n=r);return n}function TR(e,t){let n;for(const r of e)r!=null&&(n>r||n===void 0&&r>=r)&&(n=r);return n}function B7(e,t,n=0,r=1/0,i){if(t=Math.floor(t),n=Math.floor(Math.max(0,n)),r=Math.floor(Math.min(e.length-1,r)),!(n<=t&&t<=r))return e;for(i=i===void 0?$7:Hde(i);r>n;){if(r-n>600){const d=r-n+1,f=t-n+1,m=Math.log(d),p=.5*Math.exp(2*m/3),y=.5*Math.sqrt(m*p*(d-p)/d)*(f-d/2<0?-1:1),b=Math.max(n,Math.floor(t-f*p/d+y)),x=Math.min(r,Math.floor(t+(d-f)*p/d+y));B7(e,t,b,x,i)}const a=e[t];let s=n,c=r;for($h(e,n,t),i(e[r],a)>0&&$h(e,n,r);s<c;){for($h(e,s,c),++s,--c;i(e[s],a)<0;)++s;for(;i(e[c],a)>0;)--c}i(e[n],a)===0?$h(e,n,c):(++c,$h(e,c,r)),c<=t&&(n=c+1),t<=c&&(r=c-1)}return e}function $h(e,t,n){const r=e[t];e[t]=e[n],e[n]=r}function Yde(e,t,n){if(e=Float64Array.from(Ide(e)),!(!(r=e.length)||isNaN(t=+t))){if(t<=0||r<2)return TR(e);if(t>=1)return AR(e);var r,i=(r-1)*t,a=Math.floor(i),s=AR(B7(e,a).subarray(0,a+1)),c=TR(e.subarray(a+1));return s+(c-s)*(i-a)}}function Kde(e,t,n=I7){if(!(!(r=e.length)||isNaN(t=+t))){if(t<=0||r<2)return+n(e[0],0,e);if(t>=1)return+n(e[r-1],r-1,e);var r,i=(r-1)*t,a=Math.floor(i),s=+n(e[a],a,e),c=+n(e[a+1],a+1,e);return s+(c-s)*(i-a)}}function Wde(e,t,n){e=+e,t=+t,n=(i=arguments.length)<2?(t=e,e=0,1):i<3?1:+n;for(var r=-1,i=Math.max(0,Math.ceil((t-e)/n))|0,a=new Array(i);++r<i;)a[r]=e+r*n;return a}function Ya(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}function qs(e,t){switch(arguments.length){case 0:break;case 1:{typeof e=="function"?this.interpolator(e):this.range(e);break}default:{this.domain(e),typeof t=="function"?this.interpolator(t):this.range(t);break}}return this}const HE=Symbol("implicit");function VA(){var e=new SR,t=[],n=[],r=HE;function i(a){let s=e.get(a);if(s===void 0){if(r!==HE)return r;e.set(a,s=t.push(a)-1)}return n[s%n.length]}return i.domain=function(a){if(!arguments.length)return t.slice();t=[],e=new SR;for(const s of a)e.has(s)||e.set(s,t.push(s)-1);return i},i.range=function(a){return arguments.length?(n=Array.from(a),i):n.slice()},i.unknown=function(a){return arguments.length?(r=a,i):r},i.copy=function(){return VA(t,n).unknown(r)},Ya.apply(i,arguments),i}function ZA(){var e=VA().unknown(void 0),t=e.domain,n=e.range,r=0,i=1,a,s,c=!1,d=0,f=0,m=.5;delete e.unknown;function p(){var y=t().length,b=i<r,x=b?i:r,T=b?r:i;a=(T-x)/Math.max(1,y-d+f*2),c&&(a=Math.floor(a)),x+=(T-x-a*(y-d))*m,s=a*(1-d),c&&(x=Math.round(x),s=Math.round(s));var S=Wde(y).map(function(j){return x+a*j});return n(b?S.reverse():S)}return e.domain=function(y){return arguments.length?(t(y),p()):t()},e.range=function(y){return arguments.length?([r,i]=y,r=+r,i=+i,p()):[r,i]},e.rangeRound=function(y){return[r,i]=y,r=+r,i=+i,c=!0,p()},e.bandwidth=function(){return s},e.step=function(){return a},e.round=function(y){return arguments.length?(c=!!y,p()):c},e.padding=function(y){return arguments.length?(d=Math.min(1,f=+y),p()):d},e.paddingInner=function(y){return arguments.length?(d=Math.min(1,y),p()):d},e.paddingOuter=function(y){return arguments.length?(f=+y,p()):f},e.align=function(y){return arguments.length?(m=Math.max(0,Math.min(1,y)),p()):m},e.copy=function(){return ZA(t(),[r,i]).round(c).paddingInner(d).paddingOuter(f).align(m)},Ya.apply(p(),arguments)}function z7(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return z7(t())},e}function Vde(){return z7(ZA.apply(null,arguments).paddingInner(1))}function XA(e,t,n){e.prototype=t.prototype=n,n.constructor=e}function U7(e,t){var n=Object.create(e.prototype);for(var r in t)n[r]=t[r];return n}function ap(){}var km=.7,oy=1/km,Gd="\\s*([+-]?\\d+)\\s*",Om="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Yo="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",Zde=/^#([0-9a-f]{3,8})$/,Xde=new RegExp(`^rgb\\(${Gd},${Gd},${Gd}\\)$`),Jde=new RegExp(`^rgb\\(${Yo},${Yo},${Yo}\\)$`),Qde=new RegExp(`^rgba\\(${Gd},${Gd},${Gd},${Om}\\)$`),efe=new RegExp(`^rgba\\(${Yo},${Yo},${Yo},${Om}\\)$`),tfe=new RegExp(`^hsl\\(${Om},${Yo},${Yo}\\)$`),nfe=new RegExp(`^hsla\\(${Om},${Yo},${Yo},${Om}\\)$`),kR={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};XA(ap,jm,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:OR,formatHex:OR,formatHex8:rfe,formatHsl:ife,formatRgb:jR,toString:jR});function OR(){return this.rgb().formatHex()}function rfe(){return this.rgb().formatHex8()}function ife(){return H7(this).formatHsl()}function jR(){return this.rgb().formatRgb()}function jm(e){var t,n;return e=(e+"").trim().toLowerCase(),(t=Zde.exec(e))?(n=t[1].length,t=parseInt(t[1],16),n===6?NR(t):n===3?new Di(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):n===8?C0(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):n===4?C0(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=Xde.exec(e))?new Di(t[1],t[2],t[3],1):(t=Jde.exec(e))?new Di(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=Qde.exec(e))?C0(t[1],t[2],t[3],t[4]):(t=efe.exec(e))?C0(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=tfe.exec(e))?DR(t[1],t[2]/100,t[3]/100,1):(t=nfe.exec(e))?DR(t[1],t[2]/100,t[3]/100,t[4]):kR.hasOwnProperty(e)?NR(kR[e]):e==="transparent"?new Di(NaN,NaN,NaN,0):null}function NR(e){return new Di(e>>16&255,e>>8&255,e&255,1)}function C0(e,t,n,r){return r<=0&&(e=t=n=NaN),new Di(e,t,n,r)}function afe(e){return e instanceof ap||(e=jm(e)),e?(e=e.rgb(),new Di(e.r,e.g,e.b,e.opacity)):new Di}function FE(e,t,n,r){return arguments.length===1?afe(e):new Di(e,t,n,r??1)}function Di(e,t,n,r){this.r=+e,this.g=+t,this.b=+n,this.opacity=+r}XA(Di,FE,U7(ap,{brighter(e){return e=e==null?oy:Math.pow(oy,e),new Di(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?km:Math.pow(km,e),new Di(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new Di(uu(this.r),uu(this.g),uu(this.b),sy(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:CR,formatHex:CR,formatHex8:ofe,formatRgb:MR,toString:MR}));function CR(){return`#${ru(this.r)}${ru(this.g)}${ru(this.b)}`}function ofe(){return`#${ru(this.r)}${ru(this.g)}${ru(this.b)}${ru((isNaN(this.opacity)?1:this.opacity)*255)}`}function MR(){const e=sy(this.opacity);return`${e===1?"rgb(":"rgba("}${uu(this.r)}, ${uu(this.g)}, ${uu(this.b)}${e===1?")":`, ${e})`}`}function sy(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function uu(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function ru(e){return e=uu(e),(e<16?"0":"")+e.toString(16)}function DR(e,t,n,r){return r<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new po(e,t,n,r)}function H7(e){if(e instanceof po)return new po(e.h,e.s,e.l,e.opacity);if(e instanceof ap||(e=jm(e)),!e)return new po;if(e instanceof po)return e;e=e.rgb();var t=e.r/255,n=e.g/255,r=e.b/255,i=Math.min(t,n,r),a=Math.max(t,n,r),s=NaN,c=a-i,d=(a+i)/2;return c?(t===a?s=(n-r)/c+(n<r)*6:n===a?s=(r-t)/c+2:s=(t-n)/c+4,c/=d<.5?a+i:2-a-i,s*=60):c=d>0&&d<1?0:s,new po(s,c,d,e.opacity)}function sfe(e,t,n,r){return arguments.length===1?H7(e):new po(e,t,n,r??1)}function po(e,t,n,r){this.h=+e,this.s=+t,this.l=+n,this.opacity=+r}XA(po,sfe,U7(ap,{brighter(e){return e=e==null?oy:Math.pow(oy,e),new po(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?km:Math.pow(km,e),new po(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*t,i=2*n-r;return new Di(J1(e>=240?e-240:e+120,i,r),J1(e,i,r),J1(e<120?e+240:e-120,i,r),this.opacity)},clamp(){return new po(PR(this.h),M0(this.s),M0(this.l),sy(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=sy(this.opacity);return`${e===1?"hsl(":"hsla("}${PR(this.h)}, ${M0(this.s)*100}%, ${M0(this.l)*100}%${e===1?")":`, ${e})`}`}}));function PR(e){return e=(e||0)%360,e<0?e+360:e}function M0(e){return Math.max(0,Math.min(1,e||0))}function J1(e,t,n){return(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)*255}const JA=e=>()=>e;function lfe(e,t){return function(n){return e+n*t}}function cfe(e,t,n){return e=Math.pow(e,n),t=Math.pow(t,n)-e,n=1/n,function(r){return Math.pow(e+r*t,n)}}function ufe(e){return(e=+e)==1?F7:function(t,n){return n-t?cfe(t,n,e):JA(isNaN(t)?n:t)}}function F7(e,t){var n=t-e;return n?lfe(e,n):JA(isNaN(e)?t:e)}const RR=(function e(t){var n=ufe(t);function r(i,a){var s=n((i=FE(i)).r,(a=FE(a)).r),c=n(i.g,a.g),d=n(i.b,a.b),f=F7(i.opacity,a.opacity);return function(m){return i.r=s(m),i.g=c(m),i.b=d(m),i.opacity=f(m),i+""}}return r.gamma=e,r})(1);function dfe(e,t){t||(t=[]);var n=e?Math.min(t.length,e.length):0,r=t.slice(),i;return function(a){for(i=0;i<n;++i)r[i]=e[i]*(1-a)+t[i]*a;return r}}function ffe(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function hfe(e,t){var n=t?t.length:0,r=e?Math.min(n,e.length):0,i=new Array(r),a=new Array(n),s;for(s=0;s<r;++s)i[s]=yf(e[s],t[s]);for(;s<n;++s)a[s]=t[s];return function(c){for(s=0;s<r;++s)a[s]=i[s](c);return a}}function mfe(e,t){var n=new Date;return e=+e,t=+t,function(r){return n.setTime(e*(1-r)+t*r),n}}function ly(e,t){return e=+e,t=+t,function(n){return e*(1-n)+t*n}}function pfe(e,t){var n={},r={},i;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(i in t)i in e?n[i]=yf(e[i],t[i]):r[i]=t[i];return function(a){for(i in n)r[i]=n[i](a);return r}}var GE=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Q1=new RegExp(GE.source,"g");function gfe(e){return function(){return e}}function vfe(e){return function(t){return e(t)+""}}function yfe(e,t){var n=GE.lastIndex=Q1.lastIndex=0,r,i,a,s=-1,c=[],d=[];for(e=e+"",t=t+"";(r=GE.exec(e))&&(i=Q1.exec(t));)(a=i.index)>n&&(a=t.slice(n,a),c[s]?c[s]+=a:c[++s]=a),(r=r[0])===(i=i[0])?c[s]?c[s]+=i:c[++s]=i:(c[++s]=null,d.push({i:s,x:ly(r,i)})),n=Q1.lastIndex;return n<t.length&&(a=t.slice(n),c[s]?c[s]+=a:c[++s]=a),c.length<2?d[0]?vfe(d[0].x):gfe(t):(t=d.length,function(f){for(var m=0,p;m<t;++m)c[(p=d[m]).i]=p.x(f);return c.join("")})}function yf(e,t){var n=typeof t,r;return t==null||n==="boolean"?JA(t):(n==="number"?ly:n==="string"?(r=jm(t))?(t=r,RR):yfe:t instanceof jm?RR:t instanceof Date?mfe:ffe(t)?dfe:Array.isArray(t)?hfe:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?pfe:ly)(e,t)}function QA(e,t){return e=+e,t=+t,function(n){return Math.round(e*(1-n)+t*n)}}function bfe(e,t){t===void 0&&(t=e,e=yf);for(var n=0,r=t.length-1,i=t[0],a=new Array(r<0?0:r);n<r;)a[n]=e(i,i=t[++n]);return function(s){var c=Math.max(0,Math.min(r-1,Math.floor(s*=r)));return a[c](s-c)}}function _fe(e){return function(){return e}}function cy(e){return+e}var LR=[0,1];function di(e){return e}function qE(e,t){return(t-=e=+e)?function(n){return(n-e)/t}:_fe(isNaN(t)?NaN:.5)}function xfe(e,t){var n;return e>t&&(n=e,e=t,t=n),function(r){return Math.max(e,Math.min(t,r))}}function wfe(e,t,n){var r=e[0],i=e[1],a=t[0],s=t[1];return i<r?(r=qE(i,r),a=n(s,a)):(r=qE(r,i),a=n(a,s)),function(c){return a(r(c))}}function Sfe(e,t,n){var r=Math.min(e.length,t.length)-1,i=new Array(r),a=new Array(r),s=-1;for(e[r]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++s<r;)i[s]=qE(e[s],e[s+1]),a[s]=n(t[s],t[s+1]);return function(c){var d=ip(e,c,1,r)-1;return a[d](i[d](c))}}function op(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function kb(){var e=LR,t=LR,n=yf,r,i,a,s=di,c,d,f;function m(){var y=Math.min(e.length,t.length);return s!==di&&(s=xfe(e[0],e[y-1])),c=y>2?Sfe:wfe,d=f=null,p}function p(y){return y==null||isNaN(y=+y)?a:(d||(d=c(e.map(r),t,n)))(r(s(y)))}return p.invert=function(y){return s(i((f||(f=c(t,e.map(r),ly)))(y)))},p.domain=function(y){return arguments.length?(e=Array.from(y,cy),m()):e.slice()},p.range=function(y){return arguments.length?(t=Array.from(y),m()):t.slice()},p.rangeRound=function(y){return t=Array.from(y),n=QA,m()},p.clamp=function(y){return arguments.length?(s=y?!0:di,m()):s!==di},p.interpolate=function(y){return arguments.length?(n=y,m()):n},p.unknown=function(y){return arguments.length?(a=y,p):a},function(y,b){return r=y,i=b,m()}}function eT(){return kb()(di,di)}function Efe(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function uy(e,t){if((n=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var n,r=e.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+e.slice(n+1)]}function rf(e){return e=uy(Math.abs(e)),e?e[1]:NaN}function Afe(e,t){return function(n,r){for(var i=n.length,a=[],s=0,c=e[0],d=0;i>0&&c>0&&(d+c+1>r&&(c=Math.max(1,r-d)),a.push(n.substring(i-=c,i+c)),!((d+=c+1)>r));)c=e[s=(s+1)%e.length];return a.reverse().join(t)}}function Tfe(e){return function(t){return t.replace(/[0-9]/g,function(n){return e[+n]})}}var kfe=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Nm(e){if(!(t=kfe.exec(e)))throw new Error("invalid format: "+e);var t;return new tT({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}Nm.prototype=tT.prototype;function tT(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}tT.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function Ofe(e){e:for(var t=e.length,n=1,r=-1,i;n<t;++n)switch(e[n]){case".":r=i=n;break;case"0":r===0&&(r=n),i=n;break;default:if(!+e[n])break e;r>0&&(r=0);break}return r>0?e.slice(0,r)+e.slice(i+1):e}var G7;function jfe(e,t){var n=uy(e,t);if(!n)return e+"";var r=n[0],i=n[1],a=i-(G7=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,s=r.length;return a===s?r:a>s?r+new Array(a-s+1).join("0"):a>0?r.slice(0,a)+"."+r.slice(a):"0."+new Array(1-a).join("0")+uy(e,Math.max(0,t+a-1))[0]}function IR(e,t){var n=uy(e,t);if(!n)return e+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}const $R={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:Efe,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>IR(e*100,t),r:IR,s:jfe,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function BR(e){return e}var zR=Array.prototype.map,UR=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function Nfe(e){var t=e.grouping===void 0||e.thousands===void 0?BR:Afe(zR.call(e.grouping,Number),e.thousands+""),n=e.currency===void 0?"":e.currency[0]+"",r=e.currency===void 0?"":e.currency[1]+"",i=e.decimal===void 0?".":e.decimal+"",a=e.numerals===void 0?BR:Tfe(zR.call(e.numerals,String)),s=e.percent===void 0?"%":e.percent+"",c=e.minus===void 0?"":e.minus+"",d=e.nan===void 0?"NaN":e.nan+"";function f(p){p=Nm(p);var y=p.fill,b=p.align,x=p.sign,T=p.symbol,S=p.zero,j=p.width,D=p.comma,O=p.precision,M=p.trim,N=p.type;N==="n"?(D=!0,N="g"):$R[N]||(O===void 0&&(O=12),M=!0,N="g"),(S||y==="0"&&b==="=")&&(S=!0,y="0",b="=");var R=T==="$"?n:T==="#"&&/[boxX]/.test(N)?"0"+N.toLowerCase():"",$=T==="$"?r:/[%p]/.test(N)?s:"",B=$R[N],H=/[defgprs%]/.test(N);O=O===void 0?6:/[gprs]/.test(N)?Math.max(1,Math.min(21,O)):Math.max(0,Math.min(20,O));function V(z){var F=R,Q=$,ee,be,J;if(N==="c")Q=B(z)+Q,z="";else{z=+z;var le=z<0||1/z<0;if(z=isNaN(z)?d:B(Math.abs(z),O),M&&(z=Ofe(z)),le&&+z==0&&x!=="+"&&(le=!1),F=(le?x==="("?x:c:x==="-"||x==="("?"":x)+F,Q=(N==="s"?UR[8+G7/3]:"")+Q+(le&&x==="("?")":""),H){for(ee=-1,be=z.length;++ee<be;)if(J=z.charCodeAt(ee),48>J||J>57){Q=(J===46?i+z.slice(ee+1):z.slice(ee))+Q,z=z.slice(0,ee);break}}}D&&!S&&(z=t(z,1/0));var ae=F.length+z.length+Q.length,me=ae<j?new Array(j-ae+1).join(y):"";switch(D&&S&&(z=t(me+z,me.length?j-Q.length:1/0),me=""),b){case"<":z=F+z+Q+me;break;case"=":z=F+me+z+Q;break;case"^":z=me.slice(0,ae=me.length>>1)+F+z+Q+me.slice(ae);break;default:z=me+F+z+Q;break}return a(z)}return V.toString=function(){return p+""},V}function m(p,y){var b=f((p=Nm(p),p.type="f",p)),x=Math.max(-8,Math.min(8,Math.floor(rf(y)/3)))*3,T=Math.pow(10,-x),S=UR[8+x/3];return function(j){return b(T*j)+S}}return{format:f,formatPrefix:m}}var D0,nT,q7;Cfe({thousands:",",grouping:[3],currency:["$",""]});function Cfe(e){return D0=Nfe(e),nT=D0.format,q7=D0.formatPrefix,D0}function Mfe(e){return Math.max(0,-rf(Math.abs(e)))}function Dfe(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(rf(t)/3)))*3-rf(Math.abs(e)))}function Pfe(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,rf(t)-rf(e))+1}function Y7(e,t,n,r){var i=UE(e,t,n),a;switch(r=Nm(r??",f"),r.type){case"s":{var s=Math.max(Math.abs(e),Math.abs(t));return r.precision==null&&!isNaN(a=Dfe(i,s))&&(r.precision=a),q7(r,s)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(a=Pfe(i,Math.max(Math.abs(e),Math.abs(t))))&&(r.precision=a-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(a=Mfe(i))&&(r.precision=a-(r.type==="%")*2);break}}return nT(r)}function Jl(e){var t=e.domain;return e.ticks=function(n){var r=t();return BE(r[0],r[r.length-1],n??10)},e.tickFormat=function(n,r){var i=t();return Y7(i[0],i[i.length-1],n??10,r)},e.nice=function(n){n==null&&(n=10);var r=t(),i=0,a=r.length-1,s=r[i],c=r[a],d,f,m=10;for(c<s&&(f=s,s=c,c=f,f=i,i=a,a=f);m-- >0;){if(f=zE(s,c,n),f===d)return r[i]=s,r[a]=c,t(r);if(f>0)s=Math.floor(s/f)*f,c=Math.ceil(c/f)*f;else if(f<0)s=Math.ceil(s*f)/f,c=Math.floor(c*f)/f;else break;d=f}return e},e}function K7(){var e=eT();return e.copy=function(){return op(e,K7())},Ya.apply(e,arguments),Jl(e)}function W7(e){var t;function n(r){return r==null||isNaN(r=+r)?t:r}return n.invert=n,n.domain=n.range=function(r){return arguments.length?(e=Array.from(r,cy),n):e.slice()},n.unknown=function(r){return arguments.length?(t=r,n):t},n.copy=function(){return W7(e).unknown(t)},e=arguments.length?Array.from(e,cy):[0,1],Jl(n)}function V7(e,t){e=e.slice();var n=0,r=e.length-1,i=e[n],a=e[r],s;return a<i&&(s=n,n=r,r=s,s=i,i=a,a=s),e[n]=t.floor(i),e[r]=t.ceil(a),e}function HR(e){return Math.log(e)}function FR(e){return Math.exp(e)}function Rfe(e){return-Math.log(-e)}function Lfe(e){return-Math.exp(-e)}function Ife(e){return isFinite(e)?+("1e"+e):e<0?0:e}function $fe(e){return e===10?Ife:e===Math.E?Math.exp:t=>Math.pow(e,t)}function Bfe(e){return e===Math.E?Math.log:e===10&&Math.log10||e===2&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}function GR(e){return(t,n)=>-e(-t,n)}function rT(e){const t=e(HR,FR),n=t.domain;let r=10,i,a;function s(){return i=Bfe(r),a=$fe(r),n()[0]<0?(i=GR(i),a=GR(a),e(Rfe,Lfe)):e(HR,FR),t}return t.base=function(c){return arguments.length?(r=+c,s()):r},t.domain=function(c){return arguments.length?(n(c),s()):n()},t.ticks=c=>{const d=n();let f=d[0],m=d[d.length-1];const p=m<f;p&&([f,m]=[m,f]);let y=i(f),b=i(m),x,T;const S=c==null?10:+c;let j=[];if(!(r%1)&&b-y<S){if(y=Math.floor(y),b=Math.ceil(b),f>0){for(;y<=b;++y)for(x=1;x<r;++x)if(T=y<0?x/a(-y):x*a(y),!(T<f)){if(T>m)break;j.push(T)}}else for(;y<=b;++y)for(x=r-1;x>=1;--x)if(T=y>0?x/a(-y):x*a(y),!(T<f)){if(T>m)break;j.push(T)}j.length*2<S&&(j=BE(f,m,S))}else j=BE(y,b,Math.min(b-y,S)).map(a);return p?j.reverse():j},t.tickFormat=(c,d)=>{if(c==null&&(c=10),d==null&&(d=r===10?"s":","),typeof d!="function"&&(!(r%1)&&(d=Nm(d)).precision==null&&(d.trim=!0),d=nT(d)),c===1/0)return d;const f=Math.max(1,r*c/t.ticks().length);return m=>{let p=m/a(Math.round(i(m)));return p*r<r-.5&&(p*=r),p<=f?d(m):""}},t.nice=()=>n(V7(n(),{floor:c=>a(Math.floor(i(c))),ceil:c=>a(Math.ceil(i(c)))})),t}function Z7(){const e=rT(kb()).domain([1,10]);return e.copy=()=>op(e,Z7()).base(e.base()),Ya.apply(e,arguments),e}function qR(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function YR(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function iT(e){var t=1,n=e(qR(t),YR(t));return n.constant=function(r){return arguments.length?e(qR(t=+r),YR(t)):t},Jl(n)}function X7(){var e=iT(kb());return e.copy=function(){return op(e,X7()).constant(e.constant())},Ya.apply(e,arguments)}function KR(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function zfe(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function Ufe(e){return e<0?-e*e:e*e}function aT(e){var t=e(di,di),n=1;function r(){return n===1?e(di,di):n===.5?e(zfe,Ufe):e(KR(n),KR(1/n))}return t.exponent=function(i){return arguments.length?(n=+i,r()):n},Jl(t)}function oT(){var e=aT(kb());return e.copy=function(){return op(e,oT()).exponent(e.exponent())},Ya.apply(e,arguments),e}function Hfe(){return oT.apply(null,arguments).exponent(.5)}function WR(e){return Math.sign(e)*e*e}function Ffe(e){return Math.sign(e)*Math.sqrt(Math.abs(e))}function J7(){var e=eT(),t=[0,1],n=!1,r;function i(a){var s=Ffe(e(a));return isNaN(s)?r:n?Math.round(s):s}return i.invert=function(a){return e.invert(WR(a))},i.domain=function(a){return arguments.length?(e.domain(a),i):e.domain()},i.range=function(a){return arguments.length?(e.range((t=Array.from(a,cy)).map(WR)),i):t.slice()},i.rangeRound=function(a){return i.range(a).round(!0)},i.round=function(a){return arguments.length?(n=!!a,i):n},i.clamp=function(a){return arguments.length?(e.clamp(a),i):e.clamp()},i.unknown=function(a){return arguments.length?(r=a,i):r},i.copy=function(){return J7(e.domain(),t).round(n).clamp(e.clamp()).unknown(r)},Ya.apply(i,arguments),Jl(i)}function Q7(){var e=[],t=[],n=[],r;function i(){var s=0,c=Math.max(1,t.length);for(n=new Array(c-1);++s<c;)n[s-1]=Kde(e,s/c);return a}function a(s){return s==null||isNaN(s=+s)?r:t[ip(n,s)]}return a.invertExtent=function(s){var c=t.indexOf(s);return c<0?[NaN,NaN]:[c>0?n[c-1]:e[0],c<n.length?n[c]:e[e.length-1]]},a.domain=function(s){if(!arguments.length)return e.slice();e=[];for(let c of s)c!=null&&!isNaN(c=+c)&&e.push(c);return e.sort(ql),i()},a.range=function(s){return arguments.length?(t=Array.from(s),i()):t.slice()},a.unknown=function(s){return arguments.length?(r=s,a):r},a.quantiles=function(){return n.slice()},a.copy=function(){return Q7().domain(e).range(t).unknown(r)},Ya.apply(a,arguments)}function e6(){var e=0,t=1,n=1,r=[.5],i=[0,1],a;function s(d){return d!=null&&d<=d?i[ip(r,d,0,n)]:a}function c(){var d=-1;for(r=new Array(n);++d<n;)r[d]=((d+1)*t-(d-n)*e)/(n+1);return s}return s.domain=function(d){return arguments.length?([e,t]=d,e=+e,t=+t,c()):[e,t]},s.range=function(d){return arguments.length?(n=(i=Array.from(d)).length-1,c()):i.slice()},s.invertExtent=function(d){var f=i.indexOf(d);return f<0?[NaN,NaN]:f<1?[e,r[0]]:f>=n?[r[n-1],t]:[r[f-1],r[f]]},s.unknown=function(d){return arguments.length&&(a=d),s},s.thresholds=function(){return r.slice()},s.copy=function(){return e6().domain([e,t]).range(i).unknown(a)},Ya.apply(Jl(s),arguments)}function t6(){var e=[.5],t=[0,1],n,r=1;function i(a){return a!=null&&a<=a?t[ip(e,a,0,r)]:n}return i.domain=function(a){return arguments.length?(e=Array.from(a),r=Math.min(e.length,t.length-1),i):e.slice()},i.range=function(a){return arguments.length?(t=Array.from(a),r=Math.min(e.length,t.length-1),i):t.slice()},i.invertExtent=function(a){var s=t.indexOf(a);return[e[s-1],e[s]]},i.unknown=function(a){return arguments.length?(n=a,i):n},i.copy=function(){return t6().domain(e).range(t).unknown(n)},Ya.apply(i,arguments)}const eS=new Date,tS=new Date;function cr(e,t,n,r){function i(a){return e(a=arguments.length===0?new Date:new Date(+a)),a}return i.floor=a=>(e(a=new Date(+a)),a),i.ceil=a=>(e(a=new Date(a-1)),t(a,1),e(a),a),i.round=a=>{const s=i(a),c=i.ceil(a);return a-s<c-a?s:c},i.offset=(a,s)=>(t(a=new Date(+a),s==null?1:Math.floor(s)),a),i.range=(a,s,c)=>{const d=[];if(a=i.ceil(a),c=c==null?1:Math.floor(c),!(a<s)||!(c>0))return d;let f;do d.push(f=new Date(+a)),t(a,c),e(a);while(f<a&&a<s);return d},i.filter=a=>cr(s=>{if(s>=s)for(;e(s),!a(s);)s.setTime(s-1)},(s,c)=>{if(s>=s)if(c<0)for(;++c<=0;)for(;t(s,-1),!a(s););else for(;--c>=0;)for(;t(s,1),!a(s););}),n&&(i.count=(a,s)=>(eS.setTime(+a),tS.setTime(+s),e(eS),e(tS),Math.floor(n(eS,tS))),i.every=a=>(a=Math.floor(a),!isFinite(a)||!(a>0)?null:a>1?i.filter(r?s=>r(s)%a===0:s=>i.count(0,s)%a===0):i)),i}const dy=cr(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);dy.every=e=>(e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?cr(t=>{t.setTime(Math.floor(t/e)*e)},(t,n)=>{t.setTime(+t+n*e)},(t,n)=>(n-t)/e):dy);dy.range;const ks=1e3,Ia=ks*60,Os=Ia*60,Ls=Os*24,sT=Ls*7,VR=Ls*30,nS=Ls*365,iu=cr(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*ks)},(e,t)=>(t-e)/ks,e=>e.getUTCSeconds());iu.range;const lT=cr(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*ks)},(e,t)=>{e.setTime(+e+t*Ia)},(e,t)=>(t-e)/Ia,e=>e.getMinutes());lT.range;const cT=cr(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*Ia)},(e,t)=>(t-e)/Ia,e=>e.getUTCMinutes());cT.range;const uT=cr(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*ks-e.getMinutes()*Ia)},(e,t)=>{e.setTime(+e+t*Os)},(e,t)=>(t-e)/Os,e=>e.getHours());uT.range;const dT=cr(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*Os)},(e,t)=>(t-e)/Os,e=>e.getUTCHours());dT.range;const sp=cr(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*Ia)/Ls,e=>e.getDate()-1);sp.range;const Ob=cr(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/Ls,e=>e.getUTCDate()-1);Ob.range;const n6=cr(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/Ls,e=>Math.floor(e/Ls));n6.range;function Eu(e){return cr(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(t,n)=>{t.setDate(t.getDate()+n*7)},(t,n)=>(n-t-(n.getTimezoneOffset()-t.getTimezoneOffset())*Ia)/sT)}const jb=Eu(0),fy=Eu(1),Gfe=Eu(2),qfe=Eu(3),af=Eu(4),Yfe=Eu(5),Kfe=Eu(6);jb.range;fy.range;Gfe.range;qfe.range;af.range;Yfe.range;Kfe.range;function Au(e){return cr(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(t,n)=>{t.setUTCDate(t.getUTCDate()+n*7)},(t,n)=>(n-t)/sT)}const Nb=Au(0),hy=Au(1),Wfe=Au(2),Vfe=Au(3),of=Au(4),Zfe=Au(5),Xfe=Au(6);Nb.range;hy.range;Wfe.range;Vfe.range;of.range;Zfe.range;Xfe.range;const fT=cr(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+(t.getFullYear()-e.getFullYear())*12,e=>e.getMonth());fT.range;const hT=cr(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+(t.getUTCFullYear()-e.getUTCFullYear())*12,e=>e.getUTCMonth());hT.range;const Is=cr(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear());Is.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:cr(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,n)=>{t.setFullYear(t.getFullYear()+n*e)});Is.range;const $s=cr(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());$s.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:cr(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,n)=>{t.setUTCFullYear(t.getUTCFullYear()+n*e)});$s.range;function r6(e,t,n,r,i,a){const s=[[iu,1,ks],[iu,5,5*ks],[iu,15,15*ks],[iu,30,30*ks],[a,1,Ia],[a,5,5*Ia],[a,15,15*Ia],[a,30,30*Ia],[i,1,Os],[i,3,3*Os],[i,6,6*Os],[i,12,12*Os],[r,1,Ls],[r,2,2*Ls],[n,1,sT],[t,1,VR],[t,3,3*VR],[e,1,nS]];function c(f,m,p){const y=m<f;y&&([f,m]=[m,f]);const b=p&&typeof p.range=="function"?p:d(f,m,p),x=b?b.range(f,+m+1):[];return y?x.reverse():x}function d(f,m,p){const y=Math.abs(m-f)/p,b=WA(([,,S])=>S).right(s,y);if(b===s.length)return e.every(UE(f/nS,m/nS,p));if(b===0)return dy.every(Math.max(UE(f,m,p),1));const[x,T]=s[y/s[b-1][2]<s[b][2]/y?b-1:b];return x.every(T)}return[c,d]}const[Jfe,Qfe]=r6($s,hT,Nb,n6,dT,cT),[ehe,the]=r6(Is,fT,jb,sp,uT,lT);function rS(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function iS(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function Bh(e,t,n){return{y:e,m:t,d:n,H:0,M:0,S:0,L:0}}function nhe(e){var t=e.dateTime,n=e.date,r=e.time,i=e.periods,a=e.days,s=e.shortDays,c=e.months,d=e.shortMonths,f=zh(i),m=Uh(i),p=zh(a),y=Uh(a),b=zh(s),x=Uh(s),T=zh(c),S=Uh(c),j=zh(d),D=Uh(d),O={a:le,A:ae,b:me,B:ne,c:null,d:tL,e:tL,f:Ahe,g:Rhe,G:Ihe,H:whe,I:She,j:Ehe,L:i6,m:The,M:khe,p:q,q:K,Q:iL,s:aL,S:Ohe,u:jhe,U:Nhe,V:Che,w:Mhe,W:Dhe,x:null,X:null,y:Phe,Y:Lhe,Z:$he,"%":rL},M={a:X,A:ie,b:Z,B:W,c:null,d:nL,e:nL,f:Hhe,g:Jhe,G:eme,H:Bhe,I:zhe,j:Uhe,L:o6,m:Fhe,M:Ghe,p:de,q:te,Q:iL,s:aL,S:qhe,u:Yhe,U:Khe,V:Whe,w:Vhe,W:Zhe,x:null,X:null,y:Xhe,Y:Qhe,Z:tme,"%":rL},N={a:V,A:z,b:F,B:Q,c:ee,d:QR,e:QR,f:yhe,g:JR,G:XR,H:eL,I:eL,j:mhe,L:vhe,m:hhe,M:phe,p:H,q:fhe,Q:_he,s:xhe,S:ghe,u:she,U:lhe,V:che,w:ohe,W:uhe,x:be,X:J,y:JR,Y:XR,Z:dhe,"%":bhe};O.x=R(n,O),O.X=R(r,O),O.c=R(t,O),M.x=R(n,M),M.X=R(r,M),M.c=R(t,M);function R(Y,se){return function(xe){var ce=[],Ne=-1,pe=0,Te=Y.length,Me,Le,Be;for(xe instanceof Date||(xe=new Date(+xe));++Ne<Te;)Y.charCodeAt(Ne)===37&&(ce.push(Y.slice(pe,Ne)),(Le=ZR[Me=Y.charAt(++Ne)])!=null?Me=Y.charAt(++Ne):Le=Me==="e"?" ":"0",(Be=se[Me])&&(Me=Be(xe,Le)),ce.push(Me),pe=Ne+1);return ce.push(Y.slice(pe,Ne)),ce.join("")}}function $(Y,se){return function(xe){var ce=Bh(1900,void 0,1),Ne=B(ce,Y,xe+="",0),pe,Te;if(Ne!=xe.length)return null;if("Q"in ce)return new Date(ce.Q);if("s"in ce)return new Date(ce.s*1e3+("L"in ce?ce.L:0));if(se&&!("Z"in ce)&&(ce.Z=0),"p"in ce&&(ce.H=ce.H%12+ce.p*12),ce.m===void 0&&(ce.m="q"in ce?ce.q:0),"V"in ce){if(ce.V<1||ce.V>53)return null;"w"in ce||(ce.w=1),"Z"in ce?(pe=iS(Bh(ce.y,0,1)),Te=pe.getUTCDay(),pe=Te>4||Te===0?hy.ceil(pe):hy(pe),pe=Ob.offset(pe,(ce.V-1)*7),ce.y=pe.getUTCFullYear(),ce.m=pe.getUTCMonth(),ce.d=pe.getUTCDate()+(ce.w+6)%7):(pe=rS(Bh(ce.y,0,1)),Te=pe.getDay(),pe=Te>4||Te===0?fy.ceil(pe):fy(pe),pe=sp.offset(pe,(ce.V-1)*7),ce.y=pe.getFullYear(),ce.m=pe.getMonth(),ce.d=pe.getDate()+(ce.w+6)%7)}else("W"in ce||"U"in ce)&&("w"in ce||(ce.w="u"in ce?ce.u%7:"W"in ce?1:0),Te="Z"in ce?iS(Bh(ce.y,0,1)).getUTCDay():rS(Bh(ce.y,0,1)).getDay(),ce.m=0,ce.d="W"in ce?(ce.w+6)%7+ce.W*7-(Te+5)%7:ce.w+ce.U*7-(Te+6)%7);return"Z"in ce?(ce.H+=ce.Z/100|0,ce.M+=ce.Z%100,iS(ce)):rS(ce)}}function B(Y,se,xe,ce){for(var Ne=0,pe=se.length,Te=xe.length,Me,Le;Ne<pe;){if(ce>=Te)return-1;if(Me=se.charCodeAt(Ne++),Me===37){if(Me=se.charAt(Ne++),Le=N[Me in ZR?se.charAt(Ne++):Me],!Le||(ce=Le(Y,xe,ce))<0)return-1}else if(Me!=xe.charCodeAt(ce++))return-1}return ce}function H(Y,se,xe){var ce=f.exec(se.slice(xe));return ce?(Y.p=m.get(ce[0].toLowerCase()),xe+ce[0].length):-1}function V(Y,se,xe){var ce=b.exec(se.slice(xe));return ce?(Y.w=x.get(ce[0].toLowerCase()),xe+ce[0].length):-1}function z(Y,se,xe){var ce=p.exec(se.slice(xe));return ce?(Y.w=y.get(ce[0].toLowerCase()),xe+ce[0].length):-1}function F(Y,se,xe){var ce=j.exec(se.slice(xe));return ce?(Y.m=D.get(ce[0].toLowerCase()),xe+ce[0].length):-1}function Q(Y,se,xe){var ce=T.exec(se.slice(xe));return ce?(Y.m=S.get(ce[0].toLowerCase()),xe+ce[0].length):-1}function ee(Y,se,xe){return B(Y,t,se,xe)}function be(Y,se,xe){return B(Y,n,se,xe)}function J(Y,se,xe){return B(Y,r,se,xe)}function le(Y){return s[Y.getDay()]}function ae(Y){return a[Y.getDay()]}function me(Y){return d[Y.getMonth()]}function ne(Y){return c[Y.getMonth()]}function q(Y){return i[+(Y.getHours()>=12)]}function K(Y){return 1+~~(Y.getMonth()/3)}function X(Y){return s[Y.getUTCDay()]}function ie(Y){return a[Y.getUTCDay()]}function Z(Y){return d[Y.getUTCMonth()]}function W(Y){return c[Y.getUTCMonth()]}function de(Y){return i[+(Y.getUTCHours()>=12)]}function te(Y){return 1+~~(Y.getUTCMonth()/3)}return{format:function(Y){var se=R(Y+="",O);return se.toString=function(){return Y},se},parse:function(Y){var se=$(Y+="",!1);return se.toString=function(){return Y},se},utcFormat:function(Y){var se=R(Y+="",M);return se.toString=function(){return Y},se},utcParse:function(Y){var se=$(Y+="",!0);return se.toString=function(){return Y},se}}}var ZR={"-":"",_:" ",0:"0"},Or=/^\s*\d+/,rhe=/^%/,ihe=/[\\^$*+?|[\]().{}]/g;function $t(e,t,n){var r=e<0?"-":"",i=(r?-e:e)+"",a=i.length;return r+(a<n?new Array(n-a+1).join(t)+i:i)}function ahe(e){return e.replace(ihe,"\\$&")}function zh(e){return new RegExp("^(?:"+e.map(ahe).join("|")+")","i")}function Uh(e){return new Map(e.map((t,n)=>[t.toLowerCase(),n]))}function ohe(e,t,n){var r=Or.exec(t.slice(n,n+1));return r?(e.w=+r[0],n+r[0].length):-1}function she(e,t,n){var r=Or.exec(t.slice(n,n+1));return r?(e.u=+r[0],n+r[0].length):-1}function lhe(e,t,n){var r=Or.exec(t.slice(n,n+2));return r?(e.U=+r[0],n+r[0].length):-1}function che(e,t,n){var r=Or.exec(t.slice(n,n+2));return r?(e.V=+r[0],n+r[0].length):-1}function uhe(e,t,n){var r=Or.exec(t.slice(n,n+2));return r?(e.W=+r[0],n+r[0].length):-1}function XR(e,t,n){var r=Or.exec(t.slice(n,n+4));return r?(e.y=+r[0],n+r[0].length):-1}function JR(e,t,n){var r=Or.exec(t.slice(n,n+2));return r?(e.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function dhe(e,t,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(n,n+6));return r?(e.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function fhe(e,t,n){var r=Or.exec(t.slice(n,n+1));return r?(e.q=r[0]*3-3,n+r[0].length):-1}function hhe(e,t,n){var r=Or.exec(t.slice(n,n+2));return r?(e.m=r[0]-1,n+r[0].length):-1}function QR(e,t,n){var r=Or.exec(t.slice(n,n+2));return r?(e.d=+r[0],n+r[0].length):-1}function mhe(e,t,n){var r=Or.exec(t.slice(n,n+3));return r?(e.m=0,e.d=+r[0],n+r[0].length):-1}function eL(e,t,n){var r=Or.exec(t.slice(n,n+2));return r?(e.H=+r[0],n+r[0].length):-1}function phe(e,t,n){var r=Or.exec(t.slice(n,n+2));return r?(e.M=+r[0],n+r[0].length):-1}function ghe(e,t,n){var r=Or.exec(t.slice(n,n+2));return r?(e.S=+r[0],n+r[0].length):-1}function vhe(e,t,n){var r=Or.exec(t.slice(n,n+3));return r?(e.L=+r[0],n+r[0].length):-1}function yhe(e,t,n){var r=Or.exec(t.slice(n,n+6));return r?(e.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function bhe(e,t,n){var r=rhe.exec(t.slice(n,n+1));return r?n+r[0].length:-1}function _he(e,t,n){var r=Or.exec(t.slice(n));return r?(e.Q=+r[0],n+r[0].length):-1}function xhe(e,t,n){var r=Or.exec(t.slice(n));return r?(e.s=+r[0],n+r[0].length):-1}function tL(e,t){return $t(e.getDate(),t,2)}function whe(e,t){return $t(e.getHours(),t,2)}function She(e,t){return $t(e.getHours()%12||12,t,2)}function Ehe(e,t){return $t(1+sp.count(Is(e),e),t,3)}function i6(e,t){return $t(e.getMilliseconds(),t,3)}function Ahe(e,t){return i6(e,t)+"000"}function The(e,t){return $t(e.getMonth()+1,t,2)}function khe(e,t){return $t(e.getMinutes(),t,2)}function Ohe(e,t){return $t(e.getSeconds(),t,2)}function jhe(e){var t=e.getDay();return t===0?7:t}function Nhe(e,t){return $t(jb.count(Is(e)-1,e),t,2)}function a6(e){var t=e.getDay();return t>=4||t===0?af(e):af.ceil(e)}function Che(e,t){return e=a6(e),$t(af.count(Is(e),e)+(Is(e).getDay()===4),t,2)}function Mhe(e){return e.getDay()}function Dhe(e,t){return $t(fy.count(Is(e)-1,e),t,2)}function Phe(e,t){return $t(e.getFullYear()%100,t,2)}function Rhe(e,t){return e=a6(e),$t(e.getFullYear()%100,t,2)}function Lhe(e,t){return $t(e.getFullYear()%1e4,t,4)}function Ihe(e,t){var n=e.getDay();return e=n>=4||n===0?af(e):af.ceil(e),$t(e.getFullYear()%1e4,t,4)}function $he(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+$t(t/60|0,"0",2)+$t(t%60,"0",2)}function nL(e,t){return $t(e.getUTCDate(),t,2)}function Bhe(e,t){return $t(e.getUTCHours(),t,2)}function zhe(e,t){return $t(e.getUTCHours()%12||12,t,2)}function Uhe(e,t){return $t(1+Ob.count($s(e),e),t,3)}function o6(e,t){return $t(e.getUTCMilliseconds(),t,3)}function Hhe(e,t){return o6(e,t)+"000"}function Fhe(e,t){return $t(e.getUTCMonth()+1,t,2)}function Ghe(e,t){return $t(e.getUTCMinutes(),t,2)}function qhe(e,t){return $t(e.getUTCSeconds(),t,2)}function Yhe(e){var t=e.getUTCDay();return t===0?7:t}function Khe(e,t){return $t(Nb.count($s(e)-1,e),t,2)}function s6(e){var t=e.getUTCDay();return t>=4||t===0?of(e):of.ceil(e)}function Whe(e,t){return e=s6(e),$t(of.count($s(e),e)+($s(e).getUTCDay()===4),t,2)}function Vhe(e){return e.getUTCDay()}function Zhe(e,t){return $t(hy.count($s(e)-1,e),t,2)}function Xhe(e,t){return $t(e.getUTCFullYear()%100,t,2)}function Jhe(e,t){return e=s6(e),$t(e.getUTCFullYear()%100,t,2)}function Qhe(e,t){return $t(e.getUTCFullYear()%1e4,t,4)}function eme(e,t){var n=e.getUTCDay();return e=n>=4||n===0?of(e):of.ceil(e),$t(e.getUTCFullYear()%1e4,t,4)}function tme(){return"+0000"}function rL(){return"%"}function iL(e){return+e}function aL(e){return Math.floor(+e/1e3)}var xd,l6,c6;nme({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function nme(e){return xd=nhe(e),l6=xd.format,xd.parse,c6=xd.utcFormat,xd.utcParse,xd}function rme(e){return new Date(e)}function ime(e){return e instanceof Date?+e:+new Date(+e)}function mT(e,t,n,r,i,a,s,c,d,f){var m=eT(),p=m.invert,y=m.domain,b=f(".%L"),x=f(":%S"),T=f("%I:%M"),S=f("%I %p"),j=f("%a %d"),D=f("%b %d"),O=f("%B"),M=f("%Y");function N(R){return(d(R)<R?b:c(R)<R?x:s(R)<R?T:a(R)<R?S:r(R)<R?i(R)<R?j:D:n(R)<R?O:M)(R)}return m.invert=function(R){return new Date(p(R))},m.domain=function(R){return arguments.length?y(Array.from(R,ime)):y().map(rme)},m.ticks=function(R){var $=y();return e($[0],$[$.length-1],R??10)},m.tickFormat=function(R,$){return $==null?N:f($)},m.nice=function(R){var $=y();return(!R||typeof R.range!="function")&&(R=t($[0],$[$.length-1],R??10)),R?y(V7($,R)):m},m.copy=function(){return op(m,mT(e,t,n,r,i,a,s,c,d,f))},m}function ame(){return Ya.apply(mT(ehe,the,Is,fT,jb,sp,uT,lT,iu,l6).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function ome(){return Ya.apply(mT(Jfe,Qfe,$s,hT,Nb,Ob,dT,cT,iu,c6).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function Cb(){var e=0,t=1,n,r,i,a,s=di,c=!1,d;function f(p){return p==null||isNaN(p=+p)?d:s(i===0?.5:(p=(a(p)-n)*i,c?Math.max(0,Math.min(1,p)):p))}f.domain=function(p){return arguments.length?([e,t]=p,n=a(e=+e),r=a(t=+t),i=n===r?0:1/(r-n),f):[e,t]},f.clamp=function(p){return arguments.length?(c=!!p,f):c},f.interpolator=function(p){return arguments.length?(s=p,f):s};function m(p){return function(y){var b,x;return arguments.length?([b,x]=y,s=p(b,x),f):[s(0),s(1)]}}return f.range=m(yf),f.rangeRound=m(QA),f.unknown=function(p){return arguments.length?(d=p,f):d},function(p){return a=p,n=p(e),r=p(t),i=n===r?0:1/(r-n),f}}function Ql(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function u6(){var e=Jl(Cb()(di));return e.copy=function(){return Ql(e,u6())},qs.apply(e,arguments)}function d6(){var e=rT(Cb()).domain([1,10]);return e.copy=function(){return Ql(e,d6()).base(e.base())},qs.apply(e,arguments)}function f6(){var e=iT(Cb());return e.copy=function(){return Ql(e,f6()).constant(e.constant())},qs.apply(e,arguments)}function pT(){var e=aT(Cb());return e.copy=function(){return Ql(e,pT()).exponent(e.exponent())},qs.apply(e,arguments)}function sme(){return pT.apply(null,arguments).exponent(.5)}function h6(){var e=[],t=di;function n(r){if(r!=null&&!isNaN(r=+r))return t((ip(e,r,1)-1)/(e.length-1))}return n.domain=function(r){if(!arguments.length)return e.slice();e=[];for(let i of r)i!=null&&!isNaN(i=+i)&&e.push(i);return e.sort(ql),n},n.interpolator=function(r){return arguments.length?(t=r,n):t},n.range=function(){return e.map((r,i)=>t(i/(e.length-1)))},n.quantiles=function(r){return Array.from({length:r+1},(i,a)=>Yde(e,a/r))},n.copy=function(){return h6(t).domain(e)},qs.apply(n,arguments)}function Mb(){var e=0,t=.5,n=1,r=1,i,a,s,c,d,f=di,m,p=!1,y;function b(T){return isNaN(T=+T)?y:(T=.5+((T=+m(T))-a)*(r*T<r*a?c:d),f(p?Math.max(0,Math.min(1,T)):T))}b.domain=function(T){return arguments.length?([e,t,n]=T,i=m(e=+e),a=m(t=+t),s=m(n=+n),c=i===a?0:.5/(a-i),d=a===s?0:.5/(s-a),r=a<i?-1:1,b):[e,t,n]},b.clamp=function(T){return arguments.length?(p=!!T,b):p},b.interpolator=function(T){return arguments.length?(f=T,b):f};function x(T){return function(S){var j,D,O;return arguments.length?([j,D,O]=S,f=bfe(T,[j,D,O]),b):[f(0),f(.5),f(1)]}}return b.range=x(yf),b.rangeRound=x(QA),b.unknown=function(T){return arguments.length?(y=T,b):y},function(T){return m=T,i=T(e),a=T(t),s=T(n),c=i===a?0:.5/(a-i),d=a===s?0:.5/(s-a),r=a<i?-1:1,b}}function m6(){var e=Jl(Mb()(di));return e.copy=function(){return Ql(e,m6())},qs.apply(e,arguments)}function p6(){var e=rT(Mb()).domain([.1,1,10]);return e.copy=function(){return Ql(e,p6()).base(e.base())},qs.apply(e,arguments)}function g6(){var e=iT(Mb());return e.copy=function(){return Ql(e,g6()).constant(e.constant())},qs.apply(e,arguments)}function gT(){var e=aT(Mb());return e.copy=function(){return Ql(e,gT()).exponent(e.exponent())},qs.apply(e,arguments)}function lme(){return gT.apply(null,arguments).exponent(.5)}const Vh=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:ZA,scaleDiverging:m6,scaleDivergingLog:p6,scaleDivergingPow:gT,scaleDivergingSqrt:lme,scaleDivergingSymlog:g6,scaleIdentity:W7,scaleImplicit:HE,scaleLinear:K7,scaleLog:Z7,scaleOrdinal:VA,scalePoint:Vde,scalePow:oT,scaleQuantile:Q7,scaleQuantize:e6,scaleRadial:J7,scaleSequential:u6,scaleSequentialLog:d6,scaleSequentialPow:pT,scaleSequentialQuantile:h6,scaleSequentialSqrt:sme,scaleSequentialSymlog:f6,scaleSqrt:Hfe,scaleSymlog:X7,scaleThreshold:t6,scaleTime:ame,scaleUtc:ome,tickFormat:Y7},Symbol.toStringTag,{value:"Module"}));var ec=e=>e.chartData,cme=Oe([ec],e=>{var t=e.chartData!=null?e.chartData.length-1:0;return{chartData:e.chartData,computedData:e.computedData,dataEndIndex:t,dataStartIndex:0}}),vT=(e,t,n,r)=>r?cme(e):ec(e);function Vl(e){if(Array.isArray(e)&&e.length===2){var[t,n]=e;if(Fn(t)&&Fn(n))return!0}return!1}function oL(e,t,n){return n?e:[Math.min(e[0],t[0]),Math.max(e[1],t[1])]}function v6(e,t){if(t&&typeof e!="function"&&Array.isArray(e)&&e.length===2){var[n,r]=e,i,a;if(Fn(n))i=n;else if(typeof n=="function")return;if(Fn(r))a=r;else if(typeof r=="function")return;var s=[i,a];if(Vl(s))return s}}function ume(e,t,n){if(!(!n&&t==null)){if(typeof e=="function"&&t!=null)try{var r=e(t,n);if(Vl(r))return oL(r,t,n)}catch{}if(Array.isArray(e)&&e.length===2){var[i,a]=e,s,c;if(i==="auto")t!=null&&(s=Math.min(...t));else if(nt(i))s=i;else if(typeof i=="function")try{t!=null&&(s=i(t?.[0]))}catch{}else if(typeof i=="string"&&LP.test(i)){var d=LP.exec(i);if(d==null||t==null)s=void 0;else{var f=+d[1];s=t[0]-f}}else s=t?.[0];if(a==="auto")t!=null&&(c=Math.max(...t));else if(nt(a))c=a;else if(typeof a=="function")try{t!=null&&(c=a(t?.[1]))}catch{}else if(typeof a=="string"&&IP.test(a)){var m=IP.exec(a);if(m==null||t==null)c=void 0;else{var p=+m[1];c=t[1]+p}}else c=t?.[1];var y=[s,c];if(Vl(y))return t==null?y:oL(y,t,n)}}}var bf=1e9,dme={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},bT,An=!0,Ga="[DecimalError] ",du=Ga+"Invalid argument: ",yT=Ga+"Exponent out of range: ",_f=Math.floor,Jc=Math.pow,fme=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,na,Sr=1e7,gn=7,y6=9007199254740991,my=_f(y6/gn),Ve={};Ve.absoluteValue=Ve.abs=function(){var e=new this.constructor(this);return e.s&&(e.s=1),e};Ve.comparedTo=Ve.cmp=function(e){var t,n,r,i,a=this;if(e=new a.constructor(e),a.s!==e.s)return a.s||-e.s;if(a.e!==e.e)return a.e>e.e^a.s<0?1:-1;for(r=a.d.length,i=e.d.length,t=0,n=r<i?r:i;t<n;++t)if(a.d[t]!==e.d[t])return a.d[t]>e.d[t]^a.s<0?1:-1;return r===i?0:r>i^a.s<0?1:-1};Ve.decimalPlaces=Ve.dp=function(){var e=this,t=e.d.length-1,n=(t-e.e)*gn;if(t=e.d[t],t)for(;t%10==0;t/=10)n--;return n<0?0:n};Ve.dividedBy=Ve.div=function(e){return Ns(this,new this.constructor(e))};Ve.dividedToIntegerBy=Ve.idiv=function(e){var t=this,n=t.constructor;return tn(Ns(t,new n(e),0,1),n.precision)};Ve.equals=Ve.eq=function(e){return!this.cmp(e)};Ve.exponent=function(){return rr(this)};Ve.greaterThan=Ve.gt=function(e){return this.cmp(e)>0};Ve.greaterThanOrEqualTo=Ve.gte=function(e){return this.cmp(e)>=0};Ve.isInteger=Ve.isint=function(){return this.e>this.d.length-2};Ve.isNegative=Ve.isneg=function(){return this.s<0};Ve.isPositive=Ve.ispos=function(){return this.s>0};Ve.isZero=function(){return this.s===0};Ve.lessThan=Ve.lt=function(e){return this.cmp(e)<0};Ve.lessThanOrEqualTo=Ve.lte=function(e){return this.cmp(e)<1};Ve.logarithm=Ve.log=function(e){var t,n=this,r=n.constructor,i=r.precision,a=i+5;if(e===void 0)e=new r(10);else if(e=new r(e),e.s<1||e.eq(na))throw Error(Ga+"NaN");if(n.s<1)throw Error(Ga+(n.s?"NaN":"-Infinity"));return n.eq(na)?new r(0):(An=!1,t=Ns(Cm(n,a),Cm(e,a),a),An=!0,tn(t,i))};Ve.minus=Ve.sub=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?x6(t,e):b6(t,(e.s=-e.s,e))};Ve.modulo=Ve.mod=function(e){var t,n=this,r=n.constructor,i=r.precision;if(e=new r(e),!e.s)throw Error(Ga+"NaN");return n.s?(An=!1,t=Ns(n,e,0,1).times(e),An=!0,n.minus(t)):tn(new r(n),i)};Ve.naturalExponential=Ve.exp=function(){return _6(this)};Ve.naturalLogarithm=Ve.ln=function(){return Cm(this)};Ve.negated=Ve.neg=function(){var e=new this.constructor(this);return e.s=-e.s||0,e};Ve.plus=Ve.add=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?b6(t,e):x6(t,(e.s=-e.s,e))};Ve.precision=Ve.sd=function(e){var t,n,r,i=this;if(e!==void 0&&e!==!!e&&e!==1&&e!==0)throw Error(du+e);if(t=rr(i)+1,r=i.d.length-1,n=r*gn+1,r=i.d[r],r){for(;r%10==0;r/=10)n--;for(r=i.d[0];r>=10;r/=10)n++}return e&&t>n?t:n};Ve.squareRoot=Ve.sqrt=function(){var e,t,n,r,i,a,s,c=this,d=c.constructor;if(c.s<1){if(!c.s)return new d(0);throw Error(Ga+"NaN")}for(e=rr(c),An=!1,i=Math.sqrt(+c),i==0||i==1/0?(t=qo(c.d),(t.length+e)%2==0&&(t+="0"),i=Math.sqrt(t),e=_f((e+1)/2)-(e<0||e%2),i==1/0?t="5e"+e:(t=i.toExponential(),t=t.slice(0,t.indexOf("e")+1)+e),r=new d(t)):r=new d(i.toString()),n=d.precision,i=s=n+3;;)if(a=r,r=a.plus(Ns(c,a,s+2)).times(.5),qo(a.d).slice(0,s)===(t=qo(r.d)).slice(0,s)){if(t=t.slice(s-3,s+1),i==s&&t=="4999"){if(tn(a,n+1,0),a.times(a).eq(c)){r=a;break}}else if(t!="9999")break;s+=4}return An=!0,tn(r,n)};Ve.times=Ve.mul=function(e){var t,n,r,i,a,s,c,d,f,m=this,p=m.constructor,y=m.d,b=(e=new p(e)).d;if(!m.s||!e.s)return new p(0);for(e.s*=m.s,n=m.e+e.e,d=y.length,f=b.length,d<f&&(a=y,y=b,b=a,s=d,d=f,f=s),a=[],s=d+f,r=s;r--;)a.push(0);for(r=f;--r>=0;){for(t=0,i=d+r;i>r;)c=a[i]+b[r]*y[i-r-1]+t,a[i--]=c%Sr|0,t=c/Sr|0;a[i]=(a[i]+t)%Sr|0}for(;!a[--s];)a.pop();return t?++n:a.shift(),e.d=a,e.e=n,An?tn(e,p.precision):e};Ve.toDecimalPlaces=Ve.todp=function(e,t){var n=this,r=n.constructor;return n=new r(n),e===void 0?n:(Zo(e,0,bf),t===void 0?t=r.rounding:Zo(t,0,8),tn(n,e+rr(n)+1,t))};Ve.toExponential=function(e,t){var n,r=this,i=r.constructor;return e===void 0?n=yu(r,!0):(Zo(e,0,bf),t===void 0?t=i.rounding:Zo(t,0,8),r=tn(new i(r),e+1,t),n=yu(r,!0,e+1)),n};Ve.toFixed=function(e,t){var n,r,i=this,a=i.constructor;return e===void 0?yu(i):(Zo(e,0,bf),t===void 0?t=a.rounding:Zo(t,0,8),r=tn(new a(i),e+rr(i)+1,t),n=yu(r.abs(),!1,e+rr(r)+1),i.isneg()&&!i.isZero()?"-"+n:n)};Ve.toInteger=Ve.toint=function(){var e=this,t=e.constructor;return tn(new t(e),rr(e)+1,t.rounding)};Ve.toNumber=function(){return+this};Ve.toPower=Ve.pow=function(e){var t,n,r,i,a,s,c=this,d=c.constructor,f=12,m=+(e=new d(e));if(!e.s)return new d(na);if(c=new d(c),!c.s){if(e.s<1)throw Error(Ga+"Infinity");return c}if(c.eq(na))return c;if(r=d.precision,e.eq(na))return tn(c,r);if(t=e.e,n=e.d.length-1,s=t>=n,a=c.s,s){if((n=m<0?-m:m)<=y6){for(i=new d(na),t=Math.ceil(r/gn+4),An=!1;n%2&&(i=i.times(c),lL(i.d,t)),n=_f(n/2),n!==0;)c=c.times(c),lL(c.d,t);return An=!0,e.s<0?new d(na).div(i):tn(i,r)}}else if(a<0)throw Error(Ga+"NaN");return a=a<0&&e.d[Math.max(t,n)]&1?-1:1,c.s=1,An=!1,i=e.times(Cm(c,r+f)),An=!0,i=_6(i),i.s=a,i};Ve.toPrecision=function(e,t){var n,r,i=this,a=i.constructor;return e===void 0?(n=rr(i),r=yu(i,n<=a.toExpNeg||n>=a.toExpPos)):(Zo(e,1,bf),t===void 0?t=a.rounding:Zo(t,0,8),i=tn(new a(i),e,t),n=rr(i),r=yu(i,e<=n||n<=a.toExpNeg,e)),r};Ve.toSignificantDigits=Ve.tosd=function(e,t){var n=this,r=n.constructor;return e===void 0?(e=r.precision,t=r.rounding):(Zo(e,1,bf),t===void 0?t=r.rounding:Zo(t,0,8)),tn(new r(n),e,t)};Ve.toString=Ve.valueOf=Ve.val=Ve.toJSON=Ve[Symbol.for("nodejs.util.inspect.custom")]=function(){var e=this,t=rr(e),n=e.constructor;return yu(e,t<=n.toExpNeg||t>=n.toExpPos)};function b6(e,t){var n,r,i,a,s,c,d,f,m=e.constructor,p=m.precision;if(!e.s||!t.s)return t.s||(t=new m(e)),An?tn(t,p):t;if(d=e.d,f=t.d,s=e.e,i=t.e,d=d.slice(),a=s-i,a){for(a<0?(r=d,a=-a,c=f.length):(r=f,i=s,c=d.length),s=Math.ceil(p/gn),c=s>c?s+1:c+1,a>c&&(a=c,r.length=1),r.reverse();a--;)r.push(0);r.reverse()}for(c=d.length,a=f.length,c-a<0&&(a=c,r=f,f=d,d=r),n=0;a;)n=(d[--a]=d[a]+f[a]+n)/Sr|0,d[a]%=Sr;for(n&&(d.unshift(n),++i),c=d.length;d[--c]==0;)d.pop();return t.d=d,t.e=i,An?tn(t,p):t}function Zo(e,t,n){if(e!==~~e||e<t||e>n)throw Error(du+e)}function qo(e){var t,n,r,i=e.length-1,a="",s=e[0];if(i>0){for(a+=s,t=1;t<i;t++)r=e[t]+"",n=gn-r.length,n&&(a+=Il(n)),a+=r;s=e[t],r=s+"",n=gn-r.length,n&&(a+=Il(n))}else if(s===0)return"0";for(;s%10===0;)s/=10;return a+s}var Ns=(function(){function e(r,i){var a,s=0,c=r.length;for(r=r.slice();c--;)a=r[c]*i+s,r[c]=a%Sr|0,s=a/Sr|0;return s&&r.unshift(s),r}function t(r,i,a,s){var c,d;if(a!=s)d=a>s?1:-1;else for(c=d=0;c<a;c++)if(r[c]!=i[c]){d=r[c]>i[c]?1:-1;break}return d}function n(r,i,a){for(var s=0;a--;)r[a]-=s,s=r[a]<i[a]?1:0,r[a]=s*Sr+r[a]-i[a];for(;!r[0]&&r.length>1;)r.shift()}return function(r,i,a,s){var c,d,f,m,p,y,b,x,T,S,j,D,O,M,N,R,$,B,H=r.constructor,V=r.s==i.s?1:-1,z=r.d,F=i.d;if(!r.s)return new H(r);if(!i.s)throw Error(Ga+"Division by zero");for(d=r.e-i.e,$=F.length,N=z.length,b=new H(V),x=b.d=[],f=0;F[f]==(z[f]||0);)++f;if(F[f]>(z[f]||0)&&--d,a==null?D=a=H.precision:s?D=a+(rr(r)-rr(i))+1:D=a,D<0)return new H(0);if(D=D/gn+2|0,f=0,$==1)for(m=0,F=F[0],D++;(f<N||m)&&D--;f++)O=m*Sr+(z[f]||0),x[f]=O/F|0,m=O%F|0;else{for(m=Sr/(F[0]+1)|0,m>1&&(F=e(F,m),z=e(z,m),$=F.length,N=z.length),M=$,T=z.slice(0,$),S=T.length;S<$;)T[S++]=0;B=F.slice(),B.unshift(0),R=F[0],F[1]>=Sr/2&&++R;do m=0,c=t(F,T,$,S),c<0?(j=T[0],$!=S&&(j=j*Sr+(T[1]||0)),m=j/R|0,m>1?(m>=Sr&&(m=Sr-1),p=e(F,m),y=p.length,S=T.length,c=t(p,T,y,S),c==1&&(m--,n(p,$<y?B:F,y))):(m==0&&(c=m=1),p=F.slice()),y=p.length,y<S&&p.unshift(0),n(T,p,S),c==-1&&(S=T.length,c=t(F,T,$,S),c<1&&(m++,n(T,$<S?B:F,S))),S=T.length):c===0&&(m++,T=[0]),x[f++]=m,c&&T[0]?T[S++]=z[M]||0:(T=[z[M]],S=1);while((M++<N||T[0]!==void 0)&&D--)}return x[0]||x.shift(),b.e=d,tn(b,s?a+rr(b)+1:a)}})();function _6(e,t){var n,r,i,a,s,c,d=0,f=0,m=e.constructor,p=m.precision;if(rr(e)>16)throw Error(yT+rr(e));if(!e.s)return new m(na);for(An=!1,c=p,s=new m(.03125);e.abs().gte(.1);)e=e.times(s),f+=5;for(r=Math.log(Jc(2,f))/Math.LN10*2+5|0,c+=r,n=i=a=new m(na),m.precision=c;;){if(i=tn(i.times(e),c),n=n.times(++d),s=a.plus(Ns(i,n,c)),qo(s.d).slice(0,c)===qo(a.d).slice(0,c)){for(;f--;)a=tn(a.times(a),c);return m.precision=p,t==null?(An=!0,tn(a,p)):a}a=s}}function rr(e){for(var t=e.e*gn,n=e.d[0];n>=10;n/=10)t++;return t}function aS(e,t,n){if(t>e.LN10.sd())throw An=!0,n&&(e.precision=n),Error(Ga+"LN10 precision limit exceeded");return tn(new e(e.LN10),t)}function Il(e){for(var t="";e--;)t+="0";return t}function Cm(e,t){var n,r,i,a,s,c,d,f,m,p=1,y=10,b=e,x=b.d,T=b.constructor,S=T.precision;if(b.s<1)throw Error(Ga+(b.s?"NaN":"-Infinity"));if(b.eq(na))return new T(0);if(t==null?(An=!1,f=S):f=t,b.eq(10))return t==null&&(An=!0),aS(T,f);if(f+=y,T.precision=f,n=qo(x),r=n.charAt(0),a=rr(b),Math.abs(a)<15e14){for(;r<7&&r!=1||r==1&&n.charAt(1)>3;)b=b.times(e),n=qo(b.d),r=n.charAt(0),p++;a=rr(b),r>1?(b=new T("0."+n),a++):b=new T(r+"."+n.slice(1))}else return d=aS(T,f+2,S).times(a+""),b=Cm(new T(r+"."+n.slice(1)),f-y).plus(d),T.precision=S,t==null?(An=!0,tn(b,S)):b;for(c=s=b=Ns(b.minus(na),b.plus(na),f),m=tn(b.times(b),f),i=3;;){if(s=tn(s.times(m),f),d=c.plus(Ns(s,new T(i),f)),qo(d.d).slice(0,f)===qo(c.d).slice(0,f))return c=c.times(2),a!==0&&(c=c.plus(aS(T,f+2,S).times(a+""))),c=Ns(c,new T(p),f),T.precision=S,t==null?(An=!0,tn(c,S)):c;c=d,i+=2}}function sL(e,t){var n,r,i;for((n=t.indexOf("."))>-1&&(t=t.replace(".","")),(r=t.search(/e/i))>0?(n<0&&(n=r),n+=+t.slice(r+1),t=t.substring(0,r)):n<0&&(n=t.length),r=0;t.charCodeAt(r)===48;)++r;for(i=t.length;t.charCodeAt(i-1)===48;)--i;if(t=t.slice(r,i),t){if(i-=r,n=n-r-1,e.e=_f(n/gn),e.d=[],r=(n+1)%gn,n<0&&(r+=gn),r<i){for(r&&e.d.push(+t.slice(0,r)),i-=gn;r<i;)e.d.push(+t.slice(r,r+=gn));t=t.slice(r),r=gn-t.length}else r-=i;for(;r--;)t+="0";if(e.d.push(+t),An&&(e.e>my||e.e<-my))throw Error(yT+n)}else e.s=0,e.e=0,e.d=[0];return e}function tn(e,t,n){var r,i,a,s,c,d,f,m,p=e.d;for(s=1,a=p[0];a>=10;a/=10)s++;if(r=t-s,r<0)r+=gn,i=t,f=p[m=0];else{if(m=Math.ceil((r+1)/gn),a=p.length,m>=a)return e;for(f=a=p[m],s=1;a>=10;a/=10)s++;r%=gn,i=r-gn+s}if(n!==void 0&&(a=Jc(10,s-i-1),c=f/a%10|0,d=t<0||p[m+1]!==void 0||f%a,d=n<4?(c||d)&&(n==0||n==(e.s<0?3:2)):c>5||c==5&&(n==4||d||n==6&&(r>0?i>0?f/Jc(10,s-i):0:p[m-1])%10&1||n==(e.s<0?8:7))),t<1||!p[0])return d?(a=rr(e),p.length=1,t=t-a-1,p[0]=Jc(10,(gn-t%gn)%gn),e.e=_f(-t/gn)||0):(p.length=1,p[0]=e.e=e.s=0),e;if(r==0?(p.length=m,a=1,m--):(p.length=m+1,a=Jc(10,gn-r),p[m]=i>0?(f/Jc(10,s-i)%Jc(10,i)|0)*a:0),d)for(;;)if(m==0){(p[0]+=a)==Sr&&(p[0]=1,++e.e);break}else{if(p[m]+=a,p[m]!=Sr)break;p[m--]=0,a=1}for(r=p.length;p[--r]===0;)p.pop();if(An&&(e.e>my||e.e<-my))throw Error(yT+rr(e));return e}function x6(e,t){var n,r,i,a,s,c,d,f,m,p,y=e.constructor,b=y.precision;if(!e.s||!t.s)return t.s?t.s=-t.s:t=new y(e),An?tn(t,b):t;if(d=e.d,p=t.d,r=t.e,f=e.e,d=d.slice(),s=f-r,s){for(m=s<0,m?(n=d,s=-s,c=p.length):(n=p,r=f,c=d.length),i=Math.max(Math.ceil(b/gn),c)+2,s>i&&(s=i,n.length=1),n.reverse(),i=s;i--;)n.push(0);n.reverse()}else{for(i=d.length,c=p.length,m=i<c,m&&(c=i),i=0;i<c;i++)if(d[i]!=p[i]){m=d[i]<p[i];break}s=0}for(m&&(n=d,d=p,p=n,t.s=-t.s),c=d.length,i=p.length-c;i>0;--i)d[c++]=0;for(i=p.length;i>s;){if(d[--i]<p[i]){for(a=i;a&&d[--a]===0;)d[a]=Sr-1;--d[a],d[i]+=Sr}d[i]-=p[i]}for(;d[--c]===0;)d.pop();for(;d[0]===0;d.shift())--r;return d[0]?(t.d=d,t.e=r,An?tn(t,b):t):new y(0)}function yu(e,t,n){var r,i=rr(e),a=qo(e.d),s=a.length;return t?(n&&(r=n-s)>0?a=a.charAt(0)+"."+a.slice(1)+Il(r):s>1&&(a=a.charAt(0)+"."+a.slice(1)),a=a+(i<0?"e":"e+")+i):i<0?(a="0."+Il(-i-1)+a,n&&(r=n-s)>0&&(a+=Il(r))):i>=s?(a+=Il(i+1-s),n&&(r=n-i-1)>0&&(a=a+"."+Il(r))):((r=i+1)<s&&(a=a.slice(0,r)+"."+a.slice(r)),n&&(r=n-s)>0&&(i+1===s&&(a+="."),a+=Il(r))),e.s<0?"-"+a:a}function lL(e,t){if(e.length>t)return e.length=t,!0}function w6(e){var t,n,r;function i(a){var s=this;if(!(s instanceof i))return new i(a);if(s.constructor=i,a instanceof i){s.s=a.s,s.e=a.e,s.d=(a=a.d)?a.slice():a;return}if(typeof a=="number"){if(a*0!==0)throw Error(du+a);if(a>0)s.s=1;else if(a<0)a=-a,s.s=-1;else{s.s=0,s.e=0,s.d=[0];return}if(a===~~a&&a<1e7){s.e=0,s.d=[a];return}return sL(s,a.toString())}else if(typeof a!="string")throw Error(du+a);if(a.charCodeAt(0)===45?(a=a.slice(1),s.s=-1):s.s=1,fme.test(a))sL(s,a);else throw Error(du+a)}if(i.prototype=Ve,i.ROUND_UP=0,i.ROUND_DOWN=1,i.ROUND_CEIL=2,i.ROUND_FLOOR=3,i.ROUND_HALF_UP=4,i.ROUND_HALF_DOWN=5,i.ROUND_HALF_EVEN=6,i.ROUND_HALF_CEIL=7,i.ROUND_HALF_FLOOR=8,i.clone=w6,i.config=i.set=hme,e===void 0&&(e={}),e)for(r=["precision","rounding","toExpNeg","toExpPos","LN10"],t=0;t<r.length;)e.hasOwnProperty(n=r[t++])||(e[n]=this[n]);return i.config(e),i}function hme(e){if(!e||typeof e!="object")throw Error(Ga+"Object expected");var t,n,r,i=["precision",1,bf,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(t=0;t<i.length;t+=3)if((r=e[n=i[t]])!==void 0)if(_f(r)===r&&r>=i[t+1]&&r<=i[t+2])this[n]=r;else throw Error(du+n+": "+r);if((r=e[n="LN10"])!==void 0)if(r==Math.LN10)this[n]=new this(r);else throw Error(du+n+": "+r);return this}var bT=w6(dme);na=new bT(1);const Wt=bT;var mme=e=>e,S6={},E6=e=>e===S6,cL=e=>function t(){return arguments.length===0||arguments.length===1&&E6(arguments.length<=0?void 0:arguments[0])?t:e(...arguments)},A6=(e,t)=>e===1?t:cL(function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];var a=r.filter(s=>s!==S6).length;return a>=e?t(...r):A6(e-a,cL(function(){for(var s=arguments.length,c=new Array(s),d=0;d<s;d++)c[d]=arguments[d];var f=r.map(m=>E6(m)?c.shift():m);return t(...f,...c)}))}),pme=e=>A6(e.length,e),YE=(e,t)=>{for(var n=[],r=e;r<t;++r)n[r-e]=r;return n},gme=pme((e,t)=>Array.isArray(t)?t.map(e):Object.keys(t).map(n=>t[n]).map(e)),vme=function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];if(!n.length)return mme;var i=n.reverse(),a=i[0],s=i.slice(1);return function(){return s.reduce((c,d)=>d(c),a(...arguments))}},KE=e=>Array.isArray(e)?e.reverse():e.split("").reverse().join("");function T6(e){var t;return e===0?t=1:t=Math.floor(new Wt(e).abs().log(10).toNumber())+1,t}function k6(e,t,n){for(var r=new Wt(e),i=0,a=[];r.lt(t)&&i<1e5;)a.push(r.toNumber()),r=r.add(n),i++;return a}var O6=e=>{var[t,n]=e,[r,i]=[t,n];return t>n&&([r,i]=[n,t]),[r,i]},j6=(e,t,n)=>{if(e.lte(0))return new Wt(0);var r=T6(e.toNumber()),i=new Wt(10).pow(r),a=e.div(i),s=r!==1?.05:.1,c=new Wt(Math.ceil(a.div(s).toNumber())).add(n).mul(s),d=c.mul(i);return t?new Wt(d.toNumber()):new Wt(Math.ceil(d.toNumber()))},yme=(e,t,n)=>{var r=new Wt(1),i=new Wt(e);if(!i.isint()&&n){var a=Math.abs(e);a<1?(r=new Wt(10).pow(T6(e)-1),i=new Wt(Math.floor(i.div(r).toNumber())).mul(r)):a>1&&(i=new Wt(Math.floor(e)))}else e===0?i=new Wt(Math.floor((t-1)/2)):n||(i=new Wt(Math.floor(e)));var s=Math.floor((t-1)/2),c=vme(gme(d=>i.add(new Wt(d-s).mul(r)).toNumber()),YE);return c(0,t)},N6=function(t,n,r,i){var a=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((n-t)/(r-1)))return{step:new Wt(0),tickMin:new Wt(0),tickMax:new Wt(0)};var s=j6(new Wt(n).sub(t).div(r-1),i,a),c;t<=0&&n>=0?c=new Wt(0):(c=new Wt(t).add(n).div(2),c=c.sub(new Wt(c).mod(s)));var d=Math.ceil(c.sub(t).div(s).toNumber()),f=Math.ceil(new Wt(n).sub(c).div(s).toNumber()),m=d+f+1;return m>r?N6(t,n,r,i,a+1):(m<r&&(f=n>0?f+(r-m):f,d=n>0?d:d+(r-m)),{step:s,tickMin:c.sub(new Wt(d).mul(s)),tickMax:c.add(new Wt(f).mul(s))})},bme=function(t){var[n,r]=t,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,s=Math.max(i,2),[c,d]=O6([n,r]);if(c===-1/0||d===1/0){var f=d===1/0?[c,...YE(0,i-1).map(()=>1/0)]:[...YE(0,i-1).map(()=>-1/0),d];return n>r?KE(f):f}if(c===d)return yme(c,i,a);var{step:m,tickMin:p,tickMax:y}=N6(c,d,s,a,0),b=k6(p,y.add(new Wt(.1).mul(m)),m);return n>r?KE(b):b},_me=function(t,n){var[r,i]=t,a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,[s,c]=O6([r,i]);if(s===-1/0||c===1/0)return[r,i];if(s===c)return[s];var d=Math.max(n,2),f=j6(new Wt(c).sub(s).div(d-1),a,0),m=[...k6(new Wt(s),new Wt(c),f),c];return a===!1&&(m=m.map(p=>Math.round(p))),r>i?KE(m):m},xme=e=>e.rootProps.barCategoryGap,Db=e=>e.rootProps.stackOffset,C6=e=>e.rootProps.reverseStackOrder,_T=e=>e.options.chartName,xT=e=>e.rootProps.syncId,M6=e=>e.rootProps.syncMethod,wT=e=>e.options.eventEmitter,wme=e=>e.rootProps.baseValue,fi={grid:-100,barBackground:-50,area:100,cursorRectangle:200,bar:300,line:400,axis:500,scatter:600,activeBar:1e3,cursorLine:1100,activeDot:1200,label:2e3},Es={allowDuplicatedCategory:!0,angleAxisId:0,reversed:!1,scale:"auto",tick:!0,type:"category"},ea={allowDataOverflow:!1,allowDuplicatedCategory:!0,radiusAxisId:0,scale:"auto",tick:!0,tickCount:5,type:"number"},Pb=(e,t)=>{if(!(!e||!t))return e!=null&&e.reversed?[t[1],t[0]]:t},Sme={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:!1,dataKey:void 0,domain:void 0,id:Es.angleAxisId,includeHidden:!1,name:void 0,reversed:Es.reversed,scale:Es.scale,tick:Es.tick,tickCount:void 0,ticks:void 0,type:Es.type,unit:void 0},Eme={allowDataOverflow:ea.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:ea.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:ea.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:ea.scale,tick:ea.tick,tickCount:ea.tickCount,ticks:void 0,type:ea.type,unit:void 0},Ame={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:Es.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:Es.angleAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:Es.scale,tick:Es.tick,tickCount:void 0,ticks:void 0,type:"number",unit:void 0},Tme={allowDataOverflow:ea.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:ea.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:ea.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:ea.scale,tick:ea.tick,tickCount:ea.tickCount,ticks:void 0,type:"category",unit:void 0},ST=(e,t)=>e.polarAxis.angleAxis[t]!=null?e.polarAxis.angleAxis[t]:e.layout.layoutType==="radial"?Ame:Sme,ET=(e,t)=>e.polarAxis.radiusAxis[t]!=null?e.polarAxis.radiusAxis[t]:e.layout.layoutType==="radial"?Tme:Eme,Rb=e=>e.polarOptions,AT=Oe([Fs,Gs,Ur],bde),D6=Oe([Rb,AT],(e,t)=>{if(e!=null)return Wl(e.innerRadius,t,0)}),P6=Oe([Rb,AT],(e,t)=>{if(e!=null)return Wl(e.outerRadius,t,t*.8)}),kme=e=>{if(e==null)return[0,0];var{startAngle:t,endAngle:n}=e;return[t,n]},R6=Oe([Rb],kme);Oe([ST,R6],Pb);var L6=Oe([AT,D6,P6],(e,t,n)=>{if(!(e==null||t==null||n==null))return[t,n]});Oe([ET,L6],Pb);var I6=Oe([dn,Rb,D6,P6,Fs,Gs],(e,t,n,r,i,a)=>{if(!(e!=="centric"&&e!=="radial"||t==null||n==null||r==null)){var{cx:s,cy:c,startAngle:d,endAngle:f}=t;return{cx:Wl(s,i,i/2),cy:Wl(c,a,a/2),innerRadius:n,outerRadius:r,startAngle:d,endAngle:f,clockWise:!1}}}),ur=(e,t)=>t,Lb=(e,t,n)=>n;function TT(e){return e?.id}function $6(e,t,n){var{chartData:r=[]}=t,{allowDuplicatedCategory:i,dataKey:a}=n,s=new Map;return e.forEach(c=>{var d,f=(d=c.data)!==null&&d!==void 0?d:r;if(!(f==null||f.length===0)){var m=TT(c);f.forEach((p,y)=>{var b=a==null||i?y:String(ti(p,a,null)),x=ti(p,c.dataKey,0),T;s.has(b)?T=s.get(b):T={},Object.assign(T,{[m]:x}),s.set(b,T)})}}),Array.from(s.values())}function kT(e){return e.stackId!=null&&e.dataKey!=null}var Ib=(e,t)=>e===t?!0:e==null||t==null?!1:e[0]===t[0]&&e[1]===t[1];function $b(e,t){return Array.isArray(e)&&Array.isArray(t)&&e.length===0&&t.length===0?!0:e===t}function Ome(e,t){if(e.length===t.length){for(var n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0}return!1}var dr=e=>{var t=dn(e);return t==="horizontal"?"xAxis":t==="vertical"?"yAxis":t==="centric"?"angleAxis":"radiusAxis"},xf=e=>e.tooltip.settings.axisId;function uL(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function py(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?uL(Object(n),!0).forEach(function(r){jme(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):uL(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function jme(e,t,n){return(t=Nme(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Nme(e){var t=Cme(e,"string");return typeof t=="symbol"?t:t+""}function Cme(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var WE=[0,"auto"],_r={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:void 0,height:30,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"bottom",padding:{left:0,right:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"category",unit:void 0},B6=(e,t)=>e.cartesianAxis.xAxis[t],Ys=(e,t)=>{var n=B6(e,t);return n??_r},xr={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:WE,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"left",padding:{top:0,bottom:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"number",unit:void 0,width:tp},z6=(e,t)=>e.cartesianAxis.yAxis[t],Ks=(e,t)=>{var n=z6(e,t);return n??xr},Mme={domain:[0,"auto"],includeHidden:!1,reversed:!1,allowDataOverflow:!1,allowDuplicatedCategory:!1,dataKey:void 0,id:0,name:"",range:[64,64],scale:"auto",type:"number",unit:""},OT=(e,t)=>{var n=e.cartesianAxis.zAxis[t];return n??Mme},pi=(e,t,n)=>{switch(t){case"xAxis":return Ys(e,n);case"yAxis":return Ks(e,n);case"zAxis":return OT(e,n);case"angleAxis":return ST(e,n);case"radiusAxis":return ET(e,n);default:throw new Error("Unexpected axis type: ".concat(t))}},Dme=(e,t,n)=>{switch(t){case"xAxis":return Ys(e,n);case"yAxis":return Ks(e,n);default:throw new Error("Unexpected axis type: ".concat(t))}},lp=(e,t,n)=>{switch(t){case"xAxis":return Ys(e,n);case"yAxis":return Ks(e,n);case"angleAxis":return ST(e,n);case"radiusAxis":return ET(e,n);default:throw new Error("Unexpected axis type: ".concat(t))}},U6=e=>e.graphicalItems.cartesianItems.some(t=>t.type==="bar")||e.graphicalItems.polarItems.some(t=>t.type==="radialBar");function H6(e,t){return n=>{switch(e){case"xAxis":return"xAxisId"in n&&n.xAxisId===t;case"yAxis":return"yAxisId"in n&&n.yAxisId===t;case"zAxis":return"zAxisId"in n&&n.zAxisId===t;case"angleAxis":return"angleAxisId"in n&&n.angleAxisId===t;case"radiusAxis":return"radiusAxisId"in n&&n.radiusAxisId===t;default:return!1}}}var F6=e=>e.graphicalItems.cartesianItems,Pme=Oe([ur,Lb],H6),G6=(e,t,n)=>e.filter(n).filter(r=>t?.includeHidden===!0?!0:!r.hide),cp=Oe([F6,pi,Pme],G6,{memoizeOptions:{resultEqualityCheck:$b}}),q6=Oe([cp],e=>e.filter(t=>t.type==="area"||t.type==="bar").filter(kT)),Y6=e=>e.filter(t=>!("stackId"in t)||t.stackId===void 0),Rme=Oe([cp],Y6),K6=e=>e.map(t=>t.data).filter(Boolean).flat(1),Lme=Oe([cp],K6,{memoizeOptions:{resultEqualityCheck:$b}}),W6=(e,t)=>{var{chartData:n=[],dataStartIndex:r,dataEndIndex:i}=t;return e.length>0?e:n.slice(r,i+1)},jT=Oe([Lme,vT],W6),V6=(e,t,n)=>t?.dataKey!=null?e.map(r=>({value:ti(r,t.dataKey)})):n.length>0?n.map(r=>r.dataKey).flatMap(r=>e.map(i=>({value:ti(i,r)}))):e.map(r=>({value:r})),Bb=Oe([jT,pi,cp],V6);function Z6(e,t){switch(e){case"xAxis":return t.direction==="x";case"yAxis":return t.direction==="y";default:return!1}}function cv(e){if(Wo(e)||e instanceof Date){var t=Number(e);if(Fn(t))return t}}function dL(e){if(Array.isArray(e)){var t=[cv(e[0]),cv(e[1])];return Vl(t)?t:void 0}var n=cv(e);if(n!=null)return[n,n]}function Bs(e){return e.map(cv).filter(rse)}function Ime(e,t,n){return!n||typeof t!="number"||xo(t)?[]:n.length?Bs(n.flatMap(r=>{var i=ti(e,r.dataKey),a,s;if(Array.isArray(i)?[a,s]=i:a=s=i,!(!Fn(a)||!Fn(s)))return[t-a,t+s]})):[]}var fr=e=>{var t=dr(e),n=xf(e);return lp(e,t,n)},up=Oe([fr],e=>e?.dataKey),$me=Oe([q6,vT,fr],$6),X6=(e,t,n,r)=>{var i={},a=t.reduce((s,c)=>(c.stackId==null||(s[c.stackId]==null&&(s[c.stackId]=[]),s[c.stackId].push(c)),s),i);return Object.fromEntries(Object.entries(a).map(s=>{var[c,d]=s,f=r?[...d].reverse():d,m=f.map(TT);return[c,{stackedData:lce(e,m,n),graphicalItems:f}]}))},VE=Oe([$me,q6,Db,C6],X6),J6=(e,t,n,r)=>{var{dataStartIndex:i,dataEndIndex:a}=t;if(r==null&&n!=="zAxis"){var s=fce(e,i,a);if(!(s!=null&&s[0]===0&&s[1]===0))return s}},Bme=Oe([pi],e=>e.allowDataOverflow),NT=e=>{var t;if(e==null||!("domain"in e))return WE;if(e.domain!=null)return e.domain;if(e.ticks!=null){if(e.type==="number"){var n=Bs(e.ticks);return[Math.min(...n),Math.max(...n)]}if(e.type==="category")return e.ticks.map(String)}return(t=e?.domain)!==null&&t!==void 0?t:WE},Q6=Oe([pi],NT),e9=Oe([Q6,Bme],v6),zme=Oe([VE,ec,ur,e9],J6,{memoizeOptions:{resultEqualityCheck:Ib}}),CT=e=>e.errorBars,Ume=(e,t,n)=>e.flatMap(r=>t[r.id]).filter(Boolean).filter(r=>Z6(n,r)),gy=function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var i=n.filter(Boolean);if(i.length!==0){var a=i.flat(),s=Math.min(...a),c=Math.max(...a);return[s,c]}},t9=(e,t,n,r,i)=>{var a,s;if(n.length>0&&e.forEach(c=>{n.forEach(d=>{var f,m,p=(f=r[d.id])===null||f===void 0?void 0:f.filter(j=>Z6(i,j)),y=ti(c,(m=t.dataKey)!==null&&m!==void 0?m:d.dataKey),b=Ime(c,y,p);if(b.length>=2){var x=Math.min(...b),T=Math.max(...b);(a==null||x<a)&&(a=x),(s==null||T>s)&&(s=T)}var S=dL(y);S!=null&&(a=a==null?S[0]:Math.min(a,S[0]),s=s==null?S[1]:Math.max(s,S[1]))})}),t?.dataKey!=null&&e.forEach(c=>{var d=dL(ti(c,t.dataKey));d!=null&&(a=a==null?d[0]:Math.min(a,d[0]),s=s==null?d[1]:Math.max(s,d[1]))}),Fn(a)&&Fn(s))return[a,s]},Hme=Oe([jT,pi,Rme,CT,ur],t9,{memoizeOptions:{resultEqualityCheck:Ib}});function Fme(e){var{value:t}=e;if(Wo(t)||t instanceof Date)return t}var Gme=(e,t,n)=>{var r=e.map(Fme).filter(i=>i!=null);return n&&(t.dataKey==null||t.allowDuplicatedCategory&&_4(r))?L7(0,e.length):t.allowDuplicatedCategory?r:Array.from(new Set(r))},n9=e=>e.referenceElements.dots,wf=(e,t,n)=>e.filter(r=>r.ifOverflow==="extendDomain").filter(r=>t==="xAxis"?r.xAxisId===n:r.yAxisId===n),qme=Oe([n9,ur,Lb],wf),r9=e=>e.referenceElements.areas,Yme=Oe([r9,ur,Lb],wf),i9=e=>e.referenceElements.lines,Kme=Oe([i9,ur,Lb],wf),a9=(e,t)=>{var n=Bs(e.map(r=>t==="xAxis"?r.x:r.y));if(n.length!==0)return[Math.min(...n),Math.max(...n)]},Wme=Oe(qme,ur,a9),o9=(e,t)=>{var n=Bs(e.flatMap(r=>[t==="xAxis"?r.x1:r.y1,t==="xAxis"?r.x2:r.y2]));if(n.length!==0)return[Math.min(...n),Math.max(...n)]},Vme=Oe([Yme,ur],o9);function Zme(e){var t;if(e.x!=null)return Bs([e.x]);var n=(t=e.segment)===null||t===void 0?void 0:t.map(r=>r.x);return n==null||n.length===0?[]:Bs(n)}function Xme(e){var t;if(e.y!=null)return Bs([e.y]);var n=(t=e.segment)===null||t===void 0?void 0:t.map(r=>r.y);return n==null||n.length===0?[]:Bs(n)}var s9=(e,t)=>{var n=e.flatMap(r=>t==="xAxis"?Zme(r):Xme(r));if(n.length!==0)return[Math.min(...n),Math.max(...n)]},Jme=Oe([Kme,ur],s9),Qme=Oe(Wme,Jme,Vme,(e,t,n)=>gy(e,n,t)),l9=(e,t,n,r,i,a,s,c)=>{if(n!=null)return n;var d=s==="vertical"&&c==="xAxis"||s==="horizontal"&&c==="yAxis",f=d?gy(r,a,i):gy(a,i);return ume(t,f,e.allowDataOverflow)},epe=Oe([pi,Q6,e9,zme,Hme,Qme,dn,ur],l9,{memoizeOptions:{resultEqualityCheck:Ib}}),tpe=[0,1],c9=(e,t,n,r,i,a,s)=>{if(!((e==null||n==null||n.length===0)&&s===void 0)){var{dataKey:c,type:d}=e,f=Hs(t,a);if(f&&c==null){var m;return L7(0,(m=n?.length)!==null&&m!==void 0?m:0)}return d==="category"?Gme(r,e,f):i==="expand"?tpe:s}},MT=Oe([pi,dn,jT,Bb,Db,ur,epe],c9),u9=(e,t,n,r,i)=>{if(e!=null){var{scale:a,type:s}=e;if(a==="auto")return t==="radial"&&i==="radiusAxis"?"band":t==="radial"&&i==="angleAxis"?"linear":s==="category"&&r&&(r.indexOf("LineChart")>=0||r.indexOf("AreaChart")>=0||r.indexOf("ComposedChart")>=0&&!n)?"point":s==="category"?"band":"linear";if(typeof a=="string"){var c="scale".concat(PA(a));return c in Vh?c:"point"}}},dp=Oe([pi,dn,U6,_T,ur],u9);function npe(e){if(e!=null){if(e in Vh)return Vh[e]();var t="scale".concat(PA(e));if(t in Vh)return Vh[t]()}}function DT(e,t,n,r){if(!(n==null||r==null)){if(typeof e.scale=="function")return e.scale.copy().domain(n).range(r);var i=npe(t);if(i!=null){var a=i.domain(n).range(r);return ice(a),a}}}var d9=(e,t,n)=>{var r=NT(t);if(!(n!=="auto"&&n!=="linear")){if(t!=null&&t.tickCount&&Array.isArray(r)&&(r[0]==="auto"||r[1]==="auto")&&Vl(e))return bme(e,t.tickCount,t.allowDecimals);if(t!=null&&t.tickCount&&t.type==="number"&&Vl(e))return _me(e,t.tickCount,t.allowDecimals)}},PT=Oe([MT,lp,dp],d9),f9=(e,t,n,r)=>{if(r!=="angleAxis"&&e?.type==="number"&&Vl(t)&&Array.isArray(n)&&n.length>0){var i=t[0],a=n[0],s=t[1],c=n[n.length-1];return[Math.min(i,a),Math.max(s,c)]}return t},rpe=Oe([pi,MT,PT,ur],f9),ipe=Oe(Bb,pi,(e,t)=>{if(!(!t||t.type!=="number")){var n=1/0,r=Array.from(Bs(e.map(c=>c.value))).sort((c,d)=>c-d);if(r.length<2)return 1/0;var i=r[r.length-1]-r[0];if(i===0)return 1/0;for(var a=0;a<r.length-1;a++){var s=r[a+1]-r[a];n=Math.min(n,s)}return n/i}}),h9=Oe(ipe,dn,xme,Ur,(e,t,n,r)=>r,(e,t,n,r,i)=>{if(!Fn(e))return 0;var a=t==="vertical"?r.height:r.width;if(i==="gap")return e*a/2;if(i==="no-gap"){var s=Wl(n,e*a),c=e*a/2;return c-s-(c-s)/a*s}return 0}),ape=(e,t)=>{var n=Ys(e,t);return n==null||typeof n.padding!="string"?0:h9(e,"xAxis",t,n.padding)},ope=(e,t)=>{var n=Ks(e,t);return n==null||typeof n.padding!="string"?0:h9(e,"yAxis",t,n.padding)},spe=Oe(Ys,ape,(e,t)=>{var n,r;if(e==null)return{left:0,right:0};var{padding:i}=e;return typeof i=="string"?{left:t,right:t}:{left:((n=i.left)!==null&&n!==void 0?n:0)+t,right:((r=i.right)!==null&&r!==void 0?r:0)+t}}),lpe=Oe(Ks,ope,(e,t)=>{var n,r;if(e==null)return{top:0,bottom:0};var{padding:i}=e;return typeof i=="string"?{top:t,bottom:t}:{top:((n=i.top)!==null&&n!==void 0?n:0)+t,bottom:((r=i.bottom)!==null&&r!==void 0?r:0)+t}}),cpe=Oe([Ur,spe,xb,_b,(e,t,n)=>n],(e,t,n,r,i)=>{var{padding:a}=r;return i?[a.left,n.width-a.right]:[e.left+t.left,e.left+e.width-t.right]}),upe=Oe([Ur,dn,lpe,xb,_b,(e,t,n)=>n],(e,t,n,r,i,a)=>{var{padding:s}=i;return a?[r.height-s.bottom,s.top]:t==="horizontal"?[e.top+e.height-n.bottom,e.top+n.top]:[e.top+n.top,e.top+e.height-n.bottom]}),fp=(e,t,n,r)=>{var i;switch(t){case"xAxis":return cpe(e,n,r);case"yAxis":return upe(e,n,r);case"zAxis":return(i=OT(e,n))===null||i===void 0?void 0:i.range;case"angleAxis":return R6(e);case"radiusAxis":return L6(e,n);default:return}},m9=Oe([pi,fp],Pb),Sf=Oe([pi,dp,rpe,m9],DT);Oe([cp,CT,ur],Ume);function p9(e,t){return e.id<t.id?-1:e.id>t.id?1:0}var zb=(e,t)=>t,Ub=(e,t,n)=>n,dpe=Oe(yb,zb,Ub,(e,t,n)=>e.filter(r=>r.orientation===t).filter(r=>r.mirror===n).sort(p9)),fpe=Oe(bb,zb,Ub,(e,t,n)=>e.filter(r=>r.orientation===t).filter(r=>r.mirror===n).sort(p9)),g9=(e,t)=>({width:e.width,height:t.height}),hpe=(e,t)=>{var n=typeof t.width=="number"?t.width:tp;return{width:n,height:e.height}},mpe=Oe(Ur,Ys,g9),ppe=(e,t,n)=>{switch(t){case"top":return e.top;case"bottom":return n-e.bottom;default:return 0}},gpe=(e,t,n)=>{switch(t){case"left":return e.left;case"right":return n-e.right;default:return 0}},vpe=Oe(Gs,Ur,dpe,zb,Ub,(e,t,n,r,i)=>{var a={},s;return n.forEach(c=>{var d=g9(t,c);s==null&&(s=ppe(t,r,e));var f=r==="top"&&!i||r==="bottom"&&i;a[c.id]=s-Number(f)*d.height,s+=(f?-1:1)*d.height}),a}),ype=Oe(Fs,Ur,fpe,zb,Ub,(e,t,n,r,i)=>{var a={},s;return n.forEach(c=>{var d=hpe(t,c);s==null&&(s=gpe(t,r,e));var f=r==="left"&&!i||r==="right"&&i;a[c.id]=s-Number(f)*d.width,s+=(f?-1:1)*d.width}),a}),bpe=(e,t)=>{var n=Ys(e,t);if(n!=null)return vpe(e,n.orientation,n.mirror)},_pe=Oe([Ur,Ys,bpe,(e,t)=>t],(e,t,n,r)=>{if(t!=null){var i=n?.[r];return i==null?{x:e.left,y:0}:{x:e.left,y:i}}}),xpe=(e,t)=>{var n=Ks(e,t);if(n!=null)return ype(e,n.orientation,n.mirror)},wpe=Oe([Ur,Ks,xpe,(e,t)=>t],(e,t,n,r)=>{if(t!=null){var i=n?.[r];return i==null?{x:0,y:e.top}:{x:i,y:e.top}}}),Spe=Oe(Ur,Ks,(e,t)=>{var n=typeof t.width=="number"?t.width:tp;return{width:n,height:e.height}}),v9=(e,t,n,r)=>{if(n!=null){var{allowDuplicatedCategory:i,type:a,dataKey:s}=n,c=Hs(e,r),d=t.map(f=>f.value);if(s&&c&&a==="category"&&i&&_4(d))return d}},RT=Oe([dn,Bb,pi,ur],v9),y9=(e,t,n,r)=>{if(!(n==null||n.dataKey==null)){var{type:i,scale:a}=n,s=Hs(e,r);if(s&&(i==="number"||a!=="auto"))return t.map(c=>c.value)}},LT=Oe([dn,Bb,lp,ur],y9),fL=Oe([dn,Dme,dp,Sf,RT,LT,fp,PT,ur],(e,t,n,r,i,a,s,c,d)=>{if(t!=null){var f=Hs(e,d);return{angle:t.angle,interval:t.interval,minTickGap:t.minTickGap,orientation:t.orientation,tick:t.tick,tickCount:t.tickCount,tickFormatter:t.tickFormatter,ticks:t.ticks,type:t.type,unit:t.unit,axisType:d,categoricalDomain:a,duplicateDomain:i,isCategorical:f,niceTicks:c,range:s,realScaleType:n,scale:r}}}),Epe=(e,t,n,r,i,a,s,c,d)=>{if(!(t==null||r==null)){var f=Hs(e,d),{type:m,ticks:p,tickCount:y}=t,b=n==="scaleBand"&&typeof r.bandwidth=="function"?r.bandwidth()/2:2,x=m==="category"&&r.bandwidth?r.bandwidth()/b:0;x=d==="angleAxis"&&a!=null&&a.length>=2?La(a[0]-a[1])*2*x:x;var T=p||i;if(T){var S=T.map((j,D)=>{var O=s?s.indexOf(j):j;return{index:D,coordinate:r(O)+x,value:j,offset:x}});return S.filter(j=>Fn(j.coordinate))}return f&&c?c.map((j,D)=>({coordinate:r(j)+x,value:j,index:D,offset:x})).filter(j=>Fn(j.coordinate)):r.ticks?r.ticks(y).map(j=>({coordinate:r(j)+x,value:j,offset:x})):r.domain().map((j,D)=>({coordinate:r(j)+x,value:s?s[j]:j,index:D,offset:x}))}},b9=Oe([dn,lp,dp,Sf,PT,fp,RT,LT,ur],Epe),Ape=(e,t,n,r,i,a,s)=>{if(!(t==null||n==null||r==null||r[0]===r[1])){var c=Hs(e,s),{tickCount:d}=t,f=0;return f=s==="angleAxis"&&r?.length>=2?La(r[0]-r[1])*2*f:f,c&&a?a.map((m,p)=>({coordinate:n(m)+f,value:m,index:p,offset:f})):n.ticks?n.ticks(d).map(m=>({coordinate:n(m)+f,value:m,offset:f})):n.domain().map((m,p)=>({coordinate:n(m)+f,value:i?i[m]:m,index:p,offset:f}))}},_9=Oe([dn,lp,Sf,fp,RT,LT,ur],Ape),x9=Oe(pi,Sf,(e,t)=>{if(!(e==null||t==null))return py(py({},e),{},{scale:t})}),Tpe=Oe([pi,dp,MT,m9],DT);Oe((e,t,n)=>OT(e,n),Tpe,(e,t)=>{if(!(e==null||t==null))return py(py({},e),{},{scale:t})});var kpe=Oe([dn,yb,bb],(e,t,n)=>{switch(e){case"horizontal":return t.some(r=>r.reversed)?"right-to-left":"left-to-right";case"vertical":return n.some(r=>r.reversed)?"bottom-to-top":"top-to-bottom";case"centric":case"radial":return"left-to-right";default:return}}),w9=e=>e.options.defaultTooltipEventType,S9=e=>e.options.validateTooltipEventTypes;function E9(e,t,n){if(e==null)return t;var r=e?"axis":"item";return n==null?t:n.includes(r)?r:t}function IT(e,t){var n=w9(e),r=S9(e);return E9(t,n,r)}function Ope(e){return it(t=>IT(t,e))}var A9=(e,t)=>{var n,r=Number(t);if(!(xo(r)||t==null))return r>=0?e==null||(n=e[r])===null||n===void 0?void 0:n.value:void 0},jpe=e=>e.tooltip.settings,Hl={active:!1,index:null,dataKey:void 0,graphicalItemId:void 0,coordinate:void 0},Npe={itemInteraction:{click:Hl,hover:Hl},axisInteraction:{click:Hl,hover:Hl},keyboardInteraction:Hl,syncInteraction:{active:!1,index:null,dataKey:void 0,label:void 0,coordinate:void 0,sourceViewBox:void 0,graphicalItemId:void 0},tooltipItemPayloads:[],settings:{shared:void 0,trigger:"hover",axisId:0,active:!1,defaultIndex:void 0}},T9=Ii({name:"tooltip",initialState:Npe,reducers:{addTooltipEntrySettings:{reducer(e,t){e.tooltipItemPayloads.push(t.payload)},prepare:En()},replaceTooltipEntrySettings:{reducer(e,t){var{prev:n,next:r}=t.payload,i=bo(e).tooltipItemPayloads.indexOf(n);i>-1&&(e.tooltipItemPayloads[i]=r)},prepare:En()},removeTooltipEntrySettings:{reducer(e,t){var n=bo(e).tooltipItemPayloads.indexOf(t.payload);n>-1&&e.tooltipItemPayloads.splice(n,1)},prepare:En()},setTooltipSettingsState(e,t){e.settings=t.payload},setActiveMouseOverItemIndex(e,t){e.syncInteraction.active=!1,e.keyboardInteraction.active=!1,e.itemInteraction.hover.active=!0,e.itemInteraction.hover.index=t.payload.activeIndex,e.itemInteraction.hover.dataKey=t.payload.activeDataKey,e.itemInteraction.hover.graphicalItemId=t.payload.activeGraphicalItemId,e.itemInteraction.hover.coordinate=t.payload.activeCoordinate},mouseLeaveChart(e){e.itemInteraction.hover.active=!1,e.axisInteraction.hover.active=!1},mouseLeaveItem(e){e.itemInteraction.hover.active=!1},setActiveClickItemIndex(e,t){e.syncInteraction.active=!1,e.itemInteraction.click.active=!0,e.keyboardInteraction.active=!1,e.itemInteraction.click.index=t.payload.activeIndex,e.itemInteraction.click.dataKey=t.payload.activeDataKey,e.itemInteraction.click.graphicalItemId=t.payload.activeGraphicalItemId,e.itemInteraction.click.coordinate=t.payload.activeCoordinate},setMouseOverAxisIndex(e,t){e.syncInteraction.active=!1,e.axisInteraction.hover.active=!0,e.keyboardInteraction.active=!1,e.axisInteraction.hover.index=t.payload.activeIndex,e.axisInteraction.hover.dataKey=t.payload.activeDataKey,e.axisInteraction.hover.coordinate=t.payload.activeCoordinate},setMouseClickAxisIndex(e,t){e.syncInteraction.active=!1,e.keyboardInteraction.active=!1,e.axisInteraction.click.active=!0,e.axisInteraction.click.index=t.payload.activeIndex,e.axisInteraction.click.dataKey=t.payload.activeDataKey,e.axisInteraction.click.coordinate=t.payload.activeCoordinate},setSyncInteraction(e,t){e.syncInteraction=t.payload},setKeyboardInteraction(e,t){e.keyboardInteraction.active=t.payload.active,e.keyboardInteraction.index=t.payload.activeIndex,e.keyboardInteraction.coordinate=t.payload.activeCoordinate,e.keyboardInteraction.dataKey=t.payload.activeDataKey}}}),{addTooltipEntrySettings:Cpe,replaceTooltipEntrySettings:Mpe,removeTooltipEntrySettings:Dpe,setTooltipSettingsState:Ppe,setActiveMouseOverItemIndex:Rpe,mouseLeaveItem:U1e,mouseLeaveChart:k9,setActiveClickItemIndex:H1e,setMouseOverAxisIndex:O9,setMouseClickAxisIndex:Lpe,setSyncInteraction:ZE,setKeyboardInteraction:XE}=T9.actions,Ipe=T9.reducer;function hL(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function P0(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?hL(Object(n),!0).forEach(function(r){$pe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):hL(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function $pe(e,t,n){return(t=Bpe(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Bpe(e){var t=zpe(e,"string");return typeof t=="symbol"?t:t+""}function zpe(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Upe(e,t,n){return t==="axis"?n==="click"?e.axisInteraction.click:e.axisInteraction.hover:n==="click"?e.itemInteraction.click:e.itemInteraction.hover}function Hpe(e){return e.index!=null}var j9=(e,t,n,r)=>{if(t==null)return Hl;var i=Upe(e,t,n);if(i==null)return Hl;if(i.active)return i;if(e.keyboardInteraction.active)return e.keyboardInteraction;if(e.syncInteraction.active&&e.syncInteraction.index!=null)return e.syncInteraction;var a=e.settings.active===!0;if(Hpe(i)){if(a)return P0(P0({},i),{},{active:!0})}else if(r!=null)return{active:!0,coordinate:void 0,dataKey:void 0,index:r,graphicalItemId:void 0};return P0(P0({},Hl),{},{coordinate:i.coordinate})};function Fpe(e){if(typeof e=="number")return Number.isFinite(e)?e:void 0;if(e instanceof Date){var t=e.valueOf();return Number.isFinite(t)?t:void 0}var n=Number(e);return Number.isFinite(n)?n:void 0}function Gpe(e,t){var n=Fpe(e),r=t[0],i=t[1];if(n===void 0)return!1;var a=Math.min(r,i),s=Math.max(r,i);return n>=a&&n<=s}function qpe(e,t,n){if(n==null||t==null)return!0;var r=ti(e,t);return r==null||!Vl(n)?!0:Gpe(r,n)}var $T=(e,t,n,r)=>{var i=e?.index;if(i==null)return null;var a=Number(i);if(!Fn(a))return i;var s=0,c=1/0;t.length>0&&(c=t.length-1);var d=Math.max(s,Math.min(a,c)),f=t[d];return f==null||qpe(f,n,r)?String(d):null},N9=(e,t,n,r,i,a,s,c)=>{if(!(a==null||c==null)){var d=s[0],f=d==null?void 0:c(d.positions,a);if(f!=null)return f;var m=i?.[Number(a)];if(m)switch(n){case"horizontal":return{x:m.coordinate,y:(r.top+t)/2};default:return{x:(r.left+e)/2,y:m.coordinate}}}},C9=(e,t,n,r)=>{if(t==="axis")return e.tooltipItemPayloads;if(e.tooltipItemPayloads.length===0)return[];var i;return n==="hover"?i=e.itemInteraction.hover.dataKey:i=e.itemInteraction.click.dataKey,i==null&&r!=null?[e.tooltipItemPayloads[0]]:e.tooltipItemPayloads.filter(a=>{var s;return((s=a.settings)===null||s===void 0?void 0:s.dataKey)===i})},hp=e=>e.options.tooltipPayloadSearcher,Ef=e=>e.tooltip;function mL(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function pL(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?mL(Object(n),!0).forEach(function(r){Ype(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):mL(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Ype(e,t,n){return(t=Kpe(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Kpe(e){var t=Wpe(e,"string");return typeof t=="symbol"?t:t+""}function Wpe(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Vpe(e,t){return e??t}var M9=(e,t,n,r,i,a,s)=>{if(!(t==null||a==null)){var{chartData:c,computedData:d,dataStartIndex:f,dataEndIndex:m}=n,p=[];return e.reduce((y,b)=>{var x,{dataDefinedOnItem:T,settings:S}=b,j=Vpe(T,c),D=Array.isArray(j)?l7(j,f,m):j,O=(x=S?.dataKey)!==null&&x!==void 0?x:r,M=S?.nameKey,N;if(r&&Array.isArray(D)&&!Array.isArray(D[0])&&s==="axis"?N=x4(D,r,i):N=a(D,t,d,M),Array.isArray(N))N.forEach($=>{var B=pL(pL({},S),{},{name:$.name,unit:$.unit,color:void 0,fill:void 0});y.push($P({tooltipEntrySettings:B,dataKey:$.dataKey,payload:$.payload,value:ti($.payload,$.dataKey),name:$.name}))});else{var R;y.push($P({tooltipEntrySettings:S,dataKey:O,payload:N,value:ti(N,O),name:(R=ti(N,M))!==null&&R!==void 0?R:S?.name}))}return y},p)}},BT=Oe([fr,dn,U6,_T,dr],u9),Zpe=Oe([e=>e.graphicalItems.cartesianItems,e=>e.graphicalItems.polarItems],(e,t)=>[...e,...t]),Xpe=Oe([dr,xf],H6),mp=Oe([Zpe,fr,Xpe],G6,{memoizeOptions:{resultEqualityCheck:$b}}),Jpe=Oe([mp],e=>e.filter(kT)),Qpe=Oe([mp],K6,{memoizeOptions:{resultEqualityCheck:$b}}),Af=Oe([Qpe,ec],W6),ege=Oe([Jpe,ec,fr],$6),zT=Oe([Af,fr,mp],V6),D9=Oe([fr],NT),tge=Oe([fr],e=>e.allowDataOverflow),P9=Oe([D9,tge],v6),nge=Oe([mp],e=>e.filter(kT)),rge=Oe([ege,nge,Db,C6],X6),ige=Oe([rge,ec,dr,P9],J6),age=Oe([mp],Y6),oge=Oe([Af,fr,age,CT,dr],t9,{memoizeOptions:{resultEqualityCheck:Ib}}),sge=Oe([n9,dr,xf],wf),lge=Oe([sge,dr],a9),cge=Oe([r9,dr,xf],wf),uge=Oe([cge,dr],o9),dge=Oe([i9,dr,xf],wf),fge=Oe([dge,dr],s9),hge=Oe([lge,fge,uge],gy),mge=Oe([fr,D9,P9,ige,oge,hge,dn,dr],l9),pp=Oe([fr,dn,Af,zT,Db,dr,mge],c9),pge=Oe([pp,fr,BT],d9),gge=Oe([fr,pp,pge,dr],f9),R9=e=>{var t=dr(e),n=xf(e),r=!1;return fp(e,t,n,r)},L9=Oe([fr,R9],Pb),I9=Oe([fr,BT,gge,L9],DT),vge=Oe([dn,zT,fr,dr],v9),yge=Oe([dn,zT,fr,dr],y9),bge=(e,t,n,r,i,a,s,c)=>{if(t){var{type:d}=t,f=Hs(e,c);if(r){var m=n==="scaleBand"&&r.bandwidth?r.bandwidth()/2:2,p=d==="category"&&r.bandwidth?r.bandwidth()/m:0;return p=c==="angleAxis"&&i!=null&&i?.length>=2?La(i[0]-i[1])*2*p:p,f&&s?s.map((y,b)=>({coordinate:r(y)+p,value:y,index:b,offset:p})):r.domain().map((y,b)=>({coordinate:r(y)+p,value:a?a[y]:y,index:b,offset:p}))}}},Ws=Oe([dn,fr,BT,I9,R9,vge,yge,dr],bge),UT=Oe([w9,S9,jpe],(e,t,n)=>E9(n.shared,e,t)),$9=e=>e.tooltip.settings.trigger,HT=e=>e.tooltip.settings.defaultIndex,gp=Oe([Ef,UT,$9,HT],j9),Mm=Oe([gp,Af,up,pp],$T),B9=Oe([Ws,Mm],A9),_ge=Oe([gp],e=>{if(e)return e.dataKey});Oe([gp],e=>{if(e)return e.graphicalItemId});var z9=Oe([Ef,UT,$9,HT],C9),xge=Oe([Fs,Gs,dn,Ur,Ws,HT,z9,hp],N9),wge=Oe([gp,xge],(e,t)=>e!=null&&e.coordinate?e.coordinate:t),Sge=Oe([gp],e=>e.active),Ege=Oe([z9,Mm,ec,up,B9,hp,UT],M9),Age=Oe([Ege],e=>{if(e!=null){var t=e.map(n=>n.payload).filter(n=>n!=null);return Array.from(new Set(t))}});function gL(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function vL(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?gL(Object(n),!0).forEach(function(r){Tge(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):gL(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Tge(e,t,n){return(t=kge(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function kge(e){var t=Oge(e,"string");return typeof t=="symbol"?t:t+""}function Oge(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var jge=()=>it(fr),Nge=()=>{var e=jge(),t=it(Ws),n=it(I9);return Vv(!e||!n?void 0:vL(vL({},e),{},{scale:n}),t)};function yL(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function wd(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?yL(Object(n),!0).forEach(function(r){Cge(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):yL(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Cge(e,t,n){return(t=Mge(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Mge(e){var t=Dge(e,"string");return typeof t=="symbol"?t:t+""}function Dge(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Pge=(e,t,n,r)=>{var i=t.find(a=>a&&a.index===n);if(i){if(e==="horizontal")return{x:i.coordinate,y:r.chartY};if(e==="vertical")return{x:r.chartX,y:i.coordinate}}return{x:0,y:0}},Rge=(e,t,n,r)=>{var i=t.find(f=>f&&f.index===n);if(i){if(e==="centric"){var a=i.coordinate,{radius:s}=r;return wd(wd(wd({},r),Br(r.cx,r.cy,s,a)),{},{angle:a,radius:s})}var c=i.coordinate,{angle:d}=r;return wd(wd(wd({},r),Br(r.cx,r.cy,c,d)),{},{angle:d,radius:c})}return{angle:0,clockWise:!1,cx:0,cy:0,endAngle:0,innerRadius:0,outerRadius:0,radius:0,startAngle:0,x:0,y:0}};function Lge(e,t){var{chartX:n,chartY:r}=e;return n>=t.left&&n<=t.left+t.width&&r>=t.top&&r<=t.top+t.height}var U9=(e,t,n,r,i)=>{var a,s=-1,c=(a=t?.length)!==null&&a!==void 0?a:0;if(c<=1||e==null)return 0;if(r==="angleAxis"&&i!=null&&Math.abs(Math.abs(i[1]-i[0])-360)<=1e-6)for(var d=0;d<c;d++){var f=d>0?n[d-1].coordinate:n[c-1].coordinate,m=n[d].coordinate,p=d>=c-1?n[0].coordinate:n[d+1].coordinate,y=void 0;if(La(m-f)!==La(p-m)){var b=[];if(La(p-m)===La(i[1]-i[0])){y=p;var x=m+i[1]-i[0];b[0]=Math.min(x,(x+f)/2),b[1]=Math.max(x,(x+f)/2)}else{y=f;var T=p+i[1]-i[0];b[0]=Math.min(m,(T+m)/2),b[1]=Math.max(m,(T+m)/2)}var S=[Math.min(m,(y+m)/2),Math.max(m,(y+m)/2)];if(e>S[0]&&e<=S[1]||e>=b[0]&&e<=b[1]){({index:s}=n[d]);break}}else{var j=Math.min(f,p),D=Math.max(f,p);if(e>(j+m)/2&&e<=(D+m)/2){({index:s}=n[d]);break}}}else if(t){for(var O=0;O<c;O++)if(O===0&&e<=(t[O].coordinate+t[O+1].coordinate)/2||O>0&&O<c-1&&e>(t[O].coordinate+t[O-1].coordinate)/2&&e<=(t[O].coordinate+t[O+1].coordinate)/2||O===c-1&&e>(t[O].coordinate+t[O-1].coordinate)/2){({index:s}=t[O]);break}}return s},H9=()=>it(_T),FT=(e,t)=>t,F9=(e,t,n)=>n,GT=(e,t,n,r)=>r,Ige=Oe(Ws,e=>cb(e,t=>t.coordinate)),qT=Oe([Ef,FT,F9,GT],j9),YT=Oe([qT,Af,up,pp],$T),$ge=(e,t,n)=>{if(t!=null){var r=Ef(e);return t==="axis"?n==="hover"?r.axisInteraction.hover.dataKey:r.axisInteraction.click.dataKey:n==="hover"?r.itemInteraction.hover.dataKey:r.itemInteraction.click.dataKey}},G9=Oe([Ef,FT,F9,GT],C9),vy=Oe([Fs,Gs,dn,Ur,Ws,GT,G9,hp],N9),Bge=Oe([qT,vy],(e,t)=>{var n;return(n=e.coordinate)!==null&&n!==void 0?n:t}),q9=Oe([Ws,YT],A9),zge=Oe([G9,YT,ec,up,q9,hp,FT],M9),Uge=Oe([qT,YT],(e,t)=>({isActive:e.active&&t!=null,activeIndex:t})),Hge=(e,t,n,r,i,a,s)=>{if(!(!e||!n||!r||!i)&&Lge(e,s)){var c=hce(e,t),d=U9(c,a,i,n,r),f=Pge(t,i,d,e);return{activeIndex:String(d),activeCoordinate:f}}},Fge=(e,t,n,r,i,a,s)=>{if(!(!e||!r||!i||!a||!n)){var c=Ede(e,n);if(c){var d=mce(c,t),f=U9(d,s,a,r,i),m=Rge(t,a,f,c);return{activeIndex:String(f),activeCoordinate:m}}}},Gge=(e,t,n,r,i,a,s,c)=>{if(!(!e||!t||!r||!i||!a))return t==="horizontal"||t==="vertical"?Hge(e,t,r,i,a,s,c):Fge(e,t,n,r,i,a,s)},qge=Oe(e=>e.zIndex.zIndexMap,(e,t)=>t,(e,t,n)=>n,(e,t,n)=>{if(t!=null){var r=e[t];if(r!=null)return n?r.panoramaElementId:r.elementId}}),Yge=Oe(e=>e.zIndex.zIndexMap,e=>{var t=Object.keys(e).map(r=>parseInt(r,10)).concat(Object.values(fi)),n=Array.from(new Set(t));return n.sort((r,i)=>r-i)},{memoizeOptions:{resultEqualityCheck:Ome}});function bL(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function _L(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?bL(Object(n),!0).forEach(function(r){Kge(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):bL(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Kge(e,t,n){return(t=Wge(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Wge(e){var t=Vge(e,"string");return typeof t=="symbol"?t:t+""}function Vge(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Zge={},Xge={zIndexMap:Object.values(fi).reduce((e,t)=>_L(_L({},e),{},{[t]:{elementId:void 0,panoramaElementId:void 0,consumers:0}}),Zge)},Jge=new Set(Object.values(fi));function Qge(e){return Jge.has(e)}var Y9=Ii({name:"zIndex",initialState:Xge,reducers:{registerZIndexPortal:{reducer:(e,t)=>{var{zIndex:n}=t.payload;e.zIndexMap[n]?e.zIndexMap[n].consumers+=1:e.zIndexMap[n]={consumers:1,elementId:void 0,panoramaElementId:void 0}},prepare:En()},unregisterZIndexPortal:{reducer:(e,t)=>{var{zIndex:n}=t.payload;e.zIndexMap[n]&&(e.zIndexMap[n].consumers-=1,e.zIndexMap[n].consumers<=0&&!Qge(n)&&delete e.zIndexMap[n])},prepare:En()},registerZIndexPortalId:{reducer:(e,t)=>{var{zIndex:n,elementId:r,isPanorama:i}=t.payload;e.zIndexMap[n]?i?e.zIndexMap[n].panoramaElementId=r:e.zIndexMap[n].elementId=r:e.zIndexMap[n]={consumers:0,elementId:i?void 0:r,panoramaElementId:i?r:void 0}},prepare:En()},unregisterZIndexPortalId:{reducer:(e,t)=>{var{zIndex:n}=t.payload;e.zIndexMap[n]&&(t.payload.isPanorama?e.zIndexMap[n].panoramaElementId=void 0:e.zIndexMap[n].elementId=void 0)},prepare:En()}}}),{registerZIndexPortal:e0e,unregisterZIndexPortal:t0e,registerZIndexPortalId:n0e,unregisterZIndexPortalId:r0e}=Y9.actions,i0e=Y9.reducer;function Vs(e){var{zIndex:t,children:n}=e,r=Wce(),i=r&&t!==void 0&&t!==0,a=$i(),s=kr();A.useLayoutEffect(()=>i?(s(e0e({zIndex:t})),()=>{s(t0e({zIndex:t}))}):Xm,[s,t,i]);var c=it(f=>qge(f,t,a));if(!i)return n;if(!c)return null;var d=document.getElementById(c);return d?cf.createPortal(n,d):null}function JE(){return JE=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},JE.apply(null,arguments)}function xL(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function R0(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?xL(Object(n),!0).forEach(function(r){a0e(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):xL(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function a0e(e,t,n){return(t=o0e(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function o0e(e){var t=s0e(e,"string");return typeof t=="symbol"?t:t+""}function s0e(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function l0e(e){var{cursor:t,cursorComp:n,cursorProps:r}=e;return A.isValidElement(t)?A.cloneElement(t,r):A.createElement(n,r)}function c0e(e){var t,{coordinate:n,payload:r,index:i,offset:a,tooltipAxisBandSize:s,layout:c,cursor:d,tooltipEventType:f,chartName:m}=e,p=n,y=r,b=i;if(!d||!p||m!=="ScatterChart"&&f!=="axis")return null;var x,T,S;if(m==="ScatterChart")x=p,T=Lue,S=fi.cursorLine;else if(m==="BarChart")x=Iue(c,p,a,s),T=mde,S=fi.cursorRectangle;else if(c==="radial"&&w4(p)){var{cx:j,cy:D,radius:O,startAngle:M,endAngle:N}=P7(p);x={cx:j,cy:D,startAngle:M,endAngle:N,innerRadius:O,outerRadius:O},T=Ode,S=fi.cursorLine}else x={points:jde(c,p,a)},T=lv,S=fi.cursorLine;var R=typeof d=="object"&&"className"in d?d.className:void 0,$=R0(R0(R0(R0({stroke:"#ccc",pointerEvents:"none"},a),x),ab(d)),{},{payload:y,payloadIndex:b,className:vn("recharts-tooltip-cursor",R)});return A.createElement(Vs,{zIndex:(t=e.zIndex)!==null&&t!==void 0?t:S},A.createElement(l0e,{cursor:d,cursorComp:T,cursorProps:$}))}function u0e(e){var t=Nge(),n=y7(),r=np(),i=H9();return t==null||n==null||r==null||i==null?null:A.createElement(c0e,JE({},e,{offset:n,layout:r,tooltipAxisBandSize:t,chartName:i}))}var K9=A.createContext(null),d0e=()=>A.useContext(K9),oS={exports:{}},wL;function f0e(){return wL||(wL=1,(function(e){var t=Object.prototype.hasOwnProperty,n="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(n=!1));function i(d,f,m){this.fn=d,this.context=f,this.once=m||!1}function a(d,f,m,p,y){if(typeof m!="function")throw new TypeError("The listener must be a function");var b=new i(m,p||d,y),x=n?n+f:f;return d._events[x]?d._events[x].fn?d._events[x]=[d._events[x],b]:d._events[x].push(b):(d._events[x]=b,d._eventsCount++),d}function s(d,f){--d._eventsCount===0?d._events=new r:delete d._events[f]}function c(){this._events=new r,this._eventsCount=0}c.prototype.eventNames=function(){var f=[],m,p;if(this._eventsCount===0)return f;for(p in m=this._events)t.call(m,p)&&f.push(n?p.slice(1):p);return Object.getOwnPropertySymbols?f.concat(Object.getOwnPropertySymbols(m)):f},c.prototype.listeners=function(f){var m=n?n+f:f,p=this._events[m];if(!p)return[];if(p.fn)return[p.fn];for(var y=0,b=p.length,x=new Array(b);y<b;y++)x[y]=p[y].fn;return x},c.prototype.listenerCount=function(f){var m=n?n+f:f,p=this._events[m];return p?p.fn?1:p.length:0},c.prototype.emit=function(f,m,p,y,b,x){var T=n?n+f:f;if(!this._events[T])return!1;var S=this._events[T],j=arguments.length,D,O;if(S.fn){switch(S.once&&this.removeListener(f,S.fn,void 0,!0),j){case 1:return S.fn.call(S.context),!0;case 2:return S.fn.call(S.context,m),!0;case 3:return S.fn.call(S.context,m,p),!0;case 4:return S.fn.call(S.context,m,p,y),!0;case 5:return S.fn.call(S.context,m,p,y,b),!0;case 6:return S.fn.call(S.context,m,p,y,b,x),!0}for(O=1,D=new Array(j-1);O<j;O++)D[O-1]=arguments[O];S.fn.apply(S.context,D)}else{var M=S.length,N;for(O=0;O<M;O++)switch(S[O].once&&this.removeListener(f,S[O].fn,void 0,!0),j){case 1:S[O].fn.call(S[O].context);break;case 2:S[O].fn.call(S[O].context,m);break;case 3:S[O].fn.call(S[O].context,m,p);break;case 4:S[O].fn.call(S[O].context,m,p,y);break;default:if(!D)for(N=1,D=new Array(j-1);N<j;N++)D[N-1]=arguments[N];S[O].fn.apply(S[O].context,D)}}return!0},c.prototype.on=function(f,m,p){return a(this,f,m,p,!1)},c.prototype.once=function(f,m,p){return a(this,f,m,p,!0)},c.prototype.removeListener=function(f,m,p,y){var b=n?n+f:f;if(!this._events[b])return this;if(!m)return s(this,b),this;var x=this._events[b];if(x.fn)x.fn===m&&(!y||x.once)&&(!p||x.context===p)&&s(this,b);else{for(var T=0,S=[],j=x.length;T<j;T++)(x[T].fn!==m||y&&!x[T].once||p&&x[T].context!==p)&&S.push(x[T]);S.length?this._events[b]=S.length===1?S[0]:S:s(this,b)}return this},c.prototype.removeAllListeners=function(f){var m;return f?(m=n?n+f:f,this._events[m]&&s(this,m)):(this._events=new r,this._eventsCount=0),this},c.prototype.off=c.prototype.removeListener,c.prototype.addListener=c.prototype.on,c.prefixed=n,c.EventEmitter=c,e.exports=c})(oS)),oS.exports}var h0e=f0e();const m0e=Li(h0e);var Dm=new m0e,QE="recharts.syncEvent.tooltip",SL="recharts.syncEvent.brush";function p0e(e,t){if(t){var n=Number.parseInt(t,10);if(!xo(n))return e?.[n]}}var g0e={chartName:"",tooltipPayloadSearcher:void 0,eventEmitter:void 0,defaultTooltipEventType:"axis"},W9=Ii({name:"options",initialState:g0e,reducers:{createEventEmitter:e=>{e.eventEmitter==null&&(e.eventEmitter=Symbol("rechartsEventEmitter"))}}}),v0e=W9.reducer,{createEventEmitter:y0e}=W9.actions;function b0e(e){return e.tooltip.syncInteraction}var _0e={chartData:void 0,computedData:void 0,dataStartIndex:0,dataEndIndex:0},V9=Ii({name:"chartData",initialState:_0e,reducers:{setChartData(e,t){if(e.chartData=t.payload,t.payload==null){e.dataStartIndex=0,e.dataEndIndex=0;return}t.payload.length>0&&e.dataEndIndex!==t.payload.length-1&&(e.dataEndIndex=t.payload.length-1)},setComputedData(e,t){e.computedData=t.payload},setDataStartEndIndexes(e,t){var{startIndex:n,endIndex:r}=t.payload;n!=null&&(e.dataStartIndex=n),r!=null&&(e.dataEndIndex=r)}}}),{setChartData:EL,setDataStartEndIndexes:x0e,setComputedData:F1e}=V9.actions,w0e=V9.reducer,S0e=["x","y"];function AL(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Sd(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?AL(Object(n),!0).forEach(function(r){E0e(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):AL(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function E0e(e,t,n){return(t=A0e(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function A0e(e){var t=T0e(e,"string");return typeof t=="symbol"?t:t+""}function T0e(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function k0e(e,t){if(e==null)return{};var n,r,i=O0e(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function O0e(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function j0e(){var e=it(xT),t=it(wT),n=kr(),r=it(M6),i=it(Ws),a=np(),s=wb(),c=it(d=>d.rootProps.className);A.useEffect(()=>{if(e==null)return Xm;var d=(f,m,p)=>{if(t!==p&&e===f){if(r==="index"){var y;if(s&&m!==null&&m!==void 0&&(y=m.payload)!==null&&y!==void 0&&y.coordinate&&m.payload.sourceViewBox){var b=m.payload.coordinate,{x,y:T}=b,S=k0e(b,S0e),{x:j,y:D,width:O,height:M}=m.payload.sourceViewBox,N=Sd(Sd({},S),{},{x:s.x+(O?(x-j)/O:0)*s.width,y:s.y+(M?(T-D)/M:0)*s.height});n(Sd(Sd({},m),{},{payload:Sd(Sd({},m.payload),{},{coordinate:N})}))}else n(m);return}if(i!=null){var R;if(typeof r=="function"){var $={activeTooltipIndex:m.payload.index==null?void 0:Number(m.payload.index),isTooltipActive:m.payload.active,activeIndex:m.payload.index==null?void 0:Number(m.payload.index),activeLabel:m.payload.label,activeDataKey:m.payload.dataKey,activeCoordinate:m.payload.coordinate},B=r(i,$);R=i[B]}else r==="value"&&(R=i.find(J=>String(J.value)===m.payload.label));var{coordinate:H}=m.payload;if(R==null||m.payload.active===!1||H==null||s==null){n(ZE({active:!1,coordinate:void 0,dataKey:void 0,index:null,label:void 0,sourceViewBox:void 0,graphicalItemId:void 0}));return}var{x:V,y:z}=H,F=Math.min(V,s.x+s.width),Q=Math.min(z,s.y+s.height),ee={x:a==="horizontal"?R.coordinate:F,y:a==="horizontal"?Q:R.coordinate},be=ZE({active:m.payload.active,coordinate:ee,dataKey:m.payload.dataKey,index:String(R.index),label:m.payload.label,sourceViewBox:m.payload.sourceViewBox,graphicalItemId:m.payload.graphicalItemId});n(be)}}};return Dm.on(QE,d),()=>{Dm.off(QE,d)}},[c,n,t,e,r,i,a,s])}function N0e(){var e=it(xT),t=it(wT),n=kr();A.useEffect(()=>{if(e==null)return Xm;var r=(i,a,s)=>{t!==s&&e===i&&n(x0e(a))};return Dm.on(SL,r),()=>{Dm.off(SL,r)}},[n,t,e])}function C0e(){var e=kr();A.useEffect(()=>{e(y0e())},[e]),j0e(),N0e()}function M0e(e,t,n,r,i,a){var s=it(b=>$ge(b,e,t)),c=it(wT),d=it(xT),f=it(M6),m=it(b0e),p=m?.active,y=wb();A.useEffect(()=>{if(!p&&d!=null&&c!=null){var b=ZE({active:a,coordinate:n,dataKey:s,index:i,label:typeof r=="number"?String(r):r,sourceViewBox:y,graphicalItemId:void 0});Dm.emit(QE,d,b,c)}},[p,n,s,i,r,c,d,f,a,y])}function TL(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function kL(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?TL(Object(n),!0).forEach(function(r){D0e(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):TL(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function D0e(e,t,n){return(t=P0e(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function P0e(e){var t=R0e(e,"string");return typeof t=="symbol"?t:t+""}function R0e(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function L0e(e){return e.dataKey}function I0e(e,t){return A.isValidElement(e)?A.cloneElement(e,t):typeof e=="function"?A.createElement(e,t):A.createElement(pue,t)}var OL=[],$0e={allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",axisId:0,contentStyle:{},cursor:!0,filterNull:!0,isAnimationActive:"auto",itemSorter:"name",itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,wrapperStyle:{}};function B0e(e){var t,n,r=fa(e,$0e),{active:i,allowEscapeViewBox:a,animationDuration:s,animationEasing:c,content:d,filterNull:f,isAnimationActive:m,offset:p,payloadUniqBy:y,position:b,reverseDirection:x,useTranslate3d:T,wrapperStyle:S,cursor:j,shared:D,trigger:O,defaultIndex:M,portal:N,axisId:R}=r,$=kr(),B=typeof M=="number"?String(M):M;A.useEffect(()=>{$(Ppe({shared:D,trigger:O,axisId:R,active:i,defaultIndex:B}))},[$,D,O,R,i,B]);var H=wb(),V=O7(),z=Ope(D),{activeIndex:F,isActive:Q}=(t=it(de=>Uge(de,z,O,B)))!==null&&t!==void 0?t:{},ee=it(de=>zge(de,z,O,B)),be=it(de=>q9(de,z,O,B)),J=it(de=>Bge(de,z,O,B)),le=ee,ae=d0e(),me=(n=i??Q)!==null&&n!==void 0?n:!1,[ne,q]=rle([le,me]),K=z==="axis"?be:void 0;M0e(z,O,J,K,F,me);var X=N??ae;if(X==null||H==null||z==null)return null;var ie=le??OL;me||(ie=OL),f&&ie.length&&(ie=jse(ie.filter(de=>de.value!=null&&(de.hide!==!0||r.includeHidden)),y,L0e));var Z=ie.length>0,W=A.createElement(wue,{allowEscapeViewBox:a,animationDuration:s,animationEasing:c,isAnimationActive:m,active:me,coordinate:J,hasPayload:Z,offset:p,position:b,reverseDirection:x,useTranslate3d:T,viewBox:H,wrapperStyle:S,lastBoundingBox:ne,innerRef:q,hasPortalFromProps:!!N},I0e(d,kL(kL({},r),{},{payload:ie,label:K,active:me,activeIndex:F,coordinate:J,accessibilityLayer:V})));return A.createElement(A.Fragment,null,cf.createPortal(W,X),me&&A.createElement(u0e,{cursor:j,tooltipEventType:z,coordinate:J,payload:ie,index:F}))}function z0e(e,t,n){return(t=U0e(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function U0e(e){var t=H0e(e,"string");return typeof t=="symbol"?t:t+""}function H0e(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class F0e{constructor(t){z0e(this,"cache",new Map),this.maxSize=t}get(t){var n=this.cache.get(t);return n!==void 0&&(this.cache.delete(t),this.cache.set(t,n)),n}set(t,n){if(this.cache.has(t))this.cache.delete(t);else if(this.cache.size>=this.maxSize){var r=this.cache.keys().next().value;r!=null&&this.cache.delete(r)}this.cache.set(t,n)}clear(){this.cache.clear()}size(){return this.cache.size}}function jL(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function G0e(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?jL(Object(n),!0).forEach(function(r){q0e(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):jL(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function q0e(e,t,n){return(t=Y0e(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Y0e(e){var t=K0e(e,"string");return typeof t=="symbol"?t:t+""}function K0e(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var W0e={cacheSize:2e3,enableCache:!0},Z9=G0e({},W0e),NL=new F0e(Z9.cacheSize),V0e={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},CL="recharts_measurement_span";function Z0e(e,t){var n=t.fontSize||"",r=t.fontFamily||"",i=t.fontWeight||"",a=t.fontStyle||"",s=t.letterSpacing||"",c=t.textTransform||"";return"".concat(e,"|").concat(n,"|").concat(r,"|").concat(i,"|").concat(a,"|").concat(s,"|").concat(c)}var ML=(e,t)=>{try{var n=document.getElementById(CL);n||(n=document.createElement("span"),n.setAttribute("id",CL),n.setAttribute("aria-hidden","true"),document.body.appendChild(n)),Object.assign(n.style,V0e,t),n.textContent="".concat(e);var r=n.getBoundingClientRect();return{width:r.width,height:r.height}}catch{return{width:0,height:0}}},nm=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t==null||vf.isSsr)return{width:0,height:0};if(!Z9.enableCache)return ML(t,n);var r=Z0e(t,n),i=NL.get(r);if(i)return i;var a=ML(t,n);return NL.set(r,a),a},DL=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,PL=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,X0e=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,J0e=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,X9={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},Q0e=Object.keys(X9),Ld="NaN";function eve(e,t){return e*X9[t]}class Ci{static parse(t){var n,[,r,i]=(n=J0e.exec(t))!==null&&n!==void 0?n:[];return new Ci(parseFloat(r),i??"")}constructor(t,n){this.num=t,this.unit=n,this.num=t,this.unit=n,xo(t)&&(this.unit=""),n!==""&&!X0e.test(n)&&(this.num=NaN,this.unit=""),Q0e.includes(n)&&(this.num=eve(t,n),this.unit="px")}add(t){return this.unit!==t.unit?new Ci(NaN,""):new Ci(this.num+t.num,this.unit)}subtract(t){return this.unit!==t.unit?new Ci(NaN,""):new Ci(this.num-t.num,this.unit)}multiply(t){return this.unit!==""&&t.unit!==""&&this.unit!==t.unit?new Ci(NaN,""):new Ci(this.num*t.num,this.unit||t.unit)}divide(t){return this.unit!==""&&t.unit!==""&&this.unit!==t.unit?new Ci(NaN,""):new Ci(this.num/t.num,this.unit||t.unit)}toString(){return"".concat(this.num).concat(this.unit)}isNaN(){return xo(this.num)}}function J9(e){if(e.includes(Ld))return Ld;for(var t=e;t.includes("*")||t.includes("/");){var n,[,r,i,a]=(n=DL.exec(t))!==null&&n!==void 0?n:[],s=Ci.parse(r??""),c=Ci.parse(a??""),d=i==="*"?s.multiply(c):s.divide(c);if(d.isNaN())return Ld;t=t.replace(DL,d.toString())}for(;t.includes("+")||/.-\d+(?:\.\d+)?/.test(t);){var f,[,m,p,y]=(f=PL.exec(t))!==null&&f!==void 0?f:[],b=Ci.parse(m??""),x=Ci.parse(y??""),T=p==="+"?b.add(x):b.subtract(x);if(T.isNaN())return Ld;t=t.replace(PL,T.toString())}return t}var RL=/\(([^()]*)\)/;function tve(e){for(var t=e,n;(n=RL.exec(t))!=null;){var[,r]=n;t=t.replace(RL,J9(r))}return t}function nve(e){var t=e.replace(/\s+/g,"");return t=tve(t),t=J9(t),t}function rve(e){try{return nve(e)}catch{return Ld}}function sS(e){var t=rve(e.slice(5,-1));return t===Ld?"":t}var ive=["x","y","lineHeight","capHeight","fill","scaleToFit","textAnchor","verticalAnchor"],ave=["dx","dy","angle","className","breakAll"];function e2(){return e2=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},e2.apply(null,arguments)}function LL(e,t){if(e==null)return{};var n,r,i=ove(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function ove(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var Q9=/[ \f\n\r\t\v\u2028\u2029]+/,ez=e=>{var{children:t,breakAll:n,style:r}=e;try{var i=[];zr(t)||(n?i=t.toString().split(""):i=t.toString().split(Q9));var a=i.map(c=>({word:c,width:nm(c,r).width})),s=n?0:nm("",r).width;return{wordsWithComputedWidth:a,spaceWidth:s}}catch{return null}};function sve(e){return e==="start"||e==="middle"||e==="end"||e==="inherit"}var tz=(e,t,n,r)=>e.reduce((i,a)=>{var{word:s,width:c}=a,d=i[i.length-1];if(d&&c!=null&&(t==null||r||d.width+c+n<Number(t)))d.words.push(s),d.width+=c+n;else{var f={words:[s],width:c};i.push(f)}return i},[]),nz=e=>e.reduce((t,n)=>t.width>n.width?t:n),lve="",IL=(e,t,n,r,i,a,s,c)=>{var d=e.slice(0,t),f=ez({breakAll:n,style:r,children:d+lve});if(!f)return[!1,[]];var m=tz(f.wordsWithComputedWidth,a,s,c),p=m.length>i||nz(m).width>Number(a);return[p,m]},cve=(e,t,n,r,i)=>{var{maxLines:a,children:s,style:c,breakAll:d}=e,f=nt(a),m=String(s),p=tz(t,r,n,i);if(!f||i)return p;var y=p.length>a||nz(p).width>Number(r);if(!y)return p;for(var b=0,x=m.length-1,T=0,S;b<=x&&T<=m.length-1;){var j=Math.floor((b+x)/2),D=j-1,[O,M]=IL(m,D,d,c,a,r,n,i),[N]=IL(m,j,d,c,a,r,n,i);if(!O&&!N&&(b=j+1),O&&N&&(x=j-1),!O&&N){S=M;break}T++}return S||p},$L=e=>{var t=zr(e)?[]:e.toString().split(Q9);return[{words:t,width:void 0}]},uve=e=>{var{width:t,scaleToFit:n,children:r,style:i,breakAll:a,maxLines:s}=e;if((t||n)&&!vf.isSsr){var c,d,f=ez({breakAll:a,children:r,style:i});if(f){var{wordsWithComputedWidth:m,spaceWidth:p}=f;c=m,d=p}else return $L(r);return cve({breakAll:a,children:r,maxLines:s,style:i},c,d,t,!!n)}return $L(r)},rz="#808080",dve={angle:0,breakAll:!1,capHeight:"0.71em",fill:rz,lineHeight:"1em",scaleToFit:!1,textAnchor:"start",verticalAnchor:"end",x:0,y:0},KT=A.forwardRef((e,t)=>{var n=fa(e,dve),{x:r,y:i,lineHeight:a,capHeight:s,fill:c,scaleToFit:d,textAnchor:f,verticalAnchor:m}=n,p=LL(n,ive),y=A.useMemo(()=>uve({breakAll:p.breakAll,children:p.children,maxLines:p.maxLines,scaleToFit:d,style:p.style,width:p.width}),[p.breakAll,p.children,p.maxLines,d,p.style,p.width]),{dx:b,dy:x,angle:T,className:S,breakAll:j}=p,D=LL(p,ave);if(!Wo(r)||!Wo(i)||y.length===0)return null;var O=Number(r)+(nt(b)?b:0),M=Number(i)+(nt(x)?x:0);if(!Fn(O)||!Fn(M))return null;var N;switch(m){case"start":N=sS("calc(".concat(s,")"));break;case"middle":N=sS("calc(".concat((y.length-1)/2," * -").concat(a," + (").concat(s," / 2))"));break;default:N=sS("calc(".concat(y.length-1," * -").concat(a,")"));break}var R=[];if(d){var $=y[0].width,{width:B}=p;R.push("scale(".concat(nt(B)&&nt($)?B/$:1,")"))}return T&&R.push("rotate(".concat(T,", ").concat(O,", ").concat(M,")")),R.length&&(D.transform=R.join(" ")),A.createElement("text",e2({},Ha(D),{ref:t,x:O,y:M,className:vn("recharts-text",S),textAnchor:f,fill:c.includes("url")?rz:c}),y.map((H,V)=>{var z=H.words.join(j?"":" ");return A.createElement("tspan",{x:O,dy:V===0?N:a,key:"".concat(z,"-").concat(V)},z)}))});KT.displayName="Text";var fve=["labelRef"];function hve(e,t){if(e==null)return{};var n,r,i=mve(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function mve(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function BL(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Kn(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?BL(Object(n),!0).forEach(function(r){pve(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):BL(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function pve(e,t,n){return(t=gve(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function gve(e){var t=vve(e,"string");return typeof t=="symbol"?t:t+""}function vve(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function As(){return As=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},As.apply(null,arguments)}var iz=A.createContext(null),yve=e=>{var{x:t,y:n,upperWidth:r,lowerWidth:i,width:a,height:s,children:c}=e,d=A.useMemo(()=>({x:t,y:n,upperWidth:r,lowerWidth:i,width:a,height:s}),[t,n,r,i,a,s]);return A.createElement(iz.Provider,{value:d},c)},az=()=>{var e=A.useContext(iz),t=wb();return e||v7(t)},bve=A.createContext(null),_ve=()=>{var e=A.useContext(bve),t=it(I6);return e||t},xve=e=>{var{value:t,formatter:n}=e,r=zr(e.children)?t:e.children;return typeof n=="function"?n(r):r},WT=e=>e!=null&&typeof e=="function",wve=(e,t)=>{var n=La(t-e),r=Math.min(Math.abs(t-e),360);return n*r},Sve=(e,t,n,r,i)=>{var{offset:a,className:s}=e,{cx:c,cy:d,innerRadius:f,outerRadius:m,startAngle:p,endAngle:y,clockWise:b}=i,x=(f+m)/2,T=wve(p,y),S=T>=0?1:-1,j,D;switch(t){case"insideStart":j=p+S*a,D=b;break;case"insideEnd":j=y-S*a,D=!b;break;case"end":j=y+S*a,D=b;break;default:throw new Error("Unsupported position ".concat(t))}D=T<=0?D:!D;var O=Br(c,d,x,j),M=Br(c,d,x,j+(D?1:-1)*359),N="M".concat(O.x,",").concat(O.y,`
    A`).concat(x,",").concat(x,",0,1,").concat(D?0:1,`,
    `).concat(M.x,",").concat(M.y),R=zr(e.id)?bm("recharts-radial-line-"):e.id;return A.createElement("text",As({},r,{dominantBaseline:"central",className:vn("recharts-radial-bar-label",s)}),A.createElement("defs",null,A.createElement("path",{id:R,d:N})),A.createElement("textPath",{xlinkHref:"#".concat(R)},n))},Eve=(e,t,n)=>{var{cx:r,cy:i,innerRadius:a,outerRadius:s,startAngle:c,endAngle:d}=e,f=(c+d)/2;if(n==="outside"){var{x:m,y:p}=Br(r,i,s+t,f);return{x:m,y:p,textAnchor:m>=r?"start":"end",verticalAnchor:"middle"}}if(n==="center")return{x:r,y:i,textAnchor:"middle",verticalAnchor:"middle"};if(n==="centerTop")return{x:r,y:i,textAnchor:"middle",verticalAnchor:"start"};if(n==="centerBottom")return{x:r,y:i,textAnchor:"middle",verticalAnchor:"end"};var y=(a+s)/2,{x:b,y:x}=Br(r,i,y,f);return{x:b,y:x,textAnchor:"middle",verticalAnchor:"middle"}},t2=e=>"cx"in e&&nt(e.cx),Ave=(e,t)=>{var{parentViewBox:n,offset:r,position:i}=e,a;n!=null&&!t2(n)&&(a=n);var{x:s,y:c,upperWidth:d,lowerWidth:f,height:m}=t,p=s,y=s+(d-f)/2,b=(p+y)/2,x=(d+f)/2,T=p+d/2,S=m>=0?1:-1,j=S*r,D=S>0?"end":"start",O=S>0?"start":"end",M=d>=0?1:-1,N=M*r,R=M>0?"end":"start",$=M>0?"start":"end";if(i==="top"){var B={x:p+d/2,y:c-j,textAnchor:"middle",verticalAnchor:D};return Kn(Kn({},B),a?{height:Math.max(c-a.y,0),width:d}:{})}if(i==="bottom"){var H={x:y+f/2,y:c+m+j,textAnchor:"middle",verticalAnchor:O};return Kn(Kn({},H),a?{height:Math.max(a.y+a.height-(c+m),0),width:f}:{})}if(i==="left"){var V={x:b-N,y:c+m/2,textAnchor:R,verticalAnchor:"middle"};return Kn(Kn({},V),a?{width:Math.max(V.x-a.x,0),height:m}:{})}if(i==="right"){var z={x:b+x+N,y:c+m/2,textAnchor:$,verticalAnchor:"middle"};return Kn(Kn({},z),a?{width:Math.max(a.x+a.width-z.x,0),height:m}:{})}var F=a?{width:x,height:m}:{};return i==="insideLeft"?Kn({x:b+N,y:c+m/2,textAnchor:$,verticalAnchor:"middle"},F):i==="insideRight"?Kn({x:b+x-N,y:c+m/2,textAnchor:R,verticalAnchor:"middle"},F):i==="insideTop"?Kn({x:p+d/2,y:c+j,textAnchor:"middle",verticalAnchor:O},F):i==="insideBottom"?Kn({x:y+f/2,y:c+m-j,textAnchor:"middle",verticalAnchor:D},F):i==="insideTopLeft"?Kn({x:p+N,y:c+j,textAnchor:$,verticalAnchor:O},F):i==="insideTopRight"?Kn({x:p+d-N,y:c+j,textAnchor:R,verticalAnchor:O},F):i==="insideBottomLeft"?Kn({x:y+N,y:c+m-j,textAnchor:$,verticalAnchor:D},F):i==="insideBottomRight"?Kn({x:y+f-N,y:c+m-j,textAnchor:R,verticalAnchor:D},F):i&&typeof i=="object"&&(nt(i.x)||Ps(i.x))&&(nt(i.y)||Ps(i.y))?Kn({x:s+Wl(i.x,x),y:c+Wl(i.y,m),textAnchor:"end",verticalAnchor:"end"},F):Kn({x:T,y:c+m/2,textAnchor:"middle",verticalAnchor:"middle"},F)},Tve={angle:0,offset:5,zIndex:fi.label,position:"middle",textBreakAll:!1};function $l(e){var t=fa(e,Tve),{viewBox:n,position:r,value:i,children:a,content:s,className:c="",textBreakAll:d,labelRef:f}=t,m=_ve(),p=az(),y=r==="center"?p:m??p,b,x,T;if(n==null?b=y:t2(n)?b=n:b=v7(n),!b||zr(i)&&zr(a)&&!A.isValidElement(s)&&typeof s!="function")return null;var S=Kn(Kn({},t),{},{viewBox:b});if(A.isValidElement(s)){var{labelRef:j}=S,D=hve(S,fve);return A.cloneElement(s,D)}if(typeof s=="function"){if(x=A.createElement(s,S),A.isValidElement(x))return x}else x=xve(t);var O=Ha(t);if(t2(b)){if(r==="insideStart"||r==="insideEnd"||r==="end")return Sve(t,r,x,O,b);T=Eve(b,t.offset,t.position)}else T=Ave(t,b);return A.createElement(Vs,{zIndex:t.zIndex},A.createElement(KT,As({ref:f,className:vn("recharts-label",c)},O,T,{textAnchor:sve(O.textAnchor)?O.textAnchor:T.textAnchor,breakAll:d}),x))}$l.displayName="Label";var kve=(e,t,n)=>{if(!e)return null;var r={viewBox:t,labelRef:n};return e===!0?A.createElement($l,As({key:"label-implicit"},r)):Wo(e)?A.createElement($l,As({key:"label-implicit",value:e},r)):A.isValidElement(e)?e.type===$l?A.cloneElement(e,Kn({key:"label-implicit"},r)):A.createElement($l,As({key:"label-implicit",content:e},r)):WT(e)?A.createElement($l,As({key:"label-implicit",content:e},r)):e&&typeof e=="object"?A.createElement($l,As({},e,{key:"label-implicit"},r)):null};function Ove(e){var{label:t,labelRef:n}=e,r=az();return kve(t,r,n)||null}var lS={},cS={},zL;function jve(){return zL||(zL=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return n[n.length-1]}e.last=t})(cS)),cS}var uS={},UL;function Nve(){return UL||(UL=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return Array.isArray(n)?n:Array.from(n)}e.toArray=t})(uS)),uS}var HL;function Cve(){return HL||(HL=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=jve(),n=Nve(),r=LA();function i(a){if(r.isArrayLike(a))return t.last(n.toArray(a))}e.last=i})(lS)),lS}var dS,FL;function Mve(){return FL||(FL=1,dS=Cve().last),dS}var Dve=Mve();const Pve=Li(Dve);var Rve=["valueAccessor"],Lve=["dataKey","clockWise","id","textBreakAll","zIndex"];function yy(){return yy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},yy.apply(null,arguments)}function GL(e,t){if(e==null)return{};var n,r,i=Ive(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function Ive(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var $ve=e=>Array.isArray(e.value)?Pve(e.value):e.value,oz=A.createContext(void 0),Bve=oz.Provider,sz=A.createContext(void 0);sz.Provider;function zve(){return A.useContext(oz)}function Uve(){return A.useContext(sz)}function uv(e){var{valueAccessor:t=$ve}=e,n=GL(e,Rve),{dataKey:r,clockWise:i,id:a,textBreakAll:s,zIndex:c}=n,d=GL(n,Lve),f=zve(),m=Uve(),p=f||m;return!p||!p.length?null:A.createElement(Vs,{zIndex:c??fi.label},A.createElement(Ko,{className:"recharts-label-list"},p.map((y,b)=>{var x,T=zr(r)?t(y,b):ti(y&&y.payload,r),S=zr(a)?{}:{id:"".concat(a,"-").concat(b)};return A.createElement($l,yy({key:"label-".concat(b)},Ha(y),d,S,{fill:(x=n.fill)!==null&&x!==void 0?x:y.fill,parentViewBox:y.parentViewBox,value:T,textBreakAll:s,viewBox:y.viewBox,index:b,zIndex:0}))})))}uv.displayName="LabelList";function Hve(e){var{label:t}=e;return t?t===!0?A.createElement(uv,{key:"labelList-implicit"}):A.isValidElement(t)||WT(t)?A.createElement(uv,{key:"labelList-implicit",content:t}):typeof t=="object"?A.createElement(uv,yy({key:"labelList-implicit"},t,{type:String(t.type)})):null:null}function n2(){return n2=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},n2.apply(null,arguments)}var lz=e=>{var{cx:t,cy:n,r,className:i}=e,a=vn("recharts-dot",i);return nt(t)&&nt(n)&&nt(r)?A.createElement("circle",n2({},_o(e),RA(e),{className:a,cx:t,cy:n,r})):null},Fve={radiusAxis:{},angleAxis:{}},cz=Ii({name:"polarAxis",initialState:Fve,reducers:{addRadiusAxis(e,t){e.radiusAxis[t.payload.id]=t.payload},removeRadiusAxis(e,t){delete e.radiusAxis[t.payload.id]},addAngleAxis(e,t){e.angleAxis[t.payload.id]=t.payload},removeAngleAxis(e,t){delete e.angleAxis[t.payload.id]}}}),{addRadiusAxis:G1e,removeRadiusAxis:q1e,addAngleAxis:Y1e,removeAngleAxis:K1e}=cz.actions,Gve=cz.reducer,fS={exports:{}},Ft={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var qL;function qve(){if(qL)return Ft;qL=1;var e=typeof Symbol=="function"&&Symbol.for,t=e?Symbol.for("react.element"):60103,n=e?Symbol.for("react.portal"):60106,r=e?Symbol.for("react.fragment"):60107,i=e?Symbol.for("react.strict_mode"):60108,a=e?Symbol.for("react.profiler"):60114,s=e?Symbol.for("react.provider"):60109,c=e?Symbol.for("react.context"):60110,d=e?Symbol.for("react.async_mode"):60111,f=e?Symbol.for("react.concurrent_mode"):60111,m=e?Symbol.for("react.forward_ref"):60112,p=e?Symbol.for("react.suspense"):60113,y=e?Symbol.for("react.suspense_list"):60120,b=e?Symbol.for("react.memo"):60115,x=e?Symbol.for("react.lazy"):60116,T=e?Symbol.for("react.block"):60121,S=e?Symbol.for("react.fundamental"):60117,j=e?Symbol.for("react.responder"):60118,D=e?Symbol.for("react.scope"):60119;function O(N){if(typeof N=="object"&&N!==null){var R=N.$$typeof;switch(R){case t:switch(N=N.type,N){case d:case f:case r:case a:case i:case p:return N;default:switch(N=N&&N.$$typeof,N){case c:case m:case x:case b:case s:return N;default:return R}}case n:return R}}}function M(N){return O(N)===f}return Ft.AsyncMode=d,Ft.ConcurrentMode=f,Ft.ContextConsumer=c,Ft.ContextProvider=s,Ft.Element=t,Ft.ForwardRef=m,Ft.Fragment=r,Ft.Lazy=x,Ft.Memo=b,Ft.Portal=n,Ft.Profiler=a,Ft.StrictMode=i,Ft.Suspense=p,Ft.isAsyncMode=function(N){return M(N)||O(N)===d},Ft.isConcurrentMode=M,Ft.isContextConsumer=function(N){return O(N)===c},Ft.isContextProvider=function(N){return O(N)===s},Ft.isElement=function(N){return typeof N=="object"&&N!==null&&N.$$typeof===t},Ft.isForwardRef=function(N){return O(N)===m},Ft.isFragment=function(N){return O(N)===r},Ft.isLazy=function(N){return O(N)===x},Ft.isMemo=function(N){return O(N)===b},Ft.isPortal=function(N){return O(N)===n},Ft.isProfiler=function(N){return O(N)===a},Ft.isStrictMode=function(N){return O(N)===i},Ft.isSuspense=function(N){return O(N)===p},Ft.isValidElementType=function(N){return typeof N=="string"||typeof N=="function"||N===r||N===f||N===a||N===i||N===p||N===y||typeof N=="object"&&N!==null&&(N.$$typeof===x||N.$$typeof===b||N.$$typeof===s||N.$$typeof===c||N.$$typeof===m||N.$$typeof===S||N.$$typeof===j||N.$$typeof===D||N.$$typeof===T)},Ft.typeOf=O,Ft}var YL;function Yve(){return YL||(YL=1,fS.exports=qve()),fS.exports}Yve();var uz=e=>e&&typeof e=="object"&&"clipDot"in e?!!e.clipDot:!0;function Kve(e){var{tooltipEntrySettings:t}=e,n=kr(),r=$i(),i=A.useRef(null);return A.useLayoutEffect(()=>{r||(i.current===null?n(Cpe(t)):i.current!==t&&n(Mpe({prev:i.current,next:t})),i.current=t)},[t,n,r]),A.useLayoutEffect(()=>()=>{i.current&&(n(Dpe(i.current)),i.current=null)},[n]),null}function Wve(e){var{legendPayload:t}=e,n=kr(),r=$i(),i=A.useRef(null);return A.useLayoutEffect(()=>{r||(i.current===null?n(sue(t)):i.current!==t&&n(lue({prev:i.current,next:t})),i.current=t)},[n,r,t]),A.useLayoutEffect(()=>()=>{i.current&&(n(cue(i.current)),i.current=null)},[n]),null}var hS,Vve=()=>{var[e]=A.useState(()=>bm("uid-"));return e},Zve=(hS=SU.useId)!==null&&hS!==void 0?hS:Vve;function dz(e,t){var n=Zve();return t||(e?"".concat(e,"-").concat(n):n)}var Xve=A.createContext(void 0),Jve=e=>{var{id:t,type:n,children:r}=e,i=dz("recharts-".concat(n),t);return A.createElement(Xve.Provider,{value:i},r(i))},Qve={cartesianItems:[],polarItems:[]},fz=Ii({name:"graphicalItems",initialState:Qve,reducers:{addCartesianGraphicalItem:{reducer(e,t){e.cartesianItems.push(t.payload)},prepare:En()},replaceCartesianGraphicalItem:{reducer(e,t){var{prev:n,next:r}=t.payload,i=bo(e).cartesianItems.indexOf(n);i>-1&&(e.cartesianItems[i]=r)},prepare:En()},removeCartesianGraphicalItem:{reducer(e,t){var n=bo(e).cartesianItems.indexOf(t.payload);n>-1&&e.cartesianItems.splice(n,1)},prepare:En()},addPolarGraphicalItem:{reducer(e,t){e.polarItems.push(t.payload)},prepare:En()},removePolarGraphicalItem:{reducer(e,t){var n=bo(e).polarItems.indexOf(t.payload);n>-1&&e.polarItems.splice(n,1)},prepare:En()}}}),{addCartesianGraphicalItem:eye,replaceCartesianGraphicalItem:tye,removeCartesianGraphicalItem:nye,addPolarGraphicalItem:W1e,removePolarGraphicalItem:V1e}=fz.actions,rye=fz.reducer,iye=e=>{var t=kr(),n=A.useRef(null);return A.useLayoutEffect(()=>{n.current===null?t(eye(e)):n.current!==e&&t(tye({prev:n.current,next:e})),n.current=e},[t,e]),A.useLayoutEffect(()=>()=>{n.current&&(t(nye(n.current)),n.current=null)},[t]),null},aye=A.memo(iye),oye=["points"];function KL(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function mS(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?KL(Object(n),!0).forEach(function(r){sye(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):KL(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function sye(e,t,n){return(t=lye(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function lye(e){var t=cye(e,"string");return typeof t=="symbol"?t:t+""}function cye(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function by(){return by=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},by.apply(null,arguments)}function uye(e,t){if(e==null)return{};var n,r,i=dye(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function dye(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function fye(e){var{option:t,dotProps:n,className:r}=e;if(A.isValidElement(t))return A.cloneElement(t,n);if(typeof t=="function")return t(n);var i=vn(r,typeof t!="boolean"?t.className:""),a=n??{},{points:s}=a,c=uye(a,oye);return A.createElement(lz,by({},c,{className:i}))}function hye(e,t){return e==null?!1:t?!0:e.length===1}function mye(e){var{points:t,dot:n,className:r,dotClassName:i,dataKey:a,baseProps:s,needClip:c,clipPathId:d,zIndex:f=fi.scatter}=e;if(!hye(t,n))return null;var m=uz(n),p=Soe(n),y=t.map((x,T)=>{var S,j,D=mS(mS(mS({r:3},s),p),{},{index:T,cx:(S=x.x)!==null&&S!==void 0?S:void 0,cy:(j=x.y)!==null&&j!==void 0?j:void 0,dataKey:a,value:x.value,payload:x.payload,points:t});return A.createElement(fye,{key:"dot-".concat(T),option:n,dotProps:D,className:i})}),b={};return c&&d!=null&&(b.clipPath="url(#clipPath-".concat(m?"":"dots-").concat(d,")")),A.createElement(Vs,{zIndex:f},A.createElement(Ko,by({className:r},b),y))}function WL(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function VL(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?WL(Object(n),!0).forEach(function(r){pye(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):WL(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function pye(e,t,n){return(t=gye(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function gye(e){var t=vye(e,"string");return typeof t=="symbol"?t:t+""}function vye(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var yye={xAxis:{},yAxis:{},zAxis:{}},hz=Ii({name:"cartesianAxis",initialState:yye,reducers:{addXAxis:{reducer(e,t){e.xAxis[t.payload.id]=t.payload},prepare:En()},replaceXAxis:{reducer(e,t){var{prev:n,next:r}=t.payload;e.xAxis[n.id]!==void 0&&(n.id!==r.id&&delete e.xAxis[n.id],e.xAxis[r.id]=r)},prepare:En()},removeXAxis:{reducer(e,t){delete e.xAxis[t.payload.id]},prepare:En()},addYAxis:{reducer(e,t){e.yAxis[t.payload.id]=t.payload},prepare:En()},replaceYAxis:{reducer(e,t){var{prev:n,next:r}=t.payload;e.yAxis[n.id]!==void 0&&(n.id!==r.id&&delete e.yAxis[n.id],e.yAxis[r.id]=r)},prepare:En()},removeYAxis:{reducer(e,t){delete e.yAxis[t.payload.id]},prepare:En()},addZAxis:{reducer(e,t){e.zAxis[t.payload.id]=t.payload},prepare:En()},replaceZAxis:{reducer(e,t){var{prev:n,next:r}=t.payload;e.zAxis[n.id]!==void 0&&(n.id!==r.id&&delete e.zAxis[n.id],e.zAxis[r.id]=r)},prepare:En()},removeZAxis:{reducer(e,t){delete e.zAxis[t.payload.id]},prepare:En()},updateYAxisWidth(e,t){var{id:n,width:r}=t.payload,i=e.yAxis[n];if(i){var a=i.widthHistory||[];if(a.length===3&&a[0]===a[2]&&r===a[1]&&r!==i.width&&Math.abs(r-a[0])<=1)return;var s=[...a,r].slice(-3);e.yAxis[n]=VL(VL({},e.yAxis[n]),{},{width:r,widthHistory:s})}}}}),{addXAxis:bye,replaceXAxis:_ye,removeXAxis:xye,addYAxis:wye,replaceYAxis:Sye,removeYAxis:Eye,addZAxis:Z1e,replaceZAxis:X1e,removeZAxis:J1e,updateYAxisWidth:Aye}=hz.actions,Tye=hz.reducer,kye=Oe([Ur],e=>({top:e.top,bottom:e.bottom,left:e.left,right:e.right})),Oye=Oe([kye,Fs,Gs],(e,t,n)=>{if(!(!e||t==null||n==null))return{x:e.left,y:e.top,width:Math.max(0,t-e.left-e.right),height:Math.max(0,n-e.top-e.bottom)}}),VT=()=>it(Oye),jye=()=>it(Age);function ZL(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function pS(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?ZL(Object(n),!0).forEach(function(r){Nye(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ZL(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Nye(e,t,n){return(t=Cye(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Cye(e){var t=Mye(e,"string");return typeof t=="symbol"?t:t+""}function Mye(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Dye=e=>{var{point:t,childIndex:n,mainColor:r,activeDot:i,dataKey:a,clipPath:s}=e;if(i===!1||t.x==null||t.y==null)return null;var c={index:n,dataKey:a,cx:t.x,cy:t.y,r:4,fill:r??"none",strokeWidth:2,stroke:"#fff",payload:t.payload,value:t.value},d=pS(pS(pS({},c),ab(i)),RA(i)),f;return A.isValidElement(i)?f=A.cloneElement(i,d):typeof i=="function"?f=i(d):f=A.createElement(lz,d),A.createElement(Ko,{className:"recharts-active-dot",clipPath:s},f)};function XL(e){var{points:t,mainColor:n,activeDot:r,itemDataKey:i,clipPath:a,zIndex:s=fi.activeDot}=e,c=it(Mm),d=jye();if(t==null||d==null)return null;var f=t.find(m=>d.includes(m.payload));return zr(f)?null:A.createElement(Vs,{zIndex:s},A.createElement(Dye,{point:f,childIndex:Number(c),mainColor:n,dataKey:i,activeDot:r,clipPath:a}))}var Pye={},mz=Ii({name:"errorBars",initialState:Pye,reducers:{addErrorBar:(e,t)=>{var{itemId:n,errorBar:r}=t.payload;e[n]||(e[n]=[]),e[n].push(r)},replaceErrorBar:(e,t)=>{var{itemId:n,prev:r,next:i}=t.payload;e[n]&&(e[n]=e[n].map(a=>a.dataKey===r.dataKey&&a.direction===r.direction?i:a))},removeErrorBar:(e,t)=>{var{itemId:n,errorBar:r}=t.payload;e[n]&&(e[n]=e[n].filter(i=>i.dataKey!==r.dataKey||i.direction!==r.direction))}}}),{addErrorBar:Q1e,replaceErrorBar:eSe,removeErrorBar:tSe}=mz.actions,Rye=mz.reducer;function pz(e,t){var n,r,i=it(f=>Ys(f,e)),a=it(f=>Ks(f,t)),s=(n=i?.allowDataOverflow)!==null&&n!==void 0?n:_r.allowDataOverflow,c=(r=a?.allowDataOverflow)!==null&&r!==void 0?r:xr.allowDataOverflow,d=s||c;return{needClip:d,needClipX:s,needClipY:c}}function Lye(e){var{xAxisId:t,yAxisId:n,clipPathId:r}=e,i=VT(),{needClipX:a,needClipY:s,needClip:c}=pz(t,n);if(!c||!i)return null;var{x:d,y:f,width:m,height:p}=i;return A.createElement("clipPath",{id:"clipPath-".concat(r)},A.createElement("rect",{x:a?d:d-m/2,y:s?f:f-p/2,width:a?m:m*2,height:s?p:p*2}))}var Iye=new Set(["axisLine","tickLine","activeBar","activeDot","activeLabel","activeShape","allowEscapeViewBox","background","cursor","dot","label","line","margin","padding","position","shape","style","tick","wrapperStyle"]);function $ye(e,t){return e==null&&t==null?!0:typeof e=="number"&&typeof t=="number"?e===t||e!==e&&t!==t:e===t}function ZT(e,t){var n=new Set([...Object.keys(e),...Object.keys(t)]);for(var r of n)if(Iye.has(r)){if(e[r]==null&&t[r]==null)continue;if(!ev(e[r],t[r]))return!1}else if(!$ye(e[r],t[r]))return!1;return!0}var Bye=e=>{var{chartData:t}=e,n=kr(),r=$i();return A.useEffect(()=>r?()=>{}:(n(EL(t)),()=>{n(EL(void 0))}),[t,n,r]),null},JL={x:0,y:0,width:0,height:0,padding:{top:0,right:0,bottom:0,left:0}},gz=Ii({name:"brush",initialState:JL,reducers:{setBrushSettings(e,t){return t.payload==null?JL:t.payload}}}),{setBrushSettings:nSe}=gz.actions,zye=gz.reducer;function Uye(e,t,n){return(t=Hye(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Hye(e){var t=Fye(e,"string");return typeof t=="symbol"?t:t+""}function Fye(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class XT{static create(t){return new XT(t)}constructor(t){this.scale=t}get domain(){return this.scale.domain}get range(){return this.scale.range}get rangeMin(){return this.range()[0]}get rangeMax(){return this.range()[1]}get bandwidth(){return this.scale.bandwidth}apply(t){var{bandAware:n,position:r}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t!==void 0){if(r)switch(r){case"start":return this.scale(t);case"middle":{var i=this.bandwidth?this.bandwidth()/2:0;return this.scale(t)+i}case"end":{var a=this.bandwidth?this.bandwidth():0;return this.scale(t)+a}default:return this.scale(t)}if(n){var s=this.bandwidth?this.bandwidth()/2:0;return this.scale(t)+s}return this.scale(t)}}isInRange(t){var n=this.range(),r=n[0],i=n[n.length-1];return r<=i?t>=r&&t<=i:t>=i&&t<=r}}Uye(XT,"EPS",1e-4);function Gye(e){return(e%180+180)%180}var qye=function(t){var{width:n,height:r}=t,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,a=Gye(i),s=a*Math.PI/180,c=Math.atan(r/n),d=s>c&&s<Math.PI-c?r/Math.sin(s):n/Math.cos(s);return Math.abs(d)},Yye={dots:[],areas:[],lines:[]},vz=Ii({name:"referenceElements",initialState:Yye,reducers:{addDot:(e,t)=>{e.dots.push(t.payload)},removeDot:(e,t)=>{var n=bo(e).dots.findIndex(r=>r===t.payload);n!==-1&&e.dots.splice(n,1)},addArea:(e,t)=>{e.areas.push(t.payload)},removeArea:(e,t)=>{var n=bo(e).areas.findIndex(r=>r===t.payload);n!==-1&&e.areas.splice(n,1)},addLine:(e,t)=>{e.lines.push(t.payload)},removeLine:(e,t)=>{var n=bo(e).lines.findIndex(r=>r===t.payload);n!==-1&&e.lines.splice(n,1)}}}),{addDot:rSe,removeDot:iSe,addArea:aSe,removeArea:oSe,addLine:sSe,removeLine:lSe}=vz.actions,Kye=vz.reducer,Wye=A.createContext(void 0),Vye=e=>{var{children:t}=e,[n]=A.useState("".concat(bm("recharts"),"-clip")),r=VT();if(r==null)return null;var{x:i,y:a,width:s,height:c}=r;return A.createElement(Wye.Provider,{value:n},A.createElement("defs",null,A.createElement("clipPath",{id:n},A.createElement("rect",{x:i,y:a,height:c,width:s}))),t)};function yz(e,t){if(t<1)return[];if(t===1)return e;for(var n=[],r=0;r<e.length;r+=t)n.push(e[r]);return n}function Zye(e,t,n){var r={width:e.width+t.width,height:e.height+t.height};return qye(r,n)}function Xye(e,t,n){var r=n==="width",{x:i,y:a,width:s,height:c}=e;return t===1?{start:r?i:a,end:r?i+s:a+c}:{start:r?i+s:a+c,end:r?i:a}}function _y(e,t,n,r,i){if(e*t<e*r||e*t>e*i)return!1;var a=n();return e*(t-e*a/2-r)>=0&&e*(t+e*a/2-i)<=0}function Jye(e,t){return yz(e,t+1)}function Qye(e,t,n,r,i){for(var a=(r||[]).slice(),{start:s,end:c}=t,d=0,f=1,m=s,p=function(){var x=r?.[d];if(x===void 0)return{v:yz(r,f)};var T=d,S,j=()=>(S===void 0&&(S=n(x,T)),S),D=x.coordinate,O=d===0||_y(e,D,j,m,c);O||(d=0,m=s,f+=1),O&&(m=D+e*(j()/2+i),d+=f)},y;f<=a.length;)if(y=p(),y)return y.v;return[]}function QL(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Jr(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?QL(Object(n),!0).forEach(function(r){ebe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):QL(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function ebe(e,t,n){return(t=tbe(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function tbe(e){var t=nbe(e,"string");return typeof t=="symbol"?t:t+""}function nbe(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function rbe(e,t,n,r,i){for(var a=(r||[]).slice(),s=a.length,{start:c}=t,{end:d}=t,f=function(y){var b=a[y],x,T=()=>(x===void 0&&(x=n(b,y)),x);if(y===s-1){var S=e*(b.coordinate+e*T()/2-d);a[y]=b=Jr(Jr({},b),{},{tickCoord:S>0?b.coordinate-S*e:b.coordinate})}else a[y]=b=Jr(Jr({},b),{},{tickCoord:b.coordinate});if(b.tickCoord!=null){var j=_y(e,b.tickCoord,T,c,d);j&&(d=b.tickCoord-e*(T()/2+i),a[y]=Jr(Jr({},b),{},{isShow:!0}))}},m=s-1;m>=0;m--)f(m);return a}function ibe(e,t,n,r,i,a){var s=(r||[]).slice(),c=s.length,{start:d,end:f}=t;if(a){var m=r[c-1],p=n(m,c-1),y=e*(m.coordinate+e*p/2-f);if(s[c-1]=m=Jr(Jr({},m),{},{tickCoord:y>0?m.coordinate-y*e:m.coordinate}),m.tickCoord!=null){var b=_y(e,m.tickCoord,()=>p,d,f);b&&(f=m.tickCoord-e*(p/2+i),s[c-1]=Jr(Jr({},m),{},{isShow:!0}))}}for(var x=a?c-1:c,T=function(D){var O=s[D],M,N=()=>(M===void 0&&(M=n(O,D)),M);if(D===0){var R=e*(O.coordinate-e*N()/2-d);s[D]=O=Jr(Jr({},O),{},{tickCoord:R<0?O.coordinate-R*e:O.coordinate})}else s[D]=O=Jr(Jr({},O),{},{tickCoord:O.coordinate});if(O.tickCoord!=null){var $=_y(e,O.tickCoord,N,d,f);$&&(d=O.tickCoord+e*(N()/2+i),s[D]=Jr(Jr({},O),{},{isShow:!0}))}},S=0;S<x;S++)T(S);return s}function JT(e,t,n){var{tick:r,ticks:i,viewBox:a,minTickGap:s,orientation:c,interval:d,tickFormatter:f,unit:m,angle:p}=e;if(!i||!i.length||!r)return[];if(nt(d)||vf.isSsr){var y;return(y=Jye(i,nt(d)?d:0))!==null&&y!==void 0?y:[]}var b=[],x=c==="top"||c==="bottom"?"width":"height",T=m&&x==="width"?nm(m,{fontSize:t,letterSpacing:n}):{width:0,height:0},S=(O,M)=>{var N=typeof f=="function"?f(O.value,M):O.value;return x==="width"?Zye(nm(N,{fontSize:t,letterSpacing:n}),T,p):nm(N,{fontSize:t,letterSpacing:n})[x]},j=i.length>=2?La(i[1].coordinate-i[0].coordinate):1,D=Xye(a,j,x);return d==="equidistantPreserveStart"?Qye(j,D,S,i,s):(d==="preserveStart"||d==="preserveStartEnd"?b=ibe(j,D,S,i,s,d==="preserveStartEnd"):b=rbe(j,D,S,i,s),b.filter(O=>O.isShow))}var abe=e=>{var{ticks:t,label:n,labelGapWithTick:r=5,tickSize:i=0,tickMargin:a=0}=e,s=0;if(t){Array.from(t).forEach(m=>{if(m){var p=m.getBoundingClientRect();p.width>s&&(s=p.width)}});var c=n?n.getBoundingClientRect().width:0,d=i+a,f=s+d+c+(n?r:0);return Math.round(f)}return 0},obe=["axisLine","width","height","className","hide","ticks","axisType"];function sbe(e,t){if(e==null)return{};var n,r,i=lbe(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function lbe(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function bu(){return bu=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},bu.apply(null,arguments)}function e3(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function nr(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?e3(Object(n),!0).forEach(function(r){cbe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):e3(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function cbe(e,t,n){return(t=ube(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ube(e){var t=dbe(e,"string");return typeof t=="symbol"?t:t+""}function dbe(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Cs={x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd",zIndex:fi.axis};function fbe(e){var{x:t,y:n,width:r,height:i,orientation:a,mirror:s,axisLine:c,otherSvgProps:d}=e;if(!c)return null;var f=nr(nr(nr({},d),_o(c)),{},{fill:"none"});if(a==="top"||a==="bottom"){var m=+(a==="top"&&!s||a==="bottom"&&s);f=nr(nr({},f),{},{x1:t,y1:n+m*i,x2:t+r,y2:n+m*i})}else{var p=+(a==="left"&&!s||a==="right"&&s);f=nr(nr({},f),{},{x1:t+p*r,y1:n,x2:t+p*r,y2:n+i})}return A.createElement("line",bu({},f,{className:vn("recharts-cartesian-axis-line",lb(c,"className"))}))}function hbe(e,t,n,r,i,a,s,c,d){var f,m,p,y,b,x,T=c?-1:1,S=e.tickSize||s,j=nt(e.tickCoord)?e.tickCoord:e.coordinate;switch(a){case"top":f=m=e.coordinate,y=n+ +!c*i,p=y-T*S,x=p-T*d,b=j;break;case"left":p=y=e.coordinate,m=t+ +!c*r,f=m-T*S,b=f-T*d,x=j;break;case"right":p=y=e.coordinate,m=t+ +c*r,f=m+T*S,b=f+T*d,x=j;break;default:f=m=e.coordinate,y=n+ +c*i,p=y+T*S,x=p+T*d,b=j;break}return{line:{x1:f,y1:p,x2:m,y2:y},tick:{x:b,y:x}}}function mbe(e,t){switch(e){case"left":return t?"start":"end";case"right":return t?"end":"start";default:return"middle"}}function pbe(e,t){switch(e){case"left":case"right":return"middle";case"top":return t?"start":"end";default:return t?"end":"start"}}function gbe(e){var{option:t,tickProps:n,value:r}=e,i,a=vn(n.className,"recharts-cartesian-axis-tick-value");if(A.isValidElement(t))i=A.cloneElement(t,nr(nr({},n),{},{className:a}));else if(typeof t=="function")i=t(nr(nr({},n),{},{className:a}));else{var s="recharts-cartesian-axis-tick-value";typeof t!="boolean"&&(s=vn(s,t?.className)),i=A.createElement(KT,bu({},n,{className:s}),r)}return i}var vbe=A.forwardRef((e,t)=>{var{ticks:n=[],tick:r,tickLine:i,stroke:a,tickFormatter:s,unit:c,padding:d,tickTextProps:f,orientation:m,mirror:p,x:y,y:b,width:x,height:T,tickSize:S,tickMargin:j,fontSize:D,letterSpacing:O,getTicksConfig:M,events:N,axisType:R}=e,$=JT(nr(nr({},M),{},{ticks:n}),D,O),B=mbe(m,p),H=pbe(m,p),V=_o(M),z=ab(r),F={};typeof i=="object"&&(F=i);var Q=nr(nr({},V),{},{fill:"none"},F),ee=$.map(le=>nr({entry:le},hbe(le,y,b,x,T,m,S,p,j))),be=ee.map(le=>{var{entry:ae,line:me}=le;return A.createElement(Ko,{className:"recharts-cartesian-axis-tick",key:"tick-".concat(ae.value,"-").concat(ae.coordinate,"-").concat(ae.tickCoord)},i&&A.createElement("line",bu({},Q,me,{className:vn("recharts-cartesian-axis-tick-line",lb(i,"className"))})))}),J=ee.map((le,ae)=>{var{entry:me,tick:ne}=le,q=nr(nr(nr(nr({textAnchor:B,verticalAnchor:H},V),{},{stroke:"none",fill:a},z),ne),{},{index:ae,payload:me,visibleTicksCount:$.length,tickFormatter:s,padding:d},f);return A.createElement(Ko,bu({className:"recharts-cartesian-axis-tick-label",key:"tick-label-".concat(me.value,"-").concat(me.coordinate,"-").concat(me.tickCoord)},ase(N,me,ae)),r&&A.createElement(gbe,{option:r,tickProps:q,value:"".concat(typeof s=="function"?s(me.value,ae):me.value).concat(c||"")}))});return A.createElement("g",{className:"recharts-cartesian-axis-ticks recharts-".concat(R,"-ticks")},J.length>0&&A.createElement(Vs,{zIndex:fi.label},A.createElement("g",{className:"recharts-cartesian-axis-tick-labels recharts-".concat(R,"-tick-labels"),ref:t},J)),be.length>0&&A.createElement("g",{className:"recharts-cartesian-axis-tick-lines recharts-".concat(R,"-tick-lines")},be))}),ybe=A.forwardRef((e,t)=>{var{axisLine:n,width:r,height:i,className:a,hide:s,ticks:c,axisType:d}=e,f=sbe(e,obe),[m,p]=A.useState(""),[y,b]=A.useState(""),x=A.useRef(null);A.useImperativeHandle(t,()=>({getCalculatedWidth:()=>{var S;return abe({ticks:x.current,label:(S=e.labelRef)===null||S===void 0?void 0:S.current,labelGapWithTick:5,tickSize:e.tickSize,tickMargin:e.tickMargin})}}));var T=A.useCallback(S=>{if(S){var j=S.getElementsByClassName("recharts-cartesian-axis-tick-value");x.current=j;var D=j[0];if(D){var O=window.getComputedStyle(D),M=O.fontSize,N=O.letterSpacing;(M!==m||N!==y)&&(p(M),b(N))}}},[m,y]);return s||r!=null&&r<=0||i!=null&&i<=0?null:A.createElement(Vs,{zIndex:e.zIndex},A.createElement(Ko,{className:vn("recharts-cartesian-axis",a)},A.createElement(fbe,{x:e.x,y:e.y,width:r,height:i,orientation:e.orientation,mirror:e.mirror,axisLine:n,otherSvgProps:_o(e)}),A.createElement(vbe,{ref:T,axisType:d,events:f,fontSize:m,getTicksConfig:e,height:e.height,letterSpacing:y,mirror:e.mirror,orientation:e.orientation,padding:e.padding,stroke:e.stroke,tick:e.tick,tickFormatter:e.tickFormatter,tickLine:e.tickLine,tickMargin:e.tickMargin,tickSize:e.tickSize,tickTextProps:e.tickTextProps,ticks:c,unit:e.unit,width:e.width,x:e.x,y:e.y}),A.createElement(yve,{x:e.x,y:e.y,width:e.width,height:e.height,lowerWidth:e.width,upperWidth:e.width},A.createElement(Ove,{label:e.label,labelRef:e.labelRef}),e.children)))}),QT=A.forwardRef((e,t)=>{var n=fa(e,Cs);return A.createElement(ybe,bu({},n,{ref:t}))});QT.displayName="CartesianAxis";var bbe=["x1","y1","x2","y2","key"],_be=["offset"],xbe=["xAxisId","yAxisId"],wbe=["xAxisId","yAxisId"];function t3(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Qr(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?t3(Object(n),!0).forEach(function(r){Sbe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):t3(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Sbe(e,t,n){return(t=Ebe(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Ebe(e){var t=Abe(e,"string");return typeof t=="symbol"?t:t+""}function Abe(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function au(){return au=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},au.apply(null,arguments)}function xy(e,t){if(e==null)return{};var n,r,i=Tbe(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function Tbe(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var kbe=e=>{var{fill:t}=e;if(!t||t==="none")return null;var{fillOpacity:n,x:r,y:i,width:a,height:s,ry:c}=e;return A.createElement("rect",{x:r,y:i,ry:c,width:a,height:s,stroke:"none",fill:t,fillOpacity:n,className:"recharts-cartesian-grid-bg"})};function bz(e){var{option:t,lineItemProps:n}=e,r;if(A.isValidElement(t))r=A.cloneElement(t,n);else if(typeof t=="function")r=t(n);else{var i,{x1:a,y1:s,x2:c,y2:d,key:f}=n,m=xy(n,bbe),p=(i=_o(m))!==null&&i!==void 0?i:{},{offset:y}=p,b=xy(p,_be);r=A.createElement("line",au({},b,{x1:a,y1:s,x2:c,y2:d,fill:"none",key:f}))}return r}function Obe(e){var{x:t,width:n,horizontal:r=!0,horizontalPoints:i}=e;if(!r||!i||!i.length)return null;var{xAxisId:a,yAxisId:s}=e,c=xy(e,xbe),d=i.map((f,m)=>{var p=Qr(Qr({},c),{},{x1:t,y1:f,x2:t+n,y2:f,key:"line-".concat(m),index:m});return A.createElement(bz,{key:"line-".concat(m),option:r,lineItemProps:p})});return A.createElement("g",{className:"recharts-cartesian-grid-horizontal"},d)}function jbe(e){var{y:t,height:n,vertical:r=!0,verticalPoints:i}=e;if(!r||!i||!i.length)return null;var{xAxisId:a,yAxisId:s}=e,c=xy(e,wbe),d=i.map((f,m)=>{var p=Qr(Qr({},c),{},{x1:f,y1:t,x2:f,y2:t+n,key:"line-".concat(m),index:m});return A.createElement(bz,{option:r,lineItemProps:p,key:"line-".concat(m)})});return A.createElement("g",{className:"recharts-cartesian-grid-vertical"},d)}function Nbe(e){var{horizontalFill:t,fillOpacity:n,x:r,y:i,width:a,height:s,horizontalPoints:c,horizontal:d=!0}=e;if(!d||!t||!t.length||c==null)return null;var f=c.map(p=>Math.round(p+i-i)).sort((p,y)=>p-y);i!==f[0]&&f.unshift(0);var m=f.map((p,y)=>{var b=!f[y+1],x=b?i+s-p:f[y+1]-p;if(x<=0)return null;var T=y%t.length;return A.createElement("rect",{key:"react-".concat(y),y:p,x:r,height:x,width:a,stroke:"none",fill:t[T],fillOpacity:n,className:"recharts-cartesian-grid-bg"})});return A.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},m)}function Cbe(e){var{vertical:t=!0,verticalFill:n,fillOpacity:r,x:i,y:a,width:s,height:c,verticalPoints:d}=e;if(!t||!n||!n.length)return null;var f=d.map(p=>Math.round(p+i-i)).sort((p,y)=>p-y);i!==f[0]&&f.unshift(0);var m=f.map((p,y)=>{var b=!f[y+1],x=b?i+s-p:f[y+1]-p;if(x<=0)return null;var T=y%n.length;return A.createElement("rect",{key:"react-".concat(y),x:p,y:a,width:x,height:c,stroke:"none",fill:n[T],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return A.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},m)}var Mbe=(e,t)=>{var{xAxis:n,width:r,height:i,offset:a}=e;return c7(JT(Qr(Qr(Qr({},Cs),n),{},{ticks:u7(n),viewBox:{x:0,y:0,width:r,height:i}})),a.left,a.left+a.width,t)},Dbe=(e,t)=>{var{yAxis:n,width:r,height:i,offset:a}=e;return c7(JT(Qr(Qr(Qr({},Cs),n),{},{ticks:u7(n),viewBox:{x:0,y:0,width:r,height:i}})),a.top,a.top+a.height,t)},Pbe={horizontal:!0,vertical:!0,horizontalPoints:[],verticalPoints:[],stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[],xAxisId:0,yAxisId:0,syncWithTicks:!1,zIndex:fi.grid};function _z(e){var t=b7(),n=_7(),r=y7(),i=Qr(Qr({},fa(e,Pbe)),{},{x:nt(e.x)?e.x:r.left,y:nt(e.y)?e.y:r.top,width:nt(e.width)?e.width:r.width,height:nt(e.height)?e.height:r.height}),{xAxisId:a,yAxisId:s,x:c,y:d,width:f,height:m,syncWithTicks:p,horizontalValues:y,verticalValues:b}=i,x=$i(),T=it(H=>fL(H,"xAxis",a,x)),S=it(H=>fL(H,"yAxis",s,x));if(!Vo(f)||!Vo(m)||!nt(c)||!nt(d))return null;var j=i.verticalCoordinatesGenerator||Mbe,D=i.horizontalCoordinatesGenerator||Dbe,{horizontalPoints:O,verticalPoints:M}=i;if((!O||!O.length)&&typeof D=="function"){var N=y&&y.length,R=D({yAxis:S?Qr(Qr({},S),{},{ticks:N?y:S.ticks}):void 0,width:t??f,height:n??m,offset:r},N?!0:p);Zv(Array.isArray(R),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(typeof R,"]")),Array.isArray(R)&&(O=R)}if((!M||!M.length)&&typeof j=="function"){var $=b&&b.length,B=j({xAxis:T?Qr(Qr({},T),{},{ticks:$?b:T.ticks}):void 0,width:t??f,height:n??m,offset:r},$?!0:p);Zv(Array.isArray(B),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(typeof B,"]")),Array.isArray(B)&&(M=B)}return A.createElement(Vs,{zIndex:i.zIndex},A.createElement("g",{className:"recharts-cartesian-grid"},A.createElement(kbe,{fill:i.fill,fillOpacity:i.fillOpacity,x:i.x,y:i.y,width:i.width,height:i.height,ry:i.ry}),A.createElement(Nbe,au({},i,{horizontalPoints:O})),A.createElement(Cbe,au({},i,{verticalPoints:M})),A.createElement(Obe,au({},i,{offset:r,horizontalPoints:O,xAxis:T,yAxis:S})),A.createElement(jbe,au({},i,{offset:r,verticalPoints:M,xAxis:T,yAxis:S}))))}_z.displayName="CartesianGrid";function Rbe(e){var t=ab(e),n=3,r=2;if(t!=null){var{r:i,strokeWidth:a}=t,s=Number(i),c=Number(a);return(Number.isNaN(s)||s<0)&&(s=n),(Number.isNaN(c)||c<0)&&(c=r),{r:s,strokeWidth:c}}return{r:n,strokeWidth:r}}var xz=(e,t,n,r)=>x9(e,"xAxis",t,r),wz=(e,t,n,r)=>_9(e,"xAxis",t,r),Sz=(e,t,n,r)=>x9(e,"yAxis",n,r),Ez=(e,t,n,r)=>_9(e,"yAxis",n,r),Lbe=Oe([dn,xz,Sz,wz,Ez],(e,t,n,r,i)=>Hs(e,"xAxis")?Vv(t,r,!1):Vv(n,i,!1)),Ibe=(e,t,n,r,i)=>i,Az=Oe([F6,Ibe],(e,t)=>e.filter(n=>n.type==="area").find(n=>n.id===t)),$be=(e,t,n,r,i)=>{var a,s=Az(e,t,n,r,i);if(s!=null){var c=dn(e),d=Hs(c,"xAxis"),f;if(d?f=VE(e,"yAxis",n,r):f=VE(e,"xAxis",t,r),f!=null){var{stackId:m}=s,p=TT(s);if(!(m==null||p==null)){var y=(a=f[m])===null||a===void 0?void 0:a.stackedData;return y?.find(b=>b.key===p)}}}},Bbe=Oe([dn,xz,Sz,wz,Ez,$be,vT,Lbe,Az,wme],(e,t,n,r,i,a,s,c,d,f)=>{var{chartData:m,dataStartIndex:p,dataEndIndex:y}=s;if(!(d==null||e!=="horizontal"&&e!=="vertical"||t==null||n==null||r==null||i==null||r.length===0||i.length===0||c==null)){var{data:b}=d,x;if(b&&b.length>0?x=b:x=m?.slice(p,y+1),x!=null)return i_e({layout:e,xAxis:t,yAxis:n,xAxisTicks:r,yAxisTicks:i,dataStartIndex:p,areaSettings:d,stackedData:a,displayedData:x,chartBaseValue:f,bandSize:c})}}),zbe=["id"],Ube=["activeDot","animationBegin","animationDuration","animationEasing","connectNulls","dot","fill","fillOpacity","hide","isAnimationActive","legendType","stroke","xAxisId","yAxisId"];function fu(){return fu=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},fu.apply(null,arguments)}function Tz(e,t){if(e==null)return{};var n,r,i=Hbe(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function Hbe(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function n3(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Id(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?n3(Object(n),!0).forEach(function(r){Fbe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):n3(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Fbe(e,t,n){return(t=Gbe(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Gbe(e){var t=qbe(e,"string");return typeof t=="symbol"?t:t+""}function qbe(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function wy(e,t){return e&&e!=="none"?e:t}var Ybe=e=>{var{dataKey:t,name:n,stroke:r,fill:i,legendType:a,hide:s}=e;return[{inactive:s,dataKey:t,type:a,color:wy(r,i),value:d7(n,t),payload:e}]},Kbe=A.memo(e=>{var{dataKey:t,data:n,stroke:r,strokeWidth:i,fill:a,name:s,hide:c,unit:d,tooltipType:f}=e,m={dataDefinedOnItem:n,positions:void 0,settings:{stroke:r,strokeWidth:i,fill:a,dataKey:t,nameKey:void 0,name:d7(s,t),hide:c,type:f,color:wy(r,a),unit:d}};return A.createElement(Kve,{tooltipEntrySettings:m})});function Wbe(e){var{clipPathId:t,points:n,props:r}=e,{needClip:i,dot:a,dataKey:s}=r,c=_o(r);return A.createElement(mye,{points:n,dot:a,className:"recharts-area-dots",dotClassName:"recharts-area-dot",dataKey:s,baseProps:c,needClip:i,clipPathId:t})}function Vbe(e){var{showLabels:t,children:n,points:r}=e,i=r.map(a=>{var s,c,d={x:(s=a.x)!==null&&s!==void 0?s:0,y:(c=a.y)!==null&&c!==void 0?c:0,width:0,lowerWidth:0,upperWidth:0,height:0};return Id(Id({},d),{},{value:a.value,payload:a.payload,parentViewBox:void 0,viewBox:d,fill:void 0})});return A.createElement(Bve,{value:t?i:void 0},n)}function r3(e){var{points:t,baseLine:n,needClip:r,clipPathId:i,props:a}=e,{layout:s,type:c,stroke:d,connectNulls:f,isRange:m}=a,{id:p}=a,y=Tz(a,zbe),b=_o(y),x=Ha(y);return A.createElement(A.Fragment,null,t?.length>1&&A.createElement(Ko,{clipPath:r?"url(#clipPath-".concat(i,")"):void 0},A.createElement(lv,fu({},x,{id:p,points:t,connectNulls:f,type:c,baseLine:n,layout:s,stroke:"none",className:"recharts-area-area"})),d!=="none"&&A.createElement(lv,fu({},b,{className:"recharts-area-curve",layout:s,type:c,connectNulls:f,fill:"none",points:t})),d!=="none"&&m&&A.createElement(lv,fu({},b,{className:"recharts-area-curve",layout:s,type:c,connectNulls:f,fill:"none",points:n}))),A.createElement(Wbe,{points:t,props:y,clipPathId:i}))}function Zbe(e){var{alpha:t,baseLine:n,points:r,strokeWidth:i}=e,a=r[0].y,s=r[r.length-1].y;if(!Fn(a)||!Fn(s))return null;var c=t*Math.abs(a-s),d=Math.max(...r.map(f=>f.x||0));return nt(n)?d=Math.max(n,d):n&&Array.isArray(n)&&n.length&&(d=Math.max(...n.map(f=>f.x||0),d)),nt(d)?A.createElement("rect",{x:0,y:a<s?a:a-c,width:d+(i?parseInt("".concat(i),10):1),height:Math.floor(c)}):null}function Xbe(e){var{alpha:t,baseLine:n,points:r,strokeWidth:i}=e,a=r[0].x,s=r[r.length-1].x;if(!Fn(a)||!Fn(s))return null;var c=t*Math.abs(a-s),d=Math.max(...r.map(f=>f.y||0));return nt(n)?d=Math.max(n,d):n&&Array.isArray(n)&&n.length&&(d=Math.max(...n.map(f=>f.y||0),d)),nt(d)?A.createElement("rect",{x:a<s?a:a-c,y:0,width:c,height:Math.floor(d+(i?parseInt("".concat(i),10):1))}):null}function Jbe(e){var{alpha:t,layout:n,points:r,baseLine:i,strokeWidth:a}=e;return n==="vertical"?A.createElement(Zbe,{alpha:t,points:r,baseLine:i,strokeWidth:a}):A.createElement(Xbe,{alpha:t,points:r,baseLine:i,strokeWidth:a})}function Qbe(e){var{needClip:t,clipPathId:n,props:r,previousPointsRef:i,previousBaselineRef:a}=e,{points:s,baseLine:c,isAnimationActive:d,animationBegin:f,animationDuration:m,animationEasing:p,onAnimationStart:y,onAnimationEnd:b}=r,x=A.useMemo(()=>({points:s,baseLine:c}),[s,c]),T=D7(x,"recharts-area-"),S=Kce(),[j,D]=A.useState(!1),O=!j,M=A.useCallback(()=>{typeof b=="function"&&b(),D(!1)},[b]),N=A.useCallback(()=>{typeof y=="function"&&y(),D(!0)},[y]);if(S==null)return null;var R=i.current,$=a.current;return A.createElement(Vbe,{showLabels:O,points:s},r.children,A.createElement(M7,{animationId:T,begin:f,duration:m,isActive:d,easing:p,onAnimationEnd:M,onAnimationStart:N,key:T},B=>{if(R){var H=R.length/s.length,V=B===1?s:s.map((F,Q)=>{var ee=Math.floor(Q*H);if(R[ee]){var be=R[ee];return Id(Id({},F),{},{x:Ho(be.x,F.x,B),y:Ho(be.y,F.y,B)})}return F}),z;return nt(c)?z=Ho($,c,B):zr(c)||xo(c)?z=Ho($,0,B):z=c.map((F,Q)=>{var ee=Math.floor(Q*H);if(Array.isArray($)&&$[ee]){var be=$[ee];return Id(Id({},F),{},{x:Ho(be.x,F.x,B),y:Ho(be.y,F.y,B)})}return F}),B>0&&(i.current=V,a.current=z),A.createElement(r3,{points:V,baseLine:z,needClip:t,clipPathId:n,props:r})}return B>0&&(i.current=s,a.current=c),A.createElement(Ko,null,d&&A.createElement("defs",null,A.createElement("clipPath",{id:"animationClipPath-".concat(n)},A.createElement(Jbe,{alpha:B,points:s,baseLine:c,layout:S,strokeWidth:r.strokeWidth}))),A.createElement(Ko,{clipPath:"url(#animationClipPath-".concat(n,")")},A.createElement(r3,{points:s,baseLine:c,needClip:t,clipPathId:n,props:r})))}),A.createElement(Hve,{label:r.label}))}function e_e(e){var{needClip:t,clipPathId:n,props:r}=e,i=A.useRef(null),a=A.useRef();return A.createElement(Qbe,{needClip:t,clipPathId:n,props:r,previousPointsRef:i,previousBaselineRef:a})}class t_e extends A.PureComponent{render(){var{hide:t,dot:n,points:r,className:i,top:a,left:s,needClip:c,xAxisId:d,yAxisId:f,width:m,height:p,id:y,baseLine:b,zIndex:x}=this.props;if(t)return null;var T=vn("recharts-area",i),S=y,{r:j,strokeWidth:D}=Rbe(n),O=uz(n),M=j*2+D,N=c?"url(#clipPath-".concat(O?"":"dots-").concat(S,")"):void 0;return A.createElement(Vs,{zIndex:x},A.createElement(Ko,{className:T},c&&A.createElement("defs",null,A.createElement(Lye,{clipPathId:S,xAxisId:d,yAxisId:f}),!O&&A.createElement("clipPath",{id:"clipPath-dots-".concat(S)},A.createElement("rect",{x:s-M/2,y:a-M/2,width:m+M,height:p+M}))),A.createElement(e_e,{needClip:c,clipPathId:S,props:this.props})),A.createElement(XL,{points:r,mainColor:wy(this.props.stroke,this.props.fill),itemDataKey:this.props.dataKey,activeDot:this.props.activeDot,clipPath:N}),this.props.isRange&&Array.isArray(b)&&A.createElement(XL,{points:b,mainColor:wy(this.props.stroke,this.props.fill),itemDataKey:this.props.dataKey,activeDot:this.props.activeDot,clipPath:N}))}}var kz={activeDot:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",connectNulls:!1,dot:!1,fill:"#3182bd",fillOpacity:.6,hide:!1,isAnimationActive:"auto",legendType:"line",stroke:"#3182bd",strokeWidth:1,type:"linear",label:!1,xAxisId:0,yAxisId:0,zIndex:fi.area};function n_e(e){var t,n=fa(e,kz),{activeDot:r,animationBegin:i,animationDuration:a,animationEasing:s,connectNulls:c,dot:d,fill:f,fillOpacity:m,hide:p,isAnimationActive:y,legendType:b,stroke:x,xAxisId:T,yAxisId:S}=n,j=Tz(n,Ube),D=np(),O=H9(),{needClip:M}=pz(T,S),N=$i(),{points:R,isRange:$,baseLine:B}=(t=it(ee=>Bbe(ee,T,S,N,e.id)))!==null&&t!==void 0?t:{},H=VT();if(D!=="horizontal"&&D!=="vertical"||H==null||O!=="AreaChart"&&O!=="ComposedChart")return null;var{height:V,width:z,x:F,y:Q}=H;return!R||!R.length?null:A.createElement(t_e,fu({},j,{activeDot:r,animationBegin:i,animationDuration:a,animationEasing:s,baseLine:B,connectNulls:c,dot:d,fill:f,fillOpacity:m,height:V,hide:p,layout:D,isAnimationActive:y==="auto"?!vf.isSsr:y,isRange:$,legendType:b,needClip:M,points:R,stroke:x,width:z,left:F,top:Q,xAxisId:T,yAxisId:S}))}var r_e=(e,t,n,r,i)=>{var a=n??t;if(nt(a))return a;var s=e==="horizontal"?i:r,c=s.scale.domain();if(s.type==="number"){var d=Math.max(c[0],c[1]),f=Math.min(c[0],c[1]);return a==="dataMin"?f:a==="dataMax"||d<0?d:Math.max(Math.min(c[0],c[1]),0)}return a==="dataMin"?c[0]:a==="dataMax"?c[1]:c[0]};function i_e(e){var{areaSettings:{connectNulls:t,baseValue:n,dataKey:r},stackedData:i,layout:a,chartBaseValue:s,xAxis:c,yAxis:d,displayedData:f,dataStartIndex:m,xAxisTicks:p,yAxisTicks:y,bandSize:b}=e,x=i&&i.length,T=r_e(a,s,n,c,d),S=a==="horizontal",j=!1,D=f.map((M,N)=>{var R;x?R=i[m+N]:(R=ti(M,r),Array.isArray(R)?j=!0:R=[T,R]);var $=R[1]==null||x&&!t&&ti(M,r)==null;return S?{x:RP({axis:c,ticks:p,bandSize:b,entry:M,index:N}),y:$?null:d.scale(R[1]),value:R,payload:M}:{x:$?null:c.scale(R[1]),y:RP({axis:d,ticks:y,bandSize:b,entry:M,index:N}),value:R,payload:M}}),O;return x||j?O=D.map(M=>{var N=Array.isArray(M.value)?M.value[0]:null;return S?{x:M.x,y:N!=null&&M.y!=null?d.scale(N):null,payload:M.payload}:{x:N!=null?c.scale(N):null,y:M.y,payload:M.payload}}):O=S?d.scale(T):c.scale(T),{points:D,baseLine:O,isRange:j}}function a_e(e){var t=fa(e,kz),n=$i();return A.createElement(Jve,{id:t.id,type:"area"},r=>A.createElement(A.Fragment,null,A.createElement(Wve,{legendPayload:Ybe(t)}),A.createElement(Kbe,{dataKey:t.dataKey,data:t.data,stroke:t.stroke,strokeWidth:t.strokeWidth,fill:t.fill,name:t.name,hide:t.hide,unit:t.unit,tooltipType:t.tooltipType}),A.createElement(aye,{type:"area",id:r,data:t.data,dataKey:t.dataKey,xAxisId:t.xAxisId,yAxisId:t.yAxisId,zAxisId:0,stackId:cce(t.stackId),hide:t.hide,barSize:void 0,baseValue:t.baseValue,isPanorama:n,connectNulls:t.connectNulls}),A.createElement(n_e,fu({},t,{id:r}))))}var Oz=A.memo(a_e,ZT);Oz.displayName="Area";var o_e=["domain","range"],s_e=["domain","range"];function i3(e,t){if(e==null)return{};var n,r,i=l_e(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function l_e(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function a3(e,t){return e===t?!0:Array.isArray(e)&&e.length===2&&Array.isArray(t)&&t.length===2?e[0]===t[0]&&e[1]===t[1]:!1}function jz(e,t){if(e===t)return!0;var{domain:n,range:r}=e,i=i3(e,o_e),{domain:a,range:s}=t,c=i3(t,s_e);return!a3(n,a)||!a3(r,s)?!1:ZT(i,c)}var c_e=["dangerouslySetInnerHTML","ticks"],u_e=["id"];function r2(){return r2=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},r2.apply(null,arguments)}function o3(e,t){if(e==null)return{};var n,r,i=d_e(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function d_e(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function f_e(e){var t=kr(),n=A.useRef(null);return A.useLayoutEffect(()=>{n.current===null?t(bye(e)):n.current!==e&&t(_ye({prev:n.current,next:e})),n.current=e},[e,t]),A.useLayoutEffect(()=>()=>{n.current&&(t(xye(n.current)),n.current=null)},[t]),null}var h_e=e=>{var{xAxisId:t,className:n}=e,r=it(h7),i=$i(),a="xAxis",s=it(S=>Sf(S,a,t,i)),c=it(S=>b9(S,a,t,i)),d=it(S=>mpe(S,t)),f=it(S=>_pe(S,t)),m=it(S=>B6(S,t));if(d==null||f==null||m==null)return null;var{dangerouslySetInnerHTML:p,ticks:y}=e,b=o3(e,c_e),{id:x}=m,T=o3(m,u_e);return A.createElement(QT,r2({},b,T,{scale:s,x:f.x,y:f.y,width:d.width,height:d.height,className:vn("recharts-".concat(a," ").concat(a),n),viewBox:r,ticks:c,axisType:a}))},m_e={allowDataOverflow:_r.allowDataOverflow,allowDecimals:_r.allowDecimals,allowDuplicatedCategory:_r.allowDuplicatedCategory,angle:_r.angle,axisLine:Cs.axisLine,height:_r.height,hide:!1,includeHidden:_r.includeHidden,interval:_r.interval,minTickGap:_r.minTickGap,mirror:_r.mirror,orientation:_r.orientation,padding:_r.padding,reversed:_r.reversed,scale:_r.scale,tick:_r.tick,tickCount:_r.tickCount,tickLine:Cs.tickLine,tickSize:Cs.tickSize,type:_r.type,xAxisId:0},p_e=e=>{var t=fa(e,m_e);return A.createElement(A.Fragment,null,A.createElement(f_e,{allowDataOverflow:t.allowDataOverflow,allowDecimals:t.allowDecimals,allowDuplicatedCategory:t.allowDuplicatedCategory,angle:t.angle,dataKey:t.dataKey,domain:t.domain,height:t.height,hide:t.hide,id:t.xAxisId,includeHidden:t.includeHidden,interval:t.interval,minTickGap:t.minTickGap,mirror:t.mirror,name:t.name,orientation:t.orientation,padding:t.padding,reversed:t.reversed,scale:t.scale,tick:t.tick,tickCount:t.tickCount,tickFormatter:t.tickFormatter,ticks:t.ticks,type:t.type,unit:t.unit}),A.createElement(h_e,t))},Nz=A.memo(p_e,jz);Nz.displayName="XAxis";var g_e=["dangerouslySetInnerHTML","ticks"],v_e=["id"];function i2(){return i2=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i2.apply(null,arguments)}function s3(e,t){if(e==null)return{};var n,r,i=y_e(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function y_e(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function b_e(e){var t=kr(),n=A.useRef(null);return A.useLayoutEffect(()=>{n.current===null?t(wye(e)):n.current!==e&&t(Sye({prev:n.current,next:e})),n.current=e},[e,t]),A.useLayoutEffect(()=>()=>{n.current&&(t(Eye(n.current)),n.current=null)},[t]),null}var __e=e=>{var{yAxisId:t,className:n,width:r,label:i}=e,a=A.useRef(null),s=A.useRef(null),c=it(h7),d=$i(),f=kr(),m="yAxis",p=it(N=>Sf(N,m,t,d)),y=it(N=>Spe(N,t)),b=it(N=>wpe(N,t)),x=it(N=>b9(N,m,t,d)),T=it(N=>z6(N,t));if(A.useLayoutEffect(()=>{if(!(r!=="auto"||!y||WT(i)||A.isValidElement(i)||T==null)){var N=a.current;if(N){var R=N.getCalculatedWidth();Math.round(y.width)!==Math.round(R)&&f(Aye({id:t,width:R}))}}},[x,y,f,i,t,r,T]),y==null||b==null||T==null)return null;var{dangerouslySetInnerHTML:S,ticks:j}=e,D=s3(e,g_e),{id:O}=T,M=s3(T,v_e);return A.createElement(QT,i2({},D,M,{ref:a,labelRef:s,scale:p,x:b.x,y:b.y,tickTextProps:r==="auto"?{width:void 0}:{width:r},width:y.width,height:y.height,className:vn("recharts-".concat(m," ").concat(m),n),viewBox:c,ticks:x,axisType:m}))},x_e={allowDataOverflow:xr.allowDataOverflow,allowDecimals:xr.allowDecimals,allowDuplicatedCategory:xr.allowDuplicatedCategory,angle:xr.angle,axisLine:Cs.axisLine,hide:!1,includeHidden:xr.includeHidden,interval:xr.interval,minTickGap:xr.minTickGap,mirror:xr.mirror,orientation:xr.orientation,padding:xr.padding,reversed:xr.reversed,scale:xr.scale,tick:xr.tick,tickCount:xr.tickCount,tickLine:Cs.tickLine,tickSize:Cs.tickSize,type:xr.type,width:xr.width,yAxisId:0},w_e=e=>{var t=fa(e,x_e);return A.createElement(A.Fragment,null,A.createElement(b_e,{interval:t.interval,id:t.yAxisId,scale:t.scale,type:t.type,domain:t.domain,allowDataOverflow:t.allowDataOverflow,dataKey:t.dataKey,allowDuplicatedCategory:t.allowDuplicatedCategory,allowDecimals:t.allowDecimals,tickCount:t.tickCount,padding:t.padding,includeHidden:t.includeHidden,reversed:t.reversed,ticks:t.ticks,width:t.width,orientation:t.orientation,mirror:t.mirror,hide:t.hide,unit:t.unit,name:t.name,angle:t.angle,minTickGap:t.minTickGap,tick:t.tick,tickFormatter:t.tickFormatter}),A.createElement(__e,t))},Cz=A.memo(w_e,jz);Cz.displayName="YAxis";var S_e=(e,t)=>t,ek=Oe([S_e,dn,I6,dr,L9,Ws,Ige,Ur],Gge),tk=e=>{var t=e.currentTarget.getBoundingClientRect(),n=t.width/e.currentTarget.offsetWidth,r=t.height/e.currentTarget.offsetHeight;return{chartX:Math.round((e.clientX-t.left)/n),chartY:Math.round((e.clientY-t.top)/r)}},Mz=Fa("mouseClick"),Dz=ep();Dz.startListening({actionCreator:Mz,effect:(e,t)=>{var n=e.payload,r=ek(t.getState(),tk(n));r?.activeIndex!=null&&t.dispatch(Lpe({activeIndex:r.activeIndex,activeDataKey:void 0,activeCoordinate:r.activeCoordinate}))}});var a2=Fa("mouseMove"),Pz=ep(),L0=null;Pz.startListening({actionCreator:a2,effect:(e,t)=>{var n=e.payload;L0!==null&&cancelAnimationFrame(L0);var r=tk(n);L0=requestAnimationFrame(()=>{var i=t.getState(),a=IT(i,i.tooltip.settings.shared);if(a==="axis"){var s=ek(i,r);s?.activeIndex!=null?t.dispatch(O9({activeIndex:s.activeIndex,activeDataKey:void 0,activeCoordinate:s.activeCoordinate})):t.dispatch(k9())}L0=null})}});var l3={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,barSize:void 0,className:void 0,maxBarSize:void 0,stackOffset:"none",syncId:void 0,syncMethod:"index",baseValue:void 0,reverseStackOrder:!1},Rz=Ii({name:"rootProps",initialState:l3,reducers:{updateOptions:(e,t)=>{var n;e.accessibilityLayer=t.payload.accessibilityLayer,e.barCategoryGap=t.payload.barCategoryGap,e.barGap=(n=t.payload.barGap)!==null&&n!==void 0?n:l3.barGap,e.barSize=t.payload.barSize,e.maxBarSize=t.payload.maxBarSize,e.stackOffset=t.payload.stackOffset,e.syncId=t.payload.syncId,e.syncMethod=t.payload.syncMethod,e.className=t.payload.className,e.baseValue=t.payload.baseValue,e.reverseStackOrder=t.payload.reverseStackOrder}}}),E_e=Rz.reducer,{updateOptions:A_e}=Rz.actions,Lz=Ii({name:"polarOptions",initialState:null,reducers:{updatePolarOptions:(e,t)=>t.payload}}),{updatePolarOptions:cSe}=Lz.actions,T_e=Lz.reducer,Iz=Fa("keyDown"),$z=Fa("focus"),nk=ep();nk.startListening({actionCreator:Iz,effect:(e,t)=>{var n=t.getState(),r=n.rootProps.accessibilityLayer!==!1;if(r){var{keyboardInteraction:i}=n.tooltip,a=e.payload;if(!(a!=="ArrowRight"&&a!=="ArrowLeft"&&a!=="Enter")){var s=$T(i,Af(n),up(n),pp(n)),c=s==null?-1:Number(s);if(!(!Number.isFinite(c)||c<0)){var d=Ws(n);if(a==="Enter"){var f=vy(n,"axis","hover",String(i.index));t.dispatch(XE({active:!i.active,activeIndex:i.index,activeDataKey:i.dataKey,activeCoordinate:f}));return}var m=kpe(n),p=m==="left-to-right"?1:-1,y=a==="ArrowRight"?1:-1,b=c+y*p;if(!(d==null||b>=d.length||b<0)){var x=vy(n,"axis","hover",String(b));t.dispatch(XE({active:!0,activeIndex:b.toString(),activeDataKey:void 0,activeCoordinate:x}))}}}}}});nk.startListening({actionCreator:$z,effect:(e,t)=>{var n=t.getState(),r=n.rootProps.accessibilityLayer!==!1;if(r){var{keyboardInteraction:i}=n.tooltip;if(!i.active&&i.index==null){var a="0",s=vy(n,"axis","hover",String(a));t.dispatch(XE({activeDataKey:void 0,active:!0,activeIndex:a,activeCoordinate:s}))}}}});var Na=Fa("externalEvent"),Bz=ep(),gS=new Map;Bz.startListening({actionCreator:Na,effect:(e,t)=>{var{handler:n,reactEvent:r}=e.payload;if(n!=null){r.persist();var i=r.type,a=gS.get(i);a!==void 0&&cancelAnimationFrame(a);var s=requestAnimationFrame(()=>{try{var c=t.getState(),d={activeCoordinate:wge(c),activeDataKey:_ge(c),activeIndex:Mm(c),activeLabel:B9(c),activeTooltipIndex:Mm(c),isTooltipActive:Sge(c)};n(d,r)}finally{gS.delete(i)}});gS.set(i,s)}}});var k_e=Oe([Ef],e=>e.tooltipItemPayloads),O_e=Oe([k_e,hp,(e,t,n)=>t,(e,t,n)=>n],(e,t,n,r)=>{var i=e.find(c=>c.settings.dataKey===r);if(i!=null){var{positions:a}=i;if(a!=null){var s=t(a,n);return s}}}),zz=Fa("touchMove"),Uz=ep();Uz.startListening({actionCreator:zz,effect:(e,t)=>{var n=e.payload;if(!(n.touches==null||n.touches.length===0)){var r=t.getState(),i=IT(r,r.tooltip.settings.shared);if(i==="axis"){var a=ek(r,tk({clientX:n.touches[0].clientX,clientY:n.touches[0].clientY,currentTarget:n.currentTarget}));a?.activeIndex!=null&&t.dispatch(O9({activeIndex:a.activeIndex,activeDataKey:void 0,activeCoordinate:a.activeCoordinate}))}else if(i==="item"){var s,c=n.touches[0];if(document.elementFromPoint==null)return;var d=document.elementFromPoint(c.clientX,c.clientY);if(!d||!d.getAttribute)return;var f=d.getAttribute(gce),m=(s=d.getAttribute(vce))!==null&&s!==void 0?s:void 0,p=O_e(t.getState(),f,m);t.dispatch(Rpe({activeDataKey:m,activeIndex:f,activeCoordinate:p}))}}}});var j_e=P$({brush:zye,cartesianAxis:Tye,chartData:w0e,errorBars:Rye,graphicalItems:rye,layout:Qle,legend:uue,options:v0e,polarAxis:Gve,polarOptions:T_e,referenceElements:Kye,rootProps:E_e,tooltip:Ipe,zIndex:i0e}),N_e=function(t){return Ele({reducer:j_e,preloadedState:t,middleware:n=>{var r;return n({serializableCheck:!1,immutableCheck:!["commonjs","es6","production"].includes((r="es6")!==null&&r!==void 0?r:"")}).concat([Dz.middleware,Pz.middleware,nk.middleware,Bz.middleware,Uz.middleware])},enhancers:n=>{var r=n;return typeof n=="function"&&(r=n()),r.concat(V4({type:"raf"}))},devTools:vf.devToolsEnabled})};function C_e(e){var{preloadedState:t,children:n,reduxStoreName:r}=e,i=$i(),a=A.useRef(null);if(i)return n;a.current==null&&(a.current=N_e(t));var s=IA;return A.createElement(F$,{context:s,store:a.current},n)}function M_e(e){var{layout:t,margin:n}=e,r=kr(),i=$i();return A.useEffect(()=>{i||(r(Zle(t)),r(Vle(n)))},[r,i,t,n]),null}var D_e=A.memo(M_e,ZT);function P_e(e){var t=kr();return A.useEffect(()=>{t(A_e(e))},[t,e]),null}function c3(e){var{zIndex:t,isPanorama:n}=e,r=n?"recharts-zindex-panorama-":"recharts-zindex-",i=dz("".concat(r).concat(t)),a=kr();return A.useLayoutEffect(()=>(a(n0e({zIndex:t,elementId:i,isPanorama:n})),()=>{a(r0e({zIndex:t,isPanorama:n}))}),[a,t,i,n]),A.createElement("g",{tabIndex:-1,id:i})}function u3(e){var{children:t,isPanorama:n}=e,r=it(Yge);if(!r||r.length===0)return t;var i=r.filter(s=>s<0),a=r.filter(s=>s>0);return A.createElement(A.Fragment,null,i.map(s=>A.createElement(c3,{key:s,zIndex:s,isPanorama:n})),t,a.map(s=>A.createElement(c3,{key:s,zIndex:s,isPanorama:n})))}var R_e=["children"];function L_e(e,t){if(e==null)return{};var n,r,i=I_e(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function I_e(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function Sy(){return Sy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Sy.apply(null,arguments)}var $_e={width:"100%",height:"100%",display:"block"},B_e=A.forwardRef((e,t)=>{var n=b7(),r=_7(),i=O7();if(!Vo(n)||!Vo(r))return null;var{children:a,otherAttributes:s,title:c,desc:d}=e,f,m;return s!=null&&(typeof s.tabIndex=="number"?f=s.tabIndex:f=i?0:void 0,typeof s.role=="string"?m=s.role:m=i?"application":void 0),A.createElement(i4,Sy({},s,{title:c,desc:d,role:m,tabIndex:f,width:n,height:r,style:$_e,ref:t}),a)}),z_e=e=>{var{children:t}=e,n=it(xb);if(!n)return null;var{width:r,height:i,y:a,x:s}=n;return A.createElement(i4,{width:r,height:i,x:s,y:a},t)},d3=A.forwardRef((e,t)=>{var{children:n}=e,r=L_e(e,R_e),i=$i();return i?A.createElement(z_e,null,A.createElement(u3,{isPanorama:!0},n)):A.createElement(B_e,Sy({ref:t},r),A.createElement(u3,{isPanorama:!1},n))});function U_e(){var e=kr(),[t,n]=A.useState(null),r=it(pce);return A.useEffect(()=>{if(t!=null){var i=t.getBoundingClientRect(),a=i.width/t.offsetWidth;Fn(a)&&a!==r&&e(Jle(a))}},[t,e,r]),n}function f3(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function H_e(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?f3(Object(n),!0).forEach(function(r){F_e(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):f3(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function F_e(e,t,n){return(t=G_e(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function G_e(e){var t=q_e(e,"string");return typeof t=="symbol"?t:t+""}function q_e(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function _u(){return _u=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},_u.apply(null,arguments)}var Y_e=()=>(C0e(),null);function Ey(e){if(typeof e=="number")return e;if(typeof e=="string"){var t=parseFloat(e);if(!Number.isNaN(t))return t}return 0}var K_e=A.forwardRef((e,t)=>{var n,r,i=A.useRef(null),[a,s]=A.useState({containerWidth:Ey((n=e.style)===null||n===void 0?void 0:n.width),containerHeight:Ey((r=e.style)===null||r===void 0?void 0:r.height)}),c=A.useCallback((f,m)=>{s(p=>{var y=Math.round(f),b=Math.round(m);return p.containerWidth===y&&p.containerHeight===b?p:{containerWidth:y,containerHeight:b}})},[]),d=A.useCallback(f=>{if(typeof t=="function"&&t(f),f!=null&&typeof ResizeObserver<"u"){var{width:m,height:p}=f.getBoundingClientRect();c(m,p);var y=x=>{var{width:T,height:S}=x[0].contentRect;c(T,S)},b=new ResizeObserver(y);b.observe(f),i.current=b}},[t,c]);return A.useEffect(()=>()=>{var f=i.current;f?.disconnect()},[c]),A.createElement(A.Fragment,null,A.createElement(Sb,{width:a.containerWidth,height:a.containerHeight}),A.createElement("div",_u({ref:d},e)))}),W_e=A.forwardRef((e,t)=>{var{width:n,height:r}=e,[i,a]=A.useState({containerWidth:Ey(n),containerHeight:Ey(r)}),s=A.useCallback((d,f)=>{a(m=>{var p=Math.round(d),y=Math.round(f);return m.containerWidth===p&&m.containerHeight===y?m:{containerWidth:p,containerHeight:y}})},[]),c=A.useCallback(d=>{if(typeof t=="function"&&t(d),d!=null){var{width:f,height:m}=d.getBoundingClientRect();s(f,m)}},[t,s]);return A.createElement(A.Fragment,null,A.createElement(Sb,{width:i.containerWidth,height:i.containerHeight}),A.createElement("div",_u({ref:c},e)))}),V_e=A.forwardRef((e,t)=>{var{width:n,height:r}=e;return A.createElement(A.Fragment,null,A.createElement(Sb,{width:n,height:r}),A.createElement("div",_u({ref:t},e)))}),Z_e=A.forwardRef((e,t)=>{var{width:n,height:r}=e;return Ps(n)||Ps(r)?A.createElement(W_e,_u({},e,{ref:t})):A.createElement(V_e,_u({},e,{ref:t}))});function X_e(e){return e===!0?K_e:Z_e}var J_e=A.forwardRef((e,t)=>{var{children:n,className:r,height:i,onClick:a,onContextMenu:s,onDoubleClick:c,onMouseDown:d,onMouseEnter:f,onMouseLeave:m,onMouseMove:p,onMouseUp:y,onTouchEnd:b,onTouchMove:x,onTouchStart:T,style:S,width:j,responsive:D,dispatchTouchEvents:O=!0}=e,M=A.useRef(null),N=kr(),[R,$]=A.useState(null),[B,H]=A.useState(null),V=U_e(),z=qA(),F=z?.width>0?z.width:j,Q=z?.height>0?z.height:i,ee=A.useCallback(Y=>{V(Y),typeof t=="function"&&t(Y),$(Y),H(Y),Y!=null&&(M.current=Y)},[V,t,$,H]),be=A.useCallback(Y=>{N(Mz(Y)),N(Na({handler:a,reactEvent:Y}))},[N,a]),J=A.useCallback(Y=>{N(a2(Y)),N(Na({handler:f,reactEvent:Y}))},[N,f]),le=A.useCallback(Y=>{N(k9()),N(Na({handler:m,reactEvent:Y}))},[N,m]),ae=A.useCallback(Y=>{N(a2(Y)),N(Na({handler:p,reactEvent:Y}))},[N,p]),me=A.useCallback(()=>{N($z())},[N]),ne=A.useCallback(Y=>{N(Iz(Y.key))},[N]),q=A.useCallback(Y=>{N(Na({handler:s,reactEvent:Y}))},[N,s]),K=A.useCallback(Y=>{N(Na({handler:c,reactEvent:Y}))},[N,c]),X=A.useCallback(Y=>{N(Na({handler:d,reactEvent:Y}))},[N,d]),ie=A.useCallback(Y=>{N(Na({handler:y,reactEvent:Y}))},[N,y]),Z=A.useCallback(Y=>{N(Na({handler:T,reactEvent:Y}))},[N,T]),W=A.useCallback(Y=>{O&&N(zz(Y)),N(Na({handler:x,reactEvent:Y}))},[N,O,x]),de=A.useCallback(Y=>{N(Na({handler:b,reactEvent:Y}))},[N,b]),te=X_e(D);return A.createElement(K9.Provider,{value:R},A.createElement(Noe.Provider,{value:B},A.createElement(te,{width:F??S?.width,height:Q??S?.height,className:vn("recharts-wrapper",r),style:H_e({position:"relative",cursor:"default",width:F,height:Q},S),onClick:be,onContextMenu:q,onDoubleClick:K,onFocus:me,onKeyDown:ne,onMouseDown:X,onMouseEnter:J,onMouseLeave:le,onMouseMove:ae,onMouseUp:ie,onTouchEnd:de,onTouchMove:W,onTouchStart:Z,ref:ee},A.createElement(Y_e,null),n)))}),Q_e=["width","height","responsive","children","className","style","compact","title","desc"];function exe(e,t){if(e==null)return{};var n,r,i=txe(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function txe(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var nxe=A.forwardRef((e,t)=>{var{width:n,height:r,responsive:i,children:a,className:s,style:c,compact:d,title:f,desc:m}=e,p=exe(e,Q_e),y=_o(p);return d?A.createElement(A.Fragment,null,A.createElement(Sb,{width:n,height:r}),A.createElement(d3,{otherAttributes:y,title:f,desc:m},a)):A.createElement(J_e,{className:s,style:c,width:n,height:r,responsive:i??!1,onClick:e.onClick,onMouseLeave:e.onMouseLeave,onMouseEnter:e.onMouseEnter,onMouseMove:e.onMouseMove,onMouseDown:e.onMouseDown,onMouseUp:e.onMouseUp,onContextMenu:e.onContextMenu,onDoubleClick:e.onDoubleClick,onTouchStart:e.onTouchStart,onTouchMove:e.onTouchMove,onTouchEnd:e.onTouchEnd},A.createElement(d3,{otherAttributes:y,title:f,desc:m,ref:t},A.createElement(Vye,null,a)))});function o2(){return o2=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o2.apply(null,arguments)}var rxe={top:5,right:5,bottom:5,left:5},ixe={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,layout:"horizontal",margin:rxe,responsive:!1,reverseStackOrder:!1,stackOffset:"none",syncMethod:"index"},axe=A.forwardRef(function(t,n){var r,i=fa(t.categoricalChartProps,ixe),{chartName:a,defaultTooltipEventType:s,validateTooltipEventTypes:c,tooltipPayloadSearcher:d,categoricalChartProps:f}=t,m={chartName:a,defaultTooltipEventType:s,validateTooltipEventTypes:c,tooltipPayloadSearcher:d,eventEmitter:void 0};return A.createElement(C_e,{preloadedState:{options:m},reduxStoreName:(r=f.id)!==null&&r!==void 0?r:a},A.createElement(Bye,{chartData:f.data}),A.createElement(D_e,{layout:i.layout,margin:i.margin}),A.createElement(P_e,{baseValue:i.baseValue,accessibilityLayer:i.accessibilityLayer,barCategoryGap:i.barCategoryGap,maxBarSize:i.maxBarSize,stackOffset:i.stackOffset,barGap:i.barGap,barSize:i.barSize,syncId:i.syncId,syncMethod:i.syncMethod,className:i.className,reverseStackOrder:i.reverseStackOrder}),A.createElement(nxe,o2({},i,{ref:n})))}),oxe=["axis"],sxe=A.forwardRef((e,t)=>A.createElement(axe,{chartName:"AreaChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:oxe,tooltipPayloadSearcher:p0e,categoricalChartProps:e,ref:t}));function h3(){const[e,t]=A.useState(0),[n,r]=A.useState(0),[i,a]=A.useState(0),[s,c]=A.useState(0),[d,f]=A.useState([]),[m,p]=A.useState([]),y=A.useMemo(()=>{const S=new Date;return S.setHours(0,0,0,0),S},[]),b=A.useCallback(async()=>{const{count:S}=await Ye.from("profiles").select("*",{count:"exact",head:!0});t(S||0);const{count:j}=await Ye.from("myeongsik").select("*",{count:"exact",head:!0});r(j||0);const{count:D}=await Ye.from("profiles").select("*",{count:"exact",head:!0}).gte("created_at",y.toISOString());a(D||0);const{count:O}=await Ye.from("myeongsik").select("*",{count:"exact",head:!0}).gte("created_at",y.toISOString());c(O||0)},[y]),x=A.useCallback(async()=>{const S=new Date;S.setDate(S.getDate()-30);const{data:j}=await Ye.from("profiles").select("created_at").gte("created_at",S.toISOString()).order("created_at",{ascending:!0}),D={};(j||[]).forEach(M=>{const N=new Date(M.created_at).toISOString().slice(0,10);D[N]=(D[N]||0)+1});const O=Object.entries(D).map(([M,N])=>({day:M,count:N}));f(O)},[]),T=A.useCallback(async()=>{const S=new Date;S.setDate(S.getDate()-30);const{data:j}=await Ye.from("myeongsik").select("created_at").gte("created_at",S.toISOString()).order("created_at",{ascending:!0}),D={};(j||[]).forEach(M=>{const N=new Date(M.created_at).toISOString().slice(0,10);D[N]=(D[N]||0)+1});const O=Object.entries(D).map(([M,N])=>({day:M,count:N}));p(O)},[]);return A.useEffect(()=>{b(),x(),T()},[b,x,T]),_.jsx(boe,{allow:["admin","operator","viewer"],children:_.jsxs("div",{className:"p-6 text-white",children:[_.jsx("h1",{className:"text-2xl font-bold mb-6",children:"Dashboard"}),_.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4 mb-10",children:[_.jsx(I0,{label:" ",value:e}),_.jsx(I0,{label:"  ",value:n}),_.jsx(I0,{label:" ",value:i}),_.jsx(I0,{label:"  ",value:s})]}),_.jsxs("section",{className:"mb-10",children:[_.jsx("h2",{className:"text-xl font-semibold mb-3",children:" 30  "}),_.jsx(m3,{data:d})]}),_.jsxs("section",{children:[_.jsx("h2",{className:"text-xl font-semibold mb-3",children:" 30  "}),_.jsx(m3,{data:m})]})]})})}function I0({label:e,value:t}){return _.jsxs("div",{className:"p-4 bg-neutral-900 border border-neutral-700 rounded-lg",children:[_.jsx("div",{className:"text-neutral-400 text-sm",children:e}),_.jsx("div",{className:"text-3xl font-bold mt-1",children:t})]})}function m3({data:e}){return _.jsx("div",{className:"w-full h-64 bg-neutral-900 border border-neutral-700 rounded-lg p-2 text-xs",children:_.jsx(qce,{width:"100%",height:"100%",children:_.jsxs(sxe,{data:e,children:[_.jsx(_z,{strokeDasharray:"3 3",stroke:"#333"}),_.jsx(Nz,{dataKey:"day",stroke:"#bbb"}),_.jsx(Cz,{stroke:"#bbb"}),_.jsx(B0e,{}),_.jsx(Oz,{type:"monotone",dataKey:"count",stroke:"#8884d8",fill:"#8884d855"})]})})})}const vS=20;function lxe(){const[e,t]=A.useState(""),[n,r]=A.useState(1),[i,a]=A.useState([]),[s,c]=A.useState([]),[d,f]=A.useState(!1),[m,p]=A.useState(null),y=A.useCallback(async()=>{f(!0),p(null);try{let S=Ye.from("myeongsik").select("user_id,name");if(e.trim()){const M=`%${e.trim()}%`;S=S.or(`name.ilike.${M},user_id.ilike.${M},birth_json->>birthDay.ilike.${M}`)}const{data:j,error:D}=await S;if(D)throw new Error(D.message);const O=Array.from(new Set((j||[]).map(M=>M.user_id).filter(Boolean)));a(O),r(1)}catch(S){p(S instanceof Error?S.message:"Unknown error")}f(!1)},[e]),b=A.useMemo(()=>{const S=(n-1)*vS;return i.slice(S,S+vS)},[n,i]),x=A.useMemo(()=>Math.max(1,Math.ceil(i.length/vS)),[i]),T=A.useCallback(async()=>{if(!b.length){c([]);return}f(!0),p(null);try{const S=b.length?b:["__NO_MATCH__"],{data:j}=await Ye.from("profiles").select("id,user_id,name,nickname,email").in("user_id",S),D={};(j||[]).forEach(N=>{const R=N.user_id||N.id;R&&(D[R]=N)});const{data:O}=await Ye.from("myeongsik").select("user_id, created_at").in("user_id",S).order("created_at",{ascending:!1}),M={};S.forEach(N=>{M[N]={user_id:N,profile:D[N]||null,myeongsikCount:0,lastCreatedAt:null}}),(O||[]).forEach(N=>{M[N.user_id].myeongsikCount++,M[N.user_id].lastCreatedAt||(M[N.user_id].lastCreatedAt=N.created_at)}),c(Object.values(M))}catch(S){p(S instanceof Error?S.message:"Error")}f(!1)},[b]);return A.useEffect(()=>{y()},[y]),A.useEffect(()=>{T()},[T]),_.jsxs("div",{className:"p-6 text-white",children:[_.jsx("h1",{className:"text-2xl font-bold mb-4",children:"Users"}),_.jsx("input",{className:"px-3 py-2 bg-neutral-800 border border-neutral-700 rounded w-full max-w-sm mb-4",placeholder:"Search user (name, email, birth, userId...)",value:e,onChange:S=>t(S.target.value)}),m&&_.jsx("div",{className:"text-red-400 mb-2",children:m}),d&&_.jsx("div",{children:"Loading..."}),_.jsx("div",{className:"space-y-3",children:s.map(S=>{const j=S.profile?.name||S.profile?.nickname||S.profile?.email||"(no profile)";return _.jsxs("div",{className:"p-4 bg-neutral-900 border border-neutral-700 rounded-lg cursor-pointer hover:bg-neutral-800",onClick:()=>location.href=`/admin/user/${S.user_id}`,children:[_.jsxs("div",{className:"font-semibold text-lg flex items-center justify-between",children:[_.jsx("span",{className:"text-nowrap mr-2",children:j}),_.jsx("span",{className:"text-neutral-500 text-sm",children:S.user_id})]}),_.jsxs("div",{className:"text-sm text-neutral-400 mt-1",children:[" ",S.myeongsikCount,"",S.lastCreatedAt&&_.jsxs(_.Fragment,{children:["    ",new Date(S.lastCreatedAt).toLocaleString()]})]})]},S.user_id)})}),_.jsxs("div",{className:"flex items-center justify-center gap-3 mt-6",children:[_.jsx("button",{disabled:n<=1,onClick:()=>r(S=>S-1),className:"px-3 py-1 border border-neutral-700 rounded disabled:opacity-50",children:""}),_.jsxs("span",{children:[n," / ",x]}),_.jsx("button",{disabled:n>=x,onClick:()=>r(S=>S+1),className:"px-3 py-1 border border-neutral-700 rounded disabled:opacity-50",children:""})]})]})}async function yS({action:e,targetUserId:t,targetRecordId:n,payload:r={}}){const a=(await Ye.auth.getSession()).data.session?.user?.id;a&&await Ye.from("audit_logs").insert({action:e,target_user_id:t??null,target_record_id:n??null,actor_admin_id:a,payload:r})}function cxe({params:e}){const t=e.userId,[n,r]=A.useState(null),[i,a]=A.useState([]),[s,c]=A.useState(!1),d=A.useCallback(async()=>{const{data:D}=await Ye.from("profiles").select("*").eq("user_id",t).maybeSingle();r(D)},[t]),f=A.useCallback(async()=>{const{data:D}=await Ye.from("myeongsik").select("*").eq("user_id",t).order("created_at",{ascending:!1});a(D||[])},[t]);A.useEffect(()=>{d(),f()},[d,f]);const m=async()=>{c(!0),await Ye.from("profiles").insert({user_id:t,name:"",nickname:"",email:"",mgr_memo:""}),c(!1),d()},p=async()=>{n&&(c(!0),await Ye.from("profiles").update({name:n.name,nickname:n.nickname,email:n.email,mgr_memo:n.mgr_memo}).eq("user_id",t),c(!1),d())},y=async()=>{if(!n)return;const D=n.disabled_at?null:new Date().toISOString();await Ye.from("profiles").update({disabled_at:D}).eq("user_id",t),d()},b=async()=>{c(!0),await Ye.from("profiles").update({disabled_at:null}).eq("user_id",t),await Ye.from("myeongsik").update({deleted_at:null}).eq("user_id",t),await yS({action:"restore_account",targetUserId:t,payload:{source:"admin_user_detail"}}),c(!1),d(),f()},x=async()=>{c(!0),await Ye.from("myeongsik").update({deleted_at:null}).eq("user_id",t),await yS({action:"restore_myeongsik_all",targetUserId:t,payload:{source:"admin_user_detail"}}),c(!1),f()},T=D=>{const O=typeof window<"u"?window.location.origin:"",M=D?`${O}/#/impersonate?userId=${t}&myeongsikId=${D}`:`${O}/#/impersonate?userId=${t}`;window.open(M,"_blank")},S=async(D,O)=>{const M=O?null:new Date().toISOString();await Ye.from("myeongsik").update({deleted_at:M}).eq("id",D),await yS({action:M?"delete_myeongsik":"restore_myeongsik",targetUserId:t,targetRecordId:D,payload:{deleted_at:M,source:"admin_user_detail"}}),f()},j=D=>{window.location.href=D};return _.jsxs("div",{className:"p-6 text-white",children:[_.jsx("button",{className:"mb-4 underline cursor-pointer",onClick:()=>j("/admin/user"),children:"  "}),_.jsx("h1",{className:"text-2xl font-bold mb-4",children:" "}),_.jsxs("div",{className:"p-4 bg-neutral-900 border border-neutral-700 rounded-lg mb-6",children:[_.jsx("div",{className:"flex items-center justify-between mb-3",children:_.jsxs("div",{className:"flex items-center gap-3",children:[_.jsx("h2",{className:"text-xl font-semibold",children:""}),_.jsx("button",{className:"px-3 py-1 bg-blue-700 text-xs rounded cursor-pointer",onClick:()=>T(),children:"  ( )"})]})}),!n&&_.jsx("button",{onClick:m,className:"px-3 py-2 bg-blue-600 rounded cursor-pointer",disabled:s,children:" "}),n&&_.jsxs("div",{className:"space-y-3",children:[_.jsxs("div",{children:[_.jsx("label",{children:""}),_.jsx("input",{className:"w-full p-2 bg-neutral-800 border border-neutral-600 rounded",value:n.name??"",onChange:D=>r({...n,name:D.target.value})})]}),_.jsxs("div",{children:[_.jsx("label",{children:""}),_.jsx("input",{className:"w-full p-2 bg-neutral-800 border border-neutral-600 rounded",value:n.nickname??"",onChange:D=>r({...n,nickname:D.target.value})})]}),_.jsxs("div",{children:[_.jsx("label",{children:"Email"}),_.jsx("input",{className:"w-full p-2 bg-neutral-800 border border-neutral-600 rounded",value:n.email??"",onChange:D=>r({...n,email:D.target.value})})]}),_.jsxs("div",{children:[_.jsx("label",{children:" "}),_.jsx("textarea",{className:"w-full p-2 bg-neutral-800 border border-neutral-600 rounded",rows:3,value:n.mgr_memo??"",onChange:D=>r({...n,mgr_memo:D.target.value})})]}),_.jsxs("div",{className:"flex gap-2",children:[_.jsx("button",{onClick:p,className:"px-3 py-2 bg-green-600 rounded cursor-pointer text-xs",disabled:s,children:""}),n.disabled_at&&_.jsx("button",{onClick:b,className:"px-3 py-2 bg-blue-600 rounded cursor-pointer text-xs",disabled:s,children:""}),_.jsx("button",{onClick:y,className:`px-3 py-2 rounded cursor-pointer text-xs ${n.disabled_at?"bg-yellow-600":"bg-gray-600"}`,children:n.disabled_at?" ":" "})]})]})]}),_.jsxs("div",{className:"p-4 bg-neutral-900 border border-neutral-700 rounded-lg",children:[_.jsxs("div",{className:"flex items-center justify-between mb-4",children:[_.jsx("h2",{className:"text-xl font-semibold",children:" "}),_.jsx("button",{className:"px-3 py-2 bg-blue-700 rounded text-xs cursor-pointer",onClick:x,disabled:s,children:"  "})]}),i.map(D=>_.jsx("div",{className:"p-3 bg-neutral-800 border border-neutral-700 rounded mb-3",children:_.jsxs("div",{className:"flex items-center justify-between",children:[_.jsxs("div",{children:[_.jsx("div",{className:"font-semibold",children:D.name||"(no name)"}),_.jsxs("div",{className:"text-sm text-neutral-400",children:["Birth: ",D.birth_json?.birthDay??"-"," "," ",D.created_at?new Date(D.created_at).toLocaleString():"-"]})]}),_.jsxs("div",{className:"flex gap-2",children:[_.jsx("button",{className:"text-nowrap px-2 py-1 border border-blue-500 text-blue-100 rounded cursor-pointer text-xs",onClick:()=>T(D.id),children:"  ( )"}),_.jsx("button",{className:"text-nowrap px-2 py-1 border border-neutral-500 rounded cursor-pointer text-xs",onClick:()=>j(`/admin/myeongsik/${D.id}`),children:""}),_.jsx("button",{className:`px-2 py-1 rounded cursor-pointer text-xs text-nowrap ${D.deleted_at?"bg-green-600":"bg-red-600"}`,onClick:()=>S(D.id,D.deleted_at),children:D.deleted_at?"":""})]})]})},D.id)),i.length===0&&_.jsx("div",{className:"text-neutral-400",children:" ."})]})]})}function uxe({open:e,onClose:t,children:n}){return e?_.jsx("div",{className:"fixed inset-0 bg-black/70 z-50 flex items-center justify-center",children:_.jsxs("div",{className:"bg-neutral-900 border border-neutral-700 rounded-lg p-6 max-w-2xl w-full relative",children:[_.jsx("button",{className:"absolute top-3 right-3 text-neutral-400 hover:text-white",onClick:t,children:""}),_.jsx("div",{className:"max-h-[70vh] overflow-y-auto",children:n})]})}):null}const p3=50;function dxe(){const[e,t]=A.useState(null),[n,r]=A.useState(!1),[i,a]=A.useState([]),[s,c]=A.useState(1),[d,f]=A.useState("all"),[m,p]=A.useState("all"),[y,b]=A.useState("30"),[x,T]=A.useState(""),[S,j]=A.useState(!1),D=A.useCallback(async M=>{await Ye.from("audit_logs").delete().eq("id",M),a(N=>N.filter(R=>R.id!==M))},[]),O=A.useCallback(async()=>{j(!0);const M=new Date;y!=="all"&&M.setDate(M.getDate()-Number(y));let N=Ye.from("audit_logs").select("*").order("created_at",{ascending:!1}).range((s-1)*p3,s*p3-1);y!=="all"&&(N=N.gte("created_at",M.toISOString())),d!=="all"&&(N=N.eq("action",d)),m!=="all"&&(N=N.eq("actor_admin_id",m));const{data:R}=await N;let $=R||[];if(x.trim()!==""){const B=x.toLowerCase();$=$.filter(H=>(JSON.stringify(H).toLowerCase()+(H.payload?JSON.stringify(H.payload).toLowerCase():"")).includes(B))}a($),j(!1)},[s,d,m,y,x]);return A.useEffect(()=>{O()},[O]),_.jsxs("div",{className:"p-6 text-white",children:[_.jsx("h1",{className:"text-2xl font-bold mb-6",children:"Audit Logs"}),_.jsxs("div",{className:"mb-6 grid grid-cols-1 md:grid-cols-4 gap-3",children:[_.jsxs("select",{className:"p-2 bg-neutral-800 rounded border border-neutral-600",value:d,onChange:M=>f(M.target.value),children:[_.jsx("option",{value:"all",children:" Action"}),_.jsx("option",{value:"delete_myeongsik",children:" "}),_.jsx("option",{value:"restore_myeongsik",children:" "}),_.jsx("option",{value:"update_profile",children:" "}),_.jsx("option",{value:"impersonate_user",children:""})]}),_.jsxs("select",{className:"p-2 bg-neutral-800 rounded border border-neutral-600",value:m,onChange:M=>p(M.target.value),children:[_.jsx("option",{value:"all",children:" "}),_.jsx("option",{value:"",children:""}),_.jsx("option",{value:"system",children:"System"})]}),_.jsxs("select",{className:"p-2 bg-neutral-800 rounded border border-neutral-600",value:y,onChange:M=>b(M.target.value),children:[_.jsx("option",{value:"1",children:"24"}),_.jsx("option",{value:"7",children:"7"}),_.jsx("option",{value:"30",children:"30"}),_.jsx("option",{value:"all",children:""})]}),_.jsx("input",{className:"p-2 bg-neutral-800 rounded border border-neutral-600",placeholder:" (payload )",value:x,onChange:M=>T(M.target.value)})]}),S?_.jsx("div",{children:"Loading..."}):i.map(M=>_.jsxs("div",{className:"p-4 bg-neutral-900 border border-neutral-700 rounded mb-4 cursor-pointer hover:bg-neutral-800",onClick:()=>{t(M),r(!0)},children:[_.jsxs("div",{className:"flex items-center justify-between gap-3",children:[_.jsx("div",{className:"font-semibold text-lg",children:M.action}),_.jsx("button",{className:"px-2 py-1 text-xs bg-red-700 hover:bg-red-600 rounded cursor-pointer",onClick:N=>{N.stopPropagation(),D(M.id)},children:""})]}),_.jsxs("div",{className:"text-sm mt-1 text-neutral-400",children:[_.jsxs("div",{children:["Actor: ",M.actor_admin_id]}),_.jsxs("div",{children:["Target User: ",M.target_user_id||"-"]}),_.jsxs("div",{children:["Target Record: ",M.target_record_id||"-"]}),_.jsxs("div",{children:["Time: ",new Date(M.created_at).toLocaleString()]})]}),M.payload&&_.jsx("pre",{className:"mt-3 text-xs bg-neutral-800 p-2 rounded",children:JSON.stringify(M.payload,null,2)})]},M.id)),_.jsxs("div",{className:"flex items-center justify-center gap-3 mt-6",children:[_.jsx("button",{className:"px-3 py-1 bg-neutral-800 border border-neutral-600 rounded disabled:opacity-40",disabled:s===1,onClick:()=>c(M=>M-1),children:" "}),_.jsxs("span",{className:"text-neutral-400",children:["Page ",s]}),_.jsx("button",{className:"px-3 py-1 bg-neutral-800 border border-neutral-600 rounded",onClick:()=>c(M=>M+1),children:" "})]}),_.jsx(uxe,{open:n,onClose:()=>r(!1),children:e&&_.jsxs("div",{children:[_.jsx("h2",{className:"text-xl font-bold mb-3",children:e.action}),_.jsxs("div",{className:"text-sm text-neutral-400 space-y-1 mb-4",children:[_.jsxs("div",{children:["Actor: ",e.actor_admin_id]}),_.jsxs("div",{children:["Target User: ",e.target_user_id??"-"]}),_.jsxs("div",{children:["Target Record: ",e.target_record_id??"-"]}),_.jsxs("div",{children:["Time: ",new Date(e.created_at).toLocaleString()]})]}),_.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Payload"}),_.jsx("pre",{className:"text-xs bg-neutral-800 p-3 rounded whitespace-pre-wrap",children:JSON.stringify(e.payload,null,2)})]})})]})}const fxe="15b517b3-3d97-41a6-ae17-563abd163a36".split(",").map(e=>e.trim()).filter(Boolean);function Hz(){const[e,t]=A.useState(!1),[n,r]=A.useState(!1);if(A.useEffect(()=>{(async()=>{const{data:c}=await Ye.auth.getUser(),d=c.user?.id;r(!!d&&fxe.includes(d)),t(!0)})()},[]),!e)return _.jsx("div",{className:"p-6 text-white",children:"  ...!"});if(!n)return _.jsx("div",{className:"p-6 text-white",children:"  "});const i=window.location.pathname;let a=_.jsx(h3,{});if(i.startsWith("/admin/user/")){const s=i.replace("/admin/user/","");a=_.jsx(cxe,{params:{userId:s}})}else i.startsWith("/admin/user")?a=_.jsx(lxe,{}):i.startsWith("/admin/logs")?a=_.jsx(dxe,{}):i.startsWith("/admin/dashboard")&&(a=_.jsx(h3,{}));return _.jsx(voe,{children:a})}function hxe({pillarsA:e,pillarsB:t}){const n=Ote(e,t);return _.jsxs("div",{className:"rounded-xl p-4 bg-neutral-100 dark:bg-neutral-900 text-neutral-900 dark:text-neutral-100 space-y-2",children:[_.jsx("div",{className:"text-sm font-bold mb-3",children:"   "}),Object.entries(n).map(([r,i])=>i.length>0?_.jsxs("div",{className:"flex gap-2 text-xs",children:[_.jsx("span",{className:"shrink-0 w-20 text-xs font-semibold text-neutral-700 dark:text-neutral-400 mt-1",children:r}),_.jsx("div",{className:"flex flex-wrap gap-2",children:i.map((a,s)=>_.jsx("span",{className:"text-xs px-2 py-1 rounded-full border whitespace-nowrap bg-violet-100 text-violet-800 border-violet-200 dark:bg-violet-900/30 dark:text-violet-200 dark:border-violet-800",children:a},s))})]},r):null)]})}function mxe(e){return typeof e=="object"&&e!==null}const pxe=["","","","","","","","","","","","","","","","","","","",""],gxe=["","","","","","","","","","","","","","","","","","","","","","","",""],vxe=new Set(pxe),yxe=new Set(gxe);function g3(e){return typeof e=="string"&&e.length>=2&&vxe.has(e[0])&&yxe.has(e[1])}function Sn(e,...t){if(g3(e))return e;for(const n of t)if(g3(n))return n;return""}function $0(e,t){let n=null;const r=t.getTime();for(const i of e)if(i.at.getTime()<=r)n=i;else break;return n}function bxe(e){const t=n=>String(n).padStart(2,"0");return`${e.getFullYear()}-${t(e.getMonth()+1)}-${t(e.getDate())}T${t(e.getHours())}:${t(e.getMinutes())}`}function v3(e){if(!e)return null;const t=/^(\d{4})-(\d{2})-(\d{2})T(\d{2}):(\d{2})$/.exec(e);if(!t)return null;const[,n,r,i,a,s]=t,c=new Date(+n,+r-1,+i,+a,+s);return Number.isNaN(c.getTime())?null:c}function Ay(e){const t=e;return typeof t.name=="string"&&t.name?t.name:typeof t.title=="string"&&t.title?t.title:typeof t.memo=="string"&&t.memo?t.memo:" "}function _xe(e){const t=Number(e.birthDay.slice(0,4)),n=Number(e.birthDay.slice(4,6)),r=Number(e.birthDay.slice(6,8));let i=0,a=0;const s=e;return typeof s.birthTime=="string"&&s.birthTime.length>=4&&(i=Number(s.birthTime.slice(0,2)),a=Number(s.birthTime.slice(2,4))),{y:t,m:n,d:r,hh:i,mm:a}}function Hb(e){const{y:t,m:n,d:r}=_xe(e),i=e.corrected.getHours(),a=e.corrected.getMinutes();return e.calendarType==="lunar"?ei(t,n,r,i,a):new Date(t,n-1,r,i,a)}function xxe(e){const t=Hb(e);return`${Ay(e)}-${t.toISOString()}`}function Hh(e){const t=e;return typeof t.id=="string"&&t.id?t.id:xxe(e)}function wxe(e){return mxe(e)&&("Classic"in e||"Modern"in e||"classic"in e||"modern"in e)}function Sxe(e){const t=Su;return wxe(t)?e==="classic"?t.Classic:t.Modern:e}const bS="people_picker_order_v1";function Exe(e,t,n){const r=e.slice(),[i]=r.splice(t,1);return r.splice(n,0,i),r}function y3({open:e,list:t,onSelect:n,onClose:r}){const[i,a]=A.useState("");A.useEffect(()=>{e||a("")},[e]);const s=A.useMemo(()=>t.map(Hh),[t]),c=A.useMemo(()=>new Set(s),[s]),[d,f]=A.useState([]);A.useEffect(()=>{const T=localStorage.getItem(bS),S=T?JSON.parse(T):[],j=S.filter(O=>c.has(O)),D=[...j,...s.filter(O=>!j.includes(O))];f(D),JSON.stringify(D)!==JSON.stringify(S)&&localStorage.setItem(bS,JSON.stringify(D))},[s,c]);const m=T=>{f(T),localStorage.setItem(bS,JSON.stringify(T))},p=A.useMemo(()=>{const T=new Map(t.map(j=>[Hh(j),j])),S=[];for(const j of d){const D=T.get(j);D&&S.push(D)}return T.forEach((j,D)=>{d.includes(D)||S.push(j)}),S},[t,d]),y=A.useMemo(()=>{const T=i.trim().toLowerCase();return T?p.filter(S=>Ay(S).toLowerCase().includes(T)):p},[p,i]),b=i.trim()==="",x=T=>{const{destination:S,source:j}=T;if(!S||!b||S.index===j.index)return;const D=y.map(Hh),O=Exe(D,j.index,S.index),N=p.map(Hh).filter($=>!D.includes($)),R=[...O,...N].filter(($,B,H)=>H.indexOf($)===B);m(R)};return _.jsxs(_.Fragment,{children:[_.jsx("style",{children:"[data-rbd-drag-handle-context-id]{touch-action:none!important}"}),_.jsx("div",{className:`fixed inset-0 bg-black/60 transition-opacity duration-200 z-[1000] ${e?"opacity-100 pointer-events-auto":"opacity-0 pointer-events-none"}`,onClick:r}),_.jsxs("div",{className:`fixed bottom-0 inset-x-0 mx-auto w-full max-w-[640px] max-h-[80dvh] bg-white dark:bg-neutral-950 rounded-t-2xl border border-neutral-200 dark:border-neutral-800 p-4 overflow-auto transition-transform duration-300 z-[1001] ${e?"translate-y-0":"translate-y-full"}`,children:[_.jsxs("div",{className:"flex items-center justify-between mb-3",children:[_.jsx("h3",{className:"text-sm font-semibold text-neutral-900 dark:text-neutral-200",children:" "}),_.jsx("button",{onClick:r,className:"text-neutral-500 hover:text-neutral-900 dark:text-neutral-400 dark:hover:text-white text-sm cursor-pointer",children:""})]}),_.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[_.jsx("input",{placeholder:" ",value:i,onChange:T=>a(T.target.value),className:"flex-1 px-3 py-2 rounded bg-white dark:bg-neutral-900 border border-neutral-300 dark:border-neutral-700 text-sm text-neutral-900 dark:text-neutral-100"}),!b&&_.jsx("span",{className:"text-[11px] text-neutral-500 dark:text-neutral-400 whitespace-nowrap",children:"    "})]}),_.jsx(Ym,{onDragEnd:x,children:_.jsx(su,{droppableId:"peopleList",children:T=>_.jsxs("ul",{ref:T.innerRef,...T.droppableProps,className:"flex flex-col gap-2 max-h-[60vh] overflow-y-auto",children:[y.map((S,j)=>{const D=String(Hh(S)),O=Hb(S);return _.jsx(Zd,{draggableId:D,index:j,children:M=>_.jsx("li",{ref:M.innerRef,...M.draggableProps,...M.dragHandleProps,onClick:()=>n(S),className:"w-full text-left p-3 rounded border bg-white dark:bg-neutral-900 border-neutral-300 dark:border-neutral-800 cursor-grab select-none active:cursor-grabbing",children:_.jsxs("div",{className:"flex items-center gap-2",children:[_.jsx("span",{className:"mr-2 select-none",children:""}),_.jsxs("div",{className:"flex-1 min-w-0",children:[_.jsx("div",{className:"text-neutral-900 dark:text-neutral-50 text-sm truncate",children:Ay(S)}),_.jsx("div",{className:"text-neutral-500 dark:text-neutral-400 text-xs",children:tm(O)})]})]})})},D)}),T.placeholder]})})})]})]})}function _S({label:e,gzHour:t,gzDay:n,gzMonth:r,gzYear:i,dayStem:a,cardSettings:s,sinsalBaseBranch:c,sinsalMode:d,sinsalBloom:f}){const m=T=>{const S=s.showSibiUnseong?ln(a,T):"",j=s.showSibiSinsal?cn({baseBranch:c,targetBranch:T,era:Sxe(d),gaehwa:!!f}):"";return{unseongText:S||void 0,shinsalText:j||void 0}},p=Sn(t).charAt(1),y=Sn(n).charAt(1),b=Sn(r).charAt(1),x=Sn(i).charAt(1);return _.jsxs("div",{className:"rounded-lg border bg-white dark:bg-neutral-900 border-neutral-200 dark:border-neutral-800 py-2 desk:p-2",children:[_.jsx("div",{className:"px-2 py-1 text-xs text-neutral-600 dark:text-neutral-300",children:e}),_.jsx("div",{className:"grid grid-cols-4 gap-1 text-neutral-900 dark:text-white",children:[["",Sn(t),p],["",Sn(n),y],["",Sn(r),b],["",Sn(i),x]].map(([T,S,j])=>{const{unseongText:D,shinsalText:O}=m(j);return _.jsx(Nd,{label:T,gz:S,dayStem:a,settings:Ar.getState().settings,unseongText:D,shinsalText:O,hideBranchSipSin:!0,size:"sm"},`${e}-${T}`)})})]})}function Axe(e){if(!e)return"";const t=e,n=c=>typeof t[c]=="string"?String(t[c]).trim().toLowerCase():null,r=c=>typeof t[c]=="boolean"?t[c]:null,i=[n("gender"),n("sex"),n("genderType"),n(""),n("sexType"),n("g")].filter(c=>!!c);for(const c of i){if(["","","male","m","boy","man"].includes(c))return"";if(["","","female","f","girl","woman"].includes(c))return""}const a=r("isMale"),s=r("isFemale");return a===!0?"":s===!0?"":""}function Ed({label:e,data:t,mode:n,effectiveDate:r,onPick:i}){const a=Ar(N=>N.settings),s=A.useMemo(()=>t?Hb(t):null,[t]),c=Sn(s?Ua(s,"/"):void 0),d=Sn(s?Tt(s,"/"):void 0),f=Sn(s?Dt(s):void 0),m=Sn(s?vt(s):void 0),p=A.useMemo(()=>d.charAt(0)||"",[d]),y=s,b=A.useMemo(()=>{const N=t?.birthPlace;return!N||N.name===""||!N.lon?127.5:N.lon},[t]),x=t?.mingSikType??"/",T=A.useMemo(()=>{const N=y?Tt(y,x).charAt(1):d.charAt(1)||"",R=y?vt(y,b).charAt(1):m.charAt(1)||"";return(a.sinsalBase??"")===""?N:R},[a.sinsalBase,y,x,b,d,m]),S=A.useMemo(()=>{if(n!==""||!s||!t)return null;try{const N=r5(s,c,t.dir,120,t.mingSikType),R=a5(N,d,t.dir,t.DayChangeRule),$=Km(s,f,t.dir,120,t?.birthPlace?.lon??127.5),B=o5($,m,t.dir,t.DayChangeRule,s),H=r;return{si:Sn($0(N.events,H)?.gz,c),il:Sn($0(R.events,H)?.gz,d),wl:Sn($0($.events,H)?.gz,f),yn:Sn($0(B.events,H)?.gz,m)}}catch{return null}},[n,s,c,d,f,m,r,t]),j=A.useMemo(()=>{if(n!=="")return null;const N=r;return{si:Sn(Ua(N,"/")),il:Sn(Tt(N,"/")),wl:Sn(Dt(N)),yn:Sn(vt(N))}},[n,r]),D=t?Ay(t):"",O=s?tm(s):"",M=t?Axe(t):"";return t?_.jsxs("div",{className:"space-y-2",children:[_.jsx("button",{onClick:i,className:"px-3 py-1 rounded text-xs bg-neutral-900 dark:bg-white text-white dark:text-neutral-900 border border-neutral-900 dark:border-white hover:opacity-90 cursor-pointer",title:" ",children:" "}),_.jsxs("div",{className:"text-[11px] text-neutral-600 dark:text-neutral-300",children:[_.jsx("span",{className:"font-semibold text-neutral-900 dark:text-neutral-200",children:e}),_.jsx("span",{className:"ml-2 text-neutral-900 dark:text-neutral-50",children:D}),M&&_.jsxs("span",{className:"ml-1 text-neutral-500 dark:text-neutral-400",children:[" ",M]}),O&&_.jsx("span",{className:"block desk:inline-block mt-1 text-neutral-500 dark:text-neutral-400 text-[10px]",children:O})]}),n===""&&_.jsx(_S,{label:"",gzHour:c,gzDay:d,gzMonth:f,gzYear:m,dayStem:p,cardSettings:a,sinsalBaseBranch:T,sinsalMode:a.sinsalMode,sinsalBloom:!!a.sinsalBloom}),n===""&&S&&_.jsx(_S,{label:"",gzHour:S.si,gzDay:S.il,gzMonth:S.wl,gzYear:S.yn,dayStem:p,cardSettings:a,sinsalBaseBranch:T,sinsalMode:a.sinsalMode,sinsalBloom:!!a.sinsalBloom}),n===""&&j&&_.jsx(_S,{label:"",gzHour:j.si,gzDay:j.il,gzMonth:j.wl,gzYear:j.yn,dayStem:p,cardSettings:a,sinsalBaseBranch:T,sinsalMode:a.sinsalMode,sinsalBloom:!!a.sinsalBloom})]}):_.jsx("div",{className:"flex items-center justify-center h-48 rounded-lg border border-dashed bg-white dark:bg-neutral-900 border-neutral-300 dark:border-neutral-700",children:_.jsx("button",{onClick:i,className:"px-3 py-2 rounded bg-neutral-900 dark:bg-white text-white dark:text-neutral-900 text-sm hover:opacity-90 cursor-pointer",children:" "})})}function Txe({people:e=[]}){const[t,n]=A.useState(),[r,i]=A.useState(),[a,s]=A.useState(!1),[c,d]=A.useState(!1),f=A.useRef(new Date),[m,p]=A.useState(()=>bxe(f.current)),y=A.useRef(v3(m)??f.current),b=A.useMemo(()=>{const O=v3(m);return O&&(y.current=O),y.current},[m]),[x,T]=A.useState(!1),[S,j]=A.useState(!1);function D(O){if(!O)return["","","",""];try{const M=Hb(O),N={hour:Sn(Ua(M,"/")),day:Sn(Tt(M,"/")),month:Sn(Dt(M)),year:Sn(vt(M))};return[N.year,N.month,N.day,N.hour]}catch{return["","","",""]}}return _.jsxs(_.Fragment,{children:[_.jsxs("div",{className:"w-[96%] max-w-[640px] mx-auto bg-white dark:bg-neutral-950 text-neutral-900 dark:text-neutral-100 rounded-xl shadow border border-neutral-200 dark:border-neutral-800 px-2 py-4 desk:p-4",children:[_.jsxs("header",{className:"flex gap-3 justify-between items-center mb-4",children:[_.jsx("div",{className:"font-semibold text-sm text-neutral-900 dark:text-neutral-200",children:" "}),_.jsxs("div",{className:"flex items-center gap-4 text-xs text-neutral-600 dark:text-neutral-400",children:[_.jsxs("label",{className:"flex items-center gap-1 cursor-pointer",children:[_.jsx("input",{type:"checkbox",checked:a,onChange:O=>s(O.target.checked),className:"accent-indigo-500"})," "]}),_.jsx("button",{onClick:()=>d(O=>!O),className:"px-2 py-1 rounded border border-neutral-300 dark:border-neutral-700 hover:border-indigo-500 text-neutral-700 dark:text-neutral-300 bg-white dark:bg-neutral-900 cursor-pointer",children:c?"  ":"  "})]})]}),_.jsxs("div",{className:"grid grid-cols-2 gap-2 desk:gap-4",children:[_.jsx(Ed,{label:" A",data:t,mode:"",effectiveDate:b,onPick:()=>T(!0)}),_.jsx(Ed,{label:" B",data:r,mode:"",effectiveDate:b,onPick:()=>j(!0)}),a&&t&&_.jsx(Ed,{label:" A",data:t,mode:"",effectiveDate:b,onPick:()=>T(!0)}),a&&r&&_.jsx(Ed,{label:" B",data:r,mode:"",effectiveDate:b,onPick:()=>j(!0)}),c&&t&&_.jsx(Ed,{label:" A",data:t,mode:"",effectiveDate:b,onPick:()=>T(!0)}),c&&r&&_.jsx(Ed,{label:" B",data:r,mode:"",effectiveDate:b,onPick:()=>j(!0)})]}),t&&r&&_.jsx("div",{className:"mt-4",children:_.jsx(hxe,{pillarsA:D(t),pillarsB:D(r)})}),_.jsxs("div",{className:"mt-4 max-w-[260px] mx-auto text-center",children:[_.jsx("label",{className:"min-w-0 block text-xs text-neutral-600 dark:text-neutral-400 mb-2",children:"/ "}),_.jsx("input",{type:"datetime-local",value:m,onChange:O=>p(O.target.value),className:"min-w-0 bg-white dark:bg-neutral-900 border border-neutral-300 dark:border-neutral-700 rounded px-3 py-1 text-xs w-[260px] max-w-[260px] box-border overflow-x-hidden text-neutral-900 dark:text-neutral-100 h-30",min:"1900-01-01T00:00",max:"2100-12-31T23:59"})]})]}),_.jsx(y3,{open:x,list:e||[],onSelect:O=>{n(O),T(!1)},onClose:()=>T(!1)}),_.jsx(y3,{open:S,list:e||[],onSelect:O=>{i(O),j(!1)},onClose:()=>j(!1)})]})}function kxe(){const[e,t]=A.useState(!1),[n,r]=A.useState(!1),i=async()=>{try{const{data:{user:a}}=await Ye.auth.getUser();if(!a){alert("  .");return}const s=a.id,c=new Date().toISOString();await Ye.from("profiles").update({disabled_at:c}).eq("id",s),await Ye.from("myeongsik").update({deleted_at:c}).eq("user_id",s),await Ye.auth.signOut(),alert(" .   ."),window.location.href="/"}catch(a){console.error(a),alert("    .")}};return _.jsxs(_.Fragment,{children:[_.jsxs("footer",{className:"py-8 px-4 border-t border-neutral-200 dark:border-neutral-700",children:[_.jsx("div",{className:"text-center text-[12px] text-orange-600 dark:text-orange-300",children:"Copyright  2025 Hwarim96. All rights reserved."}),_.jsxs("div",{className:"flex justify-center items-center gap-4 mt-3",children:[_.jsx("button",{onClick:()=>t(!0),className:"text-[12px] text-neutral-500 dark:text-neutral-300 underline cursor-pointer hover:text-orange-500 transition",children:" "}),_.jsx("button",{onClick:()=>r(!0),className:"text-[12px] text-red-500 underline hover:text-red-400 transition cursor-pointer",children:""})]})]}),e&&_.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50",onClick:()=>t(!1),children:_.jsxs("div",{className:"w-full max-w-lg bg-white dark:bg-neutral-900 text-neutral-900 dark:text-neutral-200 p-6 rounded-xl shadow-xl relative animate-fadeInUp",onClick:a=>a.stopPropagation(),children:[_.jsx("h2",{className:"text-lg font-bold mb-4",children:" "}),_.jsxs("div",{className:"text-sm leading-relaxed max-h-[60vh] overflow-y-auto pr-2",children:[_.jsx("p",{className:"mb-2",children:"     ,    ."}),_.jsx("p",{className:"font-semibold mt-4 mb-1",children:"1.  "}),_.jsxs("p",{className:"mb-2",children:["   (, )",_.jsx("br",{}),"       ( ,  )"]}),_.jsx("p",{className:"font-semibold mt-4 mb-1",children:"2.  "}),_.jsxs("p",{className:"mb-2",children:["     ",_.jsx("br",{}),"    /  ",_.jsx("br",{}),"      "]}),_.jsx("p",{className:"font-semibold mt-4 mb-1",children:"3.  "}),_.jsxs("p",{className:"mb-2",children:["     ",_.jsx("br",{}),"         "]}),_.jsx("p",{className:"font-semibold mt-4 mb-1",children:"4. 3 "}),_.jsx("p",{className:"mb-2",children:"   3  ."}),_.jsx("p",{className:"font-semibold mt-4 mb-1",children:"5. "}),_.jsx("p",{className:"mb-2",children:" Supabase /DB    ."}),_.jsx("p",{className:"font-semibold mt-4 mb-1",children:"6. "}),_.jsx("p",{children:"   : unique950318@gmail.com"})]}),_.jsx("button",{onClick:()=>t(!1),className:"cursor-pointer mt-4 w-full py-2 bg-neutral-900 dark:bg-neutral-700 text-white rounded-lg hover:bg-neutral-800 transition",children:""})]})}),n&&_.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50",onClick:()=>r(!1),children:_.jsxs("div",{className:"w-full max-w-sm bg-white dark:bg-neutral-900 text-neutral-900 dark:text-neutral-200 p-6 rounded-xl shadow-xl relative animate-fadeInUp",onClick:a=>a.stopPropagation(),children:[_.jsx("h2",{className:"text-lg font-bold mb-4 text-red-500",children:" ?"}),_.jsxs("p",{className:"text-sm leading-relaxed mb-6",children:["        .",_.jsx("br",{}),"    ."]}),_.jsxs("div",{className:"flex gap-3",children:[_.jsx("button",{onClick:()=>r(!1),className:"cursor-pointer flex-1 py-2 bg-neutral-300 dark:bg-neutral-700 text-black dark:text-white rounded-lg hover:bg-neutral-400 transition",children:""}),_.jsx("button",{onClick:i,className:"cursor-pointer flex-1 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition",children:""})]})]})})]})}function Oxe({ms:e}){const{date:t,setDate:n}=Ri();A.useEffect(()=>{n(new Date)},[e]);const r=uA(e),i=A.useMemo(()=>{const c=t??new Date,d=c.getFullYear(),f=String(c.getMonth()+1).padStart(2,"0"),m=String(c.getDate()).padStart(2,"0");return`${d}-${f}-${m}`},[t]),a=c=>{if(!c)return;const[d,f,m]=c.split("-"),p=Number(d),y=Number(f),b=Number(m);if(!Number.isFinite(p)||!Number.isFinite(y)||!Number.isFinite(b))return;const x=t??new Date,T=x.getHours(),S=x.getMinutes(),j=new Date(p,y,0).getDate(),D=Math.min(b,j),O=new Date(p,y-1,D,T,S,0,0);Number.isNaN(O.getTime())||n(O)},s=A.useMemo(()=>{const c=e.ganji,d=r?.dae?.gz?`${r.dae.gz}`:null,f=r?.se?.gz?`${r.se.gz}`:null,m=r?.wol?.gz?`${r.wol.gz}`:null,p=[d,f,m].filter(Boolean).join(" ");return[c,p].filter(Boolean).join(" + ")},[e,r]);return _.jsxs("div",{className:"max-w-[640px] mx-auto mb-4 rounded-xl border border-neutral-200 dark:border-neutral-800 bg-white dark:bg-neutral-950 p-3 space-y-3",children:[s&&_.jsx("div",{className:"text-center text-sm font-medium text-neutral-800 dark:text-neutral-200",children:s}),_.jsx("div",{className:"grid grid-cols-1 gap-3",children:_.jsxs("label",{className:"w-full flex justify-center items-center",children:[_.jsx("span",{className:"text-sm text-neutral-500 mr-4",children:""}),_.jsx("input",{type:"date",value:i,onChange:c=>a(c.target.value),min:"1900-01-01",max:"2100-12-31",className:"w rounded-md border border-neutral-300 dark:border-neutral-700 bg-transparent px-2 py-1 text-sm"})]})})]})}const jxe=["23:0000:59","01:0002:59","03:0004:59","05:0006:59","07:0008:59","09:0010:59","11:0012:59","13:0014:59","15:0016:59","17:0018:59","19:0020:59","21:0022:59"];function Nxe(e){const t=e.getFullYear(),n=String(e.getMonth()+1).padStart(2,"0"),r=String(e.getDate()).padStart(2,"0");return`${t}-${n}-${r}`}function B0(e,t){return e&&t?`${e}${t}`:null}function b3(e){return!!(e.yearStem&&e.yearBranch&&e.monthStem&&e.monthBranch&&e.dayStem&&e.dayBranch&&e.hourStem&&e.hourBranch)}const Cxe={:0,:1,:2,:3,:4,:5,:6,:7,:8,:9},Mxe=$a.,Dxe=["","","","","","","","","","","",""];function _3(e,t){let n;e===""||e===""?n="":e===""||e===""?n="":e===""||e===""?n="":e===""||e===""?n="":n="";const r=Cxe[n],i=Dxe.indexOf(t),a=(r+(i>=0?i:0))%10;return Mxe[a]}const Pxe=$a..slice(),Rxe=["","","","","","","","","","","",""];function Ad(e,t){const r=(t===""?rI:_2)[e],i=t===""?Pxe:Rxe,a=$a..reduce((s,c)=>(s[c]="",s),{});for(let s=0;s<12;s++)a[i[s]]=r[s];return a}const Lxe={:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},Ixe={:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""};function $xe({open:e,onClose:t,onSave:n}){const{settings:r}=Ar(),[i,a]=A.useState(null),[s,c]=A.useState({}),[d,f]=A.useState(null),[m,p]=A.useState(!0),[y,b]=A.useState(!0),[x,T]=A.useState(""),[S,j]=A.useState("male"),[D,O]=A.useState(null),[M,N]=A.useState(!1),[,R]=A.useState(null),[$,B]=A.useState(null),[H,V]=A.useState({gender:"",mingSikType:"/",DayChangeRule:"",calendarType:"solar"}),[z,F]=A.useState(!1),[Q,ee]=A.useState(null),be=ge=>{ee(ge),setTimeout(()=>ee(null),1800)},[J,le]=A.useState(!1),[ae,me]=A.useState(!1);A.useEffect(()=>{if(J){const ge=setTimeout(()=>le(!1),2e3);return()=>clearTimeout(ge)}},[J]),A.useEffect(()=>{if(ae){const ge=setTimeout(()=>me(!1),2e3);return()=>clearTimeout(ge)}},[ae]);const ne=()=>{const ge=$!==null?D?.filter((Fr,hr)=>hr===$)??[]:[];if(ge.length===0){alert("  .");return}const Ue=x===""?"/":"",ue=ge[0],[he,$e,ze]=ue.date.split("-").map(Number),He={:{hh:0,mi:0},:{hh:2,mi:0},:{hh:4,mi:0},:{hh:6,mi:0},:{hh:8,mi:0},:{hh:10,mi:0},:{hh:12,mi:0},:{hh:14,mi:0},:{hh:16,mi:0},:{hh:18,mi:0},:{hh:20,mi:0},:{hh:22,mi:0}};let dt=0,yt=0;if(ue.hourSlots.length>0){const Fr=ue.hourSlots[0].branch,hr=He[Fr];hr&&(dt=hr.hh,yt=hr.mi)}const qt=new Date(he,$e-1,ze,dt,yt),yn=qt,bn="",Ct=S==="male"?"":"";function gi(Fr,hr){const Gr=["","","","","","","","","",""].includes(Fr),jr=hr==="";return Gr?jr?"forward":"backward":jr?"backward":"forward"}const Wn=gi(ue.year.charAt(0),Ct),Ut=vt(yn,127.5),fn=Dt(yn,127.5),_n=Tt(yn,Ue),Hr=Ua(yn,Ue),Ka=[` : ${Ut} ${fn} ${_n}`,Hr?`${Hr}`:null].filter(Boolean).join(" "),Zs={id:M$(),name:"",birthDay:`${he}${String($e).padStart(2,"0")}${String(ze).padStart(2,"0")}`,birthTime:`${String(dt).padStart(2,"0")}${String(yt).padStart(2,"0")}`,gender:Ct,birthPlace:z?{name:"",lat:0,lon:127.5}:H.birthPlace??{name:"",lat:0,lon:127.5},relationship:H.relationship??"",memo:H.memo??"",folder:lu(H.folder),mingSikType:H.mingSikType??"/",DayChangeRule:H.mingSikType===""?"":"",calendarType:H.calendarType??"solar",yearGZ:ue.year,monthGZ:ue.month,dayGZ:ue.day,hourGZ:ue.hour,ganjiText:` : ${ue.year} ${ue.month} ${ue.day} ${ue.hour}`,ganji:Ka,dayStem:ue.day.charAt(0),dateObj:qt,corrected:yn,correctedLocal:bn,dir:Wn};cf.flushSync(()=>{vo.getState().add(Zs)}),n(Zs),ee(" !"),V({gender:"",mingSikType:"/",calendarType:"solar"}),F(!1),t()},q=m||y,K=!!(s.yearStem&&s.yearBranch),X=!!(s.dayStem&&s.dayBranch),ie=!q||K||X,Z=!!d&&d.endsWith("Stem"),W=!!d&&d.endsWith("Branch");function de(ge){return ge==="yearStem"?"yearBranch":ge==="yearBranch"?"yearStem":ge==="monthStem"?"monthBranch":ge==="monthBranch"?"monthStem":ge==="dayStem"?"dayBranch":ge==="dayBranch"?"dayStem":ge==="hourStem"?"hourBranch":"hourStem"}const te=A.useCallback((ge,Ue)=>{if(!m||!ge.yearStem)return ge;const ue={...ge},he=_2[ge.yearStem];if(!he)return ue;const $e=He=>he.filter(dt=>dt.startsWith(He)),ze=He=>he.find(dt=>dt.endsWith(He));if(Ue==="monthStem"&&ue.monthStem){const He=$e(ue.monthStem).map(dt=>dt.slice(1));return He.length>=2?(a(He.slice(0,2)),f("monthBranch"),ue):(He.length===1&&(ue.monthBranch=He[0],a(null)),ue)}if(Ue==="monthBranch"&&ue.monthBranch){const He=ze(ue.monthBranch);return He&&(ue.monthStem=He.slice(0,1),a(null)),ue}if(Ue==="yearStem"){if(ue.monthStem&&!ue.monthBranch){const He=$e(ue.monthStem).map(dt=>dt.slice(1));if(He.length>=2)return a(He.slice(0,2)),f("monthBranch"),ue;He.length===1&&(ue.monthBranch=He[0])}else if(ue.monthBranch&&!ue.monthStem){const He=ze(ue.monthBranch);He&&(ue.monthStem=He.slice(0,1))}}return ue},[m,f]),Y=A.useCallback((ge,Ue)=>{if(!y||!ge.dayStem)return ge;const ue={...ge},he=Ad(ge.dayStem,x),$e=He=>Object.entries(he).find(([,dt])=>dt.startsWith(He)),ze=He=>he[He];if(Ue==="hourStem"&&ue.hourStem){const He=$e(ue.hourStem);return He&&(ue.hourBranch=He[0]),ue}if(Ue==="hourBranch"&&ue.hourBranch){const He=ze(ue.hourBranch);return He&&(ue.hourStem=He.slice(0,1)),ue}if(Ue==="dayStem"){if(ue.hourStem&&!ue.hourBranch){const He=$e(ue.hourStem);He&&(ue.hourBranch=He[0])}else if(ue.hourBranch&&!ue.hourStem){const He=ze(ue.hourBranch);He&&(ue.hourStem=He.slice(0,1))}}return ue},[y,x]),se=A.useCallback(ge=>!m||!ge.yearStem?!1:ge.monthBranch&&ge.monthStem?_3(ge.yearStem,ge.monthBranch)!==ge.monthStem:!1,[m]),xe=A.useCallback(ge=>{if(!y||!ge.dayStem)return!1;if(ge.hourBranch&&ge.hourStem){const ue=Ad(ge.dayStem,x)[ge.hourBranch];return ue?ue.slice(0,1)!==ge.hourStem:!1}return!1},[y,x]);A.useEffect(()=>{if(!(!y||!s.dayStem||!s.hourBranch)&&(s.hourBranch===""||s.hourBranch==="")){const Ue=Ad(s.dayStem,x)[s.hourBranch];Ue&&c(ue=>({...ue,hourStem:Ue.slice(0,1)}))}},[x,y,s.dayStem,s.hourBranch]);const ce=A.useCallback(ge=>{if(!d)return;if(!ie&&!(d==="yearStem"||d==="yearBranch"||d==="dayStem"||d==="dayBranch")){R("/  :    ."),setTimeout(()=>R(null),1500);return}let ue={...s,[d]:ge};(d==="yearStem"||d==="monthStem"||d==="monthBranch")&&(ue=te(ue,d)),(d==="dayStem"||d==="hourStem"||d==="hourBranch")&&(ue=Y(ue,d)),c(ue);let he=!1;se(ue)&&(p(!1),he=!0),xe(ue)&&(b(!1),he=!0),he&&be("/  .   ."),c(ue),O(null);const $e=de(d);f($e),setTimeout(()=>{const ze={...ue};if(ze.yearStem&&ze.yearBranch&&!ze.monthStem){f("monthStem");return}if(ze.monthStem&&ze.monthBranch&&!ze.dayStem){f("dayStem");return}if(ze.dayStem&&ze.dayBranch&&!ze.hourStem){f("hourStem");return}},0)},[d,s,ie,te,Y,se,xe]),Ne=b3(s),pe=A.useCallback(async()=>{if(O(null),R(null),!b3(s)){R("   .");return}const ge=B0(s.yearStem,s.yearBranch),Ue=B0(s.monthStem,s.monthBranch),ue=B0(s.dayStem,s.dayBranch),he=B0(s.hourStem,s.hourBranch),$e=300,ze=[];N(!0);try{const He=new Date(1900,0,1,12,0,0),dt=new Date(2100,11,31,12,0,0);for(let yt=He.getTime();yt<=dt.getTime();yt+=24*3600*1e3){const qt=new Date(yt),yn=x===""?"/":"",bn=vt(qt);if(bn!==ge)continue;const Ct=Dt(qt);if(Ct!==Ue)continue;const gi=Tt(qt,yn);if(gi!==ue)continue;const Wn=Ad(s.dayStem,x),Ut=[];for(let fn=0;fn<12;fn++){const _n=$a.[fn];Wn[_n]===he&&Ut.push({branch:_n,time:jxe[fn]})}if(Ut.length!==0&&(ze.push({date:Nxe(qt),year:bn,month:Ct,day:gi,hour:he,hourSlots:Ut}),ze.length>=$e))break}ze.length===0&&R("  . (: 19002100)"),O(ze)}catch(He){He instanceof Error?R(He.message):R(String(He))}finally{N(!1)}},[s,x]),Te=()=>{c({}),O(null),R(null),f(null)},Me=ge=>{O(null),ge&&c(Ue=>{const ue={...Ue};return ue.yearStem&&ue.monthBranch&&(ue.monthStem=_3(ue.yearStem,ue.monthBranch)),ue}),p(ge)},Le=ge=>{O(null),ge&&c(Ue=>{const ue={...Ue};if(ue.dayStem&&ue.hourBranch){const $e=Ad(ue.dayStem,x)[ue.hourBranch];$e&&(ue.hourStem=$e.slice(0,1))}return ue}),b(ge)};if(!e)return null;const Be=ge=>{if(O(null),T(ge),y&&s.dayStem&&s.hourBranch&&(s.hourBranch===""||s.hourBranch==="")){const ue=Ad(s.dayStem,ge)[s.hourBranch];ue&&c(he=>({...he,hourStem:ue.slice(0,1)}))}};return _.jsx("div",{className:"fixed min-w-[320px] inset-0 z-[1000] flex items-center justify-center bg-black/50",children:_.jsxs("div",{className:"bg-white max-w-[360px] dark:bg-neutral-900 rounded-xl shadow-xl w-full max-w-5xl p-4 relative",children:[_.jsx("button",{onClick:t,className:"absolute top-3 right-3 text-neutral-500 hover:text-neutral-800 dark:hover:text-neutral-200 cursor-pointer","aria-label":"",children:_.jsx(Q5,{size:20})}),_.jsx("h2",{className:"text-lg font-semibold mb-4",children:"  "}),_.jsxs("div",{className:"flex flex-wrap items-center gap-6 mb-4",children:[_.jsxs("div",{children:[_.jsx("p",{className:"font-medium mb-2",children:"/"}),_.jsxs("span",{className:"mr-3 chkContainer",children:[_.jsx("input",{type:"checkbox",id:"useWoldu",checked:m,onChange:ge=>Me(ge.target.checked)}),_.jsx("label",{htmlFor:"useWoldu",className:"ml-1",children:" "})]}),_.jsxs("span",{className:"chkContainer",children:[_.jsx("input",{type:"checkbox",id:"useSidu",checked:y,onChange:ge=>Le(ge.target.checked)}),_.jsx("label",{htmlFor:"useSidu",className:"ml-1",children:" "})]})]}),_.jsxs("div",{children:[_.jsx("p",{className:"font-medium mb-2",children:" "}),_.jsxs("span",{className:"mr-3 chkContainer",children:[_.jsx("input",{type:"radio",id:"jasi",checked:x==="",onChange:()=>Be("")}),_.jsx("label",{htmlFor:"jasi",className:"ml-1",children:""})]}),_.jsxs("span",{className:"chkContainer",children:[_.jsx("input",{type:"radio",id:"insi",checked:x==="",onChange:()=>Be("")}),_.jsx("label",{htmlFor:"insi",className:"ml-1",children:""})]})]}),_.jsxs("div",{children:[_.jsx("p",{className:"font-medium mb-2",children:""}),_.jsxs("span",{className:"mr-3 chkContainer",children:[_.jsx("input",{type:"radio",id:"male",checked:S==="male",onChange:()=>j("male")}),_.jsx("label",{htmlFor:"male",className:"ml-1",children:""})]}),_.jsxs("span",{className:"chkContainer",children:[_.jsx("input",{type:"radio",id:"female",checked:S==="female",onChange:()=>j("female")}),_.jsx("label",{htmlFor:"female",className:"ml-1",children:""})]})]})]}),q&&!ie&&_.jsxs("div",{className:"mb-3 text-sm text-orange-700 bg-orange-50 dark:text-orange-300 dark:bg-orange-900/30 rounded p-2 text-center",children:["/  . ",_.jsx("br",{}),_.jsx("b",{children:""}),"  ",_.jsx("b",{children:""}),"  ."]}),_.jsx("div",{className:"grid grid-cols-4 gap-2 mb-4",children:[["hourStem",""],["dayStem",""],["monthStem",""],["yearStem",""],["hourBranch",""],["dayBranch",""],["monthBranch",""],["yearBranch",""]].map(([ge,Ue])=>{const ue=!ie&&!(ge==="yearStem"||ge==="yearBranch"||ge==="dayStem"||ge==="dayBranch"),he=d===ge;return _.jsxs("button",{onClick:()=>!ue&&f(ge),disabled:ue,className:["border rounded p-2 text-center cursor-pointer",he?"border-purple-500 bg-purple-100 dark:bg-purple-900/30":"border-neutral-300 dark:border-neutral-700",ue?"opacity-50 cursor-not-allowed":""].join(" "),children:[Ue,_.jsx("br",{}),_.jsx("span",{className:"font-bold",children:s[ge]??"-"})]},ge)})}),i&&i.length>0&&_.jsxs("div",{className:"mb-3",children:[_.jsx("p",{className:"text-sm mb-1",children:"  :"}),_.jsx("div",{className:"flex gap-2",children:i.map(ge=>_.jsx("button",{onClick:()=>{let Ue={...s,monthBranch:ge};a(null),Ue=te(Ue,"monthBranch"),c(Ue),f("dayStem")},className:"flex-1 px-2 py-1 border rounded hover:bg-orange-100 dark:hover:bg-orange-800 cursor-pointer",children:ge},ge))})]}),_.jsx("div",{className:"flex w-full flex-wrap gap-6 mb-4",children:d?_.jsxs("div",{className:"w-full",children:[Z&&_.jsxs("div",{children:[_.jsx("p",{className:"font-medium mb-2",children:""}),_.jsx("div",{className:"grid grid-cols-5 gap-2",children:$a..map(ge=>_.jsx("button",{onClick:()=>ce(ge),className:`border rounded px-2 py-1 cursor-pointer ${la(ge,"stem",r)}`,children:ge},ge))})]}),W&&_.jsxs("div",{children:[_.jsx("p",{className:"font-medium mb-2",children:""}),_.jsx("div",{className:"grid grid-cols-6 gap-2",children:$a..filter(ge=>{const Ue=de(d),ue=s[Ue];return ue?Ixe[ge]===Lxe[ue]:!0}).map(ge=>_.jsx("button",{onClick:()=>ce(ge),className:`border rounded px-2 py-1 cursor-pointer ${la(ge,"branch",r)}`,children:ge},ge))})]})]}):_.jsx("div",{className:"text-sm text-neutral-500 p-2 border rounded w-full text-center",children:"    ."})}),_.jsxs("div",{className:"flex justify-between items-center gap-3 mb-4",children:[_.jsx("span",{children:_.jsx("button",{type:"button",onClick:()=>{if(!Ne){le(!0);return}pe()},disabled:M,className:"px-2 py-1 rounded-md bg-blue-600 text-white disabled:opacity-50 cursor-pointer",children:M?" ...":""})}),_.jsxs("span",{className:"flex items-center gap-2",children:[_.jsx("button",{type:"button",onClick:Te,className:"px-2 py-1 rounded-md bg-red-600 border border-neutral-300 dark:border-neutral-700 cursor-pointer",children:""}),_.jsx("button",{type:"button",onClick:()=>{if(($!==null?D?.filter((Ue,ue)=>ue===$)??[]:[]).length===0){me(!0);return}ne()},className:"px-2 py-1 rounded-md border bg-yellow-600 border-neutral-300 dark:border-neutral-700 cursor-pointer",children:""})]})]}),_.jsx("div",{className:"max-h-[40vh] overflow-auto rounded border border-neutral-200 dark:border-neutral-800",children:D?D.length===0?_.jsx("div",{className:"p-4 text-neutral-500",children:"  ."}):_.jsxs("table",{className:"w-full text-xs",children:[_.jsx("thead",{className:"sticky top-0 bg-neutral-50 dark:bg-neutral-800",children:_.jsxs("tr",{children:[_.jsx("th",{className:"p-1 text-center",children:""}),_.jsx("th",{className:"p-1 text-center",children:""}),_.jsx("th",{className:"p-1 text-center",children:""}),_.jsx("th",{className:"p-1 text-center",children:""}),_.jsx("th",{className:"p-1 text-center",children:""}),_.jsx("th",{className:"p-1 text-center",children:""}),_.jsx("th",{className:"p-1 text-center",children:""})]})}),_.jsx("tbody",{children:D.map((ge,Ue)=>_.jsxs("tr",{className:"border-t border-neutral-200 dark:border-neutral-800",children:[_.jsx("td",{className:"p-1 text-center",children:_.jsxs("span",{className:"chkContainer",children:[_.jsx("input",{type:"radio",name:"selectRow",id:`selectRow-${Ue}`,checked:$===Ue,onChange:()=>B(Ue)}),_.jsx("label",{htmlFor:`selectRow-${Ue}`,children:"ON"})]})}),_.jsx("td",{className:"p-1 text-center",children:ge.date}),_.jsx("td",{className:"p-1 text-center",children:ge.year}),_.jsx("td",{className:"p-1 text-center",children:ge.month}),_.jsx("td",{className:"p-1 text-center",children:ge.day}),_.jsx("td",{className:"p-1 text-center",children:_.jsx("div",{className:"flex flex-wrap gap-1",children:ge.hourSlots.map((ue,he)=>_.jsx("span",{className:"inline-flex items-center mx-auto gap-1 px-1 py-0.5 rounded bg-neutral-100 dark:bg-neutral-800 border border-neutral-200 dark:border-neutral-700",children:_.jsx("b",{children:ue.branch})},he))})}),_.jsx("td",{className:"p-1 text-center",children:S==="male"?"":""})]},`${ge.date}-${Ue}`))})]}):_.jsx("div",{className:"p-2 text-neutral-500 text-sm text-center",children:"   ."})}),Q&&_.jsx("div",{className:"pointer-events-none fixed left-1/2 -translate-x-1/2 top-6 z-[1100] border border-white/30",children:_.jsx("div",{className:"px-4 py-2 rounded-md bg-black/80 text-white text-sm shadow-lg",children:Q})}),J&&_.jsx("div",{className:"fixed inset-0 flex items-center justify-center z-[2000]",children:_.jsx("div",{className:"bg-black text-white px-4 py-2 rounded-lg shadow-lg",children:" 4  ."})}),ae&&_.jsx("div",{className:"fixed inset-0 flex items-center justify-center z-[2000]",children:_.jsxs("div",{className:"bg-black text-white px-4 py-2 rounded-lg shadow-lg text-center",children:[" .",_.jsx("br",{})," ,  ."]})})]})})}const Fz=zm(e=>({shinsalBase:"",shinsalEra:"",shinsalGaehwa:!1,hiddenStemMode:"hgc",setShinsalBase:t=>e({shinsalBase:t}),setShinsalEra:t=>e({shinsalEra:t}),setShinsalGaehwa:t=>e({shinsalGaehwa:t}),setHiddenStemMode:t=>e({hiddenStemMode:t})}));function Ty(e){if(!e)return["","","",""];let t=Number(e.birthDay?.slice(0,4)??2e3),n=Number(e.birthDay?.slice(4,6)??1),r=Number(e.birthDay?.slice(6,8)??1);if(e.calendarType==="lunar"){const O=ei(t,n,r);t=O.getFullYear(),n=O.getMonth()+1,r=O.getDate()}const i=!e.birthTime||e.birthTime==="",a=i?4:Number(e.birthTime.slice(0,2)),s=i?30:Number(e.birthTime.slice(2,4)),c=new Date(t,n-1,r,a,s,0,0),d=!e.birthPlace||e.birthPlace.name===""||!e.birthPlace.lon?127.5:e.birthPlace.lon,f=wu(c,d,i),m=e.mingSikType??"/",p=vt(f,d),y=Dt(f,d),b=Tt(f,m),x=i?null:Ua(f,m),T=Ke(p),S=Ke(y),j=Ke(b),D=x?Ke(x):"";return[T,S,j,D]}function Gz(e){const t=new Date(e.corrected),n=Ty(e),r=n[0].charAt(0),a=["","","","",""].includes(r),s=e.gender==="",c=s&&a||!s&&!a?"forward":"backward",d=Km(t,n[1],c,120,e.birthPlace?.lon??127.5),f=d.firstChange;if(!f)return[];const m=[];let p=Ke(d.events[0]?.gz??n[1]);for(let y=0;y<10;y++){const b=new Date(f);if(b.setFullYear(b.getFullYear()+y*10),y>0){const x=d.events[y];x&&(p=Ke(x.gz))}m.push(`${b.getFullYear()} ${String(b.getMonth()+1).padStart(2,"0")} ${p}  `)}return m}const Bxe=!1,x3=e=>e<10?`0${e}`:`${e}`;function qz(e){const t=e,n=typeof t.birthDay=="string"?t.birthDay:"",r=typeof t.calendarType=="string"?t.calendarType:"solar";if(n.length<8)return e;const i=Number(n.slice(0,4)),a=Number(n.slice(4,6)),s=Number(n.slice(6,8));if(r==="lunar")try{const c=ei(i,a,s,0,0),d=`${c.getFullYear()}${x3(c.getMonth()+1)}${x3(c.getDate())}`;return{...e,birthDay:d,calendarType:"solar"}}catch{return e}return e}const Zh={:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},Xh={:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},Pm={:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},z0={:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},zxe=["","","","",""];function w3(e){return zxe.includes(e)}const Yz={:"",:"",:"",:"",:""},Kz={:"",:"",:"",:"",:""},Wz={:"",:"",:"",:"",:""},Vz={:"",:"",:"",:"",:""};function s2(e){if(!e)return null;const t=e.trim();if(["","","","","","","","","",""].includes(t))return t;if(Zh[t])return Zh[t];if(["","","","","","","","","","","",""].includes(t))return z0[t]??null;if(Xh[t])return z0[Xh[t]]??null;const n=t.charAt(0);return Zh[n]?Zh[n]:["","","","","","","","","",""].includes(n)?n:Xh[n]?z0[Xh[n]]??null:["","","","","","","","","","","",""].includes(n)?z0[n]??null:null}function Uxe(e,t){const n=Pm[e],r=Pm[t];if(!n||!r)return"";let i;r===n?i="":r===Yz[n]?i="":r===Kz[n]?i="":r===Wz[n]?i="":r===Vz[n]?i="":i="";const a=w3(e)===w3(t);switch(i){case"":return a?"":"";case"":return a?"":"";case"":return a?"":"";case"":return a?"":"";case"":return a?"":""}}function Zz(e){const t=Object.entries(e),n=t.reduce((f,[,m])=>f+(m>0?m:0),0);if(n<=0)return Object.fromEntries(t.map(([f])=>[f,0]));const r=t.map(([f,m])=>[f,(m>0?m:0)*100/n]),i=r.map(([f,m])=>[f,Math.floor(m)]);let a=i.reduce((f,[,m])=>f+m,0);const s=r.map(([f,m])=>[f,m-Math.floor(m)]).sort((f,m)=>m[1]-f[1]),c=Object.fromEntries(i.map(([f,m])=>[f,m]));let d=0;for(;a<100&&d<s.length;)c[s[d][0]]+=1,a+=1,d+=1;return c}function Hxe(e){const t={};for(const[n,r]of Object.entries(e??{})){if(r<=0)continue;const i=s2(n);i&&(t[i]=(t[i]??0)+r)}return t}function Fxe(e){if(!e)return[];const t=s2(e.charAt(0)),n=s2(e.charAt(1));return[t,n].filter(Boolean)}function U0(e){const t=Fxe(e),n={};for(const r of t)n[r]=(n[r]??0)+1;return n}function Ji(e,t){return t===e?"":t===Yz[e]?"":t===Kz[e]?"":t===Wz[e]?"":t===Vz[e]?"":""}const Gxe={:{name:"",element:"",brief:"  ",keywords:" "},:{name:"",element:"",brief:"  ",keywords:" "},:{name:"",element:"",brief:"  ",keywords:" "},:{name:"",element:"",brief:"  ",keywords:" "},:{name:"",element:"",brief:"  ",keywords:""},:{name:"",element:"",brief:"  ",keywords:""},:{name:"",element:"",brief:" ",keywords:"/"},:{name:"",element:"",brief:" ",keywords:"/"},:{name:"",element:"",brief:" ",keywords:""},:{name:"",element:"",brief:" ",keywords:""},:{name:"",element:"",brief:" ()",keywords:""},:{name:"",element:"",brief:" ()",keywords:""},:{name:"",element:"",brief:"  ",keywords:" "},:{name:"",element:"",brief:"  ",keywords:" "},:{name:"",element:"",brief:" ",keywords:"/"},:{name:"",element:"",brief:" ",keywords:"/"},:{name:"",element:"",brief:"   ",keywords:"  "},:{name:"",element:"",brief:"   ",keywords:"  "},:{name:"",element:"",brief:"",keywords:""},:{name:"",element:"",brief:"",keywords:""},:{name:"",element:"",brief:"/ ",keywords:""},:{name:"",element:"",brief:"/ ",keywords:""},:{name:"",element:"",brief:"  ",keywords:"  /"},:{name:"",element:"",brief:"  ",keywords:"  /"},:{name:"",element:"",brief:"",keywords:"/"},:{name:"",element:"",brief:"",keywords:"/"},:{name:"",element:"",brief:"",keywords:""},:{name:"",element:"",brief:"",keywords:""},:{name:"",element:"",brief:"  ",keywords:""},:{name:"",element:"",brief:"  ",keywords:""},:{name:"",element:"",brief:" ",keywords:"/ "},:{name:"",element:"",brief:" ",keywords:"/ "},:{name:"",element:"",brief:"  ",keywords:"/"},:{name:"",element:"",brief:"  ",keywords:"/"},:{name:"",element:"",brief:" ",keywords:" "},:{name:"",element:"",brief:" ",keywords:" "},:{name:"",element:"",brief:"  ()",keywords:"/"},:{name:"",element:"",brief:"  ()",keywords:"/"},:{name:"",element:"",brief:"()",keywords:" "},:{name:"",element:"",brief:"()",keywords:" "},:{name:"",element:"",brief:"( )",keywords:" "},:{name:"",element:"",brief:"( )",keywords:" "},:{name:"",element:"",brief:" ()",keywords:"  "},:{name:"",element:"",brief:" ()",keywords:"  "},:{name:"",element:"",brief:"/ ",keywords:" "},:{name:"",element:"",brief:"/ ",keywords:" "},:{name:"",element:"",brief:" ",keywords:"/"},:{name:"",element:"",brief:" ",keywords:"/"},:{name:"",element:"",brief:"",keywords:""},:{name:"",element:"",brief:"",keywords:""},:{name:"",element:"",brief:"  ",keywords:" "},:{name:"",element:"",brief:"  ",keywords:" "},:{name:"",element:"",brief:"",keywords:" "},:{name:"",element:"",brief:"",keywords:" "},:{name:"",element:"",brief:" ()",keywords:""},:{name:"",element:"",brief:" ()",keywords:""},:{name:"",element:"",brief:"",keywords:""},:{name:"",element:"",brief:"",keywords:""},:{name:"",element:"",brief:"  ",keywords:"/"},:{name:"",element:"",brief:"  ",keywords:"/"}};function qxe(e){if(!e||e.length<2)return e;const t=e.charAt(0),n=e.charAt(1),r=Zh[t]??t,i=Xh[n]??n;return`${r}${i}`}function Ir(e){const t=qxe(e),n=Gxe[t];return n?{...n,code:t}:null}function Yxe(e){const t={:0,:0,:0,:0,:0};for(const[n,r]of Object.entries(e)){const i=Pm[n];i&&(t[i]+=r)}return t}function Kxe(e,t){const n={:0,:0,:0,:0,:0,:0,:0,:0,:0,:0};for(const[r,i]of Object.entries(e)){if(i<=0)continue;const a=Uxe(t,r);n[a]+=i}return n}function Wxe(e){return{:e.+e.,:e.+e.,:e.+e.,:e.+e.,:e.+e.}}const Vxe={natal:50,dae:30,se:20,wol:7,il:3};function Zxe(e){const t={};for(const{kind:r,bare:i}of e){const a=Vxe[r]??0;if(a<=0)continue;const s=Zz(i);for(const[c,d]of Object.entries(s))t[c]=(t[c]??0)+d*a}const n=Object.values(t).reduce((r,i)=>r+i,0);if(n>0)for(const r of Object.keys(t))t[r]=t[r]/n*100;return t}function lo(e,t,n){const r=Hxe(e.perStemElementScaled),i=t!==""&&n?.dae?U0(n.dae):{},a=(t===""||t===""||t==="")&&n?.se?U0(n.se):{},s=(t===""||t==="")&&n?.wol?U0(n.wol):{},c=t===""&&n?.il?U0(n.il):{},d=Zxe([{kind:"natal",bare:r},{kind:"dae",bare:i},{kind:"se",bare:a},{kind:"wol",bare:s},{kind:"il",bare:c}]),f=Zz(d),m=Yxe(f),p=Kxe(f,e.dayStem),y=Wxe(p);return{perStemAugBare:f,elementPercent:m,totalsSub:p,totalsMain:y}}function Xxe(e,t){return e[3]&&e[3]!==""?["","","",!t.birthTime||t.birthTime===""?"()":""]:["","",""]}const xS=e=>typeof e=="object"&&e!==null&&!Array.isArray(e),l2=e=>{if(Array.isArray(e)){const t=e.map(l2).filter(n=>!(n==null||Array.isArray(n)&&n.length===0||xS(n)&&Object.keys(n).length===0));return t.length>0?t:void 0}if(xS(e)){const t={};for(const[n,r]of Object.entries(e)){const i=l2(r);i!==void 0&&(Array.isArray(i)&&i.length===0||xS(i)&&Object.keys(i).length===0||(t[n]=i))}return Object.keys(t).length>0?t:void 0}if(e!=null)return e},Jxe=e=>{const t=l2(e);return t===void 0?"":typeof t=="string"||typeof t=="number"||typeof t=="boolean"?String(t):["```json",JSON.stringify(t,null,2),"```"].join(`
`)},Xi=(e,t)=>{const n=Jxe(t);return n?`## ${e}
${n}`:""};function Qxe(e){const{ms:t,natal:n,chain:r,basis:i,tab:a,unified:s,percent:c,category:d,topic:f,subTopic:m,relationMode:p,teacherMode:y,sections:b}=e,x=b?.tenGod??!0,T=b?.twelveUnseong??!0,S=b?.twelveShinsal??!0,j=b?.shinsal??!0,D=b?.nabeum??!0,O=[Ke(n[0]??""),Ke(n[1]??""),Ke(n[2]??""),Ke(n[3]??"")],M=Gz(t).slice(0,10),N=Xr({natal:O,daewoon:a!==""?r?.dae??void 0:void 0,sewoon:a===""||a===""||a===""?r?.se??void 0:void 0,wolwoon:a===""||a===""?r?.wol??void 0:void 0,ilwoon:a===""?r?.il??void 0:void 0}),R=Ni({natal:O,daewoon:a!==""?r?.dae??void 0:void 0,sewoon:a===""||a===""||a===""?r?.se??void 0:void 0,wolwoon:a===""||a===""?r?.wol??void 0:void 0,ilwoon:a===""?r?.il??void 0:void 0}),{shinsalEra:$,shinsalGaehwa:B,shinsalBase:H}=Fz.getState(),V=H===""?O[0]?.charAt(1)??"":O[2]?.charAt(1)??"",z=lo(s,a,r),F=z.elementPercent,Q=z.totalsSub,{flags:ee}=H5(O,s.elementScoreRaw),be=`${d} (${c.toFixed(1)}%)  ${[` ${ee..||ee..||ee..||ee..?"":""}`,` ${ee..||ee..||ee..||ee..?"":""}`,` ${ee..||ee..?"":""}`].join(", ")}`,J=!t.birthTime||t.birthTime==="";function le(te){const se=qz(te).birthDay??"",xe=se.slice(0,4),ce=se.slice(4,6),Ne=se.slice(6,8);let pe="";if(te.corrected instanceof Date&&!isNaN(te.corrected.getTime())){const Te=String(te.corrected.getHours()).padStart(2,"0"),Me=String(te.corrected.getMinutes()).padStart(2,"0");pe=J?"":`${Te}:${Me}`}return`${xe} ${ce} ${Ne}  ${pe}`}function ae(te,Y){if(!Y)return"()";const se=[];return(te===""||te===""||te===""||te==="")&&Y.dae&&se.push(`:${Ke(Y.dae)}`),(te===""||te===""||te==="")&&Y.se&&se.push(`:${Ke(Y.se)}`),(te===""||te==="")&&Y.wol&&se.push(`:${Ke(Y.wol)}`),te===""&&Y.il&&se.push(`:${Ke(Y.il)}`),se.length>0?se.join(" / "):"()"}const me=Xxe(O,t),ne=s.dayStem,q=Pm[ne],K=[` : ${t.name??""} (${le(t)}) : ${t.gender}`,` ${O[0]} ${O[1]} ${O[2]}`+(O[3]?` ${O[3]}${!t.birthTime||t.birthTime===""?"()":""}`:""),`: ${ae(a,r)}`].join(`
`),X=[];if(X.push(Xi("  (10)",M)),X.push(Xi("",be)),X.push(Xi("(  )",Object.fromEntries(Object.entries(s.natalFixed.elementPercent100).map(([te,Y])=>[`${te}(${Ji(q,te)})`,Y])))),a!==""&&X.push(Xi(`(=${a})`,Object.fromEntries(Object.entries(F).map(([te,Y])=>[`${te}(${Ji(q,te)})`,Y])))),x&&(X.push(Xi(" ( 10 100)",s.natalFixed.totalsSub)),a!==""&&X.push(Xi(` ( 10=${a} 100)`,Q))),T&&X.push(Xi("(+ )",a===""?O.map((te,Y)=>!te||Y>=me.length?null:{pos:me[Y],gz:te,unseong:ln(O[2]?.charAt(0)??"",te.charAt(1))}).filter(Boolean):[...O.map((te,Y)=>!te||Y>=me.length?null:{pos:me[Y],gz:te,unseong:ln(O[2]?.charAt(0)??"",te.charAt(1))}).filter(Boolean),...r?.dae?[{pos:"",gz:r.dae,unseong:ln(O[2]?.charAt(0)??"",r.dae.charAt(1))}]:[],...(a===""||a===""||a==="")&&r?.se?[{pos:"",gz:r.se,unseong:ln(O[2]?.charAt(0)??"",r.se.charAt(1))}]:[],...(a===""||a==="")&&r?.wol?[{pos:"",gz:r.wol,unseong:ln(O[2]?.charAt(0)??"",r.wol.charAt(1))}]:[],...a===""&&r?.il?[{pos:"",gz:r.il,unseong:ln(O[2]?.charAt(0)??"",r.il.charAt(1))}]:[]].filter(Boolean))),S&&X.push(Xi("(+  )",a===""?O.map((te,Y)=>!te||Y>=me.length?null:{pos:me[Y],gz:te,shinsal:cn({baseBranch:V,targetBranch:te.charAt(1),era:$,gaehwa:B})}).filter(Boolean):[...O.map((te,Y)=>!te||Y>=me.length?null:{pos:me[Y],gz:te,shinsal:cn({baseBranch:V,targetBranch:te.charAt(1),era:$,gaehwa:B})}).filter(Boolean),...r?.dae?[{pos:"",gz:r.dae,shinsal:cn({baseBranch:V,targetBranch:r.dae.charAt(1),era:$,gaehwa:B})}]:[],...(a===""||a===""||a==="")&&r?.se?[{pos:"",gz:r.se,shinsal:cn({baseBranch:V,targetBranch:r.se.charAt(1),era:$,gaehwa:B})}]:[],...(a===""||a==="")&&r?.wol?[{pos:"",gz:r.wol,shinsal:cn({baseBranch:V,targetBranch:r.wol.charAt(1),era:$,gaehwa:B})}]:[],...a===""&&r?.il?[{pos:"",gz:r.il,shinsal:cn({baseBranch:V,targetBranch:r.il.charAt(1),era:$,gaehwa:B})}]:[]].filter(Boolean))),D&&X.push(Xi("(+ )",a===""?O.map((te,Y)=>{if(!te||Y>=me.length)return null;const se=Ir(te);return se?{pos:me[Y],gz:te,nabeum:se.name,element:se.element,code:se.code}:{pos:me[Y],gz:te,nabeum:null}}).filter(Boolean):[...O.map((te,Y)=>{if(!te||Y>=me.length)return null;const se=Ir(te);return se?{pos:me[Y],gz:te,nabeum:se.name,element:se.element,code:se.code}:{pos:me[Y],gz:te,nabeum:null}}).filter(Boolean),...r?.dae?(()=>{const te=Ir(r.dae);return te?[{pos:"",gz:r.dae,nabeum:te.name,element:te.element,code:te.code}]:[]})():[],...(a===""||a===""||a==="")&&r?.se?(()=>{const te=Ir(r.se);return te?[{pos:"",gz:r.se,nabeum:te.name,element:te.element,code:te.code}]:[]})():[],...(a===""||a==="")&&r?.wol?(()=>{const te=Ir(r.wol);return te?[{pos:"",gz:r.wol,nabeum:te.name,element:te.element,code:te.code}]:[]})():[],...a===""&&r?.il?(()=>{const te=Ir(r.il);return te?[{pos:"",gz:r.il,nabeum:te.name,element:te.element,code:te.code}]:[]})():[]].filter(Boolean))),X.push(Xi("()",EA(O.filter((te,Y)=>Y<me.length)))),X.push(Xi("( :  )",N)),j)if(a===""){const te=Ni({natal:O,daewoon:null,sewoon:null,wolwoon:null,ilwoon:null,basis:i});X.push(Xi("( )",{good:te.good,bad:te.bad,meta:te.meta}))}else X.push(Xi(`( =${a})`,R));const ie=X.filter(te=>te&&te.trim().length>0).join(`

`),Z=t8({topic:f,subTopic:m,timeMode:"single",tab:a,relationMode:p,teacherMode:y}),W=["-----","  ","","1.       (////)  .","2.  ,        ."];Z&&W.push("","  ( )",Z);const de=W.join(`
`);return[K,ie,de].join(`

`)}function ewe(e,t){return e[3]&&e[3]!==""?["","","",!t.birthTime||t.birthTime===""?"()":""]:["","",""]}const twe=e=>typeof e=="object"&&e!==null&&!Array.isArray(e);function rk(e){return new Date(e.startYear,(e.startMonth??1)-1,e.startDay??1)}function Xz(e,t){const n=e[t],r=e[t+1];return r?rk(r):new Date(n.endYear+1,0,1)}function Jz(e,t,n,r){return e<r&&t>n}function Qz(e,t,n){const r=new Date(t,0,1),i=new Date(n+1,0,1),a=[];for(let s=0;s<e.length;s++){const c=e[s],d=rk(c),f=Xz(e,s);Jz(d,f,r,i)&&(a.some(m=>m.gz===c.gz&&m.startYear===c.startYear)||a.push(c))}return a}function S3(e,t){return Qz(e,t,t)}function H0(e,t,n){const r=new Date(t,n-1,1),i=new Date(t,n,1),a=[];for(let s=0;s<e.length;s++){const c=e[s],d=rk(c),f=Xz(e,s);Jz(d,f,r,i)&&(a.some(m=>m.gz===c.gz&&m.startYear===c.startYear)||a.push(c))}return a}function e8(e){const t=315569259747e-1,i=Date.UTC(1900,1,4,7,15,0)+(e-1900)*t+3*t/24,a=new Date(i);return new Date(a.getTime()+540*60*1e3)}function F0(e,t){const n=[],r=new Date(e,t-1,15,0,0,0),i=new Date(e,t,1,15,0,0),a=e8(e),s=vt(new Date(e-1,5,15)),c=vt(new Date(e,5,15)),d=vt(new Date(e+1,5,15));if(i<=a)s&&n.push(Ke(s));else if(r>=a)c&&n.push(Ke(c));else if(s&&n.push(Ke(s)),c){const f=Ke(c);n.includes(f)||n.push(f)}if(t===12&&d){const f=Ke(d);n.includes(f)||n.push(f)}return n}function nwe(e,t){const n=e8(e),r=new Date(e,t-1,1),i=[];return r<n&&i.push(e-1),r>=n&&i.push(e),t===12&&i.push(e+1),i}const zo=(e,t)=>{if(!e)return{};const n=t,r=c=>{if(!c)return;const d={};for(const[f,m]of Object.entries(c)){if(!Array.isArray(m))continue;const p=m.filter(y=>typeof y=="string"&&y.includes(n));p.length>0&&(d[f]=p)}if(Object.keys(d).length!==0)return d},i=r(e.good),a=r(e.bad),s={};return i&&(s.good=i),a&&(s.bad=a),s};function c2(e){if(e!=null){if(Array.isArray(e)){const t=e.map(n=>c2(n)).filter(n=>n!==void 0);return t.length>0?t:void 0}if(twe(e)){const t={};for(const[n,r]of Object.entries(e)){const i=c2(r);i!==void 0&&(t[n]=i)}return Object.keys(t).length>0?t:void 0}return e}}const rwe=e=>e==null?"":typeof e=="string"?e:JSON.stringify(e,null,2),br=(e,t)=>{const n=c2(t);if(n===void 0)return"";const r=rwe(n);return r.trim()?`## ${e}
${r}`:""},_s=(e,t)=>{const n={};if(!e||typeof e!="object")return n;for(const[r,i]of Object.entries(e)){if(!Array.isArray(i))continue;const a=Array.from(new Set(i.filter(s=>typeof s=="string"&&s.includes(t))));a.length>0&&(n[r]=a)}return n};function iwe(e){const{ms:t,natal:n,basis:r,unified:i,percent:a,category:s,selectedDaeList:c,daeList:d,seYears:f,wolMonths:m,ilDays:p,topic:y,subTopic:b,teacherMode:x,sections:T}=e,S=[Ke(n[0]??""),Ke(n[1]??""),Ke(n[2]??""),Ke(n[3]??"")],j=T?.tenGod??!0,D=T?.twelveUnseong??!0,O=T?.twelveShinsal??!0,M=T?.shinsal??!0,N=T?.nabeum??!0,R=!t.birthTime||t.birthTime==="",$=ewe(S,t),B=i.dayStem,H=Pm[B],{shinsalEra:V,shinsalGaehwa:z,shinsalBase:F}=Fz.getState(),Q=F===""?S[0]?.charAt(1)??"":S[2]?.charAt(1)??"",{flags:ee}=H5(S,i.elementScoreRaw),be=`${s} (${a.toFixed(1)}%)  ${[` ${ee..||ee..||ee..||ee..?"":""}`,` ${ee..||ee..||ee..||ee..?"":""}`,` ${ee..||ee..?"":""}`].join(", ")}`;function J(X){const Z=qz(X).birthDay??"",W=Z.slice(0,4),de=Z.slice(4,6),te=Z.slice(6,8);let Y="";if(X.corrected instanceof Date&&!isNaN(X.corrected.getTime())){const se=String(X.corrected.getHours()).padStart(2,"0"),xe=String(X.corrected.getMinutes()).padStart(2,"0");Y=R?"":`${se}:${xe}`}return`${W} ${de} ${te}  ${Y}`}const le=[` : ${t.name??""} (${J(t)}) : ${t.gender}`,` ${S[0]} ${S[1]} ${S[2]}`+(S[3]?` ${S[3]}${!t.birthTime||t.birthTime===""?"()":""}`:"")].join(`
`),ae=[];if(ae.push(br("",be)),ae.push(br("()",Object.fromEntries(Object.entries(i.natalFixed.elementPercent100).map(([X,ie])=>[`${X}(${Ji(H,X)})`,ie])))),j&&ae.push(br(" ( 10 100)",i.natalFixed.totalsSub)),D&&ae.push(br("()",S.map((X,ie)=>!X||ie>=$.length?null:{pos:$[ie],gz:X,unseong:ln(S[2]?.charAt(0)??"",X.charAt(1))}).filter(Boolean))),O&&ae.push(br("()",S.map((X,ie)=>!X||ie>=$.length?null:{pos:$[ie],gz:X,shinsal:cn({baseBranch:Q,targetBranch:X.charAt(1),era:V,gaehwa:z})}).filter(Boolean))),ae.push(br("()",EA(S.filter((X,ie)=>ie<$.length)))),N&&ae.push(br("()",S.map((X,ie)=>{if(!X||ie>=$.length)return null;const Z=Ir(X);return Z?{pos:$[ie],gz:X,nabeum:Z.name,element:Z.element,code:Z.code}:{pos:$[ie],gz:X,nabeum:null}}).filter(Boolean))),M){const X=Ni({natal:S,daewoon:null,sewoon:null,wolwoon:null,ilwoon:null,basis:r});ae.push(br("()",{good:X.good,bad:X.bad,meta:X.meta}))}if(d.length>0)for(const X of c){const ie={dae:X.gz,se:null,wol:null,il:null},Z=lo(i,"",ie),W=Xr({natal:S,daewoon:X.gz,sewoon:void 0,wolwoon:void 0,ilwoon:void 0}),de=M?Ni({natal:S,daewoon:X.gz,sewoon:void 0,wolwoon:void 0,ilwoon:void 0,basis:r}):null,te=N?Ir(X.gz):null,Y=D?ln(S[2]?.charAt(0)??"",X.gz.charAt(1)):null,se=O?cn({baseBranch:Q,targetBranch:X.gz.charAt(1),era:V,gaehwa:z}):null;ae.push(br(`${X.age} ${X.gz} (${X.startYear}~${X.endYear})`,{:Object.fromEntries(Object.entries(Z.elementPercent).map(([xe,ce])=>[`${xe}(${Ji(H,xe)})`,ce])),...j?{:Z.totalsSub}:{},:W,...M?{:zo(de,"")}:{},...N?{:te?{gz:X.gz,nabeum:te.name,element:te.element,code:te.code}:null}:{},...D?{:{pos:"",gz:X.gz,unseong:Y}}:{},...O?{:{pos:"",gz:X.gz,shinsal:se}}:{}}))}if(f.length>0){const X=f[0],ie=f[f.length-1],Z=Qz(d,X,ie);if(Z.length>0){const W=X,de=vt(new Date(W,5,15)),te=Ke(de||""),Y={:Z.map(se=>{const xe={dae:se.gz,se:te||null,wol:null,il:null},ce=lo(i,"",xe),Ne=Xr({natal:S,daewoon:se.gz,sewoon:te||void 0,wolwoon:void 0,ilwoon:void 0}),pe=M?Ni({natal:S,daewoon:se.gz,sewoon:te||void 0,wolwoon:void 0,ilwoon:void 0,basis:r}):null,Te=N?Ir(se.gz):null,Me=D?ln(S[2]?.charAt(0)??"",se.gz.charAt(1)):null,Le=O?cn({baseBranch:Q,targetBranch:se.gz.charAt(1),era:V,gaehwa:z}):null;return{:`${se.age} ${se.gz} (${se.startYear}~${se.endYear})`,:se.gz,:Object.fromEntries(Object.entries(ce.elementPercent).map(([Be,ge])=>[`${Be}(${Ji(H,Be)})`,ge])),...j?{:ce.totalsSub}:{},:_s(Ne,""),...M?{:zo(pe,"")}:{},...N?{:Te?{gz:se.gz,nabeum:Te.name,element:Te.element,code:Te.code}:null}:{},...D?{:{pos:"",gz:se.gz,unseong:Me}}:{},...O?{:{pos:"",gz:se.gz,shinsal:Le}}:{}}})};ae.push(br("",Y))}for(const W of f){const de=vt(new Date(W,5,15)),te=S3(d,W),Y=te.length>0?te[0]:null,se={dae:Y?Y.gz:null,se:Ke(de||""),wol:null,il:null},xe=lo(i,"",se),ce=Xr({natal:S,daewoon:Y?.gz,sewoon:Ke(de||""),wolwoon:void 0,ilwoon:void 0}),Ne=M?Ni({natal:S,daewoon:Y?.gz,sewoon:Ke(de||""),wolwoon:void 0,ilwoon:void 0,basis:r}):null,pe=Ke(de||""),Te=N?Ir(pe):null,Me=D?ln(S[2]?.charAt(0)??"",(de||"").charAt(1)):null,Le=O?cn({baseBranch:Q,targetBranch:(de||"").charAt(1),era:V,gaehwa:z}):null,Be={:{:`${W} ${pe}`,:pe,:Object.fromEntries(Object.entries(xe.elementPercent).map(([ge,Ue])=>[`${ge}(${Ji(H,ge)})`,Ue])),...j?{:xe.totalsSub}:{},:_s(ce,""),...M?{:zo(Ne,"")}:{},...N?{:Te?{gz:pe,nabeum:Te.name,element:Te.element,code:Te.code}:null}:{},...D?{:{pos:"",gz:pe,unseong:Me}}:{},...O?{:{pos:"",gz:pe,shinsal:Le}}:{}}};ae.push(br(` ${W}`,Be))}}if(m.length>0){const X=[],ie=new Map;for(const Y of m){const[se,xe]=Y.split("-").map(Number);H0(d,se,xe).forEach(Te=>{X.some(Me=>Me.gz===Te.gz&&Me.startYear===Te.startYear)||X.push(Te)});const Ne=nwe(se,xe);F0(se,xe).forEach((Te,Me)=>{const Le=Ne[Me]??Ne[Ne.length-1];ie.has(Te)||ie.set(Te,{year:Le,month:xe})})}const[Z]=m[0].split("-").map(Number),W=vt(new Date(Z,5,15)),de=Ke(W||"");if(X.length>0){const Y={:X.map(se=>{const xe={dae:se.gz,se:de||null,wol:null,il:null},ce=lo(i,"",xe),Ne=Xr({natal:S,daewoon:se.gz,sewoon:de||void 0,wolwoon:void 0,ilwoon:void 0}),pe=M?Ni({natal:S,daewoon:se.gz,sewoon:de||void 0,wolwoon:void 0,ilwoon:void 0,basis:r}):null,Te=N?Ir(se.gz):null,Me=D?ln(S[2]?.charAt(0)??"",se.gz.charAt(1)):null,Le=O?cn({baseBranch:Q,targetBranch:se.gz.charAt(1),era:V,gaehwa:z}):null;return{:`${se.age} ${se.gz} (${se.startYear}~${se.endYear})`,:se.gz,:Object.fromEntries(Object.entries(ce.elementPercent).map(([Be,ge])=>[`${Be}(${Ji(H,Be)})`,ge])),...j?{:ce.totalsSub}:{},:_s(Ne,""),...M?{:zo(pe,"")}:{},...N?{:Te?{gz:se.gz,nabeum:Te.name,element:Te.element,code:Te.code}:null}:{},...D?{:{pos:"",gz:se.gz,unseong:Me}}:{},...O?{:{pos:"",gz:se.gz,shinsal:Le}}:{}}})};ae.push(br("",Y))}const te=Array.from(ie.keys());if(te.length>0){const Y={:te.map(se=>{const ce=ie.get(se).year,pe=S3(d,ce)[0]??X[0]??null,Te={dae:pe?pe.gz:null,se,wol:null,il:null},Me=lo(i,"",Te),Le=Xr({natal:S,daewoon:pe?.gz,sewoon:se,wolwoon:void 0,ilwoon:void 0}),Be=M?Ni({natal:S,daewoon:pe?.gz,sewoon:se,wolwoon:void 0,ilwoon:void 0,basis:r}):null,ge=N?Ir(se):null,Ue=D?ln(S[2]?.charAt(0)??"",se.charAt(1)):null,ue=O?cn({baseBranch:Q,targetBranch:se.charAt(1),era:V,gaehwa:z}):null;return{:`${ce} ${se}`,:se,:Object.fromEntries(Object.entries(Me.elementPercent).map(([he,$e])=>[`${he}(${Ji(H,he)})`,$e])),...j?{:Me.totalsSub}:{},:_s(Le,""),...M?{:zo(Be,"")}:{},...N?{:ge?{gz:se,nabeum:ge.name,element:ge.element,code:ge.code}:null}:{},...D?{:{pos:"",gz:se,unseong:Ue}}:{},...O?{:{pos:"",gz:se,shinsal:ue}}:{}}})};ae.push(br("",Y))}for(const Y of m){const[se,xe]=Y.split("-").map(Number),ce=new Date(se,xe-1,15),Ne=Dt(ce),pe=H0(d,se,xe),Te=pe.length>0?pe[0]:null,Me=F0(se,xe),Le=Me.length>0?Me[Me.length-1]:"",Be={dae:Te?Te.gz:null,se:Le||null,wol:Ke(Ne||""),il:null},ge=lo(i,"",Be),Ue=Xr({natal:S,daewoon:Te?.gz,sewoon:Le||void 0,wolwoon:Ke(Ne||""),ilwoon:void 0}),ue=M?Ni({natal:S,daewoon:Te?.gz,sewoon:Le||void 0,wolwoon:Ke(Ne||""),ilwoon:void 0,basis:r}):null,he=Ke(Ne||""),$e=N?Ir(he):null,ze=D?ln(S[2]?.charAt(0)??"",(Ne||"").charAt(1)):null,He=O?cn({baseBranch:Q,targetBranch:(Ne||"").charAt(1),era:V,gaehwa:z}):null,dt={:{:`${Y} ${he}`,:he,:Object.fromEntries(Object.entries(ge.elementPercent).map(([yt,qt])=>[`${yt}(${Ji(H,yt)})`,qt])),...j?{:ge.totalsSub}:{},:_s(Ue,""),...M?{:zo(ue,"")}:{},...N?{:$e?{gz:he,nabeum:$e.name,element:$e.element,code:$e.code}:null}:{},...D?{:{pos:"",gz:he,unseong:ze}}:{},...O?{:{pos:"",gz:he,shinsal:He}}:{}}};ae.push(br(` ${Y}`,dt))}}if(p.length>0){const X=t.mingSikType??"/",[ie,Z,W]=p[0].split("-").map(Number),de=new Date(ie,Z-1,W,4,0);if(!isNaN(de.getTime())){const te=H0(d,ie,Z),Y=te.length>0?te[0]:null,se=F0(ie,Z),xe=se.length>0?se[se.length-1]:"",ce=Dt(new Date(ie,Z-1,15)),Ne=Tt(de,X),pe=Ke(ce||""),Te=Ke(xe||""),Me=Ke(Ne||"");if(Y){const Le={dae:Y.gz,se:Te,wol:pe,il:Me},Be=lo(i,"",Le),ge=Xr({natal:S,daewoon:Y.gz,sewoon:Te,wolwoon:pe,ilwoon:Me}),Ue=M?Ni({natal:S,daewoon:Y.gz,sewoon:Te,wolwoon:pe,ilwoon:Me,basis:r}):null,ue=N?Ir(Y.gz):null,he=D?ln(S[2]?.charAt(0)??"",Y.gz.charAt(1)):null,$e=O?cn({baseBranch:Q,targetBranch:Y.gz.charAt(1),era:V,gaehwa:z}):null;ae.push(br("",{:`${Y.age} ${Y.gz} (${Y.startYear}~${Y.endYear})`,:Y.gz,:Object.fromEntries(Object.entries(Be.elementPercent).map(([ze,He])=>[`${ze}(${Ji(H,ze)})`,He])),...j?{:Be.totalsSub}:{},:_s(ge,""),...M?{:zo(Ue,"")}:{},...N?{:ue?{gz:Y.gz,nabeum:ue.name,element:ue.element,code:ue.code}:null}:{},...D?{:{pos:"",gz:Y.gz,unseong:he}}:{},...O?{:{pos:"",gz:Y.gz,shinsal:$e}}:{}}))}if(Te){const Le={dae:Y?Y.gz:null,se:Te,wol:pe,il:Me},Be=lo(i,"",Le),ge=Xr({natal:S,daewoon:Y?.gz,sewoon:Te,wolwoon:pe,ilwoon:Me}),Ue=M?Ni({natal:S,daewoon:Y?.gz,sewoon:Te,wolwoon:pe,ilwoon:Me,basis:r}):null,ue=N?Ir(Te):null,he=D?ln(S[2]?.charAt(0)??"",Te.charAt(1)):null,$e=O?cn({baseBranch:Q,targetBranch:Te.charAt(1),era:V,gaehwa:z}):null;ae.push(br("",{:`${ie} ${Te}`,:Te,:Object.fromEntries(Object.entries(Be.elementPercent).map(([ze,He])=>[`${ze}(${Ji(H,ze)})`,He])),...j?{:Be.totalsSub}:{},:_s(ge,""),...M?{:zo(Ue,"")}:{},...N?{:ue?{gz:Te,nabeum:ue.name,element:ue.element,code:ue.code}:null}:{},...D?{:{pos:"",gz:Te,unseong:he}}:{},...O?{:{pos:"",gz:Te,shinsal:$e}}:{}}))}if(pe){const Le={dae:Y?Y.gz:null,se:Te,wol:pe,il:Me},Be=lo(i,"",Le),ge=Xr({natal:S,daewoon:Y?.gz,sewoon:Te,wolwoon:pe,ilwoon:Me}),Ue=M?Ni({natal:S,daewoon:Y?.gz,sewoon:Te,wolwoon:pe,ilwoon:Me,basis:r}):null,ue=N?Ir(pe):null,he=D?ln(S[2]?.charAt(0)??"",pe.charAt(1)):null,$e=O?cn({baseBranch:Q,targetBranch:pe.charAt(1),era:V,gaehwa:z}):null;ae.push(br("",{:`${ie}-${String(Z).padStart(2,"0")} ${pe}`,:pe,:Object.fromEntries(Object.entries(Be.elementPercent).map(([ze,He])=>[`${ze}(${Ji(H,ze)})`,He])),...j?{:Be.totalsSub}:{},:_s(ge,""),...M?{:zo(Ue,"")}:{},...N?{:ue?{gz:pe,nabeum:ue.name,element:ue.element,code:ue.code}:null}:{},...D?{:{pos:"",gz:pe,unseong:he}}:{},...O?{:{pos:"",gz:pe,shinsal:$e}}:{}}))}}for(const te of p){const[Y,se,xe]=te.split("-").map(Number),ce=new Date(Y,se-1,xe,4,0);if(isNaN(ce.getTime()))continue;const Ne=H0(d,Y,se),pe=Ne.length>0?Ne[0]:null,Te=F0(Y,se),Me=Te.length>0?Te[Te.length-1]:"",Le=Dt(new Date(Y,se-1,15)),Be=Tt(ce,X),ge=Ke(Le||""),Ue=Ke(Me||""),ue=Ke(Be||""),he={dae:pe?pe.gz:null,se:Ue||null,wol:ge,il:ue},$e=lo(i,"",he),ze=Xr({natal:S,daewoon:pe?.gz,sewoon:Ue||void 0,wolwoon:ge||void 0,ilwoon:ue||void 0}),He=M?Ni({natal:S,daewoon:pe?.gz,sewoon:Ue||void 0,wolwoon:ge||void 0,ilwoon:ue||void 0,basis:r}):null,dt=N?Ir(ue):null,yt=D?ln(S[2]?.charAt(0)??"",ue.charAt(1)):null,qt=O?cn({baseBranch:Q,targetBranch:ue.charAt(1),era:V,gaehwa:z}):null,yn={:{:`${te} ${ue}`,:ue,:Object.fromEntries(Object.entries($e.elementPercent).map(([bn,Ct])=>[`${bn}(${Ji(H,bn)})`,Ct])),...j?{:$e.totalsSub}:{},:_s(ze,""),...M?{:zo(He,"")}:{},...N?{:dt?{gz:ue,nabeum:dt.name,element:dt.element,code:dt.code}:null}:{},...D?{:{pos:"",gz:ue,unseong:yt}}:{},...O?{:{pos:"",gz:ue,shinsal:qt}}:{}}};ae.push(br(` ${te}`,yn))}}const me=ae.filter(X=>X.trim().length>0).join(`

`),ne=t8({topic:y,subTopic:b,timeMode:"multi",teacherMode:x}),q=["-----","  ","","1.       (////)  .","2.  ,        ."];ne&&q.push("","  ( )",ne);const K=q.join(`
`);return[le,me,K].join(`

`)}const awe=["- AI     ,      . (, ,   )","-   ,  . (     )","-  /    .","- , , , ,       ,    .","-     , (~, ~  ) .","-    .","-  JSON/      .","-       .","-         .","-   ,    ."],owe=["- :     . ////  .","- :  ,  .    . //   .","- : ~  //     .    .","- , /      , ////   .",""," ( )","-  + (///)  /","-      +   ","- :   +    ","-  + :      ()   ","-  :  ","- : /(  )",""," ","-  .  /  /  ","-   =  . 1~2 "];function swe(e,t){e.push("### ()");const n=t?owe:awe;e.push(...n)}function lwe(e){return e==="multi"?"multi":"single"}function t8(e){const{topic:t,subTopic:n,timeMode:r="single",tab:i,relationMode:a,teacherMode:s}=e;if(!t)return"";const c=lwe(r),d=[],f=s===!0,m=(...p)=>d.push(...p);if(swe(d,f),t==="etc")return d.join(`
`);switch(c==="single"?i?f?m("","##  ()",`-  : (${i})  ,    ( + / )  .`,"-     /      ()  ."):m("","##  ()",`-    (${i})   ,         .`,"-   ,          ."):m("","##  ()","-   ,      /  ."):f?m("","##  ()","-       .    .","-      (/// )  1~2 ."):m("","##  ()","-  (///)  ,           ."),f&&d.push("- (teacherMode)     ,   .","-      (/ / )  1~2 ."),t){case"personality":{f?m("","## ()","-     //   .","-    .   + /(   ) +   ,   .","-   :   XX  YY .   ."):m("","## ()","-  /  .","-         ."),n==="personality_shadow"&&m("-    ,    / ,    ."),n==="personality_relationshipStyle"&&m("-  / ,   /  ."),n==="personality_workStyle"&&m("-     /    ."),n==="personality_stressPattern"&&m("-       .");break}case"lifeFlow":{f?m("","## ( )","-   . //    .","-   :   +  () + /  +   .","-    /  ."):m("","## ( )","-       .","-     ."),n==="lifeFlow_turningPoint"&&m("-   A/B ,     .");break}case"love":{f?m("","## ()","-   : /////// .","- ( )   . +      .","- ///  /  () ."):m("","## ()","- //   .","-  ,   ,    ."),a==="solo"?m("-  :  / ,     ."):a==="couple"&&m("-  :        (//)  .");break}case"career":{f?m("","## ()","-  : ///// / .","- ///        .","- (//)   ,  +  ."):m("","## ()","- ///   ."),n==="career_jobChange"&&m("-    / ."),n==="career_promotion"&&m("-     //   .");break}case"money":{f?m("","## ()","-   :  /, / ,   , /, , , /  .","-    .   +   +    /  .","-  (    )    ."):m("","## ()","- //   ."),n==="money_debt"&&m("- //   (// )."),n==="money_bigEvent"&&m("-          .");break}case"family":{f?m("","## ()","-  : /  ,   ,  /,   , / .","- /     ,   ."):m("","## ()","- /   .");break}case"baby":{f?m("","## ()","-  :  /,  ,    .","-  /   .  / /  ."):m("","## ()","- //   .");break}case"health":{f?m("","## ()","-   : ,   , /, /.","-   .  //      .","-   + /      ."):m("","## ()","- /   ."),n==="health_accident"&&m("-  /(/// ) .");break}case"move":{f?m("","## ()","-    : , , , / ,  .","- ()()(/)    .","- /  /    ."):m("","## ()","- /  .");break}case"social":{f?m("","## ()","-  ////   .","- ()/()/()     ."):m("","## ()","- /   .");break}case"compat":{f?m("","## ( )","-    ,        .","- // ,  //   ."):m("","## ( )","- /    .");break}case"risk":{f?m("","## ()","-  .        .","- //  + /    ."):m("","## ()","- /   .");break}case"meta":{f?m("","## ()","-    ,        .","- ,  3~7 .   "):m("","## ()","-       .");break}}return d.join(`
`)}function cwe({date:e,onChange:t,min:n="1900-01-01",max:r="2100-12-31"}){const i=A.useMemo(()=>{const s=e.getFullYear(),c=String(e.getMonth()+1).padStart(2,"0"),d=String(e.getDate()).padStart(2,"0");return`${s}-${c}-${d}`},[e]),a=s=>{if(!s)return;const[c,d,f]=s.split("-"),m=Number(c),p=Number(d),y=Number(f),b=e.getHours(),x=e.getMinutes(),T=new Date(m,p,0).getDate(),S=Math.min(y,T),j=new Date(m,p-1,S,b,x);Number.isNaN(j.getTime())||t(j)};return _.jsx("input",{type:"date",value:i,onChange:s=>a(s.target.value),min:n,max:r,className:"w rounded-md border border-neutral-300 dark:border-neutral-700 bg-transparent px-2 py-1 text-sm"})}const $d={twelveUnseong:!0,twelveShinsal:!0,shinsal:!0,nabeum:!0},uwe=e=>typeof e=="object"&&e!==null&&!Array.isArray(e),dwe=e=>{const t={...$d};return uwe(e)&&Object.keys($d).forEach(n=>{const r=e[n];typeof r=="boolean"&&(t[n]=r)}),t};function fwe(e){const[t,n]=A.useState($d),[r,i]=A.useState(!0),[a,s]=A.useState(!1),c=A.useRef(!1),d=A.useRef(null),f=A.useMemo(()=>typeof e=="string"&&e.length>0,[e]);return A.useEffect(()=>{let y=!1;return(async()=>{if(!f){n($d),i(!1),c.current=!0;return}i(!0);const T=(await Ye.auth.getUser()).data.user;if(!T){y||(n($d),i(!1),c.current=!0);return}const{data:S,error:j}=await Ye.from("analysis_prompt_prefs").select("sections").eq("user_id",T.id).eq("ms_id",e).maybeSingle();if(!y){if(j)console.error("[analysis_prompt_prefs] load error:",j),n($d);else{const D=dwe(S?.sections??null);n(D)}i(!1),c.current=!0}})(),()=>{y=!0}},[f,e]),A.useEffect(()=>{if(f&&c.current)return d.current&&(window.clearTimeout(d.current),d.current=null),d.current=window.setTimeout(()=>{(async()=>{const b=(await Ye.auth.getUser()).data.user;if(!b)return;s(!0);const x={user_id:b.id,ms_id:e,sections:t},{error:T}=await Ye.from("analysis_prompt_prefs").upsert(x,{onConflict:"user_id,ms_id"});T&&console.error("[analysis_prompt_prefs] save error:",T),s(!1)})()},400),()=>{d.current&&(window.clearTimeout(d.current),d.current=null)}},[f,e,t]),{sections:t,toggleSection:y=>{n(b=>({...b,[y]:!b[y]}))},setAll:y=>{n({twelveUnseong:y,twelveShinsal:y,shinsal:y,nabeum:y})},isLoading:r,isSaving:a,setSections:n}}const wS={analysis:{label:"",desc:`-   ,   
- "     "  
- ST   `},mentor:{label:"",desc:`-        
-   X,   X
-    ~~  `},dryHumor:{label:"",desc:`-   +  
-           `},softWarm:{label:"",desc:`-      
-    `},ect:{label:"  X",desc:"-    "}},hwe=["","","","",""],n8={:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},r8={:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},E3={personality:{label:"     "},lifeFlow:{label:"    "},love:{label:"    "},career:{label:"      "},money:{label:"      "},family:{label:"      "},baby:{label:"    "},health:{label:"      "},move:{label:"       "},social:{label:"     "},compat:{label:"   "},risk:{label:"    "},meta:{label:"    "},etc:{label:"  "}},A3={personality:[{key:"overview",label:"  "},{key:"personality_basic",label:"  "},{key:"personality_shadow",label:" "},{key:"personality_relationshipStyle",label:"  "},{key:"personality_workStyle",label:"  "},{key:"personality_stressPattern",label:" "}],lifeFlow:[{key:"overview",label:"  "},{key:"lifeFlow_cycle",label:" "},{key:"lifeFlow_turningPoint",label:""},{key:"lifeFlow_peak",label:""},{key:"lifeFlow_down",label:""},{key:"lifeFlow_theme",label:"  "}],love:[{key:"love_pattern",label:" "},{key:"love_timing",label:" /"},{key:"love_partner",label:" "},{key:"love_current",label:" / "},{key:"love_breakup",label:"/ "},{key:"love_marriageChange",label:" "}],career:[{key:"career_aptitude",label:" "},{key:"career_mode",label:" vs /"},{key:"career_jobChange",label:"/ "},{key:"career_promotion",label:""},{key:"career_study",label:""},{key:"career_exam",label:""}],money:[{key:"overview",label:"  "},{key:"money_flow",label:"  "},{key:"money_income",label:""},{key:"money_spending",label:" "},{key:"money_saving",label:" "},{key:"money_asset",label:" "},{key:"money_debt",label:" "},{key:"money_invest",label:" "},{key:"money_bigEvent",label:"  "}],family:[{key:"overview",label:"  "},{key:"family_origin",label:"()"},{key:"family_current",label:" "},{key:"family_parents",label:" "},{key:"family_siblings",label:" "},{key:"family_children",label:""},{key:"family_care",label:" "}],baby:[{key:"overview",label:" "},{key:"baby_pregnancy",label:"  "},{key:"baby_birth",label:"  "},{key:"baby_selection",label:"  "}],health:[{key:"overview",label:" "},{key:"health_overall",label:" "},{key:"health_physical",label:" "},{key:"health_mental",label:" "},{key:"health_stress",label:" "},{key:"health_accident",label:" "}],move:[{key:"overview",label:"  "},{key:"move_timing",label:" "},{key:"move_chance",label:"  "},{key:"move_targetHouse",label:"   "},{key:"move_environment",label:" "},{key:"move_finance",label:" "}],social:[{key:"overview",label:" "},{key:"social_overall",label:"  "},{key:"social_friend",label:"  "},{key:"social_workspace",label:"  "},{key:"social_network",label:""},{key:"social_conflict",label:" "}],compat:[{key:"overview",label:"  "},{key:"compat_overall",label:"  "},{key:"compat_love",label:" "},{key:"compat_marriage",label:"  "},{key:"compat_work",label:" "},{key:"compat_family",label:"  "},{key:"compat_friend",label:" "}],risk:[{key:"overview",label:" "},{key:"risk_money",label:" "},{key:"risk_relationship",label:" "},{key:"risk_health",label:" "},{key:"risk_lawsuit",label:" "},{key:"risk_burnout",label:" "}],meta:[{key:"overview",label:"  "},{key:"meta_structure",label:"  "},{key:"meta_cycle",label:"  "},{key:"meta_trigger",label:"  "},{key:"meta_usage",label:"  "}],etc:[]};function Td(e){if(!e)return"";if(e.length===2)return e;const t=e.replace(/[()[\]{}]/g,"").replace(/\s+/g,"").replace(/[:\-_.]/g,""),n=t.match(/([]).*?([])/);if(n)return`${n[1]}${n[2]}`;const r=t.match(/([]).*?([])/);if(r){const i=n8[r[1]],a=r8[r[2]];return i&&a?`${i}${a}`:""}return""}function T3(e){return e[0]?.length===2&&e[1]?.length===2&&e[2]?.length===2}function k3(e){const t=Array.isArray(e)?e.slice(0,4):[];for(;t.length<4;)t.push("");return t.map((n,r)=>{if(!n)return"";const i=n.replace(/[()[\]{}]/g,"").replace(/\s+/g,"").replace(/[:\-_.]/g,""),a=i.match(/([]).*?([])/);if(a)return`${a[1]}${a[2]}`;const s=i.match(/([]).*?([])/);return s?`${n8[s[1]]}${r8[s[2]]}`:r<=2?"--":""})}function mwe(e){const t=(e??"").trim();if(!t)return"";const n=[/\r?\n-----\s*\r?\n/,/\r?\n\s*\s*/,/\r?\n\s*\s*/,/\r?\n##\s*\s*/,/\r?\n##\s*/];let r=-1;for(const i of n){const a=t.search(i);a>=0&&(r=r<0?a:Math.min(r,a))}return r>=0?t.slice(0,r).trimEnd():t}function pwe({ms:e,natal:t,chain:n,basis:r,lunarPillars:i,includeTenGod:a=!1}){const s=e?.id??null,{sections:c,toggleSection:d,isSaving:f}=fwe(s),[m,p]=A.useState("analysis"),[y,b]=A.useState(!1),[x,T]=A.useState(!1),{date:S,setDate:j}=Ri();A.useEffect(()=>{j(new Date)},[e.id,j]);const{list:D,currentId:O}=vo.getState(),[M,N]=A.useState(""),[R,$]=A.useState("personality"),[B,H]=A.useState("overview"),V=A.useMemo(()=>M?D.find(_e=>_e.id===M)??null:null,[M,D]),[z,F]=A.useState(""),[Q,ee]=A.useState("solo");A.useEffect(()=>{R!=="love"&&R!=="compat"&&(ee("solo"),N(""))},[R]);const[be,J]=A.useState(!1),[le,ae]=A.useState(""),[me,ne]=A.useState([]);A.useEffect(()=>{le!==""&&ne([])},[le]);const[q,K]=A.useState(new Date().getFullYear()),[X,ie]=A.useState(new Date().getFullYear()),[Z,W]=A.useState(()=>{const _e=new Date;return`${_e.getFullYear()}-${String(_e.getMonth()+1).padStart(2,"0")}`}),[de,te]=A.useState(()=>{const _e=new Date;return`${_e.getFullYear()}-${String(_e.getMonth()+1).padStart(2,"0")}`}),[Y,se]=A.useState(()=>{const _e=new Date,qe=_e.getFullYear(),ct=String(_e.getMonth()+1).padStart(2,"0"),pt=String(_e.getDate()).padStart(2,"0");return`${qe}-${ct}-${pt}`}),[xe,ce]=A.useState(()=>{const _e=new Date,qe=_e.getFullYear(),ct=String(_e.getMonth()+1).padStart(2,"0"),pt=String(_e.getDate()).padStart(2,"0");return`${qe}-${ct}-${pt}`}),Ne=1e3*60*60*24;function pe(_e,qe){return(qe.getFullYear()-_e.getFullYear())*12+(qe.getMonth()-_e.getMonth())}function Te(_e){return`${_e.getFullYear()}-${String(_e.getMonth()+1).padStart(2,"0")}`}function Me(_e){return`${_e.getFullYear()}-${String(_e.getMonth()+1).padStart(2,"0")}-${String(_e.getDate()).padStart(2,"0")}`}const Le=_e=>{K(_e)},Be=_e=>{ie(_e)},ge=()=>{const _e=q;let qe=X;qe<_e&&(qe=_e),qe-_e>9&&(qe=_e+9),ie(qe)},Ue=()=>{let _e=q;const qe=X;qe<_e&&(_e=qe),qe-_e>9&&(_e=qe-9),K(_e)},ue=_e=>{W(_e)},he=()=>{const[_e,qe]=Z.split("-").map(Number),[ct,pt]=de.split("-").map(Number),at=new Date(_e,qe-1),xt=new Date(ct,pt-1);if(xt<at){te(Te(at));return}if(pe(at,xt)>11){const wt=new Date(at);wt.setMonth(at.getMonth()+11),te(Te(wt))}},$e=_e=>{te(_e)},ze=()=>{const[_e,qe]=Z.split("-").map(Number),[ct,pt]=de.split("-").map(Number),at=new Date(_e,qe-1),xt=new Date(ct,pt-1);if(xt<at){W(Te(xt));return}if(pe(at,xt)>11){const wt=new Date(xt);wt.setMonth(xt.getMonth()-11),W(Te(wt))}},He=_e=>{se(_e)},dt=()=>{if(!Y||!xe)return;const[_e,qe,ct]=Y.split("-").map(Number),[pt,at,xt]=xe.split("-").map(Number),Mt=new Date(_e,qe-1,ct,4,0,0),wt=new Date(pt,at-1,xt,4,0,0);if(wt<Mt){ce(Me(Mt));return}if(Math.floor((wt.getTime()-Mt.getTime())/Ne)>7){const ht=new Date(Mt);ht.setDate(Mt.getDate()+6),ce(Me(ht))}},yt=_e=>{ce(_e)},qt=()=>{if(!Y||!xe)return;const[_e,qe,ct]=Y.split("-").map(Number),[pt,at,xt]=xe.split("-").map(Number),Mt=new Date(_e,qe-1,ct,4,0,0),wt=new Date(pt,at-1,xt,4,0,0);if(Mt>wt){se(Me(wt));return}if(Math.floor((wt.getTime()-Mt.getTime())/Ne)>7){const ht=new Date(wt);ht.setDate(wt.getDate()-6),se(Me(ht))}},yn=e.mingSikType??"/",bn=A.useMemo(()=>{if(n)return{dae:n.dae??null,se:n.se??null,wol:n.wol??null,il:n.il??null};const _e=S??new Date,qe=Td(vt(_e)||""),ct=Td(Dt(_e)||""),pt=Td(Tt(_e,yn)||"");return{dae:null,se:qe||null,wol:ct||null,il:pt||null}},[n,S,yn]),Ct=Fm.getState().manualHour,gi=A.useMemo(()=>k3(t),[t]),Wn=A.useMemo(()=>k3(i),[i]),Ut=A.useMemo(()=>{const _e=[...gi];return(!_e[3]||_e[3]==="")&&Ct&&(_e[3]=Ct.stem+Ct.branch),_e},[gi,Ct]),fn=A.useMemo(()=>{const _e=[...Wn];return(!_e[3]||_e[3]==="")&&Ct&&(_e[3]=Ct.stem+Ct.branch),_e},[Wn,Ct]),_n=A.useMemo(()=>{const _e=Number(e.birthDay?.slice(0,4)),qe=Number(e.birthDay?.slice(4,6)),ct=Number(e.birthDay?.slice(6,8));if(!Number.isFinite(_e)||!Number.isFinite(qe)||!Number.isFinite(ct))return null;const pt=new Date(_e,qe-1,ct,12,4,0,0),at=Td(vt(pt)||""),xt=Td(Dt(pt)||""),Mt=Td(Tt(pt,yn)||"");return[at,xt,Mt,""]},[e.birthDay,yn]),Hr=T3(Ut),Ka=T3(fn),[Zs]=A.useState("solar"),Fr=Zs==="lunar"?Ka?"lunar":Hr?"solar":"lunar":Hr?"solar":Ka?"lunar":"solar",hr=A.useMemo(()=>{const qe=[...Fr==="lunar"?Ka?fn:Hr?Ut:_n??["","","",""]:Hr?Ut:Ka?fn:_n??["","","",""]];return(!qe[3]||qe[3]==="")&&Ct&&(qe[3]=Ct.stem+Ct.branch),qe},[Fr,Hr,Ka,Ut,fn,_n,Ct]),Wa=A.useMemo(()=>Ct?Ct.stem+Ct.branch:hr[3]||"",[Ct,hr]);(!t||t.length===0)&&(t=Ty(e));const Gr=Ct?Ct.stem+Ct.branch:"",jr=A.useMemo(()=>{const _e=Ty(e);return Gr&&Gr.length===2&&(_e[3]=Gr),_e},[e,Gr]),ha=A.useMemo(()=>q5({natal:jr,tab:z,chain:bn,hourKey:Wa}),[jr,z,bn,Wa]);function Tf(_e){return G5(_e,{criteriaMode:"modern",useHarmonyOverlay:!0})}const tc=Tf(jr),ma=A.useMemo(()=>hA(tc),[tc]),vi=A.useMemo(()=>v5(ma),[ma]),Xs=A.useMemo(()=>{const _e=Gz(e).slice(0,10),qe=e.birthDay?Number(e.birthDay.slice(0,4)):0;return _e.map((ct,pt)=>{const at=ct.match(/(\d{4})\s+(\d{1,2})\s+([-]{2})\s+/),xt=at?Number(at[1]):0,Mt=at?Number(at[2]):1,wt=1,ut=at?at[3]:"",ht=qe>0?gwe(qe,xt):pt*10;return{gz:ut,age:ht,startYear:xt,startMonth:Mt,startDay:wt,endYear:xt+10}})},[e]),nc=A3[R],Tu=A.useMemo(()=>e?Qxe({ms:e,natal:jr,chain:bn,basis:r,tab:z,unified:ha,percent:ma,category:vi,topic:R,subTopic:B,relationMode:Q,teacherMode:x,sections:c}):"",[e,r,a,z,bn,ha,ma,vi,jr,R,B,Q,V,x,c]),ku=A.useMemo(()=>{if(!e||!be)return"";const _e=me.map(at=>Xs[at]).filter(at=>at),qe=le===""?(()=>{const at=[];for(let xt=q;xt<=X&&at.length<10;xt++)at.push(xt);return at})():[],ct=le===""?(()=>{const at=[],[xt,Mt]=Z.split("-").map(Number),[wt,ut]=de.split("-").map(Number),ht=new Date(xt,Mt-1),pr=new Date(wt,ut-1);for(;ht<=pr&&at.length<12;)at.push(`${ht.getFullYear()}-${String(ht.getMonth()+1).padStart(2,"0")}`),ht.setMonth(ht.getMonth()+1);return at})():[],pt=le===""?(()=>{const at=[],[xt,Mt,wt]=Y.split("-").map(Number),[ut,ht,pr]=xe.split("-").map(Number),Rn=new Date(xt,Mt-1,wt,4,0,0),ga=new Date(ut,ht-1,pr,4,0,0);if(isNaN(Rn.getTime())||isNaN(ga.getTime()))return at;const va=new Date(Rn);for(;va<=ga&&at.length<31;){const ft=va.getFullYear(),nn=String(va.getMonth()+1).padStart(2,"0"),Ao=String(va.getDate()).padStart(2,"0");at.push(`${ft}-${nn}-${Ao}`),va.setDate(va.getDate()+1)}return at})():[];return iwe({ms:e,natal:jr,basis:r,unified:ha,percent:ma,category:vi,selectedDaeList:_e,daeList:Xs,seYears:qe,wolMonths:ct,ilDays:pt,topic:R,subTopic:B,teacherMode:x,sections:c})},[e,be,le,me,Xs,q,X,Z,de,Y,xe,jr,r,a,ha,ma,vi,R,B,Q,V,x,c]),Vn=A.useMemo(()=>{if(Q!=="couple"||!V)return"";const _e=V.name||"";let qe="";if(V.birthDay&&V.birthDay.length===8){const xt=V.birthDay.slice(0,4),Mt=V.birthDay.slice(4,6),wt=V.birthDay.slice(6,8);qe=`${xt}-${Mt}-${wt}`}else V.birthDay&&(qe=V.birthDay);let ct="";if(V.birthTime&&V.birthTime.trim().length>0){const Mt=V.birthTime.trim().padEnd(4,"0").slice(0,4),wt=Mt.slice(0,2),ut=Mt.slice(2,4);ct=`${wt}:${ut}`}let pt="";V.birthPlace&&typeof V.birthPlace=="object"&&(pt=V.birthPlace.name||"");const at=V.ganji||V.ganjiText||"";return["","","[  - () ]"," ",`-  : ${_e}`,`-  : ${qe}`,`-   : ${ct}`,`-   : ${pt}`,`- ${at}`,""," //,       ,","           .",""].join(`
`)},[Q,V]),We=be?ku:Tu,Js=A.useMemo(()=>{switch(m){case"analysis":return`     .
`;case"mentor":return`      .
`;case"dryHumor":return`   ,    .
`;case"softWarm":return`    .
`;default:return""}},[m]),Qs=y?`   ,   .
`:"",qr=A.useMemo(()=>We||Vn?`${We}${Vn}
${Js}${Qs}`:"",[Js,Qs,We,Vn]),[kn,Dn]=A.useState(""),[mr,ri]=A.useState([]);A.useEffect(()=>{Dn(""),ri([])},[e.id]);const Xo=A.useMemo(()=>{if(!qr)return"";if(mr.length===0)return qr;const _e=["","-----","     ","",...mr.map((qe,ct)=>`${ct+1}. ${qe}`)];return`${qr}
${_e.join(`
`)}`},[qr,mr]),rc=A.useMemo(()=>`${mwe(We)}${Vn}`.trim(),[We,Vn]),[ic,Va]=A.useState(!1),[el,Bi]=A.useState(!1),pa=!!(Xo&&Xo.trim().length>0),yi=!!(rc&&rc.trim().length>0);async function Eo(){if(pa)try{await navigator.clipboard.writeText(Xo),Va(!0),setTimeout(()=>Va(!1),1200)}catch{Va(!1)}}async function Pn(){if(yi)try{await navigator.clipboard.writeText(rc),Bi(!0),setTimeout(()=>Bi(!1),1200)}catch{Bi(!1)}}return e?_.jsxs("div",{className:"rounded-xl border border-neutral-200 dark:border-neutral-800 bg-white dark:bg-neutral-900 p-3 space-y-3",children:[_.jsxs("div",{className:"flex flex-col desk:flex-row desk:items-center desk:justify-between gap-2",children:[_.jsx("div",{className:"text-sm font-semibold text-neutral-700 dark:text-neutral-200",children:"GPT  "}),_.jsxs("div",{className:"flex gap-2 w-full desk:w-auto",children:[_.jsx("button",{type:"button",onClick:Pn,disabled:!yi,className:["w-full desk:w-auto px-3 py-1 rounded-md text-xs whitespace-nowrap border",yi?"cursor-pointer":"cursor-not-allowed opacity-50",el?"bg-green-600 text-white border-green-600":"bg-orange-600 text-white dark:bg-orange-600 cursor-pointer"].join(" "),children:el?"!":" "}),_.jsx("button",{type:"button",onClick:Eo,disabled:!pa,className:["w-full desk:w-auto px-3 py-1 rounded-md text-xs whitespace-nowrap",pa?"cursor-pointer":"cursor-not-allowed opacity-50",ic?"bg-green-600 text-white":"bg-neutral-900 text-white dark:bg-yellow-500 dark:text-black"].join(" "),children:ic?"!":"  "})]})]}),_.jsxs("div",{className:"mt-3 border-t pt-2",children:[_.jsx("div",{className:"text-[11px] font-semibold mb-2 text-neutral-700 dark:text-neutral-200",children:"  "}),_.jsxs("div",{className:"grid grid-cols-5 desk:grid-cols-8 gap-2 text-[11px] text-neutral-700 dark:text-neutral-200",children:[_.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[_.jsx("input",{type:"checkbox",checked:c.twelveUnseong,onChange:()=>d("twelveUnseong"),className:"w-3 h-3"}),""]}),_.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[_.jsx("input",{type:"checkbox",checked:c.twelveShinsal,onChange:()=>d("twelveShinsal"),className:"w-3 h-3"}),""]}),_.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[_.jsx("input",{type:"checkbox",checked:c.shinsal,onChange:()=>d("shinsal"),className:"w-3 h-3"})," "]}),_.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[_.jsx("input",{type:"checkbox",checked:c.nabeum,onChange:()=>d("nabeum"),className:"w-3 h-3"}),""]}),f?_.jsx("span",{className:"text-[11px] text-neutral-400",children:""}):null]})]}),_.jsxs("div",{className:"flex flex-wrap gap-2 items-center",children:[_.jsxs("div",{className:"w-full mt-2 p-2 border rounded-md bg-neutral-50 dark:bg-neutral-800",children:[_.jsx("div",{className:"text-xs font-semibold mb-1 text-neutral-700 dark:text-neutral-200",children:"  "}),_.jsx("div",{className:"flex gap-1.5 mb-2",children:Object.keys(wS).map(_e=>_.jsx("button",{onClick:()=>p(_e),className:`flex-1 p-1 text-[10px] rounded border cursor-pointer ${m===_e?"bg-neutral-900 text-white dark:bg-yellow-500 dark:text-black":"bg-white dark:bg-neutral-700 text-neutral-700 dark:text-neutral-200"}`,children:wS[_e].label},_e))}),_.jsx("div",{className:"text-[11px] whitespace-pre-line text-neutral-600 dark:text-neutral-300 leading-4",children:wS[m].desc}),_.jsxs("div",{className:"mt-2 flex items-center gap-2",children:[_.jsxs("div",{className:"mr-1 flex items-center gap-2",children:[_.jsx("input",{type:"checkbox",id:"friendMode",checked:y,onChange:_e=>b(_e.target.checked),className:"w-3 h-3"}),_.jsx("label",{htmlFor:"friendMode",className:"text-[11px] text-neutral-700 dark:text-neutral-200 cursor-pointer",children:""})]}),_.jsxs("div",{className:"flex items-center gap-2",children:[_.jsx("input",{type:"checkbox",id:"teacherMode",checked:x,onChange:_e=>T(_e.target.checked),className:"w-3 h-3"}),_.jsx("label",{htmlFor:"teacherMode",className:"text-[11px] text-neutral-700 dark:text-neutral-200 cursor-pointer",children:"(/)"})]})]})]}),_.jsx("select",{value:R,onChange:_e=>{const qe=_e.target.value;$(qe);const ct=A3[qe];ct.length>0?H(ct[0].key):H("overview"),qe!=="love"&&qe!=="compat"&&ee("solo")},className:"px-2.5 h-30 h-8 text-[11px] rounded-md border bg-white dark:bg-neutral-800 text-neutral-700 dark:text-neutral-200 border-neutral-200 dark:border-neutral-700",children:Object.keys(E3).map(_e=>{const qe=E3[_e];return _.jsx("option",{value:_e,children:qe.label},_e)})}),nc.length>0&&_.jsx("select",{value:B,onChange:_e=>H(_e.target.value),className:"px-2.5 h-30 h-8 text-[11px] rounded-md border bg-white dark:bg-neutral-800 text-neutral-700 dark:text-neutral-200 border-neutral-200 dark:border-neutral-700",children:nc.map(_e=>_.jsx("option",{value:_e.key,children:_e.label},_e.key))})]}),(R==="love"||R==="compat")&&_.jsxs("div",{className:"flex flex-col gap-1.5 text-[11px] text-neutral-700 dark:text-neutral-200",children:[_.jsxs("div",{className:"flex items-center gap-2",children:[_.jsx("span",{className:"font-semibold",children:" "}),_.jsxs("div",{className:"inline-flex rounded-full border border-neutral-200 dark:border-neutral-700 overflow-hidden",children:[_.jsx("button",{type:"button",onClick:()=>ee("solo"),className:`px-3 py-1 cursor-pointer ${Q==="solo"?"bg-neutral-900 text-white dark:bg-yellow-500 dark:text-black":"bg-neutral-50 dark:bg-neutral-800 text-neutral-600 dark:text-neutral-300"}`,children:" "}),_.jsx("button",{type:"button",onClick:()=>ee("couple"),className:`px-3 py-1 cursor-pointer ${Q==="couple"?"bg-neutral-900 text-white dark:bg-yellow-500 dark:text-black":"bg-neutral-50 dark:bg-neutral-800 text-neutral-600 dark:text-neutral-300"}`,children:" "})]})]}),Q==="couple"&&_.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[_.jsx("span",{className:"font-semibold",children:"  "}),_.jsxs("select",{value:M,onChange:_e=>N(_e.target.value),className:"min-w-[180px] h-30 px-2 py-1 border rounded bg-white dark:bg-neutral-800",children:[_.jsx("option",{value:"",children:"  "}),D.filter(_e=>_e.id!==O).map(_e=>_.jsxs("option",{value:_e.id,children:[_e.name||" "," ",_e.birthDay?`(${_e.birthDay})`:""]},_e.id))]})]})]}),_.jsxs("div",{className:"flex gap-2",children:[_.jsx("button",{onClick:()=>J(!1),className:`px-3 py-1.5 text-xs rounded-md border cursor-pointer ${be?"bg-neutral-100 dark:bg-neutral-800 text-neutral-600 dark:text-neutral-300":"bg-neutral-900 text-white dark:bg-yellow-500 dark:text-black"}`,children:" "}),_.jsx("button",{onClick:()=>J(!0),className:`px-3 py-1.5 text-xs rounded-md border cursor-pointer ${be?"bg-neutral-900 text-white dark:bg-yellow-500 dark:text-black":"bg-neutral-100 dark:bg-neutral-800 text-neutral-600 dark:text-neutral-300"}`,children:"()"})]}),!be&&_.jsxs(_.Fragment,{children:[_.jsxs("div",{className:"flex desk:justify-between flex-col desk:flex-row gap-2",children:[_.jsx("div",{className:"flex gap-1 flex-wrap",children:hwe.map(_e=>_.jsx("button",{onClick:()=>F(_e),className:`px-2 py-1 text-xs rounded-md border cursor-pointer ${z===_e?"bg-neutral-900 text-white dark:bg-yellow-500 dark:text-black":"bg-neutral-100 dark:bg-neutral-800 text-neutral-600 dark:text-neutral-300"}`,children:_e},_e))}),_.jsx(cwe,{date:S,onChange:j})]}),_.jsxs("div",{className:"text-[11px] text-neutral-500 dark:text-neutral-400",children:[_.jsx("p",{children:"     ."}),_.jsx("p",{children:"  ,  ."}),_.jsx("p",{children:"   ,   ."})]})]}),be&&_.jsxs("div",{className:"space-y-3 p-3 bg-neutral-50 dark:bg-neutral-800 rounded-lg",children:[_.jsx("div",{className:"flex gap-1.5 border-b pb-2",children:["","","",""].map(_e=>_.jsx("button",{onClick:()=>ae(_e),className:`px-3 py-1.5 text-xs rounded-md cursor-pointer transition-colors ${le===_e?"bg-blue-600 text-white font-semibold":"bg-white dark:bg-neutral-700 text-neutral-600 dark:text-neutral-300 hover:bg-neutral-100 dark:hover:bg-neutral-600"}`,children:_e},_e))}),le===""&&_.jsxs("div",{children:[_.jsx("div",{className:"text-xs font-semibold mb-2 text-neutral-700 dark:text-neutral-200",children:"  (  )"}),_.jsx("div",{className:"grid grid-cols-2 gap-1.5",children:Xs.map((_e,qe)=>_.jsxs("button",{onClick:()=>{ne(ct=>ct.includes(qe)?ct.filter(pt=>pt!==qe):[...ct,qe])},className:`px-2 py-1.5 text-xs rounded border cursor-pointer text-left ${me.includes(qe)?"bg-blue-600 text-white border-blue-600":"bg-white dark:bg-neutral-700 border-neutral-300 dark:border-neutral-600"}`,children:[_.jsx("div",{className:"font-mono",children:_e.gz}),_.jsxs("div",{className:"text-[10px] opacity-80",children:[_e.age," (",_e.startYear,"~",_e.endYear,")"]})]},qe))})]}),le===""&&_.jsxs("div",{children:[_.jsx("div",{className:"text-xs font-semibold mb-2 text-neutral-700 dark:text-neutral-200",children:"  ( 10)"}),_.jsxs("div",{className:"flex items-center gap-2",children:[_.jsx("input",{type:"number",value:q,onChange:_e=>Le(Number(_e.target.value)),onBlur:ge,className:"w-24 h-30 px-2 text-[16px] desk:text-xs border rounded bg-white dark:bg-neutral-700",placeholder:""}),_.jsx("span",{className:"text-xs",children:"~"}),_.jsx("input",{type:"number",value:X,onChange:_e=>Be(Number(_e.target.value)),onBlur:Ue,className:"w-24 h-30 px-2 text-[16px] desk:text-xs border rounded bg-white dark:bg-neutral-700",placeholder:""})]}),_.jsxs("div",{className:"text-[10px] text-neutral-500 dark:text-neutral-400 mt-1",children:[" : ",X-q+1,""]})]}),le===""&&_.jsxs("div",{children:[_.jsx("div",{className:"text-xs font-semibold mb-2 text-neutral-700 dark:text-neutral-200",children:"  ( 12)"}),_.jsxs("div",{className:"flex items-center gap-2",children:[_.jsx("input",{type:"month",value:Z,onChange:_e=>ue(_e.target.value),onBlur:he,className:"px-2 py-1 text-xs border rounded bg-white dark:bg-neutral-700"}),_.jsx("span",{className:"text-xs",children:"~"}),_.jsx("input",{type:"month",value:de,onChange:_e=>$e(_e.target.value),onBlur:ze,className:"px-2 py-1 text-xs border rounded bg-white dark:bg-neutral-700"})]}),_.jsxs("div",{className:"text-[10px] text-neutral-500 dark:text-neutral-400 mt-1",children:[" :"," ",(()=>{const[_e,qe]=Z.split("-").map(Number),[ct,pt]=de.split("-").map(Number);return(ct-_e)*12+(pt-qe)+1})(),""]})]}),le===""&&_.jsxs("div",{children:[_.jsx("div",{className:"text-xs font-semibold mb-2 text-neutral-700 dark:text-neutral-200",children:"  ( 7)"}),_.jsxs("div",{className:"flex items-center gap-2",children:[_.jsx("input",{type:"date",value:Y,onChange:_e=>He(_e.target.value),onBlur:dt,className:"px-2 py-1 text-xs border rounded bg-white dark:bg-neutral-700"}),_.jsx("span",{className:"text-xs",children:"~"}),_.jsx("input",{type:"date",value:xe,onChange:_e=>yt(_e.target.value),onBlur:qt,className:"px-2 py-1 text-xs border rounded bg-white dark:bg-neutral-700"})]}),_.jsxs("div",{className:"text-[10px] text-neutral-500 dark:text-neutral-400 mt-1",children:[" :"," ",(()=>{const[_e,qe,ct]=Y.split("-").map(Number),[pt,at,xt]=xe.split("-").map(Number),Mt=new Date(_e,qe-1,ct,4,0,0),wt=new Date(pt,at-1,xt,4,0,0);return isNaN(Mt.getTime())||isNaN(wt.getTime())||wt<Mt?0:Math.floor((wt.getTime()-Mt.getTime())/Ne)+1})(),""]})]}),_.jsxs("div",{className:"text-[11px] text-neutral-500 dark:text-neutral-400",children:[_.jsxs("p",{children:[" ",le,"   ."]}),_.jsx("p",{children:"    ."})]})]}),_.jsxs("div",{className:"space-y-1",children:[_.jsxs("div",{className:"flex items-center justify-between gap-2",children:[_.jsx("div",{className:"text-xs font-semibold text-neutral-700 dark:text-neutral-200",children:"   ()"}),mr.length>0&&_.jsx("button",{type:"button",onClick:()=>ri([]),className:"px-2 py-1 text-[10px] rounded-md border border-neutral-300 dark:border-neutral-600 text-neutral-500 dark:text-neutral-300 cursor-pointer",children:" "})]}),_.jsx("textarea",{value:kn,onChange:_e=>Dn(_e.target.value),placeholder:" GPT     , ' '  .",rows:3,className:"w-full placeholder:text-xs text-[16px] desk:text-xs rounded-md border bg-white dark:bg-neutral-800 p-2"}),_.jsxs("div",{className:"mb-4 text-center",children:[_.jsx("button",{type:"button",onClick:()=>{const _e=kn.trim();_e&&(ri(qe=>[...qe,_e]),Dn(""))},className:"w-full desk:max-w-[160px] px-1 py-1.5 text-xs rounded-md border bg-neutral-900 text-white dark:bg-yellow-500 dark:text-black cursor-pointer",children:" "}),mr.length>0&&_.jsxs("div",{className:"flex-1 text-[11px] text-neutral-500 dark:text-neutral-400 text-right",children:["  ",mr.length,""]})]}),mr.length>0&&_.jsx("ul",{className:"mt-1 space-y-1 max-h-24 overflow-y-auto text-[11px] text-neutral-700 dark:text-neutral-200",children:mr.map((_e,qe)=>_.jsxs("li",{className:"flex gap-1 items-start",children:[_.jsxs("span",{className:"shrink-0",children:[qe+1,"."]}),_.jsx("span",{className:"whitespace-pre-wrap break-words flex-1",children:_e}),_.jsx("button",{type:"button",onClick:()=>{ri(ct=>ct.filter((pt,at)=>at!==qe))},className:"shrink-0 ml-2 text-[10px] text-red-500 hover:underline",children:""})]},qe))})]}),_.jsx("textarea",{readOnly:!0,value:Xo,placeholder:"   .",className:"w-full min-h-[320px] text-xs font-mono rounded-md border bg-neutral-50 dark:bg-neutral-800 p-2"})]}):_.jsx("div",{className:"p-4 border rounded bg-neutral-50 dark:bg-neutral-900 text-sm text-neutral-500",children:"   ."})}function gwe(e,t){return t-e+1}function vwe(e){const t=Ri(i=>i.date),n=Ri(i=>i.rule),r=Wm(e);return A.useMemo(()=>{if(!e)return{dae:null,se:null,wol:null,il:null};const i=Xy(r,t),a=i>=0?r[i]?.gz??null:null,s=vt(t),c=Dt(t),d=Tt(t,n);return{dae:a,se:s,wol:c,il:d}},[e,r,t,n])}function ywe(){const[e,t]=A.useState(!1),[n,r]=A.useState(!1),[i,a]=A.useState(!1),[s,c]=A.useState(!1),[d,f]=A.useState(!1);A.useEffect(()=>{setTimeout(()=>t(!0),50),setTimeout(()=>r(!0),250),setTimeout(()=>a(!0),450)},[]);const m=async()=>{if(!d){FF.error(`   
  .`);return}const{error:p}=await Ye.auth.signInWithOAuth({provider:"google",options:{redirectTo:`${window.location.origin}/`}});p&&(console.error("Google Login Error:",p),alert("   ."))};return _.jsxs("main",{className:`flex min-h-screen items-center justify-center bg-neutral-950 text-white px-4 transition-opacity duration-500 ${e?"opacity-100":"opacity-0"}`,children:[_.jsxs("div",{className:`transform transition-all duration-500 ${n?"translate-y-0 opacity-100":"translate-y-4 opacity-0"} absolute top-16 text-center`,children:[_.jsx("h1",{className:"text-3xl font-bold tracking-tight mb-1",children:""}),_.jsx("p",{className:"text-sm text-neutral-400",children:"    "})]}),_.jsxs("div",{className:`w-full max-w-sm rounded-2xl bg-neutral-900 p-8 shadow-xl border border-neutral-800 transition-all duration-500 ${i?"opacity-100 translate-y-0":"opacity-0 translate-y-6"}`,children:[_.jsx("h1",{className:"mb-2 text-2xl font-bold tracking-tight text-center",children:""}),_.jsxs("p",{className:"mb-6 text-sm text-neutral-400 text-center leading-relaxed",children:["  .",_.jsx("br",{}),"     "]}),_.jsx("div",{className:"mb-5 space-y-2",children:_.jsxs("label",{className:"flex items-start gap-2 text-sm text-neutral-300 cursor-pointer",children:[_.jsx("input",{type:"checkbox",checked:d,onChange:()=>f(!d),className:"mt-[2px]"}),_.jsxs("span",{children:["  .",_.jsx("button",{type:"button",onClick:()=>c(!0),className:"ml-1 underline text-orange-400 hover:text-orange-300 cursor-pointer",children:"( )"})]})]})}),_.jsxs("button",{type:"button",onClick:m,"aria-disabled":!d,className:`flex items-center justify-center gap-3 w-full py-3 rounded-lg font-medium text-sm shadow transition-all 
            ${d?"bg-white text-black hover:bg-neutral-100 active:scale-[0.98] cursor-pointer":"bg-neutral-700 text-neutral-400 cursor-pointer"}`,children:[_.jsx("img",{src:"https://www.gstatic.com/firebasejs/ui/2.0.0/images/auth/google.svg",alt:"Google Logo",className:"w-5 h-5 opacity-90"}),_.jsx("span",{children:"  "})]})]}),_.jsx(nI,{position:"top-center",toastOptions:{duration:2e3}}),s&&_.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50",onClick:()=>c(!1),children:_.jsxs("div",{className:"w-full max-w-lg bg-white dark:bg-neutral-900 text-neutral-900 dark:text-neutral-200 p-6 rounded-xl shadow-xl relative animate-fadeInUp",onClick:p=>p.stopPropagation(),children:[_.jsx("h2",{className:"text-lg font-bold mb-4",children:" "}),_.jsxs("div",{className:"text-sm leading-relaxed max-h-[60vh] overflow-y-auto pr-2",children:[_.jsx("p",{className:"mb-2",children:"( )     ,      ."}),_.jsx("p",{className:"font-semibold mt-4 mb-1",children:"1.  "}),_.jsx("p",{className:"mb-2",children:"   ,  (,  )        ( ,  )"}),_.jsx("p",{className:"font-semibold mt-4 mb-1",children:"2.  "}),_.jsx("p",{className:"mb-2",children:"                   "}),_.jsx("p",{className:"font-semibold mt-4 mb-1",children:"3.  "}),_.jsx("p",{className:"mb-2",children:"                 "}),_.jsx("p",{className:"font-semibold mt-4 mb-1",children:"4. 3 "}),_.jsx("p",{className:"mb-2",children:"          ."}),_.jsx("p",{className:"font-semibold mt-4 mb-1",children:"5. "}),_.jsx("p",{className:"mb-2",children:" Supabase        ."}),_.jsx("p",{className:"font-semibold mt-4 mb-1",children:"6. "}),_.jsx("p",{children:"   : unique950318@gmail.com"})]}),_.jsx("button",{onClick:()=>c(!1),className:"mt-4 w-full py-2 bg-neutral-900 dark:bg-neutral-700 text-white rounded-lg hover:bg-neutral-800 transition",children:""})]})})]})}const bwe={id:"empty",name:"",birthDay:"",birthTime:"",gender:"",birthPlace:{name:"",lat:0,lon:0},relationship:"",memo:"",folder:"",mingSikType:"/",DayChangeRule:"",favorite:!1,dateObj:new Date,corrected:new Date,correctedLocal:"",dayStem:"",ganjiText:"",ganji:"",calendarType:"solar",dir:"forward"};function _we(){const[e,t]=A.useState(!1),[n,r]=A.useState(!1),[i]=A.useState(()=>typeof window>"u"?!1:window.location.pathname.startsWith("/admin")),a=vo(m=>m.migrateLocalToServer),s=vo(m=>m.loadFromServer),c=vo(m=>m.loading),d=Ar(m=>m.loaded),f=Ar(m=>m.loadFromServer);return A.useEffect(()=>{const m=Ye;(async()=>{const{data:b,error:x}=await m.auth.getSession();if(x){r(!1),t(!0);return}r(!!b.session),t(!0)})();const{data:{subscription:y}}=m.auth.onAuthStateChange((b,x)=>{r(!!x),t(!0)});return()=>{y.unsubscribe()}},[]),A.useEffect(()=>{n&&(async()=>(await a(),await s(),await f()))()},[n,a,s,f]),e?n?i?_.jsx(Hz,{}):d?c?_.jsx("main",{className:"flex min-h-screen items-center justify-center",children:_.jsx("p",{className:"text-sm text-neutral-500",children:"  .."})}):_.jsx(xwe,{isLoggedIn:n}):_.jsx("main",{className:"flex min-h-screen items-center justify-center",children:_.jsx("p",{className:"text-sm text-neutral-500",children:"  .."})}):_.jsx(ywe,{}):_.jsx("main",{className:"flex min-h-screen items-center justify-center",children:_.jsx("p",{className:"text-sm text-neutral-500",children:"  .."})})}function xwe({isLoggedIn:e}){const{list:t}=vo(),[n,r]=A.useState(()=>t.length>0?t[0].id:""),[i,a]=A.useState(!1),[s,c]=A.useState(!1),[d,f]=A.useState(null),[m,p]=A.useState(!1),[y,b]=A.useState(!1),[x,T]=A.useState(!1);A.useEffect(()=>{p(!0),b(!1)},[]);const S=A.useMemo(()=>t.find(ee=>ee.id===n)??t[0],[t,n]),j=t.length>0&&!!S&&typeof S.birthDay=="string",D=j?S:bwe,O=A.useMemo(()=>Ty(D),[D]),M=vwe(D),N=ee=>typeof ee=="string"&&ee.length>=2,R=ee=>Array.isArray(ee)&&ee.length===4&&ee.every(N),$=()=>a(!0),{settings:B,loadFromServer:H,saveToServer:V,loaded:z}=Ar();A.useEffect(()=>{e&&H()},[e,H]),A.useEffect(()=>{!e||!z||V()},[e,z,B,V]);const F=B.sinsalBase===""?"day":"year",Q=B.sinsalBase===""?"day":"year";return _.jsxs("div",{className:"min-h-screen pb-16",children:[_.jsx(Zae,{onOpenSidebar:()=>c(!0),onAddNew:$,onOpenCustom:()=>T(!0)}),_.jsx($xe,{open:x,onClose:()=>T(!1),onSave:ee=>{r(ee.id),p(!1),b(!1),c(!1)}}),_.jsx(nI,{position:"top-center"}),_.jsx(coe,{open:s,onClose:()=>c(!1),onView:ee=>{r(ee.id),c(!1),p(!1),b(!1);const be=new Date;be.setHours(12,0,0,0),Ri.getState().setDate(be),j&&S.id===ee.id?(p(!1),b(!1),c(!1)):(r(ee.id),c(!1),p(!1),b(!1))},onAddNew:$,onEdit:ee=>{f(ee),r(ee.id),c(!1),p(!1),b(!1)},onDeleteView:()=>{const ee=vo.getState().list[0]?.id??"";r(ee),p(!0),b(!1)}}),m&&_.jsx(WY,{}),i&&_.jsxs(_.Fragment,{children:[_.jsx("div",{id:"wizard-dim",className:"bg-black opacity-80 fixed inset-0 w-full min-h-full z-99"}),_.jsx("div",{className:"absolute inset-0 transition-opacity duration-150 opacity-100 z-100",children:_.jsx("div",{className:"py-6 pb-16 overflow-y-auto min-h-[100dvh]",children:_.jsx(HJ,{onSave:ee=>{r(ee.id),p(!1),b(!1),c(!1),requestAnimationFrame(()=>a(!1))},onClose:()=>a(!1)})})})]}),j&&!m&&!y&&_.jsxs(_.Fragment,{children:[_.jsx("div",{className:"pt-18 pb-4",children:_.jsx(QQ,{data:S,hourTable:S.mingSikType??"/"})}),_.jsx(Oxe,{ms:S}),_.jsx("div",{children:_.jsx(_ae,{data:S})}),_.jsx("div",{className:"max-w-[640px] mx-auto mb-8",children:_.jsx(pwe,{ms:S,natal:R(O)?O:[],chain:M,basis:{voidBasis:F,samjaeBasis:Q},includeTenGod:!0,lunarPillars:[]})})]}),y&&_.jsx("div",{className:"pt-18 pb-4",children:_.jsx(Txe,{people:t})}),d&&_.jsx("div",{className:"fixed inset-0 z-55 flex items-center justify-center bg-black/60",children:_.jsx("div",{className:"bg-white dark:bg-neutral-950 p-4 rounded-xl w-full max-h-[90dvh] max-w-xl shadow-lg",children:_.jsx(goe,{item:d,onClose:()=>{f(null)}})})}),_.jsx(toe,{onShowToday:()=>{p(!0),b(!1)},onShowCouple:()=>{b(!0),p(!1)}}),_.jsx(kxe,{})]})}const ky={VITE_SUPABASE_ANON_KEY:"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImpvdWh5YnlxdXlieGJucXp0eHVtIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjQ5NjIwOTgsImV4cCI6MjA4MDUzODA5OH0.qAD7S7yRW8GxcRze_3dyirReIy6HvMr9DeET-djp1Fw"};var rm={};const wwe=()=>{const e=typeof import.meta<"u"&&typeof ky<"u"?ky:void 0,t=typeof process<"u"?rm.NEXT_PUBLIC_FUNCTION_IMPERSONATE_URL||rm.NEXT_PUBLIC_IMPERSONATE_API||rm.VITE_IMPERSONATE_API:void 0;return e?.VITE_IMPERSONATE_API||e?.NEXT_PUBLIC_FUNCTION_IMPERSONATE_URL||e?.NEXT_PUBLIC_IMPERSONATE_API||t||null},Swe=()=>{const e=typeof import.meta<"u"&&typeof ky<"u"?ky:void 0,t=typeof process<"u"?rm.NEXT_PUBLIC_SUPABASE_ANON_KEY||rm.VITE_SUPABASE_ANON_KEY:void 0;return e?.VITE_SUPABASE_ANON_KEY||e?.NEXT_PUBLIC_SUPABASE_ANON_KEY||t||null};function Ewe(){const[e,t]=A.useState(null),[n,r]=A.useState(null),[i,a]=A.useState(null),[s,c]=A.useState([]),[d,f]=A.useState(!1),[m,p]=A.useState(null),y=wwe(),b=Swe();return A.useEffect(()=>{if(typeof window<"u"){const x=window.location.hash?.startsWith("#")?window.location.hash.slice(1):window.location.hash||"",S=new URL(x||"/",window.location.origin).searchParams;t(S.get("userId")),r(S.get("myeongsikId"))}},[]),A.useEffect(()=>{if(!y){p(" API URL   . VITE_IMPERSONATE_API .env.local .");return}if(!e){p("userId .");return}const x=y.startsWith("http");(async()=>{f(!0),p(null);try{const S=new URLSearchParams({userId:e});n&&S.set("myeongsikId",n);const j=x&&b?{Authorization:`Bearer ${b}`,apikey:b}:void 0,D=await fetch(`${y}?${S.toString()}`,{cache:"no-store",headers:j});if(!D.ok){const M=await D.text();throw new Error(M||"fetch error")}const O=await D.json();a(O.profile),c(Array.isArray(O.myeongsik)?O.myeongsik:[])}catch(S){p(S instanceof Error?S.message:String(S))}finally{f(!1)}})()},[e,n,y,b]),d?_.jsx("div",{className:"p-6 text-white",children:"Loading..."}):m?_.jsxs("div",{className:"p-6 text-white",children:["Error: ",m]}):e?_.jsxs("div",{className:"p-6 text-white space-y-6",children:[_.jsxs("div",{className:"flex items-center justify-between",children:[_.jsx("h1",{className:"text-2xl font-bold",children:"  "}),_.jsxs("div",{className:"text-sm text-neutral-400",children:["userId: ",e]})]}),_.jsxs("div",{className:"p-4 bg-neutral-900 border border-neutral-700 rounded",children:[_.jsx("h2",{className:"text-xl font-semibold mb-3",children:""}),i?_.jsxs("div",{className:"space-y-1 text-sm text-neutral-200",children:[_.jsxs("div",{children:[": ",i.name??"-"]}),_.jsxs("div",{children:[": ",i.nickname??"-"]}),_.jsxs("div",{children:["Email: ",i.email??"-"]}),_.jsxs("div",{children:[" : ",i.mgr_memo??"-"]}),_.jsxs("div",{children:[": ",i.disabled_at?i.disabled_at:""]})]}):_.jsx("div",{className:"text-neutral-400 text-sm",children:" ."})]}),_.jsxs("div",{className:"p-4 bg-neutral-900 border border-neutral-700 rounded",children:[_.jsxs("div",{className:"flex items-center justify-between mb-3",children:[_.jsx("h2",{className:"text-xl font-semibold",children:" "}),n&&_.jsxs("div",{className:"text-xs text-neutral-400",children:["myeongsikId: ",n]})]}),s.length===0?_.jsx("div",{className:"text-neutral-400 text-sm",children:" ."}):_.jsx("div",{className:"space-y-3",children:s.map(x=>_.jsxs("div",{className:"p-3 bg-neutral-800 border border-neutral-700 rounded",children:[_.jsxs("div",{className:"flex items-center justify-between",children:[_.jsx("div",{className:"font-semibold",children:x.name||"(no name)"}),x.deleted_at&&_.jsx("span",{className:"text-xs px-2 py-0.5 rounded bg-red-700 text-white",children:"deleted"})]}),_.jsxs("div",{className:"text-sm text-neutral-400",children:["Birth: ",x.birth_json?.birthDay??"-"," "," ",x.created_at?new Date(x.created_at).toLocaleString():"-"]}),x.mgr_memo&&_.jsxs("div",{className:"text-sm text-neutral-300 whitespace-pre-wrap mt-1",children:[": ",x.mgr_memo]})]},x.id))})]})]}):_.jsx("div",{className:"p-6 text-white",children:"userId ."})}jU.createRoot(document.getElementById("root")).render(_.jsx(A.StrictMode,{children:_.jsx(qH,{children:_.jsxs(wH,{children:[_.jsx(q0,{path:"/",element:_.jsx(_we,{})}),_.jsx(q0,{path:"/admin",element:_.jsx(Hz,{})}),_.jsx(q0,{path:"/impersonate",element:_.jsx(Ewe,{})})]})})}));
