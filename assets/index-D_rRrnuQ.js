function iw(t,i){for(var o=0;o<i.length;o++){const s=i[o];if(typeof s!="string"&&!Array.isArray(s)){for(const u in s)if(u!=="default"&&!(u in t)){const d=Object.getOwnPropertyDescriptor(s,u);d&&Object.defineProperty(t,u,d.get?d:{enumerable:!0,get:()=>s[u]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const i=document.createElement("link").relList;if(i&&i.supports&&i.supports("modulepreload"))return;for(const u of document.querySelectorAll('link[rel="modulepreload"]'))s(u);new MutationObserver(u=>{for(const d of u)if(d.type==="childList")for(const h of d.addedNodes)h.tagName==="LINK"&&h.rel==="modulepreload"&&s(h)}).observe(document,{childList:!0,subtree:!0});function o(u){const d={};return u.integrity&&(d.integrity=u.integrity),u.referrerPolicy&&(d.referrerPolicy=u.referrerPolicy),u.crossOrigin==="use-credentials"?d.credentials="include":u.crossOrigin==="anonymous"?d.credentials="omit":d.credentials="same-origin",d}function s(u){if(u.ep)return;u.ep=!0;const d=o(u);fetch(u.href,d)}})();function Ys(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Em={exports:{}},ec={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var vy;function aw(){if(vy)return ec;vy=1;var t=Symbol.for("react.transitional.element"),i=Symbol.for("react.fragment");function o(s,u,d){var h=null;if(d!==void 0&&(h=""+d),u.key!==void 0&&(h=""+u.key),"key"in u){d={};for(var p in u)p!=="key"&&(d[p]=u[p])}else d=u;return u=d.ref,{$$typeof:t,type:s,key:h,ref:u!==void 0?u:null,props:d}}return ec.Fragment=i,ec.jsx=o,ec.jsxs=o,ec}var _y;function ow(){return _y||(_y=1,Em.exports=aw()),Em.exports}var g=ow();const tx="harim.theme",Sp="harim.settings.v1";function ex(){try{const t=localStorage.getItem(tx);if(t==="dark"||t==="light")return t;const i=localStorage.getItem(Sp);if(i){const s=JSON.parse(i)?.theme;if(s==="dark"||s==="light")return s}return null}catch{return null}}function wp(t){try{localStorage.setItem(tx,t);const i=localStorage.getItem(Sp),o=i?JSON.parse(i):{};localStorage.setItem(Sp,JSON.stringify({...o,theme:t}))}catch{}}function nx(t){const i=document.documentElement;i.classList.toggle("dark",t==="dark"),i.style.setProperty("color-scheme",t)}(function(){try{const t=ex()??(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light");nx(t)}catch{}})();var Mm={exports:{}},Kt={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var xy;function sw(){if(xy)return Kt;xy=1;var t=Symbol.for("react.transitional.element"),i=Symbol.for("react.portal"),o=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),u=Symbol.for("react.profiler"),d=Symbol.for("react.consumer"),h=Symbol.for("react.context"),p=Symbol.for("react.forward_ref"),b=Symbol.for("react.suspense"),v=Symbol.for("react.memo"),x=Symbol.for("react.lazy"),w=Symbol.iterator;function S(M){return M===null||typeof M!="object"?null:(M=w&&M[w]||M["@@iterator"],typeof M=="function"?M:null)}var E={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},A=Object.assign,D={};function j(M,H,U){this.props=M,this.context=H,this.refs=D,this.updater=U||E}j.prototype.isReactComponent={},j.prototype.setState=function(M,H){if(typeof M!="object"&&typeof M!="function"&&M!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,M,H,"setState")},j.prototype.forceUpdate=function(M){this.updater.enqueueForceUpdate(this,M,"forceUpdate")};function $(){}$.prototype=j.prototype;function z(M,H,U){this.props=M,this.context=H,this.refs=D,this.updater=U||E}var C=z.prototype=new $;C.constructor=z,A(C,j.prototype),C.isPureReactComponent=!0;var P=Array.isArray,B={H:null,A:null,T:null,S:null,V:null},V=Object.prototype.hasOwnProperty;function J(M,H,U,W,et,ut){return U=ut.ref,{$$typeof:t,type:M,key:H,ref:U!==void 0?U:null,props:ut}}function Q(M,H){return J(M.type,H,void 0,void 0,void 0,M.props)}function nt(M){return typeof M=="object"&&M!==null&&M.$$typeof===t}function rt(M){var H={"=":"=0",":":"=2"};return"$"+M.replace(/[=:]/g,function(U){return H[U]})}var K=/\/+/g;function I(M,H){return typeof M=="object"&&M!==null&&M.key!=null?rt(""+M.key):H.toString(36)}function X(){}function ft(M){switch(M.status){case"fulfilled":return M.value;case"rejected":throw M.reason;default:switch(typeof M.status=="string"?M.then(X,X):(M.status="pending",M.then(function(H){M.status==="pending"&&(M.status="fulfilled",M.value=H)},function(H){M.status==="pending"&&(M.status="rejected",M.reason=H)})),M.status){case"fulfilled":return M.value;case"rejected":throw M.reason}}throw M}function gt(M,H,U,W,et){var ut=typeof M;(ut==="undefined"||ut==="boolean")&&(M=null);var at=!1;if(M===null)at=!0;else switch(ut){case"bigint":case"string":case"number":at=!0;break;case"object":switch(M.$$typeof){case t:case i:at=!0;break;case x:return at=M._init,gt(at(M._payload),H,U,W,et)}}if(at)return et=et(M),at=W===""?"."+I(M,0):W,P(et)?(U="",at!=null&&(U=at.replace(K,"$&/")+"/"),gt(et,H,U,"",function(Dt){return Dt})):et!=null&&(nt(et)&&(et=Q(et,U+(et.key==null||M&&M.key===et.key?"":(""+et.key).replace(K,"$&/")+"/")+at)),H.push(et)),1;at=0;var wt=W===""?".":W+":";if(P(M))for(var vt=0;vt<M.length;vt++)W=M[vt],ut=wt+I(W,vt),at+=gt(W,H,U,ut,et);else if(vt=S(M),typeof vt=="function")for(M=vt.call(M),vt=0;!(W=M.next()).done;)W=W.value,ut=wt+I(W,vt++),at+=gt(W,H,U,ut,et);else if(ut==="object"){if(typeof M.then=="function")return gt(ft(M),H,U,W,et);throw H=String(M),Error("Objects are not valid as a React child (found: "+(H==="[object Object]"?"object with keys {"+Object.keys(M).join(", ")+"}":H)+"). If you meant to render a collection of children, use an array instead.")}return at}function Z(M,H,U){if(M==null)return M;var W=[],et=0;return gt(M,W,"","",function(ut){return H.call(U,ut,et++)}),W}function lt(M){if(M._status===-1){var H=M._result;H=H(),H.then(function(U){(M._status===0||M._status===-1)&&(M._status=1,M._result=U)},function(U){(M._status===0||M._status===-1)&&(M._status=2,M._result=U)}),M._status===-1&&(M._status=0,M._result=H)}if(M._status===1)return M._result.default;throw M._result}var F=typeof reportError=="function"?reportError:function(M){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var H=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof M=="object"&&M!==null&&typeof M.message=="string"?String(M.message):String(M),error:M});if(!window.dispatchEvent(H))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",M);return}console.error(M)};function G(){}return Kt.Children={map:Z,forEach:function(M,H,U){Z(M,function(){H.apply(this,arguments)},U)},count:function(M){var H=0;return Z(M,function(){H++}),H},toArray:function(M){return Z(M,function(H){return H})||[]},only:function(M){if(!nt(M))throw Error("React.Children.only expected to receive a single React element child.");return M}},Kt.Component=j,Kt.Fragment=o,Kt.Profiler=u,Kt.PureComponent=z,Kt.StrictMode=s,Kt.Suspense=b,Kt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=B,Kt.__COMPILER_RUNTIME={__proto__:null,c:function(M){return B.H.useMemoCache(M)}},Kt.cache=function(M){return function(){return M.apply(null,arguments)}},Kt.cloneElement=function(M,H,U){if(M==null)throw Error("The argument must be a React element, but you passed "+M+".");var W=A({},M.props),et=M.key,ut=void 0;if(H!=null)for(at in H.ref!==void 0&&(ut=void 0),H.key!==void 0&&(et=""+H.key),H)!V.call(H,at)||at==="key"||at==="__self"||at==="__source"||at==="ref"&&H.ref===void 0||(W[at]=H[at]);var at=arguments.length-2;if(at===1)W.children=U;else if(1<at){for(var wt=Array(at),vt=0;vt<at;vt++)wt[vt]=arguments[vt+2];W.children=wt}return J(M.type,et,void 0,void 0,ut,W)},Kt.createContext=function(M){return M={$$typeof:h,_currentValue:M,_currentValue2:M,_threadCount:0,Provider:null,Consumer:null},M.Provider=M,M.Consumer={$$typeof:d,_context:M},M},Kt.createElement=function(M,H,U){var W,et={},ut=null;if(H!=null)for(W in H.key!==void 0&&(ut=""+H.key),H)V.call(H,W)&&W!=="key"&&W!=="__self"&&W!=="__source"&&(et[W]=H[W]);var at=arguments.length-2;if(at===1)et.children=U;else if(1<at){for(var wt=Array(at),vt=0;vt<at;vt++)wt[vt]=arguments[vt+2];et.children=wt}if(M&&M.defaultProps)for(W in at=M.defaultProps,at)et[W]===void 0&&(et[W]=at[W]);return J(M,ut,void 0,void 0,null,et)},Kt.createRef=function(){return{current:null}},Kt.forwardRef=function(M){return{$$typeof:p,render:M}},Kt.isValidElement=nt,Kt.lazy=function(M){return{$$typeof:x,_payload:{_status:-1,_result:M},_init:lt}},Kt.memo=function(M,H){return{$$typeof:v,type:M,compare:H===void 0?null:H}},Kt.startTransition=function(M){var H=B.T,U={};B.T=U;try{var W=M(),et=B.S;et!==null&&et(U,W),typeof W=="object"&&W!==null&&typeof W.then=="function"&&W.then(G,F)}catch(ut){F(ut)}finally{B.T=H}},Kt.unstable_useCacheRefresh=function(){return B.H.useCacheRefresh()},Kt.use=function(M){return B.H.use(M)},Kt.useActionState=function(M,H,U){return B.H.useActionState(M,H,U)},Kt.useCallback=function(M,H){return B.H.useCallback(M,H)},Kt.useContext=function(M){return B.H.useContext(M)},Kt.useDebugValue=function(){},Kt.useDeferredValue=function(M,H){return B.H.useDeferredValue(M,H)},Kt.useEffect=function(M,H,U){var W=B.H;if(typeof U=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return W.useEffect(M,H)},Kt.useId=function(){return B.H.useId()},Kt.useImperativeHandle=function(M,H,U){return B.H.useImperativeHandle(M,H,U)},Kt.useInsertionEffect=function(M,H){return B.H.useInsertionEffect(M,H)},Kt.useLayoutEffect=function(M,H){return B.H.useLayoutEffect(M,H)},Kt.useMemo=function(M,H){return B.H.useMemo(M,H)},Kt.useOptimistic=function(M,H){return B.H.useOptimistic(M,H)},Kt.useReducer=function(M,H,U){return B.H.useReducer(M,H,U)},Kt.useRef=function(M){return B.H.useRef(M)},Kt.useState=function(M){return B.H.useState(M)},Kt.useSyncExternalStore=function(M,H,U){return B.H.useSyncExternalStore(M,H,U)},Kt.useTransition=function(){return B.H.useTransition()},Kt.version="19.1.1",Kt}var Sy;function mf(){return Sy||(Sy=1,Mm.exports=sw()),Mm.exports}var R=mf();const Ne=Ys(R);var Nm={exports:{}},nc={},Dm={exports:{}},Am={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var wy;function lw(){return wy||(wy=1,(function(t){function i(Z,lt){var F=Z.length;Z.push(lt);t:for(;0<F;){var G=F-1>>>1,M=Z[G];if(0<u(M,lt))Z[G]=lt,Z[F]=M,F=G;else break t}}function o(Z){return Z.length===0?null:Z[0]}function s(Z){if(Z.length===0)return null;var lt=Z[0],F=Z.pop();if(F!==lt){Z[0]=F;t:for(var G=0,M=Z.length,H=M>>>1;G<H;){var U=2*(G+1)-1,W=Z[U],et=U+1,ut=Z[et];if(0>u(W,F))et<M&&0>u(ut,W)?(Z[G]=ut,Z[et]=F,G=et):(Z[G]=W,Z[U]=F,G=U);else if(et<M&&0>u(ut,F))Z[G]=ut,Z[et]=F,G=et;else break t}}return lt}function u(Z,lt){var F=Z.sortIndex-lt.sortIndex;return F!==0?F:Z.id-lt.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var d=performance;t.unstable_now=function(){return d.now()}}else{var h=Date,p=h.now();t.unstable_now=function(){return h.now()-p}}var b=[],v=[],x=1,w=null,S=3,E=!1,A=!1,D=!1,j=!1,$=typeof setTimeout=="function"?setTimeout:null,z=typeof clearTimeout=="function"?clearTimeout:null,C=typeof setImmediate<"u"?setImmediate:null;function P(Z){for(var lt=o(v);lt!==null;){if(lt.callback===null)s(v);else if(lt.startTime<=Z)s(v),lt.sortIndex=lt.expirationTime,i(b,lt);else break;lt=o(v)}}function B(Z){if(D=!1,P(Z),!A)if(o(b)!==null)A=!0,V||(V=!0,I());else{var lt=o(v);lt!==null&&gt(B,lt.startTime-Z)}}var V=!1,J=-1,Q=5,nt=-1;function rt(){return j?!0:!(t.unstable_now()-nt<Q)}function K(){if(j=!1,V){var Z=t.unstable_now();nt=Z;var lt=!0;try{t:{A=!1,D&&(D=!1,z(J),J=-1),E=!0;var F=S;try{e:{for(P(Z),w=o(b);w!==null&&!(w.expirationTime>Z&&rt());){var G=w.callback;if(typeof G=="function"){w.callback=null,S=w.priorityLevel;var M=G(w.expirationTime<=Z);if(Z=t.unstable_now(),typeof M=="function"){w.callback=M,P(Z),lt=!0;break e}w===o(b)&&s(b),P(Z)}else s(b);w=o(b)}if(w!==null)lt=!0;else{var H=o(v);H!==null&&gt(B,H.startTime-Z),lt=!1}}break t}finally{w=null,S=F,E=!1}lt=void 0}}finally{lt?I():V=!1}}}var I;if(typeof C=="function")I=function(){C(K)};else if(typeof MessageChannel<"u"){var X=new MessageChannel,ft=X.port2;X.port1.onmessage=K,I=function(){ft.postMessage(null)}}else I=function(){$(K,0)};function gt(Z,lt){J=$(function(){Z(t.unstable_now())},lt)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(Z){Z.callback=null},t.unstable_forceFrameRate=function(Z){0>Z||125<Z?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):Q=0<Z?Math.floor(1e3/Z):5},t.unstable_getCurrentPriorityLevel=function(){return S},t.unstable_next=function(Z){switch(S){case 1:case 2:case 3:var lt=3;break;default:lt=S}var F=S;S=lt;try{return Z()}finally{S=F}},t.unstable_requestPaint=function(){j=!0},t.unstable_runWithPriority=function(Z,lt){switch(Z){case 1:case 2:case 3:case 4:case 5:break;default:Z=3}var F=S;S=Z;try{return lt()}finally{S=F}},t.unstable_scheduleCallback=function(Z,lt,F){var G=t.unstable_now();switch(typeof F=="object"&&F!==null?(F=F.delay,F=typeof F=="number"&&0<F?G+F:G):F=G,Z){case 1:var M=-1;break;case 2:M=250;break;case 5:M=1073741823;break;case 4:M=1e4;break;default:M=5e3}return M=F+M,Z={id:x++,callback:lt,priorityLevel:Z,startTime:F,expirationTime:M,sortIndex:-1},F>G?(Z.sortIndex=F,i(v,Z),o(b)===null&&Z===o(v)&&(D?(z(J),J=-1):D=!0,gt(B,F-G))):(Z.sortIndex=M,i(b,Z),A||E||(A=!0,V||(V=!0,I()))),Z},t.unstable_shouldYield=rt,t.unstable_wrapCallback=function(Z){var lt=S;return function(){var F=S;S=lt;try{return Z.apply(this,arguments)}finally{S=F}}}})(Am)),Am}var Ty;function cw(){return Ty||(Ty=1,Dm.exports=lw()),Dm.exports}var jm={exports:{}},Dn={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ey;function uw(){if(Ey)return Dn;Ey=1;var t=mf();function i(b){var v="https://react.dev/errors/"+b;if(1<arguments.length){v+="?args[]="+encodeURIComponent(arguments[1]);for(var x=2;x<arguments.length;x++)v+="&args[]="+encodeURIComponent(arguments[x])}return"Minified React error #"+b+"; visit "+v+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(){}var s={d:{f:o,r:function(){throw Error(i(522))},D:o,C:o,L:o,m:o,X:o,S:o,M:o},p:0,findDOMNode:null},u=Symbol.for("react.portal");function d(b,v,x){var w=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:u,key:w==null?null:""+w,children:b,containerInfo:v,implementation:x}}var h=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function p(b,v){if(b==="font")return"";if(typeof v=="string")return v==="use-credentials"?v:""}return Dn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,Dn.createPortal=function(b,v){var x=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!v||v.nodeType!==1&&v.nodeType!==9&&v.nodeType!==11)throw Error(i(299));return d(b,v,null,x)},Dn.flushSync=function(b){var v=h.T,x=s.p;try{if(h.T=null,s.p=2,b)return b()}finally{h.T=v,s.p=x,s.d.f()}},Dn.preconnect=function(b,v){typeof b=="string"&&(v?(v=v.crossOrigin,v=typeof v=="string"?v==="use-credentials"?v:"":void 0):v=null,s.d.C(b,v))},Dn.prefetchDNS=function(b){typeof b=="string"&&s.d.D(b)},Dn.preinit=function(b,v){if(typeof b=="string"&&v&&typeof v.as=="string"){var x=v.as,w=p(x,v.crossOrigin),S=typeof v.integrity=="string"?v.integrity:void 0,E=typeof v.fetchPriority=="string"?v.fetchPriority:void 0;x==="style"?s.d.S(b,typeof v.precedence=="string"?v.precedence:void 0,{crossOrigin:w,integrity:S,fetchPriority:E}):x==="script"&&s.d.X(b,{crossOrigin:w,integrity:S,fetchPriority:E,nonce:typeof v.nonce=="string"?v.nonce:void 0})}},Dn.preinitModule=function(b,v){if(typeof b=="string")if(typeof v=="object"&&v!==null){if(v.as==null||v.as==="script"){var x=p(v.as,v.crossOrigin);s.d.M(b,{crossOrigin:x,integrity:typeof v.integrity=="string"?v.integrity:void 0,nonce:typeof v.nonce=="string"?v.nonce:void 0})}}else v==null&&s.d.M(b)},Dn.preload=function(b,v){if(typeof b=="string"&&typeof v=="object"&&v!==null&&typeof v.as=="string"){var x=v.as,w=p(x,v.crossOrigin);s.d.L(b,x,{crossOrigin:w,integrity:typeof v.integrity=="string"?v.integrity:void 0,nonce:typeof v.nonce=="string"?v.nonce:void 0,type:typeof v.type=="string"?v.type:void 0,fetchPriority:typeof v.fetchPriority=="string"?v.fetchPriority:void 0,referrerPolicy:typeof v.referrerPolicy=="string"?v.referrerPolicy:void 0,imageSrcSet:typeof v.imageSrcSet=="string"?v.imageSrcSet:void 0,imageSizes:typeof v.imageSizes=="string"?v.imageSizes:void 0,media:typeof v.media=="string"?v.media:void 0})}},Dn.preloadModule=function(b,v){if(typeof b=="string")if(v){var x=p(v.as,v.crossOrigin);s.d.m(b,{as:typeof v.as=="string"&&v.as!=="script"?v.as:void 0,crossOrigin:x,integrity:typeof v.integrity=="string"?v.integrity:void 0})}else s.d.m(b)},Dn.requestFormReset=function(b){s.d.r(b)},Dn.unstable_batchedUpdates=function(b,v){return b(v)},Dn.useFormState=function(b,v,x){return h.H.useFormState(b,v,x)},Dn.useFormStatus=function(){return h.H.useHostTransitionStatus()},Dn.version="19.1.1",Dn}var My;function rx(){if(My)return jm.exports;My=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(i){console.error(i)}}return t(),jm.exports=uw(),jm.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ny;function dw(){if(Ny)return nc;Ny=1;var t=cw(),i=mf(),o=rx();function s(e){var n="https://react.dev/errors/"+e;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)n+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+e+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function u(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function d(e){var n=e,a=e;if(e.alternate)for(;n.return;)n=n.return;else{e=n;do n=e,(n.flags&4098)!==0&&(a=n.return),e=n.return;while(e)}return n.tag===3?a:null}function h(e){if(e.tag===13){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function p(e){if(d(e)!==e)throw Error(s(188))}function b(e){var n=e.alternate;if(!n){if(n=d(e),n===null)throw Error(s(188));return n!==e?null:e}for(var a=e,c=n;;){var m=a.return;if(m===null)break;var y=m.alternate;if(y===null){if(c=m.return,c!==null){a=c;continue}break}if(m.child===y.child){for(y=m.child;y;){if(y===a)return p(m),e;if(y===c)return p(m),n;y=y.sibling}throw Error(s(188))}if(a.return!==c.return)a=m,c=y;else{for(var N=!1,O=m.child;O;){if(O===a){N=!0,a=m,c=y;break}if(O===c){N=!0,c=m,a=y;break}O=O.sibling}if(!N){for(O=y.child;O;){if(O===a){N=!0,a=y,c=m;break}if(O===c){N=!0,c=y,a=m;break}O=O.sibling}if(!N)throw Error(s(189))}}if(a.alternate!==c)throw Error(s(190))}if(a.tag!==3)throw Error(s(188));return a.stateNode.current===a?e:n}function v(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e;for(e=e.child;e!==null;){if(n=v(e),n!==null)return n;e=e.sibling}return null}var x=Object.assign,w=Symbol.for("react.element"),S=Symbol.for("react.transitional.element"),E=Symbol.for("react.portal"),A=Symbol.for("react.fragment"),D=Symbol.for("react.strict_mode"),j=Symbol.for("react.profiler"),$=Symbol.for("react.provider"),z=Symbol.for("react.consumer"),C=Symbol.for("react.context"),P=Symbol.for("react.forward_ref"),B=Symbol.for("react.suspense"),V=Symbol.for("react.suspense_list"),J=Symbol.for("react.memo"),Q=Symbol.for("react.lazy"),nt=Symbol.for("react.activity"),rt=Symbol.for("react.memo_cache_sentinel"),K=Symbol.iterator;function I(e){return e===null||typeof e!="object"?null:(e=K&&e[K]||e["@@iterator"],typeof e=="function"?e:null)}var X=Symbol.for("react.client.reference");function ft(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===X?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case A:return"Fragment";case j:return"Profiler";case D:return"StrictMode";case B:return"Suspense";case V:return"SuspenseList";case nt:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case E:return"Portal";case C:return(e.displayName||"Context")+".Provider";case z:return(e._context.displayName||"Context")+".Consumer";case P:var n=e.render;return e=e.displayName,e||(e=n.displayName||n.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case J:return n=e.displayName||null,n!==null?n:ft(e.type)||"Memo";case Q:n=e._payload,e=e._init;try{return ft(e(n))}catch{}}return null}var gt=Array.isArray,Z=i.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,lt=o.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,F={pending:!1,data:null,method:null,action:null},G=[],M=-1;function H(e){return{current:e}}function U(e){0>M||(e.current=G[M],G[M]=null,M--)}function W(e,n){M++,G[M]=e.current,e.current=n}var et=H(null),ut=H(null),at=H(null),wt=H(null);function vt(e,n){switch(W(at,n),W(ut,e),W(et,null),n.nodeType){case 9:case 11:e=(e=n.documentElement)&&(e=e.namespaceURI)?Vb(e):0;break;default:if(e=n.tagName,n=n.namespaceURI)n=Vb(n),e=Kb(n,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}U(et),W(et,e)}function Dt(){U(et),U(ut),U(at)}function $t(e){e.memoizedState!==null&&W(wt,e);var n=et.current,a=Kb(n,e.type);n!==a&&(W(ut,e),W(et,a))}function Vt(e){ut.current===e&&(U(et),U(ut)),wt.current===e&&(U(wt),Xl._currentValue=F)}var Yt=Object.prototype.hasOwnProperty,ne=t.unstable_scheduleCallback,$e=t.unstable_cancelCallback,Ae=t.unstable_shouldYield,Ve=t.unstable_requestPaint,ve=t.unstable_now,At=t.unstable_getCurrentPriorityLevel,bt=t.unstable_ImmediatePriority,Nt=t.unstable_UserBlockingPriority,dt=t.unstable_NormalPriority,zt=t.unstable_LowPriority,Qt=t.unstable_IdlePriority,Gt=t.log,Ot=t.unstable_setDisableYieldValue,ce=null,_e=null;function Ze(e){if(typeof Gt=="function"&&Ot(e),_e&&typeof _e.setStrictMode=="function")try{_e.setStrictMode(ce,e)}catch{}}var je=Math.clz32?Math.clz32:Xi,fi=Math.log,Kr=Math.LN2;function Xi(e){return e>>>=0,e===0?32:31-(fi(e)/Kr|0)|0}var Lr=256,$n=4194304;function mn(e){var n=e&42;if(n!==0)return n;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function Br(e,n,a){var c=e.pendingLanes;if(c===0)return 0;var m=0,y=e.suspendedLanes,N=e.pingedLanes;e=e.warmLanes;var O=c&134217727;return O!==0?(c=O&~y,c!==0?m=mn(c):(N&=O,N!==0?m=mn(N):a||(a=O&~e,a!==0&&(m=mn(a))))):(O=c&~y,O!==0?m=mn(O):N!==0?m=mn(N):a||(a=c&~e,a!==0&&(m=mn(a)))),m===0?0:n!==0&&n!==m&&(n&y)===0&&(y=m&-m,a=n&-n,y>=a||y===32&&(a&4194048)!==0)?n:m}function In(e,n){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&n)===0}function Js(e,n){switch(e){case 1:case 2:case 4:case 8:case 64:return n+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Wa(){var e=Lr;return Lr<<=1,(Lr&4194048)===0&&(Lr=256),e}function Rr(){var e=$n;return $n<<=1,($n&62914560)===0&&($n=4194304),e}function Un(e){for(var n=[],a=0;31>a;a++)n.push(e);return n}function hi(e,n){e.pendingLanes|=n,n!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function tl(e,n,a,c,m,y){var N=e.pendingLanes;e.pendingLanes=a,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=a,e.entangledLanes&=a,e.errorRecoveryDisabledLanes&=a,e.shellSuspendCounter=0;var O=e.entanglements,q=e.expirationTimes,ct=e.hiddenUpdates;for(a=N&~a;0<a;){var yt=31-je(a),xt=1<<yt;O[yt]=0,q[yt]=-1;var ht=ct[yt];if(ht!==null)for(ct[yt]=null,yt=0;yt<ht.length;yt++){var mt=ht[yt];mt!==null&&(mt.lane&=-536870913)}a&=~xt}c!==0&&Qa(e,c,0),y!==0&&m===0&&e.tag!==0&&(e.suspendedLanes|=y&~(N&~n))}function Qa(e,n,a){e.pendingLanes|=n,e.suspendedLanes&=~n;var c=31-je(n);e.entangledLanes|=n,e.entanglements[c]=e.entanglements[c]|1073741824|a&4194090}function $c(e,n){var a=e.entangledLanes|=n;for(e=e.entanglements;a;){var c=31-je(a),m=1<<c;m&n|e[c]&n&&(e[c]|=n),a&=~m}}function el(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function nl(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function Ic(){var e=lt.p;return e!==0?e:(e=window.event,e===void 0?32:hy(e.type))}function rl(e,n){var a=lt.p;try{return lt.p=e,n()}finally{lt.p=a}}var Fr=Math.random().toString(36).slice(2),on="__reactFiber$"+Fr,Tn="__reactProps$"+Fr,Wi="__reactContainer$"+Fr,Gn="__reactEvents$"+Fr,Lt="__reactListeners$"+Fr,Uc="__reactHandles$"+Fr,il="__reactResources$"+Fr,Qi="__reactMarker$"+Fr;function $o(e){delete e[on],delete e[Tn],delete e[Gn],delete e[Lt],delete e[Uc]}function Xr(e){var n=e[on];if(n)return n;for(var a=e.parentNode;a;){if(n=a[Wi]||a[on]){if(a=n.alternate,n.child!==null||a!==null&&a.child!==null)for(e=Qb(e);e!==null;){if(a=e[on])return a;e=Qb(e)}return n}e=a,a=e.parentNode}return null}function mi(e){if(e=e[on]||e[Wi]){var n=e.tag;if(n===5||n===6||n===13||n===26||n===27||n===3)return e}return null}function mr(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e.stateNode;throw Error(s(33))}function pi(e){var n=e[il];return n||(n=e[il]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function Ke(e){e[Qi]=!0}var Gc=new Set,Zc={};function gi(e,n){bi(e,n),bi(e+"Capture",n)}function bi(e,n){for(Zc[e]=n,e=0;e<n.length;e++)Gc.add(n[e])}var Bf=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Ja={},Yc={};function Rf(e){return Yt.call(Yc,e)?!0:Yt.call(Ja,e)?!1:Bf.test(e)?Yc[e]=!0:(Ja[e]=!0,!1)}function Io(e,n,a){if(Rf(n))if(a===null)e.removeAttribute(n);else{switch(typeof a){case"undefined":case"function":case"symbol":e.removeAttribute(n);return;case"boolean":var c=n.toLowerCase().slice(0,5);if(c!=="data-"&&c!=="aria-"){e.removeAttribute(n);return}}e.setAttribute(n,""+a)}}function Uo(e,n,a){if(a===null)e.removeAttribute(n);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(n);return}e.setAttribute(n,""+a)}}function Pr(e,n,a,c){if(c===null)e.removeAttribute(a);else{switch(typeof c){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(a);return}e.setAttributeNS(n,a,""+c)}}var to,Ji;function yi(e){if(to===void 0)try{throw Error()}catch(a){var n=a.stack.trim().match(/\n( *(at )?)/);to=n&&n[1]||"",Ji=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+to+e+Ji}var Go=!1;function vi(e,n){if(!e||Go)return"";Go=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var c={DetermineComponentFrameRoot:function(){try{if(n){var xt=function(){throw Error()};if(Object.defineProperty(xt.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(xt,[])}catch(mt){var ht=mt}Reflect.construct(e,[],xt)}else{try{xt.call()}catch(mt){ht=mt}e.call(xt.prototype)}}else{try{throw Error()}catch(mt){ht=mt}(xt=e())&&typeof xt.catch=="function"&&xt.catch(function(){})}}catch(mt){if(mt&&ht&&typeof mt.stack=="string")return[mt.stack,ht.stack]}return[null,null]}};c.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var m=Object.getOwnPropertyDescriptor(c.DetermineComponentFrameRoot,"name");m&&m.configurable&&Object.defineProperty(c.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var y=c.DetermineComponentFrameRoot(),N=y[0],O=y[1];if(N&&O){var q=N.split(`
`),ct=O.split(`
`);for(m=c=0;c<q.length&&!q[c].includes("DetermineComponentFrameRoot");)c++;for(;m<ct.length&&!ct[m].includes("DetermineComponentFrameRoot");)m++;if(c===q.length||m===ct.length)for(c=q.length-1,m=ct.length-1;1<=c&&0<=m&&q[c]!==ct[m];)m--;for(;1<=c&&0<=m;c--,m--)if(q[c]!==ct[m]){if(c!==1||m!==1)do if(c--,m--,0>m||q[c]!==ct[m]){var yt=`
`+q[c].replace(" at new "," at ");return e.displayName&&yt.includes("<anonymous>")&&(yt=yt.replace("<anonymous>",e.displayName)),yt}while(1<=c&&0<=m);break}}}finally{Go=!1,Error.prepareStackTrace=a}return(a=e?e.displayName||e.name:"")?yi(a):""}function re(e){switch(e.tag){case 26:case 27:case 5:return yi(e.type);case 16:return yi("Lazy");case 13:return yi("Suspense");case 19:return yi("SuspenseList");case 0:case 15:return vi(e.type,!1);case 11:return vi(e.type.render,!1);case 1:return vi(e.type,!0);case 31:return yi("Activity");default:return""}}function xe(e){try{var n="";do n+=re(e),e=e.return;while(e);return n}catch(a){return`
Error generating stack: `+a.message+`
`+a.stack}}function pn(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function _i(e){var n=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function ta(e){var n=_i(e)?"checked":"value",a=Object.getOwnPropertyDescriptor(e.constructor.prototype,n),c=""+e[n];if(!e.hasOwnProperty(n)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var m=a.get,y=a.set;return Object.defineProperty(e,n,{configurable:!0,get:function(){return m.call(this)},set:function(N){c=""+N,y.call(this,N)}}),Object.defineProperty(e,n,{enumerable:a.enumerable}),{getValue:function(){return c},setValue:function(N){c=""+N},stopTracking:function(){e._valueTracker=null,delete e[n]}}}}function ea(e){e._valueTracker||(e._valueTracker=ta(e))}function qt(e){if(!e)return!1;var n=e._valueTracker;if(!n)return!0;var a=n.getValue(),c="";return e&&(c=_i(e)?e.checked?"true":"false":e.value),e=c,e!==a?(n.setValue(e),!0):!1}function Se(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var al=/[\n"\\]/g;function gn(e){return e.replace(al,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function En(e,n,a,c,m,y,N,O){e.name="",N!=null&&typeof N!="function"&&typeof N!="symbol"&&typeof N!="boolean"?e.type=N:e.removeAttribute("type"),n!=null?N==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+pn(n)):e.value!==""+pn(n)&&(e.value=""+pn(n)):N!=="submit"&&N!=="reset"||e.removeAttribute("value"),n!=null?na(e,N,pn(n)):a!=null?na(e,N,pn(a)):c!=null&&e.removeAttribute("value"),m==null&&y!=null&&(e.defaultChecked=!!y),m!=null&&(e.checked=m&&typeof m!="function"&&typeof m!="symbol"),O!=null&&typeof O!="function"&&typeof O!="symbol"&&typeof O!="boolean"?e.name=""+pn(O):e.removeAttribute("name")}function qc(e,n,a,c,m,y,N,O){if(y!=null&&typeof y!="function"&&typeof y!="symbol"&&typeof y!="boolean"&&(e.type=y),n!=null||a!=null){if(!(y!=="submit"&&y!=="reset"||n!=null))return;a=a!=null?""+pn(a):"",n=n!=null?""+pn(n):a,O||n===e.value||(e.value=n),e.defaultValue=n}c=c??m,c=typeof c!="function"&&typeof c!="symbol"&&!!c,e.checked=O?e.checked:!!c,e.defaultChecked=!!c,N!=null&&typeof N!="function"&&typeof N!="symbol"&&typeof N!="boolean"&&(e.name=N)}function na(e,n,a){n==="number"&&Se(e.ownerDocument)===e||e.defaultValue===""+a||(e.defaultValue=""+a)}function Zn(e,n,a,c){if(e=e.options,n){n={};for(var m=0;m<a.length;m++)n["$"+a[m]]=!0;for(a=0;a<e.length;a++)m=n.hasOwnProperty("$"+e[a].value),e[a].selected!==m&&(e[a].selected=m),m&&c&&(e[a].defaultSelected=!0)}else{for(a=""+pn(a),n=null,m=0;m<e.length;m++){if(e[m].value===a){e[m].selected=!0,c&&(e[m].defaultSelected=!0);return}n!==null||e[m].disabled||(n=e[m])}n!==null&&(n.selected=!0)}}function Le(e,n,a){if(n!=null&&(n=""+pn(n),n!==e.value&&(e.value=n),a==null)){e.defaultValue!==n&&(e.defaultValue=n);return}e.defaultValue=a!=null?""+pn(a):""}function Wr(e,n,a,c){if(n==null){if(c!=null){if(a!=null)throw Error(s(92));if(gt(c)){if(1<c.length)throw Error(s(93));c=c[0]}a=c}a==null&&(a=""),n=a}a=pn(n),e.defaultValue=a,c=e.textContent,c===a&&c!==""&&c!==null&&(e.value=c)}function pr(e,n){if(n){var a=e.firstChild;if(a&&a===e.lastChild&&a.nodeType===3){a.nodeValue=n;return}}e.textContent=n}var eo=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Zo(e,n,a){var c=n.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?c?e.setProperty(n,""):n==="float"?e.cssFloat="":e[n]="":c?e.setProperty(n,a):typeof a!="number"||a===0||eo.has(n)?n==="float"?e.cssFloat=a:e[n]=(""+a).trim():e[n]=a+"px"}function ra(e,n,a){if(n!=null&&typeof n!="object")throw Error(s(62));if(e=e.style,a!=null){for(var c in a)!a.hasOwnProperty(c)||n!=null&&n.hasOwnProperty(c)||(c.indexOf("--")===0?e.setProperty(c,""):c==="float"?e.cssFloat="":e[c]="");for(var m in n)c=n[m],n.hasOwnProperty(m)&&a[m]!==c&&Zo(e,m,c)}else for(var y in n)n.hasOwnProperty(y)&&Zo(e,y,n[y])}function no(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ol=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Yo=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function ia(e){return Yo.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}var ro=null;function aa(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var xi=null,Qr=null;function Vc(e){var n=mi(e);if(n&&(e=n.stateNode)){var a=e[Tn]||null;t:switch(e=n.stateNode,n.type){case"input":if(En(e,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),n=a.name,a.type==="radio"&&n!=null){for(a=e;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+gn(""+n)+'"][type="radio"]'),n=0;n<a.length;n++){var c=a[n];if(c!==e&&c.form===e.form){var m=c[Tn]||null;if(!m)throw Error(s(90));En(c,m.value,m.defaultValue,m.defaultValue,m.checked,m.defaultChecked,m.type,m.name)}}for(n=0;n<a.length;n++)c=a[n],c.form===e.form&&qt(c)}break t;case"textarea":Le(e,a.value,a.defaultValue);break t;case"select":n=a.value,n!=null&&Zn(e,!!a.multiple,n,!1)}}}var Zt=!1;function Xn(e,n,a){if(Zt)return e(n,a);Zt=!0;try{var c=e(n);return c}finally{if(Zt=!1,(xi!==null||Qr!==null)&&(Iu(),xi&&(n=xi,e=Qr,Qr=xi=null,Vc(n),e)))for(n=0;n<e.length;n++)Vc(e[n])}}function se(e,n){var a=e.stateNode;if(a===null)return null;var c=a[Tn]||null;if(c===null)return null;a=c[n];t:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(c=!c.disabled)||(e=e.type,c=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!c;break t;default:e=!1}if(e)return null;if(a&&typeof a!="function")throw Error(s(231,n,typeof a));return a}var gr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),io=!1;if(gr)try{var Si={};Object.defineProperty(Si,"passive",{get:function(){io=!0}}),window.addEventListener("test",Si,Si),window.removeEventListener("test",Si,Si)}catch{io=!1}var br=null,zr=null,oa=null;function sa(){if(oa)return oa;var e,n=zr,a=n.length,c,m="value"in br?br.value:br.textContent,y=m.length;for(e=0;e<a&&n[e]===m[e];e++);var N=a-e;for(c=1;c<=N&&n[a-c]===m[y-c];c++);return oa=m.slice(e,1<c?1-c:void 0)}function Ie(e){var n=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&n===13&&(e=13)):e=n,e===10&&(e=13),32<=e||e===13?e:0}function yr(){return!0}function sl(){return!1}function bn(e){function n(a,c,m,y,N){this._reactName=a,this._targetInst=m,this.type=c,this.nativeEvent=y,this.target=N,this.currentTarget=null;for(var O in e)e.hasOwnProperty(O)&&(a=e[O],this[O]=a?a(y):y[O]);return this.isDefaultPrevented=(y.defaultPrevented!=null?y.defaultPrevented:y.returnValue===!1)?yr:sl,this.isPropagationStopped=sl,this}return x(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=yr)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=yr)},persist:function(){},isPersistent:yr}),n}var wi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ao=bn(wi),Ti=x({},wi,{view:0,detail:0}),Pf=bn(Ti),qo,Xt,oo,Mn=x({},Ti,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Vo,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==oo&&(oo&&e.type==="mousemove"?(qo=e.screenX-oo.screenX,Xt=e.screenY-oo.screenY):Xt=qo=0,oo=e),qo)},movementY:function(e){return"movementY"in e?e.movementY:Xt}}),la=bn(Mn),Kc=x({},Mn,{dataTransfer:0}),zf=bn(Kc),ll=x({},Ti,{relatedTarget:0}),cl=bn(ll),Fc=x({},wi,{animationName:0,elapsedTime:0,pseudoElement:0}),Hf=bn(Fc),$f=x({},wi,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),ul=bn($f),If=x({},wi,{data:0}),Wn=bn(If),Uf={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Xc={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Jr={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Wc(e){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(e):(e=Jr[e])?!!n[e]:!1}function Vo(){return Wc}var dl=x({},Ti,{key:function(e){if(e.key){var n=Uf[e.key]||e.key;if(n!=="Unidentified")return n}return e.type==="keypress"?(e=Ie(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Xc[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Vo,charCode:function(e){return e.type==="keypress"?Ie(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Ie(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Gf=bn(dl),Qc=x({},Mn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),fl=bn(Qc),Zf=x({},Ti,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Vo}),Yf=bn(Zf),hl=x({},wi,{propertyName:0,elapsedTime:0,pseudoElement:0}),qf=bn(hl),Jc=x({},Mn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),tu=bn(Jc),Ko=x({},wi,{newState:0,oldState:0}),Ei=bn(Ko),Vf=[9,13,27,32],Mi=gr&&"CompositionEvent"in window,sn=null;gr&&"documentMode"in document&&(sn=document.documentMode);var eu=gr&&"TextEvent"in window&&!sn,ml=gr&&(!Mi||sn&&8<sn&&11>=sn),nu=" ",Fo=!1;function Xo(e,n){switch(e){case"keyup":return Vf.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ru(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var ca=!1;function iu(e,n){switch(e){case"compositionend":return ru(n);case"keypress":return n.which!==32?null:(Fo=!0,nu);case"textInput":return e=n.data,e===nu&&Fo?null:e;default:return null}}function Kf(e,n){if(ca)return e==="compositionend"||!Mi&&Xo(e,n)?(e=sa(),oa=zr=br=null,ca=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return ml&&n.locale!=="ko"?null:n.data;default:return null}}var Qn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Ni(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n==="input"?!!Qn[e.type]:n==="textarea"}function au(e,n,a,c){xi?Qr?Qr.push(c):Qr=[c]:xi=c,n=Vu(n,"onChange"),0<n.length&&(a=new ao("onChange","change",null,a,c),e.push({event:a,listeners:n}))}var jn=null,so=null;function ua(e){Ub(e,0)}function Wo(e){var n=mr(e);if(qt(n))return e}function da(e,n){if(e==="change")return n}var pl=!1;if(gr){var fa;if(gr){var gl="oninput"in document;if(!gl){var Hr=document.createElement("div");Hr.setAttribute("oninput","return;"),gl=typeof Hr.oninput=="function"}fa=gl}else fa=!1;pl=fa&&(!document.documentMode||9<document.documentMode)}function lo(){jn&&(jn.detachEvent("onpropertychange",ou),so=jn=null)}function ou(e){if(e.propertyName==="value"&&Wo(so)){var n=[];au(n,so,e,aa(e)),Xn(ua,n)}}function bl(e,n,a){e==="focusin"?(lo(),jn=n,so=a,jn.attachEvent("onpropertychange",ou)):e==="focusout"&&lo()}function Ff(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Wo(so)}function $r(e,n){if(e==="click")return Wo(n)}function Xf(e,n){if(e==="input"||e==="change")return Wo(n)}function ha(e,n){return e===n&&(e!==0||1/e===1/n)||e!==e&&n!==n}var kn=typeof Object.is=="function"?Object.is:ha;function Cn(e,n){if(kn(e,n))return!0;if(typeof e!="object"||e===null||typeof n!="object"||n===null)return!1;var a=Object.keys(e),c=Object.keys(n);if(a.length!==c.length)return!1;for(c=0;c<a.length;c++){var m=a[c];if(!Yt.call(n,m)||!kn(e[m],n[m]))return!1}return!0}function co(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function yl(e,n){var a=co(e);e=0;for(var c;a;){if(a.nodeType===3){if(c=e+a.textContent.length,e<=n&&c>=n)return{node:a,offset:n-e};e=c}t:{for(;a;){if(a.nextSibling){a=a.nextSibling;break t}a=a.parentNode}a=void 0}a=co(a)}}function Qo(e,n){return e&&n?e===n?!0:e&&e.nodeType===3?!1:n&&n.nodeType===3?Qo(e,n.parentNode):"contains"in e?e.contains(n):e.compareDocumentPosition?!!(e.compareDocumentPosition(n)&16):!1:!1}function uo(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var n=Se(e.document);n instanceof e.HTMLIFrameElement;){try{var a=typeof n.contentWindow.location.href=="string"}catch{a=!1}if(a)e=n.contentWindow;else break;n=Se(e.document)}return n}function fo(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n&&(n==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||n==="textarea"||e.contentEditable==="true")}var Jo=gr&&"documentMode"in document&&11>=document.documentMode,Jn=null,ma=null,Di=null,ts=!1;function su(e,n,a){var c=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;ts||Jn==null||Jn!==Se(c)||(c=Jn,"selectionStart"in c&&fo(c)?c={start:c.selectionStart,end:c.selectionEnd}:(c=(c.ownerDocument&&c.ownerDocument.defaultView||window).getSelection(),c={anchorNode:c.anchorNode,anchorOffset:c.anchorOffset,focusNode:c.focusNode,focusOffset:c.focusOffset}),Di&&Cn(Di,c)||(Di=c,c=Vu(ma,"onSelect"),0<c.length&&(n=new ao("onSelect","select",null,n,a),e.push({event:n,listeners:c}),n.target=Jn)))}function vr(e,n){var a={};return a[e.toLowerCase()]=n.toLowerCase(),a["Webkit"+e]="webkit"+n,a["Moz"+e]="moz"+n,a}var pa={animationend:vr("Animation","AnimationEnd"),animationiteration:vr("Animation","AnimationIteration"),animationstart:vr("Animation","AnimationStart"),transitionrun:vr("Transition","TransitionRun"),transitionstart:vr("Transition","TransitionStart"),transitioncancel:vr("Transition","TransitionCancel"),transitionend:vr("Transition","TransitionEnd")},es={},lu={};gr&&(lu=document.createElement("div").style,"AnimationEvent"in window||(delete pa.animationend.animation,delete pa.animationiteration.animation,delete pa.animationstart.animation),"TransitionEvent"in window||delete pa.transitionend.transition);function ti(e){if(es[e])return es[e];if(!pa[e])return e;var n=pa[e],a;for(a in n)if(n.hasOwnProperty(a)&&a in lu)return es[e]=n[a];return e}var cu=ti("animationend"),tr=ti("animationiteration"),ho=ti("animationstart"),Wf=ti("transitionrun"),ns=ti("transitionstart"),Qf=ti("transitioncancel"),vl=ti("transitionend"),uu=new Map,Ai="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Ai.push("scrollEnd");function er(e,n){uu.set(e,n),gi(n,[e])}var ji=new WeakMap;function On(e,n){if(typeof e=="object"&&e!==null){var a=ji.get(e);return a!==void 0?a:(n={value:e,source:n,stack:xe(n)},ji.set(e,n),n)}return{value:e,source:n,stack:xe(n)}}var Ln=[],ga=0,nr=0;function mo(){for(var e=ga,n=nr=ga=0;n<e;){var a=Ln[n];Ln[n++]=null;var c=Ln[n];Ln[n++]=null;var m=Ln[n];Ln[n++]=null;var y=Ln[n];if(Ln[n++]=null,c!==null&&m!==null){var N=c.pending;N===null?m.next=m:(m.next=N.next,N.next=m),c.pending=m}y!==0&&go(a,m,y)}}function po(e,n,a,c){Ln[ga++]=e,Ln[ga++]=n,Ln[ga++]=a,Ln[ga++]=c,nr|=c,e.lanes|=c,e=e.alternate,e!==null&&(e.lanes|=c)}function ki(e,n,a,c){return po(e,n,a,c),ei(e)}function ba(e,n){return po(e,null,null,n),ei(e)}function go(e,n,a){e.lanes|=a;var c=e.alternate;c!==null&&(c.lanes|=a);for(var m=!1,y=e.return;y!==null;)y.childLanes|=a,c=y.alternate,c!==null&&(c.childLanes|=a),y.tag===22&&(e=y.stateNode,e===null||e._visibility&1||(m=!0)),e=y,y=y.return;return e.tag===3?(y=e.stateNode,m&&n!==null&&(m=31-je(a),e=y.hiddenUpdates,c=e[m],c===null?e[m]=[n]:c.push(n),n.lane=a|536870912),y):null}function ei(e){if(50<Ul)throw Ul=0,Fh=null,Error(s(185));for(var n=e.return;n!==null;)e=n,n=e.return;return e.tag===3?e.stateNode:null}var Ci={};function du(e,n,a,c){this.tag=e,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=c,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Bn(e,n,a,c){return new du(e,n,a,c)}function rs(e){return e=e.prototype,!(!e||!e.isReactComponent)}function _r(e,n){var a=e.alternate;return a===null?(a=Bn(e.tag,n,e.key,e.mode),a.elementType=e.elementType,a.type=e.type,a.stateNode=e.stateNode,a.alternate=e,e.alternate=a):(a.pendingProps=n,a.type=e.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=e.flags&65011712,a.childLanes=e.childLanes,a.lanes=e.lanes,a.child=e.child,a.memoizedProps=e.memoizedProps,a.memoizedState=e.memoizedState,a.updateQueue=e.updateQueue,n=e.dependencies,a.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},a.sibling=e.sibling,a.index=e.index,a.ref=e.ref,a.refCleanup=e.refCleanup,a}function _l(e,n){e.flags&=65011714;var a=e.alternate;return a===null?(e.childLanes=0,e.lanes=n,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=a.childLanes,e.lanes=a.lanes,e.child=a.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=a.memoizedProps,e.memoizedState=a.memoizedState,e.updateQueue=a.updateQueue,e.type=a.type,n=a.dependencies,e.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),e}function bo(e,n,a,c,m,y){var N=0;if(c=e,typeof e=="function")rs(e)&&(N=1);else if(typeof e=="string")N=YS(e,a,et.current)?26:e==="html"||e==="head"||e==="body"?27:5;else t:switch(e){case nt:return e=Bn(31,a,n,m),e.elementType=nt,e.lanes=y,e;case A:return ni(a.children,m,y,n);case D:N=8,m|=24;break;case j:return e=Bn(12,a,n,m|2),e.elementType=j,e.lanes=y,e;case B:return e=Bn(13,a,n,m),e.elementType=B,e.lanes=y,e;case V:return e=Bn(19,a,n,m),e.elementType=V,e.lanes=y,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case $:case C:N=10;break t;case z:N=9;break t;case P:N=11;break t;case J:N=14;break t;case Q:N=16,c=null;break t}N=29,a=Error(s(130,e===null?"null":typeof e,"")),c=null}return n=Bn(N,a,n,m),n.elementType=e,n.type=c,n.lanes=y,n}function ni(e,n,a,c){return e=Bn(7,e,c,n),e.lanes=a,e}function xl(e,n,a){return e=Bn(6,e,null,n),e.lanes=a,e}function is(e,n,a){return n=Bn(4,e.children!==null?e.children:[],e.key,n),n.lanes=a,n.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},n}var Oi=[],ya=0,r=null,l=0,f=[],_=0,T=null,k=1,Y="";function ot(e,n){Oi[ya++]=l,Oi[ya++]=r,r=e,l=n}function pt(e,n,a){f[_++]=k,f[_++]=Y,f[_++]=T,T=e;var c=k;e=Y;var m=32-je(c)-1;c&=~(1<<m),a+=1;var y=32-je(n)+m;if(30<y){var N=m-m%5;y=(c&(1<<N)-1).toString(32),c>>=N,m-=N,k=1<<32-je(n)+m|a<<m|c,Y=y+e}else k=1<<y|a<<m|c,Y=e}function St(e){e.return!==null&&(ot(e,1),pt(e,1,0))}function Mt(e){for(;e===r;)r=Oi[--ya],Oi[ya]=null,l=Oi[--ya],Oi[ya]=null;for(;e===T;)T=f[--_],f[_]=null,Y=f[--_],f[_]=null,k=f[--_],f[_]=null}var jt=null,Ct=null,Ut=!1,we=null,Be=!1,ln=Error(s(519));function Yn(e){var n=Error(s(418,""));throw _a(On(n,e)),ln}function fu(e){var n=e.stateNode,a=e.type,c=e.memoizedProps;switch(n[on]=e,n[Tn]=c,a){case"dialog":te("cancel",n),te("close",n);break;case"iframe":case"object":case"embed":te("load",n);break;case"video":case"audio":for(a=0;a<Zl.length;a++)te(Zl[a],n);break;case"source":te("error",n);break;case"img":case"image":case"link":te("error",n),te("load",n);break;case"details":te("toggle",n);break;case"input":te("invalid",n),qc(n,c.value,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name,!0),ea(n);break;case"select":te("invalid",n);break;case"textarea":te("invalid",n),Wr(n,c.value,c.defaultValue,c.children),ea(n)}a=c.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||n.textContent===""+a||c.suppressHydrationWarning===!0||qb(n.textContent,a)?(c.popover!=null&&(te("beforetoggle",n),te("toggle",n)),c.onScroll!=null&&te("scroll",n),c.onScrollEnd!=null&&te("scrollend",n),c.onClick!=null&&(n.onclick=Ku),n=!0):n=!1,n||Yn(e)}function hu(e){for(jt=e.return;jt;)switch(jt.tag){case 5:case 13:Be=!1;return;case 27:case 3:Be=!0;return;default:jt=jt.return}}function yo(e){if(e!==jt)return!1;if(!Ut)return hu(e),Ut=!0,!1;var n=e.tag,a;if((a=n!==3&&n!==27)&&((a=n===5)&&(a=e.type,a=!(a!=="form"&&a!=="button")||dm(e.type,e.memoizedProps)),a=!a),a&&Ct&&Yn(e),hu(e),n===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(s(317));t:{for(e=e.nextSibling,n=0;e;){if(e.nodeType===8)if(a=e.data,a==="/$"){if(n===0){Ct=Zr(e.nextSibling);break t}n--}else a!=="$"&&a!=="$!"&&a!=="$?"||n++;e=e.nextSibling}Ct=null}}else n===27?(n=Ct,Ba(e.type)?(e=pm,pm=null,Ct=e):Ct=n):Ct=jt?Zr(e.stateNode.nextSibling):null;return!0}function va(){Ct=jt=null,Ut=!1}function mu(){var e=we;return e!==null&&(Kn===null?Kn=e:Kn.push.apply(Kn,e),we=null),e}function _a(e){we===null?we=[e]:we.push(e)}var ke=H(null),xr=null,Ir=null;function ri(e,n,a){W(ke,n._currentValue),n._currentValue=a}function Ur(e){e._currentValue=ke.current,U(ke)}function vo(e,n,a){for(;e!==null;){var c=e.alternate;if((e.childLanes&n)!==n?(e.childLanes|=n,c!==null&&(c.childLanes|=n)):c!==null&&(c.childLanes&n)!==n&&(c.childLanes|=n),e===a)break;e=e.return}}function as(e,n,a,c){var m=e.child;for(m!==null&&(m.return=e);m!==null;){var y=m.dependencies;if(y!==null){var N=m.child;y=y.firstContext;t:for(;y!==null;){var O=y;y=m;for(var q=0;q<n.length;q++)if(O.context===n[q]){y.lanes|=a,O=y.alternate,O!==null&&(O.lanes|=a),vo(y.return,a,e),c||(N=null);break t}y=O.next}}else if(m.tag===18){if(N=m.return,N===null)throw Error(s(341));N.lanes|=a,y=N.alternate,y!==null&&(y.lanes|=a),vo(N,a,e),N=null}else N=m.child;if(N!==null)N.return=m;else for(N=m;N!==null;){if(N===e){N=null;break}if(m=N.sibling,m!==null){m.return=N.return,N=m;break}N=N.return}m=N}}function _o(e,n,a,c){e=null;for(var m=n,y=!1;m!==null;){if(!y){if((m.flags&524288)!==0)y=!0;else if((m.flags&262144)!==0)break}if(m.tag===10){var N=m.alternate;if(N===null)throw Error(s(387));if(N=N.memoizedProps,N!==null){var O=m.type;kn(m.pendingProps.value,N.value)||(e!==null?e.push(O):e=[O])}}else if(m===wt.current){if(N=m.alternate,N===null)throw Error(s(387));N.memoizedState.memoizedState!==m.memoizedState.memoizedState&&(e!==null?e.push(Xl):e=[Xl])}m=m.return}e!==null&&as(n,e,a,c),n.flags|=262144}function pu(e){for(e=e.firstContext;e!==null;){if(!kn(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function xo(e){xr=e,Ir=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function Nn(e){return C0(xr,e)}function gu(e,n){return xr===null&&xo(e),C0(e,n)}function C0(e,n){var a=n._currentValue;if(n={context:n,memoizedValue:a,next:null},Ir===null){if(e===null)throw Error(s(308));Ir=n,e.dependencies={lanes:0,firstContext:n},e.flags|=524288}else Ir=Ir.next=n;return a}var Z2=typeof AbortController<"u"?AbortController:function(){var e=[],n=this.signal={aborted:!1,addEventListener:function(a,c){e.push(c)}};this.abort=function(){n.aborted=!0,e.forEach(function(a){return a()})}},Y2=t.unstable_scheduleCallback,q2=t.unstable_NormalPriority,We={$$typeof:C,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Jf(){return{controller:new Z2,data:new Map,refCount:0}}function Sl(e){e.refCount--,e.refCount===0&&Y2(q2,function(){e.controller.abort()})}var wl=null,th=0,os=0,ss=null;function V2(e,n){if(wl===null){var a=wl=[];th=0,os=nm(),ss={status:"pending",value:void 0,then:function(c){a.push(c)}}}return th++,n.then(O0,O0),n}function O0(){if(--th===0&&wl!==null){ss!==null&&(ss.status="fulfilled");var e=wl;wl=null,os=0,ss=null;for(var n=0;n<e.length;n++)(0,e[n])()}}function K2(e,n){var a=[],c={status:"pending",value:null,reason:null,then:function(m){a.push(m)}};return e.then(function(){c.status="fulfilled",c.value=n;for(var m=0;m<a.length;m++)(0,a[m])(n)},function(m){for(c.status="rejected",c.reason=m,m=0;m<a.length;m++)(0,a[m])(void 0)}),c}var L0=Z.S;Z.S=function(e,n){typeof n=="object"&&n!==null&&typeof n.then=="function"&&V2(e,n),L0!==null&&L0(e,n)};var So=H(null);function eh(){var e=So.current;return e!==null?e:Te.pooledCache}function bu(e,n){n===null?W(So,So.current):W(So,n.pool)}function B0(){var e=eh();return e===null?null:{parent:We._currentValue,pool:e}}var Tl=Error(s(460)),R0=Error(s(474)),yu=Error(s(542)),nh={then:function(){}};function P0(e){return e=e.status,e==="fulfilled"||e==="rejected"}function vu(){}function z0(e,n,a){switch(a=e[a],a===void 0?e.push(n):a!==n&&(n.then(vu,vu),n=a),n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,$0(e),e;default:if(typeof n.status=="string")n.then(vu,vu);else{if(e=Te,e!==null&&100<e.shellSuspendCounter)throw Error(s(482));e=n,e.status="pending",e.then(function(c){if(n.status==="pending"){var m=n;m.status="fulfilled",m.value=c}},function(c){if(n.status==="pending"){var m=n;m.status="rejected",m.reason=c}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,$0(e),e}throw El=n,Tl}}var El=null;function H0(){if(El===null)throw Error(s(459));var e=El;return El=null,e}function $0(e){if(e===Tl||e===yu)throw Error(s(483))}var xa=!1;function rh(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function ih(e,n){e=e.updateQueue,n.updateQueue===e&&(n.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function Sa(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function wa(e,n,a){var c=e.updateQueue;if(c===null)return null;if(c=c.shared,(fe&2)!==0){var m=c.pending;return m===null?n.next=n:(n.next=m.next,m.next=n),c.pending=n,n=ei(e),go(e,null,a),n}return po(e,c,n,a),ei(e)}function Ml(e,n,a){if(n=n.updateQueue,n!==null&&(n=n.shared,(a&4194048)!==0)){var c=n.lanes;c&=e.pendingLanes,a|=c,n.lanes=a,$c(e,a)}}function ah(e,n){var a=e.updateQueue,c=e.alternate;if(c!==null&&(c=c.updateQueue,a===c)){var m=null,y=null;if(a=a.firstBaseUpdate,a!==null){do{var N={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};y===null?m=y=N:y=y.next=N,a=a.next}while(a!==null);y===null?m=y=n:y=y.next=n}else m=y=n;a={baseState:c.baseState,firstBaseUpdate:m,lastBaseUpdate:y,shared:c.shared,callbacks:c.callbacks},e.updateQueue=a;return}e=a.lastBaseUpdate,e===null?a.firstBaseUpdate=n:e.next=n,a.lastBaseUpdate=n}var oh=!1;function Nl(){if(oh){var e=ss;if(e!==null)throw e}}function Dl(e,n,a,c){oh=!1;var m=e.updateQueue;xa=!1;var y=m.firstBaseUpdate,N=m.lastBaseUpdate,O=m.shared.pending;if(O!==null){m.shared.pending=null;var q=O,ct=q.next;q.next=null,N===null?y=ct:N.next=ct,N=q;var yt=e.alternate;yt!==null&&(yt=yt.updateQueue,O=yt.lastBaseUpdate,O!==N&&(O===null?yt.firstBaseUpdate=ct:O.next=ct,yt.lastBaseUpdate=q))}if(y!==null){var xt=m.baseState;N=0,yt=ct=q=null,O=y;do{var ht=O.lane&-536870913,mt=ht!==O.lane;if(mt?(ie&ht)===ht:(c&ht)===ht){ht!==0&&ht===os&&(oh=!0),yt!==null&&(yt=yt.next={lane:0,tag:O.tag,payload:O.payload,callback:null,next:null});t:{var It=e,Pt=O;ht=n;var ge=a;switch(Pt.tag){case 1:if(It=Pt.payload,typeof It=="function"){xt=It.call(ge,xt,ht);break t}xt=It;break t;case 3:It.flags=It.flags&-65537|128;case 0:if(It=Pt.payload,ht=typeof It=="function"?It.call(ge,xt,ht):It,ht==null)break t;xt=x({},xt,ht);break t;case 2:xa=!0}}ht=O.callback,ht!==null&&(e.flags|=64,mt&&(e.flags|=8192),mt=m.callbacks,mt===null?m.callbacks=[ht]:mt.push(ht))}else mt={lane:ht,tag:O.tag,payload:O.payload,callback:O.callback,next:null},yt===null?(ct=yt=mt,q=xt):yt=yt.next=mt,N|=ht;if(O=O.next,O===null){if(O=m.shared.pending,O===null)break;mt=O,O=mt.next,mt.next=null,m.lastBaseUpdate=mt,m.shared.pending=null}}while(!0);yt===null&&(q=xt),m.baseState=q,m.firstBaseUpdate=ct,m.lastBaseUpdate=yt,y===null&&(m.shared.lanes=0),ka|=N,e.lanes=N,e.memoizedState=xt}}function I0(e,n){if(typeof e!="function")throw Error(s(191,e));e.call(n)}function U0(e,n){var a=e.callbacks;if(a!==null)for(e.callbacks=null,e=0;e<a.length;e++)I0(a[e],n)}var ls=H(null),_u=H(0);function G0(e,n){e=$i,W(_u,e),W(ls,n),$i=e|n.baseLanes}function sh(){W(_u,$i),W(ls,ls.current)}function lh(){$i=_u.current,U(ls),U(_u)}var Ta=0,Ft=null,me=null,Fe=null,xu=!1,cs=!1,wo=!1,Su=0,Al=0,us=null,F2=0;function Ye(){throw Error(s(321))}function ch(e,n){if(n===null)return!1;for(var a=0;a<n.length&&a<e.length;a++)if(!kn(e[a],n[a]))return!1;return!0}function uh(e,n,a,c,m,y){return Ta=y,Ft=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,Z.H=e===null||e.memoizedState===null?Mg:Ng,wo=!1,y=a(c,m),wo=!1,cs&&(y=Y0(n,a,c,m)),Z0(e),y}function Z0(e){Z.H=Du;var n=me!==null&&me.next!==null;if(Ta=0,Fe=me=Ft=null,xu=!1,Al=0,us=null,n)throw Error(s(300));e===null||cn||(e=e.dependencies,e!==null&&pu(e)&&(cn=!0))}function Y0(e,n,a,c){Ft=e;var m=0;do{if(cs&&(us=null),Al=0,cs=!1,25<=m)throw Error(s(301));if(m+=1,Fe=me=null,e.updateQueue!=null){var y=e.updateQueue;y.lastEffect=null,y.events=null,y.stores=null,y.memoCache!=null&&(y.memoCache.index=0)}Z.H=nS,y=n(a,c)}while(cs);return y}function X2(){var e=Z.H,n=e.useState()[0];return n=typeof n.then=="function"?jl(n):n,e=e.useState()[0],(me!==null?me.memoizedState:null)!==e&&(Ft.flags|=1024),n}function dh(){var e=Su!==0;return Su=0,e}function fh(e,n,a){n.updateQueue=e.updateQueue,n.flags&=-2053,e.lanes&=~a}function hh(e){if(xu){for(e=e.memoizedState;e!==null;){var n=e.queue;n!==null&&(n.pending=null),e=e.next}xu=!1}Ta=0,Fe=me=Ft=null,cs=!1,Al=Su=0,us=null}function qn(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Fe===null?Ft.memoizedState=Fe=e:Fe=Fe.next=e,Fe}function Xe(){if(me===null){var e=Ft.alternate;e=e!==null?e.memoizedState:null}else e=me.next;var n=Fe===null?Ft.memoizedState:Fe.next;if(n!==null)Fe=n,me=e;else{if(e===null)throw Ft.alternate===null?Error(s(467)):Error(s(310));me=e,e={memoizedState:me.memoizedState,baseState:me.baseState,baseQueue:me.baseQueue,queue:me.queue,next:null},Fe===null?Ft.memoizedState=Fe=e:Fe=Fe.next=e}return Fe}function mh(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function jl(e){var n=Al;return Al+=1,us===null&&(us=[]),e=z0(us,e,n),n=Ft,(Fe===null?n.memoizedState:Fe.next)===null&&(n=n.alternate,Z.H=n===null||n.memoizedState===null?Mg:Ng),e}function wu(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return jl(e);if(e.$$typeof===C)return Nn(e)}throw Error(s(438,String(e)))}function ph(e){var n=null,a=Ft.updateQueue;if(a!==null&&(n=a.memoCache),n==null){var c=Ft.alternate;c!==null&&(c=c.updateQueue,c!==null&&(c=c.memoCache,c!=null&&(n={data:c.data.map(function(m){return m.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),a===null&&(a=mh(),Ft.updateQueue=a),a.memoCache=n,a=n.data[n.index],a===void 0)for(a=n.data[n.index]=Array(e),c=0;c<e;c++)a[c]=rt;return n.index++,a}function Li(e,n){return typeof n=="function"?n(e):n}function Tu(e){var n=Xe();return gh(n,me,e)}function gh(e,n,a){var c=e.queue;if(c===null)throw Error(s(311));c.lastRenderedReducer=a;var m=e.baseQueue,y=c.pending;if(y!==null){if(m!==null){var N=m.next;m.next=y.next,y.next=N}n.baseQueue=m=y,c.pending=null}if(y=e.baseState,m===null)e.memoizedState=y;else{n=m.next;var O=N=null,q=null,ct=n,yt=!1;do{var xt=ct.lane&-536870913;if(xt!==ct.lane?(ie&xt)===xt:(Ta&xt)===xt){var ht=ct.revertLane;if(ht===0)q!==null&&(q=q.next={lane:0,revertLane:0,action:ct.action,hasEagerState:ct.hasEagerState,eagerState:ct.eagerState,next:null}),xt===os&&(yt=!0);else if((Ta&ht)===ht){ct=ct.next,ht===os&&(yt=!0);continue}else xt={lane:0,revertLane:ct.revertLane,action:ct.action,hasEagerState:ct.hasEagerState,eagerState:ct.eagerState,next:null},q===null?(O=q=xt,N=y):q=q.next=xt,Ft.lanes|=ht,ka|=ht;xt=ct.action,wo&&a(y,xt),y=ct.hasEagerState?ct.eagerState:a(y,xt)}else ht={lane:xt,revertLane:ct.revertLane,action:ct.action,hasEagerState:ct.hasEagerState,eagerState:ct.eagerState,next:null},q===null?(O=q=ht,N=y):q=q.next=ht,Ft.lanes|=xt,ka|=xt;ct=ct.next}while(ct!==null&&ct!==n);if(q===null?N=y:q.next=O,!kn(y,e.memoizedState)&&(cn=!0,yt&&(a=ss,a!==null)))throw a;e.memoizedState=y,e.baseState=N,e.baseQueue=q,c.lastRenderedState=y}return m===null&&(c.lanes=0),[e.memoizedState,c.dispatch]}function bh(e){var n=Xe(),a=n.queue;if(a===null)throw Error(s(311));a.lastRenderedReducer=e;var c=a.dispatch,m=a.pending,y=n.memoizedState;if(m!==null){a.pending=null;var N=m=m.next;do y=e(y,N.action),N=N.next;while(N!==m);kn(y,n.memoizedState)||(cn=!0),n.memoizedState=y,n.baseQueue===null&&(n.baseState=y),a.lastRenderedState=y}return[y,c]}function q0(e,n,a){var c=Ft,m=Xe(),y=Ut;if(y){if(a===void 0)throw Error(s(407));a=a()}else a=n();var N=!kn((me||m).memoizedState,a);N&&(m.memoizedState=a,cn=!0),m=m.queue;var O=F0.bind(null,c,m,e);if(kl(2048,8,O,[e]),m.getSnapshot!==n||N||Fe!==null&&Fe.memoizedState.tag&1){if(c.flags|=2048,ds(9,Eu(),K0.bind(null,c,m,a,n),null),Te===null)throw Error(s(349));y||(Ta&124)!==0||V0(c,n,a)}return a}function V0(e,n,a){e.flags|=16384,e={getSnapshot:n,value:a},n=Ft.updateQueue,n===null?(n=mh(),Ft.updateQueue=n,n.stores=[e]):(a=n.stores,a===null?n.stores=[e]:a.push(e))}function K0(e,n,a,c){n.value=a,n.getSnapshot=c,X0(n)&&W0(e)}function F0(e,n,a){return a(function(){X0(n)&&W0(e)})}function X0(e){var n=e.getSnapshot;e=e.value;try{var a=n();return!kn(e,a)}catch{return!0}}function W0(e){var n=ba(e,2);n!==null&&sr(n,e,2)}function yh(e){var n=qn();if(typeof e=="function"){var a=e;if(e=a(),wo){Ze(!0);try{a()}finally{Ze(!1)}}}return n.memoizedState=n.baseState=e,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Li,lastRenderedState:e},n}function Q0(e,n,a,c){return e.baseState=a,gh(e,me,typeof c=="function"?c:Li)}function W2(e,n,a,c,m){if(Nu(e))throw Error(s(485));if(e=n.action,e!==null){var y={payload:m,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(N){y.listeners.push(N)}};Z.T!==null?a(!0):y.isTransition=!1,c(y),a=n.pending,a===null?(y.next=n.pending=y,J0(n,y)):(y.next=a.next,n.pending=a.next=y)}}function J0(e,n){var a=n.action,c=n.payload,m=e.state;if(n.isTransition){var y=Z.T,N={};Z.T=N;try{var O=a(m,c),q=Z.S;q!==null&&q(N,O),tg(e,n,O)}catch(ct){vh(e,n,ct)}finally{Z.T=y}}else try{y=a(m,c),tg(e,n,y)}catch(ct){vh(e,n,ct)}}function tg(e,n,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(c){eg(e,n,c)},function(c){return vh(e,n,c)}):eg(e,n,a)}function eg(e,n,a){n.status="fulfilled",n.value=a,ng(n),e.state=a,n=e.pending,n!==null&&(a=n.next,a===n?e.pending=null:(a=a.next,n.next=a,J0(e,a)))}function vh(e,n,a){var c=e.pending;if(e.pending=null,c!==null){c=c.next;do n.status="rejected",n.reason=a,ng(n),n=n.next;while(n!==c)}e.action=null}function ng(e){e=e.listeners;for(var n=0;n<e.length;n++)(0,e[n])()}function rg(e,n){return n}function ig(e,n){if(Ut){var a=Te.formState;if(a!==null){t:{var c=Ft;if(Ut){if(Ct){e:{for(var m=Ct,y=Be;m.nodeType!==8;){if(!y){m=null;break e}if(m=Zr(m.nextSibling),m===null){m=null;break e}}y=m.data,m=y==="F!"||y==="F"?m:null}if(m){Ct=Zr(m.nextSibling),c=m.data==="F!";break t}}Yn(c)}c=!1}c&&(n=a[0])}}return a=qn(),a.memoizedState=a.baseState=n,c={pending:null,lanes:0,dispatch:null,lastRenderedReducer:rg,lastRenderedState:n},a.queue=c,a=wg.bind(null,Ft,c),c.dispatch=a,c=yh(!1),y=Th.bind(null,Ft,!1,c.queue),c=qn(),m={state:n,dispatch:null,action:e,pending:null},c.queue=m,a=W2.bind(null,Ft,m,y,a),m.dispatch=a,c.memoizedState=e,[n,a,!1]}function ag(e){var n=Xe();return og(n,me,e)}function og(e,n,a){if(n=gh(e,n,rg)[0],e=Tu(Li)[0],typeof n=="object"&&n!==null&&typeof n.then=="function")try{var c=jl(n)}catch(N){throw N===Tl?yu:N}else c=n;n=Xe();var m=n.queue,y=m.dispatch;return a!==n.memoizedState&&(Ft.flags|=2048,ds(9,Eu(),Q2.bind(null,m,a),null)),[c,y,e]}function Q2(e,n){e.action=n}function sg(e){var n=Xe(),a=me;if(a!==null)return og(n,a,e);Xe(),n=n.memoizedState,a=Xe();var c=a.queue.dispatch;return a.memoizedState=e,[n,c,!1]}function ds(e,n,a,c){return e={tag:e,create:a,deps:c,inst:n,next:null},n=Ft.updateQueue,n===null&&(n=mh(),Ft.updateQueue=n),a=n.lastEffect,a===null?n.lastEffect=e.next=e:(c=a.next,a.next=e,e.next=c,n.lastEffect=e),e}function Eu(){return{destroy:void 0,resource:void 0}}function lg(){return Xe().memoizedState}function Mu(e,n,a,c){var m=qn();c=c===void 0?null:c,Ft.flags|=e,m.memoizedState=ds(1|n,Eu(),a,c)}function kl(e,n,a,c){var m=Xe();c=c===void 0?null:c;var y=m.memoizedState.inst;me!==null&&c!==null&&ch(c,me.memoizedState.deps)?m.memoizedState=ds(n,y,a,c):(Ft.flags|=e,m.memoizedState=ds(1|n,y,a,c))}function cg(e,n){Mu(8390656,8,e,n)}function ug(e,n){kl(2048,8,e,n)}function dg(e,n){return kl(4,2,e,n)}function fg(e,n){return kl(4,4,e,n)}function hg(e,n){if(typeof n=="function"){e=e();var a=n(e);return function(){typeof a=="function"?a():n(null)}}if(n!=null)return e=e(),n.current=e,function(){n.current=null}}function mg(e,n,a){a=a!=null?a.concat([e]):null,kl(4,4,hg.bind(null,n,e),a)}function _h(){}function pg(e,n){var a=Xe();n=n===void 0?null:n;var c=a.memoizedState;return n!==null&&ch(n,c[1])?c[0]:(a.memoizedState=[e,n],e)}function gg(e,n){var a=Xe();n=n===void 0?null:n;var c=a.memoizedState;if(n!==null&&ch(n,c[1]))return c[0];if(c=e(),wo){Ze(!0);try{e()}finally{Ze(!1)}}return a.memoizedState=[c,n],c}function xh(e,n,a){return a===void 0||(Ta&1073741824)!==0?e.memoizedState=n:(e.memoizedState=a,e=vb(),Ft.lanes|=e,ka|=e,a)}function bg(e,n,a,c){return kn(a,n)?a:ls.current!==null?(e=xh(e,a,c),kn(e,n)||(cn=!0),e):(Ta&42)===0?(cn=!0,e.memoizedState=a):(e=vb(),Ft.lanes|=e,ka|=e,n)}function yg(e,n,a,c,m){var y=lt.p;lt.p=y!==0&&8>y?y:8;var N=Z.T,O={};Z.T=O,Th(e,!1,n,a);try{var q=m(),ct=Z.S;if(ct!==null&&ct(O,q),q!==null&&typeof q=="object"&&typeof q.then=="function"){var yt=K2(q,c);Cl(e,n,yt,or(e))}else Cl(e,n,c,or(e))}catch(xt){Cl(e,n,{then:function(){},status:"rejected",reason:xt},or())}finally{lt.p=y,Z.T=N}}function J2(){}function Sh(e,n,a,c){if(e.tag!==5)throw Error(s(476));var m=vg(e).queue;yg(e,m,n,F,a===null?J2:function(){return _g(e),a(c)})}function vg(e){var n=e.memoizedState;if(n!==null)return n;n={memoizedState:F,baseState:F,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Li,lastRenderedState:F},next:null};var a={};return n.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Li,lastRenderedState:a},next:null},e.memoizedState=n,e=e.alternate,e!==null&&(e.memoizedState=n),n}function _g(e){var n=vg(e).next.queue;Cl(e,n,{},or())}function wh(){return Nn(Xl)}function xg(){return Xe().memoizedState}function Sg(){return Xe().memoizedState}function tS(e){for(var n=e.return;n!==null;){switch(n.tag){case 24:case 3:var a=or();e=Sa(a);var c=wa(n,e,a);c!==null&&(sr(c,n,a),Ml(c,n,a)),n={cache:Jf()},e.payload=n;return}n=n.return}}function eS(e,n,a){var c=or();a={lane:c,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null},Nu(e)?Tg(n,a):(a=ki(e,n,a,c),a!==null&&(sr(a,e,c),Eg(a,n,c)))}function wg(e,n,a){var c=or();Cl(e,n,a,c)}function Cl(e,n,a,c){var m={lane:c,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null};if(Nu(e))Tg(n,m);else{var y=e.alternate;if(e.lanes===0&&(y===null||y.lanes===0)&&(y=n.lastRenderedReducer,y!==null))try{var N=n.lastRenderedState,O=y(N,a);if(m.hasEagerState=!0,m.eagerState=O,kn(O,N))return po(e,n,m,0),Te===null&&mo(),!1}catch{}finally{}if(a=ki(e,n,m,c),a!==null)return sr(a,e,c),Eg(a,n,c),!0}return!1}function Th(e,n,a,c){if(c={lane:2,revertLane:nm(),action:c,hasEagerState:!1,eagerState:null,next:null},Nu(e)){if(n)throw Error(s(479))}else n=ki(e,a,c,2),n!==null&&sr(n,e,2)}function Nu(e){var n=e.alternate;return e===Ft||n!==null&&n===Ft}function Tg(e,n){cs=xu=!0;var a=e.pending;a===null?n.next=n:(n.next=a.next,a.next=n),e.pending=n}function Eg(e,n,a){if((a&4194048)!==0){var c=n.lanes;c&=e.pendingLanes,a|=c,n.lanes=a,$c(e,a)}}var Du={readContext:Nn,use:wu,useCallback:Ye,useContext:Ye,useEffect:Ye,useImperativeHandle:Ye,useLayoutEffect:Ye,useInsertionEffect:Ye,useMemo:Ye,useReducer:Ye,useRef:Ye,useState:Ye,useDebugValue:Ye,useDeferredValue:Ye,useTransition:Ye,useSyncExternalStore:Ye,useId:Ye,useHostTransitionStatus:Ye,useFormState:Ye,useActionState:Ye,useOptimistic:Ye,useMemoCache:Ye,useCacheRefresh:Ye},Mg={readContext:Nn,use:wu,useCallback:function(e,n){return qn().memoizedState=[e,n===void 0?null:n],e},useContext:Nn,useEffect:cg,useImperativeHandle:function(e,n,a){a=a!=null?a.concat([e]):null,Mu(4194308,4,hg.bind(null,n,e),a)},useLayoutEffect:function(e,n){return Mu(4194308,4,e,n)},useInsertionEffect:function(e,n){Mu(4,2,e,n)},useMemo:function(e,n){var a=qn();n=n===void 0?null:n;var c=e();if(wo){Ze(!0);try{e()}finally{Ze(!1)}}return a.memoizedState=[c,n],c},useReducer:function(e,n,a){var c=qn();if(a!==void 0){var m=a(n);if(wo){Ze(!0);try{a(n)}finally{Ze(!1)}}}else m=n;return c.memoizedState=c.baseState=m,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:m},c.queue=e,e=e.dispatch=eS.bind(null,Ft,e),[c.memoizedState,e]},useRef:function(e){var n=qn();return e={current:e},n.memoizedState=e},useState:function(e){e=yh(e);var n=e.queue,a=wg.bind(null,Ft,n);return n.dispatch=a,[e.memoizedState,a]},useDebugValue:_h,useDeferredValue:function(e,n){var a=qn();return xh(a,e,n)},useTransition:function(){var e=yh(!1);return e=yg.bind(null,Ft,e.queue,!0,!1),qn().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,n,a){var c=Ft,m=qn();if(Ut){if(a===void 0)throw Error(s(407));a=a()}else{if(a=n(),Te===null)throw Error(s(349));(ie&124)!==0||V0(c,n,a)}m.memoizedState=a;var y={value:a,getSnapshot:n};return m.queue=y,cg(F0.bind(null,c,y,e),[e]),c.flags|=2048,ds(9,Eu(),K0.bind(null,c,y,a,n),null),a},useId:function(){var e=qn(),n=Te.identifierPrefix;if(Ut){var a=Y,c=k;a=(c&~(1<<32-je(c)-1)).toString(32)+a,n="«"+n+"R"+a,a=Su++,0<a&&(n+="H"+a.toString(32)),n+="»"}else a=F2++,n="«"+n+"r"+a.toString(32)+"»";return e.memoizedState=n},useHostTransitionStatus:wh,useFormState:ig,useActionState:ig,useOptimistic:function(e){var n=qn();n.memoizedState=n.baseState=e;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=a,n=Th.bind(null,Ft,!0,a),a.dispatch=n,[e,n]},useMemoCache:ph,useCacheRefresh:function(){return qn().memoizedState=tS.bind(null,Ft)}},Ng={readContext:Nn,use:wu,useCallback:pg,useContext:Nn,useEffect:ug,useImperativeHandle:mg,useInsertionEffect:dg,useLayoutEffect:fg,useMemo:gg,useReducer:Tu,useRef:lg,useState:function(){return Tu(Li)},useDebugValue:_h,useDeferredValue:function(e,n){var a=Xe();return bg(a,me.memoizedState,e,n)},useTransition:function(){var e=Tu(Li)[0],n=Xe().memoizedState;return[typeof e=="boolean"?e:jl(e),n]},useSyncExternalStore:q0,useId:xg,useHostTransitionStatus:wh,useFormState:ag,useActionState:ag,useOptimistic:function(e,n){var a=Xe();return Q0(a,me,e,n)},useMemoCache:ph,useCacheRefresh:Sg},nS={readContext:Nn,use:wu,useCallback:pg,useContext:Nn,useEffect:ug,useImperativeHandle:mg,useInsertionEffect:dg,useLayoutEffect:fg,useMemo:gg,useReducer:bh,useRef:lg,useState:function(){return bh(Li)},useDebugValue:_h,useDeferredValue:function(e,n){var a=Xe();return me===null?xh(a,e,n):bg(a,me.memoizedState,e,n)},useTransition:function(){var e=bh(Li)[0],n=Xe().memoizedState;return[typeof e=="boolean"?e:jl(e),n]},useSyncExternalStore:q0,useId:xg,useHostTransitionStatus:wh,useFormState:sg,useActionState:sg,useOptimistic:function(e,n){var a=Xe();return me!==null?Q0(a,me,e,n):(a.baseState=e,[e,a.queue.dispatch])},useMemoCache:ph,useCacheRefresh:Sg},fs=null,Ol=0;function Au(e){var n=Ol;return Ol+=1,fs===null&&(fs=[]),z0(fs,e,n)}function Ll(e,n){n=n.props.ref,e.ref=n!==void 0?n:null}function ju(e,n){throw n.$$typeof===w?Error(s(525)):(e=Object.prototype.toString.call(n),Error(s(31,e==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":e)))}function Dg(e){var n=e._init;return n(e._payload)}function Ag(e){function n(it,tt){if(e){var st=it.deletions;st===null?(it.deletions=[tt],it.flags|=16):st.push(tt)}}function a(it,tt){if(!e)return null;for(;tt!==null;)n(it,tt),tt=tt.sibling;return null}function c(it){for(var tt=new Map;it!==null;)it.key!==null?tt.set(it.key,it):tt.set(it.index,it),it=it.sibling;return tt}function m(it,tt){return it=_r(it,tt),it.index=0,it.sibling=null,it}function y(it,tt,st){return it.index=st,e?(st=it.alternate,st!==null?(st=st.index,st<tt?(it.flags|=67108866,tt):st):(it.flags|=67108866,tt)):(it.flags|=1048576,tt)}function N(it){return e&&it.alternate===null&&(it.flags|=67108866),it}function O(it,tt,st,_t){return tt===null||tt.tag!==6?(tt=xl(st,it.mode,_t),tt.return=it,tt):(tt=m(tt,st),tt.return=it,tt)}function q(it,tt,st,_t){var kt=st.type;return kt===A?yt(it,tt,st.props.children,_t,st.key):tt!==null&&(tt.elementType===kt||typeof kt=="object"&&kt!==null&&kt.$$typeof===Q&&Dg(kt)===tt.type)?(tt=m(tt,st.props),Ll(tt,st),tt.return=it,tt):(tt=bo(st.type,st.key,st.props,null,it.mode,_t),Ll(tt,st),tt.return=it,tt)}function ct(it,tt,st,_t){return tt===null||tt.tag!==4||tt.stateNode.containerInfo!==st.containerInfo||tt.stateNode.implementation!==st.implementation?(tt=is(st,it.mode,_t),tt.return=it,tt):(tt=m(tt,st.children||[]),tt.return=it,tt)}function yt(it,tt,st,_t,kt){return tt===null||tt.tag!==7?(tt=ni(st,it.mode,_t,kt),tt.return=it,tt):(tt=m(tt,st),tt.return=it,tt)}function xt(it,tt,st){if(typeof tt=="string"&&tt!==""||typeof tt=="number"||typeof tt=="bigint")return tt=xl(""+tt,it.mode,st),tt.return=it,tt;if(typeof tt=="object"&&tt!==null){switch(tt.$$typeof){case S:return st=bo(tt.type,tt.key,tt.props,null,it.mode,st),Ll(st,tt),st.return=it,st;case E:return tt=is(tt,it.mode,st),tt.return=it,tt;case Q:var _t=tt._init;return tt=_t(tt._payload),xt(it,tt,st)}if(gt(tt)||I(tt))return tt=ni(tt,it.mode,st,null),tt.return=it,tt;if(typeof tt.then=="function")return xt(it,Au(tt),st);if(tt.$$typeof===C)return xt(it,gu(it,tt),st);ju(it,tt)}return null}function ht(it,tt,st,_t){var kt=tt!==null?tt.key:null;if(typeof st=="string"&&st!==""||typeof st=="number"||typeof st=="bigint")return kt!==null?null:O(it,tt,""+st,_t);if(typeof st=="object"&&st!==null){switch(st.$$typeof){case S:return st.key===kt?q(it,tt,st,_t):null;case E:return st.key===kt?ct(it,tt,st,_t):null;case Q:return kt=st._init,st=kt(st._payload),ht(it,tt,st,_t)}if(gt(st)||I(st))return kt!==null?null:yt(it,tt,st,_t,null);if(typeof st.then=="function")return ht(it,tt,Au(st),_t);if(st.$$typeof===C)return ht(it,tt,gu(it,st),_t);ju(it,st)}return null}function mt(it,tt,st,_t,kt){if(typeof _t=="string"&&_t!==""||typeof _t=="number"||typeof _t=="bigint")return it=it.get(st)||null,O(tt,it,""+_t,kt);if(typeof _t=="object"&&_t!==null){switch(_t.$$typeof){case S:return it=it.get(_t.key===null?st:_t.key)||null,q(tt,it,_t,kt);case E:return it=it.get(_t.key===null?st:_t.key)||null,ct(tt,it,_t,kt);case Q:var Wt=_t._init;return _t=Wt(_t._payload),mt(it,tt,st,_t,kt)}if(gt(_t)||I(_t))return it=it.get(st)||null,yt(tt,it,_t,kt,null);if(typeof _t.then=="function")return mt(it,tt,st,Au(_t),kt);if(_t.$$typeof===C)return mt(it,tt,st,gu(tt,_t),kt);ju(tt,_t)}return null}function It(it,tt,st,_t){for(var kt=null,Wt=null,Bt=tt,Ht=tt=0,dn=null;Bt!==null&&Ht<st.length;Ht++){Bt.index>Ht?(dn=Bt,Bt=null):dn=Bt.sibling;var le=ht(it,Bt,st[Ht],_t);if(le===null){Bt===null&&(Bt=dn);break}e&&Bt&&le.alternate===null&&n(it,Bt),tt=y(le,tt,Ht),Wt===null?kt=le:Wt.sibling=le,Wt=le,Bt=dn}if(Ht===st.length)return a(it,Bt),Ut&&ot(it,Ht),kt;if(Bt===null){for(;Ht<st.length;Ht++)Bt=xt(it,st[Ht],_t),Bt!==null&&(tt=y(Bt,tt,Ht),Wt===null?kt=Bt:Wt.sibling=Bt,Wt=Bt);return Ut&&ot(it,Ht),kt}for(Bt=c(Bt);Ht<st.length;Ht++)dn=mt(Bt,it,Ht,st[Ht],_t),dn!==null&&(e&&dn.alternate!==null&&Bt.delete(dn.key===null?Ht:dn.key),tt=y(dn,tt,Ht),Wt===null?kt=dn:Wt.sibling=dn,Wt=dn);return e&&Bt.forEach(function($a){return n(it,$a)}),Ut&&ot(it,Ht),kt}function Pt(it,tt,st,_t){if(st==null)throw Error(s(151));for(var kt=null,Wt=null,Bt=tt,Ht=tt=0,dn=null,le=st.next();Bt!==null&&!le.done;Ht++,le=st.next()){Bt.index>Ht?(dn=Bt,Bt=null):dn=Bt.sibling;var $a=ht(it,Bt,le.value,_t);if($a===null){Bt===null&&(Bt=dn);break}e&&Bt&&$a.alternate===null&&n(it,Bt),tt=y($a,tt,Ht),Wt===null?kt=$a:Wt.sibling=$a,Wt=$a,Bt=dn}if(le.done)return a(it,Bt),Ut&&ot(it,Ht),kt;if(Bt===null){for(;!le.done;Ht++,le=st.next())le=xt(it,le.value,_t),le!==null&&(tt=y(le,tt,Ht),Wt===null?kt=le:Wt.sibling=le,Wt=le);return Ut&&ot(it,Ht),kt}for(Bt=c(Bt);!le.done;Ht++,le=st.next())le=mt(Bt,it,Ht,le.value,_t),le!==null&&(e&&le.alternate!==null&&Bt.delete(le.key===null?Ht:le.key),tt=y(le,tt,Ht),Wt===null?kt=le:Wt.sibling=le,Wt=le);return e&&Bt.forEach(function(rw){return n(it,rw)}),Ut&&ot(it,Ht),kt}function ge(it,tt,st,_t){if(typeof st=="object"&&st!==null&&st.type===A&&st.key===null&&(st=st.props.children),typeof st=="object"&&st!==null){switch(st.$$typeof){case S:t:{for(var kt=st.key;tt!==null;){if(tt.key===kt){if(kt=st.type,kt===A){if(tt.tag===7){a(it,tt.sibling),_t=m(tt,st.props.children),_t.return=it,it=_t;break t}}else if(tt.elementType===kt||typeof kt=="object"&&kt!==null&&kt.$$typeof===Q&&Dg(kt)===tt.type){a(it,tt.sibling),_t=m(tt,st.props),Ll(_t,st),_t.return=it,it=_t;break t}a(it,tt);break}else n(it,tt);tt=tt.sibling}st.type===A?(_t=ni(st.props.children,it.mode,_t,st.key),_t.return=it,it=_t):(_t=bo(st.type,st.key,st.props,null,it.mode,_t),Ll(_t,st),_t.return=it,it=_t)}return N(it);case E:t:{for(kt=st.key;tt!==null;){if(tt.key===kt)if(tt.tag===4&&tt.stateNode.containerInfo===st.containerInfo&&tt.stateNode.implementation===st.implementation){a(it,tt.sibling),_t=m(tt,st.children||[]),_t.return=it,it=_t;break t}else{a(it,tt);break}else n(it,tt);tt=tt.sibling}_t=is(st,it.mode,_t),_t.return=it,it=_t}return N(it);case Q:return kt=st._init,st=kt(st._payload),ge(it,tt,st,_t)}if(gt(st))return It(it,tt,st,_t);if(I(st)){if(kt=I(st),typeof kt!="function")throw Error(s(150));return st=kt.call(st),Pt(it,tt,st,_t)}if(typeof st.then=="function")return ge(it,tt,Au(st),_t);if(st.$$typeof===C)return ge(it,tt,gu(it,st),_t);ju(it,st)}return typeof st=="string"&&st!==""||typeof st=="number"||typeof st=="bigint"?(st=""+st,tt!==null&&tt.tag===6?(a(it,tt.sibling),_t=m(tt,st),_t.return=it,it=_t):(a(it,tt),_t=xl(st,it.mode,_t),_t.return=it,it=_t),N(it)):a(it,tt)}return function(it,tt,st,_t){try{Ol=0;var kt=ge(it,tt,st,_t);return fs=null,kt}catch(Bt){if(Bt===Tl||Bt===yu)throw Bt;var Wt=Bn(29,Bt,null,it.mode);return Wt.lanes=_t,Wt.return=it,Wt}finally{}}}var hs=Ag(!0),jg=Ag(!1),Sr=H(null),ii=null;function Ea(e){var n=e.alternate;W(Qe,Qe.current&1),W(Sr,e),ii===null&&(n===null||ls.current!==null||n.memoizedState!==null)&&(ii=e)}function kg(e){if(e.tag===22){if(W(Qe,Qe.current),W(Sr,e),ii===null){var n=e.alternate;n!==null&&n.memoizedState!==null&&(ii=e)}}else Ma()}function Ma(){W(Qe,Qe.current),W(Sr,Sr.current)}function Bi(e){U(Sr),ii===e&&(ii=null),U(Qe)}var Qe=H(0);function ku(e){for(var n=e;n!==null;){if(n.tag===13){var a=n.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||a.data==="$?"||mm(a)))return n}else if(n.tag===19&&n.memoizedProps.revealOrder!==void 0){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}function Eh(e,n,a,c){n=e.memoizedState,a=a(c,n),a=a==null?n:x({},n,a),e.memoizedState=a,e.lanes===0&&(e.updateQueue.baseState=a)}var Mh={enqueueSetState:function(e,n,a){e=e._reactInternals;var c=or(),m=Sa(c);m.payload=n,a!=null&&(m.callback=a),n=wa(e,m,c),n!==null&&(sr(n,e,c),Ml(n,e,c))},enqueueReplaceState:function(e,n,a){e=e._reactInternals;var c=or(),m=Sa(c);m.tag=1,m.payload=n,a!=null&&(m.callback=a),n=wa(e,m,c),n!==null&&(sr(n,e,c),Ml(n,e,c))},enqueueForceUpdate:function(e,n){e=e._reactInternals;var a=or(),c=Sa(a);c.tag=2,n!=null&&(c.callback=n),n=wa(e,c,a),n!==null&&(sr(n,e,a),Ml(n,e,a))}};function Cg(e,n,a,c,m,y,N){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(c,y,N):n.prototype&&n.prototype.isPureReactComponent?!Cn(a,c)||!Cn(m,y):!0}function Og(e,n,a,c){e=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(a,c),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(a,c),n.state!==e&&Mh.enqueueReplaceState(n,n.state,null)}function To(e,n){var a=n;if("ref"in n){a={};for(var c in n)c!=="ref"&&(a[c]=n[c])}if(e=e.defaultProps){a===n&&(a=x({},a));for(var m in e)a[m]===void 0&&(a[m]=e[m])}return a}var Cu=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)};function Lg(e){Cu(e)}function Bg(e){console.error(e)}function Rg(e){Cu(e)}function Ou(e,n){try{var a=e.onUncaughtError;a(n.value,{componentStack:n.stack})}catch(c){setTimeout(function(){throw c})}}function Pg(e,n,a){try{var c=e.onCaughtError;c(a.value,{componentStack:a.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(m){setTimeout(function(){throw m})}}function Nh(e,n,a){return a=Sa(a),a.tag=3,a.payload={element:null},a.callback=function(){Ou(e,n)},a}function zg(e){return e=Sa(e),e.tag=3,e}function Hg(e,n,a,c){var m=a.type.getDerivedStateFromError;if(typeof m=="function"){var y=c.value;e.payload=function(){return m(y)},e.callback=function(){Pg(n,a,c)}}var N=a.stateNode;N!==null&&typeof N.componentDidCatch=="function"&&(e.callback=function(){Pg(n,a,c),typeof m!="function"&&(Ca===null?Ca=new Set([this]):Ca.add(this));var O=c.stack;this.componentDidCatch(c.value,{componentStack:O!==null?O:""})})}function rS(e,n,a,c,m){if(a.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){if(n=a.alternate,n!==null&&_o(n,a,m,!0),a=Sr.current,a!==null){switch(a.tag){case 13:return ii===null?Wh():a.alternate===null&&Ue===0&&(Ue=3),a.flags&=-257,a.flags|=65536,a.lanes=m,c===nh?a.flags|=16384:(n=a.updateQueue,n===null?a.updateQueue=new Set([c]):n.add(c),Jh(e,c,m)),!1;case 22:return a.flags|=65536,c===nh?a.flags|=16384:(n=a.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([c])},a.updateQueue=n):(a=n.retryQueue,a===null?n.retryQueue=new Set([c]):a.add(c)),Jh(e,c,m)),!1}throw Error(s(435,a.tag))}return Jh(e,c,m),Wh(),!1}if(Ut)return n=Sr.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=m,c!==ln&&(e=Error(s(422),{cause:c}),_a(On(e,a)))):(c!==ln&&(n=Error(s(423),{cause:c}),_a(On(n,a))),e=e.current.alternate,e.flags|=65536,m&=-m,e.lanes|=m,c=On(c,a),m=Nh(e.stateNode,c,m),ah(e,m),Ue!==4&&(Ue=2)),!1;var y=Error(s(520),{cause:c});if(y=On(y,a),Il===null?Il=[y]:Il.push(y),Ue!==4&&(Ue=2),n===null)return!0;c=On(c,a),a=n;do{switch(a.tag){case 3:return a.flags|=65536,e=m&-m,a.lanes|=e,e=Nh(a.stateNode,c,e),ah(a,e),!1;case 1:if(n=a.type,y=a.stateNode,(a.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||y!==null&&typeof y.componentDidCatch=="function"&&(Ca===null||!Ca.has(y))))return a.flags|=65536,m&=-m,a.lanes|=m,m=zg(m),Hg(m,e,a,c),ah(a,m),!1}a=a.return}while(a!==null);return!1}var $g=Error(s(461)),cn=!1;function yn(e,n,a,c){n.child=e===null?jg(n,null,a,c):hs(n,e.child,a,c)}function Ig(e,n,a,c,m){a=a.render;var y=n.ref;if("ref"in c){var N={};for(var O in c)O!=="ref"&&(N[O]=c[O])}else N=c;return xo(n),c=uh(e,n,a,N,y,m),O=dh(),e!==null&&!cn?(fh(e,n,m),Ri(e,n,m)):(Ut&&O&&St(n),n.flags|=1,yn(e,n,c,m),n.child)}function Ug(e,n,a,c,m){if(e===null){var y=a.type;return typeof y=="function"&&!rs(y)&&y.defaultProps===void 0&&a.compare===null?(n.tag=15,n.type=y,Gg(e,n,y,c,m)):(e=bo(a.type,null,c,n,n.mode,m),e.ref=n.ref,e.return=n,n.child=e)}if(y=e.child,!Bh(e,m)){var N=y.memoizedProps;if(a=a.compare,a=a!==null?a:Cn,a(N,c)&&e.ref===n.ref)return Ri(e,n,m)}return n.flags|=1,e=_r(y,c),e.ref=n.ref,e.return=n,n.child=e}function Gg(e,n,a,c,m){if(e!==null){var y=e.memoizedProps;if(Cn(y,c)&&e.ref===n.ref)if(cn=!1,n.pendingProps=c=y,Bh(e,m))(e.flags&131072)!==0&&(cn=!0);else return n.lanes=e.lanes,Ri(e,n,m)}return Dh(e,n,a,c,m)}function Zg(e,n,a){var c=n.pendingProps,m=c.children,y=e!==null?e.memoizedState:null;if(c.mode==="hidden"){if((n.flags&128)!==0){if(c=y!==null?y.baseLanes|a:a,e!==null){for(m=n.child=e.child,y=0;m!==null;)y=y|m.lanes|m.childLanes,m=m.sibling;n.childLanes=y&~c}else n.childLanes=0,n.child=null;return Yg(e,n,c,a)}if((a&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},e!==null&&bu(n,y!==null?y.cachePool:null),y!==null?G0(n,y):sh(),kg(n);else return n.lanes=n.childLanes=536870912,Yg(e,n,y!==null?y.baseLanes|a:a,a)}else y!==null?(bu(n,y.cachePool),G0(n,y),Ma(),n.memoizedState=null):(e!==null&&bu(n,null),sh(),Ma());return yn(e,n,m,a),n.child}function Yg(e,n,a,c){var m=eh();return m=m===null?null:{parent:We._currentValue,pool:m},n.memoizedState={baseLanes:a,cachePool:m},e!==null&&bu(n,null),sh(),kg(n),e!==null&&_o(e,n,c,!0),null}function Lu(e,n){var a=n.ref;if(a===null)e!==null&&e.ref!==null&&(n.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(s(284));(e===null||e.ref!==a)&&(n.flags|=4194816)}}function Dh(e,n,a,c,m){return xo(n),a=uh(e,n,a,c,void 0,m),c=dh(),e!==null&&!cn?(fh(e,n,m),Ri(e,n,m)):(Ut&&c&&St(n),n.flags|=1,yn(e,n,a,m),n.child)}function qg(e,n,a,c,m,y){return xo(n),n.updateQueue=null,a=Y0(n,c,a,m),Z0(e),c=dh(),e!==null&&!cn?(fh(e,n,y),Ri(e,n,y)):(Ut&&c&&St(n),n.flags|=1,yn(e,n,a,y),n.child)}function Vg(e,n,a,c,m){if(xo(n),n.stateNode===null){var y=Ci,N=a.contextType;typeof N=="object"&&N!==null&&(y=Nn(N)),y=new a(c,y),n.memoizedState=y.state!==null&&y.state!==void 0?y.state:null,y.updater=Mh,n.stateNode=y,y._reactInternals=n,y=n.stateNode,y.props=c,y.state=n.memoizedState,y.refs={},rh(n),N=a.contextType,y.context=typeof N=="object"&&N!==null?Nn(N):Ci,y.state=n.memoizedState,N=a.getDerivedStateFromProps,typeof N=="function"&&(Eh(n,a,N,c),y.state=n.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof y.getSnapshotBeforeUpdate=="function"||typeof y.UNSAFE_componentWillMount!="function"&&typeof y.componentWillMount!="function"||(N=y.state,typeof y.componentWillMount=="function"&&y.componentWillMount(),typeof y.UNSAFE_componentWillMount=="function"&&y.UNSAFE_componentWillMount(),N!==y.state&&Mh.enqueueReplaceState(y,y.state,null),Dl(n,c,y,m),Nl(),y.state=n.memoizedState),typeof y.componentDidMount=="function"&&(n.flags|=4194308),c=!0}else if(e===null){y=n.stateNode;var O=n.memoizedProps,q=To(a,O);y.props=q;var ct=y.context,yt=a.contextType;N=Ci,typeof yt=="object"&&yt!==null&&(N=Nn(yt));var xt=a.getDerivedStateFromProps;yt=typeof xt=="function"||typeof y.getSnapshotBeforeUpdate=="function",O=n.pendingProps!==O,yt||typeof y.UNSAFE_componentWillReceiveProps!="function"&&typeof y.componentWillReceiveProps!="function"||(O||ct!==N)&&Og(n,y,c,N),xa=!1;var ht=n.memoizedState;y.state=ht,Dl(n,c,y,m),Nl(),ct=n.memoizedState,O||ht!==ct||xa?(typeof xt=="function"&&(Eh(n,a,xt,c),ct=n.memoizedState),(q=xa||Cg(n,a,q,c,ht,ct,N))?(yt||typeof y.UNSAFE_componentWillMount!="function"&&typeof y.componentWillMount!="function"||(typeof y.componentWillMount=="function"&&y.componentWillMount(),typeof y.UNSAFE_componentWillMount=="function"&&y.UNSAFE_componentWillMount()),typeof y.componentDidMount=="function"&&(n.flags|=4194308)):(typeof y.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=c,n.memoizedState=ct),y.props=c,y.state=ct,y.context=N,c=q):(typeof y.componentDidMount=="function"&&(n.flags|=4194308),c=!1)}else{y=n.stateNode,ih(e,n),N=n.memoizedProps,yt=To(a,N),y.props=yt,xt=n.pendingProps,ht=y.context,ct=a.contextType,q=Ci,typeof ct=="object"&&ct!==null&&(q=Nn(ct)),O=a.getDerivedStateFromProps,(ct=typeof O=="function"||typeof y.getSnapshotBeforeUpdate=="function")||typeof y.UNSAFE_componentWillReceiveProps!="function"&&typeof y.componentWillReceiveProps!="function"||(N!==xt||ht!==q)&&Og(n,y,c,q),xa=!1,ht=n.memoizedState,y.state=ht,Dl(n,c,y,m),Nl();var mt=n.memoizedState;N!==xt||ht!==mt||xa||e!==null&&e.dependencies!==null&&pu(e.dependencies)?(typeof O=="function"&&(Eh(n,a,O,c),mt=n.memoizedState),(yt=xa||Cg(n,a,yt,c,ht,mt,q)||e!==null&&e.dependencies!==null&&pu(e.dependencies))?(ct||typeof y.UNSAFE_componentWillUpdate!="function"&&typeof y.componentWillUpdate!="function"||(typeof y.componentWillUpdate=="function"&&y.componentWillUpdate(c,mt,q),typeof y.UNSAFE_componentWillUpdate=="function"&&y.UNSAFE_componentWillUpdate(c,mt,q)),typeof y.componentDidUpdate=="function"&&(n.flags|=4),typeof y.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof y.componentDidUpdate!="function"||N===e.memoizedProps&&ht===e.memoizedState||(n.flags|=4),typeof y.getSnapshotBeforeUpdate!="function"||N===e.memoizedProps&&ht===e.memoizedState||(n.flags|=1024),n.memoizedProps=c,n.memoizedState=mt),y.props=c,y.state=mt,y.context=q,c=yt):(typeof y.componentDidUpdate!="function"||N===e.memoizedProps&&ht===e.memoizedState||(n.flags|=4),typeof y.getSnapshotBeforeUpdate!="function"||N===e.memoizedProps&&ht===e.memoizedState||(n.flags|=1024),c=!1)}return y=c,Lu(e,n),c=(n.flags&128)!==0,y||c?(y=n.stateNode,a=c&&typeof a.getDerivedStateFromError!="function"?null:y.render(),n.flags|=1,e!==null&&c?(n.child=hs(n,e.child,null,m),n.child=hs(n,null,a,m)):yn(e,n,a,m),n.memoizedState=y.state,e=n.child):e=Ri(e,n,m),e}function Kg(e,n,a,c){return va(),n.flags|=256,yn(e,n,a,c),n.child}var Ah={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function jh(e){return{baseLanes:e,cachePool:B0()}}function kh(e,n,a){return e=e!==null?e.childLanes&~a:0,n&&(e|=wr),e}function Fg(e,n,a){var c=n.pendingProps,m=!1,y=(n.flags&128)!==0,N;if((N=y)||(N=e!==null&&e.memoizedState===null?!1:(Qe.current&2)!==0),N&&(m=!0,n.flags&=-129),N=(n.flags&32)!==0,n.flags&=-33,e===null){if(Ut){if(m?Ea(n):Ma(),Ut){var O=Ct,q;if(q=O){t:{for(q=O,O=Be;q.nodeType!==8;){if(!O){O=null;break t}if(q=Zr(q.nextSibling),q===null){O=null;break t}}O=q}O!==null?(n.memoizedState={dehydrated:O,treeContext:T!==null?{id:k,overflow:Y}:null,retryLane:536870912,hydrationErrors:null},q=Bn(18,null,null,0),q.stateNode=O,q.return=n,n.child=q,jt=n,Ct=null,q=!0):q=!1}q||Yn(n)}if(O=n.memoizedState,O!==null&&(O=O.dehydrated,O!==null))return mm(O)?n.lanes=32:n.lanes=536870912,null;Bi(n)}return O=c.children,c=c.fallback,m?(Ma(),m=n.mode,O=Bu({mode:"hidden",children:O},m),c=ni(c,m,a,null),O.return=n,c.return=n,O.sibling=c,n.child=O,m=n.child,m.memoizedState=jh(a),m.childLanes=kh(e,N,a),n.memoizedState=Ah,c):(Ea(n),Ch(n,O))}if(q=e.memoizedState,q!==null&&(O=q.dehydrated,O!==null)){if(y)n.flags&256?(Ea(n),n.flags&=-257,n=Oh(e,n,a)):n.memoizedState!==null?(Ma(),n.child=e.child,n.flags|=128,n=null):(Ma(),m=c.fallback,O=n.mode,c=Bu({mode:"visible",children:c.children},O),m=ni(m,O,a,null),m.flags|=2,c.return=n,m.return=n,c.sibling=m,n.child=c,hs(n,e.child,null,a),c=n.child,c.memoizedState=jh(a),c.childLanes=kh(e,N,a),n.memoizedState=Ah,n=m);else if(Ea(n),mm(O)){if(N=O.nextSibling&&O.nextSibling.dataset,N)var ct=N.dgst;N=ct,c=Error(s(419)),c.stack="",c.digest=N,_a({value:c,source:null,stack:null}),n=Oh(e,n,a)}else if(cn||_o(e,n,a,!1),N=(a&e.childLanes)!==0,cn||N){if(N=Te,N!==null&&(c=a&-a,c=(c&42)!==0?1:el(c),c=(c&(N.suspendedLanes|a))!==0?0:c,c!==0&&c!==q.retryLane))throw q.retryLane=c,ba(e,c),sr(N,e,c),$g;O.data==="$?"||Wh(),n=Oh(e,n,a)}else O.data==="$?"?(n.flags|=192,n.child=e.child,n=null):(e=q.treeContext,Ct=Zr(O.nextSibling),jt=n,Ut=!0,we=null,Be=!1,e!==null&&(f[_++]=k,f[_++]=Y,f[_++]=T,k=e.id,Y=e.overflow,T=n),n=Ch(n,c.children),n.flags|=4096);return n}return m?(Ma(),m=c.fallback,O=n.mode,q=e.child,ct=q.sibling,c=_r(q,{mode:"hidden",children:c.children}),c.subtreeFlags=q.subtreeFlags&65011712,ct!==null?m=_r(ct,m):(m=ni(m,O,a,null),m.flags|=2),m.return=n,c.return=n,c.sibling=m,n.child=c,c=m,m=n.child,O=e.child.memoizedState,O===null?O=jh(a):(q=O.cachePool,q!==null?(ct=We._currentValue,q=q.parent!==ct?{parent:ct,pool:ct}:q):q=B0(),O={baseLanes:O.baseLanes|a,cachePool:q}),m.memoizedState=O,m.childLanes=kh(e,N,a),n.memoizedState=Ah,c):(Ea(n),a=e.child,e=a.sibling,a=_r(a,{mode:"visible",children:c.children}),a.return=n,a.sibling=null,e!==null&&(N=n.deletions,N===null?(n.deletions=[e],n.flags|=16):N.push(e)),n.child=a,n.memoizedState=null,a)}function Ch(e,n){return n=Bu({mode:"visible",children:n},e.mode),n.return=e,e.child=n}function Bu(e,n){return e=Bn(22,e,null,n),e.lanes=0,e.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},e}function Oh(e,n,a){return hs(n,e.child,null,a),e=Ch(n,n.pendingProps.children),e.flags|=2,n.memoizedState=null,e}function Xg(e,n,a){e.lanes|=n;var c=e.alternate;c!==null&&(c.lanes|=n),vo(e.return,n,a)}function Lh(e,n,a,c,m){var y=e.memoizedState;y===null?e.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:c,tail:a,tailMode:m}:(y.isBackwards=n,y.rendering=null,y.renderingStartTime=0,y.last=c,y.tail=a,y.tailMode=m)}function Wg(e,n,a){var c=n.pendingProps,m=c.revealOrder,y=c.tail;if(yn(e,n,c.children,a),c=Qe.current,(c&2)!==0)c=c&1|2,n.flags|=128;else{if(e!==null&&(e.flags&128)!==0)t:for(e=n.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Xg(e,a,n);else if(e.tag===19)Xg(e,a,n);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===n)break t;for(;e.sibling===null;){if(e.return===null||e.return===n)break t;e=e.return}e.sibling.return=e.return,e=e.sibling}c&=1}switch(W(Qe,c),m){case"forwards":for(a=n.child,m=null;a!==null;)e=a.alternate,e!==null&&ku(e)===null&&(m=a),a=a.sibling;a=m,a===null?(m=n.child,n.child=null):(m=a.sibling,a.sibling=null),Lh(n,!1,m,a,y);break;case"backwards":for(a=null,m=n.child,n.child=null;m!==null;){if(e=m.alternate,e!==null&&ku(e)===null){n.child=m;break}e=m.sibling,m.sibling=a,a=m,m=e}Lh(n,!0,a,null,y);break;case"together":Lh(n,!1,null,null,void 0);break;default:n.memoizedState=null}return n.child}function Ri(e,n,a){if(e!==null&&(n.dependencies=e.dependencies),ka|=n.lanes,(a&n.childLanes)===0)if(e!==null){if(_o(e,n,a,!1),(a&n.childLanes)===0)return null}else return null;if(e!==null&&n.child!==e.child)throw Error(s(153));if(n.child!==null){for(e=n.child,a=_r(e,e.pendingProps),n.child=a,a.return=n;e.sibling!==null;)e=e.sibling,a=a.sibling=_r(e,e.pendingProps),a.return=n;a.sibling=null}return n.child}function Bh(e,n){return(e.lanes&n)!==0?!0:(e=e.dependencies,!!(e!==null&&pu(e)))}function iS(e,n,a){switch(n.tag){case 3:vt(n,n.stateNode.containerInfo),ri(n,We,e.memoizedState.cache),va();break;case 27:case 5:$t(n);break;case 4:vt(n,n.stateNode.containerInfo);break;case 10:ri(n,n.type,n.memoizedProps.value);break;case 13:var c=n.memoizedState;if(c!==null)return c.dehydrated!==null?(Ea(n),n.flags|=128,null):(a&n.child.childLanes)!==0?Fg(e,n,a):(Ea(n),e=Ri(e,n,a),e!==null?e.sibling:null);Ea(n);break;case 19:var m=(e.flags&128)!==0;if(c=(a&n.childLanes)!==0,c||(_o(e,n,a,!1),c=(a&n.childLanes)!==0),m){if(c)return Wg(e,n,a);n.flags|=128}if(m=n.memoizedState,m!==null&&(m.rendering=null,m.tail=null,m.lastEffect=null),W(Qe,Qe.current),c)break;return null;case 22:case 23:return n.lanes=0,Zg(e,n,a);case 24:ri(n,We,e.memoizedState.cache)}return Ri(e,n,a)}function Qg(e,n,a){if(e!==null)if(e.memoizedProps!==n.pendingProps)cn=!0;else{if(!Bh(e,a)&&(n.flags&128)===0)return cn=!1,iS(e,n,a);cn=(e.flags&131072)!==0}else cn=!1,Ut&&(n.flags&1048576)!==0&&pt(n,l,n.index);switch(n.lanes=0,n.tag){case 16:t:{e=n.pendingProps;var c=n.elementType,m=c._init;if(c=m(c._payload),n.type=c,typeof c=="function")rs(c)?(e=To(c,e),n.tag=1,n=Vg(null,n,c,e,a)):(n.tag=0,n=Dh(null,n,c,e,a));else{if(c!=null){if(m=c.$$typeof,m===P){n.tag=11,n=Ig(null,n,c,e,a);break t}else if(m===J){n.tag=14,n=Ug(null,n,c,e,a);break t}}throw n=ft(c)||c,Error(s(306,n,""))}}return n;case 0:return Dh(e,n,n.type,n.pendingProps,a);case 1:return c=n.type,m=To(c,n.pendingProps),Vg(e,n,c,m,a);case 3:t:{if(vt(n,n.stateNode.containerInfo),e===null)throw Error(s(387));c=n.pendingProps;var y=n.memoizedState;m=y.element,ih(e,n),Dl(n,c,null,a);var N=n.memoizedState;if(c=N.cache,ri(n,We,c),c!==y.cache&&as(n,[We],a,!0),Nl(),c=N.element,y.isDehydrated)if(y={element:c,isDehydrated:!1,cache:N.cache},n.updateQueue.baseState=y,n.memoizedState=y,n.flags&256){n=Kg(e,n,c,a);break t}else if(c!==m){m=On(Error(s(424)),n),_a(m),n=Kg(e,n,c,a);break t}else{switch(e=n.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for(Ct=Zr(e.firstChild),jt=n,Ut=!0,we=null,Be=!0,a=jg(n,null,c,a),n.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(va(),c===m){n=Ri(e,n,a);break t}yn(e,n,c,a)}n=n.child}return n;case 26:return Lu(e,n),e===null?(a=ny(n.type,null,n.pendingProps,null))?n.memoizedState=a:Ut||(a=n.type,e=n.pendingProps,c=Fu(at.current).createElement(a),c[on]=n,c[Tn]=e,_n(c,a,e),Ke(c),n.stateNode=c):n.memoizedState=ny(n.type,e.memoizedProps,n.pendingProps,e.memoizedState),null;case 27:return $t(n),e===null&&Ut&&(c=n.stateNode=Jb(n.type,n.pendingProps,at.current),jt=n,Be=!0,m=Ct,Ba(n.type)?(pm=m,Ct=Zr(c.firstChild)):Ct=m),yn(e,n,n.pendingProps.children,a),Lu(e,n),e===null&&(n.flags|=4194304),n.child;case 5:return e===null&&Ut&&((m=c=Ct)&&(c=CS(c,n.type,n.pendingProps,Be),c!==null?(n.stateNode=c,jt=n,Ct=Zr(c.firstChild),Be=!1,m=!0):m=!1),m||Yn(n)),$t(n),m=n.type,y=n.pendingProps,N=e!==null?e.memoizedProps:null,c=y.children,dm(m,y)?c=null:N!==null&&dm(m,N)&&(n.flags|=32),n.memoizedState!==null&&(m=uh(e,n,X2,null,null,a),Xl._currentValue=m),Lu(e,n),yn(e,n,c,a),n.child;case 6:return e===null&&Ut&&((e=a=Ct)&&(a=OS(a,n.pendingProps,Be),a!==null?(n.stateNode=a,jt=n,Ct=null,e=!0):e=!1),e||Yn(n)),null;case 13:return Fg(e,n,a);case 4:return vt(n,n.stateNode.containerInfo),c=n.pendingProps,e===null?n.child=hs(n,null,c,a):yn(e,n,c,a),n.child;case 11:return Ig(e,n,n.type,n.pendingProps,a);case 7:return yn(e,n,n.pendingProps,a),n.child;case 8:return yn(e,n,n.pendingProps.children,a),n.child;case 12:return yn(e,n,n.pendingProps.children,a),n.child;case 10:return c=n.pendingProps,ri(n,n.type,c.value),yn(e,n,c.children,a),n.child;case 9:return m=n.type._context,c=n.pendingProps.children,xo(n),m=Nn(m),c=c(m),n.flags|=1,yn(e,n,c,a),n.child;case 14:return Ug(e,n,n.type,n.pendingProps,a);case 15:return Gg(e,n,n.type,n.pendingProps,a);case 19:return Wg(e,n,a);case 31:return c=n.pendingProps,a=n.mode,c={mode:c.mode,children:c.children},e===null?(a=Bu(c,a),a.ref=n.ref,n.child=a,a.return=n,n=a):(a=_r(e.child,c),a.ref=n.ref,n.child=a,a.return=n,n=a),n;case 22:return Zg(e,n,a);case 24:return xo(n),c=Nn(We),e===null?(m=eh(),m===null&&(m=Te,y=Jf(),m.pooledCache=y,y.refCount++,y!==null&&(m.pooledCacheLanes|=a),m=y),n.memoizedState={parent:c,cache:m},rh(n),ri(n,We,m)):((e.lanes&a)!==0&&(ih(e,n),Dl(n,null,null,a),Nl()),m=e.memoizedState,y=n.memoizedState,m.parent!==c?(m={parent:c,cache:c},n.memoizedState=m,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=m),ri(n,We,c)):(c=y.cache,ri(n,We,c),c!==m.cache&&as(n,[We],a,!0))),yn(e,n,n.pendingProps.children,a),n.child;case 29:throw n.pendingProps}throw Error(s(156,n.tag))}function Pi(e){e.flags|=4}function Jg(e,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!sy(n)){if(n=Sr.current,n!==null&&((ie&4194048)===ie?ii!==null:(ie&62914560)!==ie&&(ie&536870912)===0||n!==ii))throw El=nh,R0;e.flags|=8192}}function Ru(e,n){n!==null&&(e.flags|=4),e.flags&16384&&(n=e.tag!==22?Rr():536870912,e.lanes|=n,bs|=n)}function Bl(e,n){if(!Ut)switch(e.tailMode){case"hidden":n=e.tail;for(var a=null;n!==null;)n.alternate!==null&&(a=n),n=n.sibling;a===null?e.tail=null:a.sibling=null;break;case"collapsed":a=e.tail;for(var c=null;a!==null;)a.alternate!==null&&(c=a),a=a.sibling;c===null?n||e.tail===null?e.tail=null:e.tail.sibling=null:c.sibling=null}}function Re(e){var n=e.alternate!==null&&e.alternate.child===e.child,a=0,c=0;if(n)for(var m=e.child;m!==null;)a|=m.lanes|m.childLanes,c|=m.subtreeFlags&65011712,c|=m.flags&65011712,m.return=e,m=m.sibling;else for(m=e.child;m!==null;)a|=m.lanes|m.childLanes,c|=m.subtreeFlags,c|=m.flags,m.return=e,m=m.sibling;return e.subtreeFlags|=c,e.childLanes=a,n}function aS(e,n,a){var c=n.pendingProps;switch(Mt(n),n.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Re(n),null;case 1:return Re(n),null;case 3:return a=n.stateNode,c=null,e!==null&&(c=e.memoizedState.cache),n.memoizedState.cache!==c&&(n.flags|=2048),Ur(We),Dt(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(e===null||e.child===null)&&(yo(n)?Pi(n):e===null||e.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,mu())),Re(n),null;case 26:return a=n.memoizedState,e===null?(Pi(n),a!==null?(Re(n),Jg(n,a)):(Re(n),n.flags&=-16777217)):a?a!==e.memoizedState?(Pi(n),Re(n),Jg(n,a)):(Re(n),n.flags&=-16777217):(e.memoizedProps!==c&&Pi(n),Re(n),n.flags&=-16777217),null;case 27:Vt(n),a=at.current;var m=n.type;if(e!==null&&n.stateNode!=null)e.memoizedProps!==c&&Pi(n);else{if(!c){if(n.stateNode===null)throw Error(s(166));return Re(n),null}e=et.current,yo(n)?fu(n):(e=Jb(m,c,a),n.stateNode=e,Pi(n))}return Re(n),null;case 5:if(Vt(n),a=n.type,e!==null&&n.stateNode!=null)e.memoizedProps!==c&&Pi(n);else{if(!c){if(n.stateNode===null)throw Error(s(166));return Re(n),null}if(e=et.current,yo(n))fu(n);else{switch(m=Fu(at.current),e){case 1:e=m.createElementNS("http://www.w3.org/2000/svg",a);break;case 2:e=m.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;default:switch(a){case"svg":e=m.createElementNS("http://www.w3.org/2000/svg",a);break;case"math":e=m.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;case"script":e=m.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild);break;case"select":e=typeof c.is=="string"?m.createElement("select",{is:c.is}):m.createElement("select"),c.multiple?e.multiple=!0:c.size&&(e.size=c.size);break;default:e=typeof c.is=="string"?m.createElement(a,{is:c.is}):m.createElement(a)}}e[on]=n,e[Tn]=c;t:for(m=n.child;m!==null;){if(m.tag===5||m.tag===6)e.appendChild(m.stateNode);else if(m.tag!==4&&m.tag!==27&&m.child!==null){m.child.return=m,m=m.child;continue}if(m===n)break t;for(;m.sibling===null;){if(m.return===null||m.return===n)break t;m=m.return}m.sibling.return=m.return,m=m.sibling}n.stateNode=e;t:switch(_n(e,a,c),a){case"button":case"input":case"select":case"textarea":e=!!c.autoFocus;break t;case"img":e=!0;break t;default:e=!1}e&&Pi(n)}}return Re(n),n.flags&=-16777217,null;case 6:if(e&&n.stateNode!=null)e.memoizedProps!==c&&Pi(n);else{if(typeof c!="string"&&n.stateNode===null)throw Error(s(166));if(e=at.current,yo(n)){if(e=n.stateNode,a=n.memoizedProps,c=null,m=jt,m!==null)switch(m.tag){case 27:case 5:c=m.memoizedProps}e[on]=n,e=!!(e.nodeValue===a||c!==null&&c.suppressHydrationWarning===!0||qb(e.nodeValue,a)),e||Yn(n)}else e=Fu(e).createTextNode(c),e[on]=n,n.stateNode=e}return Re(n),null;case 13:if(c=n.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(m=yo(n),c!==null&&c.dehydrated!==null){if(e===null){if(!m)throw Error(s(318));if(m=n.memoizedState,m=m!==null?m.dehydrated:null,!m)throw Error(s(317));m[on]=n}else va(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;Re(n),m=!1}else m=mu(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=m),m=!0;if(!m)return n.flags&256?(Bi(n),n):(Bi(n),null)}if(Bi(n),(n.flags&128)!==0)return n.lanes=a,n;if(a=c!==null,e=e!==null&&e.memoizedState!==null,a){c=n.child,m=null,c.alternate!==null&&c.alternate.memoizedState!==null&&c.alternate.memoizedState.cachePool!==null&&(m=c.alternate.memoizedState.cachePool.pool);var y=null;c.memoizedState!==null&&c.memoizedState.cachePool!==null&&(y=c.memoizedState.cachePool.pool),y!==m&&(c.flags|=2048)}return a!==e&&a&&(n.child.flags|=8192),Ru(n,n.updateQueue),Re(n),null;case 4:return Dt(),e===null&&om(n.stateNode.containerInfo),Re(n),null;case 10:return Ur(n.type),Re(n),null;case 19:if(U(Qe),m=n.memoizedState,m===null)return Re(n),null;if(c=(n.flags&128)!==0,y=m.rendering,y===null)if(c)Bl(m,!1);else{if(Ue!==0||e!==null&&(e.flags&128)!==0)for(e=n.child;e!==null;){if(y=ku(e),y!==null){for(n.flags|=128,Bl(m,!1),e=y.updateQueue,n.updateQueue=e,Ru(n,e),n.subtreeFlags=0,e=a,a=n.child;a!==null;)_l(a,e),a=a.sibling;return W(Qe,Qe.current&1|2),n.child}e=e.sibling}m.tail!==null&&ve()>Hu&&(n.flags|=128,c=!0,Bl(m,!1),n.lanes=4194304)}else{if(!c)if(e=ku(y),e!==null){if(n.flags|=128,c=!0,e=e.updateQueue,n.updateQueue=e,Ru(n,e),Bl(m,!0),m.tail===null&&m.tailMode==="hidden"&&!y.alternate&&!Ut)return Re(n),null}else 2*ve()-m.renderingStartTime>Hu&&a!==536870912&&(n.flags|=128,c=!0,Bl(m,!1),n.lanes=4194304);m.isBackwards?(y.sibling=n.child,n.child=y):(e=m.last,e!==null?e.sibling=y:n.child=y,m.last=y)}return m.tail!==null?(n=m.tail,m.rendering=n,m.tail=n.sibling,m.renderingStartTime=ve(),n.sibling=null,e=Qe.current,W(Qe,c?e&1|2:e&1),n):(Re(n),null);case 22:case 23:return Bi(n),lh(),c=n.memoizedState!==null,e!==null?e.memoizedState!==null!==c&&(n.flags|=8192):c&&(n.flags|=8192),c?(a&536870912)!==0&&(n.flags&128)===0&&(Re(n),n.subtreeFlags&6&&(n.flags|=8192)):Re(n),a=n.updateQueue,a!==null&&Ru(n,a.retryQueue),a=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),c=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(c=n.memoizedState.cachePool.pool),c!==a&&(n.flags|=2048),e!==null&&U(So),null;case 24:return a=null,e!==null&&(a=e.memoizedState.cache),n.memoizedState.cache!==a&&(n.flags|=2048),Ur(We),Re(n),null;case 25:return null;case 30:return null}throw Error(s(156,n.tag))}function oS(e,n){switch(Mt(n),n.tag){case 1:return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 3:return Ur(We),Dt(),e=n.flags,(e&65536)!==0&&(e&128)===0?(n.flags=e&-65537|128,n):null;case 26:case 27:case 5:return Vt(n),null;case 13:if(Bi(n),e=n.memoizedState,e!==null&&e.dehydrated!==null){if(n.alternate===null)throw Error(s(340));va()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 19:return U(Qe),null;case 4:return Dt(),null;case 10:return Ur(n.type),null;case 22:case 23:return Bi(n),lh(),e!==null&&U(So),e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 24:return Ur(We),null;case 25:return null;default:return null}}function tb(e,n){switch(Mt(n),n.tag){case 3:Ur(We),Dt();break;case 26:case 27:case 5:Vt(n);break;case 4:Dt();break;case 13:Bi(n);break;case 19:U(Qe);break;case 10:Ur(n.type);break;case 22:case 23:Bi(n),lh(),e!==null&&U(So);break;case 24:Ur(We)}}function Rl(e,n){try{var a=n.updateQueue,c=a!==null?a.lastEffect:null;if(c!==null){var m=c.next;a=m;do{if((a.tag&e)===e){c=void 0;var y=a.create,N=a.inst;c=y(),N.destroy=c}a=a.next}while(a!==m)}}catch(O){ye(n,n.return,O)}}function Na(e,n,a){try{var c=n.updateQueue,m=c!==null?c.lastEffect:null;if(m!==null){var y=m.next;c=y;do{if((c.tag&e)===e){var N=c.inst,O=N.destroy;if(O!==void 0){N.destroy=void 0,m=n;var q=a,ct=O;try{ct()}catch(yt){ye(m,q,yt)}}}c=c.next}while(c!==y)}}catch(yt){ye(n,n.return,yt)}}function eb(e){var n=e.updateQueue;if(n!==null){var a=e.stateNode;try{U0(n,a)}catch(c){ye(e,e.return,c)}}}function nb(e,n,a){a.props=To(e.type,e.memoizedProps),a.state=e.memoizedState;try{a.componentWillUnmount()}catch(c){ye(e,n,c)}}function Pl(e,n){try{var a=e.ref;if(a!==null){switch(e.tag){case 26:case 27:case 5:var c=e.stateNode;break;case 30:c=e.stateNode;break;default:c=e.stateNode}typeof a=="function"?e.refCleanup=a(c):a.current=c}}catch(m){ye(e,n,m)}}function ai(e,n){var a=e.ref,c=e.refCleanup;if(a!==null)if(typeof c=="function")try{c()}catch(m){ye(e,n,m)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(m){ye(e,n,m)}else a.current=null}function rb(e){var n=e.type,a=e.memoizedProps,c=e.stateNode;try{t:switch(n){case"button":case"input":case"select":case"textarea":a.autoFocus&&c.focus();break t;case"img":a.src?c.src=a.src:a.srcSet&&(c.srcset=a.srcSet)}}catch(m){ye(e,e.return,m)}}function Rh(e,n,a){try{var c=e.stateNode;NS(c,e.type,a,n),c[Tn]=n}catch(m){ye(e,e.return,m)}}function ib(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&Ba(e.type)||e.tag===4}function Ph(e){t:for(;;){for(;e.sibling===null;){if(e.return===null||ib(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&Ba(e.type)||e.flags&2||e.child===null||e.tag===4)continue t;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function zh(e,n,a){var c=e.tag;if(c===5||c===6)e=e.stateNode,n?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(e,n):(n=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,n.appendChild(e),a=a._reactRootContainer,a!=null||n.onclick!==null||(n.onclick=Ku));else if(c!==4&&(c===27&&Ba(e.type)&&(a=e.stateNode,n=null),e=e.child,e!==null))for(zh(e,n,a),e=e.sibling;e!==null;)zh(e,n,a),e=e.sibling}function Pu(e,n,a){var c=e.tag;if(c===5||c===6)e=e.stateNode,n?a.insertBefore(e,n):a.appendChild(e);else if(c!==4&&(c===27&&Ba(e.type)&&(a=e.stateNode),e=e.child,e!==null))for(Pu(e,n,a),e=e.sibling;e!==null;)Pu(e,n,a),e=e.sibling}function ab(e){var n=e.stateNode,a=e.memoizedProps;try{for(var c=e.type,m=n.attributes;m.length;)n.removeAttributeNode(m[0]);_n(n,c,a),n[on]=e,n[Tn]=a}catch(y){ye(e,e.return,y)}}var zi=!1,qe=!1,Hh=!1,ob=typeof WeakSet=="function"?WeakSet:Set,un=null;function sS(e,n){if(e=e.containerInfo,cm=ed,e=uo(e),fo(e)){if("selectionStart"in e)var a={start:e.selectionStart,end:e.selectionEnd};else t:{a=(a=e.ownerDocument)&&a.defaultView||window;var c=a.getSelection&&a.getSelection();if(c&&c.rangeCount!==0){a=c.anchorNode;var m=c.anchorOffset,y=c.focusNode;c=c.focusOffset;try{a.nodeType,y.nodeType}catch{a=null;break t}var N=0,O=-1,q=-1,ct=0,yt=0,xt=e,ht=null;e:for(;;){for(var mt;xt!==a||m!==0&&xt.nodeType!==3||(O=N+m),xt!==y||c!==0&&xt.nodeType!==3||(q=N+c),xt.nodeType===3&&(N+=xt.nodeValue.length),(mt=xt.firstChild)!==null;)ht=xt,xt=mt;for(;;){if(xt===e)break e;if(ht===a&&++ct===m&&(O=N),ht===y&&++yt===c&&(q=N),(mt=xt.nextSibling)!==null)break;xt=ht,ht=xt.parentNode}xt=mt}a=O===-1||q===-1?null:{start:O,end:q}}else a=null}a=a||{start:0,end:0}}else a=null;for(um={focusedElem:e,selectionRange:a},ed=!1,un=n;un!==null;)if(n=un,e=n.child,(n.subtreeFlags&1024)!==0&&e!==null)e.return=n,un=e;else for(;un!==null;){switch(n=un,y=n.alternate,e=n.flags,n.tag){case 0:break;case 11:case 15:break;case 1:if((e&1024)!==0&&y!==null){e=void 0,a=n,m=y.memoizedProps,y=y.memoizedState,c=a.stateNode;try{var It=To(a.type,m,a.elementType===a.type);e=c.getSnapshotBeforeUpdate(It,y),c.__reactInternalSnapshotBeforeUpdate=e}catch(Pt){ye(a,a.return,Pt)}}break;case 3:if((e&1024)!==0){if(e=n.stateNode.containerInfo,a=e.nodeType,a===9)hm(e);else if(a===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":hm(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(s(163))}if(e=n.sibling,e!==null){e.return=n.return,un=e;break}un=n.return}}function sb(e,n,a){var c=a.flags;switch(a.tag){case 0:case 11:case 15:Da(e,a),c&4&&Rl(5,a);break;case 1:if(Da(e,a),c&4)if(e=a.stateNode,n===null)try{e.componentDidMount()}catch(N){ye(a,a.return,N)}else{var m=To(a.type,n.memoizedProps);n=n.memoizedState;try{e.componentDidUpdate(m,n,e.__reactInternalSnapshotBeforeUpdate)}catch(N){ye(a,a.return,N)}}c&64&&eb(a),c&512&&Pl(a,a.return);break;case 3:if(Da(e,a),c&64&&(e=a.updateQueue,e!==null)){if(n=null,a.child!==null)switch(a.child.tag){case 27:case 5:n=a.child.stateNode;break;case 1:n=a.child.stateNode}try{U0(e,n)}catch(N){ye(a,a.return,N)}}break;case 27:n===null&&c&4&&ab(a);case 26:case 5:Da(e,a),n===null&&c&4&&rb(a),c&512&&Pl(a,a.return);break;case 12:Da(e,a);break;case 13:Da(e,a),c&4&&ub(e,a),c&64&&(e=a.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(a=gS.bind(null,a),LS(e,a))));break;case 22:if(c=a.memoizedState!==null||zi,!c){n=n!==null&&n.memoizedState!==null||qe,m=zi;var y=qe;zi=c,(qe=n)&&!y?Aa(e,a,(a.subtreeFlags&8772)!==0):Da(e,a),zi=m,qe=y}break;case 30:break;default:Da(e,a)}}function lb(e){var n=e.alternate;n!==null&&(e.alternate=null,lb(n)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(n=e.stateNode,n!==null&&$o(n)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var Ce=null,Vn=!1;function Hi(e,n,a){for(a=a.child;a!==null;)cb(e,n,a),a=a.sibling}function cb(e,n,a){if(_e&&typeof _e.onCommitFiberUnmount=="function")try{_e.onCommitFiberUnmount(ce,a)}catch{}switch(a.tag){case 26:qe||ai(a,n),Hi(e,n,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:qe||ai(a,n);var c=Ce,m=Vn;Ba(a.type)&&(Ce=a.stateNode,Vn=!1),Hi(e,n,a),ql(a.stateNode),Ce=c,Vn=m;break;case 5:qe||ai(a,n);case 6:if(c=Ce,m=Vn,Ce=null,Hi(e,n,a),Ce=c,Vn=m,Ce!==null)if(Vn)try{(Ce.nodeType===9?Ce.body:Ce.nodeName==="HTML"?Ce.ownerDocument.body:Ce).removeChild(a.stateNode)}catch(y){ye(a,n,y)}else try{Ce.removeChild(a.stateNode)}catch(y){ye(a,n,y)}break;case 18:Ce!==null&&(Vn?(e=Ce,Wb(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,a.stateNode),tc(e)):Wb(Ce,a.stateNode));break;case 4:c=Ce,m=Vn,Ce=a.stateNode.containerInfo,Vn=!0,Hi(e,n,a),Ce=c,Vn=m;break;case 0:case 11:case 14:case 15:qe||Na(2,a,n),qe||Na(4,a,n),Hi(e,n,a);break;case 1:qe||(ai(a,n),c=a.stateNode,typeof c.componentWillUnmount=="function"&&nb(a,n,c)),Hi(e,n,a);break;case 21:Hi(e,n,a);break;case 22:qe=(c=qe)||a.memoizedState!==null,Hi(e,n,a),qe=c;break;default:Hi(e,n,a)}}function ub(e,n){if(n.memoizedState===null&&(e=n.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{tc(e)}catch(a){ye(n,n.return,a)}}function lS(e){switch(e.tag){case 13:case 19:var n=e.stateNode;return n===null&&(n=e.stateNode=new ob),n;case 22:return e=e.stateNode,n=e._retryCache,n===null&&(n=e._retryCache=new ob),n;default:throw Error(s(435,e.tag))}}function $h(e,n){var a=lS(e);n.forEach(function(c){var m=bS.bind(null,e,c);a.has(c)||(a.add(c),c.then(m,m))})}function rr(e,n){var a=n.deletions;if(a!==null)for(var c=0;c<a.length;c++){var m=a[c],y=e,N=n,O=N;t:for(;O!==null;){switch(O.tag){case 27:if(Ba(O.type)){Ce=O.stateNode,Vn=!1;break t}break;case 5:Ce=O.stateNode,Vn=!1;break t;case 3:case 4:Ce=O.stateNode.containerInfo,Vn=!0;break t}O=O.return}if(Ce===null)throw Error(s(160));cb(y,N,m),Ce=null,Vn=!1,y=m.alternate,y!==null&&(y.return=null),m.return=null}if(n.subtreeFlags&13878)for(n=n.child;n!==null;)db(n,e),n=n.sibling}var Gr=null;function db(e,n){var a=e.alternate,c=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:rr(n,e),ir(e),c&4&&(Na(3,e,e.return),Rl(3,e),Na(5,e,e.return));break;case 1:rr(n,e),ir(e),c&512&&(qe||a===null||ai(a,a.return)),c&64&&zi&&(e=e.updateQueue,e!==null&&(c=e.callbacks,c!==null&&(a=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=a===null?c:a.concat(c))));break;case 26:var m=Gr;if(rr(n,e),ir(e),c&512&&(qe||a===null||ai(a,a.return)),c&4){var y=a!==null?a.memoizedState:null;if(c=e.memoizedState,a===null)if(c===null)if(e.stateNode===null){t:{c=e.type,a=e.memoizedProps,m=m.ownerDocument||m;e:switch(c){case"title":y=m.getElementsByTagName("title")[0],(!y||y[Qi]||y[on]||y.namespaceURI==="http://www.w3.org/2000/svg"||y.hasAttribute("itemprop"))&&(y=m.createElement(c),m.head.insertBefore(y,m.querySelector("head > title"))),_n(y,c,a),y[on]=e,Ke(y),c=y;break t;case"link":var N=ay("link","href",m).get(c+(a.href||""));if(N){for(var O=0;O<N.length;O++)if(y=N[O],y.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&y.getAttribute("rel")===(a.rel==null?null:a.rel)&&y.getAttribute("title")===(a.title==null?null:a.title)&&y.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){N.splice(O,1);break e}}y=m.createElement(c),_n(y,c,a),m.head.appendChild(y);break;case"meta":if(N=ay("meta","content",m).get(c+(a.content||""))){for(O=0;O<N.length;O++)if(y=N[O],y.getAttribute("content")===(a.content==null?null:""+a.content)&&y.getAttribute("name")===(a.name==null?null:a.name)&&y.getAttribute("property")===(a.property==null?null:a.property)&&y.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&y.getAttribute("charset")===(a.charSet==null?null:a.charSet)){N.splice(O,1);break e}}y=m.createElement(c),_n(y,c,a),m.head.appendChild(y);break;default:throw Error(s(468,c))}y[on]=e,Ke(y),c=y}e.stateNode=c}else oy(m,e.type,e.stateNode);else e.stateNode=iy(m,c,e.memoizedProps);else y!==c?(y===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):y.count--,c===null?oy(m,e.type,e.stateNode):iy(m,c,e.memoizedProps)):c===null&&e.stateNode!==null&&Rh(e,e.memoizedProps,a.memoizedProps)}break;case 27:rr(n,e),ir(e),c&512&&(qe||a===null||ai(a,a.return)),a!==null&&c&4&&Rh(e,e.memoizedProps,a.memoizedProps);break;case 5:if(rr(n,e),ir(e),c&512&&(qe||a===null||ai(a,a.return)),e.flags&32){m=e.stateNode;try{pr(m,"")}catch(mt){ye(e,e.return,mt)}}c&4&&e.stateNode!=null&&(m=e.memoizedProps,Rh(e,m,a!==null?a.memoizedProps:m)),c&1024&&(Hh=!0);break;case 6:if(rr(n,e),ir(e),c&4){if(e.stateNode===null)throw Error(s(162));c=e.memoizedProps,a=e.stateNode;try{a.nodeValue=c}catch(mt){ye(e,e.return,mt)}}break;case 3:if(Qu=null,m=Gr,Gr=Xu(n.containerInfo),rr(n,e),Gr=m,ir(e),c&4&&a!==null&&a.memoizedState.isDehydrated)try{tc(n.containerInfo)}catch(mt){ye(e,e.return,mt)}Hh&&(Hh=!1,fb(e));break;case 4:c=Gr,Gr=Xu(e.stateNode.containerInfo),rr(n,e),ir(e),Gr=c;break;case 12:rr(n,e),ir(e);break;case 13:rr(n,e),ir(e),e.child.flags&8192&&e.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(qh=ve()),c&4&&(c=e.updateQueue,c!==null&&(e.updateQueue=null,$h(e,c)));break;case 22:m=e.memoizedState!==null;var q=a!==null&&a.memoizedState!==null,ct=zi,yt=qe;if(zi=ct||m,qe=yt||q,rr(n,e),qe=yt,zi=ct,ir(e),c&8192)t:for(n=e.stateNode,n._visibility=m?n._visibility&-2:n._visibility|1,m&&(a===null||q||zi||qe||Eo(e)),a=null,n=e;;){if(n.tag===5||n.tag===26){if(a===null){q=a=n;try{if(y=q.stateNode,m)N=y.style,typeof N.setProperty=="function"?N.setProperty("display","none","important"):N.display="none";else{O=q.stateNode;var xt=q.memoizedProps.style,ht=xt!=null&&xt.hasOwnProperty("display")?xt.display:null;O.style.display=ht==null||typeof ht=="boolean"?"":(""+ht).trim()}}catch(mt){ye(q,q.return,mt)}}}else if(n.tag===6){if(a===null){q=n;try{q.stateNode.nodeValue=m?"":q.memoizedProps}catch(mt){ye(q,q.return,mt)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===e)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break t;for(;n.sibling===null;){if(n.return===null||n.return===e)break t;a===n&&(a=null),n=n.return}a===n&&(a=null),n.sibling.return=n.return,n=n.sibling}c&4&&(c=e.updateQueue,c!==null&&(a=c.retryQueue,a!==null&&(c.retryQueue=null,$h(e,a))));break;case 19:rr(n,e),ir(e),c&4&&(c=e.updateQueue,c!==null&&(e.updateQueue=null,$h(e,c)));break;case 30:break;case 21:break;default:rr(n,e),ir(e)}}function ir(e){var n=e.flags;if(n&2){try{for(var a,c=e.return;c!==null;){if(ib(c)){a=c;break}c=c.return}if(a==null)throw Error(s(160));switch(a.tag){case 27:var m=a.stateNode,y=Ph(e);Pu(e,y,m);break;case 5:var N=a.stateNode;a.flags&32&&(pr(N,""),a.flags&=-33);var O=Ph(e);Pu(e,O,N);break;case 3:case 4:var q=a.stateNode.containerInfo,ct=Ph(e);zh(e,ct,q);break;default:throw Error(s(161))}}catch(yt){ye(e,e.return,yt)}e.flags&=-3}n&4096&&(e.flags&=-4097)}function fb(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var n=e;fb(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),e=e.sibling}}function Da(e,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)sb(e,n.alternate,n),n=n.sibling}function Eo(e){for(e=e.child;e!==null;){var n=e;switch(n.tag){case 0:case 11:case 14:case 15:Na(4,n,n.return),Eo(n);break;case 1:ai(n,n.return);var a=n.stateNode;typeof a.componentWillUnmount=="function"&&nb(n,n.return,a),Eo(n);break;case 27:ql(n.stateNode);case 26:case 5:ai(n,n.return),Eo(n);break;case 22:n.memoizedState===null&&Eo(n);break;case 30:Eo(n);break;default:Eo(n)}e=e.sibling}}function Aa(e,n,a){for(a=a&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var c=n.alternate,m=e,y=n,N=y.flags;switch(y.tag){case 0:case 11:case 15:Aa(m,y,a),Rl(4,y);break;case 1:if(Aa(m,y,a),c=y,m=c.stateNode,typeof m.componentDidMount=="function")try{m.componentDidMount()}catch(ct){ye(c,c.return,ct)}if(c=y,m=c.updateQueue,m!==null){var O=c.stateNode;try{var q=m.shared.hiddenCallbacks;if(q!==null)for(m.shared.hiddenCallbacks=null,m=0;m<q.length;m++)I0(q[m],O)}catch(ct){ye(c,c.return,ct)}}a&&N&64&&eb(y),Pl(y,y.return);break;case 27:ab(y);case 26:case 5:Aa(m,y,a),a&&c===null&&N&4&&rb(y),Pl(y,y.return);break;case 12:Aa(m,y,a);break;case 13:Aa(m,y,a),a&&N&4&&ub(m,y);break;case 22:y.memoizedState===null&&Aa(m,y,a),Pl(y,y.return);break;case 30:break;default:Aa(m,y,a)}n=n.sibling}}function Ih(e,n){var a=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),e=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(e=n.memoizedState.cachePool.pool),e!==a&&(e!=null&&e.refCount++,a!=null&&Sl(a))}function Uh(e,n){e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&Sl(e))}function oi(e,n,a,c){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)hb(e,n,a,c),n=n.sibling}function hb(e,n,a,c){var m=n.flags;switch(n.tag){case 0:case 11:case 15:oi(e,n,a,c),m&2048&&Rl(9,n);break;case 1:oi(e,n,a,c);break;case 3:oi(e,n,a,c),m&2048&&(e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&Sl(e)));break;case 12:if(m&2048){oi(e,n,a,c),e=n.stateNode;try{var y=n.memoizedProps,N=y.id,O=y.onPostCommit;typeof O=="function"&&O(N,n.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(q){ye(n,n.return,q)}}else oi(e,n,a,c);break;case 13:oi(e,n,a,c);break;case 23:break;case 22:y=n.stateNode,N=n.alternate,n.memoizedState!==null?y._visibility&2?oi(e,n,a,c):zl(e,n):y._visibility&2?oi(e,n,a,c):(y._visibility|=2,ms(e,n,a,c,(n.subtreeFlags&10256)!==0)),m&2048&&Ih(N,n);break;case 24:oi(e,n,a,c),m&2048&&Uh(n.alternate,n);break;default:oi(e,n,a,c)}}function ms(e,n,a,c,m){for(m=m&&(n.subtreeFlags&10256)!==0,n=n.child;n!==null;){var y=e,N=n,O=a,q=c,ct=N.flags;switch(N.tag){case 0:case 11:case 15:ms(y,N,O,q,m),Rl(8,N);break;case 23:break;case 22:var yt=N.stateNode;N.memoizedState!==null?yt._visibility&2?ms(y,N,O,q,m):zl(y,N):(yt._visibility|=2,ms(y,N,O,q,m)),m&&ct&2048&&Ih(N.alternate,N);break;case 24:ms(y,N,O,q,m),m&&ct&2048&&Uh(N.alternate,N);break;default:ms(y,N,O,q,m)}n=n.sibling}}function zl(e,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var a=e,c=n,m=c.flags;switch(c.tag){case 22:zl(a,c),m&2048&&Ih(c.alternate,c);break;case 24:zl(a,c),m&2048&&Uh(c.alternate,c);break;default:zl(a,c)}n=n.sibling}}var Hl=8192;function ps(e){if(e.subtreeFlags&Hl)for(e=e.child;e!==null;)mb(e),e=e.sibling}function mb(e){switch(e.tag){case 26:ps(e),e.flags&Hl&&e.memoizedState!==null&&VS(Gr,e.memoizedState,e.memoizedProps);break;case 5:ps(e);break;case 3:case 4:var n=Gr;Gr=Xu(e.stateNode.containerInfo),ps(e),Gr=n;break;case 22:e.memoizedState===null&&(n=e.alternate,n!==null&&n.memoizedState!==null?(n=Hl,Hl=16777216,ps(e),Hl=n):ps(e));break;default:ps(e)}}function pb(e){var n=e.alternate;if(n!==null&&(e=n.child,e!==null)){n.child=null;do n=e.sibling,e.sibling=null,e=n;while(e!==null)}}function $l(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var a=0;a<n.length;a++){var c=n[a];un=c,bb(c,e)}pb(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)gb(e),e=e.sibling}function gb(e){switch(e.tag){case 0:case 11:case 15:$l(e),e.flags&2048&&Na(9,e,e.return);break;case 3:$l(e);break;case 12:$l(e);break;case 22:var n=e.stateNode;e.memoizedState!==null&&n._visibility&2&&(e.return===null||e.return.tag!==13)?(n._visibility&=-3,zu(e)):$l(e);break;default:$l(e)}}function zu(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var a=0;a<n.length;a++){var c=n[a];un=c,bb(c,e)}pb(e)}for(e=e.child;e!==null;){switch(n=e,n.tag){case 0:case 11:case 15:Na(8,n,n.return),zu(n);break;case 22:a=n.stateNode,a._visibility&2&&(a._visibility&=-3,zu(n));break;default:zu(n)}e=e.sibling}}function bb(e,n){for(;un!==null;){var a=un;switch(a.tag){case 0:case 11:case 15:Na(8,a,n);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var c=a.memoizedState.cachePool.pool;c!=null&&c.refCount++}break;case 24:Sl(a.memoizedState.cache)}if(c=a.child,c!==null)c.return=a,un=c;else t:for(a=e;un!==null;){c=un;var m=c.sibling,y=c.return;if(lb(c),c===a){un=null;break t}if(m!==null){m.return=y,un=m;break t}un=y}}}var cS={getCacheForType:function(e){var n=Nn(We),a=n.data.get(e);return a===void 0&&(a=e(),n.data.set(e,a)),a}},uS=typeof WeakMap=="function"?WeakMap:Map,fe=0,Te=null,Jt=null,ie=0,he=0,ar=null,ja=!1,gs=!1,Gh=!1,$i=0,Ue=0,ka=0,Mo=0,Zh=0,wr=0,bs=0,Il=null,Kn=null,Yh=!1,qh=0,Hu=1/0,$u=null,Ca=null,vn=0,Oa=null,ys=null,vs=0,Vh=0,Kh=null,yb=null,Ul=0,Fh=null;function or(){if((fe&2)!==0&&ie!==0)return ie&-ie;if(Z.T!==null){var e=os;return e!==0?e:nm()}return Ic()}function vb(){wr===0&&(wr=(ie&536870912)===0||Ut?Wa():536870912);var e=Sr.current;return e!==null&&(e.flags|=32),wr}function sr(e,n,a){(e===Te&&(he===2||he===9)||e.cancelPendingCommit!==null)&&(_s(e,0),La(e,ie,wr,!1)),hi(e,a),((fe&2)===0||e!==Te)&&(e===Te&&((fe&2)===0&&(Mo|=a),Ue===4&&La(e,ie,wr,!1)),si(e))}function _b(e,n,a){if((fe&6)!==0)throw Error(s(327));var c=!a&&(n&124)===0&&(n&e.expiredLanes)===0||In(e,n),m=c?hS(e,n):Qh(e,n,!0),y=c;do{if(m===0){gs&&!c&&La(e,n,0,!1);break}else{if(a=e.current.alternate,y&&!dS(a)){m=Qh(e,n,!1),y=!1;continue}if(m===2){if(y=n,e.errorRecoveryDisabledLanes&y)var N=0;else N=e.pendingLanes&-536870913,N=N!==0?N:N&536870912?536870912:0;if(N!==0){n=N;t:{var O=e;m=Il;var q=O.current.memoizedState.isDehydrated;if(q&&(_s(O,N).flags|=256),N=Qh(O,N,!1),N!==2){if(Gh&&!q){O.errorRecoveryDisabledLanes|=y,Mo|=y,m=4;break t}y=Kn,Kn=m,y!==null&&(Kn===null?Kn=y:Kn.push.apply(Kn,y))}m=N}if(y=!1,m!==2)continue}}if(m===1){_s(e,0),La(e,n,0,!0);break}t:{switch(c=e,y=m,y){case 0:case 1:throw Error(s(345));case 4:if((n&4194048)!==n)break;case 6:La(c,n,wr,!ja);break t;case 2:Kn=null;break;case 3:case 5:break;default:throw Error(s(329))}if((n&62914560)===n&&(m=qh+300-ve(),10<m)){if(La(c,n,wr,!ja),Br(c,0,!0)!==0)break t;c.timeoutHandle=Fb(xb.bind(null,c,a,Kn,$u,Yh,n,wr,Mo,bs,ja,y,2,-0,0),m);break t}xb(c,a,Kn,$u,Yh,n,wr,Mo,bs,ja,y,0,-0,0)}}break}while(!0);si(e)}function xb(e,n,a,c,m,y,N,O,q,ct,yt,xt,ht,mt){if(e.timeoutHandle=-1,xt=n.subtreeFlags,(xt&8192||(xt&16785408)===16785408)&&(Fl={stylesheets:null,count:0,unsuspend:qS},mb(n),xt=KS(),xt!==null)){e.cancelPendingCommit=xt(Db.bind(null,e,n,y,a,c,m,N,O,q,yt,1,ht,mt)),La(e,y,N,!ct);return}Db(e,n,y,a,c,m,N,O,q)}function dS(e){for(var n=e;;){var a=n.tag;if((a===0||a===11||a===15)&&n.flags&16384&&(a=n.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var c=0;c<a.length;c++){var m=a[c],y=m.getSnapshot;m=m.value;try{if(!kn(y(),m))return!1}catch{return!1}}if(a=n.child,n.subtreeFlags&16384&&a!==null)a.return=n,n=a;else{if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function La(e,n,a,c){n&=~Zh,n&=~Mo,e.suspendedLanes|=n,e.pingedLanes&=~n,c&&(e.warmLanes|=n),c=e.expirationTimes;for(var m=n;0<m;){var y=31-je(m),N=1<<y;c[y]=-1,m&=~N}a!==0&&Qa(e,a,n)}function Iu(){return(fe&6)===0?(Gl(0),!1):!0}function Xh(){if(Jt!==null){if(he===0)var e=Jt.return;else e=Jt,Ir=xr=null,hh(e),fs=null,Ol=0,e=Jt;for(;e!==null;)tb(e.alternate,e),e=e.return;Jt=null}}function _s(e,n){var a=e.timeoutHandle;a!==-1&&(e.timeoutHandle=-1,AS(a)),a=e.cancelPendingCommit,a!==null&&(e.cancelPendingCommit=null,a()),Xh(),Te=e,Jt=a=_r(e.current,null),ie=n,he=0,ar=null,ja=!1,gs=In(e,n),Gh=!1,bs=wr=Zh=Mo=ka=Ue=0,Kn=Il=null,Yh=!1,(n&8)!==0&&(n|=n&32);var c=e.entangledLanes;if(c!==0)for(e=e.entanglements,c&=n;0<c;){var m=31-je(c),y=1<<m;n|=e[m],c&=~y}return $i=n,mo(),a}function Sb(e,n){Ft=null,Z.H=Du,n===Tl||n===yu?(n=H0(),he=3):n===R0?(n=H0(),he=4):he=n===$g?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,ar=n,Jt===null&&(Ue=1,Ou(e,On(n,e.current)))}function wb(){var e=Z.H;return Z.H=Du,e===null?Du:e}function Tb(){var e=Z.A;return Z.A=cS,e}function Wh(){Ue=4,ja||(ie&4194048)!==ie&&Sr.current!==null||(gs=!0),(ka&134217727)===0&&(Mo&134217727)===0||Te===null||La(Te,ie,wr,!1)}function Qh(e,n,a){var c=fe;fe|=2;var m=wb(),y=Tb();(Te!==e||ie!==n)&&($u=null,_s(e,n)),n=!1;var N=Ue;t:do try{if(he!==0&&Jt!==null){var O=Jt,q=ar;switch(he){case 8:Xh(),N=6;break t;case 3:case 2:case 9:case 6:Sr.current===null&&(n=!0);var ct=he;if(he=0,ar=null,xs(e,O,q,ct),a&&gs){N=0;break t}break;default:ct=he,he=0,ar=null,xs(e,O,q,ct)}}fS(),N=Ue;break}catch(yt){Sb(e,yt)}while(!0);return n&&e.shellSuspendCounter++,Ir=xr=null,fe=c,Z.H=m,Z.A=y,Jt===null&&(Te=null,ie=0,mo()),N}function fS(){for(;Jt!==null;)Eb(Jt)}function hS(e,n){var a=fe;fe|=2;var c=wb(),m=Tb();Te!==e||ie!==n?($u=null,Hu=ve()+500,_s(e,n)):gs=In(e,n);t:do try{if(he!==0&&Jt!==null){n=Jt;var y=ar;e:switch(he){case 1:he=0,ar=null,xs(e,n,y,1);break;case 2:case 9:if(P0(y)){he=0,ar=null,Mb(n);break}n=function(){he!==2&&he!==9||Te!==e||(he=7),si(e)},y.then(n,n);break t;case 3:he=7;break t;case 4:he=5;break t;case 7:P0(y)?(he=0,ar=null,Mb(n)):(he=0,ar=null,xs(e,n,y,7));break;case 5:var N=null;switch(Jt.tag){case 26:N=Jt.memoizedState;case 5:case 27:var O=Jt;if(!N||sy(N)){he=0,ar=null;var q=O.sibling;if(q!==null)Jt=q;else{var ct=O.return;ct!==null?(Jt=ct,Uu(ct)):Jt=null}break e}}he=0,ar=null,xs(e,n,y,5);break;case 6:he=0,ar=null,xs(e,n,y,6);break;case 8:Xh(),Ue=6;break t;default:throw Error(s(462))}}mS();break}catch(yt){Sb(e,yt)}while(!0);return Ir=xr=null,Z.H=c,Z.A=m,fe=a,Jt!==null?0:(Te=null,ie=0,mo(),Ue)}function mS(){for(;Jt!==null&&!Ae();)Eb(Jt)}function Eb(e){var n=Qg(e.alternate,e,$i);e.memoizedProps=e.pendingProps,n===null?Uu(e):Jt=n}function Mb(e){var n=e,a=n.alternate;switch(n.tag){case 15:case 0:n=qg(a,n,n.pendingProps,n.type,void 0,ie);break;case 11:n=qg(a,n,n.pendingProps,n.type.render,n.ref,ie);break;case 5:hh(n);default:tb(a,n),n=Jt=_l(n,$i),n=Qg(a,n,$i)}e.memoizedProps=e.pendingProps,n===null?Uu(e):Jt=n}function xs(e,n,a,c){Ir=xr=null,hh(n),fs=null,Ol=0;var m=n.return;try{if(rS(e,m,n,a,ie)){Ue=1,Ou(e,On(a,e.current)),Jt=null;return}}catch(y){if(m!==null)throw Jt=m,y;Ue=1,Ou(e,On(a,e.current)),Jt=null;return}n.flags&32768?(Ut||c===1?e=!0:gs||(ie&536870912)!==0?e=!1:(ja=e=!0,(c===2||c===9||c===3||c===6)&&(c=Sr.current,c!==null&&c.tag===13&&(c.flags|=16384))),Nb(n,e)):Uu(n)}function Uu(e){var n=e;do{if((n.flags&32768)!==0){Nb(n,ja);return}e=n.return;var a=aS(n.alternate,n,$i);if(a!==null){Jt=a;return}if(n=n.sibling,n!==null){Jt=n;return}Jt=n=e}while(n!==null);Ue===0&&(Ue=5)}function Nb(e,n){do{var a=oS(e.alternate,e);if(a!==null){a.flags&=32767,Jt=a;return}if(a=e.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!n&&(e=e.sibling,e!==null)){Jt=e;return}Jt=e=a}while(e!==null);Ue=6,Jt=null}function Db(e,n,a,c,m,y,N,O,q){e.cancelPendingCommit=null;do Gu();while(vn!==0);if((fe&6)!==0)throw Error(s(327));if(n!==null){if(n===e.current)throw Error(s(177));if(y=n.lanes|n.childLanes,y|=nr,tl(e,a,y,N,O,q),e===Te&&(Jt=Te=null,ie=0),ys=n,Oa=e,vs=a,Vh=y,Kh=m,yb=c,(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,yS(dt,function(){return Ob(),null})):(e.callbackNode=null,e.callbackPriority=0),c=(n.flags&13878)!==0,(n.subtreeFlags&13878)!==0||c){c=Z.T,Z.T=null,m=lt.p,lt.p=2,N=fe,fe|=4;try{sS(e,n,a)}finally{fe=N,lt.p=m,Z.T=c}}vn=1,Ab(),jb(),kb()}}function Ab(){if(vn===1){vn=0;var e=Oa,n=ys,a=(n.flags&13878)!==0;if((n.subtreeFlags&13878)!==0||a){a=Z.T,Z.T=null;var c=lt.p;lt.p=2;var m=fe;fe|=4;try{db(n,e);var y=um,N=uo(e.containerInfo),O=y.focusedElem,q=y.selectionRange;if(N!==O&&O&&O.ownerDocument&&Qo(O.ownerDocument.documentElement,O)){if(q!==null&&fo(O)){var ct=q.start,yt=q.end;if(yt===void 0&&(yt=ct),"selectionStart"in O)O.selectionStart=ct,O.selectionEnd=Math.min(yt,O.value.length);else{var xt=O.ownerDocument||document,ht=xt&&xt.defaultView||window;if(ht.getSelection){var mt=ht.getSelection(),It=O.textContent.length,Pt=Math.min(q.start,It),ge=q.end===void 0?Pt:Math.min(q.end,It);!mt.extend&&Pt>ge&&(N=ge,ge=Pt,Pt=N);var it=yl(O,Pt),tt=yl(O,ge);if(it&&tt&&(mt.rangeCount!==1||mt.anchorNode!==it.node||mt.anchorOffset!==it.offset||mt.focusNode!==tt.node||mt.focusOffset!==tt.offset)){var st=xt.createRange();st.setStart(it.node,it.offset),mt.removeAllRanges(),Pt>ge?(mt.addRange(st),mt.extend(tt.node,tt.offset)):(st.setEnd(tt.node,tt.offset),mt.addRange(st))}}}}for(xt=[],mt=O;mt=mt.parentNode;)mt.nodeType===1&&xt.push({element:mt,left:mt.scrollLeft,top:mt.scrollTop});for(typeof O.focus=="function"&&O.focus(),O=0;O<xt.length;O++){var _t=xt[O];_t.element.scrollLeft=_t.left,_t.element.scrollTop=_t.top}}ed=!!cm,um=cm=null}finally{fe=m,lt.p=c,Z.T=a}}e.current=n,vn=2}}function jb(){if(vn===2){vn=0;var e=Oa,n=ys,a=(n.flags&8772)!==0;if((n.subtreeFlags&8772)!==0||a){a=Z.T,Z.T=null;var c=lt.p;lt.p=2;var m=fe;fe|=4;try{sb(e,n.alternate,n)}finally{fe=m,lt.p=c,Z.T=a}}vn=3}}function kb(){if(vn===4||vn===3){vn=0,Ve();var e=Oa,n=ys,a=vs,c=yb;(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?vn=5:(vn=0,ys=Oa=null,Cb(e,e.pendingLanes));var m=e.pendingLanes;if(m===0&&(Ca=null),nl(a),n=n.stateNode,_e&&typeof _e.onCommitFiberRoot=="function")try{_e.onCommitFiberRoot(ce,n,void 0,(n.current.flags&128)===128)}catch{}if(c!==null){n=Z.T,m=lt.p,lt.p=2,Z.T=null;try{for(var y=e.onRecoverableError,N=0;N<c.length;N++){var O=c[N];y(O.value,{componentStack:O.stack})}}finally{Z.T=n,lt.p=m}}(vs&3)!==0&&Gu(),si(e),m=e.pendingLanes,(a&4194090)!==0&&(m&42)!==0?e===Fh?Ul++:(Ul=0,Fh=e):Ul=0,Gl(0)}}function Cb(e,n){(e.pooledCacheLanes&=n)===0&&(n=e.pooledCache,n!=null&&(e.pooledCache=null,Sl(n)))}function Gu(e){return Ab(),jb(),kb(),Ob()}function Ob(){if(vn!==5)return!1;var e=Oa,n=Vh;Vh=0;var a=nl(vs),c=Z.T,m=lt.p;try{lt.p=32>a?32:a,Z.T=null,a=Kh,Kh=null;var y=Oa,N=vs;if(vn=0,ys=Oa=null,vs=0,(fe&6)!==0)throw Error(s(331));var O=fe;if(fe|=4,gb(y.current),hb(y,y.current,N,a),fe=O,Gl(0,!1),_e&&typeof _e.onPostCommitFiberRoot=="function")try{_e.onPostCommitFiberRoot(ce,y)}catch{}return!0}finally{lt.p=m,Z.T=c,Cb(e,n)}}function Lb(e,n,a){n=On(a,n),n=Nh(e.stateNode,n,2),e=wa(e,n,2),e!==null&&(hi(e,2),si(e))}function ye(e,n,a){if(e.tag===3)Lb(e,e,a);else for(;n!==null;){if(n.tag===3){Lb(n,e,a);break}else if(n.tag===1){var c=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof c.componentDidCatch=="function"&&(Ca===null||!Ca.has(c))){e=On(a,e),a=zg(2),c=wa(n,a,2),c!==null&&(Hg(a,c,n,e),hi(c,2),si(c));break}}n=n.return}}function Jh(e,n,a){var c=e.pingCache;if(c===null){c=e.pingCache=new uS;var m=new Set;c.set(n,m)}else m=c.get(n),m===void 0&&(m=new Set,c.set(n,m));m.has(a)||(Gh=!0,m.add(a),e=pS.bind(null,e,n,a),n.then(e,e))}function pS(e,n,a){var c=e.pingCache;c!==null&&c.delete(n),e.pingedLanes|=e.suspendedLanes&a,e.warmLanes&=~a,Te===e&&(ie&a)===a&&(Ue===4||Ue===3&&(ie&62914560)===ie&&300>ve()-qh?(fe&2)===0&&_s(e,0):Zh|=a,bs===ie&&(bs=0)),si(e)}function Bb(e,n){n===0&&(n=Rr()),e=ba(e,n),e!==null&&(hi(e,n),si(e))}function gS(e){var n=e.memoizedState,a=0;n!==null&&(a=n.retryLane),Bb(e,a)}function bS(e,n){var a=0;switch(e.tag){case 13:var c=e.stateNode,m=e.memoizedState;m!==null&&(a=m.retryLane);break;case 19:c=e.stateNode;break;case 22:c=e.stateNode._retryCache;break;default:throw Error(s(314))}c!==null&&c.delete(n),Bb(e,a)}function yS(e,n){return ne(e,n)}var Zu=null,Ss=null,tm=!1,Yu=!1,em=!1,No=0;function si(e){e!==Ss&&e.next===null&&(Ss===null?Zu=Ss=e:Ss=Ss.next=e),Yu=!0,tm||(tm=!0,_S())}function Gl(e,n){if(!em&&Yu){em=!0;do for(var a=!1,c=Zu;c!==null;){if(e!==0){var m=c.pendingLanes;if(m===0)var y=0;else{var N=c.suspendedLanes,O=c.pingedLanes;y=(1<<31-je(42|e)+1)-1,y&=m&~(N&~O),y=y&201326741?y&201326741|1:y?y|2:0}y!==0&&(a=!0,Hb(c,y))}else y=ie,y=Br(c,c===Te?y:0,c.cancelPendingCommit!==null||c.timeoutHandle!==-1),(y&3)===0||In(c,y)||(a=!0,Hb(c,y));c=c.next}while(a);em=!1}}function vS(){Rb()}function Rb(){Yu=tm=!1;var e=0;No!==0&&(DS()&&(e=No),No=0);for(var n=ve(),a=null,c=Zu;c!==null;){var m=c.next,y=Pb(c,n);y===0?(c.next=null,a===null?Zu=m:a.next=m,m===null&&(Ss=a)):(a=c,(e!==0||(y&3)!==0)&&(Yu=!0)),c=m}Gl(e)}function Pb(e,n){for(var a=e.suspendedLanes,c=e.pingedLanes,m=e.expirationTimes,y=e.pendingLanes&-62914561;0<y;){var N=31-je(y),O=1<<N,q=m[N];q===-1?((O&a)===0||(O&c)!==0)&&(m[N]=Js(O,n)):q<=n&&(e.expiredLanes|=O),y&=~O}if(n=Te,a=ie,a=Br(e,e===n?a:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),c=e.callbackNode,a===0||e===n&&(he===2||he===9)||e.cancelPendingCommit!==null)return c!==null&&c!==null&&$e(c),e.callbackNode=null,e.callbackPriority=0;if((a&3)===0||In(e,a)){if(n=a&-a,n===e.callbackPriority)return n;switch(c!==null&&$e(c),nl(a)){case 2:case 8:a=Nt;break;case 32:a=dt;break;case 268435456:a=Qt;break;default:a=dt}return c=zb.bind(null,e),a=ne(a,c),e.callbackPriority=n,e.callbackNode=a,n}return c!==null&&c!==null&&$e(c),e.callbackPriority=2,e.callbackNode=null,2}function zb(e,n){if(vn!==0&&vn!==5)return e.callbackNode=null,e.callbackPriority=0,null;var a=e.callbackNode;if(Gu()&&e.callbackNode!==a)return null;var c=ie;return c=Br(e,e===Te?c:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),c===0?null:(_b(e,c,n),Pb(e,ve()),e.callbackNode!=null&&e.callbackNode===a?zb.bind(null,e):null)}function Hb(e,n){if(Gu())return null;_b(e,n,!0)}function _S(){jS(function(){(fe&6)!==0?ne(bt,vS):Rb()})}function nm(){return No===0&&(No=Wa()),No}function $b(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:ia(""+e)}function Ib(e,n){var a=n.ownerDocument.createElement("input");return a.name=n.name,a.value=n.value,e.id&&a.setAttribute("form",e.id),n.parentNode.insertBefore(a,n),e=new FormData(e),a.parentNode.removeChild(a),e}function xS(e,n,a,c,m){if(n==="submit"&&a&&a.stateNode===m){var y=$b((m[Tn]||null).action),N=c.submitter;N&&(n=(n=N[Tn]||null)?$b(n.formAction):N.getAttribute("formAction"),n!==null&&(y=n,N=null));var O=new ao("action","action",null,c,m);e.push({event:O,listeners:[{instance:null,listener:function(){if(c.defaultPrevented){if(No!==0){var q=N?Ib(m,N):new FormData(m);Sh(a,{pending:!0,data:q,method:m.method,action:y},null,q)}}else typeof y=="function"&&(O.preventDefault(),q=N?Ib(m,N):new FormData(m),Sh(a,{pending:!0,data:q,method:m.method,action:y},y,q))},currentTarget:m}]})}}for(var rm=0;rm<Ai.length;rm++){var im=Ai[rm],SS=im.toLowerCase(),wS=im[0].toUpperCase()+im.slice(1);er(SS,"on"+wS)}er(cu,"onAnimationEnd"),er(tr,"onAnimationIteration"),er(ho,"onAnimationStart"),er("dblclick","onDoubleClick"),er("focusin","onFocus"),er("focusout","onBlur"),er(Wf,"onTransitionRun"),er(ns,"onTransitionStart"),er(Qf,"onTransitionCancel"),er(vl,"onTransitionEnd"),bi("onMouseEnter",["mouseout","mouseover"]),bi("onMouseLeave",["mouseout","mouseover"]),bi("onPointerEnter",["pointerout","pointerover"]),bi("onPointerLeave",["pointerout","pointerover"]),gi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),gi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),gi("onBeforeInput",["compositionend","keypress","textInput","paste"]),gi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),gi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),gi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Zl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),TS=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Zl));function Ub(e,n){n=(n&4)!==0;for(var a=0;a<e.length;a++){var c=e[a],m=c.event;c=c.listeners;t:{var y=void 0;if(n)for(var N=c.length-1;0<=N;N--){var O=c[N],q=O.instance,ct=O.currentTarget;if(O=O.listener,q!==y&&m.isPropagationStopped())break t;y=O,m.currentTarget=ct;try{y(m)}catch(yt){Cu(yt)}m.currentTarget=null,y=q}else for(N=0;N<c.length;N++){if(O=c[N],q=O.instance,ct=O.currentTarget,O=O.listener,q!==y&&m.isPropagationStopped())break t;y=O,m.currentTarget=ct;try{y(m)}catch(yt){Cu(yt)}m.currentTarget=null,y=q}}}}function te(e,n){var a=n[Gn];a===void 0&&(a=n[Gn]=new Set);var c=e+"__bubble";a.has(c)||(Gb(n,e,2,!1),a.add(c))}function am(e,n,a){var c=0;n&&(c|=4),Gb(a,e,c,n)}var qu="_reactListening"+Math.random().toString(36).slice(2);function om(e){if(!e[qu]){e[qu]=!0,Gc.forEach(function(a){a!=="selectionchange"&&(TS.has(a)||am(a,!1,e),am(a,!0,e))});var n=e.nodeType===9?e:e.ownerDocument;n===null||n[qu]||(n[qu]=!0,am("selectionchange",!1,n))}}function Gb(e,n,a,c){switch(hy(n)){case 2:var m=WS;break;case 8:m=QS;break;default:m=_m}a=m.bind(null,n,a,e),m=void 0,!io||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(m=!0),c?m!==void 0?e.addEventListener(n,a,{capture:!0,passive:m}):e.addEventListener(n,a,!0):m!==void 0?e.addEventListener(n,a,{passive:m}):e.addEventListener(n,a,!1)}function sm(e,n,a,c,m){var y=c;if((n&1)===0&&(n&2)===0&&c!==null)t:for(;;){if(c===null)return;var N=c.tag;if(N===3||N===4){var O=c.stateNode.containerInfo;if(O===m)break;if(N===4)for(N=c.return;N!==null;){var q=N.tag;if((q===3||q===4)&&N.stateNode.containerInfo===m)return;N=N.return}for(;O!==null;){if(N=Xr(O),N===null)return;if(q=N.tag,q===5||q===6||q===26||q===27){c=y=N;continue t}O=O.parentNode}}c=c.return}Xn(function(){var ct=y,yt=aa(a),xt=[];t:{var ht=uu.get(e);if(ht!==void 0){var mt=ao,It=e;switch(e){case"keypress":if(Ie(a)===0)break t;case"keydown":case"keyup":mt=Gf;break;case"focusin":It="focus",mt=cl;break;case"focusout":It="blur",mt=cl;break;case"beforeblur":case"afterblur":mt=cl;break;case"click":if(a.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":mt=la;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":mt=zf;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":mt=Yf;break;case cu:case tr:case ho:mt=Hf;break;case vl:mt=qf;break;case"scroll":case"scrollend":mt=Pf;break;case"wheel":mt=tu;break;case"copy":case"cut":case"paste":mt=ul;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":mt=fl;break;case"toggle":case"beforetoggle":mt=Ei}var Pt=(n&4)!==0,ge=!Pt&&(e==="scroll"||e==="scrollend"),it=Pt?ht!==null?ht+"Capture":null:ht;Pt=[];for(var tt=ct,st;tt!==null;){var _t=tt;if(st=_t.stateNode,_t=_t.tag,_t!==5&&_t!==26&&_t!==27||st===null||it===null||(_t=se(tt,it),_t!=null&&Pt.push(Yl(tt,_t,st))),ge)break;tt=tt.return}0<Pt.length&&(ht=new mt(ht,It,null,a,yt),xt.push({event:ht,listeners:Pt}))}}if((n&7)===0){t:{if(ht=e==="mouseover"||e==="pointerover",mt=e==="mouseout"||e==="pointerout",ht&&a!==ro&&(It=a.relatedTarget||a.fromElement)&&(Xr(It)||It[Wi]))break t;if((mt||ht)&&(ht=yt.window===yt?yt:(ht=yt.ownerDocument)?ht.defaultView||ht.parentWindow:window,mt?(It=a.relatedTarget||a.toElement,mt=ct,It=It?Xr(It):null,It!==null&&(ge=d(It),Pt=It.tag,It!==ge||Pt!==5&&Pt!==27&&Pt!==6)&&(It=null)):(mt=null,It=ct),mt!==It)){if(Pt=la,_t="onMouseLeave",it="onMouseEnter",tt="mouse",(e==="pointerout"||e==="pointerover")&&(Pt=fl,_t="onPointerLeave",it="onPointerEnter",tt="pointer"),ge=mt==null?ht:mr(mt),st=It==null?ht:mr(It),ht=new Pt(_t,tt+"leave",mt,a,yt),ht.target=ge,ht.relatedTarget=st,_t=null,Xr(yt)===ct&&(Pt=new Pt(it,tt+"enter",It,a,yt),Pt.target=st,Pt.relatedTarget=ge,_t=Pt),ge=_t,mt&&It)e:{for(Pt=mt,it=It,tt=0,st=Pt;st;st=ws(st))tt++;for(st=0,_t=it;_t;_t=ws(_t))st++;for(;0<tt-st;)Pt=ws(Pt),tt--;for(;0<st-tt;)it=ws(it),st--;for(;tt--;){if(Pt===it||it!==null&&Pt===it.alternate)break e;Pt=ws(Pt),it=ws(it)}Pt=null}else Pt=null;mt!==null&&Zb(xt,ht,mt,Pt,!1),It!==null&&ge!==null&&Zb(xt,ge,It,Pt,!0)}}t:{if(ht=ct?mr(ct):window,mt=ht.nodeName&&ht.nodeName.toLowerCase(),mt==="select"||mt==="input"&&ht.type==="file")var kt=da;else if(Ni(ht))if(pl)kt=Xf;else{kt=Ff;var Wt=bl}else mt=ht.nodeName,!mt||mt.toLowerCase()!=="input"||ht.type!=="checkbox"&&ht.type!=="radio"?ct&&no(ct.elementType)&&(kt=da):kt=$r;if(kt&&(kt=kt(e,ct))){au(xt,kt,a,yt);break t}Wt&&Wt(e,ht,ct),e==="focusout"&&ct&&ht.type==="number"&&ct.memoizedProps.value!=null&&na(ht,"number",ht.value)}switch(Wt=ct?mr(ct):window,e){case"focusin":(Ni(Wt)||Wt.contentEditable==="true")&&(Jn=Wt,ma=ct,Di=null);break;case"focusout":Di=ma=Jn=null;break;case"mousedown":ts=!0;break;case"contextmenu":case"mouseup":case"dragend":ts=!1,su(xt,a,yt);break;case"selectionchange":if(Jo)break;case"keydown":case"keyup":su(xt,a,yt)}var Bt;if(Mi)t:{switch(e){case"compositionstart":var Ht="onCompositionStart";break t;case"compositionend":Ht="onCompositionEnd";break t;case"compositionupdate":Ht="onCompositionUpdate";break t}Ht=void 0}else ca?Xo(e,a)&&(Ht="onCompositionEnd"):e==="keydown"&&a.keyCode===229&&(Ht="onCompositionStart");Ht&&(ml&&a.locale!=="ko"&&(ca||Ht!=="onCompositionStart"?Ht==="onCompositionEnd"&&ca&&(Bt=sa()):(br=yt,zr="value"in br?br.value:br.textContent,ca=!0)),Wt=Vu(ct,Ht),0<Wt.length&&(Ht=new Wn(Ht,e,null,a,yt),xt.push({event:Ht,listeners:Wt}),Bt?Ht.data=Bt:(Bt=ru(a),Bt!==null&&(Ht.data=Bt)))),(Bt=eu?iu(e,a):Kf(e,a))&&(Ht=Vu(ct,"onBeforeInput"),0<Ht.length&&(Wt=new Wn("onBeforeInput","beforeinput",null,a,yt),xt.push({event:Wt,listeners:Ht}),Wt.data=Bt)),xS(xt,e,ct,a,yt)}Ub(xt,n)})}function Yl(e,n,a){return{instance:e,listener:n,currentTarget:a}}function Vu(e,n){for(var a=n+"Capture",c=[];e!==null;){var m=e,y=m.stateNode;if(m=m.tag,m!==5&&m!==26&&m!==27||y===null||(m=se(e,a),m!=null&&c.unshift(Yl(e,m,y)),m=se(e,n),m!=null&&c.push(Yl(e,m,y))),e.tag===3)return c;e=e.return}return[]}function ws(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function Zb(e,n,a,c,m){for(var y=n._reactName,N=[];a!==null&&a!==c;){var O=a,q=O.alternate,ct=O.stateNode;if(O=O.tag,q!==null&&q===c)break;O!==5&&O!==26&&O!==27||ct===null||(q=ct,m?(ct=se(a,y),ct!=null&&N.unshift(Yl(a,ct,q))):m||(ct=se(a,y),ct!=null&&N.push(Yl(a,ct,q)))),a=a.return}N.length!==0&&e.push({event:n,listeners:N})}var ES=/\r\n?/g,MS=/\u0000|\uFFFD/g;function Yb(e){return(typeof e=="string"?e:""+e).replace(ES,`
`).replace(MS,"")}function qb(e,n){return n=Yb(n),Yb(e)===n}function Ku(){}function pe(e,n,a,c,m,y){switch(a){case"children":typeof c=="string"?n==="body"||n==="textarea"&&c===""||pr(e,c):(typeof c=="number"||typeof c=="bigint")&&n!=="body"&&pr(e,""+c);break;case"className":Uo(e,"class",c);break;case"tabIndex":Uo(e,"tabindex",c);break;case"dir":case"role":case"viewBox":case"width":case"height":Uo(e,a,c);break;case"style":ra(e,c,y);break;case"data":if(n!=="object"){Uo(e,"data",c);break}case"src":case"href":if(c===""&&(n!=="a"||a!=="href")){e.removeAttribute(a);break}if(c==null||typeof c=="function"||typeof c=="symbol"||typeof c=="boolean"){e.removeAttribute(a);break}c=ia(""+c),e.setAttribute(a,c);break;case"action":case"formAction":if(typeof c=="function"){e.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof y=="function"&&(a==="formAction"?(n!=="input"&&pe(e,n,"name",m.name,m,null),pe(e,n,"formEncType",m.formEncType,m,null),pe(e,n,"formMethod",m.formMethod,m,null),pe(e,n,"formTarget",m.formTarget,m,null)):(pe(e,n,"encType",m.encType,m,null),pe(e,n,"method",m.method,m,null),pe(e,n,"target",m.target,m,null)));if(c==null||typeof c=="symbol"||typeof c=="boolean"){e.removeAttribute(a);break}c=ia(""+c),e.setAttribute(a,c);break;case"onClick":c!=null&&(e.onclick=Ku);break;case"onScroll":c!=null&&te("scroll",e);break;case"onScrollEnd":c!=null&&te("scrollend",e);break;case"dangerouslySetInnerHTML":if(c!=null){if(typeof c!="object"||!("__html"in c))throw Error(s(61));if(a=c.__html,a!=null){if(m.children!=null)throw Error(s(60));e.innerHTML=a}}break;case"multiple":e.multiple=c&&typeof c!="function"&&typeof c!="symbol";break;case"muted":e.muted=c&&typeof c!="function"&&typeof c!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(c==null||typeof c=="function"||typeof c=="boolean"||typeof c=="symbol"){e.removeAttribute("xlink:href");break}a=ia(""+c),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":c!=null&&typeof c!="function"&&typeof c!="symbol"?e.setAttribute(a,""+c):e.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":c&&typeof c!="function"&&typeof c!="symbol"?e.setAttribute(a,""):e.removeAttribute(a);break;case"capture":case"download":c===!0?e.setAttribute(a,""):c!==!1&&c!=null&&typeof c!="function"&&typeof c!="symbol"?e.setAttribute(a,c):e.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":c!=null&&typeof c!="function"&&typeof c!="symbol"&&!isNaN(c)&&1<=c?e.setAttribute(a,c):e.removeAttribute(a);break;case"rowSpan":case"start":c==null||typeof c=="function"||typeof c=="symbol"||isNaN(c)?e.removeAttribute(a):e.setAttribute(a,c);break;case"popover":te("beforetoggle",e),te("toggle",e),Io(e,"popover",c);break;case"xlinkActuate":Pr(e,"http://www.w3.org/1999/xlink","xlink:actuate",c);break;case"xlinkArcrole":Pr(e,"http://www.w3.org/1999/xlink","xlink:arcrole",c);break;case"xlinkRole":Pr(e,"http://www.w3.org/1999/xlink","xlink:role",c);break;case"xlinkShow":Pr(e,"http://www.w3.org/1999/xlink","xlink:show",c);break;case"xlinkTitle":Pr(e,"http://www.w3.org/1999/xlink","xlink:title",c);break;case"xlinkType":Pr(e,"http://www.w3.org/1999/xlink","xlink:type",c);break;case"xmlBase":Pr(e,"http://www.w3.org/XML/1998/namespace","xml:base",c);break;case"xmlLang":Pr(e,"http://www.w3.org/XML/1998/namespace","xml:lang",c);break;case"xmlSpace":Pr(e,"http://www.w3.org/XML/1998/namespace","xml:space",c);break;case"is":Io(e,"is",c);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=ol.get(a)||a,Io(e,a,c))}}function lm(e,n,a,c,m,y){switch(a){case"style":ra(e,c,y);break;case"dangerouslySetInnerHTML":if(c!=null){if(typeof c!="object"||!("__html"in c))throw Error(s(61));if(a=c.__html,a!=null){if(m.children!=null)throw Error(s(60));e.innerHTML=a}}break;case"children":typeof c=="string"?pr(e,c):(typeof c=="number"||typeof c=="bigint")&&pr(e,""+c);break;case"onScroll":c!=null&&te("scroll",e);break;case"onScrollEnd":c!=null&&te("scrollend",e);break;case"onClick":c!=null&&(e.onclick=Ku);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Zc.hasOwnProperty(a))t:{if(a[0]==="o"&&a[1]==="n"&&(m=a.endsWith("Capture"),n=a.slice(2,m?a.length-7:void 0),y=e[Tn]||null,y=y!=null?y[a]:null,typeof y=="function"&&e.removeEventListener(n,y,m),typeof c=="function")){typeof y!="function"&&y!==null&&(a in e?e[a]=null:e.hasAttribute(a)&&e.removeAttribute(a)),e.addEventListener(n,c,m);break t}a in e?e[a]=c:c===!0?e.setAttribute(a,""):Io(e,a,c)}}}function _n(e,n,a){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":te("error",e),te("load",e);var c=!1,m=!1,y;for(y in a)if(a.hasOwnProperty(y)){var N=a[y];if(N!=null)switch(y){case"src":c=!0;break;case"srcSet":m=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,n));default:pe(e,n,y,N,a,null)}}m&&pe(e,n,"srcSet",a.srcSet,a,null),c&&pe(e,n,"src",a.src,a,null);return;case"input":te("invalid",e);var O=y=N=m=null,q=null,ct=null;for(c in a)if(a.hasOwnProperty(c)){var yt=a[c];if(yt!=null)switch(c){case"name":m=yt;break;case"type":N=yt;break;case"checked":q=yt;break;case"defaultChecked":ct=yt;break;case"value":y=yt;break;case"defaultValue":O=yt;break;case"children":case"dangerouslySetInnerHTML":if(yt!=null)throw Error(s(137,n));break;default:pe(e,n,c,yt,a,null)}}qc(e,y,O,q,ct,N,m,!1),ea(e);return;case"select":te("invalid",e),c=N=y=null;for(m in a)if(a.hasOwnProperty(m)&&(O=a[m],O!=null))switch(m){case"value":y=O;break;case"defaultValue":N=O;break;case"multiple":c=O;default:pe(e,n,m,O,a,null)}n=y,a=N,e.multiple=!!c,n!=null?Zn(e,!!c,n,!1):a!=null&&Zn(e,!!c,a,!0);return;case"textarea":te("invalid",e),y=m=c=null;for(N in a)if(a.hasOwnProperty(N)&&(O=a[N],O!=null))switch(N){case"value":c=O;break;case"defaultValue":m=O;break;case"children":y=O;break;case"dangerouslySetInnerHTML":if(O!=null)throw Error(s(91));break;default:pe(e,n,N,O,a,null)}Wr(e,c,m,y),ea(e);return;case"option":for(q in a)if(a.hasOwnProperty(q)&&(c=a[q],c!=null))switch(q){case"selected":e.selected=c&&typeof c!="function"&&typeof c!="symbol";break;default:pe(e,n,q,c,a,null)}return;case"dialog":te("beforetoggle",e),te("toggle",e),te("cancel",e),te("close",e);break;case"iframe":case"object":te("load",e);break;case"video":case"audio":for(c=0;c<Zl.length;c++)te(Zl[c],e);break;case"image":te("error",e),te("load",e);break;case"details":te("toggle",e);break;case"embed":case"source":case"link":te("error",e),te("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(ct in a)if(a.hasOwnProperty(ct)&&(c=a[ct],c!=null))switch(ct){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,n));default:pe(e,n,ct,c,a,null)}return;default:if(no(n)){for(yt in a)a.hasOwnProperty(yt)&&(c=a[yt],c!==void 0&&lm(e,n,yt,c,a,void 0));return}}for(O in a)a.hasOwnProperty(O)&&(c=a[O],c!=null&&pe(e,n,O,c,a,null))}function NS(e,n,a,c){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var m=null,y=null,N=null,O=null,q=null,ct=null,yt=null;for(mt in a){var xt=a[mt];if(a.hasOwnProperty(mt)&&xt!=null)switch(mt){case"checked":break;case"value":break;case"defaultValue":q=xt;default:c.hasOwnProperty(mt)||pe(e,n,mt,null,c,xt)}}for(var ht in c){var mt=c[ht];if(xt=a[ht],c.hasOwnProperty(ht)&&(mt!=null||xt!=null))switch(ht){case"type":y=mt;break;case"name":m=mt;break;case"checked":ct=mt;break;case"defaultChecked":yt=mt;break;case"value":N=mt;break;case"defaultValue":O=mt;break;case"children":case"dangerouslySetInnerHTML":if(mt!=null)throw Error(s(137,n));break;default:mt!==xt&&pe(e,n,ht,mt,c,xt)}}En(e,N,O,q,ct,yt,y,m);return;case"select":mt=N=O=ht=null;for(y in a)if(q=a[y],a.hasOwnProperty(y)&&q!=null)switch(y){case"value":break;case"multiple":mt=q;default:c.hasOwnProperty(y)||pe(e,n,y,null,c,q)}for(m in c)if(y=c[m],q=a[m],c.hasOwnProperty(m)&&(y!=null||q!=null))switch(m){case"value":ht=y;break;case"defaultValue":O=y;break;case"multiple":N=y;default:y!==q&&pe(e,n,m,y,c,q)}n=O,a=N,c=mt,ht!=null?Zn(e,!!a,ht,!1):!!c!=!!a&&(n!=null?Zn(e,!!a,n,!0):Zn(e,!!a,a?[]:"",!1));return;case"textarea":mt=ht=null;for(O in a)if(m=a[O],a.hasOwnProperty(O)&&m!=null&&!c.hasOwnProperty(O))switch(O){case"value":break;case"children":break;default:pe(e,n,O,null,c,m)}for(N in c)if(m=c[N],y=a[N],c.hasOwnProperty(N)&&(m!=null||y!=null))switch(N){case"value":ht=m;break;case"defaultValue":mt=m;break;case"children":break;case"dangerouslySetInnerHTML":if(m!=null)throw Error(s(91));break;default:m!==y&&pe(e,n,N,m,c,y)}Le(e,ht,mt);return;case"option":for(var It in a)if(ht=a[It],a.hasOwnProperty(It)&&ht!=null&&!c.hasOwnProperty(It))switch(It){case"selected":e.selected=!1;break;default:pe(e,n,It,null,c,ht)}for(q in c)if(ht=c[q],mt=a[q],c.hasOwnProperty(q)&&ht!==mt&&(ht!=null||mt!=null))switch(q){case"selected":e.selected=ht&&typeof ht!="function"&&typeof ht!="symbol";break;default:pe(e,n,q,ht,c,mt)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Pt in a)ht=a[Pt],a.hasOwnProperty(Pt)&&ht!=null&&!c.hasOwnProperty(Pt)&&pe(e,n,Pt,null,c,ht);for(ct in c)if(ht=c[ct],mt=a[ct],c.hasOwnProperty(ct)&&ht!==mt&&(ht!=null||mt!=null))switch(ct){case"children":case"dangerouslySetInnerHTML":if(ht!=null)throw Error(s(137,n));break;default:pe(e,n,ct,ht,c,mt)}return;default:if(no(n)){for(var ge in a)ht=a[ge],a.hasOwnProperty(ge)&&ht!==void 0&&!c.hasOwnProperty(ge)&&lm(e,n,ge,void 0,c,ht);for(yt in c)ht=c[yt],mt=a[yt],!c.hasOwnProperty(yt)||ht===mt||ht===void 0&&mt===void 0||lm(e,n,yt,ht,c,mt);return}}for(var it in a)ht=a[it],a.hasOwnProperty(it)&&ht!=null&&!c.hasOwnProperty(it)&&pe(e,n,it,null,c,ht);for(xt in c)ht=c[xt],mt=a[xt],!c.hasOwnProperty(xt)||ht===mt||ht==null&&mt==null||pe(e,n,xt,ht,c,mt)}var cm=null,um=null;function Fu(e){return e.nodeType===9?e:e.ownerDocument}function Vb(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Kb(e,n){if(e===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&n==="foreignObject"?0:e}function dm(e,n){return e==="textarea"||e==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var fm=null;function DS(){var e=window.event;return e&&e.type==="popstate"?e===fm?!1:(fm=e,!0):(fm=null,!1)}var Fb=typeof setTimeout=="function"?setTimeout:void 0,AS=typeof clearTimeout=="function"?clearTimeout:void 0,Xb=typeof Promise=="function"?Promise:void 0,jS=typeof queueMicrotask=="function"?queueMicrotask:typeof Xb<"u"?function(e){return Xb.resolve(null).then(e).catch(kS)}:Fb;function kS(e){setTimeout(function(){throw e})}function Ba(e){return e==="head"}function Wb(e,n){var a=n,c=0,m=0;do{var y=a.nextSibling;if(e.removeChild(a),y&&y.nodeType===8)if(a=y.data,a==="/$"){if(0<c&&8>c){a=c;var N=e.ownerDocument;if(a&1&&ql(N.documentElement),a&2&&ql(N.body),a&4)for(a=N.head,ql(a),N=a.firstChild;N;){var O=N.nextSibling,q=N.nodeName;N[Qi]||q==="SCRIPT"||q==="STYLE"||q==="LINK"&&N.rel.toLowerCase()==="stylesheet"||a.removeChild(N),N=O}}if(m===0){e.removeChild(y),tc(n);return}m--}else a==="$"||a==="$?"||a==="$!"?m++:c=a.charCodeAt(0)-48;else c=0;a=y}while(a);tc(n)}function hm(e){var n=e.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var a=n;switch(n=n.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":hm(a),$o(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}e.removeChild(a)}}function CS(e,n,a,c){for(;e.nodeType===1;){var m=a;if(e.nodeName.toLowerCase()!==n.toLowerCase()){if(!c&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(c){if(!e[Qi])switch(n){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(y=e.getAttribute("rel"),y==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(y!==m.rel||e.getAttribute("href")!==(m.href==null||m.href===""?null:m.href)||e.getAttribute("crossorigin")!==(m.crossOrigin==null?null:m.crossOrigin)||e.getAttribute("title")!==(m.title==null?null:m.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(y=e.getAttribute("src"),(y!==(m.src==null?null:m.src)||e.getAttribute("type")!==(m.type==null?null:m.type)||e.getAttribute("crossorigin")!==(m.crossOrigin==null?null:m.crossOrigin))&&y&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(n==="input"&&e.type==="hidden"){var y=m.name==null?null:""+m.name;if(m.type==="hidden"&&e.getAttribute("name")===y)return e}else return e;if(e=Zr(e.nextSibling),e===null)break}return null}function OS(e,n,a){if(n==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!a||(e=Zr(e.nextSibling),e===null))return null;return e}function mm(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState==="complete"}function LS(e,n){var a=e.ownerDocument;if(e.data!=="$?"||a.readyState==="complete")n();else{var c=function(){n(),a.removeEventListener("DOMContentLoaded",c)};a.addEventListener("DOMContentLoaded",c),e._reactRetry=c}}function Zr(e){for(;e!=null;e=e.nextSibling){var n=e.nodeType;if(n===1||n===3)break;if(n===8){if(n=e.data,n==="$"||n==="$!"||n==="$?"||n==="F!"||n==="F")break;if(n==="/$")return null}}return e}var pm=null;function Qb(e){e=e.previousSibling;for(var n=0;e;){if(e.nodeType===8){var a=e.data;if(a==="$"||a==="$!"||a==="$?"){if(n===0)return e;n--}else a==="/$"&&n++}e=e.previousSibling}return null}function Jb(e,n,a){switch(n=Fu(a),e){case"html":if(e=n.documentElement,!e)throw Error(s(452));return e;case"head":if(e=n.head,!e)throw Error(s(453));return e;case"body":if(e=n.body,!e)throw Error(s(454));return e;default:throw Error(s(451))}}function ql(e){for(var n=e.attributes;n.length;)e.removeAttributeNode(n[0]);$o(e)}var Tr=new Map,ty=new Set;function Xu(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var Ii=lt.d;lt.d={f:BS,r:RS,D:PS,C:zS,L:HS,m:$S,X:US,S:IS,M:GS};function BS(){var e=Ii.f(),n=Iu();return e||n}function RS(e){var n=mi(e);n!==null&&n.tag===5&&n.type==="form"?_g(n):Ii.r(e)}var Ts=typeof document>"u"?null:document;function ey(e,n,a){var c=Ts;if(c&&typeof n=="string"&&n){var m=gn(n);m='link[rel="'+e+'"][href="'+m+'"]',typeof a=="string"&&(m+='[crossorigin="'+a+'"]'),ty.has(m)||(ty.add(m),e={rel:e,crossOrigin:a,href:n},c.querySelector(m)===null&&(n=c.createElement("link"),_n(n,"link",e),Ke(n),c.head.appendChild(n)))}}function PS(e){Ii.D(e),ey("dns-prefetch",e,null)}function zS(e,n){Ii.C(e,n),ey("preconnect",e,n)}function HS(e,n,a){Ii.L(e,n,a);var c=Ts;if(c&&e&&n){var m='link[rel="preload"][as="'+gn(n)+'"]';n==="image"&&a&&a.imageSrcSet?(m+='[imagesrcset="'+gn(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(m+='[imagesizes="'+gn(a.imageSizes)+'"]')):m+='[href="'+gn(e)+'"]';var y=m;switch(n){case"style":y=Es(e);break;case"script":y=Ms(e)}Tr.has(y)||(e=x({rel:"preload",href:n==="image"&&a&&a.imageSrcSet?void 0:e,as:n},a),Tr.set(y,e),c.querySelector(m)!==null||n==="style"&&c.querySelector(Vl(y))||n==="script"&&c.querySelector(Kl(y))||(n=c.createElement("link"),_n(n,"link",e),Ke(n),c.head.appendChild(n)))}}function $S(e,n){Ii.m(e,n);var a=Ts;if(a&&e){var c=n&&typeof n.as=="string"?n.as:"script",m='link[rel="modulepreload"][as="'+gn(c)+'"][href="'+gn(e)+'"]',y=m;switch(c){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":y=Ms(e)}if(!Tr.has(y)&&(e=x({rel:"modulepreload",href:e},n),Tr.set(y,e),a.querySelector(m)===null)){switch(c){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(Kl(y)))return}c=a.createElement("link"),_n(c,"link",e),Ke(c),a.head.appendChild(c)}}}function IS(e,n,a){Ii.S(e,n,a);var c=Ts;if(c&&e){var m=pi(c).hoistableStyles,y=Es(e);n=n||"default";var N=m.get(y);if(!N){var O={loading:0,preload:null};if(N=c.querySelector(Vl(y)))O.loading=5;else{e=x({rel:"stylesheet",href:e,"data-precedence":n},a),(a=Tr.get(y))&&gm(e,a);var q=N=c.createElement("link");Ke(q),_n(q,"link",e),q._p=new Promise(function(ct,yt){q.onload=ct,q.onerror=yt}),q.addEventListener("load",function(){O.loading|=1}),q.addEventListener("error",function(){O.loading|=2}),O.loading|=4,Wu(N,n,c)}N={type:"stylesheet",instance:N,count:1,state:O},m.set(y,N)}}}function US(e,n){Ii.X(e,n);var a=Ts;if(a&&e){var c=pi(a).hoistableScripts,m=Ms(e),y=c.get(m);y||(y=a.querySelector(Kl(m)),y||(e=x({src:e,async:!0},n),(n=Tr.get(m))&&bm(e,n),y=a.createElement("script"),Ke(y),_n(y,"link",e),a.head.appendChild(y)),y={type:"script",instance:y,count:1,state:null},c.set(m,y))}}function GS(e,n){Ii.M(e,n);var a=Ts;if(a&&e){var c=pi(a).hoistableScripts,m=Ms(e),y=c.get(m);y||(y=a.querySelector(Kl(m)),y||(e=x({src:e,async:!0,type:"module"},n),(n=Tr.get(m))&&bm(e,n),y=a.createElement("script"),Ke(y),_n(y,"link",e),a.head.appendChild(y)),y={type:"script",instance:y,count:1,state:null},c.set(m,y))}}function ny(e,n,a,c){var m=(m=at.current)?Xu(m):null;if(!m)throw Error(s(446));switch(e){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(n=Es(a.href),a=pi(m).hoistableStyles,c=a.get(n),c||(c={type:"style",instance:null,count:0,state:null},a.set(n,c)),c):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){e=Es(a.href);var y=pi(m).hoistableStyles,N=y.get(e);if(N||(m=m.ownerDocument||m,N={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},y.set(e,N),(y=m.querySelector(Vl(e)))&&!y._p&&(N.instance=y,N.state.loading=5),Tr.has(e)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},Tr.set(e,a),y||ZS(m,e,a,N.state))),n&&c===null)throw Error(s(528,""));return N}if(n&&c!==null)throw Error(s(529,""));return null;case"script":return n=a.async,a=a.src,typeof a=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=Ms(a),a=pi(m).hoistableScripts,c=a.get(n),c||(c={type:"script",instance:null,count:0,state:null},a.set(n,c)),c):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,e))}}function Es(e){return'href="'+gn(e)+'"'}function Vl(e){return'link[rel="stylesheet"]['+e+"]"}function ry(e){return x({},e,{"data-precedence":e.precedence,precedence:null})}function ZS(e,n,a,c){e.querySelector('link[rel="preload"][as="style"]['+n+"]")?c.loading=1:(n=e.createElement("link"),c.preload=n,n.addEventListener("load",function(){return c.loading|=1}),n.addEventListener("error",function(){return c.loading|=2}),_n(n,"link",a),Ke(n),e.head.appendChild(n))}function Ms(e){return'[src="'+gn(e)+'"]'}function Kl(e){return"script[async]"+e}function iy(e,n,a){if(n.count++,n.instance===null)switch(n.type){case"style":var c=e.querySelector('style[data-href~="'+gn(a.href)+'"]');if(c)return n.instance=c,Ke(c),c;var m=x({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return c=(e.ownerDocument||e).createElement("style"),Ke(c),_n(c,"style",m),Wu(c,a.precedence,e),n.instance=c;case"stylesheet":m=Es(a.href);var y=e.querySelector(Vl(m));if(y)return n.state.loading|=4,n.instance=y,Ke(y),y;c=ry(a),(m=Tr.get(m))&&gm(c,m),y=(e.ownerDocument||e).createElement("link"),Ke(y);var N=y;return N._p=new Promise(function(O,q){N.onload=O,N.onerror=q}),_n(y,"link",c),n.state.loading|=4,Wu(y,a.precedence,e),n.instance=y;case"script":return y=Ms(a.src),(m=e.querySelector(Kl(y)))?(n.instance=m,Ke(m),m):(c=a,(m=Tr.get(y))&&(c=x({},a),bm(c,m)),e=e.ownerDocument||e,m=e.createElement("script"),Ke(m),_n(m,"link",c),e.head.appendChild(m),n.instance=m);case"void":return null;default:throw Error(s(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(c=n.instance,n.state.loading|=4,Wu(c,a.precedence,e));return n.instance}function Wu(e,n,a){for(var c=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),m=c.length?c[c.length-1]:null,y=m,N=0;N<c.length;N++){var O=c[N];if(O.dataset.precedence===n)y=O;else if(y!==m)break}y?y.parentNode.insertBefore(e,y.nextSibling):(n=a.nodeType===9?a.head:a,n.insertBefore(e,n.firstChild))}function gm(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.title==null&&(e.title=n.title)}function bm(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.integrity==null&&(e.integrity=n.integrity)}var Qu=null;function ay(e,n,a){if(Qu===null){var c=new Map,m=Qu=new Map;m.set(a,c)}else m=Qu,c=m.get(a),c||(c=new Map,m.set(a,c));if(c.has(e))return c;for(c.set(e,null),a=a.getElementsByTagName(e),m=0;m<a.length;m++){var y=a[m];if(!(y[Qi]||y[on]||e==="link"&&y.getAttribute("rel")==="stylesheet")&&y.namespaceURI!=="http://www.w3.org/2000/svg"){var N=y.getAttribute(n)||"";N=e+N;var O=c.get(N);O?O.push(y):c.set(N,[y])}}return c}function oy(e,n,a){e=e.ownerDocument||e,e.head.insertBefore(a,n==="title"?e.querySelector("head > title"):null)}function YS(e,n,a){if(a===1||n.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;switch(n.rel){case"stylesheet":return e=n.disabled,typeof n.precedence=="string"&&e==null;default:return!0}case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function sy(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}var Fl=null;function qS(){}function VS(e,n,a){if(Fl===null)throw Error(s(475));var c=Fl;if(n.type==="stylesheet"&&(typeof a.media!="string"||matchMedia(a.media).matches!==!1)&&(n.state.loading&4)===0){if(n.instance===null){var m=Es(a.href),y=e.querySelector(Vl(m));if(y){e=y._p,e!==null&&typeof e=="object"&&typeof e.then=="function"&&(c.count++,c=Ju.bind(c),e.then(c,c)),n.state.loading|=4,n.instance=y,Ke(y);return}y=e.ownerDocument||e,a=ry(a),(m=Tr.get(m))&&gm(a,m),y=y.createElement("link"),Ke(y);var N=y;N._p=new Promise(function(O,q){N.onload=O,N.onerror=q}),_n(y,"link",a),n.instance=y}c.stylesheets===null&&(c.stylesheets=new Map),c.stylesheets.set(n,e),(e=n.state.preload)&&(n.state.loading&3)===0&&(c.count++,n=Ju.bind(c),e.addEventListener("load",n),e.addEventListener("error",n))}}function KS(){if(Fl===null)throw Error(s(475));var e=Fl;return e.stylesheets&&e.count===0&&ym(e,e.stylesheets),0<e.count?function(n){var a=setTimeout(function(){if(e.stylesheets&&ym(e,e.stylesheets),e.unsuspend){var c=e.unsuspend;e.unsuspend=null,c()}},6e4);return e.unsuspend=n,function(){e.unsuspend=null,clearTimeout(a)}}:null}function Ju(){if(this.count--,this.count===0){if(this.stylesheets)ym(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var td=null;function ym(e,n){e.stylesheets=null,e.unsuspend!==null&&(e.count++,td=new Map,n.forEach(FS,e),td=null,Ju.call(e))}function FS(e,n){if(!(n.state.loading&4)){var a=td.get(e);if(a)var c=a.get(null);else{a=new Map,td.set(e,a);for(var m=e.querySelectorAll("link[data-precedence],style[data-precedence]"),y=0;y<m.length;y++){var N=m[y];(N.nodeName==="LINK"||N.getAttribute("media")!=="not all")&&(a.set(N.dataset.precedence,N),c=N)}c&&a.set(null,c)}m=n.instance,N=m.getAttribute("data-precedence"),y=a.get(N)||c,y===c&&a.set(null,m),a.set(N,m),this.count++,c=Ju.bind(this),m.addEventListener("load",c),m.addEventListener("error",c),y?y.parentNode.insertBefore(m,y.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(m,e.firstChild)),n.state.loading|=4}}var Xl={$$typeof:C,Provider:null,Consumer:null,_currentValue:F,_currentValue2:F,_threadCount:0};function XS(e,n,a,c,m,y,N,O){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Un(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Un(0),this.hiddenUpdates=Un(null),this.identifierPrefix=c,this.onUncaughtError=m,this.onCaughtError=y,this.onRecoverableError=N,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=O,this.incompleteTransitions=new Map}function ly(e,n,a,c,m,y,N,O,q,ct,yt,xt){return e=new XS(e,n,a,N,O,q,ct,xt),n=1,y===!0&&(n|=24),y=Bn(3,null,null,n),e.current=y,y.stateNode=e,n=Jf(),n.refCount++,e.pooledCache=n,n.refCount++,y.memoizedState={element:c,isDehydrated:a,cache:n},rh(y),e}function cy(e){return e?(e=Ci,e):Ci}function uy(e,n,a,c,m,y){m=cy(m),c.context===null?c.context=m:c.pendingContext=m,c=Sa(n),c.payload={element:a},y=y===void 0?null:y,y!==null&&(c.callback=y),a=wa(e,c,n),a!==null&&(sr(a,e,n),Ml(a,e,n))}function dy(e,n){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var a=e.retryLane;e.retryLane=a!==0&&a<n?a:n}}function vm(e,n){dy(e,n),(e=e.alternate)&&dy(e,n)}function fy(e){if(e.tag===13){var n=ba(e,67108864);n!==null&&sr(n,e,67108864),vm(e,67108864)}}var ed=!0;function WS(e,n,a,c){var m=Z.T;Z.T=null;var y=lt.p;try{lt.p=2,_m(e,n,a,c)}finally{lt.p=y,Z.T=m}}function QS(e,n,a,c){var m=Z.T;Z.T=null;var y=lt.p;try{lt.p=8,_m(e,n,a,c)}finally{lt.p=y,Z.T=m}}function _m(e,n,a,c){if(ed){var m=xm(c);if(m===null)sm(e,n,c,nd,a),my(e,c);else if(tw(m,e,n,a,c))c.stopPropagation();else if(my(e,c),n&4&&-1<JS.indexOf(e)){for(;m!==null;){var y=mi(m);if(y!==null)switch(y.tag){case 3:if(y=y.stateNode,y.current.memoizedState.isDehydrated){var N=mn(y.pendingLanes);if(N!==0){var O=y;for(O.pendingLanes|=2,O.entangledLanes|=2;N;){var q=1<<31-je(N);O.entanglements[1]|=q,N&=~q}si(y),(fe&6)===0&&(Hu=ve()+500,Gl(0))}}break;case 13:O=ba(y,2),O!==null&&sr(O,y,2),Iu(),vm(y,2)}if(y=xm(c),y===null&&sm(e,n,c,nd,a),y===m)break;m=y}m!==null&&c.stopPropagation()}else sm(e,n,c,null,a)}}function xm(e){return e=aa(e),Sm(e)}var nd=null;function Sm(e){if(nd=null,e=Xr(e),e!==null){var n=d(e);if(n===null)e=null;else{var a=n.tag;if(a===13){if(e=h(n),e!==null)return e;e=null}else if(a===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;e=null}else n!==e&&(e=null)}}return nd=e,null}function hy(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(At()){case bt:return 2;case Nt:return 8;case dt:case zt:return 32;case Qt:return 268435456;default:return 32}default:return 32}}var wm=!1,Ra=null,Pa=null,za=null,Wl=new Map,Ql=new Map,Ha=[],JS="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function my(e,n){switch(e){case"focusin":case"focusout":Ra=null;break;case"dragenter":case"dragleave":Pa=null;break;case"mouseover":case"mouseout":za=null;break;case"pointerover":case"pointerout":Wl.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ql.delete(n.pointerId)}}function Jl(e,n,a,c,m,y){return e===null||e.nativeEvent!==y?(e={blockedOn:n,domEventName:a,eventSystemFlags:c,nativeEvent:y,targetContainers:[m]},n!==null&&(n=mi(n),n!==null&&fy(n)),e):(e.eventSystemFlags|=c,n=e.targetContainers,m!==null&&n.indexOf(m)===-1&&n.push(m),e)}function tw(e,n,a,c,m){switch(n){case"focusin":return Ra=Jl(Ra,e,n,a,c,m),!0;case"dragenter":return Pa=Jl(Pa,e,n,a,c,m),!0;case"mouseover":return za=Jl(za,e,n,a,c,m),!0;case"pointerover":var y=m.pointerId;return Wl.set(y,Jl(Wl.get(y)||null,e,n,a,c,m)),!0;case"gotpointercapture":return y=m.pointerId,Ql.set(y,Jl(Ql.get(y)||null,e,n,a,c,m)),!0}return!1}function py(e){var n=Xr(e.target);if(n!==null){var a=d(n);if(a!==null){if(n=a.tag,n===13){if(n=h(a),n!==null){e.blockedOn=n,rl(e.priority,function(){if(a.tag===13){var c=or();c=el(c);var m=ba(a,c);m!==null&&sr(m,a,c),vm(a,c)}});return}}else if(n===3&&a.stateNode.current.memoizedState.isDehydrated){e.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}e.blockedOn=null}function rd(e){if(e.blockedOn!==null)return!1;for(var n=e.targetContainers;0<n.length;){var a=xm(e.nativeEvent);if(a===null){a=e.nativeEvent;var c=new a.constructor(a.type,a);ro=c,a.target.dispatchEvent(c),ro=null}else return n=mi(a),n!==null&&fy(n),e.blockedOn=a,!1;n.shift()}return!0}function gy(e,n,a){rd(e)&&a.delete(n)}function ew(){wm=!1,Ra!==null&&rd(Ra)&&(Ra=null),Pa!==null&&rd(Pa)&&(Pa=null),za!==null&&rd(za)&&(za=null),Wl.forEach(gy),Ql.forEach(gy)}function id(e,n){e.blockedOn===n&&(e.blockedOn=null,wm||(wm=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,ew)))}var ad=null;function by(e){ad!==e&&(ad=e,t.unstable_scheduleCallback(t.unstable_NormalPriority,function(){ad===e&&(ad=null);for(var n=0;n<e.length;n+=3){var a=e[n],c=e[n+1],m=e[n+2];if(typeof c!="function"){if(Sm(c||a)===null)continue;break}var y=mi(a);y!==null&&(e.splice(n,3),n-=3,Sh(y,{pending:!0,data:m,method:a.method,action:c},c,m))}}))}function tc(e){function n(q){return id(q,e)}Ra!==null&&id(Ra,e),Pa!==null&&id(Pa,e),za!==null&&id(za,e),Wl.forEach(n),Ql.forEach(n);for(var a=0;a<Ha.length;a++){var c=Ha[a];c.blockedOn===e&&(c.blockedOn=null)}for(;0<Ha.length&&(a=Ha[0],a.blockedOn===null);)py(a),a.blockedOn===null&&Ha.shift();if(a=(e.ownerDocument||e).$$reactFormReplay,a!=null)for(c=0;c<a.length;c+=3){var m=a[c],y=a[c+1],N=m[Tn]||null;if(typeof y=="function")N||by(a);else if(N){var O=null;if(y&&y.hasAttribute("formAction")){if(m=y,N=y[Tn]||null)O=N.formAction;else if(Sm(m)!==null)continue}else O=N.action;typeof O=="function"?a[c+1]=O:(a.splice(c,3),c-=3),by(a)}}}function Tm(e){this._internalRoot=e}od.prototype.render=Tm.prototype.render=function(e){var n=this._internalRoot;if(n===null)throw Error(s(409));var a=n.current,c=or();uy(a,c,e,n,null,null)},od.prototype.unmount=Tm.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var n=e.containerInfo;uy(e.current,2,null,e,null,null),Iu(),n[Wi]=null}};function od(e){this._internalRoot=e}od.prototype.unstable_scheduleHydration=function(e){if(e){var n=Ic();e={blockedOn:null,target:e,priority:n};for(var a=0;a<Ha.length&&n!==0&&n<Ha[a].priority;a++);Ha.splice(a,0,e),a===0&&py(e)}};var yy=i.version;if(yy!=="19.1.1")throw Error(s(527,yy,"19.1.1"));lt.findDOMNode=function(e){var n=e._reactInternals;if(n===void 0)throw typeof e.render=="function"?Error(s(188)):(e=Object.keys(e).join(","),Error(s(268,e)));return e=b(n),e=e!==null?v(e):null,e=e===null?null:e.stateNode,e};var nw={bundleType:0,version:"19.1.1",rendererPackageName:"react-dom",currentDispatcherRef:Z,reconcilerVersion:"19.1.1"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var sd=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!sd.isDisabled&&sd.supportsFiber)try{ce=sd.inject(nw),_e=sd}catch{}}return nc.createRoot=function(e,n){if(!u(e))throw Error(s(299));var a=!1,c="",m=Lg,y=Bg,N=Rg,O=null;return n!=null&&(n.unstable_strictMode===!0&&(a=!0),n.identifierPrefix!==void 0&&(c=n.identifierPrefix),n.onUncaughtError!==void 0&&(m=n.onUncaughtError),n.onCaughtError!==void 0&&(y=n.onCaughtError),n.onRecoverableError!==void 0&&(N=n.onRecoverableError),n.unstable_transitionCallbacks!==void 0&&(O=n.unstable_transitionCallbacks)),n=ly(e,1,!1,null,null,a,c,m,y,N,O,null),e[Wi]=n.current,om(e),new Tm(n)},nc.hydrateRoot=function(e,n,a){if(!u(e))throw Error(s(299));var c=!1,m="",y=Lg,N=Bg,O=Rg,q=null,ct=null;return a!=null&&(a.unstable_strictMode===!0&&(c=!0),a.identifierPrefix!==void 0&&(m=a.identifierPrefix),a.onUncaughtError!==void 0&&(y=a.onUncaughtError),a.onCaughtError!==void 0&&(N=a.onCaughtError),a.onRecoverableError!==void 0&&(O=a.onRecoverableError),a.unstable_transitionCallbacks!==void 0&&(q=a.unstable_transitionCallbacks),a.formState!==void 0&&(ct=a.formState)),n=ly(e,1,!0,n,a??null,c,m,y,N,O,q,ct),n.context=cy(null),a=n.current,c=or(),c=el(c),m=Sa(c),m.callback=null,wa(a,m,c),a=c,n.current.lanes=a,hi(n,a),si(n),e[Wi]=n.current,om(e),new od(n)},nc.version="19.1.1",nc}var Dy;function fw(){if(Dy)return Nm.exports;Dy=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(i){console.error(i)}}return t(),Nm.exports=dw(),Nm.exports}var hw=fw();let mw={data:""},pw=t=>typeof window=="object"?((t?t.querySelector("#_goober"):window._goober)||Object.assign((t||document.head).appendChild(document.createElement("style")),{innerHTML:" ",id:"_goober"})).firstChild:t||mw,gw=/(?:([\u0080-\uFFFF\w-%@]+) *:? *([^{;]+?);|([^;}{]*?) *{)|(}\s*)/g,bw=/\/\*[^]*?\*\/|  +/g,Ay=/\n+/g,Za=(t,i)=>{let o="",s="",u="";for(let d in t){let h=t[d];d[0]=="@"?d[1]=="i"?o=d+" "+h+";":s+=d[1]=="f"?Za(h,d):d+"{"+Za(h,d[1]=="k"?"":i)+"}":typeof h=="object"?s+=Za(h,i?i.replace(/([^,])+/g,p=>d.replace(/([^,]*:\S+\([^)]*\))|([^,])+/g,b=>/&/.test(b)?b.replace(/&/g,p):p?p+" "+b:b)):d):h!=null&&(d=/^--/.test(d)?d:d.replace(/[A-Z]/g,"-$&").toLowerCase(),u+=Za.p?Za.p(d,h):d+":"+h+";")}return o+(i&&u?i+"{"+u+"}":u)+s},Ui={},ix=t=>{if(typeof t=="object"){let i="";for(let o in t)i+=o+ix(t[o]);return i}return t},yw=(t,i,o,s,u)=>{let d=ix(t),h=Ui[d]||(Ui[d]=(b=>{let v=0,x=11;for(;v<b.length;)x=101*x+b.charCodeAt(v++)>>>0;return"go"+x})(d));if(!Ui[h]){let b=d!==t?t:(v=>{let x,w,S=[{}];for(;x=gw.exec(v.replace(bw,""));)x[4]?S.shift():x[3]?(w=x[3].replace(Ay," ").trim(),S.unshift(S[0][w]=S[0][w]||{})):S[0][x[1]]=x[2].replace(Ay," ").trim();return S[0]})(t);Ui[h]=Za(u?{["@keyframes "+h]:b}:b,o?"":"."+h)}let p=o&&Ui.g?Ui.g:null;return o&&(Ui.g=Ui[h]),((b,v,x,w)=>{w?v.data=v.data.replace(w,b):v.data.indexOf(b)===-1&&(v.data=x?b+v.data:v.data+b)})(Ui[h],i,s,p),h},vw=(t,i,o)=>t.reduce((s,u,d)=>{let h=i[d];if(h&&h.call){let p=h(o),b=p&&p.props&&p.props.className||/^go/.test(p)&&p;h=b?"."+b:p&&typeof p=="object"?p.props?"":Za(p,""):p===!1?"":p}return s+u+(h??"")},"");function pf(t){let i=this||{},o=t.call?t(i.p):t;return yw(o.unshift?o.raw?vw(o,[].slice.call(arguments,1),i.p):o.reduce((s,u)=>Object.assign(s,u&&u.call?u(i.p):u),{}):o,pw(i.target),i.g,i.o,i.k)}let ax,Tp,Ep;pf.bind({g:1});let Ki=pf.bind({k:1});function _w(t,i,o,s){Za.p=i,ax=t,Tp=o,Ep=s}function Fa(t,i){let o=this||{};return function(){let s=arguments;function u(d,h){let p=Object.assign({},d),b=p.className||u.className;o.p=Object.assign({theme:Tp&&Tp()},p),o.o=/ *go\d+/.test(b),p.className=pf.apply(o,s)+(b?" "+b:"");let v=t;return t[0]&&(v=p.as||t,delete p.as),Ep&&v[0]&&Ep(p),ax(v,p)}return u}}var xw=t=>typeof t=="function",Hd=(t,i)=>xw(t)?t(i):t,Sw=(()=>{let t=0;return()=>(++t).toString()})(),ox=(()=>{let t;return()=>{if(t===void 0&&typeof window<"u"){let i=matchMedia("(prefers-reduced-motion: reduce)");t=!i||i.matches}return t}})(),ww=20,qp="default",sx=(t,i)=>{let{toastLimit:o}=t.settings;switch(i.type){case 0:return{...t,toasts:[i.toast,...t.toasts].slice(0,o)};case 1:return{...t,toasts:t.toasts.map(h=>h.id===i.toast.id?{...h,...i.toast}:h)};case 2:let{toast:s}=i;return sx(t,{type:t.toasts.find(h=>h.id===s.id)?1:0,toast:s});case 3:let{toastId:u}=i;return{...t,toasts:t.toasts.map(h=>h.id===u||u===void 0?{...h,dismissed:!0,visible:!1}:h)};case 4:return i.toastId===void 0?{...t,toasts:[]}:{...t,toasts:t.toasts.filter(h=>h.id!==i.toastId)};case 5:return{...t,pausedAt:i.time};case 6:let d=i.time-(t.pausedAt||0);return{...t,pausedAt:void 0,toasts:t.toasts.map(h=>({...h,pauseDuration:h.pauseDuration+d}))}}},Od=[],lx={toasts:[],pausedAt:void 0,settings:{toastLimit:ww}},ci={},cx=(t,i=qp)=>{ci[i]=sx(ci[i]||lx,t),Od.forEach(([o,s])=>{o===i&&s(ci[i])})},ux=t=>Object.keys(ci).forEach(i=>cx(t,i)),Tw=t=>Object.keys(ci).find(i=>ci[i].toasts.some(o=>o.id===t)),gf=(t=qp)=>i=>{cx(i,t)},Ew={blank:4e3,error:4e3,success:2e3,loading:1/0,custom:4e3},Mw=(t={},i=qp)=>{let[o,s]=R.useState(ci[i]||lx),u=R.useRef(ci[i]);R.useEffect(()=>(u.current!==ci[i]&&s(ci[i]),Od.push([i,s]),()=>{let h=Od.findIndex(([p])=>p===i);h>-1&&Od.splice(h,1)}),[i]);let d=o.toasts.map(h=>{var p,b,v;return{...t,...t[h.type],...h,removeDelay:h.removeDelay||((p=t[h.type])==null?void 0:p.removeDelay)||t?.removeDelay,duration:h.duration||((b=t[h.type])==null?void 0:b.duration)||t?.duration||Ew[h.type],style:{...t.style,...(v=t[h.type])==null?void 0:v.style,...h.style}}});return{...o,toasts:d}},Nw=(t,i="blank",o)=>({createdAt:Date.now(),visible:!0,dismissed:!1,type:i,ariaProps:{role:"status","aria-live":"polite"},message:t,pauseDuration:0,...o,id:o?.id||Sw()}),Oc=t=>(i,o)=>{let s=Nw(i,t,o);return gf(s.toasterId||Tw(s.id))({type:2,toast:s}),s.id},rn=(t,i)=>Oc("blank")(t,i);rn.error=Oc("error");rn.success=Oc("success");rn.loading=Oc("loading");rn.custom=Oc("custom");rn.dismiss=(t,i)=>{let o={type:3,toastId:t};i?gf(i)(o):ux(o)};rn.dismissAll=t=>rn.dismiss(void 0,t);rn.remove=(t,i)=>{let o={type:4,toastId:t};i?gf(i)(o):ux(o)};rn.removeAll=t=>rn.remove(void 0,t);rn.promise=(t,i,o)=>{let s=rn.loading(i.loading,{...o,...o?.loading});return typeof t=="function"&&(t=t()),t.then(u=>{let d=i.success?Hd(i.success,u):void 0;return d?rn.success(d,{id:s,...o,...o?.success}):rn.dismiss(s),u}).catch(u=>{let d=i.error?Hd(i.error,u):void 0;d?rn.error(d,{id:s,...o,...o?.error}):rn.dismiss(s)}),t};var Dw=1e3,Aw=(t,i="default")=>{let{toasts:o,pausedAt:s}=Mw(t,i),u=R.useRef(new Map).current,d=R.useCallback((w,S=Dw)=>{if(u.has(w))return;let E=setTimeout(()=>{u.delete(w),h({type:4,toastId:w})},S);u.set(w,E)},[]);R.useEffect(()=>{if(s)return;let w=Date.now(),S=o.map(E=>{if(E.duration===1/0)return;let A=(E.duration||0)+E.pauseDuration-(w-E.createdAt);if(A<0){E.visible&&rn.dismiss(E.id);return}return setTimeout(()=>rn.dismiss(E.id,i),A)});return()=>{S.forEach(E=>E&&clearTimeout(E))}},[o,s,i]);let h=R.useCallback(gf(i),[i]),p=R.useCallback(()=>{h({type:5,time:Date.now()})},[h]),b=R.useCallback((w,S)=>{h({type:1,toast:{id:w,height:S}})},[h]),v=R.useCallback(()=>{s&&h({type:6,time:Date.now()})},[s,h]),x=R.useCallback((w,S)=>{let{reverseOrder:E=!1,gutter:A=8,defaultPosition:D}=S||{},j=o.filter(C=>(C.position||D)===(w.position||D)&&C.height),$=j.findIndex(C=>C.id===w.id),z=j.filter((C,P)=>P<$&&C.visible).length;return j.filter(C=>C.visible).slice(...E?[z+1]:[0,z]).reduce((C,P)=>C+(P.height||0)+A,0)},[o]);return R.useEffect(()=>{o.forEach(w=>{if(w.dismissed)d(w.id,w.removeDelay);else{let S=u.get(w.id);S&&(clearTimeout(S),u.delete(w.id))}})},[o,d]),{toasts:o,handlers:{updateHeight:b,startPause:p,endPause:v,calculateOffset:x}}},jw=Ki`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
 transform: scale(1) rotate(45deg);
  opacity: 1;
}`,kw=Ki`
from {
  transform: scale(0);
  opacity: 0;
}
to {
  transform: scale(1);
  opacity: 1;
}`,Cw=Ki`
from {
  transform: scale(0) rotate(90deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(90deg);
	opacity: 1;
}`,Ow=Fa("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${t=>t.primary||"#ff4b4b"};
  position: relative;
  transform: rotate(45deg);

  animation: ${jw} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;

  &:after,
  &:before {
    content: '';
    animation: ${kw} 0.15s ease-out forwards;
    animation-delay: 150ms;
    position: absolute;
    border-radius: 3px;
    opacity: 0;
    background: ${t=>t.secondary||"#fff"};
    bottom: 9px;
    left: 4px;
    height: 2px;
    width: 12px;
  }

  &:before {
    animation: ${Cw} 0.15s ease-out forwards;
    animation-delay: 180ms;
    transform: rotate(90deg);
  }
`,Lw=Ki`
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
`,Bw=Fa("div")`
  width: 12px;
  height: 12px;
  box-sizing: border-box;
  border: 2px solid;
  border-radius: 100%;
  border-color: ${t=>t.secondary||"#e0e0e0"};
  border-right-color: ${t=>t.primary||"#616161"};
  animation: ${Lw} 1s linear infinite;
`,Rw=Ki`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(45deg);
	opacity: 1;
}`,Pw=Ki`
0% {
	height: 0;
	width: 0;
	opacity: 0;
}
40% {
  height: 0;
	width: 6px;
	opacity: 1;
}
100% {
  opacity: 1;
  height: 10px;
}`,zw=Fa("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${t=>t.primary||"#61d345"};
  position: relative;
  transform: rotate(45deg);

  animation: ${Rw} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;
  &:after {
    content: '';
    box-sizing: border-box;
    animation: ${Pw} 0.2s ease-out forwards;
    opacity: 0;
    animation-delay: 200ms;
    position: absolute;
    border-right: 2px solid;
    border-bottom: 2px solid;
    border-color: ${t=>t.secondary||"#fff"};
    bottom: 6px;
    left: 6px;
    height: 10px;
    width: 6px;
  }
`,Hw=Fa("div")`
  position: absolute;
`,$w=Fa("div")`
  position: relative;
  display: flex;
  justify-content: center;
  align-items: center;
  min-width: 20px;
  min-height: 20px;
`,Iw=Ki`
from {
  transform: scale(0.6);
  opacity: 0.4;
}
to {
  transform: scale(1);
  opacity: 1;
}`,Uw=Fa("div")`
  position: relative;
  transform: scale(0.6);
  opacity: 0.4;
  min-width: 20px;
  animation: ${Iw} 0.3s 0.12s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
`,Gw=({toast:t})=>{let{icon:i,type:o,iconTheme:s}=t;return i!==void 0?typeof i=="string"?R.createElement(Uw,null,i):i:o==="blank"?null:R.createElement($w,null,R.createElement(Bw,{...s}),o!=="loading"&&R.createElement(Hw,null,o==="error"?R.createElement(Ow,{...s}):R.createElement(zw,{...s})))},Zw=t=>`
0% {transform: translate3d(0,${t*-200}%,0) scale(.6); opacity:.5;}
100% {transform: translate3d(0,0,0) scale(1); opacity:1;}
`,Yw=t=>`
0% {transform: translate3d(0,0,-1px) scale(1); opacity:1;}
100% {transform: translate3d(0,${t*-150}%,-1px) scale(.6); opacity:0;}
`,qw="0%{opacity:0;} 100%{opacity:1;}",Vw="0%{opacity:1;} 100%{opacity:0;}",Kw=Fa("div")`
  display: flex;
  align-items: center;
  background: #fff;
  color: #363636;
  line-height: 1.3;
  will-change: transform;
  box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1), 0 3px 3px rgba(0, 0, 0, 0.05);
  max-width: 350px;
  pointer-events: auto;
  padding: 8px 10px;
  border-radius: 8px;
`,Fw=Fa("div")`
  display: flex;
  justify-content: center;
  margin: 4px 10px;
  color: inherit;
  flex: 1 1 auto;
  white-space: pre-line;
`,Xw=(t,i)=>{let o=t.includes("top")?1:-1,[s,u]=ox()?[qw,Vw]:[Zw(o),Yw(o)];return{animation:i?`${Ki(s)} 0.35s cubic-bezier(.21,1.02,.73,1) forwards`:`${Ki(u)} 0.4s forwards cubic-bezier(.06,.71,.55,1)`}},Ww=R.memo(({toast:t,position:i,style:o,children:s})=>{let u=t.height?Xw(t.position||i||"top-center",t.visible):{opacity:0},d=R.createElement(Gw,{toast:t}),h=R.createElement(Fw,{...t.ariaProps},Hd(t.message,t));return R.createElement(Kw,{className:t.className,style:{...u,...o,...t.style}},typeof s=="function"?s({icon:d,message:h}):R.createElement(R.Fragment,null,d,h))});_w(R.createElement);var Qw=({id:t,className:i,style:o,onHeightUpdate:s,children:u})=>{let d=R.useCallback(h=>{if(h){let p=()=>{let b=h.getBoundingClientRect().height;s(t,b)};p(),new MutationObserver(p).observe(h,{subtree:!0,childList:!0,characterData:!0})}},[t,s]);return R.createElement("div",{ref:d,className:i,style:o},u)},Jw=(t,i)=>{let o=t.includes("top"),s=o?{top:0}:{bottom:0},u=t.includes("center")?{justifyContent:"center"}:t.includes("right")?{justifyContent:"flex-end"}:{};return{left:0,right:0,display:"flex",position:"absolute",transition:ox()?void 0:"all 230ms cubic-bezier(.21,1.02,.73,1)",transform:`translateY(${i*(o?1:-1)}px)`,...s,...u}},tT=pf`
  z-index: 9999;
  > * {
    pointer-events: auto;
  }
`,ld=16,eT=({reverseOrder:t,position:i="top-center",toastOptions:o,gutter:s,children:u,toasterId:d,containerStyle:h,containerClassName:p})=>{let{toasts:b,handlers:v}=Aw(o,d);return R.createElement("div",{"data-rht-toaster":d||"",style:{position:"fixed",zIndex:9999,top:ld,left:ld,right:ld,bottom:ld,pointerEvents:"none",...h},className:p,onMouseEnter:v.startPause,onMouseLeave:v.endPause},b.map(x=>{let w=x.position||i,S=v.calculateOffset(x,{reverseOrder:t,gutter:s,defaultPosition:i}),E=Jw(w,S);return R.createElement(Qw,{id:x.id,key:x.id,onHeightUpdate:v.updateHeight,className:x.visible?tT:"",style:E},x.type==="custom"?Hd(x.message,x):u?u(x):R.createElement(Ww,{toast:x,position:w}))}))},km=rn;function nT(t,i,o,s=0,u=0){i<=2&&(t-=1,i+=12);const d=Math.floor(t/100),h=2-d+Math.floor(d/4),p=o+(s+u/60)/24;return Math.floor(365.25*(t+4716))+Math.floor(30.6001*(i+1))+p+h-1524.5}const rT=864e5;function iT(t){const i=(t-24405875e-1)*rT;return new Date(i)}function aT(t,i=7){const o=t+(i-.5)/12;if(o>=1986&&o<2005){const u=o-2e3;return 63.86+.3345*u-.060374*u*u+.0017275*u**3+651814e-9*u**4+2373599e-11*u**5}if(o>=2005&&o<2050){const u=o-2e3;return 62.92+.32217*u+.005589*u*u}if(o>=2050&&o<=2150){const u=(o-1820)/100;return-20+32*u*u-.5628*(2150-o)}if(o>=1900&&o<1986)return-2.79+1.494119*(o-1900)-.0598939*(o-1900)**2+.0061966*(o-1900)**3-197e-6*(o-1900)**4;if(o>=1800&&o<1900){const u=(o-1800)/100;return 13.72-33.244*u+68.612*u**2-65.3*u**3-1.653*u**4+.3343*u**5-.012125*u**6+1348e-7*u**7-175e-8*u**8}const s=(o-1820)/100;return-20+32*s*s}function oT(t){const i=Math.floor(t+.5),o=t+.5-i;let s=i;if(i>=2299161){const w=Math.floor((i-186721625e-2)/36524.25);s=i+1+w-Math.floor(w/4)}const u=s+1524,d=Math.floor((u-122.1)/365.25),h=Math.floor(365.25*d),p=Math.floor((u-h)/30.6001),b=u-h-Math.floor(30.6001*p)+o;let v=p-1;v>12&&(v-=12);let x=d-4715;return v>2&&(x-=1),[x,v,b]}const gc=Math.PI,Bo=gc/180,sT=180/gc,lT=86400;function cT(t){return t%=360,t<0?t+360:t}function uT(t,i){return(t-i+540)%360-180}function jy(t,i){for(;t-i>180;)t-=360;for(;t-i<-180;)t+=360;return t}function dT(t){const[i,o]=oT(t);return t+aT(i,Math.round(o))/lT}function ky(t,i){let o=0,s=1;for(let u=0;u<t.length;u++){let d=0;for(const[h,p,b]of t[u])d+=h*Math.cos(p+b*i);o+=d*s,s*=i}return o*1e-8}function fT(t){const i=(t-2451545)/36525,o=(297.85036+445267.11148*i-.0019142*i*i+i*i*i/189474)*Bo,s=(357.52772+35999.05034*i-1603e-7*i*i-i*i*i/3e5)*Bo,u=(134.96298+477198.867398*i+.0086972*i*i+i*i*i/56250)*Bo,d=(93.27191+483202.017538*i-.0036825*i*i+i*i*i/327270)*Bo,h=(125.04452-1934.136261*i+.0020708*i*i+i*i*i/45e4)*Bo,p=[[0,0,0,0,1,-171996,-174.2,92025,8.9],[0,0,2,-2,2,-13187,-1.6,5736,-3.1],[0,0,2,0,2,-2274,-.2,977,-.5],[0,0,0,0,2,2062,.2,-895,.5],[0,1,0,0,0,1426,-3.4,54,-.1],[1,0,0,0,0,712,.1,-7,0],[0,1,2,-2,2,-517,1.2,224,-.6],[0,0,2,0,1,-386,-.4,200,0],[1,0,2,0,2,-301,0,129,-.1],[0,-1,2,-2,2,217,-.5,-95,.3]];let b=0,v=0;for(const[x,w,S,E,A,D,j,$,z]of p){const C=x*o+w*s+S*u+E*d+A*h;b+=(D+j*i)*Math.sin(C),v+=($+z*i)*Math.cos(C)}return b*=1e-4,v*=1e-4,{dpsi:b,deps:v}}function cd(t){const i=dT(t),o=(i-2451545)/365250,s=ky(Cy.L,o),u=ky(Cy.R,o);let d=s+gc;d>2*gc&&(d-=2*gc);const{dpsi:h}=fT(i),p=h/3600*Bo,b=20.4898/(3600*u),v=d+p-b*Bo;return cT(v*sT)}function en(t,i,o){const s=(i%360+360)%360,u=nT(t,1,1),d=cd(u);let h=s-d;h<0&&(h+=360);let p=u+h/.98564736;const b=1e-6,v=5e-6;for(let S=0;S<25;S++){const E=cd(p),A=uT(s,E);if(Math.abs(A)<b)break;const D=cd(p+v),j=cd(p-v),$=jy(D,E),z=jy(j,E),C=($-z)/(2*v);p+=A/C}const x=iT(p),w=new Date(x.getFullYear(),x.getMonth(),x.getDate(),x.getHours(),x.getMinutes(),0,0);if(Number.isFinite(o)){const S=o/15-9;if(Math.abs(S)>1e-12)return new Date(w.getTime()+S*36e5)}return w}const Cy={L:[[[175347046,0,0],[3341656,4.6692568,6283.07585],[34894,4.6261,12566.1517],[3497,2.7441,5753.3849],[3418,2.8289,3.5231],[3136,3.6277,77713.7715],[2676,4.4181,7860.4194],[2343,6.1352,3930.2097],[1324,.7425,11506.7698],[1273,2.0371,529.691],[1199,1.1096,1577.3435],[990,5.233,5884.927],[902,2.045,26.298],[857,3.508,398.149],[780,1.179,5223.694],[753,2.533,5507.553],[505,4.583,18849.228],[492,4.205,775.523],[357,2.92,.067],[317,5.849,11790.629]],[[628331966747,0,0],[206059,2.678235,6283.07585],[4303,2.6351,12566.1517],[425,1.59,3.523],[119,5.796,26.298],[109,2.966,1577.344],[93,2.59,18849.23],[72,1.14,529.69],[68,1.87,398.15],[67,4.41,5507.55],[59,2.89,5223.69],[56,2.17,155.42]],[[52919,0,0],[8720,1.0721,6283.0758],[309,.867,12566.152]],[[289,5.844,6283.076],[35,0,0]],[[114,3.142,0],[8,4.13,6283.08]],[[1,3.14,0]]],R:[[[100013989,0,0],[1670700,3.0984635,6283.07585],[13956,3.05525,12566.1517],[3084,5.1985,77713.7715],[1628,1.1739,5753.3849],[1576,2.8469,7860.4194],[925,5.453,11506.77],[542,4.564,3930.21],[472,3.661,5884.927],[346,.964,5507.553],[329,5.9,5223.694]],[[103019,1.10749,6283.07585],[1721,1.0644,12566.1517],[702,3.142,0],[32,1.02,18849.23]],[[4359,5.7846,6283.0758],[124,5.579,12566.152],[12,3.14,0]],[[145,4.273,6283.076]]]},ui=["갑","을","병","정","무","기","경","신","임","계"],Yi=["자","축","인","묘","진","사","오","미","신","유","술","해"],Mp={천간:["갑","을","병","정","무","기","경","신","임","계"],지지:["자","축","인","묘","진","사","오","미","신","유","술","해"]},dx={천간:["甲","乙","丙","丁","戊","己","庚","辛","壬","癸"],지지:["子","丑","寅","卯","辰","巳","午","未","申","酉","戌","亥"]},hT=["목","목","화","화","토","토","금","금","수","수"],mT=["수","토","목","목","토","화","화","토","금","금","토","수"],fx=["갑자","을축","병인","정묘","무진","기사","경오","신미","임신","계유","갑술","을해","병자","정축","무인","기묘","경진","신사","임오","계미","갑신","을유","병술","정해","무자","기축","경인","신묘","임진","계사","갑오","을미","병신","정유","무술","기해","경자","신축","임인","계묘","갑진","을사","병오","정미","무신","기유","경술","신해","임자","계축","갑인","을묘","병진","정사","무오","기미","경신","신유","임술","계해"],hx={갑:["병인","정묘","무진","기사","경오","신미","임신","계유","갑술","을해","병자","정축"],을:["무인","기묘","경진","신사","임오","계미","갑신","을유","병술","정해","무자","기축"],병:["경인","신묘","임진","계사","갑오","을미","병신","정유","무술","기해","경자","신축"],정:["임인","계묘","갑진","을사","병오","정미","무신","기유","경술","신해","임자","계축"],무:["갑인","을묘","병진","정사","무오","기미","경신","신유","임술","계해","갑자","을축"],기:["병인","정묘","무진","기사","경오","신미","임신","계유","갑술","을해","병자","정축"],경:["무인","기묘","경진","신사","임오","계미","갑신","을유","병술","정해","무자","기축"],신:["경인","신묘","임진","계사","갑오","을미","병신","정유","무술","기해","경자","신축"],임:["임인","계묘","갑진","을사","병오","정미","무신","기유","경술","신해","임자","계축"],계:["갑인","을묘","병진","정사","무오","기미","경신","신유","임술","계해","갑자","을축"]},pT={갑:["갑자","을축","병인","정묘","무진","기사","경오","신미","임신","계유","갑술","을해"],을:["병자","정축","무인","기묘","경진","신사","임오","계미","갑신","을유","병술","정해"],병:["무자","기축","경인","신묘","임진","계사","갑오","을미","병신","정유","무술","기해"],정:["경자","신축","임인","계묘","갑진","을사","병오","정미","무신","기유","경술","신해"],무:["임자","계축","갑인","을묘","병진","정사","무오","기미","경신","신유","임술","계해"],기:["갑자","을축","병인","정묘","무진","기사","경오","신미","임신","계유","갑술","을해"],경:["병자","정축","무인","기묘","경진","신사","임오","계미","갑신","을유","병술","정해"],신:["무자","기축","경인","신묘","임진","계사","갑오","을미","병신","정유","무술","기해"],임:["경자","신축","임인","계묘","갑진","을사","병오","정미","무신","기유","경술","신해"],계:["임자","계축","갑인","을묘","병진","정사","무오","기미","경신","신유","임술","계해"]},Oy=[{branch:"자",hanja:"子",start:1380,end:60},{branch:"축",hanja:"丑",start:60,end:180},{branch:"인",hanja:"寅",start:180,end:300},{branch:"묘",hanja:"卯",start:300,end:420},{branch:"진",hanja:"辰",start:420,end:540},{branch:"사",hanja:"巳",start:540,end:660},{branch:"오",hanja:"午",start:660,end:780},{branch:"미",hanja:"未",start:780,end:900},{branch:"신",hanja:"申",start:900,end:1020},{branch:"유",hanja:"酉",start:1020,end:1140},{branch:"술",hanja:"戌",start:1140,end:1260},{branch:"해",hanja:"亥",start:1260,end:1380}],gT={갑:{갑:"비견",을:"겁재",병:"식신",정:"상관",무:"편재",기:"정재",경:"편관",신:"정관",임:"편인",계:"정인"},을:{갑:"겁재",을:"비견",병:"상관",정:"식신",무:"정재",기:"편재",경:"정관",신:"편관",임:"정인",계:"편인"},병:{갑:"편인",을:"정인",병:"비견",정:"겁재",무:"식신",기:"상관",경:"편재",신:"정재",임:"편관",계:"정관"},정:{갑:"정인",을:"편인",병:"겁재",정:"비견",무:"상관",기:"식신",경:"정재",신:"편재",임:"정관",계:"편관"},무:{갑:"편관",을:"정관",병:"편인",정:"정인",무:"비견",기:"겁재",경:"식신",신:"상관",임:"편재",계:"정재"},기:{갑:"정관",을:"편관",병:"정인",정:"편인",무:"겁재",기:"비견",경:"상관",신:"식신",임:"정재",계:"편재"},경:{갑:"편재",을:"정재",병:"편관",정:"정관",무:"편인",기:"정인",경:"비견",신:"겁재",임:"식신",계:"상관"},신:{갑:"정재",을:"편재",병:"정관",정:"편관",무:"정인",기:"편인",경:"겁재",신:"비견",임:"상관",계:"식신"},임:{갑:"식신",을:"상관",병:"편재",정:"정재",무:"편관",기:"정관",경:"편인",신:"정인",임:"비견",계:"겁재"},계:{갑:"상관",을:"식신",병:"정재",정:"편재",무:"정관",기:"편관",경:"정인",신:"편인",임:"겁재",계:"비견"}},bT={갑:{자:"정인",축:"정재",인:"비견",묘:"겁재",진:"편재",사:"식신",오:"상관",미:"정재",신:"편관",유:"정관",술:"편재",해:"편인"},을:{자:"편인",축:"편재",인:"겁재",묘:"비견",진:"정재",사:"상관",오:"식신",미:"편재",신:"정관",유:"편관",술:"정재",해:"정인"},병:{자:"정관",축:"상관",인:"편인",묘:"정인",진:"식신",사:"비견",오:"겁재",미:"상관",신:"편재",유:"정재",술:"식신",해:"편관"},정:{자:"편관",축:"식신",인:"정인",묘:"편인",진:"상관",사:"겁재",오:"비견",미:"식신",신:"정재",유:"편재",술:"상관",해:"정관"},무:{자:"정재",축:"겁재",인:"편관",묘:"정관",진:"비견",사:"편인",오:"정인",미:"겁재",신:"식신",유:"상관",술:"비견",해:"편재"},기:{자:"편재",축:"비견",인:"정관",묘:"편관",진:"겁재",사:"정인",오:"편인",미:"비견",신:"상관",유:"식신",술:"겁재",해:"정재"},경:{자:"상관",축:"정인",인:"편재",묘:"정재",진:"편인",사:"편관",오:"정관",미:"정인",신:"비견",유:"겁재",술:"편인",해:"식신"},신:{자:"식신",축:"편인",인:"정재",묘:"편재",진:"정인",사:"정관",오:"편관",미:"편인",신:"겁재",유:"비견",술:"정인",해:"상관"},임:{자:"겁재",축:"정관",인:"식신",묘:"상관",진:"편관",사:"편재",오:"정재",미:"정관",신:"편인",유:"정인",술:"편관",해:"비견"},계:{자:"비견",축:"편관",인:"상관",묘:"식신",진:"정관",사:"정재",오:"편재",미:"편관",신:"정인",유:"편인",술:"정관",해:"겁재"}};function yT(t,i=127.5){return(De(t,i)||"").charAt(0)}const Ly=new Map;function mx(t,i=127.5){const o=`${t}@${i}`,s=Ly.get(o);if(s)return s;const u=en(t,315,i);if(!u)throw new Error(`입춘 날짜를 찾을 수 없습니다: year=${t}, lon=${i}`);return Ly.set(o,u),u}const vT=(t,i)=>(t%i+i)%i,px=t=>t instanceof Date&&!Number.isNaN(t.getTime());function gx(t,i=127.5){if(!px(t))throw new Error("resolveYearIndex: invalid date");const o=t.getFullYear(),s=mx(o,i),u=t<s?o-1:o,d=vT(u-4,60);return{useYear:u,index60Num:d}}function De(t,i=127.5){const{index60Num:o}=gx(t,i);return fx[o]}const _T=[2,4,6,8,0,2,4,6,8,0];function xT(t,i=127.5){const o=new Array(12);return o[0]=mx(t,i),o[1]=en(t,345,i),o[2]=en(t,15,i),o[3]=en(t,45,i),o[4]=en(t,75,i),o[5]=en(t,105,i),o[6]=en(t,135,i),o[7]=en(t,165,i),o[8]=en(t,195,i),o[9]=en(t,225,i),o[10]=en(t,255,i),o[11]=en(t+1,285,i),o.map(s=>new Date(s.getTime()+1800*1e3))}function ST(t,i=127.5){const{useYear:o}=gx(t,i),s=xT(o,i);let u=0;for(let h=0;h<12;h++)t>=s[h]&&(u=h);return{monthIndex:u+1,useYear:o,boundaries:s}}function wT(t,i=127.5){const o=yT(t,i),s=Mp.천간.indexOf(o);if(s<0)throw new Error(`resolveFirstMonthStemIdx: invalid year stem "${o}"`);return _T[s]}function TT(t,i,o=127.5){return(wT(t,o)+(i-1))%10}function an(t,i=127.5){if(!px(t))return"";const{monthIndex:o}=ST(t,i),s=(2+(o-1))%12,u=Mp.지지[s],d=TT(t,o,i);return Mp.천간[d]+u}const ET=(t,i)=>(t%i+i)%i;function MT(t,i,o,s=0,u=0,d=0){i<=2&&(t-=1,i+=12);const h=Math.floor(t/100),p=2-h+Math.floor(h/4),b=(s+u/60+d/3600)/24;return Math.floor(365.25*(t+4716))+Math.floor(30.6001*(i+1))+o+b+p-1524.5}function NT(t,i){const o=t.getHours(),s=t.getMinutes(),u=o*60+s,d=bx(t);return i==="야자시"&&d==="자"?u>=1380?1:0:i==="인시"&&(d==="자"||d==="축")?u<180?-1:0:(u<0,0)}const By={JDN:2445731,idx:0};function Pe(t,i){const o=NT(t,i),s=new Date(t.getTime());s.setDate(s.getDate()+o);const u=MT(s.getFullYear(),s.getMonth()+1,s.getDate(),s.getHours(),s.getMinutes()),d=Math.floor(u+.5),h=ET(d-By.JDN+By.idx,60),p=fx[h];if(!p)throw new Error(`getDayGanZhi: idx=${h} out of range (jdn=${d}, jd=${u})`);return p}function bx(t){t instanceof Date||(t=new Date(t));const i=t.getHours()*60+t.getMinutes();for(let o=0;o<Oy.length;o++){const{branch:s,start:u,end:d}=Oy[o];if(u<d){if(i>=u&&i<d)return s}else if(i>=u||i<d)return s}return"자"}function DT(t,i,o,s){const u=ui.indexOf(i);if(u<0)return"";let d=(u%5*2+o)%10;const h=t.getHours();return(s==="인시"||s==="조자시"&&h>=3)&&(o===0||o===1)&&(d=(d+2)%10),ui[d]}function Cr(t,i,o){t instanceof Date||(t=new Date(t));const s=bx(t),u=Yi.indexOf(s),h=(o??Pe(t,i)).charAt(0);return DT(t,h,u,i)+s}const Ry=t=>{let i;const o=new Set,s=(v,x)=>{const w=typeof v=="function"?v(i):v;if(!Object.is(w,i)){const S=i;i=x??(typeof w!="object"||w===null)?w:Object.assign({},i,w),o.forEach(E=>E(i,S))}},u=()=>i,p={setState:s,getState:u,getInitialState:()=>b,subscribe:v=>(o.add(v),()=>o.delete(v))},b=i=t(s,u,p);return p},AT=(t=>t?Ry(t):Ry),jT=t=>t;function kT(t,i=jT){const o=Ne.useSyncExternalStore(t.subscribe,Ne.useCallback(()=>i(t.getState()),[t,i]),Ne.useCallback(()=>i(t.getInitialState()),[t,i]));return Ne.useDebugValue(o),o}const CT=t=>{const i=AT(t),o=s=>kT(i,s);return Object.assign(o,i),o},Vp=(t=>CT);function OT(t,i){let o;try{o=t()}catch{return}return{getItem:u=>{var d;const h=b=>b===null?null:JSON.parse(b,void 0),p=(d=o.getItem(u))!=null?d:null;return p instanceof Promise?p.then(h):h(p)},setItem:(u,d)=>o.setItem(u,JSON.stringify(d,void 0)),removeItem:u=>o.removeItem(u)}}const Np=t=>i=>{try{const o=t(i);return o instanceof Promise?o:{then(s){return Np(s)(o)},catch(s){return this}}}catch(o){return{then(s){return this},catch(s){return Np(s)(o)}}}},LT=(t,i)=>(o,s,u)=>{let d={storage:OT(()=>localStorage),partialize:D=>D,version:0,merge:(D,j)=>({...j,...D}),...i},h=!1;const p=new Set,b=new Set;let v=d.storage;if(!v)return t((...D)=>{console.warn(`[zustand persist middleware] Unable to update item '${d.name}', the given storage is currently unavailable.`),o(...D)},s,u);const x=()=>{const D=d.partialize({...s()});return v.setItem(d.name,{state:D,version:d.version})},w=u.setState;u.setState=(D,j)=>(w(D,j),x());const S=t((...D)=>(o(...D),x()),s,u);u.getInitialState=()=>S;let E;const A=()=>{var D,j;if(!v)return;h=!1,p.forEach(z=>{var C;return z((C=s())!=null?C:S)});const $=((j=d.onRehydrateStorage)==null?void 0:j.call(d,(D=s())!=null?D:S))||void 0;return Np(v.getItem.bind(v))(d.name).then(z=>{if(z)if(typeof z.version=="number"&&z.version!==d.version){if(d.migrate){const C=d.migrate(z.state,z.version);return C instanceof Promise?C.then(P=>[!0,P]):[!0,C]}console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return[!1,z.state];return[!1,void 0]}).then(z=>{var C;const[P,B]=z;if(E=d.merge(B,(C=s())!=null?C:S),o(E,!0),P)return x()}).then(()=>{$?.(E,void 0),E=s(),h=!0,b.forEach(z=>z(E))}).catch(z=>{$?.(void 0,z)})};return u.persist={setOptions:D=>{d={...d,...D},D.storage&&(v=D.storage)},clearStorage:()=>{v?.removeItem(d.name)},getOptions:()=>d,rehydrate:()=>A(),hasHydrated:()=>h,onHydrate:D=>(p.add(D),()=>{p.delete(D)}),onFinishHydration:D=>(b.add(D),()=>{b.delete(D)})},d.skipHydration||A(),E||S},Kp=LT,Py={hiddenStem:"all",hiddenStemMode:"classic",ilunRule:"야자시",sinsalMode:"classic",sinsalBase:"일지",sinsalBloom:!1,exposure:"원국",charType:"한자",thinEum:!1,showSipSin:!0,showSibiSinsal:!0,showSibiUnseong:!0,theme:"dark",sectionOrder:["hiddenStem","hiddenStemMode","ilunRule","sinsalMode","sinsalBase","sinsalBloom","exposure","charType","thinEum","visibility"]},hr=Vp()(Kp((t,i)=>({settings:Py,setSettings:o=>t({settings:o}),setKey:(o,s)=>t({settings:{...i().settings,[o]:s}}),reset:()=>t({settings:Py})}),{name:"settings_v1"}));function Dp(t){const i=ui.indexOf(t);if(i!==-1)return ui[i];const o=dx.천간.indexOf(t);return o!==-1?ui[o]:t}function yx(t){const i=Yi.indexOf(t);if(i!==-1)return Yi[i];const o=dx.지지.indexOf(t);return o!==-1?Yi[o]:t}function zy(t,i){if(i?.difficultyMode)return i?.theme==="light"?"bg-white border border-gray-300 text-gray-800 text-black":"bg-white text-black";switch(t){case"목":return"bg-green-600";case"화":return"bg-red-600";case"토":return"bg-yellow-500";case"금":return"bg-gray-400";case"수":return"bg-black";default:return"bg-neutral-700"}}function fr(t,i,o){if(i==="stem"){const s=Dp(t),u=ui.indexOf(s),d=u>=0?hT[u]:void 0;return zy(d,o)}else{const s=yx(t),u=Yi.indexOf(s),d=u>=0?mT[u]:void 0;return zy(d,o)}}function Hn(t,i){const o=Dp(t);if(!o)throw new Error(`getSipSin: invalid dayStem ${t}`);if(i.stem){const s=Dp(i.stem);if(!s)throw new Error(`getSipSin: invalid stem ${i.stem}`);return gT[o][s]}if(i.branch){const s=yx(i.branch);if(!s)throw new Error(`getSipSin: invalid branch ${i.branch}`);return bT[o][s]}throw new Error("getSipSin: stem or branch required")}const BT={자:["임","(-)","계"],축:["계","신","기"],인:["무","병","갑"],묘:["갑","(-)","을"],진:["을","계","무"],사:["무","경","병"],오:["병","기","정"],미:["정","을","기"],신:["무","임","경"],유:["경","(-)","신"],술:["신","정","무"],해:["무","갑","임"]},RT={자:["(-)","(-)","계"],축:["계","신","기"],인:["(-)","병","갑"],묘:["(-)","(-)","을"],진:["을","계","무"],사:["(-)","경","병"],오:["(-)","(-)","정"],미:["정","을","기"],신:["(-)","임","경"],유:["(-)","(-)","신"],술:["신","정","무"],해:["(-)","갑","임"]};function mc({branch:t,dayStem:i,mode:o="all",mapping:s="classic",variant:u="auto"}){const d=(s==="hgc"?RT:BT)[t]??[],h=o==="main"?[d[2]]:d,p=u==="white",b=p?"text-white":"text-neutral-800 dark:text-white",v=p?"border-white":"border-neutral-800 dark: border-neutral-200",x=p?"text-yellow-900":"text-red-600 dark:text-yellow-300";return g.jsx("div",{className:"w-full flex flex-col gap-1 mt-1",children:h.map((w,S)=>w==="(-)"?g.jsx("div",{className:`w-full max-w-[80px] mx-auto text-[10px] desk:text-xs text-neutral-500 py-0.5 desk:px-1 border ${v} ${b} rounded text-center text-nowrap`,children:"(-) (없음)"},S):g.jsxs("div",{className:`w-full max-w-[80px] mx-auto text-[10px] desk:text-xs py-0.5 desk:px-1 border ${v} ${b} rounded text-center text-nowrap 
            ${o==="main"||S===2?`jeonggi bg-neutral-500/50 ${x} font-bold`:""}`,children:[w," (",Hn(i,{stem:w}),")"]},S))})}const Fp={甲:"갑",乙:"을",丙:"병",丁:"정",戊:"무",己:"기",庚:"경",辛:"신",壬:"임",癸:"계"},vx=Object.fromEntries(Object.entries(Fp).map(([t,i])=>[i,t])),Xp={子:"자",丑:"축",寅:"인",卯:"묘",辰:"진",巳:"사",午:"오",未:"미",申:"신",酉:"유",戌:"술",亥:"해"},_x=Object.fromEntries(Object.entries(Xp).map(([t,i])=>[i,t])),PT=["甲","乙","丙","丁","戊","己","庚","辛","壬","癸"],zT=["갑","을","병","정","무","기","경","신","임","계"],HT=["子","丑","寅","卯","辰","巳","午","未","申","酉","戌","亥"],$T=["자","축","인","묘","진","사","오","미","신","유","술","해"];function Hy(t){return zT.includes(t)}function $y(t){return $T.includes(t)}function IT(t){return PT.includes(t)}function UT(t){return HT.includes(t)}function Iy(t,i,o){return o==="한글"?i==="stem"?Fp[t]??t:Xp[t]??t:i==="stem"?vx[t]??t:_x[t]??t}function Uy(t){const i=vx[t]??t;return IT(i)?i:"갑"}function GT(t){const i=_x[t]??t;return UT(i)?i:"자"}function ZT(t){if(Hy(t))return t;const i=Fp[t]??t;return Hy(i)?i:"갑"}function YT(t){if($y(t))return t;const i=Xp[t]??t;return $y(i)?i:"자"}const qT=new Set(["乙","丁","己","辛","癸","을","정","기","신","계"]),VT=new Set(["丑","卯","巳","未","酉","亥","축","묘","사","미","유","해"]),KT=t=>qT.has(t),FT=t=>VT.has(t);function Ro({label:t,gz:i,dayStem:o,settings:s,unseongText:u,shinsalText:d,hideBranchSipSin:h=!0,hideHiddenStems:p=!1,size:b="sm",variant:v="auto"}){const x=i.charAt(0),w=i.charAt(1),S=Iy(x,"stem",s.charType),E=Iy(w,"branch",s.charType),A=Uy(x),D=GT(w),j=Uy(o),$=YT(w),z=ZT(o),C=s.showSipSin?Hn(j,{stem:A}):null,P=!h&&s.showSipSin?Hn(j,{branch:D}):null,B=s.thinEum&&KT(x)?"font-thin":"font-bold",V=s.thinEum&&FT(w)?"font-thin":"font-bold",J={sm:"w-10 h-10 sm:w-12 sm:h-12",md:"w-12 h-12 sm:w-14 sm:h-14 md:w-16 md:h-16",lg:"w-14 h-14 sm:w-16 sm:h-16 md:w-20 md:h-20"},Q=!p&&!!s.hiddenStem,nt=s.hiddenStem==="regular"?"main":"all",rt=s.hiddenStemMode==="hgc"?"hgc":"classic",K=v==="white",I=K?"bg-white text-neutral-900 border border-neutral-200":"bg-white dark:bg-neutral-900 text-neutral-900 dark:text-neutral-100 border border-neutral-200 dark:border-neutral-800",X=K?"bg-neutral-100 text-neutral-700":"bg-neutral-100 dark:bg-neutral-800/60 text-neutral-700 dark:text-neutral-200",ft=K?"border-neutral-200":"border-neutral-200 dark:border-neutral-800",gt=K?"text-neutral-500":"text-neutral-400",Z=K?"text-neutral-500":"text-neutral-400",{settings:lt}=hr(),F=K?`bg-white ${ft}`:`${fr(A,"stem",lt)} ${ft}`,G=lt.difficultyMode?lt.theme==="light"?"text-neutral-900":"text-black":"text-white",M=K?`bg-white ${ft}`:`${fr(D,"branch",lt)} ${ft}`,H=lt.difficultyMode?lt.theme==="light"?"text-neutral-900":"text-black":"text-white";return g.jsxs("div",{className:`rounded-sm desk:rounded-xl overflow-hidden ${I}`,children:[g.jsx("div",{className:`py-2 text-center text-[10px] desk:text-xs tracking-wider ${X} text-nowrap`,children:t}),g.jsxs("div",{className:"py-3 flex flex-col items-center gap-1",children:[C&&g.jsx("div",{className:`text-[10px] desk:text-xs ${gt} text-nowrap`,children:C}),g.jsx("div",{className:`${J[b]} rounded-sm desk:rounded-lg flex items-center justify-center border ${F}`,children:g.jsx("span",{className:`text-2xl md:text-3xl ${G} ${B}`,children:S})}),g.jsx("div",{className:`${J[b]} rounded-sm desk:rounded-lg flex items-center justify-center border ${M}`,children:g.jsx("span",{className:`text-2xl md:text-3xl ${H} ${V}`,children:E})}),Q&&g.jsx(mc,{branch:$,dayStem:z,mode:nt,mapping:rt}),P&&g.jsx("div",{className:`text-[10px] desk:text-xs ${Z}`,children:P}),s.showSibiUnseong&&!!u&&g.jsx("div",{className:`text-[10px] desk:text-xs ${Z} text-nowrap`,children:u}),s.showSibiSinsal&&!!d&&g.jsx("div",{className:`text-[10px] desk:text-xs ${Z} text-nowrap`,children:d})]})]})}const XT={甲:"갑",乙:"을",丙:"병",丁:"정",戊:"무",己:"기",庚:"경",辛:"신",壬:"임",癸:"계"},WT=["갑","을","병","정","무","기","경","신","임","계"],QT=new Set(WT),JT=new Set(["甲","乙","丙","丁","戊","己","庚","辛","壬","癸"]);function tE(t){return QT.has(t)?t:JT.has(t)?XT[t]:"갑"}function eE({label:t,settings:i,hideBranchSipSin:o=!0}){const s=i.showSipSin,u=!!i.hiddenStem,h=(i.hiddenStem==="regular"?"main":"all")==="main"?1:3,p=i.showSipSin&&!o;return g.jsxs("div",{className:"rounded-sm desk:rounded-xl bg-white dark:bg-neutral-900 border border-neutral-200 dark:border-neutral-800 overflow-hidden transition-colors",children:[g.jsx("div",{className:"py-2 text-center text-[10px] desk:text-xs tracking-wider bg-neutral-100 dark:bg-neutral-800/60 text-neutral-700 dark:text-neutral-200 text-nowrap",children:t}),g.jsxs("div",{className:"p-3 flex flex-col items-center gap-1",children:[s&&g.jsx("div",{className:"text-[10px] desk:text-xs text-neutral-500 dark:text-neutral-400 text-nowrap",children:"-"}),g.jsx("div",{className:"w-10 h-10 sm:w-12 sm:h-12 rounded-sm desk:rounded-lg flex items-center justify-center border border-neutral-200 dark:border-neutral-800 bg-white",children:g.jsx("span",{className:"text-2xl md:text-3xl font-bold text-neutral-900",children:"-"})}),g.jsx("div",{className:"w-10 h-10 sm:w-12 sm:h-12 rounded-sm desk:rounded-lg flex items-center justify-center border border-neutral-200 dark:border-neutral-800 bg-white",children:g.jsx("span",{className:"text-2xl md:text-3xl font-bold text-neutral-900",children:"-"})}),u&&g.jsx("div",{className:"flex flex-col gap-1 mt-1 w-full",children:Array.from({length:h}).map((b,v)=>g.jsx("div",{className:"w-full max-w-[80px] mx-auto text-[10px] desk:text-xs py-0.5 desk:px-1 border border-neutral-200 dark:border-neutral-800 rounded text-center text-nowrap text-neutral-500 dark:text-neutral-400",children:"-"},v))}),p&&g.jsx("div",{className:"text-[10px] desk:text-xs text-neutral-500 dark:text-neutral-400",children:"-"})]})]})}function nE(){const t=hr(A=>A.settings),[i,o]=R.useState(new Date),[s,u]=R.useState(!0),[d,h]=R.useState("조자시"),[p,b]=R.useState(!1);R.useEffect(()=>{if(!s)return;const A=setInterval(()=>o(new Date),1e3);return()=>clearInterval(A)},[s]);const v=De(i),x=an(i),w=Pe(i,d),S=Cr(i,"조자시"),E=tE(w.charAt(0));return g.jsx("div",{className:"flex justify-center items-center mt-12 w-full h-[calc(100dvh_-_112px)] ",children:g.jsxs("div",{className:`w-[96%] max-w-[640px] mx-auto mb-4 p-4
                      bg-white dark:bg-neutral-950
                      text-neutral-900 dark:text-neutral-100
                      rounded-xl shadow border border-neutral-200 dark:border-neutral-800 transition-colors`,children:[g.jsxs("header",{className:"flex flex-col desk:flex-row items-center justify-center desk:justify-between mb-4 gap-2",children:[g.jsxs("div",{className:"font-semibold text-sm desk:text-base",children:["오늘의 사주"," ",g.jsxs("span",{className:"text-neutral-500 dark:text-neutral-400",children:["(",s?"실시간":"수동선택",") ",aE(i)]})]}),g.jsxs("div",{className:"flex gap-2 items-center",children:[g.jsxs("select",{value:d,onChange:A=>h(A.target.value),className:`text-xs rounded px-2 py-1 h-30 cursor-pointer
                        bg-white dark:bg-neutral-900
                        border border-neutral-300 dark:border-neutral-700
                        text-neutral-900 dark:text-neutral-100
                        focus:outline-none focus:ring-2 focus:ring-amber-500/40`,children:[g.jsx("option",{value:"야자시",children:"야자시 (전날 23시)"}),g.jsx("option",{value:"조자시",children:"조자시 (자정)"}),g.jsx("option",{value:"인시",children:"인시 (새벽 3시)"})]}),g.jsx("button",{onClick:()=>u(!s),className:`text-xs px-3 py-1 rounded transition-colors cursor-pointer
                        bg-neutral-100 hover:bg-neutral-200
                        dark:bg-neutral-800 dark:hover:bg-neutral-700
                        text-neutral-900 dark:text-neutral-100
                        border border-neutral-200 dark:border-neutral-700`,children:s?"피커 사용":"타이머 사용"})]})]}),g.jsxs("div",{className:"grid grid-cols-4 gap-3 mb-6",children:[p?g.jsx(eE,{label:"시주",settings:t,hideBranchSipSin:!0}):g.jsx(Ro,{label:"시주",gz:S,dayStem:E,settings:t,hideBranchSipSin:!0}),g.jsx(Ro,{label:"일주",gz:w,dayStem:E,settings:t,hideBranchSipSin:!0}),g.jsx(Ro,{label:"월주",gz:x,dayStem:E,settings:t,hideBranchSipSin:!0}),g.jsx(Ro,{label:"연주",gz:v,dayStem:E,settings:t,hideBranchSipSin:!0})]}),g.jsxs("div",{className:"flex flex-col desk:flex-row gap-2 desk:gap-3 items-center",children:[g.jsx("label",{className:"text-sm text-neutral-600 dark:text-neutral-300",children:"날짜/시간 선택"}),g.jsx("input",{type:"datetime-local",value:rE(i),disabled:s,onChange:A=>{const D=iE(A.target.value);D&&o(D)},className:`rounded px-3 py-1 text-sm transition-colors
                        bg-white dark:bg-neutral-900
                        border border-neutral-300 dark:border-neutral-700
                        text-neutral-900 dark:text-neutral-100
                        focus:outline-none focus:ring-2 focus:ring-amber-500/40
                        ${s?"opacity-50 cursor-not-allowed":"cursor-pointer"}`,min:"1900-01-01T00:00",max:"2100-12-31T23:59"}),g.jsx("button",{onClick:()=>b(A=>!A),className:`text-xs px-3 py-1 rounded border transition-colors cursor-pointer
                        ${p?"bg-white text-neutral-900 border-neutral-300 hover:bg-neutral-100":"bg-neutral-100 text-neutral-900 border-neutral-200 hover:bg-neutral-200 dark:bg-neutral-800 dark:text-neutral-100 dark:border-neutral-700 dark:hover:bg-neutral-700"}`,title:"시주 글자를 비우고 박스를 흰색으로 표시합니다",children:p?"시주 표시":"시주 비우기"})]})]})})}function rE(t){const i=o=>o.toString().padStart(2,"0");return`${t.getFullYear()}-${i(t.getMonth()+1)}-${i(t.getDate())}T${i(t.getHours())}:${i(t.getMinutes())}`}function iE(t){if(!t)return null;const[i,o]=t.split("T");if(!i||!o)return null;const[s,u,d]=i.split("-").map(Number),[h,p]=o.split(":").map(Number),b=new Date(s,u-1,d,h,p);return Number.isNaN(b.getTime())?null:b}function aE(t){const i=o=>o.toString().padStart(2,"0");return`${i(t.getHours())}:${i(t.getMinutes())}:${i(t.getSeconds())}`}const xn=[];for(let t=0;t<256;++t)xn.push((t+256).toString(16).slice(1));function oE(t,i=0){return(xn[t[i+0]]+xn[t[i+1]]+xn[t[i+2]]+xn[t[i+3]]+"-"+xn[t[i+4]]+xn[t[i+5]]+"-"+xn[t[i+6]]+xn[t[i+7]]+"-"+xn[t[i+8]]+xn[t[i+9]]+"-"+xn[t[i+10]]+xn[t[i+11]]+xn[t[i+12]]+xn[t[i+13]]+xn[t[i+14]]+xn[t[i+15]]).toLowerCase()}let Cm;const sE=new Uint8Array(16);function lE(){if(!Cm){if(typeof crypto>"u"||!crypto.getRandomValues)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");Cm=crypto.getRandomValues.bind(crypto)}return Cm(sE)}const cE=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),Gy={randomUUID:cE};function xx(t,i,o){if(Gy.randomUUID&&!t)return Gy.randomUUID();t=t||{};const s=t.random??t.rng?.()??lE();if(s.length<16)throw new Error("Random bytes length must be >= 16");return s[6]=s[6]&15|64,s[8]=s[8]&63|128,oE(s)}var pc={exports:{}};/* @preserve
 * Leaflet 1.9.4, a JS library for interactive maps. https://leafletjs.com
 * (c) 2010-2023 Vladimir Agafonkin, (c) 2010-2011 CloudMade
 */var uE=pc.exports,Zy;function dE(){return Zy||(Zy=1,(function(t,i){(function(o,s){s(i)})(uE,(function(o){var s="1.9.4";function u(r){var l,f,_,T;for(f=1,_=arguments.length;f<_;f++){T=arguments[f];for(l in T)r[l]=T[l]}return r}var d=Object.create||(function(){function r(){}return function(l){return r.prototype=l,new r}})();function h(r,l){var f=Array.prototype.slice;if(r.bind)return r.bind.apply(r,f.call(arguments,1));var _=f.call(arguments,2);return function(){return r.apply(l,_.length?_.concat(f.call(arguments)):arguments)}}var p=0;function b(r){return"_leaflet_id"in r||(r._leaflet_id=++p),r._leaflet_id}function v(r,l,f){var _,T,k,Y;return Y=function(){_=!1,T&&(k.apply(f,T),T=!1)},k=function(){_?T=arguments:(r.apply(f,arguments),setTimeout(Y,l),_=!0)},k}function x(r,l,f){var _=l[1],T=l[0],k=_-T;return r===_&&f?r:((r-T)%k+k)%k+T}function w(){return!1}function S(r,l){if(l===!1)return r;var f=Math.pow(10,l===void 0?6:l);return Math.round(r*f)/f}function E(r){return r.trim?r.trim():r.replace(/^\s+|\s+$/g,"")}function A(r){return E(r).split(/\s+/)}function D(r,l){Object.prototype.hasOwnProperty.call(r,"options")||(r.options=r.options?d(r.options):{});for(var f in l)r.options[f]=l[f];return r.options}function j(r,l,f){var _=[];for(var T in r)_.push(encodeURIComponent(f?T.toUpperCase():T)+"="+encodeURIComponent(r[T]));return(!l||l.indexOf("?")===-1?"?":"&")+_.join("&")}var $=/\{ *([\w_ -]+) *\}/g;function z(r,l){return r.replace($,function(f,_){var T=l[_];if(T===void 0)throw new Error("No value provided for variable "+f);return typeof T=="function"&&(T=T(l)),T})}var C=Array.isArray||function(r){return Object.prototype.toString.call(r)==="[object Array]"};function P(r,l){for(var f=0;f<r.length;f++)if(r[f]===l)return f;return-1}var B="data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs=";function V(r){return window["webkit"+r]||window["moz"+r]||window["ms"+r]}var J=0;function Q(r){var l=+new Date,f=Math.max(0,16-(l-J));return J=l+f,window.setTimeout(r,f)}var nt=window.requestAnimationFrame||V("RequestAnimationFrame")||Q,rt=window.cancelAnimationFrame||V("CancelAnimationFrame")||V("CancelRequestAnimationFrame")||function(r){window.clearTimeout(r)};function K(r,l,f){if(f&&nt===Q)r.call(l);else return nt.call(window,h(r,l))}function I(r){r&&rt.call(window,r)}var X={__proto__:null,extend:u,create:d,bind:h,get lastId(){return p},stamp:b,throttle:v,wrapNum:x,falseFn:w,formatNum:S,trim:E,splitWords:A,setOptions:D,getParamString:j,template:z,isArray:C,indexOf:P,emptyImageUrl:B,requestFn:nt,cancelFn:rt,requestAnimFrame:K,cancelAnimFrame:I};function ft(){}ft.extend=function(r){var l=function(){D(this),this.initialize&&this.initialize.apply(this,arguments),this.callInitHooks()},f=l.__super__=this.prototype,_=d(f);_.constructor=l,l.prototype=_;for(var T in this)Object.prototype.hasOwnProperty.call(this,T)&&T!=="prototype"&&T!=="__super__"&&(l[T]=this[T]);return r.statics&&u(l,r.statics),r.includes&&(gt(r.includes),u.apply(null,[_].concat(r.includes))),u(_,r),delete _.statics,delete _.includes,_.options&&(_.options=f.options?d(f.options):{},u(_.options,r.options)),_._initHooks=[],_.callInitHooks=function(){if(!this._initHooksCalled){f.callInitHooks&&f.callInitHooks.call(this),this._initHooksCalled=!0;for(var k=0,Y=_._initHooks.length;k<Y;k++)_._initHooks[k].call(this)}},l},ft.include=function(r){var l=this.prototype.options;return u(this.prototype,r),r.options&&(this.prototype.options=l,this.mergeOptions(r.options)),this},ft.mergeOptions=function(r){return u(this.prototype.options,r),this},ft.addInitHook=function(r){var l=Array.prototype.slice.call(arguments,1),f=typeof r=="function"?r:function(){this[r].apply(this,l)};return this.prototype._initHooks=this.prototype._initHooks||[],this.prototype._initHooks.push(f),this};function gt(r){if(!(typeof L>"u"||!L||!L.Mixin)){r=C(r)?r:[r];for(var l=0;l<r.length;l++)r[l]===L.Mixin.Events&&console.warn("Deprecated include of L.Mixin.Events: this property will be removed in future releases, please inherit from L.Evented instead.",new Error().stack)}}var Z={on:function(r,l,f){if(typeof r=="object")for(var _ in r)this._on(_,r[_],l);else{r=A(r);for(var T=0,k=r.length;T<k;T++)this._on(r[T],l,f)}return this},off:function(r,l,f){if(!arguments.length)delete this._events;else if(typeof r=="object")for(var _ in r)this._off(_,r[_],l);else{r=A(r);for(var T=arguments.length===1,k=0,Y=r.length;k<Y;k++)T?this._off(r[k]):this._off(r[k],l,f)}return this},_on:function(r,l,f,_){if(typeof l!="function"){console.warn("wrong listener type: "+typeof l);return}if(this._listens(r,l,f)===!1){f===this&&(f=void 0);var T={fn:l,ctx:f};_&&(T.once=!0),this._events=this._events||{},this._events[r]=this._events[r]||[],this._events[r].push(T)}},_off:function(r,l,f){var _,T,k;if(this._events&&(_=this._events[r],!!_)){if(arguments.length===1){if(this._firingCount)for(T=0,k=_.length;T<k;T++)_[T].fn=w;delete this._events[r];return}if(typeof l!="function"){console.warn("wrong listener type: "+typeof l);return}var Y=this._listens(r,l,f);if(Y!==!1){var ot=_[Y];this._firingCount&&(ot.fn=w,this._events[r]=_=_.slice()),_.splice(Y,1)}}},fire:function(r,l,f){if(!this.listens(r,f))return this;var _=u({},l,{type:r,target:this,sourceTarget:l&&l.sourceTarget||this});if(this._events){var T=this._events[r];if(T){this._firingCount=this._firingCount+1||1;for(var k=0,Y=T.length;k<Y;k++){var ot=T[k],pt=ot.fn;ot.once&&this.off(r,pt,ot.ctx),pt.call(ot.ctx||this,_)}this._firingCount--}}return f&&this._propagateEvent(_),this},listens:function(r,l,f,_){typeof r!="string"&&console.warn('"string" type argument expected');var T=l;typeof l!="function"&&(_=!!l,T=void 0,f=void 0);var k=this._events&&this._events[r];if(k&&k.length&&this._listens(r,T,f)!==!1)return!0;if(_){for(var Y in this._eventParents)if(this._eventParents[Y].listens(r,l,f,_))return!0}return!1},_listens:function(r,l,f){if(!this._events)return!1;var _=this._events[r]||[];if(!l)return!!_.length;f===this&&(f=void 0);for(var T=0,k=_.length;T<k;T++)if(_[T].fn===l&&_[T].ctx===f)return T;return!1},once:function(r,l,f){if(typeof r=="object")for(var _ in r)this._on(_,r[_],l,!0);else{r=A(r);for(var T=0,k=r.length;T<k;T++)this._on(r[T],l,f,!0)}return this},addEventParent:function(r){return this._eventParents=this._eventParents||{},this._eventParents[b(r)]=r,this},removeEventParent:function(r){return this._eventParents&&delete this._eventParents[b(r)],this},_propagateEvent:function(r){for(var l in this._eventParents)this._eventParents[l].fire(r.type,u({layer:r.target,propagatedFrom:r.target},r),!0)}};Z.addEventListener=Z.on,Z.removeEventListener=Z.clearAllEventListeners=Z.off,Z.addOneTimeEventListener=Z.once,Z.fireEvent=Z.fire,Z.hasEventListeners=Z.listens;var lt=ft.extend(Z);function F(r,l,f){this.x=f?Math.round(r):r,this.y=f?Math.round(l):l}var G=Math.trunc||function(r){return r>0?Math.floor(r):Math.ceil(r)};F.prototype={clone:function(){return new F(this.x,this.y)},add:function(r){return this.clone()._add(M(r))},_add:function(r){return this.x+=r.x,this.y+=r.y,this},subtract:function(r){return this.clone()._subtract(M(r))},_subtract:function(r){return this.x-=r.x,this.y-=r.y,this},divideBy:function(r){return this.clone()._divideBy(r)},_divideBy:function(r){return this.x/=r,this.y/=r,this},multiplyBy:function(r){return this.clone()._multiplyBy(r)},_multiplyBy:function(r){return this.x*=r,this.y*=r,this},scaleBy:function(r){return new F(this.x*r.x,this.y*r.y)},unscaleBy:function(r){return new F(this.x/r.x,this.y/r.y)},round:function(){return this.clone()._round()},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},floor:function(){return this.clone()._floor()},_floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},ceil:function(){return this.clone()._ceil()},_ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},trunc:function(){return this.clone()._trunc()},_trunc:function(){return this.x=G(this.x),this.y=G(this.y),this},distanceTo:function(r){r=M(r);var l=r.x-this.x,f=r.y-this.y;return Math.sqrt(l*l+f*f)},equals:function(r){return r=M(r),r.x===this.x&&r.y===this.y},contains:function(r){return r=M(r),Math.abs(r.x)<=Math.abs(this.x)&&Math.abs(r.y)<=Math.abs(this.y)},toString:function(){return"Point("+S(this.x)+", "+S(this.y)+")"}};function M(r,l,f){return r instanceof F?r:C(r)?new F(r[0],r[1]):r==null?r:typeof r=="object"&&"x"in r&&"y"in r?new F(r.x,r.y):new F(r,l,f)}function H(r,l){if(r)for(var f=l?[r,l]:r,_=0,T=f.length;_<T;_++)this.extend(f[_])}H.prototype={extend:function(r){var l,f;if(!r)return this;if(r instanceof F||typeof r[0]=="number"||"x"in r)l=f=M(r);else if(r=U(r),l=r.min,f=r.max,!l||!f)return this;return!this.min&&!this.max?(this.min=l.clone(),this.max=f.clone()):(this.min.x=Math.min(l.x,this.min.x),this.max.x=Math.max(f.x,this.max.x),this.min.y=Math.min(l.y,this.min.y),this.max.y=Math.max(f.y,this.max.y)),this},getCenter:function(r){return M((this.min.x+this.max.x)/2,(this.min.y+this.max.y)/2,r)},getBottomLeft:function(){return M(this.min.x,this.max.y)},getTopRight:function(){return M(this.max.x,this.min.y)},getTopLeft:function(){return this.min},getBottomRight:function(){return this.max},getSize:function(){return this.max.subtract(this.min)},contains:function(r){var l,f;return typeof r[0]=="number"||r instanceof F?r=M(r):r=U(r),r instanceof H?(l=r.min,f=r.max):l=f=r,l.x>=this.min.x&&f.x<=this.max.x&&l.y>=this.min.y&&f.y<=this.max.y},intersects:function(r){r=U(r);var l=this.min,f=this.max,_=r.min,T=r.max,k=T.x>=l.x&&_.x<=f.x,Y=T.y>=l.y&&_.y<=f.y;return k&&Y},overlaps:function(r){r=U(r);var l=this.min,f=this.max,_=r.min,T=r.max,k=T.x>l.x&&_.x<f.x,Y=T.y>l.y&&_.y<f.y;return k&&Y},isValid:function(){return!!(this.min&&this.max)},pad:function(r){var l=this.min,f=this.max,_=Math.abs(l.x-f.x)*r,T=Math.abs(l.y-f.y)*r;return U(M(l.x-_,l.y-T),M(f.x+_,f.y+T))},equals:function(r){return r?(r=U(r),this.min.equals(r.getTopLeft())&&this.max.equals(r.getBottomRight())):!1}};function U(r,l){return!r||r instanceof H?r:new H(r,l)}function W(r,l){if(r)for(var f=l?[r,l]:r,_=0,T=f.length;_<T;_++)this.extend(f[_])}W.prototype={extend:function(r){var l=this._southWest,f=this._northEast,_,T;if(r instanceof ut)_=r,T=r;else if(r instanceof W){if(_=r._southWest,T=r._northEast,!_||!T)return this}else return r?this.extend(at(r)||et(r)):this;return!l&&!f?(this._southWest=new ut(_.lat,_.lng),this._northEast=new ut(T.lat,T.lng)):(l.lat=Math.min(_.lat,l.lat),l.lng=Math.min(_.lng,l.lng),f.lat=Math.max(T.lat,f.lat),f.lng=Math.max(T.lng,f.lng)),this},pad:function(r){var l=this._southWest,f=this._northEast,_=Math.abs(l.lat-f.lat)*r,T=Math.abs(l.lng-f.lng)*r;return new W(new ut(l.lat-_,l.lng-T),new ut(f.lat+_,f.lng+T))},getCenter:function(){return new ut((this._southWest.lat+this._northEast.lat)/2,(this._southWest.lng+this._northEast.lng)/2)},getSouthWest:function(){return this._southWest},getNorthEast:function(){return this._northEast},getNorthWest:function(){return new ut(this.getNorth(),this.getWest())},getSouthEast:function(){return new ut(this.getSouth(),this.getEast())},getWest:function(){return this._southWest.lng},getSouth:function(){return this._southWest.lat},getEast:function(){return this._northEast.lng},getNorth:function(){return this._northEast.lat},contains:function(r){typeof r[0]=="number"||r instanceof ut||"lat"in r?r=at(r):r=et(r);var l=this._southWest,f=this._northEast,_,T;return r instanceof W?(_=r.getSouthWest(),T=r.getNorthEast()):_=T=r,_.lat>=l.lat&&T.lat<=f.lat&&_.lng>=l.lng&&T.lng<=f.lng},intersects:function(r){r=et(r);var l=this._southWest,f=this._northEast,_=r.getSouthWest(),T=r.getNorthEast(),k=T.lat>=l.lat&&_.lat<=f.lat,Y=T.lng>=l.lng&&_.lng<=f.lng;return k&&Y},overlaps:function(r){r=et(r);var l=this._southWest,f=this._northEast,_=r.getSouthWest(),T=r.getNorthEast(),k=T.lat>l.lat&&_.lat<f.lat,Y=T.lng>l.lng&&_.lng<f.lng;return k&&Y},toBBoxString:function(){return[this.getWest(),this.getSouth(),this.getEast(),this.getNorth()].join(",")},equals:function(r,l){return r?(r=et(r),this._southWest.equals(r.getSouthWest(),l)&&this._northEast.equals(r.getNorthEast(),l)):!1},isValid:function(){return!!(this._southWest&&this._northEast)}};function et(r,l){return r instanceof W?r:new W(r,l)}function ut(r,l,f){if(isNaN(r)||isNaN(l))throw new Error("Invalid LatLng object: ("+r+", "+l+")");this.lat=+r,this.lng=+l,f!==void 0&&(this.alt=+f)}ut.prototype={equals:function(r,l){if(!r)return!1;r=at(r);var f=Math.max(Math.abs(this.lat-r.lat),Math.abs(this.lng-r.lng));return f<=(l===void 0?1e-9:l)},toString:function(r){return"LatLng("+S(this.lat,r)+", "+S(this.lng,r)+")"},distanceTo:function(r){return vt.distance(this,at(r))},wrap:function(){return vt.wrapLatLng(this)},toBounds:function(r){var l=180*r/40075017,f=l/Math.cos(Math.PI/180*this.lat);return et([this.lat-l,this.lng-f],[this.lat+l,this.lng+f])},clone:function(){return new ut(this.lat,this.lng,this.alt)}};function at(r,l,f){return r instanceof ut?r:C(r)&&typeof r[0]!="object"?r.length===3?new ut(r[0],r[1],r[2]):r.length===2?new ut(r[0],r[1]):null:r==null?r:typeof r=="object"&&"lat"in r?new ut(r.lat,"lng"in r?r.lng:r.lon,r.alt):l===void 0?null:new ut(r,l,f)}var wt={latLngToPoint:function(r,l){var f=this.projection.project(r),_=this.scale(l);return this.transformation._transform(f,_)},pointToLatLng:function(r,l){var f=this.scale(l),_=this.transformation.untransform(r,f);return this.projection.unproject(_)},project:function(r){return this.projection.project(r)},unproject:function(r){return this.projection.unproject(r)},scale:function(r){return 256*Math.pow(2,r)},zoom:function(r){return Math.log(r/256)/Math.LN2},getProjectedBounds:function(r){if(this.infinite)return null;var l=this.projection.bounds,f=this.scale(r),_=this.transformation.transform(l.min,f),T=this.transformation.transform(l.max,f);return new H(_,T)},infinite:!1,wrapLatLng:function(r){var l=this.wrapLng?x(r.lng,this.wrapLng,!0):r.lng,f=this.wrapLat?x(r.lat,this.wrapLat,!0):r.lat,_=r.alt;return new ut(f,l,_)},wrapLatLngBounds:function(r){var l=r.getCenter(),f=this.wrapLatLng(l),_=l.lat-f.lat,T=l.lng-f.lng;if(_===0&&T===0)return r;var k=r.getSouthWest(),Y=r.getNorthEast(),ot=new ut(k.lat-_,k.lng-T),pt=new ut(Y.lat-_,Y.lng-T);return new W(ot,pt)}},vt=u({},wt,{wrapLng:[-180,180],R:6371e3,distance:function(r,l){var f=Math.PI/180,_=r.lat*f,T=l.lat*f,k=Math.sin((l.lat-r.lat)*f/2),Y=Math.sin((l.lng-r.lng)*f/2),ot=k*k+Math.cos(_)*Math.cos(T)*Y*Y,pt=2*Math.atan2(Math.sqrt(ot),Math.sqrt(1-ot));return this.R*pt}}),Dt=6378137,$t={R:Dt,MAX_LATITUDE:85.0511287798,project:function(r){var l=Math.PI/180,f=this.MAX_LATITUDE,_=Math.max(Math.min(f,r.lat),-f),T=Math.sin(_*l);return new F(this.R*r.lng*l,this.R*Math.log((1+T)/(1-T))/2)},unproject:function(r){var l=180/Math.PI;return new ut((2*Math.atan(Math.exp(r.y/this.R))-Math.PI/2)*l,r.x*l/this.R)},bounds:(function(){var r=Dt*Math.PI;return new H([-r,-r],[r,r])})()};function Vt(r,l,f,_){if(C(r)){this._a=r[0],this._b=r[1],this._c=r[2],this._d=r[3];return}this._a=r,this._b=l,this._c=f,this._d=_}Vt.prototype={transform:function(r,l){return this._transform(r.clone(),l)},_transform:function(r,l){return l=l||1,r.x=l*(this._a*r.x+this._b),r.y=l*(this._c*r.y+this._d),r},untransform:function(r,l){return l=l||1,new F((r.x/l-this._b)/this._a,(r.y/l-this._d)/this._c)}};function Yt(r,l,f,_){return new Vt(r,l,f,_)}var ne=u({},vt,{code:"EPSG:3857",projection:$t,transformation:(function(){var r=.5/(Math.PI*$t.R);return Yt(r,.5,-r,.5)})()}),$e=u({},ne,{code:"EPSG:900913"});function Ae(r){return document.createElementNS("http://www.w3.org/2000/svg",r)}function Ve(r,l){var f="",_,T,k,Y,ot,pt;for(_=0,k=r.length;_<k;_++){for(ot=r[_],T=0,Y=ot.length;T<Y;T++)pt=ot[T],f+=(T?"L":"M")+pt.x+" "+pt.y;f+=l?Lt.svg?"z":"x":""}return f||"M0 0"}var ve=document.documentElement.style,At="ActiveXObject"in window,bt=At&&!document.addEventListener,Nt="msLaunchUri"in navigator&&!("documentMode"in document),dt=Gn("webkit"),zt=Gn("android"),Qt=Gn("android 2")||Gn("android 3"),Gt=parseInt(/WebKit\/([0-9]+)|$/.exec(navigator.userAgent)[1],10),Ot=zt&&Gn("Google")&&Gt<537&&!("AudioNode"in window),ce=!!window.opera,_e=!Nt&&Gn("chrome"),Ze=Gn("gecko")&&!dt&&!ce&&!At,je=!_e&&Gn("safari"),fi=Gn("phantom"),Kr="OTransition"in ve,Xi=navigator.platform.indexOf("Win")===0,Lr=At&&"transition"in ve,$n="WebKitCSSMatrix"in window&&"m11"in new window.WebKitCSSMatrix&&!Qt,mn="MozPerspective"in ve,Br=!window.L_DISABLE_3D&&(Lr||$n||mn)&&!Kr&&!fi,In=typeof orientation<"u"||Gn("mobile"),Js=In&&dt,Wa=In&&$n,Rr=!window.PointerEvent&&window.MSPointerEvent,Un=!!(window.PointerEvent||Rr),hi="ontouchstart"in window||!!window.TouchEvent,tl=!window.L_NO_TOUCH&&(hi||Un),Qa=In&&ce,$c=In&&Ze,el=(window.devicePixelRatio||window.screen.deviceXDPI/window.screen.logicalXDPI)>1,nl=(function(){var r=!1;try{var l=Object.defineProperty({},"passive",{get:function(){r=!0}});window.addEventListener("testPassiveEventSupport",w,l),window.removeEventListener("testPassiveEventSupport",w,l)}catch{}return r})(),Ic=(function(){return!!document.createElement("canvas").getContext})(),rl=!!(document.createElementNS&&Ae("svg").createSVGRect),Fr=!!rl&&(function(){var r=document.createElement("div");return r.innerHTML="<svg/>",(r.firstChild&&r.firstChild.namespaceURI)==="http://www.w3.org/2000/svg"})(),on=!rl&&(function(){try{var r=document.createElement("div");r.innerHTML='<v:shape adj="1"/>';var l=r.firstChild;return l.style.behavior="url(#default#VML)",l&&typeof l.adj=="object"}catch{return!1}})(),Tn=navigator.platform.indexOf("Mac")===0,Wi=navigator.platform.indexOf("Linux")===0;function Gn(r){return navigator.userAgent.toLowerCase().indexOf(r)>=0}var Lt={ie:At,ielt9:bt,edge:Nt,webkit:dt,android:zt,android23:Qt,androidStock:Ot,opera:ce,chrome:_e,gecko:Ze,safari:je,phantom:fi,opera12:Kr,win:Xi,ie3d:Lr,webkit3d:$n,gecko3d:mn,any3d:Br,mobile:In,mobileWebkit:Js,mobileWebkit3d:Wa,msPointer:Rr,pointer:Un,touch:tl,touchNative:hi,mobileOpera:Qa,mobileGecko:$c,retina:el,passiveEvents:nl,canvas:Ic,svg:rl,vml:on,inlineSvg:Fr,mac:Tn,linux:Wi},Uc=Lt.msPointer?"MSPointerDown":"pointerdown",il=Lt.msPointer?"MSPointerMove":"pointermove",Qi=Lt.msPointer?"MSPointerUp":"pointerup",$o=Lt.msPointer?"MSPointerCancel":"pointercancel",Xr={touchstart:Uc,touchmove:il,touchend:Qi,touchcancel:$o},mi={touchstart:Yc,touchmove:Ja,touchend:Ja,touchcancel:Ja},mr={},pi=!1;function Ke(r,l,f){return l==="touchstart"&&Bf(),mi[l]?(f=mi[l].bind(this,f),r.addEventListener(Xr[l],f,!1),f):(console.warn("wrong event specified:",l),w)}function Gc(r,l,f){if(!Xr[l]){console.warn("wrong event specified:",l);return}r.removeEventListener(Xr[l],f,!1)}function Zc(r){mr[r.pointerId]=r}function gi(r){mr[r.pointerId]&&(mr[r.pointerId]=r)}function bi(r){delete mr[r.pointerId]}function Bf(){pi||(document.addEventListener(Uc,Zc,!0),document.addEventListener(il,gi,!0),document.addEventListener(Qi,bi,!0),document.addEventListener($o,bi,!0),pi=!0)}function Ja(r,l){if(l.pointerType!==(l.MSPOINTER_TYPE_MOUSE||"mouse")){l.touches=[];for(var f in mr)l.touches.push(mr[f]);l.changedTouches=[l],r(l)}}function Yc(r,l){l.MSPOINTER_TYPE_TOUCH&&l.pointerType===l.MSPOINTER_TYPE_TOUCH&&Ie(l),Ja(r,l)}function Rf(r){var l={},f,_;for(_ in r)f=r[_],l[_]=f&&f.bind?f.bind(r):f;return r=l,l.type="dblclick",l.detail=2,l.isTrusted=!1,l._simulated=!0,l}var Io=200;function Uo(r,l){r.addEventListener("dblclick",l);var f=0,_;function T(k){if(k.detail!==1){_=k.detail;return}if(!(k.pointerType==="mouse"||k.sourceCapabilities&&!k.sourceCapabilities.firesTouchEvents)){var Y=sl(k);if(!(Y.some(function(pt){return pt instanceof HTMLLabelElement&&pt.attributes.for})&&!Y.some(function(pt){return pt instanceof HTMLInputElement||pt instanceof HTMLSelectElement}))){var ot=Date.now();ot-f<=Io?(_++,_===2&&l(Rf(k))):_=1,f=ot}}}return r.addEventListener("click",T),{dblclick:l,simDblclick:T}}function Pr(r,l){r.removeEventListener("dblclick",l.dblclick),r.removeEventListener("click",l.simDblclick)}var to=na(["transform","webkitTransform","OTransform","MozTransform","msTransform"]),Ji=na(["webkitTransition","transition","OTransition","MozTransition","msTransition"]),yi=Ji==="webkitTransition"||Ji==="OTransition"?Ji+"End":"transitionend";function Go(r){return typeof r=="string"?document.getElementById(r):r}function vi(r,l){var f=r.style[l]||r.currentStyle&&r.currentStyle[l];if((!f||f==="auto")&&document.defaultView){var _=document.defaultView.getComputedStyle(r,null);f=_?_[l]:null}return f==="auto"?null:f}function re(r,l,f){var _=document.createElement(r);return _.className=l||"",f&&f.appendChild(_),_}function xe(r){var l=r.parentNode;l&&l.removeChild(r)}function pn(r){for(;r.firstChild;)r.removeChild(r.firstChild)}function _i(r){var l=r.parentNode;l&&l.lastChild!==r&&l.appendChild(r)}function ta(r){var l=r.parentNode;l&&l.firstChild!==r&&l.insertBefore(r,l.firstChild)}function ea(r,l){if(r.classList!==void 0)return r.classList.contains(l);var f=gn(r);return f.length>0&&new RegExp("(^|\\s)"+l+"(\\s|$)").test(f)}function qt(r,l){if(r.classList!==void 0)for(var f=A(l),_=0,T=f.length;_<T;_++)r.classList.add(f[_]);else if(!ea(r,l)){var k=gn(r);al(r,(k?k+" ":"")+l)}}function Se(r,l){r.classList!==void 0?r.classList.remove(l):al(r,E((" "+gn(r)+" ").replace(" "+l+" "," ")))}function al(r,l){r.className.baseVal===void 0?r.className=l:r.className.baseVal=l}function gn(r){return r.correspondingElement&&(r=r.correspondingElement),r.className.baseVal===void 0?r.className:r.className.baseVal}function En(r,l){"opacity"in r.style?r.style.opacity=l:"filter"in r.style&&qc(r,l)}function qc(r,l){var f=!1,_="DXImageTransform.Microsoft.Alpha";try{f=r.filters.item(_)}catch{if(l===1)return}l=Math.round(l*100),f?(f.Enabled=l!==100,f.Opacity=l):r.style.filter+=" progid:"+_+"(opacity="+l+")"}function na(r){for(var l=document.documentElement.style,f=0;f<r.length;f++)if(r[f]in l)return r[f];return!1}function Zn(r,l,f){var _=l||new F(0,0);r.style[to]=(Lt.ie3d?"translate("+_.x+"px,"+_.y+"px)":"translate3d("+_.x+"px,"+_.y+"px,0)")+(f?" scale("+f+")":"")}function Le(r,l){r._leaflet_pos=l,Lt.any3d?Zn(r,l):(r.style.left=l.x+"px",r.style.top=l.y+"px")}function Wr(r){return r._leaflet_pos||new F(0,0)}var pr,eo,Zo;if("onselectstart"in document)pr=function(){Zt(window,"selectstart",Ie)},eo=function(){se(window,"selectstart",Ie)};else{var ra=na(["userSelect","WebkitUserSelect","OUserSelect","MozUserSelect","msUserSelect"]);pr=function(){if(ra){var r=document.documentElement.style;Zo=r[ra],r[ra]="none"}},eo=function(){ra&&(document.documentElement.style[ra]=Zo,Zo=void 0)}}function no(){Zt(window,"dragstart",Ie)}function ol(){se(window,"dragstart",Ie)}var Yo,ia;function ro(r){for(;r.tabIndex===-1;)r=r.parentNode;r.style&&(aa(),Yo=r,ia=r.style.outlineStyle,r.style.outlineStyle="none",Zt(window,"keydown",aa))}function aa(){Yo&&(Yo.style.outlineStyle=ia,Yo=void 0,ia=void 0,se(window,"keydown",aa))}function xi(r){do r=r.parentNode;while((!r.offsetWidth||!r.offsetHeight)&&r!==document.body);return r}function Qr(r){var l=r.getBoundingClientRect();return{x:l.width/r.offsetWidth||1,y:l.height/r.offsetHeight||1,boundingClientRect:l}}var Vc={__proto__:null,TRANSFORM:to,TRANSITION:Ji,TRANSITION_END:yi,get:Go,getStyle:vi,create:re,remove:xe,empty:pn,toFront:_i,toBack:ta,hasClass:ea,addClass:qt,removeClass:Se,setClass:al,getClass:gn,setOpacity:En,testProp:na,setTransform:Zn,setPosition:Le,getPosition:Wr,get disableTextSelection(){return pr},get enableTextSelection(){return eo},disableImageDrag:no,enableImageDrag:ol,preventOutline:ro,restoreOutline:aa,getSizedParentNode:xi,getScale:Qr};function Zt(r,l,f,_){if(l&&typeof l=="object")for(var T in l)Si(r,T,l[T],f);else{l=A(l);for(var k=0,Y=l.length;k<Y;k++)Si(r,l[k],f,_)}return this}var Xn="_leaflet_events";function se(r,l,f,_){if(arguments.length===1)gr(r),delete r[Xn];else if(l&&typeof l=="object")for(var T in l)br(r,T,l[T],f);else if(l=A(l),arguments.length===2)gr(r,function(ot){return P(l,ot)!==-1});else for(var k=0,Y=l.length;k<Y;k++)br(r,l[k],f,_);return this}function gr(r,l){for(var f in r[Xn]){var _=f.split(/\d/)[0];(!l||l(_))&&br(r,_,null,null,f)}}var io={mouseenter:"mouseover",mouseleave:"mouseout",wheel:!("onwheel"in window)&&"mousewheel"};function Si(r,l,f,_){var T=l+b(f)+(_?"_"+b(_):"");if(r[Xn]&&r[Xn][T])return this;var k=function(ot){return f.call(_||r,ot||window.event)},Y=k;!Lt.touchNative&&Lt.pointer&&l.indexOf("touch")===0?k=Ke(r,l,k):Lt.touch&&l==="dblclick"?k=Uo(r,k):"addEventListener"in r?l==="touchstart"||l==="touchmove"||l==="wheel"||l==="mousewheel"?r.addEventListener(io[l]||l,k,Lt.passiveEvents?{passive:!1}:!1):l==="mouseenter"||l==="mouseleave"?(k=function(ot){ot=ot||window.event,Ti(r,ot)&&Y(ot)},r.addEventListener(io[l],k,!1)):r.addEventListener(l,Y,!1):r.attachEvent("on"+l,k),r[Xn]=r[Xn]||{},r[Xn][T]=k}function br(r,l,f,_,T){T=T||l+b(f)+(_?"_"+b(_):"");var k=r[Xn]&&r[Xn][T];if(!k)return this;!Lt.touchNative&&Lt.pointer&&l.indexOf("touch")===0?Gc(r,l,k):Lt.touch&&l==="dblclick"?Pr(r,k):"removeEventListener"in r?r.removeEventListener(io[l]||l,k,!1):r.detachEvent("on"+l,k),r[Xn][T]=null}function zr(r){return r.stopPropagation?r.stopPropagation():r.originalEvent?r.originalEvent._stopped=!0:r.cancelBubble=!0,this}function oa(r){return Si(r,"wheel",zr),this}function sa(r){return Zt(r,"mousedown touchstart dblclick contextmenu",zr),r._leaflet_disable_click=!0,this}function Ie(r){return r.preventDefault?r.preventDefault():r.returnValue=!1,this}function yr(r){return Ie(r),zr(r),this}function sl(r){if(r.composedPath)return r.composedPath();for(var l=[],f=r.target;f;)l.push(f),f=f.parentNode;return l}function bn(r,l){if(!l)return new F(r.clientX,r.clientY);var f=Qr(l),_=f.boundingClientRect;return new F((r.clientX-_.left)/f.x-l.clientLeft,(r.clientY-_.top)/f.y-l.clientTop)}var wi=Lt.linux&&Lt.chrome?window.devicePixelRatio:Lt.mac?window.devicePixelRatio*3:window.devicePixelRatio>0?2*window.devicePixelRatio:1;function ao(r){return Lt.edge?r.wheelDeltaY/2:r.deltaY&&r.deltaMode===0?-r.deltaY/wi:r.deltaY&&r.deltaMode===1?-r.deltaY*20:r.deltaY&&r.deltaMode===2?-r.deltaY*60:r.deltaX||r.deltaZ?0:r.wheelDelta?(r.wheelDeltaY||r.wheelDelta)/2:r.detail&&Math.abs(r.detail)<32765?-r.detail*20:r.detail?r.detail/-32765*60:0}function Ti(r,l){var f=l.relatedTarget;if(!f)return!0;try{for(;f&&f!==r;)f=f.parentNode}catch{return!1}return f!==r}var Pf={__proto__:null,on:Zt,off:se,stopPropagation:zr,disableScrollPropagation:oa,disableClickPropagation:sa,preventDefault:Ie,stop:yr,getPropagationPath:sl,getMousePosition:bn,getWheelDelta:ao,isExternalTarget:Ti,addListener:Zt,removeListener:se},qo=lt.extend({run:function(r,l,f,_){this.stop(),this._el=r,this._inProgress=!0,this._duration=f||.25,this._easeOutPower=1/Math.max(_||.5,.2),this._startPos=Wr(r),this._offset=l.subtract(this._startPos),this._startTime=+new Date,this.fire("start"),this._animate()},stop:function(){this._inProgress&&(this._step(!0),this._complete())},_animate:function(){this._animId=K(this._animate,this),this._step()},_step:function(r){var l=+new Date-this._startTime,f=this._duration*1e3;l<f?this._runFrame(this._easeOut(l/f),r):(this._runFrame(1),this._complete())},_runFrame:function(r,l){var f=this._startPos.add(this._offset.multiplyBy(r));l&&f._round(),Le(this._el,f),this.fire("step")},_complete:function(){I(this._animId),this._inProgress=!1,this.fire("end")},_easeOut:function(r){return 1-Math.pow(1-r,this._easeOutPower)}}),Xt=lt.extend({options:{crs:ne,center:void 0,zoom:void 0,minZoom:void 0,maxZoom:void 0,layers:[],maxBounds:void 0,renderer:void 0,zoomAnimation:!0,zoomAnimationThreshold:4,fadeAnimation:!0,markerZoomAnimation:!0,transform3DLimit:8388608,zoomSnap:1,zoomDelta:1,trackResize:!0},initialize:function(r,l){l=D(this,l),this._handlers=[],this._layers={},this._zoomBoundLayers={},this._sizeChanged=!0,this._initContainer(r),this._initLayout(),this._onResize=h(this._onResize,this),this._initEvents(),l.maxBounds&&this.setMaxBounds(l.maxBounds),l.zoom!==void 0&&(this._zoom=this._limitZoom(l.zoom)),l.center&&l.zoom!==void 0&&this.setView(at(l.center),l.zoom,{reset:!0}),this.callInitHooks(),this._zoomAnimated=Ji&&Lt.any3d&&!Lt.mobileOpera&&this.options.zoomAnimation,this._zoomAnimated&&(this._createAnimProxy(),Zt(this._proxy,yi,this._catchTransitionEnd,this)),this._addLayers(this.options.layers)},setView:function(r,l,f){if(l=l===void 0?this._zoom:this._limitZoom(l),r=this._limitCenter(at(r),l,this.options.maxBounds),f=f||{},this._stop(),this._loaded&&!f.reset&&f!==!0){f.animate!==void 0&&(f.zoom=u({animate:f.animate},f.zoom),f.pan=u({animate:f.animate,duration:f.duration},f.pan));var _=this._zoom!==l?this._tryAnimatedZoom&&this._tryAnimatedZoom(r,l,f.zoom):this._tryAnimatedPan(r,f.pan);if(_)return clearTimeout(this._sizeTimer),this}return this._resetView(r,l,f.pan&&f.pan.noMoveStart),this},setZoom:function(r,l){return this._loaded?this.setView(this.getCenter(),r,{zoom:l}):(this._zoom=r,this)},zoomIn:function(r,l){return r=r||(Lt.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom+r,l)},zoomOut:function(r,l){return r=r||(Lt.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom-r,l)},setZoomAround:function(r,l,f){var _=this.getZoomScale(l),T=this.getSize().divideBy(2),k=r instanceof F?r:this.latLngToContainerPoint(r),Y=k.subtract(T).multiplyBy(1-1/_),ot=this.containerPointToLatLng(T.add(Y));return this.setView(ot,l,{zoom:f})},_getBoundsCenterZoom:function(r,l){l=l||{},r=r.getBounds?r.getBounds():et(r);var f=M(l.paddingTopLeft||l.padding||[0,0]),_=M(l.paddingBottomRight||l.padding||[0,0]),T=this.getBoundsZoom(r,!1,f.add(_));if(T=typeof l.maxZoom=="number"?Math.min(l.maxZoom,T):T,T===1/0)return{center:r.getCenter(),zoom:T};var k=_.subtract(f).divideBy(2),Y=this.project(r.getSouthWest(),T),ot=this.project(r.getNorthEast(),T),pt=this.unproject(Y.add(ot).divideBy(2).add(k),T);return{center:pt,zoom:T}},fitBounds:function(r,l){if(r=et(r),!r.isValid())throw new Error("Bounds are not valid.");var f=this._getBoundsCenterZoom(r,l);return this.setView(f.center,f.zoom,l)},fitWorld:function(r){return this.fitBounds([[-90,-180],[90,180]],r)},panTo:function(r,l){return this.setView(r,this._zoom,{pan:l})},panBy:function(r,l){if(r=M(r).round(),l=l||{},!r.x&&!r.y)return this.fire("moveend");if(l.animate!==!0&&!this.getSize().contains(r))return this._resetView(this.unproject(this.project(this.getCenter()).add(r)),this.getZoom()),this;if(this._panAnim||(this._panAnim=new qo,this._panAnim.on({step:this._onPanTransitionStep,end:this._onPanTransitionEnd},this)),l.noMoveStart||this.fire("movestart"),l.animate!==!1){qt(this._mapPane,"leaflet-pan-anim");var f=this._getMapPanePos().subtract(r).round();this._panAnim.run(this._mapPane,f,l.duration||.25,l.easeLinearity)}else this._rawPanBy(r),this.fire("move").fire("moveend");return this},flyTo:function(r,l,f){if(f=f||{},f.animate===!1||!Lt.any3d)return this.setView(r,l,f);this._stop();var _=this.project(this.getCenter()),T=this.project(r),k=this.getSize(),Y=this._zoom;r=at(r),l=l===void 0?Y:l;var ot=Math.max(k.x,k.y),pt=ot*this.getZoomScale(Y,l),St=T.distanceTo(_)||1,Mt=1.42,jt=Mt*Mt;function Ct(ke){var xr=ke?-1:1,Ir=ke?pt:ot,ri=pt*pt-ot*ot+xr*jt*jt*St*St,Ur=2*Ir*jt*St,vo=ri/Ur,as=Math.sqrt(vo*vo+1)-vo,_o=as<1e-9?-18:Math.log(as);return _o}function Ut(ke){return(Math.exp(ke)-Math.exp(-ke))/2}function we(ke){return(Math.exp(ke)+Math.exp(-ke))/2}function Be(ke){return Ut(ke)/we(ke)}var ln=Ct(0);function Yn(ke){return ot*(we(ln)/we(ln+Mt*ke))}function fu(ke){return ot*(we(ln)*Be(ln+Mt*ke)-Ut(ln))/jt}function hu(ke){return 1-Math.pow(1-ke,1.5)}var yo=Date.now(),va=(Ct(1)-ln)/Mt,mu=f.duration?1e3*f.duration:1e3*va*.8;function _a(){var ke=(Date.now()-yo)/mu,xr=hu(ke)*va;ke<=1?(this._flyToFrame=K(_a,this),this._move(this.unproject(_.add(T.subtract(_).multiplyBy(fu(xr)/St)),Y),this.getScaleZoom(ot/Yn(xr),Y),{flyTo:!0})):this._move(r,l)._moveEnd(!0)}return this._moveStart(!0,f.noMoveStart),_a.call(this),this},flyToBounds:function(r,l){var f=this._getBoundsCenterZoom(r,l);return this.flyTo(f.center,f.zoom,l)},setMaxBounds:function(r){return r=et(r),this.listens("moveend",this._panInsideMaxBounds)&&this.off("moveend",this._panInsideMaxBounds),r.isValid()?(this.options.maxBounds=r,this._loaded&&this._panInsideMaxBounds(),this.on("moveend",this._panInsideMaxBounds)):(this.options.maxBounds=null,this)},setMinZoom:function(r){var l=this.options.minZoom;return this.options.minZoom=r,this._loaded&&l!==r&&(this.fire("zoomlevelschange"),this.getZoom()<this.options.minZoom)?this.setZoom(r):this},setMaxZoom:function(r){var l=this.options.maxZoom;return this.options.maxZoom=r,this._loaded&&l!==r&&(this.fire("zoomlevelschange"),this.getZoom()>this.options.maxZoom)?this.setZoom(r):this},panInsideBounds:function(r,l){this._enforcingBounds=!0;var f=this.getCenter(),_=this._limitCenter(f,this._zoom,et(r));return f.equals(_)||this.panTo(_,l),this._enforcingBounds=!1,this},panInside:function(r,l){l=l||{};var f=M(l.paddingTopLeft||l.padding||[0,0]),_=M(l.paddingBottomRight||l.padding||[0,0]),T=this.project(this.getCenter()),k=this.project(r),Y=this.getPixelBounds(),ot=U([Y.min.add(f),Y.max.subtract(_)]),pt=ot.getSize();if(!ot.contains(k)){this._enforcingBounds=!0;var St=k.subtract(ot.getCenter()),Mt=ot.extend(k).getSize().subtract(pt);T.x+=St.x<0?-Mt.x:Mt.x,T.y+=St.y<0?-Mt.y:Mt.y,this.panTo(this.unproject(T),l),this._enforcingBounds=!1}return this},invalidateSize:function(r){if(!this._loaded)return this;r=u({animate:!1,pan:!0},r===!0?{animate:!0}:r);var l=this.getSize();this._sizeChanged=!0,this._lastCenter=null;var f=this.getSize(),_=l.divideBy(2).round(),T=f.divideBy(2).round(),k=_.subtract(T);return!k.x&&!k.y?this:(r.animate&&r.pan?this.panBy(k):(r.pan&&this._rawPanBy(k),this.fire("move"),r.debounceMoveend?(clearTimeout(this._sizeTimer),this._sizeTimer=setTimeout(h(this.fire,this,"moveend"),200)):this.fire("moveend")),this.fire("resize",{oldSize:l,newSize:f}))},stop:function(){return this.setZoom(this._limitZoom(this._zoom)),this.options.zoomSnap||this.fire("viewreset"),this._stop()},locate:function(r){if(r=this._locateOptions=u({timeout:1e4,watch:!1},r),!("geolocation"in navigator))return this._handleGeolocationError({code:0,message:"Geolocation not supported."}),this;var l=h(this._handleGeolocationResponse,this),f=h(this._handleGeolocationError,this);return r.watch?this._locationWatchId=navigator.geolocation.watchPosition(l,f,r):navigator.geolocation.getCurrentPosition(l,f,r),this},stopLocate:function(){return navigator.geolocation&&navigator.geolocation.clearWatch&&navigator.geolocation.clearWatch(this._locationWatchId),this._locateOptions&&(this._locateOptions.setView=!1),this},_handleGeolocationError:function(r){if(this._container._leaflet_id){var l=r.code,f=r.message||(l===1?"permission denied":l===2?"position unavailable":"timeout");this._locateOptions.setView&&!this._loaded&&this.fitWorld(),this.fire("locationerror",{code:l,message:"Geolocation error: "+f+"."})}},_handleGeolocationResponse:function(r){if(this._container._leaflet_id){var l=r.coords.latitude,f=r.coords.longitude,_=new ut(l,f),T=_.toBounds(r.coords.accuracy*2),k=this._locateOptions;if(k.setView){var Y=this.getBoundsZoom(T);this.setView(_,k.maxZoom?Math.min(Y,k.maxZoom):Y)}var ot={latlng:_,bounds:T,timestamp:r.timestamp};for(var pt in r.coords)typeof r.coords[pt]=="number"&&(ot[pt]=r.coords[pt]);this.fire("locationfound",ot)}},addHandler:function(r,l){if(!l)return this;var f=this[r]=new l(this);return this._handlers.push(f),this.options[r]&&f.enable(),this},remove:function(){if(this._initEvents(!0),this.options.maxBounds&&this.off("moveend",this._panInsideMaxBounds),this._containerId!==this._container._leaflet_id)throw new Error("Map container is being reused by another instance");try{delete this._container._leaflet_id,delete this._containerId}catch{this._container._leaflet_id=void 0,this._containerId=void 0}this._locationWatchId!==void 0&&this.stopLocate(),this._stop(),xe(this._mapPane),this._clearControlPos&&this._clearControlPos(),this._resizeRequest&&(I(this._resizeRequest),this._resizeRequest=null),this._clearHandlers(),this._loaded&&this.fire("unload");var r;for(r in this._layers)this._layers[r].remove();for(r in this._panes)xe(this._panes[r]);return this._layers=[],this._panes=[],delete this._mapPane,delete this._renderer,this},createPane:function(r,l){var f="leaflet-pane"+(r?" leaflet-"+r.replace("Pane","")+"-pane":""),_=re("div",f,l||this._mapPane);return r&&(this._panes[r]=_),_},getCenter:function(){return this._checkIfLoaded(),this._lastCenter&&!this._moved()?this._lastCenter.clone():this.layerPointToLatLng(this._getCenterLayerPoint())},getZoom:function(){return this._zoom},getBounds:function(){var r=this.getPixelBounds(),l=this.unproject(r.getBottomLeft()),f=this.unproject(r.getTopRight());return new W(l,f)},getMinZoom:function(){return this.options.minZoom===void 0?this._layersMinZoom||0:this.options.minZoom},getMaxZoom:function(){return this.options.maxZoom===void 0?this._layersMaxZoom===void 0?1/0:this._layersMaxZoom:this.options.maxZoom},getBoundsZoom:function(r,l,f){r=et(r),f=M(f||[0,0]);var _=this.getZoom()||0,T=this.getMinZoom(),k=this.getMaxZoom(),Y=r.getNorthWest(),ot=r.getSouthEast(),pt=this.getSize().subtract(f),St=U(this.project(ot,_),this.project(Y,_)).getSize(),Mt=Lt.any3d?this.options.zoomSnap:1,jt=pt.x/St.x,Ct=pt.y/St.y,Ut=l?Math.max(jt,Ct):Math.min(jt,Ct);return _=this.getScaleZoom(Ut,_),Mt&&(_=Math.round(_/(Mt/100))*(Mt/100),_=l?Math.ceil(_/Mt)*Mt:Math.floor(_/Mt)*Mt),Math.max(T,Math.min(k,_))},getSize:function(){return(!this._size||this._sizeChanged)&&(this._size=new F(this._container.clientWidth||0,this._container.clientHeight||0),this._sizeChanged=!1),this._size.clone()},getPixelBounds:function(r,l){var f=this._getTopLeftPoint(r,l);return new H(f,f.add(this.getSize()))},getPixelOrigin:function(){return this._checkIfLoaded(),this._pixelOrigin},getPixelWorldBounds:function(r){return this.options.crs.getProjectedBounds(r===void 0?this.getZoom():r)},getPane:function(r){return typeof r=="string"?this._panes[r]:r},getPanes:function(){return this._panes},getContainer:function(){return this._container},getZoomScale:function(r,l){var f=this.options.crs;return l=l===void 0?this._zoom:l,f.scale(r)/f.scale(l)},getScaleZoom:function(r,l){var f=this.options.crs;l=l===void 0?this._zoom:l;var _=f.zoom(r*f.scale(l));return isNaN(_)?1/0:_},project:function(r,l){return l=l===void 0?this._zoom:l,this.options.crs.latLngToPoint(at(r),l)},unproject:function(r,l){return l=l===void 0?this._zoom:l,this.options.crs.pointToLatLng(M(r),l)},layerPointToLatLng:function(r){var l=M(r).add(this.getPixelOrigin());return this.unproject(l)},latLngToLayerPoint:function(r){var l=this.project(at(r))._round();return l._subtract(this.getPixelOrigin())},wrapLatLng:function(r){return this.options.crs.wrapLatLng(at(r))},wrapLatLngBounds:function(r){return this.options.crs.wrapLatLngBounds(et(r))},distance:function(r,l){return this.options.crs.distance(at(r),at(l))},containerPointToLayerPoint:function(r){return M(r).subtract(this._getMapPanePos())},layerPointToContainerPoint:function(r){return M(r).add(this._getMapPanePos())},containerPointToLatLng:function(r){var l=this.containerPointToLayerPoint(M(r));return this.layerPointToLatLng(l)},latLngToContainerPoint:function(r){return this.layerPointToContainerPoint(this.latLngToLayerPoint(at(r)))},mouseEventToContainerPoint:function(r){return bn(r,this._container)},mouseEventToLayerPoint:function(r){return this.containerPointToLayerPoint(this.mouseEventToContainerPoint(r))},mouseEventToLatLng:function(r){return this.layerPointToLatLng(this.mouseEventToLayerPoint(r))},_initContainer:function(r){var l=this._container=Go(r);if(l){if(l._leaflet_id)throw new Error("Map container is already initialized.")}else throw new Error("Map container not found.");Zt(l,"scroll",this._onScroll,this),this._containerId=b(l)},_initLayout:function(){var r=this._container;this._fadeAnimated=this.options.fadeAnimation&&Lt.any3d,qt(r,"leaflet-container"+(Lt.touch?" leaflet-touch":"")+(Lt.retina?" leaflet-retina":"")+(Lt.ielt9?" leaflet-oldie":"")+(Lt.safari?" leaflet-safari":"")+(this._fadeAnimated?" leaflet-fade-anim":""));var l=vi(r,"position");l!=="absolute"&&l!=="relative"&&l!=="fixed"&&l!=="sticky"&&(r.style.position="relative"),this._initPanes(),this._initControlPos&&this._initControlPos()},_initPanes:function(){var r=this._panes={};this._paneRenderers={},this._mapPane=this.createPane("mapPane",this._container),Le(this._mapPane,new F(0,0)),this.createPane("tilePane"),this.createPane("overlayPane"),this.createPane("shadowPane"),this.createPane("markerPane"),this.createPane("tooltipPane"),this.createPane("popupPane"),this.options.markerZoomAnimation||(qt(r.markerPane,"leaflet-zoom-hide"),qt(r.shadowPane,"leaflet-zoom-hide"))},_resetView:function(r,l,f){Le(this._mapPane,new F(0,0));var _=!this._loaded;this._loaded=!0,l=this._limitZoom(l),this.fire("viewprereset");var T=this._zoom!==l;this._moveStart(T,f)._move(r,l)._moveEnd(T),this.fire("viewreset"),_&&this.fire("load")},_moveStart:function(r,l){return r&&this.fire("zoomstart"),l||this.fire("movestart"),this},_move:function(r,l,f,_){l===void 0&&(l=this._zoom);var T=this._zoom!==l;return this._zoom=l,this._lastCenter=r,this._pixelOrigin=this._getNewPixelOrigin(r),_?f&&f.pinch&&this.fire("zoom",f):((T||f&&f.pinch)&&this.fire("zoom",f),this.fire("move",f)),this},_moveEnd:function(r){return r&&this.fire("zoomend"),this.fire("moveend")},_stop:function(){return I(this._flyToFrame),this._panAnim&&this._panAnim.stop(),this},_rawPanBy:function(r){Le(this._mapPane,this._getMapPanePos().subtract(r))},_getZoomSpan:function(){return this.getMaxZoom()-this.getMinZoom()},_panInsideMaxBounds:function(){this._enforcingBounds||this.panInsideBounds(this.options.maxBounds)},_checkIfLoaded:function(){if(!this._loaded)throw new Error("Set map center and zoom first.")},_initEvents:function(r){this._targets={},this._targets[b(this._container)]=this;var l=r?se:Zt;l(this._container,"click dblclick mousedown mouseup mouseover mouseout mousemove contextmenu keypress keydown keyup",this._handleDOMEvent,this),this.options.trackResize&&l(window,"resize",this._onResize,this),Lt.any3d&&this.options.transform3DLimit&&(r?this.off:this.on).call(this,"moveend",this._onMoveEnd)},_onResize:function(){I(this._resizeRequest),this._resizeRequest=K(function(){this.invalidateSize({debounceMoveend:!0})},this)},_onScroll:function(){this._container.scrollTop=0,this._container.scrollLeft=0},_onMoveEnd:function(){var r=this._getMapPanePos();Math.max(Math.abs(r.x),Math.abs(r.y))>=this.options.transform3DLimit&&this._resetView(this.getCenter(),this.getZoom())},_findEventTargets:function(r,l){for(var f=[],_,T=l==="mouseout"||l==="mouseover",k=r.target||r.srcElement,Y=!1;k;){if(_=this._targets[b(k)],_&&(l==="click"||l==="preclick")&&this._draggableMoved(_)){Y=!0;break}if(_&&_.listens(l,!0)&&(T&&!Ti(k,r)||(f.push(_),T))||k===this._container)break;k=k.parentNode}return!f.length&&!Y&&!T&&this.listens(l,!0)&&(f=[this]),f},_isClickDisabled:function(r){for(;r&&r!==this._container;){if(r._leaflet_disable_click)return!0;r=r.parentNode}},_handleDOMEvent:function(r){var l=r.target||r.srcElement;if(!(!this._loaded||l._leaflet_disable_events||r.type==="click"&&this._isClickDisabled(l))){var f=r.type;f==="mousedown"&&ro(l),this._fireDOMEvent(r,f)}},_mouseEvents:["click","dblclick","mouseover","mouseout","contextmenu"],_fireDOMEvent:function(r,l,f){if(r.type==="click"){var _=u({},r);_.type="preclick",this._fireDOMEvent(_,_.type,f)}var T=this._findEventTargets(r,l);if(f){for(var k=[],Y=0;Y<f.length;Y++)f[Y].listens(l,!0)&&k.push(f[Y]);T=k.concat(T)}if(T.length){l==="contextmenu"&&Ie(r);var ot=T[0],pt={originalEvent:r};if(r.type!=="keypress"&&r.type!=="keydown"&&r.type!=="keyup"){var St=ot.getLatLng&&(!ot._radius||ot._radius<=10);pt.containerPoint=St?this.latLngToContainerPoint(ot.getLatLng()):this.mouseEventToContainerPoint(r),pt.layerPoint=this.containerPointToLayerPoint(pt.containerPoint),pt.latlng=St?ot.getLatLng():this.layerPointToLatLng(pt.layerPoint)}for(Y=0;Y<T.length;Y++)if(T[Y].fire(l,pt,!0),pt.originalEvent._stopped||T[Y].options.bubblingMouseEvents===!1&&P(this._mouseEvents,l)!==-1)return}},_draggableMoved:function(r){return r=r.dragging&&r.dragging.enabled()?r:this,r.dragging&&r.dragging.moved()||this.boxZoom&&this.boxZoom.moved()},_clearHandlers:function(){for(var r=0,l=this._handlers.length;r<l;r++)this._handlers[r].disable()},whenReady:function(r,l){return this._loaded?r.call(l||this,{target:this}):this.on("load",r,l),this},_getMapPanePos:function(){return Wr(this._mapPane)||new F(0,0)},_moved:function(){var r=this._getMapPanePos();return r&&!r.equals([0,0])},_getTopLeftPoint:function(r,l){var f=r&&l!==void 0?this._getNewPixelOrigin(r,l):this.getPixelOrigin();return f.subtract(this._getMapPanePos())},_getNewPixelOrigin:function(r,l){var f=this.getSize()._divideBy(2);return this.project(r,l)._subtract(f)._add(this._getMapPanePos())._round()},_latLngToNewLayerPoint:function(r,l,f){var _=this._getNewPixelOrigin(f,l);return this.project(r,l)._subtract(_)},_latLngBoundsToNewLayerBounds:function(r,l,f){var _=this._getNewPixelOrigin(f,l);return U([this.project(r.getSouthWest(),l)._subtract(_),this.project(r.getNorthWest(),l)._subtract(_),this.project(r.getSouthEast(),l)._subtract(_),this.project(r.getNorthEast(),l)._subtract(_)])},_getCenterLayerPoint:function(){return this.containerPointToLayerPoint(this.getSize()._divideBy(2))},_getCenterOffset:function(r){return this.latLngToLayerPoint(r).subtract(this._getCenterLayerPoint())},_limitCenter:function(r,l,f){if(!f)return r;var _=this.project(r,l),T=this.getSize().divideBy(2),k=new H(_.subtract(T),_.add(T)),Y=this._getBoundsOffset(k,f,l);return Math.abs(Y.x)<=1&&Math.abs(Y.y)<=1?r:this.unproject(_.add(Y),l)},_limitOffset:function(r,l){if(!l)return r;var f=this.getPixelBounds(),_=new H(f.min.add(r),f.max.add(r));return r.add(this._getBoundsOffset(_,l))},_getBoundsOffset:function(r,l,f){var _=U(this.project(l.getNorthEast(),f),this.project(l.getSouthWest(),f)),T=_.min.subtract(r.min),k=_.max.subtract(r.max),Y=this._rebound(T.x,-k.x),ot=this._rebound(T.y,-k.y);return new F(Y,ot)},_rebound:function(r,l){return r+l>0?Math.round(r-l)/2:Math.max(0,Math.ceil(r))-Math.max(0,Math.floor(l))},_limitZoom:function(r){var l=this.getMinZoom(),f=this.getMaxZoom(),_=Lt.any3d?this.options.zoomSnap:1;return _&&(r=Math.round(r/_)*_),Math.max(l,Math.min(f,r))},_onPanTransitionStep:function(){this.fire("move")},_onPanTransitionEnd:function(){Se(this._mapPane,"leaflet-pan-anim"),this.fire("moveend")},_tryAnimatedPan:function(r,l){var f=this._getCenterOffset(r)._trunc();return(l&&l.animate)!==!0&&!this.getSize().contains(f)?!1:(this.panBy(f,l),!0)},_createAnimProxy:function(){var r=this._proxy=re("div","leaflet-proxy leaflet-zoom-animated");this._panes.mapPane.appendChild(r),this.on("zoomanim",function(l){var f=to,_=this._proxy.style[f];Zn(this._proxy,this.project(l.center,l.zoom),this.getZoomScale(l.zoom,1)),_===this._proxy.style[f]&&this._animatingZoom&&this._onZoomTransitionEnd()},this),this.on("load moveend",this._animMoveEnd,this),this._on("unload",this._destroyAnimProxy,this)},_destroyAnimProxy:function(){xe(this._proxy),this.off("load moveend",this._animMoveEnd,this),delete this._proxy},_animMoveEnd:function(){var r=this.getCenter(),l=this.getZoom();Zn(this._proxy,this.project(r,l),this.getZoomScale(l,1))},_catchTransitionEnd:function(r){this._animatingZoom&&r.propertyName.indexOf("transform")>=0&&this._onZoomTransitionEnd()},_nothingToAnimate:function(){return!this._container.getElementsByClassName("leaflet-zoom-animated").length},_tryAnimatedZoom:function(r,l,f){if(this._animatingZoom)return!0;if(f=f||{},!this._zoomAnimated||f.animate===!1||this._nothingToAnimate()||Math.abs(l-this._zoom)>this.options.zoomAnimationThreshold)return!1;var _=this.getZoomScale(l),T=this._getCenterOffset(r)._divideBy(1-1/_);return f.animate!==!0&&!this.getSize().contains(T)?!1:(K(function(){this._moveStart(!0,f.noMoveStart||!1)._animateZoom(r,l,!0)},this),!0)},_animateZoom:function(r,l,f,_){this._mapPane&&(f&&(this._animatingZoom=!0,this._animateToCenter=r,this._animateToZoom=l,qt(this._mapPane,"leaflet-zoom-anim")),this.fire("zoomanim",{center:r,zoom:l,noUpdate:_}),this._tempFireZoomEvent||(this._tempFireZoomEvent=this._zoom!==this._animateToZoom),this._move(this._animateToCenter,this._animateToZoom,void 0,!0),setTimeout(h(this._onZoomTransitionEnd,this),250))},_onZoomTransitionEnd:function(){this._animatingZoom&&(this._mapPane&&Se(this._mapPane,"leaflet-zoom-anim"),this._animatingZoom=!1,this._move(this._animateToCenter,this._animateToZoom,void 0,!0),this._tempFireZoomEvent&&this.fire("zoom"),delete this._tempFireZoomEvent,this.fire("move"),this._moveEnd(!0))}});function oo(r,l){return new Xt(r,l)}var Mn=ft.extend({options:{position:"topright"},initialize:function(r){D(this,r)},getPosition:function(){return this.options.position},setPosition:function(r){var l=this._map;return l&&l.removeControl(this),this.options.position=r,l&&l.addControl(this),this},getContainer:function(){return this._container},addTo:function(r){this.remove(),this._map=r;var l=this._container=this.onAdd(r),f=this.getPosition(),_=r._controlCorners[f];return qt(l,"leaflet-control"),f.indexOf("bottom")!==-1?_.insertBefore(l,_.firstChild):_.appendChild(l),this._map.on("unload",this.remove,this),this},remove:function(){return this._map?(xe(this._container),this.onRemove&&this.onRemove(this._map),this._map.off("unload",this.remove,this),this._map=null,this):this},_refocusOnMap:function(r){this._map&&r&&r.screenX>0&&r.screenY>0&&this._map.getContainer().focus()}}),la=function(r){return new Mn(r)};Xt.include({addControl:function(r){return r.addTo(this),this},removeControl:function(r){return r.remove(),this},_initControlPos:function(){var r=this._controlCorners={},l="leaflet-",f=this._controlContainer=re("div",l+"control-container",this._container);function _(T,k){var Y=l+T+" "+l+k;r[T+k]=re("div",Y,f)}_("top","left"),_("top","right"),_("bottom","left"),_("bottom","right")},_clearControlPos:function(){for(var r in this._controlCorners)xe(this._controlCorners[r]);xe(this._controlContainer),delete this._controlCorners,delete this._controlContainer}});var Kc=Mn.extend({options:{collapsed:!0,position:"topright",autoZIndex:!0,hideSingleBase:!1,sortLayers:!1,sortFunction:function(r,l,f,_){return f<_?-1:_<f?1:0}},initialize:function(r,l,f){D(this,f),this._layerControlInputs=[],this._layers=[],this._lastZIndex=0,this._handlingClick=!1,this._preventClick=!1;for(var _ in r)this._addLayer(r[_],_);for(_ in l)this._addLayer(l[_],_,!0)},onAdd:function(r){this._initLayout(),this._update(),this._map=r,r.on("zoomend",this._checkDisabledLayers,this);for(var l=0;l<this._layers.length;l++)this._layers[l].layer.on("add remove",this._onLayerChange,this);return this._container},addTo:function(r){return Mn.prototype.addTo.call(this,r),this._expandIfNotCollapsed()},onRemove:function(){this._map.off("zoomend",this._checkDisabledLayers,this);for(var r=0;r<this._layers.length;r++)this._layers[r].layer.off("add remove",this._onLayerChange,this)},addBaseLayer:function(r,l){return this._addLayer(r,l),this._map?this._update():this},addOverlay:function(r,l){return this._addLayer(r,l,!0),this._map?this._update():this},removeLayer:function(r){r.off("add remove",this._onLayerChange,this);var l=this._getLayer(b(r));return l&&this._layers.splice(this._layers.indexOf(l),1),this._map?this._update():this},expand:function(){qt(this._container,"leaflet-control-layers-expanded"),this._section.style.height=null;var r=this._map.getSize().y-(this._container.offsetTop+50);return r<this._section.clientHeight?(qt(this._section,"leaflet-control-layers-scrollbar"),this._section.style.height=r+"px"):Se(this._section,"leaflet-control-layers-scrollbar"),this._checkDisabledLayers(),this},collapse:function(){return Se(this._container,"leaflet-control-layers-expanded"),this},_initLayout:function(){var r="leaflet-control-layers",l=this._container=re("div",r),f=this.options.collapsed;l.setAttribute("aria-haspopup",!0),sa(l),oa(l);var _=this._section=re("section",r+"-list");f&&(this._map.on("click",this.collapse,this),Zt(l,{mouseenter:this._expandSafely,mouseleave:this.collapse},this));var T=this._layersLink=re("a",r+"-toggle",l);T.href="#",T.title="Layers",T.setAttribute("role","button"),Zt(T,{keydown:function(k){k.keyCode===13&&this._expandSafely()},click:function(k){Ie(k),this._expandSafely()}},this),f||this.expand(),this._baseLayersList=re("div",r+"-base",_),this._separator=re("div",r+"-separator",_),this._overlaysList=re("div",r+"-overlays",_),l.appendChild(_)},_getLayer:function(r){for(var l=0;l<this._layers.length;l++)if(this._layers[l]&&b(this._layers[l].layer)===r)return this._layers[l]},_addLayer:function(r,l,f){this._map&&r.on("add remove",this._onLayerChange,this),this._layers.push({layer:r,name:l,overlay:f}),this.options.sortLayers&&this._layers.sort(h(function(_,T){return this.options.sortFunction(_.layer,T.layer,_.name,T.name)},this)),this.options.autoZIndex&&r.setZIndex&&(this._lastZIndex++,r.setZIndex(this._lastZIndex)),this._expandIfNotCollapsed()},_update:function(){if(!this._container)return this;pn(this._baseLayersList),pn(this._overlaysList),this._layerControlInputs=[];var r,l,f,_,T=0;for(f=0;f<this._layers.length;f++)_=this._layers[f],this._addItem(_),l=l||_.overlay,r=r||!_.overlay,T+=_.overlay?0:1;return this.options.hideSingleBase&&(r=r&&T>1,this._baseLayersList.style.display=r?"":"none"),this._separator.style.display=l&&r?"":"none",this},_onLayerChange:function(r){this._handlingClick||this._update();var l=this._getLayer(b(r.target)),f=l.overlay?r.type==="add"?"overlayadd":"overlayremove":r.type==="add"?"baselayerchange":null;f&&this._map.fire(f,l)},_createRadioElement:function(r,l){var f='<input type="radio" class="leaflet-control-layers-selector" name="'+r+'"'+(l?' checked="checked"':"")+"/>",_=document.createElement("div");return _.innerHTML=f,_.firstChild},_addItem:function(r){var l=document.createElement("label"),f=this._map.hasLayer(r.layer),_;r.overlay?(_=document.createElement("input"),_.type="checkbox",_.className="leaflet-control-layers-selector",_.defaultChecked=f):_=this._createRadioElement("leaflet-base-layers_"+b(this),f),this._layerControlInputs.push(_),_.layerId=b(r.layer),Zt(_,"click",this._onInputClick,this);var T=document.createElement("span");T.innerHTML=" "+r.name;var k=document.createElement("span");l.appendChild(k),k.appendChild(_),k.appendChild(T);var Y=r.overlay?this._overlaysList:this._baseLayersList;return Y.appendChild(l),this._checkDisabledLayers(),l},_onInputClick:function(){if(!this._preventClick){var r=this._layerControlInputs,l,f,_=[],T=[];this._handlingClick=!0;for(var k=r.length-1;k>=0;k--)l=r[k],f=this._getLayer(l.layerId).layer,l.checked?_.push(f):l.checked||T.push(f);for(k=0;k<T.length;k++)this._map.hasLayer(T[k])&&this._map.removeLayer(T[k]);for(k=0;k<_.length;k++)this._map.hasLayer(_[k])||this._map.addLayer(_[k]);this._handlingClick=!1,this._refocusOnMap()}},_checkDisabledLayers:function(){for(var r=this._layerControlInputs,l,f,_=this._map.getZoom(),T=r.length-1;T>=0;T--)l=r[T],f=this._getLayer(l.layerId).layer,l.disabled=f.options.minZoom!==void 0&&_<f.options.minZoom||f.options.maxZoom!==void 0&&_>f.options.maxZoom},_expandIfNotCollapsed:function(){return this._map&&!this.options.collapsed&&this.expand(),this},_expandSafely:function(){var r=this._section;this._preventClick=!0,Zt(r,"click",Ie),this.expand();var l=this;setTimeout(function(){se(r,"click",Ie),l._preventClick=!1})}}),zf=function(r,l,f){return new Kc(r,l,f)},ll=Mn.extend({options:{position:"topleft",zoomInText:'<span aria-hidden="true">+</span>',zoomInTitle:"Zoom in",zoomOutText:'<span aria-hidden="true">&#x2212;</span>',zoomOutTitle:"Zoom out"},onAdd:function(r){var l="leaflet-control-zoom",f=re("div",l+" leaflet-bar"),_=this.options;return this._zoomInButton=this._createButton(_.zoomInText,_.zoomInTitle,l+"-in",f,this._zoomIn),this._zoomOutButton=this._createButton(_.zoomOutText,_.zoomOutTitle,l+"-out",f,this._zoomOut),this._updateDisabled(),r.on("zoomend zoomlevelschange",this._updateDisabled,this),f},onRemove:function(r){r.off("zoomend zoomlevelschange",this._updateDisabled,this)},disable:function(){return this._disabled=!0,this._updateDisabled(),this},enable:function(){return this._disabled=!1,this._updateDisabled(),this},_zoomIn:function(r){!this._disabled&&this._map._zoom<this._map.getMaxZoom()&&this._map.zoomIn(this._map.options.zoomDelta*(r.shiftKey?3:1))},_zoomOut:function(r){!this._disabled&&this._map._zoom>this._map.getMinZoom()&&this._map.zoomOut(this._map.options.zoomDelta*(r.shiftKey?3:1))},_createButton:function(r,l,f,_,T){var k=re("a",f,_);return k.innerHTML=r,k.href="#",k.title=l,k.setAttribute("role","button"),k.setAttribute("aria-label",l),sa(k),Zt(k,"click",yr),Zt(k,"click",T,this),Zt(k,"click",this._refocusOnMap,this),k},_updateDisabled:function(){var r=this._map,l="leaflet-disabled";Se(this._zoomInButton,l),Se(this._zoomOutButton,l),this._zoomInButton.setAttribute("aria-disabled","false"),this._zoomOutButton.setAttribute("aria-disabled","false"),(this._disabled||r._zoom===r.getMinZoom())&&(qt(this._zoomOutButton,l),this._zoomOutButton.setAttribute("aria-disabled","true")),(this._disabled||r._zoom===r.getMaxZoom())&&(qt(this._zoomInButton,l),this._zoomInButton.setAttribute("aria-disabled","true"))}});Xt.mergeOptions({zoomControl:!0}),Xt.addInitHook(function(){this.options.zoomControl&&(this.zoomControl=new ll,this.addControl(this.zoomControl))});var cl=function(r){return new ll(r)},Fc=Mn.extend({options:{position:"bottomleft",maxWidth:100,metric:!0,imperial:!0},onAdd:function(r){var l="leaflet-control-scale",f=re("div",l),_=this.options;return this._addScales(_,l+"-line",f),r.on(_.updateWhenIdle?"moveend":"move",this._update,this),r.whenReady(this._update,this),f},onRemove:function(r){r.off(this.options.updateWhenIdle?"moveend":"move",this._update,this)},_addScales:function(r,l,f){r.metric&&(this._mScale=re("div",l,f)),r.imperial&&(this._iScale=re("div",l,f))},_update:function(){var r=this._map,l=r.getSize().y/2,f=r.distance(r.containerPointToLatLng([0,l]),r.containerPointToLatLng([this.options.maxWidth,l]));this._updateScales(f)},_updateScales:function(r){this.options.metric&&r&&this._updateMetric(r),this.options.imperial&&r&&this._updateImperial(r)},_updateMetric:function(r){var l=this._getRoundNum(r),f=l<1e3?l+" m":l/1e3+" km";this._updateScale(this._mScale,f,l/r)},_updateImperial:function(r){var l=r*3.2808399,f,_,T;l>5280?(f=l/5280,_=this._getRoundNum(f),this._updateScale(this._iScale,_+" mi",_/f)):(T=this._getRoundNum(l),this._updateScale(this._iScale,T+" ft",T/l))},_updateScale:function(r,l,f){r.style.width=Math.round(this.options.maxWidth*f)+"px",r.innerHTML=l},_getRoundNum:function(r){var l=Math.pow(10,(Math.floor(r)+"").length-1),f=r/l;return f=f>=10?10:f>=5?5:f>=3?3:f>=2?2:1,l*f}}),Hf=function(r){return new Fc(r)},$f='<svg aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="12" height="8" viewBox="0 0 12 8" class="leaflet-attribution-flag"><path fill="#4C7BE1" d="M0 0h12v4H0z"/><path fill="#FFD500" d="M0 4h12v3H0z"/><path fill="#E0BC00" d="M0 7h12v1H0z"/></svg>',ul=Mn.extend({options:{position:"bottomright",prefix:'<a href="https://leafletjs.com" title="A JavaScript library for interactive maps">'+(Lt.inlineSvg?$f+" ":"")+"Leaflet</a>"},initialize:function(r){D(this,r),this._attributions={}},onAdd:function(r){r.attributionControl=this,this._container=re("div","leaflet-control-attribution"),sa(this._container);for(var l in r._layers)r._layers[l].getAttribution&&this.addAttribution(r._layers[l].getAttribution());return this._update(),r.on("layeradd",this._addAttribution,this),this._container},onRemove:function(r){r.off("layeradd",this._addAttribution,this)},_addAttribution:function(r){r.layer.getAttribution&&(this.addAttribution(r.layer.getAttribution()),r.layer.once("remove",function(){this.removeAttribution(r.layer.getAttribution())},this))},setPrefix:function(r){return this.options.prefix=r,this._update(),this},addAttribution:function(r){return r?(this._attributions[r]||(this._attributions[r]=0),this._attributions[r]++,this._update(),this):this},removeAttribution:function(r){return r?(this._attributions[r]&&(this._attributions[r]--,this._update()),this):this},_update:function(){if(this._map){var r=[];for(var l in this._attributions)this._attributions[l]&&r.push(l);var f=[];this.options.prefix&&f.push(this.options.prefix),r.length&&f.push(r.join(", ")),this._container.innerHTML=f.join(' <span aria-hidden="true">|</span> ')}}});Xt.mergeOptions({attributionControl:!0}),Xt.addInitHook(function(){this.options.attributionControl&&new ul().addTo(this)});var If=function(r){return new ul(r)};Mn.Layers=Kc,Mn.Zoom=ll,Mn.Scale=Fc,Mn.Attribution=ul,la.layers=zf,la.zoom=cl,la.scale=Hf,la.attribution=If;var Wn=ft.extend({initialize:function(r){this._map=r},enable:function(){return this._enabled?this:(this._enabled=!0,this.addHooks(),this)},disable:function(){return this._enabled?(this._enabled=!1,this.removeHooks(),this):this},enabled:function(){return!!this._enabled}});Wn.addTo=function(r,l){return r.addHandler(l,this),this};var Uf={Events:Z},Xc=Lt.touch?"touchstart mousedown":"mousedown",Jr=lt.extend({options:{clickTolerance:3},initialize:function(r,l,f,_){D(this,_),this._element=r,this._dragStartTarget=l||r,this._preventOutline=f},enable:function(){this._enabled||(Zt(this._dragStartTarget,Xc,this._onDown,this),this._enabled=!0)},disable:function(){this._enabled&&(Jr._dragging===this&&this.finishDrag(!0),se(this._dragStartTarget,Xc,this._onDown,this),this._enabled=!1,this._moved=!1)},_onDown:function(r){if(this._enabled&&(this._moved=!1,!ea(this._element,"leaflet-zoom-anim"))){if(r.touches&&r.touches.length!==1){Jr._dragging===this&&this.finishDrag();return}if(!(Jr._dragging||r.shiftKey||r.which!==1&&r.button!==1&&!r.touches)&&(Jr._dragging=this,this._preventOutline&&ro(this._element),no(),pr(),!this._moving)){this.fire("down");var l=r.touches?r.touches[0]:r,f=xi(this._element);this._startPoint=new F(l.clientX,l.clientY),this._startPos=Wr(this._element),this._parentScale=Qr(f);var _=r.type==="mousedown";Zt(document,_?"mousemove":"touchmove",this._onMove,this),Zt(document,_?"mouseup":"touchend touchcancel",this._onUp,this)}}},_onMove:function(r){if(this._enabled){if(r.touches&&r.touches.length>1){this._moved=!0;return}var l=r.touches&&r.touches.length===1?r.touches[0]:r,f=new F(l.clientX,l.clientY)._subtract(this._startPoint);!f.x&&!f.y||Math.abs(f.x)+Math.abs(f.y)<this.options.clickTolerance||(f.x/=this._parentScale.x,f.y/=this._parentScale.y,Ie(r),this._moved||(this.fire("dragstart"),this._moved=!0,qt(document.body,"leaflet-dragging"),this._lastTarget=r.target||r.srcElement,window.SVGElementInstance&&this._lastTarget instanceof window.SVGElementInstance&&(this._lastTarget=this._lastTarget.correspondingUseElement),qt(this._lastTarget,"leaflet-drag-target")),this._newPos=this._startPos.add(f),this._moving=!0,this._lastEvent=r,this._updatePosition())}},_updatePosition:function(){var r={originalEvent:this._lastEvent};this.fire("predrag",r),Le(this._element,this._newPos),this.fire("drag",r)},_onUp:function(){this._enabled&&this.finishDrag()},finishDrag:function(r){Se(document.body,"leaflet-dragging"),this._lastTarget&&(Se(this._lastTarget,"leaflet-drag-target"),this._lastTarget=null),se(document,"mousemove touchmove",this._onMove,this),se(document,"mouseup touchend touchcancel",this._onUp,this),ol(),eo();var l=this._moved&&this._moving;this._moving=!1,Jr._dragging=!1,l&&this.fire("dragend",{noInertia:r,distance:this._newPos.distanceTo(this._startPos)})}});function Wc(r,l,f){var _,T=[1,4,2,8],k,Y,ot,pt,St,Mt,jt,Ct;for(k=0,Mt=r.length;k<Mt;k++)r[k]._code=Ei(r[k],l);for(ot=0;ot<4;ot++){for(jt=T[ot],_=[],k=0,Mt=r.length,Y=Mt-1;k<Mt;Y=k++)pt=r[k],St=r[Y],pt._code&jt?St._code&jt||(Ct=Ko(St,pt,jt,l,f),Ct._code=Ei(Ct,l),_.push(Ct)):(St._code&jt&&(Ct=Ko(St,pt,jt,l,f),Ct._code=Ei(Ct,l),_.push(Ct)),_.push(pt));r=_}return r}function Vo(r,l){var f,_,T,k,Y,ot,pt,St,Mt;if(!r||r.length===0)throw new Error("latlngs not passed");sn(r)||(console.warn("latlngs are not flat! Only the first ring will be used"),r=r[0]);var jt=at([0,0]),Ct=et(r),Ut=Ct.getNorthWest().distanceTo(Ct.getSouthWest())*Ct.getNorthEast().distanceTo(Ct.getNorthWest());Ut<1700&&(jt=dl(r));var we=r.length,Be=[];for(f=0;f<we;f++){var ln=at(r[f]);Be.push(l.project(at([ln.lat-jt.lat,ln.lng-jt.lng])))}for(ot=pt=St=0,f=0,_=we-1;f<we;_=f++)T=Be[f],k=Be[_],Y=T.y*k.x-k.y*T.x,pt+=(T.x+k.x)*Y,St+=(T.y+k.y)*Y,ot+=Y*3;ot===0?Mt=Be[0]:Mt=[pt/ot,St/ot];var Yn=l.unproject(M(Mt));return at([Yn.lat+jt.lat,Yn.lng+jt.lng])}function dl(r){for(var l=0,f=0,_=0,T=0;T<r.length;T++){var k=at(r[T]);l+=k.lat,f+=k.lng,_++}return at([l/_,f/_])}var Gf={__proto__:null,clipPolygon:Wc,polygonCenter:Vo,centroid:dl};function Qc(r,l){if(!l||!r.length)return r.slice();var f=l*l;return r=qf(r,f),r=Yf(r,f),r}function fl(r,l,f){return Math.sqrt(Mi(r,l,f,!0))}function Zf(r,l,f){return Mi(r,l,f)}function Yf(r,l){var f=r.length,_=typeof Uint8Array<"u"?Uint8Array:Array,T=new _(f);T[0]=T[f-1]=1,hl(r,T,l,0,f-1);var k,Y=[];for(k=0;k<f;k++)T[k]&&Y.push(r[k]);return Y}function hl(r,l,f,_,T){var k=0,Y,ot,pt;for(ot=_+1;ot<=T-1;ot++)pt=Mi(r[ot],r[_],r[T],!0),pt>k&&(Y=ot,k=pt);k>f&&(l[Y]=1,hl(r,l,f,_,Y),hl(r,l,f,Y,T))}function qf(r,l){for(var f=[r[0]],_=1,T=0,k=r.length;_<k;_++)Vf(r[_],r[T])>l&&(f.push(r[_]),T=_);return T<k-1&&f.push(r[k-1]),f}var Jc;function tu(r,l,f,_,T){var k=_?Jc:Ei(r,f),Y=Ei(l,f),ot,pt,St;for(Jc=Y;;){if(!(k|Y))return[r,l];if(k&Y)return!1;ot=k||Y,pt=Ko(r,l,ot,f,T),St=Ei(pt,f),ot===k?(r=pt,k=St):(l=pt,Y=St)}}function Ko(r,l,f,_,T){var k=l.x-r.x,Y=l.y-r.y,ot=_.min,pt=_.max,St,Mt;return f&8?(St=r.x+k*(pt.y-r.y)/Y,Mt=pt.y):f&4?(St=r.x+k*(ot.y-r.y)/Y,Mt=ot.y):f&2?(St=pt.x,Mt=r.y+Y*(pt.x-r.x)/k):f&1&&(St=ot.x,Mt=r.y+Y*(ot.x-r.x)/k),new F(St,Mt,T)}function Ei(r,l){var f=0;return r.x<l.min.x?f|=1:r.x>l.max.x&&(f|=2),r.y<l.min.y?f|=4:r.y>l.max.y&&(f|=8),f}function Vf(r,l){var f=l.x-r.x,_=l.y-r.y;return f*f+_*_}function Mi(r,l,f,_){var T=l.x,k=l.y,Y=f.x-T,ot=f.y-k,pt=Y*Y+ot*ot,St;return pt>0&&(St=((r.x-T)*Y+(r.y-k)*ot)/pt,St>1?(T=f.x,k=f.y):St>0&&(T+=Y*St,k+=ot*St)),Y=r.x-T,ot=r.y-k,_?Y*Y+ot*ot:new F(T,k)}function sn(r){return!C(r[0])||typeof r[0][0]!="object"&&typeof r[0][0]<"u"}function eu(r){return console.warn("Deprecated use of _flat, please use L.LineUtil.isFlat instead."),sn(r)}function ml(r,l){var f,_,T,k,Y,ot,pt,St;if(!r||r.length===0)throw new Error("latlngs not passed");sn(r)||(console.warn("latlngs are not flat! Only the first ring will be used"),r=r[0]);var Mt=at([0,0]),jt=et(r),Ct=jt.getNorthWest().distanceTo(jt.getSouthWest())*jt.getNorthEast().distanceTo(jt.getNorthWest());Ct<1700&&(Mt=dl(r));var Ut=r.length,we=[];for(f=0;f<Ut;f++){var Be=at(r[f]);we.push(l.project(at([Be.lat-Mt.lat,Be.lng-Mt.lng])))}for(f=0,_=0;f<Ut-1;f++)_+=we[f].distanceTo(we[f+1])/2;if(_===0)St=we[0];else for(f=0,k=0;f<Ut-1;f++)if(Y=we[f],ot=we[f+1],T=Y.distanceTo(ot),k+=T,k>_){pt=(k-_)/T,St=[ot.x-pt*(ot.x-Y.x),ot.y-pt*(ot.y-Y.y)];break}var ln=l.unproject(M(St));return at([ln.lat+Mt.lat,ln.lng+Mt.lng])}var nu={__proto__:null,simplify:Qc,pointToSegmentDistance:fl,closestPointOnSegment:Zf,clipSegment:tu,_getEdgeIntersection:Ko,_getBitCode:Ei,_sqClosestPointOnSegment:Mi,isFlat:sn,_flat:eu,polylineCenter:ml},Fo={project:function(r){return new F(r.lng,r.lat)},unproject:function(r){return new ut(r.y,r.x)},bounds:new H([-180,-90],[180,90])},Xo={R:6378137,R_MINOR:6356752314245179e-9,bounds:new H([-2003750834279e-5,-1549657073972e-5],[2003750834279e-5,1876465623138e-5]),project:function(r){var l=Math.PI/180,f=this.R,_=r.lat*l,T=this.R_MINOR/f,k=Math.sqrt(1-T*T),Y=k*Math.sin(_),ot=Math.tan(Math.PI/4-_/2)/Math.pow((1-Y)/(1+Y),k/2);return _=-f*Math.log(Math.max(ot,1e-10)),new F(r.lng*l*f,_)},unproject:function(r){for(var l=180/Math.PI,f=this.R,_=this.R_MINOR/f,T=Math.sqrt(1-_*_),k=Math.exp(-r.y/f),Y=Math.PI/2-2*Math.atan(k),ot=0,pt=.1,St;ot<15&&Math.abs(pt)>1e-7;ot++)St=T*Math.sin(Y),St=Math.pow((1-St)/(1+St),T/2),pt=Math.PI/2-2*Math.atan(k*St)-Y,Y+=pt;return new ut(Y*l,r.x*l/f)}},ru={__proto__:null,LonLat:Fo,Mercator:Xo,SphericalMercator:$t},ca=u({},vt,{code:"EPSG:3395",projection:Xo,transformation:(function(){var r=.5/(Math.PI*Xo.R);return Yt(r,.5,-r,.5)})()}),iu=u({},vt,{code:"EPSG:4326",projection:Fo,transformation:Yt(1/180,1,-1/180,.5)}),Kf=u({},wt,{projection:Fo,transformation:Yt(1,0,-1,0),scale:function(r){return Math.pow(2,r)},zoom:function(r){return Math.log(r)/Math.LN2},distance:function(r,l){var f=l.lng-r.lng,_=l.lat-r.lat;return Math.sqrt(f*f+_*_)},infinite:!0});wt.Earth=vt,wt.EPSG3395=ca,wt.EPSG3857=ne,wt.EPSG900913=$e,wt.EPSG4326=iu,wt.Simple=Kf;var Qn=lt.extend({options:{pane:"overlayPane",attribution:null,bubblingMouseEvents:!0},addTo:function(r){return r.addLayer(this),this},remove:function(){return this.removeFrom(this._map||this._mapToAdd)},removeFrom:function(r){return r&&r.removeLayer(this),this},getPane:function(r){return this._map.getPane(r?this.options[r]||r:this.options.pane)},addInteractiveTarget:function(r){return this._map._targets[b(r)]=this,this},removeInteractiveTarget:function(r){return delete this._map._targets[b(r)],this},getAttribution:function(){return this.options.attribution},_layerAdd:function(r){var l=r.target;if(l.hasLayer(this)){if(this._map=l,this._zoomAnimated=l._zoomAnimated,this.getEvents){var f=this.getEvents();l.on(f,this),this.once("remove",function(){l.off(f,this)},this)}this.onAdd(l),this.fire("add"),l.fire("layeradd",{layer:this})}}});Xt.include({addLayer:function(r){if(!r._layerAdd)throw new Error("The provided object is not a Layer.");var l=b(r);return this._layers[l]?this:(this._layers[l]=r,r._mapToAdd=this,r.beforeAdd&&r.beforeAdd(this),this.whenReady(r._layerAdd,r),this)},removeLayer:function(r){var l=b(r);return this._layers[l]?(this._loaded&&r.onRemove(this),delete this._layers[l],this._loaded&&(this.fire("layerremove",{layer:r}),r.fire("remove")),r._map=r._mapToAdd=null,this):this},hasLayer:function(r){return b(r)in this._layers},eachLayer:function(r,l){for(var f in this._layers)r.call(l,this._layers[f]);return this},_addLayers:function(r){r=r?C(r)?r:[r]:[];for(var l=0,f=r.length;l<f;l++)this.addLayer(r[l])},_addZoomLimit:function(r){(!isNaN(r.options.maxZoom)||!isNaN(r.options.minZoom))&&(this._zoomBoundLayers[b(r)]=r,this._updateZoomLevels())},_removeZoomLimit:function(r){var l=b(r);this._zoomBoundLayers[l]&&(delete this._zoomBoundLayers[l],this._updateZoomLevels())},_updateZoomLevels:function(){var r=1/0,l=-1/0,f=this._getZoomSpan();for(var _ in this._zoomBoundLayers){var T=this._zoomBoundLayers[_].options;r=T.minZoom===void 0?r:Math.min(r,T.minZoom),l=T.maxZoom===void 0?l:Math.max(l,T.maxZoom)}this._layersMaxZoom=l===-1/0?void 0:l,this._layersMinZoom=r===1/0?void 0:r,f!==this._getZoomSpan()&&this.fire("zoomlevelschange"),this.options.maxZoom===void 0&&this._layersMaxZoom&&this.getZoom()>this._layersMaxZoom&&this.setZoom(this._layersMaxZoom),this.options.minZoom===void 0&&this._layersMinZoom&&this.getZoom()<this._layersMinZoom&&this.setZoom(this._layersMinZoom)}});var Ni=Qn.extend({initialize:function(r,l){D(this,l),this._layers={};var f,_;if(r)for(f=0,_=r.length;f<_;f++)this.addLayer(r[f])},addLayer:function(r){var l=this.getLayerId(r);return this._layers[l]=r,this._map&&this._map.addLayer(r),this},removeLayer:function(r){var l=r in this._layers?r:this.getLayerId(r);return this._map&&this._layers[l]&&this._map.removeLayer(this._layers[l]),delete this._layers[l],this},hasLayer:function(r){var l=typeof r=="number"?r:this.getLayerId(r);return l in this._layers},clearLayers:function(){return this.eachLayer(this.removeLayer,this)},invoke:function(r){var l=Array.prototype.slice.call(arguments,1),f,_;for(f in this._layers)_=this._layers[f],_[r]&&_[r].apply(_,l);return this},onAdd:function(r){this.eachLayer(r.addLayer,r)},onRemove:function(r){this.eachLayer(r.removeLayer,r)},eachLayer:function(r,l){for(var f in this._layers)r.call(l,this._layers[f]);return this},getLayer:function(r){return this._layers[r]},getLayers:function(){var r=[];return this.eachLayer(r.push,r),r},setZIndex:function(r){return this.invoke("setZIndex",r)},getLayerId:function(r){return b(r)}}),au=function(r,l){return new Ni(r,l)},jn=Ni.extend({addLayer:function(r){return this.hasLayer(r)?this:(r.addEventParent(this),Ni.prototype.addLayer.call(this,r),this.fire("layeradd",{layer:r}))},removeLayer:function(r){return this.hasLayer(r)?(r in this._layers&&(r=this._layers[r]),r.removeEventParent(this),Ni.prototype.removeLayer.call(this,r),this.fire("layerremove",{layer:r})):this},setStyle:function(r){return this.invoke("setStyle",r)},bringToFront:function(){return this.invoke("bringToFront")},bringToBack:function(){return this.invoke("bringToBack")},getBounds:function(){var r=new W;for(var l in this._layers){var f=this._layers[l];r.extend(f.getBounds?f.getBounds():f.getLatLng())}return r}}),so=function(r,l){return new jn(r,l)},ua=ft.extend({options:{popupAnchor:[0,0],tooltipAnchor:[0,0],crossOrigin:!1},initialize:function(r){D(this,r)},createIcon:function(r){return this._createIcon("icon",r)},createShadow:function(r){return this._createIcon("shadow",r)},_createIcon:function(r,l){var f=this._getIconUrl(r);if(!f){if(r==="icon")throw new Error("iconUrl not set in Icon options (see the docs).");return null}var _=this._createImg(f,l&&l.tagName==="IMG"?l:null);return this._setIconStyles(_,r),(this.options.crossOrigin||this.options.crossOrigin==="")&&(_.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),_},_setIconStyles:function(r,l){var f=this.options,_=f[l+"Size"];typeof _=="number"&&(_=[_,_]);var T=M(_),k=M(l==="shadow"&&f.shadowAnchor||f.iconAnchor||T&&T.divideBy(2,!0));r.className="leaflet-marker-"+l+" "+(f.className||""),k&&(r.style.marginLeft=-k.x+"px",r.style.marginTop=-k.y+"px"),T&&(r.style.width=T.x+"px",r.style.height=T.y+"px")},_createImg:function(r,l){return l=l||document.createElement("img"),l.src=r,l},_getIconUrl:function(r){return Lt.retina&&this.options[r+"RetinaUrl"]||this.options[r+"Url"]}});function Wo(r){return new ua(r)}var da=ua.extend({options:{iconUrl:"marker-icon.png",iconRetinaUrl:"marker-icon-2x.png",shadowUrl:"marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],tooltipAnchor:[16,-28],shadowSize:[41,41]},_getIconUrl:function(r){return typeof da.imagePath!="string"&&(da.imagePath=this._detectIconPath()),(this.options.imagePath||da.imagePath)+ua.prototype._getIconUrl.call(this,r)},_stripUrl:function(r){var l=function(f,_,T){var k=_.exec(f);return k&&k[T]};return r=l(r,/^url\((['"])?(.+)\1\)$/,2),r&&l(r,/^(.*)marker-icon\.png$/,1)},_detectIconPath:function(){var r=re("div","leaflet-default-icon-path",document.body),l=vi(r,"background-image")||vi(r,"backgroundImage");if(document.body.removeChild(r),l=this._stripUrl(l),l)return l;var f=document.querySelector('link[href$="leaflet.css"]');return f?f.href.substring(0,f.href.length-11-1):""}}),pl=Wn.extend({initialize:function(r){this._marker=r},addHooks:function(){var r=this._marker._icon;this._draggable||(this._draggable=new Jr(r,r,!0)),this._draggable.on({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).enable(),qt(r,"leaflet-marker-draggable")},removeHooks:function(){this._draggable.off({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).disable(),this._marker._icon&&Se(this._marker._icon,"leaflet-marker-draggable")},moved:function(){return this._draggable&&this._draggable._moved},_adjustPan:function(r){var l=this._marker,f=l._map,_=this._marker.options.autoPanSpeed,T=this._marker.options.autoPanPadding,k=Wr(l._icon),Y=f.getPixelBounds(),ot=f.getPixelOrigin(),pt=U(Y.min._subtract(ot).add(T),Y.max._subtract(ot).subtract(T));if(!pt.contains(k)){var St=M((Math.max(pt.max.x,k.x)-pt.max.x)/(Y.max.x-pt.max.x)-(Math.min(pt.min.x,k.x)-pt.min.x)/(Y.min.x-pt.min.x),(Math.max(pt.max.y,k.y)-pt.max.y)/(Y.max.y-pt.max.y)-(Math.min(pt.min.y,k.y)-pt.min.y)/(Y.min.y-pt.min.y)).multiplyBy(_);f.panBy(St,{animate:!1}),this._draggable._newPos._add(St),this._draggable._startPos._add(St),Le(l._icon,this._draggable._newPos),this._onDrag(r),this._panRequest=K(this._adjustPan.bind(this,r))}},_onDragStart:function(){this._oldLatLng=this._marker.getLatLng(),this._marker.closePopup&&this._marker.closePopup(),this._marker.fire("movestart").fire("dragstart")},_onPreDrag:function(r){this._marker.options.autoPan&&(I(this._panRequest),this._panRequest=K(this._adjustPan.bind(this,r)))},_onDrag:function(r){var l=this._marker,f=l._shadow,_=Wr(l._icon),T=l._map.layerPointToLatLng(_);f&&Le(f,_),l._latlng=T,r.latlng=T,r.oldLatLng=this._oldLatLng,l.fire("move",r).fire("drag",r)},_onDragEnd:function(r){I(this._panRequest),delete this._oldLatLng,this._marker.fire("moveend").fire("dragend",r)}}),fa=Qn.extend({options:{icon:new da,interactive:!0,keyboard:!0,title:"",alt:"Marker",zIndexOffset:0,opacity:1,riseOnHover:!1,riseOffset:250,pane:"markerPane",shadowPane:"shadowPane",bubblingMouseEvents:!1,autoPanOnFocus:!0,draggable:!1,autoPan:!1,autoPanPadding:[50,50],autoPanSpeed:10},initialize:function(r,l){D(this,l),this._latlng=at(r)},onAdd:function(r){this._zoomAnimated=this._zoomAnimated&&r.options.markerZoomAnimation,this._zoomAnimated&&r.on("zoomanim",this._animateZoom,this),this._initIcon(),this.update()},onRemove:function(r){this.dragging&&this.dragging.enabled()&&(this.options.draggable=!0,this.dragging.removeHooks()),delete this.dragging,this._zoomAnimated&&r.off("zoomanim",this._animateZoom,this),this._removeIcon(),this._removeShadow()},getEvents:function(){return{zoom:this.update,viewreset:this.update}},getLatLng:function(){return this._latlng},setLatLng:function(r){var l=this._latlng;return this._latlng=at(r),this.update(),this.fire("move",{oldLatLng:l,latlng:this._latlng})},setZIndexOffset:function(r){return this.options.zIndexOffset=r,this.update()},getIcon:function(){return this.options.icon},setIcon:function(r){return this.options.icon=r,this._map&&(this._initIcon(),this.update()),this._popup&&this.bindPopup(this._popup,this._popup.options),this},getElement:function(){return this._icon},update:function(){if(this._icon&&this._map){var r=this._map.latLngToLayerPoint(this._latlng).round();this._setPos(r)}return this},_initIcon:function(){var r=this.options,l="leaflet-zoom-"+(this._zoomAnimated?"animated":"hide"),f=r.icon.createIcon(this._icon),_=!1;f!==this._icon&&(this._icon&&this._removeIcon(),_=!0,r.title&&(f.title=r.title),f.tagName==="IMG"&&(f.alt=r.alt||"")),qt(f,l),r.keyboard&&(f.tabIndex="0",f.setAttribute("role","button")),this._icon=f,r.riseOnHover&&this.on({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&Zt(f,"focus",this._panOnFocus,this);var T=r.icon.createShadow(this._shadow),k=!1;T!==this._shadow&&(this._removeShadow(),k=!0),T&&(qt(T,l),T.alt=""),this._shadow=T,r.opacity<1&&this._updateOpacity(),_&&this.getPane().appendChild(this._icon),this._initInteraction(),T&&k&&this.getPane(r.shadowPane).appendChild(this._shadow)},_removeIcon:function(){this.options.riseOnHover&&this.off({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&se(this._icon,"focus",this._panOnFocus,this),xe(this._icon),this.removeInteractiveTarget(this._icon),this._icon=null},_removeShadow:function(){this._shadow&&xe(this._shadow),this._shadow=null},_setPos:function(r){this._icon&&Le(this._icon,r),this._shadow&&Le(this._shadow,r),this._zIndex=r.y+this.options.zIndexOffset,this._resetZIndex()},_updateZIndex:function(r){this._icon&&(this._icon.style.zIndex=this._zIndex+r)},_animateZoom:function(r){var l=this._map._latLngToNewLayerPoint(this._latlng,r.zoom,r.center).round();this._setPos(l)},_initInteraction:function(){if(this.options.interactive&&(qt(this._icon,"leaflet-interactive"),this.addInteractiveTarget(this._icon),pl)){var r=this.options.draggable;this.dragging&&(r=this.dragging.enabled(),this.dragging.disable()),this.dragging=new pl(this),r&&this.dragging.enable()}},setOpacity:function(r){return this.options.opacity=r,this._map&&this._updateOpacity(),this},_updateOpacity:function(){var r=this.options.opacity;this._icon&&En(this._icon,r),this._shadow&&En(this._shadow,r)},_bringToFront:function(){this._updateZIndex(this.options.riseOffset)},_resetZIndex:function(){this._updateZIndex(0)},_panOnFocus:function(){var r=this._map;if(r){var l=this.options.icon.options,f=l.iconSize?M(l.iconSize):M(0,0),_=l.iconAnchor?M(l.iconAnchor):M(0,0);r.panInside(this._latlng,{paddingTopLeft:_,paddingBottomRight:f.subtract(_)})}},_getPopupAnchor:function(){return this.options.icon.options.popupAnchor},_getTooltipAnchor:function(){return this.options.icon.options.tooltipAnchor}});function gl(r,l){return new fa(r,l)}var Hr=Qn.extend({options:{stroke:!0,color:"#3388ff",weight:3,opacity:1,lineCap:"round",lineJoin:"round",dashArray:null,dashOffset:null,fill:!1,fillColor:null,fillOpacity:.2,fillRule:"evenodd",interactive:!0,bubblingMouseEvents:!0},beforeAdd:function(r){this._renderer=r.getRenderer(this)},onAdd:function(){this._renderer._initPath(this),this._reset(),this._renderer._addPath(this)},onRemove:function(){this._renderer._removePath(this)},redraw:function(){return this._map&&this._renderer._updatePath(this),this},setStyle:function(r){return D(this,r),this._renderer&&(this._renderer._updateStyle(this),this.options.stroke&&r&&Object.prototype.hasOwnProperty.call(r,"weight")&&this._updateBounds()),this},bringToFront:function(){return this._renderer&&this._renderer._bringToFront(this),this},bringToBack:function(){return this._renderer&&this._renderer._bringToBack(this),this},getElement:function(){return this._path},_reset:function(){this._project(),this._update()},_clickTolerance:function(){return(this.options.stroke?this.options.weight/2:0)+(this._renderer.options.tolerance||0)}}),lo=Hr.extend({options:{fill:!0,radius:10},initialize:function(r,l){D(this,l),this._latlng=at(r),this._radius=this.options.radius},setLatLng:function(r){var l=this._latlng;return this._latlng=at(r),this.redraw(),this.fire("move",{oldLatLng:l,latlng:this._latlng})},getLatLng:function(){return this._latlng},setRadius:function(r){return this.options.radius=this._radius=r,this.redraw()},getRadius:function(){return this._radius},setStyle:function(r){var l=r&&r.radius||this._radius;return Hr.prototype.setStyle.call(this,r),this.setRadius(l),this},_project:function(){this._point=this._map.latLngToLayerPoint(this._latlng),this._updateBounds()},_updateBounds:function(){var r=this._radius,l=this._radiusY||r,f=this._clickTolerance(),_=[r+f,l+f];this._pxBounds=new H(this._point.subtract(_),this._point.add(_))},_update:function(){this._map&&this._updatePath()},_updatePath:function(){this._renderer._updateCircle(this)},_empty:function(){return this._radius&&!this._renderer._bounds.intersects(this._pxBounds)},_containsPoint:function(r){return r.distanceTo(this._point)<=this._radius+this._clickTolerance()}});function ou(r,l){return new lo(r,l)}var bl=lo.extend({initialize:function(r,l,f){if(typeof l=="number"&&(l=u({},f,{radius:l})),D(this,l),this._latlng=at(r),isNaN(this.options.radius))throw new Error("Circle radius cannot be NaN");this._mRadius=this.options.radius},setRadius:function(r){return this._mRadius=r,this.redraw()},getRadius:function(){return this._mRadius},getBounds:function(){var r=[this._radius,this._radiusY||this._radius];return new W(this._map.layerPointToLatLng(this._point.subtract(r)),this._map.layerPointToLatLng(this._point.add(r)))},setStyle:Hr.prototype.setStyle,_project:function(){var r=this._latlng.lng,l=this._latlng.lat,f=this._map,_=f.options.crs;if(_.distance===vt.distance){var T=Math.PI/180,k=this._mRadius/vt.R/T,Y=f.project([l+k,r]),ot=f.project([l-k,r]),pt=Y.add(ot).divideBy(2),St=f.unproject(pt).lat,Mt=Math.acos((Math.cos(k*T)-Math.sin(l*T)*Math.sin(St*T))/(Math.cos(l*T)*Math.cos(St*T)))/T;(isNaN(Mt)||Mt===0)&&(Mt=k/Math.cos(Math.PI/180*l)),this._point=pt.subtract(f.getPixelOrigin()),this._radius=isNaN(Mt)?0:pt.x-f.project([St,r-Mt]).x,this._radiusY=pt.y-Y.y}else{var jt=_.unproject(_.project(this._latlng).subtract([this._mRadius,0]));this._point=f.latLngToLayerPoint(this._latlng),this._radius=this._point.x-f.latLngToLayerPoint(jt).x}this._updateBounds()}});function Ff(r,l,f){return new bl(r,l,f)}var $r=Hr.extend({options:{smoothFactor:1,noClip:!1},initialize:function(r,l){D(this,l),this._setLatLngs(r)},getLatLngs:function(){return this._latlngs},setLatLngs:function(r){return this._setLatLngs(r),this.redraw()},isEmpty:function(){return!this._latlngs.length},closestLayerPoint:function(r){for(var l=1/0,f=null,_=Mi,T,k,Y=0,ot=this._parts.length;Y<ot;Y++)for(var pt=this._parts[Y],St=1,Mt=pt.length;St<Mt;St++){T=pt[St-1],k=pt[St];var jt=_(r,T,k,!0);jt<l&&(l=jt,f=_(r,T,k))}return f&&(f.distance=Math.sqrt(l)),f},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return ml(this._defaultShape(),this._map.options.crs)},getBounds:function(){return this._bounds},addLatLng:function(r,l){return l=l||this._defaultShape(),r=at(r),l.push(r),this._bounds.extend(r),this.redraw()},_setLatLngs:function(r){this._bounds=new W,this._latlngs=this._convertLatLngs(r)},_defaultShape:function(){return sn(this._latlngs)?this._latlngs:this._latlngs[0]},_convertLatLngs:function(r){for(var l=[],f=sn(r),_=0,T=r.length;_<T;_++)f?(l[_]=at(r[_]),this._bounds.extend(l[_])):l[_]=this._convertLatLngs(r[_]);return l},_project:function(){var r=new H;this._rings=[],this._projectLatlngs(this._latlngs,this._rings,r),this._bounds.isValid()&&r.isValid()&&(this._rawPxBounds=r,this._updateBounds())},_updateBounds:function(){var r=this._clickTolerance(),l=new F(r,r);this._rawPxBounds&&(this._pxBounds=new H([this._rawPxBounds.min.subtract(l),this._rawPxBounds.max.add(l)]))},_projectLatlngs:function(r,l,f){var _=r[0]instanceof ut,T=r.length,k,Y;if(_){for(Y=[],k=0;k<T;k++)Y[k]=this._map.latLngToLayerPoint(r[k]),f.extend(Y[k]);l.push(Y)}else for(k=0;k<T;k++)this._projectLatlngs(r[k],l,f)},_clipPoints:function(){var r=this._renderer._bounds;if(this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(r))){if(this.options.noClip){this._parts=this._rings;return}var l=this._parts,f,_,T,k,Y,ot,pt;for(f=0,T=0,k=this._rings.length;f<k;f++)for(pt=this._rings[f],_=0,Y=pt.length;_<Y-1;_++)ot=tu(pt[_],pt[_+1],r,_,!0),ot&&(l[T]=l[T]||[],l[T].push(ot[0]),(ot[1]!==pt[_+1]||_===Y-2)&&(l[T].push(ot[1]),T++))}},_simplifyPoints:function(){for(var r=this._parts,l=this.options.smoothFactor,f=0,_=r.length;f<_;f++)r[f]=Qc(r[f],l)},_update:function(){this._map&&(this._clipPoints(),this._simplifyPoints(),this._updatePath())},_updatePath:function(){this._renderer._updatePoly(this)},_containsPoint:function(r,l){var f,_,T,k,Y,ot,pt=this._clickTolerance();if(!this._pxBounds||!this._pxBounds.contains(r))return!1;for(f=0,k=this._parts.length;f<k;f++)for(ot=this._parts[f],_=0,Y=ot.length,T=Y-1;_<Y;T=_++)if(!(!l&&_===0)&&fl(r,ot[T],ot[_])<=pt)return!0;return!1}});function Xf(r,l){return new $r(r,l)}$r._flat=eu;var ha=$r.extend({options:{fill:!0},isEmpty:function(){return!this._latlngs.length||!this._latlngs[0].length},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return Vo(this._defaultShape(),this._map.options.crs)},_convertLatLngs:function(r){var l=$r.prototype._convertLatLngs.call(this,r),f=l.length;return f>=2&&l[0]instanceof ut&&l[0].equals(l[f-1])&&l.pop(),l},_setLatLngs:function(r){$r.prototype._setLatLngs.call(this,r),sn(this._latlngs)&&(this._latlngs=[this._latlngs])},_defaultShape:function(){return sn(this._latlngs[0])?this._latlngs[0]:this._latlngs[0][0]},_clipPoints:function(){var r=this._renderer._bounds,l=this.options.weight,f=new F(l,l);if(r=new H(r.min.subtract(f),r.max.add(f)),this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(r))){if(this.options.noClip){this._parts=this._rings;return}for(var _=0,T=this._rings.length,k;_<T;_++)k=Wc(this._rings[_],r,!0),k.length&&this._parts.push(k)}},_updatePath:function(){this._renderer._updatePoly(this,!0)},_containsPoint:function(r){var l=!1,f,_,T,k,Y,ot,pt,St;if(!this._pxBounds||!this._pxBounds.contains(r))return!1;for(k=0,pt=this._parts.length;k<pt;k++)for(f=this._parts[k],Y=0,St=f.length,ot=St-1;Y<St;ot=Y++)_=f[Y],T=f[ot],_.y>r.y!=T.y>r.y&&r.x<(T.x-_.x)*(r.y-_.y)/(T.y-_.y)+_.x&&(l=!l);return l||$r.prototype._containsPoint.call(this,r,!0)}});function kn(r,l){return new ha(r,l)}var Cn=jn.extend({initialize:function(r,l){D(this,l),this._layers={},r&&this.addData(r)},addData:function(r){var l=C(r)?r:r.features,f,_,T;if(l){for(f=0,_=l.length;f<_;f++)T=l[f],(T.geometries||T.geometry||T.features||T.coordinates)&&this.addData(T);return this}var k=this.options;if(k.filter&&!k.filter(r))return this;var Y=co(r,k);return Y?(Y.feature=ma(r),Y.defaultOptions=Y.options,this.resetStyle(Y),k.onEachFeature&&k.onEachFeature(r,Y),this.addLayer(Y)):this},resetStyle:function(r){return r===void 0?this.eachLayer(this.resetStyle,this):(r.options=u({},r.defaultOptions),this._setLayerStyle(r,this.options.style),this)},setStyle:function(r){return this.eachLayer(function(l){this._setLayerStyle(l,r)},this)},_setLayerStyle:function(r,l){r.setStyle&&(typeof l=="function"&&(l=l(r.feature)),r.setStyle(l))}});function co(r,l){var f=r.type==="Feature"?r.geometry:r,_=f?f.coordinates:null,T=[],k=l&&l.pointToLayer,Y=l&&l.coordsToLatLng||Qo,ot,pt,St,Mt;if(!_&&!f)return null;switch(f.type){case"Point":return ot=Y(_),yl(k,r,ot,l);case"MultiPoint":for(St=0,Mt=_.length;St<Mt;St++)ot=Y(_[St]),T.push(yl(k,r,ot,l));return new jn(T);case"LineString":case"MultiLineString":return pt=uo(_,f.type==="LineString"?0:1,Y),new $r(pt,l);case"Polygon":case"MultiPolygon":return pt=uo(_,f.type==="Polygon"?1:2,Y),new ha(pt,l);case"GeometryCollection":for(St=0,Mt=f.geometries.length;St<Mt;St++){var jt=co({geometry:f.geometries[St],type:"Feature",properties:r.properties},l);jt&&T.push(jt)}return new jn(T);case"FeatureCollection":for(St=0,Mt=f.features.length;St<Mt;St++){var Ct=co(f.features[St],l);Ct&&T.push(Ct)}return new jn(T);default:throw new Error("Invalid GeoJSON object.")}}function yl(r,l,f,_){return r?r(l,f):new fa(f,_&&_.markersInheritOptions&&_)}function Qo(r){return new ut(r[1],r[0],r[2])}function uo(r,l,f){for(var _=[],T=0,k=r.length,Y;T<k;T++)Y=l?uo(r[T],l-1,f):(f||Qo)(r[T]),_.push(Y);return _}function fo(r,l){return r=at(r),r.alt!==void 0?[S(r.lng,l),S(r.lat,l),S(r.alt,l)]:[S(r.lng,l),S(r.lat,l)]}function Jo(r,l,f,_){for(var T=[],k=0,Y=r.length;k<Y;k++)T.push(l?Jo(r[k],sn(r[k])?0:l-1,f,_):fo(r[k],_));return!l&&f&&T.length>0&&T.push(T[0].slice()),T}function Jn(r,l){return r.feature?u({},r.feature,{geometry:l}):ma(l)}function ma(r){return r.type==="Feature"||r.type==="FeatureCollection"?r:{type:"Feature",properties:{},geometry:r}}var Di={toGeoJSON:function(r){return Jn(this,{type:"Point",coordinates:fo(this.getLatLng(),r)})}};fa.include(Di),bl.include(Di),lo.include(Di),$r.include({toGeoJSON:function(r){var l=!sn(this._latlngs),f=Jo(this._latlngs,l?1:0,!1,r);return Jn(this,{type:(l?"Multi":"")+"LineString",coordinates:f})}}),ha.include({toGeoJSON:function(r){var l=!sn(this._latlngs),f=l&&!sn(this._latlngs[0]),_=Jo(this._latlngs,f?2:l?1:0,!0,r);return l||(_=[_]),Jn(this,{type:(f?"Multi":"")+"Polygon",coordinates:_})}}),Ni.include({toMultiPoint:function(r){var l=[];return this.eachLayer(function(f){l.push(f.toGeoJSON(r).geometry.coordinates)}),Jn(this,{type:"MultiPoint",coordinates:l})},toGeoJSON:function(r){var l=this.feature&&this.feature.geometry&&this.feature.geometry.type;if(l==="MultiPoint")return this.toMultiPoint(r);var f=l==="GeometryCollection",_=[];return this.eachLayer(function(T){if(T.toGeoJSON){var k=T.toGeoJSON(r);if(f)_.push(k.geometry);else{var Y=ma(k);Y.type==="FeatureCollection"?_.push.apply(_,Y.features):_.push(Y)}}}),f?Jn(this,{geometries:_,type:"GeometryCollection"}):{type:"FeatureCollection",features:_}}});function ts(r,l){return new Cn(r,l)}var su=ts,vr=Qn.extend({options:{opacity:1,alt:"",interactive:!1,crossOrigin:!1,errorOverlayUrl:"",zIndex:1,className:""},initialize:function(r,l,f){this._url=r,this._bounds=et(l),D(this,f)},onAdd:function(){this._image||(this._initImage(),this.options.opacity<1&&this._updateOpacity()),this.options.interactive&&(qt(this._image,"leaflet-interactive"),this.addInteractiveTarget(this._image)),this.getPane().appendChild(this._image),this._reset()},onRemove:function(){xe(this._image),this.options.interactive&&this.removeInteractiveTarget(this._image)},setOpacity:function(r){return this.options.opacity=r,this._image&&this._updateOpacity(),this},setStyle:function(r){return r.opacity&&this.setOpacity(r.opacity),this},bringToFront:function(){return this._map&&_i(this._image),this},bringToBack:function(){return this._map&&ta(this._image),this},setUrl:function(r){return this._url=r,this._image&&(this._image.src=r),this},setBounds:function(r){return this._bounds=et(r),this._map&&this._reset(),this},getEvents:function(){var r={zoom:this._reset,viewreset:this._reset};return this._zoomAnimated&&(r.zoomanim=this._animateZoom),r},setZIndex:function(r){return this.options.zIndex=r,this._updateZIndex(),this},getBounds:function(){return this._bounds},getElement:function(){return this._image},_initImage:function(){var r=this._url.tagName==="IMG",l=this._image=r?this._url:re("img");if(qt(l,"leaflet-image-layer"),this._zoomAnimated&&qt(l,"leaflet-zoom-animated"),this.options.className&&qt(l,this.options.className),l.onselectstart=w,l.onmousemove=w,l.onload=h(this.fire,this,"load"),l.onerror=h(this._overlayOnError,this,"error"),(this.options.crossOrigin||this.options.crossOrigin==="")&&(l.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),this.options.zIndex&&this._updateZIndex(),r){this._url=l.src;return}l.src=this._url,l.alt=this.options.alt},_animateZoom:function(r){var l=this._map.getZoomScale(r.zoom),f=this._map._latLngBoundsToNewLayerBounds(this._bounds,r.zoom,r.center).min;Zn(this._image,f,l)},_reset:function(){var r=this._image,l=new H(this._map.latLngToLayerPoint(this._bounds.getNorthWest()),this._map.latLngToLayerPoint(this._bounds.getSouthEast())),f=l.getSize();Le(r,l.min),r.style.width=f.x+"px",r.style.height=f.y+"px"},_updateOpacity:function(){En(this._image,this.options.opacity)},_updateZIndex:function(){this._image&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._image.style.zIndex=this.options.zIndex)},_overlayOnError:function(){this.fire("error");var r=this.options.errorOverlayUrl;r&&this._url!==r&&(this._url=r,this._image.src=r)},getCenter:function(){return this._bounds.getCenter()}}),pa=function(r,l,f){return new vr(r,l,f)},es=vr.extend({options:{autoplay:!0,loop:!0,keepAspectRatio:!0,muted:!1,playsInline:!0},_initImage:function(){var r=this._url.tagName==="VIDEO",l=this._image=r?this._url:re("video");if(qt(l,"leaflet-image-layer"),this._zoomAnimated&&qt(l,"leaflet-zoom-animated"),this.options.className&&qt(l,this.options.className),l.onselectstart=w,l.onmousemove=w,l.onloadeddata=h(this.fire,this,"load"),r){for(var f=l.getElementsByTagName("source"),_=[],T=0;T<f.length;T++)_.push(f[T].src);this._url=f.length>0?_:[l.src];return}C(this._url)||(this._url=[this._url]),!this.options.keepAspectRatio&&Object.prototype.hasOwnProperty.call(l.style,"objectFit")&&(l.style.objectFit="fill"),l.autoplay=!!this.options.autoplay,l.loop=!!this.options.loop,l.muted=!!this.options.muted,l.playsInline=!!this.options.playsInline;for(var k=0;k<this._url.length;k++){var Y=re("source");Y.src=this._url[k],l.appendChild(Y)}}});function lu(r,l,f){return new es(r,l,f)}var ti=vr.extend({_initImage:function(){var r=this._image=this._url;qt(r,"leaflet-image-layer"),this._zoomAnimated&&qt(r,"leaflet-zoom-animated"),this.options.className&&qt(r,this.options.className),r.onselectstart=w,r.onmousemove=w}});function cu(r,l,f){return new ti(r,l,f)}var tr=Qn.extend({options:{interactive:!1,offset:[0,0],className:"",pane:void 0,content:""},initialize:function(r,l){r&&(r instanceof ut||C(r))?(this._latlng=at(r),D(this,l)):(D(this,r),this._source=l),this.options.content&&(this._content=this.options.content)},openOn:function(r){return r=arguments.length?r:this._source._map,r.hasLayer(this)||r.addLayer(this),this},close:function(){return this._map&&this._map.removeLayer(this),this},toggle:function(r){return this._map?this.close():(arguments.length?this._source=r:r=this._source,this._prepareOpen(),this.openOn(r._map)),this},onAdd:function(r){this._zoomAnimated=r._zoomAnimated,this._container||this._initLayout(),r._fadeAnimated&&En(this._container,0),clearTimeout(this._removeTimeout),this.getPane().appendChild(this._container),this.update(),r._fadeAnimated&&En(this._container,1),this.bringToFront(),this.options.interactive&&(qt(this._container,"leaflet-interactive"),this.addInteractiveTarget(this._container))},onRemove:function(r){r._fadeAnimated?(En(this._container,0),this._removeTimeout=setTimeout(h(xe,void 0,this._container),200)):xe(this._container),this.options.interactive&&(Se(this._container,"leaflet-interactive"),this.removeInteractiveTarget(this._container))},getLatLng:function(){return this._latlng},setLatLng:function(r){return this._latlng=at(r),this._map&&(this._updatePosition(),this._adjustPan()),this},getContent:function(){return this._content},setContent:function(r){return this._content=r,this.update(),this},getElement:function(){return this._container},update:function(){this._map&&(this._container.style.visibility="hidden",this._updateContent(),this._updateLayout(),this._updatePosition(),this._container.style.visibility="",this._adjustPan())},getEvents:function(){var r={zoom:this._updatePosition,viewreset:this._updatePosition};return this._zoomAnimated&&(r.zoomanim=this._animateZoom),r},isOpen:function(){return!!this._map&&this._map.hasLayer(this)},bringToFront:function(){return this._map&&_i(this._container),this},bringToBack:function(){return this._map&&ta(this._container),this},_prepareOpen:function(r){var l=this._source;if(!l._map)return!1;if(l instanceof jn){l=null;var f=this._source._layers;for(var _ in f)if(f[_]._map){l=f[_];break}if(!l)return!1;this._source=l}if(!r)if(l.getCenter)r=l.getCenter();else if(l.getLatLng)r=l.getLatLng();else if(l.getBounds)r=l.getBounds().getCenter();else throw new Error("Unable to get source layer LatLng.");return this.setLatLng(r),this._map&&this.update(),!0},_updateContent:function(){if(this._content){var r=this._contentNode,l=typeof this._content=="function"?this._content(this._source||this):this._content;if(typeof l=="string")r.innerHTML=l;else{for(;r.hasChildNodes();)r.removeChild(r.firstChild);r.appendChild(l)}this.fire("contentupdate")}},_updatePosition:function(){if(this._map){var r=this._map.latLngToLayerPoint(this._latlng),l=M(this.options.offset),f=this._getAnchor();this._zoomAnimated?Le(this._container,r.add(f)):l=l.add(r).add(f);var _=this._containerBottom=-l.y,T=this._containerLeft=-Math.round(this._containerWidth/2)+l.x;this._container.style.bottom=_+"px",this._container.style.left=T+"px"}},_getAnchor:function(){return[0,0]}});Xt.include({_initOverlay:function(r,l,f,_){var T=l;return T instanceof r||(T=new r(_).setContent(l)),f&&T.setLatLng(f),T}}),Qn.include({_initOverlay:function(r,l,f,_){var T=f;return T instanceof r?(D(T,_),T._source=this):(T=l&&!_?l:new r(_,this),T.setContent(f)),T}});var ho=tr.extend({options:{pane:"popupPane",offset:[0,7],maxWidth:300,minWidth:50,maxHeight:null,autoPan:!0,autoPanPaddingTopLeft:null,autoPanPaddingBottomRight:null,autoPanPadding:[5,5],keepInView:!1,closeButton:!0,autoClose:!0,closeOnEscapeKey:!0,className:""},openOn:function(r){return r=arguments.length?r:this._source._map,!r.hasLayer(this)&&r._popup&&r._popup.options.autoClose&&r.removeLayer(r._popup),r._popup=this,tr.prototype.openOn.call(this,r)},onAdd:function(r){tr.prototype.onAdd.call(this,r),r.fire("popupopen",{popup:this}),this._source&&(this._source.fire("popupopen",{popup:this},!0),this._source instanceof Hr||this._source.on("preclick",zr))},onRemove:function(r){tr.prototype.onRemove.call(this,r),r.fire("popupclose",{popup:this}),this._source&&(this._source.fire("popupclose",{popup:this},!0),this._source instanceof Hr||this._source.off("preclick",zr))},getEvents:function(){var r=tr.prototype.getEvents.call(this);return(this.options.closeOnClick!==void 0?this.options.closeOnClick:this._map.options.closePopupOnClick)&&(r.preclick=this.close),this.options.keepInView&&(r.moveend=this._adjustPan),r},_initLayout:function(){var r="leaflet-popup",l=this._container=re("div",r+" "+(this.options.className||"")+" leaflet-zoom-animated"),f=this._wrapper=re("div",r+"-content-wrapper",l);if(this._contentNode=re("div",r+"-content",f),sa(l),oa(this._contentNode),Zt(l,"contextmenu",zr),this._tipContainer=re("div",r+"-tip-container",l),this._tip=re("div",r+"-tip",this._tipContainer),this.options.closeButton){var _=this._closeButton=re("a",r+"-close-button",l);_.setAttribute("role","button"),_.setAttribute("aria-label","Close popup"),_.href="#close",_.innerHTML='<span aria-hidden="true">&#215;</span>',Zt(_,"click",function(T){Ie(T),this.close()},this)}},_updateLayout:function(){var r=this._contentNode,l=r.style;l.width="",l.whiteSpace="nowrap";var f=r.offsetWidth;f=Math.min(f,this.options.maxWidth),f=Math.max(f,this.options.minWidth),l.width=f+1+"px",l.whiteSpace="",l.height="";var _=r.offsetHeight,T=this.options.maxHeight,k="leaflet-popup-scrolled";T&&_>T?(l.height=T+"px",qt(r,k)):Se(r,k),this._containerWidth=this._container.offsetWidth},_animateZoom:function(r){var l=this._map._latLngToNewLayerPoint(this._latlng,r.zoom,r.center),f=this._getAnchor();Le(this._container,l.add(f))},_adjustPan:function(){if(this.options.autoPan){if(this._map._panAnim&&this._map._panAnim.stop(),this._autopanning){this._autopanning=!1;return}var r=this._map,l=parseInt(vi(this._container,"marginBottom"),10)||0,f=this._container.offsetHeight+l,_=this._containerWidth,T=new F(this._containerLeft,-f-this._containerBottom);T._add(Wr(this._container));var k=r.layerPointToContainerPoint(T),Y=M(this.options.autoPanPadding),ot=M(this.options.autoPanPaddingTopLeft||Y),pt=M(this.options.autoPanPaddingBottomRight||Y),St=r.getSize(),Mt=0,jt=0;k.x+_+pt.x>St.x&&(Mt=k.x+_-St.x+pt.x),k.x-Mt-ot.x<0&&(Mt=k.x-ot.x),k.y+f+pt.y>St.y&&(jt=k.y+f-St.y+pt.y),k.y-jt-ot.y<0&&(jt=k.y-ot.y),(Mt||jt)&&(this.options.keepInView&&(this._autopanning=!0),r.fire("autopanstart").panBy([Mt,jt]))}},_getAnchor:function(){return M(this._source&&this._source._getPopupAnchor?this._source._getPopupAnchor():[0,0])}}),Wf=function(r,l){return new ho(r,l)};Xt.mergeOptions({closePopupOnClick:!0}),Xt.include({openPopup:function(r,l,f){return this._initOverlay(ho,r,l,f).openOn(this),this},closePopup:function(r){return r=arguments.length?r:this._popup,r&&r.close(),this}}),Qn.include({bindPopup:function(r,l){return this._popup=this._initOverlay(ho,this._popup,r,l),this._popupHandlersAdded||(this.on({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!0),this},unbindPopup:function(){return this._popup&&(this.off({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!1,this._popup=null),this},openPopup:function(r){return this._popup&&(this instanceof jn||(this._popup._source=this),this._popup._prepareOpen(r||this._latlng)&&this._popup.openOn(this._map)),this},closePopup:function(){return this._popup&&this._popup.close(),this},togglePopup:function(){return this._popup&&this._popup.toggle(this),this},isPopupOpen:function(){return this._popup?this._popup.isOpen():!1},setPopupContent:function(r){return this._popup&&this._popup.setContent(r),this},getPopup:function(){return this._popup},_openPopup:function(r){if(!(!this._popup||!this._map)){yr(r);var l=r.layer||r.target;if(this._popup._source===l&&!(l instanceof Hr)){this._map.hasLayer(this._popup)?this.closePopup():this.openPopup(r.latlng);return}this._popup._source=l,this.openPopup(r.latlng)}},_movePopup:function(r){this._popup.setLatLng(r.latlng)},_onKeyPress:function(r){r.originalEvent.keyCode===13&&this._openPopup(r)}});var ns=tr.extend({options:{pane:"tooltipPane",offset:[0,0],direction:"auto",permanent:!1,sticky:!1,opacity:.9},onAdd:function(r){tr.prototype.onAdd.call(this,r),this.setOpacity(this.options.opacity),r.fire("tooltipopen",{tooltip:this}),this._source&&(this.addEventParent(this._source),this._source.fire("tooltipopen",{tooltip:this},!0))},onRemove:function(r){tr.prototype.onRemove.call(this,r),r.fire("tooltipclose",{tooltip:this}),this._source&&(this.removeEventParent(this._source),this._source.fire("tooltipclose",{tooltip:this},!0))},getEvents:function(){var r=tr.prototype.getEvents.call(this);return this.options.permanent||(r.preclick=this.close),r},_initLayout:function(){var r="leaflet-tooltip",l=r+" "+(this.options.className||"")+" leaflet-zoom-"+(this._zoomAnimated?"animated":"hide");this._contentNode=this._container=re("div",l),this._container.setAttribute("role","tooltip"),this._container.setAttribute("id","leaflet-tooltip-"+b(this))},_updateLayout:function(){},_adjustPan:function(){},_setPosition:function(r){var l,f,_=this._map,T=this._container,k=_.latLngToContainerPoint(_.getCenter()),Y=_.layerPointToContainerPoint(r),ot=this.options.direction,pt=T.offsetWidth,St=T.offsetHeight,Mt=M(this.options.offset),jt=this._getAnchor();ot==="top"?(l=pt/2,f=St):ot==="bottom"?(l=pt/2,f=0):ot==="center"?(l=pt/2,f=St/2):ot==="right"?(l=0,f=St/2):ot==="left"?(l=pt,f=St/2):Y.x<k.x?(ot="right",l=0,f=St/2):(ot="left",l=pt+(Mt.x+jt.x)*2,f=St/2),r=r.subtract(M(l,f,!0)).add(Mt).add(jt),Se(T,"leaflet-tooltip-right"),Se(T,"leaflet-tooltip-left"),Se(T,"leaflet-tooltip-top"),Se(T,"leaflet-tooltip-bottom"),qt(T,"leaflet-tooltip-"+ot),Le(T,r)},_updatePosition:function(){var r=this._map.latLngToLayerPoint(this._latlng);this._setPosition(r)},setOpacity:function(r){this.options.opacity=r,this._container&&En(this._container,r)},_animateZoom:function(r){var l=this._map._latLngToNewLayerPoint(this._latlng,r.zoom,r.center);this._setPosition(l)},_getAnchor:function(){return M(this._source&&this._source._getTooltipAnchor&&!this.options.sticky?this._source._getTooltipAnchor():[0,0])}}),Qf=function(r,l){return new ns(r,l)};Xt.include({openTooltip:function(r,l,f){return this._initOverlay(ns,r,l,f).openOn(this),this},closeTooltip:function(r){return r.close(),this}}),Qn.include({bindTooltip:function(r,l){return this._tooltip&&this.isTooltipOpen()&&this.unbindTooltip(),this._tooltip=this._initOverlay(ns,this._tooltip,r,l),this._initTooltipInteractions(),this._tooltip.options.permanent&&this._map&&this._map.hasLayer(this)&&this.openTooltip(),this},unbindTooltip:function(){return this._tooltip&&(this._initTooltipInteractions(!0),this.closeTooltip(),this._tooltip=null),this},_initTooltipInteractions:function(r){if(!(!r&&this._tooltipHandlersAdded)){var l=r?"off":"on",f={remove:this.closeTooltip,move:this._moveTooltip};this._tooltip.options.permanent?f.add=this._openTooltip:(f.mouseover=this._openTooltip,f.mouseout=this.closeTooltip,f.click=this._openTooltip,this._map?this._addFocusListeners():f.add=this._addFocusListeners),this._tooltip.options.sticky&&(f.mousemove=this._moveTooltip),this[l](f),this._tooltipHandlersAdded=!r}},openTooltip:function(r){return this._tooltip&&(this instanceof jn||(this._tooltip._source=this),this._tooltip._prepareOpen(r)&&(this._tooltip.openOn(this._map),this.getElement?this._setAriaDescribedByOnLayer(this):this.eachLayer&&this.eachLayer(this._setAriaDescribedByOnLayer,this))),this},closeTooltip:function(){if(this._tooltip)return this._tooltip.close()},toggleTooltip:function(){return this._tooltip&&this._tooltip.toggle(this),this},isTooltipOpen:function(){return this._tooltip.isOpen()},setTooltipContent:function(r){return this._tooltip&&this._tooltip.setContent(r),this},getTooltip:function(){return this._tooltip},_addFocusListeners:function(){this.getElement?this._addFocusListenersOnLayer(this):this.eachLayer&&this.eachLayer(this._addFocusListenersOnLayer,this)},_addFocusListenersOnLayer:function(r){var l=typeof r.getElement=="function"&&r.getElement();l&&(Zt(l,"focus",function(){this._tooltip._source=r,this.openTooltip()},this),Zt(l,"blur",this.closeTooltip,this))},_setAriaDescribedByOnLayer:function(r){var l=typeof r.getElement=="function"&&r.getElement();l&&l.setAttribute("aria-describedby",this._tooltip._container.id)},_openTooltip:function(r){if(!(!this._tooltip||!this._map)){if(this._map.dragging&&this._map.dragging.moving()&&!this._openOnceFlag){this._openOnceFlag=!0;var l=this;this._map.once("moveend",function(){l._openOnceFlag=!1,l._openTooltip(r)});return}this._tooltip._source=r.layer||r.target,this.openTooltip(this._tooltip.options.sticky?r.latlng:void 0)}},_moveTooltip:function(r){var l=r.latlng,f,_;this._tooltip.options.sticky&&r.originalEvent&&(f=this._map.mouseEventToContainerPoint(r.originalEvent),_=this._map.containerPointToLayerPoint(f),l=this._map.layerPointToLatLng(_)),this._tooltip.setLatLng(l)}});var vl=ua.extend({options:{iconSize:[12,12],html:!1,bgPos:null,className:"leaflet-div-icon"},createIcon:function(r){var l=r&&r.tagName==="DIV"?r:document.createElement("div"),f=this.options;if(f.html instanceof Element?(pn(l),l.appendChild(f.html)):l.innerHTML=f.html!==!1?f.html:"",f.bgPos){var _=M(f.bgPos);l.style.backgroundPosition=-_.x+"px "+-_.y+"px"}return this._setIconStyles(l,"icon"),l},createShadow:function(){return null}});function uu(r){return new vl(r)}ua.Default=da;var Ai=Qn.extend({options:{tileSize:256,opacity:1,updateWhenIdle:Lt.mobile,updateWhenZooming:!0,updateInterval:200,zIndex:1,bounds:null,minZoom:0,maxZoom:void 0,maxNativeZoom:void 0,minNativeZoom:void 0,noWrap:!1,pane:"tilePane",className:"",keepBuffer:2},initialize:function(r){D(this,r)},onAdd:function(){this._initContainer(),this._levels={},this._tiles={},this._resetView()},beforeAdd:function(r){r._addZoomLimit(this)},onRemove:function(r){this._removeAllTiles(),xe(this._container),r._removeZoomLimit(this),this._container=null,this._tileZoom=void 0},bringToFront:function(){return this._map&&(_i(this._container),this._setAutoZIndex(Math.max)),this},bringToBack:function(){return this._map&&(ta(this._container),this._setAutoZIndex(Math.min)),this},getContainer:function(){return this._container},setOpacity:function(r){return this.options.opacity=r,this._updateOpacity(),this},setZIndex:function(r){return this.options.zIndex=r,this._updateZIndex(),this},isLoading:function(){return this._loading},redraw:function(){if(this._map){this._removeAllTiles();var r=this._clampZoom(this._map.getZoom());r!==this._tileZoom&&(this._tileZoom=r,this._updateLevels()),this._update()}return this},getEvents:function(){var r={viewprereset:this._invalidateAll,viewreset:this._resetView,zoom:this._resetView,moveend:this._onMoveEnd};return this.options.updateWhenIdle||(this._onMove||(this._onMove=v(this._onMoveEnd,this.options.updateInterval,this)),r.move=this._onMove),this._zoomAnimated&&(r.zoomanim=this._animateZoom),r},createTile:function(){return document.createElement("div")},getTileSize:function(){var r=this.options.tileSize;return r instanceof F?r:new F(r,r)},_updateZIndex:function(){this._container&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._container.style.zIndex=this.options.zIndex)},_setAutoZIndex:function(r){for(var l=this.getPane().children,f=-r(-1/0,1/0),_=0,T=l.length,k;_<T;_++)k=l[_].style.zIndex,l[_]!==this._container&&k&&(f=r(f,+k));isFinite(f)&&(this.options.zIndex=f+r(-1,1),this._updateZIndex())},_updateOpacity:function(){if(this._map&&!Lt.ielt9){En(this._container,this.options.opacity);var r=+new Date,l=!1,f=!1;for(var _ in this._tiles){var T=this._tiles[_];if(!(!T.current||!T.loaded)){var k=Math.min(1,(r-T.loaded)/200);En(T.el,k),k<1?l=!0:(T.active?f=!0:this._onOpaqueTile(T),T.active=!0)}}f&&!this._noPrune&&this._pruneTiles(),l&&(I(this._fadeFrame),this._fadeFrame=K(this._updateOpacity,this))}},_onOpaqueTile:w,_initContainer:function(){this._container||(this._container=re("div","leaflet-layer "+(this.options.className||"")),this._updateZIndex(),this.options.opacity<1&&this._updateOpacity(),this.getPane().appendChild(this._container))},_updateLevels:function(){var r=this._tileZoom,l=this.options.maxZoom;if(r!==void 0){for(var f in this._levels)f=Number(f),this._levels[f].el.children.length||f===r?(this._levels[f].el.style.zIndex=l-Math.abs(r-f),this._onUpdateLevel(f)):(xe(this._levels[f].el),this._removeTilesAtZoom(f),this._onRemoveLevel(f),delete this._levels[f]);var _=this._levels[r],T=this._map;return _||(_=this._levels[r]={},_.el=re("div","leaflet-tile-container leaflet-zoom-animated",this._container),_.el.style.zIndex=l,_.origin=T.project(T.unproject(T.getPixelOrigin()),r).round(),_.zoom=r,this._setZoomTransform(_,T.getCenter(),T.getZoom()),w(_.el.offsetWidth),this._onCreateLevel(_)),this._level=_,_}},_onUpdateLevel:w,_onRemoveLevel:w,_onCreateLevel:w,_pruneTiles:function(){if(this._map){var r,l,f=this._map.getZoom();if(f>this.options.maxZoom||f<this.options.minZoom){this._removeAllTiles();return}for(r in this._tiles)l=this._tiles[r],l.retain=l.current;for(r in this._tiles)if(l=this._tiles[r],l.current&&!l.active){var _=l.coords;this._retainParent(_.x,_.y,_.z,_.z-5)||this._retainChildren(_.x,_.y,_.z,_.z+2)}for(r in this._tiles)this._tiles[r].retain||this._removeTile(r)}},_removeTilesAtZoom:function(r){for(var l in this._tiles)this._tiles[l].coords.z===r&&this._removeTile(l)},_removeAllTiles:function(){for(var r in this._tiles)this._removeTile(r)},_invalidateAll:function(){for(var r in this._levels)xe(this._levels[r].el),this._onRemoveLevel(Number(r)),delete this._levels[r];this._removeAllTiles(),this._tileZoom=void 0},_retainParent:function(r,l,f,_){var T=Math.floor(r/2),k=Math.floor(l/2),Y=f-1,ot=new F(+T,+k);ot.z=+Y;var pt=this._tileCoordsToKey(ot),St=this._tiles[pt];return St&&St.active?(St.retain=!0,!0):(St&&St.loaded&&(St.retain=!0),Y>_?this._retainParent(T,k,Y,_):!1)},_retainChildren:function(r,l,f,_){for(var T=2*r;T<2*r+2;T++)for(var k=2*l;k<2*l+2;k++){var Y=new F(T,k);Y.z=f+1;var ot=this._tileCoordsToKey(Y),pt=this._tiles[ot];if(pt&&pt.active){pt.retain=!0;continue}else pt&&pt.loaded&&(pt.retain=!0);f+1<_&&this._retainChildren(T,k,f+1,_)}},_resetView:function(r){var l=r&&(r.pinch||r.flyTo);this._setView(this._map.getCenter(),this._map.getZoom(),l,l)},_animateZoom:function(r){this._setView(r.center,r.zoom,!0,r.noUpdate)},_clampZoom:function(r){var l=this.options;return l.minNativeZoom!==void 0&&r<l.minNativeZoom?l.minNativeZoom:l.maxNativeZoom!==void 0&&l.maxNativeZoom<r?l.maxNativeZoom:r},_setView:function(r,l,f,_){var T=Math.round(l);this.options.maxZoom!==void 0&&T>this.options.maxZoom||this.options.minZoom!==void 0&&T<this.options.minZoom?T=void 0:T=this._clampZoom(T);var k=this.options.updateWhenZooming&&T!==this._tileZoom;(!_||k)&&(this._tileZoom=T,this._abortLoading&&this._abortLoading(),this._updateLevels(),this._resetGrid(),T!==void 0&&this._update(r),f||this._pruneTiles(),this._noPrune=!!f),this._setZoomTransforms(r,l)},_setZoomTransforms:function(r,l){for(var f in this._levels)this._setZoomTransform(this._levels[f],r,l)},_setZoomTransform:function(r,l,f){var _=this._map.getZoomScale(f,r.zoom),T=r.origin.multiplyBy(_).subtract(this._map._getNewPixelOrigin(l,f)).round();Lt.any3d?Zn(r.el,T,_):Le(r.el,T)},_resetGrid:function(){var r=this._map,l=r.options.crs,f=this._tileSize=this.getTileSize(),_=this._tileZoom,T=this._map.getPixelWorldBounds(this._tileZoom);T&&(this._globalTileRange=this._pxBoundsToTileRange(T)),this._wrapX=l.wrapLng&&!this.options.noWrap&&[Math.floor(r.project([0,l.wrapLng[0]],_).x/f.x),Math.ceil(r.project([0,l.wrapLng[1]],_).x/f.y)],this._wrapY=l.wrapLat&&!this.options.noWrap&&[Math.floor(r.project([l.wrapLat[0],0],_).y/f.x),Math.ceil(r.project([l.wrapLat[1],0],_).y/f.y)]},_onMoveEnd:function(){!this._map||this._map._animatingZoom||this._update()},_getTiledPixelBounds:function(r){var l=this._map,f=l._animatingZoom?Math.max(l._animateToZoom,l.getZoom()):l.getZoom(),_=l.getZoomScale(f,this._tileZoom),T=l.project(r,this._tileZoom).floor(),k=l.getSize().divideBy(_*2);return new H(T.subtract(k),T.add(k))},_update:function(r){var l=this._map;if(l){var f=this._clampZoom(l.getZoom());if(r===void 0&&(r=l.getCenter()),this._tileZoom!==void 0){var _=this._getTiledPixelBounds(r),T=this._pxBoundsToTileRange(_),k=T.getCenter(),Y=[],ot=this.options.keepBuffer,pt=new H(T.getBottomLeft().subtract([ot,-ot]),T.getTopRight().add([ot,-ot]));if(!(isFinite(T.min.x)&&isFinite(T.min.y)&&isFinite(T.max.x)&&isFinite(T.max.y)))throw new Error("Attempted to load an infinite number of tiles");for(var St in this._tiles){var Mt=this._tiles[St].coords;(Mt.z!==this._tileZoom||!pt.contains(new F(Mt.x,Mt.y)))&&(this._tiles[St].current=!1)}if(Math.abs(f-this._tileZoom)>1){this._setView(r,f);return}for(var jt=T.min.y;jt<=T.max.y;jt++)for(var Ct=T.min.x;Ct<=T.max.x;Ct++){var Ut=new F(Ct,jt);if(Ut.z=this._tileZoom,!!this._isValidTile(Ut)){var we=this._tiles[this._tileCoordsToKey(Ut)];we?we.current=!0:Y.push(Ut)}}if(Y.sort(function(ln,Yn){return ln.distanceTo(k)-Yn.distanceTo(k)}),Y.length!==0){this._loading||(this._loading=!0,this.fire("loading"));var Be=document.createDocumentFragment();for(Ct=0;Ct<Y.length;Ct++)this._addTile(Y[Ct],Be);this._level.el.appendChild(Be)}}}},_isValidTile:function(r){var l=this._map.options.crs;if(!l.infinite){var f=this._globalTileRange;if(!l.wrapLng&&(r.x<f.min.x||r.x>f.max.x)||!l.wrapLat&&(r.y<f.min.y||r.y>f.max.y))return!1}if(!this.options.bounds)return!0;var _=this._tileCoordsToBounds(r);return et(this.options.bounds).overlaps(_)},_keyToBounds:function(r){return this._tileCoordsToBounds(this._keyToTileCoords(r))},_tileCoordsToNwSe:function(r){var l=this._map,f=this.getTileSize(),_=r.scaleBy(f),T=_.add(f),k=l.unproject(_,r.z),Y=l.unproject(T,r.z);return[k,Y]},_tileCoordsToBounds:function(r){var l=this._tileCoordsToNwSe(r),f=new W(l[0],l[1]);return this.options.noWrap||(f=this._map.wrapLatLngBounds(f)),f},_tileCoordsToKey:function(r){return r.x+":"+r.y+":"+r.z},_keyToTileCoords:function(r){var l=r.split(":"),f=new F(+l[0],+l[1]);return f.z=+l[2],f},_removeTile:function(r){var l=this._tiles[r];l&&(xe(l.el),delete this._tiles[r],this.fire("tileunload",{tile:l.el,coords:this._keyToTileCoords(r)}))},_initTile:function(r){qt(r,"leaflet-tile");var l=this.getTileSize();r.style.width=l.x+"px",r.style.height=l.y+"px",r.onselectstart=w,r.onmousemove=w,Lt.ielt9&&this.options.opacity<1&&En(r,this.options.opacity)},_addTile:function(r,l){var f=this._getTilePos(r),_=this._tileCoordsToKey(r),T=this.createTile(this._wrapCoords(r),h(this._tileReady,this,r));this._initTile(T),this.createTile.length<2&&K(h(this._tileReady,this,r,null,T)),Le(T,f),this._tiles[_]={el:T,coords:r,current:!0},l.appendChild(T),this.fire("tileloadstart",{tile:T,coords:r})},_tileReady:function(r,l,f){l&&this.fire("tileerror",{error:l,tile:f,coords:r});var _=this._tileCoordsToKey(r);f=this._tiles[_],f&&(f.loaded=+new Date,this._map._fadeAnimated?(En(f.el,0),I(this._fadeFrame),this._fadeFrame=K(this._updateOpacity,this)):(f.active=!0,this._pruneTiles()),l||(qt(f.el,"leaflet-tile-loaded"),this.fire("tileload",{tile:f.el,coords:r})),this._noTilesToLoad()&&(this._loading=!1,this.fire("load"),Lt.ielt9||!this._map._fadeAnimated?K(this._pruneTiles,this):setTimeout(h(this._pruneTiles,this),250)))},_getTilePos:function(r){return r.scaleBy(this.getTileSize()).subtract(this._level.origin)},_wrapCoords:function(r){var l=new F(this._wrapX?x(r.x,this._wrapX):r.x,this._wrapY?x(r.y,this._wrapY):r.y);return l.z=r.z,l},_pxBoundsToTileRange:function(r){var l=this.getTileSize();return new H(r.min.unscaleBy(l).floor(),r.max.unscaleBy(l).ceil().subtract([1,1]))},_noTilesToLoad:function(){for(var r in this._tiles)if(!this._tiles[r].loaded)return!1;return!0}});function er(r){return new Ai(r)}var ji=Ai.extend({options:{minZoom:0,maxZoom:18,subdomains:"abc",errorTileUrl:"",zoomOffset:0,tms:!1,zoomReverse:!1,detectRetina:!1,crossOrigin:!1,referrerPolicy:!1},initialize:function(r,l){this._url=r,l=D(this,l),l.detectRetina&&Lt.retina&&l.maxZoom>0?(l.tileSize=Math.floor(l.tileSize/2),l.zoomReverse?(l.zoomOffset--,l.minZoom=Math.min(l.maxZoom,l.minZoom+1)):(l.zoomOffset++,l.maxZoom=Math.max(l.minZoom,l.maxZoom-1)),l.minZoom=Math.max(0,l.minZoom)):l.zoomReverse?l.minZoom=Math.min(l.maxZoom,l.minZoom):l.maxZoom=Math.max(l.minZoom,l.maxZoom),typeof l.subdomains=="string"&&(l.subdomains=l.subdomains.split("")),this.on("tileunload",this._onTileRemove)},setUrl:function(r,l){return this._url===r&&l===void 0&&(l=!0),this._url=r,l||this.redraw(),this},createTile:function(r,l){var f=document.createElement("img");return Zt(f,"load",h(this._tileOnLoad,this,l,f)),Zt(f,"error",h(this._tileOnError,this,l,f)),(this.options.crossOrigin||this.options.crossOrigin==="")&&(f.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),typeof this.options.referrerPolicy=="string"&&(f.referrerPolicy=this.options.referrerPolicy),f.alt="",f.src=this.getTileUrl(r),f},getTileUrl:function(r){var l={r:Lt.retina?"@2x":"",s:this._getSubdomain(r),x:r.x,y:r.y,z:this._getZoomForUrl()};if(this._map&&!this._map.options.crs.infinite){var f=this._globalTileRange.max.y-r.y;this.options.tms&&(l.y=f),l["-y"]=f}return z(this._url,u(l,this.options))},_tileOnLoad:function(r,l){Lt.ielt9?setTimeout(h(r,this,null,l),0):r(null,l)},_tileOnError:function(r,l,f){var _=this.options.errorTileUrl;_&&l.getAttribute("src")!==_&&(l.src=_),r(f,l)},_onTileRemove:function(r){r.tile.onload=null},_getZoomForUrl:function(){var r=this._tileZoom,l=this.options.maxZoom,f=this.options.zoomReverse,_=this.options.zoomOffset;return f&&(r=l-r),r+_},_getSubdomain:function(r){var l=Math.abs(r.x+r.y)%this.options.subdomains.length;return this.options.subdomains[l]},_abortLoading:function(){var r,l;for(r in this._tiles)if(this._tiles[r].coords.z!==this._tileZoom&&(l=this._tiles[r].el,l.onload=w,l.onerror=w,!l.complete)){l.src=B;var f=this._tiles[r].coords;xe(l),delete this._tiles[r],this.fire("tileabort",{tile:l,coords:f})}},_removeTile:function(r){var l=this._tiles[r];if(l)return l.el.setAttribute("src",B),Ai.prototype._removeTile.call(this,r)},_tileReady:function(r,l,f){if(!(!this._map||f&&f.getAttribute("src")===B))return Ai.prototype._tileReady.call(this,r,l,f)}});function On(r,l){return new ji(r,l)}var Ln=ji.extend({defaultWmsParams:{service:"WMS",request:"GetMap",layers:"",styles:"",format:"image/jpeg",transparent:!1,version:"1.1.1"},options:{crs:null,uppercase:!1},initialize:function(r,l){this._url=r;var f=u({},this.defaultWmsParams);for(var _ in l)_ in this.options||(f[_]=l[_]);l=D(this,l);var T=l.detectRetina&&Lt.retina?2:1,k=this.getTileSize();f.width=k.x*T,f.height=k.y*T,this.wmsParams=f},onAdd:function(r){this._crs=this.options.crs||r.options.crs,this._wmsVersion=parseFloat(this.wmsParams.version);var l=this._wmsVersion>=1.3?"crs":"srs";this.wmsParams[l]=this._crs.code,ji.prototype.onAdd.call(this,r)},getTileUrl:function(r){var l=this._tileCoordsToNwSe(r),f=this._crs,_=U(f.project(l[0]),f.project(l[1])),T=_.min,k=_.max,Y=(this._wmsVersion>=1.3&&this._crs===iu?[T.y,T.x,k.y,k.x]:[T.x,T.y,k.x,k.y]).join(","),ot=ji.prototype.getTileUrl.call(this,r);return ot+j(this.wmsParams,ot,this.options.uppercase)+(this.options.uppercase?"&BBOX=":"&bbox=")+Y},setParams:function(r,l){return u(this.wmsParams,r),l||this.redraw(),this}});function ga(r,l){return new Ln(r,l)}ji.WMS=Ln,On.wms=ga;var nr=Qn.extend({options:{padding:.1},initialize:function(r){D(this,r),b(this),this._layers=this._layers||{}},onAdd:function(){this._container||(this._initContainer(),qt(this._container,"leaflet-zoom-animated")),this.getPane().appendChild(this._container),this._update(),this.on("update",this._updatePaths,this)},onRemove:function(){this.off("update",this._updatePaths,this),this._destroyContainer()},getEvents:function(){var r={viewreset:this._reset,zoom:this._onZoom,moveend:this._update,zoomend:this._onZoomEnd};return this._zoomAnimated&&(r.zoomanim=this._onAnimZoom),r},_onAnimZoom:function(r){this._updateTransform(r.center,r.zoom)},_onZoom:function(){this._updateTransform(this._map.getCenter(),this._map.getZoom())},_updateTransform:function(r,l){var f=this._map.getZoomScale(l,this._zoom),_=this._map.getSize().multiplyBy(.5+this.options.padding),T=this._map.project(this._center,l),k=_.multiplyBy(-f).add(T).subtract(this._map._getNewPixelOrigin(r,l));Lt.any3d?Zn(this._container,k,f):Le(this._container,k)},_reset:function(){this._update(),this._updateTransform(this._center,this._zoom);for(var r in this._layers)this._layers[r]._reset()},_onZoomEnd:function(){for(var r in this._layers)this._layers[r]._project()},_updatePaths:function(){for(var r in this._layers)this._layers[r]._update()},_update:function(){var r=this.options.padding,l=this._map.getSize(),f=this._map.containerPointToLayerPoint(l.multiplyBy(-r)).round();this._bounds=new H(f,f.add(l.multiplyBy(1+r*2)).round()),this._center=this._map.getCenter(),this._zoom=this._map.getZoom()}}),mo=nr.extend({options:{tolerance:0},getEvents:function(){var r=nr.prototype.getEvents.call(this);return r.viewprereset=this._onViewPreReset,r},_onViewPreReset:function(){this._postponeUpdatePaths=!0},onAdd:function(){nr.prototype.onAdd.call(this),this._draw()},_initContainer:function(){var r=this._container=document.createElement("canvas");Zt(r,"mousemove",this._onMouseMove,this),Zt(r,"click dblclick mousedown mouseup contextmenu",this._onClick,this),Zt(r,"mouseout",this._handleMouseOut,this),r._leaflet_disable_events=!0,this._ctx=r.getContext("2d")},_destroyContainer:function(){I(this._redrawRequest),delete this._ctx,xe(this._container),se(this._container),delete this._container},_updatePaths:function(){if(!this._postponeUpdatePaths){var r;this._redrawBounds=null;for(var l in this._layers)r=this._layers[l],r._update();this._redraw()}},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){nr.prototype._update.call(this);var r=this._bounds,l=this._container,f=r.getSize(),_=Lt.retina?2:1;Le(l,r.min),l.width=_*f.x,l.height=_*f.y,l.style.width=f.x+"px",l.style.height=f.y+"px",Lt.retina&&this._ctx.scale(2,2),this._ctx.translate(-r.min.x,-r.min.y),this.fire("update")}},_reset:function(){nr.prototype._reset.call(this),this._postponeUpdatePaths&&(this._postponeUpdatePaths=!1,this._updatePaths())},_initPath:function(r){this._updateDashArray(r),this._layers[b(r)]=r;var l=r._order={layer:r,prev:this._drawLast,next:null};this._drawLast&&(this._drawLast.next=l),this._drawLast=l,this._drawFirst=this._drawFirst||this._drawLast},_addPath:function(r){this._requestRedraw(r)},_removePath:function(r){var l=r._order,f=l.next,_=l.prev;f?f.prev=_:this._drawLast=_,_?_.next=f:this._drawFirst=f,delete r._order,delete this._layers[b(r)],this._requestRedraw(r)},_updatePath:function(r){this._extendRedrawBounds(r),r._project(),r._update(),this._requestRedraw(r)},_updateStyle:function(r){this._updateDashArray(r),this._requestRedraw(r)},_updateDashArray:function(r){if(typeof r.options.dashArray=="string"){var l=r.options.dashArray.split(/[, ]+/),f=[],_,T;for(T=0;T<l.length;T++){if(_=Number(l[T]),isNaN(_))return;f.push(_)}r.options._dashArray=f}else r.options._dashArray=r.options.dashArray},_requestRedraw:function(r){this._map&&(this._extendRedrawBounds(r),this._redrawRequest=this._redrawRequest||K(this._redraw,this))},_extendRedrawBounds:function(r){if(r._pxBounds){var l=(r.options.weight||0)+1;this._redrawBounds=this._redrawBounds||new H,this._redrawBounds.extend(r._pxBounds.min.subtract([l,l])),this._redrawBounds.extend(r._pxBounds.max.add([l,l]))}},_redraw:function(){this._redrawRequest=null,this._redrawBounds&&(this._redrawBounds.min._floor(),this._redrawBounds.max._ceil()),this._clear(),this._draw(),this._redrawBounds=null},_clear:function(){var r=this._redrawBounds;if(r){var l=r.getSize();this._ctx.clearRect(r.min.x,r.min.y,l.x,l.y)}else this._ctx.save(),this._ctx.setTransform(1,0,0,1,0,0),this._ctx.clearRect(0,0,this._container.width,this._container.height),this._ctx.restore()},_draw:function(){var r,l=this._redrawBounds;if(this._ctx.save(),l){var f=l.getSize();this._ctx.beginPath(),this._ctx.rect(l.min.x,l.min.y,f.x,f.y),this._ctx.clip()}this._drawing=!0;for(var _=this._drawFirst;_;_=_.next)r=_.layer,(!l||r._pxBounds&&r._pxBounds.intersects(l))&&r._updatePath();this._drawing=!1,this._ctx.restore()},_updatePoly:function(r,l){if(this._drawing){var f,_,T,k,Y=r._parts,ot=Y.length,pt=this._ctx;if(ot){for(pt.beginPath(),f=0;f<ot;f++){for(_=0,T=Y[f].length;_<T;_++)k=Y[f][_],pt[_?"lineTo":"moveTo"](k.x,k.y);l&&pt.closePath()}this._fillStroke(pt,r)}}},_updateCircle:function(r){if(!(!this._drawing||r._empty())){var l=r._point,f=this._ctx,_=Math.max(Math.round(r._radius),1),T=(Math.max(Math.round(r._radiusY),1)||_)/_;T!==1&&(f.save(),f.scale(1,T)),f.beginPath(),f.arc(l.x,l.y/T,_,0,Math.PI*2,!1),T!==1&&f.restore(),this._fillStroke(f,r)}},_fillStroke:function(r,l){var f=l.options;f.fill&&(r.globalAlpha=f.fillOpacity,r.fillStyle=f.fillColor||f.color,r.fill(f.fillRule||"evenodd")),f.stroke&&f.weight!==0&&(r.setLineDash&&r.setLineDash(l.options&&l.options._dashArray||[]),r.globalAlpha=f.opacity,r.lineWidth=f.weight,r.strokeStyle=f.color,r.lineCap=f.lineCap,r.lineJoin=f.lineJoin,r.stroke())},_onClick:function(r){for(var l=this._map.mouseEventToLayerPoint(r),f,_,T=this._drawFirst;T;T=T.next)f=T.layer,f.options.interactive&&f._containsPoint(l)&&(!(r.type==="click"||r.type==="preclick")||!this._map._draggableMoved(f))&&(_=f);this._fireEvent(_?[_]:!1,r)},_onMouseMove:function(r){if(!(!this._map||this._map.dragging.moving()||this._map._animatingZoom)){var l=this._map.mouseEventToLayerPoint(r);this._handleMouseHover(r,l)}},_handleMouseOut:function(r){var l=this._hoveredLayer;l&&(Se(this._container,"leaflet-interactive"),this._fireEvent([l],r,"mouseout"),this._hoveredLayer=null,this._mouseHoverThrottled=!1)},_handleMouseHover:function(r,l){if(!this._mouseHoverThrottled){for(var f,_,T=this._drawFirst;T;T=T.next)f=T.layer,f.options.interactive&&f._containsPoint(l)&&(_=f);_!==this._hoveredLayer&&(this._handleMouseOut(r),_&&(qt(this._container,"leaflet-interactive"),this._fireEvent([_],r,"mouseover"),this._hoveredLayer=_)),this._fireEvent(this._hoveredLayer?[this._hoveredLayer]:!1,r),this._mouseHoverThrottled=!0,setTimeout(h(function(){this._mouseHoverThrottled=!1},this),32)}},_fireEvent:function(r,l,f){this._map._fireDOMEvent(l,f||l.type,r)},_bringToFront:function(r){var l=r._order;if(l){var f=l.next,_=l.prev;if(f)f.prev=_;else return;_?_.next=f:f&&(this._drawFirst=f),l.prev=this._drawLast,this._drawLast.next=l,l.next=null,this._drawLast=l,this._requestRedraw(r)}},_bringToBack:function(r){var l=r._order;if(l){var f=l.next,_=l.prev;if(_)_.next=f;else return;f?f.prev=_:_&&(this._drawLast=_),l.prev=null,l.next=this._drawFirst,this._drawFirst.prev=l,this._drawFirst=l,this._requestRedraw(r)}}});function po(r){return Lt.canvas?new mo(r):null}var ki=(function(){try{return document.namespaces.add("lvml","urn:schemas-microsoft-com:vml"),function(r){return document.createElement("<lvml:"+r+' class="lvml">')}}catch{}return function(r){return document.createElement("<"+r+' xmlns="urn:schemas-microsoft.com:vml" class="lvml">')}})(),ba={_initContainer:function(){this._container=re("div","leaflet-vml-container")},_update:function(){this._map._animatingZoom||(nr.prototype._update.call(this),this.fire("update"))},_initPath:function(r){var l=r._container=ki("shape");qt(l,"leaflet-vml-shape "+(this.options.className||"")),l.coordsize="1 1",r._path=ki("path"),l.appendChild(r._path),this._updateStyle(r),this._layers[b(r)]=r},_addPath:function(r){var l=r._container;this._container.appendChild(l),r.options.interactive&&r.addInteractiveTarget(l)},_removePath:function(r){var l=r._container;xe(l),r.removeInteractiveTarget(l),delete this._layers[b(r)]},_updateStyle:function(r){var l=r._stroke,f=r._fill,_=r.options,T=r._container;T.stroked=!!_.stroke,T.filled=!!_.fill,_.stroke?(l||(l=r._stroke=ki("stroke")),T.appendChild(l),l.weight=_.weight+"px",l.color=_.color,l.opacity=_.opacity,_.dashArray?l.dashStyle=C(_.dashArray)?_.dashArray.join(" "):_.dashArray.replace(/( *, *)/g," "):l.dashStyle="",l.endcap=_.lineCap.replace("butt","flat"),l.joinstyle=_.lineJoin):l&&(T.removeChild(l),r._stroke=null),_.fill?(f||(f=r._fill=ki("fill")),T.appendChild(f),f.color=_.fillColor||_.color,f.opacity=_.fillOpacity):f&&(T.removeChild(f),r._fill=null)},_updateCircle:function(r){var l=r._point.round(),f=Math.round(r._radius),_=Math.round(r._radiusY||f);this._setPath(r,r._empty()?"M0 0":"AL "+l.x+","+l.y+" "+f+","+_+" 0,"+65535*360)},_setPath:function(r,l){r._path.v=l},_bringToFront:function(r){_i(r._container)},_bringToBack:function(r){ta(r._container)}},go=Lt.vml?ki:Ae,ei=nr.extend({_initContainer:function(){this._container=go("svg"),this._container.setAttribute("pointer-events","none"),this._rootGroup=go("g"),this._container.appendChild(this._rootGroup)},_destroyContainer:function(){xe(this._container),se(this._container),delete this._container,delete this._rootGroup,delete this._svgSize},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){nr.prototype._update.call(this);var r=this._bounds,l=r.getSize(),f=this._container;(!this._svgSize||!this._svgSize.equals(l))&&(this._svgSize=l,f.setAttribute("width",l.x),f.setAttribute("height",l.y)),Le(f,r.min),f.setAttribute("viewBox",[r.min.x,r.min.y,l.x,l.y].join(" ")),this.fire("update")}},_initPath:function(r){var l=r._path=go("path");r.options.className&&qt(l,r.options.className),r.options.interactive&&qt(l,"leaflet-interactive"),this._updateStyle(r),this._layers[b(r)]=r},_addPath:function(r){this._rootGroup||this._initContainer(),this._rootGroup.appendChild(r._path),r.addInteractiveTarget(r._path)},_removePath:function(r){xe(r._path),r.removeInteractiveTarget(r._path),delete this._layers[b(r)]},_updatePath:function(r){r._project(),r._update()},_updateStyle:function(r){var l=r._path,f=r.options;l&&(f.stroke?(l.setAttribute("stroke",f.color),l.setAttribute("stroke-opacity",f.opacity),l.setAttribute("stroke-width",f.weight),l.setAttribute("stroke-linecap",f.lineCap),l.setAttribute("stroke-linejoin",f.lineJoin),f.dashArray?l.setAttribute("stroke-dasharray",f.dashArray):l.removeAttribute("stroke-dasharray"),f.dashOffset?l.setAttribute("stroke-dashoffset",f.dashOffset):l.removeAttribute("stroke-dashoffset")):l.setAttribute("stroke","none"),f.fill?(l.setAttribute("fill",f.fillColor||f.color),l.setAttribute("fill-opacity",f.fillOpacity),l.setAttribute("fill-rule",f.fillRule||"evenodd")):l.setAttribute("fill","none"))},_updatePoly:function(r,l){this._setPath(r,Ve(r._parts,l))},_updateCircle:function(r){var l=r._point,f=Math.max(Math.round(r._radius),1),_=Math.max(Math.round(r._radiusY),1)||f,T="a"+f+","+_+" 0 1,0 ",k=r._empty()?"M0 0":"M"+(l.x-f)+","+l.y+T+f*2+",0 "+T+-f*2+",0 ";this._setPath(r,k)},_setPath:function(r,l){r._path.setAttribute("d",l)},_bringToFront:function(r){_i(r._path)},_bringToBack:function(r){ta(r._path)}});Lt.vml&&ei.include(ba);function Ci(r){return Lt.svg||Lt.vml?new ei(r):null}Xt.include({getRenderer:function(r){var l=r.options.renderer||this._getPaneRenderer(r.options.pane)||this.options.renderer||this._renderer;return l||(l=this._renderer=this._createRenderer()),this.hasLayer(l)||this.addLayer(l),l},_getPaneRenderer:function(r){if(r==="overlayPane"||r===void 0)return!1;var l=this._paneRenderers[r];return l===void 0&&(l=this._createRenderer({pane:r}),this._paneRenderers[r]=l),l},_createRenderer:function(r){return this.options.preferCanvas&&po(r)||Ci(r)}});var du=ha.extend({initialize:function(r,l){ha.prototype.initialize.call(this,this._boundsToLatLngs(r),l)},setBounds:function(r){return this.setLatLngs(this._boundsToLatLngs(r))},_boundsToLatLngs:function(r){return r=et(r),[r.getSouthWest(),r.getNorthWest(),r.getNorthEast(),r.getSouthEast()]}});function Bn(r,l){return new du(r,l)}ei.create=go,ei.pointsToPath=Ve,Cn.geometryToLayer=co,Cn.coordsToLatLng=Qo,Cn.coordsToLatLngs=uo,Cn.latLngToCoords=fo,Cn.latLngsToCoords=Jo,Cn.getFeature=Jn,Cn.asFeature=ma,Xt.mergeOptions({boxZoom:!0});var rs=Wn.extend({initialize:function(r){this._map=r,this._container=r._container,this._pane=r._panes.overlayPane,this._resetStateTimeout=0,r.on("unload",this._destroy,this)},addHooks:function(){Zt(this._container,"mousedown",this._onMouseDown,this)},removeHooks:function(){se(this._container,"mousedown",this._onMouseDown,this)},moved:function(){return this._moved},_destroy:function(){xe(this._pane),delete this._pane},_resetState:function(){this._resetStateTimeout=0,this._moved=!1},_clearDeferredResetState:function(){this._resetStateTimeout!==0&&(clearTimeout(this._resetStateTimeout),this._resetStateTimeout=0)},_onMouseDown:function(r){if(!r.shiftKey||r.which!==1&&r.button!==1)return!1;this._clearDeferredResetState(),this._resetState(),pr(),no(),this._startPoint=this._map.mouseEventToContainerPoint(r),Zt(document,{contextmenu:yr,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseMove:function(r){this._moved||(this._moved=!0,this._box=re("div","leaflet-zoom-box",this._container),qt(this._container,"leaflet-crosshair"),this._map.fire("boxzoomstart")),this._point=this._map.mouseEventToContainerPoint(r);var l=new H(this._point,this._startPoint),f=l.getSize();Le(this._box,l.min),this._box.style.width=f.x+"px",this._box.style.height=f.y+"px"},_finish:function(){this._moved&&(xe(this._box),Se(this._container,"leaflet-crosshair")),eo(),ol(),se(document,{contextmenu:yr,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseUp:function(r){if(!(r.which!==1&&r.button!==1)&&(this._finish(),!!this._moved)){this._clearDeferredResetState(),this._resetStateTimeout=setTimeout(h(this._resetState,this),0);var l=new W(this._map.containerPointToLatLng(this._startPoint),this._map.containerPointToLatLng(this._point));this._map.fitBounds(l).fire("boxzoomend",{boxZoomBounds:l})}},_onKeyDown:function(r){r.keyCode===27&&(this._finish(),this._clearDeferredResetState(),this._resetState())}});Xt.addInitHook("addHandler","boxZoom",rs),Xt.mergeOptions({doubleClickZoom:!0});var _r=Wn.extend({addHooks:function(){this._map.on("dblclick",this._onDoubleClick,this)},removeHooks:function(){this._map.off("dblclick",this._onDoubleClick,this)},_onDoubleClick:function(r){var l=this._map,f=l.getZoom(),_=l.options.zoomDelta,T=r.originalEvent.shiftKey?f-_:f+_;l.options.doubleClickZoom==="center"?l.setZoom(T):l.setZoomAround(r.containerPoint,T)}});Xt.addInitHook("addHandler","doubleClickZoom",_r),Xt.mergeOptions({dragging:!0,inertia:!0,inertiaDeceleration:3400,inertiaMaxSpeed:1/0,easeLinearity:.2,worldCopyJump:!1,maxBoundsViscosity:0});var _l=Wn.extend({addHooks:function(){if(!this._draggable){var r=this._map;this._draggable=new Jr(r._mapPane,r._container),this._draggable.on({dragstart:this._onDragStart,drag:this._onDrag,dragend:this._onDragEnd},this),this._draggable.on("predrag",this._onPreDragLimit,this),r.options.worldCopyJump&&(this._draggable.on("predrag",this._onPreDragWrap,this),r.on("zoomend",this._onZoomEnd,this),r.whenReady(this._onZoomEnd,this))}qt(this._map._container,"leaflet-grab leaflet-touch-drag"),this._draggable.enable(),this._positions=[],this._times=[]},removeHooks:function(){Se(this._map._container,"leaflet-grab"),Se(this._map._container,"leaflet-touch-drag"),this._draggable.disable()},moved:function(){return this._draggable&&this._draggable._moved},moving:function(){return this._draggable&&this._draggable._moving},_onDragStart:function(){var r=this._map;if(r._stop(),this._map.options.maxBounds&&this._map.options.maxBoundsViscosity){var l=et(this._map.options.maxBounds);this._offsetLimit=U(this._map.latLngToContainerPoint(l.getNorthWest()).multiplyBy(-1),this._map.latLngToContainerPoint(l.getSouthEast()).multiplyBy(-1).add(this._map.getSize())),this._viscosity=Math.min(1,Math.max(0,this._map.options.maxBoundsViscosity))}else this._offsetLimit=null;r.fire("movestart").fire("dragstart"),r.options.inertia&&(this._positions=[],this._times=[])},_onDrag:function(r){if(this._map.options.inertia){var l=this._lastTime=+new Date,f=this._lastPos=this._draggable._absPos||this._draggable._newPos;this._positions.push(f),this._times.push(l),this._prunePositions(l)}this._map.fire("move",r).fire("drag",r)},_prunePositions:function(r){for(;this._positions.length>1&&r-this._times[0]>50;)this._positions.shift(),this._times.shift()},_onZoomEnd:function(){var r=this._map.getSize().divideBy(2),l=this._map.latLngToLayerPoint([0,0]);this._initialWorldOffset=l.subtract(r).x,this._worldWidth=this._map.getPixelWorldBounds().getSize().x},_viscousLimit:function(r,l){return r-(r-l)*this._viscosity},_onPreDragLimit:function(){if(!(!this._viscosity||!this._offsetLimit)){var r=this._draggable._newPos.subtract(this._draggable._startPos),l=this._offsetLimit;r.x<l.min.x&&(r.x=this._viscousLimit(r.x,l.min.x)),r.y<l.min.y&&(r.y=this._viscousLimit(r.y,l.min.y)),r.x>l.max.x&&(r.x=this._viscousLimit(r.x,l.max.x)),r.y>l.max.y&&(r.y=this._viscousLimit(r.y,l.max.y)),this._draggable._newPos=this._draggable._startPos.add(r)}},_onPreDragWrap:function(){var r=this._worldWidth,l=Math.round(r/2),f=this._initialWorldOffset,_=this._draggable._newPos.x,T=(_-l+f)%r+l-f,k=(_+l+f)%r-l-f,Y=Math.abs(T+f)<Math.abs(k+f)?T:k;this._draggable._absPos=this._draggable._newPos.clone(),this._draggable._newPos.x=Y},_onDragEnd:function(r){var l=this._map,f=l.options,_=!f.inertia||r.noInertia||this._times.length<2;if(l.fire("dragend",r),_)l.fire("moveend");else{this._prunePositions(+new Date);var T=this._lastPos.subtract(this._positions[0]),k=(this._lastTime-this._times[0])/1e3,Y=f.easeLinearity,ot=T.multiplyBy(Y/k),pt=ot.distanceTo([0,0]),St=Math.min(f.inertiaMaxSpeed,pt),Mt=ot.multiplyBy(St/pt),jt=St/(f.inertiaDeceleration*Y),Ct=Mt.multiplyBy(-jt/2).round();!Ct.x&&!Ct.y?l.fire("moveend"):(Ct=l._limitOffset(Ct,l.options.maxBounds),K(function(){l.panBy(Ct,{duration:jt,easeLinearity:Y,noMoveStart:!0,animate:!0})}))}}});Xt.addInitHook("addHandler","dragging",_l),Xt.mergeOptions({keyboard:!0,keyboardPanDelta:80});var bo=Wn.extend({keyCodes:{left:[37],right:[39],down:[40],up:[38],zoomIn:[187,107,61,171],zoomOut:[189,109,54,173]},initialize:function(r){this._map=r,this._setPanDelta(r.options.keyboardPanDelta),this._setZoomDelta(r.options.zoomDelta)},addHooks:function(){var r=this._map._container;r.tabIndex<=0&&(r.tabIndex="0"),Zt(r,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.on({focus:this._addHooks,blur:this._removeHooks},this)},removeHooks:function(){this._removeHooks(),se(this._map._container,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.off({focus:this._addHooks,blur:this._removeHooks},this)},_onMouseDown:function(){if(!this._focused){var r=document.body,l=document.documentElement,f=r.scrollTop||l.scrollTop,_=r.scrollLeft||l.scrollLeft;this._map._container.focus(),window.scrollTo(_,f)}},_onFocus:function(){this._focused=!0,this._map.fire("focus")},_onBlur:function(){this._focused=!1,this._map.fire("blur")},_setPanDelta:function(r){var l=this._panKeys={},f=this.keyCodes,_,T;for(_=0,T=f.left.length;_<T;_++)l[f.left[_]]=[-1*r,0];for(_=0,T=f.right.length;_<T;_++)l[f.right[_]]=[r,0];for(_=0,T=f.down.length;_<T;_++)l[f.down[_]]=[0,r];for(_=0,T=f.up.length;_<T;_++)l[f.up[_]]=[0,-1*r]},_setZoomDelta:function(r){var l=this._zoomKeys={},f=this.keyCodes,_,T;for(_=0,T=f.zoomIn.length;_<T;_++)l[f.zoomIn[_]]=r;for(_=0,T=f.zoomOut.length;_<T;_++)l[f.zoomOut[_]]=-r},_addHooks:function(){Zt(document,"keydown",this._onKeyDown,this)},_removeHooks:function(){se(document,"keydown",this._onKeyDown,this)},_onKeyDown:function(r){if(!(r.altKey||r.ctrlKey||r.metaKey)){var l=r.keyCode,f=this._map,_;if(l in this._panKeys){if(!f._panAnim||!f._panAnim._inProgress)if(_=this._panKeys[l],r.shiftKey&&(_=M(_).multiplyBy(3)),f.options.maxBounds&&(_=f._limitOffset(M(_),f.options.maxBounds)),f.options.worldCopyJump){var T=f.wrapLatLng(f.unproject(f.project(f.getCenter()).add(_)));f.panTo(T)}else f.panBy(_)}else if(l in this._zoomKeys)f.setZoom(f.getZoom()+(r.shiftKey?3:1)*this._zoomKeys[l]);else if(l===27&&f._popup&&f._popup.options.closeOnEscapeKey)f.closePopup();else return;yr(r)}}});Xt.addInitHook("addHandler","keyboard",bo),Xt.mergeOptions({scrollWheelZoom:!0,wheelDebounceTime:40,wheelPxPerZoomLevel:60});var ni=Wn.extend({addHooks:function(){Zt(this._map._container,"wheel",this._onWheelScroll,this),this._delta=0},removeHooks:function(){se(this._map._container,"wheel",this._onWheelScroll,this)},_onWheelScroll:function(r){var l=ao(r),f=this._map.options.wheelDebounceTime;this._delta+=l,this._lastMousePos=this._map.mouseEventToContainerPoint(r),this._startTime||(this._startTime=+new Date);var _=Math.max(f-(+new Date-this._startTime),0);clearTimeout(this._timer),this._timer=setTimeout(h(this._performZoom,this),_),yr(r)},_performZoom:function(){var r=this._map,l=r.getZoom(),f=this._map.options.zoomSnap||0;r._stop();var _=this._delta/(this._map.options.wheelPxPerZoomLevel*4),T=4*Math.log(2/(1+Math.exp(-Math.abs(_))))/Math.LN2,k=f?Math.ceil(T/f)*f:T,Y=r._limitZoom(l+(this._delta>0?k:-k))-l;this._delta=0,this._startTime=null,Y&&(r.options.scrollWheelZoom==="center"?r.setZoom(l+Y):r.setZoomAround(this._lastMousePos,l+Y))}});Xt.addInitHook("addHandler","scrollWheelZoom",ni);var xl=600;Xt.mergeOptions({tapHold:Lt.touchNative&&Lt.safari&&Lt.mobile,tapTolerance:15});var is=Wn.extend({addHooks:function(){Zt(this._map._container,"touchstart",this._onDown,this)},removeHooks:function(){se(this._map._container,"touchstart",this._onDown,this)},_onDown:function(r){if(clearTimeout(this._holdTimeout),r.touches.length===1){var l=r.touches[0];this._startPos=this._newPos=new F(l.clientX,l.clientY),this._holdTimeout=setTimeout(h(function(){this._cancel(),this._isTapValid()&&(Zt(document,"touchend",Ie),Zt(document,"touchend touchcancel",this._cancelClickPrevent),this._simulateEvent("contextmenu",l))},this),xl),Zt(document,"touchend touchcancel contextmenu",this._cancel,this),Zt(document,"touchmove",this._onMove,this)}},_cancelClickPrevent:function r(){se(document,"touchend",Ie),se(document,"touchend touchcancel",r)},_cancel:function(){clearTimeout(this._holdTimeout),se(document,"touchend touchcancel contextmenu",this._cancel,this),se(document,"touchmove",this._onMove,this)},_onMove:function(r){var l=r.touches[0];this._newPos=new F(l.clientX,l.clientY)},_isTapValid:function(){return this._newPos.distanceTo(this._startPos)<=this._map.options.tapTolerance},_simulateEvent:function(r,l){var f=new MouseEvent(r,{bubbles:!0,cancelable:!0,view:window,screenX:l.screenX,screenY:l.screenY,clientX:l.clientX,clientY:l.clientY});f._simulated=!0,l.target.dispatchEvent(f)}});Xt.addInitHook("addHandler","tapHold",is),Xt.mergeOptions({touchZoom:Lt.touch,bounceAtZoomLimits:!0});var Oi=Wn.extend({addHooks:function(){qt(this._map._container,"leaflet-touch-zoom"),Zt(this._map._container,"touchstart",this._onTouchStart,this)},removeHooks:function(){Se(this._map._container,"leaflet-touch-zoom"),se(this._map._container,"touchstart",this._onTouchStart,this)},_onTouchStart:function(r){var l=this._map;if(!(!r.touches||r.touches.length!==2||l._animatingZoom||this._zooming)){var f=l.mouseEventToContainerPoint(r.touches[0]),_=l.mouseEventToContainerPoint(r.touches[1]);this._centerPoint=l.getSize()._divideBy(2),this._startLatLng=l.containerPointToLatLng(this._centerPoint),l.options.touchZoom!=="center"&&(this._pinchStartLatLng=l.containerPointToLatLng(f.add(_)._divideBy(2))),this._startDist=f.distanceTo(_),this._startZoom=l.getZoom(),this._moved=!1,this._zooming=!0,l._stop(),Zt(document,"touchmove",this._onTouchMove,this),Zt(document,"touchend touchcancel",this._onTouchEnd,this),Ie(r)}},_onTouchMove:function(r){if(!(!r.touches||r.touches.length!==2||!this._zooming)){var l=this._map,f=l.mouseEventToContainerPoint(r.touches[0]),_=l.mouseEventToContainerPoint(r.touches[1]),T=f.distanceTo(_)/this._startDist;if(this._zoom=l.getScaleZoom(T,this._startZoom),!l.options.bounceAtZoomLimits&&(this._zoom<l.getMinZoom()&&T<1||this._zoom>l.getMaxZoom()&&T>1)&&(this._zoom=l._limitZoom(this._zoom)),l.options.touchZoom==="center"){if(this._center=this._startLatLng,T===1)return}else{var k=f._add(_)._divideBy(2)._subtract(this._centerPoint);if(T===1&&k.x===0&&k.y===0)return;this._center=l.unproject(l.project(this._pinchStartLatLng,this._zoom).subtract(k),this._zoom)}this._moved||(l._moveStart(!0,!1),this._moved=!0),I(this._animRequest);var Y=h(l._move,l,this._center,this._zoom,{pinch:!0,round:!1},void 0);this._animRequest=K(Y,this,!0),Ie(r)}},_onTouchEnd:function(){if(!this._moved||!this._zooming){this._zooming=!1;return}this._zooming=!1,I(this._animRequest),se(document,"touchmove",this._onTouchMove,this),se(document,"touchend touchcancel",this._onTouchEnd,this),this._map.options.zoomAnimation?this._map._animateZoom(this._center,this._map._limitZoom(this._zoom),!0,this._map.options.zoomSnap):this._map._resetView(this._center,this._map._limitZoom(this._zoom))}});Xt.addInitHook("addHandler","touchZoom",Oi),Xt.BoxZoom=rs,Xt.DoubleClickZoom=_r,Xt.Drag=_l,Xt.Keyboard=bo,Xt.ScrollWheelZoom=ni,Xt.TapHold=is,Xt.TouchZoom=Oi,o.Bounds=H,o.Browser=Lt,o.CRS=wt,o.Canvas=mo,o.Circle=bl,o.CircleMarker=lo,o.Class=ft,o.Control=Mn,o.DivIcon=vl,o.DivOverlay=tr,o.DomEvent=Pf,o.DomUtil=Vc,o.Draggable=Jr,o.Evented=lt,o.FeatureGroup=jn,o.GeoJSON=Cn,o.GridLayer=Ai,o.Handler=Wn,o.Icon=ua,o.ImageOverlay=vr,o.LatLng=ut,o.LatLngBounds=W,o.Layer=Qn,o.LayerGroup=Ni,o.LineUtil=nu,o.Map=Xt,o.Marker=fa,o.Mixin=Uf,o.Path=Hr,o.Point=F,o.PolyUtil=Gf,o.Polygon=ha,o.Polyline=$r,o.Popup=ho,o.PosAnimation=qo,o.Projection=ru,o.Rectangle=du,o.Renderer=nr,o.SVG=ei,o.SVGOverlay=ti,o.TileLayer=ji,o.Tooltip=ns,o.Transformation=Vt,o.Util=X,o.VideoOverlay=es,o.bind=h,o.bounds=U,o.canvas=po,o.circle=Ff,o.circleMarker=ou,o.control=la,o.divIcon=uu,o.extend=u,o.featureGroup=so,o.geoJSON=ts,o.geoJson=su,o.gridLayer=er,o.icon=Wo,o.imageOverlay=pa,o.latLng=at,o.latLngBounds=et,o.layerGroup=au,o.map=oo,o.marker=gl,o.point=M,o.polygon=kn,o.polyline=Xf,o.popup=Wf,o.rectangle=Bn,o.setOptions=D,o.stamp=b,o.svg=Ci,o.svgOverlay=cu,o.tileLayer=On,o.tooltip=Qf,o.transformation=Yt,o.version=s,o.videoOverlay=lu;var ya=window.L;o.noConflict=function(){return window.L=ya,this},window.L=o}))})(pc,pc.exports)),pc.exports}var fE=dE();const Om=Ys(fE),ud=t=>t.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#39;");function Do(t){const i=document.getElementById(t);if(!i)throw new Error(`#${t} not found`);return i}function hE(t){const{buttonId:i,buttonInputId:o,modalId:s,closeMapId:u,mapCloseBtnId:d,searchBoxId:h,suggestionsId:p,mapId:b}=t.ids,v=t.initialCenter??{lat:37.5665,lon:126.978},x=Do(o),w=Do(i),S=Do(s),E=Do(d),A=Do(h),D=Do(p),j=u?Do(u):null;let $=null,z=null,C=null;const P=I=>I.code==="Space"||I.key===" "||I.key==="Spacebar"||I.key==="Space",B=I=>{P(I)&&document.activeElement!==A&&(I.preventDefault(),I.stopPropagation(),A.focus())},V=()=>{S.style.display="flex",$?setTimeout(()=>$?.invalidateSize(),200):setTimeout(()=>{$=Om.map(b,{keyboard:!1}).setView([v.lat,v.lon],11),Om.tileLayer("https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",{attribution:"© OpenStreetMap"}).addTo($),$.invalidateSize()},0),S.addEventListener("keydown",B,!0),S.addEventListener("keyup",B,!0),A.focus()},J=()=>{S.style.display="none",A.value="",D.innerHTML="",C&&(window.clearTimeout(C),C=null),S.removeEventListener("keydown",B,!0),S.removeEventListener("keyup",B,!0)},Q=I=>{const X=I.dataset.name??"",ft=Number(I.dataset.lat??""),gt=Number(I.dataset.lon??"");!Number.isFinite(ft)||!Number.isFinite(gt)||!$||(z?z.setLatLng([ft,gt]):z=Om.marker([ft,gt]).addTo($),$.flyTo([ft,gt],14,{duration:.5}),x.value=X,x.dataset.lat=String(ft),x.dataset.lon=String(gt),t.onSelected?.({name:X,lat:ft,lon:gt}),D.innerHTML="",J())},nt=()=>{C&&window.clearTimeout(C);const I=A.value.trim();if(!I){D.innerHTML="";return}C=window.setTimeout(async()=>{try{const X="https://nominatim.openstreetmap.org/search?format=jsonv2&limit=12&accept-language=ko&addressdetails=1&dedupe=1&email=unique950318@gmail.com&q="+encodeURIComponent(I),ft=await fetch(X,{headers:{Accept:"application/json"}});if(!ft.ok)throw new Error(`HTTP ${ft.status}`);const gt=await ft.json();if(!Array.isArray(gt)||gt.length===0){D.innerHTML='<li style="padding:8px">결과 없음</li>';return}const Z=gt.slice(0,12).map((lt,F)=>{const G=lt.display_name.split(",").slice(0,3).map(U=>U.trim()).join(" · "),M="padding:8px;cursor:pointer;outline:none;",H=F===0?"background-color:#1f2937;border-radius:4px;":"";return`<li
                    role="option"
                    data-name="${ud(G)}"
                    data-lat="${ud(lt.lat)}"
                    data-lon="${ud(lt.lon)}"
                    data-active="${F===0?"1":"0"}"
                    style="${M}${H}"
                  >${ud(G)}</li>`}).join("");D.innerHTML=Z}catch(X){console.error(X),D.innerHTML='<li style="padding:8px;color:#b91c1c">검색 오류</li>'}},250)},rt=I=>{const X=I.target;X.tagName==="LI"&&Q(X)},K=I=>{if(I.key==="Enter"){const X=D.querySelector('li[data-active="1"]')??D.querySelector("li");X&&Q(X)}};return w.addEventListener("click",V),E.addEventListener("click",J),j&&j.addEventListener("click",J),A.addEventListener("input",nt),A.addEventListener("keydown",K),D.addEventListener("click",rt),()=>{w.removeEventListener("click",V),E.removeEventListener("click",J),j&&j.removeEventListener("click",J),A.removeEventListener("input",nt),A.removeEventListener("keydown",K),D.removeEventListener("click",rt),S.removeEventListener("keydown",B,!0),S.removeEventListener("keyup",B,!0),C&&(window.clearTimeout(C),C=null),$&&($.remove(),$=null)}}function Ns(){return document.getElementById("suggestions")}function Ld(t){const i=Array.from(t.querySelectorAll('li, [role="option"]'));return i.forEach((o,s)=>{o.getAttribute("role")||o.setAttribute("role","option"),o.setAttribute("aria-selected",o===document.activeElement?"true":"false"),o.tabIndex=-1,o.id||(o.id=`suggestion-item-${s}`)}),i}function rc(t,i){const o=Ld(t);if(o.length===0)return;const s=o.length;let u=i;u<0&&(u=s-1),u>=s&&(u=0),o.forEach(h=>{h.tabIndex=-1,h.setAttribute("aria-selected","false")});const d=o[u];d.tabIndex=0,d.setAttribute("aria-selected","true"),d.focus()}function Sx({onSelect:t,placeholderText:i="출생지선택",buttonStyle:o,value:s}){const[u,d]=R.useState(i),[h,p]=R.useState(!1),[b,v]=R.useState(s??""),x=R.useRef(null),w=R.useRef(null),S=R.useRef(null),E=R.useRef(null);return R.useEffect(()=>{s!==void 0&&v(s)},[s]),R.useEffect(()=>{if(!h)return;const A=hE({ids:{buttonInputId:"inputBirthPlace",buttonId:"inputBirthPlaceBtn",modalId:"mapModal",closeMapId:"closeMap",mapCloseBtnId:"mapCloseBtn",searchBoxId:"searchBox",suggestionsId:"suggestions",mapId:"map"},onSelected:nt=>{d("선택완료"),v(nt.name),x.current&&(x.current.value=nt.name),w.current&&(w.current.value=String(nt.lat)),S.current&&(S.current.value=String(nt.lon)),t?.(nt),p(!1)}}),D=document.getElementById("inputBirthPlaceBtn");D&&D.dispatchEvent(new MouseEvent("click",{bubbles:!0}));const j=document.getElementById("mapModal"),$=document.getElementById("searchBox"),z=Ns();setTimeout(()=>$?.focus(),0);const C='button, [href], input:not([type="hidden"]), select, textarea, [tabindex]:not([tabindex="-1"])',P=nt=>{if(nt.key==="Escape"){nt.preventDefault(),p(!1);return}if(nt.key!=="Tab")return;const rt=Ns();if(rt&&rt.contains(document.activeElement))return;const K=Array.from(j.querySelectorAll(C)).filter(gt=>!gt.hasAttribute("disabled")&&gt.tabIndex!==-1);if(K.length===0)return;const I=K[0],X=K[K.length-1],ft=document.activeElement;nt.shiftKey?(ft===I||!j.contains(ft))&&(nt.preventDefault(),X.focus()):(ft===X||!j.contains(ft))&&(nt.preventDefault(),I.focus())};j.addEventListener("keydown",P);const B=nt=>{if(nt.key!=="ArrowDown")return;const rt=Ns();!rt||Ld(rt).length===0||(nt.preventDefault(),rc(rt,0))};$?.addEventListener("keydown",B);const V=nt=>{if(nt.target.value.trim()===""){const K=Ns();K&&(K.innerHTML="")}};$?.addEventListener("input",V);const J=nt=>{const rt=Ns();if(!rt)return;const K=Ld(rt);if(K.length===0)return;const I=document.activeElement,X=I?K.indexOf(I):-1;if(X===-1)return;const ft=gt=>{nt.preventDefault(),rc(rt,X+gt)};switch(nt.key){case"Tab":nt.preventDefault(),ft(nt.shiftKey?-1:1);break;case"ArrowDown":nt.preventDefault(),ft(1);break;case"ArrowUp":nt.preventDefault(),ft(-1);break;case"Home":nt.preventDefault(),rc(rt,0);break;case"End":nt.preventDefault(),rc(rt,K.length-1);break;case"Enter":case" ":nt.preventDefault(),I.click();break;case"Backspace":nt.preventDefault(),rt.innerHTML="",$?.focus();break}nt.stopPropagation()};let Q=null;return z&&(z.addEventListener("keydown",J),Q=new MutationObserver(()=>{const nt=Ns();!nt||Ld(nt).length===0||rc(nt,0)}),Q.observe(z,{childList:!0,subtree:!1})),()=>{j.removeEventListener("keydown",P),$?.removeEventListener("keydown",B),$?.removeEventListener("input",V),z&&z.removeEventListener("keydown",J),Q?.disconnect(),A?.()}},[h,t]),R.useEffect(()=>{h||setTimeout(()=>E.current?.focus(),0)},[h]),g.jsxs("li",{className:"flex items-center gap-2",children:[g.jsx("input",{className:`w-[60%] desk:w-[70%] mr-2 border rounded-lg p-2
                   bg-white dark:bg-neutral-900
                   border-neutral-300 dark:border-neutral-700
                   text-neutral-900 dark:text-neutral-100
                   placeholder-neutral-400 dark:placeholder-neutral-500`,type:"text",id:"inputBirthPlace",readOnly:!0,"aria-readonly":"true",value:b&&b.trim()!==""?b:i}),g.jsx("button",{ref:E,type:"button",id:"inputBirthPlaceBtn",className:"btn_style text-sm desk:text-base w-[calc(40%_-_8px)] desk:w-[calc(30%_-_8px)] p-0",style:o,onClick:()=>p(!0),"aria-haspopup":"dialog","aria-expanded":h,"aria-controls":"mapModal",children:u}),g.jsx("input",{ref:x,type:"hidden",name:"birthPlace_name",defaultValue:""}),g.jsx("input",{ref:w,type:"hidden",name:"birthPlace_lat",defaultValue:""}),g.jsx("input",{ref:S,type:"hidden",name:"birthPlace_lon",defaultValue:""}),h&&g.jsx("div",{id:"mapModal",role:"dialog","aria-modal":"true","aria-labelledby":"mapModalTitle",className:"fixed inset-0 z-[999] flex items-center justify-center bg-black/40 dark:bg-black/60 p-4",children:g.jsxs("div",{className:`w-[96vw] desk:w-[920px] rounded-2xl shadow-2xl overflow-hidden flex flex-col
                          bg-white dark:bg-neutral-950
                          text-neutral-900 dark:text-neutral-100
                          border border-neutral-200 dark:border-neutral-800`,children:[g.jsxs("div",{className:"flex items-center justify-between px-4 py-3 border-b border-neutral-200 dark:border-neutral-800",children:[g.jsx("div",{id:"mapModalTitle",className:"font-bold",children:"출생지선택"}),g.jsx("button",{id:"mapCloseBtn","aria-label":"닫기",className:"text-xl hover:opacity-70 cursor-pointer",onClick:()=>p(!1),children:"✕"})]}),g.jsxs("div",{className:"relative grid gap-2 px-3 py-3 border-t border-neutral-200 dark:border-neutral-800",children:[g.jsx("label",{htmlFor:"searchBox",className:"text-xs text-neutral-500 dark:text-neutral-400",children:"도시/지역 검색"}),g.jsxs("div",{className:"relative",children:[g.jsx("input",{id:"searchBox",placeholder:"예: 서울 강남구 / seoul / 도쿄도 / tokyo",className:`h-10 w-full rounded-lg border px-3 outline-none
                             bg-white dark:bg-neutral-900
                             border-neutral-300 dark:border-neutral-700
                             placeholder-neutral-400 dark:placeholder-neutral-500
                             text-neutral-900 dark:text-neutral-100
                             focus:border-neutral-400 dark:focus:border-neutral-600`,autoComplete:"off"}),g.jsx("ul",{id:"suggestions",role:"listbox","aria-label":"자동완성 목록",className:`absolute left-0 right-0 mt-1 max-h-60 overflow-y-auto rounded-lg border shadow-xl z-[1005]
                             bg-white dark:bg-neutral-900
                             border-neutral-200 dark:border-neutral-700
                             text-neutral-900 dark:text-neutral-100
                             divide-y divide-neutral-200 dark:divide-neutral-800`})]})]}),g.jsx("div",{className:"relative h-[250px] desk:h-[360px] border-y border-neutral-200 dark:border-neutral-800",children:g.jsx("div",{id:"map",className:"h-full w-full"})}),g.jsxs("div",{className:"gap-2 p-3",children:[g.jsxs("div",{id:"footerHint",className:"pr-2 text-xs text-neutral-600 dark:text-neutral-300 flex-1",children:[g.jsxs("p",{className:"flex mb-1",children:[g.jsx("span",{className:"mr-1",children:"*"}),g.jsx("span",{children:"지도에서 검색하여, 목록에서 선택하세요."})]}),g.jsxs("p",{className:"flex",children:[g.jsx("span",{className:"mr-1",children:"*"}),g.jsx("span",{children:"해외를 검색할 경우 지도가 안 뜰 수 있으나, 선택만 눌러주시면 됩니다."})]})]}),g.jsx("button",{id:"closeMap",style:{display:"none"},"aria-hidden":"true",tabIndex:-1})]})]})})]})}var Lc=rx();const mE=Ys(Lc);function Pn(t){return`Minified Redux error #${t}; visit https://redux.js.org/Errors?code=${t} for the full message or use the non-minified dev environment for full errors. `}var pE=typeof Symbol=="function"&&Symbol.observable||"@@observable",Yy=pE,qy=()=>Math.random().toString(36).substring(7).split("").join("."),gE={INIT:`@@redux/INIT${qy()}`,REPLACE:`@@redux/REPLACE${qy()}`},Vy=gE;function bE(t){if(typeof t!="object"||t===null)return!1;let i=t;for(;Object.getPrototypeOf(i)!==null;)i=Object.getPrototypeOf(i);return Object.getPrototypeOf(t)===i||Object.getPrototypeOf(t)===null}function wx(t,i,o){if(typeof t!="function")throw new Error(Pn(2));if(typeof i=="function"&&typeof o=="function"||typeof o=="function"&&typeof arguments[3]=="function")throw new Error(Pn(0));if(typeof i=="function"&&typeof o>"u"&&(o=i,i=void 0),typeof o<"u"){if(typeof o!="function")throw new Error(Pn(1));return o(wx)(t,i)}let s=t,u=i,d=new Map,h=d,p=0,b=!1;function v(){h===d&&(h=new Map,d.forEach((j,$)=>{h.set($,j)}))}function x(){if(b)throw new Error(Pn(3));return u}function w(j){if(typeof j!="function")throw new Error(Pn(4));if(b)throw new Error(Pn(5));let $=!0;v();const z=p++;return h.set(z,j),function(){if($){if(b)throw new Error(Pn(6));$=!1,v(),h.delete(z),d=null}}}function S(j){if(!bE(j))throw new Error(Pn(7));if(typeof j.type>"u")throw new Error(Pn(8));if(typeof j.type!="string")throw new Error(Pn(17));if(b)throw new Error(Pn(9));try{b=!0,u=s(u,j)}finally{b=!1}return(d=h).forEach(z=>{z()}),j}function E(j){if(typeof j!="function")throw new Error(Pn(10));s=j,S({type:Vy.REPLACE})}function A(){const j=w;return{subscribe($){if(typeof $!="object"||$===null)throw new Error(Pn(11));function z(){const P=$;P.next&&P.next(x())}return z(),{unsubscribe:j(z)}},[Yy](){return this}}}return S({type:Vy.INIT}),{dispatch:S,subscribe:w,getState:x,replaceReducer:E,[Yy]:A}}function Ky(t,i){return function(...o){return i(t.apply(this,o))}}function Fy(t,i){if(typeof t=="function")return Ky(t,i);if(typeof t!="object"||t===null)throw new Error(Pn(16));const o={};for(const s in t){const u=t[s];typeof u=="function"&&(o[s]=Ky(u,i))}return o}function Tx(...t){return t.length===0?i=>i:t.length===1?t[0]:t.reduce((i,o)=>(...s)=>i(o(...s)))}function yE(...t){return i=>(o,s)=>{const u=i(o,s);let d=()=>{throw new Error(Pn(15))};const h={getState:u.getState,dispatch:(b,...v)=>d(b,...v)},p=t.map(b=>b(h));return d=Tx(...p)(u.dispatch),{...u,dispatch:d}}}var Lm={exports:{}},Bm={};/**
 * @license React
 * use-sync-external-store-with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Xy;function vE(){if(Xy)return Bm;Xy=1;var t=mf();function i(b,v){return b===v&&(b!==0||1/b===1/v)||b!==b&&v!==v}var o=typeof Object.is=="function"?Object.is:i,s=t.useSyncExternalStore,u=t.useRef,d=t.useEffect,h=t.useMemo,p=t.useDebugValue;return Bm.useSyncExternalStoreWithSelector=function(b,v,x,w,S){var E=u(null);if(E.current===null){var A={hasValue:!1,value:null};E.current=A}else A=E.current;E=h(function(){function j(B){if(!$){if($=!0,z=B,B=w(B),S!==void 0&&A.hasValue){var V=A.value;if(S(V,B))return C=V}return C=B}if(V=C,o(z,B))return V;var J=w(B);return S!==void 0&&S(V,J)?(z=B,V):(z=B,C=J)}var $=!1,z,C,P=x===void 0?null:x;return[function(){return j(v())},P===null?void 0:function(){return j(P())}]},[v,x,w,S]);var D=s(b,E[0],E[1]);return d(function(){A.hasValue=!0,A.value=D},[D]),p(D),D},Bm}var Wy;function _E(){return Wy||(Wy=1,Lm.exports=vE()),Lm.exports}_E();var xE=R.version.startsWith("19"),SE=Symbol.for(xE?"react.transitional.element":"react.element"),wE=Symbol.for("react.portal"),TE=Symbol.for("react.fragment"),EE=Symbol.for("react.strict_mode"),ME=Symbol.for("react.profiler"),NE=Symbol.for("react.consumer"),DE=Symbol.for("react.context"),Ex=Symbol.for("react.forward_ref"),AE=Symbol.for("react.suspense"),jE=Symbol.for("react.suspense_list"),Wp=Symbol.for("react.memo"),kE=Symbol.for("react.lazy"),CE=Ex,OE=Wp;function LE(t){if(typeof t=="object"&&t!==null){const{$$typeof:i}=t;switch(i){case SE:switch(t=t.type,t){case TE:case ME:case EE:case AE:case jE:return t;default:switch(t=t&&t.$$typeof,t){case DE:case Ex:case kE:case Wp:return t;case NE:return t;default:return i}}case wE:return i}}}function BE(t){return LE(t)===Wp}function RE(t,i,o,s,{areStatesEqual:u,areOwnPropsEqual:d,areStatePropsEqual:h}){let p=!1,b,v,x,w,S;function E(z,C){return b=z,v=C,x=t(b,v),w=i(s,v),S=o(x,w,v),p=!0,S}function A(){return x=t(b,v),i.dependsOnOwnProps&&(w=i(s,v)),S=o(x,w,v),S}function D(){return t.dependsOnOwnProps&&(x=t(b,v)),i.dependsOnOwnProps&&(w=i(s,v)),S=o(x,w,v),S}function j(){const z=t(b,v),C=!h(z,x);return x=z,C&&(S=o(x,w,v)),S}function $(z,C){const P=!d(C,v),B=!u(z,b,C,v);return b=z,v=C,P&&B?A():P?D():B?j():S}return function(C,P){return p?$(C,P):E(C,P)}}function PE(t,{initMapStateToProps:i,initMapDispatchToProps:o,initMergeProps:s,...u}){const d=i(t,u),h=o(t,u),p=s(t,u);return RE(d,h,p,t,u)}function zE(t,i){const o={};for(const s in t){const u=t[s];typeof u=="function"&&(o[s]=(...d)=>i(u(...d)))}return o}function Ap(t){return function(o){const s=t(o);function u(){return s}return u.dependsOnOwnProps=!1,u}}function Qy(t){return t.dependsOnOwnProps?!!t.dependsOnOwnProps:t.length!==1}function Mx(t,i){return function(s,{displayName:u}){const d=function(p,b){return d.dependsOnOwnProps?d.mapToProps(p,b):d.mapToProps(p,void 0)};return d.dependsOnOwnProps=!0,d.mapToProps=function(p,b){d.mapToProps=t,d.dependsOnOwnProps=Qy(t);let v=d(p,b);return typeof v=="function"&&(d.mapToProps=v,d.dependsOnOwnProps=Qy(v),v=d(p,b)),v},d}}function Qp(t,i){return(o,s)=>{throw new Error(`Invalid value of type ${typeof t} for ${i} argument when connecting component ${s.wrappedComponentName}.`)}}function HE(t){return t&&typeof t=="object"?Ap(i=>zE(t,i)):t?typeof t=="function"?Mx(t):Qp(t,"mapDispatchToProps"):Ap(i=>({dispatch:i}))}function $E(t){return t?typeof t=="function"?Mx(t):Qp(t,"mapStateToProps"):Ap(()=>({}))}function IE(t,i,o){return{...o,...t,...i}}function UE(t){return function(o,{displayName:s,areMergedPropsEqual:u}){let d=!1,h;return function(b,v,x){const w=t(b,v,x);return d?u(w,h)||(h=w):(d=!0,h=w),h}}}function GE(t){return t?typeof t=="function"?UE(t):Qp(t,"mergeProps"):()=>IE}function ZE(t){t()}function YE(){let t=null,i=null;return{clear(){t=null,i=null},notify(){ZE(()=>{let o=t;for(;o;)o.callback(),o=o.next})},get(){const o=[];let s=t;for(;s;)o.push(s),s=s.next;return o},subscribe(o){let s=!0;const u=i={callback:o,next:null,prev:i};return u.prev?u.prev.next=u:t=u,function(){!s||t===null||(s=!1,u.next?u.next.prev=u.prev:i=u.prev,u.prev?u.prev.next=u.next:t=u.next)}}}}var Jy={notify(){},get:()=>[]};function Nx(t,i){let o,s=Jy,u=0,d=!1;function h(D){x();const j=s.subscribe(D);let $=!1;return()=>{$||($=!0,j(),w())}}function p(){s.notify()}function b(){A.onStateChange&&A.onStateChange()}function v(){return d}function x(){u++,o||(o=i?i.addNestedSub(b):t.subscribe(b),s=YE())}function w(){u--,o&&u===0&&(o(),o=void 0,s.clear(),s=Jy)}function S(){d||(d=!0,x())}function E(){d&&(d=!1,w())}const A={addNestedSub:h,notifyNestedSubs:p,handleChangeWrapper:b,isSubscribed:v,trySubscribe:S,tryUnsubscribe:E,getListeners:()=>s};return A}var qE=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",VE=qE(),KE=()=>typeof navigator<"u"&&navigator.product==="ReactNative",FE=KE(),XE=()=>VE||FE?R.useLayoutEffect:R.useEffect,$d=XE();function tv(t,i){return t===i?t!==0||i!==0||1/t===1/i:t!==t&&i!==i}function Rm(t,i){if(tv(t,i))return!0;if(typeof t!="object"||t===null||typeof i!="object"||i===null)return!1;const o=Object.keys(t),s=Object.keys(i);if(o.length!==s.length)return!1;for(let u=0;u<o.length;u++)if(!Object.prototype.hasOwnProperty.call(i,o[u])||!tv(t[o[u]],i[o[u]]))return!1;return!0}var WE={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},QE={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},JE={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},Dx={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},t3={[CE]:JE,[OE]:Dx};function ev(t){return BE(t)?Dx:t3[t.$$typeof]||WE}var e3=Object.defineProperty,n3=Object.getOwnPropertyNames,nv=Object.getOwnPropertySymbols,r3=Object.getOwnPropertyDescriptor,i3=Object.getPrototypeOf,rv=Object.prototype;function jp(t,i){if(typeof i!="string"){if(rv){const d=i3(i);d&&d!==rv&&jp(t,d)}let o=n3(i);nv&&(o=o.concat(nv(i)));const s=ev(t),u=ev(i);for(let d=0;d<o.length;++d){const h=o[d];if(!QE[h]&&!(u&&u[h])&&!(s&&s[h])){const p=r3(i,h);try{e3(t,h,p)}catch{}}}}return t}var a3=Symbol.for("react-redux-context"),o3=typeof globalThis<"u"?globalThis:{};function s3(){if(!R.createContext)return{};const t=o3[a3]??=new Map;let i=t.get(R.createContext);return i||(i=R.createContext(null),t.set(R.createContext,i)),i}var Ax=s3(),l3=[null,null];function c3(t,i,o){$d(()=>t(...i),o)}function u3(t,i,o,s,u,d){t.current=s,o.current=!1,u.current&&(u.current=null,d())}function d3(t,i,o,s,u,d,h,p,b,v,x){if(!t)return()=>{};let w=!1,S=null;const E=()=>{if(w||!p.current)return;const D=i.getState();let j,$;try{j=s(D,u.current)}catch(z){$=z,S=z}$||(S=null),j===d.current?h.current||v():(d.current=j,b.current=j,h.current=!0,x())};return o.onStateChange=E,o.trySubscribe(),E(),()=>{if(w=!0,o.tryUnsubscribe(),o.onStateChange=null,S)throw S}}function f3(t,i){return t===i}function h3(t,i,o,{pure:s,areStatesEqual:u=f3,areOwnPropsEqual:d=Rm,areStatePropsEqual:h=Rm,areMergedPropsEqual:p=Rm,forwardRef:b=!1,context:v=Ax}={}){const x=v,w=$E(t),S=HE(i),E=GE(o),A=!!t;return j=>{const $=j.displayName||j.name||"Component",z=`Connect(${$})`,C={shouldHandleStateChanges:A,displayName:z,wrappedComponentName:$,WrappedComponent:j,initMapStateToProps:w,initMapDispatchToProps:S,initMergeProps:E,areStatesEqual:u,areStatePropsEqual:h,areOwnPropsEqual:d,areMergedPropsEqual:p};function P(J){const[Q,nt,rt]=R.useMemo(()=>{const{reactReduxForwardedRef:Yt,...ne}=J;return[J.context,Yt,ne]},[J]),K=R.useMemo(()=>{let Yt=x;return Q?.Consumer,Yt},[Q,x]),I=R.useContext(K),X=!!J.store&&!!J.store.getState&&!!J.store.dispatch,ft=!!I&&!!I.store,gt=X?J.store:I.store,Z=ft?I.getServerState:gt.getState,lt=R.useMemo(()=>PE(gt.dispatch,C),[gt]),[F,G]=R.useMemo(()=>{if(!A)return l3;const Yt=Nx(gt,X?void 0:I.subscription),ne=Yt.notifyNestedSubs.bind(Yt);return[Yt,ne]},[gt,X,I]),M=R.useMemo(()=>X?I:{...I,subscription:F},[X,I,F]),H=R.useRef(void 0),U=R.useRef(rt),W=R.useRef(void 0),et=R.useRef(!1),ut=R.useRef(!1),at=R.useRef(void 0);$d(()=>(ut.current=!0,()=>{ut.current=!1}),[]);const wt=R.useMemo(()=>()=>W.current&&rt===U.current?W.current:lt(gt.getState(),rt),[gt,rt]),vt=R.useMemo(()=>ne=>F?d3(A,gt,F,lt,U,H,et,ut,W,G,ne):()=>{},[F]);c3(u3,[U,H,et,rt,W,G]);let Dt;try{Dt=R.useSyncExternalStore(vt,wt,Z?()=>lt(Z(),rt):wt)}catch(Yt){throw at.current&&(Yt.message+=`
The error may be correlated with this previous error:
${at.current.stack}

`),Yt}$d(()=>{at.current=void 0,W.current=void 0,H.current=Dt});const $t=R.useMemo(()=>R.createElement(j,{...Dt,ref:nt}),[nt,j,Dt]);return R.useMemo(()=>A?R.createElement(K.Provider,{value:M},$t):$t,[K,$t,M])}const V=R.memo(P);if(V.WrappedComponent=j,V.displayName=P.displayName=z,b){const Q=R.forwardRef(function(rt,K){return R.createElement(V,{...rt,reactReduxForwardedRef:K})});return Q.displayName=z,Q.WrappedComponent=j,jp(Q,j)}return jp(V,j)}}var jx=h3;function m3(t){const{children:i,context:o,serverState:s,store:u}=t,d=R.useMemo(()=>{const b=Nx(u);return{store:u,subscription:b,getServerState:s?()=>s:void 0}},[u,s]),h=R.useMemo(()=>u.getState(),[u]);$d(()=>{const{subscription:b}=d;return b.onStateChange=b.notifyNestedSubs,b.trySubscribe(),h!==u.getState()&&b.notifyNestedSubs(),()=>{b.tryUnsubscribe(),b.onStateChange=void 0}},[d,h]);const p=o||Ax;return R.createElement(p.Provider,{value:d},i)}var p3=m3,g3="Invariant failed";function b3(t,i){throw new Error(g3)}var qr=function(i){var o=i.top,s=i.right,u=i.bottom,d=i.left,h=s-d,p=u-o,b={top:o,right:s,bottom:u,left:d,width:h,height:p,x:d,y:o,center:{x:(s+d)/2,y:(u+o)/2}};return b},Jp=function(i,o){return{top:i.top-o.top,left:i.left-o.left,bottom:i.bottom+o.bottom,right:i.right+o.right}},iv=function(i,o){return{top:i.top+o.top,left:i.left+o.left,bottom:i.bottom-o.bottom,right:i.right-o.right}},y3=function(i,o){return{top:i.top+o.y,left:i.left+o.x,bottom:i.bottom+o.y,right:i.right+o.x}},Pm={top:0,right:0,bottom:0,left:0},t0=function(i){var o=i.borderBox,s=i.margin,u=s===void 0?Pm:s,d=i.border,h=d===void 0?Pm:d,p=i.padding,b=p===void 0?Pm:p,v=qr(Jp(o,u)),x=qr(iv(o,h)),w=qr(iv(x,b));return{marginBox:v,borderBox:qr(o),paddingBox:x,contentBox:w,margin:u,border:h,padding:b}},Er=function(i){var o=i.slice(0,-2),s=i.slice(-2);if(s!=="px")return 0;var u=Number(o);return isNaN(u)&&b3(),u},v3=function(){return{x:window.pageXOffset,y:window.pageYOffset}},Id=function(i,o){var s=i.borderBox,u=i.border,d=i.margin,h=i.padding,p=y3(s,o);return t0({borderBox:p,border:u,margin:d,padding:h})},Ud=function(i,o){return o===void 0&&(o=v3()),Id(i,o)},kx=function(i,o){var s={top:Er(o.marginTop),right:Er(o.marginRight),bottom:Er(o.marginBottom),left:Er(o.marginLeft)},u={top:Er(o.paddingTop),right:Er(o.paddingRight),bottom:Er(o.paddingBottom),left:Er(o.paddingLeft)},d={top:Er(o.borderTopWidth),right:Er(o.borderRightWidth),bottom:Er(o.borderBottomWidth),left:Er(o.borderLeftWidth)};return t0({borderBox:i,margin:s,padding:u,border:d})},Cx=function(i){var o=i.getBoundingClientRect(),s=window.getComputedStyle(i);return kx(o,s)},xc=function(i){var o=[],s=null,u=function(){for(var h=arguments.length,p=new Array(h),b=0;b<h;b++)p[b]=arguments[b];o=p,!s&&(s=requestAnimationFrame(function(){s=null,i.apply(void 0,o)}))};return u.cancel=function(){s&&(cancelAnimationFrame(s),s=null)},u};function Gd(){return Gd=Object.assign?Object.assign.bind():function(t){for(var i=1;i<arguments.length;i++){var o=arguments[i];for(var s in o)({}).hasOwnProperty.call(o,s)&&(t[s]=o[s])}return t},Gd.apply(null,arguments)}function Ox(t,i){}Ox.bind(null,"warn");Ox.bind(null,"error");function qa(){}function _3(t,i){return{...t,...i}}function Ar(t,i,o){const s=i.map(u=>{const d=_3(o,u.options);return t.addEventListener(u.eventName,u.fn,d),function(){t.removeEventListener(u.eventName,u.fn,d)}});return function(){s.forEach(d=>{d()})}}const x3="Invariant failed";class Zd extends Error{}Zd.prototype.toString=function(){return this.message};function Et(t,i){throw new Zd(x3)}class S3 extends Ne.Component{constructor(...i){super(...i),this.callbacks=null,this.unbind=qa,this.onWindowError=o=>{const s=this.getCallbacks();s.isDragging()&&s.tryAbort(),o.error instanceof Zd&&o.preventDefault()},this.getCallbacks=()=>{if(!this.callbacks)throw new Error("Unable to find AppCallbacks in <ErrorBoundary/>");return this.callbacks},this.setCallbacks=o=>{this.callbacks=o}}componentDidMount(){this.unbind=Ar(window,[{eventName:"error",fn:this.onWindowError}])}componentDidCatch(i){if(i instanceof Zd){this.setState({});return}throw i}componentWillUnmount(){this.unbind()}render(){return this.props.children(this.setCallbacks)}}const w3=`
  Press space bar to start a drag.
  When dragging you can use the arrow keys to move the item around and escape to cancel.
  Some screen readers may require you to be in focus mode or to use your pass through key
`,Yd=t=>t+1,T3=t=>`
  You have lifted an item in position ${Yd(t.source.index)}
`,Lx=(t,i)=>{const o=t.droppableId===i.droppableId,s=Yd(t.index),u=Yd(i.index);return o?`
      You have moved the item from position ${s}
      to position ${u}
    `:`
    You have moved the item from position ${s}
    in list ${t.droppableId}
    to list ${i.droppableId}
    in position ${u}
  `},Bx=(t,i,o)=>i.droppableId===o.droppableId?`
      The item ${t}
      has been combined with ${o.draggableId}`:`
      The item ${t}
      in list ${i.droppableId}
      has been combined with ${o.draggableId}
      in list ${o.droppableId}
    `,E3=t=>{const i=t.destination;if(i)return Lx(t.source,i);const o=t.combine;return o?Bx(t.draggableId,t.source,o):"You are over an area that cannot be dropped on"},av=t=>`
  The item has returned to its starting position
  of ${Yd(t.index)}
`,M3=t=>{if(t.reason==="CANCEL")return`
      Movement cancelled.
      ${av(t.source)}
    `;const i=t.destination,o=t.combine;return i?`
      You have dropped the item.
      ${Lx(t.source,i)}
    `:o?`
      You have dropped the item.
      ${Bx(t.draggableId,t.source,o)}
    `:`
    The item has been dropped while not over a drop area.
    ${av(t.source)}
  `},Bd={dragHandleUsageInstructions:w3,onDragStart:T3,onDragUpdate:E3,onDragEnd:M3};function N3(t,i){return!!(t===i||Number.isNaN(t)&&Number.isNaN(i))}function Rx(t,i){if(t.length!==i.length)return!1;for(let o=0;o<t.length;o++)if(!N3(t[o],i[o]))return!1;return!0}function ae(t,i){const o=R.useState(()=>({inputs:i,result:t()}))[0],s=R.useRef(!0),u=R.useRef(o),h=s.current||!!(i&&u.current.inputs&&Rx(i,u.current.inputs))?u.current:{inputs:i,result:t()};return R.useEffect(()=>{s.current=!1,u.current=h},[h]),h.result}function Rt(t,i){return ae(()=>t,i)}const hn={x:0,y:0},wn=(t,i)=>({x:t.x+i.x,y:t.y+i.y}),cr=(t,i)=>({x:t.x-i.x,y:t.y-i.y}),Va=(t,i)=>t.x===i.x&&t.y===i.y,qs=t=>({x:t.x!==0?-t.x:0,y:t.y!==0?-t.y:0}),Po=(t,i,o=0)=>t==="x"?{x:i,y:o}:{x:o,y:i},Sc=(t,i)=>Math.sqrt((i.x-t.x)**2+(i.y-t.y)**2),ov=(t,i)=>Math.min(...i.map(o=>Sc(t,o))),Px=t=>i=>({x:t(i.x),y:t(i.y)});var D3=(t,i)=>{const o=qr({top:Math.max(i.top,t.top),right:Math.min(i.right,t.right),bottom:Math.min(i.bottom,t.bottom),left:Math.max(i.left,t.left)});return o.width<=0||o.height<=0?null:o};const Bc=(t,i)=>({top:t.top+i.y,left:t.left+i.x,bottom:t.bottom+i.y,right:t.right+i.x}),sv=t=>[{x:t.left,y:t.top},{x:t.right,y:t.top},{x:t.left,y:t.bottom},{x:t.right,y:t.bottom}],A3={top:0,right:0,bottom:0,left:0},j3=(t,i)=>i?Bc(t,i.scroll.diff.displacement):t,k3=(t,i,o)=>o&&o.increasedBy?{...t,[i.end]:t[i.end]+o.increasedBy[i.line]}:t,C3=(t,i)=>i&&i.shouldClipSubject?D3(i.pageMarginBox,t):qr(t);var $s=({page:t,withPlaceholder:i,axis:o,frame:s})=>{const u=j3(t.marginBox,s),d=k3(u,o,i),h=C3(d,s);return{page:t,withPlaceholder:i,active:h}},e0=(t,i)=>{t.frame||Et();const o=t.frame,s=cr(i,o.scroll.initial),u=qs(s),d={...o,scroll:{initial:o.scroll.initial,current:i,diff:{value:s,displacement:u},max:o.scroll.max}},h=$s({page:t.subject.page,withPlaceholder:t.subject.withPlaceholder,axis:t.axis,frame:d});return{...t,frame:d,subject:h}};function fn(t,i=Rx){let o=null;function s(...u){if(o&&o.lastThis===this&&i(u,o.lastArgs))return o.lastResult;const d=t.apply(this,u);return o={lastResult:d,lastArgs:u,lastThis:this},d}return s.clear=function(){o=null},s}const zx=fn(t=>t.reduce((i,o)=>(i[o.descriptor.id]=o,i),{})),Hx=fn(t=>t.reduce((i,o)=>(i[o.descriptor.id]=o,i),{})),bf=fn(t=>Object.values(t)),O3=fn(t=>Object.values(t));var Vs=fn((t,i)=>O3(i).filter(s=>t===s.descriptor.droppableId).sort((s,u)=>s.descriptor.index-u.descriptor.index));function n0(t){return t.at&&t.at.type==="REORDER"?t.at.destination:null}function yf(t){return t.at&&t.at.type==="COMBINE"?t.at.combine:null}var vf=fn((t,i)=>i.filter(o=>o.descriptor.id!==t.descriptor.id)),L3=({isMovingForward:t,draggable:i,destination:o,insideDestination:s,previousImpact:u})=>{if(!o.isCombineEnabled||!n0(u))return null;function h(E){const A={type:"COMBINE",combine:{draggableId:E,droppableId:o.descriptor.id}};return{...u,at:A}}const p=u.displaced.all,b=p.length?p[0]:null;if(t)return b?h(b):null;const v=vf(i,s);if(!b){if(!v.length)return null;const E=v[v.length-1];return h(E.descriptor.id)}const x=v.findIndex(E=>E.descriptor.id===b);x===-1&&Et();const w=x-1;if(w<0)return null;const S=v[w];return h(S.descriptor.id)},Ks=(t,i)=>t.descriptor.droppableId===i.descriptor.id;const $x={point:hn,value:0},wc={invisible:{},visible:{},all:[]},B3={displaced:wc,displacedBy:$x,at:null};var kr=(t,i)=>o=>t<=o&&o<=i,Ix=t=>{const i=kr(t.top,t.bottom),o=kr(t.left,t.right);return s=>{if(i(s.top)&&i(s.bottom)&&o(s.left)&&o(s.right))return!0;const d=i(s.top)||i(s.bottom),h=o(s.left)||o(s.right);if(d&&h)return!0;const b=s.top<t.top&&s.bottom>t.bottom,v=s.left<t.left&&s.right>t.right;return b&&v?!0:b&&h||v&&d}},R3=t=>{const i=kr(t.top,t.bottom),o=kr(t.left,t.right);return s=>i(s.top)&&i(s.bottom)&&o(s.left)&&o(s.right)};const r0={direction:"vertical",line:"y",crossAxisLine:"x",start:"top",end:"bottom",size:"height",crossAxisStart:"left",crossAxisEnd:"right",crossAxisSize:"width"},Ux={direction:"horizontal",line:"x",crossAxisLine:"y",start:"left",end:"right",size:"width",crossAxisStart:"top",crossAxisEnd:"bottom",crossAxisSize:"height"};var P3=t=>i=>{const o=kr(i.top,i.bottom),s=kr(i.left,i.right);return u=>t===r0?o(u.top)&&o(u.bottom):s(u.left)&&s(u.right)};const z3=(t,i)=>{const o=i.frame?i.frame.scroll.diff.displacement:hn;return Bc(t,o)},H3=(t,i,o)=>i.subject.active?o(i.subject.active)(t):!1,$3=(t,i,o)=>o(i)(t),i0=({target:t,destination:i,viewport:o,withDroppableDisplacement:s,isVisibleThroughFrameFn:u})=>{const d=s?z3(t,i):t;return H3(d,i,u)&&$3(d,o,u)},I3=t=>i0({...t,isVisibleThroughFrameFn:Ix}),Gx=t=>i0({...t,isVisibleThroughFrameFn:R3}),U3=t=>i0({...t,isVisibleThroughFrameFn:P3(t.destination.axis)}),G3=(t,i,o)=>{if(typeof o=="boolean")return o;if(!i)return!0;const{invisible:s,visible:u}=i;if(s[t])return!1;const d=u[t];return d?d.shouldAnimate:!0};function Z3(t,i){const o=t.page.marginBox,s={top:i.point.y,right:0,bottom:0,left:i.point.x};return qr(Jp(o,s))}function Tc({afterDragging:t,destination:i,displacedBy:o,viewport:s,forceShouldAnimate:u,last:d}){return t.reduce(function(p,b){const v=Z3(b,o),x=b.descriptor.id;if(p.all.push(x),!I3({target:v,destination:i,viewport:s,withDroppableDisplacement:!0}))return p.invisible[b.descriptor.id]=!0,p;const S=G3(x,d,u),E={draggableId:x,shouldAnimate:S};return p.visible[x]=E,p},{all:[],visible:{},invisible:{}})}function Y3(t,i){if(!t.length)return 0;const o=t[t.length-1].descriptor.index;return i.inHomeList?o:o+1}function lv({insideDestination:t,inHomeList:i,displacedBy:o,destination:s}){const u=Y3(t,{inHomeList:i});return{displaced:wc,displacedBy:o,at:{type:"REORDER",destination:{droppableId:s.descriptor.id,index:u}}}}function qd({draggable:t,insideDestination:i,destination:o,viewport:s,displacedBy:u,last:d,index:h,forceShouldAnimate:p}){const b=Ks(t,o);if(h==null)return lv({insideDestination:i,inHomeList:b,displacedBy:u,destination:o});const v=i.find(A=>A.descriptor.index===h);if(!v)return lv({insideDestination:i,inHomeList:b,displacedBy:u,destination:o});const x=vf(t,i),w=i.indexOf(v),S=x.slice(w);return{displaced:Tc({afterDragging:S,destination:o,displacedBy:u,last:d,viewport:s.frame,forceShouldAnimate:p}),displacedBy:u,at:{type:"REORDER",destination:{droppableId:o.descriptor.id,index:h}}}}function Ka(t,i){return!!i.effected[t]}var q3=({isMovingForward:t,destination:i,draggables:o,combine:s,afterCritical:u})=>{if(!i.isCombineEnabled)return null;const d=s.draggableId,p=o[d].descriptor.index;return Ka(d,u)?t?p:p-1:t?p+1:p},V3=({isMovingForward:t,isInHomeList:i,insideDestination:o,location:s})=>{if(!o.length)return null;const u=s.index,d=t?u+1:u-1,h=o[0].descriptor.index,p=o[o.length-1].descriptor.index,b=i?p:p+1;return d<h||d>b?null:d},K3=({isMovingForward:t,isInHomeList:i,draggable:o,draggables:s,destination:u,insideDestination:d,previousImpact:h,viewport:p,afterCritical:b})=>{const v=h.at;if(v||Et(),v.type==="REORDER"){const w=V3({isMovingForward:t,isInHomeList:i,location:v.destination,insideDestination:d});return w==null?null:qd({draggable:o,insideDestination:d,destination:u,viewport:p,last:h.displaced,displacedBy:h.displacedBy,index:w})}const x=q3({isMovingForward:t,destination:u,displaced:h.displaced,draggables:s,combine:v.combine,afterCritical:b});return x==null?null:qd({draggable:o,insideDestination:d,destination:u,viewport:p,last:h.displaced,displacedBy:h.displacedBy,index:x})},F3=({displaced:t,afterCritical:i,combineWith:o,displacedBy:s})=>{const u=!!(t.visible[o]||t.invisible[o]);return Ka(o,i)?u?hn:qs(s.point):u?s.point:hn},X3=({afterCritical:t,impact:i,draggables:o})=>{const s=yf(i);s||Et();const u=s.draggableId,d=o[u].page.borderBox.center,h=F3({displaced:i.displaced,afterCritical:t,combineWith:u,displacedBy:i.displacedBy});return wn(d,h)};const Zx=(t,i)=>i.margin[t.start]+i.borderBox[t.size]/2,W3=(t,i)=>i.margin[t.end]+i.borderBox[t.size]/2,a0=(t,i,o)=>i[t.crossAxisStart]+o.margin[t.crossAxisStart]+o.borderBox[t.crossAxisSize]/2,cv=({axis:t,moveRelativeTo:i,isMoving:o})=>Po(t.line,i.marginBox[t.end]+Zx(t,o),a0(t,i.marginBox,o)),uv=({axis:t,moveRelativeTo:i,isMoving:o})=>Po(t.line,i.marginBox[t.start]-W3(t,o),a0(t,i.marginBox,o)),Q3=({axis:t,moveInto:i,isMoving:o})=>Po(t.line,i.contentBox[t.start]+Zx(t,o),a0(t,i.contentBox,o));var J3=({impact:t,draggable:i,draggables:o,droppable:s,afterCritical:u})=>{const d=Vs(s.descriptor.id,o),h=i.page,p=s.axis;if(!d.length)return Q3({axis:p,moveInto:s.page,isMoving:h});const{displaced:b,displacedBy:v}=t,x=b.all[0];if(x){const S=o[x];if(Ka(x,u))return uv({axis:p,moveRelativeTo:S.page,isMoving:h});const E=Id(S.page,v.point);return uv({axis:p,moveRelativeTo:E,isMoving:h})}const w=d[d.length-1];if(w.descriptor.id===i.descriptor.id)return h.borderBox.center;if(Ka(w.descriptor.id,u)){const S=Id(w.page,qs(u.displacedBy.point));return cv({axis:p,moveRelativeTo:S,isMoving:h})}return cv({axis:p,moveRelativeTo:w.page,isMoving:h})},kp=(t,i)=>{const o=t.frame;return o?wn(i,o.scroll.diff.displacement):i};const tM=({impact:t,draggable:i,droppable:o,draggables:s,afterCritical:u})=>{const d=i.page.borderBox.center,h=t.at;return!o||!h?d:h.type==="REORDER"?J3({impact:t,draggable:i,draggables:s,droppable:o,afterCritical:u}):X3({impact:t,draggables:s,afterCritical:u})};var _f=t=>{const i=tM(t),o=t.droppable;return o?kp(o,i):i},Yx=(t,i)=>{const o=cr(i,t.scroll.initial),s=qs(o);return{frame:qr({top:i.y,bottom:i.y+t.frame.height,left:i.x,right:i.x+t.frame.width}),scroll:{initial:t.scroll.initial,max:t.scroll.max,current:i,diff:{value:o,displacement:s}}}};function dv(t,i){return t.map(o=>i[o])}function eM(t,i){for(let o=0;o<i.length;o++){const s=i[o].visible[t];if(s)return s}return null}var nM=({impact:t,viewport:i,destination:o,draggables:s,maxScrollChange:u})=>{const d=Yx(i,wn(i.scroll.current,u)),h=o.frame?e0(o,wn(o.frame.scroll.current,u)):o,p=t.displaced,b=Tc({afterDragging:dv(p.all,s),destination:o,displacedBy:t.displacedBy,viewport:d.frame,last:p,forceShouldAnimate:!1}),v=Tc({afterDragging:dv(p.all,s),destination:h,displacedBy:t.displacedBy,viewport:i.frame,last:p,forceShouldAnimate:!1}),x={},w={},S=[p,b,v];return p.all.forEach(A=>{const D=eM(A,S);if(D){w[A]=D;return}x[A]=!0}),{...t,displaced:{all:p.all,invisible:x,visible:w}}},rM=(t,i)=>wn(t.scroll.diff.displacement,i),o0=({pageBorderBoxCenter:t,draggable:i,viewport:o})=>{const s=rM(o,t),u=cr(s,i.page.borderBox.center);return wn(i.client.borderBox.center,u)},qx=({draggable:t,destination:i,newPageBorderBoxCenter:o,viewport:s,withDroppableDisplacement:u,onlyOnMainAxis:d=!1})=>{const h=cr(o,t.page.borderBox.center),b={target:Bc(t.page.borderBox,h),destination:i,withDroppableDisplacement:u,viewport:s};return d?U3(b):Gx(b)},iM=({isMovingForward:t,draggable:i,destination:o,draggables:s,previousImpact:u,viewport:d,previousPageBorderBoxCenter:h,previousClientSelection:p,afterCritical:b})=>{if(!o.isEnabled)return null;const v=Vs(o.descriptor.id,s),x=Ks(i,o),w=L3({isMovingForward:t,draggable:i,destination:o,insideDestination:v,previousImpact:u})||K3({isMovingForward:t,isInHomeList:x,draggable:i,draggables:s,destination:o,insideDestination:v,previousImpact:u,viewport:d,afterCritical:b});if(!w)return null;const S=_f({impact:w,draggable:i,droppable:o,draggables:s,afterCritical:b});if(qx({draggable:i,destination:o,newPageBorderBoxCenter:S,viewport:d.frame,withDroppableDisplacement:!1,onlyOnMainAxis:!0}))return{clientSelection:o0({pageBorderBoxCenter:S,draggable:i,viewport:d}),impact:w,scrollJumpRequest:null};const A=cr(S,h),D=nM({impact:w,viewport:d,destination:o,draggables:s,maxScrollChange:A});return{clientSelection:p,impact:D,scrollJumpRequest:A}};const Rn=t=>{const i=t.subject.active;return i||Et(),i};var aM=({isMovingForward:t,pageBorderBoxCenter:i,source:o,droppables:s,viewport:u})=>{const d=o.subject.active;if(!d)return null;const h=o.axis,p=kr(d[h.start],d[h.end]),b=bf(s).filter(x=>x!==o).filter(x=>x.isEnabled).filter(x=>!!x.subject.active).filter(x=>Ix(u.frame)(Rn(x))).filter(x=>{const w=Rn(x);return t?d[h.crossAxisEnd]<w[h.crossAxisEnd]:w[h.crossAxisStart]<d[h.crossAxisStart]}).filter(x=>{const w=Rn(x),S=kr(w[h.start],w[h.end]);return p(w[h.start])||p(w[h.end])||S(d[h.start])||S(d[h.end])}).sort((x,w)=>{const S=Rn(x)[h.crossAxisStart],E=Rn(w)[h.crossAxisStart];return t?S-E:E-S}).filter((x,w,S)=>Rn(x)[h.crossAxisStart]===Rn(S[0])[h.crossAxisStart]);if(!b.length)return null;if(b.length===1)return b[0];const v=b.filter(x=>kr(Rn(x)[h.start],Rn(x)[h.end])(i[h.line]));return v.length===1?v[0]:v.length>1?v.sort((x,w)=>Rn(x)[h.start]-Rn(w)[h.start])[0]:b.sort((x,w)=>{const S=ov(i,sv(Rn(x))),E=ov(i,sv(Rn(w)));return S!==E?S-E:Rn(x)[h.start]-Rn(w)[h.start]})[0]};const fv=(t,i)=>{const o=t.page.borderBox.center;return Ka(t.descriptor.id,i)?cr(o,i.displacedBy.point):o},oM=(t,i)=>{const o=t.page.borderBox;return Ka(t.descriptor.id,i)?Bc(o,qs(i.displacedBy.point)):o};var sM=({pageBorderBoxCenter:t,viewport:i,destination:o,insideDestination:s,afterCritical:u})=>s.filter(h=>Gx({target:oM(h,u),destination:o,viewport:i.frame,withDroppableDisplacement:!0})).sort((h,p)=>{const b=Sc(t,kp(o,fv(h,u))),v=Sc(t,kp(o,fv(p,u)));return b<v?-1:v<b?1:h.descriptor.index-p.descriptor.index})[0]||null,Rc=fn(function(i,o){const s=o[i.line];return{value:s,point:Po(i.line,s)}});const lM=(t,i,o)=>{const s=t.axis;if(t.descriptor.mode==="virtual")return Po(s.line,i[s.line]);const u=t.subject.page.contentBox[s.size],b=Vs(t.descriptor.id,o).reduce((v,x)=>v+x.client.marginBox[s.size],0)+i[s.line]-u;return b<=0?null:Po(s.line,b)},Vx=(t,i)=>({...t,scroll:{...t.scroll,max:i}}),Kx=(t,i,o)=>{const s=t.frame;Ks(i,t)&&Et(),t.subject.withPlaceholder&&Et();const u=Rc(t.axis,i.displaceBy).point,d=lM(t,u,o),h={placeholderSize:u,increasedBy:d,oldFrameMaxScroll:t.frame?t.frame.scroll.max:null};if(!s){const x=$s({page:t.subject.page,withPlaceholder:h,axis:t.axis,frame:t.frame});return{...t,subject:x}}const p=d?wn(s.scroll.max,d):s.scroll.max,b=Vx(s,p),v=$s({page:t.subject.page,withPlaceholder:h,axis:t.axis,frame:b});return{...t,subject:v,frame:b}},cM=t=>{const i=t.subject.withPlaceholder;i||Et();const o=t.frame;if(!o){const h=$s({page:t.subject.page,axis:t.axis,frame:null,withPlaceholder:null});return{...t,subject:h}}const s=i.oldFrameMaxScroll;s||Et();const u=Vx(o,s),d=$s({page:t.subject.page,axis:t.axis,frame:u,withPlaceholder:null});return{...t,subject:d,frame:u}};var uM=({previousPageBorderBoxCenter:t,moveRelativeTo:i,insideDestination:o,draggable:s,draggables:u,destination:d,viewport:h,afterCritical:p})=>{if(!i){if(o.length)return null;const w={displaced:wc,displacedBy:$x,at:{type:"REORDER",destination:{droppableId:d.descriptor.id,index:0}}},S=_f({impact:w,draggable:s,droppable:d,draggables:u,afterCritical:p}),E=Ks(s,d)?d:Kx(d,s,u);return qx({draggable:s,destination:E,newPageBorderBoxCenter:S,viewport:h.frame,withDroppableDisplacement:!1,onlyOnMainAxis:!0})?w:null}const b=t[d.axis.line]<=i.page.borderBox.center[d.axis.line],v=(()=>{const w=i.descriptor.index;return i.descriptor.id===s.descriptor.id||b?w:w+1})(),x=Rc(d.axis,s.displaceBy);return qd({draggable:s,insideDestination:o,destination:d,viewport:h,displacedBy:x,last:wc,index:v})},dM=({isMovingForward:t,previousPageBorderBoxCenter:i,draggable:o,isOver:s,draggables:u,droppables:d,viewport:h,afterCritical:p})=>{const b=aM({isMovingForward:t,pageBorderBoxCenter:i,source:s,droppables:d,viewport:h});if(!b)return null;const v=Vs(b.descriptor.id,u),x=sM({pageBorderBoxCenter:i,viewport:h,destination:b,insideDestination:v,afterCritical:p}),w=uM({previousPageBorderBoxCenter:i,destination:b,draggable:o,draggables:u,moveRelativeTo:x,insideDestination:v,viewport:h,afterCritical:p});if(!w)return null;const S=_f({impact:w,draggable:o,droppable:b,draggables:u,afterCritical:p});return{clientSelection:o0({pageBorderBoxCenter:S,draggable:o,viewport:h}),impact:w,scrollJumpRequest:null}},ur=t=>{const i=t.at;return i?i.type==="REORDER"?i.destination.droppableId:i.combine.droppableId:null};const fM=(t,i)=>{const o=ur(t);return o?i[o]:null};var hM=({state:t,type:i})=>{const o=fM(t.impact,t.dimensions.droppables),s=!!o,u=t.dimensions.droppables[t.critical.droppable.id],d=o||u,h=d.axis.direction,p=h==="vertical"&&(i==="MOVE_UP"||i==="MOVE_DOWN")||h==="horizontal"&&(i==="MOVE_LEFT"||i==="MOVE_RIGHT");if(p&&!s)return null;const b=i==="MOVE_DOWN"||i==="MOVE_RIGHT",v=t.dimensions.draggables[t.critical.draggable.id],x=t.current.page.borderBoxCenter,{draggables:w,droppables:S}=t.dimensions;return p?iM({isMovingForward:b,previousPageBorderBoxCenter:x,draggable:v,destination:d,draggables:w,viewport:t.viewport,previousClientSelection:t.current.client.selection,previousImpact:t.impact,afterCritical:t.afterCritical}):dM({isMovingForward:b,previousPageBorderBoxCenter:x,draggable:v,isOver:d,draggables:w,droppables:S,viewport:t.viewport,afterCritical:t.afterCritical})};function Lo(t){return t.phase==="DRAGGING"||t.phase==="COLLECTING"}function Fx(t){const i=kr(t.top,t.bottom),o=kr(t.left,t.right);return function(u){return i(u.y)&&o(u.x)}}function mM(t,i){return t.left<i.right&&t.right>i.left&&t.top<i.bottom&&t.bottom>i.top}function pM({pageBorderBox:t,draggable:i,candidates:o}){const s=i.page.borderBox.center,u=o.map(d=>{const h=d.axis,p=Po(d.axis.line,t.center[h.line],d.page.borderBox.center[h.crossAxisLine]);return{id:d.descriptor.id,distance:Sc(s,p)}}).sort((d,h)=>h.distance-d.distance);return u[0]?u[0].id:null}function gM({pageBorderBox:t,draggable:i,droppables:o}){const s=bf(o).filter(u=>{if(!u.isEnabled)return!1;const d=u.subject.active;if(!d||!mM(t,d))return!1;if(Fx(d)(t.center))return!0;const h=u.axis,p=d.center[h.crossAxisLine],b=t[h.crossAxisStart],v=t[h.crossAxisEnd],x=kr(d[h.crossAxisStart],d[h.crossAxisEnd]),w=x(b),S=x(v);return!w&&!S?!0:w?b<p:v>p});return s.length?s.length===1?s[0].descriptor.id:pM({pageBorderBox:t,draggable:i,candidates:s}):null}const Xx=(t,i)=>qr(Bc(t,i));var bM=(t,i)=>{const o=t.frame;return o?Xx(i,o.scroll.diff.value):i};function Wx({displaced:t,id:i}){return!!(t.visible[i]||t.invisible[i])}function yM({draggable:t,closest:i,inHomeList:o}){return i?o&&i.descriptor.index>t.descriptor.index?i.descriptor.index-1:i.descriptor.index:null}var vM=({pageBorderBoxWithDroppableScroll:t,draggable:i,destination:o,insideDestination:s,last:u,viewport:d,afterCritical:h})=>{const p=o.axis,b=Rc(o.axis,i.displaceBy),v=b.value,x=t[p.start],w=t[p.end],E=vf(i,s).find(D=>{const j=D.descriptor.id,$=D.page.borderBox.center[p.line],z=Ka(j,h),C=Wx({displaced:u,id:j});return z?C?w<=$:x<$-v:C?w<=$+v:x<$})||null,A=yM({draggable:i,closest:E,inHomeList:Ks(i,o)});return qd({draggable:i,insideDestination:s,destination:o,viewport:d,last:u,displacedBy:b,index:A})};const _M=4;var xM=({draggable:t,pageBorderBoxWithDroppableScroll:i,previousImpact:o,destination:s,insideDestination:u,afterCritical:d})=>{if(!s.isCombineEnabled)return null;const h=s.axis,p=Rc(s.axis,t.displaceBy),b=p.value,v=i[h.start],x=i[h.end],S=vf(t,u).find(A=>{const D=A.descriptor.id,j=A.page.borderBox,z=j[h.size]/_M,C=Ka(D,d),P=Wx({displaced:o.displaced,id:D});return C?P?x>j[h.start]+z&&x<j[h.end]-z:v>j[h.start]-b+z&&v<j[h.end]-b-z:P?x>j[h.start]+b+z&&x<j[h.end]+b-z:v>j[h.start]+z&&v<j[h.end]-z});return S?{displacedBy:p,displaced:o.displaced,at:{type:"COMBINE",combine:{draggableId:S.descriptor.id,droppableId:s.descriptor.id}}}:null},Qx=({pageOffset:t,draggable:i,draggables:o,droppables:s,previousImpact:u,viewport:d,afterCritical:h})=>{const p=Xx(i.page.borderBox,t),b=gM({pageBorderBox:p,draggable:i,droppables:s});if(!b)return B3;const v=s[b],x=Vs(v.descriptor.id,o),w=bM(v,p);return xM({pageBorderBoxWithDroppableScroll:w,draggable:i,previousImpact:u,destination:v,insideDestination:x,afterCritical:h})||vM({pageBorderBoxWithDroppableScroll:w,draggable:i,destination:v,insideDestination:x,last:u.displaced,viewport:d,afterCritical:h})},s0=(t,i)=>({...t,[i.descriptor.id]:i});const SM=({previousImpact:t,impact:i,droppables:o})=>{const s=ur(t),u=ur(i);if(!s||s===u)return o;const d=o[s];if(!d.subject.withPlaceholder)return o;const h=cM(d);return s0(o,h)};var wM=({draggable:t,draggables:i,droppables:o,previousImpact:s,impact:u})=>{const d=SM({previousImpact:s,impact:u,droppables:o}),h=ur(u);if(!h)return d;const p=o[h];if(Ks(t,p)||p.subject.withPlaceholder)return d;const b=Kx(p,t,i);return s0(d,b)},bc=({state:t,clientSelection:i,dimensions:o,viewport:s,impact:u,scrollJumpRequest:d})=>{const h=s||t.viewport,p=o||t.dimensions,b=i||t.current.client.selection,v=cr(b,t.initial.client.selection),x={offset:v,selection:b,borderBoxCenter:wn(t.initial.client.borderBoxCenter,v)},w={selection:wn(x.selection,h.scroll.current),borderBoxCenter:wn(x.borderBoxCenter,h.scroll.current),offset:wn(x.offset,h.scroll.diff.value)},S={client:x,page:w};if(t.phase==="COLLECTING")return{...t,dimensions:p,viewport:h,current:S};const E=p.draggables[t.critical.draggable.id],A=u||Qx({pageOffset:w.offset,draggable:E,draggables:p.draggables,droppables:p.droppables,previousImpact:t.impact,viewport:h,afterCritical:t.afterCritical}),D=wM({draggable:E,impact:A,previousImpact:t.impact,draggables:p.draggables,droppables:p.droppables});return{...t,current:S,dimensions:{draggables:p.draggables,droppables:D},impact:A,viewport:h,scrollJumpRequest:d||null,forceShouldAnimate:d?!1:null}};function TM(t,i){return t.map(o=>i[o])}var Jx=({impact:t,viewport:i,draggables:o,destination:s,forceShouldAnimate:u})=>{const d=t.displaced,h=TM(d.all,o),p=Tc({afterDragging:h,destination:s,displacedBy:t.displacedBy,viewport:i.frame,forceShouldAnimate:u,last:d});return{...t,displaced:p}},t1=({impact:t,draggable:i,droppable:o,draggables:s,viewport:u,afterCritical:d})=>{const h=_f({impact:t,draggable:i,draggables:s,droppable:o,afterCritical:d});return o0({pageBorderBoxCenter:h,draggable:i,viewport:u})},e1=({state:t,dimensions:i,viewport:o})=>{t.movementMode!=="SNAP"&&Et();const s=t.impact,u=o||t.viewport,d=i||t.dimensions,{draggables:h,droppables:p}=d,b=h[t.critical.draggable.id],v=ur(s);v||Et();const x=p[v],w=Jx({impact:s,viewport:u,destination:x,draggables:h}),S=t1({impact:w,draggable:b,droppable:x,draggables:h,viewport:u,afterCritical:t.afterCritical});return bc({impact:w,clientSelection:S,state:t,dimensions:d,viewport:u})},EM=t=>({index:t.index,droppableId:t.droppableId}),n1=({draggable:t,home:i,draggables:o,viewport:s})=>{const u=Rc(i.axis,t.displaceBy),d=Vs(i.descriptor.id,o),h=d.indexOf(t);h===-1&&Et();const p=d.slice(h+1),b=p.reduce((S,E)=>(S[E.descriptor.id]=!0,S),{}),v={inVirtualList:i.descriptor.mode==="virtual",displacedBy:u,effected:b};return{impact:{displaced:Tc({afterDragging:p,destination:i,displacedBy:u,last:null,viewport:s.frame,forceShouldAnimate:!1}),displacedBy:u,at:{type:"REORDER",destination:EM(t.descriptor)}},afterCritical:v}},MM=(t,i)=>({draggables:t.draggables,droppables:s0(t.droppables,i)}),NM=({draggable:t,offset:i,initialWindowScroll:o})=>{const s=Id(t.client,i),u=Ud(s,o);return{...t,placeholder:{...t.placeholder,client:s},client:s,page:u}},DM=t=>{const i=t.frame;return i||Et(),i},AM=({additions:t,updatedDroppables:i,viewport:o})=>{const s=o.scroll.diff.value;return t.map(u=>{const d=u.descriptor.droppableId,h=i[d],b=DM(h).scroll.diff.value,v=wn(s,b);return NM({draggable:u,offset:v,initialWindowScroll:o.scroll.initial})})},jM=({state:t,published:i})=>{const o=i.modified.map($=>{const z=t.dimensions.droppables[$.droppableId];return e0(z,$.scroll)}),s={...t.dimensions.droppables,...zx(o)},u=Hx(AM({additions:i.additions,updatedDroppables:s,viewport:t.viewport})),d={...t.dimensions.draggables,...u};i.removals.forEach($=>{delete d[$]});const h={droppables:s,draggables:d},p=ur(t.impact),b=p?h.droppables[p]:null,v=h.draggables[t.critical.draggable.id],x=h.droppables[t.critical.droppable.id],{impact:w,afterCritical:S}=n1({draggable:v,home:x,draggables:d,viewport:t.viewport}),E=b&&b.isCombineEnabled?t.impact:w,A=Qx({pageOffset:t.current.page.offset,draggable:h.draggables[t.critical.draggable.id],draggables:h.draggables,droppables:h.droppables,previousImpact:E,viewport:t.viewport,afterCritical:S}),D={...t,phase:"DRAGGING",impact:A,onLiftImpact:w,dimensions:h,afterCritical:S,forceShouldAnimate:!1};return t.phase==="COLLECTING"?D:{...D,phase:"DROP_PENDING",reason:t.reason,isWaiting:!1}};const Cp=t=>t.movementMode==="SNAP",zm=(t,i,o)=>{const s=MM(t.dimensions,i);return!Cp(t)||o?bc({state:t,dimensions:s}):e1({state:t,dimensions:s})};function Hm(t){return t.isDragging&&t.movementMode==="SNAP"?{...t,scrollJumpRequest:null}:t}const hv={phase:"IDLE",completed:null,shouldFlush:!1};var kM=(t=hv,i)=>{if(i.type==="FLUSH")return{...hv,shouldFlush:!0};if(i.type==="INITIAL_PUBLISH"){t.phase!=="IDLE"&&Et();const{critical:o,clientSelection:s,viewport:u,dimensions:d,movementMode:h}=i.payload,p=d.draggables[o.draggable.id],b=d.droppables[o.droppable.id],v={selection:s,borderBoxCenter:p.client.borderBox.center,offset:hn},x={client:v,page:{selection:wn(v.selection,u.scroll.initial),borderBoxCenter:wn(v.selection,u.scroll.initial),offset:wn(v.selection,u.scroll.diff.value)}},w=bf(d.droppables).every(D=>!D.isFixedOnPage),{impact:S,afterCritical:E}=n1({draggable:p,home:b,draggables:d.draggables,viewport:u});return{phase:"DRAGGING",isDragging:!0,critical:o,movementMode:h,dimensions:d,initial:x,current:x,isWindowScrollAllowed:w,impact:S,afterCritical:E,onLiftImpact:S,viewport:u,scrollJumpRequest:null,forceShouldAnimate:null}}if(i.type==="COLLECTION_STARTING")return t.phase==="COLLECTING"||t.phase==="DROP_PENDING"?t:(t.phase!=="DRAGGING"&&Et(),{...t,phase:"COLLECTING"});if(i.type==="PUBLISH_WHILE_DRAGGING")return t.phase==="COLLECTING"||t.phase==="DROP_PENDING"||Et(),jM({state:t,published:i.payload});if(i.type==="MOVE"){if(t.phase==="DROP_PENDING")return t;Lo(t)||Et();const{client:o}=i.payload;return Va(o,t.current.client.selection)?t:bc({state:t,clientSelection:o,impact:Cp(t)?t.impact:null})}if(i.type==="UPDATE_DROPPABLE_SCROLL"){if(t.phase==="DROP_PENDING"||t.phase==="COLLECTING")return Hm(t);Lo(t)||Et();const{id:o,newScroll:s}=i.payload,u=t.dimensions.droppables[o];if(!u)return t;const d=e0(u,s);return zm(t,d,!1)}if(i.type==="UPDATE_DROPPABLE_IS_ENABLED"){if(t.phase==="DROP_PENDING")return t;Lo(t)||Et();const{id:o,isEnabled:s}=i.payload,u=t.dimensions.droppables[o];u||Et(),u.isEnabled===s&&Et();const d={...u,isEnabled:s};return zm(t,d,!0)}if(i.type==="UPDATE_DROPPABLE_IS_COMBINE_ENABLED"){if(t.phase==="DROP_PENDING")return t;Lo(t)||Et();const{id:o,isCombineEnabled:s}=i.payload,u=t.dimensions.droppables[o];u||Et(),u.isCombineEnabled===s&&Et();const d={...u,isCombineEnabled:s};return zm(t,d,!0)}if(i.type==="MOVE_BY_WINDOW_SCROLL"){if(t.phase==="DROP_PENDING"||t.phase==="DROP_ANIMATING")return t;Lo(t)||Et(),t.isWindowScrollAllowed||Et();const o=i.payload.newScroll;if(Va(t.viewport.scroll.current,o))return Hm(t);const s=Yx(t.viewport,o);return Cp(t)?e1({state:t,viewport:s}):bc({state:t,viewport:s})}if(i.type==="UPDATE_VIEWPORT_MAX_SCROLL"){if(!Lo(t))return t;const o=i.payload.maxScroll;if(Va(o,t.viewport.scroll.max))return t;const s={...t.viewport,scroll:{...t.viewport.scroll,max:o}};return{...t,viewport:s}}if(i.type==="MOVE_UP"||i.type==="MOVE_DOWN"||i.type==="MOVE_LEFT"||i.type==="MOVE_RIGHT"){if(t.phase==="COLLECTING"||t.phase==="DROP_PENDING")return t;t.phase!=="DRAGGING"&&Et();const o=hM({state:t,type:i.type});return o?bc({state:t,impact:o.impact,clientSelection:o.clientSelection,scrollJumpRequest:o.scrollJumpRequest}):t}if(i.type==="DROP_PENDING"){const o=i.payload.reason;return t.phase!=="COLLECTING"&&Et(),{...t,phase:"DROP_PENDING",isWaiting:!0,reason:o}}if(i.type==="DROP_ANIMATE"){const{completed:o,dropDuration:s,newHomeClientOffset:u}=i.payload;return t.phase==="DRAGGING"||t.phase==="DROP_PENDING"||Et(),{phase:"DROP_ANIMATING",completed:o,dropDuration:s,newHomeClientOffset:u,dimensions:t.dimensions}}if(i.type==="DROP_COMPLETE"){const{completed:o}=i.payload;return{phase:"IDLE",completed:o,shouldFlush:!1}}return t};function de(t,i){return t instanceof Object&&"type"in t&&t.type===i}const CM=t=>({type:"BEFORE_INITIAL_CAPTURE",payload:t}),OM=t=>({type:"LIFT",payload:t}),LM=t=>({type:"INITIAL_PUBLISH",payload:t}),BM=t=>({type:"PUBLISH_WHILE_DRAGGING",payload:t}),RM=()=>({type:"COLLECTION_STARTING",payload:null}),PM=t=>({type:"UPDATE_DROPPABLE_SCROLL",payload:t}),zM=t=>({type:"UPDATE_DROPPABLE_IS_ENABLED",payload:t}),HM=t=>({type:"UPDATE_DROPPABLE_IS_COMBINE_ENABLED",payload:t}),r1=t=>({type:"MOVE",payload:t}),$M=t=>({type:"MOVE_BY_WINDOW_SCROLL",payload:t}),IM=t=>({type:"UPDATE_VIEWPORT_MAX_SCROLL",payload:t}),UM=()=>({type:"MOVE_UP",payload:null}),GM=()=>({type:"MOVE_DOWN",payload:null}),ZM=()=>({type:"MOVE_RIGHT",payload:null}),YM=()=>({type:"MOVE_LEFT",payload:null}),l0=()=>({type:"FLUSH",payload:null}),qM=t=>({type:"DROP_ANIMATE",payload:t}),c0=t=>({type:"DROP_COMPLETE",payload:t}),i1=t=>({type:"DROP",payload:t}),VM=t=>({type:"DROP_PENDING",payload:t}),a1=()=>({type:"DROP_ANIMATION_FINISHED",payload:null});var KM=t=>({getState:i,dispatch:o})=>s=>u=>{if(!de(u,"LIFT")){s(u);return}const{id:d,clientSelection:h,movementMode:p}=u.payload,b=i();b.phase==="DROP_ANIMATING"&&o(c0({completed:b.completed})),i().phase!=="IDLE"&&Et(),o(l0()),o(CM({draggableId:d,movementMode:p}));const x={draggableId:d,scrollOptions:{shouldPublishImmediately:p==="SNAP"}},{critical:w,dimensions:S,viewport:E}=t.startPublishing(x);o(LM({critical:w,dimensions:S,clientSelection:h,movementMode:p,viewport:E}))},FM=t=>()=>i=>o=>{de(o,"INITIAL_PUBLISH")&&t.dragging(),de(o,"DROP_ANIMATE")&&t.dropping(o.payload.completed.result.reason),(de(o,"FLUSH")||de(o,"DROP_COMPLETE"))&&t.resting(),i(o)};const u0={outOfTheWay:"cubic-bezier(0.2, 0, 0, 1)",drop:"cubic-bezier(.2,1,.1,1)"},Ec={opacity:{drop:0,combining:.7},scale:{drop:.75}},o1={outOfTheWay:.2,minDropTime:.33,maxDropTime:.55},Ao=`${o1.outOfTheWay}s ${u0.outOfTheWay}`,yc={fluid:`opacity ${Ao}`,snap:`transform ${Ao}, opacity ${Ao}`,drop:t=>{const i=`${t}s ${u0.drop}`;return`transform ${i}, opacity ${i}`},outOfTheWay:`transform ${Ao}`,placeholder:`height ${Ao}, width ${Ao}, margin ${Ao}`},mv=t=>Va(t,hn)?void 0:`translate(${t.x}px, ${t.y}px)`,Op={moveTo:mv,drop:(t,i)=>{const o=mv(t);if(o)return i?`${o} scale(${Ec.scale.drop})`:o}},{minDropTime:Lp,maxDropTime:s1}=o1,XM=s1-Lp,pv=1500,WM=.6;var QM=({current:t,destination:i,reason:o})=>{const s=Sc(t,i);if(s<=0)return Lp;if(s>=pv)return s1;const u=s/pv,d=Lp+XM*u,h=o==="CANCEL"?d*WM:d;return Number(h.toFixed(2))},JM=({impact:t,draggable:i,dimensions:o,viewport:s,afterCritical:u})=>{const{draggables:d,droppables:h}=o,p=ur(t),b=p?h[p]:null,v=h[i.descriptor.droppableId],x=t1({impact:t,draggable:i,draggables:d,afterCritical:u,droppable:b||v,viewport:s});return cr(x,i.client.borderBox.center)},tN=({draggables:t,reason:i,lastImpact:o,home:s,viewport:u,onLiftImpact:d})=>!o.at||i!=="DROP"?{impact:Jx({draggables:t,impact:d,destination:s,viewport:u,forceShouldAnimate:!0}),didDropInsideDroppable:!1}:o.at.type==="REORDER"?{impact:o,didDropInsideDroppable:!0}:{impact:{...o,displaced:wc},didDropInsideDroppable:!0};const eN=({getState:t,dispatch:i})=>o=>s=>{if(!de(s,"DROP")){o(s);return}const u=t(),d=s.payload.reason;if(u.phase==="COLLECTING"){i(VM({reason:d}));return}if(u.phase==="IDLE")return;u.phase==="DROP_PENDING"&&u.isWaiting&&Et(),u.phase==="DRAGGING"||u.phase==="DROP_PENDING"||Et();const p=u.critical,b=u.dimensions,v=b.draggables[u.critical.draggable.id],{impact:x,didDropInsideDroppable:w}=tN({reason:d,lastImpact:u.impact,afterCritical:u.afterCritical,onLiftImpact:u.onLiftImpact,home:u.dimensions.droppables[u.critical.droppable.id],viewport:u.viewport,draggables:u.dimensions.draggables}),S=w?n0(x):null,E=w?yf(x):null,A={index:p.draggable.index,droppableId:p.droppable.id},D={draggableId:v.descriptor.id,type:v.descriptor.type,source:A,reason:d,mode:u.movementMode,destination:S,combine:E},j=JM({impact:x,draggable:v,dimensions:b,viewport:u.viewport,afterCritical:u.afterCritical}),$={critical:u.critical,afterCritical:u.afterCritical,result:D,impact:x};if(!(!Va(u.current.client.offset,j)||!!D.combine)){i(c0({completed:$}));return}const C=QM({current:u.current.client.offset,destination:j,reason:d});i(qM({newHomeClientOffset:j,dropDuration:C,completed:$}))};var l1=()=>({x:window.pageXOffset,y:window.pageYOffset});function nN(t){return{eventName:"scroll",options:{passive:!0,capture:!1},fn:i=>{i.target!==window&&i.target!==window.document||t()}}}function rN({onWindowScroll:t}){function i(){t(l1())}const o=xc(i),s=nN(o);let u=qa;function d(){return u!==qa}function h(){d()&&Et(),u=Ar(window,[s])}function p(){d()||Et(),o.cancel(),u(),u=qa}return{start:h,stop:p,isActive:d}}const iN=t=>de(t,"DROP_COMPLETE")||de(t,"DROP_ANIMATE")||de(t,"FLUSH"),aN=t=>{const i=rN({onWindowScroll:o=>{t.dispatch($M({newScroll:o}))}});return o=>s=>{!i.isActive()&&de(s,"INITIAL_PUBLISH")&&i.start(),i.isActive()&&iN(s)&&i.stop(),o(s)}};var oN=t=>{let i=!1,o=!1;const s=setTimeout(()=>{o=!0}),u=d=>{i||o||(i=!0,t(d),clearTimeout(s))};return u.wasCalled=()=>i,u},sN=()=>{const t=[],i=u=>{const d=t.findIndex(p=>p.timerId===u);d===-1&&Et();const[h]=t.splice(d,1);h.callback()};return{add:u=>{const d=setTimeout(()=>i(d)),h={timerId:d,callback:u};t.push(h)},flush:()=>{if(!t.length)return;const u=[...t];t.length=0,u.forEach(d=>{clearTimeout(d.timerId),d.callback()})}}};const lN=(t,i)=>t==null&&i==null?!0:t==null||i==null?!1:t.droppableId===i.droppableId&&t.index===i.index,cN=(t,i)=>t==null&&i==null?!0:t==null||i==null?!1:t.draggableId===i.draggableId&&t.droppableId===i.droppableId,uN=(t,i)=>{if(t===i)return!0;const o=t.draggable.id===i.draggable.id&&t.draggable.droppableId===i.draggable.droppableId&&t.draggable.type===i.draggable.type&&t.draggable.index===i.draggable.index,s=t.droppable.id===i.droppable.id&&t.droppable.type===i.droppable.type;return o&&s},ic=(t,i)=>{i()},dd=(t,i)=>({draggableId:t.draggable.id,type:t.droppable.type,source:{droppableId:t.droppable.id,index:t.draggable.index},mode:i});function $m(t,i,o,s){if(!t){o(s(i));return}const u=oN(o);t(i,{announce:u}),u.wasCalled()||o(s(i))}var dN=(t,i)=>{const o=sN();let s=null;const u=(w,S)=>{s&&Et(),ic("onBeforeCapture",()=>{const E=t().onBeforeCapture;E&&E({draggableId:w,mode:S})})},d=(w,S)=>{s&&Et(),ic("onBeforeDragStart",()=>{const E=t().onBeforeDragStart;E&&E(dd(w,S))})},h=(w,S)=>{s&&Et();const E=dd(w,S);s={mode:S,lastCritical:w,lastLocation:E.source,lastCombine:null},o.add(()=>{ic("onDragStart",()=>$m(t().onDragStart,E,i,Bd.onDragStart))})},p=(w,S)=>{const E=n0(S),A=yf(S);s||Et();const D=!uN(w,s.lastCritical);D&&(s.lastCritical=w);const j=!lN(s.lastLocation,E);j&&(s.lastLocation=E);const $=!cN(s.lastCombine,A);if($&&(s.lastCombine=A),!D&&!j&&!$)return;const z={...dd(w,s.mode),combine:A,destination:E};o.add(()=>{ic("onDragUpdate",()=>$m(t().onDragUpdate,z,i,Bd.onDragUpdate))})},b=()=>{s||Et(),o.flush()},v=w=>{s||Et(),s=null,ic("onDragEnd",()=>$m(t().onDragEnd,w,i,Bd.onDragEnd))};return{beforeCapture:u,beforeStart:d,start:h,update:p,flush:b,drop:v,abort:()=>{if(!s)return;const w={...dd(s.lastCritical,s.mode),combine:null,destination:null,reason:"CANCEL"};v(w)}}},fN=(t,i)=>{const o=dN(t,i);return s=>u=>d=>{if(de(d,"BEFORE_INITIAL_CAPTURE")){o.beforeCapture(d.payload.draggableId,d.payload.movementMode);return}if(de(d,"INITIAL_PUBLISH")){const p=d.payload.critical;o.beforeStart(p,d.payload.movementMode),u(d),o.start(p,d.payload.movementMode);return}if(de(d,"DROP_COMPLETE")){const p=d.payload.completed.result;o.flush(),u(d),o.drop(p);return}if(u(d),de(d,"FLUSH")){o.abort();return}const h=s.getState();h.phase==="DRAGGING"&&o.update(h.critical,h.impact)}};const hN=t=>i=>o=>{if(!de(o,"DROP_ANIMATION_FINISHED")){i(o);return}const s=t.getState();s.phase!=="DROP_ANIMATING"&&Et(),t.dispatch(c0({completed:s.completed}))},mN=t=>{let i=null,o=null;function s(){o&&(cancelAnimationFrame(o),o=null),i&&(i(),i=null)}return u=>d=>{if((de(d,"FLUSH")||de(d,"DROP_COMPLETE")||de(d,"DROP_ANIMATION_FINISHED"))&&s(),u(d),!de(d,"DROP_ANIMATE"))return;const h={eventName:"scroll",options:{capture:!0,passive:!1,once:!0},fn:function(){t.getState().phase==="DROP_ANIMATING"&&t.dispatch(a1())}};o=requestAnimationFrame(()=>{o=null,i=Ar(window,[h])})}};var pN=t=>()=>i=>o=>{(de(o,"DROP_COMPLETE")||de(o,"FLUSH")||de(o,"DROP_ANIMATE"))&&t.stopPublishing(),i(o)},gN=t=>{let i=!1;return()=>o=>s=>{if(de(s,"INITIAL_PUBLISH")){i=!0,t.tryRecordFocus(s.payload.critical.draggable.id),o(s),t.tryRestoreFocusRecorded();return}if(o(s),!!i){if(de(s,"FLUSH")){i=!1,t.tryRestoreFocusRecorded();return}if(de(s,"DROP_COMPLETE")){i=!1;const u=s.payload.completed.result;u.combine&&t.tryShiftRecord(u.draggableId,u.combine.draggableId),t.tryRestoreFocusRecorded()}}}};const bN=t=>de(t,"DROP_COMPLETE")||de(t,"DROP_ANIMATE")||de(t,"FLUSH");var yN=t=>i=>o=>s=>{if(bN(s)){t.stop(),o(s);return}if(de(s,"INITIAL_PUBLISH")){o(s);const u=i.getState();u.phase!=="DRAGGING"&&Et(),t.start(u);return}o(s),t.scroll(i.getState())};const vN=t=>i=>o=>{if(i(o),!de(o,"PUBLISH_WHILE_DRAGGING"))return;const s=t.getState();s.phase==="DROP_PENDING"&&(s.isWaiting||t.dispatch(i1({reason:s.reason})))},_N=Tx;var xN=({dimensionMarshal:t,focusMarshal:i,styleMarshal:o,getResponders:s,announce:u,autoScroller:d})=>wx(kM,_N(yE(FM(o),pN(t),KM(t),eN,hN,mN,vN,yN(d),aN,gN(i),fN(s,u))));const Im=()=>({additions:{},removals:{},modified:{}});function SN({registry:t,callbacks:i}){let o=Im(),s=null;const u=()=>{s||(i.collectionStarting(),s=requestAnimationFrame(()=>{s=null;const{additions:b,removals:v,modified:x}=o,w=Object.keys(b).map(A=>t.draggable.getById(A).getDimension(hn)).sort((A,D)=>A.descriptor.index-D.descriptor.index),S=Object.keys(x).map(A=>{const j=t.droppable.getById(A).callbacks.getScrollWhileDragging();return{droppableId:A,scroll:j}}),E={additions:w,removals:Object.keys(v),modified:S};o=Im(),i.publish(E)}))};return{add:b=>{const v=b.descriptor.id;o.additions[v]=b,o.modified[b.descriptor.droppableId]=!0,o.removals[v]&&delete o.removals[v],u()},remove:b=>{const v=b.descriptor;o.removals[v.id]=!0,o.modified[v.droppableId]=!0,o.additions[v.id]&&delete o.additions[v.id],u()},stop:()=>{s&&(cancelAnimationFrame(s),s=null,o=Im())}}}var c1=({scrollHeight:t,scrollWidth:i,height:o,width:s})=>{const u=cr({x:i,y:t},{x:s,y:o});return{x:Math.max(0,u.x),y:Math.max(0,u.y)}},u1=()=>{const t=document.documentElement;return t||Et(),t},d1=()=>{const t=u1();return c1({scrollHeight:t.scrollHeight,scrollWidth:t.scrollWidth,width:t.clientWidth,height:t.clientHeight})},wN=()=>{const t=l1(),i=d1(),o=t.y,s=t.x,u=u1(),d=u.clientWidth,h=u.clientHeight,p=s+d,b=o+h;return{frame:qr({top:o,left:s,right:p,bottom:b}),scroll:{initial:t,current:t,max:i,diff:{value:hn,displacement:hn}}}},TN=({critical:t,scrollOptions:i,registry:o})=>{const s=wN(),u=s.scroll.current,d=t.droppable,h=o.droppable.getAllByType(d.type).map(x=>x.callbacks.getDimensionAndWatchScroll(u,i)),p=o.draggable.getAllByType(t.draggable.type).map(x=>x.getDimension(u));return{dimensions:{draggables:Hx(p),droppables:zx(h)},critical:t,viewport:s}};function gv(t,i,o){return!(o.descriptor.id===i.id||o.descriptor.type!==i.type||t.droppable.getById(o.descriptor.droppableId).descriptor.mode!=="virtual")}var EN=(t,i)=>{let o=null;const s=SN({callbacks:{publish:i.publishWhileDragging,collectionStarting:i.collectionStarting},registry:t}),u=(S,E)=>{t.droppable.exists(S)||Et(),o&&i.updateDroppableIsEnabled({id:S,isEnabled:E})},d=(S,E)=>{o&&(t.droppable.exists(S)||Et(),i.updateDroppableIsCombineEnabled({id:S,isCombineEnabled:E}))},h=(S,E)=>{o&&(t.droppable.exists(S)||Et(),i.updateDroppableScroll({id:S,newScroll:E}))},p=(S,E)=>{o&&t.droppable.getById(S).callbacks.scroll(E)},b=()=>{if(!o)return;s.stop();const S=o.critical.droppable;t.droppable.getAllByType(S.type).forEach(E=>E.callbacks.dragStopped()),o.unsubscribe(),o=null},v=S=>{o||Et();const E=o.critical.draggable;S.type==="ADDITION"&&gv(t,E,S.value)&&s.add(S.value),S.type==="REMOVAL"&&gv(t,E,S.value)&&s.remove(S.value)};return{updateDroppableIsEnabled:u,updateDroppableIsCombineEnabled:d,scrollDroppable:p,updateDroppableScroll:h,startPublishing:S=>{o&&Et();const E=t.draggable.getById(S.draggableId),A=t.droppable.getById(E.descriptor.droppableId),D={draggable:E.descriptor,droppable:A.descriptor},j=t.subscribe(v);return o={critical:D,unsubscribe:j},TN({critical:D,registry:t,scrollOptions:S.scrollOptions})},stopPublishing:b}},f1=(t,i)=>t.phase==="IDLE"?!0:t.phase!=="DROP_ANIMATING"||t.completed.result.draggableId===i?!1:t.completed.result.reason==="DROP",MN=t=>{window.scrollBy(t.x,t.y)};const NN=fn(t=>bf(t).filter(i=>!(!i.isEnabled||!i.frame))),DN=(t,i)=>NN(i).find(s=>(s.frame||Et(),Fx(s.frame.pageMarginBox)(t)))||null;var AN=({center:t,destination:i,droppables:o})=>{if(i){const u=o[i];return u.frame?u:null}return DN(t,o)};const Mc={startFromPercentage:.25,maxScrollAtPercentage:.05,maxPixelScroll:28,ease:t=>t**2,durationDampening:{stopDampeningAt:1200,accelerateAt:360},disabled:!1};var jN=(t,i,o=()=>Mc)=>{const s=o(),u=t[i.size]*s.startFromPercentage,d=t[i.size]*s.maxScrollAtPercentage;return{startScrollingFrom:u,maxScrollValueAt:d}},h1=({startOfRange:t,endOfRange:i,current:o})=>{const s=i-t;return s===0?0:(o-t)/s},d0=1,kN=(t,i,o=()=>Mc)=>{const s=o();if(t>i.startScrollingFrom)return 0;if(t<=i.maxScrollValueAt)return s.maxPixelScroll;if(t===i.startScrollingFrom)return d0;const d=1-h1({startOfRange:i.maxScrollValueAt,endOfRange:i.startScrollingFrom,current:t}),h=s.maxPixelScroll*s.ease(d);return Math.ceil(h)},CN=(t,i,o)=>{const s=o(),u=s.durationDampening.accelerateAt,d=s.durationDampening.stopDampeningAt,h=i,p=d,v=Date.now()-h;if(v>=d)return t;if(v<u)return d0;const x=h1({startOfRange:u,endOfRange:p,current:v}),w=t*s.ease(x);return Math.ceil(w)},bv=({distanceToEdge:t,thresholds:i,dragStartTime:o,shouldUseTimeDampening:s,getAutoScrollerOptions:u})=>{const d=kN(t,i,u);return d===0?0:s?Math.max(CN(d,o,u),d0):d},yv=({container:t,distanceToEdges:i,dragStartTime:o,axis:s,shouldUseTimeDampening:u,getAutoScrollerOptions:d})=>{const h=jN(t,s,d);return i[s.end]<i[s.start]?bv({distanceToEdge:i[s.end],thresholds:h,dragStartTime:o,shouldUseTimeDampening:u,getAutoScrollerOptions:d}):-1*bv({distanceToEdge:i[s.start],thresholds:h,dragStartTime:o,shouldUseTimeDampening:u,getAutoScrollerOptions:d})},ON=({container:t,subject:i,proposedScroll:o})=>{const s=i.height>t.height,u=i.width>t.width;return!u&&!s?o:u&&s?null:{x:u?0:o.x,y:s?0:o.y}};const LN=Px(t=>t===0?0:t);var m1=({dragStartTime:t,container:i,subject:o,center:s,shouldUseTimeDampening:u,getAutoScrollerOptions:d})=>{const h={top:s.y-i.top,right:i.right-s.x,bottom:i.bottom-s.y,left:s.x-i.left},p=yv({container:i,distanceToEdges:h,dragStartTime:t,axis:r0,shouldUseTimeDampening:u,getAutoScrollerOptions:d}),b=yv({container:i,distanceToEdges:h,dragStartTime:t,axis:Ux,shouldUseTimeDampening:u,getAutoScrollerOptions:d}),v=LN({x:b,y:p});if(Va(v,hn))return null;const x=ON({container:i,subject:o,proposedScroll:v});return x?Va(x,hn)?null:x:null};const BN=Px(t=>t===0?0:t>0?1:-1),f0=(()=>{const t=(i,o)=>i<0?i:i>o?i-o:0;return({current:i,max:o,change:s})=>{const u=wn(i,s),d={x:t(u.x,o.x),y:t(u.y,o.y)};return Va(d,hn)?null:d}})(),p1=({max:t,current:i,change:o})=>{const s={x:Math.max(i.x,t.x),y:Math.max(i.y,t.y)},u=BN(o),d=f0({max:s,current:i,change:u});return!d||u.x!==0&&d.x===0||u.y!==0&&d.y===0},h0=(t,i)=>p1({current:t.scroll.current,max:t.scroll.max,change:i}),RN=(t,i)=>{if(!h0(t,i))return null;const o=t.scroll.max,s=t.scroll.current;return f0({current:s,max:o,change:i})},m0=(t,i)=>{const o=t.frame;return o?p1({current:o.scroll.current,max:o.scroll.max,change:i}):!1},PN=(t,i)=>{const o=t.frame;return!o||!m0(t,i)?null:f0({current:o.scroll.current,max:o.scroll.max,change:i})};var zN=({viewport:t,subject:i,center:o,dragStartTime:s,shouldUseTimeDampening:u,getAutoScrollerOptions:d})=>{const h=m1({dragStartTime:s,container:t.frame,subject:i,center:o,shouldUseTimeDampening:u,getAutoScrollerOptions:d});return h&&h0(t,h)?h:null},HN=({droppable:t,subject:i,center:o,dragStartTime:s,shouldUseTimeDampening:u,getAutoScrollerOptions:d})=>{const h=t.frame;if(!h)return null;const p=m1({dragStartTime:s,container:h.pageMarginBox,subject:i,center:o,shouldUseTimeDampening:u,getAutoScrollerOptions:d});return p&&m0(t,p)?p:null},vv=({state:t,dragStartTime:i,shouldUseTimeDampening:o,scrollWindow:s,scrollDroppable:u,getAutoScrollerOptions:d})=>{const h=t.current.page.borderBoxCenter,b=t.dimensions.draggables[t.critical.draggable.id].page.marginBox;if(t.isWindowScrollAllowed){const w=t.viewport,S=zN({dragStartTime:i,viewport:w,subject:b,center:h,shouldUseTimeDampening:o,getAutoScrollerOptions:d});if(S){s(S);return}}const v=AN({center:h,destination:ur(t.impact),droppables:t.dimensions.droppables});if(!v)return;const x=HN({dragStartTime:i,droppable:v,subject:b,center:h,shouldUseTimeDampening:o,getAutoScrollerOptions:d});x&&u(v.descriptor.id,x)},$N=({scrollWindow:t,scrollDroppable:i,getAutoScrollerOptions:o=()=>Mc})=>{const s=xc(t),u=xc(i);let d=null;const h=v=>{d||Et();const{shouldUseTimeDampening:x,dragStartTime:w}=d;vv({state:v,scrollWindow:s,scrollDroppable:u,dragStartTime:w,shouldUseTimeDampening:x,getAutoScrollerOptions:o})};return{start:v=>{d&&Et();const x=Date.now();let w=!1;const S=()=>{w=!0};vv({state:v,dragStartTime:0,shouldUseTimeDampening:!1,scrollWindow:S,scrollDroppable:S,getAutoScrollerOptions:o}),d={dragStartTime:x,shouldUseTimeDampening:w},w&&h(v)},stop:()=>{d&&(s.cancel(),u.cancel(),d=null)},scroll:h}},IN=({move:t,scrollDroppable:i,scrollWindow:o})=>{const s=(p,b)=>{const v=wn(p.current.client.selection,b);t({client:v})},u=(p,b)=>{if(!m0(p,b))return b;const v=PN(p,b);if(!v)return i(p.descriptor.id,b),null;const x=cr(b,v);return i(p.descriptor.id,x),cr(b,x)},d=(p,b,v)=>{if(!p||!h0(b,v))return v;const x=RN(b,v);if(!x)return o(v),null;const w=cr(v,x);return o(w),cr(v,w)};return p=>{const b=p.scrollJumpRequest;if(!b)return;const v=ur(p.impact);v||Et();const x=u(p.dimensions.droppables[v],b);if(!x)return;const w=p.viewport,S=d(p.isWindowScrollAllowed,w,x);S&&s(p,S)}},UN=({scrollDroppable:t,scrollWindow:i,move:o,getAutoScrollerOptions:s})=>{const u=$N({scrollWindow:i,scrollDroppable:t,getAutoScrollerOptions:s}),d=IN({move:o,scrollWindow:i,scrollDroppable:t});return{scroll:b=>{if(!(s().disabled||b.phase!=="DRAGGING")){if(b.movementMode==="FLUID"){u.scroll(b);return}b.scrollJumpRequest&&d(b)}},start:u.start,stop:u.stop}};const Is="data-rfd",Us=(()=>{const t=`${Is}-drag-handle`;return{base:t,draggableId:`${t}-draggable-id`,contextId:`${t}-context-id`}})(),Bp=(()=>{const t=`${Is}-draggable`;return{base:t,contextId:`${t}-context-id`,id:`${t}-id`}})(),GN=(()=>{const t=`${Is}-droppable`;return{base:t,contextId:`${t}-context-id`,id:`${t}-id`}})(),_v={contextId:`${Is}-scroll-container-context-id`},ZN=t=>i=>`[${i}="${t}"]`,ac=(t,i)=>t.map(o=>{const s=o.styles[i];return s?`${o.selector} { ${s} }`:""}).join(" "),YN="pointer-events: none;";var qN=t=>{const i=ZN(t),o=(()=>{const p=`
      cursor: -webkit-grab;
      cursor: grab;
    `;return{selector:i(Us.contextId),styles:{always:`
          -webkit-touch-callout: none;
          -webkit-tap-highlight-color: rgba(0,0,0,0);
          touch-action: manipulation;
        `,resting:p,dragging:YN,dropAnimating:p}}})(),s=(()=>{const p=`
      transition: ${yc.outOfTheWay};
    `;return{selector:i(Bp.contextId),styles:{dragging:p,dropAnimating:p,userCancel:p}}})(),u={selector:i(GN.contextId),styles:{always:"overflow-anchor: none;"}},h=[s,o,u,{selector:"body",styles:{dragging:`
        cursor: grabbing;
        cursor: -webkit-grabbing;
        user-select: none;
        -webkit-user-select: none;
        -moz-user-select: none;
        -ms-user-select: none;
        overflow-anchor: none;
      `}}];return{always:ac(h,"always"),resting:ac(h,"resting"),dragging:ac(h,"dragging"),dropAnimating:ac(h,"dropAnimating"),userCancel:ac(h,"userCancel")}};const dr=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u"?R.useLayoutEffect:R.useEffect,Um=()=>{const t=document.querySelector("head");return t||Et(),t},xv=t=>{const i=document.createElement("style");return t&&i.setAttribute("nonce",t),i.type="text/css",i};function VN(t,i){const o=ae(()=>qN(t),[t]),s=R.useRef(null),u=R.useRef(null),d=Rt(fn(w=>{const S=u.current;S||Et(),S.textContent=w}),[]),h=Rt(w=>{const S=s.current;S||Et(),S.textContent=w},[]);dr(()=>{!s.current&&!u.current||Et();const w=xv(i),S=xv(i);return s.current=w,u.current=S,w.setAttribute(`${Is}-always`,t),S.setAttribute(`${Is}-dynamic`,t),Um().appendChild(w),Um().appendChild(S),h(o.always),d(o.resting),()=>{const E=A=>{const D=A.current;D||Et(),Um().removeChild(D),A.current=null};E(s),E(u)}},[i,h,d,o.always,o.resting,t]);const p=Rt(()=>d(o.dragging),[d,o.dragging]),b=Rt(w=>{if(w==="DROP"){d(o.dropAnimating);return}d(o.userCancel)},[d,o.dropAnimating,o.userCancel]),v=Rt(()=>{u.current&&d(o.resting)},[d,o.resting]);return ae(()=>({dragging:p,dropping:b,resting:v}),[p,b,v])}function g1(t,i){return Array.from(t.querySelectorAll(i))}var b1=t=>t&&t.ownerDocument&&t.ownerDocument.defaultView?t.ownerDocument.defaultView:window;function xf(t){return t instanceof b1(t).HTMLElement}function KN(t,i){const o=`[${Us.contextId}="${t}"]`,s=g1(document,o);if(!s.length)return null;const u=s.find(d=>d.getAttribute(Us.draggableId)===i);return!u||!xf(u)?null:u}function FN(t){const i=R.useRef({}),o=R.useRef(null),s=R.useRef(null),u=R.useRef(!1),d=Rt(function(S,E){const A={id:S,focus:E};return i.current[S]=A,function(){const j=i.current;j[S]!==A&&delete j[S]}},[]),h=Rt(function(S){const E=KN(t,S);E&&E!==document.activeElement&&E.focus()},[t]),p=Rt(function(S,E){o.current===S&&(o.current=E)},[]),b=Rt(function(){s.current||u.current&&(s.current=requestAnimationFrame(()=>{s.current=null;const S=o.current;S&&h(S)}))},[h]),v=Rt(function(S){o.current=null;const E=document.activeElement;E&&E.getAttribute(Us.draggableId)===S&&(o.current=S)},[]);return dr(()=>(u.current=!0,function(){u.current=!1;const S=s.current;S&&cancelAnimationFrame(S)}),[]),ae(()=>({register:d,tryRecordFocus:v,tryRestoreFocusRecorded:b,tryShiftRecord:p}),[d,v,b,p])}function XN(){const t={draggables:{},droppables:{}},i=[];function o(w){return i.push(w),function(){const E=i.indexOf(w);E!==-1&&i.splice(E,1)}}function s(w){i.length&&i.forEach(S=>S(w))}function u(w){return t.draggables[w]||null}function d(w){const S=u(w);return S||Et(),S}const h={register:w=>{t.draggables[w.descriptor.id]=w,s({type:"ADDITION",value:w})},update:(w,S)=>{const E=t.draggables[S.descriptor.id];E&&E.uniqueId===w.uniqueId&&(delete t.draggables[S.descriptor.id],t.draggables[w.descriptor.id]=w)},unregister:w=>{const S=w.descriptor.id,E=u(S);E&&w.uniqueId===E.uniqueId&&(delete t.draggables[S],t.droppables[w.descriptor.droppableId]&&s({type:"REMOVAL",value:w}))},getById:d,findById:u,exists:w=>!!u(w),getAllByType:w=>Object.values(t.draggables).filter(S=>S.descriptor.type===w)};function p(w){return t.droppables[w]||null}function b(w){const S=p(w);return S||Et(),S}const v={register:w=>{t.droppables[w.descriptor.id]=w},unregister:w=>{const S=p(w.descriptor.id);S&&w.uniqueId===S.uniqueId&&delete t.droppables[w.descriptor.id]},getById:b,findById:p,exists:w=>!!p(w),getAllByType:w=>Object.values(t.droppables).filter(S=>S.descriptor.type===w)};function x(){t.draggables={},t.droppables={},i.length=0}return{draggable:h,droppable:v,subscribe:o,clean:x}}function WN(){const t=ae(XN,[]);return R.useEffect(()=>function(){t.clean()},[t]),t}var p0=Ne.createContext(null),Vd=()=>{const t=document.body;return t||Et(),t};const QN={position:"absolute",width:"1px",height:"1px",margin:"-1px",border:"0",padding:"0",overflow:"hidden",clip:"rect(0 0 0 0)","clip-path":"inset(100%)"},JN=t=>`rfd-announcement-${t}`;function tD(t){const i=ae(()=>JN(t),[t]),o=R.useRef(null);return R.useEffect(function(){const d=document.createElement("div");return o.current=d,d.id=i,d.setAttribute("aria-live","assertive"),d.setAttribute("aria-atomic","true"),Gd(d.style,QN),Vd().appendChild(d),function(){setTimeout(function(){const b=Vd();b.contains(d)&&b.removeChild(d),d===o.current&&(o.current=null)})}},[i]),Rt(u=>{const d=o.current;if(d){d.textContent=u;return}},[])}const eD={separator:"::"};function g0(t,i=eD){const o=Ne.useId();return ae(()=>`${t}${i.separator}${o}`,[i.separator,t,o])}function nD({contextId:t,uniqueId:i}){return`rfd-hidden-text-${t}-${i}`}function rD({contextId:t,text:i}){const o=g0("hidden-text",{separator:"-"}),s=ae(()=>nD({contextId:t,uniqueId:o}),[o,t]);return R.useEffect(function(){const d=document.createElement("div");return d.id=s,d.textContent=i,d.style.display="none",Vd().appendChild(d),function(){const p=Vd();p.contains(d)&&p.removeChild(d)}},[s,i]),s}var Sf=Ne.createContext(null);function y1(t){const i=R.useRef(t);return R.useEffect(()=>{i.current=t}),i}function iD(){let t=null;function i(){return!!t}function o(h){return h===t}function s(h){t&&Et();const p={abandon:h};return t=p,p}function u(){t||Et(),t=null}function d(){t&&(t.abandon(),u())}return{isClaimed:i,isActive:o,claim:s,release:u,tryAbandon:d}}function Nc(t){return t.phase==="IDLE"||t.phase==="DROP_ANIMATING"?!1:t.isDragging}const aD=9,oD=13,b0=27,v1=32,sD=33,lD=34,cD=35,uD=36,dD=37,fD=38,hD=39,mD=40,pD={[oD]:!0,[aD]:!0};var _1=t=>{pD[t.keyCode]&&t.preventDefault()};const wf=(()=>{const t="visibilitychange";return typeof document>"u"?t:[t,`ms${t}`,`webkit${t}`,`moz${t}`,`o${t}`].find(s=>`on${s}`in document)||t})(),x1=0,Sv=5;function gD(t,i){return Math.abs(i.x-t.x)>=Sv||Math.abs(i.y-t.y)>=Sv}const wv={type:"IDLE"};function bD({cancel:t,completed:i,getPhase:o,setPhase:s}){return[{eventName:"mousemove",fn:u=>{const{button:d,clientX:h,clientY:p}=u;if(d!==x1)return;const b={x:h,y:p},v=o();if(v.type==="DRAGGING"){u.preventDefault(),v.actions.move(b);return}v.type!=="PENDING"&&Et();const x=v.point;if(!gD(x,b))return;u.preventDefault();const w=v.actions.fluidLift(b);s({type:"DRAGGING",actions:w})}},{eventName:"mouseup",fn:u=>{const d=o();if(d.type!=="DRAGGING"){t();return}u.preventDefault(),d.actions.drop({shouldBlockNextClick:!0}),i()}},{eventName:"mousedown",fn:u=>{o().type==="DRAGGING"&&u.preventDefault(),t()}},{eventName:"keydown",fn:u=>{if(o().type==="PENDING"){t();return}if(u.keyCode===b0){u.preventDefault(),t();return}_1(u)}},{eventName:"resize",fn:t},{eventName:"scroll",options:{passive:!0,capture:!1},fn:()=>{o().type==="PENDING"&&t()}},{eventName:"webkitmouseforcedown",fn:u=>{const d=o();if(d.type==="IDLE"&&Et(),d.actions.shouldRespectForcePress()){t();return}u.preventDefault()}},{eventName:wf,fn:t}]}function yD(t){const i=R.useRef(wv),o=R.useRef(qa),s=ae(()=>({eventName:"mousedown",fn:function(w){if(w.defaultPrevented||w.button!==x1||w.ctrlKey||w.metaKey||w.shiftKey||w.altKey)return;const S=t.findClosestDraggableId(w);if(!S)return;const E=t.tryGetLock(S,h,{sourceEvent:w});if(!E)return;w.preventDefault();const A={x:w.clientX,y:w.clientY};o.current(),v(E,A)}}),[t]),u=ae(()=>({eventName:"webkitmouseforcewillbegin",fn:x=>{if(x.defaultPrevented)return;const w=t.findClosestDraggableId(x);if(!w)return;const S=t.findOptionsForDraggable(w);S&&(S.shouldRespectForcePress||t.canGetLock(w)&&x.preventDefault())}}),[t]),d=Rt(function(){const w={passive:!1,capture:!0};o.current=Ar(window,[u,s],w)},[u,s]),h=Rt(()=>{i.current.type!=="IDLE"&&(i.current=wv,o.current(),d())},[d]),p=Rt(()=>{const x=i.current;h(),x.type==="DRAGGING"&&x.actions.cancel({shouldBlockNextClick:!0}),x.type==="PENDING"&&x.actions.abort()},[h]),b=Rt(function(){const w={capture:!0,passive:!1},S=bD({cancel:p,completed:h,getPhase:()=>i.current,setPhase:E=>{i.current=E}});o.current=Ar(window,S,w)},[p,h]),v=Rt(function(w,S){i.current.type!=="IDLE"&&Et(),i.current={type:"PENDING",point:S,actions:w},b()},[b]);dr(function(){return d(),function(){o.current()}},[d])}function vD(){}const _D={[lD]:!0,[sD]:!0,[uD]:!0,[cD]:!0};function xD(t,i){function o(){i(),t.cancel()}function s(){i(),t.drop()}return[{eventName:"keydown",fn:u=>{if(u.keyCode===b0){u.preventDefault(),o();return}if(u.keyCode===v1){u.preventDefault(),s();return}if(u.keyCode===mD){u.preventDefault(),t.moveDown();return}if(u.keyCode===fD){u.preventDefault(),t.moveUp();return}if(u.keyCode===hD){u.preventDefault(),t.moveRight();return}if(u.keyCode===dD){u.preventDefault(),t.moveLeft();return}if(_D[u.keyCode]){u.preventDefault();return}_1(u)}},{eventName:"mousedown",fn:o},{eventName:"mouseup",fn:o},{eventName:"click",fn:o},{eventName:"touchstart",fn:o},{eventName:"resize",fn:o},{eventName:"wheel",fn:o,options:{passive:!0}},{eventName:wf,fn:o}]}function SD(t){const i=R.useRef(vD),o=ae(()=>({eventName:"keydown",fn:function(d){if(d.defaultPrevented||d.keyCode!==v1)return;const h=t.findClosestDraggableId(d);if(!h)return;const p=t.tryGetLock(h,x,{sourceEvent:d});if(!p)return;d.preventDefault();let b=!0;const v=p.snapLift();i.current();function x(){b||Et(),b=!1,i.current(),s()}i.current=Ar(window,xD(v,x),{capture:!0,passive:!1})}}),[t]),s=Rt(function(){const d={passive:!1,capture:!0};i.current=Ar(window,[o],d)},[o]);dr(function(){return s(),function(){i.current()}},[s])}const Gm={type:"IDLE"},wD=120,TD=.15;function ED({cancel:t,getPhase:i}){return[{eventName:"orientationchange",fn:t},{eventName:"resize",fn:t},{eventName:"contextmenu",fn:o=>{o.preventDefault()}},{eventName:"keydown",fn:o=>{if(i().type!=="DRAGGING"){t();return}o.keyCode===b0&&o.preventDefault(),t()}},{eventName:wf,fn:t}]}function MD({cancel:t,completed:i,getPhase:o}){return[{eventName:"touchmove",options:{capture:!1},fn:s=>{const u=o();if(u.type!=="DRAGGING"){t();return}u.hasMoved=!0;const{clientX:d,clientY:h}=s.touches[0],p={x:d,y:h};s.preventDefault(),u.actions.move(p)}},{eventName:"touchend",fn:s=>{const u=o();if(u.type!=="DRAGGING"){t();return}s.preventDefault(),u.actions.drop({shouldBlockNextClick:!0}),i()}},{eventName:"touchcancel",fn:s=>{if(o().type!=="DRAGGING"){t();return}s.preventDefault(),t()}},{eventName:"touchforcechange",fn:s=>{const u=o();u.type==="IDLE"&&Et();const d=s.touches[0];if(!d||!(d.force>=TD))return;const p=u.actions.shouldRespectForcePress();if(u.type==="PENDING"){p&&t();return}if(p){if(u.hasMoved){s.preventDefault();return}t();return}s.preventDefault()}},{eventName:wf,fn:t}]}function ND(t){const i=R.useRef(Gm),o=R.useRef(qa),s=Rt(function(){return i.current},[]),u=Rt(function(E){i.current=E},[]),d=ae(()=>({eventName:"touchstart",fn:function(E){if(E.defaultPrevented)return;const A=t.findClosestDraggableId(E);if(!A)return;const D=t.tryGetLock(A,p,{sourceEvent:E});if(!D)return;const j=E.touches[0],{clientX:$,clientY:z}=j,C={x:$,y:z};o.current(),w(D,C)}}),[t]),h=Rt(function(){const E={capture:!0,passive:!1};o.current=Ar(window,[d],E)},[d]),p=Rt(()=>{const S=i.current;S.type!=="IDLE"&&(S.type==="PENDING"&&clearTimeout(S.longPressTimerId),u(Gm),o.current(),h())},[h,u]),b=Rt(()=>{const S=i.current;p(),S.type==="DRAGGING"&&S.actions.cancel({shouldBlockNextClick:!0}),S.type==="PENDING"&&S.actions.abort()},[p]),v=Rt(function(){const E={capture:!0,passive:!1},A={cancel:b,completed:p,getPhase:s},D=Ar(window,MD(A),E),j=Ar(window,ED(A),E);o.current=function(){D(),j()}},[b,s,p]),x=Rt(function(){const E=s();E.type!=="PENDING"&&Et();const A=E.actions.fluidLift(E.point);u({type:"DRAGGING",actions:A,hasMoved:!1})},[s,u]),w=Rt(function(E,A){s().type!=="IDLE"&&Et();const D=setTimeout(x,wD);u({type:"PENDING",point:A,actions:E,longPressTimerId:D}),v()},[v,s,u,x]);dr(function(){return h(),function(){o.current();const A=s();A.type==="PENDING"&&(clearTimeout(A.longPressTimerId),u(Gm))}},[s,h,u]),dr(function(){return Ar(window,[{eventName:"touchmove",fn:()=>{},options:{capture:!1,passive:!1}}])},[])}const DD=["input","button","textarea","select","option","optgroup","video","audio"];function S1(t,i){if(i==null)return!1;if(DD.includes(i.tagName.toLowerCase()))return!0;const s=i.getAttribute("contenteditable");return s==="true"||s===""?!0:i===t?!1:S1(t,i.parentElement)}function AD(t,i){const o=i.target;return xf(o)?S1(t,o):!1}var jD=t=>qr(t.getBoundingClientRect()).center;function kD(t){return t instanceof b1(t).Element}const CD=(()=>{const t="matches";return typeof document>"u"?t:[t,"msMatchesSelector","webkitMatchesSelector"].find(s=>s in Element.prototype)||t})();function w1(t,i){return t==null?null:t[CD](i)?t:w1(t.parentElement,i)}function OD(t,i){return t.closest?t.closest(i):w1(t,i)}function LD(t){return`[${Us.contextId}="${t}"]`}function BD(t,i){const o=i.target;if(!kD(o))return null;const s=LD(t),u=OD(o,s);return!u||!xf(u)?null:u}function RD(t,i){const o=BD(t,i);return o?o.getAttribute(Us.draggableId):null}function PD(t,i){const o=`[${Bp.contextId}="${t}"]`,u=g1(document,o).find(d=>d.getAttribute(Bp.id)===i);return!u||!xf(u)?null:u}function zD(t){t.preventDefault()}function fd({expected:t,phase:i,isLockActive:o,shouldWarn:s}){return!(!o()||t!==i)}function T1({lockAPI:t,store:i,registry:o,draggableId:s}){if(t.isClaimed())return!1;const u=o.draggable.findById(s);return!(!u||!u.options.isEnabled||!f1(i.getState(),s))}function HD({lockAPI:t,contextId:i,store:o,registry:s,draggableId:u,forceSensorStop:d,sourceEvent:h}){if(!T1({lockAPI:t,store:o,registry:s,draggableId:u}))return null;const b=s.draggable.getById(u),v=PD(i,b.descriptor.id);if(!v||h&&!b.options.canDragInteractiveElements&&AD(v,h))return null;const x=t.claim(d||qa);let w="PRE_DRAG";function S(){return b.options.shouldRespectForcePress}function E(){return t.isActive(x)}function A(B,V){fd({expected:B,phase:w,isLockActive:E,shouldWarn:!0})&&o.dispatch(V())}const D=A.bind(null,"DRAGGING");function j(B){function V(){t.release(),w="COMPLETED"}w!=="PRE_DRAG"&&(V(),Et()),o.dispatch(OM(B.liftActionArgs)),w="DRAGGING";function J(Q,nt={shouldBlockNextClick:!1}){if(B.cleanup(),nt.shouldBlockNextClick){const rt=Ar(window,[{eventName:"click",fn:zD,options:{once:!0,passive:!1,capture:!0}}]);setTimeout(rt)}V(),o.dispatch(i1({reason:Q}))}return{isActive:()=>fd({expected:"DRAGGING",phase:w,isLockActive:E,shouldWarn:!1}),shouldRespectForcePress:S,drop:Q=>J("DROP",Q),cancel:Q=>J("CANCEL",Q),...B.actions}}function $(B){const V=xc(Q=>{D(()=>r1({client:Q}))});return{...j({liftActionArgs:{id:u,clientSelection:B,movementMode:"FLUID"},cleanup:()=>V.cancel(),actions:{move:V}}),move:V}}function z(){const B={moveUp:()=>D(UM),moveRight:()=>D(ZM),moveDown:()=>D(GM),moveLeft:()=>D(YM)};return j({liftActionArgs:{id:u,clientSelection:jD(v),movementMode:"SNAP"},cleanup:qa,actions:B})}function C(){fd({expected:"PRE_DRAG",phase:w,isLockActive:E,shouldWarn:!0})&&t.release()}return{isActive:()=>fd({expected:"PRE_DRAG",phase:w,isLockActive:E,shouldWarn:!1}),shouldRespectForcePress:S,fluidLift:$,snapLift:z,abort:C}}const $D=[yD,SD,ND];function ID({contextId:t,store:i,registry:o,customSensors:s,enableDefaultSensors:u}){const d=[...u?$D:[],...s||[]],h=R.useState(()=>iD())[0],p=Rt(function(j,$){Nc(j)&&!Nc($)&&h.tryAbandon()},[h]);dr(function(){let j=i.getState();return i.subscribe(()=>{const z=i.getState();p(j,z),j=z})},[h,i,p]),dr(()=>h.tryAbandon,[h.tryAbandon]);const b=Rt(D=>T1({lockAPI:h,registry:o,store:i,draggableId:D}),[h,o,i]),v=Rt((D,j,$)=>HD({lockAPI:h,registry:o,contextId:t,store:i,draggableId:D,forceSensorStop:j||null,sourceEvent:$&&$.sourceEvent?$.sourceEvent:null}),[t,h,o,i]),x=Rt(D=>RD(t,D),[t]),w=Rt(D=>{const j=o.draggable.findById(D);return j?j.options:null},[o.draggable]),S=Rt(function(){h.isClaimed()&&(h.tryAbandon(),i.getState().phase!=="IDLE"&&i.dispatch(l0()))},[h,i]),E=Rt(()=>h.isClaimed(),[h]),A=ae(()=>({canGetLock:b,tryGetLock:v,findClosestDraggableId:x,findOptionsForDraggable:w,tryReleaseLock:S,isLockClaimed:E}),[b,v,x,w,S,E]);for(let D=0;D<d.length;D++)d[D](A)}const UD=t=>({onBeforeCapture:i=>{const o=()=>{t.onBeforeCapture&&t.onBeforeCapture(i)};Lc.flushSync(o)},onBeforeDragStart:t.onBeforeDragStart,onDragStart:t.onDragStart,onDragEnd:t.onDragEnd,onDragUpdate:t.onDragUpdate}),GD=t=>({...Mc,...t.autoScrollerOptions,durationDampening:{...Mc.durationDampening,...t.autoScrollerOptions}});function oc(t){return t.current||Et(),t.current}function ZD(t){const{contextId:i,setCallbacks:o,sensors:s,nonce:u,dragHandleUsageInstructions:d}=t,h=R.useRef(null),p=y1(t),b=Rt(()=>UD(p.current),[p]),v=Rt(()=>GD(p.current),[p]),x=tD(i),w=rD({contextId:i,text:d}),S=VN(i,u),E=Rt(rt=>{oc(h).dispatch(rt)},[]),A=ae(()=>Fy({publishWhileDragging:BM,updateDroppableScroll:PM,updateDroppableIsEnabled:zM,updateDroppableIsCombineEnabled:HM,collectionStarting:RM},E),[E]),D=WN(),j=ae(()=>EN(D,A),[D,A]),$=ae(()=>UN({scrollWindow:MN,scrollDroppable:j.scrollDroppable,getAutoScrollerOptions:v,...Fy({move:r1},E)}),[j.scrollDroppable,E,v]),z=FN(i),C=ae(()=>xN({announce:x,autoScroller:$,dimensionMarshal:j,focusMarshal:z,getResponders:b,styleMarshal:S}),[x,$,j,z,b,S]);h.current=C;const P=Rt(()=>{const rt=oc(h);rt.getState().phase!=="IDLE"&&rt.dispatch(l0())},[]),B=Rt(()=>{const rt=oc(h).getState();return rt.phase==="DROP_ANIMATING"?!0:rt.phase==="IDLE"?!1:rt.isDragging},[]),V=ae(()=>({isDragging:B,tryAbort:P}),[B,P]);o(V);const J=Rt(rt=>f1(oc(h).getState(),rt),[]),Q=Rt(()=>Lo(oc(h).getState()),[]),nt=ae(()=>({marshal:j,focus:z,contextId:i,canLift:J,isMovementAllowed:Q,dragHandleUsageInstructionsId:w,registry:D}),[i,j,w,z,J,Q,D]);return ID({contextId:i,store:C,registry:D,customSensors:s||null,enableDefaultSensors:t.enableDefaultSensors!==!1}),R.useEffect(()=>P,[P]),Ne.createElement(Sf.Provider,{value:nt},Ne.createElement(p3,{context:p0,store:C},t.children))}function YD(){return Ne.useId()}function Tf(t){const i=YD(),o=t.dragHandleUsageInstructions||Bd.dragHandleUsageInstructions;return Ne.createElement(S3,null,s=>Ne.createElement(ZD,{nonce:t.nonce,contextId:i,setCallbacks:s,dragHandleUsageInstructions:o,enableDefaultSensors:t.enableDefaultSensors,sensors:t.sensors,onBeforeCapture:t.onBeforeCapture,onBeforeDragStart:t.onBeforeDragStart,onDragStart:t.onDragStart,onDragUpdate:t.onDragUpdate,onDragEnd:t.onDragEnd,autoScrollerOptions:t.autoScrollerOptions},t.children))}const Tv={dragging:5e3,dropAnimating:4500},qD=(t,i)=>i?yc.drop(i.duration):t?yc.snap:yc.fluid,VD=(t,i)=>{if(t)return i?Ec.opacity.drop:Ec.opacity.combining},KD=t=>t.forceShouldAnimate!=null?t.forceShouldAnimate:t.mode==="SNAP";function FD(t){const o=t.dimension.client,{offset:s,combineWith:u,dropping:d}=t,h=!!u,p=KD(t),b=!!d,v=b?Op.drop(s,h):Op.moveTo(s);return{position:"fixed",top:o.marginBox.top,left:o.marginBox.left,boxSizing:"border-box",width:o.borderBox.width,height:o.borderBox.height,transition:qD(p,d),transform:v,opacity:VD(h,b),zIndex:b?Tv.dropAnimating:Tv.dragging,pointerEvents:"none"}}function XD(t){return{transform:Op.moveTo(t.offset),transition:t.shouldAnimateDisplacement?void 0:"none"}}function WD(t){return t.type==="DRAGGING"?FD(t):XD(t)}function QD(t,i,o=hn){const s=window.getComputedStyle(i),u=i.getBoundingClientRect(),d=kx(u,s),h=Ud(d,o),p={client:d,tagName:i.tagName.toLowerCase(),display:s.display},b={x:d.marginBox.width,y:d.marginBox.height};return{descriptor:t,placeholder:p,displaceBy:b,client:d,page:h}}function JD(t){const i=g0("draggable"),{descriptor:o,registry:s,getDraggableRef:u,canDragInteractiveElements:d,shouldRespectForcePress:h,isEnabled:p}=t,b=ae(()=>({canDragInteractiveElements:d,shouldRespectForcePress:h,isEnabled:p}),[d,p,h]),v=Rt(E=>{const A=u();return A||Et(),QD(o,A,E)},[o,u]),x=ae(()=>({uniqueId:i,descriptor:o,options:b,getDimension:v}),[o,v,b,i]),w=R.useRef(x),S=R.useRef(!0);dr(()=>(s.draggable.register(w.current),()=>s.draggable.unregister(w.current)),[s.draggable]),dr(()=>{if(S.current){S.current=!1;return}const E=w.current;w.current=x,s.draggable.update(x,E)},[x,s.draggable])}var y0=Ne.createContext(null);function Kd(t){const i=R.useContext(t);return i||Et(),i}function tA(t){t.preventDefault()}const eA=t=>{const i=R.useRef(null),o=Rt((V=null)=>{i.current=V},[]),s=Rt(()=>i.current,[]),{contextId:u,dragHandleUsageInstructionsId:d,registry:h}=Kd(Sf),{type:p,droppableId:b}=Kd(y0),v=ae(()=>({id:t.draggableId,index:t.index,type:p,droppableId:b}),[t.draggableId,t.index,p,b]),{children:x,draggableId:w,isEnabled:S,shouldRespectForcePress:E,canDragInteractiveElements:A,isClone:D,mapped:j,dropAnimationFinished:$}=t;if(!D){const V=ae(()=>({descriptor:v,registry:h,getDraggableRef:s,canDragInteractiveElements:A,shouldRespectForcePress:E,isEnabled:S}),[v,h,s,A,E,S]);JD(V)}const z=ae(()=>S?{tabIndex:0,role:"button","aria-describedby":d,"data-rfd-drag-handle-draggable-id":w,"data-rfd-drag-handle-context-id":u,draggable:!1,onDragStart:tA}:null,[u,d,w,S]),C=Rt(V=>{j.type==="DRAGGING"&&j.dropping&&V.propertyName==="transform"&&Lc.flushSync($)},[$,j]),P=ae(()=>{const V=WD(j),J=j.type==="DRAGGING"&&j.dropping?C:void 0;return{innerRef:o,draggableProps:{"data-rfd-draggable-context-id":u,"data-rfd-draggable-id":w,style:V,onTransitionEnd:J},dragHandleProps:z}},[u,z,w,j,C,o]),B=ae(()=>({draggableId:v.id,type:v.type,source:{index:v.index,droppableId:v.droppableId}}),[v.droppableId,v.id,v.index,v.type]);return Ne.createElement(Ne.Fragment,null,x(P,j.snapshot,B))};var E1=(t,i)=>t===i,M1=t=>{const{combine:i,destination:o}=t;return o?o.droppableId:i?i.droppableId:null};const nA=t=>t.combine?t.combine.draggableId:null,rA=t=>t.at&&t.at.type==="COMBINE"?t.at.combine.draggableId:null;function iA(){const t=fn((u,d)=>({x:u,y:d})),i=fn((u,d,h=null,p=null,b=null)=>({isDragging:!0,isClone:d,isDropAnimating:!!b,dropAnimation:b,mode:u,draggingOver:h,combineWith:p,combineTargetFor:null})),o=fn((u,d,h,p,b=null,v=null,x=null)=>({mapped:{type:"DRAGGING",dropping:null,draggingOver:b,combineWith:v,mode:d,offset:u,dimension:h,forceShouldAnimate:x,snapshot:i(d,p,b,v,null)}}));return(u,d)=>{if(Nc(u)){if(u.critical.draggable.id!==d.draggableId)return null;const h=u.current.client.offset,p=u.dimensions.draggables[d.draggableId],b=ur(u.impact),v=rA(u.impact),x=u.forceShouldAnimate;return o(t(h.x,h.y),u.movementMode,p,d.isClone,b,v,x)}if(u.phase==="DROP_ANIMATING"){const h=u.completed;if(h.result.draggableId!==d.draggableId)return null;const p=d.isClone,b=u.dimensions.draggables[d.draggableId],v=h.result,x=v.mode,w=M1(v),S=nA(v),A={duration:u.dropDuration,curve:u0.drop,moveTo:u.newHomeClientOffset,opacity:S?Ec.opacity.drop:null,scale:S?Ec.scale.drop:null};return{mapped:{type:"DRAGGING",offset:u.newHomeClientOffset,dimension:b,dropping:A,draggingOver:w,combineWith:S,mode:x,forceShouldAnimate:null,snapshot:i(x,p,w,S,A)}}}return null}}function N1(t=null){return{isDragging:!1,isDropAnimating:!1,isClone:!1,dropAnimation:null,mode:null,draggingOver:null,combineTargetFor:t,combineWith:null}}const aA={mapped:{type:"SECONDARY",offset:hn,combineTargetFor:null,shouldAnimateDisplacement:!0,snapshot:N1(null)}};function oA(){const t=fn((h,p)=>({x:h,y:p})),i=fn(N1),o=fn((h,p=null,b)=>({mapped:{type:"SECONDARY",offset:h,combineTargetFor:p,shouldAnimateDisplacement:b,snapshot:i(p)}})),s=h=>h?o(hn,h,!0):null,u=(h,p,b,v)=>{const x=b.displaced.visible[h],w=!!(v.inVirtualList&&v.effected[h]),S=yf(b),E=S&&S.draggableId===h?p:null;if(!x){if(!w)return s(E);if(b.displaced.invisible[h])return null;const j=qs(v.displacedBy.point),$=t(j.x,j.y);return o($,E,!0)}if(w)return s(E);const A=b.displacedBy.point,D=t(A.x,A.y);return o(D,E,x.shouldAnimate)};return(h,p)=>{if(Nc(h))return h.critical.draggable.id===p.draggableId?null:u(p.draggableId,h.critical.draggable.id,h.impact,h.afterCritical);if(h.phase==="DROP_ANIMATING"){const b=h.completed;return b.result.draggableId===p.draggableId?null:u(p.draggableId,b.result.draggableId,b.impact,b.afterCritical)}return null}}const sA=()=>{const t=iA(),i=oA();return(s,u)=>t(s,u)||i(s,u)||aA},lA={dropAnimationFinished:a1},cA=jx(sA,lA,null,{context:p0,areStatePropsEqual:E1})(eA);function D1(t){return Kd(y0).isUsingCloneFor===t.draggableId&&!t.isClone?null:Ne.createElement(cA,t)}function Dc(t){const i=typeof t.isDragDisabled=="boolean"?!t.isDragDisabled:!0,o=!!t.disableInteractiveElementBlocking,s=!!t.shouldRespectForcePress;return Ne.createElement(D1,Gd({},t,{isClone:!1,isEnabled:i,canDragInteractiveElements:o,shouldRespectForcePress:s}))}const A1=t=>i=>t===i,uA=A1("scroll"),dA=A1("auto"),Ev=(t,i)=>i(t.overflowX)||i(t.overflowY),fA=t=>{const i=window.getComputedStyle(t),o={overflowX:i.overflowX,overflowY:i.overflowY};return Ev(o,uA)||Ev(o,dA)},hA=()=>!1,j1=t=>t==null?null:t===document.body?hA()?t:null:t===document.documentElement?null:fA(t)?t:j1(t.parentElement);var Rp=t=>({x:t.scrollLeft,y:t.scrollTop});const k1=t=>t?window.getComputedStyle(t).position==="fixed"?!0:k1(t.parentElement):!1;var mA=t=>{const i=j1(t),o=k1(t);return{closestScrollable:i,isFixedOnPage:o}},pA=({descriptor:t,isEnabled:i,isCombineEnabled:o,isFixedOnPage:s,direction:u,client:d,page:h,closest:p})=>{const b=(()=>{if(!p)return null;const{scrollSize:S,client:E}=p,A=c1({scrollHeight:S.scrollHeight,scrollWidth:S.scrollWidth,height:E.paddingBox.height,width:E.paddingBox.width});return{pageMarginBox:p.page.marginBox,frameClient:E,scrollSize:S,shouldClipSubject:p.shouldClipSubject,scroll:{initial:p.scroll,current:p.scroll,max:A,diff:{value:hn,displacement:hn}}}})(),v=u==="vertical"?r0:Ux,x=$s({page:h,withPlaceholder:null,axis:v,frame:b});return{descriptor:t,isCombineEnabled:o,isFixedOnPage:s,axis:v,isEnabled:i,client:d,page:h,frame:b,subject:x}};const gA=(t,i)=>{const o=Cx(t);if(!i||t!==i)return o;const s=o.paddingBox.top-i.scrollTop,u=o.paddingBox.left-i.scrollLeft,d=s+i.scrollHeight,h=u+i.scrollWidth,b=Jp({top:s,right:h,bottom:d,left:u},o.border);return t0({borderBox:b,margin:o.margin,border:o.border,padding:o.padding})};var bA=({ref:t,descriptor:i,env:o,windowScroll:s,direction:u,isDropDisabled:d,isCombineEnabled:h,shouldClipSubject:p})=>{const b=o.closestScrollable,v=gA(t,b),x=Ud(v,s),w=(()=>{if(!b)return null;const E=Cx(b),A={scrollHeight:b.scrollHeight,scrollWidth:b.scrollWidth};return{client:E,page:Ud(E,s),scroll:Rp(b),scrollSize:A,shouldClipSubject:p}})();return pA({descriptor:i,isEnabled:!d,isCombineEnabled:h,isFixedOnPage:o.isFixedOnPage,direction:u,client:v,page:x,closest:w})};const yA={passive:!1},vA={passive:!0};var Mv=t=>t.shouldPublishImmediately?yA:vA;const hd=t=>t&&t.env.closestScrollable||null;function _A(t){const i=R.useRef(null),o=Kd(Sf),s=g0("droppable"),{registry:u,marshal:d}=o,h=y1(t),p=ae(()=>({id:t.droppableId,type:t.type,mode:t.mode}),[t.droppableId,t.mode,t.type]),b=R.useRef(p),v=ae(()=>fn((P,B)=>{i.current||Et();const V={x:P,y:B};d.updateDroppableScroll(p.id,V)}),[p.id,d]),x=Rt(()=>{const P=i.current;return!P||!P.env.closestScrollable?hn:Rp(P.env.closestScrollable)},[]),w=Rt(()=>{const P=x();v(P.x,P.y)},[x,v]),S=ae(()=>xc(w),[w]),E=Rt(()=>{const P=i.current,B=hd(P);if(P&&B||Et(),P.scrollOptions.shouldPublishImmediately){w();return}S()},[S,w]),A=Rt((P,B)=>{i.current&&Et();const V=h.current,J=V.getDroppableRef();J||Et();const Q=mA(J),nt={ref:J,descriptor:p,env:Q,scrollOptions:B};i.current=nt;const rt=bA({ref:J,descriptor:p,env:Q,windowScroll:P,direction:V.direction,isDropDisabled:V.isDropDisabled,isCombineEnabled:V.isCombineEnabled,shouldClipSubject:!V.ignoreContainerClipping}),K=Q.closestScrollable;return K&&(K.setAttribute(_v.contextId,o.contextId),K.addEventListener("scroll",E,Mv(nt.scrollOptions))),rt},[o.contextId,p,E,h]),D=Rt(()=>{const P=i.current,B=hd(P);return P&&B||Et(),Rp(B)},[]),j=Rt(()=>{const P=i.current;P||Et();const B=hd(P);i.current=null,B&&(S.cancel(),B.removeAttribute(_v.contextId),B.removeEventListener("scroll",E,Mv(P.scrollOptions)))},[E,S]),$=Rt(P=>{const B=i.current;B||Et();const V=hd(B);V||Et(),V.scrollTop+=P.y,V.scrollLeft+=P.x},[]),z=ae(()=>({getDimensionAndWatchScroll:A,getScrollWhileDragging:D,dragStopped:j,scroll:$}),[j,A,D,$]),C=ae(()=>({uniqueId:s,descriptor:p,callbacks:z}),[z,p,s]);dr(()=>(b.current=C.descriptor,u.droppable.register(C),()=>{i.current&&j(),u.droppable.unregister(C)}),[z,p,j,C,d,u.droppable]),dr(()=>{i.current&&d.updateDroppableIsEnabled(b.current.id,!t.isDropDisabled)},[t.isDropDisabled,d]),dr(()=>{i.current&&d.updateDroppableIsCombineEnabled(b.current.id,t.isCombineEnabled)},[t.isCombineEnabled,d])}function Zm(){}const Nv={width:0,height:0,margin:A3},xA=({isAnimatingOpenOnMount:t,placeholder:i,animate:o})=>t||o==="close"?Nv:{height:i.client.borderBox.height,width:i.client.borderBox.width,margin:i.client.margin},SA=({isAnimatingOpenOnMount:t,placeholder:i,animate:o})=>{const s=xA({isAnimatingOpenOnMount:t,placeholder:i,animate:o});return{display:i.display,boxSizing:"border-box",width:s.width,height:s.height,marginTop:s.margin.top,marginRight:s.margin.right,marginBottom:s.margin.bottom,marginLeft:s.margin.left,flexShrink:"0",flexGrow:"0",pointerEvents:"none",transition:o!=="none"?yc.placeholder:null}},wA=t=>{const i=R.useRef(null),o=Rt(()=>{i.current&&(clearTimeout(i.current),i.current=null)},[]),{animate:s,onTransitionEnd:u,onClose:d,contextId:h}=t,[p,b]=R.useState(t.animate==="open");R.useEffect(()=>p?s!=="open"?(o(),b(!1),Zm):i.current?Zm:(i.current=setTimeout(()=>{i.current=null,b(!1)}),o):Zm,[s,p,o]);const v=Rt(w=>{w.propertyName==="height"&&(u(),s==="close"&&d())},[s,d,u]),x=SA({isAnimatingOpenOnMount:p,animate:t.animate,placeholder:t.placeholder});return Ne.createElement(t.placeholder.tagName,{style:x,"data-rfd-placeholder-context-id":h,onTransitionEnd:v,ref:t.innerRef})};var TA=Ne.memo(wA);class EA extends Ne.PureComponent{constructor(...i){super(...i),this.state={isVisible:!!this.props.on,data:this.props.on,animate:this.props.shouldAnimate&&this.props.on?"open":"none"},this.onClose=()=>{this.state.animate==="close"&&this.setState({isVisible:!1})}}static getDerivedStateFromProps(i,o){return i.shouldAnimate?i.on?{isVisible:!0,data:i.on,animate:"open"}:o.isVisible?{isVisible:!0,data:o.data,animate:"close"}:{isVisible:!1,animate:"close",data:null}:{isVisible:!!i.on,data:i.on,animate:"none"}}render(){if(!this.state.isVisible)return null;const i={onClose:this.onClose,data:this.state.data,animate:this.state.animate};return this.props.children(i)}}const MA=t=>{const i=R.useContext(Sf);i||Et();const{contextId:o,isMovementAllowed:s}=i,u=R.useRef(null),d=R.useRef(null),{children:h,droppableId:p,type:b,mode:v,direction:x,ignoreContainerClipping:w,isDropDisabled:S,isCombineEnabled:E,snapshot:A,useClone:D,updateViewportMaxScroll:j,getContainerForClone:$}=t,z=Rt(()=>u.current,[]),C=Rt((K=null)=>{u.current=K},[]);Rt(()=>d.current,[]);const P=Rt((K=null)=>{d.current=K},[]),B=Rt(()=>{s()&&j({maxScroll:d1()})},[s,j]);_A({droppableId:p,type:b,mode:v,direction:x,isDropDisabled:S,isCombineEnabled:E,ignoreContainerClipping:w,getDroppableRef:z});const V=ae(()=>Ne.createElement(EA,{on:t.placeholder,shouldAnimate:t.shouldAnimatePlaceholder},({onClose:K,data:I,animate:X})=>Ne.createElement(TA,{placeholder:I,onClose:K,innerRef:P,animate:X,contextId:o,onTransitionEnd:B})),[o,B,t.placeholder,t.shouldAnimatePlaceholder,P]),J=ae(()=>({innerRef:C,placeholder:V,droppableProps:{"data-rfd-droppable-id":p,"data-rfd-droppable-context-id":o}}),[o,p,V,C]),Q=D?D.dragging.draggableId:null,nt=ae(()=>({droppableId:p,type:b,isUsingCloneFor:Q}),[p,Q,b]);function rt(){if(!D)return null;const{dragging:K,render:I}=D,X=Ne.createElement(D1,{draggableId:K.draggableId,index:K.source.index,isClone:!0,isEnabled:!0,shouldRespectForcePress:!1,canDragInteractiveElements:!0},(ft,gt)=>I(ft,gt,K));return mE.createPortal(X,$())}return Ne.createElement(y0.Provider,{value:nt},h(J,A),rt())};function NA(){return document.body||Et(),document.body}const Dv={mode:"standard",type:"DEFAULT",direction:"vertical",isDropDisabled:!1,isCombineEnabled:!1,ignoreContainerClipping:!1,renderClone:null,getContainerForClone:NA},C1=t=>{let i={...t},o;for(o in Dv)t[o]===void 0&&(i={...i,[o]:Dv[o]});return i},Ym=(t,i)=>t===i.droppable.type,Av=(t,i)=>i.draggables[t.draggable.id],DA=()=>{const t={placeholder:null,shouldAnimatePlaceholder:!0,snapshot:{isDraggingOver:!1,draggingOverWith:null,draggingFromThisWith:null,isUsingPlaceholder:!1},useClone:null},i={...t,shouldAnimatePlaceholder:!1},o=fn(d=>({draggableId:d.id,type:d.type,source:{index:d.index,droppableId:d.droppableId}})),s=fn((d,h,p,b,v,x)=>{const w=v.descriptor.id;if(v.descriptor.droppableId===d){const A=x?{render:x,dragging:o(v.descriptor)}:null,D={isDraggingOver:p,draggingOverWith:p?w:null,draggingFromThisWith:w,isUsingPlaceholder:!0};return{placeholder:v.placeholder,shouldAnimatePlaceholder:!1,snapshot:D,useClone:A}}if(!h)return i;if(!b)return t;const E={isDraggingOver:p,draggingOverWith:w,draggingFromThisWith:null,isUsingPlaceholder:!0};return{placeholder:v.placeholder,shouldAnimatePlaceholder:!0,snapshot:E,useClone:null}});return(d,h)=>{const p=C1(h),b=p.droppableId,v=p.type,x=!p.isDropDisabled,w=p.renderClone;if(Nc(d)){const S=d.critical;if(!Ym(v,S))return i;const E=Av(S,d.dimensions),A=ur(d.impact)===b;return s(b,x,A,A,E,w)}if(d.phase==="DROP_ANIMATING"){const S=d.completed;if(!Ym(v,S.critical))return i;const E=Av(S.critical,d.dimensions);return s(b,x,M1(S.result)===b,ur(S.impact)===b,E,w)}if(d.phase==="IDLE"&&d.completed&&!d.shouldFlush){const S=d.completed;if(!Ym(v,S.critical))return i;const E=ur(S.impact)===b,A=!!(S.impact.at&&S.impact.at.type==="COMBINE"),D=S.critical.droppable.id===b;return E?A?t:i:D?t:i}return i}},AA={updateViewportMaxScroll:IM},Hs=jx(DA,AA,(t,i,o)=>({...C1(o),...t,...i}),{context:p0,areStatePropsEqual:E1})(MA),Fs=Vp()(Kp((t,i)=>({currentId:null,setCurrent:o=>t({currentId:o}),list:[],add:o=>t({list:[o,...i().list]}),remove:o=>t({list:i().list.filter(s=>s.id!==o)}),update:(o,s)=>t({list:i().list.map(u=>u.id===o?{...u,...s}:u)}),reorder:o=>t({list:o})}),{name:"myeongsik-list",partialize:t=>({list:t.list.map(i=>({...i,dir:i.dir??"forward"}))}),merge:(t,i)=>{const o=t,s=u=>({...u,dir:u.dir??"forward",dateObj:u?.dateObj?new Date(u.dateObj):new Date,corrected:u?.corrected?new Date(u.corrected):new Date});return{...i,...o,list:Array.isArray(o.list)?o.list.map(s):[]}}})),jA=[{value:"본인",label:"본인 (1인지정만 가능)"},{value:"연인/배우자",label:"연인 / 배우자"},{value:"가족",label:"가족"},{value:"고객",label:"고객"},{value:"친구",label:"친구"},{value:"동료",label:"동료"},{value:"지인",label:"지인"}],O1=({value:t,onChange:i})=>{const[o,s]=R.useState(jA),[u,d]=R.useState(""),[h,p]=R.useState(!1),[b,v]=R.useState(""),[x,w]=R.useState(!1),{list:S}=Fs(),A=S.some(C=>C.relationship==="본인")?o.filter(C=>C.value!=="본인"):o;R.useEffect(()=>{t!==void 0&&d(t)},[t]);const D=C=>{const P=C.target.value;d(P),i?.(P),P==="기타입력"?p(!0):(p(!1),v(""))};R.useEffect(()=>{const C=localStorage.getItem("relationshipOptions");C&&s(JSON.parse(C))},[]),R.useEffect(()=>{localStorage.setItem("relationshipOptions",JSON.stringify(o))},[o]);const j=()=>{if(!b.trim())return;const C={value:b,label:b};s([...o,C]),d(b),v(""),p(!1)},$=C=>{s(o.filter(P=>P.value!==C)),u===C&&d("")},z=C=>{if(!C.destination)return;const P=Array.from(o),[B]=P.splice(C.source.index,1);P.splice(C.destination.index,0,B),s(P)};return g.jsxs(g.Fragment,{children:[g.jsxs("div",{className:"rel_set flex items-center gap-2",children:[g.jsxs("select",{name:"relationship",id:"relationship",value:u,onChange:D,children:[g.jsx("option",{value:"",hidden:!0,children:"관계선택"}),A.map(C=>g.jsx("option",{value:C.value,children:C.label},C.value)),g.jsx("option",{value:"기타입력",children:"기타입력"})]}),g.jsx("button",{type:"button",onClick:()=>w(!0),className:"btn_style",children:"관계수정"})]}),h&&!x&&g.jsxs("div",{className:"rel_set flex items-center mt-2 gap-2",children:[g.jsx("input",{type:"text",placeholder:"관계 기타입력",value:b,onChange:C=>v(C.target.value)}),g.jsx("button",{type:"button",onClick:j,className:"btn_style",children:"관계추가"})]}),x&&g.jsxs("div",{className:"p-3 border mt-2 rounded bg-gray-50 dark:bg-neutral-900",children:[g.jsx("h4",{className:"font-bold mb-2",children:"관계 수정"}),g.jsx(Tf,{onDragEnd:z,children:g.jsx(Hs,{droppableId:"relList",children:C=>g.jsxs("ul",{ref:C.innerRef,...C.droppableProps,className:"space-y-1",children:[o.map((P,B)=>g.jsx(Dc,{draggableId:P.value,index:B,children:V=>g.jsxs("li",{ref:V.innerRef,...V.draggableProps,...V.dragHandleProps,className:"flex justify-between items-center bg-white dark:bg-neutral-800 p-2 rounded border text-sm desk:text-base",children:[g.jsx("span",{className:"cursor-grab mr-2",children:"☰"}),g.jsx("span",{className:"flex-1 pr-1",children:P.label}),g.jsx("button",{type:"button",className:"text-red-500",onClick:()=>$(P.value),children:"삭제"})]})},P.value)),C.placeholder]})})}),g.jsx("button",{type:"button",onClick:()=>w(!1),className:"w-full btn_style mt-2",children:"닫기"})]})]})},kA={1948:{start:new Date(1948,4,1),end:new Date(1948,7,13)},1949:{start:new Date(1949,2,3),end:new Date(1949,7,11)},1950:{start:new Date(1950,2,1),end:new Date(1950,7,10)},1951:{start:new Date(1951,3,6),end:new Date(1951,7,9)},1955:{start:new Date(1955,3,5),end:new Date(1955,7,9)},1956:{start:new Date(1956,3,20),end:new Date(1956,7,30)},1957:{start:new Date(1957,3,5),end:new Date(1957,7,22)},1958:{start:new Date(1958,3,4),end:new Date(1958,7,21)},1959:{start:new Date(1959,3,3),end:new Date(1959,7,20)},1960:{start:new Date(1960,3,1),end:new Date(1960,7,18)},1987:{start:new Date(1987,3,10),end:new Date(1987,8,11)},1988:{start:new Date(1988,3,8),end:new Date(1988,8,9)}};function Fd(t,i,o){const s=kA[t];if(!s)return!1;const u=new Date(t,i-1,o,0,0,0,0);return u>=s.start&&u<s.end}function CA(t){if(!isFinite(t.getTime()))return 0;const i=t.getUTCFullYear(),o=Date.UTC(i,0,1),u=Math.floor((t.getTime()-o)/864e5)+1,d=t.getUTCHours(),h=t.getUTCMinutes(),p=t.getUTCSeconds(),b=(d-12)/24+h/1440+p/86400,v=2*Math.PI/365*(u-1+b);return 229.18*(75e-6+.001868*Math.cos(v)-.032077*Math.sin(v)-.014615*Math.cos(2*v)-.040849*Math.sin(2*v))}function OA(t){return t=(t+540)%360-180,t>=124&&t<=132||t>=129&&t<=146?135:t>=73&&t<=135?120:t>=-161&&t<=-154?-150:t>=-170&&t<-161?-165:t>=-150&&t<-141?-135:t>=-141&&t<-126?-120:t>=-126&&t<-111?-105:t>=-111&&t<-96?-90:t>=-96&&t<-81?-75:Math.round(t/15)*15}function Xs(t,i,o=!1){const s=new Date(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),0,0);if(o)return new Date(s.getTime()-1800*1e3);if(i==null||!isFinite(i))return s;let u=i;Math.abs(u)<=Math.PI+1e-6&&(u=u*180/Math.PI),u=(u+540)%360-180;const d=OA(u),h=4*(u-d),p=CA(s);return new Date(s.getTime()+(h+p)*60*1e3)}const Sn="폴더 미지정",Xd=["가족","친구","직장","지인","고객","기타"],Wd="ms_folders",LA="ms_folder_order",BA="ms_folder_favs",L1="ms_disabled_presets";function RA(t){return!t||t==="미분류"?Sn:t}function Gs(t){if(!(!t||t===Sn||t==="미분류"))return t}function jv(){try{const t=localStorage.getItem(Wd),i=localStorage.getItem(L1),o=t?JSON.parse(t):[],s=i?JSON.parse(i):[],u=Xd.filter(d=>!s.includes(d));return[Sn,...u,...o]}catch{return[Sn,...Xd]}}function PA(t){const i=t.trim();if(!(!i||i===Sn))try{const o=localStorage.getItem(Wd),s=o?JSON.parse(o):[];if(!s.includes(i)){const u=[...s,i];localStorage.setItem(Wd,JSON.stringify(u))}}catch{}}function zA({value:t,onChange:i}){const[o,s]=R.useState([Sn]),[u,d]=R.useState(!1),[h,p]=R.useState("");R.useEffect(()=>{const v=jv();s(Array.from(new Set(v)))},[]);const b=R.useMemo(()=>t||Sn,[t]);return g.jsxs("div",{className:"space-y-2",children:[g.jsxs("div",{className:"flex items-center gap-2",children:[g.jsxs("select",{className:"flex-1 border rounded-lg p-2",value:u?"__custom__":b,onChange:v=>{const x=v.target.value;if(x==="__custom__"){d(!0),i(void 0);return}d(!1),i(Gs(x))},children:[o.map(v=>g.jsx("option",{value:v,children:v},v)),g.jsx("option",{value:"__custom__",children:"+ 새 폴더 직접입력…"})]}),u&&g.jsxs(g.Fragment,{children:[g.jsx("input",{type:"text",value:h,onChange:v=>p(v.target.value),placeholder:"새 폴더 이름",className:"flex-1 border rounded-lg p-2"}),g.jsx("button",{type:"button",className:"px-3 py-2 rounded bg-neutral-800 hover:bg-neutral-700 text-sm",onClick:()=>{const v=h.trim();v&&(PA(v),s(jv()),i(v),d(!1),p(""))},children:"추가"})]})]}),g.jsxs("p",{className:"text-xs text-gray-500",children:['폴더를 지정하지 않으려면 "',Sn,'"을 선택하세요. 직접입력으로 새 폴더를 만들 수 있어요.']})]})}function B1({message:t,onClose:i,ms:o=2e3}){return R.useEffect(()=>{const s=setTimeout(i,o);return()=>clearTimeout(s)},[i,o]),g.jsx("div",{className:"fixed top-4 left-1/2 -translate-x-1/2 bg-black text-white px-4 py-2 rounded-lg shadow-lg z-[9999]",children:t})}var Rd={exports:{}},HA=Rd.exports,kv;function $A(){return kv||(kv=1,(function(t,i){(function(o,s){t.exports=s()})(HA,function(){return(function(o){function s(d){if(u[d])return u[d].exports;var h=u[d]={i:d,l:!1,exports:{}};return o[d].call(h.exports,h,h.exports,s),h.l=!0,h.exports}var u={};return s.m=o,s.c=u,s.d=function(d,h,p){s.o(d,h)||Object.defineProperty(d,h,{configurable:!1,enumerable:!0,get:p})},s.n=function(d){var h=d&&d.__esModule?function(){return d.default}:function(){return d};return s.d(h,"a",h),h},s.o=function(d,h){return Object.prototype.hasOwnProperty.call(d,h)},s.p="",s(s.s=0)})([function(o,s,u){Object.defineProperty(s,"__esModule",{value:!0});var d=u(1),h=(function(p){return p&&p.__esModule?p:{default:p}})(d);s.default=h.default,o.exports=s.default},function(o,s,u){function d(X){return X&&X.__esModule?X:{default:X}}Object.defineProperty(s,"__esModule",{value:!0});var h=u(2),p=d(h),b=u(3),v=d(b),x=u(4),w=d(x),S=u(5),E=d(S),A=u(6),D=d(A),j=u(7),$=d(j),z=u(8),C=d(z),P=u(9),B=d(P),V=u(10),J=d(V),Q=u(11),nt=d(Q),rt=u(12),K=d(rt),I={lunarInfo:p.default,solarMonth:v.default,gan:w.default,zhi:E.default,animals:D.default,lunarTerm:$.default,lTermInfo:C.default,nStr1:B.default,nStr2:J.default,nStr3:nt.default,nStr4:K.default,lYearDays:function(X){var ft,gt=348;for(ft=32768;ft>8;ft>>=1)gt+=I.lunarInfo[X-1900]&ft?1:0;return gt+I.leapDays(X)},leapMonth:function(X){return 15&I.lunarInfo[X-1900]},leapDays:function(X){return I.leapMonth(X)?65536&I.lunarInfo[X-1900]?30:29:0},monthDays:function(X,ft){return ft>12||ft<1?-1:I.lunarInfo[X-1900]&65536>>ft?30:29},solarDays:function(X,ft){if(ft>12||ft<1)return-1;var gt=ft-1;return gt==1?X%4==0&&X%100!=0||X%400==0?29:28:I.solarMonth[gt]},toGanZhi:function(X){return I.gan[X%10]+I.zhi[X%12]},getTerm:function(X,ft){if(X<1900||X>2100||ft<1||ft>24)return-1;var gt=I.lTermInfo[X-1900],Z=[parseInt("0x"+gt.substr(0,5)).toString(),parseInt("0x"+gt.substr(5,5)).toString(),parseInt("0x"+gt.substr(10,5)).toString(),parseInt("0x"+gt.substr(15,5)).toString(),parseInt("0x"+gt.substr(20,5)).toString(),parseInt("0x"+gt.substr(25,5)).toString()],lt=[Z[0].substr(0,1),Z[0].substr(1,2),Z[0].substr(3,1),Z[0].substr(4,2),Z[1].substr(0,1),Z[1].substr(1,2),Z[1].substr(3,1),Z[1].substr(4,2),Z[2].substr(0,1),Z[2].substr(1,2),Z[2].substr(3,1),Z[2].substr(4,2),Z[3].substr(0,1),Z[3].substr(1,2),Z[3].substr(3,1),Z[3].substr(4,2),Z[4].substr(0,1),Z[4].substr(1,2),Z[4].substr(3,1),Z[4].substr(4,2),Z[5].substr(0,1),Z[5].substr(1,2),Z[5].substr(3,1),Z[5].substr(4,2)];return parseInt(lt[ft-1])},toChinaYear:function(X){var ft=parseInt(X/1e3),gt=parseInt(X%1e3/100),Z=parseInt(X%100/10),lt=X%10;return I.nStr4[ft]+I.nStr4[gt]+I.nStr4[Z]+I.nStr4[lt]+"年"},toChinaMonth:function(X){if(X>12||X<1)return-1;var ft=I.nStr3[X-1];return ft+="月"},toChinaDay:function(X){var ft;switch(X){case 10:ft="初十";break;case 20:ft="二十";break;case 30:ft="三十";break;default:ft=I.nStr2[Math.floor(X/10)],ft+=I.nStr1[X%10]}return ft},getAnimal:function(X){return I.animals[(X-4)%12]},solar2lunar:function(G,M,H){if(G<1900||G>2100||G==1900&&M==1&&H<31)return-1;if(G)var Z=new Date(G,parseInt(M)-1,H);else var Z=new Date;var lt,vt=0,F=0,G=Z.getFullYear(),M=Z.getMonth()+1,H=Z.getDate(),U=(Date.UTC(Z.getFullYear(),Z.getMonth(),Z.getDate())-Date.UTC(1900,0,31))/864e5;for(lt=1900;lt<2101&&U>0;lt++)F=I.lYearDays(lt),U-=F;U<0&&(U+=F,lt--);var W=new Date,et=!1;W.getFullYear()==G&&W.getMonth()+1==M&&W.getDate()==H&&(et=!0);var ut=Z.getDay(),at=I.nStr1[ut];ut==0&&(ut=7);var wt=lt,vt=I.leapMonth(lt),Dt=!1;for(lt=1;lt<13&&U>0;lt++)vt>0&&lt==vt+1&&Dt==0?(--lt,Dt=!0,F=I.leapDays(wt)):F=I.monthDays(wt,lt),Dt==1&&lt==vt+1&&(Dt=!1),U-=F;U==0&&vt>0&&lt==vt+1&&(Dt?Dt=!1:(Dt=!0,--lt)),U<0&&(U+=F,--lt);var $t=lt,Vt=U+1,Yt=M-1,ne=I.getTerm(G,3),$e=I.toGanZhi(G-4),Ae=new Date(G,1,ne).getTime();new Date(G,Yt,H).getTime()<Ae&&($e=I.toGanZhi(G-5));var Ve=I.getTerm(G,2*M-1),ve=I.getTerm(G,2*M),At=I.toGanZhi(12*(G-1900)+M+11);H>=Ve&&(At=I.toGanZhi(12*(G-1900)+M+12));var bt=!1,Nt="";Ve==H&&(bt=!0,Nt=I.lunarTerm[2*M-2]),ve==H&&(bt=!0,Nt=I.lunarTerm[2*M-1]);var dt=Date.UTC(G,Yt,1,0,0,0,0)/864e5+25567+10,zt=I.toGanZhi(dt+H-1);return{lYear:wt,lMonth:$t,lDay:Vt,animal:I.getAnimal(wt),yearCn:I.toChinaYear(wt),monthCn:(Dt&&vt===$t?"闰":"")+I.toChinaMonth($t),dayCn:I.toChinaDay(Vt),cYear:G,cMonth:M,cDay:H,gzYear:$e,gzMonth:At,gzDay:zt,isToday:et,isLeap:Dt,nWeek:ut,ncWeek:"星期"+at,isTerm:bt,term:Nt}},lunar2solar:function(X,ft,gt,Z){var lt=I.leapMonth(X);if(I.leapDays(X),Z&&lt!=ft||X==2100&&ft==12&&gt>1||X==1900&&ft==1&&gt<31)return-1;var F=I.monthDays(X,ft);if(X<1900||X>2100||gt>F)return-1;for(var G=0,M=1900;M<X;M++)G+=I.lYearDays(M);for(var H=0,U=!1,M=1;M<ft;M++)H=I.leapMonth(X),U||H<=M&&H>0&&(G+=I.leapDays(X),U=!0),G+=I.monthDays(X,M);Z&&(G+=F);var W=Date.UTC(1900,1,30,0,0,0),et=new Date(864e5*(G+gt-31)+W),ut=et.getUTCFullYear(),at=et.getUTCMonth()+1,wt=et.getUTCDate();return I.solar2lunar(ut,at,wt)}};s.default=I,o.exports=s.default},function(o,s,u){Object.defineProperty(s,"__esModule",{value:!0}),s.default=[19416,19168,42352,21717,53856,55632,91476,22176,39632,21970,19168,42422,42192,53840,119381,46400,54944,44450,38320,84343,18800,42160,46261,27216,27968,109396,11104,38256,21234,18800,25958,54432,59984,28309,23248,11104,100067,37600,116951,51536,54432,120998,46416,22176,107956,9680,37584,53938,43344,46423,27808,46416,86869,19872,42416,83315,21168,43432,59728,27296,44710,43856,19296,43748,42352,21088,62051,55632,23383,22176,38608,19925,19152,42192,54484,53840,54616,46400,46752,103846,38320,18864,43380,42160,45690,27216,27968,44870,43872,38256,19189,18800,25776,29859,59984,27480,23232,43872,38613,37600,51552,55636,54432,55888,30034,22176,43959,9680,37584,51893,43344,46240,47780,44368,21977,19360,42416,86390,21168,43312,31060,27296,44368,23378,19296,42726,42208,53856,60005,54576,23200,30371,38608,19195,19152,42192,118966,53840,54560,56645,46496,22224,21938,18864,42359,42160,43600,111189,27936,44448,84835,37744,18936,18800,25776,92326,59984,27424,108228,43744,37600,53987,51552,54615,54432,55888,23893,22176,42704,21972,21200,43448,43344,46240,46758,44368,21920,43940,42416,21168,45683,26928,29495,27296,44368,84821,19296,42352,21732,53600,59752,54560,55968,92838,22224,19168,43476,42192,53584,62034,54560],o.exports=s.default},function(o,s,u){Object.defineProperty(s,"__esModule",{value:!0}),s.default=[31,28,31,30,31,30,31,31,30,31,30,31],o.exports=s.default},function(o,s,u){Object.defineProperty(s,"__esModule",{value:!0}),s.default=["甲","乙","丙","丁","戊","己","庚","辛","壬","癸"],o.exports=s.default},function(o,s,u){Object.defineProperty(s,"__esModule",{value:!0}),s.default=["子","丑","寅","卯","辰","巳","午","未","申","酉","戌","亥"],o.exports=s.default},function(o,s,u){Object.defineProperty(s,"__esModule",{value:!0}),s.default=["鼠","牛","虎","兔","龙","蛇","马","羊","猴","鸡","狗","猪"],o.exports=s.default},function(o,s,u){Object.defineProperty(s,"__esModule",{value:!0}),s.default=["小寒","大寒","立春","雨水","惊蛰","春分","清明","谷雨","立夏","小满","芒种","夏至","小暑","大暑","立秋","处暑","白露","秋分","寒露","霜降","立冬","小雪","大雪","冬至"],o.exports=s.default},function(o,s,u){Object.defineProperty(s,"__esModule",{value:!0}),s.default=["9778397bd097c36b0b6fc9274c91aa","97b6b97bd19801ec9210c965cc920e","97bcf97c3598082c95f8c965cc920f","97bd0b06bdb0722c965ce1cfcc920f","b027097bd097c36b0b6fc9274c91aa","97b6b97bd19801ec9210c965cc920e","97bcf97c359801ec95f8c965cc920f","97bd0b06bdb0722c965ce1cfcc920f","b027097bd097c36b0b6fc9274c91aa","97b6b97bd19801ec9210c965cc920e","97bcf97c359801ec95f8c965cc920f","97bd0b06bdb0722c965ce1cfcc920f","b027097bd097c36b0b6fc9274c91aa","9778397bd19801ec9210c965cc920e","97b6b97bd19801ec95f8c965cc920f","97bd09801d98082c95f8e1cfcc920f","97bd097bd097c36b0b6fc9210c8dc2","9778397bd197c36c9210c9274c91aa","97b6b97bd19801ec95f8c965cc920e","97bd09801d98082c95f8e1cfcc920f","97bd097bd097c36b0b6fc9210c8dc2","9778397bd097c36c9210c9274c91aa","97b6b97bd19801ec95f8c965cc920e","97bcf97c3598082c95f8e1cfcc920f","97bd097bd097c36b0b6fc9210c8dc2","9778397bd097c36c9210c9274c91aa","97b6b97bd19801ec9210c965cc920e","97bcf97c3598082c95f8c965cc920f","97bd097bd097c35b0b6fc920fb0722","9778397bd097c36b0b6fc9274c91aa","97b6b97bd19801ec9210c965cc920e","97bcf97c3598082c95f8c965cc920f","97bd097bd097c35b0b6fc920fb0722","9778397bd097c36b0b6fc9274c91aa","97b6b97bd19801ec9210c965cc920e","97bcf97c359801ec95f8c965cc920f","97bd097bd097c35b0b6fc920fb0722","9778397bd097c36b0b6fc9274c91aa","97b6b97bd19801ec9210c965cc920e","97bcf97c359801ec95f8c965cc920f","97bd097bd097c35b0b6fc920fb0722","9778397bd097c36b0b6fc9274c91aa","97b6b97bd19801ec9210c965cc920e","97bcf97c359801ec95f8c965cc920f","97bd097bd07f595b0b6fc920fb0722","9778397bd097c36b0b6fc9210c8dc2","9778397bd19801ec9210c9274c920e","97b6b97bd19801ec95f8c965cc920f","97bd07f5307f595b0b0bc920fb0722","7f0e397bd097c36b0b6fc9210c8dc2","9778397bd097c36c9210c9274c920e","97b6b97bd19801ec95f8c965cc920f","97bd07f5307f595b0b0bc920fb0722","7f0e397bd097c36b0b6fc9210c8dc2","9778397bd097c36c9210c9274c91aa","97b6b97bd19801ec9210c965cc920e","97bd07f1487f595b0b0bc920fb0722","7f0e397bd097c36b0b6fc9210c8dc2","9778397bd097c36b0b6fc9274c91aa","97b6b97bd19801ec9210c965cc920e","97bcf7f1487f595b0b0bb0b6fb0722","7f0e397bd097c35b0b6fc920fb0722","9778397bd097c36b0b6fc9274c91aa","97b6b97bd19801ec9210c965cc920e","97bcf7f1487f595b0b0bb0b6fb0722","7f0e397bd097c35b0b6fc920fb0722","9778397bd097c36b0b6fc9274c91aa","97b6b97bd19801ec9210c965cc920e","97bcf7f1487f531b0b0bb0b6fb0722","7f0e397bd097c35b0b6fc920fb0722","9778397bd097c36b0b6fc9274c91aa","97b6b97bd19801ec9210c965cc920e","97bcf7f1487f531b0b0bb0b6fb0722","7f0e397bd07f595b0b6fc920fb0722","9778397bd097c36b0b6fc9274c91aa","97b6b97bd19801ec9210c9274c920e","97bcf7f0e47f531b0b0bb0b6fb0722","7f0e397bd07f595b0b0bc920fb0722","9778397bd097c36b0b6fc9210c91aa","97b6b97bd197c36c9210c9274c920e","97bcf7f0e47f531b0b0bb0b6fb0722","7f0e397bd07f595b0b0bc920fb0722","9778397bd097c36b0b6fc9210c8dc2","9778397bd097c36c9210c9274c920e","97b6b7f0e47f531b0723b0b6fb0722","7f0e37f5307f595b0b0bc920fb0722","7f0e397bd097c36b0b6fc9210c8dc2","9778397bd097c36b0b70c9274c91aa","97b6b7f0e47f531b0723b0b6fb0721","7f0e37f1487f595b0b0bb0b6fb0722","7f0e397bd097c35b0b6fc9210c8dc2","9778397bd097c36b0b6fc9274c91aa","97b6b7f0e47f531b0723b0b6fb0721","7f0e27f1487f595b0b0bb0b6fb0722","7f0e397bd097c35b0b6fc920fb0722","9778397bd097c36b0b6fc9274c91aa","97b6b7f0e47f531b0723b0b6fb0721","7f0e27f1487f531b0b0bb0b6fb0722","7f0e397bd097c35b0b6fc920fb0722","9778397bd097c36b0b6fc9274c91aa","97b6b7f0e47f531b0723b0b6fb0721","7f0e27f1487f531b0b0bb0b6fb0722","7f0e397bd097c35b0b6fc920fb0722","9778397bd097c36b0b6fc9274c91aa","97b6b7f0e47f531b0723b0b6fb0721","7f0e27f1487f531b0b0bb0b6fb0722","7f0e397bd07f595b0b0bc920fb0722","9778397bd097c36b0b6fc9274c91aa","97b6b7f0e47f531b0723b0787b0721","7f0e27f0e47f531b0b0bb0b6fb0722","7f0e397bd07f595b0b0bc920fb0722","9778397bd097c36b0b6fc9210c91aa","97b6b7f0e47f149b0723b0787b0721","7f0e27f0e47f531b0723b0b6fb0722","7f0e397bd07f595b0b0bc920fb0722","9778397bd097c36b0b6fc9210c8dc2","977837f0e37f149b0723b0787b0721","7f07e7f0e47f531b0723b0b6fb0722","7f0e37f5307f595b0b0bc920fb0722","7f0e397bd097c35b0b6fc9210c8dc2","977837f0e37f14998082b0787b0721","7f07e7f0e47f531b0723b0b6fb0721","7f0e37f1487f595b0b0bb0b6fb0722","7f0e397bd097c35b0b6fc9210c8dc2","977837f0e37f14998082b0787b06bd","7f07e7f0e47f531b0723b0b6fb0721","7f0e27f1487f531b0b0bb0b6fb0722","7f0e397bd097c35b0b6fc920fb0722","977837f0e37f14998082b0787b06bd","7f07e7f0e47f531b0723b0b6fb0721","7f0e27f1487f531b0b0bb0b6fb0722","7f0e397bd097c35b0b6fc920fb0722","977837f0e37f14998082b0787b06bd","7f07e7f0e47f531b0723b0b6fb0721","7f0e27f1487f531b0b0bb0b6fb0722","7f0e397bd07f595b0b0bc920fb0722","977837f0e37f14998082b0787b06bd","7f07e7f0e47f531b0723b0b6fb0721","7f0e27f1487f531b0b0bb0b6fb0722","7f0e397bd07f595b0b0bc920fb0722","977837f0e37f14998082b0787b06bd","7f07e7f0e47f149b0723b0787b0721","7f0e27f0e47f531b0b0bb0b6fb0722","7f0e397bd07f595b0b0bc920fb0722","977837f0e37f14998082b0723b06bd","7f07e7f0e37f149b0723b0787b0721","7f0e27f0e47f531b0723b0b6fb0722","7f0e397bd07f595b0b0bc920fb0722","977837f0e37f14898082b0723b02d5","7ec967f0e37f14998082b0787b0721","7f07e7f0e47f531b0723b0b6fb0722","7f0e37f1487f595b0b0bb0b6fb0722","7f0e37f0e37f14898082b0723b02d5","7ec967f0e37f14998082b0787b0721","7f07e7f0e47f531b0723b0b6fb0722","7f0e37f1487f531b0b0bb0b6fb0722","7f0e37f0e37f14898082b0723b02d5","7ec967f0e37f14998082b0787b06bd","7f07e7f0e47f531b0723b0b6fb0721","7f0e37f1487f531b0b0bb0b6fb0722","7f0e37f0e37f14898082b072297c35","7ec967f0e37f14998082b0787b06bd","7f07e7f0e47f531b0723b0b6fb0721","7f0e27f1487f531b0b0bb0b6fb0722","7f0e37f0e37f14898082b072297c35","7ec967f0e37f14998082b0787b06bd","7f07e7f0e47f531b0723b0b6fb0721","7f0e27f1487f531b0b0bb0b6fb0722","7f0e37f0e366aa89801eb072297c35","7ec967f0e37f14998082b0787b06bd","7f07e7f0e47f149b0723b0787b0721","7f0e27f1487f531b0b0bb0b6fb0722","7f0e37f0e366aa89801eb072297c35","7ec967f0e37f14998082b0723b06bd","7f07e7f0e47f149b0723b0787b0721","7f0e27f0e47f531b0723b0b6fb0722","7f0e37f0e366aa89801eb072297c35","7ec967f0e37f14998082b0723b06bd","7f07e7f0e37f14998083b0787b0721","7f0e27f0e47f531b0723b0b6fb0722","7f0e37f0e366aa89801eb072297c35","7ec967f0e37f14898082b0723b02d5","7f07e7f0e37f14998082b0787b0721","7f07e7f0e47f531b0723b0b6fb0722","7f0e36665b66aa89801e9808297c35","665f67f0e37f14898082b0723b02d5","7ec967f0e37f14998082b0787b0721","7f07e7f0e47f531b0723b0b6fb0722","7f0e36665b66a449801e9808297c35","665f67f0e37f14898082b0723b02d5","7ec967f0e37f14998082b0787b06bd","7f07e7f0e47f531b0723b0b6fb0721","7f0e36665b66a449801e9808297c35","665f67f0e37f14898082b072297c35","7ec967f0e37f14998082b0787b06bd","7f07e7f0e47f531b0723b0b6fb0721","7f0e26665b66a449801e9808297c35","665f67f0e37f1489801eb072297c35","7ec967f0e37f14998082b0787b06bd","7f07e7f0e47f531b0723b0b6fb0721","7f0e27f1487f531b0b0bb0b6fb0722"],o.exports=s.default},function(o,s,u){Object.defineProperty(s,"__esModule",{value:!0}),s.default=["日","一","二","三","四","五","六","七","八","九","十"],o.exports=s.default},function(o,s,u){Object.defineProperty(s,"__esModule",{value:!0}),s.default=["初","十","廿","卅"],o.exports=s.default},function(o,s,u){Object.defineProperty(s,"__esModule",{value:!0}),s.default=["正","二","三","四","五","六","七","八","九","十","冬","腊"],o.exports=s.default},function(o,s,u){Object.defineProperty(s,"__esModule",{value:!0}),s.default=["零","一","二","三","四","五","六","七","八","九","十"],o.exports=s.default}])})})(Rd)),Rd.exports}var R1=$A();const IA=Ys(R1),Fi=iw({__proto__:null,default:IA},[R1]);function v0(t){return typeof t=="object"&&t!==null}function UA(t){return v0(t)&&"default"in t}function GA(t){return v0(t)&&typeof t.lunar2solar=="function"}function ZA(t){if(!v0(t))throw new Error("Invalid lunar2solar result");const i=t.cYear,o=t.cMonth,s=t.cDay,u=t.isLeap;if(typeof i!="number"||typeof o!="number"||typeof s!="number")throw new Error("Invalid lunar2solar fields");return{cYear:i,cMonth:o,cDay:s,isLeap:typeof u=="boolean"?u:void 0}}function YA(t){const i=UA(t)?t.default:t;if(!GA(i))throw new Error("solarlunar.lunar2solar not found");return{lunar2solar:(s,u,d,h)=>{const p=i.lunar2solar(s,u,d,h);return ZA(p)}}}const qA=YA(Fi);function qm(t,i,o){const s=qA.lunar2solar(t,i,o,!1);return{y:s.cYear,m:s.cMonth,d:s.cDay}}const sc=[{key:"name",label:"이름",placeholder:"이름을 입력하세요",type:"text"},{key:"birthDay",label:"생년월일",placeholder:"예: 19900101",type:"tel"},{key:"birthTime",label:"태어난 시간",placeholder:"예: 1524",type:"tel"},{key:"mingSikType",label:"명식 기준",type:"mingrule"},{key:"gender",label:"성별",type:"radio"},{key:"birthPlace",label:"태어난 지역",type:"place"},{key:"relationship",label:"관계",type:"relationship"},{key:"folder",label:"폴더 선택",type:"folder"},{key:"memo",label:"메모",placeholder:"메모를 입력하세요",type:"textarea"}],lc=[{value:"solar",label:"양력",id:"calendarType_solar"},{value:"lunar",label:"음력",id:"calendarType_lunar"}],md=["야자시","조자시","인시"],pd=["남자","여자"];function Vm(t,i,o){return o==="ArrowRight"||o==="ArrowDown"?(t+1)%i:o==="ArrowLeft"||o==="ArrowUp"?(t-1+i)%i:o==="Home"?0:o==="End"?i-1:t}function Km(t){const i=document.getElementById(t);i instanceof HTMLElement&&i.focus()}function VA({onSave:t,onClose:i}){const{add:o}=Fs(),[s,u]=R.useState(0),[d,h]=R.useState({gender:"남자",mingSikType:"야자시",DayChangeRule:"자시일수론",calendarType:"solar"}),[p,b]=R.useState(null),[v,x]=R.useState(!1),[w,S]=R.useState(!1),E=sc[s],A=P=>b(P);R.useEffect(()=>{if(["name","birthDay","birthTime","memo"].includes(E.key)){const B=document.querySelector(".current-step input[type='text']:not([disabled]), .current-step textarea:not([disabled])");if(B){B.focus();return}}if(E.key==="mingSikType"){const B=document.querySelector("[id^='ming_'][id$='_lbl'][aria-checked='true']");if(B){B.focus();return}}if(E.key==="gender"){const B=document.querySelector("[id^='gender_'][id$='_lbl'][aria-checked='true']");if(B){B.focus();return}}if(d.birthPlace||w){const B=()=>{const V=document.querySelector(".current-step form button[type='submit']");V&&V.focus()};B(),setTimeout(B,0)}else{const B=document.getElementById("inputBirthPlaceBtn");B&&B.focus()}if(E.key==="relationship"){setTimeout(()=>{const B=document.querySelector(".current-step select");B&&B.focus()},0);return}if(E.key==="folder"){setTimeout(()=>{const B=document.querySelector(".current-step select");B&&B.focus()},0);return}document.querySelector(".current-step button, .current-step [tabindex='0']")?.focus()},[w,s,E.key,d.birthPlace]);const D=R.useMemo(()=>{if(d.calendarType!=="lunar"||!d.birthDay||d.birthDay.length!==8)return null;try{const P=Number(d.birthDay.slice(0,4)),B=Number(d.birthDay.slice(4,6)),V=Number(d.birthDay.slice(6,8)),J=qm(P,B,V);return`→ 양력 ${J.y}-${String(J.m).padStart(2,"0")}-${String(J.d).padStart(2,"0")}`}catch(P){const B=P instanceof Error?P.message:void 0;return`→ 변환 실패${B?`: ${B}`:""}`}},[d.calendarType,d.birthDay]),j=()=>{const P=sc[s];if(P.key==="name"&&(d.name||(h({...d,name:"이름없음"}),A("이름을 적지 않으시면 '이름없음'으로 대체됩니다."))),P.key==="birthDay"){const B=/^\d{8}$/;if(!d.birthDay||!B.test(d.birthDay))return A("생년월일은 YYYYMMDD 형식으로 입력해주세요."),!1;const V=Number(d.birthDay.substring(0,4)),J=Number(d.birthDay.substring(4,6)),Q=Number(d.birthDay.substring(6,8));if(V<1900||V>2100)return A("출생 연도는 1900~2100년 사이여야 합니다."),!1;if(J<1||J>12)return A("출생 월은 01~12 사이여야 합니다."),!1;if(Q<1||Q>31)return A("출생 일은 01~31 사이여야 합니다."),!1;if(d.calendarType==="solar"){const nt=new Date(V,J-1,Q);if(nt.getFullYear()!==V||nt.getMonth()+1!==J||nt.getDate()!==Q)return A("존재하지 않는 날짜입니다."),!1}else try{qm(V,J,Q)}catch(nt){return A(nt instanceof Error?nt.message:"음력 날짜가 유효하지 않습니다."),!1}}if(P.key==="birthTime"){if(!d.birthTime&&!v)return A("태어난 시간을 입력하거나 '모름'을 체크해야 합니다."),!1;if(d.birthTime){const B=Number(d.birthTime);if(Number.isNaN(B)||B<0||B>2359)return A("태어난 시간은 0000–2359 범위여야 합니다."),!1;const V=Number(d.birthTime.slice(0,2)),J=Number(d.birthTime.slice(2,4));if(V>23||J>59)return A("태어난 시간은 0000–2359 범위여야 합니다."),!1}}return P.key==="birthPlace"&&!d.birthPlace&&!w?(A("태어난 지역을 선택하거나 '모름'을 체크해야 합니다."),!1):!0},$=()=>{if(!j())return;if(s<sc.length-1){u(s+1);return}const P=Gs(d.folder),B=!d.birthTime||d.birthTime==="모름",V=!d.birthPlace||typeof d.birthPlace=="object"&&d.birthPlace.name==="모름";let J=Number(d.birthDay.slice(0,4)),Q=Number(d.birthDay.slice(4,6)),nt=Number(d.birthDay.slice(6,8));if(d.calendarType==="lunar"){const at=qm(J,Q,nt);J=at.y,Q=at.m,nt=at.d}const rt=B?0:Number(d.birthTime.slice(0,2)||"0"),K=B?0:Number(d.birthTime.slice(2,4)||"0"),I=new Date(J,Q-1,nt,rt,K,0,0),X=w||!d.birthPlace||d.birthPlace.lon===0?127.5:d.birthPlace.lon,ft=Xs(I,X,V),gt=d.mingSikType??"야자시",Z=B?"":ft.toLocaleTimeString("ko-KR",{hour:"2-digit",minute:"2-digit"}),lt=De(ft,X),F=an(ft,X),G=Pe(ft,gt),M=B?null:Cr(ft,gt),H=[`원국 : ${lt}년 ${F}월 ${G}일`,M?`${M}시`:null].filter(Boolean).join(" ");function U(at,wt){const Dt=["甲","丙","戊","庚","壬","갑","병","무","경","임"].includes(at),$t=wt==="남자";return Dt?$t?"forward":"backward":$t?"backward":"forward"}const W=lt.charAt(0),et=U(W,d.gender??"남자"),ut={id:xx(),name:d.name?.trim()||"이름없음",birthDay:d.birthDay||"",birthTime:B?"모름":d.birthTime||"",gender:d.gender??"남자",birthPlace:w?{name:"모름",lat:0,lon:127.5}:d.birthPlace??{name:"",lat:0,lon:127.5},relationship:d.relationship??"",memo:d.memo??"",mingSikType:d.mingSikType??"야자시",DayChangeRule:d.mingSikType==="인시"?"인시일수론":"자시일수론",folder:P,correctedLocal:Z,ganji:H,calendarType:d.calendarType??"solar",dir:et,corrected:ft,dateObj:d.dateObj||new Date,dayStem:d.dayStem||"갑",ganjiText:d.ganjiText||"갑자년 갑자월 갑자일 갑자시"};o(ut),t(ut),b("저장 완료!"),h({gender:"남자",mingSikType:"야자시",calendarType:"solar"}),x(!1),S(!1),u(0)},z=P=>{if(P.key!=="Enter")return;const B=P.target,V=B.getAttribute("role");if(V==="radio"||V==="checkbox")return;const J=document.getElementById("mapModal");if(J&&J.contains(B))return;const Q=B.tagName.toLowerCase(),nt=B instanceof HTMLInputElement?B.type:"";if(Q==="textarea"){if(P.shiftKey)return;P.preventDefault(),$();return}if(nt==="radio"||nt==="checkbox"){P.preventDefault(),B instanceof HTMLInputElement&&B.click();return}Q==="button"&&B.type!=="submit"||(P.preventDefault(),$())},C=P=>{switch(P){case"birthPlace":return w?"모름":d.birthPlace?.name||"";case"birthTime":return v?"모름":d.birthTime||"";case"folder":return d.folder?String(d.folder):Sn;default:{const V=d[P];return typeof V=="string"?V:V!=null?String(V):""}}};return g.jsxs("div",{className:"mx-auto mt-10 space-y-2 max-w-[640px] w-[96%] text-neutral-900 dark:text-neutral-100",children:[p&&g.jsx(B1,{message:p,onClose:()=>b(null)}),sc.slice(0,s).map((P,B)=>g.jsxs("button",{onClick:()=>u(B),className:"p-3 rounded-lg bg-neutral-100 dark:bg-neutral-900 border border-neutral-200 dark:border-neutral-800 flex justify-between w-full text-left hover:bg-neutral-200 dark:hover:bg-neutral-800/80 transition-colors",children:[g.jsx("span",{className:"font-semibold",children:P.label}),g.jsx("span",{className:"text-neutral-600 dark:text-neutral-300",children:C(P.key)})]},P.key)),g.jsx("div",{className:"p-4 border rounded-lg shadow current-step bg-white dark:bg-neutral-900 border-neutral-200 dark:border-neutral-800",children:g.jsxs("form",{onSubmit:P=>{P.preventDefault(),$()},onKeyDown:z,children:[g.jsx("label",{className:"block mb-2 font-bold",children:E.label}),E.key==="name"&&g.jsx("input",{type:"text",className:"w-full border rounded-lg p-2 bg-white dark:bg-neutral-900 border-neutral-300 dark:border-neutral-700 placeholder-neutral-400 dark:placeholder-neutral-500 text-neutral-900 dark:text-neutral-100",placeholder:E.placeholder,value:d.name||"",onChange:P=>h({...d,name:P.target.value})}),E.key==="birthDay"&&g.jsxs("div",{className:"space-y-2",children:[g.jsxs("div",{className:"flex gap-1 items-center",children:[g.jsx("input",{type:"text",className:"flex-1 border rounded-lg p-2 bg-white dark:bg-neutral-900 border-neutral-300 dark:border-neutral-700 placeholder-neutral-400 dark:placeholder-neutral-500 text-neutral-900 dark:text-neutral-100",placeholder:E.placeholder,value:d.birthDay||"",onChange:P=>{const B=P.target.value.replace(/\D/g,"");h({...d,birthDay:B.slice(0,8)})},inputMode:"numeric",pattern:"\\d*",maxLength:8}),g.jsx("fieldset",{role:"radiogroup","aria-label":"달력 유형",className:"flex gap-1 text-sm",children:lc.map(({value:P,label:B,id:V})=>{const J=d.calendarType===P;return g.jsxs("span",{className:"inline-flex items-center gap-1",children:[g.jsx("input",{id:V,name:"calendarType",type:"radio",style:{display:"none"}}),g.jsx("label",{htmlFor:V,id:`${V}_lbl`,role:"radio","aria-checked":J,tabIndex:0,className:`cursor-pointer select-none px-2 py-1 rounded-md border
                                     border-neutral-300 dark:border-neutral-700
                                     bg-white dark:bg-neutral-900
                                     focus-visible:outline focus-visible:outline-2 focus-visible:outline-amber-500
                                     data-[checked=true]:border-amber-400 data-[checked=true]:bg-amber-50
                                     dark:data-[checked=true]:bg-amber-500/10`,"data-checked":J?"true":"false",onKeyDown:Q=>{if(Q.stopPropagation(),Q.key===" "||Q.key==="Enter"){Q.preventDefault(),h({...d,calendarType:P});return}if(!["ArrowRight","ArrowLeft","ArrowUp","ArrowDown","Home","End"].includes(Q.key))return;Q.preventDefault();const rt=lc.findIndex(X=>X.value===d.calendarType),K=Vm(rt<0?0:rt,lc.length,Q.key),I=lc[K].value;h({...d,calendarType:I}),Km(`${lc[K].id}_lbl`)},onClick:Q=>{Q.preventDefault(),h({...d,calendarType:P})},children:B})]},P)})})]}),d.calendarType==="lunar"&&g.jsx("div",{className:"flex items-center justify-end",children:g.jsx("span",{className:"text-xs text-neutral-600 dark:text-neutral-300",children:D})}),d.birthDay&&d.birthDay.length===8&&(()=>{const P=Number(d.birthDay.slice(0,4)),B=Number(d.birthDay.slice(4,6)),V=Number(d.birthDay.slice(6,8));return Fd(P,B,V)?g.jsx("div",{className:"text-xs text-red-600 dark:text-red-400 mt-1",children:"썸머타임 명식입니다."}):null})()]}),E.key==="birthTime"&&g.jsxs("div",{className:"space-y-2",children:[g.jsx("input",{type:"text",className:"w-full border rounded-lg p-2 disabled:opacity-50 bg-white dark:bg-neutral-900 border-neutral-300 dark:border-neutral-700 placeholder-neutral-400 dark:placeholder-neutral-500 text-neutral-900 dark:text-neutral-100",placeholder:E.placeholder,value:v?"":d.birthTime||"",onChange:P=>{const B=P.target.value.replace(/\D/g,"");h({...d,birthTime:B.slice(0,4)})},inputMode:"numeric",pattern:"\\d*",maxLength:4,disabled:v}),g.jsxs("span",{className:"inline-flex items-center gap-1",children:[g.jsx("input",{id:"birthTimeX",type:"checkbox",style:{display:"none"}}),g.jsx("label",{htmlFor:"birthTimeX",role:"checkbox","aria-checked":v,tabIndex:0,className:`text-sm select-none cursor-pointer px-2 py-1 rounded-md border
                             border-neutral-300 dark:border-neutral-700
                             bg-white dark:bg-neutral-900
                             focus-visible:outline focus-visible:outline-2 focus-visible:outline-amber-500
                             data-[checked=true]:border-amber-400 data-[checked=true]:bg-amber-50
                             dark:data-[checked=true]:bg-amber-500/10`,"data-checked":v?"true":"false",onKeyDown:P=>{P.stopPropagation(),(P.key===" "||P.key==="Enter")&&(P.preventDefault(),x(!v))},onClick:P=>{P.preventDefault(),x(!v)},children:"모름"})]})]}),E.key==="mingSikType"&&g.jsx("fieldset",{role:"radiogroup","aria-label":"명식 기준",className:"flex flex-wrap gap-3",children:md.map(P=>{const B=`ming_${P}`,V=(d.mingSikType??"야자시")===P;return g.jsxs("span",{className:"inline-flex items-center gap-1",children:[g.jsx("input",{id:B,name:"mingSikType",type:"radio",style:{display:"none"}}),g.jsxs("label",{htmlFor:B,id:`${B}_lbl`,role:"radio","aria-checked":V,tabIndex:0,className:`cursor-pointer select-none px-2 py-1 rounded-md border
                                 border-neutral-300 dark:border-neutral-700
                                 bg-white dark:bg-neutral-900
                                 focus-visible:outline focus-visible:outline-2 focus-visible:outline-amber-500
                                 data-[checked=true]:border-amber-400 data-[checked=true]:bg-amber-50
                                 dark:data-[checked=true]:bg-amber-500/10`,"data-checked":V?"true":"false",onKeyDown:J=>{if(J.stopPropagation(),J.key===" "||J.key==="Enter"){J.preventDefault(),h({...d,mingSikType:P});return}if(!["ArrowRight","ArrowLeft","ArrowUp","ArrowDown","Home","End"].includes(J.key))return;J.preventDefault();const nt=d.mingSikType??"야자시",rt=md.indexOf(nt),K=Vm(rt,md.length,J.key),I=md[K];h({...d,mingSikType:I}),Km(`ming_${I}_lbl`)},onClick:J=>{J.preventDefault(),h({...d,mingSikType:P})},children:[P,"명식"]})]},P)})}),E.key==="gender"&&g.jsx("fieldset",{role:"radiogroup","aria-label":"성별",className:"flex gap-2",children:pd.map(P=>{const B=`gender_${P}`,V=(d.gender??"남자")===P;return g.jsxs("span",{className:"inline-flex items-center gap-1",children:[g.jsx("input",{id:B,name:"gender",type:"radio",style:{display:"none"}}),g.jsx("label",{htmlFor:B,id:`${B}_lbl`,role:"radio","aria-checked":V,tabIndex:0,className:`cursor-pointer select-none px-2 py-1 rounded-md border
                                 border-neutral-300 dark:border-neutral-700
                                 bg-white dark:bg-neutral-900
                                 focus-visible:outline focus-visible:outline-2 focus-visible:outline-amber-500
                                 data-[checked=true]:border-amber-400 data-[checked=true]:bg-amber-50
                                 dark:data-[checked=true]:bg-amber-500/10`,"data-checked":V?"true":"false",onKeyDown:J=>{if(J.stopPropagation(),J.key===" "||J.key==="Enter"){J.preventDefault(),h({...d,gender:P});return}if(!["ArrowRight","ArrowLeft","ArrowUp","ArrowDown","Home","End"].includes(J.key))return;J.preventDefault();const nt=d.gender??"남자",rt=pd.indexOf(nt),K=Vm(rt,pd.length,J.key),I=pd[K];h({...d,gender:I}),Km(`gender_${I}_lbl`)},onClick:J=>{J.preventDefault(),h({...d,gender:P})},children:P})]},P)})}),E.key==="birthPlace"&&g.jsxs("div",{className:"space-y-2",children:[g.jsx(Sx,{onSelect:P=>h({...d,birthPlace:P})}),g.jsxs("span",{className:"inline-flex items-center gap-1",children:[g.jsx("input",{id:"birthPlaceX",type:"checkbox",style:{display:"none"}}),g.jsx("label",{htmlFor:"birthPlaceX",role:"checkbox","aria-checked":w,tabIndex:0,className:`text-sm select-none cursor-pointer px-2 py-1 rounded-md border
                             border-neutral-300 dark:border-neutral-700
                             bg-white dark:bg-neutral-900
                             focus-visible:outline focus-visible:outline-2 focus-visible:outline-amber-500
                             data-[checked=true]:border-amber-400 data-[checked=true]:bg-amber-50
                             dark:data-[checked=true]:bg-amber-500/10`,"data-checked":w?"true":"false",onKeyDown:P=>{P.stopPropagation(),(P.key===" "||P.key==="Enter")&&(P.preventDefault(),S(!w))},onClick:P=>{P.preventDefault(),S(!w)},children:"모름"})]})]}),E.key==="relationship"&&g.jsx(O1,{value:d.relationship||"",onChange:P=>h({...d,relationship:P})}),E.key==="folder"&&g.jsx(zA,{value:Gs(d.folder),onChange:P=>h({...d,folder:P})}),E.key==="memo"&&g.jsx("textarea",{className:"w-full border rounded-lg p-2 bg-white dark:bg-neutral-900 border-neutral-300 dark:border-neutral-700 placeholder-neutral-400 dark:placeholder-neutral-500 text-neutral-900 dark:text-neutral-100",placeholder:E.placeholder,value:d.memo||"",onChange:P=>h({...d,memo:P.target.value})}),g.jsxs("div",{className:"flex justify-between gap-2",children:[g.jsx("button",{className:"mt-4 w-full btn_style btn_secondary dark:focus:ring-amber-500",onClick:i,children:"닫기"}),g.jsx("button",{type:"submit",className:"mt-4 w-full btn_style dark:focus:ring-amber-500",children:s===sc.length-1?"저장하기":"확인"})]})]})})]})}var gd={},Cv;function KA(){if(Cv)return gd;Cv=1,gd.match=d,gd.parse=h;var t=/(?:(only|not)?\s*([^\s\(\)]+)(?:\s*and)?\s*)?(.+)?/i,i=/\(\s*([^\s\:\)]+)\s*(?:\:\s*([^\s\)]+))?\s*\)/,o=/^(?:(min|max)-)?(.+)/,s=/(em|rem|px|cm|mm|in|pt|pc)?$/,u=/(dpi|dpcm|dppx)?$/;function d(x,w){return h(x).some(function(S){var E=S.inverse,A=S.type==="all"||w.type===S.type;if(A&&E||!(A||E))return!1;var D=S.expressions.every(function(j){var $=j.feature,z=j.modifier,C=j.value,P=w[$];if(!P)return!1;switch($){case"orientation":case"scan":return P.toLowerCase()===C.toLowerCase();case"width":case"height":case"device-width":case"device-height":C=v(C),P=v(P);break;case"resolution":C=b(C),P=b(P);break;case"aspect-ratio":case"device-aspect-ratio":case"device-pixel-ratio":C=p(C),P=p(P);break;case"grid":case"color":case"color-index":case"monochrome":C=parseInt(C,10)||1,P=parseInt(P,10)||0;break}switch(z){case"min":return P>=C;case"max":return P<=C;default:return P===C}});return D&&!E||!D&&E})}function h(x){return x.split(",").map(function(w){w=w.trim();var S=w.match(t),E=S[1],A=S[2],D=S[3]||"",j={};return j.inverse=!!E&&E.toLowerCase()==="not",j.type=A?A.toLowerCase():"all",D=D.match(/\([^\)]+\)/g)||[],j.expressions=D.map(function($){var z=$.match(i),C=z[1].toLowerCase().match(o);return{modifier:C[1],feature:C[2],value:z[2]}}),j})}function p(x){var w=Number(x),S;return w||(S=x.match(/^(\d+)\s*\/\s*(\d+)$/),w=S[1]/S[2]),w}function b(x){var w=parseFloat(x),S=String(x).match(u)[1];switch(S){case"dpcm":return w/2.54;case"dppx":return w*96;default:return w}}function v(x){var w=parseFloat(x),S=String(x).match(s)[1];switch(S){case"em":return w*16;case"rem":return w*16;case"cm":return w*96/2.54;case"mm":return w*96/2.54/10;case"in":return w*96;case"pt":return w*72;case"pc":return w*72/12;default:return w}}return gd}var Fm,Ov;function FA(){if(Ov)return Fm;Ov=1;var t=KA().match,i=typeof window<"u"?window.matchMedia:null;function o(u,d,h){var p=this,b;i&&!h&&(b=i.call(window,u)),b?(this.matches=b.matches,this.media=b.media,b.addListener(w)):(this.matches=t(u,d),this.media=u),this.addListener=v,this.removeListener=x,this.dispose=S;function v(E){b&&b.addListener(E)}function x(E){b&&b.removeListener(E)}function w(E){p.matches=E.matches,p.media=E.media}function S(){b&&b.removeListener(w)}}function s(u,d,h){return new o(u,d,h)}return Fm=s,Fm}var XA=FA();const WA=Ys(XA);var QA=/[A-Z]/g,JA=/^ms-/,Xm={};function t7(t){return"-"+t.toLowerCase()}function P1(t){if(Xm.hasOwnProperty(t))return Xm[t];var i=t.replace(QA,t7);return Xm[t]=JA.test(i)?"-"+i:i}function e7(t,i){if(t===i)return!0;if(!t||!i)return!1;const o=Object.keys(t),s=Object.keys(i),u=o.length;if(s.length!==u)return!1;for(let d=0;d<u;d++){const h=o[d];if(t[h]!==i[h]||!Object.prototype.hasOwnProperty.call(i,h))return!1}return!0}var Wm={exports:{}},Qm,Lv;function n7(){if(Lv)return Qm;Lv=1;var t="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return Qm=t,Qm}var Jm,Bv;function r7(){if(Bv)return Jm;Bv=1;var t=n7();function i(){}function o(){}return o.resetWarningCache=i,Jm=function(){function s(h,p,b,v,x,w){if(w!==t){var S=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw S.name="Invariant Violation",S}}s.isRequired=s;function u(){return s}var d={array:s,bigint:s,bool:s,func:s,number:s,object:s,string:s,symbol:s,any:s,arrayOf:u,element:s,elementType:s,instanceOf:u,node:s,objectOf:u,oneOf:u,oneOfType:u,shape:u,exact:u,checkPropTypes:o,resetWarningCache:i};return d.PropTypes=d,d},Jm}var Rv;function i7(){return Rv||(Rv=1,Wm.exports=r7()()),Wm.exports}var a7=i7();const ue=Ys(a7),zn=ue.oneOfType([ue.string,ue.number]),z1={all:ue.bool,grid:ue.bool,aural:ue.bool,braille:ue.bool,handheld:ue.bool,print:ue.bool,projection:ue.bool,screen:ue.bool,tty:ue.bool,tv:ue.bool,embossed:ue.bool},o7={orientation:ue.oneOf(["portrait","landscape"]),scan:ue.oneOf(["progressive","interlace"]),aspectRatio:ue.string,deviceAspectRatio:ue.string,height:zn,deviceHeight:zn,width:zn,deviceWidth:zn,color:ue.bool,colorIndex:ue.bool,monochrome:ue.bool,resolution:zn,type:Object.keys(z1)},{type:OO,...s7}=o7,l7={minAspectRatio:ue.string,maxAspectRatio:ue.string,minDeviceAspectRatio:ue.string,maxDeviceAspectRatio:ue.string,minHeight:zn,maxHeight:zn,minDeviceHeight:zn,maxDeviceHeight:zn,minWidth:zn,maxWidth:zn,minDeviceWidth:zn,maxDeviceWidth:zn,minColor:ue.number,maxColor:ue.number,minColorIndex:ue.number,maxColorIndex:ue.number,minMonochrome:ue.number,maxMonochrome:ue.number,minResolution:zn,maxResolution:zn,...s7},c7={...z1,...l7};var u7={all:c7};const d7=t=>`not ${t}`,f7=(t,i)=>{const o=P1(t);return typeof i=="number"&&(i=`${i}px`),i===!0?o:i===!1?d7(o):`(${o}: ${i})`},h7=t=>t.join(" and "),m7=t=>{const i=[];return Object.keys(u7.all).forEach(o=>{const s=t[o];s!=null&&i.push(f7(o,s))}),h7(i)},p7=R.createContext(void 0),g7=t=>t.query||m7(t),Pv=t=>t?Object.keys(t).reduce((o,s)=>(o[P1(s)]=t[s],o),{}):void 0,H1=()=>{const t=R.useRef(!1);return R.useEffect(()=>{t.current=!0},[]),t.current},b7=t=>{const i=R.useContext(p7),o=()=>Pv(t)||Pv(i),[s,u]=R.useState(o);return R.useEffect(()=>{const d=o();e7(s,d)||u(d)},[t,i]),s},y7=t=>{const i=()=>g7(t),[o,s]=R.useState(i);return R.useEffect(()=>{const u=i();o!==u&&s(u)},[t]),o},v7=(t,i)=>{const o=()=>WA(t,i||{},!!i),[s,u]=R.useState(o),d=H1();return R.useEffect(()=>{if(d){const h=o();return u(h),()=>{h&&h.dispose()}}},[t,i]),s},_7=t=>{const[i,o]=R.useState(t.matches);return R.useEffect(()=>{const s=u=>{o(u.matches)};return t.addListener(s),o(t.matches),()=>{t.removeListener(s)}},[t]),i},x7=(t,i,o)=>{const s=b7(i),u=y7(t);if(!u)throw new Error("Invalid or missing MediaQuery!");const d=v7(u,s),h=_7(d);return H1(),R.useEffect(()=>{},[h]),R.useEffect(()=>()=>{d&&d.dispose()},[]),h},$1=(()=>{const t=[];for(let i=0;i<60;i++)t.push(`${ui[i%10]}${Yi[i%12]}`);return t})();function S7(t){const i=$1.indexOf(t);if(i<0)throw new Error(`Unknown 간지: ${t}`);return i}function Qd(t,i,o=1){const s=S7(t),u=i==="forward"?o:-o;return $1[(s+u+60*1e3)%60]}const w7=60*1e3,T7=60*w7,E7=24*T7;function M7(t,i){const o=new Date(t.getTime()),s=o.getFullYear()+i,u=o.getMonth(),d=o.getDate();return new Date(Date.UTC(s,u,d,o.getUTCHours(),o.getUTCMinutes()))}function Pp(t){const i=new Date(t);return i.setSeconds(0,0),i}function N7(t,i,o){const s=t.getHours(),u=o==="야자시"?(Math.floor((s+1)/2)*2-1+24)%24:(Math.floor(s/2)*2+1)%24,d=new Date(t);d.setHours(u,0,0,0);const h=new Date(d);h.setHours(u+2,0,0,0);const p=t.getTime()-d.getTime(),b=h.getTime()-t.getTime();return i==="backward"?p:b}function I1(t,i,o,s=120,u="야자시"){const d=Pp(t),h=N7(d,o,u),p=Pp(new Date(d.getTime()+h*120)),b=M7(t,s).getTime(),v=[];let x=Qd(i,o,1);for(let w=p.getTime();w<=b;w+=10*E7)v.push({at:new Date(w),gz:x}),x=Qd(x,o,1);return{firstChange:p,events:v}}function U1(t,i){const o=i==="forward"?t==="자시일수론"?"자":"인":t==="자시일수론"?"해":"축";return s=>s===o}function G1(t,i,o,s){const u=U1(s,o);let d=i;const h=[];for(const p of t.events){const b=p.gz.charAt(1);u(b)&&(d=Qd(d,o,1),h.push({at:p.at,gz:d}))}return{events:h}}function Z1(t){const i=t.getFullYear(),o=[{deg:315,name:"입춘"},{deg:345,name:"경칩"},{deg:15,name:"청명"},{deg:45,name:"입하"},{deg:75,name:"망종"},{deg:105,name:"소서"},{deg:135,name:"입추"},{deg:165,name:"백로"},{deg:195,name:"한로"},{deg:225,name:"입동"},{deg:255,name:"대설"},{deg:285,name:"소한"}],s={deg:315,name:"다음입춘"},u=o.map(p=>({name:p.name,date:en(i,p.deg)})).concat([{name:s.name,date:en(i+1,s.deg)},{name:"소한",date:en(i+1,285)}]),d=en(i,315),h=en(i+1,315);return u.filter(p=>p.date>=d&&p.date<h).sort((p,b)=>p.date.getTime()-b.date.getTime())}const D7={갑:"甲",을:"乙",병:"丙",정:"丁",무:"戊",기:"己",경:"庚",신:"辛",임:"壬",계:"癸"},A7={자:"子",축:"丑",인:"寅",묘:"卯",진:"辰",사:"巳",오:"午",미:"未",신:"申",유:"酉",술:"戌",해:"亥"},j7=t=>D7[t]??("甲乙丙丁戊己庚辛壬癸".includes(t)?t:null),k7=t=>A7[t]??("子丑寅卯辰巳午未申酉戌亥".includes(t)?t:null);function zv(t){const i=j7(t[0]),o=k7(t[1]);if(!i||!o)throw new Error(`Invalid GZ: ${t}`);return`${i}${o}`}function Ef(t,i,o,s=120,u){function d(C){return C instanceof Date||(C=new Date(C)),Math.floor((C.getHours()+1)%24/2)}function h(C){return["子","丑","寅","卯","辰","巳","午","未","申","酉","戌","亥"][d(C)]}function p(C,P,B){const V=C.charAt(0),J=C.charAt(1),Q=ui.indexOf(V),nt=Yi.indexOf(J),rt=P==="forward"?B:-B,K=(Q+rt%10+10)%10,I=(nt+rt%12+12)%12;return ui[K]+Yi[I]}const b=Z1(t).sort((C,P)=>C.date.getTime()-P.date.getTime());let v;if(o==="forward"){const C=b.findIndex(P=>P.date>=t);C>=0&&(v=b[C].date)}else{const C=b.filter(P=>P.date<=t);C.length&&(v=C[C.length-1].date)}function x(C,P){const B=h(C),V={子:23,丑:1,寅:3,卯:5,辰:7,巳:9,午:11,未:13,申:15,酉:17,戌:19,亥:21},J=V[B],Q=(J+2)%24,nt=new Date(C);if(nt.setSeconds(0,0),o==="backward"&&P){const K=h(P),I=V[K],X=new Date(P);return X.setHours(I,0,0,0),X}if(o==="forward"&&P){const K=h(P),I=V[K],X=new Date(P);if(X.setHours(I,0,0,0),X>nt)return X}const rt=new Date(nt);return o==="forward"?(rt.setHours(Q,0,0,0),rt<=nt&&rt.setDate(rt.getDate()+1)):(rt.setHours(J,0,0,0),rt>=nt&&rt.setDate(rt.getDate()-1)),rt}new Date(t).setSeconds(0,0);const S=zv(an(t,127.5)),E=x(t,v),A=Math.floor(o==="forward"?(E.getTime()-t.getTime())/6e4:(t.getTime()-E.getTime())/6e4),D=Math.round(A/120*(14400*60*1e3));let j=new Date(t.getTime()+D);try{const C=zv(an(t,u));(o==="forward"&&S!==C||o==="backward"&&S!==C)&&(j=new Date(t.getTime()+6e4))}catch{}const $=s/10,z=[];for(let C=0;C<$;C++){const P=new Date(j);P.setFullYear(P.getFullYear()+C*10),P.setSeconds(0,0);const B=p(i,o,C+1);z.push({at:P,gz:B})}return{natalMonthPillar:i,firstChange:j,mPillars:[],events:z}}function C7(t,i){const s=(i.getTime()-t.getTime())/(365.2425*24*60*60*1e3);return Math.max(0,Math.floor(s))}function Y1(t,i,o,s,u){const d=U1(s,o);let h=i;const p=[];for(const b of t.events){const v=b.gz.charAt(1);d(v)&&(h=Qd(h,o,1),p.push({at:b.at,gz:h,age:C7(u,b.at)}))}return{events:p}}function O7(t){const i=Number(t.birthDay.slice(0,4)),o=Number(t.birthDay.slice(4,6)),s=Number(t.birthDay.slice(6,8));let u=12,d=0;return t.birthTime&&t.birthTime!=="모름"&&/^\d{4}$/.test(t.birthTime)&&(u=Number(t.birthTime.slice(0,2)),d=Number(t.birthTime.slice(2,4))),new Date(i,o-1,s,u,d,0,0)}function Pc(t){const i=O7(t),o=!t.birthPlace||typeof t.birthPlace=="object"&&t.birthPlace.name==="모름",s=Xs(i,t.birthPlace?.lon??null,o);return Pp(s)}function _0(t,i){const o=t.birthPlace?.lon??127.5,s=Pc(t),u=Pe(s,i),d=Cr(s,i,u.charAt(0));return{year:De(s,o),month:an(s,o),day:u,hour:d}}const L7=(()=>{const t=[];for(let i=0;i<60;i++)t.push(`${ui[i%10]}${Yi[i%12]}`);return t})(),B7=t=>L7.indexOf(t),tp=t=>{if(B7(t)<0)throw new Error(`Unknown 간지: ${t}`);return{stem:t[0],branch:t[1]}};function x0(t){return typeof t=="object"&&t!==null}function R7(t){return x0(t)&&"default"in t}function P7(t){return x0(t)&&typeof t.lunar2solar=="function"}function z7(t){if(!x0(t))throw new Error("Invalid lunar2solar result");const i=t.cYear,o=t.cMonth,s=t.cDay,u=t.isLeap;if(typeof i!="number"||typeof o!="number"||typeof s!="number")throw new Error("Invalid lunar2solar fields");return{cYear:i,cMonth:o,cDay:s,isLeap:typeof u=="boolean"?u:void 0}}function H7(t){const i=R7(t)?t.default:t;if(!P7(i))throw new Error("solarlunar.lunar2solar not found");return{lunar2solar:(s,u,d,h)=>{const p=i.lunar2solar(s,u,d,!!h);return z7(p)}}}const $7=H7(Fi),Hv=t=>t<10?`0${t}`:`${t}`;function S0(t){const i=t,o=typeof i.birthDay=="string"?i.birthDay:"",s=typeof i.calendarType=="string"?i.calendarType:"solar";if(o.length<8||s!=="lunar")return t;const u=Number(o.slice(0,4)),d=Number(o.slice(4,6)),h=Number(o.slice(6,8)),p=["isLeap","isLeapMonth","leapMonth","leap","lunarLeap"];let b=!1;for(const v of p){const x=i[v];if(typeof x=="boolean"){b=x;break}if(typeof x=="number"){b=x===1;break}if(typeof x=="string"){b=x==="1"||x.toLowerCase()==="true";break}}try{const v=$7.lunar2solar(u,d,h,b),x=`${v.cYear}${Hv(v.cMonth)}${Hv(v.cDay)}`;return{...t,birthDay:x,calendarType:"solar"}}catch{return t}}function I7(t,i="야자시"){const o=R.useMemo(()=>S0(t),[t]),s=R.useMemo(()=>Pc(o),[o]),u=R.useMemo(()=>_0(o,i),[o,i]);return R.useMemo(()=>{const d=Ef(s,u.month,o.dir,120,o?.birthPlace?.lon??127.5),h=new Date;function p(C,P){let B=null;const V=P.getTime();for(const J of C)if(J.at.getTime()<=V)B=J;else break;return B}const b=p(d.events,h)?.gz??u.month,v=tp(b),x=h.getFullYear(),w=en(x,315),E=w&&h>=w?x:x-1,A=De(new Date(E,1,10,0,0,0),127.5),D=tp(A),j=an(h,127.5),$=tp(j),z=[];return $&&z.push({key:"wolun",label:"월운",data:$}),D&&z.push({key:"seun",label:"세운",data:D}),v&&z.push({key:"daeun",label:"대운",data:v}),z},[s,o.dir,u.month,o.birthPlace?.lon])}function vc(t){const i=o=>o.toString().padStart(2,"0");return`${t.getFullYear()}년 ${i(t.getMonth()+1)}월 ${i(t.getDate())}일 ${i(t.getHours())}시 ${i(t.getMinutes())}분`}function Bs(t){return t<10?`0${t}`:`${t}`}function U7(t){return`${Bs(t.getHours())}:${Bs(t.getMinutes())}`}function G7(t){return`${t.getFullYear()}-${Bs(t.getMonth()+1)}-${Bs(t.getDate())} ${Bs(t.getHours())}:${Bs(t.getMinutes())}`}const Ho={Classic:"고전",Modern:"현대"};function qi(t,i){const s={갑:{자:"목욕",축:"관대",인:"건록",묘:"제왕",진:"쇠",사:"병",오:"사",미:"묘",신:"절",유:"태",술:"양",해:"장생"},을:{자:"병",축:"쇠",인:"제왕",묘:"건록",진:"관대",사:"목욕",오:"장생",미:"양",신:"태",유:"절",술:"묘",해:"사"},병:{자:"태",축:"양",인:"장생",묘:"목욕",진:"관대",사:"건록",오:"제왕",미:"쇠",신:"병",유:"사",술:"묘",해:"절"},정:{자:"절",축:"묘",인:"사",묘:"병",진:"쇠",사:"제왕",오:"건록",미:"관대",신:"목욕",유:"장생",술:"양",해:"태"},무:{자:"태",축:"양",인:"장생",묘:"목욕",진:"관대",사:"건록",오:"제왕",미:"쇠",신:"병",유:"사",술:"묘",해:"절"},기:{자:"절",축:"묘",인:"사",묘:"병",진:"쇠",사:"제왕",오:"건록",미:"관대",신:"목욕",유:"장생",술:"양",해:"태"},경:{자:"사",축:"묘",인:"절",묘:"태",진:"양",사:"장생",오:"목욕",미:"관대",신:"건록",유:"제왕",술:"쇠",해:"병"},신:{자:"장생",축:"양",인:"태",묘:"절",진:"묘",사:"사",오:"병",미:"쇠",신:"제왕",유:"건록",술:"관대",해:"목욕"},임:{자:"제왕",축:"쇠",인:"병",묘:"사",진:"묘",사:"절",오:"태",미:"양",신:"장생",유:"목욕",술:"관대",해:"건록"},계:{자:"건록",축:"관대",인:"목욕",묘:"장생",진:"양",사:"태",오:"절",미:"묘",신:"사",유:"병",술:"쇠",해:"제왕"}}[t];return s?s[i]??"":""}function Z7(t,i){return{자:{자:"장성",축:"반안",인:"역마",묘:"육해",진:"화개",사:"겁살",오:"재살",미:"천살",신:"지살",유:"년살",술:"월살",해:"망신"},축:{자:"망신",축:"장성",인:"반안",묘:"역마",진:"육해",사:"화개",오:"겁살",미:"재살",신:"천살",유:"지살",술:"년살",해:"월살"},인:{자:"월살",축:"망신",인:"장성",묘:"반안",진:"역마",사:"육해",오:"화개",미:"겁살",신:"재살",유:"천살",술:"지살",해:"년살"},묘:{자:"년살",축:"월살",인:"망신",묘:"장성",진:"반안",사:"역마",오:"육해",미:"화개",신:"겁살",유:"재살",술:"천살",해:"지살"},진:{자:"지살",축:"년살",인:"월살",묘:"망신",진:"장성",사:"반안",오:"역마",미:"육해",신:"화개",유:"겁살",술:"재살",해:"천살"},사:{자:"천살",축:"지살",인:"년살",묘:"월살",진:"망신",사:"장성",오:"반안",미:"역마",신:"육해",유:"화개",술:"겁살",해:"재살"},오:{자:"재살",축:"천살",인:"지살",묘:"년살",진:"월살",사:"망신",오:"장성",미:"반안",신:"역마",유:"육해",술:"화개",해:"겁살"},미:{자:"겁살",축:"재살",인:"천살",묘:"지살",진:"년살",사:"월살",오:"망신",미:"장성",신:"반안",유:"역마",술:"육해",해:"화개"},신:{자:"화개",축:"겁살",인:"재살",묘:"천살",진:"지살",사:"년살",오:"월살",미:"망신",신:"장성",유:"반안",술:"역마",해:"육해"},유:{자:"육해",축:"화개",인:"겁살",묘:"재살",진:"천살",사:"지살",오:"년살",미:"월살",신:"망신",유:"장성",술:"반안",해:"역마"},술:{자:"역마",축:"육해",인:"화개",묘:"겁살",진:"재살",사:"천살",오:"지살",미:"년살",신:"월살",유:"망신",술:"장성",해:"반안"},해:{자:"반안",축:"역마",인:"육해",묘:"화개",진:"겁살",사:"재살",오:"천살",미:"지살",신:"년살",유:"월살",술:"망신",해:"장성"}}[t]?.[i]??""}function Y7(t,i){const o={해:"묘",묘:"묘",미:"묘",인:"오",오:"오",술:"오",사:"유",유:"유",축:"유",신:"자",자:"자",진:"자"},s={묘:{자:"년살",축:"월살",인:"망신",묘:"장성",진:"반안",사:"역마",오:"육해",미:"화개",신:"겁살",유:"재살",술:"천살",해:"지살"},오:{자:"재살",축:"천살",인:"지살",묘:"년살",진:"월살",사:"망신",오:"장성",미:"반안",신:"역마",유:"육해",술:"화개",해:"겁살"},유:{자:"육해",축:"화개",인:"겁살",묘:"재살",진:"천살",사:"지살",오:"년살",미:"월살",신:"망신",유:"장성",술:"반안",해:"역마"},자:{자:"장성",축:"반안",인:"역마",묘:"육해",진:"화개",사:"겁살",오:"재살",미:"천살",신:"지살",유:"년살",술:"월살",해:"망신"}},u=o[t];return u&&s[u]?s[u][i]??"":""}function q7(t,i){return{자:{자:"장성",축:"반안",인:"역마",묘:"육액",진:"화개",사:"겁살",오:"재살",미:"천살",신:"지살",유:"도화",술:"월살",해:"망신"},축:{자:"망신",축:"장성",인:"반안",묘:"역마",진:"육액",사:"화개",오:"겁살",미:"재살",신:"천살",유:"지살",술:"도화",해:"월살"},인:{자:"월살",축:"망신",인:"장성",묘:"반안",진:"역마",사:"육액",오:"화개",미:"겁살",신:"재살",유:"천살",술:"지살",해:"도화"},묘:{자:"도화",축:"월살",인:"망신",묘:"장성",진:"반안",사:"역마",오:"육액",미:"화개",신:"겁살",유:"재살",술:"천살",해:"지살"},진:{자:"지살",축:"도화",인:"월살",묘:"망신",진:"장성",사:"반안",오:"역마",미:"육액",신:"화개",유:"겁살",술:"재살",해:"천살"},사:{자:"천살",축:"지살",인:"도화",묘:"월살",진:"망신",사:"장성",오:"반안",미:"역마",신:"육액",유:"화개",술:"겁살",해:"재살"},오:{자:"재살",축:"천살",인:"지살",묘:"도화",진:"월살",사:"망신",오:"장성",미:"반안",신:"역마",유:"육액",술:"화개",해:"겁살"},미:{자:"겁살",축:"재살",인:"천살",묘:"지살",진:"도화",사:"월살",오:"망신",미:"장성",신:"반안",유:"역마",술:"육액",해:"화개"},신:{자:"화개",축:"겁살",인:"재살",묘:"천살",진:"지살",사:"도화",오:"월살",미:"망신",신:"장성",유:"반안",술:"역마",해:"육액"},유:{자:"육액",축:"화개",인:"겁살",묘:"재살",진:"천살",사:"지살",오:"도화",미:"월살",신:"망신",유:"장성",술:"반안",해:"역마"},술:{자:"역마",축:"육액",인:"화개",묘:"겁살",진:"재살",사:"천살",오:"지살",미:"도화",신:"월살",유:"망신",술:"장성",해:"반안"},해:{자:"반안",축:"역마",인:"육액",묘:"화개",진:"겁살",사:"재살",오:"천살",미:"지살",신:"도화",유:"월살",술:"망신",해:"장성"}}[t]?.[i]??""}function V7(t,i){const o={해:"묘",묘:"묘",미:"묘",인:"오",오:"오",술:"오",사:"유",유:"유",축:"유",신:"자",자:"자",진:"자"},s={묘:{자:"도화",축:"월살",인:"망신",묘:"장성",진:"반안",사:"역마",오:"육액",미:"화개",신:"겁살",유:"재살",술:"천살",해:"지살"},오:{자:"재살",축:"천살",인:"지살",묘:"도화",진:"월살",사:"망신",오:"장성",미:"반안",신:"역마",유:"육액",술:"화개",해:"겁살"},유:{자:"육액",축:"화개",인:"겁살",묘:"재살",진:"천살",사:"지살",오:"도화",미:"월살",신:"망신",유:"장성",술:"반안",해:"역마"},자:{자:"장성",축:"반안",인:"역마",묘:"육액",진:"화개",사:"겁살",오:"재살",미:"천살",신:"지살",유:"도화",술:"월살",해:"망신"}},u=o[t];return u&&s[u]?s[u][i]??"":""}function Vi(t){const{baseBranch:i,targetBranch:o,era:s,gaehwa:u}=t;return!i||!o?"":s==="고전"?u?Z7(i,o):Y7(i,o):u?q7(i,o):V7(i,o)}function Ds(t,i,o){const s=typeof o=="number"?o:void 0,u=De(t,s),d=an(t,s),h=Pe(t,i);return{yearGZ:u,monthGZ:d,dayGZ:h}}const di=Vp()(Kp((t,i)=>{const o=new Date,s="야자시",u=127.5,d=Ds(o,s,u);return{date:o,scope:"원국만",rule:s,lon:u,...d,setDate:h=>{const{rule:p,lon:b}=i(),v=Ds(h,p,b);t({date:h,...v})},resetDate:()=>{const{rule:h,lon:p}=i(),b=new Date,v=Ds(b,h,p);t({date:b,...v})},setScope:h=>t({scope:h}),setRule:h=>{const{date:p,lon:b}=i(),v=Ds(p,h,b);t({rule:h,...v})},setLon:h=>{const{date:p,rule:b}=i(),v=Ds(p,b,h);t({lon:h,...v})},setFromEvent:(h,p)=>{const{rule:b,lon:v}=i(),x=Ds(h.at,b,v);t({date:h.at,scope:p,...x})}}},{name:"luck-picker-v1",merge:(t,i)=>{const o=t;return o.date&&typeof o.date=="string"&&(o.date=new Date(o.date)),{...i,...o}}}));function Mf(t,i="야자시",o=100){const s=R.useMemo(()=>S0(t),[t]),u=R.useMemo(()=>Pc(s),[s]),d=R.useMemo(()=>_0(s,i),[s,i]),h=(p,b)=>{const v=b.getFullYear()-p.getFullYear(),x=b.getMonth()-p.getMonth(),w=b.getDate()-p.getDate(),S=x<0||x===0&&w<0?v-1:v;return Math.max(0,S)};return R.useMemo(()=>Ef(u,d.month,s.dir,o,s.birthPlace?.lon??127.5).events.map(b=>({...b,age:h(u,b.at)})),[u,d.month,s.dir,o,s.birthPlace?.lon])}function ep(t){return t instanceof Date&&!Number.isNaN(t.getTime())}function K7(t,i){if(!Array.isArray(t)||t.length===0||!ep(i))return{gz:"",at:i,index:-1};const o=t;for(let d=0;d<o.length;d++){const h=o[d],p=o[d+1];if(!ep(h.at))continue;if(i.getTime()>=h.at.getTime()&&(!p||ep(p.at)&&i.getTime()<p.at.getTime()))return{gz:h.gz??"",at:h.at,index:d}}if(i.getTime()<o[0].at.getTime()){const d=o[0];return{gz:d.gz??"",at:d.at,index:0}}const s=o.length-1,u=o[s];return{gz:u.gz??"",at:u.at,index:s}}function w0(t,i){const{date:o,rule:s,lon:u}=di(),d=Mf(t,t?.mingSikType),{gz:h}=K7(d,o);return R.useMemo(()=>{try{const p=u??t?.birthPlace?.lon??127.5,b=s??t?.mingSikType??i??"야자시";return{dae:{gz:h,at:o},se:{gz:De(o,p),at:o},wol:{gz:an(o,p),at:o},il:{gz:Pe(o,b),at:o}}}catch{return{dae:{gz:"",at:new Date},se:{gz:"",at:new Date},wol:{gz:"",at:new Date}}}},[o,d,s,u,t,i])}function Nf(t){return typeof t=="object"&&t!==null}function F7(t){return Nf(t)&&"default"in t}function X7(t){return Nf(t)&&typeof t.lunar2solar=="function"}function W7(t){if(!Nf(t))throw new Error("Invalid lunar2solar result");const i=t.cYear,o=t.cMonth,s=t.cDay;if(typeof i!="number"||typeof o!="number"||typeof s!="number")throw new Error("Invalid lunar2solar fields");const u=t.isLeap;return{cYear:i,cMonth:o,cDay:s,isLeap:typeof u=="boolean"?u:void 0}}function Q7(t){const i=F7(t)?t.default:t;if(!X7(i))throw new Error("solarlunar.lunar2solar not found");return{lunar2solar:(o,s,u,d)=>{const h=i.lunar2solar(o,s,u,d);return W7(h)}}}const J7=Q7(Fi);function $v(t,i,o){const s=J7.lunar2solar(t,i,o,!1);return{y:s.cYear,m:s.cMonth,d:s.cDay}}const q1={甲:"갑",乙:"을",丙:"병",丁:"정",戊:"무",己:"기",庚:"경",辛:"신",壬:"임",癸:"계"},V1={子:"자",丑:"축",寅:"인",卯:"묘",辰:"진",巳:"사",午:"오",未:"미",申:"신",酉:"유",戌:"술",亥:"해"},tj=Object.fromEntries(Object.entries(q1).map(([t,i])=>[i,t])),ej=Object.fromEntries(Object.entries(V1).map(([t,i])=>[i,t])),nj=new Set(["乙","丁","己","辛","癸","을","정","기","신","계"]),rj=new Set(["丑","卯","巳","未","酉","亥","축","묘","사","미","유","해"]);function ij(t,i,o){return o==="한글"?i==="stem"?q1[t]??t:V1[t]??t:i==="stem"?tj[t]??t:ej[t]??t}function aj(t,i){return i==="stem"?nj.has(t):rj.has(t)}function oj(t){return Nf(t)&&("Classic"in t||"Modern"in t||"classic"in t||"modern"in t)}function np(t){const i=Ho;return oj(i)?t==="classic"?i.Classic:i.Modern:t}const sj={대운:1,세운:2,월운:3};function lj(t){return t.includes("월운")?3:t.includes("세운")?2:(t.includes("대운"),1)}function cj({data:t,hourTable:i}){const o=t??null;o&&(o.dateObj instanceof Date||(o.dateObj=o.dateObj?new Date(o.dateObj):new Date),o.corrected instanceof Date||(o.corrected=o.corrected?new Date(o.corrected):new Date));const{name:s,birthDay:u,birthTime:d,birthPlace:h,gender:p,calendarType:b,mingSikType:v}=t,x=hr(M=>M.settings),w=v??i??"야자시",S=!h||h.name==="모름"||!h.lon?127.5:h.lon,{solarY:E,solarM:A,solarD:D}=R.useMemo(()=>{let M=Number(u?.slice(0,4)??2e3),H=Number(u?.slice(4,6)??1),U=Number(u?.slice(6,8)??1);if(b==="lunar"){const W=$v(M,H,U);M=W.y,H=W.m,U=W.d}return{solarY:M,solarM:H,solarD:U}},[u,b]),[j,$]=R.useState(!1);R.useEffect(()=>{E&&A&&D&&$(Fd(E,A,D))},[E,A,D]);const z=R.useMemo(()=>{const M=!t.birthTime||t.birthTime==="모름",H=!t.birthPlace;let U=Number(t.birthDay.slice(0,4)),W=Number(t.birthDay.slice(4,6)),et=Number(t.birthDay.slice(6,8));if(t.calendarType==="lunar"){const Ae=$v(U,W,et);U=Ae.y,W=Ae.m,et=Ae.d}const ut=M?0:Number(t.birthTime.slice(0,2)||"0"),at=M?0:Number(t.birthTime.slice(2,4)||"0"),wt=new Date(U,W-1,et,ut,at,0,0),vt=H||!t.birthPlace||t.birthPlace.lon===0?127.5:t.birthPlace.lon;let Dt=t.corrected??Xs(wt,vt,M);j&&(Dt=new Date(Dt.getTime()-3600*1e3));const $t=t.mingSikType??"야자시",Vt=De(Dt,vt),Yt=an(Dt,vt),ne=Pe(Dt,$t),$e=M?null:Cr(Dt,$t);return{corrected:Dt,year:{stem:Vt.charAt(0),branch:Vt.charAt(1)},month:{stem:Yt.charAt(0),branch:Yt.charAt(1)},day:{stem:ne.charAt(0),branch:ne.charAt(1)},hour:$e?{stem:$e.charAt(0),branch:$e.charAt(1)}:null}},[j,t.birthDay,t.birthPlace,t.birthTime,t.calendarType,t.mingSikType,t.corrected]),C=Fd(E,A,D),P=z.day.stem,B=x.sinsalBase==="일지"?z.day.branch:z.year.branch,V=M=>x.showSibiUnseong?qi(P,M):null,J=M=>x.showSibiSinsal?Vi({baseBranch:B,targetBranch:M,era:np(x.sinsalMode),gaehwa:x.sinsalBloom}):null,Q=I7(t,w),nt=x7({query:"(min-width: 992px)"}),rt=x.hiddenStem==="regular"?"main":"all",K=x.exposure,I=K==="원국"?0:sj[K],X=I===0?[]:Q.filter(M=>lj(M.label)<=I),ft=()=>$(M=>!M),gt=o?.dateObj instanceof Date?o.dateObj:new Date(o?.dateObj??"");(!gt||isNaN(gt.getTime()))&&console.error("⚠ Invalid dateObj in SajuChart:",o?.dateObj);const Z=w0(o,i),lt=Z.dae.gz,F=Z.se.gz,G=Z.wol.gz;return g.jsxs("div",{className:"w-full max-w-[640px] mx-auto",children:[g.jsxs("div",{className:"mb-1 flex flex-wrap items-end justify-between gap-2 p-2",children:[g.jsxs("div",{children:[g.jsxs("div",{className:"text-md desk:text-xl font-bold text-neutral-900 dark:text-neutral-100",children:[s?.trim()||"이름없음"," ",g.jsxs("span",{className:"text-sm text-neutral-500 dark:text-neutral-400 mr-2",children:["(",p,")"]}),C&&g.jsxs("button",{onClick:ft,className:`px-2 py-0.5 text-xs rounded cursor-pointer border
                  ${j?"bg-red-600 text-white border-red-600":"bg-neutral-100 text-neutral-700 border-neutral-300 dark:bg-neutral-800 dark:text-neutral-200 dark:border-neutral-700"}`,children:["썸머타임 ",j?"ON":"OFF"]})]}),g.jsxs("div",{className:"text-sm text-neutral-600 dark:text-neutral-400",children:[uj(u,d),h?.name?` · ${"출생지: "+h.name}`:""]}),g.jsxs("div",{className:"text-sm text-neutral-600 dark:text-neutral-400",children:["보정시: ",G7(z.corrected)]})]}),g.jsxs("div",{className:"text-xs text-neutral-500 dark:text-neutral-400",children:["기준 경도: ",S.toFixed(2),"° · ",w," 기준"]})]}),g.jsxs("div",{className:`grid gap-2 p-2 desk:p-0 ${X.length===0?"grid-cols-1":X.length===1?"grid-cols-[2fr_8fr]":X.length===2?"grid-cols-[3.5fr_6.5fr]":"grid-cols-[4fr_5fr]"}`,children:[X.length>0&&(nt?g.jsxs("section",{className:"rounded-lg bg-white dark:bg-neutral-900 text-neutral-900 dark:text-white border border-neutral-200 dark:border-neutral-700 shadow",children:[g.jsx("div",{className:"px-3 py-1 text-md text-neutral-600 dark:text-neutral-300",children:g.jsx("b",{children:"운"})}),g.jsx("div",{className:"pb-2",children:g.jsx("div",{className:`grid gap-2 p-3 ${X.length===1?"grid-cols-1":X.length===2?"grid-cols-2":"grid-cols-3"}`,children:X.map(M=>{let H=M.data.stem,U=M.data.branch;M.label.includes("대운")&&lt&&(H=lt.charAt(0),U=lt.charAt(1)),M.label.includes("세운")&&F&&(H=F.charAt(0),U=F.charAt(1)),M.label.includes("월운")&&G&&(H=G.charAt(0),U=G.charAt(1));const W=V(U),et=J(U);return g.jsxs("div",{className:"rounded-xl bg-white dark:bg-neutral-900 border border-neutral-200 dark:border-neutral-800 overflow-hidden",children:[g.jsx("div",{className:"px-2 py-1 text-center text-xs tracking-wider bg-neutral-50 dark:bg-neutral-800/60 text-neutral-600 dark:text-neutral-300",children:M.label}),g.jsxs("div",{className:"p-2 flex flex-col items-center gap-1",children:[x.showSipSin&&g.jsx("div",{className:"text-xs text-neutral-500 dark:text-neutral-400",children:Hn(P,{stem:H})}),g.jsx(Ia,{value:H,kind:"stem",charType:x.charType,thinEum:x.thinEum}),g.jsx(Ia,{value:U,kind:"branch",charType:x.charType,thinEum:x.thinEum}),g.jsx(mc,{branch:U,dayStem:P,mode:rt,mapping:x.hiddenStemMode}),(x.showSibiUnseong||x.showSibiSinsal)&&g.jsxs("div",{className:"text-[11px] text-neutral-500 dark:text-neutral-400 mt-1 text-center space-y-0.5",children:[x.showSibiUnseong&&g.jsx("div",{children:W}),x.showSibiSinsal&&g.jsx("div",{children:et})]})]})]},M.key)})})})]}):g.jsxs("div",{className:"rounded-lg bg-white dark:bg-neutral-900 text-neutral-900 dark:text-white border border-neutral-200 dark:border-neutral-700 shadow",children:[g.jsx("div",{className:"px-3 py-1 text-[11px] text-neutral-600 dark:text-neutral-300",children:"운"}),g.jsx("div",{className:"pb-2",children:g.jsx("div",{className:`grid gap-1 p-0 ${X.length===1?"grid-cols-1":X.length===2?"grid-cols-2":"grid-cols-3"}`,children:X.map(M=>{const H=M.data.stem,U=M.data.branch,W=V(U),et=J(U);return g.jsxs("div",{className:"rounded-xl bg-white dark:bg-neutral-900 border border-neutral-200 dark:border-neutral-800 overflow-hidden",children:[g.jsx("div",{className:"py-1 text-center text-xs tracking-wider bg-neutral-50 dark:bg-neutral-800/60 text-neutral-600 dark:text-neutral-300",children:M.label}),g.jsxs("div",{className:"py-2 flex flex-col items-center gap-1",children:[x.showSipSin&&g.jsx("div",{className:"text-xs text-neutral-500 dark:text-neutral-400",children:Hn(P,{stem:H})}),g.jsx(Ia,{value:H,kind:"stem",charType:x.charType,thinEum:x.thinEum}),g.jsx(Ia,{value:U,kind:"branch",charType:x.charType,thinEum:x.thinEum}),g.jsx(mc,{branch:U,dayStem:P,mode:rt,mapping:x.hiddenStemMode}),(x.showSibiUnseong||x.showSibiSinsal)&&g.jsxs("div",{className:"text-[11px] text-neutral-500 dark:text-neutral-400 mt-1 text-center space-y-0.5",children:[x.showSibiUnseong&&g.jsx("div",{children:W}),x.showSibiSinsal&&g.jsx("div",{children:et})]})]})]},M.key)})})})]})),nt?g.jsxs("section",{className:"flex-2 rounded-lg bg-white dark:bg-neutral-900 text-neutral-900 dark:text-white border border-neutral-200 dark:border-neutral-700 shadow",children:[g.jsx("div",{className:"px-3 py-1 text-md text-neutral-600 dark:text-neutral-300",children:g.jsx("b",{children:"원국"})}),g.jsx("div",{className:"pb-2",children:g.jsx("div",{className:"grid grid-cols-4 gap-2 p-3",children:[{key:"hour",label:"시주",data:z.hour},{key:"day",label:"일주",data:z.day},{key:"month",label:"월주",data:z.month},{key:"year",label:"연주",data:z.year}].map(M=>g.jsxs("div",{className:"rounded-xl bg-white dark:bg-neutral-900 border border-neutral-200 dark:border-neutral-800 overflow-hidden",children:[g.jsx("div",{className:"px-2 py-1 text-center text-xs tracking-wider bg-neutral-50 dark:bg-neutral-800/60 text-neutral-600 dark:text-neutral-300",children:M.label}),g.jsx("div",{className:"p-2 flex flex-col items-center gap-1",children:M.data?g.jsxs(g.Fragment,{children:[x.showSipSin&&g.jsx("div",{className:"text-xs text-neutral-500 dark:text-neutral-400",children:Hn(P,{stem:M.data.stem})}),g.jsx(Ia,{value:M.data.stem,kind:"stem",charType:x.charType,thinEum:x.thinEum}),g.jsx(Ia,{value:M.data.branch,kind:"branch",charType:x.charType,thinEum:x.thinEum}),g.jsx(mc,{branch:M.data.branch,dayStem:P,mode:rt,mapping:x.hiddenStemMode}),(x.showSibiUnseong||x.showSibiSinsal)&&g.jsxs("div",{className:"text-[11px] text-neutral-500 dark:text-neutral-400 mt-1 text-center space-y-0.5",children:[x.showSibiUnseong&&g.jsx("div",{children:qi(P,M.data.branch)}),x.showSibiSinsal&&g.jsx("div",{children:Vi({baseBranch:x.sinsalBase==="일지"?z.day.branch:z.year.branch,targetBranch:M.data.branch,era:np(x.sinsalMode),gaehwa:x.sinsalBloom})})]})]}):g.jsx("span",{className:"text-xs text-neutral-500 dark:text-neutral-400",children:"시간 미상"})})]},M.key))})})]}):g.jsxs("div",{className:"flex-2 rounded-lg bg-white dark:bg-neutral-900 text-neutral-900 dark:text-white border border-neutral-200 dark:border-neutral-700 shadow",children:[g.jsx("div",{className:"px-3 py-1 text-[11px] text-neutral-600 dark:text-neutral-300",children:"원국"}),g.jsx("div",{className:"px-1 pb-2",children:g.jsx("div",{className:"grid grid-cols-4 gap-1",children:[{key:"hour",label:"시주",data:z.hour},{key:"day",label:"일주",data:z.day},{key:"month",label:"월주",data:z.month},{key:"year",label:"연주",data:z.year}].map(M=>g.jsxs("div",{className:"rounded-xl bg-white dark:bg-neutral-900 border border-neutral-200 dark:border-neutral-800 overflow-hidden",children:[g.jsx("div",{className:"py-1 text-center text-xs tracking-wider bg-neutral-50 dark:bg-neutral-800/60 text-neutral-600 dark:text-neutral-300",children:M.label}),g.jsx("div",{className:"py-2 flex flex-col items-center gap-1",children:M.data?g.jsxs(g.Fragment,{children:[x.showSipSin&&g.jsx("div",{className:"text-xs text-neutral-500 dark:text-neutral-400",children:Hn(P,{stem:M.data.stem})}),g.jsx(Ia,{value:M.data.stem,kind:"stem",charType:x.charType,thinEum:x.thinEum}),g.jsx(Ia,{value:M.data.branch,kind:"branch",charType:x.charType,thinEum:x.thinEum}),g.jsx(mc,{branch:M.data.branch,dayStem:P,mode:rt,mapping:x.hiddenStemMode}),(x.showSibiUnseong||x.showSibiSinsal)&&g.jsxs("div",{className:"text-[11px] text-neutral-500 dark:text-neutral-400 mt-1 text-center space-y-0.5",children:[x.showSibiUnseong&&g.jsx("div",{children:qi(P,M.data.branch)}),x.showSibiSinsal&&g.jsx("div",{children:Vi({baseBranch:x.sinsalBase==="일지"?z.day.branch:z.year.branch,targetBranch:M.data.branch,era:np(x.sinsalMode),gaehwa:x.sinsalBloom})})]})]}):g.jsx("span",{className:"text-xs text-neutral-500 dark:text-neutral-400",children:"시간 미상"})})]},M.key))})})]})]})]})}function Ia({value:t,kind:i,charType:o,thinEum:s}){const{settings:u}=hr(),d=fr(t,i,u),h=ij(t,i,o),p=aj(t,i),b=s&&p?"font-thin":"font-bold";return g.jsx("div",{className:`w-11 h-11 sm:w-14 sm:h-14 md:w-14 md:h-14 rounded-md ${d} flex items-center justify-center border border-neutral-200 dark:border-neutral-800`,children:g.jsx("span",{className:`text-[24px] md:text-2xl ${b}`,children:h})})}function uj(t,i){if(!t||!/^\d{8}$/.test(t))return"";const o=t.slice(0,4),s=t.slice(4,6),u=t.slice(6,8),d=`${o}-${s}-${u}`;return!i||i==="모름"||!/^\d{4}$/.test(i)?d:`${d} ${i.slice(0,2)}:${i.slice(2,4)}`}const dj={甲:"갑",乙:"을",丙:"병",丁:"정",戊:"무",己:"기",庚:"경",辛:"신",壬:"임",癸:"계",갑:"갑",을:"을",병:"병",정:"정",무:"무",기:"기",경:"경",신:"신",임:"임",계:"계"};function fj(t){if(!t)return null;const i=t.charAt(0);return dj[i]??null}function T0(t){return typeof t=="object"&&t!==null}function hj(t){return T0(t)&&"default"in t}function mj(t){return T0(t)&&typeof t.lunar2solar=="function"}function pj(t){if(!T0(t))throw new Error("Invalid lunar2solar result");const i=t.cYear,o=t.cMonth,s=t.cDay,u=t.isLeap;if(typeof i!="number"||typeof o!="number"||typeof s!="number")throw new Error("Invalid lunar2solar fields");return{cYear:i,cMonth:o,cDay:s,isLeap:typeof u=="boolean"?u:void 0}}function gj(t){const i=hj(t)?t.default:t;if(!mj(i))throw new Error("solarlunar.lunar2solar not found");return{lunar2solar:(s,u,d,h)=>{const p=i.lunar2solar(s,u,d,h);return pj(p)}}}const bj=gj(Fi);function yj(t,i,o){const s=bj.lunar2solar(t,i,o,!1);return new Date(s.cYear,s.cMonth-1,s.cDay,4,0)}function Xa(t){const i=Number(t.birthDay?.slice(0,4)),o=Number(t.birthDay?.slice(4,6))-1,s=Number(t.birthDay?.slice(6,8)),u=!t.birthTime||t.birthTime==="모름"?0:Number(t.birthTime?.slice(0,2)),d=!t.birthTime||t.birthTime==="모름"?0:Number(t.birthTime?.slice(2,4)),h=new Date(i,o,s,u,d,0,0);if(isNaN(h.getTime()))throw new Error(`Invalid date: ${t.birthDay} ${t.birthTime}`);const p=!t.birthPlace||typeof t.birthPlace=="object"&&t.birthPlace.name==="모름";return Xs(h,t.birthPlace?.lon??127.5,p)}function Df(t){let i;if(t.calendarType==="lunar"){const u=parseInt(t.birthDay.slice(0,4),10),d=parseInt(t.birthDay.slice(4,6),10),h=parseInt(t.birthDay.slice(6,8),10);i=yj(u,d,h),console.log(i)}else i=Xa(t);const o=Pe(i,t.mingSikType??"인시");if(!o)throw new Error(`getDayGanZhi returned undefined for ${i.toISOString()}`);const s=fj(o);if(!s)throw new Error(`Invalid day stem from ${o}`);return s}function Af(t,i){if(t.length===0)return-1;for(let o=0;o<t.length;o+=1){const s=t[o].at,u=t[o+1]?.at;if(!u)return i>=s?o:o-1;if(i>=s&&i<u)return o}return-1}const K1={甲:"갑",乙:"을",丙:"병",丁:"정",戊:"무",己:"기",庚:"경",辛:"신",壬:"임",癸:"계"},F1={子:"자",丑:"축",寅:"인",卯:"묘",辰:"진",巳:"사",午:"오",未:"미",申:"신",酉:"유",戌:"술",亥:"해"},vj=Object.fromEntries(Object.entries(K1).map(([t,i])=>[i,t])),_j=Object.fromEntries(Object.entries(F1).map(([t,i])=>[i,t]));function Iv(t,i,o){return o==="한글"?i==="stem"?K1[t]??t:F1[t]??t:i==="stem"?vj[t]??t:_j[t]??t}const xj=new Set(["乙","丁","己","辛","癸","을","정","기","신","계"]),Sj=new Set(["丑","卯","巳","未","酉","亥","축","묘","사","미","유","해"]);function Uv(t,i){return i==="stem"?xj.has(t):Sj.has(t)}function wj(t){return typeof t=="object"&&t!==null}function Tj(t){return wj(t)&&("Classic"in t||"Modern"in t||"classic"in t||"modern"in t)}function Ej(t){const i=Ho;return Tj(i)?t==="classic"?i.Classic:i.Modern:t}function Mj({data:t}){const i=Mf(t),o=Df(t),{date:s,setFromEvent:u}=di(),d=R.useMemo(()=>Af(i,s),[i,s]),h=hr(B=>B.settings),{charType:p,thinEum:b,showSipSin:v,showSibiUnseong:x,showSibiSinsal:w,sinsalBase:S,sinsalMode:E,sinsalBloom:A}=h,D=Xa(t),j=!t.birthPlace||t.birthPlace.name==="모름"||t.birthPlace.lon===0?127.5:t.birthPlace.lon,$=t.mingSikType??"야자시",z=S==="일지"?Pe(D,$).charAt(1):De(D,j).charAt(1),C=B=>x?qi(o,B):null,P=B=>w?Vi({baseBranch:z,targetBranch:B,era:Ej(E),gaehwa:!!A}):null;return g.jsxs("div",{className:"w-full max-w-[640px] mx-auto rounded-xl bg-white dark:bg-neutral-900 border border-neutral-200 dark:border-neutral-800 overflow-hidden",children:[g.jsx("div",{className:"px-3 py-2 text-sm font-semibold tracking-wider bg-neutral-50 dark:bg-neutral-800/60 text-neutral-700 dark:text-neutral-300",children:"대운리스트"}),g.jsx("div",{className:"flex gap-0.5 desk:gap-1 py-2 desk:p-2 flex-row-reverse",children:i.map((B,V)=>{const J=B.gz.charAt(0),Q=B.gz.charAt(1),nt=Nj(D,B.at),rt=V===d,K=Iv(J,"stem",p),I=Iv(Q,"branch",p),X=Uv(J,"stem"),ft=Uv(Q,"branch"),gt=b&&X?"font-thin":"font-bold",Z=b&&ft?"font-thin":"font-bold",lt=C(Q),F=P(Q);return g.jsxs("div",{onClick:()=>u(B,"대운"),className:`flex-1 rounded-sm desk:rounded-lg bg-white dark:bg-neutral-900 overflow-hidden cursor-pointer ${rt?"border border-yellow-500":"border border-neutral-200 dark:border-neutral-800 hover:border-yellow-500"}`,title:`${B.gz} · ${B.at.toLocaleDateString()}`,children:[g.jsx("div",{className:"desk:px-2 py-1 text-center text-[10px] bg-neutral-50 dark:bg-neutral-800/60 text-neutral-600 dark:text-neutral-300",children:nt}),g.jsxs("div",{className:"p-2 flex flex-col items-center gap-1",children:[v&&g.jsx("div",{className:"text-[10px] text-neutral-500 dark:text-neutral-400 text-nowrap",children:Hn(o,{stem:J})}),g.jsx("div",{className:`w-8 h-8 md:w-10 md:h-10 rounded-sm md:rounded-lg flex items-center justify-center border border-neutral-200 dark:border-neutral-800 ${fr(J,"stem",h)}`,children:g.jsx("span",{className:`text-[20px] md:text-xl ${gt}`,children:K})}),g.jsx("div",{className:`w-8 h-8 md:w-10 md:h-10 rounded-sm md:rounded-lg flex items-center justify-center border border-neutral-200 dark:border-neutral-800 ${fr(Q,"branch",h)}`,children:g.jsx("span",{className:`text-[20px] md:text-xl ${Z}`,children:I})}),v&&g.jsx("div",{className:"text-[10px] text-neutral-500 dark:text-neutral-400 text-nowrap",children:Hn(o,{branch:Q})}),(x||w)&&g.jsxs("div",{className:"text-[11px] text-neutral-500 dark:text-neutral-400 mt-1 text-center space-y-0.5 text-nowrap",children:[x&&g.jsx("div",{children:lt}),w&&g.jsx("div",{children:F})]})]})]},B.gz)})})]})}function Nj(t,i){const s=(i.getTime()-t.getTime())/(365.2425*24*60*60*1e3);return Math.max(0,Math.round(s))}const X1={甲:"갑",乙:"을",丙:"병",丁:"정",戊:"무",己:"기",庚:"경",辛:"신",壬:"임",癸:"계"},W1={子:"자",丑:"축",寅:"인",卯:"묘",辰:"진",巳:"사",午:"오",未:"미",申:"신",酉:"유",戌:"술",亥:"해"},Dj=Object.fromEntries(Object.entries(X1).map(([t,i])=>[i,t])),Aj=Object.fromEntries(Object.entries(W1).map(([t,i])=>[i,t]));function Gv(t,i,o){return o==="한글"?i==="stem"?X1[t]??t:W1[t]??t:i==="stem"?Dj[t]??t:Aj[t]??t}const jj=new Set(["乙","丁","己","辛","癸","을","정","기","신","계"]),kj=new Set(["丑","卯","巳","未","酉","亥","축","묘","사","미","유","해"]);function Zv(t,i){return i==="stem"?jj.has(t):kj.has(t)}function Cj(t){return typeof t=="object"&&t!==null}function Oj(t){return Cj(t)&&("Classic"in t||"Modern"in t||"classic"in t||"modern"in t)}function Lj(t){const i=Ho;return Oj(i)?t==="classic"?i.Classic:i.Modern:t}function Bj({data:t,list:i,onSelect:o}){const s=hr(S=>S.settings),{date:u,setFromEvent:d}=di(),h=Af(i,u),p=Df(t),b=Xa(t),v=!t.birthPlace||t.birthPlace.name==="모름"||t.birthPlace.lon===0?127.5:t.birthPlace.lon,x=t.mingSikType??"야자시",w=s.sinsalBase==="일지"?Pe(b,x).charAt(1):De(b,v).charAt(1);return g.jsxs("div",{className:"w-full max-w-[640px] mx-auto rounded-xl bg-white dark:bg-neutral-900 border border-neutral-200 dark:border-neutral-800 overflow-hidden",children:[g.jsx("div",{className:"px-3 py-2 text-sm font-semibold tracking-wider bg-neutral-50 dark:bg-neutral-800/60 text-neutral-700 dark:text-neutral-300",children:"세운리스트"}),g.jsx("div",{className:"flex gap-0.5 desk:gap-1 py-2 desk:p-2 flex-row-reverse",children:i.map((S,E)=>{const A=S.at.getFullYear(),D=De(new Date(A,6,1),v),j=D.charAt(0),$=D.charAt(1),z=E===h,C=Gv(j,"stem",s.charType),P=Gv($,"branch",s.charType),B=Zv(j,"stem"),V=Zv($,"branch"),J=s.thinEum&&B?"font-thin":"font-bold",Q=s.thinEum&&V?"font-thin":"font-bold",nt=s.showSibiUnseong?qi(p,$):null,rt=s.showSibiSinsal?Vi({baseBranch:w,targetBranch:$,era:Lj(s.sinsalMode),gaehwa:!!s.sinsalBloom}):null;return g.jsxs("div",{onClick:()=>{o?.(A),d(S,"세운")},className:`flex-1 rounded-sm desk:rounded-lg bg-white dark:bg-neutral-900 overflow-hidden cursor-pointer ${z?"border border-yellow-500":"border border-neutral-200 dark:border-neutral-800 hover:border-yellow-500"}`,title:`${D} · ${S.at.toLocaleDateString()}`,children:[g.jsx("div",{className:"desk:px-2 py-1 text-center text-[10px] bg-neutral-50 dark:bg-neutral-800/60 text-neutral-600 dark:text-neutral-300",children:A}),g.jsxs("div",{className:"p-2 flex flex-col items-center gap-1",children:[s.showSipSin&&g.jsx("div",{className:"text-[10px] text-neutral-500 dark:text-neutral-400 text-nowrap",children:Hn(p,{stem:j})}),g.jsx("div",{className:`w-8 h-8 md:w-10 md:h-10 rounded-sm md:rounded-lg flex items-center justify-center border ${fr(j,"stem",s)}`,children:g.jsx("span",{className:`text-[20px] md:text-xl ${J}`,children:C})}),g.jsx("div",{className:`w-8 h-8 md:w-10 md:h-10 rounded-sm md:rounded-lg flex items-center justify-center border ${fr($,"branch",s)}`,children:g.jsx("span",{className:`text-[20px] md:text-xl ${Q}`,children:P})}),s.showSipSin&&g.jsx("div",{className:"text-[10px] text-neutral-500 dark:text-neutral-400 text-nowrap",children:Hn(p,{branch:$})}),(s.showSibiUnseong||s.showSibiSinsal)&&g.jsxs("div",{className:"text-[10px] text-neutral-500 dark:text-neutral-400 text-center text-nowrap",children:[s.showSibiUnseong&&nt&&g.jsx("div",{children:nt}),s.showSibiSinsal&&rt&&g.jsx("div",{children:rt})]})]})]},`${A}-${S.gz||E}`)})})]})}const Q1={甲:"갑",乙:"을",丙:"병",丁:"정",戊:"무",己:"기",庚:"경",辛:"신",壬:"임",癸:"계"},J1={子:"자",丑:"축",寅:"인",卯:"묘",辰:"진",巳:"사",午:"오",未:"미",申:"신",酉:"유",戌:"술",亥:"해"},Rj=Object.fromEntries(Object.entries(Q1).map(([t,i])=>[i,t])),Pj=Object.fromEntries(Object.entries(J1).map(([t,i])=>[i,t]));function Yv(t,i,o){return o==="한글"?i==="stem"?Q1[t]??t:J1[t]??t:i==="stem"?Rj[t]??t:Pj[t]??t}const zj=new Set(["乙","丁","己","辛","癸","을","정","기","신","계"]),Hj=new Set(["丑","卯","巳","未","酉","亥","축","묘","사","미","유","해"]);function qv(t,i){return i==="stem"?zj.has(t):Hj.has(t)}function $j(t){return typeof t=="object"&&t!==null}function Ij(t){return $j(t)&&("Classic"in t||"Modern"in t||"classic"in t||"modern"in t)}function Uj(t){const i=Ho;return Ij(i)?t==="classic"?i.Classic:i.Modern:t}function Gj({data:t,activeYear:i,onSelect:o}){const s=hr(A=>A.settings),[,u]=R.useState(null),d=!t.birthPlace||t.birthPlace.name==="모름"||t.birthPlace.lon===0?127.5:t.birthPlace.lon,h=Df(t),p=Xa(t),b=t.mingSikType??"야자시",v=s.sinsalBase==="일지"?Pe(p,b).charAt(1):De(p,d).charAt(1),x=R.useMemo(()=>{if(!i)return[];const A=[];for(let D=2;D<=13;D++){const j=D===13?i+1:i,$=D===13?1:D,z=new Date(j,$-1,10),C=an(z,d);A.push({at:z,gz:C})}return A},[i,d]);R.useEffect(()=>{if(!x.length)return;u(null);const A=new Date,D=x.findIndex((j,$)=>{const z=x[$+1]?.at;return A>=j.at&&(!z||A<z)});i===A.getFullYear()&&u(D!==-1?D:null)},[x,i]);const{date:w,setFromEvent:S}=di(),E=Af(x,w);return g.jsxs("div",{className:"w-full max-w-[640px] mx-auto rounded-xl bg-white dark:bg-neutral-900 border border-neutral-200 dark:border-neutral-800 overflow-hidden",children:[g.jsx("div",{className:"px-3 py-2 text-sm font-semibold tracking-wider bg-neutral-50 dark:bg-neutral-800/60 text-neutral-700 dark:text-neutral-300",children:"월운리스트"}),g.jsx("div",{className:"flex gap-0.5 desk:gap-1 py-2 desk:p-2 flex-row-reverse",children:x.map((A,D)=>{const j=A.gz.charAt(0),$=A.gz.charAt(1),z=`${A.at.getMonth()+1}월`,C=D===E,P=Yv(j,"stem",s.charType),B=Yv($,"branch",s.charType),V=qv(j,"stem"),J=qv($,"branch"),Q=s.thinEum&&V?"font-thin":"font-bold",nt=s.thinEum&&J?"font-thin":"font-bold",rt=s.showSibiUnseong?qi(h,$):null,K=s.showSibiSinsal?Vi({baseBranch:v,targetBranch:$,era:Uj(s.sinsalMode),gaehwa:!!s.sinsalBloom}):null;return g.jsxs("div",{onClick:()=>{u(D),o?.(A.at.getFullYear(),A.at.getMonth()+1),S(A,"월운")},className:`flex-1 rounded-sm desk:rounded-lg bg-white dark:bg-neutral-900 overflow-hidden cursor-pointer ${C?"border border-yellow-500":"border border-neutral-200 dark:border-neutral-800 hover:border-yellow-500"}`,title:`${A.gz} · ${A.at.toLocaleDateString()}`,children:[g.jsx("div",{className:"desk:px-2 py-1 text-center text-[10px] bg-neutral-50 dark:bg-neutral-800/60 text-neutral-600 dark:text-neutral-300",children:z}),g.jsxs("div",{className:"p-2 flex flex-col items-center gap-1",children:[s.showSipSin&&g.jsx("div",{className:"text-[10px] text-neutral-500 dark:text-neutral-400 text-nowrap",children:Hn(h,{stem:j})}),g.jsx("div",{className:`w-7 h-7 sm:w-8 sm:h-8 md:w-10 md:h-10 rounded-sm md:rounded-lg flex items-center justify-center border border-neutral-200 dark:border-neutral-800 ${fr(j,"stem",s)}`,children:g.jsx("span",{className:`text-base md:text-xl ${Q}`,children:P})}),g.jsx("div",{className:`w-7 h-7 sm:w-8 sm:h-8 md:w-10 md:h-10 rounded-sm md:rounded-lg flex items-center justify-center border border-neutral-200 dark:border-neutral-800 ${fr($,"branch",s)}`,children:g.jsx("span",{className:`text-base md:text-xl ${nt}`,children:B})}),s.showSipSin&&g.jsx("div",{className:"text-[10px] text-neutral-500 dark:text-neutral-400 text-nowrap",children:Hn(h,{branch:$})}),(s.showSibiUnseong||s.showSibiSinsal)&&g.jsxs("div",{className:"text-[10px] text-neutral-500 dark:text-neutral-400 text-center text-nowrap",children:[s.showSibiUnseong&&rt&&g.jsx("div",{children:rt}),s.showSibiSinsal&&K&&g.jsx("div",{children:K})]})]})]},A.gz)})})]})}const t2={甲:"갑",乙:"을",丙:"병",丁:"정",戊:"무",己:"기",庚:"경",辛:"신",壬:"임",癸:"계"},e2={子:"자",丑:"축",寅:"인",卯:"묘",辰:"진",巳:"사",午:"오",未:"미",申:"신",酉:"유",戌:"술",亥:"해"},Zj=Object.fromEntries(Object.entries(t2).map(([t,i])=>[i,t])),Yj=Object.fromEntries(Object.entries(e2).map(([t,i])=>[i,t]));function Vv(t,i,o){return o==="한글"?i==="stem"?t2[t]??t:e2[t]??t:i==="stem"?Zj[t]??t:Yj[t]??t}const qj=new Set(["乙","丁","己","辛","癸","을","정","기","신","계"]),Vj=new Set(["丑","卯","巳","未","癸","亥","축","묘","사","미","유","해"]);function Kv(t,i){return i==="stem"?qj.has(t):Vj.has(t)}function Kj(t){return typeof t=="object"&&t!==null}function Fj(t){return Kj(t)&&("Classic"in t||"Modern"in t||"classic"in t||"modern"in t)}function Xj(t){const i=Ho;return Fj(i)?t==="classic"?i.Classic:i.Modern:t}function Wj(t,i){const o=new Date(t,i-1,1,12,0,0,0),s=new Date(i===12?t+1:t,i===12?0:i,1,12,0,0,0);return{start:o,end:s}}function Qj(t,i){const o=i===1?t-1:t;return new Date(o,5,15,12,0,0,0)}function Jj({data:t,year:i,month:o,hourTable:s}){const u=hr(z=>z.settings),d=s??t?.mingSikType??"야자시",h=t?Df(t):void 0,p=t?Xa(t):null,b=t&&t.birthPlace&&t.birthPlace.name!=="모름"&&t.birthPlace.lon!==0?t.birthPlace.lon:127.5,v=t&&p?u.sinsalBase==="일지"?Pe(p,d).charAt(1):De(p,b).charAt(1):null,{start:x,end:w}=R.useMemo(()=>Wj(i,o),[i,o]),S=R.useMemo(()=>{const z=Qj(i,o);return(Z1(z)??[]).slice().sort((P,B)=>P.date.getTime()-B.date.getTime()).filter(P=>P.date>=x&&P.date<w)},[i,o,x,w]),E=R.useMemo(()=>{const z=[],C=new Date(x);for(;C<w;)z.push(new Date(C)),C.setDate(C.getDate()+1);return z},[x,w]),A=R.useMemo(()=>{const z=[];let C=[];const P=new Date(i,o-1,1).getDay();for(let B=0;B<P;B++)C.push(null);for(const B of E)C.length===7&&(z.push(C),C=[]),C.push(B);for(;C.length<7;)C.push(null);return z.push(C),z},[E,i,o]),{date:D,setFromEvent:j}=di(),$=R.useMemo(()=>{const z=E.map(C=>({at:C}));return Af(z,D)},[E,D]);return g.jsxs("div",{className:"w-full max-w-[800px] mx-auto mb-4 rounded-xl bg-white dark:bg-neutral-900 border border-neutral-200 dark:border-neutral-800 overflow-hidden",children:[g.jsx("div",{className:"flex justify-center items-center px-2 desk:px-4 py-2 bg-neutral-50 dark:bg-neutral-800/60",children:g.jsxs("div",{className:"text-center text-[11px] desk:text-sm font-semibold text-neutral-700 dark:text-neutral-200",children:[i,"년 ",o,"월",S.length>0&&g.jsxs("div",{className:"mt-0.5 text-[10px] desk:text-xs font-normal text-neutral-500 dark:text-neutral-400",children:["[",S.map((z,C)=>g.jsxs("span",{children:[z.name," ",t9(z.date),C<S.length-1?" · ":""]},z.name+C)),"]"]})]})}),g.jsx("div",{className:"grid grid-cols-7 text-center text-xs bg-neutral-100 dark:bg-neutral-800 text-neutral-600 dark:text-neutral-300",children:["일","월","화","수","목","금","토"].map(z=>g.jsx("div",{className:"py-1",children:z},z))}),g.jsx("div",{className:"grid grid-cols-7 gap-px bg-neutral-200 dark:bg-neutral-800",children:A.map((z,C)=>z.map((P,B)=>{if(!P)return g.jsx("div",{className:"bg-white dark:bg-neutral-900"},`${C}-${B}`);const V=new Date(P.getFullYear(),P.getMonth(),P.getDate()),Q=E.findIndex(et=>et.getTime()===P.getTime())===$,nt=Pe(V,d),rt=nt.charAt(0),K=nt.charAt(1),I=Vv(rt,"stem",u.charType),X=Vv(K,"branch",u.charType),ft=u.thinEum&&Kv(rt,"stem")?"font-thin":"font-bold",gt=u.thinEum&&Kv(K,"branch")?"font-thin":"font-bold",Z=!!h&&u.showSipSin,lt=!!h&&u.showSibiUnseong,F=!!h&&v!=null&&u.showSibiSinsal,G=Z?Hn(h,{stem:rt}):"",M=Z?Hn(h,{branch:K}):"",H=lt?qi(h,K):"",U=F?Vi({baseBranch:v,targetBranch:K,era:Xj(u.sinsalMode),gaehwa:!!u.sinsalBloom}):"",W=S.find(et=>et.date.getFullYear()===V.getFullYear()&&et.date.getMonth()===V.getMonth()&&et.date.getDate()===V.getDate());return g.jsxs("div",{onClick:()=>j({at:P},"일운"),className:`space-y-1 bg-white dark:bg-neutral-900 flex flex-col items-center justify-start p-1 text-xs border ${Q?"border-yellow-500":"border-neutral-200 dark:border-neutral-800"}`,title:`${nt} (${V.toLocaleDateString()})`,children:[g.jsxs("div",{className:"text-neutral-600 dark:text-neutral-400 flex items-center gap-1",children:[g.jsx("span",{children:V.getDate()}),W&&g.jsx("span",{className:"px-1 rounded bg-amber-100 text-amber-700 dark:bg-amber-900/40 dark:text-amber-200",children:W.name})]}),Z&&g.jsx("div",{className:"text-[10px] text-neutral-500 dark:text-neutral-400",children:G}),g.jsx("div",{className:`w-8 h-8 rounded flex items-center justify-center text-base ${fr(rt,"stem",u)}`,children:g.jsx("span",{className:ft,children:I})}),g.jsx("div",{className:`w-8 h-8 rounded flex items-center justify-center text-base ${fr(K,"branch",u)}`,children:g.jsx("span",{className:gt,children:X})}),Z&&g.jsx("div",{className:"text-[10px] text-neutral-500 dark:text-neutral-400",children:M}),(lt||F)&&g.jsxs("div",{className:"text-[10px] text-neutral-500 dark:text-neutral-400 text-center space-y-0.5",children:[lt&&H&&g.jsx("div",{children:H}),F&&U&&g.jsx("div",{children:U})]})]},P.toISOString())}))})]})}function t9(t){if(!t)return null;const i=new Intl.DateTimeFormat("ko-KR",{timeZone:"Asia/Seoul",month:"numeric",day:"numeric",hour:"2-digit",minute:"2-digit",hour12:!1}).formatToParts(t);let o="",s="",u="",d="";for(const h of i)h.type==="month"&&(o=h.value),h.type==="day"&&(s=h.value),h.type==="hour"&&(u=h.value),h.type==="minute"&&(d=h.value);return`${o}/${s} ${u}:${d}`}function Fv(t,i){const o=t.at.getFullYear(),s=i?i.at.getFullYear():o+10,u=[];for(let d=o;d<s;d++){const h=en(d,315);let p=d;new Date<h&&(p=d-1);const v=De(new Date(p,1,10));u.push({at:h,gz:v})}return u}function e9({data:t}){const i=Mf(t),[o,s]=R.useState(null),[u,d]=R.useState(null),[h,p]=R.useState("il");R.useEffect(()=>{if(!i.length)return;const S=new Date,E=i.findIndex((A,D)=>{const j=i[D+1]?.at;return S>=A.at&&(!j||S<j)});E!==-1&&s(E)},[i]),R.useEffect(()=>{if(o===null)return;const S=i[o],E=i[o+1];if(!S)return;const A=Fv(S,E),D=new Date;A.findIndex(($,z)=>{const C=A[z+1]?.at;return D>=$.at&&(!C||D<C)})!==-1&&d({year:D.getFullYear(),month:D.getMonth()+1})},[o,i]);const b=w0(t),{date:v}=di(),x=v.getMonth()+1===1?v.getFullYear()-1:v.getFullYear(),w=R.useMemo(()=>{if(!b?.dae?.gz)return[];const S=i.findIndex((D,j)=>{const $=i[j+1]?.at;return b.dae.at>=D.at&&(!$||b.dae.at<$)});if(S===-1)return[];const E=i[S],A=i[S+1];return Fv(E,A)},[i,b?.dae]);return g.jsxs("div",{className:"w-full space-y-4",children:[g.jsx(Mj,{data:t,activeIndex:o,onSelect:S=>{s(S),p("se")}}),h==="se"||h==="wol"||h==="il"?g.jsx(Bj,{data:t,list:w,onSelect:()=>{p("wol")}}):null,h==="wol"||h==="il"?g.jsx(Gj,{data:t,activeYear:x,onSelect:(S,E)=>{d({year:S,month:E}),p("il")}}):null,h==="il"&&u&&g.jsx(Jj,{data:t,year:v.getFullYear(),month:v.getMonth()+1,hourTable:t?.mingSikType})]})}const n9=["갑","을","병","정","무","기","경","신","임","계","甲","乙","丙","丁","戊","己","庚","辛","壬","癸"],r9=["자","축","인","묘","진","사","오","미","신","유","술","해","子","丑","寅","卯","辰","巳","午","未","申","酉","戌","亥"],i9=new Set(n9),a9=new Set(r9);function Xv(t){return typeof t=="string"&&t.length>=2&&i9.has(t[0])&&a9.has(t[1])}function Mr(t,...i){if(Xv(t))return t;for(const o of i)if(Xv(o))return o;return"甲子"}const n2={甲:"갑",乙:"을",丙:"병",丁:"정",戊:"무",己:"기",庚:"경",辛:"신",壬:"임",癸:"계"},o9={子:"자",丑:"축",寅:"인",卯:"묘",辰:"진",巳:"사",午:"오",未:"미",申:"신",酉:"유",戌:"술",亥:"해"},s9=["갑","을","병","정","무","기","경","신","임","계"];function Wv(t){return!!t&&s9.includes(t)}function l9(t){return n2[t]??t}function Qv(t){return o9[t]??t}function c9(t){if(Wv(t))return t;const i=n2[t];return Wv(i)?i:"갑"}function u9(t){return typeof t=="object"&&t!==null&&("Classic"in t||"Modern"in t||"classic"in t||"modern"in t)}function d9(t){const i=Ho;return u9(i)?t==="classic"?i.Classic??i.classic:i.Modern??i.modern:t}function bd(t,i){let o=null;const s=i.getTime();for(const u of t)if(u.at.getTime()<=s)o=u;else break;return o}function f9({data:t}){const i=hr(J=>J.settings),{showSibiUnseong:o,showSibiSinsal:s,sinsalBase:u,sinsalMode:d,sinsalBloom:h}=i,{date:p}=di(),b=R.useMemo(()=>S0(t),[t]),v=R.useMemo(()=>Pc(b),[b]),x=R.useMemo(()=>_0(b,"야자시"),[b]),w=R.useMemo(()=>c9(x.day?.charAt(0)??"갑"),[x.day]),S=R.useMemo(()=>I1(v,x.hour,t.dir??"forward",120,"야자시"),[v,x.hour,t.dir]),E=R.useMemo(()=>G1(S,x.day,t.dir??"forward","인시일수론"),[S,x.day,t.dir]),A=R.useMemo(()=>Ef(v,x.month,t.dir??"forward",120,b.birthPlace?.lon??127.5),[v,x.month,t.dir,b.birthPlace?.lon]),D=R.useMemo(()=>Y1(A,x.year,t.dir??"forward","인시일수론",v),[A,x.year,t.dir,v]),j=R.useMemo(()=>({si:Mr(bd(S.events,p)?.gz,x.hour),il:Mr(bd(E.events,p)?.gz,x.day),wl:Mr(bd(A.events,p)?.gz,x.month),yn:Mr(bd(D.events,p)?.gz,x.year)}),[p,S.events,E.events,A.events,D.events,x]),$=R.useMemo(()=>({si:Mr(Cr(p,"야자시")),il:Mr(Pe(p,"야자시")),wl:Mr(an(p)),yn:Mr(De(p))}),[p]),z=R.useMemo(()=>{const J=S?.events?.[0];return J?{at:J.at,from:Mr(x.hour),to:Mr(J.gz)}:null},[S?.events,x.hour]),C=R.useMemo(()=>{const J=A?.events?.[0];return A?.firstChange?{at:A.firstChange,from:Mr(x.month),to:Mr(J?.gz??x.month)}:null},[A?.firstChange,A?.events,x.month]),P=R.useMemo(()=>u==="일지"?x.day.charAt(1):x.year.charAt(1),[u,x.day,x.year]),B=R.useMemo(()=>d9(d),[d]),V=J=>{const Q=l9(w),nt=Qv(J.charAt(1)),rt=Qv(P);return{unseong:o&&qi(Q,nt)||"",shinsal:s&&Vi({baseBranch:rt,targetBranch:nt,era:B,gaehwa:!!h})||""}};return g.jsxs("div",{className:"w-full max-w-[640px] mx-auto mb-4 px-2 py-4 desk:p-4 bg-white dark:bg-neutral-950 text-neutral-900 dark:text-neutral-100 rounded-xl shadow border border-neutral-200 dark:border-neutral-800",children:[g.jsx("header",{className:"flex flex-wrap items-center gap-3 justify-between mb-4",children:g.jsxs("div",{className:"font-semibold text-xs desk:text-sm",children:["묘운 + 실시간 운 뷰어"," ",g.jsxs("span",{className:"text-neutral-500 dark:text-neutral-400",children:["(출생: ",vc(v),")"]})]})}),g.jsxs("div",{className:"grid grid-cols-2 gap-2 desk:gap-4 mb-6",children:[g.jsxs("div",{children:[g.jsx("label",{className:"block text-xs mb-2 text-neutral-600 dark:text-neutral-300",children:"묘운뷰어"}),g.jsx("div",{className:"grid grid-cols-4 gap-1 desk:gap-2",children:[["시주",j.si],["일주",j.il],["월주",j.wl],["연주",j.yn]].map(([J,Q])=>{const{unseong:nt,shinsal:rt}=V(Q);return g.jsx(Ro,{label:J,gz:Q,dayStem:w,settings:i,unseongText:nt,shinsalText:rt,hideBranchSipSin:!0,size:"sm"},`m-${J}`)})})]}),g.jsxs("div",{children:[g.jsx("label",{className:"block text-xs mb-2 text-neutral-600 dark:text-neutral-300",children:"실시간 간지뷰어"}),g.jsx("div",{className:"grid grid-cols-4 gap-1 desk:gap-2",children:[["시주",$.si],["일주",$.il],["월주",$.wl],["연주",$.yn]].map(([J,Q])=>{const{unseong:nt,shinsal:rt}=V(Q);return g.jsx(Ro,{label:J,gz:Q,dayStem:w,settings:i,unseongText:nt,shinsalText:rt,hideBranchSipSin:!0,size:"sm"},`l-${J}`)})})]})]}),g.jsxs("div",{className:"mt-4 text-xs text-neutral-700 dark:text-neutral-300 space-y-1",children:[g.jsx("div",{className:"font-semibold",children:"첫 전환 시각"}),g.jsxs("div",{children:["시주:"," ",z?`${vc(z.at)} (${z.from} → ${z.to})`:"계산 불가"]}),g.jsxs("div",{children:["월주:"," ",C?`${vc(C.at)} (${C.from} → ${C.to})`:"계산 불가"]})]})]})}const r2=["갑","을","병","정","무","기","경","신","임","계"],i2=["甲","乙","丙","丁","戊","己","庚","辛","壬","癸"],a2=["자","축","인","묘","진","사","오","미","신","유","술","해"],o2=["子","丑","寅","卯","辰","巳","午","未","申","酉","戌","亥"],h9=Object.fromEntries(i2.map((t,i)=>[t,r2[i]])),m9=Object.fromEntries(r2.map((t,i)=>[t,i2[i]])),p9=Object.fromEntries(o2.map((t,i)=>[t,a2[i]])),g9=Object.fromEntries(a2.map((t,i)=>[t,o2[i]])),b9=t=>h9[t]??t,y9=t=>p9[t]??t,v9=t=>m9[t]??t,_9=t=>g9[t]??t;function x9(t){const i={...t};for(const o of Object.keys(t)){const s=/[甲乙丙丁戊己庚辛壬癸]/.test(o)?b9(o):v9(o);s&&i[s]===void 0&&(i[s]=t[o])}return i}function E0(t){const i={...t};for(const o of Object.keys(t)){const s=/[子丑寅卯辰巳午未申酉戌亥]/.test(o)?y9(o):_9(o);s&&i[s]===void 0&&(i[s]=t[o])}return i}const S9={갑:"목",을:"목",병:"화",정:"화",무:"토",기:"토",경:"금",신:"금",임:"수",계:"수"},w9={자:"수",축:"토",인:"목",묘:"목",진:"토",사:"화",오:"화",미:"토",신:"금",유:"금",술:"토",해:"수"},s2={자:[{stem:"계",ratio:1,main:!0}],축:[{stem:"계",ratio:.2},{stem:"신",ratio:.3},{stem:"기",ratio:.5,main:!0}],인:[{stem:"병",ratio:.3},{stem:"갑",ratio:.7,main:!0}],묘:[{stem:"을",ratio:1,main:!0}],진:[{stem:"을",ratio:.2},{stem:"계",ratio:.3},{stem:"무",ratio:.5,main:!0}],사:[{stem:"경",ratio:.3},{stem:"병",ratio:.7,main:!0}],오:[{stem:"정",ratio:1,main:!0}],미:[{stem:"정",ratio:.2},{stem:"을",ratio:.3},{stem:"기",ratio:.5,main:!0}],신:[{stem:"임",ratio:.3},{stem:"경",ratio:.7,main:!0}],유:[{stem:"신",ratio:1,main:!0}],술:[{stem:"신",ratio:.2},{stem:"정",ratio:.3},{stem:"무",ratio:.5,main:!0}],해:[{stem:"갑",ratio:.3},{stem:"임",ratio:.7,main:!0}]},T9={...s2,인:[{stem:"무",ratio:.2},{stem:"병",ratio:.3},{stem:"갑",ratio:.5,main:!0}],오:[{stem:"병",ratio:.2},{stem:"기",ratio:.2},{stem:"정",ratio:1,main:!0}],사:[{stem:"무",ratio:.2},{stem:"경",ratio:.3},{stem:"병",ratio:.7,main:!0}],신:[{stem:"무",ratio:.2},{stem:"임",ratio:.3},{stem:"경",ratio:.7,main:!0}]},Ga=x9(S9),Fn=E0(w9),E9=E0(s2),M9=E0(T9),N9={甲:"갑",乙:"을",丙:"병",丁:"정",戊:"무",己:"기",庚:"경",辛:"신",壬:"임",癸:"계"},D9={木:"목",火:"화",土:"토",金:"금",水:"수"};function l2(t,i){const o=N9[i]??i,u={갑:"목",을:"목",병:"화",정:"화",무:"토",기:"토",경:"금",신:"금",임:"수",계:"수"}[o];if(!u)return"비겁";const d=["목","화","토","금","수"].includes(t)?t:D9[t]??"목";if(d===u)return"비겁";const h={목:"화",화:"토",토:"금",금:"수",수:"목"},p={목:"토",화:"금",토:"수",금:"목",수:"화"};return h[u]===d?"식상":h[d]===u?"인성":p[u]===d?"재성":p[d]===u?"관성":"비겁"}const A9={목:{비겁:"#13B713",식상:"#DC143C",재성:"#F0B100",관성:"#a0a0a0",인성:"#353535"},화:{비겁:"#DC143C",식상:"#F0B100",재성:"#a0a0a0",관성:"#353535",인성:"#13B713"},토:{비겁:"#F0B100",식상:"#a0a0a0",재성:"#353535",관성:"#13B713",인성:"#DC143C"},금:{비겁:"#a0a0a0",식상:"#353535",재성:"#13B713",관성:"#DC143C",인성:"#F0B100"},수:{비겁:"#353535",식상:"#13B713",재성:"#DC143C",관성:"#F0B100",인성:"#a0a0a0"}},j9={갑:"목",을:"목",병:"화",정:"화",무:"토",기:"토",경:"금",신:"금",임:"수",계:"수"};function zp(t){const i=j9[t]??"목";return A9[i]}const c2=["갑","을","병","정","무","기","경","신","임","계"],u2=["甲","乙","丙","丁","戊","己","庚","辛","壬","癸"],d2=["자","축","인","묘","진","사","오","미","신","유","술","해"],f2=["子","丑","寅","卯","辰","巳","午","未","申","酉","戌","亥"],k9=Object.fromEntries(c2.map((t,i)=>[t,u2[i]])),C9=Object.fromEntries(u2.map((t,i)=>[t,c2[i]])),O9=Object.fromEntries(d2.map((t,i)=>[t,f2[i]])),L9=Object.fromEntries(f2.map((t,i)=>[t,d2[i]])),B9=t=>C9[t]??t,R9=t=>L9[t]??t,P9=t=>k9[t]??t,z9=t=>O9[t]??t;function h2(t){const i={...t};for(const o of Object.keys(t)){if(o.length<2)continue;const s=o.charAt(0),u=o.charAt(1),d=/[甲乙丙丁戊己庚辛壬癸]/.test(s)||/[子丑寅卯辰巳午未申酉戌亥]/.test(u)?`${B9(s)}${R9(u)}`:`${P9(s)}${z9(u)}`;i[d]===void 0&&(i[d]=t[o])}return i}const m2={갑자:1,을축:.2,병인:1,정묘:1,무진:.5,기사:.7,경오:0,신미:.5,임신:1,계유:1,갑술:0,을해:1,병자:0,정축:0,무인:.3,기묘:0,경진:.5,신사:.3,임오:0,계미:0,갑신:.3,을유:0,병술:.8,정해:.3,무자:0,기축:.5,경인:0,신묘:0,임진:.3,계사:.3,갑오:0,을미:.3,병신:0,정유:0,무술:.8,기해:0,경자:0,신축:.8,임인:0,계묘:0,갑진:.5,을사:0,병오:1,정미:.5,무신:0,기유:0,경술:.7,신해:0,임자:1,계축:.5,갑인:.7,을묘:0,병진:.2,정사:.7,무오:1,기미:.7,경신:.7,신유:1,임술:.2,계해:.7},H9={...m2,병인:.8,경오:.3,무인:.5,신사:.5,경인:.2,기해:.2,병오:.8,무신:.2},$9=h2(m2),I9=h2(H9),Ya=["연","월","일","시"],yd={year:0,month:1,day:2,hour:3},rp="매우약함",U9={甲:"갑",乙:"을",丙:"병",丁:"정",戊:"무",己:"기",庚:"경",辛:"신",壬:"임",癸:"계"},G9={子:"자",丑:"축",寅:"인",卯:"묘",辰:"진",巳:"사",午:"오",未:"미",申:"신",酉:"유",戌:"술",亥:"해"};function nn(t){if(!t)return"";const i=t.replace(/[()[\]{}]/g,"").replace(/\s+/g,"").replace(/[년월일시年月日時干支柱:\-_.]/g,""),o=i.match(/([갑을병정무기경신임계]).*?([자축인묘진사오미신유술해])/);if(o)return`${o[1]}${o[2]}`;const s=i.match(/([甲乙丙丁戊己庚辛壬癸]).*?([子丑寅卯辰巳午未申酉戌亥])/);if(s){const u=U9[s[1]]??s[1],d=G9[s[2]]??s[2];return`${u}${d}`}return""}const Rs=t=>t&&t.length>=1?t[0]:"",li=t=>t&&t.length>=2?t[1]:"",Jd=[{pair:["갑","기"],label:"갑기합"},{pair:["을","경"],label:"을경합"},{pair:["병","신"],label:"병신합"},{pair:["정","임"],label:"정임합"},{pair:["무","계"],label:"무계합"}],tf=[{pair:["갑","경"],label:"갑경충"},{pair:["을","신"],label:"을신충"},{pair:["병","임"],label:"병임충"},{pair:["정","계"],label:"정계충"}],ef=[{pair:["자","축"],label:"자축합"},{pair:["인","해"],label:"인해합"},{pair:["묘","술"],label:"묘술합"},{pair:["진","유"],label:"진유합"},{pair:["사","신"],label:"사신합"},{pair:["오","미"],label:"오미합"}],nf=[{pair:["자","오"],label:"자오충"},{pair:["사","해"],label:"사해충"},{pair:["인","신"],label:"인신충"},{pair:["묘","유"],label:"묘유충"},{pair:["진","술"],label:"진술충"},{pair:["축","미"],label:"축미충"}],rf=[{pair:["축","진"],label:"축진파"},{pair:["술","미"],label:"술미파"},{pair:["자","유"],label:"자유파"},{pair:["묘","오"],label:"묘오파"},{pair:["사","신"],label:"사신파"},{pair:["인","해"],label:"인해파"}],af=[{pair:["인","사"],label:"인사해"},{pair:["신","해"],label:"신해해"},{pair:["자","미"],label:"자미해"},{pair:["축","오"],label:"축오해"},{pair:["묘","진"],label:"묘진해"},{pair:["유","술"],label:"유술해"}],of=[{pair:["자","미"],label:"자미원진"},{pair:["인","유"],label:"인유원진"},{pair:["축","오"],label:"축오원진"},{pair:["묘","신"],label:"묘신원진"},{pair:["진","해"],label:"진해원진"},{pair:["사","술"],label:"사술원진"}],sf=[{pair:["인","미"],label:"인미귀문"},{pair:["묘","신"],label:"묘신귀문"},{pair:["진","해"],label:"진해귀문"},{pair:["사","술"],label:"사술귀문"},{pair:["자","유"],label:"자유귀문"},{pair:["축","오"],label:"축오귀문"}],Z9=[{name:"인사신",members:["인","사","신"]},{name:"축술미",members:["축","술","미"]}],lf=[{pair:["인","신"],label:"인신상형"},{pair:["인","사"],label:"인사상형"},{pair:["사","신"],label:"사신상형"},{pair:["술","미"],label:"술미상형"},{pair:["축","술"],label:"축술상형"},{pair:["축","미"],label:"축미상형"}],cf=[{pair:["자","묘"],label:"자묘형"}],Jv=new Set(["진","오","유","해"]),Ac=new Set(["정해","무자","신사","임오"]),jc=[{name:"해묘미",members:["해","묘","미"],out:"목",wang:"묘"},{name:"인오술",members:["인","오","술"],out:"화",wang:"오"},{name:"사유축",members:["사","유","축"],out:"금",wang:"유"},{name:"신자진",members:["신","자","진"],out:"수",wang:"자"}],kc=[{name:"인묘진",members:["인","묘","진"],out:"목",wang:"묘"},{name:"사오미",members:["사","오","미"],out:"화",wang:"오"},{name:"신유술",members:["신","유","술"],out:"금",wang:"유"},{name:"해자축",members:["해","자","축"],out:"수",wang:"자"}];function oe(t,i,o){for(const{pair:[s,u],label:d}of t)if(i===s&&o===u||i===u&&o===s)return d;return null}function ee(t,i){t.includes(i)||t.push(i)}const jo=t=>[...t].sort((i,o)=>i-o).map(i=>Ya[i]).join("X"),ip=(t,i)=>t===0&&i===3||t===3&&i===0;function t_(t,i){const o=[];for(const s of t)for(const u of i){if(s===u)continue;const d=Math.min(s,u),h=Math.max(s,u);d===0&&h===3||o.push([d,h])}return o.sort((s,u)=>{const d=Math.abs(s[0]-s[1]),h=Math.abs(u[0]-u[1]);return d!==h?d-h:0})}function Y9(t){const i=[],o=[...t].sort((s,u)=>s-u);for(let s=0;s<o.length;s++)for(let u=s+1;u<o.length;u++){const d=o[s],h=o[u];d===0&&h===3||i.push([d,h])}return i}const p2=t=>{switch(t){case"연":return"연주";case"월":return"월주";case"일":return"일주";case"시":return"시주"}};function q9(t){if(!t)return!1;const i=t.normalize("NFC").trim();return/^#\s*없음$/u.test(i)}const V9=["cheonganHap","cheonganChung","jijiSamhap","jijiBanhap","jijiBanghap","jijiYukhap","jijiChung","jijiHyeong","jijiPa","jijiHae","jijiWonjin","jijiGwimun","amhap","ganjiAmhap"];function g2(t){for(const i of V9){const s=(t[i]??[]).map(u=>u&&u.normalize("NFKC")).filter(u=>!!u&&!q9(u));t[i]=s}return t}function K9(t,i={}){const{emitGanjiAmhap:o=!0}=i,s=t.map(nn),u=s.map(S=>Rs(S)),d=s.map(S=>li(S)),p={title:s.map((S,E)=>`${S}${["년","월","일","시"][E]}`).join(" "),cheonganHap:[],cheonganChung:[],jijiSamhap:[],jijiBanhap:[],jijiBanghap:[],jijiYukhap:[],jijiChung:[],jijiHyeong:[],jijiPa:[],jijiHae:[],jijiWonjin:[],jijiGwimun:[],amhap:[],ganjiAmhap:[]},b=(S,E,A,D)=>{const j=u.flatMap((z,C)=>z===S?[C]:[]),$=u.flatMap((z,C)=>z===E?[C]:[]);for(const z of j)for(const C of $)z!==C&&Math.abs(z-C)===1&&ee(D,`#${jo([z,C])}_${A}`)};Jd.forEach(({pair:[S,E],label:A})=>b(S,E,A,p.cheonganHap)),tf.forEach(({pair:[S,E],label:A})=>b(S,E,A,p.cheonganChung));const v=S=>{const E=new Set,A=[];for(const D of S)for(let j=0;j<d.length;j++)if(d[j]===D&&!E.has(j)){E.add(j),A.push(j);break}return A};jc.forEach(({name:S,members:E,wang:A})=>{const D=E.filter($=>d.includes($)),j=new Set(D).size;if(j===3){const $=v(E);$.length===3&&ee(p.jijiSamhap,`#${jo($)}_${S}삼합`)}else if(j===2){if(!D.includes(A))return;const[$,z]=D,C=d.flatMap((J,Q)=>J===$?[Q]:[]),P=d.flatMap((J,Q)=>J===z?[Q]:[]),B=t_(C,P),V=B.length>1;for(const[J,Q]of B){const nt=ip(J,Q),rt=`#${jo([J,Q])}_${$}${z}반합${V?"":nt?`_${rp}`:""}`;ee(p.jijiSamhap,rt)}}}),kc.forEach(({name:S,members:E})=>{if(new Set(E.filter(j=>d.includes(j))).size!==3)return;const D=v(E);D.length===3&&ee(p.jijiBanghap,`#${jo(D)}${S}_방합`)});const x=(S,E,A,D)=>{const j=d.flatMap((P,B)=>P===S?[B]:[]),$=d.flatMap((P,B)=>P===E?[B]:[]),z=t_(j,$),C=z.length>1;for(const[P,B]of z){const V=ip(P,B),J=`#${jo([P,B])}_${A}${C?"":V?`_${rp}`:""}`;ee(D,J)}};if(ef.forEach(({pair:[S,E],label:A})=>x(S,E,A,p.jijiYukhap)),nf.forEach(({pair:[S,E],label:A})=>x(S,E,A,p.jijiChung)),rf.forEach(({pair:[S,E],label:A})=>x(S,E,A,p.jijiPa)),af.forEach(({pair:[S,E],label:A})=>x(S,E,A,p.jijiHae)),of.forEach(({pair:[S,E],label:A})=>x(S,E,A,p.jijiWonjin)),sf.forEach(({pair:[S,E],label:A})=>x(S,E,A,p.jijiGwimun)),[["인","사","신"],["축","술","미"]].forEach(S=>{const E=[],A=new Set;if(S.forEach(D=>{d.forEach((j,$)=>{j===D&&(E.push($),A.add(D))})}),A.size===3){const D=Array.from(new Set(E)).sort((j,$)=>j-$);ee(p.jijiHyeong,`#${jo(D)}_${S.join("")}삼형`)}}),lf.forEach(({pair:[S,E],label:A})=>x(S,E,A,p.jijiHyeong)),cf.forEach(({pair:[S,E],label:A})=>x(S,E,A,p.jijiHyeong)),["진","오","유","해"].forEach(S=>{const E=d.flatMap((j,$)=>j===S?[$]:[]),A=Y9(E),D=A.length>1;for(const[j,$]of A){const z=ip(j,$),C=`#${jo([j,$])}_${S}${S}자형${D?"":z?`_${rp}`:""}`;ee(p.jijiHyeong,C)}}),[{pair:["자","술"],label:"자술암합"},{pair:["축","인"],label:"축인암합"},{pair:["묘","신"],label:"묘신암합"},{pair:["인","미"],label:"인미암합"},{pair:["오","해"],label:"오해암합"}].forEach(({pair:[S,E],label:A})=>x(S,E,A,p.amhap)),o)for(let S=0;S<4;S++){const E=s[S]??"";if(E.length<2)continue;const A=`${E[0]}${E[1]}`;Ac.has(A)&&ee(p.ganjiAmhap,`#${p2(Ya[S])}_${A}암합`)}return g2(p)}function vd(t,i={}){const{emitNatalGanjiAmhap:o=!1}=i,s=[nn(t.natal[0]??""),nn(t.natal[1]??""),nn(t.natal[2]??""),nn(t.natal[3]??"")],d=[nn(t.daewoon??""),nn(t.sewoon??""),nn(t.wolwoon??"")].some(v=>v.length>=2),h={cheonganHap:[],cheonganChung:[],jijiSamhap:[],jijiBanhap:[],jijiBanghap:[],jijiYukhap:[],jijiChung:[],jijiHyeong:[],jijiPa:[],jijiHae:[],jijiWonjin:[],jijiGwimun:[],amhap:[],ganjiAmhap:[]};if(o&&d)for(let v=0;v<4;v++){const x=s[v]??"";if(x.length<2)continue;const w=`${x[0]}${x[1]}`;Ac.has(w)&&ee(h.ganjiAmhap,`#${p2(Ya[v])}_${w}암합`)}const p=[["대운",t.daewoon],["세운",t.sewoon],["월운",t.wolwoon]];for(const[v,x]of p){if(!x)continue;const w=nn(x);if(!w||w.length<2)continue;const S=Rs(w),E=li(w);{const D=`${S}${E}`;Ac.has(D)&&ee(h.ganjiAmhap,`#${v}_${D}암합`)}for(let D=0;D<4;D++){const j=s[D]??"";if(j.length<2)continue;const $=Ya[D],z=Rs(j),C=li(j),P=oe(Jd,S,z);P&&ee(h.cheonganHap,`#${v}X${$}_${P}`);const B=oe(tf,S,z);B&&ee(h.cheonganChung,`#${v}X${$}_${B}`);const V=oe(ef,E,C);V&&ee(h.jijiYukhap,`#${v}X${$}_${V}`);const J=oe(nf,E,C);J&&ee(h.jijiChung,`#${v}X${$}_${J}`);const Q=oe(rf,E,C);Q&&ee(h.jijiPa,`#${v}X${$}_${Q}`);const nt=oe(af,E,C);nt&&ee(h.jijiHae,`#${v}X${$}_${nt}`);const rt=oe(of,E,C);rt&&ee(h.jijiWonjin,`#${v}X${$}_${rt}`);const K=oe(sf,E,C);K&&ee(h.jijiGwimun,`#${v}X${$}_${K}`);const I=oe(lf,E,C);if(I)ee(h.jijiHyeong,`#${v}X${$}_${I}`);else{const gt=oe(cf,E,C);gt?ee(h.jijiHyeong,`#${v}X${$}_${gt}`):E===C&&Jv.has(E)&&ee(h.jijiHyeong,`#${v}X${$}_${E}${C}자형`)}const ft=oe([{pair:["자","술"],label:"자술암합"},{pair:["축","인"],label:"축인암합"},{pair:["묘","신"],label:"묘신암합"},{pair:["인","미"],label:"인미암합"},{pair:["오","해"],label:"오해암합"}],E,C);ft&&ee(h.amhap,`#${v}X${$}_${ft}`)}const A=s.map(D=>li(D??""));for(const D of jc){if(!D.members.includes(E))continue;const j=D.members.filter(z=>z!==E),$=A.map((z,C)=>({b:z,pos:Ya[C]})).filter(z=>j.includes(z.b));if(new Set($.map(z=>z.b)).size===2){const[z,C]=$.map(P=>P.pos).sort((P,B)=>["시","일","월","연"].indexOf(P)-["시","일","월","연"].indexOf(B));ee(h.jijiSamhap,`#${v}X${z}X${C}_삼합(${D.name})`)}}for(const D of kc){if(!D.members.includes(E))continue;const j=D.members.filter(z=>z!==E),$=A.map((z,C)=>({b:z,pos:Ya[C]})).filter(z=>j.includes(z.b));if($.length>=2){const[z,C]=$.map(P=>P.pos).sort((P,B)=>["시","일","월","연"].indexOf(P)-["시","일","월","연"].indexOf(B));ee(h.jijiBanghap,`#${v}X${z}X${C}방합(${D.name})`)}}for(const D of Z9){if(!D.members.includes(E))continue;const j=D.members.filter(z=>z!==E),$=A.map((z,C)=>({b:z,pos:Ya[C]})).filter(z=>j.includes(z.b));if(new Set($.map(z=>z.b)).size===2){const[z,C]=$.map(P=>P.pos).sort((P,B)=>["시","일","월","연"].indexOf(P)-["시","일","월","연"].indexOf(B));ee(h.jijiHyeong,`#${v}X${z}X${C}삼형(${D.name})`)}}}const b=[];t.daewoon&&t.sewoon&&b.push(["대운",t.daewoon,"세운",t.sewoon]),t.sewoon&&t.wolwoon&&b.push(["세운",t.sewoon,"월운",t.wolwoon]),t.daewoon&&t.wolwoon&&b.push(["대운",t.daewoon,"월운",t.wolwoon]);for(const[v,x,w,S]of b){const E=nn(x),A=nn(S);if(E.length<2||A.length<2)continue;const D=Rs(E),j=li(E),$=Rs(A),z=li(A),C=oe(Jd,D,$);C&&ee(h.cheonganHap,`#${v}X${w}_${C}`);const P=oe(tf,D,$);P&&ee(h.cheonganChung,`#${v}X${w}_${P}`);const B=oe(ef,j,z);B&&ee(h.jijiYukhap,`#${v}X${w}_${B}`);const V=oe(nf,j,z);V&&ee(h.jijiChung,`#${v}X${w}_${V}`);const J=oe(rf,j,z);J&&ee(h.jijiPa,`#${v}X${w}_${J}`);const Q=oe(af,j,z);Q&&ee(h.jijiHae,`#${v}X${w}_${Q}`);const nt=oe(of,j,z);nt&&ee(h.jijiWonjin,`#${v}X${w}_${nt}`);const rt=oe(sf,j,z);rt&&ee(h.jijiGwimun,`#${v}X${w}_${rt}`);const K=oe(lf,j,z);if(K)ee(h.jijiHyeong,`#${v}X${w}_${K}`);else{const X=oe(cf,j,z);X?ee(h.jijiHyeong,`#${v}X${w}_${X}`):j===z&&Jv.has(j)&&ee(h.jijiHyeong,`#${v}X${w}_${j}${z}자형`)}const I=oe([{pair:["자","술"],label:"자술암합"},{pair:["축","인"],label:"축인암합"},{pair:["묘","신"],label:"묘신암합"},{pair:["인","미"],label:"인미암합"},{pair:["오","해"],label:"오해암합"}],j,z);I&&ee(h.amhap,`#${v}X${w}_${I}`)}return g2(h)}function F9(t,i){const s=t.map(nn).map(b=>li(b)),u=yd.month,d=s[u],h=b=>{const v=[];for(let x=0;x<4;x++){const w=s[x];w&&b.has(w)&&v.push(x)}return v},p=b=>{const v=[...b].sort((x,w)=>x-w);return v.length===3&&v[0]+1===v[1]&&v[1]+1===v[2]};for(const b of jc){const v=new Set(b.members),x=h(v);if(x.length===3){const w=x.includes(u),S=d===b.wang;w?p(x)?i[b.out]+=S?10:8:i[b.out]+=5:i[b.out]+=3}if(x.length===2&&x.includes(u)){const w=x[0]===u?x[1]:x[0],S=d===b.wang;w===yd.day&&S?i[b.out]+=8:w===yd.year&&S?i[b.out]+=6:w===yd.hour&&(i[b.out]+=S?4:2)}}for(const b of kc){const v=new Set(b.members),x=h(v);if(x.length===3){const w=x.includes(u),S=d===b.wang;w?p(x)?i[b.out]+=S?8:6:i[b.out]+=4:i[b.out]+=2}}}function e_(t){const i=["연","월","일","시"],o=t.map(nn),s=o.map(p=>Rs(p)),u=o.map(p=>li(p)),d=new Map,h=new Map;for(let p=0;p<4;p++){const b=s[p],v=u[p];b.includes(b)&&d.set(b,[...d.get(b)??[],p]),v.includes(v)&&h.set(v,[...h.get(v)??[],p])}return{stemsByPos:s,brsByPos:u,stemPos:d,brPos:h,names:i}}function be(t){return Ya[t]}function Je(t,i){i&&(t.includes(i)||t.push(i))}function X9(t,i){const o=e_(t),s=e_(i),u={천간합:[],천간충:[],지지삼합:[],지지방합:[],지지반합:[],지지육합:[],암합:[],간지암합:[],지지충:[],지지형:[],지지파:[],지지해:[],지지원진:[],지지귀문:[]};for(let p=0;p<4;p++){const b=o.stemsByPos[p],v=o.brsByPos[p];for(let x=0;x<4;x++){const w=s.stemsByPos[x],S=s.brsByPos[x],E=t.map(nn).map(li).filter(Boolean),A=i.map(nn).map(li).filter(Boolean);for(const I of jc){const X=new Set([...E,...A]);I.members.every(gt=>X.has(gt))&&I.members.some(gt=>E.includes(gt))&&I.members.some(gt=>A.includes(gt))&&Je(u.지지삼합,`${I.name}삼합`);const ft=I.members.filter(gt=>E.includes(gt)||A.includes(gt));ft.length===2&&ft.includes(I.wang)&&ft.some(gt=>E.includes(gt))&&ft.some(gt=>A.includes(gt))&&Je(u.지지반합,`${ft.join("")}반합`)}for(const I of kc){const X=new Set([...E,...A]);I.members.every(ft=>X.has(ft))&&I.members.some(ft=>E.includes(ft))&&I.members.some(ft=>A.includes(ft))&&Je(u.지지방합,`${I.name}방합`)}const D=oe(Jd,b,w);D&&Je(u.천간합,`${be(p)}X${be(x)} ${D}`),oe(tf,b,w)&&Je(u.천간충,`${be(p)}X${be(x)} 충`);const $=oe(ef,v,S);$&&Je(u.지지육합,`${be(p)}X${be(x)} ${$}`),oe(nf,v,S)&&Je(u.지지충,`${be(p)}X${be(x)} 충`),oe(rf,v,S)&&Je(u.지지파,`${be(p)}X${be(x)} 파`);const P=oe(af,v,S);P&&Je(u.지지해,`${be(p)}X${be(x)} ${P}`);const B=oe(of,v,S);B&&Je(u.지지원진,`${be(p)}X${be(x)} ${B}`);const V=oe(sf,v,S);V&&Je(u.지지귀문,`${be(p)}X${be(x)} ${V}`);const Q=oe([{pair:["자","술"],label:"자술암합"},{pair:["축","인"],label:"축인암합"},{pair:["묘","신"],label:"묘신암합"},{pair:["인","미"],label:"인미암합"},{pair:["오","해"],label:"오해암합"}],v,S);Q&&Je(u.암합,`${be(p)}X${be(x)} ${Q}`);const nt=`${b}${S}`,rt=`${w}${v}`;Ac.has(nt)&&Je(u.간지암합,`${be(p)}X${be(x)} ${nt}암합`),Ac.has(rt)&&Je(u.간지암합,`${be(x)}X${be(p)} ${rt}암합`);const K=oe(lf,v,S);if(K)Je(u.지지형,`${be(p)}X${be(x)} ${K}`);else{const I=oe(cf,v,S);I&&Je(u.지지형,`${be(p)}X${be(x)} ${I}`)}}}const d=new Set(o.brsByPos.filter(Boolean)),h=new Set(s.brsByPos.filter(Boolean));for(const p of jc){const b=p.members.filter(x=>d.has(x)).length,v=p.members.filter(x=>h.has(x)).length;if(b+v===3&&b>=1&&v>=1&&Je(u.지지삼합,`${p.name}삼합`),b===1&&v===1){const x=p.members.filter(w=>d.has(w)||h.has(w));if(x.includes(p.wang)){const[w,S]=x,E=o.brPos.get(w)?.[0]??o.brPos.get(S)?.[0],A=s.brPos.get(w)?.[0]??s.brPos.get(S)?.[0];if(E!=null&&A!=null){const D=`${w}${S}`;Je(u.지지삼합,`${be(E)}X${be(A)} ${D}반합`)}}}}for(const p of kc){const b=p.members.filter(x=>d.has(x)).length,v=p.members.filter(x=>h.has(x)).length;b+v===3&&b>=1&&v>=1&&Je(u.지지방합,`${p.name}방합`)}return Object.keys(u).forEach(p=>u[p].sort()),u}const W9={갑:"목",을:"목",병:"화",정:"화",무:"토",기:"토",경:"금",신:"금",임:"수",계:"수"},b2={목:"화",화:"토",토:"금",금:"수",수:"목"},y2={화:"목",토:"화",금:"토",수:"금",목:"수"},Hp={목:"토",화:"금",토:"수",금:"목",수:"화"},Q9={목:"금",화:"수",토:"목",금:"화",수:"토"},J9={甲:"갑",乙:"을",丙:"병",丁:"정",戊:"무",己:"기",庚:"경",辛:"신",壬:"임",癸:"계"},t5={子:"자",丑:"축",寅:"인",卯:"묘",辰:"진",巳:"사",午:"오",未:"미",申:"신",酉:"유",戌:"술",亥:"해"},Pd=t=>J9[t]??t,e5=t=>t5[t]??t;function n5(t){return!t||t.length<2?"":`${Pd(t[0])}${e5(t[1])}`}const r5=t=>t&&t.length>=1?t[0]:"",i5=t=>t&&t.length>=2?t[1]:"";function a5(t){return{비겁:t,식상:b2[t],인성:y2[t],재성:Hp[t],관성:Q9[t]}}function As(t,i){return t===i?"비겁":b2[i]===t?"식상":y2[i]===t?"인성":Hp[i]===t?"재성":Hp[t]===i?"관성":"비겁"}function v2(t){if(typeof t=="string")return[Pd(t)];if(Array.isArray(t)){const i=[];for(const o of t)if(typeof o=="string")i.push(Pd(o));else if(o&&typeof o=="object"&&"stem"in o){const s=o.stem;typeof s=="string"&&i.push(Pd(s))}return i}if(t&&typeof t=="object"){const i=[];for(const o of Object.values(t))i.push(...v2(o));return i}return[]}function n_(t){const i=E9,o=M9,s=i&&i[t]!==void 0?i[t]:o?o[t]:void 0,u=v2(s),d=[];for(const h of u){const p=W9[h];p&&!d.includes(p)&&d.push(p)}return d}function o5(t,i,o="classic"){const s=(t??[]).slice(0,4).map(n5);if(s.length!==4||s.some(w=>w.length<2))return{flags:{비겁:{령:!1,지:!1,세:!1},식상:{령:!1,지:!1,세:!1},재성:{령:!1,지:!1,세:!1},관성:{령:!1,지:!1,세:!1},인성:{령:!1,지:!1,세:!1}},monthBranch:"",dayEl:"토"};const u=r5(s[2]),d=u==="갑"||u==="을"?"목":u==="병"||u==="정"?"화":u==="무"||u==="기"?"토":u==="경"||u==="신"?"금":"수",h=s.map(w=>i5(w)),p={비겁:{령:!1,지:!1,세:!1},식상:{령:!1,지:!1,세:!1},재성:{령:!1,지:!1,세:!1},관성:{령:!1,지:!1,세:!1},인성:{령:!1,지:!1,세:!1}},b=a5(d),v=h[1];if(o==="classic"){const w=Fn[v];w&&(p[As(w,d)].령=!0)}else{const w=n_(v);if(w.length===0){const S=Fn[v];S&&(p[As(S,d)].령=!0)}else for(const S of w)p[As(S,d)].령=!0}const x=[0,2,3];for(const w of x){const S=h[w];if(o==="classic"){const E=Fn[S];E&&(p[As(E,d)].지=!0)}else{const E=n_(S);if(E.length===0){const A=Fn[S];A&&(p[As(A,d)].지=!0)}else for(const A of E)p[As(A,d)].지=!0}}return Object.entries(b).forEach(([w,S])=>{p[w].세=(i[S]??0)>25}),{flags:p,monthBranch:v,dayEl:d}}const s5={甲:"갑",乙:"을",丙:"병",丁:"정",戊:"무",己:"기",庚:"경",辛:"신",壬:"임",癸:"계"},l5={子:"자",丑:"축",寅:"인",卯:"묘",辰:"진",巳:"사",午:"오",未:"미",申:"신",酉:"유",戌:"술",亥:"해"},c5=t=>s5[t]??t,u5=t=>l5[t]??t;function d5(t){return!t||t.length<2?"":`${c5(t[0])}${u5(t[1])}`}const ap=["year","month","day","hour"],f5={year:{stem:10,branch:10},month:{stem:15,branch:30},day:{stem:25,branch:25},hour:{stem:15,branch:15}},h5={year:{stem:10,branch:10},month:{stem:15,branch:45},day:{stem:25,branch:40},hour:{stem:15,branch:12.5}},m5=new Set(["을","정","기","신","계"]),p5=new Set(["자","인","진","오","신","술"]),g5=new Set(["사","오","자","해"]),_d=t=>m5.has(t)?"음":"양",op=t=>{const i=p5.has(t)?"양":"음";return g5.has(t)?i==="양"?"음":"양":i};function b5(t){const i=t.reduce((p,b)=>p+b,0);if(i<=0)return t.map(()=>0);const o=t.map(p=>p*100/i),s=o.map(Math.round),d=100-s.reduce((p,b)=>p+b,0),h=o.map((p,b)=>({i:b,f:p-s[b]})).sort((p,b)=>b.f-p.f);for(let p=0;p<d;p++)s[h[p].i]+=1;return s}function y5(t,i){return t===0?i?1:.8:t===1?i?.6:.5:i?.3:.2}const xd={왕:.15,상:.1,휴:-.15,수:-.2,사:-.25},uf={목:"화",화:"토",토:"금",금:"수",수:"목"},v5={화:"목",토:"화",금:"토",수:"금",목:"수"},_c={목:"토",화:"금",토:"수",금:"목",수:"화"},_5={토:"목",금:"화",수:"토",목:"금",화:"수"};function Sd(t,i){return t===i?"왕":uf[i]===t?"상":uf[t]===i?"휴":_c[t]===i?"수":_c[i]===t?"사":"휴"}const Ua=t=>t&&t.length>=1?t[0]:"",ko=t=>t&&t.length>=2?t[1]:"";function r_(t){const{pillars:i,dayStem:o,mode:s,debug:u,useHarmonyOverlay:d,criteriaMode:h,luck:p}=t,b=h==="modern"?f5:h5,v={목:0,화:0,토:0,금:0,수:0},x=(i??[]).slice(0,4).map(d5);if(x.length!==4||x.some(G=>G.length<2))return{totals:["비겁","식상","재성","관성","인성"].map(M=>({name:M,value:0,color:"#999"})),perTenGod:{비겁:{a:"비견",b:"겁재",aVal:0,bVal:0},식상:{a:"식신",b:"상관",aVal:0,bVal:0},재성:{a:"정재",b:"편재",aVal:0,bVal:0},관성:{a:"정관",b:"편관",aVal:0,bVal:0},인성:{a:"정인",b:"편인",aVal:0,bVal:0}},elementScoreRaw:v,deukFlags:{비겁:{령:!1,지:!1,세:!1},식상:{령:!1,지:!1,세:!1},재성:{령:!1,지:!1,세:!1},관성:{령:!1,지:!1,세:!1},인성:{령:!1,지:!1,세:!1}},perStemElement:{},perStemElementScaled:{}};const w=Ua(x[2]),S=o??w,E=S==="갑"||S==="을"?"목":S==="병"||S==="정"?"화":S==="무"||S==="기"?"토":S==="경"||S==="신"?"금":"수",A=s==="classic"?I9:$9,D=[{val:0},{val:0},{val:0},{val:0}],j=[[],[],[],[]];for(let G=0;G<4;G++){const M=x[G],H=ap[G],U=Ua(M),W=ko(M),et=b[H],ut=Ga[U];ut&&(v[ut]+=et.stem,D[G]={stem:U,el:ut,pol:_d(U),val:et.stem});const at=Fn[W];at&&(v[at]+=et.branch,j[G].push({el:at,pol:op(W),val:et.branch}))}for(let G=0;G<4;G++){const M=x[G],H=ap[G],U=A[M]??0;if(U===0)continue;const W=Ua(M),et=Ga[W];if(!et)continue;const ut=b[H].stem*U;v[et]+=ut,D[G].val+=ut}for(let G=0;G<4;G++){const M=x[G],H=ko(M),U=Fn[H];if(!U)continue;const W=b[ap[G]].branch,et=op(H);let ut=0;const at=[G];G-1>=0&&at.push(G-1),G+1<=3&&at.push(G+1),G-2>=0&&at.push(G-2),G+2<=3&&at.push(G+2);const wt=Array.from(new Set(at));for(const vt of wt){const Dt=Ua(x[vt]),$t=Ga[Dt];if(!$t||$t!==U)continue;const Vt=_d(Dt)===et,Yt=Math.abs(vt-G),ne=y5(Yt,Vt);ut+=W*ne}ut!==0&&(v[U]+=ut,j[G].push({el:U,pol:et,val:ut}))}for(let G=0;G<4;G++){const M=Ua(x[G]),H=Ga[M];if(!H)continue;let U=0;const W=ko(x[G]),et=Fn[W];et&&(U+=xd[Sd(H,et)]);const ut=G===0?[1]:G===3?[2]:[G-1,G+1];for(const wt of ut){const vt=Ua(x[wt]),Dt=Ga[vt];Dt&&(U+=xd[Sd(H,Dt)])}const at=D[G].val;if(at!==0&&U!==0){const wt=Math.round(at*(1+U)*10)/10,vt=wt-at;v[H]+=vt,D[G].val=wt}}for(let G=0;G<4;G++){const M=ko(x[G]),H=Fn[M];if(!H)continue;let U=0;const W=Ua(x[G]),et=Ga[W];et&&(U+=xd[Sd(H,et)]);const ut=G===0?[1]:G===3?[2]:[G-1,G+1];for(const wt of ut){const vt=ko(x[wt]),Dt=Fn[vt];Dt&&(U+=xd[Sd(H,Dt)])}const at=j[G].reduce((wt,vt)=>wt+vt.val,0);if(at!==0&&U!==0){const vt=Math.round(at*(1+U)*10)/10-at;v[H]+=vt,j[G].length>0&&(j[G][0].val+=vt)}}d&&F9(x,v);const $={dae:{stem:.04,branch:.04},se:{stem:.03,branch:.03},wol:{stem:.02,branch:.02}},z=[];function C(G,M){const H=G?nn(G):"";if(!H||H.length<2)return;const U=Ua(H),W=ko(H),et=Ga[U],ut=Fn[W],at=Math.max(1,(v.목??0)+(v.화??0)+(v.토??0)+(v.금??0)+(v.수??0)),wt=$[M];if(et){const vt=Math.round(at*wt.stem);v[et]+=vt,z.push({stem:U,el:et,pol:_d(U),val:vt})}if(ut){const vt=Math.round(at*wt.branch);v[ut]+=vt,z.push({el:ut,pol:op(W),val:vt})}}p&&p.tab!=="원국"&&(C(p.dae,"dae"),(p.tab==="세운"||p.tab==="월운")&&C(p.se,"se"),p.tab==="월운"&&C(p.wol,"wol"));const P={비겁:0,식상:0,재성:0,관성:0,인성:0};Object.entries(v).forEach(([G,M])=>{P[l2(G,S)]+=M});const B={비견:0,겁재:0,식신:0,상관:0,정재:0,편재:0,정관:0,편관:0,정인:0,편인:0};function V(G,M){const H={화:"목",토:"화",금:"토",수:"금",목:"수"},U=G===E?"비겁":uf[E]===G?"식상":H[E]===G?"인성":_c[E]===G?"재성":_c[G]===E?"관성":"비겁",W=_d(S),et=(()=>{switch(U){case"비겁":return M===W?"비견":"겁재";case"식상":return M===W?"식신":"상관";case"재성":return M!==W?"정재":"편재";case"관성":return M!==W?"정관":"편관";case"인성":return M!==W?"정인":"편인";default:return M===W?"비견":"겁재"}})();return{major:U,sub:et}}const J=(G,M,H)=>{const{sub:U}=V(G,M);B[U]=(B[U]??0)+H};D.forEach(G=>{G.el&&G.pol&&G.val&&J(G.el,G.pol,G.val)}),j.forEach(G=>G.forEach(M=>J(M.el,M.pol,M.val))),z.forEach(G=>J(G.el,G.pol,G.val));const Q=["비겁","식상","재성","관성","인성"],nt=b5(Q.map(G=>P[G])),rt=zp(S),K=Q.map((G,M)=>({name:G,value:Math.round(nt[M]),color:rt[G]})),I={};D.forEach(G=>{if(G.stem&&G.el&&G.val){const M=`${G.stem}${G.el}`;I[M]=(I[M]??0)+G.val}}),z.forEach(G=>{if(G.stem&&G.el&&G.val){const M=`${G.stem}${G.el}`;I[M]=(I[M]??0)+G.val}});const X={자:"계",축:"기",인:"갑",묘:"을",진:"무",사:"병",오:"정",미:"기",신:"경",유:"신",술:"무",해:"임"};j.forEach((G,M)=>{const H=ko(x[M]),U=X[H],W=Fn[H];if(U&&W){const et=`${U}${W}`,ut=G.reduce((at,wt)=>at+wt.val,0);I[et]=(I[et]??0)+ut}}),z.forEach(G=>{if(!G.stem&&G.el&&G.val){const M=Object.keys(Fn).find(H=>Fn[H]===G.el);if(M){const H=X[M];if(H){const U=`${H}${G.el}`;I[U]=(I[U]??0)+G.val}}}});function ft(G,M){switch(G){case"비겁":return M;case"식상":return uf[M];case"재성":return _c[M];case"관성":return _5[M];case"인성":return v5[M]}return M}const gt=["갑목","을목","병화","정화","무토","기토","경금","신금","임수","계수"],Z={};gt.forEach(G=>{Z[G]=0}),Q.forEach(G=>{const M=K.find(et=>et.name===G)?.value??0,H=ft(G,E),U=Object.entries(I).filter(([et])=>et.endsWith(H)),W=U.reduce((et,[,ut])=>et+ut,0);W>0?U.forEach(([et,ut])=>{Z[et]=Math.round(M*(ut/W)*10)/10}):U.forEach(([et])=>{Z[et]=0})});const lt={비겁:{a:"비견",b:"겁재",aVal:B.비견||0,bVal:B.겁재||0},식상:{a:"식신",b:"상관",aVal:B.식신||0,bVal:B.상관||0},재성:{a:"정재",b:"편재",aVal:B.정재||0,bVal:B.편재||0},관성:{a:"정관",b:"편관",aVal:B.정관||0,bVal:B.편관||0},인성:{a:"정인",b:"편인",aVal:B.정인||0,bVal:B.편인||0}};for(const G of Q){const M=K.find(W=>W.name===G).value,H=lt[G],U=(H.aVal||0)+(H.bVal||0);if(U>0){const W=Math.round(M*H.aVal/U),et=M-W;H.aVal=W,H.bVal=et}else H.aVal=Math.round(M/2),H.bVal=M-H.aVal}const{flags:F}=o5(x,v);return u&&console.log("[PowerData]",{criteriaMode:h,hiddenMode:s,elementScore:v,totals:K,perTenGod:lt,perStemRaw:I,perStemElementScaled:Z,deukFlags:F,luck:p}),{totals:K,perTenGod:lt,elementScoreRaw:v,deukFlags:F,perStemElement:I,perStemElementScaled:Z}}const x5={갑:"목",을:"목",병:"화",정:"화",무:"토",기:"토",경:"금",신:"금",임:"수",계:"수"},S5={목:"화",화:"토",토:"금",금:"수",수:"목"},w5={화:"목",토:"화",금:"토",수:"금",목:"수"},T5={목:"토",화:"금",토:"수",금:"목",수:"화"},E5={토:"목",금:"화",수:"토",목:"금",화:"수"};function M5(t){return t==="목"||t==="화"||t==="토"||t==="금"||t==="수"}function N5(t){const i=t.slice(-1);return M5(i)?i:null}function D5(t,i){switch(t){case"비겁":return i;case"식상":return S5[i];case"재성":return T5[i];case"관성":return E5[i];case"인성":return w5[i];default:return i}}function A5({data:t,perStemElement:i,dayStem:o,width:s=280,height:u=280,revKey:d,pillars:h,daewoonGz:p,sewoonGz:b,wolwoonGz:v,yearGZ:x,monthGZ:w}){const S=s,E=u,A=S/2,D=E/2,j=Math.min(S,E)*.37,$=R.useMemo(()=>{const Q=t.map(X=>`${X.name}:${X.value}`).join(","),nt=i?Object.entries(i).sort(([X],[ft])=>X.localeCompare(ft)).map(([X,ft])=>`${X}:${ft}`).join(","):"none",rt=Array.isArray(h)?h.join(""):"",K=[p??"",b??"",v??""].join("|"),I=[x??"",w??""].join("|");return[d??"",Q,nt,o??"",rt,K,I].join("||")},[d,t,i,o,h,p,b,v,x,w]),[z,C]=R.useState(0),P=R.useRef("");R.useEffect(()=>{$!==P.current&&(P.current=$,C(Q=>Q+1))},[$]);const B=Q=>Math.PI/2+2*-Math.PI*Q/5,V=R.useMemo(()=>t.map((Q,nt)=>({...Q,x:A+j*Math.cos(B(nt)),y:D-j*Math.sin(B(nt))})),[t,A,D,j]),J=R.useMemo(()=>{const Q=(o??"").charAt(0);return x5[Q]??null},[o]);return g.jsx("div",{className:"w-full",children:g.jsxs("svg",{width:S,height:E,className:"mx-auto pt-2",children:[V.map((Q,nt)=>{const rt=V[(nt+2)%5];return g.jsx("line",{x1:Q.x,y1:Q.y,x2:rt.x,y2:rt.y,stroke:"#94a3b8",strokeWidth:1},`line-${nt}`)}),V.map((Q,nt)=>{const rt=V[(nt+1)%5],K=(Q.x+rt.x)/2,I=(Q.y+rt.y)/2,X=K-A,ft=I-D,gt=1.5,Z=A+X*gt,lt=D+ft*gt;return g.jsx("path",{d:`M${Q.x},${Q.y} Q${Z},${lt} ${rt.x},${rt.y}`,stroke:"#ef4444",strokeWidth:1.5,fill:"none",markerEnd:"url(#arrow)"},`curve-${nt}`)}),g.jsx("defs",{children:g.jsx("marker",{id:"arrow",markerWidth:"6",markerHeight:"6",refX:"5",refY:"3",orient:"auto",children:g.jsx("path",{d:"M0,0 L6,3 L0,6 Z",fill:"#ef4444"})})}),V.map(Q=>{const nt=Q.name,rt=(()=>{if(!i||!J)return[];const K=D5(nt,J);return Object.entries(i).filter(([I])=>N5(I)===K).sort(([,I],[,X])=>X-I).slice(0,3)})();return g.jsxs("g",{transform:`translate(${Q.x},${Q.y})`,children:[g.jsx("circle",{r:33,fill:Q.color,opacity:Q.value===0?.7:1}),g.jsxs("text",{textAnchor:"middle",dy:"-6",fontSize:"14",className:"fill-white font-semibold",children:[Q.name," ",Math.round(Q.value)]}),rt.map(([K,I],X)=>g.jsxs("text",{textAnchor:"middle",dy:8+X*11,fontSize:"10",className:"fill-white",children:[K," ",Math.round(I*10)/10]},K))]},`${Q.name}-${Q.value}`)})]},z)})}const j5=[{name:"극약",min:0,max:10},{name:"태약",min:10,max:20},{name:"신약",min:20,max:35},{name:"중화신약",min:35,max:45},{name:"중화",min:45,max:55},{name:"중화신강",min:55,max:65},{name:"태강",min:65,max:80},{name:"극태강",min:80,max:100.0001}],k5=[10,20,35,45,55,65,80];function _2(t){return Math.max(0,Math.min(100,t))}function C5(t){const i=_2(t);return j5.find(s=>i>=s.min&&i<s.max)?.name??"중화"}function O5({value:t}){const i=R.useMemo(()=>_2(t),[t]),o=R.useMemo(()=>C5(i),[i]);return R.useEffect(()=>{},[i,o]),g.jsxs("div",{className:"w-full mx-auto p-2 desk:p-4 bg-neutral-100 dark:bg-neutral-800 rounded-xl",children:[g.jsxs("div",{className:"flex justify-between text-[11px] text-neutral-400 mb-1",children:[g.jsx("span",{children:"신약"}),g.jsx("span",{children:"중화"}),g.jsx("span",{children:"신강"})]}),g.jsxs("div",{className:"relative h-4 rounded bg-gradient-to-r from-blue-500 via-yellow-400 to-red-500",children:[k5.map(s=>g.jsx("div",{className:"absolute top-0 h-4 w-[1px] bg-black/30",style:{left:`${s}%`},title:`${s}%`},s)),g.jsx("div",{className:"absolute top-0 h-4 w-[1px] bg-black/40",style:{left:"50%"},title:"50%"}),g.jsx("div",{className:"absolute -top-1 h-6 w-2 bg-white rounded shadow-sm",style:{left:`${i}%`,transform:"translateX(-50%)"},"aria-label":`현재 강약 ${i}%`})]}),g.jsxs("div",{className:"mt-2 flex items-center gap-2",children:[g.jsx("span",{className:"inline-flex items-center px-2 py-0.5 rounded-full text-xs border border-neutral-600 text-neutral-700 dark:text-neutral-200",children:o}),g.jsxs("span",{className:"text-xs text-neutral-400",children:[i.toFixed(1),"%"]})]})]})}function wd(t,i){if(t==="#없음")return"bg-neutral-100 text-neutral-500 border-neutral-200 dark:bg-neutral-900 dark:text-neutral-500 dark:border-neutral-700";switch(i){case"natal":return"bg-violet-100 text-violet-800 border-violet-200 dark:bg-violet-900/30 dark:text-violet-200 dark:border-violet-800";case"dae":return"bg-blue-100 text-blue-800 border-blue-200 dark:bg-blue-900/30 dark:text-blue-200 dark:border-blue-800";case"se":return"bg-green-100 text-green-800 border-green-200 dark:bg-green-900/30 dark:text-green-200 dark:border-green-800";case"wol":return"bg-orange-100 text-orange-800 border-orange-200 dark:bg-orange-900/30 dark:text-orange-200 dark:border-orange-800";default:return""}}function Yr({label:t,natal:i,dae:o,se:s,wol:u}){const d=o.length+s.length+u.length>0,h=i.length>0?i:["#없음"],p=d?h.filter(x=>x!=="#없음"):h,v=p.some(x=>x!=="#없음")||o.length>0||s.length>0||u.length>0?"shrink-0 w-20 text-xs font-semibold text-orange-700 dark:text-orange-300 mt-1":"shrink-0 w-20 text-xs font-semibold text-neutral-700 dark:text-neutral-400 mt-1";return g.jsxs("div",{className:"flex items-start gap-3 border border-gray-700 dark:border-gray-200 p-2 rounded-sm",children:[g.jsx("div",{className:v,children:t}),g.jsxs("div",{className:"flex flex-wrap gap-2",children:[p.map((x,w)=>g.jsx("span",{className:"text-xs px-2 py-1 rounded-full border whitespace-nowrap "+wd(x,"natal"),children:x},`natal-${w}`)),o.map((x,w)=>g.jsx("span",{className:"text-xs px-2 py-1 rounded-full border whitespace-nowrap "+wd(x,"dae"),children:x},`dae-${w}`)),s.map((x,w)=>g.jsx("span",{className:"text-xs px-2 py-1 rounded-full border whitespace-nowrap "+wd(x,"se"),children:x},`se-${w}`)),u.map((x,w)=>g.jsx("span",{className:"text-xs px-2 py-1 rounded-full border whitespace-nowrap "+wd(x,"wol"),children:x},`wol-${w}`))]})]})}function $p(t){return Array.isArray(t)?t:[]}function sp(t,i){const o=new Set($p(t));return $p(i).filter(u=>!o.has(u))}function L5({pillars:t,daewoon:i,sewoon:o,wolwoon:s,tab:u="전체"}){const d=K9(t),h=vd({natal:t}),p=i?vd({natal:t,daewoon:i}):h,b=o?vd({natal:t,daewoon:i,sewoon:o}):p,v=s?vd({natal:t,daewoon:i,sewoon:o,wolwoon:s}):b,x=E=>({natal:$p(d[E]),dae:sp(h[E],p[E]),se:sp(p[E],b[E]),wol:sp(b[E],v[E])}),w={cheonganHap:x("cheonganHap"),cheonganChung:x("cheonganChung"),jijiSamhap:x("jijiSamhap"),jijiBanghap:x("jijiBanghap"),jijiYukhap:x("jijiYukhap"),amhap:x("amhap"),ganjiAmhap:x("ganjiAmhap"),jijiChung:x("jijiChung"),jijiHyeong:x("jijiHyeong"),jijiPa:x("jijiPa"),jijiHae:x("jijiHae")},S=E=>u==="전체"?E:{natal:u==="원국"?E.natal:[],dae:u==="대운"?E.dae:[],se:u==="세운"?E.se:[],wol:u==="월운"?E.wol:[]};return g.jsxs("div",{className:"rounded-xl p-4 bg-neutral-100 dark:bg-neutral-900 text-neutral-900 dark:text-neutral-100 space-y-2",children:[g.jsx("div",{className:"text-base font-bold mb-1",children:"형충회합"}),g.jsx(Yr,{label:"천간합",...S(w.cheonganHap)}),g.jsx(Yr,{label:"천간충",...S(w.cheonganChung)}),g.jsx("div",{className:"border-t border-neutral-200 dark:border-neutral-800 my-2"}),g.jsx(Yr,{label:"지지삼합",...S(w.jijiSamhap)}),g.jsx(Yr,{label:"지지방합",...S(w.jijiBanghap)}),g.jsx(Yr,{label:"지지육합",...S(w.jijiYukhap)}),g.jsx(Yr,{label:"암합",...S(w.amhap)}),g.jsx(Yr,{label:"간지암합",...S(w.ganjiAmhap)}),g.jsx(Yr,{label:"지지충",...S(w.jijiChung)}),g.jsx(Yr,{label:"지지형",...S(w.jijiHyeong)}),g.jsx(Yr,{label:"지지파",...S(w.jijiPa)}),g.jsx(Yr,{label:"지지해",...S(w.jijiHae)})]})}const x2={갑:"목",을:"목",병:"화",정:"화",무:"토",기:"토",경:"금",신:"금",임:"수",계:"수"},B5={자:"수",축:"토",인:"목",묘:"목",진:"토",사:"화",오:"화",미:"토",신:"금",유:"금",술:"토",해:"수"},zc={목:"화",화:"토",토:"금",금:"수",수:"목"},Cc={화:"목",토:"화",금:"토",수:"금",목:"수"},Ws={목:"토",화:"금",토:"수",금:"목",수:"화"},R5=[{name:"극약",min:0,max:10},{name:"태약",min:10,max:20},{name:"신약",min:20,max:35},{name:"중화신약",min:35,max:45},{name:"중화",min:45,max:55},{name:"중화신강",min:55,max:65},{name:"태강",min:65,max:80},{name:"극태강",min:80,max:100.0001}],P5={해:{temp:"cold",wet:"wet"},자:{temp:"cold",wet:"wet"},축:{temp:"cold",wet:"wet"},인:{temp:"mild",wet:"normal"},묘:{temp:"mild",wet:"normal"},진:{temp:"mild",wet:"wet"},사:{temp:"hot",wet:"normal"},오:{temp:"hot",wet:"dry"},미:{temp:"hot",wet:"wet"},신:{temp:"mild",wet:"dry"},유:{temp:"mild",wet:"dry"},술:{temp:"mild",wet:"dry"}};function M0(t){return Math.max(0,Math.min(100,t))}function Zs(t,i,o){return Math.max(i,Math.min(o,t))}function z5(t){const i=M0(t);return R5.find(o=>i>=o.min&&i<o.max)?.name??"중화"}function H5(t){const i=t?.[2]?.charAt(0)??"";return x2[i]??null}function $5(t){return(t?.[1]?.charAt(1)??"")||null}function jf(t){const i=Object.entries(Ws);for(const[o,s]of i)if(s===t)return o;return"토"}function I5(t){return t?{peer:t,resource:Cc[t],leak:zc[t],wealth:Ws[t],officer:jf(t)}:null}function U5(t){const i={목:0,화:0,토:0,금:0,수:0};for(const o of t){if(!o)continue;const s=o.charAt(0),u=o.charAt(1),d=x2[s],h=B5[u];d&&(i[d]+=10),h&&(i[h]+=6)}return i}function G5(t){const i=Object.values(t).reduce((s,u)=>s+u,0);if(i<=0)return{목:20,화:20,토:20,금:20,수:20};const o={목:0,화:0,토:0,금:0,수:0};return Object.keys(t).forEach(s=>{o[s]=t[s]/i*100}),o}function Z5(t){if(!t||t.length===0)return null;const i=t.reduce((s,u)=>s+(u?.value??0),0)||0;if(i<=0)return null;const o=s=>t.find(u=>u.name===s)?.value??0;return M0((o("비겁")+o("인성"))/i*100)}function Y5(t,i){return!t||!i?null:i===t?"비겁":zc[t]===i?"식상":Ws[t]===i?"재성":jf(t)===i?"관성":Cc[t]===i?"인성":null}const lp=24,q5=[[60,0],[55,.01],[50,.03],[45,.06],[40,.1],[35,.18],[30,.32],[27,.48],[24,.62]];function V5(t){for(const[i,o]of q5)if(t>=i)return o;return 1}const df=20,i_=(t,i)=>Zs((df-(i[t]??0))/df,0,1),a_=(t,i)=>Zs(((i[t]??0)-df)/df,0,1);function K5(t,i,o,s){const u=Y5(t,o);if(!t||!u)return 0;const d=Zs((50-i)/50,0,1),h=Zs((i-50)/50,0,1),p=i_(o,s),b=a_(o,s),v=i_(t,s),x=a_(t,s),w=6.5;let S=0;if(d>0)switch(u){case"인성":S=+(.3+.4*v+.15*p)*d;break;case"비겁":S=+(.18+.45*v)*d;break;case"관성":S=-(.08+.2*(1-p)+.1*x)*d;break;case"재성":S=-(.22+.25*(1-p)+.1*(1-v))*d;break;case"식상":S=-(.35+.25*(1-p)+.1*(1-v))*d;break}else if(h>0)switch(u){case"인성":S=-(.25+.25*(1-p)+.2*x)*h;break;case"비겁":S=-(.28+.2*x)*h;break;case"관성":S=+(.18+.2*p+.15*x)*h;break;case"재성":S=+(.22+.25*p+.1*x)*h;break;case"식상":S=+(.2+.2*p)*h;break}else switch(u){case"인성":S=.08*(v+p);break;case"비겁":S=.05*v-.03*x;break;case"관성":S=.02*p-.02*b;break;case"재성":S=.01*p-.06*b;break;case"식상":S=-.05*(1-p);break}return Math.round(w*S*10)/10}function F5(t,i,o,s){const u=["중화신강","태강","극태강"].includes(i),d=["극약","태약","신약","중화신약"].includes(i),h={목:0,화:0,토:0,금:0,수:0};if(u){const p=zc[t],b=Ws[t],v=jf(t);h[p]+=28,h[b]+=22,h[v]+=20,s.get(p)?.push("억부: 일간 강 → 설기(식상)"),s.get(b)?.push("억부: 일간 강 → 재성 누설"),s.get(v)?.push("억부: 일간 강 → 관성 절제")}if(d){const p=Cc[t],b=t;h[p]+=28,h[b]+=22,s.get(p)?.push("억부: 일간 약 → 인성 보강"),s.get(b)?.push("억부: 일간 약 → 비겁 보강")}return h}function o_(t,i){if(!t)return{목:0,화:0,토:0,금:0,수:0};const o=P5[t]??{temp:"mild",wet:"normal"},s={목:0,화:0,토:0,금:0,수:0};return o.temp==="cold"?(s.화+=16,s.토+=6,i.get("화")?.push("조후: 한랭 → 화"),i.get("토")?.push("조후: 한랭습 보조")):o.temp==="hot"&&(s.수+=14,s.금+=6,i.get("수")?.push("조후: 염열 → 수"),i.get("금")?.push("조후: 제열 보조")),o.wet==="wet"?(s.토+=8,s.화+=4,i.get("토")?.push("조후: 습 → 토"),i.get("화")?.push("조후: 습냉 가온")):o.wet==="dry"&&(s.수+=8,s.목+=4,i.get("수")?.push("조후: 건조 → 수"),i.get("목")?.push("조후: 생발 보조")),s}function s_(t,i){const o={목:0,화:0,토:0,금:0,수:0},s=["목","화","토","금","수"];for(const u of s){const d=Ws[u],h=Math.max(0,(t[u]??0)-(t[d]??0));if(h<=0)continue;const p=zc[u],b=Math.round(h*.35);b>0&&(o[p]+=b,i.get(p)?.push(`통관: ${u}극${d} 완화`))}return o}function l_(t,i){const o={목:0,화:0,토:0,금:0,수:0},s=Object.entries(t),u=Math.min(...s.map(([,h])=>h)),d=s.filter(([,h])=>h<=Math.max(6,u));for(const[h]of d)o[h]+=12,i.get(h)?.push("병약: 결핍 보충");return o}function c_(t,i){const o=H5(t),s=$5(t),u=U5(t),d=G5(u);let h=Z5(i);if(h==null)if(!o)h=50;else{const K=o,I=Cc[o],X=Object.values(u).reduce((ft,gt)=>ft+gt,0)||1;h=M0(((u[K]??0)+(u[I]??0))/X*100)}const p=z5(h),b={목:0,화:0,토:0,금:0,수:0},v=new Map(["목","화","토","금","수"].map(K=>[K,[]]));if(o){const K=F5(o,p,u,v);Object.keys(b).forEach(I=>{b[I]+=K[I]??0})}const x=o_(s,v);Object.keys(b).forEach(K=>{b[K]+=x[K]??0});const w=s_(u,v);Object.keys(b).forEach(K=>{b[K]+=w[K]??0});const S=l_(u,v);Object.keys(b).forEach(K=>{b[K]+=S[K]??0});const E=I5(o),A={비겁:0,식상:0,재성:0,관성:0,인성:0};if(Array.isArray(i))for(const K of i)A[K.name]=K.value;if(h>=45&&h<=55&&E){const K=A.관성>=30||A.관성>=Math.max(A.비겁,A.식상,A.재성,A.인성)+5;h<=50?(b[E.resource]+=14,v.get(E.resource)?.push("밸런스: 중화-약측"),b[E.peer]+=10,v.get(E.peer)?.push("밸런스: 중화-약측"),b[E.leak]+=6,v.get(E.leak)?.push("밸런스: 중화-약측"),b[E.wealth]+=3,v.get(E.wealth)?.push("밸런스: 중화-약측"),K&&E.officer&&(b[E.officer]=Math.round(b[E.officer]*.8*10)/10,v.get(E.officer)?.push("밸런스: 관성 과다 억제"))):(b[E.leak]+=14,v.get(E.leak)?.push("밸런스: 중화-강측"),b[E.wealth]+=10,v.get(E.wealth)?.push("밸런스: 중화-강측"),E.officer&&(b[E.officer]+=6,v.get(E.officer)?.push("밸런스: 중화-강측")),b[E.resource]+=3,v.get(E.resource)?.push("밸런스: 중화-강측"))}["목","화","토","금","수"].forEach(K=>{const I=K5(o,h,K,d);b[K]=Zs(Math.round((b[K]+I)*10)/10,0,999)});const j=h<50;["목","화","토","금","수"].forEach(K=>{const I=d[K]??0,X=j&&o===K;if(I>=lp&&!X){const ft=V5(I);b[K]=Math.round(b[K]*ft*10)/10;const gt=Math.min(14,Math.max(0,Math.ceil((I-lp)*.5)));gt>0&&(b[K]=Zs(b[K]-gt,0,999)),v.get(K)?.push("강과 패널티(강화)")}});const $={목:[],화:[],토:[],금:[],수:[]};if(o){const K=zc[o],I=Ws[o],X=jf(o),ft=o,gt=Cc[o];$[K].push("식상"),$[I].push("재성"),$[X].push("관성"),$[ft].push("비겁"),$[gt].push("인성")}const z={목:(u.목??0)>0,화:(u.화??0)>0,토:(u.토??0)>0,금:(u.금??0)>0,수:(u.수??0)>0},C=K=>{const I=d[K]??0;return I>=lp&&!(j&&o===K)?I>=55?4:I>=45?3:2:z[K]?0:1},P=o_(s,new Map),B=s_(u,new Map),V=l_(u,new Map),J=Object.keys(b).map(K=>({element:K,score:Math.round(b[K]*10)/10,via:X5(K,P,B,V),reasons:(v.get(K)??[]).slice(),tenGodHints:$[K]})).sort((K,I)=>{const X=C(K.element),ft=C(I.element);return X!==ft?X-ft:I.score!==K.score?I.score-K.score:K.element.localeCompare(I.element)}),Q=W5(p,P,B,V),nt={비겁:0,식상:0,재성:0,관성:0,인성:0},rt=i?i.reduce((K,I)=>(K[I.name]=I.value,K),{...nt}):void 0;return{chosenType:Q,ordered:J,debug:{band:p,overallPct:h,elementScore:u,tenGodTotals:rt,monthBranch:s??void 0}}}function X5(t,i,o,s){const u=[];return(i[t]??0)>0&&u.push("조후"),(o[t]??0)>0&&u.push("통관"),(s[t]??0)>0&&u.push("병약"),u.length===0&&u.push("억부"),u}function W5(t,i,o,s){if(["극약","태약","태강","극태강"].includes(t))return"억부";const d=v=>Object.values(v).reduce((x,w)=>x+w,0),h=d(i),p=d(o),b=d(s);return h>Math.max(p,b)?"조후":p>=b?"통관":"병약"}const Q5=Object.freeze(Object.defineProperty({__proto__:null,computeYongshin:c_,default:c_},Symbol.toStringTag,{value:"Module"}));function cp(t){const i={목:0,화:0,토:0,금:0,수:0};if(!t||t.length<2)return i;const o=t.charAt(0),s=t.charAt(1),u=Ga[o],d=Fn[s];return u&&(i[u]+=50),d&&(i[d]+=50),i}const cc=t=>Math.round(t*10)/10;function js(t){const i=t.목+t.화+t.토+t.금+t.수||1;return{목:cc(t.목/i*100),화:cc(t.화/i*100),토:cc(t.토/i*100),금:cc(t.금/i*100),수:cc(t.수/i*100)}}function u_(t,i,o,s,u,d,h,p){const b=[{v:t,w:i},{v:o,w:s},{v:u,w:d},{v:h,w:p}].filter(w=>w.v&&w.w>0),v=b.reduce((w,S)=>w+S.w,0)||1;b.forEach(w=>{w.w=w.w/v});const x={목:0,화:0,토:0,금:0,수:0};for(const{v:w,w:S}of b)x.목+=w.목*S,x.화+=w.화*S,x.토+=w.토*S,x.금+=w.금*S,x.수+=w.수*S;return x}const J5=["전체","원국","대운","세운","월운"],d_={전체:{natal:.4,dae:.3,se:.2,wol:.1},원국:{natal:1},대운:{natal:.6,dae:.4},세운:{natal:.5,dae:.3,se:.2},월운:{natal:.4,dae:.3,se:.2,wol:.1}};function t4(t){const{natalElementScore:i,daewoonGz:o,sewoonGz:s,wolwoonGz:u,tab:d}=t,h=js(i),p=o?js(cp(o)):null,b=s?js(cp(s)):null,v=u?js(cp(u)):null;if(d==="전체"){const w=d_.전체;return js(u_(h,w.natal,p,w.dae,b,w.se,v,w.wol))}const x=d_[d];return js(u_(h,x.natal??0,p,x.dae??0,b,x.se??0,v,x.wol??0))}const Dr={2:4,1:3,3:2,0:1},Ps={1:4,2:3,0:2,3:1},S2={甲:"갑",乙:"을",丙:"병",丁:"정",戊:"무",己:"기",庚:"경",辛:"신",壬:"임",癸:"계"},w2={子:"자",丑:"축",寅:"인",卯:"묘",辰:"진",巳:"사",午:"오",未:"미",申:"신",酉:"유",戌:"술",亥:"해"},T2=new Set(["갑","을","병","정","무","기","경","신","임","계"]),E2=new Set(["자","축","인","묘","진","사","오","미","신","유","술","해"]),M2=new Set(Object.keys(S2)),N2=new Set(Object.keys(w2)),e4=t=>t.slice(0,1),n4=t=>t.slice(-1);function Zi(t){return T2.has(t)?t:M2.has(t)?S2[t]??t:t}function An(t){return E2.has(t)?t:N2.has(t)?w2[t]??t:t}function zs(t){return Zi(e4(t))}function tn(t){return An(n4(t))}const Tt={year:0,month:1,day:2,hour:3};function up(t,i){const o=An(t),s=[Tt.day,Tt.month,Tt.hour,Tt.year];for(const u of s)if(tn(i[u])===o)return{pos:u,weight:Dr[u]??0};return null}function N0(t,i,o){return tn(i[o])===An(t)?{pos:o,weight:Dr[o]}:null}function r4(t,i){const o=Zi(t),s=[Tt.day,Tt.month,Tt.hour,Tt.year];for(const u of s)if(zs(i[u])===o)return{pos:u,weight:Dr[u]??0};return null}const i4=/^#(연지|월지|일지|시지)X\1_/,a4=t=>i4.test(t);function f_(t){const i=new Map;for(const o of t){if(a4(o.name))continue;const s=`${o.name}@${o.pos}`,u=i.get(s);(!u||o.weight>u.weight)&&i.set(s,o)}return Array.from(i.values()).sort((o,s)=>s.weight!==o.weight?s.weight-o.weight:o.name.localeCompare(s.name,"ko"))}function Td(t){return t===3?"si":t===2?"il":t===1?"wol":"yeon"}const zo=t=>t===0?"연지":t===1?"월지":t===2?"일지":"시지",Qs=t=>t==="dae"?"대운":t==="se"?"세운":"월운",o4=(t,i)=>`#일간X${zo(i)}_${t}`,D2=(t,i)=>i===Tt.month?`#월지_${t}`:`#월지X${zo(i)}_${t}`,D0=(t,i,o)=>`#${zo(i)}X${zo(o)}_${t}`,s4=(t,i)=>`#${t==="day"?"일간":"연간"}X${zo(i)}_공망`,h_=t=>`#일주_${t}`,Ed=(t,i)=>`#${zo(i)}_${t}`,ks=(t,i)=>`#일간X${Qs(i)}_${t}`,uc=(t,i)=>`#월지X${Qs(i)}_${t}`,dp=(t,i,o)=>`#${Qs(i)}X${zo(o)}_${t}`,l4=(t,i)=>`#${i==="day"?"일간":"연간"}X${Qs(t)}_공망`,c4=(t,i)=>`#${i==="day"?"일지":"연지"}X${Qs(t)}_삼재`,m_=(t,i)=>`#연지X${Qs(t)}_${i}`;function u4(t){if(!t)return null;const i=Array.from(String(t));let o=null,s=null;for(const u of i)!o&&(T2.has(u)||M2.has(u))&&(o=Zi(u)),(E2.has(u)||N2.has(u))&&(s=An(u));return o&&s?{stem:o,branch:s}:null}function d4(t){return t.map(tn)}const ze=t=>Object.fromEntries(Object.entries(t).map(([i,o])=>[An(i),(Array.isArray(o)?o:[o]).map(An)])),f4=ze({자:"사",축:"축",인:"유",묘:"사",진:"축",사:"유",오:"사",미:"축",신:"유",유:"사",술:"축",해:"유"}),A2=ze({자:"진",축:"사",인:"오",묘:"미",진:"신",사:"유",오:"술",미:"해",신:"자",유:"축",술:"인",해:"묘"}),h4=ze({자:"인",축:"묘",인:"진",묘:"사",진:"오",사:"미",오:"신",미:"유",신:"술",유:"해",술:"자",해:"축"}),m4=ze({자:"인",축:"인",인:"사",묘:"사",진:"사",사:"신",오:"신",미:"신",신:"해",유:"해",술:"해",해:"인"}),p4=ze({자:"술",축:"술",인:"축",묘:"축",진:"축",사:"진",오:"진",미:"진",신:"미",유:"미",술:"미",해:"술"}),j2=ze({자:"술",축:"해",인:"자",묘:"축",진:"인",사:"묘",오:"진",미:"사",신:"오",유:"미",술:"신",해:"유"}),g4=ze({자:"오",축:"묘",인:"자",묘:"유",진:"오",사:"묘",오:"자",미:"유",신:"오",유:"묘",술:"자",해:"유"}),b4=ze({자:"사",축:"인",인:"진",묘:"미",진:"사",사:"인",오:"진",미:"미",신:"사",유:"인",술:"진",해:"미"}),y4=ze({자:"신",축:"술",인:"자",묘:"인",진:"진",사:"오",오:"신",미:"술",신:"자",유:"인",술:"진",해:"오"}),v4=ze({자:"사",축:"미",인:"유",묘:"해",진:"축",사:"묘",오:"사",미:"미",신:"유",유:"해",술:"축",해:"묘"}),_4=ze({자:"오",축:"미",인:"신",묘:"유",진:"술",사:"해",오:"자",미:"축",신:"인",유:"묘",술:"진",해:"사"}),k2=ze({자:"사",축:"오",인:"미",묘:"신",진:"유",사:"술",오:"해",미:"자",신:"축",유:"인",술:"묘",해:"진"}),x4=ze({자:"인",축:"묘",인:"진",묘:"사",진:"오",사:"미",오:"신",미:"유",신:"술",유:"해",술:"자",해:"축"}),S4=ze({자:"신",축:"사",인:"인",묘:"해",진:"신",사:"사",오:"인",미:"해",신:"신",유:"사",술:"인",해:"해"}),w4=ze({자:"묘",축:"진",인:"사",묘:"오",진:"미",사:"신",오:"유",미:"술",신:"해",유:"자",술:"축",해:"인"}),T4=ze({자:"유",축:"술",인:"해",묘:"자",진:"축",사:"인",오:"묘",미:"진",신:"사",유:"오",술:"미",해:"신"}),E4=ze({자:"자",축:"축",인:"인",묘:"묘",진:"진",사:"사",오:"오",미:"미",신:"신",유:"유",술:"술",해:"해"}),M4=ze({자:"오",축:"미",인:"신",묘:"유",진:"술",사:"해",오:"자",미:"축",신:"인",유:"묘",술:"진",해:"사"}),C2=ze({자:"해",축:"자",인:"축",묘:"인",진:"묘",사:"진",오:"사",미:"오",신:"미",유:"신",술:"유",해:"술"}),N4=k2,D4=A2,A4=C2,j4=ze({자:"유",축:"진",인:"해",묘:"오",진:"축",사:"신",오:"묘",미:"술",신:"사",유:"자",술:"미",해:"인"}),k4=j2,C4=ze({자:"신",축:"유",인:"술",묘:"해",진:"자",사:"축",오:"인",미:"묘",신:"진",유:"사",술:"오",해:"미"}),O4=ze({자:"축",축:"묘",인:"신",묘:"축",진:"묘",사:"신",오:"축",미:"묘",신:"신",유:"축",술:"묘",해:"신"}),L4=ze({자:"오",축:"미",인:"인",묘:"오",진:"미",사:"인",오:"오",미:"미",신:"인",유:"오",술:"미",해:"인"}),O2=t=>(Array.isArray(t)?t:String(t).split("·")).map(i=>An(i.trim())).filter(Boolean),Or=t=>Object.fromEntries(Object.entries(t).map(([i,o])=>[An(i),(Array.isArray(o)?o:[o]).map(s=>An(s))])),p_={인:"정",묘:"신",진:"임",사:"신",오:"해",미:"갑",신:"계",유:"인",술:"병",해:"을",자:"사",축:"경"},g_={인:"병",묘:"갑",진:"임",사:"경",오:"병",미:"갑",신:"임",유:"경",술:"병",해:"갑",자:"임",축:"경"},b_={인:"임",묘:"사",진:"정",사:"병",오:"인",미:"기",신:"무",유:"해",술:"신",해:"경",자:"신",축:"을"},y_={인:"신",묘:"기",진:"정",사:"을",오:"신",미:"기",신:"정",유:"을",술:"신",해:"기",자:"정",축:"을"},B4=Or({인:"술",묘:"해",진:"자",사:"축",오:"인",미:"묘",신:"진",유:"사",술:"오",해:"미",자:"신",축:"유"}),v_=Or({인:"신",묘:"유",진:"술",사:"해",오:"자",미:"축",신:"신",유:"유",술:"술",해:"해",자:"자",축:"축"}),kf=t=>Object.fromEntries(Object.entries(t).map(([i,o])=>[An(i),O2(o)])),R4=kf({인:"무인",묘:"무인",진:"무인",사:"갑오",오:"갑오",미:"갑오",신:"무신",유:"무신",술:"무신",해:"갑자",자:"갑자",축:"갑자"}),P4=kf({인:"을묘",묘:"을묘",진:"을묘",사:"병오",오:"병오",미:"병오",신:"신유",유:"신유",술:"신유",해:"임자",자:"임자",축:"임자"}),z4=kf({인:"신묘",묘:"신묘",진:"신묘",사:"무오",오:"무오",미:"무오",신:"계유",유:"계유",술:"계유",해:"병자",자:"병자",축:"병자"}),H4=kf({인:"갑자",묘:"갑자",진:"갑자",사:"갑오",오:"갑오",미:"갑오",신:"무신",유:"무신",술:"무신",해:"갑자",자:"갑자",축:"갑자"}),$4=Or({인:["해","자"],묘:["해","자"],진:["해","자"],사:["묘","미"],오:["묘","미"],미:["묘","미"],신:["인","술"],유:["인","술"],술:["인","술"],해:["축","진"],자:["축","진"],축:["축","진"]}),I4=Or({인:"인",묘:"묘",진:"신",사:"축",오:"술",미:"유",신:"진",유:"사",술:"오",해:"미",자:"해",축:"자"}),U4=Or({인:"유",묘:"사",진:"축",사:"유",오:"사",미:"축",신:"유",유:"사",술:"축",해:"유",자:"사",축:"축"}),G4=Or({인:"진",묘:"진",진:"진",사:"미",오:"미",미:"미",신:"술",유:"술",술:"술",해:"축",자:"축",축:"축"}),Z4=Or({인:["사","해"],묘:["진","술"],진:["묘","유"],사:["인","신"],오:["축","미"],미:["자","오"],신:["사","해"],유:["진","술"],술:["묘","유"],해:["인","신"],자:["축","미"],축:["자","오"]}),__=Or({인:"축",묘:"인",진:"묘",사:"진",오:"사",미:"오",신:"미",유:"신",술:"유",해:"술",자:"해",축:"자"}),Y4=Or({인:"미",묘:"오",진:"사",사:"진",오:"묘",미:"인",신:"축",유:"자",술:"해",해:"술",자:"유",축:"신"}),q4=Or({인:"술",묘:"축",진:"인",사:"사",오:"유",미:"묘",신:"자",유:"오",술:"해",해:"진",자:"신",축:"미"}),V4=Or({인:"축",묘:"자",진:"해",사:"술",오:"유",미:"신",신:"미",유:"오",술:"사",해:"진",자:"묘",축:"인"}),K4=Or({인:"해",묘:"술",진:"유",사:"신",오:"미",미:"오",신:"사",유:"진",술:"묘",해:"인",자:"축",축:"자"}),He=t=>Object.fromEntries(Object.entries(t).map(([i,o])=>[Zi(i),O2(o)])),F4=He({갑:"자·오",을:"자",병:"묘",정:"묘",무:"진·술",기:"축·미",경:"인·해",신:"인·해",임:"사·신",계:"사·신"}),x_=He({갑:"축·미",을:"자·신",병:"해·유",정:"해·유",무:"축·미",기:"자·신",경:"축·미",신:"인·오",임:"사·묘",계:"사·묘"}),X4=He({갑:"사",을:"오",병:"사",정:"오",무:"신",기:"유",경:"해",신:"자",임:"인",계:"묘"}),W4=He({갑:"유",을:"신",병:"자",정:"해",무:"묘",기:"인",경:"오",신:"사",임:"축·미",계:"진·술"}),Q4=He({갑:"미",을:"진",병:"사",정:"유",무:"술",기:"묘",경:"해",신:"신",임:"인",계:"오"}),J4=He({갑:"사",을:"오",병:"신",정:"유",무:"신",기:"유",경:"해",신:"자",임:"인",계:"묘"}),tk=He({갑:"해",을:"술",병:"신",정:"미",무:"신",기:"미",경:"사",신:"진",임:"인",계:"축"}),S_=He({갑:"진",을:"사",병:"미",정:"신",무:"미",기:"신",경:"술",신:"해",임:"축",계:"인"}),ek=He({갑:"축·묘",을:"인·진",병:"진·오",정:"사·미",무:"진·오",기:"사·미",경:"미·유",신:"신·술",임:"술·자",계:"해·축"}),nk=He({갑:"사",을:"사",병:"사",정:"신",무:"해",기:"해",경:"인",신:"인",임:"신",계:"신"}),rk=He({갑:"해",을:"자",병:"인",정:"묘",무:"인",기:"묘",경:"사",신:"오",임:"신",계:"유"}),ik=He({갑:"해",을:"오",병:"인",정:"유",무:"인",기:"유",경:"사",신:"자",임:"신",계:"묘"}),w_=He({갑:"신",을:"오",병:"인",정:"미",무:"진",기:"진",경:"술",신:"유",임:"자",계:"신"}),ak=He({갑:"유",을:"술",병:"미",정:"신",무:"사",기:"오",경:"진",신:"묘",임:"해",계:"인"}),ok=He({갑:"사",을:"자",병:"신",정:"술",무:"묘",기:"사",경:"자",신:"신",임:"술",계:"묘"}),T_=He({갑:"자",을:"해",병:"인",정:"묘",무:"오",기:"사",경:"진·술",신:"축·미",임:"신",계:"유"}),sk=He({갑:"인",정:"사",무:"신",신:"해"}),lk=He({갑:"유",을:"술",병:"자",정:"축",무:"자",기:"축",경:"묘",신:"진",임:"오",계:"미"}),E_=He({정:"축·미",신:"묘·유",계:"사·해"}),M_=He({병:"자·오",무:"인·신",임:"진·술"}),ck=He({갑:"진",을:"진",병:"축",정:"축",무:"축",기:"축",경:"미",신:"미",임:"술",계:"술"}),N_=He({갑:"묘",을:"진",병:"오",정:"미",무:"오",기:"미",경:"유",신:"술",임:"자",계:"축"}),D_=He({갑:"진",을:"미",병:"술",정:"축",무:"진",임:"술",계:"축"}),fp=[["자","미"],["인","유"],["축","오"],["묘","신"],["진","해"],["사","술"]],hp=[["인","미"],["묘","신"],["진","해"],["사","술"],["자","유"],["축","오"]],uk=new Set(["인미","미인","묘신","신문"]),A_=[["술","해"],["진","사"]],dk=[{set:new Set(["갑자","을축","병인","정묘","무진","기사","경오","신미","임술","계유"]),voids:["술","해"]},{set:new Set(["갑술","을해","병자","정축","무인","기묘","경진","신사","임오","계미"]),voids:["신","유"]},{set:new Set(["갑신","을유","병술","정해","무자","기축","경인","신묘","임진","계사"]),voids:["오","미"]},{set:new Set(["갑오","을미","병신","정유","무술","기해","경자","신축","임인","계묘"]),voids:["진","사"]},{set:new Set(["갑진","을사","병오","정미","무신","기유","경술","신해","임자","계축"]),voids:["인","묘"]},{set:new Set(["갑인","을묘","병진","정사","무오","기미","경신","신유","임진","계해"]),voids:["자","축"]}];function dc(t,i,o){const s=An(i),u=An(o);for(const[d,h]of t)if(d===s&&h===u||d===u&&h===s)return!0;return!1}function j_(t,i,o){const s=An(i),u=An(o);for(const[d,h]of t)if(d===s&&h===u||d===u&&h===s)return`${d}${h}`;return`${s}${u}`}function Md(t){for(const i of dk)if(i.set.has(t))return i.voids;return null}function mp(t){const i=An(t),o=[{group:new Set(["해","묘","미"]),years:new Set(["사","오","미"])},{group:new Set(["인","오","술"]),years:new Set(["신","유","술"])},{group:new Set(["사","유","축"]),years:new Set(["해","자","축"])},{group:new Set(["신","자","진"]),years:new Set(["인","묘","진"])}];for(const s of o)if(s.group.has(i))return Array.from(s.years);return null}function Hc(t,i){t.push(i)}function pp(t,i,o,s,u=0){const d=Ps[o]>=Ps[s]?o:s,h=D0(i,o,s);t.push({name:h,weight:Dr[d]+u,pos:d})}function Ee(t,i,o,s,u){const d=tn(t[Tt.year]),h=i[d];if(!h)return;const p=o==="MONTH"?[Tt.month]:o==="DAY"?[Tt.day]:o==="HOUR"?[Tt.hour]:[Tt.year,Tt.month,Tt.day,Tt.hour];for(const b of h)for(const v of p){const x=N0(b,t,v);x&&Hc(u,{name:D0(s,Tt.year,v),weight:x.weight,pos:v})}}function Nd(t,i,o,s){const u=tn(t[Tt.month]),d=i[u];if(!d)return;const h=Zi(d),p=r4(h,t);p&&Hc(s,{name:D2(o,p.pos),weight:p.weight,pos:p.pos})}function lr(t,i,o,s,u="ALL"){const d=tn(t[Tt.month]),h=i[d];if(!h)return;const p=u==="YEAR"?[Tt.year]:u==="DAY"?[Tt.day]:u==="HOUR"?[Tt.hour]:u==="DAY_HOUR"?[Tt.day,Tt.hour]:[Tt.year,Tt.month,Tt.day,Tt.hour];for(const b of h)for(const v of p){const x=N0(b,t,v);if(!x)continue;const w=v===Tt.month?`#월지_${o}`:D2(o,v);Hc(s,{name:w,weight:x.weight,pos:v})}}function Dd(t,i,o,s){const u=tn(t[Tt.month]),d=i[u];if(!d)return;const h=t[Tt.day];d.includes(h)&&Hc(s,{name:D0(o,Tt.month,Tt.day),weight:Dr[Tt.day],pos:Tt.day})}function Me(t,i,o,s,u){const d=zs(t[Tt.day]),h=i[d];if(!h)return;const p=u==="DAY"?[Tt.day]:u==="HOUR"?[Tt.hour]:[Tt.year,Tt.month,Tt.day,Tt.hour];for(const b of h)for(const v of p){const x=N0(b,t,v);x&&Hc(s,{name:o4(o,v),weight:x.weight,pos:v})}}function fk({natal:t,daewoon:i,sewoon:o,wolwoon:s,basis:u}){const d=`원국 ${t.join(" · ")}`,h=zs(t[Tt.day]),p=tn(t[Tt.day]),b=tn(t[Tt.month]),v=tn(t[Tt.year]),x=d4(t),w=[],S=[],E=new Set(["경진","임진","경술","무술"]);if(Ee(t,f4,"MONTH","태백",S),Ee(t,A2,"DAY","오귀",S),Ee(t,m4,"MONTH","고신",S),Ee(t,p4,"MONTH","과숙",S),Ee(t,g4,"ALL","수옥",S),Ee(t,b4,"HOUR","단명",S),Ee(t,y4,"ALL","천모",S),Ee(t,v4,"ALL","지모",S),Ee(t,_4,"ALL","대모",S),Ee(t,k2,"ALL","소모",S),Ee(t,x4,"ALL","격각",S),Ee(t,S4,"ALL","파군",S),Ee(t,w4,"ALL","구신",S),Ee(t,T4,"ALL","교신",S),Ee(t,E4,"ALL","반음",S),Ee(t,M4,"ALL","복음",S),Ee(t,C2,"ALL","병부",S),Ee(t,N4,"ALL","사부",S),Ee(t,D4,"ALL","관부",S),Ee(t,A4,"ALL","태음",S),Ee(t,j4,"ALL","세파",S),Ee(t,k4,"ALL","천구",S),Ee(t,C4,"ALL","비염",S),Ee(t,O4,"ALL","매아",S),Ee(t,L4,"ALL","탕화",S),Nd(t,p_,"천덕귀인",w),Nd(t,g_,"월덕귀인",w),Nd(t,b_,"천덕합",w),Nd(t,y_,"월덕합",w),lr(t,B4,"혈지",S,"ALL"),lr(t,v_,"금쇄",S,"YEAR"),lr(t,v_,"금쇄",S,"DAY"),Dd(t,R4,"천사",w),Dd(t,P4,"천전살",S),Dd(t,z4,"지전살",S),Dd(t,H4,"진신",S),lr(t,$4,"급각살",S,"ALL"),lr(t,I4,"단교관살",S,"ALL"),lr(t,U4,"부벽살",S,"ALL"),lr(t,G4,"욕분관살",S,"ALL"),lr(t,Z4,"사주관살",S,"ALL"),lr(t,__,"천의성",w,"ALL"),lr(t,Y4,"천희신",w,"DAY_HOUR"),lr(t,q4,"황은대사",w,"DAY_HOUR"),lr(t,V4,"홍란성",w,"ALL"),lr(t,K4,"장수성",w,"ALL"),Me(t,F4,"태극귀인",w,"ALL"),Me(t,x_,"천을귀인",w,"ALL"),Me(t,X4,"천주귀인",w,"ALL"),Me(t,W4,"천관귀인",w,"ALL"),Me(t,Q4,"천복귀인",w,"ALL"),Me(t,J4,"문창귀인",w,"ALL"),Me(t,tk,"암록",w,"ALL"),Me(t,S_,"금여록",w,"ALL"),Me(t,ek,"협록",w,"ALL"),Me(t,nk,"관귀학관",w,"ALL"),Me(t,rk,"문곡귀인",w,"ALL"),Me(t,ik,"학당귀인",w,"ALL"),Me(t,w_,"홍염",S,"ALL"),Me(t,ak,"유하",S,"ALL"),Me(t,ok,"낙정관살",S,"ALL"),Me(t,T_,"효신살",S,"DAY"),Me(t,T_,"효신살",S,"HOUR"),Me(t,E_,"음착살",S,"DAY"),Me(t,E_,"음착살",S,"HOUR"),Me(t,M_,"양착살",S,"DAY"),Me(t,M_,"양착살",S,"HOUR"),Me(t,sk,"고란살",S,"DAY"),Me(t,lk,"비인살",S,"ALL"),Me(t,ck,"재고귀인",w,"ALL"),Me(t,N_,"양인살",S,"ALL"),E.has(t[Tt.day])){S.push({name:h_("괴강살"),weight:Dr[Tt.day],pos:Tt.day});for(const F of[Tt.year,Tt.month,Tt.hour])t[F]===t[Tt.day]&&S.push({name:Ed("괴강살",F),weight:Dr[F],pos:F})}const D=D_[h];if(D)for(const F of[Tt.year,Tt.month,Tt.day,Tt.hour]){const G=zs(t[F]),M=tn(t[F]);G===h&&D.includes(M)&&S.push({name:Ed("백호대살",F),weight:Dr[F],pos:F})}for(const[F,G]of A_){const M=up(F,t),H=up(G,t);M&&H&&pp(S,"천라지망",M.pos,H.pos)}{const F=new Set(["갑","신"]),G=new Set(["묘","오","미","신"]);for(let M=0;M<=3;M++){const H=zs(t[M]),U=tn(t[M]);(F.has(H)||G.has(U))&&S.push({name:Ed("현침살",M),weight:Dr[M],pos:M})}}new Set(["갑진","을사","임신","병신","정해","경진","무술","계해","신사","기축"]).has(t[Tt.day])&&S.push({name:h_("십악대패살"),weight:Dr[Tt.day],pos:Tt.day});{const F=new Set(["을","기"]),G=new Set(["축","사"]);for(let M=0;M<=3;M++){const H=zs(t[M]),U=tn(t[M]);(F.has(H)||G.has(U))&&S.push({name:Ed("곡각살",M),weight:Dr[M],pos:M})}}{const F=[[Tt.year,Tt.month],[Tt.year,Tt.day],[Tt.month,Tt.day],[Tt.month,Tt.hour],[Tt.day,Tt.hour]];for(const[G,M]of F){const H=tn(t[G]),U=tn(t[M]);if(dc(fp,H,U)){const W=j_(fp,H,U);pp(S,`${W}원진`,G,M)}}}{const F=[[Tt.year,Tt.month,0],[Tt.month,Tt.day,1],[Tt.month,Tt.hour,0],[Tt.day,Tt.hour,0]];for(const[G,M,H]of F){const U=tn(t[G]),W=tn(t[M]);if(dc(hp,U,W)){const et=j_(hp,U,W),ut=(H?1:0)+(uk.has(U+W)?1:0);pp(S,`${et}귀문`,G,M,ut)}}}function j(F){const G=F.lastIndexOf("_");return G>=0?F.slice(G+1):F}const $=new Set(["현침살","곡각살"]);function z(F){return $.has(F)?!0:F.endsWith("원진")||F.endsWith("귀문")}function C(F){const G=new Map;for(const H of F){const U=j(H.name);G.has(U)||G.set(U,[]),G.get(U).push(H)}const M=[];for(const[H,U]of G)if(z(H))M.push(...U);else{const W=U.sort((et,ut)=>Ps[et.pos]!==Ps[ut.pos]?Ps[ut.pos]-Ps[et.pos]:ut.weight-et.weight)[0];M.push(W)}return M}const P=Md(t[Tt.day]),B=Md(t[Tt.year]);{const F=(u?.voidBasis??"day")==="day"?P:B;if(F){const[G,M]=F.map(An),H=[Tt.year,Tt.month,Tt.day,Tt.hour];for(const U of H){const W=tn(t[U]);(W===G||W===M)&&S.push({name:s4(u?.voidBasis??"day",U),weight:Dr[U],pos:U})}}}const V=C(f_(w)),J=C(f_(S)),Q={si:[],il:[],yeon:[],wol:[]},nt={si:[],il:[],yeon:[],wol:[]};for(const F of V)Q[Td(F.pos)].push(F.name);for(const F of J)nt[Td(F.pos)].push(F.name);const rt=[],K=[],I=[],X=[],ft=[],gt=[];function Z(F,G){F.includes(G)||F.push(G)}function lt(F,G){const M=u4(G);if(!M)return;const H=M.branch,U=M.stem,W=F==="dae"?rt:F==="se"?K:I,et=F==="dae"?X:F==="se"?ft:gt;Zi(p_[b])===U&&Z(W,uc("천덕귀인",F)),Zi(g_[b])===U&&Z(W,uc("월덕귀인",F)),Zi(b_[b])===U&&Z(W,uc("천덕합",F)),Zi(y_[b])===U&&Z(W,uc("월덕합",F)),__[b]?.includes(H)&&Z(W,uc("천의성",F)),x_[h]?.includes(H)&&Z(W,ks("천을귀인",F)),S_[h]?.includes(H)&&Z(W,ks("금여록",F)),w_[h]?.includes(H)&&Z(et,ks("홍염",F)),N_[h]?.includes(H)&&Z(et,ks("양인살",F)),D_[h]?.includes(H)&&Z(et,ks("백호대살",F)),F==="se"&&(h4[v]?.includes(H)&&Z(et,m_(F,"상문살")),j2[v]?.includes(H)&&Z(et,m_(F,"조객살")));for(const at of x)if(dc(A_,H,at)){const wt=up(at,t)?.pos;wt!==void 0&&Z(et,dp("천라지망",F,wt));break}new Set(["갑","신"]).has(h)&&new Set(["묘","오","미","신"]).has(H)&&Z(et,ks("현침살",F));const ut=(u?.voidBasis??"day")==="day"?P:B;ut&&(H===ut[0]||H===ut[1])&&Z(et,l4(F,u?.voidBasis??"day"));for(let at=0;at<=3;at++){const wt=tn(t[at]);dc(fp,H,wt)&&Z(et,dp("원진",F,at)),dc(hp,H,wt)&&Z(et,dp("귀문",F,at))}if(F==="se"){const at=(u?.samjaeBasis??"day")==="day"?p:v,wt=at?mp(at):null;wt&&wt.includes(H)&&Z(et,c4(F,u?.samjaeBasis??"day"))}}return lt("dae",i??null),lt("se",o??null),lt("wol",s??null),{title:d,good:{si:[],il:[],yeon:[],wol:[],...(()=>{const F={si:[],il:[],yeon:[],wol:[]};for(const G of V)F[Td(G.pos)].push(G.name);return F})(),dae:rt,se:K,wolun:I},bad:{si:[],il:[],yeon:[],wol:[],...(()=>{const F={si:[],il:[],yeon:[],wol:[]};for(const G of J)F[Td(G.pos)].push(G.name);return F})(),dae:X,se:ft,wolun:gt},meta:{voidPair:{day:Md(t[Tt.day])??void 0,year:Md(t[Tt.year])??void 0},samjaeYears:{day:mp(p)??void 0,year:mp(v)??void 0},currentBasis:{voidBasis:u?.voidBasis??"day",samjaeBasis:u?.samjaeBasis??"day"}}}}function hk(t,i){if(t==="#없음")return"bg-neutral-100 text-neutral-500 border-neutral-200 dark:bg-neutral-900 dark:text-neutral-500 dark:border-neutral-700";switch(i){case"natal":return"bg-violet-100 text-violet-800 border-violet-200 dark:bg-violet-900/30 dark:text-violet-200 dark:border-violet-800";case"dae":return"bg-blue-100 text-blue-800 border-blue-200 dark:bg-blue-900/30 dark:text-blue-200 dark:border-blue-800";case"se":return"bg-green-100 text-green-800 border-green-200 dark:bg-green-900/30 dark:text-green-200 dark:border-green-800";case"wol":return"bg-orange-100 text-orange-800 border-orange-200 dark:bg-orange-900/30 dark:text-orange-200 dark:border-orange-800";default:return""}}function mk({items:t,source:i}){const o=t.length>0?t:["#없음"];return g.jsx("div",{className:"flex flex-wrap gap-2",children:o.map((s,u)=>g.jsx("span",{className:"text-xs px-2 py-1 rounded-full border whitespace-nowrap "+hk(s,i),children:s},`${i}-${u}-${s}`))})}function k_({title:t,rows:i}){return g.jsxs("div",{className:"space-y-2 desk:flex-1 desk:px-1",children:[g.jsx("div",{className:"text-md font-bold text-neutral-800 dark:text-neutral-200 mt-2",children:t}),i.map(o=>{const u=o.items.some(d=>d!=="#없음")?"shrink-0 w-12 text-xs font-semibold text-orange-700 dark:text-orange-300 mt-1":"shrink-0 w-12 text-xs font-semibold text-neutral-700 dark:text-neutral-300 mt-1";return g.jsxs("div",{className:"flex items-start gap-3 border border-gray-700 dark:border-gray-400 p-2 rounded-sm",children:[g.jsx("div",{className:u,children:o.label}),g.jsx(mk,{items:o.items.length>0?o.items:["#없음"],source:o.source})]},`${t}-${o.label}`)})]})}function pk({pillars:t,daewoon:i,sewoon:o,wolwoon:s,tab:u="전체"}){const[d,h]=R.useState("일공망"),[p,b]=R.useState("일삼재"),v=R.useMemo(()=>({voidBasis:d==="일공망"?"day":"year",samjaeBasis:p==="일삼재"?"day":"year"}),[d,p]),x=R.useMemo(()=>fk({natal:t,daewoon:i,sewoon:o,wolwoon:s,basis:v}),[t,i,o,s,v]),{good:w,bad:S,meta:E}=x,A=Q=>Q.map(nt=>nt==="#없음"?nt:`원국 ${nt}`),D=(Q,nt)=>{if(nt==="전체")return Q;const rt=nt==="원국"?"natal":nt==="대운"?"dae":nt==="세운"?"se":"wol";return Q.filter(K=>K.source===rt)},j=[{label:"시주",items:A(w.si),source:"natal"},{label:"일주",items:A(w.il),source:"natal"},{label:"월주",items:A(w.wol),source:"natal"},{label:"연주",items:A(w.yeon),source:"natal"},{label:"대운",items:w.dae,source:"dae"},{label:"세운",items:w.se,source:"se"},{label:"월운",items:w.wolun,source:"wol"}],$=[{label:"시주",items:A(S.si),source:"natal"},{label:"일주",items:A(S.il),source:"natal"},{label:"월주",items:A(S.wol),source:"natal"},{label:"연주",items:A(S.yeon),source:"natal"},{label:"대운",items:S.dae,source:"dae"},{label:"세운",items:S.se,source:"se"},{label:"월운",items:S.wolun,source:"wol"}],z=D(j,u),C=D($,u),P=E.voidPair.day?`일공망(${E.voidPair.day.join("")})`:"일공망(—)",B=E.voidPair.year?`연공망(${E.voidPair.year.join("")})`:"연공망(—)",V=E.samjaeYears.day?`일삼재(${E.samjaeYears.day.join("·")})`:"일삼재(—)",J=E.samjaeYears.year?`연삼재(${E.samjaeYears.year.join("·")})`:"연삼재(—)";return g.jsxs("div",{className:"rounded-xl p-4 bg-neutral-100 dark:bg-neutral-900 text-neutral-900 dark:text-neutral-100 space-y-2",children:[g.jsx("div",{className:"text-base font-bold mb-1",children:"신살(길신/흉살)"}),g.jsxs("div",{className:"flex flex-wrap items-center gap-3 text-xs",children:[g.jsxs("div",{className:"flex items-center gap-2",children:[g.jsx("label",{className:"text-neutral-600 dark:text-neutral-300",children:"공망 기준"}),g.jsxs("select",{value:d,onChange:Q=>h(Q.target.value),className:"px-2 h-30 rounded border border-neutral-300 dark:border-neutral-700 bg-white dark:bg-neutral-800",children:[g.jsx("option",{value:"일공망",children:P}),g.jsx("option",{value:"연공망",children:B})]})]}),g.jsxs("div",{className:"flex items-center gap-2",children:[g.jsx("label",{className:"text-neutral-600 dark:text-neutral-300",children:"삼재 기준"}),g.jsxs("select",{value:p,onChange:Q=>b(Q.target.value),className:"px-2 h-30 rounded border border-neutral-300 dark:border-neutral-700 bg-white dark:bg-neutral-800",children:[g.jsx("option",{value:"일삼재",children:V}),g.jsx("option",{value:"연삼재",children:J})]})]})]}),g.jsxs("div",{className:"desk:flex",children:[g.jsx(k_,{title:"신(神)",rows:z}),g.jsx("div",{className:"block desk:hidden border-t border-neutral-200 dark:border-neutral-800 mt-4 mb-3"}),g.jsx(k_,{title:"살(殺)",rows:C})]})]})}const jr={year:0,month:1,day:2,hour:3},L2={[jr.year]:.3,[jr.month]:.5,[jr.day]:.3,[jr.hour]:.3},B2={[jr.year]:.15,[jr.month]:.2,[jr.day]:0,[jr.hour]:.15},gk={子:"자",丑:"축",寅:"인",卯:"묘",辰:"진",巳:"사",午:"오",未:"미",申:"신",酉:"유",戌:"술",亥:"해"},bk={甲:"갑",乙:"을",丙:"병",丁:"정",戊:"무",己:"기",庚:"경",辛:"신",壬:"임",癸:"계"},yk=new Set(["자","축","인","묘","진","사","오","미","신","유","술","해"]),vk=new Set(["갑","을","병","정","무","기","경","신","임","계"]),_k=t=>yk.has(t)?t:gk[t]??t,xk=t=>vk.has(t)?t:bk[t]??t,Sk=t=>_k(t.slice(-1)),wk=t=>xk(t.slice(0,1)),Ge=(t,i,o,s)=>({han:t,nan:i,jo:o,seup:s}),Tk={해:Ge(2,0,0,2),자:Ge(2,0,0,2),축:Ge(2,0,0,2),인:Ge(0,2,2,0),묘:Ge(0,2,0,2),진:Ge(0,2,0,2),사:Ge(0,2,2,0),오:Ge(0,2,2,0),미:Ge(0,2,2,0),신:Ge(2,0,0,2),유:Ge(2,0,2,0),술:Ge(2,0,2,0)},Ek={갑:Ge(0,1,1,0),을:Ge(0,1,1,0),병:Ge(0,2,2,0),정:Ge(0,2,2,0),무:Ge(0,0,1,0),기:Ge(0,0,0,1),경:Ge(1,0,0,1),신:Ge(1,0,0,1),임:Ge(2,0,0,2),계:Ge(2,0,0,2)},C_=t=>Math.max(0,Math.min(100,t));function O_(t,i){const o=Math.max(0,t),s=Math.max(0,i),u=o+s;return u<=0?50:s/u*100}function Mk(t){let i=0,o=0,s=0,u=0;return[{p:jr.year},{p:jr.month},{p:jr.day},{p:jr.hour}].forEach(({p:d})=>{const h=Tk[Sk(t[d])],p=Ek[wk(t[d])],b=L2[d],v=B2[d];b>0&&h&&(i+=h.han*b,o+=h.nan*b,s+=h.jo*b,u+=h.seup*b),v>0&&p&&(i+=p.han*v,o+=p.nan*v,s+=p.jo*v,u+=p.seup*v)}),{han:i,nan:o,jo:s,seup:u}}function Nk(t){return R.useMemo(()=>{const{han:i,nan:o,jo:s,seup:u}=Mk(t),d=O_(i,o),h=O_(u,s);return{hanNanPct:C_(d),joSeupPct:C_(h),raw:{han:i,nan:o,jo:s,seup:u},weights:{branch:L2,stem:B2}}},[t])}function L_({label:t,percent:i,leftHint:o,midHint:s,rightHint:u}){const d=R.useMemo(()=>Math.max(0,Math.min(100,i)),[i]),h=[10,20,35,45,55,65,80];return g.jsxs("div",{className:"w-full mx-auto p-2 desk:p-4 bg-neutral-100 dark:bg-neutral-800 rounded-xl",children:[g.jsxs("div",{className:"flex justify-between text-[11px] text-neutral-400 mb-1",children:[g.jsx("span",{children:o}),g.jsx("span",{children:s}),g.jsx("span",{children:u})]}),g.jsxs("div",{className:"relative h-4 rounded bg-gradient-to-r from-blue-500 via-yellow-400 to-red-500",children:[h.map(p=>g.jsx("div",{className:"absolute top-0 h-4 w-[1px] bg-black/30",style:{left:`${p}%`},title:`${p}%`},p)),g.jsx("div",{className:"absolute top-0 h-4 w-[1px] bg-black/40",style:{left:"50%"},title:"50%"}),g.jsx("div",{className:"absolute -top-1 h-6 w-2 bg-white rounded shadow-sm",style:{left:`${d}%`,transform:"translateX(-50%)"},"aria-label":`${t} ${d.toFixed(1)}%`})]}),g.jsxs("div",{className:"mt-2 flex items-center gap-2",children:[g.jsx("span",{className:"inline-flex items-center px-2 py-0.5 rounded-full text-xs border border-neutral-600 text-neutral-700 dark:text-neutral-200",children:t}),g.jsxs("span",{className:"text-xs text-neutral-400",children:[d.toFixed(1),"%"]})]})]})}function Dk({natal:t}){const{hanNanPct:i,joSeupPct:o}=Nk(t);return g.jsxs("div",{className:"flex gap-2",children:[g.jsx(L_,{label:"한난",percent:i,leftHint:"한",midHint:"중화",rightHint:"난"}),g.jsx(L_,{label:"조습",percent:o,leftHint:"습",midHint:"중화",rightHint:"조"})]})}const Ak=Object.freeze([]),jk={甲:"갑",乙:"을",丙:"병",丁:"정",戊:"무",己:"기",庚:"경",辛:"신",壬:"임",癸:"계"},kk={子:"자",丑:"축",寅:"인",卯:"묘",辰:"진",巳:"사",午:"오",未:"미",申:"신",酉:"유",戌:"술",亥:"해"},R2={갑:"목",을:"목",병:"화",정:"화",무:"토",기:"토",경:"금",신:"금",임:"수",계:"수"},P2={자:"수",축:"토",인:"목",묘:"목",진:"토",사:"화",오:"화",미:"토",신:"금",유:"금",술:"토",해:"수"};function Ck(t){if(!t)return"";const i=t.replace(/[()[\]{}]/g,"").replace(/\s+/g,"").replace(/[년월일시年月日時干支柱:\-_.]/g,""),o=i.match(/([갑을병정무기경신임계]).*?([자축인묘진사오미신유술해])/);if(o)return`${o[1]}${o[2]}`;const s=i.match(/([甲乙丙丁戊己庚辛壬癸]).*?([子丑寅卯辰巳午未申酉戌亥])/);return s?`${jk[s[1]]}${kk[s[2]]}`:""}function B_(t){const i=Array.isArray(t)?t.slice(0,4):[];for(;i.length<4;)i.push("");return i.map(Ck)}function R_(t){return t.length===4&&t.every(i=>i.length===2)}function Ok(t,i){const o={목:!1,화:!1,토:!1,금:!1,수:!1};for(const s of t){if(!s)continue;const u=R2[s.charAt(0)];u&&(o[u]=!0);{const d=P2[s.charAt(1)];d&&(o[d]=!0)}}return o}function P_(t){const i={목:0,화:0,토:0,금:0,수:0};for(const o of t){if(!o)continue;const s=R2[o.charAt(0)],u=P2[o.charAt(1)];s&&(i[s]+=10),u&&(i[u]+=6)}return i}function Ip(t){return typeof t=="object"&&t!==null}function Lk(t){return Ip(t)?typeof t.computeYongshin=="function"?t.computeYongshin:Ip(t.default)&&typeof t.default.computeYongshin=="function"?t.default.computeYongshin:null:null}function zd(t,i=0){if(t==null)return i;if(typeof t=="number"&&Number.isFinite(t))return t;if(typeof t=="string"){const o=Number(t.trim());return Number.isFinite(o)?o:i}if(typeof t=="object"){const o=t;for(const s of["value","val","score","amount"])if(s in o)return zd(o[s],i)}return i}function Bk({data:t,pillars:i,lunarPillars:o,daewoonGz:s}){const u=hr(At=>At.settings),d=!0,[h]=R.useState("solar"),[p,b]=R.useState(!0),[v,x]=R.useState("modern"),[w,S]=R.useState("일간 · 오행 강약"),[E,A]=R.useState("원국"),{date:D,yearGZ:j,monthGZ:$}=di(),z=R.useMemo(()=>nn(j),[j]),C=R.useMemo(()=>nn($),[$]),P=Mf(t,t?.mingSikType),B=R.useMemo(()=>{if(!P?.length)return 0;const At=P.findIndex((bt,Nt)=>{const dt=P[Nt+1]?.at;return D>=bt.at&&(!dt||D<dt)});return At!==-1?At:D<P[0].at?0:P.length-1},[P,D]),V=R.useMemo(()=>{const At=s??P?.[B]?.gz??"";return nn(At)||null},[s,P,B]),J=R.useMemo(()=>B_(i),[i]),Q=R.useMemo(()=>B_(o),[o]),nt=R_(J),rt=R_(Q),I=(h==="lunar"?rt?"lunar":"solar":nt?"solar":"lunar")==="lunar"?Q:J,X=u.hiddenStemMode==="classic"?"classic":"hgc",ft=u.hiddenStem==="regular"?"regular":"all",gt=R.useMemo(()=>({tab:E,dae:E!=="원국"&&V||void 0,se:(E==="세운"||E==="월운")&&z||void 0,wol:E==="월운"&&C||void 0}),[E,V,z,C]),Z=R.useMemo(()=>!nt&&!rt?null:r_({pillars:I,dayStem:I?.[2]?.charAt(0),mode:X,debug:d,useHarmonyOverlay:!1,criteriaMode:v}),[v,I,X,ft,d,nt,rt]),lt=R.useMemo(()=>!nt&&!rt?null:r_({pillars:I,dayStem:I?.[2]?.charAt(0),mode:X,debug:d,useHarmonyOverlay:!1,criteriaMode:v,luck:gt}),[v,I,X,ft,d,nt,rt,gt]),F=R.useMemo(()=>Z?.totals??Ak,[Z]),G=Z?.elementScoreRaw??P_(I),M=zp(I[2]?.charAt(0)),H=F.map(At=>({...At,color:M[At.name]})),U=R.useMemo(()=>{const At={비겁:0,식상:0,재성:0,관성:0,인성:0};for(const bt of F)At[bt.name]=bt.value;return At},[F]),W=R.useMemo(()=>{const At=Z?.deukFlags;if(!At)return{비겁:1,식상:1,재성:1,관성:1,인성:1};const bt=.08,Nt=.05,dt=.07,zt={비겁:1,식상:1,재성:1,관성:1,인성:1};return Object.keys(At).forEach(Qt=>{const Gt=At[Qt];zt[Qt]+=(Gt.령?bt:0)+(Gt.지?Nt:0)+(Gt.세?dt:0)}),zt},[Z?.deukFlags]),et=R.useMemo(()=>{const At=(U.비겁??0)*W.비겁+(U.인성??0)*W.인성,bt=(U.비겁??0)*W.비겁+(U.식상??0)*W.식상+(U.재성??0)*W.재성+(U.관성??0)*W.관성+(U.인성??0)*W.인성;if(bt<=0){const Nt=(U.비겁??0)+(U.식상??0)+(U.재성??0)+(U.관성??0)+(U.인성??0)||1;return((U.비겁??0)+(U.인성??0))/Nt*100}return At/bt*100},[U,W]),ut=R.useMemo(()=>Ok(I),[I]),at=R.useMemo(()=>["목","화","토","금","수"].some(At=>!ut[At]),[ut]),wt=G??P_(I),vt=E==="전체"?"월운":E,Dt=t4({natalElementScore:G,daewoonGz:vt!=="원국"?V??void 0:void 0,sewoonGz:vt==="세운"||vt==="월운"?z??void 0:void 0,wolwoonGz:vt==="월운"?C??void 0:void 0,tab:E}),$t=R.useMemo(()=>{const At=zp(I[2]?.charAt(0));return["비겁","식상","재성","관성","인성"].map(bt=>{const Nt=["목","화","토","금","수"].map(dt=>l2(dt,I[2][0])===bt?Dt[dt]:0).reduce((dt,zt)=>dt+zt,0);return{name:bt,value:Nt,color:At[bt]}})},[Dt,I]),Vt=R.useMemo(()=>{if(!lt?.perTenGod)return;const At=JSON.parse(JSON.stringify(lt.perTenGod));return["비겁","식상","재성","관성","인성"].forEach(bt=>{const Nt=$t.find(Gt=>Gt.name===bt)?.value??0,dt=At[bt],zt=zd(dt?.aVal,0)+zd(dt?.bVal,0),Qt=Gt=>Math.round((Gt+Number.EPSILON)*10)/10;if(zt>0){const Gt=Nt*zd(dt.aVal,0)/zt,Ot=Qt(Gt),ce=Qt(Nt-Ot);dt.aVal=Ot,dt.bVal=ce}else{const Gt=Qt(Nt/2),Ot=Qt(Nt-Gt);dt.aVal=Gt,dt.bVal=Ot}}),At},[lt,$t]),Yt=R.useMemo(()=>[E,V??"",z??"",C??"",D?.toISOString?.()??"",JSON.stringify(lt?.perStemElementScaled??{})].join("|"),[E,V,z,C,D,lt?.perStemElementScaled]),ne=R.useMemo(()=>{const At=Vt?["비겁","식상","재성","관성","인성"].map(Nt=>{const dt=Vt[Nt],zt=dt?.aVal??dt?.비견??dt?.정재??0,Qt=dt?.bVal??dt?.겁재??dt?.편재??0;return`${Nt}:${Number(zt)}|${Number(Qt)}`}).join(","):"none",bt=$t.map(Nt=>`${Nt.name}:${Nt.value}`).join(",");return`${Yt}||${I.join("")}||${bt}||${At}`},[Yt,I,$t,Vt]),$e=Lk(Q5),Ae=$e?$e(I,H,{elementScore:G}):null,Ve=R.useMemo(()=>{const bt=(Ip(Ae)&&Array.isArray(Ae.ordered)?Ae.ordered:[]).map(dt=>{const zt=dt.element,Qt=dt.score,Gt=dt.reasons,Ot=typeof zt=="string"?zt:"",ce=/목|木|wood/i.test(Ot)?"목":/화|火|fire/i.test(Ot)?"화":/토|土|earth/i.test(Ot)?"토":/금|金|metal/i.test(Ot)?"금":/수|水|water/i.test(Ot)?"수":null,_e=typeof Qt=="number"?Qt:ce?wt[ce]??0:0,Ze=Array.isArray(Gt)?Gt:[];return{element:Ot,elNorm:ce,score:_e,reasons:Ze}}),Nt=p?bt.map(dt=>dt.elNorm&&!ut[dt.elNorm]?{...dt,score:0,reasons:[...dt.reasons,"부재후순위: 원국(천간) 부재 → 0점"]}:dt):bt;return Nt.sort((dt,zt)=>{if(p){const Qt=dt.elNorm&&ut[dt.elNorm]?1:0,Gt=zt.elNorm&&ut[zt.elNorm]?1:0;if(Qt!==Gt)return Gt-Qt}return(zt.score??0)!==(dt.score??0)?(zt.score??0)-(dt.score??0):(dt.elNorm??dt.element).localeCompare(zt.elNorm??zt.element)}),Nt},[Ae,ut,p,wt]),ve=R.useMemo(()=>Math.max(0,...Ve.map(At=>Number.isFinite(At.score)?At.score:0)),[Ve]);return!nt&&!rt?g.jsx("div",{className:"p-4 rounded-xl bg-neutral-100 dark:bg-neutral-900 text-sm",children:"간지를 인식할 수 없어요."}):g.jsxs("div",{className:"space-y-4 mb-4",children:[g.jsx("div",{className:"flex gap-2 justify-center flex-wrap",children:J5.map(At=>g.jsx("button",{onClick:()=>A(At),className:"px-2 py-1 text-xs rounded border cursor-pointer "+(E===At?"bg-yellow-500 text-black border-yellow-600":"bg-neutral-400 dark:bg-neutral-900 text-neutral-100 dark:text-neutral-300 border-neutral-400 dark:border-neutral-700"),children:At},At))}),g.jsx("div",{className:"flex gap-2 mb-2 justify-center flex-wrap",children:["일간 · 오행 강약","형충회합","신살"].map(At=>g.jsx("button",{onClick:()=>S(At),className:"px-3 py-1 text-sm rounded border cursor-pointer "+(w===At?"bg-violet-500 text-white border-violet-600":"bg-neutral-400 dark:bg-neutral-900 text-neutral-100 dark:text-neutral-300 border-neutral-400 dark:border-neutral-700"),children:At},At))}),w==="형충회합"&&g.jsx(L5,{pillars:I,daewoon:V||void 0,sewoon:z||void 0,wolwoon:C||void 0,tab:E}),w==="일간 · 오행 강약"&&g.jsxs("div",{className:"space-y-4",children:[g.jsxs("div",{className:"ml-auto flex justify-end items-center gap-1",children:[g.jsx("button",{type:"button","aria-pressed":v==="classic",onClick:()=>x("classic"),className:"px-2 py-1 text-xs rounded border cursor-pointer "+(v==="classic"?"bg-yellow-500 text-black border-yellow-600":"bg-neutral-400 dark:bg-neutral-900 text-neutral-100 dark:text-neutral-300 border-neutral-400 dark:border-neutral-700"),children:"고전"}),g.jsx("button",{type:"button","aria-pressed":v==="modern",onClick:()=>x("modern"),className:"px-2 py-1 text-xs rounded border cursor-pointer "+(v==="modern"?"bg-yellow-500 text-black border-yellow-600":"bg-neutral-400 dark:bg-neutral-900 text-neutral-100 dark:text-neutral-300 border-neutral-400 dark:border-neutral-700"),children:"현대"})]}),g.jsx(A5,{data:$t,revKey:ne,pillars:I,daewoonGz:V,sewoonGz:z,wolwoonGz:C,perStemElement:lt?.perStemElementScaled,dayStem:I?.[2]?.charAt(0)??null}),g.jsx(O5,{value:et}),g.jsx(Dk,{natal:i}),g.jsxs("div",{className:"w-full p-4 rounded-xl bg-neutral-100 dark:bg-neutral-900 space-y-3",children:[g.jsxs("div",{className:"flex items-center justify-between",children:[g.jsx("div",{className:"text-sm font-bold",children:"용신 추천"}),at&&g.jsxs("button",{type:"button",onClick:()=>b(At=>!At),className:`text-xs px-2 py-1 rounded-lg border transition cursor-pointer
                    ${p?"bg-violet-100 text-violet-800 border-violet-200 whitespace-nowrap dark:bg-violet-900/30 dark:text-violet-200 dark:border-violet-800":"bg-white text-neutral-700 border-neutral-300 hover:bg-neutral-50 dark:bg-neutral-800 dark:text-neutral-200 dark:border-neutral-700"}`,"aria-pressed":p,children:["부재후순위: ",p?"ON":"OFF"]})]}),g.jsx("ul",{className:"space-y-2",children:Ve.map((At,bt)=>g.jsxs("li",{className:"flex items-start justify-between gap-3 rounded-lg border border-neutral-200 dark:border-neutral-800 p-2",children:[g.jsxs("div",{className:"flex items-center gap-2",children:[g.jsxs("span",{className:"text-xs px-2 py-0.5 rounded-full bg-neutral-200 dark:bg-neutral-800 text-neutral-800 dark:text-neutral-200",children:[bt+1,"위"]}),g.jsx("span",{className:"text-sm font-semibold",children:At.element})]}),g.jsxs("div",{className:"flex-1",children:[g.jsx("div",{className:"mt-1 h-1.5 w-full rounded bg-neutral-300 dark:bg-neutral-800 overflow-hidden",children:g.jsx("div",{className:"h-1.5 rounded bg-white dark:bg-neutral-100",style:{width:`${ve>0?Math.max(2,Math.min(100,Math.round((At.score??0)/ve*100))):12}%`},title:`점수 ${At.score}`})}),g.jsx("div",{className:"mt-2 flex flex-wrap gap-1.5",children:(At.reasons??[]).map((Nt,dt)=>g.jsx("span",{className:"text-[11px] px-2 py-0.5 rounded-full bg-neutral-200 dark:bg-neutral-800 text-neutral-700 dark:text-neutral-300",children:Nt},dt))})]})]},At.elNorm??At.element))})]})]}),w==="신살"&&g.jsx(pk,{pillars:I,daewoon:V||void 0,sewoon:z||void 0,wolwoon:C||void 0,tab:E})]})}function A0(t){return typeof t=="object"&&t!==null}function Rk(t){return A0(t)&&"default"in t}function Pk(t){return A0(t)&&typeof t.lunar2solar=="function"}function zk(t){if(!A0(t))throw new Error("Invalid lunar2solar result");const i=t.cYear,o=t.cMonth,s=t.cDay,u=t.isLeap;if(typeof i!="number"||typeof o!="number"||typeof s!="number")throw new Error("Invalid lunar2solar fields");return{cYear:i,cMonth:o,cDay:s,isLeap:typeof u=="boolean"?u:void 0}}function Hk(t){const i=Rk(t)?t.default:t;if(!Pk(i))throw new Error("solarlunar.lunar2solar not found");return{lunar2solar:(s,u,d,h)=>{const p=i.lunar2solar(s,u,d,!!h);return zk(p)}}}const $k=Hk(Fi),Up=!1,Ik=t=>typeof t=="string"&&t.length>=2,z_=t=>Array.isArray(t)&&t.length===4&&t.every(Ik),H_=t=>t<10?`0${t}`:`${t}`;function Uk(t){const i=t,o=typeof i.birthDay=="string"?i.birthDay:"",s=typeof i.calendarType=="string"?i.calendarType:"solar";if(o.length<8)return t;const u=Number(o.slice(0,4)),d=Number(o.slice(4,6)),h=Number(o.slice(6,8)),p=["isLeap","isLeapMonth","leapMonth","leap","lunarLeap"];let b=!1;for(const v of p){const x=i[v];if(typeof x=="boolean"){b=x;break}if(typeof x=="number"){b=x===1;break}if(typeof x=="string"){b=x==="1"||x.toLowerCase()==="true";break}}if(s==="lunar")try{const v=$k.lunar2solar(u,d,h,b),x=`${v.cYear}${H_(v.cMonth)}${H_(v.cDay)}`;return{...t,birthDay:x,calendarType:"solar"}}catch{return t}return t}function Gk({data:t}){const[i,o]=R.useState("un"),s=R.useMemo(()=>{try{const d=Uk(t);return Xa(d)}catch{return new Date}},[t]),u=R.useMemo(()=>{try{const d=De(s,t.birthPlace?.lon),h=an(s,t.birthPlace?.lon),p=Pe(s,t.mingSikType),b=Cr(s,t.mingSikType),v=[d,h,p,b];return z_(v)?v:[]}catch{return[]}},[s,t?.mingSikType,t?.birthPlace?.lon]);return g.jsxs("div",{className:"w-[96%] max-w-[640px] mx-auto",children:[g.jsxs("div",{className:"flex border-b border-neutral-700 mb-4",children:[g.jsx("button",{onClick:()=>o("un"),className:`px-2 desk:px-4 py-2 text-xs desk:text-sm cursor-pointer border-b hover:border-purple-500 hover:text-purple-500 font-bold ${i==="un"?"border-purple-500 text-purple-500":"border-transparent text-neutral-400"}`,children:"기본운 뷰어"}),g.jsx("button",{onClick:()=>o("myoun"),className:`px-2 desk:px-4 py-2 text-xs desk:text-sm cursor-pointer border-b hover:border-purple-500 hover:text-purple-500 font-bold ${i==="myoun"?"border-purple-500 text-purple-500":"border-transparent text-neutral-400"}`,children:"묘운 뷰어"}),g.jsx("button",{onClick:()=>o("report"),className:`px-2 desk:px-4 py-2 text-xs desk:text-sm cursor-pointer border-b hover:border-purple-500 hover:text-purple-500 font-bold ${i==="report"?"border-purple-500 text-purple-500":"border-transparent text-neutral-400"}`,children:"분석 레포트"})]}),i==="un"&&g.jsx(e9,{data:t}),i==="myoun"&&g.jsx(f9,{data:t}),i==="report"&&g.jsx(Bk,{data:t,pillars:z_(u)?u:[]})]})}/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zk=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),Yk=t=>t.replace(/^([A-Z])|[\s-_]+(\w)/g,(i,o,s)=>s?s.toUpperCase():o.toLowerCase()),$_=t=>{const i=Yk(t);return i.charAt(0).toUpperCase()+i.slice(1)},z2=(...t)=>t.filter((i,o,s)=>!!i&&i.trim()!==""&&s.indexOf(i)===o).join(" ").trim(),qk=t=>{for(const i in t)if(i.startsWith("aria-")||i==="role"||i==="title")return!0};/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var Vk={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kk=R.forwardRef(({color:t="currentColor",size:i=24,strokeWidth:o=2,absoluteStrokeWidth:s,className:u="",children:d,iconNode:h,...p},b)=>R.createElement("svg",{ref:b,...Vk,width:i,height:i,stroke:t,strokeWidth:s?Number(o)*24/Number(i):o,className:z2("lucide",u),...!d&&!qk(p)&&{"aria-hidden":"true"},...p},[...h.map(([v,x])=>R.createElement(v,x)),...Array.isArray(d)?d:[d]]));/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vr=(t,i)=>{const o=R.forwardRef(({className:s,...u},d)=>R.createElement(Kk,{ref:d,iconNode:i,className:z2(`lucide-${Zk($_(t))}`,`lucide-${t}`,s),...u}));return o.displayName=$_(t),o};/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fk=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],Xk=Vr("chevron-down",Fk);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wk=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],Qk=Vr("chevron-up",Wk);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jk=[["path",{d:"M19.414 14.414C21 12.828 22 11.5 22 9.5a5.5 5.5 0 0 0-9.591-3.676.6.6 0 0 1-.818.001A5.5 5.5 0 0 0 2 9.5c0 2.3 1.5 4 3 5.5l5.535 5.362a2 2 0 0 0 2.879.052 2.12 2.12 0 0 0-.004-3 2.124 2.124 0 1 0 3-3 2.124 2.124 0 0 0 3.004 0 2 2 0 0 0 0-2.828l-1.881-1.882a2.41 2.41 0 0 0-3.409 0l-1.71 1.71a2 2 0 0 1-2.828 0 2 2 0 0 1 0-2.828l2.823-2.762",key:"17lmqv"}]],tC=Vr("heart-handshake",Jk);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eC=[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-6a2 2 0 0 1 2.582 0l7 6A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"r6nss1"}]],nC=Vr("house",eC);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rC=[["path",{d:"M4 5h16",key:"1tepv9"}],["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 19h16",key:"1djgab"}]],iC=Vr("menu",rC);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aC=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],oC=Vr("plus",aC);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sC=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],lC=Vr("settings",sC);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cC=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}],["path",{d:"M7 21v-2a2 2 0 0 1 2-2h6a2 2 0 0 1 2 2v2",key:"1m6ac2"}]],uC=Vr("square-user",cC);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dC=[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]],I_=Vr("star",dC);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fC=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]],hC=Vr("user-plus",fC);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mC=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],j0=Vr("x",mC);function pC({onOpenSidebar:t,onAddNew:i,onOpenCustom:o}){return g.jsx("header",{className:"fixed min-w-[320px] top-0 left-0 right-0 bg-white dark:bg-neutral-950 border-b border-neutral-200 dark:border-neutral-800 z-55 px-2 desk:px-3 transition-colors",children:g.jsxs("div",{className:"relative max-w-[640px] w-full mx-auto h-12 sm:h-14 flex justify-between items-center",children:[g.jsx("button",{type:"button",onClick:t,"aria-label":"명식리스트 열기",className:"p-2 rounded-full text-neutral-700 dark:text-neutral-200 hover:bg-neutral-100 dark:hover:bg-neutral-800 hover:text-purple-600 dark:hover:text-purple-400 focus:outline-none focus:ring-2 focus:ring-purple-500 cursor-pointer transition-colors",children:g.jsx(iC,{size:22})}),g.jsx("h1",{className:"absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 mx-auto text-base sm:text-lg font-bold tracking-tight text-neutral-900 dark:text-neutral-100",children:"화림만세력"}),g.jsxs("div",{className:"flex gap-2",children:[g.jsx("button",{type:"button",onClick:i,"aria-label":"명식 추가",className:"w-8 h-8 sm:w-10 sm:h-10 flex items-center justify-center rounded-md bg-purple-600 text-white hover:bg-purple-700 dark:bg-purple-600 dark:hover:bg-purple-500 focus:outline-none focus:ring-2 focus:ring-purple-500 cursor-pointer transition-colors",children:g.jsx(hC,{size:18})}),g.jsx("button",{type:"button",onClick:o,"aria-label":"명식 커스텀",className:"w-8 h-8 sm:w-10 sm:h-10 flex items-center justify-center rounded-md bg-orange-600 text-white hover:bg-orange-700 dark:bg-orange-600 dark:hover:bg-orange-500 focus:outline-none focus:ring-2 focus:ring-purple-500 cursor-pointer transition-colors",children:g.jsx(uC,{size:18})})]})]})})}function gC(t){R.useEffect(()=>{const i=t??ex()??(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light");nx(i),t&&wp(t)},[t])}const H2="harim.settings.v1",$2=["theme","hiddenStem","hiddenStemMode","ilunRule","sinsalMode","sinsalBase","sinsalBloom","exposure","charType","thinEum","visibility","difficultyMode"];function bC(t){return typeof t=="string"&&$2.includes(t)}function U_(t){const i=Array.isArray(t)?t.filter(bC):[],o=$2.filter(s=>!i.includes(s));return[...i,...o]}function I2(){if(typeof window>"u")return null;try{const t=localStorage.getItem(H2);return t?JSON.parse(t):null}catch{return null}}function yC(t){if(!(typeof window>"u"))try{const o={...I2()??{},...t};localStorage.setItem(H2,JSON.stringify(o))}catch{}}function vC({open:t,onClose:i}){const{settings:o,setSettings:s}=hr(),u=R.useMemo(()=>U_(o.sectionOrder),[o.sectionOrder]),[d,h]=R.useState(u),[p,b]=R.useState(o),[v,x]=R.useState(null);gC(p.theme??"dark"),R.useEffect(()=>{if(!t)return;const D=I2();if(D){const j={...o,...D};b(j),h(U_(D.sectionOrder??j.sectionOrder))}else b(o),h([...u])},[t]);const w=(D,j)=>{b($=>{const z={...$,[D]:j};return D==="theme"&&wp(j),z})},S=()=>{s({...p,sectionOrder:d}),p.theme&&wp(p.theme),yC({...p,sectionOrder:d}),x("설정이 적용되었습니다"),i()},E=D=>{const{destination:j,source:$}=D;if(!j||j.index===$.index)return;const z=Array.from(d),[C]=z.splice($.index,1);z.splice(j.index,0,C),h(z)},A=D=>{switch(D){case"theme":return g.jsx(Nr,{title:"테마",children:g.jsx(_C,{value:p.theme??"dark",onChange:j=>w("theme",j)})});case"hiddenStem":return g.jsx(Nr,{title:"지장간 표시 타입",children:g.jsx(Co,{value:p.hiddenStem,onChange:j=>w("hiddenStem",j),options:[{label:"전체보기",value:"all"},{label:"정기만 보기",value:"regular"}]})});case"hiddenStemMode":return g.jsx(Nr,{title:"지장간 유형",children:g.jsx(Co,{value:p.hiddenStemMode,onChange:j=>w("hiddenStemMode",j),options:[{label:"고전",value:"classic"},{label:"하건충",value:"hgc"}]})});case"ilunRule":return g.jsx(Nr,{title:"일운 달력 시간타입",children:g.jsx(Co,{value:p.ilunRule??"조자시",onChange:j=>w("ilunRule",j),options:[{label:"야자시",value:"야자시"},{label:"조자시",value:"조자시"},{label:"인시",value:"인시"}]})});case"sinsalMode":return g.jsx(Nr,{title:"십이신살타입",children:g.jsx(Co,{value:p.sinsalMode,onChange:j=>w("sinsalMode",j),options:[{label:"고전",value:"classic"},{label:"현대",value:"modern"}]})});case"sinsalBase":return g.jsx(Nr,{title:"십이신살기준",children:g.jsx(Co,{value:p.sinsalBase,onChange:j=>w("sinsalBase",j),options:[{label:"일지",value:"일지"},{label:"연지",value:"연지"}]})});case"sinsalBloom":return g.jsx(Nr,{title:"개화론 적용여부",children:g.jsx(Cs,{label:"개화론 적용",checked:!!p.sinsalBloom,onChange:j=>w("sinsalBloom",j)})});case"exposure":return g.jsx(Nr,{title:"상단 노출",children:g.jsx(Co,{value:p.exposure,onChange:j=>w("exposure",j),options:[{label:"원국",value:"원국"},{label:"대운",value:"대운"},{label:"세운",value:"세운"},{label:"월운",value:"월운"}]})});case"charType":return g.jsx(Nr,{title:"글자 타입",children:g.jsx(Co,{value:p.charType,onChange:j=>w("charType",j),options:[{label:"한자",value:"한자"},{label:"한글",value:"한글"}]})});case"thinEum":return g.jsx(Nr,{title:"음간 얇게",children:g.jsx(Cs,{label:"음간 얇게",checked:!!p.thinEum,onChange:j=>w("thinEum",j)})});case"visibility":return g.jsx(Nr,{title:"표시 항목",children:g.jsxs("div",{className:"space-y-2 w-full max-w-[140px] mx-auto",children:[g.jsx(Cs,{label:"십신 표시",checked:!!p.showSipSin,onChange:j=>w("showSipSin",j)}),g.jsx(Cs,{label:"운성 표시",checked:!!p.showSibiUnseong,onChange:j=>w("showSibiUnseong",j)}),g.jsx(Cs,{label:"신살 표시",checked:!!p.showSibiSinsal,onChange:j=>w("showSibiSinsal",j)})]})});case"difficultyMode":return g.jsx(Nr,{title:"난이도 UP ver.",children:g.jsx(Cs,{label:"난이도 UP 적용",checked:!!p.difficultyMode,onChange:j=>w("difficultyMode",j)})});default:return null}};return g.jsxs(g.Fragment,{children:[g.jsx("style",{children:"[data-rbd-drag-handle-context-id]{touch-action:none!important}"}),g.jsx("div",{className:`fixed inset-0 bg-black/60 transition-opacity duration-300 z-90 ${t?"opacity-100 pointer-events-auto":"opacity-0 pointer-events-none"}`,onClick:i}),g.jsxs("div",{className:`fixed inset-x-0 mx-auto w-full max-w-[640px] h-[88dvh] bg-white text-neutral-900 dark:bg-neutral-950 dark:text-white shadow-lg rounded-t-2xl transition-bottom duration-300 z-99 ${t?"bottom-0":"bottom-[-88dvh]"}`,children:[g.jsxs("div",{className:"flex justify-between items-center p-4 border-b border-neutral-200 dark:border-neutral-800",children:[g.jsxs("div",{className:"flex items-center gap-2",children:[g.jsx("h2",{className:"text-lg font-bold",children:"설정"}),g.jsx("button",{onClick:S,className:"px-3 py-1 rounded bg-indigo-600 hover:bg-indigo-500 text-white text-sm cursor-pointer",children:"적용하기"})]}),g.jsx("button",{onClick:i,className:"p-1 rounded hover:bg-neutral-100 dark:hover:bg-neutral-900 cursor-pointer",children:g.jsx(j0,{size:22})})]}),t&&g.jsx(Tf,{onDragEnd:E,children:g.jsx(Hs,{droppableId:"settings-sections",children:D=>g.jsxs("ul",{ref:D.innerRef,...D.droppableProps,className:"flex flex-col gap-2 p-4 overflow-y-auto max-h-[80dvh] list-none",children:[d.map((j,$)=>g.jsx(Dc,{draggableId:j,index:$,children:z=>g.jsxs("li",{ref:z.innerRef,...z.draggableProps,...z.dragHandleProps,className:"!flex justify-between items-center bg-white dark:bg-neutral-800 p-2 rounded border text-sm desk:text-base select-none cursor-grab active:cursor-grabbing",children:[g.jsx("span",{className:"mr-2 select-none",children:"☰"}),g.jsx("div",{className:"flex-1 min-w-0",children:A(j)})]})},j)),D.placeholder]})})})]}),v&&g.jsx(B1,{message:v,onClose:()=>x(null),ms:1800})]})}function _C({value:t,onChange:i}){const o=t==="dark";return g.jsxs("button",{"data-no-drag":!0,onClick:()=>i(o?"light":"dark"),className:"flex items-center gap-2 px-3 py-1.5 rounded-md border text-sm cursor-pointer border-neutral-300 bg-white hover:bg-neutral-100 text-neutral-700 dark:border-neutral-700 dark:bg-neutral-900 dark:hover:bg-neutral-800 dark:text-neutral-200",title:"다크/라이트 전환","aria-pressed":o,children:[g.jsx("span",{className:"inline-block w-10 h-5 bg-neutral-300 rounded-full relative after:content-[''] after:w-4 after:h-4 after:bg-white after:rounded-full after:absolute after:top-0.5 after:left-0.5 after:transition-all dark:bg-neutral-700"}),g.jsx("span",{children:o?"다크":"라이트"})]})}function Nr({title:t,children:i}){return g.jsxs("div",{className:"p-3 rounded-lg bg-neutral-50 border border-neutral-200 text-neutral-900 dark:bg-neutral-900 dark:border-neutral-800 dark:text-neutral-100 space-y-3",children:[g.jsx("h3",{className:"text-sm font-semibold text-center",children:t}),g.jsx("div",{className:"flex justify-center",children:i})]})}function Co({value:t,onChange:i,options:o}){return g.jsx("div",{"data-no-drag":!0,className:"inline-flex rounded-md overflow-hidden border border-neutral-300 bg-white dark:border-neutral-700 dark:bg-neutral-800",onMouseDown:s=>s.stopPropagation(),onTouchStart:s=>s.stopPropagation(),children:o.map(s=>{const u=t===s.value;return g.jsx("button",{type:"button",onClick:()=>i(s.value),className:`px-3 py-1 text-sm transition-colors ${u?"bg-indigo-600 text-white":"text-neutral-700 hover:bg-neutral-100 dark:text-neutral-300 dark:hover:bg-neutral-700 cursor-pointer"}`,children:s.label},s.value)})})}function Cs({label:t,checked:i,onChange:o}){const s=`switch-${t}`;return g.jsxs("label",{"data-no-drag":!0,htmlFor:s,className:"flex items-center justify-between w-full max-w-[160px] text-sm cursor-pointer",children:[g.jsx("span",{children:t}),g.jsx("input",{id:s,type:"checkbox",checked:i,onChange:u=>o(u.target.checked),className:"peer hidden"}),g.jsx("span",{className:"w-10 h-5 bg-neutral-300 rounded-full relative after:content-[''] after:w-4 after:h-4 after:bg-white after:rounded-full after:absolute after:top-0.5 after:left-0.5 after:transition-all peer-checked:bg-green-600 peer-checked:after:translate-x-5 dark:bg-neutral-700 dark:peer-checked:bg-green-600"})]})}function xC({onShowToday:t,onShowCouple:i}){const[o,s]=R.useState(!1);return g.jsxs(g.Fragment,{children:[g.jsx("div",{className:"fixed min-w-[320px] h-[64px] bottom-0 left-0 right-0 bg-white border-t border-neutral-200 py-2 text-xs sm:text-sm z-50 dark:bg-neutral-950 dark:border-neutral-800",children:g.jsxs("nav",{className:"flex justify-around items-center max-w-[640px] w-full mx-auto",children:[g.jsx(gp,{icon:g.jsx(nC,{size:22}),label:"오늘의 사주",onClick:t}),g.jsx(gp,{icon:g.jsx(tC,{size:22}),label:"궁합",onClick:i}),g.jsx(gp,{icon:g.jsx(lC,{size:22}),label:"기타설정",onClick:()=>s(!0)})]})}),g.jsx(vC,{open:o,onClose:()=>s(!1)})]})}function gp({icon:t,label:i,onClick:o}){return g.jsxs("button",{onClick:o,className:"flex flex-col items-center justify-center text-neutral-600 hover:text-purple-600 transition-colors cursor-pointer dark:text-neutral-300 dark:hover:text-purple-400",children:[t,g.jsx("span",{className:"mt-1",children:i})]})}function SC(t,i={}){const{onConfirm:o,onCancel:s,duration:u=1/0,id:d="confirm-center",disableBackdropClose:h=!1,confirmText:p="확인",cancelText:b="취소"}=i;return km.custom(v=>{if(typeof window>"u"||!document?.body)return null;const x=()=>{const w=R.useRef(!1),S=()=>{w.current||(w.current=!0,km.dismiss(v.id),setTimeout(()=>{s?.()},0))},E=()=>{w.current||(w.current=!0,km.dismiss(v.id),setTimeout(()=>{o?.()},0))};return R.useEffect(()=>{const A=D=>{w.current||((D.key==="Escape"||D.key==="Esc")&&(D.preventDefault(),D.stopPropagation(),S()),D.key==="Enter"&&(D.preventDefault(),D.stopPropagation(),E()))};return document.addEventListener("keydown",A,{capture:!0}),()=>document.removeEventListener("keydown",A,{capture:!0})},[]),g.jsxs("div",{role:"alertdialog","aria-modal":"true","aria-live":"assertive",className:"fixed inset-0 z-[9999] flex items-center justify-center pointer-events-auto",children:[g.jsx("div",{className:"absolute inset-0 bg-black/40",onClick:h?void 0:S}),g.jsxs("div",{className:"relative z-10 bg-neutral-900 text-white px-4 py-3 rounded-lg shadow-lg border border-neutral-700 w-[min(92vw,520px)] transition-all duration-100 ease-out",children:[g.jsx("p",{className:"text-sm mb-3 whitespace-pre-line",children:t}),g.jsxs("div",{className:"flex gap-2 justify-end",children:[g.jsx("button",{type:"button",className:"px-3 py-1 text-sm rounded bg-neutral-700 hover:bg-neutral-600 cursor-pointer",onClick:S,children:b}),g.jsx("button",{type:"button",className:"px-3 py-1 text-sm rounded bg-red-600 hover:bg-red-500 cursor-pointer text-white",onClick:E,children:p})]})]})]})};return Lc.createPortal(g.jsx(x,{}),document.body)},{id:d,duration:u})}function Oo(t,i){const[o,s]=R.useState(i),[u,d]=R.useState(!1);return R.useEffect(()=>{try{if(typeof window>"u")return;const h=localStorage.getItem(t);h!=null&&s(JSON.parse(h))}catch{}finally{d(!0)}},[t]),R.useEffect(()=>{if(u)try{localStorage.setItem(t,JSON.stringify(o))}catch{}},[t,o,u]),[o,s,u]}function G_(t,i,o){const s=t.slice(),[u]=s.splice(i,1);return s.splice(o,0,u),s}const wC="list:__unassigned__",Z_="list:";function TC(t,i){const[o,s]=Oo(Wd,[]),[u,d]=Oo(BA,{}),[h,p]=Oo(LA,[]),[b,v]=Oo(L1,[]),[x,w]=Oo("ms_folder_open",{}),[S,E]=Oo("ms_memo_open",{}),[A,D]=Oo("ms_new_folder_tmp",""),j=R.useRef(0);function $(rt,K,I){const X=Date.now();X-j.current<450||(j.current=X,SC(rt,{onConfirm:K,onCancel:I,duration:Number.POSITIVE_INFINITY}))}const z=R.useMemo(()=>Xd.filter(rt=>!b.includes(rt)),[b]),C=R.useMemo(()=>[...z,...o],[z,o]);R.useEffect(()=>{p(rt=>{const K=rt.filter(I=>C.includes(I));for(const I of C)K.includes(I)||K.push(I);return K})},[C,p]);const P=R.useMemo(()=>{const rt=h.filter(I=>!!u[I]),K=h.filter(I=>!u[I]);return[...rt,...K]},[h,u]);R.useEffect(()=>{w(rt=>{const K={...rt};for(const I of P)K[I]===void 0&&(K[I]=!0);return K})},[P,w]),R.useEffect(()=>{t.filter(X=>X.folder==="미분류").forEach(X=>i(X.id,{folder:void 0}));const K=new Set(C);t.filter(X=>X.folder&&!K.has(X.folder)).forEach(X=>i(X.id,{folder:void 0}))},[t,C,i]);const{grouped:B,unassignedItems:V}=R.useMemo(()=>{const rt={};for(const X of P)rt[X]=[];const K=[];for(const X of t){const ft=X.folder;ft&&rt[ft]?rt[ft].push(X):K.push(X)}const I=(X,ft)=>+!!ft.favorite-+!!X.favorite;for(const X of Object.keys(rt))rt[X]=rt[X].slice().sort(I);return K.sort(I),{grouped:rt,unassignedItems:K}},[t,P]);function J(rt){const{destination:K,draggableId:I,type:X,source:ft}=rt;if(K){if(X==="FOLDER"){const gt=I.replace(/^folder-/,""),Z=h.filter(G=>!!u[G]),lt=h.filter(G=>!u[G]);if(!!u[gt]){const G=Z.indexOf(gt),M=Math.min(Z.length-1,K.index);p([...G_(Z,G,M),...lt])}else{const G=lt.indexOf(gt),M=Math.min(lt.length-1,K.index-Z.length);p([...Z,...G_(lt,G,M)])}return}if(X==="ITEM"){const gt=I.replace(/^item:/,""),Z=ft?.droppableId??"",lt=K?.droppableId??"",F=U=>{if(!U.startsWith(Z_))return;const W=U.slice(Z_.length);return W==="__unassigned__"?void 0:W},G=F(Z),M=F(lt);if(G===M)return;const H=t.find(U=>U.id===gt);if(!H)return;i(H.id,{folder:M});return}}}function Q(rt){const K=rt.trim();if(!K)return;const I=new Set([...P,...o]);let X=K,ft=2;for(;I.has(X);)X=`${K} ${ft++}`;s(gt=>[...gt,X]),w(gt=>({...gt,[X]:!0})),D("")}function nt(rt){t.filter(I=>I.folder===rt).forEach(I=>i(I.id,{folder:void 0})),Xd.includes(rt)?v(I=>Array.from(new Set([...I,rt]))):s(I=>I.filter(X=>X!==rt)),w(I=>{const X={...I};return delete X[rt],X}),d(I=>{const X={...I};return delete X[rt],X}),p(I=>I.filter(X=>X!==rt))}return{folderFavMap:u,setFolderFavMap:d,folderOpenMap:x,setFolderOpenMap:w,memoOpenMap:S,setMemoOpenMap:E,newFolderName:A,setNewFolderName:D,orderedFolders:P,grouped:B,unassignedItems:V,confirmThrottled:$,handleDragEnd:J,createFolder:Q,deleteFolder:nt,displayFolderLabel:RA,UNASSIGNED_LABEL:Sn,DROPPABLE_UNASSIGNED:wC}}function EC(t,i){if(!/^\d{8}$/.test(t))return t||"";const o=t.slice(0,4),s=t.slice(4,6),u=t.slice(6,8);return i&&/^\d{4}$/.test(i)?`${o}년 ${s}월 ${u}일생 ${i.slice(0,2)}:${i.slice(2,4)}분`:i==="모름"?`${o}년 ${s}월 ${u}일생 (시간 모름)`:`${o}년 ${s}월 ${u}일생`}function MC(t){if(!t)return"";const i=t.split(/[\s,]+/).filter(Boolean);if(i.length===0)return"";const o=h=>i.find(p=>h.some(b=>p.endsWith(b))),s=o(["시","군","구"]),u=o(["동","읍","면","리"]);return i.length===1||!o(["시","군","구","동","읍","면","리"])&&!o(["도","광역시","특별시","자치시","자치도"])?t:s&&u?`${s} ${u}`:s||t}function NC(t){if(!/^\d{8}$/.test(t))return"-";const i=Number(t.slice(0,4)),o=Number(t.slice(4,6)),s=Number(t.slice(6,8)),u=new Date;let d=u.getFullYear()-i;return(u.getMonth()+1<o||u.getMonth()+1===o&&u.getDate()<s)&&d--,d}function DC(t){return(t.ganji??"").replace(/\r\n/g,`
`).replace(/\s*null시\s*/gi,"").trim()}function Gp(t){return typeof t=="object"&&t!==null}function AC(t){if(!Gp(t))throw new Error("Invalid lunar2solar result");const i=t,o=i.cYear,s=i.cMonth,u=i.cDay;if(typeof o!="number"||typeof s!="number"||typeof u!="number")throw new Error("Invalid lunar2solar fields");const d=i.isLeap;return{cYear:o,cMonth:s,cDay:u,isLeap:typeof d=="boolean"?d:void 0}}function jC(t){const i=Gp(t)&&"default"in t?t.default:t;if(!Gp(i))throw new Error("solarlunar module invalid");const o=i.lunar2solar;if(typeof o!="function")throw new Error("solarlunar.lunar2solar not found");return(s,u,d)=>AC(o(s,u,d,!1))}const kC=jC(Fi);function U2(t){const i=t.mingSikType??"야자시";let o=Number(t.birthDay.slice(0,4)),s=Number(t.birthDay.slice(4,6)),u=Number(t.birthDay.slice(6,8));if(t.calendarType==="lunar"){const z=kC(o,s,u);o=z.cYear,s=z.cMonth,u=z.cDay}const d=!t.birthTime||t.birthTime==="모름",h=d?0:Number(t.birthTime.slice(0,2)||"0"),p=d?0:Number(t.birthTime.slice(2,4)||"0"),b=!t.birthPlace||t.birthPlace.name==="모름"||t.birthPlace.lon===0?127.5:t.birthPlace.lon,v=new Date(o,s-1,u,h,p,0,0),x=!t.birthPlace||typeof t.birthPlace=="object"&&t.birthPlace.name==="모름",w=Xs(v,b,x),S=d?"":w.toLocaleTimeString("ko-KR",{hour:"2-digit",minute:"2-digit"}),E=De(w,b),A=an(w,b),D=Pe(w,i),j=d?null:Cr(w,i),$=[`원국 : ${E}년 ${A}월 ${D}일`,j?`${j}시`:null].filter(Boolean).join(" ");return{correctedLocal:S,ganji:$}}const fc="list:__unassigned__",Ad=t=>`list:${t}`,bp=t=>{if(!t.startsWith("list:"))return;const i=t.slice(5);return i==="__unassigned__"?void 0:i};function CC({open:t,onClose:i,onView:o,onAddNew:s,onEdit:u}){const{list:d,remove:h,update:p}=Fs(),{folderFavMap:b,setFolderFavMap:v,folderOpenMap:x,setFolderOpenMap:w,memoOpenMap:S,setMemoOpenMap:E,newFolderName:A,setNewFolderName:D,orderedFolders:j,grouped:$,unassignedItems:z,handleDragEnd:C,createFolder:P,deleteFolder:B,UNASSIGNED_LABEL:V,displayFolderLabel:J}=TC(d,p),[Q,nt]=R.useState([]),[rt,K]=R.useState({}),[I,X]=R.useState(!1),ft=(M,H)=>{const U=new Map(H.map(ut=>[ut.id,ut])),W=rt[M]??[],et=[];for(const ut of W){const at=U.get(ut);at&&(et.push(at),U.delete(ut))}return U.forEach(ut=>et.push(ut)),et},gt=M=>{const H=bp(M),U=H?$[H]||[]:z;return ft(M,U).map(W=>W.id)};R.useEffect(()=>{K(M=>{let H=!1;const U={...M};{const W=fc,et=z.map(ut=>ut.id);if(!U[W])U[W]=et,H=!0;else{const ut=et.filter(wt=>!U[W].includes(wt));ut.length&&(U[W]=[...U[W],...ut],H=!0);const at=U[W].filter(wt=>!et.includes(wt));at.length&&(U[W]=U[W].filter(wt=>!at.includes(wt)),H=!0)}}for(const W of j){const et=Ad(W),ut=($[W]||[]).map(at=>at.id);if(!U[et])U[et]=ut,H=!0;else{const at=ut.filter(vt=>!U[et].includes(vt));at.length&&(U[et]=[...U[et],...at],H=!0);const wt=U[et].filter(vt=>!ut.includes(vt));wt.length&&(U[et]=U[et].filter(vt=>!wt.includes(vt)),H=!0)}}return H?U:M})},[z,$,j]);const Z=R.useMemo(()=>[...Q.filter(M=>j.includes(M)),...j.filter(M=>!Q.includes(M))],[Q,j]),lt=M=>M??{},F=(M,H)=>{const U=DC(M),W=MC(M.birthPlace?.name),et=`item:${M.id}`,ut=!!S[M.id];let at=new Date(M.corrected);return Fd(at.getFullYear(),at.getMonth()+1,at.getDate())&&(at=new Date(at.getTime()-3600*1e3)),g.jsx(Dc,{draggableId:et,index:H,children:wt=>g.jsx("li",{ref:wt.innerRef,...wt.draggableProps,...wt.dragHandleProps,style:lt(wt.draggableProps.style),className:`list-none select-none rounded-xl border
                       bg-white dark:bg-neutral-900
                       border-neutral-200 dark:border-neutral-800
                       text-neutral-900 dark:text-neutral-100
                       cursor-grab active:cursor-grabbing`,children:g.jsxs("div",{className:"p-3",children:[g.jsxs("div",{className:"flex items-center gap-2",children:[g.jsxs("div",{className:"font-semibold text-sm desk:text-base",children:[M.name," (",NC(M.birthDay),"세, ",M.gender,")"]}),g.jsx("span",{className:"opacity-40",children:"｜"}),g.jsx("div",{className:"text-sm text-neutral-600 dark:text-neutral-300",children:M.relationship?M.relationship:"관계 미지정"}),g.jsx("span",{className:"ml-auto opacity-50 select-none",children:"☰"})]}),g.jsxs("div",{className:"text-sm text-neutral-600 dark:text-neutral-300 mt-1",children:[EC(M.birthDay,M.birthTime),","," ",M.calendarType==="lunar"?"음력":"양력"]}),(W||at)&&g.jsxs("div",{className:"text-sm text-neutral-500 dark:text-neutral-400",children:[W,at&&g.jsxs("span",{className:"opacity-70",children:[" ","· 보정시 ",U7(at)]})]}),U&&g.jsx("div",{className:"text-sm text-neutral-800 dark:text-neutral-200 mt-1 whitespace-pre-wrap break-keep",children:U}),M.memo&&M.memo.trim()!==""&&g.jsxs("div",{children:[g.jsx("button",{type:"button",className:"text-xs text-neutral-500 dark:text-neutral-400 hover:text-neutral-800 dark:hover:text-neutral-200 inline-flex items-center gap-1 cursor-pointer",onClick:vt=>{vt.stopPropagation(),E(Dt=>({...Dt,[M.id]:!Dt[M.id]}))},children:ut?"메모 닫기":"메모 열기"}),g.jsx("div",{className:ut?"mt-1 text-sm text-neutral-800 dark:text-neutral-200 whitespace-pre-wrap":"hidden",children:M.memo})]}),g.jsxs("div",{className:"flex flex-wrap gap-2 mt-3",children:[g.jsx("select",{className:`h-30 text-xs rounded px-2 py-1 cursor-pointer
                             bg-white dark:bg-neutral-900
                             border border-neutral-300 dark:border-neutral-700
                             text-neutral-900 dark:text-neutral-100
                             focus:outline-none focus:ring-2 focus:ring-amber-500/40`,value:J(M.folder),onClick:vt=>vt.stopPropagation(),onChange:vt=>{vt.stopPropagation();const Dt=vt.target.value,$t=Gs(Dt),Vt=M.id,Yt=M.folder?Ad(M.folder):fc,ne=$t?Ad($t):fc;$t&&!j.includes($t)&&P($t),K($e=>{const Ae={...$e},Ve=gt(Yt),ve=Yt===ne?Ve.slice():gt(ne).slice(),At=Ve.indexOf(Vt);At>=0&&Ve.splice(At,1);const bt=ve.indexOf(Vt);return bt>=0&&ve.splice(bt,1),ve.unshift(Vt),Ae[Yt]=Ve,Ae[ne]=ve,Ae}),p(Vt,{folder:$t})},children:[V,...j].map(vt=>g.jsx("option",{value:vt,children:vt},vt))}),g.jsxs("select",{className:`h-30 text-xs rounded px-2 py-1 cursor-pointer
                             bg-white dark:bg-neutral-900
                             border border-neutral-300 dark:border-neutral-700
                             text-neutral-900 dark:text-neutral-100
                             focus:outline-none focus:ring-2 focus:ring-amber-500/40`,value:M.mingSikType??"야자시",onClick:vt=>vt.stopPropagation(),onChange:vt=>{vt.stopPropagation();const Dt=vt.target.value,$t={...M,mingSikType:Dt},Vt=U2($t);p(M.id,{mingSikType:Dt,...Vt}),o({...$t,...Vt}),i()},children:[g.jsx("option",{value:"야자시",children:"야자시명식"}),g.jsx("option",{value:"조자시",children:"조자시명식"}),g.jsx("option",{value:"인시",children:"인시명식"})]})]}),g.jsxs("div",{className:"flex gap-2 mt-3",children:[g.jsx("button",{onClick:vt=>{vt.stopPropagation(),o(M),i()},className:`px-3 py-1 rounded text-white text-sm cursor-pointer
                             bg-indigo-600 hover:bg-indigo-500`,children:"보기"}),g.jsx("button",{onClick:vt=>{vt.stopPropagation(),u?.(M)},className:`px-3 py-1 rounded text-white text-sm cursor-pointer
                             bg-amber-600 hover:bg-amber-500`,children:"수정"}),g.jsx("button",{onClick:vt=>{vt.stopPropagation(),confirm(`'${M.name}' 명식을 삭제할까요?`)&&h(M.id)},className:`px-3 py-1 rounded text-white text-sm cursor-pointer
                             bg-red-600 hover:bg-red-500`,children:"삭제"}),g.jsx("button",{type:"button",onClick:vt=>{vt.stopPropagation(),p(M.id,{favorite:!M.favorite})},className:`ml-auto p-1 rounded cursor-pointer ${M.favorite?"text-yellow-400":"text-neutral-400"} hover:text-yellow-400`,children:g.jsx(I_,{size:16,fill:M.favorite?"currentColor":"none"})})]})]})})},et)},G=M=>{const{source:H,destination:U,draggableId:W,type:et}=M;if(U){if(et==="FOLDER"){C(M),nt(ut=>{const at=[...ut],[wt]=at.splice(H.index,1);return at.splice(U.index,0,wt),at});return}if(et==="ITEM"){const ut=W.replace(/^item:/,""),at=H.droppableId,wt=U.droppableId;K($t=>{const Vt={...$t},Yt=gt(at),ne=at===wt?Yt.slice():gt(wt).slice();if(at===wt){const[Ve]=ne.splice(H.index,1);return ne.splice(U.index,0,Ve),Vt[at]=ne,Vt}const $e=Yt.indexOf(ut);$e>=0&&Yt.splice($e,1);const Ae=ne.indexOf(ut);return Ae>=0&&ne.splice(Ae,1),ne.splice(U.index,0,ut),Vt[at]=Yt,Vt[wt]=ne,Vt});const vt=bp(at),Dt=bp(wt);vt!==Dt&&p(ut,{folder:Dt})}}};return g.jsxs(g.Fragment,{children:[g.jsx("div",{className:`fixed inset-0 bg-black/70 transition-opacity duration-300 z-90 ${t?"opacity-100 pointer-events-auto":"opacity-0 pointer-events-none"}`,onClick:i}),g.jsxs("div",{className:`fixed top-0 left-0 h-[100dvh] min-w-[320px] w-full desk:w-1/3
                    bg-white dark:bg-neutral-950
                    text-neutral-900 dark:text-white
                    shadow-lg z-99 transition-[left] duration-300
                    ${I?"overflow-hidden":"overflow-auto"}
                    ${t?"left-0":"left-[-100%]"}`,children:[g.jsxs("div",{className:"flex justify-between items-center h-12 desk:h-16 p-4 border-b border-neutral-200 dark:border-neutral-800",children:[g.jsx("h2",{className:"text-lg font-bold",children:"명식 리스트"}),g.jsxs("div",{className:"flex items-center gap-2",children:[g.jsxs("button",{type:"button",onClick:()=>{s(),i()},className:`inline-flex items-center gap-1 px-3 py-1.5 rounded text-sm cursor-pointer
                         bg-purple-600 hover:bg-purple-500 text-white`,children:[g.jsx(oC,{size:16})," 명식추가"]}),g.jsx("button",{onClick:i,className:"p-1 rounded cursor-pointer hover:bg-neutral-100 dark:hover:bg-neutral-900",children:g.jsx(j0,{size:22})})]})]}),g.jsx(Tf,{onDragStart:()=>X(!0),onDragEnd:M=>{X(!1),G(M)},children:g.jsxs("div",{className:"p-4 h-[calc(100%-56px)] overflow-y-auto overscroll-contain",style:{touchAction:"pan-y"},children:[g.jsxs("div",{className:"flex items-center mb-2 gap-2",children:[g.jsx("input",{type:"text",value:A,onChange:M=>D(M.target.value),placeholder:"새 폴더 이름",className:`flex-1 w-[60%] px-2 py-1 rounded h-30
                           bg-white dark:bg-neutral-900
                           border border-neutral-300 dark:border-neutral-700
                           text-sm text-neutral-900 dark:text-neutral-100
                           placeholder-neutral-400 dark:placeholder-neutral-500`,onClick:M=>M.stopPropagation()}),g.jsx("button",{type:"button",onClick:()=>P(A),className:`px-3 rounded h-30 text-sm cursor-pointer
                           bg-neutral-100 hover:bg-neutral-200
                           dark:bg-neutral-800 dark:hover:bg-neutral-700
                           text-neutral-900 dark:text-neutral-100
                           border border-neutral-200 dark:border-neutral-700`,onClickCapture:M=>M.stopPropagation(),children:"생성"})]}),g.jsx("p",{className:"text-xs text-neutral-600 dark:text-neutral-400 mb-2",children:"명식/폴더를 드래그 하여 순서를 바꿀 수 있습니다."}),g.jsx(Hs,{droppableId:fc,type:"ITEM",direction:"vertical",ignoreContainerClipping:!0,children:M=>{const H=ft(fc,z);return g.jsx("div",{ref:M.innerRef,...M.droppableProps,className:"mb-6",children:g.jsxs("ul",{className:"flex flex-col gap-2",children:[H.map((U,W)=>F(U,W)),M.placeholder]})})}}),g.jsx(Hs,{droppableId:"folders:root",type:"FOLDER",direction:"vertical",ignoreContainerClipping:!0,children:M=>g.jsxs("div",{ref:M.innerRef,...M.droppableProps,children:[Z.map((H,U)=>{const W=Ad(H),et=ft(W,$[H]||[]),ut=!!x[H],at=!!b[H];return g.jsx(Dc,{draggableId:`folder-${H}`,index:U,children:wt=>g.jsxs("div",{ref:wt.innerRef,...wt.draggableProps,...wt.dragHandleProps,className:"mb-4 cursor-grab active:cursor-grabbing select-none",children:[g.jsxs("div",{className:`flex items-center justify-between px-2 py-2 rounded
                                         bg-neutral-50 dark:bg-neutral-900/70
                                         border border-neutral-200 dark:border-neutral-800
                                         text-neutral-800 dark:text-neutral-200`,children:[g.jsxs("div",{className:"flex items-center gap-2",children:[g.jsxs("button",{type:"button",onClick:vt=>{vt.stopPropagation(),w(Dt=>({...Dt,[H]:!ut}))},className:"inline-flex items-center gap-1 text-sm font-semibold cursor-pointer",children:[ut?g.jsx(Qk,{size:16}):g.jsx(Xk,{size:16}),g.jsx("span",{className:"text-sm font-semibold",children:H})]}),g.jsx("button",{type:"button",onClick:vt=>{vt.stopPropagation(),v(Dt=>({...Dt,[H]:!Dt[H]}))},className:`p-1 rounded cursor-pointer ${at?"text-yellow-400":"text-neutral-400"} hover:text-yellow-400`,children:g.jsx(I_,{size:16,fill:at?"currentColor":"none"})})]}),g.jsxs("div",{className:"flex items-center gap-2",children:[g.jsxs("span",{className:"opacity-60 text-xs",children:[et.length,"개"]}),g.jsx("button",{type:"button",onClick:vt=>{if(vt.stopPropagation(),b[H]){alert(`'${H}' 폴더는 즐겨찾기 되어 있습니다.
즐겨찾기 해제 후 삭제해주세요.`);return}confirm(`'${H}' 폴더를 삭제할까요?
(소속 항목은 바깥으로 이동합니다)`)&&B(H)},className:`px-2 py-1 rounded text-xs cursor-pointer
                                             border border-red-300 dark:border-red-700
                                             text-red-700 dark:text-red-300
                                             hover:bg-red-50 dark:hover:bg-red-900/30`,children:"삭제"})]})]}),ut&&g.jsx(Hs,{droppableId:W,type:"ITEM",direction:"vertical",ignoreContainerClipping:!0,children:vt=>g.jsx("div",{ref:vt.innerRef,...vt.droppableProps,className:"mt-2",children:g.jsxs("ul",{className:"flex flex-col gap-2",children:[et.map((Dt,$t)=>F(Dt,$t)),vt.placeholder]})})})]})},`folder-${H}`)}),M.placeholder]})})]})})]})]})}function Zp(t){return typeof t=="object"&&t!==null}function OC(t){if(!Zp(t))throw new Error("Invalid lunar2solar result");const i=t.cYear,o=t.cMonth,s=t.cDay,u=t.isLeap;if(typeof i!="number"||typeof o!="number"||typeof s!="number")throw new Error("Invalid lunar2solar fields");return{cYear:i,cMonth:o,cDay:s,isLeap:typeof u=="boolean"?u:void 0}}function LC(t){const i=Zp(t)&&"default"in t?t.default:t;if(!Zp(i))throw new Error("solarlunar module invalid");const o=i.lunar2solar;if(typeof o!="function")throw new Error("solarlunar.lunar2solar not found");return{lunar2solar:(u,d,h,p)=>{const b=o(u,d,h,p);return OC(b)}}}const BC=LC(Fi);function yp(t,i,o){const s=BC.lunar2solar(t,i,o,!1);return{y:s.cYear,m:s.cMonth,d:s.cDay}}const Y_="ms_folders",vp="w-full rounded p-2 border transition-colors duration-200 bg-white text-neutral-900 placeholder-neutral-400 border-neutral-300 focus:outline-none focus:ring-2 focus:ring-violet-500 focus:border-transparent dark:bg-neutral-900 dark:text-neutral-100 dark:placeholder-neutral-500 dark:border-neutral-700 dark:focus:ring-violet-400",RC="w-full rounded p-2 border transition-colors duration-200 bg-white text-neutral-900 border-neutral-300 focus:outline-none focus:ring-2 focus:ring-violet-500 focus:border-transparent dark:bg-neutral-900 dark:text-neutral-100 dark:border-neutral-700 dark:focus:ring-violet-400",PC="w-full rounded p-2 border min-h-28 transition-colors duration-200 bg-white text-neutral-900 placeholder-neutral-400 border-neutral-300 focus:outline-none focus:ring-2 focus:ring-violet-500 focus:border-transparent dark:bg-neutral-900 dark:text-neutral-100 dark:placeholder-neutral-500 dark:border-neutral-700 dark:focus:ring-violet-400",Gi="block text-sm mb-1 font-medium text-neutral-800 dark:text-neutral-200",zC="text-xs text-neutral-500 dark:text-neutral-400",jd="accent-violet-600 dark:accent-violet-400",q_="accent-violet-600 dark:accent-violet-400",Cf="px-3 py-1.5 rounded text-sm font-medium transition-colors duration-200 focus:outline-none focus:ring-2 focus:ring-offset-2 dark:focus:ring-offset-neutral-900",HC=`${Cf} bg-amber-600 text-white hover:bg-amber-500 dark:bg-amber-600 dark:hover:bg-amber-500 cursor-pointer`,$C=`${Cf} bg-red-600 text-white hover:bg-red-500 dark:bg-red-600 dark:hover:bg-red-500 cursor-pointer`,V_=`${Cf} bg-neutral-800 text-white hover:bg-neutral-700 dark:bg-neutral-700 dark:hover:bg-neutral-600 cursor-pointer`,IC=`${Cf} bg-green-600 text-white hover:bg-green-500 dark:bg-green-600 dark:hover:bg-green-500 cursor-pointer`;function UC({item:t,onClose:i}){const{list:o,update:s,remove:u}=Fs(),[d,h]=R.useState(!1),[p,b]=R.useState({...t,calendarType:t.calendarType??"solar"}),[v,x]=R.useState(!t.birthTime||t.birthTime==="모름"),[w,S]=R.useState(!t.birthPlace||t.birthPlace.name==="모름"),E=R.useMemo(()=>["가족","친구","직장","지인","고객","기타"],[]),[A,D]=R.useState([]);R.useEffect(()=>{try{const B=JSON.parse(localStorage.getItem(Y_)||"[]");Array.isArray(B)&&D(B)}catch{}},[]);const j=R.useMemo(()=>{const B=Array.from(new Set(o.map(Q=>Q.folder).filter(Boolean))),V=new Set([...E,...A,...B]),J=Array.from(V).sort((Q,nt)=>Q.localeCompare(nt));return[Sn,...J]},[o,A,E]),$=()=>{b({...t,calendarType:t.calendarType??"solar"}),x(!t.birthTime||t.birthTime==="모름"),S(!t.birthPlace||t.birthPlace.name==="모름")},z=()=>{if(!p.name||p.name.trim()==="")return"이름을 입력해주세요.";if(!p.birthDay||!/^\d{8}$/.test(p.birthDay))return"생년월일은 YYYYMMDD 형식으로 입력해주세요.";const B=Number(p.birthDay.slice(0,4)),V=Number(p.birthDay.slice(4,6)),J=Number(p.birthDay.slice(6,8));if(p.calendarType==="lunar")try{yp(B,V,J)}catch(Q){return Q instanceof Error?Q.message:"음력 날짜가 유효하지 않습니다."}else{const Q=new Date(B,V-1,J);if(Q.getFullYear()!==B||Q.getMonth()+1!==V||Q.getDate()!==J)return"존재하지 않는 양력 날짜입니다."}if(!v){if(!p.birthTime||!/^\d{4}$/.test(p.birthTime))return"태어난 시간은 0000–2359 형식(4자리)으로 입력해주세요.";const Q=Number(p.birthTime.slice(0,2)),nt=Number(p.birthTime.slice(2,4));if(Q<0||Q>23||nt<0||nt>59)return"태어난 시간은 0000–2359 범위여야 합니다."}return!w&&!p.birthPlace?"태어난 지역을 선택하거나 '모름'을 체크해주세요.":null},C=()=>{const B=z();if(B){alert(B);return}const V=Number(p.birthDay.slice(0,4)),J=Number(p.birthDay.slice(4,6)),Q=Number(p.birthDay.slice(6,8));let nt=V,rt=J,K=Q;if(p.calendarType==="lunar"){const wt=yp(V,J,Q);nt=wt.y,rt=wt.m,K=wt.d}const I=v?0:Number((p.birthTime??"0000").slice(0,2)),X=v?0:Number((p.birthTime??"0000").slice(2,4)),ft=w||!p.birthPlace||p.birthPlace.lon===0?127.5:p.birthPlace.lon,gt=new Date(nt,rt-1,K,I,X,0,0),Z=!p.birthPlace||typeof p.birthPlace=="object"&&p.birthPlace.name==="모름",lt=Xs(gt,ft,Z),G=De(lt,ft).charAt(0),H=((wt,vt)=>{const $t=["甲","丙","戊","庚","壬","갑","병","무","경","임"].includes(wt),Vt=(vt??"남자")==="남자";return $t?Vt?"forward":"backward":Vt?"backward":"forward"})(G,p.gender??"남자"),U=Gs(p.folder===Sn?void 0:p.folder),W={...t,name:(p.name??"").trim()||"이름없음",birthDay:p.birthDay,birthTime:v?"모름":p.birthTime??"0000",gender:p.gender??"남자",birthPlace:w?{name:"모름",lat:0,lon:127.5}:p.birthPlace??{name:"모름",lat:0,lon:127.5},relationship:p.relationship??"",memo:p.memo??"",folder:U,calendarType:p.calendarType??"solar",mingSikType:p.mingSikType??"야자시",DayChangeRule:(p.mingSikType??"야자시")==="인시"?"인시일수론":"자시일수론",dir:H,corrected:lt,correctedLocal:"",ganji:""},{correctedLocal:et,ganji:ut}=U2(W),at={...W,correctedLocal:et,ganji:ut};if(at.folder&&!E.includes(at.folder)&&!A.includes(at.folder)){const wt=[...A,at.folder];D(wt),localStorage.setItem(Y_,JSON.stringify(wt))}s(t.id,at),h(!1),i&&i()},P=()=>{confirm(`'${t.name}' 명식을 삭제할까요?`)&&u(t.id)};return d?g.jsxs("div",{className:"space-y-4 max-h-[calc(90dvh_-_40px)] overflow-auto transition-colors duration-200 bg-white text-neutral-900 dark:bg-neutral-950 dark:text-neutral-100 p-4 rounded-xl",children:[g.jsx("h3",{className:"text-lg font-bold",children:"명식 수정"}),g.jsxs("div",{children:[g.jsx("label",{className:Gi,children:"이름"}),g.jsx("input",{className:vp,value:p.name||"",onChange:B=>b({...p,name:B.target.value}),placeholder:"이름"})]}),g.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3",children:[g.jsxs("div",{children:[g.jsx("label",{className:Gi,children:"생년월일 (YYYYMMDD)"}),g.jsx("input",{className:vp,value:p.birthDay||"",onChange:B=>b({...p,birthDay:B.target.value.replace(/\D/g,"").slice(0,8)}),inputMode:"numeric",maxLength:8,placeholder:"예: 19900101"}),g.jsxs("div",{className:"flex gap-4 mt-2 items-center justify-between",children:[g.jsxs("div",{className:"flex gap-4",children:[g.jsxs("span",{className:"inline-flex items-center gap-1",children:[g.jsx("input",{type:"radio",className:jd,name:"calendarType",checked:p.calendarType==="solar",onChange:()=>b({...p,calendarType:"solar"}),id:"editor_calendar_solar"}),g.jsx("label",{htmlFor:"editor_calendar_solar",className:"inline-flex items-center gap-1 text-sm text-neutral-800 dark:text-neutral-200",children:"양력"})]}),g.jsxs("span",{className:"inline-flex items-center gap-1",children:[g.jsx("input",{type:"radio",className:jd,name:"calendarType",checked:p.calendarType==="lunar",onChange:()=>b({...p,calendarType:"lunar"}),id:"editor_calendar_lunar"}),g.jsx("label",{htmlFor:"editor_calendar_lunar",className:"inline-flex items-center gap-1 text-sm text-neutral-800 dark:text-neutral-200",children:"음력"})]})]}),p.calendarType==="lunar"&&p.birthDay?.length===8&&g.jsx("span",{className:zC,children:(()=>{try{const B=Number(p.birthDay.slice(0,4)),V=Number(p.birthDay.slice(4,6)),J=Number(p.birthDay.slice(6,8)),Q=yp(B,V,J);return`→ 양력 ${Q.y}-${String(Q.m).padStart(2,"0")}-${String(Q.d).padStart(2,"0")}`}catch(B){const V=B instanceof Error?B.message:void 0;return`→ 변환 실패${V?`: ${V}`:""}`}})()})]})]}),g.jsxs("div",{children:[g.jsx("label",{className:Gi,children:"태어난 시간 (HHMM)"}),g.jsx("input",{className:`${vp} disabled:opacity-50`,value:v?"":p.birthTime||"",onChange:B=>b({...p,birthTime:B.target.value.replace(/\D/g,"").slice(0,4)}),inputMode:"numeric",maxLength:4,placeholder:"예: 1524",disabled:v}),g.jsxs("div",{className:"mt-1 text-sm flex items-center gap-2",children:[g.jsx("input",{type:"checkbox",className:q_,checked:v,onChange:B=>x(B.target.checked),id:"editor_birthTimeX"}),g.jsx("label",{htmlFor:"editor_birthTimeX",className:"text-neutral-800 dark:text-neutral-200",children:"모름"})]})]})]}),g.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3",children:[g.jsxs("div",{children:[g.jsx("label",{className:Gi,children:"명식 기준"}),g.jsx("div",{className:"flex gap-4 text-sm",children:["야자시","조자시","인시"].map(B=>{const V=`editor_ming_${B}`;return g.jsxs("span",{className:"inline-flex items-center gap-1",children:[g.jsx("input",{type:"radio",className:jd,name:"mingSikType",checked:(p.mingSikType??"조자시")===B,onChange:()=>b({...p,mingSikType:B}),id:V}),g.jsx("label",{htmlFor:V,className:"text-neutral-800 dark:text-neutral-200",children:B})]},B)})})]}),g.jsxs("div",{children:[g.jsx("label",{className:Gi,children:"성별"}),g.jsx("div",{className:"flex gap-4 text-sm",children:["남자","여자"].map(B=>{const V=`editor_gender_${B}`;return g.jsxs("span",{className:"inline-flex items-center gap-1",children:[g.jsx("input",{type:"radio",className:jd,name:"gender",checked:p.gender===B,onChange:()=>b({...p,gender:B}),id:V}),g.jsx("label",{htmlFor:V,className:"text-neutral-800 dark:text-neutral-200",children:B})]},B)})})]})]}),g.jsxs("div",{children:[g.jsx("label",{className:Gi,children:"태어난 지역"}),g.jsx(Sx,{onSelect:B=>b({...p,birthPlace:B}),value:w?"출생지선택":p.birthPlace?.name??""}),g.jsxs("div",{className:"mt-1 text-sm flex items-center gap-2",children:[g.jsx("input",{type:"checkbox",className:q_,checked:w,onChange:B=>S(B.target.checked),id:"editor_birthPlaceX"}),g.jsx("label",{htmlFor:"editor_birthPlaceX",className:"text-neutral-800 dark:text-neutral-200",children:"모름"})]})]}),g.jsxs("div",{children:[g.jsx("label",{className:Gi,children:"관계"}),g.jsx(O1,{value:p.relationship||"",onChange:B=>b({...p,relationship:B})})]}),g.jsxs("div",{children:[g.jsx("label",{className:Gi,children:"폴더"}),g.jsx("select",{className:RC,value:p.folder??Sn,onChange:B=>{const V=B.target.value;b(V===Sn?{...p,folder:void 0}:{...p,folder:V})},children:j.map(B=>g.jsx("option",{value:B===Sn?Sn:B,children:B},B))})]}),g.jsxs("div",{children:[g.jsx("label",{className:Gi,children:"메모"}),g.jsx("textarea",{className:PC,value:p.memo||"",onChange:B=>b({...p,memo:B.target.value}),placeholder:"메모를 입력하세요"})]}),g.jsxs("div",{className:"flex gap-2 justify-end",children:[g.jsx("button",{className:V_,onClick:()=>{$(),h(!1)},children:"취소"}),g.jsx("button",{className:IC,onClick:C,children:"저장"})]})]}):g.jsxs("div",{className:"p-4 space-y-3 transition-colors duration-200 bg-white text-neutral-900 dark:bg-neutral-950 dark:text-neutral-100",children:[g.jsxs("div",{className:"flex items-center justify-between",children:[g.jsxs("h3",{className:"text-lg font-bold",children:[" ",t.name," "]}),g.jsxs("div",{className:"flex gap-2",children:[g.jsx("button",{className:HC,onClick:()=>h(!0),children:"수정"}),g.jsx("button",{className:$C,onClick:P,children:"삭제"}),i&&g.jsx("button",{className:V_,onClick:i,children:"닫기"})]})]}),g.jsxs("div",{className:"text-sm text-neutral-700 dark:text-neutral-300",children:[g.jsxs("div",{children:["성별: ",t.gender]}),g.jsxs("div",{children:["생년월일/시간: ",t.birthDay," ",t.birthTime==="모름"?"(시간 모름)":t.birthTime,","," ",t.calendarType==="lunar"?"음력":"양력"]}),g.jsxs("div",{children:["보정시: ",t.correctedLocal||"-"]}),g.jsxs("div",{children:["출생지: ",t.birthPlace?.name||"-"]}),g.jsxs("div",{children:["관계: ",t.relationship||"-"]}),g.jsxs("div",{children:["폴더: ",t.folder??Sn]})]}),t.ganji&&g.jsx("div",{className:"text-sm text-red-500 whitespace-pre-wrap",children:t.ganji}),t.memo&&g.jsxs("div",{className:"text-sm whitespace-pre-wrap text-neutral-800 dark:text-neutral-200",children:[g.jsx("p",{className:"mb-1 font-semibold",children:"메모"}),t.memo]})]})}function GC({pillarsA:t,pillarsB:i}){const o=X9(t,i);return g.jsxs("div",{className:"rounded-xl p-4 bg-neutral-100 dark:bg-neutral-900 text-neutral-900 dark:text-neutral-100 space-y-2",children:[g.jsx("div",{className:"text-sm font-bold mb-3",children:"두 명식 간 형충회합"}),Object.entries(o).map(([s,u])=>u.length>0?g.jsxs("div",{className:"flex gap-2 text-xs",children:[g.jsx("span",{className:"shrink-0 w-20 text-xs font-semibold text-neutral-700 dark:text-neutral-400 mt-1",children:s}),g.jsx("div",{className:"flex flex-wrap gap-2",children:u.map((d,h)=>g.jsx("span",{className:"text-xs px-2 py-1 rounded-full border whitespace-nowrap bg-violet-100 text-violet-800 border-violet-200 dark:bg-violet-900/30 dark:text-violet-200 dark:border-violet-800",children:d},h))})]},s):null)]})}function Of(t){return typeof t=="object"&&t!==null}function ZC(t){return Of(t)&&"default"in t}function YC(t,i){return Of(t)&&typeof t[i]=="function"}function qC(t){return typeof t=="function"}function VC(t){if(!Of(t))return!1;const i=t.cYear,o=t.cMonth,s=t.cDay;return typeof i=="number"&&typeof o=="number"&&typeof s=="number"}function KC(t){const i=ZC(t)?t.default:t;if(!Of(i))throw new Error("solarlunar module is not an object");const o=i;if(!YC(o,"lunar2solar")||!qC(o.lunar2solar))throw new Error("solarlunar.lunar2solar not found");const s=o.lunar2solar;return{lunar2solar(u,d,h,p){const b=s(u,d,h,p);if(!VC(b))throw new Error("Invalid lunar2solar result");return{y:b.cYear,m:b.cMonth,d:b.cDay}}}}const FC=KC(Fi);function XC(t){if(t instanceof Date&&!Number.isNaN(t.getTime()))return{y:t.getFullYear(),m:t.getMonth()+1,d:t.getDate()};if(typeof t=="number"){const i=String(t);if(/^\d{8}$/.test(i)){const o=Number(i.slice(0,4)),s=Number(i.slice(4,6)),u=Number(i.slice(6,8));if(o&&s&&u)return{y:o,m:s,d:u}}}if(typeof t=="string"){const i=t.trim();if(/^\d{8}$/.test(i)){const s=Number(i.slice(0,4)),u=Number(i.slice(4,6)),d=Number(i.slice(6,8));if(s&&u&&d)return{y:s,m:u,d}}const o=/^(\d{4})-(\d{2})-(\d{2})$/.exec(i);if(o){const s=Number(o[1]),u=Number(o[2]),d=Number(o[3]);if(s&&u&&d)return{y:s,m:u,d}}}return null}function WC(t){if(!t||typeof t!="object")return!1;const i=t.calendarType,o=t.calendar,s=t.isLunar,u=t.lunar,d=t.isLunarBirth,h=t.lunarBirth,p=t.isBirthLunar,b=t.calendarName;return i==="lunar"||o==="lunar"||s===!0||u===!0||d===!0||h===!0||p===!0||b==="음력"}function QC(t){if(!t||typeof t!="object")return!1;const i=t;return!!(i.isLeapMonth||i.leap||i.leapMonth||i.isLunarLeap||i.lunarLeap)}function JC(t,i,o,s){return FC.lunar2solar(t,i,o,s)}function tO(t){return typeof t=="object"&&t!==null}const eO=["갑","을","병","정","무","기","경","신","임","계","甲","乙","丙","丁","戊","己","庚","辛","壬","癸"],nO=["자","축","인","묘","진","사","오","미","신","유","술","해","子","丑","寅","卯","辰","巳","午","未","申","酉","戌","亥"],rO=new Set(eO),iO=new Set(nO);function K_(t){return typeof t=="string"&&t.length>=2&&rO.has(t[0])&&iO.has(t[1])}function Oe(t,...i){if(K_(t))return t;for(const o of i)if(K_(o))return o;return"甲子"}function kd(t,i){let o=null;const s=i.getTime();for(const u of t)if(u.at.getTime()<=s)o=u;else break;return o}function aO(t){const i=o=>String(o).padStart(2,"0");return`${t.getFullYear()}-${i(t.getMonth()+1)}-${i(t.getDate())}T${i(t.getHours())}:${i(t.getMinutes())}`}function F_(t){if(!t)return null;const i=/^(\d{4})-(\d{2})-(\d{2})T(\d{2}):(\d{2})$/.exec(t);if(!i)return null;const[,o,s,u,d,h]=i,p=new Date(+o,+s-1,+u,+d,+h);return Number.isNaN(p.getTime())?null:p}function ff(t){const i=t;return typeof i.name=="string"&&i.name?i.name:typeof i.title=="string"&&i.title?i.title:typeof i.memo=="string"&&i.memo?i.memo:"이름 없음"}function oO(t){const i=Lf(t);return`${ff(t)}-${i.toISOString()}`}function hc(t){const i=t;return typeof i.id=="string"&&i.id?i.id:oO(t)}function sO(t){return tO(t)&&("Classic"in t||"Modern"in t||"classic"in t||"modern"in t)}function lO(t){const i=Ho;return sO(i)?t==="classic"?i.Classic:i.Modern:t}function Lf(t){const i=Pc(t);if(!WC(t))return i;const o=XC(t.birthDay);if(!o)return i;const s=QC(t),u=JC(o.y,o.m,o.d,s);return new Date(u.y,u.m-1,u.d,i.getHours(),i.getMinutes())}const _p="people_picker_order_v1";function cO(t,i,o){const s=t.slice(),[u]=s.splice(i,1);return s.splice(o,0,u),s}function X_({open:t,list:i,onSelect:o,onClose:s}){const[u,d]=R.useState("");R.useEffect(()=>{t||d("")},[t]);const h=R.useMemo(()=>i.map(hc),[i]),p=R.useMemo(()=>new Set(h),[h]),[b,v]=R.useState([]);R.useEffect(()=>{const D=localStorage.getItem(_p),j=D?JSON.parse(D):[],$=j.filter(C=>p.has(C)),z=[...$,...h.filter(C=>!$.includes(C))];v(z),JSON.stringify(z)!==JSON.stringify(j)&&localStorage.setItem(_p,JSON.stringify(z))},[h,p]);const x=D=>{v(D),localStorage.setItem(_p,JSON.stringify(D))},w=R.useMemo(()=>{const D=new Map(i.map($=>[hc($),$])),j=[];for(const $ of b){const z=D.get($);z&&j.push(z)}return D.forEach(($,z)=>{b.includes(z)||j.push($)}),j},[i,b]),S=R.useMemo(()=>{const D=u.trim().toLowerCase();return D?w.filter(j=>ff(j).toLowerCase().includes(D)):w},[w,u]),E=u.trim()==="",A=D=>{const{destination:j,source:$}=D;if(!j||!E||j.index===$.index)return;const z=S.map(hc),C=cO(z,$.index,j.index),B=w.map(hc).filter(J=>!z.includes(J)),V=[...C,...B];x(V)};return g.jsxs(g.Fragment,{children:[g.jsx("style",{children:"[data-rbd-drag-handle-context-id]{touch-action:none!important}"}),g.jsx("div",{className:`fixed inset-0 bg-black/60 transition-opacity duration-200 z-[1000] ${t?"opacity-100 pointer-events-auto":"opacity-0 pointer-events-none"}`,onClick:s}),g.jsxs("div",{className:`fixed bottom-0 inset-x-0 mx-auto w-full max-w-[640px] max-h-[80dvh] bg-white dark:bg-neutral-950 rounded-t-2xl border border-neutral-200 dark:border-neutral-800 p-4 overflow-auto transition-bottom duration-300 z-[1001] ${t?"bottom-0":"bottom-[-80dvh]"}`,children:[g.jsxs("div",{className:"flex items-center justify-between mb-3",children:[g.jsx("h3",{className:"text-sm font-semibold text-neutral-900 dark:text-neutral-200",children:"명식 선택"}),g.jsx("button",{onClick:s,className:"text-neutral-500 hover:text-neutral-900 dark:text-neutral-400 dark:hover:text-white text-sm cursor-pointer",children:"닫기"})]}),g.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[g.jsx("input",{placeholder:"이름 검색",value:u,onChange:D=>d(D.target.value),className:"flex-1 px-3 py-2 rounded bg-white dark:bg-neutral-900 border border-neutral-300 dark:border-neutral-700 text-sm text-neutral-900 dark:text-neutral-100"}),!E&&g.jsx("span",{className:"text-[11px] text-neutral-500 dark:text-neutral-400 whitespace-nowrap",children:"검색 중엔 순서 변경 불가"})]}),g.jsx(Tf,{onDragEnd:A,children:g.jsx(Hs,{droppableId:"peopleList",children:D=>g.jsxs("ul",{ref:D.innerRef,...D.droppableProps,className:"flex flex-col gap-2 max-h-[60vh] overflow-y-auto",children:[S.map((j,$)=>{const z=String(hc(j));return g.jsx(Dc,{draggableId:z,index:$,children:C=>g.jsx("li",{ref:C.innerRef,...C.draggableProps,...C.dragHandleProps,onClick:()=>o(j),className:"w-full text-left p-3 rounded border bg-white dark:bg-neutral-900 border-neutral-300 dark:border-neutral-800 cursor-grab select-none active:cursor-grabbing",children:g.jsxs("div",{className:"flex items-center gap-2",children:[g.jsx("span",{className:"mr-2 select-none",children:"☰"}),g.jsxs("div",{className:"flex-1 min-w-0",children:[g.jsx("div",{className:"text-neutral-900 dark:text-neutral-50 text-sm truncate",children:ff(j)}),g.jsx("div",{className:"text-neutral-500 dark:text-neutral-400 text-xs",children:vc(Lf(j))})]})]})})},z)}),D.placeholder]})})})]})]})}function xp({label:t,gzHour:i,gzDay:o,gzMonth:s,gzYear:u,dayStem:d,cardSettings:h,sinsalBaseBranch:p,sinsalMode:b,sinsalBloom:v}){const x=D=>{const j=h.showSibiUnseong?qi(d,D):"",$=h.showSibiSinsal?Vi({baseBranch:p,targetBranch:D,era:lO(b),gaehwa:!!v}):"";return{unseongText:j||void 0,shinsalText:$||void 0}},w=Oe(i).charAt(1),S=Oe(o).charAt(1),E=Oe(s).charAt(1),A=Oe(u).charAt(1);return g.jsxs("div",{className:"rounded-lg border bg-white dark:bg-neutral-900 border-neutral-200 dark:border-neutral-800 py-2 desk:p-2",children:[g.jsx("div",{className:"px-2 py-1 text-xs text-neutral-600 dark:text-neutral-300",children:t}),g.jsx("div",{className:"grid grid-cols-4 gap-1 text-neutral-900 dark:text-white",children:[["시주",Oe(i),w],["일주",Oe(o),S],["월주",Oe(s),E],["연주",Oe(u),A]].map(([D,j,$])=>{const{unseongText:z,shinsalText:C}=x($);return g.jsx(Ro,{label:D,gz:j,dayStem:d,settings:h,unseongText:z,shinsalText:C,hideBranchSipSin:!0,size:"sm"},`${t}-${D}`)})})]})}function uO(t){if(!t)return"";const i=t,o=p=>typeof i[p]=="string"?String(i[p]).trim().toLowerCase():null,s=p=>typeof i[p]=="boolean"?i[p]:null,u=[o("gender"),o("sex"),o("genderType"),o("성별"),o("sexType"),o("g")].filter(p=>!!p);for(const p of u){if(["남","남자","male","m","boy","man"].includes(p))return"남";if(["여","여자","female","f","girl","woman"].includes(p))return"여"}const d=s("isMale"),h=s("isFemale");return d===!0?"남":h===!0?"여":""}function Os({label:t,data:i,mode:o,effectiveDate:s,onPick:u}){const d=hr(B=>B.settings),h=R.useMemo(()=>i?Lf(i):null,[i]),p=Oe(h?Cr(h,"야자시"):void 0),b=Oe(h?Pe(h,"야자시"):void 0),v=Oe(h?an(h):void 0),x=Oe(h?De(h):void 0),w=R.useMemo(()=>b.charAt(0)||"갑",[b]),S=R.useMemo(()=>{if(!i)return null;try{return Xa(i)}catch{return null}},[i]),E=R.useMemo(()=>!i?.birthPlace||i.birthPlace.name==="모름"||i.birthPlace.lon===0?127.5:i.birthPlace.lon,[i]),A=i?.mingSikType??"야자시",D=R.useMemo(()=>{const B=S?Pe(S,A).charAt(1):b.charAt(1)||"子",V=S?De(S,E).charAt(1):x.charAt(1)||"子";return d.sinsalBase==="일지"?B:V},[d.sinsalBase,S,A,E,b,x]),j=R.useMemo(()=>{if(o!=="묘운"||!h||!i)return null;try{const B=I1(h,p,i.dir,120,i.mingSikType),V=G1(B,b,i.dir,i.DayChangeRule),J=Ef(h,v,i.dir,120,i?.birthPlace?.lon??127.5),Q=Y1(J,x,i.dir,i.DayChangeRule,h),nt=s;return{si:Oe(kd(B.events,nt)?.gz,p),il:Oe(kd(V.events,nt)?.gz,b),wl:Oe(kd(J.events,nt)?.gz,v),yn:Oe(kd(Q.events,nt)?.gz,x)}}catch{return null}},[o,h,p,b,v,x,s,i]),$=R.useMemo(()=>{if(o!=="실시간")return null;const B=s;return{si:Oe(Cr(B,"야자시")),il:Oe(Pe(B,"야자시")),wl:Oe(an(B)),yn:Oe(De(B))}},[o,s]),z=i?ff(i):"",C=h?vc(h):"",P=i?uO(i):"";return i?g.jsxs("div",{className:"space-y-2",children:[g.jsx("button",{onClick:u,className:"px-3 py-1 rounded text-xs bg-neutral-900 dark:bg-white text-white dark:text-neutral-900 border border-neutral-900 dark:border-white hover:opacity-90 cursor-pointer",title:"명식 바꾸기",children:"명식 선택"}),g.jsxs("div",{className:"text-[11px] text-neutral-600 dark:text-neutral-300",children:[g.jsx("span",{className:"font-semibold text-neutral-900 dark:text-neutral-200",children:t}),g.jsx("span",{className:"ml-2 text-neutral-900 dark:text-neutral-50",children:z}),P&&g.jsxs("span",{className:"ml-1 text-neutral-500 dark:text-neutral-400",children:["· ",P]}),C&&g.jsx("span",{className:"block desk:inline-block mt-1 text-neutral-500 dark:text-neutral-400 text-[10px]",children:C})]}),o==="원국"&&g.jsx(xp,{label:"원국",gzHour:p,gzDay:b,gzMonth:v,gzYear:x,dayStem:w,cardSettings:d,sinsalBaseBranch:D,sinsalMode:d.sinsalMode,sinsalBloom:!!d.sinsalBloom}),o==="묘운"&&j&&g.jsx(xp,{label:"묘운",gzHour:j.si,gzDay:j.il,gzMonth:j.wl,gzYear:j.yn,dayStem:w,cardSettings:d,sinsalBaseBranch:D,sinsalMode:d.sinsalMode,sinsalBloom:!!d.sinsalBloom}),o==="실시간"&&$&&g.jsx(xp,{label:"실시간",gzHour:$.si,gzDay:$.il,gzMonth:$.wl,gzYear:$.yn,dayStem:w,cardSettings:d,sinsalBaseBranch:D,sinsalMode:d.sinsalMode,sinsalBloom:!!d.sinsalBloom})]}):g.jsx("div",{className:"flex items-center justify-center h-48 rounded-lg border border-dashed bg-white dark:bg-neutral-900 border-neutral-300 dark:border-neutral-700",children:g.jsx("button",{onClick:u,className:"px-3 py-2 rounded bg-neutral-900 dark:bg-white text-white dark:text-neutral-900 text-sm hover:opacity-90 cursor-pointer",children:"명식 선택하기"})})}function dO({people:t=[]}){const[i,o]=R.useState(),[s,u]=R.useState(),[d,h]=R.useState(!1),[p,b]=R.useState(!1),v=R.useRef(new Date),[x,w]=R.useState(()=>aO(v.current)),S=R.useRef(F_(x)??v.current),E=R.useMemo(()=>{const C=F_(x);return C&&(S.current=C),S.current},[x]),[A,D]=R.useState(!1),[j,$]=R.useState(!1);function z(C){if(!C)return["甲子","甲子","甲子","甲子"];try{const P=Lf(C),B={hour:Oe(Cr(P,"야자시")),day:Oe(Pe(P,"야자시")),month:Oe(an(P)),year:Oe(De(P))};return[B.year,B.month,B.day,B.hour]}catch{return["甲子","甲子","甲子","甲子"]}}return g.jsxs(g.Fragment,{children:[g.jsxs("div",{className:"w-[96%] max-w-[640px] mx-auto bg-white dark:bg-neutral-950 text-neutral-900 dark:text-neutral-100 rounded-xl shadow border border-neutral-200 dark:border-neutral-800 px-2 py-4 desk:p-4",children:[g.jsxs("header",{className:"flex gap-3 justify-between items-center mb-4",children:[g.jsx("div",{className:"font-semibold text-sm text-neutral-900 dark:text-neutral-200",children:"궁합 보기"}),g.jsxs("div",{className:"flex items-center gap-4 text-xs text-neutral-600 dark:text-neutral-400",children:[g.jsxs("label",{className:"flex items-center gap-1 cursor-pointer",children:[g.jsx("input",{type:"checkbox",checked:d,onChange:C=>h(C.target.checked),className:"accent-indigo-500"}),"묘운 표시"]}),g.jsx("button",{onClick:()=>b(C=>!C),className:"px-2 py-1 rounded border border-neutral-300 dark:border-neutral-700 hover:border-indigo-500 text-neutral-700 dark:text-neutral-300 bg-white dark:bg-neutral-900 cursor-pointer",children:p?"실시간 간지 접기":"실시간 간지 펼치기"})]})]}),g.jsxs("div",{className:"grid grid-cols-2 gap-2 desk:gap-4",children:[g.jsx(Os,{label:"원국 A",data:i,mode:"원국",effectiveDate:E,onPick:()=>D(!0)}),g.jsx(Os,{label:"원국 B",data:s,mode:"원국",effectiveDate:E,onPick:()=>$(!0)}),d&&i&&g.jsx(Os,{label:"묘운 A",data:i,mode:"묘운",effectiveDate:E,onPick:()=>D(!0)}),d&&s&&g.jsx(Os,{label:"묘운 B",data:s,mode:"묘운",effectiveDate:E,onPick:()=>$(!0)}),p&&i&&g.jsx(Os,{label:"실시간 A",data:i,mode:"실시간",effectiveDate:E,onPick:()=>D(!0)}),p&&s&&g.jsx(Os,{label:"실시간 B",data:s,mode:"실시간",effectiveDate:E,onPick:()=>$(!0)})]}),i&&s&&g.jsx("div",{className:"mt-4",children:g.jsx(GC,{pillarsA:z(i),pillarsB:z(s)})}),g.jsxs("div",{className:"mt-4 max-w-[260px] mx-auto text-center",children:[g.jsx("label",{className:"min-w-0 block text-xs text-neutral-600 dark:text-neutral-400 mb-2",children:"날짜/시간 선택"}),g.jsx("input",{type:"datetime-local",value:x,onChange:C=>w(C.target.value),className:"min-w-0 bg-white dark:bg-neutral-900 border border-neutral-300 dark:border-neutral-700 rounded px-3 py-1 text-xs w-[260px] max-w-[260px] box-border overflow-x-hidden text-neutral-900 dark:text-neutral-100 h-30",min:"1900-01-01T00:00",max:"2100-12-31T23:59"})]})]}),g.jsx(X_,{open:A,list:t||[],onSelect:C=>{o(C),D(!1)},onClose:()=>D(!1)}),g.jsx(X_,{open:j,list:t||[],onSelect:C=>{u(C),$(!1)},onClose:()=>$(!1)})]})}function fO(){return g.jsx("footer",{className:"py-8 px-4 border-t border-neutral-200 dark:border-neutral-700 ",children:g.jsx("p",{className:"text-center text-[12px] text-orange-600 dark:text-orange-300",children:"Copyright © 2025 Hwarim96. All rights reserved."})})}function hO({pillars:t,ms:i}){const{date:o,setDate:s}=di();R.useEffect(()=>{s(new Date)},[i]);const u=w0(i),d=R.useMemo(()=>{const b=o??new Date,v=b.getFullYear(),x=String(b.getMonth()+1).padStart(2,"0"),w=String(b.getDate()).padStart(2,"0");return`${v}-${x}-${w}`},[o]),h=b=>{const v=o??new Date,[x,w,S]=b.split("-").map(Number),E=v.getHours(),A=v.getMinutes();s(new Date(x,(w??1)-1,S??1,E,A,0))},p=R.useMemo(()=>{const b=Array.isArray(t)&&t.length>=4?`${t[0]}년 ${t[1]}월 ${t[2]}일 ${t[3]}시`:"",v=u?.dae?.gz?`${u.dae.gz}대운`:null,x=u?.se?.gz?`${u.se.gz}세운`:null,w=u?.wol?.gz?`${u.wol.gz}월운`:null,S=[v,x,w].filter(Boolean).join(" ");return[b,S].filter(Boolean).join(" + ")},[t,u]);return g.jsxs("div",{className:"max-w-[640px] mx-auto mb-4 rounded-xl border border-neutral-200 dark:border-neutral-800 bg-white dark:bg-neutral-950 p-3 space-y-3",children:[p&&g.jsx("div",{className:"text-center text-sm font-medium text-neutral-800 dark:text-neutral-200",children:p}),g.jsx("div",{className:"grid grid-cols-1 gap-3",children:g.jsxs("label",{className:"w-full flex justify-center items-center",children:[g.jsx("span",{className:"text-sm text-neutral-500 mr-4",children:"날짜"}),g.jsx("input",{type:"date",value:d,onChange:b=>h(b.target.value),className:"w rounded-md border border-neutral-300 dark:border-neutral-700 bg-transparent px-2 py-1 text-sm"})]})})]})}const G2=["갑","을","병","정","무","기","경","신","임","계"],hf=["자","축","인","묘","진","사","오","미","신","유","술","해"],mO=["23:00–00:59","01:00–02:59","03:00–04:59","05:00–06:59","07:00–08:59","09:00–10:59","11:00–12:59","13:00–14:59","15:00–16:59","17:00–18:59","19:00–20:59","21:00–22:59"];function pO(t){const i=t.getFullYear(),o=String(t.getMonth()+1).padStart(2,"0"),s=String(t.getDate()).padStart(2,"0");return`${i}-${o}-${s}`}function Cd(t,i){return t&&i?`${t}${i}`:null}function W_(t){return!!(t.yearStem&&t.yearBranch&&t.monthStem&&t.monthBranch&&t.dayStem&&t.dayBranch&&t.hourStem&&t.hourBranch)}const gO={갑:0,을:1,병:2,정:3,무:4,기:5,경:6,신:7,임:8,계:9},bO=G2,yO=["인","묘","진","사","오","미","신","유","술","해","자","축"];function Q_(t,i){let o;t==="갑"||t==="기"?o="병":t==="을"||t==="경"?o="무":t==="병"||t==="신"?o="경":t==="정"||t==="임"?o="임":o="갑";const s=gO[o],u=yO.indexOf(i),d=(s+(u>=0?u:0))%10;return bO[d]}const vO=hf.slice(),_O=["인","묘","진","사","오","미","신","유","술","해","자","축"];function Ls(t,i){const s=(i==="자시"?pT:hx)[t],u=i==="자시"?vO:_O,d=hf.reduce((h,p)=>(h[p]="",h),{});for(let h=0;h<12;h++)d[u[h]]=s[h];return d}const xO={갑:"양",을:"음",병:"양",정:"음",무:"양",기:"음",경:"양",신:"음",임:"양",계:"음"},SO={자:"양",축:"음",인:"양",묘:"음",진:"양",사:"음",오:"양",미:"음",신:"양",유:"음",술:"양",해:"음"};function wO({open:t,onClose:i,onSave:o}){const{settings:s}=hr(),[u,d]=R.useState(null),[h,p]=R.useState({}),[b,v]=R.useState(null),[x,w]=R.useState(!0),[S,E]=R.useState(!0),[A,D]=R.useState("자시"),[j,$]=R.useState("male"),[z,C]=R.useState(null),[P,B]=R.useState(!1),[,V]=R.useState(null),[J,Q]=R.useState(null),[nt,rt]=R.useState({gender:"남자",mingSikType:"야자시",DayChangeRule:"자시일수론",calendarType:"solar"}),[K,I]=R.useState(!1),[X,ft]=R.useState(null),gt=bt=>{ft(bt),setTimeout(()=>ft(null),1800)},[Z,lt]=R.useState(!1),[F,G]=R.useState(!1);R.useEffect(()=>{if(Z){const bt=setTimeout(()=>lt(!1),2e3);return()=>clearTimeout(bt)}},[Z]),R.useEffect(()=>{if(F){const bt=setTimeout(()=>G(!1),2e3);return()=>clearTimeout(bt)}},[F]);const M=()=>{const bt=J!==null?z?.filter((Rr,Un)=>Un===J)??[]:[];if(bt.length===0){alert("선택된 항목이 없습니다.");return}const Nt=A==="자시"?"야자시":"인시",dt=bt[0],[zt,Qt,Gt]=dt.date.split("-").map(Number),Ot={자:{hh:0,mi:0},축:{hh:2,mi:0},인:{hh:4,mi:0},묘:{hh:6,mi:0},진:{hh:8,mi:0},사:{hh:10,mi:0},오:{hh:12,mi:0},미:{hh:14,mi:0},신:{hh:16,mi:0},유:{hh:18,mi:0},술:{hh:20,mi:0},해:{hh:22,mi:0}};let ce=0,_e=0;if(dt.hourSlots.length>0){const Rr=dt.hourSlots[0].branch,Un=Ot[Rr];Un&&(ce=Un.hh,_e=Un.mi)}const Ze=new Date(zt,Qt-1,Gt,ce,_e),je=new Date(Ze.getTime()-30*6e4),fi=je.toLocaleTimeString("ko-KR",{hour:"2-digit",minute:"2-digit",hour12:!1}),Kr=j==="male"?"남":"여";function Xi(Rr,Un){const tl=["甲","丙","戊","庚","壬","갑","병","무","경","임"].includes(Rr),Qa=Un==="남";return tl?Qa?"forward":"backward":Qa?"backward":"forward"}const Lr=Xi(dt.year.charAt(0),Kr),$n=De(je,127.5),mn=an(je,127.5),Br=Pe(je,Nt),In=Cr(je,Nt),Js=[`원국 : ${$n}년 ${mn}월 ${Br}일`,In?`${In}시`:null].filter(Boolean).join(" "),Wa={id:xx(),name:"커스텀명식",birthDay:`${zt}${String(Qt).padStart(2,"0")}${String(Gt).padStart(2,"0")}`,birthTime:`${String(ce).padStart(2,"0")}${String(_e).padStart(2,"0")}`,gender:Kr,birthPlace:K?{name:"커스텀명식",lat:0,lon:127.5}:nt.birthPlace??{name:"커스텀명식",lat:0,lon:127.5},relationship:nt.relationship??"",memo:nt.memo??"",folder:Gs(nt.folder),mingSikType:nt.mingSikType??"야자시",DayChangeRule:nt.mingSikType==="인시"?"인시일수론":"자시일수론",calendarType:nt.calendarType??"solar",yearGZ:dt.year,monthGZ:dt.month,dayGZ:dt.day,hourGZ:dt.hour,ganjiText:`원국 : ${dt.year}년 ${dt.month}월 ${dt.day}일 ${dt.hour}시`,ganji:Js,dayStem:dt.day.charAt(0),dateObj:Ze,corrected:je,correctedLocal:fi,dir:Lr};Lc.flushSync(()=>{Fs.getState().add(Wa)}),o(Wa),ft("저장 완료!"),rt({gender:"남자",mingSikType:"야자시",calendarType:"solar"}),I(!1),i()},H=x||S,U=!!(h.yearStem&&h.yearBranch),W=!!(h.dayStem&&h.dayBranch),et=!H||U||W,ut=!!b&&b.endsWith("Stem"),at=!!b&&b.endsWith("Branch");function wt(bt){return bt==="yearStem"?"yearBranch":bt==="yearBranch"?"yearStem":bt==="monthStem"?"monthBranch":bt==="monthBranch"?"monthStem":bt==="dayStem"?"dayBranch":bt==="dayBranch"?"dayStem":bt==="hourStem"?"hourBranch":"hourStem"}const vt=R.useCallback((bt,Nt)=>{if(!x||!bt.yearStem)return bt;const dt={...bt},zt=hx[bt.yearStem];if(!zt)return dt;const Qt=Ot=>zt.filter(ce=>ce.startsWith(Ot)),Gt=Ot=>zt.find(ce=>ce.endsWith(Ot));if(Nt==="monthStem"&&dt.monthStem){const Ot=Qt(dt.monthStem).map(ce=>ce.slice(1));return Ot.length>=2?(d(Ot.slice(0,2)),v("monthBranch"),dt):(Ot.length===1&&(dt.monthBranch=Ot[0],d(null)),dt)}if(Nt==="monthBranch"&&dt.monthBranch){const Ot=Gt(dt.monthBranch);return Ot&&(dt.monthStem=Ot.slice(0,1),d(null)),dt}if(Nt==="yearStem"){if(dt.monthStem&&!dt.monthBranch){const Ot=Qt(dt.monthStem).map(ce=>ce.slice(1));if(Ot.length>=2)return d(Ot.slice(0,2)),v("monthBranch"),dt;Ot.length===1&&(dt.monthBranch=Ot[0])}else if(dt.monthBranch&&!dt.monthStem){const Ot=Gt(dt.monthBranch);Ot&&(dt.monthStem=Ot.slice(0,1))}}return dt},[x,v]),Dt=R.useCallback((bt,Nt)=>{if(!S||!bt.dayStem)return bt;const dt={...bt},zt=Ls(bt.dayStem,A),Qt=Ot=>Object.entries(zt).find(([,ce])=>ce.startsWith(Ot)),Gt=Ot=>zt[Ot];if(Nt==="hourStem"&&dt.hourStem){const Ot=Qt(dt.hourStem);return Ot&&(dt.hourBranch=Ot[0]),dt}if(Nt==="hourBranch"&&dt.hourBranch){const Ot=Gt(dt.hourBranch);return Ot&&(dt.hourStem=Ot.slice(0,1)),dt}if(Nt==="dayStem"){if(dt.hourStem&&!dt.hourBranch){const Ot=Qt(dt.hourStem);Ot&&(dt.hourBranch=Ot[0])}else if(dt.hourBranch&&!dt.hourStem){const Ot=Gt(dt.hourBranch);Ot&&(dt.hourStem=Ot.slice(0,1))}}return dt},[S,A]),$t=R.useCallback(bt=>!x||!bt.yearStem?!1:bt.monthBranch&&bt.monthStem?Q_(bt.yearStem,bt.monthBranch)!==bt.monthStem:!1,[x]),Vt=R.useCallback(bt=>{if(!S||!bt.dayStem)return!1;if(bt.hourBranch&&bt.hourStem){const dt=Ls(bt.dayStem,A)[bt.hourBranch];return dt?dt.slice(0,1)!==bt.hourStem:!1}return!1},[S,A]);R.useEffect(()=>{if(!(!S||!h.dayStem||!h.hourBranch)&&(h.hourBranch==="자"||h.hourBranch==="축")){const Nt=Ls(h.dayStem,A)[h.hourBranch];Nt&&p(dt=>({...dt,hourStem:Nt.slice(0,1)}))}},[A,S,h.dayStem,h.hourBranch]);const Yt=R.useCallback(bt=>{if(!b)return;if(!et&&!(b==="yearStem"||b==="yearBranch"||b==="dayStem"||b==="dayBranch")){V("월/시두법 사용 중: 연주 또는 일주부터 입력하세요."),setTimeout(()=>V(null),1500);return}let dt={...h,[b]:bt};(b==="yearStem"||b==="monthStem"||b==="monthBranch")&&(dt=vt(dt,b)),(b==="dayStem"||b==="hourStem"||b==="hourBranch")&&(dt=Dt(dt,b)),p(dt);let zt=!1;$t(dt)&&(w(!1),zt=!0),Vt(dt)&&(E(!1),zt=!0),zt&&gt("월/시두법에 맞지 않습니다. 체크가 해제 됩니다."),p(dt),C(null);const Qt=wt(b);v(Qt),setTimeout(()=>{const Gt={...dt};if(Gt.yearStem&&Gt.yearBranch&&!Gt.monthStem){v("monthStem");return}if(Gt.monthStem&&Gt.monthBranch&&!Gt.dayStem){v("dayStem");return}if(Gt.dayStem&&Gt.dayBranch&&!Gt.hourStem){v("hourStem");return}},0)},[b,h,et,vt,Dt,$t,Vt]),ne=W_(h),$e=R.useCallback(async()=>{if(C(null),V(null),!W_(h)){V("연·월·일·시 간지를 모두 선택하세요.");return}const bt=Cd(h.yearStem,h.yearBranch),Nt=Cd(h.monthStem,h.monthBranch),dt=Cd(h.dayStem,h.dayBranch),zt=Cd(h.hourStem,h.hourBranch),Qt=300,Gt=[];B(!0);try{const Ot=new Date(1900,0,1,12,0,0),ce=new Date(2100,11,31,12,0,0);for(let _e=Ot.getTime();_e<=ce.getTime();_e+=24*3600*1e3){const Ze=new Date(_e),je=A==="자시"?"야자시":"인시",fi=De(Ze);if(fi!==bt)continue;const Kr=an(Ze);if(Kr!==Nt)continue;const Xi=Pe(Ze,je);if(Xi!==dt)continue;const Lr=Ls(h.dayStem,A),$n=[];for(let mn=0;mn<12;mn++){const Br=hf[mn];Lr[Br]===zt&&$n.push({branch:Br,time:mO[mn]})}if($n.length!==0&&(Gt.push({date:pO(Ze),year:fi,month:Kr,day:Xi,hour:zt,hourSlots:$n}),Gt.length>=Qt))break}Gt.length===0&&V("일치하는 날짜가 없습니다. (범위: 1900–2100)"),C(Gt)}catch(Ot){Ot instanceof Error?V(Ot.message):V(String(Ot))}finally{B(!1)}},[h,A]),Ae=()=>{p({}),C(null),V(null),v(null)},Ve=bt=>{C(null),bt&&p(Nt=>{const dt={...Nt};return dt.yearStem&&dt.monthBranch&&(dt.monthStem=Q_(dt.yearStem,dt.monthBranch)),dt}),w(bt)},ve=bt=>{C(null),bt&&p(Nt=>{const dt={...Nt};if(dt.dayStem&&dt.hourBranch){const Qt=Ls(dt.dayStem,A)[dt.hourBranch];Qt&&(dt.hourStem=Qt.slice(0,1))}return dt}),E(bt)};if(!t)return null;const At=bt=>{if(C(null),D(bt),S&&h.dayStem&&h.hourBranch&&(h.hourBranch==="자"||h.hourBranch==="축")){const dt=Ls(h.dayStem,bt)[h.hourBranch];dt&&p(zt=>({...zt,hourStem:dt.slice(0,1)}))}};return g.jsx("div",{className:"fixed min-w-[320px] inset-0 z-[1000] flex items-center justify-center bg-black/50",children:g.jsxs("div",{className:"bg-white max-w-[360px] dark:bg-neutral-900 rounded-xl shadow-xl w-full max-w-5xl p-4 relative",children:[g.jsx("button",{onClick:i,className:"absolute top-3 right-3 text-neutral-500 hover:text-neutral-800 dark:hover:text-neutral-200 cursor-pointer","aria-label":"닫기",children:g.jsx(j0,{size:20})}),g.jsx("h2",{className:"text-lg font-semibold mb-4",children:"커스텀 명식 만들기"}),g.jsxs("div",{className:"flex flex-wrap items-center gap-6 mb-4",children:[g.jsxs("div",{children:[g.jsx("p",{className:"font-medium mb-2",children:"월/시두법"}),g.jsxs("span",{className:"mr-3 chkContainer",children:[g.jsx("input",{type:"checkbox",id:"useWoldu",checked:x,onChange:bt=>Ve(bt.target.checked)}),g.jsx("label",{htmlFor:"useWoldu",className:"ml-1",children:"월두법 사용"})]}),g.jsxs("span",{className:"chkContainer",children:[g.jsx("input",{type:"checkbox",id:"useSidu",checked:S,onChange:bt=>ve(bt.target.checked)}),g.jsx("label",{htmlFor:"useSidu",className:"ml-1",children:"시두법 사용"})]})]}),g.jsxs("div",{children:[g.jsx("p",{className:"font-medium mb-2",children:"시간 기준"}),g.jsxs("span",{className:"mr-3 chkContainer",children:[g.jsx("input",{type:"radio",id:"jasi",checked:A==="자시",onChange:()=>At("자시")}),g.jsx("label",{htmlFor:"jasi",className:"ml-1",children:"자시"})]}),g.jsxs("span",{className:"chkContainer",children:[g.jsx("input",{type:"radio",id:"insi",checked:A==="인시",onChange:()=>At("인시")}),g.jsx("label",{htmlFor:"insi",className:"ml-1",children:"인시"})]})]}),g.jsxs("div",{children:[g.jsx("p",{className:"font-medium mb-2",children:"성별"}),g.jsxs("span",{className:"mr-3 chkContainer",children:[g.jsx("input",{type:"radio",id:"male",checked:j==="male",onChange:()=>$("male")}),g.jsx("label",{htmlFor:"male",className:"ml-1",children:"남"})]}),g.jsxs("span",{className:"chkContainer",children:[g.jsx("input",{type:"radio",id:"female",checked:j==="female",onChange:()=>$("female")}),g.jsx("label",{htmlFor:"female",className:"ml-1",children:"여"})]})]})]}),H&&!et&&g.jsxs("div",{className:"mb-3 text-sm text-orange-700 bg-orange-50 dark:text-orange-300 dark:bg-orange-900/30 rounded p-2 text-center",children:["월/시두법 사용 중입니다. ",g.jsx("br",{}),g.jsx("b",{children:"연주"})," 또는 ",g.jsx("b",{children:"일주"}),"부터 먼저 입력하세요."]}),g.jsx("div",{className:"grid grid-cols-4 gap-2 mb-4",children:[["hourStem","시간"],["dayStem","일간"],["monthStem","월간"],["yearStem","연간"],["hourBranch","시지"],["dayBranch","일지"],["monthBranch","월지"],["yearBranch","연지"]].map(([bt,Nt])=>{const dt=!et&&!(bt==="yearStem"||bt==="yearBranch"||bt==="dayStem"||bt==="dayBranch"),zt=b===bt;return g.jsxs("button",{onClick:()=>!dt&&v(bt),disabled:dt,className:["border rounded p-2 text-center cursor-pointer",zt?"border-purple-500 bg-purple-100 dark:bg-purple-900/30":"border-neutral-300 dark:border-neutral-700",dt?"opacity-50 cursor-not-allowed":""].join(" "),children:[Nt,g.jsx("br",{}),g.jsx("span",{className:"font-bold",children:h[bt]??"-"})]},bt)})}),u&&u.length>0&&g.jsxs("div",{className:"mb-3",children:[g.jsx("p",{className:"text-sm mb-1",children:"월지 후보를 선택하세요:"}),g.jsx("div",{className:"flex gap-2",children:u.map(bt=>g.jsx("button",{onClick:()=>{let Nt={...h,monthBranch:bt};d(null),Nt=vt(Nt,"monthBranch"),p(Nt),v("dayStem")},className:"flex-1 px-2 py-1 border rounded hover:bg-orange-100 dark:hover:bg-orange-800 cursor-pointer",children:bt},bt))})]}),g.jsx("div",{className:"flex w-full flex-wrap gap-6 mb-4",children:b?g.jsxs("div",{className:"w-full",children:[ut&&g.jsxs("div",{children:[g.jsx("p",{className:"font-medium mb-2",children:"천간"}),g.jsx("div",{className:"grid grid-cols-5 gap-2",children:G2.map(bt=>g.jsx("button",{onClick:()=>Yt(bt),className:`border rounded px-2 py-1 cursor-pointer ${fr(bt,"stem",s)}`,children:bt},bt))})]}),at&&g.jsxs("div",{children:[g.jsx("p",{className:"font-medium mb-2",children:"지지"}),g.jsx("div",{className:"grid grid-cols-6 gap-2",children:hf.filter(bt=>{const Nt=wt(b),dt=h[Nt];return dt?SO[bt]===xO[dt]:!0}).map(bt=>g.jsx("button",{onClick:()=>Yt(bt),className:`border rounded px-2 py-1 cursor-pointer ${fr(bt,"branch",s)}`,children:bt},bt))})]})]}):g.jsx("div",{className:"text-sm text-neutral-500 p-2 border rounded w-full text-center",children:"간지를 넣고 싶은 자리부터 클릭하세요."})}),g.jsxs("div",{className:"flex justify-between items-center gap-3 mb-4",children:[g.jsx("span",{children:g.jsx("button",{type:"button",onClick:()=>{if(!ne){lt(!0);return}$e()},disabled:P,className:"px-2 py-1 rounded-md bg-blue-600 text-white disabled:opacity-50 cursor-pointer",children:P?"검색 중...":"검색"})}),g.jsxs("span",{className:"flex items-center gap-2",children:[g.jsx("button",{type:"button",onClick:Ae,className:"px-2 py-1 rounded-md bg-red-600 border border-neutral-300 dark:border-neutral-700 cursor-pointer",children:"초기화"}),g.jsx("button",{type:"button",onClick:()=>{if((J!==null?z?.filter((Nt,dt)=>dt===J)??[]:[]).length===0){G(!0);return}M()},className:"px-2 py-1 rounded-md border bg-yellow-600 border-neutral-300 dark:border-neutral-700 cursor-pointer",children:"저장하기"})]})]}),g.jsx("div",{className:"max-h-[40vh] overflow-auto rounded border border-neutral-200 dark:border-neutral-800",children:z?z.length===0?g.jsx("div",{className:"p-4 text-neutral-500",children:"일치하는 날짜가 없습니다."}):g.jsxs("table",{className:"w-full text-xs",children:[g.jsx("thead",{className:"sticky top-0 bg-neutral-50 dark:bg-neutral-800",children:g.jsxs("tr",{children:[g.jsx("th",{className:"p-1 text-center",children:"선택"}),g.jsx("th",{className:"p-1 text-center",children:"날짜"}),g.jsx("th",{className:"p-1 text-center",children:"연"}),g.jsx("th",{className:"p-1 text-center",children:"월"}),g.jsx("th",{className:"p-1 text-center",children:"일"}),g.jsx("th",{className:"p-1 text-center",children:"시"}),g.jsx("th",{className:"p-1 text-center",children:"성별"})]})}),g.jsx("tbody",{children:z.map((bt,Nt)=>g.jsxs("tr",{className:"border-t border-neutral-200 dark:border-neutral-800",children:[g.jsx("td",{className:"p-1 text-center",children:g.jsxs("span",{className:"chkContainer",children:[g.jsx("input",{type:"radio",name:"selectRow",id:`selectRow-${Nt}`,checked:J===Nt,onChange:()=>Q(Nt)}),g.jsx("label",{htmlFor:`selectRow-${Nt}`,children:"ON"})]})}),g.jsx("td",{className:"p-1 text-center",children:bt.date}),g.jsx("td",{className:"p-1 text-center",children:bt.year}),g.jsx("td",{className:"p-1 text-center",children:bt.month}),g.jsx("td",{className:"p-1 text-center",children:bt.day}),g.jsx("td",{className:"p-1 text-center",children:g.jsx("div",{className:"flex flex-wrap gap-1",children:bt.hourSlots.map((dt,zt)=>g.jsx("span",{className:"inline-flex items-center mx-auto gap-1 px-1 py-0.5 rounded bg-neutral-100 dark:bg-neutral-800 border border-neutral-200 dark:border-neutral-700",children:g.jsx("b",{children:dt.branch})},zt))})}),g.jsx("td",{className:"p-1 text-center",children:j==="male"?"남":"여"})]},`${bt.date}-${Nt}`))})]}):g.jsx("div",{className:"p-2 text-neutral-500 text-sm text-center",children:"조건을 입력하고 “검색”을 눌러주세요."})}),X&&g.jsx("div",{className:"pointer-events-none fixed left-1/2 -translate-x-1/2 top-6 z-[1100] border border-white/30",children:g.jsx("div",{className:"px-4 py-2 rounded-md bg-black/80 text-white text-sm shadow-lg",children:X})}),Z&&g.jsx("div",{className:"fixed inset-0 flex items-center justify-center z-[2000]",children:g.jsx("div",{className:"bg-black text-white px-4 py-2 rounded-lg shadow-lg",children:"연·월·일·시 4간지를 모두 채워주세요."})}),F&&g.jsx("div",{className:"fixed inset-0 flex items-center justify-center z-[2000]",children:g.jsxs("div",{className:"bg-black text-white px-4 py-2 rounded-lg shadow-lg text-center",children:["선택항목이 없습니다.",g.jsx("br",{}),"검색한 뒤, 체크박스로 선택하세요."]})})]})})}const Yp=!1;function k0(t){return typeof t=="object"&&t!==null}function TO(t){return k0(t)&&"default"in t}function EO(t){return k0(t)&&typeof t.lunar2solar=="function"}function MO(t){if(!k0(t))throw new Error("Invalid lunar2solar result");const i=t.cYear,o=t.cMonth,s=t.cDay,u=t.isLeap;if(typeof i!="number"||typeof o!="number"||typeof s!="number")throw new Error("Invalid lunar2solar fields");return{cYear:i,cMonth:o,cDay:s,isLeap:typeof u=="boolean"?u:void 0}}function NO(t){const i=TO(t)?t.default:t;if(!EO(i))throw new Error("solarlunar.lunar2solar not found");return{lunar2solar:(s,u,d,h)=>{const p=i.lunar2solar(s,u,d,!!h);return MO(p)}}}const DO=NO(Fi);function AO(t){const i=t,o=typeof i.birthDay=="string"?i.birthDay:"",s=typeof i.calendarType=="string"?i.calendarType:"solar";if(o.length<8)return t;const u=Number(o.slice(0,4)),d=Number(o.slice(4,6)),h=Number(o.slice(6,8)),p=["isLeap","isLeapMonth","leapMonth","leap","lunarLeap"];let b=!1;for(const v of p){const x=i[v];if(typeof x=="boolean"){b=x;break}if(typeof x=="number"){b=x===1;break}if(typeof x=="string"){b=x==="1"||x.toLowerCase()==="true";break}}if(s==="lunar")try{const v=DO.lunar2solar(u,d,h,b),x=`${v.cYear}${J_(v.cMonth)}${J_(v.cDay)}`;return{...t,birthDay:x,calendarType:"solar"}}catch{return t}return t}function jO(){const{list:t}=Fs(),[i,o]=R.useState(null),[s,u]=R.useState(!1),[d,h]=R.useState(!1),[p,b]=R.useState(null),[v,x]=R.useState(!1),[w,S]=R.useState(!1),E=R.useMemo(()=>t.find(C=>C.id===i)??null,[t,i]);R.useEffect(()=>{x(!0),S(!1)},[]);const A=()=>{u(!0)},D=R.useMemo(()=>{if(!E)return new Date;try{const C=AO(E);return Xa(C)}catch{return new Date}},[E]),j=R.useMemo(()=>{if(!E)return[];try{const C=De(D,E.birthPlace?.lon),P=an(D,E.birthPlace?.lon),B=Pe(D,E.mingSikType??"야자시"),V=Cr(D,E.mingSikType??"야자시"),J=[C,P,B,V];return CO(J)?J:[]}catch{return[]}},[D,E]),[$,z]=R.useState(!1);return g.jsxs("div",{className:"min-h-screen pb-16",children:[g.jsx(pC,{onOpenSidebar:()=>h(!0),onAddNew:A,onOpenCustom:()=>z(!0)}),g.jsx(wO,{open:$,onClose:()=>z(!1),onSave:C=>{o(C.id),x(!1),S(!1),h(!1)}}),g.jsx(eT,{position:"top-center"}),g.jsx(CC,{open:d,onClose:()=>h(!1),onView:C=>{o(C.id),h(!1),x(!1),S(!1),di.getState().resetDate()},onAddNew:A,onEdit:C=>{b(C),o(C.id),h(!1),x(!1),S(!1)}}),v&&g.jsx(nE,{}),s&&g.jsxs(g.Fragment,{children:[g.jsx("div",{id:"wizard-dim",className:"bg-black opacity-80 absolute inset-0 w-full h-full z-99"}),g.jsx("div",{className:"absolute inset-0 transition-opacity duration-150 opacity-100 z-100",children:g.jsx("div",{className:"py-6",children:g.jsx(VA,{onSave:C=>{o(C.id),x(!1),S(!1),h(!1),requestAnimationFrame(()=>u(!1))},onClose:()=>u(!1)})})})]}),E&&!v&&!w&&g.jsxs(g.Fragment,{children:[g.jsx("div",{className:"pt-18 pb-4",children:g.jsx(cj,{data:E,hourTable:E.mingSikType??"야자시"})}),g.jsx(hO,{pillars:j,ms:E}),g.jsx("div",{children:g.jsx(Gk,{data:E})})]}),w&&g.jsx("div",{className:"pt-18 pb-4",children:g.jsx(dO,{people:t})}),p&&g.jsx("div",{className:"fixed inset-0 z-55 flex items-center justify-center bg-black/60",children:g.jsx("div",{className:"bg-white dark:bg-neutral-950 p-4 rounded-xl w-full max-h-[90dvh] max-w-xl shadow-lg",children:g.jsx(UC,{item:p,onClose:()=>{b(null)}})})}),g.jsx(xC,{onShowToday:()=>{x(!0),S(!1)},onShowCouple:()=>{S(!0),x(!1)}}),g.jsx(fO,{})]})}const kO=t=>typeof t=="string"&&t.length>=2,CO=t=>Array.isArray(t)&&t.length===4&&t.every(kO),J_=t=>t<10?`0${t}`:`${t}`;hw.createRoot(document.getElementById("root")).render(g.jsx(R.StrictMode,{children:g.jsx(jO,{})}));
