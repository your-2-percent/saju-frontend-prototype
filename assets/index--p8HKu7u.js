function Rw(t,r){for(var a=0;a<r.length;a++){const s=r[a];if(typeof s!="string"&&!Array.isArray(s)){for(const u in s)if(u!=="default"&&!(u in t)){const d=Object.getOwnPropertyDescriptor(s,u);d&&Object.defineProperty(t,u,d.get?d:{enumerable:!0,get:()=>s[u]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const r=document.createElement("link").relList;if(r&&r.supports&&r.supports("modulepreload"))return;for(const u of document.querySelectorAll('link[rel="modulepreload"]'))s(u);new MutationObserver(u=>{for(const d of u)if(d.type==="childList")for(const f of d.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&s(f)}).observe(document,{childList:!0,subtree:!0});function a(u){const d={};return u.integrity&&(d.integrity=u.integrity),u.referrerPolicy&&(d.referrerPolicy=u.referrerPolicy),u.crossOrigin==="use-credentials"?d.credentials="include":u.crossOrigin==="anonymous"?d.credentials="omit":d.credentials="same-origin",d}function s(u){if(u.ep)return;u.ep=!0;const d=a(u);fetch(u.href,d)}})();function tl(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Qm={exports:{}},cc={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Zy;function Pw(){if(Zy)return cc;Zy=1;var t=Symbol.for("react.transitional.element"),r=Symbol.for("react.fragment");function a(s,u,d){var f=null;if(d!==void 0&&(f=""+d),u.key!==void 0&&(f=""+u.key),"key"in u){d={};for(var p in u)p!=="key"&&(d[p]=u[p])}else d=u;return u=d.ref,{$$typeof:t,type:s,key:f,ref:u!==void 0?u:null,props:d}}return cc.Fragment=r,cc.jsx=a,cc.jsxs=a,cc}var Yy;function zw(){return Yy||(Yy=1,Qm.exports=Pw()),Qm.exports}var b=zw();const B_="harim.theme",W0="harim.settings.v1";function R_(){try{const t=localStorage.getItem(B_);if(t==="dark"||t==="light")return t;const r=localStorage.getItem(W0);if(r){const s=JSON.parse(r)?.theme;if(s==="dark"||s==="light")return s}return null}catch{return null}}function Q0(t){try{localStorage.setItem(B_,t);const r=localStorage.getItem(W0),a=r?JSON.parse(r):{};localStorage.setItem(W0,JSON.stringify({...a,theme:t}))}catch{}}function P_(t){const r=document.documentElement;r.classList.toggle("dark",t==="dark"),r.style.setProperty("color-scheme",t)}(function(){try{const t=R_()??(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light");P_(t)}catch{}})();var Jm={exports:{}},Qt={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var qy;function Hw(){if(qy)return Qt;qy=1;var t=Symbol.for("react.transitional.element"),r=Symbol.for("react.portal"),a=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),u=Symbol.for("react.profiler"),d=Symbol.for("react.consumer"),f=Symbol.for("react.context"),p=Symbol.for("react.forward_ref"),g=Symbol.for("react.suspense"),y=Symbol.for("react.memo"),_=Symbol.for("react.lazy"),w=Symbol.iterator;function S(j){return j===null||typeof j!="object"?null:(j=w&&j[w]||j["@@iterator"],typeof j=="function"?j:null)}var T={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},M=Object.assign,D={};function A(j,$,Y){this.props=j,this.context=$,this.refs=D,this.updater=Y||T}A.prototype.isReactComponent={},A.prototype.setState=function(j,$){if(typeof j!="object"&&typeof j!="function"&&j!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,j,$,"setState")},A.prototype.forceUpdate=function(j){this.updater.enqueueForceUpdate(this,j,"forceUpdate")};function z(){}z.prototype=A.prototype;function H(j,$,Y){this.props=j,this.context=$,this.refs=D,this.updater=Y||T}var k=H.prototype=new z;k.constructor=H,M(k,A.prototype),k.isPureReactComponent=!0;var B=Array.isArray,C={H:null,A:null,T:null,S:null,V:null},q=Object.prototype.hasOwnProperty;function et(j,$,Y,J,V,I){return Y=I.ref,{$$typeof:t,type:j,key:$,ref:Y!==void 0?Y:null,props:I}}function st(j,$){return et(j.type,$,void 0,void 0,void 0,j.props)}function W(j){return typeof j=="object"&&j!==null&&j.$$typeof===t}function Q(j){var $={"=":"=0",":":"=2"};return"$"+j.replace(/[=:]/g,function(Y){return $[Y]})}var F=/\/+/g;function G(j,$){return typeof j=="object"&&j!==null&&j.key!=null?Q(""+j.key):$.toString(36)}function tt(){}function ht(j){switch(j.status){case"fulfilled":return j.value;case"rejected":throw j.reason;default:switch(typeof j.status=="string"?j.then(tt,tt):(j.status="pending",j.then(function($){j.status==="pending"&&(j.status="fulfilled",j.value=$)},function($){j.status==="pending"&&(j.status="rejected",j.reason=$)})),j.status){case"fulfilled":return j.value;case"rejected":throw j.reason}}throw j}function it(j,$,Y,J,V){var I=typeof j;(I==="undefined"||I==="boolean")&&(j=null);var U=!1;if(j===null)U=!0;else switch(I){case"bigint":case"string":case"number":U=!0;break;case"object":switch(j.$$typeof){case t:case r:U=!0;break;case _:return U=j._init,it(U(j._payload),$,Y,J,V)}}if(U)return V=V(j),U=J===""?"."+G(j,0):J,B(V)?(Y="",U!=null&&(Y=U.replace(F,"$&/")+"/"),it(V,$,Y,"",function(Mt){return Mt})):V!=null&&(W(V)&&(V=st(V,Y+(V.key==null||j&&j.key===V.key?"":(""+V.key).replace(F,"$&/")+"/")+U)),$.push(V)),1;U=0;var dt=J===""?".":J+":";if(B(j))for(var gt=0;gt<j.length;gt++)J=j[gt],I=dt+G(J,gt),U+=it(J,$,Y,I,V);else if(gt=S(j),typeof gt=="function")for(j=gt.call(j),gt=0;!(J=j.next()).done;)J=J.value,I=dt+G(J,gt++),U+=it(J,$,Y,I,V);else if(I==="object"){if(typeof j.then=="function")return it(ht(j),$,Y,J,V);throw $=String(j),Error("Objects are not valid as a React child (found: "+($==="[object Object]"?"object with keys {"+Object.keys(j).join(", ")+"}":$)+"). If you meant to render a collection of children, use an array instead.")}return U}function Z(j,$,Y){if(j==null)return j;var J=[],V=0;return it(j,J,"","",function(I){return $.call(Y,I,V++)}),J}function rt(j){if(j._status===-1){var $=j._result;$=$(),$.then(function(Y){(j._status===0||j._status===-1)&&(j._status=1,j._result=Y)},function(Y){(j._status===0||j._status===-1)&&(j._status=2,j._result=Y)}),j._status===-1&&(j._status=0,j._result=$)}if(j._status===1)return j._result.default;throw j._result}var ot=typeof reportError=="function"?reportError:function(j){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var $=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof j=="object"&&j!==null&&typeof j.message=="string"?String(j.message):String(j),error:j});if(!window.dispatchEvent($))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",j);return}console.error(j)};function yt(){}return Qt.Children={map:Z,forEach:function(j,$,Y){Z(j,function(){$.apply(this,arguments)},Y)},count:function(j){var $=0;return Z(j,function(){$++}),$},toArray:function(j){return Z(j,function($){return $})||[]},only:function(j){if(!W(j))throw Error("React.Children.only expected to receive a single React element child.");return j}},Qt.Component=A,Qt.Fragment=a,Qt.Profiler=u,Qt.PureComponent=H,Qt.StrictMode=s,Qt.Suspense=g,Qt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=C,Qt.__COMPILER_RUNTIME={__proto__:null,c:function(j){return C.H.useMemoCache(j)}},Qt.cache=function(j){return function(){return j.apply(null,arguments)}},Qt.cloneElement=function(j,$,Y){if(j==null)throw Error("The argument must be a React element, but you passed "+j+".");var J=M({},j.props),V=j.key,I=void 0;if($!=null)for(U in $.ref!==void 0&&(I=void 0),$.key!==void 0&&(V=""+$.key),$)!q.call($,U)||U==="key"||U==="__self"||U==="__source"||U==="ref"&&$.ref===void 0||(J[U]=$[U]);var U=arguments.length-2;if(U===1)J.children=Y;else if(1<U){for(var dt=Array(U),gt=0;gt<U;gt++)dt[gt]=arguments[gt+2];J.children=dt}return et(j.type,V,void 0,void 0,I,J)},Qt.createContext=function(j){return j={$$typeof:f,_currentValue:j,_currentValue2:j,_threadCount:0,Provider:null,Consumer:null},j.Provider=j,j.Consumer={$$typeof:d,_context:j},j},Qt.createElement=function(j,$,Y){var J,V={},I=null;if($!=null)for(J in $.key!==void 0&&(I=""+$.key),$)q.call($,J)&&J!=="key"&&J!=="__self"&&J!=="__source"&&(V[J]=$[J]);var U=arguments.length-2;if(U===1)V.children=Y;else if(1<U){for(var dt=Array(U),gt=0;gt<U;gt++)dt[gt]=arguments[gt+2];V.children=dt}if(j&&j.defaultProps)for(J in U=j.defaultProps,U)V[J]===void 0&&(V[J]=U[J]);return et(j,I,void 0,void 0,null,V)},Qt.createRef=function(){return{current:null}},Qt.forwardRef=function(j){return{$$typeof:p,render:j}},Qt.isValidElement=W,Qt.lazy=function(j){return{$$typeof:_,_payload:{_status:-1,_result:j},_init:rt}},Qt.memo=function(j,$){return{$$typeof:y,type:j,compare:$===void 0?null:$}},Qt.startTransition=function(j){var $=C.T,Y={};C.T=Y;try{var J=j(),V=C.S;V!==null&&V(Y,J),typeof J=="object"&&J!==null&&typeof J.then=="function"&&J.then(yt,ot)}catch(I){ot(I)}finally{C.T=$}},Qt.unstable_useCacheRefresh=function(){return C.H.useCacheRefresh()},Qt.use=function(j){return C.H.use(j)},Qt.useActionState=function(j,$,Y){return C.H.useActionState(j,$,Y)},Qt.useCallback=function(j,$){return C.H.useCallback(j,$)},Qt.useContext=function(j){return C.H.useContext(j)},Qt.useDebugValue=function(){},Qt.useDeferredValue=function(j,$){return C.H.useDeferredValue(j,$)},Qt.useEffect=function(j,$,Y){var J=C.H;if(typeof Y=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return J.useEffect(j,$)},Qt.useId=function(){return C.H.useId()},Qt.useImperativeHandle=function(j,$,Y){return C.H.useImperativeHandle(j,$,Y)},Qt.useInsertionEffect=function(j,$){return C.H.useInsertionEffect(j,$)},Qt.useLayoutEffect=function(j,$){return C.H.useLayoutEffect(j,$)},Qt.useMemo=function(j,$){return C.H.useMemo(j,$)},Qt.useOptimistic=function(j,$){return C.H.useOptimistic(j,$)},Qt.useReducer=function(j,$,Y){return C.H.useReducer(j,$,Y)},Qt.useRef=function(j){return C.H.useRef(j)},Qt.useState=function(j){return C.H.useState(j)},Qt.useSyncExternalStore=function(j,$,Y){return C.H.useSyncExternalStore(j,$,Y)},Qt.useTransition=function(){return C.H.useTransition()},Qt.version="19.1.1",Qt}var Fy;function $f(){return Fy||(Fy=1,Jm.exports=Hw()),Jm.exports}var O=$f();const Le=tl(O);var t0={exports:{}},uc={},e0={exports:{}},n0={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Vy;function $w(){return Vy||(Vy=1,(function(t){function r(Z,rt){var ot=Z.length;Z.push(rt);t:for(;0<ot;){var yt=ot-1>>>1,j=Z[yt];if(0<u(j,rt))Z[yt]=rt,Z[ot]=j,ot=yt;else break t}}function a(Z){return Z.length===0?null:Z[0]}function s(Z){if(Z.length===0)return null;var rt=Z[0],ot=Z.pop();if(ot!==rt){Z[0]=ot;t:for(var yt=0,j=Z.length,$=j>>>1;yt<$;){var Y=2*(yt+1)-1,J=Z[Y],V=Y+1,I=Z[V];if(0>u(J,ot))V<j&&0>u(I,J)?(Z[yt]=I,Z[V]=ot,yt=V):(Z[yt]=J,Z[Y]=ot,yt=Y);else if(V<j&&0>u(I,ot))Z[yt]=I,Z[V]=ot,yt=V;else break t}}return rt}function u(Z,rt){var ot=Z.sortIndex-rt.sortIndex;return ot!==0?ot:Z.id-rt.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var d=performance;t.unstable_now=function(){return d.now()}}else{var f=Date,p=f.now();t.unstable_now=function(){return f.now()-p}}var g=[],y=[],_=1,w=null,S=3,T=!1,M=!1,D=!1,A=!1,z=typeof setTimeout=="function"?setTimeout:null,H=typeof clearTimeout=="function"?clearTimeout:null,k=typeof setImmediate<"u"?setImmediate:null;function B(Z){for(var rt=a(y);rt!==null;){if(rt.callback===null)s(y);else if(rt.startTime<=Z)s(y),rt.sortIndex=rt.expirationTime,r(g,rt);else break;rt=a(y)}}function C(Z){if(D=!1,B(Z),!M)if(a(g)!==null)M=!0,q||(q=!0,G());else{var rt=a(y);rt!==null&&it(C,rt.startTime-Z)}}var q=!1,et=-1,st=5,W=-1;function Q(){return A?!0:!(t.unstable_now()-W<st)}function F(){if(A=!1,q){var Z=t.unstable_now();W=Z;var rt=!0;try{t:{M=!1,D&&(D=!1,H(et),et=-1),T=!0;var ot=S;try{e:{for(B(Z),w=a(g);w!==null&&!(w.expirationTime>Z&&Q());){var yt=w.callback;if(typeof yt=="function"){w.callback=null,S=w.priorityLevel;var j=yt(w.expirationTime<=Z);if(Z=t.unstable_now(),typeof j=="function"){w.callback=j,B(Z),rt=!0;break e}w===a(g)&&s(g),B(Z)}else s(g);w=a(g)}if(w!==null)rt=!0;else{var $=a(y);$!==null&&it(C,$.startTime-Z),rt=!1}}break t}finally{w=null,S=ot,T=!1}rt=void 0}}finally{rt?G():q=!1}}}var G;if(typeof k=="function")G=function(){k(F)};else if(typeof MessageChannel<"u"){var tt=new MessageChannel,ht=tt.port2;tt.port1.onmessage=F,G=function(){ht.postMessage(null)}}else G=function(){z(F,0)};function it(Z,rt){et=z(function(){Z(t.unstable_now())},rt)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(Z){Z.callback=null},t.unstable_forceFrameRate=function(Z){0>Z||125<Z?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):st=0<Z?Math.floor(1e3/Z):5},t.unstable_getCurrentPriorityLevel=function(){return S},t.unstable_next=function(Z){switch(S){case 1:case 2:case 3:var rt=3;break;default:rt=S}var ot=S;S=rt;try{return Z()}finally{S=ot}},t.unstable_requestPaint=function(){A=!0},t.unstable_runWithPriority=function(Z,rt){switch(Z){case 1:case 2:case 3:case 4:case 5:break;default:Z=3}var ot=S;S=Z;try{return rt()}finally{S=ot}},t.unstable_scheduleCallback=function(Z,rt,ot){var yt=t.unstable_now();switch(typeof ot=="object"&&ot!==null?(ot=ot.delay,ot=typeof ot=="number"&&0<ot?yt+ot:yt):ot=yt,Z){case 1:var j=-1;break;case 2:j=250;break;case 5:j=1073741823;break;case 4:j=1e4;break;default:j=5e3}return j=ot+j,Z={id:_++,callback:rt,priorityLevel:Z,startTime:ot,expirationTime:j,sortIndex:-1},ot>yt?(Z.sortIndex=ot,r(y,Z),a(g)===null&&Z===a(y)&&(D?(H(et),et=-1):D=!0,it(C,ot-yt))):(Z.sortIndex=j,r(g,Z),M||T||(M=!0,q||(q=!0,G()))),Z},t.unstable_shouldYield=Q,t.unstable_wrapCallback=function(Z){var rt=S;return function(){var ot=S;S=rt;try{return Z.apply(this,arguments)}finally{S=ot}}}})(n0)),n0}var Ky;function Iw(){return Ky||(Ky=1,e0.exports=$w()),e0.exports}var r0={exports:{}},An={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Xy;function Uw(){if(Xy)return An;Xy=1;var t=$f();function r(g){var y="https://react.dev/errors/"+g;if(1<arguments.length){y+="?args[]="+encodeURIComponent(arguments[1]);for(var _=2;_<arguments.length;_++)y+="&args[]="+encodeURIComponent(arguments[_])}return"Minified React error #"+g+"; visit "+y+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(){}var s={d:{f:a,r:function(){throw Error(r(522))},D:a,C:a,L:a,m:a,X:a,S:a,M:a},p:0,findDOMNode:null},u=Symbol.for("react.portal");function d(g,y,_){var w=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:u,key:w==null?null:""+w,children:g,containerInfo:y,implementation:_}}var f=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function p(g,y){if(g==="font")return"";if(typeof y=="string")return y==="use-credentials"?y:""}return An.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,An.createPortal=function(g,y){var _=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!y||y.nodeType!==1&&y.nodeType!==9&&y.nodeType!==11)throw Error(r(299));return d(g,y,null,_)},An.flushSync=function(g){var y=f.T,_=s.p;try{if(f.T=null,s.p=2,g)return g()}finally{f.T=y,s.p=_,s.d.f()}},An.preconnect=function(g,y){typeof g=="string"&&(y?(y=y.crossOrigin,y=typeof y=="string"?y==="use-credentials"?y:"":void 0):y=null,s.d.C(g,y))},An.prefetchDNS=function(g){typeof g=="string"&&s.d.D(g)},An.preinit=function(g,y){if(typeof g=="string"&&y&&typeof y.as=="string"){var _=y.as,w=p(_,y.crossOrigin),S=typeof y.integrity=="string"?y.integrity:void 0,T=typeof y.fetchPriority=="string"?y.fetchPriority:void 0;_==="style"?s.d.S(g,typeof y.precedence=="string"?y.precedence:void 0,{crossOrigin:w,integrity:S,fetchPriority:T}):_==="script"&&s.d.X(g,{crossOrigin:w,integrity:S,fetchPriority:T,nonce:typeof y.nonce=="string"?y.nonce:void 0})}},An.preinitModule=function(g,y){if(typeof g=="string")if(typeof y=="object"&&y!==null){if(y.as==null||y.as==="script"){var _=p(y.as,y.crossOrigin);s.d.M(g,{crossOrigin:_,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0})}}else y==null&&s.d.M(g)},An.preload=function(g,y){if(typeof g=="string"&&typeof y=="object"&&y!==null&&typeof y.as=="string"){var _=y.as,w=p(_,y.crossOrigin);s.d.L(g,_,{crossOrigin:w,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0,type:typeof y.type=="string"?y.type:void 0,fetchPriority:typeof y.fetchPriority=="string"?y.fetchPriority:void 0,referrerPolicy:typeof y.referrerPolicy=="string"?y.referrerPolicy:void 0,imageSrcSet:typeof y.imageSrcSet=="string"?y.imageSrcSet:void 0,imageSizes:typeof y.imageSizes=="string"?y.imageSizes:void 0,media:typeof y.media=="string"?y.media:void 0})}},An.preloadModule=function(g,y){if(typeof g=="string")if(y){var _=p(y.as,y.crossOrigin);s.d.m(g,{as:typeof y.as=="string"&&y.as!=="script"?y.as:void 0,crossOrigin:_,integrity:typeof y.integrity=="string"?y.integrity:void 0})}else s.d.m(g)},An.requestFormReset=function(g){s.d.r(g)},An.unstable_batchedUpdates=function(g,y){return g(y)},An.useFormState=function(g,y,_){return f.H.useFormState(g,y,_)},An.useFormStatus=function(){return f.H.useHostTransitionStatus()},An.version="19.1.1",An}var Wy;function z_(){if(Wy)return r0.exports;Wy=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(r){console.error(r)}}return t(),r0.exports=Uw(),r0.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Qy;function Gw(){if(Qy)return uc;Qy=1;var t=Iw(),r=$f(),a=z_();function s(e){var n="https://react.dev/errors/"+e;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var o=2;o<arguments.length;o++)n+="&args[]="+encodeURIComponent(arguments[o])}return"Minified React error #"+e+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function u(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function d(e){var n=e,o=e;if(e.alternate)for(;n.return;)n=n.return;else{e=n;do n=e,(n.flags&4098)!==0&&(o=n.return),e=n.return;while(e)}return n.tag===3?o:null}function f(e){if(e.tag===13){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function p(e){if(d(e)!==e)throw Error(s(188))}function g(e){var n=e.alternate;if(!n){if(n=d(e),n===null)throw Error(s(188));return n!==e?null:e}for(var o=e,c=n;;){var m=o.return;if(m===null)break;var v=m.alternate;if(v===null){if(c=m.return,c!==null){o=c;continue}break}if(m.child===v.child){for(v=m.child;v;){if(v===o)return p(m),e;if(v===c)return p(m),n;v=v.sibling}throw Error(s(188))}if(o.return!==c.return)o=m,c=v;else{for(var N=!1,P=m.child;P;){if(P===o){N=!0,o=m,c=v;break}if(P===c){N=!0,c=m,o=v;break}P=P.sibling}if(!N){for(P=v.child;P;){if(P===o){N=!0,o=v,c=m;break}if(P===c){N=!0,c=v,o=m;break}P=P.sibling}if(!N)throw Error(s(189))}}if(o.alternate!==c)throw Error(s(190))}if(o.tag!==3)throw Error(s(188));return o.stateNode.current===o?e:n}function y(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e;for(e=e.child;e!==null;){if(n=y(e),n!==null)return n;e=e.sibling}return null}var _=Object.assign,w=Symbol.for("react.element"),S=Symbol.for("react.transitional.element"),T=Symbol.for("react.portal"),M=Symbol.for("react.fragment"),D=Symbol.for("react.strict_mode"),A=Symbol.for("react.profiler"),z=Symbol.for("react.provider"),H=Symbol.for("react.consumer"),k=Symbol.for("react.context"),B=Symbol.for("react.forward_ref"),C=Symbol.for("react.suspense"),q=Symbol.for("react.suspense_list"),et=Symbol.for("react.memo"),st=Symbol.for("react.lazy"),W=Symbol.for("react.activity"),Q=Symbol.for("react.memo_cache_sentinel"),F=Symbol.iterator;function G(e){return e===null||typeof e!="object"?null:(e=F&&e[F]||e["@@iterator"],typeof e=="function"?e:null)}var tt=Symbol.for("react.client.reference");function ht(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===tt?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case M:return"Fragment";case A:return"Profiler";case D:return"StrictMode";case C:return"Suspense";case q:return"SuspenseList";case W:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case T:return"Portal";case k:return(e.displayName||"Context")+".Provider";case H:return(e._context.displayName||"Context")+".Consumer";case B:var n=e.render;return e=e.displayName,e||(e=n.displayName||n.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case et:return n=e.displayName||null,n!==null?n:ht(e.type)||"Memo";case st:n=e._payload,e=e._init;try{return ht(e(n))}catch{}}return null}var it=Array.isArray,Z=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,rt=a.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ot={pending:!1,data:null,method:null,action:null},yt=[],j=-1;function $(e){return{current:e}}function Y(e){0>j||(e.current=yt[j],yt[j]=null,j--)}function J(e,n){j++,yt[j]=e.current,e.current=n}var V=$(null),I=$(null),U=$(null),dt=$(null);function gt(e,n){switch(J(U,n),J(I,e),J(V,null),n.nodeType){case 9:case 11:e=(e=n.documentElement)&&(e=e.namespaceURI)?yy(e):0;break;default:if(e=n.tagName,n=n.namespaceURI)n=yy(n),e=vy(n,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}Y(V),J(V,e)}function Mt(){Y(V),Y(I),Y(U)}function Nt(e){e.memoizedState!==null&&J(dt,e);var n=V.current,o=vy(n,e.type);n!==o&&(J(I,e),J(V,o))}function kt(e){I.current===e&&(Y(V),Y(I)),dt.current===e&&(Y(dt),ic._currentValue=ot)}var Dt=Object.prototype.hasOwnProperty,St=t.unstable_scheduleCallback,Ot=t.unstable_cancelCallback,Ct=t.unstable_shouldYield,Kt=t.unstable_requestPaint,It=t.unstable_now,Wt=t.unstable_getCurrentPriorityLevel,xt=t.unstable_ImmediatePriority,Rt=t.unstable_UserBlockingPriority,_t=t.unstable_NormalPriority,de=t.unstable_LowPriority,Ie=t.unstable_IdlePriority,we=t.log,qt=t.unstable_setDisableYieldValue,Oe=null,Be=null;function en(e){if(typeof we=="function"&&qt(e),Be&&typeof Be.setStrictMode=="function")try{Be.setStrictMode(Oe,e)}catch{}}var Re=Math.clz32?Math.clz32:ea,_i=Math.log,ii=Math.LN2;function ea(e){return e>>>=0,e===0?32:31-(_i(e)/ii|0)|0}var Zr=256,Yn=4194304;function pn(e){var n=e&42;if(n!==0)return n;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function Yr(e,n,o){var c=e.pendingLanes;if(c===0)return 0;var m=0,v=e.suspendedLanes,N=e.pingedLanes;e=e.warmLanes;var P=c&134217727;return P!==0?(c=P&~v,c!==0?m=pn(c):(N&=P,N!==0?m=pn(N):o||(o=P&~e,o!==0&&(m=pn(o))))):(P=c&~v,P!==0?m=pn(P):N!==0?m=pn(N):o||(o=c&~e,o!==0&&(m=pn(o)))),m===0?0:n!==0&&n!==m&&(n&v)===0&&(v=m&-m,o=n&-n,v>=o||v===32&&(o&4194048)!==0)?n:m}function qn(e,n){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&n)===0}function sl(e,n){switch(e){case 1:case 2:case 4:case 8:case 64:return n+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function to(){var e=Zr;return Zr<<=1,(Zr&4194048)===0&&(Zr=256),e}function qr(){var e=Yn;return Yn<<=1,(Yn&62914560)===0&&(Yn=4194304),e}function Fn(e){for(var n=[],o=0;31>o;o++)n.push(e);return n}function Si(e,n){e.pendingLanes|=n,n!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function ll(e,n,o,c,m,v){var N=e.pendingLanes;e.pendingLanes=o,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=o,e.entangledLanes&=o,e.errorRecoveryDisabledLanes&=o,e.shellSuspendCounter=0;var P=e.entanglements,X=e.expirationTimes,ut=e.hiddenUpdates;for(o=N&~o;0<o;){var vt=31-Re(o),Tt=1<<vt;P[vt]=0,X[vt]=-1;var ft=ut[vt];if(ft!==null)for(ut[vt]=null,vt=0;vt<ft.length;vt++){var mt=ft[vt];mt!==null&&(mt.lane&=-536870913)}o&=~Tt}c!==0&&eo(e,c,0),v!==0&&m===0&&e.tag!==0&&(e.suspendedLanes|=v&~(N&~n))}function eo(e,n,o){e.pendingLanes|=n,e.suspendedLanes&=~n;var c=31-Re(n);e.entangledLanes|=n,e.entanglements[c]=e.entanglements[c]|1073741824|o&4194090}function Jc(e,n){var o=e.entangledLanes|=n;for(e=e.entanglements;o;){var c=31-Re(o),m=1<<c;m&n|e[c]&n&&(e[c]|=n),o&=~m}}function cl(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function ul(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function tu(){var e=rt.p;return e!==0?e:(e=window.event,e===void 0?32:zy(e.type))}function dl(e,n){var o=rt.p;try{return rt.p=e,n()}finally{rt.p=o}}var ai=Math.random().toString(36).slice(2),sn="__reactFiber$"+ai,Tn="__reactProps$"+ai,na="__reactContainer$"+ai,Vn="__reactEvents$"+ai,zt="__reactListeners$"+ai,eu="__reactHandles$"+ai,fl="__reactResources$"+ai,ra="__reactMarker$"+ai;function qo(e){delete e[sn],delete e[Tn],delete e[Vn],delete e[zt],delete e[eu]}function oi(e){var n=e[sn];if(n)return n;for(var o=e.parentNode;o;){if(n=o[na]||o[sn]){if(o=n.alternate,n.child!==null||o!==null&&o.child!==null)for(e=wy(e);e!==null;){if(o=e[sn])return o;e=wy(e)}return n}e=o,o=e.parentNode}return null}function wi(e){if(e=e[sn]||e[na]){var n=e.tag;if(n===5||n===6||n===13||n===26||n===27||n===3)return e}return null}function wr(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e.stateNode;throw Error(s(33))}function Ti(e){var n=e[fl];return n||(n=e[fl]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function Qe(e){e[ra]=!0}var nu=new Set,ru={};function Ei(e,n){Mi(e,n),Mi(e+"Capture",n)}function Mi(e,n){for(ru[e]=n,e=0;e<n.length;e++)nu.add(n[e])}var lh=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),no={},iu={};function ch(e){return Dt.call(iu,e)?!0:Dt.call(no,e)?!1:lh.test(e)?iu[e]=!0:(no[e]=!0,!1)}function Fo(e,n,o){if(ch(n))if(o===null)e.removeAttribute(n);else{switch(typeof o){case"undefined":case"function":case"symbol":e.removeAttribute(n);return;case"boolean":var c=n.toLowerCase().slice(0,5);if(c!=="data-"&&c!=="aria-"){e.removeAttribute(n);return}}e.setAttribute(n,""+o)}}function Vo(e,n,o){if(o===null)e.removeAttribute(n);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(n);return}e.setAttribute(n,""+o)}}function Fr(e,n,o,c){if(c===null)e.removeAttribute(o);else{switch(typeof c){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(o);return}e.setAttributeNS(n,o,""+c)}}var ro,ia;function Ni(e){if(ro===void 0)try{throw Error()}catch(o){var n=o.stack.trim().match(/\n( *(at )?)/);ro=n&&n[1]||"",ia=-1<o.stack.indexOf(`
    at`)?" (<anonymous>)":-1<o.stack.indexOf("@")?"@unknown:0:0":""}return`
`+ro+e+ia}var Ko=!1;function Ai(e,n){if(!e||Ko)return"";Ko=!0;var o=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var c={DetermineComponentFrameRoot:function(){try{if(n){var Tt=function(){throw Error()};if(Object.defineProperty(Tt.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Tt,[])}catch(mt){var ft=mt}Reflect.construct(e,[],Tt)}else{try{Tt.call()}catch(mt){ft=mt}e.call(Tt.prototype)}}else{try{throw Error()}catch(mt){ft=mt}(Tt=e())&&typeof Tt.catch=="function"&&Tt.catch(function(){})}}catch(mt){if(mt&&ft&&typeof mt.stack=="string")return[mt.stack,ft.stack]}return[null,null]}};c.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var m=Object.getOwnPropertyDescriptor(c.DetermineComponentFrameRoot,"name");m&&m.configurable&&Object.defineProperty(c.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var v=c.DetermineComponentFrameRoot(),N=v[0],P=v[1];if(N&&P){var X=N.split(`
`),ut=P.split(`
`);for(m=c=0;c<X.length&&!X[c].includes("DetermineComponentFrameRoot");)c++;for(;m<ut.length&&!ut[m].includes("DetermineComponentFrameRoot");)m++;if(c===X.length||m===ut.length)for(c=X.length-1,m=ut.length-1;1<=c&&0<=m&&X[c]!==ut[m];)m--;for(;1<=c&&0<=m;c--,m--)if(X[c]!==ut[m]){if(c!==1||m!==1)do if(c--,m--,0>m||X[c]!==ut[m]){var vt=`
`+X[c].replace(" at new "," at ");return e.displayName&&vt.includes("<anonymous>")&&(vt=vt.replace("<anonymous>",e.displayName)),vt}while(1<=c&&0<=m);break}}}finally{Ko=!1,Error.prepareStackTrace=o}return(o=e?e.displayName||e.name:"")?Ni(o):""}function se(e){switch(e.tag){case 26:case 27:case 5:return Ni(e.type);case 16:return Ni("Lazy");case 13:return Ni("Suspense");case 19:return Ni("SuspenseList");case 0:case 15:return Ai(e.type,!1);case 11:return Ai(e.type.render,!1);case 1:return Ai(e.type,!0);case 31:return Ni("Activity");default:return""}}function Me(e){try{var n="";do n+=se(e),e=e.return;while(e);return n}catch(o){return`
Error generating stack: `+o.message+`
`+o.stack}}function gn(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Di(e){var n=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function aa(e){var n=Di(e)?"checked":"value",o=Object.getOwnPropertyDescriptor(e.constructor.prototype,n),c=""+e[n];if(!e.hasOwnProperty(n)&&typeof o<"u"&&typeof o.get=="function"&&typeof o.set=="function"){var m=o.get,v=o.set;return Object.defineProperty(e,n,{configurable:!0,get:function(){return m.call(this)},set:function(N){c=""+N,v.call(this,N)}}),Object.defineProperty(e,n,{enumerable:o.enumerable}),{getValue:function(){return c},setValue:function(N){c=""+N},stopTracking:function(){e._valueTracker=null,delete e[n]}}}}function oa(e){e._valueTracker||(e._valueTracker=aa(e))}function Xt(e){if(!e)return!1;var n=e._valueTracker;if(!n)return!0;var o=n.getValue(),c="";return e&&(c=Di(e)?e.checked?"true":"false":e.value),e=c,e!==o?(n.setValue(e),!0):!1}function Ne(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var hl=/[\n"\\]/g;function bn(e){return e.replace(hl,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function En(e,n,o,c,m,v,N,P){e.name="",N!=null&&typeof N!="function"&&typeof N!="symbol"&&typeof N!="boolean"?e.type=N:e.removeAttribute("type"),n!=null?N==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+gn(n)):e.value!==""+gn(n)&&(e.value=""+gn(n)):N!=="submit"&&N!=="reset"||e.removeAttribute("value"),n!=null?sa(e,N,gn(n)):o!=null?sa(e,N,gn(o)):c!=null&&e.removeAttribute("value"),m==null&&v!=null&&(e.defaultChecked=!!v),m!=null&&(e.checked=m&&typeof m!="function"&&typeof m!="symbol"),P!=null&&typeof P!="function"&&typeof P!="symbol"&&typeof P!="boolean"?e.name=""+gn(P):e.removeAttribute("name")}function au(e,n,o,c,m,v,N,P){if(v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"&&(e.type=v),n!=null||o!=null){if(!(v!=="submit"&&v!=="reset"||n!=null))return;o=o!=null?""+gn(o):"",n=n!=null?""+gn(n):o,P||n===e.value||(e.value=n),e.defaultValue=n}c=c??m,c=typeof c!="function"&&typeof c!="symbol"&&!!c,e.checked=P?e.checked:!!c,e.defaultChecked=!!c,N!=null&&typeof N!="function"&&typeof N!="symbol"&&typeof N!="boolean"&&(e.name=N)}function sa(e,n,o){n==="number"&&Ne(e.ownerDocument)===e||e.defaultValue===""+o||(e.defaultValue=""+o)}function Kn(e,n,o,c){if(e=e.options,n){n={};for(var m=0;m<o.length;m++)n["$"+o[m]]=!0;for(o=0;o<e.length;o++)m=n.hasOwnProperty("$"+e[o].value),e[o].selected!==m&&(e[o].selected=m),m&&c&&(e[o].defaultSelected=!0)}else{for(o=""+gn(o),n=null,m=0;m<e.length;m++){if(e[m].value===o){e[m].selected=!0,c&&(e[m].defaultSelected=!0);return}n!==null||e[m].disabled||(n=e[m])}n!==null&&(n.selected=!0)}}function Ue(e,n,o){if(n!=null&&(n=""+gn(n),n!==e.value&&(e.value=n),o==null)){e.defaultValue!==n&&(e.defaultValue=n);return}e.defaultValue=o!=null?""+gn(o):""}function si(e,n,o,c){if(n==null){if(c!=null){if(o!=null)throw Error(s(92));if(it(c)){if(1<c.length)throw Error(s(93));c=c[0]}o=c}o==null&&(o=""),n=o}o=gn(n),e.defaultValue=o,c=e.textContent,c===o&&c!==""&&c!==null&&(e.value=c)}function Tr(e,n){if(n){var o=e.firstChild;if(o&&o===e.lastChild&&o.nodeType===3){o.nodeValue=n;return}}e.textContent=n}var io=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Xo(e,n,o){var c=n.indexOf("--")===0;o==null||typeof o=="boolean"||o===""?c?e.setProperty(n,""):n==="float"?e.cssFloat="":e[n]="":c?e.setProperty(n,o):typeof o!="number"||o===0||io.has(n)?n==="float"?e.cssFloat=o:e[n]=(""+o).trim():e[n]=o+"px"}function la(e,n,o){if(n!=null&&typeof n!="object")throw Error(s(62));if(e=e.style,o!=null){for(var c in o)!o.hasOwnProperty(c)||n!=null&&n.hasOwnProperty(c)||(c.indexOf("--")===0?e.setProperty(c,""):c==="float"?e.cssFloat="":e[c]="");for(var m in n)c=n[m],n.hasOwnProperty(m)&&o[m]!==c&&Xo(e,m,c)}else for(var v in n)n.hasOwnProperty(v)&&Xo(e,v,n[v])}function ao(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ml=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Wo=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function ca(e){return Wo.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}var oo=null;function ua(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var ji=null,li=null;function ou(e){var n=wi(e);if(n&&(e=n.stateNode)){var o=e[Tn]||null;t:switch(e=n.stateNode,n.type){case"input":if(En(e,o.value,o.defaultValue,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name),n=o.name,o.type==="radio"&&n!=null){for(o=e;o.parentNode;)o=o.parentNode;for(o=o.querySelectorAll('input[name="'+bn(""+n)+'"][type="radio"]'),n=0;n<o.length;n++){var c=o[n];if(c!==e&&c.form===e.form){var m=c[Tn]||null;if(!m)throw Error(s(90));En(c,m.value,m.defaultValue,m.defaultValue,m.checked,m.defaultChecked,m.type,m.name)}}for(n=0;n<o.length;n++)c=o[n],c.form===e.form&&Xt(c)}break t;case"textarea":Ue(e,o.value,o.defaultValue);break t;case"select":n=o.value,n!=null&&Kn(e,!!o.multiple,n,!1)}}}var Vt=!1;function er(e,n,o){if(Vt)return e(n,o);Vt=!0;try{var c=e(n);return c}finally{if(Vt=!1,(ji!==null||li!==null)&&(td(),ji&&(n=ji,e=li,li=ji=null,ou(n),e)))for(n=0;n<e.length;n++)ou(e[n])}}function fe(e,n){var o=e.stateNode;if(o===null)return null;var c=o[Tn]||null;if(c===null)return null;o=c[n];t:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(c=!c.disabled)||(e=e.type,c=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!c;break t;default:e=!1}if(e)return null;if(o&&typeof o!="function")throw Error(s(231,n,typeof o));return o}var Er=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),so=!1;if(Er)try{var ki={};Object.defineProperty(ki,"passive",{get:function(){so=!0}}),window.addEventListener("test",ki,ki),window.removeEventListener("test",ki,ki)}catch{so=!1}var Mr=null,Vr=null,da=null;function fa(){if(da)return da;var e,n=Vr,o=n.length,c,m="value"in Mr?Mr.value:Mr.textContent,v=m.length;for(e=0;e<o&&n[e]===m[e];e++);var N=o-e;for(c=1;c<=N&&n[o-c]===m[v-c];c++);return da=m.slice(e,1<c?1-c:void 0)}function Fe(e){var n=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&n===13&&(e=13)):e=n,e===10&&(e=13),32<=e||e===13?e:0}function Nr(){return!0}function pl(){return!1}function yn(e){function n(o,c,m,v,N){this._reactName=o,this._targetInst=m,this.type=c,this.nativeEvent=v,this.target=N,this.currentTarget=null;for(var P in e)e.hasOwnProperty(P)&&(o=e[P],this[P]=o?o(v):v[P]);return this.isDefaultPrevented=(v.defaultPrevented!=null?v.defaultPrevented:v.returnValue===!1)?Nr:pl,this.isPropagationStopped=pl,this}return _(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var o=this.nativeEvent;o&&(o.preventDefault?o.preventDefault():typeof o.returnValue!="unknown"&&(o.returnValue=!1),this.isDefaultPrevented=Nr)},stopPropagation:function(){var o=this.nativeEvent;o&&(o.stopPropagation?o.stopPropagation():typeof o.cancelBubble!="unknown"&&(o.cancelBubble=!0),this.isPropagationStopped=Nr)},persist:function(){},isPersistent:Nr}),n}var Oi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},lo=yn(Oi),Ci=_({},Oi,{view:0,detail:0}),uh=yn(Ci),Qo,te,co,Mn=_({},Ci,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Jo,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==co&&(co&&e.type==="mousemove"?(Qo=e.screenX-co.screenX,te=e.screenY-co.screenY):te=Qo=0,co=e),Qo)},movementY:function(e){return"movementY"in e?e.movementY:te}}),ha=yn(Mn),su=_({},Mn,{dataTransfer:0}),dh=yn(su),gl=_({},Ci,{relatedTarget:0}),bl=yn(gl),lu=_({},Oi,{animationName:0,elapsedTime:0,pseudoElement:0}),fh=yn(lu),hh=_({},Oi,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),yl=yn(hh),mh=_({},Oi,{data:0}),nr=yn(mh),ph={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},cu={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},ci={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function uu(e){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(e):(e=ci[e])?!!n[e]:!1}function Jo(){return uu}var vl=_({},Ci,{key:function(e){if(e.key){var n=ph[e.key]||e.key;if(n!=="Unidentified")return n}return e.type==="keypress"?(e=Fe(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?cu[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Jo,charCode:function(e){return e.type==="keypress"?Fe(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Fe(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),gh=yn(vl),du=_({},Mn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),xl=yn(du),bh=_({},Ci,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Jo}),yh=yn(bh),_l=_({},Oi,{propertyName:0,elapsedTime:0,pseudoElement:0}),vh=yn(_l),fu=_({},Mn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),hu=yn(fu),ts=_({},Oi,{newState:0,oldState:0}),Li=yn(ts),xh=[9,13,27,32],Bi=Er&&"CompositionEvent"in window,ln=null;Er&&"documentMode"in document&&(ln=document.documentMode);var mu=Er&&"TextEvent"in window&&!ln,Sl=Er&&(!Bi||ln&&8<ln&&11>=ln),pu=" ",es=!1;function ns(e,n){switch(e){case"keyup":return xh.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function gu(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var ma=!1;function bu(e,n){switch(e){case"compositionend":return gu(n);case"keypress":return n.which!==32?null:(es=!0,pu);case"textInput":return e=n.data,e===pu&&es?null:e;default:return null}}function _h(e,n){if(ma)return e==="compositionend"||!Bi&&ns(e,n)?(e=fa(),da=Vr=Mr=null,ma=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return Sl&&n.locale!=="ko"?null:n.data;default:return null}}var rr={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Ri(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n==="input"?!!rr[e.type]:n==="textarea"}function yu(e,n,o,c){ji?li?li.push(c):li=[c]:ji=c,n=od(n,"onChange"),0<n.length&&(o=new lo("onChange","change",null,o,c),e.push({event:o,listeners:n}))}var kn=null,uo=null;function pa(e){hy(e,0)}function rs(e){var n=wr(e);if(Xt(n))return e}function ga(e,n){if(e==="change")return n}var wl=!1;if(Er){var ba;if(Er){var Tl="oninput"in document;if(!Tl){var Kr=document.createElement("div");Kr.setAttribute("oninput","return;"),Tl=typeof Kr.oninput=="function"}ba=Tl}else ba=!1;wl=ba&&(!document.documentMode||9<document.documentMode)}function fo(){kn&&(kn.detachEvent("onpropertychange",vu),uo=kn=null)}function vu(e){if(e.propertyName==="value"&&rs(uo)){var n=[];yu(n,uo,e,ua(e)),er(pa,n)}}function El(e,n,o){e==="focusin"?(fo(),kn=n,uo=o,kn.attachEvent("onpropertychange",vu)):e==="focusout"&&fo()}function Sh(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return rs(uo)}function Xr(e,n){if(e==="click")return rs(n)}function wh(e,n){if(e==="input"||e==="change")return rs(n)}function ya(e,n){return e===n&&(e!==0||1/e===1/n)||e!==e&&n!==n}var On=typeof Object.is=="function"?Object.is:ya;function Cn(e,n){if(On(e,n))return!0;if(typeof e!="object"||e===null||typeof n!="object"||n===null)return!1;var o=Object.keys(e),c=Object.keys(n);if(o.length!==c.length)return!1;for(c=0;c<o.length;c++){var m=o[c];if(!Dt.call(n,m)||!On(e[m],n[m]))return!1}return!0}function ho(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Ml(e,n){var o=ho(e);e=0;for(var c;o;){if(o.nodeType===3){if(c=e+o.textContent.length,e<=n&&c>=n)return{node:o,offset:n-e};e=c}t:{for(;o;){if(o.nextSibling){o=o.nextSibling;break t}o=o.parentNode}o=void 0}o=ho(o)}}function is(e,n){return e&&n?e===n?!0:e&&e.nodeType===3?!1:n&&n.nodeType===3?is(e,n.parentNode):"contains"in e?e.contains(n):e.compareDocumentPosition?!!(e.compareDocumentPosition(n)&16):!1:!1}function mo(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var n=Ne(e.document);n instanceof e.HTMLIFrameElement;){try{var o=typeof n.contentWindow.location.href=="string"}catch{o=!1}if(o)e=n.contentWindow;else break;n=Ne(e.document)}return n}function po(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n&&(n==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||n==="textarea"||e.contentEditable==="true")}var as=Er&&"documentMode"in document&&11>=document.documentMode,ir=null,va=null,Pi=null,os=!1;function xu(e,n,o){var c=o.window===o?o.document:o.nodeType===9?o:o.ownerDocument;os||ir==null||ir!==Ne(c)||(c=ir,"selectionStart"in c&&po(c)?c={start:c.selectionStart,end:c.selectionEnd}:(c=(c.ownerDocument&&c.ownerDocument.defaultView||window).getSelection(),c={anchorNode:c.anchorNode,anchorOffset:c.anchorOffset,focusNode:c.focusNode,focusOffset:c.focusOffset}),Pi&&Cn(Pi,c)||(Pi=c,c=od(va,"onSelect"),0<c.length&&(n=new lo("onSelect","select",null,n,o),e.push({event:n,listeners:c}),n.target=ir)))}function Ar(e,n){var o={};return o[e.toLowerCase()]=n.toLowerCase(),o["Webkit"+e]="webkit"+n,o["Moz"+e]="moz"+n,o}var xa={animationend:Ar("Animation","AnimationEnd"),animationiteration:Ar("Animation","AnimationIteration"),animationstart:Ar("Animation","AnimationStart"),transitionrun:Ar("Transition","TransitionRun"),transitionstart:Ar("Transition","TransitionStart"),transitioncancel:Ar("Transition","TransitionCancel"),transitionend:Ar("Transition","TransitionEnd")},ss={},_u={};Er&&(_u=document.createElement("div").style,"AnimationEvent"in window||(delete xa.animationend.animation,delete xa.animationiteration.animation,delete xa.animationstart.animation),"TransitionEvent"in window||delete xa.transitionend.transition);function ui(e){if(ss[e])return ss[e];if(!xa[e])return e;var n=xa[e],o;for(o in n)if(n.hasOwnProperty(o)&&o in _u)return ss[e]=n[o];return e}var Su=ui("animationend"),ar=ui("animationiteration"),go=ui("animationstart"),Th=ui("transitionrun"),ls=ui("transitionstart"),Eh=ui("transitioncancel"),Nl=ui("transitionend"),wu=new Map,zi="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");zi.push("scrollEnd");function or(e,n){wu.set(e,n),Ei(n,[e])}var Hi=new WeakMap;function Ln(e,n){if(typeof e=="object"&&e!==null){var o=Hi.get(e);return o!==void 0?o:(n={value:e,source:n,stack:Me(n)},Hi.set(e,n),n)}return{value:e,source:n,stack:Me(n)}}var Bn=[],_a=0,sr=0;function bo(){for(var e=_a,n=sr=_a=0;n<e;){var o=Bn[n];Bn[n++]=null;var c=Bn[n];Bn[n++]=null;var m=Bn[n];Bn[n++]=null;var v=Bn[n];if(Bn[n++]=null,c!==null&&m!==null){var N=c.pending;N===null?m.next=m:(m.next=N.next,N.next=m),c.pending=m}v!==0&&vo(o,m,v)}}function yo(e,n,o,c){Bn[_a++]=e,Bn[_a++]=n,Bn[_a++]=o,Bn[_a++]=c,sr|=c,e.lanes|=c,e=e.alternate,e!==null&&(e.lanes|=c)}function $i(e,n,o,c){return yo(e,n,o,c),di(e)}function Sa(e,n){return yo(e,null,null,n),di(e)}function vo(e,n,o){e.lanes|=o;var c=e.alternate;c!==null&&(c.lanes|=o);for(var m=!1,v=e.return;v!==null;)v.childLanes|=o,c=v.alternate,c!==null&&(c.childLanes|=o),v.tag===22&&(e=v.stateNode,e===null||e._visibility&1||(m=!0)),e=v,v=v.return;return e.tag===3?(v=e.stateNode,m&&n!==null&&(m=31-Re(o),e=v.hiddenUpdates,c=e[m],c===null?e[m]=[n]:c.push(n),n.lane=o|536870912),v):null}function di(e){if(50<Xl)throw Xl=0,Sm=null,Error(s(185));for(var n=e.return;n!==null;)e=n,n=e.return;return e.tag===3?e.stateNode:null}var Ii={};function Tu(e,n,o,c){this.tag=e,this.key=o,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=c,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Rn(e,n,o,c){return new Tu(e,n,o,c)}function cs(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Dr(e,n){var o=e.alternate;return o===null?(o=Rn(e.tag,n,e.key,e.mode),o.elementType=e.elementType,o.type=e.type,o.stateNode=e.stateNode,o.alternate=e,e.alternate=o):(o.pendingProps=n,o.type=e.type,o.flags=0,o.subtreeFlags=0,o.deletions=null),o.flags=e.flags&65011712,o.childLanes=e.childLanes,o.lanes=e.lanes,o.child=e.child,o.memoizedProps=e.memoizedProps,o.memoizedState=e.memoizedState,o.updateQueue=e.updateQueue,n=e.dependencies,o.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},o.sibling=e.sibling,o.index=e.index,o.ref=e.ref,o.refCleanup=e.refCleanup,o}function Al(e,n){e.flags&=65011714;var o=e.alternate;return o===null?(e.childLanes=0,e.lanes=n,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=o.childLanes,e.lanes=o.lanes,e.child=o.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=o.memoizedProps,e.memoizedState=o.memoizedState,e.updateQueue=o.updateQueue,e.type=o.type,n=o.dependencies,e.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),e}function xo(e,n,o,c,m,v){var N=0;if(c=e,typeof e=="function")cs(e)&&(N=1);else if(typeof e=="string")N=ww(e,o,V.current)?26:e==="html"||e==="head"||e==="body"?27:5;else t:switch(e){case W:return e=Rn(31,o,n,m),e.elementType=W,e.lanes=v,e;case M:return fi(o.children,m,v,n);case D:N=8,m|=24;break;case A:return e=Rn(12,o,n,m|2),e.elementType=A,e.lanes=v,e;case C:return e=Rn(13,o,n,m),e.elementType=C,e.lanes=v,e;case q:return e=Rn(19,o,n,m),e.elementType=q,e.lanes=v,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case z:case k:N=10;break t;case H:N=9;break t;case B:N=11;break t;case et:N=14;break t;case st:N=16,c=null;break t}N=29,o=Error(s(130,e===null?"null":typeof e,"")),c=null}return n=Rn(N,o,n,m),n.elementType=e,n.type=c,n.lanes=v,n}function fi(e,n,o,c){return e=Rn(7,e,c,n),e.lanes=o,e}function Dl(e,n,o){return e=Rn(6,e,null,n),e.lanes=o,e}function us(e,n,o){return n=Rn(4,e.children!==null?e.children:[],e.key,n),n.lanes=o,n.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},n}var Ui=[],wa=0,i=null,l=0,h=[],x=0,E=null,R=1,K="";function lt(e,n){Ui[wa++]=l,Ui[wa++]=i,i=e,l=n}function pt(e,n,o){h[x++]=R,h[x++]=K,h[x++]=E,E=e;var c=R;e=K;var m=32-Re(c)-1;c&=~(1<<m),o+=1;var v=32-Re(n)+m;if(30<v){var N=m-m%5;v=(c&(1<<N)-1).toString(32),c>>=N,m-=N,R=1<<32-Re(n)+m|o<<m|c,K=v+e}else R=1<<v|o<<m|c,K=e}function Et(e){e.return!==null&&(lt(e,1),pt(e,1,0))}function jt(e){for(;e===i;)i=Ui[--wa],Ui[wa]=null,l=Ui[--wa],Ui[wa]=null;for(;e===E;)E=h[--x],h[x]=null,K=h[--x],h[x]=null,R=h[--x],h[x]=null}var Lt=null,Pt=null,Ft=!1,Ae=null,Ge=!1,cn=Error(s(519));function Xn(e){var n=Error(s(418,""));throw Ea(Ln(n,e)),cn}function Eu(e){var n=e.stateNode,o=e.type,c=e.memoizedProps;switch(n[sn]=e,n[Tn]=c,o){case"dialog":re("cancel",n),re("close",n);break;case"iframe":case"object":case"embed":re("load",n);break;case"video":case"audio":for(o=0;o<Ql.length;o++)re(Ql[o],n);break;case"source":re("error",n);break;case"img":case"image":case"link":re("error",n),re("load",n);break;case"details":re("toggle",n);break;case"input":re("invalid",n),au(n,c.value,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name,!0),oa(n);break;case"select":re("invalid",n);break;case"textarea":re("invalid",n),si(n,c.value,c.defaultValue,c.children),oa(n)}o=c.children,typeof o!="string"&&typeof o!="number"&&typeof o!="bigint"||n.textContent===""+o||c.suppressHydrationWarning===!0||by(n.textContent,o)?(c.popover!=null&&(re("beforetoggle",n),re("toggle",n)),c.onScroll!=null&&re("scroll",n),c.onScrollEnd!=null&&re("scrollend",n),c.onClick!=null&&(n.onclick=sd),n=!0):n=!1,n||Xn(e)}function Mu(e){for(Lt=e.return;Lt;)switch(Lt.tag){case 5:case 13:Ge=!1;return;case 27:case 3:Ge=!0;return;default:Lt=Lt.return}}function _o(e){if(e!==Lt)return!1;if(!Ft)return Mu(e),Ft=!0,!1;var n=e.tag,o;if((o=n!==3&&n!==27)&&((o=n===5)&&(o=e.type,o=!(o!=="form"&&o!=="button")||zm(e.type,e.memoizedProps)),o=!o),o&&Pt&&Xn(e),Mu(e),n===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(s(317));t:{for(e=e.nextSibling,n=0;e;){if(e.nodeType===8)if(o=e.data,o==="/$"){if(n===0){Pt=ti(e.nextSibling);break t}n--}else o!=="$"&&o!=="$!"&&o!=="$?"||n++;e=e.nextSibling}Pt=null}}else n===27?(n=Pt,$a(e.type)?(e=Um,Um=null,Pt=e):Pt=n):Pt=Lt?ti(e.stateNode.nextSibling):null;return!0}function Ta(){Pt=Lt=null,Ft=!1}function Nu(){var e=Ae;return e!==null&&(Jn===null?Jn=e:Jn.push.apply(Jn,e),Ae=null),e}function Ea(e){Ae===null?Ae=[e]:Ae.push(e)}var Pe=$(null),jr=null,Wr=null;function hi(e,n,o){J(Pe,n._currentValue),n._currentValue=o}function Qr(e){e._currentValue=Pe.current,Y(Pe)}function So(e,n,o){for(;e!==null;){var c=e.alternate;if((e.childLanes&n)!==n?(e.childLanes|=n,c!==null&&(c.childLanes|=n)):c!==null&&(c.childLanes&n)!==n&&(c.childLanes|=n),e===o)break;e=e.return}}function ds(e,n,o,c){var m=e.child;for(m!==null&&(m.return=e);m!==null;){var v=m.dependencies;if(v!==null){var N=m.child;v=v.firstContext;t:for(;v!==null;){var P=v;v=m;for(var X=0;X<n.length;X++)if(P.context===n[X]){v.lanes|=o,P=v.alternate,P!==null&&(P.lanes|=o),So(v.return,o,e),c||(N=null);break t}v=P.next}}else if(m.tag===18){if(N=m.return,N===null)throw Error(s(341));N.lanes|=o,v=N.alternate,v!==null&&(v.lanes|=o),So(N,o,e),N=null}else N=m.child;if(N!==null)N.return=m;else for(N=m;N!==null;){if(N===e){N=null;break}if(m=N.sibling,m!==null){m.return=N.return,N=m;break}N=N.return}m=N}}function wo(e,n,o,c){e=null;for(var m=n,v=!1;m!==null;){if(!v){if((m.flags&524288)!==0)v=!0;else if((m.flags&262144)!==0)break}if(m.tag===10){var N=m.alternate;if(N===null)throw Error(s(387));if(N=N.memoizedProps,N!==null){var P=m.type;On(m.pendingProps.value,N.value)||(e!==null?e.push(P):e=[P])}}else if(m===dt.current){if(N=m.alternate,N===null)throw Error(s(387));N.memoizedState.memoizedState!==m.memoizedState.memoizedState&&(e!==null?e.push(ic):e=[ic])}m=m.return}e!==null&&ds(n,e,o,c),n.flags|=262144}function Au(e){for(e=e.firstContext;e!==null;){if(!On(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function To(e){jr=e,Wr=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function Nn(e){return rg(jr,e)}function Du(e,n){return jr===null&&To(e),rg(e,n)}function rg(e,n){var o=n._currentValue;if(n={context:n,memoizedValue:o,next:null},Wr===null){if(e===null)throw Error(s(308));Wr=n,e.dependencies={lanes:0,firstContext:n},e.flags|=524288}else Wr=Wr.next=n;return o}var SS=typeof AbortController<"u"?AbortController:function(){var e=[],n=this.signal={aborted:!1,addEventListener:function(o,c){e.push(c)}};this.abort=function(){n.aborted=!0,e.forEach(function(o){return o()})}},wS=t.unstable_scheduleCallback,TS=t.unstable_NormalPriority,nn={$$typeof:k,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Mh(){return{controller:new SS,data:new Map,refCount:0}}function jl(e){e.refCount--,e.refCount===0&&wS(TS,function(){e.controller.abort()})}var kl=null,Nh=0,fs=0,hs=null;function ES(e,n){if(kl===null){var o=kl=[];Nh=0,fs=Dm(),hs={status:"pending",value:void 0,then:function(c){o.push(c)}}}return Nh++,n.then(ig,ig),n}function ig(){if(--Nh===0&&kl!==null){hs!==null&&(hs.status="fulfilled");var e=kl;kl=null,fs=0,hs=null;for(var n=0;n<e.length;n++)(0,e[n])()}}function MS(e,n){var o=[],c={status:"pending",value:null,reason:null,then:function(m){o.push(m)}};return e.then(function(){c.status="fulfilled",c.value=n;for(var m=0;m<o.length;m++)(0,o[m])(n)},function(m){for(c.status="rejected",c.reason=m,m=0;m<o.length;m++)(0,o[m])(void 0)}),c}var ag=Z.S;Z.S=function(e,n){typeof n=="object"&&n!==null&&typeof n.then=="function"&&ES(e,n),ag!==null&&ag(e,n)};var Eo=$(null);function Ah(){var e=Eo.current;return e!==null?e:De.pooledCache}function ju(e,n){n===null?J(Eo,Eo.current):J(Eo,n.pool)}function og(){var e=Ah();return e===null?null:{parent:nn._currentValue,pool:e}}var Ol=Error(s(460)),sg=Error(s(474)),ku=Error(s(542)),Dh={then:function(){}};function lg(e){return e=e.status,e==="fulfilled"||e==="rejected"}function Ou(){}function cg(e,n,o){switch(o=e[o],o===void 0?e.push(n):o!==n&&(n.then(Ou,Ou),n=o),n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,dg(e),e;default:if(typeof n.status=="string")n.then(Ou,Ou);else{if(e=De,e!==null&&100<e.shellSuspendCounter)throw Error(s(482));e=n,e.status="pending",e.then(function(c){if(n.status==="pending"){var m=n;m.status="fulfilled",m.value=c}},function(c){if(n.status==="pending"){var m=n;m.status="rejected",m.reason=c}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,dg(e),e}throw Cl=n,Ol}}var Cl=null;function ug(){if(Cl===null)throw Error(s(459));var e=Cl;return Cl=null,e}function dg(e){if(e===Ol||e===ku)throw Error(s(483))}var Ma=!1;function jh(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function kh(e,n){e=e.updateQueue,n.updateQueue===e&&(n.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function Na(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function Aa(e,n,o){var c=e.updateQueue;if(c===null)return null;if(c=c.shared,(ge&2)!==0){var m=c.pending;return m===null?n.next=n:(n.next=m.next,m.next=n),c.pending=n,n=di(e),vo(e,null,o),n}return yo(e,c,n,o),di(e)}function Ll(e,n,o){if(n=n.updateQueue,n!==null&&(n=n.shared,(o&4194048)!==0)){var c=n.lanes;c&=e.pendingLanes,o|=c,n.lanes=o,Jc(e,o)}}function Oh(e,n){var o=e.updateQueue,c=e.alternate;if(c!==null&&(c=c.updateQueue,o===c)){var m=null,v=null;if(o=o.firstBaseUpdate,o!==null){do{var N={lane:o.lane,tag:o.tag,payload:o.payload,callback:null,next:null};v===null?m=v=N:v=v.next=N,o=o.next}while(o!==null);v===null?m=v=n:v=v.next=n}else m=v=n;o={baseState:c.baseState,firstBaseUpdate:m,lastBaseUpdate:v,shared:c.shared,callbacks:c.callbacks},e.updateQueue=o;return}e=o.lastBaseUpdate,e===null?o.firstBaseUpdate=n:e.next=n,o.lastBaseUpdate=n}var Ch=!1;function Bl(){if(Ch){var e=hs;if(e!==null)throw e}}function Rl(e,n,o,c){Ch=!1;var m=e.updateQueue;Ma=!1;var v=m.firstBaseUpdate,N=m.lastBaseUpdate,P=m.shared.pending;if(P!==null){m.shared.pending=null;var X=P,ut=X.next;X.next=null,N===null?v=ut:N.next=ut,N=X;var vt=e.alternate;vt!==null&&(vt=vt.updateQueue,P=vt.lastBaseUpdate,P!==N&&(P===null?vt.firstBaseUpdate=ut:P.next=ut,vt.lastBaseUpdate=X))}if(v!==null){var Tt=m.baseState;N=0,vt=ut=X=null,P=v;do{var ft=P.lane&-536870913,mt=ft!==P.lane;if(mt?(le&ft)===ft:(c&ft)===ft){ft!==0&&ft===fs&&(Ch=!0),vt!==null&&(vt=vt.next={lane:0,tag:P.tag,payload:P.payload,callback:null,next:null});t:{var Yt=e,Gt=P;ft=n;var xe=o;switch(Gt.tag){case 1:if(Yt=Gt.payload,typeof Yt=="function"){Tt=Yt.call(xe,Tt,ft);break t}Tt=Yt;break t;case 3:Yt.flags=Yt.flags&-65537|128;case 0:if(Yt=Gt.payload,ft=typeof Yt=="function"?Yt.call(xe,Tt,ft):Yt,ft==null)break t;Tt=_({},Tt,ft);break t;case 2:Ma=!0}}ft=P.callback,ft!==null&&(e.flags|=64,mt&&(e.flags|=8192),mt=m.callbacks,mt===null?m.callbacks=[ft]:mt.push(ft))}else mt={lane:ft,tag:P.tag,payload:P.payload,callback:P.callback,next:null},vt===null?(ut=vt=mt,X=Tt):vt=vt.next=mt,N|=ft;if(P=P.next,P===null){if(P=m.shared.pending,P===null)break;mt=P,P=mt.next,mt.next=null,m.lastBaseUpdate=mt,m.shared.pending=null}}while(!0);vt===null&&(X=Tt),m.baseState=X,m.firstBaseUpdate=ut,m.lastBaseUpdate=vt,v===null&&(m.shared.lanes=0),Ra|=N,e.lanes=N,e.memoizedState=Tt}}function fg(e,n){if(typeof e!="function")throw Error(s(191,e));e.call(n)}function hg(e,n){var o=e.callbacks;if(o!==null)for(e.callbacks=null,e=0;e<o.length;e++)fg(o[e],n)}var ms=$(null),Cu=$(0);function mg(e,n){e=Ki,J(Cu,e),J(ms,n),Ki=e|n.baseLanes}function Lh(){J(Cu,Ki),J(ms,ms.current)}function Bh(){Ki=Cu.current,Y(ms),Y(Cu)}var Da=0,Jt=null,ye=null,Je=null,Lu=!1,ps=!1,Mo=!1,Bu=0,Pl=0,gs=null,NS=0;function Xe(){throw Error(s(321))}function Rh(e,n){if(n===null)return!1;for(var o=0;o<n.length&&o<e.length;o++)if(!On(e[o],n[o]))return!1;return!0}function Ph(e,n,o,c,m,v){return Da=v,Jt=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,Z.H=e===null||e.memoizedState===null?Wg:Qg,Mo=!1,v=o(c,m),Mo=!1,ps&&(v=gg(n,o,c,m)),pg(e),v}function pg(e){Z.H=Iu;var n=ye!==null&&ye.next!==null;if(Da=0,Je=ye=Jt=null,Lu=!1,Pl=0,gs=null,n)throw Error(s(300));e===null||un||(e=e.dependencies,e!==null&&Au(e)&&(un=!0))}function gg(e,n,o,c){Jt=e;var m=0;do{if(ps&&(gs=null),Pl=0,ps=!1,25<=m)throw Error(s(301));if(m+=1,Je=ye=null,e.updateQueue!=null){var v=e.updateQueue;v.lastEffect=null,v.events=null,v.stores=null,v.memoCache!=null&&(v.memoCache.index=0)}Z.H=LS,v=n(o,c)}while(ps);return v}function AS(){var e=Z.H,n=e.useState()[0];return n=typeof n.then=="function"?zl(n):n,e=e.useState()[0],(ye!==null?ye.memoizedState:null)!==e&&(Jt.flags|=1024),n}function zh(){var e=Bu!==0;return Bu=0,e}function Hh(e,n,o){n.updateQueue=e.updateQueue,n.flags&=-2053,e.lanes&=~o}function $h(e){if(Lu){for(e=e.memoizedState;e!==null;){var n=e.queue;n!==null&&(n.pending=null),e=e.next}Lu=!1}Da=0,Je=ye=Jt=null,ps=!1,Pl=Bu=0,gs=null}function Wn(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Je===null?Jt.memoizedState=Je=e:Je=Je.next=e,Je}function tn(){if(ye===null){var e=Jt.alternate;e=e!==null?e.memoizedState:null}else e=ye.next;var n=Je===null?Jt.memoizedState:Je.next;if(n!==null)Je=n,ye=e;else{if(e===null)throw Jt.alternate===null?Error(s(467)):Error(s(310));ye=e,e={memoizedState:ye.memoizedState,baseState:ye.baseState,baseQueue:ye.baseQueue,queue:ye.queue,next:null},Je===null?Jt.memoizedState=Je=e:Je=Je.next=e}return Je}function Ih(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function zl(e){var n=Pl;return Pl+=1,gs===null&&(gs=[]),e=cg(gs,e,n),n=Jt,(Je===null?n.memoizedState:Je.next)===null&&(n=n.alternate,Z.H=n===null||n.memoizedState===null?Wg:Qg),e}function Ru(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return zl(e);if(e.$$typeof===k)return Nn(e)}throw Error(s(438,String(e)))}function Uh(e){var n=null,o=Jt.updateQueue;if(o!==null&&(n=o.memoCache),n==null){var c=Jt.alternate;c!==null&&(c=c.updateQueue,c!==null&&(c=c.memoCache,c!=null&&(n={data:c.data.map(function(m){return m.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),o===null&&(o=Ih(),Jt.updateQueue=o),o.memoCache=n,o=n.data[n.index],o===void 0)for(o=n.data[n.index]=Array(e),c=0;c<e;c++)o[c]=Q;return n.index++,o}function Gi(e,n){return typeof n=="function"?n(e):n}function Pu(e){var n=tn();return Gh(n,ye,e)}function Gh(e,n,o){var c=e.queue;if(c===null)throw Error(s(311));c.lastRenderedReducer=o;var m=e.baseQueue,v=c.pending;if(v!==null){if(m!==null){var N=m.next;m.next=v.next,v.next=N}n.baseQueue=m=v,c.pending=null}if(v=e.baseState,m===null)e.memoizedState=v;else{n=m.next;var P=N=null,X=null,ut=n,vt=!1;do{var Tt=ut.lane&-536870913;if(Tt!==ut.lane?(le&Tt)===Tt:(Da&Tt)===Tt){var ft=ut.revertLane;if(ft===0)X!==null&&(X=X.next={lane:0,revertLane:0,action:ut.action,hasEagerState:ut.hasEagerState,eagerState:ut.eagerState,next:null}),Tt===fs&&(vt=!0);else if((Da&ft)===ft){ut=ut.next,ft===fs&&(vt=!0);continue}else Tt={lane:0,revertLane:ut.revertLane,action:ut.action,hasEagerState:ut.hasEagerState,eagerState:ut.eagerState,next:null},X===null?(P=X=Tt,N=v):X=X.next=Tt,Jt.lanes|=ft,Ra|=ft;Tt=ut.action,Mo&&o(v,Tt),v=ut.hasEagerState?ut.eagerState:o(v,Tt)}else ft={lane:Tt,revertLane:ut.revertLane,action:ut.action,hasEagerState:ut.hasEagerState,eagerState:ut.eagerState,next:null},X===null?(P=X=ft,N=v):X=X.next=ft,Jt.lanes|=Tt,Ra|=Tt;ut=ut.next}while(ut!==null&&ut!==n);if(X===null?N=v:X.next=P,!On(v,e.memoizedState)&&(un=!0,vt&&(o=hs,o!==null)))throw o;e.memoizedState=v,e.baseState=N,e.baseQueue=X,c.lastRenderedState=v}return m===null&&(c.lanes=0),[e.memoizedState,c.dispatch]}function Zh(e){var n=tn(),o=n.queue;if(o===null)throw Error(s(311));o.lastRenderedReducer=e;var c=o.dispatch,m=o.pending,v=n.memoizedState;if(m!==null){o.pending=null;var N=m=m.next;do v=e(v,N.action),N=N.next;while(N!==m);On(v,n.memoizedState)||(un=!0),n.memoizedState=v,n.baseQueue===null&&(n.baseState=v),o.lastRenderedState=v}return[v,c]}function bg(e,n,o){var c=Jt,m=tn(),v=Ft;if(v){if(o===void 0)throw Error(s(407));o=o()}else o=n();var N=!On((ye||m).memoizedState,o);N&&(m.memoizedState=o,un=!0),m=m.queue;var P=xg.bind(null,c,m,e);if(Hl(2048,8,P,[e]),m.getSnapshot!==n||N||Je!==null&&Je.memoizedState.tag&1){if(c.flags|=2048,bs(9,zu(),vg.bind(null,c,m,o,n),null),De===null)throw Error(s(349));v||(Da&124)!==0||yg(c,n,o)}return o}function yg(e,n,o){e.flags|=16384,e={getSnapshot:n,value:o},n=Jt.updateQueue,n===null?(n=Ih(),Jt.updateQueue=n,n.stores=[e]):(o=n.stores,o===null?n.stores=[e]:o.push(e))}function vg(e,n,o,c){n.value=o,n.getSnapshot=c,_g(n)&&Sg(e)}function xg(e,n,o){return o(function(){_g(n)&&Sg(e)})}function _g(e){var n=e.getSnapshot;e=e.value;try{var o=n();return!On(e,o)}catch{return!0}}function Sg(e){var n=Sa(e,2);n!==null&&fr(n,e,2)}function Yh(e){var n=Wn();if(typeof e=="function"){var o=e;if(e=o(),Mo){en(!0);try{o()}finally{en(!1)}}}return n.memoizedState=n.baseState=e,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Gi,lastRenderedState:e},n}function wg(e,n,o,c){return e.baseState=o,Gh(e,ye,typeof c=="function"?c:Gi)}function DS(e,n,o,c,m){if($u(e))throw Error(s(485));if(e=n.action,e!==null){var v={payload:m,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(N){v.listeners.push(N)}};Z.T!==null?o(!0):v.isTransition=!1,c(v),o=n.pending,o===null?(v.next=n.pending=v,Tg(n,v)):(v.next=o.next,n.pending=o.next=v)}}function Tg(e,n){var o=n.action,c=n.payload,m=e.state;if(n.isTransition){var v=Z.T,N={};Z.T=N;try{var P=o(m,c),X=Z.S;X!==null&&X(N,P),Eg(e,n,P)}catch(ut){qh(e,n,ut)}finally{Z.T=v}}else try{v=o(m,c),Eg(e,n,v)}catch(ut){qh(e,n,ut)}}function Eg(e,n,o){o!==null&&typeof o=="object"&&typeof o.then=="function"?o.then(function(c){Mg(e,n,c)},function(c){return qh(e,n,c)}):Mg(e,n,o)}function Mg(e,n,o){n.status="fulfilled",n.value=o,Ng(n),e.state=o,n=e.pending,n!==null&&(o=n.next,o===n?e.pending=null:(o=o.next,n.next=o,Tg(e,o)))}function qh(e,n,o){var c=e.pending;if(e.pending=null,c!==null){c=c.next;do n.status="rejected",n.reason=o,Ng(n),n=n.next;while(n!==c)}e.action=null}function Ng(e){e=e.listeners;for(var n=0;n<e.length;n++)(0,e[n])()}function Ag(e,n){return n}function Dg(e,n){if(Ft){var o=De.formState;if(o!==null){t:{var c=Jt;if(Ft){if(Pt){e:{for(var m=Pt,v=Ge;m.nodeType!==8;){if(!v){m=null;break e}if(m=ti(m.nextSibling),m===null){m=null;break e}}v=m.data,m=v==="F!"||v==="F"?m:null}if(m){Pt=ti(m.nextSibling),c=m.data==="F!";break t}}Xn(c)}c=!1}c&&(n=o[0])}}return o=Wn(),o.memoizedState=o.baseState=n,c={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ag,lastRenderedState:n},o.queue=c,o=Vg.bind(null,Jt,c),c.dispatch=o,c=Yh(!1),v=Wh.bind(null,Jt,!1,c.queue),c=Wn(),m={state:n,dispatch:null,action:e,pending:null},c.queue=m,o=DS.bind(null,Jt,m,v,o),m.dispatch=o,c.memoizedState=e,[n,o,!1]}function jg(e){var n=tn();return kg(n,ye,e)}function kg(e,n,o){if(n=Gh(e,n,Ag)[0],e=Pu(Gi)[0],typeof n=="object"&&n!==null&&typeof n.then=="function")try{var c=zl(n)}catch(N){throw N===Ol?ku:N}else c=n;n=tn();var m=n.queue,v=m.dispatch;return o!==n.memoizedState&&(Jt.flags|=2048,bs(9,zu(),jS.bind(null,m,o),null)),[c,v,e]}function jS(e,n){e.action=n}function Og(e){var n=tn(),o=ye;if(o!==null)return kg(n,o,e);tn(),n=n.memoizedState,o=tn();var c=o.queue.dispatch;return o.memoizedState=e,[n,c,!1]}function bs(e,n,o,c){return e={tag:e,create:o,deps:c,inst:n,next:null},n=Jt.updateQueue,n===null&&(n=Ih(),Jt.updateQueue=n),o=n.lastEffect,o===null?n.lastEffect=e.next=e:(c=o.next,o.next=e,e.next=c,n.lastEffect=e),e}function zu(){return{destroy:void 0,resource:void 0}}function Cg(){return tn().memoizedState}function Hu(e,n,o,c){var m=Wn();c=c===void 0?null:c,Jt.flags|=e,m.memoizedState=bs(1|n,zu(),o,c)}function Hl(e,n,o,c){var m=tn();c=c===void 0?null:c;var v=m.memoizedState.inst;ye!==null&&c!==null&&Rh(c,ye.memoizedState.deps)?m.memoizedState=bs(n,v,o,c):(Jt.flags|=e,m.memoizedState=bs(1|n,v,o,c))}function Lg(e,n){Hu(8390656,8,e,n)}function Bg(e,n){Hl(2048,8,e,n)}function Rg(e,n){return Hl(4,2,e,n)}function Pg(e,n){return Hl(4,4,e,n)}function zg(e,n){if(typeof n=="function"){e=e();var o=n(e);return function(){typeof o=="function"?o():n(null)}}if(n!=null)return e=e(),n.current=e,function(){n.current=null}}function Hg(e,n,o){o=o!=null?o.concat([e]):null,Hl(4,4,zg.bind(null,n,e),o)}function Fh(){}function $g(e,n){var o=tn();n=n===void 0?null:n;var c=o.memoizedState;return n!==null&&Rh(n,c[1])?c[0]:(o.memoizedState=[e,n],e)}function Ig(e,n){var o=tn();n=n===void 0?null:n;var c=o.memoizedState;if(n!==null&&Rh(n,c[1]))return c[0];if(c=e(),Mo){en(!0);try{e()}finally{en(!1)}}return o.memoizedState=[c,n],c}function Vh(e,n,o){return o===void 0||(Da&1073741824)!==0?e.memoizedState=n:(e.memoizedState=o,e=Zb(),Jt.lanes|=e,Ra|=e,o)}function Ug(e,n,o,c){return On(o,n)?o:ms.current!==null?(e=Vh(e,o,c),On(e,n)||(un=!0),e):(Da&42)===0?(un=!0,e.memoizedState=o):(e=Zb(),Jt.lanes|=e,Ra|=e,n)}function Gg(e,n,o,c,m){var v=rt.p;rt.p=v!==0&&8>v?v:8;var N=Z.T,P={};Z.T=P,Wh(e,!1,n,o);try{var X=m(),ut=Z.S;if(ut!==null&&ut(P,X),X!==null&&typeof X=="object"&&typeof X.then=="function"){var vt=MS(X,c);$l(e,n,vt,dr(e))}else $l(e,n,c,dr(e))}catch(Tt){$l(e,n,{then:function(){},status:"rejected",reason:Tt},dr())}finally{rt.p=v,Z.T=N}}function kS(){}function Kh(e,n,o,c){if(e.tag!==5)throw Error(s(476));var m=Zg(e).queue;Gg(e,m,n,ot,o===null?kS:function(){return Yg(e),o(c)})}function Zg(e){var n=e.memoizedState;if(n!==null)return n;n={memoizedState:ot,baseState:ot,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Gi,lastRenderedState:ot},next:null};var o={};return n.next={memoizedState:o,baseState:o,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Gi,lastRenderedState:o},next:null},e.memoizedState=n,e=e.alternate,e!==null&&(e.memoizedState=n),n}function Yg(e){var n=Zg(e).next.queue;$l(e,n,{},dr())}function Xh(){return Nn(ic)}function qg(){return tn().memoizedState}function Fg(){return tn().memoizedState}function OS(e){for(var n=e.return;n!==null;){switch(n.tag){case 24:case 3:var o=dr();e=Na(o);var c=Aa(n,e,o);c!==null&&(fr(c,n,o),Ll(c,n,o)),n={cache:Mh()},e.payload=n;return}n=n.return}}function CS(e,n,o){var c=dr();o={lane:c,revertLane:0,action:o,hasEagerState:!1,eagerState:null,next:null},$u(e)?Kg(n,o):(o=$i(e,n,o,c),o!==null&&(fr(o,e,c),Xg(o,n,c)))}function Vg(e,n,o){var c=dr();$l(e,n,o,c)}function $l(e,n,o,c){var m={lane:c,revertLane:0,action:o,hasEagerState:!1,eagerState:null,next:null};if($u(e))Kg(n,m);else{var v=e.alternate;if(e.lanes===0&&(v===null||v.lanes===0)&&(v=n.lastRenderedReducer,v!==null))try{var N=n.lastRenderedState,P=v(N,o);if(m.hasEagerState=!0,m.eagerState=P,On(P,N))return yo(e,n,m,0),De===null&&bo(),!1}catch{}finally{}if(o=$i(e,n,m,c),o!==null)return fr(o,e,c),Xg(o,n,c),!0}return!1}function Wh(e,n,o,c){if(c={lane:2,revertLane:Dm(),action:c,hasEagerState:!1,eagerState:null,next:null},$u(e)){if(n)throw Error(s(479))}else n=$i(e,o,c,2),n!==null&&fr(n,e,2)}function $u(e){var n=e.alternate;return e===Jt||n!==null&&n===Jt}function Kg(e,n){ps=Lu=!0;var o=e.pending;o===null?n.next=n:(n.next=o.next,o.next=n),e.pending=n}function Xg(e,n,o){if((o&4194048)!==0){var c=n.lanes;c&=e.pendingLanes,o|=c,n.lanes=o,Jc(e,o)}}var Iu={readContext:Nn,use:Ru,useCallback:Xe,useContext:Xe,useEffect:Xe,useImperativeHandle:Xe,useLayoutEffect:Xe,useInsertionEffect:Xe,useMemo:Xe,useReducer:Xe,useRef:Xe,useState:Xe,useDebugValue:Xe,useDeferredValue:Xe,useTransition:Xe,useSyncExternalStore:Xe,useId:Xe,useHostTransitionStatus:Xe,useFormState:Xe,useActionState:Xe,useOptimistic:Xe,useMemoCache:Xe,useCacheRefresh:Xe},Wg={readContext:Nn,use:Ru,useCallback:function(e,n){return Wn().memoizedState=[e,n===void 0?null:n],e},useContext:Nn,useEffect:Lg,useImperativeHandle:function(e,n,o){o=o!=null?o.concat([e]):null,Hu(4194308,4,zg.bind(null,n,e),o)},useLayoutEffect:function(e,n){return Hu(4194308,4,e,n)},useInsertionEffect:function(e,n){Hu(4,2,e,n)},useMemo:function(e,n){var o=Wn();n=n===void 0?null:n;var c=e();if(Mo){en(!0);try{e()}finally{en(!1)}}return o.memoizedState=[c,n],c},useReducer:function(e,n,o){var c=Wn();if(o!==void 0){var m=o(n);if(Mo){en(!0);try{o(n)}finally{en(!1)}}}else m=n;return c.memoizedState=c.baseState=m,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:m},c.queue=e,e=e.dispatch=CS.bind(null,Jt,e),[c.memoizedState,e]},useRef:function(e){var n=Wn();return e={current:e},n.memoizedState=e},useState:function(e){e=Yh(e);var n=e.queue,o=Vg.bind(null,Jt,n);return n.dispatch=o,[e.memoizedState,o]},useDebugValue:Fh,useDeferredValue:function(e,n){var o=Wn();return Vh(o,e,n)},useTransition:function(){var e=Yh(!1);return e=Gg.bind(null,Jt,e.queue,!0,!1),Wn().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,n,o){var c=Jt,m=Wn();if(Ft){if(o===void 0)throw Error(s(407));o=o()}else{if(o=n(),De===null)throw Error(s(349));(le&124)!==0||yg(c,n,o)}m.memoizedState=o;var v={value:o,getSnapshot:n};return m.queue=v,Lg(xg.bind(null,c,v,e),[e]),c.flags|=2048,bs(9,zu(),vg.bind(null,c,v,o,n),null),o},useId:function(){var e=Wn(),n=De.identifierPrefix;if(Ft){var o=K,c=R;o=(c&~(1<<32-Re(c)-1)).toString(32)+o,n="«"+n+"R"+o,o=Bu++,0<o&&(n+="H"+o.toString(32)),n+="»"}else o=NS++,n="«"+n+"r"+o.toString(32)+"»";return e.memoizedState=n},useHostTransitionStatus:Xh,useFormState:Dg,useActionState:Dg,useOptimistic:function(e){var n=Wn();n.memoizedState=n.baseState=e;var o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=o,n=Wh.bind(null,Jt,!0,o),o.dispatch=n,[e,n]},useMemoCache:Uh,useCacheRefresh:function(){return Wn().memoizedState=OS.bind(null,Jt)}},Qg={readContext:Nn,use:Ru,useCallback:$g,useContext:Nn,useEffect:Bg,useImperativeHandle:Hg,useInsertionEffect:Rg,useLayoutEffect:Pg,useMemo:Ig,useReducer:Pu,useRef:Cg,useState:function(){return Pu(Gi)},useDebugValue:Fh,useDeferredValue:function(e,n){var o=tn();return Ug(o,ye.memoizedState,e,n)},useTransition:function(){var e=Pu(Gi)[0],n=tn().memoizedState;return[typeof e=="boolean"?e:zl(e),n]},useSyncExternalStore:bg,useId:qg,useHostTransitionStatus:Xh,useFormState:jg,useActionState:jg,useOptimistic:function(e,n){var o=tn();return wg(o,ye,e,n)},useMemoCache:Uh,useCacheRefresh:Fg},LS={readContext:Nn,use:Ru,useCallback:$g,useContext:Nn,useEffect:Bg,useImperativeHandle:Hg,useInsertionEffect:Rg,useLayoutEffect:Pg,useMemo:Ig,useReducer:Zh,useRef:Cg,useState:function(){return Zh(Gi)},useDebugValue:Fh,useDeferredValue:function(e,n){var o=tn();return ye===null?Vh(o,e,n):Ug(o,ye.memoizedState,e,n)},useTransition:function(){var e=Zh(Gi)[0],n=tn().memoizedState;return[typeof e=="boolean"?e:zl(e),n]},useSyncExternalStore:bg,useId:qg,useHostTransitionStatus:Xh,useFormState:Og,useActionState:Og,useOptimistic:function(e,n){var o=tn();return ye!==null?wg(o,ye,e,n):(o.baseState=e,[e,o.queue.dispatch])},useMemoCache:Uh,useCacheRefresh:Fg},ys=null,Il=0;function Uu(e){var n=Il;return Il+=1,ys===null&&(ys=[]),cg(ys,e,n)}function Ul(e,n){n=n.props.ref,e.ref=n!==void 0?n:null}function Gu(e,n){throw n.$$typeof===w?Error(s(525)):(e=Object.prototype.toString.call(n),Error(s(31,e==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":e)))}function Jg(e){var n=e._init;return n(e._payload)}function tb(e){function n(at,nt){if(e){var ct=at.deletions;ct===null?(at.deletions=[nt],at.flags|=16):ct.push(nt)}}function o(at,nt){if(!e)return null;for(;nt!==null;)n(at,nt),nt=nt.sibling;return null}function c(at){for(var nt=new Map;at!==null;)at.key!==null?nt.set(at.key,at):nt.set(at.index,at),at=at.sibling;return nt}function m(at,nt){return at=Dr(at,nt),at.index=0,at.sibling=null,at}function v(at,nt,ct){return at.index=ct,e?(ct=at.alternate,ct!==null?(ct=ct.index,ct<nt?(at.flags|=67108866,nt):ct):(at.flags|=67108866,nt)):(at.flags|=1048576,nt)}function N(at){return e&&at.alternate===null&&(at.flags|=67108866),at}function P(at,nt,ct,wt){return nt===null||nt.tag!==6?(nt=Dl(ct,at.mode,wt),nt.return=at,nt):(nt=m(nt,ct),nt.return=at,nt)}function X(at,nt,ct,wt){var Bt=ct.type;return Bt===M?vt(at,nt,ct.props.children,wt,ct.key):nt!==null&&(nt.elementType===Bt||typeof Bt=="object"&&Bt!==null&&Bt.$$typeof===st&&Jg(Bt)===nt.type)?(nt=m(nt,ct.props),Ul(nt,ct),nt.return=at,nt):(nt=xo(ct.type,ct.key,ct.props,null,at.mode,wt),Ul(nt,ct),nt.return=at,nt)}function ut(at,nt,ct,wt){return nt===null||nt.tag!==4||nt.stateNode.containerInfo!==ct.containerInfo||nt.stateNode.implementation!==ct.implementation?(nt=us(ct,at.mode,wt),nt.return=at,nt):(nt=m(nt,ct.children||[]),nt.return=at,nt)}function vt(at,nt,ct,wt,Bt){return nt===null||nt.tag!==7?(nt=fi(ct,at.mode,wt,Bt),nt.return=at,nt):(nt=m(nt,ct),nt.return=at,nt)}function Tt(at,nt,ct){if(typeof nt=="string"&&nt!==""||typeof nt=="number"||typeof nt=="bigint")return nt=Dl(""+nt,at.mode,ct),nt.return=at,nt;if(typeof nt=="object"&&nt!==null){switch(nt.$$typeof){case S:return ct=xo(nt.type,nt.key,nt.props,null,at.mode,ct),Ul(ct,nt),ct.return=at,ct;case T:return nt=us(nt,at.mode,ct),nt.return=at,nt;case st:var wt=nt._init;return nt=wt(nt._payload),Tt(at,nt,ct)}if(it(nt)||G(nt))return nt=fi(nt,at.mode,ct,null),nt.return=at,nt;if(typeof nt.then=="function")return Tt(at,Uu(nt),ct);if(nt.$$typeof===k)return Tt(at,Du(at,nt),ct);Gu(at,nt)}return null}function ft(at,nt,ct,wt){var Bt=nt!==null?nt.key:null;if(typeof ct=="string"&&ct!==""||typeof ct=="number"||typeof ct=="bigint")return Bt!==null?null:P(at,nt,""+ct,wt);if(typeof ct=="object"&&ct!==null){switch(ct.$$typeof){case S:return ct.key===Bt?X(at,nt,ct,wt):null;case T:return ct.key===Bt?ut(at,nt,ct,wt):null;case st:return Bt=ct._init,ct=Bt(ct._payload),ft(at,nt,ct,wt)}if(it(ct)||G(ct))return Bt!==null?null:vt(at,nt,ct,wt,null);if(typeof ct.then=="function")return ft(at,nt,Uu(ct),wt);if(ct.$$typeof===k)return ft(at,nt,Du(at,ct),wt);Gu(at,ct)}return null}function mt(at,nt,ct,wt,Bt){if(typeof wt=="string"&&wt!==""||typeof wt=="number"||typeof wt=="bigint")return at=at.get(ct)||null,P(nt,at,""+wt,Bt);if(typeof wt=="object"&&wt!==null){switch(wt.$$typeof){case S:return at=at.get(wt.key===null?ct:wt.key)||null,X(nt,at,wt,Bt);case T:return at=at.get(wt.key===null?ct:wt.key)||null,ut(nt,at,wt,Bt);case st:var ee=wt._init;return wt=ee(wt._payload),mt(at,nt,ct,wt,Bt)}if(it(wt)||G(wt))return at=at.get(ct)||null,vt(nt,at,wt,Bt,null);if(typeof wt.then=="function")return mt(at,nt,ct,Uu(wt),Bt);if(wt.$$typeof===k)return mt(at,nt,ct,Du(nt,wt),Bt);Gu(nt,wt)}return null}function Yt(at,nt,ct,wt){for(var Bt=null,ee=null,Ht=nt,Zt=nt=0,fn=null;Ht!==null&&Zt<ct.length;Zt++){Ht.index>Zt?(fn=Ht,Ht=null):fn=Ht.sibling;var he=ft(at,Ht,ct[Zt],wt);if(he===null){Ht===null&&(Ht=fn);break}e&&Ht&&he.alternate===null&&n(at,Ht),nt=v(he,nt,Zt),ee===null?Bt=he:ee.sibling=he,ee=he,Ht=fn}if(Zt===ct.length)return o(at,Ht),Ft&&lt(at,Zt),Bt;if(Ht===null){for(;Zt<ct.length;Zt++)Ht=Tt(at,ct[Zt],wt),Ht!==null&&(nt=v(Ht,nt,Zt),ee===null?Bt=Ht:ee.sibling=Ht,ee=Ht);return Ft&&lt(at,Zt),Bt}for(Ht=c(Ht);Zt<ct.length;Zt++)fn=mt(Ht,at,Zt,ct[Zt],wt),fn!==null&&(e&&fn.alternate!==null&&Ht.delete(fn.key===null?Zt:fn.key),nt=v(fn,nt,Zt),ee===null?Bt=fn:ee.sibling=fn,ee=fn);return e&&Ht.forEach(function(Ya){return n(at,Ya)}),Ft&&lt(at,Zt),Bt}function Gt(at,nt,ct,wt){if(ct==null)throw Error(s(151));for(var Bt=null,ee=null,Ht=nt,Zt=nt=0,fn=null,he=ct.next();Ht!==null&&!he.done;Zt++,he=ct.next()){Ht.index>Zt?(fn=Ht,Ht=null):fn=Ht.sibling;var Ya=ft(at,Ht,he.value,wt);if(Ya===null){Ht===null&&(Ht=fn);break}e&&Ht&&Ya.alternate===null&&n(at,Ht),nt=v(Ya,nt,Zt),ee===null?Bt=Ya:ee.sibling=Ya,ee=Ya,Ht=fn}if(he.done)return o(at,Ht),Ft&&lt(at,Zt),Bt;if(Ht===null){for(;!he.done;Zt++,he=ct.next())he=Tt(at,he.value,wt),he!==null&&(nt=v(he,nt,Zt),ee===null?Bt=he:ee.sibling=he,ee=he);return Ft&&lt(at,Zt),Bt}for(Ht=c(Ht);!he.done;Zt++,he=ct.next())he=mt(Ht,at,Zt,he.value,wt),he!==null&&(e&&he.alternate!==null&&Ht.delete(he.key===null?Zt:he.key),nt=v(he,nt,Zt),ee===null?Bt=he:ee.sibling=he,ee=he);return e&&Ht.forEach(function(Bw){return n(at,Bw)}),Ft&&lt(at,Zt),Bt}function xe(at,nt,ct,wt){if(typeof ct=="object"&&ct!==null&&ct.type===M&&ct.key===null&&(ct=ct.props.children),typeof ct=="object"&&ct!==null){switch(ct.$$typeof){case S:t:{for(var Bt=ct.key;nt!==null;){if(nt.key===Bt){if(Bt=ct.type,Bt===M){if(nt.tag===7){o(at,nt.sibling),wt=m(nt,ct.props.children),wt.return=at,at=wt;break t}}else if(nt.elementType===Bt||typeof Bt=="object"&&Bt!==null&&Bt.$$typeof===st&&Jg(Bt)===nt.type){o(at,nt.sibling),wt=m(nt,ct.props),Ul(wt,ct),wt.return=at,at=wt;break t}o(at,nt);break}else n(at,nt);nt=nt.sibling}ct.type===M?(wt=fi(ct.props.children,at.mode,wt,ct.key),wt.return=at,at=wt):(wt=xo(ct.type,ct.key,ct.props,null,at.mode,wt),Ul(wt,ct),wt.return=at,at=wt)}return N(at);case T:t:{for(Bt=ct.key;nt!==null;){if(nt.key===Bt)if(nt.tag===4&&nt.stateNode.containerInfo===ct.containerInfo&&nt.stateNode.implementation===ct.implementation){o(at,nt.sibling),wt=m(nt,ct.children||[]),wt.return=at,at=wt;break t}else{o(at,nt);break}else n(at,nt);nt=nt.sibling}wt=us(ct,at.mode,wt),wt.return=at,at=wt}return N(at);case st:return Bt=ct._init,ct=Bt(ct._payload),xe(at,nt,ct,wt)}if(it(ct))return Yt(at,nt,ct,wt);if(G(ct)){if(Bt=G(ct),typeof Bt!="function")throw Error(s(150));return ct=Bt.call(ct),Gt(at,nt,ct,wt)}if(typeof ct.then=="function")return xe(at,nt,Uu(ct),wt);if(ct.$$typeof===k)return xe(at,nt,Du(at,ct),wt);Gu(at,ct)}return typeof ct=="string"&&ct!==""||typeof ct=="number"||typeof ct=="bigint"?(ct=""+ct,nt!==null&&nt.tag===6?(o(at,nt.sibling),wt=m(nt,ct),wt.return=at,at=wt):(o(at,nt),wt=Dl(ct,at.mode,wt),wt.return=at,at=wt),N(at)):o(at,nt)}return function(at,nt,ct,wt){try{Il=0;var Bt=xe(at,nt,ct,wt);return ys=null,Bt}catch(Ht){if(Ht===Ol||Ht===ku)throw Ht;var ee=Rn(29,Ht,null,at.mode);return ee.lanes=wt,ee.return=at,ee}finally{}}}var vs=tb(!0),eb=tb(!1),kr=$(null),mi=null;function ja(e){var n=e.alternate;J(rn,rn.current&1),J(kr,e),mi===null&&(n===null||ms.current!==null||n.memoizedState!==null)&&(mi=e)}function nb(e){if(e.tag===22){if(J(rn,rn.current),J(kr,e),mi===null){var n=e.alternate;n!==null&&n.memoizedState!==null&&(mi=e)}}else ka()}function ka(){J(rn,rn.current),J(kr,kr.current)}function Zi(e){Y(kr),mi===e&&(mi=null),Y(rn)}var rn=$(0);function Zu(e){for(var n=e;n!==null;){if(n.tag===13){var o=n.memoizedState;if(o!==null&&(o=o.dehydrated,o===null||o.data==="$?"||Im(o)))return n}else if(n.tag===19&&n.memoizedProps.revealOrder!==void 0){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}function Qh(e,n,o,c){n=e.memoizedState,o=o(c,n),o=o==null?n:_({},n,o),e.memoizedState=o,e.lanes===0&&(e.updateQueue.baseState=o)}var Jh={enqueueSetState:function(e,n,o){e=e._reactInternals;var c=dr(),m=Na(c);m.payload=n,o!=null&&(m.callback=o),n=Aa(e,m,c),n!==null&&(fr(n,e,c),Ll(n,e,c))},enqueueReplaceState:function(e,n,o){e=e._reactInternals;var c=dr(),m=Na(c);m.tag=1,m.payload=n,o!=null&&(m.callback=o),n=Aa(e,m,c),n!==null&&(fr(n,e,c),Ll(n,e,c))},enqueueForceUpdate:function(e,n){e=e._reactInternals;var o=dr(),c=Na(o);c.tag=2,n!=null&&(c.callback=n),n=Aa(e,c,o),n!==null&&(fr(n,e,o),Ll(n,e,o))}};function rb(e,n,o,c,m,v,N){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(c,v,N):n.prototype&&n.prototype.isPureReactComponent?!Cn(o,c)||!Cn(m,v):!0}function ib(e,n,o,c){e=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(o,c),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(o,c),n.state!==e&&Jh.enqueueReplaceState(n,n.state,null)}function No(e,n){var o=n;if("ref"in n){o={};for(var c in n)c!=="ref"&&(o[c]=n[c])}if(e=e.defaultProps){o===n&&(o=_({},o));for(var m in e)o[m]===void 0&&(o[m]=e[m])}return o}var Yu=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)};function ab(e){Yu(e)}function ob(e){console.error(e)}function sb(e){Yu(e)}function qu(e,n){try{var o=e.onUncaughtError;o(n.value,{componentStack:n.stack})}catch(c){setTimeout(function(){throw c})}}function lb(e,n,o){try{var c=e.onCaughtError;c(o.value,{componentStack:o.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(m){setTimeout(function(){throw m})}}function tm(e,n,o){return o=Na(o),o.tag=3,o.payload={element:null},o.callback=function(){qu(e,n)},o}function cb(e){return e=Na(e),e.tag=3,e}function ub(e,n,o,c){var m=o.type.getDerivedStateFromError;if(typeof m=="function"){var v=c.value;e.payload=function(){return m(v)},e.callback=function(){lb(n,o,c)}}var N=o.stateNode;N!==null&&typeof N.componentDidCatch=="function"&&(e.callback=function(){lb(n,o,c),typeof m!="function"&&(Pa===null?Pa=new Set([this]):Pa.add(this));var P=c.stack;this.componentDidCatch(c.value,{componentStack:P!==null?P:""})})}function BS(e,n,o,c,m){if(o.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){if(n=o.alternate,n!==null&&wo(n,o,m,!0),o=kr.current,o!==null){switch(o.tag){case 13:return mi===null?Tm():o.alternate===null&&Ve===0&&(Ve=3),o.flags&=-257,o.flags|=65536,o.lanes=m,c===Dh?o.flags|=16384:(n=o.updateQueue,n===null?o.updateQueue=new Set([c]):n.add(c),Mm(e,c,m)),!1;case 22:return o.flags|=65536,c===Dh?o.flags|=16384:(n=o.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([c])},o.updateQueue=n):(o=n.retryQueue,o===null?n.retryQueue=new Set([c]):o.add(c)),Mm(e,c,m)),!1}throw Error(s(435,o.tag))}return Mm(e,c,m),Tm(),!1}if(Ft)return n=kr.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=m,c!==cn&&(e=Error(s(422),{cause:c}),Ea(Ln(e,o)))):(c!==cn&&(n=Error(s(423),{cause:c}),Ea(Ln(n,o))),e=e.current.alternate,e.flags|=65536,m&=-m,e.lanes|=m,c=Ln(c,o),m=tm(e.stateNode,c,m),Oh(e,m),Ve!==4&&(Ve=2)),!1;var v=Error(s(520),{cause:c});if(v=Ln(v,o),Kl===null?Kl=[v]:Kl.push(v),Ve!==4&&(Ve=2),n===null)return!0;c=Ln(c,o),o=n;do{switch(o.tag){case 3:return o.flags|=65536,e=m&-m,o.lanes|=e,e=tm(o.stateNode,c,e),Oh(o,e),!1;case 1:if(n=o.type,v=o.stateNode,(o.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||v!==null&&typeof v.componentDidCatch=="function"&&(Pa===null||!Pa.has(v))))return o.flags|=65536,m&=-m,o.lanes|=m,m=cb(m),ub(m,e,o,c),Oh(o,m),!1}o=o.return}while(o!==null);return!1}var db=Error(s(461)),un=!1;function vn(e,n,o,c){n.child=e===null?eb(n,null,o,c):vs(n,e.child,o,c)}function fb(e,n,o,c,m){o=o.render;var v=n.ref;if("ref"in c){var N={};for(var P in c)P!=="ref"&&(N[P]=c[P])}else N=c;return To(n),c=Ph(e,n,o,N,v,m),P=zh(),e!==null&&!un?(Hh(e,n,m),Yi(e,n,m)):(Ft&&P&&Et(n),n.flags|=1,vn(e,n,c,m),n.child)}function hb(e,n,o,c,m){if(e===null){var v=o.type;return typeof v=="function"&&!cs(v)&&v.defaultProps===void 0&&o.compare===null?(n.tag=15,n.type=v,mb(e,n,v,c,m)):(e=xo(o.type,null,c,n,n.mode,m),e.ref=n.ref,e.return=n,n.child=e)}if(v=e.child,!lm(e,m)){var N=v.memoizedProps;if(o=o.compare,o=o!==null?o:Cn,o(N,c)&&e.ref===n.ref)return Yi(e,n,m)}return n.flags|=1,e=Dr(v,c),e.ref=n.ref,e.return=n,n.child=e}function mb(e,n,o,c,m){if(e!==null){var v=e.memoizedProps;if(Cn(v,c)&&e.ref===n.ref)if(un=!1,n.pendingProps=c=v,lm(e,m))(e.flags&131072)!==0&&(un=!0);else return n.lanes=e.lanes,Yi(e,n,m)}return em(e,n,o,c,m)}function pb(e,n,o){var c=n.pendingProps,m=c.children,v=e!==null?e.memoizedState:null;if(c.mode==="hidden"){if((n.flags&128)!==0){if(c=v!==null?v.baseLanes|o:o,e!==null){for(m=n.child=e.child,v=0;m!==null;)v=v|m.lanes|m.childLanes,m=m.sibling;n.childLanes=v&~c}else n.childLanes=0,n.child=null;return gb(e,n,c,o)}if((o&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},e!==null&&ju(n,v!==null?v.cachePool:null),v!==null?mg(n,v):Lh(),nb(n);else return n.lanes=n.childLanes=536870912,gb(e,n,v!==null?v.baseLanes|o:o,o)}else v!==null?(ju(n,v.cachePool),mg(n,v),ka(),n.memoizedState=null):(e!==null&&ju(n,null),Lh(),ka());return vn(e,n,m,o),n.child}function gb(e,n,o,c){var m=Ah();return m=m===null?null:{parent:nn._currentValue,pool:m},n.memoizedState={baseLanes:o,cachePool:m},e!==null&&ju(n,null),Lh(),nb(n),e!==null&&wo(e,n,c,!0),null}function Fu(e,n){var o=n.ref;if(o===null)e!==null&&e.ref!==null&&(n.flags|=4194816);else{if(typeof o!="function"&&typeof o!="object")throw Error(s(284));(e===null||e.ref!==o)&&(n.flags|=4194816)}}function em(e,n,o,c,m){return To(n),o=Ph(e,n,o,c,void 0,m),c=zh(),e!==null&&!un?(Hh(e,n,m),Yi(e,n,m)):(Ft&&c&&Et(n),n.flags|=1,vn(e,n,o,m),n.child)}function bb(e,n,o,c,m,v){return To(n),n.updateQueue=null,o=gg(n,c,o,m),pg(e),c=zh(),e!==null&&!un?(Hh(e,n,v),Yi(e,n,v)):(Ft&&c&&Et(n),n.flags|=1,vn(e,n,o,v),n.child)}function yb(e,n,o,c,m){if(To(n),n.stateNode===null){var v=Ii,N=o.contextType;typeof N=="object"&&N!==null&&(v=Nn(N)),v=new o(c,v),n.memoizedState=v.state!==null&&v.state!==void 0?v.state:null,v.updater=Jh,n.stateNode=v,v._reactInternals=n,v=n.stateNode,v.props=c,v.state=n.memoizedState,v.refs={},jh(n),N=o.contextType,v.context=typeof N=="object"&&N!==null?Nn(N):Ii,v.state=n.memoizedState,N=o.getDerivedStateFromProps,typeof N=="function"&&(Qh(n,o,N,c),v.state=n.memoizedState),typeof o.getDerivedStateFromProps=="function"||typeof v.getSnapshotBeforeUpdate=="function"||typeof v.UNSAFE_componentWillMount!="function"&&typeof v.componentWillMount!="function"||(N=v.state,typeof v.componentWillMount=="function"&&v.componentWillMount(),typeof v.UNSAFE_componentWillMount=="function"&&v.UNSAFE_componentWillMount(),N!==v.state&&Jh.enqueueReplaceState(v,v.state,null),Rl(n,c,v,m),Bl(),v.state=n.memoizedState),typeof v.componentDidMount=="function"&&(n.flags|=4194308),c=!0}else if(e===null){v=n.stateNode;var P=n.memoizedProps,X=No(o,P);v.props=X;var ut=v.context,vt=o.contextType;N=Ii,typeof vt=="object"&&vt!==null&&(N=Nn(vt));var Tt=o.getDerivedStateFromProps;vt=typeof Tt=="function"||typeof v.getSnapshotBeforeUpdate=="function",P=n.pendingProps!==P,vt||typeof v.UNSAFE_componentWillReceiveProps!="function"&&typeof v.componentWillReceiveProps!="function"||(P||ut!==N)&&ib(n,v,c,N),Ma=!1;var ft=n.memoizedState;v.state=ft,Rl(n,c,v,m),Bl(),ut=n.memoizedState,P||ft!==ut||Ma?(typeof Tt=="function"&&(Qh(n,o,Tt,c),ut=n.memoizedState),(X=Ma||rb(n,o,X,c,ft,ut,N))?(vt||typeof v.UNSAFE_componentWillMount!="function"&&typeof v.componentWillMount!="function"||(typeof v.componentWillMount=="function"&&v.componentWillMount(),typeof v.UNSAFE_componentWillMount=="function"&&v.UNSAFE_componentWillMount()),typeof v.componentDidMount=="function"&&(n.flags|=4194308)):(typeof v.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=c,n.memoizedState=ut),v.props=c,v.state=ut,v.context=N,c=X):(typeof v.componentDidMount=="function"&&(n.flags|=4194308),c=!1)}else{v=n.stateNode,kh(e,n),N=n.memoizedProps,vt=No(o,N),v.props=vt,Tt=n.pendingProps,ft=v.context,ut=o.contextType,X=Ii,typeof ut=="object"&&ut!==null&&(X=Nn(ut)),P=o.getDerivedStateFromProps,(ut=typeof P=="function"||typeof v.getSnapshotBeforeUpdate=="function")||typeof v.UNSAFE_componentWillReceiveProps!="function"&&typeof v.componentWillReceiveProps!="function"||(N!==Tt||ft!==X)&&ib(n,v,c,X),Ma=!1,ft=n.memoizedState,v.state=ft,Rl(n,c,v,m),Bl();var mt=n.memoizedState;N!==Tt||ft!==mt||Ma||e!==null&&e.dependencies!==null&&Au(e.dependencies)?(typeof P=="function"&&(Qh(n,o,P,c),mt=n.memoizedState),(vt=Ma||rb(n,o,vt,c,ft,mt,X)||e!==null&&e.dependencies!==null&&Au(e.dependencies))?(ut||typeof v.UNSAFE_componentWillUpdate!="function"&&typeof v.componentWillUpdate!="function"||(typeof v.componentWillUpdate=="function"&&v.componentWillUpdate(c,mt,X),typeof v.UNSAFE_componentWillUpdate=="function"&&v.UNSAFE_componentWillUpdate(c,mt,X)),typeof v.componentDidUpdate=="function"&&(n.flags|=4),typeof v.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof v.componentDidUpdate!="function"||N===e.memoizedProps&&ft===e.memoizedState||(n.flags|=4),typeof v.getSnapshotBeforeUpdate!="function"||N===e.memoizedProps&&ft===e.memoizedState||(n.flags|=1024),n.memoizedProps=c,n.memoizedState=mt),v.props=c,v.state=mt,v.context=X,c=vt):(typeof v.componentDidUpdate!="function"||N===e.memoizedProps&&ft===e.memoizedState||(n.flags|=4),typeof v.getSnapshotBeforeUpdate!="function"||N===e.memoizedProps&&ft===e.memoizedState||(n.flags|=1024),c=!1)}return v=c,Fu(e,n),c=(n.flags&128)!==0,v||c?(v=n.stateNode,o=c&&typeof o.getDerivedStateFromError!="function"?null:v.render(),n.flags|=1,e!==null&&c?(n.child=vs(n,e.child,null,m),n.child=vs(n,null,o,m)):vn(e,n,o,m),n.memoizedState=v.state,e=n.child):e=Yi(e,n,m),e}function vb(e,n,o,c){return Ta(),n.flags|=256,vn(e,n,o,c),n.child}var nm={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function rm(e){return{baseLanes:e,cachePool:og()}}function im(e,n,o){return e=e!==null?e.childLanes&~o:0,n&&(e|=Or),e}function xb(e,n,o){var c=n.pendingProps,m=!1,v=(n.flags&128)!==0,N;if((N=v)||(N=e!==null&&e.memoizedState===null?!1:(rn.current&2)!==0),N&&(m=!0,n.flags&=-129),N=(n.flags&32)!==0,n.flags&=-33,e===null){if(Ft){if(m?ja(n):ka(),Ft){var P=Pt,X;if(X=P){t:{for(X=P,P=Ge;X.nodeType!==8;){if(!P){P=null;break t}if(X=ti(X.nextSibling),X===null){P=null;break t}}P=X}P!==null?(n.memoizedState={dehydrated:P,treeContext:E!==null?{id:R,overflow:K}:null,retryLane:536870912,hydrationErrors:null},X=Rn(18,null,null,0),X.stateNode=P,X.return=n,n.child=X,Lt=n,Pt=null,X=!0):X=!1}X||Xn(n)}if(P=n.memoizedState,P!==null&&(P=P.dehydrated,P!==null))return Im(P)?n.lanes=32:n.lanes=536870912,null;Zi(n)}return P=c.children,c=c.fallback,m?(ka(),m=n.mode,P=Vu({mode:"hidden",children:P},m),c=fi(c,m,o,null),P.return=n,c.return=n,P.sibling=c,n.child=P,m=n.child,m.memoizedState=rm(o),m.childLanes=im(e,N,o),n.memoizedState=nm,c):(ja(n),am(n,P))}if(X=e.memoizedState,X!==null&&(P=X.dehydrated,P!==null)){if(v)n.flags&256?(ja(n),n.flags&=-257,n=om(e,n,o)):n.memoizedState!==null?(ka(),n.child=e.child,n.flags|=128,n=null):(ka(),m=c.fallback,P=n.mode,c=Vu({mode:"visible",children:c.children},P),m=fi(m,P,o,null),m.flags|=2,c.return=n,m.return=n,c.sibling=m,n.child=c,vs(n,e.child,null,o),c=n.child,c.memoizedState=rm(o),c.childLanes=im(e,N,o),n.memoizedState=nm,n=m);else if(ja(n),Im(P)){if(N=P.nextSibling&&P.nextSibling.dataset,N)var ut=N.dgst;N=ut,c=Error(s(419)),c.stack="",c.digest=N,Ea({value:c,source:null,stack:null}),n=om(e,n,o)}else if(un||wo(e,n,o,!1),N=(o&e.childLanes)!==0,un||N){if(N=De,N!==null&&(c=o&-o,c=(c&42)!==0?1:cl(c),c=(c&(N.suspendedLanes|o))!==0?0:c,c!==0&&c!==X.retryLane))throw X.retryLane=c,Sa(e,c),fr(N,e,c),db;P.data==="$?"||Tm(),n=om(e,n,o)}else P.data==="$?"?(n.flags|=192,n.child=e.child,n=null):(e=X.treeContext,Pt=ti(P.nextSibling),Lt=n,Ft=!0,Ae=null,Ge=!1,e!==null&&(h[x++]=R,h[x++]=K,h[x++]=E,R=e.id,K=e.overflow,E=n),n=am(n,c.children),n.flags|=4096);return n}return m?(ka(),m=c.fallback,P=n.mode,X=e.child,ut=X.sibling,c=Dr(X,{mode:"hidden",children:c.children}),c.subtreeFlags=X.subtreeFlags&65011712,ut!==null?m=Dr(ut,m):(m=fi(m,P,o,null),m.flags|=2),m.return=n,c.return=n,c.sibling=m,n.child=c,c=m,m=n.child,P=e.child.memoizedState,P===null?P=rm(o):(X=P.cachePool,X!==null?(ut=nn._currentValue,X=X.parent!==ut?{parent:ut,pool:ut}:X):X=og(),P={baseLanes:P.baseLanes|o,cachePool:X}),m.memoizedState=P,m.childLanes=im(e,N,o),n.memoizedState=nm,c):(ja(n),o=e.child,e=o.sibling,o=Dr(o,{mode:"visible",children:c.children}),o.return=n,o.sibling=null,e!==null&&(N=n.deletions,N===null?(n.deletions=[e],n.flags|=16):N.push(e)),n.child=o,n.memoizedState=null,o)}function am(e,n){return n=Vu({mode:"visible",children:n},e.mode),n.return=e,e.child=n}function Vu(e,n){return e=Rn(22,e,null,n),e.lanes=0,e.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},e}function om(e,n,o){return vs(n,e.child,null,o),e=am(n,n.pendingProps.children),e.flags|=2,n.memoizedState=null,e}function _b(e,n,o){e.lanes|=n;var c=e.alternate;c!==null&&(c.lanes|=n),So(e.return,n,o)}function sm(e,n,o,c,m){var v=e.memoizedState;v===null?e.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:c,tail:o,tailMode:m}:(v.isBackwards=n,v.rendering=null,v.renderingStartTime=0,v.last=c,v.tail=o,v.tailMode=m)}function Sb(e,n,o){var c=n.pendingProps,m=c.revealOrder,v=c.tail;if(vn(e,n,c.children,o),c=rn.current,(c&2)!==0)c=c&1|2,n.flags|=128;else{if(e!==null&&(e.flags&128)!==0)t:for(e=n.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&_b(e,o,n);else if(e.tag===19)_b(e,o,n);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===n)break t;for(;e.sibling===null;){if(e.return===null||e.return===n)break t;e=e.return}e.sibling.return=e.return,e=e.sibling}c&=1}switch(J(rn,c),m){case"forwards":for(o=n.child,m=null;o!==null;)e=o.alternate,e!==null&&Zu(e)===null&&(m=o),o=o.sibling;o=m,o===null?(m=n.child,n.child=null):(m=o.sibling,o.sibling=null),sm(n,!1,m,o,v);break;case"backwards":for(o=null,m=n.child,n.child=null;m!==null;){if(e=m.alternate,e!==null&&Zu(e)===null){n.child=m;break}e=m.sibling,m.sibling=o,o=m,m=e}sm(n,!0,o,null,v);break;case"together":sm(n,!1,null,null,void 0);break;default:n.memoizedState=null}return n.child}function Yi(e,n,o){if(e!==null&&(n.dependencies=e.dependencies),Ra|=n.lanes,(o&n.childLanes)===0)if(e!==null){if(wo(e,n,o,!1),(o&n.childLanes)===0)return null}else return null;if(e!==null&&n.child!==e.child)throw Error(s(153));if(n.child!==null){for(e=n.child,o=Dr(e,e.pendingProps),n.child=o,o.return=n;e.sibling!==null;)e=e.sibling,o=o.sibling=Dr(e,e.pendingProps),o.return=n;o.sibling=null}return n.child}function lm(e,n){return(e.lanes&n)!==0?!0:(e=e.dependencies,!!(e!==null&&Au(e)))}function RS(e,n,o){switch(n.tag){case 3:gt(n,n.stateNode.containerInfo),hi(n,nn,e.memoizedState.cache),Ta();break;case 27:case 5:Nt(n);break;case 4:gt(n,n.stateNode.containerInfo);break;case 10:hi(n,n.type,n.memoizedProps.value);break;case 13:var c=n.memoizedState;if(c!==null)return c.dehydrated!==null?(ja(n),n.flags|=128,null):(o&n.child.childLanes)!==0?xb(e,n,o):(ja(n),e=Yi(e,n,o),e!==null?e.sibling:null);ja(n);break;case 19:var m=(e.flags&128)!==0;if(c=(o&n.childLanes)!==0,c||(wo(e,n,o,!1),c=(o&n.childLanes)!==0),m){if(c)return Sb(e,n,o);n.flags|=128}if(m=n.memoizedState,m!==null&&(m.rendering=null,m.tail=null,m.lastEffect=null),J(rn,rn.current),c)break;return null;case 22:case 23:return n.lanes=0,pb(e,n,o);case 24:hi(n,nn,e.memoizedState.cache)}return Yi(e,n,o)}function wb(e,n,o){if(e!==null)if(e.memoizedProps!==n.pendingProps)un=!0;else{if(!lm(e,o)&&(n.flags&128)===0)return un=!1,RS(e,n,o);un=(e.flags&131072)!==0}else un=!1,Ft&&(n.flags&1048576)!==0&&pt(n,l,n.index);switch(n.lanes=0,n.tag){case 16:t:{e=n.pendingProps;var c=n.elementType,m=c._init;if(c=m(c._payload),n.type=c,typeof c=="function")cs(c)?(e=No(c,e),n.tag=1,n=yb(null,n,c,e,o)):(n.tag=0,n=em(null,n,c,e,o));else{if(c!=null){if(m=c.$$typeof,m===B){n.tag=11,n=fb(null,n,c,e,o);break t}else if(m===et){n.tag=14,n=hb(null,n,c,e,o);break t}}throw n=ht(c)||c,Error(s(306,n,""))}}return n;case 0:return em(e,n,n.type,n.pendingProps,o);case 1:return c=n.type,m=No(c,n.pendingProps),yb(e,n,c,m,o);case 3:t:{if(gt(n,n.stateNode.containerInfo),e===null)throw Error(s(387));c=n.pendingProps;var v=n.memoizedState;m=v.element,kh(e,n),Rl(n,c,null,o);var N=n.memoizedState;if(c=N.cache,hi(n,nn,c),c!==v.cache&&ds(n,[nn],o,!0),Bl(),c=N.element,v.isDehydrated)if(v={element:c,isDehydrated:!1,cache:N.cache},n.updateQueue.baseState=v,n.memoizedState=v,n.flags&256){n=vb(e,n,c,o);break t}else if(c!==m){m=Ln(Error(s(424)),n),Ea(m),n=vb(e,n,c,o);break t}else{switch(e=n.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for(Pt=ti(e.firstChild),Lt=n,Ft=!0,Ae=null,Ge=!0,o=eb(n,null,c,o),n.child=o;o;)o.flags=o.flags&-3|4096,o=o.sibling}else{if(Ta(),c===m){n=Yi(e,n,o);break t}vn(e,n,c,o)}n=n.child}return n;case 26:return Fu(e,n),e===null?(o=Ny(n.type,null,n.pendingProps,null))?n.memoizedState=o:Ft||(o=n.type,e=n.pendingProps,c=ld(U.current).createElement(o),c[sn]=n,c[Tn]=e,_n(c,o,e),Qe(c),n.stateNode=c):n.memoizedState=Ny(n.type,e.memoizedProps,n.pendingProps,e.memoizedState),null;case 27:return Nt(n),e===null&&Ft&&(c=n.stateNode=Ty(n.type,n.pendingProps,U.current),Lt=n,Ge=!0,m=Pt,$a(n.type)?(Um=m,Pt=ti(c.firstChild)):Pt=m),vn(e,n,n.pendingProps.children,o),Fu(e,n),e===null&&(n.flags|=4194304),n.child;case 5:return e===null&&Ft&&((m=c=Pt)&&(c=uw(c,n.type,n.pendingProps,Ge),c!==null?(n.stateNode=c,Lt=n,Pt=ti(c.firstChild),Ge=!1,m=!0):m=!1),m||Xn(n)),Nt(n),m=n.type,v=n.pendingProps,N=e!==null?e.memoizedProps:null,c=v.children,zm(m,v)?c=null:N!==null&&zm(m,N)&&(n.flags|=32),n.memoizedState!==null&&(m=Ph(e,n,AS,null,null,o),ic._currentValue=m),Fu(e,n),vn(e,n,c,o),n.child;case 6:return e===null&&Ft&&((e=o=Pt)&&(o=dw(o,n.pendingProps,Ge),o!==null?(n.stateNode=o,Lt=n,Pt=null,e=!0):e=!1),e||Xn(n)),null;case 13:return xb(e,n,o);case 4:return gt(n,n.stateNode.containerInfo),c=n.pendingProps,e===null?n.child=vs(n,null,c,o):vn(e,n,c,o),n.child;case 11:return fb(e,n,n.type,n.pendingProps,o);case 7:return vn(e,n,n.pendingProps,o),n.child;case 8:return vn(e,n,n.pendingProps.children,o),n.child;case 12:return vn(e,n,n.pendingProps.children,o),n.child;case 10:return c=n.pendingProps,hi(n,n.type,c.value),vn(e,n,c.children,o),n.child;case 9:return m=n.type._context,c=n.pendingProps.children,To(n),m=Nn(m),c=c(m),n.flags|=1,vn(e,n,c,o),n.child;case 14:return hb(e,n,n.type,n.pendingProps,o);case 15:return mb(e,n,n.type,n.pendingProps,o);case 19:return Sb(e,n,o);case 31:return c=n.pendingProps,o=n.mode,c={mode:c.mode,children:c.children},e===null?(o=Vu(c,o),o.ref=n.ref,n.child=o,o.return=n,n=o):(o=Dr(e.child,c),o.ref=n.ref,n.child=o,o.return=n,n=o),n;case 22:return pb(e,n,o);case 24:return To(n),c=Nn(nn),e===null?(m=Ah(),m===null&&(m=De,v=Mh(),m.pooledCache=v,v.refCount++,v!==null&&(m.pooledCacheLanes|=o),m=v),n.memoizedState={parent:c,cache:m},jh(n),hi(n,nn,m)):((e.lanes&o)!==0&&(kh(e,n),Rl(n,null,null,o),Bl()),m=e.memoizedState,v=n.memoizedState,m.parent!==c?(m={parent:c,cache:c},n.memoizedState=m,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=m),hi(n,nn,c)):(c=v.cache,hi(n,nn,c),c!==m.cache&&ds(n,[nn],o,!0))),vn(e,n,n.pendingProps.children,o),n.child;case 29:throw n.pendingProps}throw Error(s(156,n.tag))}function qi(e){e.flags|=4}function Tb(e,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!Oy(n)){if(n=kr.current,n!==null&&((le&4194048)===le?mi!==null:(le&62914560)!==le&&(le&536870912)===0||n!==mi))throw Cl=Dh,sg;e.flags|=8192}}function Ku(e,n){n!==null&&(e.flags|=4),e.flags&16384&&(n=e.tag!==22?qr():536870912,e.lanes|=n,ws|=n)}function Gl(e,n){if(!Ft)switch(e.tailMode){case"hidden":n=e.tail;for(var o=null;n!==null;)n.alternate!==null&&(o=n),n=n.sibling;o===null?e.tail=null:o.sibling=null;break;case"collapsed":o=e.tail;for(var c=null;o!==null;)o.alternate!==null&&(c=o),o=o.sibling;c===null?n||e.tail===null?e.tail=null:e.tail.sibling=null:c.sibling=null}}function Ze(e){var n=e.alternate!==null&&e.alternate.child===e.child,o=0,c=0;if(n)for(var m=e.child;m!==null;)o|=m.lanes|m.childLanes,c|=m.subtreeFlags&65011712,c|=m.flags&65011712,m.return=e,m=m.sibling;else for(m=e.child;m!==null;)o|=m.lanes|m.childLanes,c|=m.subtreeFlags,c|=m.flags,m.return=e,m=m.sibling;return e.subtreeFlags|=c,e.childLanes=o,n}function PS(e,n,o){var c=n.pendingProps;switch(jt(n),n.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ze(n),null;case 1:return Ze(n),null;case 3:return o=n.stateNode,c=null,e!==null&&(c=e.memoizedState.cache),n.memoizedState.cache!==c&&(n.flags|=2048),Qr(nn),Mt(),o.pendingContext&&(o.context=o.pendingContext,o.pendingContext=null),(e===null||e.child===null)&&(_o(n)?qi(n):e===null||e.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,Nu())),Ze(n),null;case 26:return o=n.memoizedState,e===null?(qi(n),o!==null?(Ze(n),Tb(n,o)):(Ze(n),n.flags&=-16777217)):o?o!==e.memoizedState?(qi(n),Ze(n),Tb(n,o)):(Ze(n),n.flags&=-16777217):(e.memoizedProps!==c&&qi(n),Ze(n),n.flags&=-16777217),null;case 27:kt(n),o=U.current;var m=n.type;if(e!==null&&n.stateNode!=null)e.memoizedProps!==c&&qi(n);else{if(!c){if(n.stateNode===null)throw Error(s(166));return Ze(n),null}e=V.current,_o(n)?Eu(n):(e=Ty(m,c,o),n.stateNode=e,qi(n))}return Ze(n),null;case 5:if(kt(n),o=n.type,e!==null&&n.stateNode!=null)e.memoizedProps!==c&&qi(n);else{if(!c){if(n.stateNode===null)throw Error(s(166));return Ze(n),null}if(e=V.current,_o(n))Eu(n);else{switch(m=ld(U.current),e){case 1:e=m.createElementNS("http://www.w3.org/2000/svg",o);break;case 2:e=m.createElementNS("http://www.w3.org/1998/Math/MathML",o);break;default:switch(o){case"svg":e=m.createElementNS("http://www.w3.org/2000/svg",o);break;case"math":e=m.createElementNS("http://www.w3.org/1998/Math/MathML",o);break;case"script":e=m.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild);break;case"select":e=typeof c.is=="string"?m.createElement("select",{is:c.is}):m.createElement("select"),c.multiple?e.multiple=!0:c.size&&(e.size=c.size);break;default:e=typeof c.is=="string"?m.createElement(o,{is:c.is}):m.createElement(o)}}e[sn]=n,e[Tn]=c;t:for(m=n.child;m!==null;){if(m.tag===5||m.tag===6)e.appendChild(m.stateNode);else if(m.tag!==4&&m.tag!==27&&m.child!==null){m.child.return=m,m=m.child;continue}if(m===n)break t;for(;m.sibling===null;){if(m.return===null||m.return===n)break t;m=m.return}m.sibling.return=m.return,m=m.sibling}n.stateNode=e;t:switch(_n(e,o,c),o){case"button":case"input":case"select":case"textarea":e=!!c.autoFocus;break t;case"img":e=!0;break t;default:e=!1}e&&qi(n)}}return Ze(n),n.flags&=-16777217,null;case 6:if(e&&n.stateNode!=null)e.memoizedProps!==c&&qi(n);else{if(typeof c!="string"&&n.stateNode===null)throw Error(s(166));if(e=U.current,_o(n)){if(e=n.stateNode,o=n.memoizedProps,c=null,m=Lt,m!==null)switch(m.tag){case 27:case 5:c=m.memoizedProps}e[sn]=n,e=!!(e.nodeValue===o||c!==null&&c.suppressHydrationWarning===!0||by(e.nodeValue,o)),e||Xn(n)}else e=ld(e).createTextNode(c),e[sn]=n,n.stateNode=e}return Ze(n),null;case 13:if(c=n.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(m=_o(n),c!==null&&c.dehydrated!==null){if(e===null){if(!m)throw Error(s(318));if(m=n.memoizedState,m=m!==null?m.dehydrated:null,!m)throw Error(s(317));m[sn]=n}else Ta(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;Ze(n),m=!1}else m=Nu(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=m),m=!0;if(!m)return n.flags&256?(Zi(n),n):(Zi(n),null)}if(Zi(n),(n.flags&128)!==0)return n.lanes=o,n;if(o=c!==null,e=e!==null&&e.memoizedState!==null,o){c=n.child,m=null,c.alternate!==null&&c.alternate.memoizedState!==null&&c.alternate.memoizedState.cachePool!==null&&(m=c.alternate.memoizedState.cachePool.pool);var v=null;c.memoizedState!==null&&c.memoizedState.cachePool!==null&&(v=c.memoizedState.cachePool.pool),v!==m&&(c.flags|=2048)}return o!==e&&o&&(n.child.flags|=8192),Ku(n,n.updateQueue),Ze(n),null;case 4:return Mt(),e===null&&Cm(n.stateNode.containerInfo),Ze(n),null;case 10:return Qr(n.type),Ze(n),null;case 19:if(Y(rn),m=n.memoizedState,m===null)return Ze(n),null;if(c=(n.flags&128)!==0,v=m.rendering,v===null)if(c)Gl(m,!1);else{if(Ve!==0||e!==null&&(e.flags&128)!==0)for(e=n.child;e!==null;){if(v=Zu(e),v!==null){for(n.flags|=128,Gl(m,!1),e=v.updateQueue,n.updateQueue=e,Ku(n,e),n.subtreeFlags=0,e=o,o=n.child;o!==null;)Al(o,e),o=o.sibling;return J(rn,rn.current&1|2),n.child}e=e.sibling}m.tail!==null&&It()>Qu&&(n.flags|=128,c=!0,Gl(m,!1),n.lanes=4194304)}else{if(!c)if(e=Zu(v),e!==null){if(n.flags|=128,c=!0,e=e.updateQueue,n.updateQueue=e,Ku(n,e),Gl(m,!0),m.tail===null&&m.tailMode==="hidden"&&!v.alternate&&!Ft)return Ze(n),null}else 2*It()-m.renderingStartTime>Qu&&o!==536870912&&(n.flags|=128,c=!0,Gl(m,!1),n.lanes=4194304);m.isBackwards?(v.sibling=n.child,n.child=v):(e=m.last,e!==null?e.sibling=v:n.child=v,m.last=v)}return m.tail!==null?(n=m.tail,m.rendering=n,m.tail=n.sibling,m.renderingStartTime=It(),n.sibling=null,e=rn.current,J(rn,c?e&1|2:e&1),n):(Ze(n),null);case 22:case 23:return Zi(n),Bh(),c=n.memoizedState!==null,e!==null?e.memoizedState!==null!==c&&(n.flags|=8192):c&&(n.flags|=8192),c?(o&536870912)!==0&&(n.flags&128)===0&&(Ze(n),n.subtreeFlags&6&&(n.flags|=8192)):Ze(n),o=n.updateQueue,o!==null&&Ku(n,o.retryQueue),o=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(o=e.memoizedState.cachePool.pool),c=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(c=n.memoizedState.cachePool.pool),c!==o&&(n.flags|=2048),e!==null&&Y(Eo),null;case 24:return o=null,e!==null&&(o=e.memoizedState.cache),n.memoizedState.cache!==o&&(n.flags|=2048),Qr(nn),Ze(n),null;case 25:return null;case 30:return null}throw Error(s(156,n.tag))}function zS(e,n){switch(jt(n),n.tag){case 1:return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 3:return Qr(nn),Mt(),e=n.flags,(e&65536)!==0&&(e&128)===0?(n.flags=e&-65537|128,n):null;case 26:case 27:case 5:return kt(n),null;case 13:if(Zi(n),e=n.memoizedState,e!==null&&e.dehydrated!==null){if(n.alternate===null)throw Error(s(340));Ta()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 19:return Y(rn),null;case 4:return Mt(),null;case 10:return Qr(n.type),null;case 22:case 23:return Zi(n),Bh(),e!==null&&Y(Eo),e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 24:return Qr(nn),null;case 25:return null;default:return null}}function Eb(e,n){switch(jt(n),n.tag){case 3:Qr(nn),Mt();break;case 26:case 27:case 5:kt(n);break;case 4:Mt();break;case 13:Zi(n);break;case 19:Y(rn);break;case 10:Qr(n.type);break;case 22:case 23:Zi(n),Bh(),e!==null&&Y(Eo);break;case 24:Qr(nn)}}function Zl(e,n){try{var o=n.updateQueue,c=o!==null?o.lastEffect:null;if(c!==null){var m=c.next;o=m;do{if((o.tag&e)===e){c=void 0;var v=o.create,N=o.inst;c=v(),N.destroy=c}o=o.next}while(o!==m)}}catch(P){Te(n,n.return,P)}}function Oa(e,n,o){try{var c=n.updateQueue,m=c!==null?c.lastEffect:null;if(m!==null){var v=m.next;c=v;do{if((c.tag&e)===e){var N=c.inst,P=N.destroy;if(P!==void 0){N.destroy=void 0,m=n;var X=o,ut=P;try{ut()}catch(vt){Te(m,X,vt)}}}c=c.next}while(c!==v)}}catch(vt){Te(n,n.return,vt)}}function Mb(e){var n=e.updateQueue;if(n!==null){var o=e.stateNode;try{hg(n,o)}catch(c){Te(e,e.return,c)}}}function Nb(e,n,o){o.props=No(e.type,e.memoizedProps),o.state=e.memoizedState;try{o.componentWillUnmount()}catch(c){Te(e,n,c)}}function Yl(e,n){try{var o=e.ref;if(o!==null){switch(e.tag){case 26:case 27:case 5:var c=e.stateNode;break;case 30:c=e.stateNode;break;default:c=e.stateNode}typeof o=="function"?e.refCleanup=o(c):o.current=c}}catch(m){Te(e,n,m)}}function pi(e,n){var o=e.ref,c=e.refCleanup;if(o!==null)if(typeof c=="function")try{c()}catch(m){Te(e,n,m)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof o=="function")try{o(null)}catch(m){Te(e,n,m)}else o.current=null}function Ab(e){var n=e.type,o=e.memoizedProps,c=e.stateNode;try{t:switch(n){case"button":case"input":case"select":case"textarea":o.autoFocus&&c.focus();break t;case"img":o.src?c.src=o.src:o.srcSet&&(c.srcset=o.srcSet)}}catch(m){Te(e,e.return,m)}}function cm(e,n,o){try{var c=e.stateNode;aw(c,e.type,o,n),c[Tn]=n}catch(m){Te(e,e.return,m)}}function Db(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&$a(e.type)||e.tag===4}function um(e){t:for(;;){for(;e.sibling===null;){if(e.return===null||Db(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&$a(e.type)||e.flags&2||e.child===null||e.tag===4)continue t;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function dm(e,n,o){var c=e.tag;if(c===5||c===6)e=e.stateNode,n?(o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o).insertBefore(e,n):(n=o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o,n.appendChild(e),o=o._reactRootContainer,o!=null||n.onclick!==null||(n.onclick=sd));else if(c!==4&&(c===27&&$a(e.type)&&(o=e.stateNode,n=null),e=e.child,e!==null))for(dm(e,n,o),e=e.sibling;e!==null;)dm(e,n,o),e=e.sibling}function Xu(e,n,o){var c=e.tag;if(c===5||c===6)e=e.stateNode,n?o.insertBefore(e,n):o.appendChild(e);else if(c!==4&&(c===27&&$a(e.type)&&(o=e.stateNode),e=e.child,e!==null))for(Xu(e,n,o),e=e.sibling;e!==null;)Xu(e,n,o),e=e.sibling}function jb(e){var n=e.stateNode,o=e.memoizedProps;try{for(var c=e.type,m=n.attributes;m.length;)n.removeAttributeNode(m[0]);_n(n,c,o),n[sn]=e,n[Tn]=o}catch(v){Te(e,e.return,v)}}var Fi=!1,We=!1,fm=!1,kb=typeof WeakSet=="function"?WeakSet:Set,dn=null;function HS(e,n){if(e=e.containerInfo,Rm=md,e=mo(e),po(e)){if("selectionStart"in e)var o={start:e.selectionStart,end:e.selectionEnd};else t:{o=(o=e.ownerDocument)&&o.defaultView||window;var c=o.getSelection&&o.getSelection();if(c&&c.rangeCount!==0){o=c.anchorNode;var m=c.anchorOffset,v=c.focusNode;c=c.focusOffset;try{o.nodeType,v.nodeType}catch{o=null;break t}var N=0,P=-1,X=-1,ut=0,vt=0,Tt=e,ft=null;e:for(;;){for(var mt;Tt!==o||m!==0&&Tt.nodeType!==3||(P=N+m),Tt!==v||c!==0&&Tt.nodeType!==3||(X=N+c),Tt.nodeType===3&&(N+=Tt.nodeValue.length),(mt=Tt.firstChild)!==null;)ft=Tt,Tt=mt;for(;;){if(Tt===e)break e;if(ft===o&&++ut===m&&(P=N),ft===v&&++vt===c&&(X=N),(mt=Tt.nextSibling)!==null)break;Tt=ft,ft=Tt.parentNode}Tt=mt}o=P===-1||X===-1?null:{start:P,end:X}}else o=null}o=o||{start:0,end:0}}else o=null;for(Pm={focusedElem:e,selectionRange:o},md=!1,dn=n;dn!==null;)if(n=dn,e=n.child,(n.subtreeFlags&1024)!==0&&e!==null)e.return=n,dn=e;else for(;dn!==null;){switch(n=dn,v=n.alternate,e=n.flags,n.tag){case 0:break;case 11:case 15:break;case 1:if((e&1024)!==0&&v!==null){e=void 0,o=n,m=v.memoizedProps,v=v.memoizedState,c=o.stateNode;try{var Yt=No(o.type,m,o.elementType===o.type);e=c.getSnapshotBeforeUpdate(Yt,v),c.__reactInternalSnapshotBeforeUpdate=e}catch(Gt){Te(o,o.return,Gt)}}break;case 3:if((e&1024)!==0){if(e=n.stateNode.containerInfo,o=e.nodeType,o===9)$m(e);else if(o===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":$m(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(s(163))}if(e=n.sibling,e!==null){e.return=n.return,dn=e;break}dn=n.return}}function Ob(e,n,o){var c=o.flags;switch(o.tag){case 0:case 11:case 15:Ca(e,o),c&4&&Zl(5,o);break;case 1:if(Ca(e,o),c&4)if(e=o.stateNode,n===null)try{e.componentDidMount()}catch(N){Te(o,o.return,N)}else{var m=No(o.type,n.memoizedProps);n=n.memoizedState;try{e.componentDidUpdate(m,n,e.__reactInternalSnapshotBeforeUpdate)}catch(N){Te(o,o.return,N)}}c&64&&Mb(o),c&512&&Yl(o,o.return);break;case 3:if(Ca(e,o),c&64&&(e=o.updateQueue,e!==null)){if(n=null,o.child!==null)switch(o.child.tag){case 27:case 5:n=o.child.stateNode;break;case 1:n=o.child.stateNode}try{hg(e,n)}catch(N){Te(o,o.return,N)}}break;case 27:n===null&&c&4&&jb(o);case 26:case 5:Ca(e,o),n===null&&c&4&&Ab(o),c&512&&Yl(o,o.return);break;case 12:Ca(e,o);break;case 13:Ca(e,o),c&4&&Bb(e,o),c&64&&(e=o.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(o=VS.bind(null,o),fw(e,o))));break;case 22:if(c=o.memoizedState!==null||Fi,!c){n=n!==null&&n.memoizedState!==null||We,m=Fi;var v=We;Fi=c,(We=n)&&!v?La(e,o,(o.subtreeFlags&8772)!==0):Ca(e,o),Fi=m,We=v}break;case 30:break;default:Ca(e,o)}}function Cb(e){var n=e.alternate;n!==null&&(e.alternate=null,Cb(n)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(n=e.stateNode,n!==null&&qo(n)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var ze=null,Qn=!1;function Vi(e,n,o){for(o=o.child;o!==null;)Lb(e,n,o),o=o.sibling}function Lb(e,n,o){if(Be&&typeof Be.onCommitFiberUnmount=="function")try{Be.onCommitFiberUnmount(Oe,o)}catch{}switch(o.tag){case 26:We||pi(o,n),Vi(e,n,o),o.memoizedState?o.memoizedState.count--:o.stateNode&&(o=o.stateNode,o.parentNode.removeChild(o));break;case 27:We||pi(o,n);var c=ze,m=Qn;$a(o.type)&&(ze=o.stateNode,Qn=!1),Vi(e,n,o),tc(o.stateNode),ze=c,Qn=m;break;case 5:We||pi(o,n);case 6:if(c=ze,m=Qn,ze=null,Vi(e,n,o),ze=c,Qn=m,ze!==null)if(Qn)try{(ze.nodeType===9?ze.body:ze.nodeName==="HTML"?ze.ownerDocument.body:ze).removeChild(o.stateNode)}catch(v){Te(o,n,v)}else try{ze.removeChild(o.stateNode)}catch(v){Te(o,n,v)}break;case 18:ze!==null&&(Qn?(e=ze,Sy(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,o.stateNode),lc(e)):Sy(ze,o.stateNode));break;case 4:c=ze,m=Qn,ze=o.stateNode.containerInfo,Qn=!0,Vi(e,n,o),ze=c,Qn=m;break;case 0:case 11:case 14:case 15:We||Oa(2,o,n),We||Oa(4,o,n),Vi(e,n,o);break;case 1:We||(pi(o,n),c=o.stateNode,typeof c.componentWillUnmount=="function"&&Nb(o,n,c)),Vi(e,n,o);break;case 21:Vi(e,n,o);break;case 22:We=(c=We)||o.memoizedState!==null,Vi(e,n,o),We=c;break;default:Vi(e,n,o)}}function Bb(e,n){if(n.memoizedState===null&&(e=n.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{lc(e)}catch(o){Te(n,n.return,o)}}function $S(e){switch(e.tag){case 13:case 19:var n=e.stateNode;return n===null&&(n=e.stateNode=new kb),n;case 22:return e=e.stateNode,n=e._retryCache,n===null&&(n=e._retryCache=new kb),n;default:throw Error(s(435,e.tag))}}function hm(e,n){var o=$S(e);n.forEach(function(c){var m=KS.bind(null,e,c);o.has(c)||(o.add(c),c.then(m,m))})}function lr(e,n){var o=n.deletions;if(o!==null)for(var c=0;c<o.length;c++){var m=o[c],v=e,N=n,P=N;t:for(;P!==null;){switch(P.tag){case 27:if($a(P.type)){ze=P.stateNode,Qn=!1;break t}break;case 5:ze=P.stateNode,Qn=!1;break t;case 3:case 4:ze=P.stateNode.containerInfo,Qn=!0;break t}P=P.return}if(ze===null)throw Error(s(160));Lb(v,N,m),ze=null,Qn=!1,v=m.alternate,v!==null&&(v.return=null),m.return=null}if(n.subtreeFlags&13878)for(n=n.child;n!==null;)Rb(n,e),n=n.sibling}var Jr=null;function Rb(e,n){var o=e.alternate,c=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:lr(n,e),cr(e),c&4&&(Oa(3,e,e.return),Zl(3,e),Oa(5,e,e.return));break;case 1:lr(n,e),cr(e),c&512&&(We||o===null||pi(o,o.return)),c&64&&Fi&&(e=e.updateQueue,e!==null&&(c=e.callbacks,c!==null&&(o=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=o===null?c:o.concat(c))));break;case 26:var m=Jr;if(lr(n,e),cr(e),c&512&&(We||o===null||pi(o,o.return)),c&4){var v=o!==null?o.memoizedState:null;if(c=e.memoizedState,o===null)if(c===null)if(e.stateNode===null){t:{c=e.type,o=e.memoizedProps,m=m.ownerDocument||m;e:switch(c){case"title":v=m.getElementsByTagName("title")[0],(!v||v[ra]||v[sn]||v.namespaceURI==="http://www.w3.org/2000/svg"||v.hasAttribute("itemprop"))&&(v=m.createElement(c),m.head.insertBefore(v,m.querySelector("head > title"))),_n(v,c,o),v[sn]=e,Qe(v),c=v;break t;case"link":var N=jy("link","href",m).get(c+(o.href||""));if(N){for(var P=0;P<N.length;P++)if(v=N[P],v.getAttribute("href")===(o.href==null||o.href===""?null:o.href)&&v.getAttribute("rel")===(o.rel==null?null:o.rel)&&v.getAttribute("title")===(o.title==null?null:o.title)&&v.getAttribute("crossorigin")===(o.crossOrigin==null?null:o.crossOrigin)){N.splice(P,1);break e}}v=m.createElement(c),_n(v,c,o),m.head.appendChild(v);break;case"meta":if(N=jy("meta","content",m).get(c+(o.content||""))){for(P=0;P<N.length;P++)if(v=N[P],v.getAttribute("content")===(o.content==null?null:""+o.content)&&v.getAttribute("name")===(o.name==null?null:o.name)&&v.getAttribute("property")===(o.property==null?null:o.property)&&v.getAttribute("http-equiv")===(o.httpEquiv==null?null:o.httpEquiv)&&v.getAttribute("charset")===(o.charSet==null?null:o.charSet)){N.splice(P,1);break e}}v=m.createElement(c),_n(v,c,o),m.head.appendChild(v);break;default:throw Error(s(468,c))}v[sn]=e,Qe(v),c=v}e.stateNode=c}else ky(m,e.type,e.stateNode);else e.stateNode=Dy(m,c,e.memoizedProps);else v!==c?(v===null?o.stateNode!==null&&(o=o.stateNode,o.parentNode.removeChild(o)):v.count--,c===null?ky(m,e.type,e.stateNode):Dy(m,c,e.memoizedProps)):c===null&&e.stateNode!==null&&cm(e,e.memoizedProps,o.memoizedProps)}break;case 27:lr(n,e),cr(e),c&512&&(We||o===null||pi(o,o.return)),o!==null&&c&4&&cm(e,e.memoizedProps,o.memoizedProps);break;case 5:if(lr(n,e),cr(e),c&512&&(We||o===null||pi(o,o.return)),e.flags&32){m=e.stateNode;try{Tr(m,"")}catch(mt){Te(e,e.return,mt)}}c&4&&e.stateNode!=null&&(m=e.memoizedProps,cm(e,m,o!==null?o.memoizedProps:m)),c&1024&&(fm=!0);break;case 6:if(lr(n,e),cr(e),c&4){if(e.stateNode===null)throw Error(s(162));c=e.memoizedProps,o=e.stateNode;try{o.nodeValue=c}catch(mt){Te(e,e.return,mt)}}break;case 3:if(dd=null,m=Jr,Jr=cd(n.containerInfo),lr(n,e),Jr=m,cr(e),c&4&&o!==null&&o.memoizedState.isDehydrated)try{lc(n.containerInfo)}catch(mt){Te(e,e.return,mt)}fm&&(fm=!1,Pb(e));break;case 4:c=Jr,Jr=cd(e.stateNode.containerInfo),lr(n,e),cr(e),Jr=c;break;case 12:lr(n,e),cr(e);break;case 13:lr(n,e),cr(e),e.child.flags&8192&&e.memoizedState!==null!=(o!==null&&o.memoizedState!==null)&&(vm=It()),c&4&&(c=e.updateQueue,c!==null&&(e.updateQueue=null,hm(e,c)));break;case 22:m=e.memoizedState!==null;var X=o!==null&&o.memoizedState!==null,ut=Fi,vt=We;if(Fi=ut||m,We=vt||X,lr(n,e),We=vt,Fi=ut,cr(e),c&8192)t:for(n=e.stateNode,n._visibility=m?n._visibility&-2:n._visibility|1,m&&(o===null||X||Fi||We||Ao(e)),o=null,n=e;;){if(n.tag===5||n.tag===26){if(o===null){X=o=n;try{if(v=X.stateNode,m)N=v.style,typeof N.setProperty=="function"?N.setProperty("display","none","important"):N.display="none";else{P=X.stateNode;var Tt=X.memoizedProps.style,ft=Tt!=null&&Tt.hasOwnProperty("display")?Tt.display:null;P.style.display=ft==null||typeof ft=="boolean"?"":(""+ft).trim()}}catch(mt){Te(X,X.return,mt)}}}else if(n.tag===6){if(o===null){X=n;try{X.stateNode.nodeValue=m?"":X.memoizedProps}catch(mt){Te(X,X.return,mt)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===e)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break t;for(;n.sibling===null;){if(n.return===null||n.return===e)break t;o===n&&(o=null),n=n.return}o===n&&(o=null),n.sibling.return=n.return,n=n.sibling}c&4&&(c=e.updateQueue,c!==null&&(o=c.retryQueue,o!==null&&(c.retryQueue=null,hm(e,o))));break;case 19:lr(n,e),cr(e),c&4&&(c=e.updateQueue,c!==null&&(e.updateQueue=null,hm(e,c)));break;case 30:break;case 21:break;default:lr(n,e),cr(e)}}function cr(e){var n=e.flags;if(n&2){try{for(var o,c=e.return;c!==null;){if(Db(c)){o=c;break}c=c.return}if(o==null)throw Error(s(160));switch(o.tag){case 27:var m=o.stateNode,v=um(e);Xu(e,v,m);break;case 5:var N=o.stateNode;o.flags&32&&(Tr(N,""),o.flags&=-33);var P=um(e);Xu(e,P,N);break;case 3:case 4:var X=o.stateNode.containerInfo,ut=um(e);dm(e,ut,X);break;default:throw Error(s(161))}}catch(vt){Te(e,e.return,vt)}e.flags&=-3}n&4096&&(e.flags&=-4097)}function Pb(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var n=e;Pb(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),e=e.sibling}}function Ca(e,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)Ob(e,n.alternate,n),n=n.sibling}function Ao(e){for(e=e.child;e!==null;){var n=e;switch(n.tag){case 0:case 11:case 14:case 15:Oa(4,n,n.return),Ao(n);break;case 1:pi(n,n.return);var o=n.stateNode;typeof o.componentWillUnmount=="function"&&Nb(n,n.return,o),Ao(n);break;case 27:tc(n.stateNode);case 26:case 5:pi(n,n.return),Ao(n);break;case 22:n.memoizedState===null&&Ao(n);break;case 30:Ao(n);break;default:Ao(n)}e=e.sibling}}function La(e,n,o){for(o=o&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var c=n.alternate,m=e,v=n,N=v.flags;switch(v.tag){case 0:case 11:case 15:La(m,v,o),Zl(4,v);break;case 1:if(La(m,v,o),c=v,m=c.stateNode,typeof m.componentDidMount=="function")try{m.componentDidMount()}catch(ut){Te(c,c.return,ut)}if(c=v,m=c.updateQueue,m!==null){var P=c.stateNode;try{var X=m.shared.hiddenCallbacks;if(X!==null)for(m.shared.hiddenCallbacks=null,m=0;m<X.length;m++)fg(X[m],P)}catch(ut){Te(c,c.return,ut)}}o&&N&64&&Mb(v),Yl(v,v.return);break;case 27:jb(v);case 26:case 5:La(m,v,o),o&&c===null&&N&4&&Ab(v),Yl(v,v.return);break;case 12:La(m,v,o);break;case 13:La(m,v,o),o&&N&4&&Bb(m,v);break;case 22:v.memoizedState===null&&La(m,v,o),Yl(v,v.return);break;case 30:break;default:La(m,v,o)}n=n.sibling}}function mm(e,n){var o=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(o=e.memoizedState.cachePool.pool),e=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(e=n.memoizedState.cachePool.pool),e!==o&&(e!=null&&e.refCount++,o!=null&&jl(o))}function pm(e,n){e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&jl(e))}function gi(e,n,o,c){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)zb(e,n,o,c),n=n.sibling}function zb(e,n,o,c){var m=n.flags;switch(n.tag){case 0:case 11:case 15:gi(e,n,o,c),m&2048&&Zl(9,n);break;case 1:gi(e,n,o,c);break;case 3:gi(e,n,o,c),m&2048&&(e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&jl(e)));break;case 12:if(m&2048){gi(e,n,o,c),e=n.stateNode;try{var v=n.memoizedProps,N=v.id,P=v.onPostCommit;typeof P=="function"&&P(N,n.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(X){Te(n,n.return,X)}}else gi(e,n,o,c);break;case 13:gi(e,n,o,c);break;case 23:break;case 22:v=n.stateNode,N=n.alternate,n.memoizedState!==null?v._visibility&2?gi(e,n,o,c):ql(e,n):v._visibility&2?gi(e,n,o,c):(v._visibility|=2,xs(e,n,o,c,(n.subtreeFlags&10256)!==0)),m&2048&&mm(N,n);break;case 24:gi(e,n,o,c),m&2048&&pm(n.alternate,n);break;default:gi(e,n,o,c)}}function xs(e,n,o,c,m){for(m=m&&(n.subtreeFlags&10256)!==0,n=n.child;n!==null;){var v=e,N=n,P=o,X=c,ut=N.flags;switch(N.tag){case 0:case 11:case 15:xs(v,N,P,X,m),Zl(8,N);break;case 23:break;case 22:var vt=N.stateNode;N.memoizedState!==null?vt._visibility&2?xs(v,N,P,X,m):ql(v,N):(vt._visibility|=2,xs(v,N,P,X,m)),m&&ut&2048&&mm(N.alternate,N);break;case 24:xs(v,N,P,X,m),m&&ut&2048&&pm(N.alternate,N);break;default:xs(v,N,P,X,m)}n=n.sibling}}function ql(e,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var o=e,c=n,m=c.flags;switch(c.tag){case 22:ql(o,c),m&2048&&mm(c.alternate,c);break;case 24:ql(o,c),m&2048&&pm(c.alternate,c);break;default:ql(o,c)}n=n.sibling}}var Fl=8192;function _s(e){if(e.subtreeFlags&Fl)for(e=e.child;e!==null;)Hb(e),e=e.sibling}function Hb(e){switch(e.tag){case 26:_s(e),e.flags&Fl&&e.memoizedState!==null&&Ew(Jr,e.memoizedState,e.memoizedProps);break;case 5:_s(e);break;case 3:case 4:var n=Jr;Jr=cd(e.stateNode.containerInfo),_s(e),Jr=n;break;case 22:e.memoizedState===null&&(n=e.alternate,n!==null&&n.memoizedState!==null?(n=Fl,Fl=16777216,_s(e),Fl=n):_s(e));break;default:_s(e)}}function $b(e){var n=e.alternate;if(n!==null&&(e=n.child,e!==null)){n.child=null;do n=e.sibling,e.sibling=null,e=n;while(e!==null)}}function Vl(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var o=0;o<n.length;o++){var c=n[o];dn=c,Ub(c,e)}$b(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)Ib(e),e=e.sibling}function Ib(e){switch(e.tag){case 0:case 11:case 15:Vl(e),e.flags&2048&&Oa(9,e,e.return);break;case 3:Vl(e);break;case 12:Vl(e);break;case 22:var n=e.stateNode;e.memoizedState!==null&&n._visibility&2&&(e.return===null||e.return.tag!==13)?(n._visibility&=-3,Wu(e)):Vl(e);break;default:Vl(e)}}function Wu(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var o=0;o<n.length;o++){var c=n[o];dn=c,Ub(c,e)}$b(e)}for(e=e.child;e!==null;){switch(n=e,n.tag){case 0:case 11:case 15:Oa(8,n,n.return),Wu(n);break;case 22:o=n.stateNode,o._visibility&2&&(o._visibility&=-3,Wu(n));break;default:Wu(n)}e=e.sibling}}function Ub(e,n){for(;dn!==null;){var o=dn;switch(o.tag){case 0:case 11:case 15:Oa(8,o,n);break;case 23:case 22:if(o.memoizedState!==null&&o.memoizedState.cachePool!==null){var c=o.memoizedState.cachePool.pool;c!=null&&c.refCount++}break;case 24:jl(o.memoizedState.cache)}if(c=o.child,c!==null)c.return=o,dn=c;else t:for(o=e;dn!==null;){c=dn;var m=c.sibling,v=c.return;if(Cb(c),c===o){dn=null;break t}if(m!==null){m.return=v,dn=m;break t}dn=v}}}var IS={getCacheForType:function(e){var n=Nn(nn),o=n.data.get(e);return o===void 0&&(o=e(),n.data.set(e,o)),o}},US=typeof WeakMap=="function"?WeakMap:Map,ge=0,De=null,ne=null,le=0,be=0,ur=null,Ba=!1,Ss=!1,gm=!1,Ki=0,Ve=0,Ra=0,Do=0,bm=0,Or=0,ws=0,Kl=null,Jn=null,ym=!1,vm=0,Qu=1/0,Ju=null,Pa=null,xn=0,za=null,Ts=null,Es=0,xm=0,_m=null,Gb=null,Xl=0,Sm=null;function dr(){if((ge&2)!==0&&le!==0)return le&-le;if(Z.T!==null){var e=fs;return e!==0?e:Dm()}return tu()}function Zb(){Or===0&&(Or=(le&536870912)===0||Ft?to():536870912);var e=kr.current;return e!==null&&(e.flags|=32),Or}function fr(e,n,o){(e===De&&(be===2||be===9)||e.cancelPendingCommit!==null)&&(Ms(e,0),Ha(e,le,Or,!1)),Si(e,o),((ge&2)===0||e!==De)&&(e===De&&((ge&2)===0&&(Do|=o),Ve===4&&Ha(e,le,Or,!1)),bi(e))}function Yb(e,n,o){if((ge&6)!==0)throw Error(s(327));var c=!o&&(n&124)===0&&(n&e.expiredLanes)===0||qn(e,n),m=c?YS(e,n):Em(e,n,!0),v=c;do{if(m===0){Ss&&!c&&Ha(e,n,0,!1);break}else{if(o=e.current.alternate,v&&!GS(o)){m=Em(e,n,!1),v=!1;continue}if(m===2){if(v=n,e.errorRecoveryDisabledLanes&v)var N=0;else N=e.pendingLanes&-536870913,N=N!==0?N:N&536870912?536870912:0;if(N!==0){n=N;t:{var P=e;m=Kl;var X=P.current.memoizedState.isDehydrated;if(X&&(Ms(P,N).flags|=256),N=Em(P,N,!1),N!==2){if(gm&&!X){P.errorRecoveryDisabledLanes|=v,Do|=v,m=4;break t}v=Jn,Jn=m,v!==null&&(Jn===null?Jn=v:Jn.push.apply(Jn,v))}m=N}if(v=!1,m!==2)continue}}if(m===1){Ms(e,0),Ha(e,n,0,!0);break}t:{switch(c=e,v=m,v){case 0:case 1:throw Error(s(345));case 4:if((n&4194048)!==n)break;case 6:Ha(c,n,Or,!Ba);break t;case 2:Jn=null;break;case 3:case 5:break;default:throw Error(s(329))}if((n&62914560)===n&&(m=vm+300-It(),10<m)){if(Ha(c,n,Or,!Ba),Yr(c,0,!0)!==0)break t;c.timeoutHandle=xy(qb.bind(null,c,o,Jn,Ju,ym,n,Or,Do,ws,Ba,v,2,-0,0),m);break t}qb(c,o,Jn,Ju,ym,n,Or,Do,ws,Ba,v,0,-0,0)}}break}while(!0);bi(e)}function qb(e,n,o,c,m,v,N,P,X,ut,vt,Tt,ft,mt){if(e.timeoutHandle=-1,Tt=n.subtreeFlags,(Tt&8192||(Tt&16785408)===16785408)&&(rc={stylesheets:null,count:0,unsuspend:Tw},Hb(n),Tt=Mw(),Tt!==null)){e.cancelPendingCommit=Tt(Jb.bind(null,e,n,v,o,c,m,N,P,X,vt,1,ft,mt)),Ha(e,v,N,!ut);return}Jb(e,n,v,o,c,m,N,P,X)}function GS(e){for(var n=e;;){var o=n.tag;if((o===0||o===11||o===15)&&n.flags&16384&&(o=n.updateQueue,o!==null&&(o=o.stores,o!==null)))for(var c=0;c<o.length;c++){var m=o[c],v=m.getSnapshot;m=m.value;try{if(!On(v(),m))return!1}catch{return!1}}if(o=n.child,n.subtreeFlags&16384&&o!==null)o.return=n,n=o;else{if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function Ha(e,n,o,c){n&=~bm,n&=~Do,e.suspendedLanes|=n,e.pingedLanes&=~n,c&&(e.warmLanes|=n),c=e.expirationTimes;for(var m=n;0<m;){var v=31-Re(m),N=1<<v;c[v]=-1,m&=~N}o!==0&&eo(e,o,n)}function td(){return(ge&6)===0?(Wl(0),!1):!0}function wm(){if(ne!==null){if(be===0)var e=ne.return;else e=ne,Wr=jr=null,$h(e),ys=null,Il=0,e=ne;for(;e!==null;)Eb(e.alternate,e),e=e.return;ne=null}}function Ms(e,n){var o=e.timeoutHandle;o!==-1&&(e.timeoutHandle=-1,sw(o)),o=e.cancelPendingCommit,o!==null&&(e.cancelPendingCommit=null,o()),wm(),De=e,ne=o=Dr(e.current,null),le=n,be=0,ur=null,Ba=!1,Ss=qn(e,n),gm=!1,ws=Or=bm=Do=Ra=Ve=0,Jn=Kl=null,ym=!1,(n&8)!==0&&(n|=n&32);var c=e.entangledLanes;if(c!==0)for(e=e.entanglements,c&=n;0<c;){var m=31-Re(c),v=1<<m;n|=e[m],c&=~v}return Ki=n,bo(),o}function Fb(e,n){Jt=null,Z.H=Iu,n===Ol||n===ku?(n=ug(),be=3):n===sg?(n=ug(),be=4):be=n===db?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,ur=n,ne===null&&(Ve=1,qu(e,Ln(n,e.current)))}function Vb(){var e=Z.H;return Z.H=Iu,e===null?Iu:e}function Kb(){var e=Z.A;return Z.A=IS,e}function Tm(){Ve=4,Ba||(le&4194048)!==le&&kr.current!==null||(Ss=!0),(Ra&134217727)===0&&(Do&134217727)===0||De===null||Ha(De,le,Or,!1)}function Em(e,n,o){var c=ge;ge|=2;var m=Vb(),v=Kb();(De!==e||le!==n)&&(Ju=null,Ms(e,n)),n=!1;var N=Ve;t:do try{if(be!==0&&ne!==null){var P=ne,X=ur;switch(be){case 8:wm(),N=6;break t;case 3:case 2:case 9:case 6:kr.current===null&&(n=!0);var ut=be;if(be=0,ur=null,Ns(e,P,X,ut),o&&Ss){N=0;break t}break;default:ut=be,be=0,ur=null,Ns(e,P,X,ut)}}ZS(),N=Ve;break}catch(vt){Fb(e,vt)}while(!0);return n&&e.shellSuspendCounter++,Wr=jr=null,ge=c,Z.H=m,Z.A=v,ne===null&&(De=null,le=0,bo()),N}function ZS(){for(;ne!==null;)Xb(ne)}function YS(e,n){var o=ge;ge|=2;var c=Vb(),m=Kb();De!==e||le!==n?(Ju=null,Qu=It()+500,Ms(e,n)):Ss=qn(e,n);t:do try{if(be!==0&&ne!==null){n=ne;var v=ur;e:switch(be){case 1:be=0,ur=null,Ns(e,n,v,1);break;case 2:case 9:if(lg(v)){be=0,ur=null,Wb(n);break}n=function(){be!==2&&be!==9||De!==e||(be=7),bi(e)},v.then(n,n);break t;case 3:be=7;break t;case 4:be=5;break t;case 7:lg(v)?(be=0,ur=null,Wb(n)):(be=0,ur=null,Ns(e,n,v,7));break;case 5:var N=null;switch(ne.tag){case 26:N=ne.memoizedState;case 5:case 27:var P=ne;if(!N||Oy(N)){be=0,ur=null;var X=P.sibling;if(X!==null)ne=X;else{var ut=P.return;ut!==null?(ne=ut,ed(ut)):ne=null}break e}}be=0,ur=null,Ns(e,n,v,5);break;case 6:be=0,ur=null,Ns(e,n,v,6);break;case 8:wm(),Ve=6;break t;default:throw Error(s(462))}}qS();break}catch(vt){Fb(e,vt)}while(!0);return Wr=jr=null,Z.H=c,Z.A=m,ge=o,ne!==null?0:(De=null,le=0,bo(),Ve)}function qS(){for(;ne!==null&&!Ct();)Xb(ne)}function Xb(e){var n=wb(e.alternate,e,Ki);e.memoizedProps=e.pendingProps,n===null?ed(e):ne=n}function Wb(e){var n=e,o=n.alternate;switch(n.tag){case 15:case 0:n=bb(o,n,n.pendingProps,n.type,void 0,le);break;case 11:n=bb(o,n,n.pendingProps,n.type.render,n.ref,le);break;case 5:$h(n);default:Eb(o,n),n=ne=Al(n,Ki),n=wb(o,n,Ki)}e.memoizedProps=e.pendingProps,n===null?ed(e):ne=n}function Ns(e,n,o,c){Wr=jr=null,$h(n),ys=null,Il=0;var m=n.return;try{if(BS(e,m,n,o,le)){Ve=1,qu(e,Ln(o,e.current)),ne=null;return}}catch(v){if(m!==null)throw ne=m,v;Ve=1,qu(e,Ln(o,e.current)),ne=null;return}n.flags&32768?(Ft||c===1?e=!0:Ss||(le&536870912)!==0?e=!1:(Ba=e=!0,(c===2||c===9||c===3||c===6)&&(c=kr.current,c!==null&&c.tag===13&&(c.flags|=16384))),Qb(n,e)):ed(n)}function ed(e){var n=e;do{if((n.flags&32768)!==0){Qb(n,Ba);return}e=n.return;var o=PS(n.alternate,n,Ki);if(o!==null){ne=o;return}if(n=n.sibling,n!==null){ne=n;return}ne=n=e}while(n!==null);Ve===0&&(Ve=5)}function Qb(e,n){do{var o=zS(e.alternate,e);if(o!==null){o.flags&=32767,ne=o;return}if(o=e.return,o!==null&&(o.flags|=32768,o.subtreeFlags=0,o.deletions=null),!n&&(e=e.sibling,e!==null)){ne=e;return}ne=e=o}while(e!==null);Ve=6,ne=null}function Jb(e,n,o,c,m,v,N,P,X){e.cancelPendingCommit=null;do nd();while(xn!==0);if((ge&6)!==0)throw Error(s(327));if(n!==null){if(n===e.current)throw Error(s(177));if(v=n.lanes|n.childLanes,v|=sr,ll(e,o,v,N,P,X),e===De&&(ne=De=null,le=0),Ts=n,za=e,Es=o,xm=v,_m=m,Gb=c,(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,XS(_t,function(){return iy(),null})):(e.callbackNode=null,e.callbackPriority=0),c=(n.flags&13878)!==0,(n.subtreeFlags&13878)!==0||c){c=Z.T,Z.T=null,m=rt.p,rt.p=2,N=ge,ge|=4;try{HS(e,n,o)}finally{ge=N,rt.p=m,Z.T=c}}xn=1,ty(),ey(),ny()}}function ty(){if(xn===1){xn=0;var e=za,n=Ts,o=(n.flags&13878)!==0;if((n.subtreeFlags&13878)!==0||o){o=Z.T,Z.T=null;var c=rt.p;rt.p=2;var m=ge;ge|=4;try{Rb(n,e);var v=Pm,N=mo(e.containerInfo),P=v.focusedElem,X=v.selectionRange;if(N!==P&&P&&P.ownerDocument&&is(P.ownerDocument.documentElement,P)){if(X!==null&&po(P)){var ut=X.start,vt=X.end;if(vt===void 0&&(vt=ut),"selectionStart"in P)P.selectionStart=ut,P.selectionEnd=Math.min(vt,P.value.length);else{var Tt=P.ownerDocument||document,ft=Tt&&Tt.defaultView||window;if(ft.getSelection){var mt=ft.getSelection(),Yt=P.textContent.length,Gt=Math.min(X.start,Yt),xe=X.end===void 0?Gt:Math.min(X.end,Yt);!mt.extend&&Gt>xe&&(N=xe,xe=Gt,Gt=N);var at=Ml(P,Gt),nt=Ml(P,xe);if(at&&nt&&(mt.rangeCount!==1||mt.anchorNode!==at.node||mt.anchorOffset!==at.offset||mt.focusNode!==nt.node||mt.focusOffset!==nt.offset)){var ct=Tt.createRange();ct.setStart(at.node,at.offset),mt.removeAllRanges(),Gt>xe?(mt.addRange(ct),mt.extend(nt.node,nt.offset)):(ct.setEnd(nt.node,nt.offset),mt.addRange(ct))}}}}for(Tt=[],mt=P;mt=mt.parentNode;)mt.nodeType===1&&Tt.push({element:mt,left:mt.scrollLeft,top:mt.scrollTop});for(typeof P.focus=="function"&&P.focus(),P=0;P<Tt.length;P++){var wt=Tt[P];wt.element.scrollLeft=wt.left,wt.element.scrollTop=wt.top}}md=!!Rm,Pm=Rm=null}finally{ge=m,rt.p=c,Z.T=o}}e.current=n,xn=2}}function ey(){if(xn===2){xn=0;var e=za,n=Ts,o=(n.flags&8772)!==0;if((n.subtreeFlags&8772)!==0||o){o=Z.T,Z.T=null;var c=rt.p;rt.p=2;var m=ge;ge|=4;try{Ob(e,n.alternate,n)}finally{ge=m,rt.p=c,Z.T=o}}xn=3}}function ny(){if(xn===4||xn===3){xn=0,Kt();var e=za,n=Ts,o=Es,c=Gb;(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?xn=5:(xn=0,Ts=za=null,ry(e,e.pendingLanes));var m=e.pendingLanes;if(m===0&&(Pa=null),ul(o),n=n.stateNode,Be&&typeof Be.onCommitFiberRoot=="function")try{Be.onCommitFiberRoot(Oe,n,void 0,(n.current.flags&128)===128)}catch{}if(c!==null){n=Z.T,m=rt.p,rt.p=2,Z.T=null;try{for(var v=e.onRecoverableError,N=0;N<c.length;N++){var P=c[N];v(P.value,{componentStack:P.stack})}}finally{Z.T=n,rt.p=m}}(Es&3)!==0&&nd(),bi(e),m=e.pendingLanes,(o&4194090)!==0&&(m&42)!==0?e===Sm?Xl++:(Xl=0,Sm=e):Xl=0,Wl(0)}}function ry(e,n){(e.pooledCacheLanes&=n)===0&&(n=e.pooledCache,n!=null&&(e.pooledCache=null,jl(n)))}function nd(e){return ty(),ey(),ny(),iy()}function iy(){if(xn!==5)return!1;var e=za,n=xm;xm=0;var o=ul(Es),c=Z.T,m=rt.p;try{rt.p=32>o?32:o,Z.T=null,o=_m,_m=null;var v=za,N=Es;if(xn=0,Ts=za=null,Es=0,(ge&6)!==0)throw Error(s(331));var P=ge;if(ge|=4,Ib(v.current),zb(v,v.current,N,o),ge=P,Wl(0,!1),Be&&typeof Be.onPostCommitFiberRoot=="function")try{Be.onPostCommitFiberRoot(Oe,v)}catch{}return!0}finally{rt.p=m,Z.T=c,ry(e,n)}}function ay(e,n,o){n=Ln(o,n),n=tm(e.stateNode,n,2),e=Aa(e,n,2),e!==null&&(Si(e,2),bi(e))}function Te(e,n,o){if(e.tag===3)ay(e,e,o);else for(;n!==null;){if(n.tag===3){ay(n,e,o);break}else if(n.tag===1){var c=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof c.componentDidCatch=="function"&&(Pa===null||!Pa.has(c))){e=Ln(o,e),o=cb(2),c=Aa(n,o,2),c!==null&&(ub(o,c,n,e),Si(c,2),bi(c));break}}n=n.return}}function Mm(e,n,o){var c=e.pingCache;if(c===null){c=e.pingCache=new US;var m=new Set;c.set(n,m)}else m=c.get(n),m===void 0&&(m=new Set,c.set(n,m));m.has(o)||(gm=!0,m.add(o),e=FS.bind(null,e,n,o),n.then(e,e))}function FS(e,n,o){var c=e.pingCache;c!==null&&c.delete(n),e.pingedLanes|=e.suspendedLanes&o,e.warmLanes&=~o,De===e&&(le&o)===o&&(Ve===4||Ve===3&&(le&62914560)===le&&300>It()-vm?(ge&2)===0&&Ms(e,0):bm|=o,ws===le&&(ws=0)),bi(e)}function oy(e,n){n===0&&(n=qr()),e=Sa(e,n),e!==null&&(Si(e,n),bi(e))}function VS(e){var n=e.memoizedState,o=0;n!==null&&(o=n.retryLane),oy(e,o)}function KS(e,n){var o=0;switch(e.tag){case 13:var c=e.stateNode,m=e.memoizedState;m!==null&&(o=m.retryLane);break;case 19:c=e.stateNode;break;case 22:c=e.stateNode._retryCache;break;default:throw Error(s(314))}c!==null&&c.delete(n),oy(e,o)}function XS(e,n){return St(e,n)}var rd=null,As=null,Nm=!1,id=!1,Am=!1,jo=0;function bi(e){e!==As&&e.next===null&&(As===null?rd=As=e:As=As.next=e),id=!0,Nm||(Nm=!0,QS())}function Wl(e,n){if(!Am&&id){Am=!0;do for(var o=!1,c=rd;c!==null;){if(e!==0){var m=c.pendingLanes;if(m===0)var v=0;else{var N=c.suspendedLanes,P=c.pingedLanes;v=(1<<31-Re(42|e)+1)-1,v&=m&~(N&~P),v=v&201326741?v&201326741|1:v?v|2:0}v!==0&&(o=!0,uy(c,v))}else v=le,v=Yr(c,c===De?v:0,c.cancelPendingCommit!==null||c.timeoutHandle!==-1),(v&3)===0||qn(c,v)||(o=!0,uy(c,v));c=c.next}while(o);Am=!1}}function WS(){sy()}function sy(){id=Nm=!1;var e=0;jo!==0&&(ow()&&(e=jo),jo=0);for(var n=It(),o=null,c=rd;c!==null;){var m=c.next,v=ly(c,n);v===0?(c.next=null,o===null?rd=m:o.next=m,m===null&&(As=o)):(o=c,(e!==0||(v&3)!==0)&&(id=!0)),c=m}Wl(e)}function ly(e,n){for(var o=e.suspendedLanes,c=e.pingedLanes,m=e.expirationTimes,v=e.pendingLanes&-62914561;0<v;){var N=31-Re(v),P=1<<N,X=m[N];X===-1?((P&o)===0||(P&c)!==0)&&(m[N]=sl(P,n)):X<=n&&(e.expiredLanes|=P),v&=~P}if(n=De,o=le,o=Yr(e,e===n?o:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),c=e.callbackNode,o===0||e===n&&(be===2||be===9)||e.cancelPendingCommit!==null)return c!==null&&c!==null&&Ot(c),e.callbackNode=null,e.callbackPriority=0;if((o&3)===0||qn(e,o)){if(n=o&-o,n===e.callbackPriority)return n;switch(c!==null&&Ot(c),ul(o)){case 2:case 8:o=Rt;break;case 32:o=_t;break;case 268435456:o=Ie;break;default:o=_t}return c=cy.bind(null,e),o=St(o,c),e.callbackPriority=n,e.callbackNode=o,n}return c!==null&&c!==null&&Ot(c),e.callbackPriority=2,e.callbackNode=null,2}function cy(e,n){if(xn!==0&&xn!==5)return e.callbackNode=null,e.callbackPriority=0,null;var o=e.callbackNode;if(nd()&&e.callbackNode!==o)return null;var c=le;return c=Yr(e,e===De?c:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),c===0?null:(Yb(e,c,n),ly(e,It()),e.callbackNode!=null&&e.callbackNode===o?cy.bind(null,e):null)}function uy(e,n){if(nd())return null;Yb(e,n,!0)}function QS(){lw(function(){(ge&6)!==0?St(xt,WS):sy()})}function Dm(){return jo===0&&(jo=to()),jo}function dy(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:ca(""+e)}function fy(e,n){var o=n.ownerDocument.createElement("input");return o.name=n.name,o.value=n.value,e.id&&o.setAttribute("form",e.id),n.parentNode.insertBefore(o,n),e=new FormData(e),o.parentNode.removeChild(o),e}function JS(e,n,o,c,m){if(n==="submit"&&o&&o.stateNode===m){var v=dy((m[Tn]||null).action),N=c.submitter;N&&(n=(n=N[Tn]||null)?dy(n.formAction):N.getAttribute("formAction"),n!==null&&(v=n,N=null));var P=new lo("action","action",null,c,m);e.push({event:P,listeners:[{instance:null,listener:function(){if(c.defaultPrevented){if(jo!==0){var X=N?fy(m,N):new FormData(m);Kh(o,{pending:!0,data:X,method:m.method,action:v},null,X)}}else typeof v=="function"&&(P.preventDefault(),X=N?fy(m,N):new FormData(m),Kh(o,{pending:!0,data:X,method:m.method,action:v},v,X))},currentTarget:m}]})}}for(var jm=0;jm<zi.length;jm++){var km=zi[jm],tw=km.toLowerCase(),ew=km[0].toUpperCase()+km.slice(1);or(tw,"on"+ew)}or(Su,"onAnimationEnd"),or(ar,"onAnimationIteration"),or(go,"onAnimationStart"),or("dblclick","onDoubleClick"),or("focusin","onFocus"),or("focusout","onBlur"),or(Th,"onTransitionRun"),or(ls,"onTransitionStart"),or(Eh,"onTransitionCancel"),or(Nl,"onTransitionEnd"),Mi("onMouseEnter",["mouseout","mouseover"]),Mi("onMouseLeave",["mouseout","mouseover"]),Mi("onPointerEnter",["pointerout","pointerover"]),Mi("onPointerLeave",["pointerout","pointerover"]),Ei("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Ei("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Ei("onBeforeInput",["compositionend","keypress","textInput","paste"]),Ei("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Ei("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Ei("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ql="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),nw=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Ql));function hy(e,n){n=(n&4)!==0;for(var o=0;o<e.length;o++){var c=e[o],m=c.event;c=c.listeners;t:{var v=void 0;if(n)for(var N=c.length-1;0<=N;N--){var P=c[N],X=P.instance,ut=P.currentTarget;if(P=P.listener,X!==v&&m.isPropagationStopped())break t;v=P,m.currentTarget=ut;try{v(m)}catch(vt){Yu(vt)}m.currentTarget=null,v=X}else for(N=0;N<c.length;N++){if(P=c[N],X=P.instance,ut=P.currentTarget,P=P.listener,X!==v&&m.isPropagationStopped())break t;v=P,m.currentTarget=ut;try{v(m)}catch(vt){Yu(vt)}m.currentTarget=null,v=X}}}}function re(e,n){var o=n[Vn];o===void 0&&(o=n[Vn]=new Set);var c=e+"__bubble";o.has(c)||(my(n,e,2,!1),o.add(c))}function Om(e,n,o){var c=0;n&&(c|=4),my(o,e,c,n)}var ad="_reactListening"+Math.random().toString(36).slice(2);function Cm(e){if(!e[ad]){e[ad]=!0,nu.forEach(function(o){o!=="selectionchange"&&(nw.has(o)||Om(o,!1,e),Om(o,!0,e))});var n=e.nodeType===9?e:e.ownerDocument;n===null||n[ad]||(n[ad]=!0,Om("selectionchange",!1,n))}}function my(e,n,o,c){switch(zy(n)){case 2:var m=Dw;break;case 8:m=jw;break;default:m=Fm}o=m.bind(null,n,o,e),m=void 0,!so||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(m=!0),c?m!==void 0?e.addEventListener(n,o,{capture:!0,passive:m}):e.addEventListener(n,o,!0):m!==void 0?e.addEventListener(n,o,{passive:m}):e.addEventListener(n,o,!1)}function Lm(e,n,o,c,m){var v=c;if((n&1)===0&&(n&2)===0&&c!==null)t:for(;;){if(c===null)return;var N=c.tag;if(N===3||N===4){var P=c.stateNode.containerInfo;if(P===m)break;if(N===4)for(N=c.return;N!==null;){var X=N.tag;if((X===3||X===4)&&N.stateNode.containerInfo===m)return;N=N.return}for(;P!==null;){if(N=oi(P),N===null)return;if(X=N.tag,X===5||X===6||X===26||X===27){c=v=N;continue t}P=P.parentNode}}c=c.return}er(function(){var ut=v,vt=ua(o),Tt=[];t:{var ft=wu.get(e);if(ft!==void 0){var mt=lo,Yt=e;switch(e){case"keypress":if(Fe(o)===0)break t;case"keydown":case"keyup":mt=gh;break;case"focusin":Yt="focus",mt=bl;break;case"focusout":Yt="blur",mt=bl;break;case"beforeblur":case"afterblur":mt=bl;break;case"click":if(o.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":mt=ha;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":mt=dh;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":mt=yh;break;case Su:case ar:case go:mt=fh;break;case Nl:mt=vh;break;case"scroll":case"scrollend":mt=uh;break;case"wheel":mt=hu;break;case"copy":case"cut":case"paste":mt=yl;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":mt=xl;break;case"toggle":case"beforetoggle":mt=Li}var Gt=(n&4)!==0,xe=!Gt&&(e==="scroll"||e==="scrollend"),at=Gt?ft!==null?ft+"Capture":null:ft;Gt=[];for(var nt=ut,ct;nt!==null;){var wt=nt;if(ct=wt.stateNode,wt=wt.tag,wt!==5&&wt!==26&&wt!==27||ct===null||at===null||(wt=fe(nt,at),wt!=null&&Gt.push(Jl(nt,wt,ct))),xe)break;nt=nt.return}0<Gt.length&&(ft=new mt(ft,Yt,null,o,vt),Tt.push({event:ft,listeners:Gt}))}}if((n&7)===0){t:{if(ft=e==="mouseover"||e==="pointerover",mt=e==="mouseout"||e==="pointerout",ft&&o!==oo&&(Yt=o.relatedTarget||o.fromElement)&&(oi(Yt)||Yt[na]))break t;if((mt||ft)&&(ft=vt.window===vt?vt:(ft=vt.ownerDocument)?ft.defaultView||ft.parentWindow:window,mt?(Yt=o.relatedTarget||o.toElement,mt=ut,Yt=Yt?oi(Yt):null,Yt!==null&&(xe=d(Yt),Gt=Yt.tag,Yt!==xe||Gt!==5&&Gt!==27&&Gt!==6)&&(Yt=null)):(mt=null,Yt=ut),mt!==Yt)){if(Gt=ha,wt="onMouseLeave",at="onMouseEnter",nt="mouse",(e==="pointerout"||e==="pointerover")&&(Gt=xl,wt="onPointerLeave",at="onPointerEnter",nt="pointer"),xe=mt==null?ft:wr(mt),ct=Yt==null?ft:wr(Yt),ft=new Gt(wt,nt+"leave",mt,o,vt),ft.target=xe,ft.relatedTarget=ct,wt=null,oi(vt)===ut&&(Gt=new Gt(at,nt+"enter",Yt,o,vt),Gt.target=ct,Gt.relatedTarget=xe,wt=Gt),xe=wt,mt&&Yt)e:{for(Gt=mt,at=Yt,nt=0,ct=Gt;ct;ct=Ds(ct))nt++;for(ct=0,wt=at;wt;wt=Ds(wt))ct++;for(;0<nt-ct;)Gt=Ds(Gt),nt--;for(;0<ct-nt;)at=Ds(at),ct--;for(;nt--;){if(Gt===at||at!==null&&Gt===at.alternate)break e;Gt=Ds(Gt),at=Ds(at)}Gt=null}else Gt=null;mt!==null&&py(Tt,ft,mt,Gt,!1),Yt!==null&&xe!==null&&py(Tt,xe,Yt,Gt,!0)}}t:{if(ft=ut?wr(ut):window,mt=ft.nodeName&&ft.nodeName.toLowerCase(),mt==="select"||mt==="input"&&ft.type==="file")var Bt=ga;else if(Ri(ft))if(wl)Bt=wh;else{Bt=Sh;var ee=El}else mt=ft.nodeName,!mt||mt.toLowerCase()!=="input"||ft.type!=="checkbox"&&ft.type!=="radio"?ut&&ao(ut.elementType)&&(Bt=ga):Bt=Xr;if(Bt&&(Bt=Bt(e,ut))){yu(Tt,Bt,o,vt);break t}ee&&ee(e,ft,ut),e==="focusout"&&ut&&ft.type==="number"&&ut.memoizedProps.value!=null&&sa(ft,"number",ft.value)}switch(ee=ut?wr(ut):window,e){case"focusin":(Ri(ee)||ee.contentEditable==="true")&&(ir=ee,va=ut,Pi=null);break;case"focusout":Pi=va=ir=null;break;case"mousedown":os=!0;break;case"contextmenu":case"mouseup":case"dragend":os=!1,xu(Tt,o,vt);break;case"selectionchange":if(as)break;case"keydown":case"keyup":xu(Tt,o,vt)}var Ht;if(Bi)t:{switch(e){case"compositionstart":var Zt="onCompositionStart";break t;case"compositionend":Zt="onCompositionEnd";break t;case"compositionupdate":Zt="onCompositionUpdate";break t}Zt=void 0}else ma?ns(e,o)&&(Zt="onCompositionEnd"):e==="keydown"&&o.keyCode===229&&(Zt="onCompositionStart");Zt&&(Sl&&o.locale!=="ko"&&(ma||Zt!=="onCompositionStart"?Zt==="onCompositionEnd"&&ma&&(Ht=fa()):(Mr=vt,Vr="value"in Mr?Mr.value:Mr.textContent,ma=!0)),ee=od(ut,Zt),0<ee.length&&(Zt=new nr(Zt,e,null,o,vt),Tt.push({event:Zt,listeners:ee}),Ht?Zt.data=Ht:(Ht=gu(o),Ht!==null&&(Zt.data=Ht)))),(Ht=mu?bu(e,o):_h(e,o))&&(Zt=od(ut,"onBeforeInput"),0<Zt.length&&(ee=new nr("onBeforeInput","beforeinput",null,o,vt),Tt.push({event:ee,listeners:Zt}),ee.data=Ht)),JS(Tt,e,ut,o,vt)}hy(Tt,n)})}function Jl(e,n,o){return{instance:e,listener:n,currentTarget:o}}function od(e,n){for(var o=n+"Capture",c=[];e!==null;){var m=e,v=m.stateNode;if(m=m.tag,m!==5&&m!==26&&m!==27||v===null||(m=fe(e,o),m!=null&&c.unshift(Jl(e,m,v)),m=fe(e,n),m!=null&&c.push(Jl(e,m,v))),e.tag===3)return c;e=e.return}return[]}function Ds(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function py(e,n,o,c,m){for(var v=n._reactName,N=[];o!==null&&o!==c;){var P=o,X=P.alternate,ut=P.stateNode;if(P=P.tag,X!==null&&X===c)break;P!==5&&P!==26&&P!==27||ut===null||(X=ut,m?(ut=fe(o,v),ut!=null&&N.unshift(Jl(o,ut,X))):m||(ut=fe(o,v),ut!=null&&N.push(Jl(o,ut,X)))),o=o.return}N.length!==0&&e.push({event:n,listeners:N})}var rw=/\r\n?/g,iw=/\u0000|\uFFFD/g;function gy(e){return(typeof e=="string"?e:""+e).replace(rw,`
`).replace(iw,"")}function by(e,n){return n=gy(n),gy(e)===n}function sd(){}function ve(e,n,o,c,m,v){switch(o){case"children":typeof c=="string"?n==="body"||n==="textarea"&&c===""||Tr(e,c):(typeof c=="number"||typeof c=="bigint")&&n!=="body"&&Tr(e,""+c);break;case"className":Vo(e,"class",c);break;case"tabIndex":Vo(e,"tabindex",c);break;case"dir":case"role":case"viewBox":case"width":case"height":Vo(e,o,c);break;case"style":la(e,c,v);break;case"data":if(n!=="object"){Vo(e,"data",c);break}case"src":case"href":if(c===""&&(n!=="a"||o!=="href")){e.removeAttribute(o);break}if(c==null||typeof c=="function"||typeof c=="symbol"||typeof c=="boolean"){e.removeAttribute(o);break}c=ca(""+c),e.setAttribute(o,c);break;case"action":case"formAction":if(typeof c=="function"){e.setAttribute(o,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof v=="function"&&(o==="formAction"?(n!=="input"&&ve(e,n,"name",m.name,m,null),ve(e,n,"formEncType",m.formEncType,m,null),ve(e,n,"formMethod",m.formMethod,m,null),ve(e,n,"formTarget",m.formTarget,m,null)):(ve(e,n,"encType",m.encType,m,null),ve(e,n,"method",m.method,m,null),ve(e,n,"target",m.target,m,null)));if(c==null||typeof c=="symbol"||typeof c=="boolean"){e.removeAttribute(o);break}c=ca(""+c),e.setAttribute(o,c);break;case"onClick":c!=null&&(e.onclick=sd);break;case"onScroll":c!=null&&re("scroll",e);break;case"onScrollEnd":c!=null&&re("scrollend",e);break;case"dangerouslySetInnerHTML":if(c!=null){if(typeof c!="object"||!("__html"in c))throw Error(s(61));if(o=c.__html,o!=null){if(m.children!=null)throw Error(s(60));e.innerHTML=o}}break;case"multiple":e.multiple=c&&typeof c!="function"&&typeof c!="symbol";break;case"muted":e.muted=c&&typeof c!="function"&&typeof c!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(c==null||typeof c=="function"||typeof c=="boolean"||typeof c=="symbol"){e.removeAttribute("xlink:href");break}o=ca(""+c),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",o);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":c!=null&&typeof c!="function"&&typeof c!="symbol"?e.setAttribute(o,""+c):e.removeAttribute(o);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":c&&typeof c!="function"&&typeof c!="symbol"?e.setAttribute(o,""):e.removeAttribute(o);break;case"capture":case"download":c===!0?e.setAttribute(o,""):c!==!1&&c!=null&&typeof c!="function"&&typeof c!="symbol"?e.setAttribute(o,c):e.removeAttribute(o);break;case"cols":case"rows":case"size":case"span":c!=null&&typeof c!="function"&&typeof c!="symbol"&&!isNaN(c)&&1<=c?e.setAttribute(o,c):e.removeAttribute(o);break;case"rowSpan":case"start":c==null||typeof c=="function"||typeof c=="symbol"||isNaN(c)?e.removeAttribute(o):e.setAttribute(o,c);break;case"popover":re("beforetoggle",e),re("toggle",e),Fo(e,"popover",c);break;case"xlinkActuate":Fr(e,"http://www.w3.org/1999/xlink","xlink:actuate",c);break;case"xlinkArcrole":Fr(e,"http://www.w3.org/1999/xlink","xlink:arcrole",c);break;case"xlinkRole":Fr(e,"http://www.w3.org/1999/xlink","xlink:role",c);break;case"xlinkShow":Fr(e,"http://www.w3.org/1999/xlink","xlink:show",c);break;case"xlinkTitle":Fr(e,"http://www.w3.org/1999/xlink","xlink:title",c);break;case"xlinkType":Fr(e,"http://www.w3.org/1999/xlink","xlink:type",c);break;case"xmlBase":Fr(e,"http://www.w3.org/XML/1998/namespace","xml:base",c);break;case"xmlLang":Fr(e,"http://www.w3.org/XML/1998/namespace","xml:lang",c);break;case"xmlSpace":Fr(e,"http://www.w3.org/XML/1998/namespace","xml:space",c);break;case"is":Fo(e,"is",c);break;case"innerText":case"textContent":break;default:(!(2<o.length)||o[0]!=="o"&&o[0]!=="O"||o[1]!=="n"&&o[1]!=="N")&&(o=ml.get(o)||o,Fo(e,o,c))}}function Bm(e,n,o,c,m,v){switch(o){case"style":la(e,c,v);break;case"dangerouslySetInnerHTML":if(c!=null){if(typeof c!="object"||!("__html"in c))throw Error(s(61));if(o=c.__html,o!=null){if(m.children!=null)throw Error(s(60));e.innerHTML=o}}break;case"children":typeof c=="string"?Tr(e,c):(typeof c=="number"||typeof c=="bigint")&&Tr(e,""+c);break;case"onScroll":c!=null&&re("scroll",e);break;case"onScrollEnd":c!=null&&re("scrollend",e);break;case"onClick":c!=null&&(e.onclick=sd);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!ru.hasOwnProperty(o))t:{if(o[0]==="o"&&o[1]==="n"&&(m=o.endsWith("Capture"),n=o.slice(2,m?o.length-7:void 0),v=e[Tn]||null,v=v!=null?v[o]:null,typeof v=="function"&&e.removeEventListener(n,v,m),typeof c=="function")){typeof v!="function"&&v!==null&&(o in e?e[o]=null:e.hasAttribute(o)&&e.removeAttribute(o)),e.addEventListener(n,c,m);break t}o in e?e[o]=c:c===!0?e.setAttribute(o,""):Fo(e,o,c)}}}function _n(e,n,o){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":re("error",e),re("load",e);var c=!1,m=!1,v;for(v in o)if(o.hasOwnProperty(v)){var N=o[v];if(N!=null)switch(v){case"src":c=!0;break;case"srcSet":m=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,n));default:ve(e,n,v,N,o,null)}}m&&ve(e,n,"srcSet",o.srcSet,o,null),c&&ve(e,n,"src",o.src,o,null);return;case"input":re("invalid",e);var P=v=N=m=null,X=null,ut=null;for(c in o)if(o.hasOwnProperty(c)){var vt=o[c];if(vt!=null)switch(c){case"name":m=vt;break;case"type":N=vt;break;case"checked":X=vt;break;case"defaultChecked":ut=vt;break;case"value":v=vt;break;case"defaultValue":P=vt;break;case"children":case"dangerouslySetInnerHTML":if(vt!=null)throw Error(s(137,n));break;default:ve(e,n,c,vt,o,null)}}au(e,v,P,X,ut,N,m,!1),oa(e);return;case"select":re("invalid",e),c=N=v=null;for(m in o)if(o.hasOwnProperty(m)&&(P=o[m],P!=null))switch(m){case"value":v=P;break;case"defaultValue":N=P;break;case"multiple":c=P;default:ve(e,n,m,P,o,null)}n=v,o=N,e.multiple=!!c,n!=null?Kn(e,!!c,n,!1):o!=null&&Kn(e,!!c,o,!0);return;case"textarea":re("invalid",e),v=m=c=null;for(N in o)if(o.hasOwnProperty(N)&&(P=o[N],P!=null))switch(N){case"value":c=P;break;case"defaultValue":m=P;break;case"children":v=P;break;case"dangerouslySetInnerHTML":if(P!=null)throw Error(s(91));break;default:ve(e,n,N,P,o,null)}si(e,c,m,v),oa(e);return;case"option":for(X in o)if(o.hasOwnProperty(X)&&(c=o[X],c!=null))switch(X){case"selected":e.selected=c&&typeof c!="function"&&typeof c!="symbol";break;default:ve(e,n,X,c,o,null)}return;case"dialog":re("beforetoggle",e),re("toggle",e),re("cancel",e),re("close",e);break;case"iframe":case"object":re("load",e);break;case"video":case"audio":for(c=0;c<Ql.length;c++)re(Ql[c],e);break;case"image":re("error",e),re("load",e);break;case"details":re("toggle",e);break;case"embed":case"source":case"link":re("error",e),re("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(ut in o)if(o.hasOwnProperty(ut)&&(c=o[ut],c!=null))switch(ut){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,n));default:ve(e,n,ut,c,o,null)}return;default:if(ao(n)){for(vt in o)o.hasOwnProperty(vt)&&(c=o[vt],c!==void 0&&Bm(e,n,vt,c,o,void 0));return}}for(P in o)o.hasOwnProperty(P)&&(c=o[P],c!=null&&ve(e,n,P,c,o,null))}function aw(e,n,o,c){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var m=null,v=null,N=null,P=null,X=null,ut=null,vt=null;for(mt in o){var Tt=o[mt];if(o.hasOwnProperty(mt)&&Tt!=null)switch(mt){case"checked":break;case"value":break;case"defaultValue":X=Tt;default:c.hasOwnProperty(mt)||ve(e,n,mt,null,c,Tt)}}for(var ft in c){var mt=c[ft];if(Tt=o[ft],c.hasOwnProperty(ft)&&(mt!=null||Tt!=null))switch(ft){case"type":v=mt;break;case"name":m=mt;break;case"checked":ut=mt;break;case"defaultChecked":vt=mt;break;case"value":N=mt;break;case"defaultValue":P=mt;break;case"children":case"dangerouslySetInnerHTML":if(mt!=null)throw Error(s(137,n));break;default:mt!==Tt&&ve(e,n,ft,mt,c,Tt)}}En(e,N,P,X,ut,vt,v,m);return;case"select":mt=N=P=ft=null;for(v in o)if(X=o[v],o.hasOwnProperty(v)&&X!=null)switch(v){case"value":break;case"multiple":mt=X;default:c.hasOwnProperty(v)||ve(e,n,v,null,c,X)}for(m in c)if(v=c[m],X=o[m],c.hasOwnProperty(m)&&(v!=null||X!=null))switch(m){case"value":ft=v;break;case"defaultValue":P=v;break;case"multiple":N=v;default:v!==X&&ve(e,n,m,v,c,X)}n=P,o=N,c=mt,ft!=null?Kn(e,!!o,ft,!1):!!c!=!!o&&(n!=null?Kn(e,!!o,n,!0):Kn(e,!!o,o?[]:"",!1));return;case"textarea":mt=ft=null;for(P in o)if(m=o[P],o.hasOwnProperty(P)&&m!=null&&!c.hasOwnProperty(P))switch(P){case"value":break;case"children":break;default:ve(e,n,P,null,c,m)}for(N in c)if(m=c[N],v=o[N],c.hasOwnProperty(N)&&(m!=null||v!=null))switch(N){case"value":ft=m;break;case"defaultValue":mt=m;break;case"children":break;case"dangerouslySetInnerHTML":if(m!=null)throw Error(s(91));break;default:m!==v&&ve(e,n,N,m,c,v)}Ue(e,ft,mt);return;case"option":for(var Yt in o)if(ft=o[Yt],o.hasOwnProperty(Yt)&&ft!=null&&!c.hasOwnProperty(Yt))switch(Yt){case"selected":e.selected=!1;break;default:ve(e,n,Yt,null,c,ft)}for(X in c)if(ft=c[X],mt=o[X],c.hasOwnProperty(X)&&ft!==mt&&(ft!=null||mt!=null))switch(X){case"selected":e.selected=ft&&typeof ft!="function"&&typeof ft!="symbol";break;default:ve(e,n,X,ft,c,mt)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Gt in o)ft=o[Gt],o.hasOwnProperty(Gt)&&ft!=null&&!c.hasOwnProperty(Gt)&&ve(e,n,Gt,null,c,ft);for(ut in c)if(ft=c[ut],mt=o[ut],c.hasOwnProperty(ut)&&ft!==mt&&(ft!=null||mt!=null))switch(ut){case"children":case"dangerouslySetInnerHTML":if(ft!=null)throw Error(s(137,n));break;default:ve(e,n,ut,ft,c,mt)}return;default:if(ao(n)){for(var xe in o)ft=o[xe],o.hasOwnProperty(xe)&&ft!==void 0&&!c.hasOwnProperty(xe)&&Bm(e,n,xe,void 0,c,ft);for(vt in c)ft=c[vt],mt=o[vt],!c.hasOwnProperty(vt)||ft===mt||ft===void 0&&mt===void 0||Bm(e,n,vt,ft,c,mt);return}}for(var at in o)ft=o[at],o.hasOwnProperty(at)&&ft!=null&&!c.hasOwnProperty(at)&&ve(e,n,at,null,c,ft);for(Tt in c)ft=c[Tt],mt=o[Tt],!c.hasOwnProperty(Tt)||ft===mt||ft==null&&mt==null||ve(e,n,Tt,ft,c,mt)}var Rm=null,Pm=null;function ld(e){return e.nodeType===9?e:e.ownerDocument}function yy(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function vy(e,n){if(e===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&n==="foreignObject"?0:e}function zm(e,n){return e==="textarea"||e==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var Hm=null;function ow(){var e=window.event;return e&&e.type==="popstate"?e===Hm?!1:(Hm=e,!0):(Hm=null,!1)}var xy=typeof setTimeout=="function"?setTimeout:void 0,sw=typeof clearTimeout=="function"?clearTimeout:void 0,_y=typeof Promise=="function"?Promise:void 0,lw=typeof queueMicrotask=="function"?queueMicrotask:typeof _y<"u"?function(e){return _y.resolve(null).then(e).catch(cw)}:xy;function cw(e){setTimeout(function(){throw e})}function $a(e){return e==="head"}function Sy(e,n){var o=n,c=0,m=0;do{var v=o.nextSibling;if(e.removeChild(o),v&&v.nodeType===8)if(o=v.data,o==="/$"){if(0<c&&8>c){o=c;var N=e.ownerDocument;if(o&1&&tc(N.documentElement),o&2&&tc(N.body),o&4)for(o=N.head,tc(o),N=o.firstChild;N;){var P=N.nextSibling,X=N.nodeName;N[ra]||X==="SCRIPT"||X==="STYLE"||X==="LINK"&&N.rel.toLowerCase()==="stylesheet"||o.removeChild(N),N=P}}if(m===0){e.removeChild(v),lc(n);return}m--}else o==="$"||o==="$?"||o==="$!"?m++:c=o.charCodeAt(0)-48;else c=0;o=v}while(o);lc(n)}function $m(e){var n=e.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var o=n;switch(n=n.nextSibling,o.nodeName){case"HTML":case"HEAD":case"BODY":$m(o),qo(o);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(o.rel.toLowerCase()==="stylesheet")continue}e.removeChild(o)}}function uw(e,n,o,c){for(;e.nodeType===1;){var m=o;if(e.nodeName.toLowerCase()!==n.toLowerCase()){if(!c&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(c){if(!e[ra])switch(n){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(v=e.getAttribute("rel"),v==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(v!==m.rel||e.getAttribute("href")!==(m.href==null||m.href===""?null:m.href)||e.getAttribute("crossorigin")!==(m.crossOrigin==null?null:m.crossOrigin)||e.getAttribute("title")!==(m.title==null?null:m.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(v=e.getAttribute("src"),(v!==(m.src==null?null:m.src)||e.getAttribute("type")!==(m.type==null?null:m.type)||e.getAttribute("crossorigin")!==(m.crossOrigin==null?null:m.crossOrigin))&&v&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(n==="input"&&e.type==="hidden"){var v=m.name==null?null:""+m.name;if(m.type==="hidden"&&e.getAttribute("name")===v)return e}else return e;if(e=ti(e.nextSibling),e===null)break}return null}function dw(e,n,o){if(n==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!o||(e=ti(e.nextSibling),e===null))return null;return e}function Im(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState==="complete"}function fw(e,n){var o=e.ownerDocument;if(e.data!=="$?"||o.readyState==="complete")n();else{var c=function(){n(),o.removeEventListener("DOMContentLoaded",c)};o.addEventListener("DOMContentLoaded",c),e._reactRetry=c}}function ti(e){for(;e!=null;e=e.nextSibling){var n=e.nodeType;if(n===1||n===3)break;if(n===8){if(n=e.data,n==="$"||n==="$!"||n==="$?"||n==="F!"||n==="F")break;if(n==="/$")return null}}return e}var Um=null;function wy(e){e=e.previousSibling;for(var n=0;e;){if(e.nodeType===8){var o=e.data;if(o==="$"||o==="$!"||o==="$?"){if(n===0)return e;n--}else o==="/$"&&n++}e=e.previousSibling}return null}function Ty(e,n,o){switch(n=ld(o),e){case"html":if(e=n.documentElement,!e)throw Error(s(452));return e;case"head":if(e=n.head,!e)throw Error(s(453));return e;case"body":if(e=n.body,!e)throw Error(s(454));return e;default:throw Error(s(451))}}function tc(e){for(var n=e.attributes;n.length;)e.removeAttributeNode(n[0]);qo(e)}var Cr=new Map,Ey=new Set;function cd(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var Xi=rt.d;rt.d={f:hw,r:mw,D:pw,C:gw,L:bw,m:yw,X:xw,S:vw,M:_w};function hw(){var e=Xi.f(),n=td();return e||n}function mw(e){var n=wi(e);n!==null&&n.tag===5&&n.type==="form"?Yg(n):Xi.r(e)}var js=typeof document>"u"?null:document;function My(e,n,o){var c=js;if(c&&typeof n=="string"&&n){var m=bn(n);m='link[rel="'+e+'"][href="'+m+'"]',typeof o=="string"&&(m+='[crossorigin="'+o+'"]'),Ey.has(m)||(Ey.add(m),e={rel:e,crossOrigin:o,href:n},c.querySelector(m)===null&&(n=c.createElement("link"),_n(n,"link",e),Qe(n),c.head.appendChild(n)))}}function pw(e){Xi.D(e),My("dns-prefetch",e,null)}function gw(e,n){Xi.C(e,n),My("preconnect",e,n)}function bw(e,n,o){Xi.L(e,n,o);var c=js;if(c&&e&&n){var m='link[rel="preload"][as="'+bn(n)+'"]';n==="image"&&o&&o.imageSrcSet?(m+='[imagesrcset="'+bn(o.imageSrcSet)+'"]',typeof o.imageSizes=="string"&&(m+='[imagesizes="'+bn(o.imageSizes)+'"]')):m+='[href="'+bn(e)+'"]';var v=m;switch(n){case"style":v=ks(e);break;case"script":v=Os(e)}Cr.has(v)||(e=_({rel:"preload",href:n==="image"&&o&&o.imageSrcSet?void 0:e,as:n},o),Cr.set(v,e),c.querySelector(m)!==null||n==="style"&&c.querySelector(ec(v))||n==="script"&&c.querySelector(nc(v))||(n=c.createElement("link"),_n(n,"link",e),Qe(n),c.head.appendChild(n)))}}function yw(e,n){Xi.m(e,n);var o=js;if(o&&e){var c=n&&typeof n.as=="string"?n.as:"script",m='link[rel="modulepreload"][as="'+bn(c)+'"][href="'+bn(e)+'"]',v=m;switch(c){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":v=Os(e)}if(!Cr.has(v)&&(e=_({rel:"modulepreload",href:e},n),Cr.set(v,e),o.querySelector(m)===null)){switch(c){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(o.querySelector(nc(v)))return}c=o.createElement("link"),_n(c,"link",e),Qe(c),o.head.appendChild(c)}}}function vw(e,n,o){Xi.S(e,n,o);var c=js;if(c&&e){var m=Ti(c).hoistableStyles,v=ks(e);n=n||"default";var N=m.get(v);if(!N){var P={loading:0,preload:null};if(N=c.querySelector(ec(v)))P.loading=5;else{e=_({rel:"stylesheet",href:e,"data-precedence":n},o),(o=Cr.get(v))&&Gm(e,o);var X=N=c.createElement("link");Qe(X),_n(X,"link",e),X._p=new Promise(function(ut,vt){X.onload=ut,X.onerror=vt}),X.addEventListener("load",function(){P.loading|=1}),X.addEventListener("error",function(){P.loading|=2}),P.loading|=4,ud(N,n,c)}N={type:"stylesheet",instance:N,count:1,state:P},m.set(v,N)}}}function xw(e,n){Xi.X(e,n);var o=js;if(o&&e){var c=Ti(o).hoistableScripts,m=Os(e),v=c.get(m);v||(v=o.querySelector(nc(m)),v||(e=_({src:e,async:!0},n),(n=Cr.get(m))&&Zm(e,n),v=o.createElement("script"),Qe(v),_n(v,"link",e),o.head.appendChild(v)),v={type:"script",instance:v,count:1,state:null},c.set(m,v))}}function _w(e,n){Xi.M(e,n);var o=js;if(o&&e){var c=Ti(o).hoistableScripts,m=Os(e),v=c.get(m);v||(v=o.querySelector(nc(m)),v||(e=_({src:e,async:!0,type:"module"},n),(n=Cr.get(m))&&Zm(e,n),v=o.createElement("script"),Qe(v),_n(v,"link",e),o.head.appendChild(v)),v={type:"script",instance:v,count:1,state:null},c.set(m,v))}}function Ny(e,n,o,c){var m=(m=U.current)?cd(m):null;if(!m)throw Error(s(446));switch(e){case"meta":case"title":return null;case"style":return typeof o.precedence=="string"&&typeof o.href=="string"?(n=ks(o.href),o=Ti(m).hoistableStyles,c=o.get(n),c||(c={type:"style",instance:null,count:0,state:null},o.set(n,c)),c):{type:"void",instance:null,count:0,state:null};case"link":if(o.rel==="stylesheet"&&typeof o.href=="string"&&typeof o.precedence=="string"){e=ks(o.href);var v=Ti(m).hoistableStyles,N=v.get(e);if(N||(m=m.ownerDocument||m,N={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},v.set(e,N),(v=m.querySelector(ec(e)))&&!v._p&&(N.instance=v,N.state.loading=5),Cr.has(e)||(o={rel:"preload",as:"style",href:o.href,crossOrigin:o.crossOrigin,integrity:o.integrity,media:o.media,hrefLang:o.hrefLang,referrerPolicy:o.referrerPolicy},Cr.set(e,o),v||Sw(m,e,o,N.state))),n&&c===null)throw Error(s(528,""));return N}if(n&&c!==null)throw Error(s(529,""));return null;case"script":return n=o.async,o=o.src,typeof o=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=Os(o),o=Ti(m).hoistableScripts,c=o.get(n),c||(c={type:"script",instance:null,count:0,state:null},o.set(n,c)),c):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,e))}}function ks(e){return'href="'+bn(e)+'"'}function ec(e){return'link[rel="stylesheet"]['+e+"]"}function Ay(e){return _({},e,{"data-precedence":e.precedence,precedence:null})}function Sw(e,n,o,c){e.querySelector('link[rel="preload"][as="style"]['+n+"]")?c.loading=1:(n=e.createElement("link"),c.preload=n,n.addEventListener("load",function(){return c.loading|=1}),n.addEventListener("error",function(){return c.loading|=2}),_n(n,"link",o),Qe(n),e.head.appendChild(n))}function Os(e){return'[src="'+bn(e)+'"]'}function nc(e){return"script[async]"+e}function Dy(e,n,o){if(n.count++,n.instance===null)switch(n.type){case"style":var c=e.querySelector('style[data-href~="'+bn(o.href)+'"]');if(c)return n.instance=c,Qe(c),c;var m=_({},o,{"data-href":o.href,"data-precedence":o.precedence,href:null,precedence:null});return c=(e.ownerDocument||e).createElement("style"),Qe(c),_n(c,"style",m),ud(c,o.precedence,e),n.instance=c;case"stylesheet":m=ks(o.href);var v=e.querySelector(ec(m));if(v)return n.state.loading|=4,n.instance=v,Qe(v),v;c=Ay(o),(m=Cr.get(m))&&Gm(c,m),v=(e.ownerDocument||e).createElement("link"),Qe(v);var N=v;return N._p=new Promise(function(P,X){N.onload=P,N.onerror=X}),_n(v,"link",c),n.state.loading|=4,ud(v,o.precedence,e),n.instance=v;case"script":return v=Os(o.src),(m=e.querySelector(nc(v)))?(n.instance=m,Qe(m),m):(c=o,(m=Cr.get(v))&&(c=_({},o),Zm(c,m)),e=e.ownerDocument||e,m=e.createElement("script"),Qe(m),_n(m,"link",c),e.head.appendChild(m),n.instance=m);case"void":return null;default:throw Error(s(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(c=n.instance,n.state.loading|=4,ud(c,o.precedence,e));return n.instance}function ud(e,n,o){for(var c=o.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),m=c.length?c[c.length-1]:null,v=m,N=0;N<c.length;N++){var P=c[N];if(P.dataset.precedence===n)v=P;else if(v!==m)break}v?v.parentNode.insertBefore(e,v.nextSibling):(n=o.nodeType===9?o.head:o,n.insertBefore(e,n.firstChild))}function Gm(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.title==null&&(e.title=n.title)}function Zm(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.integrity==null&&(e.integrity=n.integrity)}var dd=null;function jy(e,n,o){if(dd===null){var c=new Map,m=dd=new Map;m.set(o,c)}else m=dd,c=m.get(o),c||(c=new Map,m.set(o,c));if(c.has(e))return c;for(c.set(e,null),o=o.getElementsByTagName(e),m=0;m<o.length;m++){var v=o[m];if(!(v[ra]||v[sn]||e==="link"&&v.getAttribute("rel")==="stylesheet")&&v.namespaceURI!=="http://www.w3.org/2000/svg"){var N=v.getAttribute(n)||"";N=e+N;var P=c.get(N);P?P.push(v):c.set(N,[v])}}return c}function ky(e,n,o){e=e.ownerDocument||e,e.head.insertBefore(o,n==="title"?e.querySelector("head > title"):null)}function ww(e,n,o){if(o===1||n.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;switch(n.rel){case"stylesheet":return e=n.disabled,typeof n.precedence=="string"&&e==null;default:return!0}case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function Oy(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}var rc=null;function Tw(){}function Ew(e,n,o){if(rc===null)throw Error(s(475));var c=rc;if(n.type==="stylesheet"&&(typeof o.media!="string"||matchMedia(o.media).matches!==!1)&&(n.state.loading&4)===0){if(n.instance===null){var m=ks(o.href),v=e.querySelector(ec(m));if(v){e=v._p,e!==null&&typeof e=="object"&&typeof e.then=="function"&&(c.count++,c=fd.bind(c),e.then(c,c)),n.state.loading|=4,n.instance=v,Qe(v);return}v=e.ownerDocument||e,o=Ay(o),(m=Cr.get(m))&&Gm(o,m),v=v.createElement("link"),Qe(v);var N=v;N._p=new Promise(function(P,X){N.onload=P,N.onerror=X}),_n(v,"link",o),n.instance=v}c.stylesheets===null&&(c.stylesheets=new Map),c.stylesheets.set(n,e),(e=n.state.preload)&&(n.state.loading&3)===0&&(c.count++,n=fd.bind(c),e.addEventListener("load",n),e.addEventListener("error",n))}}function Mw(){if(rc===null)throw Error(s(475));var e=rc;return e.stylesheets&&e.count===0&&Ym(e,e.stylesheets),0<e.count?function(n){var o=setTimeout(function(){if(e.stylesheets&&Ym(e,e.stylesheets),e.unsuspend){var c=e.unsuspend;e.unsuspend=null,c()}},6e4);return e.unsuspend=n,function(){e.unsuspend=null,clearTimeout(o)}}:null}function fd(){if(this.count--,this.count===0){if(this.stylesheets)Ym(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var hd=null;function Ym(e,n){e.stylesheets=null,e.unsuspend!==null&&(e.count++,hd=new Map,n.forEach(Nw,e),hd=null,fd.call(e))}function Nw(e,n){if(!(n.state.loading&4)){var o=hd.get(e);if(o)var c=o.get(null);else{o=new Map,hd.set(e,o);for(var m=e.querySelectorAll("link[data-precedence],style[data-precedence]"),v=0;v<m.length;v++){var N=m[v];(N.nodeName==="LINK"||N.getAttribute("media")!=="not all")&&(o.set(N.dataset.precedence,N),c=N)}c&&o.set(null,c)}m=n.instance,N=m.getAttribute("data-precedence"),v=o.get(N)||c,v===c&&o.set(null,m),o.set(N,m),this.count++,c=fd.bind(this),m.addEventListener("load",c),m.addEventListener("error",c),v?v.parentNode.insertBefore(m,v.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(m,e.firstChild)),n.state.loading|=4}}var ic={$$typeof:k,Provider:null,Consumer:null,_currentValue:ot,_currentValue2:ot,_threadCount:0};function Aw(e,n,o,c,m,v,N,P){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Fn(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Fn(0),this.hiddenUpdates=Fn(null),this.identifierPrefix=c,this.onUncaughtError=m,this.onCaughtError=v,this.onRecoverableError=N,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=P,this.incompleteTransitions=new Map}function Cy(e,n,o,c,m,v,N,P,X,ut,vt,Tt){return e=new Aw(e,n,o,N,P,X,ut,Tt),n=1,v===!0&&(n|=24),v=Rn(3,null,null,n),e.current=v,v.stateNode=e,n=Mh(),n.refCount++,e.pooledCache=n,n.refCount++,v.memoizedState={element:c,isDehydrated:o,cache:n},jh(v),e}function Ly(e){return e?(e=Ii,e):Ii}function By(e,n,o,c,m,v){m=Ly(m),c.context===null?c.context=m:c.pendingContext=m,c=Na(n),c.payload={element:o},v=v===void 0?null:v,v!==null&&(c.callback=v),o=Aa(e,c,n),o!==null&&(fr(o,e,n),Ll(o,e,n))}function Ry(e,n){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var o=e.retryLane;e.retryLane=o!==0&&o<n?o:n}}function qm(e,n){Ry(e,n),(e=e.alternate)&&Ry(e,n)}function Py(e){if(e.tag===13){var n=Sa(e,67108864);n!==null&&fr(n,e,67108864),qm(e,67108864)}}var md=!0;function Dw(e,n,o,c){var m=Z.T;Z.T=null;var v=rt.p;try{rt.p=2,Fm(e,n,o,c)}finally{rt.p=v,Z.T=m}}function jw(e,n,o,c){var m=Z.T;Z.T=null;var v=rt.p;try{rt.p=8,Fm(e,n,o,c)}finally{rt.p=v,Z.T=m}}function Fm(e,n,o,c){if(md){var m=Vm(c);if(m===null)Lm(e,n,c,pd,o),Hy(e,c);else if(Ow(m,e,n,o,c))c.stopPropagation();else if(Hy(e,c),n&4&&-1<kw.indexOf(e)){for(;m!==null;){var v=wi(m);if(v!==null)switch(v.tag){case 3:if(v=v.stateNode,v.current.memoizedState.isDehydrated){var N=pn(v.pendingLanes);if(N!==0){var P=v;for(P.pendingLanes|=2,P.entangledLanes|=2;N;){var X=1<<31-Re(N);P.entanglements[1]|=X,N&=~X}bi(v),(ge&6)===0&&(Qu=It()+500,Wl(0))}}break;case 13:P=Sa(v,2),P!==null&&fr(P,v,2),td(),qm(v,2)}if(v=Vm(c),v===null&&Lm(e,n,c,pd,o),v===m)break;m=v}m!==null&&c.stopPropagation()}else Lm(e,n,c,null,o)}}function Vm(e){return e=ua(e),Km(e)}var pd=null;function Km(e){if(pd=null,e=oi(e),e!==null){var n=d(e);if(n===null)e=null;else{var o=n.tag;if(o===13){if(e=f(n),e!==null)return e;e=null}else if(o===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;e=null}else n!==e&&(e=null)}}return pd=e,null}function zy(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Wt()){case xt:return 2;case Rt:return 8;case _t:case de:return 32;case Ie:return 268435456;default:return 32}default:return 32}}var Xm=!1,Ia=null,Ua=null,Ga=null,ac=new Map,oc=new Map,Za=[],kw="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Hy(e,n){switch(e){case"focusin":case"focusout":Ia=null;break;case"dragenter":case"dragleave":Ua=null;break;case"mouseover":case"mouseout":Ga=null;break;case"pointerover":case"pointerout":ac.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":oc.delete(n.pointerId)}}function sc(e,n,o,c,m,v){return e===null||e.nativeEvent!==v?(e={blockedOn:n,domEventName:o,eventSystemFlags:c,nativeEvent:v,targetContainers:[m]},n!==null&&(n=wi(n),n!==null&&Py(n)),e):(e.eventSystemFlags|=c,n=e.targetContainers,m!==null&&n.indexOf(m)===-1&&n.push(m),e)}function Ow(e,n,o,c,m){switch(n){case"focusin":return Ia=sc(Ia,e,n,o,c,m),!0;case"dragenter":return Ua=sc(Ua,e,n,o,c,m),!0;case"mouseover":return Ga=sc(Ga,e,n,o,c,m),!0;case"pointerover":var v=m.pointerId;return ac.set(v,sc(ac.get(v)||null,e,n,o,c,m)),!0;case"gotpointercapture":return v=m.pointerId,oc.set(v,sc(oc.get(v)||null,e,n,o,c,m)),!0}return!1}function $y(e){var n=oi(e.target);if(n!==null){var o=d(n);if(o!==null){if(n=o.tag,n===13){if(n=f(o),n!==null){e.blockedOn=n,dl(e.priority,function(){if(o.tag===13){var c=dr();c=cl(c);var m=Sa(o,c);m!==null&&fr(m,o,c),qm(o,c)}});return}}else if(n===3&&o.stateNode.current.memoizedState.isDehydrated){e.blockedOn=o.tag===3?o.stateNode.containerInfo:null;return}}}e.blockedOn=null}function gd(e){if(e.blockedOn!==null)return!1;for(var n=e.targetContainers;0<n.length;){var o=Vm(e.nativeEvent);if(o===null){o=e.nativeEvent;var c=new o.constructor(o.type,o);oo=c,o.target.dispatchEvent(c),oo=null}else return n=wi(o),n!==null&&Py(n),e.blockedOn=o,!1;n.shift()}return!0}function Iy(e,n,o){gd(e)&&o.delete(n)}function Cw(){Xm=!1,Ia!==null&&gd(Ia)&&(Ia=null),Ua!==null&&gd(Ua)&&(Ua=null),Ga!==null&&gd(Ga)&&(Ga=null),ac.forEach(Iy),oc.forEach(Iy)}function bd(e,n){e.blockedOn===n&&(e.blockedOn=null,Xm||(Xm=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,Cw)))}var yd=null;function Uy(e){yd!==e&&(yd=e,t.unstable_scheduleCallback(t.unstable_NormalPriority,function(){yd===e&&(yd=null);for(var n=0;n<e.length;n+=3){var o=e[n],c=e[n+1],m=e[n+2];if(typeof c!="function"){if(Km(c||o)===null)continue;break}var v=wi(o);v!==null&&(e.splice(n,3),n-=3,Kh(v,{pending:!0,data:m,method:o.method,action:c},c,m))}}))}function lc(e){function n(X){return bd(X,e)}Ia!==null&&bd(Ia,e),Ua!==null&&bd(Ua,e),Ga!==null&&bd(Ga,e),ac.forEach(n),oc.forEach(n);for(var o=0;o<Za.length;o++){var c=Za[o];c.blockedOn===e&&(c.blockedOn=null)}for(;0<Za.length&&(o=Za[0],o.blockedOn===null);)$y(o),o.blockedOn===null&&Za.shift();if(o=(e.ownerDocument||e).$$reactFormReplay,o!=null)for(c=0;c<o.length;c+=3){var m=o[c],v=o[c+1],N=m[Tn]||null;if(typeof v=="function")N||Uy(o);else if(N){var P=null;if(v&&v.hasAttribute("formAction")){if(m=v,N=v[Tn]||null)P=N.formAction;else if(Km(m)!==null)continue}else P=N.action;typeof P=="function"?o[c+1]=P:(o.splice(c,3),c-=3),Uy(o)}}}function Wm(e){this._internalRoot=e}vd.prototype.render=Wm.prototype.render=function(e){var n=this._internalRoot;if(n===null)throw Error(s(409));var o=n.current,c=dr();By(o,c,e,n,null,null)},vd.prototype.unmount=Wm.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var n=e.containerInfo;By(e.current,2,null,e,null,null),td(),n[na]=null}};function vd(e){this._internalRoot=e}vd.prototype.unstable_scheduleHydration=function(e){if(e){var n=tu();e={blockedOn:null,target:e,priority:n};for(var o=0;o<Za.length&&n!==0&&n<Za[o].priority;o++);Za.splice(o,0,e),o===0&&$y(e)}};var Gy=r.version;if(Gy!=="19.1.1")throw Error(s(527,Gy,"19.1.1"));rt.findDOMNode=function(e){var n=e._reactInternals;if(n===void 0)throw typeof e.render=="function"?Error(s(188)):(e=Object.keys(e).join(","),Error(s(268,e)));return e=g(n),e=e!==null?y(e):null,e=e===null?null:e.stateNode,e};var Lw={bundleType:0,version:"19.1.1",rendererPackageName:"react-dom",currentDispatcherRef:Z,reconcilerVersion:"19.1.1"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var xd=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!xd.isDisabled&&xd.supportsFiber)try{Oe=xd.inject(Lw),Be=xd}catch{}}return uc.createRoot=function(e,n){if(!u(e))throw Error(s(299));var o=!1,c="",m=ab,v=ob,N=sb,P=null;return n!=null&&(n.unstable_strictMode===!0&&(o=!0),n.identifierPrefix!==void 0&&(c=n.identifierPrefix),n.onUncaughtError!==void 0&&(m=n.onUncaughtError),n.onCaughtError!==void 0&&(v=n.onCaughtError),n.onRecoverableError!==void 0&&(N=n.onRecoverableError),n.unstable_transitionCallbacks!==void 0&&(P=n.unstable_transitionCallbacks)),n=Cy(e,1,!1,null,null,o,c,m,v,N,P,null),e[na]=n.current,Cm(e),new Wm(n)},uc.hydrateRoot=function(e,n,o){if(!u(e))throw Error(s(299));var c=!1,m="",v=ab,N=ob,P=sb,X=null,ut=null;return o!=null&&(o.unstable_strictMode===!0&&(c=!0),o.identifierPrefix!==void 0&&(m=o.identifierPrefix),o.onUncaughtError!==void 0&&(v=o.onUncaughtError),o.onCaughtError!==void 0&&(N=o.onCaughtError),o.onRecoverableError!==void 0&&(P=o.onRecoverableError),o.unstable_transitionCallbacks!==void 0&&(X=o.unstable_transitionCallbacks),o.formState!==void 0&&(ut=o.formState)),n=Cy(e,1,!0,n,o??null,c,m,v,N,P,X,ut),n.context=Ly(null),o=n.current,c=dr(),c=cl(c),m=Na(c),m.callback=null,Aa(o,m,c),o=c,n.current.lanes=o,Si(n,o),bi(n),e[na]=n.current,Cm(e),new vd(n)},uc.version="19.1.1",uc}var Jy;function Zw(){if(Jy)return t0.exports;Jy=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(r){console.error(r)}}return t(),t0.exports=Gw(),t0.exports}var Yw=Zw();let qw={data:""},Fw=t=>typeof window=="object"?((t?t.querySelector("#_goober"):window._goober)||Object.assign((t||document.head).appendChild(document.createElement("style")),{innerHTML:" ",id:"_goober"})).firstChild:t||qw,Vw=/(?:([\u0080-\uFFFF\w-%@]+) *:? *([^{;]+?);|([^;}{]*?) *{)|(}\s*)/g,Kw=/\/\*[^]*?\*\/|  +/g,tv=/\n+/g,Va=(t,r)=>{let a="",s="",u="";for(let d in t){let f=t[d];d[0]=="@"?d[1]=="i"?a=d+" "+f+";":s+=d[1]=="f"?Va(f,d):d+"{"+Va(f,d[1]=="k"?"":r)+"}":typeof f=="object"?s+=Va(f,r?r.replace(/([^,])+/g,p=>d.replace(/([^,]*:\S+\([^)]*\))|([^,])+/g,g=>/&/.test(g)?g.replace(/&/g,p):p?p+" "+g:g)):d):f!=null&&(d=/^--/.test(d)?d:d.replace(/[A-Z]/g,"-$&").toLowerCase(),u+=Va.p?Va.p(d,f):d+":"+f+";")}return a+(r&&u?r+"{"+u+"}":u)+s},Wi={},H_=t=>{if(typeof t=="object"){let r="";for(let a in t)r+=a+H_(t[a]);return r}return t},Xw=(t,r,a,s,u)=>{let d=H_(t),f=Wi[d]||(Wi[d]=(g=>{let y=0,_=11;for(;y<g.length;)_=101*_+g.charCodeAt(y++)>>>0;return"go"+_})(d));if(!Wi[f]){let g=d!==t?t:(y=>{let _,w,S=[{}];for(;_=Vw.exec(y.replace(Kw,""));)_[4]?S.shift():_[3]?(w=_[3].replace(tv," ").trim(),S.unshift(S[0][w]=S[0][w]||{})):S[0][_[1]]=_[2].replace(tv," ").trim();return S[0]})(t);Wi[f]=Va(u?{["@keyframes "+f]:g}:g,a?"":"."+f)}let p=a&&Wi.g?Wi.g:null;return a&&(Wi.g=Wi[f]),((g,y,_,w)=>{w?y.data=y.data.replace(w,g):y.data.indexOf(g)===-1&&(y.data=_?g+y.data:y.data+g)})(Wi[f],r,s,p),f},Ww=(t,r,a)=>t.reduce((s,u,d)=>{let f=r[d];if(f&&f.call){let p=f(a),g=p&&p.props&&p.props.className||/^go/.test(p)&&p;f=g?"."+g:p&&typeof p=="object"?p.props?"":Va(p,""):p===!1?"":p}return s+u+(f??"")},"");function If(t){let r=this||{},a=t.call?t(r.p):t;return Xw(a.unshift?a.raw?Ww(a,[].slice.call(arguments,1),r.p):a.reduce((s,u)=>Object.assign(s,u&&u.call?u(r.p):u),{}):a,Fw(r.target),r.g,r.o,r.k)}let $_,J0,tp;If.bind({g:1});let ta=If.bind({k:1});function Qw(t,r,a,s){Va.p=r,$_=t,J0=a,tp=s}function Ja(t,r){let a=this||{};return function(){let s=arguments;function u(d,f){let p=Object.assign({},d),g=p.className||u.className;a.p=Object.assign({theme:J0&&J0()},p),a.o=/ *go\d+/.test(g),p.className=If.apply(a,s)+(g?" "+g:"");let y=t;return t[0]&&(y=p.as||t,delete p.as),tp&&y[0]&&tp(p),$_(y,p)}return u}}var Jw=t=>typeof t=="function",cf=(t,r)=>Jw(t)?t(r):t,tT=(()=>{let t=0;return()=>(++t).toString()})(),I_=(()=>{let t;return()=>{if(t===void 0&&typeof window<"u"){let r=matchMedia("(prefers-reduced-motion: reduce)");t=!r||r.matches}return t}})(),eT=20,yp="default",U_=(t,r)=>{let{toastLimit:a}=t.settings;switch(r.type){case 0:return{...t,toasts:[r.toast,...t.toasts].slice(0,a)};case 1:return{...t,toasts:t.toasts.map(f=>f.id===r.toast.id?{...f,...r.toast}:f)};case 2:let{toast:s}=r;return U_(t,{type:t.toasts.find(f=>f.id===s.id)?1:0,toast:s});case 3:let{toastId:u}=r;return{...t,toasts:t.toasts.map(f=>f.id===u||u===void 0?{...f,dismissed:!0,visible:!1}:f)};case 4:return r.toastId===void 0?{...t,toasts:[]}:{...t,toasts:t.toasts.filter(f=>f.id!==r.toastId)};case 5:return{...t,pausedAt:r.time};case 6:let d=r.time-(t.pausedAt||0);return{...t,pausedAt:void 0,toasts:t.toasts.map(f=>({...f,pauseDuration:f.pauseDuration+d}))}}},rf=[],G_={toasts:[],pausedAt:void 0,settings:{toastLimit:eT}},vi={},Z_=(t,r=yp)=>{vi[r]=U_(vi[r]||G_,t),rf.forEach(([a,s])=>{a===r&&s(vi[r])})},Y_=t=>Object.keys(vi).forEach(r=>Z_(t,r)),nT=t=>Object.keys(vi).find(r=>vi[r].toasts.some(a=>a.id===t)),Uf=(t=yp)=>r=>{Z_(r,t)},rT={blank:4e3,error:4e3,success:2e3,loading:1/0,custom:4e3},iT=(t={},r=yp)=>{let[a,s]=O.useState(vi[r]||G_),u=O.useRef(vi[r]);O.useEffect(()=>(u.current!==vi[r]&&s(vi[r]),rf.push([r,s]),()=>{let f=rf.findIndex(([p])=>p===r);f>-1&&rf.splice(f,1)}),[r]);let d=a.toasts.map(f=>{var p,g,y;return{...t,...t[f.type],...f,removeDelay:f.removeDelay||((p=t[f.type])==null?void 0:p.removeDelay)||t?.removeDelay,duration:f.duration||((g=t[f.type])==null?void 0:g.duration)||t?.duration||rT[f.type],style:{...t.style,...(y=t[f.type])==null?void 0:y.style,...f.style}}});return{...a,toasts:d}},aT=(t,r="blank",a)=>({createdAt:Date.now(),visible:!0,dismissed:!1,type:r,ariaProps:{role:"status","aria-live":"polite"},message:t,pauseDuration:0,...a,id:a?.id||tT()}),Ic=t=>(r,a)=>{let s=aT(r,t,a);return Uf(s.toasterId||nT(s.id))({type:2,toast:s}),s.id},on=(t,r)=>Ic("blank")(t,r);on.error=Ic("error");on.success=Ic("success");on.loading=Ic("loading");on.custom=Ic("custom");on.dismiss=(t,r)=>{let a={type:3,toastId:t};r?Uf(r)(a):Y_(a)};on.dismissAll=t=>on.dismiss(void 0,t);on.remove=(t,r)=>{let a={type:4,toastId:t};r?Uf(r)(a):Y_(a)};on.removeAll=t=>on.remove(void 0,t);on.promise=(t,r,a)=>{let s=on.loading(r.loading,{...a,...a?.loading});return typeof t=="function"&&(t=t()),t.then(u=>{let d=r.success?cf(r.success,u):void 0;return d?on.success(d,{id:s,...a,...a?.success}):on.dismiss(s),u}).catch(u=>{let d=r.error?cf(r.error,u):void 0;d?on.error(d,{id:s,...a,...a?.error}):on.dismiss(s)}),t};var oT=1e3,sT=(t,r="default")=>{let{toasts:a,pausedAt:s}=iT(t,r),u=O.useRef(new Map).current,d=O.useCallback((w,S=oT)=>{if(u.has(w))return;let T=setTimeout(()=>{u.delete(w),f({type:4,toastId:w})},S);u.set(w,T)},[]);O.useEffect(()=>{if(s)return;let w=Date.now(),S=a.map(T=>{if(T.duration===1/0)return;let M=(T.duration||0)+T.pauseDuration-(w-T.createdAt);if(M<0){T.visible&&on.dismiss(T.id);return}return setTimeout(()=>on.dismiss(T.id,r),M)});return()=>{S.forEach(T=>T&&clearTimeout(T))}},[a,s,r]);let f=O.useCallback(Uf(r),[r]),p=O.useCallback(()=>{f({type:5,time:Date.now()})},[f]),g=O.useCallback((w,S)=>{f({type:1,toast:{id:w,height:S}})},[f]),y=O.useCallback(()=>{s&&f({type:6,time:Date.now()})},[s,f]),_=O.useCallback((w,S)=>{let{reverseOrder:T=!1,gutter:M=8,defaultPosition:D}=S||{},A=a.filter(k=>(k.position||D)===(w.position||D)&&k.height),z=A.findIndex(k=>k.id===w.id),H=A.filter((k,B)=>B<z&&k.visible).length;return A.filter(k=>k.visible).slice(...T?[H+1]:[0,H]).reduce((k,B)=>k+(B.height||0)+M,0)},[a]);return O.useEffect(()=>{a.forEach(w=>{if(w.dismissed)d(w.id,w.removeDelay);else{let S=u.get(w.id);S&&(clearTimeout(S),u.delete(w.id))}})},[a,d]),{toasts:a,handlers:{updateHeight:g,startPause:p,endPause:y,calculateOffset:_}}},lT=ta`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
 transform: scale(1) rotate(45deg);
  opacity: 1;
}`,cT=ta`
from {
  transform: scale(0);
  opacity: 0;
}
to {
  transform: scale(1);
  opacity: 1;
}`,uT=ta`
from {
  transform: scale(0) rotate(90deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(90deg);
	opacity: 1;
}`,dT=Ja("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${t=>t.primary||"#ff4b4b"};
  position: relative;
  transform: rotate(45deg);

  animation: ${lT} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;

  &:after,
  &:before {
    content: '';
    animation: ${cT} 0.15s ease-out forwards;
    animation-delay: 150ms;
    position: absolute;
    border-radius: 3px;
    opacity: 0;
    background: ${t=>t.secondary||"#fff"};
    bottom: 9px;
    left: 4px;
    height: 2px;
    width: 12px;
  }

  &:before {
    animation: ${uT} 0.15s ease-out forwards;
    animation-delay: 180ms;
    transform: rotate(90deg);
  }
`,fT=ta`
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
`,hT=Ja("div")`
  width: 12px;
  height: 12px;
  box-sizing: border-box;
  border: 2px solid;
  border-radius: 100%;
  border-color: ${t=>t.secondary||"#e0e0e0"};
  border-right-color: ${t=>t.primary||"#616161"};
  animation: ${fT} 1s linear infinite;
`,mT=ta`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(45deg);
	opacity: 1;
}`,pT=ta`
0% {
	height: 0;
	width: 0;
	opacity: 0;
}
40% {
  height: 0;
	width: 6px;
	opacity: 1;
}
100% {
  opacity: 1;
  height: 10px;
}`,gT=Ja("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${t=>t.primary||"#61d345"};
  position: relative;
  transform: rotate(45deg);

  animation: ${mT} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;
  &:after {
    content: '';
    box-sizing: border-box;
    animation: ${pT} 0.2s ease-out forwards;
    opacity: 0;
    animation-delay: 200ms;
    position: absolute;
    border-right: 2px solid;
    border-bottom: 2px solid;
    border-color: ${t=>t.secondary||"#fff"};
    bottom: 6px;
    left: 6px;
    height: 10px;
    width: 6px;
  }
`,bT=Ja("div")`
  position: absolute;
`,yT=Ja("div")`
  position: relative;
  display: flex;
  justify-content: center;
  align-items: center;
  min-width: 20px;
  min-height: 20px;
`,vT=ta`
from {
  transform: scale(0.6);
  opacity: 0.4;
}
to {
  transform: scale(1);
  opacity: 1;
}`,xT=Ja("div")`
  position: relative;
  transform: scale(0.6);
  opacity: 0.4;
  min-width: 20px;
  animation: ${vT} 0.3s 0.12s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
`,_T=({toast:t})=>{let{icon:r,type:a,iconTheme:s}=t;return r!==void 0?typeof r=="string"?O.createElement(xT,null,r):r:a==="blank"?null:O.createElement(yT,null,O.createElement(hT,{...s}),a!=="loading"&&O.createElement(bT,null,a==="error"?O.createElement(dT,{...s}):O.createElement(gT,{...s})))},ST=t=>`
0% {transform: translate3d(0,${t*-200}%,0) scale(.6); opacity:.5;}
100% {transform: translate3d(0,0,0) scale(1); opacity:1;}
`,wT=t=>`
0% {transform: translate3d(0,0,-1px) scale(1); opacity:1;}
100% {transform: translate3d(0,${t*-150}%,-1px) scale(.6); opacity:0;}
`,TT="0%{opacity:0;} 100%{opacity:1;}",ET="0%{opacity:1;} 100%{opacity:0;}",MT=Ja("div")`
  display: flex;
  align-items: center;
  background: #fff;
  color: #363636;
  line-height: 1.3;
  will-change: transform;
  box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1), 0 3px 3px rgba(0, 0, 0, 0.05);
  max-width: 350px;
  pointer-events: auto;
  padding: 8px 10px;
  border-radius: 8px;
`,NT=Ja("div")`
  display: flex;
  justify-content: center;
  margin: 4px 10px;
  color: inherit;
  flex: 1 1 auto;
  white-space: pre-line;
`,AT=(t,r)=>{let a=t.includes("top")?1:-1,[s,u]=I_()?[TT,ET]:[ST(a),wT(a)];return{animation:r?`${ta(s)} 0.35s cubic-bezier(.21,1.02,.73,1) forwards`:`${ta(u)} 0.4s forwards cubic-bezier(.06,.71,.55,1)`}},DT=O.memo(({toast:t,position:r,style:a,children:s})=>{let u=t.height?AT(t.position||r||"top-center",t.visible):{opacity:0},d=O.createElement(_T,{toast:t}),f=O.createElement(NT,{...t.ariaProps},cf(t.message,t));return O.createElement(MT,{className:t.className,style:{...u,...a,...t.style}},typeof s=="function"?s({icon:d,message:f}):O.createElement(O.Fragment,null,d,f))});Qw(O.createElement);var jT=({id:t,className:r,style:a,onHeightUpdate:s,children:u})=>{let d=O.useCallback(f=>{if(f){let p=()=>{let g=f.getBoundingClientRect().height;s(t,g)};p(),new MutationObserver(p).observe(f,{subtree:!0,childList:!0,characterData:!0})}},[t,s]);return O.createElement("div",{ref:d,className:r,style:a},u)},kT=(t,r)=>{let a=t.includes("top"),s=a?{top:0}:{bottom:0},u=t.includes("center")?{justifyContent:"center"}:t.includes("right")?{justifyContent:"flex-end"}:{};return{left:0,right:0,display:"flex",position:"absolute",transition:I_()?void 0:"all 230ms cubic-bezier(.21,1.02,.73,1)",transform:`translateY(${r*(a?1:-1)}px)`,...s,...u}},OT=If`
  z-index: 9999;
  > * {
    pointer-events: auto;
  }
`,_d=16,CT=({reverseOrder:t,position:r="top-center",toastOptions:a,gutter:s,children:u,toasterId:d,containerStyle:f,containerClassName:p})=>{let{toasts:g,handlers:y}=sT(a,d);return O.createElement("div",{"data-rht-toaster":d||"",style:{position:"fixed",zIndex:9999,top:_d,left:_d,right:_d,bottom:_d,pointerEvents:"none",...f},className:p,onMouseEnter:y.startPause,onMouseLeave:y.endPause},g.map(_=>{let w=_.position||r,S=y.calculateOffset(_,{reverseOrder:t,gutter:s,defaultPosition:r}),T=kT(w,S);return O.createElement(jT,{id:_.id,key:_.id,onHeightUpdate:y.updateHeight,className:_.visible?OT:"",style:T},_.type==="custom"?cf(_.message,_):u?u(_):O.createElement(DT,{toast:_,position:w}))}))},i0=on;function LT(t,r,a,s=0,u=0){r<=2&&(t-=1,r+=12);const d=Math.floor(t/100),f=2-d+Math.floor(d/4),p=a+(s+u/60)/24;return Math.floor(365.25*(t+4716))+Math.floor(30.6001*(r+1))+p+f-1524.5}const BT=864e5;function RT(t){const r=(t-24405875e-1)*BT;return new Date(r)}function PT(t,r=7){const a=t+(r-.5)/12;if(a>=1986&&a<2005){const u=a-2e3;return 63.86+.3345*u-.060374*u*u+.0017275*u**3+651814e-9*u**4+2373599e-11*u**5}if(a>=2005&&a<2050){const u=a-2e3;return 62.92+.32217*u+.005589*u*u}if(a>=2050&&a<=2150){const u=(a-1820)/100;return-20+32*u*u-.5628*(2150-a)}if(a>=1900&&a<1986)return-2.79+1.494119*(a-1900)-.0598939*(a-1900)**2+.0061966*(a-1900)**3-197e-6*(a-1900)**4;if(a>=1800&&a<1900){const u=(a-1800)/100;return 13.72-33.244*u+68.612*u**2-65.3*u**3-1.653*u**4+.3343*u**5-.012125*u**6+1348e-7*u**7-175e-8*u**8}const s=(a-1820)/100;return-20+32*s*s}function zT(t){const r=Math.floor(t+.5),a=t+.5-r;let s=r;if(r>=2299161){const w=Math.floor((r-186721625e-2)/36524.25);s=r+1+w-Math.floor(w/4)}const u=s+1524,d=Math.floor((u-122.1)/365.25),f=Math.floor(365.25*d),p=Math.floor((u-f)/30.6001),g=u-f-Math.floor(30.6001*p)+a;let y=p-1;y>12&&(y-=12);let _=d-4715;return y>2&&(_-=1),[_,y,g]}const Mc=Math.PI,$o=Mc/180,HT=180/Mc,$T=86400;function IT(t){return t%=360,t<0?t+360:t}function UT(t,r){return(t-r+540)%360-180}function ev(t,r){for(;t-r>180;)t-=360;for(;t-r<-180;)t+=360;return t}function GT(t){const[r,a]=zT(t);return t+PT(r,Math.round(a))/$T}function nv(t,r){let a=0,s=1;for(let u=0;u<t.length;u++){let d=0;for(const[f,p,g]of t[u])d+=f*Math.cos(p+g*r);a+=d*s,s*=r}return a*1e-8}function ZT(t){const r=(t-2451545)/36525,a=(297.85036+445267.11148*r-.0019142*r*r+r*r*r/189474)*$o,s=(357.52772+35999.05034*r-1603e-7*r*r-r*r*r/3e5)*$o,u=(134.96298+477198.867398*r+.0086972*r*r+r*r*r/56250)*$o,d=(93.27191+483202.017538*r-.0036825*r*r+r*r*r/327270)*$o,f=(125.04452-1934.136261*r+.0020708*r*r+r*r*r/45e4)*$o,p=[[0,0,0,0,1,-171996,-174.2,92025,8.9],[0,0,2,-2,2,-13187,-1.6,5736,-3.1],[0,0,2,0,2,-2274,-.2,977,-.5],[0,0,0,0,2,2062,.2,-895,.5],[0,1,0,0,0,1426,-3.4,54,-.1],[1,0,0,0,0,712,.1,-7,0],[0,1,2,-2,2,-517,1.2,224,-.6],[0,0,2,0,1,-386,-.4,200,0],[1,0,2,0,2,-301,0,129,-.1],[0,-1,2,-2,2,217,-.5,-95,.3]];let g=0,y=0;for(const[_,w,S,T,M,D,A,z,H]of p){const k=_*a+w*s+S*u+T*d+M*f;g+=(D+A*r)*Math.sin(k),y+=(z+H*r)*Math.cos(k)}return g*=1e-4,y*=1e-4,{dpsi:g,deps:y}}function Sd(t){const r=GT(t),a=(r-2451545)/365250,s=nv(rv.L,a),u=nv(rv.R,a);let d=s+Mc;d>2*Mc&&(d-=2*Mc);const{dpsi:f}=ZT(r),p=f/3600*$o,g=20.4898/(3600*u),y=d+p-g*$o;return IT(y*HT)}function an(t,r,a){const s=(r%360+360)%360,u=LT(t,1,1),d=Sd(u);let f=s-d;f<0&&(f+=360);let p=u+f/.98564736;const g=1e-6,y=5e-6;for(let S=0;S<25;S++){const T=Sd(p),M=UT(s,T);if(Math.abs(M)<g)break;const D=Sd(p+y),A=Sd(p-y),z=ev(D,T),H=ev(A,T),k=(z-H)/(2*y);p+=M/k}const _=RT(p),w=new Date(_.getFullYear(),_.getMonth(),_.getDate(),_.getHours(),_.getMinutes(),0,0);if(Number.isFinite(a)){const S=a/15-9;if(Math.abs(S)>1e-12)return new Date(w.getTime()+S*36e5)}return w}const rv={L:[[[175347046,0,0],[3341656,4.6692568,6283.07585],[34894,4.6261,12566.1517],[3497,2.7441,5753.3849],[3418,2.8289,3.5231],[3136,3.6277,77713.7715],[2676,4.4181,7860.4194],[2343,6.1352,3930.2097],[1324,.7425,11506.7698],[1273,2.0371,529.691],[1199,1.1096,1577.3435],[990,5.233,5884.927],[902,2.045,26.298],[857,3.508,398.149],[780,1.179,5223.694],[753,2.533,5507.553],[505,4.583,18849.228],[492,4.205,775.523],[357,2.92,.067],[317,5.849,11790.629]],[[628331966747,0,0],[206059,2.678235,6283.07585],[4303,2.6351,12566.1517],[425,1.59,3.523],[119,5.796,26.298],[109,2.966,1577.344],[93,2.59,18849.23],[72,1.14,529.69],[68,1.87,398.15],[67,4.41,5507.55],[59,2.89,5223.69],[56,2.17,155.42]],[[52919,0,0],[8720,1.0721,6283.0758],[309,.867,12566.152]],[[289,5.844,6283.076],[35,0,0]],[[114,3.142,0],[8,4.13,6283.08]],[[1,3.14,0]]],R:[[[100013989,0,0],[1670700,3.0984635,6283.07585],[13956,3.05525,12566.1517],[3084,5.1985,77713.7715],[1628,1.1739,5753.3849],[1576,2.8469,7860.4194],[925,5.453,11506.77],[542,4.564,3930.21],[472,3.661,5884.927],[346,.964,5507.553],[329,5.9,5223.694]],[[103019,1.10749,6283.07585],[1721,1.0644,12566.1517],[702,3.142,0],[32,1.02,18849.23]],[[4359,5.7846,6283.0758],[124,5.579,12566.152],[12,3.14,0]],[[145,4.273,6283.076]]]},Gn=["갑","을","병","정","무","기","경","신","임","계"],tr=["자","축","인","묘","진","사","오","미","신","유","술","해"],Hr={천간:["갑","을","병","정","무","기","경","신","임","계"],지지:["자","축","인","묘","진","사","오","미","신","유","술","해"]},_r={천간:["甲","乙","丙","丁","戊","己","庚","辛","壬","癸"],지지:["子","丑","寅","卯","辰","巳","午","未","申","酉","戌","亥"]},YT=["목","목","화","화","토","토","금","금","수","수"],qT=["수","토","목","목","토","화","화","토","금","금","토","수"],FT=["갑","을","병","정","무","기","경","신","임","계","甲","乙","丙","丁","戊","己","庚","辛","壬","癸"],VT=["자","축","인","묘","진","사","오","미","신","유","술","해","子","丑","寅","卯","辰","巳","午","未","申","酉","戌","亥"],Gf=new Set(Gn),vp=new Set(tr),Zf={甲:"갑",乙:"을",丙:"병",丁:"정",戊:"무",己:"기",庚:"경",辛:"신",壬:"임",癸:"계"},xp={子:"자",丑:"축",寅:"인",卯:"묘",辰:"진",巳:"사",午:"오",未:"미",申:"신",酉:"유",戌:"술",亥:"해"},q_=["갑자","을축","병인","정묘","무진","기사","경오","신미","임신","계유","갑술","을해","병자","정축","무인","기묘","경진","신사","임오","계미","갑신","을유","병술","정해","무자","기축","경인","신묘","임진","계사","갑오","을미","병신","정유","무술","기해","경자","신축","임인","계묘","갑진","을사","병오","정미","무신","기유","경술","신해","임자","계축","갑인","을묘","병진","정사","무오","기미","경신","신유","임술","계해"],_p={갑:["병인","정묘","무진","기사","경오","신미","임신","계유","갑술","을해","병자","정축"],을:["무인","기묘","경진","신사","임오","계미","갑신","을유","병술","정해","무자","기축"],병:["경인","신묘","임진","계사","갑오","을미","병신","정유","무술","기해","경자","신축"],정:["임인","계묘","갑진","을사","병오","정미","무신","기유","경술","신해","임자","계축"],무:["갑인","을묘","병진","정사","무오","기미","경신","신유","임술","계해","갑자","을축"],기:["병인","정묘","무진","기사","경오","신미","임신","계유","갑술","을해","병자","정축"],경:["무인","기묘","경진","신사","임오","계미","갑신","을유","병술","정해","무자","기축"],신:["경인","신묘","임진","계사","갑오","을미","병신","정유","무술","기해","경자","신축"],임:["임인","계묘","갑진","을사","병오","정미","무신","기유","경술","신해","임자","계축"],계:["갑인","을묘","병진","정사","무오","기미","경신","신유","임술","계해","갑자","을축"]},F_={갑:["갑자","을축","병인","정묘","무진","기사","경오","신미","임신","계유","갑술","을해"],을:["병자","정축","무인","기묘","경진","신사","임오","계미","갑신","을유","병술","정해"],병:["무자","기축","경인","신묘","임진","계사","갑오","을미","병신","정유","무술","기해"],정:["경자","신축","임인","계묘","갑진","을사","병오","정미","무신","기유","경술","신해"],무:["임자","계축","갑인","을묘","병진","정사","무오","기미","경신","신유","임술","계해"],기:["갑자","을축","병인","정묘","무진","기사","경오","신미","임신","계유","갑술","을해"],경:["병자","정축","무인","기묘","경진","신사","임오","계미","갑신","을유","병술","정해"],신:["무자","기축","경인","신묘","임진","계사","갑오","을미","병신","정유","무술","기해"],임:["경자","신축","임인","계묘","갑진","을사","병오","정미","무신","기유","경술","신해"],계:["임자","계축","갑인","을묘","병진","정사","무오","기미","경신","신유","임술","계해"]},iv=[{branch:"자",hanja:"子",start:1380,end:60},{branch:"축",hanja:"丑",start:60,end:180},{branch:"인",hanja:"寅",start:180,end:300},{branch:"묘",hanja:"卯",start:300,end:420},{branch:"진",hanja:"辰",start:420,end:540},{branch:"사",hanja:"巳",start:540,end:660},{branch:"오",hanja:"午",start:660,end:780},{branch:"미",hanja:"未",start:780,end:900},{branch:"신",hanja:"申",start:900,end:1020},{branch:"유",hanja:"酉",start:1020,end:1140},{branch:"술",hanja:"戌",start:1140,end:1260},{branch:"해",hanja:"亥",start:1260,end:1380}],KT={갑:{갑:"비견",을:"겁재",병:"식신",정:"상관",무:"편재",기:"정재",경:"편관",신:"정관",임:"편인",계:"정인"},을:{갑:"겁재",을:"비견",병:"상관",정:"식신",무:"정재",기:"편재",경:"정관",신:"편관",임:"정인",계:"편인"},병:{갑:"편인",을:"정인",병:"비견",정:"겁재",무:"식신",기:"상관",경:"편재",신:"정재",임:"편관",계:"정관"},정:{갑:"정인",을:"편인",병:"겁재",정:"비견",무:"상관",기:"식신",경:"정재",신:"편재",임:"정관",계:"편관"},무:{갑:"편관",을:"정관",병:"편인",정:"정인",무:"비견",기:"겁재",경:"식신",신:"상관",임:"편재",계:"정재"},기:{갑:"정관",을:"편관",병:"정인",정:"편인",무:"겁재",기:"비견",경:"상관",신:"식신",임:"정재",계:"편재"},경:{갑:"편재",을:"정재",병:"편관",정:"정관",무:"편인",기:"정인",경:"비견",신:"겁재",임:"식신",계:"상관"},신:{갑:"정재",을:"편재",병:"정관",정:"편관",무:"정인",기:"편인",경:"겁재",신:"비견",임:"상관",계:"식신"},임:{갑:"식신",을:"상관",병:"편재",정:"정재",무:"편관",기:"정관",경:"편인",신:"정인",임:"비견",계:"겁재"},계:{갑:"상관",을:"식신",병:"정재",정:"편재",무:"정관",기:"편관",경:"정인",신:"편인",임:"겁재",계:"비견"}},XT={갑:{자:"정인",축:"정재",인:"비견",묘:"겁재",진:"편재",사:"식신",오:"상관",미:"정재",신:"편관",유:"정관",술:"편재",해:"편인"},을:{자:"편인",축:"편재",인:"겁재",묘:"비견",진:"정재",사:"상관",오:"식신",미:"편재",신:"정관",유:"편관",술:"정재",해:"정인"},병:{자:"정관",축:"상관",인:"편인",묘:"정인",진:"식신",사:"비견",오:"겁재",미:"상관",신:"편재",유:"정재",술:"식신",해:"편관"},정:{자:"편관",축:"식신",인:"정인",묘:"편인",진:"상관",사:"겁재",오:"비견",미:"식신",신:"정재",유:"편재",술:"상관",해:"정관"},무:{자:"정재",축:"겁재",인:"편관",묘:"정관",진:"비견",사:"편인",오:"정인",미:"겁재",신:"식신",유:"상관",술:"비견",해:"편재"},기:{자:"편재",축:"비견",인:"정관",묘:"편관",진:"겁재",사:"정인",오:"편인",미:"비견",신:"상관",유:"식신",술:"겁재",해:"정재"},경:{자:"상관",축:"정인",인:"편재",묘:"정재",진:"편인",사:"편관",오:"정관",미:"정인",신:"비견",유:"겁재",술:"편인",해:"식신"},신:{자:"식신",축:"편인",인:"정재",묘:"편재",진:"정인",사:"정관",오:"편관",미:"편인",신:"겁재",유:"비견",술:"정인",해:"상관"},임:{자:"겁재",축:"정관",인:"식신",묘:"상관",진:"편관",사:"편재",오:"정재",미:"정관",신:"편인",유:"정인",술:"편관",해:"비견"},계:{자:"비견",축:"편관",인:"상관",묘:"식신",진:"정관",사:"정재",오:"편재",미:"편관",신:"정인",유:"편인",술:"정관",해:"겁재"}};function WT(t,r=127.5){return(oe(t,r)||"").charAt(0)}const av=new Map;function V_(t,r=127.5){const a=`${t}@${r}`,s=av.get(a);if(s)return s;const u=an(t,315,r);if(!u)throw new Error(`입춘 날짜를 찾을 수 없습니다: year=${t}, lon=${r}`);return av.set(a,u),u}const QT=(t,r)=>(t%r+r)%r,K_=t=>t instanceof Date&&!Number.isNaN(t.getTime());function X_(t,r=127.5){if(!K_(t))throw new Error("resolveYearIndex: invalid date");const a=t.getFullYear(),s=V_(a,r),u=t<s?a-1:a,d=QT(u-4,60);return{useYear:u,index60Num:d}}function oe(t,r=127.5){const{index60Num:a}=X_(t,r);return q_[a]}const JT=[2,4,6,8,0,2,4,6,8,0];function tE(t,r=127.5){const a=new Array(12);return a[0]=V_(t,r),a[1]=an(t,345,r),a[2]=an(t,15,r),a[3]=an(t,45,r),a[4]=an(t,75,r),a[5]=an(t,105,r),a[6]=an(t,135,r),a[7]=an(t,165,r),a[8]=an(t,195,r),a[9]=an(t,225,r),a[10]=an(t,255,r),a[11]=an(t+1,285,r),a.map(s=>new Date(s.getTime()+1800*1e3))}function eE(t,r=127.5){const{useYear:a}=X_(t,r),s=tE(a,r);let u=0;for(let f=0;f<12;f++)t>=s[f]&&(u=f);return{monthIndex:u+1,useYear:a,boundaries:s}}function nE(t,r=127.5){const a=WT(t,r),s=Hr.천간.indexOf(a);if(s<0)throw new Error(`resolveFirstMonthStemIdx: invalid year stem "${a}"`);return JT[s]}function rE(t,r,a=127.5){return(nE(t,a)+(r-1))%10}function Se(t,r=127.5){if(!K_(t))return"";const{monthIndex:a}=eE(t,r),s=(2+(a-1))%12,u=Hr.지지[s],d=rE(t,a,r);return Hr.천간[d]+u}const iE=(t,r)=>(t%r+r)%r;function aE(t,r,a,s=0,u=0,d=0){r<=2&&(t-=1,r+=12);const f=Math.floor(t/100),p=2-f+Math.floor(f/4),g=(s+u/60+d/3600)/24;return Math.floor(365.25*(t+4716))+Math.floor(30.6001*(r+1))+a+g+p-1524.5}function oE(t,r){const a=t.getHours(),s=t.getMinutes(),u=a*60+s,d=W_(t);return r==="조자시/야자시"&&d==="자"?u>=1380?1:0:r==="인시"&&(d==="자"||d==="축")?u<180?-1:0:(u<0,0)}const ov={JDN:2445731,idx:0};function ae(t,r){const a=oE(t,r),s=new Date(t.getTime());s.setDate(s.getDate()+a);const u=aE(s.getFullYear(),s.getMonth()+1,s.getDate(),s.getHours(),s.getMinutes()),d=Math.floor(u+.5),f=iE(d-ov.JDN+ov.idx,60),p=q_[f];if(!p)throw new Error(`getDayGanZhi: idx=${f} out of range (jdn=${d}, jd=${u})`);return p}function W_(t){t instanceof Date||(t=new Date(t));const r=t.getHours()*60+t.getMinutes();for(let a=0;a<iv.length;a++){const{branch:s,start:u,end:d}=iv[a];if(u<d){if(r>=u&&r<d)return s}else if(r>=u||r<d)return s}return"자"}function sE(t,r,a,s){const u=Gn.indexOf(r);if(u<0)return"";let d=(u%5*2+a)%10;const f=t.getHours();return(s==="인시"||s==="자시"&&f>=3)&&(a===0||a===1)&&(d=(d+2)%10),Gn[d]}function Ur(t,r,a){t instanceof Date||(t=new Date(t));const s=W_(t),u=tr.indexOf(s),f=(a??ae(t,r)).charAt(0);return sE(t,f,u,r)+s}const sv=t=>{let r;const a=new Set,s=(y,_)=>{const w=typeof y=="function"?y(r):y;if(!Object.is(w,r)){const S=r;r=_??(typeof w!="object"||w===null)?w:Object.assign({},r,w),a.forEach(T=>T(r,S))}},u=()=>r,p={setState:s,getState:u,getInitialState:()=>g,subscribe:y=>(a.add(y),()=>a.delete(y))},g=r=t(s,u,p);return p},lE=(t=>t?sv(t):sv),cE=t=>t;function uE(t,r=cE){const a=Le.useSyncExternalStore(t.subscribe,Le.useCallback(()=>r(t.getState()),[t,r]),Le.useCallback(()=>r(t.getInitialState()),[t,r]));return Le.useDebugValue(a),a}const lv=t=>{const r=lE(t),a=s=>uE(r,s);return Object.assign(a,r),a},Uc=(t=>t?lv(t):lv);function dE(t,r){let a;try{a=t()}catch{return}return{getItem:u=>{var d;const f=g=>g===null?null:JSON.parse(g,void 0),p=(d=a.getItem(u))!=null?d:null;return p instanceof Promise?p.then(f):f(p)},setItem:(u,d)=>a.setItem(u,JSON.stringify(d,void 0)),removeItem:u=>a.removeItem(u)}}const ep=t=>r=>{try{const a=t(r);return a instanceof Promise?a:{then(s){return ep(s)(a)},catch(s){return this}}}catch(a){return{then(s){return this},catch(s){return ep(s)(a)}}}},fE=(t,r)=>(a,s,u)=>{let d={storage:dE(()=>localStorage),partialize:D=>D,version:0,merge:(D,A)=>({...A,...D}),...r},f=!1;const p=new Set,g=new Set;let y=d.storage;if(!y)return t((...D)=>{console.warn(`[zustand persist middleware] Unable to update item '${d.name}', the given storage is currently unavailable.`),a(...D)},s,u);const _=()=>{const D=d.partialize({...s()});return y.setItem(d.name,{state:D,version:d.version})},w=u.setState;u.setState=(D,A)=>(w(D,A),_());const S=t((...D)=>(a(...D),_()),s,u);u.getInitialState=()=>S;let T;const M=()=>{var D,A;if(!y)return;f=!1,p.forEach(H=>{var k;return H((k=s())!=null?k:S)});const z=((A=d.onRehydrateStorage)==null?void 0:A.call(d,(D=s())!=null?D:S))||void 0;return ep(y.getItem.bind(y))(d.name).then(H=>{if(H)if(typeof H.version=="number"&&H.version!==d.version){if(d.migrate){const k=d.migrate(H.state,H.version);return k instanceof Promise?k.then(B=>[!0,B]):[!0,k]}console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return[!1,H.state];return[!1,void 0]}).then(H=>{var k;const[B,C]=H;if(T=d.merge(C,(k=s())!=null?k:S),a(T,!0),B)return _()}).then(()=>{z?.(T,void 0),T=s(),f=!0,g.forEach(H=>H(T))}).catch(H=>{z?.(void 0,H)})};return u.persist={setOptions:D=>{d={...d,...D},D.storage&&(y=D.storage)},clearStorage:()=>{y?.removeItem(d.name)},getOptions:()=>d,rehydrate:()=>M(),hasHydrated:()=>f,onHydrate:D=>(p.add(D),()=>{p.delete(D)}),onFinishHydration:D=>(g.add(D),()=>{g.delete(D)})},d.skipHydration||M(),T||S},Sp=fE,np={hiddenStem:"all",hiddenStemMode:"classic",ilunRule:"조자시/야자시",sinsalMode:"classic",sinsalBase:"일지",sinsalBloom:!1,exposure:"원국",charType:"한자",thinEum:!1,showSipSin:!0,showSibiSinsal:!0,showSibiUnseong:!0,theme:"dark",sectionOrder:["hiddenStem","hiddenStemMode","ilunRule","sinsalMode","sinsalBase","sinsalBloom","exposure","charType","thinEum","visibility"]},Sr=Uc()(Sp((t,r)=>({settings:np,setSettings:a=>t({settings:a}),setKey:(a,s)=>t({settings:{...r().settings,[a]:s}}),reset:()=>t({settings:np})}),{name:"settings_v1"}));function rp(t){const r=Gn.indexOf(t);if(r!==-1)return Gn[r];const a=_r.천간.indexOf(t);return a!==-1?Gn[a]:null}function Q_(t){const r=tr.indexOf(t);if(r!==-1)return tr[r];const a=_r.지지.indexOf(t);return a!==-1?tr[a]:null}function cv(t,r){if(r?.difficultyMode)return r?.theme==="light"?"bg-white border border-gray-300 text-gray-800 text-black":"bg-white text-black";switch(t){case"목":return"bg-green-600";case"화":return"bg-red-600";case"토":return"bg-yellow-500";case"금":return"bg-gray-400";case"수":return"bg-black";default:return"bg-neutral-700"}}function xr(t,r,a){if(r==="stem"){const s=rp(t);if(!s)return console.warn("Invalid stem:",t),"bg-neutral-700";const u=Gn.indexOf(s),d=u>=0?YT[u]:void 0;return cv(d,a)}else{const s=Q_(t);if(!s)return console.warn("Invalid branch:",t),"bg-neutral-700";const u=tr.indexOf(s),d=u>=0?qT[u]:void 0;return cv(d,a)}}function Un(t,r){const a=rp(t);if(!a)throw new Error(`getSipSin: invalid dayStem ${t}`);if(r.stem){const s=rp(r.stem);if(!s)throw new Error(`getSipSin: invalid stem ${r.stem}`);return KT[a][s]}if(r.branch){const s=Q_(r.branch);if(!s)throw new Error(`getSipSin: invalid branch ${r.branch}`);return XT[a][s]}throw new Error("getSipSin: stem or branch required")}const J_={자:["임","(-)","계"],축:["계","신","기"],인:["무","병","갑"],묘:["갑","(-)","을"],진:["을","계","무"],사:["무","경","병"],오:["병","기","정"],미:["정","을","기"],신:["무","임","경"],유:["경","(-)","신"],술:["신","정","무"],해:["무","갑","임"]},t1={자:["(-)","(-)","계"],축:["계","신","기"],인:["(-)","병","갑"],묘:["(-)","(-)","을"],진:["을","계","무"],사:["(-)","경","병"],오:["(-)","(-)","정"],미:["정","을","기"],신:["(-)","임","경"],유:["(-)","(-)","신"],술:["신","정","무"],해:["(-)","갑","임"]};function wc({branch:t,dayStem:r,mode:a="all",mapping:s="classic",variant:u="auto",isUnknownTime:d=!1}){const f=(s==="hgc"?t1:J_)[t]??[],p=a==="main"?[f[2]]:f,g=u==="white",y=g?"text-white":"text-neutral-800 dark:text-white",_=g?"border-white":"border-neutral-800 dark: border-neutral-200",w=g?"text-yellow-900":"text-red-600 dark:text-yellow-300";return b.jsx("div",{className:"w-full flex flex-col gap-1 mt-1",children:p.map((S,T)=>S==="(-)"||d?b.jsx("div",{className:`w-full max-w-[80px] mx-auto text-[10px] desk:text-xs text-neutral-500 py-0.5 desk:px-1 border ${_} ${y} rounded text-center text-nowrap`,children:"(-) (없음)"},T):b.jsxs("div",{className:`w-full max-w-[80px] mx-auto text-[10px] desk:text-xs py-0.5 desk:px-1 border ${_} ${y} rounded text-center text-nowrap 
            ${a==="main"||T===2?`jeonggi bg-neutral-500/50 ${w} font-bold`:""}`,children:[S," (",Un(r,{stem:S}),")"]},T))})}const qs=Uc(t=>({manualHour:null,setManualHour:r=>t({manualHour:r}),clearManualHour:()=>t({manualHour:null})})),wp={甲:"갑",乙:"을",丙:"병",丁:"정",戊:"무",己:"기",庚:"경",辛:"신",壬:"임",癸:"계"},e1=Object.fromEntries(Object.entries(wp).map(([t,r])=>[r,t])),Tp={子:"자",丑:"축",寅:"인",卯:"묘",辰:"진",巳:"사",午:"오",未:"미",申:"신",酉:"유",戌:"술",亥:"해"},n1=Object.fromEntries(Object.entries(Tp).map(([t,r])=>[r,t]));function uv(t){return Hr.천간.includes(t)}function dv(t){return Hr.지지.includes(t)}function hE(t){return _r.천간.includes(t)}function mE(t){return _r.지지.includes(t)}function fv(t,r,a){return a==="한글"?r==="stem"?wp[t]??t:Tp[t]??t:r==="stem"?e1[t]??t:n1[t]??t}function hv(t){const r=e1[t]??t;return hE(r)?r:"갑"}function pE(t){const r=n1[t]??t;return mE(r)?r:"자"}function gE(t){if(uv(t))return t;const r=wp[t]??t;return uv(r)?r:"갑"}function bE(t){if(dv(t))return t;const r=Tp[t]??t;return dv(r)?r:"자"}const yE=new Set(["乙","丁","己","辛","癸","을","정","기","신","계"]),vE=new Set(["丑","卯","巳","未","酉","亥","축","묘","사","미","유","해"]),xE=t=>yE.has(t),_E=t=>vE.has(t);function Hs({label:t,gz:r,dayStem:a,settings:s,unseongText:u,shinsalText:d,hideBranchSipSin:f=!0,hideHiddenStems:p=!1,size:g="sm",variant:y="auto",isUnknownTime:_=!1}){const{manualHour:w}=qs(),S=_&&!w,T=r.charAt(0),M=r.charAt(1),D=fv(T,"stem",s.charType),A=fv(M,"branch",s.charType),z=hv(T),H=pE(M),k=hv(a),B=bE(M),C=gE(a),q=s.showSipSin?Un(k,{stem:z}):null,et=!f&&s.showSipSin?Un(k,{branch:H}):null,st=s.thinEum&&xE(T)?"font-thin":"font-bold",W=s.thinEum&&_E(M)?"font-thin":"font-bold",Q={sm:"w-10 h-10 sm:w-12 sm:h-12",md:"w-12 h-12 sm:w-14 sm:h-14 md:w-16 md:h-16",lg:"w-14 h-14 sm:w-16 sm:h-16 md:w-20 md:h-20"},F=!p&&!!s.hiddenStem,G=s.hiddenStem==="regular"?"main":"all",tt=s.hiddenStemMode==="hgc"?"hgc":"classic",ht=y==="white",it=ht?"bg-white text-neutral-900 border border-neutral-200":"bg-white dark:bg-neutral-900 text-neutral-900 dark:text-neutral-100 border border-neutral-200 dark:border-neutral-800",Z=ht?"bg-neutral-100 text-neutral-700":"bg-neutral-100 dark:bg-neutral-800/60 text-neutral-700 dark:text-neutral-200",rt=ht?"border-neutral-200":"border-neutral-200 dark:border-neutral-800",ot=ht?"text-neutral-500":"text-neutral-400",yt=ht?"text-neutral-500":"text-neutral-400",{settings:j}=Sr(),$=S?`bg-white ${rt}`:`${xr(z,"stem",j)} ${rt}`,Y=S?`bg-white ${rt}`:`${xr(H,"branch",j)} ${rt}`,J=S?"text-black":j.difficultyMode?j.theme==="light"?"text-neutral-900":"text-black":"text-white",V=S?"text-black":j.difficultyMode?j.theme==="light"?"text-neutral-900":"text-black":"text-white";return b.jsxs("div",{className:`rounded-sm desk:rounded-xl overflow-hidden ${it}`,children:[b.jsx("div",{className:`py-2 text-center text-[10px] desk:text-xs tracking-wider ${Z} text-nowrap`,children:t}),b.jsxs("div",{className:"py-3 flex flex-col items-center gap-1",children:[q&&b.jsx("div",{className:`text-[10px] desk:text-xs ${ot} text-nowrap`,children:_&&!w?"-":q}),b.jsx("div",{className:`${Q[g]} rounded-sm desk:rounded-lg flex items-center justify-center border ${$}`,children:b.jsx("span",{className:`text-2xl md:text-3xl ${J} ${st}`,children:S?"-":D})}),b.jsx("div",{className:`${Q[g]} rounded-sm desk:rounded-lg flex items-center justify-center border ${Y}`,children:b.jsx("span",{className:`text-2xl md:text-3xl ${V} ${W}`,children:S?"-":A})}),F&&b.jsx(wc,{branch:B,dayStem:C,mode:G,mapping:tt,isUnknownTime:_&&!w&&(t==="시주"||t==="일주")}),et&&b.jsx("div",{className:`text-[10px] desk:text-xs ${yt}`,children:_&&!w?"-":et}),s.showSibiUnseong&&b.jsx("div",{className:`text-[10px] desk:text-xs ${yt} text-nowrap`,children:_&&!w?"-":u||""}),s.showSibiSinsal&&b.jsx("div",{className:`text-[10px] desk:text-xs ${yt} text-nowrap`,children:_&&!w?"-":d||""})]})]})}const SE=new Set(_r.천간);function wE(t){return Gf.has(t)?t:SE.has(t)?Zf[t]:"갑"}function TE({label:t,settings:r,hideBranchSipSin:a=!0}){const s=r.showSipSin,u=!!r.hiddenStem,f=(r.hiddenStem==="regular"?"main":"all")==="main"?1:3,p=r.showSipSin&&!a;return b.jsxs("div",{className:"rounded-sm desk:rounded-xl bg-white dark:bg-neutral-900 border border-neutral-200 dark:border-neutral-800 overflow-hidden transition-colors",children:[b.jsx("div",{className:"py-2 text-center text-[10px] desk:text-xs tracking-wider bg-neutral-100 dark:bg-neutral-800/60 text-neutral-700 dark:text-neutral-200 text-nowrap",children:t}),b.jsxs("div",{className:"p-3 flex flex-col items-center gap-1",children:[s&&b.jsx("div",{className:"text-[10px] desk:text-xs text-neutral-500 dark:text-neutral-400 text-nowrap",children:"-"}),b.jsx("div",{className:"w-10 h-10 sm:w-12 sm:h-12 rounded-sm desk:rounded-lg flex items-center justify-center border border-neutral-200 dark:border-neutral-800 bg-white",children:b.jsx("span",{className:"text-2xl md:text-3xl font-bold text-neutral-900",children:"-"})}),b.jsx("div",{className:"w-10 h-10 sm:w-12 sm:h-12 rounded-sm desk:rounded-lg flex items-center justify-center border border-neutral-200 dark:border-neutral-800 bg-white",children:b.jsx("span",{className:"text-2xl md:text-3xl font-bold text-neutral-900",children:"-"})}),u&&b.jsx("div",{className:"flex flex-col gap-1 mt-1 w-full",children:Array.from({length:f}).map((g,y)=>b.jsx("div",{className:"w-full max-w-[80px] mx-auto text-[10px] desk:text-xs py-0.5 desk:px-1 border border-neutral-200 dark:border-neutral-800 rounded text-center text-nowrap text-neutral-500 dark:text-neutral-400",children:"-"},y))}),p&&b.jsx("div",{className:"text-[10px] desk:text-xs text-neutral-500 dark:text-neutral-400",children:"-"})]})]})}function EE(){const t=Sr(M=>M.settings),[r,a]=O.useState(new Date),[s,u]=O.useState(!0),[d,f]=O.useState("자시"),[p,g]=O.useState(!1);O.useEffect(()=>{if(!s)return;const M=setInterval(()=>a(new Date),1e3);return()=>clearInterval(M)},[s]);const y=oe(r),_=Se(r),w=ae(r,d),S=Ur(r,"자시"),T=wE(w.charAt(0));return b.jsx("div",{className:"flex justify-center items-center mt-12 w-full h-[calc(100dvh_-_112px)] ",children:b.jsxs("div",{className:`w-[96%] max-w-[640px] mx-auto mb-4 p-4
                      bg-white dark:bg-neutral-950
                      text-neutral-900 dark:text-neutral-100
                      rounded-xl shadow border border-neutral-200 dark:border-neutral-800 transition-colors`,children:[b.jsxs("header",{className:"flex flex-col desk:flex-row items-center justify-center desk:justify-between mb-4 gap-2",children:[b.jsxs("div",{className:"font-semibold text-sm desk:text-base",children:["오늘의 사주"," ",b.jsxs("span",{className:"text-neutral-500 dark:text-neutral-400",children:["(",s?"실시간":"수동선택",") ",AE(r)]})]}),b.jsxs("div",{className:"flex gap-2 items-center",children:[b.jsxs("select",{value:d,onChange:M=>f(M.target.value),className:`text-xs rounded px-2 py-1 h-30 cursor-pointer
                        bg-white dark:bg-neutral-900
                        border border-neutral-300 dark:border-neutral-700
                        text-neutral-900 dark:text-neutral-100
                        focus:outline-none focus:ring-2 focus:ring-amber-500/40`,children:[b.jsx("option",{value:"자시",children:"야자시 (전날 23시)"}),b.jsx("option",{value:"조자시/야자시",children:"조자시/야자시 (자정)"}),b.jsx("option",{value:"인시",children:"인시 (새벽 3시)"})]}),b.jsx("button",{onClick:()=>u(!s),className:`text-xs px-3 py-1 rounded transition-colors cursor-pointer
                        bg-neutral-100 hover:bg-neutral-200
                        dark:bg-neutral-800 dark:hover:bg-neutral-700
                        text-neutral-900 dark:text-neutral-100
                        border border-neutral-200 dark:border-neutral-700`,children:s?"피커 사용":"타이머 사용"})]})]}),b.jsxs("div",{className:"grid grid-cols-4 gap-3 mb-6",children:[p?b.jsx(TE,{label:"시주",settings:t,hideBranchSipSin:!0}):b.jsx(Hs,{label:"시주",gz:S,dayStem:T,settings:t,hideBranchSipSin:!0}),b.jsx(Hs,{label:"일주",gz:w,dayStem:T,settings:t,hideBranchSipSin:!0}),b.jsx(Hs,{label:"월주",gz:_,dayStem:T,settings:t,hideBranchSipSin:!0}),b.jsx(Hs,{label:"연주",gz:y,dayStem:T,settings:t,hideBranchSipSin:!0})]}),b.jsxs("div",{className:"flex flex-col desk:flex-row gap-2 desk:gap-3 items-center",children:[b.jsx("label",{className:"text-sm text-neutral-600 dark:text-neutral-300",children:"날짜/시간 선택"}),b.jsx("input",{type:"datetime-local",value:ME(r),disabled:s,onChange:M=>{const D=NE(M.target.value);D&&a(D)},className:`rounded px-3 py-1 text-sm transition-colors
                        bg-white dark:bg-neutral-900
                        border border-neutral-300 dark:border-neutral-700
                        text-neutral-900 dark:text-neutral-100
                        focus:outline-none focus:ring-2 focus:ring-amber-500/40
                        ${s?"opacity-50 cursor-not-allowed":"cursor-pointer"}`,min:"1900-01-01T00:00",max:"2100-12-31T23:59"}),b.jsx("button",{onClick:()=>g(M=>!M),className:`text-xs px-3 py-1 rounded border transition-colors cursor-pointer
                        ${p?"bg-white text-neutral-900 border-neutral-300 hover:bg-neutral-100":"bg-neutral-100 text-neutral-900 border-neutral-200 hover:bg-neutral-200 dark:bg-neutral-800 dark:text-neutral-100 dark:border-neutral-700 dark:hover:bg-neutral-700"}`,title:"시주 글자를 비우고 박스를 흰색으로 표시합니다",children:p?"시주 표시":"시주 비우기"})]})]})})}function ME(t){const r=a=>a.toString().padStart(2,"0");return`${t.getFullYear()}-${r(t.getMonth()+1)}-${r(t.getDate())}T${r(t.getHours())}:${r(t.getMinutes())}`}function NE(t){if(!t)return null;const[r,a]=t.split("T");if(!r||!a)return null;const[s,u,d]=r.split("-").map(Number),[f,p]=a.split(":").map(Number),g=new Date(s,u-1,d,f,p);return Number.isNaN(g.getTime())?null:g}function AE(t){const r=a=>a.toString().padStart(2,"0");return`${r(t.getHours())}:${r(t.getMinutes())}:${r(t.getSeconds())}`}const Sn=[];for(let t=0;t<256;++t)Sn.push((t+256).toString(16).slice(1));function DE(t,r=0){return(Sn[t[r+0]]+Sn[t[r+1]]+Sn[t[r+2]]+Sn[t[r+3]]+"-"+Sn[t[r+4]]+Sn[t[r+5]]+"-"+Sn[t[r+6]]+Sn[t[r+7]]+"-"+Sn[t[r+8]]+Sn[t[r+9]]+"-"+Sn[t[r+10]]+Sn[t[r+11]]+Sn[t[r+12]]+Sn[t[r+13]]+Sn[t[r+14]]+Sn[t[r+15]]).toLowerCase()}let a0;const jE=new Uint8Array(16);function kE(){if(!a0){if(typeof crypto>"u"||!crypto.getRandomValues)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");a0=crypto.getRandomValues.bind(crypto)}return a0(jE)}const OE=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),mv={randomUUID:OE};function r1(t,r,a){if(mv.randomUUID&&!t)return mv.randomUUID();t=t||{};const s=t.random??t.rng?.()??kE();if(s.length<16)throw new Error("Random bytes length must be >= 16");return s[6]=s[6]&15|64,s[8]=s[8]&63|128,DE(s)}var Tc={exports:{}};/* @preserve
 * Leaflet 1.9.4, a JS library for interactive maps. https://leafletjs.com
 * (c) 2010-2023 Vladimir Agafonkin, (c) 2010-2011 CloudMade
 */var CE=Tc.exports,pv;function LE(){return pv||(pv=1,(function(t,r){(function(a,s){s(r)})(CE,(function(a){var s="1.9.4";function u(i){var l,h,x,E;for(h=1,x=arguments.length;h<x;h++){E=arguments[h];for(l in E)i[l]=E[l]}return i}var d=Object.create||(function(){function i(){}return function(l){return i.prototype=l,new i}})();function f(i,l){var h=Array.prototype.slice;if(i.bind)return i.bind.apply(i,h.call(arguments,1));var x=h.call(arguments,2);return function(){return i.apply(l,x.length?x.concat(h.call(arguments)):arguments)}}var p=0;function g(i){return"_leaflet_id"in i||(i._leaflet_id=++p),i._leaflet_id}function y(i,l,h){var x,E,R,K;return K=function(){x=!1,E&&(R.apply(h,E),E=!1)},R=function(){x?E=arguments:(i.apply(h,arguments),setTimeout(K,l),x=!0)},R}function _(i,l,h){var x=l[1],E=l[0],R=x-E;return i===x&&h?i:((i-E)%R+R)%R+E}function w(){return!1}function S(i,l){if(l===!1)return i;var h=Math.pow(10,l===void 0?6:l);return Math.round(i*h)/h}function T(i){return i.trim?i.trim():i.replace(/^\s+|\s+$/g,"")}function M(i){return T(i).split(/\s+/)}function D(i,l){Object.prototype.hasOwnProperty.call(i,"options")||(i.options=i.options?d(i.options):{});for(var h in l)i.options[h]=l[h];return i.options}function A(i,l,h){var x=[];for(var E in i)x.push(encodeURIComponent(h?E.toUpperCase():E)+"="+encodeURIComponent(i[E]));return(!l||l.indexOf("?")===-1?"?":"&")+x.join("&")}var z=/\{ *([\w_ -]+) *\}/g;function H(i,l){return i.replace(z,function(h,x){var E=l[x];if(E===void 0)throw new Error("No value provided for variable "+h);return typeof E=="function"&&(E=E(l)),E})}var k=Array.isArray||function(i){return Object.prototype.toString.call(i)==="[object Array]"};function B(i,l){for(var h=0;h<i.length;h++)if(i[h]===l)return h;return-1}var C="data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs=";function q(i){return window["webkit"+i]||window["moz"+i]||window["ms"+i]}var et=0;function st(i){var l=+new Date,h=Math.max(0,16-(l-et));return et=l+h,window.setTimeout(i,h)}var W=window.requestAnimationFrame||q("RequestAnimationFrame")||st,Q=window.cancelAnimationFrame||q("CancelAnimationFrame")||q("CancelRequestAnimationFrame")||function(i){window.clearTimeout(i)};function F(i,l,h){if(h&&W===st)i.call(l);else return W.call(window,f(i,l))}function G(i){i&&Q.call(window,i)}var tt={__proto__:null,extend:u,create:d,bind:f,get lastId(){return p},stamp:g,throttle:y,wrapNum:_,falseFn:w,formatNum:S,trim:T,splitWords:M,setOptions:D,getParamString:A,template:H,isArray:k,indexOf:B,emptyImageUrl:C,requestFn:W,cancelFn:Q,requestAnimFrame:F,cancelAnimFrame:G};function ht(){}ht.extend=function(i){var l=function(){D(this),this.initialize&&this.initialize.apply(this,arguments),this.callInitHooks()},h=l.__super__=this.prototype,x=d(h);x.constructor=l,l.prototype=x;for(var E in this)Object.prototype.hasOwnProperty.call(this,E)&&E!=="prototype"&&E!=="__super__"&&(l[E]=this[E]);return i.statics&&u(l,i.statics),i.includes&&(it(i.includes),u.apply(null,[x].concat(i.includes))),u(x,i),delete x.statics,delete x.includes,x.options&&(x.options=h.options?d(h.options):{},u(x.options,i.options)),x._initHooks=[],x.callInitHooks=function(){if(!this._initHooksCalled){h.callInitHooks&&h.callInitHooks.call(this),this._initHooksCalled=!0;for(var R=0,K=x._initHooks.length;R<K;R++)x._initHooks[R].call(this)}},l},ht.include=function(i){var l=this.prototype.options;return u(this.prototype,i),i.options&&(this.prototype.options=l,this.mergeOptions(i.options)),this},ht.mergeOptions=function(i){return u(this.prototype.options,i),this},ht.addInitHook=function(i){var l=Array.prototype.slice.call(arguments,1),h=typeof i=="function"?i:function(){this[i].apply(this,l)};return this.prototype._initHooks=this.prototype._initHooks||[],this.prototype._initHooks.push(h),this};function it(i){if(!(typeof L>"u"||!L||!L.Mixin)){i=k(i)?i:[i];for(var l=0;l<i.length;l++)i[l]===L.Mixin.Events&&console.warn("Deprecated include of L.Mixin.Events: this property will be removed in future releases, please inherit from L.Evented instead.",new Error().stack)}}var Z={on:function(i,l,h){if(typeof i=="object")for(var x in i)this._on(x,i[x],l);else{i=M(i);for(var E=0,R=i.length;E<R;E++)this._on(i[E],l,h)}return this},off:function(i,l,h){if(!arguments.length)delete this._events;else if(typeof i=="object")for(var x in i)this._off(x,i[x],l);else{i=M(i);for(var E=arguments.length===1,R=0,K=i.length;R<K;R++)E?this._off(i[R]):this._off(i[R],l,h)}return this},_on:function(i,l,h,x){if(typeof l!="function"){console.warn("wrong listener type: "+typeof l);return}if(this._listens(i,l,h)===!1){h===this&&(h=void 0);var E={fn:l,ctx:h};x&&(E.once=!0),this._events=this._events||{},this._events[i]=this._events[i]||[],this._events[i].push(E)}},_off:function(i,l,h){var x,E,R;if(this._events&&(x=this._events[i],!!x)){if(arguments.length===1){if(this._firingCount)for(E=0,R=x.length;E<R;E++)x[E].fn=w;delete this._events[i];return}if(typeof l!="function"){console.warn("wrong listener type: "+typeof l);return}var K=this._listens(i,l,h);if(K!==!1){var lt=x[K];this._firingCount&&(lt.fn=w,this._events[i]=x=x.slice()),x.splice(K,1)}}},fire:function(i,l,h){if(!this.listens(i,h))return this;var x=u({},l,{type:i,target:this,sourceTarget:l&&l.sourceTarget||this});if(this._events){var E=this._events[i];if(E){this._firingCount=this._firingCount+1||1;for(var R=0,K=E.length;R<K;R++){var lt=E[R],pt=lt.fn;lt.once&&this.off(i,pt,lt.ctx),pt.call(lt.ctx||this,x)}this._firingCount--}}return h&&this._propagateEvent(x),this},listens:function(i,l,h,x){typeof i!="string"&&console.warn('"string" type argument expected');var E=l;typeof l!="function"&&(x=!!l,E=void 0,h=void 0);var R=this._events&&this._events[i];if(R&&R.length&&this._listens(i,E,h)!==!1)return!0;if(x){for(var K in this._eventParents)if(this._eventParents[K].listens(i,l,h,x))return!0}return!1},_listens:function(i,l,h){if(!this._events)return!1;var x=this._events[i]||[];if(!l)return!!x.length;h===this&&(h=void 0);for(var E=0,R=x.length;E<R;E++)if(x[E].fn===l&&x[E].ctx===h)return E;return!1},once:function(i,l,h){if(typeof i=="object")for(var x in i)this._on(x,i[x],l,!0);else{i=M(i);for(var E=0,R=i.length;E<R;E++)this._on(i[E],l,h,!0)}return this},addEventParent:function(i){return this._eventParents=this._eventParents||{},this._eventParents[g(i)]=i,this},removeEventParent:function(i){return this._eventParents&&delete this._eventParents[g(i)],this},_propagateEvent:function(i){for(var l in this._eventParents)this._eventParents[l].fire(i.type,u({layer:i.target,propagatedFrom:i.target},i),!0)}};Z.addEventListener=Z.on,Z.removeEventListener=Z.clearAllEventListeners=Z.off,Z.addOneTimeEventListener=Z.once,Z.fireEvent=Z.fire,Z.hasEventListeners=Z.listens;var rt=ht.extend(Z);function ot(i,l,h){this.x=h?Math.round(i):i,this.y=h?Math.round(l):l}var yt=Math.trunc||function(i){return i>0?Math.floor(i):Math.ceil(i)};ot.prototype={clone:function(){return new ot(this.x,this.y)},add:function(i){return this.clone()._add(j(i))},_add:function(i){return this.x+=i.x,this.y+=i.y,this},subtract:function(i){return this.clone()._subtract(j(i))},_subtract:function(i){return this.x-=i.x,this.y-=i.y,this},divideBy:function(i){return this.clone()._divideBy(i)},_divideBy:function(i){return this.x/=i,this.y/=i,this},multiplyBy:function(i){return this.clone()._multiplyBy(i)},_multiplyBy:function(i){return this.x*=i,this.y*=i,this},scaleBy:function(i){return new ot(this.x*i.x,this.y*i.y)},unscaleBy:function(i){return new ot(this.x/i.x,this.y/i.y)},round:function(){return this.clone()._round()},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},floor:function(){return this.clone()._floor()},_floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},ceil:function(){return this.clone()._ceil()},_ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},trunc:function(){return this.clone()._trunc()},_trunc:function(){return this.x=yt(this.x),this.y=yt(this.y),this},distanceTo:function(i){i=j(i);var l=i.x-this.x,h=i.y-this.y;return Math.sqrt(l*l+h*h)},equals:function(i){return i=j(i),i.x===this.x&&i.y===this.y},contains:function(i){return i=j(i),Math.abs(i.x)<=Math.abs(this.x)&&Math.abs(i.y)<=Math.abs(this.y)},toString:function(){return"Point("+S(this.x)+", "+S(this.y)+")"}};function j(i,l,h){return i instanceof ot?i:k(i)?new ot(i[0],i[1]):i==null?i:typeof i=="object"&&"x"in i&&"y"in i?new ot(i.x,i.y):new ot(i,l,h)}function $(i,l){if(i)for(var h=l?[i,l]:i,x=0,E=h.length;x<E;x++)this.extend(h[x])}$.prototype={extend:function(i){var l,h;if(!i)return this;if(i instanceof ot||typeof i[0]=="number"||"x"in i)l=h=j(i);else if(i=Y(i),l=i.min,h=i.max,!l||!h)return this;return!this.min&&!this.max?(this.min=l.clone(),this.max=h.clone()):(this.min.x=Math.min(l.x,this.min.x),this.max.x=Math.max(h.x,this.max.x),this.min.y=Math.min(l.y,this.min.y),this.max.y=Math.max(h.y,this.max.y)),this},getCenter:function(i){return j((this.min.x+this.max.x)/2,(this.min.y+this.max.y)/2,i)},getBottomLeft:function(){return j(this.min.x,this.max.y)},getTopRight:function(){return j(this.max.x,this.min.y)},getTopLeft:function(){return this.min},getBottomRight:function(){return this.max},getSize:function(){return this.max.subtract(this.min)},contains:function(i){var l,h;return typeof i[0]=="number"||i instanceof ot?i=j(i):i=Y(i),i instanceof $?(l=i.min,h=i.max):l=h=i,l.x>=this.min.x&&h.x<=this.max.x&&l.y>=this.min.y&&h.y<=this.max.y},intersects:function(i){i=Y(i);var l=this.min,h=this.max,x=i.min,E=i.max,R=E.x>=l.x&&x.x<=h.x,K=E.y>=l.y&&x.y<=h.y;return R&&K},overlaps:function(i){i=Y(i);var l=this.min,h=this.max,x=i.min,E=i.max,R=E.x>l.x&&x.x<h.x,K=E.y>l.y&&x.y<h.y;return R&&K},isValid:function(){return!!(this.min&&this.max)},pad:function(i){var l=this.min,h=this.max,x=Math.abs(l.x-h.x)*i,E=Math.abs(l.y-h.y)*i;return Y(j(l.x-x,l.y-E),j(h.x+x,h.y+E))},equals:function(i){return i?(i=Y(i),this.min.equals(i.getTopLeft())&&this.max.equals(i.getBottomRight())):!1}};function Y(i,l){return!i||i instanceof $?i:new $(i,l)}function J(i,l){if(i)for(var h=l?[i,l]:i,x=0,E=h.length;x<E;x++)this.extend(h[x])}J.prototype={extend:function(i){var l=this._southWest,h=this._northEast,x,E;if(i instanceof I)x=i,E=i;else if(i instanceof J){if(x=i._southWest,E=i._northEast,!x||!E)return this}else return i?this.extend(U(i)||V(i)):this;return!l&&!h?(this._southWest=new I(x.lat,x.lng),this._northEast=new I(E.lat,E.lng)):(l.lat=Math.min(x.lat,l.lat),l.lng=Math.min(x.lng,l.lng),h.lat=Math.max(E.lat,h.lat),h.lng=Math.max(E.lng,h.lng)),this},pad:function(i){var l=this._southWest,h=this._northEast,x=Math.abs(l.lat-h.lat)*i,E=Math.abs(l.lng-h.lng)*i;return new J(new I(l.lat-x,l.lng-E),new I(h.lat+x,h.lng+E))},getCenter:function(){return new I((this._southWest.lat+this._northEast.lat)/2,(this._southWest.lng+this._northEast.lng)/2)},getSouthWest:function(){return this._southWest},getNorthEast:function(){return this._northEast},getNorthWest:function(){return new I(this.getNorth(),this.getWest())},getSouthEast:function(){return new I(this.getSouth(),this.getEast())},getWest:function(){return this._southWest.lng},getSouth:function(){return this._southWest.lat},getEast:function(){return this._northEast.lng},getNorth:function(){return this._northEast.lat},contains:function(i){typeof i[0]=="number"||i instanceof I||"lat"in i?i=U(i):i=V(i);var l=this._southWest,h=this._northEast,x,E;return i instanceof J?(x=i.getSouthWest(),E=i.getNorthEast()):x=E=i,x.lat>=l.lat&&E.lat<=h.lat&&x.lng>=l.lng&&E.lng<=h.lng},intersects:function(i){i=V(i);var l=this._southWest,h=this._northEast,x=i.getSouthWest(),E=i.getNorthEast(),R=E.lat>=l.lat&&x.lat<=h.lat,K=E.lng>=l.lng&&x.lng<=h.lng;return R&&K},overlaps:function(i){i=V(i);var l=this._southWest,h=this._northEast,x=i.getSouthWest(),E=i.getNorthEast(),R=E.lat>l.lat&&x.lat<h.lat,K=E.lng>l.lng&&x.lng<h.lng;return R&&K},toBBoxString:function(){return[this.getWest(),this.getSouth(),this.getEast(),this.getNorth()].join(",")},equals:function(i,l){return i?(i=V(i),this._southWest.equals(i.getSouthWest(),l)&&this._northEast.equals(i.getNorthEast(),l)):!1},isValid:function(){return!!(this._southWest&&this._northEast)}};function V(i,l){return i instanceof J?i:new J(i,l)}function I(i,l,h){if(isNaN(i)||isNaN(l))throw new Error("Invalid LatLng object: ("+i+", "+l+")");this.lat=+i,this.lng=+l,h!==void 0&&(this.alt=+h)}I.prototype={equals:function(i,l){if(!i)return!1;i=U(i);var h=Math.max(Math.abs(this.lat-i.lat),Math.abs(this.lng-i.lng));return h<=(l===void 0?1e-9:l)},toString:function(i){return"LatLng("+S(this.lat,i)+", "+S(this.lng,i)+")"},distanceTo:function(i){return gt.distance(this,U(i))},wrap:function(){return gt.wrapLatLng(this)},toBounds:function(i){var l=180*i/40075017,h=l/Math.cos(Math.PI/180*this.lat);return V([this.lat-l,this.lng-h],[this.lat+l,this.lng+h])},clone:function(){return new I(this.lat,this.lng,this.alt)}};function U(i,l,h){return i instanceof I?i:k(i)&&typeof i[0]!="object"?i.length===3?new I(i[0],i[1],i[2]):i.length===2?new I(i[0],i[1]):null:i==null?i:typeof i=="object"&&"lat"in i?new I(i.lat,"lng"in i?i.lng:i.lon,i.alt):l===void 0?null:new I(i,l,h)}var dt={latLngToPoint:function(i,l){var h=this.projection.project(i),x=this.scale(l);return this.transformation._transform(h,x)},pointToLatLng:function(i,l){var h=this.scale(l),x=this.transformation.untransform(i,h);return this.projection.unproject(x)},project:function(i){return this.projection.project(i)},unproject:function(i){return this.projection.unproject(i)},scale:function(i){return 256*Math.pow(2,i)},zoom:function(i){return Math.log(i/256)/Math.LN2},getProjectedBounds:function(i){if(this.infinite)return null;var l=this.projection.bounds,h=this.scale(i),x=this.transformation.transform(l.min,h),E=this.transformation.transform(l.max,h);return new $(x,E)},infinite:!1,wrapLatLng:function(i){var l=this.wrapLng?_(i.lng,this.wrapLng,!0):i.lng,h=this.wrapLat?_(i.lat,this.wrapLat,!0):i.lat,x=i.alt;return new I(h,l,x)},wrapLatLngBounds:function(i){var l=i.getCenter(),h=this.wrapLatLng(l),x=l.lat-h.lat,E=l.lng-h.lng;if(x===0&&E===0)return i;var R=i.getSouthWest(),K=i.getNorthEast(),lt=new I(R.lat-x,R.lng-E),pt=new I(K.lat-x,K.lng-E);return new J(lt,pt)}},gt=u({},dt,{wrapLng:[-180,180],R:6371e3,distance:function(i,l){var h=Math.PI/180,x=i.lat*h,E=l.lat*h,R=Math.sin((l.lat-i.lat)*h/2),K=Math.sin((l.lng-i.lng)*h/2),lt=R*R+Math.cos(x)*Math.cos(E)*K*K,pt=2*Math.atan2(Math.sqrt(lt),Math.sqrt(1-lt));return this.R*pt}}),Mt=6378137,Nt={R:Mt,MAX_LATITUDE:85.0511287798,project:function(i){var l=Math.PI/180,h=this.MAX_LATITUDE,x=Math.max(Math.min(h,i.lat),-h),E=Math.sin(x*l);return new ot(this.R*i.lng*l,this.R*Math.log((1+E)/(1-E))/2)},unproject:function(i){var l=180/Math.PI;return new I((2*Math.atan(Math.exp(i.y/this.R))-Math.PI/2)*l,i.x*l/this.R)},bounds:(function(){var i=Mt*Math.PI;return new $([-i,-i],[i,i])})()};function kt(i,l,h,x){if(k(i)){this._a=i[0],this._b=i[1],this._c=i[2],this._d=i[3];return}this._a=i,this._b=l,this._c=h,this._d=x}kt.prototype={transform:function(i,l){return this._transform(i.clone(),l)},_transform:function(i,l){return l=l||1,i.x=l*(this._a*i.x+this._b),i.y=l*(this._c*i.y+this._d),i},untransform:function(i,l){return l=l||1,new ot((i.x/l-this._b)/this._a,(i.y/l-this._d)/this._c)}};function Dt(i,l,h,x){return new kt(i,l,h,x)}var St=u({},gt,{code:"EPSG:3857",projection:Nt,transformation:(function(){var i=.5/(Math.PI*Nt.R);return Dt(i,.5,-i,.5)})()}),Ot=u({},St,{code:"EPSG:900913"});function Ct(i){return document.createElementNS("http://www.w3.org/2000/svg",i)}function Kt(i,l){var h="",x,E,R,K,lt,pt;for(x=0,R=i.length;x<R;x++){for(lt=i[x],E=0,K=lt.length;E<K;E++)pt=lt[E],h+=(E?"L":"M")+pt.x+" "+pt.y;h+=l?zt.svg?"z":"x":""}return h||"M0 0"}var It=document.documentElement.style,Wt="ActiveXObject"in window,xt=Wt&&!document.addEventListener,Rt="msLaunchUri"in navigator&&!("documentMode"in document),_t=Vn("webkit"),de=Vn("android"),Ie=Vn("android 2")||Vn("android 3"),we=parseInt(/WebKit\/([0-9]+)|$/.exec(navigator.userAgent)[1],10),qt=de&&Vn("Google")&&we<537&&!("AudioNode"in window),Oe=!!window.opera,Be=!Rt&&Vn("chrome"),en=Vn("gecko")&&!_t&&!Oe&&!Wt,Re=!Be&&Vn("safari"),_i=Vn("phantom"),ii="OTransition"in It,ea=navigator.platform.indexOf("Win")===0,Zr=Wt&&"transition"in It,Yn="WebKitCSSMatrix"in window&&"m11"in new window.WebKitCSSMatrix&&!Ie,pn="MozPerspective"in It,Yr=!window.L_DISABLE_3D&&(Zr||Yn||pn)&&!ii&&!_i,qn=typeof orientation<"u"||Vn("mobile"),sl=qn&&_t,to=qn&&Yn,qr=!window.PointerEvent&&window.MSPointerEvent,Fn=!!(window.PointerEvent||qr),Si="ontouchstart"in window||!!window.TouchEvent,ll=!window.L_NO_TOUCH&&(Si||Fn),eo=qn&&Oe,Jc=qn&&en,cl=(window.devicePixelRatio||window.screen.deviceXDPI/window.screen.logicalXDPI)>1,ul=(function(){var i=!1;try{var l=Object.defineProperty({},"passive",{get:function(){i=!0}});window.addEventListener("testPassiveEventSupport",w,l),window.removeEventListener("testPassiveEventSupport",w,l)}catch{}return i})(),tu=(function(){return!!document.createElement("canvas").getContext})(),dl=!!(document.createElementNS&&Ct("svg").createSVGRect),ai=!!dl&&(function(){var i=document.createElement("div");return i.innerHTML="<svg/>",(i.firstChild&&i.firstChild.namespaceURI)==="http://www.w3.org/2000/svg"})(),sn=!dl&&(function(){try{var i=document.createElement("div");i.innerHTML='<v:shape adj="1"/>';var l=i.firstChild;return l.style.behavior="url(#default#VML)",l&&typeof l.adj=="object"}catch{return!1}})(),Tn=navigator.platform.indexOf("Mac")===0,na=navigator.platform.indexOf("Linux")===0;function Vn(i){return navigator.userAgent.toLowerCase().indexOf(i)>=0}var zt={ie:Wt,ielt9:xt,edge:Rt,webkit:_t,android:de,android23:Ie,androidStock:qt,opera:Oe,chrome:Be,gecko:en,safari:Re,phantom:_i,opera12:ii,win:ea,ie3d:Zr,webkit3d:Yn,gecko3d:pn,any3d:Yr,mobile:qn,mobileWebkit:sl,mobileWebkit3d:to,msPointer:qr,pointer:Fn,touch:ll,touchNative:Si,mobileOpera:eo,mobileGecko:Jc,retina:cl,passiveEvents:ul,canvas:tu,svg:dl,vml:sn,inlineSvg:ai,mac:Tn,linux:na},eu=zt.msPointer?"MSPointerDown":"pointerdown",fl=zt.msPointer?"MSPointerMove":"pointermove",ra=zt.msPointer?"MSPointerUp":"pointerup",qo=zt.msPointer?"MSPointerCancel":"pointercancel",oi={touchstart:eu,touchmove:fl,touchend:ra,touchcancel:qo},wi={touchstart:iu,touchmove:no,touchend:no,touchcancel:no},wr={},Ti=!1;function Qe(i,l,h){return l==="touchstart"&&lh(),wi[l]?(h=wi[l].bind(this,h),i.addEventListener(oi[l],h,!1),h):(console.warn("wrong event specified:",l),w)}function nu(i,l,h){if(!oi[l]){console.warn("wrong event specified:",l);return}i.removeEventListener(oi[l],h,!1)}function ru(i){wr[i.pointerId]=i}function Ei(i){wr[i.pointerId]&&(wr[i.pointerId]=i)}function Mi(i){delete wr[i.pointerId]}function lh(){Ti||(document.addEventListener(eu,ru,!0),document.addEventListener(fl,Ei,!0),document.addEventListener(ra,Mi,!0),document.addEventListener(qo,Mi,!0),Ti=!0)}function no(i,l){if(l.pointerType!==(l.MSPOINTER_TYPE_MOUSE||"mouse")){l.touches=[];for(var h in wr)l.touches.push(wr[h]);l.changedTouches=[l],i(l)}}function iu(i,l){l.MSPOINTER_TYPE_TOUCH&&l.pointerType===l.MSPOINTER_TYPE_TOUCH&&Fe(l),no(i,l)}function ch(i){var l={},h,x;for(x in i)h=i[x],l[x]=h&&h.bind?h.bind(i):h;return i=l,l.type="dblclick",l.detail=2,l.isTrusted=!1,l._simulated=!0,l}var Fo=200;function Vo(i,l){i.addEventListener("dblclick",l);var h=0,x;function E(R){if(R.detail!==1){x=R.detail;return}if(!(R.pointerType==="mouse"||R.sourceCapabilities&&!R.sourceCapabilities.firesTouchEvents)){var K=pl(R);if(!(K.some(function(pt){return pt instanceof HTMLLabelElement&&pt.attributes.for})&&!K.some(function(pt){return pt instanceof HTMLInputElement||pt instanceof HTMLSelectElement}))){var lt=Date.now();lt-h<=Fo?(x++,x===2&&l(ch(R))):x=1,h=lt}}}return i.addEventListener("click",E),{dblclick:l,simDblclick:E}}function Fr(i,l){i.removeEventListener("dblclick",l.dblclick),i.removeEventListener("click",l.simDblclick)}var ro=sa(["transform","webkitTransform","OTransform","MozTransform","msTransform"]),ia=sa(["webkitTransition","transition","OTransition","MozTransition","msTransition"]),Ni=ia==="webkitTransition"||ia==="OTransition"?ia+"End":"transitionend";function Ko(i){return typeof i=="string"?document.getElementById(i):i}function Ai(i,l){var h=i.style[l]||i.currentStyle&&i.currentStyle[l];if((!h||h==="auto")&&document.defaultView){var x=document.defaultView.getComputedStyle(i,null);h=x?x[l]:null}return h==="auto"?null:h}function se(i,l,h){var x=document.createElement(i);return x.className=l||"",h&&h.appendChild(x),x}function Me(i){var l=i.parentNode;l&&l.removeChild(i)}function gn(i){for(;i.firstChild;)i.removeChild(i.firstChild)}function Di(i){var l=i.parentNode;l&&l.lastChild!==i&&l.appendChild(i)}function aa(i){var l=i.parentNode;l&&l.firstChild!==i&&l.insertBefore(i,l.firstChild)}function oa(i,l){if(i.classList!==void 0)return i.classList.contains(l);var h=bn(i);return h.length>0&&new RegExp("(^|\\s)"+l+"(\\s|$)").test(h)}function Xt(i,l){if(i.classList!==void 0)for(var h=M(l),x=0,E=h.length;x<E;x++)i.classList.add(h[x]);else if(!oa(i,l)){var R=bn(i);hl(i,(R?R+" ":"")+l)}}function Ne(i,l){i.classList!==void 0?i.classList.remove(l):hl(i,T((" "+bn(i)+" ").replace(" "+l+" "," ")))}function hl(i,l){i.className.baseVal===void 0?i.className=l:i.className.baseVal=l}function bn(i){return i.correspondingElement&&(i=i.correspondingElement),i.className.baseVal===void 0?i.className:i.className.baseVal}function En(i,l){"opacity"in i.style?i.style.opacity=l:"filter"in i.style&&au(i,l)}function au(i,l){var h=!1,x="DXImageTransform.Microsoft.Alpha";try{h=i.filters.item(x)}catch{if(l===1)return}l=Math.round(l*100),h?(h.Enabled=l!==100,h.Opacity=l):i.style.filter+=" progid:"+x+"(opacity="+l+")"}function sa(i){for(var l=document.documentElement.style,h=0;h<i.length;h++)if(i[h]in l)return i[h];return!1}function Kn(i,l,h){var x=l||new ot(0,0);i.style[ro]=(zt.ie3d?"translate("+x.x+"px,"+x.y+"px)":"translate3d("+x.x+"px,"+x.y+"px,0)")+(h?" scale("+h+")":"")}function Ue(i,l){i._leaflet_pos=l,zt.any3d?Kn(i,l):(i.style.left=l.x+"px",i.style.top=l.y+"px")}function si(i){return i._leaflet_pos||new ot(0,0)}var Tr,io,Xo;if("onselectstart"in document)Tr=function(){Vt(window,"selectstart",Fe)},io=function(){fe(window,"selectstart",Fe)};else{var la=sa(["userSelect","WebkitUserSelect","OUserSelect","MozUserSelect","msUserSelect"]);Tr=function(){if(la){var i=document.documentElement.style;Xo=i[la],i[la]="none"}},io=function(){la&&(document.documentElement.style[la]=Xo,Xo=void 0)}}function ao(){Vt(window,"dragstart",Fe)}function ml(){fe(window,"dragstart",Fe)}var Wo,ca;function oo(i){for(;i.tabIndex===-1;)i=i.parentNode;i.style&&(ua(),Wo=i,ca=i.style.outlineStyle,i.style.outlineStyle="none",Vt(window,"keydown",ua))}function ua(){Wo&&(Wo.style.outlineStyle=ca,Wo=void 0,ca=void 0,fe(window,"keydown",ua))}function ji(i){do i=i.parentNode;while((!i.offsetWidth||!i.offsetHeight)&&i!==document.body);return i}function li(i){var l=i.getBoundingClientRect();return{x:l.width/i.offsetWidth||1,y:l.height/i.offsetHeight||1,boundingClientRect:l}}var ou={__proto__:null,TRANSFORM:ro,TRANSITION:ia,TRANSITION_END:Ni,get:Ko,getStyle:Ai,create:se,remove:Me,empty:gn,toFront:Di,toBack:aa,hasClass:oa,addClass:Xt,removeClass:Ne,setClass:hl,getClass:bn,setOpacity:En,testProp:sa,setTransform:Kn,setPosition:Ue,getPosition:si,get disableTextSelection(){return Tr},get enableTextSelection(){return io},disableImageDrag:ao,enableImageDrag:ml,preventOutline:oo,restoreOutline:ua,getSizedParentNode:ji,getScale:li};function Vt(i,l,h,x){if(l&&typeof l=="object")for(var E in l)ki(i,E,l[E],h);else{l=M(l);for(var R=0,K=l.length;R<K;R++)ki(i,l[R],h,x)}return this}var er="_leaflet_events";function fe(i,l,h,x){if(arguments.length===1)Er(i),delete i[er];else if(l&&typeof l=="object")for(var E in l)Mr(i,E,l[E],h);else if(l=M(l),arguments.length===2)Er(i,function(lt){return B(l,lt)!==-1});else for(var R=0,K=l.length;R<K;R++)Mr(i,l[R],h,x);return this}function Er(i,l){for(var h in i[er]){var x=h.split(/\d/)[0];(!l||l(x))&&Mr(i,x,null,null,h)}}var so={mouseenter:"mouseover",mouseleave:"mouseout",wheel:!("onwheel"in window)&&"mousewheel"};function ki(i,l,h,x){var E=l+g(h)+(x?"_"+g(x):"");if(i[er]&&i[er][E])return this;var R=function(lt){return h.call(x||i,lt||window.event)},K=R;!zt.touchNative&&zt.pointer&&l.indexOf("touch")===0?R=Qe(i,l,R):zt.touch&&l==="dblclick"?R=Vo(i,R):"addEventListener"in i?l==="touchstart"||l==="touchmove"||l==="wheel"||l==="mousewheel"?i.addEventListener(so[l]||l,R,zt.passiveEvents?{passive:!1}:!1):l==="mouseenter"||l==="mouseleave"?(R=function(lt){lt=lt||window.event,Ci(i,lt)&&K(lt)},i.addEventListener(so[l],R,!1)):i.addEventListener(l,K,!1):i.attachEvent("on"+l,R),i[er]=i[er]||{},i[er][E]=R}function Mr(i,l,h,x,E){E=E||l+g(h)+(x?"_"+g(x):"");var R=i[er]&&i[er][E];if(!R)return this;!zt.touchNative&&zt.pointer&&l.indexOf("touch")===0?nu(i,l,R):zt.touch&&l==="dblclick"?Fr(i,R):"removeEventListener"in i?i.removeEventListener(so[l]||l,R,!1):i.detachEvent("on"+l,R),i[er][E]=null}function Vr(i){return i.stopPropagation?i.stopPropagation():i.originalEvent?i.originalEvent._stopped=!0:i.cancelBubble=!0,this}function da(i){return ki(i,"wheel",Vr),this}function fa(i){return Vt(i,"mousedown touchstart dblclick contextmenu",Vr),i._leaflet_disable_click=!0,this}function Fe(i){return i.preventDefault?i.preventDefault():i.returnValue=!1,this}function Nr(i){return Fe(i),Vr(i),this}function pl(i){if(i.composedPath)return i.composedPath();for(var l=[],h=i.target;h;)l.push(h),h=h.parentNode;return l}function yn(i,l){if(!l)return new ot(i.clientX,i.clientY);var h=li(l),x=h.boundingClientRect;return new ot((i.clientX-x.left)/h.x-l.clientLeft,(i.clientY-x.top)/h.y-l.clientTop)}var Oi=zt.linux&&zt.chrome?window.devicePixelRatio:zt.mac?window.devicePixelRatio*3:window.devicePixelRatio>0?2*window.devicePixelRatio:1;function lo(i){return zt.edge?i.wheelDeltaY/2:i.deltaY&&i.deltaMode===0?-i.deltaY/Oi:i.deltaY&&i.deltaMode===1?-i.deltaY*20:i.deltaY&&i.deltaMode===2?-i.deltaY*60:i.deltaX||i.deltaZ?0:i.wheelDelta?(i.wheelDeltaY||i.wheelDelta)/2:i.detail&&Math.abs(i.detail)<32765?-i.detail*20:i.detail?i.detail/-32765*60:0}function Ci(i,l){var h=l.relatedTarget;if(!h)return!0;try{for(;h&&h!==i;)h=h.parentNode}catch{return!1}return h!==i}var uh={__proto__:null,on:Vt,off:fe,stopPropagation:Vr,disableScrollPropagation:da,disableClickPropagation:fa,preventDefault:Fe,stop:Nr,getPropagationPath:pl,getMousePosition:yn,getWheelDelta:lo,isExternalTarget:Ci,addListener:Vt,removeListener:fe},Qo=rt.extend({run:function(i,l,h,x){this.stop(),this._el=i,this._inProgress=!0,this._duration=h||.25,this._easeOutPower=1/Math.max(x||.5,.2),this._startPos=si(i),this._offset=l.subtract(this._startPos),this._startTime=+new Date,this.fire("start"),this._animate()},stop:function(){this._inProgress&&(this._step(!0),this._complete())},_animate:function(){this._animId=F(this._animate,this),this._step()},_step:function(i){var l=+new Date-this._startTime,h=this._duration*1e3;l<h?this._runFrame(this._easeOut(l/h),i):(this._runFrame(1),this._complete())},_runFrame:function(i,l){var h=this._startPos.add(this._offset.multiplyBy(i));l&&h._round(),Ue(this._el,h),this.fire("step")},_complete:function(){G(this._animId),this._inProgress=!1,this.fire("end")},_easeOut:function(i){return 1-Math.pow(1-i,this._easeOutPower)}}),te=rt.extend({options:{crs:St,center:void 0,zoom:void 0,minZoom:void 0,maxZoom:void 0,layers:[],maxBounds:void 0,renderer:void 0,zoomAnimation:!0,zoomAnimationThreshold:4,fadeAnimation:!0,markerZoomAnimation:!0,transform3DLimit:8388608,zoomSnap:1,zoomDelta:1,trackResize:!0},initialize:function(i,l){l=D(this,l),this._handlers=[],this._layers={},this._zoomBoundLayers={},this._sizeChanged=!0,this._initContainer(i),this._initLayout(),this._onResize=f(this._onResize,this),this._initEvents(),l.maxBounds&&this.setMaxBounds(l.maxBounds),l.zoom!==void 0&&(this._zoom=this._limitZoom(l.zoom)),l.center&&l.zoom!==void 0&&this.setView(U(l.center),l.zoom,{reset:!0}),this.callInitHooks(),this._zoomAnimated=ia&&zt.any3d&&!zt.mobileOpera&&this.options.zoomAnimation,this._zoomAnimated&&(this._createAnimProxy(),Vt(this._proxy,Ni,this._catchTransitionEnd,this)),this._addLayers(this.options.layers)},setView:function(i,l,h){if(l=l===void 0?this._zoom:this._limitZoom(l),i=this._limitCenter(U(i),l,this.options.maxBounds),h=h||{},this._stop(),this._loaded&&!h.reset&&h!==!0){h.animate!==void 0&&(h.zoom=u({animate:h.animate},h.zoom),h.pan=u({animate:h.animate,duration:h.duration},h.pan));var x=this._zoom!==l?this._tryAnimatedZoom&&this._tryAnimatedZoom(i,l,h.zoom):this._tryAnimatedPan(i,h.pan);if(x)return clearTimeout(this._sizeTimer),this}return this._resetView(i,l,h.pan&&h.pan.noMoveStart),this},setZoom:function(i,l){return this._loaded?this.setView(this.getCenter(),i,{zoom:l}):(this._zoom=i,this)},zoomIn:function(i,l){return i=i||(zt.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom+i,l)},zoomOut:function(i,l){return i=i||(zt.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom-i,l)},setZoomAround:function(i,l,h){var x=this.getZoomScale(l),E=this.getSize().divideBy(2),R=i instanceof ot?i:this.latLngToContainerPoint(i),K=R.subtract(E).multiplyBy(1-1/x),lt=this.containerPointToLatLng(E.add(K));return this.setView(lt,l,{zoom:h})},_getBoundsCenterZoom:function(i,l){l=l||{},i=i.getBounds?i.getBounds():V(i);var h=j(l.paddingTopLeft||l.padding||[0,0]),x=j(l.paddingBottomRight||l.padding||[0,0]),E=this.getBoundsZoom(i,!1,h.add(x));if(E=typeof l.maxZoom=="number"?Math.min(l.maxZoom,E):E,E===1/0)return{center:i.getCenter(),zoom:E};var R=x.subtract(h).divideBy(2),K=this.project(i.getSouthWest(),E),lt=this.project(i.getNorthEast(),E),pt=this.unproject(K.add(lt).divideBy(2).add(R),E);return{center:pt,zoom:E}},fitBounds:function(i,l){if(i=V(i),!i.isValid())throw new Error("Bounds are not valid.");var h=this._getBoundsCenterZoom(i,l);return this.setView(h.center,h.zoom,l)},fitWorld:function(i){return this.fitBounds([[-90,-180],[90,180]],i)},panTo:function(i,l){return this.setView(i,this._zoom,{pan:l})},panBy:function(i,l){if(i=j(i).round(),l=l||{},!i.x&&!i.y)return this.fire("moveend");if(l.animate!==!0&&!this.getSize().contains(i))return this._resetView(this.unproject(this.project(this.getCenter()).add(i)),this.getZoom()),this;if(this._panAnim||(this._panAnim=new Qo,this._panAnim.on({step:this._onPanTransitionStep,end:this._onPanTransitionEnd},this)),l.noMoveStart||this.fire("movestart"),l.animate!==!1){Xt(this._mapPane,"leaflet-pan-anim");var h=this._getMapPanePos().subtract(i).round();this._panAnim.run(this._mapPane,h,l.duration||.25,l.easeLinearity)}else this._rawPanBy(i),this.fire("move").fire("moveend");return this},flyTo:function(i,l,h){if(h=h||{},h.animate===!1||!zt.any3d)return this.setView(i,l,h);this._stop();var x=this.project(this.getCenter()),E=this.project(i),R=this.getSize(),K=this._zoom;i=U(i),l=l===void 0?K:l;var lt=Math.max(R.x,R.y),pt=lt*this.getZoomScale(K,l),Et=E.distanceTo(x)||1,jt=1.42,Lt=jt*jt;function Pt(Pe){var jr=Pe?-1:1,Wr=Pe?pt:lt,hi=pt*pt-lt*lt+jr*Lt*Lt*Et*Et,Qr=2*Wr*Lt*Et,So=hi/Qr,ds=Math.sqrt(So*So+1)-So,wo=ds<1e-9?-18:Math.log(ds);return wo}function Ft(Pe){return(Math.exp(Pe)-Math.exp(-Pe))/2}function Ae(Pe){return(Math.exp(Pe)+Math.exp(-Pe))/2}function Ge(Pe){return Ft(Pe)/Ae(Pe)}var cn=Pt(0);function Xn(Pe){return lt*(Ae(cn)/Ae(cn+jt*Pe))}function Eu(Pe){return lt*(Ae(cn)*Ge(cn+jt*Pe)-Ft(cn))/Lt}function Mu(Pe){return 1-Math.pow(1-Pe,1.5)}var _o=Date.now(),Ta=(Pt(1)-cn)/jt,Nu=h.duration?1e3*h.duration:1e3*Ta*.8;function Ea(){var Pe=(Date.now()-_o)/Nu,jr=Mu(Pe)*Ta;Pe<=1?(this._flyToFrame=F(Ea,this),this._move(this.unproject(x.add(E.subtract(x).multiplyBy(Eu(jr)/Et)),K),this.getScaleZoom(lt/Xn(jr),K),{flyTo:!0})):this._move(i,l)._moveEnd(!0)}return this._moveStart(!0,h.noMoveStart),Ea.call(this),this},flyToBounds:function(i,l){var h=this._getBoundsCenterZoom(i,l);return this.flyTo(h.center,h.zoom,l)},setMaxBounds:function(i){return i=V(i),this.listens("moveend",this._panInsideMaxBounds)&&this.off("moveend",this._panInsideMaxBounds),i.isValid()?(this.options.maxBounds=i,this._loaded&&this._panInsideMaxBounds(),this.on("moveend",this._panInsideMaxBounds)):(this.options.maxBounds=null,this)},setMinZoom:function(i){var l=this.options.minZoom;return this.options.minZoom=i,this._loaded&&l!==i&&(this.fire("zoomlevelschange"),this.getZoom()<this.options.minZoom)?this.setZoom(i):this},setMaxZoom:function(i){var l=this.options.maxZoom;return this.options.maxZoom=i,this._loaded&&l!==i&&(this.fire("zoomlevelschange"),this.getZoom()>this.options.maxZoom)?this.setZoom(i):this},panInsideBounds:function(i,l){this._enforcingBounds=!0;var h=this.getCenter(),x=this._limitCenter(h,this._zoom,V(i));return h.equals(x)||this.panTo(x,l),this._enforcingBounds=!1,this},panInside:function(i,l){l=l||{};var h=j(l.paddingTopLeft||l.padding||[0,0]),x=j(l.paddingBottomRight||l.padding||[0,0]),E=this.project(this.getCenter()),R=this.project(i),K=this.getPixelBounds(),lt=Y([K.min.add(h),K.max.subtract(x)]),pt=lt.getSize();if(!lt.contains(R)){this._enforcingBounds=!0;var Et=R.subtract(lt.getCenter()),jt=lt.extend(R).getSize().subtract(pt);E.x+=Et.x<0?-jt.x:jt.x,E.y+=Et.y<0?-jt.y:jt.y,this.panTo(this.unproject(E),l),this._enforcingBounds=!1}return this},invalidateSize:function(i){if(!this._loaded)return this;i=u({animate:!1,pan:!0},i===!0?{animate:!0}:i);var l=this.getSize();this._sizeChanged=!0,this._lastCenter=null;var h=this.getSize(),x=l.divideBy(2).round(),E=h.divideBy(2).round(),R=x.subtract(E);return!R.x&&!R.y?this:(i.animate&&i.pan?this.panBy(R):(i.pan&&this._rawPanBy(R),this.fire("move"),i.debounceMoveend?(clearTimeout(this._sizeTimer),this._sizeTimer=setTimeout(f(this.fire,this,"moveend"),200)):this.fire("moveend")),this.fire("resize",{oldSize:l,newSize:h}))},stop:function(){return this.setZoom(this._limitZoom(this._zoom)),this.options.zoomSnap||this.fire("viewreset"),this._stop()},locate:function(i){if(i=this._locateOptions=u({timeout:1e4,watch:!1},i),!("geolocation"in navigator))return this._handleGeolocationError({code:0,message:"Geolocation not supported."}),this;var l=f(this._handleGeolocationResponse,this),h=f(this._handleGeolocationError,this);return i.watch?this._locationWatchId=navigator.geolocation.watchPosition(l,h,i):navigator.geolocation.getCurrentPosition(l,h,i),this},stopLocate:function(){return navigator.geolocation&&navigator.geolocation.clearWatch&&navigator.geolocation.clearWatch(this._locationWatchId),this._locateOptions&&(this._locateOptions.setView=!1),this},_handleGeolocationError:function(i){if(this._container._leaflet_id){var l=i.code,h=i.message||(l===1?"permission denied":l===2?"position unavailable":"timeout");this._locateOptions.setView&&!this._loaded&&this.fitWorld(),this.fire("locationerror",{code:l,message:"Geolocation error: "+h+"."})}},_handleGeolocationResponse:function(i){if(this._container._leaflet_id){var l=i.coords.latitude,h=i.coords.longitude,x=new I(l,h),E=x.toBounds(i.coords.accuracy*2),R=this._locateOptions;if(R.setView){var K=this.getBoundsZoom(E);this.setView(x,R.maxZoom?Math.min(K,R.maxZoom):K)}var lt={latlng:x,bounds:E,timestamp:i.timestamp};for(var pt in i.coords)typeof i.coords[pt]=="number"&&(lt[pt]=i.coords[pt]);this.fire("locationfound",lt)}},addHandler:function(i,l){if(!l)return this;var h=this[i]=new l(this);return this._handlers.push(h),this.options[i]&&h.enable(),this},remove:function(){if(this._initEvents(!0),this.options.maxBounds&&this.off("moveend",this._panInsideMaxBounds),this._containerId!==this._container._leaflet_id)throw new Error("Map container is being reused by another instance");try{delete this._container._leaflet_id,delete this._containerId}catch{this._container._leaflet_id=void 0,this._containerId=void 0}this._locationWatchId!==void 0&&this.stopLocate(),this._stop(),Me(this._mapPane),this._clearControlPos&&this._clearControlPos(),this._resizeRequest&&(G(this._resizeRequest),this._resizeRequest=null),this._clearHandlers(),this._loaded&&this.fire("unload");var i;for(i in this._layers)this._layers[i].remove();for(i in this._panes)Me(this._panes[i]);return this._layers=[],this._panes=[],delete this._mapPane,delete this._renderer,this},createPane:function(i,l){var h="leaflet-pane"+(i?" leaflet-"+i.replace("Pane","")+"-pane":""),x=se("div",h,l||this._mapPane);return i&&(this._panes[i]=x),x},getCenter:function(){return this._checkIfLoaded(),this._lastCenter&&!this._moved()?this._lastCenter.clone():this.layerPointToLatLng(this._getCenterLayerPoint())},getZoom:function(){return this._zoom},getBounds:function(){var i=this.getPixelBounds(),l=this.unproject(i.getBottomLeft()),h=this.unproject(i.getTopRight());return new J(l,h)},getMinZoom:function(){return this.options.minZoom===void 0?this._layersMinZoom||0:this.options.minZoom},getMaxZoom:function(){return this.options.maxZoom===void 0?this._layersMaxZoom===void 0?1/0:this._layersMaxZoom:this.options.maxZoom},getBoundsZoom:function(i,l,h){i=V(i),h=j(h||[0,0]);var x=this.getZoom()||0,E=this.getMinZoom(),R=this.getMaxZoom(),K=i.getNorthWest(),lt=i.getSouthEast(),pt=this.getSize().subtract(h),Et=Y(this.project(lt,x),this.project(K,x)).getSize(),jt=zt.any3d?this.options.zoomSnap:1,Lt=pt.x/Et.x,Pt=pt.y/Et.y,Ft=l?Math.max(Lt,Pt):Math.min(Lt,Pt);return x=this.getScaleZoom(Ft,x),jt&&(x=Math.round(x/(jt/100))*(jt/100),x=l?Math.ceil(x/jt)*jt:Math.floor(x/jt)*jt),Math.max(E,Math.min(R,x))},getSize:function(){return(!this._size||this._sizeChanged)&&(this._size=new ot(this._container.clientWidth||0,this._container.clientHeight||0),this._sizeChanged=!1),this._size.clone()},getPixelBounds:function(i,l){var h=this._getTopLeftPoint(i,l);return new $(h,h.add(this.getSize()))},getPixelOrigin:function(){return this._checkIfLoaded(),this._pixelOrigin},getPixelWorldBounds:function(i){return this.options.crs.getProjectedBounds(i===void 0?this.getZoom():i)},getPane:function(i){return typeof i=="string"?this._panes[i]:i},getPanes:function(){return this._panes},getContainer:function(){return this._container},getZoomScale:function(i,l){var h=this.options.crs;return l=l===void 0?this._zoom:l,h.scale(i)/h.scale(l)},getScaleZoom:function(i,l){var h=this.options.crs;l=l===void 0?this._zoom:l;var x=h.zoom(i*h.scale(l));return isNaN(x)?1/0:x},project:function(i,l){return l=l===void 0?this._zoom:l,this.options.crs.latLngToPoint(U(i),l)},unproject:function(i,l){return l=l===void 0?this._zoom:l,this.options.crs.pointToLatLng(j(i),l)},layerPointToLatLng:function(i){var l=j(i).add(this.getPixelOrigin());return this.unproject(l)},latLngToLayerPoint:function(i){var l=this.project(U(i))._round();return l._subtract(this.getPixelOrigin())},wrapLatLng:function(i){return this.options.crs.wrapLatLng(U(i))},wrapLatLngBounds:function(i){return this.options.crs.wrapLatLngBounds(V(i))},distance:function(i,l){return this.options.crs.distance(U(i),U(l))},containerPointToLayerPoint:function(i){return j(i).subtract(this._getMapPanePos())},layerPointToContainerPoint:function(i){return j(i).add(this._getMapPanePos())},containerPointToLatLng:function(i){var l=this.containerPointToLayerPoint(j(i));return this.layerPointToLatLng(l)},latLngToContainerPoint:function(i){return this.layerPointToContainerPoint(this.latLngToLayerPoint(U(i)))},mouseEventToContainerPoint:function(i){return yn(i,this._container)},mouseEventToLayerPoint:function(i){return this.containerPointToLayerPoint(this.mouseEventToContainerPoint(i))},mouseEventToLatLng:function(i){return this.layerPointToLatLng(this.mouseEventToLayerPoint(i))},_initContainer:function(i){var l=this._container=Ko(i);if(l){if(l._leaflet_id)throw new Error("Map container is already initialized.")}else throw new Error("Map container not found.");Vt(l,"scroll",this._onScroll,this),this._containerId=g(l)},_initLayout:function(){var i=this._container;this._fadeAnimated=this.options.fadeAnimation&&zt.any3d,Xt(i,"leaflet-container"+(zt.touch?" leaflet-touch":"")+(zt.retina?" leaflet-retina":"")+(zt.ielt9?" leaflet-oldie":"")+(zt.safari?" leaflet-safari":"")+(this._fadeAnimated?" leaflet-fade-anim":""));var l=Ai(i,"position");l!=="absolute"&&l!=="relative"&&l!=="fixed"&&l!=="sticky"&&(i.style.position="relative"),this._initPanes(),this._initControlPos&&this._initControlPos()},_initPanes:function(){var i=this._panes={};this._paneRenderers={},this._mapPane=this.createPane("mapPane",this._container),Ue(this._mapPane,new ot(0,0)),this.createPane("tilePane"),this.createPane("overlayPane"),this.createPane("shadowPane"),this.createPane("markerPane"),this.createPane("tooltipPane"),this.createPane("popupPane"),this.options.markerZoomAnimation||(Xt(i.markerPane,"leaflet-zoom-hide"),Xt(i.shadowPane,"leaflet-zoom-hide"))},_resetView:function(i,l,h){Ue(this._mapPane,new ot(0,0));var x=!this._loaded;this._loaded=!0,l=this._limitZoom(l),this.fire("viewprereset");var E=this._zoom!==l;this._moveStart(E,h)._move(i,l)._moveEnd(E),this.fire("viewreset"),x&&this.fire("load")},_moveStart:function(i,l){return i&&this.fire("zoomstart"),l||this.fire("movestart"),this},_move:function(i,l,h,x){l===void 0&&(l=this._zoom);var E=this._zoom!==l;return this._zoom=l,this._lastCenter=i,this._pixelOrigin=this._getNewPixelOrigin(i),x?h&&h.pinch&&this.fire("zoom",h):((E||h&&h.pinch)&&this.fire("zoom",h),this.fire("move",h)),this},_moveEnd:function(i){return i&&this.fire("zoomend"),this.fire("moveend")},_stop:function(){return G(this._flyToFrame),this._panAnim&&this._panAnim.stop(),this},_rawPanBy:function(i){Ue(this._mapPane,this._getMapPanePos().subtract(i))},_getZoomSpan:function(){return this.getMaxZoom()-this.getMinZoom()},_panInsideMaxBounds:function(){this._enforcingBounds||this.panInsideBounds(this.options.maxBounds)},_checkIfLoaded:function(){if(!this._loaded)throw new Error("Set map center and zoom first.")},_initEvents:function(i){this._targets={},this._targets[g(this._container)]=this;var l=i?fe:Vt;l(this._container,"click dblclick mousedown mouseup mouseover mouseout mousemove contextmenu keypress keydown keyup",this._handleDOMEvent,this),this.options.trackResize&&l(window,"resize",this._onResize,this),zt.any3d&&this.options.transform3DLimit&&(i?this.off:this.on).call(this,"moveend",this._onMoveEnd)},_onResize:function(){G(this._resizeRequest),this._resizeRequest=F(function(){this.invalidateSize({debounceMoveend:!0})},this)},_onScroll:function(){this._container.scrollTop=0,this._container.scrollLeft=0},_onMoveEnd:function(){var i=this._getMapPanePos();Math.max(Math.abs(i.x),Math.abs(i.y))>=this.options.transform3DLimit&&this._resetView(this.getCenter(),this.getZoom())},_findEventTargets:function(i,l){for(var h=[],x,E=l==="mouseout"||l==="mouseover",R=i.target||i.srcElement,K=!1;R;){if(x=this._targets[g(R)],x&&(l==="click"||l==="preclick")&&this._draggableMoved(x)){K=!0;break}if(x&&x.listens(l,!0)&&(E&&!Ci(R,i)||(h.push(x),E))||R===this._container)break;R=R.parentNode}return!h.length&&!K&&!E&&this.listens(l,!0)&&(h=[this]),h},_isClickDisabled:function(i){for(;i&&i!==this._container;){if(i._leaflet_disable_click)return!0;i=i.parentNode}},_handleDOMEvent:function(i){var l=i.target||i.srcElement;if(!(!this._loaded||l._leaflet_disable_events||i.type==="click"&&this._isClickDisabled(l))){var h=i.type;h==="mousedown"&&oo(l),this._fireDOMEvent(i,h)}},_mouseEvents:["click","dblclick","mouseover","mouseout","contextmenu"],_fireDOMEvent:function(i,l,h){if(i.type==="click"){var x=u({},i);x.type="preclick",this._fireDOMEvent(x,x.type,h)}var E=this._findEventTargets(i,l);if(h){for(var R=[],K=0;K<h.length;K++)h[K].listens(l,!0)&&R.push(h[K]);E=R.concat(E)}if(E.length){l==="contextmenu"&&Fe(i);var lt=E[0],pt={originalEvent:i};if(i.type!=="keypress"&&i.type!=="keydown"&&i.type!=="keyup"){var Et=lt.getLatLng&&(!lt._radius||lt._radius<=10);pt.containerPoint=Et?this.latLngToContainerPoint(lt.getLatLng()):this.mouseEventToContainerPoint(i),pt.layerPoint=this.containerPointToLayerPoint(pt.containerPoint),pt.latlng=Et?lt.getLatLng():this.layerPointToLatLng(pt.layerPoint)}for(K=0;K<E.length;K++)if(E[K].fire(l,pt,!0),pt.originalEvent._stopped||E[K].options.bubblingMouseEvents===!1&&B(this._mouseEvents,l)!==-1)return}},_draggableMoved:function(i){return i=i.dragging&&i.dragging.enabled()?i:this,i.dragging&&i.dragging.moved()||this.boxZoom&&this.boxZoom.moved()},_clearHandlers:function(){for(var i=0,l=this._handlers.length;i<l;i++)this._handlers[i].disable()},whenReady:function(i,l){return this._loaded?i.call(l||this,{target:this}):this.on("load",i,l),this},_getMapPanePos:function(){return si(this._mapPane)||new ot(0,0)},_moved:function(){var i=this._getMapPanePos();return i&&!i.equals([0,0])},_getTopLeftPoint:function(i,l){var h=i&&l!==void 0?this._getNewPixelOrigin(i,l):this.getPixelOrigin();return h.subtract(this._getMapPanePos())},_getNewPixelOrigin:function(i,l){var h=this.getSize()._divideBy(2);return this.project(i,l)._subtract(h)._add(this._getMapPanePos())._round()},_latLngToNewLayerPoint:function(i,l,h){var x=this._getNewPixelOrigin(h,l);return this.project(i,l)._subtract(x)},_latLngBoundsToNewLayerBounds:function(i,l,h){var x=this._getNewPixelOrigin(h,l);return Y([this.project(i.getSouthWest(),l)._subtract(x),this.project(i.getNorthWest(),l)._subtract(x),this.project(i.getSouthEast(),l)._subtract(x),this.project(i.getNorthEast(),l)._subtract(x)])},_getCenterLayerPoint:function(){return this.containerPointToLayerPoint(this.getSize()._divideBy(2))},_getCenterOffset:function(i){return this.latLngToLayerPoint(i).subtract(this._getCenterLayerPoint())},_limitCenter:function(i,l,h){if(!h)return i;var x=this.project(i,l),E=this.getSize().divideBy(2),R=new $(x.subtract(E),x.add(E)),K=this._getBoundsOffset(R,h,l);return Math.abs(K.x)<=1&&Math.abs(K.y)<=1?i:this.unproject(x.add(K),l)},_limitOffset:function(i,l){if(!l)return i;var h=this.getPixelBounds(),x=new $(h.min.add(i),h.max.add(i));return i.add(this._getBoundsOffset(x,l))},_getBoundsOffset:function(i,l,h){var x=Y(this.project(l.getNorthEast(),h),this.project(l.getSouthWest(),h)),E=x.min.subtract(i.min),R=x.max.subtract(i.max),K=this._rebound(E.x,-R.x),lt=this._rebound(E.y,-R.y);return new ot(K,lt)},_rebound:function(i,l){return i+l>0?Math.round(i-l)/2:Math.max(0,Math.ceil(i))-Math.max(0,Math.floor(l))},_limitZoom:function(i){var l=this.getMinZoom(),h=this.getMaxZoom(),x=zt.any3d?this.options.zoomSnap:1;return x&&(i=Math.round(i/x)*x),Math.max(l,Math.min(h,i))},_onPanTransitionStep:function(){this.fire("move")},_onPanTransitionEnd:function(){Ne(this._mapPane,"leaflet-pan-anim"),this.fire("moveend")},_tryAnimatedPan:function(i,l){var h=this._getCenterOffset(i)._trunc();return(l&&l.animate)!==!0&&!this.getSize().contains(h)?!1:(this.panBy(h,l),!0)},_createAnimProxy:function(){var i=this._proxy=se("div","leaflet-proxy leaflet-zoom-animated");this._panes.mapPane.appendChild(i),this.on("zoomanim",function(l){var h=ro,x=this._proxy.style[h];Kn(this._proxy,this.project(l.center,l.zoom),this.getZoomScale(l.zoom,1)),x===this._proxy.style[h]&&this._animatingZoom&&this._onZoomTransitionEnd()},this),this.on("load moveend",this._animMoveEnd,this),this._on("unload",this._destroyAnimProxy,this)},_destroyAnimProxy:function(){Me(this._proxy),this.off("load moveend",this._animMoveEnd,this),delete this._proxy},_animMoveEnd:function(){var i=this.getCenter(),l=this.getZoom();Kn(this._proxy,this.project(i,l),this.getZoomScale(l,1))},_catchTransitionEnd:function(i){this._animatingZoom&&i.propertyName.indexOf("transform")>=0&&this._onZoomTransitionEnd()},_nothingToAnimate:function(){return!this._container.getElementsByClassName("leaflet-zoom-animated").length},_tryAnimatedZoom:function(i,l,h){if(this._animatingZoom)return!0;if(h=h||{},!this._zoomAnimated||h.animate===!1||this._nothingToAnimate()||Math.abs(l-this._zoom)>this.options.zoomAnimationThreshold)return!1;var x=this.getZoomScale(l),E=this._getCenterOffset(i)._divideBy(1-1/x);return h.animate!==!0&&!this.getSize().contains(E)?!1:(F(function(){this._moveStart(!0,h.noMoveStart||!1)._animateZoom(i,l,!0)},this),!0)},_animateZoom:function(i,l,h,x){this._mapPane&&(h&&(this._animatingZoom=!0,this._animateToCenter=i,this._animateToZoom=l,Xt(this._mapPane,"leaflet-zoom-anim")),this.fire("zoomanim",{center:i,zoom:l,noUpdate:x}),this._tempFireZoomEvent||(this._tempFireZoomEvent=this._zoom!==this._animateToZoom),this._move(this._animateToCenter,this._animateToZoom,void 0,!0),setTimeout(f(this._onZoomTransitionEnd,this),250))},_onZoomTransitionEnd:function(){this._animatingZoom&&(this._mapPane&&Ne(this._mapPane,"leaflet-zoom-anim"),this._animatingZoom=!1,this._move(this._animateToCenter,this._animateToZoom,void 0,!0),this._tempFireZoomEvent&&this.fire("zoom"),delete this._tempFireZoomEvent,this.fire("move"),this._moveEnd(!0))}});function co(i,l){return new te(i,l)}var Mn=ht.extend({options:{position:"topright"},initialize:function(i){D(this,i)},getPosition:function(){return this.options.position},setPosition:function(i){var l=this._map;return l&&l.removeControl(this),this.options.position=i,l&&l.addControl(this),this},getContainer:function(){return this._container},addTo:function(i){this.remove(),this._map=i;var l=this._container=this.onAdd(i),h=this.getPosition(),x=i._controlCorners[h];return Xt(l,"leaflet-control"),h.indexOf("bottom")!==-1?x.insertBefore(l,x.firstChild):x.appendChild(l),this._map.on("unload",this.remove,this),this},remove:function(){return this._map?(Me(this._container),this.onRemove&&this.onRemove(this._map),this._map.off("unload",this.remove,this),this._map=null,this):this},_refocusOnMap:function(i){this._map&&i&&i.screenX>0&&i.screenY>0&&this._map.getContainer().focus()}}),ha=function(i){return new Mn(i)};te.include({addControl:function(i){return i.addTo(this),this},removeControl:function(i){return i.remove(),this},_initControlPos:function(){var i=this._controlCorners={},l="leaflet-",h=this._controlContainer=se("div",l+"control-container",this._container);function x(E,R){var K=l+E+" "+l+R;i[E+R]=se("div",K,h)}x("top","left"),x("top","right"),x("bottom","left"),x("bottom","right")},_clearControlPos:function(){for(var i in this._controlCorners)Me(this._controlCorners[i]);Me(this._controlContainer),delete this._controlCorners,delete this._controlContainer}});var su=Mn.extend({options:{collapsed:!0,position:"topright",autoZIndex:!0,hideSingleBase:!1,sortLayers:!1,sortFunction:function(i,l,h,x){return h<x?-1:x<h?1:0}},initialize:function(i,l,h){D(this,h),this._layerControlInputs=[],this._layers=[],this._lastZIndex=0,this._handlingClick=!1,this._preventClick=!1;for(var x in i)this._addLayer(i[x],x);for(x in l)this._addLayer(l[x],x,!0)},onAdd:function(i){this._initLayout(),this._update(),this._map=i,i.on("zoomend",this._checkDisabledLayers,this);for(var l=0;l<this._layers.length;l++)this._layers[l].layer.on("add remove",this._onLayerChange,this);return this._container},addTo:function(i){return Mn.prototype.addTo.call(this,i),this._expandIfNotCollapsed()},onRemove:function(){this._map.off("zoomend",this._checkDisabledLayers,this);for(var i=0;i<this._layers.length;i++)this._layers[i].layer.off("add remove",this._onLayerChange,this)},addBaseLayer:function(i,l){return this._addLayer(i,l),this._map?this._update():this},addOverlay:function(i,l){return this._addLayer(i,l,!0),this._map?this._update():this},removeLayer:function(i){i.off("add remove",this._onLayerChange,this);var l=this._getLayer(g(i));return l&&this._layers.splice(this._layers.indexOf(l),1),this._map?this._update():this},expand:function(){Xt(this._container,"leaflet-control-layers-expanded"),this._section.style.height=null;var i=this._map.getSize().y-(this._container.offsetTop+50);return i<this._section.clientHeight?(Xt(this._section,"leaflet-control-layers-scrollbar"),this._section.style.height=i+"px"):Ne(this._section,"leaflet-control-layers-scrollbar"),this._checkDisabledLayers(),this},collapse:function(){return Ne(this._container,"leaflet-control-layers-expanded"),this},_initLayout:function(){var i="leaflet-control-layers",l=this._container=se("div",i),h=this.options.collapsed;l.setAttribute("aria-haspopup",!0),fa(l),da(l);var x=this._section=se("section",i+"-list");h&&(this._map.on("click",this.collapse,this),Vt(l,{mouseenter:this._expandSafely,mouseleave:this.collapse},this));var E=this._layersLink=se("a",i+"-toggle",l);E.href="#",E.title="Layers",E.setAttribute("role","button"),Vt(E,{keydown:function(R){R.keyCode===13&&this._expandSafely()},click:function(R){Fe(R),this._expandSafely()}},this),h||this.expand(),this._baseLayersList=se("div",i+"-base",x),this._separator=se("div",i+"-separator",x),this._overlaysList=se("div",i+"-overlays",x),l.appendChild(x)},_getLayer:function(i){for(var l=0;l<this._layers.length;l++)if(this._layers[l]&&g(this._layers[l].layer)===i)return this._layers[l]},_addLayer:function(i,l,h){this._map&&i.on("add remove",this._onLayerChange,this),this._layers.push({layer:i,name:l,overlay:h}),this.options.sortLayers&&this._layers.sort(f(function(x,E){return this.options.sortFunction(x.layer,E.layer,x.name,E.name)},this)),this.options.autoZIndex&&i.setZIndex&&(this._lastZIndex++,i.setZIndex(this._lastZIndex)),this._expandIfNotCollapsed()},_update:function(){if(!this._container)return this;gn(this._baseLayersList),gn(this._overlaysList),this._layerControlInputs=[];var i,l,h,x,E=0;for(h=0;h<this._layers.length;h++)x=this._layers[h],this._addItem(x),l=l||x.overlay,i=i||!x.overlay,E+=x.overlay?0:1;return this.options.hideSingleBase&&(i=i&&E>1,this._baseLayersList.style.display=i?"":"none"),this._separator.style.display=l&&i?"":"none",this},_onLayerChange:function(i){this._handlingClick||this._update();var l=this._getLayer(g(i.target)),h=l.overlay?i.type==="add"?"overlayadd":"overlayremove":i.type==="add"?"baselayerchange":null;h&&this._map.fire(h,l)},_createRadioElement:function(i,l){var h='<input type="radio" class="leaflet-control-layers-selector" name="'+i+'"'+(l?' checked="checked"':"")+"/>",x=document.createElement("div");return x.innerHTML=h,x.firstChild},_addItem:function(i){var l=document.createElement("label"),h=this._map.hasLayer(i.layer),x;i.overlay?(x=document.createElement("input"),x.type="checkbox",x.className="leaflet-control-layers-selector",x.defaultChecked=h):x=this._createRadioElement("leaflet-base-layers_"+g(this),h),this._layerControlInputs.push(x),x.layerId=g(i.layer),Vt(x,"click",this._onInputClick,this);var E=document.createElement("span");E.innerHTML=" "+i.name;var R=document.createElement("span");l.appendChild(R),R.appendChild(x),R.appendChild(E);var K=i.overlay?this._overlaysList:this._baseLayersList;return K.appendChild(l),this._checkDisabledLayers(),l},_onInputClick:function(){if(!this._preventClick){var i=this._layerControlInputs,l,h,x=[],E=[];this._handlingClick=!0;for(var R=i.length-1;R>=0;R--)l=i[R],h=this._getLayer(l.layerId).layer,l.checked?x.push(h):l.checked||E.push(h);for(R=0;R<E.length;R++)this._map.hasLayer(E[R])&&this._map.removeLayer(E[R]);for(R=0;R<x.length;R++)this._map.hasLayer(x[R])||this._map.addLayer(x[R]);this._handlingClick=!1,this._refocusOnMap()}},_checkDisabledLayers:function(){for(var i=this._layerControlInputs,l,h,x=this._map.getZoom(),E=i.length-1;E>=0;E--)l=i[E],h=this._getLayer(l.layerId).layer,l.disabled=h.options.minZoom!==void 0&&x<h.options.minZoom||h.options.maxZoom!==void 0&&x>h.options.maxZoom},_expandIfNotCollapsed:function(){return this._map&&!this.options.collapsed&&this.expand(),this},_expandSafely:function(){var i=this._section;this._preventClick=!0,Vt(i,"click",Fe),this.expand();var l=this;setTimeout(function(){fe(i,"click",Fe),l._preventClick=!1})}}),dh=function(i,l,h){return new su(i,l,h)},gl=Mn.extend({options:{position:"topleft",zoomInText:'<span aria-hidden="true">+</span>',zoomInTitle:"Zoom in",zoomOutText:'<span aria-hidden="true">&#x2212;</span>',zoomOutTitle:"Zoom out"},onAdd:function(i){var l="leaflet-control-zoom",h=se("div",l+" leaflet-bar"),x=this.options;return this._zoomInButton=this._createButton(x.zoomInText,x.zoomInTitle,l+"-in",h,this._zoomIn),this._zoomOutButton=this._createButton(x.zoomOutText,x.zoomOutTitle,l+"-out",h,this._zoomOut),this._updateDisabled(),i.on("zoomend zoomlevelschange",this._updateDisabled,this),h},onRemove:function(i){i.off("zoomend zoomlevelschange",this._updateDisabled,this)},disable:function(){return this._disabled=!0,this._updateDisabled(),this},enable:function(){return this._disabled=!1,this._updateDisabled(),this},_zoomIn:function(i){!this._disabled&&this._map._zoom<this._map.getMaxZoom()&&this._map.zoomIn(this._map.options.zoomDelta*(i.shiftKey?3:1))},_zoomOut:function(i){!this._disabled&&this._map._zoom>this._map.getMinZoom()&&this._map.zoomOut(this._map.options.zoomDelta*(i.shiftKey?3:1))},_createButton:function(i,l,h,x,E){var R=se("a",h,x);return R.innerHTML=i,R.href="#",R.title=l,R.setAttribute("role","button"),R.setAttribute("aria-label",l),fa(R),Vt(R,"click",Nr),Vt(R,"click",E,this),Vt(R,"click",this._refocusOnMap,this),R},_updateDisabled:function(){var i=this._map,l="leaflet-disabled";Ne(this._zoomInButton,l),Ne(this._zoomOutButton,l),this._zoomInButton.setAttribute("aria-disabled","false"),this._zoomOutButton.setAttribute("aria-disabled","false"),(this._disabled||i._zoom===i.getMinZoom())&&(Xt(this._zoomOutButton,l),this._zoomOutButton.setAttribute("aria-disabled","true")),(this._disabled||i._zoom===i.getMaxZoom())&&(Xt(this._zoomInButton,l),this._zoomInButton.setAttribute("aria-disabled","true"))}});te.mergeOptions({zoomControl:!0}),te.addInitHook(function(){this.options.zoomControl&&(this.zoomControl=new gl,this.addControl(this.zoomControl))});var bl=function(i){return new gl(i)},lu=Mn.extend({options:{position:"bottomleft",maxWidth:100,metric:!0,imperial:!0},onAdd:function(i){var l="leaflet-control-scale",h=se("div",l),x=this.options;return this._addScales(x,l+"-line",h),i.on(x.updateWhenIdle?"moveend":"move",this._update,this),i.whenReady(this._update,this),h},onRemove:function(i){i.off(this.options.updateWhenIdle?"moveend":"move",this._update,this)},_addScales:function(i,l,h){i.metric&&(this._mScale=se("div",l,h)),i.imperial&&(this._iScale=se("div",l,h))},_update:function(){var i=this._map,l=i.getSize().y/2,h=i.distance(i.containerPointToLatLng([0,l]),i.containerPointToLatLng([this.options.maxWidth,l]));this._updateScales(h)},_updateScales:function(i){this.options.metric&&i&&this._updateMetric(i),this.options.imperial&&i&&this._updateImperial(i)},_updateMetric:function(i){var l=this._getRoundNum(i),h=l<1e3?l+" m":l/1e3+" km";this._updateScale(this._mScale,h,l/i)},_updateImperial:function(i){var l=i*3.2808399,h,x,E;l>5280?(h=l/5280,x=this._getRoundNum(h),this._updateScale(this._iScale,x+" mi",x/h)):(E=this._getRoundNum(l),this._updateScale(this._iScale,E+" ft",E/l))},_updateScale:function(i,l,h){i.style.width=Math.round(this.options.maxWidth*h)+"px",i.innerHTML=l},_getRoundNum:function(i){var l=Math.pow(10,(Math.floor(i)+"").length-1),h=i/l;return h=h>=10?10:h>=5?5:h>=3?3:h>=2?2:1,l*h}}),fh=function(i){return new lu(i)},hh='<svg aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="12" height="8" viewBox="0 0 12 8" class="leaflet-attribution-flag"><path fill="#4C7BE1" d="M0 0h12v4H0z"/><path fill="#FFD500" d="M0 4h12v3H0z"/><path fill="#E0BC00" d="M0 7h12v1H0z"/></svg>',yl=Mn.extend({options:{position:"bottomright",prefix:'<a href="https://leafletjs.com" title="A JavaScript library for interactive maps">'+(zt.inlineSvg?hh+" ":"")+"Leaflet</a>"},initialize:function(i){D(this,i),this._attributions={}},onAdd:function(i){i.attributionControl=this,this._container=se("div","leaflet-control-attribution"),fa(this._container);for(var l in i._layers)i._layers[l].getAttribution&&this.addAttribution(i._layers[l].getAttribution());return this._update(),i.on("layeradd",this._addAttribution,this),this._container},onRemove:function(i){i.off("layeradd",this._addAttribution,this)},_addAttribution:function(i){i.layer.getAttribution&&(this.addAttribution(i.layer.getAttribution()),i.layer.once("remove",function(){this.removeAttribution(i.layer.getAttribution())},this))},setPrefix:function(i){return this.options.prefix=i,this._update(),this},addAttribution:function(i){return i?(this._attributions[i]||(this._attributions[i]=0),this._attributions[i]++,this._update(),this):this},removeAttribution:function(i){return i?(this._attributions[i]&&(this._attributions[i]--,this._update()),this):this},_update:function(){if(this._map){var i=[];for(var l in this._attributions)this._attributions[l]&&i.push(l);var h=[];this.options.prefix&&h.push(this.options.prefix),i.length&&h.push(i.join(", ")),this._container.innerHTML=h.join(' <span aria-hidden="true">|</span> ')}}});te.mergeOptions({attributionControl:!0}),te.addInitHook(function(){this.options.attributionControl&&new yl().addTo(this)});var mh=function(i){return new yl(i)};Mn.Layers=su,Mn.Zoom=gl,Mn.Scale=lu,Mn.Attribution=yl,ha.layers=dh,ha.zoom=bl,ha.scale=fh,ha.attribution=mh;var nr=ht.extend({initialize:function(i){this._map=i},enable:function(){return this._enabled?this:(this._enabled=!0,this.addHooks(),this)},disable:function(){return this._enabled?(this._enabled=!1,this.removeHooks(),this):this},enabled:function(){return!!this._enabled}});nr.addTo=function(i,l){return i.addHandler(l,this),this};var ph={Events:Z},cu=zt.touch?"touchstart mousedown":"mousedown",ci=rt.extend({options:{clickTolerance:3},initialize:function(i,l,h,x){D(this,x),this._element=i,this._dragStartTarget=l||i,this._preventOutline=h},enable:function(){this._enabled||(Vt(this._dragStartTarget,cu,this._onDown,this),this._enabled=!0)},disable:function(){this._enabled&&(ci._dragging===this&&this.finishDrag(!0),fe(this._dragStartTarget,cu,this._onDown,this),this._enabled=!1,this._moved=!1)},_onDown:function(i){if(this._enabled&&(this._moved=!1,!oa(this._element,"leaflet-zoom-anim"))){if(i.touches&&i.touches.length!==1){ci._dragging===this&&this.finishDrag();return}if(!(ci._dragging||i.shiftKey||i.which!==1&&i.button!==1&&!i.touches)&&(ci._dragging=this,this._preventOutline&&oo(this._element),ao(),Tr(),!this._moving)){this.fire("down");var l=i.touches?i.touches[0]:i,h=ji(this._element);this._startPoint=new ot(l.clientX,l.clientY),this._startPos=si(this._element),this._parentScale=li(h);var x=i.type==="mousedown";Vt(document,x?"mousemove":"touchmove",this._onMove,this),Vt(document,x?"mouseup":"touchend touchcancel",this._onUp,this)}}},_onMove:function(i){if(this._enabled){if(i.touches&&i.touches.length>1){this._moved=!0;return}var l=i.touches&&i.touches.length===1?i.touches[0]:i,h=new ot(l.clientX,l.clientY)._subtract(this._startPoint);!h.x&&!h.y||Math.abs(h.x)+Math.abs(h.y)<this.options.clickTolerance||(h.x/=this._parentScale.x,h.y/=this._parentScale.y,Fe(i),this._moved||(this.fire("dragstart"),this._moved=!0,Xt(document.body,"leaflet-dragging"),this._lastTarget=i.target||i.srcElement,window.SVGElementInstance&&this._lastTarget instanceof window.SVGElementInstance&&(this._lastTarget=this._lastTarget.correspondingUseElement),Xt(this._lastTarget,"leaflet-drag-target")),this._newPos=this._startPos.add(h),this._moving=!0,this._lastEvent=i,this._updatePosition())}},_updatePosition:function(){var i={originalEvent:this._lastEvent};this.fire("predrag",i),Ue(this._element,this._newPos),this.fire("drag",i)},_onUp:function(){this._enabled&&this.finishDrag()},finishDrag:function(i){Ne(document.body,"leaflet-dragging"),this._lastTarget&&(Ne(this._lastTarget,"leaflet-drag-target"),this._lastTarget=null),fe(document,"mousemove touchmove",this._onMove,this),fe(document,"mouseup touchend touchcancel",this._onUp,this),ml(),io();var l=this._moved&&this._moving;this._moving=!1,ci._dragging=!1,l&&this.fire("dragend",{noInertia:i,distance:this._newPos.distanceTo(this._startPos)})}});function uu(i,l,h){var x,E=[1,4,2,8],R,K,lt,pt,Et,jt,Lt,Pt;for(R=0,jt=i.length;R<jt;R++)i[R]._code=Li(i[R],l);for(lt=0;lt<4;lt++){for(Lt=E[lt],x=[],R=0,jt=i.length,K=jt-1;R<jt;K=R++)pt=i[R],Et=i[K],pt._code&Lt?Et._code&Lt||(Pt=ts(Et,pt,Lt,l,h),Pt._code=Li(Pt,l),x.push(Pt)):(Et._code&Lt&&(Pt=ts(Et,pt,Lt,l,h),Pt._code=Li(Pt,l),x.push(Pt)),x.push(pt));i=x}return i}function Jo(i,l){var h,x,E,R,K,lt,pt,Et,jt;if(!i||i.length===0)throw new Error("latlngs not passed");ln(i)||(console.warn("latlngs are not flat! Only the first ring will be used"),i=i[0]);var Lt=U([0,0]),Pt=V(i),Ft=Pt.getNorthWest().distanceTo(Pt.getSouthWest())*Pt.getNorthEast().distanceTo(Pt.getNorthWest());Ft<1700&&(Lt=vl(i));var Ae=i.length,Ge=[];for(h=0;h<Ae;h++){var cn=U(i[h]);Ge.push(l.project(U([cn.lat-Lt.lat,cn.lng-Lt.lng])))}for(lt=pt=Et=0,h=0,x=Ae-1;h<Ae;x=h++)E=Ge[h],R=Ge[x],K=E.y*R.x-R.y*E.x,pt+=(E.x+R.x)*K,Et+=(E.y+R.y)*K,lt+=K*3;lt===0?jt=Ge[0]:jt=[pt/lt,Et/lt];var Xn=l.unproject(j(jt));return U([Xn.lat+Lt.lat,Xn.lng+Lt.lng])}function vl(i){for(var l=0,h=0,x=0,E=0;E<i.length;E++){var R=U(i[E]);l+=R.lat,h+=R.lng,x++}return U([l/x,h/x])}var gh={__proto__:null,clipPolygon:uu,polygonCenter:Jo,centroid:vl};function du(i,l){if(!l||!i.length)return i.slice();var h=l*l;return i=vh(i,h),i=yh(i,h),i}function xl(i,l,h){return Math.sqrt(Bi(i,l,h,!0))}function bh(i,l,h){return Bi(i,l,h)}function yh(i,l){var h=i.length,x=typeof Uint8Array<"u"?Uint8Array:Array,E=new x(h);E[0]=E[h-1]=1,_l(i,E,l,0,h-1);var R,K=[];for(R=0;R<h;R++)E[R]&&K.push(i[R]);return K}function _l(i,l,h,x,E){var R=0,K,lt,pt;for(lt=x+1;lt<=E-1;lt++)pt=Bi(i[lt],i[x],i[E],!0),pt>R&&(K=lt,R=pt);R>h&&(l[K]=1,_l(i,l,h,x,K),_l(i,l,h,K,E))}function vh(i,l){for(var h=[i[0]],x=1,E=0,R=i.length;x<R;x++)xh(i[x],i[E])>l&&(h.push(i[x]),E=x);return E<R-1&&h.push(i[R-1]),h}var fu;function hu(i,l,h,x,E){var R=x?fu:Li(i,h),K=Li(l,h),lt,pt,Et;for(fu=K;;){if(!(R|K))return[i,l];if(R&K)return!1;lt=R||K,pt=ts(i,l,lt,h,E),Et=Li(pt,h),lt===R?(i=pt,R=Et):(l=pt,K=Et)}}function ts(i,l,h,x,E){var R=l.x-i.x,K=l.y-i.y,lt=x.min,pt=x.max,Et,jt;return h&8?(Et=i.x+R*(pt.y-i.y)/K,jt=pt.y):h&4?(Et=i.x+R*(lt.y-i.y)/K,jt=lt.y):h&2?(Et=pt.x,jt=i.y+K*(pt.x-i.x)/R):h&1&&(Et=lt.x,jt=i.y+K*(lt.x-i.x)/R),new ot(Et,jt,E)}function Li(i,l){var h=0;return i.x<l.min.x?h|=1:i.x>l.max.x&&(h|=2),i.y<l.min.y?h|=4:i.y>l.max.y&&(h|=8),h}function xh(i,l){var h=l.x-i.x,x=l.y-i.y;return h*h+x*x}function Bi(i,l,h,x){var E=l.x,R=l.y,K=h.x-E,lt=h.y-R,pt=K*K+lt*lt,Et;return pt>0&&(Et=((i.x-E)*K+(i.y-R)*lt)/pt,Et>1?(E=h.x,R=h.y):Et>0&&(E+=K*Et,R+=lt*Et)),K=i.x-E,lt=i.y-R,x?K*K+lt*lt:new ot(E,R)}function ln(i){return!k(i[0])||typeof i[0][0]!="object"&&typeof i[0][0]<"u"}function mu(i){return console.warn("Deprecated use of _flat, please use L.LineUtil.isFlat instead."),ln(i)}function Sl(i,l){var h,x,E,R,K,lt,pt,Et;if(!i||i.length===0)throw new Error("latlngs not passed");ln(i)||(console.warn("latlngs are not flat! Only the first ring will be used"),i=i[0]);var jt=U([0,0]),Lt=V(i),Pt=Lt.getNorthWest().distanceTo(Lt.getSouthWest())*Lt.getNorthEast().distanceTo(Lt.getNorthWest());Pt<1700&&(jt=vl(i));var Ft=i.length,Ae=[];for(h=0;h<Ft;h++){var Ge=U(i[h]);Ae.push(l.project(U([Ge.lat-jt.lat,Ge.lng-jt.lng])))}for(h=0,x=0;h<Ft-1;h++)x+=Ae[h].distanceTo(Ae[h+1])/2;if(x===0)Et=Ae[0];else for(h=0,R=0;h<Ft-1;h++)if(K=Ae[h],lt=Ae[h+1],E=K.distanceTo(lt),R+=E,R>x){pt=(R-x)/E,Et=[lt.x-pt*(lt.x-K.x),lt.y-pt*(lt.y-K.y)];break}var cn=l.unproject(j(Et));return U([cn.lat+jt.lat,cn.lng+jt.lng])}var pu={__proto__:null,simplify:du,pointToSegmentDistance:xl,closestPointOnSegment:bh,clipSegment:hu,_getEdgeIntersection:ts,_getBitCode:Li,_sqClosestPointOnSegment:Bi,isFlat:ln,_flat:mu,polylineCenter:Sl},es={project:function(i){return new ot(i.lng,i.lat)},unproject:function(i){return new I(i.y,i.x)},bounds:new $([-180,-90],[180,90])},ns={R:6378137,R_MINOR:6356752314245179e-9,bounds:new $([-2003750834279e-5,-1549657073972e-5],[2003750834279e-5,1876465623138e-5]),project:function(i){var l=Math.PI/180,h=this.R,x=i.lat*l,E=this.R_MINOR/h,R=Math.sqrt(1-E*E),K=R*Math.sin(x),lt=Math.tan(Math.PI/4-x/2)/Math.pow((1-K)/(1+K),R/2);return x=-h*Math.log(Math.max(lt,1e-10)),new ot(i.lng*l*h,x)},unproject:function(i){for(var l=180/Math.PI,h=this.R,x=this.R_MINOR/h,E=Math.sqrt(1-x*x),R=Math.exp(-i.y/h),K=Math.PI/2-2*Math.atan(R),lt=0,pt=.1,Et;lt<15&&Math.abs(pt)>1e-7;lt++)Et=E*Math.sin(K),Et=Math.pow((1-Et)/(1+Et),E/2),pt=Math.PI/2-2*Math.atan(R*Et)-K,K+=pt;return new I(K*l,i.x*l/h)}},gu={__proto__:null,LonLat:es,Mercator:ns,SphericalMercator:Nt},ma=u({},gt,{code:"EPSG:3395",projection:ns,transformation:(function(){var i=.5/(Math.PI*ns.R);return Dt(i,.5,-i,.5)})()}),bu=u({},gt,{code:"EPSG:4326",projection:es,transformation:Dt(1/180,1,-1/180,.5)}),_h=u({},dt,{projection:es,transformation:Dt(1,0,-1,0),scale:function(i){return Math.pow(2,i)},zoom:function(i){return Math.log(i)/Math.LN2},distance:function(i,l){var h=l.lng-i.lng,x=l.lat-i.lat;return Math.sqrt(h*h+x*x)},infinite:!0});dt.Earth=gt,dt.EPSG3395=ma,dt.EPSG3857=St,dt.EPSG900913=Ot,dt.EPSG4326=bu,dt.Simple=_h;var rr=rt.extend({options:{pane:"overlayPane",attribution:null,bubblingMouseEvents:!0},addTo:function(i){return i.addLayer(this),this},remove:function(){return this.removeFrom(this._map||this._mapToAdd)},removeFrom:function(i){return i&&i.removeLayer(this),this},getPane:function(i){return this._map.getPane(i?this.options[i]||i:this.options.pane)},addInteractiveTarget:function(i){return this._map._targets[g(i)]=this,this},removeInteractiveTarget:function(i){return delete this._map._targets[g(i)],this},getAttribution:function(){return this.options.attribution},_layerAdd:function(i){var l=i.target;if(l.hasLayer(this)){if(this._map=l,this._zoomAnimated=l._zoomAnimated,this.getEvents){var h=this.getEvents();l.on(h,this),this.once("remove",function(){l.off(h,this)},this)}this.onAdd(l),this.fire("add"),l.fire("layeradd",{layer:this})}}});te.include({addLayer:function(i){if(!i._layerAdd)throw new Error("The provided object is not a Layer.");var l=g(i);return this._layers[l]?this:(this._layers[l]=i,i._mapToAdd=this,i.beforeAdd&&i.beforeAdd(this),this.whenReady(i._layerAdd,i),this)},removeLayer:function(i){var l=g(i);return this._layers[l]?(this._loaded&&i.onRemove(this),delete this._layers[l],this._loaded&&(this.fire("layerremove",{layer:i}),i.fire("remove")),i._map=i._mapToAdd=null,this):this},hasLayer:function(i){return g(i)in this._layers},eachLayer:function(i,l){for(var h in this._layers)i.call(l,this._layers[h]);return this},_addLayers:function(i){i=i?k(i)?i:[i]:[];for(var l=0,h=i.length;l<h;l++)this.addLayer(i[l])},_addZoomLimit:function(i){(!isNaN(i.options.maxZoom)||!isNaN(i.options.minZoom))&&(this._zoomBoundLayers[g(i)]=i,this._updateZoomLevels())},_removeZoomLimit:function(i){var l=g(i);this._zoomBoundLayers[l]&&(delete this._zoomBoundLayers[l],this._updateZoomLevels())},_updateZoomLevels:function(){var i=1/0,l=-1/0,h=this._getZoomSpan();for(var x in this._zoomBoundLayers){var E=this._zoomBoundLayers[x].options;i=E.minZoom===void 0?i:Math.min(i,E.minZoom),l=E.maxZoom===void 0?l:Math.max(l,E.maxZoom)}this._layersMaxZoom=l===-1/0?void 0:l,this._layersMinZoom=i===1/0?void 0:i,h!==this._getZoomSpan()&&this.fire("zoomlevelschange"),this.options.maxZoom===void 0&&this._layersMaxZoom&&this.getZoom()>this._layersMaxZoom&&this.setZoom(this._layersMaxZoom),this.options.minZoom===void 0&&this._layersMinZoom&&this.getZoom()<this._layersMinZoom&&this.setZoom(this._layersMinZoom)}});var Ri=rr.extend({initialize:function(i,l){D(this,l),this._layers={};var h,x;if(i)for(h=0,x=i.length;h<x;h++)this.addLayer(i[h])},addLayer:function(i){var l=this.getLayerId(i);return this._layers[l]=i,this._map&&this._map.addLayer(i),this},removeLayer:function(i){var l=i in this._layers?i:this.getLayerId(i);return this._map&&this._layers[l]&&this._map.removeLayer(this._layers[l]),delete this._layers[l],this},hasLayer:function(i){var l=typeof i=="number"?i:this.getLayerId(i);return l in this._layers},clearLayers:function(){return this.eachLayer(this.removeLayer,this)},invoke:function(i){var l=Array.prototype.slice.call(arguments,1),h,x;for(h in this._layers)x=this._layers[h],x[i]&&x[i].apply(x,l);return this},onAdd:function(i){this.eachLayer(i.addLayer,i)},onRemove:function(i){this.eachLayer(i.removeLayer,i)},eachLayer:function(i,l){for(var h in this._layers)i.call(l,this._layers[h]);return this},getLayer:function(i){return this._layers[i]},getLayers:function(){var i=[];return this.eachLayer(i.push,i),i},setZIndex:function(i){return this.invoke("setZIndex",i)},getLayerId:function(i){return g(i)}}),yu=function(i,l){return new Ri(i,l)},kn=Ri.extend({addLayer:function(i){return this.hasLayer(i)?this:(i.addEventParent(this),Ri.prototype.addLayer.call(this,i),this.fire("layeradd",{layer:i}))},removeLayer:function(i){return this.hasLayer(i)?(i in this._layers&&(i=this._layers[i]),i.removeEventParent(this),Ri.prototype.removeLayer.call(this,i),this.fire("layerremove",{layer:i})):this},setStyle:function(i){return this.invoke("setStyle",i)},bringToFront:function(){return this.invoke("bringToFront")},bringToBack:function(){return this.invoke("bringToBack")},getBounds:function(){var i=new J;for(var l in this._layers){var h=this._layers[l];i.extend(h.getBounds?h.getBounds():h.getLatLng())}return i}}),uo=function(i,l){return new kn(i,l)},pa=ht.extend({options:{popupAnchor:[0,0],tooltipAnchor:[0,0],crossOrigin:!1},initialize:function(i){D(this,i)},createIcon:function(i){return this._createIcon("icon",i)},createShadow:function(i){return this._createIcon("shadow",i)},_createIcon:function(i,l){var h=this._getIconUrl(i);if(!h){if(i==="icon")throw new Error("iconUrl not set in Icon options (see the docs).");return null}var x=this._createImg(h,l&&l.tagName==="IMG"?l:null);return this._setIconStyles(x,i),(this.options.crossOrigin||this.options.crossOrigin==="")&&(x.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),x},_setIconStyles:function(i,l){var h=this.options,x=h[l+"Size"];typeof x=="number"&&(x=[x,x]);var E=j(x),R=j(l==="shadow"&&h.shadowAnchor||h.iconAnchor||E&&E.divideBy(2,!0));i.className="leaflet-marker-"+l+" "+(h.className||""),R&&(i.style.marginLeft=-R.x+"px",i.style.marginTop=-R.y+"px"),E&&(i.style.width=E.x+"px",i.style.height=E.y+"px")},_createImg:function(i,l){return l=l||document.createElement("img"),l.src=i,l},_getIconUrl:function(i){return zt.retina&&this.options[i+"RetinaUrl"]||this.options[i+"Url"]}});function rs(i){return new pa(i)}var ga=pa.extend({options:{iconUrl:"marker-icon.png",iconRetinaUrl:"marker-icon-2x.png",shadowUrl:"marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],tooltipAnchor:[16,-28],shadowSize:[41,41]},_getIconUrl:function(i){return typeof ga.imagePath!="string"&&(ga.imagePath=this._detectIconPath()),(this.options.imagePath||ga.imagePath)+pa.prototype._getIconUrl.call(this,i)},_stripUrl:function(i){var l=function(h,x,E){var R=x.exec(h);return R&&R[E]};return i=l(i,/^url\((['"])?(.+)\1\)$/,2),i&&l(i,/^(.*)marker-icon\.png$/,1)},_detectIconPath:function(){var i=se("div","leaflet-default-icon-path",document.body),l=Ai(i,"background-image")||Ai(i,"backgroundImage");if(document.body.removeChild(i),l=this._stripUrl(l),l)return l;var h=document.querySelector('link[href$="leaflet.css"]');return h?h.href.substring(0,h.href.length-11-1):""}}),wl=nr.extend({initialize:function(i){this._marker=i},addHooks:function(){var i=this._marker._icon;this._draggable||(this._draggable=new ci(i,i,!0)),this._draggable.on({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).enable(),Xt(i,"leaflet-marker-draggable")},removeHooks:function(){this._draggable.off({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).disable(),this._marker._icon&&Ne(this._marker._icon,"leaflet-marker-draggable")},moved:function(){return this._draggable&&this._draggable._moved},_adjustPan:function(i){var l=this._marker,h=l._map,x=this._marker.options.autoPanSpeed,E=this._marker.options.autoPanPadding,R=si(l._icon),K=h.getPixelBounds(),lt=h.getPixelOrigin(),pt=Y(K.min._subtract(lt).add(E),K.max._subtract(lt).subtract(E));if(!pt.contains(R)){var Et=j((Math.max(pt.max.x,R.x)-pt.max.x)/(K.max.x-pt.max.x)-(Math.min(pt.min.x,R.x)-pt.min.x)/(K.min.x-pt.min.x),(Math.max(pt.max.y,R.y)-pt.max.y)/(K.max.y-pt.max.y)-(Math.min(pt.min.y,R.y)-pt.min.y)/(K.min.y-pt.min.y)).multiplyBy(x);h.panBy(Et,{animate:!1}),this._draggable._newPos._add(Et),this._draggable._startPos._add(Et),Ue(l._icon,this._draggable._newPos),this._onDrag(i),this._panRequest=F(this._adjustPan.bind(this,i))}},_onDragStart:function(){this._oldLatLng=this._marker.getLatLng(),this._marker.closePopup&&this._marker.closePopup(),this._marker.fire("movestart").fire("dragstart")},_onPreDrag:function(i){this._marker.options.autoPan&&(G(this._panRequest),this._panRequest=F(this._adjustPan.bind(this,i)))},_onDrag:function(i){var l=this._marker,h=l._shadow,x=si(l._icon),E=l._map.layerPointToLatLng(x);h&&Ue(h,x),l._latlng=E,i.latlng=E,i.oldLatLng=this._oldLatLng,l.fire("move",i).fire("drag",i)},_onDragEnd:function(i){G(this._panRequest),delete this._oldLatLng,this._marker.fire("moveend").fire("dragend",i)}}),ba=rr.extend({options:{icon:new ga,interactive:!0,keyboard:!0,title:"",alt:"Marker",zIndexOffset:0,opacity:1,riseOnHover:!1,riseOffset:250,pane:"markerPane",shadowPane:"shadowPane",bubblingMouseEvents:!1,autoPanOnFocus:!0,draggable:!1,autoPan:!1,autoPanPadding:[50,50],autoPanSpeed:10},initialize:function(i,l){D(this,l),this._latlng=U(i)},onAdd:function(i){this._zoomAnimated=this._zoomAnimated&&i.options.markerZoomAnimation,this._zoomAnimated&&i.on("zoomanim",this._animateZoom,this),this._initIcon(),this.update()},onRemove:function(i){this.dragging&&this.dragging.enabled()&&(this.options.draggable=!0,this.dragging.removeHooks()),delete this.dragging,this._zoomAnimated&&i.off("zoomanim",this._animateZoom,this),this._removeIcon(),this._removeShadow()},getEvents:function(){return{zoom:this.update,viewreset:this.update}},getLatLng:function(){return this._latlng},setLatLng:function(i){var l=this._latlng;return this._latlng=U(i),this.update(),this.fire("move",{oldLatLng:l,latlng:this._latlng})},setZIndexOffset:function(i){return this.options.zIndexOffset=i,this.update()},getIcon:function(){return this.options.icon},setIcon:function(i){return this.options.icon=i,this._map&&(this._initIcon(),this.update()),this._popup&&this.bindPopup(this._popup,this._popup.options),this},getElement:function(){return this._icon},update:function(){if(this._icon&&this._map){var i=this._map.latLngToLayerPoint(this._latlng).round();this._setPos(i)}return this},_initIcon:function(){var i=this.options,l="leaflet-zoom-"+(this._zoomAnimated?"animated":"hide"),h=i.icon.createIcon(this._icon),x=!1;h!==this._icon&&(this._icon&&this._removeIcon(),x=!0,i.title&&(h.title=i.title),h.tagName==="IMG"&&(h.alt=i.alt||"")),Xt(h,l),i.keyboard&&(h.tabIndex="0",h.setAttribute("role","button")),this._icon=h,i.riseOnHover&&this.on({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&Vt(h,"focus",this._panOnFocus,this);var E=i.icon.createShadow(this._shadow),R=!1;E!==this._shadow&&(this._removeShadow(),R=!0),E&&(Xt(E,l),E.alt=""),this._shadow=E,i.opacity<1&&this._updateOpacity(),x&&this.getPane().appendChild(this._icon),this._initInteraction(),E&&R&&this.getPane(i.shadowPane).appendChild(this._shadow)},_removeIcon:function(){this.options.riseOnHover&&this.off({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&fe(this._icon,"focus",this._panOnFocus,this),Me(this._icon),this.removeInteractiveTarget(this._icon),this._icon=null},_removeShadow:function(){this._shadow&&Me(this._shadow),this._shadow=null},_setPos:function(i){this._icon&&Ue(this._icon,i),this._shadow&&Ue(this._shadow,i),this._zIndex=i.y+this.options.zIndexOffset,this._resetZIndex()},_updateZIndex:function(i){this._icon&&(this._icon.style.zIndex=this._zIndex+i)},_animateZoom:function(i){var l=this._map._latLngToNewLayerPoint(this._latlng,i.zoom,i.center).round();this._setPos(l)},_initInteraction:function(){if(this.options.interactive&&(Xt(this._icon,"leaflet-interactive"),this.addInteractiveTarget(this._icon),wl)){var i=this.options.draggable;this.dragging&&(i=this.dragging.enabled(),this.dragging.disable()),this.dragging=new wl(this),i&&this.dragging.enable()}},setOpacity:function(i){return this.options.opacity=i,this._map&&this._updateOpacity(),this},_updateOpacity:function(){var i=this.options.opacity;this._icon&&En(this._icon,i),this._shadow&&En(this._shadow,i)},_bringToFront:function(){this._updateZIndex(this.options.riseOffset)},_resetZIndex:function(){this._updateZIndex(0)},_panOnFocus:function(){var i=this._map;if(i){var l=this.options.icon.options,h=l.iconSize?j(l.iconSize):j(0,0),x=l.iconAnchor?j(l.iconAnchor):j(0,0);i.panInside(this._latlng,{paddingTopLeft:x,paddingBottomRight:h.subtract(x)})}},_getPopupAnchor:function(){return this.options.icon.options.popupAnchor},_getTooltipAnchor:function(){return this.options.icon.options.tooltipAnchor}});function Tl(i,l){return new ba(i,l)}var Kr=rr.extend({options:{stroke:!0,color:"#3388ff",weight:3,opacity:1,lineCap:"round",lineJoin:"round",dashArray:null,dashOffset:null,fill:!1,fillColor:null,fillOpacity:.2,fillRule:"evenodd",interactive:!0,bubblingMouseEvents:!0},beforeAdd:function(i){this._renderer=i.getRenderer(this)},onAdd:function(){this._renderer._initPath(this),this._reset(),this._renderer._addPath(this)},onRemove:function(){this._renderer._removePath(this)},redraw:function(){return this._map&&this._renderer._updatePath(this),this},setStyle:function(i){return D(this,i),this._renderer&&(this._renderer._updateStyle(this),this.options.stroke&&i&&Object.prototype.hasOwnProperty.call(i,"weight")&&this._updateBounds()),this},bringToFront:function(){return this._renderer&&this._renderer._bringToFront(this),this},bringToBack:function(){return this._renderer&&this._renderer._bringToBack(this),this},getElement:function(){return this._path},_reset:function(){this._project(),this._update()},_clickTolerance:function(){return(this.options.stroke?this.options.weight/2:0)+(this._renderer.options.tolerance||0)}}),fo=Kr.extend({options:{fill:!0,radius:10},initialize:function(i,l){D(this,l),this._latlng=U(i),this._radius=this.options.radius},setLatLng:function(i){var l=this._latlng;return this._latlng=U(i),this.redraw(),this.fire("move",{oldLatLng:l,latlng:this._latlng})},getLatLng:function(){return this._latlng},setRadius:function(i){return this.options.radius=this._radius=i,this.redraw()},getRadius:function(){return this._radius},setStyle:function(i){var l=i&&i.radius||this._radius;return Kr.prototype.setStyle.call(this,i),this.setRadius(l),this},_project:function(){this._point=this._map.latLngToLayerPoint(this._latlng),this._updateBounds()},_updateBounds:function(){var i=this._radius,l=this._radiusY||i,h=this._clickTolerance(),x=[i+h,l+h];this._pxBounds=new $(this._point.subtract(x),this._point.add(x))},_update:function(){this._map&&this._updatePath()},_updatePath:function(){this._renderer._updateCircle(this)},_empty:function(){return this._radius&&!this._renderer._bounds.intersects(this._pxBounds)},_containsPoint:function(i){return i.distanceTo(this._point)<=this._radius+this._clickTolerance()}});function vu(i,l){return new fo(i,l)}var El=fo.extend({initialize:function(i,l,h){if(typeof l=="number"&&(l=u({},h,{radius:l})),D(this,l),this._latlng=U(i),isNaN(this.options.radius))throw new Error("Circle radius cannot be NaN");this._mRadius=this.options.radius},setRadius:function(i){return this._mRadius=i,this.redraw()},getRadius:function(){return this._mRadius},getBounds:function(){var i=[this._radius,this._radiusY||this._radius];return new J(this._map.layerPointToLatLng(this._point.subtract(i)),this._map.layerPointToLatLng(this._point.add(i)))},setStyle:Kr.prototype.setStyle,_project:function(){var i=this._latlng.lng,l=this._latlng.lat,h=this._map,x=h.options.crs;if(x.distance===gt.distance){var E=Math.PI/180,R=this._mRadius/gt.R/E,K=h.project([l+R,i]),lt=h.project([l-R,i]),pt=K.add(lt).divideBy(2),Et=h.unproject(pt).lat,jt=Math.acos((Math.cos(R*E)-Math.sin(l*E)*Math.sin(Et*E))/(Math.cos(l*E)*Math.cos(Et*E)))/E;(isNaN(jt)||jt===0)&&(jt=R/Math.cos(Math.PI/180*l)),this._point=pt.subtract(h.getPixelOrigin()),this._radius=isNaN(jt)?0:pt.x-h.project([Et,i-jt]).x,this._radiusY=pt.y-K.y}else{var Lt=x.unproject(x.project(this._latlng).subtract([this._mRadius,0]));this._point=h.latLngToLayerPoint(this._latlng),this._radius=this._point.x-h.latLngToLayerPoint(Lt).x}this._updateBounds()}});function Sh(i,l,h){return new El(i,l,h)}var Xr=Kr.extend({options:{smoothFactor:1,noClip:!1},initialize:function(i,l){D(this,l),this._setLatLngs(i)},getLatLngs:function(){return this._latlngs},setLatLngs:function(i){return this._setLatLngs(i),this.redraw()},isEmpty:function(){return!this._latlngs.length},closestLayerPoint:function(i){for(var l=1/0,h=null,x=Bi,E,R,K=0,lt=this._parts.length;K<lt;K++)for(var pt=this._parts[K],Et=1,jt=pt.length;Et<jt;Et++){E=pt[Et-1],R=pt[Et];var Lt=x(i,E,R,!0);Lt<l&&(l=Lt,h=x(i,E,R))}return h&&(h.distance=Math.sqrt(l)),h},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return Sl(this._defaultShape(),this._map.options.crs)},getBounds:function(){return this._bounds},addLatLng:function(i,l){return l=l||this._defaultShape(),i=U(i),l.push(i),this._bounds.extend(i),this.redraw()},_setLatLngs:function(i){this._bounds=new J,this._latlngs=this._convertLatLngs(i)},_defaultShape:function(){return ln(this._latlngs)?this._latlngs:this._latlngs[0]},_convertLatLngs:function(i){for(var l=[],h=ln(i),x=0,E=i.length;x<E;x++)h?(l[x]=U(i[x]),this._bounds.extend(l[x])):l[x]=this._convertLatLngs(i[x]);return l},_project:function(){var i=new $;this._rings=[],this._projectLatlngs(this._latlngs,this._rings,i),this._bounds.isValid()&&i.isValid()&&(this._rawPxBounds=i,this._updateBounds())},_updateBounds:function(){var i=this._clickTolerance(),l=new ot(i,i);this._rawPxBounds&&(this._pxBounds=new $([this._rawPxBounds.min.subtract(l),this._rawPxBounds.max.add(l)]))},_projectLatlngs:function(i,l,h){var x=i[0]instanceof I,E=i.length,R,K;if(x){for(K=[],R=0;R<E;R++)K[R]=this._map.latLngToLayerPoint(i[R]),h.extend(K[R]);l.push(K)}else for(R=0;R<E;R++)this._projectLatlngs(i[R],l,h)},_clipPoints:function(){var i=this._renderer._bounds;if(this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(i))){if(this.options.noClip){this._parts=this._rings;return}var l=this._parts,h,x,E,R,K,lt,pt;for(h=0,E=0,R=this._rings.length;h<R;h++)for(pt=this._rings[h],x=0,K=pt.length;x<K-1;x++)lt=hu(pt[x],pt[x+1],i,x,!0),lt&&(l[E]=l[E]||[],l[E].push(lt[0]),(lt[1]!==pt[x+1]||x===K-2)&&(l[E].push(lt[1]),E++))}},_simplifyPoints:function(){for(var i=this._parts,l=this.options.smoothFactor,h=0,x=i.length;h<x;h++)i[h]=du(i[h],l)},_update:function(){this._map&&(this._clipPoints(),this._simplifyPoints(),this._updatePath())},_updatePath:function(){this._renderer._updatePoly(this)},_containsPoint:function(i,l){var h,x,E,R,K,lt,pt=this._clickTolerance();if(!this._pxBounds||!this._pxBounds.contains(i))return!1;for(h=0,R=this._parts.length;h<R;h++)for(lt=this._parts[h],x=0,K=lt.length,E=K-1;x<K;E=x++)if(!(!l&&x===0)&&xl(i,lt[E],lt[x])<=pt)return!0;return!1}});function wh(i,l){return new Xr(i,l)}Xr._flat=mu;var ya=Xr.extend({options:{fill:!0},isEmpty:function(){return!this._latlngs.length||!this._latlngs[0].length},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return Jo(this._defaultShape(),this._map.options.crs)},_convertLatLngs:function(i){var l=Xr.prototype._convertLatLngs.call(this,i),h=l.length;return h>=2&&l[0]instanceof I&&l[0].equals(l[h-1])&&l.pop(),l},_setLatLngs:function(i){Xr.prototype._setLatLngs.call(this,i),ln(this._latlngs)&&(this._latlngs=[this._latlngs])},_defaultShape:function(){return ln(this._latlngs[0])?this._latlngs[0]:this._latlngs[0][0]},_clipPoints:function(){var i=this._renderer._bounds,l=this.options.weight,h=new ot(l,l);if(i=new $(i.min.subtract(h),i.max.add(h)),this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(i))){if(this.options.noClip){this._parts=this._rings;return}for(var x=0,E=this._rings.length,R;x<E;x++)R=uu(this._rings[x],i,!0),R.length&&this._parts.push(R)}},_updatePath:function(){this._renderer._updatePoly(this,!0)},_containsPoint:function(i){var l=!1,h,x,E,R,K,lt,pt,Et;if(!this._pxBounds||!this._pxBounds.contains(i))return!1;for(R=0,pt=this._parts.length;R<pt;R++)for(h=this._parts[R],K=0,Et=h.length,lt=Et-1;K<Et;lt=K++)x=h[K],E=h[lt],x.y>i.y!=E.y>i.y&&i.x<(E.x-x.x)*(i.y-x.y)/(E.y-x.y)+x.x&&(l=!l);return l||Xr.prototype._containsPoint.call(this,i,!0)}});function On(i,l){return new ya(i,l)}var Cn=kn.extend({initialize:function(i,l){D(this,l),this._layers={},i&&this.addData(i)},addData:function(i){var l=k(i)?i:i.features,h,x,E;if(l){for(h=0,x=l.length;h<x;h++)E=l[h],(E.geometries||E.geometry||E.features||E.coordinates)&&this.addData(E);return this}var R=this.options;if(R.filter&&!R.filter(i))return this;var K=ho(i,R);return K?(K.feature=va(i),K.defaultOptions=K.options,this.resetStyle(K),R.onEachFeature&&R.onEachFeature(i,K),this.addLayer(K)):this},resetStyle:function(i){return i===void 0?this.eachLayer(this.resetStyle,this):(i.options=u({},i.defaultOptions),this._setLayerStyle(i,this.options.style),this)},setStyle:function(i){return this.eachLayer(function(l){this._setLayerStyle(l,i)},this)},_setLayerStyle:function(i,l){i.setStyle&&(typeof l=="function"&&(l=l(i.feature)),i.setStyle(l))}});function ho(i,l){var h=i.type==="Feature"?i.geometry:i,x=h?h.coordinates:null,E=[],R=l&&l.pointToLayer,K=l&&l.coordsToLatLng||is,lt,pt,Et,jt;if(!x&&!h)return null;switch(h.type){case"Point":return lt=K(x),Ml(R,i,lt,l);case"MultiPoint":for(Et=0,jt=x.length;Et<jt;Et++)lt=K(x[Et]),E.push(Ml(R,i,lt,l));return new kn(E);case"LineString":case"MultiLineString":return pt=mo(x,h.type==="LineString"?0:1,K),new Xr(pt,l);case"Polygon":case"MultiPolygon":return pt=mo(x,h.type==="Polygon"?1:2,K),new ya(pt,l);case"GeometryCollection":for(Et=0,jt=h.geometries.length;Et<jt;Et++){var Lt=ho({geometry:h.geometries[Et],type:"Feature",properties:i.properties},l);Lt&&E.push(Lt)}return new kn(E);case"FeatureCollection":for(Et=0,jt=h.features.length;Et<jt;Et++){var Pt=ho(h.features[Et],l);Pt&&E.push(Pt)}return new kn(E);default:throw new Error("Invalid GeoJSON object.")}}function Ml(i,l,h,x){return i?i(l,h):new ba(h,x&&x.markersInheritOptions&&x)}function is(i){return new I(i[1],i[0],i[2])}function mo(i,l,h){for(var x=[],E=0,R=i.length,K;E<R;E++)K=l?mo(i[E],l-1,h):(h||is)(i[E]),x.push(K);return x}function po(i,l){return i=U(i),i.alt!==void 0?[S(i.lng,l),S(i.lat,l),S(i.alt,l)]:[S(i.lng,l),S(i.lat,l)]}function as(i,l,h,x){for(var E=[],R=0,K=i.length;R<K;R++)E.push(l?as(i[R],ln(i[R])?0:l-1,h,x):po(i[R],x));return!l&&h&&E.length>0&&E.push(E[0].slice()),E}function ir(i,l){return i.feature?u({},i.feature,{geometry:l}):va(l)}function va(i){return i.type==="Feature"||i.type==="FeatureCollection"?i:{type:"Feature",properties:{},geometry:i}}var Pi={toGeoJSON:function(i){return ir(this,{type:"Point",coordinates:po(this.getLatLng(),i)})}};ba.include(Pi),El.include(Pi),fo.include(Pi),Xr.include({toGeoJSON:function(i){var l=!ln(this._latlngs),h=as(this._latlngs,l?1:0,!1,i);return ir(this,{type:(l?"Multi":"")+"LineString",coordinates:h})}}),ya.include({toGeoJSON:function(i){var l=!ln(this._latlngs),h=l&&!ln(this._latlngs[0]),x=as(this._latlngs,h?2:l?1:0,!0,i);return l||(x=[x]),ir(this,{type:(h?"Multi":"")+"Polygon",coordinates:x})}}),Ri.include({toMultiPoint:function(i){var l=[];return this.eachLayer(function(h){l.push(h.toGeoJSON(i).geometry.coordinates)}),ir(this,{type:"MultiPoint",coordinates:l})},toGeoJSON:function(i){var l=this.feature&&this.feature.geometry&&this.feature.geometry.type;if(l==="MultiPoint")return this.toMultiPoint(i);var h=l==="GeometryCollection",x=[];return this.eachLayer(function(E){if(E.toGeoJSON){var R=E.toGeoJSON(i);if(h)x.push(R.geometry);else{var K=va(R);K.type==="FeatureCollection"?x.push.apply(x,K.features):x.push(K)}}}),h?ir(this,{geometries:x,type:"GeometryCollection"}):{type:"FeatureCollection",features:x}}});function os(i,l){return new Cn(i,l)}var xu=os,Ar=rr.extend({options:{opacity:1,alt:"",interactive:!1,crossOrigin:!1,errorOverlayUrl:"",zIndex:1,className:""},initialize:function(i,l,h){this._url=i,this._bounds=V(l),D(this,h)},onAdd:function(){this._image||(this._initImage(),this.options.opacity<1&&this._updateOpacity()),this.options.interactive&&(Xt(this._image,"leaflet-interactive"),this.addInteractiveTarget(this._image)),this.getPane().appendChild(this._image),this._reset()},onRemove:function(){Me(this._image),this.options.interactive&&this.removeInteractiveTarget(this._image)},setOpacity:function(i){return this.options.opacity=i,this._image&&this._updateOpacity(),this},setStyle:function(i){return i.opacity&&this.setOpacity(i.opacity),this},bringToFront:function(){return this._map&&Di(this._image),this},bringToBack:function(){return this._map&&aa(this._image),this},setUrl:function(i){return this._url=i,this._image&&(this._image.src=i),this},setBounds:function(i){return this._bounds=V(i),this._map&&this._reset(),this},getEvents:function(){var i={zoom:this._reset,viewreset:this._reset};return this._zoomAnimated&&(i.zoomanim=this._animateZoom),i},setZIndex:function(i){return this.options.zIndex=i,this._updateZIndex(),this},getBounds:function(){return this._bounds},getElement:function(){return this._image},_initImage:function(){var i=this._url.tagName==="IMG",l=this._image=i?this._url:se("img");if(Xt(l,"leaflet-image-layer"),this._zoomAnimated&&Xt(l,"leaflet-zoom-animated"),this.options.className&&Xt(l,this.options.className),l.onselectstart=w,l.onmousemove=w,l.onload=f(this.fire,this,"load"),l.onerror=f(this._overlayOnError,this,"error"),(this.options.crossOrigin||this.options.crossOrigin==="")&&(l.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),this.options.zIndex&&this._updateZIndex(),i){this._url=l.src;return}l.src=this._url,l.alt=this.options.alt},_animateZoom:function(i){var l=this._map.getZoomScale(i.zoom),h=this._map._latLngBoundsToNewLayerBounds(this._bounds,i.zoom,i.center).min;Kn(this._image,h,l)},_reset:function(){var i=this._image,l=new $(this._map.latLngToLayerPoint(this._bounds.getNorthWest()),this._map.latLngToLayerPoint(this._bounds.getSouthEast())),h=l.getSize();Ue(i,l.min),i.style.width=h.x+"px",i.style.height=h.y+"px"},_updateOpacity:function(){En(this._image,this.options.opacity)},_updateZIndex:function(){this._image&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._image.style.zIndex=this.options.zIndex)},_overlayOnError:function(){this.fire("error");var i=this.options.errorOverlayUrl;i&&this._url!==i&&(this._url=i,this._image.src=i)},getCenter:function(){return this._bounds.getCenter()}}),xa=function(i,l,h){return new Ar(i,l,h)},ss=Ar.extend({options:{autoplay:!0,loop:!0,keepAspectRatio:!0,muted:!1,playsInline:!0},_initImage:function(){var i=this._url.tagName==="VIDEO",l=this._image=i?this._url:se("video");if(Xt(l,"leaflet-image-layer"),this._zoomAnimated&&Xt(l,"leaflet-zoom-animated"),this.options.className&&Xt(l,this.options.className),l.onselectstart=w,l.onmousemove=w,l.onloadeddata=f(this.fire,this,"load"),i){for(var h=l.getElementsByTagName("source"),x=[],E=0;E<h.length;E++)x.push(h[E].src);this._url=h.length>0?x:[l.src];return}k(this._url)||(this._url=[this._url]),!this.options.keepAspectRatio&&Object.prototype.hasOwnProperty.call(l.style,"objectFit")&&(l.style.objectFit="fill"),l.autoplay=!!this.options.autoplay,l.loop=!!this.options.loop,l.muted=!!this.options.muted,l.playsInline=!!this.options.playsInline;for(var R=0;R<this._url.length;R++){var K=se("source");K.src=this._url[R],l.appendChild(K)}}});function _u(i,l,h){return new ss(i,l,h)}var ui=Ar.extend({_initImage:function(){var i=this._image=this._url;Xt(i,"leaflet-image-layer"),this._zoomAnimated&&Xt(i,"leaflet-zoom-animated"),this.options.className&&Xt(i,this.options.className),i.onselectstart=w,i.onmousemove=w}});function Su(i,l,h){return new ui(i,l,h)}var ar=rr.extend({options:{interactive:!1,offset:[0,0],className:"",pane:void 0,content:""},initialize:function(i,l){i&&(i instanceof I||k(i))?(this._latlng=U(i),D(this,l)):(D(this,i),this._source=l),this.options.content&&(this._content=this.options.content)},openOn:function(i){return i=arguments.length?i:this._source._map,i.hasLayer(this)||i.addLayer(this),this},close:function(){return this._map&&this._map.removeLayer(this),this},toggle:function(i){return this._map?this.close():(arguments.length?this._source=i:i=this._source,this._prepareOpen(),this.openOn(i._map)),this},onAdd:function(i){this._zoomAnimated=i._zoomAnimated,this._container||this._initLayout(),i._fadeAnimated&&En(this._container,0),clearTimeout(this._removeTimeout),this.getPane().appendChild(this._container),this.update(),i._fadeAnimated&&En(this._container,1),this.bringToFront(),this.options.interactive&&(Xt(this._container,"leaflet-interactive"),this.addInteractiveTarget(this._container))},onRemove:function(i){i._fadeAnimated?(En(this._container,0),this._removeTimeout=setTimeout(f(Me,void 0,this._container),200)):Me(this._container),this.options.interactive&&(Ne(this._container,"leaflet-interactive"),this.removeInteractiveTarget(this._container))},getLatLng:function(){return this._latlng},setLatLng:function(i){return this._latlng=U(i),this._map&&(this._updatePosition(),this._adjustPan()),this},getContent:function(){return this._content},setContent:function(i){return this._content=i,this.update(),this},getElement:function(){return this._container},update:function(){this._map&&(this._container.style.visibility="hidden",this._updateContent(),this._updateLayout(),this._updatePosition(),this._container.style.visibility="",this._adjustPan())},getEvents:function(){var i={zoom:this._updatePosition,viewreset:this._updatePosition};return this._zoomAnimated&&(i.zoomanim=this._animateZoom),i},isOpen:function(){return!!this._map&&this._map.hasLayer(this)},bringToFront:function(){return this._map&&Di(this._container),this},bringToBack:function(){return this._map&&aa(this._container),this},_prepareOpen:function(i){var l=this._source;if(!l._map)return!1;if(l instanceof kn){l=null;var h=this._source._layers;for(var x in h)if(h[x]._map){l=h[x];break}if(!l)return!1;this._source=l}if(!i)if(l.getCenter)i=l.getCenter();else if(l.getLatLng)i=l.getLatLng();else if(l.getBounds)i=l.getBounds().getCenter();else throw new Error("Unable to get source layer LatLng.");return this.setLatLng(i),this._map&&this.update(),!0},_updateContent:function(){if(this._content){var i=this._contentNode,l=typeof this._content=="function"?this._content(this._source||this):this._content;if(typeof l=="string")i.innerHTML=l;else{for(;i.hasChildNodes();)i.removeChild(i.firstChild);i.appendChild(l)}this.fire("contentupdate")}},_updatePosition:function(){if(this._map){var i=this._map.latLngToLayerPoint(this._latlng),l=j(this.options.offset),h=this._getAnchor();this._zoomAnimated?Ue(this._container,i.add(h)):l=l.add(i).add(h);var x=this._containerBottom=-l.y,E=this._containerLeft=-Math.round(this._containerWidth/2)+l.x;this._container.style.bottom=x+"px",this._container.style.left=E+"px"}},_getAnchor:function(){return[0,0]}});te.include({_initOverlay:function(i,l,h,x){var E=l;return E instanceof i||(E=new i(x).setContent(l)),h&&E.setLatLng(h),E}}),rr.include({_initOverlay:function(i,l,h,x){var E=h;return E instanceof i?(D(E,x),E._source=this):(E=l&&!x?l:new i(x,this),E.setContent(h)),E}});var go=ar.extend({options:{pane:"popupPane",offset:[0,7],maxWidth:300,minWidth:50,maxHeight:null,autoPan:!0,autoPanPaddingTopLeft:null,autoPanPaddingBottomRight:null,autoPanPadding:[5,5],keepInView:!1,closeButton:!0,autoClose:!0,closeOnEscapeKey:!0,className:""},openOn:function(i){return i=arguments.length?i:this._source._map,!i.hasLayer(this)&&i._popup&&i._popup.options.autoClose&&i.removeLayer(i._popup),i._popup=this,ar.prototype.openOn.call(this,i)},onAdd:function(i){ar.prototype.onAdd.call(this,i),i.fire("popupopen",{popup:this}),this._source&&(this._source.fire("popupopen",{popup:this},!0),this._source instanceof Kr||this._source.on("preclick",Vr))},onRemove:function(i){ar.prototype.onRemove.call(this,i),i.fire("popupclose",{popup:this}),this._source&&(this._source.fire("popupclose",{popup:this},!0),this._source instanceof Kr||this._source.off("preclick",Vr))},getEvents:function(){var i=ar.prototype.getEvents.call(this);return(this.options.closeOnClick!==void 0?this.options.closeOnClick:this._map.options.closePopupOnClick)&&(i.preclick=this.close),this.options.keepInView&&(i.moveend=this._adjustPan),i},_initLayout:function(){var i="leaflet-popup",l=this._container=se("div",i+" "+(this.options.className||"")+" leaflet-zoom-animated"),h=this._wrapper=se("div",i+"-content-wrapper",l);if(this._contentNode=se("div",i+"-content",h),fa(l),da(this._contentNode),Vt(l,"contextmenu",Vr),this._tipContainer=se("div",i+"-tip-container",l),this._tip=se("div",i+"-tip",this._tipContainer),this.options.closeButton){var x=this._closeButton=se("a",i+"-close-button",l);x.setAttribute("role","button"),x.setAttribute("aria-label","Close popup"),x.href="#close",x.innerHTML='<span aria-hidden="true">&#215;</span>',Vt(x,"click",function(E){Fe(E),this.close()},this)}},_updateLayout:function(){var i=this._contentNode,l=i.style;l.width="",l.whiteSpace="nowrap";var h=i.offsetWidth;h=Math.min(h,this.options.maxWidth),h=Math.max(h,this.options.minWidth),l.width=h+1+"px",l.whiteSpace="",l.height="";var x=i.offsetHeight,E=this.options.maxHeight,R="leaflet-popup-scrolled";E&&x>E?(l.height=E+"px",Xt(i,R)):Ne(i,R),this._containerWidth=this._container.offsetWidth},_animateZoom:function(i){var l=this._map._latLngToNewLayerPoint(this._latlng,i.zoom,i.center),h=this._getAnchor();Ue(this._container,l.add(h))},_adjustPan:function(){if(this.options.autoPan){if(this._map._panAnim&&this._map._panAnim.stop(),this._autopanning){this._autopanning=!1;return}var i=this._map,l=parseInt(Ai(this._container,"marginBottom"),10)||0,h=this._container.offsetHeight+l,x=this._containerWidth,E=new ot(this._containerLeft,-h-this._containerBottom);E._add(si(this._container));var R=i.layerPointToContainerPoint(E),K=j(this.options.autoPanPadding),lt=j(this.options.autoPanPaddingTopLeft||K),pt=j(this.options.autoPanPaddingBottomRight||K),Et=i.getSize(),jt=0,Lt=0;R.x+x+pt.x>Et.x&&(jt=R.x+x-Et.x+pt.x),R.x-jt-lt.x<0&&(jt=R.x-lt.x),R.y+h+pt.y>Et.y&&(Lt=R.y+h-Et.y+pt.y),R.y-Lt-lt.y<0&&(Lt=R.y-lt.y),(jt||Lt)&&(this.options.keepInView&&(this._autopanning=!0),i.fire("autopanstart").panBy([jt,Lt]))}},_getAnchor:function(){return j(this._source&&this._source._getPopupAnchor?this._source._getPopupAnchor():[0,0])}}),Th=function(i,l){return new go(i,l)};te.mergeOptions({closePopupOnClick:!0}),te.include({openPopup:function(i,l,h){return this._initOverlay(go,i,l,h).openOn(this),this},closePopup:function(i){return i=arguments.length?i:this._popup,i&&i.close(),this}}),rr.include({bindPopup:function(i,l){return this._popup=this._initOverlay(go,this._popup,i,l),this._popupHandlersAdded||(this.on({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!0),this},unbindPopup:function(){return this._popup&&(this.off({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!1,this._popup=null),this},openPopup:function(i){return this._popup&&(this instanceof kn||(this._popup._source=this),this._popup._prepareOpen(i||this._latlng)&&this._popup.openOn(this._map)),this},closePopup:function(){return this._popup&&this._popup.close(),this},togglePopup:function(){return this._popup&&this._popup.toggle(this),this},isPopupOpen:function(){return this._popup?this._popup.isOpen():!1},setPopupContent:function(i){return this._popup&&this._popup.setContent(i),this},getPopup:function(){return this._popup},_openPopup:function(i){if(!(!this._popup||!this._map)){Nr(i);var l=i.layer||i.target;if(this._popup._source===l&&!(l instanceof Kr)){this._map.hasLayer(this._popup)?this.closePopup():this.openPopup(i.latlng);return}this._popup._source=l,this.openPopup(i.latlng)}},_movePopup:function(i){this._popup.setLatLng(i.latlng)},_onKeyPress:function(i){i.originalEvent.keyCode===13&&this._openPopup(i)}});var ls=ar.extend({options:{pane:"tooltipPane",offset:[0,0],direction:"auto",permanent:!1,sticky:!1,opacity:.9},onAdd:function(i){ar.prototype.onAdd.call(this,i),this.setOpacity(this.options.opacity),i.fire("tooltipopen",{tooltip:this}),this._source&&(this.addEventParent(this._source),this._source.fire("tooltipopen",{tooltip:this},!0))},onRemove:function(i){ar.prototype.onRemove.call(this,i),i.fire("tooltipclose",{tooltip:this}),this._source&&(this.removeEventParent(this._source),this._source.fire("tooltipclose",{tooltip:this},!0))},getEvents:function(){var i=ar.prototype.getEvents.call(this);return this.options.permanent||(i.preclick=this.close),i},_initLayout:function(){var i="leaflet-tooltip",l=i+" "+(this.options.className||"")+" leaflet-zoom-"+(this._zoomAnimated?"animated":"hide");this._contentNode=this._container=se("div",l),this._container.setAttribute("role","tooltip"),this._container.setAttribute("id","leaflet-tooltip-"+g(this))},_updateLayout:function(){},_adjustPan:function(){},_setPosition:function(i){var l,h,x=this._map,E=this._container,R=x.latLngToContainerPoint(x.getCenter()),K=x.layerPointToContainerPoint(i),lt=this.options.direction,pt=E.offsetWidth,Et=E.offsetHeight,jt=j(this.options.offset),Lt=this._getAnchor();lt==="top"?(l=pt/2,h=Et):lt==="bottom"?(l=pt/2,h=0):lt==="center"?(l=pt/2,h=Et/2):lt==="right"?(l=0,h=Et/2):lt==="left"?(l=pt,h=Et/2):K.x<R.x?(lt="right",l=0,h=Et/2):(lt="left",l=pt+(jt.x+Lt.x)*2,h=Et/2),i=i.subtract(j(l,h,!0)).add(jt).add(Lt),Ne(E,"leaflet-tooltip-right"),Ne(E,"leaflet-tooltip-left"),Ne(E,"leaflet-tooltip-top"),Ne(E,"leaflet-tooltip-bottom"),Xt(E,"leaflet-tooltip-"+lt),Ue(E,i)},_updatePosition:function(){var i=this._map.latLngToLayerPoint(this._latlng);this._setPosition(i)},setOpacity:function(i){this.options.opacity=i,this._container&&En(this._container,i)},_animateZoom:function(i){var l=this._map._latLngToNewLayerPoint(this._latlng,i.zoom,i.center);this._setPosition(l)},_getAnchor:function(){return j(this._source&&this._source._getTooltipAnchor&&!this.options.sticky?this._source._getTooltipAnchor():[0,0])}}),Eh=function(i,l){return new ls(i,l)};te.include({openTooltip:function(i,l,h){return this._initOverlay(ls,i,l,h).openOn(this),this},closeTooltip:function(i){return i.close(),this}}),rr.include({bindTooltip:function(i,l){return this._tooltip&&this.isTooltipOpen()&&this.unbindTooltip(),this._tooltip=this._initOverlay(ls,this._tooltip,i,l),this._initTooltipInteractions(),this._tooltip.options.permanent&&this._map&&this._map.hasLayer(this)&&this.openTooltip(),this},unbindTooltip:function(){return this._tooltip&&(this._initTooltipInteractions(!0),this.closeTooltip(),this._tooltip=null),this},_initTooltipInteractions:function(i){if(!(!i&&this._tooltipHandlersAdded)){var l=i?"off":"on",h={remove:this.closeTooltip,move:this._moveTooltip};this._tooltip.options.permanent?h.add=this._openTooltip:(h.mouseover=this._openTooltip,h.mouseout=this.closeTooltip,h.click=this._openTooltip,this._map?this._addFocusListeners():h.add=this._addFocusListeners),this._tooltip.options.sticky&&(h.mousemove=this._moveTooltip),this[l](h),this._tooltipHandlersAdded=!i}},openTooltip:function(i){return this._tooltip&&(this instanceof kn||(this._tooltip._source=this),this._tooltip._prepareOpen(i)&&(this._tooltip.openOn(this._map),this.getElement?this._setAriaDescribedByOnLayer(this):this.eachLayer&&this.eachLayer(this._setAriaDescribedByOnLayer,this))),this},closeTooltip:function(){if(this._tooltip)return this._tooltip.close()},toggleTooltip:function(){return this._tooltip&&this._tooltip.toggle(this),this},isTooltipOpen:function(){return this._tooltip.isOpen()},setTooltipContent:function(i){return this._tooltip&&this._tooltip.setContent(i),this},getTooltip:function(){return this._tooltip},_addFocusListeners:function(){this.getElement?this._addFocusListenersOnLayer(this):this.eachLayer&&this.eachLayer(this._addFocusListenersOnLayer,this)},_addFocusListenersOnLayer:function(i){var l=typeof i.getElement=="function"&&i.getElement();l&&(Vt(l,"focus",function(){this._tooltip._source=i,this.openTooltip()},this),Vt(l,"blur",this.closeTooltip,this))},_setAriaDescribedByOnLayer:function(i){var l=typeof i.getElement=="function"&&i.getElement();l&&l.setAttribute("aria-describedby",this._tooltip._container.id)},_openTooltip:function(i){if(!(!this._tooltip||!this._map)){if(this._map.dragging&&this._map.dragging.moving()&&!this._openOnceFlag){this._openOnceFlag=!0;var l=this;this._map.once("moveend",function(){l._openOnceFlag=!1,l._openTooltip(i)});return}this._tooltip._source=i.layer||i.target,this.openTooltip(this._tooltip.options.sticky?i.latlng:void 0)}},_moveTooltip:function(i){var l=i.latlng,h,x;this._tooltip.options.sticky&&i.originalEvent&&(h=this._map.mouseEventToContainerPoint(i.originalEvent),x=this._map.containerPointToLayerPoint(h),l=this._map.layerPointToLatLng(x)),this._tooltip.setLatLng(l)}});var Nl=pa.extend({options:{iconSize:[12,12],html:!1,bgPos:null,className:"leaflet-div-icon"},createIcon:function(i){var l=i&&i.tagName==="DIV"?i:document.createElement("div"),h=this.options;if(h.html instanceof Element?(gn(l),l.appendChild(h.html)):l.innerHTML=h.html!==!1?h.html:"",h.bgPos){var x=j(h.bgPos);l.style.backgroundPosition=-x.x+"px "+-x.y+"px"}return this._setIconStyles(l,"icon"),l},createShadow:function(){return null}});function wu(i){return new Nl(i)}pa.Default=ga;var zi=rr.extend({options:{tileSize:256,opacity:1,updateWhenIdle:zt.mobile,updateWhenZooming:!0,updateInterval:200,zIndex:1,bounds:null,minZoom:0,maxZoom:void 0,maxNativeZoom:void 0,minNativeZoom:void 0,noWrap:!1,pane:"tilePane",className:"",keepBuffer:2},initialize:function(i){D(this,i)},onAdd:function(){this._initContainer(),this._levels={},this._tiles={},this._resetView()},beforeAdd:function(i){i._addZoomLimit(this)},onRemove:function(i){this._removeAllTiles(),Me(this._container),i._removeZoomLimit(this),this._container=null,this._tileZoom=void 0},bringToFront:function(){return this._map&&(Di(this._container),this._setAutoZIndex(Math.max)),this},bringToBack:function(){return this._map&&(aa(this._container),this._setAutoZIndex(Math.min)),this},getContainer:function(){return this._container},setOpacity:function(i){return this.options.opacity=i,this._updateOpacity(),this},setZIndex:function(i){return this.options.zIndex=i,this._updateZIndex(),this},isLoading:function(){return this._loading},redraw:function(){if(this._map){this._removeAllTiles();var i=this._clampZoom(this._map.getZoom());i!==this._tileZoom&&(this._tileZoom=i,this._updateLevels()),this._update()}return this},getEvents:function(){var i={viewprereset:this._invalidateAll,viewreset:this._resetView,zoom:this._resetView,moveend:this._onMoveEnd};return this.options.updateWhenIdle||(this._onMove||(this._onMove=y(this._onMoveEnd,this.options.updateInterval,this)),i.move=this._onMove),this._zoomAnimated&&(i.zoomanim=this._animateZoom),i},createTile:function(){return document.createElement("div")},getTileSize:function(){var i=this.options.tileSize;return i instanceof ot?i:new ot(i,i)},_updateZIndex:function(){this._container&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._container.style.zIndex=this.options.zIndex)},_setAutoZIndex:function(i){for(var l=this.getPane().children,h=-i(-1/0,1/0),x=0,E=l.length,R;x<E;x++)R=l[x].style.zIndex,l[x]!==this._container&&R&&(h=i(h,+R));isFinite(h)&&(this.options.zIndex=h+i(-1,1),this._updateZIndex())},_updateOpacity:function(){if(this._map&&!zt.ielt9){En(this._container,this.options.opacity);var i=+new Date,l=!1,h=!1;for(var x in this._tiles){var E=this._tiles[x];if(!(!E.current||!E.loaded)){var R=Math.min(1,(i-E.loaded)/200);En(E.el,R),R<1?l=!0:(E.active?h=!0:this._onOpaqueTile(E),E.active=!0)}}h&&!this._noPrune&&this._pruneTiles(),l&&(G(this._fadeFrame),this._fadeFrame=F(this._updateOpacity,this))}},_onOpaqueTile:w,_initContainer:function(){this._container||(this._container=se("div","leaflet-layer "+(this.options.className||"")),this._updateZIndex(),this.options.opacity<1&&this._updateOpacity(),this.getPane().appendChild(this._container))},_updateLevels:function(){var i=this._tileZoom,l=this.options.maxZoom;if(i!==void 0){for(var h in this._levels)h=Number(h),this._levels[h].el.children.length||h===i?(this._levels[h].el.style.zIndex=l-Math.abs(i-h),this._onUpdateLevel(h)):(Me(this._levels[h].el),this._removeTilesAtZoom(h),this._onRemoveLevel(h),delete this._levels[h]);var x=this._levels[i],E=this._map;return x||(x=this._levels[i]={},x.el=se("div","leaflet-tile-container leaflet-zoom-animated",this._container),x.el.style.zIndex=l,x.origin=E.project(E.unproject(E.getPixelOrigin()),i).round(),x.zoom=i,this._setZoomTransform(x,E.getCenter(),E.getZoom()),w(x.el.offsetWidth),this._onCreateLevel(x)),this._level=x,x}},_onUpdateLevel:w,_onRemoveLevel:w,_onCreateLevel:w,_pruneTiles:function(){if(this._map){var i,l,h=this._map.getZoom();if(h>this.options.maxZoom||h<this.options.minZoom){this._removeAllTiles();return}for(i in this._tiles)l=this._tiles[i],l.retain=l.current;for(i in this._tiles)if(l=this._tiles[i],l.current&&!l.active){var x=l.coords;this._retainParent(x.x,x.y,x.z,x.z-5)||this._retainChildren(x.x,x.y,x.z,x.z+2)}for(i in this._tiles)this._tiles[i].retain||this._removeTile(i)}},_removeTilesAtZoom:function(i){for(var l in this._tiles)this._tiles[l].coords.z===i&&this._removeTile(l)},_removeAllTiles:function(){for(var i in this._tiles)this._removeTile(i)},_invalidateAll:function(){for(var i in this._levels)Me(this._levels[i].el),this._onRemoveLevel(Number(i)),delete this._levels[i];this._removeAllTiles(),this._tileZoom=void 0},_retainParent:function(i,l,h,x){var E=Math.floor(i/2),R=Math.floor(l/2),K=h-1,lt=new ot(+E,+R);lt.z=+K;var pt=this._tileCoordsToKey(lt),Et=this._tiles[pt];return Et&&Et.active?(Et.retain=!0,!0):(Et&&Et.loaded&&(Et.retain=!0),K>x?this._retainParent(E,R,K,x):!1)},_retainChildren:function(i,l,h,x){for(var E=2*i;E<2*i+2;E++)for(var R=2*l;R<2*l+2;R++){var K=new ot(E,R);K.z=h+1;var lt=this._tileCoordsToKey(K),pt=this._tiles[lt];if(pt&&pt.active){pt.retain=!0;continue}else pt&&pt.loaded&&(pt.retain=!0);h+1<x&&this._retainChildren(E,R,h+1,x)}},_resetView:function(i){var l=i&&(i.pinch||i.flyTo);this._setView(this._map.getCenter(),this._map.getZoom(),l,l)},_animateZoom:function(i){this._setView(i.center,i.zoom,!0,i.noUpdate)},_clampZoom:function(i){var l=this.options;return l.minNativeZoom!==void 0&&i<l.minNativeZoom?l.minNativeZoom:l.maxNativeZoom!==void 0&&l.maxNativeZoom<i?l.maxNativeZoom:i},_setView:function(i,l,h,x){var E=Math.round(l);this.options.maxZoom!==void 0&&E>this.options.maxZoom||this.options.minZoom!==void 0&&E<this.options.minZoom?E=void 0:E=this._clampZoom(E);var R=this.options.updateWhenZooming&&E!==this._tileZoom;(!x||R)&&(this._tileZoom=E,this._abortLoading&&this._abortLoading(),this._updateLevels(),this._resetGrid(),E!==void 0&&this._update(i),h||this._pruneTiles(),this._noPrune=!!h),this._setZoomTransforms(i,l)},_setZoomTransforms:function(i,l){for(var h in this._levels)this._setZoomTransform(this._levels[h],i,l)},_setZoomTransform:function(i,l,h){var x=this._map.getZoomScale(h,i.zoom),E=i.origin.multiplyBy(x).subtract(this._map._getNewPixelOrigin(l,h)).round();zt.any3d?Kn(i.el,E,x):Ue(i.el,E)},_resetGrid:function(){var i=this._map,l=i.options.crs,h=this._tileSize=this.getTileSize(),x=this._tileZoom,E=this._map.getPixelWorldBounds(this._tileZoom);E&&(this._globalTileRange=this._pxBoundsToTileRange(E)),this._wrapX=l.wrapLng&&!this.options.noWrap&&[Math.floor(i.project([0,l.wrapLng[0]],x).x/h.x),Math.ceil(i.project([0,l.wrapLng[1]],x).x/h.y)],this._wrapY=l.wrapLat&&!this.options.noWrap&&[Math.floor(i.project([l.wrapLat[0],0],x).y/h.x),Math.ceil(i.project([l.wrapLat[1],0],x).y/h.y)]},_onMoveEnd:function(){!this._map||this._map._animatingZoom||this._update()},_getTiledPixelBounds:function(i){var l=this._map,h=l._animatingZoom?Math.max(l._animateToZoom,l.getZoom()):l.getZoom(),x=l.getZoomScale(h,this._tileZoom),E=l.project(i,this._tileZoom).floor(),R=l.getSize().divideBy(x*2);return new $(E.subtract(R),E.add(R))},_update:function(i){var l=this._map;if(l){var h=this._clampZoom(l.getZoom());if(i===void 0&&(i=l.getCenter()),this._tileZoom!==void 0){var x=this._getTiledPixelBounds(i),E=this._pxBoundsToTileRange(x),R=E.getCenter(),K=[],lt=this.options.keepBuffer,pt=new $(E.getBottomLeft().subtract([lt,-lt]),E.getTopRight().add([lt,-lt]));if(!(isFinite(E.min.x)&&isFinite(E.min.y)&&isFinite(E.max.x)&&isFinite(E.max.y)))throw new Error("Attempted to load an infinite number of tiles");for(var Et in this._tiles){var jt=this._tiles[Et].coords;(jt.z!==this._tileZoom||!pt.contains(new ot(jt.x,jt.y)))&&(this._tiles[Et].current=!1)}if(Math.abs(h-this._tileZoom)>1){this._setView(i,h);return}for(var Lt=E.min.y;Lt<=E.max.y;Lt++)for(var Pt=E.min.x;Pt<=E.max.x;Pt++){var Ft=new ot(Pt,Lt);if(Ft.z=this._tileZoom,!!this._isValidTile(Ft)){var Ae=this._tiles[this._tileCoordsToKey(Ft)];Ae?Ae.current=!0:K.push(Ft)}}if(K.sort(function(cn,Xn){return cn.distanceTo(R)-Xn.distanceTo(R)}),K.length!==0){this._loading||(this._loading=!0,this.fire("loading"));var Ge=document.createDocumentFragment();for(Pt=0;Pt<K.length;Pt++)this._addTile(K[Pt],Ge);this._level.el.appendChild(Ge)}}}},_isValidTile:function(i){var l=this._map.options.crs;if(!l.infinite){var h=this._globalTileRange;if(!l.wrapLng&&(i.x<h.min.x||i.x>h.max.x)||!l.wrapLat&&(i.y<h.min.y||i.y>h.max.y))return!1}if(!this.options.bounds)return!0;var x=this._tileCoordsToBounds(i);return V(this.options.bounds).overlaps(x)},_keyToBounds:function(i){return this._tileCoordsToBounds(this._keyToTileCoords(i))},_tileCoordsToNwSe:function(i){var l=this._map,h=this.getTileSize(),x=i.scaleBy(h),E=x.add(h),R=l.unproject(x,i.z),K=l.unproject(E,i.z);return[R,K]},_tileCoordsToBounds:function(i){var l=this._tileCoordsToNwSe(i),h=new J(l[0],l[1]);return this.options.noWrap||(h=this._map.wrapLatLngBounds(h)),h},_tileCoordsToKey:function(i){return i.x+":"+i.y+":"+i.z},_keyToTileCoords:function(i){var l=i.split(":"),h=new ot(+l[0],+l[1]);return h.z=+l[2],h},_removeTile:function(i){var l=this._tiles[i];l&&(Me(l.el),delete this._tiles[i],this.fire("tileunload",{tile:l.el,coords:this._keyToTileCoords(i)}))},_initTile:function(i){Xt(i,"leaflet-tile");var l=this.getTileSize();i.style.width=l.x+"px",i.style.height=l.y+"px",i.onselectstart=w,i.onmousemove=w,zt.ielt9&&this.options.opacity<1&&En(i,this.options.opacity)},_addTile:function(i,l){var h=this._getTilePos(i),x=this._tileCoordsToKey(i),E=this.createTile(this._wrapCoords(i),f(this._tileReady,this,i));this._initTile(E),this.createTile.length<2&&F(f(this._tileReady,this,i,null,E)),Ue(E,h),this._tiles[x]={el:E,coords:i,current:!0},l.appendChild(E),this.fire("tileloadstart",{tile:E,coords:i})},_tileReady:function(i,l,h){l&&this.fire("tileerror",{error:l,tile:h,coords:i});var x=this._tileCoordsToKey(i);h=this._tiles[x],h&&(h.loaded=+new Date,this._map._fadeAnimated?(En(h.el,0),G(this._fadeFrame),this._fadeFrame=F(this._updateOpacity,this)):(h.active=!0,this._pruneTiles()),l||(Xt(h.el,"leaflet-tile-loaded"),this.fire("tileload",{tile:h.el,coords:i})),this._noTilesToLoad()&&(this._loading=!1,this.fire("load"),zt.ielt9||!this._map._fadeAnimated?F(this._pruneTiles,this):setTimeout(f(this._pruneTiles,this),250)))},_getTilePos:function(i){return i.scaleBy(this.getTileSize()).subtract(this._level.origin)},_wrapCoords:function(i){var l=new ot(this._wrapX?_(i.x,this._wrapX):i.x,this._wrapY?_(i.y,this._wrapY):i.y);return l.z=i.z,l},_pxBoundsToTileRange:function(i){var l=this.getTileSize();return new $(i.min.unscaleBy(l).floor(),i.max.unscaleBy(l).ceil().subtract([1,1]))},_noTilesToLoad:function(){for(var i in this._tiles)if(!this._tiles[i].loaded)return!1;return!0}});function or(i){return new zi(i)}var Hi=zi.extend({options:{minZoom:0,maxZoom:18,subdomains:"abc",errorTileUrl:"",zoomOffset:0,tms:!1,zoomReverse:!1,detectRetina:!1,crossOrigin:!1,referrerPolicy:!1},initialize:function(i,l){this._url=i,l=D(this,l),l.detectRetina&&zt.retina&&l.maxZoom>0?(l.tileSize=Math.floor(l.tileSize/2),l.zoomReverse?(l.zoomOffset--,l.minZoom=Math.min(l.maxZoom,l.minZoom+1)):(l.zoomOffset++,l.maxZoom=Math.max(l.minZoom,l.maxZoom-1)),l.minZoom=Math.max(0,l.minZoom)):l.zoomReverse?l.minZoom=Math.min(l.maxZoom,l.minZoom):l.maxZoom=Math.max(l.minZoom,l.maxZoom),typeof l.subdomains=="string"&&(l.subdomains=l.subdomains.split("")),this.on("tileunload",this._onTileRemove)},setUrl:function(i,l){return this._url===i&&l===void 0&&(l=!0),this._url=i,l||this.redraw(),this},createTile:function(i,l){var h=document.createElement("img");return Vt(h,"load",f(this._tileOnLoad,this,l,h)),Vt(h,"error",f(this._tileOnError,this,l,h)),(this.options.crossOrigin||this.options.crossOrigin==="")&&(h.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),typeof this.options.referrerPolicy=="string"&&(h.referrerPolicy=this.options.referrerPolicy),h.alt="",h.src=this.getTileUrl(i),h},getTileUrl:function(i){var l={r:zt.retina?"@2x":"",s:this._getSubdomain(i),x:i.x,y:i.y,z:this._getZoomForUrl()};if(this._map&&!this._map.options.crs.infinite){var h=this._globalTileRange.max.y-i.y;this.options.tms&&(l.y=h),l["-y"]=h}return H(this._url,u(l,this.options))},_tileOnLoad:function(i,l){zt.ielt9?setTimeout(f(i,this,null,l),0):i(null,l)},_tileOnError:function(i,l,h){var x=this.options.errorTileUrl;x&&l.getAttribute("src")!==x&&(l.src=x),i(h,l)},_onTileRemove:function(i){i.tile.onload=null},_getZoomForUrl:function(){var i=this._tileZoom,l=this.options.maxZoom,h=this.options.zoomReverse,x=this.options.zoomOffset;return h&&(i=l-i),i+x},_getSubdomain:function(i){var l=Math.abs(i.x+i.y)%this.options.subdomains.length;return this.options.subdomains[l]},_abortLoading:function(){var i,l;for(i in this._tiles)if(this._tiles[i].coords.z!==this._tileZoom&&(l=this._tiles[i].el,l.onload=w,l.onerror=w,!l.complete)){l.src=C;var h=this._tiles[i].coords;Me(l),delete this._tiles[i],this.fire("tileabort",{tile:l,coords:h})}},_removeTile:function(i){var l=this._tiles[i];if(l)return l.el.setAttribute("src",C),zi.prototype._removeTile.call(this,i)},_tileReady:function(i,l,h){if(!(!this._map||h&&h.getAttribute("src")===C))return zi.prototype._tileReady.call(this,i,l,h)}});function Ln(i,l){return new Hi(i,l)}var Bn=Hi.extend({defaultWmsParams:{service:"WMS",request:"GetMap",layers:"",styles:"",format:"image/jpeg",transparent:!1,version:"1.1.1"},options:{crs:null,uppercase:!1},initialize:function(i,l){this._url=i;var h=u({},this.defaultWmsParams);for(var x in l)x in this.options||(h[x]=l[x]);l=D(this,l);var E=l.detectRetina&&zt.retina?2:1,R=this.getTileSize();h.width=R.x*E,h.height=R.y*E,this.wmsParams=h},onAdd:function(i){this._crs=this.options.crs||i.options.crs,this._wmsVersion=parseFloat(this.wmsParams.version);var l=this._wmsVersion>=1.3?"crs":"srs";this.wmsParams[l]=this._crs.code,Hi.prototype.onAdd.call(this,i)},getTileUrl:function(i){var l=this._tileCoordsToNwSe(i),h=this._crs,x=Y(h.project(l[0]),h.project(l[1])),E=x.min,R=x.max,K=(this._wmsVersion>=1.3&&this._crs===bu?[E.y,E.x,R.y,R.x]:[E.x,E.y,R.x,R.y]).join(","),lt=Hi.prototype.getTileUrl.call(this,i);return lt+A(this.wmsParams,lt,this.options.uppercase)+(this.options.uppercase?"&BBOX=":"&bbox=")+K},setParams:function(i,l){return u(this.wmsParams,i),l||this.redraw(),this}});function _a(i,l){return new Bn(i,l)}Hi.WMS=Bn,Ln.wms=_a;var sr=rr.extend({options:{padding:.1},initialize:function(i){D(this,i),g(this),this._layers=this._layers||{}},onAdd:function(){this._container||(this._initContainer(),Xt(this._container,"leaflet-zoom-animated")),this.getPane().appendChild(this._container),this._update(),this.on("update",this._updatePaths,this)},onRemove:function(){this.off("update",this._updatePaths,this),this._destroyContainer()},getEvents:function(){var i={viewreset:this._reset,zoom:this._onZoom,moveend:this._update,zoomend:this._onZoomEnd};return this._zoomAnimated&&(i.zoomanim=this._onAnimZoom),i},_onAnimZoom:function(i){this._updateTransform(i.center,i.zoom)},_onZoom:function(){this._updateTransform(this._map.getCenter(),this._map.getZoom())},_updateTransform:function(i,l){var h=this._map.getZoomScale(l,this._zoom),x=this._map.getSize().multiplyBy(.5+this.options.padding),E=this._map.project(this._center,l),R=x.multiplyBy(-h).add(E).subtract(this._map._getNewPixelOrigin(i,l));zt.any3d?Kn(this._container,R,h):Ue(this._container,R)},_reset:function(){this._update(),this._updateTransform(this._center,this._zoom);for(var i in this._layers)this._layers[i]._reset()},_onZoomEnd:function(){for(var i in this._layers)this._layers[i]._project()},_updatePaths:function(){for(var i in this._layers)this._layers[i]._update()},_update:function(){var i=this.options.padding,l=this._map.getSize(),h=this._map.containerPointToLayerPoint(l.multiplyBy(-i)).round();this._bounds=new $(h,h.add(l.multiplyBy(1+i*2)).round()),this._center=this._map.getCenter(),this._zoom=this._map.getZoom()}}),bo=sr.extend({options:{tolerance:0},getEvents:function(){var i=sr.prototype.getEvents.call(this);return i.viewprereset=this._onViewPreReset,i},_onViewPreReset:function(){this._postponeUpdatePaths=!0},onAdd:function(){sr.prototype.onAdd.call(this),this._draw()},_initContainer:function(){var i=this._container=document.createElement("canvas");Vt(i,"mousemove",this._onMouseMove,this),Vt(i,"click dblclick mousedown mouseup contextmenu",this._onClick,this),Vt(i,"mouseout",this._handleMouseOut,this),i._leaflet_disable_events=!0,this._ctx=i.getContext("2d")},_destroyContainer:function(){G(this._redrawRequest),delete this._ctx,Me(this._container),fe(this._container),delete this._container},_updatePaths:function(){if(!this._postponeUpdatePaths){var i;this._redrawBounds=null;for(var l in this._layers)i=this._layers[l],i._update();this._redraw()}},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){sr.prototype._update.call(this);var i=this._bounds,l=this._container,h=i.getSize(),x=zt.retina?2:1;Ue(l,i.min),l.width=x*h.x,l.height=x*h.y,l.style.width=h.x+"px",l.style.height=h.y+"px",zt.retina&&this._ctx.scale(2,2),this._ctx.translate(-i.min.x,-i.min.y),this.fire("update")}},_reset:function(){sr.prototype._reset.call(this),this._postponeUpdatePaths&&(this._postponeUpdatePaths=!1,this._updatePaths())},_initPath:function(i){this._updateDashArray(i),this._layers[g(i)]=i;var l=i._order={layer:i,prev:this._drawLast,next:null};this._drawLast&&(this._drawLast.next=l),this._drawLast=l,this._drawFirst=this._drawFirst||this._drawLast},_addPath:function(i){this._requestRedraw(i)},_removePath:function(i){var l=i._order,h=l.next,x=l.prev;h?h.prev=x:this._drawLast=x,x?x.next=h:this._drawFirst=h,delete i._order,delete this._layers[g(i)],this._requestRedraw(i)},_updatePath:function(i){this._extendRedrawBounds(i),i._project(),i._update(),this._requestRedraw(i)},_updateStyle:function(i){this._updateDashArray(i),this._requestRedraw(i)},_updateDashArray:function(i){if(typeof i.options.dashArray=="string"){var l=i.options.dashArray.split(/[, ]+/),h=[],x,E;for(E=0;E<l.length;E++){if(x=Number(l[E]),isNaN(x))return;h.push(x)}i.options._dashArray=h}else i.options._dashArray=i.options.dashArray},_requestRedraw:function(i){this._map&&(this._extendRedrawBounds(i),this._redrawRequest=this._redrawRequest||F(this._redraw,this))},_extendRedrawBounds:function(i){if(i._pxBounds){var l=(i.options.weight||0)+1;this._redrawBounds=this._redrawBounds||new $,this._redrawBounds.extend(i._pxBounds.min.subtract([l,l])),this._redrawBounds.extend(i._pxBounds.max.add([l,l]))}},_redraw:function(){this._redrawRequest=null,this._redrawBounds&&(this._redrawBounds.min._floor(),this._redrawBounds.max._ceil()),this._clear(),this._draw(),this._redrawBounds=null},_clear:function(){var i=this._redrawBounds;if(i){var l=i.getSize();this._ctx.clearRect(i.min.x,i.min.y,l.x,l.y)}else this._ctx.save(),this._ctx.setTransform(1,0,0,1,0,0),this._ctx.clearRect(0,0,this._container.width,this._container.height),this._ctx.restore()},_draw:function(){var i,l=this._redrawBounds;if(this._ctx.save(),l){var h=l.getSize();this._ctx.beginPath(),this._ctx.rect(l.min.x,l.min.y,h.x,h.y),this._ctx.clip()}this._drawing=!0;for(var x=this._drawFirst;x;x=x.next)i=x.layer,(!l||i._pxBounds&&i._pxBounds.intersects(l))&&i._updatePath();this._drawing=!1,this._ctx.restore()},_updatePoly:function(i,l){if(this._drawing){var h,x,E,R,K=i._parts,lt=K.length,pt=this._ctx;if(lt){for(pt.beginPath(),h=0;h<lt;h++){for(x=0,E=K[h].length;x<E;x++)R=K[h][x],pt[x?"lineTo":"moveTo"](R.x,R.y);l&&pt.closePath()}this._fillStroke(pt,i)}}},_updateCircle:function(i){if(!(!this._drawing||i._empty())){var l=i._point,h=this._ctx,x=Math.max(Math.round(i._radius),1),E=(Math.max(Math.round(i._radiusY),1)||x)/x;E!==1&&(h.save(),h.scale(1,E)),h.beginPath(),h.arc(l.x,l.y/E,x,0,Math.PI*2,!1),E!==1&&h.restore(),this._fillStroke(h,i)}},_fillStroke:function(i,l){var h=l.options;h.fill&&(i.globalAlpha=h.fillOpacity,i.fillStyle=h.fillColor||h.color,i.fill(h.fillRule||"evenodd")),h.stroke&&h.weight!==0&&(i.setLineDash&&i.setLineDash(l.options&&l.options._dashArray||[]),i.globalAlpha=h.opacity,i.lineWidth=h.weight,i.strokeStyle=h.color,i.lineCap=h.lineCap,i.lineJoin=h.lineJoin,i.stroke())},_onClick:function(i){for(var l=this._map.mouseEventToLayerPoint(i),h,x,E=this._drawFirst;E;E=E.next)h=E.layer,h.options.interactive&&h._containsPoint(l)&&(!(i.type==="click"||i.type==="preclick")||!this._map._draggableMoved(h))&&(x=h);this._fireEvent(x?[x]:!1,i)},_onMouseMove:function(i){if(!(!this._map||this._map.dragging.moving()||this._map._animatingZoom)){var l=this._map.mouseEventToLayerPoint(i);this._handleMouseHover(i,l)}},_handleMouseOut:function(i){var l=this._hoveredLayer;l&&(Ne(this._container,"leaflet-interactive"),this._fireEvent([l],i,"mouseout"),this._hoveredLayer=null,this._mouseHoverThrottled=!1)},_handleMouseHover:function(i,l){if(!this._mouseHoverThrottled){for(var h,x,E=this._drawFirst;E;E=E.next)h=E.layer,h.options.interactive&&h._containsPoint(l)&&(x=h);x!==this._hoveredLayer&&(this._handleMouseOut(i),x&&(Xt(this._container,"leaflet-interactive"),this._fireEvent([x],i,"mouseover"),this._hoveredLayer=x)),this._fireEvent(this._hoveredLayer?[this._hoveredLayer]:!1,i),this._mouseHoverThrottled=!0,setTimeout(f(function(){this._mouseHoverThrottled=!1},this),32)}},_fireEvent:function(i,l,h){this._map._fireDOMEvent(l,h||l.type,i)},_bringToFront:function(i){var l=i._order;if(l){var h=l.next,x=l.prev;if(h)h.prev=x;else return;x?x.next=h:h&&(this._drawFirst=h),l.prev=this._drawLast,this._drawLast.next=l,l.next=null,this._drawLast=l,this._requestRedraw(i)}},_bringToBack:function(i){var l=i._order;if(l){var h=l.next,x=l.prev;if(x)x.next=h;else return;h?h.prev=x:x&&(this._drawLast=x),l.prev=null,l.next=this._drawFirst,this._drawFirst.prev=l,this._drawFirst=l,this._requestRedraw(i)}}});function yo(i){return zt.canvas?new bo(i):null}var $i=(function(){try{return document.namespaces.add("lvml","urn:schemas-microsoft-com:vml"),function(i){return document.createElement("<lvml:"+i+' class="lvml">')}}catch{}return function(i){return document.createElement("<"+i+' xmlns="urn:schemas-microsoft.com:vml" class="lvml">')}})(),Sa={_initContainer:function(){this._container=se("div","leaflet-vml-container")},_update:function(){this._map._animatingZoom||(sr.prototype._update.call(this),this.fire("update"))},_initPath:function(i){var l=i._container=$i("shape");Xt(l,"leaflet-vml-shape "+(this.options.className||"")),l.coordsize="1 1",i._path=$i("path"),l.appendChild(i._path),this._updateStyle(i),this._layers[g(i)]=i},_addPath:function(i){var l=i._container;this._container.appendChild(l),i.options.interactive&&i.addInteractiveTarget(l)},_removePath:function(i){var l=i._container;Me(l),i.removeInteractiveTarget(l),delete this._layers[g(i)]},_updateStyle:function(i){var l=i._stroke,h=i._fill,x=i.options,E=i._container;E.stroked=!!x.stroke,E.filled=!!x.fill,x.stroke?(l||(l=i._stroke=$i("stroke")),E.appendChild(l),l.weight=x.weight+"px",l.color=x.color,l.opacity=x.opacity,x.dashArray?l.dashStyle=k(x.dashArray)?x.dashArray.join(" "):x.dashArray.replace(/( *, *)/g," "):l.dashStyle="",l.endcap=x.lineCap.replace("butt","flat"),l.joinstyle=x.lineJoin):l&&(E.removeChild(l),i._stroke=null),x.fill?(h||(h=i._fill=$i("fill")),E.appendChild(h),h.color=x.fillColor||x.color,h.opacity=x.fillOpacity):h&&(E.removeChild(h),i._fill=null)},_updateCircle:function(i){var l=i._point.round(),h=Math.round(i._radius),x=Math.round(i._radiusY||h);this._setPath(i,i._empty()?"M0 0":"AL "+l.x+","+l.y+" "+h+","+x+" 0,"+65535*360)},_setPath:function(i,l){i._path.v=l},_bringToFront:function(i){Di(i._container)},_bringToBack:function(i){aa(i._container)}},vo=zt.vml?$i:Ct,di=sr.extend({_initContainer:function(){this._container=vo("svg"),this._container.setAttribute("pointer-events","none"),this._rootGroup=vo("g"),this._container.appendChild(this._rootGroup)},_destroyContainer:function(){Me(this._container),fe(this._container),delete this._container,delete this._rootGroup,delete this._svgSize},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){sr.prototype._update.call(this);var i=this._bounds,l=i.getSize(),h=this._container;(!this._svgSize||!this._svgSize.equals(l))&&(this._svgSize=l,h.setAttribute("width",l.x),h.setAttribute("height",l.y)),Ue(h,i.min),h.setAttribute("viewBox",[i.min.x,i.min.y,l.x,l.y].join(" ")),this.fire("update")}},_initPath:function(i){var l=i._path=vo("path");i.options.className&&Xt(l,i.options.className),i.options.interactive&&Xt(l,"leaflet-interactive"),this._updateStyle(i),this._layers[g(i)]=i},_addPath:function(i){this._rootGroup||this._initContainer(),this._rootGroup.appendChild(i._path),i.addInteractiveTarget(i._path)},_removePath:function(i){Me(i._path),i.removeInteractiveTarget(i._path),delete this._layers[g(i)]},_updatePath:function(i){i._project(),i._update()},_updateStyle:function(i){var l=i._path,h=i.options;l&&(h.stroke?(l.setAttribute("stroke",h.color),l.setAttribute("stroke-opacity",h.opacity),l.setAttribute("stroke-width",h.weight),l.setAttribute("stroke-linecap",h.lineCap),l.setAttribute("stroke-linejoin",h.lineJoin),h.dashArray?l.setAttribute("stroke-dasharray",h.dashArray):l.removeAttribute("stroke-dasharray"),h.dashOffset?l.setAttribute("stroke-dashoffset",h.dashOffset):l.removeAttribute("stroke-dashoffset")):l.setAttribute("stroke","none"),h.fill?(l.setAttribute("fill",h.fillColor||h.color),l.setAttribute("fill-opacity",h.fillOpacity),l.setAttribute("fill-rule",h.fillRule||"evenodd")):l.setAttribute("fill","none"))},_updatePoly:function(i,l){this._setPath(i,Kt(i._parts,l))},_updateCircle:function(i){var l=i._point,h=Math.max(Math.round(i._radius),1),x=Math.max(Math.round(i._radiusY),1)||h,E="a"+h+","+x+" 0 1,0 ",R=i._empty()?"M0 0":"M"+(l.x-h)+","+l.y+E+h*2+",0 "+E+-h*2+",0 ";this._setPath(i,R)},_setPath:function(i,l){i._path.setAttribute("d",l)},_bringToFront:function(i){Di(i._path)},_bringToBack:function(i){aa(i._path)}});zt.vml&&di.include(Sa);function Ii(i){return zt.svg||zt.vml?new di(i):null}te.include({getRenderer:function(i){var l=i.options.renderer||this._getPaneRenderer(i.options.pane)||this.options.renderer||this._renderer;return l||(l=this._renderer=this._createRenderer()),this.hasLayer(l)||this.addLayer(l),l},_getPaneRenderer:function(i){if(i==="overlayPane"||i===void 0)return!1;var l=this._paneRenderers[i];return l===void 0&&(l=this._createRenderer({pane:i}),this._paneRenderers[i]=l),l},_createRenderer:function(i){return this.options.preferCanvas&&yo(i)||Ii(i)}});var Tu=ya.extend({initialize:function(i,l){ya.prototype.initialize.call(this,this._boundsToLatLngs(i),l)},setBounds:function(i){return this.setLatLngs(this._boundsToLatLngs(i))},_boundsToLatLngs:function(i){return i=V(i),[i.getSouthWest(),i.getNorthWest(),i.getNorthEast(),i.getSouthEast()]}});function Rn(i,l){return new Tu(i,l)}di.create=vo,di.pointsToPath=Kt,Cn.geometryToLayer=ho,Cn.coordsToLatLng=is,Cn.coordsToLatLngs=mo,Cn.latLngToCoords=po,Cn.latLngsToCoords=as,Cn.getFeature=ir,Cn.asFeature=va,te.mergeOptions({boxZoom:!0});var cs=nr.extend({initialize:function(i){this._map=i,this._container=i._container,this._pane=i._panes.overlayPane,this._resetStateTimeout=0,i.on("unload",this._destroy,this)},addHooks:function(){Vt(this._container,"mousedown",this._onMouseDown,this)},removeHooks:function(){fe(this._container,"mousedown",this._onMouseDown,this)},moved:function(){return this._moved},_destroy:function(){Me(this._pane),delete this._pane},_resetState:function(){this._resetStateTimeout=0,this._moved=!1},_clearDeferredResetState:function(){this._resetStateTimeout!==0&&(clearTimeout(this._resetStateTimeout),this._resetStateTimeout=0)},_onMouseDown:function(i){if(!i.shiftKey||i.which!==1&&i.button!==1)return!1;this._clearDeferredResetState(),this._resetState(),Tr(),ao(),this._startPoint=this._map.mouseEventToContainerPoint(i),Vt(document,{contextmenu:Nr,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseMove:function(i){this._moved||(this._moved=!0,this._box=se("div","leaflet-zoom-box",this._container),Xt(this._container,"leaflet-crosshair"),this._map.fire("boxzoomstart")),this._point=this._map.mouseEventToContainerPoint(i);var l=new $(this._point,this._startPoint),h=l.getSize();Ue(this._box,l.min),this._box.style.width=h.x+"px",this._box.style.height=h.y+"px"},_finish:function(){this._moved&&(Me(this._box),Ne(this._container,"leaflet-crosshair")),io(),ml(),fe(document,{contextmenu:Nr,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseUp:function(i){if(!(i.which!==1&&i.button!==1)&&(this._finish(),!!this._moved)){this._clearDeferredResetState(),this._resetStateTimeout=setTimeout(f(this._resetState,this),0);var l=new J(this._map.containerPointToLatLng(this._startPoint),this._map.containerPointToLatLng(this._point));this._map.fitBounds(l).fire("boxzoomend",{boxZoomBounds:l})}},_onKeyDown:function(i){i.keyCode===27&&(this._finish(),this._clearDeferredResetState(),this._resetState())}});te.addInitHook("addHandler","boxZoom",cs),te.mergeOptions({doubleClickZoom:!0});var Dr=nr.extend({addHooks:function(){this._map.on("dblclick",this._onDoubleClick,this)},removeHooks:function(){this._map.off("dblclick",this._onDoubleClick,this)},_onDoubleClick:function(i){var l=this._map,h=l.getZoom(),x=l.options.zoomDelta,E=i.originalEvent.shiftKey?h-x:h+x;l.options.doubleClickZoom==="center"?l.setZoom(E):l.setZoomAround(i.containerPoint,E)}});te.addInitHook("addHandler","doubleClickZoom",Dr),te.mergeOptions({dragging:!0,inertia:!0,inertiaDeceleration:3400,inertiaMaxSpeed:1/0,easeLinearity:.2,worldCopyJump:!1,maxBoundsViscosity:0});var Al=nr.extend({addHooks:function(){if(!this._draggable){var i=this._map;this._draggable=new ci(i._mapPane,i._container),this._draggable.on({dragstart:this._onDragStart,drag:this._onDrag,dragend:this._onDragEnd},this),this._draggable.on("predrag",this._onPreDragLimit,this),i.options.worldCopyJump&&(this._draggable.on("predrag",this._onPreDragWrap,this),i.on("zoomend",this._onZoomEnd,this),i.whenReady(this._onZoomEnd,this))}Xt(this._map._container,"leaflet-grab leaflet-touch-drag"),this._draggable.enable(),this._positions=[],this._times=[]},removeHooks:function(){Ne(this._map._container,"leaflet-grab"),Ne(this._map._container,"leaflet-touch-drag"),this._draggable.disable()},moved:function(){return this._draggable&&this._draggable._moved},moving:function(){return this._draggable&&this._draggable._moving},_onDragStart:function(){var i=this._map;if(i._stop(),this._map.options.maxBounds&&this._map.options.maxBoundsViscosity){var l=V(this._map.options.maxBounds);this._offsetLimit=Y(this._map.latLngToContainerPoint(l.getNorthWest()).multiplyBy(-1),this._map.latLngToContainerPoint(l.getSouthEast()).multiplyBy(-1).add(this._map.getSize())),this._viscosity=Math.min(1,Math.max(0,this._map.options.maxBoundsViscosity))}else this._offsetLimit=null;i.fire("movestart").fire("dragstart"),i.options.inertia&&(this._positions=[],this._times=[])},_onDrag:function(i){if(this._map.options.inertia){var l=this._lastTime=+new Date,h=this._lastPos=this._draggable._absPos||this._draggable._newPos;this._positions.push(h),this._times.push(l),this._prunePositions(l)}this._map.fire("move",i).fire("drag",i)},_prunePositions:function(i){for(;this._positions.length>1&&i-this._times[0]>50;)this._positions.shift(),this._times.shift()},_onZoomEnd:function(){var i=this._map.getSize().divideBy(2),l=this._map.latLngToLayerPoint([0,0]);this._initialWorldOffset=l.subtract(i).x,this._worldWidth=this._map.getPixelWorldBounds().getSize().x},_viscousLimit:function(i,l){return i-(i-l)*this._viscosity},_onPreDragLimit:function(){if(!(!this._viscosity||!this._offsetLimit)){var i=this._draggable._newPos.subtract(this._draggable._startPos),l=this._offsetLimit;i.x<l.min.x&&(i.x=this._viscousLimit(i.x,l.min.x)),i.y<l.min.y&&(i.y=this._viscousLimit(i.y,l.min.y)),i.x>l.max.x&&(i.x=this._viscousLimit(i.x,l.max.x)),i.y>l.max.y&&(i.y=this._viscousLimit(i.y,l.max.y)),this._draggable._newPos=this._draggable._startPos.add(i)}},_onPreDragWrap:function(){var i=this._worldWidth,l=Math.round(i/2),h=this._initialWorldOffset,x=this._draggable._newPos.x,E=(x-l+h)%i+l-h,R=(x+l+h)%i-l-h,K=Math.abs(E+h)<Math.abs(R+h)?E:R;this._draggable._absPos=this._draggable._newPos.clone(),this._draggable._newPos.x=K},_onDragEnd:function(i){var l=this._map,h=l.options,x=!h.inertia||i.noInertia||this._times.length<2;if(l.fire("dragend",i),x)l.fire("moveend");else{this._prunePositions(+new Date);var E=this._lastPos.subtract(this._positions[0]),R=(this._lastTime-this._times[0])/1e3,K=h.easeLinearity,lt=E.multiplyBy(K/R),pt=lt.distanceTo([0,0]),Et=Math.min(h.inertiaMaxSpeed,pt),jt=lt.multiplyBy(Et/pt),Lt=Et/(h.inertiaDeceleration*K),Pt=jt.multiplyBy(-Lt/2).round();!Pt.x&&!Pt.y?l.fire("moveend"):(Pt=l._limitOffset(Pt,l.options.maxBounds),F(function(){l.panBy(Pt,{duration:Lt,easeLinearity:K,noMoveStart:!0,animate:!0})}))}}});te.addInitHook("addHandler","dragging",Al),te.mergeOptions({keyboard:!0,keyboardPanDelta:80});var xo=nr.extend({keyCodes:{left:[37],right:[39],down:[40],up:[38],zoomIn:[187,107,61,171],zoomOut:[189,109,54,173]},initialize:function(i){this._map=i,this._setPanDelta(i.options.keyboardPanDelta),this._setZoomDelta(i.options.zoomDelta)},addHooks:function(){var i=this._map._container;i.tabIndex<=0&&(i.tabIndex="0"),Vt(i,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.on({focus:this._addHooks,blur:this._removeHooks},this)},removeHooks:function(){this._removeHooks(),fe(this._map._container,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.off({focus:this._addHooks,blur:this._removeHooks},this)},_onMouseDown:function(){if(!this._focused){var i=document.body,l=document.documentElement,h=i.scrollTop||l.scrollTop,x=i.scrollLeft||l.scrollLeft;this._map._container.focus(),window.scrollTo(x,h)}},_onFocus:function(){this._focused=!0,this._map.fire("focus")},_onBlur:function(){this._focused=!1,this._map.fire("blur")},_setPanDelta:function(i){var l=this._panKeys={},h=this.keyCodes,x,E;for(x=0,E=h.left.length;x<E;x++)l[h.left[x]]=[-1*i,0];for(x=0,E=h.right.length;x<E;x++)l[h.right[x]]=[i,0];for(x=0,E=h.down.length;x<E;x++)l[h.down[x]]=[0,i];for(x=0,E=h.up.length;x<E;x++)l[h.up[x]]=[0,-1*i]},_setZoomDelta:function(i){var l=this._zoomKeys={},h=this.keyCodes,x,E;for(x=0,E=h.zoomIn.length;x<E;x++)l[h.zoomIn[x]]=i;for(x=0,E=h.zoomOut.length;x<E;x++)l[h.zoomOut[x]]=-i},_addHooks:function(){Vt(document,"keydown",this._onKeyDown,this)},_removeHooks:function(){fe(document,"keydown",this._onKeyDown,this)},_onKeyDown:function(i){if(!(i.altKey||i.ctrlKey||i.metaKey)){var l=i.keyCode,h=this._map,x;if(l in this._panKeys){if(!h._panAnim||!h._panAnim._inProgress)if(x=this._panKeys[l],i.shiftKey&&(x=j(x).multiplyBy(3)),h.options.maxBounds&&(x=h._limitOffset(j(x),h.options.maxBounds)),h.options.worldCopyJump){var E=h.wrapLatLng(h.unproject(h.project(h.getCenter()).add(x)));h.panTo(E)}else h.panBy(x)}else if(l in this._zoomKeys)h.setZoom(h.getZoom()+(i.shiftKey?3:1)*this._zoomKeys[l]);else if(l===27&&h._popup&&h._popup.options.closeOnEscapeKey)h.closePopup();else return;Nr(i)}}});te.addInitHook("addHandler","keyboard",xo),te.mergeOptions({scrollWheelZoom:!0,wheelDebounceTime:40,wheelPxPerZoomLevel:60});var fi=nr.extend({addHooks:function(){Vt(this._map._container,"wheel",this._onWheelScroll,this),this._delta=0},removeHooks:function(){fe(this._map._container,"wheel",this._onWheelScroll,this)},_onWheelScroll:function(i){var l=lo(i),h=this._map.options.wheelDebounceTime;this._delta+=l,this._lastMousePos=this._map.mouseEventToContainerPoint(i),this._startTime||(this._startTime=+new Date);var x=Math.max(h-(+new Date-this._startTime),0);clearTimeout(this._timer),this._timer=setTimeout(f(this._performZoom,this),x),Nr(i)},_performZoom:function(){var i=this._map,l=i.getZoom(),h=this._map.options.zoomSnap||0;i._stop();var x=this._delta/(this._map.options.wheelPxPerZoomLevel*4),E=4*Math.log(2/(1+Math.exp(-Math.abs(x))))/Math.LN2,R=h?Math.ceil(E/h)*h:E,K=i._limitZoom(l+(this._delta>0?R:-R))-l;this._delta=0,this._startTime=null,K&&(i.options.scrollWheelZoom==="center"?i.setZoom(l+K):i.setZoomAround(this._lastMousePos,l+K))}});te.addInitHook("addHandler","scrollWheelZoom",fi);var Dl=600;te.mergeOptions({tapHold:zt.touchNative&&zt.safari&&zt.mobile,tapTolerance:15});var us=nr.extend({addHooks:function(){Vt(this._map._container,"touchstart",this._onDown,this)},removeHooks:function(){fe(this._map._container,"touchstart",this._onDown,this)},_onDown:function(i){if(clearTimeout(this._holdTimeout),i.touches.length===1){var l=i.touches[0];this._startPos=this._newPos=new ot(l.clientX,l.clientY),this._holdTimeout=setTimeout(f(function(){this._cancel(),this._isTapValid()&&(Vt(document,"touchend",Fe),Vt(document,"touchend touchcancel",this._cancelClickPrevent),this._simulateEvent("contextmenu",l))},this),Dl),Vt(document,"touchend touchcancel contextmenu",this._cancel,this),Vt(document,"touchmove",this._onMove,this)}},_cancelClickPrevent:function i(){fe(document,"touchend",Fe),fe(document,"touchend touchcancel",i)},_cancel:function(){clearTimeout(this._holdTimeout),fe(document,"touchend touchcancel contextmenu",this._cancel,this),fe(document,"touchmove",this._onMove,this)},_onMove:function(i){var l=i.touches[0];this._newPos=new ot(l.clientX,l.clientY)},_isTapValid:function(){return this._newPos.distanceTo(this._startPos)<=this._map.options.tapTolerance},_simulateEvent:function(i,l){var h=new MouseEvent(i,{bubbles:!0,cancelable:!0,view:window,screenX:l.screenX,screenY:l.screenY,clientX:l.clientX,clientY:l.clientY});h._simulated=!0,l.target.dispatchEvent(h)}});te.addInitHook("addHandler","tapHold",us),te.mergeOptions({touchZoom:zt.touch,bounceAtZoomLimits:!0});var Ui=nr.extend({addHooks:function(){Xt(this._map._container,"leaflet-touch-zoom"),Vt(this._map._container,"touchstart",this._onTouchStart,this)},removeHooks:function(){Ne(this._map._container,"leaflet-touch-zoom"),fe(this._map._container,"touchstart",this._onTouchStart,this)},_onTouchStart:function(i){var l=this._map;if(!(!i.touches||i.touches.length!==2||l._animatingZoom||this._zooming)){var h=l.mouseEventToContainerPoint(i.touches[0]),x=l.mouseEventToContainerPoint(i.touches[1]);this._centerPoint=l.getSize()._divideBy(2),this._startLatLng=l.containerPointToLatLng(this._centerPoint),l.options.touchZoom!=="center"&&(this._pinchStartLatLng=l.containerPointToLatLng(h.add(x)._divideBy(2))),this._startDist=h.distanceTo(x),this._startZoom=l.getZoom(),this._moved=!1,this._zooming=!0,l._stop(),Vt(document,"touchmove",this._onTouchMove,this),Vt(document,"touchend touchcancel",this._onTouchEnd,this),Fe(i)}},_onTouchMove:function(i){if(!(!i.touches||i.touches.length!==2||!this._zooming)){var l=this._map,h=l.mouseEventToContainerPoint(i.touches[0]),x=l.mouseEventToContainerPoint(i.touches[1]),E=h.distanceTo(x)/this._startDist;if(this._zoom=l.getScaleZoom(E,this._startZoom),!l.options.bounceAtZoomLimits&&(this._zoom<l.getMinZoom()&&E<1||this._zoom>l.getMaxZoom()&&E>1)&&(this._zoom=l._limitZoom(this._zoom)),l.options.touchZoom==="center"){if(this._center=this._startLatLng,E===1)return}else{var R=h._add(x)._divideBy(2)._subtract(this._centerPoint);if(E===1&&R.x===0&&R.y===0)return;this._center=l.unproject(l.project(this._pinchStartLatLng,this._zoom).subtract(R),this._zoom)}this._moved||(l._moveStart(!0,!1),this._moved=!0),G(this._animRequest);var K=f(l._move,l,this._center,this._zoom,{pinch:!0,round:!1},void 0);this._animRequest=F(K,this,!0),Fe(i)}},_onTouchEnd:function(){if(!this._moved||!this._zooming){this._zooming=!1;return}this._zooming=!1,G(this._animRequest),fe(document,"touchmove",this._onTouchMove,this),fe(document,"touchend touchcancel",this._onTouchEnd,this),this._map.options.zoomAnimation?this._map._animateZoom(this._center,this._map._limitZoom(this._zoom),!0,this._map.options.zoomSnap):this._map._resetView(this._center,this._map._limitZoom(this._zoom))}});te.addInitHook("addHandler","touchZoom",Ui),te.BoxZoom=cs,te.DoubleClickZoom=Dr,te.Drag=Al,te.Keyboard=xo,te.ScrollWheelZoom=fi,te.TapHold=us,te.TouchZoom=Ui,a.Bounds=$,a.Browser=zt,a.CRS=dt,a.Canvas=bo,a.Circle=El,a.CircleMarker=fo,a.Class=ht,a.Control=Mn,a.DivIcon=Nl,a.DivOverlay=ar,a.DomEvent=uh,a.DomUtil=ou,a.Draggable=ci,a.Evented=rt,a.FeatureGroup=kn,a.GeoJSON=Cn,a.GridLayer=zi,a.Handler=nr,a.Icon=pa,a.ImageOverlay=Ar,a.LatLng=I,a.LatLngBounds=J,a.Layer=rr,a.LayerGroup=Ri,a.LineUtil=pu,a.Map=te,a.Marker=ba,a.Mixin=ph,a.Path=Kr,a.Point=ot,a.PolyUtil=gh,a.Polygon=ya,a.Polyline=Xr,a.Popup=go,a.PosAnimation=Qo,a.Projection=gu,a.Rectangle=Tu,a.Renderer=sr,a.SVG=di,a.SVGOverlay=ui,a.TileLayer=Hi,a.Tooltip=ls,a.Transformation=kt,a.Util=tt,a.VideoOverlay=ss,a.bind=f,a.bounds=Y,a.canvas=yo,a.circle=Sh,a.circleMarker=vu,a.control=ha,a.divIcon=wu,a.extend=u,a.featureGroup=uo,a.geoJSON=os,a.geoJson=xu,a.gridLayer=or,a.icon=rs,a.imageOverlay=xa,a.latLng=U,a.latLngBounds=V,a.layerGroup=yu,a.map=co,a.marker=Tl,a.point=j,a.polygon=On,a.polyline=wh,a.popup=Th,a.rectangle=Rn,a.setOptions=D,a.stamp=g,a.svg=Ii,a.svgOverlay=Su,a.tileLayer=Ln,a.tooltip=Eh,a.transformation=Dt,a.version=s,a.videoOverlay=_u;var wa=window.L;a.noConflict=function(){return window.L=wa,this},window.L=a}))})(Tc,Tc.exports)),Tc.exports}var BE=LE();const o0=tl(BE),wd=t=>t.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#39;");function ko(t){const r=document.getElementById(t);if(!r)throw new Error(`#${t} not found`);return r}function RE(t){const{buttonId:r,buttonInputId:a,modalId:s,closeMapId:u,mapCloseBtnId:d,searchBoxId:f,suggestionsId:p,mapId:g}=t.ids,y=t.initialCenter??{lat:37.5665,lon:126.978},_=ko(a),w=ko(r),S=ko(s),T=ko(d),M=ko(f),D=ko(p),A=u?ko(u):null;let z=null,H=null,k=null;const B=G=>G.code==="Space"||G.key===" "||G.key==="Spacebar"||G.key==="Space",C=G=>{B(G)&&document.activeElement!==M&&(G.preventDefault(),G.stopPropagation(),M.focus())},q=()=>{S.style.display="flex",z?setTimeout(()=>z?.invalidateSize(),200):setTimeout(()=>{z=o0.map(g,{keyboard:!1}).setView([y.lat,y.lon],11),o0.tileLayer("https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",{attribution:"© OpenStreetMap"}).addTo(z),z.invalidateSize()},0),S.addEventListener("keydown",C,!0),S.addEventListener("keyup",C,!0),M.focus()},et=()=>{S.style.display="none",M.value="",D.innerHTML="",k&&(window.clearTimeout(k),k=null),S.removeEventListener("keydown",C,!0),S.removeEventListener("keyup",C,!0)},st=G=>{const tt=G.dataset.name??"",ht=Number(G.dataset.lat??""),it=Number(G.dataset.lon??"");!Number.isFinite(ht)||!Number.isFinite(it)||!z||(H?H.setLatLng([ht,it]):H=o0.marker([ht,it]).addTo(z),z.flyTo([ht,it],14,{duration:.5}),_.value=tt,_.dataset.lat=String(ht),_.dataset.lon=String(it),t.onSelected?.({name:tt,lat:ht,lon:it}),D.innerHTML="",et())},W=()=>{k&&window.clearTimeout(k);const G=M.value.trim();if(!G){D.innerHTML="";return}k=window.setTimeout(async()=>{try{const tt="https://nominatim.openstreetmap.org/search?format=jsonv2&limit=12&accept-language=ko&addressdetails=1&dedupe=1&email=unique950318@gmail.com&q="+encodeURIComponent(G),ht=await fetch(tt,{headers:{Accept:"application/json"}});if(!ht.ok)throw new Error(`HTTP ${ht.status}`);const it=await ht.json();if(!Array.isArray(it)||it.length===0){D.innerHTML='<li style="padding:8px">결과 없음</li>';return}const Z=it.slice(0,12).map((rt,ot)=>{const yt=rt.display_name.split(",").slice(0,3).map(Y=>Y.trim()).join(" · "),j="padding:8px;cursor:pointer;outline:none;",$=ot===0?"background-color:#1f2937;border-radius:4px;":"";return`<li
                    role="option"
                    data-name="${wd(yt)}"
                    data-lat="${wd(rt.lat)}"
                    data-lon="${wd(rt.lon)}"
                    data-active="${ot===0?"1":"0"}"
                    style="${j}${$}"
                  >${wd(yt)}</li>`}).join("");D.innerHTML=Z}catch(tt){console.error(tt),D.innerHTML='<li style="padding:8px;color:#b91c1c">검색 오류</li>'}},250)},Q=G=>{const tt=G.target;tt.tagName==="LI"&&st(tt)},F=G=>{if(G.key==="Enter"){const tt=D.querySelector('li[data-active="1"]')??D.querySelector("li");tt&&st(tt)}};return w.addEventListener("click",q),T.addEventListener("click",et),A&&A.addEventListener("click",et),M.addEventListener("input",W),M.addEventListener("keydown",F),D.addEventListener("click",Q),()=>{w.removeEventListener("click",q),T.removeEventListener("click",et),A&&A.removeEventListener("click",et),M.removeEventListener("input",W),M.removeEventListener("keydown",F),D.removeEventListener("click",Q),S.removeEventListener("keydown",C,!0),S.removeEventListener("keyup",C,!0),k&&(window.clearTimeout(k),k=null),z&&(z.remove(),z=null)}}function Cs(){return document.getElementById("suggestions")}function af(t){const r=Array.from(t.querySelectorAll('li, [role="option"]'));return r.forEach((a,s)=>{a.getAttribute("role")||a.setAttribute("role","option"),a.setAttribute("aria-selected",a===document.activeElement?"true":"false"),a.tabIndex=-1,a.id||(a.id=`suggestion-item-${s}`)}),r}function dc(t,r){const a=af(t);if(a.length===0)return;const s=a.length;let u=r;u<0&&(u=s-1),u>=s&&(u=0),a.forEach(f=>{f.tabIndex=-1,f.setAttribute("aria-selected","false")});const d=a[u];d.tabIndex=0,d.setAttribute("aria-selected","true"),d.focus()}function i1({onSelect:t,placeholderText:r="출생지선택",buttonStyle:a,value:s}){const[u,d]=O.useState(r),[f,p]=O.useState(!1),[g,y]=O.useState(s??""),_=O.useRef(null),w=O.useRef(null),S=O.useRef(null),T=O.useRef(null);return O.useEffect(()=>{s!==void 0&&y(s)},[s]),O.useEffect(()=>{if(!f)return;const M=RE({ids:{buttonInputId:"inputBirthPlace",buttonId:"inputBirthPlaceBtn",modalId:"mapModal",closeMapId:"closeMap",mapCloseBtnId:"mapCloseBtn",searchBoxId:"searchBox",suggestionsId:"suggestions",mapId:"map"},onSelected:W=>{d("선택완료"),y(W.name),_.current&&(_.current.value=W.name),w.current&&(w.current.value=String(W.lat)),S.current&&(S.current.value=String(W.lon)),t?.(W),p(!1)}}),D=document.getElementById("inputBirthPlaceBtn");D&&D.dispatchEvent(new MouseEvent("click",{bubbles:!0}));const A=document.getElementById("mapModal"),z=document.getElementById("searchBox"),H=Cs();setTimeout(()=>z?.focus(),0);const k='button, [href], input:not([type="hidden"]), select, textarea, [tabindex]:not([tabindex="-1"])',B=W=>{if(W.key==="Escape"){W.preventDefault(),p(!1);return}if(W.key!=="Tab")return;const Q=Cs();if(Q&&Q.contains(document.activeElement))return;const F=Array.from(A.querySelectorAll(k)).filter(it=>!it.hasAttribute("disabled")&&it.tabIndex!==-1);if(F.length===0)return;const G=F[0],tt=F[F.length-1],ht=document.activeElement;W.shiftKey?(ht===G||!A.contains(ht))&&(W.preventDefault(),tt.focus()):(ht===tt||!A.contains(ht))&&(W.preventDefault(),G.focus())};A.addEventListener("keydown",B);const C=W=>{if(W.key!=="ArrowDown")return;const Q=Cs();!Q||af(Q).length===0||(W.preventDefault(),dc(Q,0))};z?.addEventListener("keydown",C);const q=W=>{if(W.target.value.trim()===""){const F=Cs();F&&(F.innerHTML="")}};z?.addEventListener("input",q);const et=W=>{const Q=Cs();if(!Q)return;const F=af(Q);if(F.length===0)return;const G=document.activeElement,tt=G?F.indexOf(G):-1;if(tt===-1)return;const ht=it=>{W.preventDefault(),dc(Q,tt+it)};switch(W.key){case"Tab":W.preventDefault(),ht(W.shiftKey?-1:1);break;case"ArrowDown":W.preventDefault(),ht(1);break;case"ArrowUp":W.preventDefault(),ht(-1);break;case"Home":W.preventDefault(),dc(Q,0);break;case"End":W.preventDefault(),dc(Q,F.length-1);break;case"Enter":case" ":W.preventDefault(),G.click();break;case"Backspace":W.preventDefault(),Q.innerHTML="",z?.focus();break}W.stopPropagation()};let st=null;return H&&(H.addEventListener("keydown",et),st=new MutationObserver(()=>{const W=Cs();!W||af(W).length===0||dc(W,0)}),st.observe(H,{childList:!0,subtree:!1})),()=>{A.removeEventListener("keydown",B),z?.removeEventListener("keydown",C),z?.removeEventListener("input",q),H&&H.removeEventListener("keydown",et),st?.disconnect(),M?.()}},[f,t]),O.useEffect(()=>{f||setTimeout(()=>T.current?.focus(),0)},[f]),b.jsxs("li",{className:"flex items-center gap-2",children:[b.jsx("input",{className:`w-[60%] desk:w-[70%] mr-2 border rounded-lg p-2
                   bg-white dark:bg-neutral-900
                   border-neutral-300 dark:border-neutral-700
                   text-neutral-900 dark:text-neutral-100
                   placeholder-neutral-400 dark:placeholder-neutral-500`,type:"text",id:"inputBirthPlace",readOnly:!0,"aria-readonly":"true",value:g&&g.trim()!==""?g:r}),b.jsx("button",{ref:T,type:"button",id:"inputBirthPlaceBtn",className:"btn_style text-sm desk:text-base w-[calc(40%_-_8px)] desk:w-[calc(30%_-_8px)] p-0",style:a,onClick:()=>p(!0),"aria-haspopup":"dialog","aria-expanded":f,"aria-controls":"mapModal",children:u}),b.jsx("input",{ref:_,type:"hidden",name:"birthPlace_name",defaultValue:""}),b.jsx("input",{ref:w,type:"hidden",name:"birthPlace_lat",defaultValue:""}),b.jsx("input",{ref:S,type:"hidden",name:"birthPlace_lon",defaultValue:""}),f&&b.jsx("div",{id:"mapModal",role:"dialog","aria-modal":"true","aria-labelledby":"mapModalTitle",className:"fixed inset-0 z-[999] flex items-center justify-center bg-black/40 dark:bg-black/60 p-4",children:b.jsxs("div",{className:`w-[96vw] desk:w-[920px] rounded-2xl shadow-2xl overflow-hidden flex flex-col
                          bg-white dark:bg-neutral-950
                          text-neutral-900 dark:text-neutral-100
                          border border-neutral-200 dark:border-neutral-800`,children:[b.jsxs("div",{className:"flex items-center justify-between px-4 py-3 border-b border-neutral-200 dark:border-neutral-800",children:[b.jsx("div",{id:"mapModalTitle",className:"font-bold",children:"출생지선택"}),b.jsx("button",{id:"mapCloseBtn","aria-label":"닫기",className:"text-xl hover:opacity-70 cursor-pointer",onClick:()=>p(!1),children:"✕"})]}),b.jsxs("div",{className:"relative grid gap-2 px-3 py-3 border-t border-neutral-200 dark:border-neutral-800",children:[b.jsx("label",{htmlFor:"searchBox",className:"text-xs text-neutral-500 dark:text-neutral-400",children:"도시/지역 검색"}),b.jsxs("div",{className:"relative",children:[b.jsx("input",{id:"searchBox",placeholder:"예: 서울 강남구 / seoul / 도쿄도 / tokyo",className:`h-10 w-full rounded-lg border px-3 outline-none
                             bg-white dark:bg-neutral-900
                             border-neutral-300 dark:border-neutral-700
                             placeholder-neutral-400 dark:placeholder-neutral-500
                             text-neutral-900 dark:text-neutral-100
                             focus:border-neutral-400 dark:focus:border-neutral-600`,autoComplete:"off"}),b.jsx("ul",{id:"suggestions",role:"listbox","aria-label":"자동완성 목록",className:`absolute left-0 right-0 mt-1 max-h-60 overflow-y-auto rounded-lg border shadow-xl z-[1005]
                             bg-white dark:bg-neutral-900
                             border-neutral-200 dark:border-neutral-700
                             text-neutral-900 dark:text-neutral-100
                             divide-y divide-neutral-200 dark:divide-neutral-800`})]})]}),b.jsx("div",{className:"relative h-[250px] desk:h-[360px] border-y border-neutral-200 dark:border-neutral-800",children:b.jsx("div",{id:"map",className:"h-full w-full"})}),b.jsxs("div",{className:"gap-2 p-3",children:[b.jsxs("div",{id:"footerHint",className:"pr-2 text-xs text-neutral-600 dark:text-neutral-300 flex-1",children:[b.jsxs("p",{className:"flex mb-1",children:[b.jsx("span",{className:"mr-1",children:"*"}),b.jsx("span",{children:"지도에서 검색하여, 목록에서 선택하세요."})]}),b.jsxs("p",{className:"flex",children:[b.jsx("span",{className:"mr-1",children:"*"}),b.jsx("span",{children:"해외를 검색할 경우 지도가 안 뜰 수 있으나, 선택만 눌러주시면 됩니다."})]})]}),b.jsx("button",{id:"closeMap",style:{display:"none"},"aria-hidden":"true",tabIndex:-1})]})]})})]})}var Gc=z_();const PE=tl(Gc);function zn(t){return`Minified Redux error #${t}; visit https://redux.js.org/Errors?code=${t} for the full message or use the non-minified dev environment for full errors. `}var zE=typeof Symbol=="function"&&Symbol.observable||"@@observable",gv=zE,bv=()=>Math.random().toString(36).substring(7).split("").join("."),HE={INIT:`@@redux/INIT${bv()}`,REPLACE:`@@redux/REPLACE${bv()}`},yv=HE;function $E(t){if(typeof t!="object"||t===null)return!1;let r=t;for(;Object.getPrototypeOf(r)!==null;)r=Object.getPrototypeOf(r);return Object.getPrototypeOf(t)===r||Object.getPrototypeOf(t)===null}function a1(t,r,a){if(typeof t!="function")throw new Error(zn(2));if(typeof r=="function"&&typeof a=="function"||typeof a=="function"&&typeof arguments[3]=="function")throw new Error(zn(0));if(typeof r=="function"&&typeof a>"u"&&(a=r,r=void 0),typeof a<"u"){if(typeof a!="function")throw new Error(zn(1));return a(a1)(t,r)}let s=t,u=r,d=new Map,f=d,p=0,g=!1;function y(){f===d&&(f=new Map,d.forEach((A,z)=>{f.set(z,A)}))}function _(){if(g)throw new Error(zn(3));return u}function w(A){if(typeof A!="function")throw new Error(zn(4));if(g)throw new Error(zn(5));let z=!0;y();const H=p++;return f.set(H,A),function(){if(z){if(g)throw new Error(zn(6));z=!1,y(),f.delete(H),d=null}}}function S(A){if(!$E(A))throw new Error(zn(7));if(typeof A.type>"u")throw new Error(zn(8));if(typeof A.type!="string")throw new Error(zn(17));if(g)throw new Error(zn(9));try{g=!0,u=s(u,A)}finally{g=!1}return(d=f).forEach(H=>{H()}),A}function T(A){if(typeof A!="function")throw new Error(zn(10));s=A,S({type:yv.REPLACE})}function M(){const A=w;return{subscribe(z){if(typeof z!="object"||z===null)throw new Error(zn(11));function H(){const B=z;B.next&&B.next(_())}return H(),{unsubscribe:A(H)}},[gv](){return this}}}return S({type:yv.INIT}),{dispatch:S,subscribe:w,getState:_,replaceReducer:T,[gv]:M}}function vv(t,r){return function(...a){return r(t.apply(this,a))}}function xv(t,r){if(typeof t=="function")return vv(t,r);if(typeof t!="object"||t===null)throw new Error(zn(16));const a={};for(const s in t){const u=t[s];typeof u=="function"&&(a[s]=vv(u,r))}return a}function o1(...t){return t.length===0?r=>r:t.length===1?t[0]:t.reduce((r,a)=>(...s)=>r(a(...s)))}function IE(...t){return r=>(a,s)=>{const u=r(a,s);let d=()=>{throw new Error(zn(15))};const f={getState:u.getState,dispatch:(g,...y)=>d(g,...y)},p=t.map(g=>g(f));return d=o1(...p)(u.dispatch),{...u,dispatch:d}}}var s0={exports:{}},l0={};/**
 * @license React
 * use-sync-external-store-with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var _v;function UE(){if(_v)return l0;_v=1;var t=$f();function r(g,y){return g===y&&(g!==0||1/g===1/y)||g!==g&&y!==y}var a=typeof Object.is=="function"?Object.is:r,s=t.useSyncExternalStore,u=t.useRef,d=t.useEffect,f=t.useMemo,p=t.useDebugValue;return l0.useSyncExternalStoreWithSelector=function(g,y,_,w,S){var T=u(null);if(T.current===null){var M={hasValue:!1,value:null};T.current=M}else M=T.current;T=f(function(){function A(C){if(!z){if(z=!0,H=C,C=w(C),S!==void 0&&M.hasValue){var q=M.value;if(S(q,C))return k=q}return k=C}if(q=k,a(H,C))return q;var et=w(C);return S!==void 0&&S(q,et)?(H=C,q):(H=C,k=et)}var z=!1,H,k,B=_===void 0?null:_;return[function(){return A(y())},B===null?void 0:function(){return A(B())}]},[y,_,w,S]);var D=s(g,T[0],T[1]);return d(function(){M.hasValue=!0,M.value=D},[D]),p(D),D},l0}var Sv;function GE(){return Sv||(Sv=1,s0.exports=UE()),s0.exports}GE();var ZE=O.version.startsWith("19"),YE=Symbol.for(ZE?"react.transitional.element":"react.element"),qE=Symbol.for("react.portal"),FE=Symbol.for("react.fragment"),VE=Symbol.for("react.strict_mode"),KE=Symbol.for("react.profiler"),XE=Symbol.for("react.consumer"),WE=Symbol.for("react.context"),s1=Symbol.for("react.forward_ref"),QE=Symbol.for("react.suspense"),JE=Symbol.for("react.suspense_list"),Ep=Symbol.for("react.memo"),tM=Symbol.for("react.lazy"),eM=s1,nM=Ep;function rM(t){if(typeof t=="object"&&t!==null){const{$$typeof:r}=t;switch(r){case YE:switch(t=t.type,t){case FE:case KE:case VE:case QE:case JE:return t;default:switch(t=t&&t.$$typeof,t){case WE:case s1:case tM:case Ep:return t;case XE:return t;default:return r}}case qE:return r}}}function iM(t){return rM(t)===Ep}function aM(t,r,a,s,{areStatesEqual:u,areOwnPropsEqual:d,areStatePropsEqual:f}){let p=!1,g,y,_,w,S;function T(H,k){return g=H,y=k,_=t(g,y),w=r(s,y),S=a(_,w,y),p=!0,S}function M(){return _=t(g,y),r.dependsOnOwnProps&&(w=r(s,y)),S=a(_,w,y),S}function D(){return t.dependsOnOwnProps&&(_=t(g,y)),r.dependsOnOwnProps&&(w=r(s,y)),S=a(_,w,y),S}function A(){const H=t(g,y),k=!f(H,_);return _=H,k&&(S=a(_,w,y)),S}function z(H,k){const B=!d(k,y),C=!u(H,g,k,y);return g=H,y=k,B&&C?M():B?D():C?A():S}return function(k,B){return p?z(k,B):T(k,B)}}function oM(t,{initMapStateToProps:r,initMapDispatchToProps:a,initMergeProps:s,...u}){const d=r(t,u),f=a(t,u),p=s(t,u);return aM(d,f,p,t,u)}function sM(t,r){const a={};for(const s in t){const u=t[s];typeof u=="function"&&(a[s]=(...d)=>r(u(...d)))}return a}function ip(t){return function(a){const s=t(a);function u(){return s}return u.dependsOnOwnProps=!1,u}}function wv(t){return t.dependsOnOwnProps?!!t.dependsOnOwnProps:t.length!==1}function l1(t,r){return function(s,{displayName:u}){const d=function(p,g){return d.dependsOnOwnProps?d.mapToProps(p,g):d.mapToProps(p,void 0)};return d.dependsOnOwnProps=!0,d.mapToProps=function(p,g){d.mapToProps=t,d.dependsOnOwnProps=wv(t);let y=d(p,g);return typeof y=="function"&&(d.mapToProps=y,d.dependsOnOwnProps=wv(y),y=d(p,g)),y},d}}function Mp(t,r){return(a,s)=>{throw new Error(`Invalid value of type ${typeof t} for ${r} argument when connecting component ${s.wrappedComponentName}.`)}}function lM(t){return t&&typeof t=="object"?ip(r=>sM(t,r)):t?typeof t=="function"?l1(t):Mp(t,"mapDispatchToProps"):ip(r=>({dispatch:r}))}function cM(t){return t?typeof t=="function"?l1(t):Mp(t,"mapStateToProps"):ip(()=>({}))}function uM(t,r,a){return{...a,...t,...r}}function dM(t){return function(a,{displayName:s,areMergedPropsEqual:u}){let d=!1,f;return function(g,y,_){const w=t(g,y,_);return d?u(w,f)||(f=w):(d=!0,f=w),f}}}function fM(t){return t?typeof t=="function"?dM(t):Mp(t,"mergeProps"):()=>uM}function hM(t){t()}function mM(){let t=null,r=null;return{clear(){t=null,r=null},notify(){hM(()=>{let a=t;for(;a;)a.callback(),a=a.next})},get(){const a=[];let s=t;for(;s;)a.push(s),s=s.next;return a},subscribe(a){let s=!0;const u=r={callback:a,next:null,prev:r};return u.prev?u.prev.next=u:t=u,function(){!s||t===null||(s=!1,u.next?u.next.prev=u.prev:r=u.prev,u.prev?u.prev.next=u.next:t=u.next)}}}}var Tv={notify(){},get:()=>[]};function c1(t,r){let a,s=Tv,u=0,d=!1;function f(D){_();const A=s.subscribe(D);let z=!1;return()=>{z||(z=!0,A(),w())}}function p(){s.notify()}function g(){M.onStateChange&&M.onStateChange()}function y(){return d}function _(){u++,a||(a=r?r.addNestedSub(g):t.subscribe(g),s=mM())}function w(){u--,a&&u===0&&(a(),a=void 0,s.clear(),s=Tv)}function S(){d||(d=!0,_())}function T(){d&&(d=!1,w())}const M={addNestedSub:f,notifyNestedSubs:p,handleChangeWrapper:g,isSubscribed:y,trySubscribe:S,tryUnsubscribe:T,getListeners:()=>s};return M}var pM=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",gM=pM(),bM=()=>typeof navigator<"u"&&navigator.product==="ReactNative",yM=bM(),vM=()=>gM||yM?O.useLayoutEffect:O.useEffect,uf=vM();function Ev(t,r){return t===r?t!==0||r!==0||1/t===1/r:t!==t&&r!==r}function c0(t,r){if(Ev(t,r))return!0;if(typeof t!="object"||t===null||typeof r!="object"||r===null)return!1;const a=Object.keys(t),s=Object.keys(r);if(a.length!==s.length)return!1;for(let u=0;u<a.length;u++)if(!Object.prototype.hasOwnProperty.call(r,a[u])||!Ev(t[a[u]],r[a[u]]))return!1;return!0}var xM={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},_M={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},SM={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},u1={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},wM={[eM]:SM,[nM]:u1};function Mv(t){return iM(t)?u1:wM[t.$$typeof]||xM}var TM=Object.defineProperty,EM=Object.getOwnPropertyNames,Nv=Object.getOwnPropertySymbols,MM=Object.getOwnPropertyDescriptor,NM=Object.getPrototypeOf,Av=Object.prototype;function ap(t,r){if(typeof r!="string"){if(Av){const d=NM(r);d&&d!==Av&&ap(t,d)}let a=EM(r);Nv&&(a=a.concat(Nv(r)));const s=Mv(t),u=Mv(r);for(let d=0;d<a.length;++d){const f=a[d];if(!_M[f]&&!(u&&u[f])&&!(s&&s[f])){const p=MM(r,f);try{TM(t,f,p)}catch{}}}}return t}var AM=Symbol.for("react-redux-context"),DM=typeof globalThis<"u"?globalThis:{};function jM(){if(!O.createContext)return{};const t=DM[AM]??=new Map;let r=t.get(O.createContext);return r||(r=O.createContext(null),t.set(O.createContext,r)),r}var d1=jM(),kM=[null,null];function OM(t,r,a){uf(()=>t(...r),a)}function CM(t,r,a,s,u,d){t.current=s,a.current=!1,u.current&&(u.current=null,d())}function LM(t,r,a,s,u,d,f,p,g,y,_){if(!t)return()=>{};let w=!1,S=null;const T=()=>{if(w||!p.current)return;const D=r.getState();let A,z;try{A=s(D,u.current)}catch(H){z=H,S=H}z||(S=null),A===d.current?f.current||y():(d.current=A,g.current=A,f.current=!0,_())};return a.onStateChange=T,a.trySubscribe(),T(),()=>{if(w=!0,a.tryUnsubscribe(),a.onStateChange=null,S)throw S}}function BM(t,r){return t===r}function RM(t,r,a,{pure:s,areStatesEqual:u=BM,areOwnPropsEqual:d=c0,areStatePropsEqual:f=c0,areMergedPropsEqual:p=c0,forwardRef:g=!1,context:y=d1}={}){const _=y,w=cM(t),S=lM(r),T=fM(a),M=!!t;return A=>{const z=A.displayName||A.name||"Component",H=`Connect(${z})`,k={shouldHandleStateChanges:M,displayName:H,wrappedComponentName:z,WrappedComponent:A,initMapStateToProps:w,initMapDispatchToProps:S,initMergeProps:T,areStatesEqual:u,areStatePropsEqual:f,areOwnPropsEqual:d,areMergedPropsEqual:p};function B(et){const[st,W,Q]=O.useMemo(()=>{const{reactReduxForwardedRef:Dt,...St}=et;return[et.context,Dt,St]},[et]),F=O.useMemo(()=>{let Dt=_;return st?.Consumer,Dt},[st,_]),G=O.useContext(F),tt=!!et.store&&!!et.store.getState&&!!et.store.dispatch,ht=!!G&&!!G.store,it=tt?et.store:G.store,Z=ht?G.getServerState:it.getState,rt=O.useMemo(()=>oM(it.dispatch,k),[it]),[ot,yt]=O.useMemo(()=>{if(!M)return kM;const Dt=c1(it,tt?void 0:G.subscription),St=Dt.notifyNestedSubs.bind(Dt);return[Dt,St]},[it,tt,G]),j=O.useMemo(()=>tt?G:{...G,subscription:ot},[tt,G,ot]),$=O.useRef(void 0),Y=O.useRef(Q),J=O.useRef(void 0),V=O.useRef(!1),I=O.useRef(!1),U=O.useRef(void 0);uf(()=>(I.current=!0,()=>{I.current=!1}),[]);const dt=O.useMemo(()=>()=>J.current&&Q===Y.current?J.current:rt(it.getState(),Q),[it,Q]),gt=O.useMemo(()=>St=>ot?LM(M,it,ot,rt,Y,$,V,I,J,yt,St):()=>{},[ot]);OM(CM,[Y,$,V,Q,J,yt]);let Mt;try{Mt=O.useSyncExternalStore(gt,dt,Z?()=>rt(Z(),Q):dt)}catch(Dt){throw U.current&&(Dt.message+=`
The error may be correlated with this previous error:
${U.current.stack}

`),Dt}uf(()=>{U.current=void 0,J.current=void 0,$.current=Mt});const Nt=O.useMemo(()=>O.createElement(A,{...Mt,ref:W}),[W,A,Mt]);return O.useMemo(()=>M?O.createElement(F.Provider,{value:j},Nt):Nt,[F,Nt,j])}const q=O.memo(B);if(q.WrappedComponent=A,q.displayName=B.displayName=H,g){const st=O.forwardRef(function(Q,F){return O.createElement(q,{...Q,reactReduxForwardedRef:F})});return st.displayName=H,st.WrappedComponent=A,ap(st,A)}return ap(q,A)}}var f1=RM;function PM(t){const{children:r,context:a,serverState:s,store:u}=t,d=O.useMemo(()=>{const g=c1(u);return{store:u,subscription:g,getServerState:s?()=>s:void 0}},[u,s]),f=O.useMemo(()=>u.getState(),[u]);uf(()=>{const{subscription:g}=d;return g.onStateChange=g.notifyNestedSubs,g.trySubscribe(),f!==u.getState()&&g.notifyNestedSubs(),()=>{g.tryUnsubscribe(),g.onStateChange=void 0}},[d,f]);const p=a||d1;return O.createElement(p.Provider,{value:d},r)}var zM=PM,HM="Invariant failed";function $M(t,r){throw new Error(HM)}var ni=function(r){var a=r.top,s=r.right,u=r.bottom,d=r.left,f=s-d,p=u-a,g={top:a,right:s,bottom:u,left:d,width:f,height:p,x:d,y:a,center:{x:(s+d)/2,y:(u+a)/2}};return g},Np=function(r,a){return{top:r.top-a.top,left:r.left-a.left,bottom:r.bottom+a.bottom,right:r.right+a.right}},Dv=function(r,a){return{top:r.top+a.top,left:r.left+a.left,bottom:r.bottom-a.bottom,right:r.right-a.right}},IM=function(r,a){return{top:r.top+a.y,left:r.left+a.x,bottom:r.bottom+a.y,right:r.right+a.x}},u0={top:0,right:0,bottom:0,left:0},Ap=function(r){var a=r.borderBox,s=r.margin,u=s===void 0?u0:s,d=r.border,f=d===void 0?u0:d,p=r.padding,g=p===void 0?u0:p,y=ni(Np(a,u)),_=ni(Dv(a,f)),w=ni(Dv(_,g));return{marginBox:y,borderBox:ni(a),paddingBox:_,contentBox:w,margin:u,border:f,padding:g}},Lr=function(r){var a=r.slice(0,-2),s=r.slice(-2);if(s!=="px")return 0;var u=Number(a);return isNaN(u)&&$M(),u},UM=function(){return{x:window.pageXOffset,y:window.pageYOffset}},df=function(r,a){var s=r.borderBox,u=r.border,d=r.margin,f=r.padding,p=IM(s,a);return Ap({borderBox:p,border:u,margin:d,padding:f})},ff=function(r,a){return a===void 0&&(a=UM()),df(r,a)},h1=function(r,a){var s={top:Lr(a.marginTop),right:Lr(a.marginRight),bottom:Lr(a.marginBottom),left:Lr(a.marginLeft)},u={top:Lr(a.paddingTop),right:Lr(a.paddingRight),bottom:Lr(a.paddingBottom),left:Lr(a.paddingLeft)},d={top:Lr(a.borderTopWidth),right:Lr(a.borderRightWidth),bottom:Lr(a.borderBottomWidth),left:Lr(a.borderLeftWidth)};return Ap({borderBox:r,margin:s,padding:u,border:d})},m1=function(r){var a=r.getBoundingClientRect(),s=window.getComputedStyle(r);return h1(a,s)},jc=function(r){var a=[],s=null,u=function(){for(var f=arguments.length,p=new Array(f),g=0;g<f;g++)p[g]=arguments[g];a=p,!s&&(s=requestAnimationFrame(function(){s=null,r.apply(void 0,a)}))};return u.cancel=function(){s&&(cancelAnimationFrame(s),s=null)},u};function hf(){return hf=Object.assign?Object.assign.bind():function(t){for(var r=1;r<arguments.length;r++){var a=arguments[r];for(var s in a)({}).hasOwnProperty.call(a,s)&&(t[s]=a[s])}return t},hf.apply(null,arguments)}function p1(t,r){}p1.bind(null,"warn");p1.bind(null,"error");function Xa(){}function GM(t,r){return{...t,...r}}function Pr(t,r,a){const s=r.map(u=>{const d=GM(a,u.options);return t.addEventListener(u.eventName,u.fn,d),function(){t.removeEventListener(u.eventName,u.fn,d)}});return function(){s.forEach(d=>{d()})}}const ZM="Invariant failed";class mf extends Error{}mf.prototype.toString=function(){return this.message};function At(t,r){throw new mf(ZM)}class YM extends Le.Component{constructor(...r){super(...r),this.callbacks=null,this.unbind=Xa,this.onWindowError=a=>{const s=this.getCallbacks();s.isDragging()&&s.tryAbort(),a.error instanceof mf&&a.preventDefault()},this.getCallbacks=()=>{if(!this.callbacks)throw new Error("Unable to find AppCallbacks in <ErrorBoundary/>");return this.callbacks},this.setCallbacks=a=>{this.callbacks=a}}componentDidMount(){this.unbind=Pr(window,[{eventName:"error",fn:this.onWindowError}])}componentDidCatch(r){if(r instanceof mf){this.setState({});return}throw r}componentWillUnmount(){this.unbind()}render(){return this.props.children(this.setCallbacks)}}const qM=`
  Press space bar to start a drag.
  When dragging you can use the arrow keys to move the item around and escape to cancel.
  Some screen readers may require you to be in focus mode or to use your pass through key
`,pf=t=>t+1,FM=t=>`
  You have lifted an item in position ${pf(t.source.index)}
`,g1=(t,r)=>{const a=t.droppableId===r.droppableId,s=pf(t.index),u=pf(r.index);return a?`
      You have moved the item from position ${s}
      to position ${u}
    `:`
    You have moved the item from position ${s}
    in list ${t.droppableId}
    to list ${r.droppableId}
    in position ${u}
  `},b1=(t,r,a)=>r.droppableId===a.droppableId?`
      The item ${t}
      has been combined with ${a.draggableId}`:`
      The item ${t}
      in list ${r.droppableId}
      has been combined with ${a.draggableId}
      in list ${a.droppableId}
    `,VM=t=>{const r=t.destination;if(r)return g1(t.source,r);const a=t.combine;return a?b1(t.draggableId,t.source,a):"You are over an area that cannot be dropped on"},jv=t=>`
  The item has returned to its starting position
  of ${pf(t.index)}
`,KM=t=>{if(t.reason==="CANCEL")return`
      Movement cancelled.
      ${jv(t.source)}
    `;const r=t.destination,a=t.combine;return r?`
      You have dropped the item.
      ${g1(t.source,r)}
    `:a?`
      You have dropped the item.
      ${b1(t.draggableId,t.source,a)}
    `:`
    The item has been dropped while not over a drop area.
    ${jv(t.source)}
  `},of={dragHandleUsageInstructions:qM,onDragStart:FM,onDragUpdate:VM,onDragEnd:KM};function XM(t,r){return!!(t===r||Number.isNaN(t)&&Number.isNaN(r))}function y1(t,r){if(t.length!==r.length)return!1;for(let a=0;a<t.length;a++)if(!XM(t[a],r[a]))return!1;return!0}function ce(t,r){const a=O.useState(()=>({inputs:r,result:t()}))[0],s=O.useRef(!0),u=O.useRef(a),f=s.current||!!(r&&u.current.inputs&&y1(r,u.current.inputs))?u.current:{inputs:r,result:t()};return O.useEffect(()=>{s.current=!1,u.current=f},[f]),f.result}function $t(t,r){return ce(()=>t,r)}const mn={x:0,y:0},wn=(t,r)=>({x:t.x+r.x,y:t.y+r.y}),br=(t,r)=>({x:t.x-r.x,y:t.y-r.y}),Wa=(t,r)=>t.x===r.x&&t.y===r.y,el=t=>({x:t.x!==0?-t.x:0,y:t.y!==0?-t.y:0}),Uo=(t,r,a=0)=>t==="x"?{x:r,y:a}:{x:a,y:r},kc=(t,r)=>Math.sqrt((r.x-t.x)**2+(r.y-t.y)**2),kv=(t,r)=>Math.min(...r.map(a=>kc(t,a))),v1=t=>r=>({x:t(r.x),y:t(r.y)});var WM=(t,r)=>{const a=ni({top:Math.max(r.top,t.top),right:Math.min(r.right,t.right),bottom:Math.min(r.bottom,t.bottom),left:Math.max(r.left,t.left)});return a.width<=0||a.height<=0?null:a};const Zc=(t,r)=>({top:t.top+r.y,left:t.left+r.x,bottom:t.bottom+r.y,right:t.right+r.x}),Ov=t=>[{x:t.left,y:t.top},{x:t.right,y:t.top},{x:t.left,y:t.bottom},{x:t.right,y:t.bottom}],QM={top:0,right:0,bottom:0,left:0},JM=(t,r)=>r?Zc(t,r.scroll.diff.displacement):t,t3=(t,r,a)=>a&&a.increasedBy?{...t,[r.end]:t[r.end]+a.increasedBy[r.line]}:t,e3=(t,r)=>r&&r.shouldClipSubject?WM(r.pageMarginBox,t):ni(t);var Fs=({page:t,withPlaceholder:r,axis:a,frame:s})=>{const u=JM(t.marginBox,s),d=t3(u,a,r),f=e3(d,s);return{page:t,withPlaceholder:r,active:f}},Dp=(t,r)=>{t.frame||At();const a=t.frame,s=br(r,a.scroll.initial),u=el(s),d={...a,scroll:{initial:a.scroll.initial,current:r,diff:{value:s,displacement:u},max:a.scroll.max}},f=Fs({page:t.subject.page,withPlaceholder:t.subject.withPlaceholder,axis:t.axis,frame:d});return{...t,frame:d,subject:f}};function hn(t,r=y1){let a=null;function s(...u){if(a&&a.lastThis===this&&r(u,a.lastArgs))return a.lastResult;const d=t.apply(this,u);return a={lastResult:d,lastArgs:u,lastThis:this},d}return s.clear=function(){a=null},s}const x1=hn(t=>t.reduce((r,a)=>(r[a.descriptor.id]=a,r),{})),_1=hn(t=>t.reduce((r,a)=>(r[a.descriptor.id]=a,r),{})),Yf=hn(t=>Object.values(t)),n3=hn(t=>Object.values(t));var nl=hn((t,r)=>n3(r).filter(s=>t===s.descriptor.droppableId).sort((s,u)=>s.descriptor.index-u.descriptor.index));function jp(t){return t.at&&t.at.type==="REORDER"?t.at.destination:null}function qf(t){return t.at&&t.at.type==="COMBINE"?t.at.combine:null}var Ff=hn((t,r)=>r.filter(a=>a.descriptor.id!==t.descriptor.id)),r3=({isMovingForward:t,draggable:r,destination:a,insideDestination:s,previousImpact:u})=>{if(!a.isCombineEnabled||!jp(u))return null;function f(T){const M={type:"COMBINE",combine:{draggableId:T,droppableId:a.descriptor.id}};return{...u,at:M}}const p=u.displaced.all,g=p.length?p[0]:null;if(t)return g?f(g):null;const y=Ff(r,s);if(!g){if(!y.length)return null;const T=y[y.length-1];return f(T.descriptor.id)}const _=y.findIndex(T=>T.descriptor.id===g);_===-1&&At();const w=_-1;if(w<0)return null;const S=y[w];return f(S.descriptor.id)},rl=(t,r)=>t.descriptor.droppableId===r.descriptor.id;const S1={point:mn,value:0},Oc={invisible:{},visible:{},all:[]},i3={displaced:Oc,displacedBy:S1,at:null};var $r=(t,r)=>a=>t<=a&&a<=r,w1=t=>{const r=$r(t.top,t.bottom),a=$r(t.left,t.right);return s=>{if(r(s.top)&&r(s.bottom)&&a(s.left)&&a(s.right))return!0;const d=r(s.top)||r(s.bottom),f=a(s.left)||a(s.right);if(d&&f)return!0;const g=s.top<t.top&&s.bottom>t.bottom,y=s.left<t.left&&s.right>t.right;return g&&y?!0:g&&f||y&&d}},a3=t=>{const r=$r(t.top,t.bottom),a=$r(t.left,t.right);return s=>r(s.top)&&r(s.bottom)&&a(s.left)&&a(s.right)};const kp={direction:"vertical",line:"y",crossAxisLine:"x",start:"top",end:"bottom",size:"height",crossAxisStart:"left",crossAxisEnd:"right",crossAxisSize:"width"},T1={direction:"horizontal",line:"x",crossAxisLine:"y",start:"left",end:"right",size:"width",crossAxisStart:"top",crossAxisEnd:"bottom",crossAxisSize:"height"};var o3=t=>r=>{const a=$r(r.top,r.bottom),s=$r(r.left,r.right);return u=>t===kp?a(u.top)&&a(u.bottom):s(u.left)&&s(u.right)};const s3=(t,r)=>{const a=r.frame?r.frame.scroll.diff.displacement:mn;return Zc(t,a)},l3=(t,r,a)=>r.subject.active?a(r.subject.active)(t):!1,c3=(t,r,a)=>a(r)(t),Op=({target:t,destination:r,viewport:a,withDroppableDisplacement:s,isVisibleThroughFrameFn:u})=>{const d=s?s3(t,r):t;return l3(d,r,u)&&c3(d,a,u)},u3=t=>Op({...t,isVisibleThroughFrameFn:w1}),E1=t=>Op({...t,isVisibleThroughFrameFn:a3}),d3=t=>Op({...t,isVisibleThroughFrameFn:o3(t.destination.axis)}),f3=(t,r,a)=>{if(typeof a=="boolean")return a;if(!r)return!0;const{invisible:s,visible:u}=r;if(s[t])return!1;const d=u[t];return d?d.shouldAnimate:!0};function h3(t,r){const a=t.page.marginBox,s={top:r.point.y,right:0,bottom:0,left:r.point.x};return ni(Np(a,s))}function Cc({afterDragging:t,destination:r,displacedBy:a,viewport:s,forceShouldAnimate:u,last:d}){return t.reduce(function(p,g){const y=h3(g,a),_=g.descriptor.id;if(p.all.push(_),!u3({target:y,destination:r,viewport:s,withDroppableDisplacement:!0}))return p.invisible[g.descriptor.id]=!0,p;const S=f3(_,d,u),T={draggableId:_,shouldAnimate:S};return p.visible[_]=T,p},{all:[],visible:{},invisible:{}})}function m3(t,r){if(!t.length)return 0;const a=t[t.length-1].descriptor.index;return r.inHomeList?a:a+1}function Cv({insideDestination:t,inHomeList:r,displacedBy:a,destination:s}){const u=m3(t,{inHomeList:r});return{displaced:Oc,displacedBy:a,at:{type:"REORDER",destination:{droppableId:s.descriptor.id,index:u}}}}function gf({draggable:t,insideDestination:r,destination:a,viewport:s,displacedBy:u,last:d,index:f,forceShouldAnimate:p}){const g=rl(t,a);if(f==null)return Cv({insideDestination:r,inHomeList:g,displacedBy:u,destination:a});const y=r.find(M=>M.descriptor.index===f);if(!y)return Cv({insideDestination:r,inHomeList:g,displacedBy:u,destination:a});const _=Ff(t,r),w=r.indexOf(y),S=_.slice(w);return{displaced:Cc({afterDragging:S,destination:a,displacedBy:u,last:d,viewport:s.frame,forceShouldAnimate:p}),displacedBy:u,at:{type:"REORDER",destination:{droppableId:a.descriptor.id,index:f}}}}function Qa(t,r){return!!r.effected[t]}var p3=({isMovingForward:t,destination:r,draggables:a,combine:s,afterCritical:u})=>{if(!r.isCombineEnabled)return null;const d=s.draggableId,p=a[d].descriptor.index;return Qa(d,u)?t?p:p-1:t?p+1:p},g3=({isMovingForward:t,isInHomeList:r,insideDestination:a,location:s})=>{if(!a.length)return null;const u=s.index,d=t?u+1:u-1,f=a[0].descriptor.index,p=a[a.length-1].descriptor.index,g=r?p:p+1;return d<f||d>g?null:d},b3=({isMovingForward:t,isInHomeList:r,draggable:a,draggables:s,destination:u,insideDestination:d,previousImpact:f,viewport:p,afterCritical:g})=>{const y=f.at;if(y||At(),y.type==="REORDER"){const w=g3({isMovingForward:t,isInHomeList:r,location:y.destination,insideDestination:d});return w==null?null:gf({draggable:a,insideDestination:d,destination:u,viewport:p,last:f.displaced,displacedBy:f.displacedBy,index:w})}const _=p3({isMovingForward:t,destination:u,displaced:f.displaced,draggables:s,combine:y.combine,afterCritical:g});return _==null?null:gf({draggable:a,insideDestination:d,destination:u,viewport:p,last:f.displaced,displacedBy:f.displacedBy,index:_})},y3=({displaced:t,afterCritical:r,combineWith:a,displacedBy:s})=>{const u=!!(t.visible[a]||t.invisible[a]);return Qa(a,r)?u?mn:el(s.point):u?s.point:mn},v3=({afterCritical:t,impact:r,draggables:a})=>{const s=qf(r);s||At();const u=s.draggableId,d=a[u].page.borderBox.center,f=y3({displaced:r.displaced,afterCritical:t,combineWith:u,displacedBy:r.displacedBy});return wn(d,f)};const M1=(t,r)=>r.margin[t.start]+r.borderBox[t.size]/2,x3=(t,r)=>r.margin[t.end]+r.borderBox[t.size]/2,Cp=(t,r,a)=>r[t.crossAxisStart]+a.margin[t.crossAxisStart]+a.borderBox[t.crossAxisSize]/2,Lv=({axis:t,moveRelativeTo:r,isMoving:a})=>Uo(t.line,r.marginBox[t.end]+M1(t,a),Cp(t,r.marginBox,a)),Bv=({axis:t,moveRelativeTo:r,isMoving:a})=>Uo(t.line,r.marginBox[t.start]-x3(t,a),Cp(t,r.marginBox,a)),_3=({axis:t,moveInto:r,isMoving:a})=>Uo(t.line,r.contentBox[t.start]+M1(t,a),Cp(t,r.contentBox,a));var S3=({impact:t,draggable:r,draggables:a,droppable:s,afterCritical:u})=>{const d=nl(s.descriptor.id,a),f=r.page,p=s.axis;if(!d.length)return _3({axis:p,moveInto:s.page,isMoving:f});const{displaced:g,displacedBy:y}=t,_=g.all[0];if(_){const S=a[_];if(Qa(_,u))return Bv({axis:p,moveRelativeTo:S.page,isMoving:f});const T=df(S.page,y.point);return Bv({axis:p,moveRelativeTo:T,isMoving:f})}const w=d[d.length-1];if(w.descriptor.id===r.descriptor.id)return f.borderBox.center;if(Qa(w.descriptor.id,u)){const S=df(w.page,el(u.displacedBy.point));return Lv({axis:p,moveRelativeTo:S,isMoving:f})}return Lv({axis:p,moveRelativeTo:w.page,isMoving:f})},op=(t,r)=>{const a=t.frame;return a?wn(r,a.scroll.diff.displacement):r};const w3=({impact:t,draggable:r,droppable:a,draggables:s,afterCritical:u})=>{const d=r.page.borderBox.center,f=t.at;return!a||!f?d:f.type==="REORDER"?S3({impact:t,draggable:r,draggables:s,droppable:a,afterCritical:u}):v3({impact:t,draggables:s,afterCritical:u})};var Vf=t=>{const r=w3(t),a=t.droppable;return a?op(a,r):r},N1=(t,r)=>{const a=br(r,t.scroll.initial),s=el(a);return{frame:ni({top:r.y,bottom:r.y+t.frame.height,left:r.x,right:r.x+t.frame.width}),scroll:{initial:t.scroll.initial,max:t.scroll.max,current:r,diff:{value:a,displacement:s}}}};function Rv(t,r){return t.map(a=>r[a])}function T3(t,r){for(let a=0;a<r.length;a++){const s=r[a].visible[t];if(s)return s}return null}var E3=({impact:t,viewport:r,destination:a,draggables:s,maxScrollChange:u})=>{const d=N1(r,wn(r.scroll.current,u)),f=a.frame?Dp(a,wn(a.frame.scroll.current,u)):a,p=t.displaced,g=Cc({afterDragging:Rv(p.all,s),destination:a,displacedBy:t.displacedBy,viewport:d.frame,last:p,forceShouldAnimate:!1}),y=Cc({afterDragging:Rv(p.all,s),destination:f,displacedBy:t.displacedBy,viewport:r.frame,last:p,forceShouldAnimate:!1}),_={},w={},S=[p,g,y];return p.all.forEach(M=>{const D=T3(M,S);if(D){w[M]=D;return}_[M]=!0}),{...t,displaced:{all:p.all,invisible:_,visible:w}}},M3=(t,r)=>wn(t.scroll.diff.displacement,r),Lp=({pageBorderBoxCenter:t,draggable:r,viewport:a})=>{const s=M3(a,t),u=br(s,r.page.borderBox.center);return wn(r.client.borderBox.center,u)},A1=({draggable:t,destination:r,newPageBorderBoxCenter:a,viewport:s,withDroppableDisplacement:u,onlyOnMainAxis:d=!1})=>{const f=br(a,t.page.borderBox.center),g={target:Zc(t.page.borderBox,f),destination:r,withDroppableDisplacement:u,viewport:s};return d?d3(g):E1(g)},N3=({isMovingForward:t,draggable:r,destination:a,draggables:s,previousImpact:u,viewport:d,previousPageBorderBoxCenter:f,previousClientSelection:p,afterCritical:g})=>{if(!a.isEnabled)return null;const y=nl(a.descriptor.id,s),_=rl(r,a),w=r3({isMovingForward:t,draggable:r,destination:a,insideDestination:y,previousImpact:u})||b3({isMovingForward:t,isInHomeList:_,draggable:r,draggables:s,destination:a,insideDestination:y,previousImpact:u,viewport:d,afterCritical:g});if(!w)return null;const S=Vf({impact:w,draggable:r,droppable:a,draggables:s,afterCritical:g});if(A1({draggable:r,destination:a,newPageBorderBoxCenter:S,viewport:d.frame,withDroppableDisplacement:!1,onlyOnMainAxis:!0}))return{clientSelection:Lp({pageBorderBoxCenter:S,draggable:r,viewport:d}),impact:w,scrollJumpRequest:null};const M=br(S,f),D=E3({impact:w,viewport:d,destination:a,draggables:s,maxScrollChange:M});return{clientSelection:p,impact:D,scrollJumpRequest:M}};const Pn=t=>{const r=t.subject.active;return r||At(),r};var A3=({isMovingForward:t,pageBorderBoxCenter:r,source:a,droppables:s,viewport:u})=>{const d=a.subject.active;if(!d)return null;const f=a.axis,p=$r(d[f.start],d[f.end]),g=Yf(s).filter(_=>_!==a).filter(_=>_.isEnabled).filter(_=>!!_.subject.active).filter(_=>w1(u.frame)(Pn(_))).filter(_=>{const w=Pn(_);return t?d[f.crossAxisEnd]<w[f.crossAxisEnd]:w[f.crossAxisStart]<d[f.crossAxisStart]}).filter(_=>{const w=Pn(_),S=$r(w[f.start],w[f.end]);return p(w[f.start])||p(w[f.end])||S(d[f.start])||S(d[f.end])}).sort((_,w)=>{const S=Pn(_)[f.crossAxisStart],T=Pn(w)[f.crossAxisStart];return t?S-T:T-S}).filter((_,w,S)=>Pn(_)[f.crossAxisStart]===Pn(S[0])[f.crossAxisStart]);if(!g.length)return null;if(g.length===1)return g[0];const y=g.filter(_=>$r(Pn(_)[f.start],Pn(_)[f.end])(r[f.line]));return y.length===1?y[0]:y.length>1?y.sort((_,w)=>Pn(_)[f.start]-Pn(w)[f.start])[0]:g.sort((_,w)=>{const S=kv(r,Ov(Pn(_))),T=kv(r,Ov(Pn(w)));return S!==T?S-T:Pn(_)[f.start]-Pn(w)[f.start]})[0]};const Pv=(t,r)=>{const a=t.page.borderBox.center;return Qa(t.descriptor.id,r)?br(a,r.displacedBy.point):a},D3=(t,r)=>{const a=t.page.borderBox;return Qa(t.descriptor.id,r)?Zc(a,el(r.displacedBy.point)):a};var j3=({pageBorderBoxCenter:t,viewport:r,destination:a,insideDestination:s,afterCritical:u})=>s.filter(f=>E1({target:D3(f,u),destination:a,viewport:r.frame,withDroppableDisplacement:!0})).sort((f,p)=>{const g=kc(t,op(a,Pv(f,u))),y=kc(t,op(a,Pv(p,u)));return g<y?-1:y<g?1:f.descriptor.index-p.descriptor.index})[0]||null,Yc=hn(function(r,a){const s=a[r.line];return{value:s,point:Uo(r.line,s)}});const k3=(t,r,a)=>{const s=t.axis;if(t.descriptor.mode==="virtual")return Uo(s.line,r[s.line]);const u=t.subject.page.contentBox[s.size],g=nl(t.descriptor.id,a).reduce((y,_)=>y+_.client.marginBox[s.size],0)+r[s.line]-u;return g<=0?null:Uo(s.line,g)},D1=(t,r)=>({...t,scroll:{...t.scroll,max:r}}),j1=(t,r,a)=>{const s=t.frame;rl(r,t)&&At(),t.subject.withPlaceholder&&At();const u=Yc(t.axis,r.displaceBy).point,d=k3(t,u,a),f={placeholderSize:u,increasedBy:d,oldFrameMaxScroll:t.frame?t.frame.scroll.max:null};if(!s){const _=Fs({page:t.subject.page,withPlaceholder:f,axis:t.axis,frame:t.frame});return{...t,subject:_}}const p=d?wn(s.scroll.max,d):s.scroll.max,g=D1(s,p),y=Fs({page:t.subject.page,withPlaceholder:f,axis:t.axis,frame:g});return{...t,subject:y,frame:g}},O3=t=>{const r=t.subject.withPlaceholder;r||At();const a=t.frame;if(!a){const f=Fs({page:t.subject.page,axis:t.axis,frame:null,withPlaceholder:null});return{...t,subject:f}}const s=r.oldFrameMaxScroll;s||At();const u=D1(a,s),d=Fs({page:t.subject.page,axis:t.axis,frame:u,withPlaceholder:null});return{...t,subject:d,frame:u}};var C3=({previousPageBorderBoxCenter:t,moveRelativeTo:r,insideDestination:a,draggable:s,draggables:u,destination:d,viewport:f,afterCritical:p})=>{if(!r){if(a.length)return null;const w={displaced:Oc,displacedBy:S1,at:{type:"REORDER",destination:{droppableId:d.descriptor.id,index:0}}},S=Vf({impact:w,draggable:s,droppable:d,draggables:u,afterCritical:p}),T=rl(s,d)?d:j1(d,s,u);return A1({draggable:s,destination:T,newPageBorderBoxCenter:S,viewport:f.frame,withDroppableDisplacement:!1,onlyOnMainAxis:!0})?w:null}const g=t[d.axis.line]<=r.page.borderBox.center[d.axis.line],y=(()=>{const w=r.descriptor.index;return r.descriptor.id===s.descriptor.id||g?w:w+1})(),_=Yc(d.axis,s.displaceBy);return gf({draggable:s,insideDestination:a,destination:d,viewport:f,displacedBy:_,last:Oc,index:y})},L3=({isMovingForward:t,previousPageBorderBoxCenter:r,draggable:a,isOver:s,draggables:u,droppables:d,viewport:f,afterCritical:p})=>{const g=A3({isMovingForward:t,pageBorderBoxCenter:r,source:s,droppables:d,viewport:f});if(!g)return null;const y=nl(g.descriptor.id,u),_=j3({pageBorderBoxCenter:r,viewport:f,destination:g,insideDestination:y,afterCritical:p}),w=C3({previousPageBorderBoxCenter:r,destination:g,draggable:a,draggables:u,moveRelativeTo:_,insideDestination:y,viewport:f,afterCritical:p});if(!w)return null;const S=Vf({impact:w,draggable:a,droppable:g,draggables:u,afterCritical:p});return{clientSelection:Lp({pageBorderBoxCenter:S,draggable:a,viewport:f}),impact:w,scrollJumpRequest:null}},yr=t=>{const r=t.at;return r?r.type==="REORDER"?r.destination.droppableId:r.combine.droppableId:null};const B3=(t,r)=>{const a=yr(t);return a?r[a]:null};var R3=({state:t,type:r})=>{const a=B3(t.impact,t.dimensions.droppables),s=!!a,u=t.dimensions.droppables[t.critical.droppable.id],d=a||u,f=d.axis.direction,p=f==="vertical"&&(r==="MOVE_UP"||r==="MOVE_DOWN")||f==="horizontal"&&(r==="MOVE_LEFT"||r==="MOVE_RIGHT");if(p&&!s)return null;const g=r==="MOVE_DOWN"||r==="MOVE_RIGHT",y=t.dimensions.draggables[t.critical.draggable.id],_=t.current.page.borderBoxCenter,{draggables:w,droppables:S}=t.dimensions;return p?N3({isMovingForward:g,previousPageBorderBoxCenter:_,draggable:y,destination:d,draggables:w,viewport:t.viewport,previousClientSelection:t.current.client.selection,previousImpact:t.impact,afterCritical:t.afterCritical}):L3({isMovingForward:g,previousPageBorderBoxCenter:_,draggable:y,isOver:d,draggables:w,droppables:S,viewport:t.viewport,afterCritical:t.afterCritical})};function Ho(t){return t.phase==="DRAGGING"||t.phase==="COLLECTING"}function k1(t){const r=$r(t.top,t.bottom),a=$r(t.left,t.right);return function(u){return r(u.y)&&a(u.x)}}function P3(t,r){return t.left<r.right&&t.right>r.left&&t.top<r.bottom&&t.bottom>r.top}function z3({pageBorderBox:t,draggable:r,candidates:a}){const s=r.page.borderBox.center,u=a.map(d=>{const f=d.axis,p=Uo(d.axis.line,t.center[f.line],d.page.borderBox.center[f.crossAxisLine]);return{id:d.descriptor.id,distance:kc(s,p)}}).sort((d,f)=>f.distance-d.distance);return u[0]?u[0].id:null}function H3({pageBorderBox:t,draggable:r,droppables:a}){const s=Yf(a).filter(u=>{if(!u.isEnabled)return!1;const d=u.subject.active;if(!d||!P3(t,d))return!1;if(k1(d)(t.center))return!0;const f=u.axis,p=d.center[f.crossAxisLine],g=t[f.crossAxisStart],y=t[f.crossAxisEnd],_=$r(d[f.crossAxisStart],d[f.crossAxisEnd]),w=_(g),S=_(y);return!w&&!S?!0:w?g<p:y>p});return s.length?s.length===1?s[0].descriptor.id:z3({pageBorderBox:t,draggable:r,candidates:s}):null}const O1=(t,r)=>ni(Zc(t,r));var $3=(t,r)=>{const a=t.frame;return a?O1(r,a.scroll.diff.value):r};function C1({displaced:t,id:r}){return!!(t.visible[r]||t.invisible[r])}function I3({draggable:t,closest:r,inHomeList:a}){return r?a&&r.descriptor.index>t.descriptor.index?r.descriptor.index-1:r.descriptor.index:null}var U3=({pageBorderBoxWithDroppableScroll:t,draggable:r,destination:a,insideDestination:s,last:u,viewport:d,afterCritical:f})=>{const p=a.axis,g=Yc(a.axis,r.displaceBy),y=g.value,_=t[p.start],w=t[p.end],T=Ff(r,s).find(D=>{const A=D.descriptor.id,z=D.page.borderBox.center[p.line],H=Qa(A,f),k=C1({displaced:u,id:A});return H?k?w<=z:_<z-y:k?w<=z+y:_<z})||null,M=I3({draggable:r,closest:T,inHomeList:rl(r,a)});return gf({draggable:r,insideDestination:s,destination:a,viewport:d,last:u,displacedBy:g,index:M})};const G3=4;var Z3=({draggable:t,pageBorderBoxWithDroppableScroll:r,previousImpact:a,destination:s,insideDestination:u,afterCritical:d})=>{if(!s.isCombineEnabled)return null;const f=s.axis,p=Yc(s.axis,t.displaceBy),g=p.value,y=r[f.start],_=r[f.end],S=Ff(t,u).find(M=>{const D=M.descriptor.id,A=M.page.borderBox,H=A[f.size]/G3,k=Qa(D,d),B=C1({displaced:a.displaced,id:D});return k?B?_>A[f.start]+H&&_<A[f.end]-H:y>A[f.start]-g+H&&y<A[f.end]-g-H:B?_>A[f.start]+g+H&&_<A[f.end]+g-H:y>A[f.start]+H&&y<A[f.end]-H});return S?{displacedBy:p,displaced:a.displaced,at:{type:"COMBINE",combine:{draggableId:S.descriptor.id,droppableId:s.descriptor.id}}}:null},L1=({pageOffset:t,draggable:r,draggables:a,droppables:s,previousImpact:u,viewport:d,afterCritical:f})=>{const p=O1(r.page.borderBox,t),g=H3({pageBorderBox:p,draggable:r,droppables:s});if(!g)return i3;const y=s[g],_=nl(y.descriptor.id,a),w=$3(y,p);return Z3({pageBorderBoxWithDroppableScroll:w,draggable:r,previousImpact:u,destination:y,insideDestination:_,afterCritical:f})||U3({pageBorderBoxWithDroppableScroll:w,draggable:r,destination:y,insideDestination:_,last:u.displaced,viewport:d,afterCritical:f})},Bp=(t,r)=>({...t,[r.descriptor.id]:r});const Y3=({previousImpact:t,impact:r,droppables:a})=>{const s=yr(t),u=yr(r);if(!s||s===u)return a;const d=a[s];if(!d.subject.withPlaceholder)return a;const f=O3(d);return Bp(a,f)};var q3=({draggable:t,draggables:r,droppables:a,previousImpact:s,impact:u})=>{const d=Y3({previousImpact:s,impact:u,droppables:a}),f=yr(u);if(!f)return d;const p=a[f];if(rl(t,p)||p.subject.withPlaceholder)return d;const g=j1(p,t,r);return Bp(d,g)},Nc=({state:t,clientSelection:r,dimensions:a,viewport:s,impact:u,scrollJumpRequest:d})=>{const f=s||t.viewport,p=a||t.dimensions,g=r||t.current.client.selection,y=br(g,t.initial.client.selection),_={offset:y,selection:g,borderBoxCenter:wn(t.initial.client.borderBoxCenter,y)},w={selection:wn(_.selection,f.scroll.current),borderBoxCenter:wn(_.borderBoxCenter,f.scroll.current),offset:wn(_.offset,f.scroll.diff.value)},S={client:_,page:w};if(t.phase==="COLLECTING")return{...t,dimensions:p,viewport:f,current:S};const T=p.draggables[t.critical.draggable.id],M=u||L1({pageOffset:w.offset,draggable:T,draggables:p.draggables,droppables:p.droppables,previousImpact:t.impact,viewport:f,afterCritical:t.afterCritical}),D=q3({draggable:T,impact:M,previousImpact:t.impact,draggables:p.draggables,droppables:p.droppables});return{...t,current:S,dimensions:{draggables:p.draggables,droppables:D},impact:M,viewport:f,scrollJumpRequest:d||null,forceShouldAnimate:d?!1:null}};function F3(t,r){return t.map(a=>r[a])}var B1=({impact:t,viewport:r,draggables:a,destination:s,forceShouldAnimate:u})=>{const d=t.displaced,f=F3(d.all,a),p=Cc({afterDragging:f,destination:s,displacedBy:t.displacedBy,viewport:r.frame,forceShouldAnimate:u,last:d});return{...t,displaced:p}},R1=({impact:t,draggable:r,droppable:a,draggables:s,viewport:u,afterCritical:d})=>{const f=Vf({impact:t,draggable:r,draggables:s,droppable:a,afterCritical:d});return Lp({pageBorderBoxCenter:f,draggable:r,viewport:u})},P1=({state:t,dimensions:r,viewport:a})=>{t.movementMode!=="SNAP"&&At();const s=t.impact,u=a||t.viewport,d=r||t.dimensions,{draggables:f,droppables:p}=d,g=f[t.critical.draggable.id],y=yr(s);y||At();const _=p[y],w=B1({impact:s,viewport:u,destination:_,draggables:f}),S=R1({impact:w,draggable:g,droppable:_,draggables:f,viewport:u,afterCritical:t.afterCritical});return Nc({impact:w,clientSelection:S,state:t,dimensions:d,viewport:u})},V3=t=>({index:t.index,droppableId:t.droppableId}),z1=({draggable:t,home:r,draggables:a,viewport:s})=>{const u=Yc(r.axis,t.displaceBy),d=nl(r.descriptor.id,a),f=d.indexOf(t);f===-1&&At();const p=d.slice(f+1),g=p.reduce((S,T)=>(S[T.descriptor.id]=!0,S),{}),y={inVirtualList:r.descriptor.mode==="virtual",displacedBy:u,effected:g};return{impact:{displaced:Cc({afterDragging:p,destination:r,displacedBy:u,last:null,viewport:s.frame,forceShouldAnimate:!1}),displacedBy:u,at:{type:"REORDER",destination:V3(t.descriptor)}},afterCritical:y}},K3=(t,r)=>({draggables:t.draggables,droppables:Bp(t.droppables,r)}),X3=({draggable:t,offset:r,initialWindowScroll:a})=>{const s=df(t.client,r),u=ff(s,a);return{...t,placeholder:{...t.placeholder,client:s},client:s,page:u}},W3=t=>{const r=t.frame;return r||At(),r},Q3=({additions:t,updatedDroppables:r,viewport:a})=>{const s=a.scroll.diff.value;return t.map(u=>{const d=u.descriptor.droppableId,f=r[d],g=W3(f).scroll.diff.value,y=wn(s,g);return X3({draggable:u,offset:y,initialWindowScroll:a.scroll.initial})})},J3=({state:t,published:r})=>{const a=r.modified.map(z=>{const H=t.dimensions.droppables[z.droppableId];return Dp(H,z.scroll)}),s={...t.dimensions.droppables,...x1(a)},u=_1(Q3({additions:r.additions,updatedDroppables:s,viewport:t.viewport})),d={...t.dimensions.draggables,...u};r.removals.forEach(z=>{delete d[z]});const f={droppables:s,draggables:d},p=yr(t.impact),g=p?f.droppables[p]:null,y=f.draggables[t.critical.draggable.id],_=f.droppables[t.critical.droppable.id],{impact:w,afterCritical:S}=z1({draggable:y,home:_,draggables:d,viewport:t.viewport}),T=g&&g.isCombineEnabled?t.impact:w,M=L1({pageOffset:t.current.page.offset,draggable:f.draggables[t.critical.draggable.id],draggables:f.draggables,droppables:f.droppables,previousImpact:T,viewport:t.viewport,afterCritical:S}),D={...t,phase:"DRAGGING",impact:M,onLiftImpact:w,dimensions:f,afterCritical:S,forceShouldAnimate:!1};return t.phase==="COLLECTING"?D:{...D,phase:"DROP_PENDING",reason:t.reason,isWaiting:!1}};const sp=t=>t.movementMode==="SNAP",d0=(t,r,a)=>{const s=K3(t.dimensions,r);return!sp(t)||a?Nc({state:t,dimensions:s}):P1({state:t,dimensions:s})};function f0(t){return t.isDragging&&t.movementMode==="SNAP"?{...t,scrollJumpRequest:null}:t}const zv={phase:"IDLE",completed:null,shouldFlush:!1};var tN=(t=zv,r)=>{if(r.type==="FLUSH")return{...zv,shouldFlush:!0};if(r.type==="INITIAL_PUBLISH"){t.phase!=="IDLE"&&At();const{critical:a,clientSelection:s,viewport:u,dimensions:d,movementMode:f}=r.payload,p=d.draggables[a.draggable.id],g=d.droppables[a.droppable.id],y={selection:s,borderBoxCenter:p.client.borderBox.center,offset:mn},_={client:y,page:{selection:wn(y.selection,u.scroll.initial),borderBoxCenter:wn(y.selection,u.scroll.initial),offset:wn(y.selection,u.scroll.diff.value)}},w=Yf(d.droppables).every(D=>!D.isFixedOnPage),{impact:S,afterCritical:T}=z1({draggable:p,home:g,draggables:d.draggables,viewport:u});return{phase:"DRAGGING",isDragging:!0,critical:a,movementMode:f,dimensions:d,initial:_,current:_,isWindowScrollAllowed:w,impact:S,afterCritical:T,onLiftImpact:S,viewport:u,scrollJumpRequest:null,forceShouldAnimate:null}}if(r.type==="COLLECTION_STARTING")return t.phase==="COLLECTING"||t.phase==="DROP_PENDING"?t:(t.phase!=="DRAGGING"&&At(),{...t,phase:"COLLECTING"});if(r.type==="PUBLISH_WHILE_DRAGGING")return t.phase==="COLLECTING"||t.phase==="DROP_PENDING"||At(),J3({state:t,published:r.payload});if(r.type==="MOVE"){if(t.phase==="DROP_PENDING")return t;Ho(t)||At();const{client:a}=r.payload;return Wa(a,t.current.client.selection)?t:Nc({state:t,clientSelection:a,impact:sp(t)?t.impact:null})}if(r.type==="UPDATE_DROPPABLE_SCROLL"){if(t.phase==="DROP_PENDING"||t.phase==="COLLECTING")return f0(t);Ho(t)||At();const{id:a,newScroll:s}=r.payload,u=t.dimensions.droppables[a];if(!u)return t;const d=Dp(u,s);return d0(t,d,!1)}if(r.type==="UPDATE_DROPPABLE_IS_ENABLED"){if(t.phase==="DROP_PENDING")return t;Ho(t)||At();const{id:a,isEnabled:s}=r.payload,u=t.dimensions.droppables[a];u||At(),u.isEnabled===s&&At();const d={...u,isEnabled:s};return d0(t,d,!0)}if(r.type==="UPDATE_DROPPABLE_IS_COMBINE_ENABLED"){if(t.phase==="DROP_PENDING")return t;Ho(t)||At();const{id:a,isCombineEnabled:s}=r.payload,u=t.dimensions.droppables[a];u||At(),u.isCombineEnabled===s&&At();const d={...u,isCombineEnabled:s};return d0(t,d,!0)}if(r.type==="MOVE_BY_WINDOW_SCROLL"){if(t.phase==="DROP_PENDING"||t.phase==="DROP_ANIMATING")return t;Ho(t)||At(),t.isWindowScrollAllowed||At();const a=r.payload.newScroll;if(Wa(t.viewport.scroll.current,a))return f0(t);const s=N1(t.viewport,a);return sp(t)?P1({state:t,viewport:s}):Nc({state:t,viewport:s})}if(r.type==="UPDATE_VIEWPORT_MAX_SCROLL"){if(!Ho(t))return t;const a=r.payload.maxScroll;if(Wa(a,t.viewport.scroll.max))return t;const s={...t.viewport,scroll:{...t.viewport.scroll,max:a}};return{...t,viewport:s}}if(r.type==="MOVE_UP"||r.type==="MOVE_DOWN"||r.type==="MOVE_LEFT"||r.type==="MOVE_RIGHT"){if(t.phase==="COLLECTING"||t.phase==="DROP_PENDING")return t;t.phase!=="DRAGGING"&&At();const a=R3({state:t,type:r.type});return a?Nc({state:t,impact:a.impact,clientSelection:a.clientSelection,scrollJumpRequest:a.scrollJumpRequest}):t}if(r.type==="DROP_PENDING"){const a=r.payload.reason;return t.phase!=="COLLECTING"&&At(),{...t,phase:"DROP_PENDING",isWaiting:!0,reason:a}}if(r.type==="DROP_ANIMATE"){const{completed:a,dropDuration:s,newHomeClientOffset:u}=r.payload;return t.phase==="DRAGGING"||t.phase==="DROP_PENDING"||At(),{phase:"DROP_ANIMATING",completed:a,dropDuration:s,newHomeClientOffset:u,dimensions:t.dimensions}}if(r.type==="DROP_COMPLETE"){const{completed:a}=r.payload;return{phase:"IDLE",completed:a,shouldFlush:!1}}return t};function pe(t,r){return t instanceof Object&&"type"in t&&t.type===r}const eN=t=>({type:"BEFORE_INITIAL_CAPTURE",payload:t}),nN=t=>({type:"LIFT",payload:t}),rN=t=>({type:"INITIAL_PUBLISH",payload:t}),iN=t=>({type:"PUBLISH_WHILE_DRAGGING",payload:t}),aN=()=>({type:"COLLECTION_STARTING",payload:null}),oN=t=>({type:"UPDATE_DROPPABLE_SCROLL",payload:t}),sN=t=>({type:"UPDATE_DROPPABLE_IS_ENABLED",payload:t}),lN=t=>({type:"UPDATE_DROPPABLE_IS_COMBINE_ENABLED",payload:t}),H1=t=>({type:"MOVE",payload:t}),cN=t=>({type:"MOVE_BY_WINDOW_SCROLL",payload:t}),uN=t=>({type:"UPDATE_VIEWPORT_MAX_SCROLL",payload:t}),dN=()=>({type:"MOVE_UP",payload:null}),fN=()=>({type:"MOVE_DOWN",payload:null}),hN=()=>({type:"MOVE_RIGHT",payload:null}),mN=()=>({type:"MOVE_LEFT",payload:null}),Rp=()=>({type:"FLUSH",payload:null}),pN=t=>({type:"DROP_ANIMATE",payload:t}),Pp=t=>({type:"DROP_COMPLETE",payload:t}),$1=t=>({type:"DROP",payload:t}),gN=t=>({type:"DROP_PENDING",payload:t}),I1=()=>({type:"DROP_ANIMATION_FINISHED",payload:null});var bN=t=>({getState:r,dispatch:a})=>s=>u=>{if(!pe(u,"LIFT")){s(u);return}const{id:d,clientSelection:f,movementMode:p}=u.payload,g=r();g.phase==="DROP_ANIMATING"&&a(Pp({completed:g.completed})),r().phase!=="IDLE"&&At(),a(Rp()),a(eN({draggableId:d,movementMode:p}));const _={draggableId:d,scrollOptions:{shouldPublishImmediately:p==="SNAP"}},{critical:w,dimensions:S,viewport:T}=t.startPublishing(_);a(rN({critical:w,dimensions:S,clientSelection:f,movementMode:p,viewport:T}))},yN=t=>()=>r=>a=>{pe(a,"INITIAL_PUBLISH")&&t.dragging(),pe(a,"DROP_ANIMATE")&&t.dropping(a.payload.completed.result.reason),(pe(a,"FLUSH")||pe(a,"DROP_COMPLETE"))&&t.resting(),r(a)};const zp={outOfTheWay:"cubic-bezier(0.2, 0, 0, 1)",drop:"cubic-bezier(.2,1,.1,1)"},Lc={opacity:{drop:0,combining:.7},scale:{drop:.75}},U1={outOfTheWay:.2,minDropTime:.33,maxDropTime:.55},Oo=`${U1.outOfTheWay}s ${zp.outOfTheWay}`,Ac={fluid:`opacity ${Oo}`,snap:`transform ${Oo}, opacity ${Oo}`,drop:t=>{const r=`${t}s ${zp.drop}`;return`transform ${r}, opacity ${r}`},outOfTheWay:`transform ${Oo}`,placeholder:`height ${Oo}, width ${Oo}, margin ${Oo}`},Hv=t=>Wa(t,mn)?void 0:`translate(${t.x}px, ${t.y}px)`,lp={moveTo:Hv,drop:(t,r)=>{const a=Hv(t);if(a)return r?`${a} scale(${Lc.scale.drop})`:a}},{minDropTime:cp,maxDropTime:G1}=U1,vN=G1-cp,$v=1500,xN=.6;var _N=({current:t,destination:r,reason:a})=>{const s=kc(t,r);if(s<=0)return cp;if(s>=$v)return G1;const u=s/$v,d=cp+vN*u,f=a==="CANCEL"?d*xN:d;return Number(f.toFixed(2))},SN=({impact:t,draggable:r,dimensions:a,viewport:s,afterCritical:u})=>{const{draggables:d,droppables:f}=a,p=yr(t),g=p?f[p]:null,y=f[r.descriptor.droppableId],_=R1({impact:t,draggable:r,draggables:d,afterCritical:u,droppable:g||y,viewport:s});return br(_,r.client.borderBox.center)},wN=({draggables:t,reason:r,lastImpact:a,home:s,viewport:u,onLiftImpact:d})=>!a.at||r!=="DROP"?{impact:B1({draggables:t,impact:d,destination:s,viewport:u,forceShouldAnimate:!0}),didDropInsideDroppable:!1}:a.at.type==="REORDER"?{impact:a,didDropInsideDroppable:!0}:{impact:{...a,displaced:Oc},didDropInsideDroppable:!0};const TN=({getState:t,dispatch:r})=>a=>s=>{if(!pe(s,"DROP")){a(s);return}const u=t(),d=s.payload.reason;if(u.phase==="COLLECTING"){r(gN({reason:d}));return}if(u.phase==="IDLE")return;u.phase==="DROP_PENDING"&&u.isWaiting&&At(),u.phase==="DRAGGING"||u.phase==="DROP_PENDING"||At();const p=u.critical,g=u.dimensions,y=g.draggables[u.critical.draggable.id],{impact:_,didDropInsideDroppable:w}=wN({reason:d,lastImpact:u.impact,afterCritical:u.afterCritical,onLiftImpact:u.onLiftImpact,home:u.dimensions.droppables[u.critical.droppable.id],viewport:u.viewport,draggables:u.dimensions.draggables}),S=w?jp(_):null,T=w?qf(_):null,M={index:p.draggable.index,droppableId:p.droppable.id},D={draggableId:y.descriptor.id,type:y.descriptor.type,source:M,reason:d,mode:u.movementMode,destination:S,combine:T},A=SN({impact:_,draggable:y,dimensions:g,viewport:u.viewport,afterCritical:u.afterCritical}),z={critical:u.critical,afterCritical:u.afterCritical,result:D,impact:_};if(!(!Wa(u.current.client.offset,A)||!!D.combine)){r(Pp({completed:z}));return}const k=_N({current:u.current.client.offset,destination:A,reason:d});r(pN({newHomeClientOffset:A,dropDuration:k,completed:z}))};var Z1=()=>({x:window.pageXOffset,y:window.pageYOffset});function EN(t){return{eventName:"scroll",options:{passive:!0,capture:!1},fn:r=>{r.target!==window&&r.target!==window.document||t()}}}function MN({onWindowScroll:t}){function r(){t(Z1())}const a=jc(r),s=EN(a);let u=Xa;function d(){return u!==Xa}function f(){d()&&At(),u=Pr(window,[s])}function p(){d()||At(),a.cancel(),u(),u=Xa}return{start:f,stop:p,isActive:d}}const NN=t=>pe(t,"DROP_COMPLETE")||pe(t,"DROP_ANIMATE")||pe(t,"FLUSH"),AN=t=>{const r=MN({onWindowScroll:a=>{t.dispatch(cN({newScroll:a}))}});return a=>s=>{!r.isActive()&&pe(s,"INITIAL_PUBLISH")&&r.start(),r.isActive()&&NN(s)&&r.stop(),a(s)}};var DN=t=>{let r=!1,a=!1;const s=setTimeout(()=>{a=!0}),u=d=>{r||a||(r=!0,t(d),clearTimeout(s))};return u.wasCalled=()=>r,u},jN=()=>{const t=[],r=u=>{const d=t.findIndex(p=>p.timerId===u);d===-1&&At();const[f]=t.splice(d,1);f.callback()};return{add:u=>{const d=setTimeout(()=>r(d)),f={timerId:d,callback:u};t.push(f)},flush:()=>{if(!t.length)return;const u=[...t];t.length=0,u.forEach(d=>{clearTimeout(d.timerId),d.callback()})}}};const kN=(t,r)=>t==null&&r==null?!0:t==null||r==null?!1:t.droppableId===r.droppableId&&t.index===r.index,ON=(t,r)=>t==null&&r==null?!0:t==null||r==null?!1:t.draggableId===r.draggableId&&t.droppableId===r.droppableId,CN=(t,r)=>{if(t===r)return!0;const a=t.draggable.id===r.draggable.id&&t.draggable.droppableId===r.draggable.droppableId&&t.draggable.type===r.draggable.type&&t.draggable.index===r.draggable.index,s=t.droppable.id===r.droppable.id&&t.droppable.type===r.droppable.type;return a&&s},fc=(t,r)=>{r()},Td=(t,r)=>({draggableId:t.draggable.id,type:t.droppable.type,source:{droppableId:t.droppable.id,index:t.draggable.index},mode:r});function h0(t,r,a,s){if(!t){a(s(r));return}const u=DN(a);t(r,{announce:u}),u.wasCalled()||a(s(r))}var LN=(t,r)=>{const a=jN();let s=null;const u=(w,S)=>{s&&At(),fc("onBeforeCapture",()=>{const T=t().onBeforeCapture;T&&T({draggableId:w,mode:S})})},d=(w,S)=>{s&&At(),fc("onBeforeDragStart",()=>{const T=t().onBeforeDragStart;T&&T(Td(w,S))})},f=(w,S)=>{s&&At();const T=Td(w,S);s={mode:S,lastCritical:w,lastLocation:T.source,lastCombine:null},a.add(()=>{fc("onDragStart",()=>h0(t().onDragStart,T,r,of.onDragStart))})},p=(w,S)=>{const T=jp(S),M=qf(S);s||At();const D=!CN(w,s.lastCritical);D&&(s.lastCritical=w);const A=!kN(s.lastLocation,T);A&&(s.lastLocation=T);const z=!ON(s.lastCombine,M);if(z&&(s.lastCombine=M),!D&&!A&&!z)return;const H={...Td(w,s.mode),combine:M,destination:T};a.add(()=>{fc("onDragUpdate",()=>h0(t().onDragUpdate,H,r,of.onDragUpdate))})},g=()=>{s||At(),a.flush()},y=w=>{s||At(),s=null,fc("onDragEnd",()=>h0(t().onDragEnd,w,r,of.onDragEnd))};return{beforeCapture:u,beforeStart:d,start:f,update:p,flush:g,drop:y,abort:()=>{if(!s)return;const w={...Td(s.lastCritical,s.mode),combine:null,destination:null,reason:"CANCEL"};y(w)}}},BN=(t,r)=>{const a=LN(t,r);return s=>u=>d=>{if(pe(d,"BEFORE_INITIAL_CAPTURE")){a.beforeCapture(d.payload.draggableId,d.payload.movementMode);return}if(pe(d,"INITIAL_PUBLISH")){const p=d.payload.critical;a.beforeStart(p,d.payload.movementMode),u(d),a.start(p,d.payload.movementMode);return}if(pe(d,"DROP_COMPLETE")){const p=d.payload.completed.result;a.flush(),u(d),a.drop(p);return}if(u(d),pe(d,"FLUSH")){a.abort();return}const f=s.getState();f.phase==="DRAGGING"&&a.update(f.critical,f.impact)}};const RN=t=>r=>a=>{if(!pe(a,"DROP_ANIMATION_FINISHED")){r(a);return}const s=t.getState();s.phase!=="DROP_ANIMATING"&&At(),t.dispatch(Pp({completed:s.completed}))},PN=t=>{let r=null,a=null;function s(){a&&(cancelAnimationFrame(a),a=null),r&&(r(),r=null)}return u=>d=>{if((pe(d,"FLUSH")||pe(d,"DROP_COMPLETE")||pe(d,"DROP_ANIMATION_FINISHED"))&&s(),u(d),!pe(d,"DROP_ANIMATE"))return;const f={eventName:"scroll",options:{capture:!0,passive:!1,once:!0},fn:function(){t.getState().phase==="DROP_ANIMATING"&&t.dispatch(I1())}};a=requestAnimationFrame(()=>{a=null,r=Pr(window,[f])})}};var zN=t=>()=>r=>a=>{(pe(a,"DROP_COMPLETE")||pe(a,"FLUSH")||pe(a,"DROP_ANIMATE"))&&t.stopPublishing(),r(a)},HN=t=>{let r=!1;return()=>a=>s=>{if(pe(s,"INITIAL_PUBLISH")){r=!0,t.tryRecordFocus(s.payload.critical.draggable.id),a(s),t.tryRestoreFocusRecorded();return}if(a(s),!!r){if(pe(s,"FLUSH")){r=!1,t.tryRestoreFocusRecorded();return}if(pe(s,"DROP_COMPLETE")){r=!1;const u=s.payload.completed.result;u.combine&&t.tryShiftRecord(u.draggableId,u.combine.draggableId),t.tryRestoreFocusRecorded()}}}};const $N=t=>pe(t,"DROP_COMPLETE")||pe(t,"DROP_ANIMATE")||pe(t,"FLUSH");var IN=t=>r=>a=>s=>{if($N(s)){t.stop(),a(s);return}if(pe(s,"INITIAL_PUBLISH")){a(s);const u=r.getState();u.phase!=="DRAGGING"&&At(),t.start(u);return}a(s),t.scroll(r.getState())};const UN=t=>r=>a=>{if(r(a),!pe(a,"PUBLISH_WHILE_DRAGGING"))return;const s=t.getState();s.phase==="DROP_PENDING"&&(s.isWaiting||t.dispatch($1({reason:s.reason})))},GN=o1;var ZN=({dimensionMarshal:t,focusMarshal:r,styleMarshal:a,getResponders:s,announce:u,autoScroller:d})=>a1(tN,GN(IE(yN(a),zN(t),bN(t),TN,RN,PN,UN,IN(d),AN,HN(r),BN(s,u))));const m0=()=>({additions:{},removals:{},modified:{}});function YN({registry:t,callbacks:r}){let a=m0(),s=null;const u=()=>{s||(r.collectionStarting(),s=requestAnimationFrame(()=>{s=null;const{additions:g,removals:y,modified:_}=a,w=Object.keys(g).map(M=>t.draggable.getById(M).getDimension(mn)).sort((M,D)=>M.descriptor.index-D.descriptor.index),S=Object.keys(_).map(M=>{const A=t.droppable.getById(M).callbacks.getScrollWhileDragging();return{droppableId:M,scroll:A}}),T={additions:w,removals:Object.keys(y),modified:S};a=m0(),r.publish(T)}))};return{add:g=>{const y=g.descriptor.id;a.additions[y]=g,a.modified[g.descriptor.droppableId]=!0,a.removals[y]&&delete a.removals[y],u()},remove:g=>{const y=g.descriptor;a.removals[y.id]=!0,a.modified[y.droppableId]=!0,a.additions[y.id]&&delete a.additions[y.id],u()},stop:()=>{s&&(cancelAnimationFrame(s),s=null,a=m0())}}}var Y1=({scrollHeight:t,scrollWidth:r,height:a,width:s})=>{const u=br({x:r,y:t},{x:s,y:a});return{x:Math.max(0,u.x),y:Math.max(0,u.y)}},q1=()=>{const t=document.documentElement;return t||At(),t},F1=()=>{const t=q1();return Y1({scrollHeight:t.scrollHeight,scrollWidth:t.scrollWidth,width:t.clientWidth,height:t.clientHeight})},qN=()=>{const t=Z1(),r=F1(),a=t.y,s=t.x,u=q1(),d=u.clientWidth,f=u.clientHeight,p=s+d,g=a+f;return{frame:ni({top:a,left:s,right:p,bottom:g}),scroll:{initial:t,current:t,max:r,diff:{value:mn,displacement:mn}}}},FN=({critical:t,scrollOptions:r,registry:a})=>{const s=qN(),u=s.scroll.current,d=t.droppable,f=a.droppable.getAllByType(d.type).map(_=>_.callbacks.getDimensionAndWatchScroll(u,r)),p=a.draggable.getAllByType(t.draggable.type).map(_=>_.getDimension(u));return{dimensions:{draggables:_1(p),droppables:x1(f)},critical:t,viewport:s}};function Iv(t,r,a){return!(a.descriptor.id===r.id||a.descriptor.type!==r.type||t.droppable.getById(a.descriptor.droppableId).descriptor.mode!=="virtual")}var VN=(t,r)=>{let a=null;const s=YN({callbacks:{publish:r.publishWhileDragging,collectionStarting:r.collectionStarting},registry:t}),u=(S,T)=>{t.droppable.exists(S)||At(),a&&r.updateDroppableIsEnabled({id:S,isEnabled:T})},d=(S,T)=>{a&&(t.droppable.exists(S)||At(),r.updateDroppableIsCombineEnabled({id:S,isCombineEnabled:T}))},f=(S,T)=>{a&&(t.droppable.exists(S)||At(),r.updateDroppableScroll({id:S,newScroll:T}))},p=(S,T)=>{a&&t.droppable.getById(S).callbacks.scroll(T)},g=()=>{if(!a)return;s.stop();const S=a.critical.droppable;t.droppable.getAllByType(S.type).forEach(T=>T.callbacks.dragStopped()),a.unsubscribe(),a=null},y=S=>{a||At();const T=a.critical.draggable;S.type==="ADDITION"&&Iv(t,T,S.value)&&s.add(S.value),S.type==="REMOVAL"&&Iv(t,T,S.value)&&s.remove(S.value)};return{updateDroppableIsEnabled:u,updateDroppableIsCombineEnabled:d,scrollDroppable:p,updateDroppableScroll:f,startPublishing:S=>{a&&At();const T=t.draggable.getById(S.draggableId),M=t.droppable.getById(T.descriptor.droppableId),D={draggable:T.descriptor,droppable:M.descriptor},A=t.subscribe(y);return a={critical:D,unsubscribe:A},FN({critical:D,registry:t,scrollOptions:S.scrollOptions})},stopPublishing:g}},V1=(t,r)=>t.phase==="IDLE"?!0:t.phase!=="DROP_ANIMATING"||t.completed.result.draggableId===r?!1:t.completed.result.reason==="DROP",KN=t=>{window.scrollBy(t.x,t.y)};const XN=hn(t=>Yf(t).filter(r=>!(!r.isEnabled||!r.frame))),WN=(t,r)=>XN(r).find(s=>(s.frame||At(),k1(s.frame.pageMarginBox)(t)))||null;var QN=({center:t,destination:r,droppables:a})=>{if(r){const u=a[r];return u.frame?u:null}return WN(t,a)};const Bc={startFromPercentage:.25,maxScrollAtPercentage:.05,maxPixelScroll:28,ease:t=>t**2,durationDampening:{stopDampeningAt:1200,accelerateAt:360},disabled:!1};var JN=(t,r,a=()=>Bc)=>{const s=a(),u=t[r.size]*s.startFromPercentage,d=t[r.size]*s.maxScrollAtPercentage;return{startScrollingFrom:u,maxScrollValueAt:d}},K1=({startOfRange:t,endOfRange:r,current:a})=>{const s=r-t;return s===0?0:(a-t)/s},Hp=1,tA=(t,r,a=()=>Bc)=>{const s=a();if(t>r.startScrollingFrom)return 0;if(t<=r.maxScrollValueAt)return s.maxPixelScroll;if(t===r.startScrollingFrom)return Hp;const d=1-K1({startOfRange:r.maxScrollValueAt,endOfRange:r.startScrollingFrom,current:t}),f=s.maxPixelScroll*s.ease(d);return Math.ceil(f)},eA=(t,r,a)=>{const s=a(),u=s.durationDampening.accelerateAt,d=s.durationDampening.stopDampeningAt,f=r,p=d,y=Date.now()-f;if(y>=d)return t;if(y<u)return Hp;const _=K1({startOfRange:u,endOfRange:p,current:y}),w=t*s.ease(_);return Math.ceil(w)},Uv=({distanceToEdge:t,thresholds:r,dragStartTime:a,shouldUseTimeDampening:s,getAutoScrollerOptions:u})=>{const d=tA(t,r,u);return d===0?0:s?Math.max(eA(d,a,u),Hp):d},Gv=({container:t,distanceToEdges:r,dragStartTime:a,axis:s,shouldUseTimeDampening:u,getAutoScrollerOptions:d})=>{const f=JN(t,s,d);return r[s.end]<r[s.start]?Uv({distanceToEdge:r[s.end],thresholds:f,dragStartTime:a,shouldUseTimeDampening:u,getAutoScrollerOptions:d}):-1*Uv({distanceToEdge:r[s.start],thresholds:f,dragStartTime:a,shouldUseTimeDampening:u,getAutoScrollerOptions:d})},nA=({container:t,subject:r,proposedScroll:a})=>{const s=r.height>t.height,u=r.width>t.width;return!u&&!s?a:u&&s?null:{x:u?0:a.x,y:s?0:a.y}};const rA=v1(t=>t===0?0:t);var X1=({dragStartTime:t,container:r,subject:a,center:s,shouldUseTimeDampening:u,getAutoScrollerOptions:d})=>{const f={top:s.y-r.top,right:r.right-s.x,bottom:r.bottom-s.y,left:s.x-r.left},p=Gv({container:r,distanceToEdges:f,dragStartTime:t,axis:kp,shouldUseTimeDampening:u,getAutoScrollerOptions:d}),g=Gv({container:r,distanceToEdges:f,dragStartTime:t,axis:T1,shouldUseTimeDampening:u,getAutoScrollerOptions:d}),y=rA({x:g,y:p});if(Wa(y,mn))return null;const _=nA({container:r,subject:a,proposedScroll:y});return _?Wa(_,mn)?null:_:null};const iA=v1(t=>t===0?0:t>0?1:-1),$p=(()=>{const t=(r,a)=>r<0?r:r>a?r-a:0;return({current:r,max:a,change:s})=>{const u=wn(r,s),d={x:t(u.x,a.x),y:t(u.y,a.y)};return Wa(d,mn)?null:d}})(),W1=({max:t,current:r,change:a})=>{const s={x:Math.max(r.x,t.x),y:Math.max(r.y,t.y)},u=iA(a),d=$p({max:s,current:r,change:u});return!d||u.x!==0&&d.x===0||u.y!==0&&d.y===0},Ip=(t,r)=>W1({current:t.scroll.current,max:t.scroll.max,change:r}),aA=(t,r)=>{if(!Ip(t,r))return null;const a=t.scroll.max,s=t.scroll.current;return $p({current:s,max:a,change:r})},Up=(t,r)=>{const a=t.frame;return a?W1({current:a.scroll.current,max:a.scroll.max,change:r}):!1},oA=(t,r)=>{const a=t.frame;return!a||!Up(t,r)?null:$p({current:a.scroll.current,max:a.scroll.max,change:r})};var sA=({viewport:t,subject:r,center:a,dragStartTime:s,shouldUseTimeDampening:u,getAutoScrollerOptions:d})=>{const f=X1({dragStartTime:s,container:t.frame,subject:r,center:a,shouldUseTimeDampening:u,getAutoScrollerOptions:d});return f&&Ip(t,f)?f:null},lA=({droppable:t,subject:r,center:a,dragStartTime:s,shouldUseTimeDampening:u,getAutoScrollerOptions:d})=>{const f=t.frame;if(!f)return null;const p=X1({dragStartTime:s,container:f.pageMarginBox,subject:r,center:a,shouldUseTimeDampening:u,getAutoScrollerOptions:d});return p&&Up(t,p)?p:null},Zv=({state:t,dragStartTime:r,shouldUseTimeDampening:a,scrollWindow:s,scrollDroppable:u,getAutoScrollerOptions:d})=>{const f=t.current.page.borderBoxCenter,g=t.dimensions.draggables[t.critical.draggable.id].page.marginBox;if(t.isWindowScrollAllowed){const w=t.viewport,S=sA({dragStartTime:r,viewport:w,subject:g,center:f,shouldUseTimeDampening:a,getAutoScrollerOptions:d});if(S){s(S);return}}const y=QN({center:f,destination:yr(t.impact),droppables:t.dimensions.droppables});if(!y)return;const _=lA({dragStartTime:r,droppable:y,subject:g,center:f,shouldUseTimeDampening:a,getAutoScrollerOptions:d});_&&u(y.descriptor.id,_)},cA=({scrollWindow:t,scrollDroppable:r,getAutoScrollerOptions:a=()=>Bc})=>{const s=jc(t),u=jc(r);let d=null;const f=y=>{d||At();const{shouldUseTimeDampening:_,dragStartTime:w}=d;Zv({state:y,scrollWindow:s,scrollDroppable:u,dragStartTime:w,shouldUseTimeDampening:_,getAutoScrollerOptions:a})};return{start:y=>{d&&At();const _=Date.now();let w=!1;const S=()=>{w=!0};Zv({state:y,dragStartTime:0,shouldUseTimeDampening:!1,scrollWindow:S,scrollDroppable:S,getAutoScrollerOptions:a}),d={dragStartTime:_,shouldUseTimeDampening:w},w&&f(y)},stop:()=>{d&&(s.cancel(),u.cancel(),d=null)},scroll:f}},uA=({move:t,scrollDroppable:r,scrollWindow:a})=>{const s=(p,g)=>{const y=wn(p.current.client.selection,g);t({client:y})},u=(p,g)=>{if(!Up(p,g))return g;const y=oA(p,g);if(!y)return r(p.descriptor.id,g),null;const _=br(g,y);return r(p.descriptor.id,_),br(g,_)},d=(p,g,y)=>{if(!p||!Ip(g,y))return y;const _=aA(g,y);if(!_)return a(y),null;const w=br(y,_);return a(w),br(y,w)};return p=>{const g=p.scrollJumpRequest;if(!g)return;const y=yr(p.impact);y||At();const _=u(p.dimensions.droppables[y],g);if(!_)return;const w=p.viewport,S=d(p.isWindowScrollAllowed,w,_);S&&s(p,S)}},dA=({scrollDroppable:t,scrollWindow:r,move:a,getAutoScrollerOptions:s})=>{const u=cA({scrollWindow:r,scrollDroppable:t,getAutoScrollerOptions:s}),d=uA({move:a,scrollWindow:r,scrollDroppable:t});return{scroll:g=>{if(!(s().disabled||g.phase!=="DRAGGING")){if(g.movementMode==="FLUID"){u.scroll(g);return}g.scrollJumpRequest&&d(g)}},start:u.start,stop:u.stop}};const Vs="data-rfd",Ks=(()=>{const t=`${Vs}-drag-handle`;return{base:t,draggableId:`${t}-draggable-id`,contextId:`${t}-context-id`}})(),up=(()=>{const t=`${Vs}-draggable`;return{base:t,contextId:`${t}-context-id`,id:`${t}-id`}})(),fA=(()=>{const t=`${Vs}-droppable`;return{base:t,contextId:`${t}-context-id`,id:`${t}-id`}})(),Yv={contextId:`${Vs}-scroll-container-context-id`},hA=t=>r=>`[${r}="${t}"]`,hc=(t,r)=>t.map(a=>{const s=a.styles[r];return s?`${a.selector} { ${s} }`:""}).join(" "),mA="pointer-events: none;";var pA=t=>{const r=hA(t),a=(()=>{const p=`
      cursor: -webkit-grab;
      cursor: grab;
    `;return{selector:r(Ks.contextId),styles:{always:`
          -webkit-touch-callout: none;
          -webkit-tap-highlight-color: rgba(0,0,0,0);
          touch-action: manipulation;
        `,resting:p,dragging:mA,dropAnimating:p}}})(),s=(()=>{const p=`
      transition: ${Ac.outOfTheWay};
    `;return{selector:r(up.contextId),styles:{dragging:p,dropAnimating:p,userCancel:p}}})(),u={selector:r(fA.contextId),styles:{always:"overflow-anchor: none;"}},f=[s,a,u,{selector:"body",styles:{dragging:`
        cursor: grabbing;
        cursor: -webkit-grabbing;
        user-select: none;
        -webkit-user-select: none;
        -moz-user-select: none;
        -ms-user-select: none;
        overflow-anchor: none;
      `}}];return{always:hc(f,"always"),resting:hc(f,"resting"),dragging:hc(f,"dragging"),dropAnimating:hc(f,"dropAnimating"),userCancel:hc(f,"userCancel")}};const vr=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u"?O.useLayoutEffect:O.useEffect,p0=()=>{const t=document.querySelector("head");return t||At(),t},qv=t=>{const r=document.createElement("style");return t&&r.setAttribute("nonce",t),r.type="text/css",r};function gA(t,r){const a=ce(()=>pA(t),[t]),s=O.useRef(null),u=O.useRef(null),d=$t(hn(w=>{const S=u.current;S||At(),S.textContent=w}),[]),f=$t(w=>{const S=s.current;S||At(),S.textContent=w},[]);vr(()=>{!s.current&&!u.current||At();const w=qv(r),S=qv(r);return s.current=w,u.current=S,w.setAttribute(`${Vs}-always`,t),S.setAttribute(`${Vs}-dynamic`,t),p0().appendChild(w),p0().appendChild(S),f(a.always),d(a.resting),()=>{const T=M=>{const D=M.current;D||At(),p0().removeChild(D),M.current=null};T(s),T(u)}},[r,f,d,a.always,a.resting,t]);const p=$t(()=>d(a.dragging),[d,a.dragging]),g=$t(w=>{if(w==="DROP"){d(a.dropAnimating);return}d(a.userCancel)},[d,a.dropAnimating,a.userCancel]),y=$t(()=>{u.current&&d(a.resting)},[d,a.resting]);return ce(()=>({dragging:p,dropping:g,resting:y}),[p,g,y])}function Q1(t,r){return Array.from(t.querySelectorAll(r))}var J1=t=>t&&t.ownerDocument&&t.ownerDocument.defaultView?t.ownerDocument.defaultView:window;function Kf(t){return t instanceof J1(t).HTMLElement}function bA(t,r){const a=`[${Ks.contextId}="${t}"]`,s=Q1(document,a);if(!s.length)return null;const u=s.find(d=>d.getAttribute(Ks.draggableId)===r);return!u||!Kf(u)?null:u}function yA(t){const r=O.useRef({}),a=O.useRef(null),s=O.useRef(null),u=O.useRef(!1),d=$t(function(S,T){const M={id:S,focus:T};return r.current[S]=M,function(){const A=r.current;A[S]!==M&&delete A[S]}},[]),f=$t(function(S){const T=bA(t,S);T&&T!==document.activeElement&&T.focus()},[t]),p=$t(function(S,T){a.current===S&&(a.current=T)},[]),g=$t(function(){s.current||u.current&&(s.current=requestAnimationFrame(()=>{s.current=null;const S=a.current;S&&f(S)}))},[f]),y=$t(function(S){a.current=null;const T=document.activeElement;T&&T.getAttribute(Ks.draggableId)===S&&(a.current=S)},[]);return vr(()=>(u.current=!0,function(){u.current=!1;const S=s.current;S&&cancelAnimationFrame(S)}),[]),ce(()=>({register:d,tryRecordFocus:y,tryRestoreFocusRecorded:g,tryShiftRecord:p}),[d,y,g,p])}function vA(){const t={draggables:{},droppables:{}},r=[];function a(w){return r.push(w),function(){const T=r.indexOf(w);T!==-1&&r.splice(T,1)}}function s(w){r.length&&r.forEach(S=>S(w))}function u(w){return t.draggables[w]||null}function d(w){const S=u(w);return S||At(),S}const f={register:w=>{t.draggables[w.descriptor.id]=w,s({type:"ADDITION",value:w})},update:(w,S)=>{const T=t.draggables[S.descriptor.id];T&&T.uniqueId===w.uniqueId&&(delete t.draggables[S.descriptor.id],t.draggables[w.descriptor.id]=w)},unregister:w=>{const S=w.descriptor.id,T=u(S);T&&w.uniqueId===T.uniqueId&&(delete t.draggables[S],t.droppables[w.descriptor.droppableId]&&s({type:"REMOVAL",value:w}))},getById:d,findById:u,exists:w=>!!u(w),getAllByType:w=>Object.values(t.draggables).filter(S=>S.descriptor.type===w)};function p(w){return t.droppables[w]||null}function g(w){const S=p(w);return S||At(),S}const y={register:w=>{t.droppables[w.descriptor.id]=w},unregister:w=>{const S=p(w.descriptor.id);S&&w.uniqueId===S.uniqueId&&delete t.droppables[w.descriptor.id]},getById:g,findById:p,exists:w=>!!p(w),getAllByType:w=>Object.values(t.droppables).filter(S=>S.descriptor.type===w)};function _(){t.draggables={},t.droppables={},r.length=0}return{draggable:f,droppable:y,subscribe:a,clean:_}}function xA(){const t=ce(vA,[]);return O.useEffect(()=>function(){t.clean()},[t]),t}var Gp=Le.createContext(null),bf=()=>{const t=document.body;return t||At(),t};const _A={position:"absolute",width:"1px",height:"1px",margin:"-1px",border:"0",padding:"0",overflow:"hidden",clip:"rect(0 0 0 0)","clip-path":"inset(100%)"},SA=t=>`rfd-announcement-${t}`;function wA(t){const r=ce(()=>SA(t),[t]),a=O.useRef(null);return O.useEffect(function(){const d=document.createElement("div");return a.current=d,d.id=r,d.setAttribute("aria-live","assertive"),d.setAttribute("aria-atomic","true"),hf(d.style,_A),bf().appendChild(d),function(){setTimeout(function(){const g=bf();g.contains(d)&&g.removeChild(d),d===a.current&&(a.current=null)})}},[r]),$t(u=>{const d=a.current;if(d){d.textContent=u;return}},[])}const TA={separator:"::"};function Zp(t,r=TA){const a=Le.useId();return ce(()=>`${t}${r.separator}${a}`,[r.separator,t,a])}function EA({contextId:t,uniqueId:r}){return`rfd-hidden-text-${t}-${r}`}function MA({contextId:t,text:r}){const a=Zp("hidden-text",{separator:"-"}),s=ce(()=>EA({contextId:t,uniqueId:a}),[a,t]);return O.useEffect(function(){const d=document.createElement("div");return d.id=s,d.textContent=r,d.style.display="none",bf().appendChild(d),function(){const p=bf();p.contains(d)&&p.removeChild(d)}},[s,r]),s}var Xf=Le.createContext(null);function t2(t){const r=O.useRef(t);return O.useEffect(()=>{r.current=t}),r}function NA(){let t=null;function r(){return!!t}function a(f){return f===t}function s(f){t&&At();const p={abandon:f};return t=p,p}function u(){t||At(),t=null}function d(){t&&(t.abandon(),u())}return{isClaimed:r,isActive:a,claim:s,release:u,tryAbandon:d}}function Rc(t){return t.phase==="IDLE"||t.phase==="DROP_ANIMATING"?!1:t.isDragging}const AA=9,DA=13,Yp=27,e2=32,jA=33,kA=34,OA=35,CA=36,LA=37,BA=38,RA=39,PA=40,zA={[DA]:!0,[AA]:!0};var n2=t=>{zA[t.keyCode]&&t.preventDefault()};const Wf=(()=>{const t="visibilitychange";return typeof document>"u"?t:[t,`ms${t}`,`webkit${t}`,`moz${t}`,`o${t}`].find(s=>`on${s}`in document)||t})(),r2=0,Fv=5;function HA(t,r){return Math.abs(r.x-t.x)>=Fv||Math.abs(r.y-t.y)>=Fv}const Vv={type:"IDLE"};function $A({cancel:t,completed:r,getPhase:a,setPhase:s}){return[{eventName:"mousemove",fn:u=>{const{button:d,clientX:f,clientY:p}=u;if(d!==r2)return;const g={x:f,y:p},y=a();if(y.type==="DRAGGING"){u.preventDefault(),y.actions.move(g);return}y.type!=="PENDING"&&At();const _=y.point;if(!HA(_,g))return;u.preventDefault();const w=y.actions.fluidLift(g);s({type:"DRAGGING",actions:w})}},{eventName:"mouseup",fn:u=>{const d=a();if(d.type!=="DRAGGING"){t();return}u.preventDefault(),d.actions.drop({shouldBlockNextClick:!0}),r()}},{eventName:"mousedown",fn:u=>{a().type==="DRAGGING"&&u.preventDefault(),t()}},{eventName:"keydown",fn:u=>{if(a().type==="PENDING"){t();return}if(u.keyCode===Yp){u.preventDefault(),t();return}n2(u)}},{eventName:"resize",fn:t},{eventName:"scroll",options:{passive:!0,capture:!1},fn:()=>{a().type==="PENDING"&&t()}},{eventName:"webkitmouseforcedown",fn:u=>{const d=a();if(d.type==="IDLE"&&At(),d.actions.shouldRespectForcePress()){t();return}u.preventDefault()}},{eventName:Wf,fn:t}]}function IA(t){const r=O.useRef(Vv),a=O.useRef(Xa),s=ce(()=>({eventName:"mousedown",fn:function(w){if(w.defaultPrevented||w.button!==r2||w.ctrlKey||w.metaKey||w.shiftKey||w.altKey)return;const S=t.findClosestDraggableId(w);if(!S)return;const T=t.tryGetLock(S,f,{sourceEvent:w});if(!T)return;w.preventDefault();const M={x:w.clientX,y:w.clientY};a.current(),y(T,M)}}),[t]),u=ce(()=>({eventName:"webkitmouseforcewillbegin",fn:_=>{if(_.defaultPrevented)return;const w=t.findClosestDraggableId(_);if(!w)return;const S=t.findOptionsForDraggable(w);S&&(S.shouldRespectForcePress||t.canGetLock(w)&&_.preventDefault())}}),[t]),d=$t(function(){const w={passive:!1,capture:!0};a.current=Pr(window,[u,s],w)},[u,s]),f=$t(()=>{r.current.type!=="IDLE"&&(r.current=Vv,a.current(),d())},[d]),p=$t(()=>{const _=r.current;f(),_.type==="DRAGGING"&&_.actions.cancel({shouldBlockNextClick:!0}),_.type==="PENDING"&&_.actions.abort()},[f]),g=$t(function(){const w={capture:!0,passive:!1},S=$A({cancel:p,completed:f,getPhase:()=>r.current,setPhase:T=>{r.current=T}});a.current=Pr(window,S,w)},[p,f]),y=$t(function(w,S){r.current.type!=="IDLE"&&At(),r.current={type:"PENDING",point:S,actions:w},g()},[g]);vr(function(){return d(),function(){a.current()}},[d])}function UA(){}const GA={[kA]:!0,[jA]:!0,[CA]:!0,[OA]:!0};function ZA(t,r){function a(){r(),t.cancel()}function s(){r(),t.drop()}return[{eventName:"keydown",fn:u=>{if(u.keyCode===Yp){u.preventDefault(),a();return}if(u.keyCode===e2){u.preventDefault(),s();return}if(u.keyCode===PA){u.preventDefault(),t.moveDown();return}if(u.keyCode===BA){u.preventDefault(),t.moveUp();return}if(u.keyCode===RA){u.preventDefault(),t.moveRight();return}if(u.keyCode===LA){u.preventDefault(),t.moveLeft();return}if(GA[u.keyCode]){u.preventDefault();return}n2(u)}},{eventName:"mousedown",fn:a},{eventName:"mouseup",fn:a},{eventName:"click",fn:a},{eventName:"touchstart",fn:a},{eventName:"resize",fn:a},{eventName:"wheel",fn:a,options:{passive:!0}},{eventName:Wf,fn:a}]}function YA(t){const r=O.useRef(UA),a=ce(()=>({eventName:"keydown",fn:function(d){if(d.defaultPrevented||d.keyCode!==e2)return;const f=t.findClosestDraggableId(d);if(!f)return;const p=t.tryGetLock(f,_,{sourceEvent:d});if(!p)return;d.preventDefault();let g=!0;const y=p.snapLift();r.current();function _(){g||At(),g=!1,r.current(),s()}r.current=Pr(window,ZA(y,_),{capture:!0,passive:!1})}}),[t]),s=$t(function(){const d={passive:!1,capture:!0};r.current=Pr(window,[a],d)},[a]);vr(function(){return s(),function(){r.current()}},[s])}const g0={type:"IDLE"},qA=120,FA=.15;function VA({cancel:t,getPhase:r}){return[{eventName:"orientationchange",fn:t},{eventName:"resize",fn:t},{eventName:"contextmenu",fn:a=>{a.preventDefault()}},{eventName:"keydown",fn:a=>{if(r().type!=="DRAGGING"){t();return}a.keyCode===Yp&&a.preventDefault(),t()}},{eventName:Wf,fn:t}]}function KA({cancel:t,completed:r,getPhase:a}){return[{eventName:"touchmove",options:{capture:!1},fn:s=>{const u=a();if(u.type!=="DRAGGING"){t();return}u.hasMoved=!0;const{clientX:d,clientY:f}=s.touches[0],p={x:d,y:f};s.preventDefault(),u.actions.move(p)}},{eventName:"touchend",fn:s=>{const u=a();if(u.type!=="DRAGGING"){t();return}s.preventDefault(),u.actions.drop({shouldBlockNextClick:!0}),r()}},{eventName:"touchcancel",fn:s=>{if(a().type!=="DRAGGING"){t();return}s.preventDefault(),t()}},{eventName:"touchforcechange",fn:s=>{const u=a();u.type==="IDLE"&&At();const d=s.touches[0];if(!d||!(d.force>=FA))return;const p=u.actions.shouldRespectForcePress();if(u.type==="PENDING"){p&&t();return}if(p){if(u.hasMoved){s.preventDefault();return}t();return}s.preventDefault()}},{eventName:Wf,fn:t}]}function XA(t){const r=O.useRef(g0),a=O.useRef(Xa),s=$t(function(){return r.current},[]),u=$t(function(T){r.current=T},[]),d=ce(()=>({eventName:"touchstart",fn:function(T){if(T.defaultPrevented)return;const M=t.findClosestDraggableId(T);if(!M)return;const D=t.tryGetLock(M,p,{sourceEvent:T});if(!D)return;const A=T.touches[0],{clientX:z,clientY:H}=A,k={x:z,y:H};a.current(),w(D,k)}}),[t]),f=$t(function(){const T={capture:!0,passive:!1};a.current=Pr(window,[d],T)},[d]),p=$t(()=>{const S=r.current;S.type!=="IDLE"&&(S.type==="PENDING"&&clearTimeout(S.longPressTimerId),u(g0),a.current(),f())},[f,u]),g=$t(()=>{const S=r.current;p(),S.type==="DRAGGING"&&S.actions.cancel({shouldBlockNextClick:!0}),S.type==="PENDING"&&S.actions.abort()},[p]),y=$t(function(){const T={capture:!0,passive:!1},M={cancel:g,completed:p,getPhase:s},D=Pr(window,KA(M),T),A=Pr(window,VA(M),T);a.current=function(){D(),A()}},[g,s,p]),_=$t(function(){const T=s();T.type!=="PENDING"&&At();const M=T.actions.fluidLift(T.point);u({type:"DRAGGING",actions:M,hasMoved:!1})},[s,u]),w=$t(function(T,M){s().type!=="IDLE"&&At();const D=setTimeout(_,qA);u({type:"PENDING",point:M,actions:T,longPressTimerId:D}),y()},[y,s,u,_]);vr(function(){return f(),function(){a.current();const M=s();M.type==="PENDING"&&(clearTimeout(M.longPressTimerId),u(g0))}},[s,f,u]),vr(function(){return Pr(window,[{eventName:"touchmove",fn:()=>{},options:{capture:!1,passive:!1}}])},[])}const WA=["input","button","textarea","select","option","optgroup","video","audio"];function i2(t,r){if(r==null)return!1;if(WA.includes(r.tagName.toLowerCase()))return!0;const s=r.getAttribute("contenteditable");return s==="true"||s===""?!0:r===t?!1:i2(t,r.parentElement)}function QA(t,r){const a=r.target;return Kf(a)?i2(t,a):!1}var JA=t=>ni(t.getBoundingClientRect()).center;function tD(t){return t instanceof J1(t).Element}const eD=(()=>{const t="matches";return typeof document>"u"?t:[t,"msMatchesSelector","webkitMatchesSelector"].find(s=>s in Element.prototype)||t})();function a2(t,r){return t==null?null:t[eD](r)?t:a2(t.parentElement,r)}function nD(t,r){return t.closest?t.closest(r):a2(t,r)}function rD(t){return`[${Ks.contextId}="${t}"]`}function iD(t,r){const a=r.target;if(!tD(a))return null;const s=rD(t),u=nD(a,s);return!u||!Kf(u)?null:u}function aD(t,r){const a=iD(t,r);return a?a.getAttribute(Ks.draggableId):null}function oD(t,r){const a=`[${up.contextId}="${t}"]`,u=Q1(document,a).find(d=>d.getAttribute(up.id)===r);return!u||!Kf(u)?null:u}function sD(t){t.preventDefault()}function Ed({expected:t,phase:r,isLockActive:a,shouldWarn:s}){return!(!a()||t!==r)}function o2({lockAPI:t,store:r,registry:a,draggableId:s}){if(t.isClaimed())return!1;const u=a.draggable.findById(s);return!(!u||!u.options.isEnabled||!V1(r.getState(),s))}function lD({lockAPI:t,contextId:r,store:a,registry:s,draggableId:u,forceSensorStop:d,sourceEvent:f}){if(!o2({lockAPI:t,store:a,registry:s,draggableId:u}))return null;const g=s.draggable.getById(u),y=oD(r,g.descriptor.id);if(!y||f&&!g.options.canDragInteractiveElements&&QA(y,f))return null;const _=t.claim(d||Xa);let w="PRE_DRAG";function S(){return g.options.shouldRespectForcePress}function T(){return t.isActive(_)}function M(C,q){Ed({expected:C,phase:w,isLockActive:T,shouldWarn:!0})&&a.dispatch(q())}const D=M.bind(null,"DRAGGING");function A(C){function q(){t.release(),w="COMPLETED"}w!=="PRE_DRAG"&&(q(),At()),a.dispatch(nN(C.liftActionArgs)),w="DRAGGING";function et(st,W={shouldBlockNextClick:!1}){if(C.cleanup(),W.shouldBlockNextClick){const Q=Pr(window,[{eventName:"click",fn:sD,options:{once:!0,passive:!1,capture:!0}}]);setTimeout(Q)}q(),a.dispatch($1({reason:st}))}return{isActive:()=>Ed({expected:"DRAGGING",phase:w,isLockActive:T,shouldWarn:!1}),shouldRespectForcePress:S,drop:st=>et("DROP",st),cancel:st=>et("CANCEL",st),...C.actions}}function z(C){const q=jc(st=>{D(()=>H1({client:st}))});return{...A({liftActionArgs:{id:u,clientSelection:C,movementMode:"FLUID"},cleanup:()=>q.cancel(),actions:{move:q}}),move:q}}function H(){const C={moveUp:()=>D(dN),moveRight:()=>D(hN),moveDown:()=>D(fN),moveLeft:()=>D(mN)};return A({liftActionArgs:{id:u,clientSelection:JA(y),movementMode:"SNAP"},cleanup:Xa,actions:C})}function k(){Ed({expected:"PRE_DRAG",phase:w,isLockActive:T,shouldWarn:!0})&&t.release()}return{isActive:()=>Ed({expected:"PRE_DRAG",phase:w,isLockActive:T,shouldWarn:!1}),shouldRespectForcePress:S,fluidLift:z,snapLift:H,abort:k}}const cD=[IA,YA,XA];function uD({contextId:t,store:r,registry:a,customSensors:s,enableDefaultSensors:u}){const d=[...u?cD:[],...s||[]],f=O.useState(()=>NA())[0],p=$t(function(A,z){Rc(A)&&!Rc(z)&&f.tryAbandon()},[f]);vr(function(){let A=r.getState();return r.subscribe(()=>{const H=r.getState();p(A,H),A=H})},[f,r,p]),vr(()=>f.tryAbandon,[f.tryAbandon]);const g=$t(D=>o2({lockAPI:f,registry:a,store:r,draggableId:D}),[f,a,r]),y=$t((D,A,z)=>lD({lockAPI:f,registry:a,contextId:t,store:r,draggableId:D,forceSensorStop:A||null,sourceEvent:z&&z.sourceEvent?z.sourceEvent:null}),[t,f,a,r]),_=$t(D=>aD(t,D),[t]),w=$t(D=>{const A=a.draggable.findById(D);return A?A.options:null},[a.draggable]),S=$t(function(){f.isClaimed()&&(f.tryAbandon(),r.getState().phase!=="IDLE"&&r.dispatch(Rp()))},[f,r]),T=$t(()=>f.isClaimed(),[f]),M=ce(()=>({canGetLock:g,tryGetLock:y,findClosestDraggableId:_,findOptionsForDraggable:w,tryReleaseLock:S,isLockClaimed:T}),[g,y,_,w,S,T]);for(let D=0;D<d.length;D++)d[D](M)}const dD=t=>({onBeforeCapture:r=>{const a=()=>{t.onBeforeCapture&&t.onBeforeCapture(r)};Gc.flushSync(a)},onBeforeDragStart:t.onBeforeDragStart,onDragStart:t.onDragStart,onDragEnd:t.onDragEnd,onDragUpdate:t.onDragUpdate}),fD=t=>({...Bc,...t.autoScrollerOptions,durationDampening:{...Bc.durationDampening,...t.autoScrollerOptions}});function mc(t){return t.current||At(),t.current}function hD(t){const{contextId:r,setCallbacks:a,sensors:s,nonce:u,dragHandleUsageInstructions:d}=t,f=O.useRef(null),p=t2(t),g=$t(()=>dD(p.current),[p]),y=$t(()=>fD(p.current),[p]),_=wA(r),w=MA({contextId:r,text:d}),S=gA(r,u),T=$t(Q=>{mc(f).dispatch(Q)},[]),M=ce(()=>xv({publishWhileDragging:iN,updateDroppableScroll:oN,updateDroppableIsEnabled:sN,updateDroppableIsCombineEnabled:lN,collectionStarting:aN},T),[T]),D=xA(),A=ce(()=>VN(D,M),[D,M]),z=ce(()=>dA({scrollWindow:KN,scrollDroppable:A.scrollDroppable,getAutoScrollerOptions:y,...xv({move:H1},T)}),[A.scrollDroppable,T,y]),H=yA(r),k=ce(()=>ZN({announce:_,autoScroller:z,dimensionMarshal:A,focusMarshal:H,getResponders:g,styleMarshal:S}),[_,z,A,H,g,S]);f.current=k;const B=$t(()=>{const Q=mc(f);Q.getState().phase!=="IDLE"&&Q.dispatch(Rp())},[]),C=$t(()=>{const Q=mc(f).getState();return Q.phase==="DROP_ANIMATING"?!0:Q.phase==="IDLE"?!1:Q.isDragging},[]),q=ce(()=>({isDragging:C,tryAbort:B}),[C,B]);a(q);const et=$t(Q=>V1(mc(f).getState(),Q),[]),st=$t(()=>Ho(mc(f).getState()),[]),W=ce(()=>({marshal:A,focus:H,contextId:r,canLift:et,isMovementAllowed:st,dragHandleUsageInstructionsId:w,registry:D}),[r,A,w,H,et,st,D]);return uD({contextId:r,store:k,registry:D,customSensors:s||null,enableDefaultSensors:t.enableDefaultSensors!==!1}),O.useEffect(()=>B,[B]),Le.createElement(Xf.Provider,{value:W},Le.createElement(zM,{context:Gp,store:k},t.children))}function mD(){return Le.useId()}function qc(t){const r=mD(),a=t.dragHandleUsageInstructions||of.dragHandleUsageInstructions;return Le.createElement(YM,null,s=>Le.createElement(hD,{nonce:t.nonce,contextId:r,setCallbacks:s,dragHandleUsageInstructions:a,enableDefaultSensors:t.enableDefaultSensors,sensors:t.sensors,onBeforeCapture:t.onBeforeCapture,onBeforeDragStart:t.onBeforeDragStart,onDragStart:t.onDragStart,onDragUpdate:t.onDragUpdate,onDragEnd:t.onDragEnd,autoScrollerOptions:t.autoScrollerOptions},t.children))}const Kv={dragging:5e3,dropAnimating:4500},pD=(t,r)=>r?Ac.drop(r.duration):t?Ac.snap:Ac.fluid,gD=(t,r)=>{if(t)return r?Lc.opacity.drop:Lc.opacity.combining},bD=t=>t.forceShouldAnimate!=null?t.forceShouldAnimate:t.mode==="SNAP";function yD(t){const a=t.dimension.client,{offset:s,combineWith:u,dropping:d}=t,f=!!u,p=bD(t),g=!!d,y=g?lp.drop(s,f):lp.moveTo(s);return{position:"fixed",top:a.marginBox.top,left:a.marginBox.left,boxSizing:"border-box",width:a.borderBox.width,height:a.borderBox.height,transition:pD(p,d),transform:y,opacity:gD(f,g),zIndex:g?Kv.dropAnimating:Kv.dragging,pointerEvents:"none"}}function vD(t){return{transform:lp.moveTo(t.offset),transition:t.shouldAnimateDisplacement?void 0:"none"}}function xD(t){return t.type==="DRAGGING"?yD(t):vD(t)}function _D(t,r,a=mn){const s=window.getComputedStyle(r),u=r.getBoundingClientRect(),d=h1(u,s),f=ff(d,a),p={client:d,tagName:r.tagName.toLowerCase(),display:s.display},g={x:d.marginBox.width,y:d.marginBox.height};return{descriptor:t,placeholder:p,displaceBy:g,client:d,page:f}}function SD(t){const r=Zp("draggable"),{descriptor:a,registry:s,getDraggableRef:u,canDragInteractiveElements:d,shouldRespectForcePress:f,isEnabled:p}=t,g=ce(()=>({canDragInteractiveElements:d,shouldRespectForcePress:f,isEnabled:p}),[d,p,f]),y=$t(T=>{const M=u();return M||At(),_D(a,M,T)},[a,u]),_=ce(()=>({uniqueId:r,descriptor:a,options:g,getDimension:y}),[a,y,g,r]),w=O.useRef(_),S=O.useRef(!0);vr(()=>(s.draggable.register(w.current),()=>s.draggable.unregister(w.current)),[s.draggable]),vr(()=>{if(S.current){S.current=!1;return}const T=w.current;w.current=_,s.draggable.update(_,T)},[_,s.draggable])}var qp=Le.createContext(null);function yf(t){const r=O.useContext(t);return r||At(),r}function wD(t){t.preventDefault()}const TD=t=>{const r=O.useRef(null),a=$t((q=null)=>{r.current=q},[]),s=$t(()=>r.current,[]),{contextId:u,dragHandleUsageInstructionsId:d,registry:f}=yf(Xf),{type:p,droppableId:g}=yf(qp),y=ce(()=>({id:t.draggableId,index:t.index,type:p,droppableId:g}),[t.draggableId,t.index,p,g]),{children:_,draggableId:w,isEnabled:S,shouldRespectForcePress:T,canDragInteractiveElements:M,isClone:D,mapped:A,dropAnimationFinished:z}=t;if(!D){const q=ce(()=>({descriptor:y,registry:f,getDraggableRef:s,canDragInteractiveElements:M,shouldRespectForcePress:T,isEnabled:S}),[y,f,s,M,T,S]);SD(q)}const H=ce(()=>S?{tabIndex:0,role:"button","aria-describedby":d,"data-rfd-drag-handle-draggable-id":w,"data-rfd-drag-handle-context-id":u,draggable:!1,onDragStart:wD}:null,[u,d,w,S]),k=$t(q=>{A.type==="DRAGGING"&&A.dropping&&q.propertyName==="transform"&&Gc.flushSync(z)},[z,A]),B=ce(()=>{const q=xD(A),et=A.type==="DRAGGING"&&A.dropping?k:void 0;return{innerRef:a,draggableProps:{"data-rfd-draggable-context-id":u,"data-rfd-draggable-id":w,style:q,onTransitionEnd:et},dragHandleProps:H}},[u,H,w,A,k,a]),C=ce(()=>({draggableId:y.id,type:y.type,source:{index:y.index,droppableId:y.droppableId}}),[y.droppableId,y.id,y.index,y.type]);return Le.createElement(Le.Fragment,null,_(B,A.snapshot,C))};var s2=(t,r)=>t===r,l2=t=>{const{combine:r,destination:a}=t;return a?a.droppableId:r?r.droppableId:null};const ED=t=>t.combine?t.combine.draggableId:null,MD=t=>t.at&&t.at.type==="COMBINE"?t.at.combine.draggableId:null;function ND(){const t=hn((u,d)=>({x:u,y:d})),r=hn((u,d,f=null,p=null,g=null)=>({isDragging:!0,isClone:d,isDropAnimating:!!g,dropAnimation:g,mode:u,draggingOver:f,combineWith:p,combineTargetFor:null})),a=hn((u,d,f,p,g=null,y=null,_=null)=>({mapped:{type:"DRAGGING",dropping:null,draggingOver:g,combineWith:y,mode:d,offset:u,dimension:f,forceShouldAnimate:_,snapshot:r(d,p,g,y,null)}}));return(u,d)=>{if(Rc(u)){if(u.critical.draggable.id!==d.draggableId)return null;const f=u.current.client.offset,p=u.dimensions.draggables[d.draggableId],g=yr(u.impact),y=MD(u.impact),_=u.forceShouldAnimate;return a(t(f.x,f.y),u.movementMode,p,d.isClone,g,y,_)}if(u.phase==="DROP_ANIMATING"){const f=u.completed;if(f.result.draggableId!==d.draggableId)return null;const p=d.isClone,g=u.dimensions.draggables[d.draggableId],y=f.result,_=y.mode,w=l2(y),S=ED(y),M={duration:u.dropDuration,curve:zp.drop,moveTo:u.newHomeClientOffset,opacity:S?Lc.opacity.drop:null,scale:S?Lc.scale.drop:null};return{mapped:{type:"DRAGGING",offset:u.newHomeClientOffset,dimension:g,dropping:M,draggingOver:w,combineWith:S,mode:_,forceShouldAnimate:null,snapshot:r(_,p,w,S,M)}}}return null}}function c2(t=null){return{isDragging:!1,isDropAnimating:!1,isClone:!1,dropAnimation:null,mode:null,draggingOver:null,combineTargetFor:t,combineWith:null}}const AD={mapped:{type:"SECONDARY",offset:mn,combineTargetFor:null,shouldAnimateDisplacement:!0,snapshot:c2(null)}};function DD(){const t=hn((f,p)=>({x:f,y:p})),r=hn(c2),a=hn((f,p=null,g)=>({mapped:{type:"SECONDARY",offset:f,combineTargetFor:p,shouldAnimateDisplacement:g,snapshot:r(p)}})),s=f=>f?a(mn,f,!0):null,u=(f,p,g,y)=>{const _=g.displaced.visible[f],w=!!(y.inVirtualList&&y.effected[f]),S=qf(g),T=S&&S.draggableId===f?p:null;if(!_){if(!w)return s(T);if(g.displaced.invisible[f])return null;const A=el(y.displacedBy.point),z=t(A.x,A.y);return a(z,T,!0)}if(w)return s(T);const M=g.displacedBy.point,D=t(M.x,M.y);return a(D,T,_.shouldAnimate)};return(f,p)=>{if(Rc(f))return f.critical.draggable.id===p.draggableId?null:u(p.draggableId,f.critical.draggable.id,f.impact,f.afterCritical);if(f.phase==="DROP_ANIMATING"){const g=f.completed;return g.result.draggableId===p.draggableId?null:u(p.draggableId,g.result.draggableId,g.impact,g.afterCritical)}return null}}const jD=()=>{const t=ND(),r=DD();return(s,u)=>t(s,u)||r(s,u)||AD},kD={dropAnimationFinished:I1},OD=f1(jD,kD,null,{context:Gp,areStatePropsEqual:s2})(TD);function u2(t){return yf(qp).isUsingCloneFor===t.draggableId&&!t.isClone?null:Le.createElement(OD,t)}function Xs(t){const r=typeof t.isDragDisabled=="boolean"?!t.isDragDisabled:!0,a=!!t.disableInteractiveElementBlocking,s=!!t.shouldRespectForcePress;return Le.createElement(u2,hf({},t,{isClone:!1,isEnabled:r,canDragInteractiveElements:a,shouldRespectForcePress:s}))}const d2=t=>r=>t===r,CD=d2("scroll"),LD=d2("auto"),Xv=(t,r)=>r(t.overflowX)||r(t.overflowY),BD=t=>{const r=window.getComputedStyle(t),a={overflowX:r.overflowX,overflowY:r.overflowY};return Xv(a,CD)||Xv(a,LD)},RD=()=>!1,f2=t=>t==null?null:t===document.body?RD()?t:null:t===document.documentElement?null:BD(t)?t:f2(t.parentElement);var dp=t=>({x:t.scrollLeft,y:t.scrollTop});const h2=t=>t?window.getComputedStyle(t).position==="fixed"?!0:h2(t.parentElement):!1;var PD=t=>{const r=f2(t),a=h2(t);return{closestScrollable:r,isFixedOnPage:a}},zD=({descriptor:t,isEnabled:r,isCombineEnabled:a,isFixedOnPage:s,direction:u,client:d,page:f,closest:p})=>{const g=(()=>{if(!p)return null;const{scrollSize:S,client:T}=p,M=Y1({scrollHeight:S.scrollHeight,scrollWidth:S.scrollWidth,height:T.paddingBox.height,width:T.paddingBox.width});return{pageMarginBox:p.page.marginBox,frameClient:T,scrollSize:S,shouldClipSubject:p.shouldClipSubject,scroll:{initial:p.scroll,current:p.scroll,max:M,diff:{value:mn,displacement:mn}}}})(),y=u==="vertical"?kp:T1,_=Fs({page:f,withPlaceholder:null,axis:y,frame:g});return{descriptor:t,isCombineEnabled:a,isFixedOnPage:s,axis:y,isEnabled:r,client:d,page:f,frame:g,subject:_}};const HD=(t,r)=>{const a=m1(t);if(!r||t!==r)return a;const s=a.paddingBox.top-r.scrollTop,u=a.paddingBox.left-r.scrollLeft,d=s+r.scrollHeight,f=u+r.scrollWidth,g=Np({top:s,right:f,bottom:d,left:u},a.border);return Ap({borderBox:g,margin:a.margin,border:a.border,padding:a.padding})};var $D=({ref:t,descriptor:r,env:a,windowScroll:s,direction:u,isDropDisabled:d,isCombineEnabled:f,shouldClipSubject:p})=>{const g=a.closestScrollable,y=HD(t,g),_=ff(y,s),w=(()=>{if(!g)return null;const T=m1(g),M={scrollHeight:g.scrollHeight,scrollWidth:g.scrollWidth};return{client:T,page:ff(T,s),scroll:dp(g),scrollSize:M,shouldClipSubject:p}})();return zD({descriptor:r,isEnabled:!d,isCombineEnabled:f,isFixedOnPage:a.isFixedOnPage,direction:u,client:y,page:_,closest:w})};const ID={passive:!1},UD={passive:!0};var Wv=t=>t.shouldPublishImmediately?ID:UD;const Md=t=>t&&t.env.closestScrollable||null;function GD(t){const r=O.useRef(null),a=yf(Xf),s=Zp("droppable"),{registry:u,marshal:d}=a,f=t2(t),p=ce(()=>({id:t.droppableId,type:t.type,mode:t.mode}),[t.droppableId,t.mode,t.type]),g=O.useRef(p),y=ce(()=>hn((B,C)=>{r.current||At();const q={x:B,y:C};d.updateDroppableScroll(p.id,q)}),[p.id,d]),_=$t(()=>{const B=r.current;return!B||!B.env.closestScrollable?mn:dp(B.env.closestScrollable)},[]),w=$t(()=>{const B=_();y(B.x,B.y)},[_,y]),S=ce(()=>jc(w),[w]),T=$t(()=>{const B=r.current,C=Md(B);if(B&&C||At(),B.scrollOptions.shouldPublishImmediately){w();return}S()},[S,w]),M=$t((B,C)=>{r.current&&At();const q=f.current,et=q.getDroppableRef();et||At();const st=PD(et),W={ref:et,descriptor:p,env:st,scrollOptions:C};r.current=W;const Q=$D({ref:et,descriptor:p,env:st,windowScroll:B,direction:q.direction,isDropDisabled:q.isDropDisabled,isCombineEnabled:q.isCombineEnabled,shouldClipSubject:!q.ignoreContainerClipping}),F=st.closestScrollable;return F&&(F.setAttribute(Yv.contextId,a.contextId),F.addEventListener("scroll",T,Wv(W.scrollOptions))),Q},[a.contextId,p,T,f]),D=$t(()=>{const B=r.current,C=Md(B);return B&&C||At(),dp(C)},[]),A=$t(()=>{const B=r.current;B||At();const C=Md(B);r.current=null,C&&(S.cancel(),C.removeAttribute(Yv.contextId),C.removeEventListener("scroll",T,Wv(B.scrollOptions)))},[T,S]),z=$t(B=>{const C=r.current;C||At();const q=Md(C);q||At(),q.scrollTop+=B.y,q.scrollLeft+=B.x},[]),H=ce(()=>({getDimensionAndWatchScroll:M,getScrollWhileDragging:D,dragStopped:A,scroll:z}),[A,M,D,z]),k=ce(()=>({uniqueId:s,descriptor:p,callbacks:H}),[H,p,s]);vr(()=>(g.current=k.descriptor,u.droppable.register(k),()=>{r.current&&A(),u.droppable.unregister(k)}),[H,p,A,k,d,u.droppable]),vr(()=>{r.current&&d.updateDroppableIsEnabled(g.current.id,!t.isDropDisabled)},[t.isDropDisabled,d]),vr(()=>{r.current&&d.updateDroppableIsCombineEnabled(g.current.id,t.isCombineEnabled)},[t.isCombineEnabled,d])}function b0(){}const Qv={width:0,height:0,margin:QM},ZD=({isAnimatingOpenOnMount:t,placeholder:r,animate:a})=>t||a==="close"?Qv:{height:r.client.borderBox.height,width:r.client.borderBox.width,margin:r.client.margin},YD=({isAnimatingOpenOnMount:t,placeholder:r,animate:a})=>{const s=ZD({isAnimatingOpenOnMount:t,placeholder:r,animate:a});return{display:r.display,boxSizing:"border-box",width:s.width,height:s.height,marginTop:s.margin.top,marginRight:s.margin.right,marginBottom:s.margin.bottom,marginLeft:s.margin.left,flexShrink:"0",flexGrow:"0",pointerEvents:"none",transition:a!=="none"?Ac.placeholder:null}},qD=t=>{const r=O.useRef(null),a=$t(()=>{r.current&&(clearTimeout(r.current),r.current=null)},[]),{animate:s,onTransitionEnd:u,onClose:d,contextId:f}=t,[p,g]=O.useState(t.animate==="open");O.useEffect(()=>p?s!=="open"?(a(),g(!1),b0):r.current?b0:(r.current=setTimeout(()=>{r.current=null,g(!1)}),a):b0,[s,p,a]);const y=$t(w=>{w.propertyName==="height"&&(u(),s==="close"&&d())},[s,d,u]),_=YD({isAnimatingOpenOnMount:p,animate:t.animate,placeholder:t.placeholder});return Le.createElement(t.placeholder.tagName,{style:_,"data-rfd-placeholder-context-id":f,onTransitionEnd:y,ref:t.innerRef})};var FD=Le.memo(qD);class VD extends Le.PureComponent{constructor(...r){super(...r),this.state={isVisible:!!this.props.on,data:this.props.on,animate:this.props.shouldAnimate&&this.props.on?"open":"none"},this.onClose=()=>{this.state.animate==="close"&&this.setState({isVisible:!1})}}static getDerivedStateFromProps(r,a){return r.shouldAnimate?r.on?{isVisible:!0,data:r.on,animate:"open"}:a.isVisible?{isVisible:!0,data:a.data,animate:"close"}:{isVisible:!1,animate:"close",data:null}:{isVisible:!!r.on,data:r.on,animate:"none"}}render(){if(!this.state.isVisible)return null;const r={onClose:this.onClose,data:this.state.data,animate:this.state.animate};return this.props.children(r)}}const KD=t=>{const r=O.useContext(Xf);r||At();const{contextId:a,isMovementAllowed:s}=r,u=O.useRef(null),d=O.useRef(null),{children:f,droppableId:p,type:g,mode:y,direction:_,ignoreContainerClipping:w,isDropDisabled:S,isCombineEnabled:T,snapshot:M,useClone:D,updateViewportMaxScroll:A,getContainerForClone:z}=t,H=$t(()=>u.current,[]),k=$t((F=null)=>{u.current=F},[]);$t(()=>d.current,[]);const B=$t((F=null)=>{d.current=F},[]),C=$t(()=>{s()&&A({maxScroll:F1()})},[s,A]);GD({droppableId:p,type:g,mode:y,direction:_,isDropDisabled:S,isCombineEnabled:T,ignoreContainerClipping:w,getDroppableRef:H});const q=ce(()=>Le.createElement(VD,{on:t.placeholder,shouldAnimate:t.shouldAnimatePlaceholder},({onClose:F,data:G,animate:tt})=>Le.createElement(FD,{placeholder:G,onClose:F,innerRef:B,animate:tt,contextId:a,onTransitionEnd:C})),[a,C,t.placeholder,t.shouldAnimatePlaceholder,B]),et=ce(()=>({innerRef:k,placeholder:q,droppableProps:{"data-rfd-droppable-id":p,"data-rfd-droppable-context-id":a}}),[a,p,q,k]),st=D?D.dragging.draggableId:null,W=ce(()=>({droppableId:p,type:g,isUsingCloneFor:st}),[p,st,g]);function Q(){if(!D)return null;const{dragging:F,render:G}=D,tt=Le.createElement(u2,{draggableId:F.draggableId,index:F.source.index,isClone:!0,isEnabled:!0,shouldRespectForcePress:!1,canDragInteractiveElements:!0},(ht,it)=>G(ht,it,F));return PE.createPortal(tt,z())}return Le.createElement(qp.Provider,{value:W},f(et,M),Q())};function XD(){return document.body||At(),document.body}const Jv={mode:"standard",type:"DEFAULT",direction:"vertical",isDropDisabled:!1,isCombineEnabled:!1,ignoreContainerClipping:!1,renderClone:null,getContainerForClone:XD},m2=t=>{let r={...t},a;for(a in Jv)t[a]===void 0&&(r={...r,[a]:Jv[a]});return r},y0=(t,r)=>t===r.droppable.type,tx=(t,r)=>r.draggables[t.draggable.id],WD=()=>{const t={placeholder:null,shouldAnimatePlaceholder:!0,snapshot:{isDraggingOver:!1,draggingOverWith:null,draggingFromThisWith:null,isUsingPlaceholder:!1},useClone:null},r={...t,shouldAnimatePlaceholder:!1},a=hn(d=>({draggableId:d.id,type:d.type,source:{index:d.index,droppableId:d.droppableId}})),s=hn((d,f,p,g,y,_)=>{const w=y.descriptor.id;if(y.descriptor.droppableId===d){const M=_?{render:_,dragging:a(y.descriptor)}:null,D={isDraggingOver:p,draggingOverWith:p?w:null,draggingFromThisWith:w,isUsingPlaceholder:!0};return{placeholder:y.placeholder,shouldAnimatePlaceholder:!1,snapshot:D,useClone:M}}if(!f)return r;if(!g)return t;const T={isDraggingOver:p,draggingOverWith:w,draggingFromThisWith:null,isUsingPlaceholder:!0};return{placeholder:y.placeholder,shouldAnimatePlaceholder:!0,snapshot:T,useClone:null}});return(d,f)=>{const p=m2(f),g=p.droppableId,y=p.type,_=!p.isDropDisabled,w=p.renderClone;if(Rc(d)){const S=d.critical;if(!y0(y,S))return r;const T=tx(S,d.dimensions),M=yr(d.impact)===g;return s(g,_,M,M,T,w)}if(d.phase==="DROP_ANIMATING"){const S=d.completed;if(!y0(y,S.critical))return r;const T=tx(S.critical,d.dimensions);return s(g,_,l2(S.result)===g,yr(S.impact)===g,T,w)}if(d.phase==="IDLE"&&d.completed&&!d.shouldFlush){const S=d.completed;if(!y0(y,S.critical))return r;const T=yr(S.impact)===g,M=!!(S.impact.at&&S.impact.at.type==="COMBINE"),D=S.critical.droppable.id===g;return T?M?t:r:D?t:r}return r}},QD={updateViewportMaxScroll:uN},Io=f1(WD,QD,(t,r,a)=>({...m2(a),...t,...r}),{context:Gp,areStatePropsEqual:s2})(KD),il=Uc()(Sp((t,r)=>({currentId:null,setCurrent:a=>t({currentId:a}),list:[],add:a=>t({list:[a,...r().list]}),remove:a=>t({list:r().list.filter(s=>s.id!==a)}),update:(a,s)=>t({list:r().list.map(u=>u.id===a?{...u,...s}:u)}),reorder:a=>t({list:a})}),{name:"myeongsik-list",partialize:t=>({list:t.list.map(r=>({...r,dir:r.dir??"forward"}))}),merge:(t,r)=>{const a=t,s=u=>({...u,dir:u.dir??"forward",dateObj:u?.dateObj?new Date(u.dateObj):new Date,corrected:u?.corrected?new Date(u.corrected):new Date});return{...r,...a,list:Array.isArray(a.list)?a.list.map(s):[]}}})),JD=[{value:"본인",label:"본인 (1인지정만 가능)"},{value:"연인/배우자",label:"연인 / 배우자"},{value:"가족",label:"가족"},{value:"고객",label:"고객"},{value:"친구",label:"친구"},{value:"동료",label:"동료"},{value:"지인",label:"지인"}],p2=({value:t,onChange:r})=>{const[a,s]=O.useState(JD),[u,d]=O.useState(""),[f,p]=O.useState(!1),[g,y]=O.useState(""),[_,w]=O.useState(!1),{list:S}=il(),M=S.some(k=>k.relationship==="본인")?a.filter(k=>k.value!=="본인"):a;O.useEffect(()=>{t!==void 0&&d(t)},[t]);const D=k=>{const B=k.target.value;d(B),r?.(B),B==="기타입력"?p(!0):(p(!1),y(""))};O.useEffect(()=>{const k=localStorage.getItem("relationshipOptions");k&&s(JSON.parse(k))},[]),O.useEffect(()=>{localStorage.setItem("relationshipOptions",JSON.stringify(a))},[a]);const A=()=>{if(!g.trim())return;const k={value:g,label:g};s([...a,k]),d(g),y(""),p(!1)},z=k=>{s(a.filter(B=>B.value!==k)),u===k&&d("")},H=k=>{if(!k.destination)return;const B=Array.from(a),[C]=B.splice(k.source.index,1);B.splice(k.destination.index,0,C),s(B)};return b.jsxs(b.Fragment,{children:[b.jsxs("div",{className:"rel_set flex items-center gap-2",children:[b.jsxs("select",{name:"relationship",id:"relationship",value:u,onChange:D,children:[b.jsx("option",{value:"",hidden:!0,children:"관계선택"}),M.map(k=>b.jsx("option",{value:k.value,children:k.label},k.value)),b.jsx("option",{value:"기타입력",children:"기타입력"})]}),b.jsx("button",{type:"button",onClick:()=>w(!0),className:"btn_style",children:"관계수정"})]}),f&&!_&&b.jsxs("div",{className:"rel_set flex items-center mt-2 gap-2",children:[b.jsx("input",{type:"text",placeholder:"관계 기타입력",value:g,onChange:k=>y(k.target.value)}),b.jsx("button",{type:"button",onClick:A,className:"btn_style",children:"관계추가"})]}),_&&b.jsxs("div",{className:"p-3 border mt-2 rounded bg-gray-50 dark:bg-neutral-900",children:[b.jsx("h4",{className:"font-bold mb-2",children:"관계 수정"}),b.jsx(qc,{onDragEnd:H,children:b.jsx(Io,{droppableId:"relList",children:k=>b.jsxs("ul",{ref:k.innerRef,...k.droppableProps,className:"space-y-1",children:[a.map((B,C)=>b.jsx(Xs,{draggableId:B.value,index:C,children:q=>b.jsxs("li",{ref:q.innerRef,...q.draggableProps,...q.dragHandleProps,className:"flex justify-between items-center bg-white dark:bg-neutral-800 p-2 rounded border text-sm desk:text-base",children:[b.jsx("span",{className:"cursor-grab mr-2",children:"☰"}),b.jsx("span",{className:"flex-1 pr-1",children:B.label}),b.jsx("button",{type:"button",className:"text-red-500",onClick:()=>z(B.value),children:"삭제"})]})},B.value)),k.placeholder]})})}),b.jsx("button",{type:"button",onClick:()=>w(!1),className:"w-full btn_style mt-2",children:"닫기"})]})]})},t7={1948:{start:new Date(1948,4,1),end:new Date(1948,7,13)},1949:{start:new Date(1949,2,3),end:new Date(1949,7,11)},1950:{start:new Date(1950,2,1),end:new Date(1950,7,10)},1951:{start:new Date(1951,3,6),end:new Date(1951,7,9)},1955:{start:new Date(1955,3,5),end:new Date(1955,7,9)},1956:{start:new Date(1956,3,20),end:new Date(1956,7,30)},1957:{start:new Date(1957,3,5),end:new Date(1957,7,22)},1958:{start:new Date(1958,3,4),end:new Date(1958,7,21)},1959:{start:new Date(1959,3,3),end:new Date(1959,7,20)},1960:{start:new Date(1960,3,1),end:new Date(1960,7,18)},1987:{start:new Date(1987,3,10),end:new Date(1987,8,11)},1988:{start:new Date(1988,3,8),end:new Date(1988,8,9)}};function vf(t,r,a){const s=t7[t];if(!s)return!1;const u=new Date(t,r-1,a,0,0,0,0);return u>=s.start&&u<s.end}function e7(t){if(!isFinite(t.getTime()))return 0;const r=t.getUTCFullYear(),a=Date.UTC(r,0,1),u=Math.floor((t.getTime()-a)/864e5)+1,d=t.getUTCHours(),f=t.getUTCMinutes(),p=t.getUTCSeconds(),g=(d-12)/24+f/1440+p/86400,y=2*Math.PI/365*(u-1+g);return 229.18*(75e-6+.001868*Math.cos(y)-.032077*Math.sin(y)-.014615*Math.cos(2*y)-.040849*Math.sin(2*y))}function n7(t){return t=(t+540)%360-180,t>=124&&t<=132||t>=129&&t<=146?135:t>=73&&t<=135?120:t>=-161&&t<=-154?-150:t>=-170&&t<-161?-165:t>=-150&&t<-141?-135:t>=-141&&t<-126?-120:t>=-126&&t<-111?-105:t>=-111&&t<-96?-90:t>=-96&&t<-81?-75:Math.round(t/15)*15}function Zo(t,r,a=!1){const s=new Date(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),0,0);if(a)return new Date(s.getTime()-1800*1e3);if(r==null||!isFinite(r))return s;let u=r;Math.abs(u)<=Math.PI+1e-6&&(u=u*180/Math.PI),u=(u+540)%360-180;const d=n7(u),f=4*(u-d),p=e7(s);return new Date(s.getTime()+(f+p)*60*1e3)}const Ee="폴더 미지정",xf=["가족","친구","직장","지인","고객","기타"],_f="ms_folders",r7="ms_folder_order",i7="ms_folder_favs",g2="ms_disabled_presets";function a7(t){return!t||t==="미분류"?Ee:t}function Ws(t){if(!(!t||t===Ee||t==="미분류"))return t}function ex(){try{const t=localStorage.getItem(_f),r=localStorage.getItem(g2),a=t?JSON.parse(t):[],s=r?JSON.parse(r):[],u=xf.filter(d=>!s.includes(d));return[Ee,...u,...a]}catch{return[Ee,...xf]}}function o7(t){const r=t.trim();if(!(!r||r===Ee))try{const a=localStorage.getItem(_f),s=a?JSON.parse(a):[];if(!s.includes(r)){const u=[...s,r];localStorage.setItem(_f,JSON.stringify(u))}}catch{}}const Nd="folder.order.v1";function v0(t){return Array.from(new Set(t))}function pc(t){const r=t.filter(a=>a!==Ee);return{rest:r,withUnassigned:[Ee,...r]}}function nx(t,r){const a=new Set(r),s=t.filter(d=>a.has(d));return[...s,...r.filter(d=>!s.includes(d))]}function s7({value:t,onChange:r}){const[a,s]=O.useState([Ee]),[u,d]=O.useState(!1),[f,p]=O.useState(""),[g,y]=O.useState(!1);O.useEffect(()=>{const M=v0(ex()),D=M.includes(Ee)?v0(M):[Ee,...M],A=localStorage.getItem(Nd),z=A?JSON.parse(A):[],{rest:H}=pc(D),k=nx(z,H),B=[Ee,...k];s(B),JSON.stringify(z)!==JSON.stringify(k)&&localStorage.setItem(Nd,JSON.stringify(k))},[]);const _=O.useMemo(()=>t||Ee,[t]),w=M=>{const{rest:D}=pc(M);localStorage.setItem(Nd,JSON.stringify(D))},S=M=>{const{source:D,destination:A}=M;if(!A||A.index===D.index)return;const{rest:z}=pc(a),H=Array.from(z),[k]=H.splice(D.index,1);H.splice(A.index,0,k);const B=[Ee,...H];s(B),w(B)},T=M=>{o7(M);const D=v0(ex()),A=D.includes(Ee)?D:[Ee,...D],z=localStorage.getItem(Nd),H=z?JSON.parse(z):[],{rest:k}=pc(A),B=nx(H,k),C=[Ee,...B];s(C),w(C)};return b.jsxs("div",{className:"space-y-2",children:[b.jsxs("div",{className:"flex items-center gap-2",children:[b.jsxs("select",{className:"flex-1 border rounded-lg p-2",value:u?"__custom__":_,onChange:M=>{const D=M.target.value;if(D==="__custom__"){d(!0),r(void 0);return}d(!1),r(Ws(D))},children:[a.map(M=>b.jsx("option",{value:M,children:M},M)),b.jsx("option",{value:"__custom__",children:"+ 새 폴더 직접입력…"})]}),b.jsx("button",{type:"button",className:"px-3 py-2 rounded bg-neutral-200 hover:bg-neutral-300 dark:bg-neutral-800 dark:hover:bg-neutral-700 text-sm cursor-pointer",onClick:()=>y(M=>!M),children:g?"순서수정 닫기":"폴더 순서수정"})]}),u&&b.jsxs("div",{className:"flex items-center gap-2",children:[b.jsx("input",{type:"text",value:f,onChange:M=>p(M.target.value),placeholder:"새 폴더 이름",className:"flex-1 border rounded-lg p-2"}),b.jsx("button",{type:"button",className:"px-3 py-2 rounded bg-neutral-800 hover:bg-neutral-700 text-sm text-white",onClick:()=>{const M=f.trim();M&&(T(M),r(M),d(!1),p(""))},children:"추가"})]}),g&&b.jsxs("div",{className:"p-3 border rounded bg-neutral-50 dark:bg-neutral-900",children:[b.jsx("h4",{className:"font-bold mb-2 text-s",children:"폴더 순서 수정"}),b.jsxs("div",{className:"flex items-center justify-between bg-white dark:bg-neutral-800 p-2 rounded border text-sm mb-2",children:[b.jsx("span",{className:"opacity-60 select-none",children:"🔒"}),b.jsxs("span",{className:"flex-1 px-2",children:[Ee," (고정)"]})]}),b.jsx(qc,{onDragEnd:S,children:b.jsx(Io,{droppableId:"folderList",direction:"vertical",type:"FOLDER",children:M=>b.jsxs("ul",{ref:M.innerRef,...M.droppableProps,className:"space-y-1",children:[pc(a).rest.map((D,A)=>b.jsx(Xs,{draggableId:D,index:A,children:z=>b.jsxs("li",{ref:z.innerRef,...z.draggableProps,...z.dragHandleProps,className:"flex items-center justify-between bg-white dark:bg-neutral-800 p-2 rounded border text-sm",children:[b.jsx("span",{className:"cursor-grab select-none mr-2",children:"☰"}),b.jsx("span",{className:"flex-1 pr-1",children:D})]})},D)),M.placeholder]})})})]}),b.jsxs("p",{className:"text-xs text-gray-500",children:['폴더를 지정하지 않으려면 "',Ee,'"을 선택하세요. 직접입력으로 새 폴더를 만들 수 있어요.']})]})}function b2({message:t,onClose:r,ms:a=2e3}){return O.useEffect(()=>{const s=setTimeout(r,a);return()=>clearTimeout(s)},[r,a]),b.jsx("div",{className:"fixed top-4 left-1/2 -translate-x-1/2 bg-black text-white px-4 py-2 rounded-lg shadow-lg z-[9999]",children:t})}var sf={exports:{}},l7=sf.exports,rx;function c7(){return rx||(rx=1,(function(t,r){(function(a,s){t.exports=s()})(l7,function(){return(function(a){function s(d){if(u[d])return u[d].exports;var f=u[d]={i:d,l:!1,exports:{}};return a[d].call(f.exports,f,f.exports,s),f.l=!0,f.exports}var u={};return s.m=a,s.c=u,s.d=function(d,f,p){s.o(d,f)||Object.defineProperty(d,f,{configurable:!1,enumerable:!0,get:p})},s.n=function(d){var f=d&&d.__esModule?function(){return d.default}:function(){return d};return s.d(f,"a",f),f},s.o=function(d,f){return Object.prototype.hasOwnProperty.call(d,f)},s.p="",s(s.s=0)})([function(a,s,u){Object.defineProperty(s,"__esModule",{value:!0});var d=u(1),f=(function(p){return p&&p.__esModule?p:{default:p}})(d);s.default=f.default,a.exports=s.default},function(a,s,u){function d(tt){return tt&&tt.__esModule?tt:{default:tt}}Object.defineProperty(s,"__esModule",{value:!0});var f=u(2),p=d(f),g=u(3),y=d(g),_=u(4),w=d(_),S=u(5),T=d(S),M=u(6),D=d(M),A=u(7),z=d(A),H=u(8),k=d(H),B=u(9),C=d(B),q=u(10),et=d(q),st=u(11),W=d(st),Q=u(12),F=d(Q),G={lunarInfo:p.default,solarMonth:y.default,gan:w.default,zhi:T.default,animals:D.default,lunarTerm:z.default,lTermInfo:k.default,nStr1:C.default,nStr2:et.default,nStr3:W.default,nStr4:F.default,lYearDays:function(tt){var ht,it=348;for(ht=32768;ht>8;ht>>=1)it+=G.lunarInfo[tt-1900]&ht?1:0;return it+G.leapDays(tt)},leapMonth:function(tt){return 15&G.lunarInfo[tt-1900]},leapDays:function(tt){return G.leapMonth(tt)?65536&G.lunarInfo[tt-1900]?30:29:0},monthDays:function(tt,ht){return ht>12||ht<1?-1:G.lunarInfo[tt-1900]&65536>>ht?30:29},solarDays:function(tt,ht){if(ht>12||ht<1)return-1;var it=ht-1;return it==1?tt%4==0&&tt%100!=0||tt%400==0?29:28:G.solarMonth[it]},toGanZhi:function(tt){return G.gan[tt%10]+G.zhi[tt%12]},getTerm:function(tt,ht){if(tt<1900||tt>2100||ht<1||ht>24)return-1;var it=G.lTermInfo[tt-1900],Z=[parseInt("0x"+it.substr(0,5)).toString(),parseInt("0x"+it.substr(5,5)).toString(),parseInt("0x"+it.substr(10,5)).toString(),parseInt("0x"+it.substr(15,5)).toString(),parseInt("0x"+it.substr(20,5)).toString(),parseInt("0x"+it.substr(25,5)).toString()],rt=[Z[0].substr(0,1),Z[0].substr(1,2),Z[0].substr(3,1),Z[0].substr(4,2),Z[1].substr(0,1),Z[1].substr(1,2),Z[1].substr(3,1),Z[1].substr(4,2),Z[2].substr(0,1),Z[2].substr(1,2),Z[2].substr(3,1),Z[2].substr(4,2),Z[3].substr(0,1),Z[3].substr(1,2),Z[3].substr(3,1),Z[3].substr(4,2),Z[4].substr(0,1),Z[4].substr(1,2),Z[4].substr(3,1),Z[4].substr(4,2),Z[5].substr(0,1),Z[5].substr(1,2),Z[5].substr(3,1),Z[5].substr(4,2)];return parseInt(rt[ht-1])},toChinaYear:function(tt){var ht=parseInt(tt/1e3),it=parseInt(tt%1e3/100),Z=parseInt(tt%100/10),rt=tt%10;return G.nStr4[ht]+G.nStr4[it]+G.nStr4[Z]+G.nStr4[rt]+"年"},toChinaMonth:function(tt){if(tt>12||tt<1)return-1;var ht=G.nStr3[tt-1];return ht+="月"},toChinaDay:function(tt){var ht;switch(tt){case 10:ht="初十";break;case 20:ht="二十";break;case 30:ht="三十";break;default:ht=G.nStr2[Math.floor(tt/10)],ht+=G.nStr1[tt%10]}return ht},getAnimal:function(tt){return G.animals[(tt-4)%12]},solar2lunar:function(yt,j,$){if(yt<1900||yt>2100||yt==1900&&j==1&&$<31)return-1;if(yt)var Z=new Date(yt,parseInt(j)-1,$);else var Z=new Date;var rt,gt=0,ot=0,yt=Z.getFullYear(),j=Z.getMonth()+1,$=Z.getDate(),Y=(Date.UTC(Z.getFullYear(),Z.getMonth(),Z.getDate())-Date.UTC(1900,0,31))/864e5;for(rt=1900;rt<2101&&Y>0;rt++)ot=G.lYearDays(rt),Y-=ot;Y<0&&(Y+=ot,rt--);var J=new Date,V=!1;J.getFullYear()==yt&&J.getMonth()+1==j&&J.getDate()==$&&(V=!0);var I=Z.getDay(),U=G.nStr1[I];I==0&&(I=7);var dt=rt,gt=G.leapMonth(rt),Mt=!1;for(rt=1;rt<13&&Y>0;rt++)gt>0&&rt==gt+1&&Mt==0?(--rt,Mt=!0,ot=G.leapDays(dt)):ot=G.monthDays(dt,rt),Mt==1&&rt==gt+1&&(Mt=!1),Y-=ot;Y==0&&gt>0&&rt==gt+1&&(Mt?Mt=!1:(Mt=!0,--rt)),Y<0&&(Y+=ot,--rt);var Nt=rt,kt=Y+1,Dt=j-1,St=G.getTerm(yt,3),Ot=G.toGanZhi(yt-4),Ct=new Date(yt,1,St).getTime();new Date(yt,Dt,$).getTime()<Ct&&(Ot=G.toGanZhi(yt-5));var Kt=G.getTerm(yt,2*j-1),It=G.getTerm(yt,2*j),Wt=G.toGanZhi(12*(yt-1900)+j+11);$>=Kt&&(Wt=G.toGanZhi(12*(yt-1900)+j+12));var xt=!1,Rt="";Kt==$&&(xt=!0,Rt=G.lunarTerm[2*j-2]),It==$&&(xt=!0,Rt=G.lunarTerm[2*j-1]);var _t=Date.UTC(yt,Dt,1,0,0,0,0)/864e5+25567+10,de=G.toGanZhi(_t+$-1);return{lYear:dt,lMonth:Nt,lDay:kt,animal:G.getAnimal(dt),yearCn:G.toChinaYear(dt),monthCn:(Mt&&gt===Nt?"闰":"")+G.toChinaMonth(Nt),dayCn:G.toChinaDay(kt),cYear:yt,cMonth:j,cDay:$,gzYear:Ot,gzMonth:Wt,gzDay:de,isToday:V,isLeap:Mt,nWeek:I,ncWeek:"星期"+U,isTerm:xt,term:Rt}},lunar2solar:function(tt,ht,it,Z){var rt=G.leapMonth(tt);if(G.leapDays(tt),Z&&rt!=ht||tt==2100&&ht==12&&it>1||tt==1900&&ht==1&&it<31)return-1;var ot=G.monthDays(tt,ht);if(tt<1900||tt>2100||it>ot)return-1;for(var yt=0,j=1900;j<tt;j++)yt+=G.lYearDays(j);for(var $=0,Y=!1,j=1;j<ht;j++)$=G.leapMonth(tt),Y||$<=j&&$>0&&(yt+=G.leapDays(tt),Y=!0),yt+=G.monthDays(tt,j);Z&&(yt+=ot);var J=Date.UTC(1900,1,30,0,0,0),V=new Date(864e5*(yt+it-31)+J),I=V.getUTCFullYear(),U=V.getUTCMonth()+1,dt=V.getUTCDate();return G.solar2lunar(I,U,dt)}};s.default=G,a.exports=s.default},function(a,s,u){Object.defineProperty(s,"__esModule",{value:!0}),s.default=[19416,19168,42352,21717,53856,55632,91476,22176,39632,21970,19168,42422,42192,53840,119381,46400,54944,44450,38320,84343,18800,42160,46261,27216,27968,109396,11104,38256,21234,18800,25958,54432,59984,28309,23248,11104,100067,37600,116951,51536,54432,120998,46416,22176,107956,9680,37584,53938,43344,46423,27808,46416,86869,19872,42416,83315,21168,43432,59728,27296,44710,43856,19296,43748,42352,21088,62051,55632,23383,22176,38608,19925,19152,42192,54484,53840,54616,46400,46752,103846,38320,18864,43380,42160,45690,27216,27968,44870,43872,38256,19189,18800,25776,29859,59984,27480,23232,43872,38613,37600,51552,55636,54432,55888,30034,22176,43959,9680,37584,51893,43344,46240,47780,44368,21977,19360,42416,86390,21168,43312,31060,27296,44368,23378,19296,42726,42208,53856,60005,54576,23200,30371,38608,19195,19152,42192,118966,53840,54560,56645,46496,22224,21938,18864,42359,42160,43600,111189,27936,44448,84835,37744,18936,18800,25776,92326,59984,27424,108228,43744,37600,53987,51552,54615,54432,55888,23893,22176,42704,21972,21200,43448,43344,46240,46758,44368,21920,43940,42416,21168,45683,26928,29495,27296,44368,84821,19296,42352,21732,53600,59752,54560,55968,92838,22224,19168,43476,42192,53584,62034,54560],a.exports=s.default},function(a,s,u){Object.defineProperty(s,"__esModule",{value:!0}),s.default=[31,28,31,30,31,30,31,31,30,31,30,31],a.exports=s.default},function(a,s,u){Object.defineProperty(s,"__esModule",{value:!0}),s.default=["甲","乙","丙","丁","戊","己","庚","辛","壬","癸"],a.exports=s.default},function(a,s,u){Object.defineProperty(s,"__esModule",{value:!0}),s.default=["子","丑","寅","卯","辰","巳","午","未","申","酉","戌","亥"],a.exports=s.default},function(a,s,u){Object.defineProperty(s,"__esModule",{value:!0}),s.default=["鼠","牛","虎","兔","龙","蛇","马","羊","猴","鸡","狗","猪"],a.exports=s.default},function(a,s,u){Object.defineProperty(s,"__esModule",{value:!0}),s.default=["小寒","大寒","立春","雨水","惊蛰","春分","清明","谷雨","立夏","小满","芒种","夏至","小暑","大暑","立秋","处暑","白露","秋分","寒露","霜降","立冬","小雪","大雪","冬至"],a.exports=s.default},function(a,s,u){Object.defineProperty(s,"__esModule",{value:!0}),s.default=["9778397bd097c36b0b6fc9274c91aa","97b6b97bd19801ec9210c965cc920e","97bcf97c3598082c95f8c965cc920f","97bd0b06bdb0722c965ce1cfcc920f","b027097bd097c36b0b6fc9274c91aa","97b6b97bd19801ec9210c965cc920e","97bcf97c359801ec95f8c965cc920f","97bd0b06bdb0722c965ce1cfcc920f","b027097bd097c36b0b6fc9274c91aa","97b6b97bd19801ec9210c965cc920e","97bcf97c359801ec95f8c965cc920f","97bd0b06bdb0722c965ce1cfcc920f","b027097bd097c36b0b6fc9274c91aa","9778397bd19801ec9210c965cc920e","97b6b97bd19801ec95f8c965cc920f","97bd09801d98082c95f8e1cfcc920f","97bd097bd097c36b0b6fc9210c8dc2","9778397bd197c36c9210c9274c91aa","97b6b97bd19801ec95f8c965cc920e","97bd09801d98082c95f8e1cfcc920f","97bd097bd097c36b0b6fc9210c8dc2","9778397bd097c36c9210c9274c91aa","97b6b97bd19801ec95f8c965cc920e","97bcf97c3598082c95f8e1cfcc920f","97bd097bd097c36b0b6fc9210c8dc2","9778397bd097c36c9210c9274c91aa","97b6b97bd19801ec9210c965cc920e","97bcf97c3598082c95f8c965cc920f","97bd097bd097c35b0b6fc920fb0722","9778397bd097c36b0b6fc9274c91aa","97b6b97bd19801ec9210c965cc920e","97bcf97c3598082c95f8c965cc920f","97bd097bd097c35b0b6fc920fb0722","9778397bd097c36b0b6fc9274c91aa","97b6b97bd19801ec9210c965cc920e","97bcf97c359801ec95f8c965cc920f","97bd097bd097c35b0b6fc920fb0722","9778397bd097c36b0b6fc9274c91aa","97b6b97bd19801ec9210c965cc920e","97bcf97c359801ec95f8c965cc920f","97bd097bd097c35b0b6fc920fb0722","9778397bd097c36b0b6fc9274c91aa","97b6b97bd19801ec9210c965cc920e","97bcf97c359801ec95f8c965cc920f","97bd097bd07f595b0b6fc920fb0722","9778397bd097c36b0b6fc9210c8dc2","9778397bd19801ec9210c9274c920e","97b6b97bd19801ec95f8c965cc920f","97bd07f5307f595b0b0bc920fb0722","7f0e397bd097c36b0b6fc9210c8dc2","9778397bd097c36c9210c9274c920e","97b6b97bd19801ec95f8c965cc920f","97bd07f5307f595b0b0bc920fb0722","7f0e397bd097c36b0b6fc9210c8dc2","9778397bd097c36c9210c9274c91aa","97b6b97bd19801ec9210c965cc920e","97bd07f1487f595b0b0bc920fb0722","7f0e397bd097c36b0b6fc9210c8dc2","9778397bd097c36b0b6fc9274c91aa","97b6b97bd19801ec9210c965cc920e","97bcf7f1487f595b0b0bb0b6fb0722","7f0e397bd097c35b0b6fc920fb0722","9778397bd097c36b0b6fc9274c91aa","97b6b97bd19801ec9210c965cc920e","97bcf7f1487f595b0b0bb0b6fb0722","7f0e397bd097c35b0b6fc920fb0722","9778397bd097c36b0b6fc9274c91aa","97b6b97bd19801ec9210c965cc920e","97bcf7f1487f531b0b0bb0b6fb0722","7f0e397bd097c35b0b6fc920fb0722","9778397bd097c36b0b6fc9274c91aa","97b6b97bd19801ec9210c965cc920e","97bcf7f1487f531b0b0bb0b6fb0722","7f0e397bd07f595b0b6fc920fb0722","9778397bd097c36b0b6fc9274c91aa","97b6b97bd19801ec9210c9274c920e","97bcf7f0e47f531b0b0bb0b6fb0722","7f0e397bd07f595b0b0bc920fb0722","9778397bd097c36b0b6fc9210c91aa","97b6b97bd197c36c9210c9274c920e","97bcf7f0e47f531b0b0bb0b6fb0722","7f0e397bd07f595b0b0bc920fb0722","9778397bd097c36b0b6fc9210c8dc2","9778397bd097c36c9210c9274c920e","97b6b7f0e47f531b0723b0b6fb0722","7f0e37f5307f595b0b0bc920fb0722","7f0e397bd097c36b0b6fc9210c8dc2","9778397bd097c36b0b70c9274c91aa","97b6b7f0e47f531b0723b0b6fb0721","7f0e37f1487f595b0b0bb0b6fb0722","7f0e397bd097c35b0b6fc9210c8dc2","9778397bd097c36b0b6fc9274c91aa","97b6b7f0e47f531b0723b0b6fb0721","7f0e27f1487f595b0b0bb0b6fb0722","7f0e397bd097c35b0b6fc920fb0722","9778397bd097c36b0b6fc9274c91aa","97b6b7f0e47f531b0723b0b6fb0721","7f0e27f1487f531b0b0bb0b6fb0722","7f0e397bd097c35b0b6fc920fb0722","9778397bd097c36b0b6fc9274c91aa","97b6b7f0e47f531b0723b0b6fb0721","7f0e27f1487f531b0b0bb0b6fb0722","7f0e397bd097c35b0b6fc920fb0722","9778397bd097c36b0b6fc9274c91aa","97b6b7f0e47f531b0723b0b6fb0721","7f0e27f1487f531b0b0bb0b6fb0722","7f0e397bd07f595b0b0bc920fb0722","9778397bd097c36b0b6fc9274c91aa","97b6b7f0e47f531b0723b0787b0721","7f0e27f0e47f531b0b0bb0b6fb0722","7f0e397bd07f595b0b0bc920fb0722","9778397bd097c36b0b6fc9210c91aa","97b6b7f0e47f149b0723b0787b0721","7f0e27f0e47f531b0723b0b6fb0722","7f0e397bd07f595b0b0bc920fb0722","9778397bd097c36b0b6fc9210c8dc2","977837f0e37f149b0723b0787b0721","7f07e7f0e47f531b0723b0b6fb0722","7f0e37f5307f595b0b0bc920fb0722","7f0e397bd097c35b0b6fc9210c8dc2","977837f0e37f14998082b0787b0721","7f07e7f0e47f531b0723b0b6fb0721","7f0e37f1487f595b0b0bb0b6fb0722","7f0e397bd097c35b0b6fc9210c8dc2","977837f0e37f14998082b0787b06bd","7f07e7f0e47f531b0723b0b6fb0721","7f0e27f1487f531b0b0bb0b6fb0722","7f0e397bd097c35b0b6fc920fb0722","977837f0e37f14998082b0787b06bd","7f07e7f0e47f531b0723b0b6fb0721","7f0e27f1487f531b0b0bb0b6fb0722","7f0e397bd097c35b0b6fc920fb0722","977837f0e37f14998082b0787b06bd","7f07e7f0e47f531b0723b0b6fb0721","7f0e27f1487f531b0b0bb0b6fb0722","7f0e397bd07f595b0b0bc920fb0722","977837f0e37f14998082b0787b06bd","7f07e7f0e47f531b0723b0b6fb0721","7f0e27f1487f531b0b0bb0b6fb0722","7f0e397bd07f595b0b0bc920fb0722","977837f0e37f14998082b0787b06bd","7f07e7f0e47f149b0723b0787b0721","7f0e27f0e47f531b0b0bb0b6fb0722","7f0e397bd07f595b0b0bc920fb0722","977837f0e37f14998082b0723b06bd","7f07e7f0e37f149b0723b0787b0721","7f0e27f0e47f531b0723b0b6fb0722","7f0e397bd07f595b0b0bc920fb0722","977837f0e37f14898082b0723b02d5","7ec967f0e37f14998082b0787b0721","7f07e7f0e47f531b0723b0b6fb0722","7f0e37f1487f595b0b0bb0b6fb0722","7f0e37f0e37f14898082b0723b02d5","7ec967f0e37f14998082b0787b0721","7f07e7f0e47f531b0723b0b6fb0722","7f0e37f1487f531b0b0bb0b6fb0722","7f0e37f0e37f14898082b0723b02d5","7ec967f0e37f14998082b0787b06bd","7f07e7f0e47f531b0723b0b6fb0721","7f0e37f1487f531b0b0bb0b6fb0722","7f0e37f0e37f14898082b072297c35","7ec967f0e37f14998082b0787b06bd","7f07e7f0e47f531b0723b0b6fb0721","7f0e27f1487f531b0b0bb0b6fb0722","7f0e37f0e37f14898082b072297c35","7ec967f0e37f14998082b0787b06bd","7f07e7f0e47f531b0723b0b6fb0721","7f0e27f1487f531b0b0bb0b6fb0722","7f0e37f0e366aa89801eb072297c35","7ec967f0e37f14998082b0787b06bd","7f07e7f0e47f149b0723b0787b0721","7f0e27f1487f531b0b0bb0b6fb0722","7f0e37f0e366aa89801eb072297c35","7ec967f0e37f14998082b0723b06bd","7f07e7f0e47f149b0723b0787b0721","7f0e27f0e47f531b0723b0b6fb0722","7f0e37f0e366aa89801eb072297c35","7ec967f0e37f14998082b0723b06bd","7f07e7f0e37f14998083b0787b0721","7f0e27f0e47f531b0723b0b6fb0722","7f0e37f0e366aa89801eb072297c35","7ec967f0e37f14898082b0723b02d5","7f07e7f0e37f14998082b0787b0721","7f07e7f0e47f531b0723b0b6fb0722","7f0e36665b66aa89801e9808297c35","665f67f0e37f14898082b0723b02d5","7ec967f0e37f14998082b0787b0721","7f07e7f0e47f531b0723b0b6fb0722","7f0e36665b66a449801e9808297c35","665f67f0e37f14898082b0723b02d5","7ec967f0e37f14998082b0787b06bd","7f07e7f0e47f531b0723b0b6fb0721","7f0e36665b66a449801e9808297c35","665f67f0e37f14898082b072297c35","7ec967f0e37f14998082b0787b06bd","7f07e7f0e47f531b0723b0b6fb0721","7f0e26665b66a449801e9808297c35","665f67f0e37f1489801eb072297c35","7ec967f0e37f14998082b0787b06bd","7f07e7f0e47f531b0723b0b6fb0721","7f0e27f1487f531b0b0bb0b6fb0722"],a.exports=s.default},function(a,s,u){Object.defineProperty(s,"__esModule",{value:!0}),s.default=["日","一","二","三","四","五","六","七","八","九","十"],a.exports=s.default},function(a,s,u){Object.defineProperty(s,"__esModule",{value:!0}),s.default=["初","十","廿","卅"],a.exports=s.default},function(a,s,u){Object.defineProperty(s,"__esModule",{value:!0}),s.default=["正","二","三","四","五","六","七","八","九","十","冬","腊"],a.exports=s.default},function(a,s,u){Object.defineProperty(s,"__esModule",{value:!0}),s.default=["零","一","二","三","四","五","六","七","八","九","十"],a.exports=s.default}])})})(sf)),sf.exports}var y2=c7();const u7=tl(y2),Fp=Rw({__proto__:null,default:u7},[y2]);function Qf(t){return typeof t=="object"&&t!==null}function d7(t){return Qf(t)&&"default"in t}function f7(t){return Qf(t)&&typeof t.lunar2solar=="function"}function h7(t){if(!Qf(t))throw new Error("Invalid lunar2solar result");const r=t.cYear,a=t.cMonth,s=t.cDay,u=t.isLeap;if(typeof r!="number"||typeof a!="number"||typeof s!="number")throw new Error("Invalid lunar2solar fields");return{cYear:r,cMonth:a,cDay:s,isLeap:typeof u=="boolean"?u:void 0}}function m7(t){const r=d7(t)?t.default:t;if(!f7(r))throw new Error("solarlunar.lunar2solar not found");return{lunar2solar:(s,u,d,f)=>{const p=r.lunar2solar(s,u,d,f);return h7(p)}}}const p7=m7(Fp);function Ir(t,r,a,s=4,u=0){const d=p7.lunar2solar(t,r,a,!1);return new Date(d.cYear,d.cMonth-1,d.cDay,s,u)}const gc=[{key:"name",label:"이름",placeholder:"이름을 입력하세요",type:"text"},{key:"birthDay",label:"생년월일",placeholder:"예: 19900101",type:"tel"},{key:"birthTime",label:"태어난 시간",placeholder:"예: 1524",type:"tel"},{key:"mingSikType",label:"명식 기준",type:"mingrule"},{key:"gender",label:"성별",type:"radio"},{key:"birthPlace",label:"태어난 지역",type:"place"},{key:"relationship",label:"관계",type:"relationship"},{key:"folder",label:"폴더 선택",type:"folder"},{key:"memo",label:"메모",placeholder:"메모를 입력하세요",type:"textarea"}],bc=[{value:"solar",label:"양력",id:"calendarType_solar"},{value:"lunar",label:"음력",id:"calendarType_lunar"}],Ad=["자시","조자시/야자시","인시"],Dd=["남자","여자"];function x0(t,r,a){return a==="ArrowRight"||a==="ArrowDown"?(t+1)%r:a==="ArrowLeft"||a==="ArrowUp"?(t-1+r)%r:a==="Home"?0:a==="End"?r-1:t}function _0(t){const r=document.getElementById(t);r instanceof HTMLElement&&r.focus()}function g7({onSave:t,onClose:r}){const{add:a}=il(),[s,u]=O.useState(0),[d,f]=O.useState({gender:"남자",mingSikType:"조자시/야자시",DayChangeRule:"자시일수론",calendarType:"solar"}),[p,g]=O.useState(null),[y,_]=O.useState(!1),[w,S]=O.useState(!1),T=gc[s],M=B=>g(B);O.useEffect(()=>{if(["name","birthDay","birthTime","memo"].includes(T.key)){const C=document.querySelector(".current-step input[type='text']:not([disabled]), .current-step textarea:not([disabled])");if(C){C.focus();return}}if(T.key==="mingSikType"){const C=document.querySelector("[id^='ming_'][id$='_lbl'][aria-checked='true']");if(C){C.focus();return}}if(T.key==="gender"){const C=document.querySelector("[id^='gender_'][id$='_lbl'][aria-checked='true']");if(C){C.focus();return}}if(d.birthPlace||w){const C=()=>{const q=document.querySelector(".current-step form button[type='submit']");q&&q.focus()};C(),setTimeout(C,0)}else{const C=document.getElementById("inputBirthPlaceBtn");C&&C.focus()}if(T.key==="relationship"){setTimeout(()=>{const C=document.querySelector(".current-step select");C&&C.focus()},0);return}if(T.key==="folder"){setTimeout(()=>{const C=document.querySelector(".current-step select");C&&C.focus()},0);return}document.querySelector(".current-step button, .current-step [tabindex='0']")?.focus()},[w,s,T.key,d.birthPlace]);const D=O.useMemo(()=>{if(d.calendarType!=="lunar"||!d.birthDay||d.birthDay.length!==8)return null;try{const B=Number(d.birthDay.slice(0,4)),C=Number(d.birthDay.slice(4,6)),q=Number(d.birthDay.slice(6,8)),et=Ir(B,C,q);return`→ 양력 ${et.getFullYear()}-${String(et.getMonth()+1).padStart(2,"0")}-${String(et.getDate()).padStart(2,"0")}`}catch(B){const C=B instanceof Error?B.message:void 0;return`→ 변환 실패${C?`: ${C}`:""}`}},[d.calendarType,d.birthDay]),A=()=>{const B=gc[s];if(B.key==="name"&&(d.name||(f({...d,name:"이름없음"}),M("이름을 적지 않으시면 '이름없음'으로 대체됩니다."))),B.key==="birthDay"){const C=/^\d{8}$/;if(!d.birthDay||!C.test(d.birthDay))return M("생년월일은 YYYYMMDD 형식으로 입력해주세요."),!1;const q=Number(d.birthDay.substring(0,4)),et=Number(d.birthDay.substring(4,6)),st=Number(d.birthDay.substring(6,8));if(q<1900||q>2100)return M("출생 연도는 1900~2100년 사이여야 합니다."),!1;if(et<1||et>12)return M("출생 월은 01~12 사이여야 합니다."),!1;if(st<1||st>31)return M("출생 일은 01~31 사이여야 합니다."),!1;if(d.calendarType==="solar"){const W=new Date(q,et-1,st);if(W.getFullYear()!==q||W.getMonth()+1!==et||W.getDate()!==st)return M("존재하지 않는 날짜입니다."),!1}else try{Ir(q,et,st)}catch(W){return M(W instanceof Error?W.message:"음력 날짜가 유효하지 않습니다."),!1}}if(B.key==="birthTime"){if(!d.birthTime&&!y)return M("태어난 시간을 입력하거나 '모름'을 체크해야 합니다."),!1;if(d.birthTime){const C=Number(d.birthTime);if(Number.isNaN(C)||C<0||C>2359)return M("태어난 시간은 0000–2359 범위여야 합니다."),!1;const q=Number(d.birthTime.slice(0,2)),et=Number(d.birthTime.slice(2,4));if(q>23||et>59)return M("태어난 시간은 0000–2359 범위여야 합니다."),!1}}return B.key==="birthPlace"&&!d.birthPlace&&!w?(M("태어난 지역을 선택하거나 '모름'을 체크해야 합니다."),!1):!0},z=()=>{if(!A())return;if(s<gc.length-1){u(s+1);return}const B=Ws(d.folder),C=!d.birthTime||d.birthTime==="모름",q=!d.birthPlace||typeof d.birthPlace=="object"&&d.birthPlace.name==="모름";let et=Number(d.birthDay.slice(0,4)),st=Number(d.birthDay.slice(4,6)),W=Number(d.birthDay.slice(6,8));if(d.calendarType==="lunar"){const U=Ir(et,st,W);et=U.getFullYear(),st=U.getMonth()+1,W=U.getDate()}const Q=C?4:Number(d.birthTime.slice(0,2)),F=C?30:Number(d.birthTime.slice(2,4)),G=new Date(et,st-1,W,Q,F,0,0),tt=w||!d.birthPlace||d.birthPlace.lon===0?127.5:d.birthPlace.lon,ht=Zo(G,tt,q),it=d.mingSikType??"조자시/야자시",Z=C?"":ht.toLocaleTimeString("ko-KR",{hour:"2-digit",minute:"2-digit"}),rt=oe(ht,tt),ot=Se(ht,tt),yt=ae(ht,it),j=C?null:Ur(ht,it),$=[`원국 : ${rt}년 ${ot}월 ${yt}일`,j?`${j}시`:null].filter(Boolean).join(" ");function Y(U,dt){const Mt=["甲","丙","戊","庚","壬","갑","병","무","경","임"].includes(U),Nt=dt==="남자";return Mt?Nt?"forward":"backward":Nt?"backward":"forward"}const J=rt.charAt(0),V=Y(J,d.gender??"남자"),I={id:r1(),name:d.name?.trim()||"이름없음",birthDay:d.birthDay||"",birthTime:C?"모름":d.birthTime||"",gender:d.gender??"남자",birthPlace:w?{name:"모름",lat:0,lon:127.5}:d.birthPlace??{name:"",lat:0,lon:127.5},relationship:d.relationship??"",memo:d.memo??"",mingSikType:d.mingSikType??"조자시/야자시",DayChangeRule:d.mingSikType==="인시"?"인시일수론":"자시일수론",folder:B,correctedLocal:Z,ganji:$,calendarType:d.calendarType??"solar",dir:V,corrected:ht,dateObj:d.dateObj||new Date,dayStem:d.dayStem||"갑",ganjiText:d.ganjiText||"갑자년 갑자월 갑자일 갑자시"};a(I),t(I),g("저장 완료!"),f({gender:"남자",mingSikType:"조자시/야자시",calendarType:"solar"}),_(!1),S(!1),u(0)},H=B=>{if(B.key!=="Enter")return;const C=B.target,q=C.getAttribute("role");if(q==="radio"||q==="checkbox")return;const et=document.getElementById("mapModal");if(et&&et.contains(C))return;const st=C.tagName.toLowerCase(),W=C instanceof HTMLInputElement?C.type:"";if(st==="textarea"){if(B.shiftKey)return;B.preventDefault(),z();return}if(W==="radio"||W==="checkbox"){B.preventDefault(),C instanceof HTMLInputElement&&C.click();return}st==="button"&&C.type!=="submit"||(B.preventDefault(),z())},k=B=>{switch(B){case"birthPlace":return w?"모름":d.birthPlace?.name||"";case"birthTime":return y?"모름":d.birthTime||"";case"folder":return d.folder?String(d.folder):Ee;default:{const q=d[B];return typeof q=="string"?q:q!=null?String(q):""}}};return b.jsxs("div",{className:"mx-auto mt-10 space-y-2 max-w-[640px] w-[96%] text-neutral-900 dark:text-neutral-100",children:[p&&b.jsx(b2,{message:p,onClose:()=>g(null)}),gc.slice(0,s).map((B,C)=>b.jsxs("button",{onClick:()=>u(C),className:"p-3 rounded-lg bg-neutral-100 dark:bg-neutral-900 border border-neutral-200 dark:border-neutral-800 flex justify-between w-full text-left hover:bg-neutral-200 dark:hover:bg-neutral-800/80 transition-colors",children:[b.jsx("span",{className:"font-semibold",children:B.label}),b.jsx("span",{className:"text-neutral-600 dark:text-neutral-300",children:k(B.key)})]},B.key)),b.jsx("div",{className:"p-4 border rounded-lg shadow current-step bg-white dark:bg-neutral-900 border-neutral-200 dark:border-neutral-800",children:b.jsxs("form",{onSubmit:B=>{B.preventDefault(),z()},onKeyDown:H,children:[b.jsx("label",{className:"block mb-2 font-bold",children:T.label}),T.key==="name"&&b.jsx("input",{type:"text",className:"w-full border rounded-lg p-2 bg-white dark:bg-neutral-900 border-neutral-300 dark:border-neutral-700 placeholder-neutral-400 dark:placeholder-neutral-500 text-neutral-900 dark:text-neutral-100",placeholder:T.placeholder,value:d.name||"",onChange:B=>f({...d,name:B.target.value})}),T.key==="birthDay"&&b.jsxs("div",{className:"space-y-2",children:[b.jsxs("div",{className:"flex gap-1 items-center",children:[b.jsx("input",{type:"text",className:"flex-1 border rounded-lg p-2 bg-white dark:bg-neutral-900 border-neutral-300 dark:border-neutral-700 placeholder-neutral-400 dark:placeholder-neutral-500 text-neutral-900 dark:text-neutral-100",placeholder:T.placeholder,value:d.birthDay||"",onChange:B=>{const C=B.target.value.replace(/\D/g,"");f({...d,birthDay:C.slice(0,8)})},inputMode:"numeric",pattern:"\\d*",maxLength:8}),b.jsx("fieldset",{role:"radiogroup","aria-label":"달력 유형",className:"flex gap-1 text-sm",children:bc.map(({value:B,label:C,id:q})=>{const et=d.calendarType===B;return b.jsxs("span",{className:"inline-flex items-center gap-1",children:[b.jsx("input",{id:q,name:"calendarType",type:"radio",style:{display:"none"}}),b.jsx("label",{htmlFor:q,id:`${q}_lbl`,role:"radio","aria-checked":et,tabIndex:0,className:`cursor-pointer select-none px-2 py-1 rounded-md border
                                     border-neutral-300 dark:border-neutral-700
                                     bg-white dark:bg-neutral-900
                                     focus-visible:outline focus-visible:outline-2 focus-visible:outline-amber-500
                                     data-[checked=true]:border-amber-400 data-[checked=true]:bg-amber-50
                                     dark:data-[checked=true]:bg-amber-500/10`,"data-checked":et?"true":"false",onKeyDown:st=>{if(st.stopPropagation(),st.key===" "||st.key==="Enter"){st.preventDefault(),f({...d,calendarType:B});return}if(!["ArrowRight","ArrowLeft","ArrowUp","ArrowDown","Home","End"].includes(st.key))return;st.preventDefault();const Q=bc.findIndex(tt=>tt.value===d.calendarType),F=x0(Q<0?0:Q,bc.length,st.key),G=bc[F].value;f({...d,calendarType:G}),_0(`${bc[F].id}_lbl`)},onClick:st=>{st.preventDefault(),f({...d,calendarType:B})},children:C})]},B)})})]}),d.calendarType==="lunar"&&b.jsx("div",{className:"flex items-center justify-end",children:b.jsx("span",{className:"text-xs text-neutral-600 dark:text-neutral-300",children:D})}),d.birthDay&&d.birthDay.length===8&&(()=>{const B=Number(d.birthDay.slice(0,4)),C=Number(d.birthDay.slice(4,6)),q=Number(d.birthDay.slice(6,8));return vf(B,C,q)?b.jsx("div",{className:"text-xs text-red-600 dark:text-red-400 mt-1",children:"썸머타임 명식입니다."}):null})()]}),T.key==="birthTime"&&b.jsxs("div",{className:"space-y-2",children:[b.jsx("input",{type:"text",className:"w-full border rounded-lg p-2 disabled:opacity-50 bg-white dark:bg-neutral-900 border-neutral-300 dark:border-neutral-700 placeholder-neutral-400 dark:placeholder-neutral-500 text-neutral-900 dark:text-neutral-100",placeholder:T.placeholder,value:y?"":d.birthTime||"",onChange:B=>{const C=B.target.value.replace(/\D/g,"");f({...d,birthTime:C.slice(0,4)})},inputMode:"numeric",pattern:"\\d*",maxLength:4,disabled:y}),b.jsxs("span",{className:"inline-flex items-center gap-1",children:[b.jsx("input",{id:"birthTimeX",type:"checkbox",style:{display:"none"}}),b.jsx("label",{htmlFor:"birthTimeX",role:"checkbox","aria-checked":y,tabIndex:0,className:`text-sm select-none cursor-pointer px-2 py-1 rounded-md border
                             border-neutral-300 dark:border-neutral-700
                             bg-white dark:bg-neutral-900
                             focus-visible:outline focus-visible:outline-2 focus-visible:outline-amber-500
                             data-[checked=true]:border-amber-400 data-[checked=true]:bg-amber-50
                             dark:data-[checked=true]:bg-amber-500/10`,"data-checked":y?"true":"false",onKeyDown:B=>{B.stopPropagation(),(B.key===" "||B.key==="Enter")&&(B.preventDefault(),_(!y))},onClick:B=>{B.preventDefault(),_(!y)},children:"모름"})]})]}),T.key==="mingSikType"&&b.jsx("fieldset",{role:"radiogroup","aria-label":"명식 기준",className:"flex flex-wrap gap-3",children:Ad.map(B=>{const C=`ming_${B}`,q=(d.mingSikType??"조자시/야자시")===B;return b.jsxs("span",{className:"inline-flex items-center gap-1",children:[b.jsx("input",{id:C,name:"mingSikType",type:"radio",style:{display:"none"}}),b.jsxs("label",{htmlFor:C,id:`${C}_lbl`,role:"radio","aria-checked":q,tabIndex:0,className:`cursor-pointer select-none px-2 py-1 rounded-md border
                                 border-neutral-300 dark:border-neutral-700
                                 bg-white dark:bg-neutral-900
                                 focus-visible:outline focus-visible:outline-2 focus-visible:outline-amber-500
                                 data-[checked=true]:border-amber-400 data-[checked=true]:bg-amber-50
                                 dark:data-[checked=true]:bg-amber-500/10`,"data-checked":q?"true":"false",onKeyDown:et=>{if(et.stopPropagation(),et.key===" "||et.key==="Enter"){et.preventDefault(),f({...d,mingSikType:B});return}if(!["ArrowRight","ArrowLeft","ArrowUp","ArrowDown","Home","End"].includes(et.key))return;et.preventDefault();const W=d.mingSikType??"조자시/야자시",Q=Ad.indexOf(W),F=x0(Q,Ad.length,et.key),G=Ad[F];f({...d,mingSikType:G}),_0(`ming_${G}_lbl`)},onClick:et=>{et.preventDefault(),f({...d,mingSikType:B})},children:[B,"명식"]})]},B)})}),T.key==="gender"&&b.jsx("fieldset",{role:"radiogroup","aria-label":"성별",className:"flex gap-2",children:Dd.map(B=>{const C=`gender_${B}`,q=(d.gender??"남자")===B;return b.jsxs("span",{className:"inline-flex items-center gap-1",children:[b.jsx("input",{id:C,name:"gender",type:"radio",style:{display:"none"}}),b.jsx("label",{htmlFor:C,id:`${C}_lbl`,role:"radio","aria-checked":q,tabIndex:0,className:`cursor-pointer select-none px-2 py-1 rounded-md border
                                 border-neutral-300 dark:border-neutral-700
                                 bg-white dark:bg-neutral-900
                                 focus-visible:outline focus-visible:outline-2 focus-visible:outline-amber-500
                                 data-[checked=true]:border-amber-400 data-[checked=true]:bg-amber-50
                                 dark:data-[checked=true]:bg-amber-500/10`,"data-checked":q?"true":"false",onKeyDown:et=>{if(et.stopPropagation(),et.key===" "||et.key==="Enter"){et.preventDefault(),f({...d,gender:B});return}if(!["ArrowRight","ArrowLeft","ArrowUp","ArrowDown","Home","End"].includes(et.key))return;et.preventDefault();const W=d.gender??"남자",Q=Dd.indexOf(W),F=x0(Q,Dd.length,et.key),G=Dd[F];f({...d,gender:G}),_0(`gender_${G}_lbl`)},onClick:et=>{et.preventDefault(),f({...d,gender:B})},children:B})]},B)})}),T.key==="birthPlace"&&b.jsxs("div",{className:"space-y-2",children:[b.jsx(i1,{onSelect:B=>f({...d,birthPlace:B})}),b.jsxs("span",{className:"inline-flex items-center gap-1",children:[b.jsx("input",{id:"birthPlaceX",type:"checkbox",style:{display:"none"}}),b.jsx("label",{htmlFor:"birthPlaceX",role:"checkbox","aria-checked":w,tabIndex:0,className:`text-sm select-none cursor-pointer px-2 py-1 rounded-md border
                             border-neutral-300 dark:border-neutral-700
                             bg-white dark:bg-neutral-900
                             focus-visible:outline focus-visible:outline-2 focus-visible:outline-amber-500
                             data-[checked=true]:border-amber-400 data-[checked=true]:bg-amber-50
                             dark:data-[checked=true]:bg-amber-500/10`,"data-checked":w?"true":"false",onKeyDown:B=>{B.stopPropagation(),(B.key===" "||B.key==="Enter")&&(B.preventDefault(),S(!w))},onClick:B=>{B.preventDefault(),S(!w)},children:"모름"})]})]}),T.key==="relationship"&&b.jsx(p2,{value:d.relationship||"",onChange:B=>f({...d,relationship:B})}),T.key==="folder"&&b.jsx(s7,{value:Ws(d.folder),onChange:B=>f({...d,folder:B})}),T.key==="memo"&&b.jsx("textarea",{className:"w-full border rounded-lg p-2 bg-white dark:bg-neutral-900 border-neutral-300 dark:border-neutral-700 placeholder-neutral-400 dark:placeholder-neutral-500 text-neutral-900 dark:text-neutral-100",placeholder:T.placeholder,value:d.memo||"",onChange:B=>f({...d,memo:B.target.value})}),b.jsxs("div",{className:"flex justify-between gap-2",children:[b.jsx("button",{className:"mt-4 w-full btn_style btn_secondary dark:focus:ring-amber-500",onClick:r,children:"닫기"}),b.jsx("button",{type:"submit",className:"mt-4 w-full btn_style dark:focus:ring-amber-500",children:s===gc.length-1?"저장하기":"확인"})]})]})})]})}var jd={},ix;function b7(){if(ix)return jd;ix=1,jd.match=d,jd.parse=f;var t=/(?:(only|not)?\s*([^\s\(\)]+)(?:\s*and)?\s*)?(.+)?/i,r=/\(\s*([^\s\:\)]+)\s*(?:\:\s*([^\s\)]+))?\s*\)/,a=/^(?:(min|max)-)?(.+)/,s=/(em|rem|px|cm|mm|in|pt|pc)?$/,u=/(dpi|dpcm|dppx)?$/;function d(_,w){return f(_).some(function(S){var T=S.inverse,M=S.type==="all"||w.type===S.type;if(M&&T||!(M||T))return!1;var D=S.expressions.every(function(A){var z=A.feature,H=A.modifier,k=A.value,B=w[z];if(!B)return!1;switch(z){case"orientation":case"scan":return B.toLowerCase()===k.toLowerCase();case"width":case"height":case"device-width":case"device-height":k=y(k),B=y(B);break;case"resolution":k=g(k),B=g(B);break;case"aspect-ratio":case"device-aspect-ratio":case"device-pixel-ratio":k=p(k),B=p(B);break;case"grid":case"color":case"color-index":case"monochrome":k=parseInt(k,10)||1,B=parseInt(B,10)||0;break}switch(H){case"min":return B>=k;case"max":return B<=k;default:return B===k}});return D&&!T||!D&&T})}function f(_){return _.split(",").map(function(w){w=w.trim();var S=w.match(t),T=S[1],M=S[2],D=S[3]||"",A={};return A.inverse=!!T&&T.toLowerCase()==="not",A.type=M?M.toLowerCase():"all",D=D.match(/\([^\)]+\)/g)||[],A.expressions=D.map(function(z){var H=z.match(r),k=H[1].toLowerCase().match(a);return{modifier:k[1],feature:k[2],value:H[2]}}),A})}function p(_){var w=Number(_),S;return w||(S=_.match(/^(\d+)\s*\/\s*(\d+)$/),w=S[1]/S[2]),w}function g(_){var w=parseFloat(_),S=String(_).match(u)[1];switch(S){case"dpcm":return w/2.54;case"dppx":return w*96;default:return w}}function y(_){var w=parseFloat(_),S=String(_).match(s)[1];switch(S){case"em":return w*16;case"rem":return w*16;case"cm":return w*96/2.54;case"mm":return w*96/2.54/10;case"in":return w*96;case"pt":return w*72;case"pc":return w*72/12;default:return w}}return jd}var S0,ax;function y7(){if(ax)return S0;ax=1;var t=b7().match,r=typeof window<"u"?window.matchMedia:null;function a(u,d,f){var p=this,g;r&&!f&&(g=r.call(window,u)),g?(this.matches=g.matches,this.media=g.media,g.addListener(w)):(this.matches=t(u,d),this.media=u),this.addListener=y,this.removeListener=_,this.dispose=S;function y(T){g&&g.addListener(T)}function _(T){g&&g.removeListener(T)}function w(T){p.matches=T.matches,p.media=T.media}function S(){g&&g.removeListener(w)}}function s(u,d,f){return new a(u,d,f)}return S0=s,S0}var v7=y7();const x7=tl(v7);var _7=/[A-Z]/g,S7=/^ms-/,w0={};function w7(t){return"-"+t.toLowerCase()}function v2(t){if(w0.hasOwnProperty(t))return w0[t];var r=t.replace(_7,w7);return w0[t]=S7.test(r)?"-"+r:r}function T7(t,r){if(t===r)return!0;if(!t||!r)return!1;const a=Object.keys(t),s=Object.keys(r),u=a.length;if(s.length!==u)return!1;for(let d=0;d<u;d++){const f=a[d];if(t[f]!==r[f]||!Object.prototype.hasOwnProperty.call(r,f))return!1}return!0}var T0={exports:{}},E0,ox;function E7(){if(ox)return E0;ox=1;var t="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return E0=t,E0}var M0,sx;function M7(){if(sx)return M0;sx=1;var t=E7();function r(){}function a(){}return a.resetWarningCache=r,M0=function(){function s(f,p,g,y,_,w){if(w!==t){var S=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw S.name="Invariant Violation",S}}s.isRequired=s;function u(){return s}var d={array:s,bigint:s,bool:s,func:s,number:s,object:s,string:s,symbol:s,any:s,arrayOf:u,element:s,elementType:s,instanceOf:u,node:s,objectOf:u,oneOf:u,oneOfType:u,shape:u,exact:u,checkPropTypes:a,resetWarningCache:r};return d.PropTypes=d,d},M0}var lx;function N7(){return lx||(lx=1,T0.exports=M7()()),T0.exports}var A7=N7();const me=tl(A7),Hn=me.oneOfType([me.string,me.number]),x2={all:me.bool,grid:me.bool,aural:me.bool,braille:me.bool,handheld:me.bool,print:me.bool,projection:me.bool,screen:me.bool,tty:me.bool,tv:me.bool,embossed:me.bool},D7={orientation:me.oneOf(["portrait","landscape"]),scan:me.oneOf(["progressive","interlace"]),aspectRatio:me.string,deviceAspectRatio:me.string,height:Hn,deviceHeight:Hn,width:Hn,deviceWidth:Hn,color:me.bool,colorIndex:me.bool,monochrome:me.bool,resolution:Hn,type:Object.keys(x2)},{type:a6,...j7}=D7,k7={minAspectRatio:me.string,maxAspectRatio:me.string,minDeviceAspectRatio:me.string,maxDeviceAspectRatio:me.string,minHeight:Hn,maxHeight:Hn,minDeviceHeight:Hn,maxDeviceHeight:Hn,minWidth:Hn,maxWidth:Hn,minDeviceWidth:Hn,maxDeviceWidth:Hn,minColor:me.number,maxColor:me.number,minColorIndex:me.number,maxColorIndex:me.number,minMonochrome:me.number,maxMonochrome:me.number,minResolution:Hn,maxResolution:Hn,...j7},O7={...x2,...k7};var C7={all:O7};const L7=t=>`not ${t}`,B7=(t,r)=>{const a=v2(t);return typeof r=="number"&&(r=`${r}px`),r===!0?a:r===!1?L7(a):`(${a}: ${r})`},R7=t=>t.join(" and "),P7=t=>{const r=[];return Object.keys(C7.all).forEach(a=>{const s=t[a];s!=null&&r.push(B7(a,s))}),R7(r)},z7=O.createContext(void 0),H7=t=>t.query||P7(t),cx=t=>t?Object.keys(t).reduce((a,s)=>(a[v2(s)]=t[s],a),{}):void 0,_2=()=>{const t=O.useRef(!1);return O.useEffect(()=>{t.current=!0},[]),t.current},$7=t=>{const r=O.useContext(z7),a=()=>cx(t)||cx(r),[s,u]=O.useState(a);return O.useEffect(()=>{const d=a();T7(s,d)||u(d)},[t,r]),s},I7=t=>{const r=()=>H7(t),[a,s]=O.useState(r);return O.useEffect(()=>{const u=r();a!==u&&s(u)},[t]),a},U7=(t,r)=>{const a=()=>x7(t,r||{},!!r),[s,u]=O.useState(a),d=_2();return O.useEffect(()=>{if(d){const f=a();return u(f),()=>{f&&f.dispose()}}},[t,r]),s},G7=t=>{const[r,a]=O.useState(t.matches);return O.useEffect(()=>{const s=u=>{a(u.matches)};return t.addListener(s),a(t.matches),()=>{t.removeListener(s)}},[t]),r},Z7=(t,r,a)=>{const s=$7(r),u=I7(t);if(!u)throw new Error("Invalid or missing MediaQuery!");const d=U7(u,s),f=G7(d);return _2(),O.useEffect(()=>{},[f]),O.useEffect(()=>()=>{d&&d.dispose()},[]),f},S2=(()=>{const t=[];for(let r=0;r<60;r++)t.push(`${Gn[r%10]}${tr[r%12]}`);return t})();function Y7(t){const r=S2.indexOf(t);if(r<0)throw new Error(`Unknown 간지: ${t}`);return r}function Sf(t,r,a=1){const s=Y7(t),u=r==="forward"?a:-a;return S2[(s+u+60*1e3)%60]}const q7=60*1e3,F7=60*q7,V7=24*F7;function K7(t,r){const a=new Date(t.getTime()),s=a.getFullYear()+r,u=a.getMonth(),d=a.getDate();return new Date(Date.UTC(s,u,d,a.getUTCHours(),a.getUTCMinutes()))}function fp(t){const r=new Date(t);return r.setSeconds(0,0),r}function X7(t,r,a){const s=t.getHours(),u=a==="조자시/야자시"?(Math.floor((s+1)/2)*2-1+24)%24:(Math.floor(s/2)*2+1)%24,d=new Date(t);d.setHours(u,0,0,0);const f=new Date(d);f.setHours(u+2,0,0,0);const p=t.getTime()-d.getTime(),g=f.getTime()-t.getTime();return r==="backward"?p:g}function w2(t,r,a,s=120,u="조자시/야자시"){const d=fp(t),f=X7(d,a,u),p=fp(new Date(d.getTime()+f*120)),g=K7(t,s).getTime(),y=[];let _=Sf(r,a,1);for(let w=p.getTime();w<=g;w+=10*V7)y.push({at:new Date(w),gz:_}),_=Sf(_,a,1);return{firstChange:p,events:y}}function T2(t,r){const a=r==="forward"?t==="자시일수론"?"자":"인":t==="자시일수론"?"해":"축";return s=>s===a}function E2(t,r,a,s){const u=T2(s,a);let d=r;const f=[];for(const p of t.events){const g=p.gz.charAt(1);u(g)&&(d=Sf(d,a,1),f.push({at:p.at,gz:d}))}return{events:f}}function xi(t){const r=t.getFullYear(),a=[{deg:315,name:"입춘"},{deg:345,name:"경칩"},{deg:15,name:"청명"},{deg:45,name:"입하"},{deg:75,name:"망종"},{deg:105,name:"소서"},{deg:135,name:"입추"},{deg:165,name:"백로"},{deg:195,name:"한로"},{deg:225,name:"입동"},{deg:255,name:"대설"},{deg:285,name:"소한"}],s={deg:315,name:"다음입춘"},u=a.map(p=>({name:p.name,date:an(r,p.deg)})).concat([{name:s.name,date:an(r+1,s.deg)},{name:"소한",date:an(r+1,285)}]),d=an(r,315),f=an(r+1,315);return u.filter(p=>p.date>=d&&p.date<f).sort((p,g)=>p.date.getTime()-g.date.getTime())}const W7={갑:"甲",을:"乙",병:"丙",정:"丁",무:"戊",기:"己",경:"庚",신:"辛",임:"壬",계:"癸"},Q7={자:"子",축:"丑",인:"寅",묘:"卯",진:"辰",사:"巳",오:"午",미:"未",신:"申",유:"酉",술:"戌",해:"亥"},J7=t=>W7[t]??("甲乙丙丁戊己庚辛壬癸".includes(t)?t:null),tj=t=>Q7[t]??("子丑寅卯辰巳午未申酉戌亥".includes(t)?t:null);function ux(t){const r=J7(t[0]),a=tj(t[1]);if(!r||!a)throw new Error(`Invalid GZ: ${t}`);return`${r}${a}`}function Fc(t,r,a,s=120,u){function d(k){return k instanceof Date||(k=new Date(k)),Math.floor((k.getHours()+1)%24/2)}function f(k){return["子","丑","寅","卯","辰","巳","午","未","申","酉","戌","亥"][d(k)]}function p(k,B,C){const q=k.charAt(0),et=k.charAt(1),st=Gn.indexOf(q),W=tr.indexOf(et),Q=B==="forward"?C:-C,F=(st+Q%10+10)%10,G=(W+Q%12+12)%12;return Gn[F]+tr[G]}const g=xi(t).sort((k,B)=>k.date.getTime()-B.date.getTime());let y;if(a==="forward"){const k=g.findIndex(B=>B.date>=t);k>=0&&(y=g[k].date)}else{const k=g.filter(B=>B.date<=t);k.length&&(y=k[k.length-1].date)}function _(k,B){const C=f(k),q={子:23,丑:1,寅:3,卯:5,辰:7,巳:9,午:11,未:13,申:15,酉:17,戌:19,亥:21},et=q[C],st=(et+2)%24,W=new Date(k);if(W.setSeconds(0,0),a==="backward"&&B){const F=f(B),G=q[F],tt=new Date(B);return tt.setHours(G,0,0,0),tt}if(a==="forward"&&B){const F=f(B),G=q[F],tt=new Date(B);if(tt.setHours(G,0,0,0),tt>W)return tt}const Q=new Date(W);return a==="forward"?(Q.setHours(st,0,0,0),Q<=W&&Q.setDate(Q.getDate()+1)):(Q.setHours(et,0,0,0),Q>=W&&Q.setDate(Q.getDate()-1)),Q}new Date(t).setSeconds(0,0);const S=ux(Se(t,127.5)),T=_(t,y),M=Math.floor(a==="forward"?(T.getTime()-t.getTime())/6e4:(t.getTime()-T.getTime())/6e4),D=Math.round(M/120*(14400*60*1e3));let A=new Date(t.getTime()+D);try{const k=ux(Se(t,u));(a==="forward"&&S!==k||a==="backward"&&S!==k)&&(A=new Date(t.getTime()+6e4))}catch{}const z=s/10,H=[];for(let k=0;k<z;k++){const B=new Date(A);B.setFullYear(B.getFullYear()+k*10),B.setSeconds(0,0);const C=p(r,a,k+1);H.push({at:B,gz:C})}return{natalMonthPillar:r,firstChange:A,mPillars:[],events:H}}function ej(t,r){const s=(r.getTime()-t.getTime())/(365.2425*24*60*60*1e3);return Math.max(0,Math.floor(s))}function M2(t,r,a,s,u){const d=T2(s,a);let f=r;const p=[];for(const g of t.events){const y=g.gz.charAt(1);d(y)&&(f=Sf(f,a,1),p.push({at:g.at,gz:f,age:ej(u,g.at)}))}return{events:p}}function nj(t){const r=Number(t.birthDay.slice(0,4)),a=Number(t.birthDay.slice(4,6)),s=Number(t.birthDay.slice(6,8));let u=12,d=0;return t.birthTime&&t.birthTime!=="모름"&&/^\d{4}$/.test(t.birthTime)&&(u=Number(t.birthTime.slice(0,2)),d=Number(t.birthTime.slice(2,4))),new Date(r,a-1,s,u,d,0,0)}function Jf(t){const r=nj(t),a=!t.birthPlace||typeof t.birthPlace=="object"&&t.birthPlace.name==="모름",s=Zo(r,t.birthPlace?.lon??null,a);return fp(s)}function Vp(t,r){const a=t.birthPlace?.lon??127.5,s=Jf(t),u=ae(s,r),d=Ur(s,r,u.charAt(0));return{year:oe(s,a),month:Se(s,a),day:u,hour:d}}const rj=(()=>{const t=[];for(let r=0;r<60;r++)t.push(`${Gn[r%10]}${tr[r%12]}`);return t})(),ij=t=>rj.indexOf(t),N0=t=>{if(ij(t)<0)throw new Error(`Unknown 간지: ${t}`);return{stem:t[0],branch:t[1]}};function Kp(t){return typeof t=="object"&&t!==null}function aj(t){return Kp(t)&&"default"in t}function oj(t){return Kp(t)&&typeof t.lunar2solar=="function"}function sj(t){if(!Kp(t))throw new Error("Invalid lunar2solar result");const r=t.cYear,a=t.cMonth,s=t.cDay,u=t.isLeap;if(typeof r!="number"||typeof a!="number"||typeof s!="number")throw new Error("Invalid lunar2solar fields");return{cYear:r,cMonth:a,cDay:s,isLeap:typeof u=="boolean"?u:void 0}}function lj(t){const r=aj(t)?t.default:t;if(!oj(r))throw new Error("solarlunar.lunar2solar not found");return{lunar2solar:(s,u,d,f)=>{const p=r.lunar2solar(s,u,d,!!f);return sj(p)}}}const cj=lj(Fp),dx=t=>t<10?`0${t}`:`${t}`;function Xp(t){const r=t,a=typeof r.birthDay=="string"?r.birthDay:"",s=typeof r.calendarType=="string"?r.calendarType:"solar";if(a.length<8||s!=="lunar")return t;const u=Number(a.slice(0,4)),d=Number(a.slice(4,6)),f=Number(a.slice(6,8)),p=["isLeap","isLeapMonth","leapMonth","leap","lunarLeap"];let g=!1;for(const y of p){const _=r[y];if(typeof _=="boolean"){g=_;break}if(typeof _=="number"){g=_===1;break}if(typeof _=="string"){g=_==="1"||_.toLowerCase()==="true";break}}try{const y=cj.lunar2solar(u,d,f,g),_=`${y.cYear}${dx(y.cMonth)}${dx(y.cDay)}`;return{...t,birthDay:_,calendarType:"solar"}}catch{return t}}function uj(t,r="조자시/야자시"){const a=O.useMemo(()=>Xp(t),[t]),s=O.useMemo(()=>Jf(a),[a]),u=O.useMemo(()=>Vp(a,r),[a,r]);return O.useMemo(()=>{const d=Fc(s,u.month,a.dir,120,a?.birthPlace?.lon??127.5),f=new Date;function p(k,B){let C=null;const q=B.getTime();for(const et of k)if(et.at.getTime()<=q)C=et;else break;return C}const g=p(d.events,f)?.gz??u.month,y=N0(g),_=f.getFullYear(),w=an(_,315),T=w&&f>=w?_:_-1,M=oe(new Date(T,1,10,0,0,0),127.5),D=N0(M),A=Se(f,127.5),z=N0(A),H=[];return z&&H.push({key:"wolun",label:"월운",data:z}),D&&H.push({key:"seun",label:"세운",data:D}),y&&H.push({key:"daeun",label:"대운",data:y}),H},[s,a.dir,u.month,a.birthPlace?.lon])}function Dc(t){const r=a=>a.toString().padStart(2,"0");return`${t.getFullYear()}년 ${r(t.getMonth()+1)}월 ${r(t.getDate())}일 ${r(t.getHours())}시 ${r(t.getMinutes())}분`}function $s(t){return t<10?`0${t}`:`${t}`}function dj(t){return`${$s(t.getHours())}:${$s(t.getMinutes())}`}function fj(t){return`${t.getFullYear()}-${$s(t.getMonth()+1)}-${$s(t.getDate())} ${$s(t.getHours())}:${$s(t.getMinutes())}`}const Zn=Uc()(Sp((t,r)=>{const a=new Date,s="조자시/야자시",u=127.5,d=u,f=oe(a,d),p=Se(a,d),g=ae(a,s);return{date:a,scope:"원국만",rule:s,lon:u,yearGZ:f,monthGZ:p,dayGZ:g,setDate:y=>{const{rule:_,lon:w}=r(),S=typeof w=="number"?w:void 0;t({date:y,yearGZ:oe(y,S),monthGZ:Se(y,S),dayGZ:ae(y,_)})},resetDate:()=>{const{rule:y,lon:_}=r(),w=new Date,S=typeof _=="number"?_:void 0;t({date:w,yearGZ:oe(w,S),monthGZ:Se(w,S),dayGZ:ae(w,y)})},setScope:y=>t({scope:y}),setRule:y=>{const{date:_,lon:w}=r(),S=typeof w=="number"?w:void 0;t({rule:y,yearGZ:oe(_,S),monthGZ:Se(_,S),dayGZ:ae(_,y)})},setLon:y=>{const{date:_,rule:w}=r(),S=typeof y=="number"?y:void 0;t({lon:y,yearGZ:oe(_,S),monthGZ:Se(_,S),dayGZ:ae(_,w)})},setFromEvent:(y,_)=>{const{rule:w,lon:S}=r(),T=typeof S=="number"?S:void 0;t({date:y.at,scope:_,yearGZ:oe(y.at,T),monthGZ:Se(y.at,T),dayGZ:ae(y.at,w)})}}},{name:"luck-picker-v1",merge:(t,r)=>{const a=t;return a.date&&typeof a.date=="string"&&(a.date=new Date(a.date)),{...r,...a}}})),Yo={Classic:"고전",Modern:"현대"};function $n(t,r){const s={갑:{자:"목욕",축:"관대",인:"건록",묘:"제왕",진:"쇠",사:"병",오:"사",미:"묘",신:"절",유:"태",술:"양",해:"장생"},을:{자:"병",축:"쇠",인:"제왕",묘:"건록",진:"관대",사:"목욕",오:"장생",미:"양",신:"태",유:"절",술:"묘",해:"사"},병:{자:"태",축:"양",인:"장생",묘:"목욕",진:"관대",사:"건록",오:"제왕",미:"쇠",신:"병",유:"사",술:"묘",해:"절"},정:{자:"절",축:"묘",인:"사",묘:"병",진:"쇠",사:"제왕",오:"건록",미:"관대",신:"목욕",유:"장생",술:"양",해:"태"},무:{자:"태",축:"양",인:"장생",묘:"목욕",진:"관대",사:"건록",오:"제왕",미:"쇠",신:"병",유:"사",술:"묘",해:"절"},기:{자:"절",축:"묘",인:"사",묘:"병",진:"쇠",사:"제왕",오:"건록",미:"관대",신:"목욕",유:"장생",술:"양",해:"태"},경:{자:"사",축:"묘",인:"절",묘:"태",진:"양",사:"장생",오:"목욕",미:"관대",신:"건록",유:"제왕",술:"쇠",해:"병"},신:{자:"장생",축:"양",인:"태",묘:"절",진:"묘",사:"사",오:"병",미:"쇠",신:"제왕",유:"건록",술:"관대",해:"목욕"},임:{자:"제왕",축:"쇠",인:"병",묘:"사",진:"묘",사:"절",오:"태",미:"양",신:"장생",유:"목욕",술:"관대",해:"건록"},계:{자:"건록",축:"관대",인:"목욕",묘:"장생",진:"양",사:"태",오:"절",미:"묘",신:"사",유:"병",술:"쇠",해:"제왕"}}[t];return s?s[r]??"":""}function hj(t,r){return{자:{자:"장성",축:"반안",인:"역마",묘:"육해",진:"화개",사:"겁살",오:"재살",미:"천살",신:"지살",유:"년살",술:"월살",해:"망신"},축:{자:"망신",축:"장성",인:"반안",묘:"역마",진:"육해",사:"화개",오:"겁살",미:"재살",신:"천살",유:"지살",술:"년살",해:"월살"},인:{자:"월살",축:"망신",인:"장성",묘:"반안",진:"역마",사:"육해",오:"화개",미:"겁살",신:"재살",유:"천살",술:"지살",해:"년살"},묘:{자:"년살",축:"월살",인:"망신",묘:"장성",진:"반안",사:"역마",오:"육해",미:"화개",신:"겁살",유:"재살",술:"천살",해:"지살"},진:{자:"지살",축:"년살",인:"월살",묘:"망신",진:"장성",사:"반안",오:"역마",미:"육해",신:"화개",유:"겁살",술:"재살",해:"천살"},사:{자:"천살",축:"지살",인:"년살",묘:"월살",진:"망신",사:"장성",오:"반안",미:"역마",신:"육해",유:"화개",술:"겁살",해:"재살"},오:{자:"재살",축:"천살",인:"지살",묘:"년살",진:"월살",사:"망신",오:"장성",미:"반안",신:"역마",유:"육해",술:"화개",해:"겁살"},미:{자:"겁살",축:"재살",인:"천살",묘:"지살",진:"년살",사:"월살",오:"망신",미:"장성",신:"반안",유:"역마",술:"육해",해:"화개"},신:{자:"화개",축:"겁살",인:"재살",묘:"천살",진:"지살",사:"년살",오:"월살",미:"망신",신:"장성",유:"반안",술:"역마",해:"육해"},유:{자:"육해",축:"화개",인:"겁살",묘:"재살",진:"천살",사:"지살",오:"년살",미:"월살",신:"망신",유:"장성",술:"반안",해:"역마"},술:{자:"역마",축:"육해",인:"화개",묘:"겁살",진:"재살",사:"천살",오:"지살",미:"년살",신:"월살",유:"망신",술:"장성",해:"반안"},해:{자:"반안",축:"역마",인:"육해",묘:"화개",진:"겁살",사:"재살",오:"천살",미:"지살",신:"년살",유:"월살",술:"망신",해:"장성"}}[t]?.[r]??""}function mj(t,r){const a={해:"묘",묘:"묘",미:"묘",인:"오",오:"오",술:"오",사:"유",유:"유",축:"유",신:"자",자:"자",진:"자"},s={묘:{자:"년살",축:"월살",인:"망신",묘:"장성",진:"반안",사:"역마",오:"육해",미:"화개",신:"겁살",유:"재살",술:"천살",해:"지살"},오:{자:"재살",축:"천살",인:"지살",묘:"년살",진:"월살",사:"망신",오:"장성",미:"반안",신:"역마",유:"육해",술:"화개",해:"겁살"},유:{자:"육해",축:"화개",인:"겁살",묘:"재살",진:"천살",사:"지살",오:"년살",미:"월살",신:"망신",유:"장성",술:"반안",해:"역마"},자:{자:"장성",축:"반안",인:"역마",묘:"육해",진:"화개",사:"겁살",오:"재살",미:"천살",신:"지살",유:"년살",술:"월살",해:"망신"}},u=a[t];return u&&s[u]?s[u][r]??"":""}function pj(t,r){return{자:{자:"장성",축:"반안",인:"역마",묘:"육액",진:"화개",사:"겁살",오:"재살",미:"천살",신:"지살",유:"도화",술:"월살",해:"망신"},축:{자:"망신",축:"장성",인:"반안",묘:"역마",진:"육액",사:"화개",오:"겁살",미:"재살",신:"천살",유:"지살",술:"도화",해:"월살"},인:{자:"월살",축:"망신",인:"장성",묘:"반안",진:"역마",사:"육액",오:"화개",미:"겁살",신:"재살",유:"천살",술:"지살",해:"도화"},묘:{자:"도화",축:"월살",인:"망신",묘:"장성",진:"반안",사:"역마",오:"육액",미:"화개",신:"겁살",유:"재살",술:"천살",해:"지살"},진:{자:"지살",축:"도화",인:"월살",묘:"망신",진:"장성",사:"반안",오:"역마",미:"육액",신:"화개",유:"겁살",술:"재살",해:"천살"},사:{자:"천살",축:"지살",인:"도화",묘:"월살",진:"망신",사:"장성",오:"반안",미:"역마",신:"육액",유:"화개",술:"겁살",해:"재살"},오:{자:"재살",축:"천살",인:"지살",묘:"도화",진:"월살",사:"망신",오:"장성",미:"반안",신:"역마",유:"육액",술:"화개",해:"겁살"},미:{자:"겁살",축:"재살",인:"천살",묘:"지살",진:"도화",사:"월살",오:"망신",미:"장성",신:"반안",유:"역마",술:"육액",해:"화개"},신:{자:"화개",축:"겁살",인:"재살",묘:"천살",진:"지살",사:"도화",오:"월살",미:"망신",신:"장성",유:"반안",술:"역마",해:"육액"},유:{자:"육액",축:"화개",인:"겁살",묘:"재살",진:"천살",사:"지살",오:"도화",미:"월살",신:"망신",유:"장성",술:"반안",해:"역마"},술:{자:"역마",축:"육액",인:"화개",묘:"겁살",진:"재살",사:"천살",오:"지살",미:"도화",신:"월살",유:"망신",술:"장성",해:"반안"},해:{자:"반안",축:"역마",인:"육액",묘:"화개",진:"겁살",사:"재살",오:"천살",미:"지살",신:"도화",유:"월살",술:"망신",해:"장성"}}[t]?.[r]??""}function gj(t,r){const a={해:"묘",묘:"묘",미:"묘",인:"오",오:"오",술:"오",사:"유",유:"유",축:"유",신:"자",자:"자",진:"자"},s={묘:{자:"도화",축:"월살",인:"망신",묘:"장성",진:"반안",사:"역마",오:"육액",미:"화개",신:"겁살",유:"재살",술:"천살",해:"지살"},오:{자:"재살",축:"천살",인:"지살",묘:"도화",진:"월살",사:"망신",오:"장성",미:"반안",신:"역마",유:"육액",술:"화개",해:"겁살"},유:{자:"육액",축:"화개",인:"겁살",묘:"재살",진:"천살",사:"지살",오:"도화",미:"월살",신:"망신",유:"장성",술:"반안",해:"역마"},자:{자:"장성",축:"반안",인:"역마",묘:"육액",진:"화개",사:"겁살",오:"재살",미:"천살",신:"지살",유:"도화",술:"월살",해:"망신"}},u=a[t];return u&&s[u]?s[u][r]??"":""}function In(t){const{baseBranch:r,targetBranch:a,era:s,gaehwa:u}=t;return!r||!a?"":s==="고전"?u?hj(r,a):mj(r,a):u?pj(r,a):gj(r,a)}function Vc(t,r="조자시/야자시",a=100){const s=O.useMemo(()=>Xp(t),[t]),u=O.useMemo(()=>Jf(s),[s]),d=O.useMemo(()=>Vp(s,r),[s,r]),f=(p,g)=>{const y=g.getFullYear()-p.getFullYear(),_=g.getMonth()-p.getMonth(),w=g.getDate()-p.getDate(),S=_<0||_===0&&w<0?y-1:y;return Math.max(0,S)};return O.useMemo(()=>Fc(u,d.month,s.dir,a,s.birthPlace?.lon??127.5).events.map(g=>({...g,age:f(u,g.at)})),[u,d.month,s.dir,a,s.birthPlace?.lon])}function A0(t){return t instanceof Date&&!Number.isNaN(t.getTime())}function bj(t,r){if(!Array.isArray(t)||t.length===0||!A0(r))return{gz:"",at:r,index:-1};const a=t;for(let d=0;d<a.length;d++){const f=a[d],p=a[d+1];if(!A0(f.at))continue;if(r.getTime()>=f.at.getTime()&&(!p||A0(p.at)&&r.getTime()<p.at.getTime()))return{gz:f.gz??"",at:f.at,index:d}}if(r.getTime()<a[0].at.getTime()){const d=a[0];return{gz:d.gz??"",at:d.at,index:0}}const s=a.length-1,u=a[s];return{gz:u.gz??"",at:u.at,index:s}}function Wp(t,r,a){const{date:s,rule:u,lon:d}=Zn(),f=O.useMemo(()=>a??s??new Date,[a,s]),p=Vc(t,t?.mingSikType),{gz:g}=bj(p,f);return O.useMemo(()=>{try{const y=d??t?.birthPlace?.lon??127.5,_=u??t?.mingSikType??r??"조자시/야자시";return{dae:{gz:g,at:f},se:{gz:oe(f,y),at:f},wol:{gz:Se(f,y),at:f},il:{gz:ae(f,_),at:f}}}catch{const y=new Date;return{dae:{gz:"",at:y},se:{gz:"",at:y},wol:{gz:"",at:y},il:{gz:"",at:y}}}},[f,u,d,t,r,g])}const N2={甲:"갑",乙:"을",丙:"병",丁:"정",戊:"무",己:"기",庚:"경",辛:"신",壬:"임",癸:"계"},A2={子:"자",丑:"축",寅:"인",卯:"묘",辰:"진",巳:"사",午:"오",未:"미",申:"신",酉:"유",戌:"술",亥:"해"},yj=Object.fromEntries(Object.entries(N2).map(([t,r])=>[r,t])),vj=Object.fromEntries(Object.entries(A2).map(([t,r])=>[r,t])),xj=new Set(["乙","丁","己","辛","癸","을","정","기","신","계"]),_j=new Set(["丑","卯","巳","未","酉","亥","축","묘","사","미","유","해"]);function Sj(t,r,a){return a==="한글"?r==="stem"?N2[t]??t:A2[t]??t:r==="stem"?yj[t]??t:vj[t]??t}function wj(t,r){return r==="stem"?xj.has(t):_j.has(t)}function Tj(t){return Qf(t)&&("Classic"in t||"Modern"in t||"classic"in t||"modern"in t)}function D0(t){const r=Yo;return Tj(r)?t==="classic"?r.Classic:r.Modern:t}const Ej={대운:1,세운:2,월운:3};function Mj(t){return t.includes("월운")?3:t.includes("세운")?2:(t.includes("대운"),1)}const Nj={자:"수",축:"토",인:"목",묘:"목",진:"토",사:"화",오:"화",미:"토",신:"금",유:"금",술:"토",해:"수"};function Aj(t){switch(Nj[t]){case"목":return"bg-green-600 text-white border-green-600";case"화":return"bg-red-600 text-white border-red-600";case"토":return"bg-yellow-500 text-white border-yellow-500";case"금":return"bg-gray-400 text-white border-gray-400";case"수":return"bg-blue-900 text-white border-blue-600";default:return"bg-neutral-700 text-white border-neutral-700"}}function Dj({data:t,hourTable:r}){const{date:a}=Zn(),s=Sr(V=>V.settings),u=t.mingSikType??r??"조자시/야자시",d=!t.birthPlace||t.birthPlace.name==="모름"||!t.birthPlace.lon?127.5:t.birthPlace.lon,{solarY:f,solarM:p,solarD:g}=O.useMemo(()=>{let V=Number(t.birthDay?.slice(0,4)??2e3),I=Number(t.birthDay?.slice(4,6)??1),U=Number(t.birthDay?.slice(6,8)??1);if(t.calendarType==="lunar"){const dt=Ir(V,I,U);V=dt.getFullYear(),I=dt.getMonth()+1,U=dt.getDate()}return{solarY:V,solarM:I,solarD:U}},[t.birthDay,t.calendarType]),[y,_]=O.useState(!1);O.useEffect(()=>{f&&p&&g&&_(vf(f,p,g))},[f,p,g]);const w=!t.birthTime||t.birthTime==="모름";function S(V,I){const U=!V.birthTime||V.birthTime==="모름";let dt=Number(V.birthDay.slice(0,4)),gt=Number(V.birthDay.slice(4,6)),Mt=Number(V.birthDay.slice(6,8));if(V.calendarType==="lunar"){const _t=Ir(dt,gt,Mt);dt=_t.getFullYear(),gt=_t.getMonth()+1,Mt=_t.getDate()}const Nt=U?4:Number(V.birthTime.slice(0,2)),kt=U?30:Number(V.birthTime.slice(2,4)),Dt=new Date(dt,gt-1,Mt,Nt,kt,0,0),St=!V.birthPlace||V.birthPlace.lon===0?127.5:V.birthPlace.lon,Ot=Zo(Dt,St,U),Ct=I?new Date(Ot.getTime()-3600*1e3):Ot,Kt=V.mingSikType??"조자시/야자시",It=oe(Ct,St),Wt=Se(Ct,St),xt=ae(Ct,Kt),Rt=U?null:Ur(Ct,Kt);return{corrected:Ct,year:{stem:It.charAt(0),branch:It.charAt(1)},month:{stem:Wt.charAt(0),branch:Wt.charAt(1)},day:{stem:xt.charAt(0),branch:xt.charAt(1)},hour:Rt?{stem:Rt.charAt(0),branch:Rt.charAt(1)}:null}}const[T,M]=O.useState(()=>S(t,y));O.useEffect(()=>{M(S(t,y))},[t,y]);const D=t.id??`${t.birthDay}-${t.birthTime}-${t.name??""}`,A=O.useMemo(()=>{const V=Number(t.birthDay.slice(0,4)),I=Number(t.birthDay.slice(4,6)),U=Number(t.birthDay.slice(6,8));let dt=new Date(V,I-1,U);return t.calendarType==="lunar"&&(dt=Ir(V,I,U)),(!t.birthTime||t.birthTime==="모름")&&dt.setDate(dt.getDate()),ae(dt,"조자시/야자시").charAt(0)},[t.birthDay,t.birthTime,t.calendarType]),[z,H]=O.useState(null),[k,B]=O.useState(()=>t.mingSikType==="인시");O.useEffect(()=>{H(null),B(t.mingSikType==="인시")},[D,t.mingSikType]);const C=O.useMemo(()=>(k?_p:F_)[A]??[],[k,A]),q=z??T.hour,et=s.sinsalBase==="일지"?T.day.branch:T.year.branch,st=qs(V=>V.setManualHour),W=(V,I)=>{const U={stem:V,branch:I};H(U),st(U)},Q=V=>s.showSibiUnseong?$n(A,V):null,F=V=>s.showSibiSinsal?In({baseBranch:et,targetBranch:V,era:D0(s.sinsalMode),gaehwa:s.sinsalBloom}):null,G=uj(t,u),tt=Z7({query:"(min-width: 992px)"}),ht=s.hiddenStem==="regular"?"main":"all",it=s.exposure,Z=it==="원국"?0:Ej[it],rt=Z===0?[]:G.filter(V=>Mj(V.label)<=Z),ot=vf(f,p,g),yt=()=>_(V=>!V),j=Wp(t,r,a),$=j.dae.gz,Y=j.se.gz,J=j.wol.gz;return b.jsxs("div",{className:"w-full max-w-[640px] mx-auto",children:[b.jsxs("div",{className:"mb-1 flex flex-wrap items-end justify-between gap-2 p-2",children:[b.jsxs("div",{children:[b.jsxs("div",{className:"text-md desk:text-xl font-bold text-neutral-900 dark:text-neutral-100",children:[(t.name?.trim()||"이름없음")+" ",b.jsxs("span",{className:"text-sm text-neutral-500 dark:text-neutral-400 mr-2",children:["(",t.gender,")"]}),ot&&b.jsxs("button",{onClick:yt,className:`px-2 py-0.5 text-xs rounded cursor-pointer border
                  ${y?"bg-red-600 text-white border-red-600":"bg-neutral-100 text-neutral-700 border-neutral-300 dark:bg-neutral-800 dark:text-neutral-200 dark:border-neutral-700"}`,children:["썸머타임 ",y?"ON":"OFF"]})]}),b.jsxs("div",{className:"text-sm text-neutral-600 dark:text-neutral-400",children:[jj(t.birthDay,t.birthTime),t.birthPlace?.name?` · ${"출생지: "+t.birthPlace.name}`:""]}),b.jsxs("div",{className:"text-sm text-neutral-600 dark:text-neutral-400",children:["보정시: ",`${w?"모름":fj(T.corrected)}`]})]}),b.jsxs("div",{className:"text-xs text-neutral-500 dark:text-neutral-400",children:["기준 경도: ",d.toFixed(2),"° · ",u," 기준"]})]}),b.jsxs("div",{className:`grid gap-2 p-2 desk:p-0 ${rt.length===0?"grid-cols-1":rt.length===1?"grid-cols-[2fr_8fr]":rt.length===2?"grid-cols-[3.5fr_6.5fr]":"grid-cols-[4fr_5fr]"}`,children:[rt.length>0&&(tt?b.jsxs("section",{className:"rounded-lg bg-white dark:bg-neutral-900 text-neutral-900 dark:text-white border border-neutral-200 dark:border-neutral-700 shadow",children:[b.jsx("div",{className:"px-3 py-1 text-md text-neutral-600 dark:text-neutral-300",children:b.jsx("b",{children:"운"})}),b.jsx("div",{className:"pb-2",children:b.jsx("div",{className:`grid gap-2 p-3 ${rt.length===1?"grid-cols-1":rt.length===2?"grid-cols-2":"grid-cols-3"}`,children:rt.map(V=>{let I=V.data.stem,U=V.data.branch;V.label.includes("대운")&&$&&(I=$.charAt(0),U=$.charAt(1)),V.label.includes("세운")&&Y&&(I=Y.charAt(0),U=Y.charAt(1)),V.label.includes("월운")&&J&&(I=J.charAt(0),U=J.charAt(1));const dt=Q(U),gt=F(U);return b.jsxs("div",{className:"rounded-xl bg-white dark:bg-neutral-900 border border-neutral-200 dark:border-neutral-800 overflow-hidden",children:[b.jsx("div",{className:"px-2 py-1 text-center text-xs tracking-wider bg-neutral-50 dark:bg-neutral-800/60 text-neutral-600 dark:text-neutral-300",children:V.label}),b.jsxs("div",{className:"p-2 flex flex-col items-center gap-1",children:[s.showSipSin&&b.jsx("div",{className:"text-xs text-neutral-500 dark:text-neutral-400",children:Un(A,{stem:I})}),b.jsx(qa,{value:I,kind:"stem",charType:s.charType,thinEum:s.thinEum}),b.jsx(qa,{value:U,kind:"branch",charType:s.charType,thinEum:s.thinEum}),b.jsx(wc,{branch:U,dayStem:A,mode:ht,mapping:s.hiddenStemMode}),(s.showSibiUnseong||s.showSibiSinsal)&&b.jsxs("div",{className:"text-[11px] text-neutral-500 dark:text-neutral-400 mt-1 text-center space-y-0.5",children:[s.showSibiUnseong&&b.jsx("div",{children:dt}),s.showSibiSinsal&&b.jsx("div",{children:gt})]})]})]},V.key)})})})]}):b.jsxs("div",{className:"rounded-lg bg-white dark:bg-neutral-900 text-neutral-900 dark:text-white border border-neutral-200 dark:border-neutral-700 shadow",children:[b.jsx("div",{className:"px-3 py-1 text-[11px] text-neutral-600 dark:text-neutral-300",children:"운"}),b.jsx("div",{className:"pb-2",children:b.jsx("div",{className:`grid gap-1 p-0 ${rt.length===1?"grid-cols-1":rt.length===2?"grid-cols-2":"grid-cols-3"}`,children:rt.map(V=>{const I=V.data.stem,U=V.data.branch,dt=Q(U),gt=F(U);return b.jsxs("div",{className:"rounded-xl bg-white dark:bg-neutral-900 border border-neutral-200 dark:border-neutral-800 overflow-hidden",children:[b.jsx("div",{className:"py-1 text-center text-xs tracking-wider bg-neutral-50 dark:bg-neutral-800/60 text-neutral-600 dark:text-neutral-300",children:V.label}),b.jsxs("div",{className:"py-2 flex flex-col items-center gap-1",children:[s.showSipSin&&b.jsx("div",{className:"text-xs text-neutral-500 dark:text-neutral-400",children:Un(A,{stem:I})}),b.jsx(qa,{value:I,kind:"stem",charType:s.charType,thinEum:s.thinEum}),b.jsx(qa,{value:U,kind:"branch",charType:s.charType,thinEum:s.thinEum}),b.jsx(wc,{branch:U,dayStem:A,mode:ht,mapping:s.hiddenStemMode}),(s.showSibiUnseong||s.showSibiSinsal)&&b.jsxs("div",{className:"text-[11px] text-neutral-500 dark:text-neutral-400 mt-1 text-center space-y-0.5",children:[s.showSibiUnseong&&b.jsx("div",{children:dt}),s.showSibiSinsal&&b.jsx("div",{children:gt})]})]})]},V.key)})})})]})),tt?b.jsxs("section",{className:"flex-2 rounded-lg bg-white dark:bg-neutral-900 text-neutral-900 dark:text-white border border-neutral-200 dark:border-neutral-700 shadow",children:[b.jsx("div",{className:"px-3 py-1 text-md text-neutral-600 dark:text-neutral-300",children:b.jsx("b",{children:"원국"})}),b.jsx("div",{className:"pb-2",children:b.jsx("div",{className:"grid grid-cols-4 gap-2 p-3",children:[{key:"hour",label:"시주",data:q},{key:"day",label:"일주",data:T.day},{key:"month",label:"월주",data:T.month},{key:"year",label:"연주",data:T.year}].map(V=>b.jsxs("div",{className:"rounded-xl bg-white dark:bg-neutral-900 border border-neutral-200 dark:border-neutral-800 overflow-hidden",children:[b.jsx("div",{className:"px-2 py-1 text-center text-xs tracking-wider bg-neutral-50 dark:bg-neutral-800/60 text-neutral-600 dark:text-neutral-300",children:V.label}),b.jsx("div",{className:"p-2 flex flex-col items-center gap-1",children:V.data?b.jsxs(b.Fragment,{children:[s.showSipSin&&b.jsx("div",{className:"text-xs text-neutral-500 dark:text-neutral-400",children:Un(A,{stem:V.data.stem})}),b.jsx(qa,{value:V.data.stem,kind:"stem",charType:s.charType,thinEum:s.thinEum}),b.jsx(qa,{value:V.data.branch,kind:"branch",charType:s.charType,thinEum:s.thinEum}),b.jsx(wc,{branch:V.data.branch,dayStem:A,mode:ht,mapping:s.hiddenStemMode}),(s.showSibiUnseong||s.showSibiSinsal)&&b.jsxs("div",{className:"text-[11px] text-neutral-500 dark:text-neutral-400 mt-1 text-center space-y-0.5",children:[s.showSibiUnseong&&b.jsx("div",{children:$n(A,V.data.branch)}),s.showSibiSinsal&&b.jsx("div",{children:In({baseBranch:s.sinsalBase==="일지"?T.day.branch:T.year.branch,targetBranch:V.data.branch,era:D0(s.sinsalMode),gaehwa:s.sinsalBloom})})]})]}):b.jsx("span",{className:"text-[10px] desk:text-xs text-neutral-500 dark:text-neutral-400",children:"시간 미상"})})]},V.key))})})]}):b.jsxs("div",{className:"flex-2 rounded-lg bg-white dark:bg-neutral-900 text-neutral-900 dark:text-white border border-neutral-200 dark:border-neutral-700 shadow",children:[b.jsx("div",{className:"px-3 py-1 text-[11px] text-neutral-600 dark:text-neutral-300",children:"원국"}),b.jsx("div",{className:"px-1 pb-2",children:b.jsx("div",{className:"grid grid-cols-4 gap-1",children:[{key:"hour",label:"시주",data:q},{key:"day",label:"일주",data:T.day},{key:"month",label:"월주",data:T.month},{key:"year",label:"연주",data:T.year}].map(V=>b.jsxs("div",{className:"rounded-xl bg-white dark:bg-neutral-900 border border-neutral-200 dark:border-neutral-800 overflow-hidden",children:[b.jsx("div",{className:"py-1 text-center text-xs tracking-wider bg-neutral-50 dark:bg-neutral-800/60 text-neutral-600 dark:text-neutral-300",children:V.label}),b.jsx("div",{className:"py-2 flex flex-col items-center gap-1",children:V.data?b.jsxs(b.Fragment,{children:[s.showSipSin&&b.jsx("div",{className:"text-xs text-neutral-500 dark:text-neutral-400",children:Un(A,{stem:V.data.stem})}),b.jsx(qa,{value:V.data.stem,kind:"stem",charType:s.charType,thinEum:s.thinEum}),b.jsx(qa,{value:V.data.branch,kind:"branch",charType:s.charType,thinEum:s.thinEum}),b.jsx(wc,{branch:V.data.branch,dayStem:A,mode:ht,mapping:s.hiddenStemMode}),(s.showSibiUnseong||s.showSibiSinsal)&&b.jsxs("div",{className:"text-[11px] text-neutral-500 dark:text-neutral-400 mt-1 text-center space-y-0.5",children:[s.showSibiUnseong&&b.jsx("div",{children:$n(A,V.data.branch)}),s.showSibiSinsal&&b.jsx("div",{children:In({baseBranch:s.sinsalBase==="일지"?T.day.branch:T.year.branch,targetBranch:V.data.branch,era:D0(s.sinsalMode),gaehwa:s.sinsalBloom})})]})]}):b.jsx("span",{className:"text-xs text-neutral-500 dark:text-neutral-400 text-nowrap",children:"시간 미상"})})]},V.key))})})]})]}),w&&b.jsxs("div",{className:"mt-4 p-3 border rounded bg-neutral-50 dark:bg-neutral-800",children:[b.jsxs("div",{className:"flex items-center justify-between mb-2",children:[b.jsx("span",{className:"font-semibold text-sm text-neutral-700 dark:text-neutral-300",children:"시주 예측"}),b.jsx("button",{onClick:()=>B(V=>!V),className:"px-2 py-1 text-xs rounded border bg-white dark:bg-neutral-900 border-neutral-300 dark:border-neutral-600 cursor-pointer",children:k?"현재 : 인시":"현재 : 자시"})]}),b.jsx("div",{className:"grid grid-cols-4 gap-2",children:C.map(V=>{const I=V.charAt(0),U=V.charAt(1),dt=z?.stem===I&&z?.branch===U;return b.jsx("button",{onClick:()=>W(I,U),className:`p-2 text-xs rounded border cursor-pointer ${dt?Aj(U):"bg-white dark:bg-neutral-900 text-neutral-700 dark:text-neutral-200 border-neutral-300 dark:border-neutral-600"}`,title:`${V} (시주 후보)`,children:V},V)})})]})]})}function qa({value:t,kind:r,charType:a,thinEum:s}){const{settings:u}=Sr(),d=xr(t,r,u),f=Sj(t,r,a),p=wj(t,r),g=s&&p?"font-thin":"font-bold";return b.jsx("div",{className:`w-11 h-11 sm:w-14 sm:h-14 md:w-14 md:h-14 rounded-md ${d} flex items-center justify-center border border-neutral-200 dark:border-neutral-800`,children:b.jsx("span",{className:`text-[24px] md:text-2xl ${g} text-white`,children:f})})}function jj(t,r){if(!t||!/^\d{8}$/.test(t))return"";const a=t.slice(0,4),s=t.slice(4,6),u=t.slice(6,8),d=`${a}-${s}-${u}`;return!r||r==="모름"||!/^\d{4}$/.test(r)?d:`${d} ${r.slice(0,2)}:${r.slice(2,4)}`}function Kc(t){const r=Number(t.birthDay?.slice(0,4)),a=Number(t.birthDay?.slice(4,6))-1,s=Number(t.birthDay?.slice(6,8)),u=!t.birthTime||t.birthTime==="모름"?0:Number(t.birthTime?.slice(0,2)),d=!t.birthTime||t.birthTime==="모름"?0:Number(t.birthTime?.slice(2,4)),f=new Date(r,a,s,u,d,0,0);if(isNaN(f.getTime()))throw new Error(`Invalid date: ${t.birthDay} ${t.birthTime}`);const p=!t.birthPlace||typeof t.birthPlace=="object"&&t.birthPlace.name==="모름";return Zo(f,t.birthPlace?.lon??127.5,p)}function Xc(t,r){const a=t,s=typeof a.isUnknownTime=="boolean"?a.isUnknownTime:!1,u=typeof a.birthTime=="string"&&/^(?:\d{4}|\d{2}:\d{2})$/.test(a.birthTime),d=typeof a.birthHour=="number",f=typeof a.birthMinute=="number";if(s||!(u||d||f)){const g=new Date(r);return g.setDate(g.getDate()+1),g.setHours(4,30,0,0),g}return r}function th(t,r){const a=t.length;if(a===0||!r)return 0;const s=t[0].at.getTime(),u=t[a-1].at.getTime(),d=r.getTime();if(d<=s)return 0;if(d>=u)return a-1;for(let f=0;f<a-1;f+=1){const p=t[f].at.getTime(),g=t[f+1].at.getTime();if(d>=p&&d<g)return f}return 0}const D2={甲:"갑",乙:"을",丙:"병",丁:"정",戊:"무",己:"기",庚:"경",辛:"신",壬:"임",癸:"계"},j2={子:"자",丑:"축",寅:"인",卯:"묘",辰:"진",巳:"사",午:"오",未:"미",申:"신",酉:"유",戌:"술",亥:"해"},kj=Object.fromEntries(Object.entries(D2).map(([t,r])=>[r,t])),Oj=Object.fromEntries(Object.entries(j2).map(([t,r])=>[r,t]));function fx(t,r,a){return a==="한글"?r==="stem"?D2[t]??t:j2[t]??t:r==="stem"?kj[t]??t:Oj[t]??t}const Cj=new Set(["乙","丁","己","辛","癸","을","정","기","신","계"]),Lj=new Set(["丑","卯","巳","未","酉","亥","축","묘","사","미","유","해"]);function hx(t,r){return r==="stem"?Cj.has(t):Lj.has(t)}function Bj(t){return typeof t=="object"&&t!==null}function Rj(t){return Bj(t)&&("Classic"in t||"Modern"in t||"classic"in t||"modern"in t)}function Pj(t){const r=Yo;return Rj(r)?t==="classic"?r.Classic:r.Modern:t}function zj({data:t}){const r=Vc(t),a=Kc(t),s=O.useMemo(()=>Xc(t,a),[t,a]),u=O.useMemo(()=>{const q=t.mingSikType??"조자시/야자시";return ae(s,q).charAt(0)},[s,t.mingSikType]),{date:d,setFromEvent:f}=Zn(),p=O.useMemo(()=>th(r,d),[r,d]),g=Sr(q=>q.settings),{charType:y,thinEum:_,showSipSin:w,showSibiUnseong:S,showSibiSinsal:T,sinsalBase:M,sinsalMode:D,sinsalBloom:A}=g,z=!t.birthPlace||t.birthPlace.name==="모름"||t.birthPlace.lon===0?127.5:t.birthPlace.lon,H=t.mingSikType??"조자시/야자시",k=M==="일지"?ae(s,H).charAt(1):oe(s,z).charAt(1),B=q=>S?$n(u,q):null,C=q=>T?In({baseBranch:k,targetBranch:q,era:Pj(D),gaehwa:!!A}):null;return b.jsxs("div",{className:"w-full max-w-[640px] mx-auto rounded-xl bg-white dark:bg-neutral-900 border border-neutral-200 dark:border-neutral-800 overflow-hidden",children:[b.jsx("div",{className:"px-3 py-2 text-sm font-semibold tracking-wider bg-neutral-50 dark:bg-neutral-800/60 text-neutral-700 dark:text-neutral-300",children:"대운리스트"}),b.jsx("div",{className:"flex gap-0.5 desk:gap-1 py-2 desk:p-2 flex-row-reverse",children:r.map((q,et)=>{const st=q.gz.charAt(0),W=q.gz.charAt(1),Q=Hj(s,q.at),F=et===p,G=fx(st,"stem",y),tt=fx(W,"branch",y),ht=hx(st,"stem"),it=hx(W,"branch"),Z=_&&ht?"font-thin":"font-bold",rt=_&&it?"font-thin":"font-bold",ot=B(W),yt=C(W);return b.jsxs("div",{onClick:()=>f(q,"대운"),className:`flex-1 rounded-sm desk:rounded-lg bg-white dark:bg-neutral-900 overflow-hidden cursor-pointer ${F?"border border-yellow-500":"border border-neutral-200 dark:border-neutral-800 hover:border-yellow-500"}`,title:`${q.gz} · ${q.at.toLocaleDateString()}`,children:[b.jsx("div",{className:"desk:px-2 py-1 text-center text-[10px] bg-neutral-50 dark:bg-neutral-800/60 text-neutral-600 dark:text-neutral-300",children:Q}),b.jsxs("div",{className:"p-2 flex flex-col items-center gap-1",children:[w&&b.jsx("div",{className:"text-[10px] text-neutral-500 dark:text-neutral-400 text-nowrap",children:Un(u,{stem:st})}),b.jsx("div",{className:`w-8 h-8 md:w-10 md:h-10 rounded-sm md:rounded-lg flex items-center justify-center border border-neutral-200 dark:border-neutral-800 ${xr(st,"stem",g)}`,children:b.jsx("span",{className:`text-[20px] md:text-xl text-white ${Z}`,children:G})}),b.jsx("div",{className:`w-8 h-8 md:w-10 md:h-10 rounded-sm md:rounded-lg flex items-center justify-center border border-neutral-200 dark:border-neutral-800 ${xr(W,"branch",g)}`,children:b.jsx("span",{className:`text-[20px] md:text-xl text-white ${rt}`,children:tt})}),w&&b.jsx("div",{className:"text-[10px] text-neutral-500 dark:text-neutral-400 text-nowrap",children:Un(u,{branch:W})}),(S||T)&&b.jsxs("div",{className:"text-[11px] text-neutral-500 dark:text-neutral-400 mt-1 text-center space-y-0.5 text-nowrap",children:[S&&b.jsx("div",{children:ot}),T&&b.jsx("div",{children:yt})]})]})]},q.gz)})})]})}function Hj(t,r){const s=(r.getTime()-t.getTime())/(365.2425*24*60*60*1e3);return Math.max(0,Math.round(s))}const k2={甲:"갑",乙:"을",丙:"병",丁:"정",戊:"무",己:"기",庚:"경",辛:"신",壬:"임",癸:"계"},O2={子:"자",丑:"축",寅:"인",卯:"묘",辰:"진",巳:"사",午:"오",未:"미",申:"신",酉:"유",戌:"술",亥:"해"},$j=Object.fromEntries(Object.entries(k2).map(([t,r])=>[r,t])),Ij=Object.fromEntries(Object.entries(O2).map(([t,r])=>[r,t]));function mx(t,r,a){return a==="한글"?r==="stem"?k2[t]??t:O2[t]??t:r==="stem"?$j[t]??t:Ij[t]??t}const Uj=new Set(["乙","丁","己","辛","癸","을","정","기","신","계"]),Gj=new Set(["丑","卯","巳","未","酉","亥","축","묘","사","미","유","해"]);function px(t,r){return r==="stem"?Uj.has(t):Gj.has(t)}function Zj(t){return typeof t=="object"&&t!==null}function Yj(t){return Zj(t)&&("Classic"in t||"Modern"in t||"classic"in t||"modern"in t)}function qj(t){const r=Yo;return Yj(r)?t==="classic"?r.Classic:r.Modern:t}function gx(t){return new Date(t,6,2,12,0,0,0)}function Fj(t,r){const a=r??new Date,s=a.getMonth(),u=a.getHours(),d=a.getMinutes();return s===0?new Date(t+1,0,10,u,d,0,0):new Date(t,s,10,u,d,0,0)}function Vj({data:t,list:r,onSelect:a}){const s=Sr(C=>C.settings),{date:u,setFromEvent:d}=Zn(),[f,p]=O.useState(()=>r);O.useEffect(()=>{r&&r.length>0&&p(r)},[r]);const g=Kc(t),y=O.useMemo(()=>Xc(t,g),[t,g]),_=!t.birthPlace||t.birthPlace.name==="모름"||t.birthPlace.lon===0?127.5:t.birthPlace.lon,w=O.useMemo(()=>{if(!u)return[];const C=u.getFullYear(),q=gx(C),et=oe(q,_);return[{at:q,gz:et}]},[u,_]),S=r.length>0?r:f.length>0?f:w,T=O.useMemo(()=>[...S].sort((C,q)=>C.at.getTime()-q.at.getTime()),[S]),M=O.useMemo(()=>{if(T.length===0)return 0;const C=th(T,u);return C<0?0:C>=T.length?T.length-1:C},[T,u]),[D,A]=O.useState(null);O.useEffect(()=>{A(null)},[u,T]);const z=D??M,H=t.mingSikType??"조자시/야자시",k=O.useMemo(()=>ae(y,H).charAt(0),[y,H]),B=O.useMemo(()=>s.sinsalBase==="일지"?ae(y,H).charAt(1):oe(y,_).charAt(1),[y,H,_,s.sinsalBase]);return b.jsxs("div",{className:"w-full max-w-[640px] mx-auto rounded-xl bg-white dark:bg-neutral-900 border border-neutral-200 dark:border-neutral-800 overflow-hidden",children:[b.jsx("div",{className:"px-3 py-2 text-sm font-semibold tracking-wider bg-neutral-50 dark:bg-neutral-800/60 text-neutral-700 dark:text-neutral-300",children:"세운리스트"}),b.jsx("div",{className:"flex gap-0.5 desk:gap-1 py-2 desk:p-2 flex-row-reverse",children:T.map((C,q)=>{const et=C.at.getFullYear(),st=gx(et),W=oe(st,_),Q=W.charAt(0),F=W.charAt(1),G=q===z,tt=mx(Q,"stem",s.charType),ht=mx(F,"branch",s.charType),it=px(Q,"stem"),Z=px(F,"branch"),rt=s.thinEum&&it?"font-thin":"font-bold",ot=s.thinEum&&Z?"font-thin":"font-bold",yt=s.showSibiUnseong?$n(k,F):null,j=s.showSibiSinsal?In({baseBranch:B,targetBranch:F,era:qj(s.sinsalMode),gaehwa:!!s.sinsalBloom}):null;return b.jsxs("div",{onClick:()=>{A(q);const $=Fj(et,u);d({at:$,gz:oe($,_)},"세운"),a&&(typeof queueMicrotask<"u"?queueMicrotask(()=>a(et)):Promise.resolve().then(()=>a(et)))},className:`flex-1 rounded-sm desk:rounded-lg bg-white dark:bg-neutral-900 overflow-hidden cursor-pointer ${G?"border border-yellow-500":"border border-neutral-200 dark:border-neutral-800 hover:border-yellow-500"}`,title:`${W} · ${C.at.toLocaleDateString()}`,children:[b.jsx("div",{className:"desk:px-2 py-1 text-center text-[10px] bg-neutral-50 dark:bg-neutral-800/60 text-neutral-600 dark:text-neutral-300",children:et}),b.jsxs("div",{className:"p-2 flex flex-col items-center gap-1",children:[s.showSipSin&&b.jsx("div",{className:"text-[10px] text-neutral-500 dark:text-neutral-400 text-nowrap",children:Un(k,{stem:Q})}),b.jsx("div",{className:`w-8 h-8 md:w-10 md:h-10 rounded-sm md:rounded-lg flex items-center justify-center border ${xr(Q,"stem",s)}`,children:b.jsx("span",{className:`text-[20px] md:text-xl text-white ${rt}`,children:tt})}),b.jsx("div",{className:`w-8 h-8 md:w-10 md:h-10 rounded-sm md:rounded-lg flex items-center justify-center border ${xr(F,"branch",s)}`,children:b.jsx("span",{className:`text-[20px] md:text-xl text-white ${ot}`,children:ht})}),s.showSipSin&&b.jsx("div",{className:"text-[10px] text-neutral-500 dark:text-neutral-400 text-nowrap",children:Un(k,{branch:F})}),(s.showSibiUnseong||s.showSibiSinsal)&&b.jsxs("div",{className:"text-[10px] text-neutral-500 dark:text-neutral-400 text-center text-nowrap",children:[s.showSibiUnseong&&yt&&b.jsx("div",{children:yt}),s.showSibiSinsal&&j&&b.jsx("div",{children:j})]})]})]},`${et}-${C.gz||q}`)})})]})}const Kj=new Set(["입춘","경칩","청명","입하","망종","소서","입추","백로","한로","입동","대설","소한"]);function lf(t){const r=t.getFullYear(),s=[...xi(new Date(r-1,5,15,12,0))??[],...xi(new Date(r,5,15,12,0))??[],...xi(new Date(r+1,5,15,12,0))??[]].map(p=>({name:String(p.name),date:new Date(p.date)})).sort((p,g)=>p.date.getTime()-g.date.getTime()).filter(p=>Kj.has(p.name));let u=s.findIndex((p,g)=>s[g].date<=t&&t<s[g+1]?.date);u<0&&(u=0);const d=s[u],f=s[u+1];return{start:new Date(d.date.getFullYear(),d.date.getMonth(),d.date.getDate(),0,0,0,0),end:new Date(f.date.getFullYear(),f.date.getMonth(),f.date.getDate(),0,0,0,0),cur:d,next:f}}const C2={甲:"갑",乙:"을",丙:"병",丁:"정",戊:"무",己:"기",庚:"경",辛:"신",壬:"임",癸:"계"},L2={子:"자",丑:"축",寅:"인",卯:"묘",辰:"진",巳:"사",午:"오",未:"미",申:"신",酉:"유",戌:"술",亥:"해"},Xj=Object.fromEntries(Object.entries(C2).map(([t,r])=>[r,t])),Wj=Object.fromEntries(Object.entries(L2).map(([t,r])=>[r,t]));function bx(t,r,a){return a==="한글"?r==="stem"?C2[t]??t:L2[t]??t:r==="stem"?Xj[t]??t:Wj[t]??t}const Qj=new Set(["乙","丁","己","辛","癸","을","정","기","신","계"]),Jj=new Set(["丑","卯","巳","未","酉","亥","축","묘","사","미","유","해"]);function yx(t,r){return r==="stem"?Qj.has(t):Jj.has(t)}function tk(t){return typeof t=="object"&&t!==null}function ek(t){return tk(t)&&("Classic"in t||"Modern"in t||"classic"in t||"modern"in t)}function nk(t){const r=Yo;return ek(r)?t==="classic"?r.Classic:r.Modern:t}const rk=new Set(["입춘","경칩","청명","입하","망종","소서","입추","백로","한로","입동","대설","소한"]);function ik(t){return new Date(t.getFullYear(),t.getMonth(),t.getDate(),0,0,0,0)}function ak(t){const r=new Intl.DateTimeFormat("ko-KR",{timeZone:"Asia/Seoul",month:"numeric"}).formatToParts(t);return Number(r.find(a=>a.type==="month")?.value??t.getMonth()+1)}function j0(t){return new Date(t,5,15,12,0,0,0)}function ok(t){const a=[...xi(j0(t-1))??[],...xi(j0(t))??[],...xi(j0(t+1))??[]].map(p=>({name:String(p.name),date:new Date(p.date)})).sort((p,g)=>p.date.getTime()-g.date.getTime()).filter(p=>rk.has(p.name)),s=new Date(t,0,1,0,0,0,0),u=new Date(t+1,0,1,0,0,0,0),d=a.findIndex(p=>p.name==="입춘"&&p.date>=s&&p.date<u);if(d===-1)return[];const f=[];for(let p=0;p<12;p++){const g=a[d+p];if(!g)break;const y=new Date(g.date),_=ik(y);f.push({name:g.name,termAt:y,at00:_})}return f}function sk({data:t,activeYear:r,onSelect:a,onSelectMonth:s}){const u=Sr(D=>D.settings),d=!t.birthPlace||t.birthPlace.name==="모름"||t.birthPlace.lon===0?127.5:t.birthPlace.lon,f=Kc(t),p=O.useMemo(()=>Xc(t,f),[t,f]),g=t.mingSikType??"조자시/야자시",y=O.useMemo(()=>ae(p,g).charAt(0),[p,g]),_=u.sinsalBase==="일지"?ae(p,g).charAt(1):oe(p,d).charAt(1),w=O.useMemo(()=>r?ok(r).map(A=>{const z=A.at00,H=new Date(A.at00);H.setDate(H.getDate()+1);const k=Se(H,d);return{at:z,gz:k,term:A.name,termAt:A.termAt}}):[],[r,d]),{date:S,setFromEvent:T}=Zn(),M=th(w,S);return b.jsxs("div",{className:"w-full max-w-[640px] mx-auto rounded-xl bg-white dark:bg-neutral-900 border border-neutral-200 dark:border-neutral-800 overflow-hidden",children:[b.jsx("div",{className:"px-3 py-2 text-sm font-semibold tracking-wider bg-neutral-50 dark:bg-neutral-800/60 text-neutral-700 dark:text-neutral-300",children:"월운리스트"}),b.jsx("div",{className:"flex gap-0.5 desk:gap-1 py-2 desk:p-2 flex-row-reverse",children:w.map((D,A)=>{const z=D.gz.charAt(0),H=D.gz.charAt(1),k=`${ak(D.at)}월`,B=A===M,C=bx(z,"stem",u.charType),q=bx(H,"branch",u.charType),et=yx(z,"stem"),st=yx(H,"branch"),W=u.thinEum&&et?"font-thin":"font-bold",Q=u.thinEum&&st?"font-thin":"font-bold",F=u.showSibiUnseong?$n(y,H):null,G=u.showSibiSinsal?In({baseBranch:_,targetBranch:H,era:nk(u.sinsalMode),gaehwa:!!u.sinsalBloom}):null;return b.jsxs("div",{onClick:()=>{s(D.at);const tt=new Date(D.at),{start:ht}=lf(tt);a?.(ht.getFullYear(),ht.getMonth()),T({at:tt,gz:Se(tt,d)},"월운")},className:`flex-1 rounded-sm desk:rounded-lg bg-white dark:bg-neutral-900 overflow-hidden cursor-pointer ${B?"border border-yellow-500":"border border-neutral-200 dark:border-neutral-800 hover:border-yellow-500"}`,title:`${D.term} 시작 · ${D.gz} · ${D.termAt.toLocaleString()}`,children:[b.jsx("div",{className:"desk:px-2 py-1 text-center text-[10px] bg-neutral-50 dark:bg-neutral-800/60 text-neutral-600 dark:text-neutral-300",children:k}),b.jsxs("div",{className:"p-2 flex flex-col items-center gap-1",children:[u.showSipSin&&b.jsx("div",{className:"text-[10px] text-neutral-500 dark:text-neutral-400 text-nowrap",children:Un(y,{stem:z})}),b.jsx("div",{className:`w-7 h-7 sm:w-8 sm:h-8 md:w-10 md:h-10 rounded-sm md:rounded-lg flex items-center justify-center border border-neutral-200 dark:border-neutral-800 ${xr(z,"stem",u)}`,children:b.jsx("span",{className:`text-base md:text-xl text-white ${W}`,children:C})}),b.jsx("div",{className:`w-7 h-7 sm:w-8 sm:h-8 md:w-10 md:h-10 rounded-sm md:rounded-lg flex items-center justify-center border border-neutral-200 dark:border-neutral-800 ${xr(H,"branch",u)}`,children:b.jsx("span",{className:`text-base md:text-xl text-white ${Q}`,children:q})}),u.showSipSin&&b.jsx("div",{className:"text-[10px] text-neutral-500 dark:text-neutral-400 text-nowrap",children:Un(y,{branch:H})}),(u.showSibiUnseong||u.showSibiSinsal)&&b.jsxs("div",{className:"text-[10px] text-neutral-500 dark:text-neutral-400 text-center text-nowrap",children:[u.showSibiUnseong&&F&&b.jsx("div",{children:F}),u.showSibiSinsal&&G&&b.jsx("div",{children:G})]}),b.jsx("div",{className:"text-[10px] text-neutral-400 dark:text-neutral-500 text-nowrap",children:D.term})]})]},`${D.term}-${D.at.toISOString()}`)})})]})}const B2={甲:"갑",乙:"을",丙:"병",丁:"정",戊:"무",己:"기",庚:"경",辛:"신",壬:"임",癸:"계"},R2={子:"자",丑:"축",寅:"인",卯:"묘",辰:"진",巳:"사",午:"오",未:"미",申:"신",酉:"유",戌:"술",亥:"해"},lk=Object.fromEntries(Object.entries(B2).map(([t,r])=>[r,t])),ck=Object.fromEntries(Object.entries(R2).map(([t,r])=>[r,t]));function vx(t,r,a){return a==="한글"?r==="stem"?B2[t]??t:R2[t]??t:r==="stem"?lk[t]??t:ck[t]??t}const uk=new Set(["乙","丁","己","辛","癸","을","정","기","신","계"]),dk=new Set(["丑","卯","巳","未","酉","亥","축","묘","사","미","유","해"]);function xx(t,r){return r==="stem"?uk.has(t):dk.has(t)}function fk(t){return typeof t=="object"&&t!==null}function hk(t){return fk(t)&&("Classic"in t||"Modern"in t||"classic"in t||"modern"in t)}function mk(t){const r=Yo;return hk(r)?t==="classic"?r.Classic:r.Modern:t}function pk({data:t,year:r,month:a,hourTable:s,selectedMonth:u}){const d=Sr(W=>W.settings),f=s??t?.mingSikType??"조자시/야자시",p=t?Kc(t):null,g=t&&p?Xc(t,p):null,y=O.useMemo(()=>g?ae(g,f).charAt(0):void 0,[g,f]),_=t&&t.birthPlace&&t.birthPlace.name!=="모름"&&t.birthPlace.lon!==0?t.birthPlace.lon:127.5,w=t&&g?d.sinsalBase==="일지"?ae(g,f).charAt(1):oe(g,_).charAt(1):null,S=new Date,T=(()=>{const W=new Date(r,a),Q=lf(W);return new Date(Q.start)})(),M=O.useMemo(()=>lf(T),[T]),D=u?M:lf(S),A=D.start,z=D.end,H=O.useMemo(()=>{const W=[],Q=new Date(A);for(;Q<z;)W.push(new Date(Q)),Q.setDate(Q.getDate()+1);return W},[A,z]),k=O.useMemo(()=>[...xi(new Date(r-1,5,15,12,0))??[],...xi(new Date(r,5,15,12,0))??[],...xi(new Date(r+1,5,15,12,0))??[]].map(Q=>({name:String(Q.name),date:new Date(Q.date)})).sort((Q,F)=>Q.date.getTime()-F.date.getTime()),[r]),B=O.useMemo(()=>{const W=k.filter(F=>F.date>=A&&F.date<z),Q=k.find(F=>F.date>=z);return Q?[...W,Q]:W},[k,A,z]),C=O.useMemo(()=>{const W=[];let Q=[];const F=new Date(A).getDay();for(let G=0;G<F;G++)Q.push(null);for(const G of H)Q.length===7&&(W.push(Q),Q=[]),Q.push(G);for(;Q.length<7;)Q.push(null);return W.push(Q),W},[H,A]),{date:q,setFromEvent:et}=Zn(),st=O.useMemo(()=>{if(!q)return null;const W=new Date(q);return new Date(W.getFullYear(),W.getMonth(),W.getDate(),12,0,0,0)},[q]);return b.jsxs("div",{className:"w-full max-w-[800px] mx-auto mb-4 rounded-xl bg-white dark:bg-neutral-900 border border-neutral-200 dark:border-neutral-800 overflow-hidden",children:[b.jsx("div",{className:"flex justify-center items-center px-2 desk:px-4 py-2 bg-neutral-50 dark:bg-neutral-800/60",children:b.jsxs("div",{className:"text-center text-[11px] desk:text-sm font-semibold text-neutral-700 dark:text-neutral-200",children:[D?.cur?.name?b.jsxs(b.Fragment,{children:[D.cur.name," ~ ",D?.next?.name??""]}):`${r}년 ${a}월`,B.length>0&&b.jsxs("div",{className:"mt-0.5 text-[10px] desk:text-xs font-normal text-neutral-500 dark:text-neutral-400",children:["[",B.map((W,Q)=>b.jsxs("span",{children:[W.name," ",gk(W.date),Q<B.length-1?" · ":""]},W.name+Q)),"]"]})]})}),b.jsx("div",{className:"grid grid-cols-7 text-center text-xs bg-neutral-100 dark:bg-neutral-800 text-neutral-600 dark:text-neutral-300",children:["일","월","화","수","목","금","토"].map(W=>b.jsx("div",{className:"py-1",children:W},W))}),b.jsx("div",{className:"grid grid-cols-7 gap-px bg-neutral-200 dark:bg-neutral-800",children:C.map((W,Q)=>W.map((F,G)=>{if(!F)return b.jsx("div",{className:"bg-white dark:bg-neutral-900"},`${Q}-${G}`);const tt=new Date(F);tt.setHours(12,0,0,0);const ht=new Date,it=tt.getFullYear()===ht.getFullYear()&&tt.getMonth()===ht.getMonth()&&tt.getDate()===ht.getDate(),rt=!!st&&tt.getFullYear()===st.getFullYear()&&tt.getMonth()===st.getMonth()&&tt.getDate()===st.getDate()||!st&&it,ot=ae(tt,f),yt=ot.charAt(0),j=ot.charAt(1),$=vx(yt,"stem",d.charType),Y=vx(j,"branch",d.charType),J=d.thinEum&&xx(yt,"stem")?"font-thin":"font-bold",V=d.thinEum&&xx(j,"branch")?"font-thin":"font-bold",I=!!y&&d.showSipSin,U=!!y&&d.showSibiUnseong,dt=!!y&&w!=null&&d.showSibiSinsal,gt=I?Un(y,{stem:yt}):"",Mt=I?Un(y,{branch:j}):"",Nt=U?$n(y,j):"",kt=dt?In({baseBranch:w,targetBranch:j,era:mk(d.sinsalMode),gaehwa:!!d.sinsalBloom}):"",Dt=B.find(St=>St.date.getFullYear()===tt.getFullYear()&&St.date.getMonth()===tt.getMonth()&&St.date.getDate()===tt.getDate());return b.jsxs("div",{onClick:()=>et({at:tt},"일운"),className:`space-y-1 bg-white dark:bg-neutral-900 flex flex-col items-center justify-start p-1 text-xs border cursor-pointer ${rt?"border-yellow-500":"border-neutral-200 dark:border-neutral-800"}`,title:`${ot} (${tt.toLocaleDateString()})`,children:[b.jsxs("div",{className:"text-neutral-600 dark:text-neutral-400 flex items-center gap-1",children:[b.jsx("span",{children:tt.getDate()}),Dt&&b.jsx("span",{className:"px-1 rounded bg-amber-100 text-amber-700 dark:bg-amber-900/40 dark:text-amber-200",children:Dt.name})]}),I&&b.jsx("div",{className:"text-[10px] text-neutral-500 dark:text-neutral-400",children:gt}),b.jsx("div",{className:`w-8 h-8 rounded flex items-center justify-center text-base text-white ${xr(yt,"stem",d)}`,children:b.jsx("span",{className:J,children:$})}),b.jsx("div",{className:`w-8 h-8 rounded flex items-center justify-center text-base text-white ${xr(j,"branch",d)}`,children:b.jsx("span",{className:V,children:Y})}),I&&b.jsx("div",{className:"text-[10px] text-neutral-500 dark:text-neutral-400",children:Mt}),(U||dt)&&b.jsxs("div",{className:"text-[10px] text-neutral-500 dark:text-neutral-400 text-center space-y-0.5",children:[U&&Nt&&b.jsx("div",{children:Nt}),dt&&kt&&b.jsx("div",{children:kt})]})]},F.toISOString())}))})]})}function gk(t){if(!t)return null;const r=new Intl.DateTimeFormat("ko-KR",{timeZone:"Asia/Seoul",month:"numeric",day:"numeric",hour:"2-digit",minute:"2-digit",hour12:!1}).formatToParts(t);let a="",s="",u="",d="";for(const f of r)f.type==="month"&&(a=f.value),f.type==="day"&&(s=f.value),f.type==="hour"&&(u=f.value),f.type==="minute"&&(d=f.value);return`${a}/${s} ${u}:${d}`}function _x(t,r){const a=t.at.getFullYear(),s=r?r.at.getFullYear():a+10,u=[];for(let d=a;d<s;d++){const f=an(d,315);let p=d;new Date<f&&(p=d-1);const y=oe(new Date(p,1,10));u.push({at:f,gz:y})}return u}function bk({data:t}){const r=Vc(t),[a,s]=O.useState(null),[u,d]=O.useState(null),[f,p]=O.useState("il"),[g,y]=O.useState(null);O.useEffect(()=>{if(!r.length)return;const M=new Date,D=r.findIndex((A,z)=>{const H=r[z+1]?.at;return M>=A.at&&(!H||M<H)});D!==-1&&s(D)},[r]),O.useEffect(()=>{if(a===null)return;const M=r[a],D=r[a+1];if(!M)return;const A=_x(M,D),z=new Date;A.findIndex((k,B)=>{const C=A[B+1]?.at;return z>=k.at&&(!C||z<C)})!==-1&&d({year:z.getFullYear(),month:z.getMonth()})},[a,r]);const _=Wp(t),{date:w}=Zn(),S=w.getMonth()+1===1?w.getFullYear()-1:w.getFullYear(),T=O.useMemo(()=>{if(!_?.dae?.gz)return[];const M=r.findIndex((z,H)=>{const k=r[H+1]?.at;return _.dae.at>=z.at&&(!k||_.dae.at<k)});if(M===-1)return[];const D=r[M],A=r[M+1];return _x(D,A)},[r,_?.dae]);return b.jsxs("div",{className:"w-full space-y-4",children:[b.jsx(zj,{data:t}),f==="se"||f==="wol"||f==="il"?b.jsx(Vj,{data:t,list:T,onSelect:()=>{p("wol")}}):null,f==="wol"||f==="il"?b.jsx(sk,{data:t,activeYear:S,onSelect:(M,D)=>{d({year:M,month:D}),p("il")},onSelectMonth:y}):null,f==="il"&&u&&b.jsx(pk,{data:t,year:u.year,month:u.month,hourTable:t?.mingSikType,selectedMonth:g})]})}const yk=new Set(FT),vk=new Set(VT);function Sx(t){return typeof t=="string"&&t.length>=2&&yk.has(t[0])&&vk.has(t[1])}function hr(t,...r){if(Sx(t))return t;for(const a of r)if(Sx(a))return a;return""}const xk={자:0,축:2,인:4,묘:6,진:8,사:10,오:12,미:14,신:16,유:18,술:20,해:22},P2={甲:"갑",乙:"을",丙:"병",丁:"정",戊:"무",己:"기",庚:"경",辛:"신",壬:"임",癸:"계"},_k={子:"자",丑:"축",寅:"인",卯:"묘",辰:"진",巳:"사",午:"오",未:"미",申:"신",酉:"유",戌:"술",亥:"해"};function wx(t){return!!t&&Hr.천간.includes(t)}function Sk(t){return P2[t]??t}function Tx(t){return _k[t]??t}function wk(t){if(wx(t))return t;const r=P2[t];return wx(r)?r:"갑"}function Tk(t){return typeof t=="object"&&t!==null&&("Classic"in t||"Modern"in t||"classic"in t||"modern"in t)}function Ek(t){const r=Yo;return Tk(r)?t==="classic"?r.Classic??r.classic:r.Modern??r.modern:t}function kd(t,r){let a=null;const s=r.getTime();for(const u of t)if(u.at.getTime()<=s)a=u;else break;return a}function Mk({data:t}){const r=Sr(Q=>Q.settings),{manualHour:a}=qs(),{showSibiUnseong:s,showSibiSinsal:u,sinsalBase:d,sinsalMode:f,sinsalBloom:p}=r,{date:g}=Zn(),y=O.useMemo(()=>Xp(t),[t]),_=O.useMemo(()=>Jf(y),[y]),w=O.useMemo(()=>Vp(y,"조자시/야자시"),[y]),S=O.useMemo(()=>wk(w.day?.charAt(0)??"갑"),[w.day]),T=!t.birthTime||t.birthTime==="모름",M=O.useMemo(()=>w2(_,w.hour,t.dir??"forward",120,"조자시/야자시"),[_,w.hour,t.dir]),D=O.useMemo(()=>E2(M,w.day,t.dir??"forward","인시일수론"),[M,w.day,t.dir]),A=O.useMemo(()=>Fc(_,w.month,t.dir??"forward",120,y.birthPlace?.lon??127.5),[_,w.month,t.dir,y.birthPlace?.lon]),z=O.useMemo(()=>M2(A,w.year,t.dir??"forward","인시일수론",_),[A,w.year,t.dir,_]),H=O.useMemo(()=>{const Q=M?.events?.[0];return Q?{at:Q.at,from:hr(w.hour),to:hr(Q.gz)}:null},[M?.events,w.hour]),k=O.useMemo(()=>{const Q=A?.events?.[0];return A?.firstChange?{at:A.firstChange,from:hr(w.month),to:hr(Q?.gz??w.month)}:null},[A?.firstChange,A?.events,w.month]),B=O.useMemo(()=>{const Q=T?a?a.stem+a.branch:"":hr(kd(M.events,g)?.gz,w.hour);let F;if(T&&a){const G=g.getFullYear(),tt=g.getMonth(),ht=g.getDate(),it=xk[a.branch]??0,Z=new Date(G,tt,ht,it,0),rt=ae(Z,t.mingSikType??"조자시/야자시");F=hr(rt,w.day)}else F=hr(kd(D.events,g)?.gz,w.day);return{si:Q,il:F,wl:hr(kd(A.events,g)?.gz,w.month),yn:hr(kd(z.events,g)?.gz,w.year)}},[g,M.events,D.events,A.events,z.events,w,T,a,t.mingSikType]),C=O.useMemo(()=>({si:hr(Ur(g,"조자시/야자시")),il:hr(ae(g,"조자시/야자시")),wl:hr(Se(g)),yn:hr(oe(g))}),[g]),q=O.useMemo(()=>d==="일지"?w.day.charAt(1):w.year.charAt(1),[d,w.day,w.year]),et=O.useMemo(()=>Ek(f),[f]),st=Q=>{if(!Q)return{unseong:"",shinsal:""};const F=Sk(S),G=Tx(Q.charAt(1)),tt=Tx(q);return{unseong:s&&$n(F,G)||"",shinsal:u&&In({baseBranch:tt,targetBranch:G,era:et,gaehwa:!!p})||""}},W=(Q,F,G="myoun")=>{const tt=F,{unseong:ht,shinsal:it}=F?st(F):{unseong:"",shinsal:""},Z=G==="myoun"&&T&&(Q==="시주"||Q==="일주");return b.jsx(Hs,{label:Q,gz:tt,dayStem:S,settings:r,unseongText:F?ht:"",shinsalText:F?it:"",hideBranchSipSin:!0,size:"sm",isUnknownTime:Z},`${G}-${Q}`)};return b.jsxs("div",{className:"w-full max-w-[640px] mx-auto mb-4 px-2 py-4 desk:p-4 bg-white dark:bg-neutral-950 text-neutral-900 dark:text-neutral-100 rounded-xl shadow border border-neutral-200 dark:border-neutral-800",children:[b.jsx("header",{className:"flex flex-wrap items-center gap-3 justify-between mb-4",children:b.jsxs("div",{className:"font-semibold text-xs desk:text-sm",children:["묘운 + 실시간 운 뷰어"," ",b.jsxs("span",{className:"text-neutral-500 dark:text-neutral-400",children:["(출생: ",Dc(_),")"]})]})}),b.jsxs("div",{className:"grid grid-cols-2 gap-2 desk:gap-4 mb-6",children:[b.jsxs("div",{children:[b.jsx("label",{className:"block text-xs mb-2 text-neutral-600 dark:text-neutral-300",children:"묘운뷰어"}),b.jsxs("div",{className:"grid grid-cols-4 gap-1 desk:gap-2",children:[W("시주",B.si,"myoun"),W("일주",B.il,"myoun"),W("월주",B.wl,"myoun"),W("연주",B.yn,"myoun")]})]}),b.jsxs("div",{children:[b.jsx("label",{className:"block text-xs mb-2 text-neutral-600 dark:text-neutral-300",children:"실시간 간지뷰어"}),b.jsxs("div",{className:"grid grid-cols-4 gap-1 desk:gap-2",children:[W("시주",C.si,"live"),W("일주",C.il,"live"),W("월주",C.wl,"live"),W("연주",C.yn,"live")]})]})]}),b.jsxs("div",{className:"mt-4 text-xs text-neutral-700 dark:text-neutral-300 space-y-1",children:[b.jsx("div",{className:"font-semibold",children:"첫 전환 시각"}),b.jsxs("div",{children:["시주:"," ",H?`${Dc(H.at)} (${H.from} → ${H.to})`:"계산 불가"]}),b.jsxs("div",{children:["월주:"," ",k?`${Dc(k.at)} (${k.from} → ${k.to})`:"계산 불가"]})]})]})}const Ex=["갑목","을목","병화","정화","무토","기토","경금","신금","임수","계수"],Nk={갑목:"목",을목:"목",병화:"화",정화:"화",무토:"토",기토:"토",경금:"금",신금:"금",임수:"수",계수:"수"},Ak={갑:"목",을:"목",병:"화",정:"화",무:"토",기:"토",경:"금",신:"금",임:"수",계:"수"},Dk={목:"화",화:"토",토:"금",금:"수",수:"목"},jk={화:"목",토:"화",금:"토",수:"금",목:"수"},kk={목:"토",화:"금",토:"수",금:"목",수:"화"},Ok={토:"목",금:"화",수:"토",목:"금",화:"수"};function Ck(t,r){switch(t){case"비겁":return r;case"식상":return Dk[r];case"재성":return kk[r];case"관성":return Ok[r];case"인성":return jk[r];default:return r}}function Lk({data:t,perStemElementScaled:r,elementPercent:a,dayStem:s,width:u=280,height:d=280,revKey:f}){const p=u,g=d,y=p/2,_=g/2,w=Math.min(p,g)*.37,S=O.useMemo(()=>{const k=(s??"").charAt(0);return Ak[k]??null},[s]),T=k=>Math.PI/2+2*-Math.PI*k/5,M=O.useMemo(()=>t.map((k,B)=>({...k,x:y+w*Math.cos(T(B)),y:_-w*Math.sin(T(B))})),[t,y,_,w]),[D,A]=O.useState(0),z=O.useRef(""),H=O.useMemo(()=>{const k=t.map(q=>`${q.name}:${q.value}`).join(","),B=Ex.map(q=>`${q}:${r?.[q]??0}`).join(","),C=a?`목:${a.목??0},화:${a.화??0},토:${a.토??0},금:${a.금??0},수:${a.수??0}`:"el:none";return[f??"",k,B,C,s??""].join("||")},[f,t,r,s,a]);return O.useEffect(()=>{H!==z.current&&(z.current=H,A(k=>k+1))},[H]),b.jsx("div",{className:"w-full",children:b.jsxs("svg",{width:p,height:g,className:"mx-auto pt-2",children:[M.map((k,B)=>{const C=M[(B+2)%5];return b.jsx("line",{x1:k.x,y1:k.y,x2:C.x,y2:C.y,stroke:"#94a3b8",strokeWidth:1},`line-${B}`)}),M.map((k,B)=>{const C=M[(B+1)%5],q=(k.x+C.x)/2,et=(k.y+C.y)/2,st=q-y,W=et-_,Q=1.5,F=y+st*Q,G=_+W*Q;return b.jsx("path",{d:`M${k.x},${k.y} Q${F},${G} ${C.x},${C.y}`,stroke:"#ef4444",strokeWidth:1.5,fill:"none",markerEnd:"url(#arrow)"},`curve-${B}`)}),b.jsx("defs",{children:b.jsx("marker",{id:"arrow",markerWidth:"6",markerHeight:"6",refX:"5",refY:"3",orient:"auto",children:b.jsx("path",{d:"M0,0 L6,3 L0,6 Z",fill:"#ef4444"})})}),M.map(k=>{const B=k.name,C=S?Ck(B,S):null,q=C?Ex.filter(et=>Nk[et]===C).map(et=>[et,r?.[et]??0]):[];return b.jsxs("g",{transform:`translate(${k.x},${k.y})`,children:[b.jsx("circle",{r:33,fill:k.color??"#334155",opacity:k.value===0?.7:1}),b.jsxs("text",{textAnchor:"middle",dy:"-6",fontSize:14,className:"fill-white font-semibold",children:[k.name," ",k.value]}),q.map(([et,st],W)=>b.jsxs("text",{textAnchor:"middle",dy:8+W*11,fontSize:10,className:"fill-white",children:[et," ",Math.round(st)]},et))]},`${k.name}-${k.value}`)})]},D)})}const Bk=[{name:"극약",min:0,max:10},{name:"태약",min:10,max:20},{name:"신약",min:20,max:35},{name:"중화신약",min:35,max:45},{name:"중화",min:45,max:55},{name:"중화신강",min:55,max:65},{name:"태강",min:65,max:80},{name:"극태강",min:80,max:100.0001}];function Qp(t){return Math.max(0,Math.min(100,t))}function z2(t){const r=Qp(t);return Bk.find(s=>r>=s.min&&r<s.max)?.name??"중화"}const Rk=[10,20,35,45,55,65,80];function Pk({value:t}){const r=O.useMemo(()=>Qp(t),[t]),a=O.useMemo(()=>z2(r),[r]);return b.jsxs("div",{className:"w-full mx-auto p-2 desk:p-4 bg-neutral-100 dark:bg-neutral-800 rounded-xl",children:[b.jsxs("div",{className:"flex justify-between text-[11px] text-neutral-400 mb-1",children:[b.jsx("span",{children:"신약"}),b.jsx("span",{children:"중화"}),b.jsx("span",{children:"신강"})]}),b.jsxs("div",{className:"relative h-4 rounded bg-gradient-to-r from-blue-500 via-yellow-400 to-red-500",children:[Rk.map(s=>b.jsx("div",{className:"absolute top-0 h-4 w-[1px] bg-black/30",style:{left:`${s}%`},title:`${s}%`},s)),b.jsx("div",{className:"absolute top-0 h-4 w-[1px] bg-black/40",style:{left:"50%"},title:"50%"}),b.jsx("div",{className:"absolute -top-1 h-6 w-2 bg-white rounded shadow-sm",style:{left:`${r}%`,transform:"translateX(-50%)"},"aria-label":`현재 강약 ${r}%`})]}),b.jsxs("div",{className:"mt-2 flex items-center gap-2",children:[b.jsx("span",{className:"inline-flex items-center px-2 py-0.5 rounded-full text-xs border border-neutral-600 text-neutral-700 dark:text-neutral-200",children:a}),b.jsxs("span",{className:"text-xs text-neutral-400",children:[r.toFixed(1),"%"]})]})]})}const Ka=["연","월","일","시"],Od={year:0,month:1,day:2,hour:3},k0="매우약함",zk={甲:"갑",乙:"을",丙:"병",丁:"정",戊:"무",己:"기",庚:"경",辛:"신",壬:"임",癸:"계"},H2={子:"자",丑:"축",寅:"인",卯:"묘",辰:"진",巳:"사",午:"오",未:"미",申:"신",酉:"유",戌:"술",亥:"해"};function Ut(t){if(!t)return"";const r=t.replace(/[()[\]{}]/g,"").replace(/\s+/g,"").replace(/[년월일시年月日時干支柱:\-_.]/g,""),a=r.match(/([갑을병정무기경신임계]).*?([자축인묘진사오미신유술해])/);if(a)return`${a[1]}${a[2]}`;const s=r.match(/([甲乙丙丁戊己庚辛壬癸]).*?([子丑寅卯辰巳午未申酉戌亥])/);if(s){const u=zk[s[1]]??s[1],d=H2[s[2]]??s[2];return`${u}${d}`}return""}const Is=t=>t&&t.length>=1?t[0]:"",pr=t=>t&&t.length>=2?t[1]:"",wf=[{pair:["갑","기"],label:"갑기합"},{pair:["을","경"],label:"을경합"},{pair:["병","신"],label:"병신합"},{pair:["정","임"],label:"정임합"},{pair:["무","계"],label:"무계합"}],Tf=[{pair:["갑","경"],label:"갑경충"},{pair:["을","신"],label:"을신충"},{pair:["병","임"],label:"병임충"},{pair:["정","계"],label:"정계충"}],Ef=[{pair:["자","축"],label:"자축합"},{pair:["인","해"],label:"인해합"},{pair:["묘","술"],label:"묘술합"},{pair:["진","유"],label:"진유합"},{pair:["사","신"],label:"사신합"},{pair:["오","미"],label:"오미합"}],Mf=[{pair:["자","오"],label:"자오충"},{pair:["사","해"],label:"사해충"},{pair:["인","신"],label:"인신충"},{pair:["묘","유"],label:"묘유충"},{pair:["진","술"],label:"진술충"},{pair:["축","미"],label:"축미충"}],Nf=[{pair:["축","진"],label:"축진파"},{pair:["술","미"],label:"술미파"},{pair:["자","유"],label:"자유파"},{pair:["묘","오"],label:"묘오파"},{pair:["사","신"],label:"사신파"},{pair:["인","해"],label:"인해파"}],Af=[{pair:["인","사"],label:"인사해"},{pair:["신","해"],label:"신해해"},{pair:["자","미"],label:"자미해"},{pair:["축","오"],label:"축오해"},{pair:["묘","진"],label:"묘진해"},{pair:["유","술"],label:"유술해"}],Df=[{pair:["자","미"],label:"자미원진"},{pair:["인","유"],label:"인유원진"},{pair:["축","오"],label:"축오원진"},{pair:["묘","신"],label:"묘신원진"},{pair:["진","해"],label:"진해원진"},{pair:["사","술"],label:"사술원진"}],jf=[{pair:["인","미"],label:"인미귀문"},{pair:["묘","신"],label:"묘신귀문"},{pair:["진","해"],label:"진해귀문"},{pair:["사","술"],label:"사술귀문"},{pair:["자","유"],label:"자유귀문"},{pair:["축","오"],label:"축오귀문"}],Hk=[{name:"인사신",members:["인","사","신"]},{name:"축술미",members:["축","술","미"]}],kf=[{pair:["인","신"],label:"인신상형"},{pair:["인","사"],label:"인사상형"},{pair:["사","신"],label:"사신상형"},{pair:["술","미"],label:"술미상형"},{pair:["축","술"],label:"축술상형"},{pair:["축","미"],label:"축미상형"}],Of=[{pair:["자","묘"],label:"자묘형"}],Mx=new Set(["진","오","유","해"]),Pc=new Set(["정해","무자","신사","임오"]),eh=[{name:"해묘미",members:["해","묘","미"],out:"목",wang:"묘"},{name:"인오술",members:["인","오","술"],out:"화",wang:"오"},{name:"사유축",members:["사","유","축"],out:"금",wang:"유"},{name:"신자진",members:["신","자","진"],out:"수",wang:"자"}],nh=[{name:"인묘진",members:["인","묘","진"],out:"목",wang:"묘"},{name:"사오미",members:["사","오","미"],out:"화",wang:"오"},{name:"신유술",members:["신","유","술"],out:"금",wang:"유"},{name:"해자축",members:["해","자","축"],out:"수",wang:"자"}];function ue(t,r,a){for(const{pair:[s,u],label:d}of t)if(r===s&&a===u||r===u&&a===s)return d;return null}function ie(t,r){t.includes(r)||t.push(r)}const Co=t=>[...t].sort((r,a)=>r-a).map(r=>Ka[r]).join("X"),O0=(t,r)=>t===0&&r===3||t===3&&r===0;function Nx(t,r){const a=[];for(const s of t)for(const u of r){if(s===u)continue;const d=Math.min(s,u),f=Math.max(s,u);d===0&&f===3||a.push([d,f])}return a.sort((s,u)=>{const d=Math.abs(s[0]-s[1]),f=Math.abs(u[0]-u[1]);return d!==f?d-f:0})}function $k(t){const r=[],a=[...t].sort((s,u)=>s-u);for(let s=0;s<a.length;s++)for(let u=s+1;u<a.length;u++){const d=a[s],f=a[u];d===0&&f===3||r.push([d,f])}return r}const $2=t=>{switch(t){case"연":return"연주";case"월":return"월주";case"일":return"일주";case"시":return"시주"}};function Ik(t){if(!t)return!1;const r=t.normalize("NFC").trim();return/^#\s*없음$/u.test(r)}const Uk=["cheonganHap","cheonganChung","jijiSamhap","jijiBanhap","jijiBanghap","jijiYukhap","jijiChung","jijiHyeong","jijiPa","jijiHae","jijiWonjin","jijiGwimun","amhap","ganjiAmhap"];function I2(t){for(const r of Uk){const s=(t[r]??[]).map(u=>u&&u.normalize("NFKC")).filter(u=>!!u&&!Ik(u));t[r]=s}return t}function U2(t,r={}){const{emitGanjiAmhap:a=!0}=r,s=t.map(Ut),u=s.map(S=>Is(S)),d=s.map(S=>pr(S)),p={title:s.map((S,T)=>`${S}${["년","월","일","시"][T]}`).join(" "),cheonganHap:[],cheonganChung:[],jijiSamhap:[],jijiBanhap:[],jijiBanghap:[],jijiYukhap:[],jijiChung:[],jijiHyeong:[],jijiPa:[],jijiHae:[],jijiWonjin:[],jijiGwimun:[],amhap:[],ganjiAmhap:[]},g=(S,T,M,D)=>{const A=u.flatMap((H,k)=>H===S?[k]:[]),z=u.flatMap((H,k)=>H===T?[k]:[]);for(const H of A)for(const k of z)H!==k&&Math.abs(H-k)===1&&ie(D,`#${Co([H,k])}_${M}`)};wf.forEach(({pair:[S,T],label:M})=>g(S,T,M,p.cheonganHap)),Tf.forEach(({pair:[S,T],label:M})=>g(S,T,M,p.cheonganChung));const y=S=>{const T=new Set,M=[];for(const D of S)for(let A=0;A<d.length;A++)if(d[A]===D&&!T.has(A)){T.add(A),M.push(A);break}return M};eh.forEach(({name:S,members:T,wang:M})=>{const D=T.filter(z=>d.includes(z)),A=new Set(D).size;if(A===3){const z=y(T);z.length===3&&ie(p.jijiSamhap,`#${Co(z)}_${S}삼합`)}else if(A===2){if(!D.includes(M))return;const[z,H]=D,k=d.flatMap((et,st)=>et===z?[st]:[]),B=d.flatMap((et,st)=>et===H?[st]:[]),C=Nx(k,B),q=C.length>1;for(const[et,st]of C){const W=O0(et,st),Q=`#${Co([et,st])}_${z}${H}반합${q?"":W?`_${k0}`:""}`;ie(p.jijiSamhap,Q)}}}),nh.forEach(({name:S,members:T})=>{const M=T.filter(A=>d.includes(A));if(new Set(M).size===3){const A=y(T);A.length===3&&ie(p.jijiBanghap,`#${Co(A)}_${S}방합`)}});const _=(S,T,M,D)=>{const A=d.flatMap((B,C)=>B===S?[C]:[]),z=d.flatMap((B,C)=>B===T?[C]:[]),H=Nx(A,z),k=H.length>1;for(const[B,C]of H){const q=O0(B,C),et=`#${Co([B,C])}_${M}${k?"":q?`_${k0}`:""}`;ie(D,et)}};if(Ef.forEach(({pair:[S,T],label:M})=>_(S,T,M,p.jijiYukhap)),Mf.forEach(({pair:[S,T],label:M})=>_(S,T,M,p.jijiChung)),Nf.forEach(({pair:[S,T],label:M})=>_(S,T,M,p.jijiPa)),Af.forEach(({pair:[S,T],label:M})=>_(S,T,M,p.jijiHae)),Df.forEach(({pair:[S,T],label:M})=>_(S,T,M,p.jijiWonjin)),jf.forEach(({pair:[S,T],label:M})=>_(S,T,M,p.jijiGwimun)),[["인","사","신"],["축","술","미"]].forEach(S=>{const T=[],M=new Set;if(S.forEach(D=>{d.forEach((A,z)=>{A===D&&(T.push(z),M.add(D))})}),M.size===3){const D=Array.from(new Set(T)).sort((A,z)=>A-z);ie(p.jijiHyeong,`#${Co(D)}_${S.join("")}삼형`)}}),kf.forEach(({pair:[S,T],label:M})=>_(S,T,M,p.jijiHyeong)),Of.forEach(({pair:[S,T],label:M})=>_(S,T,M,p.jijiHyeong)),["진","오","유","해"].forEach(S=>{const T=d.flatMap((A,z)=>A===S?[z]:[]),M=$k(T),D=M.length>1;for(const[A,z]of M){const H=O0(A,z),k=`#${Co([A,z])}_${S}${S}자형${D?"":H?`_${k0}`:""}`;ie(p.jijiHyeong,k)}}),[{pair:["자","술"],label:"자술암합"},{pair:["축","인"],label:"축인암합"},{pair:["묘","신"],label:"묘신암합"},{pair:["인","미"],label:"인미암합"},{pair:["오","해"],label:"오해암합"}].forEach(({pair:[S,T],label:M})=>_(S,T,M,p.amhap)),a)for(let S=0;S<4;S++){const T=s[S]??"";if(T.length<2)continue;const M=`${T[0]}${T[1]}`;Pc.has(M)&&ie(p.ganjiAmhap,`#${$2(Ka[S])}_${M}암합`)}return I2(p)}function zs(t,r={}){const{emitNatalGanjiAmhap:a=!1}=r,s=[Ut(t.natal[0]??""),Ut(t.natal[1]??""),Ut(t.natal[2]??""),Ut(t.natal[3]??"")],d=[Ut(t.daewoon??""),Ut(t.sewoon??""),Ut(t.wolwoon??"")].some(y=>y.length>=2),f={cheonganHap:[],cheonganChung:[],jijiSamhap:[],jijiBanhap:[],jijiBanghap:[],jijiYukhap:[],jijiChung:[],jijiHyeong:[],jijiPa:[],jijiHae:[],jijiWonjin:[],jijiGwimun:[],amhap:[],ganjiAmhap:[]};if(a&&d)for(let y=0;y<4;y++){const _=s[y]??"";if(_.length<2)continue;const w=`${_[0]}${_[1]}`;Pc.has(w)&&ie(f.ganjiAmhap,`#${$2(Ka[y])}_${w}암합`)}const p=[["대운",t.daewoon],["세운",t.sewoon],["월운",t.wolwoon],["일운",t.ilwoon]];for(const[y,_]of p){if(!_)continue;const w=Ut(_);if(!w||w.length<2)continue;const S=Is(w),T=pr(w);{const A=`${S}${T}`;Pc.has(A)&&ie(f.ganjiAmhap,`#${y}_${A}암합`)}for(let A=0;A<4;A++){const z=s[A]??"";if(z.length<2)continue;const H=Ka[A],k=Is(z),B=pr(z),C=ue(wf,S,k);C&&ie(f.cheonganHap,`#${y}X${H}_${C}`);const q=ue(Tf,S,k);q&&ie(f.cheonganChung,`#${y}X${H}_${q}`);const et=ue(Ef,T,B);et&&ie(f.jijiYukhap,`#${y}X${H}_${et}`);const st=ue(Mf,T,B);st&&ie(f.jijiChung,`#${y}X${H}_${st}`);const W=ue(Nf,T,B);W&&ie(f.jijiPa,`#${y}X${H}_${W}`);const Q=ue(Af,T,B);Q&&ie(f.jijiHae,`#${y}X${H}_${Q}`);const F=ue(Df,T,B);F&&ie(f.jijiWonjin,`#${y}X${H}_${F}`);const G=ue(jf,T,B);G&&ie(f.jijiGwimun,`#${y}X${H}_${G}`);const tt=ue(kf,T,B);if(tt)ie(f.jijiHyeong,`#${y}X${H}_${tt}`);else{const Z=ue(Of,T,B);Z?ie(f.jijiHyeong,`#${y}X${H}_${Z}`):T===B&&Mx.has(T)&&ie(f.jijiHyeong,`#${y}X${H}_${T}${B}자형`)}const it=ue([{pair:["자","술"],label:"자술암합"},{pair:["축","인"],label:"축인암합"},{pair:["묘","신"],label:"묘신암합"},{pair:["인","미"],label:"인미암합"},{pair:["오","해"],label:"오해암합"}],T,B);it&&ie(f.amhap,`#${y}X${H}_${it}`)}const M=s.map(A=>{const z=pr(A??"");return H2[z]??z});for(const A of eh){if(!A.members.includes(T))continue;const z=A.members.filter(k=>k!==T),H=M.map((k,B)=>({b:k,pos:Ka[B]})).filter(k=>z.includes(k.b));if(new Set(H.map(k=>k.b)).size===2){const[k,B]=H.map(C=>C.pos).sort((C,q)=>["시","일","월","연"].indexOf(C)-["시","일","월","연"].indexOf(q));ie(f.jijiSamhap,`#${y}X${k}X${B}_삼합(${A.name})`)}}const D=[...s.map((A,z)=>({b:pr(A),pos:Ka[z]})),...t.daewoon?[{b:pr(Ut(t.daewoon)),pos:"대운"}]:[],...t.sewoon?[{b:pr(Ut(t.sewoon)),pos:"세운"}]:[],...t.wolwoon?[{b:pr(Ut(t.wolwoon)),pos:"월운"}]:[],...t.ilwoon?[{b:pr(Ut(t.ilwoon)),pos:"일운"}]:[]];for(const A of nh){const z=D.filter(H=>A.members.includes(H.b));if(new Set(z.map(H=>H.b)).size===3){const H=z.map(k=>k.pos).join("X");ie(f.jijiBanghap,`#${H}_방합(${A.name})`)}}for(const A of Hk){if(!A.members.includes(T))continue;const z=A.members.filter(k=>k!==T),H=M.map((k,B)=>({b:k,pos:Ka[B]})).filter(k=>z.includes(k.b));if(new Set(H.map(k=>k.b)).size===2){const[k,B]=H.map(C=>C.pos).sort((C,q)=>["시","일","월","연"].indexOf(C)-["시","일","월","연"].indexOf(q));ie(f.jijiHyeong,`#${y}X${k}X${B}삼형(${A.name})`)}}}const g=[];t.daewoon&&t.sewoon&&g.push(["대운",t.daewoon,"세운",t.sewoon]),t.sewoon&&t.wolwoon&&g.push(["세운",t.sewoon,"월운",t.wolwoon]),t.daewoon&&t.wolwoon&&g.push(["대운",t.daewoon,"월운",t.wolwoon]),t.ilwoon&&t.daewoon&&g.push(["일운",t.ilwoon,"대운",t.daewoon]),t.ilwoon&&t.sewoon&&g.push(["일운",t.ilwoon,"세운",t.sewoon]),t.ilwoon&&t.wolwoon&&g.push(["일운",t.ilwoon,"월운",t.wolwoon]);for(const[y,_,w,S]of g){const T=Ut(_),M=Ut(S);if(T.length<2||M.length<2)continue;const D=Is(T),A=pr(T),z=Is(M),H=pr(M),k=ue(wf,D,z);k&&ie(f.cheonganHap,`#${y}X${w}_${k}`);const B=ue(Tf,D,z);B&&ie(f.cheonganChung,`#${y}X${w}_${B}`);const C=ue(Ef,A,H);C&&ie(f.jijiYukhap,`#${y}X${w}_${C}`);const q=ue(Mf,A,H);q&&ie(f.jijiChung,`#${y}X${w}_${q}`);const et=ue(Nf,A,H);et&&ie(f.jijiPa,`#${y}X${w}_${et}`);const st=ue(Af,A,H);st&&ie(f.jijiHae,`#${y}X${w}_${st}`);const W=ue(Df,A,H);W&&ie(f.jijiWonjin,`#${y}X${w}_${W}`);const Q=ue(jf,A,H);Q&&ie(f.jijiGwimun,`#${y}X${w}_${Q}`);const F=ue(kf,A,H);if(F)ie(f.jijiHyeong,`#${y}X${w}_${F}`);else{const tt=ue(Of,A,H);tt?ie(f.jijiHyeong,`#${y}X${w}_${tt}`):A===H&&Mx.has(A)&&ie(f.jijiHyeong,`#${y}X${w}_${A}${H}자형`)}const G=ue([{pair:["자","술"],label:"자술암합"},{pair:["축","인"],label:"축인암합"},{pair:["묘","신"],label:"묘신암합"},{pair:["인","미"],label:"인미암합"},{pair:["오","해"],label:"오해암합"}],A,H);G&&ie(f.amhap,`#${y}X${w}_${G}`)}return I2(f)}function Gk(t,r){const s=t.map(Ut).map(g=>pr(g)),u=Od.month,d=s[u],f=g=>{const y=[];for(let _=0;_<4;_++){const w=s[_];w&&g.has(w)&&y.push(_)}return y},p=g=>{const y=[...g].sort((_,w)=>_-w);return y.length===3&&y[0]+1===y[1]&&y[1]+1===y[2]};for(const g of eh){const y=new Set(g.members),_=f(y);if(_.length===3){const w=_.includes(u),S=d===g.wang;w?p(_)?r[g.out]+=S?10:8:r[g.out]+=5:r[g.out]+=3}if(_.length===2&&_.includes(u)){const w=_[0]===u?_[1]:_[0],S=d===g.wang;w===Od.day&&S?r[g.out]+=8:w===Od.year&&S?r[g.out]+=6:w===Od.hour&&(r[g.out]+=S?4:2)}}for(const g of nh){const y=new Set(g.members),_=f(y);if(_.length===3){const w=_.includes(u),S=d===g.wang;w?p(_)?r[g.out]+=S?8:6:r[g.out]+=4:r[g.out]+=2}}}function Ax(t){const r=["연","월","일","시"],a=t.map(Ut),s=a.map(p=>Is(p)),u=a.map(p=>pr(p)),d=new Map,f=new Map;for(let p=0;p<4;p++){const g=s[p],y=u[p];g.includes(g)&&d.set(g,[...d.get(g)??[],p]),y.includes(y)&&f.set(y,[...f.get(y)??[],p])}return{stemsByPos:s,brsByPos:u,stemPos:d,brPos:f,names:r}}function _e(t){return Ka[t]}function Dn(t,r){r&&(t.includes(r)||t.push(r))}function Zk(t,r){const a=Ax(t),s=Ax(r),u={천간합:[],천간충:[],지지삼합:[],지지방합:[],지지반합:[],지지육합:[],암합:[],간지암합:[],지지충:[],지지형:[],지지파:[],지지해:[],지지원진:[],지지귀문:[]};for(let p=0;p<4;p++){const g=a.stemsByPos[p],y=a.brsByPos[p];for(let _=0;_<4;_++){const w=s.stemsByPos[_],S=s.brsByPos[_],T=ue(wf,g,w);T&&Dn(u.천간합,`${_e(p)}X${_e(_)} ${T}`);const M=ue(Tf,g,w);M&&Dn(u.천간충,`${_e(p)}X${_e(_)} ${M}`);const D=ue(Ef,y,S);D&&Dn(u.지지육합,`${_e(p)}X${_e(_)} ${D}`);const A=ue(Mf,y,S);A&&Dn(u.지지충,`${_e(p)}X${_e(_)} ${A}`);const z=ue(Nf,y,S);z&&Dn(u.지지파,`${_e(p)}X${_e(_)} ${z}`);const H=ue(Af,y,S);H&&Dn(u.지지해,`${_e(p)}X${_e(_)} ${H}`);const k=ue(Df,y,S);k&&Dn(u.지지원진,`${_e(p)}X${_e(_)} ${k}`);const B=ue(jf,y,S);B&&Dn(u.지지귀문,`${_e(p)}X${_e(_)} ${B}`);const q=ue([{pair:["자","술"],label:"자술암합"},{pair:["축","인"],label:"축인암합"},{pair:["묘","신"],label:"묘신암합"},{pair:["인","미"],label:"인미암합"},{pair:["오","해"],label:"오해암합"}],y,S);q&&Dn(u.암합,`${_e(p)}X${_e(_)} ${q}`);const et=`${g}${S}`,st=`${w}${y}`;Pc.has(et)&&Dn(u.간지암합,`${_e(p)}X${_e(_)} ${et}암합`),Pc.has(st)&&Dn(u.간지암합,`${_e(_)}X${_e(p)} ${st}암합`);const W=ue(kf,y,S);if(W)Dn(u.지지형,`${_e(p)}X${_e(_)} ${W}`);else{const Q=ue(Of,y,S);Q&&Dn(u.지지형,`${_e(p)}X${_e(_)} ${Q}`)}}}const d=new Set(a.brsByPos.filter(Boolean)),f=new Set(s.brsByPos.filter(Boolean));for(const p of eh){if(p.members.every(_=>d.has(_)||f.has(_))){const _=p.members.filter(S=>d.has(S)).length,w=p.members.filter(S=>f.has(S)).length;_>=1&&w>=1&&Dn(u.지지삼합,`${p.name}삼합`)}const y=p.members.filter(_=>d.has(_)||f.has(_));if(y.length===2&&y.includes(p.wang)){const _=y.some(S=>d.has(S)),w=y.some(S=>f.has(S));if(_&&w){const[S,T]=y.sort(),M=a.brPos.get(S)?.[0]??a.brPos.get(T)?.[0],D=s.brPos.get(S)?.[0]??s.brPos.get(T)?.[0];M!=null&&D!=null&&Dn(u.지지반합,`${_e(M)}X${_e(D)} ${S}${T}반합`)}}}for(const p of nh)if(p.members.every(y=>d.has(y)||f.has(y))){const y=p.members.filter(w=>d.has(w)).length,_=p.members.filter(w=>f.has(w)).length;y>=1&&_>=1&&Dn(u.지지방합,`${p.name}방합`)}return Object.keys(u).forEach(p=>u[p].sort()),u}function yc(t,r){if(t==="#없음")return"bg-neutral-100 text-neutral-500 border-neutral-200 dark:bg-neutral-900 dark:text-neutral-500 dark:border-neutral-700";switch(r){case"natal":return"bg-violet-100 text-violet-800 border-violet-200 dark:bg-violet-900/30 dark:text-violet-200 dark:border-violet-800";case"dae":return"bg-blue-100 text-blue-800 border-blue-200 dark:bg-blue-900/30 dark:text-blue-200 dark:border-blue-800";case"se":return"bg-green-100 text-green-800 border-green-200 dark:bg-green-900/30 dark:text-green-200 dark:border-green-800";case"wol":return"bg-orange-100 text-orange-800 border-orange-200 dark:bg-orange-900/30 dark:text-orange-200 dark:border-orange-800";case"il":return"bg-red-100 text-red-800 border-red-200 dark:bg-red-900/30 dark:text-red-200 dark:border-red-800";default:return""}}function ei({label:t,natal:r,dae:a,se:s,wol:u,il:d}){const f=a.length+s.length+u.length+d.length>0,p=r.length>0?r:["#없음"],g=f?p.filter(w=>w!=="#없음"):p,_=g.some(w=>w!=="#없음")||a.length>0||s.length>0||u.length>0||d.length>0?"shrink-0 w-20 text-xs font-semibold text-orange-700 dark:text-orange-300 mt-1":"shrink-0 w-20 text-xs font-semibold text-neutral-700 dark:text-neutral-400 mt-1";return b.jsxs("div",{className:"flex items-start gap-3 border border-gray-700 dark:border-gray-200 p-2 rounded-sm",children:[b.jsx("div",{className:_,children:t}),b.jsxs("div",{className:"flex flex-wrap gap-2",children:[g.map((w,S)=>b.jsx("span",{className:"text-xs px-2 py-1 rounded-full border whitespace-nowrap "+yc(w,"natal"),children:w},`natal-${S}`)),a.map((w,S)=>b.jsx("span",{className:"text-xs px-2 py-1 rounded-full border whitespace-nowrap "+yc(w,"dae"),children:w},`dae-${S}`)),s.map((w,S)=>b.jsx("span",{className:"text-xs px-2 py-1 rounded-full border whitespace-nowrap "+yc(w,"se"),children:w},`se-${S}`)),u.map((w,S)=>b.jsx("span",{className:"text-xs px-2 py-1 rounded-full border whitespace-nowrap "+yc(w,"wol"),children:w},`wol-${S}`)),d.map((w,S)=>b.jsx("span",{className:"text-xs px-2 py-1 rounded-full border whitespace-nowrap "+yc(w,"il"),children:w},`il-${S}`))]})]})}function hp(t){return Array.isArray(t)?t:[]}function Cd(t,r){const a=new Set(hp(t));return hp(r).filter(u=>!a.has(u))}function Yk({pillars:t,daewoon:r,sewoon:a,wolwoon:s,ilwoon:u,tab:d="원국"}){const f=U2(t),p=zs({natal:t}),g=r?zs({natal:t,daewoon:r}):p,y=a?zs({natal:t,daewoon:r,sewoon:a}):g,_=s?zs({natal:t,daewoon:r,sewoon:a,wolwoon:s}):y,w=u?zs({natal:t,daewoon:r,sewoon:a,wolwoon:s,ilwoon:u}):_,S=D=>({natal:hp(f[D]),dae:Cd(p[D],g[D]),se:Cd(g[D],y[D]),wol:Cd(y[D],_[D]),il:Cd(_[D],w[D])}),T={cheonganHap:S("cheonganHap"),cheonganChung:S("cheonganChung"),jijiSamhap:S("jijiSamhap"),jijiBanghap:S("jijiBanghap"),jijiYukhap:S("jijiYukhap"),amhap:S("amhap"),ganjiAmhap:S("ganjiAmhap"),jijiChung:S("jijiChung"),jijiHyeong:S("jijiHyeong"),jijiPa:S("jijiPa"),jijiHae:S("jijiHae")},M=D=>d==="원국"?{natal:D.natal,dae:[],se:[],wol:[],il:[]}:d==="대운"?{natal:D.natal,dae:D.dae,se:[],wol:[],il:[]}:d==="세운"?{natal:D.natal,dae:D.dae,se:D.se,wol:[],il:[]}:d==="월운"?{natal:D.natal,dae:D.dae,se:D.se,wol:D.wol,il:[]}:d==="일운"?{natal:D.natal,dae:D.dae,se:D.se,wol:D.wol,il:D.il}:{natal:[],dae:[],se:[],wol:[],il:[]};return b.jsxs("div",{className:"rounded-xl p-4 bg-neutral-100 dark:bg-neutral-900 text-neutral-900 dark:text-neutral-100 space-y-2",children:[b.jsx("div",{className:"text-base font-bold mb-1",children:"형충회합"}),b.jsx(ei,{label:"천간합",...M(T.cheonganHap)}),b.jsx(ei,{label:"천간충",...M(T.cheonganChung)}),b.jsx("div",{className:"border-t border-neutral-200 dark:border-neutral-800 my-2"}),b.jsx(ei,{label:"지지삼합",...M(T.jijiSamhap)}),b.jsx(ei,{label:"지지방합",...M(T.jijiBanghap)}),b.jsx(ei,{label:"지지육합",...M(T.jijiYukhap)}),b.jsx(ei,{label:"암합",...M(T.amhap)}),b.jsx(ei,{label:"간지암합",...M(T.ganjiAmhap)}),b.jsx(ei,{label:"지지충",...M(T.jijiChung)}),b.jsx(ei,{label:"지지형",...M(T.jijiHyeong)}),b.jsx(ei,{label:"지지파",...M(T.jijiPa)}),b.jsx(ei,{label:"지지해",...M(T.jijiHae)})]})}const qk={목:{비겁:"#13B713",식상:"#DC143C",재성:"#F0B100",관성:"#a0a0a0",인성:"#353535"},화:{비겁:"#DC143C",식상:"#F0B100",재성:"#a0a0a0",관성:"#353535",인성:"#13B713"},토:{비겁:"#F0B100",식상:"#a0a0a0",재성:"#353535",관성:"#13B713",인성:"#DC143C"},금:{비겁:"#a0a0a0",식상:"#353535",재성:"#13B713",관성:"#DC143C",인성:"#F0B100"},수:{비겁:"#353535",식상:"#13B713",재성:"#DC143C",관성:"#F0B100",인성:"#a0a0a0"}},Fk={갑:"목",을:"목",병:"화",정:"화",무:"토",기:"토",경:"금",신:"금",임:"수",계:"수"};function G2(t){const r=Fk[t]??"목";return qk[r]}const Z2={갑:"목",을:"목",병:"화",정:"화",무:"토",기:"토",경:"금",신:"금",임:"수",계:"수"},Vk={자:"수",축:"토",인:"목",묘:"목",진:"토",사:"화",오:"화",미:"토",신:"금",유:"금",술:"토",해:"수"},Wc={목:"화",화:"토",토:"금",금:"수",수:"목"},zc={화:"목",토:"화",금:"토",수:"금",목:"수"},al={목:"토",화:"금",토:"수",금:"목",수:"화"},Kk=[{name:"극약",min:0,max:10},{name:"태약",min:10,max:20},{name:"신약",min:20,max:35},{name:"중화신약",min:35,max:45},{name:"중화",min:45,max:55},{name:"중화신강",min:55,max:65},{name:"태강",min:65,max:80},{name:"극태강",min:80,max:100.0001}],Xk={해:{temp:"cold",wet:"wet"},자:{temp:"cold",wet:"wet"},축:{temp:"cold",wet:"wet"},인:{temp:"mild",wet:"normal"},묘:{temp:"mild",wet:"normal"},진:{temp:"mild",wet:"wet"},사:{temp:"hot",wet:"normal"},오:{temp:"hot",wet:"dry"},미:{temp:"hot",wet:"wet"},신:{temp:"mild",wet:"dry"},유:{temp:"mild",wet:"dry"},술:{temp:"mild",wet:"dry"}};function Jp(t){return Math.max(0,Math.min(100,t))}function Qs(t,r,a){return Math.max(r,Math.min(a,t))}function Wk(t){const r=Jp(t);return Kk.find(a=>r>=a.min&&r<a.max)?.name??"중화"}function Qk(t){const r=t?.[2]?.charAt(0)??"";return Z2[r]??null}function Jk(t){return(t?.[1]?.charAt(1)??"")||null}function rh(t){const r=Object.entries(al);for(const[a,s]of r)if(s===t)return a;return"토"}function t5(t){return t?{peer:t,resource:zc[t],leak:Wc[t],wealth:al[t],officer:rh(t)}:null}function e5(t){const r={목:0,화:0,토:0,금:0,수:0};for(const a of t){if(!a)continue;const s=a.charAt(0),u=a.charAt(1),d=Z2[s],f=Vk[u];d&&(r[d]+=10),f&&(r[f]+=6)}return r}function n5(t){const r=Object.values(t).reduce((s,u)=>s+u,0);if(r<=0)return{목:20,화:20,토:20,금:20,수:20};const a={목:0,화:0,토:0,금:0,수:0};return Object.keys(t).forEach(s=>{a[s]=t[s]/r*100}),a}function r5(t){if(!t||t.length===0)return null;const r=t.reduce((s,u)=>s+(u?.value??0),0)||0;if(r<=0)return null;const a=s=>t.find(u=>u.name===s)?.value??0;return Jp((a("비겁")+a("인성"))/r*100)}function i5(t,r){return!t||!r?null:r===t?"비겁":Wc[t]===r?"식상":al[t]===r?"재성":rh(t)===r?"관성":zc[t]===r?"인성":null}const C0=24,a5=[[60,0],[55,.01],[50,.03],[45,.06],[40,.1],[35,.18],[30,.32],[27,.48],[24,.62]];function o5(t){for(const[r,a]of a5)if(t>=r)return a;return 1}const Cf=20,Dx=(t,r)=>Qs((Cf-(r[t]??0))/Cf,0,1),jx=(t,r)=>Qs(((r[t]??0)-Cf)/Cf,0,1);function s5(t,r,a,s){const u=i5(t,a);if(!t||!u)return 0;const d=Qs((50-r)/50,0,1),f=Qs((r-50)/50,0,1),p=Dx(a,s),g=jx(a,s),y=Dx(t,s),_=jx(t,s),w=6.5;let S=0;if(d>0)switch(u){case"인성":S=+(.3+.4*y+.15*p)*d;break;case"비겁":S=+(.18+.45*y)*d;break;case"관성":S=-(.08+.2*(1-p)+.1*_)*d;break;case"재성":S=-(.22+.25*(1-p)+.1*(1-y))*d;break;case"식상":S=-(.35+.25*(1-p)+.1*(1-y))*d;break}else if(f>0)switch(u){case"인성":S=-(.25+.25*(1-p)+.2*_)*f;break;case"비겁":S=-(.28+.2*_)*f;break;case"관성":S=+(.18+.2*p+.15*_)*f;break;case"재성":S=+(.22+.25*p+.1*_)*f;break;case"식상":S=+(.2+.2*p)*f;break}else switch(u){case"인성":S=.08*(y+p);break;case"비겁":S=.05*y-.03*_;break;case"관성":S=.02*p-.02*g;break;case"재성":S=.01*p-.06*g;break;case"식상":S=-.05*(1-p);break}return Math.round(w*S*10)/10}function l5(t,r,a,s){const u=["중화신강","태강","극태강"].includes(r),d=["극약","태약","신약","중화신약"].includes(r),f={목:0,화:0,토:0,금:0,수:0};if(u){const p=Wc[t],g=al[t],y=rh(t);f[p]+=28,f[g]+=22,f[y]+=20,s.get(p)?.push("억부: 일간 강 → 설기(식상)"),s.get(g)?.push("억부: 일간 강 → 재성 누설"),s.get(y)?.push("억부: 일간 강 → 관성 절제")}if(d){const p=zc[t],g=t;f[p]+=28,f[g]+=22,s.get(p)?.push("억부: 일간 약 → 인성 보강"),s.get(g)?.push("억부: 일간 약 → 비겁 보강")}return f}function kx(t,r){if(!t)return{목:0,화:0,토:0,금:0,수:0};const a=Xk[t]??{temp:"mild",wet:"normal"},s={목:0,화:0,토:0,금:0,수:0};return a.temp==="cold"?(s.화+=16,s.토+=6,r.get("화")?.push("조후: 한랭 → 화"),r.get("토")?.push("조후: 한랭습 보조")):a.temp==="hot"&&(s.수+=14,s.금+=6,r.get("수")?.push("조후: 염열 → 수"),r.get("금")?.push("조후: 제열 보조")),a.wet==="wet"?(s.토+=8,s.화+=4,r.get("토")?.push("조후: 습 → 토"),r.get("화")?.push("조후: 습냉 가온")):a.wet==="dry"&&(s.수+=8,s.목+=4,r.get("수")?.push("조후: 건조 → 수"),r.get("목")?.push("조후: 생발 보조")),s}function Ox(t,r){const a={목:0,화:0,토:0,금:0,수:0},s=["목","화","토","금","수"];for(const u of s){const d=al[u],f=Math.max(0,(t[u]??0)-(t[d]??0));if(f<=0)continue;const p=Wc[u],g=Math.round(f*.35);g>0&&(a[p]+=g,r.get(p)?.push(`통관: ${u}극${d} 완화`))}return a}function Cx(t,r){const a={목:0,화:0,토:0,금:0,수:0},s=Object.entries(t),u=Math.min(...s.map(([,f])=>f)),d=s.filter(([,f])=>f<=Math.max(6,u));for(const[f]of d)a[f]+=12,r.get(f)?.push("병약: 결핍 보충");return a}function Lx(t,r){const a=Qk(t),s=Jk(t),u=e5(t),d=n5(u);let f=r5(r);if(f==null)if(!a)f=50;else{const F=a,G=zc[a],tt=Object.values(u).reduce((ht,it)=>ht+it,0)||1;f=Jp(((u[F]??0)+(u[G]??0))/tt*100)}const p=Wk(f),g={목:0,화:0,토:0,금:0,수:0},y=new Map(["목","화","토","금","수"].map(F=>[F,[]]));if(a){const F=l5(a,p,u,y);Object.keys(g).forEach(G=>{g[G]+=F[G]??0})}const _=kx(s,y);Object.keys(g).forEach(F=>{g[F]+=_[F]??0});const w=Ox(u,y);Object.keys(g).forEach(F=>{g[F]+=w[F]??0});const S=Cx(u,y);Object.keys(g).forEach(F=>{g[F]+=S[F]??0});const T=t5(a),M={비겁:0,식상:0,재성:0,관성:0,인성:0};if(Array.isArray(r))for(const F of r)M[F.name]=F.value;if(f>=45&&f<=55&&T){const F=M.관성>=30||M.관성>=Math.max(M.비겁,M.식상,M.재성,M.인성)+5;f<=50?(g[T.resource]+=14,y.get(T.resource)?.push("밸런스: 중화-약측"),g[T.peer]+=10,y.get(T.peer)?.push("밸런스: 중화-약측"),g[T.leak]+=6,y.get(T.leak)?.push("밸런스: 중화-약측"),g[T.wealth]+=3,y.get(T.wealth)?.push("밸런스: 중화-약측"),F&&T.officer&&(g[T.officer]=Math.round(g[T.officer]*.8*10)/10,y.get(T.officer)?.push("밸런스: 관성 과다 억제"))):(g[T.leak]+=14,y.get(T.leak)?.push("밸런스: 중화-강측"),g[T.wealth]+=10,y.get(T.wealth)?.push("밸런스: 중화-강측"),T.officer&&(g[T.officer]+=6,y.get(T.officer)?.push("밸런스: 중화-강측")),g[T.resource]+=3,y.get(T.resource)?.push("밸런스: 중화-강측"))}["목","화","토","금","수"].forEach(F=>{const G=s5(a,f,F,d);g[F]=Qs(Math.round((g[F]+G)*10)/10,0,999)});const A=f<50;["목","화","토","금","수"].forEach(F=>{const G=d[F]??0,tt=A&&a===F;if(G>=C0&&!tt){const ht=o5(G);g[F]=Math.round(g[F]*ht*10)/10;const it=Math.min(14,Math.max(0,Math.ceil((G-C0)*.5)));it>0&&(g[F]=Qs(g[F]-it,0,999)),y.get(F)?.push("강과 패널티(강화)")}});const z={목:[],화:[],토:[],금:[],수:[]};if(a){const F=Wc[a],G=al[a],tt=rh(a),ht=a,it=zc[a];z[F].push("식상"),z[G].push("재성"),z[tt].push("관성"),z[ht].push("비겁"),z[it].push("인성")}const H={목:(u.목??0)>0,화:(u.화??0)>0,토:(u.토??0)>0,금:(u.금??0)>0,수:(u.수??0)>0},k=F=>{const G=d[F]??0;return G>=C0&&!(A&&a===F)?G>=55?4:G>=45?3:2:H[F]?0:1},B=kx(s,new Map),C=Ox(u,new Map),q=Cx(u,new Map),et=Object.keys(g).map(F=>({element:F,score:Math.round(g[F]*10)/10,via:c5(F,B,C,q),reasons:(y.get(F)??[]).slice(),tenGodHints:z[F]})).sort((F,G)=>{const tt=k(F.element),ht=k(G.element);return tt!==ht?tt-ht:G.score!==F.score?G.score-F.score:F.element.localeCompare(G.element)}),st=u5(p,B,C,q),W={비겁:0,식상:0,재성:0,관성:0,인성:0},Q=r?r.reduce((F,G)=>(F[G.name]=G.value,F),{...W}):void 0;return{chosenType:st,ordered:et,debug:{band:p,overallPct:f,elementScore:u,tenGodTotals:Q,monthBranch:s??void 0}}}function c5(t,r,a,s){const u=[];return(r[t]??0)>0&&u.push("조후"),(a[t]??0)>0&&u.push("통관"),(s[t]??0)>0&&u.push("병약"),u.length===0&&u.push("억부"),u}function u5(t,r,a,s){if(["극약","태약","태강","극태강"].includes(t))return"억부";const d=y=>Object.values(y).reduce((_,w)=>_+w,0),f=d(r),p=d(a),g=d(s);return f>Math.max(p,g)?"조후":p>=g?"통관":"병약"}const d5=Object.fromEntries(_r.천간.map((t,r)=>[t,Gn[r]])),f5=Object.fromEntries(Gn.map((t,r)=>[t,_r.천간[r]])),h5=Object.fromEntries(_r.지지.map((t,r)=>[t,tr[r]])),m5=Object.fromEntries(tr.map((t,r)=>[t,_r.지지[r]])),p5=t=>d5[t]??t,g5=t=>h5[t]??t,b5=t=>f5[t]??t,y5=t=>m5[t]??t;function v5(t){const r={...t};for(const a of Object.keys(t)){const s=/[甲乙丙丁戊己庚辛壬癸]/.test(a)?p5(a):b5(a);s&&r[s]===void 0&&(r[s]=t[a])}return r}function tg(t){const r={...t};for(const a of Object.keys(t)){const s=/[子丑寅卯辰巳午未申酉戌亥]/.test(a)?g5(a):y5(a);s&&r[s]===void 0&&(r[s]=t[a])}return r}const x5={갑:"목",을:"목",병:"화",정:"화",무:"토",기:"토",경:"금",신:"금",임:"수",계:"수"},_5={자:"수",축:"토",인:"목",묘:"목",진:"토",사:"화",오:"화",미:"토",신:"금",유:"금",술:"토",해:"수"},Y2={자:[{stem:"계",ratio:1,main:!0}],子:[{stem:"계",ratio:1,main:!0}],축:[{stem:"계",ratio:.2},{stem:"신",ratio:.3},{stem:"기",ratio:.5,main:!0}],丑:[{stem:"계",ratio:.2},{stem:"신",ratio:.3},{stem:"기",ratio:.5,main:!0}],인:[{stem:"병",ratio:.3},{stem:"갑",ratio:.7,main:!0}],寅:[{stem:"병",ratio:.3},{stem:"갑",ratio:.7,main:!0}],묘:[{stem:"을",ratio:1,main:!0}],卯:[{stem:"을",ratio:1,main:!0}],진:[{stem:"을",ratio:.2},{stem:"계",ratio:.3},{stem:"무",ratio:.5,main:!0}],辰:[{stem:"을",ratio:.2},{stem:"계",ratio:.3},{stem:"무",ratio:.5,main:!0}],사:[{stem:"경",ratio:.3},{stem:"병",ratio:.7,main:!0}],巳:[{stem:"경",ratio:.3},{stem:"병",ratio:.7,main:!0}],오:[{stem:"정",ratio:1,main:!0}],午:[{stem:"정",ratio:1,main:!0}],미:[{stem:"정",ratio:.2},{stem:"을",ratio:.3},{stem:"기",ratio:.5,main:!0}],未:[{stem:"정",ratio:.2},{stem:"을",ratio:.3},{stem:"기",ratio:.5,main:!0}],신:[{stem:"임",ratio:.3},{stem:"경",ratio:.7,main:!0}],申:[{stem:"임",ratio:.3},{stem:"경",ratio:.7,main:!0}],유:[{stem:"신",ratio:1,main:!0}],酉:[{stem:"신",ratio:1,main:!0}],술:[{stem:"신",ratio:.2},{stem:"정",ratio:.3},{stem:"무",ratio:.5,main:!0}],戌:[{stem:"신",ratio:.2},{stem:"정",ratio:.3},{stem:"무",ratio:.5,main:!0}],해:[{stem:"갑",ratio:.3},{stem:"임",ratio:.7,main:!0}],亥:[{stem:"갑",ratio:.3},{stem:"임",ratio:.7,main:!0}]},S5={...Y2,인:[{stem:"무",ratio:.2},{stem:"병",ratio:.3},{stem:"갑",ratio:.5,main:!0}],寅:[{stem:"무",ratio:.2},{stem:"병",ratio:.3},{stem:"갑",ratio:.5,main:!0}],오:[{stem:"병",ratio:.2},{stem:"기",ratio:.2},{stem:"정",ratio:1,main:!0}],午:[{stem:"병",ratio:.2},{stem:"기",ratio:.2},{stem:"정",ratio:1,main:!0}],사:[{stem:"무",ratio:.2},{stem:"경",ratio:.3},{stem:"병",ratio:.7,main:!0}],巳:[{stem:"무",ratio:.2},{stem:"경",ratio:.3},{stem:"병",ratio:.7,main:!0}],신:[{stem:"무",ratio:.2},{stem:"임",ratio:.3},{stem:"경",ratio:.7,main:!0}],申:[{stem:"무",ratio:.2},{stem:"임",ratio:.3},{stem:"경",ratio:.7,main:!0}]},Bx=v5(x5),Rx=tg(_5);tg(Y2);tg(S5);const w5=["원국","대운","세운","월운","일운"],Ye={2:4,1:3,3:2,0:1};function Ld(t,r,a="classic"){const s=gr(r),u=ke(r),d=(a==="hgc"?t1:J_)[u]??[];return[s,...d].includes(t)}const Us={1:4,2:3,0:2,3:1},q2=new Set(Object.keys(Zf)),F2=new Set(Object.keys(xp)),T5=t=>t.slice(0,1),E5=t=>t.slice(-1);function Ji(t){return Gf.has(t)?t:q2.has(t)?Zf[t]??t:t}function jn(t){return vp.has(t)?t:F2.has(t)?xp[t]??t:t}function gr(t){return Ji(T5(t))}function ke(t){return jn(E5(t))}const bt={year:0,month:1,day:2,hour:3};function L0(t,r){const a=jn(t),s=[bt.day,bt.month,bt.hour,bt.year];for(const u of s)if(ke(r[u])===a)return{pos:u,weight:Ye[u]??0};return null}function eg(t,r,a){return ke(r[a])===jn(t)?{pos:a,weight:Ye[a]}:null}function M5(t,r){const a=Ji(t),s=[bt.day,bt.month,bt.hour,bt.year];for(const u of s)if(gr(r[u])===a)return{pos:u,weight:Ye[u]??0};return null}const N5=/^#(연지|월지|일지|시지)X\1_/,A5=t=>N5.test(t);function Px(t){const r=new Map;for(const a of t){if(A5(a.name))continue;const s=`${a.name}@${a.pos}`,u=r.get(s);(!u||a.weight>u.weight)&&r.set(s,a)}return Array.from(r.values()).sort((a,s)=>s.weight!==a.weight?s.weight-a.weight:a.name.localeCompare(s.name,"ko"))}function Bd(t){return t===3?"si":t===2?"il":t===1?"wol":"yeon"}const Go=t=>t===0?"연지":t===1?"월지":t===2?"일지":"시지",ol=t=>t==="dae"?"대운":t==="se"?"세운":t==="wol"?"월운":"일운",D5=(t,r)=>`#일간X${Go(r)}_${t}`,V2=(t,r)=>r===bt.month?`#월지_${t}`:`#월지X${Go(r)}_${t}`,Ys=(t,r,a)=>`#${Go(r)}X${Go(a)}_${t}`,j5=(t,r)=>`#${t==="day"?"일간":"연간"}X${Go(r)}_공망`,yi=t=>`#일주_${t}`,Rd=(t,r)=>`#${Go(r)}_${t}`,Ls=(t,r)=>`#일간X${ol(r)}_${t}`,vc=(t,r)=>`#월지X${ol(r)}_${t}`,B0=(t,r,a)=>`#${ol(r)}X${Go(a)}_${t}`,k5=(t,r)=>`#${r==="day"?"일간":"연간"}X${ol(t)}_공망`,O5=(t,r)=>`#${r==="day"?"일지":"연지"}X${ol(t)}_삼재`,zx=(t,r)=>`#연지X${ol(t)}_${r}`;function C5(t){if(!t)return null;const r=Array.from(String(t));let a=null,s=null;for(const u of r)!a&&(Gf.has(u)||q2.has(u))&&(a=Ji(u)),(vp.has(u)||F2.has(u))&&(s=jn(u));return a&&s?{stem:a,branch:s}:null}function R0(t){return t.map(ke)}const qe=t=>Object.fromEntries(Object.entries(t).map(([r,a])=>[jn(r),(Array.isArray(a)?a:[a]).map(jn)])),L5=qe({자:"사",축:"축",인:"유",묘:"사",진:"축",사:"유",오:"사",미:"축",신:"유",유:"사",술:"축",해:"유"}),K2=qe({자:"진",축:"사",인:"오",묘:"미",진:"신",사:"유",오:"술",미:"해",신:"자",유:"축",술:"인",해:"묘"}),B5=qe({자:"인",축:"묘",인:"진",묘:"사",진:"오",사:"미",오:"신",미:"유",신:"술",유:"해",술:"자",해:"축"}),R5=qe({자:"인",축:"인",인:"사",묘:"사",진:"사",사:"신",오:"신",미:"신",신:"해",유:"해",술:"해",해:"인"}),P5=qe({자:"술",축:"술",인:"축",묘:"축",진:"축",사:"진",오:"진",미:"진",신:"미",유:"미",술:"미",해:"술"}),X2=qe({자:"술",축:"해",인:"자",묘:"축",진:"인",사:"묘",오:"진",미:"사",신:"오",유:"미",술:"신",해:"유"}),z5=qe({자:"오",축:"묘",인:"자",묘:"유",진:"오",사:"묘",오:"자",미:"유",신:"오",유:"묘",술:"자",해:"유"}),H5=qe({자:"사",축:"인",인:"진",묘:"미",진:"사",사:"인",오:"진",미:"미",신:"사",유:"인",술:"진",해:"미"}),$5=qe({자:"신",축:"술",인:"자",묘:"인",진:"진",사:"오",오:"신",미:"술",신:"자",유:"인",술:"진",해:"오"}),I5=qe({자:"사",축:"미",인:"유",묘:"해",진:"축",사:"묘",오:"사",미:"미",신:"유",유:"해",술:"축",해:"묘"}),U5=qe({자:"오",축:"미",인:"신",묘:"유",진:"술",사:"해",오:"자",미:"축",신:"인",유:"묘",술:"진",해:"사"}),W2=qe({자:"사",축:"오",인:"미",묘:"신",진:"유",사:"술",오:"해",미:"자",신:"축",유:"인",술:"묘",해:"진"}),G5=qe({자:"인",축:"묘",인:"진",묘:"사",진:"오",사:"미",오:"신",미:"유",신:"술",유:"해",술:"자",해:"축"}),Z5=qe({자:"신",축:"사",인:"인",묘:"해",진:"신",사:"사",오:"인",미:"해",신:"신",유:"사",술:"인",해:"해"}),Y5=qe({자:"묘",축:"진",인:"사",묘:"오",진:"미",사:"신",오:"유",미:"술",신:"해",유:"자",술:"축",해:"인"}),q5=qe({자:"유",축:"술",인:"해",묘:"자",진:"축",사:"인",오:"묘",미:"진",신:"사",유:"오",술:"미",해:"신"}),F5=qe({자:"자",축:"축",인:"인",묘:"묘",진:"진",사:"사",오:"오",미:"미",신:"신",유:"유",술:"술",해:"해"}),V5=qe({자:"오",축:"미",인:"신",묘:"유",진:"술",사:"해",오:"자",미:"축",신:"인",유:"묘",술:"진",해:"사"}),Q2=qe({자:"해",축:"자",인:"축",묘:"인",진:"묘",사:"진",오:"사",미:"오",신:"미",유:"신",술:"유",해:"술"}),K5=W2,X5=K2,W5=Q2,Q5=qe({자:"유",축:"진",인:"해",묘:"오",진:"축",사:"신",오:"묘",미:"술",신:"사",유:"자",술:"미",해:"인"}),J5=X2,t9=qe({자:"신",축:"유",인:"술",묘:"해",진:"자",사:"축",오:"인",미:"묘",신:"진",유:"사",술:"오",해:"미"}),e9=qe({자:"축",축:"묘",인:"신",묘:"축",진:"묘",사:"신",오:"축",미:"묘",신:"신",유:"축",술:"묘",해:"신"}),n9=qe({자:"오",축:"미",인:"인",묘:"오",진:"미",사:"인",오:"오",미:"미",신:"인",유:"오",술:"미",해:"인"}),J2=t=>(Array.isArray(t)?t:String(t).split("·")).map(r=>jn(r.trim())).filter(Boolean),Gr=t=>Object.fromEntries(Object.entries(t).map(([r,a])=>[jn(r),(Array.isArray(a)?a:[a]).map(s=>jn(s))])),Hx={인:"정",묘:"신",진:"임",사:"신",오:"해",미:"갑",신:"계",유:"인",술:"병",해:"을",자:"사",축:"경"},$x={인:"병",묘:"갑",진:"임",사:"경",오:"병",미:"갑",신:"임",유:"경",술:"병",해:"갑",자:"임",축:"경"},Ix={인:"임",묘:"사",진:"정",사:"병",오:"인",미:"기",신:"무",유:"해",술:"신",해:"경",자:"신",축:"을"},Ux={인:"신",묘:"기",진:"정",사:"을",오:"신",미:"기",신:"정",유:"을",술:"신",해:"기",자:"정",축:"을"},r9=Gr({인:"술",묘:"해",진:"자",사:"축",오:"인",미:"묘",신:"진",유:"사",술:"오",해:"미",자:"신",축:"유"}),Gx=Gr({인:"신",묘:"유",진:"술",사:"해",오:"자",미:"축",신:"신",유:"유",술:"술",해:"해",자:"자",축:"축"}),ih=t=>Object.fromEntries(Object.entries(t).map(([r,a])=>[jn(r),J2(a)])),i9=ih({인:"무인",묘:"무인",진:"무인",사:"갑오",오:"갑오",미:"갑오",신:"무신",유:"무신",술:"무신",해:"갑자",자:"갑자",축:"갑자"}),a9=ih({인:"을묘",묘:"을묘",진:"을묘",사:"병오",오:"병오",미:"병오",신:"신유",유:"신유",술:"신유",해:"임자",자:"임자",축:"임자"}),o9=ih({인:"신묘",묘:"신묘",진:"신묘",사:"무오",오:"무오",미:"무오",신:"계유",유:"계유",술:"계유",해:"병자",자:"병자",축:"병자"}),s9=ih({인:"갑자",묘:"갑자",진:"갑자",사:"갑오",오:"갑오",미:"갑오",신:"무신",유:"무신",술:"무신",해:"갑자",자:"갑자",축:"갑자"}),l9=Gr({인:["해","자"],묘:["해","자"],진:["해","자"],사:["묘","미"],오:["묘","미"],미:["묘","미"],신:["인","술"],유:["인","술"],술:["인","술"],해:["축","진"],자:["축","진"],축:["축","진"]}),c9=Gr({인:"인",묘:"묘",진:"신",사:"축",오:"술",미:"유",신:"진",유:"사",술:"오",해:"미",자:"해",축:"자"}),u9=Gr({인:"유",묘:"사",진:"축",사:"유",오:"사",미:"축",신:"유",유:"사",술:"축",해:"유",자:"사",축:"축"}),d9=Gr({인:"진",묘:"진",진:"진",사:"미",오:"미",미:"미",신:"술",유:"술",술:"술",해:"축",자:"축",축:"축"}),f9=Gr({인:["사","해"],묘:["진","술"],진:["묘","유"],사:["인","신"],오:["축","미"],미:["자","오"],신:["사","해"],유:["진","술"],술:["묘","유"],해:["인","신"],자:["축","미"],축:["자","오"]}),Zx=Gr({인:"축",묘:"인",진:"묘",사:"진",오:"사",미:"오",신:"미",유:"신",술:"유",해:"술",자:"해",축:"자"}),h9=Gr({인:"미",묘:"오",진:"사",사:"진",오:"묘",미:"인",신:"축",유:"자",술:"해",해:"술",자:"유",축:"신"}),m9=Gr({인:"술",묘:"축",진:"인",사:"사",오:"유",미:"묘",신:"자",유:"오",술:"해",해:"진",자:"신",축:"미"}),p9=Gr({인:"축",묘:"자",진:"해",사:"술",오:"유",미:"신",신:"미",유:"오",술:"사",해:"진",자:"묘",축:"인"}),g9=Gr({인:"해",묘:"술",진:"유",사:"신",오:"미",미:"오",신:"사",유:"진",술:"묘",해:"인",자:"축",축:"자"}),$e=t=>Object.fromEntries(Object.entries(t).map(([r,a])=>[Ji(r),J2(a)])),b9=$e({갑:"자·오",을:"자",병:"묘",정:"묘",무:"진·술",기:"축·미",경:"인·해",신:"인·해",임:"사·신",계:"사·신"}),Yx=$e({갑:"축·미",을:"자·신",병:"해·유",정:"해·유",무:"축·미",기:"자·신",경:"축·미",신:"인·오",임:"사·묘",계:"사·묘"}),y9=$e({갑:"사",을:"오",병:"사",정:"오",무:"신",기:"유",경:"해",신:"자",임:"인",계:"묘"}),v9=$e({갑:"유",을:"신",병:"자",정:"해",무:"묘",기:"인",경:"오",신:"사",임:"축·미",계:"진·술"}),x9=$e({갑:"미",을:"진",병:"사",정:"유",무:"술",기:"묘",경:"해",신:"신",임:"인",계:"오"}),_9=$e({갑:"사",을:"오",병:"신",정:"유",무:"신",기:"유",경:"해",신:"자",임:"인",계:"묘"}),S9=$e({갑:"해",을:"술",병:"신",정:"미",무:"신",기:"미",경:"사",신:"진",임:"인",계:"축"}),qx=$e({갑:"진",을:"사",병:"미",정:"신",무:"미",기:"신",경:"술",신:"해",임:"축",계:"인"}),w9=$e({갑:"축·묘",을:"인·진",병:"진·오",정:"사·미",무:"진·오",기:"사·미",경:"미·유",신:"신·술",임:"술·자",계:"해·축"}),T9=$e({갑:"사",을:"사",병:"사",정:"신",무:"해",기:"해",경:"인",신:"인",임:"신",계:"신"}),E9=$e({갑:"해",을:"자",병:"인",정:"묘",무:"인",기:"묘",경:"사",신:"오",임:"신",계:"유"}),M9=$e({갑:"해",을:"오",병:"인",정:"유",무:"인",기:"유",경:"사",신:"자",임:"신",계:"묘"}),N9=$e({갑:"인",을:"묘",병:"사",정:"오",무:"사",기:"오",경:"신",신:"유",임:"해",계:"자"}),Fx=$e({갑:"신",을:"오",병:"인",정:"미",무:"진",기:"진",경:"술",신:"유",임:"자",계:"신"}),A9=$e({갑:"유",을:"술",병:"미",정:"신",무:"사",기:"오",경:"진",신:"묘",임:"해",계:"인"}),D9=$e({갑:"사",을:"자",병:"신",정:"술",무:"묘",기:"사",경:"자",신:"신",임:"술",계:"묘"}),Vx=$e({갑:"자",을:"해",병:"인",정:"묘",무:"오",기:"사",경:"진·술",신:"축·미",임:"신",계:"유"}),j9=$e({갑:"인",정:"사",무:"신",신:"해"}),k9=$e({갑:"유",을:"술",병:"자",정:"축",무:"자",기:"축",경:"묘",신:"진",임:"오",계:"미"}),Kx=$e({정:"축·미",신:"묘·유",계:"사·해"}),Xx=$e({병:"자·오",무:"인·신",임:"진·술"}),O9=$e({갑:"진",을:"진",병:"축",정:"축",무:"축",기:"축",경:"미",신:"미",임:"술",계:"술"}),Wx=$e({갑:"묘",을:"진",병:"오",정:"미",무:"오",기:"미",경:"유",신:"술",임:"자",계:"축"}),Qx=$e({갑:"진",을:"미",병:"술",정:"축",무:"진",임:"술",계:"축"}),P0=[["자","미"],["인","유"],["축","오"],["묘","신"],["진","해"],["사","술"]],z0=[["인","미"],["묘","신"],["진","해"],["사","술"],["자","유"],["축","오"]],C9=new Set(["인미","미인","묘신","신문"]),Jx=[["술","해"],["진","사"]],L9=[{set:new Set(["갑자","을축","병인","정묘","무진","기사","경오","신미","임술","계유"]),voids:["술","해"]},{set:new Set(["갑술","을해","병자","정축","무인","기묘","경진","신사","임오","계미"]),voids:["신","유"]},{set:new Set(["갑신","을유","병술","정해","무자","기축","경인","신묘","임진","계사"]),voids:["오","미"]},{set:new Set(["갑오","을미","병신","정유","무술","기해","경자","신축","임인","계묘"]),voids:["진","사"]},{set:new Set(["갑진","을사","병오","정미","무신","기유","경술","신해","임자","계축"]),voids:["인","묘"]},{set:new Set(["갑인","을묘","병진","정사","무오","기미","경신","신유","임진","계해"]),voids:["자","축"]}];function xc(t,r,a){const s=jn(r),u=jn(a);for(const[d,f]of t)if(d===s&&f===u||d===u&&f===s)return!0;return!1}function t_(t,r,a){const s=jn(r),u=jn(a);for(const[d,f]of t)if(d===s&&f===u||d===u&&f===s)return`${d}${f}`;return`${s}${u}`}function Pd(t){for(const r of L9)if(r.set.has(t))return r.voids;return null}function H0(t){const r=jn(t),a=[{group:new Set(["해","묘","미"]),years:new Set(["사","오","미"])},{group:new Set(["인","오","술"]),years:new Set(["신","유","술"])},{group:new Set(["사","유","축"]),years:new Set(["해","자","축"])},{group:new Set(["신","자","진"]),years:new Set(["인","묘","진"])}];for(const s of a)if(s.group.has(r))return Array.from(s.years);return null}function Qc(t,r){t.push(r)}function $0(t,r,a,s,u=0){const d=Us[a]>=Us[s]?a:s,f=Ys(r,a,s);t.push({name:f,weight:Ye[d]+u,pos:d})}function Ce(t,r,a,s,u){const d=ke(t[bt.year]),f=r[d];if(!f)return;const p=a==="MONTH"?[bt.month]:a==="DAY"?[bt.day]:a==="HOUR"?[bt.hour]:[bt.year,bt.month,bt.day,bt.hour];for(const g of f)for(const y of p){const _=eg(g,t,y);_&&Qc(u,{name:Ys(s,bt.year,y),weight:_.weight,pos:y})}}function zd(t,r,a,s){const u=ke(t[bt.month]),d=r[u];if(!d)return;const f=Ji(d),p=M5(f,t);p&&Qc(s,{name:V2(a,p.pos),weight:p.weight,pos:p.pos})}function mr(t,r,a,s,u="ALL"){const d=ke(t[bt.month]),f=r[d];if(!f)return;const p=u==="YEAR"?[bt.year]:u==="DAY"?[bt.day]:u==="HOUR"?[bt.hour]:u==="DAY_HOUR"?[bt.day,bt.hour]:[bt.year,bt.month,bt.day,bt.hour];for(const g of f)for(const y of p){const _=eg(g,t,y);if(!_)continue;const w=y===bt.month?`#월지_${a}`:V2(a,y);Qc(s,{name:w,weight:_.weight,pos:y})}}function Hd(t,r,a,s){const u=ke(t[bt.month]),d=r[u];if(!d)return;const f=t[bt.day];d.includes(f)&&Qc(s,{name:Ys(a,bt.month,bt.day),weight:Ye[bt.day],pos:bt.day})}function je(t,r,a,s,u){const d=gr(t[bt.day]),f=r[d];if(!f)return;const p=u==="DAY"?[bt.day]:u==="HOUR"?[bt.hour]:[bt.year,bt.month,bt.day,bt.hour];for(const g of f)for(const y of p){const _=eg(g,t,y);_&&Qc(s,{name:D5(a,y),weight:_.weight,pos:y})}}function Ec({natal:t,daewoon:r,sewoon:a,wolwoon:s,ilwoon:u,basis:d}){const f=gr(t[bt.day]),p=ke(t[bt.day]),g=ke(t[bt.month]),y=ke(t[bt.year]),_=R0(t),w=[],S=[],T=new Set(["경진","임진","경술","무술"]);if(Ce(t,L5,"MONTH","태백",S),Ce(t,K2,"DAY","오귀",S),Ce(t,R5,"MONTH","고신",S),Ce(t,P5,"MONTH","과숙",S),Ce(t,z5,"ALL","수옥",S),Ce(t,H5,"HOUR","단명",S),Ce(t,$5,"ALL","천모",S),Ce(t,I5,"ALL","지모",S),Ce(t,U5,"ALL","대모",S),Ce(t,W2,"ALL","소모",S),Ce(t,G5,"ALL","격각",S),Ce(t,Z5,"ALL","파군",S),Ce(t,Y5,"ALL","구신",S),Ce(t,q5,"ALL","교신",S),Ce(t,F5,"ALL","반음",S),Ce(t,V5,"ALL","복음",S),Ce(t,Q2,"ALL","병부",S),Ce(t,K5,"ALL","사부",S),Ce(t,X5,"ALL","관부",S),Ce(t,W5,"ALL","태음",S),Ce(t,Q5,"ALL","세파",S),Ce(t,J5,"ALL","천구",S),Ce(t,t9,"ALL","비염",S),Ce(t,e9,"ALL","매아",S),Ce(t,n9,"ALL","탕화",S),zd(t,Hx,"천덕귀인",w),zd(t,$x,"월덕귀인",w),zd(t,Ix,"천덕합",w),zd(t,Ux,"월덕합",w),mr(t,r9,"혈지",S,"ALL"),mr(t,Gx,"금쇄",S,"YEAR"),mr(t,Gx,"금쇄",S,"DAY"),Hd(t,i9,"천사",w),Hd(t,a9,"천전살",S),Hd(t,o9,"지전살",S),Hd(t,s9,"진신",w),mr(t,l9,"급각살",S,"ALL"),mr(t,c9,"단교관살",S,"ALL"),mr(t,u9,"부벽살",S,"ALL"),mr(t,d9,"욕분관살",S,"ALL"),mr(t,f9,"사주관살",S,"ALL"),mr(t,Zx,"천의성",w,"ALL"),mr(t,h9,"천희신",w,"DAY_HOUR"),mr(t,m9,"황은대사",w,"DAY_HOUR"),mr(t,p9,"홍란성",w,"ALL"),mr(t,g9,"장수성",w,"ALL"),je(t,b9,"태극귀인",w,"ALL"),je(t,Yx,"천을귀인",w,"ALL"),je(t,y9,"천주귀인",w,"ALL"),je(t,v9,"천관귀인",w,"ALL"),je(t,x9,"천복귀인",w,"ALL"),je(t,_9,"문창귀인",w,"ALL"),je(t,S9,"암록",w,"ALL"),je(t,qx,"금여록",w,"ALL"),je(t,w9,"협록",w,"ALL"),je(t,T9,"관귀학관",w,"ALL"),je(t,E9,"문곡귀인",w,"ALL"),je(t,M9,"학당귀인",w,"ALL"),je(t,N9,"십간록",w,"ALL"),je(t,Fx,"홍염",S,"ALL"),je(t,A9,"유하",S,"ALL"),je(t,D9,"낙정관살",S,"ALL"),je(t,Vx,"효신살",S,"DAY"),je(t,Vx,"효신살",S,"HOUR"),je(t,Kx,"음착살",S,"DAY"),je(t,Kx,"음착살",S,"HOUR"),je(t,Xx,"양착살",S,"DAY"),je(t,Xx,"양착살",S,"HOUR"),je(t,j9,"고란살",S,"DAY"),je(t,k9,"비인살",S,"ALL"),je(t,O9,"재고귀인",w,"ALL"),je(t,Wx,"양인살",S,"ALL"),T.has(t[bt.day])){S.push({name:yi("괴강살"),weight:Ye[bt.day],pos:bt.day});for(const j of[bt.year,bt.month,bt.hour])t[j]===t[bt.day]&&S.push({name:Rd("괴강살",j),weight:Ye[j],pos:j})}const D=Qx[f];if(D)for(const j of[bt.year,bt.month,bt.day,bt.hour]){const $=gr(t[j]),Y=ke(t[j]);$===f&&D.includes(Y)&&S.push({name:Rd("백호대살",j),weight:Ye[j],pos:j})}for(const[j,$]of Jx){const Y=L0(j,t),J=L0($,t);Y&&J&&$0(S,"천라지망",Y.pos,J.pos)}{const j=new Set(["갑","신"]),$=new Set(["묘","오","미","신"]);for(let Y=0;Y<=3;Y++){const J=gr(t[Y]),V=ke(t[Y]);(j.has(J)||$.has(V))&&S.push({name:Rd("현침살",Y),weight:Ye[Y],pos:Y})}}{const j=gr(t[bt.day]),$=t[bt.hour],Y=(J,V)=>J.includes(j)&&V.includes($);Y(["갑","기"],["임신","계유"])&&S.push({name:yi("절로공망"),weight:Ye[bt.hour],pos:bt.hour}),Y(["을","경"],["임오","계미"])&&S.push({name:yi("절로공망"),weight:Ye[bt.hour],pos:bt.hour}),Y(["병","신"],["임진","계사"])&&S.push({name:yi("절로공망"),weight:Ye[bt.hour],pos:bt.hour}),Y(["정","임"],["임인","계묘"])&&S.push({name:yi("절로공망"),weight:Ye[bt.hour],pos:bt.hour}),Y(["무","계"],["임자","계축"])&&S.push({name:yi("절로공망"),weight:Ye[bt.hour],pos:bt.hour})}{const j=R0(t);["자","오","묘","유"].every(Y=>j.includes(Y))&&w.push({name:yi("편야도화"),weight:Ye[bt.day],pos:bt.day})}{const j=t[bt.day],$=t[bt.hour];(j==="병자"&&$==="신묘"||j==="기묘"&&$==="갑자")&&S.push({name:Ys("곤랑도화",bt.day,bt.hour),weight:Ye[bt.hour],pos:bt.hour})}{const j=ke(t[bt.year]),$=new Set(R0(t).slice(1)),Y=(J,V)=>J.every(I=>$.has(I))&&j===V;(Y(["신","자","진"],"유")||Y(["인","오","술"],"묘")||Y(["사","유","축"],"묘")||Y(["해","묘","미"],"자"))&&w.push({name:yi("도삽도화"),weight:Ye[bt.day],pos:bt.day})}["임오","계사"].includes(t[bt.day])&&w.push({name:yi("녹마동향"),weight:Ye[bt.day],pos:bt.day});{const j=gr(t[bt.day]),Y={갑:{rok:"인",group:["인","오","술"],ma:"신",maStem:"경"},을:{rok:"묘",group:["해","묘","미"],ma:"사",maStem:"병"},병:{rok:"사",group:["인","오","술"],ma:"해",maStem:"임"},정:{rok:"오",group:["인","오","술"],ma:"해",maStem:"경"},무:{rok:"사",group:["인","오","술"],ma:"해",maStem:"임"},기:{rok:"오",group:["해","묘","미"],ma:"해",maStem:"경"},경:{rok:"신",group:["신","자","진"],ma:"인",maStem:"갑"},신:{rok:"유",group:["사","유","축"],ma:"해",maStem:"임"},임:{rok:"해",group:["신","자","진"],ma:"사",maStem:"사"},계:{rok:"자",group:["해","묘","미"],ma:"인",maStem:"갑"}}[j],J=t.some(U=>ke(U)===Y.rok),I=gr(t[bt.hour])===Y.maStem;J&&I&&w.push({name:Ys("록마교치",bt.day,bt.hour),weight:Ye[bt.hour],pos:bt.hour})}{const j=gr(t[bt.day]),$=ke(t[bt.day]),Y=ke(t[bt.hour]),V={갑:{rok:"인",ma:"신",rokStem:"병",maStem:"임"},을:{rok:"묘",ma:"사",rokStem:"병",maStem:"임"},병:{rok:"사",ma:"해",rokStem:"임",maStem:"병"},정:{rok:"오",ma:"해",rokStem:"경",maStem:"병"},무:{rok:"사",ma:"해",rokStem:"임",maStem:"병"},기:{rok:"오",ma:"해",rokStem:"경",maStem:"병"},경:{rok:"신",ma:"인",rokStem:"갑",maStem:"경"},신:{rok:"유",ma:"해",rokStem:"임",maStem:"갑"},임:{rok:"해",ma:"사",rokStem:"사",maStem:"임"},계:{rok:"자",ma:"인",rokStem:"갑",maStem:"경"}}[j];if(V){const I=$===V.rok,U=Y===V.ma,dt=Ld(V.rokStem,t[bt.day],"classic")||Ld(V.rokStem,t[bt.hour],"classic"),gt=Ld(V.maStem,t[bt.day],"classic")||Ld(V.maStem,t[bt.hour],"classic");I&&U&&(dt||gt)&&w.push({name:Ys("천록천마",bt.day,bt.hour),weight:Ye[bt.hour],pos:bt.hour})}}{const j=new Set(["갑","병","정","임","자","진"]),$=t.map(gr),Y=t.map(ke),J=$.concat(Y).filter(dt=>j.has(dt)).length,V=r?gr(r):"",I=r?ke(r):"",U=j.has(V)||j.has(I);(J>=4||J===3&&U)&&S.push({name:yi("평두살"),weight:Ye[bt.day],pos:bt.day})}{const j=new Set(["을","기"]),$=new Set(["축","사"]);for(let Y=0;Y<=3;Y++){const J=gr(t[Y]),V=ke(t[Y]);(j.has(J)||$.has(V))&&S.push({name:Rd("곡각살",Y),weight:Ye[Y],pos:Y})}}{const j=[[bt.year,bt.month],[bt.year,bt.day],[bt.month,bt.day],[bt.month,bt.hour],[bt.day,bt.hour]];for(const[$,Y]of j){const J=ke(t[$]),V=ke(t[Y]);if(xc(P0,J,V)){const I=t_(P0,J,V);$0(S,`${I}원진`,$,Y)}}}{const j=[[bt.year,bt.month,0],[bt.month,bt.day,1],[bt.month,bt.hour,0],[bt.day,bt.hour,0]];for(const[$,Y,J]of j){const V=ke(t[$]),I=ke(t[Y]);if(xc(z0,V,I)){const U=t_(z0,V,I),dt=(J?1:0)+(C9.has(V+I)?1:0);$0(S,`${U}귀문`,$,Y,dt)}}}function A(j){const $=j.lastIndexOf("_");return $>=0?j.slice($+1):j}const z=new Set(["현침살","곡각살"]);function H(j){return z.has(j)?!0:j.endsWith("원진")||j.endsWith("귀문")}function k(j){const $=new Map;for(const J of j){const V=A(J.name);$.has(V)||$.set(V,[]),$.get(V).push(J)}const Y=[];for(const[J,V]of $)if(H(J))Y.push(...V);else{const I=V.sort((U,dt)=>Us[U.pos]!==Us[dt.pos]?Us[dt.pos]-Us[U.pos]:dt.weight-U.weight)[0];Y.push(I)}return Y}const B=Pd(t[bt.day]),C=Pd(t[bt.year]);{const j=(d?.voidBasis??"day")==="day"?B:C;if(j){const[$,Y]=j.map(jn),J=[bt.year,bt.month,bt.day,bt.hour];for(const V of J){const I=ke(t[V]);(I===$||I===Y)&&S.push({name:j5(d?.voidBasis??"day",V),weight:Ye[V],pos:V})}}}const q=k(Px(w)),et=k(Px(S)),st={si:[],il:[],yeon:[],wol:[]},W={si:[],il:[],yeon:[],wol:[]};for(const j of q)st[Bd(j.pos)].push(j.name);for(const j of et)W[Bd(j.pos)].push(j.name);const Q=[],F=[],G=[],tt=[],ht=[],it=[],Z=[],rt=[];function ot(j,$){j.includes($)||j.push($)}function yt(j,$){const Y=C5($);if(!Y)return;const J=Y.branch,V=Y.stem;let I,U;switch(j){case"dae":I=Q,U=ht;break;case"se":I=F,U=it;break;case"wol":I=G,U=Z;break;case"il":I=tt,U=rt;break;default:return}Ji(Hx[g])===V&&ot(I,vc("천덕귀인",j)),Ji($x[g])===V&&ot(I,vc("월덕귀인",j)),Ji(Ix[g])===V&&ot(I,vc("천덕합",j)),Ji(Ux[g])===V&&ot(I,vc("월덕합",j)),Zx[g]?.includes(J)&&ot(I,vc("천의성",j)),Yx[f]?.includes(J)&&ot(I,Ls("천을귀인",j)),qx[f]?.includes(J)&&ot(I,Ls("금여록",j)),Fx[f]?.includes(J)&&ot(U,Ls("홍염",j)),Wx[f]?.includes(J)&&ot(U,Ls("양인살",j)),Qx[f]?.includes(J)&&ot(U,Ls("백호대살",j)),j==="se"&&(B5[y]?.includes(J)&&ot(U,zx(j,"상문살")),X2[y]?.includes(J)&&ot(U,zx(j,"조객살")));for(const gt of _)if(xc(Jx,J,gt)){const Mt=L0(gt,t)?.pos;Mt!==void 0&&ot(U,B0("천라지망",j,Mt));break}new Set(["갑","신"]).has(f)&&new Set(["묘","오","미","신"]).has(J)&&ot(U,Ls("현침살",j));const dt=(d?.voidBasis??"day")==="day"?B:C;dt&&(J===dt[0]||J===dt[1])&&ot(U,k5(j,d?.voidBasis??"day"));for(let gt=0;gt<=3;gt++){const Mt=ke(t[gt]);xc(P0,J,Mt)&&ot(U,B0("원진",j,gt)),xc(z0,J,Mt)&&ot(U,B0("귀문",j,gt))}if(j==="se"){const gt=(d?.samjaeBasis??"day")==="day"?p:y,Mt=gt?H0(gt):null;Mt&&Mt.includes(J)&&ot(U,O5(j,d?.samjaeBasis??"day"))}}return yt("dae",r??null),yt("se",a??null),yt("wol",s??null),yt("il",u??null),{good:{si:[],il:[],yeon:[],wol:[],...(()=>{const j={si:[],il:[],yeon:[],wol:[]};for(const $ of q)j[Bd($.pos)].push($.name);return j})(),dae:Q,se:F,wolun:G,ilun:tt},bad:{si:[],il:[],yeon:[],wol:[],...(()=>{const j={si:[],il:[],yeon:[],wol:[]};for(const $ of et)j[Bd($.pos)].push($.name);return j})(),dae:ht,se:it,wolun:Z,ilun:rt},meta:{voidPair:{day:Pd(t[bt.day])??void 0,year:Pd(t[bt.year])??void 0},samjaeYears:{day:H0(p)??void 0,year:H0(y)??void 0},currentBasis:{voidBasis:d?.voidBasis??"day",samjaeBasis:d?.samjaeBasis??"day"}}}}function B9(t,r){if(t==="#없음")return"bg-neutral-100 text-neutral-500 border-neutral-200 dark:bg-neutral-900 dark:text-neutral-500 dark:border-neutral-700";switch(r){case"natal":return"bg-violet-100 text-violet-800 border-violet-200 dark:bg-violet-900/30 dark:text-violet-200 dark:border-violet-800";case"dae":return"bg-blue-100 text-blue-800 border-blue-200 dark:bg-blue-900/30 dark:text-blue-200 dark:border-blue-800";case"se":return"bg-green-100 text-green-800 border-green-200 dark:bg-green-900/30 dark:text-green-200 dark:border-green-800";case"wol":return"bg-orange-100 text-orange-800 border-orange-200 dark:bg-orange-900/30 dark:text-orange-200 dark:border-orange-800";case"il":return"bg-red-100 text-red-800 border-red-200 dark:bg-red-900/30 dark:text-red-200 dark:border-red-800";default:return""}}function R9({items:t,source:r}){const a=t.length>0?t:["#없음"];return b.jsx("div",{className:"flex flex-wrap gap-2",children:a.map((s,u)=>b.jsx("span",{className:"text-xs px-2 py-1 rounded-full border whitespace-nowrap "+B9(s,r),children:s},`${r}-${u}-${s}`))})}function e_({title:t,rows:r}){return b.jsxs("div",{className:"space-y-2 desk:flex-1 desk:px-1",children:[b.jsx("div",{className:"text-md font-bold text-neutral-800 dark:text-neutral-200 mt-2",children:t}),r.map(a=>{const u=a.items.some(d=>d!=="#없음")?"shrink-0 w-12 text-xs font-semibold text-orange-700 dark:text-orange-300 mt-1":"shrink-0 w-12 text-xs font-semibold text-neutral-700 dark:text-neutral-300 mt-1";return b.jsxs("div",{className:"flex items-start gap-3 border border-gray-700 dark:border-gray-400 p-2 rounded-sm",children:[b.jsx("div",{className:u,children:a.label}),b.jsx(R9,{items:a.items.length>0?a.items:["#없음"],source:a.source})]},`${t}-${a.label}`)})]})}function P9({pillars:t,daewoon:r,sewoon:a,wolwoon:s,ilwoon:u,tab:d="원국"}){const[f,p]=O.useState("일공망"),[g,y]=O.useState("일삼재"),_=O.useMemo(()=>({voidBasis:f==="일공망"?"day":"year",samjaeBasis:g==="일삼재"?"day":"year"}),[f,g]),w=O.useMemo(()=>Ec({natal:t,daewoon:r,sewoon:a,wolwoon:s,ilwoon:u,basis:_}),[t,r,a,s,u,_]),{good:S,bad:T,meta:M}=w,D=W=>W.map(Q=>Q==="#없음"?Q:`원국 ${Q}`),A=(W,Q)=>{const F=["natal"];return Q==="원국"&&F.push("natal"),Q==="대운"&&F.push("natal","dae"),Q==="세운"&&F.push("natal","dae","se"),Q==="월운"&&F.push("natal","dae","se","wol"),Q==="일운"&&F.push("natal","dae","se","wol","il"),W.filter(G=>F.includes(G.source))},z=[{label:"시주",items:D(S.si),source:"natal"},{label:"일주",items:D(S.il),source:"natal"},{label:"월주",items:D(S.wol),source:"natal"},{label:"연주",items:D(S.yeon),source:"natal"},{label:"대운",items:S.dae,source:"dae"},{label:"세운",items:S.se,source:"se"},{label:"월운",items:S.wolun,source:"wol"},{label:"일운",items:S.ilun,source:"il"}],H=[{label:"시주",items:D(T.si),source:"natal"},{label:"일주",items:D(T.il),source:"natal"},{label:"월주",items:D(T.wol),source:"natal"},{label:"연주",items:D(T.yeon),source:"natal"},{label:"대운",items:T.dae,source:"dae"},{label:"세운",items:T.se,source:"se"},{label:"월운",items:T.wolun,source:"wol"},{label:"일운",items:T.ilun,source:"il"}],k=A(z,d),B=A(H,d),C=M.voidPair.day?`일공망(${M.voidPair.day.join("")})`:"일공망(—)",q=M.voidPair.year?`연공망(${M.voidPair.year.join("")})`:"연공망(—)",et=M.samjaeYears.day?`일삼재(${M.samjaeYears.day.join("·")})`:"일삼재(—)",st=M.samjaeYears.year?`연삼재(${M.samjaeYears.year.join("·")})`:"연삼재(—)";return b.jsxs("div",{className:"rounded-xl p-4 bg-neutral-100 dark:bg-neutral-900 text-neutral-900 dark:text-neutral-100 space-y-2",children:[b.jsx("div",{className:"text-base font-bold mb-1",children:"신살(길신/흉살)"}),b.jsxs("div",{className:"flex flex-wrap items-center gap-3 text-xs",children:[b.jsxs("div",{className:"flex items-center gap-2",children:[b.jsx("label",{className:"text-neutral-600 dark:text-neutral-300",children:"공망 기준"}),b.jsxs("select",{value:f,onChange:W=>p(W.target.value),className:"px-2 h-30 rounded border border-neutral-300 dark:border-neutral-700 bg-white dark:bg-neutral-800",children:[b.jsx("option",{value:"일공망",children:C}),b.jsx("option",{value:"연공망",children:q})]})]}),b.jsxs("div",{className:"flex items-center gap-2",children:[b.jsx("label",{className:"text-neutral-600 dark:text-neutral-300",children:"삼재 기준"}),b.jsxs("select",{value:g,onChange:W=>y(W.target.value),className:"px-2 h-30 rounded border border-neutral-300 dark:border-neutral-700 bg-white dark:bg-neutral-800",children:[b.jsx("option",{value:"일삼재",children:et}),b.jsx("option",{value:"연삼재",children:st})]})]})]}),b.jsxs("div",{className:"desk:flex",children:[b.jsx(e_,{title:"신(神)",rows:k}),b.jsx("div",{className:"block desk:hidden border-t border-neutral-200 dark:border-neutral-800 mt-4 mb-3"}),b.jsx(e_,{title:"살(殺)",rows:B})]})]})}const zr={year:0,month:1,day:2,hour:3},tS={[zr.year]:.3,[zr.month]:.5,[zr.day]:.3,[zr.hour]:.3},eS={[zr.year]:.15,[zr.month]:.2,[zr.day]:0,[zr.hour]:.15},z9=t=>vp.has(t)?t:xp[t]??t,H9=t=>Gf.has(t)?t:Zf[t]??t,$9=t=>typeof t=="string"&&t.length>=2?z9(t.slice(-1)):"",I9=t=>typeof t=="string"&&t.length>=1?H9(t.slice(0,1)):"",Ke=(t,r,a,s)=>({han:t,nan:r,jo:a,seup:s}),U9={해:Ke(2,0,.5,2),자:Ke(2,0,0,2),축:Ke(2,0,0,2),인:Ke(0,2,2,0),묘:Ke(0,2,2,0),진:Ke(0,2,1,2),사:Ke(0,2,2,.5),오:Ke(0,2,2,0),미:Ke(0,2,2,1),신:Ke(2,0,0,2),유:Ke(2,0,0,2),술:Ke(2,0,1,1)},G9={갑:Ke(0,1,1,0),을:Ke(0,1,1,0),병:Ke(0,2,2,0),정:Ke(0,2,2,0),무:Ke(0,0,1,0),기:Ke(0,0,0,1),경:Ke(1,0,0,1),신:Ke(1,0,0,1),임:Ke(2,0,0,2),계:Ke(2,0,0,2)},n_=t=>Math.max(0,Math.min(100,t));function r_(t,r){const a=Math.max(0,t),s=Math.max(0,r),u=a+s;return u<=0?50:s/u*100}function Z9(t){let r=0,a=0,s=0,u=0;return[zr.year,zr.month,zr.day,zr.hour].forEach(d=>{const f=U9[$9(t[d])],p=G9[I9(t[d])],g=tS[d],y=eS[d];g>0&&f&&(r+=f.han*g,a+=f.nan*g,s+=f.jo*g,u+=f.seup*g),y>0&&p&&(r+=p.han*y,a+=p.nan*y,s+=p.jo*y,u+=p.seup*y)}),{han:r,nan:a,jo:s,seup:u}}function Y9(t){const r=Array.isArray(t)?t.slice(0,4):[];for(;r.length<4;)r.push("");return r.map(a=>typeof a=="string"?a:"")}function q9(t){const r=Y9(t);return O.useMemo(()=>{const{han:a,nan:s,jo:u,seup:d}=Z9(r),f=r_(a,s),p=r_(d,u);return{hanNanPct:n_(f),joSeupPct:n_(p),raw:{han:a,nan:s,jo:u,seup:d},weights:{branch:tS,stem:eS}}},[r])}function i_({label:t,percent:r,leftHint:a,midHint:s,rightHint:u}){const d=O.useMemo(()=>Math.max(0,Math.min(100,r)),[r]),f=[10,20,35,45,55,65,80];return b.jsxs("div",{className:"w-full mx-auto p-2 desk:p-4 bg-neutral-100 dark:bg-neutral-800 rounded-xl",children:[b.jsxs("div",{className:"flex justify-between text-[11px] text-neutral-400 mb-1",children:[b.jsx("span",{children:a}),b.jsx("span",{children:s}),b.jsx("span",{children:u})]}),b.jsxs("div",{className:"relative h-4 rounded bg-gradient-to-r from-blue-500 via-yellow-400 to-red-500",children:[f.map(p=>b.jsx("div",{className:"absolute top-0 h-4 w-[1px] bg-black/30",style:{left:`${p}%`},title:`${p}%`},p)),b.jsx("div",{className:"absolute top-0 h-4 w-[1px] bg-black/40",style:{left:"50%"},title:"50%"}),b.jsx("div",{className:"absolute -top-1 h-6 w-2 bg-white rounded shadow-sm",style:{left:`${d}%`,transform:"translateX(-50%)"},"aria-label":`${t} ${d.toFixed(1)}%`})]}),b.jsxs("div",{className:"mt-2 flex items-center gap-2",children:[b.jsx("span",{className:"inline-flex items-center px-2 py-0.5 rounded-full text-xs border border-neutral-600 text-neutral-700 dark:text-neutral-200",children:t}),b.jsxs("span",{className:"text-xs text-neutral-400",children:[d.toFixed(1),"%"]})]})]})}function F9({natal:t}){const{hanNanPct:r,joSeupPct:a}=q9(t);return b.jsxs("div",{className:"flex gap-2",children:[b.jsx(i_,{label:"한난",percent:r,leftHint:"한",midHint:"중화",rightHint:"난"}),b.jsx(i_,{label:"조습",percent:a,leftHint:"습",midHint:"중화",rightHint:"조"})]})}const V9=Object.fromEntries(_r.천간.map((t,r)=>[t,Gn[r]])),K9=Object.fromEntries(Gn.map((t,r)=>[t,_r.천간[r]])),X9=Object.fromEntries(_r.지지.map((t,r)=>[t,tr[r]])),W9=Object.fromEntries(tr.map((t,r)=>[t,_r.지지[r]])),Q9=t=>V9[t]??t,J9=t=>X9[t]??t,t4=t=>K9[t]??t,e4=t=>W9[t]??t;function nS(t){const r={...t};for(const a of Object.keys(t)){if(a.length<2)continue;const s=a.charAt(0),u=a.charAt(1),d=/[甲乙丙丁戊己庚辛壬癸]/.test(s)||/[子丑寅卯辰巳午未申酉戌亥]/.test(u)?`${Q9(s)}${J9(u)}`:`${t4(s)}${e4(u)}`;r[d]===void 0&&(r[d]=t[a])}return r}const rS={갑자:1,을축:.2,병인:1,정묘:1,무진:.5,기사:.7,경오:0,신미:.5,임신:1,계유:1,갑술:0,을해:1,병자:0,정축:0,무인:.3,기묘:0,경진:.5,신사:.3,임오:0,계미:0,갑신:.3,을유:0,병술:.8,정해:.3,무자:0,기축:.5,경인:0,신묘:0,임진:.3,계사:.3,갑오:0,을미:.3,병신:0,정유:0,무술:.8,기해:0,경자:0,신축:.8,임인:0,계묘:0,갑진:.5,을사:0,병오:1,정미:.5,무신:0,기유:0,경술:.7,신해:0,임자:1,계축:.5,갑인:.7,을묘:0,병진:.2,정사:.7,무오:1,기미:.7,경신:.7,신유:1,임술:.2,계해:.7},n4={...rS,병인:.8,경오:.3,무인:.5,신사:.5,경인:.2,기해:.2,병오:.8,무신:.2},r4=nS(rS),i4=nS(n4),a4={목:"화",화:"토",토:"금",금:"수",수:"목"},o4={화:"목",토:"화",금:"토",수:"금",목:"수"},s4={목:"토",화:"금",토:"수",금:"목",수:"화"},l4={목:"금",화:"수",토:"목",금:"화",수:"토"},c4={甲:"갑",乙:"을",丙:"병",丁:"정",戊:"무",己:"기",庚:"경",辛:"신",壬:"임",癸:"계"},u4={子:"자",丑:"축",寅:"인",卯:"묘",辰:"진",巳:"사",午:"오",未:"미",申:"신",酉:"유",戌:"술",亥:"해"},d4=t=>c4[t]??t,f4=t=>u4[t]??t;function iS(t){return!t||t.length<2?"":`${d4(t[0])}${f4(t[1])}`}const aS=t=>t&&t.length>=1?t[0]:"",oS=t=>t&&t.length>=2?t[1]:"";function sS(t){return{비겁:t,식상:a4[t],인성:o4[t],재성:s4[t],관성:l4[t]}}const lS={갑:["인","寅","묘","卯","자","子","해","亥"],을:["인","寅","묘","卯","자","子","해","亥"],병:["인","寅","묘","卯","오","午","사","巳"],정:["인","寅","묘","卯","오","午","사","巳"],무:["진","辰","술","戌","축","丑","미","未","오","午","사","巳"],기:["진","辰","술","戌","축","丑","미","未","오","午","사","巳"],경:["진","辰","술","戌","축","丑","미","未","신","申","유","酉"],신:["진","辰","술","戌","축","丑","미","未","신","申","유","酉"],임:["신","申","유","酉","해","亥","자","子"],계:["신","申","유","酉","해","亥","자","子"]};function h4(t,r){const a=(t??[]).slice(0,4).map(iS);if(a.length!==4||a.some(S=>S.length<2))return{flags:{비겁:{령:!1,지:!1,세:!1},식상:{령:!1,지:!1,세:!1},재성:{령:!1,지:!1,세:!1},관성:{령:!1,지:!1,세:!1},인성:{령:!1,지:!1,세:!1}},monthBranch:"",dayEl:"목"};const s=aS(a[2]),u=s==="갑"||s==="을"?"목":s==="병"||s==="정"?"화":s==="무"||s==="기"?"토":s==="경"||s==="신"?"금":"수",d=a.map(S=>oS(S)),f={비겁:{령:!1,지:!1,세:!1},식상:{령:!1,지:!1,세:!1},재성:{령:!1,지:!1,세:!1},관성:{령:!1,지:!1,세:!1},인성:{령:!1,지:!1,세:!1}},p=lS[s]??[],g=d[1];p.includes(g)&&(f.비겁.령=!0,f.인성.령=!0);const y=d[2];p.includes(y)&&(f.비겁.지=!0,f.인성.지=!0);const _=sS(u).비겁,w=r[_]??0;return f.비겁.세=w>=30,{flags:f,monthBranch:g,dayEl:u}}function m4(t,r){const a=(t??[]).slice(0,4).map(iS);if(a.length<3||a[0].length<2||a[1].length<2||a[2].length<2){const M={령:!1,지:!1,세:!1};return{flags:{비견:{...M},겁재:{...M},식신:{...M},상관:{...M},정재:{...M},편재:{...M},정관:{...M},편관:{...M},정인:{...M},편인:{...M}},monthBranch:"",dayEl:"목"}}const s=aS(a[2]),u=s==="갑"||s==="을"?"목":s==="병"||s==="정"?"화":s==="무"||s==="기"?"토":s==="경"||s==="신"?"금":"수",d=a.map(M=>oS(M)),f={령:!1,지:!1,세:!1},p={비견:{...f},겁재:{...f},식신:{...f},상관:{...f},정재:{...f},편재:{...f},정관:{...f},편관:{...f},정인:{...f},편인:{...f}},g=lS[s]??[],y=d[1];g.includes(y)&&(p.비견.령=!0,p.겁재.령=!0,p.정인.령=!0,p.편인.령=!0);const _=d[2];g.includes(_)&&(p.비견.지=!0,p.겁재.지=!0,p.정인.지=!0,p.편인.지=!0);const w=sS(u).비겁;return(r[w]??0)>=30&&(p.비견.세=!0,p.겁재.세=!0,p.정인.세=!0,p.편인.세=!0),{flags:p,monthBranch:y,dayEl:u}}const p4={甲:"갑",乙:"을",丙:"병",丁:"정",戊:"무",己:"기",庚:"경",辛:"신",壬:"임",癸:"계"},g4={子:"자",丑:"축",寅:"인",卯:"묘",辰:"진",巳:"사",午:"오",未:"미",申:"신",酉:"유",戌:"술",亥:"해"},b4={갑:"甲",을:"乙",병:"丙",정:"丁",무:"戊",기:"己",경:"庚",신:"辛",임:"壬",계:"癸"},y4={자:"子",축:"丑",인:"寅",묘:"卯",진:"辰",사:"巳",오:"午",미:"未",신:"申",유:"酉",술:"戌",해:"亥"},v4=t=>p4[t]??t,x4=t=>g4[t]??t;function _4(t){return!t||t.length<2?"":`${v4(t[0])}${x4(t[1])}`}function Lo(t){return Bx[t]??Bx[b4[t]??""]}function Bo(t){return Rx[t]??Rx[y4[t]??""]}const I0=["year","month","day","hour"],S4={year:{stem:10,branch:10},month:{stem:15,branch:30},day:{stem:25,branch:25},hour:{stem:15,branch:15}},w4={year:{stem:10,branch:10},month:{stem:15,branch:45},day:{stem:25,branch:40},hour:{stem:15,branch:12.5}},T4=new Set(["을","정","기","신","계"]),E4=new Set(["자","인","진","오","신","술"]),M4=new Set(["사","오","자","해"]),U0=t=>T4.has(t)?"음":"양",G0=t=>{const r=E4.has(t)?"양":"음";return M4.has(t)?r==="양"?"음":"양":r};function a_(t){const r=t.reduce((p,g)=>p+g,0);if(r<=0)return t.map(()=>0);const a=t.map(p=>p*100/r),s=a.map(p=>Math.floor(p+.5)),u=100-s.reduce((p,g)=>p+g,0);if(u===0)return s;const d=a.map((p,g)=>({i:g,frac:p-Math.floor(p+.5)})).sort((p,g)=>g.frac-p.frac),f=s.slice();if(u>0)for(let p=0;p<u;p++)f[d[p].i]+=1;else for(let p=0;p<-u;p++)f[d[d.length-1-p].i]-=1;return f}function N4(t,r){return t===0?r?1:.8:t===1?r?.6:.5:r?.3:.2}const $d={왕:.15,상:.1,휴:-.15,수:-.2,사:-.25},Lf={목:"화",화:"토",토:"금",금:"수",수:"목"},cS={화:"목",토:"화",금:"토",수:"금",목:"수"},Hc={목:"토",화:"금",토:"수",금:"목",수:"화"},A4={토:"목",금:"화",수:"토",목:"금",화:"수"};function Id(t,r){return t===r?"왕":Lf[r]===t?"상":Lf[t]===r?"휴":Hc[t]===r?"수":Hc[r]===t?"사":"휴"}const Fa=t=>t&&t.length>=1?t[0]:"",Ro=t=>t&&t.length>=2?t[1]:"";function D4(t,r){const a=t.reduce((g,y)=>g+y,0);if(a<=0||r<=0)return new Array(t.length).fill(0);const s=t.map(g=>g/a*r),u=s.map(g=>Math.floor(g));let d=r-u.reduce((g,y)=>g+y,0);const f=s.map((g,y)=>({i:y,frac:g-Math.floor(g)})).sort((g,y)=>y.frac-g.frac),p=u.slice();for(let g=0;g<f.length&&d>0;g++)p[f[g].i]+=1,d-=1;return p}function o_(t,r){switch(t){case"비겁":return r;case"식상":return Lf[r];case"재성":return Hc[r];case"관성":return A4[r];case"인성":return cS[r];default:return r}}function mp(t){const{pillars:r,dayStem:a,mode:s,debug:u,useHarmonyOverlay:d,criteriaMode:f,luck:p}=t,g=f==="modern"?S4:w4,y=s==="classic"?i4:r4,_={목:0,화:0,토:0,금:0,수:0},w={},S={자:"계",축:"기",인:"갑",묘:"을",진:"무",사:"병",오:"정",미:"기",신:"경",유:"신",술:"무",해:"임",子:"계",丑:"기",寅:"갑",卯:"을",辰:"무",巳:"병",午:"정",未:"기",申:"경",酉:"신",戌:"무",亥:"임"},T=(r??[]).slice(0,4).map(_4),M=T.length===4&&T[0]&&T[0].length>=2&&T[1]&&T[1].length>=2&&T[2]&&T[2].length>=2,D={totalsSub:{비견:0,겁재:0,식신:0,상관:0,정재:0,편재:0,정관:0,편관:0,정인:0,편인:0},perStemAugBare:{},perStemAugFull:{}};if(!M){const I=["비겁","식상","재성","관성","인성"].map(U=>({name:U,value:0,color:"#999999"}));return{overlay:D,totals:I,perTenGod:{비겁:{a:"비견",b:"겁재",aVal:0,bVal:0},식상:{a:"식신",b:"상관",aVal:0,bVal:0},재성:{a:"정재",b:"편재",aVal:0,bVal:0},관성:{a:"정관",b:"편관",aVal:0,bVal:0},인성:{a:"정인",b:"편인",aVal:0,bVal:0}},PerTenGodSub:{비견:0,겁재:0,식신:0,상관:0,정재:0,편재:0,정관:0,편관:0,정인:0,편인:0},elementScoreRaw:_,deukFlags:{비겁:{령:!1,지:!1,세:!1},식상:{령:!1,지:!1,세:!1},재성:{령:!1,지:!1,세:!1},관성:{령:!1,지:!1,세:!1},인성:{령:!1,지:!1,세:!1}},perStemElement:{},perStemElementScaled:{},stemScoreRaw:{},elementPercent100:{목:0,화:0,토:0,금:0,수:0}}}const A=Fa(T[2]),z=a??A,H=z==="갑"||z==="을"?"목":z==="병"||z==="정"?"화":z==="무"||z==="기"?"토":z==="경"||z==="신"?"금":"수",k=[{val:0},{val:0},{val:0},{val:0}],B=[[],[],[],[]];for(const I of T){if(!I)continue;const U=I.charAt(0),dt=I.charAt(1);w[U]=(w[U]??0)+50;const gt=S[dt];gt&&(w[gt]=(w[gt]??0)+50)}for(let I=0;I<4;I++){const U=T[I];if(!U||U.length<2)continue;const dt=I0[I],gt=Fa(U),Mt=Ro(U),Nt=g[dt],kt=Lo(gt);kt&&(_[kt]+=Nt.stem,k[I]={stem:gt,el:kt,pol:U0(gt),val:Nt.stem});const Dt=Bo(Mt);Dt&&(_[Dt]+=Nt.branch,B[I].push({el:Dt,pol:G0(Mt),val:Nt.branch}))}for(let I=0;I<4;I++){const U=T[I];if(!U||U.length<2)continue;const dt=I0[I],gt=y[U]??0;if(gt===0)continue;const Mt=Fa(U),Nt=Lo(Mt);if(!Nt)continue;const kt=g[dt].stem*gt;_[Nt]+=kt,k[I].val+=kt}for(let I=0;I<4;I++){const U=T[I];if(!U||U.length<2)continue;const dt=Ro(U),gt=Bo(dt);if(!gt)continue;const Mt=g[I0[I]].branch,Nt=G0(dt);let kt=0;const Dt=[I];I-1>=0&&Dt.push(I-1),I+1<=3&&Dt.push(I+1),I-2>=0&&Dt.push(I-2),I+2<=3&&Dt.push(I+2);const St=Array.from(new Set(Dt));for(const Ot of St){if(!T[Ot]||T[Ot].length<2)continue;const Ct=Fa(T[Ot]),Kt=Lo(Ct);if(!Kt||Kt!==gt)continue;const It=U0(Ct)===Nt,Wt=Math.abs(Ot-I),xt=N4(Wt,It);kt+=Mt*xt}kt!==0&&(_[gt]+=kt,B[I].push({el:gt,pol:Nt,val:kt}))}for(let I=0;I<4;I++){const U=T[I];if(!U||U.length<2)continue;const dt=Fa(U),gt=Lo(dt);if(!gt)continue;let Mt=0;const Nt=Ro(T[I]),kt=Bo(Nt);kt&&(Mt+=$d[Id(gt,kt)]);const Dt=I===0?[1]:I===3?[2]:[I-1,I+1];for(const Ot of Dt){const Ct=Fa(T[Ot]),Kt=Lo(Ct);Kt&&(Mt+=$d[Id(gt,Kt)])}const St=k[I].val;if(St!==0&&Mt!==0){const Ot=Math.round(St*(1+Mt)*10)/10,Ct=Ot-St;_[gt]+=Ct,k[I].val=Ot}}for(let I=0;I<4;I++){const U=T[I];if(!U||U.length<2)continue;const dt=Ro(U),gt=Bo(dt);if(!gt)continue;let Mt=0;const Nt=Fa(T[I]),kt=Lo(Nt);kt&&(Mt+=$d[Id(gt,kt)]);const Dt=I===0?[1]:I===3?[2]:[I-1,I+1];for(const Ot of Dt){if(!T[Ot]||T[Ot].length<2)continue;const Ct=Ro(T[Ot]),Kt=Bo(Ct);Kt&&(Mt+=$d[Id(gt,Kt)])}const St=B[I].reduce((Ot,Ct)=>Ot+Ct.val,0);if(St!==0&&Mt!==0){const Ct=Math.round(St*(1+Mt)*10)/10-St;_[gt]+=Ct,B[I].length>0&&(B[I][0].val+=Ct)}}d&&Gk(T,_);const C={dae:{stem:.04,branch:.04},se:{stem:.03,branch:.03},wol:{stem:.02,branch:.02},il:{stem:.01,branch:.01}},q=[];if(!(!p||p.tab==="원국")){let I=function(U,dt){const gt=U?Ut(U):"";if(!gt||gt.length<2)return;const Mt=Fa(gt),Nt=Ro(gt),kt=Lo(Mt),Dt=Bo(Nt),St=Math.max(1,(_.목??0)+(_.화??0)+(_.토??0)+(_.금??0)+(_.수??0)),Ot=C[dt];if(kt){const Ct=Math.round(St*Ot.stem);_[kt]+=Ct,q.push({stem:Mt,el:kt,pol:U0(Mt),val:Ct})}if(Dt){const Ct=Math.round(St*Ot.branch);_[Dt]+=Ct,q.push({el:Dt,pol:G0(Nt),val:Ct})}};I(p.dae,"dae"),(p.tab==="세운"||p.tab==="월운"||p.tab==="일운")&&I(p.se,"se"),(p.tab==="월운"||p.tab==="일운")&&I(p.wol,"wol"),p.tab==="일운"&&I(p.il,"il")}const et={비겁:0,식상:0,재성:0,관성:0,인성:0};Object.entries(_).forEach(([I,U])=>{const dt=tt(I,H);et[dt]+=U});const st=["비겁","식상","재성","관성","인성"],W=a_(st.map(I=>et[I])),Q=G2(z),F=st.map((I,U)=>({name:I,value:W[U],color:Q[I]})),G={비견:0,겁재:0,식신:0,상관:0,정재:0,편재:0,정관:0,편관:0,정인:0,편인:0};function tt(I,U){return I===U?"비겁":Lf[U]===I?"식상":Hc[U]===I?"재성":Hc[I]===U?"관성":cS[U]===I?"인성":"비겁"}function ht(I,U){switch(tt(I,H)){case"비겁":G.비견+=U*.5,G.겁재+=U*.5;break;case"식상":G.식신+=U*.5,G.상관+=U*.5;break;case"재성":G.정재+=U*.5,G.편재+=U*.5;break;case"관성":G.정관+=U*.5,G.편관+=U*.5;break;case"인성":G.정인+=U*.5,G.편인+=U*.5;break}}Object.entries(_).forEach(([I,U])=>{U>0&&ht(I,U)});const it={비겁:{a:"비견",b:"겁재",aVal:0,bVal:0},식상:{a:"식신",b:"상관",aVal:0,bVal:0},재성:{a:"정재",b:"편재",aVal:0,bVal:0},관성:{a:"정관",b:"편관",aVal:0,bVal:0},인성:{a:"정인",b:"편인",aVal:0,bVal:0}};for(const I of st){const U=F.find(Dt=>Dt.name===I)?.value??0,dt=it[I].a,gt=it[I].b,Mt=G[dt]??0,Nt=G[gt]??0,kt=Mt+Nt;if(kt>0){const Dt=Math.floor(U*Mt/kt+.5),St=U-Dt;it[I].aVal=Dt,it[I].bVal=St}else it[I].aVal=Math.floor(U/2+.5),it[I].bVal=U-it[I].aVal}const{flags:Z}=h4(T,_),rt={};k.forEach(I=>{if(I.stem&&I.el&&I.val){const U=`${I.stem}${I.el}`;rt[U]=(rt[U]??0)+I.val}});for(let I=0;I<4;I++){const U=T[I];if(!U||U.length<2)continue;const dt=Ro(U),gt=S[dt],Mt=Bo(dt);if(!gt||!Mt)continue;const Nt=`${gt}${Mt}`,kt=B[I].reduce((Dt,St)=>Dt+St.val,0);rt[Nt]=(rt[Nt]??0)+kt}const ot=["갑목","을목","병화","정화","무토","기토","경금","신금","임수","계수"],yt={};ot.forEach(I=>{yt[I]=0}),st.forEach(I=>{const U=F.find(St=>St.name===I)?.value??0,dt=o_(I,H),gt=Object.entries(rt).filter(([St])=>St.endsWith(dt)),Mt=gt.map(([St])=>St),Nt=gt.map(([,St])=>St),kt=Math.max(0,Math.round(U*10)),Dt=D4(Nt.length?Nt:[1,1],kt);if(Mt.length===2)yt[Mt[0]]=(Dt[0]??Math.round(kt/2))/10,yt[Mt[1]]=(Dt[1]??kt-(Dt[0]??0))/10;else if(Mt.length===1)yt[Mt[0]]=kt/10;else{const St=dt==="목"?["갑목","을목"]:dt==="화"?["병화","정화"]:dt==="토"?["무토","기토"]:dt==="금"?["경금","신금"]:["임수","계수"],Ot=Math.floor(kt/2),Ct=kt-Ot;yt[St[0]]+=Ot/10,yt[St[1]]+=Ct/10}});const j=["목","화","토","금","수"],$={목:0,화:0,토:0,금:0,수:0};for(const I of F){const U=o_(I.name,H);$[U]+=I.value}const Y=a_(j.map(I=>$[I])),J={목:Y[0],화:Y[1],토:Y[2],금:Y[3],수:Y[4]};return u&&console.log({elementScore:_,totals:F,perTenGod:it,perStemRaw:rt,perStemElementScaled:yt,elementPercent100:J}),{overlay:{totalsSub:G,perStemAugBare:rt,perStemAugFull:yt},totals:F,perTenGod:it,PerTenGodSub:G,stemScoreRaw:w,elementScoreRaw:_,deukFlags:Z,perStemElement:rt,perStemElementScaled:yt,elementPercent100:J}}function j4(t){const r=t.reduce((p,g)=>p+g,0);if(r<=0)return t.map(()=>0);const a=t.map(p=>p*100/r),s=a.map(p=>Math.round(p));let d=100-s.reduce((p,g)=>p+g,0);const f=a.map((p,g)=>({i:g,f:p-Math.round(p)})).sort((p,g)=>g.f-p.f);for(let p=0;p<f.length&&d>0;p++)s[f[p].i]+=1,d-=1;return s}const s_=["목","화","토","금","수"];function k4(t,r){const a=[Ut(t[0]??""),Ut(t[1]??""),Ut(t[2]??""),Ut(t[3]??"")],{elementScoreRaw:s}=mp({pillars:a,criteriaMode:r?.criteriaMode??"modern",useHarmonyOverlay:r?.useHarmonyOverlay??!0,luck:void 0}),u=s_.map(p=>s[p]??0),d=j4(u),f={목:0,화:0,토:0,금:0,수:0};return s_.forEach((p,g)=>{f[p]=d[g]}),f}function uS(t,r){const a=k4(t,r),s=Ut(t[2]??"").charAt(0),d={갑:"목",을:"목",병:"화",정:"화",무:"토",기:"토",경:"금",신:"금",임:"수",계:"수",甲:"목",乙:"목",丙:"화",丁:"화",戊:"토",己:"토",庚:"금",辛:"금",壬:"수",癸:"수"}[s];if(!d)return 0;const f={화:"목",토:"화",금:"토",수:"금",목:"수"},p=a[d]??0,g=a[f[d]]??0;return p+g*.7}const Ud={甲:"갑",乙:"을",丙:"병",丁:"정",戊:"무",己:"기",庚:"경",辛:"신",壬:"임",癸:"계"},Gd={子:"자",丑:"축",寅:"인",卯:"묘",辰:"진",巳:"사",午:"오",未:"미",申:"신",酉:"유",戌:"술",亥:"해"},Zd={자:"계",축:"기",인:"갑",묘:"을",진:"무",사:"병",오:"정",미:"기",신:"경",유:"신",술:"무",해:"임",子:"계",丑:"기",寅:"갑",卯:"을",辰:"무",巳:"병",午:"정",未:"기",申:"경",酉:"신",戌:"무",亥:"임"},O4=["갑","병","무","경","임"];function l_(t){return O4.includes(t)}const C4={목:"화",화:"토",토:"금",금:"수",수:"목"},L4={목:"토",화:"금",토:"수",금:"목",수:"화"},B4={토:"목",금:"화",수:"토",목:"금",화:"수"},R4={화:"목",토:"화",금:"토",수:"금",목:"수"},pp={갑:"목",을:"목",병:"화",정:"화",무:"토",기:"토",경:"금",신:"금",임:"수",계:"수"},P4=["갑","을","병","정","무","기","경","신","임","계"],z4={natal:50,dae:30,se:20,wol:7,il:3};function Bf(t){if(!t)return null;const r=t.trim();if(["갑","을","병","정","무","기","경","신","임","계"].includes(r))return r;if(Ud[r])return Ud[r];if(["자","축","인","묘","진","사","오","미","신","유","술","해"].includes(r))return Zd[r]??null;if(Gd[r])return Zd[Gd[r]]??null;const a=r.charAt(0);return Ud[a]?Ud[a]:["갑","을","병","정","무","기","경","신","임","계"].includes(a)?a:Gd[a]?Zd[Gd[a]]??null:["자","축","인","묘","진","사","오","미","신","유","술","해"].includes(a)?Zd[a]??null:null}function H4(t,r){const a=pp[t],s=pp[r];if(!a||!s)return"비견";let u;s===a?u="비견":s===C4[a]?u="식신":s===L4[a]?u="편재":s===B4[a]?u="편관":s===R4[a]?u="편인":u="비견";const d=l_(t)===l_(r);switch(u){case"비견":return d?"비견":"겁재";case"식신":return d?"식신":"상관";case"편재":return d?"편재":"정재";case"편관":return d?"편관":"정관";case"편인":return d?"편인":"정인"}}function Rf(t){const r=Object.entries(t),a=r.reduce((y,[,_])=>y+(_>0?_:0),0);if(a<=0)return Object.fromEntries(r.map(([y])=>[y,0]));const s=r.map(([y,_])=>[y,(_>0?_:0)*100/a]),u=s.map(([y,_])=>[y,Math.round(_)]);let d=u.reduce((y,[,_])=>y+_,0);const f=s.map(([y,_])=>[y,_-Math.round(_)]).sort((y,_)=>_[1]-y[1]),p=Object.fromEntries(u.map(([y,_])=>[y,_]));let g=0;for(;d<100&&g<f.length;)p[f[g][0]]+=1,d+=1,g+=1;return p}function c_(t,r){const a={비견:0,겁재:0,식신:0,상관:0,정재:0,편재:0,정관:0,편관:0,정인:0,편인:0};for(const[s,u]of Object.entries(t??{})){if(u<=0)continue;const d=Bf(s);if(!d)continue;const f=H4(r,d);a[f]+=u}return Rf(a)}function $4(t){return{비겁:{a:"비견",b:"겁재",aVal:t.비견,bVal:t.겁재},식상:{a:"식신",b:"상관",aVal:t.식신,bVal:t.상관},재성:{a:"정재",b:"편재",aVal:t.정재,bVal:t.편재},관성:{a:"정관",b:"편관",aVal:t.정관,bVal:t.편관},인성:{a:"정인",b:"편인",aVal:t.정인,bVal:t.편인}}}function u_(t){const r={};for(const[a,s]of Object.entries(t??{})){if(s<=0)continue;const u=Bf(a);u&&(r[u]=(r[u]??0)+s)}return r}function d_(t){const a={...{갑목:0,을목:0,병화:0,정화:0,무토:0,기토:0,경금:0,신금:0,임수:0,계수:0}};for(const s of P4){const u=pp[s],d=`${s}${u}`;a[d]=Math.max(0,Math.round(t[s]??0))}return a}function f_(t){const r=["목","화","토","금","수"],a={목:0,화:0,토:0,금:0,수:0};for(const s of r)typeof t[s]=="number"&&(a[s]=t[s]);return a}function I4(t,r){const a=r?.dae?Yd(r.dae):{},s=r?.se?Yd(r.se):{},u=r?.wol?Yd(r.wol):{},d=r?.il?Yd(r.il):{},f={},p=[{kind:"natal",bare:t},{kind:"dae",bare:a},{kind:"se",bare:s},{kind:"wol",bare:u},{kind:"il",bare:d}];for(const{kind:y,bare:_}of p){const w=z4[y];if(!_||Object.keys(_).length===0)continue;const S=Rf(_);for(const[T,M]of Object.entries(S))f[T]=(f[T]??0)+M*w}const g=Object.values(f).reduce((y,_)=>y+_,0);if(g>0)for(const y of Object.keys(f))f[y]=f[y]/g*100;return f}function U4(t){if(!t)return[];const r=Bf(t.charAt(0)),a=Bf(t.charAt(1));return[r,a].filter(Boolean)}function Yd(t){const r=U4(t),a={};for(const s of r)a[s]=(a[s]??0)+1;return a}function dS(t){const{natal:r,tab:a,chain:s,hourKey:u="unified"}=t,d=[Ut(r[0]??""),Ut(r[1]??""),Ut(r[2]??""),Ut(r[3]??"")],f=d[2]?.charAt(0)??"",{hiddenStemMode:p,hiddenStem:g}=np,y=p==="classic"?"classic":"hgc",_=s?{tab:a,dae:s.dae?Ut(s.dae):void 0,se:(a==="세운"||a==="월운"||a==="일운")&&s.se?Ut(s.se):void 0,wol:(a==="월운"||a==="일운")&&s.wol?Ut(s.wol):void 0,il:a==="일운"&&s.il?Ut(s.il):void 0}:{tab:a},w=mp({pillars:d,dayStem:f,mode:y,criteriaMode:"modern",useHarmonyOverlay:!0,luck:_}),S=mp({pillars:d,dayStem:f,mode:y,criteriaMode:"modern",useHarmonyOverlay:!0,luck:{tab:"원국",dae:void 0,se:void 0,wol:void 0,il:void 0}}),T=u_(w.perStemElementScaled),M=a==="원국"?T:I4(T,s),D=Rf(M),A=c_(M,f),z=$4(A),H=d_(D),k=u_(S.perStemElementScaled),B=c_(k,f),C=Rf(k),q=d_(C);return{elementScoreRaw:w.elementScoreRaw,elementPercent100:w.elementPercent100,totals:w.totals,perStemElementScaled:w.perStemElementScaled,dayStem:f,mergedStems:D,perTenGodSub:A,perTenGod:z,overlay:{totalsSub:A,perStemAugBare:M,perStemAugFull:H},natalFixed:{elementScoreRaw:f_(S.elementScoreRaw),elementPercent100:f_(S.elementPercent100),totalsSub:B,overlay:{totalsSub:B,perStemAugBare:k,perStemAugFull:q}}}}const Gs={甲:"갑",乙:"을",丙:"병",丁:"정",戊:"무",己:"기",庚:"경",辛:"신",壬:"임",癸:"계"},Zs={子:"자",丑:"축",寅:"인",卯:"묘",辰:"진",巳:"사",午:"오",未:"미",申:"신",酉:"유",戌:"술",亥:"해"},Js={갑:"목",을:"목",병:"화",정:"화",무:"토",기:"토",경:"금",신:"금",임:"수",계:"수"},fS={자:"수",축:"토",인:"목",묘:"목",진:"토",사:"화",오:"화",미:"토",신:"금",유:"금",술:"토",해:"수"},qd={자:"계",축:"기",인:"갑",묘:"을",진:"무",사:"병",오:"정",미:"기",신:"경",유:"신",술:"무",해:"임",子:"계",丑:"기",寅:"갑",卯:"을",辰:"무",巳:"병",午:"정",未:"기",申:"경",酉:"신",戌:"무",亥:"임"},G4=["갑","병","무","경","임"];function h_(t){return G4.includes(t)}const Z4={목:"화",화:"토",토:"금",금:"수",수:"목"},Y4={목:"토",화:"금",토:"수",금:"목",수:"화"},q4={토:"목",금:"화",수:"토",목:"금",화:"수"},F4={화:"목",토:"화",금:"토",수:"금",목:"수"};function $c(t){if(!t)return null;const r=t.trim();if(["갑","을","병","정","무","기","경","신","임","계"].includes(r))return r;if(Gs[r])return Gs[r];if(["자","축","인","묘","진","사","오","미","신","유","술","해"].includes(r))return qd[r]??null;if(Zs[r])return qd[Zs[r]]??null;const a=r.charAt(0);return Gs[a]?Gs[a]:["갑","을","병","정","무","기","경","신","임","계"].includes(a)?a:Zs[a]?qd[Zs[a]]??null:["자","축","인","묘","진","사","오","미","신","유","술","해"].includes(a)?qd[a]??null:null}function V4(t,r){const a=Js[t],s=Js[r];if(!a||!s)return"비견";let u;s===a?u="비견":s===Z4[a]?u="식신":s===Y4[a]?u="편재":s===q4[a]?u="편관":s===F4[a]?u="편인":u="비견";const d=h_(t)===h_(r);switch(u){case"비견":return d?"비견":"겁재";case"식신":return d?"식신":"상관";case"편재":return d?"편재":"정재";case"편관":return d?"편관":"정관";case"편인":return d?"편인":"정인"}}function K4(t){switch(t){case"비견":case"겁재":return"비겁";case"식신":case"상관":return"식상";case"정재":case"편재":return"재성";case"정관":case"편관":return"관성";case"정인":case"편인":return"인성"}}function ah(t){const r=Object.entries(t),a=r.reduce((y,[,_])=>y+(_>0?_:0),0);if(a<=0)return Object.fromEntries(r.map(([y])=>[y,0]));const s=r.map(([y,_])=>[y,(_>0?_:0)*100/a]),u=s.map(([y,_])=>[y,Math.floor(_)]);let d=u.reduce((y,[,_])=>y+_,0);const f=s.map(([y,_])=>[y,_-Math.floor(_)]).sort((y,_)=>_[1]-y[1]),p=Object.fromEntries(u.map(([y,_])=>[y,_]));let g=0;for(;d<100&&g<f.length;)p[f[g][0]]+=1,d+=1,g+=1;return p}function X4(t){const r={목:0,화:0,토:0,금:0,수:0};for(const[a,s]of Object.entries(t??{})){const u=Js[$c(a)];u&&s>0&&(r[u]+=s)}return ah(r)}function W4(t,r){const a={비견:0,겁재:0,식신:0,상관:0,정재:0,편재:0,정관:0,편관:0,정인:0,편인:0};for(const[s,u]of Object.entries(t??{})){if(u<=0)continue;const d=$c(s);if(!d)continue;const f=V4(r,d);a[f]+=u}return a}function Q4(t){const r={비겁:0,식상:0,재성:0,관성:0,인성:0};for(const[a,s]of Object.entries(t)){const u=K4(a);r[u]+=s}return ah(r)}function Z0(t){if(!t)return"";const r=t.replace(/[()[\]{}]/g,"").replace(/\s+/g,"").replace(/[년월일시年月日時干支柱:\-_.]/g,""),a=r.match(/([갑을병정무기경신임계]).*?([자축인묘진사오미신유술해])/);if(a)return`${a[1]}${a[2]}`;const s=r.match(/([甲乙丙丁戊己庚辛壬癸]).*?([子丑寅卯辰巳午未申酉戌亥])/);return s?`${Gs[s[1]]}${Zs[s[2]]}`:""}function m_(t){const r=Array.isArray(t)?t.slice(0,4):[];for(;r.length<4;)r.push("");return r.map((a,s)=>{if(!a)return"";const u=a.replace(/[()[\]{}]/g,"").replace(/\s+/g,"").replace(/[년월일시年月日時干支柱:\-_.]/g,""),d=u.match(/([갑을병정무기경신임계]).*?([자축인묘진사오미신유술해])/);if(d)return`${d[1]}${d[2]}`;const f=u.match(/([甲乙丙丁戊己庚辛壬癸]).*?([子丑寅卯辰巳午未申酉戌亥])/);return f?`${Gs[f[1]]}${Zs[f[2]]}`:s<=2?"--":""})}function J4(t,r){const a={목:!1,화:!1,토:!1,금:!1,수:!1};for(const s of t){if(!s)continue;const u=Js[s.charAt(0)];u&&(a[u]=!0);{const d=fS[s.charAt(1)];d&&(a[d]=!0)}}return a}function tO(t){const r={목:0,화:0,토:0,금:0,수:0};for(const a of t){if(!a)continue;const s=Js[a.charAt(0)],u=fS[a.charAt(1)];s&&(r[s]+=10),u&&(r[u]+=6)}return r}function Fd(t){return t[0]?.length===2&&t[1]?.length===2&&t[2]?.length===2}const eO=["갑","을","병","정","무","기","경","신","임","계"];function nO(t){const r={};for(const[a,s]of Object.entries(t??{})){if(s<=0)continue;const u=$c(a);u&&(r[u]=(r[u]??0)+s)}return r}function rO(t){const a={...{갑목:0,을목:0,병화:0,정화:0,무토:0,기토:0,경금:0,신금:0,임수:0,계수:0}};for(const s of eO){const u=Js[s],d=`${s}${u}`;a[d]=Math.max(0,Math.round(t[s]??0))}return a}const iO={natal:50,dae:30,se:20,wol:7,il:3};function aO(t){const r={};for(const{kind:s,bare:u}of t){const d=iO[s]??0;if(d<=0)continue;const f=ah(u);for(const[p,g]of Object.entries(f))r[p]=(r[p]??0)+g*d}const a=Object.values(r).reduce((s,u)=>s+u,0);if(a>0)for(const s of Object.keys(r))r[s]=r[s]/a*100;return r}function oO(t){if(!t)return[];const r=$c(t.charAt(0)),a=$c(t.charAt(1));return[r,a].filter(Boolean)}function Vd(t){const r=oO(t),a={};for(const s of r)a[s]=(a[s]??0)+1;return a}function sO({data:t,pillars:r,lunarPillars:a,daewoonGz:s}){const[u,d]=O.useState("일간 · 오행 강약"),[f,p]=O.useState("원국"),[g,y]=O.useState(!0),{date:_,yearGZ:w,monthGZ:S,dayGZ:T}=Zn(),M=O.useMemo(()=>Ut(w),[w]),D=O.useMemo(()=>Ut(S),[S]),A=O.useMemo(()=>Ut(T),[T]),z=Vc(t,t?.mingSikType),H=O.useMemo(()=>{if(!z?.length)return 0;const St=z.findIndex((Ot,Ct)=>{const Kt=z[Ct+1]?.at;return _>=Ot.at&&(!Kt||_<Kt)});return St!==-1?St:_<z[0].at?0:z.length-1},[z,_]),k=O.useMemo(()=>{const St=s??z?.[H]?.gz??"";return Ut(St)||null},[s,z,H]),{manualHour:B}=qs(),C=t.mingSikType??"조자시/야자시",q=O.useMemo(()=>m_(r),[r]),et=O.useMemo(()=>m_(a),[a]),st=O.useMemo(()=>{const St=[...q];return(!St[3]||St[3]==="")&&B&&(St[3]=B.stem+B.branch),St},[q,B]),W=O.useMemo(()=>{const St=[...et];return(!St[3]||St[3]==="")&&B&&(St[3]=B.stem+B.branch),St},[et,B]),Q=O.useMemo(()=>{const St=Number(t.birthDay?.slice(0,4)),Ot=Number(t.birthDay?.slice(4,6)),Ct=Number(t.birthDay?.slice(6,8));if(!Number.isFinite(St)||!Number.isFinite(Ot)||!Number.isFinite(Ct))return null;const Kt=new Date(St,Ot-1,Ct,12,0,0,0),It=Z0(oe(Kt)||""),Wt=Z0(Se(Kt)||""),xt=Z0(ae(Kt,C)||"");return[It,Wt,xt,""]},[t.birthDay,C]),F=Fd(st),G=Fd(W),[tt]=O.useState("solar"),ht=tt==="lunar"?G?"lunar":F?"solar":"lunar":F?"solar":G?"lunar":"solar",it=O.useMemo(()=>{const Ot=[...ht==="lunar"?G?W:F?st:Q??["","","",""]:F?st:G?W:Q??["","","",""]];return(!Ot[3]||Ot[3]==="")&&B&&(Ot[3]=B.stem+B.branch),Ot},[ht,F,G,st,W,Q,B]),Z=O.useMemo(()=>B?B.stem+B.branch:it[3]||"",[B,it]),rt=O.useMemo(()=>({dae:f!=="원국"?k??null:null,se:f==="세운"||f==="월운"||f==="일운"?M??null:null,wol:f==="월운"||f==="일운"?D??null:null,il:f==="일운"?A??null:null}),[f,k,M,D,A]),ot=O.useMemo(()=>Fd(it)?dS({natal:it,tab:f,chain:rt,hourKey:Z}):null,[it,f,rt,Z]),yt=O.useMemo(()=>{if(!ot)return null;const St=nO(ot.perStemElementScaled),Ot=rt.dae?Vd(rt.dae):{},Ct=rt.se?Vd(rt.se):{},Kt=rt.wol?Vd(rt.wol):{},It=rt.il?Vd(rt.il):{},Wt=aO([{kind:"natal",bare:St},{kind:"dae",bare:Ot},{kind:"se",bare:Ct},{kind:"wol",bare:Kt},{kind:"il",bare:It}]),xt=ah(Wt),Rt=rO(xt),_t=W4(Wt,ot.dayStem),de=Q4(_t),Ie=X4(Wt);return{perStemAugBare:Wt,perStemAugFull:Rt,elemPct100:Ie,totalsMain:de,totalsSub:_t}},[ot,rt]),j=O.useMemo(()=>J4(it),[it]),$=O.useMemo(()=>["목","화","토","금","수"].some(St=>!j[St]),[j]),Y=yt?.elemPct100??ot?.elementPercent100??tO(it),J=O.useMemo(()=>{if(!ot||!yt)return[];const St=G2(ot.dayStem);return Object.entries(yt.totalsMain).map(([Ot,Ct])=>({name:Ot,value:Ct,color:St[Ot]}))},[ot,yt]),V=yt?.elemPct100??{목:0,화:0,토:0,금:0,수:0},I=yt?.totalsSub??null,U=O.useMemo(()=>B?B.stem+B.branch:it[3]||"",[B,it]),dt=O.useMemo(()=>[f,k??"",M??"",D??"",A??"",_?.toISOString?.()??"",U].join("|"),[f,k,M,D,A,_,U]),gt=O.useMemo(()=>{const St=I?Object.entries(I).sort(([Ct],[Kt])=>Ct.localeCompare(Kt)).map(([Ct,Kt])=>`${Ct}:${Kt}`).join(","):"none",Ot=J.map(Ct=>`${Ct.name}:${Ct.value}`).join(",");return`${dt}||${it.join("")}||${Ot}||${St}`},[dt,it,J,I]),Mt=typeof Lx=="function"?Lx(it,ot?.totals):null,Nt=O.useMemo(()=>{const Ot=(Mt?.ordered??[]).map(It=>{const Wt=It.element??"",xt=/목|木|wood/i.test(Wt)?"목":/화|火|fire/i.test(Wt)?"화":/토|土|earth/i.test(Wt)?"토":/금|金|metal/i.test(Wt)?"금":/수|水|water/i.test(Wt)?"수":null,Rt=typeof It.score=="number"?It.score:xt?Y[xt]??0:0,_t=Array.isArray(It.reasons)?It.reasons:[];return{element:Wt,elNorm:xt,score:Rt,reasons:_t}}),Ct=It=>It?j[It]:!1,Kt=g?Ot.map(It=>It.elNorm&&!Ct(It.elNorm)?{...It,score:0,reasons:[...It.reasons,"부재후순위: 원국 부재 → 0점"]}:It):Ot;return Kt.sort((It,Wt)=>{const xt=Ct(It.elNorm)?1:0,Rt=Ct(Wt.elNorm)?1:0;return g&&xt!==Rt?Rt-xt:(Wt.score??0)!==(It.score??0)?(Wt.score??0)-(It.score??0):(It.elNorm??It.element).localeCompare(Wt.elNorm??Wt.element)}),Kt},[Mt,g,Y,j]),kt=O.useMemo(()=>Math.max(0,...Nt.map(St=>Number.isFinite(St.score)?St.score:0)),[Nt]);function Dt(St){return uS(St,{criteriaMode:"modern",useHarmonyOverlay:!0})}return Fd(it)?b.jsxs("div",{className:"space-y-4 mb-4",children:[b.jsx("div",{className:"flex gap-2 justify-center flex-wrap",children:w5.map(St=>b.jsx("button",{onClick:()=>p(St),className:"px-2 py-1 text-xs rounded border cursor-pointer "+(f===St?"bg-yellow-500 text-black border-yellow-600":"bg-neutral-400 dark:bg-neutral-900 text-neutral-100 dark:text-neutral-300 border-neutral-400 dark:border-neutral-700"),children:St},St))}),b.jsx("div",{className:"flex gap-2 mb-2 justify-center flex-wrap",children:["일간 · 오행 강약","형충회합","신살"].map(St=>b.jsx("button",{onClick:()=>d(St),className:"px-3 py-1 text-sm rounded border cursor-pointer "+(u===St?"bg-violet-500 text-white border-violet-600":"bg-neutral-400 dark:bg-neutral-900 text-neutral-100 dark:text-neutral-300 border-neutral-400 dark:border-neutral-700"),children:St},St))}),u==="형충회합"&&b.jsx(Yk,{pillars:it,daewoon:k||void 0,sewoon:M||void 0,wolwoon:D||void 0,ilwoon:A||void 0,tab:f},`harm-${f}-${U}`),u==="일간 · 오행 강약"&&b.jsxs("div",{className:"space-y-4",children:[b.jsx(Lk,{data:J,revKey:gt,perStemElementScaled:yt?.perStemAugFull,elementPercent:V,dayStem:it[2]?.charAt(0)??null},`pentagon-${gt}`),b.jsx(Pk,{value:Dt(it)}),b.jsx(F9,{natal:it}),b.jsxs("div",{className:"w-full p-4 rounded-xl bg-neutral-100 dark:bg-neutral-900 space-y-3",children:[b.jsxs("div",{className:"flex items-center justify-between",children:[b.jsx("div",{className:"text-sm font-bold",children:"용신 추천"}),$&&b.jsxs("button",{type:"button",onClick:()=>y(St=>!St),className:`text-xs px-2 py-1 rounded-lg border transition cursor-pointer
                    ${g?"bg-violet-100 text-violet-800 border-violet-200 whitespace-nowrap dark:bg-violet-900/30 dark:text-violet-200 dark:border-violet-800":"bg-white text-neutral-700 border-neutral-300 hover:bg-neutral-50 dark:bg-neutral-800 dark:text-neutral-200 dark:border-neutral-700"}`,"aria-pressed":g,children:["부재후순위: ",g?"ON":"OFF"]})]}),b.jsx("ul",{className:"space-y-2",children:Nt.map((St,Ot)=>b.jsxs("li",{className:"flex items-start justify-between gap-3 rounded-lg border border-neutral-200 dark:border-neutral-800 p-2",children:[b.jsxs("div",{className:"flex items-center gap-2",children:[b.jsxs("span",{className:"text-xs px-2 py-0.5 rounded-full bg-neutral-200 dark:bg-neutral-800 text-neutral-800 dark:text-neutral-200",children:[Ot+1,"위"]}),b.jsx("span",{className:"text-sm font-semibold",children:St.element})]}),b.jsxs("div",{className:"flex-1",children:[b.jsx("div",{className:"mt-1 h-1.5 w-full rounded bg-neutral-300 dark:bg-neutral-800 overflow-hidden",children:b.jsx("div",{className:"h-1.5 rounded bg-white dark:bg-neutral-100",style:{width:`${kt>0?Math.max(2,Math.min(100,Math.round((St.score??0)/kt*100))):12}%`},title:`점수 ${St.score}`})}),b.jsx("div",{className:"mt-2 flex flex-wrap gap-1.5",children:(St.reasons??[]).map((Ct,Kt)=>b.jsx("span",{className:"text-[11px] px-2 py-0.5 rounded-full bg-neutral-200 dark:bg-neutral-800 text-neutral-700 dark:text-neutral-300",children:Ct},Kt))})]})]},St.elNorm??St.element))})]})]}),u==="신살"&&b.jsx(P9,{pillars:it,daewoon:k||void 0,sewoon:M||void 0,wolwoon:D||void 0,ilwoon:A||void 0,tab:f},`shin-${f}-${U}`)]}):b.jsx("div",{className:"p-4 rounded-xl bg-neutral-100 dark:bg-neutral-900 text-sm",children:"간지를 인식할 수 없어요."})}const lO=!1,p_=t=>t<10?`0${t}`:`${t}`,cO=t=>typeof t=="string"&&t.length>=2,uO=t=>Array.isArray(t)&&t.length===4&&t.every(cO);function dO(t){const r=t,a=typeof r.birthDay=="string"?r.birthDay:"",s=typeof r.calendarType=="string"?r.calendarType:"solar";if(a.length<8)return t;const u=Number(a.slice(0,4)),d=Number(a.slice(4,6)),f=Number(a.slice(6,8)),p=["isLeap","isLeapMonth","leapMonth","leap","lunarLeap"];let g=!1;for(const y of p){const _=r[y];if(typeof _=="boolean"){g=_;break}if(typeof _=="number"){g=_===1;break}if(typeof _=="string"){g=_==="1"||_.toLowerCase()==="true";break}}if(s==="lunar")try{const y=Ir(u,d,f,0,0),_=`${y.getFullYear()}${p_(y.getMonth()+1)}${p_(y.getDate())}`;return{...t,birthDay:_,calendarType:"solar"}}catch{return t}return t}function fO({data:t}){const[r,a]=O.useState("un"),s=O.useMemo(()=>{try{const p=dO(t);return Kc(p)}catch{return new Date}},[t]),u=O.useMemo(()=>Xc(t,s),[t,s]),d=!t.birthTime||t.birthTime==="모름",f=O.useMemo(()=>{try{const p=oe(u,t.birthPlace?.lon),g=Se(u,t.birthPlace?.lon),y=ae(u,t.mingSikType),_=d?"":Ur(u,t.mingSikType);return[p,g,y,_]}catch{return[]}},[u,t?.mingSikType,t?.birthPlace?.lon,d]);return b.jsxs("div",{className:"w-[96%] max-w-[640px] mx-auto",children:[b.jsxs("div",{className:"flex border-b border-neutral-700 mb-4",children:[b.jsx("button",{onClick:()=>a("un"),className:`px-2 desk:px-4 py-2 text-xs desk:text-sm cursor-pointer border-b hover:border-purple-500 hover:text-purple-500 font-bold ${r==="un"?"border-purple-500 text-purple-500":"border-transparent text-neutral-400"}`,children:"기본운 뷰어"}),b.jsx("button",{onClick:()=>a("myoun"),className:`px-2 desk:px-4 py-2 text-xs desk:text-sm cursor-pointer border-b hover:border-purple-500 hover:text-purple-500 font-bold ${r==="myoun"?"border-purple-500 text-purple-500":"border-transparent text-neutral-400"}`,children:"묘운 뷰어"}),b.jsx("button",{onClick:()=>a("report"),className:`px-2 desk:px-4 py-2 text-xs desk:text-sm cursor-pointer border-b hover:border-purple-500 hover:text-purple-500 font-bold ${r==="report"?"border-purple-500 text-purple-500":"border-transparent text-neutral-400"}`,children:"분석 레포트"})]}),r==="un"&&b.jsx(bk,{data:t}),r==="myoun"&&b.jsx(Mk,{data:t}),r==="report"&&b.jsx(sO,{data:t,pillars:uO(f)?f:[]})]})}/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hO=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),mO=t=>t.replace(/^([A-Z])|[\s-_]+(\w)/g,(r,a,s)=>s?s.toUpperCase():a.toLowerCase()),g_=t=>{const r=mO(t);return r.charAt(0).toUpperCase()+r.slice(1)},hS=(...t)=>t.filter((r,a,s)=>!!r&&r.trim()!==""&&s.indexOf(r)===a).join(" ").trim(),pO=t=>{for(const r in t)if(r.startsWith("aria-")||r==="role"||r==="title")return!0};/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var gO={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bO=O.forwardRef(({color:t="currentColor",size:r=24,strokeWidth:a=2,absoluteStrokeWidth:s,className:u="",children:d,iconNode:f,...p},g)=>O.createElement("svg",{ref:g,...gO,width:r,height:r,stroke:t,strokeWidth:s?Number(a)*24/Number(r):a,className:hS("lucide",u),...!d&&!pO(p)&&{"aria-hidden":"true"},...p},[...f.map(([y,_])=>O.createElement(y,_)),...Array.isArray(d)?d:[d]]));/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ri=(t,r)=>{const a=O.forwardRef(({className:s,...u},d)=>O.createElement(bO,{ref:d,iconNode:r,className:hS(`lucide-${hO(g_(t))}`,`lucide-${t}`,s),...u}));return a.displayName=g_(t),a};/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yO=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],vO=ri("chevron-down",yO);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xO=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],_O=ri("chevron-up",xO);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SO=[["path",{d:"M19.414 14.414C21 12.828 22 11.5 22 9.5a5.5 5.5 0 0 0-9.591-3.676.6.6 0 0 1-.818.001A5.5 5.5 0 0 0 2 9.5c0 2.3 1.5 4 3 5.5l5.535 5.362a2 2 0 0 0 2.879.052 2.12 2.12 0 0 0-.004-3 2.124 2.124 0 1 0 3-3 2.124 2.124 0 0 0 3.004 0 2 2 0 0 0 0-2.828l-1.881-1.882a2.41 2.41 0 0 0-3.409 0l-1.71 1.71a2 2 0 0 1-2.828 0 2 2 0 0 1 0-2.828l2.823-2.762",key:"17lmqv"}]],wO=ri("heart-handshake",SO);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TO=[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-6a2 2 0 0 1 2.582 0l7 6A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"r6nss1"}]],EO=ri("house",TO);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MO=[["path",{d:"M4 5h16",key:"1tepv9"}],["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 19h16",key:"1djgab"}]],NO=ri("menu",MO);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AO=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],DO=ri("plus",AO);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jO=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],kO=ri("settings",jO);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OO=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}],["path",{d:"M7 21v-2a2 2 0 0 1 2-2h6a2 2 0 0 1 2 2v2",key:"1m6ac2"}]],CO=ri("square-user",OO);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LO=[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]],b_=ri("star",LO);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BO=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]],RO=ri("user-plus",BO);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PO=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],ng=ri("x",PO);function zO({onOpenSidebar:t,onAddNew:r,onOpenCustom:a}){return b.jsx("header",{className:"fixed min-w-[320px] top-0 left-0 right-0 bg-white dark:bg-neutral-950 border-b border-neutral-200 dark:border-neutral-800 z-55 px-2 desk:px-3 transition-colors",children:b.jsxs("div",{className:"relative max-w-[640px] w-full mx-auto h-12 sm:h-14 flex justify-between items-center",children:[b.jsx("button",{type:"button",onClick:t,"aria-label":"명식리스트 열기",className:"p-2 rounded-full text-neutral-700 dark:text-neutral-200 hover:bg-neutral-100 dark:hover:bg-neutral-800 hover:text-purple-600 dark:hover:text-purple-400 focus:outline-none focus:ring-2 focus:ring-purple-500 cursor-pointer transition-colors",children:b.jsx(NO,{size:22})}),b.jsx("h1",{className:"absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 mx-auto text-base sm:text-lg font-bold tracking-tight text-neutral-900 dark:text-neutral-100",children:"화림만세력"}),b.jsxs("div",{className:"flex gap-2",children:[b.jsx("button",{type:"button",onClick:r,"aria-label":"명식 추가",className:"w-8 h-8 sm:w-10 sm:h-10 flex items-center justify-center rounded-md bg-purple-600 text-white hover:bg-purple-700 dark:bg-purple-600 dark:hover:bg-purple-500 focus:outline-none focus:ring-2 focus:ring-purple-500 cursor-pointer transition-colors",children:b.jsx(RO,{size:18})}),b.jsx("button",{type:"button",onClick:a,"aria-label":"명식 커스텀",className:"w-8 h-8 sm:w-10 sm:h-10 flex items-center justify-center rounded-md bg-orange-600 text-white hover:bg-orange-700 dark:bg-orange-600 dark:hover:bg-orange-500 focus:outline-none focus:ring-2 focus:ring-purple-500 cursor-pointer transition-colors",children:b.jsx(CO,{size:18})})]})]})})}function HO(t){O.useEffect(()=>{const r=t??R_()??(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light");P_(r),t&&Q0(t)},[t])}const mS="harim.settings.v1",pS=["theme","hiddenStem","hiddenStemMode","ilunRule","sinsalMode","sinsalBase","sinsalBloom","exposure","charType","thinEum","visibility","difficultyMode"];function $O(t){return typeof t=="string"&&pS.includes(t)}function y_(t){const r=Array.isArray(t)?t.filter($O):[],a=pS.filter(s=>!r.includes(s));return[...r,...a]}function gS(){if(typeof window>"u")return null;try{const t=localStorage.getItem(mS);return t?JSON.parse(t):null}catch{return null}}function IO(t){if(!(typeof window>"u"))try{const a={...gS()??{},...t};localStorage.setItem(mS,JSON.stringify(a))}catch{}}function UO({open:t,onClose:r}){const{settings:a,setSettings:s}=Sr(),u=O.useMemo(()=>y_(a.sectionOrder),[a.sectionOrder]),[d,f]=O.useState(u),[p,g]=O.useState(a),[y,_]=O.useState(null);HO(p.theme??"dark"),O.useEffect(()=>{if(!t)return;const D=gS();if(D){const A={...a,...D};g(A),f(y_(D.sectionOrder??A.sectionOrder))}else g(a),f([...u])},[t]);const w=(D,A)=>{g(z=>{const H={...z,[D]:A};return D==="theme"&&Q0(A),H})},S=()=>{s({...p,sectionOrder:d}),p.theme&&Q0(p.theme),IO({...p,sectionOrder:d}),_("설정이 적용되었습니다"),r()},T=D=>{const{destination:A,source:z}=D;if(!A||A.index===z.index)return;const H=Array.from(d),[k]=H.splice(z.index,1);H.splice(A.index,0,k),f(H)},M=D=>{switch(D){case"theme":return b.jsx(Br,{title:"테마",children:b.jsx(GO,{value:p.theme??"dark",onChange:A=>w("theme",A)})});case"hiddenStem":return b.jsx(Br,{title:"지장간 표시 타입",children:b.jsx(Po,{value:p.hiddenStem,onChange:A=>w("hiddenStem",A),options:[{label:"전체보기",value:"all"},{label:"정기만 보기",value:"regular"}]})});case"hiddenStemMode":return b.jsx(Br,{title:"지장간 유형",children:b.jsx(Po,{value:p.hiddenStemMode,onChange:A=>w("hiddenStemMode",A),options:[{label:"고전",value:"classic"},{label:"하건충",value:"hgc"}]})});case"ilunRule":return b.jsx(Br,{title:"일운 달력 시간타입",children:b.jsx(Po,{value:p.ilunRule??"자시",onChange:A=>w("ilunRule",A),options:[{label:"자시",value:"자시"},{label:"조자시/야자시",value:"조자시/야자시"},{label:"인시",value:"인시"}]})});case"sinsalMode":return b.jsx(Br,{title:"십이신살타입",children:b.jsx(Po,{value:p.sinsalMode,onChange:A=>w("sinsalMode",A),options:[{label:"고전",value:"classic"},{label:"현대",value:"modern"}]})});case"sinsalBase":return b.jsx(Br,{title:"십이신살기준",children:b.jsx(Po,{value:p.sinsalBase,onChange:A=>w("sinsalBase",A),options:[{label:"일지",value:"일지"},{label:"연지",value:"연지"}]})});case"sinsalBloom":return b.jsx(Br,{title:"개화론 적용여부",children:b.jsx(Bs,{label:"개화론 적용",checked:!!p.sinsalBloom,onChange:A=>w("sinsalBloom",A)})});case"exposure":return b.jsx(Br,{title:"상단 노출",children:b.jsx(Po,{value:p.exposure,onChange:A=>w("exposure",A),options:[{label:"원국",value:"원국"},{label:"대운",value:"대운"},{label:"세운",value:"세운"},{label:"월운",value:"월운"}]})});case"charType":return b.jsx(Br,{title:"글자 타입",children:b.jsx(Po,{value:p.charType,onChange:A=>w("charType",A),options:[{label:"한자",value:"한자"},{label:"한글",value:"한글"}]})});case"thinEum":return b.jsx(Br,{title:"음간 얇게",children:b.jsx(Bs,{label:"음간 얇게",checked:!!p.thinEum,onChange:A=>w("thinEum",A)})});case"visibility":return b.jsx(Br,{title:"표시 항목",children:b.jsxs("div",{className:"space-y-2 w-full max-w-[140px] mx-auto",children:[b.jsx(Bs,{label:"십신 표시",checked:!!p.showSipSin,onChange:A=>w("showSipSin",A)}),b.jsx(Bs,{label:"운성 표시",checked:!!p.showSibiUnseong,onChange:A=>w("showSibiUnseong",A)}),b.jsx(Bs,{label:"신살 표시",checked:!!p.showSibiSinsal,onChange:A=>w("showSibiSinsal",A)})]})});case"difficultyMode":return b.jsx(Br,{title:"난이도 UP ver.",children:b.jsx(Bs,{label:"난이도 UP 적용",checked:!!p.difficultyMode,onChange:A=>w("difficultyMode",A)})});default:return null}};return b.jsxs(b.Fragment,{children:[b.jsx("style",{children:"[data-rbd-drag-handle-context-id]{touch-action:none!important}"}),b.jsx("div",{className:`fixed inset-0 bg-black/60 transition-opacity duration-300 z-90 ${t?"opacity-100 pointer-events-auto":"opacity-0 pointer-events-none"}`,onClick:r}),b.jsxs("div",{className:`fixed inset-x-0 mx-auto w-full max-w-[640px] h-[88dvh] bg-white text-neutral-900 dark:bg-neutral-950 dark:text-white shadow-lg rounded-t-2xl transition-bottom duration-300 z-99 ${t?"bottom-0":"bottom-[-88dvh]"}`,children:[b.jsxs("div",{className:"flex justify-between items-center p-4 border-b border-neutral-200 dark:border-neutral-800",children:[b.jsxs("div",{className:"flex items-center gap-2",children:[b.jsx("h2",{className:"text-lg font-bold",children:"설정"}),b.jsx("button",{onClick:S,className:"px-3 py-1 rounded bg-indigo-600 hover:bg-indigo-500 text-white text-sm cursor-pointer",children:"적용하기"})]}),b.jsx("button",{onClick:r,className:"p-1 rounded hover:bg-neutral-100 dark:hover:bg-neutral-900 cursor-pointer",children:b.jsx(ng,{size:22})})]}),t&&b.jsx(qc,{onDragEnd:T,children:b.jsx(Io,{droppableId:"settings-sections",children:D=>b.jsxs("ul",{ref:D.innerRef,...D.droppableProps,className:"flex flex-col gap-2 p-4 overflow-y-auto max-h-[80dvh] list-none",children:[d.map((A,z)=>b.jsx(Xs,{draggableId:A,index:z,children:H=>b.jsxs("li",{ref:H.innerRef,...H.draggableProps,...H.dragHandleProps,className:"!flex justify-between items-center bg-white dark:bg-neutral-800 p-2 rounded border text-sm desk:text-base select-none cursor-grab active:cursor-grabbing",children:[b.jsx("span",{className:"mr-2 select-none",children:"☰"}),b.jsx("div",{className:"flex-1 min-w-0",children:M(A)})]})},A)),D.placeholder]})})})]}),y&&b.jsx(b2,{message:y,onClose:()=>_(null),ms:1800})]})}function GO({value:t,onChange:r}){const a=t==="dark";return b.jsxs("button",{"data-no-drag":!0,onClick:()=>r(a?"light":"dark"),className:"flex items-center gap-2 px-3 py-1.5 rounded-md border text-sm cursor-pointer border-neutral-300 bg-white hover:bg-neutral-100 text-neutral-700 dark:border-neutral-700 dark:bg-neutral-900 dark:hover:bg-neutral-800 dark:text-neutral-200",title:"다크/라이트 전환","aria-pressed":a,children:[b.jsx("span",{className:"inline-block w-10 h-5 bg-neutral-300 rounded-full relative after:content-[''] after:w-4 after:h-4 after:bg-white after:rounded-full after:absolute after:top-0.5 after:left-0.5 after:transition-all dark:bg-neutral-700"}),b.jsx("span",{children:a?"다크":"라이트"})]})}function Br({title:t,children:r}){return b.jsxs("div",{className:"p-3 rounded-lg bg-neutral-50 border border-neutral-200 text-neutral-900 dark:bg-neutral-900 dark:border-neutral-800 dark:text-neutral-100 space-y-3",children:[b.jsx("h3",{className:"text-sm font-semibold text-center",children:t}),b.jsx("div",{className:"flex justify-center",children:r})]})}function Po({value:t,onChange:r,options:a}){return b.jsx("div",{"data-no-drag":!0,className:"inline-flex rounded-md overflow-hidden border border-neutral-300 bg-white dark:border-neutral-700 dark:bg-neutral-800",onMouseDown:s=>s.stopPropagation(),onTouchStart:s=>s.stopPropagation(),children:a.map(s=>{const u=t===s.value;return b.jsx("button",{type:"button",onClick:()=>r(s.value),className:`px-3 py-1 text-sm transition-colors ${u?"bg-indigo-600 text-white":"text-neutral-700 hover:bg-neutral-100 dark:text-neutral-300 dark:hover:bg-neutral-700 cursor-pointer"}`,children:s.label},s.value)})})}function Bs({label:t,checked:r,onChange:a}){const s=`switch-${t}`;return b.jsxs("label",{"data-no-drag":!0,htmlFor:s,className:"flex items-center justify-between w-full max-w-[160px] text-sm cursor-pointer",children:[b.jsx("span",{children:t}),b.jsx("input",{id:s,type:"checkbox",checked:r,onChange:u=>a(u.target.checked),className:"peer hidden"}),b.jsx("span",{className:"w-10 h-5 bg-neutral-300 rounded-full relative after:content-[''] after:w-4 after:h-4 after:bg-white after:rounded-full after:absolute after:top-0.5 after:left-0.5 after:transition-all peer-checked:bg-green-600 peer-checked:after:translate-x-5 dark:bg-neutral-700 dark:peer-checked:bg-green-600"})]})}function ZO({onShowToday:t,onShowCouple:r}){const[a,s]=O.useState(!1);return b.jsxs(b.Fragment,{children:[b.jsx("div",{className:"fixed min-w-[320px] h-[64px] bottom-0 left-0 right-0 bg-white border-t border-neutral-200 py-2 text-xs sm:text-sm z-50 dark:bg-neutral-950 dark:border-neutral-800",children:b.jsxs("nav",{className:"flex justify-around items-center max-w-[640px] w-full mx-auto",children:[b.jsx(Y0,{icon:b.jsx(EO,{size:22}),label:"오늘의 사주",onClick:t}),b.jsx(Y0,{icon:b.jsx(wO,{size:22}),label:"궁합",onClick:r}),b.jsx(Y0,{icon:b.jsx(kO,{size:22}),label:"기타설정",onClick:()=>s(!0)})]})}),b.jsx(UO,{open:a,onClose:()=>s(!1)})]})}function Y0({icon:t,label:r,onClick:a}){return b.jsxs("button",{onClick:a,className:"flex flex-col items-center justify-center text-neutral-600 hover:text-purple-600 transition-colors cursor-pointer dark:text-neutral-300 dark:hover:text-purple-400",children:[t,b.jsx("span",{className:"mt-1",children:r})]})}function YO(t,r={}){const{onConfirm:a,onCancel:s,duration:u=1/0,id:d="confirm-center",disableBackdropClose:f=!1,confirmText:p="확인",cancelText:g="취소"}=r;return i0.custom(y=>{if(typeof window>"u"||!document?.body)return null;const _=()=>{const w=O.useRef(!1),S=()=>{w.current||(w.current=!0,i0.dismiss(y.id),setTimeout(()=>{s?.()},0))},T=()=>{w.current||(w.current=!0,i0.dismiss(y.id),setTimeout(()=>{a?.()},0))};return O.useEffect(()=>{const M=D=>{w.current||((D.key==="Escape"||D.key==="Esc")&&(D.preventDefault(),D.stopPropagation(),S()),D.key==="Enter"&&(D.preventDefault(),D.stopPropagation(),T()))};return document.addEventListener("keydown",M,{capture:!0}),()=>document.removeEventListener("keydown",M,{capture:!0})},[]),b.jsxs("div",{role:"alertdialog","aria-modal":"true","aria-live":"assertive",className:"fixed inset-0 z-[9999] flex items-center justify-center pointer-events-auto",children:[b.jsx("div",{className:"absolute inset-0 bg-black/40",onClick:f?void 0:S}),b.jsxs("div",{className:"relative z-10 bg-neutral-900 text-white px-4 py-3 rounded-lg shadow-lg border border-neutral-700 w-[min(92vw,520px)] transition-all duration-100 ease-out",children:[b.jsx("p",{className:"text-sm mb-3 whitespace-pre-line",children:t}),b.jsxs("div",{className:"flex gap-2 justify-end",children:[b.jsx("button",{type:"button",className:"px-3 py-1 text-sm rounded bg-neutral-700 hover:bg-neutral-600 cursor-pointer",onClick:S,children:g}),b.jsx("button",{type:"button",className:"px-3 py-1 text-sm rounded bg-red-600 hover:bg-red-500 cursor-pointer text-white",onClick:T,children:p})]})]})]})};return Gc.createPortal(b.jsx(_,{}),document.body)},{id:d,duration:u})}function zo(t,r){const[a,s]=O.useState(r),[u,d]=O.useState(!1);return O.useEffect(()=>{try{if(typeof window>"u")return;const f=localStorage.getItem(t);f!=null&&s(JSON.parse(f))}catch{}finally{d(!0)}},[t]),O.useEffect(()=>{if(u)try{localStorage.setItem(t,JSON.stringify(a))}catch{}},[t,a,u]),[a,s,u]}function v_(t,r,a){const s=t.slice(),[u]=s.splice(r,1);return s.splice(a,0,u),s}const qO="list:__unassigned__",x_="list:";function FO(t,r){const[a,s]=zo(_f,[]),[u,d]=zo(i7,{}),[f,p]=zo(r7,[]),[g,y]=zo(g2,[]),[_,w]=zo("ms_folder_open",{}),[S,T]=zo("ms_memo_open",{}),[M,D]=zo("ms_new_folder_tmp",""),A=O.useRef(0);function z(Q,F,G){const tt=Date.now();tt-A.current<450||(A.current=tt,YO(Q,{onConfirm:F,onCancel:G,duration:Number.POSITIVE_INFINITY}))}const H=O.useMemo(()=>xf.filter(Q=>!g.includes(Q)),[g]),k=O.useMemo(()=>[...H,...a],[H,a]);O.useEffect(()=>{p(Q=>{const F=Q.filter(G=>k.includes(G));for(const G of k)F.includes(G)||F.push(G);return F})},[k,p]);const B=O.useMemo(()=>{const Q=f.filter(G=>!!u[G]),F=f.filter(G=>!u[G]);return[...Q,...F]},[f,u]);O.useEffect(()=>{w(Q=>{const F={...Q};for(const G of B)F[G]===void 0&&(F[G]=!0);return F})},[B,w]),O.useEffect(()=>{t.filter(tt=>tt.folder==="미분류").forEach(tt=>r(tt.id,{folder:void 0}));const F=new Set(k);t.filter(tt=>tt.folder&&!F.has(tt.folder)).forEach(tt=>r(tt.id,{folder:void 0}))},[t,k,r]);const{grouped:C,unassignedItems:q}=O.useMemo(()=>{const Q={};for(const tt of B)Q[tt]=[];const F=[];for(const tt of t){const ht=tt.folder;ht&&Q[ht]?Q[ht].push(tt):F.push(tt)}const G=(tt,ht)=>+!!ht.favorite-+!!tt.favorite;for(const tt of Object.keys(Q))Q[tt]=Q[tt].slice().sort(G);return F.sort(G),{grouped:Q,unassignedItems:F}},[t,B]);function et(Q){const{destination:F,draggableId:G,type:tt,source:ht}=Q;if(F){if(tt==="FOLDER"){const it=G.replace(/^folder-/,""),Z=f.filter(yt=>!!u[yt]),rt=f.filter(yt=>!u[yt]);if(!!u[it]){const yt=Z.indexOf(it),j=Math.min(Z.length-1,F.index);p([...v_(Z,yt,j),...rt])}else{const yt=rt.indexOf(it),j=Math.min(rt.length-1,F.index-Z.length);p([...Z,...v_(rt,yt,j)])}return}if(tt==="ITEM"){const it=G.replace(/^item:/,""),Z=ht?.droppableId??"",rt=F?.droppableId??"",ot=Y=>{if(!Y.startsWith(x_))return;const J=Y.slice(x_.length);return J==="__unassigned__"?void 0:J},yt=ot(Z),j=ot(rt);if(yt===j)return;const $=t.find(Y=>Y.id===it);if(!$)return;r($.id,{folder:j});return}}}function st(Q){const F=Q.trim();if(!F)return;const G=new Set([...B,...a]);let tt=F,ht=2;for(;G.has(tt);)tt=`${F} ${ht++}`;s(it=>[...it,tt]),w(it=>({...it,[tt]:!0})),D("")}function W(Q){t.filter(G=>G.folder===Q).forEach(G=>r(G.id,{folder:void 0})),xf.includes(Q)?y(G=>Array.from(new Set([...G,Q]))):s(G=>G.filter(tt=>tt!==Q)),w(G=>{const tt={...G};return delete tt[Q],tt}),d(G=>{const tt={...G};return delete tt[Q],tt}),p(G=>G.filter(tt=>tt!==Q))}return{folderFavMap:u,setFolderFavMap:d,folderOpenMap:_,setFolderOpenMap:w,memoOpenMap:S,setMemoOpenMap:T,newFolderName:M,setNewFolderName:D,orderedFolders:B,grouped:C,unassignedItems:q,confirmThrottled:z,handleDragEnd:et,createFolder:st,deleteFolder:W,displayFolderLabel:a7,UNASSIGNED_LABEL:Ee,DROPPABLE_UNASSIGNED:qO}}function VO(t,r){if(!/^\d{8}$/.test(t))return t||"";const a=t.slice(0,4),s=t.slice(4,6),u=t.slice(6,8);return r&&/^\d{4}$/.test(r)?`${a}년 ${s}월 ${u}일생 ${r.slice(0,2)}:${r.slice(2,4)}분`:r==="모름"?`${a}년 ${s}월 ${u}일생 (시간 모름)`:`${a}년 ${s}월 ${u}일생`}function KO(t){if(!t)return"";const r=t.split(/[\s,]+/).filter(Boolean);if(r.length===0)return"";const a=f=>r.find(p=>f.some(g=>p.endsWith(g))),s=a(["시","군","구"]),u=a(["동","읍","면","리"]);return r.length===1||!a(["시","군","구","동","읍","면","리"])&&!a(["도","광역시","특별시","자치시","자치도"])?t:s&&u?`${s} ${u}`:s||t}function XO(t){if(!/^\d{8}$/.test(t))return"-";const r=Number(t.slice(0,4)),a=Number(t.slice(4,6)),s=Number(t.slice(6,8)),u=new Date;let d=u.getFullYear()-r;return(u.getMonth()+1<a||u.getMonth()+1===a&&u.getDate()<s)&&d--,d}function WO(t){return(t.ganji??"").replace(/\r\n/g,`
`).replace(/\s*null시\s*/gi,"").trim()}function gp(t){return typeof t=="object"&&t!==null}function QO(t){if(!gp(t))throw new Error("Invalid lunar2solar result");const r=t,a=r.cYear,s=r.cMonth,u=r.cDay;if(typeof a!="number"||typeof s!="number"||typeof u!="number")throw new Error("Invalid lunar2solar fields");const d=r.isLeap;return{cYear:a,cMonth:s,cDay:u,isLeap:typeof d=="boolean"?d:void 0}}function JO(t){const r=gp(t)&&"default"in t?t.default:t;if(!gp(r))throw new Error("solarlunar module invalid");const a=r.lunar2solar;if(typeof a!="function")throw new Error("solarlunar.lunar2solar not found");return(s,u,d)=>QO(a(s,u,d,!1))}const tC=JO(Fp);function bS(t){const r=t.mingSikType??"조자시/야자시";let a=Number(t.birthDay.slice(0,4)),s=Number(t.birthDay.slice(4,6)),u=Number(t.birthDay.slice(6,8));if(t.calendarType==="lunar"){const H=tC(a,s,u);a=H.cYear,s=H.cMonth,u=H.cDay}const d=!t.birthTime||t.birthTime==="모름",f=d?4:Number(t.birthTime.slice(0,2)),p=d?30:Number(t.birthTime.slice(2,4)),g=!t.birthPlace||t.birthPlace.name==="모름"||t.birthPlace.lon===0?127.5:t.birthPlace.lon,y=new Date(a,s-1,u,f,p,0,0),_=!t.birthPlace||typeof t.birthPlace=="object"&&t.birthPlace.name==="모름",w=Zo(y,g,_),S=d?"":w.toLocaleTimeString("ko-KR",{hour:"2-digit",minute:"2-digit"}),T=oe(w,g),M=Se(w,g),D=ae(w,r),A=d?null:Ur(w,r),z=[`원국 : ${T}년 ${M}월 ${D}일`,A?`${A}시`:null].filter(Boolean).join(" ");return{correctedLocal:S,ganji:z}}const __="sidebar.orderMap.v1",S_="sidebar.folderOrder.v1",_c="list:__unassigned__",Kd=t=>`list:${t}`,q0=t=>{if(!t.startsWith("list:"))return;const r=t.slice(5);return r==="__unassigned__"?void 0:r};function eC({open:t,onClose:r,onView:a,onAddNew:s,onEdit:u,onDeleteView:d}){const{list:f,remove:p,update:g}=il(),{folderFavMap:y,setFolderFavMap:_,folderOpenMap:w,setFolderOpenMap:S,memoOpenMap:T,setMemoOpenMap:M,newFolderName:D,setNewFolderName:A,orderedFolders:z,grouped:H,unassignedItems:k,handleDragEnd:B,createFolder:C,deleteFolder:q,UNASSIGNED_LABEL:et,displayFolderLabel:st}=FO(f,g),[W,Q]=O.useState([]);O.useEffect(()=>{try{const $=localStorage.getItem(S_);if($){const Y=JSON.parse($);Array.isArray(Y)&&Q(Y)}}catch{console.log("[Sidebar] Failed to load folderOrder from localStorage")}},[]),O.useEffect(()=>{try{localStorage.setItem(S_,JSON.stringify(W))}catch{console.log("[Sidebar] Failed to save folderOrder to localStorage")}},[W]);const[F,G]=O.useState({});O.useEffect(()=>{try{const $=localStorage.getItem(__);if($){const Y=JSON.parse($);Y&&typeof Y=="object"&&G(J=>({...Y,...J}))}}catch{console.log("[Sidebar] Failed to load orderMap from localStorage")}},[]),O.useEffect(()=>{try{localStorage.setItem(__,JSON.stringify(F))}catch{console.log("[Sidebar] Failed to save orderMap to localStorage")}},[F]);const[tt,ht]=O.useState(!1),it=($,Y)=>{const J=new Map(Y.map(U=>[U.id,U])),V=F[$]??[],I=[];for(const U of V){const dt=J.get(U);dt&&(I.push(dt),J.delete(U))}return J.forEach(U=>I.push(U)),I},Z=$=>{const Y=q0($),J=Y?H[Y]||[]:k;return it($,J).map(V=>V.id)};O.useEffect(()=>{G($=>{let Y=!1;const J={...$};{const V=_c,I=k.map(U=>U.id);if(!J[V])J[V]=I,Y=!0;else{const U=I.filter(gt=>!J[V].includes(gt));U.length&&(J[V]=[...J[V],...U],Y=!0);const dt=J[V].filter(gt=>!I.includes(gt));dt.length&&(J[V]=J[V].filter(gt=>!dt.includes(gt)),Y=!0)}}for(const V of z){const I=Kd(V),U=(H[V]||[]).map(dt=>dt.id);if(!J[I])J[I]=U,Y=!0;else{const dt=U.filter(Mt=>!J[I].includes(Mt));dt.length&&(J[I]=[...J[I],...dt],Y=!0);const gt=J[I].filter(Mt=>!U.includes(Mt));gt.length&&(J[I]=J[I].filter(Mt=>!gt.includes(Mt)),Y=!0)}}return Y?J:$})},[k,H,z]);const rt=O.useMemo(()=>[...W.filter($=>z.includes($)),...z.filter($=>!W.includes($))],[W,z]),ot=$=>$??{},yt=($,Y)=>{const J=WO($),V=KO($.birthPlace?.name),I=`item:${$.id}`,U=!!T[$.id];let dt=new Date($.corrected);vf(dt.getFullYear(),dt.getMonth()+1,dt.getDate())&&(dt=new Date(dt.getTime()-3600*1e3));const gt=!$.birthTime||$.birthTime==="모름";return b.jsx(Xs,{draggableId:I,index:Y,children:Mt=>b.jsx("li",{ref:Mt.innerRef,...Mt.draggableProps,...Mt.dragHandleProps,style:ot(Mt.draggableProps.style),className:`list-none select-none rounded-xl border
                       bg-white dark:bg-neutral-900
                       border-neutral-200 dark:border-neutral-800
                       text-neutral-900 dark:text-neutral-100
                       cursor-grab active:cursor-grabbing`,children:b.jsxs("div",{className:"p-3",children:[b.jsxs("div",{className:"flex items-center gap-2",children:[b.jsxs("div",{className:"font-semibold text-sm desk:text-base",children:[$.name," (",XO($.birthDay),"세, ",$.gender,")"]}),b.jsx("span",{className:"opacity-40",children:"｜"}),b.jsx("div",{className:"text-sm text-neutral-600 dark:text-neutral-300",children:$.relationship?$.relationship:"관계 미지정"}),b.jsx("span",{className:"ml-auto opacity-50 select-none",children:"☰"})]}),b.jsxs("div",{className:"text-sm text-neutral-600 dark:text-neutral-300 mt-1",children:[VO($.birthDay,$.birthTime),","," ",$.calendarType==="lunar"?"음력":"양력"]}),(V||dt)&&b.jsxs("div",{className:"text-sm text-neutral-500 dark:text-neutral-400",children:[V,dt&&b.jsxs("span",{className:"opacity-70",children:[" ","· 보정시 ",gt?"모름":dj(dt)]})]}),J&&b.jsx("div",{className:"text-sm text-neutral-800 dark:text-neutral-200 mt-1 whitespace-pre-wrap break-keep",children:J}),$.memo&&$.memo.trim()!==""&&b.jsxs("div",{children:[b.jsx("button",{type:"button",className:"text-xs text-neutral-500 dark:text-neutral-400 hover:text-neutral-800 dark:hover:text-neutral-200 inline-flex items-center gap-1 cursor-pointer",onClick:Nt=>{Nt.stopPropagation(),M(kt=>({...kt,[$.id]:!kt[$.id]}))},children:U?"메모 닫기":"메모 열기"}),b.jsx("div",{className:U?"mt-1 text-sm text-neutral-800 dark:text-neutral-200 whitespace-pre-wrap":"hidden",children:$.memo})]}),b.jsxs("div",{className:"flex flex-wrap gap-2 mt-3",children:[b.jsx("select",{className:`h-30 text-xs rounded px-2 py-1 cursor-pointer
                             bg-white dark:bg-neutral-900
                             border border-neutral-300 dark:border-neutral-700
                             text-neutral-900 dark:text-neutral-100
                             focus:outline-none focus:ring-2 focus:ring-amber-500/40`,value:st($.folder),onClick:Nt=>Nt.stopPropagation(),onChange:Nt=>{Nt.stopPropagation();const kt=Nt.target.value,Dt=Ws(kt),St=$.id,Ot=$.folder?Kd($.folder):_c,Ct=Dt?Kd(Dt):_c;Dt&&!z.includes(Dt)&&C(Dt),G(Kt=>{const It={...Kt},Wt=Z(Ot),xt=Ot===Ct?Wt.slice():Z(Ct).slice(),Rt=Wt.indexOf(St);Rt>=0&&Wt.splice(Rt,1);const _t=xt.indexOf(St);return _t>=0&&xt.splice(_t,1),xt.unshift(St),It[Ot]=Wt,It[Ct]=xt,It}),g(St,{folder:Dt})},children:[et,...z].map(Nt=>b.jsx("option",{value:Nt,children:Nt},Nt))}),b.jsxs("select",{className:`h-30 text-xs rounded px-2 py-1 cursor-pointer
                             bg-white dark:bg-neutral-900
                             border border-neutral-300 dark:border-neutral-700
                             text-neutral-900 dark:text-neutral-100
                             focus:outline-none focus:ring-2 focus:ring-amber-500/40`,value:$.mingSikType??"조자시/야자시",onClick:Nt=>Nt.stopPropagation(),onChange:Nt=>{Nt.stopPropagation();const kt=Nt.target.value,Dt={...$,mingSikType:kt},St=bS(Dt);g($.id,{mingSikType:kt,...St}),a({...Dt,...St}),r()},children:[b.jsx("option",{value:"자시",children:"야자시명식"}),b.jsx("option",{value:"조자시/야자시",children:"조자시명식"}),b.jsx("option",{value:"인시",children:"인시명식"})]})]}),b.jsxs("div",{className:"flex gap-2 mt-3",children:[b.jsx("button",{onClick:Nt=>{Nt.stopPropagation(),a($),r()},className:`px-3 py-1 rounded text-white text-sm cursor-pointer
                             bg-indigo-600 hover:bg-indigo-500`,children:"보기"}),b.jsx("button",{onClick:Nt=>{Nt.stopPropagation(),u?.($)},className:`px-3 py-1 rounded text-white text-sm cursor-pointer
                             bg-amber-600 hover:bg-amber-500`,children:"수정"}),b.jsx("button",{onClick:Nt=>{Nt.stopPropagation(),confirm(`'${$.name}' 명식을 삭제할까요?`)&&(p($.id),d&&d())},className:`px-3 py-1 rounded text-white text-sm cursor-pointer
                             bg-red-600 hover:bg-red-500`,children:"삭제"}),b.jsx("button",{type:"button",onClick:Nt=>{Nt.stopPropagation(),g($.id,{favorite:!$.favorite})},className:`ml-auto p-1 rounded cursor-pointer ${$.favorite?"text-yellow-400":"text-neutral-400"} hover:text-yellow-400`,children:b.jsx(b_,{size:16,fill:$.favorite?"currentColor":"none"})})]})]})})},I)},j=$=>{const{source:Y,destination:J,draggableId:V,type:I}=$;if(J){if(I==="FOLDER"){B($),Q(U=>{const dt=[...U],[gt]=dt.splice(Y.index,1);return dt.splice(J.index,0,gt),dt});return}if(I==="ITEM"){const U=V.replace(/^item:/,""),dt=Y.droppableId,gt=J.droppableId;G(kt=>{const Dt={...kt},St=Z(dt),Ot=dt===gt?St.slice():Z(gt).slice();if(dt===gt){const[It]=Ot.splice(Y.index,1);return Ot.splice(J.index,0,It),Dt[dt]=Ot,Dt}const Ct=St.indexOf(U);Ct>=0&&St.splice(Ct,1);const Kt=Ot.indexOf(U);return Kt>=0&&Ot.splice(Kt,1),Ot.splice(J.index,0,U),Dt[dt]=St,Dt[gt]=Ot,Dt});const Mt=q0(dt),Nt=q0(gt);Mt!==Nt&&g(U,{folder:Nt})}}};return b.jsxs(b.Fragment,{children:[b.jsx("div",{className:`fixed inset-0 bg-black/70 transition-opacity duration-300 z-90 ${t?"opacity-100 pointer-events-auto":"opacity-0 pointer-events-none"}`,onClick:r}),b.jsxs("div",{className:`fixed top-0 left-0 h-[100dvh] min-w-[320px] w-full desk:w-1/3
                    bg-white dark:bg-neutral-950
                    text-neutral-900 dark:text-white
                    shadow-lg z-99 transition-[left] duration-300
                    ${tt?"overflow-hidden":"overflow-auto"}
                    ${t?"left-0":"left-[-100%]"}`,children:[b.jsxs("div",{className:"flex justify-between items-center h-12 desk:h-16 p-4 border-b border-neutral-200 dark:border-neutral-800",children:[b.jsx("h2",{className:"text-lg font-bold",children:"명식 리스트"}),b.jsxs("div",{className:"flex items-center gap-2",children:[b.jsxs("button",{type:"button",onClick:()=>{s(),r()},className:`inline-flex items-center gap-1 px-3 py-1.5 rounded text-sm cursor-pointer
                         bg-purple-600 hover:bg-purple-500 text-white`,children:[b.jsx(DO,{size:16})," 명식추가"]}),b.jsx("button",{onClick:r,className:"p-1 rounded cursor-pointer hover:bg-neutral-100 dark:hover:bg-neutral-900",children:b.jsx(ng,{size:22})})]})]}),b.jsx(qc,{onDragStart:()=>ht(!0),onDragEnd:$=>{ht(!1),j($)},children:b.jsxs("div",{className:"p-4 h-[calc(100%-56px)] overflow-y-auto overscroll-contain",style:{touchAction:"pan-y"},children:[b.jsxs("div",{className:"flex items-center mb-2 gap-2",children:[b.jsx("input",{type:"text",value:D,onChange:$=>A($.target.value),placeholder:"새 폴더 이름",className:`flex-1 w-[60%] px-2 py-1 rounded h-30
                           bg-white dark:bg-neutral-900
                           border border-neutral-300 dark:border-neutral-700
                           text-sm text-neutral-900 dark:text-neutral-100
                           placeholder-neutral-400 dark:placeholder-neutral-500`,onClick:$=>$.stopPropagation()}),b.jsx("button",{type:"button",onClick:()=>C(D),className:`px-3 rounded h-30 text-sm cursor-pointer
                           bg-neutral-100 hover:bg-neutral-200
                           dark:bg-neutral-800 dark:hover:bg-neutral-700
                           text-neutral-900 dark:text-neutral-100
                           border border-neutral-200 dark:border-neutral-700`,onClickCapture:$=>$.stopPropagation(),children:"생성"})]}),b.jsx("p",{className:"text-xs text-neutral-600 dark:text-neutral-400 mb-2",children:"명식/폴더를 드래그 하여 순서를 바꿀 수 있습니다."}),b.jsx(Io,{droppableId:_c,type:"ITEM",direction:"vertical",ignoreContainerClipping:!0,children:$=>{const Y=it(_c,k);return b.jsx("div",{ref:$.innerRef,...$.droppableProps,className:"mb-6",children:b.jsxs("ul",{className:"flex flex-col gap-2",children:[Y.map((J,V)=>yt(J,V)),$.placeholder]})})}}),b.jsx(Io,{droppableId:"folders:root",type:"FOLDER",direction:"vertical",ignoreContainerClipping:!0,children:$=>b.jsxs("div",{ref:$.innerRef,...$.droppableProps,children:[rt.map((Y,J)=>{const V=Kd(Y),I=it(V,H[Y]||[]),U=!!w[Y],dt=!!y[Y];return b.jsx(Xs,{draggableId:`folder-${Y}`,index:J,children:gt=>b.jsxs("div",{ref:gt.innerRef,...gt.draggableProps,...gt.dragHandleProps,className:"mb-4 cursor-grab active:cursor-grabbing select-none",children:[b.jsxs("div",{className:`flex items-center justify-between px-2 py-2 rounded
                                         bg-neutral-50 dark:bg-neutral-900/70
                                         border border-neutral-200 dark:border-neutral-800
                                         text-neutral-800 dark:text-neutral-200`,children:[b.jsxs("div",{className:"flex items-center gap-2",children:[b.jsxs("button",{type:"button",onClick:Mt=>{Mt.stopPropagation(),S(Nt=>({...Nt,[Y]:!U}))},className:"inline-flex items-center gap-1 text-sm font-semibold cursor-pointer",children:[U?b.jsx(_O,{size:16}):b.jsx(vO,{size:16}),b.jsx("span",{className:"text-sm font-semibold",children:Y})]}),b.jsx("button",{type:"button",onClick:Mt=>{Mt.stopPropagation(),_(Nt=>({...Nt,[Y]:!Nt[Y]}))},className:`p-1 rounded cursor-pointer ${dt?"text-yellow-400":"text-neutral-400"} hover:text-yellow-400`,children:b.jsx(b_,{size:16,fill:dt?"currentColor":"none"})})]}),b.jsxs("div",{className:"flex items-center gap-2",children:[b.jsxs("span",{className:"opacity-60 text-xs",children:[I.length,"개"]}),b.jsx("button",{type:"button",onClick:Mt=>{if(Mt.stopPropagation(),y[Y]){alert(`'${Y}' 폴더는 즐겨찾기 되어 있습니다.
즐겨찾기 해제 후 삭제해주세요.`);return}confirm(`'${Y}' 폴더를 삭제할까요?
(소속 항목은 바깥으로 이동합니다)`)&&q(Y)},className:`px-2 py-1 rounded text-xs cursor-pointer
                                             border border-red-300 dark:border-red-700
                                             text-red-700 dark:text-red-300
                                             hover:bg-red-50 dark:hover:bg-red-900/30`,children:"삭제"})]})]}),U&&b.jsx(Io,{droppableId:V,type:"ITEM",direction:"vertical",ignoreContainerClipping:!0,children:Mt=>b.jsx("div",{ref:Mt.innerRef,...Mt.droppableProps,className:"mt-2",children:b.jsxs("ul",{className:"flex flex-col gap-2",children:[I.map((Nt,kt)=>yt(Nt,kt)),Mt.placeholder]})})})]})},`folder-${Y}`)}),$.placeholder]})})]})})]})]})}const w_="ms_folders",F0="w-full rounded p-2 border transition-colors duration-200 bg-white text-neutral-900 placeholder-neutral-400 border-neutral-300 focus:outline-none focus:ring-2 focus:ring-violet-500 focus:border-transparent dark:bg-neutral-900 dark:text-neutral-100 dark:placeholder-neutral-500 dark:border-neutral-700 dark:focus:ring-violet-400",nC="w-full rounded p-2 border transition-colors duration-200 bg-white text-neutral-900 border-neutral-300 focus:outline-none focus:ring-2 focus:ring-violet-500 focus:border-transparent dark:bg-neutral-900 dark:text-neutral-100 dark:border-neutral-700 dark:focus:ring-violet-400",rC="w-full rounded p-2 border min-h-28 transition-colors duration-200 bg-white text-neutral-900 placeholder-neutral-400 border-neutral-300 focus:outline-none focus:ring-2 focus:ring-violet-500 focus:border-transparent dark:bg-neutral-900 dark:text-neutral-100 dark:placeholder-neutral-500 dark:border-neutral-700 dark:focus:ring-violet-400",Qi="block text-sm mb-1 font-medium text-neutral-800 dark:text-neutral-200",iC="text-xs text-neutral-500 dark:text-neutral-400",Xd="accent-violet-600 dark:accent-violet-400",T_="accent-violet-600 dark:accent-violet-400",oh="px-3 py-1.5 rounded text-sm font-medium transition-colors duration-200 focus:outline-none focus:ring-2 focus:ring-offset-2 dark:focus:ring-offset-neutral-900",aC=`${oh} bg-amber-600 text-white hover:bg-amber-500 dark:bg-amber-600 dark:hover:bg-amber-500 cursor-pointer`,oC=`${oh} bg-red-600 text-white hover:bg-red-500 dark:bg-red-600 dark:hover:bg-red-500 cursor-pointer`,E_=`${oh} bg-neutral-800 text-white hover:bg-neutral-700 dark:bg-neutral-700 dark:hover:bg-neutral-600 cursor-pointer`,sC=`${oh} bg-green-600 text-white hover:bg-green-500 dark:bg-green-600 dark:hover:bg-green-500 cursor-pointer`;function lC({item:t,onClose:r}){const{list:a,update:s,remove:u}=il(),[d,f]=O.useState(!1),[p,g]=O.useState({...t,calendarType:t.calendarType??"solar"}),[y,_]=O.useState(!t.birthTime||t.birthTime==="모름"),[w,S]=O.useState(!t.birthPlace||t.birthPlace.name==="모름"),T=O.useMemo(()=>["가족","친구","직장","지인","고객","기타"],[]),[M,D]=O.useState([]);O.useEffect(()=>{try{const C=JSON.parse(localStorage.getItem(w_)||"[]");Array.isArray(C)&&D(C)}catch{}},[]);const A=O.useMemo(()=>{const C=Array.from(new Set(a.map(st=>st.folder).filter(Boolean))),q=new Set([...T,...M,...C]),et=Array.from(q).sort((st,W)=>st.localeCompare(W));return[Ee,...et]},[a,M,T]),z=()=>{g({...t,calendarType:t.calendarType??"solar"}),_(!t.birthTime||t.birthTime==="모름"),S(!t.birthPlace||t.birthPlace.name==="모름")},H=()=>{if(!p.name||p.name.trim()==="")return"이름을 입력해주세요.";if(!p.birthDay||!/^\d{8}$/.test(p.birthDay))return"생년월일은 YYYYMMDD 형식으로 입력해주세요.";const C=Number(p.birthDay.slice(0,4)),q=Number(p.birthDay.slice(4,6)),et=Number(p.birthDay.slice(6,8));if(p.calendarType==="lunar")try{Ir(C,q,et)}catch(st){return st instanceof Error?st.message:"음력 날짜가 유효하지 않습니다."}else{const st=new Date(C,q-1,et);if(st.getFullYear()!==C||st.getMonth()+1!==q||st.getDate()!==et)return"존재하지 않는 양력 날짜입니다."}if(!y){if(!p.birthTime||!/^\d{4}$/.test(p.birthTime))return"태어난 시간은 0000–2359 형식(4자리)으로 입력해주세요.";const st=Number(p.birthTime.slice(0,2)),W=Number(p.birthTime.slice(2,4));if(st<0||st>23||W<0||W>59)return"태어난 시간은 0000–2359 범위여야 합니다."}return!w&&!p.birthPlace?"태어난 지역을 선택하거나 '모름'을 체크해주세요.":null},k=()=>{const C=H();if(C){alert(C);return}const q=Number(p.birthDay.slice(0,4)),et=Number(p.birthDay.slice(4,6)),st=Number(p.birthDay.slice(6,8));let W=q,Q=et,F=st;if(p.calendarType==="lunar"){const dt=Ir(q,et,st);W=dt.getFullYear(),Q=dt.getMonth()+1,F=dt.getDate()}const G=y?4:Number((p.birthTime??"0430").slice(0,2)),tt=y?30:Number((p.birthTime??"0430").slice(2,4)),ht=w||!p.birthPlace||p.birthPlace.lon===0?127.5:p.birthPlace.lon,it=new Date(W,Q-1,F,G,tt,0,0),Z=!p.birthPlace||typeof p.birthPlace=="object"&&p.birthPlace.name==="모름",rt=Zo(it,ht,Z),yt=oe(rt,ht).charAt(0),$=((dt,gt)=>{const Nt=["甲","丙","戊","庚","壬","갑","병","무","경","임"].includes(dt),kt=(gt??"남자")==="남자";return Nt?kt?"forward":"backward":kt?"backward":"forward"})(yt,p.gender??"남자"),Y=Ws(p.folder===Ee?void 0:p.folder),J={...t,name:(p.name??"").trim()||"이름없음",birthDay:p.birthDay,birthTime:y?"모름":p.birthTime??"0430",gender:p.gender??"남자",birthPlace:w?{name:"모름",lat:0,lon:127.5}:p.birthPlace??{name:"모름",lat:0,lon:127.5},relationship:p.relationship??"",memo:p.memo??"",folder:Y,calendarType:p.calendarType??"solar",mingSikType:p.mingSikType??"조자시/야자시",DayChangeRule:(p.mingSikType??"조자시/야자시")==="인시"?"인시일수론":"자시일수론",dir:$,corrected:rt,correctedLocal:"",ganji:""},{correctedLocal:V,ganji:I}=bS(J),U={...J,correctedLocal:V,ganji:I};if(U.folder&&!T.includes(U.folder)&&!M.includes(U.folder)){const dt=[...M,U.folder];D(dt),localStorage.setItem(w_,JSON.stringify(dt))}s(t.id,U),f(!1),r&&r()},B=()=>{confirm(`'${t.name}' 명식을 삭제할까요?`)&&u(t.id)};return d?b.jsxs("div",{className:"space-y-4 max-h-[calc(90dvh_-_40px)] overflow-auto transition-colors duration-200 bg-white text-neutral-900 dark:bg-neutral-950 dark:text-neutral-100 p-4 rounded-xl",children:[b.jsx("h3",{className:"text-lg font-bold",children:"명식 수정"}),b.jsxs("div",{children:[b.jsx("label",{className:Qi,children:"이름"}),b.jsx("input",{className:F0,value:p.name||"",onChange:C=>g({...p,name:C.target.value}),placeholder:"이름"})]}),b.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3",children:[b.jsxs("div",{children:[b.jsx("label",{className:Qi,children:"생년월일 (YYYYMMDD)"}),b.jsx("input",{className:F0,value:p.birthDay||"",onChange:C=>g({...p,birthDay:C.target.value.replace(/\D/g,"").slice(0,8)}),inputMode:"numeric",maxLength:8,placeholder:"예: 19900101"}),b.jsxs("div",{className:"flex gap-4 mt-2 items-center justify-between",children:[b.jsxs("div",{className:"flex gap-4",children:[b.jsxs("span",{className:"inline-flex items-center gap-1",children:[b.jsx("input",{type:"radio",className:Xd,name:"calendarType",checked:p.calendarType==="solar",onChange:()=>g({...p,calendarType:"solar"}),id:"editor_calendar_solar"}),b.jsx("label",{htmlFor:"editor_calendar_solar",className:"inline-flex items-center gap-1 text-sm text-neutral-800 dark:text-neutral-200 cursor-pointer",children:"양력"})]}),b.jsxs("span",{className:"inline-flex items-center gap-1",children:[b.jsx("input",{type:"radio",className:Xd,name:"calendarType",checked:p.calendarType==="lunar",onChange:()=>g({...p,calendarType:"lunar"}),id:"editor_calendar_lunar"}),b.jsx("label",{htmlFor:"editor_calendar_lunar",className:"inline-flex items-center gap-1 text-sm text-neutral-800 dark:text-neutral-200 cursor-pointer",children:"음력"})]})]}),p.calendarType==="lunar"&&p.birthDay?.length===8&&b.jsx("span",{className:iC,children:(()=>{try{const C=Number(p.birthDay.slice(0,4)),q=Number(p.birthDay.slice(4,6)),et=Number(p.birthDay.slice(6,8)),st=Ir(C,q,et);return`→ 양력 ${st.getFullYear()}-${String(st.getMonth()+1).padStart(2,"0")}-${String(st.getDate()).padStart(2,"0")}`}catch(C){const q=C instanceof Error?C.message:void 0;return`→ 변환 실패${q?`: ${q}`:""}`}})()})]})]}),b.jsxs("div",{children:[b.jsx("label",{className:Qi,children:"태어난 시간 (HHMM)"}),b.jsx("input",{className:`${F0} disabled:opacity-50`,value:y?"":p.birthTime||"",onChange:C=>g({...p,birthTime:C.target.value.replace(/\D/g,"").slice(0,4)}),inputMode:"numeric",maxLength:4,placeholder:"예: 1524",disabled:y}),b.jsxs("div",{className:"mt-1 text-sm flex items-center gap-2",children:[b.jsx("input",{type:"checkbox",className:T_,checked:y,onChange:C=>_(C.target.checked),id:"editor_birthTimeX"}),b.jsx("label",{htmlFor:"editor_birthTimeX",className:"text-neutral-800 dark:text-neutral-200 cursor-pointer",children:"모름"})]})]})]}),b.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3",children:[b.jsxs("div",{children:[b.jsx("label",{className:Qi,children:"명식 기준"}),b.jsx("div",{className:"flex gap-4 text-sm",children:["자시","조자시/야자시","인시"].map(C=>{const q=`editor_ming_${C}`;return b.jsxs("span",{className:"inline-flex items-center gap-1",children:[b.jsx("input",{type:"radio",className:Xd,name:"mingSikType",checked:(p.mingSikType??"자시")===C,onChange:()=>g({...p,mingSikType:C}),id:q}),b.jsx("label",{htmlFor:q,className:"text-neutral-800 dark:text-neutral-200 cursor-pointer",children:C})]},C)})})]}),b.jsxs("div",{children:[b.jsx("label",{className:Qi,children:"성별"}),b.jsx("div",{className:"flex gap-4 text-sm",children:["남자","여자"].map(C=>{const q=`editor_gender_${C}`;return b.jsxs("span",{className:"inline-flex items-center gap-1",children:[b.jsx("input",{type:"radio",className:Xd,name:"gender",value:C,checked:p.gender===C,onChange:et=>g({...p,gender:et.target.value}),id:q}),b.jsx("label",{htmlFor:q,className:"text-neutral-800 dark:text-neutral-200 cursor-pointer",children:C})]},C)})})]})]}),b.jsxs("div",{children:[b.jsx("label",{className:Qi,children:"태어난 지역"}),b.jsx(i1,{onSelect:C=>g({...p,birthPlace:C}),value:w?"출생지선택":p.birthPlace?.name??""}),b.jsxs("div",{className:"mt-1 text-sm flex items-center gap-2",children:[b.jsx("input",{type:"checkbox",className:T_,checked:w,onChange:C=>S(C.target.checked),id:"editor_birthPlaceX"}),b.jsx("label",{htmlFor:"editor_birthPlaceX",className:"text-neutral-800 dark:text-neutral-200 cursor-pointer",children:"모름"})]})]}),b.jsxs("div",{children:[b.jsx("label",{className:Qi,children:"관계"}),b.jsx(p2,{value:p.relationship||"",onChange:C=>g({...p,relationship:C})})]}),b.jsxs("div",{children:[b.jsx("label",{className:Qi,children:"폴더"}),b.jsx("select",{className:nC,value:p.folder??Ee,onChange:C=>{const q=C.target.value;g(q===Ee?{...p,folder:void 0}:{...p,folder:q})},children:A.map(C=>b.jsx("option",{value:C===Ee?Ee:C,children:C},C))})]}),b.jsxs("div",{children:[b.jsx("label",{className:Qi,children:"메모"}),b.jsx("textarea",{className:rC,value:p.memo||"",onChange:C=>g({...p,memo:C.target.value}),placeholder:"메모를 입력하세요"})]}),b.jsxs("div",{className:"flex gap-2 justify-end",children:[b.jsx("button",{className:E_,onClick:()=>{z(),f(!1)},children:"취소"}),b.jsx("button",{className:sC,onClick:k,children:"저장"})]})]}):b.jsxs("div",{className:"p-4 space-y-3 transition-colors duration-200 bg-white text-neutral-900 dark:bg-neutral-950 dark:text-neutral-100",children:[b.jsxs("div",{className:"flex items-center justify-between",children:[b.jsxs("h3",{className:"text-lg font-bold",children:[" ",t.name," "]}),b.jsxs("div",{className:"flex gap-2",children:[b.jsx("button",{className:aC,onClick:()=>f(!0),children:"수정"}),b.jsx("button",{className:oC,onClick:B,children:"삭제"}),r&&b.jsx("button",{className:E_,onClick:r,children:"닫기"})]})]}),b.jsxs("div",{className:"text-sm text-neutral-700 dark:text-neutral-300",children:[b.jsxs("div",{children:["성별: ",t.gender]}),b.jsxs("div",{children:["생년월일/시간: ",t.birthDay," ",t.birthTime==="모름"?"(시간 모름)":t.birthTime,","," ",t.calendarType==="lunar"?"음력":"양력"]}),b.jsxs("div",{children:["보정시: ",t.correctedLocal||"-"]}),b.jsxs("div",{children:["출생지: ",t.birthPlace?.name||"-"]}),b.jsxs("div",{children:["관계: ",t.relationship||"-"]}),b.jsxs("div",{children:["폴더: ",t.folder??Ee]})]}),t.ganji&&b.jsx("div",{className:"text-sm text-red-500 whitespace-pre-wrap",children:t.ganji}),t.memo&&b.jsxs("div",{className:"text-sm whitespace-pre-wrap text-neutral-800 dark:text-neutral-200",children:[b.jsx("p",{className:"mb-1 font-semibold",children:"메모"}),t.memo]})]})}function cC({pillarsA:t,pillarsB:r}){const a=Zk(t,r);return b.jsxs("div",{className:"rounded-xl p-4 bg-neutral-100 dark:bg-neutral-900 text-neutral-900 dark:text-neutral-100 space-y-2",children:[b.jsx("div",{className:"text-sm font-bold mb-3",children:"두 명식 간 형충회합"}),Object.entries(a).map(([s,u])=>u.length>0?b.jsxs("div",{className:"flex gap-2 text-xs",children:[b.jsx("span",{className:"shrink-0 w-20 text-xs font-semibold text-neutral-700 dark:text-neutral-400 mt-1",children:s}),b.jsx("div",{className:"flex flex-wrap gap-2",children:u.map((d,f)=>b.jsx("span",{className:"text-xs px-2 py-1 rounded-full border whitespace-nowrap bg-violet-100 text-violet-800 border-violet-200 dark:bg-violet-900/30 dark:text-violet-200 dark:border-violet-800",children:d},f))})]},s):null)]})}function uC(t){return typeof t=="object"&&t!==null}const dC=["갑","을","병","정","무","기","경","신","임","계","甲","乙","丙","丁","戊","己","庚","辛","壬","癸"],fC=["자","축","인","묘","진","사","오","미","신","유","술","해","子","丑","寅","卯","辰","巳","午","未","申","酉","戌","亥"],hC=new Set(dC),mC=new Set(fC);function M_(t){return typeof t=="string"&&t.length>=2&&hC.has(t[0])&&mC.has(t[1])}function He(t,...r){if(M_(t))return t;for(const a of r)if(M_(a))return a;return"甲子"}function Wd(t,r){let a=null;const s=r.getTime();for(const u of t)if(u.at.getTime()<=s)a=u;else break;return a}function pC(t){const r=a=>String(a).padStart(2,"0");return`${t.getFullYear()}-${r(t.getMonth()+1)}-${r(t.getDate())}T${r(t.getHours())}:${r(t.getMinutes())}`}function N_(t){if(!t)return null;const r=/^(\d{4})-(\d{2})-(\d{2})T(\d{2}):(\d{2})$/.exec(t);if(!r)return null;const[,a,s,u,d,f]=r,p=new Date(+a,+s-1,+u,+d,+f);return Number.isNaN(p.getTime())?null:p}function Pf(t){const r=t;return typeof r.name=="string"&&r.name?r.name:typeof r.title=="string"&&r.title?r.title:typeof r.memo=="string"&&r.memo?r.memo:"이름 없음"}function gC(t){const r=Number(t.birthDay.slice(0,4)),a=Number(t.birthDay.slice(4,6)),s=Number(t.birthDay.slice(6,8));let u=0,d=0;const f=t;return typeof f.birthTime=="string"&&f.birthTime.length>=4&&(u=Number(f.birthTime.slice(0,2)),d=Number(f.birthTime.slice(2,4))),{y:r,m:a,d:s,hh:u,mm:d}}function sh(t){const{y:r,m:a,d:s}=gC(t),u=t.corrected.getHours(),d=t.corrected.getMinutes();return t.calendarType==="lunar"?Ir(r,a,s,u,d):new Date(r,a-1,s,u,d)}function bC(t){const r=sh(t);return`${Pf(t)}-${r.toISOString()}`}function Sc(t){const r=t;return typeof r.id=="string"&&r.id?r.id:bC(t)}function yC(t){return uC(t)&&("Classic"in t||"Modern"in t||"classic"in t||"modern"in t)}function vC(t){const r=Yo;return yC(r)?t==="classic"?r.Classic:r.Modern:t}const V0="people_picker_order_v1";function xC(t,r,a){const s=t.slice(),[u]=s.splice(r,1);return s.splice(a,0,u),s}function A_({open:t,list:r,onSelect:a,onClose:s}){const[u,d]=O.useState("");O.useEffect(()=>{t||d("")},[t]);const f=O.useMemo(()=>r.map(Sc),[r]),p=O.useMemo(()=>new Set(f),[f]),[g,y]=O.useState([]);O.useEffect(()=>{const D=localStorage.getItem(V0),A=D?JSON.parse(D):[],z=A.filter(k=>p.has(k)),H=[...z,...f.filter(k=>!z.includes(k))];y(H),JSON.stringify(H)!==JSON.stringify(A)&&localStorage.setItem(V0,JSON.stringify(H))},[f,p]);const _=D=>{y(D),localStorage.setItem(V0,JSON.stringify(D))},w=O.useMemo(()=>{const D=new Map(r.map(z=>[Sc(z),z])),A=[];for(const z of g){const H=D.get(z);H&&A.push(H)}return D.forEach((z,H)=>{g.includes(H)||A.push(z)}),A},[r,g]),S=O.useMemo(()=>{const D=u.trim().toLowerCase();return D?w.filter(A=>Pf(A).toLowerCase().includes(D)):w},[w,u]),T=u.trim()==="",M=D=>{const{destination:A,source:z}=D;if(!A||!T||A.index===z.index)return;const H=S.map(Sc),k=xC(H,z.index,A.index),C=w.map(Sc).filter(et=>!H.includes(et)),q=[...k,...C].filter((et,st,W)=>W.indexOf(et)===st);_(q)};return b.jsxs(b.Fragment,{children:[b.jsx("style",{children:"[data-rbd-drag-handle-context-id]{touch-action:none!important}"}),b.jsx("div",{className:`fixed inset-0 bg-black/60 transition-opacity duration-200 z-[1000] ${t?"opacity-100 pointer-events-auto":"opacity-0 pointer-events-none"}`,onClick:s}),b.jsxs("div",{className:`fixed bottom-0 inset-x-0 mx-auto w-full max-w-[640px] max-h-[80dvh] bg-white dark:bg-neutral-950 rounded-t-2xl border border-neutral-200 dark:border-neutral-800 p-4 overflow-auto transition-transform duration-300 z-[1001] ${t?"translate-y-0":"translate-y-full"}`,children:[b.jsxs("div",{className:"flex items-center justify-between mb-3",children:[b.jsx("h3",{className:"text-sm font-semibold text-neutral-900 dark:text-neutral-200",children:"명식 선택"}),b.jsx("button",{onClick:s,className:"text-neutral-500 hover:text-neutral-900 dark:text-neutral-400 dark:hover:text-white text-sm cursor-pointer",children:"닫기"})]}),b.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[b.jsx("input",{placeholder:"이름 검색",value:u,onChange:D=>d(D.target.value),className:"flex-1 px-3 py-2 rounded bg-white dark:bg-neutral-900 border border-neutral-300 dark:border-neutral-700 text-sm text-neutral-900 dark:text-neutral-100"}),!T&&b.jsx("span",{className:"text-[11px] text-neutral-500 dark:text-neutral-400 whitespace-nowrap",children:"검색 중엔 순서 변경 불가"})]}),b.jsx(qc,{onDragEnd:M,children:b.jsx(Io,{droppableId:"peopleList",children:D=>b.jsxs("ul",{ref:D.innerRef,...D.droppableProps,className:"flex flex-col gap-2 max-h-[60vh] overflow-y-auto",children:[S.map((A,z)=>{const H=String(Sc(A)),k=sh(A);return b.jsx(Xs,{draggableId:H,index:z,children:B=>b.jsx("li",{ref:B.innerRef,...B.draggableProps,...B.dragHandleProps,onClick:()=>a(A),className:"w-full text-left p-3 rounded border bg-white dark:bg-neutral-900 border-neutral-300 dark:border-neutral-800 cursor-grab select-none active:cursor-grabbing",children:b.jsxs("div",{className:"flex items-center gap-2",children:[b.jsx("span",{className:"mr-2 select-none",children:"☰"}),b.jsxs("div",{className:"flex-1 min-w-0",children:[b.jsx("div",{className:"text-neutral-900 dark:text-neutral-50 text-sm truncate",children:Pf(A)}),b.jsx("div",{className:"text-neutral-500 dark:text-neutral-400 text-xs",children:Dc(k)})]})]})})},H)}),D.placeholder]})})})]})]})}function K0({label:t,gzHour:r,gzDay:a,gzMonth:s,gzYear:u,dayStem:d,cardSettings:f,sinsalBaseBranch:p,sinsalMode:g,sinsalBloom:y}){const _=D=>{const A=f.showSibiUnseong?$n(d,D):"",z=f.showSibiSinsal?In({baseBranch:p,targetBranch:D,era:vC(g),gaehwa:!!y}):"";return{unseongText:A||void 0,shinsalText:z||void 0}},w=He(r).charAt(1),S=He(a).charAt(1),T=He(s).charAt(1),M=He(u).charAt(1);return b.jsxs("div",{className:"rounded-lg border bg-white dark:bg-neutral-900 border-neutral-200 dark:border-neutral-800 py-2 desk:p-2",children:[b.jsx("div",{className:"px-2 py-1 text-xs text-neutral-600 dark:text-neutral-300",children:t}),b.jsx("div",{className:"grid grid-cols-4 gap-1 text-neutral-900 dark:text-white",children:[["시주",He(r),w],["일주",He(a),S],["월주",He(s),T],["연주",He(u),M]].map(([D,A,z])=>{const{unseongText:H,shinsalText:k}=_(z);return b.jsx(Hs,{label:D,gz:A,dayStem:d,settings:Sr.getState().settings,unseongText:H,shinsalText:k,hideBranchSipSin:!0,size:"sm"},`${t}-${D}`)})})]})}function _C(t){if(!t)return"";const r=t,a=p=>typeof r[p]=="string"?String(r[p]).trim().toLowerCase():null,s=p=>typeof r[p]=="boolean"?r[p]:null,u=[a("gender"),a("sex"),a("genderType"),a("성별"),a("sexType"),a("g")].filter(p=>!!p);for(const p of u){if(["남","남자","male","m","boy","man"].includes(p))return"남";if(["여","여자","female","f","girl","woman"].includes(p))return"여"}const d=s("isMale"),f=s("isFemale");return d===!0?"남":f===!0?"여":""}function Rs({label:t,data:r,mode:a,effectiveDate:s,onPick:u}){const d=Sr(C=>C.settings),f=O.useMemo(()=>r?sh(r):null,[r]),p=He(f?Ur(f,"조자시/야자시"):void 0),g=He(f?ae(f,"조자시/야자시"):void 0),y=He(f?Se(f):void 0),_=He(f?oe(f):void 0),w=O.useMemo(()=>g.charAt(0)||"갑",[g]),S=f,T=O.useMemo(()=>{const C=r?.birthPlace;return!C||C.name==="모름"||!C.lon?127.5:C.lon},[r]),M=r?.mingSikType??"조자시/야자시",D=O.useMemo(()=>{const C=S?ae(S,M).charAt(1):g.charAt(1)||"子",q=S?oe(S,T).charAt(1):_.charAt(1)||"子";return(d.sinsalBase??"일지")==="일지"?C:q},[d.sinsalBase,S,M,T,g,_]),A=O.useMemo(()=>{if(a!=="묘운"||!f||!r)return null;try{const C=w2(f,p,r.dir,120,r.mingSikType),q=E2(C,g,r.dir,r.DayChangeRule),et=Fc(f,y,r.dir,120,r?.birthPlace?.lon??127.5),st=M2(et,_,r.dir,r.DayChangeRule,f),W=s;return{si:He(Wd(C.events,W)?.gz,p),il:He(Wd(q.events,W)?.gz,g),wl:He(Wd(et.events,W)?.gz,y),yn:He(Wd(st.events,W)?.gz,_)}}catch{return null}},[a,f,p,g,y,_,s,r]),z=O.useMemo(()=>{if(a!=="실시간")return null;const C=s;return{si:He(Ur(C,"조자시/야자시")),il:He(ae(C,"조자시/야자시")),wl:He(Se(C)),yn:He(oe(C))}},[a,s]),H=r?Pf(r):"",k=f?Dc(f):"",B=r?_C(r):"";return r?b.jsxs("div",{className:"space-y-2",children:[b.jsx("button",{onClick:u,className:"px-3 py-1 rounded text-xs bg-neutral-900 dark:bg-white text-white dark:text-neutral-900 border border-neutral-900 dark:border-white hover:opacity-90 cursor-pointer",title:"명식 바꾸기",children:"명식 선택"}),b.jsxs("div",{className:"text-[11px] text-neutral-600 dark:text-neutral-300",children:[b.jsx("span",{className:"font-semibold text-neutral-900 dark:text-neutral-200",children:t}),b.jsx("span",{className:"ml-2 text-neutral-900 dark:text-neutral-50",children:H}),B&&b.jsxs("span",{className:"ml-1 text-neutral-500 dark:text-neutral-400",children:["· ",B]}),k&&b.jsx("span",{className:"block desk:inline-block mt-1 text-neutral-500 dark:text-neutral-400 text-[10px]",children:k})]}),a==="원국"&&b.jsx(K0,{label:"원국",gzHour:p,gzDay:g,gzMonth:y,gzYear:_,dayStem:w,cardSettings:d,sinsalBaseBranch:D,sinsalMode:d.sinsalMode,sinsalBloom:!!d.sinsalBloom}),a==="묘운"&&A&&b.jsx(K0,{label:"묘운",gzHour:A.si,gzDay:A.il,gzMonth:A.wl,gzYear:A.yn,dayStem:w,cardSettings:d,sinsalBaseBranch:D,sinsalMode:d.sinsalMode,sinsalBloom:!!d.sinsalBloom}),a==="실시간"&&z&&b.jsx(K0,{label:"실시간",gzHour:z.si,gzDay:z.il,gzMonth:z.wl,gzYear:z.yn,dayStem:w,cardSettings:d,sinsalBaseBranch:D,sinsalMode:d.sinsalMode,sinsalBloom:!!d.sinsalBloom})]}):b.jsx("div",{className:"flex items-center justify-center h-48 rounded-lg border border-dashed bg-white dark:bg-neutral-900 border-neutral-300 dark:border-neutral-700",children:b.jsx("button",{onClick:u,className:"px-3 py-2 rounded bg-neutral-900 dark:bg-white text-white dark:text-neutral-900 text-sm hover:opacity-90 cursor-pointer",children:"명식 선택하기"})})}function SC({people:t=[]}){const[r,a]=O.useState(),[s,u]=O.useState(),[d,f]=O.useState(!1),[p,g]=O.useState(!1),y=O.useRef(new Date),[_,w]=O.useState(()=>pC(y.current)),S=O.useRef(N_(_)??y.current),T=O.useMemo(()=>{const k=N_(_);return k&&(S.current=k),S.current},[_]),[M,D]=O.useState(!1),[A,z]=O.useState(!1);function H(k){if(!k)return["甲子","甲子","甲子","甲子"];try{const B=sh(k),C={hour:He(Ur(B,"조자시/야자시")),day:He(ae(B,"조자시/야자시")),month:He(Se(B)),year:He(oe(B))};return[C.year,C.month,C.day,C.hour]}catch{return["甲子","甲子","甲子","甲子"]}}return b.jsxs(b.Fragment,{children:[b.jsxs("div",{className:"w-[96%] max-w-[640px] mx-auto bg-white dark:bg-neutral-950 text-neutral-900 dark:text-neutral-100 rounded-xl shadow border border-neutral-200 dark:border-neutral-800 px-2 py-4 desk:p-4",children:[b.jsxs("header",{className:"flex gap-3 justify-between items-center mb-4",children:[b.jsx("div",{className:"font-semibold text-sm text-neutral-900 dark:text-neutral-200",children:"궁합 보기"}),b.jsxs("div",{className:"flex items-center gap-4 text-xs text-neutral-600 dark:text-neutral-400",children:[b.jsxs("label",{className:"flex items-center gap-1 cursor-pointer",children:[b.jsx("input",{type:"checkbox",checked:d,onChange:k=>f(k.target.checked),className:"accent-indigo-500"}),"묘운 표시"]}),b.jsx("button",{onClick:()=>g(k=>!k),className:"px-2 py-1 rounded border border-neutral-300 dark:border-neutral-700 hover:border-indigo-500 text-neutral-700 dark:text-neutral-300 bg-white dark:bg-neutral-900 cursor-pointer",children:p?"실시간 간지 접기":"실시간 간지 펼치기"})]})]}),b.jsxs("div",{className:"grid grid-cols-2 gap-2 desk:gap-4",children:[b.jsx(Rs,{label:"원국 A",data:r,mode:"원국",effectiveDate:T,onPick:()=>D(!0)}),b.jsx(Rs,{label:"원국 B",data:s,mode:"원국",effectiveDate:T,onPick:()=>z(!0)}),d&&r&&b.jsx(Rs,{label:"묘운 A",data:r,mode:"묘운",effectiveDate:T,onPick:()=>D(!0)}),d&&s&&b.jsx(Rs,{label:"묘운 B",data:s,mode:"묘운",effectiveDate:T,onPick:()=>z(!0)}),p&&r&&b.jsx(Rs,{label:"실시간 A",data:r,mode:"실시간",effectiveDate:T,onPick:()=>D(!0)}),p&&s&&b.jsx(Rs,{label:"실시간 B",data:s,mode:"실시간",effectiveDate:T,onPick:()=>z(!0)})]}),r&&s&&b.jsx("div",{className:"mt-4",children:b.jsx(cC,{pillarsA:H(r),pillarsB:H(s)})}),b.jsxs("div",{className:"mt-4 max-w-[260px] mx-auto text-center",children:[b.jsx("label",{className:"min-w-0 block text-xs text-neutral-600 dark:text-neutral-400 mb-2",children:"날짜/시간 선택"}),b.jsx("input",{type:"datetime-local",value:_,onChange:k=>w(k.target.value),className:"min-w-0 bg-white dark:bg-neutral-900 border border-neutral-300 dark:border-neutral-700 rounded px-3 py-1 text-xs w-[260px] max-w-[260px] box-border overflow-x-hidden text-neutral-900 dark:text-neutral-100 h-30",min:"1900-01-01T00:00",max:"2100-12-31T23:59"})]})]}),b.jsx(A_,{open:M,list:t||[],onSelect:k=>{a(k),D(!1)},onClose:()=>D(!1)}),b.jsx(A_,{open:A,list:t||[],onSelect:k=>{u(k),z(!1)},onClose:()=>z(!1)})]})}function wC(){return b.jsx("footer",{className:"py-8 px-4 border-t border-neutral-200 dark:border-neutral-700 ",children:b.jsx("p",{className:"text-center text-[12px] text-orange-600 dark:text-orange-300",children:"Copyright © 2025 Hwarim96. All rights reserved."})})}function TC({ms:t}){const{date:r,setDate:a}=Zn();O.useEffect(()=>{a(new Date)},[t]);const s=Wp(t),u=O.useMemo(()=>{const p=r??new Date,g=p.getFullYear(),y=String(p.getMonth()+1).padStart(2,"0"),_=String(p.getDate()).padStart(2,"0");return`${g}-${y}-${_}`},[r]),d=p=>{if(!p)return;const[g,y,_]=p.split("-"),w=Number(g),S=Number(y),T=Number(_);if(!Number.isFinite(w)||!Number.isFinite(S)||!Number.isFinite(T))return;const M=r??new Date,D=M.getHours(),A=M.getMinutes(),z=new Date(w,S,0).getDate(),H=Math.min(T,z),k=new Date(w,S-1,H,D,A,0,0);Number.isNaN(k.getTime())||a(k)},f=O.useMemo(()=>{const p=t.ganji,g=s?.dae?.gz?`${s.dae.gz}대운`:null,y=s?.se?.gz?`${s.se.gz}세운`:null,_=s?.wol?.gz?`${s.wol.gz}월운`:null,w=[g,y,_].filter(Boolean).join(" ");return[p,w].filter(Boolean).join(" + ")},[t,s]);return b.jsxs("div",{className:"max-w-[640px] mx-auto mb-4 rounded-xl border border-neutral-200 dark:border-neutral-800 bg-white dark:bg-neutral-950 p-3 space-y-3",children:[f&&b.jsx("div",{className:"text-center text-sm font-medium text-neutral-800 dark:text-neutral-200",children:f}),b.jsx("div",{className:"grid grid-cols-1 gap-3",children:b.jsxs("label",{className:"w-full flex justify-center items-center",children:[b.jsx("span",{className:"text-sm text-neutral-500 mr-4",children:"날짜"}),b.jsx("input",{type:"date",value:u,onChange:p=>d(p.target.value),min:"1900-01-01",max:"2100-12-31",className:"w rounded-md border border-neutral-300 dark:border-neutral-700 bg-transparent px-2 py-1 text-sm"})]})})]})}const EC=["23:00–00:59","01:00–02:59","03:00–04:59","05:00–06:59","07:00–08:59","09:00–10:59","11:00–12:59","13:00–14:59","15:00–16:59","17:00–18:59","19:00–20:59","21:00–22:59"];function MC(t){const r=t.getFullYear(),a=String(t.getMonth()+1).padStart(2,"0"),s=String(t.getDate()).padStart(2,"0");return`${r}-${a}-${s}`}function Qd(t,r){return t&&r?`${t}${r}`:null}function D_(t){return!!(t.yearStem&&t.yearBranch&&t.monthStem&&t.monthBranch&&t.dayStem&&t.dayBranch&&t.hourStem&&t.hourBranch)}const NC={갑:0,을:1,병:2,정:3,무:4,기:5,경:6,신:7,임:8,계:9},AC=Hr.천간,DC=["인","묘","진","사","오","미","신","유","술","해","자","축"];function j_(t,r){let a;t==="갑"||t==="기"?a="병":t==="을"||t==="경"?a="무":t==="병"||t==="신"?a="경":t==="정"||t==="임"?a="임":a="갑";const s=NC[a],u=DC.indexOf(r),d=(s+(u>=0?u:0))%10;return AC[d]}const jC=Hr.지지.slice(),kC=["인","묘","진","사","오","미","신","유","술","해","자","축"];function Ps(t,r){const s=(r==="자시"?F_:_p)[t],u=r==="자시"?jC:kC,d=Hr.지지.reduce((f,p)=>(f[p]="",f),{});for(let f=0;f<12;f++)d[u[f]]=s[f];return d}const OC={갑:"양",을:"음",병:"양",정:"음",무:"양",기:"음",경:"양",신:"음",임:"양",계:"음"},CC={자:"양",축:"음",인:"양",묘:"음",진:"양",사:"음",오:"양",미:"음",신:"양",유:"음",술:"양",해:"음"};function LC({open:t,onClose:r,onSave:a}){const{settings:s}=Sr(),[u,d]=O.useState(null),[f,p]=O.useState({}),[g,y]=O.useState(null),[_,w]=O.useState(!0),[S,T]=O.useState(!0),[M,D]=O.useState("자시"),[A,z]=O.useState("male"),[H,k]=O.useState(null),[B,C]=O.useState(!1),[,q]=O.useState(null),[et,st]=O.useState(null),[W,Q]=O.useState({gender:"남자",mingSikType:"조자시/야자시",DayChangeRule:"자시일수론",calendarType:"solar"}),[F,G]=O.useState(!1),[tt,ht]=O.useState(null),it=xt=>{ht(xt),setTimeout(()=>ht(null),1800)},[Z,rt]=O.useState(!1),[ot,yt]=O.useState(!1);O.useEffect(()=>{if(Z){const xt=setTimeout(()=>rt(!1),2e3);return()=>clearTimeout(xt)}},[Z]),O.useEffect(()=>{if(ot){const xt=setTimeout(()=>yt(!1),2e3);return()=>clearTimeout(xt)}},[ot]);const j=()=>{const xt=et!==null?H?.filter((qr,Fn)=>Fn===et)??[]:[];if(xt.length===0){alert("선택된 항목이 없습니다.");return}const Rt=M==="자시"?"조자시/야자시":"인시",_t=xt[0],[de,Ie,we]=_t.date.split("-").map(Number),qt={자:{hh:0,mi:0},축:{hh:2,mi:0},인:{hh:4,mi:0},묘:{hh:6,mi:0},진:{hh:8,mi:0},사:{hh:10,mi:0},오:{hh:12,mi:0},미:{hh:14,mi:0},신:{hh:16,mi:0},유:{hh:18,mi:0},술:{hh:20,mi:0},해:{hh:22,mi:0}};let Oe=0,Be=0;if(_t.hourSlots.length>0){const qr=_t.hourSlots[0].branch,Fn=qt[qr];Fn&&(Oe=Fn.hh,Be=Fn.mi)}const en=new Date(de,Ie-1,we,Oe,Be),Re=new Date(en.getTime()-30*6e4),_i=Re.toLocaleTimeString("ko-KR",{hour:"2-digit",minute:"2-digit",hour12:!1}),ii=A==="male"?"남":"여";function ea(qr,Fn){const ll=["甲","丙","戊","庚","壬","갑","병","무","경","임"].includes(qr),eo=Fn==="남";return ll?eo?"forward":"backward":eo?"backward":"forward"}const Zr=ea(_t.year.charAt(0),ii),Yn=oe(Re,127.5),pn=Se(Re,127.5),Yr=ae(Re,Rt),qn=Ur(Re,Rt),sl=[`원국 : ${Yn}년 ${pn}월 ${Yr}일`,qn?`${qn}시`:null].filter(Boolean).join(" "),to={id:r1(),name:"커스텀명식",birthDay:`${de}${String(Ie).padStart(2,"0")}${String(we).padStart(2,"0")}`,birthTime:`${String(Oe).padStart(2,"0")}${String(Be).padStart(2,"0")}`,gender:ii,birthPlace:F?{name:"커스텀명식",lat:0,lon:127.5}:W.birthPlace??{name:"커스텀명식",lat:0,lon:127.5},relationship:W.relationship??"",memo:W.memo??"",folder:Ws(W.folder),mingSikType:W.mingSikType??"조자시/야자시",DayChangeRule:W.mingSikType==="인시"?"인시일수론":"자시일수론",calendarType:W.calendarType??"solar",yearGZ:_t.year,monthGZ:_t.month,dayGZ:_t.day,hourGZ:_t.hour,ganjiText:`원국 : ${_t.year}년 ${_t.month}월 ${_t.day}일 ${_t.hour}시`,ganji:sl,dayStem:_t.day.charAt(0),dateObj:en,corrected:Re,correctedLocal:_i,dir:Zr};Gc.flushSync(()=>{il.getState().add(to)}),a(to),ht("저장 완료!"),Q({gender:"남자",mingSikType:"조자시/야자시",calendarType:"solar"}),G(!1),r()},$=_||S,Y=!!(f.yearStem&&f.yearBranch),J=!!(f.dayStem&&f.dayBranch),V=!$||Y||J,I=!!g&&g.endsWith("Stem"),U=!!g&&g.endsWith("Branch");function dt(xt){return xt==="yearStem"?"yearBranch":xt==="yearBranch"?"yearStem":xt==="monthStem"?"monthBranch":xt==="monthBranch"?"monthStem":xt==="dayStem"?"dayBranch":xt==="dayBranch"?"dayStem":xt==="hourStem"?"hourBranch":"hourStem"}const gt=O.useCallback((xt,Rt)=>{if(!_||!xt.yearStem)return xt;const _t={...xt},de=_p[xt.yearStem];if(!de)return _t;const Ie=qt=>de.filter(Oe=>Oe.startsWith(qt)),we=qt=>de.find(Oe=>Oe.endsWith(qt));if(Rt==="monthStem"&&_t.monthStem){const qt=Ie(_t.monthStem).map(Oe=>Oe.slice(1));return qt.length>=2?(d(qt.slice(0,2)),y("monthBranch"),_t):(qt.length===1&&(_t.monthBranch=qt[0],d(null)),_t)}if(Rt==="monthBranch"&&_t.monthBranch){const qt=we(_t.monthBranch);return qt&&(_t.monthStem=qt.slice(0,1),d(null)),_t}if(Rt==="yearStem"){if(_t.monthStem&&!_t.monthBranch){const qt=Ie(_t.monthStem).map(Oe=>Oe.slice(1));if(qt.length>=2)return d(qt.slice(0,2)),y("monthBranch"),_t;qt.length===1&&(_t.monthBranch=qt[0])}else if(_t.monthBranch&&!_t.monthStem){const qt=we(_t.monthBranch);qt&&(_t.monthStem=qt.slice(0,1))}}return _t},[_,y]),Mt=O.useCallback((xt,Rt)=>{if(!S||!xt.dayStem)return xt;const _t={...xt},de=Ps(xt.dayStem,M),Ie=qt=>Object.entries(de).find(([,Oe])=>Oe.startsWith(qt)),we=qt=>de[qt];if(Rt==="hourStem"&&_t.hourStem){const qt=Ie(_t.hourStem);return qt&&(_t.hourBranch=qt[0]),_t}if(Rt==="hourBranch"&&_t.hourBranch){const qt=we(_t.hourBranch);return qt&&(_t.hourStem=qt.slice(0,1)),_t}if(Rt==="dayStem"){if(_t.hourStem&&!_t.hourBranch){const qt=Ie(_t.hourStem);qt&&(_t.hourBranch=qt[0])}else if(_t.hourBranch&&!_t.hourStem){const qt=we(_t.hourBranch);qt&&(_t.hourStem=qt.slice(0,1))}}return _t},[S,M]),Nt=O.useCallback(xt=>!_||!xt.yearStem?!1:xt.monthBranch&&xt.monthStem?j_(xt.yearStem,xt.monthBranch)!==xt.monthStem:!1,[_]),kt=O.useCallback(xt=>{if(!S||!xt.dayStem)return!1;if(xt.hourBranch&&xt.hourStem){const _t=Ps(xt.dayStem,M)[xt.hourBranch];return _t?_t.slice(0,1)!==xt.hourStem:!1}return!1},[S,M]);O.useEffect(()=>{if(!(!S||!f.dayStem||!f.hourBranch)&&(f.hourBranch==="자"||f.hourBranch==="축")){const Rt=Ps(f.dayStem,M)[f.hourBranch];Rt&&p(_t=>({..._t,hourStem:Rt.slice(0,1)}))}},[M,S,f.dayStem,f.hourBranch]);const Dt=O.useCallback(xt=>{if(!g)return;if(!V&&!(g==="yearStem"||g==="yearBranch"||g==="dayStem"||g==="dayBranch")){q("월/시두법 사용 중: 연주 또는 일주부터 입력하세요."),setTimeout(()=>q(null),1500);return}let _t={...f,[g]:xt};(g==="yearStem"||g==="monthStem"||g==="monthBranch")&&(_t=gt(_t,g)),(g==="dayStem"||g==="hourStem"||g==="hourBranch")&&(_t=Mt(_t,g)),p(_t);let de=!1;Nt(_t)&&(w(!1),de=!0),kt(_t)&&(T(!1),de=!0),de&&it("월/시두법에 맞지 않습니다. 체크가 해제 됩니다."),p(_t),k(null);const Ie=dt(g);y(Ie),setTimeout(()=>{const we={..._t};if(we.yearStem&&we.yearBranch&&!we.monthStem){y("monthStem");return}if(we.monthStem&&we.monthBranch&&!we.dayStem){y("dayStem");return}if(we.dayStem&&we.dayBranch&&!we.hourStem){y("hourStem");return}},0)},[g,f,V,gt,Mt,Nt,kt]),St=D_(f),Ot=O.useCallback(async()=>{if(k(null),q(null),!D_(f)){q("연·월·일·시 간지를 모두 선택하세요.");return}const xt=Qd(f.yearStem,f.yearBranch),Rt=Qd(f.monthStem,f.monthBranch),_t=Qd(f.dayStem,f.dayBranch),de=Qd(f.hourStem,f.hourBranch),Ie=300,we=[];C(!0);try{const qt=new Date(1900,0,1,12,0,0),Oe=new Date(2100,11,31,12,0,0);for(let Be=qt.getTime();Be<=Oe.getTime();Be+=24*3600*1e3){const en=new Date(Be),Re=M==="자시"?"조자시/야자시":"인시",_i=oe(en);if(_i!==xt)continue;const ii=Se(en);if(ii!==Rt)continue;const ea=ae(en,Re);if(ea!==_t)continue;const Zr=Ps(f.dayStem,M),Yn=[];for(let pn=0;pn<12;pn++){const Yr=Hr.지지[pn];Zr[Yr]===de&&Yn.push({branch:Yr,time:EC[pn]})}if(Yn.length!==0&&(we.push({date:MC(en),year:_i,month:ii,day:ea,hour:de,hourSlots:Yn}),we.length>=Ie))break}we.length===0&&q("일치하는 날짜가 없습니다. (범위: 1900–2100)"),k(we)}catch(qt){qt instanceof Error?q(qt.message):q(String(qt))}finally{C(!1)}},[f,M]),Ct=()=>{p({}),k(null),q(null),y(null)},Kt=xt=>{k(null),xt&&p(Rt=>{const _t={...Rt};return _t.yearStem&&_t.monthBranch&&(_t.monthStem=j_(_t.yearStem,_t.monthBranch)),_t}),w(xt)},It=xt=>{k(null),xt&&p(Rt=>{const _t={...Rt};if(_t.dayStem&&_t.hourBranch){const Ie=Ps(_t.dayStem,M)[_t.hourBranch];Ie&&(_t.hourStem=Ie.slice(0,1))}return _t}),T(xt)};if(!t)return null;const Wt=xt=>{if(k(null),D(xt),S&&f.dayStem&&f.hourBranch&&(f.hourBranch==="자"||f.hourBranch==="축")){const _t=Ps(f.dayStem,xt)[f.hourBranch];_t&&p(de=>({...de,hourStem:_t.slice(0,1)}))}};return b.jsx("div",{className:"fixed min-w-[320px] inset-0 z-[1000] flex items-center justify-center bg-black/50",children:b.jsxs("div",{className:"bg-white max-w-[360px] dark:bg-neutral-900 rounded-xl shadow-xl w-full max-w-5xl p-4 relative",children:[b.jsx("button",{onClick:r,className:"absolute top-3 right-3 text-neutral-500 hover:text-neutral-800 dark:hover:text-neutral-200 cursor-pointer","aria-label":"닫기",children:b.jsx(ng,{size:20})}),b.jsx("h2",{className:"text-lg font-semibold mb-4",children:"커스텀 명식 만들기"}),b.jsxs("div",{className:"flex flex-wrap items-center gap-6 mb-4",children:[b.jsxs("div",{children:[b.jsx("p",{className:"font-medium mb-2",children:"월/시두법"}),b.jsxs("span",{className:"mr-3 chkContainer",children:[b.jsx("input",{type:"checkbox",id:"useWoldu",checked:_,onChange:xt=>Kt(xt.target.checked)}),b.jsx("label",{htmlFor:"useWoldu",className:"ml-1",children:"월두법 사용"})]}),b.jsxs("span",{className:"chkContainer",children:[b.jsx("input",{type:"checkbox",id:"useSidu",checked:S,onChange:xt=>It(xt.target.checked)}),b.jsx("label",{htmlFor:"useSidu",className:"ml-1",children:"시두법 사용"})]})]}),b.jsxs("div",{children:[b.jsx("p",{className:"font-medium mb-2",children:"시간 기준"}),b.jsxs("span",{className:"mr-3 chkContainer",children:[b.jsx("input",{type:"radio",id:"jasi",checked:M==="자시",onChange:()=>Wt("자시")}),b.jsx("label",{htmlFor:"jasi",className:"ml-1",children:"자시"})]}),b.jsxs("span",{className:"chkContainer",children:[b.jsx("input",{type:"radio",id:"insi",checked:M==="인시",onChange:()=>Wt("인시")}),b.jsx("label",{htmlFor:"insi",className:"ml-1",children:"인시"})]})]}),b.jsxs("div",{children:[b.jsx("p",{className:"font-medium mb-2",children:"성별"}),b.jsxs("span",{className:"mr-3 chkContainer",children:[b.jsx("input",{type:"radio",id:"male",checked:A==="male",onChange:()=>z("male")}),b.jsx("label",{htmlFor:"male",className:"ml-1",children:"남"})]}),b.jsxs("span",{className:"chkContainer",children:[b.jsx("input",{type:"radio",id:"female",checked:A==="female",onChange:()=>z("female")}),b.jsx("label",{htmlFor:"female",className:"ml-1",children:"여"})]})]})]}),$&&!V&&b.jsxs("div",{className:"mb-3 text-sm text-orange-700 bg-orange-50 dark:text-orange-300 dark:bg-orange-900/30 rounded p-2 text-center",children:["월/시두법 사용 중입니다. ",b.jsx("br",{}),b.jsx("b",{children:"연주"})," 또는 ",b.jsx("b",{children:"일주"}),"부터 먼저 입력하세요."]}),b.jsx("div",{className:"grid grid-cols-4 gap-2 mb-4",children:[["hourStem","시간"],["dayStem","일간"],["monthStem","월간"],["yearStem","연간"],["hourBranch","시지"],["dayBranch","일지"],["monthBranch","월지"],["yearBranch","연지"]].map(([xt,Rt])=>{const _t=!V&&!(xt==="yearStem"||xt==="yearBranch"||xt==="dayStem"||xt==="dayBranch"),de=g===xt;return b.jsxs("button",{onClick:()=>!_t&&y(xt),disabled:_t,className:["border rounded p-2 text-center cursor-pointer",de?"border-purple-500 bg-purple-100 dark:bg-purple-900/30":"border-neutral-300 dark:border-neutral-700",_t?"opacity-50 cursor-not-allowed":""].join(" "),children:[Rt,b.jsx("br",{}),b.jsx("span",{className:"font-bold",children:f[xt]??"-"})]},xt)})}),u&&u.length>0&&b.jsxs("div",{className:"mb-3",children:[b.jsx("p",{className:"text-sm mb-1",children:"월지 후보를 선택하세요:"}),b.jsx("div",{className:"flex gap-2",children:u.map(xt=>b.jsx("button",{onClick:()=>{let Rt={...f,monthBranch:xt};d(null),Rt=gt(Rt,"monthBranch"),p(Rt),y("dayStem")},className:"flex-1 px-2 py-1 border rounded hover:bg-orange-100 dark:hover:bg-orange-800 cursor-pointer",children:xt},xt))})]}),b.jsx("div",{className:"flex w-full flex-wrap gap-6 mb-4",children:g?b.jsxs("div",{className:"w-full",children:[I&&b.jsxs("div",{children:[b.jsx("p",{className:"font-medium mb-2",children:"천간"}),b.jsx("div",{className:"grid grid-cols-5 gap-2",children:Hr.천간.map(xt=>b.jsx("button",{onClick:()=>Dt(xt),className:`border rounded px-2 py-1 cursor-pointer ${xr(xt,"stem",s)}`,children:xt},xt))})]}),U&&b.jsxs("div",{children:[b.jsx("p",{className:"font-medium mb-2",children:"지지"}),b.jsx("div",{className:"grid grid-cols-6 gap-2",children:Hr.지지.filter(xt=>{const Rt=dt(g),_t=f[Rt];return _t?CC[xt]===OC[_t]:!0}).map(xt=>b.jsx("button",{onClick:()=>Dt(xt),className:`border rounded px-2 py-1 cursor-pointer ${xr(xt,"branch",s)}`,children:xt},xt))})]})]}):b.jsx("div",{className:"text-sm text-neutral-500 p-2 border rounded w-full text-center",children:"간지를 넣고 싶은 자리부터 클릭하세요."})}),b.jsxs("div",{className:"flex justify-between items-center gap-3 mb-4",children:[b.jsx("span",{children:b.jsx("button",{type:"button",onClick:()=>{if(!St){rt(!0);return}Ot()},disabled:B,className:"px-2 py-1 rounded-md bg-blue-600 text-white disabled:opacity-50 cursor-pointer",children:B?"검색 중...":"검색"})}),b.jsxs("span",{className:"flex items-center gap-2",children:[b.jsx("button",{type:"button",onClick:Ct,className:"px-2 py-1 rounded-md bg-red-600 border border-neutral-300 dark:border-neutral-700 cursor-pointer",children:"초기화"}),b.jsx("button",{type:"button",onClick:()=>{if((et!==null?H?.filter((Rt,_t)=>_t===et)??[]:[]).length===0){yt(!0);return}j()},className:"px-2 py-1 rounded-md border bg-yellow-600 border-neutral-300 dark:border-neutral-700 cursor-pointer",children:"저장하기"})]})]}),b.jsx("div",{className:"max-h-[40vh] overflow-auto rounded border border-neutral-200 dark:border-neutral-800",children:H?H.length===0?b.jsx("div",{className:"p-4 text-neutral-500",children:"일치하는 날짜가 없습니다."}):b.jsxs("table",{className:"w-full text-xs",children:[b.jsx("thead",{className:"sticky top-0 bg-neutral-50 dark:bg-neutral-800",children:b.jsxs("tr",{children:[b.jsx("th",{className:"p-1 text-center",children:"선택"}),b.jsx("th",{className:"p-1 text-center",children:"날짜"}),b.jsx("th",{className:"p-1 text-center",children:"연"}),b.jsx("th",{className:"p-1 text-center",children:"월"}),b.jsx("th",{className:"p-1 text-center",children:"일"}),b.jsx("th",{className:"p-1 text-center",children:"시"}),b.jsx("th",{className:"p-1 text-center",children:"성별"})]})}),b.jsx("tbody",{children:H.map((xt,Rt)=>b.jsxs("tr",{className:"border-t border-neutral-200 dark:border-neutral-800",children:[b.jsx("td",{className:"p-1 text-center",children:b.jsxs("span",{className:"chkContainer",children:[b.jsx("input",{type:"radio",name:"selectRow",id:`selectRow-${Rt}`,checked:et===Rt,onChange:()=>st(Rt)}),b.jsx("label",{htmlFor:`selectRow-${Rt}`,children:"ON"})]})}),b.jsx("td",{className:"p-1 text-center",children:xt.date}),b.jsx("td",{className:"p-1 text-center",children:xt.year}),b.jsx("td",{className:"p-1 text-center",children:xt.month}),b.jsx("td",{className:"p-1 text-center",children:xt.day}),b.jsx("td",{className:"p-1 text-center",children:b.jsx("div",{className:"flex flex-wrap gap-1",children:xt.hourSlots.map((_t,de)=>b.jsx("span",{className:"inline-flex items-center mx-auto gap-1 px-1 py-0.5 rounded bg-neutral-100 dark:bg-neutral-800 border border-neutral-200 dark:border-neutral-700",children:b.jsx("b",{children:_t.branch})},de))})}),b.jsx("td",{className:"p-1 text-center",children:A==="male"?"남":"여"})]},`${xt.date}-${Rt}`))})]}):b.jsx("div",{className:"p-2 text-neutral-500 text-sm text-center",children:"조건을 입력하고 “검색”을 눌러주세요."})}),tt&&b.jsx("div",{className:"pointer-events-none fixed left-1/2 -translate-x-1/2 top-6 z-[1100] border border-white/30",children:b.jsx("div",{className:"px-4 py-2 rounded-md bg-black/80 text-white text-sm shadow-lg",children:tt})}),Z&&b.jsx("div",{className:"fixed inset-0 flex items-center justify-center z-[2000]",children:b.jsx("div",{className:"bg-black text-white px-4 py-2 rounded-lg shadow-lg",children:"연·월·일·시 4간지를 모두 채워주세요."})}),ot&&b.jsx("div",{className:"fixed inset-0 flex items-center justify-center z-[2000]",children:b.jsxs("div",{className:"bg-black text-white px-4 py-2 rounded-lg shadow-lg text-center",children:["선택항목이 없습니다.",b.jsx("br",{}),"검색한 뒤, 체크박스로 선택하세요."]})})]})})}const BC=Uc(t=>({shinsalBase:"일지",shinsalEra:"현대",shinsalGaehwa:!1,hiddenStemMode:"hgc",setShinsalBase:r=>t({shinsalBase:r}),setShinsalEra:r=>t({shinsalEra:r}),setShinsalGaehwa:r=>t({shinsalGaehwa:r}),setHiddenStemMode:r=>t({hiddenStemMode:r})}));function zf(t){if(!t)return["","","",""];let r=Number(t.birthDay?.slice(0,4)??2e3),a=Number(t.birthDay?.slice(4,6)??1),s=Number(t.birthDay?.slice(6,8)??1);if(t.calendarType==="lunar"){const k=Ir(r,a,s);r=k.getFullYear(),a=k.getMonth()+1,s=k.getDate()}const u=!t.birthTime||t.birthTime==="모름",d=u?4:Number(t.birthTime.slice(0,2)),f=u?30:Number(t.birthTime.slice(2,4)),p=new Date(r,a-1,s,d,f,0,0),g=!t.birthPlace||t.birthPlace.name==="모름"||!t.birthPlace.lon?127.5:t.birthPlace.lon,y=Zo(p,g,u),_=t.mingSikType??"조자시/야자시",w=oe(y,g),S=Se(y,g),T=ae(y,_),M=u?null:Ur(y,_),D=Ut(w),A=Ut(S),z=Ut(T),H=M?Ut(M):"";return[D,A,z,H]}function RC(t){const r=new Date(t.corrected),a=zf(t),s=a[0].charAt(0),d=["갑","병","무","경","임"].includes(s),f=t.gender==="남자",p=f&&d||!f&&!d?"forward":"backward",g=Fc(r,a[1],p,120,t.birthPlace?.lon??127.5),y=g.firstChange;if(!y)return[];const _=[];let w=Ut(g.events[0]?.gz??a[1]);for(let S=0;S<10;S++){const T=new Date(y);if(T.setFullYear(T.getFullYear()+S*10),S>0){const M=g.events[S];M&&(w=Ut(M.gz))}_.push(`${T.getFullYear()}년 ${String(T.getMonth()+1).padStart(2,"0")}월 ${w} 대운 시작`)}return _}function PC(t,r){return t[3]&&t[3]!==""?["연","월","일",!r.birthTime||r.birthTime==="모름"?"시(예측)":"시"]:["연","월","일"]}const Jd={甲:"갑",乙:"을",丙:"병",丁:"정",戊:"무",己:"기",庚:"경",辛:"신",壬:"임",癸:"계"},tf={子:"자",丑:"축",寅:"인",卯:"묘",辰:"진",巳:"사",午:"오",未:"미",申:"신",酉:"유",戌:"술",亥:"해"},Hf={갑:"목",을:"목",병:"화",정:"화",무:"토",기:"토",경:"금",신:"금",임:"수",계:"수"},ef={자:"계",축:"기",인:"갑",묘:"을",진:"무",사:"병",오:"정",미:"기",신:"경",유:"신",술:"무",해:"임",子:"계",丑:"기",寅:"갑",卯:"을",辰:"무",巳:"병",午:"정",未:"기",申:"경",酉:"신",戌:"무",亥:"임"},zC=["갑","병","무","경","임"];function k_(t){return zC.includes(t)}const HC={목:"화",화:"토",토:"금",금:"수",수:"목"},$C={목:"토",화:"금",토:"수",금:"목",수:"화"},IC={토:"목",금:"화",수:"토",목:"금",화:"수"},UC={화:"목",토:"화",금:"토",수:"금",목:"수"};function yS(t){const r={};for(const[a,s]of Object.entries(t))if(Array.isArray(s))s.length>0&&(r[a]=s);else if(typeof s=="object"&&s!==null){const u=yS(s);Object.keys(u).length>0&&(r[a]=u)}else s!=null&&s!==""&&(r[a]=s);return r}function GC(t){return JSON.stringify(t,null,2).replace(/\[\s+/g,"[").replace(/\s+\]/g,"]").replace(/\s*,\s*/g,",")}function Rr(t,r){if(r==null||r==="")return"";const a=typeof r=="object"?GC(yS(r)):String(r);return`## ${t}
${a}`}function bp(t){if(!t)return null;const r=t.trim();if(["갑","을","병","정","무","기","경","신","임","계"].includes(r))return r;if(Jd[r])return Jd[r];if(["자","축","인","묘","진","사","오","미","신","유","술","해"].includes(r))return ef[r]??null;if(tf[r])return ef[tf[r]]??null;const a=r.charAt(0);return Jd[a]?Jd[a]:["갑","을","병","정","무","기","경","신","임","계"].includes(a)?a:tf[a]?ef[tf[a]]??null:["자","축","인","묘","진","사","오","미","신","유","술","해"].includes(a)?ef[a]??null:null}function ZC(t,r){const a=Hf[t],s=Hf[r];if(!a||!s)return"비견";let u;s===a?u="비견":s===HC[a]?u="식신":s===$C[a]?u="편재":s===IC[a]?u="편관":s===UC[a]?u="편인":u="비견";const d=k_(t)===k_(r);switch(u){case"비견":return d?"비견":"겁재";case"식신":return d?"식신":"상관";case"편재":return d?"편재":"정재";case"편관":return d?"편관":"정관";case"편인":return d?"편인":"정인"}}function vS(t){const r=Object.entries(t),a=r.reduce((y,[,_])=>y+(_>0?_:0),0);if(a<=0)return Object.fromEntries(r.map(([y])=>[y,0]));const s=r.map(([y,_])=>[y,(_>0?_:0)*100/a]),u=s.map(([y,_])=>[y,Math.floor(_)]);let d=u.reduce((y,[,_])=>y+_,0);const f=s.map(([y,_])=>[y,_-Math.floor(_)]).sort((y,_)=>_[1]-y[1]),p=Object.fromEntries(u.map(([y,_])=>[y,_]));let g=0;for(;d<100&&g<f.length;)p[f[g][0]]+=1,d+=1,g+=1;return p}function YC(t){const r={};for(const[a,s]of Object.entries(t??{})){if(s<=0)continue;const u=bp(a);u&&(r[u]=(r[u]??0)+s)}return r}function qC(t){if(!t)return[];const r=bp(t.charAt(0)),a=bp(t.charAt(1));return[r,a].filter(Boolean)}function nf(t){const r=qC(t),a={};for(const s of r)a[s]=(a[s]??0)+1;return a}const FC={natal:50,dae:30,se:20,wol:7,il:3};function VC(t){const r={};for(const{kind:s,bare:u}of t){const d=FC[s]??0;if(d<=0)continue;const f=vS(u);for(const[p,g]of Object.entries(f))r[p]=(r[p]??0)+g*d}const a=Object.values(r).reduce((s,u)=>s+u,0);if(a>0)for(const s of Object.keys(r))r[s]=r[s]/a*100;return r}function KC(t,r){const a={목:0,화:0,토:0,금:0,수:0};for(const[s,u]of Object.entries(t)){const d=r[s];d&&(a[d]+=u)}return a}function XC(t,r){const a={비견:0,겁재:0,식신:0,상관:0,정재:0,편재:0,정관:0,편관:0,정인:0,편인:0};for(const[s,u]of Object.entries(t)){if(u<=0)continue;const d=ZC(r,s);a[d]+=u}return a}function WC(t){return{비겁:t.비견+t.겁재,식상:t.식신+t.상관,재성:t.정재+t.편재,관성:t.정관+t.편관,인성:t.정인+t.편인}}function QC(t,r,a){const s=YC(t.perStemElementScaled),u=r!=="원국"&&a?.dae?nf(a.dae):{},d=(r==="세운"||r==="월운"||r==="일운")&&a?.se?nf(a.se):{},f=(r==="월운"||r==="일운")&&a?.wol?nf(a.wol):{},p=r==="일운"&&a?.il?nf(a.il):{},g=VC([{kind:"natal",bare:s},{kind:"dae",bare:u},{kind:"se",bare:d},{kind:"wol",bare:f},{kind:"il",bare:p}]),y=vS(g),_=KC(y,Hf),w=XC(y,t.dayStem),S=WC(w);return{perStemAugBare:y,elementPercent:_,totalsSub:w,totalsMain:S}}function O_(t,r){const a={목:"화",화:"토",토:"금",금:"수",수:"목"},s={목:"토",화:"금",토:"수",금:"목",수:"화"},u={토:"목",금:"화",수:"토",목:"금",화:"수"},d={화:"목",토:"화",금:"토",수:"금",목:"수"};return r===t?"비겁":r===a[t]?"식상":r===s[t]?"재성":r===u[t]?"관성":r===d[t]?"인성":""}function JC(t){const{ms:r,natal:a,chain:s,basis:u,tab:d,unified:f,percent:p,category:g}=t,y=[Ut(a[0]??""),Ut(a[1]??""),Ut(a[2]??""),Ut(a[3]??"")],_=RC(r).slice(0,10),w=zs({natal:y,daewoon:d!=="원국"?s?.dae??void 0:void 0,sewoon:d==="세운"||d==="월운"||d==="일운"?s?.se??void 0:void 0,wolwoon:d==="월운"||d==="일운"?s?.wol??void 0:void 0,ilwoon:d==="일운"?s?.il??void 0:void 0}),S=Ec({natal:y,daewoon:d!=="원국"?s?.dae??void 0:void 0,sewoon:d==="세운"||d==="월운"||d==="일운"?s?.se??void 0:void 0,wolwoon:d==="월운"||d==="일운"?s?.wol??void 0:void 0,ilwoon:d==="일운"?s?.il??void 0:void 0}),{shinsalEra:T,shinsalGaehwa:M,shinsalBase:D}=BC.getState(),A=D==="연지"?y[0]?.charAt(1)??"":y[2]?.charAt(1)??"",z=QC(f,d,s),H=z.elementPercent,k=z.totalsSub,{flags:B}=m4(y,f.elementScoreRaw),C=`${g} (${p.toFixed(1)}%) · ${[`득령 ${B.비견.령||B.겁재.령||B.편인.령||B.정인.령?"인정":"불인정"}`,`득지 ${B.비견.지||B.겁재.지||B.편인.지||B.정인.지?"인정":"불인정"}`,`득세 ${B.비견.세||B.겁재.세?"인정":"불인정"}`].join(", ")}`,q=!r.birthTime||r.birthTime==="모름";function et(it){const Z=it.birthDay??"",rt=Z.slice(0,4),ot=Z.slice(4,6),yt=Z.slice(6,8);let j="";if(it.corrected instanceof Date&&!isNaN(it.corrected.getTime())){const $=String(it.corrected.getHours()).padStart(2,"0"),Y=String(it.corrected.getMinutes()).padStart(2,"0");j=q?"모름":`${$}:${Y}`}return`${rt}년 ${ot}월 ${yt}일 보정시 ${j}`}function st(it,Z){if(!Z)return"(없음)";const rt=[];return(it==="대운"||it==="세운"||it==="월운"||it==="일운")&&Z.dae&&rt.push(`대운:${Ut(Z.dae)}`),(it==="세운"||it==="월운"||it==="일운")&&Z.se&&rt.push(`세운:${Ut(Z.se)}`),(it==="월운"||it==="일운")&&Z.wol&&rt.push(`월운:${Ut(Z.wol)}`),it==="일운"&&Z.il&&rt.push(`일운:${Ut(Z.il)}`),rt.length>0?rt.join(" / "):"(없음)"}const W=PC(y,r),Q=f.dayStem,F=Hf[Q],G=[`📌 명식: ${r.name??"이름없음"} (${et(r)}) 성별: ${r.gender}`,`원국 ${y[0]}년 ${y[1]}월 ${y[2]}일`+(y[3]?` ${y[3]}시${!r.birthTime||r.birthTime==="모름"?"(시주예측)":""}`:""),`운: ${st(d,s)}`].join(`
`),tt=[Rr("대운 리스트 (10개)",_),Rr("신강도",C),Rr("오행강약(퍼센트·원국 기준 고정)",Object.fromEntries(Object.entries(f.natalFixed.elementPercent100).map(([it,Z])=>[`${it}(${O_(F,it)})`,Z]))),d==="원국"?"오행강약(퍼센트 운 없음)":Rr(`오행강약(퍼센트·탭=${d})`,Object.fromEntries(Object.entries(H).map(([it,Z])=>[`${it}(${O_(F,it)})`,Z]))),Rr("십신 강약(소분류 10개·탭=원국·합계 100)",f.natalFixed.totalsSub),d==="원국"?"십신 강약(소분류 10개 운 없음)":Rr(`십신 강약(소분류 10개·탭=${d}·합계 100)`,k),Rr("십이운성(원국+운 반영)",d==="원국"?y.map((it,Z)=>!it||Z>=W.length?null:{pos:W[Z],gz:it,unseong:$n(y[2]?.charAt(0)??"",it.charAt(1))}).filter(Boolean):[...y.map((it,Z)=>!it||Z>=W.length?null:{pos:W[Z],gz:it,unseong:$n(y[2]?.charAt(0)??"",it.charAt(1))}).filter(Boolean),...s?.dae?[{pos:"대운",gz:s.dae,unseong:$n(y[2]?.charAt(0)??"",s.dae.charAt(1))}]:[],...(d==="세운"||d==="월운"||d==="일운")&&s?.se?[{pos:"세운",gz:s.se,unseong:$n(y[2]?.charAt(0)??"",s.se.charAt(1))}]:[],...(d==="월운"||d==="일운")&&s?.wol?[{pos:"월운",gz:s.wol,unseong:$n(y[2]?.charAt(0)??"",s.wol.charAt(1))}]:[],...d==="일운"&&s?.il?[{pos:"일운",gz:s.il,unseong:$n(y[2]?.charAt(0)??"",s.il.charAt(1))}]:[]].filter(Boolean)),Rr("십이신살(원국+운 반영·설정 적용)",d==="원국"?y.map((it,Z)=>!it||Z>=W.length?null:{pos:W[Z],gz:it,shinsal:In({baseBranch:A,targetBranch:it.charAt(1),era:T,gaehwa:M})}).filter(Boolean):[y.map((it,Z)=>!it||Z>=W.length?null:{pos:W[Z],gz:it,shinsal:In({baseBranch:A,targetBranch:it.charAt(1),era:T,gaehwa:M})}).filter(Boolean),...s?.dae?[{pos:"대운",gz:s.dae,shinsal:In({baseBranch:A,targetBranch:s.dae.charAt(1),era:T,gaehwa:M})}]:[],...(d==="세운"||d==="월운"||d==="일운")&&s?.se?[{pos:"세운",gz:s.se,shinsal:In({baseBranch:A,targetBranch:s.se.charAt(1),era:T,gaehwa:M})}]:[],...(d==="월운"||d==="일운")&&s?.wol?[{pos:"월운",gz:s.wol,shinsal:In({baseBranch:A,targetBranch:s.wol.charAt(1),era:T,gaehwa:M})}]:[],...d==="일운"&&s?.il?[{pos:"일운",gz:s.il,shinsal:In({baseBranch:A,targetBranch:s.il.charAt(1),era:T,gaehwa:M})}]:[]].filter(Boolean)),Rr("형충회합(원국)",U2(y.filter((it,Z)=>Z<W.length))),Rr("형충회합(운 포함: 탭 연동)",w),d==="원국"?Rr("신살(원국 전용)",{good:Ec({natal:y,daewoon:null,sewoon:null,wolwoon:null,ilwoon:null,basis:u}).good,bad:Ec({natal:y,daewoon:null,sewoon:null,wolwoon:null,ilwoon:null,basis:u}).bad,meta:Ec({natal:y,daewoon:null,sewoon:null,wolwoon:null,ilwoon:null,basis:u}).meta}):Rr(`신살(운 포함·탭=${d})`,S)].join(`

`),ht=[`
너는 명리학 전문 해석가다.  
모든 출력은 한국어로 작성한다.  
AI 특유의 친절함, 긍정적인면은 리셋시킨다.
말투는 따뜻하게 하지만, 냉철한 분석가 모드로 얘기하라.
문체는 ‘전문적이지만 이해하기 쉬운 분석체’로, 감정적인 미화나 추상적 표현은 절대 사용하지 않는다.  
“당신은 빛나는 존재입니다” “운명이 이끄는 대로” 같은 감성 문장, 불필요한 위로나 칭찬은 금지한다.  
그 대신 현실적인 비유와 일상적 예시를 사용한다. (예: “체력은 부족한데 해야 할 일은 많은 사람처럼…” “주변 사람 문제까지 자주 대신 떠안는 구조예요.”)  
모든 문장은 '~예요, ~해요' 체로 끝낸다.  
분석은 **논리적 근거(오행 비율, 신강도, 형충회합, 신살)**를 중심으로 한다.  
비유는 반드시 설명을 명확하게 돕는 경우에만 쓴다.  
각 문단은 ‘관찰 → 구체적 예시 → 결론 요약’의 구조를 따른다.  
마크다운, 리스트, 제목 표시는 사용하지 않는다.  
전체 분량은 최소 4000~5000자 이상으로, 충분히 깊고 구체적으로 서술한다.  

출력은 반드시 다음 6단계 순서로 구성한다.

1단계: 전체적인 큰 흐름  
- 첫 문장은 “그러면, ~님의 사주를 차근히 분석해볼게요.”로 시작한다.  
- 사주의 가장 눈에 띄는 특징 1~2가지를 제시하고, 그것이 실제 성향이나 행동으로 어떻게 드러나는지 현실적인 예시로 설명한다.  
- 감정 표현 없이 객관적이고 논리적인 서술로 성격과 기본 경향을 묘사한다.  

2단계: 오행 강약과 각 요소의 역할  
- 오행 비율과 신강도를 명시하고, 각 기운이 성격·사고·생활 패턴에 미치는 영향을 구체적으로 설명한다.  
- 과잉/부족으로 생길 수 있는 실제 문제를 현실적으로 제시한다.  
- 예: “수 기운이 많으면 생각이 많아지고, 실행이 느려집니다.”  

3단계: 형충회합  
- 충, 합, 형, 해 등을 심리적·행동적 작용 중심으로 해석한다.  
- 예: “충이 있으면 감정 기복이 크고, 관계에서 쉽게 오해가 생깁니다.”  
- ‘운명적 대립’ 같은 표현은 금지하고, 현실적인 관계나 상황으로 풀어낸다.  

4단계: 십이운성과 십이신살  
- 십이운성은 에너지의 ‘활성/쇠퇴’ 단계로 설명한다.  
- 예: “사 단계면 이미 기운이 빠져 실제로 무기력하거나 피로를 잘 느낍니다.”  
- 십이신살은 행동패턴과 연결해 현실적으로 해석한다.  
- 예: “장성살이 많으면 책임감이 강하지만 부담을 크게 느낍니다.”  

5단계: 주요 신살 해석  
- 의미 있는 신살 3~5개를 선정해 각각 장단점을 함께 설명한다.  
- 예: “귀문살은 감정선이 예민하지만 통찰력이 높습니다.”  
- 실제 생활 패턴과 연결해서 해석한다.  

6단계: 종합 운세  
- 현재 대운·세운이 실제로 어떤 영향을 주는지 설명한다.  
- 추상적 ‘좋다/나쁘다’ 대신 구체적인 상황과 태도로 조언한다.  
- 예: “표현력이 늘지만 체력이 약하면 금세 지칠 수 있으니, 페이스 조절이 필요합니다.”  

마지막 단계: 전체적인 종합 정리  
- 3문장으로 요약하며 다음 순서로 마무리한다.  
  1) 성격적 핵심 요약  
  2) 현재 과제나 문제의식  
  3) 현실적인 조언  

출력은 사람의 자연스러운 설명체로 쓰되, 항상 전문적 근거를 유지한다.  
불필요한 감탄사, 주관적 감정어, 추상적 운명론은 절대 포함하지 않는다.

문장은 지나치게 학술적으로 쓰지 말고, 실제 사람의 말투처럼 자연스럽게 이어지게 하세요.
  `].join(`
`);return[G,tt,ht].join(`

`)}function t6({date:t,onChange:r,min:a="1900-01-01",max:s="2100-12-31"}){const u=O.useMemo(()=>{const f=t.getFullYear(),p=String(t.getMonth()+1).padStart(2,"0"),g=String(t.getDate()).padStart(2,"0");return`${f}-${p}-${g}`},[t]),d=f=>{if(!f)return;const[p,g,y]=f.split("-"),_=Number(p),w=Number(g),S=Number(y),T=t.getHours(),M=t.getMinutes(),D=new Date(_,w,0).getDate(),A=Math.min(S,D),z=new Date(_,w-1,A,T,M);Number.isNaN(z.getTime())||r(z)};return b.jsx("input",{type:"date",value:u,onChange:f=>d(f.target.value),min:a,max:s,className:"w rounded-md border border-neutral-300 dark:border-neutral-700 bg-transparent px-2 py-1 text-sm"})}const e6=["원국","대운","세운","월운","일운"],xS={甲:"갑",乙:"을",丙:"병",丁:"정",戊:"무",己:"기",庚:"경",辛:"신",壬:"임",癸:"계"},_S={子:"자",丑:"축",寅:"인",卯:"묘",辰:"진",巳:"사",午:"오",未:"미",申:"신",酉:"유",戌:"술",亥:"해"};function X0(t){if(!t)return"";const r=t.replace(/[()[\]{}]/g,"").replace(/\s+/g,"").replace(/[년월일시年月日時干支柱:\-_.]/g,""),a=r.match(/([갑을병정무기경신임계]).*?([자축인묘진사오미신유술해])/);if(a)return`${a[1]}${a[2]}`;const s=r.match(/([甲乙丙丁戊己庚辛壬癸]).*?([子丑寅卯辰巳午未申酉戌亥])/);if(s){const u=xS[s[1]],d=_S[s[2]];return u&&d?`${u}${d}`:""}return""}function C_(t){return t[0]?.length===2&&t[1]?.length===2&&t[2]?.length===2}function L_(t){const r=Array.isArray(t)?t.slice(0,4):[];for(;r.length<4;)r.push("");return r.map((a,s)=>{if(!a)return"";const u=a.replace(/[()[\]{}]/g,"").replace(/\s+/g,"").replace(/[년월일시年月日時干支柱:\-_.]/g,""),d=u.match(/([갑을병정무기경신임계]).*?([자축인묘진사오미신유술해])/);if(d)return`${d[1]}${d[2]}`;const f=u.match(/([甲乙丙丁戊己庚辛壬癸]).*?([子丑寅卯辰巳午未申酉戌亥])/);return f?`${xS[f[1]]}${_S[f[2]]}`:s<=2?"--":""})}function n6({ms:t,natal:r,chain:a,basis:s,lunarPillars:u,includeTenGod:d=!1}){const{date:f,setDate:p}=Zn(),[g,y]=O.useState("원국"),{yearGZ:_,monthGZ:w,dayGZ:S}=Zn(),T=O.useMemo(()=>({dae:a?.dae??null,se:a?.se??(_?Ut(_):null),wol:a?.wol??(w?Ut(w):null),il:a?.il??(S?Ut(S):null)}),[a,_,w,S]),{manualHour:M}=qs(),D=t.mingSikType??"조자시/야자시",A=O.useMemo(()=>L_(r),[r]),z=O.useMemo(()=>L_(u),[u]),H=O.useMemo(()=>{const Y=[...A];return(!Y[3]||Y[3]==="")&&M&&(Y[3]=M.stem+M.branch),Y},[A,M]),k=O.useMemo(()=>{const Y=[...z];return(!Y[3]||Y[3]==="")&&M&&(Y[3]=M.stem+M.branch),Y},[z,M]),B=O.useMemo(()=>{const Y=Number(t.birthDay?.slice(0,4)),J=Number(t.birthDay?.slice(4,6)),V=Number(t.birthDay?.slice(6,8));if(!Number.isFinite(Y)||!Number.isFinite(J)||!Number.isFinite(V))return null;const I=new Date(Y,J-1,V,12,0,0,0),U=X0(oe(I)||""),dt=X0(Se(I)||""),gt=X0(ae(I,D)||"");return[U,dt,gt,""]},[t.birthDay,D]),C=C_(H),q=C_(k),[et]=O.useState("solar"),st=et==="lunar"?q?"lunar":C?"solar":"lunar":C?"solar":q?"lunar":"solar",W=O.useMemo(()=>{const J=[...st==="lunar"?q?k:C?H:B??["","","",""]:C?H:q?k:B??["","","",""]];return(!J[3]||J[3]==="")&&M&&(J[3]=M.stem+M.branch),J},[st,C,q,H,k,B,M]),Q=O.useMemo(()=>M?M.stem+M.branch:W[3]||"",[M,W]);(!r||r.length===0)&&(r=zf(t));const F=qs(Y=>Y.manualHour?Y.manualHour.stem+Y.manualHour.branch:""),G=O.useMemo(()=>{const Y=zf(t);return F&&F.length===2&&(Y[3]=F),Y},[t,F]),tt=O.useMemo(()=>dS({natal:G,tab:g,chain:a,hourKey:Q}),[G,g,a,Q]);function ht(Y){return uS(Y,{criteriaMode:"modern",useHarmonyOverlay:!0})}const it=ht(G),Z=O.useMemo(()=>Qp(it),[it]),rt=O.useMemo(()=>z2(Z),[Z]),ot=O.useMemo(()=>t?JC({ms:t,natal:G,chain:T,basis:s,tab:g,unified:tt,percent:Z,category:rt}):"",[t,s,d,g,T,tt,Z,rt,G]),[yt,j]=O.useState(!1);async function $(){if(ot)try{await navigator.clipboard.writeText(ot),j(!0),setTimeout(()=>j(!1),1200)}catch{j(!1)}}return t?b.jsxs("div",{className:"rounded-xl border border-neutral-200 dark:border-neutral-800 bg-white dark:bg-neutral-900 p-3 space-y-3",children:[b.jsxs("div",{className:"flex items-center justify-between gap-2",children:[b.jsx("div",{className:"text-sm font-semibold text-neutral-700 dark:text-neutral-200",children:"GPT 프롬프트 제공용"}),b.jsx("button",{onClick:$,className:`px-3 py-1 rounded-md text-xs cursor-pointer ${yt?"bg-green-600 text-white":"bg-neutral-900 text-white dark:bg-yellow-500 dark:text-black"}`,children:yt?"복사됨!":"프롬프트 복사"})]}),b.jsxs("div",{className:"flex desk:justify-between flex-col desk:flex-row gap-2",children:[b.jsx("div",{className:"flex gap-1 flex-wrap",children:e6.map(Y=>b.jsx("button",{onClick:()=>{y(Y)},className:`px-2 py-1 text-xs rounded-md border cursor-pointer ${g===Y?"bg-neutral-900 text-white dark:bg-yellow-500 dark:text-black":"bg-neutral-100 dark:bg-neutral-800 text-neutral-600 dark:text-neutral-300"}`,children:Y},Y))}),b.jsx(t6,{date:f??new Date,onChange:p})]}),b.jsxs("div",{className:"text-[11px] text-neutral-500 dark:text-neutral-400",children:[b.jsx("p",{children:"위에 피커로 날짜를 조정할 수 있습니다."}),b.jsx("p",{children:"각 탭에 따라서, 기준이 달라집니다."}),b.jsx("p",{children:"프롬포트를 복사하여 마음껏 커스텀하여, 사용할 수 있습니다."})]}),b.jsx("textarea",{readOnly:!0,value:ot,placeholder:"명식을 선택하면 프롬프트가 생성됩니다.",className:"w-full min-h-[320px] text-xs font-mono rounded-md border bg-neutral-50 dark:bg-neutral-800 p-2"})]}):b.jsx("div",{className:"p-4 border rounded bg-neutral-50 dark:bg-neutral-900 text-sm text-neutral-500",children:"⚠️ 명식을 먼저 선택해주세요."})}function r6(t){const r=Zn(u=>u.date),a=Zn(u=>u.rule),s=Vc(t);return O.useMemo(()=>{if(!t)return{dae:null,se:null,wol:null,il:null};const u=th(s,r),d=u>=0?s[u]?.gz??null:null,f=oe(r),p=Se(r),g=ae(r,a);return{dae:d,se:f,wol:p,il:g}},[t,s,r,a])}function i6(){const{list:t}=il(),[r,a]=O.useState(t.length>0?t[0].id:""),[s,u]=O.useState(!1),[d,f]=O.useState(!1),[p,g]=O.useState(null),[y,_]=O.useState(!1),[w,S]=O.useState(!1),T=O.useMemo(()=>t.find(C=>C.id===r)??t[0],[t,r]);O.useEffect(()=>{_(!0),S(!1)},[]);const M=()=>{u(!0)},D=O.useMemo(()=>zf(T),[T]),A=r6(T),[z,H]=O.useState(!1),k=C=>typeof C=="string"&&C.length>=2,B=C=>Array.isArray(C)&&C.length===4&&C.every(k);return b.jsxs("div",{className:"min-h-screen pb-16",children:[b.jsx(zO,{onOpenSidebar:()=>f(!0),onAddNew:M,onOpenCustom:()=>H(!0)}),b.jsx(LC,{open:z,onClose:()=>H(!1),onSave:C=>{a(C.id),_(!1),S(!1),f(!1)}}),b.jsx(CT,{position:"top-center"}),b.jsx(eC,{open:d,onClose:()=>f(!1),onView:C=>{a(C.id),f(!1),_(!1),S(!1),Zn.getState().resetDate()},onAddNew:M,onEdit:C=>{g(C),a(C.id),f(!1),_(!1),S(!1)},onDeleteView:()=>{a(t.length>0?t[0].id:""),_(!0),S(!1)}}),y&&b.jsx(EE,{}),s&&b.jsxs(b.Fragment,{children:[b.jsx("div",{id:"wizard-dim",className:"bg-black opacity-80 absolute inset-0 w-full h-full z-99"}),b.jsx("div",{className:"absolute inset-0 transition-opacity duration-150 opacity-100 z-100",children:b.jsx("div",{className:"py-6",children:b.jsx(g7,{onSave:C=>{a(C.id),_(!1),S(!1),f(!1),requestAnimationFrame(()=>u(!1))},onClose:()=>u(!1)})})})]}),T&&!y&&!w&&b.jsxs(b.Fragment,{children:[b.jsx("div",{className:"pt-18 pb-4",children:b.jsx(Dj,{data:T,hourTable:T.mingSikType??"조자시/야자시"})}),b.jsx(TC,{ms:T}),b.jsx("div",{children:b.jsx(fO,{data:T})}),b.jsx("div",{className:"max-w-[640px] mx-auto mb-8",children:b.jsx(n6,{ms:T,natal:B(D)?D:[],chain:A,basis:{voidBasis:"day",samjaeBasis:"day"},includeTenGod:!0,lunarPillars:[]})})]}),w&&b.jsx("div",{className:"pt-18 pb-4",children:b.jsx(SC,{people:t})}),p&&b.jsx("div",{className:"fixed inset-0 z-55 flex items-center justify-center bg-black/60",children:b.jsx("div",{className:"bg-white dark:bg-neutral-950 p-4 rounded-xl w-full max-h-[90dvh] max-w-xl shadow-lg",children:b.jsx(lC,{item:p,onClose:()=>{g(null)}})})}),b.jsx(ZO,{onShowToday:()=>{_(!0),S(!1)},onShowCouple:()=>{S(!0),_(!1)}}),b.jsx(wC,{})]})}Yw.createRoot(document.getElementById("root")).render(b.jsx(O.StrictMode,{children:b.jsx(i6,{})}));
