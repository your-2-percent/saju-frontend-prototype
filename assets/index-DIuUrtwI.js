function WE(e,t){for(var n=0;n<t.length;n++){const r=t[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in e)){const a=Object.getOwnPropertyDescriptor(r,i);a&&Object.defineProperty(e,i,a.get?a:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const a of i)if(a.type==="childList")for(const o of a.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const a={};return i.integrity&&(a.integrity=i.integrity),i.referrerPolicy&&(a.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?a.credentials="include":i.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function r(i){if(i.ep)return;i.ep=!0;const a=n(i);fetch(i.href,a)}})();function fi(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function Km(e){if(Object.prototype.hasOwnProperty.call(e,"__esModule"))return e;var t=e.default;if(typeof t=="function"){var n=function r(){var i=!1;try{i=this instanceof r}catch{}return i?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};n.prototype=t.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(e).forEach(function(r){var i=Object.getOwnPropertyDescriptor(e,r);Object.defineProperty(n,r,i.get?i:{enumerable:!0,get:function(){return e[r]}})}),n}var mw={exports:{}},Th={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var YN;function bH(){if(YN)return Th;YN=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function n(r,i,a){var o=null;if(a!==void 0&&(o=""+a),i.key!==void 0&&(o=""+i.key),"key"in i){a={};for(var l in i)l!=="key"&&(a[l]=i[l])}else a=i;return i=a.ref,{$$typeof:e,type:r,key:o,ref:i!==void 0?i:null,props:a}}return Th.Fragment=t,Th.jsx=n,Th.jsxs=n,Th}var KN;function vH(){return KN||(KN=1,mw.exports=bH()),mw.exports}var b=vH();const F3="harim.theme",KS="harim.settings.v1";function H3(){try{const e=localStorage.getItem(F3);if(e==="dark"||e==="light")return e;const t=localStorage.getItem(KS);if(t){const r=JSON.parse(t)?.theme;if(r==="dark"||r==="light")return r}return null}catch{return null}}function G3(e){try{localStorage.setItem(F3,e);const t=localStorage.getItem(KS),n=t?JSON.parse(t):{};localStorage.setItem(KS,JSON.stringify({...n,theme:e}))}catch{}}function q3(e){const t=document.documentElement;t.classList.toggle("dark",e==="dark"),t.style.setProperty("color-scheme",e)}(function(){try{const e=H3()??(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light");q3(e)}catch{}})();var pw={exports:{}},rt={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var WN;function xH(){if(WN)return rt;WN=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),a=Symbol.for("react.consumer"),o=Symbol.for("react.context"),l=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),f=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),p=Symbol.for("react.activity"),g=Symbol.iterator;function x(B){return B===null||typeof B!="object"?null:(B=g&&B[g]||B["@@iterator"],typeof B=="function"?B:null)}var S={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},_=Object.assign,k={};function T(B,W,ae){this.props=B,this.context=W,this.refs=k,this.updater=ae||S}T.prototype.isReactComponent={},T.prototype.setState=function(B,W){if(typeof B!="object"&&typeof B!="function"&&B!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,B,W,"setState")},T.prototype.forceUpdate=function(B){this.updater.enqueueForceUpdate(this,B,"forceUpdate")};function N(){}N.prototype=T.prototype;function O(B,W,ae){this.props=B,this.context=W,this.refs=k,this.updater=ae||S}var P=O.prototype=new N;P.constructor=O,_(P,T.prototype),P.isPureReactComponent=!0;var C=Array.isArray;function D(){}var $={H:null,A:null,T:null,S:null},H=Object.prototype.hasOwnProperty;function q(B,W,ae){var X=ae.ref;return{$$typeof:e,type:B,key:W,ref:X!==void 0?X:null,props:ae}}function K(B,W){return q(B.type,W,B.props)}function U(B){return typeof B=="object"&&B!==null&&B.$$typeof===e}function z(B){var W={"=":"=0",":":"=2"};return"$"+B.replace(/[=:]/g,function(ae){return W[ae]})}var V=/\/+/g;function J(B,W){return typeof B=="object"&&B!==null&&B.key!=null?z(""+B.key):W.toString(36)}function Q(B){switch(B.status){case"fulfilled":return B.value;case"rejected":throw B.reason;default:switch(typeof B.status=="string"?B.then(D,D):(B.status="pending",B.then(function(W){B.status==="pending"&&(B.status="fulfilled",B.value=W)},function(W){B.status==="pending"&&(B.status="rejected",B.reason=W)})),B.status){case"fulfilled":return B.value;case"rejected":throw B.reason}}throw B}function Y(B,W,ae,X,oe){var me=typeof B;(me==="undefined"||me==="boolean")&&(B=null);var pe=!1;if(B===null)pe=!0;else switch(me){case"bigint":case"string":case"number":pe=!0;break;case"object":switch(B.$$typeof){case e:case t:pe=!0;break;case h:return pe=B._init,Y(pe(B._payload),W,ae,X,oe)}}if(pe)return oe=oe(B),pe=X===""?"."+J(B,0):X,C(oe)?(ae="",pe!=null&&(ae=pe.replace(V,"$&/")+"/"),Y(oe,W,ae,"",function(Oe){return Oe})):oe!=null&&(U(oe)&&(oe=K(oe,ae+(oe.key==null||B&&B.key===oe.key?"":(""+oe.key).replace(V,"$&/")+"/")+pe)),W.push(oe)),1;pe=0;var be=X===""?".":X+":";if(C(B))for(var ne=0;ne<B.length;ne++)X=B[ne],me=be+J(X,ne),pe+=Y(X,W,ae,me,oe);else if(ne=x(B),typeof ne=="function")for(B=ne.call(B),ne=0;!(X=B.next()).done;)X=X.value,me=be+J(X,ne++),pe+=Y(X,W,ae,me,oe);else if(me==="object"){if(typeof B.then=="function")return Y(Q(B),W,ae,X,oe);throw W=String(B),Error("Objects are not valid as a React child (found: "+(W==="[object Object]"?"object with keys {"+Object.keys(B).join(", ")+"}":W)+"). If you meant to render a collection of children, use an array instead.")}return pe}function Z(B,W,ae){if(B==null)return B;var X=[],oe=0;return Y(B,X,"","",function(me){return W.call(ae,me,oe++)}),X}function re(B){if(B._status===-1){var W=B._result;W=W(),W.then(function(ae){(B._status===0||B._status===-1)&&(B._status=1,B._result=ae)},function(ae){(B._status===0||B._status===-1)&&(B._status=2,B._result=ae)}),B._status===-1&&(B._status=0,B._result=W)}if(B._status===1)return B._result.default;throw B._result}var ue=typeof reportError=="function"?reportError:function(B){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var W=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof B=="object"&&B!==null&&typeof B.message=="string"?String(B.message):String(B),error:B});if(!window.dispatchEvent(W))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",B);return}console.error(B)},se={map:Z,forEach:function(B,W,ae){Z(B,function(){W.apply(this,arguments)},ae)},count:function(B){var W=0;return Z(B,function(){W++}),W},toArray:function(B){return Z(B,function(W){return W})||[]},only:function(B){if(!U(B))throw Error("React.Children.only expected to receive a single React element child.");return B}};return rt.Activity=p,rt.Children=se,rt.Component=T,rt.Fragment=n,rt.Profiler=i,rt.PureComponent=O,rt.StrictMode=r,rt.Suspense=u,rt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=$,rt.__COMPILER_RUNTIME={__proto__:null,c:function(B){return $.H.useMemoCache(B)}},rt.cache=function(B){return function(){return B.apply(null,arguments)}},rt.cacheSignal=function(){return null},rt.cloneElement=function(B,W,ae){if(B==null)throw Error("The argument must be a React element, but you passed "+B+".");var X=_({},B.props),oe=B.key;if(W!=null)for(me in W.key!==void 0&&(oe=""+W.key),W)!H.call(W,me)||me==="key"||me==="__self"||me==="__source"||me==="ref"&&W.ref===void 0||(X[me]=W[me]);var me=arguments.length-2;if(me===1)X.children=ae;else if(1<me){for(var pe=Array(me),be=0;be<me;be++)pe[be]=arguments[be+2];X.children=pe}return q(B.type,oe,X)},rt.createContext=function(B){return B={$$typeof:o,_currentValue:B,_currentValue2:B,_threadCount:0,Provider:null,Consumer:null},B.Provider=B,B.Consumer={$$typeof:a,_context:B},B},rt.createElement=function(B,W,ae){var X,oe={},me=null;if(W!=null)for(X in W.key!==void 0&&(me=""+W.key),W)H.call(W,X)&&X!=="key"&&X!=="__self"&&X!=="__source"&&(oe[X]=W[X]);var pe=arguments.length-2;if(pe===1)oe.children=ae;else if(1<pe){for(var be=Array(pe),ne=0;ne<pe;ne++)be[ne]=arguments[ne+2];oe.children=be}if(B&&B.defaultProps)for(X in pe=B.defaultProps,pe)oe[X]===void 0&&(oe[X]=pe[X]);return q(B,me,oe)},rt.createRef=function(){return{current:null}},rt.forwardRef=function(B){return{$$typeof:l,render:B}},rt.isValidElement=U,rt.lazy=function(B){return{$$typeof:h,_payload:{_status:-1,_result:B},_init:re}},rt.memo=function(B,W){return{$$typeof:f,type:B,compare:W===void 0?null:W}},rt.startTransition=function(B){var W=$.T,ae={};$.T=ae;try{var X=B(),oe=$.S;oe!==null&&oe(ae,X),typeof X=="object"&&X!==null&&typeof X.then=="function"&&X.then(D,ue)}catch(me){ue(me)}finally{W!==null&&ae.types!==null&&(W.types=ae.types),$.T=W}},rt.unstable_useCacheRefresh=function(){return $.H.useCacheRefresh()},rt.use=function(B){return $.H.use(B)},rt.useActionState=function(B,W,ae){return $.H.useActionState(B,W,ae)},rt.useCallback=function(B,W){return $.H.useCallback(B,W)},rt.useContext=function(B){return $.H.useContext(B)},rt.useDebugValue=function(){},rt.useDeferredValue=function(B,W){return $.H.useDeferredValue(B,W)},rt.useEffect=function(B,W){return $.H.useEffect(B,W)},rt.useEffectEvent=function(B){return $.H.useEffectEvent(B)},rt.useId=function(){return $.H.useId()},rt.useImperativeHandle=function(B,W,ae){return $.H.useImperativeHandle(B,W,ae)},rt.useInsertionEffect=function(B,W){return $.H.useInsertionEffect(B,W)},rt.useLayoutEffect=function(B,W){return $.H.useLayoutEffect(B,W)},rt.useMemo=function(B,W){return $.H.useMemo(B,W)},rt.useOptimistic=function(B,W){return $.H.useOptimistic(B,W)},rt.useReducer=function(B,W,ae){return $.H.useReducer(B,W,ae)},rt.useRef=function(B){return $.H.useRef(B)},rt.useState=function(B){return $.H.useState(B)},rt.useSyncExternalStore=function(B,W,ae){return $.H.useSyncExternalStore(B,W,ae)},rt.useTransition=function(){return $.H.useTransition()},rt.version="19.2.1",rt}var VN;function nf(){return VN||(VN=1,pw.exports=xH()),pw.exports}var w=nf();const Wt=fi(w),_H=WE({__proto__:null,default:Wt},[w]);var gw={exports:{}},Oh={},yw={exports:{}},bw={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ZN;function wH(){return ZN||(ZN=1,(function(e){function t(Y,Z){var re=Y.length;Y.push(Z);e:for(;0<re;){var ue=re-1>>>1,se=Y[ue];if(0<i(se,Z))Y[ue]=Z,Y[re]=se,re=ue;else break e}}function n(Y){return Y.length===0?null:Y[0]}function r(Y){if(Y.length===0)return null;var Z=Y[0],re=Y.pop();if(re!==Z){Y[0]=re;e:for(var ue=0,se=Y.length,B=se>>>1;ue<B;){var W=2*(ue+1)-1,ae=Y[W],X=W+1,oe=Y[X];if(0>i(ae,re))X<se&&0>i(oe,ae)?(Y[ue]=oe,Y[X]=re,ue=X):(Y[ue]=ae,Y[W]=re,ue=W);else if(X<se&&0>i(oe,re))Y[ue]=oe,Y[X]=re,ue=X;else break e}}return Z}function i(Y,Z){var re=Y.sortIndex-Z.sortIndex;return re!==0?re:Y.id-Z.id}if(e.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var a=performance;e.unstable_now=function(){return a.now()}}else{var o=Date,l=o.now();e.unstable_now=function(){return o.now()-l}}var u=[],f=[],h=1,p=null,g=3,x=!1,S=!1,_=!1,k=!1,T=typeof setTimeout=="function"?setTimeout:null,N=typeof clearTimeout=="function"?clearTimeout:null,O=typeof setImmediate<"u"?setImmediate:null;function P(Y){for(var Z=n(f);Z!==null;){if(Z.callback===null)r(f);else if(Z.startTime<=Y)r(f),Z.sortIndex=Z.expirationTime,t(u,Z);else break;Z=n(f)}}function C(Y){if(_=!1,P(Y),!S)if(n(u)!==null)S=!0,D||(D=!0,z());else{var Z=n(f);Z!==null&&Q(C,Z.startTime-Y)}}var D=!1,$=-1,H=5,q=-1;function K(){return k?!0:!(e.unstable_now()-q<H)}function U(){if(k=!1,D){var Y=e.unstable_now();q=Y;var Z=!0;try{e:{S=!1,_&&(_=!1,N($),$=-1),x=!0;var re=g;try{t:{for(P(Y),p=n(u);p!==null&&!(p.expirationTime>Y&&K());){var ue=p.callback;if(typeof ue=="function"){p.callback=null,g=p.priorityLevel;var se=ue(p.expirationTime<=Y);if(Y=e.unstable_now(),typeof se=="function"){p.callback=se,P(Y),Z=!0;break t}p===n(u)&&r(u),P(Y)}else r(u);p=n(u)}if(p!==null)Z=!0;else{var B=n(f);B!==null&&Q(C,B.startTime-Y),Z=!1}}break e}finally{p=null,g=re,x=!1}Z=void 0}}finally{Z?z():D=!1}}}var z;if(typeof O=="function")z=function(){O(U)};else if(typeof MessageChannel<"u"){var V=new MessageChannel,J=V.port2;V.port1.onmessage=U,z=function(){J.postMessage(null)}}else z=function(){T(U,0)};function Q(Y,Z){$=T(function(){Y(e.unstable_now())},Z)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(Y){Y.callback=null},e.unstable_forceFrameRate=function(Y){0>Y||125<Y?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):H=0<Y?Math.floor(1e3/Y):5},e.unstable_getCurrentPriorityLevel=function(){return g},e.unstable_next=function(Y){switch(g){case 1:case 2:case 3:var Z=3;break;default:Z=g}var re=g;g=Z;try{return Y()}finally{g=re}},e.unstable_requestPaint=function(){k=!0},e.unstable_runWithPriority=function(Y,Z){switch(Y){case 1:case 2:case 3:case 4:case 5:break;default:Y=3}var re=g;g=Y;try{return Z()}finally{g=re}},e.unstable_scheduleCallback=function(Y,Z,re){var ue=e.unstable_now();switch(typeof re=="object"&&re!==null?(re=re.delay,re=typeof re=="number"&&0<re?ue+re:ue):re=ue,Y){case 1:var se=-1;break;case 2:se=250;break;case 5:se=1073741823;break;case 4:se=1e4;break;default:se=5e3}return se=re+se,Y={id:h++,callback:Z,priorityLevel:Y,startTime:re,expirationTime:se,sortIndex:-1},re>ue?(Y.sortIndex=re,t(f,Y),n(u)===null&&Y===n(f)&&(_?(N($),$=-1):_=!0,Q(C,re-ue))):(Y.sortIndex=se,t(u,Y),S||x||(S=!0,D||(D=!0,z()))),Y},e.unstable_shouldYield=K,e.unstable_wrapCallback=function(Y){var Z=g;return function(){var re=g;g=Z;try{return Y.apply(this,arguments)}finally{g=re}}}})(bw)),bw}var XN;function SH(){return XN||(XN=1,yw.exports=wH()),yw.exports}var vw={exports:{}},Ar={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var JN;function kH(){if(JN)return Ar;JN=1;var e=nf();function t(u){var f="https://react.dev/errors/"+u;if(1<arguments.length){f+="?args[]="+encodeURIComponent(arguments[1]);for(var h=2;h<arguments.length;h++)f+="&args[]="+encodeURIComponent(arguments[h])}return"Minified React error #"+u+"; visit "+f+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var r={d:{f:n,r:function(){throw Error(t(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},i=Symbol.for("react.portal");function a(u,f,h){var p=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:i,key:p==null?null:""+p,children:u,containerInfo:f,implementation:h}}var o=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function l(u,f){if(u==="font")return"";if(typeof f=="string")return f==="use-credentials"?f:""}return Ar.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,Ar.createPortal=function(u,f){var h=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!f||f.nodeType!==1&&f.nodeType!==9&&f.nodeType!==11)throw Error(t(299));return a(u,f,null,h)},Ar.flushSync=function(u){var f=o.T,h=r.p;try{if(o.T=null,r.p=2,u)return u()}finally{o.T=f,r.p=h,r.d.f()}},Ar.preconnect=function(u,f){typeof u=="string"&&(f?(f=f.crossOrigin,f=typeof f=="string"?f==="use-credentials"?f:"":void 0):f=null,r.d.C(u,f))},Ar.prefetchDNS=function(u){typeof u=="string"&&r.d.D(u)},Ar.preinit=function(u,f){if(typeof u=="string"&&f&&typeof f.as=="string"){var h=f.as,p=l(h,f.crossOrigin),g=typeof f.integrity=="string"?f.integrity:void 0,x=typeof f.fetchPriority=="string"?f.fetchPriority:void 0;h==="style"?r.d.S(u,typeof f.precedence=="string"?f.precedence:void 0,{crossOrigin:p,integrity:g,fetchPriority:x}):h==="script"&&r.d.X(u,{crossOrigin:p,integrity:g,fetchPriority:x,nonce:typeof f.nonce=="string"?f.nonce:void 0})}},Ar.preinitModule=function(u,f){if(typeof u=="string")if(typeof f=="object"&&f!==null){if(f.as==null||f.as==="script"){var h=l(f.as,f.crossOrigin);r.d.M(u,{crossOrigin:h,integrity:typeof f.integrity=="string"?f.integrity:void 0,nonce:typeof f.nonce=="string"?f.nonce:void 0})}}else f==null&&r.d.M(u)},Ar.preload=function(u,f){if(typeof u=="string"&&typeof f=="object"&&f!==null&&typeof f.as=="string"){var h=f.as,p=l(h,f.crossOrigin);r.d.L(u,h,{crossOrigin:p,integrity:typeof f.integrity=="string"?f.integrity:void 0,nonce:typeof f.nonce=="string"?f.nonce:void 0,type:typeof f.type=="string"?f.type:void 0,fetchPriority:typeof f.fetchPriority=="string"?f.fetchPriority:void 0,referrerPolicy:typeof f.referrerPolicy=="string"?f.referrerPolicy:void 0,imageSrcSet:typeof f.imageSrcSet=="string"?f.imageSrcSet:void 0,imageSizes:typeof f.imageSizes=="string"?f.imageSizes:void 0,media:typeof f.media=="string"?f.media:void 0})}},Ar.preloadModule=function(u,f){if(typeof u=="string")if(f){var h=l(f.as,f.crossOrigin);r.d.m(u,{as:typeof f.as=="string"&&f.as!=="script"?f.as:void 0,crossOrigin:h,integrity:typeof f.integrity=="string"?f.integrity:void 0})}else r.d.m(u)},Ar.requestFormReset=function(u){r.d.r(u)},Ar.unstable_batchedUpdates=function(u,f){return u(f)},Ar.useFormState=function(u,f,h){return o.H.useFormState(u,f,h)},Ar.useFormStatus=function(){return o.H.useHostTransitionStatus()},Ar.version="19.2.1",Ar}var QN;function Y3(){if(QN)return vw.exports;QN=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),vw.exports=kH(),vw.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var eC;function EH(){if(eC)return Oh;eC=1;var e=SH(),t=nf(),n=Y3();function r(s){var c="https://react.dev/errors/"+s;if(1<arguments.length){c+="?args[]="+encodeURIComponent(arguments[1]);for(var m=2;m<arguments.length;m++)c+="&args[]="+encodeURIComponent(arguments[m])}return"Minified React error #"+s+"; visit "+c+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11)}function a(s){var c=s,m=s;if(s.alternate)for(;c.return;)c=c.return;else{s=c;do c=s,(c.flags&4098)!==0&&(m=c.return),s=c.return;while(s)}return c.tag===3?m:null}function o(s){if(s.tag===13){var c=s.memoizedState;if(c===null&&(s=s.alternate,s!==null&&(c=s.memoizedState)),c!==null)return c.dehydrated}return null}function l(s){if(s.tag===31){var c=s.memoizedState;if(c===null&&(s=s.alternate,s!==null&&(c=s.memoizedState)),c!==null)return c.dehydrated}return null}function u(s){if(a(s)!==s)throw Error(r(188))}function f(s){var c=s.alternate;if(!c){if(c=a(s),c===null)throw Error(r(188));return c!==s?null:s}for(var m=s,v=c;;){var A=m.return;if(A===null)break;var j=A.alternate;if(j===null){if(v=A.return,v!==null){m=v;continue}break}if(A.child===j.child){for(j=A.child;j;){if(j===m)return u(A),s;if(j===v)return u(A),c;j=j.sibling}throw Error(r(188))}if(m.return!==v.return)m=A,v=j;else{for(var I=!1,G=A.child;G;){if(G===m){I=!0,m=A,v=j;break}if(G===v){I=!0,v=A,m=j;break}G=G.sibling}if(!I){for(G=j.child;G;){if(G===m){I=!0,m=j,v=A;break}if(G===v){I=!0,v=j,m=A;break}G=G.sibling}if(!I)throw Error(r(189))}}if(m.alternate!==v)throw Error(r(190))}if(m.tag!==3)throw Error(r(188));return m.stateNode.current===m?s:c}function h(s){var c=s.tag;if(c===5||c===26||c===27||c===6)return s;for(s=s.child;s!==null;){if(c=h(s),c!==null)return c;s=s.sibling}return null}var p=Object.assign,g=Symbol.for("react.element"),x=Symbol.for("react.transitional.element"),S=Symbol.for("react.portal"),_=Symbol.for("react.fragment"),k=Symbol.for("react.strict_mode"),T=Symbol.for("react.profiler"),N=Symbol.for("react.consumer"),O=Symbol.for("react.context"),P=Symbol.for("react.forward_ref"),C=Symbol.for("react.suspense"),D=Symbol.for("react.suspense_list"),$=Symbol.for("react.memo"),H=Symbol.for("react.lazy"),q=Symbol.for("react.activity"),K=Symbol.for("react.memo_cache_sentinel"),U=Symbol.iterator;function z(s){return s===null||typeof s!="object"?null:(s=U&&s[U]||s["@@iterator"],typeof s=="function"?s:null)}var V=Symbol.for("react.client.reference");function J(s){if(s==null)return null;if(typeof s=="function")return s.$$typeof===V?null:s.displayName||s.name||null;if(typeof s=="string")return s;switch(s){case _:return"Fragment";case T:return"Profiler";case k:return"StrictMode";case C:return"Suspense";case D:return"SuspenseList";case q:return"Activity"}if(typeof s=="object")switch(s.$$typeof){case S:return"Portal";case O:return s.displayName||"Context";case N:return(s._context.displayName||"Context")+".Consumer";case P:var c=s.render;return s=s.displayName,s||(s=c.displayName||c.name||"",s=s!==""?"ForwardRef("+s+")":"ForwardRef"),s;case $:return c=s.displayName||null,c!==null?c:J(s.type)||"Memo";case H:c=s._payload,s=s._init;try{return J(s(c))}catch{}}return null}var Q=Array.isArray,Y=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Z=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,re={pending:!1,data:null,method:null,action:null},ue=[],se=-1;function B(s){return{current:s}}function W(s){0>se||(s.current=ue[se],ue[se]=null,se--)}function ae(s,c){se++,ue[se]=s.current,s.current=c}var X=B(null),oe=B(null),me=B(null),pe=B(null);function be(s,c){switch(ae(me,c),ae(oe,s),ae(X,null),c.nodeType){case 9:case 11:s=(s=c.documentElement)&&(s=s.namespaceURI)?pN(s):0;break;default:if(s=c.tagName,c=c.namespaceURI)c=pN(c),s=gN(c,s);else switch(s){case"svg":s=1;break;case"math":s=2;break;default:s=0}}W(X),ae(X,s)}function ne(){W(X),W(oe),W(me)}function Oe(s){s.memoizedState!==null&&ae(pe,s);var c=X.current,m=gN(c,s.type);c!==m&&(ae(oe,s),ae(X,m))}function Ce(s){oe.current===s&&(W(X),W(oe)),pe.current===s&&(W(pe),Sh._currentValue=re)}var ve,Ze;function Ne(s){if(ve===void 0)try{throw Error()}catch(m){var c=m.stack.trim().match(/\n( *(at )?)/);ve=c&&c[1]||"",Ze=-1<m.stack.indexOf(`
    at`)?" (<anonymous>)":-1<m.stack.indexOf("@")?"@unknown:0:0":""}return`
`+ve+s+Ze}var _e=!1;function je(s,c){if(!s||_e)return"";_e=!0;var m=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var v={DetermineComponentFrameRoot:function(){try{if(c){var Te=function(){throw Error()};if(Object.defineProperty(Te.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Te,[])}catch(xe){var ye=xe}Reflect.construct(s,[],Te)}else{try{Te.call()}catch(xe){ye=xe}s.call(Te.prototype)}}else{try{throw Error()}catch(xe){ye=xe}(Te=s())&&typeof Te.catch=="function"&&Te.catch(function(){})}}catch(xe){if(xe&&ye&&typeof xe.stack=="string")return[xe.stack,ye.stack]}return[null,null]}};v.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var A=Object.getOwnPropertyDescriptor(v.DetermineComponentFrameRoot,"name");A&&A.configurable&&Object.defineProperty(v.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var j=v.DetermineComponentFrameRoot(),I=j[0],G=j[1];if(I&&G){var te=I.split(`
`),he=G.split(`
`);for(A=v=0;v<te.length&&!te[v].includes("DetermineComponentFrameRoot");)v++;for(;A<he.length&&!he[A].includes("DetermineComponentFrameRoot");)A++;if(v===te.length||A===he.length)for(v=te.length-1,A=he.length-1;1<=v&&0<=A&&te[v]!==he[A];)A--;for(;1<=v&&0<=A;v--,A--)if(te[v]!==he[A]){if(v!==1||A!==1)do if(v--,A--,0>A||te[v]!==he[A]){var ke=`
`+te[v].replace(" at new "," at ");return s.displayName&&ke.includes("<anonymous>")&&(ke=ke.replace("<anonymous>",s.displayName)),ke}while(1<=v&&0<=A);break}}}finally{_e=!1,Error.prepareStackTrace=m}return(m=s?s.displayName||s.name:"")?Ne(m):""}function Ie(s,c){switch(s.tag){case 26:case 27:case 5:return Ne(s.type);case 16:return Ne("Lazy");case 13:return s.child!==c&&c!==null?Ne("Suspense Fallback"):Ne("Suspense");case 19:return Ne("SuspenseList");case 0:case 15:return je(s.type,!1);case 11:return je(s.type.render,!1);case 1:return je(s.type,!0);case 31:return Ne("Activity");default:return""}}function Ve(s){try{var c="",m=null;do c+=Ie(s,m),m=s,s=s.return;while(s);return c}catch(v){return`
Error generating stack: `+v.message+`
`+v.stack}}var bt=Object.prototype.hasOwnProperty,xt=e.unstable_scheduleCallback,Pt=e.unstable_cancelCallback,fe=e.unstable_shouldYield,Pe=e.unstable_requestPaint,Be=e.unstable_now,lt=e.unstable_getCurrentPriorityLevel,jt=e.unstable_ImmediatePriority,yt=e.unstable_UserBlockingPriority,Jn=e.unstable_NormalPriority,gi=e.unstable_LowPriority,yi=e.unstable_IdlePriority,Ps=e.log,Ds=e.unstable_setDisableYieldValue,qt=null,mn=null;function bi(s){if(typeof Ps=="function"&&Ds(s),mn&&typeof mn.setStrictMode=="function")try{mn.setStrictMode(qt,s)}catch{}}var Cr=Math.clz32?Math.clz32:xx,Bl=Math.log,vx=Math.LN2;function xx(s){return s>>>=0,s===0?32:31-(Bl(s)/vx|0)|0}var zl=256,Ul=262144,Fl=4194304;function Co(s){var c=s&42;if(c!==0)return c;switch(s&-s){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return s&261888;case 262144:case 524288:case 1048576:case 2097152:return s&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return s&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return s}}function pu(s,c,m){var v=s.pendingLanes;if(v===0)return 0;var A=0,j=s.suspendedLanes,I=s.pingedLanes;s=s.warmLanes;var G=v&134217727;return G!==0?(v=G&~j,v!==0?A=Co(v):(I&=G,I!==0?A=Co(I):m||(m=G&~s,m!==0&&(A=Co(m))))):(G=v&~j,G!==0?A=Co(G):I!==0?A=Co(I):m||(m=v&~s,m!==0&&(A=Co(m)))),A===0?0:c!==0&&c!==A&&(c&j)===0&&(j=A&-A,m=c&-c,j>=m||j===32&&(m&4194048)!==0)?c:A}function Hl(s,c){return(s.pendingLanes&~(s.suspendedLanes&~s.pingedLanes)&c)===0}function _x(s,c){switch(s){case 1:case 2:case 4:case 8:case 64:return c+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return c+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Cp(){var s=Fl;return Fl<<=1,(Fl&62914560)===0&&(Fl=4194304),s}function Ef(s){for(var c=[],m=0;31>m;m++)c.push(s);return c}function Mo(s,c){s.pendingLanes|=c,c!==268435456&&(s.suspendedLanes=0,s.pingedLanes=0,s.warmLanes=0)}function wx(s,c,m,v,A,j){var I=s.pendingLanes;s.pendingLanes=m,s.suspendedLanes=0,s.pingedLanes=0,s.warmLanes=0,s.expiredLanes&=m,s.entangledLanes&=m,s.errorRecoveryDisabledLanes&=m,s.shellSuspendCounter=0;var G=s.entanglements,te=s.expirationTimes,he=s.hiddenUpdates;for(m=I&~m;0<m;){var ke=31-Cr(m),Te=1<<ke;G[ke]=0,te[ke]=-1;var ye=he[ke];if(ye!==null)for(he[ke]=null,ke=0;ke<ye.length;ke++){var xe=ye[ke];xe!==null&&(xe.lane&=-536870913)}m&=~Te}v!==0&&Mp(s,v,0),j!==0&&A===0&&s.tag!==0&&(s.suspendedLanes|=j&~(I&~c))}function Mp(s,c,m){s.pendingLanes|=c,s.suspendedLanes&=~c;var v=31-Cr(c);s.entangledLanes|=c,s.entanglements[v]=s.entanglements[v]|1073741824|m&261930}function Pp(s,c){var m=s.entangledLanes|=c;for(s=s.entanglements;m;){var v=31-Cr(m),A=1<<v;A&c|s[v]&c&&(s[v]|=c),m&=~A}}function Dp(s,c){var m=c&-c;return m=(m&42)!==0?1:Gr(m),(m&(s.suspendedLanes|c))!==0?0:m}function Gr(s){switch(s){case 2:s=1;break;case 8:s=4;break;case 32:s=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:s=128;break;case 268435456:s=134217728;break;default:s=0}return s}function He(s){return s&=-s,2<s?8<s?(s&134217727)!==0?32:268435456:8:2}function Af(){var s=Z.p;return s!==0?s:(s=window.event,s===void 0?32:BN(s.type))}function Tf(s,c){var m=Z.p;try{return Z.p=s,c()}finally{Z.p=m}}var _a=Math.random().toString(36).slice(2),On="__reactFiber$"+_a,Qn="__reactProps$"+_a,Po="__reactContainer$"+_a,Wa="__reactEvents$"+_a,Rp="__reactListeners$"+_a,Sx="__reactHandles$"+_a,Lp="__reactResources$"+_a,Gl="__reactMarker$"+_a;function Of(s){delete s[On],delete s[Qn],delete s[Wa],delete s[Rp],delete s[Sx]}function Do(s){var c=s[On];if(c)return c;for(var m=s.parentNode;m;){if(c=m[Po]||m[On]){if(m=c.alternate,c.child!==null||m!==null&&m.child!==null)for(s=SN(s);s!==null;){if(m=s[On])return m;s=SN(s)}return c}s=m,m=s.parentNode}return null}function Rs(s){if(s=s[On]||s[Po]){var c=s.tag;if(c===5||c===6||c===13||c===31||c===26||c===27||c===3)return s}return null}function Va(s){var c=s.tag;if(c===5||c===26||c===27||c===6)return s.stateNode;throw Error(r(33))}function Ls(s){var c=s[Lp];return c||(c=s[Lp]={hoistableStyles:new Map,hoistableScripts:new Map}),c}function jn(s){s[Gl]=!0}var Ip=new Set,$p={};function Ro(s,c){Za(s,c),Za(s+"Capture",c)}function Za(s,c){for($p[s]=c,s=0;s<c.length;s++)Ip.add(c[s])}var ql=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),jf={},Nf={};function Yl(s){return bt.call(Nf,s)?!0:bt.call(jf,s)?!1:ql.test(s)?Nf[s]=!0:(jf[s]=!0,!1)}function ct(s,c,m){if(Yl(c))if(m===null)s.removeAttribute(c);else{switch(typeof m){case"undefined":case"function":case"symbol":s.removeAttribute(c);return;case"boolean":var v=c.toLowerCase().slice(0,5);if(v!=="data-"&&v!=="aria-"){s.removeAttribute(c);return}}s.setAttribute(c,""+m)}}function It(s,c,m){if(m===null)s.removeAttribute(c);else{switch(typeof m){case"undefined":case"function":case"symbol":case"boolean":s.removeAttribute(c);return}s.setAttribute(c,""+m)}}function qr(s,c,m,v){if(v===null)s.removeAttribute(m);else{switch(typeof v){case"undefined":case"function":case"symbol":case"boolean":s.removeAttribute(m);return}s.setAttributeNS(c,m,""+v)}}function Bn(s){switch(typeof s){case"bigint":case"boolean":case"number":case"string":case"undefined":return s;case"object":return s;default:return""}}function Lo(s){var c=s.type;return(s=s.nodeName)&&s.toLowerCase()==="input"&&(c==="checkbox"||c==="radio")}function Cf(s,c,m){var v=Object.getOwnPropertyDescriptor(s.constructor.prototype,c);if(!s.hasOwnProperty(c)&&typeof v<"u"&&typeof v.get=="function"&&typeof v.set=="function"){var A=v.get,j=v.set;return Object.defineProperty(s,c,{configurable:!0,get:function(){return A.call(this)},set:function(I){m=""+I,j.call(this,I)}}),Object.defineProperty(s,c,{enumerable:v.enumerable}),{getValue:function(){return m},setValue:function(I){m=""+I},stopTracking:function(){s._valueTracker=null,delete s[c]}}}}function nt(s){if(!s._valueTracker){var c=Lo(s)?"checked":"value";s._valueTracker=Cf(s,c,""+s[c])}}function en(s){if(!s)return!1;var c=s._valueTracker;if(!c)return!0;var m=c.getValue(),v="";return s&&(v=Lo(s)?s.checked?"true":"false":s.value),s=v,s!==m?(c.setValue(s),!0):!1}function Is(s){if(s=s||(typeof document<"u"?document:void 0),typeof s>"u")return null;try{return s.activeElement||s.body}catch{return s.body}}var gu=/[\n"\\]/g;function Zt(s){return s.replace(gu,function(c){return"\\"+c.charCodeAt(0).toString(16)+" "})}function Mf(s,c,m,v,A,j,I,G){s.name="",I!=null&&typeof I!="function"&&typeof I!="symbol"&&typeof I!="boolean"?s.type=I:s.removeAttribute("type"),c!=null?I==="number"?(c===0&&s.value===""||s.value!=c)&&(s.value=""+Bn(c)):s.value!==""+Bn(c)&&(s.value=""+Bn(c)):I!=="submit"&&I!=="reset"||s.removeAttribute("value"),c!=null?wa(s,I,Bn(c)):m!=null?wa(s,I,Bn(m)):v!=null&&s.removeAttribute("value"),A==null&&j!=null&&(s.defaultChecked=!!j),A!=null&&(s.checked=A&&typeof A!="function"&&typeof A!="symbol"),G!=null&&typeof G!="function"&&typeof G!="symbol"&&typeof G!="boolean"?s.name=""+Bn(G):s.removeAttribute("name")}function Kl(s,c,m,v,A,j,I,G){if(j!=null&&typeof j!="function"&&typeof j!="symbol"&&typeof j!="boolean"&&(s.type=j),c!=null||m!=null){if(!(j!=="submit"&&j!=="reset"||c!=null)){nt(s);return}m=m!=null?""+Bn(m):"",c=c!=null?""+Bn(c):m,G||c===s.value||(s.value=c),s.defaultValue=c}v=v??A,v=typeof v!="function"&&typeof v!="symbol"&&!!v,s.checked=G?s.checked:!!v,s.defaultChecked=!!v,I!=null&&typeof I!="function"&&typeof I!="symbol"&&typeof I!="boolean"&&(s.name=I),nt(s)}function wa(s,c,m){c==="number"&&Is(s.ownerDocument)===s||s.defaultValue===""+m||(s.defaultValue=""+m)}function Ut(s,c,m,v){if(s=s.options,c){c={};for(var A=0;A<m.length;A++)c["$"+m[A]]=!0;for(m=0;m<s.length;m++)A=c.hasOwnProperty("$"+s[m].value),s[m].selected!==A&&(s[m].selected=A),A&&v&&(s[m].defaultSelected=!0)}else{for(m=""+Bn(m),c=null,A=0;A<s.length;A++){if(s[A].value===m){s[A].selected=!0,v&&(s[A].defaultSelected=!0);return}c!==null||s[A].disabled||(c=s[A])}c!==null&&(c.selected=!0)}}function Xa(s,c,m){if(c!=null&&(c=""+Bn(c),c!==s.value&&(s.value=c),m==null)){s.defaultValue!==c&&(s.defaultValue=c);return}s.defaultValue=m!=null?""+Bn(m):""}function $s(s,c,m,v){if(c==null){if(v!=null){if(m!=null)throw Error(r(92));if(Q(v)){if(1<v.length)throw Error(r(93));v=v[0]}m=v}m==null&&(m=""),c=m}m=Bn(c),s.defaultValue=m,v=s.textContent,v===m&&v!==""&&v!==null&&(s.value=v),nt(s)}function qi(s,c){if(c){var m=s.firstChild;if(m&&m===s.lastChild&&m.nodeType===3){m.nodeValue=c;return}}s.textContent=c}var Pf=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Bs(s,c,m){var v=c.indexOf("--")===0;m==null||typeof m=="boolean"||m===""?v?s.setProperty(c,""):c==="float"?s.cssFloat="":s[c]="":v?s.setProperty(c,m):typeof m!="number"||m===0||Pf.has(c)?c==="float"?s.cssFloat=m:s[c]=(""+m).trim():s[c]=m+"px"}function yu(s,c,m){if(c!=null&&typeof c!="object")throw Error(r(62));if(s=s.style,m!=null){for(var v in m)!m.hasOwnProperty(v)||c!=null&&c.hasOwnProperty(v)||(v.indexOf("--")===0?s.setProperty(v,""):v==="float"?s.cssFloat="":s[v]="");for(var A in c)v=c[A],c.hasOwnProperty(A)&&m[A]!==v&&Bs(s,A,v)}else for(var j in c)c.hasOwnProperty(j)&&Bs(s,j,c[j])}function Wl(s){if(s.indexOf("-")===-1)return!1;switch(s){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var bu=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Df=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function zs(s){return Df.test(""+s)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":s}function Yr(){}var vu=null;function Vl(s){return s=s.target||s.srcElement||window,s.correspondingUseElement&&(s=s.correspondingUseElement),s.nodeType===3?s.parentNode:s}var Us=null,tt=null;function vi(s){var c=Rs(s);if(c&&(s=c.stateNode)){var m=s[Qn]||null;e:switch(s=c.stateNode,c.type){case"input":if(Mf(s,m.value,m.defaultValue,m.defaultValue,m.checked,m.defaultChecked,m.type,m.name),c=m.name,m.type==="radio"&&c!=null){for(m=s;m.parentNode;)m=m.parentNode;for(m=m.querySelectorAll('input[name="'+Zt(""+c)+'"][type="radio"]'),c=0;c<m.length;c++){var v=m[c];if(v!==s&&v.form===s.form){var A=v[Qn]||null;if(!A)throw Error(r(90));Mf(v,A.value,A.defaultValue,A.defaultValue,A.checked,A.defaultChecked,A.type,A.name)}}for(c=0;c<m.length;c++)v=m[c],v.form===s.form&&en(v)}break e;case"textarea":Xa(s,m.value,m.defaultValue);break e;case"select":c=m.value,c!=null&&Ut(s,!!m.multiple,c,!1)}}}var Nt=!1;function Rf(s,c,m){if(Nt)return s(c,m);Nt=!0;try{var v=s(c);return v}finally{if(Nt=!1,(Us!==null||tt!==null)&&(Dg(),Us&&(c=Us,s=tt,tt=Us=null,vi(c),s)))for(c=0;c<s.length;c++)vi(s[c])}}function Io(s,c){var m=s.stateNode;if(m===null)return null;var v=m[Qn]||null;if(v===null)return null;m=v[c];e:switch(c){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(v=!v.disabled)||(s=s.type,v=!(s==="button"||s==="input"||s==="select"||s==="textarea")),s=!v;break e;default:s=!1}if(s)return null;if(m&&typeof m!="function")throw Error(r(231,c,typeof m));return m}var xi=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Zl=!1;if(xi)try{var _i={};Object.defineProperty(_i,"passive",{get:function(){Zl=!0}}),window.addEventListener("test",_i,_i),window.removeEventListener("test",_i,_i)}catch{Zl=!1}var Yi=null,$o=null,pn=null;function Ja(){if(pn)return pn;var s,c=$o,m=c.length,v,A="value"in Yi?Yi.value:Yi.textContent,j=A.length;for(s=0;s<m&&c[s]===A[s];s++);var I=m-s;for(v=1;v<=I&&c[m-v]===A[j-v];v++);return pn=A.slice(s,1<v?1-v:void 0)}function Xl(s){var c=s.keyCode;return"charCode"in s?(s=s.charCode,s===0&&c===13&&(s=13)):s=c,s===10&&(s=13),32<=s||s===13?s:0}function Jl(){return!0}function Bp(){return!1}function dr(s){function c(m,v,A,j,I){this._reactName=m,this._targetInst=A,this.type=v,this.nativeEvent=j,this.target=I,this.currentTarget=null;for(var G in s)s.hasOwnProperty(G)&&(m=s[G],this[G]=m?m(j):j[G]);return this.isDefaultPrevented=(j.defaultPrevented!=null?j.defaultPrevented:j.returnValue===!1)?Jl:Bp,this.isPropagationStopped=Bp,this}return p(c.prototype,{preventDefault:function(){this.defaultPrevented=!0;var m=this.nativeEvent;m&&(m.preventDefault?m.preventDefault():typeof m.returnValue!="unknown"&&(m.returnValue=!1),this.isDefaultPrevented=Jl)},stopPropagation:function(){var m=this.nativeEvent;m&&(m.stopPropagation?m.stopPropagation():typeof m.cancelBubble!="unknown"&&(m.cancelBubble=!0),this.isPropagationStopped=Jl)},persist:function(){},isPersistent:Jl}),c}var Sa={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(s){return s.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},xu=dr(Sa),Fs=p({},Sa,{view:0,detail:0}),ht=dr(Fs),Lf,Mr,ka,Ql=p({},Fs,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ff,button:0,buttons:0,relatedTarget:function(s){return s.relatedTarget===void 0?s.fromElement===s.srcElement?s.toElement:s.fromElement:s.relatedTarget},movementX:function(s){return"movementX"in s?s.movementX:(s!==ka&&(ka&&s.type==="mousemove"?(Lf=s.screenX-ka.screenX,Mr=s.screenY-ka.screenY):Mr=Lf=0,ka=s),Lf)},movementY:function(s){return"movementY"in s?s.movementY:Mr}}),zp=dr(Ql),If=p({},Ql,{dataTransfer:0}),kx=dr(If),Up=p({},Fs,{relatedTarget:0}),$f=dr(Up),Ex=p({},Sa,{animationName:0,elapsedTime:0,pseudoElement:0}),Bf=dr(Ex),Ax=p({},Sa,{clipboardData:function(s){return"clipboardData"in s?s.clipboardData:window.clipboardData}}),Ki=dr(Ax),Tx=p({},Sa,{data:0}),zf=dr(Tx),Qa={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Fp={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Hp={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Uf(s){var c=this.nativeEvent;return c.getModifierState?c.getModifierState(s):(s=Hp[s])?!!c[s]:!1}function Ff(){return Uf}var Gp=p({},Fs,{key:function(s){if(s.key){var c=Qa[s.key]||s.key;if(c!=="Unidentified")return c}return s.type==="keypress"?(s=Xl(s),s===13?"Enter":String.fromCharCode(s)):s.type==="keydown"||s.type==="keyup"?Fp[s.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ff,charCode:function(s){return s.type==="keypress"?Xl(s):0},keyCode:function(s){return s.type==="keydown"||s.type==="keyup"?s.keyCode:0},which:function(s){return s.type==="keypress"?Xl(s):s.type==="keydown"||s.type==="keyup"?s.keyCode:0}}),qp=dr(Gp),Ox=p({},Ql,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Yp=dr(Ox),Hf=p({},Fs,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ff}),jx=dr(Hf),Kp=p({},Sa,{propertyName:0,elapsedTime:0,pseudoElement:0}),Wp=dr(Kp),_u=p({},Ql,{deltaX:function(s){return"deltaX"in s?s.deltaX:"wheelDeltaX"in s?-s.wheelDeltaX:0},deltaY:function(s){return"deltaY"in s?s.deltaY:"wheelDeltaY"in s?-s.wheelDeltaY:"wheelDelta"in s?-s.wheelDelta:0},deltaZ:0,deltaMode:0}),Bo=dr(_u),Nx=p({},Sa,{newState:0,oldState:0}),ec=dr(Nx),Kr=[9,13,27,32],wu=xi&&"CompositionEvent"in window,Hs=null;xi&&"documentMode"in document&&(Hs=document.documentMode);var Cx=xi&&"TextEvent"in window&&!Hs,Su=xi&&(!wu||Hs&&8<Hs&&11>=Hs),ku=" ",Vp=!1;function Zp(s,c){switch(s){case"keyup":return Kr.indexOf(c.keyCode)!==-1;case"keydown":return c.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Gf(s){return s=s.detail,typeof s=="object"&&"data"in s?s.data:null}var Gs=!1;function wi(s,c){switch(s){case"compositionend":return Gf(c);case"keypress":return c.which!==32?null:(Vp=!0,ku);case"textInput":return s=c.data,s===ku&&Vp?null:s;default:return null}}function qs(s,c){if(Gs)return s==="compositionend"||!wu&&Zp(s,c)?(s=Ja(),pn=$o=Yi=null,Gs=!1,s):null;switch(s){case"paste":return null;case"keypress":if(!(c.ctrlKey||c.altKey||c.metaKey)||c.ctrlKey&&c.altKey){if(c.char&&1<c.char.length)return c.char;if(c.which)return String.fromCharCode(c.which)}return null;case"compositionend":return Su&&c.locale!=="ko"?null:c.data;default:return null}}var Mx={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Wi(s){var c=s&&s.nodeName&&s.nodeName.toLowerCase();return c==="input"?!!Mx[s.type]:c==="textarea"}function Xp(s,c,m,v){Us?tt?tt.push(v):tt=[v]:Us=v,c=Ug(c,"onChange"),0<c.length&&(m=new xu("onChange","change",null,m,v),s.push({event:m,listeners:c}))}var Vi=null,tc=null;function nc(s){cN(s,0)}function rc(s){var c=Va(s);if(en(c))return s}function ic(s,c){if(s==="change")return c}var Jp=!1;if(xi){var Zi;if(xi){var Ys="oninput"in document;if(!Ys){var Qp=document.createElement("div");Qp.setAttribute("oninput","return;"),Ys=typeof Qp.oninput=="function"}Zi=Ys}else Zi=!1;Jp=Zi&&(!document.documentMode||9<document.documentMode)}function Eu(){Vi&&(Vi.detachEvent("onpropertychange",eg),tc=Vi=null)}function eg(s){if(s.propertyName==="value"&&rc(tc)){var c=[];Xp(c,tc,s,Vl(s)),Rf(nc,c)}}function Ea(s,c,m){s==="focusin"?(Eu(),Vi=c,tc=m,Vi.attachEvent("onpropertychange",eg)):s==="focusout"&&Eu()}function Px(s){if(s==="selectionchange"||s==="keyup"||s==="keydown")return rc(tc)}function Ks(s,c){if(s==="click")return rc(c)}function Dx(s,c){if(s==="input"||s==="change")return rc(c)}function Aa(s,c){return s===c&&(s!==0||1/s===1/c)||s!==s&&c!==c}var er=typeof Object.is=="function"?Object.is:Aa;function Ws(s,c){if(er(s,c))return!0;if(typeof s!="object"||s===null||typeof c!="object"||c===null)return!1;var m=Object.keys(s),v=Object.keys(c);if(m.length!==v.length)return!1;for(v=0;v<m.length;v++){var A=m[v];if(!bt.call(c,A)||!er(s[A],c[A]))return!1}return!0}function Au(s){for(;s&&s.firstChild;)s=s.firstChild;return s}function ac(s,c){var m=Au(s);s=0;for(var v;m;){if(m.nodeType===3){if(v=s+m.textContent.length,s<=c&&v>=c)return{node:m,offset:c-s};s=v}e:{for(;m;){if(m.nextSibling){m=m.nextSibling;break e}m=m.parentNode}m=void 0}m=Au(m)}}function Tu(s,c){return s&&c?s===c?!0:s&&s.nodeType===3?!1:c&&c.nodeType===3?Tu(s,c.parentNode):"contains"in s?s.contains(c):s.compareDocumentPosition?!!(s.compareDocumentPosition(c)&16):!1:!1}function oc(s){s=s!=null&&s.ownerDocument!=null&&s.ownerDocument.defaultView!=null?s.ownerDocument.defaultView:window;for(var c=Is(s.document);c instanceof s.HTMLIFrameElement;){try{var m=typeof c.contentWindow.location.href=="string"}catch{m=!1}if(m)s=c.contentWindow;else break;c=Is(s.document)}return c}function eo(s){var c=s&&s.nodeName&&s.nodeName.toLowerCase();return c&&(c==="input"&&(s.type==="text"||s.type==="search"||s.type==="tel"||s.type==="url"||s.type==="password")||c==="textarea"||s.contentEditable==="true")}var Ou=xi&&"documentMode"in document&&11>=document.documentMode,to=null,ju=null,sc=null,Vs=!1;function tg(s,c,m){var v=m.window===m?m.document:m.nodeType===9?m:m.ownerDocument;Vs||to==null||to!==Is(v)||(v=to,"selectionStart"in v&&eo(v)?v={start:v.selectionStart,end:v.selectionEnd}:(v=(v.ownerDocument&&v.ownerDocument.defaultView||window).getSelection(),v={anchorNode:v.anchorNode,anchorOffset:v.anchorOffset,focusNode:v.focusNode,focusOffset:v.focusOffset}),sc&&Ws(sc,v)||(sc=v,v=Ug(ju,"onSelect"),0<v.length&&(c=new xu("onSelect","select",null,c,m),s.push({event:c,listeners:v}),c.target=to)))}function no(s,c){var m={};return m[s.toLowerCase()]=c.toLowerCase(),m["Webkit"+s]="webkit"+c,m["Moz"+s]="moz"+c,m}var Zs={animationend:no("Animation","AnimationEnd"),animationiteration:no("Animation","AnimationIteration"),animationstart:no("Animation","AnimationStart"),transitionrun:no("Transition","TransitionRun"),transitionstart:no("Transition","TransitionStart"),transitioncancel:no("Transition","TransitionCancel"),transitionend:no("Transition","TransitionEnd")},Nu={},ng={};xi&&(ng=document.createElement("div").style,"AnimationEvent"in window||(delete Zs.animationend.animation,delete Zs.animationiteration.animation,delete Zs.animationstart.animation),"TransitionEvent"in window||delete Zs.transitionend.transition);function tr(s){if(Nu[s])return Nu[s];if(!Zs[s])return s;var c=Zs[s],m;for(m in c)if(c.hasOwnProperty(m)&&m in ng)return Nu[s]=c[m];return s}var lc=tr("animationend"),rg=tr("animationiteration"),cc=tr("animationstart"),Rx=tr("transitionrun"),ig=tr("transitionstart"),Lx=tr("transitioncancel"),Xs=tr("transitionend"),ag=new Map,ro="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");ro.push("scrollEnd");function Wr(s,c){ag.set(s,c),Ro(c,[s])}var uc=typeof reportError=="function"?reportError:function(s){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var c=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof s=="object"&&s!==null&&typeof s.message=="string"?String(s.message):String(s),error:s});if(!window.dispatchEvent(c))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",s);return}console.error(s)},Vr=[],kr=0,Cu=0;function dc(){for(var s=kr,c=Cu=kr=0;c<s;){var m=Vr[c];Vr[c++]=null;var v=Vr[c];Vr[c++]=null;var A=Vr[c];Vr[c++]=null;var j=Vr[c];if(Vr[c++]=null,v!==null&&A!==null){var I=v.pending;I===null?A.next=A:(A.next=I.next,I.next=A),v.pending=A}j!==0&&Js(m,A,j)}}function io(s,c,m,v){Vr[kr++]=s,Vr[kr++]=c,Vr[kr++]=m,Vr[kr++]=v,Cu|=v,s.lanes|=v,s=s.alternate,s!==null&&(s.lanes|=v)}function qf(s,c,m,v){return io(s,c,m,v),fc(s)}function Xi(s,c){return io(s,null,null,c),fc(s)}function Js(s,c,m){s.lanes|=m;var v=s.alternate;v!==null&&(v.lanes|=m);for(var A=!1,j=s.return;j!==null;)j.childLanes|=m,v=j.alternate,v!==null&&(v.childLanes|=m),j.tag===22&&(s=j.stateNode,s===null||s._visibility&1||(A=!0)),s=j,j=j.return;return s.tag===3?(j=s.stateNode,A&&c!==null&&(A=31-Cr(m),s=j.hiddenUpdates,v=s[A],v===null?s[A]=[c]:v.push(c),c.lane=m|536870912),j):null}function fc(s){if(50<gh)throw gh=0,$_=null,Error(r(185));for(var c=s.return;c!==null;)s=c,c=s.return;return s.tag===3?s.stateNode:null}var zo={};function Ix(s,c,m,v){this.tag=s,this.key=m,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=c,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=v,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Er(s,c,m,v){return new Ix(s,c,m,v)}function Mu(s){return s=s.prototype,!(!s||!s.isReactComponent)}function Ji(s,c){var m=s.alternate;return m===null?(m=Er(s.tag,c,s.key,s.mode),m.elementType=s.elementType,m.type=s.type,m.stateNode=s.stateNode,m.alternate=s,s.alternate=m):(m.pendingProps=c,m.type=s.type,m.flags=0,m.subtreeFlags=0,m.deletions=null),m.flags=s.flags&65011712,m.childLanes=s.childLanes,m.lanes=s.lanes,m.child=s.child,m.memoizedProps=s.memoizedProps,m.memoizedState=s.memoizedState,m.updateQueue=s.updateQueue,c=s.dependencies,m.dependencies=c===null?null:{lanes:c.lanes,firstContext:c.firstContext},m.sibling=s.sibling,m.index=s.index,m.ref=s.ref,m.refCleanup=s.refCleanup,m}function Yf(s,c){s.flags&=65011714;var m=s.alternate;return m===null?(s.childLanes=0,s.lanes=c,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=m.childLanes,s.lanes=m.lanes,s.child=m.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=m.memoizedProps,s.memoizedState=m.memoizedState,s.updateQueue=m.updateQueue,s.type=m.type,c=m.dependencies,s.dependencies=c===null?null:{lanes:c.lanes,firstContext:c.firstContext}),s}function hc(s,c,m,v,A,j){var I=0;if(v=s,typeof s=="function")Mu(s)&&(I=1);else if(typeof s=="string")I=oH(s,m,X.current)?26:s==="html"||s==="head"||s==="body"?27:5;else e:switch(s){case q:return s=Er(31,m,c,A),s.elementType=q,s.lanes=j,s;case _:return Uo(m.children,A,j,c);case k:I=8,A|=24;break;case T:return s=Er(12,m,c,A|2),s.elementType=T,s.lanes=j,s;case C:return s=Er(13,m,c,A),s.elementType=C,s.lanes=j,s;case D:return s=Er(19,m,c,A),s.elementType=D,s.lanes=j,s;default:if(typeof s=="object"&&s!==null)switch(s.$$typeof){case O:I=10;break e;case N:I=9;break e;case P:I=11;break e;case $:I=14;break e;case H:I=16,v=null;break e}I=29,m=Error(r(130,s===null?"null":typeof s,"")),v=null}return c=Er(I,m,c,A),c.elementType=s,c.type=v,c.lanes=j,c}function Uo(s,c,m,v){return s=Er(7,s,v,c),s.lanes=m,s}function Pu(s,c,m){return s=Er(6,s,null,c),s.lanes=m,s}function Kf(s){var c=Er(18,null,null,0);return c.stateNode=s,c}function Wf(s,c,m){return c=Er(4,s.children!==null?s.children:[],s.key,c),c.lanes=m,c.stateNode={containerInfo:s.containerInfo,pendingChildren:null,implementation:s.implementation},c}var d=new WeakMap;function y(s,c){if(typeof s=="object"&&s!==null){var m=d.get(s);return m!==void 0?m:(c={value:s,source:c,stack:Ve(c)},d.set(s,c),c)}return{value:s,source:c,stack:Ve(c)}}var E=[],M=0,R=null,F=0,ee=[],ce=0,ge=null,Ae=1,Le="";function qe(s,c){E[M++]=F,E[M++]=R,R=s,F=c}function ot(s,c,m){ee[ce++]=Ae,ee[ce++]=Le,ee[ce++]=ge,ge=s;var v=Ae;s=Le;var A=32-Cr(v)-1;v&=~(1<<A),m+=1;var j=32-Cr(c)+A;if(30<j){var I=A-A%5;j=(v&(1<<I)-1).toString(32),v>>=I,A-=I,Ae=1<<32-Cr(c)+A|m<<A|v,Le=j+s}else Ae=1<<j|m<<A|v,Le=s}function zn(s){s.return!==null&&(qe(s,1),ot(s,1,0))}function gn(s){for(;s===R;)R=E[--M],E[M]=null,F=E[--M],E[M]=null;for(;s===ge;)ge=ee[--ce],ee[ce]=null,Le=ee[--ce],ee[ce]=null,Ae=ee[--ce],ee[ce]=null}function Pr(s,c){ee[ce++]=Ae,ee[ce++]=Le,ee[ce++]=ge,Ae=c.id,Le=c.overflow,ge=s}var _t=null,wt=null,ut=!1,ao=null,Zr=!1,Du=Error(r(519));function oo(s){var c=Error(r(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw mc(y(c,s)),Du}function Vf(s){var c=s.stateNode,m=s.type,v=s.memoizedProps;switch(c[On]=s,c[Qn]=v,m){case"dialog":ft("cancel",c),ft("close",c);break;case"iframe":case"object":case"embed":ft("load",c);break;case"video":case"audio":for(m=0;m<bh.length;m++)ft(bh[m],c);break;case"source":ft("error",c);break;case"img":case"image":case"link":ft("error",c),ft("load",c);break;case"details":ft("toggle",c);break;case"input":ft("invalid",c),Kl(c,v.value,v.defaultValue,v.checked,v.defaultChecked,v.type,v.name,!0);break;case"select":ft("invalid",c);break;case"textarea":ft("invalid",c),$s(c,v.value,v.defaultValue,v.children)}m=v.children,typeof m!="string"&&typeof m!="number"&&typeof m!="bigint"||c.textContent===""+m||v.suppressHydrationWarning===!0||hN(c.textContent,m)?(v.popover!=null&&(ft("beforetoggle",c),ft("toggle",c)),v.onScroll!=null&&ft("scroll",c),v.onScrollEnd!=null&&ft("scrollend",c),v.onClick!=null&&(c.onclick=Yr),c=!0):c=!1,c||oo(s,!0)}function un(s){for(_t=s.return;_t;)switch(_t.tag){case 5:case 31:case 13:Zr=!1;return;case 27:case 3:Zr=!0;return;default:_t=_t.return}}function Ta(s){if(s!==_t)return!1;if(!ut)return un(s),ut=!0,!1;var c=s.tag,m;if((m=c!==3&&c!==27)&&((m=c===5)&&(m=s.type,m=!(m!=="form"&&m!=="button")||Q_(s.type,s.memoizedProps)),m=!m),m&&wt&&oo(s),un(s),c===13){if(s=s.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(r(317));wt=wN(s)}else if(c===31){if(s=s.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(r(317));wt=wN(s)}else c===27?(c=wt,fl(s.type)?(s=iw,iw=null,wt=s):wt=c):wt=_t?ea(s.stateNode.nextSibling):null;return!0}function Fo(){wt=_t=null,ut=!1}function Zf(){var s=ao;return s!==null&&(ei===null?ei=s:ei.push.apply(ei,s),ao=null),s}function mc(s){ao===null?ao=[s]:ao.push(s)}var pc=B(null),so=null,Oa=null;function Qs(s,c,m){ae(pc,c._currentValue),c._currentValue=m}function Ho(s){s._currentValue=pc.current,W(pc)}function $x(s,c,m){for(;s!==null;){var v=s.alternate;if((s.childLanes&c)!==c?(s.childLanes|=c,v!==null&&(v.childLanes|=c)):v!==null&&(v.childLanes&c)!==c&&(v.childLanes|=c),s===m)break;s=s.return}}function Bx(s,c,m,v){var A=s.child;for(A!==null&&(A.return=s);A!==null;){var j=A.dependencies;if(j!==null){var I=A.child;j=j.firstContext;e:for(;j!==null;){var G=j;j=A;for(var te=0;te<c.length;te++)if(G.context===c[te]){j.lanes|=m,G=j.alternate,G!==null&&(G.lanes|=m),$x(j.return,m,s),v||(I=null);break e}j=G.next}}else if(A.tag===18){if(I=A.return,I===null)throw Error(r(341));I.lanes|=m,j=I.alternate,j!==null&&(j.lanes|=m),$x(I,m,s),I=null}else I=A.child;if(I!==null)I.return=A;else for(I=A;I!==null;){if(I===s){I=null;break}if(A=I.sibling,A!==null){A.return=I.return,I=A;break}I=I.return}A=I}}function Ru(s,c,m,v){s=null;for(var A=c,j=!1;A!==null;){if(!j){if((A.flags&524288)!==0)j=!0;else if((A.flags&262144)!==0)break}if(A.tag===10){var I=A.alternate;if(I===null)throw Error(r(387));if(I=I.memoizedProps,I!==null){var G=A.type;er(A.pendingProps.value,I.value)||(s!==null?s.push(G):s=[G])}}else if(A===pe.current){if(I=A.alternate,I===null)throw Error(r(387));I.memoizedState.memoizedState!==A.memoizedState.memoizedState&&(s!==null?s.push(Sh):s=[Sh])}A=A.return}s!==null&&Bx(c,s,m,v),c.flags|=262144}function og(s){for(s=s.firstContext;s!==null;){if(!er(s.context._currentValue,s.memoizedValue))return!0;s=s.next}return!1}function gc(s){so=s,Oa=null,s=s.dependencies,s!==null&&(s.firstContext=null)}function fr(s){return JT(so,s)}function sg(s,c){return so===null&&gc(s),JT(s,c)}function JT(s,c){var m=c._currentValue;if(c={context:c,memoizedValue:m,next:null},Oa===null){if(s===null)throw Error(r(308));Oa=c,s.dependencies={lanes:0,firstContext:c},s.flags|=524288}else Oa=Oa.next=c;return m}var nF=typeof AbortController<"u"?AbortController:function(){var s=[],c=this.signal={aborted:!1,addEventListener:function(m,v){s.push(v)}};this.abort=function(){c.aborted=!0,s.forEach(function(m){return m()})}},rF=e.unstable_scheduleCallback,iF=e.unstable_NormalPriority,Nn={$$typeof:O,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function zx(){return{controller:new nF,data:new Map,refCount:0}}function Xf(s){s.refCount--,s.refCount===0&&rF(iF,function(){s.controller.abort()})}var Jf=null,Ux=0,Lu=0,Iu=null;function aF(s,c){if(Jf===null){var m=Jf=[];Ux=0,Lu=G_(),Iu={status:"pending",value:void 0,then:function(v){m.push(v)}}}return Ux++,c.then(QT,QT),c}function QT(){if(--Ux===0&&Jf!==null){Iu!==null&&(Iu.status="fulfilled");var s=Jf;Jf=null,Lu=0,Iu=null;for(var c=0;c<s.length;c++)(0,s[c])()}}function oF(s,c){var m=[],v={status:"pending",value:null,reason:null,then:function(A){m.push(A)}};return s.then(function(){v.status="fulfilled",v.value=c;for(var A=0;A<m.length;A++)(0,m[A])(c)},function(A){for(v.status="rejected",v.reason=A,A=0;A<m.length;A++)(0,m[A])(void 0)}),v}var eO=Y.S;Y.S=function(s,c){Ij=Be(),typeof c=="object"&&c!==null&&typeof c.then=="function"&&aF(s,c),eO!==null&&eO(s,c)};var yc=B(null);function Fx(){var s=yc.current;return s!==null?s:Ft.pooledCache}function lg(s,c){c===null?ae(yc,yc.current):ae(yc,c.pool)}function tO(){var s=Fx();return s===null?null:{parent:Nn._currentValue,pool:s}}var $u=Error(r(460)),Hx=Error(r(474)),cg=Error(r(542)),ug={then:function(){}};function nO(s){return s=s.status,s==="fulfilled"||s==="rejected"}function rO(s,c,m){switch(m=s[m],m===void 0?s.push(c):m!==c&&(c.then(Yr,Yr),c=m),c.status){case"fulfilled":return c.value;case"rejected":throw s=c.reason,aO(s),s;default:if(typeof c.status=="string")c.then(Yr,Yr);else{if(s=Ft,s!==null&&100<s.shellSuspendCounter)throw Error(r(482));s=c,s.status="pending",s.then(function(v){if(c.status==="pending"){var A=c;A.status="fulfilled",A.value=v}},function(v){if(c.status==="pending"){var A=c;A.status="rejected",A.reason=v}})}switch(c.status){case"fulfilled":return c.value;case"rejected":throw s=c.reason,aO(s),s}throw vc=c,$u}}function bc(s){try{var c=s._init;return c(s._payload)}catch(m){throw m!==null&&typeof m=="object"&&typeof m.then=="function"?(vc=m,$u):m}}var vc=null;function iO(){if(vc===null)throw Error(r(459));var s=vc;return vc=null,s}function aO(s){if(s===$u||s===cg)throw Error(r(483))}var Bu=null,Qf=0;function dg(s){var c=Qf;return Qf+=1,Bu===null&&(Bu=[]),rO(Bu,s,c)}function eh(s,c){c=c.props.ref,s.ref=c!==void 0?c:null}function fg(s,c){throw c.$$typeof===g?Error(r(525)):(s=Object.prototype.toString.call(c),Error(r(31,s==="[object Object]"?"object with keys {"+Object.keys(c).join(", ")+"}":s)))}function oO(s){function c(le,ie){if(s){var de=le.deletions;de===null?(le.deletions=[ie],le.flags|=16):de.push(ie)}}function m(le,ie){if(!s)return null;for(;ie!==null;)c(le,ie),ie=ie.sibling;return null}function v(le){for(var ie=new Map;le!==null;)le.key!==null?ie.set(le.key,le):ie.set(le.index,le),le=le.sibling;return ie}function A(le,ie){return le=Ji(le,ie),le.index=0,le.sibling=null,le}function j(le,ie,de){return le.index=de,s?(de=le.alternate,de!==null?(de=de.index,de<ie?(le.flags|=67108866,ie):de):(le.flags|=67108866,ie)):(le.flags|=1048576,ie)}function I(le){return s&&le.alternate===null&&(le.flags|=67108866),le}function G(le,ie,de,Ee){return ie===null||ie.tag!==6?(ie=Pu(de,le.mode,Ee),ie.return=le,ie):(ie=A(ie,de),ie.return=le,ie)}function te(le,ie,de,Ee){var Xe=de.type;return Xe===_?ke(le,ie,de.props.children,Ee,de.key):ie!==null&&(ie.elementType===Xe||typeof Xe=="object"&&Xe!==null&&Xe.$$typeof===H&&bc(Xe)===ie.type)?(ie=A(ie,de.props),eh(ie,de),ie.return=le,ie):(ie=hc(de.type,de.key,de.props,null,le.mode,Ee),eh(ie,de),ie.return=le,ie)}function he(le,ie,de,Ee){return ie===null||ie.tag!==4||ie.stateNode.containerInfo!==de.containerInfo||ie.stateNode.implementation!==de.implementation?(ie=Wf(de,le.mode,Ee),ie.return=le,ie):(ie=A(ie,de.children||[]),ie.return=le,ie)}function ke(le,ie,de,Ee,Xe){return ie===null||ie.tag!==7?(ie=Uo(de,le.mode,Ee,Xe),ie.return=le,ie):(ie=A(ie,de),ie.return=le,ie)}function Te(le,ie,de){if(typeof ie=="string"&&ie!==""||typeof ie=="number"||typeof ie=="bigint")return ie=Pu(""+ie,le.mode,de),ie.return=le,ie;if(typeof ie=="object"&&ie!==null){switch(ie.$$typeof){case x:return de=hc(ie.type,ie.key,ie.props,null,le.mode,de),eh(de,ie),de.return=le,de;case S:return ie=Wf(ie,le.mode,de),ie.return=le,ie;case H:return ie=bc(ie),Te(le,ie,de)}if(Q(ie)||z(ie))return ie=Uo(ie,le.mode,de,null),ie.return=le,ie;if(typeof ie.then=="function")return Te(le,dg(ie),de);if(ie.$$typeof===O)return Te(le,sg(le,ie),de);fg(le,ie)}return null}function ye(le,ie,de,Ee){var Xe=ie!==null?ie.key:null;if(typeof de=="string"&&de!==""||typeof de=="number"||typeof de=="bigint")return Xe!==null?null:G(le,ie,""+de,Ee);if(typeof de=="object"&&de!==null){switch(de.$$typeof){case x:return de.key===Xe?te(le,ie,de,Ee):null;case S:return de.key===Xe?he(le,ie,de,Ee):null;case H:return de=bc(de),ye(le,ie,de,Ee)}if(Q(de)||z(de))return Xe!==null?null:ke(le,ie,de,Ee,null);if(typeof de.then=="function")return ye(le,ie,dg(de),Ee);if(de.$$typeof===O)return ye(le,ie,sg(le,de),Ee);fg(le,de)}return null}function xe(le,ie,de,Ee,Xe){if(typeof Ee=="string"&&Ee!==""||typeof Ee=="number"||typeof Ee=="bigint")return le=le.get(de)||null,G(ie,le,""+Ee,Xe);if(typeof Ee=="object"&&Ee!==null){switch(Ee.$$typeof){case x:return le=le.get(Ee.key===null?de:Ee.key)||null,te(ie,le,Ee,Xe);case S:return le=le.get(Ee.key===null?de:Ee.key)||null,he(ie,le,Ee,Xe);case H:return Ee=bc(Ee),xe(le,ie,de,Ee,Xe)}if(Q(Ee)||z(Ee))return le=le.get(de)||null,ke(ie,le,Ee,Xe,null);if(typeof Ee.then=="function")return xe(le,ie,de,dg(Ee),Xe);if(Ee.$$typeof===O)return xe(le,ie,de,sg(ie,Ee),Xe);fg(ie,Ee)}return null}function ze(le,ie,de,Ee){for(var Xe=null,St=null,Fe=ie,st=ie=0,pt=null;Fe!==null&&st<de.length;st++){Fe.index>st?(pt=Fe,Fe=null):pt=Fe.sibling;var kt=ye(le,Fe,de[st],Ee);if(kt===null){Fe===null&&(Fe=pt);break}s&&Fe&&kt.alternate===null&&c(le,Fe),ie=j(kt,ie,st),St===null?Xe=kt:St.sibling=kt,St=kt,Fe=pt}if(st===de.length)return m(le,Fe),ut&&qe(le,st),Xe;if(Fe===null){for(;st<de.length;st++)Fe=Te(le,de[st],Ee),Fe!==null&&(ie=j(Fe,ie,st),St===null?Xe=Fe:St.sibling=Fe,St=Fe);return ut&&qe(le,st),Xe}for(Fe=v(Fe);st<de.length;st++)pt=xe(Fe,le,st,de[st],Ee),pt!==null&&(s&&pt.alternate!==null&&Fe.delete(pt.key===null?st:pt.key),ie=j(pt,ie,st),St===null?Xe=pt:St.sibling=pt,St=pt);return s&&Fe.forEach(function(yl){return c(le,yl)}),ut&&qe(le,st),Xe}function Qe(le,ie,de,Ee){if(de==null)throw Error(r(151));for(var Xe=null,St=null,Fe=ie,st=ie=0,pt=null,kt=de.next();Fe!==null&&!kt.done;st++,kt=de.next()){Fe.index>st?(pt=Fe,Fe=null):pt=Fe.sibling;var yl=ye(le,Fe,kt.value,Ee);if(yl===null){Fe===null&&(Fe=pt);break}s&&Fe&&yl.alternate===null&&c(le,Fe),ie=j(yl,ie,st),St===null?Xe=yl:St.sibling=yl,St=yl,Fe=pt}if(kt.done)return m(le,Fe),ut&&qe(le,st),Xe;if(Fe===null){for(;!kt.done;st++,kt=de.next())kt=Te(le,kt.value,Ee),kt!==null&&(ie=j(kt,ie,st),St===null?Xe=kt:St.sibling=kt,St=kt);return ut&&qe(le,st),Xe}for(Fe=v(Fe);!kt.done;st++,kt=de.next())kt=xe(Fe,le,st,kt.value,Ee),kt!==null&&(s&&kt.alternate!==null&&Fe.delete(kt.key===null?st:kt.key),ie=j(kt,ie,st),St===null?Xe=kt:St.sibling=kt,St=kt);return s&&Fe.forEach(function(yH){return c(le,yH)}),ut&&qe(le,st),Xe}function zt(le,ie,de,Ee){if(typeof de=="object"&&de!==null&&de.type===_&&de.key===null&&(de=de.props.children),typeof de=="object"&&de!==null){switch(de.$$typeof){case x:e:{for(var Xe=de.key;ie!==null;){if(ie.key===Xe){if(Xe=de.type,Xe===_){if(ie.tag===7){m(le,ie.sibling),Ee=A(ie,de.props.children),Ee.return=le,le=Ee;break e}}else if(ie.elementType===Xe||typeof Xe=="object"&&Xe!==null&&Xe.$$typeof===H&&bc(Xe)===ie.type){m(le,ie.sibling),Ee=A(ie,de.props),eh(Ee,de),Ee.return=le,le=Ee;break e}m(le,ie);break}else c(le,ie);ie=ie.sibling}de.type===_?(Ee=Uo(de.props.children,le.mode,Ee,de.key),Ee.return=le,le=Ee):(Ee=hc(de.type,de.key,de.props,null,le.mode,Ee),eh(Ee,de),Ee.return=le,le=Ee)}return I(le);case S:e:{for(Xe=de.key;ie!==null;){if(ie.key===Xe)if(ie.tag===4&&ie.stateNode.containerInfo===de.containerInfo&&ie.stateNode.implementation===de.implementation){m(le,ie.sibling),Ee=A(ie,de.children||[]),Ee.return=le,le=Ee;break e}else{m(le,ie);break}else c(le,ie);ie=ie.sibling}Ee=Wf(de,le.mode,Ee),Ee.return=le,le=Ee}return I(le);case H:return de=bc(de),zt(le,ie,de,Ee)}if(Q(de))return ze(le,ie,de,Ee);if(z(de)){if(Xe=z(de),typeof Xe!="function")throw Error(r(150));return de=Xe.call(de),Qe(le,ie,de,Ee)}if(typeof de.then=="function")return zt(le,ie,dg(de),Ee);if(de.$$typeof===O)return zt(le,ie,sg(le,de),Ee);fg(le,de)}return typeof de=="string"&&de!==""||typeof de=="number"||typeof de=="bigint"?(de=""+de,ie!==null&&ie.tag===6?(m(le,ie.sibling),Ee=A(ie,de),Ee.return=le,le=Ee):(m(le,ie),Ee=Pu(de,le.mode,Ee),Ee.return=le,le=Ee),I(le)):m(le,ie)}return function(le,ie,de,Ee){try{Qf=0;var Xe=zt(le,ie,de,Ee);return Bu=null,Xe}catch(Fe){if(Fe===$u||Fe===cg)throw Fe;var St=Er(29,Fe,null,le.mode);return St.lanes=Ee,St.return=le,St}finally{}}}var xc=oO(!0),sO=oO(!1),el=!1;function Gx(s){s.updateQueue={baseState:s.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function qx(s,c){s=s.updateQueue,c.updateQueue===s&&(c.updateQueue={baseState:s.baseState,firstBaseUpdate:s.firstBaseUpdate,lastBaseUpdate:s.lastBaseUpdate,shared:s.shared,callbacks:null})}function tl(s){return{lane:s,tag:0,payload:null,callback:null,next:null}}function nl(s,c,m){var v=s.updateQueue;if(v===null)return null;if(v=v.shared,(Tt&2)!==0){var A=v.pending;return A===null?c.next=c:(c.next=A.next,A.next=c),v.pending=c,c=fc(s),Js(s,null,m),c}return io(s,v,c,m),fc(s)}function th(s,c,m){if(c=c.updateQueue,c!==null&&(c=c.shared,(m&4194048)!==0)){var v=c.lanes;v&=s.pendingLanes,m|=v,c.lanes=m,Pp(s,m)}}function Yx(s,c){var m=s.updateQueue,v=s.alternate;if(v!==null&&(v=v.updateQueue,m===v)){var A=null,j=null;if(m=m.firstBaseUpdate,m!==null){do{var I={lane:m.lane,tag:m.tag,payload:m.payload,callback:null,next:null};j===null?A=j=I:j=j.next=I,m=m.next}while(m!==null);j===null?A=j=c:j=j.next=c}else A=j=c;m={baseState:v.baseState,firstBaseUpdate:A,lastBaseUpdate:j,shared:v.shared,callbacks:v.callbacks},s.updateQueue=m;return}s=m.lastBaseUpdate,s===null?m.firstBaseUpdate=c:s.next=c,m.lastBaseUpdate=c}var Kx=!1;function nh(){if(Kx){var s=Iu;if(s!==null)throw s}}function rh(s,c,m,v){Kx=!1;var A=s.updateQueue;el=!1;var j=A.firstBaseUpdate,I=A.lastBaseUpdate,G=A.shared.pending;if(G!==null){A.shared.pending=null;var te=G,he=te.next;te.next=null,I===null?j=he:I.next=he,I=te;var ke=s.alternate;ke!==null&&(ke=ke.updateQueue,G=ke.lastBaseUpdate,G!==I&&(G===null?ke.firstBaseUpdate=he:G.next=he,ke.lastBaseUpdate=te))}if(j!==null){var Te=A.baseState;I=0,ke=he=te=null,G=j;do{var ye=G.lane&-536870913,xe=ye!==G.lane;if(xe?(mt&ye)===ye:(v&ye)===ye){ye!==0&&ye===Lu&&(Kx=!0),ke!==null&&(ke=ke.next={lane:0,tag:G.tag,payload:G.payload,callback:null,next:null});e:{var ze=s,Qe=G;ye=c;var zt=m;switch(Qe.tag){case 1:if(ze=Qe.payload,typeof ze=="function"){Te=ze.call(zt,Te,ye);break e}Te=ze;break e;case 3:ze.flags=ze.flags&-65537|128;case 0:if(ze=Qe.payload,ye=typeof ze=="function"?ze.call(zt,Te,ye):ze,ye==null)break e;Te=p({},Te,ye);break e;case 2:el=!0}}ye=G.callback,ye!==null&&(s.flags|=64,xe&&(s.flags|=8192),xe=A.callbacks,xe===null?A.callbacks=[ye]:xe.push(ye))}else xe={lane:ye,tag:G.tag,payload:G.payload,callback:G.callback,next:null},ke===null?(he=ke=xe,te=Te):ke=ke.next=xe,I|=ye;if(G=G.next,G===null){if(G=A.shared.pending,G===null)break;xe=G,G=xe.next,xe.next=null,A.lastBaseUpdate=xe,A.shared.pending=null}}while(!0);ke===null&&(te=Te),A.baseState=te,A.firstBaseUpdate=he,A.lastBaseUpdate=ke,j===null&&(A.shared.lanes=0),sl|=I,s.lanes=I,s.memoizedState=Te}}function lO(s,c){if(typeof s!="function")throw Error(r(191,s));s.call(c)}function cO(s,c){var m=s.callbacks;if(m!==null)for(s.callbacks=null,s=0;s<m.length;s++)lO(m[s],c)}var zu=B(null),hg=B(0);function uO(s,c){s=Jo,ae(hg,s),ae(zu,c),Jo=s|c.baseLanes}function Wx(){ae(hg,Jo),ae(zu,zu.current)}function Vx(){Jo=hg.current,W(zu),W(hg)}var Si=B(null),Qi=null;function rl(s){var c=s.alternate;ae(wn,wn.current&1),ae(Si,s),Qi===null&&(c===null||zu.current!==null||c.memoizedState!==null)&&(Qi=s)}function Zx(s){ae(wn,wn.current),ae(Si,s),Qi===null&&(Qi=s)}function dO(s){s.tag===22?(ae(wn,wn.current),ae(Si,s),Qi===null&&(Qi=s)):il()}function il(){ae(wn,wn.current),ae(Si,Si.current)}function ki(s){W(Si),Qi===s&&(Qi=null),W(wn)}var wn=B(0);function mg(s){for(var c=s;c!==null;){if(c.tag===13){var m=c.memoizedState;if(m!==null&&(m=m.dehydrated,m===null||nw(m)||rw(m)))return c}else if(c.tag===19&&(c.memoizedProps.revealOrder==="forwards"||c.memoizedProps.revealOrder==="backwards"||c.memoizedProps.revealOrder==="unstable_legacy-backwards"||c.memoizedProps.revealOrder==="together")){if((c.flags&128)!==0)return c}else if(c.child!==null){c.child.return=c,c=c.child;continue}if(c===s)break;for(;c.sibling===null;){if(c.return===null||c.return===s)return null;c=c.return}c.sibling.return=c.return,c=c.sibling}return null}var Go=0,it=null,$t=null,Cn=null,pg=!1,Uu=!1,_c=!1,gg=0,ih=0,Fu=null,sF=0;function yn(){throw Error(r(321))}function Xx(s,c){if(c===null)return!1;for(var m=0;m<c.length&&m<s.length;m++)if(!er(s[m],c[m]))return!1;return!0}function Jx(s,c,m,v,A,j){return Go=j,it=c,c.memoizedState=null,c.updateQueue=null,c.lanes=0,Y.H=s===null||s.memoizedState===null?WO:h_,_c=!1,j=m(v,A),_c=!1,Uu&&(j=hO(c,m,v,A)),fO(s),j}function fO(s){Y.H=sh;var c=$t!==null&&$t.next!==null;if(Go=0,Cn=$t=it=null,pg=!1,ih=0,Fu=null,c)throw Error(r(300));s===null||Mn||(s=s.dependencies,s!==null&&og(s)&&(Mn=!0))}function hO(s,c,m,v){it=s;var A=0;do{if(Uu&&(Fu=null),ih=0,Uu=!1,25<=A)throw Error(r(301));if(A+=1,Cn=$t=null,s.updateQueue!=null){var j=s.updateQueue;j.lastEffect=null,j.events=null,j.stores=null,j.memoCache!=null&&(j.memoCache.index=0)}Y.H=VO,j=c(m,v)}while(Uu);return j}function lF(){var s=Y.H,c=s.useState()[0];return c=typeof c.then=="function"?ah(c):c,s=s.useState()[0],($t!==null?$t.memoizedState:null)!==s&&(it.flags|=1024),c}function Qx(){var s=gg!==0;return gg=0,s}function e_(s,c,m){c.updateQueue=s.updateQueue,c.flags&=-2053,s.lanes&=~m}function t_(s){if(pg){for(s=s.memoizedState;s!==null;){var c=s.queue;c!==null&&(c.pending=null),s=s.next}pg=!1}Go=0,Cn=$t=it=null,Uu=!1,ih=gg=0,Fu=null}function Dr(){var s={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Cn===null?it.memoizedState=Cn=s:Cn=Cn.next=s,Cn}function Sn(){if($t===null){var s=it.alternate;s=s!==null?s.memoizedState:null}else s=$t.next;var c=Cn===null?it.memoizedState:Cn.next;if(c!==null)Cn=c,$t=s;else{if(s===null)throw it.alternate===null?Error(r(467)):Error(r(310));$t=s,s={memoizedState:$t.memoizedState,baseState:$t.baseState,baseQueue:$t.baseQueue,queue:$t.queue,next:null},Cn===null?it.memoizedState=Cn=s:Cn=Cn.next=s}return Cn}function yg(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function ah(s){var c=ih;return ih+=1,Fu===null&&(Fu=[]),s=rO(Fu,s,c),c=it,(Cn===null?c.memoizedState:Cn.next)===null&&(c=c.alternate,Y.H=c===null||c.memoizedState===null?WO:h_),s}function bg(s){if(s!==null&&typeof s=="object"){if(typeof s.then=="function")return ah(s);if(s.$$typeof===O)return fr(s)}throw Error(r(438,String(s)))}function n_(s){var c=null,m=it.updateQueue;if(m!==null&&(c=m.memoCache),c==null){var v=it.alternate;v!==null&&(v=v.updateQueue,v!==null&&(v=v.memoCache,v!=null&&(c={data:v.data.map(function(A){return A.slice()}),index:0})))}if(c==null&&(c={data:[],index:0}),m===null&&(m=yg(),it.updateQueue=m),m.memoCache=c,m=c.data[c.index],m===void 0)for(m=c.data[c.index]=Array(s),v=0;v<s;v++)m[v]=K;return c.index++,m}function qo(s,c){return typeof c=="function"?c(s):c}function vg(s){var c=Sn();return r_(c,$t,s)}function r_(s,c,m){var v=s.queue;if(v===null)throw Error(r(311));v.lastRenderedReducer=m;var A=s.baseQueue,j=v.pending;if(j!==null){if(A!==null){var I=A.next;A.next=j.next,j.next=I}c.baseQueue=A=j,v.pending=null}if(j=s.baseState,A===null)s.memoizedState=j;else{c=A.next;var G=I=null,te=null,he=c,ke=!1;do{var Te=he.lane&-536870913;if(Te!==he.lane?(mt&Te)===Te:(Go&Te)===Te){var ye=he.revertLane;if(ye===0)te!==null&&(te=te.next={lane:0,revertLane:0,gesture:null,action:he.action,hasEagerState:he.hasEagerState,eagerState:he.eagerState,next:null}),Te===Lu&&(ke=!0);else if((Go&ye)===ye){he=he.next,ye===Lu&&(ke=!0);continue}else Te={lane:0,revertLane:he.revertLane,gesture:null,action:he.action,hasEagerState:he.hasEagerState,eagerState:he.eagerState,next:null},te===null?(G=te=Te,I=j):te=te.next=Te,it.lanes|=ye,sl|=ye;Te=he.action,_c&&m(j,Te),j=he.hasEagerState?he.eagerState:m(j,Te)}else ye={lane:Te,revertLane:he.revertLane,gesture:he.gesture,action:he.action,hasEagerState:he.hasEagerState,eagerState:he.eagerState,next:null},te===null?(G=te=ye,I=j):te=te.next=ye,it.lanes|=Te,sl|=Te;he=he.next}while(he!==null&&he!==c);if(te===null?I=j:te.next=G,!er(j,s.memoizedState)&&(Mn=!0,ke&&(m=Iu,m!==null)))throw m;s.memoizedState=j,s.baseState=I,s.baseQueue=te,v.lastRenderedState=j}return A===null&&(v.lanes=0),[s.memoizedState,v.dispatch]}function i_(s){var c=Sn(),m=c.queue;if(m===null)throw Error(r(311));m.lastRenderedReducer=s;var v=m.dispatch,A=m.pending,j=c.memoizedState;if(A!==null){m.pending=null;var I=A=A.next;do j=s(j,I.action),I=I.next;while(I!==A);er(j,c.memoizedState)||(Mn=!0),c.memoizedState=j,c.baseQueue===null&&(c.baseState=j),m.lastRenderedState=j}return[j,v]}function mO(s,c,m){var v=it,A=Sn(),j=ut;if(j){if(m===void 0)throw Error(r(407));m=m()}else m=c();var I=!er(($t||A).memoizedState,m);if(I&&(A.memoizedState=m,Mn=!0),A=A.queue,s_(yO.bind(null,v,A,s),[s]),A.getSnapshot!==c||I||Cn!==null&&Cn.memoizedState.tag&1){if(v.flags|=2048,Hu(9,{destroy:void 0},gO.bind(null,v,A,m,c),null),Ft===null)throw Error(r(349));j||(Go&127)!==0||pO(v,c,m)}return m}function pO(s,c,m){s.flags|=16384,s={getSnapshot:c,value:m},c=it.updateQueue,c===null?(c=yg(),it.updateQueue=c,c.stores=[s]):(m=c.stores,m===null?c.stores=[s]:m.push(s))}function gO(s,c,m,v){c.value=m,c.getSnapshot=v,bO(c)&&vO(s)}function yO(s,c,m){return m(function(){bO(c)&&vO(s)})}function bO(s){var c=s.getSnapshot;s=s.value;try{var m=c();return!er(s,m)}catch{return!0}}function vO(s){var c=Xi(s,2);c!==null&&ti(c,s,2)}function a_(s){var c=Dr();if(typeof s=="function"){var m=s;if(s=m(),_c){bi(!0);try{m()}finally{bi(!1)}}}return c.memoizedState=c.baseState=s,c.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:qo,lastRenderedState:s},c}function xO(s,c,m,v){return s.baseState=m,r_(s,$t,typeof v=="function"?v:qo)}function cF(s,c,m,v,A){if(wg(s))throw Error(r(485));if(s=c.action,s!==null){var j={payload:A,action:s,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(I){j.listeners.push(I)}};Y.T!==null?m(!0):j.isTransition=!1,v(j),m=c.pending,m===null?(j.next=c.pending=j,_O(c,j)):(j.next=m.next,c.pending=m.next=j)}}function _O(s,c){var m=c.action,v=c.payload,A=s.state;if(c.isTransition){var j=Y.T,I={};Y.T=I;try{var G=m(A,v),te=Y.S;te!==null&&te(I,G),wO(s,c,G)}catch(he){o_(s,c,he)}finally{j!==null&&I.types!==null&&(j.types=I.types),Y.T=j}}else try{j=m(A,v),wO(s,c,j)}catch(he){o_(s,c,he)}}function wO(s,c,m){m!==null&&typeof m=="object"&&typeof m.then=="function"?m.then(function(v){SO(s,c,v)},function(v){return o_(s,c,v)}):SO(s,c,m)}function SO(s,c,m){c.status="fulfilled",c.value=m,kO(c),s.state=m,c=s.pending,c!==null&&(m=c.next,m===c?s.pending=null:(m=m.next,c.next=m,_O(s,m)))}function o_(s,c,m){var v=s.pending;if(s.pending=null,v!==null){v=v.next;do c.status="rejected",c.reason=m,kO(c),c=c.next;while(c!==v)}s.action=null}function kO(s){s=s.listeners;for(var c=0;c<s.length;c++)(0,s[c])()}function EO(s,c){return c}function AO(s,c){if(ut){var m=Ft.formState;if(m!==null){e:{var v=it;if(ut){if(wt){t:{for(var A=wt,j=Zr;A.nodeType!==8;){if(!j){A=null;break t}if(A=ea(A.nextSibling),A===null){A=null;break t}}j=A.data,A=j==="F!"||j==="F"?A:null}if(A){wt=ea(A.nextSibling),v=A.data==="F!";break e}}oo(v)}v=!1}v&&(c=m[0])}}return m=Dr(),m.memoizedState=m.baseState=c,v={pending:null,lanes:0,dispatch:null,lastRenderedReducer:EO,lastRenderedState:c},m.queue=v,m=qO.bind(null,it,v),v.dispatch=m,v=a_(!1),j=f_.bind(null,it,!1,v.queue),v=Dr(),A={state:c,dispatch:null,action:s,pending:null},v.queue=A,m=cF.bind(null,it,A,j,m),A.dispatch=m,v.memoizedState=s,[c,m,!1]}function TO(s){var c=Sn();return OO(c,$t,s)}function OO(s,c,m){if(c=r_(s,c,EO)[0],s=vg(qo)[0],typeof c=="object"&&c!==null&&typeof c.then=="function")try{var v=ah(c)}catch(I){throw I===$u?cg:I}else v=c;c=Sn();var A=c.queue,j=A.dispatch;return m!==c.memoizedState&&(it.flags|=2048,Hu(9,{destroy:void 0},uF.bind(null,A,m),null)),[v,j,s]}function uF(s,c){s.action=c}function jO(s){var c=Sn(),m=$t;if(m!==null)return OO(c,m,s);Sn(),c=c.memoizedState,m=Sn();var v=m.queue.dispatch;return m.memoizedState=s,[c,v,!1]}function Hu(s,c,m,v){return s={tag:s,create:m,deps:v,inst:c,next:null},c=it.updateQueue,c===null&&(c=yg(),it.updateQueue=c),m=c.lastEffect,m===null?c.lastEffect=s.next=s:(v=m.next,m.next=s,s.next=v,c.lastEffect=s),s}function NO(){return Sn().memoizedState}function xg(s,c,m,v){var A=Dr();it.flags|=s,A.memoizedState=Hu(1|c,{destroy:void 0},m,v===void 0?null:v)}function _g(s,c,m,v){var A=Sn();v=v===void 0?null:v;var j=A.memoizedState.inst;$t!==null&&v!==null&&Xx(v,$t.memoizedState.deps)?A.memoizedState=Hu(c,j,m,v):(it.flags|=s,A.memoizedState=Hu(1|c,j,m,v))}function CO(s,c){xg(8390656,8,s,c)}function s_(s,c){_g(2048,8,s,c)}function dF(s){it.flags|=4;var c=it.updateQueue;if(c===null)c=yg(),it.updateQueue=c,c.events=[s];else{var m=c.events;m===null?c.events=[s]:m.push(s)}}function MO(s){var c=Sn().memoizedState;return dF({ref:c,nextImpl:s}),function(){if((Tt&2)!==0)throw Error(r(440));return c.impl.apply(void 0,arguments)}}function PO(s,c){return _g(4,2,s,c)}function DO(s,c){return _g(4,4,s,c)}function RO(s,c){if(typeof c=="function"){s=s();var m=c(s);return function(){typeof m=="function"?m():c(null)}}if(c!=null)return s=s(),c.current=s,function(){c.current=null}}function LO(s,c,m){m=m!=null?m.concat([s]):null,_g(4,4,RO.bind(null,c,s),m)}function l_(){}function IO(s,c){var m=Sn();c=c===void 0?null:c;var v=m.memoizedState;return c!==null&&Xx(c,v[1])?v[0]:(m.memoizedState=[s,c],s)}function $O(s,c){var m=Sn();c=c===void 0?null:c;var v=m.memoizedState;if(c!==null&&Xx(c,v[1]))return v[0];if(v=s(),_c){bi(!0);try{s()}finally{bi(!1)}}return m.memoizedState=[v,c],v}function c_(s,c,m){return m===void 0||(Go&1073741824)!==0&&(mt&261930)===0?s.memoizedState=c:(s.memoizedState=m,s=Bj(),it.lanes|=s,sl|=s,m)}function BO(s,c,m,v){return er(m,c)?m:zu.current!==null?(s=c_(s,m,v),er(s,c)||(Mn=!0),s):(Go&42)===0||(Go&1073741824)!==0&&(mt&261930)===0?(Mn=!0,s.memoizedState=m):(s=Bj(),it.lanes|=s,sl|=s,c)}function zO(s,c,m,v,A){var j=Z.p;Z.p=j!==0&&8>j?j:8;var I=Y.T,G={};Y.T=G,f_(s,!1,c,m);try{var te=A(),he=Y.S;if(he!==null&&he(G,te),te!==null&&typeof te=="object"&&typeof te.then=="function"){var ke=oF(te,v);oh(s,c,ke,Ti(s))}else oh(s,c,v,Ti(s))}catch(Te){oh(s,c,{then:function(){},status:"rejected",reason:Te},Ti())}finally{Z.p=j,I!==null&&G.types!==null&&(I.types=G.types),Y.T=I}}function fF(){}function u_(s,c,m,v){if(s.tag!==5)throw Error(r(476));var A=UO(s).queue;zO(s,A,c,re,m===null?fF:function(){return FO(s),m(v)})}function UO(s){var c=s.memoizedState;if(c!==null)return c;c={memoizedState:re,baseState:re,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:qo,lastRenderedState:re},next:null};var m={};return c.next={memoizedState:m,baseState:m,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:qo,lastRenderedState:m},next:null},s.memoizedState=c,s=s.alternate,s!==null&&(s.memoizedState=c),c}function FO(s){var c=UO(s);c.next===null&&(c=s.alternate.memoizedState),oh(s,c.next.queue,{},Ti())}function d_(){return fr(Sh)}function HO(){return Sn().memoizedState}function GO(){return Sn().memoizedState}function hF(s){for(var c=s.return;c!==null;){switch(c.tag){case 24:case 3:var m=Ti();s=tl(m);var v=nl(c,s,m);v!==null&&(ti(v,c,m),th(v,c,m)),c={cache:zx()},s.payload=c;return}c=c.return}}function mF(s,c,m){var v=Ti();m={lane:v,revertLane:0,gesture:null,action:m,hasEagerState:!1,eagerState:null,next:null},wg(s)?YO(c,m):(m=qf(s,c,m,v),m!==null&&(ti(m,s,v),KO(m,c,v)))}function qO(s,c,m){var v=Ti();oh(s,c,m,v)}function oh(s,c,m,v){var A={lane:v,revertLane:0,gesture:null,action:m,hasEagerState:!1,eagerState:null,next:null};if(wg(s))YO(c,A);else{var j=s.alternate;if(s.lanes===0&&(j===null||j.lanes===0)&&(j=c.lastRenderedReducer,j!==null))try{var I=c.lastRenderedState,G=j(I,m);if(A.hasEagerState=!0,A.eagerState=G,er(G,I))return io(s,c,A,0),Ft===null&&dc(),!1}catch{}finally{}if(m=qf(s,c,A,v),m!==null)return ti(m,s,v),KO(m,c,v),!0}return!1}function f_(s,c,m,v){if(v={lane:2,revertLane:G_(),gesture:null,action:v,hasEagerState:!1,eagerState:null,next:null},wg(s)){if(c)throw Error(r(479))}else c=qf(s,m,v,2),c!==null&&ti(c,s,2)}function wg(s){var c=s.alternate;return s===it||c!==null&&c===it}function YO(s,c){Uu=pg=!0;var m=s.pending;m===null?c.next=c:(c.next=m.next,m.next=c),s.pending=c}function KO(s,c,m){if((m&4194048)!==0){var v=c.lanes;v&=s.pendingLanes,m|=v,c.lanes=m,Pp(s,m)}}var sh={readContext:fr,use:bg,useCallback:yn,useContext:yn,useEffect:yn,useImperativeHandle:yn,useLayoutEffect:yn,useInsertionEffect:yn,useMemo:yn,useReducer:yn,useRef:yn,useState:yn,useDebugValue:yn,useDeferredValue:yn,useTransition:yn,useSyncExternalStore:yn,useId:yn,useHostTransitionStatus:yn,useFormState:yn,useActionState:yn,useOptimistic:yn,useMemoCache:yn,useCacheRefresh:yn};sh.useEffectEvent=yn;var WO={readContext:fr,use:bg,useCallback:function(s,c){return Dr().memoizedState=[s,c===void 0?null:c],s},useContext:fr,useEffect:CO,useImperativeHandle:function(s,c,m){m=m!=null?m.concat([s]):null,xg(4194308,4,RO.bind(null,c,s),m)},useLayoutEffect:function(s,c){return xg(4194308,4,s,c)},useInsertionEffect:function(s,c){xg(4,2,s,c)},useMemo:function(s,c){var m=Dr();c=c===void 0?null:c;var v=s();if(_c){bi(!0);try{s()}finally{bi(!1)}}return m.memoizedState=[v,c],v},useReducer:function(s,c,m){var v=Dr();if(m!==void 0){var A=m(c);if(_c){bi(!0);try{m(c)}finally{bi(!1)}}}else A=c;return v.memoizedState=v.baseState=A,s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:s,lastRenderedState:A},v.queue=s,s=s.dispatch=mF.bind(null,it,s),[v.memoizedState,s]},useRef:function(s){var c=Dr();return s={current:s},c.memoizedState=s},useState:function(s){s=a_(s);var c=s.queue,m=qO.bind(null,it,c);return c.dispatch=m,[s.memoizedState,m]},useDebugValue:l_,useDeferredValue:function(s,c){var m=Dr();return c_(m,s,c)},useTransition:function(){var s=a_(!1);return s=zO.bind(null,it,s.queue,!0,!1),Dr().memoizedState=s,[!1,s]},useSyncExternalStore:function(s,c,m){var v=it,A=Dr();if(ut){if(m===void 0)throw Error(r(407));m=m()}else{if(m=c(),Ft===null)throw Error(r(349));(mt&127)!==0||pO(v,c,m)}A.memoizedState=m;var j={value:m,getSnapshot:c};return A.queue=j,CO(yO.bind(null,v,j,s),[s]),v.flags|=2048,Hu(9,{destroy:void 0},gO.bind(null,v,j,m,c),null),m},useId:function(){var s=Dr(),c=Ft.identifierPrefix;if(ut){var m=Le,v=Ae;m=(v&~(1<<32-Cr(v)-1)).toString(32)+m,c="_"+c+"R_"+m,m=gg++,0<m&&(c+="H"+m.toString(32)),c+="_"}else m=sF++,c="_"+c+"r_"+m.toString(32)+"_";return s.memoizedState=c},useHostTransitionStatus:d_,useFormState:AO,useActionState:AO,useOptimistic:function(s){var c=Dr();c.memoizedState=c.baseState=s;var m={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return c.queue=m,c=f_.bind(null,it,!0,m),m.dispatch=c,[s,c]},useMemoCache:n_,useCacheRefresh:function(){return Dr().memoizedState=hF.bind(null,it)},useEffectEvent:function(s){var c=Dr(),m={impl:s};return c.memoizedState=m,function(){if((Tt&2)!==0)throw Error(r(440));return m.impl.apply(void 0,arguments)}}},h_={readContext:fr,use:bg,useCallback:IO,useContext:fr,useEffect:s_,useImperativeHandle:LO,useInsertionEffect:PO,useLayoutEffect:DO,useMemo:$O,useReducer:vg,useRef:NO,useState:function(){return vg(qo)},useDebugValue:l_,useDeferredValue:function(s,c){var m=Sn();return BO(m,$t.memoizedState,s,c)},useTransition:function(){var s=vg(qo)[0],c=Sn().memoizedState;return[typeof s=="boolean"?s:ah(s),c]},useSyncExternalStore:mO,useId:HO,useHostTransitionStatus:d_,useFormState:TO,useActionState:TO,useOptimistic:function(s,c){var m=Sn();return xO(m,$t,s,c)},useMemoCache:n_,useCacheRefresh:GO};h_.useEffectEvent=MO;var VO={readContext:fr,use:bg,useCallback:IO,useContext:fr,useEffect:s_,useImperativeHandle:LO,useInsertionEffect:PO,useLayoutEffect:DO,useMemo:$O,useReducer:i_,useRef:NO,useState:function(){return i_(qo)},useDebugValue:l_,useDeferredValue:function(s,c){var m=Sn();return $t===null?c_(m,s,c):BO(m,$t.memoizedState,s,c)},useTransition:function(){var s=i_(qo)[0],c=Sn().memoizedState;return[typeof s=="boolean"?s:ah(s),c]},useSyncExternalStore:mO,useId:HO,useHostTransitionStatus:d_,useFormState:jO,useActionState:jO,useOptimistic:function(s,c){var m=Sn();return $t!==null?xO(m,$t,s,c):(m.baseState=s,[s,m.queue.dispatch])},useMemoCache:n_,useCacheRefresh:GO};VO.useEffectEvent=MO;function m_(s,c,m,v){c=s.memoizedState,m=m(v,c),m=m==null?c:p({},c,m),s.memoizedState=m,s.lanes===0&&(s.updateQueue.baseState=m)}var p_={enqueueSetState:function(s,c,m){s=s._reactInternals;var v=Ti(),A=tl(v);A.payload=c,m!=null&&(A.callback=m),c=nl(s,A,v),c!==null&&(ti(c,s,v),th(c,s,v))},enqueueReplaceState:function(s,c,m){s=s._reactInternals;var v=Ti(),A=tl(v);A.tag=1,A.payload=c,m!=null&&(A.callback=m),c=nl(s,A,v),c!==null&&(ti(c,s,v),th(c,s,v))},enqueueForceUpdate:function(s,c){s=s._reactInternals;var m=Ti(),v=tl(m);v.tag=2,c!=null&&(v.callback=c),c=nl(s,v,m),c!==null&&(ti(c,s,m),th(c,s,m))}};function ZO(s,c,m,v,A,j,I){return s=s.stateNode,typeof s.shouldComponentUpdate=="function"?s.shouldComponentUpdate(v,j,I):c.prototype&&c.prototype.isPureReactComponent?!Ws(m,v)||!Ws(A,j):!0}function XO(s,c,m,v){s=c.state,typeof c.componentWillReceiveProps=="function"&&c.componentWillReceiveProps(m,v),typeof c.UNSAFE_componentWillReceiveProps=="function"&&c.UNSAFE_componentWillReceiveProps(m,v),c.state!==s&&p_.enqueueReplaceState(c,c.state,null)}function wc(s,c){var m=c;if("ref"in c){m={};for(var v in c)v!=="ref"&&(m[v]=c[v])}if(s=s.defaultProps){m===c&&(m=p({},m));for(var A in s)m[A]===void 0&&(m[A]=s[A])}return m}function JO(s){uc(s)}function QO(s){console.error(s)}function ej(s){uc(s)}function Sg(s,c){try{var m=s.onUncaughtError;m(c.value,{componentStack:c.stack})}catch(v){setTimeout(function(){throw v})}}function tj(s,c,m){try{var v=s.onCaughtError;v(m.value,{componentStack:m.stack,errorBoundary:c.tag===1?c.stateNode:null})}catch(A){setTimeout(function(){throw A})}}function g_(s,c,m){return m=tl(m),m.tag=3,m.payload={element:null},m.callback=function(){Sg(s,c)},m}function nj(s){return s=tl(s),s.tag=3,s}function rj(s,c,m,v){var A=m.type.getDerivedStateFromError;if(typeof A=="function"){var j=v.value;s.payload=function(){return A(j)},s.callback=function(){tj(c,m,v)}}var I=m.stateNode;I!==null&&typeof I.componentDidCatch=="function"&&(s.callback=function(){tj(c,m,v),typeof A!="function"&&(ll===null?ll=new Set([this]):ll.add(this));var G=v.stack;this.componentDidCatch(v.value,{componentStack:G!==null?G:""})})}function pF(s,c,m,v,A){if(m.flags|=32768,v!==null&&typeof v=="object"&&typeof v.then=="function"){if(c=m.alternate,c!==null&&Ru(c,m,A,!0),m=Si.current,m!==null){switch(m.tag){case 31:case 13:return Qi===null?Rg():m.alternate===null&&bn===0&&(bn=3),m.flags&=-257,m.flags|=65536,m.lanes=A,v===ug?m.flags|=16384:(c=m.updateQueue,c===null?m.updateQueue=new Set([v]):c.add(v),U_(s,v,A)),!1;case 22:return m.flags|=65536,v===ug?m.flags|=16384:(c=m.updateQueue,c===null?(c={transitions:null,markerInstances:null,retryQueue:new Set([v])},m.updateQueue=c):(m=c.retryQueue,m===null?c.retryQueue=new Set([v]):m.add(v)),U_(s,v,A)),!1}throw Error(r(435,m.tag))}return U_(s,v,A),Rg(),!1}if(ut)return c=Si.current,c!==null?((c.flags&65536)===0&&(c.flags|=256),c.flags|=65536,c.lanes=A,v!==Du&&(s=Error(r(422),{cause:v}),mc(y(s,m)))):(v!==Du&&(c=Error(r(423),{cause:v}),mc(y(c,m))),s=s.current.alternate,s.flags|=65536,A&=-A,s.lanes|=A,v=y(v,m),A=g_(s.stateNode,v,A),Yx(s,A),bn!==4&&(bn=2)),!1;var j=Error(r(520),{cause:v});if(j=y(j,m),ph===null?ph=[j]:ph.push(j),bn!==4&&(bn=2),c===null)return!0;v=y(v,m),m=c;do{switch(m.tag){case 3:return m.flags|=65536,s=A&-A,m.lanes|=s,s=g_(m.stateNode,v,s),Yx(m,s),!1;case 1:if(c=m.type,j=m.stateNode,(m.flags&128)===0&&(typeof c.getDerivedStateFromError=="function"||j!==null&&typeof j.componentDidCatch=="function"&&(ll===null||!ll.has(j))))return m.flags|=65536,A&=-A,m.lanes|=A,A=nj(A),rj(A,s,m,v),Yx(m,A),!1}m=m.return}while(m!==null);return!1}var y_=Error(r(461)),Mn=!1;function hr(s,c,m,v){c.child=s===null?sO(c,null,m,v):xc(c,s.child,m,v)}function ij(s,c,m,v,A){m=m.render;var j=c.ref;if("ref"in v){var I={};for(var G in v)G!=="ref"&&(I[G]=v[G])}else I=v;return gc(c),v=Jx(s,c,m,I,j,A),G=Qx(),s!==null&&!Mn?(e_(s,c,A),Yo(s,c,A)):(ut&&G&&zn(c),c.flags|=1,hr(s,c,v,A),c.child)}function aj(s,c,m,v,A){if(s===null){var j=m.type;return typeof j=="function"&&!Mu(j)&&j.defaultProps===void 0&&m.compare===null?(c.tag=15,c.type=j,oj(s,c,j,v,A)):(s=hc(m.type,null,v,c,c.mode,A),s.ref=c.ref,s.return=c,c.child=s)}if(j=s.child,!E_(s,A)){var I=j.memoizedProps;if(m=m.compare,m=m!==null?m:Ws,m(I,v)&&s.ref===c.ref)return Yo(s,c,A)}return c.flags|=1,s=Ji(j,v),s.ref=c.ref,s.return=c,c.child=s}function oj(s,c,m,v,A){if(s!==null){var j=s.memoizedProps;if(Ws(j,v)&&s.ref===c.ref)if(Mn=!1,c.pendingProps=v=j,E_(s,A))(s.flags&131072)!==0&&(Mn=!0);else return c.lanes=s.lanes,Yo(s,c,A)}return b_(s,c,m,v,A)}function sj(s,c,m,v){var A=v.children,j=s!==null?s.memoizedState:null;if(s===null&&c.stateNode===null&&(c.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),v.mode==="hidden"){if((c.flags&128)!==0){if(j=j!==null?j.baseLanes|m:m,s!==null){for(v=c.child=s.child,A=0;v!==null;)A=A|v.lanes|v.childLanes,v=v.sibling;v=A&~j}else v=0,c.child=null;return lj(s,c,j,m,v)}if((m&536870912)!==0)c.memoizedState={baseLanes:0,cachePool:null},s!==null&&lg(c,j!==null?j.cachePool:null),j!==null?uO(c,j):Wx(),dO(c);else return v=c.lanes=536870912,lj(s,c,j!==null?j.baseLanes|m:m,m,v)}else j!==null?(lg(c,j.cachePool),uO(c,j),il(),c.memoizedState=null):(s!==null&&lg(c,null),Wx(),il());return hr(s,c,A,m),c.child}function lh(s,c){return s!==null&&s.tag===22||c.stateNode!==null||(c.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),c.sibling}function lj(s,c,m,v,A){var j=Fx();return j=j===null?null:{parent:Nn._currentValue,pool:j},c.memoizedState={baseLanes:m,cachePool:j},s!==null&&lg(c,null),Wx(),dO(c),s!==null&&Ru(s,c,v,!0),c.childLanes=A,null}function kg(s,c){return c=Ag({mode:c.mode,children:c.children},s.mode),c.ref=s.ref,s.child=c,c.return=s,c}function cj(s,c,m){return xc(c,s.child,null,m),s=kg(c,c.pendingProps),s.flags|=2,ki(c),c.memoizedState=null,s}function gF(s,c,m){var v=c.pendingProps,A=(c.flags&128)!==0;if(c.flags&=-129,s===null){if(ut){if(v.mode==="hidden")return s=kg(c,v),c.lanes=536870912,lh(null,s);if(Zx(c),(s=wt)?(s=_N(s,Zr),s=s!==null&&s.data==="&"?s:null,s!==null&&(c.memoizedState={dehydrated:s,treeContext:ge!==null?{id:Ae,overflow:Le}:null,retryLane:536870912,hydrationErrors:null},m=Kf(s),m.return=c,c.child=m,_t=c,wt=null)):s=null,s===null)throw oo(c);return c.lanes=536870912,null}return kg(c,v)}var j=s.memoizedState;if(j!==null){var I=j.dehydrated;if(Zx(c),A)if(c.flags&256)c.flags&=-257,c=cj(s,c,m);else if(c.memoizedState!==null)c.child=s.child,c.flags|=128,c=null;else throw Error(r(558));else if(Mn||Ru(s,c,m,!1),A=(m&s.childLanes)!==0,Mn||A){if(v=Ft,v!==null&&(I=Dp(v,m),I!==0&&I!==j.retryLane))throw j.retryLane=I,Xi(s,I),ti(v,s,I),y_;Rg(),c=cj(s,c,m)}else s=j.treeContext,wt=ea(I.nextSibling),_t=c,ut=!0,ao=null,Zr=!1,s!==null&&Pr(c,s),c=kg(c,v),c.flags|=4096;return c}return s=Ji(s.child,{mode:v.mode,children:v.children}),s.ref=c.ref,c.child=s,s.return=c,s}function Eg(s,c){var m=c.ref;if(m===null)s!==null&&s.ref!==null&&(c.flags|=4194816);else{if(typeof m!="function"&&typeof m!="object")throw Error(r(284));(s===null||s.ref!==m)&&(c.flags|=4194816)}}function b_(s,c,m,v,A){return gc(c),m=Jx(s,c,m,v,void 0,A),v=Qx(),s!==null&&!Mn?(e_(s,c,A),Yo(s,c,A)):(ut&&v&&zn(c),c.flags|=1,hr(s,c,m,A),c.child)}function uj(s,c,m,v,A,j){return gc(c),c.updateQueue=null,m=hO(c,v,m,A),fO(s),v=Qx(),s!==null&&!Mn?(e_(s,c,j),Yo(s,c,j)):(ut&&v&&zn(c),c.flags|=1,hr(s,c,m,j),c.child)}function dj(s,c,m,v,A){if(gc(c),c.stateNode===null){var j=zo,I=m.contextType;typeof I=="object"&&I!==null&&(j=fr(I)),j=new m(v,j),c.memoizedState=j.state!==null&&j.state!==void 0?j.state:null,j.updater=p_,c.stateNode=j,j._reactInternals=c,j=c.stateNode,j.props=v,j.state=c.memoizedState,j.refs={},Gx(c),I=m.contextType,j.context=typeof I=="object"&&I!==null?fr(I):zo,j.state=c.memoizedState,I=m.getDerivedStateFromProps,typeof I=="function"&&(m_(c,m,I,v),j.state=c.memoizedState),typeof m.getDerivedStateFromProps=="function"||typeof j.getSnapshotBeforeUpdate=="function"||typeof j.UNSAFE_componentWillMount!="function"&&typeof j.componentWillMount!="function"||(I=j.state,typeof j.componentWillMount=="function"&&j.componentWillMount(),typeof j.UNSAFE_componentWillMount=="function"&&j.UNSAFE_componentWillMount(),I!==j.state&&p_.enqueueReplaceState(j,j.state,null),rh(c,v,j,A),nh(),j.state=c.memoizedState),typeof j.componentDidMount=="function"&&(c.flags|=4194308),v=!0}else if(s===null){j=c.stateNode;var G=c.memoizedProps,te=wc(m,G);j.props=te;var he=j.context,ke=m.contextType;I=zo,typeof ke=="object"&&ke!==null&&(I=fr(ke));var Te=m.getDerivedStateFromProps;ke=typeof Te=="function"||typeof j.getSnapshotBeforeUpdate=="function",G=c.pendingProps!==G,ke||typeof j.UNSAFE_componentWillReceiveProps!="function"&&typeof j.componentWillReceiveProps!="function"||(G||he!==I)&&XO(c,j,v,I),el=!1;var ye=c.memoizedState;j.state=ye,rh(c,v,j,A),nh(),he=c.memoizedState,G||ye!==he||el?(typeof Te=="function"&&(m_(c,m,Te,v),he=c.memoizedState),(te=el||ZO(c,m,te,v,ye,he,I))?(ke||typeof j.UNSAFE_componentWillMount!="function"&&typeof j.componentWillMount!="function"||(typeof j.componentWillMount=="function"&&j.componentWillMount(),typeof j.UNSAFE_componentWillMount=="function"&&j.UNSAFE_componentWillMount()),typeof j.componentDidMount=="function"&&(c.flags|=4194308)):(typeof j.componentDidMount=="function"&&(c.flags|=4194308),c.memoizedProps=v,c.memoizedState=he),j.props=v,j.state=he,j.context=I,v=te):(typeof j.componentDidMount=="function"&&(c.flags|=4194308),v=!1)}else{j=c.stateNode,qx(s,c),I=c.memoizedProps,ke=wc(m,I),j.props=ke,Te=c.pendingProps,ye=j.context,he=m.contextType,te=zo,typeof he=="object"&&he!==null&&(te=fr(he)),G=m.getDerivedStateFromProps,(he=typeof G=="function"||typeof j.getSnapshotBeforeUpdate=="function")||typeof j.UNSAFE_componentWillReceiveProps!="function"&&typeof j.componentWillReceiveProps!="function"||(I!==Te||ye!==te)&&XO(c,j,v,te),el=!1,ye=c.memoizedState,j.state=ye,rh(c,v,j,A),nh();var xe=c.memoizedState;I!==Te||ye!==xe||el||s!==null&&s.dependencies!==null&&og(s.dependencies)?(typeof G=="function"&&(m_(c,m,G,v),xe=c.memoizedState),(ke=el||ZO(c,m,ke,v,ye,xe,te)||s!==null&&s.dependencies!==null&&og(s.dependencies))?(he||typeof j.UNSAFE_componentWillUpdate!="function"&&typeof j.componentWillUpdate!="function"||(typeof j.componentWillUpdate=="function"&&j.componentWillUpdate(v,xe,te),typeof j.UNSAFE_componentWillUpdate=="function"&&j.UNSAFE_componentWillUpdate(v,xe,te)),typeof j.componentDidUpdate=="function"&&(c.flags|=4),typeof j.getSnapshotBeforeUpdate=="function"&&(c.flags|=1024)):(typeof j.componentDidUpdate!="function"||I===s.memoizedProps&&ye===s.memoizedState||(c.flags|=4),typeof j.getSnapshotBeforeUpdate!="function"||I===s.memoizedProps&&ye===s.memoizedState||(c.flags|=1024),c.memoizedProps=v,c.memoizedState=xe),j.props=v,j.state=xe,j.context=te,v=ke):(typeof j.componentDidUpdate!="function"||I===s.memoizedProps&&ye===s.memoizedState||(c.flags|=4),typeof j.getSnapshotBeforeUpdate!="function"||I===s.memoizedProps&&ye===s.memoizedState||(c.flags|=1024),v=!1)}return j=v,Eg(s,c),v=(c.flags&128)!==0,j||v?(j=c.stateNode,m=v&&typeof m.getDerivedStateFromError!="function"?null:j.render(),c.flags|=1,s!==null&&v?(c.child=xc(c,s.child,null,A),c.child=xc(c,null,m,A)):hr(s,c,m,A),c.memoizedState=j.state,s=c.child):s=Yo(s,c,A),s}function fj(s,c,m,v){return Fo(),c.flags|=256,hr(s,c,m,v),c.child}var v_={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function x_(s){return{baseLanes:s,cachePool:tO()}}function __(s,c,m){return s=s!==null?s.childLanes&~m:0,c&&(s|=Ai),s}function hj(s,c,m){var v=c.pendingProps,A=!1,j=(c.flags&128)!==0,I;if((I=j)||(I=s!==null&&s.memoizedState===null?!1:(wn.current&2)!==0),I&&(A=!0,c.flags&=-129),I=(c.flags&32)!==0,c.flags&=-33,s===null){if(ut){if(A?rl(c):il(),(s=wt)?(s=_N(s,Zr),s=s!==null&&s.data!=="&"?s:null,s!==null&&(c.memoizedState={dehydrated:s,treeContext:ge!==null?{id:Ae,overflow:Le}:null,retryLane:536870912,hydrationErrors:null},m=Kf(s),m.return=c,c.child=m,_t=c,wt=null)):s=null,s===null)throw oo(c);return rw(s)?c.lanes=32:c.lanes=536870912,null}var G=v.children;return v=v.fallback,A?(il(),A=c.mode,G=Ag({mode:"hidden",children:G},A),v=Uo(v,A,m,null),G.return=c,v.return=c,G.sibling=v,c.child=G,v=c.child,v.memoizedState=x_(m),v.childLanes=__(s,I,m),c.memoizedState=v_,lh(null,v)):(rl(c),w_(c,G))}var te=s.memoizedState;if(te!==null&&(G=te.dehydrated,G!==null)){if(j)c.flags&256?(rl(c),c.flags&=-257,c=S_(s,c,m)):c.memoizedState!==null?(il(),c.child=s.child,c.flags|=128,c=null):(il(),G=v.fallback,A=c.mode,v=Ag({mode:"visible",children:v.children},A),G=Uo(G,A,m,null),G.flags|=2,v.return=c,G.return=c,v.sibling=G,c.child=v,xc(c,s.child,null,m),v=c.child,v.memoizedState=x_(m),v.childLanes=__(s,I,m),c.memoizedState=v_,c=lh(null,v));else if(rl(c),rw(G)){if(I=G.nextSibling&&G.nextSibling.dataset,I)var he=I.dgst;I=he,v=Error(r(419)),v.stack="",v.digest=I,mc({value:v,source:null,stack:null}),c=S_(s,c,m)}else if(Mn||Ru(s,c,m,!1),I=(m&s.childLanes)!==0,Mn||I){if(I=Ft,I!==null&&(v=Dp(I,m),v!==0&&v!==te.retryLane))throw te.retryLane=v,Xi(s,v),ti(I,s,v),y_;nw(G)||Rg(),c=S_(s,c,m)}else nw(G)?(c.flags|=192,c.child=s.child,c=null):(s=te.treeContext,wt=ea(G.nextSibling),_t=c,ut=!0,ao=null,Zr=!1,s!==null&&Pr(c,s),c=w_(c,v.children),c.flags|=4096);return c}return A?(il(),G=v.fallback,A=c.mode,te=s.child,he=te.sibling,v=Ji(te,{mode:"hidden",children:v.children}),v.subtreeFlags=te.subtreeFlags&65011712,he!==null?G=Ji(he,G):(G=Uo(G,A,m,null),G.flags|=2),G.return=c,v.return=c,v.sibling=G,c.child=v,lh(null,v),v=c.child,G=s.child.memoizedState,G===null?G=x_(m):(A=G.cachePool,A!==null?(te=Nn._currentValue,A=A.parent!==te?{parent:te,pool:te}:A):A=tO(),G={baseLanes:G.baseLanes|m,cachePool:A}),v.memoizedState=G,v.childLanes=__(s,I,m),c.memoizedState=v_,lh(s.child,v)):(rl(c),m=s.child,s=m.sibling,m=Ji(m,{mode:"visible",children:v.children}),m.return=c,m.sibling=null,s!==null&&(I=c.deletions,I===null?(c.deletions=[s],c.flags|=16):I.push(s)),c.child=m,c.memoizedState=null,m)}function w_(s,c){return c=Ag({mode:"visible",children:c},s.mode),c.return=s,s.child=c}function Ag(s,c){return s=Er(22,s,null,c),s.lanes=0,s}function S_(s,c,m){return xc(c,s.child,null,m),s=w_(c,c.pendingProps.children),s.flags|=2,c.memoizedState=null,s}function mj(s,c,m){s.lanes|=c;var v=s.alternate;v!==null&&(v.lanes|=c),$x(s.return,c,m)}function k_(s,c,m,v,A,j){var I=s.memoizedState;I===null?s.memoizedState={isBackwards:c,rendering:null,renderingStartTime:0,last:v,tail:m,tailMode:A,treeForkCount:j}:(I.isBackwards=c,I.rendering=null,I.renderingStartTime=0,I.last=v,I.tail=m,I.tailMode=A,I.treeForkCount=j)}function pj(s,c,m){var v=c.pendingProps,A=v.revealOrder,j=v.tail;v=v.children;var I=wn.current,G=(I&2)!==0;if(G?(I=I&1|2,c.flags|=128):I&=1,ae(wn,I),hr(s,c,v,m),v=ut?F:0,!G&&s!==null&&(s.flags&128)!==0)e:for(s=c.child;s!==null;){if(s.tag===13)s.memoizedState!==null&&mj(s,m,c);else if(s.tag===19)mj(s,m,c);else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===c)break e;for(;s.sibling===null;){if(s.return===null||s.return===c)break e;s=s.return}s.sibling.return=s.return,s=s.sibling}switch(A){case"forwards":for(m=c.child,A=null;m!==null;)s=m.alternate,s!==null&&mg(s)===null&&(A=m),m=m.sibling;m=A,m===null?(A=c.child,c.child=null):(A=m.sibling,m.sibling=null),k_(c,!1,A,m,j,v);break;case"backwards":case"unstable_legacy-backwards":for(m=null,A=c.child,c.child=null;A!==null;){if(s=A.alternate,s!==null&&mg(s)===null){c.child=A;break}s=A.sibling,A.sibling=m,m=A,A=s}k_(c,!0,m,null,j,v);break;case"together":k_(c,!1,null,null,void 0,v);break;default:c.memoizedState=null}return c.child}function Yo(s,c,m){if(s!==null&&(c.dependencies=s.dependencies),sl|=c.lanes,(m&c.childLanes)===0)if(s!==null){if(Ru(s,c,m,!1),(m&c.childLanes)===0)return null}else return null;if(s!==null&&c.child!==s.child)throw Error(r(153));if(c.child!==null){for(s=c.child,m=Ji(s,s.pendingProps),c.child=m,m.return=c;s.sibling!==null;)s=s.sibling,m=m.sibling=Ji(s,s.pendingProps),m.return=c;m.sibling=null}return c.child}function E_(s,c){return(s.lanes&c)!==0?!0:(s=s.dependencies,!!(s!==null&&og(s)))}function yF(s,c,m){switch(c.tag){case 3:be(c,c.stateNode.containerInfo),Qs(c,Nn,s.memoizedState.cache),Fo();break;case 27:case 5:Oe(c);break;case 4:be(c,c.stateNode.containerInfo);break;case 10:Qs(c,c.type,c.memoizedProps.value);break;case 31:if(c.memoizedState!==null)return c.flags|=128,Zx(c),null;break;case 13:var v=c.memoizedState;if(v!==null)return v.dehydrated!==null?(rl(c),c.flags|=128,null):(m&c.child.childLanes)!==0?hj(s,c,m):(rl(c),s=Yo(s,c,m),s!==null?s.sibling:null);rl(c);break;case 19:var A=(s.flags&128)!==0;if(v=(m&c.childLanes)!==0,v||(Ru(s,c,m,!1),v=(m&c.childLanes)!==0),A){if(v)return pj(s,c,m);c.flags|=128}if(A=c.memoizedState,A!==null&&(A.rendering=null,A.tail=null,A.lastEffect=null),ae(wn,wn.current),v)break;return null;case 22:return c.lanes=0,sj(s,c,m,c.pendingProps);case 24:Qs(c,Nn,s.memoizedState.cache)}return Yo(s,c,m)}function gj(s,c,m){if(s!==null)if(s.memoizedProps!==c.pendingProps)Mn=!0;else{if(!E_(s,m)&&(c.flags&128)===0)return Mn=!1,yF(s,c,m);Mn=(s.flags&131072)!==0}else Mn=!1,ut&&(c.flags&1048576)!==0&&ot(c,F,c.index);switch(c.lanes=0,c.tag){case 16:e:{var v=c.pendingProps;if(s=bc(c.elementType),c.type=s,typeof s=="function")Mu(s)?(v=wc(s,v),c.tag=1,c=dj(null,c,s,v,m)):(c.tag=0,c=b_(null,c,s,v,m));else{if(s!=null){var A=s.$$typeof;if(A===P){c.tag=11,c=ij(null,c,s,v,m);break e}else if(A===$){c.tag=14,c=aj(null,c,s,v,m);break e}}throw c=J(s)||s,Error(r(306,c,""))}}return c;case 0:return b_(s,c,c.type,c.pendingProps,m);case 1:return v=c.type,A=wc(v,c.pendingProps),dj(s,c,v,A,m);case 3:e:{if(be(c,c.stateNode.containerInfo),s===null)throw Error(r(387));v=c.pendingProps;var j=c.memoizedState;A=j.element,qx(s,c),rh(c,v,null,m);var I=c.memoizedState;if(v=I.cache,Qs(c,Nn,v),v!==j.cache&&Bx(c,[Nn],m,!0),nh(),v=I.element,j.isDehydrated)if(j={element:v,isDehydrated:!1,cache:I.cache},c.updateQueue.baseState=j,c.memoizedState=j,c.flags&256){c=fj(s,c,v,m);break e}else if(v!==A){A=y(Error(r(424)),c),mc(A),c=fj(s,c,v,m);break e}else{switch(s=c.stateNode.containerInfo,s.nodeType){case 9:s=s.body;break;default:s=s.nodeName==="HTML"?s.ownerDocument.body:s}for(wt=ea(s.firstChild),_t=c,ut=!0,ao=null,Zr=!0,m=sO(c,null,v,m),c.child=m;m;)m.flags=m.flags&-3|4096,m=m.sibling}else{if(Fo(),v===A){c=Yo(s,c,m);break e}hr(s,c,v,m)}c=c.child}return c;case 26:return Eg(s,c),s===null?(m=TN(c.type,null,c.pendingProps,null))?c.memoizedState=m:ut||(m=c.type,s=c.pendingProps,v=Fg(me.current).createElement(m),v[On]=c,v[Qn]=s,mr(v,m,s),jn(v),c.stateNode=v):c.memoizedState=TN(c.type,s.memoizedProps,c.pendingProps,s.memoizedState),null;case 27:return Oe(c),s===null&&ut&&(v=c.stateNode=kN(c.type,c.pendingProps,me.current),_t=c,Zr=!0,A=wt,fl(c.type)?(iw=A,wt=ea(v.firstChild)):wt=A),hr(s,c,c.pendingProps.children,m),Eg(s,c),s===null&&(c.flags|=4194304),c.child;case 5:return s===null&&ut&&((A=v=wt)&&(v=KF(v,c.type,c.pendingProps,Zr),v!==null?(c.stateNode=v,_t=c,wt=ea(v.firstChild),Zr=!1,A=!0):A=!1),A||oo(c)),Oe(c),A=c.type,j=c.pendingProps,I=s!==null?s.memoizedProps:null,v=j.children,Q_(A,j)?v=null:I!==null&&Q_(A,I)&&(c.flags|=32),c.memoizedState!==null&&(A=Jx(s,c,lF,null,null,m),Sh._currentValue=A),Eg(s,c),hr(s,c,v,m),c.child;case 6:return s===null&&ut&&((s=m=wt)&&(m=WF(m,c.pendingProps,Zr),m!==null?(c.stateNode=m,_t=c,wt=null,s=!0):s=!1),s||oo(c)),null;case 13:return hj(s,c,m);case 4:return be(c,c.stateNode.containerInfo),v=c.pendingProps,s===null?c.child=xc(c,null,v,m):hr(s,c,v,m),c.child;case 11:return ij(s,c,c.type,c.pendingProps,m);case 7:return hr(s,c,c.pendingProps,m),c.child;case 8:return hr(s,c,c.pendingProps.children,m),c.child;case 12:return hr(s,c,c.pendingProps.children,m),c.child;case 10:return v=c.pendingProps,Qs(c,c.type,v.value),hr(s,c,v.children,m),c.child;case 9:return A=c.type._context,v=c.pendingProps.children,gc(c),A=fr(A),v=v(A),c.flags|=1,hr(s,c,v,m),c.child;case 14:return aj(s,c,c.type,c.pendingProps,m);case 15:return oj(s,c,c.type,c.pendingProps,m);case 19:return pj(s,c,m);case 31:return gF(s,c,m);case 22:return sj(s,c,m,c.pendingProps);case 24:return gc(c),v=fr(Nn),s===null?(A=Fx(),A===null&&(A=Ft,j=zx(),A.pooledCache=j,j.refCount++,j!==null&&(A.pooledCacheLanes|=m),A=j),c.memoizedState={parent:v,cache:A},Gx(c),Qs(c,Nn,A)):((s.lanes&m)!==0&&(qx(s,c),rh(c,null,null,m),nh()),A=s.memoizedState,j=c.memoizedState,A.parent!==v?(A={parent:v,cache:v},c.memoizedState=A,c.lanes===0&&(c.memoizedState=c.updateQueue.baseState=A),Qs(c,Nn,v)):(v=j.cache,Qs(c,Nn,v),v!==A.cache&&Bx(c,[Nn],m,!0))),hr(s,c,c.pendingProps.children,m),c.child;case 29:throw c.pendingProps}throw Error(r(156,c.tag))}function Ko(s){s.flags|=4}function A_(s,c,m,v,A){if((c=(s.mode&32)!==0)&&(c=!1),c){if(s.flags|=16777216,(A&335544128)===A)if(s.stateNode.complete)s.flags|=8192;else if(Hj())s.flags|=8192;else throw vc=ug,Hx}else s.flags&=-16777217}function yj(s,c){if(c.type!=="stylesheet"||(c.state.loading&4)!==0)s.flags&=-16777217;else if(s.flags|=16777216,!MN(c))if(Hj())s.flags|=8192;else throw vc=ug,Hx}function Tg(s,c){c!==null&&(s.flags|=4),s.flags&16384&&(c=s.tag!==22?Cp():536870912,s.lanes|=c,Ku|=c)}function ch(s,c){if(!ut)switch(s.tailMode){case"hidden":c=s.tail;for(var m=null;c!==null;)c.alternate!==null&&(m=c),c=c.sibling;m===null?s.tail=null:m.sibling=null;break;case"collapsed":m=s.tail;for(var v=null;m!==null;)m.alternate!==null&&(v=m),m=m.sibling;v===null?c||s.tail===null?s.tail=null:s.tail.sibling=null:v.sibling=null}}function Xt(s){var c=s.alternate!==null&&s.alternate.child===s.child,m=0,v=0;if(c)for(var A=s.child;A!==null;)m|=A.lanes|A.childLanes,v|=A.subtreeFlags&65011712,v|=A.flags&65011712,A.return=s,A=A.sibling;else for(A=s.child;A!==null;)m|=A.lanes|A.childLanes,v|=A.subtreeFlags,v|=A.flags,A.return=s,A=A.sibling;return s.subtreeFlags|=v,s.childLanes=m,c}function bF(s,c,m){var v=c.pendingProps;switch(gn(c),c.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Xt(c),null;case 1:return Xt(c),null;case 3:return m=c.stateNode,v=null,s!==null&&(v=s.memoizedState.cache),c.memoizedState.cache!==v&&(c.flags|=2048),Ho(Nn),ne(),m.pendingContext&&(m.context=m.pendingContext,m.pendingContext=null),(s===null||s.child===null)&&(Ta(c)?Ko(c):s===null||s.memoizedState.isDehydrated&&(c.flags&256)===0||(c.flags|=1024,Zf())),Xt(c),null;case 26:var A=c.type,j=c.memoizedState;return s===null?(Ko(c),j!==null?(Xt(c),yj(c,j)):(Xt(c),A_(c,A,null,v,m))):j?j!==s.memoizedState?(Ko(c),Xt(c),yj(c,j)):(Xt(c),c.flags&=-16777217):(s=s.memoizedProps,s!==v&&Ko(c),Xt(c),A_(c,A,s,v,m)),null;case 27:if(Ce(c),m=me.current,A=c.type,s!==null&&c.stateNode!=null)s.memoizedProps!==v&&Ko(c);else{if(!v){if(c.stateNode===null)throw Error(r(166));return Xt(c),null}s=X.current,Ta(c)?Vf(c):(s=kN(A,v,m),c.stateNode=s,Ko(c))}return Xt(c),null;case 5:if(Ce(c),A=c.type,s!==null&&c.stateNode!=null)s.memoizedProps!==v&&Ko(c);else{if(!v){if(c.stateNode===null)throw Error(r(166));return Xt(c),null}if(j=X.current,Ta(c))Vf(c);else{var I=Fg(me.current);switch(j){case 1:j=I.createElementNS("http://www.w3.org/2000/svg",A);break;case 2:j=I.createElementNS("http://www.w3.org/1998/Math/MathML",A);break;default:switch(A){case"svg":j=I.createElementNS("http://www.w3.org/2000/svg",A);break;case"math":j=I.createElementNS("http://www.w3.org/1998/Math/MathML",A);break;case"script":j=I.createElement("div"),j.innerHTML="<script><\/script>",j=j.removeChild(j.firstChild);break;case"select":j=typeof v.is=="string"?I.createElement("select",{is:v.is}):I.createElement("select"),v.multiple?j.multiple=!0:v.size&&(j.size=v.size);break;default:j=typeof v.is=="string"?I.createElement(A,{is:v.is}):I.createElement(A)}}j[On]=c,j[Qn]=v;e:for(I=c.child;I!==null;){if(I.tag===5||I.tag===6)j.appendChild(I.stateNode);else if(I.tag!==4&&I.tag!==27&&I.child!==null){I.child.return=I,I=I.child;continue}if(I===c)break e;for(;I.sibling===null;){if(I.return===null||I.return===c)break e;I=I.return}I.sibling.return=I.return,I=I.sibling}c.stateNode=j;e:switch(mr(j,A,v),A){case"button":case"input":case"select":case"textarea":v=!!v.autoFocus;break e;case"img":v=!0;break e;default:v=!1}v&&Ko(c)}}return Xt(c),A_(c,c.type,s===null?null:s.memoizedProps,c.pendingProps,m),null;case 6:if(s&&c.stateNode!=null)s.memoizedProps!==v&&Ko(c);else{if(typeof v!="string"&&c.stateNode===null)throw Error(r(166));if(s=me.current,Ta(c)){if(s=c.stateNode,m=c.memoizedProps,v=null,A=_t,A!==null)switch(A.tag){case 27:case 5:v=A.memoizedProps}s[On]=c,s=!!(s.nodeValue===m||v!==null&&v.suppressHydrationWarning===!0||hN(s.nodeValue,m)),s||oo(c,!0)}else s=Fg(s).createTextNode(v),s[On]=c,c.stateNode=s}return Xt(c),null;case 31:if(m=c.memoizedState,s===null||s.memoizedState!==null){if(v=Ta(c),m!==null){if(s===null){if(!v)throw Error(r(318));if(s=c.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(r(557));s[On]=c}else Fo(),(c.flags&128)===0&&(c.memoizedState=null),c.flags|=4;Xt(c),s=!1}else m=Zf(),s!==null&&s.memoizedState!==null&&(s.memoizedState.hydrationErrors=m),s=!0;if(!s)return c.flags&256?(ki(c),c):(ki(c),null);if((c.flags&128)!==0)throw Error(r(558))}return Xt(c),null;case 13:if(v=c.memoizedState,s===null||s.memoizedState!==null&&s.memoizedState.dehydrated!==null){if(A=Ta(c),v!==null&&v.dehydrated!==null){if(s===null){if(!A)throw Error(r(318));if(A=c.memoizedState,A=A!==null?A.dehydrated:null,!A)throw Error(r(317));A[On]=c}else Fo(),(c.flags&128)===0&&(c.memoizedState=null),c.flags|=4;Xt(c),A=!1}else A=Zf(),s!==null&&s.memoizedState!==null&&(s.memoizedState.hydrationErrors=A),A=!0;if(!A)return c.flags&256?(ki(c),c):(ki(c),null)}return ki(c),(c.flags&128)!==0?(c.lanes=m,c):(m=v!==null,s=s!==null&&s.memoizedState!==null,m&&(v=c.child,A=null,v.alternate!==null&&v.alternate.memoizedState!==null&&v.alternate.memoizedState.cachePool!==null&&(A=v.alternate.memoizedState.cachePool.pool),j=null,v.memoizedState!==null&&v.memoizedState.cachePool!==null&&(j=v.memoizedState.cachePool.pool),j!==A&&(v.flags|=2048)),m!==s&&m&&(c.child.flags|=8192),Tg(c,c.updateQueue),Xt(c),null);case 4:return ne(),s===null&&W_(c.stateNode.containerInfo),Xt(c),null;case 10:return Ho(c.type),Xt(c),null;case 19:if(W(wn),v=c.memoizedState,v===null)return Xt(c),null;if(A=(c.flags&128)!==0,j=v.rendering,j===null)if(A)ch(v,!1);else{if(bn!==0||s!==null&&(s.flags&128)!==0)for(s=c.child;s!==null;){if(j=mg(s),j!==null){for(c.flags|=128,ch(v,!1),s=j.updateQueue,c.updateQueue=s,Tg(c,s),c.subtreeFlags=0,s=m,m=c.child;m!==null;)Yf(m,s),m=m.sibling;return ae(wn,wn.current&1|2),ut&&qe(c,v.treeForkCount),c.child}s=s.sibling}v.tail!==null&&Be()>Mg&&(c.flags|=128,A=!0,ch(v,!1),c.lanes=4194304)}else{if(!A)if(s=mg(j),s!==null){if(c.flags|=128,A=!0,s=s.updateQueue,c.updateQueue=s,Tg(c,s),ch(v,!0),v.tail===null&&v.tailMode==="hidden"&&!j.alternate&&!ut)return Xt(c),null}else 2*Be()-v.renderingStartTime>Mg&&m!==536870912&&(c.flags|=128,A=!0,ch(v,!1),c.lanes=4194304);v.isBackwards?(j.sibling=c.child,c.child=j):(s=v.last,s!==null?s.sibling=j:c.child=j,v.last=j)}return v.tail!==null?(s=v.tail,v.rendering=s,v.tail=s.sibling,v.renderingStartTime=Be(),s.sibling=null,m=wn.current,ae(wn,A?m&1|2:m&1),ut&&qe(c,v.treeForkCount),s):(Xt(c),null);case 22:case 23:return ki(c),Vx(),v=c.memoizedState!==null,s!==null?s.memoizedState!==null!==v&&(c.flags|=8192):v&&(c.flags|=8192),v?(m&536870912)!==0&&(c.flags&128)===0&&(Xt(c),c.subtreeFlags&6&&(c.flags|=8192)):Xt(c),m=c.updateQueue,m!==null&&Tg(c,m.retryQueue),m=null,s!==null&&s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(m=s.memoizedState.cachePool.pool),v=null,c.memoizedState!==null&&c.memoizedState.cachePool!==null&&(v=c.memoizedState.cachePool.pool),v!==m&&(c.flags|=2048),s!==null&&W(yc),null;case 24:return m=null,s!==null&&(m=s.memoizedState.cache),c.memoizedState.cache!==m&&(c.flags|=2048),Ho(Nn),Xt(c),null;case 25:return null;case 30:return null}throw Error(r(156,c.tag))}function vF(s,c){switch(gn(c),c.tag){case 1:return s=c.flags,s&65536?(c.flags=s&-65537|128,c):null;case 3:return Ho(Nn),ne(),s=c.flags,(s&65536)!==0&&(s&128)===0?(c.flags=s&-65537|128,c):null;case 26:case 27:case 5:return Ce(c),null;case 31:if(c.memoizedState!==null){if(ki(c),c.alternate===null)throw Error(r(340));Fo()}return s=c.flags,s&65536?(c.flags=s&-65537|128,c):null;case 13:if(ki(c),s=c.memoizedState,s!==null&&s.dehydrated!==null){if(c.alternate===null)throw Error(r(340));Fo()}return s=c.flags,s&65536?(c.flags=s&-65537|128,c):null;case 19:return W(wn),null;case 4:return ne(),null;case 10:return Ho(c.type),null;case 22:case 23:return ki(c),Vx(),s!==null&&W(yc),s=c.flags,s&65536?(c.flags=s&-65537|128,c):null;case 24:return Ho(Nn),null;case 25:return null;default:return null}}function bj(s,c){switch(gn(c),c.tag){case 3:Ho(Nn),ne();break;case 26:case 27:case 5:Ce(c);break;case 4:ne();break;case 31:c.memoizedState!==null&&ki(c);break;case 13:ki(c);break;case 19:W(wn);break;case 10:Ho(c.type);break;case 22:case 23:ki(c),Vx(),s!==null&&W(yc);break;case 24:Ho(Nn)}}function uh(s,c){try{var m=c.updateQueue,v=m!==null?m.lastEffect:null;if(v!==null){var A=v.next;m=A;do{if((m.tag&s)===s){v=void 0;var j=m.create,I=m.inst;v=j(),I.destroy=v}m=m.next}while(m!==A)}}catch(G){Rt(c,c.return,G)}}function al(s,c,m){try{var v=c.updateQueue,A=v!==null?v.lastEffect:null;if(A!==null){var j=A.next;v=j;do{if((v.tag&s)===s){var I=v.inst,G=I.destroy;if(G!==void 0){I.destroy=void 0,A=c;var te=m,he=G;try{he()}catch(ke){Rt(A,te,ke)}}}v=v.next}while(v!==j)}}catch(ke){Rt(c,c.return,ke)}}function vj(s){var c=s.updateQueue;if(c!==null){var m=s.stateNode;try{cO(c,m)}catch(v){Rt(s,s.return,v)}}}function xj(s,c,m){m.props=wc(s.type,s.memoizedProps),m.state=s.memoizedState;try{m.componentWillUnmount()}catch(v){Rt(s,c,v)}}function dh(s,c){try{var m=s.ref;if(m!==null){switch(s.tag){case 26:case 27:case 5:var v=s.stateNode;break;case 30:v=s.stateNode;break;default:v=s.stateNode}typeof m=="function"?s.refCleanup=m(v):m.current=v}}catch(A){Rt(s,c,A)}}function lo(s,c){var m=s.ref,v=s.refCleanup;if(m!==null)if(typeof v=="function")try{v()}catch(A){Rt(s,c,A)}finally{s.refCleanup=null,s=s.alternate,s!=null&&(s.refCleanup=null)}else if(typeof m=="function")try{m(null)}catch(A){Rt(s,c,A)}else m.current=null}function _j(s){var c=s.type,m=s.memoizedProps,v=s.stateNode;try{e:switch(c){case"button":case"input":case"select":case"textarea":m.autoFocus&&v.focus();break e;case"img":m.src?v.src=m.src:m.srcSet&&(v.srcset=m.srcSet)}}catch(A){Rt(s,s.return,A)}}function T_(s,c,m){try{var v=s.stateNode;UF(v,s.type,m,c),v[Qn]=c}catch(A){Rt(s,s.return,A)}}function wj(s){return s.tag===5||s.tag===3||s.tag===26||s.tag===27&&fl(s.type)||s.tag===4}function O_(s){e:for(;;){for(;s.sibling===null;){if(s.return===null||wj(s.return))return null;s=s.return}for(s.sibling.return=s.return,s=s.sibling;s.tag!==5&&s.tag!==6&&s.tag!==18;){if(s.tag===27&&fl(s.type)||s.flags&2||s.child===null||s.tag===4)continue e;s.child.return=s,s=s.child}if(!(s.flags&2))return s.stateNode}}function j_(s,c,m){var v=s.tag;if(v===5||v===6)s=s.stateNode,c?(m.nodeType===9?m.body:m.nodeName==="HTML"?m.ownerDocument.body:m).insertBefore(s,c):(c=m.nodeType===9?m.body:m.nodeName==="HTML"?m.ownerDocument.body:m,c.appendChild(s),m=m._reactRootContainer,m!=null||c.onclick!==null||(c.onclick=Yr));else if(v!==4&&(v===27&&fl(s.type)&&(m=s.stateNode,c=null),s=s.child,s!==null))for(j_(s,c,m),s=s.sibling;s!==null;)j_(s,c,m),s=s.sibling}function Og(s,c,m){var v=s.tag;if(v===5||v===6)s=s.stateNode,c?m.insertBefore(s,c):m.appendChild(s);else if(v!==4&&(v===27&&fl(s.type)&&(m=s.stateNode),s=s.child,s!==null))for(Og(s,c,m),s=s.sibling;s!==null;)Og(s,c,m),s=s.sibling}function Sj(s){var c=s.stateNode,m=s.memoizedProps;try{for(var v=s.type,A=c.attributes;A.length;)c.removeAttributeNode(A[0]);mr(c,v,m),c[On]=s,c[Qn]=m}catch(j){Rt(s,s.return,j)}}var Wo=!1,Pn=!1,N_=!1,kj=typeof WeakSet=="function"?WeakSet:Set,nr=null;function xF(s,c){if(s=s.containerInfo,X_=Vg,s=oc(s),eo(s)){if("selectionStart"in s)var m={start:s.selectionStart,end:s.selectionEnd};else e:{m=(m=s.ownerDocument)&&m.defaultView||window;var v=m.getSelection&&m.getSelection();if(v&&v.rangeCount!==0){m=v.anchorNode;var A=v.anchorOffset,j=v.focusNode;v=v.focusOffset;try{m.nodeType,j.nodeType}catch{m=null;break e}var I=0,G=-1,te=-1,he=0,ke=0,Te=s,ye=null;t:for(;;){for(var xe;Te!==m||A!==0&&Te.nodeType!==3||(G=I+A),Te!==j||v!==0&&Te.nodeType!==3||(te=I+v),Te.nodeType===3&&(I+=Te.nodeValue.length),(xe=Te.firstChild)!==null;)ye=Te,Te=xe;for(;;){if(Te===s)break t;if(ye===m&&++he===A&&(G=I),ye===j&&++ke===v&&(te=I),(xe=Te.nextSibling)!==null)break;Te=ye,ye=Te.parentNode}Te=xe}m=G===-1||te===-1?null:{start:G,end:te}}else m=null}m=m||{start:0,end:0}}else m=null;for(J_={focusedElem:s,selectionRange:m},Vg=!1,nr=c;nr!==null;)if(c=nr,s=c.child,(c.subtreeFlags&1028)!==0&&s!==null)s.return=c,nr=s;else for(;nr!==null;){switch(c=nr,j=c.alternate,s=c.flags,c.tag){case 0:if((s&4)!==0&&(s=c.updateQueue,s=s!==null?s.events:null,s!==null))for(m=0;m<s.length;m++)A=s[m],A.ref.impl=A.nextImpl;break;case 11:case 15:break;case 1:if((s&1024)!==0&&j!==null){s=void 0,m=c,A=j.memoizedProps,j=j.memoizedState,v=m.stateNode;try{var ze=wc(m.type,A);s=v.getSnapshotBeforeUpdate(ze,j),v.__reactInternalSnapshotBeforeUpdate=s}catch(Qe){Rt(m,m.return,Qe)}}break;case 3:if((s&1024)!==0){if(s=c.stateNode.containerInfo,m=s.nodeType,m===9)tw(s);else if(m===1)switch(s.nodeName){case"HEAD":case"HTML":case"BODY":tw(s);break;default:s.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((s&1024)!==0)throw Error(r(163))}if(s=c.sibling,s!==null){s.return=c.return,nr=s;break}nr=c.return}}function Ej(s,c,m){var v=m.flags;switch(m.tag){case 0:case 11:case 15:Zo(s,m),v&4&&uh(5,m);break;case 1:if(Zo(s,m),v&4)if(s=m.stateNode,c===null)try{s.componentDidMount()}catch(I){Rt(m,m.return,I)}else{var A=wc(m.type,c.memoizedProps);c=c.memoizedState;try{s.componentDidUpdate(A,c,s.__reactInternalSnapshotBeforeUpdate)}catch(I){Rt(m,m.return,I)}}v&64&&vj(m),v&512&&dh(m,m.return);break;case 3:if(Zo(s,m),v&64&&(s=m.updateQueue,s!==null)){if(c=null,m.child!==null)switch(m.child.tag){case 27:case 5:c=m.child.stateNode;break;case 1:c=m.child.stateNode}try{cO(s,c)}catch(I){Rt(m,m.return,I)}}break;case 27:c===null&&v&4&&Sj(m);case 26:case 5:Zo(s,m),c===null&&v&4&&_j(m),v&512&&dh(m,m.return);break;case 12:Zo(s,m);break;case 31:Zo(s,m),v&4&&Oj(s,m);break;case 13:Zo(s,m),v&4&&jj(s,m),v&64&&(s=m.memoizedState,s!==null&&(s=s.dehydrated,s!==null&&(m=jF.bind(null,m),VF(s,m))));break;case 22:if(v=m.memoizedState!==null||Wo,!v){c=c!==null&&c.memoizedState!==null||Pn,A=Wo;var j=Pn;Wo=v,(Pn=c)&&!j?Xo(s,m,(m.subtreeFlags&8772)!==0):Zo(s,m),Wo=A,Pn=j}break;case 30:break;default:Zo(s,m)}}function Aj(s){var c=s.alternate;c!==null&&(s.alternate=null,Aj(c)),s.child=null,s.deletions=null,s.sibling=null,s.tag===5&&(c=s.stateNode,c!==null&&Of(c)),s.stateNode=null,s.return=null,s.dependencies=null,s.memoizedProps=null,s.memoizedState=null,s.pendingProps=null,s.stateNode=null,s.updateQueue=null}var tn=null,Xr=!1;function Vo(s,c,m){for(m=m.child;m!==null;)Tj(s,c,m),m=m.sibling}function Tj(s,c,m){if(mn&&typeof mn.onCommitFiberUnmount=="function")try{mn.onCommitFiberUnmount(qt,m)}catch{}switch(m.tag){case 26:Pn||lo(m,c),Vo(s,c,m),m.memoizedState?m.memoizedState.count--:m.stateNode&&(m=m.stateNode,m.parentNode.removeChild(m));break;case 27:Pn||lo(m,c);var v=tn,A=Xr;fl(m.type)&&(tn=m.stateNode,Xr=!1),Vo(s,c,m),xh(m.stateNode),tn=v,Xr=A;break;case 5:Pn||lo(m,c);case 6:if(v=tn,A=Xr,tn=null,Vo(s,c,m),tn=v,Xr=A,tn!==null)if(Xr)try{(tn.nodeType===9?tn.body:tn.nodeName==="HTML"?tn.ownerDocument.body:tn).removeChild(m.stateNode)}catch(j){Rt(m,c,j)}else try{tn.removeChild(m.stateNode)}catch(j){Rt(m,c,j)}break;case 18:tn!==null&&(Xr?(s=tn,vN(s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s,m.stateNode),td(s)):vN(tn,m.stateNode));break;case 4:v=tn,A=Xr,tn=m.stateNode.containerInfo,Xr=!0,Vo(s,c,m),tn=v,Xr=A;break;case 0:case 11:case 14:case 15:al(2,m,c),Pn||al(4,m,c),Vo(s,c,m);break;case 1:Pn||(lo(m,c),v=m.stateNode,typeof v.componentWillUnmount=="function"&&xj(m,c,v)),Vo(s,c,m);break;case 21:Vo(s,c,m);break;case 22:Pn=(v=Pn)||m.memoizedState!==null,Vo(s,c,m),Pn=v;break;default:Vo(s,c,m)}}function Oj(s,c){if(c.memoizedState===null&&(s=c.alternate,s!==null&&(s=s.memoizedState,s!==null))){s=s.dehydrated;try{td(s)}catch(m){Rt(c,c.return,m)}}}function jj(s,c){if(c.memoizedState===null&&(s=c.alternate,s!==null&&(s=s.memoizedState,s!==null&&(s=s.dehydrated,s!==null))))try{td(s)}catch(m){Rt(c,c.return,m)}}function _F(s){switch(s.tag){case 31:case 13:case 19:var c=s.stateNode;return c===null&&(c=s.stateNode=new kj),c;case 22:return s=s.stateNode,c=s._retryCache,c===null&&(c=s._retryCache=new kj),c;default:throw Error(r(435,s.tag))}}function jg(s,c){var m=_F(s);c.forEach(function(v){if(!m.has(v)){m.add(v);var A=NF.bind(null,s,v);v.then(A,A)}})}function Jr(s,c){var m=c.deletions;if(m!==null)for(var v=0;v<m.length;v++){var A=m[v],j=s,I=c,G=I;e:for(;G!==null;){switch(G.tag){case 27:if(fl(G.type)){tn=G.stateNode,Xr=!1;break e}break;case 5:tn=G.stateNode,Xr=!1;break e;case 3:case 4:tn=G.stateNode.containerInfo,Xr=!0;break e}G=G.return}if(tn===null)throw Error(r(160));Tj(j,I,A),tn=null,Xr=!1,j=A.alternate,j!==null&&(j.return=null),A.return=null}if(c.subtreeFlags&13886)for(c=c.child;c!==null;)Nj(c,s),c=c.sibling}var ja=null;function Nj(s,c){var m=s.alternate,v=s.flags;switch(s.tag){case 0:case 11:case 14:case 15:Jr(c,s),Qr(s),v&4&&(al(3,s,s.return),uh(3,s),al(5,s,s.return));break;case 1:Jr(c,s),Qr(s),v&512&&(Pn||m===null||lo(m,m.return)),v&64&&Wo&&(s=s.updateQueue,s!==null&&(v=s.callbacks,v!==null&&(m=s.shared.hiddenCallbacks,s.shared.hiddenCallbacks=m===null?v:m.concat(v))));break;case 26:var A=ja;if(Jr(c,s),Qr(s),v&512&&(Pn||m===null||lo(m,m.return)),v&4){var j=m!==null?m.memoizedState:null;if(v=s.memoizedState,m===null)if(v===null)if(s.stateNode===null){e:{v=s.type,m=s.memoizedProps,A=A.ownerDocument||A;t:switch(v){case"title":j=A.getElementsByTagName("title")[0],(!j||j[Gl]||j[On]||j.namespaceURI==="http://www.w3.org/2000/svg"||j.hasAttribute("itemprop"))&&(j=A.createElement(v),A.head.insertBefore(j,A.querySelector("head > title"))),mr(j,v,m),j[On]=s,jn(j),v=j;break e;case"link":var I=NN("link","href",A).get(v+(m.href||""));if(I){for(var G=0;G<I.length;G++)if(j=I[G],j.getAttribute("href")===(m.href==null||m.href===""?null:m.href)&&j.getAttribute("rel")===(m.rel==null?null:m.rel)&&j.getAttribute("title")===(m.title==null?null:m.title)&&j.getAttribute("crossorigin")===(m.crossOrigin==null?null:m.crossOrigin)){I.splice(G,1);break t}}j=A.createElement(v),mr(j,v,m),A.head.appendChild(j);break;case"meta":if(I=NN("meta","content",A).get(v+(m.content||""))){for(G=0;G<I.length;G++)if(j=I[G],j.getAttribute("content")===(m.content==null?null:""+m.content)&&j.getAttribute("name")===(m.name==null?null:m.name)&&j.getAttribute("property")===(m.property==null?null:m.property)&&j.getAttribute("http-equiv")===(m.httpEquiv==null?null:m.httpEquiv)&&j.getAttribute("charset")===(m.charSet==null?null:m.charSet)){I.splice(G,1);break t}}j=A.createElement(v),mr(j,v,m),A.head.appendChild(j);break;default:throw Error(r(468,v))}j[On]=s,jn(j),v=j}s.stateNode=v}else CN(A,s.type,s.stateNode);else s.stateNode=jN(A,v,s.memoizedProps);else j!==v?(j===null?m.stateNode!==null&&(m=m.stateNode,m.parentNode.removeChild(m)):j.count--,v===null?CN(A,s.type,s.stateNode):jN(A,v,s.memoizedProps)):v===null&&s.stateNode!==null&&T_(s,s.memoizedProps,m.memoizedProps)}break;case 27:Jr(c,s),Qr(s),v&512&&(Pn||m===null||lo(m,m.return)),m!==null&&v&4&&T_(s,s.memoizedProps,m.memoizedProps);break;case 5:if(Jr(c,s),Qr(s),v&512&&(Pn||m===null||lo(m,m.return)),s.flags&32){A=s.stateNode;try{qi(A,"")}catch(ze){Rt(s,s.return,ze)}}v&4&&s.stateNode!=null&&(A=s.memoizedProps,T_(s,A,m!==null?m.memoizedProps:A)),v&1024&&(N_=!0);break;case 6:if(Jr(c,s),Qr(s),v&4){if(s.stateNode===null)throw Error(r(162));v=s.memoizedProps,m=s.stateNode;try{m.nodeValue=v}catch(ze){Rt(s,s.return,ze)}}break;case 3:if(qg=null,A=ja,ja=Hg(c.containerInfo),Jr(c,s),ja=A,Qr(s),v&4&&m!==null&&m.memoizedState.isDehydrated)try{td(c.containerInfo)}catch(ze){Rt(s,s.return,ze)}N_&&(N_=!1,Cj(s));break;case 4:v=ja,ja=Hg(s.stateNode.containerInfo),Jr(c,s),Qr(s),ja=v;break;case 12:Jr(c,s),Qr(s);break;case 31:Jr(c,s),Qr(s),v&4&&(v=s.updateQueue,v!==null&&(s.updateQueue=null,jg(s,v)));break;case 13:Jr(c,s),Qr(s),s.child.flags&8192&&s.memoizedState!==null!=(m!==null&&m.memoizedState!==null)&&(Cg=Be()),v&4&&(v=s.updateQueue,v!==null&&(s.updateQueue=null,jg(s,v)));break;case 22:A=s.memoizedState!==null;var te=m!==null&&m.memoizedState!==null,he=Wo,ke=Pn;if(Wo=he||A,Pn=ke||te,Jr(c,s),Pn=ke,Wo=he,Qr(s),v&8192)e:for(c=s.stateNode,c._visibility=A?c._visibility&-2:c._visibility|1,A&&(m===null||te||Wo||Pn||Sc(s)),m=null,c=s;;){if(c.tag===5||c.tag===26){if(m===null){te=m=c;try{if(j=te.stateNode,A)I=j.style,typeof I.setProperty=="function"?I.setProperty("display","none","important"):I.display="none";else{G=te.stateNode;var Te=te.memoizedProps.style,ye=Te!=null&&Te.hasOwnProperty("display")?Te.display:null;G.style.display=ye==null||typeof ye=="boolean"?"":(""+ye).trim()}}catch(ze){Rt(te,te.return,ze)}}}else if(c.tag===6){if(m===null){te=c;try{te.stateNode.nodeValue=A?"":te.memoizedProps}catch(ze){Rt(te,te.return,ze)}}}else if(c.tag===18){if(m===null){te=c;try{var xe=te.stateNode;A?xN(xe,!0):xN(te.stateNode,!1)}catch(ze){Rt(te,te.return,ze)}}}else if((c.tag!==22&&c.tag!==23||c.memoizedState===null||c===s)&&c.child!==null){c.child.return=c,c=c.child;continue}if(c===s)break e;for(;c.sibling===null;){if(c.return===null||c.return===s)break e;m===c&&(m=null),c=c.return}m===c&&(m=null),c.sibling.return=c.return,c=c.sibling}v&4&&(v=s.updateQueue,v!==null&&(m=v.retryQueue,m!==null&&(v.retryQueue=null,jg(s,m))));break;case 19:Jr(c,s),Qr(s),v&4&&(v=s.updateQueue,v!==null&&(s.updateQueue=null,jg(s,v)));break;case 30:break;case 21:break;default:Jr(c,s),Qr(s)}}function Qr(s){var c=s.flags;if(c&2){try{for(var m,v=s.return;v!==null;){if(wj(v)){m=v;break}v=v.return}if(m==null)throw Error(r(160));switch(m.tag){case 27:var A=m.stateNode,j=O_(s);Og(s,j,A);break;case 5:var I=m.stateNode;m.flags&32&&(qi(I,""),m.flags&=-33);var G=O_(s);Og(s,G,I);break;case 3:case 4:var te=m.stateNode.containerInfo,he=O_(s);j_(s,he,te);break;default:throw Error(r(161))}}catch(ke){Rt(s,s.return,ke)}s.flags&=-3}c&4096&&(s.flags&=-4097)}function Cj(s){if(s.subtreeFlags&1024)for(s=s.child;s!==null;){var c=s;Cj(c),c.tag===5&&c.flags&1024&&c.stateNode.reset(),s=s.sibling}}function Zo(s,c){if(c.subtreeFlags&8772)for(c=c.child;c!==null;)Ej(s,c.alternate,c),c=c.sibling}function Sc(s){for(s=s.child;s!==null;){var c=s;switch(c.tag){case 0:case 11:case 14:case 15:al(4,c,c.return),Sc(c);break;case 1:lo(c,c.return);var m=c.stateNode;typeof m.componentWillUnmount=="function"&&xj(c,c.return,m),Sc(c);break;case 27:xh(c.stateNode);case 26:case 5:lo(c,c.return),Sc(c);break;case 22:c.memoizedState===null&&Sc(c);break;case 30:Sc(c);break;default:Sc(c)}s=s.sibling}}function Xo(s,c,m){for(m=m&&(c.subtreeFlags&8772)!==0,c=c.child;c!==null;){var v=c.alternate,A=s,j=c,I=j.flags;switch(j.tag){case 0:case 11:case 15:Xo(A,j,m),uh(4,j);break;case 1:if(Xo(A,j,m),v=j,A=v.stateNode,typeof A.componentDidMount=="function")try{A.componentDidMount()}catch(he){Rt(v,v.return,he)}if(v=j,A=v.updateQueue,A!==null){var G=v.stateNode;try{var te=A.shared.hiddenCallbacks;if(te!==null)for(A.shared.hiddenCallbacks=null,A=0;A<te.length;A++)lO(te[A],G)}catch(he){Rt(v,v.return,he)}}m&&I&64&&vj(j),dh(j,j.return);break;case 27:Sj(j);case 26:case 5:Xo(A,j,m),m&&v===null&&I&4&&_j(j),dh(j,j.return);break;case 12:Xo(A,j,m);break;case 31:Xo(A,j,m),m&&I&4&&Oj(A,j);break;case 13:Xo(A,j,m),m&&I&4&&jj(A,j);break;case 22:j.memoizedState===null&&Xo(A,j,m),dh(j,j.return);break;case 30:break;default:Xo(A,j,m)}c=c.sibling}}function C_(s,c){var m=null;s!==null&&s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(m=s.memoizedState.cachePool.pool),s=null,c.memoizedState!==null&&c.memoizedState.cachePool!==null&&(s=c.memoizedState.cachePool.pool),s!==m&&(s!=null&&s.refCount++,m!=null&&Xf(m))}function M_(s,c){s=null,c.alternate!==null&&(s=c.alternate.memoizedState.cache),c=c.memoizedState.cache,c!==s&&(c.refCount++,s!=null&&Xf(s))}function Na(s,c,m,v){if(c.subtreeFlags&10256)for(c=c.child;c!==null;)Mj(s,c,m,v),c=c.sibling}function Mj(s,c,m,v){var A=c.flags;switch(c.tag){case 0:case 11:case 15:Na(s,c,m,v),A&2048&&uh(9,c);break;case 1:Na(s,c,m,v);break;case 3:Na(s,c,m,v),A&2048&&(s=null,c.alternate!==null&&(s=c.alternate.memoizedState.cache),c=c.memoizedState.cache,c!==s&&(c.refCount++,s!=null&&Xf(s)));break;case 12:if(A&2048){Na(s,c,m,v),s=c.stateNode;try{var j=c.memoizedProps,I=j.id,G=j.onPostCommit;typeof G=="function"&&G(I,c.alternate===null?"mount":"update",s.passiveEffectDuration,-0)}catch(te){Rt(c,c.return,te)}}else Na(s,c,m,v);break;case 31:Na(s,c,m,v);break;case 13:Na(s,c,m,v);break;case 23:break;case 22:j=c.stateNode,I=c.alternate,c.memoizedState!==null?j._visibility&2?Na(s,c,m,v):fh(s,c):j._visibility&2?Na(s,c,m,v):(j._visibility|=2,Gu(s,c,m,v,(c.subtreeFlags&10256)!==0||!1)),A&2048&&C_(I,c);break;case 24:Na(s,c,m,v),A&2048&&M_(c.alternate,c);break;default:Na(s,c,m,v)}}function Gu(s,c,m,v,A){for(A=A&&((c.subtreeFlags&10256)!==0||!1),c=c.child;c!==null;){var j=s,I=c,G=m,te=v,he=I.flags;switch(I.tag){case 0:case 11:case 15:Gu(j,I,G,te,A),uh(8,I);break;case 23:break;case 22:var ke=I.stateNode;I.memoizedState!==null?ke._visibility&2?Gu(j,I,G,te,A):fh(j,I):(ke._visibility|=2,Gu(j,I,G,te,A)),A&&he&2048&&C_(I.alternate,I);break;case 24:Gu(j,I,G,te,A),A&&he&2048&&M_(I.alternate,I);break;default:Gu(j,I,G,te,A)}c=c.sibling}}function fh(s,c){if(c.subtreeFlags&10256)for(c=c.child;c!==null;){var m=s,v=c,A=v.flags;switch(v.tag){case 22:fh(m,v),A&2048&&C_(v.alternate,v);break;case 24:fh(m,v),A&2048&&M_(v.alternate,v);break;default:fh(m,v)}c=c.sibling}}var hh=8192;function qu(s,c,m){if(s.subtreeFlags&hh)for(s=s.child;s!==null;)Pj(s,c,m),s=s.sibling}function Pj(s,c,m){switch(s.tag){case 26:qu(s,c,m),s.flags&hh&&s.memoizedState!==null&&sH(m,ja,s.memoizedState,s.memoizedProps);break;case 5:qu(s,c,m);break;case 3:case 4:var v=ja;ja=Hg(s.stateNode.containerInfo),qu(s,c,m),ja=v;break;case 22:s.memoizedState===null&&(v=s.alternate,v!==null&&v.memoizedState!==null?(v=hh,hh=16777216,qu(s,c,m),hh=v):qu(s,c,m));break;default:qu(s,c,m)}}function Dj(s){var c=s.alternate;if(c!==null&&(s=c.child,s!==null)){c.child=null;do c=s.sibling,s.sibling=null,s=c;while(s!==null)}}function mh(s){var c=s.deletions;if((s.flags&16)!==0){if(c!==null)for(var m=0;m<c.length;m++){var v=c[m];nr=v,Lj(v,s)}Dj(s)}if(s.subtreeFlags&10256)for(s=s.child;s!==null;)Rj(s),s=s.sibling}function Rj(s){switch(s.tag){case 0:case 11:case 15:mh(s),s.flags&2048&&al(9,s,s.return);break;case 3:mh(s);break;case 12:mh(s);break;case 22:var c=s.stateNode;s.memoizedState!==null&&c._visibility&2&&(s.return===null||s.return.tag!==13)?(c._visibility&=-3,Ng(s)):mh(s);break;default:mh(s)}}function Ng(s){var c=s.deletions;if((s.flags&16)!==0){if(c!==null)for(var m=0;m<c.length;m++){var v=c[m];nr=v,Lj(v,s)}Dj(s)}for(s=s.child;s!==null;){switch(c=s,c.tag){case 0:case 11:case 15:al(8,c,c.return),Ng(c);break;case 22:m=c.stateNode,m._visibility&2&&(m._visibility&=-3,Ng(c));break;default:Ng(c)}s=s.sibling}}function Lj(s,c){for(;nr!==null;){var m=nr;switch(m.tag){case 0:case 11:case 15:al(8,m,c);break;case 23:case 22:if(m.memoizedState!==null&&m.memoizedState.cachePool!==null){var v=m.memoizedState.cachePool.pool;v!=null&&v.refCount++}break;case 24:Xf(m.memoizedState.cache)}if(v=m.child,v!==null)v.return=m,nr=v;else e:for(m=s;nr!==null;){v=nr;var A=v.sibling,j=v.return;if(Aj(v),v===m){nr=null;break e}if(A!==null){A.return=j,nr=A;break e}nr=j}}}var wF={getCacheForType:function(s){var c=fr(Nn),m=c.data.get(s);return m===void 0&&(m=s(),c.data.set(s,m)),m},cacheSignal:function(){return fr(Nn).controller.signal}},SF=typeof WeakMap=="function"?WeakMap:Map,Tt=0,Ft=null,dt=null,mt=0,Dt=0,Ei=null,ol=!1,Yu=!1,P_=!1,Jo=0,bn=0,sl=0,kc=0,D_=0,Ai=0,Ku=0,ph=null,ei=null,R_=!1,Cg=0,Ij=0,Mg=1/0,Pg=null,ll=null,Un=0,cl=null,Wu=null,Qo=0,L_=0,I_=null,$j=null,gh=0,$_=null;function Ti(){return(Tt&2)!==0&&mt!==0?mt&-mt:Y.T!==null?G_():Af()}function Bj(){if(Ai===0)if((mt&536870912)===0||ut){var s=Ul;Ul<<=1,(Ul&3932160)===0&&(Ul=262144),Ai=s}else Ai=536870912;return s=Si.current,s!==null&&(s.flags|=32),Ai}function ti(s,c,m){(s===Ft&&(Dt===2||Dt===9)||s.cancelPendingCommit!==null)&&(Vu(s,0),ul(s,mt,Ai,!1)),Mo(s,m),((Tt&2)===0||s!==Ft)&&(s===Ft&&((Tt&2)===0&&(kc|=m),bn===4&&ul(s,mt,Ai,!1)),co(s))}function zj(s,c,m){if((Tt&6)!==0)throw Error(r(327));var v=!m&&(c&127)===0&&(c&s.expiredLanes)===0||Hl(s,c),A=v?AF(s,c):z_(s,c,!0),j=v;do{if(A===0){Yu&&!v&&ul(s,c,0,!1);break}else{if(m=s.current.alternate,j&&!kF(m)){A=z_(s,c,!1),j=!1;continue}if(A===2){if(j=c,s.errorRecoveryDisabledLanes&j)var I=0;else I=s.pendingLanes&-536870913,I=I!==0?I:I&536870912?536870912:0;if(I!==0){c=I;e:{var G=s;A=ph;var te=G.current.memoizedState.isDehydrated;if(te&&(Vu(G,I).flags|=256),I=z_(G,I,!1),I!==2){if(P_&&!te){G.errorRecoveryDisabledLanes|=j,kc|=j,A=4;break e}j=ei,ei=A,j!==null&&(ei===null?ei=j:ei.push.apply(ei,j))}A=I}if(j=!1,A!==2)continue}}if(A===1){Vu(s,0),ul(s,c,0,!0);break}e:{switch(v=s,j=A,j){case 0:case 1:throw Error(r(345));case 4:if((c&4194048)!==c)break;case 6:ul(v,c,Ai,!ol);break e;case 2:ei=null;break;case 3:case 5:break;default:throw Error(r(329))}if((c&62914560)===c&&(A=Cg+300-Be(),10<A)){if(ul(v,c,Ai,!ol),pu(v,0,!0)!==0)break e;Qo=c,v.timeoutHandle=yN(Uj.bind(null,v,m,ei,Pg,R_,c,Ai,kc,Ku,ol,j,"Throttled",-0,0),A);break e}Uj(v,m,ei,Pg,R_,c,Ai,kc,Ku,ol,j,null,-0,0)}}break}while(!0);co(s)}function Uj(s,c,m,v,A,j,I,G,te,he,ke,Te,ye,xe){if(s.timeoutHandle=-1,Te=c.subtreeFlags,Te&8192||(Te&16785408)===16785408){Te={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Yr},Pj(c,j,Te);var ze=(j&62914560)===j?Cg-Be():(j&4194048)===j?Ij-Be():0;if(ze=lH(Te,ze),ze!==null){Qo=j,s.cancelPendingCommit=ze(Vj.bind(null,s,c,j,m,v,A,I,G,te,ke,Te,null,ye,xe)),ul(s,j,I,!he);return}}Vj(s,c,j,m,v,A,I,G,te)}function kF(s){for(var c=s;;){var m=c.tag;if((m===0||m===11||m===15)&&c.flags&16384&&(m=c.updateQueue,m!==null&&(m=m.stores,m!==null)))for(var v=0;v<m.length;v++){var A=m[v],j=A.getSnapshot;A=A.value;try{if(!er(j(),A))return!1}catch{return!1}}if(m=c.child,c.subtreeFlags&16384&&m!==null)m.return=c,c=m;else{if(c===s)break;for(;c.sibling===null;){if(c.return===null||c.return===s)return!0;c=c.return}c.sibling.return=c.return,c=c.sibling}}return!0}function ul(s,c,m,v){c&=~D_,c&=~kc,s.suspendedLanes|=c,s.pingedLanes&=~c,v&&(s.warmLanes|=c),v=s.expirationTimes;for(var A=c;0<A;){var j=31-Cr(A),I=1<<j;v[j]=-1,A&=~I}m!==0&&Mp(s,m,c)}function Dg(){return(Tt&6)===0?(yh(0),!1):!0}function B_(){if(dt!==null){if(Dt===0)var s=dt.return;else s=dt,Oa=so=null,t_(s),Bu=null,Qf=0,s=dt;for(;s!==null;)bj(s.alternate,s),s=s.return;dt=null}}function Vu(s,c){var m=s.timeoutHandle;m!==-1&&(s.timeoutHandle=-1,GF(m)),m=s.cancelPendingCommit,m!==null&&(s.cancelPendingCommit=null,m()),Qo=0,B_(),Ft=s,dt=m=Ji(s.current,null),mt=c,Dt=0,Ei=null,ol=!1,Yu=Hl(s,c),P_=!1,Ku=Ai=D_=kc=sl=bn=0,ei=ph=null,R_=!1,(c&8)!==0&&(c|=c&32);var v=s.entangledLanes;if(v!==0)for(s=s.entanglements,v&=c;0<v;){var A=31-Cr(v),j=1<<A;c|=s[A],v&=~j}return Jo=c,dc(),m}function Fj(s,c){it=null,Y.H=sh,c===$u||c===cg?(c=iO(),Dt=3):c===Hx?(c=iO(),Dt=4):Dt=c===y_?8:c!==null&&typeof c=="object"&&typeof c.then=="function"?6:1,Ei=c,dt===null&&(bn=1,Sg(s,y(c,s.current)))}function Hj(){var s=Si.current;return s===null?!0:(mt&4194048)===mt?Qi===null:(mt&62914560)===mt||(mt&536870912)!==0?s===Qi:!1}function Gj(){var s=Y.H;return Y.H=sh,s===null?sh:s}function qj(){var s=Y.A;return Y.A=wF,s}function Rg(){bn=4,ol||(mt&4194048)!==mt&&Si.current!==null||(Yu=!0),(sl&134217727)===0&&(kc&134217727)===0||Ft===null||ul(Ft,mt,Ai,!1)}function z_(s,c,m){var v=Tt;Tt|=2;var A=Gj(),j=qj();(Ft!==s||mt!==c)&&(Pg=null,Vu(s,c)),c=!1;var I=bn;e:do try{if(Dt!==0&&dt!==null){var G=dt,te=Ei;switch(Dt){case 8:B_(),I=6;break e;case 3:case 2:case 9:case 6:Si.current===null&&(c=!0);var he=Dt;if(Dt=0,Ei=null,Zu(s,G,te,he),m&&Yu){I=0;break e}break;default:he=Dt,Dt=0,Ei=null,Zu(s,G,te,he)}}EF(),I=bn;break}catch(ke){Fj(s,ke)}while(!0);return c&&s.shellSuspendCounter++,Oa=so=null,Tt=v,Y.H=A,Y.A=j,dt===null&&(Ft=null,mt=0,dc()),I}function EF(){for(;dt!==null;)Yj(dt)}function AF(s,c){var m=Tt;Tt|=2;var v=Gj(),A=qj();Ft!==s||mt!==c?(Pg=null,Mg=Be()+500,Vu(s,c)):Yu=Hl(s,c);e:do try{if(Dt!==0&&dt!==null){c=dt;var j=Ei;t:switch(Dt){case 1:Dt=0,Ei=null,Zu(s,c,j,1);break;case 2:case 9:if(nO(j)){Dt=0,Ei=null,Kj(c);break}c=function(){Dt!==2&&Dt!==9||Ft!==s||(Dt=7),co(s)},j.then(c,c);break e;case 3:Dt=7;break e;case 4:Dt=5;break e;case 7:nO(j)?(Dt=0,Ei=null,Kj(c)):(Dt=0,Ei=null,Zu(s,c,j,7));break;case 5:var I=null;switch(dt.tag){case 26:I=dt.memoizedState;case 5:case 27:var G=dt;if(I?MN(I):G.stateNode.complete){Dt=0,Ei=null;var te=G.sibling;if(te!==null)dt=te;else{var he=G.return;he!==null?(dt=he,Lg(he)):dt=null}break t}}Dt=0,Ei=null,Zu(s,c,j,5);break;case 6:Dt=0,Ei=null,Zu(s,c,j,6);break;case 8:B_(),bn=6;break e;default:throw Error(r(462))}}TF();break}catch(ke){Fj(s,ke)}while(!0);return Oa=so=null,Y.H=v,Y.A=A,Tt=m,dt!==null?0:(Ft=null,mt=0,dc(),bn)}function TF(){for(;dt!==null&&!fe();)Yj(dt)}function Yj(s){var c=gj(s.alternate,s,Jo);s.memoizedProps=s.pendingProps,c===null?Lg(s):dt=c}function Kj(s){var c=s,m=c.alternate;switch(c.tag){case 15:case 0:c=uj(m,c,c.pendingProps,c.type,void 0,mt);break;case 11:c=uj(m,c,c.pendingProps,c.type.render,c.ref,mt);break;case 5:t_(c);default:bj(m,c),c=dt=Yf(c,Jo),c=gj(m,c,Jo)}s.memoizedProps=s.pendingProps,c===null?Lg(s):dt=c}function Zu(s,c,m,v){Oa=so=null,t_(c),Bu=null,Qf=0;var A=c.return;try{if(pF(s,A,c,m,mt)){bn=1,Sg(s,y(m,s.current)),dt=null;return}}catch(j){if(A!==null)throw dt=A,j;bn=1,Sg(s,y(m,s.current)),dt=null;return}c.flags&32768?(ut||v===1?s=!0:Yu||(mt&536870912)!==0?s=!1:(ol=s=!0,(v===2||v===9||v===3||v===6)&&(v=Si.current,v!==null&&v.tag===13&&(v.flags|=16384))),Wj(c,s)):Lg(c)}function Lg(s){var c=s;do{if((c.flags&32768)!==0){Wj(c,ol);return}s=c.return;var m=bF(c.alternate,c,Jo);if(m!==null){dt=m;return}if(c=c.sibling,c!==null){dt=c;return}dt=c=s}while(c!==null);bn===0&&(bn=5)}function Wj(s,c){do{var m=vF(s.alternate,s);if(m!==null){m.flags&=32767,dt=m;return}if(m=s.return,m!==null&&(m.flags|=32768,m.subtreeFlags=0,m.deletions=null),!c&&(s=s.sibling,s!==null)){dt=s;return}dt=s=m}while(s!==null);bn=6,dt=null}function Vj(s,c,m,v,A,j,I,G,te){s.cancelPendingCommit=null;do Ig();while(Un!==0);if((Tt&6)!==0)throw Error(r(327));if(c!==null){if(c===s.current)throw Error(r(177));if(j=c.lanes|c.childLanes,j|=Cu,wx(s,m,j,I,G,te),s===Ft&&(dt=Ft=null,mt=0),Wu=c,cl=s,Qo=m,L_=j,I_=A,$j=v,(c.subtreeFlags&10256)!==0||(c.flags&10256)!==0?(s.callbackNode=null,s.callbackPriority=0,CF(Jn,function(){return eN(),null})):(s.callbackNode=null,s.callbackPriority=0),v=(c.flags&13878)!==0,(c.subtreeFlags&13878)!==0||v){v=Y.T,Y.T=null,A=Z.p,Z.p=2,I=Tt,Tt|=4;try{xF(s,c,m)}finally{Tt=I,Z.p=A,Y.T=v}}Un=1,Zj(),Xj(),Jj()}}function Zj(){if(Un===1){Un=0;var s=cl,c=Wu,m=(c.flags&13878)!==0;if((c.subtreeFlags&13878)!==0||m){m=Y.T,Y.T=null;var v=Z.p;Z.p=2;var A=Tt;Tt|=4;try{Nj(c,s);var j=J_,I=oc(s.containerInfo),G=j.focusedElem,te=j.selectionRange;if(I!==G&&G&&G.ownerDocument&&Tu(G.ownerDocument.documentElement,G)){if(te!==null&&eo(G)){var he=te.start,ke=te.end;if(ke===void 0&&(ke=he),"selectionStart"in G)G.selectionStart=he,G.selectionEnd=Math.min(ke,G.value.length);else{var Te=G.ownerDocument||document,ye=Te&&Te.defaultView||window;if(ye.getSelection){var xe=ye.getSelection(),ze=G.textContent.length,Qe=Math.min(te.start,ze),zt=te.end===void 0?Qe:Math.min(te.end,ze);!xe.extend&&Qe>zt&&(I=zt,zt=Qe,Qe=I);var le=ac(G,Qe),ie=ac(G,zt);if(le&&ie&&(xe.rangeCount!==1||xe.anchorNode!==le.node||xe.anchorOffset!==le.offset||xe.focusNode!==ie.node||xe.focusOffset!==ie.offset)){var de=Te.createRange();de.setStart(le.node,le.offset),xe.removeAllRanges(),Qe>zt?(xe.addRange(de),xe.extend(ie.node,ie.offset)):(de.setEnd(ie.node,ie.offset),xe.addRange(de))}}}}for(Te=[],xe=G;xe=xe.parentNode;)xe.nodeType===1&&Te.push({element:xe,left:xe.scrollLeft,top:xe.scrollTop});for(typeof G.focus=="function"&&G.focus(),G=0;G<Te.length;G++){var Ee=Te[G];Ee.element.scrollLeft=Ee.left,Ee.element.scrollTop=Ee.top}}Vg=!!X_,J_=X_=null}finally{Tt=A,Z.p=v,Y.T=m}}s.current=c,Un=2}}function Xj(){if(Un===2){Un=0;var s=cl,c=Wu,m=(c.flags&8772)!==0;if((c.subtreeFlags&8772)!==0||m){m=Y.T,Y.T=null;var v=Z.p;Z.p=2;var A=Tt;Tt|=4;try{Ej(s,c.alternate,c)}finally{Tt=A,Z.p=v,Y.T=m}}Un=3}}function Jj(){if(Un===4||Un===3){Un=0,Pe();var s=cl,c=Wu,m=Qo,v=$j;(c.subtreeFlags&10256)!==0||(c.flags&10256)!==0?Un=5:(Un=0,Wu=cl=null,Qj(s,s.pendingLanes));var A=s.pendingLanes;if(A===0&&(ll=null),He(m),c=c.stateNode,mn&&typeof mn.onCommitFiberRoot=="function")try{mn.onCommitFiberRoot(qt,c,void 0,(c.current.flags&128)===128)}catch{}if(v!==null){c=Y.T,A=Z.p,Z.p=2,Y.T=null;try{for(var j=s.onRecoverableError,I=0;I<v.length;I++){var G=v[I];j(G.value,{componentStack:G.stack})}}finally{Y.T=c,Z.p=A}}(Qo&3)!==0&&Ig(),co(s),A=s.pendingLanes,(m&261930)!==0&&(A&42)!==0?s===$_?gh++:(gh=0,$_=s):gh=0,yh(0)}}function Qj(s,c){(s.pooledCacheLanes&=c)===0&&(c=s.pooledCache,c!=null&&(s.pooledCache=null,Xf(c)))}function Ig(){return Zj(),Xj(),Jj(),eN()}function eN(){if(Un!==5)return!1;var s=cl,c=L_;L_=0;var m=He(Qo),v=Y.T,A=Z.p;try{Z.p=32>m?32:m,Y.T=null,m=I_,I_=null;var j=cl,I=Qo;if(Un=0,Wu=cl=null,Qo=0,(Tt&6)!==0)throw Error(r(331));var G=Tt;if(Tt|=4,Rj(j.current),Mj(j,j.current,I,m),Tt=G,yh(0,!1),mn&&typeof mn.onPostCommitFiberRoot=="function")try{mn.onPostCommitFiberRoot(qt,j)}catch{}return!0}finally{Z.p=A,Y.T=v,Qj(s,c)}}function tN(s,c,m){c=y(m,c),c=g_(s.stateNode,c,2),s=nl(s,c,2),s!==null&&(Mo(s,2),co(s))}function Rt(s,c,m){if(s.tag===3)tN(s,s,m);else for(;c!==null;){if(c.tag===3){tN(c,s,m);break}else if(c.tag===1){var v=c.stateNode;if(typeof c.type.getDerivedStateFromError=="function"||typeof v.componentDidCatch=="function"&&(ll===null||!ll.has(v))){s=y(m,s),m=nj(2),v=nl(c,m,2),v!==null&&(rj(m,v,c,s),Mo(v,2),co(v));break}}c=c.return}}function U_(s,c,m){var v=s.pingCache;if(v===null){v=s.pingCache=new SF;var A=new Set;v.set(c,A)}else A=v.get(c),A===void 0&&(A=new Set,v.set(c,A));A.has(m)||(P_=!0,A.add(m),s=OF.bind(null,s,c,m),c.then(s,s))}function OF(s,c,m){var v=s.pingCache;v!==null&&v.delete(c),s.pingedLanes|=s.suspendedLanes&m,s.warmLanes&=~m,Ft===s&&(mt&m)===m&&(bn===4||bn===3&&(mt&62914560)===mt&&300>Be()-Cg?(Tt&2)===0&&Vu(s,0):D_|=m,Ku===mt&&(Ku=0)),co(s)}function nN(s,c){c===0&&(c=Cp()),s=Xi(s,c),s!==null&&(Mo(s,c),co(s))}function jF(s){var c=s.memoizedState,m=0;c!==null&&(m=c.retryLane),nN(s,m)}function NF(s,c){var m=0;switch(s.tag){case 31:case 13:var v=s.stateNode,A=s.memoizedState;A!==null&&(m=A.retryLane);break;case 19:v=s.stateNode;break;case 22:v=s.stateNode._retryCache;break;default:throw Error(r(314))}v!==null&&v.delete(c),nN(s,m)}function CF(s,c){return xt(s,c)}var $g=null,Xu=null,F_=!1,Bg=!1,H_=!1,dl=0;function co(s){s!==Xu&&s.next===null&&(Xu===null?$g=Xu=s:Xu=Xu.next=s),Bg=!0,F_||(F_=!0,PF())}function yh(s,c){if(!H_&&Bg){H_=!0;do for(var m=!1,v=$g;v!==null;){if(s!==0){var A=v.pendingLanes;if(A===0)var j=0;else{var I=v.suspendedLanes,G=v.pingedLanes;j=(1<<31-Cr(42|s)+1)-1,j&=A&~(I&~G),j=j&201326741?j&201326741|1:j?j|2:0}j!==0&&(m=!0,oN(v,j))}else j=mt,j=pu(v,v===Ft?j:0,v.cancelPendingCommit!==null||v.timeoutHandle!==-1),(j&3)===0||Hl(v,j)||(m=!0,oN(v,j));v=v.next}while(m);H_=!1}}function MF(){rN()}function rN(){Bg=F_=!1;var s=0;dl!==0&&HF()&&(s=dl);for(var c=Be(),m=null,v=$g;v!==null;){var A=v.next,j=iN(v,c);j===0?(v.next=null,m===null?$g=A:m.next=A,A===null&&(Xu=m)):(m=v,(s!==0||(j&3)!==0)&&(Bg=!0)),v=A}Un!==0&&Un!==5||yh(s),dl!==0&&(dl=0)}function iN(s,c){for(var m=s.suspendedLanes,v=s.pingedLanes,A=s.expirationTimes,j=s.pendingLanes&-62914561;0<j;){var I=31-Cr(j),G=1<<I,te=A[I];te===-1?((G&m)===0||(G&v)!==0)&&(A[I]=_x(G,c)):te<=c&&(s.expiredLanes|=G),j&=~G}if(c=Ft,m=mt,m=pu(s,s===c?m:0,s.cancelPendingCommit!==null||s.timeoutHandle!==-1),v=s.callbackNode,m===0||s===c&&(Dt===2||Dt===9)||s.cancelPendingCommit!==null)return v!==null&&v!==null&&Pt(v),s.callbackNode=null,s.callbackPriority=0;if((m&3)===0||Hl(s,m)){if(c=m&-m,c===s.callbackPriority)return c;switch(v!==null&&Pt(v),He(m)){case 2:case 8:m=yt;break;case 32:m=Jn;break;case 268435456:m=yi;break;default:m=Jn}return v=aN.bind(null,s),m=xt(m,v),s.callbackPriority=c,s.callbackNode=m,c}return v!==null&&v!==null&&Pt(v),s.callbackPriority=2,s.callbackNode=null,2}function aN(s,c){if(Un!==0&&Un!==5)return s.callbackNode=null,s.callbackPriority=0,null;var m=s.callbackNode;if(Ig()&&s.callbackNode!==m)return null;var v=mt;return v=pu(s,s===Ft?v:0,s.cancelPendingCommit!==null||s.timeoutHandle!==-1),v===0?null:(zj(s,v,c),iN(s,Be()),s.callbackNode!=null&&s.callbackNode===m?aN.bind(null,s):null)}function oN(s,c){if(Ig())return null;zj(s,c,!0)}function PF(){qF(function(){(Tt&6)!==0?xt(jt,MF):rN()})}function G_(){if(dl===0){var s=Lu;s===0&&(s=zl,zl<<=1,(zl&261888)===0&&(zl=256)),dl=s}return dl}function sN(s){return s==null||typeof s=="symbol"||typeof s=="boolean"?null:typeof s=="function"?s:zs(""+s)}function lN(s,c){var m=c.ownerDocument.createElement("input");return m.name=c.name,m.value=c.value,s.id&&m.setAttribute("form",s.id),c.parentNode.insertBefore(m,c),s=new FormData(s),m.parentNode.removeChild(m),s}function DF(s,c,m,v,A){if(c==="submit"&&m&&m.stateNode===A){var j=sN((A[Qn]||null).action),I=v.submitter;I&&(c=(c=I[Qn]||null)?sN(c.formAction):I.getAttribute("formAction"),c!==null&&(j=c,I=null));var G=new xu("action","action",null,v,A);s.push({event:G,listeners:[{instance:null,listener:function(){if(v.defaultPrevented){if(dl!==0){var te=I?lN(A,I):new FormData(A);u_(m,{pending:!0,data:te,method:A.method,action:j},null,te)}}else typeof j=="function"&&(G.preventDefault(),te=I?lN(A,I):new FormData(A),u_(m,{pending:!0,data:te,method:A.method,action:j},j,te))},currentTarget:A}]})}}for(var q_=0;q_<ro.length;q_++){var Y_=ro[q_],RF=Y_.toLowerCase(),LF=Y_[0].toUpperCase()+Y_.slice(1);Wr(RF,"on"+LF)}Wr(lc,"onAnimationEnd"),Wr(rg,"onAnimationIteration"),Wr(cc,"onAnimationStart"),Wr("dblclick","onDoubleClick"),Wr("focusin","onFocus"),Wr("focusout","onBlur"),Wr(Rx,"onTransitionRun"),Wr(ig,"onTransitionStart"),Wr(Lx,"onTransitionCancel"),Wr(Xs,"onTransitionEnd"),Za("onMouseEnter",["mouseout","mouseover"]),Za("onMouseLeave",["mouseout","mouseover"]),Za("onPointerEnter",["pointerout","pointerover"]),Za("onPointerLeave",["pointerout","pointerover"]),Ro("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Ro("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Ro("onBeforeInput",["compositionend","keypress","textInput","paste"]),Ro("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Ro("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Ro("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var bh="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),IF=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(bh));function cN(s,c){c=(c&4)!==0;for(var m=0;m<s.length;m++){var v=s[m],A=v.event;v=v.listeners;e:{var j=void 0;if(c)for(var I=v.length-1;0<=I;I--){var G=v[I],te=G.instance,he=G.currentTarget;if(G=G.listener,te!==j&&A.isPropagationStopped())break e;j=G,A.currentTarget=he;try{j(A)}catch(ke){uc(ke)}A.currentTarget=null,j=te}else for(I=0;I<v.length;I++){if(G=v[I],te=G.instance,he=G.currentTarget,G=G.listener,te!==j&&A.isPropagationStopped())break e;j=G,A.currentTarget=he;try{j(A)}catch(ke){uc(ke)}A.currentTarget=null,j=te}}}}function ft(s,c){var m=c[Wa];m===void 0&&(m=c[Wa]=new Set);var v=s+"__bubble";m.has(v)||(uN(c,s,2,!1),m.add(v))}function K_(s,c,m){var v=0;c&&(v|=4),uN(m,s,v,c)}var zg="_reactListening"+Math.random().toString(36).slice(2);function W_(s){if(!s[zg]){s[zg]=!0,Ip.forEach(function(m){m!=="selectionchange"&&(IF.has(m)||K_(m,!1,s),K_(m,!0,s))});var c=s.nodeType===9?s:s.ownerDocument;c===null||c[zg]||(c[zg]=!0,K_("selectionchange",!1,c))}}function uN(s,c,m,v){switch(BN(c)){case 2:var A=dH;break;case 8:A=fH;break;default:A=cw}m=A.bind(null,c,m,s),A=void 0,!Zl||c!=="touchstart"&&c!=="touchmove"&&c!=="wheel"||(A=!0),v?A!==void 0?s.addEventListener(c,m,{capture:!0,passive:A}):s.addEventListener(c,m,!0):A!==void 0?s.addEventListener(c,m,{passive:A}):s.addEventListener(c,m,!1)}function V_(s,c,m,v,A){var j=v;if((c&1)===0&&(c&2)===0&&v!==null)e:for(;;){if(v===null)return;var I=v.tag;if(I===3||I===4){var G=v.stateNode.containerInfo;if(G===A)break;if(I===4)for(I=v.return;I!==null;){var te=I.tag;if((te===3||te===4)&&I.stateNode.containerInfo===A)return;I=I.return}for(;G!==null;){if(I=Do(G),I===null)return;if(te=I.tag,te===5||te===6||te===26||te===27){v=j=I;continue e}G=G.parentNode}}v=v.return}Rf(function(){var he=j,ke=Vl(m),Te=[];e:{var ye=ag.get(s);if(ye!==void 0){var xe=xu,ze=s;switch(s){case"keypress":if(Xl(m)===0)break e;case"keydown":case"keyup":xe=qp;break;case"focusin":ze="focus",xe=$f;break;case"focusout":ze="blur",xe=$f;break;case"beforeblur":case"afterblur":xe=$f;break;case"click":if(m.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":xe=zp;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":xe=kx;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":xe=jx;break;case lc:case rg:case cc:xe=Bf;break;case Xs:xe=Wp;break;case"scroll":case"scrollend":xe=ht;break;case"wheel":xe=Bo;break;case"copy":case"cut":case"paste":xe=Ki;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":xe=Yp;break;case"toggle":case"beforetoggle":xe=ec}var Qe=(c&4)!==0,zt=!Qe&&(s==="scroll"||s==="scrollend"),le=Qe?ye!==null?ye+"Capture":null:ye;Qe=[];for(var ie=he,de;ie!==null;){var Ee=ie;if(de=Ee.stateNode,Ee=Ee.tag,Ee!==5&&Ee!==26&&Ee!==27||de===null||le===null||(Ee=Io(ie,le),Ee!=null&&Qe.push(vh(ie,Ee,de))),zt)break;ie=ie.return}0<Qe.length&&(ye=new xe(ye,ze,null,m,ke),Te.push({event:ye,listeners:Qe}))}}if((c&7)===0){e:{if(ye=s==="mouseover"||s==="pointerover",xe=s==="mouseout"||s==="pointerout",ye&&m!==vu&&(ze=m.relatedTarget||m.fromElement)&&(Do(ze)||ze[Po]))break e;if((xe||ye)&&(ye=ke.window===ke?ke:(ye=ke.ownerDocument)?ye.defaultView||ye.parentWindow:window,xe?(ze=m.relatedTarget||m.toElement,xe=he,ze=ze?Do(ze):null,ze!==null&&(zt=a(ze),Qe=ze.tag,ze!==zt||Qe!==5&&Qe!==27&&Qe!==6)&&(ze=null)):(xe=null,ze=he),xe!==ze)){if(Qe=zp,Ee="onMouseLeave",le="onMouseEnter",ie="mouse",(s==="pointerout"||s==="pointerover")&&(Qe=Yp,Ee="onPointerLeave",le="onPointerEnter",ie="pointer"),zt=xe==null?ye:Va(xe),de=ze==null?ye:Va(ze),ye=new Qe(Ee,ie+"leave",xe,m,ke),ye.target=zt,ye.relatedTarget=de,Ee=null,Do(ke)===he&&(Qe=new Qe(le,ie+"enter",ze,m,ke),Qe.target=de,Qe.relatedTarget=zt,Ee=Qe),zt=Ee,xe&&ze)t:{for(Qe=$F,le=xe,ie=ze,de=0,Ee=le;Ee;Ee=Qe(Ee))de++;Ee=0;for(var Xe=ie;Xe;Xe=Qe(Xe))Ee++;for(;0<de-Ee;)le=Qe(le),de--;for(;0<Ee-de;)ie=Qe(ie),Ee--;for(;de--;){if(le===ie||ie!==null&&le===ie.alternate){Qe=le;break t}le=Qe(le),ie=Qe(ie)}Qe=null}else Qe=null;xe!==null&&dN(Te,ye,xe,Qe,!1),ze!==null&&zt!==null&&dN(Te,zt,ze,Qe,!0)}}e:{if(ye=he?Va(he):window,xe=ye.nodeName&&ye.nodeName.toLowerCase(),xe==="select"||xe==="input"&&ye.type==="file")var St=ic;else if(Wi(ye))if(Jp)St=Dx;else{St=Px;var Fe=Ea}else xe=ye.nodeName,!xe||xe.toLowerCase()!=="input"||ye.type!=="checkbox"&&ye.type!=="radio"?he&&Wl(he.elementType)&&(St=ic):St=Ks;if(St&&(St=St(s,he))){Xp(Te,St,m,ke);break e}Fe&&Fe(s,ye,he),s==="focusout"&&he&&ye.type==="number"&&he.memoizedProps.value!=null&&wa(ye,"number",ye.value)}switch(Fe=he?Va(he):window,s){case"focusin":(Wi(Fe)||Fe.contentEditable==="true")&&(to=Fe,ju=he,sc=null);break;case"focusout":sc=ju=to=null;break;case"mousedown":Vs=!0;break;case"contextmenu":case"mouseup":case"dragend":Vs=!1,tg(Te,m,ke);break;case"selectionchange":if(Ou)break;case"keydown":case"keyup":tg(Te,m,ke)}var st;if(wu)e:{switch(s){case"compositionstart":var pt="onCompositionStart";break e;case"compositionend":pt="onCompositionEnd";break e;case"compositionupdate":pt="onCompositionUpdate";break e}pt=void 0}else Gs?Zp(s,m)&&(pt="onCompositionEnd"):s==="keydown"&&m.keyCode===229&&(pt="onCompositionStart");pt&&(Su&&m.locale!=="ko"&&(Gs||pt!=="onCompositionStart"?pt==="onCompositionEnd"&&Gs&&(st=Ja()):(Yi=ke,$o="value"in Yi?Yi.value:Yi.textContent,Gs=!0)),Fe=Ug(he,pt),0<Fe.length&&(pt=new zf(pt,s,null,m,ke),Te.push({event:pt,listeners:Fe}),st?pt.data=st:(st=Gf(m),st!==null&&(pt.data=st)))),(st=Cx?wi(s,m):qs(s,m))&&(pt=Ug(he,"onBeforeInput"),0<pt.length&&(Fe=new zf("onBeforeInput","beforeinput",null,m,ke),Te.push({event:Fe,listeners:pt}),Fe.data=st)),DF(Te,s,he,m,ke)}cN(Te,c)})}function vh(s,c,m){return{instance:s,listener:c,currentTarget:m}}function Ug(s,c){for(var m=c+"Capture",v=[];s!==null;){var A=s,j=A.stateNode;if(A=A.tag,A!==5&&A!==26&&A!==27||j===null||(A=Io(s,m),A!=null&&v.unshift(vh(s,A,j)),A=Io(s,c),A!=null&&v.push(vh(s,A,j))),s.tag===3)return v;s=s.return}return[]}function $F(s){if(s===null)return null;do s=s.return;while(s&&s.tag!==5&&s.tag!==27);return s||null}function dN(s,c,m,v,A){for(var j=c._reactName,I=[];m!==null&&m!==v;){var G=m,te=G.alternate,he=G.stateNode;if(G=G.tag,te!==null&&te===v)break;G!==5&&G!==26&&G!==27||he===null||(te=he,A?(he=Io(m,j),he!=null&&I.unshift(vh(m,he,te))):A||(he=Io(m,j),he!=null&&I.push(vh(m,he,te)))),m=m.return}I.length!==0&&s.push({event:c,listeners:I})}var BF=/\r\n?/g,zF=/\u0000|\uFFFD/g;function fN(s){return(typeof s=="string"?s:""+s).replace(BF,`
`).replace(zF,"")}function hN(s,c){return c=fN(c),fN(s)===c}function Bt(s,c,m,v,A,j){switch(m){case"children":typeof v=="string"?c==="body"||c==="textarea"&&v===""||qi(s,v):(typeof v=="number"||typeof v=="bigint")&&c!=="body"&&qi(s,""+v);break;case"className":It(s,"class",v);break;case"tabIndex":It(s,"tabindex",v);break;case"dir":case"role":case"viewBox":case"width":case"height":It(s,m,v);break;case"style":yu(s,v,j);break;case"data":if(c!=="object"){It(s,"data",v);break}case"src":case"href":if(v===""&&(c!=="a"||m!=="href")){s.removeAttribute(m);break}if(v==null||typeof v=="function"||typeof v=="symbol"||typeof v=="boolean"){s.removeAttribute(m);break}v=zs(""+v),s.setAttribute(m,v);break;case"action":case"formAction":if(typeof v=="function"){s.setAttribute(m,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof j=="function"&&(m==="formAction"?(c!=="input"&&Bt(s,c,"name",A.name,A,null),Bt(s,c,"formEncType",A.formEncType,A,null),Bt(s,c,"formMethod",A.formMethod,A,null),Bt(s,c,"formTarget",A.formTarget,A,null)):(Bt(s,c,"encType",A.encType,A,null),Bt(s,c,"method",A.method,A,null),Bt(s,c,"target",A.target,A,null)));if(v==null||typeof v=="symbol"||typeof v=="boolean"){s.removeAttribute(m);break}v=zs(""+v),s.setAttribute(m,v);break;case"onClick":v!=null&&(s.onclick=Yr);break;case"onScroll":v!=null&&ft("scroll",s);break;case"onScrollEnd":v!=null&&ft("scrollend",s);break;case"dangerouslySetInnerHTML":if(v!=null){if(typeof v!="object"||!("__html"in v))throw Error(r(61));if(m=v.__html,m!=null){if(A.children!=null)throw Error(r(60));s.innerHTML=m}}break;case"multiple":s.multiple=v&&typeof v!="function"&&typeof v!="symbol";break;case"muted":s.muted=v&&typeof v!="function"&&typeof v!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(v==null||typeof v=="function"||typeof v=="boolean"||typeof v=="symbol"){s.removeAttribute("xlink:href");break}m=zs(""+v),s.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",m);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":v!=null&&typeof v!="function"&&typeof v!="symbol"?s.setAttribute(m,""+v):s.removeAttribute(m);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":v&&typeof v!="function"&&typeof v!="symbol"?s.setAttribute(m,""):s.removeAttribute(m);break;case"capture":case"download":v===!0?s.setAttribute(m,""):v!==!1&&v!=null&&typeof v!="function"&&typeof v!="symbol"?s.setAttribute(m,v):s.removeAttribute(m);break;case"cols":case"rows":case"size":case"span":v!=null&&typeof v!="function"&&typeof v!="symbol"&&!isNaN(v)&&1<=v?s.setAttribute(m,v):s.removeAttribute(m);break;case"rowSpan":case"start":v==null||typeof v=="function"||typeof v=="symbol"||isNaN(v)?s.removeAttribute(m):s.setAttribute(m,v);break;case"popover":ft("beforetoggle",s),ft("toggle",s),ct(s,"popover",v);break;case"xlinkActuate":qr(s,"http://www.w3.org/1999/xlink","xlink:actuate",v);break;case"xlinkArcrole":qr(s,"http://www.w3.org/1999/xlink","xlink:arcrole",v);break;case"xlinkRole":qr(s,"http://www.w3.org/1999/xlink","xlink:role",v);break;case"xlinkShow":qr(s,"http://www.w3.org/1999/xlink","xlink:show",v);break;case"xlinkTitle":qr(s,"http://www.w3.org/1999/xlink","xlink:title",v);break;case"xlinkType":qr(s,"http://www.w3.org/1999/xlink","xlink:type",v);break;case"xmlBase":qr(s,"http://www.w3.org/XML/1998/namespace","xml:base",v);break;case"xmlLang":qr(s,"http://www.w3.org/XML/1998/namespace","xml:lang",v);break;case"xmlSpace":qr(s,"http://www.w3.org/XML/1998/namespace","xml:space",v);break;case"is":ct(s,"is",v);break;case"innerText":case"textContent":break;default:(!(2<m.length)||m[0]!=="o"&&m[0]!=="O"||m[1]!=="n"&&m[1]!=="N")&&(m=bu.get(m)||m,ct(s,m,v))}}function Z_(s,c,m,v,A,j){switch(m){case"style":yu(s,v,j);break;case"dangerouslySetInnerHTML":if(v!=null){if(typeof v!="object"||!("__html"in v))throw Error(r(61));if(m=v.__html,m!=null){if(A.children!=null)throw Error(r(60));s.innerHTML=m}}break;case"children":typeof v=="string"?qi(s,v):(typeof v=="number"||typeof v=="bigint")&&qi(s,""+v);break;case"onScroll":v!=null&&ft("scroll",s);break;case"onScrollEnd":v!=null&&ft("scrollend",s);break;case"onClick":v!=null&&(s.onclick=Yr);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!$p.hasOwnProperty(m))e:{if(m[0]==="o"&&m[1]==="n"&&(A=m.endsWith("Capture"),c=m.slice(2,A?m.length-7:void 0),j=s[Qn]||null,j=j!=null?j[m]:null,typeof j=="function"&&s.removeEventListener(c,j,A),typeof v=="function")){typeof j!="function"&&j!==null&&(m in s?s[m]=null:s.hasAttribute(m)&&s.removeAttribute(m)),s.addEventListener(c,v,A);break e}m in s?s[m]=v:v===!0?s.setAttribute(m,""):ct(s,m,v)}}}function mr(s,c,m){switch(c){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":ft("error",s),ft("load",s);var v=!1,A=!1,j;for(j in m)if(m.hasOwnProperty(j)){var I=m[j];if(I!=null)switch(j){case"src":v=!0;break;case"srcSet":A=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,c));default:Bt(s,c,j,I,m,null)}}A&&Bt(s,c,"srcSet",m.srcSet,m,null),v&&Bt(s,c,"src",m.src,m,null);return;case"input":ft("invalid",s);var G=j=I=A=null,te=null,he=null;for(v in m)if(m.hasOwnProperty(v)){var ke=m[v];if(ke!=null)switch(v){case"name":A=ke;break;case"type":I=ke;break;case"checked":te=ke;break;case"defaultChecked":he=ke;break;case"value":j=ke;break;case"defaultValue":G=ke;break;case"children":case"dangerouslySetInnerHTML":if(ke!=null)throw Error(r(137,c));break;default:Bt(s,c,v,ke,m,null)}}Kl(s,j,G,te,he,I,A,!1);return;case"select":ft("invalid",s),v=I=j=null;for(A in m)if(m.hasOwnProperty(A)&&(G=m[A],G!=null))switch(A){case"value":j=G;break;case"defaultValue":I=G;break;case"multiple":v=G;default:Bt(s,c,A,G,m,null)}c=j,m=I,s.multiple=!!v,c!=null?Ut(s,!!v,c,!1):m!=null&&Ut(s,!!v,m,!0);return;case"textarea":ft("invalid",s),j=A=v=null;for(I in m)if(m.hasOwnProperty(I)&&(G=m[I],G!=null))switch(I){case"value":v=G;break;case"defaultValue":A=G;break;case"children":j=G;break;case"dangerouslySetInnerHTML":if(G!=null)throw Error(r(91));break;default:Bt(s,c,I,G,m,null)}$s(s,v,A,j);return;case"option":for(te in m)if(m.hasOwnProperty(te)&&(v=m[te],v!=null))switch(te){case"selected":s.selected=v&&typeof v!="function"&&typeof v!="symbol";break;default:Bt(s,c,te,v,m,null)}return;case"dialog":ft("beforetoggle",s),ft("toggle",s),ft("cancel",s),ft("close",s);break;case"iframe":case"object":ft("load",s);break;case"video":case"audio":for(v=0;v<bh.length;v++)ft(bh[v],s);break;case"image":ft("error",s),ft("load",s);break;case"details":ft("toggle",s);break;case"embed":case"source":case"link":ft("error",s),ft("load",s);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(he in m)if(m.hasOwnProperty(he)&&(v=m[he],v!=null))switch(he){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,c));default:Bt(s,c,he,v,m,null)}return;default:if(Wl(c)){for(ke in m)m.hasOwnProperty(ke)&&(v=m[ke],v!==void 0&&Z_(s,c,ke,v,m,void 0));return}}for(G in m)m.hasOwnProperty(G)&&(v=m[G],v!=null&&Bt(s,c,G,v,m,null))}function UF(s,c,m,v){switch(c){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var A=null,j=null,I=null,G=null,te=null,he=null,ke=null;for(xe in m){var Te=m[xe];if(m.hasOwnProperty(xe)&&Te!=null)switch(xe){case"checked":break;case"value":break;case"defaultValue":te=Te;default:v.hasOwnProperty(xe)||Bt(s,c,xe,null,v,Te)}}for(var ye in v){var xe=v[ye];if(Te=m[ye],v.hasOwnProperty(ye)&&(xe!=null||Te!=null))switch(ye){case"type":j=xe;break;case"name":A=xe;break;case"checked":he=xe;break;case"defaultChecked":ke=xe;break;case"value":I=xe;break;case"defaultValue":G=xe;break;case"children":case"dangerouslySetInnerHTML":if(xe!=null)throw Error(r(137,c));break;default:xe!==Te&&Bt(s,c,ye,xe,v,Te)}}Mf(s,I,G,te,he,ke,j,A);return;case"select":xe=I=G=ye=null;for(j in m)if(te=m[j],m.hasOwnProperty(j)&&te!=null)switch(j){case"value":break;case"multiple":xe=te;default:v.hasOwnProperty(j)||Bt(s,c,j,null,v,te)}for(A in v)if(j=v[A],te=m[A],v.hasOwnProperty(A)&&(j!=null||te!=null))switch(A){case"value":ye=j;break;case"defaultValue":G=j;break;case"multiple":I=j;default:j!==te&&Bt(s,c,A,j,v,te)}c=G,m=I,v=xe,ye!=null?Ut(s,!!m,ye,!1):!!v!=!!m&&(c!=null?Ut(s,!!m,c,!0):Ut(s,!!m,m?[]:"",!1));return;case"textarea":xe=ye=null;for(G in m)if(A=m[G],m.hasOwnProperty(G)&&A!=null&&!v.hasOwnProperty(G))switch(G){case"value":break;case"children":break;default:Bt(s,c,G,null,v,A)}for(I in v)if(A=v[I],j=m[I],v.hasOwnProperty(I)&&(A!=null||j!=null))switch(I){case"value":ye=A;break;case"defaultValue":xe=A;break;case"children":break;case"dangerouslySetInnerHTML":if(A!=null)throw Error(r(91));break;default:A!==j&&Bt(s,c,I,A,v,j)}Xa(s,ye,xe);return;case"option":for(var ze in m)if(ye=m[ze],m.hasOwnProperty(ze)&&ye!=null&&!v.hasOwnProperty(ze))switch(ze){case"selected":s.selected=!1;break;default:Bt(s,c,ze,null,v,ye)}for(te in v)if(ye=v[te],xe=m[te],v.hasOwnProperty(te)&&ye!==xe&&(ye!=null||xe!=null))switch(te){case"selected":s.selected=ye&&typeof ye!="function"&&typeof ye!="symbol";break;default:Bt(s,c,te,ye,v,xe)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Qe in m)ye=m[Qe],m.hasOwnProperty(Qe)&&ye!=null&&!v.hasOwnProperty(Qe)&&Bt(s,c,Qe,null,v,ye);for(he in v)if(ye=v[he],xe=m[he],v.hasOwnProperty(he)&&ye!==xe&&(ye!=null||xe!=null))switch(he){case"children":case"dangerouslySetInnerHTML":if(ye!=null)throw Error(r(137,c));break;default:Bt(s,c,he,ye,v,xe)}return;default:if(Wl(c)){for(var zt in m)ye=m[zt],m.hasOwnProperty(zt)&&ye!==void 0&&!v.hasOwnProperty(zt)&&Z_(s,c,zt,void 0,v,ye);for(ke in v)ye=v[ke],xe=m[ke],!v.hasOwnProperty(ke)||ye===xe||ye===void 0&&xe===void 0||Z_(s,c,ke,ye,v,xe);return}}for(var le in m)ye=m[le],m.hasOwnProperty(le)&&ye!=null&&!v.hasOwnProperty(le)&&Bt(s,c,le,null,v,ye);for(Te in v)ye=v[Te],xe=m[Te],!v.hasOwnProperty(Te)||ye===xe||ye==null&&xe==null||Bt(s,c,Te,ye,v,xe)}function mN(s){switch(s){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function FF(){if(typeof performance.getEntriesByType=="function"){for(var s=0,c=0,m=performance.getEntriesByType("resource"),v=0;v<m.length;v++){var A=m[v],j=A.transferSize,I=A.initiatorType,G=A.duration;if(j&&G&&mN(I)){for(I=0,G=A.responseEnd,v+=1;v<m.length;v++){var te=m[v],he=te.startTime;if(he>G)break;var ke=te.transferSize,Te=te.initiatorType;ke&&mN(Te)&&(te=te.responseEnd,I+=ke*(te<G?1:(G-he)/(te-he)))}if(--v,c+=8*(j+I)/(A.duration/1e3),s++,10<s)break}}if(0<s)return c/s/1e6}return navigator.connection&&(s=navigator.connection.downlink,typeof s=="number")?s:5}var X_=null,J_=null;function Fg(s){return s.nodeType===9?s:s.ownerDocument}function pN(s){switch(s){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function gN(s,c){if(s===0)switch(c){case"svg":return 1;case"math":return 2;default:return 0}return s===1&&c==="foreignObject"?0:s}function Q_(s,c){return s==="textarea"||s==="noscript"||typeof c.children=="string"||typeof c.children=="number"||typeof c.children=="bigint"||typeof c.dangerouslySetInnerHTML=="object"&&c.dangerouslySetInnerHTML!==null&&c.dangerouslySetInnerHTML.__html!=null}var ew=null;function HF(){var s=window.event;return s&&s.type==="popstate"?s===ew?!1:(ew=s,!0):(ew=null,!1)}var yN=typeof setTimeout=="function"?setTimeout:void 0,GF=typeof clearTimeout=="function"?clearTimeout:void 0,bN=typeof Promise=="function"?Promise:void 0,qF=typeof queueMicrotask=="function"?queueMicrotask:typeof bN<"u"?function(s){return bN.resolve(null).then(s).catch(YF)}:yN;function YF(s){setTimeout(function(){throw s})}function fl(s){return s==="head"}function vN(s,c){var m=c,v=0;do{var A=m.nextSibling;if(s.removeChild(m),A&&A.nodeType===8)if(m=A.data,m==="/$"||m==="/&"){if(v===0){s.removeChild(A),td(c);return}v--}else if(m==="$"||m==="$?"||m==="$~"||m==="$!"||m==="&")v++;else if(m==="html")xh(s.ownerDocument.documentElement);else if(m==="head"){m=s.ownerDocument.head,xh(m);for(var j=m.firstChild;j;){var I=j.nextSibling,G=j.nodeName;j[Gl]||G==="SCRIPT"||G==="STYLE"||G==="LINK"&&j.rel.toLowerCase()==="stylesheet"||m.removeChild(j),j=I}}else m==="body"&&xh(s.ownerDocument.body);m=A}while(m);td(c)}function xN(s,c){var m=s;s=0;do{var v=m.nextSibling;if(m.nodeType===1?c?(m._stashedDisplay=m.style.display,m.style.display="none"):(m.style.display=m._stashedDisplay||"",m.getAttribute("style")===""&&m.removeAttribute("style")):m.nodeType===3&&(c?(m._stashedText=m.nodeValue,m.nodeValue=""):m.nodeValue=m._stashedText||""),v&&v.nodeType===8)if(m=v.data,m==="/$"){if(s===0)break;s--}else m!=="$"&&m!=="$?"&&m!=="$~"&&m!=="$!"||s++;m=v}while(m)}function tw(s){var c=s.firstChild;for(c&&c.nodeType===10&&(c=c.nextSibling);c;){var m=c;switch(c=c.nextSibling,m.nodeName){case"HTML":case"HEAD":case"BODY":tw(m),Of(m);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(m.rel.toLowerCase()==="stylesheet")continue}s.removeChild(m)}}function KF(s,c,m,v){for(;s.nodeType===1;){var A=m;if(s.nodeName.toLowerCase()!==c.toLowerCase()){if(!v&&(s.nodeName!=="INPUT"||s.type!=="hidden"))break}else if(v){if(!s[Gl])switch(c){case"meta":if(!s.hasAttribute("itemprop"))break;return s;case"link":if(j=s.getAttribute("rel"),j==="stylesheet"&&s.hasAttribute("data-precedence"))break;if(j!==A.rel||s.getAttribute("href")!==(A.href==null||A.href===""?null:A.href)||s.getAttribute("crossorigin")!==(A.crossOrigin==null?null:A.crossOrigin)||s.getAttribute("title")!==(A.title==null?null:A.title))break;return s;case"style":if(s.hasAttribute("data-precedence"))break;return s;case"script":if(j=s.getAttribute("src"),(j!==(A.src==null?null:A.src)||s.getAttribute("type")!==(A.type==null?null:A.type)||s.getAttribute("crossorigin")!==(A.crossOrigin==null?null:A.crossOrigin))&&j&&s.hasAttribute("async")&&!s.hasAttribute("itemprop"))break;return s;default:return s}}else if(c==="input"&&s.type==="hidden"){var j=A.name==null?null:""+A.name;if(A.type==="hidden"&&s.getAttribute("name")===j)return s}else return s;if(s=ea(s.nextSibling),s===null)break}return null}function WF(s,c,m){if(c==="")return null;for(;s.nodeType!==3;)if((s.nodeType!==1||s.nodeName!=="INPUT"||s.type!=="hidden")&&!m||(s=ea(s.nextSibling),s===null))return null;return s}function _N(s,c){for(;s.nodeType!==8;)if((s.nodeType!==1||s.nodeName!=="INPUT"||s.type!=="hidden")&&!c||(s=ea(s.nextSibling),s===null))return null;return s}function nw(s){return s.data==="$?"||s.data==="$~"}function rw(s){return s.data==="$!"||s.data==="$?"&&s.ownerDocument.readyState!=="loading"}function VF(s,c){var m=s.ownerDocument;if(s.data==="$~")s._reactRetry=c;else if(s.data!=="$?"||m.readyState!=="loading")c();else{var v=function(){c(),m.removeEventListener("DOMContentLoaded",v)};m.addEventListener("DOMContentLoaded",v),s._reactRetry=v}}function ea(s){for(;s!=null;s=s.nextSibling){var c=s.nodeType;if(c===1||c===3)break;if(c===8){if(c=s.data,c==="$"||c==="$!"||c==="$?"||c==="$~"||c==="&"||c==="F!"||c==="F")break;if(c==="/$"||c==="/&")return null}}return s}var iw=null;function wN(s){s=s.nextSibling;for(var c=0;s;){if(s.nodeType===8){var m=s.data;if(m==="/$"||m==="/&"){if(c===0)return ea(s.nextSibling);c--}else m!=="$"&&m!=="$!"&&m!=="$?"&&m!=="$~"&&m!=="&"||c++}s=s.nextSibling}return null}function SN(s){s=s.previousSibling;for(var c=0;s;){if(s.nodeType===8){var m=s.data;if(m==="$"||m==="$!"||m==="$?"||m==="$~"||m==="&"){if(c===0)return s;c--}else m!=="/$"&&m!=="/&"||c++}s=s.previousSibling}return null}function kN(s,c,m){switch(c=Fg(m),s){case"html":if(s=c.documentElement,!s)throw Error(r(452));return s;case"head":if(s=c.head,!s)throw Error(r(453));return s;case"body":if(s=c.body,!s)throw Error(r(454));return s;default:throw Error(r(451))}}function xh(s){for(var c=s.attributes;c.length;)s.removeAttributeNode(c[0]);Of(s)}var ta=new Map,EN=new Set;function Hg(s){return typeof s.getRootNode=="function"?s.getRootNode():s.nodeType===9?s:s.ownerDocument}var es=Z.d;Z.d={f:ZF,r:XF,D:JF,C:QF,L:eH,m:tH,X:rH,S:nH,M:iH};function ZF(){var s=es.f(),c=Dg();return s||c}function XF(s){var c=Rs(s);c!==null&&c.tag===5&&c.type==="form"?FO(c):es.r(s)}var Ju=typeof document>"u"?null:document;function AN(s,c,m){var v=Ju;if(v&&typeof c=="string"&&c){var A=Zt(c);A='link[rel="'+s+'"][href="'+A+'"]',typeof m=="string"&&(A+='[crossorigin="'+m+'"]'),EN.has(A)||(EN.add(A),s={rel:s,crossOrigin:m,href:c},v.querySelector(A)===null&&(c=v.createElement("link"),mr(c,"link",s),jn(c),v.head.appendChild(c)))}}function JF(s){es.D(s),AN("dns-prefetch",s,null)}function QF(s,c){es.C(s,c),AN("preconnect",s,c)}function eH(s,c,m){es.L(s,c,m);var v=Ju;if(v&&s&&c){var A='link[rel="preload"][as="'+Zt(c)+'"]';c==="image"&&m&&m.imageSrcSet?(A+='[imagesrcset="'+Zt(m.imageSrcSet)+'"]',typeof m.imageSizes=="string"&&(A+='[imagesizes="'+Zt(m.imageSizes)+'"]')):A+='[href="'+Zt(s)+'"]';var j=A;switch(c){case"style":j=Qu(s);break;case"script":j=ed(s)}ta.has(j)||(s=p({rel:"preload",href:c==="image"&&m&&m.imageSrcSet?void 0:s,as:c},m),ta.set(j,s),v.querySelector(A)!==null||c==="style"&&v.querySelector(_h(j))||c==="script"&&v.querySelector(wh(j))||(c=v.createElement("link"),mr(c,"link",s),jn(c),v.head.appendChild(c)))}}function tH(s,c){es.m(s,c);var m=Ju;if(m&&s){var v=c&&typeof c.as=="string"?c.as:"script",A='link[rel="modulepreload"][as="'+Zt(v)+'"][href="'+Zt(s)+'"]',j=A;switch(v){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":j=ed(s)}if(!ta.has(j)&&(s=p({rel:"modulepreload",href:s},c),ta.set(j,s),m.querySelector(A)===null)){switch(v){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(m.querySelector(wh(j)))return}v=m.createElement("link"),mr(v,"link",s),jn(v),m.head.appendChild(v)}}}function nH(s,c,m){es.S(s,c,m);var v=Ju;if(v&&s){var A=Ls(v).hoistableStyles,j=Qu(s);c=c||"default";var I=A.get(j);if(!I){var G={loading:0,preload:null};if(I=v.querySelector(_h(j)))G.loading=5;else{s=p({rel:"stylesheet",href:s,"data-precedence":c},m),(m=ta.get(j))&&aw(s,m);var te=I=v.createElement("link");jn(te),mr(te,"link",s),te._p=new Promise(function(he,ke){te.onload=he,te.onerror=ke}),te.addEventListener("load",function(){G.loading|=1}),te.addEventListener("error",function(){G.loading|=2}),G.loading|=4,Gg(I,c,v)}I={type:"stylesheet",instance:I,count:1,state:G},A.set(j,I)}}}function rH(s,c){es.X(s,c);var m=Ju;if(m&&s){var v=Ls(m).hoistableScripts,A=ed(s),j=v.get(A);j||(j=m.querySelector(wh(A)),j||(s=p({src:s,async:!0},c),(c=ta.get(A))&&ow(s,c),j=m.createElement("script"),jn(j),mr(j,"link",s),m.head.appendChild(j)),j={type:"script",instance:j,count:1,state:null},v.set(A,j))}}function iH(s,c){es.M(s,c);var m=Ju;if(m&&s){var v=Ls(m).hoistableScripts,A=ed(s),j=v.get(A);j||(j=m.querySelector(wh(A)),j||(s=p({src:s,async:!0,type:"module"},c),(c=ta.get(A))&&ow(s,c),j=m.createElement("script"),jn(j),mr(j,"link",s),m.head.appendChild(j)),j={type:"script",instance:j,count:1,state:null},v.set(A,j))}}function TN(s,c,m,v){var A=(A=me.current)?Hg(A):null;if(!A)throw Error(r(446));switch(s){case"meta":case"title":return null;case"style":return typeof m.precedence=="string"&&typeof m.href=="string"?(c=Qu(m.href),m=Ls(A).hoistableStyles,v=m.get(c),v||(v={type:"style",instance:null,count:0,state:null},m.set(c,v)),v):{type:"void",instance:null,count:0,state:null};case"link":if(m.rel==="stylesheet"&&typeof m.href=="string"&&typeof m.precedence=="string"){s=Qu(m.href);var j=Ls(A).hoistableStyles,I=j.get(s);if(I||(A=A.ownerDocument||A,I={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},j.set(s,I),(j=A.querySelector(_h(s)))&&!j._p&&(I.instance=j,I.state.loading=5),ta.has(s)||(m={rel:"preload",as:"style",href:m.href,crossOrigin:m.crossOrigin,integrity:m.integrity,media:m.media,hrefLang:m.hrefLang,referrerPolicy:m.referrerPolicy},ta.set(s,m),j||aH(A,s,m,I.state))),c&&v===null)throw Error(r(528,""));return I}if(c&&v!==null)throw Error(r(529,""));return null;case"script":return c=m.async,m=m.src,typeof m=="string"&&c&&typeof c!="function"&&typeof c!="symbol"?(c=ed(m),m=Ls(A).hoistableScripts,v=m.get(c),v||(v={type:"script",instance:null,count:0,state:null},m.set(c,v)),v):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,s))}}function Qu(s){return'href="'+Zt(s)+'"'}function _h(s){return'link[rel="stylesheet"]['+s+"]"}function ON(s){return p({},s,{"data-precedence":s.precedence,precedence:null})}function aH(s,c,m,v){s.querySelector('link[rel="preload"][as="style"]['+c+"]")?v.loading=1:(c=s.createElement("link"),v.preload=c,c.addEventListener("load",function(){return v.loading|=1}),c.addEventListener("error",function(){return v.loading|=2}),mr(c,"link",m),jn(c),s.head.appendChild(c))}function ed(s){return'[src="'+Zt(s)+'"]'}function wh(s){return"script[async]"+s}function jN(s,c,m){if(c.count++,c.instance===null)switch(c.type){case"style":var v=s.querySelector('style[data-href~="'+Zt(m.href)+'"]');if(v)return c.instance=v,jn(v),v;var A=p({},m,{"data-href":m.href,"data-precedence":m.precedence,href:null,precedence:null});return v=(s.ownerDocument||s).createElement("style"),jn(v),mr(v,"style",A),Gg(v,m.precedence,s),c.instance=v;case"stylesheet":A=Qu(m.href);var j=s.querySelector(_h(A));if(j)return c.state.loading|=4,c.instance=j,jn(j),j;v=ON(m),(A=ta.get(A))&&aw(v,A),j=(s.ownerDocument||s).createElement("link"),jn(j);var I=j;return I._p=new Promise(function(G,te){I.onload=G,I.onerror=te}),mr(j,"link",v),c.state.loading|=4,Gg(j,m.precedence,s),c.instance=j;case"script":return j=ed(m.src),(A=s.querySelector(wh(j)))?(c.instance=A,jn(A),A):(v=m,(A=ta.get(j))&&(v=p({},m),ow(v,A)),s=s.ownerDocument||s,A=s.createElement("script"),jn(A),mr(A,"link",v),s.head.appendChild(A),c.instance=A);case"void":return null;default:throw Error(r(443,c.type))}else c.type==="stylesheet"&&(c.state.loading&4)===0&&(v=c.instance,c.state.loading|=4,Gg(v,m.precedence,s));return c.instance}function Gg(s,c,m){for(var v=m.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),A=v.length?v[v.length-1]:null,j=A,I=0;I<v.length;I++){var G=v[I];if(G.dataset.precedence===c)j=G;else if(j!==A)break}j?j.parentNode.insertBefore(s,j.nextSibling):(c=m.nodeType===9?m.head:m,c.insertBefore(s,c.firstChild))}function aw(s,c){s.crossOrigin==null&&(s.crossOrigin=c.crossOrigin),s.referrerPolicy==null&&(s.referrerPolicy=c.referrerPolicy),s.title==null&&(s.title=c.title)}function ow(s,c){s.crossOrigin==null&&(s.crossOrigin=c.crossOrigin),s.referrerPolicy==null&&(s.referrerPolicy=c.referrerPolicy),s.integrity==null&&(s.integrity=c.integrity)}var qg=null;function NN(s,c,m){if(qg===null){var v=new Map,A=qg=new Map;A.set(m,v)}else A=qg,v=A.get(m),v||(v=new Map,A.set(m,v));if(v.has(s))return v;for(v.set(s,null),m=m.getElementsByTagName(s),A=0;A<m.length;A++){var j=m[A];if(!(j[Gl]||j[On]||s==="link"&&j.getAttribute("rel")==="stylesheet")&&j.namespaceURI!=="http://www.w3.org/2000/svg"){var I=j.getAttribute(c)||"";I=s+I;var G=v.get(I);G?G.push(j):v.set(I,[j])}}return v}function CN(s,c,m){s=s.ownerDocument||s,s.head.insertBefore(m,c==="title"?s.querySelector("head > title"):null)}function oH(s,c,m){if(m===1||c.itemProp!=null)return!1;switch(s){case"meta":case"title":return!0;case"style":if(typeof c.precedence!="string"||typeof c.href!="string"||c.href==="")break;return!0;case"link":if(typeof c.rel!="string"||typeof c.href!="string"||c.href===""||c.onLoad||c.onError)break;switch(c.rel){case"stylesheet":return s=c.disabled,typeof c.precedence=="string"&&s==null;default:return!0}case"script":if(c.async&&typeof c.async!="function"&&typeof c.async!="symbol"&&!c.onLoad&&!c.onError&&c.src&&typeof c.src=="string")return!0}return!1}function MN(s){return!(s.type==="stylesheet"&&(s.state.loading&3)===0)}function sH(s,c,m,v){if(m.type==="stylesheet"&&(typeof v.media!="string"||matchMedia(v.media).matches!==!1)&&(m.state.loading&4)===0){if(m.instance===null){var A=Qu(v.href),j=c.querySelector(_h(A));if(j){c=j._p,c!==null&&typeof c=="object"&&typeof c.then=="function"&&(s.count++,s=Yg.bind(s),c.then(s,s)),m.state.loading|=4,m.instance=j,jn(j);return}j=c.ownerDocument||c,v=ON(v),(A=ta.get(A))&&aw(v,A),j=j.createElement("link"),jn(j);var I=j;I._p=new Promise(function(G,te){I.onload=G,I.onerror=te}),mr(j,"link",v),m.instance=j}s.stylesheets===null&&(s.stylesheets=new Map),s.stylesheets.set(m,c),(c=m.state.preload)&&(m.state.loading&3)===0&&(s.count++,m=Yg.bind(s),c.addEventListener("load",m),c.addEventListener("error",m))}}var sw=0;function lH(s,c){return s.stylesheets&&s.count===0&&Wg(s,s.stylesheets),0<s.count||0<s.imgCount?function(m){var v=setTimeout(function(){if(s.stylesheets&&Wg(s,s.stylesheets),s.unsuspend){var j=s.unsuspend;s.unsuspend=null,j()}},6e4+c);0<s.imgBytes&&sw===0&&(sw=62500*FF());var A=setTimeout(function(){if(s.waitingForImages=!1,s.count===0&&(s.stylesheets&&Wg(s,s.stylesheets),s.unsuspend)){var j=s.unsuspend;s.unsuspend=null,j()}},(s.imgBytes>sw?50:800)+c);return s.unsuspend=m,function(){s.unsuspend=null,clearTimeout(v),clearTimeout(A)}}:null}function Yg(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Wg(this,this.stylesheets);else if(this.unsuspend){var s=this.unsuspend;this.unsuspend=null,s()}}}var Kg=null;function Wg(s,c){s.stylesheets=null,s.unsuspend!==null&&(s.count++,Kg=new Map,c.forEach(cH,s),Kg=null,Yg.call(s))}function cH(s,c){if(!(c.state.loading&4)){var m=Kg.get(s);if(m)var v=m.get(null);else{m=new Map,Kg.set(s,m);for(var A=s.querySelectorAll("link[data-precedence],style[data-precedence]"),j=0;j<A.length;j++){var I=A[j];(I.nodeName==="LINK"||I.getAttribute("media")!=="not all")&&(m.set(I.dataset.precedence,I),v=I)}v&&m.set(null,v)}A=c.instance,I=A.getAttribute("data-precedence"),j=m.get(I)||v,j===v&&m.set(null,A),m.set(I,A),this.count++,v=Yg.bind(this),A.addEventListener("load",v),A.addEventListener("error",v),j?j.parentNode.insertBefore(A,j.nextSibling):(s=s.nodeType===9?s.head:s,s.insertBefore(A,s.firstChild)),c.state.loading|=4}}var Sh={$$typeof:O,Provider:null,Consumer:null,_currentValue:re,_currentValue2:re,_threadCount:0};function uH(s,c,m,v,A,j,I,G,te){this.tag=1,this.containerInfo=s,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Ef(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ef(0),this.hiddenUpdates=Ef(null),this.identifierPrefix=v,this.onUncaughtError=A,this.onCaughtError=j,this.onRecoverableError=I,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=te,this.incompleteTransitions=new Map}function PN(s,c,m,v,A,j,I,G,te,he,ke,Te){return s=new uH(s,c,m,I,te,he,ke,Te,G),c=1,j===!0&&(c|=24),j=Er(3,null,null,c),s.current=j,j.stateNode=s,c=zx(),c.refCount++,s.pooledCache=c,c.refCount++,j.memoizedState={element:v,isDehydrated:m,cache:c},Gx(j),s}function DN(s){return s?(s=zo,s):zo}function RN(s,c,m,v,A,j){A=DN(A),v.context===null?v.context=A:v.pendingContext=A,v=tl(c),v.payload={element:m},j=j===void 0?null:j,j!==null&&(v.callback=j),m=nl(s,v,c),m!==null&&(ti(m,s,c),th(m,s,c))}function LN(s,c){if(s=s.memoizedState,s!==null&&s.dehydrated!==null){var m=s.retryLane;s.retryLane=m!==0&&m<c?m:c}}function lw(s,c){LN(s,c),(s=s.alternate)&&LN(s,c)}function IN(s){if(s.tag===13||s.tag===31){var c=Xi(s,67108864);c!==null&&ti(c,s,67108864),lw(s,67108864)}}function $N(s){if(s.tag===13||s.tag===31){var c=Ti();c=Gr(c);var m=Xi(s,c);m!==null&&ti(m,s,c),lw(s,c)}}var Vg=!0;function dH(s,c,m,v){var A=Y.T;Y.T=null;var j=Z.p;try{Z.p=2,cw(s,c,m,v)}finally{Z.p=j,Y.T=A}}function fH(s,c,m,v){var A=Y.T;Y.T=null;var j=Z.p;try{Z.p=8,cw(s,c,m,v)}finally{Z.p=j,Y.T=A}}function cw(s,c,m,v){if(Vg){var A=uw(v);if(A===null)V_(s,c,v,Zg,m),zN(s,v);else if(mH(A,s,c,m,v))v.stopPropagation();else if(zN(s,v),c&4&&-1<hH.indexOf(s)){for(;A!==null;){var j=Rs(A);if(j!==null)switch(j.tag){case 3:if(j=j.stateNode,j.current.memoizedState.isDehydrated){var I=Co(j.pendingLanes);if(I!==0){var G=j;for(G.pendingLanes|=2,G.entangledLanes|=2;I;){var te=1<<31-Cr(I);G.entanglements[1]|=te,I&=~te}co(j),(Tt&6)===0&&(Mg=Be()+500,yh(0))}}break;case 31:case 13:G=Xi(j,2),G!==null&&ti(G,j,2),Dg(),lw(j,2)}if(j=uw(v),j===null&&V_(s,c,v,Zg,m),j===A)break;A=j}A!==null&&v.stopPropagation()}else V_(s,c,v,null,m)}}function uw(s){return s=Vl(s),dw(s)}var Zg=null;function dw(s){if(Zg=null,s=Do(s),s!==null){var c=a(s);if(c===null)s=null;else{var m=c.tag;if(m===13){if(s=o(c),s!==null)return s;s=null}else if(m===31){if(s=l(c),s!==null)return s;s=null}else if(m===3){if(c.stateNode.current.memoizedState.isDehydrated)return c.tag===3?c.stateNode.containerInfo:null;s=null}else c!==s&&(s=null)}}return Zg=s,null}function BN(s){switch(s){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(lt()){case jt:return 2;case yt:return 8;case Jn:case gi:return 32;case yi:return 268435456;default:return 32}default:return 32}}var fw=!1,hl=null,ml=null,pl=null,kh=new Map,Eh=new Map,gl=[],hH="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function zN(s,c){switch(s){case"focusin":case"focusout":hl=null;break;case"dragenter":case"dragleave":ml=null;break;case"mouseover":case"mouseout":pl=null;break;case"pointerover":case"pointerout":kh.delete(c.pointerId);break;case"gotpointercapture":case"lostpointercapture":Eh.delete(c.pointerId)}}function Ah(s,c,m,v,A,j){return s===null||s.nativeEvent!==j?(s={blockedOn:c,domEventName:m,eventSystemFlags:v,nativeEvent:j,targetContainers:[A]},c!==null&&(c=Rs(c),c!==null&&IN(c)),s):(s.eventSystemFlags|=v,c=s.targetContainers,A!==null&&c.indexOf(A)===-1&&c.push(A),s)}function mH(s,c,m,v,A){switch(c){case"focusin":return hl=Ah(hl,s,c,m,v,A),!0;case"dragenter":return ml=Ah(ml,s,c,m,v,A),!0;case"mouseover":return pl=Ah(pl,s,c,m,v,A),!0;case"pointerover":var j=A.pointerId;return kh.set(j,Ah(kh.get(j)||null,s,c,m,v,A)),!0;case"gotpointercapture":return j=A.pointerId,Eh.set(j,Ah(Eh.get(j)||null,s,c,m,v,A)),!0}return!1}function UN(s){var c=Do(s.target);if(c!==null){var m=a(c);if(m!==null){if(c=m.tag,c===13){if(c=o(m),c!==null){s.blockedOn=c,Tf(s.priority,function(){$N(m)});return}}else if(c===31){if(c=l(m),c!==null){s.blockedOn=c,Tf(s.priority,function(){$N(m)});return}}else if(c===3&&m.stateNode.current.memoizedState.isDehydrated){s.blockedOn=m.tag===3?m.stateNode.containerInfo:null;return}}}s.blockedOn=null}function Xg(s){if(s.blockedOn!==null)return!1;for(var c=s.targetContainers;0<c.length;){var m=uw(s.nativeEvent);if(m===null){m=s.nativeEvent;var v=new m.constructor(m.type,m);vu=v,m.target.dispatchEvent(v),vu=null}else return c=Rs(m),c!==null&&IN(c),s.blockedOn=m,!1;c.shift()}return!0}function FN(s,c,m){Xg(s)&&m.delete(c)}function pH(){fw=!1,hl!==null&&Xg(hl)&&(hl=null),ml!==null&&Xg(ml)&&(ml=null),pl!==null&&Xg(pl)&&(pl=null),kh.forEach(FN),Eh.forEach(FN)}function Jg(s,c){s.blockedOn===c&&(s.blockedOn=null,fw||(fw=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,pH)))}var Qg=null;function HN(s){Qg!==s&&(Qg=s,e.unstable_scheduleCallback(e.unstable_NormalPriority,function(){Qg===s&&(Qg=null);for(var c=0;c<s.length;c+=3){var m=s[c],v=s[c+1],A=s[c+2];if(typeof v!="function"){if(dw(v||m)===null)continue;break}var j=Rs(m);j!==null&&(s.splice(c,3),c-=3,u_(j,{pending:!0,data:A,method:m.method,action:v},v,A))}}))}function td(s){function c(te){return Jg(te,s)}hl!==null&&Jg(hl,s),ml!==null&&Jg(ml,s),pl!==null&&Jg(pl,s),kh.forEach(c),Eh.forEach(c);for(var m=0;m<gl.length;m++){var v=gl[m];v.blockedOn===s&&(v.blockedOn=null)}for(;0<gl.length&&(m=gl[0],m.blockedOn===null);)UN(m),m.blockedOn===null&&gl.shift();if(m=(s.ownerDocument||s).$$reactFormReplay,m!=null)for(v=0;v<m.length;v+=3){var A=m[v],j=m[v+1],I=A[Qn]||null;if(typeof j=="function")I||HN(m);else if(I){var G=null;if(j&&j.hasAttribute("formAction")){if(A=j,I=j[Qn]||null)G=I.formAction;else if(dw(A)!==null)continue}else G=I.action;typeof G=="function"?m[v+1]=G:(m.splice(v,3),v-=3),HN(m)}}}function GN(){function s(j){j.canIntercept&&j.info==="react-transition"&&j.intercept({handler:function(){return new Promise(function(I){return A=I})},focusReset:"manual",scroll:"manual"})}function c(){A!==null&&(A(),A=null),v||setTimeout(m,20)}function m(){if(!v&&!navigation.transition){var j=navigation.currentEntry;j&&j.url!=null&&navigation.navigate(j.url,{state:j.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var v=!1,A=null;return navigation.addEventListener("navigate",s),navigation.addEventListener("navigatesuccess",c),navigation.addEventListener("navigateerror",c),setTimeout(m,100),function(){v=!0,navigation.removeEventListener("navigate",s),navigation.removeEventListener("navigatesuccess",c),navigation.removeEventListener("navigateerror",c),A!==null&&(A(),A=null)}}}function hw(s){this._internalRoot=s}e0.prototype.render=hw.prototype.render=function(s){var c=this._internalRoot;if(c===null)throw Error(r(409));var m=c.current,v=Ti();RN(m,v,s,c,null,null)},e0.prototype.unmount=hw.prototype.unmount=function(){var s=this._internalRoot;if(s!==null){this._internalRoot=null;var c=s.containerInfo;RN(s.current,2,null,s,null,null),Dg(),c[Po]=null}};function e0(s){this._internalRoot=s}e0.prototype.unstable_scheduleHydration=function(s){if(s){var c=Af();s={blockedOn:null,target:s,priority:c};for(var m=0;m<gl.length&&c!==0&&c<gl[m].priority;m++);gl.splice(m,0,s),m===0&&UN(s)}};var qN=t.version;if(qN!=="19.2.1")throw Error(r(527,qN,"19.2.1"));Z.findDOMNode=function(s){var c=s._reactInternals;if(c===void 0)throw typeof s.render=="function"?Error(r(188)):(s=Object.keys(s).join(","),Error(r(268,s)));return s=f(c),s=s!==null?h(s):null,s=s===null?null:s.stateNode,s};var gH={bundleType:0,version:"19.2.1",rendererPackageName:"react-dom",currentDispatcherRef:Y,reconcilerVersion:"19.2.1"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var t0=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!t0.isDisabled&&t0.supportsFiber)try{qt=t0.inject(gH),mn=t0}catch{}}return Oh.createRoot=function(s,c){if(!i(s))throw Error(r(299));var m=!1,v="",A=JO,j=QO,I=ej;return c!=null&&(c.unstable_strictMode===!0&&(m=!0),c.identifierPrefix!==void 0&&(v=c.identifierPrefix),c.onUncaughtError!==void 0&&(A=c.onUncaughtError),c.onCaughtError!==void 0&&(j=c.onCaughtError),c.onRecoverableError!==void 0&&(I=c.onRecoverableError)),c=PN(s,1,!1,null,null,m,v,null,A,j,I,GN),s[Po]=c.current,W_(s),new hw(c)},Oh.hydrateRoot=function(s,c,m){if(!i(s))throw Error(r(299));var v=!1,A="",j=JO,I=QO,G=ej,te=null;return m!=null&&(m.unstable_strictMode===!0&&(v=!0),m.identifierPrefix!==void 0&&(A=m.identifierPrefix),m.onUncaughtError!==void 0&&(j=m.onUncaughtError),m.onCaughtError!==void 0&&(I=m.onCaughtError),m.onRecoverableError!==void 0&&(G=m.onRecoverableError),m.formState!==void 0&&(te=m.formState)),c=PN(s,1,!0,c,m??null,v,A,te,j,I,G,GN),c.context=DN(null),m=c.current,v=Ti(),v=Gr(v),A=tl(v),A.callback=null,nl(m,A,v),m=v,c.current.lanes=m,Mo(c,m),co(c),s[Po]=c.current,W_(s),new e0(c)},Oh.version="19.2.1",Oh}var tC;function AH(){if(tC)return gw.exports;tC=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),gw.exports=EH(),gw.exports}var TH=AH();/**
 * react-router v7.10.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var nC="popstate";function OH(e={}){function t(i,a){let{pathname:o="/",search:l="",hash:u=""}=du(i.location.hash.substring(1));return!o.startsWith("/")&&!o.startsWith(".")&&(o="/"+o),WS("",{pathname:o,search:l,hash:u},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function n(i,a){let o=i.document.querySelector("base"),l="";if(o&&o.getAttribute("href")){let u=i.location.href,f=u.indexOf("#");l=f===-1?u:u.slice(0,f)}return l+"#"+(typeof a=="string"?a:gm(a))}function r(i,a){zi(i.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(a)})`)}return NH(t,n,r,e)}function ln(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function zi(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function jH(){return Math.random().toString(36).substring(2,10)}function rC(e,t){return{usr:e.state,key:e.key,idx:t}}function WS(e,t,n=null,r){return{pathname:typeof e=="string"?e:e.pathname,search:"",hash:"",...typeof t=="string"?du(t):t,state:n,key:t&&t.key||r||jH()}}function gm({pathname:e="/",search:t="",hash:n=""}){return t&&t!=="?"&&(e+=t.charAt(0)==="?"?t:"?"+t),n&&n!=="#"&&(e+=n.charAt(0)==="#"?n:"#"+n),e}function du(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substring(n),e=e.substring(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substring(r),e=e.substring(0,r)),e&&(t.pathname=e)}return t}function NH(e,t,n,r={}){let{window:i=document.defaultView,v5Compat:a=!1}=r,o=i.history,l="POP",u=null,f=h();f==null&&(f=0,o.replaceState({...o.state,idx:f},""));function h(){return(o.state||{idx:null}).idx}function p(){l="POP";let k=h(),T=k==null?null:k-f;f=k,u&&u({action:l,location:_.location,delta:T})}function g(k,T){l="PUSH";let N=WS(_.location,k,T);n&&n(N,k),f=h()+1;let O=rC(N,f),P=_.createHref(N);try{o.pushState(O,"",P)}catch(C){if(C instanceof DOMException&&C.name==="DataCloneError")throw C;i.location.assign(P)}a&&u&&u({action:l,location:_.location,delta:1})}function x(k,T){l="REPLACE";let N=WS(_.location,k,T);n&&n(N,k),f=h();let O=rC(N,f),P=_.createHref(N);o.replaceState(O,"",P),a&&u&&u({action:l,location:_.location,delta:0})}function S(k){return CH(k)}let _={get action(){return l},get location(){return e(i,o)},listen(k){if(u)throw new Error("A history only accepts one active listener");return i.addEventListener(nC,p),u=k,()=>{i.removeEventListener(nC,p),u=null}},createHref(k){return t(i,k)},createURL:S,encodeLocation(k){let T=S(k);return{pathname:T.pathname,search:T.search,hash:T.hash}},push:g,replace:x,go(k){return o.go(k)}};return _}function CH(e,t=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),ln(n,"No window.location.(origin|href) available to create URL");let r=typeof e=="string"?e:gm(e);return r=r.replace(/ $/,"%20"),!t&&r.startsWith("//")&&(r=n+r),new URL(r,n)}function K3(e,t,n="/"){return MH(e,t,n,!1)}function MH(e,t,n,r){let i=typeof t=="string"?du(t):t,a=ps(i.pathname||"/",n);if(a==null)return null;let o=W3(e);PH(o);let l=null;for(let u=0;l==null&&u<o.length;++u){let f=GH(a);l=FH(o[u],f,r)}return l}function W3(e,t=[],n=[],r="",i=!1){let a=(o,l,u=i,f)=>{let h={relativePath:f===void 0?o.path||"":f,caseSensitive:o.caseSensitive===!0,childrenIndex:l,route:o};if(h.relativePath.startsWith("/")){if(!h.relativePath.startsWith(r)&&u)return;ln(h.relativePath.startsWith(r),`Absolute route path "${h.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),h.relativePath=h.relativePath.slice(r.length)}let p=fs([r,h.relativePath]),g=n.concat(h);o.children&&o.children.length>0&&(ln(o.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${p}".`),W3(o.children,t,g,p,u)),!(o.path==null&&!o.index)&&t.push({path:p,score:zH(p,o.index),routesMeta:g})};return e.forEach((o,l)=>{if(o.path===""||!o.path?.includes("?"))a(o,l);else for(let u of V3(o.path))a(o,l,!0,u)}),t}function V3(e){let t=e.split("/");if(t.length===0)return[];let[n,...r]=t,i=n.endsWith("?"),a=n.replace(/\?$/,"");if(r.length===0)return i?[a,""]:[a];let o=V3(r.join("/")),l=[];return l.push(...o.map(u=>u===""?a:[a,u].join("/"))),i&&l.push(...o),l.map(u=>e.startsWith("/")&&u===""?"/":u)}function PH(e){e.sort((t,n)=>t.score!==n.score?n.score-t.score:UH(t.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}var DH=/^:[\w-]+$/,RH=3,LH=2,IH=1,$H=10,BH=-2,iC=e=>e==="*";function zH(e,t){let n=e.split("/"),r=n.length;return n.some(iC)&&(r+=BH),t&&(r+=LH),n.filter(i=>!iC(i)).reduce((i,a)=>i+(DH.test(a)?RH:a===""?IH:$H),r)}function UH(e,t){return e.length===t.length&&e.slice(0,-1).every((r,i)=>r===t[i])?e[e.length-1]-t[t.length-1]:0}function FH(e,t,n=!1){let{routesMeta:r}=e,i={},a="/",o=[];for(let l=0;l<r.length;++l){let u=r[l],f=l===r.length-1,h=a==="/"?t:t.slice(a.length)||"/",p=Ey({path:u.relativePath,caseSensitive:u.caseSensitive,end:f},h),g=u.route;if(!p&&f&&n&&!r[r.length-1].route.index&&(p=Ey({path:u.relativePath,caseSensitive:u.caseSensitive,end:!1},h)),!p)return null;Object.assign(i,p.params),o.push({params:i,pathname:fs([a,p.pathname]),pathnameBase:VH(fs([a,p.pathnameBase])),route:g}),p.pathnameBase!=="/"&&(a=fs([a,p.pathnameBase]))}return o}function Ey(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=HH(e.path,e.caseSensitive,e.end),i=t.match(n);if(!i)return null;let a=i[0],o=a.replace(/(.)\/+$/,"$1"),l=i.slice(1);return{params:r.reduce((f,{paramName:h,isOptional:p},g)=>{if(h==="*"){let S=l[g]||"";o=a.slice(0,a.length-S.length).replace(/(.)\/+$/,"$1")}const x=l[g];return p&&!x?f[h]=void 0:f[h]=(x||"").replace(/%2F/g,"/"),f},{}),pathname:a,pathnameBase:o,pattern:e}}function HH(e,t=!1,n=!0){zi(e==="*"||!e.endsWith("*")||e.endsWith("/*"),`Route path "${e}" will be treated as if it were "${e.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${e.replace(/\*$/,"/*")}".`);let r=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,l,u)=>(r.push({paramName:l,isOptional:u!=null}),u?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return e.endsWith("*")?(r.push({paramName:"*"}),i+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":e!==""&&e!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,t?void 0:"i"),r]}function GH(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return zi(!1,`The URL path "${e}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),e}}function ps(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&r!=="/"?null:e.slice(n)||"/"}var qH=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,YH=e=>qH.test(e);function KH(e,t="/"){let{pathname:n,search:r="",hash:i=""}=typeof e=="string"?du(e):e,a;if(n)if(YH(n))a=n;else{if(n.includes("//")){let o=n;n=n.replace(/\/\/+/g,"/"),zi(!1,`Pathnames cannot have embedded double slashes - normalizing ${o} -> ${n}`)}n.startsWith("/")?a=aC(n.substring(1),"/"):a=aC(n,t)}else a=t;return{pathname:a,search:ZH(r),hash:XH(i)}}function aC(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function xw(e,t,n,r){return`Cannot include a '${e}' character in a manually specified \`to.${t}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function WH(e){return e.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function VE(e){let t=WH(e);return t.map((n,r)=>r===t.length-1?n.pathname:n.pathnameBase)}function ZE(e,t,n,r=!1){let i;typeof e=="string"?i=du(e):(i={...e},ln(!i.pathname||!i.pathname.includes("?"),xw("?","pathname","search",i)),ln(!i.pathname||!i.pathname.includes("#"),xw("#","pathname","hash",i)),ln(!i.search||!i.search.includes("#"),xw("#","search","hash",i)));let a=e===""||i.pathname==="",o=a?"/":i.pathname,l;if(o==null)l=n;else{let p=t.length-1;if(!r&&o.startsWith("..")){let g=o.split("/");for(;g[0]==="..";)g.shift(),p-=1;i.pathname=g.join("/")}l=p>=0?t[p]:"/"}let u=KH(i,l),f=o&&o!=="/"&&o.endsWith("/"),h=(a||o===".")&&n.endsWith("/");return!u.pathname.endsWith("/")&&(f||h)&&(u.pathname+="/"),u}var fs=e=>e.join("/").replace(/\/\/+/g,"/"),VH=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),ZH=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,XH=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function JH(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}function QH(e){return e.map(t=>t.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var Z3=["POST","PUT","PATCH","DELETE"];new Set(Z3);var eG=["GET",...Z3];new Set(eG);var rf=w.createContext(null);rf.displayName="DataRouter";var nv=w.createContext(null);nv.displayName="DataRouterState";w.createContext(!1);var X3=w.createContext({isTransitioning:!1});X3.displayName="ViewTransition";var tG=w.createContext(new Map);tG.displayName="Fetchers";var nG=w.createContext(null);nG.displayName="Await";var ya=w.createContext(null);ya.displayName="Navigation";var Wm=w.createContext(null);Wm.displayName="Location";var Oo=w.createContext({outlet:null,matches:[],isDataRoute:!1});Oo.displayName="Route";var XE=w.createContext(null);XE.displayName="RouteError";function rG(e,{relative:t}={}){ln(af(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:r}=w.useContext(ya),{hash:i,pathname:a,search:o}=Vm(e,{relative:t}),l=a;return n!=="/"&&(l=a==="/"?n:fs([n,a])),r.createHref({pathname:l,search:o,hash:i})}function af(){return w.useContext(Wm)!=null}function ba(){return ln(af(),"useLocation() may be used only in the context of a <Router> component."),w.useContext(Wm).location}var J3="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function Q3(e){w.useContext(ya).static||w.useLayoutEffect(e)}function JE(){let{isDataRoute:e}=w.useContext(Oo);return e?gG():iG()}function iG(){ln(af(),"useNavigate() may be used only in the context of a <Router> component.");let e=w.useContext(rf),{basename:t,navigator:n}=w.useContext(ya),{matches:r}=w.useContext(Oo),{pathname:i}=ba(),a=JSON.stringify(VE(r)),o=w.useRef(!1);return Q3(()=>{o.current=!0}),w.useCallback((u,f={})=>{if(zi(o.current,J3),!o.current)return;if(typeof u=="number"){n.go(u);return}let h=ZE(u,JSON.parse(a),i,f.relative==="path");e==null&&t!=="/"&&(h.pathname=h.pathname==="/"?t:fs([t,h.pathname])),(f.replace?n.replace:n.push)(h,f.state,f)},[t,n,a,i,e])}w.createContext(null);function Vm(e,{relative:t}={}){let{matches:n}=w.useContext(Oo),{pathname:r}=ba(),i=JSON.stringify(VE(n));return w.useMemo(()=>ZE(e,JSON.parse(i),r,t==="path"),[e,i,r,t])}function aG(e,t){return e$(e,t)}function e$(e,t,n,r,i){ln(af(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:a}=w.useContext(ya),{matches:o}=w.useContext(Oo),l=o[o.length-1],u=l?l.params:{},f=l?l.pathname:"/",h=l?l.pathnameBase:"/",p=l&&l.route;{let N=p&&p.path||"";t$(f,!p||N.endsWith("*")||N.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${f}" (under <Route path="${N}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${N}"> to <Route path="${N==="/"?"*":`${N}/*`}">.`)}let g=ba(),x;if(t){let N=typeof t=="string"?du(t):t;ln(h==="/"||N.pathname?.startsWith(h),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${h}" but pathname "${N.pathname}" was given in the \`location\` prop.`),x=N}else x=g;let S=x.pathname||"/",_=S;if(h!=="/"){let N=h.replace(/^\//,"").split("/");_="/"+S.replace(/^\//,"").split("/").slice(N.length).join("/")}let k=K3(e,{pathname:_});zi(p||k!=null,`No routes matched location "${x.pathname}${x.search}${x.hash}" `),zi(k==null||k[k.length-1].route.element!==void 0||k[k.length-1].route.Component!==void 0||k[k.length-1].route.lazy!==void 0,`Matched leaf route at location "${x.pathname}${x.search}${x.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let T=uG(k&&k.map(N=>Object.assign({},N,{params:Object.assign({},u,N.params),pathname:fs([h,a.encodeLocation?a.encodeLocation(N.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:N.pathname]),pathnameBase:N.pathnameBase==="/"?h:fs([h,a.encodeLocation?a.encodeLocation(N.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:N.pathnameBase])})),o,n,r,i);return t&&T?w.createElement(Wm.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...x},navigationType:"POP"}},T):T}function oG(){let e=pG(),t=JH(e)?`${e.status} ${e.statusText}`:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,r="rgba(200,200,200, 0.5)",i={padding:"0.5rem",backgroundColor:r},a={padding:"2px 4px",backgroundColor:r},o=null;return console.error("Error handled by React Router default ErrorBoundary:",e),o=w.createElement(w.Fragment,null,w.createElement("p",null," Hey developer "),w.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",w.createElement("code",{style:a},"ErrorBoundary")," or"," ",w.createElement("code",{style:a},"errorElement")," prop on your route.")),w.createElement(w.Fragment,null,w.createElement("h2",null,"Unexpected Application Error!"),w.createElement("h3",{style:{fontStyle:"italic"}},t),n?w.createElement("pre",{style:i},n):null,o)}var sG=w.createElement(oG,null),lG=class extends w.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||t.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){this.props.onError?this.props.onError(e,t):console.error("React Router caught the following error during render",e)}render(){return this.state.error!==void 0?w.createElement(Oo.Provider,{value:this.props.routeContext},w.createElement(XE.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function cG({routeContext:e,match:t,children:n}){let r=w.useContext(rf);return r&&r.static&&r.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=t.route.id),w.createElement(Oo.Provider,{value:e},n)}function uG(e,t=[],n=null,r=null,i=null){if(e==null){if(!n)return null;if(n.errors)e=n.matches;else if(t.length===0&&!n.initialized&&n.matches.length>0)e=n.matches;else return null}let a=e,o=n?.errors;if(o!=null){let h=a.findIndex(p=>p.route.id&&o?.[p.route.id]!==void 0);ln(h>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(o).join(",")}`),a=a.slice(0,Math.min(a.length,h+1))}let l=!1,u=-1;if(n)for(let h=0;h<a.length;h++){let p=a[h];if((p.route.HydrateFallback||p.route.hydrateFallbackElement)&&(u=h),p.route.id){let{loaderData:g,errors:x}=n,S=p.route.loader&&!g.hasOwnProperty(p.route.id)&&(!x||x[p.route.id]===void 0);if(p.route.lazy||S){l=!0,u>=0?a=a.slice(0,u+1):a=[a[0]];break}}}let f=n&&r?(h,p)=>{r(h,{location:n.location,params:n.matches?.[0]?.params??{},unstable_pattern:QH(n.matches),errorInfo:p})}:void 0;return a.reduceRight((h,p,g)=>{let x,S=!1,_=null,k=null;n&&(x=o&&p.route.id?o[p.route.id]:void 0,_=p.route.errorElement||sG,l&&(u<0&&g===0?(t$("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),S=!0,k=null):u===g&&(S=!0,k=p.route.hydrateFallbackElement||null)));let T=t.concat(a.slice(0,g+1)),N=()=>{let O;return x?O=_:S?O=k:p.route.Component?O=w.createElement(p.route.Component,null):p.route.element?O=p.route.element:O=h,w.createElement(cG,{match:p,routeContext:{outlet:h,matches:T,isDataRoute:n!=null},children:O})};return n&&(p.route.ErrorBoundary||p.route.errorElement||g===0)?w.createElement(lG,{location:n.location,revalidation:n.revalidation,component:_,error:x,children:N(),routeContext:{outlet:null,matches:T,isDataRoute:!0},onError:f}):N()},null)}function QE(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function dG(e){let t=w.useContext(rf);return ln(t,QE(e)),t}function fG(e){let t=w.useContext(nv);return ln(t,QE(e)),t}function hG(e){let t=w.useContext(Oo);return ln(t,QE(e)),t}function e2(e){let t=hG(e),n=t.matches[t.matches.length-1];return ln(n.route.id,`${e} can only be used on routes that contain a unique "id"`),n.route.id}function mG(){return e2("useRouteId")}function pG(){let e=w.useContext(XE),t=fG("useRouteError"),n=e2("useRouteError");return e!==void 0?e:t.errors?.[n]}function gG(){let{router:e}=dG("useNavigate"),t=e2("useNavigate"),n=w.useRef(!1);return Q3(()=>{n.current=!0}),w.useCallback(async(i,a={})=>{zi(n.current,J3),n.current&&(typeof i=="number"?await e.navigate(i):await e.navigate(i,{fromRouteId:t,...a}))},[e,t])}var oC={};function t$(e,t,n){!t&&!oC[e]&&(oC[e]=!0,zi(!1,n))}w.memo(yG);function yG({routes:e,future:t,state:n,unstable_onError:r}){return e$(e,void 0,n,r,t)}function bG({to:e,replace:t,state:n,relative:r}){ln(af(),"<Navigate> may be used only in the context of a <Router> component.");let{static:i}=w.useContext(ya);zi(!i,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:a}=w.useContext(Oo),{pathname:o}=ba(),l=JE(),u=ZE(e,VE(a),o,r==="path"),f=JSON.stringify(u);return w.useEffect(()=>{l(JSON.parse(f),{replace:t,state:n,relative:r})},[l,f,r,t,n]),null}function gd(e){ln(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function vG({basename:e="/",children:t=null,location:n,navigationType:r="POP",navigator:i,static:a=!1,unstable_useTransitions:o}){ln(!af(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let l=e.replace(/^\/*/,"/"),u=w.useMemo(()=>({basename:l,navigator:i,static:a,unstable_useTransitions:o,future:{}}),[l,i,a,o]);typeof n=="string"&&(n=du(n));let{pathname:f="/",search:h="",hash:p="",state:g=null,key:x="default"}=n,S=w.useMemo(()=>{let _=ps(f,l);return _==null?null:{location:{pathname:_,search:h,hash:p,state:g,key:x},navigationType:r}},[l,f,h,p,g,x,r]);return zi(S!=null,`<Router basename="${l}"> is not able to match the URL "${f}${h}${p}" because it does not start with the basename, so the <Router> won't render anything.`),S==null?null:w.createElement(ya.Provider,{value:u},w.createElement(Wm.Provider,{children:t,value:S}))}function xG({children:e,location:t}){return aG(VS(e),t)}function VS(e,t=[]){let n=[];return w.Children.forEach(e,(r,i)=>{if(!w.isValidElement(r))return;let a=[...t,i];if(r.type===w.Fragment){n.push.apply(n,VS(r.props.children,a));return}ln(r.type===gd,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),ln(!r.props.index||!r.props.children,"An index route cannot have child routes.");let o={id:r.props.id||a.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,middleware:r.props.middleware,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(o.children=VS(r.props.children,a)),n.push(o)}),n}var ly="get",cy="application/x-www-form-urlencoded";function rv(e){return typeof HTMLElement<"u"&&e instanceof HTMLElement}function _G(e){return rv(e)&&e.tagName.toLowerCase()==="button"}function wG(e){return rv(e)&&e.tagName.toLowerCase()==="form"}function SG(e){return rv(e)&&e.tagName.toLowerCase()==="input"}function kG(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function EG(e,t){return e.button===0&&(!t||t==="_self")&&!kG(e)}var n0=null;function AG(){if(n0===null)try{new FormData(document.createElement("form"),0),n0=!1}catch{n0=!0}return n0}var TG=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function _w(e){return e!=null&&!TG.has(e)?(zi(!1,`"${e}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${cy}"`),null):e}function OG(e,t){let n,r,i,a,o;if(wG(e)){let l=e.getAttribute("action");r=l?ps(l,t):null,n=e.getAttribute("method")||ly,i=_w(e.getAttribute("enctype"))||cy,a=new FormData(e)}else if(_G(e)||SG(e)&&(e.type==="submit"||e.type==="image")){let l=e.form;if(l==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let u=e.getAttribute("formaction")||l.getAttribute("action");if(r=u?ps(u,t):null,n=e.getAttribute("formmethod")||l.getAttribute("method")||ly,i=_w(e.getAttribute("formenctype"))||_w(l.getAttribute("enctype"))||cy,a=new FormData(l,e),!AG()){let{name:f,type:h,value:p}=e;if(h==="image"){let g=f?`${f}.`:"";a.append(`${g}x`,"0"),a.append(`${g}y`,"0")}else f&&a.append(f,p)}}else{if(rv(e))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=ly,r=null,i=cy,o=e}return a&&i==="text/plain"&&(o=a,a=void 0),{action:r,method:n.toLowerCase(),encType:i,formData:a,body:o}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function t2(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function jG(e,t,n){let r=typeof e=="string"?new URL(e,typeof window>"u"?"server://singlefetch/":window.location.origin):e;return r.pathname==="/"?r.pathname=`_root.${n}`:t&&ps(r.pathname,t)==="/"?r.pathname=`${t.replace(/\/$/,"")}/_root.${n}`:r.pathname=`${r.pathname.replace(/\/$/,"")}.${n}`,r}async function NG(e,t){if(e.id in t)return t[e.id];try{let n=await import(e.module);return t[e.id]=n,n}catch(n){return console.error(`Error loading route module \`${e.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function CG(e){return e==null?!1:e.href==null?e.rel==="preload"&&typeof e.imageSrcSet=="string"&&typeof e.imageSizes=="string":typeof e.rel=="string"&&typeof e.href=="string"}async function MG(e,t,n){let r=await Promise.all(e.map(async i=>{let a=t.routes[i.route.id];if(a){let o=await NG(a,n);return o.links?o.links():[]}return[]}));return LG(r.flat(1).filter(CG).filter(i=>i.rel==="stylesheet"||i.rel==="preload").map(i=>i.rel==="stylesheet"?{...i,rel:"prefetch",as:"style"}:{...i,rel:"prefetch"}))}function sC(e,t,n,r,i,a){let o=(u,f)=>n[f]?u.route.id!==n[f].route.id:!0,l=(u,f)=>n[f].pathname!==u.pathname||n[f].route.path?.endsWith("*")&&n[f].params["*"]!==u.params["*"];return a==="assets"?t.filter((u,f)=>o(u,f)||l(u,f)):a==="data"?t.filter((u,f)=>{let h=r.routes[u.route.id];if(!h||!h.hasLoader)return!1;if(o(u,f)||l(u,f))return!0;if(u.route.shouldRevalidate){let p=u.route.shouldRevalidate({currentUrl:new URL(i.pathname+i.search+i.hash,window.origin),currentParams:n[0]?.params||{},nextUrl:new URL(e,window.origin),nextParams:u.params,defaultShouldRevalidate:!0});if(typeof p=="boolean")return p}return!0}):[]}function PG(e,t,{includeHydrateFallback:n}={}){return DG(e.map(r=>{let i=t.routes[r.route.id];if(!i)return[];let a=[i.module];return i.clientActionModule&&(a=a.concat(i.clientActionModule)),i.clientLoaderModule&&(a=a.concat(i.clientLoaderModule)),n&&i.hydrateFallbackModule&&(a=a.concat(i.hydrateFallbackModule)),i.imports&&(a=a.concat(i.imports)),a}).flat(1))}function DG(e){return[...new Set(e)]}function RG(e){let t={},n=Object.keys(e).sort();for(let r of n)t[r]=e[r];return t}function LG(e,t){let n=new Set;return new Set(t),e.reduce((r,i)=>{let a=JSON.stringify(RG(i));return n.has(a)||(n.add(a),r.push({key:a,link:i})),r},[])}function n$(){let e=w.useContext(rf);return t2(e,"You must render this element inside a <DataRouterContext.Provider> element"),e}function IG(){let e=w.useContext(nv);return t2(e,"You must render this element inside a <DataRouterStateContext.Provider> element"),e}var n2=w.createContext(void 0);n2.displayName="FrameworkContext";function r$(){let e=w.useContext(n2);return t2(e,"You must render this element inside a <HydratedRouter> element"),e}function $G(e,t){let n=w.useContext(n2),[r,i]=w.useState(!1),[a,o]=w.useState(!1),{onFocus:l,onBlur:u,onMouseEnter:f,onMouseLeave:h,onTouchStart:p}=t,g=w.useRef(null);w.useEffect(()=>{if(e==="render"&&o(!0),e==="viewport"){let _=T=>{T.forEach(N=>{o(N.isIntersecting)})},k=new IntersectionObserver(_,{threshold:.5});return g.current&&k.observe(g.current),()=>{k.disconnect()}}},[e]),w.useEffect(()=>{if(r){let _=setTimeout(()=>{o(!0)},100);return()=>{clearTimeout(_)}}},[r]);let x=()=>{i(!0)},S=()=>{i(!1),o(!1)};return n?e!=="intent"?[a,g,{}]:[a,g,{onFocus:jh(l,x),onBlur:jh(u,S),onMouseEnter:jh(f,x),onMouseLeave:jh(h,S),onTouchStart:jh(p,x)}]:[!1,g,{}]}function jh(e,t){return n=>{e&&e(n),n.defaultPrevented||t(n)}}function BG({page:e,...t}){let{router:n}=n$(),r=w.useMemo(()=>K3(n.routes,e,n.basename),[n.routes,e,n.basename]);return r?w.createElement(UG,{page:e,matches:r,...t}):null}function zG(e){let{manifest:t,routeModules:n}=r$(),[r,i]=w.useState([]);return w.useEffect(()=>{let a=!1;return MG(e,t,n).then(o=>{a||i(o)}),()=>{a=!0}},[e,t,n]),r}function UG({page:e,matches:t,...n}){let r=ba(),{manifest:i,routeModules:a}=r$(),{basename:o}=n$(),{loaderData:l,matches:u}=IG(),f=w.useMemo(()=>sC(e,t,u,i,r,"data"),[e,t,u,i,r]),h=w.useMemo(()=>sC(e,t,u,i,r,"assets"),[e,t,u,i,r]),p=w.useMemo(()=>{if(e===r.pathname+r.search+r.hash)return[];let S=new Set,_=!1;if(t.forEach(T=>{let N=i.routes[T.route.id];!N||!N.hasLoader||(!f.some(O=>O.route.id===T.route.id)&&T.route.id in l&&a[T.route.id]?.shouldRevalidate||N.hasClientLoader?_=!0:S.add(T.route.id))}),S.size===0)return[];let k=jG(e,o,"data");return _&&S.size>0&&k.searchParams.set("_routes",t.filter(T=>S.has(T.route.id)).map(T=>T.route.id).join(",")),[k.pathname+k.search]},[o,l,r,i,f,t,e,a]),g=w.useMemo(()=>PG(h,i),[h,i]),x=zG(h);return w.createElement(w.Fragment,null,p.map(S=>w.createElement("link",{key:S,rel:"prefetch",as:"fetch",href:S,...n})),g.map(S=>w.createElement("link",{key:S,rel:"modulepreload",href:S,...n})),x.map(({key:S,link:_})=>w.createElement("link",{key:S,nonce:n.nonce,..._})))}function FG(...e){return t=>{e.forEach(n=>{typeof n=="function"?n(t):n!=null&&(n.current=t)})}}var i$=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{i$&&(window.__reactRouterVersion="7.10.1")}catch{}function HG({basename:e,children:t,unstable_useTransitions:n,window:r}){let i=w.useRef();i.current==null&&(i.current=OH({window:r,v5Compat:!0}));let a=i.current,[o,l]=w.useState({action:a.action,location:a.location}),u=w.useCallback(f=>{n===!1?l(f):w.startTransition(()=>l(f))},[n]);return w.useLayoutEffect(()=>a.listen(u),[a,u]),w.createElement(vG,{basename:e,children:t,location:o.location,navigationType:o.action,navigator:a,unstable_useTransitions:n===!0})}var a$=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,o$=w.forwardRef(function({onClick:t,discover:n="render",prefetch:r="none",relative:i,reloadDocument:a,replace:o,state:l,target:u,to:f,preventScrollReset:h,viewTransition:p,...g},x){let{basename:S,unstable_useTransitions:_}=w.useContext(ya),k=typeof f=="string"&&a$.test(f),T,N=!1;if(typeof f=="string"&&k&&(T=f,i$))try{let K=new URL(window.location.href),U=f.startsWith("//")?new URL(K.protocol+f):new URL(f),z=ps(U.pathname,S);U.origin===K.origin&&z!=null?f=z+U.search+U.hash:N=!0}catch{zi(!1,`<Link to="${f}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let O=rG(f,{relative:i}),[P,C,D]=$G(r,g),$=KG(f,{replace:o,state:l,target:u,preventScrollReset:h,relative:i,viewTransition:p,unstable_useTransitions:_});function H(K){t&&t(K),K.defaultPrevented||$(K)}let q=w.createElement("a",{...g,...D,href:T||O,onClick:N||a?t:H,ref:FG(x,C),target:u,"data-discover":!k&&n==="render"?"true":void 0});return P&&!k?w.createElement(w.Fragment,null,q,w.createElement(BG,{page:O})):q});o$.displayName="Link";var GG=w.forwardRef(function({"aria-current":t="page",caseSensitive:n=!1,className:r="",end:i=!1,style:a,to:o,viewTransition:l,children:u,...f},h){let p=Vm(o,{relative:f.relative}),g=ba(),x=w.useContext(nv),{navigator:S,basename:_}=w.useContext(ya),k=x!=null&&JG(p)&&l===!0,T=S.encodeLocation?S.encodeLocation(p).pathname:p.pathname,N=g.pathname,O=x&&x.navigation&&x.navigation.location?x.navigation.location.pathname:null;n||(N=N.toLowerCase(),O=O?O.toLowerCase():null,T=T.toLowerCase()),O&&_&&(O=ps(O,_)||O);const P=T!=="/"&&T.endsWith("/")?T.length-1:T.length;let C=N===T||!i&&N.startsWith(T)&&N.charAt(P)==="/",D=O!=null&&(O===T||!i&&O.startsWith(T)&&O.charAt(T.length)==="/"),$={isActive:C,isPending:D,isTransitioning:k},H=C?t:void 0,q;typeof r=="function"?q=r($):q=[r,C?"active":null,D?"pending":null,k?"transitioning":null].filter(Boolean).join(" ");let K=typeof a=="function"?a($):a;return w.createElement(o$,{...f,"aria-current":H,className:q,ref:h,style:K,to:o,viewTransition:l},typeof u=="function"?u($):u)});GG.displayName="NavLink";var qG=w.forwardRef(({discover:e="render",fetcherKey:t,navigate:n,reloadDocument:r,replace:i,state:a,method:o=ly,action:l,onSubmit:u,relative:f,preventScrollReset:h,viewTransition:p,...g},x)=>{let{unstable_useTransitions:S}=w.useContext(ya),_=ZG(),k=XG(l,{relative:f}),T=o.toLowerCase()==="get"?"get":"post",N=typeof l=="string"&&a$.test(l),O=P=>{if(u&&u(P),P.defaultPrevented)return;P.preventDefault();let C=P.nativeEvent.submitter,D=C?.getAttribute("formmethod")||o,$=()=>_(C||P.currentTarget,{fetcherKey:t,method:D,navigate:n,replace:i,state:a,relative:f,preventScrollReset:h,viewTransition:p});S&&n!==!1?w.startTransition(()=>$()):$()};return w.createElement("form",{ref:x,method:T,action:k,onSubmit:r?u:O,...g,"data-discover":!N&&e==="render"?"true":void 0})});qG.displayName="Form";function YG(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function s$(e){let t=w.useContext(rf);return ln(t,YG(e)),t}function KG(e,{target:t,replace:n,state:r,preventScrollReset:i,relative:a,viewTransition:o,unstable_useTransitions:l}={}){let u=JE(),f=ba(),h=Vm(e,{relative:a});return w.useCallback(p=>{if(EG(p,t)){p.preventDefault();let g=n!==void 0?n:gm(f)===gm(h),x=()=>u(e,{replace:g,state:r,preventScrollReset:i,relative:a,viewTransition:o});l?w.startTransition(()=>x()):x()}},[f,u,h,n,r,t,e,i,a,o,l])}var WG=0,VG=()=>`__${String(++WG)}__`;function ZG(){let{router:e}=s$("useSubmit"),{basename:t}=w.useContext(ya),n=mG(),r=e.fetch,i=e.navigate;return w.useCallback(async(a,o={})=>{let{action:l,method:u,encType:f,formData:h,body:p}=OG(a,t);if(o.navigate===!1){let g=o.fetcherKey||VG();await r(g,n,o.action||l,{preventScrollReset:o.preventScrollReset,formData:h,body:p,formMethod:o.method||u,formEncType:o.encType||f,flushSync:o.flushSync})}else await i(o.action||l,{preventScrollReset:o.preventScrollReset,formData:h,body:p,formMethod:o.method||u,formEncType:o.encType||f,replace:o.replace,state:o.state,fromRouteId:n,flushSync:o.flushSync,viewTransition:o.viewTransition})},[r,i,t,n])}function XG(e,{relative:t}={}){let{basename:n}=w.useContext(ya),r=w.useContext(Oo);ln(r,"useFormAction must be used inside a RouteContext");let[i]=r.matches.slice(-1),a={...Vm(e||".",{relative:t})},o=ba();if(e==null){a.search=o.search;let l=new URLSearchParams(a.search),u=l.getAll("index");if(u.some(h=>h==="")){l.delete("index"),u.filter(p=>p).forEach(p=>l.append("index",p));let h=l.toString();a.search=h?`?${h}`:""}}return(!e||e===".")&&i.route.index&&(a.search=a.search?a.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(a.pathname=a.pathname==="/"?n:fs([n,a.pathname])),gm(a)}function JG(e,{relative:t}={}){let n=w.useContext(X3);ln(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=s$("useViewTransitionState"),i=Vm(e,{relative:t});if(!n.isTransitioning)return!1;let a=ps(n.currentLocation.pathname,r)||n.currentLocation.pathname,o=ps(n.nextLocation.pathname,r)||n.nextLocation.pathname;return Ey(i.pathname,o)!=null||Ey(i.pathname,a)!=null}var of=Y3();const QG=fi(of);let eq={data:""},tq=e=>typeof window=="object"?((e?e.querySelector("#_goober"):window._goober)||Object.assign((e||document.head).appendChild(document.createElement("style")),{innerHTML:" ",id:"_goober"})).firstChild:e||eq,nq=/(?:([\u0080-\uFFFF\w-%@]+) *:? *([^{;]+?);|([^;}{]*?) *{)|(}\s*)/g,rq=/\/\*[^]*?\*\/|  +/g,lC=/\n+/g,xl=(e,t)=>{let n="",r="",i="";for(let a in e){let o=e[a];a[0]=="@"?a[1]=="i"?n=a+" "+o+";":r+=a[1]=="f"?xl(o,a):a+"{"+xl(o,a[1]=="k"?"":t)+"}":typeof o=="object"?r+=xl(o,t?t.replace(/([^,])+/g,l=>a.replace(/([^,]*:\S+\([^)]*\))|([^,])+/g,u=>/&/.test(u)?u.replace(/&/g,l):l?l+" "+u:u)):a):o!=null&&(a=/^--/.test(a)?a:a.replace(/[A-Z]/g,"-$&").toLowerCase(),i+=xl.p?xl.p(a,o):a+":"+o+";")}return n+(t&&i?t+"{"+i+"}":i)+r},ts={},l$=e=>{if(typeof e=="object"){let t="";for(let n in e)t+=n+l$(e[n]);return t}return e},iq=(e,t,n,r,i)=>{let a=l$(e),o=ts[a]||(ts[a]=(u=>{let f=0,h=11;for(;f<u.length;)h=101*h+u.charCodeAt(f++)>>>0;return"go"+h})(a));if(!ts[o]){let u=a!==e?e:(f=>{let h,p,g=[{}];for(;h=nq.exec(f.replace(rq,""));)h[4]?g.shift():h[3]?(p=h[3].replace(lC," ").trim(),g.unshift(g[0][p]=g[0][p]||{})):g[0][h[1]]=h[2].replace(lC," ").trim();return g[0]})(e);ts[o]=xl(i?{["@keyframes "+o]:u}:u,n?"":"."+o)}let l=n&&ts.g?ts.g:null;return n&&(ts.g=ts[o]),((u,f,h,p)=>{p?f.data=f.data.replace(p,u):f.data.indexOf(u)===-1&&(f.data=h?u+f.data:f.data+u)})(ts[o],t,r,l),o},aq=(e,t,n)=>e.reduce((r,i,a)=>{let o=t[a];if(o&&o.call){let l=o(n),u=l&&l.props&&l.props.className||/^go/.test(l)&&l;o=u?"."+u:l&&typeof l=="object"?l.props?"":xl(l,""):l===!1?"":l}return r+i+(o??"")},"");function iv(e){let t=this||{},n=e.call?e(t.p):e;return iq(n.unshift?n.raw?aq(n,[].slice.call(arguments,1),t.p):n.reduce((r,i)=>Object.assign(r,i&&i.call?i(t.p):i),{}):n,tq(t.target),t.g,t.o,t.k)}let c$,ZS,XS;iv.bind({g:1});let gs=iv.bind({k:1});function oq(e,t,n,r){xl.p=t,c$=e,ZS=n,XS=r}function Dl(e,t){let n=this||{};return function(){let r=arguments;function i(a,o){let l=Object.assign({},a),u=l.className||i.className;n.p=Object.assign({theme:ZS&&ZS()},l),n.o=/ *go\d+/.test(u),l.className=iv.apply(n,r)+(u?" "+u:"");let f=e;return e[0]&&(f=l.as||e,delete l.as),XS&&f[0]&&XS(l),c$(f,l)}return i}}var sq=e=>typeof e=="function",Ay=(e,t)=>sq(e)?e(t):e,lq=(()=>{let e=0;return()=>(++e).toString()})(),u$=(()=>{let e;return()=>{if(e===void 0&&typeof window<"u"){let t=matchMedia("(prefers-reduced-motion: reduce)");e=!t||t.matches}return e}})(),cq=20,r2="default",d$=(e,t)=>{let{toastLimit:n}=e.settings;switch(t.type){case 0:return{...e,toasts:[t.toast,...e.toasts].slice(0,n)};case 1:return{...e,toasts:e.toasts.map(o=>o.id===t.toast.id?{...o,...t.toast}:o)};case 2:let{toast:r}=t;return d$(e,{type:e.toasts.find(o=>o.id===r.id)?1:0,toast:r});case 3:let{toastId:i}=t;return{...e,toasts:e.toasts.map(o=>o.id===i||i===void 0?{...o,dismissed:!0,visible:!1}:o)};case 4:return t.toastId===void 0?{...e,toasts:[]}:{...e,toasts:e.toasts.filter(o=>o.id!==t.toastId)};case 5:return{...e,pausedAt:t.time};case 6:let a=t.time-(e.pausedAt||0);return{...e,pausedAt:void 0,toasts:e.toasts.map(o=>({...o,pauseDuration:o.pauseDuration+a}))}}},uy=[],f$={toasts:[],pausedAt:void 0,settings:{toastLimit:cq}},vo={},h$=(e,t=r2)=>{vo[t]=d$(vo[t]||f$,e),uy.forEach(([n,r])=>{n===t&&r(vo[t])})},m$=e=>Object.keys(vo).forEach(t=>h$(e,t)),uq=e=>Object.keys(vo).find(t=>vo[t].toasts.some(n=>n.id===e)),av=(e=r2)=>t=>{h$(t,e)},dq={blank:4e3,error:4e3,success:2e3,loading:1/0,custom:4e3},fq=(e={},t=r2)=>{let[n,r]=w.useState(vo[t]||f$),i=w.useRef(vo[t]);w.useEffect(()=>(i.current!==vo[t]&&r(vo[t]),uy.push([t,r]),()=>{let o=uy.findIndex(([l])=>l===t);o>-1&&uy.splice(o,1)}),[t]);let a=n.toasts.map(o=>{var l,u,f;return{...e,...e[o.type],...o,removeDelay:o.removeDelay||((l=e[o.type])==null?void 0:l.removeDelay)||e?.removeDelay,duration:o.duration||((u=e[o.type])==null?void 0:u.duration)||e?.duration||dq[o.type],style:{...e.style,...(f=e[o.type])==null?void 0:f.style,...o.style}}});return{...n,toasts:a}},hq=(e,t="blank",n)=>({createdAt:Date.now(),visible:!0,dismissed:!1,type:t,ariaProps:{role:"status","aria-live":"polite"},message:e,pauseDuration:0,...n,id:n?.id||lq()}),Zm=e=>(t,n)=>{let r=hq(t,e,n);return av(r.toasterId||uq(r.id))({type:2,toast:r}),r.id},An=(e,t)=>Zm("blank")(e,t);An.error=Zm("error");An.success=Zm("success");An.loading=Zm("loading");An.custom=Zm("custom");An.dismiss=(e,t)=>{let n={type:3,toastId:e};t?av(t)(n):m$(n)};An.dismissAll=e=>An.dismiss(void 0,e);An.remove=(e,t)=>{let n={type:4,toastId:e};t?av(t)(n):m$(n)};An.removeAll=e=>An.remove(void 0,e);An.promise=(e,t,n)=>{let r=An.loading(t.loading,{...n,...n?.loading});return typeof e=="function"&&(e=e()),e.then(i=>{let a=t.success?Ay(t.success,i):void 0;return a?An.success(a,{id:r,...n,...n?.success}):An.dismiss(r),i}).catch(i=>{let a=t.error?Ay(t.error,i):void 0;a?An.error(a,{id:r,...n,...n?.error}):An.dismiss(r)}),e};var mq=1e3,pq=(e,t="default")=>{let{toasts:n,pausedAt:r}=fq(e,t),i=w.useRef(new Map).current,a=w.useCallback((p,g=mq)=>{if(i.has(p))return;let x=setTimeout(()=>{i.delete(p),o({type:4,toastId:p})},g);i.set(p,x)},[]);w.useEffect(()=>{if(r)return;let p=Date.now(),g=n.map(x=>{if(x.duration===1/0)return;let S=(x.duration||0)+x.pauseDuration-(p-x.createdAt);if(S<0){x.visible&&An.dismiss(x.id);return}return setTimeout(()=>An.dismiss(x.id,t),S)});return()=>{g.forEach(x=>x&&clearTimeout(x))}},[n,r,t]);let o=w.useCallback(av(t),[t]),l=w.useCallback(()=>{o({type:5,time:Date.now()})},[o]),u=w.useCallback((p,g)=>{o({type:1,toast:{id:p,height:g}})},[o]),f=w.useCallback(()=>{r&&o({type:6,time:Date.now()})},[r,o]),h=w.useCallback((p,g)=>{let{reverseOrder:x=!1,gutter:S=8,defaultPosition:_}=g||{},k=n.filter(O=>(O.position||_)===(p.position||_)&&O.height),T=k.findIndex(O=>O.id===p.id),N=k.filter((O,P)=>P<T&&O.visible).length;return k.filter(O=>O.visible).slice(...x?[N+1]:[0,N]).reduce((O,P)=>O+(P.height||0)+S,0)},[n]);return w.useEffect(()=>{n.forEach(p=>{if(p.dismissed)a(p.id,p.removeDelay);else{let g=i.get(p.id);g&&(clearTimeout(g),i.delete(p.id))}})},[n,a]),{toasts:n,handlers:{updateHeight:u,startPause:l,endPause:f,calculateOffset:h}}},gq=gs`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
 transform: scale(1) rotate(45deg);
  opacity: 1;
}`,yq=gs`
from {
  transform: scale(0);
  opacity: 0;
}
to {
  transform: scale(1);
  opacity: 1;
}`,bq=gs`
from {
  transform: scale(0) rotate(90deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(90deg);
	opacity: 1;
}`,vq=Dl("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${e=>e.primary||"#ff4b4b"};
  position: relative;
  transform: rotate(45deg);

  animation: ${gq} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;

  &:after,
  &:before {
    content: '';
    animation: ${yq} 0.15s ease-out forwards;
    animation-delay: 150ms;
    position: absolute;
    border-radius: 3px;
    opacity: 0;
    background: ${e=>e.secondary||"#fff"};
    bottom: 9px;
    left: 4px;
    height: 2px;
    width: 12px;
  }

  &:before {
    animation: ${bq} 0.15s ease-out forwards;
    animation-delay: 180ms;
    transform: rotate(90deg);
  }
`,xq=gs`
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
`,_q=Dl("div")`
  width: 12px;
  height: 12px;
  box-sizing: border-box;
  border: 2px solid;
  border-radius: 100%;
  border-color: ${e=>e.secondary||"#e0e0e0"};
  border-right-color: ${e=>e.primary||"#616161"};
  animation: ${xq} 1s linear infinite;
`,wq=gs`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(45deg);
	opacity: 1;
}`,Sq=gs`
0% {
	height: 0;
	width: 0;
	opacity: 0;
}
40% {
  height: 0;
	width: 6px;
	opacity: 1;
}
100% {
  opacity: 1;
  height: 10px;
}`,kq=Dl("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${e=>e.primary||"#61d345"};
  position: relative;
  transform: rotate(45deg);

  animation: ${wq} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;
  &:after {
    content: '';
    box-sizing: border-box;
    animation: ${Sq} 0.2s ease-out forwards;
    opacity: 0;
    animation-delay: 200ms;
    position: absolute;
    border-right: 2px solid;
    border-bottom: 2px solid;
    border-color: ${e=>e.secondary||"#fff"};
    bottom: 6px;
    left: 6px;
    height: 10px;
    width: 6px;
  }
`,Eq=Dl("div")`
  position: absolute;
`,Aq=Dl("div")`
  position: relative;
  display: flex;
  justify-content: center;
  align-items: center;
  min-width: 20px;
  min-height: 20px;
`,Tq=gs`
from {
  transform: scale(0.6);
  opacity: 0.4;
}
to {
  transform: scale(1);
  opacity: 1;
}`,Oq=Dl("div")`
  position: relative;
  transform: scale(0.6);
  opacity: 0.4;
  min-width: 20px;
  animation: ${Tq} 0.3s 0.12s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
`,jq=({toast:e})=>{let{icon:t,type:n,iconTheme:r}=e;return t!==void 0?typeof t=="string"?w.createElement(Oq,null,t):t:n==="blank"?null:w.createElement(Aq,null,w.createElement(_q,{...r}),n!=="loading"&&w.createElement(Eq,null,n==="error"?w.createElement(vq,{...r}):w.createElement(kq,{...r})))},Nq=e=>`
0% {transform: translate3d(0,${e*-200}%,0) scale(.6); opacity:.5;}
100% {transform: translate3d(0,0,0) scale(1); opacity:1;}
`,Cq=e=>`
0% {transform: translate3d(0,0,-1px) scale(1); opacity:1;}
100% {transform: translate3d(0,${e*-150}%,-1px) scale(.6); opacity:0;}
`,Mq="0%{opacity:0;} 100%{opacity:1;}",Pq="0%{opacity:1;} 100%{opacity:0;}",Dq=Dl("div")`
  display: flex;
  align-items: center;
  background: #fff;
  color: #363636;
  line-height: 1.3;
  will-change: transform;
  box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1), 0 3px 3px rgba(0, 0, 0, 0.05);
  max-width: 350px;
  pointer-events: auto;
  padding: 8px 10px;
  border-radius: 8px;
`,Rq=Dl("div")`
  display: flex;
  justify-content: center;
  margin: 4px 10px;
  color: inherit;
  flex: 1 1 auto;
  white-space: pre-line;
`,Lq=(e,t)=>{let n=e.includes("top")?1:-1,[r,i]=u$()?[Mq,Pq]:[Nq(n),Cq(n)];return{animation:t?`${gs(r)} 0.35s cubic-bezier(.21,1.02,.73,1) forwards`:`${gs(i)} 0.4s forwards cubic-bezier(.06,.71,.55,1)`}},Iq=w.memo(({toast:e,position:t,style:n,children:r})=>{let i=e.height?Lq(e.position||t||"top-center",e.visible):{opacity:0},a=w.createElement(jq,{toast:e}),o=w.createElement(Rq,{...e.ariaProps},Ay(e.message,e));return w.createElement(Dq,{className:e.className,style:{...i,...n,...e.style}},typeof r=="function"?r({icon:a,message:o}):w.createElement(w.Fragment,null,a,o))});oq(w.createElement);var $q=({id:e,className:t,style:n,onHeightUpdate:r,children:i})=>{let a=w.useCallback(o=>{if(o){let l=()=>{let u=o.getBoundingClientRect().height;r(e,u)};l(),new MutationObserver(l).observe(o,{subtree:!0,childList:!0,characterData:!0})}},[e,r]);return w.createElement("div",{ref:a,className:t,style:n},i)},Bq=(e,t)=>{let n=e.includes("top"),r=n?{top:0}:{bottom:0},i=e.includes("center")?{justifyContent:"center"}:e.includes("right")?{justifyContent:"flex-end"}:{};return{left:0,right:0,display:"flex",position:"absolute",transition:u$()?void 0:"all 230ms cubic-bezier(.21,1.02,.73,1)",transform:`translateY(${t*(n?1:-1)}px)`,...r,...i}},zq=iv`
  z-index: 9999;
  > * {
    pointer-events: auto;
  }
`,r0=16,p$=({reverseOrder:e,position:t="top-center",toastOptions:n,gutter:r,children:i,toasterId:a,containerStyle:o,containerClassName:l})=>{let{toasts:u,handlers:f}=pq(n,a);return w.createElement("div",{"data-rht-toaster":a||"",style:{position:"fixed",zIndex:9999,top:r0,left:r0,right:r0,bottom:r0,pointerEvents:"none",...o},className:l,onMouseEnter:f.startPause,onMouseLeave:f.endPause},u.map(h=>{let p=h.position||t,g=f.calculateOffset(h,{reverseOrder:e,gutter:r,defaultPosition:t}),x=Bq(p,g);return w.createElement($q,{id:h.id,key:h.id,onHeightUpdate:f.updateHeight,className:h.visible?zq:"",style:x},h.type==="custom"?Ay(h.message,h):i?i(h):w.createElement(Iq,{toast:h,position:p}))}))},jd=An;function Uq(e,t,n,r=0,i=0){t<=2&&(e-=1,t+=12);const a=Math.floor(e/100),o=2-a+Math.floor(a/4),l=n+(r+i/60)/24;return Math.floor(365.25*(e+4716))+Math.floor(30.6001*(t+1))+l+o-1524.5}const Fq=864e5;function Hq(e){const t=(e-24405875e-1)*Fq;return new Date(t)}function Gq(e,t=7){const n=e+(t-.5)/12;if(n>=1986&&n<2005){const i=n-2e3;return 63.86+.3345*i-.060374*i*i+.0017275*i**3+651814e-9*i**4+2373599e-11*i**5}if(n>=2005&&n<2050){const i=n-2e3;return 62.92+.32217*i+.005589*i*i}if(n>=2050&&n<=2150){const i=(n-1820)/100;return-20+32*i*i-.5628*(2150-n)}if(n>=1900&&n<1986)return-2.79+1.494119*(n-1900)-.0598939*(n-1900)**2+.0061966*(n-1900)**3-197e-6*(n-1900)**4;if(n>=1800&&n<1900){const i=(n-1800)/100;return 13.72-33.244*i+68.612*i**2-65.3*i**3-1.653*i**4+.3343*i**5-.012125*i**6+1348e-7*i**7-175e-8*i**8}const r=(n-1820)/100;return-20+32*r*r}function qq(e){const t=Math.floor(e+.5),n=e+.5-t;let r=t;if(t>=2299161){const p=Math.floor((t-186721625e-2)/36524.25);r=t+1+p-Math.floor(p/4)}const i=r+1524,a=Math.floor((i-122.1)/365.25),o=Math.floor(365.25*a),l=Math.floor((i-o)/30.6001),u=i-o-Math.floor(30.6001*l)+n;let f=l-1;f>12&&(f-=12);let h=a-4715;return f>2&&(h-=1),[h,f,u]}const lm=Math.PI,Fc=lm/180,Yq=180/lm,Kq=86400;function Wq(e){return e%=360,e<0?e+360:e}function Vq(e,t){return(e-t+540)%360-180}function cC(e,t){for(;e-t>180;)e-=360;for(;e-t<-180;)e+=360;return e}function Zq(e){const[t,n]=qq(e);return e+Gq(t,Math.round(n))/Kq}function uC(e,t){let n=0,r=1;for(let i=0;i<e.length;i++){let a=0;for(const[o,l,u]of e[i])a+=o*Math.cos(l+u*t);n+=a*r,r*=t}return n*1e-8}function Xq(e){const t=(e-2451545)/36525,n=(297.85036+445267.11148*t-.0019142*t*t+t*t*t/189474)*Fc,r=(357.52772+35999.05034*t-1603e-7*t*t-t*t*t/3e5)*Fc,i=(134.96298+477198.867398*t+.0086972*t*t+t*t*t/56250)*Fc,a=(93.27191+483202.017538*t-.0036825*t*t+t*t*t/327270)*Fc,o=(125.04452-1934.136261*t+.0020708*t*t+t*t*t/45e4)*Fc,l=[[0,0,0,0,1,-171996,-174.2,92025,8.9],[0,0,2,-2,2,-13187,-1.6,5736,-3.1],[0,0,2,0,2,-2274,-.2,977,-.5],[0,0,0,0,2,2062,.2,-895,.5],[0,1,0,0,0,1426,-3.4,54,-.1],[1,0,0,0,0,712,.1,-7,0],[0,1,2,-2,2,-517,1.2,224,-.6],[0,0,2,0,1,-386,-.4,200,0],[1,0,2,0,2,-301,0,129,-.1],[0,-1,2,-2,2,217,-.5,-95,.3]];let u=0,f=0;for(const[h,p,g,x,S,_,k,T,N]of l){const O=h*n+p*r+g*i+x*a+S*o;u+=(_+k*t)*Math.sin(O),f+=(T+N*t)*Math.cos(O)}return u*=1e-4,f*=1e-4,{dpsi:u,deps:f}}function i0(e){const t=Zq(e),n=(t-2451545)/365250,r=uC(dC.L,n),i=uC(dC.R,n);let a=r+lm;a>2*lm&&(a-=2*lm);const{dpsi:o}=Xq(t),l=o/3600*Fc,u=20.4898/(3600*i),f=a+l-u*Fc;return Wq(f*Yq)}function Gn(e,t,n){const r=(t%360+360)%360,i=Uq(e,1,1),a=i0(i);let o=r-a;o<0&&(o+=360);let l=i+o/.98564736;const u=1e-6,f=5e-6;for(let g=0;g<25;g++){const x=i0(l),S=Vq(r,x);if(Math.abs(S)<u)break;const _=i0(l+f),k=i0(l-f),T=cC(_,x),N=cC(k,x),O=(T-N)/(2*f);l+=S/O}const h=Hq(l),p=new Date(h.getFullYear(),h.getMonth(),h.getDate(),h.getHours(),h.getMinutes(),0,0);if(Number.isFinite(n)){const g=n/15-9;if(Math.abs(g)>1e-12)return new Date(p.getTime()+g*36e5)}return p}const dC={L:[[[175347046,0,0],[3341656,4.6692568,6283.07585],[34894,4.6261,12566.1517],[3497,2.7441,5753.3849],[3418,2.8289,3.5231],[3136,3.6277,77713.7715],[2676,4.4181,7860.4194],[2343,6.1352,3930.2097],[1324,.7425,11506.7698],[1273,2.0371,529.691],[1199,1.1096,1577.3435],[990,5.233,5884.927],[902,2.045,26.298],[857,3.508,398.149],[780,1.179,5223.694],[753,2.533,5507.553],[505,4.583,18849.228],[492,4.205,775.523],[357,2.92,.067],[317,5.849,11790.629]],[[628331966747,0,0],[206059,2.678235,6283.07585],[4303,2.6351,12566.1517],[425,1.59,3.523],[119,5.796,26.298],[109,2.966,1577.344],[93,2.59,18849.23],[72,1.14,529.69],[68,1.87,398.15],[67,4.41,5507.55],[59,2.89,5223.69],[56,2.17,155.42]],[[52919,0,0],[8720,1.0721,6283.0758],[309,.867,12566.152]],[[289,5.844,6283.076],[35,0,0]],[[114,3.142,0],[8,4.13,6283.08]],[[1,3.14,0]]],R:[[[100013989,0,0],[1670700,3.0984635,6283.07585],[13956,3.05525,12566.1517],[3084,5.1985,77713.7715],[1628,1.1739,5753.3849],[1576,2.8469,7860.4194],[925,5.453,11506.77],[542,4.564,3930.21],[472,3.661,5884.927],[346,.964,5507.553],[329,5.9,5223.694]],[[103019,1.10749,6283.07585],[1721,1.0644,12566.1517],[702,3.142,0],[32,1.02,18849.23]],[[4359,5.7846,6283.0758],[124,5.579,12566.152],[12,3.14,0]],[[145,4.273,6283.076]]]},Jq=(e,t)=>(e%t+t)%t,g$=(e,t)=>(e%t+t)%t,y$=e=>e instanceof Date&&!Number.isNaN(e.getTime()),fC=new Map;function b$(e,t=127.5){const n=`${e}@${t}`,r=fC.get(n);if(r)return r;const i=Gn(e,315,t);if(!i)throw new Error(`    : year=${e}, lon=${t}`);return fC.set(n,i),i}function v$(e,t=127.5){if(!y$(e))throw new Error("resolveYearIndex: invalid date");const n=e.getFullYear(),r=b$(n,t),i=e<r?n-1:n,a=Jq(i-4,60);return{useYear:i,index60Num:a}}const Ur=["","","","","","","","","",""],ci=["","","","","","","","","","","",""],JS={:["","","","","","","","","",""],:["","","","","","","","","","","",""]},Ka={:["","","","","","","","","",""],:["","","","","","","","","","","",""]},Qq=["","","","","","","","","",""],eY=["","","","","","","","","","","",""],tY=["","","","","","","","","","","","","","","","","","","",""],nY=["","","","","","","","","","","","","","","","","","","","","","","",""],Bd=new Set(Ur),ym=new Set(ci),In={:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},Kn={:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},i2=["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],Ty=[{branch:"",hanja:"",start:1380,end:60},{branch:"",hanja:"",start:60,end:180},{branch:"",hanja:"",start:180,end:300},{branch:"",hanja:"",start:300,end:420},{branch:"",hanja:"",start:420,end:540},{branch:"",hanja:"",start:540,end:660},{branch:"",hanja:"",start:660,end:780},{branch:"",hanja:"",start:780,end:900},{branch:"",hanja:"",start:900,end:1020},{branch:"",hanja:"",start:1020,end:1140},{branch:"",hanja:"",start:1140,end:1260},{branch:"",hanja:"",start:1260,end:1380}],rY={:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}},iY={:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}};function at(e,t=127.5){const{index60Num:n}=v$(e,t);return i2[n]}function aY(e,t=127.5){return(at(e,t)||"").charAt(0)}const oY=[2,4,6,8,0,2,4,6,8,0];function sY(e,t=127.5){const n=new Array(12);return n[0]=b$(e,t),n[1]=Gn(e,345,t),n[2]=Gn(e,15,t),n[3]=Gn(e,45,t),n[4]=Gn(e,75,t),n[5]=Gn(e,105,t),n[6]=Gn(e,135,t),n[7]=Gn(e,165,t),n[8]=Gn(e,195,t),n[9]=Gn(e,225,t),n[10]=Gn(e,255,t),n[11]=Gn(e+1,285,t),n.map(r=>new Date(r.getTime()+1800*1e3))}function lY(e,t=127.5){const{useYear:n}=v$(e,t),r=sY(n,t);let i=0;for(let o=0;o<12;o+=1)e>=r[o]&&(i=o);return{monthIndex:i+1,useYear:n,boundaries:r}}function cY(e,t=127.5){const n=aY(e,t),r=JS..indexOf(n);if(r<0)throw new Error(`resolveFirstMonthStemIdx: invalid year stem "${n}"`);return oY[r]}function uY(e,t,n=127.5){return(cY(e,n)+(t-1))%10}function Et(e,t=127.5){if(!y$(e))return"";const{monthIndex:n}=lY(e,t),r=(2+(n-1))%12,i=JS.[r],a=uY(e,n,t);return JS.[a]+i}const Oy={JDN:2445731,idx:0};function x$(e,t,n,r=0,i=0,a=0){t<=2&&(e-=1,t+=12);const o=Math.floor(e/100),l=2-o+Math.floor(o/4),u=(r+i/60+a/3600)/24;return Math.floor(365.25*(e+4716))+Math.floor(30.6001*(t+1))+n+u+l-1524.5}function dY(e,t){const n=e.getHours(),r=e.getMinutes(),i=n*60+r,a=mY(e);return t===""&&a===""?i>=1380?1:0:t===""&&(a===""||a==="")?i<180?-1:0:(i<0,0)}function fY(e,t){const r=e.getHours()*60+e.getMinutes();return t===""?r>=1380?1:0:t===""&&r<180?-1:0}function gt(e,t){const n=dY(e,t),r=new Date(e.getTime());r.setDate(r.getDate()+n);const i=x$(r.getFullYear(),r.getMonth()+1,r.getDate(),r.getHours(),r.getMinutes()),a=Math.floor(i+.5),o=g$(a-Oy.JDN+Oy.idx,60),l=i2[o];if(!l)throw new Error(`getDayGanZhi: idx=${o} out of range (jdn=${a}, jd=${i})`);return l}function hY(e,t){const n=new Date(e),r=fY(n,t),i=new Date(e.getTime());i.setDate(i.getDate()+r);const a=x$(i.getFullYear(),i.getMonth()+1,i.getDate(),i.getHours(),i.getMinutes()),o=Math.floor(a+.5),l=g$(o-Oy.JDN+Oy.idx,60),u=i2[l];if(!u)throw new Error(`getDayGanZhi: idx=${l} out of range (jdn=${o}, jd=${a})`);return u}function mY(e){e instanceof Date||(e=new Date(e));const t=e.getHours()*60+e.getMinutes();for(let n=0;n<Ty.length;n+=1){const{branch:r,start:i,end:a}=Ty[n];if(i<a){if(t>=i&&t<a)return r}else if(t>=i||t<a)return r}return""}function pY(e){e instanceof Date||(e=new Date(e));const t=e.getHours()*60+e.getMinutes();for(let n=0;n<Ty.length;n+=1){const{branch:r,start:i,end:a}=Ty[n];if(i<a){if(t>=i&&t<a)return r}else if(t>=i||t<a)return r}return""}function gY(e,t,n,r){const i=Ur.indexOf(t);if(i<0)return"";let a=(i%5*2+n)%10;const o=e.getHours();return(r===""||r==="/"&&o>=3)&&(n===0||n===1)&&(a=(a+2)%10),Ur[a]}function Fa(e,t,n){e instanceof Date||(e=new Date(e));const r=pY(e),i=ci.indexOf(r),o=(n??gt(e,t)).charAt(0);return gY(e,o,i,t)+r}const hC=e=>{let t;const n=new Set,r=(f,h)=>{const p=typeof f=="function"?f(t):f;if(!Object.is(p,t)){const g=t;t=h??(typeof p!="object"||p===null)?p:Object.assign({},t,p),n.forEach(x=>x(t,g))}},i=()=>t,l={setState:r,getState:i,getInitialState:()=>u,subscribe:f=>(n.add(f),()=>n.delete(f))},u=t=e(r,i,l);return l},yY=(e=>e?hC(e):hC),bY=e=>e;function vY(e,t=bY){const n=Wt.useSyncExternalStore(e.subscribe,Wt.useCallback(()=>t(e.getState()),[e,t]),Wt.useCallback(()=>t(e.getInitialState()),[e,t]));return Wt.useDebugValue(n),n}const mC=e=>{const t=yY(e),n=r=>vY(t,r);return Object.assign(n,t),n},Rl=(e=>e?mC(e):mC);function xY(e,t){let n;try{n=e()}catch{return}return{getItem:i=>{var a;const o=u=>u===null?null:JSON.parse(u,void 0),l=(a=n.getItem(i))!=null?a:null;return l instanceof Promise?l.then(o):o(l)},setItem:(i,a)=>n.setItem(i,JSON.stringify(a,void 0)),removeItem:i=>n.removeItem(i)}}const QS=e=>t=>{try{const n=e(t);return n instanceof Promise?n:{then(r){return QS(r)(n)},catch(r){return this}}}catch(n){return{then(r){return this},catch(r){return QS(r)(n)}}}},_Y=(e,t)=>(n,r,i)=>{let a={storage:xY(()=>localStorage),partialize:_=>_,version:0,merge:(_,k)=>({...k,..._}),...t},o=!1;const l=new Set,u=new Set;let f=a.storage;if(!f)return e((..._)=>{console.warn(`[zustand persist middleware] Unable to update item '${a.name}', the given storage is currently unavailable.`),n(..._)},r,i);const h=()=>{const _=a.partialize({...r()});return f.setItem(a.name,{state:_,version:a.version})},p=i.setState;i.setState=(_,k)=>(p(_,k),h());const g=e((..._)=>(n(..._),h()),r,i);i.getInitialState=()=>g;let x;const S=()=>{var _,k;if(!f)return;o=!1,l.forEach(N=>{var O;return N((O=r())!=null?O:g)});const T=((k=a.onRehydrateStorage)==null?void 0:k.call(a,(_=r())!=null?_:g))||void 0;return QS(f.getItem.bind(f))(a.name).then(N=>{if(N)if(typeof N.version=="number"&&N.version!==a.version){if(a.migrate){const O=a.migrate(N.state,N.version);return O instanceof Promise?O.then(P=>[!0,P]):[!0,O]}console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return[!1,N.state];return[!1,void 0]}).then(N=>{var O;const[P,C]=N;if(x=a.merge(C,(O=r())!=null?O:g),n(x,!0),P)return h()}).then(()=>{T?.(x,void 0),x=r(),o=!0,u.forEach(N=>N(x))}).catch(N=>{T?.(void 0,N)})};return i.persist={setOptions:_=>{a={...a,..._},_.storage&&(f=_.storage)},clearStorage:()=>{f?.removeItem(a.name)},getOptions:()=>a,rehydrate:()=>S(),hasHydrated:()=>o,onHydrate:_=>(l.add(_),()=>{l.delete(_)}),onFinishHydration:_=>(u.add(_),()=>{u.delete(_)})},a.skipHydration||S(),x||g},_$=_Y;var ns={},a0={},ek=function(e,t){return ek=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(n[i]=r[i])},ek(e,t)};function w$(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");ek(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}var jy=function(){return jy=Object.assign||function(t){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(t[a]=n[a])}return t},jy.apply(this,arguments)};function sf(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n}function S$(e,t,n,r){var i=arguments.length,a=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,n):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")a=Reflect.decorate(e,t,n,r);else for(var l=e.length-1;l>=0;l--)(o=e[l])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a}function k$(e,t){return function(n,r){t(n,r,e)}}function E$(e,t,n,r,i,a){function o(T){if(T!==void 0&&typeof T!="function")throw new TypeError("Function expected");return T}for(var l=r.kind,u=l==="getter"?"get":l==="setter"?"set":"value",f=!t&&e?r.static?e:e.prototype:null,h=t||(f?Object.getOwnPropertyDescriptor(f,r.name):{}),p,g=!1,x=n.length-1;x>=0;x--){var S={};for(var _ in r)S[_]=_==="access"?{}:r[_];for(var _ in r.access)S.access[_]=r.access[_];S.addInitializer=function(T){if(g)throw new TypeError("Cannot add initializers after decoration has completed");a.push(o(T||null))};var k=(0,n[x])(l==="accessor"?{get:h.get,set:h.set}:h[u],S);if(l==="accessor"){if(k===void 0)continue;if(k===null||typeof k!="object")throw new TypeError("Object expected");(p=o(k.get))&&(h.get=p),(p=o(k.set))&&(h.set=p),(p=o(k.init))&&i.unshift(p)}else(p=o(k))&&(l==="field"?i.unshift(p):h[u]=p)}f&&Object.defineProperty(f,r.name,h),g=!0}function A$(e,t,n){for(var r=arguments.length>2,i=0;i<t.length;i++)n=r?t[i].call(e,n):t[i].call(e);return r?n:void 0}function T$(e){return typeof e=="symbol"?e:"".concat(e)}function O$(e,t,n){return typeof t=="symbol"&&(t=t.description?"[".concat(t.description,"]"):""),Object.defineProperty(e,"name",{configurable:!0,value:n?"".concat(n," ",t):t})}function j$(e,t){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(e,t)}function Ue(e,t,n,r){function i(a){return a instanceof n?a:new n(function(o){o(a)})}return new(n||(n=Promise))(function(a,o){function l(h){try{f(r.next(h))}catch(p){o(p)}}function u(h){try{f(r.throw(h))}catch(p){o(p)}}function f(h){h.done?a(h.value):i(h.value).then(l,u)}f((r=r.apply(e,t||[])).next())})}function N$(e,t){var n={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},r,i,a,o=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return o.next=l(0),o.throw=l(1),o.return=l(2),typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function l(f){return function(h){return u([f,h])}}function u(f){if(r)throw new TypeError("Generator is already executing.");for(;o&&(o=0,f[0]&&(n=0)),n;)try{if(r=1,i&&(a=f[0]&2?i.return:f[0]?i.throw||((a=i.return)&&a.call(i),0):i.next)&&!(a=a.call(i,f[1])).done)return a;switch(i=0,a&&(f=[f[0]&2,a.value]),f[0]){case 0:case 1:a=f;break;case 4:return n.label++,{value:f[1],done:!1};case 5:n.label++,i=f[1],f=[0];continue;case 7:f=n.ops.pop(),n.trys.pop();continue;default:if(a=n.trys,!(a=a.length>0&&a[a.length-1])&&(f[0]===6||f[0]===2)){n=0;continue}if(f[0]===3&&(!a||f[1]>a[0]&&f[1]<a[3])){n.label=f[1];break}if(f[0]===6&&n.label<a[1]){n.label=a[1],a=f;break}if(a&&n.label<a[2]){n.label=a[2],n.ops.push(f);break}a[2]&&n.ops.pop(),n.trys.pop();continue}f=t.call(e,n)}catch(h){f=[6,h],i=0}finally{r=a=0}if(f[0]&5)throw f[1];return{value:f[0]?f[1]:void 0,done:!0}}}var ov=Object.create?(function(e,t,n,r){r===void 0&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}):(function(e,t,n,r){r===void 0&&(r=n),e[r]=t[n]});function C$(e,t){for(var n in e)n!=="default"&&!Object.prototype.hasOwnProperty.call(t,n)&&ov(t,e,n)}function Ny(e){var t=typeof Symbol=="function"&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function a2(e,t){var n=typeof Symbol=="function"&&e[Symbol.iterator];if(!n)return e;var r=n.call(e),i,a=[],o;try{for(;(t===void 0||t-- >0)&&!(i=r.next()).done;)a.push(i.value)}catch(l){o={error:l}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(o)throw o.error}}return a}function M$(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(a2(arguments[t]));return e}function P$(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;for(var r=Array(e),i=0,t=0;t<n;t++)for(var a=arguments[t],o=0,l=a.length;o<l;o++,i++)r[i]=a[o];return r}function D$(e,t,n){if(n||arguments.length===2)for(var r=0,i=t.length,a;r<i;r++)(a||!(r in t))&&(a||(a=Array.prototype.slice.call(t,0,r)),a[r]=t[r]);return e.concat(a||Array.prototype.slice.call(t))}function zd(e){return this instanceof zd?(this.v=e,this):new zd(e)}function R$(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(e,t||[]),i,a=[];return i=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),l("next"),l("throw"),l("return",o),i[Symbol.asyncIterator]=function(){return this},i;function o(x){return function(S){return Promise.resolve(S).then(x,p)}}function l(x,S){r[x]&&(i[x]=function(_){return new Promise(function(k,T){a.push([x,_,k,T])>1||u(x,_)})},S&&(i[x]=S(i[x])))}function u(x,S){try{f(r[x](S))}catch(_){g(a[0][3],_)}}function f(x){x.value instanceof zd?Promise.resolve(x.value.v).then(h,p):g(a[0][2],x)}function h(x){u("next",x)}function p(x){u("throw",x)}function g(x,S){x(S),a.shift(),a.length&&u(a[0][0],a[0][1])}}function L$(e){var t,n;return t={},r("next"),r("throw",function(i){throw i}),r("return"),t[Symbol.iterator]=function(){return this},t;function r(i,a){t[i]=e[i]?function(o){return(n=!n)?{value:zd(e[i](o)),done:!1}:a?a(o):o}:a}}function I$(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t=e[Symbol.asyncIterator],n;return t?t.call(e):(e=typeof Ny=="function"?Ny(e):e[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(a){n[a]=e[a]&&function(o){return new Promise(function(l,u){o=e[a](o),i(l,u,o.done,o.value)})}}function i(a,o,l,u){Promise.resolve(u).then(function(f){a({value:f,done:l})},o)}}function $$(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e}var wY=Object.create?(function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}):function(e,t){e.default=t},tk=function(e){return tk=Object.getOwnPropertyNames||function(t){var n=[];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[n.length]=r);return n},tk(e)};function B$(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var n=tk(e),r=0;r<n.length;r++)n[r]!=="default"&&ov(t,e,n[r]);return wY(t,e),t}function z$(e){return e&&e.__esModule?e:{default:e}}function U$(e,t,n,r){if(n==="a"&&!r)throw new TypeError("Private accessor was defined without a getter");if(typeof t=="function"?e!==t||!r:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?r:n==="a"?r.call(e):r?r.value:t.get(e)}function F$(e,t,n,r,i){if(r==="m")throw new TypeError("Private method is not writable");if(r==="a"&&!i)throw new TypeError("Private accessor was defined without a setter");if(typeof t=="function"?e!==t||!i:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return r==="a"?i.call(e,n):i?i.value=n:t.set(e,n),n}function H$(e,t){if(t===null||typeof t!="object"&&typeof t!="function")throw new TypeError("Cannot use 'in' operator on non-object");return typeof e=="function"?t===e:e.has(t)}function G$(e,t,n){if(t!=null){if(typeof t!="object"&&typeof t!="function")throw new TypeError("Object expected.");var r,i;if(n){if(!Symbol.asyncDispose)throw new TypeError("Symbol.asyncDispose is not defined.");r=t[Symbol.asyncDispose]}if(r===void 0){if(!Symbol.dispose)throw new TypeError("Symbol.dispose is not defined.");r=t[Symbol.dispose],n&&(i=r)}if(typeof r!="function")throw new TypeError("Object not disposable.");i&&(r=function(){try{i.call(this)}catch(a){return Promise.reject(a)}}),e.stack.push({value:t,dispose:r,async:n})}else n&&e.stack.push({async:!0});return t}var SY=typeof SuppressedError=="function"?SuppressedError:function(e,t,n){var r=new Error(n);return r.name="SuppressedError",r.error=e,r.suppressed=t,r};function q$(e){function t(a){e.error=e.hasError?new SY(a,e.error,"An error was suppressed during disposal."):a,e.hasError=!0}var n,r=0;function i(){for(;n=e.stack.pop();)try{if(!n.async&&r===1)return r=0,e.stack.push(n),Promise.resolve().then(i);if(n.dispose){var a=n.dispose.call(n.value);if(n.async)return r|=2,Promise.resolve(a).then(i,function(o){return t(o),i()})}else r|=1}catch(o){t(o)}if(r===1)return e.hasError?Promise.reject(e.error):Promise.resolve();if(e.hasError)throw e.error}return i()}function Y$(e,t){return typeof e=="string"&&/^\.\.?\//.test(e)?e.replace(/\.(tsx)$|((?:\.d)?)((?:\.[^./]+?)?)\.([cm]?)ts$/i,function(n,r,i,a,o){return r?t?".jsx":".js":i&&(!a||!o)?n:i+a+"."+o.toLowerCase()+"js"}):e}const kY={__extends:w$,__assign:jy,__rest:sf,__decorate:S$,__param:k$,__esDecorate:E$,__runInitializers:A$,__propKey:T$,__setFunctionName:O$,__metadata:j$,__awaiter:Ue,__generator:N$,__createBinding:ov,__exportStar:C$,__values:Ny,__read:a2,__spread:M$,__spreadArrays:P$,__spreadArray:D$,__await:zd,__asyncGenerator:R$,__asyncDelegator:L$,__asyncValues:I$,__makeTemplateObject:$$,__importStar:B$,__importDefault:z$,__classPrivateFieldGet:U$,__classPrivateFieldSet:F$,__classPrivateFieldIn:H$,__addDisposableResource:G$,__disposeResources:q$,__rewriteRelativeImportExtension:Y$},EY=Object.freeze(Object.defineProperty({__proto__:null,__addDisposableResource:G$,get __assign(){return jy},__asyncDelegator:L$,__asyncGenerator:R$,__asyncValues:I$,__await:zd,__awaiter:Ue,__classPrivateFieldGet:U$,__classPrivateFieldIn:H$,__classPrivateFieldSet:F$,__createBinding:ov,__decorate:S$,__disposeResources:q$,__esDecorate:E$,__exportStar:C$,__extends:w$,__generator:N$,__importDefault:z$,__importStar:B$,__makeTemplateObject:$$,__metadata:j$,__param:k$,__propKey:T$,__read:a2,__rest:sf,__rewriteRelativeImportExtension:Y$,__runInitializers:A$,__setFunctionName:O$,__spread:M$,__spreadArray:D$,__spreadArrays:P$,__values:Ny,default:kY},Symbol.toStringTag,{value:"Module"})),AY=e=>e?(...t)=>e(...t):(...t)=>fetch(...t);let sv=class extends Error{constructor(t,n="FunctionsError",r){super(t),this.name=n,this.context=r}},K$=class extends sv{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}},nk=class extends sv{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}},rk=class extends sv{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}};var Cy;(function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"})(Cy||(Cy={}));class TY{constructor(t,{headers:n={},customFetch:r,region:i=Cy.Any}={}){this.url=t,this.headers=n,this.region=i,this.fetch=AY(r)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t){return Ue(this,arguments,void 0,function*(n,r={}){var i;let a,o;try{const{headers:l,method:u,body:f,signal:h,timeout:p}=r;let g={},{region:x}=r;x||(x=this.region);const S=new URL(`${this.url}/${n}`);x&&x!=="any"&&(g["x-region"]=x,S.searchParams.set("forceFunctionRegion",x));let _;f&&(l&&!Object.prototype.hasOwnProperty.call(l,"Content-Type")||!l)?typeof Blob<"u"&&f instanceof Blob||f instanceof ArrayBuffer?(g["Content-Type"]="application/octet-stream",_=f):typeof f=="string"?(g["Content-Type"]="text/plain",_=f):typeof FormData<"u"&&f instanceof FormData?_=f:(g["Content-Type"]="application/json",_=JSON.stringify(f)):_=f;let k=h;p&&(o=new AbortController,a=setTimeout(()=>o.abort(),p),h?(k=o.signal,h.addEventListener("abort",()=>o.abort())):k=o.signal);const T=yield this.fetch(S.toString(),{method:u||"POST",headers:Object.assign(Object.assign(Object.assign({},g),this.headers),l),body:_,signal:k}).catch(C=>{throw new K$(C)}),N=T.headers.get("x-relay-error");if(N&&N==="true")throw new nk(T);if(!T.ok)throw new rk(T);let O=((i=T.headers.get("Content-Type"))!==null&&i!==void 0?i:"text/plain").split(";")[0].trim(),P;return O==="application/json"?P=yield T.json():O==="application/octet-stream"||O==="application/pdf"?P=yield T.blob():O==="text/event-stream"?P=T:O==="multipart/form-data"?P=yield T.formData():P=yield T.text(),{data:P,error:null,response:T}}catch(l){return{data:null,error:l,response:l instanceof rk||l instanceof nk?l.context:void 0}}finally{a&&clearTimeout(a)}})}}const OY=Object.freeze(Object.defineProperty({__proto__:null,get FunctionRegion(){return Cy},FunctionsClient:TY,FunctionsError:sv,FunctionsFetchError:K$,FunctionsHttpError:rk,FunctionsRelayError:nk},Symbol.toStringTag,{value:"Module"})),W$=Km(OY);var Tr={};const lf=Km(EY);var o0={},s0={},l0={},c0={},u0={},d0={},pC;function V$(){if(pC)return d0;pC=1,Object.defineProperty(d0,"__esModule",{value:!0});class e extends Error{constructor(n){super(n.message),this.name="PostgrestError",this.details=n.details,this.hint=n.hint,this.code=n.code}}return d0.default=e,d0}var gC;function Z$(){if(gC)return u0;gC=1,Object.defineProperty(u0,"__esModule",{value:!0});const t=lf.__importDefault(V$());let n=class{constructor(i){var a,o;this.shouldThrowOnError=!1,this.method=i.method,this.url=i.url,this.headers=new Headers(i.headers),this.schema=i.schema,this.body=i.body,this.shouldThrowOnError=(a=i.shouldThrowOnError)!==null&&a!==void 0?a:!1,this.signal=i.signal,this.isMaybeSingle=(o=i.isMaybeSingle)!==null&&o!==void 0?o:!1,i.fetch?this.fetch=i.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(i,a){return this.headers=new Headers(this.headers),this.headers.set(i,a),this}then(i,a){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const o=this.fetch;let l=o(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async u=>{var f,h,p,g;let x=null,S=null,_=null,k=u.status,T=u.statusText;if(u.ok){if(this.method!=="HEAD"){const C=await u.text();C===""||(this.headers.get("Accept")==="text/csv"||this.headers.get("Accept")&&(!((f=this.headers.get("Accept"))===null||f===void 0)&&f.includes("application/vnd.pgrst.plan+text"))?S=C:S=JSON.parse(C))}const O=(h=this.headers.get("Prefer"))===null||h===void 0?void 0:h.match(/count=(exact|planned|estimated)/),P=(p=u.headers.get("content-range"))===null||p===void 0?void 0:p.split("/");O&&P&&P.length>1&&(_=parseInt(P[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(S)&&(S.length>1?(x={code:"PGRST116",details:`Results contain ${S.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},S=null,_=null,k=406,T="Not Acceptable"):S.length===1?S=S[0]:S=null)}else{const O=await u.text();try{x=JSON.parse(O),Array.isArray(x)&&u.status===404&&(S=[],x=null,k=200,T="OK")}catch{u.status===404&&O===""?(k=204,T="No Content"):x={message:O}}if(x&&this.isMaybeSingle&&(!((g=x?.details)===null||g===void 0)&&g.includes("0 rows"))&&(x=null,k=200,T="OK"),x&&this.shouldThrowOnError)throw new t.default(x)}return{error:x,data:S,count:_,status:k,statusText:T}});return this.shouldThrowOnError||(l=l.catch(u=>{var f,h,p,g,x,S;let _="";const k=u?.cause;if(k){const T=(f=k?.message)!==null&&f!==void 0?f:"",N=(h=k?.code)!==null&&h!==void 0?h:"";_=`${(p=u?.name)!==null&&p!==void 0?p:"FetchError"}: ${u?.message}`,_+=`

Caused by: ${(g=k?.name)!==null&&g!==void 0?g:"Error"}: ${T}`,N&&(_+=` (${N})`),k?.stack&&(_+=`
${k.stack}`)}else _=(x=u?.stack)!==null&&x!==void 0?x:"";return{error:{message:`${(S=u?.name)!==null&&S!==void 0?S:"FetchError"}: ${u?.message}`,details:_,hint:"",code:""},data:null,count:null,status:0,statusText:""}})),l.then(i,a)}returns(){return this}overrideTypes(){return this}};return u0.default=n,u0}var yC;function X$(){if(yC)return c0;yC=1,Object.defineProperty(c0,"__esModule",{value:!0});const t=lf.__importDefault(Z$());let n=class extends t.default{select(i){let a=!1;const o=(i??"*").split("").map(l=>/\s/.test(l)&&!a?"":(l==='"'&&(a=!a),l)).join("");return this.url.searchParams.set("select",o),this.headers.append("Prefer","return=representation"),this}order(i,{ascending:a=!0,nullsFirst:o,foreignTable:l,referencedTable:u=l}={}){const f=u?`${u}.order`:"order",h=this.url.searchParams.get(f);return this.url.searchParams.set(f,`${h?`${h},`:""}${i}.${a?"asc":"desc"}${o===void 0?"":o?".nullsfirst":".nullslast"}`),this}limit(i,{foreignTable:a,referencedTable:o=a}={}){const l=typeof o>"u"?"limit":`${o}.limit`;return this.url.searchParams.set(l,`${i}`),this}range(i,a,{foreignTable:o,referencedTable:l=o}={}){const u=typeof l>"u"?"offset":`${l}.offset`,f=typeof l>"u"?"limit":`${l}.limit`;return this.url.searchParams.set(u,`${i}`),this.url.searchParams.set(f,`${a-i+1}`),this}abortSignal(i){return this.signal=i,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:i=!1,verbose:a=!1,settings:o=!1,buffers:l=!1,wal:u=!1,format:f="text"}={}){var h;const p=[i?"analyze":null,a?"verbose":null,o?"settings":null,l?"buffers":null,u?"wal":null].filter(Boolean).join("|"),g=(h=this.headers.get("Accept"))!==null&&h!==void 0?h:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${f}; for="${g}"; options=${p};`),f==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(i){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${i}`),this}};return c0.default=n,c0}var bC;function o2(){if(bC)return l0;bC=1,Object.defineProperty(l0,"__esModule",{value:!0});const t=lf.__importDefault(X$()),n=new RegExp("[,()]");let r=class extends t.default{eq(a,o){return this.url.searchParams.append(a,`eq.${o}`),this}neq(a,o){return this.url.searchParams.append(a,`neq.${o}`),this}gt(a,o){return this.url.searchParams.append(a,`gt.${o}`),this}gte(a,o){return this.url.searchParams.append(a,`gte.${o}`),this}lt(a,o){return this.url.searchParams.append(a,`lt.${o}`),this}lte(a,o){return this.url.searchParams.append(a,`lte.${o}`),this}like(a,o){return this.url.searchParams.append(a,`like.${o}`),this}likeAllOf(a,o){return this.url.searchParams.append(a,`like(all).{${o.join(",")}}`),this}likeAnyOf(a,o){return this.url.searchParams.append(a,`like(any).{${o.join(",")}}`),this}ilike(a,o){return this.url.searchParams.append(a,`ilike.${o}`),this}ilikeAllOf(a,o){return this.url.searchParams.append(a,`ilike(all).{${o.join(",")}}`),this}ilikeAnyOf(a,o){return this.url.searchParams.append(a,`ilike(any).{${o.join(",")}}`),this}regexMatch(a,o){return this.url.searchParams.append(a,`match.${o}`),this}regexIMatch(a,o){return this.url.searchParams.append(a,`imatch.${o}`),this}is(a,o){return this.url.searchParams.append(a,`is.${o}`),this}isDistinct(a,o){return this.url.searchParams.append(a,`isdistinct.${o}`),this}in(a,o){const l=Array.from(new Set(o)).map(u=>typeof u=="string"&&n.test(u)?`"${u}"`:`${u}`).join(",");return this.url.searchParams.append(a,`in.(${l})`),this}contains(a,o){return typeof o=="string"?this.url.searchParams.append(a,`cs.${o}`):Array.isArray(o)?this.url.searchParams.append(a,`cs.{${o.join(",")}}`):this.url.searchParams.append(a,`cs.${JSON.stringify(o)}`),this}containedBy(a,o){return typeof o=="string"?this.url.searchParams.append(a,`cd.${o}`):Array.isArray(o)?this.url.searchParams.append(a,`cd.{${o.join(",")}}`):this.url.searchParams.append(a,`cd.${JSON.stringify(o)}`),this}rangeGt(a,o){return this.url.searchParams.append(a,`sr.${o}`),this}rangeGte(a,o){return this.url.searchParams.append(a,`nxl.${o}`),this}rangeLt(a,o){return this.url.searchParams.append(a,`sl.${o}`),this}rangeLte(a,o){return this.url.searchParams.append(a,`nxr.${o}`),this}rangeAdjacent(a,o){return this.url.searchParams.append(a,`adj.${o}`),this}overlaps(a,o){return typeof o=="string"?this.url.searchParams.append(a,`ov.${o}`):this.url.searchParams.append(a,`ov.{${o.join(",")}}`),this}textSearch(a,o,{config:l,type:u}={}){let f="";u==="plain"?f="pl":u==="phrase"?f="ph":u==="websearch"&&(f="w");const h=l===void 0?"":`(${l})`;return this.url.searchParams.append(a,`${f}fts${h}.${o}`),this}match(a){return Object.entries(a).forEach(([o,l])=>{this.url.searchParams.append(o,`eq.${l}`)}),this}not(a,o,l){return this.url.searchParams.append(a,`not.${o}.${l}`),this}or(a,{foreignTable:o,referencedTable:l=o}={}){const u=l?`${l}.or`:"or";return this.url.searchParams.append(u,`(${a})`),this}filter(a,o,l){return this.url.searchParams.append(a,`${o}.${l}`),this}};return l0.default=r,l0}var vC;function J$(){if(vC)return s0;vC=1,Object.defineProperty(s0,"__esModule",{value:!0});const t=lf.__importDefault(o2());let n=class{constructor(i,{headers:a={},schema:o,fetch:l}){this.url=i,this.headers=new Headers(a),this.schema=o,this.fetch=l}select(i,a){const{head:o=!1,count:l}=a??{},u=o?"HEAD":"GET";let f=!1;const h=(i??"*").split("").map(p=>/\s/.test(p)&&!f?"":(p==='"'&&(f=!f),p)).join("");return this.url.searchParams.set("select",h),l&&this.headers.append("Prefer",`count=${l}`),new t.default({method:u,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(i,{count:a,defaultToNull:o=!0}={}){var l;const u="POST";if(a&&this.headers.append("Prefer",`count=${a}`),o||this.headers.append("Prefer","missing=default"),Array.isArray(i)){const f=i.reduce((h,p)=>h.concat(Object.keys(p)),[]);if(f.length>0){const h=[...new Set(f)].map(p=>`"${p}"`);this.url.searchParams.set("columns",h.join(","))}}return new t.default({method:u,url:this.url,headers:this.headers,schema:this.schema,body:i,fetch:(l=this.fetch)!==null&&l!==void 0?l:fetch})}upsert(i,{onConflict:a,ignoreDuplicates:o=!1,count:l,defaultToNull:u=!0}={}){var f;const h="POST";if(this.headers.append("Prefer",`resolution=${o?"ignore":"merge"}-duplicates`),a!==void 0&&this.url.searchParams.set("on_conflict",a),l&&this.headers.append("Prefer",`count=${l}`),u||this.headers.append("Prefer","missing=default"),Array.isArray(i)){const p=i.reduce((g,x)=>g.concat(Object.keys(x)),[]);if(p.length>0){const g=[...new Set(p)].map(x=>`"${x}"`);this.url.searchParams.set("columns",g.join(","))}}return new t.default({method:h,url:this.url,headers:this.headers,schema:this.schema,body:i,fetch:(f=this.fetch)!==null&&f!==void 0?f:fetch})}update(i,{count:a}={}){var o;const l="PATCH";return a&&this.headers.append("Prefer",`count=${a}`),new t.default({method:l,url:this.url,headers:this.headers,schema:this.schema,body:i,fetch:(o=this.fetch)!==null&&o!==void 0?o:fetch})}delete({count:i}={}){var a;const o="DELETE";return i&&this.headers.append("Prefer",`count=${i}`),new t.default({method:o,url:this.url,headers:this.headers,schema:this.schema,fetch:(a=this.fetch)!==null&&a!==void 0?a:fetch})}};return s0.default=n,s0}var xC;function jY(){if(xC)return o0;xC=1,Object.defineProperty(o0,"__esModule",{value:!0});const e=lf,t=e.__importDefault(J$()),n=e.__importDefault(o2());let r=class Q${constructor(a,{headers:o={},schema:l,fetch:u}={}){this.url=a,this.headers=new Headers(o),this.schemaName=l,this.fetch=u}from(a){if(!a||typeof a!="string"||a.trim()==="")throw new Error("Invalid relation name: relation must be a non-empty string.");const o=new URL(`${this.url}/${a}`);return new t.default(o,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(a){return new Q$(this.url,{headers:this.headers,schema:a,fetch:this.fetch})}rpc(a,o={},{head:l=!1,get:u=!1,count:f}={}){var h;let p;const g=new URL(`${this.url}/rpc/${a}`);let x;l||u?(p=l?"HEAD":"GET",Object.entries(o).filter(([_,k])=>k!==void 0).map(([_,k])=>[_,Array.isArray(k)?`{${k.join(",")}}`:`${k}`]).forEach(([_,k])=>{g.searchParams.append(_,k)})):(p="POST",x=o);const S=new Headers(this.headers);return f&&S.set("Prefer",`count=${f}`),new n.default({method:p,url:g,headers:S,schema:this.schemaName,body:x,fetch:(h=this.fetch)!==null&&h!==void 0?h:fetch})}};return o0.default=r,o0}var _C;function eB(){if(_C)return Tr;_C=1,Object.defineProperty(Tr,"__esModule",{value:!0}),Tr.PostgrestError=Tr.PostgrestBuilder=Tr.PostgrestTransformBuilder=Tr.PostgrestFilterBuilder=Tr.PostgrestQueryBuilder=Tr.PostgrestClient=void 0;const e=lf,t=e.__importDefault(jY());Tr.PostgrestClient=t.default;const n=e.__importDefault(J$());Tr.PostgrestQueryBuilder=n.default;const r=e.__importDefault(o2());Tr.PostgrestFilterBuilder=r.default;const i=e.__importDefault(X$());Tr.PostgrestTransformBuilder=i.default;const a=e.__importDefault(Z$());Tr.PostgrestBuilder=a.default;const o=e.__importDefault(V$());return Tr.PostgrestError=o.default,Tr.default={PostgrestClient:t.default,PostgrestQueryBuilder:n.default,PostgrestFilterBuilder:r.default,PostgrestTransformBuilder:i.default,PostgrestBuilder:a.default,PostgrestError:o.default},Tr}class tB{constructor(){}static detectEnvironment(){var t;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((t=navigator.userAgent)===null||t===void 0)&&t.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const n=process.versions;if(n&&n.node){const r=n.node,i=parseInt(r.replace(/^v/,"").split(".")[0]);return i>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${i} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${i} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const t=this.detectEnvironment();if(t.constructor)return t.constructor;let n=t.error||"WebSocket not supported in this environment.";throw t.workaround&&(n+=`

Suggested solution: ${t.workaround}`),new Error(n)}static createWebSocket(t,n){const r=this.getWebSocketConstructor();return new r(t,n)}static isWebSocketSupported(){try{const t=this.detectEnvironment();return t.type==="native"||t.type==="ws"}catch{return!1}}}const NY="2.86.2",CY=`realtime-js/${NY}`,nB="1.0.0",MY="2.0.0",wC=nB,ik=1e4,PY=1e3,DY=100;var Hc;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})(Hc||(Hc={}));var Dn;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})(Dn||(Dn={}));var Da;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})(Da||(Da={}));var ak;(function(e){e.websocket="websocket"})(ak||(ak={}));var Gc;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})(Gc||(Gc={}));class RY{constructor(t){this.HEADER_LENGTH=1,this.USER_BROADCAST_PUSH_META_LENGTH=6,this.KINDS={userBroadcastPush:3,userBroadcast:4},this.BINARY_ENCODING=0,this.JSON_ENCODING=1,this.BROADCAST_EVENT="broadcast",this.allowedMetadataKeys=[],this.allowedMetadataKeys=t??[]}encode(t,n){if(t.event===this.BROADCAST_EVENT&&!(t.payload instanceof ArrayBuffer)&&typeof t.payload.event=="string")return n(this._binaryEncodeUserBroadcastPush(t));let r=[t.join_ref,t.ref,t.topic,t.event,t.payload];return n(JSON.stringify(r))}_binaryEncodeUserBroadcastPush(t){var n;return this._isArrayBuffer((n=t.payload)===null||n===void 0?void 0:n.payload)?this._encodeBinaryUserBroadcastPush(t):this._encodeJsonUserBroadcastPush(t)}_encodeBinaryUserBroadcastPush(t){var n,r;const i=(r=(n=t.payload)===null||n===void 0?void 0:n.payload)!==null&&r!==void 0?r:new ArrayBuffer(0);return this._encodeUserBroadcastPush(t,this.BINARY_ENCODING,i)}_encodeJsonUserBroadcastPush(t){var n,r;const i=(r=(n=t.payload)===null||n===void 0?void 0:n.payload)!==null&&r!==void 0?r:{},o=new TextEncoder().encode(JSON.stringify(i)).buffer;return this._encodeUserBroadcastPush(t,this.JSON_ENCODING,o)}_encodeUserBroadcastPush(t,n,r){var i,a;const o=t.topic,l=(i=t.ref)!==null&&i!==void 0?i:"",u=(a=t.join_ref)!==null&&a!==void 0?a:"",f=t.payload.event,h=this.allowedMetadataKeys?this._pick(t.payload,this.allowedMetadataKeys):{},p=Object.keys(h).length===0?"":JSON.stringify(h);if(u.length>255)throw new Error(`joinRef length ${u.length} exceeds maximum of 255`);if(l.length>255)throw new Error(`ref length ${l.length} exceeds maximum of 255`);if(o.length>255)throw new Error(`topic length ${o.length} exceeds maximum of 255`);if(f.length>255)throw new Error(`userEvent length ${f.length} exceeds maximum of 255`);if(p.length>255)throw new Error(`metadata length ${p.length} exceeds maximum of 255`);const g=this.USER_BROADCAST_PUSH_META_LENGTH+u.length+l.length+o.length+f.length+p.length,x=new ArrayBuffer(this.HEADER_LENGTH+g);let S=new DataView(x),_=0;S.setUint8(_++,this.KINDS.userBroadcastPush),S.setUint8(_++,u.length),S.setUint8(_++,l.length),S.setUint8(_++,o.length),S.setUint8(_++,f.length),S.setUint8(_++,p.length),S.setUint8(_++,n),Array.from(u,T=>S.setUint8(_++,T.charCodeAt(0))),Array.from(l,T=>S.setUint8(_++,T.charCodeAt(0))),Array.from(o,T=>S.setUint8(_++,T.charCodeAt(0))),Array.from(f,T=>S.setUint8(_++,T.charCodeAt(0))),Array.from(p,T=>S.setUint8(_++,T.charCodeAt(0)));var k=new Uint8Array(x.byteLength+r.byteLength);return k.set(new Uint8Array(x),0),k.set(new Uint8Array(r),x.byteLength),k.buffer}decode(t,n){if(this._isArrayBuffer(t)){let r=this._binaryDecode(t);return n(r)}if(typeof t=="string"){const r=JSON.parse(t),[i,a,o,l,u]=r;return n({join_ref:i,ref:a,topic:o,event:l,payload:u})}return n({})}_binaryDecode(t){const n=new DataView(t),r=n.getUint8(0),i=new TextDecoder;switch(r){case this.KINDS.userBroadcast:return this._decodeUserBroadcast(t,n,i)}}_decodeUserBroadcast(t,n,r){const i=n.getUint8(1),a=n.getUint8(2),o=n.getUint8(3),l=n.getUint8(4);let u=this.HEADER_LENGTH+4;const f=r.decode(t.slice(u,u+i));u=u+i;const h=r.decode(t.slice(u,u+a));u=u+a;const p=r.decode(t.slice(u,u+o));u=u+o;const g=t.slice(u,t.byteLength),x=l===this.JSON_ENCODING?JSON.parse(r.decode(g)):g,S={type:this.BROADCAST_EVENT,event:h,payload:x};return o>0&&(S.meta=JSON.parse(p)),{join_ref:null,ref:null,topic:f,event:this.BROADCAST_EVENT,payload:S}}_isArrayBuffer(t){var n;return t instanceof ArrayBuffer||((n=t?.constructor)===null||n===void 0?void 0:n.name)==="ArrayBuffer"}_pick(t,n){return!t||typeof t!="object"?{}:Object.fromEntries(Object.entries(t).filter(([r])=>n.includes(r)))}}class rB{constructor(t,n){this.callback=t,this.timerCalc=n,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=n}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var Yt;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(Yt||(Yt={}));const SC=(e,t,n={})=>{var r;const i=(r=n.skipTypes)!==null&&r!==void 0?r:[];return t?Object.keys(t).reduce((a,o)=>(a[o]=LY(o,e,t,i),a),{}):{}},LY=(e,t,n,r)=>{const i=t.find(l=>l.name===e),a=i?.type,o=n[e];return a&&!r.includes(a)?iB(a,o):ok(o)},iB=(e,t)=>{if(e.charAt(0)==="_"){const n=e.slice(1,e.length);return zY(t,n)}switch(e){case Yt.bool:return IY(t);case Yt.float4:case Yt.float8:case Yt.int2:case Yt.int4:case Yt.int8:case Yt.numeric:case Yt.oid:return $Y(t);case Yt.json:case Yt.jsonb:return BY(t);case Yt.timestamp:return UY(t);case Yt.abstime:case Yt.date:case Yt.daterange:case Yt.int4range:case Yt.int8range:case Yt.money:case Yt.reltime:case Yt.text:case Yt.time:case Yt.timestamptz:case Yt.timetz:case Yt.tsrange:case Yt.tstzrange:return ok(t);default:return ok(t)}},ok=e=>e,IY=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},$Y=e=>{if(typeof e=="string"){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},BY=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch(t){return console.log(`JSON parse error: ${t}`),e}return e},zY=(e,t)=>{if(typeof e!="string")return e;const n=e.length-1,r=e[n];if(e[0]==="{"&&r==="}"){let a;const o=e.slice(1,n);try{a=JSON.parse("["+o+"]")}catch{a=o?o.split(","):[]}return a.map(l=>iB(t,l))}return e},UY=e=>typeof e=="string"?e.replace(" ","T"):e,aB=e=>{const t=new URL(e);return t.protocol=t.protocol.replace(/^ws/i,"http"),t.pathname=t.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),t.pathname===""||t.pathname==="/"?t.pathname="/api/broadcast":t.pathname=t.pathname+"/api/broadcast",t.href};class ww{constructor(t,n,r={},i=ik){this.channel=t,this.event=n,this.payload=r,this.timeout=i,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,n){var r;return this._hasReceived(t)&&n((r=this.receivedResp)===null||r===void 0?void 0:r.response),this.recHooks.push({status:t,callback:n}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=n=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=n,this._matchReceive(n)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,n){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:n})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:n}){this.recHooks.filter(r=>r.status===t).forEach(r=>r.callback(n))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var sk;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})(sk||(sk={}));let oB=class dy{constructor(t,n){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const r=n?.events||{state:"presence_state",diff:"presence_diff"};this.channel._on(r.state,{},i=>{const{onJoin:a,onLeave:o,onSync:l}=this.caller;this.joinRef=this.channel._joinRef(),this.state=dy.syncState(this.state,i,a,o),this.pendingDiffs.forEach(u=>{this.state=dy.syncDiff(this.state,u,a,o)}),this.pendingDiffs=[],l()}),this.channel._on(r.diff,{},i=>{const{onJoin:a,onLeave:o,onSync:l}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(i):(this.state=dy.syncDiff(this.state,i,a,o),l())}),this.onJoin((i,a,o)=>{this.channel._trigger("presence",{event:"join",key:i,currentPresences:a,newPresences:o})}),this.onLeave((i,a,o)=>{this.channel._trigger("presence",{event:"leave",key:i,currentPresences:a,leftPresences:o})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,n,r,i){const a=this.cloneDeep(t),o=this.transformState(n),l={},u={};return this.map(a,(f,h)=>{o[f]||(u[f]=h)}),this.map(o,(f,h)=>{const p=a[f];if(p){const g=h.map(k=>k.presence_ref),x=p.map(k=>k.presence_ref),S=h.filter(k=>x.indexOf(k.presence_ref)<0),_=p.filter(k=>g.indexOf(k.presence_ref)<0);S.length>0&&(l[f]=S),_.length>0&&(u[f]=_)}else l[f]=h}),this.syncDiff(a,{joins:l,leaves:u},r,i)}static syncDiff(t,n,r,i){const{joins:a,leaves:o}={joins:this.transformState(n.joins),leaves:this.transformState(n.leaves)};return r||(r=()=>{}),i||(i=()=>{}),this.map(a,(l,u)=>{var f;const h=(f=t[l])!==null&&f!==void 0?f:[];if(t[l]=this.cloneDeep(u),h.length>0){const p=t[l].map(x=>x.presence_ref),g=h.filter(x=>p.indexOf(x.presence_ref)<0);t[l].unshift(...g)}r(l,h,u)}),this.map(o,(l,u)=>{let f=t[l];if(!f)return;const h=u.map(p=>p.presence_ref);f=f.filter(p=>h.indexOf(p.presence_ref)<0),t[l]=f,i(l,f,u),f.length===0&&delete t[l]}),t}static map(t,n){return Object.getOwnPropertyNames(t).map(r=>n(r,t[r]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((n,r)=>{const i=t[r];return"metas"in i?n[r]=i.metas.map(a=>(a.presence_ref=a.phx_ref,delete a.phx_ref,delete a.phx_ref_prev,a)):n[r]=i,n},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}};var lk;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(lk||(lk={}));var Nd;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"})(Nd||(Nd={}));var mo;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})(mo||(mo={}));const FY=Dn;let sB=class lB{constructor(t,n={config:{}},r){var i,a;if(this.topic=t,this.params=n,this.socket=r,this.bindings={},this.state=Dn.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},n.config),this.timeout=this.socket.timeout,this.joinPush=new ww(this,Da.join,this.params,this.timeout),this.rejoinTimer=new rB(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Dn.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(o=>o.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Dn.closed,this.socket._remove(this)}),this._onError(o=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,o),this.state=Dn.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Dn.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",o=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,o),this.state=Dn.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Da.reply,{},(o,l)=>{this._trigger(this._replyEventName(l),o)}),this.presence=new oB(this),this.broadcastEndpointURL=aB(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((a=(i=this.params.config)===null||i===void 0?void 0:i.broadcast)===null||a===void 0)&&a.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(t,n=this.timeout){var r,i,a;if(this.socket.isConnected()||this.socket.connect(),this.state==Dn.closed){const{config:{broadcast:o,presence:l,private:u}}=this.params,f=(i=(r=this.bindings.postgres_changes)===null||r===void 0?void 0:r.map(x=>x.filter))!==null&&i!==void 0?i:[],h=!!this.bindings[Nd.PRESENCE]&&this.bindings[Nd.PRESENCE].length>0||((a=this.params.config.presence)===null||a===void 0?void 0:a.enabled)===!0,p={},g={broadcast:o,presence:Object.assign(Object.assign({},l),{enabled:h}),postgres_changes:f,private:u};this.socket.accessTokenValue&&(p.access_token=this.socket.accessTokenValue),this._onError(x=>t?.(mo.CHANNEL_ERROR,x)),this._onClose(()=>t?.(mo.CLOSED)),this.updateJoinPayload(Object.assign({config:g},p)),this.joinedOnce=!0,this._rejoin(n),this.joinPush.receive("ok",async({postgres_changes:x})=>{var S;if(this.socket.setAuth(),x===void 0){t?.(mo.SUBSCRIBED);return}else{const _=this.bindings.postgres_changes,k=(S=_?.length)!==null&&S!==void 0?S:0,T=[];for(let N=0;N<k;N++){const O=_[N],{filter:{event:P,schema:C,table:D,filter:$}}=O,H=x&&x[N];if(H&&H.event===P&&H.schema===C&&H.table===D&&H.filter===$)T.push(Object.assign(Object.assign({},O),{id:H.id}));else{this.unsubscribe(),this.state=Dn.errored,t?.(mo.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=T,t&&t(mo.SUBSCRIBED);return}}).receive("error",x=>{this.state=Dn.errored,t?.(mo.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(x).join(", ")||"error")))}).receive("timeout",()=>{t?.(mo.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,n={}){return await this.send({type:"presence",event:"track",payload:t},n.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,n,r){return this.state===Dn.joined&&t===Nd.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(()=>this.subscribe())),this._on(t,n,r)}async httpSend(t,n,r={}){var i;const a=this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"";if(n==null)return Promise.reject("Payload is required for httpSend()");const o={method:"POST",headers:{Authorization:a,apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:t,payload:n,private:this.private}]})},l=await this._fetchWithTimeout(this.broadcastEndpointURL,o,(i=r.timeout)!==null&&i!==void 0?i:this.timeout);if(l.status===202)return{success:!0};let u=l.statusText;try{const f=await l.json();u=f.error||f.message||u}catch{}return Promise.reject(new Error(u))}async send(t,n={}){var r,i;if(!this._canPush()&&t.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:a,payload:o}=t,u={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:a,payload:o,private:this.private}]})};try{const f=await this._fetchWithTimeout(this.broadcastEndpointURL,u,(r=n.timeout)!==null&&r!==void 0?r:this.timeout);return await((i=f.body)===null||i===void 0?void 0:i.cancel()),f.ok?"ok":"error"}catch(f){return f.name==="AbortError"?"timed out":"error"}}else return new Promise(a=>{var o,l,u;const f=this._push(t.type,t,n.timeout||this.timeout);t.type==="broadcast"&&!(!((u=(l=(o=this.params)===null||o===void 0?void 0:o.config)===null||l===void 0?void 0:l.broadcast)===null||u===void 0)&&u.ack)&&a("ok"),f.receive("ok",()=>a("ok")),f.receive("error",()=>a("error")),f.receive("timeout",()=>a("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=Dn.leaving;const n=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Da.close,"leave",this._joinRef())};this.joinPush.destroy();let r=null;return new Promise(i=>{r=new ww(this,Da.leave,{},t),r.receive("ok",()=>{n(),i("ok")}).receive("timeout",()=>{n(),i("timed out")}).receive("error",()=>{i("error")}),r.send(),this._canPush()||r.trigger("ok",{})}).finally(()=>{r?.destroy()})}teardown(){this.pushBuffer.forEach(t=>t.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=Dn.closed,this.bindings={}}async _fetchWithTimeout(t,n,r){const i=new AbortController,a=setTimeout(()=>i.abort(),r),o=await this.socket.fetch(t,Object.assign(Object.assign({},n),{signal:i.signal}));return clearTimeout(a),o}_push(t,n,r=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let i=new ww(this,t,n,r);return this._canPush()?i.send():this._addToPushBuffer(i),i}_addToPushBuffer(t){if(t.startTimeout(),this.pushBuffer.push(t),this.pushBuffer.length>DY){const n=this.pushBuffer.shift();n&&(n.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${n.event}`,n.payload))}}_onMessage(t,n,r){return n}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,n,r){var i,a;const o=t.toLocaleLowerCase(),{close:l,error:u,leave:f,join:h}=Da;if(r&&[l,u,f,h].indexOf(o)>=0&&r!==this._joinRef())return;let g=this._onMessage(o,n,r);if(n&&!g)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(o)?(i=this.bindings.postgres_changes)===null||i===void 0||i.filter(x=>{var S,_,k;return((S=x.filter)===null||S===void 0?void 0:S.event)==="*"||((k=(_=x.filter)===null||_===void 0?void 0:_.event)===null||k===void 0?void 0:k.toLocaleLowerCase())===o}).map(x=>x.callback(g,r)):(a=this.bindings[o])===null||a===void 0||a.filter(x=>{var S,_,k,T,N,O;if(["broadcast","presence","postgres_changes"].includes(o))if("id"in x){const P=x.id,C=(S=x.filter)===null||S===void 0?void 0:S.event;return P&&((_=n.ids)===null||_===void 0?void 0:_.includes(P))&&(C==="*"||C?.toLocaleLowerCase()===((k=n.data)===null||k===void 0?void 0:k.type.toLocaleLowerCase()))}else{const P=(N=(T=x?.filter)===null||T===void 0?void 0:T.event)===null||N===void 0?void 0:N.toLocaleLowerCase();return P==="*"||P===((O=n?.event)===null||O===void 0?void 0:O.toLocaleLowerCase())}else return x.type.toLocaleLowerCase()===o}).map(x=>{if(typeof g=="object"&&"ids"in g){const S=g.data,{schema:_,table:k,commit_timestamp:T,type:N,errors:O}=S;g=Object.assign(Object.assign({},{schema:_,table:k,commit_timestamp:T,eventType:N,new:{},old:{},errors:O}),this._getPayloadRecords(S))}x.callback(g,r)})}_isClosed(){return this.state===Dn.closed}_isJoined(){return this.state===Dn.joined}_isJoining(){return this.state===Dn.joining}_isLeaving(){return this.state===Dn.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,n,r){const i=t.toLocaleLowerCase(),a={type:i,filter:n,callback:r};return this.bindings[i]?this.bindings[i].push(a):this.bindings[i]=[a],this}_off(t,n){const r=t.toLocaleLowerCase();return this.bindings[r]&&(this.bindings[r]=this.bindings[r].filter(i=>{var a;return!(((a=i.type)===null||a===void 0?void 0:a.toLocaleLowerCase())===r&&lB.isEqual(i.filter,n))})),this}static isEqual(t,n){if(Object.keys(t).length!==Object.keys(n).length)return!1;for(const r in t)if(t[r]!==n[r])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(Da.close,{},t)}_onError(t){this._on(Da.error,{},n=>t(n))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Dn.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const n={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(n.new=SC(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(n.old=SC(t.columns,t.old_record)),n}};const Sw=()=>{},f0={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},HY=[1e3,2e3,5e3,1e4],GY=1e4,qY=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;let YY=class{constructor(t,n){var r;if(this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=ik,this.transport=null,this.heartbeatIntervalMs=f0.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=Sw,this.ref=0,this.reconnectTimer=null,this.vsn=wC,this.logger=Sw,this.conn=null,this.sendBuffer=[],this.serializer=new RY,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=i=>i?(...a)=>i(...a):(...a)=>fetch(...a),!(!((r=n?.params)===null||r===void 0)&&r.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=n.params.apikey,this.endPoint=`${t}/${ak.websocket}`,this.httpEndpoint=aB(t),this._initializeOptions(n),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(n?.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this.accessToken&&!this._authPromise&&this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=tB.createWebSocket(this.endpointURL())}catch(t){this._setConnectionState("disconnected");const n=t.message;throw n.includes("Node.js")?new Error(`${n}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${n}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:this.vsn}))}disconnect(t,n){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const r=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(r),this._setConnectionState("disconnected")},typeof this.conn.close=="function"&&(t?this.conn.close(t,n??""):this.conn.close()),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(t){const n=await t.unsubscribe();return this.channels.length===0&&this.disconnect(),n}async removeAllChannels(){const t=await Promise.all(this.channels.map(n=>n.unsubscribe()));return this.channels=[],this.disconnect(),t}log(t,n,r){this.logger(t,n,r)}connectionState(){switch(this.conn&&this.conn.readyState){case Hc.connecting:return Gc.Connecting;case Hc.open:return Gc.Open;case Hc.closing:return Gc.Closing;default:return Gc.Closed}}isConnected(){return this.connectionState()===Gc.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(t,n={config:{}}){const r=`realtime:${t}`,i=this.getChannels().find(a=>a.topic===r);if(i)return i;{const a=new sB(`realtime:${t}`,n,this);return this.channels.push(a),a}}push(t){const{topic:n,event:r,payload:i,ref:a}=t,o=()=>{this.encode(t,l=>{var u;(u=this.conn)===null||u===void 0||u.send(l)})};this.log("push",`${n} ${r} (${a})`,i),this.isConnected()?o():this.sendBuffer.push(o)}async setAuth(t=null){this._authPromise=this._performAuth(t);try{await this._authPromise}finally{this._authPromise=null}}async sendHeartbeat(){var t;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(n){this.log("error","error in heartbeat callback",n)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(n){this.log("error","error in heartbeat callback",n)}this._wasManualDisconnect=!1,(t=this.conn)===null||t===void 0||t.close(PY,"heartbeat timeout"),setTimeout(()=>{var n;this.isConnected()||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout()},f0.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(n){this.log("error","error in heartbeat callback",n)}this._setAuthSafely("heartbeat")}onHeartbeat(t){this.heartbeatCallback=t}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let n=this.channels.find(r=>r.topic===t&&(r._isJoined()||r._isJoining()));n&&(this.log("transport",`leaving duplicate topic "${t}"`),n.unsubscribe())}_remove(t){this.channels=this.channels.filter(n=>n.topic!==t.topic)}_onConnMessage(t){this.decode(t.data,n=>{if(n.topic==="phoenix"&&n.event==="phx_reply")try{this.heartbeatCallback(n.payload.status==="ok"?"ok":"error")}catch(f){this.log("error","error in heartbeat callback",f)}n.ref&&n.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:r,event:i,payload:a,ref:o}=n,l=o?`(${o})`:"",u=a.status||"";this.log("receive",`${u} ${r} ${i} ${l}`.trim(),a),this.channels.filter(f=>f._isMember(r)).forEach(f=>f._trigger(i,a,o)),this._triggerStateCallbacks("message",n)})}_clearTimer(t){var n;t==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):t==="reconnect"&&((n=this.reconnectTimer)===null||n===void 0||n.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t))}_teardownConnection(){if(this.conn){if(this.conn.readyState===Hc.open||this.conn.readyState===Hc.connecting)try{this.conn.close()}catch(t){this.log("error","Error closing connection",t)}this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null}this._clearAllTimers(),this.channels.forEach(t=>t.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),(this._authPromise||(this.accessToken&&!this.accessTokenValue?this.setAuth():Promise.resolve())).then(()=>{this.flushSendBuffer()}).catch(n=>{this.log("error","error waiting for auth on connect",n),this.flushSendBuffer()}),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=n=>{this.log("worker","worker error",n.message),this.workerRef.terminate()},this.workerRef.onmessage=n=>{n.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(t){var n;this._setConnectionState("disconnected"),this.log("transport","close",t),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout(),this._triggerStateCallbacks("close",t)}_onConnError(t){this._setConnectionState("disconnected"),this.log("transport",`${t}`),this._triggerChanError(),this._triggerStateCallbacks("error",t)}_triggerChanError(){this.channels.forEach(t=>t._trigger(Da.error))}_appendParams(t,n){if(Object.keys(n).length===0)return t;const r=t.match(/\?/)?"&":"?",i=new URLSearchParams(n);return`${t}${r}${i}`}_workerObjectUrl(t){let n;if(t)n=t;else{const r=new Blob([qY],{type:"application/javascript"});n=URL.createObjectURL(r)}return n}_setConnectionState(t,n=!1){this._connectionState=t,t==="connecting"?this._wasManualDisconnect=!1:t==="disconnecting"&&(this._wasManualDisconnect=n)}async _performAuth(t=null){let n;t?n=t:this.accessToken?n=await this.accessToken():n=this.accessTokenValue,this.accessTokenValue!=n&&(this.accessTokenValue=n,this.channels.forEach(r=>{const i={access_token:n,version:CY};n&&r.updateJoinPayload(i),r.joinedOnce&&r._isJoined()&&r._push(Da.access_token,{access_token:n})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(t="general"){this.setAuth().catch(n=>{this.log("error",`error setting auth in ${t}`,n)})}_triggerStateCallbacks(t,n){try{this.stateChangeCallbacks[t].forEach(r=>{try{r(n)}catch(i){this.log("error",`error in ${t} callback`,i)}})}catch(r){this.log("error",`error triggering ${t} callbacks`,r)}}_setupReconnectionTimer(){this.reconnectTimer=new rB(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},f0.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(t){var n,r,i,a,o,l,u,f,h,p,g,x;switch(this.transport=(n=t?.transport)!==null&&n!==void 0?n:null,this.timeout=(r=t?.timeout)!==null&&r!==void 0?r:ik,this.heartbeatIntervalMs=(i=t?.heartbeatIntervalMs)!==null&&i!==void 0?i:f0.HEARTBEAT_INTERVAL,this.worker=(a=t?.worker)!==null&&a!==void 0?a:!1,this.accessToken=(o=t?.accessToken)!==null&&o!==void 0?o:null,this.heartbeatCallback=(l=t?.heartbeatCallback)!==null&&l!==void 0?l:Sw,this.vsn=(u=t?.vsn)!==null&&u!==void 0?u:wC,t?.params&&(this.params=t.params),t?.logger&&(this.logger=t.logger),(t?.logLevel||t?.log_level)&&(this.logLevel=t.logLevel||t.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(f=t?.reconnectAfterMs)!==null&&f!==void 0?f:(S=>HY[S-1]||GY),this.vsn){case nB:this.encode=(h=t?.encode)!==null&&h!==void 0?h:((S,_)=>_(JSON.stringify(S))),this.decode=(p=t?.decode)!==null&&p!==void 0?p:((S,_)=>_(JSON.parse(S)));break;case MY:this.encode=(g=t?.encode)!==null&&g!==void 0?g:this.serializer.encode.bind(this.serializer),this.decode=(x=t?.decode)!==null&&x!==void 0?x:this.serializer.decode.bind(this.serializer);break;default:throw new Error(`Unsupported serializer version: ${this.vsn}`)}if(this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=t?.workerUrl}}};const KY=Object.freeze(Object.defineProperty({__proto__:null,REALTIME_CHANNEL_STATES:FY,get REALTIME_LISTEN_TYPES(){return Nd},get REALTIME_POSTGRES_CHANGES_LISTEN_EVENT(){return lk},get REALTIME_PRESENCE_LISTEN_EVENTS(){return sk},get REALTIME_SUBSCRIBE_STATES(){return mo},RealtimeChannel:sB,RealtimeClient:YY,RealtimePresence:oB,WebSocketFactory:tB},Symbol.toStringTag,{value:"Module"})),cB=Km(KY);class Xm extends Error{constructor(t){super(t),this.__isStorageError=!0,this.name="StorageError"}}function nn(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}class uB extends Xm{constructor(t,n,r){super(t),this.name="StorageApiError",this.status=n,this.statusCode=r}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class My extends Xm{constructor(t,n){super(t),this.name="StorageUnknownError",this.originalError=n}}const s2=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),WY=()=>Response,ck=e=>{if(Array.isArray(e))return e.map(n=>ck(n));if(typeof e=="function"||e!==Object(e))return e;const t={};return Object.entries(e).forEach(([n,r])=>{const i=n.replace(/([-_][a-z])/gi,a=>a.toUpperCase().replace(/[-_]/g,""));t[i]=ck(r)}),t},VY=e=>{if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},ZY=e=>!e||typeof e!="string"||e.length===0||e.length>100||e.trim()!==e||e.includes("/")||e.includes("\\")?!1:/^[\w!.\*'() &$@=;:+,?-]+$/.test(e),kw=e=>{var t;return e.msg||e.message||e.error_description||(typeof e.error=="string"?e.error:(t=e.error)===null||t===void 0?void 0:t.message)||JSON.stringify(e)},XY=(e,t,n)=>Ue(void 0,void 0,void 0,function*(){const r=yield WY();e instanceof r&&!n?.noResolveJson?e.json().then(i=>{const a=e.status||500,o=i?.statusCode||a+"";t(new uB(kw(i),a,o))}).catch(i=>{t(new My(kw(i),i))}):t(new My(kw(e),e))}),JY=(e,t,n,r)=>{const i={method:e,headers:t?.headers||{}};return e==="GET"||!r?i:(VY(r)?(i.headers=Object.assign({"Content-Type":"application/json"},t?.headers),i.body=JSON.stringify(r)):i.body=r,t?.duplex&&(i.duplex=t.duplex),Object.assign(Object.assign({},i),n))};function Jm(e,t,n,r,i,a){return Ue(this,void 0,void 0,function*(){return new Promise((o,l)=>{e(n,JY(t,r,i,a)).then(u=>{if(!u.ok)throw u;return r?.noResolveJson?u:u.json()}).then(u=>o(u)).catch(u=>XY(u,l,r))})})}function bm(e,t,n,r){return Ue(this,void 0,void 0,function*(){return Jm(e,"GET",t,n,r)})}function Pa(e,t,n,r,i){return Ue(this,void 0,void 0,function*(){return Jm(e,"POST",t,r,i,n)})}function uk(e,t,n,r,i){return Ue(this,void 0,void 0,function*(){return Jm(e,"PUT",t,r,i,n)})}function QY(e,t,n,r){return Ue(this,void 0,void 0,function*(){return Jm(e,"HEAD",t,Object.assign(Object.assign({},n),{noResolveJson:!0}),r)})}function l2(e,t,n,r,i){return Ue(this,void 0,void 0,function*(){return Jm(e,"DELETE",t,r,i,n)})}class eK{constructor(t,n){this.downloadFn=t,this.shouldThrowOnError=n}then(t,n){return this.execute().then(t,n)}execute(){return Ue(this,void 0,void 0,function*(){try{return{data:(yield this.downloadFn()).body,error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(nn(t))return{data:null,error:t};throw t}})}}var dB;class tK{constructor(t,n){this.downloadFn=t,this.shouldThrowOnError=n,this[dB]="BlobDownloadBuilder",this.promise=null}asStream(){return new eK(this.downloadFn,this.shouldThrowOnError)}then(t,n){return this.getPromise().then(t,n)}catch(t){return this.getPromise().catch(t)}finally(t){return this.getPromise().finally(t)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}execute(){return Ue(this,void 0,void 0,function*(){try{return{data:yield(yield this.downloadFn()).blob(),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(nn(t))return{data:null,error:t};throw t}})}}dB=Symbol.toStringTag;const nK={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},kC={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class rK{constructor(t,n={},r,i){this.shouldThrowOnError=!1,this.url=t,this.headers=n,this.bucketId=r,this.fetch=s2(i)}throwOnError(){return this.shouldThrowOnError=!0,this}uploadOrUpdate(t,n,r,i){return Ue(this,void 0,void 0,function*(){try{let a;const o=Object.assign(Object.assign({},kC),i);let l=Object.assign(Object.assign({},this.headers),t==="POST"&&{"x-upsert":String(o.upsert)});const u=o.metadata;typeof Blob<"u"&&r instanceof Blob?(a=new FormData,a.append("cacheControl",o.cacheControl),u&&a.append("metadata",this.encodeMetadata(u)),a.append("",r)):typeof FormData<"u"&&r instanceof FormData?(a=r,a.has("cacheControl")||a.append("cacheControl",o.cacheControl),u&&!a.has("metadata")&&a.append("metadata",this.encodeMetadata(u))):(a=r,l["cache-control"]=`max-age=${o.cacheControl}`,l["content-type"]=o.contentType,u&&(l["x-metadata"]=this.toBase64(this.encodeMetadata(u))),(typeof ReadableStream<"u"&&a instanceof ReadableStream||a&&typeof a=="object"&&"pipe"in a&&typeof a.pipe=="function")&&!o.duplex&&(o.duplex="half")),i?.headers&&(l=Object.assign(Object.assign({},l),i.headers));const f=this._removeEmptyFolders(n),h=this._getFinalPath(f),p=yield(t=="PUT"?uk:Pa)(this.fetch,`${this.url}/object/${h}`,a,Object.assign({headers:l},o?.duplex?{duplex:o.duplex}:{}));return{data:{path:f,id:p.Id,fullPath:p.Key},error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(nn(a))return{data:null,error:a};throw a}})}upload(t,n,r){return Ue(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",t,n,r)})}uploadToSignedUrl(t,n,r,i){return Ue(this,void 0,void 0,function*(){const a=this._removeEmptyFolders(t),o=this._getFinalPath(a),l=new URL(this.url+`/object/upload/sign/${o}`);l.searchParams.set("token",n);try{let u;const f=Object.assign({upsert:kC.upsert},i),h=Object.assign(Object.assign({},this.headers),{"x-upsert":String(f.upsert)});typeof Blob<"u"&&r instanceof Blob?(u=new FormData,u.append("cacheControl",f.cacheControl),u.append("",r)):typeof FormData<"u"&&r instanceof FormData?(u=r,u.append("cacheControl",f.cacheControl)):(u=r,h["cache-control"]=`max-age=${f.cacheControl}`,h["content-type"]=f.contentType);const p=yield uk(this.fetch,l.toString(),u,{headers:h});return{data:{path:a,fullPath:p.Key},error:null}}catch(u){if(this.shouldThrowOnError)throw u;if(nn(u))return{data:null,error:u};throw u}})}createSignedUploadUrl(t,n){return Ue(this,void 0,void 0,function*(){try{let r=this._getFinalPath(t);const i=Object.assign({},this.headers);n?.upsert&&(i["x-upsert"]="true");const a=yield Pa(this.fetch,`${this.url}/object/upload/sign/${r}`,{},{headers:i}),o=new URL(this.url+a.url),l=o.searchParams.get("token");if(!l)throw new Xm("No token returned by API");return{data:{signedUrl:o.toString(),path:t,token:l},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(nn(r))return{data:null,error:r};throw r}})}update(t,n,r){return Ue(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",t,n,r)})}move(t,n,r){return Ue(this,void 0,void 0,function*(){try{return{data:yield Pa(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:t,destinationKey:n,destinationBucket:r?.destinationBucket},{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(nn(i))return{data:null,error:i};throw i}})}copy(t,n,r){return Ue(this,void 0,void 0,function*(){try{return{data:{path:(yield Pa(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:t,destinationKey:n,destinationBucket:r?.destinationBucket},{headers:this.headers})).Key},error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(nn(i))return{data:null,error:i};throw i}})}createSignedUrl(t,n,r){return Ue(this,void 0,void 0,function*(){try{let i=this._getFinalPath(t),a=yield Pa(this.fetch,`${this.url}/object/sign/${i}`,Object.assign({expiresIn:n},r?.transform?{transform:r.transform}:{}),{headers:this.headers});const o=r?.download?`&download=${r.download===!0?"":r.download}`:"";return a={signedUrl:encodeURI(`${this.url}${a.signedURL}${o}`)},{data:a,error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(nn(i))return{data:null,error:i};throw i}})}createSignedUrls(t,n,r){return Ue(this,void 0,void 0,function*(){try{const i=yield Pa(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:n,paths:t},{headers:this.headers}),a=r?.download?`&download=${r.download===!0?"":r.download}`:"";return{data:i.map(o=>Object.assign(Object.assign({},o),{signedUrl:o.signedURL?encodeURI(`${this.url}${o.signedURL}${a}`):null})),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(nn(i))return{data:null,error:i};throw i}})}download(t,n){const i=typeof n?.transform<"u"?"render/image/authenticated":"object",a=this.transformOptsToQueryString(n?.transform||{}),o=a?`?${a}`:"",l=this._getFinalPath(t),u=()=>bm(this.fetch,`${this.url}/${i}/${l}${o}`,{headers:this.headers,noResolveJson:!0});return new tK(u,this.shouldThrowOnError)}info(t){return Ue(this,void 0,void 0,function*(){const n=this._getFinalPath(t);try{const r=yield bm(this.fetch,`${this.url}/object/info/${n}`,{headers:this.headers});return{data:ck(r),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(nn(r))return{data:null,error:r};throw r}})}exists(t){return Ue(this,void 0,void 0,function*(){const n=this._getFinalPath(t);try{return yield QY(this.fetch,`${this.url}/object/${n}`,{headers:this.headers}),{data:!0,error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(nn(r)&&r instanceof My){const i=r.originalError;if([400,404].includes(i?.status))return{data:!1,error:r}}throw r}})}getPublicUrl(t,n){const r=this._getFinalPath(t),i=[],a=n?.download?`download=${n.download===!0?"":n.download}`:"";a!==""&&i.push(a);const l=typeof n?.transform<"u"?"render/image":"object",u=this.transformOptsToQueryString(n?.transform||{});u!==""&&i.push(u);let f=i.join("&");return f!==""&&(f=`?${f}`),{data:{publicUrl:encodeURI(`${this.url}/${l}/public/${r}${f}`)}}}remove(t){return Ue(this,void 0,void 0,function*(){try{return{data:yield l2(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:t},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(nn(n))return{data:null,error:n};throw n}})}list(t,n,r){return Ue(this,void 0,void 0,function*(){try{const i=Object.assign(Object.assign(Object.assign({},nK),n),{prefix:t||""});return{data:yield Pa(this.fetch,`${this.url}/object/list/${this.bucketId}`,i,{headers:this.headers},r),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(nn(i))return{data:null,error:i};throw i}})}listV2(t,n){return Ue(this,void 0,void 0,function*(){try{const r=Object.assign({},t);return{data:yield Pa(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,r,{headers:this.headers},n),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(nn(r))return{data:null,error:r};throw r}})}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return typeof Buffer<"u"?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t.replace(/^\/+/,"")}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){const n=[];return t.width&&n.push(`width=${t.width}`),t.height&&n.push(`height=${t.height}`),t.resize&&n.push(`resize=${t.resize}`),t.format&&n.push(`format=${t.format}`),t.quality&&n.push(`quality=${t.quality}`),n.join("&")}}const fB="2.86.2",hB={"X-Client-Info":`storage-js/${fB}`};class iK{constructor(t,n={},r,i){this.shouldThrowOnError=!1;const a=new URL(t);i?.useNewHostname&&/supabase\.(co|in|red)$/.test(a.hostname)&&!a.hostname.includes("storage.supabase.")&&(a.hostname=a.hostname.replace("supabase.","storage.supabase.")),this.url=a.href.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},hB),n),this.fetch=s2(r)}throwOnError(){return this.shouldThrowOnError=!0,this}listBuckets(t){return Ue(this,void 0,void 0,function*(){try{const n=this.listBucketOptionsToQueryString(t);return{data:yield bm(this.fetch,`${this.url}/bucket${n}`,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(nn(n))return{data:null,error:n};throw n}})}getBucket(t){return Ue(this,void 0,void 0,function*(){try{return{data:yield bm(this.fetch,`${this.url}/bucket/${t}`,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(nn(n))return{data:null,error:n};throw n}})}createBucket(t){return Ue(this,arguments,void 0,function*(n,r={public:!1}){try{return{data:yield Pa(this.fetch,`${this.url}/bucket`,{id:n,name:n,type:r.type,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(nn(i))return{data:null,error:i};throw i}})}updateBucket(t,n){return Ue(this,void 0,void 0,function*(){try{return{data:yield uk(this.fetch,`${this.url}/bucket/${t}`,{id:t,name:t,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(nn(r))return{data:null,error:r};throw r}})}emptyBucket(t){return Ue(this,void 0,void 0,function*(){try{return{data:yield Pa(this.fetch,`${this.url}/bucket/${t}/empty`,{},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(nn(n))return{data:null,error:n};throw n}})}deleteBucket(t){return Ue(this,void 0,void 0,function*(){try{return{data:yield l2(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(nn(n))return{data:null,error:n};throw n}})}listBucketOptionsToQueryString(t){const n={};return t&&("limit"in t&&(n.limit=String(t.limit)),"offset"in t&&(n.offset=String(t.offset)),t.search&&(n.search=t.search),t.sortColumn&&(n.sortColumn=t.sortColumn),t.sortOrder&&(n.sortOrder=t.sortOrder)),Object.keys(n).length>0?"?"+new URLSearchParams(n).toString():""}}var vm=class extends Error{constructor(e,t){super(e),this.name="IcebergError",this.status=t.status,this.icebergType=t.icebergType,this.icebergCode=t.icebergCode,this.details=t.details,this.isCommitStateUnknown=t.icebergType==="CommitStateUnknownException"||[500,502,504].includes(t.status)&&t.icebergType?.includes("CommitState")===!0}isNotFound(){return this.status===404}isConflict(){return this.status===409}isAuthenticationTimeout(){return this.status===419}};function aK(e,t,n){const r=new URL(t,e);if(n)for(const[i,a]of Object.entries(n))a!==void 0&&r.searchParams.set(i,a);return r.toString()}async function oK(e){return!e||e.type==="none"?{}:e.type==="bearer"?{Authorization:`Bearer ${e.token}`}:e.type==="header"?{[e.name]:e.value}:e.type==="custom"?await e.getHeaders():{}}function sK(e){const t=e.fetchImpl??globalThis.fetch;return{async request({method:n,path:r,query:i,body:a,headers:o}){const l=aK(e.baseUrl,r,i),u=await oK(e.auth),f=await t(l,{method:n,headers:{...a?{"Content-Type":"application/json"}:{},...u,...o},body:a?JSON.stringify(a):void 0}),h=await f.text(),p=(f.headers.get("content-type")||"").includes("application/json"),g=p&&h?JSON.parse(h):h;if(!f.ok){const x=p?g:void 0,S=x?.error;throw new vm(S?.message??`Request failed with status ${f.status}`,{status:f.status,icebergType:S?.type,icebergCode:S?.code,details:x})}return{status:f.status,headers:f.headers,data:g}}}}function h0(e){return e.join("")}var lK=class{constructor(e,t=""){this.client=e,this.prefix=t}async listNamespaces(e){const t=e?{parent:h0(e.namespace)}:void 0;return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces`,query:t})).data.namespaces.map(r=>({namespace:r}))}async createNamespace(e,t){const n={namespace:e.namespace,properties:t?.properties};return(await this.client.request({method:"POST",path:`${this.prefix}/namespaces`,body:n})).data}async dropNamespace(e){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${h0(e.namespace)}`})}async loadNamespaceMetadata(e){return{properties:(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${h0(e.namespace)}`})).data.properties}}async namespaceExists(e){try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${h0(e.namespace)}`}),!0}catch(t){if(t instanceof vm&&t.status===404)return!1;throw t}}async createNamespaceIfNotExists(e,t){try{return await this.createNamespace(e,t)}catch(n){if(n instanceof vm&&n.status===409)return;throw n}}};function nd(e){return e.join("")}var cK=class{constructor(e,t="",n){this.client=e,this.prefix=t,this.accessDelegation=n}async listTables(e){return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${nd(e.namespace)}/tables`})).data.identifiers}async createTable(e,t){const n={};return this.accessDelegation&&(n["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${nd(e.namespace)}/tables`,body:t,headers:n})).data.metadata}async updateTable(e,t){const n=await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${nd(e.namespace)}/tables/${e.name}`,body:t});return{"metadata-location":n.data["metadata-location"],metadata:n.data.metadata}}async dropTable(e,t){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${nd(e.namespace)}/tables/${e.name}`,query:{purgeRequested:String(t?.purge??!1)}})}async loadTable(e){const t={};return this.accessDelegation&&(t["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${nd(e.namespace)}/tables/${e.name}`,headers:t})).data.metadata}async tableExists(e){const t={};this.accessDelegation&&(t["X-Iceberg-Access-Delegation"]=this.accessDelegation);try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${nd(e.namespace)}/tables/${e.name}`,headers:t}),!0}catch(n){if(n instanceof vm&&n.status===404)return!1;throw n}}async createTableIfNotExists(e,t){try{return await this.createTable(e,t)}catch(n){if(n instanceof vm&&n.status===409)return await this.loadTable({namespace:e.namespace,name:t.name});throw n}}},uK=class{constructor(e){let t="v1";e.catalogName&&(t+=`/${e.catalogName}`);const n=e.baseUrl.endsWith("/")?e.baseUrl:`${e.baseUrl}/`;this.client=sK({baseUrl:n,auth:e.auth,fetchImpl:e.fetch}),this.accessDelegation=e.accessDelegation?.join(","),this.namespaceOps=new lK(this.client,t),this.tableOps=new cK(this.client,t,this.accessDelegation)}async listNamespaces(e){return this.namespaceOps.listNamespaces(e)}async createNamespace(e,t){return this.namespaceOps.createNamespace(e,t)}async dropNamespace(e){await this.namespaceOps.dropNamespace(e)}async loadNamespaceMetadata(e){return this.namespaceOps.loadNamespaceMetadata(e)}async listTables(e){return this.tableOps.listTables(e)}async createTable(e,t){return this.tableOps.createTable(e,t)}async updateTable(e,t){return this.tableOps.updateTable(e,t)}async dropTable(e,t){await this.tableOps.dropTable(e,t)}async loadTable(e){return this.tableOps.loadTable(e)}async namespaceExists(e){return this.namespaceOps.namespaceExists(e)}async tableExists(e){return this.tableOps.tableExists(e)}async createNamespaceIfNotExists(e,t){return this.namespaceOps.createNamespaceIfNotExists(e,t)}async createTableIfNotExists(e,t){return this.tableOps.createTableIfNotExists(e,t)}};class mB{constructor(t,n={},r){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},hB),n),this.fetch=s2(r)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(t){return Ue(this,void 0,void 0,function*(){try{return{data:yield Pa(this.fetch,`${this.url}/bucket`,{name:t},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(nn(n))return{data:null,error:n};throw n}})}listBuckets(t){return Ue(this,void 0,void 0,function*(){try{const n=new URLSearchParams;t?.limit!==void 0&&n.set("limit",t.limit.toString()),t?.offset!==void 0&&n.set("offset",t.offset.toString()),t?.sortColumn&&n.set("sortColumn",t.sortColumn),t?.sortOrder&&n.set("sortOrder",t.sortOrder),t?.search&&n.set("search",t.search);const r=n.toString(),i=r?`${this.url}/bucket?${r}`:`${this.url}/bucket`;return{data:yield bm(this.fetch,i,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(nn(n))return{data:null,error:n};throw n}})}deleteBucket(t){return Ue(this,void 0,void 0,function*(){try{return{data:yield l2(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(nn(n))return{data:null,error:n};throw n}})}from(t){if(!ZY(t))throw new Xm("Invalid bucket name: File, folder, and bucket names must follow AWS object key naming guidelines and should avoid the use of any other characters.");return new uK({baseUrl:this.url,catalogName:t,auth:{type:"custom",getHeaders:()=>Ue(this,void 0,void 0,function*(){return this.headers})},fetch:this.fetch})}}const c2={"X-Client-Info":`storage-js/${fB}`,"Content-Type":"application/json"};class u2 extends Error{constructor(t){super(t),this.__isStorageVectorsError=!0,this.name="StorageVectorsError"}}function oi(e){return typeof e=="object"&&e!==null&&"__isStorageVectorsError"in e}class fy extends u2{constructor(t,n,r){super(t),this.name="StorageVectorsApiError",this.status=n,this.statusCode=r}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class pB extends u2{constructor(t,n){super(t),this.name="StorageVectorsUnknownError",this.originalError=n}}var dk;(function(e){e.InternalError="InternalError",e.S3VectorConflictException="S3VectorConflictException",e.S3VectorNotFoundException="S3VectorNotFoundException",e.S3VectorBucketNotEmpty="S3VectorBucketNotEmpty",e.S3VectorMaxBucketsExceeded="S3VectorMaxBucketsExceeded",e.S3VectorMaxIndexesExceeded="S3VectorMaxIndexesExceeded"})(dk||(dk={}));const lv=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),dK=()=>Response,gB=e=>{if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},fK=e=>Array.from(new Float32Array(e)),hK=(e,t)=>{if(t!==void 0&&e.float32.length!==t)throw new Error(`Vector dimension mismatch: expected ${t}, got ${e.float32.length}`)},EC=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),mK=(e,t,n)=>Ue(void 0,void 0,void 0,function*(){if(e&&typeof e=="object"&&"status"in e&&"ok"in e&&typeof e.status=="number"&&!n?.noResolveJson){const i=e.status||500,a=e;if(typeof a.json=="function")a.json().then(o=>{const l=o?.statusCode||o?.code||i+"";t(new fy(EC(o),i,l))}).catch(()=>{const o=i+"",l=a.statusText||`HTTP ${i} error`;t(new fy(l,i,o))});else{const o=i+"",l=a.statusText||`HTTP ${i} error`;t(new fy(l,i,o))}}else t(new pB(EC(e),e))}),pK=(e,t,n,r)=>{const i={method:e,headers:t?.headers||{}};return r?(gB(r)?(i.headers=Object.assign({"Content-Type":"application/json"},t?.headers),i.body=JSON.stringify(r)):i.body=r,Object.assign(Object.assign({},i),n)):i};function gK(e,t,n,r,i,a){return Ue(this,void 0,void 0,function*(){return new Promise((o,l)=>{e(n,pK(t,r,i,a)).then(u=>{if(!u.ok)throw u;if(r?.noResolveJson)return u;const f=u.headers.get("content-type");return!f||!f.includes("application/json")?{}:u.json()}).then(u=>o(u)).catch(u=>mK(u,l,r))})})}function Pi(e,t,n,r,i){return Ue(this,void 0,void 0,function*(){return gK(e,"POST",t,r,i,n)})}class yB{constructor(t,n={},r){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},c2),n),this.fetch=lv(r)}throwOnError(){return this.shouldThrowOnError=!0,this}createIndex(t){return Ue(this,void 0,void 0,function*(){try{return{data:(yield Pi(this.fetch,`${this.url}/CreateIndex`,t,{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(oi(n))return{data:null,error:n};throw n}})}getIndex(t,n){return Ue(this,void 0,void 0,function*(){try{return{data:yield Pi(this.fetch,`${this.url}/GetIndex`,{vectorBucketName:t,indexName:n},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(oi(r))return{data:null,error:r};throw r}})}listIndexes(t){return Ue(this,void 0,void 0,function*(){try{return{data:yield Pi(this.fetch,`${this.url}/ListIndexes`,t,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(oi(n))return{data:null,error:n};throw n}})}deleteIndex(t,n){return Ue(this,void 0,void 0,function*(){try{return{data:(yield Pi(this.fetch,`${this.url}/DeleteIndex`,{vectorBucketName:t,indexName:n},{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(oi(r))return{data:null,error:r};throw r}})}}class bB{constructor(t,n={},r){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},c2),n),this.fetch=lv(r)}throwOnError(){return this.shouldThrowOnError=!0,this}putVectors(t){return Ue(this,void 0,void 0,function*(){try{if(t.vectors.length<1||t.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return{data:(yield Pi(this.fetch,`${this.url}/PutVectors`,t,{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(oi(n))return{data:null,error:n};throw n}})}getVectors(t){return Ue(this,void 0,void 0,function*(){try{return{data:yield Pi(this.fetch,`${this.url}/GetVectors`,t,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(oi(n))return{data:null,error:n};throw n}})}listVectors(t){return Ue(this,void 0,void 0,function*(){try{if(t.segmentCount!==void 0){if(t.segmentCount<1||t.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(t.segmentIndex!==void 0&&(t.segmentIndex<0||t.segmentIndex>=t.segmentCount))throw new Error(`segmentIndex must be between 0 and ${t.segmentCount-1}`)}return{data:yield Pi(this.fetch,`${this.url}/ListVectors`,t,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(oi(n))return{data:null,error:n};throw n}})}queryVectors(t){return Ue(this,void 0,void 0,function*(){try{return{data:yield Pi(this.fetch,`${this.url}/QueryVectors`,t,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(oi(n))return{data:null,error:n};throw n}})}deleteVectors(t){return Ue(this,void 0,void 0,function*(){try{if(t.keys.length<1||t.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return{data:(yield Pi(this.fetch,`${this.url}/DeleteVectors`,t,{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(oi(n))return{data:null,error:n};throw n}})}}class vB{constructor(t,n={},r){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},c2),n),this.fetch=lv(r)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(t){return Ue(this,void 0,void 0,function*(){try{return{data:(yield Pi(this.fetch,`${this.url}/CreateVectorBucket`,{vectorBucketName:t},{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(oi(n))return{data:null,error:n};throw n}})}getBucket(t){return Ue(this,void 0,void 0,function*(){try{return{data:yield Pi(this.fetch,`${this.url}/GetVectorBucket`,{vectorBucketName:t},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(oi(n))return{data:null,error:n};throw n}})}listBuckets(){return Ue(this,arguments,void 0,function*(t={}){try{return{data:yield Pi(this.fetch,`${this.url}/ListVectorBuckets`,t,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(oi(n))return{data:null,error:n};throw n}})}deleteBucket(t){return Ue(this,void 0,void 0,function*(){try{return{data:(yield Pi(this.fetch,`${this.url}/DeleteVectorBucket`,{vectorBucketName:t},{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(oi(n))return{data:null,error:n};throw n}})}}class xB extends vB{constructor(t,n={}){super(t,n.headers||{},n.fetch)}from(t){return new _B(this.url,this.headers,t,this.fetch)}createBucket(t){const n=Object.create(null,{createBucket:{get:()=>super.createBucket}});return Ue(this,void 0,void 0,function*(){return n.createBucket.call(this,t)})}getBucket(t){const n=Object.create(null,{getBucket:{get:()=>super.getBucket}});return Ue(this,void 0,void 0,function*(){return n.getBucket.call(this,t)})}listBuckets(){const t=Object.create(null,{listBuckets:{get:()=>super.listBuckets}});return Ue(this,arguments,void 0,function*(n={}){return t.listBuckets.call(this,n)})}deleteBucket(t){const n=Object.create(null,{deleteBucket:{get:()=>super.deleteBucket}});return Ue(this,void 0,void 0,function*(){return n.deleteBucket.call(this,t)})}}class _B extends yB{constructor(t,n,r,i){super(t,n,i),this.vectorBucketName=r}createIndex(t){const n=Object.create(null,{createIndex:{get:()=>super.createIndex}});return Ue(this,void 0,void 0,function*(){return n.createIndex.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName}))})}listIndexes(){const t=Object.create(null,{listIndexes:{get:()=>super.listIndexes}});return Ue(this,arguments,void 0,function*(n={}){return t.listIndexes.call(this,Object.assign(Object.assign({},n),{vectorBucketName:this.vectorBucketName}))})}getIndex(t){const n=Object.create(null,{getIndex:{get:()=>super.getIndex}});return Ue(this,void 0,void 0,function*(){return n.getIndex.call(this,this.vectorBucketName,t)})}deleteIndex(t){const n=Object.create(null,{deleteIndex:{get:()=>super.deleteIndex}});return Ue(this,void 0,void 0,function*(){return n.deleteIndex.call(this,this.vectorBucketName,t)})}index(t){return new wB(this.url,this.headers,this.vectorBucketName,t,this.fetch)}}class wB extends bB{constructor(t,n,r,i,a){super(t,n,a),this.vectorBucketName=r,this.indexName=i}putVectors(t){const n=Object.create(null,{putVectors:{get:()=>super.putVectors}});return Ue(this,void 0,void 0,function*(){return n.putVectors.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}getVectors(t){const n=Object.create(null,{getVectors:{get:()=>super.getVectors}});return Ue(this,void 0,void 0,function*(){return n.getVectors.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}listVectors(){const t=Object.create(null,{listVectors:{get:()=>super.listVectors}});return Ue(this,arguments,void 0,function*(n={}){return t.listVectors.call(this,Object.assign(Object.assign({},n),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}queryVectors(t){const n=Object.create(null,{queryVectors:{get:()=>super.queryVectors}});return Ue(this,void 0,void 0,function*(){return n.queryVectors.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}deleteVectors(t){const n=Object.create(null,{deleteVectors:{get:()=>super.deleteVectors}});return Ue(this,void 0,void 0,function*(){return n.deleteVectors.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}}class yK extends iK{constructor(t,n={},r,i){super(t,n,r,i)}from(t){return new rK(this.url,this.headers,t,this.fetch)}get vectors(){return new xB(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new mB(this.url+"/iceberg",this.headers,this.fetch)}}const bK=Object.freeze(Object.defineProperty({__proto__:null,StorageAnalyticsClient:mB,StorageApiError:uB,StorageClient:yK,StorageError:Xm,StorageUnknownError:My,StorageVectorsApiError:fy,StorageVectorsClient:xB,StorageVectorsError:u2,get StorageVectorsErrorCode(){return dk},StorageVectorsUnknownError:pB,VectorBucketApi:vB,VectorBucketScope:_B,VectorDataApi:bB,VectorIndexApi:yB,VectorIndexScope:wB,isPlainObject:gB,isStorageError:nn,isStorageVectorsError:oi,normalizeToFloat32:fK,resolveFetch:lv,resolveResponse:dK,validateVectorDimension:hK},Symbol.toStringTag,{value:"Module"})),vK=Km(bK);var Ew={},Nh={},AC;function xK(){return AC||(AC=1,Object.defineProperty(Nh,"__esModule",{value:!0}),Nh.version=void 0,Nh.version="2.86.2"),Nh}var TC;function _K(){return TC||(TC=1,(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.DEFAULT_REALTIME_OPTIONS=e.DEFAULT_AUTH_OPTIONS=e.DEFAULT_DB_OPTIONS=e.DEFAULT_GLOBAL_OPTIONS=e.DEFAULT_HEADERS=void 0;const t=xK();let n="";typeof Deno<"u"?n="deno":typeof document<"u"?n="web":typeof navigator<"u"&&navigator.product==="ReactNative"?n="react-native":n="node",e.DEFAULT_HEADERS={"X-Client-Info":`supabase-js-${n}/${t.version}`},e.DEFAULT_GLOBAL_OPTIONS={headers:e.DEFAULT_HEADERS},e.DEFAULT_DB_OPTIONS={schema:"public"},e.DEFAULT_AUTH_OPTIONS={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},e.DEFAULT_REALTIME_OPTIONS={}})(Ew)),Ew}var Aw={},OC;function wK(){return OC||(OC=1,(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.fetchWithAuth=e.resolveHeadersConstructor=e.resolveFetch=void 0;const t=i=>i?(...a)=>i(...a):(...a)=>fetch(...a);e.resolveFetch=t;const n=()=>Headers;e.resolveHeadersConstructor=n;const r=(i,a,o)=>{const l=(0,e.resolveFetch)(o),u=(0,e.resolveHeadersConstructor)();return async(f,h)=>{var p;const g=(p=await a())!==null&&p!==void 0?p:i;let x=new u(h?.headers);return x.has("apikey")||x.set("apikey",i),x.has("Authorization")||x.set("Authorization",`Bearer ${g}`),l(f,Object.assign(Object.assign({},h),{headers:x}))}};e.fetchWithAuth=r})(Aw)),Aw}var rs={},jC;function SK(){if(jC)return rs;jC=1,Object.defineProperty(rs,"__esModule",{value:!0}),rs.isBrowser=void 0,rs.uuid=e,rs.ensureTrailingSlash=t,rs.applySettingDefaults=r,rs.validateSupabaseUrl=i;function e(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(a){var o=Math.random()*16|0,l=a=="x"?o:o&3|8;return l.toString(16)})}function t(a){return a.endsWith("/")?a:a+"/"}const n=()=>typeof window<"u";rs.isBrowser=n;function r(a,o){var l,u;const{db:f,auth:h,realtime:p,global:g}=a,{db:x,auth:S,realtime:_,global:k}=o,T={db:Object.assign(Object.assign({},x),f),auth:Object.assign(Object.assign({},S),h),realtime:Object.assign(Object.assign({},_),p),storage:{},global:Object.assign(Object.assign(Object.assign({},k),g),{headers:Object.assign(Object.assign({},(l=k?.headers)!==null&&l!==void 0?l:{}),(u=g?.headers)!==null&&u!==void 0?u:{})}),accessToken:async()=>""};return a.accessToken?T.accessToken=a.accessToken:delete T.accessToken,T}function i(a){const o=a?.trim();if(!o)throw new Error("supabaseUrl is required.");if(!o.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(t(o))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}return rs}var Ch={};const SB="2.86.2",yd=30*1e3,fk=3,Tw=fk*yd,kK="http://localhost:9999",EK="supabase.auth.token",AK={"X-Client-Info":`gotrue-js/${SB}`},hk="X-Supabase-Api-Version",kB={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},TK=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,OK=600*1e3;let Ud=class extends Error{constructor(t,n,r){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=n,this.code=r}};function Ge(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}let EB=class extends Ud{constructor(t,n,r){super(t,n,r),this.name="AuthApiError",this.status=n,this.code=r}};function AB(e){return Ge(e)&&e.name==="AuthApiError"}let _l=class extends Ud{constructor(t,n){super(t),this.name="AuthUnknownError",this.originalError=n}},ks=class extends Ud{constructor(t,n,r,i){super(t,r,i),this.name=n,this.status=r}},ni=class extends ks{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}};function TB(e){return Ge(e)&&e.name==="AuthSessionMissingError"}let Dc=class extends ks{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}},tm=class extends ks{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}},nm=class extends ks{constructor(t,n=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}};function OB(e){return Ge(e)&&e.name==="AuthImplicitGrantRedirectError"}let mk=class extends ks{constructor(t,n=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}},Py=class extends ks{constructor(t,n){super(t,"AuthRetryableFetchError",n,void 0)}};function hy(e){return Ge(e)&&e.name==="AuthRetryableFetchError"}let pk=class extends ks{constructor(t,n,r){super(t,"AuthWeakPasswordError",n,"weak_password"),this.reasons=r}};function jK(e){return Ge(e)&&e.name==="AuthWeakPasswordError"}let Dy=class extends ks{constructor(t){super(t,"AuthInvalidJwtError",400,"invalid_jwt")}};const Ry="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),NC=` 	
\r=`.split(""),NK=(()=>{const e=new Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<NC.length;t+=1)e[NC[t].charCodeAt(0)]=-2;for(let t=0;t<Ry.length;t+=1)e[Ry[t].charCodeAt(0)]=t;return e})();function CC(e,t,n){if(e!==null)for(t.queue=t.queue<<8|e,t.queuedBits+=8;t.queuedBits>=6;){const r=t.queue>>t.queuedBits-6&63;n(Ry[r]),t.queuedBits-=6}else if(t.queuedBits>0)for(t.queue=t.queue<<6-t.queuedBits,t.queuedBits=6;t.queuedBits>=6;){const r=t.queue>>t.queuedBits-6&63;n(Ry[r]),t.queuedBits-=6}}function jB(e,t,n){const r=NK[e];if(r>-1)for(t.queue=t.queue<<6|r,t.queuedBits+=6;t.queuedBits>=8;)n(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else{if(r===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`)}}function MC(e){const t=[],n=o=>{t.push(String.fromCodePoint(o))},r={utf8seq:0,codepoint:0},i={queue:0,queuedBits:0},a=o=>{PK(o,r,n)};for(let o=0;o<e.length;o+=1)jB(e.charCodeAt(o),i,a);return t.join("")}function CK(e,t){if(e<=127){t(e);return}else if(e<=2047){t(192|e>>6),t(128|e&63);return}else if(e<=65535){t(224|e>>12),t(128|e>>6&63),t(128|e&63);return}else if(e<=1114111){t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),t(128|e&63);return}throw new Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}function MK(e,t){for(let n=0;n<e.length;n+=1){let r=e.charCodeAt(n);if(r>55295&&r<=56319){const i=(r-55296)*1024&65535;r=(e.charCodeAt(n+1)-56320&65535|i)+65536,n+=1}CK(r,t)}}function PK(e,t,n){if(t.utf8seq===0){if(e<=127){n(e);return}for(let r=1;r<6;r+=1)if((e>>7-r&1)===0){t.utf8seq=r;break}if(t.utf8seq===2)t.codepoint=e&31;else if(t.utf8seq===3)t.codepoint=e&15;else if(t.utf8seq===4)t.codepoint=e&7;else throw new Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|e&63,t.utf8seq-=1,t.utf8seq===0&&n(t.codepoint)}}function Cd(e){const t=[],n={queue:0,queuedBits:0},r=i=>{t.push(i)};for(let i=0;i<e.length;i+=1)jB(e.charCodeAt(i),n,r);return new Uint8Array(t)}function DK(e){const t=[];return MK(e,n=>t.push(n)),new Uint8Array(t)}function Yc(e){const t=[],n={queue:0,queuedBits:0},r=i=>{t.push(i)};return e.forEach(i=>CC(i,n,r)),CC(null,n,r),t.join("")}function RK(e){return Math.round(Date.now()/1e3)+e}function LK(){return Symbol("auth-callback")}const yr=()=>typeof window<"u"&&typeof document<"u",Ec={tested:!1,writable:!1},NB=()=>{if(!yr())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Ec.tested)return Ec.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),Ec.tested=!0,Ec.writable=!0}catch{Ec.tested=!0,Ec.writable=!1}return Ec.writable};function IK(e){const t={},n=new URL(e);if(n.hash&&n.hash[0]==="#")try{new URLSearchParams(n.hash.substring(1)).forEach((i,a)=>{t[a]=i})}catch{}return n.searchParams.forEach((r,i)=>{t[i]=r}),t}const CB=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),$K=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",bd=async(e,t,n)=>{await e.setItem(t,JSON.stringify(n))},Ac=async(e,t)=>{const n=await e.getItem(t);if(!n)return null;try{return JSON.parse(n)}catch{return n}},pr=async(e,t)=>{await e.removeItem(t)};class cv{constructor(){this.promise=new cv.promiseConstructor((t,n)=>{this.resolve=t,this.reject=n})}}cv.promiseConstructor=Promise;function Ow(e){const t=e.split(".");if(t.length!==3)throw new Dy("Invalid JWT structure");for(let r=0;r<t.length;r++)if(!TK.test(t[r]))throw new Dy("JWT not in base64url format");return{header:JSON.parse(MC(t[0])),payload:JSON.parse(MC(t[1])),signature:Cd(t[2]),raw:{header:t[0],payload:t[1]}}}async function BK(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}function zK(e,t){return new Promise((r,i)=>{(async()=>{for(let a=0;a<1/0;a++)try{const o=await e(a);if(!t(a,null,o)){r(o);return}}catch(o){if(!t(a,o)){i(o);return}}})()})}function UK(e){return("0"+e.toString(16)).substr(-2)}function FK(){const t=new Uint32Array(56);if(typeof crypto>"u"){const n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",r=n.length;let i="";for(let a=0;a<56;a++)i+=n.charAt(Math.floor(Math.random()*r));return i}return crypto.getRandomValues(t),Array.from(t,UK).join("")}async function HK(e){const n=new TextEncoder().encode(e),r=await crypto.subtle.digest("SHA-256",n),i=new Uint8Array(r);return Array.from(i).map(a=>String.fromCharCode(a)).join("")}async function GK(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const n=await HK(e);return btoa(n).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function rd(e,t,n=!1){const r=FK();let i=r;n&&(i+="/PASSWORD_RECOVERY"),await bd(e,`${t}-code-verifier`,i);const a=await GK(r);return[a,r===a?"plain":"s256"]}const qK=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function YK(e){const t=e.headers.get(hk);if(!t||!t.match(qK))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}function KK(e){if(!e)throw new Error("Missing exp claim");const t=Math.floor(Date.now()/1e3);if(e<=t)throw new Error("JWT has expired")}function WK(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const VK=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function id(e){if(!VK.test(e))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function jw(){const e={};return new Proxy(e,{get:(t,n)=>{if(n==="__isUserNotAvailableProxy")return!0;if(typeof n=="symbol"){const r=n.toString();if(r==="Symbol(Symbol.toPrimitive)"||r==="Symbol(Symbol.toStringTag)"||r==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${n}" property of the session object is not supported. Please use getUser() instead.`)},set:(t,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(t,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function ZK(e,t){return new Proxy(e,{get:(n,r,i)=>{if(r==="__isInsecureUserWarningProxy")return!0;if(typeof r=="symbol"){const a=r.toString();if(a==="Symbol(Symbol.toPrimitive)"||a==="Symbol(Symbol.toStringTag)"||a==="Symbol(util.inspect.custom)"||a==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(n,r,i)}return!t.value&&typeof r=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),t.value=!0),Reflect.get(n,r,i)}})}function PC(e){return JSON.parse(JSON.stringify(e))}const Rc=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),XK=[502,503,504];async function DC(e){var t;if(!$K(e))throw new Py(Rc(e),0);if(XK.includes(e.status))throw new Py(Rc(e),e.status);let n;try{n=await e.json()}catch(a){throw new _l(Rc(a),a)}let r;const i=YK(e);if(i&&i.getTime()>=kB["2024-01-01"].timestamp&&typeof n=="object"&&n&&typeof n.code=="string"?r=n.code:typeof n=="object"&&n&&typeof n.error_code=="string"&&(r=n.error_code),r){if(r==="weak_password")throw new pk(Rc(n),e.status,((t=n.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(r==="session_not_found")throw new ni}else if(typeof n=="object"&&n&&typeof n.weak_password=="object"&&n.weak_password&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.reasons.reduce((a,o)=>a&&typeof o=="string",!0))throw new pk(Rc(n),e.status,n.weak_password.reasons);throw new EB(Rc(n),e.status||500,r)}const JK=(e,t,n,r)=>{const i={method:e,headers:t?.headers||{}};return e==="GET"?i:(i.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t?.headers),i.body=JSON.stringify(r),Object.assign(Object.assign({},i),n))};async function et(e,t,n,r){var i;const a=Object.assign({},r?.headers);a[hk]||(a[hk]=kB["2024-01-01"].name),r?.jwt&&(a.Authorization=`Bearer ${r.jwt}`);const o=(i=r?.query)!==null&&i!==void 0?i:{};r?.redirectTo&&(o.redirect_to=r.redirectTo);const l=Object.keys(o).length?"?"+new URLSearchParams(o).toString():"",u=await QK(e,t,n+l,{headers:a,noResolveJson:r?.noResolveJson},{},r?.body);return r?.xform?r?.xform(u):{data:Object.assign({},u),error:null}}async function QK(e,t,n,r,i,a){const o=JK(t,r,i,a);let l;try{l=await e(n,Object.assign({},o))}catch(u){throw console.error(u),new Py(Rc(u),0)}if(l.ok||await DC(l),r?.noResolveJson)return l;try{return await l.json()}catch(u){await DC(u)}}function Ma(e){var t;let n=null;nW(e)&&(n=Object.assign({},e),e.expires_at||(n.expires_at=RK(e.expires_in)));const r=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:n,user:r},error:null}}function RC(e){const t=Ma(e);return!t.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((n,r)=>n&&typeof r=="string",!0)&&(t.data.weak_password=e.weak_password),t}function wl(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function eW(e){return{data:e,error:null}}function tW(e){const{action_link:t,email_otp:n,hashed_token:r,redirect_to:i,verification_type:a}=e,o=sf(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),l={action_link:t,email_otp:n,hashed_token:r,redirect_to:i,verification_type:a},u=Object.assign({},o);return{data:{properties:l,user:u},error:null}}function LC(e){return e}function nW(e){return e.access_token&&e.refresh_token&&e.expires_in}const my=["global","local","others"];let d2=class{constructor({url:t="",headers:n={},fetch:r}){this.url=t,this.headers=n,this.fetch=CB(r),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(t,n=my[0]){if(my.indexOf(n)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${my.join(", ")}`);try{return await et(this.fetch,"POST",`${this.url}/logout?scope=${n}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(r){if(Ge(r))return{data:null,error:r};throw r}}async inviteUserByEmail(t,n={}){try{return await et(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:n.data},headers:this.headers,redirectTo:n.redirectTo,xform:wl})}catch(r){if(Ge(r))return{data:{user:null},error:r};throw r}}async generateLink(t){try{const{options:n}=t,r=sf(t,["options"]),i=Object.assign(Object.assign({},r),n);return"newEmail"in r&&(i.new_email=r?.newEmail,delete i.newEmail),await et(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:i,headers:this.headers,xform:tW,redirectTo:n?.redirectTo})}catch(n){if(Ge(n))return{data:{properties:null,user:null},error:n};throw n}}async createUser(t){try{return await et(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:wl})}catch(n){if(Ge(n))return{data:{user:null},error:n};throw n}}async listUsers(t){var n,r,i,a,o,l,u;try{const f={nextPage:null,lastPage:0,total:0},h=await et(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(n=t?.page)===null||n===void 0?void 0:n.toString())!==null&&r!==void 0?r:"",per_page:(a=(i=t?.perPage)===null||i===void 0?void 0:i.toString())!==null&&a!==void 0?a:""},xform:LC});if(h.error)throw h.error;const p=await h.json(),g=(o=h.headers.get("x-total-count"))!==null&&o!==void 0?o:0,x=(u=(l=h.headers.get("link"))===null||l===void 0?void 0:l.split(","))!==null&&u!==void 0?u:[];return x.length>0&&(x.forEach(S=>{const _=parseInt(S.split(";")[0].split("=")[1].substring(0,1)),k=JSON.parse(S.split(";")[1].split("=")[1]);f[`${k}Page`]=_}),f.total=parseInt(g)),{data:Object.assign(Object.assign({},p),f),error:null}}catch(f){if(Ge(f))return{data:{users:[]},error:f};throw f}}async getUserById(t){id(t);try{return await et(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:wl})}catch(n){if(Ge(n))return{data:{user:null},error:n};throw n}}async updateUserById(t,n){id(t);try{return await et(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:n,headers:this.headers,xform:wl})}catch(r){if(Ge(r))return{data:{user:null},error:r};throw r}}async deleteUser(t,n=!1){id(t);try{return await et(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:n},xform:wl})}catch(r){if(Ge(r))return{data:{user:null},error:r};throw r}}async _listFactors(t){id(t.userId);try{const{data:n,error:r}=await et(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:i=>({data:{factors:i},error:null})});return{data:n,error:r}}catch(n){if(Ge(n))return{data:null,error:n};throw n}}async _deleteFactor(t){id(t.userId),id(t.id);try{return{data:await et(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(n){if(Ge(n))return{data:null,error:n};throw n}}async _listOAuthClients(t){var n,r,i,a,o,l,u;try{const f={nextPage:null,lastPage:0,total:0},h=await et(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(n=t?.page)===null||n===void 0?void 0:n.toString())!==null&&r!==void 0?r:"",per_page:(a=(i=t?.perPage)===null||i===void 0?void 0:i.toString())!==null&&a!==void 0?a:""},xform:LC});if(h.error)throw h.error;const p=await h.json(),g=(o=h.headers.get("x-total-count"))!==null&&o!==void 0?o:0,x=(u=(l=h.headers.get("link"))===null||l===void 0?void 0:l.split(","))!==null&&u!==void 0?u:[];return x.length>0&&(x.forEach(S=>{const _=parseInt(S.split(";")[0].split("=")[1].substring(0,1)),k=JSON.parse(S.split(";")[1].split("=")[1]);f[`${k}Page`]=_}),f.total=parseInt(g)),{data:Object.assign(Object.assign({},p),f),error:null}}catch(f){if(Ge(f))return{data:{clients:[]},error:f};throw f}}async _createOAuthClient(t){try{return await et(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:t,headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(Ge(n))return{data:null,error:n};throw n}}async _getOAuthClient(t){try{return await et(this.fetch,"GET",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(Ge(n))return{data:null,error:n};throw n}}async _updateOAuthClient(t,n){try{return await et(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${t}`,{body:n,headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(Ge(r))return{data:null,error:r};throw r}}async _deleteOAuthClient(t){try{return await et(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(n){if(Ge(n))return{data:null,error:n};throw n}}async _regenerateOAuthClientSecret(t){try{return await et(this.fetch,"POST",`${this.url}/admin/oauth/clients/${t}/regenerate_secret`,{headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(Ge(n))return{data:null,error:n};throw n}}};function IC(e={}){return{getItem:t=>e[t]||null,setItem:(t,n)=>{e[t]=n},removeItem:t=>{delete e[t]}}}const Lc={debug:!!(globalThis&&NB()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class f2 extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}let MB=class extends f2{};class rW extends f2{}async function PB(e,t,n){Lc.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const r=new globalThis.AbortController;return t>0&&setTimeout(()=>{r.abort(),Lc.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:r.signal},async i=>{if(i){Lc.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,i.name);try{return await n()}finally{Lc.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,i.name)}}else{if(t===0)throw Lc.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new MB(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(Lc.debug)try{const a=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(a,null,"  "))}catch(a){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",a)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await n()}}))}const $C={};async function iW(e,t,n){var r;const i=(r=$C[e])!==null&&r!==void 0?r:Promise.resolve(),a=Promise.race([i.catch(()=>null),t>=0?new Promise((o,l)=>{setTimeout(()=>{l(new rW(`Acquring process lock with name "${e}" timed out`))},t)}):null].filter(o=>o)).catch(o=>{if(o&&o.isAcquireTimeout)throw o;return null}).then(async()=>await n());return $C[e]=a.catch(async o=>{if(o&&o.isAcquireTimeout)return await i,null;throw o}),await a}function aW(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function DB(e){if(!/^0x[a-fA-F0-9]{40}$/.test(e))throw new Error(`@supabase/auth-js: Address "${e}" is invalid.`);return e.toLowerCase()}function oW(e){return parseInt(e,16)}function sW(e){const t=new TextEncoder().encode(e);return"0x"+Array.from(t,r=>r.toString(16).padStart(2,"0")).join("")}function lW(e){var t;const{chainId:n,domain:r,expirationTime:i,issuedAt:a=new Date,nonce:o,notBefore:l,requestId:u,resources:f,scheme:h,uri:p,version:g}=e;{if(!Number.isInteger(n))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${n}`);if(!r)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(o&&o.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${o}`);if(!p)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(g!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${g}`);if(!((t=e.statement)===null||t===void 0)&&t.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${e.statement}`)}const x=DB(e.address),S=h?`${h}://${r}`:r,_=e.statement?`${e.statement}
`:"",k=`${S} wants you to sign in with your Ethereum account:
${x}

${_}`;let T=`URI: ${p}
Version: ${g}
Chain ID: ${n}${o?`
Nonce: ${o}`:""}
Issued At: ${a.toISOString()}`;if(i&&(T+=`
Expiration Time: ${i.toISOString()}`),l&&(T+=`
Not Before: ${l.toISOString()}`),u&&(T+=`
Request ID: ${u}`),f){let N=`
Resources:`;for(const O of f){if(!O||typeof O!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${O}`);N+=`
- ${O}`}T+=N}return`${k}
${T}`}class Rn extends Error{constructor({message:t,code:n,cause:r,name:i}){var a;super(t,{cause:r}),this.__isWebAuthnError=!0,this.name=(a=i??(r instanceof Error?r.name:void 0))!==null&&a!==void 0?a:"Unknown Error",this.code=n}}class Ly extends Rn{constructor(t,n){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:n,message:t}),this.name="WebAuthnUnknownError",this.originalError=n}}function cW({error:e,options:t}){var n,r,i;const{publicKey:a}=t;if(!a)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(t.signal instanceof AbortSignal)return new Rn({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else if(e.name==="ConstraintError"){if(((n=a.authenticatorSelection)===null||n===void 0?void 0:n.requireResidentKey)===!0)return new Rn({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:e});if(t.mediation==="conditional"&&((r=a.authenticatorSelection)===null||r===void 0?void 0:r.userVerification)==="required")return new Rn({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:e});if(((i=a.authenticatorSelection)===null||i===void 0?void 0:i.userVerification)==="required")return new Rn({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:e})}else{if(e.name==="InvalidStateError")return new Rn({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:e});if(e.name==="NotAllowedError")return new Rn({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="NotSupportedError")return a.pubKeyCredParams.filter(l=>l.type==="public-key").length===0?new Rn({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:e}):new Rn({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:e});if(e.name==="SecurityError"){const o=window.location.hostname;if(RB(o)){if(a.rp.id!==o)return new Rn({message:`The RP ID "${a.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else return new Rn({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="TypeError"){if(a.user.id.byteLength<1||a.user.id.byteLength>64)return new Rn({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:e})}else if(e.name==="UnknownError")return new Rn({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new Rn({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}function uW({error:e,options:t}){const{publicKey:n}=t;if(!n)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(t.signal instanceof AbortSignal)return new Rn({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else{if(e.name==="NotAllowedError")return new Rn({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="SecurityError"){const r=window.location.hostname;if(RB(r)){if(n.rpId!==r)return new Rn({message:`The RP ID "${n.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else return new Rn({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="UnknownError")return new Rn({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new Rn({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}class dW{createNewAbortSignal(){if(this.controller){const n=new Error("Cancelling existing WebAuthn API call for new one");n.name="AbortError",this.controller.abort(n)}const t=new AbortController;return this.controller=t,t.signal}cancelCeremony(){if(this.controller){const t=new Error("Manually cancelling existing WebAuthn API call");t.name="AbortError",this.controller.abort(t),this.controller=void 0}}}const fW=new dW;function hW(e){if(!e)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(e);const{challenge:t,user:n,excludeCredentials:r}=e,i=sf(e,["challenge","user","excludeCredentials"]),a=Cd(t).buffer,o=Object.assign(Object.assign({},n),{id:Cd(n.id).buffer}),l=Object.assign(Object.assign({},i),{challenge:a,user:o});if(r&&r.length>0){l.excludeCredentials=new Array(r.length);for(let u=0;u<r.length;u++){const f=r[u];l.excludeCredentials[u]=Object.assign(Object.assign({},f),{id:Cd(f.id).buffer,type:f.type||"public-key",transports:f.transports})}}return l}function mW(e){if(!e)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(e);const{challenge:t,allowCredentials:n}=e,r=sf(e,["challenge","allowCredentials"]),i=Cd(t).buffer,a=Object.assign(Object.assign({},r),{challenge:i});if(n&&n.length>0){a.allowCredentials=new Array(n.length);for(let o=0;o<n.length;o++){const l=n[o];a.allowCredentials[o]=Object.assign(Object.assign({},l),{id:Cd(l.id).buffer,type:l.type||"public-key",transports:l.transports})}}return a}function pW(e){var t;if("toJSON"in e&&typeof e.toJSON=="function")return e.toJSON();const n=e;return{id:e.id,rawId:e.id,response:{attestationObject:Yc(new Uint8Array(e.response.attestationObject)),clientDataJSON:Yc(new Uint8Array(e.response.clientDataJSON))},type:"public-key",clientExtensionResults:e.getClientExtensionResults(),authenticatorAttachment:(t=n.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function gW(e){var t;if("toJSON"in e&&typeof e.toJSON=="function")return e.toJSON();const n=e,r=e.getClientExtensionResults(),i=e.response;return{id:e.id,rawId:e.id,response:{authenticatorData:Yc(new Uint8Array(i.authenticatorData)),clientDataJSON:Yc(new Uint8Array(i.clientDataJSON)),signature:Yc(new Uint8Array(i.signature)),userHandle:i.userHandle?Yc(new Uint8Array(i.userHandle)):void 0},type:"public-key",clientExtensionResults:r,authenticatorAttachment:(t=n.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function RB(e){return e==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(e)}function BC(){var e,t;return!!(yr()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((e=navigator?.credentials)===null||e===void 0?void 0:e.create)=="function"&&typeof((t=navigator?.credentials)===null||t===void 0?void 0:t.get)=="function")}async function yW(e){try{const t=await navigator.credentials.create(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new Ly("Browser returned unexpected credential type",t)}:{data:null,error:new Ly("Empty credential response",t)}}catch(t){return{data:null,error:cW({error:t,options:e})}}}async function bW(e){try{const t=await navigator.credentials.get(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new Ly("Browser returned unexpected credential type",t)}:{data:null,error:new Ly("Empty credential response",t)}}catch(t){return{data:null,error:uW({error:t,options:e})}}}const vW={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"direct"},xW={userVerification:"preferred",hints:["security-key"],attestation:"direct"};function Iy(...e){const t=i=>i!==null&&typeof i=="object"&&!Array.isArray(i),n=i=>i instanceof ArrayBuffer||ArrayBuffer.isView(i),r={};for(const i of e)if(i)for(const a in i){const o=i[a];if(o!==void 0)if(Array.isArray(o))r[a]=o;else if(n(o))r[a]=o;else if(t(o)){const l=r[a];t(l)?r[a]=Iy(l,o):r[a]=Iy(o)}else r[a]=o}return r}function _W(e,t){return Iy(vW,e,t||{})}function wW(e,t){return Iy(xW,e,t||{})}class SW{constructor(t){this.client=t,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(t){return this.client.mfa.enroll(Object.assign(Object.assign({},t),{factorType:"webauthn"}))}async _challenge({factorId:t,webauthn:n,friendlyName:r,signal:i},a){try{const{data:o,error:l}=await this.client.mfa.challenge({factorId:t,webauthn:n});if(!o)return{data:null,error:l};const u=i??fW.createNewAbortSignal();if(o.webauthn.type==="create"){const{user:f}=o.webauthn.credential_options.publicKey;f.name||(f.name=`${f.id}:${r}`),f.displayName||(f.displayName=f.name)}switch(o.webauthn.type){case"create":{const f=_W(o.webauthn.credential_options.publicKey,a?.create),{data:h,error:p}=await yW({publicKey:f,signal:u});return h?{data:{factorId:t,challengeId:o.id,webauthn:{type:o.webauthn.type,credential_response:h}},error:null}:{data:null,error:p}}case"request":{const f=wW(o.webauthn.credential_options.publicKey,a?.request),{data:h,error:p}=await bW(Object.assign(Object.assign({},o.webauthn.credential_options),{publicKey:f,signal:u}));return h?{data:{factorId:t,challengeId:o.id,webauthn:{type:o.webauthn.type,credential_response:h}},error:null}:{data:null,error:p}}}}catch(o){return Ge(o)?{data:null,error:o}:{data:null,error:new _l("Unexpected error in challenge",o)}}}async _verify({challengeId:t,factorId:n,webauthn:r}){return this.client.mfa.verify({factorId:n,challengeId:t,webauthn:r})}async _authenticate({factorId:t,webauthn:{rpId:n=typeof window<"u"?window.location.hostname:void 0,rpOrigins:r=typeof window<"u"?[window.location.origin]:void 0,signal:i}={}},a){if(!n)return{data:null,error:new Ud("rpId is required for WebAuthn authentication")};try{if(!BC())return{data:null,error:new _l("Browser does not support WebAuthn",null)};const{data:o,error:l}=await this.challenge({factorId:t,webauthn:{rpId:n,rpOrigins:r},signal:i},{request:a});if(!o)return{data:null,error:l};const{webauthn:u}=o;return this._verify({factorId:t,challengeId:o.challengeId,webauthn:{type:u.type,rpId:n,rpOrigins:r,credential_response:u.credential_response}})}catch(o){return Ge(o)?{data:null,error:o}:{data:null,error:new _l("Unexpected error in authenticate",o)}}}async _register({friendlyName:t,webauthn:{rpId:n=typeof window<"u"?window.location.hostname:void 0,rpOrigins:r=typeof window<"u"?[window.location.origin]:void 0,signal:i}={}},a){if(!n)return{data:null,error:new Ud("rpId is required for WebAuthn registration")};try{if(!BC())return{data:null,error:new _l("Browser does not support WebAuthn",null)};const{data:o,error:l}=await this._enroll({friendlyName:t});if(!o)return await this.client.mfa.listFactors().then(h=>{var p;return(p=h.data)===null||p===void 0?void 0:p.all.find(g=>g.factor_type==="webauthn"&&g.friendly_name===t&&g.status!=="unverified")}).then(h=>h?this.client.mfa.unenroll({factorId:h?.id}):void 0),{data:null,error:l};const{data:u,error:f}=await this._challenge({factorId:o.id,friendlyName:o.friendly_name,webauthn:{rpId:n,rpOrigins:r},signal:i},{create:a});return u?this._verify({factorId:o.id,challengeId:u.challengeId,webauthn:{rpId:n,rpOrigins:r,type:u.webauthn.type,credential_response:u.webauthn.credential_response}}):{data:null,error:f}}catch(o){return Ge(o)?{data:null,error:o}:{data:null,error:new _l("Unexpected error in register",o)}}}}aW();const kW={url:kK,storageKey:EK,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:AK,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1};async function zC(e,t,n){return await n()}const ad={};let h2=class gk{get jwks(){var t,n;return(n=(t=ad[this.storageKey])===null||t===void 0?void 0:t.jwks)!==null&&n!==void 0?n:{keys:[]}}set jwks(t){ad[this.storageKey]=Object.assign(Object.assign({},ad[this.storageKey]),{jwks:t})}get jwks_cached_at(){var t,n;return(n=(t=ad[this.storageKey])===null||t===void 0?void 0:t.cachedAt)!==null&&n!==void 0?n:Number.MIN_SAFE_INTEGER}set jwks_cached_at(t){ad[this.storageKey]=Object.assign(Object.assign({},ad[this.storageKey]),{cachedAt:t})}constructor(t){var n,r,i;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;const a=Object.assign(Object.assign({},kW),t);if(this.storageKey=a.storageKey,this.instanceID=(n=gk.nextInstanceID[this.storageKey])!==null&&n!==void 0?n:0,gk.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!a.debug,typeof a.debug=="function"&&(this.logger=a.debug),this.instanceID>0&&yr()){const o=`${this._logPrefix()} Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.`;console.warn(o),this.logDebugMessages&&console.trace(o)}if(this.persistSession=a.persistSession,this.autoRefreshToken=a.autoRefreshToken,this.admin=new d2({url:a.url,headers:a.headers,fetch:a.fetch}),this.url=a.url,this.headers=a.headers,this.fetch=CB(a.fetch),this.lock=a.lock||zC,this.detectSessionInUrl=a.detectSessionInUrl,this.flowType=a.flowType,this.hasCustomAuthorizationHeader=a.hasCustomAuthorizationHeader,this.throwOnError=a.throwOnError,a.lock?this.lock=a.lock:yr()&&(!((r=globalThis?.navigator)===null||r===void 0)&&r.locks)?this.lock=PB:this.lock=zC,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new SW(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this),listGrants:this._listOAuthGrants.bind(this),revokeGrant:this._revokeOAuthGrant.bind(this)},this.persistSession?(a.storage?this.storage=a.storage:NB()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=IC(this.memoryStorage)),a.userStorage&&(this.userStorage=a.userStorage)):(this.memoryStorage={},this.storage=IC(this.memoryStorage)),yr()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(o){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",o)}(i=this.broadcastChannel)===null||i===void 0||i.addEventListener("message",async o=>{this._debug("received broadcast notification from other tab or client",o),await this._notifyAllSubscribers(o.data.event,o.data.session,!1)})}this.initialize()}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(t){if(this.throwOnError&&t&&t.error)throw t.error;return t}_logPrefix(){return`GoTrueClient@${this.storageKey}:${this.instanceID} (${SB}) ${new Date().toISOString()}`}_debug(...t){return this.logDebugMessages&&this.logger(this._logPrefix(),...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{let n={},r="none";if(yr()&&(n=IK(window.location.href),this._isImplicitGrantCallback(n)?r="implicit":await this._isPKCECallback(n)&&(r="pkce")),yr()&&this.detectSessionInUrl&&r!=="none"){const{data:i,error:a}=await this._getSessionFromURL(n,r);if(a){if(this._debug("#_initialize()","error detecting session from URL",a),OB(a)){const u=(t=a.details)===null||t===void 0?void 0:t.code;if(u==="identity_already_exists"||u==="identity_not_found"||u==="single_identity_not_deletable")return{error:a}}return await this._removeSession(),{error:a}}const{session:o,redirectType:l}=i;return this._debug("#_initialize()","detected session in URL",o,"redirect type",l),await this._saveSession(o),setTimeout(async()=>{l==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",o):await this._notifyAllSubscribers("SIGNED_IN",o)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(n){return Ge(n)?this._returnResult({error:n}):this._returnResult({error:new _l("Unexpected error during initialization",n)})}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var n,r,i;try{const a=await et(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(r=(n=t?.options)===null||n===void 0?void 0:n.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:(i=t?.options)===null||i===void 0?void 0:i.captchaToken}},xform:Ma}),{data:o,error:l}=a;if(l||!o)return this._returnResult({data:{user:null,session:null},error:l});const u=o.session,f=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",u)),this._returnResult({data:{user:f,session:u},error:null})}catch(a){if(Ge(a))return this._returnResult({data:{user:null,session:null},error:a});throw a}}async signUp(t){var n,r,i;try{let a;if("email"in t){const{email:h,password:p,options:g}=t;let x=null,S=null;this.flowType==="pkce"&&([x,S]=await rd(this.storage,this.storageKey)),a=await et(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:g?.emailRedirectTo,body:{email:h,password:p,data:(n=g?.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:g?.captchaToken},code_challenge:x,code_challenge_method:S},xform:Ma})}else if("phone"in t){const{phone:h,password:p,options:g}=t;a=await et(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:h,password:p,data:(r=g?.data)!==null&&r!==void 0?r:{},channel:(i=g?.channel)!==null&&i!==void 0?i:"sms",gotrue_meta_security:{captcha_token:g?.captchaToken}},xform:Ma})}else throw new tm("You must provide either an email or phone number and a password");const{data:o,error:l}=a;if(l||!o)return await pr(this.storage,`${this.storageKey}-code-verifier`),this._returnResult({data:{user:null,session:null},error:l});const u=o.session,f=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",u)),this._returnResult({data:{user:f,session:u},error:null})}catch(a){if(await pr(this.storage,`${this.storageKey}-code-verifier`),Ge(a))return this._returnResult({data:{user:null,session:null},error:a});throw a}}async signInWithPassword(t){try{let n;if("email"in t){const{email:a,password:o,options:l}=t;n=await et(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:a,password:o,gotrue_meta_security:{captcha_token:l?.captchaToken}},xform:RC})}else if("phone"in t){const{phone:a,password:o,options:l}=t;n=await et(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:a,password:o,gotrue_meta_security:{captcha_token:l?.captchaToken}},xform:RC})}else throw new tm("You must provide either an email or phone number and a password");const{data:r,error:i}=n;if(i)return this._returnResult({data:{user:null,session:null},error:i});if(!r||!r.session||!r.user){const a=new Dc;return this._returnResult({data:{user:null,session:null},error:a})}return r.session&&(await this._saveSession(r.session),await this._notifyAllSubscribers("SIGNED_IN",r.session)),this._returnResult({data:Object.assign({user:r.user,session:r.session},r.weak_password?{weakPassword:r.weak_password}:null),error:i})}catch(n){if(Ge(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async signInWithOAuth(t){var n,r,i,a;return await this._handleProviderSignIn(t.provider,{redirectTo:(n=t.options)===null||n===void 0?void 0:n.redirectTo,scopes:(r=t.options)===null||r===void 0?void 0:r.scopes,queryParams:(i=t.options)===null||i===void 0?void 0:i.queryParams,skipBrowserRedirect:(a=t.options)===null||a===void 0?void 0:a.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(t))}async signInWithWeb3(t){const{chain:n}=t;switch(n){case"ethereum":return await this.signInWithEthereum(t);case"solana":return await this.signInWithSolana(t);default:throw new Error(`@supabase/auth-js: Unsupported chain "${n}"`)}}async signInWithEthereum(t){var n,r,i,a,o,l,u,f,h,p,g;let x,S;if("message"in t)x=t.message,S=t.signature;else{const{chain:_,wallet:k,statement:T,options:N}=t;let O;if(yr())if(typeof k=="object")O=k;else{const q=window;if("ethereum"in q&&typeof q.ethereum=="object"&&"request"in q.ethereum&&typeof q.ethereum.request=="function")O=q.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof k!="object"||!N?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");O=k}const P=new URL((n=N?.url)!==null&&n!==void 0?n:window.location.href),C=await O.request({method:"eth_requestAccounts"}).then(q=>q).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!C||C.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const D=DB(C[0]);let $=(r=N?.signInWithEthereum)===null||r===void 0?void 0:r.chainId;if(!$){const q=await O.request({method:"eth_chainId"});$=oW(q)}const H={domain:P.host,address:D,statement:T,uri:P.href,version:"1",chainId:$,nonce:(i=N?.signInWithEthereum)===null||i===void 0?void 0:i.nonce,issuedAt:(o=(a=N?.signInWithEthereum)===null||a===void 0?void 0:a.issuedAt)!==null&&o!==void 0?o:new Date,expirationTime:(l=N?.signInWithEthereum)===null||l===void 0?void 0:l.expirationTime,notBefore:(u=N?.signInWithEthereum)===null||u===void 0?void 0:u.notBefore,requestId:(f=N?.signInWithEthereum)===null||f===void 0?void 0:f.requestId,resources:(h=N?.signInWithEthereum)===null||h===void 0?void 0:h.resources};x=lW(H),S=await O.request({method:"personal_sign",params:[sW(x),D]})}try{const{data:_,error:k}=await et(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:x,signature:S},!((p=t.options)===null||p===void 0)&&p.captchaToken?{gotrue_meta_security:{captcha_token:(g=t.options)===null||g===void 0?void 0:g.captchaToken}}:null),xform:Ma});if(k)throw k;if(!_||!_.session||!_.user){const T=new Dc;return this._returnResult({data:{user:null,session:null},error:T})}return _.session&&(await this._saveSession(_.session),await this._notifyAllSubscribers("SIGNED_IN",_.session)),this._returnResult({data:Object.assign({},_),error:k})}catch(_){if(Ge(_))return this._returnResult({data:{user:null,session:null},error:_});throw _}}async signInWithSolana(t){var n,r,i,a,o,l,u,f,h,p,g,x;let S,_;if("message"in t)S=t.message,_=t.signature;else{const{chain:k,wallet:T,statement:N,options:O}=t;let P;if(yr())if(typeof T=="object")P=T;else{const D=window;if("solana"in D&&typeof D.solana=="object"&&("signIn"in D.solana&&typeof D.solana.signIn=="function"||"signMessage"in D.solana&&typeof D.solana.signMessage=="function"))P=D.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof T!="object"||!O?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");P=T}const C=new URL((n=O?.url)!==null&&n!==void 0?n:window.location.href);if("signIn"in P&&P.signIn){const D=await P.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},O?.signInWithSolana),{version:"1",domain:C.host,uri:C.href}),N?{statement:N}:null));let $;if(Array.isArray(D)&&D[0]&&typeof D[0]=="object")$=D[0];else if(D&&typeof D=="object"&&"signedMessage"in D&&"signature"in D)$=D;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in $&&"signature"in $&&(typeof $.signedMessage=="string"||$.signedMessage instanceof Uint8Array)&&$.signature instanceof Uint8Array)S=typeof $.signedMessage=="string"?$.signedMessage:new TextDecoder().decode($.signedMessage),_=$.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in P)||typeof P.signMessage!="function"||!("publicKey"in P)||typeof P!="object"||!P.publicKey||!("toBase58"in P.publicKey)||typeof P.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");S=[`${C.host} wants you to sign in with your Solana account:`,P.publicKey.toBase58(),...N?["",N,""]:[""],"Version: 1",`URI: ${C.href}`,`Issued At: ${(i=(r=O?.signInWithSolana)===null||r===void 0?void 0:r.issuedAt)!==null&&i!==void 0?i:new Date().toISOString()}`,...!((a=O?.signInWithSolana)===null||a===void 0)&&a.notBefore?[`Not Before: ${O.signInWithSolana.notBefore}`]:[],...!((o=O?.signInWithSolana)===null||o===void 0)&&o.expirationTime?[`Expiration Time: ${O.signInWithSolana.expirationTime}`]:[],...!((l=O?.signInWithSolana)===null||l===void 0)&&l.chainId?[`Chain ID: ${O.signInWithSolana.chainId}`]:[],...!((u=O?.signInWithSolana)===null||u===void 0)&&u.nonce?[`Nonce: ${O.signInWithSolana.nonce}`]:[],...!((f=O?.signInWithSolana)===null||f===void 0)&&f.requestId?[`Request ID: ${O.signInWithSolana.requestId}`]:[],...!((p=(h=O?.signInWithSolana)===null||h===void 0?void 0:h.resources)===null||p===void 0)&&p.length?["Resources",...O.signInWithSolana.resources.map($=>`- ${$}`)]:[]].join(`
`);const D=await P.signMessage(new TextEncoder().encode(S),"utf8");if(!D||!(D instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");_=D}}try{const{data:k,error:T}=await et(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:S,signature:Yc(_)},!((g=t.options)===null||g===void 0)&&g.captchaToken?{gotrue_meta_security:{captcha_token:(x=t.options)===null||x===void 0?void 0:x.captchaToken}}:null),xform:Ma});if(T)throw T;if(!k||!k.session||!k.user){const N=new Dc;return this._returnResult({data:{user:null,session:null},error:N})}return k.session&&(await this._saveSession(k.session),await this._notifyAllSubscribers("SIGNED_IN",k.session)),this._returnResult({data:Object.assign({},k),error:T})}catch(k){if(Ge(k))return this._returnResult({data:{user:null,session:null},error:k});throw k}}async _exchangeCodeForSession(t){const n=await Ac(this.storage,`${this.storageKey}-code-verifier`),[r,i]=(n??"").split("/");try{const{data:a,error:o}=await et(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:r},xform:Ma});if(await pr(this.storage,`${this.storageKey}-code-verifier`),o)throw o;if(!a||!a.session||!a.user){const l=new Dc;return this._returnResult({data:{user:null,session:null,redirectType:null},error:l})}return a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",a.session)),this._returnResult({data:Object.assign(Object.assign({},a),{redirectType:i??null}),error:o})}catch(a){if(await pr(this.storage,`${this.storageKey}-code-verifier`),Ge(a))return this._returnResult({data:{user:null,session:null,redirectType:null},error:a});throw a}}async signInWithIdToken(t){try{const{options:n,provider:r,token:i,access_token:a,nonce:o}=t,l=await et(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:r,id_token:i,access_token:a,nonce:o,gotrue_meta_security:{captcha_token:n?.captchaToken}},xform:Ma}),{data:u,error:f}=l;if(f)return this._returnResult({data:{user:null,session:null},error:f});if(!u||!u.session||!u.user){const h=new Dc;return this._returnResult({data:{user:null,session:null},error:h})}return u.session&&(await this._saveSession(u.session),await this._notifyAllSubscribers("SIGNED_IN",u.session)),this._returnResult({data:u,error:f})}catch(n){if(Ge(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async signInWithOtp(t){var n,r,i,a,o;try{if("email"in t){const{email:l,options:u}=t;let f=null,h=null;this.flowType==="pkce"&&([f,h]=await rd(this.storage,this.storageKey));const{error:p}=await et(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:l,data:(n=u?.data)!==null&&n!==void 0?n:{},create_user:(r=u?.shouldCreateUser)!==null&&r!==void 0?r:!0,gotrue_meta_security:{captcha_token:u?.captchaToken},code_challenge:f,code_challenge_method:h},redirectTo:u?.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:p})}if("phone"in t){const{phone:l,options:u}=t,{data:f,error:h}=await et(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:l,data:(i=u?.data)!==null&&i!==void 0?i:{},create_user:(a=u?.shouldCreateUser)!==null&&a!==void 0?a:!0,gotrue_meta_security:{captcha_token:u?.captchaToken},channel:(o=u?.channel)!==null&&o!==void 0?o:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:f?.message_id},error:h})}throw new tm("You must provide either an email or phone number.")}catch(l){if(await pr(this.storage,`${this.storageKey}-code-verifier`),Ge(l))return this._returnResult({data:{user:null,session:null},error:l});throw l}}async verifyOtp(t){var n,r;try{let i,a;"options"in t&&(i=(n=t.options)===null||n===void 0?void 0:n.redirectTo,a=(r=t.options)===null||r===void 0?void 0:r.captchaToken);const{data:o,error:l}=await et(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:a}}),redirectTo:i,xform:Ma});if(l)throw l;if(!o)throw new Error("An error occurred on token verification.");const u=o.session,f=o.user;return u?.access_token&&(await this._saveSession(u),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",u)),this._returnResult({data:{user:f,session:u},error:null})}catch(i){if(Ge(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}}async signInWithSSO(t){var n,r,i,a,o;try{let l=null,u=null;this.flowType==="pkce"&&([l,u]=await rd(this.storage,this.storageKey));const f=await et(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(r=(n=t.options)===null||n===void 0?void 0:n.redirectTo)!==null&&r!==void 0?r:void 0}),!((i=t?.options)===null||i===void 0)&&i.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:l,code_challenge_method:u}),headers:this.headers,xform:eW});return!((a=f.data)===null||a===void 0)&&a.url&&yr()&&!(!((o=t.options)===null||o===void 0)&&o.skipBrowserRedirect)&&window.location.assign(f.data.url),this._returnResult(f)}catch(l){if(await pr(this.storage,`${this.storageKey}-code-verifier`),Ge(l))return this._returnResult({data:null,error:l});throw l}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:n},error:r}=t;if(r)throw r;if(!n)throw new ni;const{error:i}=await et(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:n.access_token});return this._returnResult({data:{user:null,session:null},error:i})})}catch(t){if(Ge(t))return this._returnResult({data:{user:null,session:null},error:t});throw t}}async resend(t){try{const n=`${this.url}/resend`;if("email"in t){const{email:r,type:i,options:a}=t,{error:o}=await et(this.fetch,"POST",n,{headers:this.headers,body:{email:r,type:i,gotrue_meta_security:{captcha_token:a?.captchaToken}},redirectTo:a?.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:o})}else if("phone"in t){const{phone:r,type:i,options:a}=t,{data:o,error:l}=await et(this.fetch,"POST",n,{headers:this.headers,body:{phone:r,type:i,gotrue_meta_security:{captcha_token:a?.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:o?.message_id},error:l})}throw new tm("You must provide either an email or phone number and a type")}catch(n){if(Ge(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async n=>n))}async _acquireLock(t,n){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const r=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),i=(async()=>(await r,await n()))();return this.pendingInLock.push((async()=>{try{await i}catch{}})()),i}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const r=n();for(this.pendingInLock.push((async()=>{try{await r}catch{}})()),await r;this.pendingInLock.length;){const i=[...this.pendingInLock];await Promise.all(i),this.pendingInLock.splice(0,i.length)}return await r}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const n=await this.__loadSession();return await t(n)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const n=await Ac(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",n),n!==null&&(this._isValidSession(n)?t=n:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const r=t.expires_at?t.expires_at*1e3-Date.now()<Tw:!1;if(this._debug("#__loadSession()",`session has${r?"":" not"} expired`,"expires_at",t.expires_at),!r){if(this.userStorage){const o=await Ac(this.userStorage,this.storageKey+"-user");o?.user?t.user=o.user:t.user=jw()}if(this.storage.isServer&&t.user&&!t.user.__isUserNotAvailableProxy){const o={value:this.suppressGetSessionWarning};t.user=ZK(t.user,o),o.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:t},error:null}}const{data:i,error:a}=await this._callRefreshToken(t.refresh_token);return a?this._returnResult({data:{session:null},error:a}):this._returnResult({data:{session:i},error:null})}finally{this._debug("#__loadSession()","end")}}async getUser(t){if(t)return await this._getUser(t);await this.initializePromise;const n=await this._acquireLock(-1,async()=>await this._getUser());return n.data.user&&(this.suppressGetSessionWarning=!0),n}async _getUser(t){try{return t?await et(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:wl}):await this._useSession(async n=>{var r,i,a;const{data:o,error:l}=n;if(l)throw l;return!(!((r=o.session)===null||r===void 0)&&r.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new ni}:await et(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(a=(i=o.session)===null||i===void 0?void 0:i.access_token)!==null&&a!==void 0?a:void 0,xform:wl})})}catch(n){if(Ge(n))return TB(n)&&(await this._removeSession(),await pr(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({data:{user:null},error:n});throw n}}async updateUser(t,n={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(t,n))}async _updateUser(t,n={}){try{return await this._useSession(async r=>{const{data:i,error:a}=r;if(a)throw a;if(!i.session)throw new ni;const o=i.session;let l=null,u=null;this.flowType==="pkce"&&t.email!=null&&([l,u]=await rd(this.storage,this.storageKey));const{data:f,error:h}=await et(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:n?.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:l,code_challenge_method:u}),jwt:o.access_token,xform:wl});if(h)throw h;return o.user=f.user,await this._saveSession(o),await this._notifyAllSubscribers("USER_UPDATED",o),this._returnResult({data:{user:o.user},error:null})})}catch(r){if(await pr(this.storage,`${this.storageKey}-code-verifier`),Ge(r))return this._returnResult({data:{user:null},error:r});throw r}}async setSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new ni;const n=Date.now()/1e3;let r=n,i=!0,a=null;const{payload:o}=Ow(t.access_token);if(o.exp&&(r=o.exp,i=r<=n),i){const{data:l,error:u}=await this._callRefreshToken(t.refresh_token);if(u)return this._returnResult({data:{user:null,session:null},error:u});if(!l)return{data:{user:null,session:null},error:null};a=l}else{const{data:l,error:u}=await this._getUser(t.access_token);if(u)throw u;a={access_token:t.access_token,refresh_token:t.refresh_token,user:l.user,token_type:"bearer",expires_in:r-n,expires_at:r},await this._saveSession(a),await this._notifyAllSubscribers("SIGNED_IN",a)}return this._returnResult({data:{user:a.user,session:a},error:null})}catch(n){if(Ge(n))return this._returnResult({data:{session:null,user:null},error:n});throw n}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async n=>{var r;if(!t){const{data:o,error:l}=n;if(l)throw l;t=(r=o.session)!==null&&r!==void 0?r:void 0}if(!t?.refresh_token)throw new ni;const{data:i,error:a}=await this._callRefreshToken(t.refresh_token);return a?this._returnResult({data:{user:null,session:null},error:a}):i?this._returnResult({data:{user:i.user,session:i},error:null}):this._returnResult({data:{user:null,session:null},error:null})})}catch(n){if(Ge(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async _getSessionFromURL(t,n){try{if(!yr())throw new nm("No browser detected.");if(t.error||t.error_description||t.error_code)throw new nm(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(n){case"implicit":if(this.flowType==="pkce")throw new mk("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new nm("Not a valid implicit grant flow url.");break;default:}if(n==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new mk("No code detected.");const{data:N,error:O}=await this._exchangeCodeForSession(t.code);if(O)throw O;const P=new URL(window.location.href);return P.searchParams.delete("code"),window.history.replaceState(window.history.state,"",P.toString()),{data:{session:N.session,redirectType:null},error:null}}const{provider_token:r,provider_refresh_token:i,access_token:a,refresh_token:o,expires_in:l,expires_at:u,token_type:f}=t;if(!a||!l||!o||!f)throw new nm("No session defined in URL");const h=Math.round(Date.now()/1e3),p=parseInt(l);let g=h+p;u&&(g=parseInt(u));const x=g-h;x*1e3<=yd&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${x}s, should have been closer to ${p}s`);const S=g-p;h-S>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",S,g,h):h-S<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",S,g,h);const{data:_,error:k}=await this._getUser(a);if(k)throw k;const T={provider_token:r,provider_refresh_token:i,access_token:a,expires_in:p,expires_at:g,refresh_token:o,token_type:f,user:_.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:T,redirectType:t.type},error:null})}catch(r){if(Ge(r))return this._returnResult({data:{session:null,redirectType:null},error:r});throw r}}_isImplicitGrantCallback(t){return!!(t.access_token||t.error_description)}async _isPKCECallback(t){const n=await Ac(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&n)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async n=>{var r;const{data:i,error:a}=n;if(a)return this._returnResult({error:a});const o=(r=i.session)===null||r===void 0?void 0:r.access_token;if(o){const{error:l}=await this.admin.signOut(o,t);if(l&&!(AB(l)&&(l.status===404||l.status===401||l.status===403)))return this._returnResult({error:l})}return t!=="others"&&(await this._removeSession(),await pr(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({error:null})})}onAuthStateChange(t){const n=LK(),r={id:n,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",n),this.stateChangeEmitters.delete(n)}};return this._debug("#onAuthStateChange()","registered callback with id",n),this.stateChangeEmitters.set(n,r),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(n)})))(),{data:{subscription:r}}}async _emitInitialSession(t){return await this._useSession(async n=>{var r,i;try{const{data:{session:a},error:o}=n;if(o)throw o;await((r=this.stateChangeEmitters.get(t))===null||r===void 0?void 0:r.callback("INITIAL_SESSION",a)),this._debug("INITIAL_SESSION","callback id",t,"session",a)}catch(a){await((i=this.stateChangeEmitters.get(t))===null||i===void 0?void 0:i.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",a),console.error(a)}})}async resetPasswordForEmail(t,n={}){let r=null,i=null;this.flowType==="pkce"&&([r,i]=await rd(this.storage,this.storageKey,!0));try{return await et(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:r,code_challenge_method:i,gotrue_meta_security:{captcha_token:n.captchaToken}},headers:this.headers,redirectTo:n.redirectTo})}catch(a){if(await pr(this.storage,`${this.storageKey}-code-verifier`),Ge(a))return this._returnResult({data:null,error:a});throw a}}async getUserIdentities(){var t;try{const{data:n,error:r}=await this.getUser();if(r)throw r;return this._returnResult({data:{identities:(t=n.user.identities)!==null&&t!==void 0?t:[]},error:null})}catch(n){if(Ge(n))return this._returnResult({data:null,error:n});throw n}}async linkIdentity(t){return"token"in t?this.linkIdentityIdToken(t):this.linkIdentityOAuth(t)}async linkIdentityOAuth(t){var n;try{const{data:r,error:i}=await this._useSession(async a=>{var o,l,u,f,h;const{data:p,error:g}=a;if(g)throw g;const x=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(o=t.options)===null||o===void 0?void 0:o.redirectTo,scopes:(l=t.options)===null||l===void 0?void 0:l.scopes,queryParams:(u=t.options)===null||u===void 0?void 0:u.queryParams,skipBrowserRedirect:!0});return await et(this.fetch,"GET",x,{headers:this.headers,jwt:(h=(f=p.session)===null||f===void 0?void 0:f.access_token)!==null&&h!==void 0?h:void 0})});if(i)throw i;return yr()&&!(!((n=t.options)===null||n===void 0)&&n.skipBrowserRedirect)&&window.location.assign(r?.url),this._returnResult({data:{provider:t.provider,url:r?.url},error:null})}catch(r){if(Ge(r))return this._returnResult({data:{provider:t.provider,url:null},error:r});throw r}}async linkIdentityIdToken(t){return await this._useSession(async n=>{var r;try{const{error:i,data:{session:a}}=n;if(i)throw i;const{options:o,provider:l,token:u,access_token:f,nonce:h}=t,p=await et(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(r=a?.access_token)!==null&&r!==void 0?r:void 0,body:{provider:l,id_token:u,access_token:f,nonce:h,link_identity:!0,gotrue_meta_security:{captcha_token:o?.captchaToken}},xform:Ma}),{data:g,error:x}=p;return x?this._returnResult({data:{user:null,session:null},error:x}):!g||!g.session||!g.user?this._returnResult({data:{user:null,session:null},error:new Dc}):(g.session&&(await this._saveSession(g.session),await this._notifyAllSubscribers("USER_UPDATED",g.session)),this._returnResult({data:g,error:x}))}catch(i){if(await pr(this.storage,`${this.storageKey}-code-verifier`),Ge(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}})}async unlinkIdentity(t){try{return await this._useSession(async n=>{var r,i;const{data:a,error:o}=n;if(o)throw o;return await et(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(i=(r=a.session)===null||r===void 0?void 0:r.access_token)!==null&&i!==void 0?i:void 0})})}catch(n){if(Ge(n))return this._returnResult({data:null,error:n});throw n}}async _refreshAccessToken(t){const n=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(n,"begin");try{const r=Date.now();return await zK(async i=>(i>0&&await BK(200*Math.pow(2,i-1)),this._debug(n,"refreshing attempt",i),await et(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:Ma})),(i,a)=>{const o=200*Math.pow(2,i);return a&&hy(a)&&Date.now()+o-r<yd})}catch(r){if(this._debug(n,"error",r),Ge(r))return this._returnResult({data:{session:null,user:null},error:r});throw r}finally{this._debug(n,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,n){const r=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:n.redirectTo,scopes:n.scopes,queryParams:n.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",n,"url",r),yr()&&!n.skipBrowserRedirect&&window.location.assign(r),{data:{provider:t,url:r},error:null}}async _recoverAndRefresh(){var t,n;const r="#_recoverAndRefresh()";this._debug(r,"begin");try{const i=await Ac(this.storage,this.storageKey);if(i&&this.userStorage){let o=await Ac(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!o&&(o={user:i.user},await bd(this.userStorage,this.storageKey+"-user",o)),i.user=(t=o?.user)!==null&&t!==void 0?t:jw()}else if(i&&!i.user&&!i.user){const o=await Ac(this.storage,this.storageKey+"-user");o&&o?.user?(i.user=o.user,await pr(this.storage,this.storageKey+"-user"),await bd(this.storage,this.storageKey,i)):i.user=jw()}if(this._debug(r,"session from storage",i),!this._isValidSession(i)){this._debug(r,"session is not valid"),i!==null&&await this._removeSession();return}const a=((n=i.expires_at)!==null&&n!==void 0?n:1/0)*1e3-Date.now()<Tw;if(this._debug(r,`session has${a?"":" not"} expired with margin of ${Tw}s`),a){if(this.autoRefreshToken&&i.refresh_token){const{error:o}=await this._callRefreshToken(i.refresh_token);o&&(console.error(o),hy(o)||(this._debug(r,"refresh failed with a non-retryable error, removing the session",o),await this._removeSession()))}}else if(i.user&&i.user.__isUserNotAvailableProxy===!0)try{const{data:o,error:l}=await this._getUser(i.access_token);!l&&o?.user?(i.user=o.user,await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)):this._debug(r,"could not get user data, skipping SIGNED_IN notification")}catch(o){console.error("Error getting user data:",o),this._debug(r,"error getting user data, skipping SIGNED_IN notification",o)}else await this._notifyAllSubscribers("SIGNED_IN",i)}catch(i){this._debug(r,"error",i),console.error(i);return}finally{this._debug(r,"end")}}async _callRefreshToken(t){var n,r;if(!t)throw new ni;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const i=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(i,"begin");try{this.refreshingDeferred=new cv;const{data:a,error:o}=await this._refreshAccessToken(t);if(o)throw o;if(!a.session)throw new ni;await this._saveSession(a.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",a.session);const l={data:a.session,error:null};return this.refreshingDeferred.resolve(l),l}catch(a){if(this._debug(i,"error",a),Ge(a)){const o={data:null,error:a};return hy(a)||await this._removeSession(),(n=this.refreshingDeferred)===null||n===void 0||n.resolve(o),o}throw(r=this.refreshingDeferred)===null||r===void 0||r.reject(a),a}finally{this.refreshingDeferred=null,this._debug(i,"end")}}async _notifyAllSubscribers(t,n,r=!0){const i=`#_notifyAllSubscribers(${t})`;this._debug(i,"begin",n,`broadcast = ${r}`);try{this.broadcastChannel&&r&&this.broadcastChannel.postMessage({event:t,session:n});const a=[],o=Array.from(this.stateChangeEmitters.values()).map(async l=>{try{await l.callback(t,n)}catch(u){a.push(u)}});if(await Promise.all(o),a.length>0){for(let l=0;l<a.length;l+=1)console.error(a[l]);throw a[0]}}finally{this._debug(i,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0,await pr(this.storage,`${this.storageKey}-code-verifier`);const n=Object.assign({},t),r=n.user&&n.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!r&&n.user&&await bd(this.userStorage,this.storageKey+"-user",{user:n.user});const i=Object.assign({},n);delete i.user;const a=PC(i);await bd(this.storage,this.storageKey,a)}else{const i=PC(n);await bd(this.storage,this.storageKey,i)}}async _removeSession(){this._debug("#_removeSession()"),this.suppressGetSessionWarning=!1,await pr(this.storage,this.storageKey),await pr(this.storage,this.storageKey+"-code-verifier"),await pr(this.storage,this.storageKey+"-user"),this.userStorage&&await pr(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&yr()&&window?.removeEventListener&&window.removeEventListener("visibilitychange",t)}catch(n){console.error("removing visibilitychange callback failed",n)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),yd);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async n=>{const{data:{session:r}}=n;if(!r||!r.refresh_token||!r.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const i=Math.floor((r.expires_at*1e3-t)/yd);this._debug("#_autoRefreshTokenTick()",`access token expires in ${i} ticks, a tick lasts ${yd}ms, refresh threshold is ${fk} ticks`),i<=fk&&await this._callRefreshToken(r.refresh_token)})}catch(n){console.error("Auto refresh tick failed with error. This is likely a transient error.",n)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof f2)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!yr()||!window?.addEventListener)return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window?.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const n=`#_onVisibilityChanged(${t})`;this._debug(n,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(n,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,n,r){const i=[`provider=${encodeURIComponent(n)}`];if(r?.redirectTo&&i.push(`redirect_to=${encodeURIComponent(r.redirectTo)}`),r?.scopes&&i.push(`scopes=${encodeURIComponent(r.scopes)}`),this.flowType==="pkce"){const[a,o]=await rd(this.storage,this.storageKey),l=new URLSearchParams({code_challenge:`${encodeURIComponent(a)}`,code_challenge_method:`${encodeURIComponent(o)}`});i.push(l.toString())}if(r?.queryParams){const a=new URLSearchParams(r.queryParams);i.push(a.toString())}return r?.skipBrowserRedirect&&i.push(`skip_http_redirect=${r.skipBrowserRedirect}`),`${t}?${i.join("&")}`}async _unenroll(t){try{return await this._useSession(async n=>{var r;const{data:i,error:a}=n;return a?this._returnResult({data:null,error:a}):await et(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(r=i?.session)===null||r===void 0?void 0:r.access_token})})}catch(n){if(Ge(n))return this._returnResult({data:null,error:n});throw n}}async _enroll(t){try{return await this._useSession(async n=>{var r,i;const{data:a,error:o}=n;if(o)return this._returnResult({data:null,error:o});const l=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:t.factorType==="totp"?{issuer:t.issuer}:{}),{data:u,error:f}=await et(this.fetch,"POST",`${this.url}/factors`,{body:l,headers:this.headers,jwt:(r=a?.session)===null||r===void 0?void 0:r.access_token});return f?this._returnResult({data:null,error:f}):(t.factorType==="totp"&&u.type==="totp"&&(!((i=u?.totp)===null||i===void 0)&&i.qr_code)&&(u.totp.qr_code=`data:image/svg+xml;utf-8,${u.totp.qr_code}`),this._returnResult({data:u,error:null}))})}catch(n){if(Ge(n))return this._returnResult({data:null,error:n});throw n}}async _verify(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var r;const{data:i,error:a}=n;if(a)return this._returnResult({data:null,error:a});const o=Object.assign({challenge_id:t.challengeId},"webauthn"in t?{webauthn:Object.assign(Object.assign({},t.webauthn),{credential_response:t.webauthn.type==="create"?pW(t.webauthn.credential_response):gW(t.webauthn.credential_response)})}:{code:t.code}),{data:l,error:u}=await et(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:o,headers:this.headers,jwt:(r=i?.session)===null||r===void 0?void 0:r.access_token});return u?this._returnResult({data:null,error:u}):(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+l.expires_in},l)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",l),this._returnResult({data:l,error:u}))})}catch(n){if(Ge(n))return this._returnResult({data:null,error:n});throw n}})}async _challenge(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var r;const{data:i,error:a}=n;if(a)return this._returnResult({data:null,error:a});const o=await et(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:t,headers:this.headers,jwt:(r=i?.session)===null||r===void 0?void 0:r.access_token});if(o.error)return o;const{data:l}=o;if(l.type!=="webauthn")return{data:l,error:null};switch(l.webauthn.type){case"create":return{data:Object.assign(Object.assign({},l),{webauthn:Object.assign(Object.assign({},l.webauthn),{credential_options:Object.assign(Object.assign({},l.webauthn.credential_options),{publicKey:hW(l.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},l),{webauthn:Object.assign(Object.assign({},l.webauthn),{credential_options:Object.assign(Object.assign({},l.webauthn.credential_options),{publicKey:mW(l.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(n){if(Ge(n))return this._returnResult({data:null,error:n});throw n}})}async _challengeAndVerify(t){const{data:n,error:r}=await this._challenge({factorId:t.factorId});return r?this._returnResult({data:null,error:r}):await this._verify({factorId:t.factorId,challengeId:n.id,code:t.code})}async _listFactors(){var t;const{data:{user:n},error:r}=await this.getUser();if(r)return{data:null,error:r};const i={all:[],phone:[],totp:[],webauthn:[]};for(const a of(t=n?.factors)!==null&&t!==void 0?t:[])i.all.push(a),a.status==="verified"&&i[a.factor_type].push(a);return{data:i,error:null}}async _getAuthenticatorAssuranceLevel(){var t,n;const{data:{session:r},error:i}=await this.getSession();if(i)return this._returnResult({data:null,error:i});if(!r)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:a}=Ow(r.access_token);let o=null;a.aal&&(o=a.aal);let l=o;((n=(t=r.user.factors)===null||t===void 0?void 0:t.filter(h=>h.status==="verified"))!==null&&n!==void 0?n:[]).length>0&&(l="aal2");const f=a.amr||[];return{data:{currentLevel:o,nextLevel:l,currentAuthenticationMethods:f},error:null}}async _getAuthorizationDetails(t){try{return await this._useSession(async n=>{const{data:{session:r},error:i}=n;return i?this._returnResult({data:null,error:i}):r?await et(this.fetch,"GET",`${this.url}/oauth/authorizations/${t}`,{headers:this.headers,jwt:r.access_token,xform:a=>({data:a,error:null})}):this._returnResult({data:null,error:new ni})})}catch(n){if(Ge(n))return this._returnResult({data:null,error:n});throw n}}async _approveAuthorization(t,n){try{return await this._useSession(async r=>{const{data:{session:i},error:a}=r;if(a)return this._returnResult({data:null,error:a});if(!i)return this._returnResult({data:null,error:new ni});const o=await et(this.fetch,"POST",`${this.url}/oauth/authorizations/${t}/consent`,{headers:this.headers,jwt:i.access_token,body:{action:"approve"},xform:l=>({data:l,error:null})});return o.data&&o.data.redirect_url&&yr()&&!n?.skipBrowserRedirect&&window.location.assign(o.data.redirect_url),o})}catch(r){if(Ge(r))return this._returnResult({data:null,error:r});throw r}}async _denyAuthorization(t,n){try{return await this._useSession(async r=>{const{data:{session:i},error:a}=r;if(a)return this._returnResult({data:null,error:a});if(!i)return this._returnResult({data:null,error:new ni});const o=await et(this.fetch,"POST",`${this.url}/oauth/authorizations/${t}/consent`,{headers:this.headers,jwt:i.access_token,body:{action:"deny"},xform:l=>({data:l,error:null})});return o.data&&o.data.redirect_url&&yr()&&!n?.skipBrowserRedirect&&window.location.assign(o.data.redirect_url),o})}catch(r){if(Ge(r))return this._returnResult({data:null,error:r});throw r}}async _listOAuthGrants(){try{return await this._useSession(async t=>{const{data:{session:n},error:r}=t;return r?this._returnResult({data:null,error:r}):n?await et(this.fetch,"GET",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:n.access_token,xform:i=>({data:i,error:null})}):this._returnResult({data:null,error:new ni})})}catch(t){if(Ge(t))return this._returnResult({data:null,error:t});throw t}}async _revokeOAuthGrant(t){try{return await this._useSession(async n=>{const{data:{session:r},error:i}=n;return i?this._returnResult({data:null,error:i}):r?(await et(this.fetch,"DELETE",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:r.access_token,query:{client_id:t.clientId},noResolveJson:!0}),{data:{},error:null}):this._returnResult({data:null,error:new ni})})}catch(n){if(Ge(n))return this._returnResult({data:null,error:n});throw n}}async fetchJwk(t,n={keys:[]}){let r=n.keys.find(l=>l.kid===t);if(r)return r;const i=Date.now();if(r=this.jwks.keys.find(l=>l.kid===t),r&&this.jwks_cached_at+OK>i)return r;const{data:a,error:o}=await et(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(o)throw o;return!a.keys||a.keys.length===0||(this.jwks=a,this.jwks_cached_at=i,r=a.keys.find(l=>l.kid===t),!r)?null:r}async getClaims(t,n={}){try{let r=t;if(!r){const{data:x,error:S}=await this.getSession();if(S||!x.session)return this._returnResult({data:null,error:S});r=x.session.access_token}const{header:i,payload:a,signature:o,raw:{header:l,payload:u}}=Ow(r);n?.allowExpired||KK(a.exp);const f=!i.alg||i.alg.startsWith("HS")||!i.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(i.kid,n?.keys?{keys:n.keys}:n?.jwks);if(!f){const{error:x}=await this.getUser(r);if(x)throw x;return{data:{claims:a,header:i,signature:o},error:null}}const h=WK(i.alg),p=await crypto.subtle.importKey("jwk",f,h,!0,["verify"]);if(!await crypto.subtle.verify(h,p,o,DK(`${l}.${u}`)))throw new Dy("Invalid JWT signature");return{data:{claims:a,header:i,signature:o},error:null}}catch(r){if(Ge(r))return this._returnResult({data:null,error:r});throw r}}};h2.nextInstanceID={};const EW=d2,AW=h2,TW=Object.freeze(Object.defineProperty({__proto__:null,AuthAdminApi:EW,AuthApiError:EB,AuthClient:AW,AuthError:Ud,AuthImplicitGrantRedirectError:nm,AuthInvalidCredentialsError:tm,AuthInvalidJwtError:Dy,AuthInvalidTokenResponseError:Dc,AuthPKCEGrantCodeExchangeError:mk,AuthRetryableFetchError:Py,AuthSessionMissingError:ni,AuthUnknownError:_l,AuthWeakPasswordError:pk,CustomAuthError:ks,GoTrueAdminApi:d2,GoTrueClient:h2,NavigatorLockAcquireTimeoutError:MB,SIGN_OUT_SCOPES:my,isAuthApiError:AB,isAuthError:Ge,isAuthImplicitGrantRedirectError:OB,isAuthRetryableFetchError:hy,isAuthSessionMissingError:TB,isAuthWeakPasswordError:jK,lockInternals:Lc,navigatorLock:PB,processLock:iW},Symbol.toStringTag,{value:"Module"})),LB=Km(TW);var UC;function OW(){if(UC)return Ch;UC=1,Object.defineProperty(Ch,"__esModule",{value:!0}),Ch.SupabaseAuthClient=void 0;const e=LB;let t=class extends e.AuthClient{constructor(r){super(r)}};return Ch.SupabaseAuthClient=t,Ch}var FC;function HC(){if(FC)return a0;FC=1,Object.defineProperty(a0,"__esModule",{value:!0});const e=W$,t=eB(),n=cB,r=vK,i=_K(),a=wK(),o=SK(),l=OW();class u{constructor(h,p,g){var x,S,_;this.supabaseUrl=h,this.supabaseKey=p;const k=(0,o.validateSupabaseUrl)(h);if(!p)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",k),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",k),this.storageUrl=new URL("storage/v1",k),this.functionsUrl=new URL("functions/v1",k);const T=`sb-${k.hostname.split(".")[0]}-auth-token`,N={db:i.DEFAULT_DB_OPTIONS,realtime:i.DEFAULT_REALTIME_OPTIONS,auth:Object.assign(Object.assign({},i.DEFAULT_AUTH_OPTIONS),{storageKey:T}),global:i.DEFAULT_GLOBAL_OPTIONS},O=(0,o.applySettingDefaults)(g??{},N);this.storageKey=(x=O.auth.storageKey)!==null&&x!==void 0?x:"",this.headers=(S=O.global.headers)!==null&&S!==void 0?S:{},O.accessToken?(this.accessToken=O.accessToken,this.auth=new Proxy({},{get:(P,C)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(C)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((_=O.auth)!==null&&_!==void 0?_:{},this.headers,O.global.fetch),this.fetch=(0,a.fetchWithAuth)(p,this._getAccessToken.bind(this),O.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},O.realtime)),this.accessToken&&this.accessToken().then(P=>this.realtime.setAuth(P)).catch(P=>console.warn("Failed to set initial Realtime auth token:",P)),this.rest=new t.PostgrestClient(new URL("rest/v1",k).href,{headers:this.headers,schema:O.db.schema,fetch:this.fetch}),this.storage=new r.StorageClient(this.storageUrl.href,this.headers,this.fetch,g?.storage),O.accessToken||this._listenForAuthEvents()}get functions(){return new e.FunctionsClient(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(h){return this.rest.from(h)}schema(h){return this.rest.schema(h)}rpc(h,p={},g={head:!1,get:!1,count:void 0}){return this.rest.rpc(h,p,g)}channel(h,p={config:{}}){return this.realtime.channel(h,p)}getChannels(){return this.realtime.getChannels()}removeChannel(h){return this.realtime.removeChannel(h)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var h,p;if(this.accessToken)return await this.accessToken();const{data:g}=await this.auth.getSession();return(p=(h=g.session)===null||h===void 0?void 0:h.access_token)!==null&&p!==void 0?p:this.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:h,persistSession:p,detectSessionInUrl:g,storage:x,userStorage:S,storageKey:_,flowType:k,lock:T,debug:N,throwOnError:O},P,C){const D={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new l.SupabaseAuthClient({url:this.authUrl.href,headers:Object.assign(Object.assign({},D),P),storageKey:_,autoRefreshToken:h,persistSession:p,detectSessionInUrl:g,storage:x,userStorage:S,flowType:k,lock:T,debug:N,throwOnError:O,fetch:C,hasCustomAuthorizationHeader:Object.keys(this.headers).some($=>$.toLowerCase()==="authorization")})}_initRealtimeClient(h){return new n.RealtimeClient(this.realtimeUrl.href,Object.assign(Object.assign({},h),{params:Object.assign({apikey:this.supabaseKey},h?.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((p,g)=>{this._handleTokenChanged(p,"CLIENT",g?.access_token)})}_handleTokenChanged(h,p,g){(h==="TOKEN_REFRESHED"||h==="SIGNED_IN")&&this.changedAccessToken!==g?(this.changedAccessToken=g,this.realtime.setAuth(g)):h==="SIGNED_OUT"&&(this.realtime.setAuth(),p=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}return a0.default=u,a0}var GC;function jW(){return GC||(GC=1,(function(e){var t=ns&&ns.__createBinding||(Object.create?(function(h,p,g,x){x===void 0&&(x=g);var S=Object.getOwnPropertyDescriptor(p,g);(!S||("get"in S?!p.__esModule:S.writable||S.configurable))&&(S={enumerable:!0,get:function(){return p[g]}}),Object.defineProperty(h,x,S)}):(function(h,p,g,x){x===void 0&&(x=g),h[x]=p[g]})),n=ns&&ns.__exportStar||function(h,p){for(var g in h)g!=="default"&&!Object.prototype.hasOwnProperty.call(p,g)&&t(p,h,g)},r=ns&&ns.__importDefault||function(h){return h&&h.__esModule?h:{default:h}};Object.defineProperty(e,"__esModule",{value:!0}),e.createClient=e.SupabaseClient=e.FunctionRegion=e.FunctionsError=e.FunctionsRelayError=e.FunctionsFetchError=e.FunctionsHttpError=e.PostgrestError=void 0;const i=r(HC());n(LB,e);var a=eB();Object.defineProperty(e,"PostgrestError",{enumerable:!0,get:function(){return a.PostgrestError}});var o=W$;Object.defineProperty(e,"FunctionsHttpError",{enumerable:!0,get:function(){return o.FunctionsHttpError}}),Object.defineProperty(e,"FunctionsFetchError",{enumerable:!0,get:function(){return o.FunctionsFetchError}}),Object.defineProperty(e,"FunctionsRelayError",{enumerable:!0,get:function(){return o.FunctionsRelayError}}),Object.defineProperty(e,"FunctionsError",{enumerable:!0,get:function(){return o.FunctionsError}}),Object.defineProperty(e,"FunctionRegion",{enumerable:!0,get:function(){return o.FunctionRegion}}),n(cB,e);var l=HC();Object.defineProperty(e,"SupabaseClient",{enumerable:!0,get:function(){return r(l).default}});const u=(h,p,g)=>new i.default(h,p,g);e.createClient=u;function f(){if(typeof window<"u"||typeof process>"u")return!1;const h=process.version;if(h==null)return!1;const p=h.match(/^v(\d+)\./);return p?parseInt(p[1],10)<=18:!1}f()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217")})(ns)),ns}var IB=jW();const $B=fi(IB),NW=WE({__proto__:null,default:$B},[IB]),{PostgrestError:bOe,FunctionsHttpError:vOe,FunctionsFetchError:xOe,FunctionsRelayError:_Oe,FunctionsError:wOe,FunctionRegion:SOe,SupabaseClient:kOe,createClient:CW,GoTrueAdminApi:EOe,GoTrueClient:AOe,AuthAdminApi:TOe,AuthClient:OOe,navigatorLock:jOe,NavigatorLockAcquireTimeoutError:NOe,lockInternals:COe,processLock:MOe,SIGN_OUT_SCOPES:POe,AuthError:DOe,AuthApiError:ROe,AuthUnknownError:LOe,CustomAuthError:IOe,AuthSessionMissingError:$Oe,AuthInvalidTokenResponseError:BOe,AuthInvalidCredentialsError:zOe,AuthImplicitGrantRedirectError:UOe,AuthPKCEGrantCodeExchangeError:FOe,AuthRetryableFetchError:HOe,AuthWeakPasswordError:GOe,AuthInvalidJwtError:qOe,isAuthError:YOe,isAuthApiError:KOe,isAuthSessionMissingError:WOe,isAuthImplicitGrantRedirectError:VOe,isAuthRetryableFetchError:ZOe,isAuthWeakPasswordError:XOe,RealtimePresence:JOe,RealtimeChannel:QOe,RealtimeClient:eje,REALTIME_LISTEN_TYPES:tje,REALTIME_POSTGRES_CHANGES_LISTEN_EVENT:nje,REALTIME_PRESENCE_LISTEN_EVENTS:rje,REALTIME_SUBSCRIBE_STATES:ije,REALTIME_CHANNEL_STATES:aje}=$B||NW,MW="https://jouhybyquybxbnqztxum.supabase.co",PW="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImpvdWh5YnlxdXlieGJucXp0eHVtIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjQ5NjIwOTgsImV4cCI6MjA4MDUzODA5OH0.qAD7S7yRW8GxcRze_3dyirReIy6HvMr9DeET-djp1Fw",Me=CW(MW,PW,{auth:{flowType:"pkce",persistSession:!0,autoRefreshToken:!0,detectSessionInUrl:!0,storage:localStorage}}),BB="settings_v1",yk=()=>{try{typeof window<"u"&&window.localStorage.removeItem(BB)}catch{}},Kc={hiddenStem:"all",hiddenStemMode:"classic",ilunRule:"/",sinsalMode:"classic",sinsalBase:"",sinsalBloom:!1,exposure:"",charType:"",thinEum:!1,showSipSin:!0,showSibiSinsal:!0,showSibiUnseong:!0,showNabeum:!0,showEtcShinsal:!0,showRelationBox:!0,showPromptBox:!0,theme:"dark",difficultyMode:!1,sectionOrder:["hiddenStem","hiddenStemMode","ilunRule","sinsalMode","sinsalBase","sinsalBloom","exposure","charType","thinEum","visibility","difficultyMode"]},qC=["theme","hiddenStem","hiddenStemMode","ilunRule","sinsalMode","sinsalBase","sinsalBloom","exposure","charType","thinEum","visibility","difficultyMode"],DW=e=>{const t=Array.isArray(e)?e.filter(r=>typeof r=="string"&&qC.includes(r)):[],n=qC.filter(r=>!t.includes(r));return[...t,...n]},Md=e=>({...Kc,...e,sectionOrder:DW(e.sectionOrder)}),RW=e=>{if(e&&typeof e=="object"){const t=e;if(t.settings&&typeof t.settings=="object")return Md(t.settings);if(t.state&&typeof t.state=="object"){const n=t.state;if(n.settings&&typeof n.settings=="object")return Md(n.settings)}}return Md(e??{})},LW=e=>{if(!e||typeof e!="object")return!1;const t=e;return!!(t.state||t.settings)};yk();const Tn=Rl()(_$((e,t)=>({settings:Kc,syncing:!1,loaded:!1,setSettings:n=>e({settings:Md(n)}),setKey:(n,r)=>e({settings:Md({...t().settings,[n]:r})}),reset:()=>e({settings:Kc,loaded:!0}),loadFromServer:async n=>{const r=t();if(!r.syncing&&!(!n?.force&&r.loaded))try{e({syncing:!0}),yk();const{data:i,error:a}=await Me.auth.getUser(),o=i?.user??null;if(a||!o){e({settings:Kc,syncing:!1,loaded:!0});return}const l=t();!n?.force&&l.loaded&&l.syncing;const{data:u,error:f}=await Me.from("user_settings").select("payload").eq("user_id",o.id).maybeSingle();if(!u&&!f&&await Me.from("user_settings").upsert({user_id:o.id,payload:{}}),f&&f.code!=="PGRST116"){console.error("loadFromServer(settings) error:",f),e({syncing:!1,loaded:!0});return}if(u?.payload){const h=RW(u.payload);e({settings:h,syncing:!1,loaded:!0}),LW(u.payload)&&await Me.from("user_settings").upsert({user_id:o.id,payload:h,updated_at:new Date().toISOString()});return}await t().saveToServer(!0),e({syncing:!1,loaded:!0})}catch(i){console.error("loadFromServer(settings) exception:",i),e({syncing:!1,loaded:!0})}},saveToServer:async(n=!1)=>{try{if(!t().loaded&&!n)return;e({syncing:!0}),yk();const{data:r,error:i}=await Me.auth.getUser(),a=r?.user??null;if(i||!a){e({syncing:!1,loaded:!0,settings:Kc});return}const o=Md(t().settings),{error:l}=await Me.from("user_settings").upsert({user_id:a.id,payload:o,updated_at:new Date().toISOString()});l&&console.error("saveToServer(settings) error:",l),e({syncing:!1,loaded:!0})}catch(r){console.error("saveToServer(settings) exception:",r),e({syncing:!1,loaded:!0})}}}),{name:BB,storage:{getItem:()=>null,setItem:()=>null,removeItem:()=>null},merge:(e,t)=>t}));function bk(e){const t=Ur.indexOf(e);if(t!==-1)return Ur[t];const n=Ka..indexOf(e);return n!==-1?Ur[n]:null}function zB(e){const t=ci.indexOf(e);if(t!==-1)return ci[t];const n=Ka..indexOf(e);return n!==-1?ci[n]:null}function YC(e,t){if(t?.difficultyMode)return t?.theme==="light"?"bg-white border border-gray-300 text-neutral-900":"bg-white text-black";switch(e){case"":return"bg-green-600 text-white";case"":return"bg-red-600 text-white";case"":return"bg-yellow-500 text-white";case"":return"bg-gray-400 text-white";case"":return"bg-black text-white";default:return"bg-neutral-700 text-white"}}function Ui(e,t,n){if(t==="stem"){const r=bk(e);if(!r)return console.warn("Invalid stem:",e),"bg-neutral-700";const i=Ur.indexOf(r),a=i>=0?Qq[i]:void 0;return YC(a,n)}else{const r=zB(e);if(!r)return console.warn("Invalid branch:",e),"bg-neutral-700";const i=ci.indexOf(r),a=i>=0?eY[i]:void 0;return YC(a,n)}}function ha(e,t){const n=bk(e);if(!n)throw new Error(`getSipSin: invalid dayStem ${e}`);if(t.stem){const r=bk(t.stem);if(!r)throw new Error(`getSipSin: invalid stem ${t.stem}`);return rY[n][r]}if(t.branch){const r=zB(t.branch);if(!r)throw new Error(`getSipSin: invalid branch ${t.branch}`);return iY[n][r]}throw new Error("getSipSin: stem or branch required")}const uv={:["","(-)",""],:["","",""],:["","",""],:["","(-)",""],:["","",""],:["","",""],:["","",""],:["","",""],:["","",""],:["","(-)",""],:["","",""],:["","",""]},dv={:["(-)","(-)",""],:["","",""],:["(-)","",""],:["(-)","(-)",""],:["","",""],:["(-)","",""],:["(-)","(-)",""],:["","",""],:["(-)","",""],:["(-)","(-)",""],:["","",""],:["(-)","",""]};function UB({branch:e,dayStem:t,mode:n="all",mapping:r="classic",variant:i="auto",isUnknownTime:a=!1}){const o=(r==="hgc"?dv:uv)[e]??[],l=n==="main"?[o[2]]:o,u=i==="white",f=u?"text-white":"text-neutral-800 dark:text-white",h=u?"border-white":"border-neutral-800 dark: border-neutral-200",p=u?"text-yellow-900":"text-red-600 dark:text-yellow-300";return b.jsx("div",{className:"w-full flex flex-col gap-1 mt-1",children:l.map((g,x)=>g==="(-)"||a?b.jsx("div",{className:`w-full max-w-[80px] mx-auto text-[10px] desk:text-xs text-neutral-500 py-0.5 desk:px-1 border ${h} ${f} rounded text-center text-nowrap`,children:"(-) ()"},x):b.jsxs("div",{className:`w-full max-w-[80px] mx-auto text-[10px] desk:text-xs py-0.5 desk:px-1 border ${h} ${f} rounded text-center text-nowrap 
            ${n==="main"||x===2?`jeonggi bg-neutral-500/50 ${p} font-bold`:""}`,children:[g," (",ha(t,{stem:g}),")"]},x))})}const Qm=Rl(e=>({manualHour:null,setManualHour:t=>e({manualHour:t}),clearManualHour:()=>e({manualHour:null})})),FB=Object.fromEntries(Object.entries(In).map(([e,t])=>[t,e])),HB=Object.fromEntries(Object.entries(Kn).map(([e,t])=>[t,e])),IW=new Set(Object.keys(In)),$W=new Set(Object.keys(Kn)),BW=new Set(["","","","","","","","","",""]),zW=new Set(["","","","","","","","","","","",""]);function ui(e,t,n){return n===""?t==="stem"?In[e]??e:Kn[e]??e:t==="stem"?FB[e]??e:HB[e]??e}function KC(e){const t=FB[e]??e;return IW.has(t)?t:""}function UW(e){const t=HB[e]??e;return $W.has(t)?t:""}function fv(e){if(Bd.has(e))return e;const t=In[e]??e;return Bd.has(t)?t:""}function m2(e){if(ym.has(e))return e;const t=Kn[e]??e;return ym.has(t)?t:""}function Ha(e,t){return t==="stem"?BW.has(e):zW.has(e)}function xd({label:e,gz:t,dayStem:n,settings:r,unseongText:i,shinsalText:a,hideBranchSipSin:o=!0,hideHiddenStems:l=!1,size:u="sm",variant:f="auto",isUnknownTime:h=!1}){const{manualHour:p}=Qm(),g=h&&!p,x=t.charAt(0),S=t.charAt(1),_=ui(x,"stem",r.charType),k=ui(S,"branch",r.charType),T=KC(x),N=UW(S),O=KC(n),P=m2(S),C=fv(n),D=r.showSipSin?ha(O,{stem:T}):null,$=!o&&r.showSipSin?ha(O,{branch:N}):null,H=r.thinEum&&Ha(x,"stem")?"font-thin":"font-bold",q=r.thinEum&&Ha(S,"branch")?"font-thin":"font-bold",K={sm:"w-10 h-10 sm:w-12 sm:h-12",md:"w-12 h-12 sm:w-14 sm:h-14 md:w-16 md:h-16",lg:"w-14 h-14 sm:w-16 sm:h-16 md:w-20 md:h-20"},U=!l&&!!r.hiddenStem,z=r.hiddenStem==="regular"?"main":"all",V=r.hiddenStemMode==="hgc"?"hgc":"classic",J=f==="white",Q=J?"bg-white text-neutral-900 border border-neutral-200":"bg-white dark:bg-neutral-900 text-neutral-900 dark:text-neutral-100 border border-neutral-200 dark:border-neutral-800",Y=J?"bg-neutral-100 text-neutral-700":"bg-neutral-100 dark:bg-neutral-800/60 text-neutral-700 dark:text-neutral-200",Z=J?"border-neutral-200":"border-neutral-200 dark:border-neutral-800",re=J?"text-neutral-500":"text-neutral-400",ue=J?"text-neutral-500":"text-neutral-400",{settings:se}=Tn(),B=g?`bg-white ${Z}`:`${Ui(T,"stem",se)} ${Z}`,W=g?`bg-white ${Z}`:`${Ui(N,"branch",se)} ${Z}`,ae=g?"text-black":se.difficultyMode?se.theme==="light"?"text-neutral-900":"text-black":"text-white",X=g?"text-black":se.difficultyMode?se.theme==="light"?"text-neutral-900":"text-black":"text-white";return b.jsxs("div",{className:`rounded-sm desk:rounded-xl overflow-hidden ${Q}`,children:[b.jsx("div",{className:`py-2 text-center text-[10px] desk:text-xs tracking-wider ${Y} text-nowrap`,children:e}),b.jsxs("div",{className:"py-3 flex flex-col items-center gap-1",children:[D&&b.jsx("div",{className:`text-[10px] desk:text-xs ${re} text-nowrap`,children:h&&!p?"-":D}),b.jsx("div",{className:`${K[u]} rounded-sm desk:rounded-lg flex items-center justify-center border ${B}`,children:b.jsx("span",{className:`text-2xl md:text-3xl ${ae} ${H}`,children:g?"-":_})}),b.jsx("div",{className:`${K[u]} rounded-sm desk:rounded-lg flex items-center justify-center border ${W}`,children:b.jsx("span",{className:`text-2xl md:text-3xl ${X} ${q}`,children:g?"-":k})}),U&&b.jsx(UB,{branch:P,dayStem:C,mode:z,mapping:V,isUnknownTime:h&&!p&&(e===""||e==="")}),$&&b.jsx("div",{className:`text-[10px] desk:text-xs ${ue}`,children:h&&!p?"-":$}),r.showSibiUnseong&&b.jsx("div",{className:`text-[10px] desk:text-xs ${ue} text-nowrap`,children:h&&!p?"-":i||""}),r.showSibiSinsal&&b.jsx("div",{className:`text-[10px] desk:text-xs ${ue} text-nowrap`,children:h&&!p?"-":a||""})]})]})}const FW=new Set(Ka.);function HW(e){return Bd.has(e)?e:FW.has(e)?In[e]:""}function GW(e){if(!e||e<=0)return"0";const t=Math.floor(e/1e3),n=Math.floor(t/86400),r=Math.floor(t%86400/3600),i=Math.floor(t%3600/60);return n>=1?`${n} ${r}`:r>=1?`${r} ${i}`:`${i}`}function qW({label:e,settings:t,hideBranchSipSin:n=!0}){const r=t.showSipSin,i=!!t.hiddenStem,o=(t.hiddenStem==="regular"?"main":"all")==="main"?1:3,l=t.showSipSin&&!n;return b.jsxs("div",{className:"rounded-sm desk:rounded-xl bg-white dark:bg-neutral-900 border border-neutral-200 dark:border-neutral-800 overflow-hidden transition-colors",children:[b.jsx("div",{className:"py-2 text-center text-[10px] desk:text-xs tracking-wider bg-neutral-100 dark:bg-neutral-800/60 text-neutral-700 dark:text-neutral-200 text-nowrap",children:e}),b.jsxs("div",{className:"p-3 flex flex-col items-center gap-1",children:[r&&b.jsx("div",{className:"text-[10px] desk:text-xs text-neutral-500 dark:text-neutral-400 text-nowrap",children:"-"}),b.jsx("div",{className:"w-10 h-10 sm:w-12 sm:h-12 rounded-sm desk:rounded-lg flex items-center justify-center border border-neutral-200 dark:border-neutral-800 bg-white",children:b.jsx("span",{className:"text-2xl md:text-3xl font-bold text-neutral-900",children:"-"})}),b.jsx("div",{className:"w-10 h-10 sm:w-12 sm:h-12 rounded-sm desk:rounded-lg flex items-center justify-center border border-neutral-200 dark:border-neutral-800 bg-white",children:b.jsx("span",{className:"text-2xl md:text-3xl font-bold text-neutral-900",children:"-"})}),i&&b.jsx("div",{className:"flex flex-col gap-1 mt-1 w-full",children:Array.from({length:o}).map((u,f)=>b.jsx("div",{className:"w-full max-w-[80px] mx-auto text-[10px] desk:text-xs py-0.5 desk:px-1 border border-neutral-200 dark:border-neutral-800 rounded text-center text-nowrap text-neutral-500 dark:text-neutral-400",children:"-"},f))}),l&&b.jsx("div",{className:"text-[10px] desk:text-xs text-neutral-500 dark:text-neutral-400",children:"-"})]})]})}function YW(){const e=Tn(k=>k.settings),[t,n]=w.useState(new Date),[r,i]=w.useState(!0),[a,o]=w.useState("/"),[l,u]=w.useState(!1),[f,h]=w.useState(null);w.useEffect(()=>{if(!r)return;const k=setInterval(()=>n(new Date),1e3);return()=>clearInterval(k)},[r]),w.useEffect(()=>{let k=!0;const T=async()=>{const{data:P}=await Me.auth.getSession(),C=P.session?.user?.id;if(!C){k&&h(null);return}const{data:D,error:$}=await Me.from("user_activity").select("total_active_ms").eq("user_id",C).maybeSingle();if($){k&&h(null);return}const H=D?.total_active_ms;k&&h(typeof H=="number"?H:null)};T();const N=window.setInterval(()=>void T(),6e4),O=()=>{document.visibilityState==="visible"&&T()};return document.addEventListener("visibilitychange",O),()=>{k=!1,window.clearInterval(N),document.removeEventListener("visibilitychange",O)}},[]);const p=at(t),g=Et(t),x=gt(t,a),S=Fa(t,"/"),_=HW(x.charAt(0));return b.jsx("div",{className:"flex justify-center items-center pt-16 desk:mt-12 w-full h-[calc(100dvh_-_86px)] desk:h-[calc(100dvh_-_212px)] ",children:b.jsxs("div",{className:`w-[96%] max-w-[640px] mx-auto mb-4 p-4
                      bg-white dark:bg-neutral-950
                      text-neutral-900 dark:text-neutral-100
                      rounded-xl shadow border border-neutral-200 dark:border-neutral-800 transition-colors`,children:[b.jsxs("div",{className:"mb-3 text-xs desk:text-sm text-neutral-600 dark:text-neutral-300",children:["  :"," ",b.jsx("span",{className:"font-semibold text-neutral-900 dark:text-neutral-100",children:GW(f)})]}),b.jsxs("header",{className:"flex flex-col desk:flex-row items-center justify-center desk:justify-between mb-4 gap-2",children:[b.jsxs("div",{className:"font-semibold text-sm desk:text-base",children:[" "," ",b.jsxs("span",{className:"text-neutral-500 dark:text-neutral-400",children:["(",r?"":"",") ",VW(t)]})]}),b.jsxs("div",{className:"flex gap-2 items-center",children:[b.jsxs("select",{value:a,onChange:k=>o(k.target.value),className:`text-xs rounded px-2 py-1 h-30 cursor-pointer
                        bg-white dark:bg-neutral-900
                        border border-neutral-300 dark:border-neutral-700
                        text-neutral-900 dark:text-neutral-100
                        focus:outline-none focus:ring-2 focus:ring-amber-500/40`,children:[b.jsx("option",{value:"",children:" ( 23)"}),b.jsx("option",{value:"/",children:"/ ()"}),b.jsx("option",{value:"",children:" ( 3)"})]}),b.jsx("button",{onClick:()=>i(!r),className:`text-xs px-3 py-1 rounded transition-colors cursor-pointer
                        bg-neutral-100 hover:bg-neutral-200
                        dark:bg-neutral-800 dark:hover:bg-neutral-700
                        text-neutral-900 dark:text-neutral-100
                        border border-neutral-200 dark:border-neutral-700`,children:r?" ":" "})]})]}),b.jsxs("div",{className:"grid grid-cols-4 gap-3 mb-6",children:[l?b.jsx(qW,{label:"",settings:e,hideBranchSipSin:!0}):b.jsx(xd,{label:"",gz:S,dayStem:_,settings:e,hideBranchSipSin:!0}),b.jsx(xd,{label:"",gz:x,dayStem:_,settings:e,hideBranchSipSin:!0}),b.jsx(xd,{label:"",gz:g,dayStem:_,settings:e,hideBranchSipSin:!0}),b.jsx(xd,{label:"",gz:p,dayStem:_,settings:e,hideBranchSipSin:!0})]}),b.jsxs("div",{className:"flex flex-col desk:flex-row gap-2 desk:gap-3 items-center",children:[b.jsx("label",{className:"text-sm text-neutral-600 dark:text-neutral-300",children:"/ "}),b.jsx("input",{type:"datetime-local",value:KW(t),disabled:r,onChange:k=>{const T=WW(k.target.value);T&&n(T)},className:`h-30 rounded px-3 py-1 text-sm transition-colors
                        bg-white dark:bg-neutral-900
                        border border-neutral-300 dark:border-neutral-700
                        text-neutral-900 dark:text-neutral-100
                        focus:outline-none focus:ring-2 focus:ring-amber-500/40
                        ${r?"opacity-50 cursor-not-allowed":"cursor-pointer"}`,min:"1900-01-01T00:00",max:"2100-12-31T23:59"}),b.jsx("button",{onClick:()=>u(k=>!k),className:`text-xs px-3 py-1 rounded border transition-colors cursor-pointer
                        ${l?"bg-white text-neutral-900 border-neutral-300 hover:bg-neutral-100":"bg-neutral-100 text-neutral-900 border-neutral-200 hover:bg-neutral-200 dark:bg-neutral-800 dark:text-neutral-100 dark:border-neutral-700 dark:hover:bg-neutral-700"}`,title:"     ",children:l?" ":" "})]})]})})}function KW(e){const t=n=>n.toString().padStart(2,"0");return`${e.getFullYear()}-${t(e.getMonth()+1)}-${t(e.getDate())}T${t(e.getHours())}:${t(e.getMinutes())}`}function WW(e){if(!e)return null;const[t,n]=e.split("T");if(!t||!n)return null;const[r,i,a]=t.split("-").map(Number),[o,l]=n.split(":").map(Number),u=new Date(r,i-1,a,o,l);return Number.isNaN(u.getTime())?null:u}function VW(e){const t=n=>n.toString().padStart(2,"0");return`${t(e.getHours())}:${t(e.getMinutes())}:${t(e.getSeconds())}`}function ZW({placeholderText:e,value:t}){const[n,r]=w.useState(e),[i,a]=w.useState(!1),[o,l]=w.useState(t??""),u=w.useRef(null),f=w.useRef(null),h=w.useRef(null),p=w.useRef(null);return w.useEffect(()=>{t!==void 0&&l(t)},[t]),{btnText:n,setBtnText:r,open:i,setOpen:a,localValue:o,setLocalValue:l,nameRef:u,latRef:f,lonRef:h,triggerBtnRef:p}}var rm={exports:{}};/* @preserve
 * Leaflet 1.9.4, a JS library for interactive maps. https://leafletjs.com
 * (c) 2010-2023 Vladimir Agafonkin, (c) 2010-2011 CloudMade
 */var XW=rm.exports,WC;function JW(){return WC||(WC=1,(function(e,t){(function(n,r){r(t)})(XW,(function(n){var r="1.9.4";function i(d){var y,E,M,R;for(E=1,M=arguments.length;E<M;E++){R=arguments[E];for(y in R)d[y]=R[y]}return d}var a=Object.create||(function(){function d(){}return function(y){return d.prototype=y,new d}})();function o(d,y){var E=Array.prototype.slice;if(d.bind)return d.bind.apply(d,E.call(arguments,1));var M=E.call(arguments,2);return function(){return d.apply(y,M.length?M.concat(E.call(arguments)):arguments)}}var l=0;function u(d){return"_leaflet_id"in d||(d._leaflet_id=++l),d._leaflet_id}function f(d,y,E){var M,R,F,ee;return ee=function(){M=!1,R&&(F.apply(E,R),R=!1)},F=function(){M?R=arguments:(d.apply(E,arguments),setTimeout(ee,y),M=!0)},F}function h(d,y,E){var M=y[1],R=y[0],F=M-R;return d===M&&E?d:((d-R)%F+F)%F+R}function p(){return!1}function g(d,y){if(y===!1)return d;var E=Math.pow(10,y===void 0?6:y);return Math.round(d*E)/E}function x(d){return d.trim?d.trim():d.replace(/^\s+|\s+$/g,"")}function S(d){return x(d).split(/\s+/)}function _(d,y){Object.prototype.hasOwnProperty.call(d,"options")||(d.options=d.options?a(d.options):{});for(var E in y)d.options[E]=y[E];return d.options}function k(d,y,E){var M=[];for(var R in d)M.push(encodeURIComponent(E?R.toUpperCase():R)+"="+encodeURIComponent(d[R]));return(!y||y.indexOf("?")===-1?"?":"&")+M.join("&")}var T=/\{ *([\w_ -]+) *\}/g;function N(d,y){return d.replace(T,function(E,M){var R=y[M];if(R===void 0)throw new Error("No value provided for variable "+E);return typeof R=="function"&&(R=R(y)),R})}var O=Array.isArray||function(d){return Object.prototype.toString.call(d)==="[object Array]"};function P(d,y){for(var E=0;E<d.length;E++)if(d[E]===y)return E;return-1}var C="data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs=";function D(d){return window["webkit"+d]||window["moz"+d]||window["ms"+d]}var $=0;function H(d){var y=+new Date,E=Math.max(0,16-(y-$));return $=y+E,window.setTimeout(d,E)}var q=window.requestAnimationFrame||D("RequestAnimationFrame")||H,K=window.cancelAnimationFrame||D("CancelAnimationFrame")||D("CancelRequestAnimationFrame")||function(d){window.clearTimeout(d)};function U(d,y,E){if(E&&q===H)d.call(y);else return q.call(window,o(d,y))}function z(d){d&&K.call(window,d)}var V={__proto__:null,extend:i,create:a,bind:o,get lastId(){return l},stamp:u,throttle:f,wrapNum:h,falseFn:p,formatNum:g,trim:x,splitWords:S,setOptions:_,getParamString:k,template:N,isArray:O,indexOf:P,emptyImageUrl:C,requestFn:q,cancelFn:K,requestAnimFrame:U,cancelAnimFrame:z};function J(){}J.extend=function(d){var y=function(){_(this),this.initialize&&this.initialize.apply(this,arguments),this.callInitHooks()},E=y.__super__=this.prototype,M=a(E);M.constructor=y,y.prototype=M;for(var R in this)Object.prototype.hasOwnProperty.call(this,R)&&R!=="prototype"&&R!=="__super__"&&(y[R]=this[R]);return d.statics&&i(y,d.statics),d.includes&&(Q(d.includes),i.apply(null,[M].concat(d.includes))),i(M,d),delete M.statics,delete M.includes,M.options&&(M.options=E.options?a(E.options):{},i(M.options,d.options)),M._initHooks=[],M.callInitHooks=function(){if(!this._initHooksCalled){E.callInitHooks&&E.callInitHooks.call(this),this._initHooksCalled=!0;for(var F=0,ee=M._initHooks.length;F<ee;F++)M._initHooks[F].call(this)}},y},J.include=function(d){var y=this.prototype.options;return i(this.prototype,d),d.options&&(this.prototype.options=y,this.mergeOptions(d.options)),this},J.mergeOptions=function(d){return i(this.prototype.options,d),this},J.addInitHook=function(d){var y=Array.prototype.slice.call(arguments,1),E=typeof d=="function"?d:function(){this[d].apply(this,y)};return this.prototype._initHooks=this.prototype._initHooks||[],this.prototype._initHooks.push(E),this};function Q(d){if(!(typeof L>"u"||!L||!L.Mixin)){d=O(d)?d:[d];for(var y=0;y<d.length;y++)d[y]===L.Mixin.Events&&console.warn("Deprecated include of L.Mixin.Events: this property will be removed in future releases, please inherit from L.Evented instead.",new Error().stack)}}var Y={on:function(d,y,E){if(typeof d=="object")for(var M in d)this._on(M,d[M],y);else{d=S(d);for(var R=0,F=d.length;R<F;R++)this._on(d[R],y,E)}return this},off:function(d,y,E){if(!arguments.length)delete this._events;else if(typeof d=="object")for(var M in d)this._off(M,d[M],y);else{d=S(d);for(var R=arguments.length===1,F=0,ee=d.length;F<ee;F++)R?this._off(d[F]):this._off(d[F],y,E)}return this},_on:function(d,y,E,M){if(typeof y!="function"){console.warn("wrong listener type: "+typeof y);return}if(this._listens(d,y,E)===!1){E===this&&(E=void 0);var R={fn:y,ctx:E};M&&(R.once=!0),this._events=this._events||{},this._events[d]=this._events[d]||[],this._events[d].push(R)}},_off:function(d,y,E){var M,R,F;if(this._events&&(M=this._events[d],!!M)){if(arguments.length===1){if(this._firingCount)for(R=0,F=M.length;R<F;R++)M[R].fn=p;delete this._events[d];return}if(typeof y!="function"){console.warn("wrong listener type: "+typeof y);return}var ee=this._listens(d,y,E);if(ee!==!1){var ce=M[ee];this._firingCount&&(ce.fn=p,this._events[d]=M=M.slice()),M.splice(ee,1)}}},fire:function(d,y,E){if(!this.listens(d,E))return this;var M=i({},y,{type:d,target:this,sourceTarget:y&&y.sourceTarget||this});if(this._events){var R=this._events[d];if(R){this._firingCount=this._firingCount+1||1;for(var F=0,ee=R.length;F<ee;F++){var ce=R[F],ge=ce.fn;ce.once&&this.off(d,ge,ce.ctx),ge.call(ce.ctx||this,M)}this._firingCount--}}return E&&this._propagateEvent(M),this},listens:function(d,y,E,M){typeof d!="string"&&console.warn('"string" type argument expected');var R=y;typeof y!="function"&&(M=!!y,R=void 0,E=void 0);var F=this._events&&this._events[d];if(F&&F.length&&this._listens(d,R,E)!==!1)return!0;if(M){for(var ee in this._eventParents)if(this._eventParents[ee].listens(d,y,E,M))return!0}return!1},_listens:function(d,y,E){if(!this._events)return!1;var M=this._events[d]||[];if(!y)return!!M.length;E===this&&(E=void 0);for(var R=0,F=M.length;R<F;R++)if(M[R].fn===y&&M[R].ctx===E)return R;return!1},once:function(d,y,E){if(typeof d=="object")for(var M in d)this._on(M,d[M],y,!0);else{d=S(d);for(var R=0,F=d.length;R<F;R++)this._on(d[R],y,E,!0)}return this},addEventParent:function(d){return this._eventParents=this._eventParents||{},this._eventParents[u(d)]=d,this},removeEventParent:function(d){return this._eventParents&&delete this._eventParents[u(d)],this},_propagateEvent:function(d){for(var y in this._eventParents)this._eventParents[y].fire(d.type,i({layer:d.target,propagatedFrom:d.target},d),!0)}};Y.addEventListener=Y.on,Y.removeEventListener=Y.clearAllEventListeners=Y.off,Y.addOneTimeEventListener=Y.once,Y.fireEvent=Y.fire,Y.hasEventListeners=Y.listens;var Z=J.extend(Y);function re(d,y,E){this.x=E?Math.round(d):d,this.y=E?Math.round(y):y}var ue=Math.trunc||function(d){return d>0?Math.floor(d):Math.ceil(d)};re.prototype={clone:function(){return new re(this.x,this.y)},add:function(d){return this.clone()._add(se(d))},_add:function(d){return this.x+=d.x,this.y+=d.y,this},subtract:function(d){return this.clone()._subtract(se(d))},_subtract:function(d){return this.x-=d.x,this.y-=d.y,this},divideBy:function(d){return this.clone()._divideBy(d)},_divideBy:function(d){return this.x/=d,this.y/=d,this},multiplyBy:function(d){return this.clone()._multiplyBy(d)},_multiplyBy:function(d){return this.x*=d,this.y*=d,this},scaleBy:function(d){return new re(this.x*d.x,this.y*d.y)},unscaleBy:function(d){return new re(this.x/d.x,this.y/d.y)},round:function(){return this.clone()._round()},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},floor:function(){return this.clone()._floor()},_floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},ceil:function(){return this.clone()._ceil()},_ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},trunc:function(){return this.clone()._trunc()},_trunc:function(){return this.x=ue(this.x),this.y=ue(this.y),this},distanceTo:function(d){d=se(d);var y=d.x-this.x,E=d.y-this.y;return Math.sqrt(y*y+E*E)},equals:function(d){return d=se(d),d.x===this.x&&d.y===this.y},contains:function(d){return d=se(d),Math.abs(d.x)<=Math.abs(this.x)&&Math.abs(d.y)<=Math.abs(this.y)},toString:function(){return"Point("+g(this.x)+", "+g(this.y)+")"}};function se(d,y,E){return d instanceof re?d:O(d)?new re(d[0],d[1]):d==null?d:typeof d=="object"&&"x"in d&&"y"in d?new re(d.x,d.y):new re(d,y,E)}function B(d,y){if(d)for(var E=y?[d,y]:d,M=0,R=E.length;M<R;M++)this.extend(E[M])}B.prototype={extend:function(d){var y,E;if(!d)return this;if(d instanceof re||typeof d[0]=="number"||"x"in d)y=E=se(d);else if(d=W(d),y=d.min,E=d.max,!y||!E)return this;return!this.min&&!this.max?(this.min=y.clone(),this.max=E.clone()):(this.min.x=Math.min(y.x,this.min.x),this.max.x=Math.max(E.x,this.max.x),this.min.y=Math.min(y.y,this.min.y),this.max.y=Math.max(E.y,this.max.y)),this},getCenter:function(d){return se((this.min.x+this.max.x)/2,(this.min.y+this.max.y)/2,d)},getBottomLeft:function(){return se(this.min.x,this.max.y)},getTopRight:function(){return se(this.max.x,this.min.y)},getTopLeft:function(){return this.min},getBottomRight:function(){return this.max},getSize:function(){return this.max.subtract(this.min)},contains:function(d){var y,E;return typeof d[0]=="number"||d instanceof re?d=se(d):d=W(d),d instanceof B?(y=d.min,E=d.max):y=E=d,y.x>=this.min.x&&E.x<=this.max.x&&y.y>=this.min.y&&E.y<=this.max.y},intersects:function(d){d=W(d);var y=this.min,E=this.max,M=d.min,R=d.max,F=R.x>=y.x&&M.x<=E.x,ee=R.y>=y.y&&M.y<=E.y;return F&&ee},overlaps:function(d){d=W(d);var y=this.min,E=this.max,M=d.min,R=d.max,F=R.x>y.x&&M.x<E.x,ee=R.y>y.y&&M.y<E.y;return F&&ee},isValid:function(){return!!(this.min&&this.max)},pad:function(d){var y=this.min,E=this.max,M=Math.abs(y.x-E.x)*d,R=Math.abs(y.y-E.y)*d;return W(se(y.x-M,y.y-R),se(E.x+M,E.y+R))},equals:function(d){return d?(d=W(d),this.min.equals(d.getTopLeft())&&this.max.equals(d.getBottomRight())):!1}};function W(d,y){return!d||d instanceof B?d:new B(d,y)}function ae(d,y){if(d)for(var E=y?[d,y]:d,M=0,R=E.length;M<R;M++)this.extend(E[M])}ae.prototype={extend:function(d){var y=this._southWest,E=this._northEast,M,R;if(d instanceof oe)M=d,R=d;else if(d instanceof ae){if(M=d._southWest,R=d._northEast,!M||!R)return this}else return d?this.extend(me(d)||X(d)):this;return!y&&!E?(this._southWest=new oe(M.lat,M.lng),this._northEast=new oe(R.lat,R.lng)):(y.lat=Math.min(M.lat,y.lat),y.lng=Math.min(M.lng,y.lng),E.lat=Math.max(R.lat,E.lat),E.lng=Math.max(R.lng,E.lng)),this},pad:function(d){var y=this._southWest,E=this._northEast,M=Math.abs(y.lat-E.lat)*d,R=Math.abs(y.lng-E.lng)*d;return new ae(new oe(y.lat-M,y.lng-R),new oe(E.lat+M,E.lng+R))},getCenter:function(){return new oe((this._southWest.lat+this._northEast.lat)/2,(this._southWest.lng+this._northEast.lng)/2)},getSouthWest:function(){return this._southWest},getNorthEast:function(){return this._northEast},getNorthWest:function(){return new oe(this.getNorth(),this.getWest())},getSouthEast:function(){return new oe(this.getSouth(),this.getEast())},getWest:function(){return this._southWest.lng},getSouth:function(){return this._southWest.lat},getEast:function(){return this._northEast.lng},getNorth:function(){return this._northEast.lat},contains:function(d){typeof d[0]=="number"||d instanceof oe||"lat"in d?d=me(d):d=X(d);var y=this._southWest,E=this._northEast,M,R;return d instanceof ae?(M=d.getSouthWest(),R=d.getNorthEast()):M=R=d,M.lat>=y.lat&&R.lat<=E.lat&&M.lng>=y.lng&&R.lng<=E.lng},intersects:function(d){d=X(d);var y=this._southWest,E=this._northEast,M=d.getSouthWest(),R=d.getNorthEast(),F=R.lat>=y.lat&&M.lat<=E.lat,ee=R.lng>=y.lng&&M.lng<=E.lng;return F&&ee},overlaps:function(d){d=X(d);var y=this._southWest,E=this._northEast,M=d.getSouthWest(),R=d.getNorthEast(),F=R.lat>y.lat&&M.lat<E.lat,ee=R.lng>y.lng&&M.lng<E.lng;return F&&ee},toBBoxString:function(){return[this.getWest(),this.getSouth(),this.getEast(),this.getNorth()].join(",")},equals:function(d,y){return d?(d=X(d),this._southWest.equals(d.getSouthWest(),y)&&this._northEast.equals(d.getNorthEast(),y)):!1},isValid:function(){return!!(this._southWest&&this._northEast)}};function X(d,y){return d instanceof ae?d:new ae(d,y)}function oe(d,y,E){if(isNaN(d)||isNaN(y))throw new Error("Invalid LatLng object: ("+d+", "+y+")");this.lat=+d,this.lng=+y,E!==void 0&&(this.alt=+E)}oe.prototype={equals:function(d,y){if(!d)return!1;d=me(d);var E=Math.max(Math.abs(this.lat-d.lat),Math.abs(this.lng-d.lng));return E<=(y===void 0?1e-9:y)},toString:function(d){return"LatLng("+g(this.lat,d)+", "+g(this.lng,d)+")"},distanceTo:function(d){return be.distance(this,me(d))},wrap:function(){return be.wrapLatLng(this)},toBounds:function(d){var y=180*d/40075017,E=y/Math.cos(Math.PI/180*this.lat);return X([this.lat-y,this.lng-E],[this.lat+y,this.lng+E])},clone:function(){return new oe(this.lat,this.lng,this.alt)}};function me(d,y,E){return d instanceof oe?d:O(d)&&typeof d[0]!="object"?d.length===3?new oe(d[0],d[1],d[2]):d.length===2?new oe(d[0],d[1]):null:d==null?d:typeof d=="object"&&"lat"in d?new oe(d.lat,"lng"in d?d.lng:d.lon,d.alt):y===void 0?null:new oe(d,y,E)}var pe={latLngToPoint:function(d,y){var E=this.projection.project(d),M=this.scale(y);return this.transformation._transform(E,M)},pointToLatLng:function(d,y){var E=this.scale(y),M=this.transformation.untransform(d,E);return this.projection.unproject(M)},project:function(d){return this.projection.project(d)},unproject:function(d){return this.projection.unproject(d)},scale:function(d){return 256*Math.pow(2,d)},zoom:function(d){return Math.log(d/256)/Math.LN2},getProjectedBounds:function(d){if(this.infinite)return null;var y=this.projection.bounds,E=this.scale(d),M=this.transformation.transform(y.min,E),R=this.transformation.transform(y.max,E);return new B(M,R)},infinite:!1,wrapLatLng:function(d){var y=this.wrapLng?h(d.lng,this.wrapLng,!0):d.lng,E=this.wrapLat?h(d.lat,this.wrapLat,!0):d.lat,M=d.alt;return new oe(E,y,M)},wrapLatLngBounds:function(d){var y=d.getCenter(),E=this.wrapLatLng(y),M=y.lat-E.lat,R=y.lng-E.lng;if(M===0&&R===0)return d;var F=d.getSouthWest(),ee=d.getNorthEast(),ce=new oe(F.lat-M,F.lng-R),ge=new oe(ee.lat-M,ee.lng-R);return new ae(ce,ge)}},be=i({},pe,{wrapLng:[-180,180],R:6371e3,distance:function(d,y){var E=Math.PI/180,M=d.lat*E,R=y.lat*E,F=Math.sin((y.lat-d.lat)*E/2),ee=Math.sin((y.lng-d.lng)*E/2),ce=F*F+Math.cos(M)*Math.cos(R)*ee*ee,ge=2*Math.atan2(Math.sqrt(ce),Math.sqrt(1-ce));return this.R*ge}}),ne=6378137,Oe={R:ne,MAX_LATITUDE:85.0511287798,project:function(d){var y=Math.PI/180,E=this.MAX_LATITUDE,M=Math.max(Math.min(E,d.lat),-E),R=Math.sin(M*y);return new re(this.R*d.lng*y,this.R*Math.log((1+R)/(1-R))/2)},unproject:function(d){var y=180/Math.PI;return new oe((2*Math.atan(Math.exp(d.y/this.R))-Math.PI/2)*y,d.x*y/this.R)},bounds:(function(){var d=ne*Math.PI;return new B([-d,-d],[d,d])})()};function Ce(d,y,E,M){if(O(d)){this._a=d[0],this._b=d[1],this._c=d[2],this._d=d[3];return}this._a=d,this._b=y,this._c=E,this._d=M}Ce.prototype={transform:function(d,y){return this._transform(d.clone(),y)},_transform:function(d,y){return y=y||1,d.x=y*(this._a*d.x+this._b),d.y=y*(this._c*d.y+this._d),d},untransform:function(d,y){return y=y||1,new re((d.x/y-this._b)/this._a,(d.y/y-this._d)/this._c)}};function ve(d,y,E,M){return new Ce(d,y,E,M)}var Ze=i({},be,{code:"EPSG:3857",projection:Oe,transformation:(function(){var d=.5/(Math.PI*Oe.R);return ve(d,.5,-d,.5)})()}),Ne=i({},Ze,{code:"EPSG:900913"});function _e(d){return document.createElementNS("http://www.w3.org/2000/svg",d)}function je(d,y){var E="",M,R,F,ee,ce,ge;for(M=0,F=d.length;M<F;M++){for(ce=d[M],R=0,ee=ce.length;R<ee;R++)ge=ce[R],E+=(R?"L":"M")+ge.x+" "+ge.y;E+=y?He.svg?"z":"x":""}return E||"M0 0"}var Ie=document.documentElement.style,Ve="ActiveXObject"in window,bt=Ve&&!document.addEventListener,xt="msLaunchUri"in navigator&&!("documentMode"in document),Pt=Gr("webkit"),fe=Gr("android"),Pe=Gr("android 2")||Gr("android 3"),Be=parseInt(/WebKit\/([0-9]+)|$/.exec(navigator.userAgent)[1],10),lt=fe&&Gr("Google")&&Be<537&&!("AudioNode"in window),jt=!!window.opera,yt=!xt&&Gr("chrome"),Jn=Gr("gecko")&&!Pt&&!jt&&!Ve,gi=!yt&&Gr("safari"),yi=Gr("phantom"),Ps="OTransition"in Ie,Ds=navigator.platform.indexOf("Win")===0,qt=Ve&&"transition"in Ie,mn="WebKitCSSMatrix"in window&&"m11"in new window.WebKitCSSMatrix&&!Pe,bi="MozPerspective"in Ie,Cr=!window.L_DISABLE_3D&&(qt||mn||bi)&&!Ps&&!yi,Bl=typeof orientation<"u"||Gr("mobile"),vx=Bl&&Pt,xx=Bl&&mn,zl=!window.PointerEvent&&window.MSPointerEvent,Ul=!!(window.PointerEvent||zl),Fl="ontouchstart"in window||!!window.TouchEvent,Co=!window.L_NO_TOUCH&&(Fl||Ul),pu=Bl&&jt,Hl=Bl&&Jn,_x=(window.devicePixelRatio||window.screen.deviceXDPI/window.screen.logicalXDPI)>1,Cp=(function(){var d=!1;try{var y=Object.defineProperty({},"passive",{get:function(){d=!0}});window.addEventListener("testPassiveEventSupport",p,y),window.removeEventListener("testPassiveEventSupport",p,y)}catch{}return d})(),Ef=(function(){return!!document.createElement("canvas").getContext})(),Mo=!!(document.createElementNS&&_e("svg").createSVGRect),wx=!!Mo&&(function(){var d=document.createElement("div");return d.innerHTML="<svg/>",(d.firstChild&&d.firstChild.namespaceURI)==="http://www.w3.org/2000/svg"})(),Mp=!Mo&&(function(){try{var d=document.createElement("div");d.innerHTML='<v:shape adj="1"/>';var y=d.firstChild;return y.style.behavior="url(#default#VML)",y&&typeof y.adj=="object"}catch{return!1}})(),Pp=navigator.platform.indexOf("Mac")===0,Dp=navigator.platform.indexOf("Linux")===0;function Gr(d){return navigator.userAgent.toLowerCase().indexOf(d)>=0}var He={ie:Ve,ielt9:bt,edge:xt,webkit:Pt,android:fe,android23:Pe,androidStock:lt,opera:jt,chrome:yt,gecko:Jn,safari:gi,phantom:yi,opera12:Ps,win:Ds,ie3d:qt,webkit3d:mn,gecko3d:bi,any3d:Cr,mobile:Bl,mobileWebkit:vx,mobileWebkit3d:xx,msPointer:zl,pointer:Ul,touch:Co,touchNative:Fl,mobileOpera:pu,mobileGecko:Hl,retina:_x,passiveEvents:Cp,canvas:Ef,svg:Mo,vml:Mp,inlineSvg:wx,mac:Pp,linux:Dp},Af=He.msPointer?"MSPointerDown":"pointerdown",Tf=He.msPointer?"MSPointerMove":"pointermove",_a=He.msPointer?"MSPointerUp":"pointerup",On=He.msPointer?"MSPointerCancel":"pointercancel",Qn={touchstart:Af,touchmove:Tf,touchend:_a,touchcancel:On},Po={touchstart:Ls,touchmove:Va,touchend:Va,touchcancel:Va},Wa={},Rp=!1;function Sx(d,y,E){return y==="touchstart"&&Rs(),Po[y]?(E=Po[y].bind(this,E),d.addEventListener(Qn[y],E,!1),E):(console.warn("wrong event specified:",y),p)}function Lp(d,y,E){if(!Qn[y]){console.warn("wrong event specified:",y);return}d.removeEventListener(Qn[y],E,!1)}function Gl(d){Wa[d.pointerId]=d}function Of(d){Wa[d.pointerId]&&(Wa[d.pointerId]=d)}function Do(d){delete Wa[d.pointerId]}function Rs(){Rp||(document.addEventListener(Af,Gl,!0),document.addEventListener(Tf,Of,!0),document.addEventListener(_a,Do,!0),document.addEventListener(On,Do,!0),Rp=!0)}function Va(d,y){if(y.pointerType!==(y.MSPOINTER_TYPE_MOUSE||"mouse")){y.touches=[];for(var E in Wa)y.touches.push(Wa[E]);y.changedTouches=[y],d(y)}}function Ls(d,y){y.MSPOINTER_TYPE_TOUCH&&y.pointerType===y.MSPOINTER_TYPE_TOUCH&&pn(y),Va(d,y)}function jn(d){var y={},E,M;for(M in d)E=d[M],y[M]=E&&E.bind?E.bind(d):E;return d=y,y.type="dblclick",y.detail=2,y.isTrusted=!1,y._simulated=!0,y}var Ip=200;function $p(d,y){d.addEventListener("dblclick",y);var E=0,M;function R(F){if(F.detail!==1){M=F.detail;return}if(!(F.pointerType==="mouse"||F.sourceCapabilities&&!F.sourceCapabilities.firesTouchEvents)){var ee=Xl(F);if(!(ee.some(function(ge){return ge instanceof HTMLLabelElement&&ge.attributes.for})&&!ee.some(function(ge){return ge instanceof HTMLInputElement||ge instanceof HTMLSelectElement}))){var ce=Date.now();ce-E<=Ip?(M++,M===2&&y(jn(F))):M=1,E=ce}}}return d.addEventListener("click",R),{dblclick:y,simDblclick:R}}function Ro(d,y){d.removeEventListener("dblclick",y.dblclick),d.removeEventListener("click",y.simDblclick)}var Za=Kl(["transform","webkitTransform","OTransform","MozTransform","msTransform"]),ql=Kl(["webkitTransition","transition","OTransition","MozTransition","msTransition"]),jf=ql==="webkitTransition"||ql==="OTransition"?ql+"End":"transitionend";function Nf(d){return typeof d=="string"?document.getElementById(d):d}function Yl(d,y){var E=d.style[y]||d.currentStyle&&d.currentStyle[y];if((!E||E==="auto")&&document.defaultView){var M=document.defaultView.getComputedStyle(d,null);E=M?M[y]:null}return E==="auto"?null:E}function ct(d,y,E){var M=document.createElement(d);return M.className=y||"",E&&E.appendChild(M),M}function It(d){var y=d.parentNode;y&&y.removeChild(d)}function qr(d){for(;d.firstChild;)d.removeChild(d.firstChild)}function Bn(d){var y=d.parentNode;y&&y.lastChild!==d&&y.appendChild(d)}function Lo(d){var y=d.parentNode;y&&y.firstChild!==d&&y.insertBefore(d,y.firstChild)}function Cf(d,y){if(d.classList!==void 0)return d.classList.contains(y);var E=gu(d);return E.length>0&&new RegExp("(^|\\s)"+y+"(\\s|$)").test(E)}function nt(d,y){if(d.classList!==void 0)for(var E=S(y),M=0,R=E.length;M<R;M++)d.classList.add(E[M]);else if(!Cf(d,y)){var F=gu(d);Is(d,(F?F+" ":"")+y)}}function en(d,y){d.classList!==void 0?d.classList.remove(y):Is(d,x((" "+gu(d)+" ").replace(" "+y+" "," ")))}function Is(d,y){d.className.baseVal===void 0?d.className=y:d.className.baseVal=y}function gu(d){return d.correspondingElement&&(d=d.correspondingElement),d.className.baseVal===void 0?d.className:d.className.baseVal}function Zt(d,y){"opacity"in d.style?d.style.opacity=y:"filter"in d.style&&Mf(d,y)}function Mf(d,y){var E=!1,M="DXImageTransform.Microsoft.Alpha";try{E=d.filters.item(M)}catch{if(y===1)return}y=Math.round(y*100),E?(E.Enabled=y!==100,E.Opacity=y):d.style.filter+=" progid:"+M+"(opacity="+y+")"}function Kl(d){for(var y=document.documentElement.style,E=0;E<d.length;E++)if(d[E]in y)return d[E];return!1}function wa(d,y,E){var M=y||new re(0,0);d.style[Za]=(He.ie3d?"translate("+M.x+"px,"+M.y+"px)":"translate3d("+M.x+"px,"+M.y+"px,0)")+(E?" scale("+E+")":"")}function Ut(d,y){d._leaflet_pos=y,He.any3d?wa(d,y):(d.style.left=y.x+"px",d.style.top=y.y+"px")}function Xa(d){return d._leaflet_pos||new re(0,0)}var $s,qi,Pf;if("onselectstart"in document)$s=function(){tt(window,"selectstart",pn)},qi=function(){Nt(window,"selectstart",pn)};else{var Bs=Kl(["userSelect","WebkitUserSelect","OUserSelect","MozUserSelect","msUserSelect"]);$s=function(){if(Bs){var d=document.documentElement.style;Pf=d[Bs],d[Bs]="none"}},qi=function(){Bs&&(document.documentElement.style[Bs]=Pf,Pf=void 0)}}function yu(){tt(window,"dragstart",pn)}function Wl(){Nt(window,"dragstart",pn)}var bu,Df;function zs(d){for(;d.tabIndex===-1;)d=d.parentNode;d.style&&(Yr(),bu=d,Df=d.style.outlineStyle,d.style.outlineStyle="none",tt(window,"keydown",Yr))}function Yr(){bu&&(bu.style.outlineStyle=Df,bu=void 0,Df=void 0,Nt(window,"keydown",Yr))}function vu(d){do d=d.parentNode;while((!d.offsetWidth||!d.offsetHeight)&&d!==document.body);return d}function Vl(d){var y=d.getBoundingClientRect();return{x:y.width/d.offsetWidth||1,y:y.height/d.offsetHeight||1,boundingClientRect:y}}var Us={__proto__:null,TRANSFORM:Za,TRANSITION:ql,TRANSITION_END:jf,get:Nf,getStyle:Yl,create:ct,remove:It,empty:qr,toFront:Bn,toBack:Lo,hasClass:Cf,addClass:nt,removeClass:en,setClass:Is,getClass:gu,setOpacity:Zt,testProp:Kl,setTransform:wa,setPosition:Ut,getPosition:Xa,get disableTextSelection(){return $s},get enableTextSelection(){return qi},disableImageDrag:yu,enableImageDrag:Wl,preventOutline:zs,restoreOutline:Yr,getSizedParentNode:vu,getScale:Vl};function tt(d,y,E,M){if(y&&typeof y=="object")for(var R in y)xi(d,R,y[R],E);else{y=S(y);for(var F=0,ee=y.length;F<ee;F++)xi(d,y[F],E,M)}return this}var vi="_leaflet_events";function Nt(d,y,E,M){if(arguments.length===1)Rf(d),delete d[vi];else if(y&&typeof y=="object")for(var R in y)Zl(d,R,y[R],E);else if(y=S(y),arguments.length===2)Rf(d,function(ce){return P(y,ce)!==-1});else for(var F=0,ee=y.length;F<ee;F++)Zl(d,y[F],E,M);return this}function Rf(d,y){for(var E in d[vi]){var M=E.split(/\d/)[0];(!y||y(M))&&Zl(d,M,null,null,E)}}var Io={mouseenter:"mouseover",mouseleave:"mouseout",wheel:!("onwheel"in window)&&"mousewheel"};function xi(d,y,E,M){var R=y+u(E)+(M?"_"+u(M):"");if(d[vi]&&d[vi][R])return this;var F=function(ce){return E.call(M||d,ce||window.event)},ee=F;!He.touchNative&&He.pointer&&y.indexOf("touch")===0?F=Sx(d,y,F):He.touch&&y==="dblclick"?F=$p(d,F):"addEventListener"in d?y==="touchstart"||y==="touchmove"||y==="wheel"||y==="mousewheel"?d.addEventListener(Io[y]||y,F,He.passiveEvents?{passive:!1}:!1):y==="mouseenter"||y==="mouseleave"?(F=function(ce){ce=ce||window.event,Sa(d,ce)&&ee(ce)},d.addEventListener(Io[y],F,!1)):d.addEventListener(y,ee,!1):d.attachEvent("on"+y,F),d[vi]=d[vi]||{},d[vi][R]=F}function Zl(d,y,E,M,R){R=R||y+u(E)+(M?"_"+u(M):"");var F=d[vi]&&d[vi][R];if(!F)return this;!He.touchNative&&He.pointer&&y.indexOf("touch")===0?Lp(d,y,F):He.touch&&y==="dblclick"?Ro(d,F):"removeEventListener"in d?d.removeEventListener(Io[y]||y,F,!1):d.detachEvent("on"+y,F),d[vi][R]=null}function _i(d){return d.stopPropagation?d.stopPropagation():d.originalEvent?d.originalEvent._stopped=!0:d.cancelBubble=!0,this}function Yi(d){return xi(d,"wheel",_i),this}function $o(d){return tt(d,"mousedown touchstart dblclick contextmenu",_i),d._leaflet_disable_click=!0,this}function pn(d){return d.preventDefault?d.preventDefault():d.returnValue=!1,this}function Ja(d){return pn(d),_i(d),this}function Xl(d){if(d.composedPath)return d.composedPath();for(var y=[],E=d.target;E;)y.push(E),E=E.parentNode;return y}function Jl(d,y){if(!y)return new re(d.clientX,d.clientY);var E=Vl(y),M=E.boundingClientRect;return new re((d.clientX-M.left)/E.x-y.clientLeft,(d.clientY-M.top)/E.y-y.clientTop)}var Bp=He.linux&&He.chrome?window.devicePixelRatio:He.mac?window.devicePixelRatio*3:window.devicePixelRatio>0?2*window.devicePixelRatio:1;function dr(d){return He.edge?d.wheelDeltaY/2:d.deltaY&&d.deltaMode===0?-d.deltaY/Bp:d.deltaY&&d.deltaMode===1?-d.deltaY*20:d.deltaY&&d.deltaMode===2?-d.deltaY*60:d.deltaX||d.deltaZ?0:d.wheelDelta?(d.wheelDeltaY||d.wheelDelta)/2:d.detail&&Math.abs(d.detail)<32765?-d.detail*20:d.detail?d.detail/-32765*60:0}function Sa(d,y){var E=y.relatedTarget;if(!E)return!0;try{for(;E&&E!==d;)E=E.parentNode}catch{return!1}return E!==d}var xu={__proto__:null,on:tt,off:Nt,stopPropagation:_i,disableScrollPropagation:Yi,disableClickPropagation:$o,preventDefault:pn,stop:Ja,getPropagationPath:Xl,getMousePosition:Jl,getWheelDelta:dr,isExternalTarget:Sa,addListener:tt,removeListener:Nt},Fs=Z.extend({run:function(d,y,E,M){this.stop(),this._el=d,this._inProgress=!0,this._duration=E||.25,this._easeOutPower=1/Math.max(M||.5,.2),this._startPos=Xa(d),this._offset=y.subtract(this._startPos),this._startTime=+new Date,this.fire("start"),this._animate()},stop:function(){this._inProgress&&(this._step(!0),this._complete())},_animate:function(){this._animId=U(this._animate,this),this._step()},_step:function(d){var y=+new Date-this._startTime,E=this._duration*1e3;y<E?this._runFrame(this._easeOut(y/E),d):(this._runFrame(1),this._complete())},_runFrame:function(d,y){var E=this._startPos.add(this._offset.multiplyBy(d));y&&E._round(),Ut(this._el,E),this.fire("step")},_complete:function(){z(this._animId),this._inProgress=!1,this.fire("end")},_easeOut:function(d){return 1-Math.pow(1-d,this._easeOutPower)}}),ht=Z.extend({options:{crs:Ze,center:void 0,zoom:void 0,minZoom:void 0,maxZoom:void 0,layers:[],maxBounds:void 0,renderer:void 0,zoomAnimation:!0,zoomAnimationThreshold:4,fadeAnimation:!0,markerZoomAnimation:!0,transform3DLimit:8388608,zoomSnap:1,zoomDelta:1,trackResize:!0},initialize:function(d,y){y=_(this,y),this._handlers=[],this._layers={},this._zoomBoundLayers={},this._sizeChanged=!0,this._initContainer(d),this._initLayout(),this._onResize=o(this._onResize,this),this._initEvents(),y.maxBounds&&this.setMaxBounds(y.maxBounds),y.zoom!==void 0&&(this._zoom=this._limitZoom(y.zoom)),y.center&&y.zoom!==void 0&&this.setView(me(y.center),y.zoom,{reset:!0}),this.callInitHooks(),this._zoomAnimated=ql&&He.any3d&&!He.mobileOpera&&this.options.zoomAnimation,this._zoomAnimated&&(this._createAnimProxy(),tt(this._proxy,jf,this._catchTransitionEnd,this)),this._addLayers(this.options.layers)},setView:function(d,y,E){if(y=y===void 0?this._zoom:this._limitZoom(y),d=this._limitCenter(me(d),y,this.options.maxBounds),E=E||{},this._stop(),this._loaded&&!E.reset&&E!==!0){E.animate!==void 0&&(E.zoom=i({animate:E.animate},E.zoom),E.pan=i({animate:E.animate,duration:E.duration},E.pan));var M=this._zoom!==y?this._tryAnimatedZoom&&this._tryAnimatedZoom(d,y,E.zoom):this._tryAnimatedPan(d,E.pan);if(M)return clearTimeout(this._sizeTimer),this}return this._resetView(d,y,E.pan&&E.pan.noMoveStart),this},setZoom:function(d,y){return this._loaded?this.setView(this.getCenter(),d,{zoom:y}):(this._zoom=d,this)},zoomIn:function(d,y){return d=d||(He.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom+d,y)},zoomOut:function(d,y){return d=d||(He.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom-d,y)},setZoomAround:function(d,y,E){var M=this.getZoomScale(y),R=this.getSize().divideBy(2),F=d instanceof re?d:this.latLngToContainerPoint(d),ee=F.subtract(R).multiplyBy(1-1/M),ce=this.containerPointToLatLng(R.add(ee));return this.setView(ce,y,{zoom:E})},_getBoundsCenterZoom:function(d,y){y=y||{},d=d.getBounds?d.getBounds():X(d);var E=se(y.paddingTopLeft||y.padding||[0,0]),M=se(y.paddingBottomRight||y.padding||[0,0]),R=this.getBoundsZoom(d,!1,E.add(M));if(R=typeof y.maxZoom=="number"?Math.min(y.maxZoom,R):R,R===1/0)return{center:d.getCenter(),zoom:R};var F=M.subtract(E).divideBy(2),ee=this.project(d.getSouthWest(),R),ce=this.project(d.getNorthEast(),R),ge=this.unproject(ee.add(ce).divideBy(2).add(F),R);return{center:ge,zoom:R}},fitBounds:function(d,y){if(d=X(d),!d.isValid())throw new Error("Bounds are not valid.");var E=this._getBoundsCenterZoom(d,y);return this.setView(E.center,E.zoom,y)},fitWorld:function(d){return this.fitBounds([[-90,-180],[90,180]],d)},panTo:function(d,y){return this.setView(d,this._zoom,{pan:y})},panBy:function(d,y){if(d=se(d).round(),y=y||{},!d.x&&!d.y)return this.fire("moveend");if(y.animate!==!0&&!this.getSize().contains(d))return this._resetView(this.unproject(this.project(this.getCenter()).add(d)),this.getZoom()),this;if(this._panAnim||(this._panAnim=new Fs,this._panAnim.on({step:this._onPanTransitionStep,end:this._onPanTransitionEnd},this)),y.noMoveStart||this.fire("movestart"),y.animate!==!1){nt(this._mapPane,"leaflet-pan-anim");var E=this._getMapPanePos().subtract(d).round();this._panAnim.run(this._mapPane,E,y.duration||.25,y.easeLinearity)}else this._rawPanBy(d),this.fire("move").fire("moveend");return this},flyTo:function(d,y,E){if(E=E||{},E.animate===!1||!He.any3d)return this.setView(d,y,E);this._stop();var M=this.project(this.getCenter()),R=this.project(d),F=this.getSize(),ee=this._zoom;d=me(d),y=y===void 0?ee:y;var ce=Math.max(F.x,F.y),ge=ce*this.getZoomScale(ee,y),Ae=R.distanceTo(M)||1,Le=1.42,qe=Le*Le;function ot(un){var Ta=un?-1:1,Fo=un?ge:ce,Zf=ge*ge-ce*ce+Ta*qe*qe*Ae*Ae,mc=2*Fo*qe*Ae,pc=Zf/mc,so=Math.sqrt(pc*pc+1)-pc,Oa=so<1e-9?-18:Math.log(so);return Oa}function zn(un){return(Math.exp(un)-Math.exp(-un))/2}function gn(un){return(Math.exp(un)+Math.exp(-un))/2}function Pr(un){return zn(un)/gn(un)}var _t=ot(0);function wt(un){return ce*(gn(_t)/gn(_t+Le*un))}function ut(un){return ce*(gn(_t)*Pr(_t+Le*un)-zn(_t))/qe}function ao(un){return 1-Math.pow(1-un,1.5)}var Zr=Date.now(),Du=(ot(1)-_t)/Le,oo=E.duration?1e3*E.duration:1e3*Du*.8;function Vf(){var un=(Date.now()-Zr)/oo,Ta=ao(un)*Du;un<=1?(this._flyToFrame=U(Vf,this),this._move(this.unproject(M.add(R.subtract(M).multiplyBy(ut(Ta)/Ae)),ee),this.getScaleZoom(ce/wt(Ta),ee),{flyTo:!0})):this._move(d,y)._moveEnd(!0)}return this._moveStart(!0,E.noMoveStart),Vf.call(this),this},flyToBounds:function(d,y){var E=this._getBoundsCenterZoom(d,y);return this.flyTo(E.center,E.zoom,y)},setMaxBounds:function(d){return d=X(d),this.listens("moveend",this._panInsideMaxBounds)&&this.off("moveend",this._panInsideMaxBounds),d.isValid()?(this.options.maxBounds=d,this._loaded&&this._panInsideMaxBounds(),this.on("moveend",this._panInsideMaxBounds)):(this.options.maxBounds=null,this)},setMinZoom:function(d){var y=this.options.minZoom;return this.options.minZoom=d,this._loaded&&y!==d&&(this.fire("zoomlevelschange"),this.getZoom()<this.options.minZoom)?this.setZoom(d):this},setMaxZoom:function(d){var y=this.options.maxZoom;return this.options.maxZoom=d,this._loaded&&y!==d&&(this.fire("zoomlevelschange"),this.getZoom()>this.options.maxZoom)?this.setZoom(d):this},panInsideBounds:function(d,y){this._enforcingBounds=!0;var E=this.getCenter(),M=this._limitCenter(E,this._zoom,X(d));return E.equals(M)||this.panTo(M,y),this._enforcingBounds=!1,this},panInside:function(d,y){y=y||{};var E=se(y.paddingTopLeft||y.padding||[0,0]),M=se(y.paddingBottomRight||y.padding||[0,0]),R=this.project(this.getCenter()),F=this.project(d),ee=this.getPixelBounds(),ce=W([ee.min.add(E),ee.max.subtract(M)]),ge=ce.getSize();if(!ce.contains(F)){this._enforcingBounds=!0;var Ae=F.subtract(ce.getCenter()),Le=ce.extend(F).getSize().subtract(ge);R.x+=Ae.x<0?-Le.x:Le.x,R.y+=Ae.y<0?-Le.y:Le.y,this.panTo(this.unproject(R),y),this._enforcingBounds=!1}return this},invalidateSize:function(d){if(!this._loaded)return this;d=i({animate:!1,pan:!0},d===!0?{animate:!0}:d);var y=this.getSize();this._sizeChanged=!0,this._lastCenter=null;var E=this.getSize(),M=y.divideBy(2).round(),R=E.divideBy(2).round(),F=M.subtract(R);return!F.x&&!F.y?this:(d.animate&&d.pan?this.panBy(F):(d.pan&&this._rawPanBy(F),this.fire("move"),d.debounceMoveend?(clearTimeout(this._sizeTimer),this._sizeTimer=setTimeout(o(this.fire,this,"moveend"),200)):this.fire("moveend")),this.fire("resize",{oldSize:y,newSize:E}))},stop:function(){return this.setZoom(this._limitZoom(this._zoom)),this.options.zoomSnap||this.fire("viewreset"),this._stop()},locate:function(d){if(d=this._locateOptions=i({timeout:1e4,watch:!1},d),!("geolocation"in navigator))return this._handleGeolocationError({code:0,message:"Geolocation not supported."}),this;var y=o(this._handleGeolocationResponse,this),E=o(this._handleGeolocationError,this);return d.watch?this._locationWatchId=navigator.geolocation.watchPosition(y,E,d):navigator.geolocation.getCurrentPosition(y,E,d),this},stopLocate:function(){return navigator.geolocation&&navigator.geolocation.clearWatch&&navigator.geolocation.clearWatch(this._locationWatchId),this._locateOptions&&(this._locateOptions.setView=!1),this},_handleGeolocationError:function(d){if(this._container._leaflet_id){var y=d.code,E=d.message||(y===1?"permission denied":y===2?"position unavailable":"timeout");this._locateOptions.setView&&!this._loaded&&this.fitWorld(),this.fire("locationerror",{code:y,message:"Geolocation error: "+E+"."})}},_handleGeolocationResponse:function(d){if(this._container._leaflet_id){var y=d.coords.latitude,E=d.coords.longitude,M=new oe(y,E),R=M.toBounds(d.coords.accuracy*2),F=this._locateOptions;if(F.setView){var ee=this.getBoundsZoom(R);this.setView(M,F.maxZoom?Math.min(ee,F.maxZoom):ee)}var ce={latlng:M,bounds:R,timestamp:d.timestamp};for(var ge in d.coords)typeof d.coords[ge]=="number"&&(ce[ge]=d.coords[ge]);this.fire("locationfound",ce)}},addHandler:function(d,y){if(!y)return this;var E=this[d]=new y(this);return this._handlers.push(E),this.options[d]&&E.enable(),this},remove:function(){if(this._initEvents(!0),this.options.maxBounds&&this.off("moveend",this._panInsideMaxBounds),this._containerId!==this._container._leaflet_id)throw new Error("Map container is being reused by another instance");try{delete this._container._leaflet_id,delete this._containerId}catch{this._container._leaflet_id=void 0,this._containerId=void 0}this._locationWatchId!==void 0&&this.stopLocate(),this._stop(),It(this._mapPane),this._clearControlPos&&this._clearControlPos(),this._resizeRequest&&(z(this._resizeRequest),this._resizeRequest=null),this._clearHandlers(),this._loaded&&this.fire("unload");var d;for(d in this._layers)this._layers[d].remove();for(d in this._panes)It(this._panes[d]);return this._layers=[],this._panes=[],delete this._mapPane,delete this._renderer,this},createPane:function(d,y){var E="leaflet-pane"+(d?" leaflet-"+d.replace("Pane","")+"-pane":""),M=ct("div",E,y||this._mapPane);return d&&(this._panes[d]=M),M},getCenter:function(){return this._checkIfLoaded(),this._lastCenter&&!this._moved()?this._lastCenter.clone():this.layerPointToLatLng(this._getCenterLayerPoint())},getZoom:function(){return this._zoom},getBounds:function(){var d=this.getPixelBounds(),y=this.unproject(d.getBottomLeft()),E=this.unproject(d.getTopRight());return new ae(y,E)},getMinZoom:function(){return this.options.minZoom===void 0?this._layersMinZoom||0:this.options.minZoom},getMaxZoom:function(){return this.options.maxZoom===void 0?this._layersMaxZoom===void 0?1/0:this._layersMaxZoom:this.options.maxZoom},getBoundsZoom:function(d,y,E){d=X(d),E=se(E||[0,0]);var M=this.getZoom()||0,R=this.getMinZoom(),F=this.getMaxZoom(),ee=d.getNorthWest(),ce=d.getSouthEast(),ge=this.getSize().subtract(E),Ae=W(this.project(ce,M),this.project(ee,M)).getSize(),Le=He.any3d?this.options.zoomSnap:1,qe=ge.x/Ae.x,ot=ge.y/Ae.y,zn=y?Math.max(qe,ot):Math.min(qe,ot);return M=this.getScaleZoom(zn,M),Le&&(M=Math.round(M/(Le/100))*(Le/100),M=y?Math.ceil(M/Le)*Le:Math.floor(M/Le)*Le),Math.max(R,Math.min(F,M))},getSize:function(){return(!this._size||this._sizeChanged)&&(this._size=new re(this._container.clientWidth||0,this._container.clientHeight||0),this._sizeChanged=!1),this._size.clone()},getPixelBounds:function(d,y){var E=this._getTopLeftPoint(d,y);return new B(E,E.add(this.getSize()))},getPixelOrigin:function(){return this._checkIfLoaded(),this._pixelOrigin},getPixelWorldBounds:function(d){return this.options.crs.getProjectedBounds(d===void 0?this.getZoom():d)},getPane:function(d){return typeof d=="string"?this._panes[d]:d},getPanes:function(){return this._panes},getContainer:function(){return this._container},getZoomScale:function(d,y){var E=this.options.crs;return y=y===void 0?this._zoom:y,E.scale(d)/E.scale(y)},getScaleZoom:function(d,y){var E=this.options.crs;y=y===void 0?this._zoom:y;var M=E.zoom(d*E.scale(y));return isNaN(M)?1/0:M},project:function(d,y){return y=y===void 0?this._zoom:y,this.options.crs.latLngToPoint(me(d),y)},unproject:function(d,y){return y=y===void 0?this._zoom:y,this.options.crs.pointToLatLng(se(d),y)},layerPointToLatLng:function(d){var y=se(d).add(this.getPixelOrigin());return this.unproject(y)},latLngToLayerPoint:function(d){var y=this.project(me(d))._round();return y._subtract(this.getPixelOrigin())},wrapLatLng:function(d){return this.options.crs.wrapLatLng(me(d))},wrapLatLngBounds:function(d){return this.options.crs.wrapLatLngBounds(X(d))},distance:function(d,y){return this.options.crs.distance(me(d),me(y))},containerPointToLayerPoint:function(d){return se(d).subtract(this._getMapPanePos())},layerPointToContainerPoint:function(d){return se(d).add(this._getMapPanePos())},containerPointToLatLng:function(d){var y=this.containerPointToLayerPoint(se(d));return this.layerPointToLatLng(y)},latLngToContainerPoint:function(d){return this.layerPointToContainerPoint(this.latLngToLayerPoint(me(d)))},mouseEventToContainerPoint:function(d){return Jl(d,this._container)},mouseEventToLayerPoint:function(d){return this.containerPointToLayerPoint(this.mouseEventToContainerPoint(d))},mouseEventToLatLng:function(d){return this.layerPointToLatLng(this.mouseEventToLayerPoint(d))},_initContainer:function(d){var y=this._container=Nf(d);if(y){if(y._leaflet_id)throw new Error("Map container is already initialized.")}else throw new Error("Map container not found.");tt(y,"scroll",this._onScroll,this),this._containerId=u(y)},_initLayout:function(){var d=this._container;this._fadeAnimated=this.options.fadeAnimation&&He.any3d,nt(d,"leaflet-container"+(He.touch?" leaflet-touch":"")+(He.retina?" leaflet-retina":"")+(He.ielt9?" leaflet-oldie":"")+(He.safari?" leaflet-safari":"")+(this._fadeAnimated?" leaflet-fade-anim":""));var y=Yl(d,"position");y!=="absolute"&&y!=="relative"&&y!=="fixed"&&y!=="sticky"&&(d.style.position="relative"),this._initPanes(),this._initControlPos&&this._initControlPos()},_initPanes:function(){var d=this._panes={};this._paneRenderers={},this._mapPane=this.createPane("mapPane",this._container),Ut(this._mapPane,new re(0,0)),this.createPane("tilePane"),this.createPane("overlayPane"),this.createPane("shadowPane"),this.createPane("markerPane"),this.createPane("tooltipPane"),this.createPane("popupPane"),this.options.markerZoomAnimation||(nt(d.markerPane,"leaflet-zoom-hide"),nt(d.shadowPane,"leaflet-zoom-hide"))},_resetView:function(d,y,E){Ut(this._mapPane,new re(0,0));var M=!this._loaded;this._loaded=!0,y=this._limitZoom(y),this.fire("viewprereset");var R=this._zoom!==y;this._moveStart(R,E)._move(d,y)._moveEnd(R),this.fire("viewreset"),M&&this.fire("load")},_moveStart:function(d,y){return d&&this.fire("zoomstart"),y||this.fire("movestart"),this},_move:function(d,y,E,M){y===void 0&&(y=this._zoom);var R=this._zoom!==y;return this._zoom=y,this._lastCenter=d,this._pixelOrigin=this._getNewPixelOrigin(d),M?E&&E.pinch&&this.fire("zoom",E):((R||E&&E.pinch)&&this.fire("zoom",E),this.fire("move",E)),this},_moveEnd:function(d){return d&&this.fire("zoomend"),this.fire("moveend")},_stop:function(){return z(this._flyToFrame),this._panAnim&&this._panAnim.stop(),this},_rawPanBy:function(d){Ut(this._mapPane,this._getMapPanePos().subtract(d))},_getZoomSpan:function(){return this.getMaxZoom()-this.getMinZoom()},_panInsideMaxBounds:function(){this._enforcingBounds||this.panInsideBounds(this.options.maxBounds)},_checkIfLoaded:function(){if(!this._loaded)throw new Error("Set map center and zoom first.")},_initEvents:function(d){this._targets={},this._targets[u(this._container)]=this;var y=d?Nt:tt;y(this._container,"click dblclick mousedown mouseup mouseover mouseout mousemove contextmenu keypress keydown keyup",this._handleDOMEvent,this),this.options.trackResize&&y(window,"resize",this._onResize,this),He.any3d&&this.options.transform3DLimit&&(d?this.off:this.on).call(this,"moveend",this._onMoveEnd)},_onResize:function(){z(this._resizeRequest),this._resizeRequest=U(function(){this.invalidateSize({debounceMoveend:!0})},this)},_onScroll:function(){this._container.scrollTop=0,this._container.scrollLeft=0},_onMoveEnd:function(){var d=this._getMapPanePos();Math.max(Math.abs(d.x),Math.abs(d.y))>=this.options.transform3DLimit&&this._resetView(this.getCenter(),this.getZoom())},_findEventTargets:function(d,y){for(var E=[],M,R=y==="mouseout"||y==="mouseover",F=d.target||d.srcElement,ee=!1;F;){if(M=this._targets[u(F)],M&&(y==="click"||y==="preclick")&&this._draggableMoved(M)){ee=!0;break}if(M&&M.listens(y,!0)&&(R&&!Sa(F,d)||(E.push(M),R))||F===this._container)break;F=F.parentNode}return!E.length&&!ee&&!R&&this.listens(y,!0)&&(E=[this]),E},_isClickDisabled:function(d){for(;d&&d!==this._container;){if(d._leaflet_disable_click)return!0;d=d.parentNode}},_handleDOMEvent:function(d){var y=d.target||d.srcElement;if(!(!this._loaded||y._leaflet_disable_events||d.type==="click"&&this._isClickDisabled(y))){var E=d.type;E==="mousedown"&&zs(y),this._fireDOMEvent(d,E)}},_mouseEvents:["click","dblclick","mouseover","mouseout","contextmenu"],_fireDOMEvent:function(d,y,E){if(d.type==="click"){var M=i({},d);M.type="preclick",this._fireDOMEvent(M,M.type,E)}var R=this._findEventTargets(d,y);if(E){for(var F=[],ee=0;ee<E.length;ee++)E[ee].listens(y,!0)&&F.push(E[ee]);R=F.concat(R)}if(R.length){y==="contextmenu"&&pn(d);var ce=R[0],ge={originalEvent:d};if(d.type!=="keypress"&&d.type!=="keydown"&&d.type!=="keyup"){var Ae=ce.getLatLng&&(!ce._radius||ce._radius<=10);ge.containerPoint=Ae?this.latLngToContainerPoint(ce.getLatLng()):this.mouseEventToContainerPoint(d),ge.layerPoint=this.containerPointToLayerPoint(ge.containerPoint),ge.latlng=Ae?ce.getLatLng():this.layerPointToLatLng(ge.layerPoint)}for(ee=0;ee<R.length;ee++)if(R[ee].fire(y,ge,!0),ge.originalEvent._stopped||R[ee].options.bubblingMouseEvents===!1&&P(this._mouseEvents,y)!==-1)return}},_draggableMoved:function(d){return d=d.dragging&&d.dragging.enabled()?d:this,d.dragging&&d.dragging.moved()||this.boxZoom&&this.boxZoom.moved()},_clearHandlers:function(){for(var d=0,y=this._handlers.length;d<y;d++)this._handlers[d].disable()},whenReady:function(d,y){return this._loaded?d.call(y||this,{target:this}):this.on("load",d,y),this},_getMapPanePos:function(){return Xa(this._mapPane)||new re(0,0)},_moved:function(){var d=this._getMapPanePos();return d&&!d.equals([0,0])},_getTopLeftPoint:function(d,y){var E=d&&y!==void 0?this._getNewPixelOrigin(d,y):this.getPixelOrigin();return E.subtract(this._getMapPanePos())},_getNewPixelOrigin:function(d,y){var E=this.getSize()._divideBy(2);return this.project(d,y)._subtract(E)._add(this._getMapPanePos())._round()},_latLngToNewLayerPoint:function(d,y,E){var M=this._getNewPixelOrigin(E,y);return this.project(d,y)._subtract(M)},_latLngBoundsToNewLayerBounds:function(d,y,E){var M=this._getNewPixelOrigin(E,y);return W([this.project(d.getSouthWest(),y)._subtract(M),this.project(d.getNorthWest(),y)._subtract(M),this.project(d.getSouthEast(),y)._subtract(M),this.project(d.getNorthEast(),y)._subtract(M)])},_getCenterLayerPoint:function(){return this.containerPointToLayerPoint(this.getSize()._divideBy(2))},_getCenterOffset:function(d){return this.latLngToLayerPoint(d).subtract(this._getCenterLayerPoint())},_limitCenter:function(d,y,E){if(!E)return d;var M=this.project(d,y),R=this.getSize().divideBy(2),F=new B(M.subtract(R),M.add(R)),ee=this._getBoundsOffset(F,E,y);return Math.abs(ee.x)<=1&&Math.abs(ee.y)<=1?d:this.unproject(M.add(ee),y)},_limitOffset:function(d,y){if(!y)return d;var E=this.getPixelBounds(),M=new B(E.min.add(d),E.max.add(d));return d.add(this._getBoundsOffset(M,y))},_getBoundsOffset:function(d,y,E){var M=W(this.project(y.getNorthEast(),E),this.project(y.getSouthWest(),E)),R=M.min.subtract(d.min),F=M.max.subtract(d.max),ee=this._rebound(R.x,-F.x),ce=this._rebound(R.y,-F.y);return new re(ee,ce)},_rebound:function(d,y){return d+y>0?Math.round(d-y)/2:Math.max(0,Math.ceil(d))-Math.max(0,Math.floor(y))},_limitZoom:function(d){var y=this.getMinZoom(),E=this.getMaxZoom(),M=He.any3d?this.options.zoomSnap:1;return M&&(d=Math.round(d/M)*M),Math.max(y,Math.min(E,d))},_onPanTransitionStep:function(){this.fire("move")},_onPanTransitionEnd:function(){en(this._mapPane,"leaflet-pan-anim"),this.fire("moveend")},_tryAnimatedPan:function(d,y){var E=this._getCenterOffset(d)._trunc();return(y&&y.animate)!==!0&&!this.getSize().contains(E)?!1:(this.panBy(E,y),!0)},_createAnimProxy:function(){var d=this._proxy=ct("div","leaflet-proxy leaflet-zoom-animated");this._panes.mapPane.appendChild(d),this.on("zoomanim",function(y){var E=Za,M=this._proxy.style[E];wa(this._proxy,this.project(y.center,y.zoom),this.getZoomScale(y.zoom,1)),M===this._proxy.style[E]&&this._animatingZoom&&this._onZoomTransitionEnd()},this),this.on("load moveend",this._animMoveEnd,this),this._on("unload",this._destroyAnimProxy,this)},_destroyAnimProxy:function(){It(this._proxy),this.off("load moveend",this._animMoveEnd,this),delete this._proxy},_animMoveEnd:function(){var d=this.getCenter(),y=this.getZoom();wa(this._proxy,this.project(d,y),this.getZoomScale(y,1))},_catchTransitionEnd:function(d){this._animatingZoom&&d.propertyName.indexOf("transform")>=0&&this._onZoomTransitionEnd()},_nothingToAnimate:function(){return!this._container.getElementsByClassName("leaflet-zoom-animated").length},_tryAnimatedZoom:function(d,y,E){if(this._animatingZoom)return!0;if(E=E||{},!this._zoomAnimated||E.animate===!1||this._nothingToAnimate()||Math.abs(y-this._zoom)>this.options.zoomAnimationThreshold)return!1;var M=this.getZoomScale(y),R=this._getCenterOffset(d)._divideBy(1-1/M);return E.animate!==!0&&!this.getSize().contains(R)?!1:(U(function(){this._moveStart(!0,E.noMoveStart||!1)._animateZoom(d,y,!0)},this),!0)},_animateZoom:function(d,y,E,M){this._mapPane&&(E&&(this._animatingZoom=!0,this._animateToCenter=d,this._animateToZoom=y,nt(this._mapPane,"leaflet-zoom-anim")),this.fire("zoomanim",{center:d,zoom:y,noUpdate:M}),this._tempFireZoomEvent||(this._tempFireZoomEvent=this._zoom!==this._animateToZoom),this._move(this._animateToCenter,this._animateToZoom,void 0,!0),setTimeout(o(this._onZoomTransitionEnd,this),250))},_onZoomTransitionEnd:function(){this._animatingZoom&&(this._mapPane&&en(this._mapPane,"leaflet-zoom-anim"),this._animatingZoom=!1,this._move(this._animateToCenter,this._animateToZoom,void 0,!0),this._tempFireZoomEvent&&this.fire("zoom"),delete this._tempFireZoomEvent,this.fire("move"),this._moveEnd(!0))}});function Lf(d,y){return new ht(d,y)}var Mr=J.extend({options:{position:"topright"},initialize:function(d){_(this,d)},getPosition:function(){return this.options.position},setPosition:function(d){var y=this._map;return y&&y.removeControl(this),this.options.position=d,y&&y.addControl(this),this},getContainer:function(){return this._container},addTo:function(d){this.remove(),this._map=d;var y=this._container=this.onAdd(d),E=this.getPosition(),M=d._controlCorners[E];return nt(y,"leaflet-control"),E.indexOf("bottom")!==-1?M.insertBefore(y,M.firstChild):M.appendChild(y),this._map.on("unload",this.remove,this),this},remove:function(){return this._map?(It(this._container),this.onRemove&&this.onRemove(this._map),this._map.off("unload",this.remove,this),this._map=null,this):this},_refocusOnMap:function(d){this._map&&d&&d.screenX>0&&d.screenY>0&&this._map.getContainer().focus()}}),ka=function(d){return new Mr(d)};ht.include({addControl:function(d){return d.addTo(this),this},removeControl:function(d){return d.remove(),this},_initControlPos:function(){var d=this._controlCorners={},y="leaflet-",E=this._controlContainer=ct("div",y+"control-container",this._container);function M(R,F){var ee=y+R+" "+y+F;d[R+F]=ct("div",ee,E)}M("top","left"),M("top","right"),M("bottom","left"),M("bottom","right")},_clearControlPos:function(){for(var d in this._controlCorners)It(this._controlCorners[d]);It(this._controlContainer),delete this._controlCorners,delete this._controlContainer}});var Ql=Mr.extend({options:{collapsed:!0,position:"topright",autoZIndex:!0,hideSingleBase:!1,sortLayers:!1,sortFunction:function(d,y,E,M){return E<M?-1:M<E?1:0}},initialize:function(d,y,E){_(this,E),this._layerControlInputs=[],this._layers=[],this._lastZIndex=0,this._handlingClick=!1,this._preventClick=!1;for(var M in d)this._addLayer(d[M],M);for(M in y)this._addLayer(y[M],M,!0)},onAdd:function(d){this._initLayout(),this._update(),this._map=d,d.on("zoomend",this._checkDisabledLayers,this);for(var y=0;y<this._layers.length;y++)this._layers[y].layer.on("add remove",this._onLayerChange,this);return this._container},addTo:function(d){return Mr.prototype.addTo.call(this,d),this._expandIfNotCollapsed()},onRemove:function(){this._map.off("zoomend",this._checkDisabledLayers,this);for(var d=0;d<this._layers.length;d++)this._layers[d].layer.off("add remove",this._onLayerChange,this)},addBaseLayer:function(d,y){return this._addLayer(d,y),this._map?this._update():this},addOverlay:function(d,y){return this._addLayer(d,y,!0),this._map?this._update():this},removeLayer:function(d){d.off("add remove",this._onLayerChange,this);var y=this._getLayer(u(d));return y&&this._layers.splice(this._layers.indexOf(y),1),this._map?this._update():this},expand:function(){nt(this._container,"leaflet-control-layers-expanded"),this._section.style.height=null;var d=this._map.getSize().y-(this._container.offsetTop+50);return d<this._section.clientHeight?(nt(this._section,"leaflet-control-layers-scrollbar"),this._section.style.height=d+"px"):en(this._section,"leaflet-control-layers-scrollbar"),this._checkDisabledLayers(),this},collapse:function(){return en(this._container,"leaflet-control-layers-expanded"),this},_initLayout:function(){var d="leaflet-control-layers",y=this._container=ct("div",d),E=this.options.collapsed;y.setAttribute("aria-haspopup",!0),$o(y),Yi(y);var M=this._section=ct("section",d+"-list");E&&(this._map.on("click",this.collapse,this),tt(y,{mouseenter:this._expandSafely,mouseleave:this.collapse},this));var R=this._layersLink=ct("a",d+"-toggle",y);R.href="#",R.title="Layers",R.setAttribute("role","button"),tt(R,{keydown:function(F){F.keyCode===13&&this._expandSafely()},click:function(F){pn(F),this._expandSafely()}},this),E||this.expand(),this._baseLayersList=ct("div",d+"-base",M),this._separator=ct("div",d+"-separator",M),this._overlaysList=ct("div",d+"-overlays",M),y.appendChild(M)},_getLayer:function(d){for(var y=0;y<this._layers.length;y++)if(this._layers[y]&&u(this._layers[y].layer)===d)return this._layers[y]},_addLayer:function(d,y,E){this._map&&d.on("add remove",this._onLayerChange,this),this._layers.push({layer:d,name:y,overlay:E}),this.options.sortLayers&&this._layers.sort(o(function(M,R){return this.options.sortFunction(M.layer,R.layer,M.name,R.name)},this)),this.options.autoZIndex&&d.setZIndex&&(this._lastZIndex++,d.setZIndex(this._lastZIndex)),this._expandIfNotCollapsed()},_update:function(){if(!this._container)return this;qr(this._baseLayersList),qr(this._overlaysList),this._layerControlInputs=[];var d,y,E,M,R=0;for(E=0;E<this._layers.length;E++)M=this._layers[E],this._addItem(M),y=y||M.overlay,d=d||!M.overlay,R+=M.overlay?0:1;return this.options.hideSingleBase&&(d=d&&R>1,this._baseLayersList.style.display=d?"":"none"),this._separator.style.display=y&&d?"":"none",this},_onLayerChange:function(d){this._handlingClick||this._update();var y=this._getLayer(u(d.target)),E=y.overlay?d.type==="add"?"overlayadd":"overlayremove":d.type==="add"?"baselayerchange":null;E&&this._map.fire(E,y)},_createRadioElement:function(d,y){var E='<input type="radio" class="leaflet-control-layers-selector" name="'+d+'"'+(y?' checked="checked"':"")+"/>",M=document.createElement("div");return M.innerHTML=E,M.firstChild},_addItem:function(d){var y=document.createElement("label"),E=this._map.hasLayer(d.layer),M;d.overlay?(M=document.createElement("input"),M.type="checkbox",M.className="leaflet-control-layers-selector",M.defaultChecked=E):M=this._createRadioElement("leaflet-base-layers_"+u(this),E),this._layerControlInputs.push(M),M.layerId=u(d.layer),tt(M,"click",this._onInputClick,this);var R=document.createElement("span");R.innerHTML=" "+d.name;var F=document.createElement("span");y.appendChild(F),F.appendChild(M),F.appendChild(R);var ee=d.overlay?this._overlaysList:this._baseLayersList;return ee.appendChild(y),this._checkDisabledLayers(),y},_onInputClick:function(){if(!this._preventClick){var d=this._layerControlInputs,y,E,M=[],R=[];this._handlingClick=!0;for(var F=d.length-1;F>=0;F--)y=d[F],E=this._getLayer(y.layerId).layer,y.checked?M.push(E):y.checked||R.push(E);for(F=0;F<R.length;F++)this._map.hasLayer(R[F])&&this._map.removeLayer(R[F]);for(F=0;F<M.length;F++)this._map.hasLayer(M[F])||this._map.addLayer(M[F]);this._handlingClick=!1,this._refocusOnMap()}},_checkDisabledLayers:function(){for(var d=this._layerControlInputs,y,E,M=this._map.getZoom(),R=d.length-1;R>=0;R--)y=d[R],E=this._getLayer(y.layerId).layer,y.disabled=E.options.minZoom!==void 0&&M<E.options.minZoom||E.options.maxZoom!==void 0&&M>E.options.maxZoom},_expandIfNotCollapsed:function(){return this._map&&!this.options.collapsed&&this.expand(),this},_expandSafely:function(){var d=this._section;this._preventClick=!0,tt(d,"click",pn),this.expand();var y=this;setTimeout(function(){Nt(d,"click",pn),y._preventClick=!1})}}),zp=function(d,y,E){return new Ql(d,y,E)},If=Mr.extend({options:{position:"topleft",zoomInText:'<span aria-hidden="true">+</span>',zoomInTitle:"Zoom in",zoomOutText:'<span aria-hidden="true">&#x2212;</span>',zoomOutTitle:"Zoom out"},onAdd:function(d){var y="leaflet-control-zoom",E=ct("div",y+" leaflet-bar"),M=this.options;return this._zoomInButton=this._createButton(M.zoomInText,M.zoomInTitle,y+"-in",E,this._zoomIn),this._zoomOutButton=this._createButton(M.zoomOutText,M.zoomOutTitle,y+"-out",E,this._zoomOut),this._updateDisabled(),d.on("zoomend zoomlevelschange",this._updateDisabled,this),E},onRemove:function(d){d.off("zoomend zoomlevelschange",this._updateDisabled,this)},disable:function(){return this._disabled=!0,this._updateDisabled(),this},enable:function(){return this._disabled=!1,this._updateDisabled(),this},_zoomIn:function(d){!this._disabled&&this._map._zoom<this._map.getMaxZoom()&&this._map.zoomIn(this._map.options.zoomDelta*(d.shiftKey?3:1))},_zoomOut:function(d){!this._disabled&&this._map._zoom>this._map.getMinZoom()&&this._map.zoomOut(this._map.options.zoomDelta*(d.shiftKey?3:1))},_createButton:function(d,y,E,M,R){var F=ct("a",E,M);return F.innerHTML=d,F.href="#",F.title=y,F.setAttribute("role","button"),F.setAttribute("aria-label",y),$o(F),tt(F,"click",Ja),tt(F,"click",R,this),tt(F,"click",this._refocusOnMap,this),F},_updateDisabled:function(){var d=this._map,y="leaflet-disabled";en(this._zoomInButton,y),en(this._zoomOutButton,y),this._zoomInButton.setAttribute("aria-disabled","false"),this._zoomOutButton.setAttribute("aria-disabled","false"),(this._disabled||d._zoom===d.getMinZoom())&&(nt(this._zoomOutButton,y),this._zoomOutButton.setAttribute("aria-disabled","true")),(this._disabled||d._zoom===d.getMaxZoom())&&(nt(this._zoomInButton,y),this._zoomInButton.setAttribute("aria-disabled","true"))}});ht.mergeOptions({zoomControl:!0}),ht.addInitHook(function(){this.options.zoomControl&&(this.zoomControl=new If,this.addControl(this.zoomControl))});var kx=function(d){return new If(d)},Up=Mr.extend({options:{position:"bottomleft",maxWidth:100,metric:!0,imperial:!0},onAdd:function(d){var y="leaflet-control-scale",E=ct("div",y),M=this.options;return this._addScales(M,y+"-line",E),d.on(M.updateWhenIdle?"moveend":"move",this._update,this),d.whenReady(this._update,this),E},onRemove:function(d){d.off(this.options.updateWhenIdle?"moveend":"move",this._update,this)},_addScales:function(d,y,E){d.metric&&(this._mScale=ct("div",y,E)),d.imperial&&(this._iScale=ct("div",y,E))},_update:function(){var d=this._map,y=d.getSize().y/2,E=d.distance(d.containerPointToLatLng([0,y]),d.containerPointToLatLng([this.options.maxWidth,y]));this._updateScales(E)},_updateScales:function(d){this.options.metric&&d&&this._updateMetric(d),this.options.imperial&&d&&this._updateImperial(d)},_updateMetric:function(d){var y=this._getRoundNum(d),E=y<1e3?y+" m":y/1e3+" km";this._updateScale(this._mScale,E,y/d)},_updateImperial:function(d){var y=d*3.2808399,E,M,R;y>5280?(E=y/5280,M=this._getRoundNum(E),this._updateScale(this._iScale,M+" mi",M/E)):(R=this._getRoundNum(y),this._updateScale(this._iScale,R+" ft",R/y))},_updateScale:function(d,y,E){d.style.width=Math.round(this.options.maxWidth*E)+"px",d.innerHTML=y},_getRoundNum:function(d){var y=Math.pow(10,(Math.floor(d)+"").length-1),E=d/y;return E=E>=10?10:E>=5?5:E>=3?3:E>=2?2:1,y*E}}),$f=function(d){return new Up(d)},Ex='<svg aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="12" height="8" viewBox="0 0 12 8" class="leaflet-attribution-flag"><path fill="#4C7BE1" d="M0 0h12v4H0z"/><path fill="#FFD500" d="M0 4h12v3H0z"/><path fill="#E0BC00" d="M0 7h12v1H0z"/></svg>',Bf=Mr.extend({options:{position:"bottomright",prefix:'<a href="https://leafletjs.com" title="A JavaScript library for interactive maps">'+(He.inlineSvg?Ex+" ":"")+"Leaflet</a>"},initialize:function(d){_(this,d),this._attributions={}},onAdd:function(d){d.attributionControl=this,this._container=ct("div","leaflet-control-attribution"),$o(this._container);for(var y in d._layers)d._layers[y].getAttribution&&this.addAttribution(d._layers[y].getAttribution());return this._update(),d.on("layeradd",this._addAttribution,this),this._container},onRemove:function(d){d.off("layeradd",this._addAttribution,this)},_addAttribution:function(d){d.layer.getAttribution&&(this.addAttribution(d.layer.getAttribution()),d.layer.once("remove",function(){this.removeAttribution(d.layer.getAttribution())},this))},setPrefix:function(d){return this.options.prefix=d,this._update(),this},addAttribution:function(d){return d?(this._attributions[d]||(this._attributions[d]=0),this._attributions[d]++,this._update(),this):this},removeAttribution:function(d){return d?(this._attributions[d]&&(this._attributions[d]--,this._update()),this):this},_update:function(){if(this._map){var d=[];for(var y in this._attributions)this._attributions[y]&&d.push(y);var E=[];this.options.prefix&&E.push(this.options.prefix),d.length&&E.push(d.join(", ")),this._container.innerHTML=E.join(' <span aria-hidden="true">|</span> ')}}});ht.mergeOptions({attributionControl:!0}),ht.addInitHook(function(){this.options.attributionControl&&new Bf().addTo(this)});var Ax=function(d){return new Bf(d)};Mr.Layers=Ql,Mr.Zoom=If,Mr.Scale=Up,Mr.Attribution=Bf,ka.layers=zp,ka.zoom=kx,ka.scale=$f,ka.attribution=Ax;var Ki=J.extend({initialize:function(d){this._map=d},enable:function(){return this._enabled?this:(this._enabled=!0,this.addHooks(),this)},disable:function(){return this._enabled?(this._enabled=!1,this.removeHooks(),this):this},enabled:function(){return!!this._enabled}});Ki.addTo=function(d,y){return d.addHandler(y,this),this};var Tx={Events:Y},zf=He.touch?"touchstart mousedown":"mousedown",Qa=Z.extend({options:{clickTolerance:3},initialize:function(d,y,E,M){_(this,M),this._element=d,this._dragStartTarget=y||d,this._preventOutline=E},enable:function(){this._enabled||(tt(this._dragStartTarget,zf,this._onDown,this),this._enabled=!0)},disable:function(){this._enabled&&(Qa._dragging===this&&this.finishDrag(!0),Nt(this._dragStartTarget,zf,this._onDown,this),this._enabled=!1,this._moved=!1)},_onDown:function(d){if(this._enabled&&(this._moved=!1,!Cf(this._element,"leaflet-zoom-anim"))){if(d.touches&&d.touches.length!==1){Qa._dragging===this&&this.finishDrag();return}if(!(Qa._dragging||d.shiftKey||d.which!==1&&d.button!==1&&!d.touches)&&(Qa._dragging=this,this._preventOutline&&zs(this._element),yu(),$s(),!this._moving)){this.fire("down");var y=d.touches?d.touches[0]:d,E=vu(this._element);this._startPoint=new re(y.clientX,y.clientY),this._startPos=Xa(this._element),this._parentScale=Vl(E);var M=d.type==="mousedown";tt(document,M?"mousemove":"touchmove",this._onMove,this),tt(document,M?"mouseup":"touchend touchcancel",this._onUp,this)}}},_onMove:function(d){if(this._enabled){if(d.touches&&d.touches.length>1){this._moved=!0;return}var y=d.touches&&d.touches.length===1?d.touches[0]:d,E=new re(y.clientX,y.clientY)._subtract(this._startPoint);!E.x&&!E.y||Math.abs(E.x)+Math.abs(E.y)<this.options.clickTolerance||(E.x/=this._parentScale.x,E.y/=this._parentScale.y,pn(d),this._moved||(this.fire("dragstart"),this._moved=!0,nt(document.body,"leaflet-dragging"),this._lastTarget=d.target||d.srcElement,window.SVGElementInstance&&this._lastTarget instanceof window.SVGElementInstance&&(this._lastTarget=this._lastTarget.correspondingUseElement),nt(this._lastTarget,"leaflet-drag-target")),this._newPos=this._startPos.add(E),this._moving=!0,this._lastEvent=d,this._updatePosition())}},_updatePosition:function(){var d={originalEvent:this._lastEvent};this.fire("predrag",d),Ut(this._element,this._newPos),this.fire("drag",d)},_onUp:function(){this._enabled&&this.finishDrag()},finishDrag:function(d){en(document.body,"leaflet-dragging"),this._lastTarget&&(en(this._lastTarget,"leaflet-drag-target"),this._lastTarget=null),Nt(document,"mousemove touchmove",this._onMove,this),Nt(document,"mouseup touchend touchcancel",this._onUp,this),Wl(),qi();var y=this._moved&&this._moving;this._moving=!1,Qa._dragging=!1,y&&this.fire("dragend",{noInertia:d,distance:this._newPos.distanceTo(this._startPos)})}});function Fp(d,y,E){var M,R=[1,4,2,8],F,ee,ce,ge,Ae,Le,qe,ot;for(F=0,Le=d.length;F<Le;F++)d[F]._code=Bo(d[F],y);for(ce=0;ce<4;ce++){for(qe=R[ce],M=[],F=0,Le=d.length,ee=Le-1;F<Le;ee=F++)ge=d[F],Ae=d[ee],ge._code&qe?Ae._code&qe||(ot=_u(Ae,ge,qe,y,E),ot._code=Bo(ot,y),M.push(ot)):(Ae._code&qe&&(ot=_u(Ae,ge,qe,y,E),ot._code=Bo(ot,y),M.push(ot)),M.push(ge));d=M}return d}function Hp(d,y){var E,M,R,F,ee,ce,ge,Ae,Le;if(!d||d.length===0)throw new Error("latlngs not passed");Kr(d)||(console.warn("latlngs are not flat! Only the first ring will be used"),d=d[0]);var qe=me([0,0]),ot=X(d),zn=ot.getNorthWest().distanceTo(ot.getSouthWest())*ot.getNorthEast().distanceTo(ot.getNorthWest());zn<1700&&(qe=Uf(d));var gn=d.length,Pr=[];for(E=0;E<gn;E++){var _t=me(d[E]);Pr.push(y.project(me([_t.lat-qe.lat,_t.lng-qe.lng])))}for(ce=ge=Ae=0,E=0,M=gn-1;E<gn;M=E++)R=Pr[E],F=Pr[M],ee=R.y*F.x-F.y*R.x,ge+=(R.x+F.x)*ee,Ae+=(R.y+F.y)*ee,ce+=ee*3;ce===0?Le=Pr[0]:Le=[ge/ce,Ae/ce];var wt=y.unproject(se(Le));return me([wt.lat+qe.lat,wt.lng+qe.lng])}function Uf(d){for(var y=0,E=0,M=0,R=0;R<d.length;R++){var F=me(d[R]);y+=F.lat,E+=F.lng,M++}return me([y/M,E/M])}var Ff={__proto__:null,clipPolygon:Fp,polygonCenter:Hp,centroid:Uf};function Gp(d,y){if(!y||!d.length)return d.slice();var E=y*y;return d=jx(d,E),d=Yp(d,E),d}function qp(d,y,E){return Math.sqrt(ec(d,y,E,!0))}function Ox(d,y,E){return ec(d,y,E)}function Yp(d,y){var E=d.length,M=typeof Uint8Array<"u"?Uint8Array:Array,R=new M(E);R[0]=R[E-1]=1,Hf(d,R,y,0,E-1);var F,ee=[];for(F=0;F<E;F++)R[F]&&ee.push(d[F]);return ee}function Hf(d,y,E,M,R){var F=0,ee,ce,ge;for(ce=M+1;ce<=R-1;ce++)ge=ec(d[ce],d[M],d[R],!0),ge>F&&(ee=ce,F=ge);F>E&&(y[ee]=1,Hf(d,y,E,M,ee),Hf(d,y,E,ee,R))}function jx(d,y){for(var E=[d[0]],M=1,R=0,F=d.length;M<F;M++)Nx(d[M],d[R])>y&&(E.push(d[M]),R=M);return R<F-1&&E.push(d[F-1]),E}var Kp;function Wp(d,y,E,M,R){var F=M?Kp:Bo(d,E),ee=Bo(y,E),ce,ge,Ae;for(Kp=ee;;){if(!(F|ee))return[d,y];if(F&ee)return!1;ce=F||ee,ge=_u(d,y,ce,E,R),Ae=Bo(ge,E),ce===F?(d=ge,F=Ae):(y=ge,ee=Ae)}}function _u(d,y,E,M,R){var F=y.x-d.x,ee=y.y-d.y,ce=M.min,ge=M.max,Ae,Le;return E&8?(Ae=d.x+F*(ge.y-d.y)/ee,Le=ge.y):E&4?(Ae=d.x+F*(ce.y-d.y)/ee,Le=ce.y):E&2?(Ae=ge.x,Le=d.y+ee*(ge.x-d.x)/F):E&1&&(Ae=ce.x,Le=d.y+ee*(ce.x-d.x)/F),new re(Ae,Le,R)}function Bo(d,y){var E=0;return d.x<y.min.x?E|=1:d.x>y.max.x&&(E|=2),d.y<y.min.y?E|=4:d.y>y.max.y&&(E|=8),E}function Nx(d,y){var E=y.x-d.x,M=y.y-d.y;return E*E+M*M}function ec(d,y,E,M){var R=y.x,F=y.y,ee=E.x-R,ce=E.y-F,ge=ee*ee+ce*ce,Ae;return ge>0&&(Ae=((d.x-R)*ee+(d.y-F)*ce)/ge,Ae>1?(R=E.x,F=E.y):Ae>0&&(R+=ee*Ae,F+=ce*Ae)),ee=d.x-R,ce=d.y-F,M?ee*ee+ce*ce:new re(R,F)}function Kr(d){return!O(d[0])||typeof d[0][0]!="object"&&typeof d[0][0]<"u"}function wu(d){return console.warn("Deprecated use of _flat, please use L.LineUtil.isFlat instead."),Kr(d)}function Hs(d,y){var E,M,R,F,ee,ce,ge,Ae;if(!d||d.length===0)throw new Error("latlngs not passed");Kr(d)||(console.warn("latlngs are not flat! Only the first ring will be used"),d=d[0]);var Le=me([0,0]),qe=X(d),ot=qe.getNorthWest().distanceTo(qe.getSouthWest())*qe.getNorthEast().distanceTo(qe.getNorthWest());ot<1700&&(Le=Uf(d));var zn=d.length,gn=[];for(E=0;E<zn;E++){var Pr=me(d[E]);gn.push(y.project(me([Pr.lat-Le.lat,Pr.lng-Le.lng])))}for(E=0,M=0;E<zn-1;E++)M+=gn[E].distanceTo(gn[E+1])/2;if(M===0)Ae=gn[0];else for(E=0,F=0;E<zn-1;E++)if(ee=gn[E],ce=gn[E+1],R=ee.distanceTo(ce),F+=R,F>M){ge=(F-M)/R,Ae=[ce.x-ge*(ce.x-ee.x),ce.y-ge*(ce.y-ee.y)];break}var _t=y.unproject(se(Ae));return me([_t.lat+Le.lat,_t.lng+Le.lng])}var Cx={__proto__:null,simplify:Gp,pointToSegmentDistance:qp,closestPointOnSegment:Ox,clipSegment:Wp,_getEdgeIntersection:_u,_getBitCode:Bo,_sqClosestPointOnSegment:ec,isFlat:Kr,_flat:wu,polylineCenter:Hs},Su={project:function(d){return new re(d.lng,d.lat)},unproject:function(d){return new oe(d.y,d.x)},bounds:new B([-180,-90],[180,90])},ku={R:6378137,R_MINOR:6356752314245179e-9,bounds:new B([-2003750834279e-5,-1549657073972e-5],[2003750834279e-5,1876465623138e-5]),project:function(d){var y=Math.PI/180,E=this.R,M=d.lat*y,R=this.R_MINOR/E,F=Math.sqrt(1-R*R),ee=F*Math.sin(M),ce=Math.tan(Math.PI/4-M/2)/Math.pow((1-ee)/(1+ee),F/2);return M=-E*Math.log(Math.max(ce,1e-10)),new re(d.lng*y*E,M)},unproject:function(d){for(var y=180/Math.PI,E=this.R,M=this.R_MINOR/E,R=Math.sqrt(1-M*M),F=Math.exp(-d.y/E),ee=Math.PI/2-2*Math.atan(F),ce=0,ge=.1,Ae;ce<15&&Math.abs(ge)>1e-7;ce++)Ae=R*Math.sin(ee),Ae=Math.pow((1-Ae)/(1+Ae),R/2),ge=Math.PI/2-2*Math.atan(F*Ae)-ee,ee+=ge;return new oe(ee*y,d.x*y/E)}},Vp={__proto__:null,LonLat:Su,Mercator:ku,SphericalMercator:Oe},Zp=i({},be,{code:"EPSG:3395",projection:ku,transformation:(function(){var d=.5/(Math.PI*ku.R);return ve(d,.5,-d,.5)})()}),Gf=i({},be,{code:"EPSG:4326",projection:Su,transformation:ve(1/180,1,-1/180,.5)}),Gs=i({},pe,{projection:Su,transformation:ve(1,0,-1,0),scale:function(d){return Math.pow(2,d)},zoom:function(d){return Math.log(d)/Math.LN2},distance:function(d,y){var E=y.lng-d.lng,M=y.lat-d.lat;return Math.sqrt(E*E+M*M)},infinite:!0});pe.Earth=be,pe.EPSG3395=Zp,pe.EPSG3857=Ze,pe.EPSG900913=Ne,pe.EPSG4326=Gf,pe.Simple=Gs;var wi=Z.extend({options:{pane:"overlayPane",attribution:null,bubblingMouseEvents:!0},addTo:function(d){return d.addLayer(this),this},remove:function(){return this.removeFrom(this._map||this._mapToAdd)},removeFrom:function(d){return d&&d.removeLayer(this),this},getPane:function(d){return this._map.getPane(d?this.options[d]||d:this.options.pane)},addInteractiveTarget:function(d){return this._map._targets[u(d)]=this,this},removeInteractiveTarget:function(d){return delete this._map._targets[u(d)],this},getAttribution:function(){return this.options.attribution},_layerAdd:function(d){var y=d.target;if(y.hasLayer(this)){if(this._map=y,this._zoomAnimated=y._zoomAnimated,this.getEvents){var E=this.getEvents();y.on(E,this),this.once("remove",function(){y.off(E,this)},this)}this.onAdd(y),this.fire("add"),y.fire("layeradd",{layer:this})}}});ht.include({addLayer:function(d){if(!d._layerAdd)throw new Error("The provided object is not a Layer.");var y=u(d);return this._layers[y]?this:(this._layers[y]=d,d._mapToAdd=this,d.beforeAdd&&d.beforeAdd(this),this.whenReady(d._layerAdd,d),this)},removeLayer:function(d){var y=u(d);return this._layers[y]?(this._loaded&&d.onRemove(this),delete this._layers[y],this._loaded&&(this.fire("layerremove",{layer:d}),d.fire("remove")),d._map=d._mapToAdd=null,this):this},hasLayer:function(d){return u(d)in this._layers},eachLayer:function(d,y){for(var E in this._layers)d.call(y,this._layers[E]);return this},_addLayers:function(d){d=d?O(d)?d:[d]:[];for(var y=0,E=d.length;y<E;y++)this.addLayer(d[y])},_addZoomLimit:function(d){(!isNaN(d.options.maxZoom)||!isNaN(d.options.minZoom))&&(this._zoomBoundLayers[u(d)]=d,this._updateZoomLevels())},_removeZoomLimit:function(d){var y=u(d);this._zoomBoundLayers[y]&&(delete this._zoomBoundLayers[y],this._updateZoomLevels())},_updateZoomLevels:function(){var d=1/0,y=-1/0,E=this._getZoomSpan();for(var M in this._zoomBoundLayers){var R=this._zoomBoundLayers[M].options;d=R.minZoom===void 0?d:Math.min(d,R.minZoom),y=R.maxZoom===void 0?y:Math.max(y,R.maxZoom)}this._layersMaxZoom=y===-1/0?void 0:y,this._layersMinZoom=d===1/0?void 0:d,E!==this._getZoomSpan()&&this.fire("zoomlevelschange"),this.options.maxZoom===void 0&&this._layersMaxZoom&&this.getZoom()>this._layersMaxZoom&&this.setZoom(this._layersMaxZoom),this.options.minZoom===void 0&&this._layersMinZoom&&this.getZoom()<this._layersMinZoom&&this.setZoom(this._layersMinZoom)}});var qs=wi.extend({initialize:function(d,y){_(this,y),this._layers={};var E,M;if(d)for(E=0,M=d.length;E<M;E++)this.addLayer(d[E])},addLayer:function(d){var y=this.getLayerId(d);return this._layers[y]=d,this._map&&this._map.addLayer(d),this},removeLayer:function(d){var y=d in this._layers?d:this.getLayerId(d);return this._map&&this._layers[y]&&this._map.removeLayer(this._layers[y]),delete this._layers[y],this},hasLayer:function(d){var y=typeof d=="number"?d:this.getLayerId(d);return y in this._layers},clearLayers:function(){return this.eachLayer(this.removeLayer,this)},invoke:function(d){var y=Array.prototype.slice.call(arguments,1),E,M;for(E in this._layers)M=this._layers[E],M[d]&&M[d].apply(M,y);return this},onAdd:function(d){this.eachLayer(d.addLayer,d)},onRemove:function(d){this.eachLayer(d.removeLayer,d)},eachLayer:function(d,y){for(var E in this._layers)d.call(y,this._layers[E]);return this},getLayer:function(d){return this._layers[d]},getLayers:function(){var d=[];return this.eachLayer(d.push,d),d},setZIndex:function(d){return this.invoke("setZIndex",d)},getLayerId:function(d){return u(d)}}),Mx=function(d,y){return new qs(d,y)},Wi=qs.extend({addLayer:function(d){return this.hasLayer(d)?this:(d.addEventParent(this),qs.prototype.addLayer.call(this,d),this.fire("layeradd",{layer:d}))},removeLayer:function(d){return this.hasLayer(d)?(d in this._layers&&(d=this._layers[d]),d.removeEventParent(this),qs.prototype.removeLayer.call(this,d),this.fire("layerremove",{layer:d})):this},setStyle:function(d){return this.invoke("setStyle",d)},bringToFront:function(){return this.invoke("bringToFront")},bringToBack:function(){return this.invoke("bringToBack")},getBounds:function(){var d=new ae;for(var y in this._layers){var E=this._layers[y];d.extend(E.getBounds?E.getBounds():E.getLatLng())}return d}}),Xp=function(d,y){return new Wi(d,y)},Vi=J.extend({options:{popupAnchor:[0,0],tooltipAnchor:[0,0],crossOrigin:!1},initialize:function(d){_(this,d)},createIcon:function(d){return this._createIcon("icon",d)},createShadow:function(d){return this._createIcon("shadow",d)},_createIcon:function(d,y){var E=this._getIconUrl(d);if(!E){if(d==="icon")throw new Error("iconUrl not set in Icon options (see the docs).");return null}var M=this._createImg(E,y&&y.tagName==="IMG"?y:null);return this._setIconStyles(M,d),(this.options.crossOrigin||this.options.crossOrigin==="")&&(M.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),M},_setIconStyles:function(d,y){var E=this.options,M=E[y+"Size"];typeof M=="number"&&(M=[M,M]);var R=se(M),F=se(y==="shadow"&&E.shadowAnchor||E.iconAnchor||R&&R.divideBy(2,!0));d.className="leaflet-marker-"+y+" "+(E.className||""),F&&(d.style.marginLeft=-F.x+"px",d.style.marginTop=-F.y+"px"),R&&(d.style.width=R.x+"px",d.style.height=R.y+"px")},_createImg:function(d,y){return y=y||document.createElement("img"),y.src=d,y},_getIconUrl:function(d){return He.retina&&this.options[d+"RetinaUrl"]||this.options[d+"Url"]}});function tc(d){return new Vi(d)}var nc=Vi.extend({options:{iconUrl:"marker-icon.png",iconRetinaUrl:"marker-icon-2x.png",shadowUrl:"marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],tooltipAnchor:[16,-28],shadowSize:[41,41]},_getIconUrl:function(d){return typeof nc.imagePath!="string"&&(nc.imagePath=this._detectIconPath()),(this.options.imagePath||nc.imagePath)+Vi.prototype._getIconUrl.call(this,d)},_stripUrl:function(d){var y=function(E,M,R){var F=M.exec(E);return F&&F[R]};return d=y(d,/^url\((['"])?(.+)\1\)$/,2),d&&y(d,/^(.*)marker-icon\.png$/,1)},_detectIconPath:function(){var d=ct("div","leaflet-default-icon-path",document.body),y=Yl(d,"background-image")||Yl(d,"backgroundImage");if(document.body.removeChild(d),y=this._stripUrl(y),y)return y;var E=document.querySelector('link[href$="leaflet.css"]');return E?E.href.substring(0,E.href.length-11-1):""}}),rc=Ki.extend({initialize:function(d){this._marker=d},addHooks:function(){var d=this._marker._icon;this._draggable||(this._draggable=new Qa(d,d,!0)),this._draggable.on({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).enable(),nt(d,"leaflet-marker-draggable")},removeHooks:function(){this._draggable.off({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).disable(),this._marker._icon&&en(this._marker._icon,"leaflet-marker-draggable")},moved:function(){return this._draggable&&this._draggable._moved},_adjustPan:function(d){var y=this._marker,E=y._map,M=this._marker.options.autoPanSpeed,R=this._marker.options.autoPanPadding,F=Xa(y._icon),ee=E.getPixelBounds(),ce=E.getPixelOrigin(),ge=W(ee.min._subtract(ce).add(R),ee.max._subtract(ce).subtract(R));if(!ge.contains(F)){var Ae=se((Math.max(ge.max.x,F.x)-ge.max.x)/(ee.max.x-ge.max.x)-(Math.min(ge.min.x,F.x)-ge.min.x)/(ee.min.x-ge.min.x),(Math.max(ge.max.y,F.y)-ge.max.y)/(ee.max.y-ge.max.y)-(Math.min(ge.min.y,F.y)-ge.min.y)/(ee.min.y-ge.min.y)).multiplyBy(M);E.panBy(Ae,{animate:!1}),this._draggable._newPos._add(Ae),this._draggable._startPos._add(Ae),Ut(y._icon,this._draggable._newPos),this._onDrag(d),this._panRequest=U(this._adjustPan.bind(this,d))}},_onDragStart:function(){this._oldLatLng=this._marker.getLatLng(),this._marker.closePopup&&this._marker.closePopup(),this._marker.fire("movestart").fire("dragstart")},_onPreDrag:function(d){this._marker.options.autoPan&&(z(this._panRequest),this._panRequest=U(this._adjustPan.bind(this,d)))},_onDrag:function(d){var y=this._marker,E=y._shadow,M=Xa(y._icon),R=y._map.layerPointToLatLng(M);E&&Ut(E,M),y._latlng=R,d.latlng=R,d.oldLatLng=this._oldLatLng,y.fire("move",d).fire("drag",d)},_onDragEnd:function(d){z(this._panRequest),delete this._oldLatLng,this._marker.fire("moveend").fire("dragend",d)}}),ic=wi.extend({options:{icon:new nc,interactive:!0,keyboard:!0,title:"",alt:"Marker",zIndexOffset:0,opacity:1,riseOnHover:!1,riseOffset:250,pane:"markerPane",shadowPane:"shadowPane",bubblingMouseEvents:!1,autoPanOnFocus:!0,draggable:!1,autoPan:!1,autoPanPadding:[50,50],autoPanSpeed:10},initialize:function(d,y){_(this,y),this._latlng=me(d)},onAdd:function(d){this._zoomAnimated=this._zoomAnimated&&d.options.markerZoomAnimation,this._zoomAnimated&&d.on("zoomanim",this._animateZoom,this),this._initIcon(),this.update()},onRemove:function(d){this.dragging&&this.dragging.enabled()&&(this.options.draggable=!0,this.dragging.removeHooks()),delete this.dragging,this._zoomAnimated&&d.off("zoomanim",this._animateZoom,this),this._removeIcon(),this._removeShadow()},getEvents:function(){return{zoom:this.update,viewreset:this.update}},getLatLng:function(){return this._latlng},setLatLng:function(d){var y=this._latlng;return this._latlng=me(d),this.update(),this.fire("move",{oldLatLng:y,latlng:this._latlng})},setZIndexOffset:function(d){return this.options.zIndexOffset=d,this.update()},getIcon:function(){return this.options.icon},setIcon:function(d){return this.options.icon=d,this._map&&(this._initIcon(),this.update()),this._popup&&this.bindPopup(this._popup,this._popup.options),this},getElement:function(){return this._icon},update:function(){if(this._icon&&this._map){var d=this._map.latLngToLayerPoint(this._latlng).round();this._setPos(d)}return this},_initIcon:function(){var d=this.options,y="leaflet-zoom-"+(this._zoomAnimated?"animated":"hide"),E=d.icon.createIcon(this._icon),M=!1;E!==this._icon&&(this._icon&&this._removeIcon(),M=!0,d.title&&(E.title=d.title),E.tagName==="IMG"&&(E.alt=d.alt||"")),nt(E,y),d.keyboard&&(E.tabIndex="0",E.setAttribute("role","button")),this._icon=E,d.riseOnHover&&this.on({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&tt(E,"focus",this._panOnFocus,this);var R=d.icon.createShadow(this._shadow),F=!1;R!==this._shadow&&(this._removeShadow(),F=!0),R&&(nt(R,y),R.alt=""),this._shadow=R,d.opacity<1&&this._updateOpacity(),M&&this.getPane().appendChild(this._icon),this._initInteraction(),R&&F&&this.getPane(d.shadowPane).appendChild(this._shadow)},_removeIcon:function(){this.options.riseOnHover&&this.off({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&Nt(this._icon,"focus",this._panOnFocus,this),It(this._icon),this.removeInteractiveTarget(this._icon),this._icon=null},_removeShadow:function(){this._shadow&&It(this._shadow),this._shadow=null},_setPos:function(d){this._icon&&Ut(this._icon,d),this._shadow&&Ut(this._shadow,d),this._zIndex=d.y+this.options.zIndexOffset,this._resetZIndex()},_updateZIndex:function(d){this._icon&&(this._icon.style.zIndex=this._zIndex+d)},_animateZoom:function(d){var y=this._map._latLngToNewLayerPoint(this._latlng,d.zoom,d.center).round();this._setPos(y)},_initInteraction:function(){if(this.options.interactive&&(nt(this._icon,"leaflet-interactive"),this.addInteractiveTarget(this._icon),rc)){var d=this.options.draggable;this.dragging&&(d=this.dragging.enabled(),this.dragging.disable()),this.dragging=new rc(this),d&&this.dragging.enable()}},setOpacity:function(d){return this.options.opacity=d,this._map&&this._updateOpacity(),this},_updateOpacity:function(){var d=this.options.opacity;this._icon&&Zt(this._icon,d),this._shadow&&Zt(this._shadow,d)},_bringToFront:function(){this._updateZIndex(this.options.riseOffset)},_resetZIndex:function(){this._updateZIndex(0)},_panOnFocus:function(){var d=this._map;if(d){var y=this.options.icon.options,E=y.iconSize?se(y.iconSize):se(0,0),M=y.iconAnchor?se(y.iconAnchor):se(0,0);d.panInside(this._latlng,{paddingTopLeft:M,paddingBottomRight:E.subtract(M)})}},_getPopupAnchor:function(){return this.options.icon.options.popupAnchor},_getTooltipAnchor:function(){return this.options.icon.options.tooltipAnchor}});function Jp(d,y){return new ic(d,y)}var Zi=wi.extend({options:{stroke:!0,color:"#3388ff",weight:3,opacity:1,lineCap:"round",lineJoin:"round",dashArray:null,dashOffset:null,fill:!1,fillColor:null,fillOpacity:.2,fillRule:"evenodd",interactive:!0,bubblingMouseEvents:!0},beforeAdd:function(d){this._renderer=d.getRenderer(this)},onAdd:function(){this._renderer._initPath(this),this._reset(),this._renderer._addPath(this)},onRemove:function(){this._renderer._removePath(this)},redraw:function(){return this._map&&this._renderer._updatePath(this),this},setStyle:function(d){return _(this,d),this._renderer&&(this._renderer._updateStyle(this),this.options.stroke&&d&&Object.prototype.hasOwnProperty.call(d,"weight")&&this._updateBounds()),this},bringToFront:function(){return this._renderer&&this._renderer._bringToFront(this),this},bringToBack:function(){return this._renderer&&this._renderer._bringToBack(this),this},getElement:function(){return this._path},_reset:function(){this._project(),this._update()},_clickTolerance:function(){return(this.options.stroke?this.options.weight/2:0)+(this._renderer.options.tolerance||0)}}),Ys=Zi.extend({options:{fill:!0,radius:10},initialize:function(d,y){_(this,y),this._latlng=me(d),this._radius=this.options.radius},setLatLng:function(d){var y=this._latlng;return this._latlng=me(d),this.redraw(),this.fire("move",{oldLatLng:y,latlng:this._latlng})},getLatLng:function(){return this._latlng},setRadius:function(d){return this.options.radius=this._radius=d,this.redraw()},getRadius:function(){return this._radius},setStyle:function(d){var y=d&&d.radius||this._radius;return Zi.prototype.setStyle.call(this,d),this.setRadius(y),this},_project:function(){this._point=this._map.latLngToLayerPoint(this._latlng),this._updateBounds()},_updateBounds:function(){var d=this._radius,y=this._radiusY||d,E=this._clickTolerance(),M=[d+E,y+E];this._pxBounds=new B(this._point.subtract(M),this._point.add(M))},_update:function(){this._map&&this._updatePath()},_updatePath:function(){this._renderer._updateCircle(this)},_empty:function(){return this._radius&&!this._renderer._bounds.intersects(this._pxBounds)},_containsPoint:function(d){return d.distanceTo(this._point)<=this._radius+this._clickTolerance()}});function Qp(d,y){return new Ys(d,y)}var Eu=Ys.extend({initialize:function(d,y,E){if(typeof y=="number"&&(y=i({},E,{radius:y})),_(this,y),this._latlng=me(d),isNaN(this.options.radius))throw new Error("Circle radius cannot be NaN");this._mRadius=this.options.radius},setRadius:function(d){return this._mRadius=d,this.redraw()},getRadius:function(){return this._mRadius},getBounds:function(){var d=[this._radius,this._radiusY||this._radius];return new ae(this._map.layerPointToLatLng(this._point.subtract(d)),this._map.layerPointToLatLng(this._point.add(d)))},setStyle:Zi.prototype.setStyle,_project:function(){var d=this._latlng.lng,y=this._latlng.lat,E=this._map,M=E.options.crs;if(M.distance===be.distance){var R=Math.PI/180,F=this._mRadius/be.R/R,ee=E.project([y+F,d]),ce=E.project([y-F,d]),ge=ee.add(ce).divideBy(2),Ae=E.unproject(ge).lat,Le=Math.acos((Math.cos(F*R)-Math.sin(y*R)*Math.sin(Ae*R))/(Math.cos(y*R)*Math.cos(Ae*R)))/R;(isNaN(Le)||Le===0)&&(Le=F/Math.cos(Math.PI/180*y)),this._point=ge.subtract(E.getPixelOrigin()),this._radius=isNaN(Le)?0:ge.x-E.project([Ae,d-Le]).x,this._radiusY=ge.y-ee.y}else{var qe=M.unproject(M.project(this._latlng).subtract([this._mRadius,0]));this._point=E.latLngToLayerPoint(this._latlng),this._radius=this._point.x-E.latLngToLayerPoint(qe).x}this._updateBounds()}});function eg(d,y,E){return new Eu(d,y,E)}var Ea=Zi.extend({options:{smoothFactor:1,noClip:!1},initialize:function(d,y){_(this,y),this._setLatLngs(d)},getLatLngs:function(){return this._latlngs},setLatLngs:function(d){return this._setLatLngs(d),this.redraw()},isEmpty:function(){return!this._latlngs.length},closestLayerPoint:function(d){for(var y=1/0,E=null,M=ec,R,F,ee=0,ce=this._parts.length;ee<ce;ee++)for(var ge=this._parts[ee],Ae=1,Le=ge.length;Ae<Le;Ae++){R=ge[Ae-1],F=ge[Ae];var qe=M(d,R,F,!0);qe<y&&(y=qe,E=M(d,R,F))}return E&&(E.distance=Math.sqrt(y)),E},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return Hs(this._defaultShape(),this._map.options.crs)},getBounds:function(){return this._bounds},addLatLng:function(d,y){return y=y||this._defaultShape(),d=me(d),y.push(d),this._bounds.extend(d),this.redraw()},_setLatLngs:function(d){this._bounds=new ae,this._latlngs=this._convertLatLngs(d)},_defaultShape:function(){return Kr(this._latlngs)?this._latlngs:this._latlngs[0]},_convertLatLngs:function(d){for(var y=[],E=Kr(d),M=0,R=d.length;M<R;M++)E?(y[M]=me(d[M]),this._bounds.extend(y[M])):y[M]=this._convertLatLngs(d[M]);return y},_project:function(){var d=new B;this._rings=[],this._projectLatlngs(this._latlngs,this._rings,d),this._bounds.isValid()&&d.isValid()&&(this._rawPxBounds=d,this._updateBounds())},_updateBounds:function(){var d=this._clickTolerance(),y=new re(d,d);this._rawPxBounds&&(this._pxBounds=new B([this._rawPxBounds.min.subtract(y),this._rawPxBounds.max.add(y)]))},_projectLatlngs:function(d,y,E){var M=d[0]instanceof oe,R=d.length,F,ee;if(M){for(ee=[],F=0;F<R;F++)ee[F]=this._map.latLngToLayerPoint(d[F]),E.extend(ee[F]);y.push(ee)}else for(F=0;F<R;F++)this._projectLatlngs(d[F],y,E)},_clipPoints:function(){var d=this._renderer._bounds;if(this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(d))){if(this.options.noClip){this._parts=this._rings;return}var y=this._parts,E,M,R,F,ee,ce,ge;for(E=0,R=0,F=this._rings.length;E<F;E++)for(ge=this._rings[E],M=0,ee=ge.length;M<ee-1;M++)ce=Wp(ge[M],ge[M+1],d,M,!0),ce&&(y[R]=y[R]||[],y[R].push(ce[0]),(ce[1]!==ge[M+1]||M===ee-2)&&(y[R].push(ce[1]),R++))}},_simplifyPoints:function(){for(var d=this._parts,y=this.options.smoothFactor,E=0,M=d.length;E<M;E++)d[E]=Gp(d[E],y)},_update:function(){this._map&&(this._clipPoints(),this._simplifyPoints(),this._updatePath())},_updatePath:function(){this._renderer._updatePoly(this)},_containsPoint:function(d,y){var E,M,R,F,ee,ce,ge=this._clickTolerance();if(!this._pxBounds||!this._pxBounds.contains(d))return!1;for(E=0,F=this._parts.length;E<F;E++)for(ce=this._parts[E],M=0,ee=ce.length,R=ee-1;M<ee;R=M++)if(!(!y&&M===0)&&qp(d,ce[R],ce[M])<=ge)return!0;return!1}});function Px(d,y){return new Ea(d,y)}Ea._flat=wu;var Ks=Ea.extend({options:{fill:!0},isEmpty:function(){return!this._latlngs.length||!this._latlngs[0].length},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return Hp(this._defaultShape(),this._map.options.crs)},_convertLatLngs:function(d){var y=Ea.prototype._convertLatLngs.call(this,d),E=y.length;return E>=2&&y[0]instanceof oe&&y[0].equals(y[E-1])&&y.pop(),y},_setLatLngs:function(d){Ea.prototype._setLatLngs.call(this,d),Kr(this._latlngs)&&(this._latlngs=[this._latlngs])},_defaultShape:function(){return Kr(this._latlngs[0])?this._latlngs[0]:this._latlngs[0][0]},_clipPoints:function(){var d=this._renderer._bounds,y=this.options.weight,E=new re(y,y);if(d=new B(d.min.subtract(E),d.max.add(E)),this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(d))){if(this.options.noClip){this._parts=this._rings;return}for(var M=0,R=this._rings.length,F;M<R;M++)F=Fp(this._rings[M],d,!0),F.length&&this._parts.push(F)}},_updatePath:function(){this._renderer._updatePoly(this,!0)},_containsPoint:function(d){var y=!1,E,M,R,F,ee,ce,ge,Ae;if(!this._pxBounds||!this._pxBounds.contains(d))return!1;for(F=0,ge=this._parts.length;F<ge;F++)for(E=this._parts[F],ee=0,Ae=E.length,ce=Ae-1;ee<Ae;ce=ee++)M=E[ee],R=E[ce],M.y>d.y!=R.y>d.y&&d.x<(R.x-M.x)*(d.y-M.y)/(R.y-M.y)+M.x&&(y=!y);return y||Ea.prototype._containsPoint.call(this,d,!0)}});function Dx(d,y){return new Ks(d,y)}var Aa=Wi.extend({initialize:function(d,y){_(this,y),this._layers={},d&&this.addData(d)},addData:function(d){var y=O(d)?d:d.features,E,M,R;if(y){for(E=0,M=y.length;E<M;E++)R=y[E],(R.geometries||R.geometry||R.features||R.coordinates)&&this.addData(R);return this}var F=this.options;if(F.filter&&!F.filter(d))return this;var ee=er(d,F);return ee?(ee.feature=Ou(d),ee.defaultOptions=ee.options,this.resetStyle(ee),F.onEachFeature&&F.onEachFeature(d,ee),this.addLayer(ee)):this},resetStyle:function(d){return d===void 0?this.eachLayer(this.resetStyle,this):(d.options=i({},d.defaultOptions),this._setLayerStyle(d,this.options.style),this)},setStyle:function(d){return this.eachLayer(function(y){this._setLayerStyle(y,d)},this)},_setLayerStyle:function(d,y){d.setStyle&&(typeof y=="function"&&(y=y(d.feature)),d.setStyle(y))}});function er(d,y){var E=d.type==="Feature"?d.geometry:d,M=E?E.coordinates:null,R=[],F=y&&y.pointToLayer,ee=y&&y.coordsToLatLng||Au,ce,ge,Ae,Le;if(!M&&!E)return null;switch(E.type){case"Point":return ce=ee(M),Ws(F,d,ce,y);case"MultiPoint":for(Ae=0,Le=M.length;Ae<Le;Ae++)ce=ee(M[Ae]),R.push(Ws(F,d,ce,y));return new Wi(R);case"LineString":case"MultiLineString":return ge=ac(M,E.type==="LineString"?0:1,ee),new Ea(ge,y);case"Polygon":case"MultiPolygon":return ge=ac(M,E.type==="Polygon"?1:2,ee),new Ks(ge,y);case"GeometryCollection":for(Ae=0,Le=E.geometries.length;Ae<Le;Ae++){var qe=er({geometry:E.geometries[Ae],type:"Feature",properties:d.properties},y);qe&&R.push(qe)}return new Wi(R);case"FeatureCollection":for(Ae=0,Le=E.features.length;Ae<Le;Ae++){var ot=er(E.features[Ae],y);ot&&R.push(ot)}return new Wi(R);default:throw new Error("Invalid GeoJSON object.")}}function Ws(d,y,E,M){return d?d(y,E):new ic(E,M&&M.markersInheritOptions&&M)}function Au(d){return new oe(d[1],d[0],d[2])}function ac(d,y,E){for(var M=[],R=0,F=d.length,ee;R<F;R++)ee=y?ac(d[R],y-1,E):(E||Au)(d[R]),M.push(ee);return M}function Tu(d,y){return d=me(d),d.alt!==void 0?[g(d.lng,y),g(d.lat,y),g(d.alt,y)]:[g(d.lng,y),g(d.lat,y)]}function oc(d,y,E,M){for(var R=[],F=0,ee=d.length;F<ee;F++)R.push(y?oc(d[F],Kr(d[F])?0:y-1,E,M):Tu(d[F],M));return!y&&E&&R.length>0&&R.push(R[0].slice()),R}function eo(d,y){return d.feature?i({},d.feature,{geometry:y}):Ou(y)}function Ou(d){return d.type==="Feature"||d.type==="FeatureCollection"?d:{type:"Feature",properties:{},geometry:d}}var to={toGeoJSON:function(d){return eo(this,{type:"Point",coordinates:Tu(this.getLatLng(),d)})}};ic.include(to),Eu.include(to),Ys.include(to),Ea.include({toGeoJSON:function(d){var y=!Kr(this._latlngs),E=oc(this._latlngs,y?1:0,!1,d);return eo(this,{type:(y?"Multi":"")+"LineString",coordinates:E})}}),Ks.include({toGeoJSON:function(d){var y=!Kr(this._latlngs),E=y&&!Kr(this._latlngs[0]),M=oc(this._latlngs,E?2:y?1:0,!0,d);return y||(M=[M]),eo(this,{type:(E?"Multi":"")+"Polygon",coordinates:M})}}),qs.include({toMultiPoint:function(d){var y=[];return this.eachLayer(function(E){y.push(E.toGeoJSON(d).geometry.coordinates)}),eo(this,{type:"MultiPoint",coordinates:y})},toGeoJSON:function(d){var y=this.feature&&this.feature.geometry&&this.feature.geometry.type;if(y==="MultiPoint")return this.toMultiPoint(d);var E=y==="GeometryCollection",M=[];return this.eachLayer(function(R){if(R.toGeoJSON){var F=R.toGeoJSON(d);if(E)M.push(F.geometry);else{var ee=Ou(F);ee.type==="FeatureCollection"?M.push.apply(M,ee.features):M.push(ee)}}}),E?eo(this,{geometries:M,type:"GeometryCollection"}):{type:"FeatureCollection",features:M}}});function ju(d,y){return new Aa(d,y)}var sc=ju,Vs=wi.extend({options:{opacity:1,alt:"",interactive:!1,crossOrigin:!1,errorOverlayUrl:"",zIndex:1,className:""},initialize:function(d,y,E){this._url=d,this._bounds=X(y),_(this,E)},onAdd:function(){this._image||(this._initImage(),this.options.opacity<1&&this._updateOpacity()),this.options.interactive&&(nt(this._image,"leaflet-interactive"),this.addInteractiveTarget(this._image)),this.getPane().appendChild(this._image),this._reset()},onRemove:function(){It(this._image),this.options.interactive&&this.removeInteractiveTarget(this._image)},setOpacity:function(d){return this.options.opacity=d,this._image&&this._updateOpacity(),this},setStyle:function(d){return d.opacity&&this.setOpacity(d.opacity),this},bringToFront:function(){return this._map&&Bn(this._image),this},bringToBack:function(){return this._map&&Lo(this._image),this},setUrl:function(d){return this._url=d,this._image&&(this._image.src=d),this},setBounds:function(d){return this._bounds=X(d),this._map&&this._reset(),this},getEvents:function(){var d={zoom:this._reset,viewreset:this._reset};return this._zoomAnimated&&(d.zoomanim=this._animateZoom),d},setZIndex:function(d){return this.options.zIndex=d,this._updateZIndex(),this},getBounds:function(){return this._bounds},getElement:function(){return this._image},_initImage:function(){var d=this._url.tagName==="IMG",y=this._image=d?this._url:ct("img");if(nt(y,"leaflet-image-layer"),this._zoomAnimated&&nt(y,"leaflet-zoom-animated"),this.options.className&&nt(y,this.options.className),y.onselectstart=p,y.onmousemove=p,y.onload=o(this.fire,this,"load"),y.onerror=o(this._overlayOnError,this,"error"),(this.options.crossOrigin||this.options.crossOrigin==="")&&(y.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),this.options.zIndex&&this._updateZIndex(),d){this._url=y.src;return}y.src=this._url,y.alt=this.options.alt},_animateZoom:function(d){var y=this._map.getZoomScale(d.zoom),E=this._map._latLngBoundsToNewLayerBounds(this._bounds,d.zoom,d.center).min;wa(this._image,E,y)},_reset:function(){var d=this._image,y=new B(this._map.latLngToLayerPoint(this._bounds.getNorthWest()),this._map.latLngToLayerPoint(this._bounds.getSouthEast())),E=y.getSize();Ut(d,y.min),d.style.width=E.x+"px",d.style.height=E.y+"px"},_updateOpacity:function(){Zt(this._image,this.options.opacity)},_updateZIndex:function(){this._image&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._image.style.zIndex=this.options.zIndex)},_overlayOnError:function(){this.fire("error");var d=this.options.errorOverlayUrl;d&&this._url!==d&&(this._url=d,this._image.src=d)},getCenter:function(){return this._bounds.getCenter()}}),tg=function(d,y,E){return new Vs(d,y,E)},no=Vs.extend({options:{autoplay:!0,loop:!0,keepAspectRatio:!0,muted:!1,playsInline:!0},_initImage:function(){var d=this._url.tagName==="VIDEO",y=this._image=d?this._url:ct("video");if(nt(y,"leaflet-image-layer"),this._zoomAnimated&&nt(y,"leaflet-zoom-animated"),this.options.className&&nt(y,this.options.className),y.onselectstart=p,y.onmousemove=p,y.onloadeddata=o(this.fire,this,"load"),d){for(var E=y.getElementsByTagName("source"),M=[],R=0;R<E.length;R++)M.push(E[R].src);this._url=E.length>0?M:[y.src];return}O(this._url)||(this._url=[this._url]),!this.options.keepAspectRatio&&Object.prototype.hasOwnProperty.call(y.style,"objectFit")&&(y.style.objectFit="fill"),y.autoplay=!!this.options.autoplay,y.loop=!!this.options.loop,y.muted=!!this.options.muted,y.playsInline=!!this.options.playsInline;for(var F=0;F<this._url.length;F++){var ee=ct("source");ee.src=this._url[F],y.appendChild(ee)}}});function Zs(d,y,E){return new no(d,y,E)}var Nu=Vs.extend({_initImage:function(){var d=this._image=this._url;nt(d,"leaflet-image-layer"),this._zoomAnimated&&nt(d,"leaflet-zoom-animated"),this.options.className&&nt(d,this.options.className),d.onselectstart=p,d.onmousemove=p}});function ng(d,y,E){return new Nu(d,y,E)}var tr=wi.extend({options:{interactive:!1,offset:[0,0],className:"",pane:void 0,content:""},initialize:function(d,y){d&&(d instanceof oe||O(d))?(this._latlng=me(d),_(this,y)):(_(this,d),this._source=y),this.options.content&&(this._content=this.options.content)},openOn:function(d){return d=arguments.length?d:this._source._map,d.hasLayer(this)||d.addLayer(this),this},close:function(){return this._map&&this._map.removeLayer(this),this},toggle:function(d){return this._map?this.close():(arguments.length?this._source=d:d=this._source,this._prepareOpen(),this.openOn(d._map)),this},onAdd:function(d){this._zoomAnimated=d._zoomAnimated,this._container||this._initLayout(),d._fadeAnimated&&Zt(this._container,0),clearTimeout(this._removeTimeout),this.getPane().appendChild(this._container),this.update(),d._fadeAnimated&&Zt(this._container,1),this.bringToFront(),this.options.interactive&&(nt(this._container,"leaflet-interactive"),this.addInteractiveTarget(this._container))},onRemove:function(d){d._fadeAnimated?(Zt(this._container,0),this._removeTimeout=setTimeout(o(It,void 0,this._container),200)):It(this._container),this.options.interactive&&(en(this._container,"leaflet-interactive"),this.removeInteractiveTarget(this._container))},getLatLng:function(){return this._latlng},setLatLng:function(d){return this._latlng=me(d),this._map&&(this._updatePosition(),this._adjustPan()),this},getContent:function(){return this._content},setContent:function(d){return this._content=d,this.update(),this},getElement:function(){return this._container},update:function(){this._map&&(this._container.style.visibility="hidden",this._updateContent(),this._updateLayout(),this._updatePosition(),this._container.style.visibility="",this._adjustPan())},getEvents:function(){var d={zoom:this._updatePosition,viewreset:this._updatePosition};return this._zoomAnimated&&(d.zoomanim=this._animateZoom),d},isOpen:function(){return!!this._map&&this._map.hasLayer(this)},bringToFront:function(){return this._map&&Bn(this._container),this},bringToBack:function(){return this._map&&Lo(this._container),this},_prepareOpen:function(d){var y=this._source;if(!y._map)return!1;if(y instanceof Wi){y=null;var E=this._source._layers;for(var M in E)if(E[M]._map){y=E[M];break}if(!y)return!1;this._source=y}if(!d)if(y.getCenter)d=y.getCenter();else if(y.getLatLng)d=y.getLatLng();else if(y.getBounds)d=y.getBounds().getCenter();else throw new Error("Unable to get source layer LatLng.");return this.setLatLng(d),this._map&&this.update(),!0},_updateContent:function(){if(this._content){var d=this._contentNode,y=typeof this._content=="function"?this._content(this._source||this):this._content;if(typeof y=="string")d.innerHTML=y;else{for(;d.hasChildNodes();)d.removeChild(d.firstChild);d.appendChild(y)}this.fire("contentupdate")}},_updatePosition:function(){if(this._map){var d=this._map.latLngToLayerPoint(this._latlng),y=se(this.options.offset),E=this._getAnchor();this._zoomAnimated?Ut(this._container,d.add(E)):y=y.add(d).add(E);var M=this._containerBottom=-y.y,R=this._containerLeft=-Math.round(this._containerWidth/2)+y.x;this._container.style.bottom=M+"px",this._container.style.left=R+"px"}},_getAnchor:function(){return[0,0]}});ht.include({_initOverlay:function(d,y,E,M){var R=y;return R instanceof d||(R=new d(M).setContent(y)),E&&R.setLatLng(E),R}}),wi.include({_initOverlay:function(d,y,E,M){var R=E;return R instanceof d?(_(R,M),R._source=this):(R=y&&!M?y:new d(M,this),R.setContent(E)),R}});var lc=tr.extend({options:{pane:"popupPane",offset:[0,7],maxWidth:300,minWidth:50,maxHeight:null,autoPan:!0,autoPanPaddingTopLeft:null,autoPanPaddingBottomRight:null,autoPanPadding:[5,5],keepInView:!1,closeButton:!0,autoClose:!0,closeOnEscapeKey:!0,className:""},openOn:function(d){return d=arguments.length?d:this._source._map,!d.hasLayer(this)&&d._popup&&d._popup.options.autoClose&&d.removeLayer(d._popup),d._popup=this,tr.prototype.openOn.call(this,d)},onAdd:function(d){tr.prototype.onAdd.call(this,d),d.fire("popupopen",{popup:this}),this._source&&(this._source.fire("popupopen",{popup:this},!0),this._source instanceof Zi||this._source.on("preclick",_i))},onRemove:function(d){tr.prototype.onRemove.call(this,d),d.fire("popupclose",{popup:this}),this._source&&(this._source.fire("popupclose",{popup:this},!0),this._source instanceof Zi||this._source.off("preclick",_i))},getEvents:function(){var d=tr.prototype.getEvents.call(this);return(this.options.closeOnClick!==void 0?this.options.closeOnClick:this._map.options.closePopupOnClick)&&(d.preclick=this.close),this.options.keepInView&&(d.moveend=this._adjustPan),d},_initLayout:function(){var d="leaflet-popup",y=this._container=ct("div",d+" "+(this.options.className||"")+" leaflet-zoom-animated"),E=this._wrapper=ct("div",d+"-content-wrapper",y);if(this._contentNode=ct("div",d+"-content",E),$o(y),Yi(this._contentNode),tt(y,"contextmenu",_i),this._tipContainer=ct("div",d+"-tip-container",y),this._tip=ct("div",d+"-tip",this._tipContainer),this.options.closeButton){var M=this._closeButton=ct("a",d+"-close-button",y);M.setAttribute("role","button"),M.setAttribute("aria-label","Close popup"),M.href="#close",M.innerHTML='<span aria-hidden="true">&#215;</span>',tt(M,"click",function(R){pn(R),this.close()},this)}},_updateLayout:function(){var d=this._contentNode,y=d.style;y.width="",y.whiteSpace="nowrap";var E=d.offsetWidth;E=Math.min(E,this.options.maxWidth),E=Math.max(E,this.options.minWidth),y.width=E+1+"px",y.whiteSpace="",y.height="";var M=d.offsetHeight,R=this.options.maxHeight,F="leaflet-popup-scrolled";R&&M>R?(y.height=R+"px",nt(d,F)):en(d,F),this._containerWidth=this._container.offsetWidth},_animateZoom:function(d){var y=this._map._latLngToNewLayerPoint(this._latlng,d.zoom,d.center),E=this._getAnchor();Ut(this._container,y.add(E))},_adjustPan:function(){if(this.options.autoPan){if(this._map._panAnim&&this._map._panAnim.stop(),this._autopanning){this._autopanning=!1;return}var d=this._map,y=parseInt(Yl(this._container,"marginBottom"),10)||0,E=this._container.offsetHeight+y,M=this._containerWidth,R=new re(this._containerLeft,-E-this._containerBottom);R._add(Xa(this._container));var F=d.layerPointToContainerPoint(R),ee=se(this.options.autoPanPadding),ce=se(this.options.autoPanPaddingTopLeft||ee),ge=se(this.options.autoPanPaddingBottomRight||ee),Ae=d.getSize(),Le=0,qe=0;F.x+M+ge.x>Ae.x&&(Le=F.x+M-Ae.x+ge.x),F.x-Le-ce.x<0&&(Le=F.x-ce.x),F.y+E+ge.y>Ae.y&&(qe=F.y+E-Ae.y+ge.y),F.y-qe-ce.y<0&&(qe=F.y-ce.y),(Le||qe)&&(this.options.keepInView&&(this._autopanning=!0),d.fire("autopanstart").panBy([Le,qe]))}},_getAnchor:function(){return se(this._source&&this._source._getPopupAnchor?this._source._getPopupAnchor():[0,0])}}),rg=function(d,y){return new lc(d,y)};ht.mergeOptions({closePopupOnClick:!0}),ht.include({openPopup:function(d,y,E){return this._initOverlay(lc,d,y,E).openOn(this),this},closePopup:function(d){return d=arguments.length?d:this._popup,d&&d.close(),this}}),wi.include({bindPopup:function(d,y){return this._popup=this._initOverlay(lc,this._popup,d,y),this._popupHandlersAdded||(this.on({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!0),this},unbindPopup:function(){return this._popup&&(this.off({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!1,this._popup=null),this},openPopup:function(d){return this._popup&&(this instanceof Wi||(this._popup._source=this),this._popup._prepareOpen(d||this._latlng)&&this._popup.openOn(this._map)),this},closePopup:function(){return this._popup&&this._popup.close(),this},togglePopup:function(){return this._popup&&this._popup.toggle(this),this},isPopupOpen:function(){return this._popup?this._popup.isOpen():!1},setPopupContent:function(d){return this._popup&&this._popup.setContent(d),this},getPopup:function(){return this._popup},_openPopup:function(d){if(!(!this._popup||!this._map)){Ja(d);var y=d.layer||d.target;if(this._popup._source===y&&!(y instanceof Zi)){this._map.hasLayer(this._popup)?this.closePopup():this.openPopup(d.latlng);return}this._popup._source=y,this.openPopup(d.latlng)}},_movePopup:function(d){this._popup.setLatLng(d.latlng)},_onKeyPress:function(d){d.originalEvent.keyCode===13&&this._openPopup(d)}});var cc=tr.extend({options:{pane:"tooltipPane",offset:[0,0],direction:"auto",permanent:!1,sticky:!1,opacity:.9},onAdd:function(d){tr.prototype.onAdd.call(this,d),this.setOpacity(this.options.opacity),d.fire("tooltipopen",{tooltip:this}),this._source&&(this.addEventParent(this._source),this._source.fire("tooltipopen",{tooltip:this},!0))},onRemove:function(d){tr.prototype.onRemove.call(this,d),d.fire("tooltipclose",{tooltip:this}),this._source&&(this.removeEventParent(this._source),this._source.fire("tooltipclose",{tooltip:this},!0))},getEvents:function(){var d=tr.prototype.getEvents.call(this);return this.options.permanent||(d.preclick=this.close),d},_initLayout:function(){var d="leaflet-tooltip",y=d+" "+(this.options.className||"")+" leaflet-zoom-"+(this._zoomAnimated?"animated":"hide");this._contentNode=this._container=ct("div",y),this._container.setAttribute("role","tooltip"),this._container.setAttribute("id","leaflet-tooltip-"+u(this))},_updateLayout:function(){},_adjustPan:function(){},_setPosition:function(d){var y,E,M=this._map,R=this._container,F=M.latLngToContainerPoint(M.getCenter()),ee=M.layerPointToContainerPoint(d),ce=this.options.direction,ge=R.offsetWidth,Ae=R.offsetHeight,Le=se(this.options.offset),qe=this._getAnchor();ce==="top"?(y=ge/2,E=Ae):ce==="bottom"?(y=ge/2,E=0):ce==="center"?(y=ge/2,E=Ae/2):ce==="right"?(y=0,E=Ae/2):ce==="left"?(y=ge,E=Ae/2):ee.x<F.x?(ce="right",y=0,E=Ae/2):(ce="left",y=ge+(Le.x+qe.x)*2,E=Ae/2),d=d.subtract(se(y,E,!0)).add(Le).add(qe),en(R,"leaflet-tooltip-right"),en(R,"leaflet-tooltip-left"),en(R,"leaflet-tooltip-top"),en(R,"leaflet-tooltip-bottom"),nt(R,"leaflet-tooltip-"+ce),Ut(R,d)},_updatePosition:function(){var d=this._map.latLngToLayerPoint(this._latlng);this._setPosition(d)},setOpacity:function(d){this.options.opacity=d,this._container&&Zt(this._container,d)},_animateZoom:function(d){var y=this._map._latLngToNewLayerPoint(this._latlng,d.zoom,d.center);this._setPosition(y)},_getAnchor:function(){return se(this._source&&this._source._getTooltipAnchor&&!this.options.sticky?this._source._getTooltipAnchor():[0,0])}}),Rx=function(d,y){return new cc(d,y)};ht.include({openTooltip:function(d,y,E){return this._initOverlay(cc,d,y,E).openOn(this),this},closeTooltip:function(d){return d.close(),this}}),wi.include({bindTooltip:function(d,y){return this._tooltip&&this.isTooltipOpen()&&this.unbindTooltip(),this._tooltip=this._initOverlay(cc,this._tooltip,d,y),this._initTooltipInteractions(),this._tooltip.options.permanent&&this._map&&this._map.hasLayer(this)&&this.openTooltip(),this},unbindTooltip:function(){return this._tooltip&&(this._initTooltipInteractions(!0),this.closeTooltip(),this._tooltip=null),this},_initTooltipInteractions:function(d){if(!(!d&&this._tooltipHandlersAdded)){var y=d?"off":"on",E={remove:this.closeTooltip,move:this._moveTooltip};this._tooltip.options.permanent?E.add=this._openTooltip:(E.mouseover=this._openTooltip,E.mouseout=this.closeTooltip,E.click=this._openTooltip,this._map?this._addFocusListeners():E.add=this._addFocusListeners),this._tooltip.options.sticky&&(E.mousemove=this._moveTooltip),this[y](E),this._tooltipHandlersAdded=!d}},openTooltip:function(d){return this._tooltip&&(this instanceof Wi||(this._tooltip._source=this),this._tooltip._prepareOpen(d)&&(this._tooltip.openOn(this._map),this.getElement?this._setAriaDescribedByOnLayer(this):this.eachLayer&&this.eachLayer(this._setAriaDescribedByOnLayer,this))),this},closeTooltip:function(){if(this._tooltip)return this._tooltip.close()},toggleTooltip:function(){return this._tooltip&&this._tooltip.toggle(this),this},isTooltipOpen:function(){return this._tooltip.isOpen()},setTooltipContent:function(d){return this._tooltip&&this._tooltip.setContent(d),this},getTooltip:function(){return this._tooltip},_addFocusListeners:function(){this.getElement?this._addFocusListenersOnLayer(this):this.eachLayer&&this.eachLayer(this._addFocusListenersOnLayer,this)},_addFocusListenersOnLayer:function(d){var y=typeof d.getElement=="function"&&d.getElement();y&&(tt(y,"focus",function(){this._tooltip._source=d,this.openTooltip()},this),tt(y,"blur",this.closeTooltip,this))},_setAriaDescribedByOnLayer:function(d){var y=typeof d.getElement=="function"&&d.getElement();y&&y.setAttribute("aria-describedby",this._tooltip._container.id)},_openTooltip:function(d){if(!(!this._tooltip||!this._map)){if(this._map.dragging&&this._map.dragging.moving()&&!this._openOnceFlag){this._openOnceFlag=!0;var y=this;this._map.once("moveend",function(){y._openOnceFlag=!1,y._openTooltip(d)});return}this._tooltip._source=d.layer||d.target,this.openTooltip(this._tooltip.options.sticky?d.latlng:void 0)}},_moveTooltip:function(d){var y=d.latlng,E,M;this._tooltip.options.sticky&&d.originalEvent&&(E=this._map.mouseEventToContainerPoint(d.originalEvent),M=this._map.containerPointToLayerPoint(E),y=this._map.layerPointToLatLng(M)),this._tooltip.setLatLng(y)}});var ig=Vi.extend({options:{iconSize:[12,12],html:!1,bgPos:null,className:"leaflet-div-icon"},createIcon:function(d){var y=d&&d.tagName==="DIV"?d:document.createElement("div"),E=this.options;if(E.html instanceof Element?(qr(y),y.appendChild(E.html)):y.innerHTML=E.html!==!1?E.html:"",E.bgPos){var M=se(E.bgPos);y.style.backgroundPosition=-M.x+"px "+-M.y+"px"}return this._setIconStyles(y,"icon"),y},createShadow:function(){return null}});function Lx(d){return new ig(d)}Vi.Default=nc;var Xs=wi.extend({options:{tileSize:256,opacity:1,updateWhenIdle:He.mobile,updateWhenZooming:!0,updateInterval:200,zIndex:1,bounds:null,minZoom:0,maxZoom:void 0,maxNativeZoom:void 0,minNativeZoom:void 0,noWrap:!1,pane:"tilePane",className:"",keepBuffer:2},initialize:function(d){_(this,d)},onAdd:function(){this._initContainer(),this._levels={},this._tiles={},this._resetView()},beforeAdd:function(d){d._addZoomLimit(this)},onRemove:function(d){this._removeAllTiles(),It(this._container),d._removeZoomLimit(this),this._container=null,this._tileZoom=void 0},bringToFront:function(){return this._map&&(Bn(this._container),this._setAutoZIndex(Math.max)),this},bringToBack:function(){return this._map&&(Lo(this._container),this._setAutoZIndex(Math.min)),this},getContainer:function(){return this._container},setOpacity:function(d){return this.options.opacity=d,this._updateOpacity(),this},setZIndex:function(d){return this.options.zIndex=d,this._updateZIndex(),this},isLoading:function(){return this._loading},redraw:function(){if(this._map){this._removeAllTiles();var d=this._clampZoom(this._map.getZoom());d!==this._tileZoom&&(this._tileZoom=d,this._updateLevels()),this._update()}return this},getEvents:function(){var d={viewprereset:this._invalidateAll,viewreset:this._resetView,zoom:this._resetView,moveend:this._onMoveEnd};return this.options.updateWhenIdle||(this._onMove||(this._onMove=f(this._onMoveEnd,this.options.updateInterval,this)),d.move=this._onMove),this._zoomAnimated&&(d.zoomanim=this._animateZoom),d},createTile:function(){return document.createElement("div")},getTileSize:function(){var d=this.options.tileSize;return d instanceof re?d:new re(d,d)},_updateZIndex:function(){this._container&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._container.style.zIndex=this.options.zIndex)},_setAutoZIndex:function(d){for(var y=this.getPane().children,E=-d(-1/0,1/0),M=0,R=y.length,F;M<R;M++)F=y[M].style.zIndex,y[M]!==this._container&&F&&(E=d(E,+F));isFinite(E)&&(this.options.zIndex=E+d(-1,1),this._updateZIndex())},_updateOpacity:function(){if(this._map&&!He.ielt9){Zt(this._container,this.options.opacity);var d=+new Date,y=!1,E=!1;for(var M in this._tiles){var R=this._tiles[M];if(!(!R.current||!R.loaded)){var F=Math.min(1,(d-R.loaded)/200);Zt(R.el,F),F<1?y=!0:(R.active?E=!0:this._onOpaqueTile(R),R.active=!0)}}E&&!this._noPrune&&this._pruneTiles(),y&&(z(this._fadeFrame),this._fadeFrame=U(this._updateOpacity,this))}},_onOpaqueTile:p,_initContainer:function(){this._container||(this._container=ct("div","leaflet-layer "+(this.options.className||"")),this._updateZIndex(),this.options.opacity<1&&this._updateOpacity(),this.getPane().appendChild(this._container))},_updateLevels:function(){var d=this._tileZoom,y=this.options.maxZoom;if(d!==void 0){for(var E in this._levels)E=Number(E),this._levels[E].el.children.length||E===d?(this._levels[E].el.style.zIndex=y-Math.abs(d-E),this._onUpdateLevel(E)):(It(this._levels[E].el),this._removeTilesAtZoom(E),this._onRemoveLevel(E),delete this._levels[E]);var M=this._levels[d],R=this._map;return M||(M=this._levels[d]={},M.el=ct("div","leaflet-tile-container leaflet-zoom-animated",this._container),M.el.style.zIndex=y,M.origin=R.project(R.unproject(R.getPixelOrigin()),d).round(),M.zoom=d,this._setZoomTransform(M,R.getCenter(),R.getZoom()),p(M.el.offsetWidth),this._onCreateLevel(M)),this._level=M,M}},_onUpdateLevel:p,_onRemoveLevel:p,_onCreateLevel:p,_pruneTiles:function(){if(this._map){var d,y,E=this._map.getZoom();if(E>this.options.maxZoom||E<this.options.minZoom){this._removeAllTiles();return}for(d in this._tiles)y=this._tiles[d],y.retain=y.current;for(d in this._tiles)if(y=this._tiles[d],y.current&&!y.active){var M=y.coords;this._retainParent(M.x,M.y,M.z,M.z-5)||this._retainChildren(M.x,M.y,M.z,M.z+2)}for(d in this._tiles)this._tiles[d].retain||this._removeTile(d)}},_removeTilesAtZoom:function(d){for(var y in this._tiles)this._tiles[y].coords.z===d&&this._removeTile(y)},_removeAllTiles:function(){for(var d in this._tiles)this._removeTile(d)},_invalidateAll:function(){for(var d in this._levels)It(this._levels[d].el),this._onRemoveLevel(Number(d)),delete this._levels[d];this._removeAllTiles(),this._tileZoom=void 0},_retainParent:function(d,y,E,M){var R=Math.floor(d/2),F=Math.floor(y/2),ee=E-1,ce=new re(+R,+F);ce.z=+ee;var ge=this._tileCoordsToKey(ce),Ae=this._tiles[ge];return Ae&&Ae.active?(Ae.retain=!0,!0):(Ae&&Ae.loaded&&(Ae.retain=!0),ee>M?this._retainParent(R,F,ee,M):!1)},_retainChildren:function(d,y,E,M){for(var R=2*d;R<2*d+2;R++)for(var F=2*y;F<2*y+2;F++){var ee=new re(R,F);ee.z=E+1;var ce=this._tileCoordsToKey(ee),ge=this._tiles[ce];if(ge&&ge.active){ge.retain=!0;continue}else ge&&ge.loaded&&(ge.retain=!0);E+1<M&&this._retainChildren(R,F,E+1,M)}},_resetView:function(d){var y=d&&(d.pinch||d.flyTo);this._setView(this._map.getCenter(),this._map.getZoom(),y,y)},_animateZoom:function(d){this._setView(d.center,d.zoom,!0,d.noUpdate)},_clampZoom:function(d){var y=this.options;return y.minNativeZoom!==void 0&&d<y.minNativeZoom?y.minNativeZoom:y.maxNativeZoom!==void 0&&y.maxNativeZoom<d?y.maxNativeZoom:d},_setView:function(d,y,E,M){var R=Math.round(y);this.options.maxZoom!==void 0&&R>this.options.maxZoom||this.options.minZoom!==void 0&&R<this.options.minZoom?R=void 0:R=this._clampZoom(R);var F=this.options.updateWhenZooming&&R!==this._tileZoom;(!M||F)&&(this._tileZoom=R,this._abortLoading&&this._abortLoading(),this._updateLevels(),this._resetGrid(),R!==void 0&&this._update(d),E||this._pruneTiles(),this._noPrune=!!E),this._setZoomTransforms(d,y)},_setZoomTransforms:function(d,y){for(var E in this._levels)this._setZoomTransform(this._levels[E],d,y)},_setZoomTransform:function(d,y,E){var M=this._map.getZoomScale(E,d.zoom),R=d.origin.multiplyBy(M).subtract(this._map._getNewPixelOrigin(y,E)).round();He.any3d?wa(d.el,R,M):Ut(d.el,R)},_resetGrid:function(){var d=this._map,y=d.options.crs,E=this._tileSize=this.getTileSize(),M=this._tileZoom,R=this._map.getPixelWorldBounds(this._tileZoom);R&&(this._globalTileRange=this._pxBoundsToTileRange(R)),this._wrapX=y.wrapLng&&!this.options.noWrap&&[Math.floor(d.project([0,y.wrapLng[0]],M).x/E.x),Math.ceil(d.project([0,y.wrapLng[1]],M).x/E.y)],this._wrapY=y.wrapLat&&!this.options.noWrap&&[Math.floor(d.project([y.wrapLat[0],0],M).y/E.x),Math.ceil(d.project([y.wrapLat[1],0],M).y/E.y)]},_onMoveEnd:function(){!this._map||this._map._animatingZoom||this._update()},_getTiledPixelBounds:function(d){var y=this._map,E=y._animatingZoom?Math.max(y._animateToZoom,y.getZoom()):y.getZoom(),M=y.getZoomScale(E,this._tileZoom),R=y.project(d,this._tileZoom).floor(),F=y.getSize().divideBy(M*2);return new B(R.subtract(F),R.add(F))},_update:function(d){var y=this._map;if(y){var E=this._clampZoom(y.getZoom());if(d===void 0&&(d=y.getCenter()),this._tileZoom!==void 0){var M=this._getTiledPixelBounds(d),R=this._pxBoundsToTileRange(M),F=R.getCenter(),ee=[],ce=this.options.keepBuffer,ge=new B(R.getBottomLeft().subtract([ce,-ce]),R.getTopRight().add([ce,-ce]));if(!(isFinite(R.min.x)&&isFinite(R.min.y)&&isFinite(R.max.x)&&isFinite(R.max.y)))throw new Error("Attempted to load an infinite number of tiles");for(var Ae in this._tiles){var Le=this._tiles[Ae].coords;(Le.z!==this._tileZoom||!ge.contains(new re(Le.x,Le.y)))&&(this._tiles[Ae].current=!1)}if(Math.abs(E-this._tileZoom)>1){this._setView(d,E);return}for(var qe=R.min.y;qe<=R.max.y;qe++)for(var ot=R.min.x;ot<=R.max.x;ot++){var zn=new re(ot,qe);if(zn.z=this._tileZoom,!!this._isValidTile(zn)){var gn=this._tiles[this._tileCoordsToKey(zn)];gn?gn.current=!0:ee.push(zn)}}if(ee.sort(function(_t,wt){return _t.distanceTo(F)-wt.distanceTo(F)}),ee.length!==0){this._loading||(this._loading=!0,this.fire("loading"));var Pr=document.createDocumentFragment();for(ot=0;ot<ee.length;ot++)this._addTile(ee[ot],Pr);this._level.el.appendChild(Pr)}}}},_isValidTile:function(d){var y=this._map.options.crs;if(!y.infinite){var E=this._globalTileRange;if(!y.wrapLng&&(d.x<E.min.x||d.x>E.max.x)||!y.wrapLat&&(d.y<E.min.y||d.y>E.max.y))return!1}if(!this.options.bounds)return!0;var M=this._tileCoordsToBounds(d);return X(this.options.bounds).overlaps(M)},_keyToBounds:function(d){return this._tileCoordsToBounds(this._keyToTileCoords(d))},_tileCoordsToNwSe:function(d){var y=this._map,E=this.getTileSize(),M=d.scaleBy(E),R=M.add(E),F=y.unproject(M,d.z),ee=y.unproject(R,d.z);return[F,ee]},_tileCoordsToBounds:function(d){var y=this._tileCoordsToNwSe(d),E=new ae(y[0],y[1]);return this.options.noWrap||(E=this._map.wrapLatLngBounds(E)),E},_tileCoordsToKey:function(d){return d.x+":"+d.y+":"+d.z},_keyToTileCoords:function(d){var y=d.split(":"),E=new re(+y[0],+y[1]);return E.z=+y[2],E},_removeTile:function(d){var y=this._tiles[d];y&&(It(y.el),delete this._tiles[d],this.fire("tileunload",{tile:y.el,coords:this._keyToTileCoords(d)}))},_initTile:function(d){nt(d,"leaflet-tile");var y=this.getTileSize();d.style.width=y.x+"px",d.style.height=y.y+"px",d.onselectstart=p,d.onmousemove=p,He.ielt9&&this.options.opacity<1&&Zt(d,this.options.opacity)},_addTile:function(d,y){var E=this._getTilePos(d),M=this._tileCoordsToKey(d),R=this.createTile(this._wrapCoords(d),o(this._tileReady,this,d));this._initTile(R),this.createTile.length<2&&U(o(this._tileReady,this,d,null,R)),Ut(R,E),this._tiles[M]={el:R,coords:d,current:!0},y.appendChild(R),this.fire("tileloadstart",{tile:R,coords:d})},_tileReady:function(d,y,E){y&&this.fire("tileerror",{error:y,tile:E,coords:d});var M=this._tileCoordsToKey(d);E=this._tiles[M],E&&(E.loaded=+new Date,this._map._fadeAnimated?(Zt(E.el,0),z(this._fadeFrame),this._fadeFrame=U(this._updateOpacity,this)):(E.active=!0,this._pruneTiles()),y||(nt(E.el,"leaflet-tile-loaded"),this.fire("tileload",{tile:E.el,coords:d})),this._noTilesToLoad()&&(this._loading=!1,this.fire("load"),He.ielt9||!this._map._fadeAnimated?U(this._pruneTiles,this):setTimeout(o(this._pruneTiles,this),250)))},_getTilePos:function(d){return d.scaleBy(this.getTileSize()).subtract(this._level.origin)},_wrapCoords:function(d){var y=new re(this._wrapX?h(d.x,this._wrapX):d.x,this._wrapY?h(d.y,this._wrapY):d.y);return y.z=d.z,y},_pxBoundsToTileRange:function(d){var y=this.getTileSize();return new B(d.min.unscaleBy(y).floor(),d.max.unscaleBy(y).ceil().subtract([1,1]))},_noTilesToLoad:function(){for(var d in this._tiles)if(!this._tiles[d].loaded)return!1;return!0}});function ag(d){return new Xs(d)}var ro=Xs.extend({options:{minZoom:0,maxZoom:18,subdomains:"abc",errorTileUrl:"",zoomOffset:0,tms:!1,zoomReverse:!1,detectRetina:!1,crossOrigin:!1,referrerPolicy:!1},initialize:function(d,y){this._url=d,y=_(this,y),y.detectRetina&&He.retina&&y.maxZoom>0?(y.tileSize=Math.floor(y.tileSize/2),y.zoomReverse?(y.zoomOffset--,y.minZoom=Math.min(y.maxZoom,y.minZoom+1)):(y.zoomOffset++,y.maxZoom=Math.max(y.minZoom,y.maxZoom-1)),y.minZoom=Math.max(0,y.minZoom)):y.zoomReverse?y.minZoom=Math.min(y.maxZoom,y.minZoom):y.maxZoom=Math.max(y.minZoom,y.maxZoom),typeof y.subdomains=="string"&&(y.subdomains=y.subdomains.split("")),this.on("tileunload",this._onTileRemove)},setUrl:function(d,y){return this._url===d&&y===void 0&&(y=!0),this._url=d,y||this.redraw(),this},createTile:function(d,y){var E=document.createElement("img");return tt(E,"load",o(this._tileOnLoad,this,y,E)),tt(E,"error",o(this._tileOnError,this,y,E)),(this.options.crossOrigin||this.options.crossOrigin==="")&&(E.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),typeof this.options.referrerPolicy=="string"&&(E.referrerPolicy=this.options.referrerPolicy),E.alt="",E.src=this.getTileUrl(d),E},getTileUrl:function(d){var y={r:He.retina?"@2x":"",s:this._getSubdomain(d),x:d.x,y:d.y,z:this._getZoomForUrl()};if(this._map&&!this._map.options.crs.infinite){var E=this._globalTileRange.max.y-d.y;this.options.tms&&(y.y=E),y["-y"]=E}return N(this._url,i(y,this.options))},_tileOnLoad:function(d,y){He.ielt9?setTimeout(o(d,this,null,y),0):d(null,y)},_tileOnError:function(d,y,E){var M=this.options.errorTileUrl;M&&y.getAttribute("src")!==M&&(y.src=M),d(E,y)},_onTileRemove:function(d){d.tile.onload=null},_getZoomForUrl:function(){var d=this._tileZoom,y=this.options.maxZoom,E=this.options.zoomReverse,M=this.options.zoomOffset;return E&&(d=y-d),d+M},_getSubdomain:function(d){var y=Math.abs(d.x+d.y)%this.options.subdomains.length;return this.options.subdomains[y]},_abortLoading:function(){var d,y;for(d in this._tiles)if(this._tiles[d].coords.z!==this._tileZoom&&(y=this._tiles[d].el,y.onload=p,y.onerror=p,!y.complete)){y.src=C;var E=this._tiles[d].coords;It(y),delete this._tiles[d],this.fire("tileabort",{tile:y,coords:E})}},_removeTile:function(d){var y=this._tiles[d];if(y)return y.el.setAttribute("src",C),Xs.prototype._removeTile.call(this,d)},_tileReady:function(d,y,E){if(!(!this._map||E&&E.getAttribute("src")===C))return Xs.prototype._tileReady.call(this,d,y,E)}});function Wr(d,y){return new ro(d,y)}var uc=ro.extend({defaultWmsParams:{service:"WMS",request:"GetMap",layers:"",styles:"",format:"image/jpeg",transparent:!1,version:"1.1.1"},options:{crs:null,uppercase:!1},initialize:function(d,y){this._url=d;var E=i({},this.defaultWmsParams);for(var M in y)M in this.options||(E[M]=y[M]);y=_(this,y);var R=y.detectRetina&&He.retina?2:1,F=this.getTileSize();E.width=F.x*R,E.height=F.y*R,this.wmsParams=E},onAdd:function(d){this._crs=this.options.crs||d.options.crs,this._wmsVersion=parseFloat(this.wmsParams.version);var y=this._wmsVersion>=1.3?"crs":"srs";this.wmsParams[y]=this._crs.code,ro.prototype.onAdd.call(this,d)},getTileUrl:function(d){var y=this._tileCoordsToNwSe(d),E=this._crs,M=W(E.project(y[0]),E.project(y[1])),R=M.min,F=M.max,ee=(this._wmsVersion>=1.3&&this._crs===Gf?[R.y,R.x,F.y,F.x]:[R.x,R.y,F.x,F.y]).join(","),ce=ro.prototype.getTileUrl.call(this,d);return ce+k(this.wmsParams,ce,this.options.uppercase)+(this.options.uppercase?"&BBOX=":"&bbox=")+ee},setParams:function(d,y){return i(this.wmsParams,d),y||this.redraw(),this}});function Vr(d,y){return new uc(d,y)}ro.WMS=uc,Wr.wms=Vr;var kr=wi.extend({options:{padding:.1},initialize:function(d){_(this,d),u(this),this._layers=this._layers||{}},onAdd:function(){this._container||(this._initContainer(),nt(this._container,"leaflet-zoom-animated")),this.getPane().appendChild(this._container),this._update(),this.on("update",this._updatePaths,this)},onRemove:function(){this.off("update",this._updatePaths,this),this._destroyContainer()},getEvents:function(){var d={viewreset:this._reset,zoom:this._onZoom,moveend:this._update,zoomend:this._onZoomEnd};return this._zoomAnimated&&(d.zoomanim=this._onAnimZoom),d},_onAnimZoom:function(d){this._updateTransform(d.center,d.zoom)},_onZoom:function(){this._updateTransform(this._map.getCenter(),this._map.getZoom())},_updateTransform:function(d,y){var E=this._map.getZoomScale(y,this._zoom),M=this._map.getSize().multiplyBy(.5+this.options.padding),R=this._map.project(this._center,y),F=M.multiplyBy(-E).add(R).subtract(this._map._getNewPixelOrigin(d,y));He.any3d?wa(this._container,F,E):Ut(this._container,F)},_reset:function(){this._update(),this._updateTransform(this._center,this._zoom);for(var d in this._layers)this._layers[d]._reset()},_onZoomEnd:function(){for(var d in this._layers)this._layers[d]._project()},_updatePaths:function(){for(var d in this._layers)this._layers[d]._update()},_update:function(){var d=this.options.padding,y=this._map.getSize(),E=this._map.containerPointToLayerPoint(y.multiplyBy(-d)).round();this._bounds=new B(E,E.add(y.multiplyBy(1+d*2)).round()),this._center=this._map.getCenter(),this._zoom=this._map.getZoom()}}),Cu=kr.extend({options:{tolerance:0},getEvents:function(){var d=kr.prototype.getEvents.call(this);return d.viewprereset=this._onViewPreReset,d},_onViewPreReset:function(){this._postponeUpdatePaths=!0},onAdd:function(){kr.prototype.onAdd.call(this),this._draw()},_initContainer:function(){var d=this._container=document.createElement("canvas");tt(d,"mousemove",this._onMouseMove,this),tt(d,"click dblclick mousedown mouseup contextmenu",this._onClick,this),tt(d,"mouseout",this._handleMouseOut,this),d._leaflet_disable_events=!0,this._ctx=d.getContext("2d")},_destroyContainer:function(){z(this._redrawRequest),delete this._ctx,It(this._container),Nt(this._container),delete this._container},_updatePaths:function(){if(!this._postponeUpdatePaths){var d;this._redrawBounds=null;for(var y in this._layers)d=this._layers[y],d._update();this._redraw()}},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){kr.prototype._update.call(this);var d=this._bounds,y=this._container,E=d.getSize(),M=He.retina?2:1;Ut(y,d.min),y.width=M*E.x,y.height=M*E.y,y.style.width=E.x+"px",y.style.height=E.y+"px",He.retina&&this._ctx.scale(2,2),this._ctx.translate(-d.min.x,-d.min.y),this.fire("update")}},_reset:function(){kr.prototype._reset.call(this),this._postponeUpdatePaths&&(this._postponeUpdatePaths=!1,this._updatePaths())},_initPath:function(d){this._updateDashArray(d),this._layers[u(d)]=d;var y=d._order={layer:d,prev:this._drawLast,next:null};this._drawLast&&(this._drawLast.next=y),this._drawLast=y,this._drawFirst=this._drawFirst||this._drawLast},_addPath:function(d){this._requestRedraw(d)},_removePath:function(d){var y=d._order,E=y.next,M=y.prev;E?E.prev=M:this._drawLast=M,M?M.next=E:this._drawFirst=E,delete d._order,delete this._layers[u(d)],this._requestRedraw(d)},_updatePath:function(d){this._extendRedrawBounds(d),d._project(),d._update(),this._requestRedraw(d)},_updateStyle:function(d){this._updateDashArray(d),this._requestRedraw(d)},_updateDashArray:function(d){if(typeof d.options.dashArray=="string"){var y=d.options.dashArray.split(/[, ]+/),E=[],M,R;for(R=0;R<y.length;R++){if(M=Number(y[R]),isNaN(M))return;E.push(M)}d.options._dashArray=E}else d.options._dashArray=d.options.dashArray},_requestRedraw:function(d){this._map&&(this._extendRedrawBounds(d),this._redrawRequest=this._redrawRequest||U(this._redraw,this))},_extendRedrawBounds:function(d){if(d._pxBounds){var y=(d.options.weight||0)+1;this._redrawBounds=this._redrawBounds||new B,this._redrawBounds.extend(d._pxBounds.min.subtract([y,y])),this._redrawBounds.extend(d._pxBounds.max.add([y,y]))}},_redraw:function(){this._redrawRequest=null,this._redrawBounds&&(this._redrawBounds.min._floor(),this._redrawBounds.max._ceil()),this._clear(),this._draw(),this._redrawBounds=null},_clear:function(){var d=this._redrawBounds;if(d){var y=d.getSize();this._ctx.clearRect(d.min.x,d.min.y,y.x,y.y)}else this._ctx.save(),this._ctx.setTransform(1,0,0,1,0,0),this._ctx.clearRect(0,0,this._container.width,this._container.height),this._ctx.restore()},_draw:function(){var d,y=this._redrawBounds;if(this._ctx.save(),y){var E=y.getSize();this._ctx.beginPath(),this._ctx.rect(y.min.x,y.min.y,E.x,E.y),this._ctx.clip()}this._drawing=!0;for(var M=this._drawFirst;M;M=M.next)d=M.layer,(!y||d._pxBounds&&d._pxBounds.intersects(y))&&d._updatePath();this._drawing=!1,this._ctx.restore()},_updatePoly:function(d,y){if(this._drawing){var E,M,R,F,ee=d._parts,ce=ee.length,ge=this._ctx;if(ce){for(ge.beginPath(),E=0;E<ce;E++){for(M=0,R=ee[E].length;M<R;M++)F=ee[E][M],ge[M?"lineTo":"moveTo"](F.x,F.y);y&&ge.closePath()}this._fillStroke(ge,d)}}},_updateCircle:function(d){if(!(!this._drawing||d._empty())){var y=d._point,E=this._ctx,M=Math.max(Math.round(d._radius),1),R=(Math.max(Math.round(d._radiusY),1)||M)/M;R!==1&&(E.save(),E.scale(1,R)),E.beginPath(),E.arc(y.x,y.y/R,M,0,Math.PI*2,!1),R!==1&&E.restore(),this._fillStroke(E,d)}},_fillStroke:function(d,y){var E=y.options;E.fill&&(d.globalAlpha=E.fillOpacity,d.fillStyle=E.fillColor||E.color,d.fill(E.fillRule||"evenodd")),E.stroke&&E.weight!==0&&(d.setLineDash&&d.setLineDash(y.options&&y.options._dashArray||[]),d.globalAlpha=E.opacity,d.lineWidth=E.weight,d.strokeStyle=E.color,d.lineCap=E.lineCap,d.lineJoin=E.lineJoin,d.stroke())},_onClick:function(d){for(var y=this._map.mouseEventToLayerPoint(d),E,M,R=this._drawFirst;R;R=R.next)E=R.layer,E.options.interactive&&E._containsPoint(y)&&(!(d.type==="click"||d.type==="preclick")||!this._map._draggableMoved(E))&&(M=E);this._fireEvent(M?[M]:!1,d)},_onMouseMove:function(d){if(!(!this._map||this._map.dragging.moving()||this._map._animatingZoom)){var y=this._map.mouseEventToLayerPoint(d);this._handleMouseHover(d,y)}},_handleMouseOut:function(d){var y=this._hoveredLayer;y&&(en(this._container,"leaflet-interactive"),this._fireEvent([y],d,"mouseout"),this._hoveredLayer=null,this._mouseHoverThrottled=!1)},_handleMouseHover:function(d,y){if(!this._mouseHoverThrottled){for(var E,M,R=this._drawFirst;R;R=R.next)E=R.layer,E.options.interactive&&E._containsPoint(y)&&(M=E);M!==this._hoveredLayer&&(this._handleMouseOut(d),M&&(nt(this._container,"leaflet-interactive"),this._fireEvent([M],d,"mouseover"),this._hoveredLayer=M)),this._fireEvent(this._hoveredLayer?[this._hoveredLayer]:!1,d),this._mouseHoverThrottled=!0,setTimeout(o(function(){this._mouseHoverThrottled=!1},this),32)}},_fireEvent:function(d,y,E){this._map._fireDOMEvent(y,E||y.type,d)},_bringToFront:function(d){var y=d._order;if(y){var E=y.next,M=y.prev;if(E)E.prev=M;else return;M?M.next=E:E&&(this._drawFirst=E),y.prev=this._drawLast,this._drawLast.next=y,y.next=null,this._drawLast=y,this._requestRedraw(d)}},_bringToBack:function(d){var y=d._order;if(y){var E=y.next,M=y.prev;if(M)M.next=E;else return;E?E.prev=M:M&&(this._drawLast=M),y.prev=null,y.next=this._drawFirst,this._drawFirst.prev=y,this._drawFirst=y,this._requestRedraw(d)}}});function dc(d){return He.canvas?new Cu(d):null}var io=(function(){try{return document.namespaces.add("lvml","urn:schemas-microsoft-com:vml"),function(d){return document.createElement("<lvml:"+d+' class="lvml">')}}catch{}return function(d){return document.createElement("<"+d+' xmlns="urn:schemas-microsoft.com:vml" class="lvml">')}})(),qf={_initContainer:function(){this._container=ct("div","leaflet-vml-container")},_update:function(){this._map._animatingZoom||(kr.prototype._update.call(this),this.fire("update"))},_initPath:function(d){var y=d._container=io("shape");nt(y,"leaflet-vml-shape "+(this.options.className||"")),y.coordsize="1 1",d._path=io("path"),y.appendChild(d._path),this._updateStyle(d),this._layers[u(d)]=d},_addPath:function(d){var y=d._container;this._container.appendChild(y),d.options.interactive&&d.addInteractiveTarget(y)},_removePath:function(d){var y=d._container;It(y),d.removeInteractiveTarget(y),delete this._layers[u(d)]},_updateStyle:function(d){var y=d._stroke,E=d._fill,M=d.options,R=d._container;R.stroked=!!M.stroke,R.filled=!!M.fill,M.stroke?(y||(y=d._stroke=io("stroke")),R.appendChild(y),y.weight=M.weight+"px",y.color=M.color,y.opacity=M.opacity,M.dashArray?y.dashStyle=O(M.dashArray)?M.dashArray.join(" "):M.dashArray.replace(/( *, *)/g," "):y.dashStyle="",y.endcap=M.lineCap.replace("butt","flat"),y.joinstyle=M.lineJoin):y&&(R.removeChild(y),d._stroke=null),M.fill?(E||(E=d._fill=io("fill")),R.appendChild(E),E.color=M.fillColor||M.color,E.opacity=M.fillOpacity):E&&(R.removeChild(E),d._fill=null)},_updateCircle:function(d){var y=d._point.round(),E=Math.round(d._radius),M=Math.round(d._radiusY||E);this._setPath(d,d._empty()?"M0 0":"AL "+y.x+","+y.y+" "+E+","+M+" 0,"+65535*360)},_setPath:function(d,y){d._path.v=y},_bringToFront:function(d){Bn(d._container)},_bringToBack:function(d){Lo(d._container)}},Xi=He.vml?io:_e,Js=kr.extend({_initContainer:function(){this._container=Xi("svg"),this._container.setAttribute("pointer-events","none"),this._rootGroup=Xi("g"),this._container.appendChild(this._rootGroup)},_destroyContainer:function(){It(this._container),Nt(this._container),delete this._container,delete this._rootGroup,delete this._svgSize},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){kr.prototype._update.call(this);var d=this._bounds,y=d.getSize(),E=this._container;(!this._svgSize||!this._svgSize.equals(y))&&(this._svgSize=y,E.setAttribute("width",y.x),E.setAttribute("height",y.y)),Ut(E,d.min),E.setAttribute("viewBox",[d.min.x,d.min.y,y.x,y.y].join(" ")),this.fire("update")}},_initPath:function(d){var y=d._path=Xi("path");d.options.className&&nt(y,d.options.className),d.options.interactive&&nt(y,"leaflet-interactive"),this._updateStyle(d),this._layers[u(d)]=d},_addPath:function(d){this._rootGroup||this._initContainer(),this._rootGroup.appendChild(d._path),d.addInteractiveTarget(d._path)},_removePath:function(d){It(d._path),d.removeInteractiveTarget(d._path),delete this._layers[u(d)]},_updatePath:function(d){d._project(),d._update()},_updateStyle:function(d){var y=d._path,E=d.options;y&&(E.stroke?(y.setAttribute("stroke",E.color),y.setAttribute("stroke-opacity",E.opacity),y.setAttribute("stroke-width",E.weight),y.setAttribute("stroke-linecap",E.lineCap),y.setAttribute("stroke-linejoin",E.lineJoin),E.dashArray?y.setAttribute("stroke-dasharray",E.dashArray):y.removeAttribute("stroke-dasharray"),E.dashOffset?y.setAttribute("stroke-dashoffset",E.dashOffset):y.removeAttribute("stroke-dashoffset")):y.setAttribute("stroke","none"),E.fill?(y.setAttribute("fill",E.fillColor||E.color),y.setAttribute("fill-opacity",E.fillOpacity),y.setAttribute("fill-rule",E.fillRule||"evenodd")):y.setAttribute("fill","none"))},_updatePoly:function(d,y){this._setPath(d,je(d._parts,y))},_updateCircle:function(d){var y=d._point,E=Math.max(Math.round(d._radius),1),M=Math.max(Math.round(d._radiusY),1)||E,R="a"+E+","+M+" 0 1,0 ",F=d._empty()?"M0 0":"M"+(y.x-E)+","+y.y+R+E*2+",0 "+R+-E*2+",0 ";this._setPath(d,F)},_setPath:function(d,y){d._path.setAttribute("d",y)},_bringToFront:function(d){Bn(d._path)},_bringToBack:function(d){Lo(d._path)}});He.vml&&Js.include(qf);function fc(d){return He.svg||He.vml?new Js(d):null}ht.include({getRenderer:function(d){var y=d.options.renderer||this._getPaneRenderer(d.options.pane)||this.options.renderer||this._renderer;return y||(y=this._renderer=this._createRenderer()),this.hasLayer(y)||this.addLayer(y),y},_getPaneRenderer:function(d){if(d==="overlayPane"||d===void 0)return!1;var y=this._paneRenderers[d];return y===void 0&&(y=this._createRenderer({pane:d}),this._paneRenderers[d]=y),y},_createRenderer:function(d){return this.options.preferCanvas&&dc(d)||fc(d)}});var zo=Ks.extend({initialize:function(d,y){Ks.prototype.initialize.call(this,this._boundsToLatLngs(d),y)},setBounds:function(d){return this.setLatLngs(this._boundsToLatLngs(d))},_boundsToLatLngs:function(d){return d=X(d),[d.getSouthWest(),d.getNorthWest(),d.getNorthEast(),d.getSouthEast()]}});function Ix(d,y){return new zo(d,y)}Js.create=Xi,Js.pointsToPath=je,Aa.geometryToLayer=er,Aa.coordsToLatLng=Au,Aa.coordsToLatLngs=ac,Aa.latLngToCoords=Tu,Aa.latLngsToCoords=oc,Aa.getFeature=eo,Aa.asFeature=Ou,ht.mergeOptions({boxZoom:!0});var Er=Ki.extend({initialize:function(d){this._map=d,this._container=d._container,this._pane=d._panes.overlayPane,this._resetStateTimeout=0,d.on("unload",this._destroy,this)},addHooks:function(){tt(this._container,"mousedown",this._onMouseDown,this)},removeHooks:function(){Nt(this._container,"mousedown",this._onMouseDown,this)},moved:function(){return this._moved},_destroy:function(){It(this._pane),delete this._pane},_resetState:function(){this._resetStateTimeout=0,this._moved=!1},_clearDeferredResetState:function(){this._resetStateTimeout!==0&&(clearTimeout(this._resetStateTimeout),this._resetStateTimeout=0)},_onMouseDown:function(d){if(!d.shiftKey||d.which!==1&&d.button!==1)return!1;this._clearDeferredResetState(),this._resetState(),$s(),yu(),this._startPoint=this._map.mouseEventToContainerPoint(d),tt(document,{contextmenu:Ja,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseMove:function(d){this._moved||(this._moved=!0,this._box=ct("div","leaflet-zoom-box",this._container),nt(this._container,"leaflet-crosshair"),this._map.fire("boxzoomstart")),this._point=this._map.mouseEventToContainerPoint(d);var y=new B(this._point,this._startPoint),E=y.getSize();Ut(this._box,y.min),this._box.style.width=E.x+"px",this._box.style.height=E.y+"px"},_finish:function(){this._moved&&(It(this._box),en(this._container,"leaflet-crosshair")),qi(),Wl(),Nt(document,{contextmenu:Ja,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseUp:function(d){if(!(d.which!==1&&d.button!==1)&&(this._finish(),!!this._moved)){this._clearDeferredResetState(),this._resetStateTimeout=setTimeout(o(this._resetState,this),0);var y=new ae(this._map.containerPointToLatLng(this._startPoint),this._map.containerPointToLatLng(this._point));this._map.fitBounds(y).fire("boxzoomend",{boxZoomBounds:y})}},_onKeyDown:function(d){d.keyCode===27&&(this._finish(),this._clearDeferredResetState(),this._resetState())}});ht.addInitHook("addHandler","boxZoom",Er),ht.mergeOptions({doubleClickZoom:!0});var Mu=Ki.extend({addHooks:function(){this._map.on("dblclick",this._onDoubleClick,this)},removeHooks:function(){this._map.off("dblclick",this._onDoubleClick,this)},_onDoubleClick:function(d){var y=this._map,E=y.getZoom(),M=y.options.zoomDelta,R=d.originalEvent.shiftKey?E-M:E+M;y.options.doubleClickZoom==="center"?y.setZoom(R):y.setZoomAround(d.containerPoint,R)}});ht.addInitHook("addHandler","doubleClickZoom",Mu),ht.mergeOptions({dragging:!0,inertia:!0,inertiaDeceleration:3400,inertiaMaxSpeed:1/0,easeLinearity:.2,worldCopyJump:!1,maxBoundsViscosity:0});var Ji=Ki.extend({addHooks:function(){if(!this._draggable){var d=this._map;this._draggable=new Qa(d._mapPane,d._container),this._draggable.on({dragstart:this._onDragStart,drag:this._onDrag,dragend:this._onDragEnd},this),this._draggable.on("predrag",this._onPreDragLimit,this),d.options.worldCopyJump&&(this._draggable.on("predrag",this._onPreDragWrap,this),d.on("zoomend",this._onZoomEnd,this),d.whenReady(this._onZoomEnd,this))}nt(this._map._container,"leaflet-grab leaflet-touch-drag"),this._draggable.enable(),this._positions=[],this._times=[]},removeHooks:function(){en(this._map._container,"leaflet-grab"),en(this._map._container,"leaflet-touch-drag"),this._draggable.disable()},moved:function(){return this._draggable&&this._draggable._moved},moving:function(){return this._draggable&&this._draggable._moving},_onDragStart:function(){var d=this._map;if(d._stop(),this._map.options.maxBounds&&this._map.options.maxBoundsViscosity){var y=X(this._map.options.maxBounds);this._offsetLimit=W(this._map.latLngToContainerPoint(y.getNorthWest()).multiplyBy(-1),this._map.latLngToContainerPoint(y.getSouthEast()).multiplyBy(-1).add(this._map.getSize())),this._viscosity=Math.min(1,Math.max(0,this._map.options.maxBoundsViscosity))}else this._offsetLimit=null;d.fire("movestart").fire("dragstart"),d.options.inertia&&(this._positions=[],this._times=[])},_onDrag:function(d){if(this._map.options.inertia){var y=this._lastTime=+new Date,E=this._lastPos=this._draggable._absPos||this._draggable._newPos;this._positions.push(E),this._times.push(y),this._prunePositions(y)}this._map.fire("move",d).fire("drag",d)},_prunePositions:function(d){for(;this._positions.length>1&&d-this._times[0]>50;)this._positions.shift(),this._times.shift()},_onZoomEnd:function(){var d=this._map.getSize().divideBy(2),y=this._map.latLngToLayerPoint([0,0]);this._initialWorldOffset=y.subtract(d).x,this._worldWidth=this._map.getPixelWorldBounds().getSize().x},_viscousLimit:function(d,y){return d-(d-y)*this._viscosity},_onPreDragLimit:function(){if(!(!this._viscosity||!this._offsetLimit)){var d=this._draggable._newPos.subtract(this._draggable._startPos),y=this._offsetLimit;d.x<y.min.x&&(d.x=this._viscousLimit(d.x,y.min.x)),d.y<y.min.y&&(d.y=this._viscousLimit(d.y,y.min.y)),d.x>y.max.x&&(d.x=this._viscousLimit(d.x,y.max.x)),d.y>y.max.y&&(d.y=this._viscousLimit(d.y,y.max.y)),this._draggable._newPos=this._draggable._startPos.add(d)}},_onPreDragWrap:function(){var d=this._worldWidth,y=Math.round(d/2),E=this._initialWorldOffset,M=this._draggable._newPos.x,R=(M-y+E)%d+y-E,F=(M+y+E)%d-y-E,ee=Math.abs(R+E)<Math.abs(F+E)?R:F;this._draggable._absPos=this._draggable._newPos.clone(),this._draggable._newPos.x=ee},_onDragEnd:function(d){var y=this._map,E=y.options,M=!E.inertia||d.noInertia||this._times.length<2;if(y.fire("dragend",d),M)y.fire("moveend");else{this._prunePositions(+new Date);var R=this._lastPos.subtract(this._positions[0]),F=(this._lastTime-this._times[0])/1e3,ee=E.easeLinearity,ce=R.multiplyBy(ee/F),ge=ce.distanceTo([0,0]),Ae=Math.min(E.inertiaMaxSpeed,ge),Le=ce.multiplyBy(Ae/ge),qe=Ae/(E.inertiaDeceleration*ee),ot=Le.multiplyBy(-qe/2).round();!ot.x&&!ot.y?y.fire("moveend"):(ot=y._limitOffset(ot,y.options.maxBounds),U(function(){y.panBy(ot,{duration:qe,easeLinearity:ee,noMoveStart:!0,animate:!0})}))}}});ht.addInitHook("addHandler","dragging",Ji),ht.mergeOptions({keyboard:!0,keyboardPanDelta:80});var Yf=Ki.extend({keyCodes:{left:[37],right:[39],down:[40],up:[38],zoomIn:[187,107,61,171],zoomOut:[189,109,54,173]},initialize:function(d){this._map=d,this._setPanDelta(d.options.keyboardPanDelta),this._setZoomDelta(d.options.zoomDelta)},addHooks:function(){var d=this._map._container;d.tabIndex<=0&&(d.tabIndex="0"),tt(d,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.on({focus:this._addHooks,blur:this._removeHooks},this)},removeHooks:function(){this._removeHooks(),Nt(this._map._container,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.off({focus:this._addHooks,blur:this._removeHooks},this)},_onMouseDown:function(){if(!this._focused){var d=document.body,y=document.documentElement,E=d.scrollTop||y.scrollTop,M=d.scrollLeft||y.scrollLeft;this._map._container.focus(),window.scrollTo(M,E)}},_onFocus:function(){this._focused=!0,this._map.fire("focus")},_onBlur:function(){this._focused=!1,this._map.fire("blur")},_setPanDelta:function(d){var y=this._panKeys={},E=this.keyCodes,M,R;for(M=0,R=E.left.length;M<R;M++)y[E.left[M]]=[-1*d,0];for(M=0,R=E.right.length;M<R;M++)y[E.right[M]]=[d,0];for(M=0,R=E.down.length;M<R;M++)y[E.down[M]]=[0,d];for(M=0,R=E.up.length;M<R;M++)y[E.up[M]]=[0,-1*d]},_setZoomDelta:function(d){var y=this._zoomKeys={},E=this.keyCodes,M,R;for(M=0,R=E.zoomIn.length;M<R;M++)y[E.zoomIn[M]]=d;for(M=0,R=E.zoomOut.length;M<R;M++)y[E.zoomOut[M]]=-d},_addHooks:function(){tt(document,"keydown",this._onKeyDown,this)},_removeHooks:function(){Nt(document,"keydown",this._onKeyDown,this)},_onKeyDown:function(d){if(!(d.altKey||d.ctrlKey||d.metaKey)){var y=d.keyCode,E=this._map,M;if(y in this._panKeys){if(!E._panAnim||!E._panAnim._inProgress)if(M=this._panKeys[y],d.shiftKey&&(M=se(M).multiplyBy(3)),E.options.maxBounds&&(M=E._limitOffset(se(M),E.options.maxBounds)),E.options.worldCopyJump){var R=E.wrapLatLng(E.unproject(E.project(E.getCenter()).add(M)));E.panTo(R)}else E.panBy(M)}else if(y in this._zoomKeys)E.setZoom(E.getZoom()+(d.shiftKey?3:1)*this._zoomKeys[y]);else if(y===27&&E._popup&&E._popup.options.closeOnEscapeKey)E.closePopup();else return;Ja(d)}}});ht.addInitHook("addHandler","keyboard",Yf),ht.mergeOptions({scrollWheelZoom:!0,wheelDebounceTime:40,wheelPxPerZoomLevel:60});var hc=Ki.extend({addHooks:function(){tt(this._map._container,"wheel",this._onWheelScroll,this),this._delta=0},removeHooks:function(){Nt(this._map._container,"wheel",this._onWheelScroll,this)},_onWheelScroll:function(d){var y=dr(d),E=this._map.options.wheelDebounceTime;this._delta+=y,this._lastMousePos=this._map.mouseEventToContainerPoint(d),this._startTime||(this._startTime=+new Date);var M=Math.max(E-(+new Date-this._startTime),0);clearTimeout(this._timer),this._timer=setTimeout(o(this._performZoom,this),M),Ja(d)},_performZoom:function(){var d=this._map,y=d.getZoom(),E=this._map.options.zoomSnap||0;d._stop();var M=this._delta/(this._map.options.wheelPxPerZoomLevel*4),R=4*Math.log(2/(1+Math.exp(-Math.abs(M))))/Math.LN2,F=E?Math.ceil(R/E)*E:R,ee=d._limitZoom(y+(this._delta>0?F:-F))-y;this._delta=0,this._startTime=null,ee&&(d.options.scrollWheelZoom==="center"?d.setZoom(y+ee):d.setZoomAround(this._lastMousePos,y+ee))}});ht.addInitHook("addHandler","scrollWheelZoom",hc);var Uo=600;ht.mergeOptions({tapHold:He.touchNative&&He.safari&&He.mobile,tapTolerance:15});var Pu=Ki.extend({addHooks:function(){tt(this._map._container,"touchstart",this._onDown,this)},removeHooks:function(){Nt(this._map._container,"touchstart",this._onDown,this)},_onDown:function(d){if(clearTimeout(this._holdTimeout),d.touches.length===1){var y=d.touches[0];this._startPos=this._newPos=new re(y.clientX,y.clientY),this._holdTimeout=setTimeout(o(function(){this._cancel(),this._isTapValid()&&(tt(document,"touchend",pn),tt(document,"touchend touchcancel",this._cancelClickPrevent),this._simulateEvent("contextmenu",y))},this),Uo),tt(document,"touchend touchcancel contextmenu",this._cancel,this),tt(document,"touchmove",this._onMove,this)}},_cancelClickPrevent:function d(){Nt(document,"touchend",pn),Nt(document,"touchend touchcancel",d)},_cancel:function(){clearTimeout(this._holdTimeout),Nt(document,"touchend touchcancel contextmenu",this._cancel,this),Nt(document,"touchmove",this._onMove,this)},_onMove:function(d){var y=d.touches[0];this._newPos=new re(y.clientX,y.clientY)},_isTapValid:function(){return this._newPos.distanceTo(this._startPos)<=this._map.options.tapTolerance},_simulateEvent:function(d,y){var E=new MouseEvent(d,{bubbles:!0,cancelable:!0,view:window,screenX:y.screenX,screenY:y.screenY,clientX:y.clientX,clientY:y.clientY});E._simulated=!0,y.target.dispatchEvent(E)}});ht.addInitHook("addHandler","tapHold",Pu),ht.mergeOptions({touchZoom:He.touch,bounceAtZoomLimits:!0});var Kf=Ki.extend({addHooks:function(){nt(this._map._container,"leaflet-touch-zoom"),tt(this._map._container,"touchstart",this._onTouchStart,this)},removeHooks:function(){en(this._map._container,"leaflet-touch-zoom"),Nt(this._map._container,"touchstart",this._onTouchStart,this)},_onTouchStart:function(d){var y=this._map;if(!(!d.touches||d.touches.length!==2||y._animatingZoom||this._zooming)){var E=y.mouseEventToContainerPoint(d.touches[0]),M=y.mouseEventToContainerPoint(d.touches[1]);this._centerPoint=y.getSize()._divideBy(2),this._startLatLng=y.containerPointToLatLng(this._centerPoint),y.options.touchZoom!=="center"&&(this._pinchStartLatLng=y.containerPointToLatLng(E.add(M)._divideBy(2))),this._startDist=E.distanceTo(M),this._startZoom=y.getZoom(),this._moved=!1,this._zooming=!0,y._stop(),tt(document,"touchmove",this._onTouchMove,this),tt(document,"touchend touchcancel",this._onTouchEnd,this),pn(d)}},_onTouchMove:function(d){if(!(!d.touches||d.touches.length!==2||!this._zooming)){var y=this._map,E=y.mouseEventToContainerPoint(d.touches[0]),M=y.mouseEventToContainerPoint(d.touches[1]),R=E.distanceTo(M)/this._startDist;if(this._zoom=y.getScaleZoom(R,this._startZoom),!y.options.bounceAtZoomLimits&&(this._zoom<y.getMinZoom()&&R<1||this._zoom>y.getMaxZoom()&&R>1)&&(this._zoom=y._limitZoom(this._zoom)),y.options.touchZoom==="center"){if(this._center=this._startLatLng,R===1)return}else{var F=E._add(M)._divideBy(2)._subtract(this._centerPoint);if(R===1&&F.x===0&&F.y===0)return;this._center=y.unproject(y.project(this._pinchStartLatLng,this._zoom).subtract(F),this._zoom)}this._moved||(y._moveStart(!0,!1),this._moved=!0),z(this._animRequest);var ee=o(y._move,y,this._center,this._zoom,{pinch:!0,round:!1},void 0);this._animRequest=U(ee,this,!0),pn(d)}},_onTouchEnd:function(){if(!this._moved||!this._zooming){this._zooming=!1;return}this._zooming=!1,z(this._animRequest),Nt(document,"touchmove",this._onTouchMove,this),Nt(document,"touchend touchcancel",this._onTouchEnd,this),this._map.options.zoomAnimation?this._map._animateZoom(this._center,this._map._limitZoom(this._zoom),!0,this._map.options.zoomSnap):this._map._resetView(this._center,this._map._limitZoom(this._zoom))}});ht.addInitHook("addHandler","touchZoom",Kf),ht.BoxZoom=Er,ht.DoubleClickZoom=Mu,ht.Drag=Ji,ht.Keyboard=Yf,ht.ScrollWheelZoom=hc,ht.TapHold=Pu,ht.TouchZoom=Kf,n.Bounds=B,n.Browser=He,n.CRS=pe,n.Canvas=Cu,n.Circle=Eu,n.CircleMarker=Ys,n.Class=J,n.Control=Mr,n.DivIcon=ig,n.DivOverlay=tr,n.DomEvent=xu,n.DomUtil=Us,n.Draggable=Qa,n.Evented=Z,n.FeatureGroup=Wi,n.GeoJSON=Aa,n.GridLayer=Xs,n.Handler=Ki,n.Icon=Vi,n.ImageOverlay=Vs,n.LatLng=oe,n.LatLngBounds=ae,n.Layer=wi,n.LayerGroup=qs,n.LineUtil=Cx,n.Map=ht,n.Marker=ic,n.Mixin=Tx,n.Path=Zi,n.Point=re,n.PolyUtil=Ff,n.Polygon=Ks,n.Polyline=Ea,n.Popup=lc,n.PosAnimation=Fs,n.Projection=Vp,n.Rectangle=zo,n.Renderer=kr,n.SVG=Js,n.SVGOverlay=Nu,n.TileLayer=ro,n.Tooltip=cc,n.Transformation=Ce,n.Util=V,n.VideoOverlay=no,n.bind=o,n.bounds=W,n.canvas=dc,n.circle=eg,n.circleMarker=Qp,n.control=ka,n.divIcon=Lx,n.extend=i,n.featureGroup=Xp,n.geoJSON=ju,n.geoJson=sc,n.gridLayer=ag,n.icon=tc,n.imageOverlay=tg,n.latLng=me,n.latLngBounds=X,n.layerGroup=Mx,n.map=Lf,n.marker=Jp,n.point=se,n.polygon=Dx,n.polyline=Px,n.popup=rg,n.rectangle=Ix,n.setOptions=_,n.stamp=u,n.svg=fc,n.svgOverlay=ng,n.tileLayer=Wr,n.tooltip=Rx,n.transformation=ve,n.version=r,n.videoOverlay=Zs;var Wf=window.L;n.noConflict=function(){return window.L=Wf,this},window.L=n}))})(rm,rm.exports)),rm.exports}var QW=JW();const Nw=fi(QW),m0=e=>e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#39;");function Tc(e){const t=document.getElementById(e);if(!t)throw new Error(`#${e} not found`);return t}function eV(e){const{buttonId:t,buttonInputId:n,modalId:r,closeMapId:i,mapCloseBtnId:a,searchBoxId:o,suggestionsId:l,mapId:u}=e.ids,f=e.initialCenter??{lat:37.5665,lon:126.978},h=Tc(n),p=Tc(t),g=Tc(r),x=Tc(a),S=Tc(o),_=Tc(l),k=i?Tc(i):null;let T=null,N=null,O=null;const P=z=>z.code==="Space"||z.key===" "||z.key==="Spacebar"||z.key==="Space",C=z=>{P(z)&&document.activeElement!==S&&(z.preventDefault(),z.stopPropagation(),S.focus())},D=()=>{g.style.display="flex",T?setTimeout(()=>T?.invalidateSize(),200):setTimeout(()=>{T=Nw.map(u,{keyboard:!1}).setView([f.lat,f.lon],11),Nw.tileLayer("https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",{attribution:" OpenStreetMap"}).addTo(T),T.invalidateSize()},0),g.addEventListener("keydown",C,!0),g.addEventListener("keyup",C,!0),S.focus()},$=()=>{g.style.display="none",S.value="",_.innerHTML="",O&&(window.clearTimeout(O),O=null),g.removeEventListener("keydown",C,!0),g.removeEventListener("keyup",C,!0)},H=z=>{const V=z.dataset.name??"",J=Number(z.dataset.lat??""),Q=Number(z.dataset.lon??"");!Number.isFinite(J)||!Number.isFinite(Q)||!T||(N?N.setLatLng([J,Q]):N=Nw.marker([J,Q]).addTo(T),T.flyTo([J,Q],14,{duration:.5}),h.value=V,h.dataset.lat=String(J),h.dataset.lon=String(Q),e.onSelected?.({name:V,lat:J,lon:Q}),_.innerHTML="",$())},q=()=>{O&&window.clearTimeout(O);const z=S.value.trim();if(!z){_.innerHTML="";return}O=window.setTimeout(async()=>{try{const V="https://nominatim.openstreetmap.org/search?format=jsonv2&limit=12&accept-language=ko&addressdetails=1&dedupe=1&email=unique950318@gmail.com&q="+encodeURIComponent(z),J=await fetch(V,{headers:{Accept:"application/json"}});if(!J.ok)throw new Error(`HTTP ${J.status}`);const Q=await J.json();if(!Array.isArray(Q)||Q.length===0){_.innerHTML='<li style="padding:8px"> </li>';return}const Y=Q.slice(0,12).map((Z,re)=>{const ue=Z.display_name.split(",").slice(0,3).map(W=>W.trim()).join("  "),se="padding:8px;cursor:pointer;outline:none;",B=re===0?"background-color:#1f2937;border-radius:4px;":"";return`<li
                    role="option"
                    data-name="${m0(ue)}"
                    data-lat="${m0(Z.lat)}"
                    data-lon="${m0(Z.lon)}"
                    data-active="${re===0?"1":"0"}"
                    style="${se}${B}"
                  >${m0(ue)}</li>`}).join("");_.innerHTML=Y}catch(V){console.error(V),_.innerHTML='<li style="padding:8px;color:#b91c1c"> </li>'}},250)},K=z=>{const V=z.target;V.tagName==="LI"&&H(V)},U=z=>{if(z.key==="Enter"){const V=_.querySelector('li[data-active="1"]')??_.querySelector("li");V&&H(V)}};return p.addEventListener("click",D),x.addEventListener("click",$),k&&k.addEventListener("click",$),S.addEventListener("input",q),S.addEventListener("keydown",U),_.addEventListener("click",K),()=>{p.removeEventListener("click",D),x.removeEventListener("click",$),k&&k.removeEventListener("click",$),S.removeEventListener("input",q),S.removeEventListener("keydown",U),_.removeEventListener("click",K),g.removeEventListener("keydown",C,!0),g.removeEventListener("keyup",C,!0),O&&(window.clearTimeout(O),O=null),T&&(T.remove(),T=null)}}function od(){return document.getElementById("suggestions")}function py(e){const t=Array.from(e.querySelectorAll('li, [role="option"]'));return t.forEach((n,r)=>{n.getAttribute("role")||n.setAttribute("role","option"),n.setAttribute("aria-selected",n===document.activeElement?"true":"false"),n.tabIndex=-1,n.id||(n.id=`suggestion-item-${r}`)}),t}function Cw(e,t){const n=py(e);if(n.length===0)return;const r=n.length;let i=t;i<0&&(i=r-1),i>=r&&(i=0),n.forEach(o=>{o.tabIndex=-1,o.setAttribute("aria-selected","false")});const a=n[i];a.tabIndex=0,a.setAttribute("aria-selected","true"),a.focus()}const tV='button, [href], input:not([type="hidden"]), select, textarea, [tabindex]:not([tabindex="-1"])';function nV({open:e,setOpen:t,setBtnText:n,setLocalValue:r,nameRef:i,latRef:a,lonRef:o,triggerBtnRef:l,onSelect:u}){w.useEffect(()=>{if(!e)return;const f=eV({ids:{buttonInputId:"inputBirthPlace",buttonId:"inputBirthPlaceBtn",modalId:"mapModal",closeMapId:"closeMap",mapCloseBtnId:"mapCloseBtn",searchBoxId:"searchBox",suggestionsId:"suggestions",mapId:"map"},onSelected:O=>{n(""),r(O.name),i.current&&(i.current.value=O.name),a.current&&(a.current.value=String(O.lat)),o.current&&(o.current.value=String(O.lon)),u?.(O),t(!1)}}),h=document.getElementById("inputBirthPlaceBtn");h&&h.dispatchEvent(new MouseEvent("click",{bubbles:!0}));const p=document.getElementById("mapModal");if(!p)return;const g=document.getElementById("searchBox"),x=od();setTimeout(()=>g?.focus(),0);const S=O=>{if(O.key==="Escape"){O.preventDefault(),t(!1);return}if(O.key!=="Tab")return;const P=od();if(P&&P.contains(document.activeElement))return;const C=Array.from(p.querySelectorAll(tV)).filter(q=>!q.hasAttribute("disabled")&&q.tabIndex!==-1);if(C.length===0)return;const D=C[0],$=C[C.length-1],H=document.activeElement;O.shiftKey?(H===D||!p.contains(H))&&(O.preventDefault(),$.focus()):(H===$||!p.contains(H))&&(O.preventDefault(),D.focus())};p.addEventListener("keydown",S);const _=O=>{if(O.key!=="ArrowDown")return;const P=od();!P||py(P).length===0||O.preventDefault()};g?.addEventListener("keydown",_);const k=O=>{if(O.target.value.trim()===""){const C=od();C&&(C.innerHTML="")}};g?.addEventListener("input",k);const T=O=>{const P=od();if(!P)return;const C=py(P);if(C.length===0)return;const D=document.activeElement,$=D?C.indexOf(D):-1;if($===-1)return;const H=q=>{O.preventDefault(),Cw(P,$+q)};switch(O.key){case"Tab":O.preventDefault(),H(O.shiftKey?-1:1);break;case"ArrowDown":O.preventDefault(),H(1);break;case"ArrowUp":O.preventDefault(),H(-1);break;case"Home":O.preventDefault(),Cw(P,0);break;case"End":O.preventDefault(),Cw(P,C.length-1);break;case"Enter":case" ":O.preventDefault(),D.click();break;case"Backspace":O.preventDefault(),P.innerHTML="",g?.focus();break}O.stopPropagation()};let N=null;return x&&(x.addEventListener("keydown",T),N=new MutationObserver(()=>{const O=od();!O||py(O).length}),N.observe(x,{childList:!0,subtree:!1})),()=>{p.removeEventListener("keydown",S),g?.removeEventListener("keydown",_),g?.removeEventListener("input",k),x&&x.removeEventListener("keydown",T),N?.disconnect(),f?.()}},[e,u,n,r,t,i,a,o]),w.useEffect(()=>{e||setTimeout(()=>l.current?.focus(),0)},[e,l])}function GB({onSelect:e,placeholderText:t=" ",buttonStyle:n,value:r}){const i=ZW({placeholderText:t,value:r});return nV({...i,onSelect:e}),b.jsxs("li",{className:"flex items-center gap-2",children:[b.jsx("input",{className:`w-[60%] desk:w-[70%] mr-2 border rounded-lg p-2
                   bg-white dark:bg-neutral-900
                   border-neutral-300 dark:border-neutral-700
                   text-neutral-900 dark:text-neutral-100
                   placeholder-neutral-400 dark:placeholder-neutral-500`,type:"text",id:"inputBirthPlace",readOnly:!0,"aria-readonly":"true",value:i.localValue&&i.localValue.trim()!==""?i.localValue:t}),b.jsx("button",{ref:i.triggerBtnRef,type:"button",id:"inputBirthPlaceBtn",className:"btn_style text-sm desk:text-base w-[calc(40%_-_8px)] desk:w-[calc(30%_-_8px)] p-0",style:n,onClick:()=>i.setOpen(!0),"aria-haspopup":"dialog","aria-expanded":i.open,"aria-controls":"mapModal",children:i.btnText}),b.jsx("input",{ref:i.nameRef,type:"hidden",name:"birthPlace_name",defaultValue:""}),b.jsx("input",{ref:i.latRef,type:"hidden",name:"birthPlace_lat",defaultValue:""}),b.jsx("input",{ref:i.lonRef,type:"hidden",name:"birthPlace_lon",defaultValue:""}),i.open&&b.jsx("div",{id:"mapModal",role:"dialog","aria-modal":"true","aria-labelledby":"mapModalTitle",className:"fixed inset-0 z-[999] flex items-center justify-center bg-black/40 dark:bg-black/60 p-4",children:b.jsxs("div",{className:`w-[96vw] desk:w-[920px] rounded-2xl shadow-2xl overflow-hidden flex flex-col
                          bg-white dark:bg-neutral-950
                          text-neutral-900 dark:text-neutral-100
                          border border-neutral-200 dark:border-neutral-800`,children:[b.jsxs("div",{className:"flex items-center justify-between px-4 py-3 border-b border-neutral-200 dark:border-neutral-800",children:[b.jsx("div",{id:"mapModalTitle",className:"font-bold",children:" "}),b.jsx("button",{id:"mapCloseBtn","aria-label":"",className:"text-xl hover:opacity-70 cursor-pointer",onClick:()=>i.setOpen(!1),children:""})]}),b.jsxs("div",{className:"relative grid gap-2 px-3 py-3 border-t border-neutral-200 dark:border-neutral-800",children:[b.jsx("label",{htmlFor:"searchBox",className:"text-xs text-neutral-500 dark:text-neutral-400",children:"/ "}),b.jsxs("div",{className:"relative",children:[b.jsx("input",{id:"searchBox",placeholder:":  / seoul / / tokyo",className:`h-10 w-full rounded-lg border px-3 outline-none
                             bg-white dark:bg-neutral-900
                             border-neutral-300 dark:border-neutral-700
                             placeholder-neutral-400 dark:placeholder-neutral-500
                             text-neutral-900 dark:text-neutral-100
                             focus:border-neutral-400 dark:focus:border-neutral-600`,autoComplete:"off"}),b.jsx("ul",{id:"suggestions",role:"listbox","aria-label":" ",className:`absolute left-0 right-0 mt-1 max-h-60 overflow-y-auto rounded-lg border shadow-xl z-[1005]
                             bg-white dark:bg-neutral-900
                             border-neutral-200 dark:border-neutral-700
                             text-neutral-900 dark:text-neutral-100
                             divide-y divide-neutral-200 dark:divide-neutral-800`})]})]}),b.jsx("div",{className:"relative h-[250px] desk:h-[360px] border-y border-neutral-200 dark:border-neutral-800",children:b.jsx("div",{id:"map",className:"h-full w-full"})}),b.jsxs("div",{className:"gap-2 p-3",children:[b.jsxs("div",{id:"footerHint",className:"pr-2 text-xs text-neutral-600 dark:text-neutral-300 flex-1",children:[b.jsxs("p",{className:"flex mb-1",children:[b.jsx("span",{className:"mr-1",children:"*"}),b.jsx("span",{children:"   ."})]}),b.jsxs("p",{className:"flex",children:[b.jsx("span",{className:"mr-1",children:"*"}),b.jsx("span",{children:"       ."})]})]}),b.jsx("button",{id:"closeMap",style:{display:"none"},"aria-hidden":"true",tabIndex:-1})]})]})})]})}function ar(e){return`Minified Redux error #${e}; visit https://redux.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var rV=typeof Symbol=="function"&&Symbol.observable||"@@observable",VC=rV,Mw=()=>Math.random().toString(36).substring(7).split("").join("."),iV={INIT:`@@redux/INIT${Mw()}`,REPLACE:`@@redux/REPLACE${Mw()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${Mw()}`},$y=iV;function p2(e){if(typeof e!="object"||e===null)return!1;let t=e;for(;Object.getPrototypeOf(t)!==null;)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t||Object.getPrototypeOf(e)===null}function g2(e,t,n){if(typeof e!="function")throw new Error(ar(2));if(typeof t=="function"&&typeof n=="function"||typeof n=="function"&&typeof arguments[3]=="function")throw new Error(ar(0));if(typeof t=="function"&&typeof n>"u"&&(n=t,t=void 0),typeof n<"u"){if(typeof n!="function")throw new Error(ar(1));return n(g2)(e,t)}let r=e,i=t,a=new Map,o=a,l=0,u=!1;function f(){o===a&&(o=new Map,a.forEach((k,T)=>{o.set(T,k)}))}function h(){if(u)throw new Error(ar(3));return i}function p(k){if(typeof k!="function")throw new Error(ar(4));if(u)throw new Error(ar(5));let T=!0;f();const N=l++;return o.set(N,k),function(){if(T){if(u)throw new Error(ar(6));T=!1,f(),o.delete(N),a=null}}}function g(k){if(!p2(k))throw new Error(ar(7));if(typeof k.type>"u")throw new Error(ar(8));if(typeof k.type!="string")throw new Error(ar(17));if(u)throw new Error(ar(9));try{u=!0,i=r(i,k)}finally{u=!1}return(a=o).forEach(N=>{N()}),k}function x(k){if(typeof k!="function")throw new Error(ar(10));r=k,g({type:$y.REPLACE})}function S(){const k=p;return{subscribe(T){if(typeof T!="object"||T===null)throw new Error(ar(11));function N(){const P=T;P.next&&P.next(h())}return N(),{unsubscribe:k(N)}},[VC](){return this}}}return g({type:$y.INIT}),{dispatch:g,subscribe:p,getState:h,replaceReducer:x,[VC]:S}}function aV(e){Object.keys(e).forEach(t=>{const n=e[t];if(typeof n(void 0,{type:$y.INIT})>"u")throw new Error(ar(12));if(typeof n(void 0,{type:$y.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(ar(13))})}function qB(e){const t=Object.keys(e),n={};for(let a=0;a<t.length;a++){const o=t[a];typeof e[o]=="function"&&(n[o]=e[o])}const r=Object.keys(n);let i;try{aV(n)}catch(a){i=a}return function(o={},l){if(i)throw i;let u=!1;const f={};for(let h=0;h<r.length;h++){const p=r[h],g=n[p],x=o[p],S=g(x,l);if(typeof S>"u")throw l&&l.type,new Error(ar(14));f[p]=S,u=u||S!==x}return u=u||r.length!==Object.keys(o).length,u?f:o}}function ZC(e,t){return function(...n){return t(e.apply(this,n))}}function XC(e,t){if(typeof e=="function")return ZC(e,t);if(typeof e!="object"||e===null)throw new Error(ar(16));const n={};for(const r in e){const i=e[r];typeof i=="function"&&(n[r]=ZC(i,t))}return n}function xm(...e){return e.length===0?t=>t:e.length===1?e[0]:e.reduce((t,n)=>(...r)=>t(n(...r)))}function YB(...e){return t=>(n,r)=>{const i=t(n,r);let a=()=>{throw new Error(ar(15))};const o={getState:i.getState,dispatch:(u,...f)=>a(u,...f)},l=e.map(u=>u(o));return a=xm(...l)(i.dispatch),{...i,dispatch:a}}}function KB(e){return p2(e)&&"type"in e&&typeof e.type=="string"}var Pw={exports:{}},Dw={};/**
 * @license React
 * use-sync-external-store-with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var JC;function oV(){if(JC)return Dw;JC=1;var e=nf();function t(u,f){return u===f&&(u!==0||1/u===1/f)||u!==u&&f!==f}var n=typeof Object.is=="function"?Object.is:t,r=e.useSyncExternalStore,i=e.useRef,a=e.useEffect,o=e.useMemo,l=e.useDebugValue;return Dw.useSyncExternalStoreWithSelector=function(u,f,h,p,g){var x=i(null);if(x.current===null){var S={hasValue:!1,value:null};x.current=S}else S=x.current;x=o(function(){function k(C){if(!T){if(T=!0,N=C,C=p(C),g!==void 0&&S.hasValue){var D=S.value;if(g(D,C))return O=D}return O=C}if(D=O,n(N,C))return D;var $=p(C);return g!==void 0&&g(D,$)?(N=C,D):(N=C,O=$)}var T=!1,N,O,P=h===void 0?null:h;return[function(){return k(f())},P===null?void 0:function(){return k(P())}]},[f,h,p,g]);var _=r(u,x[0],x[1]);return a(function(){S.hasValue=!0,S.value=_},[_]),l(_),_},Dw}var QC;function sV(){return QC||(QC=1,Pw.exports=oV()),Pw.exports}sV();var lV=w.version.startsWith("19"),cV=Symbol.for(lV?"react.transitional.element":"react.element"),uV=Symbol.for("react.portal"),dV=Symbol.for("react.fragment"),fV=Symbol.for("react.strict_mode"),hV=Symbol.for("react.profiler"),mV=Symbol.for("react.consumer"),pV=Symbol.for("react.context"),WB=Symbol.for("react.forward_ref"),gV=Symbol.for("react.suspense"),yV=Symbol.for("react.suspense_list"),y2=Symbol.for("react.memo"),bV=Symbol.for("react.lazy"),vV=WB,xV=y2;function _V(e){if(typeof e=="object"&&e!==null){const{$$typeof:t}=e;switch(t){case cV:switch(e=e.type,e){case dV:case hV:case fV:case gV:case yV:return e;default:switch(e=e&&e.$$typeof,e){case pV:case WB:case bV:case y2:return e;case mV:return e;default:return t}}case uV:return t}}}function wV(e){return _V(e)===y2}function SV(e,t,n,r,{areStatesEqual:i,areOwnPropsEqual:a,areStatePropsEqual:o}){let l=!1,u,f,h,p,g;function x(N,O){return u=N,f=O,h=e(u,f),p=t(r,f),g=n(h,p,f),l=!0,g}function S(){return h=e(u,f),t.dependsOnOwnProps&&(p=t(r,f)),g=n(h,p,f),g}function _(){return e.dependsOnOwnProps&&(h=e(u,f)),t.dependsOnOwnProps&&(p=t(r,f)),g=n(h,p,f),g}function k(){const N=e(u,f),O=!o(N,h);return h=N,O&&(g=n(h,p,f)),g}function T(N,O){const P=!a(O,f),C=!i(N,u,O,f);return u=N,f=O,P&&C?S():P?_():C?k():g}return function(O,P){return l?T(O,P):x(O,P)}}function kV(e,{initMapStateToProps:t,initMapDispatchToProps:n,initMergeProps:r,...i}){const a=t(e,i),o=n(e,i),l=r(e,i);return SV(a,o,l,e,i)}function EV(e,t){const n={};for(const r in e){const i=e[r];typeof i=="function"&&(n[r]=(...a)=>t(i(...a)))}return n}function vk(e){return function(n){const r=e(n);function i(){return r}return i.dependsOnOwnProps=!1,i}}function eM(e){return e.dependsOnOwnProps?!!e.dependsOnOwnProps:e.length!==1}function VB(e,t){return function(r,{displayName:i}){const a=function(l,u){return a.dependsOnOwnProps?a.mapToProps(l,u):a.mapToProps(l,void 0)};return a.dependsOnOwnProps=!0,a.mapToProps=function(l,u){a.mapToProps=e,a.dependsOnOwnProps=eM(e);let f=a(l,u);return typeof f=="function"&&(a.mapToProps=f,a.dependsOnOwnProps=eM(f),f=a(l,u)),f},a}}function b2(e,t){return(n,r)=>{throw new Error(`Invalid value of type ${typeof e} for ${t} argument when connecting component ${r.wrappedComponentName}.`)}}function AV(e){return e&&typeof e=="object"?vk(t=>EV(e,t)):e?typeof e=="function"?VB(e):b2(e,"mapDispatchToProps"):vk(t=>({dispatch:t}))}function TV(e){return e?typeof e=="function"?VB(e):b2(e,"mapStateToProps"):vk(()=>({}))}function OV(e,t,n){return{...n,...e,...t}}function jV(e){return function(n,{displayName:r,areMergedPropsEqual:i}){let a=!1,o;return function(u,f,h){const p=e(u,f,h);return a?i(p,o)||(o=p):(a=!0,o=p),o}}}function NV(e){return e?typeof e=="function"?jV(e):b2(e,"mergeProps"):()=>OV}function CV(e){e()}function MV(){let e=null,t=null;return{clear(){e=null,t=null},notify(){CV(()=>{let n=e;for(;n;)n.callback(),n=n.next})},get(){const n=[];let r=e;for(;r;)n.push(r),r=r.next;return n},subscribe(n){let r=!0;const i=t={callback:n,next:null,prev:t};return i.prev?i.prev.next=i:e=i,function(){!r||e===null||(r=!1,i.next?i.next.prev=i.prev:t=i.prev,i.prev?i.prev.next=i.next:e=i.next)}}}}var tM={notify(){},get:()=>[]};function ZB(e,t){let n,r=tM,i=0,a=!1;function o(_){h();const k=r.subscribe(_);let T=!1;return()=>{T||(T=!0,k(),p())}}function l(){r.notify()}function u(){S.onStateChange&&S.onStateChange()}function f(){return a}function h(){i++,n||(n=t?t.addNestedSub(u):e.subscribe(u),r=MV())}function p(){i--,n&&i===0&&(n(),n=void 0,r.clear(),r=tM)}function g(){a||(a=!0,h())}function x(){a&&(a=!1,p())}const S={addNestedSub:o,notifyNestedSubs:l,handleChangeWrapper:u,isSubscribed:f,trySubscribe:g,tryUnsubscribe:x,getListeners:()=>r};return S}var PV=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",DV=PV(),RV=()=>typeof navigator<"u"&&navigator.product==="ReactNative",LV=RV(),IV=()=>DV||LV?w.useLayoutEffect:w.useEffect,By=IV();function nM(e,t){return e===t?e!==0||t!==0||1/e===1/t:e!==e&&t!==t}function gy(e,t){if(nM(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;const n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(!Object.prototype.hasOwnProperty.call(t,n[i])||!nM(e[n[i]],t[n[i]]))return!1;return!0}var $V={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},BV={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},zV={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},XB={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},UV={[vV]:zV,[xV]:XB};function rM(e){return wV(e)?XB:UV[e.$$typeof]||$V}var FV=Object.defineProperty,HV=Object.getOwnPropertyNames,iM=Object.getOwnPropertySymbols,GV=Object.getOwnPropertyDescriptor,qV=Object.getPrototypeOf,aM=Object.prototype;function xk(e,t){if(typeof t!="string"){if(aM){const a=qV(t);a&&a!==aM&&xk(e,a)}let n=HV(t);iM&&(n=n.concat(iM(t)));const r=rM(e),i=rM(t);for(let a=0;a<n.length;++a){const o=n[a];if(!BV[o]&&!(i&&i[o])&&!(r&&r[o])){const l=GV(t,o);try{FV(e,o,l)}catch{}}}}return e}var YV=Symbol.for("react-redux-context"),KV=typeof globalThis<"u"?globalThis:{};function WV(){if(!w.createContext)return{};const e=KV[YV]??=new Map;let t=e.get(w.createContext);return t||(t=w.createContext(null),e.set(w.createContext,t)),t}var JB=WV(),VV=[null,null];function ZV(e,t,n){By(()=>e(...t),n)}function XV(e,t,n,r,i,a){e.current=r,n.current=!1,i.current&&(i.current=null,a())}function JV(e,t,n,r,i,a,o,l,u,f,h){if(!e)return()=>{};let p=!1,g=null;const x=()=>{if(p||!l.current)return;const _=t.getState();let k,T;try{k=r(_,i.current)}catch(N){T=N,g=N}T||(g=null),k===a.current?o.current||f():(a.current=k,u.current=k,o.current=!0,h())};return n.onStateChange=x,n.trySubscribe(),x(),()=>{if(p=!0,n.tryUnsubscribe(),n.onStateChange=null,g)throw g}}function QV(e,t){return e===t}function eZ(e,t,n,{pure:r,areStatesEqual:i=QV,areOwnPropsEqual:a=gy,areStatePropsEqual:o=gy,areMergedPropsEqual:l=gy,forwardRef:u=!1,context:f=JB}={}){const h=f,p=TV(e),g=AV(t),x=NV(n),S=!!e;return k=>{const T=k.displayName||k.name||"Component",N=`Connect(${T})`,O={shouldHandleStateChanges:S,displayName:N,wrappedComponentName:T,WrappedComponent:k,initMapStateToProps:p,initMapDispatchToProps:g,initMergeProps:x,areStatesEqual:i,areStatePropsEqual:o,areOwnPropsEqual:a,areMergedPropsEqual:l};function P($){const[H,q,K]=w.useMemo(()=>{const{reactReduxForwardedRef:ve,...Ze}=$;return[$.context,ve,Ze]},[$]),U=w.useMemo(()=>{let ve=h;return H?.Consumer,ve},[H,h]),z=w.useContext(U),V=!!$.store&&!!$.store.getState&&!!$.store.dispatch,J=!!z&&!!z.store,Q=V?$.store:z.store,Y=J?z.getServerState:Q.getState,Z=w.useMemo(()=>kV(Q.dispatch,O),[Q]),[re,ue]=w.useMemo(()=>{if(!S)return VV;const ve=ZB(Q,V?void 0:z.subscription),Ze=ve.notifyNestedSubs.bind(ve);return[ve,Ze]},[Q,V,z]),se=w.useMemo(()=>V?z:{...z,subscription:re},[V,z,re]),B=w.useRef(void 0),W=w.useRef(K),ae=w.useRef(void 0),X=w.useRef(!1),oe=w.useRef(!1),me=w.useRef(void 0);By(()=>(oe.current=!0,()=>{oe.current=!1}),[]);const pe=w.useMemo(()=>()=>ae.current&&K===W.current?ae.current:Z(Q.getState(),K),[Q,K]),be=w.useMemo(()=>Ze=>re?JV(S,Q,re,Z,W,B,X,oe,ae,ue,Ze):()=>{},[re]);ZV(XV,[W,B,X,K,ae,ue]);let ne;try{ne=w.useSyncExternalStore(be,pe,Y?()=>Z(Y(),K):pe)}catch(ve){throw me.current&&(ve.message+=`
The error may be correlated with this previous error:
${me.current.stack}

`),ve}By(()=>{me.current=void 0,ae.current=void 0,B.current=ne});const Oe=w.useMemo(()=>w.createElement(k,{...ne,ref:q}),[q,k,ne]);return w.useMemo(()=>S?w.createElement(U.Provider,{value:se},Oe):Oe,[U,Oe,se])}const D=w.memo(P);if(D.WrappedComponent=k,D.displayName=P.displayName=N,u){const H=w.forwardRef(function(K,U){return w.createElement(D,{...K,reactReduxForwardedRef:U})});return H.displayName=N,H.WrappedComponent=k,xk(H,k)}return xk(D,k)}}var QB=eZ;function tZ(e){const{children:t,context:n,serverState:r,store:i}=e,a=w.useMemo(()=>{const u=ZB(i);return{store:i,subscription:u,getServerState:r?()=>r:void 0}},[i,r]),o=w.useMemo(()=>i.getState(),[i]);By(()=>{const{subscription:u}=a;return u.onStateChange=u.notifyNestedSubs,u.trySubscribe(),o!==i.getState()&&u.notifyNestedSubs(),()=>{u.tryUnsubscribe(),u.onStateChange=void 0}},[a,o]);const l=n||JB;return w.createElement(l.Provider,{value:a},t)}var e5=tZ,nZ="Invariant failed";function rZ(e,t){throw new Error(nZ)}var za=function(t){var n=t.top,r=t.right,i=t.bottom,a=t.left,o=r-a,l=i-n,u={top:n,right:r,bottom:i,left:a,width:o,height:l,x:a,y:n,center:{x:(r+a)/2,y:(i+n)/2}};return u},v2=function(t,n){return{top:t.top-n.top,left:t.left-n.left,bottom:t.bottom+n.bottom,right:t.right+n.right}},oM=function(t,n){return{top:t.top+n.top,left:t.left+n.left,bottom:t.bottom-n.bottom,right:t.right-n.right}},iZ=function(t,n){return{top:t.top+n.y,left:t.left+n.x,bottom:t.bottom+n.y,right:t.right+n.x}},Rw={top:0,right:0,bottom:0,left:0},x2=function(t){var n=t.borderBox,r=t.margin,i=r===void 0?Rw:r,a=t.border,o=a===void 0?Rw:a,l=t.padding,u=l===void 0?Rw:l,f=za(v2(n,i)),h=za(oM(n,o)),p=za(oM(h,u));return{marginBox:f,borderBox:za(n),paddingBox:h,contentBox:p,margin:i,border:o,padding:u}},na=function(t){var n=t.slice(0,-2),r=t.slice(-2);if(r!=="px")return 0;var i=Number(n);return isNaN(i)&&rZ(),i},aZ=function(){return{x:window.pageXOffset,y:window.pageYOffset}},zy=function(t,n){var r=t.borderBox,i=t.border,a=t.margin,o=t.padding,l=iZ(r,n);return x2({borderBox:l,border:i,margin:a,padding:o})},Uy=function(t,n){return n===void 0&&(n=aZ()),zy(t,n)},t5=function(t,n){var r={top:na(n.marginTop),right:na(n.marginRight),bottom:na(n.marginBottom),left:na(n.marginLeft)},i={top:na(n.paddingTop),right:na(n.paddingRight),bottom:na(n.paddingBottom),left:na(n.paddingLeft)},a={top:na(n.borderTopWidth),right:na(n.borderRightWidth),bottom:na(n.borderBottomWidth),left:na(n.borderLeftWidth)};return x2({borderBox:t,margin:r,padding:i,border:a})},n5=function(t){var n=t.getBoundingClientRect(),r=window.getComputedStyle(t);return t5(n,r)},_m=function(t){var n=[],r=null,i=function(){for(var o=arguments.length,l=new Array(o),u=0;u<o;u++)l[u]=arguments[u];n=l,!r&&(r=requestAnimationFrame(function(){r=null,t.apply(void 0,n)}))};return i.cancel=function(){r&&(cancelAnimationFrame(r),r=null)},i};function Fy(){return Fy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Fy.apply(null,arguments)}function r5(e,t){}r5.bind(null,"warn");r5.bind(null,"error");function El(){}function oZ(e,t){return{...e,...t}}function oa(e,t,n){const r=t.map(i=>{const a=oZ(n,i.options);return e.addEventListener(i.eventName,i.fn,a),function(){e.removeEventListener(i.eventName,i.fn,a)}});return function(){r.forEach(a=>{a()})}}const sZ="Invariant failed";class Hy extends Error{}Hy.prototype.toString=function(){return this.message};function De(e,t){throw new Hy(sZ)}class lZ extends Wt.Component{constructor(...t){super(...t),this.callbacks=null,this.unbind=El,this.onWindowError=n=>{const r=this.getCallbacks();r.isDragging()&&r.tryAbort(),n.error instanceof Hy&&n.preventDefault()},this.getCallbacks=()=>{if(!this.callbacks)throw new Error("Unable to find AppCallbacks in <ErrorBoundary/>");return this.callbacks},this.setCallbacks=n=>{this.callbacks=n}}componentDidMount(){this.unbind=oa(window,[{eventName:"error",fn:this.onWindowError}])}componentDidCatch(t){if(t instanceof Hy){this.setState({});return}throw t}componentWillUnmount(){this.unbind()}render(){return this.props.children(this.setCallbacks)}}const cZ=`
  Press space bar to start a drag.
  When dragging you can use the arrow keys to move the item around and escape to cancel.
  Some screen readers may require you to be in focus mode or to use your pass through key
`,Gy=e=>e+1,uZ=e=>`
  You have lifted an item in position ${Gy(e.source.index)}
`,i5=(e,t)=>{const n=e.droppableId===t.droppableId,r=Gy(e.index),i=Gy(t.index);return n?`
      You have moved the item from position ${r}
      to position ${i}
    `:`
    You have moved the item from position ${r}
    in list ${e.droppableId}
    to list ${t.droppableId}
    in position ${i}
  `},a5=(e,t,n)=>t.droppableId===n.droppableId?`
      The item ${e}
      has been combined with ${n.draggableId}`:`
      The item ${e}
      in list ${t.droppableId}
      has been combined with ${n.draggableId}
      in list ${n.droppableId}
    `,dZ=e=>{const t=e.destination;if(t)return i5(e.source,t);const n=e.combine;return n?a5(e.draggableId,e.source,n):"You are over an area that cannot be dropped on"},sM=e=>`
  The item has returned to its starting position
  of ${Gy(e.index)}
`,fZ=e=>{if(e.reason==="CANCEL")return`
      Movement cancelled.
      ${sM(e.source)}
    `;const t=e.destination,n=e.combine;return t?`
      You have dropped the item.
      ${i5(e.source,t)}
    `:n?`
      You have dropped the item.
      ${a5(e.draggableId,e.source,n)}
    `:`
    The item has been dropped while not over a drop area.
    ${sM(e.source)}
  `},yy={dragHandleUsageInstructions:cZ,onDragStart:uZ,onDragUpdate:dZ,onDragEnd:fZ};function hZ(e,t){return!!(e===t||Number.isNaN(e)&&Number.isNaN(t))}function o5(e,t){if(e.length!==t.length)return!1;for(let n=0;n<e.length;n++)if(!hZ(e[n],t[n]))return!1;return!0}function vt(e,t){const n=w.useState(()=>({inputs:t,result:e()}))[0],r=w.useRef(!0),i=w.useRef(n),o=r.current||!!(t&&i.current.inputs&&o5(t,i.current.inputs))?i.current:{inputs:t,result:e()};return w.useEffect(()=>{r.current=!1,i.current=o},[o]),o.result}function Ke(e,t){return vt(()=>e,t)}const lr={x:0,y:0},br=(e,t)=>({x:e.x+t.x,y:e.y+t.y}),Ri=(e,t)=>({x:e.x-t.x,y:e.y-t.y}),Al=(e,t)=>e.x===t.x&&e.y===t.y,cf=e=>({x:e.x!==0?-e.x:0,y:e.y!==0?-e.y:0}),nu=(e,t,n=0)=>e==="x"?{x:t,y:n}:{x:n,y:t},wm=(e,t)=>Math.sqrt((t.x-e.x)**2+(t.y-e.y)**2),lM=(e,t)=>Math.min(...t.map(n=>wm(e,n))),s5=e=>t=>({x:e(t.x),y:e(t.y)});var mZ=(e,t)=>{const n=za({top:Math.max(t.top,e.top),right:Math.min(t.right,e.right),bottom:Math.min(t.bottom,e.bottom),left:Math.max(t.left,e.left)});return n.width<=0||n.height<=0?null:n};const ep=(e,t)=>({top:e.top+t.y,left:e.left+t.x,bottom:e.bottom+t.y,right:e.right+t.x}),cM=e=>[{x:e.left,y:e.top},{x:e.right,y:e.top},{x:e.left,y:e.bottom},{x:e.right,y:e.bottom}],pZ={top:0,right:0,bottom:0,left:0},gZ=(e,t)=>t?ep(e,t.scroll.diff.displacement):e,yZ=(e,t,n)=>n&&n.increasedBy?{...e,[t.end]:e[t.end]+n.increasedBy[t.line]}:e,bZ=(e,t)=>t&&t.shouldClipSubject?mZ(t.pageMarginBox,e):za(e);var Fd=({page:e,withPlaceholder:t,axis:n,frame:r})=>{const i=gZ(e.marginBox,r),a=yZ(i,n,t),o=bZ(a,r);return{page:e,withPlaceholder:t,active:o}},_2=(e,t)=>{e.frame||De();const n=e.frame,r=Ri(t,n.scroll.initial),i=cf(r),a={...n,scroll:{initial:n.scroll.initial,current:t,diff:{value:r,displacement:i},max:n.scroll.max}},o=Fd({page:e.subject.page,withPlaceholder:e.subject.withPlaceholder,axis:e.axis,frame:a});return{...e,frame:a,subject:o}};function sr(e,t=o5){let n=null;function r(...i){if(n&&n.lastThis===this&&t(i,n.lastArgs))return n.lastResult;const a=e.apply(this,i);return n={lastResult:a,lastArgs:i,lastThis:this},a}return r.clear=function(){n=null},r}const l5=sr(e=>e.reduce((t,n)=>(t[n.descriptor.id]=n,t),{})),c5=sr(e=>e.reduce((t,n)=>(t[n.descriptor.id]=n,t),{})),hv=sr(e=>Object.values(e)),vZ=sr(e=>Object.values(e));var uf=sr((e,t)=>vZ(t).filter(r=>e===r.descriptor.droppableId).sort((r,i)=>r.descriptor.index-i.descriptor.index));function w2(e){return e.at&&e.at.type==="REORDER"?e.at.destination:null}function mv(e){return e.at&&e.at.type==="COMBINE"?e.at.combine:null}var pv=sr((e,t)=>t.filter(n=>n.descriptor.id!==e.descriptor.id)),xZ=({isMovingForward:e,draggable:t,destination:n,insideDestination:r,previousImpact:i})=>{if(!n.isCombineEnabled||!w2(i))return null;function o(x){const S={type:"COMBINE",combine:{draggableId:x,droppableId:n.descriptor.id}};return{...i,at:S}}const l=i.displaced.all,u=l.length?l[0]:null;if(e)return u?o(u):null;const f=pv(t,r);if(!u){if(!f.length)return null;const x=f[f.length-1];return o(x.descriptor.id)}const h=f.findIndex(x=>x.descriptor.id===u);h===-1&&De();const p=h-1;if(p<0)return null;const g=f[p];return o(g.descriptor.id)},df=(e,t)=>e.descriptor.droppableId===t.descriptor.id;const u5={point:lr,value:0},Sm={invisible:{},visible:{},all:[]},_Z={displaced:Sm,displacedBy:u5,at:null};var da=(e,t)=>n=>e<=n&&n<=t,d5=e=>{const t=da(e.top,e.bottom),n=da(e.left,e.right);return r=>{if(t(r.top)&&t(r.bottom)&&n(r.left)&&n(r.right))return!0;const a=t(r.top)||t(r.bottom),o=n(r.left)||n(r.right);if(a&&o)return!0;const u=r.top<e.top&&r.bottom>e.bottom,f=r.left<e.left&&r.right>e.right;return u&&f?!0:u&&o||f&&a}},wZ=e=>{const t=da(e.top,e.bottom),n=da(e.left,e.right);return r=>t(r.top)&&t(r.bottom)&&n(r.left)&&n(r.right)};const S2={direction:"vertical",line:"y",crossAxisLine:"x",start:"top",end:"bottom",size:"height",crossAxisStart:"left",crossAxisEnd:"right",crossAxisSize:"width"},f5={direction:"horizontal",line:"x",crossAxisLine:"y",start:"left",end:"right",size:"width",crossAxisStart:"top",crossAxisEnd:"bottom",crossAxisSize:"height"};var SZ=e=>t=>{const n=da(t.top,t.bottom),r=da(t.left,t.right);return i=>e===S2?n(i.top)&&n(i.bottom):r(i.left)&&r(i.right)};const kZ=(e,t)=>{const n=t.frame?t.frame.scroll.diff.displacement:lr;return ep(e,n)},EZ=(e,t,n)=>t.subject.active?n(t.subject.active)(e):!1,AZ=(e,t,n)=>n(t)(e),k2=({target:e,destination:t,viewport:n,withDroppableDisplacement:r,isVisibleThroughFrameFn:i})=>{const a=r?kZ(e,t):e;return EZ(a,t,i)&&AZ(a,n,i)},TZ=e=>k2({...e,isVisibleThroughFrameFn:d5}),h5=e=>k2({...e,isVisibleThroughFrameFn:wZ}),OZ=e=>k2({...e,isVisibleThroughFrameFn:SZ(e.destination.axis)}),jZ=(e,t,n)=>{if(typeof n=="boolean")return n;if(!t)return!0;const{invisible:r,visible:i}=t;if(r[e])return!1;const a=i[e];return a?a.shouldAnimate:!0};function NZ(e,t){const n=e.page.marginBox,r={top:t.point.y,right:0,bottom:0,left:t.point.x};return za(v2(n,r))}function km({afterDragging:e,destination:t,displacedBy:n,viewport:r,forceShouldAnimate:i,last:a}){return e.reduce(function(l,u){const f=NZ(u,n),h=u.descriptor.id;if(l.all.push(h),!TZ({target:f,destination:t,viewport:r,withDroppableDisplacement:!0}))return l.invisible[u.descriptor.id]=!0,l;const g=jZ(h,a,i),x={draggableId:h,shouldAnimate:g};return l.visible[h]=x,l},{all:[],visible:{},invisible:{}})}function CZ(e,t){if(!e.length)return 0;const n=e[e.length-1].descriptor.index;return t.inHomeList?n:n+1}function uM({insideDestination:e,inHomeList:t,displacedBy:n,destination:r}){const i=CZ(e,{inHomeList:t});return{displaced:Sm,displacedBy:n,at:{type:"REORDER",destination:{droppableId:r.descriptor.id,index:i}}}}function qy({draggable:e,insideDestination:t,destination:n,viewport:r,displacedBy:i,last:a,index:o,forceShouldAnimate:l}){const u=df(e,n);if(o==null)return uM({insideDestination:t,inHomeList:u,displacedBy:i,destination:n});const f=t.find(S=>S.descriptor.index===o);if(!f)return uM({insideDestination:t,inHomeList:u,displacedBy:i,destination:n});const h=pv(e,t),p=t.indexOf(f),g=h.slice(p);return{displaced:km({afterDragging:g,destination:n,displacedBy:i,last:a,viewport:r.frame,forceShouldAnimate:l}),displacedBy:i,at:{type:"REORDER",destination:{droppableId:n.descriptor.id,index:o}}}}function Ol(e,t){return!!t.effected[e]}var MZ=({isMovingForward:e,destination:t,draggables:n,combine:r,afterCritical:i})=>{if(!t.isCombineEnabled)return null;const a=r.draggableId,l=n[a].descriptor.index;return Ol(a,i)?e?l:l-1:e?l+1:l},PZ=({isMovingForward:e,isInHomeList:t,insideDestination:n,location:r})=>{if(!n.length)return null;const i=r.index,a=e?i+1:i-1,o=n[0].descriptor.index,l=n[n.length-1].descriptor.index,u=t?l:l+1;return a<o||a>u?null:a},DZ=({isMovingForward:e,isInHomeList:t,draggable:n,draggables:r,destination:i,insideDestination:a,previousImpact:o,viewport:l,afterCritical:u})=>{const f=o.at;if(f||De(),f.type==="REORDER"){const p=PZ({isMovingForward:e,isInHomeList:t,location:f.destination,insideDestination:a});return p==null?null:qy({draggable:n,insideDestination:a,destination:i,viewport:l,last:o.displaced,displacedBy:o.displacedBy,index:p})}const h=MZ({isMovingForward:e,destination:i,displaced:o.displaced,draggables:r,combine:f.combine,afterCritical:u});return h==null?null:qy({draggable:n,insideDestination:a,destination:i,viewport:l,last:o.displaced,displacedBy:o.displacedBy,index:h})},RZ=({displaced:e,afterCritical:t,combineWith:n,displacedBy:r})=>{const i=!!(e.visible[n]||e.invisible[n]);return Ol(n,t)?i?lr:cf(r.point):i?r.point:lr},LZ=({afterCritical:e,impact:t,draggables:n})=>{const r=mv(t);r||De();const i=r.draggableId,a=n[i].page.borderBox.center,o=RZ({displaced:t.displaced,afterCritical:e,combineWith:i,displacedBy:t.displacedBy});return br(a,o)};const m5=(e,t)=>t.margin[e.start]+t.borderBox[e.size]/2,IZ=(e,t)=>t.margin[e.end]+t.borderBox[e.size]/2,E2=(e,t,n)=>t[e.crossAxisStart]+n.margin[e.crossAxisStart]+n.borderBox[e.crossAxisSize]/2,dM=({axis:e,moveRelativeTo:t,isMoving:n})=>nu(e.line,t.marginBox[e.end]+m5(e,n),E2(e,t.marginBox,n)),fM=({axis:e,moveRelativeTo:t,isMoving:n})=>nu(e.line,t.marginBox[e.start]-IZ(e,n),E2(e,t.marginBox,n)),$Z=({axis:e,moveInto:t,isMoving:n})=>nu(e.line,t.contentBox[e.start]+m5(e,n),E2(e,t.contentBox,n));var BZ=({impact:e,draggable:t,draggables:n,droppable:r,afterCritical:i})=>{const a=uf(r.descriptor.id,n),o=t.page,l=r.axis;if(!a.length)return $Z({axis:l,moveInto:r.page,isMoving:o});const{displaced:u,displacedBy:f}=e,h=u.all[0];if(h){const g=n[h];if(Ol(h,i))return fM({axis:l,moveRelativeTo:g.page,isMoving:o});const x=zy(g.page,f.point);return fM({axis:l,moveRelativeTo:x,isMoving:o})}const p=a[a.length-1];if(p.descriptor.id===t.descriptor.id)return o.borderBox.center;if(Ol(p.descriptor.id,i)){const g=zy(p.page,cf(i.displacedBy.point));return dM({axis:l,moveRelativeTo:g,isMoving:o})}return dM({axis:l,moveRelativeTo:p.page,isMoving:o})},_k=(e,t)=>{const n=e.frame;return n?br(t,n.scroll.diff.displacement):t};const zZ=({impact:e,draggable:t,droppable:n,draggables:r,afterCritical:i})=>{const a=t.page.borderBox.center,o=e.at;return!n||!o?a:o.type==="REORDER"?BZ({impact:e,draggable:t,draggables:r,droppable:n,afterCritical:i}):LZ({impact:e,draggables:r,afterCritical:i})};var gv=e=>{const t=zZ(e),n=e.droppable;return n?_k(n,t):t},p5=(e,t)=>{const n=Ri(t,e.scroll.initial),r=cf(n);return{frame:za({top:t.y,bottom:t.y+e.frame.height,left:t.x,right:t.x+e.frame.width}),scroll:{initial:e.scroll.initial,max:e.scroll.max,current:t,diff:{value:n,displacement:r}}}};function hM(e,t){return e.map(n=>t[n])}function UZ(e,t){for(let n=0;n<t.length;n++){const r=t[n].visible[e];if(r)return r}return null}var FZ=({impact:e,viewport:t,destination:n,draggables:r,maxScrollChange:i})=>{const a=p5(t,br(t.scroll.current,i)),o=n.frame?_2(n,br(n.frame.scroll.current,i)):n,l=e.displaced,u=km({afterDragging:hM(l.all,r),destination:n,displacedBy:e.displacedBy,viewport:a.frame,last:l,forceShouldAnimate:!1}),f=km({afterDragging:hM(l.all,r),destination:o,displacedBy:e.displacedBy,viewport:t.frame,last:l,forceShouldAnimate:!1}),h={},p={},g=[l,u,f];return l.all.forEach(S=>{const _=UZ(S,g);if(_){p[S]=_;return}h[S]=!0}),{...e,displaced:{all:l.all,invisible:h,visible:p}}},HZ=(e,t)=>br(e.scroll.diff.displacement,t),A2=({pageBorderBoxCenter:e,draggable:t,viewport:n})=>{const r=HZ(n,e),i=Ri(r,t.page.borderBox.center);return br(t.client.borderBox.center,i)},g5=({draggable:e,destination:t,newPageBorderBoxCenter:n,viewport:r,withDroppableDisplacement:i,onlyOnMainAxis:a=!1})=>{const o=Ri(n,e.page.borderBox.center),u={target:ep(e.page.borderBox,o),destination:t,withDroppableDisplacement:i,viewport:r};return a?OZ(u):h5(u)},GZ=({isMovingForward:e,draggable:t,destination:n,draggables:r,previousImpact:i,viewport:a,previousPageBorderBoxCenter:o,previousClientSelection:l,afterCritical:u})=>{if(!n.isEnabled)return null;const f=uf(n.descriptor.id,r),h=df(t,n),p=xZ({isMovingForward:e,draggable:t,destination:n,insideDestination:f,previousImpact:i})||DZ({isMovingForward:e,isInHomeList:h,draggable:t,draggables:r,destination:n,insideDestination:f,previousImpact:i,viewport:a,afterCritical:u});if(!p)return null;const g=gv({impact:p,draggable:t,droppable:n,draggables:r,afterCritical:u});if(g5({draggable:t,destination:n,newPageBorderBoxCenter:g,viewport:a.frame,withDroppableDisplacement:!1,onlyOnMainAxis:!0}))return{clientSelection:A2({pageBorderBoxCenter:g,draggable:t,viewport:a}),impact:p,scrollJumpRequest:null};const S=Ri(g,o),_=FZ({impact:p,viewport:a,destination:n,draggables:r,maxScrollChange:S});return{clientSelection:l,impact:_,scrollJumpRequest:S}};const Rr=e=>{const t=e.subject.active;return t||De(),t};var qZ=({isMovingForward:e,pageBorderBoxCenter:t,source:n,droppables:r,viewport:i})=>{const a=n.subject.active;if(!a)return null;const o=n.axis,l=da(a[o.start],a[o.end]),u=hv(r).filter(h=>h!==n).filter(h=>h.isEnabled).filter(h=>!!h.subject.active).filter(h=>d5(i.frame)(Rr(h))).filter(h=>{const p=Rr(h);return e?a[o.crossAxisEnd]<p[o.crossAxisEnd]:p[o.crossAxisStart]<a[o.crossAxisStart]}).filter(h=>{const p=Rr(h),g=da(p[o.start],p[o.end]);return l(p[o.start])||l(p[o.end])||g(a[o.start])||g(a[o.end])}).sort((h,p)=>{const g=Rr(h)[o.crossAxisStart],x=Rr(p)[o.crossAxisStart];return e?g-x:x-g}).filter((h,p,g)=>Rr(h)[o.crossAxisStart]===Rr(g[0])[o.crossAxisStart]);if(!u.length)return null;if(u.length===1)return u[0];const f=u.filter(h=>da(Rr(h)[o.start],Rr(h)[o.end])(t[o.line]));return f.length===1?f[0]:f.length>1?f.sort((h,p)=>Rr(h)[o.start]-Rr(p)[o.start])[0]:u.sort((h,p)=>{const g=lM(t,cM(Rr(h))),x=lM(t,cM(Rr(p)));return g!==x?g-x:Rr(h)[o.start]-Rr(p)[o.start]})[0]};const mM=(e,t)=>{const n=e.page.borderBox.center;return Ol(e.descriptor.id,t)?Ri(n,t.displacedBy.point):n},YZ=(e,t)=>{const n=e.page.borderBox;return Ol(e.descriptor.id,t)?ep(n,cf(t.displacedBy.point)):n};var KZ=({pageBorderBoxCenter:e,viewport:t,destination:n,insideDestination:r,afterCritical:i})=>r.filter(o=>h5({target:YZ(o,i),destination:n,viewport:t.frame,withDroppableDisplacement:!0})).sort((o,l)=>{const u=wm(e,_k(n,mM(o,i))),f=wm(e,_k(n,mM(l,i)));return u<f?-1:f<u?1:o.descriptor.index-l.descriptor.index})[0]||null,tp=sr(function(t,n){const r=n[t.line];return{value:r,point:nu(t.line,r)}});const WZ=(e,t,n)=>{const r=e.axis;if(e.descriptor.mode==="virtual")return nu(r.line,t[r.line]);const i=e.subject.page.contentBox[r.size],u=uf(e.descriptor.id,n).reduce((f,h)=>f+h.client.marginBox[r.size],0)+t[r.line]-i;return u<=0?null:nu(r.line,u)},y5=(e,t)=>({...e,scroll:{...e.scroll,max:t}}),b5=(e,t,n)=>{const r=e.frame;df(t,e)&&De(),e.subject.withPlaceholder&&De();const i=tp(e.axis,t.displaceBy).point,a=WZ(e,i,n),o={placeholderSize:i,increasedBy:a,oldFrameMaxScroll:e.frame?e.frame.scroll.max:null};if(!r){const h=Fd({page:e.subject.page,withPlaceholder:o,axis:e.axis,frame:e.frame});return{...e,subject:h}}const l=a?br(r.scroll.max,a):r.scroll.max,u=y5(r,l),f=Fd({page:e.subject.page,withPlaceholder:o,axis:e.axis,frame:u});return{...e,subject:f,frame:u}},VZ=e=>{const t=e.subject.withPlaceholder;t||De();const n=e.frame;if(!n){const o=Fd({page:e.subject.page,axis:e.axis,frame:null,withPlaceholder:null});return{...e,subject:o}}const r=t.oldFrameMaxScroll;r||De();const i=y5(n,r),a=Fd({page:e.subject.page,axis:e.axis,frame:i,withPlaceholder:null});return{...e,subject:a,frame:i}};var ZZ=({previousPageBorderBoxCenter:e,moveRelativeTo:t,insideDestination:n,draggable:r,draggables:i,destination:a,viewport:o,afterCritical:l})=>{if(!t){if(n.length)return null;const p={displaced:Sm,displacedBy:u5,at:{type:"REORDER",destination:{droppableId:a.descriptor.id,index:0}}},g=gv({impact:p,draggable:r,droppable:a,draggables:i,afterCritical:l}),x=df(r,a)?a:b5(a,r,i);return g5({draggable:r,destination:x,newPageBorderBoxCenter:g,viewport:o.frame,withDroppableDisplacement:!1,onlyOnMainAxis:!0})?p:null}const u=e[a.axis.line]<=t.page.borderBox.center[a.axis.line],f=(()=>{const p=t.descriptor.index;return t.descriptor.id===r.descriptor.id||u?p:p+1})(),h=tp(a.axis,r.displaceBy);return qy({draggable:r,insideDestination:n,destination:a,viewport:o,displacedBy:h,last:Sm,index:f})},XZ=({isMovingForward:e,previousPageBorderBoxCenter:t,draggable:n,isOver:r,draggables:i,droppables:a,viewport:o,afterCritical:l})=>{const u=qZ({isMovingForward:e,pageBorderBoxCenter:t,source:r,droppables:a,viewport:o});if(!u)return null;const f=uf(u.descriptor.id,i),h=KZ({pageBorderBoxCenter:t,viewport:o,destination:u,insideDestination:f,afterCritical:l}),p=ZZ({previousPageBorderBoxCenter:t,destination:u,draggable:n,draggables:i,moveRelativeTo:h,insideDestination:f,viewport:o,afterCritical:l});if(!p)return null;const g=gv({impact:p,draggable:n,droppable:u,draggables:i,afterCritical:l});return{clientSelection:A2({pageBorderBoxCenter:g,draggable:n,viewport:o}),impact:p,scrollJumpRequest:null}},Ii=e=>{const t=e.at;return t?t.type==="REORDER"?t.destination.droppableId:t.combine.droppableId:null};const JZ=(e,t)=>{const n=Ii(e);return n?t[n]:null};var QZ=({state:e,type:t})=>{const n=JZ(e.impact,e.dimensions.droppables),r=!!n,i=e.dimensions.droppables[e.critical.droppable.id],a=n||i,o=a.axis.direction,l=o==="vertical"&&(t==="MOVE_UP"||t==="MOVE_DOWN")||o==="horizontal"&&(t==="MOVE_LEFT"||t==="MOVE_RIGHT");if(l&&!r)return null;const u=t==="MOVE_DOWN"||t==="MOVE_RIGHT",f=e.dimensions.draggables[e.critical.draggable.id],h=e.current.page.borderBoxCenter,{draggables:p,droppables:g}=e.dimensions;return l?GZ({isMovingForward:u,previousPageBorderBoxCenter:h,draggable:f,destination:a,draggables:p,viewport:e.viewport,previousClientSelection:e.current.client.selection,previousImpact:e.impact,afterCritical:e.afterCritical}):XZ({isMovingForward:u,previousPageBorderBoxCenter:h,draggable:f,isOver:a,draggables:p,droppables:g,viewport:e.viewport,afterCritical:e.afterCritical})};function Ic(e){return e.phase==="DRAGGING"||e.phase==="COLLECTING"}function v5(e){const t=da(e.top,e.bottom),n=da(e.left,e.right);return function(i){return t(i.y)&&n(i.x)}}function eX(e,t){return e.left<t.right&&e.right>t.left&&e.top<t.bottom&&e.bottom>t.top}function tX({pageBorderBox:e,draggable:t,candidates:n}){const r=t.page.borderBox.center,i=n.map(a=>{const o=a.axis,l=nu(a.axis.line,e.center[o.line],a.page.borderBox.center[o.crossAxisLine]);return{id:a.descriptor.id,distance:wm(r,l)}}).sort((a,o)=>o.distance-a.distance);return i[0]?i[0].id:null}function nX({pageBorderBox:e,draggable:t,droppables:n}){const r=hv(n).filter(i=>{if(!i.isEnabled)return!1;const a=i.subject.active;if(!a||!eX(e,a))return!1;if(v5(a)(e.center))return!0;const o=i.axis,l=a.center[o.crossAxisLine],u=e[o.crossAxisStart],f=e[o.crossAxisEnd],h=da(a[o.crossAxisStart],a[o.crossAxisEnd]),p=h(u),g=h(f);return!p&&!g?!0:p?u<l:f>l});return r.length?r.length===1?r[0].descriptor.id:tX({pageBorderBox:e,draggable:t,candidates:r}):null}const x5=(e,t)=>za(ep(e,t));var rX=(e,t)=>{const n=e.frame;return n?x5(t,n.scroll.diff.value):t};function _5({displaced:e,id:t}){return!!(e.visible[t]||e.invisible[t])}function iX({draggable:e,closest:t,inHomeList:n}){return t?n&&t.descriptor.index>e.descriptor.index?t.descriptor.index-1:t.descriptor.index:null}var aX=({pageBorderBoxWithDroppableScroll:e,draggable:t,destination:n,insideDestination:r,last:i,viewport:a,afterCritical:o})=>{const l=n.axis,u=tp(n.axis,t.displaceBy),f=u.value,h=e[l.start],p=e[l.end],x=pv(t,r).find(_=>{const k=_.descriptor.id,T=_.page.borderBox.center[l.line],N=Ol(k,o),O=_5({displaced:i,id:k});return N?O?p<=T:h<T-f:O?p<=T+f:h<T})||null,S=iX({draggable:t,closest:x,inHomeList:df(t,n)});return qy({draggable:t,insideDestination:r,destination:n,viewport:a,last:i,displacedBy:u,index:S})};const oX=4;var sX=({draggable:e,pageBorderBoxWithDroppableScroll:t,previousImpact:n,destination:r,insideDestination:i,afterCritical:a})=>{if(!r.isCombineEnabled)return null;const o=r.axis,l=tp(r.axis,e.displaceBy),u=l.value,f=t[o.start],h=t[o.end],g=pv(e,i).find(S=>{const _=S.descriptor.id,k=S.page.borderBox,N=k[o.size]/oX,O=Ol(_,a),P=_5({displaced:n.displaced,id:_});return O?P?h>k[o.start]+N&&h<k[o.end]-N:f>k[o.start]-u+N&&f<k[o.end]-u-N:P?h>k[o.start]+u+N&&h<k[o.end]+u-N:f>k[o.start]+N&&f<k[o.end]-N});return g?{displacedBy:l,displaced:n.displaced,at:{type:"COMBINE",combine:{draggableId:g.descriptor.id,droppableId:r.descriptor.id}}}:null},w5=({pageOffset:e,draggable:t,draggables:n,droppables:r,previousImpact:i,viewport:a,afterCritical:o})=>{const l=x5(t.page.borderBox,e),u=nX({pageBorderBox:l,draggable:t,droppables:r});if(!u)return _Z;const f=r[u],h=uf(f.descriptor.id,n),p=rX(f,l);return sX({pageBorderBoxWithDroppableScroll:p,draggable:t,previousImpact:i,destination:f,insideDestination:h,afterCritical:o})||aX({pageBorderBoxWithDroppableScroll:p,draggable:t,destination:f,insideDestination:h,last:i.displaced,viewport:a,afterCritical:o})},T2=(e,t)=>({...e,[t.descriptor.id]:t});const lX=({previousImpact:e,impact:t,droppables:n})=>{const r=Ii(e),i=Ii(t);if(!r||r===i)return n;const a=n[r];if(!a.subject.withPlaceholder)return n;const o=VZ(a);return T2(n,o)};var cX=({draggable:e,draggables:t,droppables:n,previousImpact:r,impact:i})=>{const a=lX({previousImpact:r,impact:i,droppables:n}),o=Ii(i);if(!o)return a;const l=n[o];if(df(e,l)||l.subject.withPlaceholder)return a;const u=b5(l,e,t);return T2(a,u)},cm=({state:e,clientSelection:t,dimensions:n,viewport:r,impact:i,scrollJumpRequest:a})=>{const o=r||e.viewport,l=n||e.dimensions,u=t||e.current.client.selection,f=Ri(u,e.initial.client.selection),h={offset:f,selection:u,borderBoxCenter:br(e.initial.client.borderBoxCenter,f)},p={selection:br(h.selection,o.scroll.current),borderBoxCenter:br(h.borderBoxCenter,o.scroll.current),offset:br(h.offset,o.scroll.diff.value)},g={client:h,page:p};if(e.phase==="COLLECTING")return{...e,dimensions:l,viewport:o,current:g};const x=l.draggables[e.critical.draggable.id],S=i||w5({pageOffset:p.offset,draggable:x,draggables:l.draggables,droppables:l.droppables,previousImpact:e.impact,viewport:o,afterCritical:e.afterCritical}),_=cX({draggable:x,impact:S,previousImpact:e.impact,draggables:l.draggables,droppables:l.droppables});return{...e,current:g,dimensions:{draggables:l.draggables,droppables:_},impact:S,viewport:o,scrollJumpRequest:a||null,forceShouldAnimate:a?!1:null}};function uX(e,t){return e.map(n=>t[n])}var S5=({impact:e,viewport:t,draggables:n,destination:r,forceShouldAnimate:i})=>{const a=e.displaced,o=uX(a.all,n),l=km({afterDragging:o,destination:r,displacedBy:e.displacedBy,viewport:t.frame,forceShouldAnimate:i,last:a});return{...e,displaced:l}},k5=({impact:e,draggable:t,droppable:n,draggables:r,viewport:i,afterCritical:a})=>{const o=gv({impact:e,draggable:t,draggables:r,droppable:n,afterCritical:a});return A2({pageBorderBoxCenter:o,draggable:t,viewport:i})},E5=({state:e,dimensions:t,viewport:n})=>{e.movementMode!=="SNAP"&&De();const r=e.impact,i=n||e.viewport,a=t||e.dimensions,{draggables:o,droppables:l}=a,u=o[e.critical.draggable.id],f=Ii(r);f||De();const h=l[f],p=S5({impact:r,viewport:i,destination:h,draggables:o}),g=k5({impact:p,draggable:u,droppable:h,draggables:o,viewport:i,afterCritical:e.afterCritical});return cm({impact:p,clientSelection:g,state:e,dimensions:a,viewport:i})},dX=e=>({index:e.index,droppableId:e.droppableId}),A5=({draggable:e,home:t,draggables:n,viewport:r})=>{const i=tp(t.axis,e.displaceBy),a=uf(t.descriptor.id,n),o=a.indexOf(e);o===-1&&De();const l=a.slice(o+1),u=l.reduce((g,x)=>(g[x.descriptor.id]=!0,g),{}),f={inVirtualList:t.descriptor.mode==="virtual",displacedBy:i,effected:u};return{impact:{displaced:km({afterDragging:l,destination:t,displacedBy:i,last:null,viewport:r.frame,forceShouldAnimate:!1}),displacedBy:i,at:{type:"REORDER",destination:dX(e.descriptor)}},afterCritical:f}},fX=(e,t)=>({draggables:e.draggables,droppables:T2(e.droppables,t)}),hX=({draggable:e,offset:t,initialWindowScroll:n})=>{const r=zy(e.client,t),i=Uy(r,n);return{...e,placeholder:{...e.placeholder,client:r},client:r,page:i}},mX=e=>{const t=e.frame;return t||De(),t},pX=({additions:e,updatedDroppables:t,viewport:n})=>{const r=n.scroll.diff.value;return e.map(i=>{const a=i.descriptor.droppableId,o=t[a],u=mX(o).scroll.diff.value,f=br(r,u);return hX({draggable:i,offset:f,initialWindowScroll:n.scroll.initial})})},gX=({state:e,published:t})=>{const n=t.modified.map(T=>{const N=e.dimensions.droppables[T.droppableId];return _2(N,T.scroll)}),r={...e.dimensions.droppables,...l5(n)},i=c5(pX({additions:t.additions,updatedDroppables:r,viewport:e.viewport})),a={...e.dimensions.draggables,...i};t.removals.forEach(T=>{delete a[T]});const o={droppables:r,draggables:a},l=Ii(e.impact),u=l?o.droppables[l]:null,f=o.draggables[e.critical.draggable.id],h=o.droppables[e.critical.droppable.id],{impact:p,afterCritical:g}=A5({draggable:f,home:h,draggables:a,viewport:e.viewport}),x=u&&u.isCombineEnabled?e.impact:p,S=w5({pageOffset:e.current.page.offset,draggable:o.draggables[e.critical.draggable.id],draggables:o.draggables,droppables:o.droppables,previousImpact:x,viewport:e.viewport,afterCritical:g}),_={...e,phase:"DRAGGING",impact:S,onLiftImpact:p,dimensions:o,afterCritical:g,forceShouldAnimate:!1};return e.phase==="COLLECTING"?_:{..._,phase:"DROP_PENDING",reason:e.reason,isWaiting:!1}};const wk=e=>e.movementMode==="SNAP",Lw=(e,t,n)=>{const r=fX(e.dimensions,t);return!wk(e)||n?cm({state:e,dimensions:r}):E5({state:e,dimensions:r})};function Iw(e){return e.isDragging&&e.movementMode==="SNAP"?{...e,scrollJumpRequest:null}:e}const pM={phase:"IDLE",completed:null,shouldFlush:!1};var yX=(e=pM,t)=>{if(t.type==="FLUSH")return{...pM,shouldFlush:!0};if(t.type==="INITIAL_PUBLISH"){e.phase!=="IDLE"&&De();const{critical:n,clientSelection:r,viewport:i,dimensions:a,movementMode:o}=t.payload,l=a.draggables[n.draggable.id],u=a.droppables[n.droppable.id],f={selection:r,borderBoxCenter:l.client.borderBox.center,offset:lr},h={client:f,page:{selection:br(f.selection,i.scroll.initial),borderBoxCenter:br(f.selection,i.scroll.initial),offset:br(f.selection,i.scroll.diff.value)}},p=hv(a.droppables).every(_=>!_.isFixedOnPage),{impact:g,afterCritical:x}=A5({draggable:l,home:u,draggables:a.draggables,viewport:i});return{phase:"DRAGGING",isDragging:!0,critical:n,movementMode:o,dimensions:a,initial:h,current:h,isWindowScrollAllowed:p,impact:g,afterCritical:x,onLiftImpact:g,viewport:i,scrollJumpRequest:null,forceShouldAnimate:null}}if(t.type==="COLLECTION_STARTING")return e.phase==="COLLECTING"||e.phase==="DROP_PENDING"?e:(e.phase!=="DRAGGING"&&De(),{...e,phase:"COLLECTING"});if(t.type==="PUBLISH_WHILE_DRAGGING")return e.phase==="COLLECTING"||e.phase==="DROP_PENDING"||De(),gX({state:e,published:t.payload});if(t.type==="MOVE"){if(e.phase==="DROP_PENDING")return e;Ic(e)||De();const{client:n}=t.payload;return Al(n,e.current.client.selection)?e:cm({state:e,clientSelection:n,impact:wk(e)?e.impact:null})}if(t.type==="UPDATE_DROPPABLE_SCROLL"){if(e.phase==="DROP_PENDING"||e.phase==="COLLECTING")return Iw(e);Ic(e)||De();const{id:n,newScroll:r}=t.payload,i=e.dimensions.droppables[n];if(!i)return e;const a=_2(i,r);return Lw(e,a,!1)}if(t.type==="UPDATE_DROPPABLE_IS_ENABLED"){if(e.phase==="DROP_PENDING")return e;Ic(e)||De();const{id:n,isEnabled:r}=t.payload,i=e.dimensions.droppables[n];i||De(),i.isEnabled===r&&De();const a={...i,isEnabled:r};return Lw(e,a,!0)}if(t.type==="UPDATE_DROPPABLE_IS_COMBINE_ENABLED"){if(e.phase==="DROP_PENDING")return e;Ic(e)||De();const{id:n,isCombineEnabled:r}=t.payload,i=e.dimensions.droppables[n];i||De(),i.isCombineEnabled===r&&De();const a={...i,isCombineEnabled:r};return Lw(e,a,!0)}if(t.type==="MOVE_BY_WINDOW_SCROLL"){if(e.phase==="DROP_PENDING"||e.phase==="DROP_ANIMATING")return e;Ic(e)||De(),e.isWindowScrollAllowed||De();const n=t.payload.newScroll;if(Al(e.viewport.scroll.current,n))return Iw(e);const r=p5(e.viewport,n);return wk(e)?E5({state:e,viewport:r}):cm({state:e,viewport:r})}if(t.type==="UPDATE_VIEWPORT_MAX_SCROLL"){if(!Ic(e))return e;const n=t.payload.maxScroll;if(Al(n,e.viewport.scroll.max))return e;const r={...e.viewport,scroll:{...e.viewport.scroll,max:n}};return{...e,viewport:r}}if(t.type==="MOVE_UP"||t.type==="MOVE_DOWN"||t.type==="MOVE_LEFT"||t.type==="MOVE_RIGHT"){if(e.phase==="COLLECTING"||e.phase==="DROP_PENDING")return e;e.phase!=="DRAGGING"&&De();const n=QZ({state:e,type:t.type});return n?cm({state:e,impact:n.impact,clientSelection:n.clientSelection,scrollJumpRequest:n.scrollJumpRequest}):e}if(t.type==="DROP_PENDING"){const n=t.payload.reason;return e.phase!=="COLLECTING"&&De(),{...e,phase:"DROP_PENDING",isWaiting:!0,reason:n}}if(t.type==="DROP_ANIMATE"){const{completed:n,dropDuration:r,newHomeClientOffset:i}=t.payload;return e.phase==="DRAGGING"||e.phase==="DROP_PENDING"||De(),{phase:"DROP_ANIMATING",completed:n,dropDuration:r,newHomeClientOffset:i,dimensions:e.dimensions}}if(t.type==="DROP_COMPLETE"){const{completed:n}=t.payload;return{phase:"IDLE",completed:n,shouldFlush:!1}}return e};function Mt(e,t){return e instanceof Object&&"type"in e&&e.type===t}const bX=e=>({type:"BEFORE_INITIAL_CAPTURE",payload:e}),vX=e=>({type:"LIFT",payload:e}),xX=e=>({type:"INITIAL_PUBLISH",payload:e}),_X=e=>({type:"PUBLISH_WHILE_DRAGGING",payload:e}),wX=()=>({type:"COLLECTION_STARTING",payload:null}),SX=e=>({type:"UPDATE_DROPPABLE_SCROLL",payload:e}),kX=e=>({type:"UPDATE_DROPPABLE_IS_ENABLED",payload:e}),EX=e=>({type:"UPDATE_DROPPABLE_IS_COMBINE_ENABLED",payload:e}),T5=e=>({type:"MOVE",payload:e}),AX=e=>({type:"MOVE_BY_WINDOW_SCROLL",payload:e}),TX=e=>({type:"UPDATE_VIEWPORT_MAX_SCROLL",payload:e}),OX=()=>({type:"MOVE_UP",payload:null}),jX=()=>({type:"MOVE_DOWN",payload:null}),NX=()=>({type:"MOVE_RIGHT",payload:null}),CX=()=>({type:"MOVE_LEFT",payload:null}),O2=()=>({type:"FLUSH",payload:null}),MX=e=>({type:"DROP_ANIMATE",payload:e}),j2=e=>({type:"DROP_COMPLETE",payload:e}),O5=e=>({type:"DROP",payload:e}),PX=e=>({type:"DROP_PENDING",payload:e}),j5=()=>({type:"DROP_ANIMATION_FINISHED",payload:null});var DX=e=>({getState:t,dispatch:n})=>r=>i=>{if(!Mt(i,"LIFT")){r(i);return}const{id:a,clientSelection:o,movementMode:l}=i.payload,u=t();u.phase==="DROP_ANIMATING"&&n(j2({completed:u.completed})),t().phase!=="IDLE"&&De(),n(O2()),n(bX({draggableId:a,movementMode:l}));const h={draggableId:a,scrollOptions:{shouldPublishImmediately:l==="SNAP"}},{critical:p,dimensions:g,viewport:x}=e.startPublishing(h);n(xX({critical:p,dimensions:g,clientSelection:o,movementMode:l,viewport:x}))},RX=e=>()=>t=>n=>{Mt(n,"INITIAL_PUBLISH")&&e.dragging(),Mt(n,"DROP_ANIMATE")&&e.dropping(n.payload.completed.result.reason),(Mt(n,"FLUSH")||Mt(n,"DROP_COMPLETE"))&&e.resting(),t(n)};const N2={outOfTheWay:"cubic-bezier(0.2, 0, 0, 1)",drop:"cubic-bezier(.2,1,.1,1)"},Em={opacity:{drop:0,combining:.7},scale:{drop:.75}},N5={outOfTheWay:.2,minDropTime:.33,maxDropTime:.55},Oc=`${N5.outOfTheWay}s ${N2.outOfTheWay}`,um={fluid:`opacity ${Oc}`,snap:`transform ${Oc}, opacity ${Oc}`,drop:e=>{const t=`${e}s ${N2.drop}`;return`transform ${t}, opacity ${t}`},outOfTheWay:`transform ${Oc}`,placeholder:`height ${Oc}, width ${Oc}, margin ${Oc}`},gM=e=>Al(e,lr)?void 0:`translate(${e.x}px, ${e.y}px)`,Sk={moveTo:gM,drop:(e,t)=>{const n=gM(e);if(n)return t?`${n} scale(${Em.scale.drop})`:n}},{minDropTime:kk,maxDropTime:C5}=N5,LX=C5-kk,yM=1500,IX=.6;var $X=({current:e,destination:t,reason:n})=>{const r=wm(e,t);if(r<=0)return kk;if(r>=yM)return C5;const i=r/yM,a=kk+LX*i,o=n==="CANCEL"?a*IX:a;return Number(o.toFixed(2))},BX=({impact:e,draggable:t,dimensions:n,viewport:r,afterCritical:i})=>{const{draggables:a,droppables:o}=n,l=Ii(e),u=l?o[l]:null,f=o[t.descriptor.droppableId],h=k5({impact:e,draggable:t,draggables:a,afterCritical:i,droppable:u||f,viewport:r});return Ri(h,t.client.borderBox.center)},zX=({draggables:e,reason:t,lastImpact:n,home:r,viewport:i,onLiftImpact:a})=>!n.at||t!=="DROP"?{impact:S5({draggables:e,impact:a,destination:r,viewport:i,forceShouldAnimate:!0}),didDropInsideDroppable:!1}:n.at.type==="REORDER"?{impact:n,didDropInsideDroppable:!0}:{impact:{...n,displaced:Sm},didDropInsideDroppable:!0};const UX=({getState:e,dispatch:t})=>n=>r=>{if(!Mt(r,"DROP")){n(r);return}const i=e(),a=r.payload.reason;if(i.phase==="COLLECTING"){t(PX({reason:a}));return}if(i.phase==="IDLE")return;i.phase==="DROP_PENDING"&&i.isWaiting&&De(),i.phase==="DRAGGING"||i.phase==="DROP_PENDING"||De();const l=i.critical,u=i.dimensions,f=u.draggables[i.critical.draggable.id],{impact:h,didDropInsideDroppable:p}=zX({reason:a,lastImpact:i.impact,afterCritical:i.afterCritical,onLiftImpact:i.onLiftImpact,home:i.dimensions.droppables[i.critical.droppable.id],viewport:i.viewport,draggables:i.dimensions.draggables}),g=p?w2(h):null,x=p?mv(h):null,S={index:l.draggable.index,droppableId:l.droppable.id},_={draggableId:f.descriptor.id,type:f.descriptor.type,source:S,reason:a,mode:i.movementMode,destination:g,combine:x},k=BX({impact:h,draggable:f,dimensions:u,viewport:i.viewport,afterCritical:i.afterCritical}),T={critical:i.critical,afterCritical:i.afterCritical,result:_,impact:h};if(!(!Al(i.current.client.offset,k)||!!_.combine)){t(j2({completed:T}));return}const O=$X({current:i.current.client.offset,destination:k,reason:a});t(MX({newHomeClientOffset:k,dropDuration:O,completed:T}))};var M5=()=>({x:window.pageXOffset,y:window.pageYOffset});function FX(e){return{eventName:"scroll",options:{passive:!0,capture:!1},fn:t=>{t.target!==window&&t.target!==window.document||e()}}}function HX({onWindowScroll:e}){function t(){e(M5())}const n=_m(t),r=FX(n);let i=El;function a(){return i!==El}function o(){a()&&De(),i=oa(window,[r])}function l(){a()||De(),n.cancel(),i(),i=El}return{start:o,stop:l,isActive:a}}const GX=e=>Mt(e,"DROP_COMPLETE")||Mt(e,"DROP_ANIMATE")||Mt(e,"FLUSH"),qX=e=>{const t=HX({onWindowScroll:n=>{e.dispatch(AX({newScroll:n}))}});return n=>r=>{!t.isActive()&&Mt(r,"INITIAL_PUBLISH")&&t.start(),t.isActive()&&GX(r)&&t.stop(),n(r)}};var YX=e=>{let t=!1,n=!1;const r=setTimeout(()=>{n=!0}),i=a=>{t||n||(t=!0,e(a),clearTimeout(r))};return i.wasCalled=()=>t,i},KX=()=>{const e=[],t=i=>{const a=e.findIndex(l=>l.timerId===i);a===-1&&De();const[o]=e.splice(a,1);o.callback()};return{add:i=>{const a=setTimeout(()=>t(a)),o={timerId:a,callback:i};e.push(o)},flush:()=>{if(!e.length)return;const i=[...e];e.length=0,i.forEach(a=>{clearTimeout(a.timerId),a.callback()})}}};const WX=(e,t)=>e==null&&t==null?!0:e==null||t==null?!1:e.droppableId===t.droppableId&&e.index===t.index,VX=(e,t)=>e==null&&t==null?!0:e==null||t==null?!1:e.draggableId===t.draggableId&&e.droppableId===t.droppableId,ZX=(e,t)=>{if(e===t)return!0;const n=e.draggable.id===t.draggable.id&&e.draggable.droppableId===t.draggable.droppableId&&e.draggable.type===t.draggable.type&&e.draggable.index===t.draggable.index,r=e.droppable.id===t.droppable.id&&e.droppable.type===t.droppable.type;return n&&r},Mh=(e,t)=>{t()},p0=(e,t)=>({draggableId:e.draggable.id,type:e.droppable.type,source:{droppableId:e.droppable.id,index:e.draggable.index},mode:t});function $w(e,t,n,r){if(!e){n(r(t));return}const i=YX(n);e(t,{announce:i}),i.wasCalled()||n(r(t))}var XX=(e,t)=>{const n=KX();let r=null;const i=(p,g)=>{r&&De(),Mh("onBeforeCapture",()=>{const x=e().onBeforeCapture;x&&x({draggableId:p,mode:g})})},a=(p,g)=>{r&&De(),Mh("onBeforeDragStart",()=>{const x=e().onBeforeDragStart;x&&x(p0(p,g))})},o=(p,g)=>{r&&De();const x=p0(p,g);r={mode:g,lastCritical:p,lastLocation:x.source,lastCombine:null},n.add(()=>{Mh("onDragStart",()=>$w(e().onDragStart,x,t,yy.onDragStart))})},l=(p,g)=>{const x=w2(g),S=mv(g);r||De();const _=!ZX(p,r.lastCritical);_&&(r.lastCritical=p);const k=!WX(r.lastLocation,x);k&&(r.lastLocation=x);const T=!VX(r.lastCombine,S);if(T&&(r.lastCombine=S),!_&&!k&&!T)return;const N={...p0(p,r.mode),combine:S,destination:x};n.add(()=>{Mh("onDragUpdate",()=>$w(e().onDragUpdate,N,t,yy.onDragUpdate))})},u=()=>{r||De(),n.flush()},f=p=>{r||De(),r=null,Mh("onDragEnd",()=>$w(e().onDragEnd,p,t,yy.onDragEnd))};return{beforeCapture:i,beforeStart:a,start:o,update:l,flush:u,drop:f,abort:()=>{if(!r)return;const p={...p0(r.lastCritical,r.mode),combine:null,destination:null,reason:"CANCEL"};f(p)}}},JX=(e,t)=>{const n=XX(e,t);return r=>i=>a=>{if(Mt(a,"BEFORE_INITIAL_CAPTURE")){n.beforeCapture(a.payload.draggableId,a.payload.movementMode);return}if(Mt(a,"INITIAL_PUBLISH")){const l=a.payload.critical;n.beforeStart(l,a.payload.movementMode),i(a),n.start(l,a.payload.movementMode);return}if(Mt(a,"DROP_COMPLETE")){const l=a.payload.completed.result;n.flush(),i(a),n.drop(l);return}if(i(a),Mt(a,"FLUSH")){n.abort();return}const o=r.getState();o.phase==="DRAGGING"&&n.update(o.critical,o.impact)}};const QX=e=>t=>n=>{if(!Mt(n,"DROP_ANIMATION_FINISHED")){t(n);return}const r=e.getState();r.phase!=="DROP_ANIMATING"&&De(),e.dispatch(j2({completed:r.completed}))},eJ=e=>{let t=null,n=null;function r(){n&&(cancelAnimationFrame(n),n=null),t&&(t(),t=null)}return i=>a=>{if((Mt(a,"FLUSH")||Mt(a,"DROP_COMPLETE")||Mt(a,"DROP_ANIMATION_FINISHED"))&&r(),i(a),!Mt(a,"DROP_ANIMATE"))return;const o={eventName:"scroll",options:{capture:!0,passive:!1,once:!0},fn:function(){e.getState().phase==="DROP_ANIMATING"&&e.dispatch(j5())}};n=requestAnimationFrame(()=>{n=null,t=oa(window,[o])})}};var tJ=e=>()=>t=>n=>{(Mt(n,"DROP_COMPLETE")||Mt(n,"FLUSH")||Mt(n,"DROP_ANIMATE"))&&e.stopPublishing(),t(n)},nJ=e=>{let t=!1;return()=>n=>r=>{if(Mt(r,"INITIAL_PUBLISH")){t=!0,e.tryRecordFocus(r.payload.critical.draggable.id),n(r),e.tryRestoreFocusRecorded();return}if(n(r),!!t){if(Mt(r,"FLUSH")){t=!1,e.tryRestoreFocusRecorded();return}if(Mt(r,"DROP_COMPLETE")){t=!1;const i=r.payload.completed.result;i.combine&&e.tryShiftRecord(i.draggableId,i.combine.draggableId),e.tryRestoreFocusRecorded()}}}};const rJ=e=>Mt(e,"DROP_COMPLETE")||Mt(e,"DROP_ANIMATE")||Mt(e,"FLUSH");var iJ=e=>t=>n=>r=>{if(rJ(r)){e.stop(),n(r);return}if(Mt(r,"INITIAL_PUBLISH")){n(r);const i=t.getState();i.phase!=="DRAGGING"&&De(),e.start(i);return}n(r),e.scroll(t.getState())};const aJ=e=>t=>n=>{if(t(n),!Mt(n,"PUBLISH_WHILE_DRAGGING"))return;const r=e.getState();r.phase==="DROP_PENDING"&&(r.isWaiting||e.dispatch(O5({reason:r.reason})))},oJ=xm;var sJ=({dimensionMarshal:e,focusMarshal:t,styleMarshal:n,getResponders:r,announce:i,autoScroller:a})=>g2(yX,oJ(YB(RX(n),tJ(e),DX(e),UX,QX,eJ,aJ,iJ(a),qX,nJ(t),JX(r,i))));const Bw=()=>({additions:{},removals:{},modified:{}});function lJ({registry:e,callbacks:t}){let n=Bw(),r=null;const i=()=>{r||(t.collectionStarting(),r=requestAnimationFrame(()=>{r=null;const{additions:u,removals:f,modified:h}=n,p=Object.keys(u).map(S=>e.draggable.getById(S).getDimension(lr)).sort((S,_)=>S.descriptor.index-_.descriptor.index),g=Object.keys(h).map(S=>{const k=e.droppable.getById(S).callbacks.getScrollWhileDragging();return{droppableId:S,scroll:k}}),x={additions:p,removals:Object.keys(f),modified:g};n=Bw(),t.publish(x)}))};return{add:u=>{const f=u.descriptor.id;n.additions[f]=u,n.modified[u.descriptor.droppableId]=!0,n.removals[f]&&delete n.removals[f],i()},remove:u=>{const f=u.descriptor;n.removals[f.id]=!0,n.modified[f.droppableId]=!0,n.additions[f.id]&&delete n.additions[f.id],i()},stop:()=>{r&&(cancelAnimationFrame(r),r=null,n=Bw())}}}var P5=({scrollHeight:e,scrollWidth:t,height:n,width:r})=>{const i=Ri({x:t,y:e},{x:r,y:n});return{x:Math.max(0,i.x),y:Math.max(0,i.y)}},D5=()=>{const e=document.documentElement;return e||De(),e},R5=()=>{const e=D5();return P5({scrollHeight:e.scrollHeight,scrollWidth:e.scrollWidth,width:e.clientWidth,height:e.clientHeight})},cJ=()=>{const e=M5(),t=R5(),n=e.y,r=e.x,i=D5(),a=i.clientWidth,o=i.clientHeight,l=r+a,u=n+o;return{frame:za({top:n,left:r,right:l,bottom:u}),scroll:{initial:e,current:e,max:t,diff:{value:lr,displacement:lr}}}},uJ=({critical:e,scrollOptions:t,registry:n})=>{const r=cJ(),i=r.scroll.current,a=e.droppable,o=n.droppable.getAllByType(a.type).map(h=>h.callbacks.getDimensionAndWatchScroll(i,t)),l=n.draggable.getAllByType(e.draggable.type).map(h=>h.getDimension(i));return{dimensions:{draggables:c5(l),droppables:l5(o)},critical:e,viewport:r}};function bM(e,t,n){return!(n.descriptor.id===t.id||n.descriptor.type!==t.type||e.droppable.getById(n.descriptor.droppableId).descriptor.mode!=="virtual")}var dJ=(e,t)=>{let n=null;const r=lJ({callbacks:{publish:t.publishWhileDragging,collectionStarting:t.collectionStarting},registry:e}),i=(g,x)=>{e.droppable.exists(g)||De(),n&&t.updateDroppableIsEnabled({id:g,isEnabled:x})},a=(g,x)=>{n&&(e.droppable.exists(g)||De(),t.updateDroppableIsCombineEnabled({id:g,isCombineEnabled:x}))},o=(g,x)=>{n&&(e.droppable.exists(g)||De(),t.updateDroppableScroll({id:g,newScroll:x}))},l=(g,x)=>{n&&e.droppable.getById(g).callbacks.scroll(x)},u=()=>{if(!n)return;r.stop();const g=n.critical.droppable;e.droppable.getAllByType(g.type).forEach(x=>x.callbacks.dragStopped()),n.unsubscribe(),n=null},f=g=>{n||De();const x=n.critical.draggable;g.type==="ADDITION"&&bM(e,x,g.value)&&r.add(g.value),g.type==="REMOVAL"&&bM(e,x,g.value)&&r.remove(g.value)};return{updateDroppableIsEnabled:i,updateDroppableIsCombineEnabled:a,scrollDroppable:l,updateDroppableScroll:o,startPublishing:g=>{n&&De();const x=e.draggable.getById(g.draggableId),S=e.droppable.getById(x.descriptor.droppableId),_={draggable:x.descriptor,droppable:S.descriptor},k=e.subscribe(f);return n={critical:_,unsubscribe:k},uJ({critical:_,registry:e,scrollOptions:g.scrollOptions})},stopPublishing:u}},L5=(e,t)=>e.phase==="IDLE"?!0:e.phase!=="DROP_ANIMATING"||e.completed.result.draggableId===t?!1:e.completed.result.reason==="DROP",fJ=e=>{window.scrollBy(e.x,e.y)};const hJ=sr(e=>hv(e).filter(t=>!(!t.isEnabled||!t.frame))),mJ=(e,t)=>hJ(t).find(r=>(r.frame||De(),v5(r.frame.pageMarginBox)(e)))||null;var pJ=({center:e,destination:t,droppables:n})=>{if(t){const i=n[t];return i.frame?i:null}return mJ(e,n)};const Am={startFromPercentage:.25,maxScrollAtPercentage:.05,maxPixelScroll:28,ease:e=>e**2,durationDampening:{stopDampeningAt:1200,accelerateAt:360},disabled:!1};var gJ=(e,t,n=()=>Am)=>{const r=n(),i=e[t.size]*r.startFromPercentage,a=e[t.size]*r.maxScrollAtPercentage;return{startScrollingFrom:i,maxScrollValueAt:a}},I5=({startOfRange:e,endOfRange:t,current:n})=>{const r=t-e;return r===0?0:(n-e)/r},C2=1,yJ=(e,t,n=()=>Am)=>{const r=n();if(e>t.startScrollingFrom)return 0;if(e<=t.maxScrollValueAt)return r.maxPixelScroll;if(e===t.startScrollingFrom)return C2;const a=1-I5({startOfRange:t.maxScrollValueAt,endOfRange:t.startScrollingFrom,current:e}),o=r.maxPixelScroll*r.ease(a);return Math.ceil(o)},bJ=(e,t,n)=>{const r=n(),i=r.durationDampening.accelerateAt,a=r.durationDampening.stopDampeningAt,o=t,l=a,f=Date.now()-o;if(f>=a)return e;if(f<i)return C2;const h=I5({startOfRange:i,endOfRange:l,current:f}),p=e*r.ease(h);return Math.ceil(p)},vM=({distanceToEdge:e,thresholds:t,dragStartTime:n,shouldUseTimeDampening:r,getAutoScrollerOptions:i})=>{const a=yJ(e,t,i);return a===0?0:r?Math.max(bJ(a,n,i),C2):a},xM=({container:e,distanceToEdges:t,dragStartTime:n,axis:r,shouldUseTimeDampening:i,getAutoScrollerOptions:a})=>{const o=gJ(e,r,a);return t[r.end]<t[r.start]?vM({distanceToEdge:t[r.end],thresholds:o,dragStartTime:n,shouldUseTimeDampening:i,getAutoScrollerOptions:a}):-1*vM({distanceToEdge:t[r.start],thresholds:o,dragStartTime:n,shouldUseTimeDampening:i,getAutoScrollerOptions:a})},vJ=({container:e,subject:t,proposedScroll:n})=>{const r=t.height>e.height,i=t.width>e.width;return!i&&!r?n:i&&r?null:{x:i?0:n.x,y:r?0:n.y}};const xJ=s5(e=>e===0?0:e);var $5=({dragStartTime:e,container:t,subject:n,center:r,shouldUseTimeDampening:i,getAutoScrollerOptions:a})=>{const o={top:r.y-t.top,right:t.right-r.x,bottom:t.bottom-r.y,left:r.x-t.left},l=xM({container:t,distanceToEdges:o,dragStartTime:e,axis:S2,shouldUseTimeDampening:i,getAutoScrollerOptions:a}),u=xM({container:t,distanceToEdges:o,dragStartTime:e,axis:f5,shouldUseTimeDampening:i,getAutoScrollerOptions:a}),f=xJ({x:u,y:l});if(Al(f,lr))return null;const h=vJ({container:t,subject:n,proposedScroll:f});return h?Al(h,lr)?null:h:null};const _J=s5(e=>e===0?0:e>0?1:-1),M2=(()=>{const e=(t,n)=>t<0?t:t>n?t-n:0;return({current:t,max:n,change:r})=>{const i=br(t,r),a={x:e(i.x,n.x),y:e(i.y,n.y)};return Al(a,lr)?null:a}})(),B5=({max:e,current:t,change:n})=>{const r={x:Math.max(t.x,e.x),y:Math.max(t.y,e.y)},i=_J(n),a=M2({max:r,current:t,change:i});return!a||i.x!==0&&a.x===0||i.y!==0&&a.y===0},P2=(e,t)=>B5({current:e.scroll.current,max:e.scroll.max,change:t}),wJ=(e,t)=>{if(!P2(e,t))return null;const n=e.scroll.max,r=e.scroll.current;return M2({current:r,max:n,change:t})},D2=(e,t)=>{const n=e.frame;return n?B5({current:n.scroll.current,max:n.scroll.max,change:t}):!1},SJ=(e,t)=>{const n=e.frame;return!n||!D2(e,t)?null:M2({current:n.scroll.current,max:n.scroll.max,change:t})};var kJ=({viewport:e,subject:t,center:n,dragStartTime:r,shouldUseTimeDampening:i,getAutoScrollerOptions:a})=>{const o=$5({dragStartTime:r,container:e.frame,subject:t,center:n,shouldUseTimeDampening:i,getAutoScrollerOptions:a});return o&&P2(e,o)?o:null},EJ=({droppable:e,subject:t,center:n,dragStartTime:r,shouldUseTimeDampening:i,getAutoScrollerOptions:a})=>{const o=e.frame;if(!o)return null;const l=$5({dragStartTime:r,container:o.pageMarginBox,subject:t,center:n,shouldUseTimeDampening:i,getAutoScrollerOptions:a});return l&&D2(e,l)?l:null},_M=({state:e,dragStartTime:t,shouldUseTimeDampening:n,scrollWindow:r,scrollDroppable:i,getAutoScrollerOptions:a})=>{const o=e.current.page.borderBoxCenter,u=e.dimensions.draggables[e.critical.draggable.id].page.marginBox;if(e.isWindowScrollAllowed){const p=e.viewport,g=kJ({dragStartTime:t,viewport:p,subject:u,center:o,shouldUseTimeDampening:n,getAutoScrollerOptions:a});if(g){r(g);return}}const f=pJ({center:o,destination:Ii(e.impact),droppables:e.dimensions.droppables});if(!f)return;const h=EJ({dragStartTime:t,droppable:f,subject:u,center:o,shouldUseTimeDampening:n,getAutoScrollerOptions:a});h&&i(f.descriptor.id,h)},AJ=({scrollWindow:e,scrollDroppable:t,getAutoScrollerOptions:n=()=>Am})=>{const r=_m(e),i=_m(t);let a=null;const o=f=>{a||De();const{shouldUseTimeDampening:h,dragStartTime:p}=a;_M({state:f,scrollWindow:r,scrollDroppable:i,dragStartTime:p,shouldUseTimeDampening:h,getAutoScrollerOptions:n})};return{start:f=>{a&&De();const h=Date.now();let p=!1;const g=()=>{p=!0};_M({state:f,dragStartTime:0,shouldUseTimeDampening:!1,scrollWindow:g,scrollDroppable:g,getAutoScrollerOptions:n}),a={dragStartTime:h,shouldUseTimeDampening:p},p&&o(f)},stop:()=>{a&&(r.cancel(),i.cancel(),a=null)},scroll:o}},TJ=({move:e,scrollDroppable:t,scrollWindow:n})=>{const r=(l,u)=>{const f=br(l.current.client.selection,u);e({client:f})},i=(l,u)=>{if(!D2(l,u))return u;const f=SJ(l,u);if(!f)return t(l.descriptor.id,u),null;const h=Ri(u,f);return t(l.descriptor.id,h),Ri(u,h)},a=(l,u,f)=>{if(!l||!P2(u,f))return f;const h=wJ(u,f);if(!h)return n(f),null;const p=Ri(f,h);return n(p),Ri(f,p)};return l=>{const u=l.scrollJumpRequest;if(!u)return;const f=Ii(l.impact);f||De();const h=i(l.dimensions.droppables[f],u);if(!h)return;const p=l.viewport,g=a(l.isWindowScrollAllowed,p,h);g&&r(l,g)}},OJ=({scrollDroppable:e,scrollWindow:t,move:n,getAutoScrollerOptions:r})=>{const i=AJ({scrollWindow:t,scrollDroppable:e,getAutoScrollerOptions:r}),a=TJ({move:n,scrollWindow:t,scrollDroppable:e});return{scroll:u=>{if(!(r().disabled||u.phase!=="DRAGGING")){if(u.movementMode==="FLUID"){i.scroll(u);return}u.scrollJumpRequest&&a(u)}},start:i.start,stop:i.stop}};const Hd="data-rfd",Gd=(()=>{const e=`${Hd}-drag-handle`;return{base:e,draggableId:`${e}-draggable-id`,contextId:`${e}-context-id`}})(),Ek=(()=>{const e=`${Hd}-draggable`;return{base:e,contextId:`${e}-context-id`,id:`${e}-id`}})(),jJ=(()=>{const e=`${Hd}-droppable`;return{base:e,contextId:`${e}-context-id`,id:`${e}-id`}})(),wM={contextId:`${Hd}-scroll-container-context-id`},NJ=e=>t=>`[${t}="${e}"]`,Ph=(e,t)=>e.map(n=>{const r=n.styles[t];return r?`${n.selector} { ${r} }`:""}).join(" "),CJ="pointer-events: none;";var MJ=e=>{const t=NJ(e),n=(()=>{const l=`
      cursor: -webkit-grab;
      cursor: grab;
    `;return{selector:t(Gd.contextId),styles:{always:`
          -webkit-touch-callout: none;
          -webkit-tap-highlight-color: rgba(0,0,0,0);
          touch-action: manipulation;
        `,resting:l,dragging:CJ,dropAnimating:l}}})(),r=(()=>{const l=`
      transition: ${um.outOfTheWay};
    `;return{selector:t(Ek.contextId),styles:{dragging:l,dropAnimating:l,userCancel:l}}})(),i={selector:t(jJ.contextId),styles:{always:"overflow-anchor: none;"}},o=[r,n,i,{selector:"body",styles:{dragging:`
        cursor: grabbing;
        cursor: -webkit-grabbing;
        user-select: none;
        -webkit-user-select: none;
        -moz-user-select: none;
        -ms-user-select: none;
        overflow-anchor: none;
      `}}];return{always:Ph(o,"always"),resting:Ph(o,"resting"),dragging:Ph(o,"dragging"),dropAnimating:Ph(o,"dropAnimating"),userCancel:Ph(o,"userCancel")}};const $i=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u"?w.useLayoutEffect:w.useEffect,zw=()=>{const e=document.querySelector("head");return e||De(),e},SM=e=>{const t=document.createElement("style");return e&&t.setAttribute("nonce",e),t.type="text/css",t};function PJ(e,t){const n=vt(()=>MJ(e),[e]),r=w.useRef(null),i=w.useRef(null),a=Ke(sr(p=>{const g=i.current;g||De(),g.textContent=p}),[]),o=Ke(p=>{const g=r.current;g||De(),g.textContent=p},[]);$i(()=>{!r.current&&!i.current||De();const p=SM(t),g=SM(t);return r.current=p,i.current=g,p.setAttribute(`${Hd}-always`,e),g.setAttribute(`${Hd}-dynamic`,e),zw().appendChild(p),zw().appendChild(g),o(n.always),a(n.resting),()=>{const x=S=>{const _=S.current;_||De(),zw().removeChild(_),S.current=null};x(r),x(i)}},[t,o,a,n.always,n.resting,e]);const l=Ke(()=>a(n.dragging),[a,n.dragging]),u=Ke(p=>{if(p==="DROP"){a(n.dropAnimating);return}a(n.userCancel)},[a,n.dropAnimating,n.userCancel]),f=Ke(()=>{i.current&&a(n.resting)},[a,n.resting]);return vt(()=>({dragging:l,dropping:u,resting:f}),[l,u,f])}function z5(e,t){return Array.from(e.querySelectorAll(t))}var U5=e=>e&&e.ownerDocument&&e.ownerDocument.defaultView?e.ownerDocument.defaultView:window;function yv(e){return e instanceof U5(e).HTMLElement}function DJ(e,t){const n=`[${Gd.contextId}="${e}"]`,r=z5(document,n);if(!r.length)return null;const i=r.find(a=>a.getAttribute(Gd.draggableId)===t);return!i||!yv(i)?null:i}function RJ(e){const t=w.useRef({}),n=w.useRef(null),r=w.useRef(null),i=w.useRef(!1),a=Ke(function(g,x){const S={id:g,focus:x};return t.current[g]=S,function(){const k=t.current;k[g]!==S&&delete k[g]}},[]),o=Ke(function(g){const x=DJ(e,g);x&&x!==document.activeElement&&x.focus()},[e]),l=Ke(function(g,x){n.current===g&&(n.current=x)},[]),u=Ke(function(){r.current||i.current&&(r.current=requestAnimationFrame(()=>{r.current=null;const g=n.current;g&&o(g)}))},[o]),f=Ke(function(g){n.current=null;const x=document.activeElement;x&&x.getAttribute(Gd.draggableId)===g&&(n.current=g)},[]);return $i(()=>(i.current=!0,function(){i.current=!1;const g=r.current;g&&cancelAnimationFrame(g)}),[]),vt(()=>({register:a,tryRecordFocus:f,tryRestoreFocusRecorded:u,tryShiftRecord:l}),[a,f,u,l])}function LJ(){const e={draggables:{},droppables:{}},t=[];function n(p){return t.push(p),function(){const x=t.indexOf(p);x!==-1&&t.splice(x,1)}}function r(p){t.length&&t.forEach(g=>g(p))}function i(p){return e.draggables[p]||null}function a(p){const g=i(p);return g||De(),g}const o={register:p=>{e.draggables[p.descriptor.id]=p,r({type:"ADDITION",value:p})},update:(p,g)=>{const x=e.draggables[g.descriptor.id];x&&x.uniqueId===p.uniqueId&&(delete e.draggables[g.descriptor.id],e.draggables[p.descriptor.id]=p)},unregister:p=>{const g=p.descriptor.id,x=i(g);x&&p.uniqueId===x.uniqueId&&(delete e.draggables[g],e.droppables[p.descriptor.droppableId]&&r({type:"REMOVAL",value:p}))},getById:a,findById:i,exists:p=>!!i(p),getAllByType:p=>Object.values(e.draggables).filter(g=>g.descriptor.type===p)};function l(p){return e.droppables[p]||null}function u(p){const g=l(p);return g||De(),g}const f={register:p=>{e.droppables[p.descriptor.id]=p},unregister:p=>{const g=l(p.descriptor.id);g&&p.uniqueId===g.uniqueId&&delete e.droppables[p.descriptor.id]},getById:u,findById:l,exists:p=>!!l(p),getAllByType:p=>Object.values(e.droppables).filter(g=>g.descriptor.type===p)};function h(){e.draggables={},e.droppables={},t.length=0}return{draggable:o,droppable:f,subscribe:n,clean:h}}function IJ(){const e=vt(LJ,[]);return w.useEffect(()=>function(){e.clean()},[e]),e}var R2=Wt.createContext(null),Yy=()=>{const e=document.body;return e||De(),e};const $J={position:"absolute",width:"1px",height:"1px",margin:"-1px",border:"0",padding:"0",overflow:"hidden",clip:"rect(0 0 0 0)","clip-path":"inset(100%)"},BJ=e=>`rfd-announcement-${e}`;function zJ(e){const t=vt(()=>BJ(e),[e]),n=w.useRef(null);return w.useEffect(function(){const a=document.createElement("div");return n.current=a,a.id=t,a.setAttribute("aria-live","assertive"),a.setAttribute("aria-atomic","true"),Fy(a.style,$J),Yy().appendChild(a),function(){setTimeout(function(){const u=Yy();u.contains(a)&&u.removeChild(a),a===n.current&&(n.current=null)})}},[t]),Ke(i=>{const a=n.current;if(a){a.textContent=i;return}},[])}const UJ={separator:"::"};function L2(e,t=UJ){const n=Wt.useId();return vt(()=>`${e}${t.separator}${n}`,[t.separator,e,n])}function FJ({contextId:e,uniqueId:t}){return`rfd-hidden-text-${e}-${t}`}function HJ({contextId:e,text:t}){const n=L2("hidden-text",{separator:"-"}),r=vt(()=>FJ({contextId:e,uniqueId:n}),[n,e]);return w.useEffect(function(){const a=document.createElement("div");return a.id=r,a.textContent=t,a.style.display="none",Yy().appendChild(a),function(){const l=Yy();l.contains(a)&&l.removeChild(a)}},[r,t]),r}var bv=Wt.createContext(null);function F5(e){const t=w.useRef(e);return w.useEffect(()=>{t.current=e}),t}function GJ(){let e=null;function t(){return!!e}function n(o){return o===e}function r(o){e&&De();const l={abandon:o};return e=l,l}function i(){e||De(),e=null}function a(){e&&(e.abandon(),i())}return{isClaimed:t,isActive:n,claim:r,release:i,tryAbandon:a}}function Tm(e){return e.phase==="IDLE"||e.phase==="DROP_ANIMATING"?!1:e.isDragging}const qJ=9,YJ=13,I2=27,H5=32,KJ=33,WJ=34,VJ=35,ZJ=36,XJ=37,JJ=38,QJ=39,eQ=40,tQ={[YJ]:!0,[qJ]:!0};var G5=e=>{tQ[e.keyCode]&&e.preventDefault()};const vv=(()=>{const e="visibilitychange";return typeof document>"u"?e:[e,`ms${e}`,`webkit${e}`,`moz${e}`,`o${e}`].find(r=>`on${r}`in document)||e})(),q5=0,kM=5;function nQ(e,t){return Math.abs(t.x-e.x)>=kM||Math.abs(t.y-e.y)>=kM}const EM={type:"IDLE"};function rQ({cancel:e,completed:t,getPhase:n,setPhase:r}){return[{eventName:"mousemove",fn:i=>{const{button:a,clientX:o,clientY:l}=i;if(a!==q5)return;const u={x:o,y:l},f=n();if(f.type==="DRAGGING"){i.preventDefault(),f.actions.move(u);return}f.type!=="PENDING"&&De();const h=f.point;if(!nQ(h,u))return;i.preventDefault();const p=f.actions.fluidLift(u);r({type:"DRAGGING",actions:p})}},{eventName:"mouseup",fn:i=>{const a=n();if(a.type!=="DRAGGING"){e();return}i.preventDefault(),a.actions.drop({shouldBlockNextClick:!0}),t()}},{eventName:"mousedown",fn:i=>{n().type==="DRAGGING"&&i.preventDefault(),e()}},{eventName:"keydown",fn:i=>{if(n().type==="PENDING"){e();return}if(i.keyCode===I2){i.preventDefault(),e();return}G5(i)}},{eventName:"resize",fn:e},{eventName:"scroll",options:{passive:!0,capture:!1},fn:()=>{n().type==="PENDING"&&e()}},{eventName:"webkitmouseforcedown",fn:i=>{const a=n();if(a.type==="IDLE"&&De(),a.actions.shouldRespectForcePress()){e();return}i.preventDefault()}},{eventName:vv,fn:e}]}function iQ(e){const t=w.useRef(EM),n=w.useRef(El),r=vt(()=>({eventName:"mousedown",fn:function(p){if(p.defaultPrevented||p.button!==q5||p.ctrlKey||p.metaKey||p.shiftKey||p.altKey)return;const g=e.findClosestDraggableId(p);if(!g)return;const x=e.tryGetLock(g,o,{sourceEvent:p});if(!x)return;p.preventDefault();const S={x:p.clientX,y:p.clientY};n.current(),f(x,S)}}),[e]),i=vt(()=>({eventName:"webkitmouseforcewillbegin",fn:h=>{if(h.defaultPrevented)return;const p=e.findClosestDraggableId(h);if(!p)return;const g=e.findOptionsForDraggable(p);g&&(g.shouldRespectForcePress||e.canGetLock(p)&&h.preventDefault())}}),[e]),a=Ke(function(){const p={passive:!1,capture:!0};n.current=oa(window,[i,r],p)},[i,r]),o=Ke(()=>{t.current.type!=="IDLE"&&(t.current=EM,n.current(),a())},[a]),l=Ke(()=>{const h=t.current;o(),h.type==="DRAGGING"&&h.actions.cancel({shouldBlockNextClick:!0}),h.type==="PENDING"&&h.actions.abort()},[o]),u=Ke(function(){const p={capture:!0,passive:!1},g=rQ({cancel:l,completed:o,getPhase:()=>t.current,setPhase:x=>{t.current=x}});n.current=oa(window,g,p)},[l,o]),f=Ke(function(p,g){t.current.type!=="IDLE"&&De(),t.current={type:"PENDING",point:g,actions:p},u()},[u]);$i(function(){return a(),function(){n.current()}},[a])}function aQ(){}const oQ={[WJ]:!0,[KJ]:!0,[ZJ]:!0,[VJ]:!0};function sQ(e,t){function n(){t(),e.cancel()}function r(){t(),e.drop()}return[{eventName:"keydown",fn:i=>{if(i.keyCode===I2){i.preventDefault(),n();return}if(i.keyCode===H5){i.preventDefault(),r();return}if(i.keyCode===eQ){i.preventDefault(),e.moveDown();return}if(i.keyCode===JJ){i.preventDefault(),e.moveUp();return}if(i.keyCode===QJ){i.preventDefault(),e.moveRight();return}if(i.keyCode===XJ){i.preventDefault(),e.moveLeft();return}if(oQ[i.keyCode]){i.preventDefault();return}G5(i)}},{eventName:"mousedown",fn:n},{eventName:"mouseup",fn:n},{eventName:"click",fn:n},{eventName:"touchstart",fn:n},{eventName:"resize",fn:n},{eventName:"wheel",fn:n,options:{passive:!0}},{eventName:vv,fn:n}]}function lQ(e){const t=w.useRef(aQ),n=vt(()=>({eventName:"keydown",fn:function(a){if(a.defaultPrevented||a.keyCode!==H5)return;const o=e.findClosestDraggableId(a);if(!o)return;const l=e.tryGetLock(o,h,{sourceEvent:a});if(!l)return;a.preventDefault();let u=!0;const f=l.snapLift();t.current();function h(){u||De(),u=!1,t.current(),r()}t.current=oa(window,sQ(f,h),{capture:!0,passive:!1})}}),[e]),r=Ke(function(){const a={passive:!1,capture:!0};t.current=oa(window,[n],a)},[n]);$i(function(){return r(),function(){t.current()}},[r])}const Uw={type:"IDLE"},cQ=120,uQ=.15;function dQ({cancel:e,getPhase:t}){return[{eventName:"orientationchange",fn:e},{eventName:"resize",fn:e},{eventName:"contextmenu",fn:n=>{n.preventDefault()}},{eventName:"keydown",fn:n=>{if(t().type!=="DRAGGING"){e();return}n.keyCode===I2&&n.preventDefault(),e()}},{eventName:vv,fn:e}]}function fQ({cancel:e,completed:t,getPhase:n}){return[{eventName:"touchmove",options:{capture:!1},fn:r=>{const i=n();if(i.type!=="DRAGGING"){e();return}i.hasMoved=!0;const{clientX:a,clientY:o}=r.touches[0],l={x:a,y:o};r.preventDefault(),i.actions.move(l)}},{eventName:"touchend",fn:r=>{const i=n();if(i.type!=="DRAGGING"){e();return}r.preventDefault(),i.actions.drop({shouldBlockNextClick:!0}),t()}},{eventName:"touchcancel",fn:r=>{if(n().type!=="DRAGGING"){e();return}r.preventDefault(),e()}},{eventName:"touchforcechange",fn:r=>{const i=n();i.type==="IDLE"&&De();const a=r.touches[0];if(!a||!(a.force>=uQ))return;const l=i.actions.shouldRespectForcePress();if(i.type==="PENDING"){l&&e();return}if(l){if(i.hasMoved){r.preventDefault();return}e();return}r.preventDefault()}},{eventName:vv,fn:e}]}function hQ(e){const t=w.useRef(Uw),n=w.useRef(El),r=Ke(function(){return t.current},[]),i=Ke(function(x){t.current=x},[]),a=vt(()=>({eventName:"touchstart",fn:function(x){if(x.defaultPrevented)return;const S=e.findClosestDraggableId(x);if(!S)return;const _=e.tryGetLock(S,l,{sourceEvent:x});if(!_)return;const k=x.touches[0],{clientX:T,clientY:N}=k,O={x:T,y:N};n.current(),p(_,O)}}),[e]),o=Ke(function(){const x={capture:!0,passive:!1};n.current=oa(window,[a],x)},[a]),l=Ke(()=>{const g=t.current;g.type!=="IDLE"&&(g.type==="PENDING"&&clearTimeout(g.longPressTimerId),i(Uw),n.current(),o())},[o,i]),u=Ke(()=>{const g=t.current;l(),g.type==="DRAGGING"&&g.actions.cancel({shouldBlockNextClick:!0}),g.type==="PENDING"&&g.actions.abort()},[l]),f=Ke(function(){const x={capture:!0,passive:!1},S={cancel:u,completed:l,getPhase:r},_=oa(window,fQ(S),x),k=oa(window,dQ(S),x);n.current=function(){_(),k()}},[u,r,l]),h=Ke(function(){const x=r();x.type!=="PENDING"&&De();const S=x.actions.fluidLift(x.point);i({type:"DRAGGING",actions:S,hasMoved:!1})},[r,i]),p=Ke(function(x,S){r().type!=="IDLE"&&De();const _=setTimeout(h,cQ);i({type:"PENDING",point:S,actions:x,longPressTimerId:_}),f()},[f,r,i,h]);$i(function(){return o(),function(){n.current();const S=r();S.type==="PENDING"&&(clearTimeout(S.longPressTimerId),i(Uw))}},[r,o,i]),$i(function(){return oa(window,[{eventName:"touchmove",fn:()=>{},options:{capture:!1,passive:!1}}])},[])}const mQ=["input","button","textarea","select","option","optgroup","video","audio"];function Y5(e,t){if(t==null)return!1;if(mQ.includes(t.tagName.toLowerCase()))return!0;const r=t.getAttribute("contenteditable");return r==="true"||r===""?!0:t===e?!1:Y5(e,t.parentElement)}function pQ(e,t){const n=t.target;return yv(n)?Y5(e,n):!1}var gQ=e=>za(e.getBoundingClientRect()).center;function yQ(e){return e instanceof U5(e).Element}const bQ=(()=>{const e="matches";return typeof document>"u"?e:[e,"msMatchesSelector","webkitMatchesSelector"].find(r=>r in Element.prototype)||e})();function K5(e,t){return e==null?null:e[bQ](t)?e:K5(e.parentElement,t)}function vQ(e,t){return e.closest?e.closest(t):K5(e,t)}function xQ(e){return`[${Gd.contextId}="${e}"]`}function _Q(e,t){const n=t.target;if(!yQ(n))return null;const r=xQ(e),i=vQ(n,r);return!i||!yv(i)?null:i}function wQ(e,t){const n=_Q(e,t);return n?n.getAttribute(Gd.draggableId):null}function SQ(e,t){const n=`[${Ek.contextId}="${e}"]`,i=z5(document,n).find(a=>a.getAttribute(Ek.id)===t);return!i||!yv(i)?null:i}function kQ(e){e.preventDefault()}function g0({expected:e,phase:t,isLockActive:n,shouldWarn:r}){return!(!n()||e!==t)}function W5({lockAPI:e,store:t,registry:n,draggableId:r}){if(e.isClaimed())return!1;const i=n.draggable.findById(r);return!(!i||!i.options.isEnabled||!L5(t.getState(),r))}function EQ({lockAPI:e,contextId:t,store:n,registry:r,draggableId:i,forceSensorStop:a,sourceEvent:o}){if(!W5({lockAPI:e,store:n,registry:r,draggableId:i}))return null;const u=r.draggable.getById(i),f=SQ(t,u.descriptor.id);if(!f||o&&!u.options.canDragInteractiveElements&&pQ(f,o))return null;const h=e.claim(a||El);let p="PRE_DRAG";function g(){return u.options.shouldRespectForcePress}function x(){return e.isActive(h)}function S(C,D){g0({expected:C,phase:p,isLockActive:x,shouldWarn:!0})&&n.dispatch(D())}const _=S.bind(null,"DRAGGING");function k(C){function D(){e.release(),p="COMPLETED"}p!=="PRE_DRAG"&&(D(),De()),n.dispatch(vX(C.liftActionArgs)),p="DRAGGING";function $(H,q={shouldBlockNextClick:!1}){if(C.cleanup(),q.shouldBlockNextClick){const K=oa(window,[{eventName:"click",fn:kQ,options:{once:!0,passive:!1,capture:!0}}]);setTimeout(K)}D(),n.dispatch(O5({reason:H}))}return{isActive:()=>g0({expected:"DRAGGING",phase:p,isLockActive:x,shouldWarn:!1}),shouldRespectForcePress:g,drop:H=>$("DROP",H),cancel:H=>$("CANCEL",H),...C.actions}}function T(C){const D=_m(H=>{_(()=>T5({client:H}))});return{...k({liftActionArgs:{id:i,clientSelection:C,movementMode:"FLUID"},cleanup:()=>D.cancel(),actions:{move:D}}),move:D}}function N(){const C={moveUp:()=>_(OX),moveRight:()=>_(NX),moveDown:()=>_(jX),moveLeft:()=>_(CX)};return k({liftActionArgs:{id:i,clientSelection:gQ(f),movementMode:"SNAP"},cleanup:El,actions:C})}function O(){g0({expected:"PRE_DRAG",phase:p,isLockActive:x,shouldWarn:!0})&&e.release()}return{isActive:()=>g0({expected:"PRE_DRAG",phase:p,isLockActive:x,shouldWarn:!1}),shouldRespectForcePress:g,fluidLift:T,snapLift:N,abort:O}}const AQ=[iQ,lQ,hQ];function TQ({contextId:e,store:t,registry:n,customSensors:r,enableDefaultSensors:i}){const a=[...i?AQ:[],...r||[]],o=w.useState(()=>GJ())[0],l=Ke(function(k,T){Tm(k)&&!Tm(T)&&o.tryAbandon()},[o]);$i(function(){let k=t.getState();return t.subscribe(()=>{const N=t.getState();l(k,N),k=N})},[o,t,l]),$i(()=>o.tryAbandon,[o.tryAbandon]);const u=Ke(_=>W5({lockAPI:o,registry:n,store:t,draggableId:_}),[o,n,t]),f=Ke((_,k,T)=>EQ({lockAPI:o,registry:n,contextId:e,store:t,draggableId:_,forceSensorStop:k||null,sourceEvent:T&&T.sourceEvent?T.sourceEvent:null}),[e,o,n,t]),h=Ke(_=>wQ(e,_),[e]),p=Ke(_=>{const k=n.draggable.findById(_);return k?k.options:null},[n.draggable]),g=Ke(function(){o.isClaimed()&&(o.tryAbandon(),t.getState().phase!=="IDLE"&&t.dispatch(O2()))},[o,t]),x=Ke(()=>o.isClaimed(),[o]),S=vt(()=>({canGetLock:u,tryGetLock:f,findClosestDraggableId:h,findOptionsForDraggable:p,tryReleaseLock:g,isLockClaimed:x}),[u,f,h,p,g,x]);for(let _=0;_<a.length;_++)a[_](S)}const OQ=e=>({onBeforeCapture:t=>{const n=()=>{e.onBeforeCapture&&e.onBeforeCapture(t)};of.flushSync(n)},onBeforeDragStart:e.onBeforeDragStart,onDragStart:e.onDragStart,onDragEnd:e.onDragEnd,onDragUpdate:e.onDragUpdate}),jQ=e=>({...Am,...e.autoScrollerOptions,durationDampening:{...Am.durationDampening,...e.autoScrollerOptions}});function Dh(e){return e.current||De(),e.current}function NQ(e){const{contextId:t,setCallbacks:n,sensors:r,nonce:i,dragHandleUsageInstructions:a}=e,o=w.useRef(null),l=F5(e),u=Ke(()=>OQ(l.current),[l]),f=Ke(()=>jQ(l.current),[l]),h=zJ(t),p=HJ({contextId:t,text:a}),g=PJ(t,i),x=Ke(K=>{Dh(o).dispatch(K)},[]),S=vt(()=>XC({publishWhileDragging:_X,updateDroppableScroll:SX,updateDroppableIsEnabled:kX,updateDroppableIsCombineEnabled:EX,collectionStarting:wX},x),[x]),_=IJ(),k=vt(()=>dJ(_,S),[_,S]),T=vt(()=>OJ({scrollWindow:fJ,scrollDroppable:k.scrollDroppable,getAutoScrollerOptions:f,...XC({move:T5},x)}),[k.scrollDroppable,x,f]),N=RJ(t),O=vt(()=>sJ({announce:h,autoScroller:T,dimensionMarshal:k,focusMarshal:N,getResponders:u,styleMarshal:g}),[h,T,k,N,u,g]);o.current=O;const P=Ke(()=>{const K=Dh(o);K.getState().phase!=="IDLE"&&K.dispatch(O2())},[]),C=Ke(()=>{const K=Dh(o).getState();return K.phase==="DROP_ANIMATING"?!0:K.phase==="IDLE"?!1:K.isDragging},[]),D=vt(()=>({isDragging:C,tryAbort:P}),[C,P]);n(D);const $=Ke(K=>L5(Dh(o).getState(),K),[]),H=Ke(()=>Ic(Dh(o).getState()),[]),q=vt(()=>({marshal:k,focus:N,contextId:t,canLift:$,isMovementAllowed:H,dragHandleUsageInstructionsId:p,registry:_}),[t,k,p,N,$,H,_]);return TQ({contextId:t,store:O,registry:_,customSensors:r||null,enableDefaultSensors:e.enableDefaultSensors!==!1}),w.useEffect(()=>P,[P]),Wt.createElement(bv.Provider,{value:q},Wt.createElement(e5,{context:R2,store:O},e.children))}function CQ(){return Wt.useId()}function np(e){const t=CQ(),n=e.dragHandleUsageInstructions||yy.dragHandleUsageInstructions;return Wt.createElement(lZ,null,r=>Wt.createElement(NQ,{nonce:e.nonce,contextId:t,setCallbacks:r,dragHandleUsageInstructions:n,enableDefaultSensors:e.enableDefaultSensors,sensors:e.sensors,onBeforeCapture:e.onBeforeCapture,onBeforeDragStart:e.onBeforeDragStart,onDragStart:e.onDragStart,onDragUpdate:e.onDragUpdate,onDragEnd:e.onDragEnd,autoScrollerOptions:e.autoScrollerOptions},e.children))}const AM={dragging:5e3,dropAnimating:4500},MQ=(e,t)=>t?um.drop(t.duration):e?um.snap:um.fluid,PQ=(e,t)=>{if(e)return t?Em.opacity.drop:Em.opacity.combining},DQ=e=>e.forceShouldAnimate!=null?e.forceShouldAnimate:e.mode==="SNAP";function RQ(e){const n=e.dimension.client,{offset:r,combineWith:i,dropping:a}=e,o=!!i,l=DQ(e),u=!!a,f=u?Sk.drop(r,o):Sk.moveTo(r);return{position:"fixed",top:n.marginBox.top,left:n.marginBox.left,boxSizing:"border-box",width:n.borderBox.width,height:n.borderBox.height,transition:MQ(l,a),transform:f,opacity:PQ(o,u),zIndex:u?AM.dropAnimating:AM.dragging,pointerEvents:"none"}}function LQ(e){return{transform:Sk.moveTo(e.offset),transition:e.shouldAnimateDisplacement?void 0:"none"}}function IQ(e){return e.type==="DRAGGING"?RQ(e):LQ(e)}function $Q(e,t,n=lr){const r=window.getComputedStyle(t),i=t.getBoundingClientRect(),a=t5(i,r),o=Uy(a,n),l={client:a,tagName:t.tagName.toLowerCase(),display:r.display},u={x:a.marginBox.width,y:a.marginBox.height};return{descriptor:e,placeholder:l,displaceBy:u,client:a,page:o}}function BQ(e){const t=L2("draggable"),{descriptor:n,registry:r,getDraggableRef:i,canDragInteractiveElements:a,shouldRespectForcePress:o,isEnabled:l}=e,u=vt(()=>({canDragInteractiveElements:a,shouldRespectForcePress:o,isEnabled:l}),[a,l,o]),f=Ke(x=>{const S=i();return S||De(),$Q(n,S,x)},[n,i]),h=vt(()=>({uniqueId:t,descriptor:n,options:u,getDimension:f}),[n,f,u,t]),p=w.useRef(h),g=w.useRef(!0);$i(()=>(r.draggable.register(p.current),()=>r.draggable.unregister(p.current)),[r.draggable]),$i(()=>{if(g.current){g.current=!1;return}const x=p.current;p.current=h,r.draggable.update(h,x)},[h,r.draggable])}var $2=Wt.createContext(null);function Ky(e){const t=w.useContext(e);return t||De(),t}function zQ(e){e.preventDefault()}const UQ=e=>{const t=w.useRef(null),n=Ke((D=null)=>{t.current=D},[]),r=Ke(()=>t.current,[]),{contextId:i,dragHandleUsageInstructionsId:a,registry:o}=Ky(bv),{type:l,droppableId:u}=Ky($2),f=vt(()=>({id:e.draggableId,index:e.index,type:l,droppableId:u}),[e.draggableId,e.index,l,u]),{children:h,draggableId:p,isEnabled:g,shouldRespectForcePress:x,canDragInteractiveElements:S,isClone:_,mapped:k,dropAnimationFinished:T}=e;if(!_){const D=vt(()=>({descriptor:f,registry:o,getDraggableRef:r,canDragInteractiveElements:S,shouldRespectForcePress:x,isEnabled:g}),[f,o,r,S,x,g]);BQ(D)}const N=vt(()=>g?{tabIndex:0,role:"button","aria-describedby":a,"data-rfd-drag-handle-draggable-id":p,"data-rfd-drag-handle-context-id":i,draggable:!1,onDragStart:zQ}:null,[i,a,p,g]),O=Ke(D=>{k.type==="DRAGGING"&&k.dropping&&D.propertyName==="transform"&&of.flushSync(T)},[T,k]),P=vt(()=>{const D=IQ(k),$=k.type==="DRAGGING"&&k.dropping?O:void 0;return{innerRef:n,draggableProps:{"data-rfd-draggable-context-id":i,"data-rfd-draggable-id":p,style:D,onTransitionEnd:$},dragHandleProps:N}},[i,N,p,k,O,n]),C=vt(()=>({draggableId:f.id,type:f.type,source:{index:f.index,droppableId:f.droppableId}}),[f.droppableId,f.id,f.index,f.type]);return Wt.createElement(Wt.Fragment,null,h(P,k.snapshot,C))};var V5=(e,t)=>e===t,Z5=e=>{const{combine:t,destination:n}=e;return n?n.droppableId:t?t.droppableId:null};const FQ=e=>e.combine?e.combine.draggableId:null,HQ=e=>e.at&&e.at.type==="COMBINE"?e.at.combine.draggableId:null;function GQ(){const e=sr((i,a)=>({x:i,y:a})),t=sr((i,a,o=null,l=null,u=null)=>({isDragging:!0,isClone:a,isDropAnimating:!!u,dropAnimation:u,mode:i,draggingOver:o,combineWith:l,combineTargetFor:null})),n=sr((i,a,o,l,u=null,f=null,h=null)=>({mapped:{type:"DRAGGING",dropping:null,draggingOver:u,combineWith:f,mode:a,offset:i,dimension:o,forceShouldAnimate:h,snapshot:t(a,l,u,f,null)}}));return(i,a)=>{if(Tm(i)){if(i.critical.draggable.id!==a.draggableId)return null;const o=i.current.client.offset,l=i.dimensions.draggables[a.draggableId],u=Ii(i.impact),f=HQ(i.impact),h=i.forceShouldAnimate;return n(e(o.x,o.y),i.movementMode,l,a.isClone,u,f,h)}if(i.phase==="DROP_ANIMATING"){const o=i.completed;if(o.result.draggableId!==a.draggableId)return null;const l=a.isClone,u=i.dimensions.draggables[a.draggableId],f=o.result,h=f.mode,p=Z5(f),g=FQ(f),S={duration:i.dropDuration,curve:N2.drop,moveTo:i.newHomeClientOffset,opacity:g?Em.opacity.drop:null,scale:g?Em.scale.drop:null};return{mapped:{type:"DRAGGING",offset:i.newHomeClientOffset,dimension:u,dropping:S,draggingOver:p,combineWith:g,mode:h,forceShouldAnimate:null,snapshot:t(h,l,p,g,S)}}}return null}}function X5(e=null){return{isDragging:!1,isDropAnimating:!1,isClone:!1,dropAnimation:null,mode:null,draggingOver:null,combineTargetFor:e,combineWith:null}}const qQ={mapped:{type:"SECONDARY",offset:lr,combineTargetFor:null,shouldAnimateDisplacement:!0,snapshot:X5(null)}};function YQ(){const e=sr((o,l)=>({x:o,y:l})),t=sr(X5),n=sr((o,l=null,u)=>({mapped:{type:"SECONDARY",offset:o,combineTargetFor:l,shouldAnimateDisplacement:u,snapshot:t(l)}})),r=o=>o?n(lr,o,!0):null,i=(o,l,u,f)=>{const h=u.displaced.visible[o],p=!!(f.inVirtualList&&f.effected[o]),g=mv(u),x=g&&g.draggableId===o?l:null;if(!h){if(!p)return r(x);if(u.displaced.invisible[o])return null;const k=cf(f.displacedBy.point),T=e(k.x,k.y);return n(T,x,!0)}if(p)return r(x);const S=u.displacedBy.point,_=e(S.x,S.y);return n(_,x,h.shouldAnimate)};return(o,l)=>{if(Tm(o))return o.critical.draggable.id===l.draggableId?null:i(l.draggableId,o.critical.draggable.id,o.impact,o.afterCritical);if(o.phase==="DROP_ANIMATING"){const u=o.completed;return u.result.draggableId===l.draggableId?null:i(l.draggableId,u.result.draggableId,u.impact,u.afterCritical)}return null}}const KQ=()=>{const e=GQ(),t=YQ();return(r,i)=>e(r,i)||t(r,i)||qQ},WQ={dropAnimationFinished:j5},VQ=QB(KQ,WQ,null,{context:R2,areStatePropsEqual:V5})(UQ);function J5(e){return Ky($2).isUsingCloneFor===e.draggableId&&!e.isClone?null:Wt.createElement(VQ,e)}function ff(e){const t=typeof e.isDragDisabled=="boolean"?!e.isDragDisabled:!0,n=!!e.disableInteractiveElementBlocking,r=!!e.shouldRespectForcePress;return Wt.createElement(J5,Fy({},e,{isClone:!1,isEnabled:t,canDragInteractiveElements:n,shouldRespectForcePress:r}))}const Q5=e=>t=>e===t,ZQ=Q5("scroll"),XQ=Q5("auto"),TM=(e,t)=>t(e.overflowX)||t(e.overflowY),JQ=e=>{const t=window.getComputedStyle(e),n={overflowX:t.overflowX,overflowY:t.overflowY};return TM(n,ZQ)||TM(n,XQ)},QQ=()=>!1,e4=e=>e==null?null:e===document.body?QQ()?e:null:e===document.documentElement?null:JQ(e)?e:e4(e.parentElement);var Ak=e=>({x:e.scrollLeft,y:e.scrollTop});const t4=e=>e?window.getComputedStyle(e).position==="fixed"?!0:t4(e.parentElement):!1;var eee=e=>{const t=e4(e),n=t4(e);return{closestScrollable:t,isFixedOnPage:n}},tee=({descriptor:e,isEnabled:t,isCombineEnabled:n,isFixedOnPage:r,direction:i,client:a,page:o,closest:l})=>{const u=(()=>{if(!l)return null;const{scrollSize:g,client:x}=l,S=P5({scrollHeight:g.scrollHeight,scrollWidth:g.scrollWidth,height:x.paddingBox.height,width:x.paddingBox.width});return{pageMarginBox:l.page.marginBox,frameClient:x,scrollSize:g,shouldClipSubject:l.shouldClipSubject,scroll:{initial:l.scroll,current:l.scroll,max:S,diff:{value:lr,displacement:lr}}}})(),f=i==="vertical"?S2:f5,h=Fd({page:o,withPlaceholder:null,axis:f,frame:u});return{descriptor:e,isCombineEnabled:n,isFixedOnPage:r,axis:f,isEnabled:t,client:a,page:o,frame:u,subject:h}};const nee=(e,t)=>{const n=n5(e);if(!t||e!==t)return n;const r=n.paddingBox.top-t.scrollTop,i=n.paddingBox.left-t.scrollLeft,a=r+t.scrollHeight,o=i+t.scrollWidth,u=v2({top:r,right:o,bottom:a,left:i},n.border);return x2({borderBox:u,margin:n.margin,border:n.border,padding:n.padding})};var ree=({ref:e,descriptor:t,env:n,windowScroll:r,direction:i,isDropDisabled:a,isCombineEnabled:o,shouldClipSubject:l})=>{const u=n.closestScrollable,f=nee(e,u),h=Uy(f,r),p=(()=>{if(!u)return null;const x=n5(u),S={scrollHeight:u.scrollHeight,scrollWidth:u.scrollWidth};return{client:x,page:Uy(x,r),scroll:Ak(u),scrollSize:S,shouldClipSubject:l}})();return tee({descriptor:t,isEnabled:!a,isCombineEnabled:o,isFixedOnPage:n.isFixedOnPage,direction:i,client:f,page:h,closest:p})};const iee={passive:!1},aee={passive:!0};var OM=e=>e.shouldPublishImmediately?iee:aee;const y0=e=>e&&e.env.closestScrollable||null;function oee(e){const t=w.useRef(null),n=Ky(bv),r=L2("droppable"),{registry:i,marshal:a}=n,o=F5(e),l=vt(()=>({id:e.droppableId,type:e.type,mode:e.mode}),[e.droppableId,e.mode,e.type]),u=w.useRef(l),f=vt(()=>sr((P,C)=>{t.current||De();const D={x:P,y:C};a.updateDroppableScroll(l.id,D)}),[l.id,a]),h=Ke(()=>{const P=t.current;return!P||!P.env.closestScrollable?lr:Ak(P.env.closestScrollable)},[]),p=Ke(()=>{const P=h();f(P.x,P.y)},[h,f]),g=vt(()=>_m(p),[p]),x=Ke(()=>{const P=t.current,C=y0(P);if(P&&C||De(),P.scrollOptions.shouldPublishImmediately){p();return}g()},[g,p]),S=Ke((P,C)=>{t.current&&De();const D=o.current,$=D.getDroppableRef();$||De();const H=eee($),q={ref:$,descriptor:l,env:H,scrollOptions:C};t.current=q;const K=ree({ref:$,descriptor:l,env:H,windowScroll:P,direction:D.direction,isDropDisabled:D.isDropDisabled,isCombineEnabled:D.isCombineEnabled,shouldClipSubject:!D.ignoreContainerClipping}),U=H.closestScrollable;return U&&(U.setAttribute(wM.contextId,n.contextId),U.addEventListener("scroll",x,OM(q.scrollOptions))),K},[n.contextId,l,x,o]),_=Ke(()=>{const P=t.current,C=y0(P);return P&&C||De(),Ak(C)},[]),k=Ke(()=>{const P=t.current;P||De();const C=y0(P);t.current=null,C&&(g.cancel(),C.removeAttribute(wM.contextId),C.removeEventListener("scroll",x,OM(P.scrollOptions)))},[x,g]),T=Ke(P=>{const C=t.current;C||De();const D=y0(C);D||De(),D.scrollTop+=P.y,D.scrollLeft+=P.x},[]),N=vt(()=>({getDimensionAndWatchScroll:S,getScrollWhileDragging:_,dragStopped:k,scroll:T}),[k,S,_,T]),O=vt(()=>({uniqueId:r,descriptor:l,callbacks:N}),[N,l,r]);$i(()=>(u.current=O.descriptor,i.droppable.register(O),()=>{t.current&&k(),i.droppable.unregister(O)}),[N,l,k,O,a,i.droppable]),$i(()=>{t.current&&a.updateDroppableIsEnabled(u.current.id,!e.isDropDisabled)},[e.isDropDisabled,a]),$i(()=>{t.current&&a.updateDroppableIsCombineEnabled(u.current.id,e.isCombineEnabled)},[e.isCombineEnabled,a])}function Fw(){}const jM={width:0,height:0,margin:pZ},see=({isAnimatingOpenOnMount:e,placeholder:t,animate:n})=>e||n==="close"?jM:{height:t.client.borderBox.height,width:t.client.borderBox.width,margin:t.client.margin},lee=({isAnimatingOpenOnMount:e,placeholder:t,animate:n})=>{const r=see({isAnimatingOpenOnMount:e,placeholder:t,animate:n});return{display:t.display,boxSizing:"border-box",width:r.width,height:r.height,marginTop:r.margin.top,marginRight:r.margin.right,marginBottom:r.margin.bottom,marginLeft:r.margin.left,flexShrink:"0",flexGrow:"0",pointerEvents:"none",transition:n!=="none"?um.placeholder:null}},cee=e=>{const t=w.useRef(null),n=Ke(()=>{t.current&&(clearTimeout(t.current),t.current=null)},[]),{animate:r,onTransitionEnd:i,onClose:a,contextId:o}=e,[l,u]=w.useState(e.animate==="open");w.useEffect(()=>l?r!=="open"?(n(),u(!1),Fw):t.current?Fw:(t.current=setTimeout(()=>{t.current=null,u(!1)}),n):Fw,[r,l,n]);const f=Ke(p=>{p.propertyName==="height"&&(i(),r==="close"&&a())},[r,a,i]),h=lee({isAnimatingOpenOnMount:l,animate:e.animate,placeholder:e.placeholder});return Wt.createElement(e.placeholder.tagName,{style:h,"data-rfd-placeholder-context-id":o,onTransitionEnd:f,ref:e.innerRef})};var uee=Wt.memo(cee);class dee extends Wt.PureComponent{constructor(...t){super(...t),this.state={isVisible:!!this.props.on,data:this.props.on,animate:this.props.shouldAnimate&&this.props.on?"open":"none"},this.onClose=()=>{this.state.animate==="close"&&this.setState({isVisible:!1})}}static getDerivedStateFromProps(t,n){return t.shouldAnimate?t.on?{isVisible:!0,data:t.on,animate:"open"}:n.isVisible?{isVisible:!0,data:n.data,animate:"close"}:{isVisible:!1,animate:"close",data:null}:{isVisible:!!t.on,data:t.on,animate:"none"}}render(){if(!this.state.isVisible)return null;const t={onClose:this.onClose,data:this.state.data,animate:this.state.animate};return this.props.children(t)}}const fee=e=>{const t=w.useContext(bv);t||De();const{contextId:n,isMovementAllowed:r}=t,i=w.useRef(null),a=w.useRef(null),{children:o,droppableId:l,type:u,mode:f,direction:h,ignoreContainerClipping:p,isDropDisabled:g,isCombineEnabled:x,snapshot:S,useClone:_,updateViewportMaxScroll:k,getContainerForClone:T}=e,N=Ke(()=>i.current,[]),O=Ke((U=null)=>{i.current=U},[]);Ke(()=>a.current,[]);const P=Ke((U=null)=>{a.current=U},[]),C=Ke(()=>{r()&&k({maxScroll:R5()})},[r,k]);oee({droppableId:l,type:u,mode:f,direction:h,isDropDisabled:g,isCombineEnabled:x,ignoreContainerClipping:p,getDroppableRef:N});const D=vt(()=>Wt.createElement(dee,{on:e.placeholder,shouldAnimate:e.shouldAnimatePlaceholder},({onClose:U,data:z,animate:V})=>Wt.createElement(uee,{placeholder:z,onClose:U,innerRef:P,animate:V,contextId:n,onTransitionEnd:C})),[n,C,e.placeholder,e.shouldAnimatePlaceholder,P]),$=vt(()=>({innerRef:O,placeholder:D,droppableProps:{"data-rfd-droppable-id":l,"data-rfd-droppable-context-id":n}}),[n,l,D,O]),H=_?_.dragging.draggableId:null,q=vt(()=>({droppableId:l,type:u,isUsingCloneFor:H}),[l,H,u]);function K(){if(!_)return null;const{dragging:U,render:z}=_,V=Wt.createElement(J5,{draggableId:U.draggableId,index:U.source.index,isClone:!0,isEnabled:!0,shouldRespectForcePress:!1,canDragInteractiveElements:!0},(J,Q)=>z(J,Q,U));return QG.createPortal(V,T())}return Wt.createElement($2.Provider,{value:q},o($,S),K())};function hee(){return document.body||De(),document.body}const NM={mode:"standard",type:"DEFAULT",direction:"vertical",isDropDisabled:!1,isCombineEnabled:!1,ignoreContainerClipping:!1,renderClone:null,getContainerForClone:hee},n4=e=>{let t={...e},n;for(n in NM)e[n]===void 0&&(t={...t,[n]:NM[n]});return t},Hw=(e,t)=>e===t.droppable.type,CM=(e,t)=>t.draggables[e.draggable.id],mee=()=>{const e={placeholder:null,shouldAnimatePlaceholder:!0,snapshot:{isDraggingOver:!1,draggingOverWith:null,draggingFromThisWith:null,isUsingPlaceholder:!1},useClone:null},t={...e,shouldAnimatePlaceholder:!1},n=sr(a=>({draggableId:a.id,type:a.type,source:{index:a.index,droppableId:a.droppableId}})),r=sr((a,o,l,u,f,h)=>{const p=f.descriptor.id;if(f.descriptor.droppableId===a){const S=h?{render:h,dragging:n(f.descriptor)}:null,_={isDraggingOver:l,draggingOverWith:l?p:null,draggingFromThisWith:p,isUsingPlaceholder:!0};return{placeholder:f.placeholder,shouldAnimatePlaceholder:!1,snapshot:_,useClone:S}}if(!o)return t;if(!u)return e;const x={isDraggingOver:l,draggingOverWith:p,draggingFromThisWith:null,isUsingPlaceholder:!0};return{placeholder:f.placeholder,shouldAnimatePlaceholder:!0,snapshot:x,useClone:null}});return(a,o)=>{const l=n4(o),u=l.droppableId,f=l.type,h=!l.isDropDisabled,p=l.renderClone;if(Tm(a)){const g=a.critical;if(!Hw(f,g))return t;const x=CM(g,a.dimensions),S=Ii(a.impact)===u;return r(u,h,S,S,x,p)}if(a.phase==="DROP_ANIMATING"){const g=a.completed;if(!Hw(f,g.critical))return t;const x=CM(g.critical,a.dimensions);return r(u,h,Z5(g.result)===u,Ii(g.impact)===u,x,p)}if(a.phase==="IDLE"&&a.completed&&!a.shouldFlush){const g=a.completed;if(!Hw(f,g.critical))return t;const x=Ii(g.impact)===u,S=!!(g.impact.at&&g.impact.at.type==="COMBINE"),_=g.critical.droppable.id===u;return x?S?e:t:_?e:t}return t}},pee={updateViewportMaxScroll:TX},hf=QB(mee,pee,(e,t,n)=>({...n4(n),...e,...t}),{context:R2,areStatePropsEqual:V5})(fee),gee={1948:{start:new Date(1948,4,1),end:new Date(1948,7,13)},1949:{start:new Date(1949,2,3),end:new Date(1949,7,11)},1950:{start:new Date(1950,2,1),end:new Date(1950,7,10)},1951:{start:new Date(1951,3,6),end:new Date(1951,7,9)},1955:{start:new Date(1955,3,5),end:new Date(1955,7,9)},1956:{start:new Date(1956,3,20),end:new Date(1956,7,30)},1957:{start:new Date(1957,3,5),end:new Date(1957,7,22)},1958:{start:new Date(1958,3,4),end:new Date(1958,7,21)},1959:{start:new Date(1959,3,3),end:new Date(1959,7,20)},1960:{start:new Date(1960,3,1),end:new Date(1960,7,18)},1987:{start:new Date(1987,3,10),end:new Date(1987,8,11)},1988:{start:new Date(1988,3,8),end:new Date(1988,8,9)}};function Wy(e,t,n){const r=gee[e];if(!r)return!1;const i=new Date(e,t-1,n,0,0,0,0);return i>=r.start&&i<r.end}function yee(e){if(!isFinite(e.getTime()))return 0;const t=e.getUTCFullYear(),n=Date.UTC(t,0,1),i=Math.floor((e.getTime()-n)/864e5)+1,a=e.getUTCHours(),o=e.getUTCMinutes(),l=e.getUTCSeconds(),u=(a-12)/24+o/1440+l/86400,f=2*Math.PI/365*(i-1+u);return 229.18*(75e-6+.001868*Math.cos(f)-.032077*Math.sin(f)-.014615*Math.cos(2*f)-.040849*Math.sin(2*f))}function bee(e){return e=(e+540)%360-180,e>=124&&e<=132||e>=129&&e<=146?135:e>=73&&e<=135?120:e>=-161&&e<=-154?-150:e>=-170&&e<-161?-165:e>=-150&&e<-141?-135:e>=-141&&e<-126?-120:e>=-126&&e<-111?-105:e>=-111&&e<-96?-90:e>=-96&&e<-81?-75:Math.round(e/15)*15}function rp(e,t,n=!1){const r=new Date(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),0,0);if(n)return new Date(r.getTime()-1800*1e3);if(t==null||!isFinite(t))return r;let i=t;Math.abs(i)<=Math.PI+1e-6&&(i=i*180/Math.PI),i=(i+540)%360-180;const a=bee(i),o=4*(i-a),l=yee(r);return new Date(r.getTime()+(o+l)*60*1e3)}function r4(e){return e.replace(/\D/g,"")}function vee(e,t,n){if(!Number.isFinite(e)||!Number.isFinite(t)||!Number.isFinite(n)||e<1800||e>2200||t<1||t>12||n<1||n>31)return!1;const r=new Date(e,t-1,n);return r.getFullYear()===e&&r.getMonth()+1===t&&r.getDate()===n}function xee(e,t){return!(!Number.isFinite(e)||!Number.isFinite(t)||e<0||e>23||t<0||t>59)}function ip(e){const t=r4(e.trim());if(t.length!==8)return null;const n=Number(t.slice(0,4)),r=Number(t.slice(4,6)),i=Number(t.slice(6,8));return vee(n,r,i)?{y:n,m:r,d:i}:null}function xv(e){const t=e.trim();if(!t||t==="")return null;const n=r4(t);if(n.length!==4)return null;const r=Number(n.slice(0,2)),i=Number(n.slice(2,4));return xee(r,i)?{hh:r,mm:i}:null}function _v(e){const t=e.trim(),n=ip(t);if(!n)return t;const r=String(n.y).padStart(4,"0"),i=String(n.m).padStart(2,"0"),a=String(n.d).padStart(2,"0");return`${r}${i}${a}`}function wv(e){const t=e.trim();if(t==="")return"";const n=xv(t);if(!n)return t;const r=String(n.hh).padStart(2,"0"),i=String(n.mm).padStart(2,"0");return`${r}${i}`}var by={exports:{}},_ee=by.exports,MM;function wee(){return MM||(MM=1,(function(e,t){(function(n,r){e.exports=r()})(_ee,function(){return(function(n){function r(a){if(i[a])return i[a].exports;var o=i[a]={i:a,l:!1,exports:{}};return n[a].call(o.exports,o,o.exports,r),o.l=!0,o.exports}var i={};return r.m=n,r.c=i,r.d=function(a,o,l){r.o(a,o)||Object.defineProperty(a,o,{configurable:!1,enumerable:!0,get:l})},r.n=function(a){var o=a&&a.__esModule?function(){return a.default}:function(){return a};return r.d(o,"a",o),o},r.o=function(a,o){return Object.prototype.hasOwnProperty.call(a,o)},r.p="",r(r.s=0)})([function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var a=i(1),o=(function(l){return l&&l.__esModule?l:{default:l}})(a);r.default=o.default,n.exports=r.default},function(n,r,i){function a(V){return V&&V.__esModule?V:{default:V}}Object.defineProperty(r,"__esModule",{value:!0});var o=i(2),l=a(o),u=i(3),f=a(u),h=i(4),p=a(h),g=i(5),x=a(g),S=i(6),_=a(S),k=i(7),T=a(k),N=i(8),O=a(N),P=i(9),C=a(P),D=i(10),$=a(D),H=i(11),q=a(H),K=i(12),U=a(K),z={lunarInfo:l.default,solarMonth:f.default,gan:p.default,zhi:x.default,animals:_.default,lunarTerm:T.default,lTermInfo:O.default,nStr1:C.default,nStr2:$.default,nStr3:q.default,nStr4:U.default,lYearDays:function(V){var J,Q=348;for(J=32768;J>8;J>>=1)Q+=z.lunarInfo[V-1900]&J?1:0;return Q+z.leapDays(V)},leapMonth:function(V){return 15&z.lunarInfo[V-1900]},leapDays:function(V){return z.leapMonth(V)?65536&z.lunarInfo[V-1900]?30:29:0},monthDays:function(V,J){return J>12||J<1?-1:z.lunarInfo[V-1900]&65536>>J?30:29},solarDays:function(V,J){if(J>12||J<1)return-1;var Q=J-1;return Q==1?V%4==0&&V%100!=0||V%400==0?29:28:z.solarMonth[Q]},toGanZhi:function(V){return z.gan[V%10]+z.zhi[V%12]},getTerm:function(V,J){if(V<1900||V>2100||J<1||J>24)return-1;var Q=z.lTermInfo[V-1900],Y=[parseInt("0x"+Q.substr(0,5)).toString(),parseInt("0x"+Q.substr(5,5)).toString(),parseInt("0x"+Q.substr(10,5)).toString(),parseInt("0x"+Q.substr(15,5)).toString(),parseInt("0x"+Q.substr(20,5)).toString(),parseInt("0x"+Q.substr(25,5)).toString()],Z=[Y[0].substr(0,1),Y[0].substr(1,2),Y[0].substr(3,1),Y[0].substr(4,2),Y[1].substr(0,1),Y[1].substr(1,2),Y[1].substr(3,1),Y[1].substr(4,2),Y[2].substr(0,1),Y[2].substr(1,2),Y[2].substr(3,1),Y[2].substr(4,2),Y[3].substr(0,1),Y[3].substr(1,2),Y[3].substr(3,1),Y[3].substr(4,2),Y[4].substr(0,1),Y[4].substr(1,2),Y[4].substr(3,1),Y[4].substr(4,2),Y[5].substr(0,1),Y[5].substr(1,2),Y[5].substr(3,1),Y[5].substr(4,2)];return parseInt(Z[J-1])},toChinaYear:function(V){var J=parseInt(V/1e3),Q=parseInt(V%1e3/100),Y=parseInt(V%100/10),Z=V%10;return z.nStr4[J]+z.nStr4[Q]+z.nStr4[Y]+z.nStr4[Z]+""},toChinaMonth:function(V){if(V>12||V<1)return-1;var J=z.nStr3[V-1];return J+=""},toChinaDay:function(V){var J;switch(V){case 10:J="";break;case 20:J="";break;case 30:J="";break;default:J=z.nStr2[Math.floor(V/10)],J+=z.nStr1[V%10]}return J},getAnimal:function(V){return z.animals[(V-4)%12]},solar2lunar:function(ue,se,B){if(ue<1900||ue>2100||ue==1900&&se==1&&B<31)return-1;if(ue)var Y=new Date(ue,parseInt(se)-1,B);else var Y=new Date;var Z,be=0,re=0,ue=Y.getFullYear(),se=Y.getMonth()+1,B=Y.getDate(),W=(Date.UTC(Y.getFullYear(),Y.getMonth(),Y.getDate())-Date.UTC(1900,0,31))/864e5;for(Z=1900;Z<2101&&W>0;Z++)re=z.lYearDays(Z),W-=re;W<0&&(W+=re,Z--);var ae=new Date,X=!1;ae.getFullYear()==ue&&ae.getMonth()+1==se&&ae.getDate()==B&&(X=!0);var oe=Y.getDay(),me=z.nStr1[oe];oe==0&&(oe=7);var pe=Z,be=z.leapMonth(Z),ne=!1;for(Z=1;Z<13&&W>0;Z++)be>0&&Z==be+1&&ne==0?(--Z,ne=!0,re=z.leapDays(pe)):re=z.monthDays(pe,Z),ne==1&&Z==be+1&&(ne=!1),W-=re;W==0&&be>0&&Z==be+1&&(ne?ne=!1:(ne=!0,--Z)),W<0&&(W+=re,--Z);var Oe=Z,Ce=W+1,ve=se-1,Ze=z.getTerm(ue,3),Ne=z.toGanZhi(ue-4),_e=new Date(ue,1,Ze).getTime();new Date(ue,ve,B).getTime()<_e&&(Ne=z.toGanZhi(ue-5));var je=z.getTerm(ue,2*se-1),Ie=z.getTerm(ue,2*se),Ve=z.toGanZhi(12*(ue-1900)+se+11);B>=je&&(Ve=z.toGanZhi(12*(ue-1900)+se+12));var bt=!1,xt="";je==B&&(bt=!0,xt=z.lunarTerm[2*se-2]),Ie==B&&(bt=!0,xt=z.lunarTerm[2*se-1]);var Pt=Date.UTC(ue,ve,1,0,0,0,0)/864e5+25567+10,fe=z.toGanZhi(Pt+B-1);return{lYear:pe,lMonth:Oe,lDay:Ce,animal:z.getAnimal(pe),yearCn:z.toChinaYear(pe),monthCn:(ne&&be===Oe?"":"")+z.toChinaMonth(Oe),dayCn:z.toChinaDay(Ce),cYear:ue,cMonth:se,cDay:B,gzYear:Ne,gzMonth:Ve,gzDay:fe,isToday:X,isLeap:ne,nWeek:oe,ncWeek:""+me,isTerm:bt,term:xt}},lunar2solar:function(V,J,Q,Y){var Z=z.leapMonth(V);if(z.leapDays(V),Y&&Z!=J||V==2100&&J==12&&Q>1||V==1900&&J==1&&Q<31)return-1;var re=z.monthDays(V,J);if(V<1900||V>2100||Q>re)return-1;for(var ue=0,se=1900;se<V;se++)ue+=z.lYearDays(se);for(var B=0,W=!1,se=1;se<J;se++)B=z.leapMonth(V),W||B<=se&&B>0&&(ue+=z.leapDays(V),W=!0),ue+=z.monthDays(V,se);Y&&(ue+=re);var ae=Date.UTC(1900,1,30,0,0,0),X=new Date(864e5*(ue+Q-31)+ae),oe=X.getUTCFullYear(),me=X.getUTCMonth()+1,pe=X.getUTCDate();return z.solar2lunar(oe,me,pe)}};r.default=z,n.exports=r.default},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.default=[19416,19168,42352,21717,53856,55632,91476,22176,39632,21970,19168,42422,42192,53840,119381,46400,54944,44450,38320,84343,18800,42160,46261,27216,27968,109396,11104,38256,21234,18800,25958,54432,59984,28309,23248,11104,100067,37600,116951,51536,54432,120998,46416,22176,107956,9680,37584,53938,43344,46423,27808,46416,86869,19872,42416,83315,21168,43432,59728,27296,44710,43856,19296,43748,42352,21088,62051,55632,23383,22176,38608,19925,19152,42192,54484,53840,54616,46400,46752,103846,38320,18864,43380,42160,45690,27216,27968,44870,43872,38256,19189,18800,25776,29859,59984,27480,23232,43872,38613,37600,51552,55636,54432,55888,30034,22176,43959,9680,37584,51893,43344,46240,47780,44368,21977,19360,42416,86390,21168,43312,31060,27296,44368,23378,19296,42726,42208,53856,60005,54576,23200,30371,38608,19195,19152,42192,118966,53840,54560,56645,46496,22224,21938,18864,42359,42160,43600,111189,27936,44448,84835,37744,18936,18800,25776,92326,59984,27424,108228,43744,37600,53987,51552,54615,54432,55888,23893,22176,42704,21972,21200,43448,43344,46240,46758,44368,21920,43940,42416,21168,45683,26928,29495,27296,44368,84821,19296,42352,21732,53600,59752,54560,55968,92838,22224,19168,43476,42192,53584,62034,54560],n.exports=r.default},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.default=[31,28,31,30,31,30,31,31,30,31,30,31],n.exports=r.default},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.default=["","","","","","","","","",""],n.exports=r.default},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.default=["","","","","","","","","","","",""],n.exports=r.default},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.default=["","","","","","","","","","","",""],n.exports=r.default},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.default=["","","","","","","","","","","","","","","","","","","","","","","",""],n.exports=r.default},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.default=["9778397bd097c36b0b6fc9274c91aa","97b6b97bd19801ec9210c965cc920e","97bcf97c3598082c95f8c965cc920f","97bd0b06bdb0722c965ce1cfcc920f","b027097bd097c36b0b6fc9274c91aa","97b6b97bd19801ec9210c965cc920e","97bcf97c359801ec95f8c965cc920f","97bd0b06bdb0722c965ce1cfcc920f","b027097bd097c36b0b6fc9274c91aa","97b6b97bd19801ec9210c965cc920e","97bcf97c359801ec95f8c965cc920f","97bd0b06bdb0722c965ce1cfcc920f","b027097bd097c36b0b6fc9274c91aa","9778397bd19801ec9210c965cc920e","97b6b97bd19801ec95f8c965cc920f","97bd09801d98082c95f8e1cfcc920f","97bd097bd097c36b0b6fc9210c8dc2","9778397bd197c36c9210c9274c91aa","97b6b97bd19801ec95f8c965cc920e","97bd09801d98082c95f8e1cfcc920f","97bd097bd097c36b0b6fc9210c8dc2","9778397bd097c36c9210c9274c91aa","97b6b97bd19801ec95f8c965cc920e","97bcf97c3598082c95f8e1cfcc920f","97bd097bd097c36b0b6fc9210c8dc2","9778397bd097c36c9210c9274c91aa","97b6b97bd19801ec9210c965cc920e","97bcf97c3598082c95f8c965cc920f","97bd097bd097c35b0b6fc920fb0722","9778397bd097c36b0b6fc9274c91aa","97b6b97bd19801ec9210c965cc920e","97bcf97c3598082c95f8c965cc920f","97bd097bd097c35b0b6fc920fb0722","9778397bd097c36b0b6fc9274c91aa","97b6b97bd19801ec9210c965cc920e","97bcf97c359801ec95f8c965cc920f","97bd097bd097c35b0b6fc920fb0722","9778397bd097c36b0b6fc9274c91aa","97b6b97bd19801ec9210c965cc920e","97bcf97c359801ec95f8c965cc920f","97bd097bd097c35b0b6fc920fb0722","9778397bd097c36b0b6fc9274c91aa","97b6b97bd19801ec9210c965cc920e","97bcf97c359801ec95f8c965cc920f","97bd097bd07f595b0b6fc920fb0722","9778397bd097c36b0b6fc9210c8dc2","9778397bd19801ec9210c9274c920e","97b6b97bd19801ec95f8c965cc920f","97bd07f5307f595b0b0bc920fb0722","7f0e397bd097c36b0b6fc9210c8dc2","9778397bd097c36c9210c9274c920e","97b6b97bd19801ec95f8c965cc920f","97bd07f5307f595b0b0bc920fb0722","7f0e397bd097c36b0b6fc9210c8dc2","9778397bd097c36c9210c9274c91aa","97b6b97bd19801ec9210c965cc920e","97bd07f1487f595b0b0bc920fb0722","7f0e397bd097c36b0b6fc9210c8dc2","9778397bd097c36b0b6fc9274c91aa","97b6b97bd19801ec9210c965cc920e","97bcf7f1487f595b0b0bb0b6fb0722","7f0e397bd097c35b0b6fc920fb0722","9778397bd097c36b0b6fc9274c91aa","97b6b97bd19801ec9210c965cc920e","97bcf7f1487f595b0b0bb0b6fb0722","7f0e397bd097c35b0b6fc920fb0722","9778397bd097c36b0b6fc9274c91aa","97b6b97bd19801ec9210c965cc920e","97bcf7f1487f531b0b0bb0b6fb0722","7f0e397bd097c35b0b6fc920fb0722","9778397bd097c36b0b6fc9274c91aa","97b6b97bd19801ec9210c965cc920e","97bcf7f1487f531b0b0bb0b6fb0722","7f0e397bd07f595b0b6fc920fb0722","9778397bd097c36b0b6fc9274c91aa","97b6b97bd19801ec9210c9274c920e","97bcf7f0e47f531b0b0bb0b6fb0722","7f0e397bd07f595b0b0bc920fb0722","9778397bd097c36b0b6fc9210c91aa","97b6b97bd197c36c9210c9274c920e","97bcf7f0e47f531b0b0bb0b6fb0722","7f0e397bd07f595b0b0bc920fb0722","9778397bd097c36b0b6fc9210c8dc2","9778397bd097c36c9210c9274c920e","97b6b7f0e47f531b0723b0b6fb0722","7f0e37f5307f595b0b0bc920fb0722","7f0e397bd097c36b0b6fc9210c8dc2","9778397bd097c36b0b70c9274c91aa","97b6b7f0e47f531b0723b0b6fb0721","7f0e37f1487f595b0b0bb0b6fb0722","7f0e397bd097c35b0b6fc9210c8dc2","9778397bd097c36b0b6fc9274c91aa","97b6b7f0e47f531b0723b0b6fb0721","7f0e27f1487f595b0b0bb0b6fb0722","7f0e397bd097c35b0b6fc920fb0722","9778397bd097c36b0b6fc9274c91aa","97b6b7f0e47f531b0723b0b6fb0721","7f0e27f1487f531b0b0bb0b6fb0722","7f0e397bd097c35b0b6fc920fb0722","9778397bd097c36b0b6fc9274c91aa","97b6b7f0e47f531b0723b0b6fb0721","7f0e27f1487f531b0b0bb0b6fb0722","7f0e397bd097c35b0b6fc920fb0722","9778397bd097c36b0b6fc9274c91aa","97b6b7f0e47f531b0723b0b6fb0721","7f0e27f1487f531b0b0bb0b6fb0722","7f0e397bd07f595b0b0bc920fb0722","9778397bd097c36b0b6fc9274c91aa","97b6b7f0e47f531b0723b0787b0721","7f0e27f0e47f531b0b0bb0b6fb0722","7f0e397bd07f595b0b0bc920fb0722","9778397bd097c36b0b6fc9210c91aa","97b6b7f0e47f149b0723b0787b0721","7f0e27f0e47f531b0723b0b6fb0722","7f0e397bd07f595b0b0bc920fb0722","9778397bd097c36b0b6fc9210c8dc2","977837f0e37f149b0723b0787b0721","7f07e7f0e47f531b0723b0b6fb0722","7f0e37f5307f595b0b0bc920fb0722","7f0e397bd097c35b0b6fc9210c8dc2","977837f0e37f14998082b0787b0721","7f07e7f0e47f531b0723b0b6fb0721","7f0e37f1487f595b0b0bb0b6fb0722","7f0e397bd097c35b0b6fc9210c8dc2","977837f0e37f14998082b0787b06bd","7f07e7f0e47f531b0723b0b6fb0721","7f0e27f1487f531b0b0bb0b6fb0722","7f0e397bd097c35b0b6fc920fb0722","977837f0e37f14998082b0787b06bd","7f07e7f0e47f531b0723b0b6fb0721","7f0e27f1487f531b0b0bb0b6fb0722","7f0e397bd097c35b0b6fc920fb0722","977837f0e37f14998082b0787b06bd","7f07e7f0e47f531b0723b0b6fb0721","7f0e27f1487f531b0b0bb0b6fb0722","7f0e397bd07f595b0b0bc920fb0722","977837f0e37f14998082b0787b06bd","7f07e7f0e47f531b0723b0b6fb0721","7f0e27f1487f531b0b0bb0b6fb0722","7f0e397bd07f595b0b0bc920fb0722","977837f0e37f14998082b0787b06bd","7f07e7f0e47f149b0723b0787b0721","7f0e27f0e47f531b0b0bb0b6fb0722","7f0e397bd07f595b0b0bc920fb0722","977837f0e37f14998082b0723b06bd","7f07e7f0e37f149b0723b0787b0721","7f0e27f0e47f531b0723b0b6fb0722","7f0e397bd07f595b0b0bc920fb0722","977837f0e37f14898082b0723b02d5","7ec967f0e37f14998082b0787b0721","7f07e7f0e47f531b0723b0b6fb0722","7f0e37f1487f595b0b0bb0b6fb0722","7f0e37f0e37f14898082b0723b02d5","7ec967f0e37f14998082b0787b0721","7f07e7f0e47f531b0723b0b6fb0722","7f0e37f1487f531b0b0bb0b6fb0722","7f0e37f0e37f14898082b0723b02d5","7ec967f0e37f14998082b0787b06bd","7f07e7f0e47f531b0723b0b6fb0721","7f0e37f1487f531b0b0bb0b6fb0722","7f0e37f0e37f14898082b072297c35","7ec967f0e37f14998082b0787b06bd","7f07e7f0e47f531b0723b0b6fb0721","7f0e27f1487f531b0b0bb0b6fb0722","7f0e37f0e37f14898082b072297c35","7ec967f0e37f14998082b0787b06bd","7f07e7f0e47f531b0723b0b6fb0721","7f0e27f1487f531b0b0bb0b6fb0722","7f0e37f0e366aa89801eb072297c35","7ec967f0e37f14998082b0787b06bd","7f07e7f0e47f149b0723b0787b0721","7f0e27f1487f531b0b0bb0b6fb0722","7f0e37f0e366aa89801eb072297c35","7ec967f0e37f14998082b0723b06bd","7f07e7f0e47f149b0723b0787b0721","7f0e27f0e47f531b0723b0b6fb0722","7f0e37f0e366aa89801eb072297c35","7ec967f0e37f14998082b0723b06bd","7f07e7f0e37f14998083b0787b0721","7f0e27f0e47f531b0723b0b6fb0722","7f0e37f0e366aa89801eb072297c35","7ec967f0e37f14898082b0723b02d5","7f07e7f0e37f14998082b0787b0721","7f07e7f0e47f531b0723b0b6fb0722","7f0e36665b66aa89801e9808297c35","665f67f0e37f14898082b0723b02d5","7ec967f0e37f14998082b0787b0721","7f07e7f0e47f531b0723b0b6fb0722","7f0e36665b66a449801e9808297c35","665f67f0e37f14898082b0723b02d5","7ec967f0e37f14998082b0787b06bd","7f07e7f0e47f531b0723b0b6fb0721","7f0e36665b66a449801e9808297c35","665f67f0e37f14898082b072297c35","7ec967f0e37f14998082b0787b06bd","7f07e7f0e47f531b0723b0b6fb0721","7f0e26665b66a449801e9808297c35","665f67f0e37f1489801eb072297c35","7ec967f0e37f14998082b0787b06bd","7f07e7f0e47f531b0723b0b6fb0721","7f0e27f1487f531b0b0bb0b6fb0722"],n.exports=r.default},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.default=["","","","","","","","","","",""],n.exports=r.default},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.default=["","","",""],n.exports=r.default},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.default=["","","","","","","","","","","",""],n.exports=r.default},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.default=["","","","","","","","","","",""],n.exports=r.default}])})})(by)),by.exports}var i4=wee();const See=fi(i4),kee=WE({__proto__:null,default:See},[i4]);function B2(e){return typeof e=="object"&&e!==null}function Eee(e){return B2(e)&&"default"in e}function Aee(e){return B2(e)&&typeof e.lunar2solar=="function"}function Tee(e){if(!B2(e))throw new Error("Invalid lunar2solar result");const t=e.cYear,n=e.cMonth,r=e.cDay,i=e.isLeap;if(typeof t!="number"||typeof n!="number"||typeof r!="number")throw new Error("Invalid lunar2solar fields");return{cYear:t,cMonth:n,cDay:r,isLeap:typeof i=="boolean"?i:void 0}}function Oee(e){const t=Eee(e)?e.default:e;if(!Aee(t))throw new Error("solarlunar.lunar2solar not found");return{lunar2solar:(r,i,a,o)=>{const l=t.lunar2solar(r,i,a,o);return Tee(l)}}}const jee=Oee(kee);function Hi(e,t,n,r=4,i=0){const a=jee.lunar2solar(e,t,n,!1);return new Date(a.cYear,a.cMonth-1,a.cDay,r,i)}const PM=e=>e<10?`0${e}`:`${e}`;function ap(e){if(e.calendarType!=="lunar")return e;const t=ip(e.birthDay??"");if(!t)return e;try{const n=Hi(t.y,t.m,t.d,0,0),r=n.getFullYear(),i=n.getMonth()+1,a=n.getDate();return{...e,birthDay:`${r}${PM(i)}${PM(a)}`,calendarType:"solar"}}catch{return e}}function z2(e){const t=e.mingSikType??"/",n=ip(e.birthDay??"");if(!n){const P=e.corrected instanceof Date?e.corrected:new Date(NaN),C=typeof e.ganji=="string"?e.ganji:"",D=typeof e.ganjiText=="string"?e.ganjiText:C,$=typeof e.dayStem=="string"?e.dayStem:"";return{corrected:P,correctedLocal:typeof e.correctedLocal=="string"?e.correctedLocal:"",ganji:C,ganjiText:D,dayStem:$}}let r=n.y,i=n.m,a=n.d;if(e.calendarType==="lunar")try{const P=Hi(r,i,a,0,0);r=P.getFullYear(),i=P.getMonth()+1,a=P.getDate()}catch{}const o=xv(e.birthTime??""),l=!e.birthTime||e.birthTime===""||!o,u=l?4:o.hh,f=l?30:o.mm,h=!e.birthPlace||e.birthPlace.name===""||e.birthPlace.lon===0?127.5:e.birthPlace.lon,p=new Date(r,i-1,a,u,f,0,0),g=!e.birthPlace||typeof e.birthPlace=="object"&&e.birthPlace.name==="",x=rp(p,h,g),S=l?"":x.toLocaleTimeString("ko-KR",{hour:"2-digit",minute:"2-digit",hour12:!1}),_=at(x,h),k=Et(x,h),T=gt(x,t),N=l?null:Fa(x,t),O=[` : ${_} ${k} ${T}`,N?`${N}`:null].filter(Boolean).join(" ");return{corrected:x,correctedLocal:S,ganji:O,ganjiText:O,dayStem:T.charAt(0)}}function DM(e,t){return e instanceof Date&&!Number.isNaN(e.getTime())?e:t}function op(e){return(typeof e=="string"?e.trim():"")===""?"":""}function RM(e){if(typeof e!="string")return null;const t=e.match(/\s*:\s*(.)/);return t?t[1]:null}function Nee(e){const t=RM(e.ganjiText)??RM(e.ganji);if(!t)return"forward";const r=["","","","",""].includes(t),i=op(e.gender)==="";return r?i?"forward":"backward":i?"backward":"forward"}function Om(e){const t={...e,birthDay:_v(e.birthDay??""),birthTime:e.birthTime===""?"":wv(e.birthTime??""),gender:op(e.gender),dateObj:DM(e.dateObj,new Date),corrected:DM(e.corrected,new Date(NaN)),correctedLocal:typeof e.correctedLocal=="string"?e.correctedLocal:"",ganjiText:typeof e.ganjiText=="string"?e.ganjiText:"",ganji:typeof e.ganji=="string"?e.ganji:"",dayStem:typeof e.dayStem=="string"?e.dayStem:"",calendarType:e.calendarType==="lunar"?"lunar":"solar",dir:e.dir==="backward"?"backward":"forward"},n=z2(t),r={...t,...n};return{...r,dir:Nee(r)}}function Cee(e){return e===""||e==="/"||e===""?e:"/"}function Mee(e){return e==="lunar"?"lunar":"solar"}function Pee(e,t){if(t||!e||e.name==="")return{name:"",lat:0,lon:127.5};const n=Number.isFinite(e.lat)?e.lat:0,r=Number.isFinite(e.lon)?e.lon:127.5;return{name:typeof e.name=="string"&&e.name.trim()?e.name.trim():"",lat:n,lon:r}}function Dee(e,t){const n=typeof e=="string"?e.trim():"";return n?{ok:!0,value:n}:t?{ok:!1,message:" ."}:{ok:!0,value:""}}function U2(e,t){const r=_v(typeof e=="string"?e:""),i=ip(r);if(!i)return{ok:!1,message:"(YYYYMMDD)  ."};if(i.y<1900||i.y>2100)return{ok:!1,message:"(YYYY) 1900~2100  ."};if(t==="solar"){const a=new Date(i.y,i.m-1,i.d);if(a.getFullYear()!==i.y||a.getMonth()+1!==i.m||a.getDate()!==i.d)return{ok:!1,message:"  ."}}else try{Hi(i.y,i.m,i.d,0,0)}catch{return{ok:!1,message:"      ."}}return{ok:!0,value:r}}function F2(e,t){if(t)return{ok:!0,value:""};const r=wv(typeof e=="string"?e:"");return xv(r)?{ok:!0,value:r}:{ok:!1,message:"  HHmm  ."}}function a4(e,t){const n=t?.requireName??!1,r=Dee(e.name,n);if(!r.ok)return r;const i=Mee(e.calendarType),a=U2(e.birthDay,i);if(!a.ok)return a;const o=F2(e.birthTime,e.unknownTime);if(!o.ok)return o;const l=Cee(e.mingSikType),u={id:e.id,name:r.value,birthDay:a.value,birthTime:o.value,gender:op(e.gender),sortOrder:e.sortOrder,birthPlace:Pee(e.birthPlace,e.unknownPlace),relationship:e.relationship??"",memo:e.memo??"",folder:e.folder,mingSikType:l,DayChangeRule:l===""?"":"",favorite:e.favorite??!1,deletedAt:e.deletedAt??null,dateObj:e.dateObj??new Date,corrected:new Date(NaN),correctedLocal:"",dayStem:"",ganjiText:"",ganji:"",calendarType:i,dir:"forward"};return{ok:!0,value:Om(u)}}function jl(e){const t=ap(e),n=ip(t.birthDay??"");if(!n)throw new Error(`Invalid date: ${e.birthDay}`);const r=xv(t.birthTime??""),i=r?r.hh:0,a=r?r.mm:0,o=new Date(n.y,n.m-1,n.d,i,a,0,0);if(Number.isNaN(o.getTime()))throw new Error(`Invalid date: ${e.birthDay} ${e.birthTime}`);const l=!t.birthPlace||typeof t.birthPlace=="object"&&t.birthPlace.name==="",u=t.birthPlace?.lon??127.5;return rp(o,u,l)}function Ree(e){return typeof e=="object"&&e!==null&&!Array.isArray(e)}function qc(e){return[...e].sort((t,n)=>{const r=typeof t.sortOrder=="number"&&Number.isFinite(t.sortOrder)?t.sortOrder:-1,i=typeof n.sortOrder=="number"&&Number.isFinite(n.sortOrder)?n.sortOrder:-1;if(r!==i)return r-i;const a=(t.name??"").toString(),o=(n.name??"").toString(),l=a.localeCompare(o);return l!==0?l:t.id.localeCompare(n.id)})}function Tk(e){if(!Ree(e))return null;const t=typeof e.id=="string"?e.id:null,n=typeof e.user_id=="string"?e.user_id:null;if(!t||!n)return null;const r=o=>typeof o=="number"&&Number.isFinite(o)?o:null,i=o=>typeof o=="string"?o:null,a=o=>typeof o=="boolean"?o:null;return{id:t,user_id:n,name:i(e.name),birth_day:i(e.birth_day),birth_time:i(e.birth_time),gender:i(e.gender),birth_place_name:i(e.birth_place_name),birth_place_lat:r(e.birth_place_lat),birth_place_lon:r(e.birth_place_lon),relationship:i(e.relationship),memo:i(e.memo),folder:i(e.folder),ming_sik_type:i(e.ming_sik_type),day_change_rule:i(e.day_change_rule),calendar_type:i(e.calendar_type),favorite:a(e.favorite),sort_order:typeof e.sort_order=="string"||typeof e.sort_order=="number"?e.sort_order:null,created_at:i(e.created_at),deleted_at:i(e.deleted_at),updated_at:i(e.updated_at)}}function o4(e){const t={name:e.birth_place_name??"",lat:e.birth_place_lat??0,lon:e.birth_place_lon??127.5},n=e.sort_order===null||e.sort_order===void 0?void 0:Number(e.sort_order),r=typeof n=="number"&&Number.isFinite(n)?n:void 0,i={id:e.id,name:e.name??"",birthDay:_v(e.birth_day??""),birthTime:wv(e.birth_time??""),gender:op(e.gender),birthPlace:t,relationship:e.relationship??"",memo:e.memo??"",folder:e.folder??"",mingSikType:["","/",""].includes(e.ming_sik_type)?e.ming_sik_type:"",DayChangeRule:e.day_change_rule===""||e.day_change_rule===""?e.day_change_rule:"",favorite:e.favorite??!1,deletedAt:e.deleted_at??null,sortOrder:r,dateObj:new Date,corrected:new Date(NaN),correctedLocal:"",dayStem:"",ganjiText:"",ganji:"",calendarType:e.calendar_type==="lunar"?"lunar":"solar",dir:"forward"};return Om(i)}function Lee(e,t){const n=typeof e.folder=="string"?e.folder.trim():"",r=typeof e.sortOrder=="number"&&Number.isFinite(e.sortOrder)?e.sortOrder:null;return{id:e.id,user_id:t,sort_order:r,folder:n||null,favorite:!!e.favorite,updated_at:new Date().toISOString()}}function LM(e,t){const n=_v(e.birthDay??""),r=wv(e.birthTime??""),i=e.birthPlace??{name:"",lat:0,lon:127.5},a=typeof e.sortOrder=="number"&&Number.isFinite(e.sortOrder)?e.sortOrder:null;return{id:e.id,user_id:t,name:e.name??null,birth_day:n||null,birth_time:r||null,gender:op(e.gender),birth_place_name:i.name??null,birth_place_lat:typeof i.lat=="number"?i.lat:null,birth_place_lon:typeof i.lon=="number"?i.lon:null,relationship:e.relationship??null,memo:e.memo??null,folder:typeof e.folder=="string"?e.folder:null,ming_sik_type:e.mingSikType??null,day_change_rule:e.DayChangeRule??null,calendar_type:e.calendarType??"solar",favorite:e.favorite??!1,deleted_at:e.deletedAt??null,sort_order:a,updated_at:new Date().toISOString()}}const Ok="hm_session_started_at_ms",Iee=7200*1e3;function s4(){return typeof window>"u"?null:window.localStorage}function $ee(){const e=s4();if(!e)return Date.now();const t=e.getItem(Ok),n=t?Number(t):NaN;if(Number.isFinite(n))return n;const r=Date.now();return e.setItem(Ok,String(r)),r}function Bee(e=Date.now()){const t=s4();if(t)try{t.setItem(Ok,String(e))}catch{}}function zee(e=Date.now()){const t=$ee();return e-t>=Iee}const b0="myeongsik-list";function Uee(e){try{return JSON.parse(e)}catch{return null}}async function Fee(e){if(typeof window>"u")return;const t=window.localStorage.getItem(b0);if(!t)return;const n=Uee(t);if(!n){window.localStorage.removeItem(b0);return}const r=n.state??{},i=Array.isArray(r.list)?r.list:[];if(i.length===0){window.localStorage.removeItem(b0);return}const a=await e.getUser();if(!a)return;const o=await e.fetchRows(a.id),l=new Set(o.map(f=>f.id)),u=i.filter(f=>!!f&&typeof f.id=="string"&&f.id.trim()!==""&&!l.has(f.id));for(const f of u)await e.upsertOne(a.id,f);window.localStorage.removeItem(b0)}const Hee=250;function Gee(e){return e.map(t=>{const n=typeof t.folder=="string"?t.folder.trim():"",r=typeof t.sortOrder=="number"&&Number.isFinite(t.sortOrder)?t.sortOrder:"",i=t.favorite?1:0;return`${t.id}:${r}:${n}:${i}`}).join("|")}function qee(e){if(typeof window>"u")return;const t=window,n="__hm_reorder_flush_installed__";t[n]!==!0&&(t[n]=!0,window.addEventListener("beforeunload",()=>e()),document.addEventListener("visibilitychange",()=>{document.visibilityState==="hidden"&&e()}))}function Yee(e){let t=null,n=null,r=!1,i="";async function a(){if(!r){r=!0;try{for(;n;){const l=n;if(n=null,l.key&&l.key===i){l.resolve();continue}const u=await e.getUser();if(!u){console.warn("reorder flush skipped: no user"),l.resolve();continue}await e.upsertOrderPatch(u.id,l.list),i=l.key,l.resolve()}}finally{r=!1}}}qee(()=>{a()});function o(l,u){const f=Gee(l);if(f&&f===i&&!n)return Promise.resolve();if(n)n.key=f,n.list=l;else{let h;const p=new Promise(g=>{h=g});n={key:f,list:l,promise:p,resolve:h}}return typeof window>"u"?(a(),n.promise):(t&&window.clearTimeout(t),u?.immediate?a():t=window.setTimeout(()=>{t=null,a()},Hee),n.promise)}return{queue:o,flushNow:a}}const si="__UNASSIGNED__",Kee=[" ",""],Pd=e=>typeof e=="string"?e.trim():"",Wee=e=>Kee.includes(e);function _d(e,t){const n=[],r=[];for(const i of e){const a=Pd(i);a&&(t[a]?n.push(a):r.push(a))}return[...n,...r]}function H2(e,t){const n=new Set(t.map(o=>Pd(o)).filter(o=>o!=="")),r=new Set,i=Object.create(null),a=(o,l)=>{i[o]||(i[o]=[]),i[o].push(l)};for(const o of e){const l=String(o.id??"");if(!l||r.has(l))continue;r.add(l);const u=Pd(o.folder),f=!u||Wee(u)?si:n.has(u)?u:si;a(f,o)}i[si]||(i[si]=[]);for(const o of t){const l=Pd(o);l&&(i[l]||(i[l]=[]))}return i}function l4(e,t){const n=[];for(const i of t){const a=Pd(i);if(!a)continue;const o=e[a];Array.isArray(o)&&n.push(...o)}const r=e[si];return Array.isArray(r)&&r.length&&n.push(...r),n}function Vee(e){const{list:t,orderedFolders:n,source:r,destination:i}=e,a=H2(t,n),o=r.droppableId===si?si:r.droppableId,l=i.droppableId===si?si:i.droppableId,u=[...a[o]??[]],f=o===l?u:[...a[l]??[]],h=u[r.index];if(!h)return{nextList:t,changedIds:[]};u.splice(r.index,1);const p=Math.max(0,Math.min(i.index,f.length));o===l?u.splice(p,0,h):f.splice(p,0,h);const g=String(h.id),x=new Set([g]),S={...h,folder:l===si?"":l};return a[o]=u,a[l]=o===l?u:f,a[l]=(a[l]??[]).map(_=>String(_.id)===g?S:_),{nextList:l4(a,n),changedIds:Array.from(x)}}function Zee(e){const{list:t,targetId:n,orderedFolders:r}=e,i=H2(t,r);let a=null,o=null;const l=[...r.map(x=>Pd(x)),si].filter(Boolean);for(const x of l){const S=i[x]??[],_=S.findIndex(k=>String(k.id)===n);if(_>=0){a=x,o=S[_]??null;break}}if(!a||!o)return{nextList:t,nextItem:null};const u=[...i[a]??[]],f=u.findIndex(x=>String(x.id)===n);if(f<0)return{nextList:t,nextItem:null};const h=u[f],p=!h.favorite,g={...h,favorite:p};return u.splice(f,1),p?u.unshift(g):u.push(g),i[a]=u,{nextList:l4(i,r),nextItem:g}}function Xee(e){const{list:t,folderName:n}=e,r=n.trim();if(!r)return{nextList:t,changedIds:[]};const i=[];return{nextList:t.map(o=>(o.folder??"").trim()!==r?o:(i.push(String(o.id)),{...o,folder:""})),changedIds:i}}function c4(e){return e.trim().length>0}const Rh=e=>e.toLowerCase().replace(/\s+/g," ").trim(),Jee=e=>e.replace(/\D/g,""),Qee=e=>{const t=typeof e.birthDay=="string"?e.birthDay:"",n=Jee(t);if(n.length!==8)return t?[t]:[];const r=n.slice(0,4),i=n.slice(4,6),a=n.slice(6,8);return[n,`${r}-${i}-${a}`,`${r}.${i}.${a}`,`${r}/${i}/${a}`,`${r}${i}${a}`]},ete=e=>{const t=[],n=typeof e.ganji=="string"?e.ganji:"",r=typeof e.ganjiText=="string"?e.ganjiText:"",i=typeof e.dayStem=="string"?e.dayStem:"";return n&&t.push(n),r&&t.push(r),i&&t.push(i),t},tte=e=>{const t=[],n=typeof e.memo=="string"?e.memo:"",r=typeof e.relationship=="string"?e.relationship:"",i=e.birthPlace&&typeof e.birthPlace=="object"&&typeof e.birthPlace.name=="string"?e.birthPlace.name:"";return n&&t.push(n),r&&t.push(r),i&&t.push(i),t},IM=(e,t,n)=>{const r=Rh(t);if(!r)return!0;const i=Rh(typeof e.name=="string"?e.name:""),a=Qee(e).map(Rh),o=ete(e).map(Rh),l=tte(e).map(Rh),u=h=>h.includes(r),f=h=>h.some(u);switch(n){case"name":return u(i);case"birth":return f(a);case"ganji":return f(o);case"memo":return f(l);case"all":default:return u(i)||f(a)||f(o)||f(l)}};function nte(e){const{search:t,searchMode:n,orderedFolders:r,grouped:i,unassignedItems:a}=e;if(!c4(t)){const f={};for(const h of r){const p=typeof h=="string"?h.trim():"";p&&(f[p]=i[p]??[])}return{filteredGrouped:f,filteredUnassigned:a??[],totalMatches:(a?.length??0)+r.reduce((h,p)=>h+(i[p]?.length??0),0)}}const o={};let l=0;for(const f of r){const h=typeof f=="string"?f.trim():"";if(!h)continue;const g=(i[h]??[]).filter(x=>IM(x,t,n));o[h]=g,l+=g.length}const u=(a??[]).filter(f=>IM(f,t,n));return l+=u.length,{filteredGrouped:o,filteredUnassigned:u,totalMatches:l}}function rte(e){return"source"in e&&"destination"in e?e:{orderedFolders:e.orderedFolders,source:{droppableId:(e.sourceFolder??si).toString(),index:e.sourceIndex},destination:{droppableId:(e.destinationFolder??si).toString(),index:e.destinationIndex}}}function ite(e,t){const n=String(t.eventType??""),r=Tk(t.new),i=Tk(t.old),a=r??i;if(!a)return e;if(n==="DELETE"||a.deleted_at)return e.filter(f=>f.id!==a.id);const o=o4(a),u=e.some(f=>f.id===o.id)?e.map(f=>f.id===o.id?o:f):[...e,o];return qc(u)}async function ate(e){if(!e)return;const t=Me;if(typeof t.removeChannel=="function"){await t.removeChannel(e);return}if(typeof t.removeSubscription=="function"){await t.removeSubscription(e);return}}function ote(){return["id","user_id","name","birth_day","birth_time","gender","birth_place_name","birth_place_lat","birth_place_lon","relationship","memo","folder","ming_sik_type","day_change_rule","calendar_type","favorite","deleted_at","created_at","updated_at","sort_order"].join(", ")}function ste(){return{async getUser(){const{data:e,error:t}=await Me.auth.getUser();return t||!e.user?null:{id:e.user.id}},async fetchRows(e){const{data:t,error:n}=await Me.from("myeongsik").select(ote()).eq("user_id",e).is("deleted_at",null).order("sort_order",{ascending:!0,nullsFirst:!0}).order("created_at",{ascending:!1});return n||!t?[]:(Array.isArray(t)?t:[]).map(i=>Tk(i)).filter(i=>i!==null).filter(i=>i.user_id===e)},async upsertOne(e,t){const n=LM(t,e),{error:r}=await Me.from("myeongsik").upsert(n,{onConflict:"id"});r&&console.error("myeongsik upsert error:",r)},async updateOne(e,t,n){const r=LM(n,e),{error:i}=await Me.from("myeongsik").update(r).eq("id",t);i&&console.error("myeongsik update error:",i)},async softDelete(e){const t=new Date().toISOString(),{error:n}=await Me.from("myeongsik").update({deleted_at:t}).eq("id",e);n&&console.error("myeongsik softDelete error:",n)},async upsertOrderPatch(e,t){const n=t.map(i=>Lee(i,e)),{error:r}=await Me.from("myeongsik").upsert(n,{onConflict:"id"});r&&console.error("myeongsik orderPatch upsert error:",r)},async subscribe(e,t,n){const r=Me.channel(`myeongsik:${e}`).on("postgres_changes",{event:"*",schema:"public",table:"myeongsik",filter:`user_id=eq.${e}`},a=>{typeof a!="object"||a===null||t(a)}).subscribe(a=>{n&&n(String(a))});return{async unsubscribe(){await ate(r)}}}}}function lte(e){return e.trim().toLowerCase().replace(/\s+/g,"").replace(/-/g,"_")}function wd(e){if(!e)return"FREE";const t=lte(e);return t==="free"?"FREE":t==="basic"?"BASIC":t==="pro"?"PRO":t==="prompt_hidden"||t==="prompt_hide"||t==="hidden"||t==="hide"||t==="prompt_locked"||t==="prompt_lock"||t==="locked"||t==="lock"?"FREE":t==="prompt_full"||t==="full"?"PRO":t==="ms_all"||t==="msall"||t==="basic_3"||t==="basic3"||t==="basic_5"||t==="basic5"||t==="basic_10"||t==="basic10"?"BASIC":t==="pro_select"||t==="proselect"?"PRO":"FREE"}function Vy(e){switch(e){case"FREE":return{maxMyeongsik:1,canManageMyeongsik:!0,canUseLuckTabs:!0,canUseMultiMode:!0,canUseAllPrompts:!1,canUseAdvancedReport:!1,canRemoveAds:!1};case"BASIC":return{maxMyeongsik:9999,canManageMyeongsik:!0,canUseLuckTabs:!0,canUseMultiMode:!0,canUseAllPrompts:!0,canUseAdvancedReport:!0,canRemoveAds:!1};case"PRO":return{maxMyeongsik:null,canManageMyeongsik:!0,canUseLuckTabs:!0,canUseMultiMode:!0,canUseAllPrompts:!0,canUseAdvancedReport:!0,canRemoveAds:!0}}}const v0={plan:"FREE",maxMyeongsik:1,canManageMyeongsik:!0,canUseLuckTabs:!0,canUseMultiMode:!0,canUseAllPrompts:!1,canUseAdvancedReport:!1,canRemoveAds:!1,canUseMyoViewer:!1,startsAt:null,expiresAt:null};function cte(e,t){if(typeof e=="number"&&Number.isFinite(e))return Math.floor(e);if(typeof e=="string"&&e.trim()!==""){const n=Number(e);return Number.isFinite(n)?Math.floor(n):t}return t}function $M(e){if(typeof e!="string"||e.trim()==="")return null;const t=new Date(e);return Number.isNaN(t.getTime())?null:t}function BM(e,t,n=Date.now()){return!(e&&e.getTime()>n||t&&t.getTime()<=n)}function ute(e){return e?e.can_use_myo_viewer===!0:!1}async function dte(e){const{data:t,error:n}=await Me.from("user_entitlements").select("plan,max_myeongsik,starts_at,expires_at,can_use_myo_viewer").eq("user_id",e).maybeSingle();return n?null:t??null}const on=Rl((e,t)=>({loaded:!1,loading:!1,userId:null,...v0,reset:()=>{e({loaded:!1,loading:!1,userId:null,...v0})},loadFromServer:async n=>{const r=t();if(!r.loading&&!(!n?.force&&r.loaded)){e({loading:!0});try{const{data:i,error:a}=await Me.auth.getUser();if(a){e({loaded:!0,userId:null,...v0});return}const o=i.user?.id??null;if(!o){e({loaded:!0,userId:null,...v0});return}const l=t();if(!n?.force&&l.loaded&&l.userId===o)return;const u=await dte(o);if(!u){const N=Vy("FREE");e({loaded:!0,userId:o,plan:"FREE",maxMyeongsik:N.maxMyeongsik===null?9999:N.maxMyeongsik,canManageMyeongsik:N.canManageMyeongsik,canUseLuckTabs:N.canUseLuckTabs,canUseMultiMode:N.canUseMultiMode,canUseAllPrompts:N.canUseAllPrompts,canUseAdvancedReport:N.canUseAdvancedReport,canRemoveAds:N.canRemoveAds,canUseMyoViewer:!1,startsAt:null,expiresAt:null});return}const f=$M(u.starts_at??null),h=$M(u.expires_at??null),p=BM(f,h),g=wd(u.plan??null),x=p?g:"FREE",S=Vy(x),_=S.maxMyeongsik===null?9999:S.maxMyeongsik,k=cte(u.max_myeongsik,_),T=Math.max(1,Math.max(k,_));e({loaded:!0,userId:o,plan:x,maxMyeongsik:T,canManageMyeongsik:S.canManageMyeongsik,canUseLuckTabs:S.canUseLuckTabs,canUseMultiMode:S.canUseMultiMode,canUseAllPrompts:S.canUseAllPrompts,canUseAdvancedReport:S.canUseAdvancedReport,canRemoveAds:S.canRemoveAds,canUseMyoViewer:ute(u),startsAt:f,expiresAt:h})}finally{e({loading:!1})}}},isActiveNow:()=>{const{startsAt:n,expiresAt:r}=t();return BM(n,r)},getRemainingMs:n=>{if(!n)return null;const r=n.getTime()-Date.now();return r>0?r:0},formatRemaining:n=>{const r=Math.floor(n/1e3),i=r%60,a=Math.floor(r/60),o=a%60,l=Math.floor(a/60),u=l%24,f=Math.floor(l/24),h=[];return f>0&&h.push(`${f}`),u>0&&h.push(`${u}`),f===0&&o>0&&h.push(`${o}`),h.length===0&&h.push(`${i}`),h.join(" ")},canAddMyeongsik:()=>({ok:!0}),canManageNow:()=>{const n=t();return n.loaded&&n.isActiveNow()&&n.canManageMyeongsik},canUseLuckTabsNow:()=>{const n=t();return n.loaded&&n.isActiveNow()&&n.canUseLuckTabs},canUseMultiModeNow:()=>{const n=t();return n.loaded&&n.isActiveNow()&&n.canUseMultiMode},canUseAllPromptsNow:()=>{const n=t();return n.loaded&&n.isActiveNow()&&n.canUseAllPrompts},canUseAdvancedReportNow:()=>{const n=t();return n.loaded&&n.isActiveNow()&&n.canUseAdvancedReport},shouldShowAdsNow:()=>{const n=t();return!n.loaded||!n.isActiveNow()?!0:!n.canRemoveAds},canUseMyoViewerNow:()=>{const n=t();return n.loaded&&n.canUseMyoViewer}})),G2="guest_myeongsik_v1";function u4(e){return typeof e=="object"&&e!==null}function jk(e,t){if(typeof e=="number"&&Number.isFinite(e))return e;if(typeof e=="string"&&e.trim()!==""){const n=Number(e);if(Number.isFinite(n))return n}return t}function ji(e,t=""){return typeof e=="string"?e:t}function fte(e,t=!1){return typeof e=="boolean"?e:t}function hte(e){return u4(e)?{name:ji(e.name,""),lat:jk(e.lat,0),lon:jk(e.lon,0)}:{name:"",lat:0,lon:0}}function mte(e){return{id:e.id,sortOrder:typeof e.sortOrder=="number"?e.sortOrder:1,name:e.name??"",birthDay:e.birthDay??"",birthTime:e.birthTime??"",gender:e.gender??"",birthPlace:e.birthPlace??{name:"",lat:0,lon:0},relationship:e.relationship??"",memo:e.memo??"",folder:e.folder??"",mingSikType:e.mingSikType??"/",DayChangeRule:e.DayChangeRule??"",favorite:!!e.favorite,calendarType:e.calendarType??"solar",dir:e.dir??"forward"}}function pte(e){if(!u4(e))return null;const t={id:ji(e.id,""),sortOrder:jk(e.sortOrder,1),name:ji(e.name,""),birthDay:ji(e.birthDay,""),birthTime:ji(e.birthTime,""),gender:ji(e.gender,""),birthPlace:hte(e.birthPlace),relationship:ji(e.relationship,""),memo:ji(e.memo,""),folder:ji(e.folder,""),mingSikType:ji(e.mingSikType,"/"),DayChangeRule:ji(e.DayChangeRule,""),favorite:fte(e.favorite,!1),calendarType:ji(e.calendarType,"solar"),dir:ji(e.dir,"forward")};return t.id?Om(t):null}function d4(){try{const e=localStorage.getItem(G2);if(!e)return[];const t=JSON.parse(e);if(!Array.isArray(t))return[];const n=t.map(pte).filter(r=>r!==null);return qc(n)}catch{return[]}}function jc(e){try{const t=e.map(mte);localStorage.setItem(G2,JSON.stringify(t))}catch{}}function f4(){try{localStorage.removeItem(G2)}catch{}}const ls=Rl(e=>({open:!1,reason:"UNKNOWN",openWith:t=>e({open:!0,reason:t}),close:()=>e({open:!1,reason:"UNKNOWN"})})),Fn=ste(),gte=Yee(Fn);function sd(){const t=on.getState().canManageNow();return t||console.warn("[myeongsik] blocked: canManageNow=false"),t}function yte(e){const n=on.getState().canAddMyeongsik(e);return n.ok||console.warn("[myeongsik] blocked: canAddMyeongsik",n.message),n.ok}async function zM(e){const t=d4();if(t.length)try{for(const n of t)await Fn.upsertOne(e,n);f4()}catch(n){console.warn("[myeongsik] migrateGuestListToServerIfAny failed:",n)}}const _r=Rl((e,t)=>({loading:!1,realtimeReady:!1,list:[],currentId:null,_rtSub:null,_rtUserId:null,getCurrent:()=>{const{list:n,currentId:r}=t();return r?n.find(i=>i.id===r)??null:null},setCurrentId:n=>e({currentId:n}),startRealtime:async()=>{if(typeof window>"u")return;if(zee()){Bee(Date.now()),window.location.reload();return}const n=await Fn.getUser();if(!n){await t().stopRealtime(),e({realtimeReady:!1});return}if(t()._rtUserId===n.id&&t()._rtSub){e({realtimeReady:!0});return}await t().stopRealtime();const r=await Fn.subscribe(n.id,i=>{e(a=>({list:ite(a.list,i)}))},i=>{i==="SUBSCRIBED"&&e({realtimeReady:!0})});e({_rtSub:r,_rtUserId:n.id})},stopRealtime:async()=>{const n=t()._rtSub;if(n)try{await n.unsubscribe()}catch(r){console.warn("stopRealtime error",r)}e({_rtSub:null,_rtUserId:null,realtimeReady:!1})},loadFromServer:async()=>{e({loading:!0});try{const n=await Fn.getUser();if(!n){const l=d4(),u=l[0]?.id??null;e({list:l,currentId:u}),await t().stopRealtime();return}await zM(n.id);const r=await Fn.fetchRows(n.id),i=qc(r.map(o4)),a=t().currentId,o=a&&i.some(l=>l.id===a)?a:i[0]?.id??null;e({list:i,currentId:o}),await t().startRealtime()}catch(n){console.error("useMyeongSikStore.loadFromServer exception:",n)}finally{e({loading:!1})}},migrateLocalToServer:async()=>{try{await Fee(Fn);const n=await Fn.getUser();n&&await zM(n.id)}catch(n){console.error("useMyeongSikStore.migrateLocalToServer exception:",n)}},add:async n=>{const r=await Fn.getUser(),i=t().list.length;if(!yte(i)){r||ls.getState().openWith("ADD_LIMIT");return}const a=(i||0)+1,o={...n,sortOrder:n.sortOrder??a},l=Om(o),u=t().list,f=qc([...u,l]),h=t().currentId??l.id;if(e({list:f,currentId:h}),!r){jc(f),f.length===1&&ls.getState().openWith("PERSIST_SAVE");return}await Fn.upsertOne(r.id,l)},update:async(n,r)=>{const i=await Fn.getUser();if(i&&!sd())return;const a=t().list.find(u=>u.id===n);if(!a)return;const o=Om({...a,...r}),l=qc(t().list.map(u=>u.id===n?o:u));if(e({list:l}),!i){jc(l);return}await Fn.updateOne(i.id,n,o)},remove:async n=>{const r=await Fn.getUser();if(r&&!sd())return;const a=t().list.filter(l=>l.id!==n),o=t().currentId===n?a[0]?.id??null:t().currentId;if(e({list:a,currentId:o}),!r){jc(a);return}await Fn.softDelete(n)},moveItemByDnD:async n=>{const r=await Fn.getUser();if(r&&!sd())return;const i=rte(n),o=Vee({list:t().list,orderedFolders:i.orderedFolders,source:i.source,destination:i.destination}).nextList;if(e({list:o}),!r){jc(o);return}await t().reorder(o)},toggleFavoriteWithReorder:async(n,r)=>{const i=await Fn.getUser();if(i&&!sd())return;const o=Zee({list:t().list,targetId:n,orderedFolders:r}).nextList;if(e({list:o}),!i){jc(o);return}await t().reorder(o)},unsetFolderForFolder:async n=>{const r=await Fn.getUser();if(r&&!sd())return;const i=(n??"").trim();if(!i)return;const a=t().list,o=Xee({list:a,folderName:i}),l=qc(o.nextList),u=new Set(o.changedIds);if(u.size===0)return;if(e({list:l}),!r){jc(l);return}const f=l.filter(h=>u.has(h.id));await Fn.upsertOrderPatch(r.id,f)},reorder:async n=>{const r=await Fn.getUser();if(r&&!sd())return;const i=n.map((o,l)=>({...o,sortOrder:l+1})),a=qc(i);if(e({list:a}),!r){jc(a);return}await gte.queue(a)},clear:()=>{e({currentId:null,list:[]}),f4()}})),UM="__custom__",FM=[{value:"",label:" (1 )"},{value:"/",label:" / "},{value:"",label:""},{value:"",label:""},{value:"",label:""},{value:"",label:""},{value:"",label:""}],h4=({value:e,onChange:t})=>{const[n,r]=w.useState(FM),[i,a]=w.useState(""),[o,l]=w.useState(!1),[u,f]=w.useState(""),[h,p]=w.useState(!1),{list:g}=_r(),S=(e??i??"").trim()==="",k=g.some(C=>(C.relationship??"").trim()==="")&&!S?n.filter(C=>C.value!==""):n;w.useEffect(()=>{e!==void 0&&a(e)},[e]);const T=C=>{const D=C.target.value;D===UM?(l(!0),a(""),t?.("")):(l(!1),f(""),a(D),t?.(D))};w.useEffect(()=>{const C=localStorage.getItem("relationshipOptions");C&&r(JSON.parse(C))},[]),w.useEffect(()=>{(async()=>{const{data:{user:D},error:$}=await Me.auth.getUser();if($||!D)return;const{data:H,error:q}=await Me.from("user_settings").select("payload").eq("user_id",D.id).single();if(q&&q.code!=="PGRST116"){console.error("load relationships settings error",q.message);return}const K=H?.payload?.relationshipOptions;if(!Array.isArray(K))return;const U=K.map(z=>z&&typeof z=="object"&&typeof z.value=="string"&&typeof z.label=="string"?{value:z.value,label:z.label}:typeof z=="string"?{value:z,label:z}:null).filter(z=>!!z);U.length&&r(z=>{const V=new Set,J=[...U,...z,...FM].filter(Q=>V.has(Q.value)?!1:(V.add(Q.value),!0));return localStorage.setItem("relationshipOptions",JSON.stringify(J)),J})})()},[]),w.useEffect(()=>{localStorage.setItem("relationshipOptions",JSON.stringify(n)),(async()=>{const{data:{user:D},error:$}=await Me.auth.getUser();if($||!D)return;const{data:H,error:q}=await Me.from("user_settings").select("payload").eq("user_id",D.id).single();if(q&&q.code!=="PGRST116"){console.error("load relationships settings error",q.message);return}const K={...H?.payload??{},relationshipOptions:n},{error:U}=await Me.from("user_settings").upsert({user_id:D.id,payload:K,updated_at:new Date().toISOString()});U&&console.error("save relationships settings error",U.message)})()},[n]);const N=()=>{const C=u.trim();if(!C)return;const D={value:C,label:C};r($=>[...$,D]),a(C),t?.(C),f(""),l(!1)},O=C=>{r(n.filter(D=>D.value!==C)),i===C&&a("")},P=C=>{if(!C.destination)return;const D=Array.from(n),[$]=D.splice(C.source.index,1);D.splice(C.destination.index,0,$),r(D)};return b.jsxs(b.Fragment,{children:[b.jsxs("div",{className:"rel_set flex items-center gap-2",children:[b.jsxs("select",{name:"relationship",id:"relationship",value:i,onChange:T,children:[b.jsx("option",{value:"",hidden:!0,children:""}),k.map(C=>b.jsx("option",{value:C.value,children:C.label},C.value)),b.jsx("option",{value:UM,children:" "})]}),b.jsx("button",{type:"button",onClick:()=>p(!0),className:"btn_style",children:""})]}),o&&!h&&b.jsxs("div",{className:"rel_set flex items-center mt-2 gap-2",children:[b.jsx("input",{type:"text",placeholder:" ",value:u,onChange:C=>f(C.target.value)}),b.jsx("button",{type:"button",onClick:N,className:"btn_style",children:""})]}),h&&b.jsxs("div",{className:"p-3 border mt-2 rounded bg-gray-50 dark:bg-neutral-900",children:[b.jsx("h4",{className:"font-bold mb-2",children:" "}),b.jsx(np,{onDragEnd:P,children:b.jsx(hf,{droppableId:"relList",children:C=>b.jsxs("ul",{ref:C.innerRef,...C.droppableProps,className:"space-y-1",children:[n.map((D,$)=>b.jsx(ff,{draggableId:D.value,index:$,children:H=>b.jsxs("li",{ref:H.innerRef,...H.draggableProps,...H.dragHandleProps,className:"flex justify-between items-center bg-white dark:bg-neutral-800 p-2 rounded border text-sm desk:text-base",children:[b.jsx("span",{className:"cursor-grab mr-2",children:""}),b.jsx("span",{className:"flex-1 pr-1",children:D.label}),b.jsx("button",{type:"button",className:"text-red-500",onClick:()=>O(D.value),children:""})]})},D.value)),C.placeholder]})})}),b.jsx("button",{type:"button",onClick:()=>p(!1),className:"w-full btn_style mt-2",children:""})]})]})},fn=" ",m4=["","","","","",""],p4="ms_folders",g4="ms_folder_order",HM="ms_folder_favs",Nk="ms_disabled_presets",Nl="myeoun:folder-updated";function Xc(e){if(e!==fn)return e||void 0}function Sv(e){if(typeof window>"u")return[];const t=window.localStorage.getItem(e);if(!t)return[];try{const n=JSON.parse(t);return Array.isArray(n)?n.filter(r=>typeof r=="string"):[]}catch{return[]}}function q2(e,t){if(!(typeof window>"u"))try{window.localStorage.setItem(e,JSON.stringify(t))}catch{}}function bte(){const e=Sv(Nk);return m4.filter(t=>!e.includes(t))}function Y2(){return Sv(p4)}function K2(e){const t=Array.isArray(e)?e.filter(n=>typeof n=="string"&&n.trim()!==""):[];q2(p4,t),typeof window<"u"&&window.dispatchEvent(new Event(Nl))}function Zy(){const e=bte(),t=Y2(),n=new Set,r=[];for(const i of[...e,...t])n.has(i)||(n.add(i),r.push(i));return r}function vte(){return[fn,...Zy()]}function y4(e){const t=e.trim();if(!t||t===fn)return;const n=Y2();if(n.includes(t))return;const r=[...n,t];K2(r)}function xte(e){const t=Y2(),n=t.filter(r=>r!==e);n.length!==t.length&&K2(n)}function _te(e){const t=Sv(Nk);if(t.includes(e))return;const n=[...t,e];q2(Nk,n),typeof window<"u"&&window.dispatchEvent(new Event(Nl))}function Xy(){return Sv(g4)}function Sd(e){q2(g4,e),typeof window<"u"&&window.dispatchEvent(new Event(Nl))}function dm(e,t){const n=new Set(e),r=[];for(const i of t)n.has(i)&&!r.includes(i)&&r.push(i);for(const i of e)r.includes(i)||r.push(i);return r}function wte(e){return Array.from(new Set(e))}function x0(e){const t=e.filter(n=>n!==fn);return{rest:t,withUnassigned:[fn,...t]}}function Ste(e,t){return dm(t,e)}function kte({value:e,onChange:t}){const[n,r]=w.useState([fn]),[i,a]=w.useState(!1),[o,l]=w.useState(""),[u,f]=w.useState(!1),h=w.useCallback(async k=>{const{data:{user:T},error:N}=await Me.auth.getUser();if(N||!T)return;const O=k.map((C,D)=>({user_id:T.id,folder_name:C,sort_order:D+1,updated_at:new Date().toISOString()})),{error:P}=await Me.from("user_folder_order").upsert(O,{onConflict:"user_id,folder_name"});P&&console.error("save folder order error",P.message)},[]),p=w.useCallback(()=>{if(typeof window>"u")return;const k=wte(vte()),T=k.includes(fn)?k:[fn,...k],{rest:N}=x0(T),O=Xy(),P=Ste(O,N),C=[fn,...P];r(C),O.length===P.length&&O.every(($,H)=>$===P[H])||(Sd(P),h(P))},[h]);w.useEffect(()=>{if(p(),typeof window<"u"){const k=()=>p();return window.addEventListener(Nl,k),()=>window.removeEventListener(Nl,k)}},[p]);const g=w.useMemo(()=>e||fn,[e]),x=k=>{const{rest:T}=x0(k);Sd(T),h(T)},S=k=>{const{source:T,destination:N}=k;if(!N||N.index===T.index)return;const{rest:O}=x0(n),P=Array.from(O),[C]=P.splice(T.index,1);P.splice(N.index,0,C);const D=[fn,...P];r(D),x(D)},_=k=>{const T=Xc(k);T&&(y4(T),p())};return b.jsxs("div",{className:"space-y-2",children:[b.jsxs("div",{className:"flex items-center gap-2",children:[b.jsxs("select",{className:"flex-1 border rounded-lg p-2",value:i?"__custom__":g,onChange:k=>{const T=k.target.value;if(T==="__custom__"){a(!0),t(void 0);return}a(!1),t(Xc(T))},children:[n.map(k=>b.jsx("option",{value:k,children:k},k)),b.jsx("option",{value:"__custom__",children:"+   "})]}),b.jsx("button",{type:"button",className:"px-3 py-2 rounded bg-neutral-200 hover:bg-neutral-300 dark:bg-neutral-800 dark:hover:bg-neutral-700 text-sm cursor-pointer",onClick:()=>f(k=>!k),children:u?" ":" "})]}),i&&b.jsxs("div",{className:"flex items-center gap-2",children:[b.jsx("input",{type:"text",value:o,onChange:k=>l(k.target.value),placeholder:"  ",className:"flex-1 border rounded-lg p-2"}),b.jsx("button",{type:"button",className:"px-3 py-2 rounded bg-neutral-800 hover:bg-neutral-700 text-sm text-white cursor-pointer",onClick:()=>{const k=o.trim();k&&(_(k),t(Xc(k)),a(!1),l(""))},children:""})]}),u&&b.jsxs("div",{className:"p-3 border rounded bg-neutral-50 dark:bg-neutral-900",children:[b.jsx("h4",{className:"font-bold mb-2 text-s",children:"  "}),b.jsxs("div",{className:"flex items-center justify-between bg-white dark:bg-neutral-800 p-2 rounded border text-sm mb-2",children:[b.jsx("span",{className:"opacity-60 select-none",children:""}),b.jsxs("span",{className:"flex-1 px-2",children:[fn," ()"]})]}),b.jsx(np,{onDragEnd:S,children:b.jsx(hf,{droppableId:"folderList",direction:"vertical",type:"FOLDER",children:k=>b.jsxs("ul",{ref:k.innerRef,...k.droppableProps,className:"space-y-1",children:[x0(n).rest.map((T,N)=>b.jsx(ff,{draggableId:T,index:N,children:O=>b.jsxs("li",{ref:O.innerRef,...O.draggableProps,...O.dragHandleProps,className:"flex items-center justify-between bg-white dark:bg-neutral-800 p-2 rounded border text-sm",children:[b.jsx("span",{className:"cursor-grab select-none mr-2",children:""}),b.jsx("span",{className:"flex-1 pr-1",children:T})]})},T)),k.placeholder]})})})]}),b.jsxs("p",{className:"text-xs text-gray-500",children:['   "',fn,'" .      .']})]})}function b4({message:e,onClose:t,ms:n=2e3}){return w.useEffect(()=>{const r=setTimeout(t,n);return()=>clearTimeout(r)},[t,n]),b.jsx("div",{className:"fixed top-4 left-1/2 -translate-x-1/2 bg-black text-white px-4 py-2 rounded-lg shadow-lg z-[9999]",children:e})}const GM=[{key:"name",label:"",placeholder:" ",type:"text"},{key:"birthDay",label:"",placeholder:": 19900101",type:"tel"},{key:"birthTime",label:"",placeholder:": 1524",type:"tel"},{key:"mingSikType",label:" ",type:"mingrule"},{key:"gender",label:"",type:"radio"},{key:"birthPlace",label:"",type:"place"},{key:"relationship",label:"",type:"relationship"},{key:"folder",label:" ",type:"folder"},{key:"memo",label:"",placeholder:" ",type:"textarea"}],Ete=[{value:"solar",label:"",id:"calendarType_solar"},{value:"lunar",label:"",id:"calendarType_lunar"}],Ate=["","/",""],Tte=["",""],v4={gender:"",mingSikType:"/",DayChangeRule:"",calendarType:"solar"};function Ote(e,t,n){return n==="ArrowRight"||n==="ArrowDown"?(e+1)%t:n==="ArrowLeft"||n==="ArrowUp"?(e-1+t)%t:n==="Home"?0:n==="End"?t-1:e}function jte(e){const t=document.getElementById(e);t instanceof HTMLElement&&t.focus()}function Nte(){const[e,t]=w.useState(0),[n,r]=w.useState({...v4}),[i,a]=w.useState(null),[o,l]=w.useState(!1),[u,f]=w.useState(!1);return{stepIndex:e,setStepIndex:t,form:n,setForm:r,toast:i,setToast:a,unknownTime:o,setUnknownTime:l,unknownPlace:u,setUnknownPlace:f}}function Cte({currentStepKey:e,birthPlace:t,unknownPlace:n,stepIndex:r}){w.useEffect(()=>{if(["name","birthDay","birthTime","memo"].includes(e)){const a=document.querySelector(".current-step input[type='text']:not([disabled]), .current-step textarea:not([disabled])");if(a){a.focus();return}}if(e==="mingSikType"){const a=document.querySelector("[id^='ming_'][id$='_lbl'][aria-checked='true']");if(a){a.focus();return}}if(e==="gender"){const a=document.querySelector("[id^='gender_'][id$='_lbl'][aria-checked='true']");if(a){a.focus();return}}if(e==="birthPlace"){if(t||n){const a=()=>{const o=document.querySelector(".current-step form button[type='submit']");o&&o.focus()};a(),setTimeout(a,0)}else{const a=document.getElementById("inputBirthPlaceBtn");a&&a.focus()}return}if(e==="relationship"||e==="folder"){setTimeout(()=>{const a=document.querySelector(".current-step select");a&&a.focus()},0);return}document.querySelector(".current-step button, .current-step [tabindex='0']")?.focus()},[n,r,e,t])}function Mte(e,t){if(e!=="lunar"||!t||t.length!==8)return null;try{const n=Number(t.slice(0,4)),r=Number(t.slice(4,6)),i=Number(t.slice(6,8)),a=Hi(n,r,i);return` ${a.getFullYear()}-${String(a.getMonth()+1).padStart(2,"0")}-${String(a.getDate()).padStart(2,"0")}`}catch(n){const r=n instanceof Error?n.message:void 0;return` ${r?`: ${r}`:""}`}}function Pte(e,t,n,r){switch(e){case"birthPlace":return r?"":t.birthPlace?.name||"";case"birthTime":return n?"":t.birthTime||"";case"folder":return t.folder?String(t.folder):fn;default:{const a=t[e];return typeof a=="string"?a:a!=null?String(a):""}}}function Dte({form:e,unknownTime:t,unknownPlace:n,stepIndex:r}){const i=GM[r],a=w.useMemo(()=>Mte(e.calendarType,e.birthDay),[e.calendarType,e.birthDay]);return{steps:GM,currentStep:i,lunarPreview:a,displayValue:l=>Pte(l,e,t,n),CALENDAR_OPTIONS:Ete,MING_OPTIONS:Ate,GENDER_OPTIONS:Tte,nextIndex:Ote,focusById:jte,isDST:Wy}}function Rte(){return{add:_r(t=>t.add)}}const gr=[];for(let e=0;e<256;++e)gr.push((e+256).toString(16).slice(1));function Lte(e,t=0){return(gr[e[t+0]]+gr[e[t+1]]+gr[e[t+2]]+gr[e[t+3]]+"-"+gr[e[t+4]]+gr[e[t+5]]+"-"+gr[e[t+6]]+gr[e[t+7]]+"-"+gr[e[t+8]]+gr[e[t+9]]+"-"+gr[e[t+10]]+gr[e[t+11]]+gr[e[t+12]]+gr[e[t+13]]+gr[e[t+14]]+gr[e[t+15]]).toLowerCase()}let Gw;const Ite=new Uint8Array(16);function $te(){if(!Gw){if(typeof crypto>"u"||!crypto.getRandomValues)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");Gw=crypto.getRandomValues.bind(crypto)}return Gw(Ite)}const Bte=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),qM={randomUUID:Bte};function x4(e,t,n){if(qM.randomUUID&&!e)return qM.randomUUID();e=e||{};const r=e.random??e.rng?.()??$te();if(r.length<16)throw new Error("Random bytes length must be >= 16");return r[6]=r[6]&15|64,r[8]=r[8]&63|128,Lte(r)}function zte(e,t,n){const r=Xc(e.folder);return a4({id:x4(),name:e.name,birthDay:e.birthDay??"",calendarType:e.calendarType??"solar",birthTime:e.birthTime,unknownTime:t,gender:e.gender,birthPlace:e.birthPlace,unknownPlace:n,relationship:e.relationship,memo:e.memo,folder:r,mingSikType:e.mingSikType,dateObj:e.dateObj||new Date},{requireName:!1})}function Ute(e,t,n,r){if(e==="name"&&!t.name)return{ok:!0,message:"  '' .",nextForm:{...t,name:""}};if(e==="birthDay"){const i=U2(t.birthDay??"",t.calendarType??"solar");if(!i.ok)return{ok:!1,message:i.message};if(t.birthDay!==i.value)return{ok:!0,nextForm:{...t,birthDay:i.value}}}if(e==="birthTime"){const i=F2(t.birthTime??"",n);if(!i.ok)return{ok:!1,message:i.message};if(i.value!==""&&t.birthTime!==i.value)return{ok:!0,nextForm:{...t,birthTime:i.value}}}return e==="birthPlace"&&!t.birthPlace&&!r?{ok:!1,message:"  ''  ."}:{ok:!0}}function Fte({form:e,setForm:t,stepIndex:n,setStepIndex:r,stepsLength:i,currentStepKey:a,unknownTime:o,setUnknownTime:l,unknownPlace:u,setUnknownPlace:f,setToast:h,onSave:p}){const{add:g}=Rte(),x=w.useCallback(()=>{const _=Ute(a,e,o,u);if(!_.ok){h(_.message??" .");return}if(_.nextForm&&(t(_.nextForm),_.message&&h(_.message)),n<i-1){r(n+1);return}const k=zte(e,o,u);if(!k.ok){h(k.message);return}const T=k.value;g(T),p(T),h(" !"),t({...v4}),l(!1),f(!1),r(0)},[a,e,o,u,h,t,n,i,r,g,p,l,f]),S=w.useCallback(_=>{if(_.key!=="Enter")return;const k=_.target,T=k.getAttribute("role");if(T==="radio"||T==="checkbox")return;const N=document.getElementById("mapModal");if(N&&N.contains(k))return;const O=k.tagName.toLowerCase(),P=k instanceof HTMLInputElement?k.type:"";if(O==="textarea"){if(_.shiftKey)return;_.preventDefault(),x();return}if(P==="radio"||P==="checkbox"){_.preventDefault(),k instanceof HTMLInputElement&&k.click();return}O==="button"&&k.type!=="submit"||(_.preventDefault(),x())},[x]);return{handleNext:x,handleFormKeyDown:S}}function Hte({onSave:e}){const t=Nte(),n=Dte({form:t.form,unknownTime:t.unknownTime,unknownPlace:t.unknownPlace,stepIndex:t.stepIndex});Cte({currentStepKey:n.currentStep.key,birthPlace:t.form.birthPlace,unknownPlace:t.unknownPlace,stepIndex:t.stepIndex});const r=Fte({form:t.form,setForm:t.setForm,stepIndex:t.stepIndex,setStepIndex:t.setStepIndex,stepsLength:n.steps.length,currentStepKey:n.currentStep.key,unknownTime:t.unknownTime,setUnknownTime:t.setUnknownTime,unknownPlace:t.unknownPlace,setUnknownPlace:t.setUnknownPlace,setToast:t.setToast,onSave:e});return{steps:n.steps,stepIndex:t.stepIndex,setStepIndex:t.setStepIndex,currentStep:n.currentStep,form:t.form,setForm:t.setForm,toast:t.toast,setToast:t.setToast,unknownTime:t.unknownTime,setUnknownTime:t.setUnknownTime,unknownPlace:t.unknownPlace,setUnknownPlace:t.setUnknownPlace,lunarPreview:n.lunarPreview,handleNext:r.handleNext,handleFormKeyDown:r.handleFormKeyDown,displayValue:n.displayValue,CALENDAR_OPTIONS:n.CALENDAR_OPTIONS,MING_OPTIONS:n.MING_OPTIONS,GENDER_OPTIONS:n.GENDER_OPTIONS,nextIndex:n.nextIndex,focusById:n.focusById,isDST:n.isDST}}function Gte({onSave:e,onClose:t}){const n=Hte({onSave:e});return b.jsxs("div",{className:"mx-auto mt-10 space-y-2 max-w-[640px] w-[96%] text-neutral-900 dark:text-neutral-100",children:[n.toast&&b.jsx(b4,{message:n.toast,onClose:()=>n.setToast(null)}),n.steps.slice(0,n.stepIndex).map((r,i)=>b.jsxs("button",{onClick:()=>n.setStepIndex(i),className:"p-3 rounded-lg bg-neutral-100 dark:bg-neutral-900 border border-neutral-200 dark:border-neutral-800 flex justify-between w-full text-left hover:bg-neutral-200 dark:hover:bg-neutral-800/80 transition-colors",children:[b.jsx("span",{className:"font-semibold",children:r.label}),b.jsx("span",{className:"text-neutral-600 dark:text-neutral-300",children:n.displayValue(r.key)})]},r.key)),b.jsx("div",{className:"p-4 border rounded-lg shadow current-step bg-white dark:bg-neutral-900 border-neutral-200 dark:border-neutral-800",children:b.jsxs("form",{onSubmit:r=>{r.preventDefault(),n.handleNext()},onKeyDown:n.handleFormKeyDown,children:[b.jsx("label",{className:"block mb-2 font-bold",children:n.currentStep.label}),n.currentStep.key==="name"&&b.jsx("input",{type:"text",className:"w-full border rounded-lg p-2 bg-white dark:bg-neutral-900 border-neutral-300 dark:border-neutral-700 placeholder-neutral-400 dark:placeholder-neutral-500 text-neutral-900 dark:text-neutral-100",placeholder:n.currentStep.placeholder,value:n.form.name||"",onChange:r=>n.setForm({...n.form,name:r.target.value})}),n.currentStep.key==="birthDay"&&b.jsxs("div",{className:"space-y-2",children:[b.jsxs("div",{className:"flex gap-1 items-center",children:[b.jsx("input",{type:"text",className:"flex-1 border rounded-lg p-2 bg-white dark:bg-neutral-900 border-neutral-300 dark:border-neutral-700 placeholder-neutral-400 dark:placeholder-neutral-500 text-neutral-900 dark:text-neutral-100",placeholder:n.currentStep.placeholder,value:n.form.birthDay||"",onChange:r=>{const i=r.target.value.replace(/\D/g,"");n.setForm({...n.form,birthDay:i.slice(0,8)})},inputMode:"numeric",pattern:"\\d*",maxLength:8}),b.jsx("fieldset",{role:"radiogroup","aria-label":" ",className:"flex gap-1 text-sm",children:n.CALENDAR_OPTIONS.map(({value:r,label:i,id:a})=>{const o=n.form.calendarType===r;return b.jsxs("span",{className:"inline-flex items-center gap-1",children:[b.jsx("input",{id:a,name:"calendarType",type:"radio",style:{display:"none"}}),b.jsx("label",{htmlFor:a,id:`${a}_lbl`,role:"radio","aria-checked":o,tabIndex:0,className:`cursor-pointer select-none px-2 py-1 rounded-md border
                                     border-neutral-300 dark:border-neutral-700
                                     bg-white dark:bg-neutral-900
                                     focus-visible:outline focus-visible:outline-2 focus-visible:outline-amber-500
                                     data-[checked=true]:border-amber-400 data-[checked=true]:bg-amber-50
                                     dark:data-[checked=true]:bg-amber-500/10`,"data-checked":o?"true":"false",onKeyDown:l=>{if(l.stopPropagation(),l.key===" "||l.key==="Enter"){l.preventDefault(),n.setForm({...n.form,calendarType:r});return}if(!["ArrowRight","ArrowLeft","ArrowUp","ArrowDown","Home","End"].includes(l.key))return;l.preventDefault();const f=n.CALENDAR_OPTIONS.findIndex(g=>g.value===n.form.calendarType),h=n.nextIndex(f<0?0:f,n.CALENDAR_OPTIONS.length,l.key),p=n.CALENDAR_OPTIONS[h].value;n.setForm({...n.form,calendarType:p}),n.focusById(`${n.CALENDAR_OPTIONS[h].id}_lbl`)},onClick:l=>{l.preventDefault(),n.setForm({...n.form,calendarType:r})},children:i})]},r)})})]}),n.form.calendarType==="lunar"&&b.jsx("div",{className:"flex items-center justify-end",children:b.jsx("span",{className:"text-xs text-neutral-600 dark:text-neutral-300",children:n.lunarPreview})}),n.form.birthDay&&n.form.birthDay.length===8&&(()=>{const r=Number(n.form.birthDay.slice(0,4)),i=Number(n.form.birthDay.slice(4,6)),a=Number(n.form.birthDay.slice(6,8));return n.isDST(r,i,a)?b.jsx("div",{className:"text-xs text-red-600 dark:text-red-400 mt-1",children:"  ."}):null})()]}),n.currentStep.key==="birthTime"&&b.jsxs("div",{className:"space-y-2",children:[b.jsx("input",{type:"text",className:"w-full border rounded-lg p-2 disabled:opacity-50 bg-white dark:bg-neutral-900 border-neutral-300 dark:border-neutral-700 placeholder-neutral-400 dark:placeholder-neutral-500 text-neutral-900 dark:text-neutral-100",placeholder:n.currentStep.placeholder,value:n.unknownTime?"":n.form.birthTime||"",onChange:r=>{const i=r.target.value.replace(/\D/g,"");n.setForm({...n.form,birthTime:i.slice(0,4)})},inputMode:"numeric",pattern:"\\d*",maxLength:4,disabled:n.unknownTime}),b.jsxs("span",{className:"inline-flex items-center gap-1",children:[b.jsx("input",{id:"birthTimeX",type:"checkbox",style:{display:"none"}}),b.jsx("label",{htmlFor:"birthTimeX",role:"checkbox","aria-checked":n.unknownTime,tabIndex:0,className:`text-sm select-none cursor-pointer px-2 py-1 rounded-md border
                             border-neutral-300 dark:border-neutral-700
                             bg-white dark:bg-neutral-900
                             focus-visible:outline focus-visible:outline-2 focus-visible:outline-amber-500
                             data-[checked=true]:border-amber-400 data-[checked=true]:bg-amber-50
                             dark:data-[checked=true]:bg-amber-500/10`,"data-checked":n.unknownTime?"true":"false",onKeyDown:r=>{r.stopPropagation(),(r.key===" "||r.key==="Enter")&&(r.preventDefault(),n.setUnknownTime(!n.unknownTime))},onClick:r=>{r.preventDefault(),n.setUnknownTime(!n.unknownTime)},children:""})]})]}),n.currentStep.key==="mingSikType"&&b.jsx("fieldset",{role:"radiogroup","aria-label":" ",className:"flex flex-wrap gap-3",children:n.MING_OPTIONS.map(r=>{const i=`ming_${r}`,a=(n.form.mingSikType??"/")===r;return b.jsxs("span",{className:"inline-flex items-center gap-1",children:[b.jsx("input",{id:i,name:"mingSikType",type:"radio",style:{display:"none"}}),b.jsxs("label",{htmlFor:i,id:`${i}_lbl`,role:"radio","aria-checked":a,tabIndex:0,className:`cursor-pointer select-none px-2 py-1 rounded-md border
                                 border-neutral-300 dark:border-neutral-700
                                 bg-white dark:bg-neutral-900
                                 focus-visible:outline focus-visible:outline-2 focus-visible:outline-amber-500
                                 data-[checked=true]:border-amber-400 data-[checked=true]:bg-amber-50
                                 dark:data-[checked=true]:bg-amber-500/10`,"data-checked":a?"true":"false",onKeyDown:o=>{if(o.stopPropagation(),o.key===" "||o.key==="Enter"){o.preventDefault(),n.setForm({...n.form,mingSikType:r});return}if(!["ArrowRight","ArrowLeft","ArrowUp","ArrowDown","Home","End"].includes(o.key))return;o.preventDefault();const u=n.form.mingSikType??"/",f=n.MING_OPTIONS.indexOf(u),h=n.nextIndex(f,n.MING_OPTIONS.length,o.key),p=n.MING_OPTIONS[h];n.setForm({...n.form,mingSikType:p}),n.focusById(`ming_${p}_lbl`)},onClick:o=>{o.preventDefault(),n.setForm({...n.form,mingSikType:r})},children:[r," "]})]},r)})}),n.currentStep.key==="gender"&&b.jsx("fieldset",{role:"radiogroup","aria-label":"",className:"flex gap-2",children:n.GENDER_OPTIONS.map(r=>{const i=`gender_${r}`,a=(n.form.gender??"")===r;return b.jsxs("span",{className:"inline-flex items-center gap-1",children:[b.jsx("input",{id:i,name:"gender",type:"radio",style:{display:"none"}}),b.jsx("label",{htmlFor:i,id:`${i}_lbl`,role:"radio","aria-checked":a,tabIndex:0,className:`cursor-pointer select-none px-2 py-1 rounded-md border
                                 border-neutral-300 dark:border-neutral-700
                                 bg-white dark:bg-neutral-900
                                 focus-visible:outline focus-visible:outline-2 focus-visible:outline-amber-500
                                 data-[checked=true]:border-amber-400 data-[checked=true]:bg-amber-50
                                 dark:data-[checked=true]:bg-amber-500/10`,"data-checked":a?"true":"false",onKeyDown:o=>{if(o.stopPropagation(),o.key===" "||o.key==="Enter"){o.preventDefault(),n.setForm({...n.form,gender:r});return}if(!["ArrowRight","ArrowLeft","ArrowUp","ArrowDown","Home","End"].includes(o.key))return;o.preventDefault();const u=n.form.gender??"",f=n.GENDER_OPTIONS.indexOf(u),h=n.nextIndex(f,n.GENDER_OPTIONS.length,o.key),p=n.GENDER_OPTIONS[h];n.setForm({...n.form,gender:p}),n.focusById(`gender_${p}_lbl`)},onClick:o=>{o.preventDefault(),n.setForm({...n.form,gender:r})},children:r})]},r)})}),n.currentStep.key==="birthPlace"&&b.jsxs("div",{className:"space-y-2",children:[b.jsx(GB,{onSelect:r=>n.setForm({...n.form,birthPlace:r}),value:n.unknownPlace?"":n.form.birthPlace?.name??""}),b.jsxs("span",{className:"inline-flex items-center gap-1",children:[b.jsx("input",{id:"birthPlaceX",type:"checkbox",style:{display:"none"}}),b.jsx("label",{htmlFor:"birthPlaceX",role:"checkbox","aria-checked":n.unknownPlace,tabIndex:0,className:`text-sm select-none cursor-pointer px-2 py-1 rounded-md border
                             border-neutral-300 dark:border-neutral-700
                             bg-white dark:bg-neutral-900
                             focus-visible:outline focus-visible:outline-2 focus-visible:outline-amber-500
                             data-[checked=true]:border-amber-400 data-[checked=true]:bg-amber-50
                             dark:data-[checked=true]:bg-amber-500/10`,"data-checked":n.unknownPlace?"true":"false",onKeyDown:r=>{r.stopPropagation(),(r.key===" "||r.key==="Enter")&&(r.preventDefault(),n.setUnknownPlace(!n.unknownPlace))},onClick:r=>{r.preventDefault(),n.setUnknownPlace(!n.unknownPlace)},children:""})]})]}),n.currentStep.key==="relationship"&&b.jsx(h4,{value:n.form.relationship||"",onChange:r=>n.setForm({...n.form,relationship:r})}),n.currentStep.key==="folder"&&b.jsx(kte,{value:Xc(n.form.folder),onChange:r=>n.setForm({...n.form,folder:r})}),n.currentStep.key==="memo"&&b.jsx("textarea",{className:"w-full border rounded-lg p-2 bg-white dark:bg-neutral-900 border-neutral-300 dark:border-neutral-700 placeholder-neutral-400 dark:placeholder-neutral-500 text-neutral-900 dark:text-neutral-100",placeholder:n.currentStep.placeholder,value:n.form.memo||"",onChange:r=>n.setForm({...n.form,memo:r.target.value})}),b.jsxs("div",{className:"flex justify-between gap-2",children:[b.jsx("button",{className:"mt-4 w-full btn_style btn_secondary dark:focus:ring-amber-500",onClick:t,children:""}),b.jsx("button",{type:"submit",className:"mt-4 w-full btn_style dark:focus:ring-amber-500",children:n.stepIndex===n.steps.length-1?"":""})]})]})})]})}var _0={},YM;function qte(){if(YM)return _0;YM=1,_0.match=a,_0.parse=o;var e=/(?:(only|not)?\s*([^\s\(\)]+)(?:\s*and)?\s*)?(.+)?/i,t=/\(\s*([^\s\:\)]+)\s*(?:\:\s*([^\s\)]+))?\s*\)/,n=/^(?:(min|max)-)?(.+)/,r=/(em|rem|px|cm|mm|in|pt|pc)?$/,i=/(dpi|dpcm|dppx)?$/;function a(h,p){return o(h).some(function(g){var x=g.inverse,S=g.type==="all"||p.type===g.type;if(S&&x||!(S||x))return!1;var _=g.expressions.every(function(k){var T=k.feature,N=k.modifier,O=k.value,P=p[T];if(!P)return!1;switch(T){case"orientation":case"scan":return P.toLowerCase()===O.toLowerCase();case"width":case"height":case"device-width":case"device-height":O=f(O),P=f(P);break;case"resolution":O=u(O),P=u(P);break;case"aspect-ratio":case"device-aspect-ratio":case"device-pixel-ratio":O=l(O),P=l(P);break;case"grid":case"color":case"color-index":case"monochrome":O=parseInt(O,10)||1,P=parseInt(P,10)||0;break}switch(N){case"min":return P>=O;case"max":return P<=O;default:return P===O}});return _&&!x||!_&&x})}function o(h){return h.split(",").map(function(p){p=p.trim();var g=p.match(e),x=g[1],S=g[2],_=g[3]||"",k={};return k.inverse=!!x&&x.toLowerCase()==="not",k.type=S?S.toLowerCase():"all",_=_.match(/\([^\)]+\)/g)||[],k.expressions=_.map(function(T){var N=T.match(t),O=N[1].toLowerCase().match(n);return{modifier:O[1],feature:O[2],value:N[2]}}),k})}function l(h){var p=Number(h),g;return p||(g=h.match(/^(\d+)\s*\/\s*(\d+)$/),p=g[1]/g[2]),p}function u(h){var p=parseFloat(h),g=String(h).match(i)[1];switch(g){case"dpcm":return p/2.54;case"dppx":return p*96;default:return p}}function f(h){var p=parseFloat(h),g=String(h).match(r)[1];switch(g){case"em":return p*16;case"rem":return p*16;case"cm":return p*96/2.54;case"mm":return p*96/2.54/10;case"in":return p*96;case"pt":return p*72;case"pc":return p*72/12;default:return p}}return _0}var qw,KM;function Yte(){if(KM)return qw;KM=1;var e=qte().match,t=typeof window<"u"?window.matchMedia:null;function n(i,a,o){var l=this,u;t&&!o&&(u=t.call(window,i)),u?(this.matches=u.matches,this.media=u.media,u.addListener(p)):(this.matches=e(i,a),this.media=i),this.addListener=f,this.removeListener=h,this.dispose=g;function f(x){u&&u.addListener(x)}function h(x){u&&u.removeListener(x)}function p(x){l.matches=x.matches,l.media=x.media}function g(){u&&u.removeListener(p)}}function r(i,a,o){return new n(i,a,o)}return qw=r,qw}var Kte=Yte();const Wte=fi(Kte);var Vte=/[A-Z]/g,Zte=/^ms-/,Yw={};function Xte(e){return"-"+e.toLowerCase()}function _4(e){if(Yw.hasOwnProperty(e))return Yw[e];var t=e.replace(Vte,Xte);return Yw[e]=Zte.test(t)?"-"+t:t}function Jte(e,t){if(e===t)return!0;if(!e||!t)return!1;const n=Object.keys(e),r=Object.keys(t),i=n.length;if(r.length!==i)return!1;for(let a=0;a<i;a++){const o=n[a];if(e[o]!==t[o]||!Object.prototype.hasOwnProperty.call(t,o))return!1}return!0}var Kw={exports:{}},Ww,WM;function Qte(){if(WM)return Ww;WM=1;var e="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return Ww=e,Ww}var Vw,VM;function ene(){if(VM)return Vw;VM=1;var e=Qte();function t(){}function n(){}return n.resetWarningCache=t,Vw=function(){function r(o,l,u,f,h,p){if(p!==e){var g=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw g.name="Invariant Violation",g}}r.isRequired=r;function i(){return r}var a={array:r,bigint:r,bool:r,func:r,number:r,object:r,string:r,symbol:r,any:r,arrayOf:i,element:r,elementType:r,instanceOf:i,node:r,objectOf:i,oneOf:i,oneOfType:i,shape:i,exact:i,checkPropTypes:n,resetWarningCache:t};return a.PropTypes=a,a},Vw}var ZM;function tne(){return ZM||(ZM=1,Kw.exports=ene()()),Kw.exports}var nne=tne();const Ot=fi(nne),Ir=Ot.oneOfType([Ot.string,Ot.number]),w4={all:Ot.bool,grid:Ot.bool,aural:Ot.bool,braille:Ot.bool,handheld:Ot.bool,print:Ot.bool,projection:Ot.bool,screen:Ot.bool,tty:Ot.bool,tv:Ot.bool,embossed:Ot.bool},rne={orientation:Ot.oneOf(["portrait","landscape"]),scan:Ot.oneOf(["progressive","interlace"]),aspectRatio:Ot.string,deviceAspectRatio:Ot.string,height:Ir,deviceHeight:Ir,width:Ir,deviceWidth:Ir,color:Ot.bool,colorIndex:Ot.bool,monochrome:Ot.bool,resolution:Ir,type:Object.keys(w4)},{type:oje,...ine}=rne,ane={minAspectRatio:Ot.string,maxAspectRatio:Ot.string,minDeviceAspectRatio:Ot.string,maxDeviceAspectRatio:Ot.string,minHeight:Ir,maxHeight:Ir,minDeviceHeight:Ir,maxDeviceHeight:Ir,minWidth:Ir,maxWidth:Ir,minDeviceWidth:Ir,maxDeviceWidth:Ir,minColor:Ot.number,maxColor:Ot.number,minColorIndex:Ot.number,maxColorIndex:Ot.number,minMonochrome:Ot.number,maxMonochrome:Ot.number,minResolution:Ir,maxResolution:Ir,...ine},one={...w4,...ane};var sne={all:one};const lne=e=>`not ${e}`,cne=(e,t)=>{const n=_4(e);return typeof t=="number"&&(t=`${t}px`),t===!0?n:t===!1?lne(n):`(${n}: ${t})`},une=e=>e.join(" and "),dne=e=>{const t=[];return Object.keys(sne.all).forEach(n=>{const r=e[n];r!=null&&t.push(cne(n,r))}),une(t)},fne=w.createContext(void 0),hne=e=>e.query||dne(e),XM=e=>e?Object.keys(e).reduce((n,r)=>(n[_4(r)]=e[r],n),{}):void 0,S4=()=>{const e=w.useRef(!1);return w.useEffect(()=>{e.current=!0},[]),e.current},mne=e=>{const t=w.useContext(fne),n=()=>XM(e)||XM(t),[r,i]=w.useState(n);return w.useEffect(()=>{const a=n();Jte(r,a)||i(a)},[e,t]),r},pne=e=>{const t=()=>hne(e),[n,r]=w.useState(t);return w.useEffect(()=>{const i=t();n!==i&&r(i)},[e]),n},gne=(e,t)=>{const n=()=>Wte(e,t||{},!!t),[r,i]=w.useState(n),a=S4();return w.useEffect(()=>{if(a){const o=n();return i(o),()=>{o&&o.dispose()}}},[e,t]),r},yne=e=>{const[t,n]=w.useState(e.matches);return w.useEffect(()=>{const r=i=>{n(i.matches)};return e.addListener(r),n(e.matches),()=>{e.removeListener(r)}},[e]),t},bne=(e,t,n)=>{const r=mne(t),i=pne(e);if(!i)throw new Error("Invalid or missing MediaQuery!");const a=gne(i,r),o=yne(a);return S4(),w.useEffect(()=>{},[o]),w.useEffect(()=>()=>{a&&a.dispose()},[]),o},k4={Classic:"",Modern:""};function jo(e,t){const r={:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}}[e];return r?r[t]??"":""}function vne(e,t){return{:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}}[e]?.[t]??""}function xne(e,t){const n={:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},r={:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}},i=n[e];return i&&r[i]?r[i][t]??"":""}function _ne(e,t){return{:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}}[e]?.[t]??""}function wne(e,t){const n={:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},r={:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}},i=n[e];return i&&r[i]?r[i][t]??"":""}function No(e){const{baseBranch:t,targetBranch:n,era:r,gaehwa:i}=e;return!t||!n?"":r===""?i?vne(t,n):xne(t,n):i?_ne(t,n):wne(t,n)}const di=Rl()(_$((e,t)=>{const n=new Date,r="/",i=127.5,a=i,o=at(n,a),l=Et(n,a),u=gt(n,r);return{date:n,scope:"",rule:r,lon:i,yearGZ:o,monthGZ:l,dayGZ:u,setDate:f=>{const{rule:h,lon:p}=t(),g=typeof p=="number"?p:void 0;e({date:f,yearGZ:at(f,g),monthGZ:Et(f,g),dayGZ:gt(f,h)})},resetDate:()=>{const{rule:f,lon:h}=t(),p=new Date,g=typeof h=="number"?h:void 0;e({date:p,yearGZ:at(p,g),monthGZ:Et(p,g),dayGZ:gt(p,f)})},resetMonth:()=>{const{lon:f}=t(),h=new Date;e({date:h,monthGZ:Et(h,typeof f=="number"?f:void 0)})},setScope:f=>e({scope:f}),setRule:f=>{const{date:h,lon:p}=t(),g=typeof p=="number"?p:void 0;e({rule:f,yearGZ:at(h,g),monthGZ:Et(h,g),dayGZ:gt(h,f)})},setLon:f=>{const{date:h,rule:p}=t(),g=typeof f=="number"?f:void 0;e({lon:f,yearGZ:at(h,g),monthGZ:Et(h,g),dayGZ:gt(h,p)})},setFromEvent:(f,h)=>{const{rule:p,lon:g}=t(),x=typeof g=="number"?g:void 0;e({date:f.at,scope:h,yearGZ:at(f.at,x),monthGZ:Et(f.at,x),dayGZ:gt(f.at,p)})},forceKey:new Date}},{name:"luck-picker-v1",merge:(e,t)=>{const n=e;return n.date&&typeof n.date=="string"&&(n.date=new Date(n.date)),{...t,...n}}})),Sne=60*1e3,kne=60*Sne,Ene=24*kne,Ane=(e,t)=>{const n=new Date(e.getTime()),r=n.getFullYear()+t,i=n.getMonth(),a=n.getDate();return new Date(Date.UTC(r,i,a,n.getUTCHours(),n.getUTCMinutes()))},Ck=e=>{const t=new Date(e);return t.setSeconds(0,0),t},Tne={DAY:Ene},fa=e=>{const t=e.getFullYear(),n=[{deg:315,name:""},{deg:345,name:""},{deg:15,name:""},{deg:45,name:""},{deg:75,name:""},{deg:105,name:""},{deg:135,name:""},{deg:165,name:""},{deg:195,name:""},{deg:225,name:""},{deg:255,name:""},{deg:285,name:""}],r={deg:315,name:""},i=n.map(l=>({name:l.name,date:Gn(t,l.deg)})).concat([{name:r.name,date:Gn(t+1,r.deg)},{name:"",date:Gn(t+1,285)}]),a=Gn(t,315),o=Gn(t+1,315);return i.filter(l=>l.date>=a&&l.date<o).sort((l,u)=>l.date.getTime()-u.date.getTime())},E4=(()=>{const e=[];for(let t=0;t<60;t+=1)e.push(`${Ur[t%10]}${ci[t%12]}`);return e})(),One=e=>{const t=E4.indexOf(e);if(t<0)throw new Error(`Unknown : ${e}`);return t},Jy=(e,t,n=1)=>{const r=One(e),i=t==="forward"?n:-n;return E4[(r+i+60*1e3)%60]},jne=(e,t,n)=>{const r=e.getHours(),i=n==="/"?(Math.floor((r+1)/2)*2-1+24)%24:(Math.floor(r/2)*2+1)%24,a=new Date(e);a.setHours(i,0,0,0);const o=new Date(a);o.setHours(i+2,0,0,0);const l=e.getTime()-a.getTime(),u=o.getTime()-e.getTime();return t==="backward"?l:u},A4=(e,t,n,r=120,i="/")=>{const a=Ck(e),o=jne(a,n,i),l=Ck(new Date(a.getTime()+o*120)),u=Ane(e,r).getTime(),f=[];let h=Jy(t,n,1);for(let p=l.getTime();p<=u;p+=10*Tne.DAY)f.push({at:new Date(p),gz:h}),h=Jy(h,n,1);return{firstChange:l,events:f}},T4=(e,t)=>{const n=t==="forward"?e===""?"":"":e===""?"":"";return r=>r===n},O4=(e,t,n,r)=>{const i=T4(r,n);let a=t;const o=[];for(const l of e.events){const u=l.gz.charAt(1);i(u)&&(a=Jy(a,n,1),o.push({at:l.at,gz:a}))}return{events:o}},Nne={:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},Cne={:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},Mne=e=>Nne[e]??("".includes(e)?e:null),Pne=e=>Cne[e]??("".includes(e)?e:null),JM=e=>{const t=Mne(e[0]),n=Pne(e[1]);if(!t||!n)throw new Error(`Invalid GZ: ${e}`);return`${t}${n}`},Dne=e=>Math.floor((e.getHours()+1)%24/2),Zw=e=>["","","","","","","","","","","",""][Dne(e)],Rne=(e,t,n)=>{const r=e.charAt(0),i=e.charAt(1),a=Ur.indexOf(r),o=ci.indexOf(i),l=t==="forward"?n:-n,u=(a+l%10+10)%10,f=(o+l%12+12)%12;return Ur[u]+ci[f]},sp=(e,t,n,r=120,i)=>{const a=fa(e).sort((_,k)=>_.date.getTime()-k.date.getTime());let o;if(n==="forward"){const _=a.findIndex(k=>k.date>=e);_>=0&&(o=a[_].date)}else{const _=a.filter(k=>k.date<=e);_.length&&(o=_[_.length-1].date)}const l=(_,k)=>{const T=Zw(_),N={:23,:1,:3,:5,:7,:9,:11,:13,:15,:17,:19,:21},O=N[T],P=(O+2)%24,C=new Date(_);if(C.setSeconds(0,0),n==="backward"&&k){const $=Zw(k),H=N[$],q=new Date(k);return q.setHours(H,0,0,0),q}if(n==="forward"&&k){const $=Zw(k),H=N[$],q=new Date(k);if(q.setHours(H,0,0,0),q>C)return q}const D=new Date(C);return n==="forward"?(D.setHours(P,0,0,0),D<=C&&D.setDate(D.getDate()+1)):(D.setHours(O,0,0,0),D>=C&&D.setDate(D.getDate()-1)),D},u=JM(Et(e,127.5)),f=l(e,o),h=Math.floor(n==="forward"?(f.getTime()-e.getTime())/6e4:(e.getTime()-f.getTime())/6e4),p=Math.round(h/120*(14400*60*1e3));let g=new Date(e.getTime()+p);try{const _=JM(Et(e,i));(n==="forward"&&u!==_||n==="backward"&&u!==_)&&(g=new Date(e.getTime()+6e4))}catch{}const x=r/10,S=[];for(let _=0;_<x;_+=1){const k=new Date(g);k.setFullYear(k.getFullYear()+_*10),k.setSeconds(0,0);const T=Rne(t,n,_+1);S.push({at:k,gz:T})}return{natalMonthPillar:t,firstChange:g,mPillars:[],events:S}},Lne=(e,t)=>{const r=(t.getTime()-e.getTime())/(365.2425*24*60*60*1e3);return Math.max(0,Math.floor(r))},j4=(e,t,n,r,i)=>{const a=T4(r,n);let o=t;const l=[];for(const u of e.events){const f=u.gz.charAt(1);a(f)&&(o=Jy(o,n,1),l.push({at:u.at,gz:o,age:Lne(i,u.at)}))}return{events:l}},Ine=e=>{const t=Number(e.birthDay.slice(0,4)),n=Number(e.birthDay.slice(4,6)),r=Number(e.birthDay.slice(6,8));let i=12,a=0;return e.birthTime&&e.birthTime!==""&&/^\d{4}$/.test(e.birthTime)&&(i=Number(e.birthTime.slice(0,2)),a=Number(e.birthTime.slice(2,4))),new Date(t,n-1,r,i,a,0,0)},kv=e=>{const t=Ine(e),n=!e.birthPlace||typeof e.birthPlace=="object"&&e.birthPlace.name==="",r=rp(t,e.birthPlace?.lon??null,n);return Ck(r)},W2=(e,t)=>{const n=e.birthPlace?.lon??127.5,r=kv(e),i=gt(r,t),a=Fa(r,t,i.charAt(0));return{year:at(r,n),month:Et(r,n),day:i,hour:a}},$ne=(()=>{const e=[];for(let t=0;t<60;t++)e.push(`${Ur[t%10]}${ci[t%12]}`);return e})(),Bne=e=>$ne.indexOf(e),Xw=e=>{if(Bne(e)<0)throw new Error(`Unknown : ${e}`);return{stem:e[0],branch:e[1]}};function zne(e,t="/"){const n=w.useMemo(()=>ap(e),[e]),r=w.useMemo(()=>kv(n),[n]),i=w.useMemo(()=>W2(n,t),[n,t]);return w.useMemo(()=>{const a=sp(r,i.month,n.dir,120,n?.birthPlace?.lon??127.5),o=new Date;function l(O,P){let C=null;const D=P.getTime();for(const $ of O)if($.at.getTime()<=D)C=$;else break;return C}const u=l(a.events,o)?.gz??i.month,f=Xw(u),h=o.getFullYear(),p=Gn(h,315),x=p&&o>=p?h:h-1,S=at(new Date(x,1,10,0,0,0),127.5),_=Xw(S),k=Et(o,127.5),T=Xw(k),N=[];return T&&N.push({key:"wolun",label:"",data:T}),_&&N.push({key:"seun",label:"",data:_}),f&&N.push({key:"daeun",label:"",data:f}),N},[r,n.dir,i.month,n.birthPlace?.lon])}function fu(e,t="/",n=100){const r=w.useMemo(()=>ap(e),[e]),i=w.useMemo(()=>kv(r),[r]),a=w.useMemo(()=>W2(r,t),[r,t]),o=(l,u)=>{const f=u.getFullYear()-l.getFullYear(),h=u.getMonth()-l.getMonth(),p=u.getDate()-l.getDate(),g=h<0||h===0&&p<0?f-1:f;return Math.max(0,g)};return w.useMemo(()=>sp(i,a.month,r.dir,n,r.birthPlace?.lon??127.5).events.map(u=>({...u,age:o(i,u.at)})),[i,a.month,r.dir,n,r.birthPlace?.lon])}function Jw(e){return e instanceof Date&&!Number.isNaN(e.getTime())}function Une(e,t){if(!Array.isArray(e)||e.length===0||!Jw(t))return{gz:"",at:t,index:-1};const n=e;for(let a=0;a<n.length;a++){const o=n[a],l=n[a+1];if(!Jw(o.at))continue;if(t.getTime()>=o.at.getTime()&&(!l||Jw(l.at)&&t.getTime()<l.at.getTime()))return{gz:o.gz??"",at:o.at,index:a}}if(t.getTime()<n[0].at.getTime()){const a=n[0];return{gz:a.gz??"",at:a.at,index:0}}const r=n.length-1,i=n[r];return{gz:i.gz??"",at:i.at,index:r}}function V2(e,t,n){const{date:r,rule:i,lon:a}=di(),o=w.useMemo(()=>n??r??new Date,[n,r]),l=fu(e,e?.mingSikType),{gz:u}=Une(l,o);return w.useMemo(()=>{try{const f=a??e?.birthPlace?.lon??127.5,h=i??e?.mingSikType??t??"/";return{dae:{gz:u,at:o},se:{gz:at(o,f),at:o},wol:{gz:Et(o,f),at:o},il:{gz:gt(o,h),at:o}}}catch{const f=new Date;return{dae:{gz:"",at:f},se:{gz:"",at:f},wol:{gz:"",at:f},il:{gz:"",at:f}}}},[o,i,a,e,t,u])}const dn=["","","",""],ai={year:0,month:1,day:2,hour:3},QM=["","","",""],Dd="",lp=[{name:"",members:["","",""],out:"",wang:""},{name:"",members:["","",""],out:"",wang:""},{name:"",members:["","",""],out:"",wang:""},{name:"",members:["","",""],out:"",wang:""}],N4=[{name:"",members:["","",""],out:"",wang:""},{name:"",members:["","",""],out:"",wang:""},{name:"",members:["","",""],out:"",wang:""},{name:"",members:["","",""],out:"",wang:""}],eP=[{name:"",members:["","",""]},{name:"",members:["","",""]}],Fne={:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},Mk={:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""};function Re(e){if(!e)return"";const t=e.replace(/[()[\]{}]/g,"").replace(/\s+/g,"").replace(/[\-_.]/g,""),n=t.match(/([]).*?([])/);if(n)return`${n[1]}${n[2]}`;const r=t.match(/([]).*?([])/);if(r){const i=Fne[r[1]]??r[1],a=Mk[r[2]]??r[2];return`${i}${a}`}return""}const Qy=e=>e&&e.length>=1?e[0]:"",Ci=e=>e&&e.length>=2?e[1]:"",Z2=[{pair:["",""],label:""},{pair:["",""],label:""},{pair:["",""],label:""},{pair:["",""],label:""},{pair:["",""],label:""}],X2=[{pair:["",""],label:""},{pair:["",""],label:""},{pair:["",""],label:""},{pair:["",""],label:""}],J2=[{pair:["",""],label:""},{pair:["",""],label:""},{pair:["",""],label:""},{pair:["",""],label:""},{pair:["",""],label:""},{pair:["",""],label:""}],Q2=[{pair:["",""],label:""},{pair:["",""],label:""},{pair:["",""],label:""},{pair:["",""],label:""},{pair:["",""],label:""},{pair:["",""],label:""}],eA=[{pair:["",""],label:""},{pair:["",""],label:""},{pair:["",""],label:""},{pair:["",""],label:""},{pair:["",""],label:""},{pair:["",""],label:""}],tA=[{pair:["",""],label:""},{pair:["",""],label:""},{pair:["",""],label:""},{pair:["",""],label:""},{pair:["",""],label:""},{pair:["",""],label:""}],nA=[{pair:["",""],label:""},{pair:["",""],label:""},{pair:["",""],label:""},{pair:["",""],label:""},{pair:["",""],label:""},{pair:["",""],label:""}],rA=[{pair:["",""],label:""},{pair:["",""],label:""},{pair:["",""],label:""},{pair:["",""],label:""},{pair:["",""],label:""},{pair:["",""],label:""}],iA=[{pair:["",""],label:""},{pair:["",""],label:""},{pair:["",""],label:""},{pair:["",""],label:""},{pair:["",""],label:""},{pair:["",""],label:""}],aA=[{pair:["",""],label:""}],oA=new Set(["","","",""]),eb=new Set(["","","",""]),sA=[{pair:["",""],label:""},{pair:["",""],label:""},{pair:["",""],label:""},{pair:["",""],label:""},{pair:["",""],label:""}],C4=[{pair:["",""],label:""},{pair:["",""],label:""},{pair:["",""],label:""},{pair:["",""],label:""},{pair:["",""],label:""},{pair:["",""],label:""},{pair:["",""],label:""},{pair:["",""],label:""},{pair:["",""],label:""},{pair:["",""],label:""},{pair:["",""],label:""},{pair:["",""],label:""}];function ri(e,t,n){for(const{pair:[r,i],label:a}of e)if(t===r&&n===i||t===i&&n===r)return a;return null}function Kt(e,t){e.includes(t)||e.push(t)}const Hne=e=>[...e].sort((t,n)=>t-n).map(t=>dn[t]).join("X"),tP=(e,t)=>e===0&&t===3||e===3&&t===0;function Gne(e,t){const n=[];for(const r of e)for(const i of t){if(r===i)continue;const a=Math.min(r,i),o=Math.max(r,i);n.push([a,o])}return n.sort((r,i)=>{const a=Math.abs(r[0]-r[1]),o=Math.abs(i[0]-i[1]);return a!==o?a-o:0})}function qne(e){const t=[],n=[...e].sort((r,i)=>r-i);for(let r=0;r<n.length;r++)for(let i=r+1;i<n.length;i++){const a=n[r],o=n[i];t.push([a,o])}return t}const M4=e=>{switch(e){case"":return"";case"":return"";case"":return"";case"":return""}};function Yne(e){if(!e)return!1;const t=e.normalize("NFC").trim();return/^#\s*$/u.test(t)}const Kne=["cheonganHap","cheonganChung","jijiSamhap","jijiBanhap","jijiBanghap","jijiYukhap","jijiChung","jijiHyeong","jijiPa","jijiHae","jijiWonjin","jijiGwimun","amhap","ganjiAmhap"];function Wne(e){if(!e||e.length===0)return e;const t=Array.from(new Set(e.map(i=>i?.normalize("NFKC")??""))).filter(Boolean),n=t.some(i=>i.includes("")||i.includes("()")),r=t.some(i=>i.includes("")||i.includes("()"));return t.filter(i=>!(n&&(i.includes("")||i.includes("")||i.includes(""))||r&&(i.includes("")||i.includes("")||i.includes(""))))}function P4(e){for(const t of Kne){const r=(e[t]??[]).map(i=>i&&i.normalize("NFKC")).filter(i=>!!i&&!Yne(i));e[t]=Array.from(new Set(r))}return e.jijiHyeong=Wne(e.jijiHyeong),e}function Vne(e,t){for(let n=0;n<e.length;n++)if((e[n]??"").includes(t))return n;return-1}function Zne(e,t){for(const n of lp)if(!(n.wang!==e&&n.wang!==t)&&n.members.includes(e)&&n.members.includes(t))return!0;return!1}function nP(e,t,n){const r=Vne(e,n);if(r<0){Kt(e,t);return}const a=(e[r]??"").includes(Dd),o=t.includes(Dd);a&&!o&&(e[r]=t)}function lA(e,t={}){const{emitGanjiAmhap:n=!0,fillNone:r=!0}=t,i=[Re(e[0]??""),Re(e[1]??""),Re(e[2]??""),Re(e[3]??"")],a={title:"",cheonganHap:[],cheonganChung:[],jijiSamhap:[],jijiBanhap:[],jijiBanghap:[],jijiYukhap:[],jijiChung:[],jijiHyeong:[],jijiPa:[],jijiHae:[],jijiWonjin:[],jijiGwimun:[],amhap:[],ganjiAmhap:[]},o=i.map(g=>Qy(g)),l=i.map(g=>Ci(g));function u(g,x){if(g===x)return;const S=o[g],_=o[x];if(!S||!_)return;const k=ri(Z2,S,_);k&&Kt(a.cheonganHap,`#${dn[g]}X${dn[x]}_${k}`);const T=ri(X2,S,_);T&&Kt(a.cheonganChung,`#${dn[g]}X${dn[x]}_${T}`)}u(ai.year,ai.month),u(ai.month,ai.day),u(ai.day,ai.hour);function f(g,x,S,_,k=!0){const T=[],N=[];for(let P=0;P<4;P++)l[P]===g&&T.push(P),l[P]===x&&N.push(P);const O=Gne(T,N);for(const[P,C]of O){const D=tP(P,C),$=`#${dn[P]}X${dn[C]}_${S}${D?Dd:""}`;if(D){Kt(_,$);continue}k?nP(_,$,S):Kt(_,$)}}const h=(g,x)=>{for(const{pair:[S,_],label:k}of g)f(S,_,k,x)};h(J2,a.jijiYukhap),h(Q2,a.jijiChung),h(eA,a.jijiPa),h(tA,a.jijiHae),h(nA,a.jijiWonjin),h(rA,a.jijiGwimun);for(const g of lp){if(!g.members.every(T=>l.includes(T)))continue;const S=[];for(let T=0;T<4;T++)g.members.includes(l[T])&&S.push(T);const _=S.includes(ai.year)&&S.includes(ai.hour),k=Hne(S);Kt(a.jijiSamhap,`#${k}_${g.name}${_?Dd:""}`)}for(const{pair:[g,x],label:S}of C4)Zne(g,x)&&f(g,x,S,a.jijiBanhap,!1);for(const{pair:[g,x],label:S}of iA)f(g,x,S,a.jijiHyeong);for(const{pair:[g,x],label:S}of aA)f(g,x,S,a.jijiHyeong);for(const g of oA){const x=l.map((S,_)=>S===g?_:-1).filter(S=>S>=0);if(!(x.length<2))for(const[S,_]of qne(x)){const k=tP(S,_),T=`#${dn[S]}X${dn[_]}_${g}${k?Dd:""}`;nP(a.jijiHyeong,T,`${g}`)}}for(const{pair:[g,x],label:S}of sA)f(g,x,S,a.amhap);if(n)for(let g=0;g<4;g++){const x=i[g]??"";if(x.length<2)continue;const S=`${x[0]}${x[1]}`;eb.has(S)&&Kt(a.ganjiAmhap,`#${M4(dn[g])}_${S}`)}const p=P4(a);if(r)for(const g of Object.keys(p)){if(g==="title")continue;const x=p[g];Array.isArray(x)&&x.length===0&&(p[g]=["#"])}return p}function Xne(e,t){return e===ai.year&&t===ai.hour||e===ai.hour&&t===ai.year}function Jne(e,t){for(const n of lp)if(!(n.wang!==e&&n.wang!==t)&&n.members.includes(e)&&n.members.includes(t))return!0;return!1}function Qne(e,t){const n=[],r=new Set;for(const i of e)for(const a of t){if(i===a)continue;const o=Math.min(i,a),l=Math.max(i,a),u=`${o}-${l}`;r.has(u)||(r.add(u),n.push([o,l]))}return n}function Sl(e,t={}){const{emitNatalGanjiAmhap:n=!1}=t,r=[Re(e.natal[0]??""),Re(e.natal[1]??""),Re(e.natal[2]??""),Re(e.natal[3]??"")],a=[Re(e.daewoon??""),Re(e.sewoon??""),Re(e.wolwoon??"")].some(p=>p.length>=2),o={cheonganHap:[],cheonganChung:[],jijiSamhap:[],jijiBanhap:[],jijiBanghap:[],jijiYukhap:[],jijiChung:[],jijiHyeong:[],jijiPa:[],jijiHae:[],jijiWonjin:[],jijiGwimun:[],amhap:[],ganjiAmhap:[]},l=r.map(p=>{const g=Ci(p??"");return Mk[g]??g});for(const{pair:[p,g],label:x}of C4){if(!Jne(p,g))continue;const S=[],_=[];for(let T=0;T<4;T++)l[T]===p&&S.push(T),l[T]===g&&_.push(T);const k=Qne(S,_);for(const[T,N]of k){const O=Xne(T,N),P=`#${dn[T]}X${dn[N]}_${x}${O?Dd:""}`;Kt(o.jijiBanhap,P)}}if(n&&a)for(let p=0;p<4;p++){const g=r[p]??"";if(g.length<2)continue;const x=`${g[0]}${g[1]}`;eb.has(x)&&Kt(o.ganjiAmhap,`#${M4(dn[p])}_${x}`)}const u=[["",e.daewoon],["",e.sewoon],["",e.wolwoon],["",e.ilwoon]];let f=!1,h=!1;for(const[p,g]of u){if(!g)continue;const x=Re(g);if(!x||x.length<2)continue;const S=Qy(x),_=Ci(x);{const T=`${S}${_}`;eb.has(T)&&Kt(o.ganjiAmhap,`#${p}_${T}`)}for(let T=0;T<4;T++){const N=r[T]??"";if(N.length<2)continue;const O=dn[T],P=Qy(N),C=Ci(N),D=ri(Z2,S,P);D&&Kt(o.cheonganHap,`#${p}X${O}_${D}`);const $=ri(X2,S,P);$&&Kt(o.cheonganChung,`#${p}X${O}_${$}`);const H=ri(J2,_,C);H&&Kt(o.jijiYukhap,`#${p}X${O}_${H}`);const q=ri(Q2,_,C);q&&Kt(o.jijiChung,`#${p}X${O}_${q}`);const K=ri(eA,_,C);K&&Kt(o.jijiPa,`#${p}X${O}_${K}`);const U=ri(tA,_,C);U&&Kt(o.jijiHae,`#${p}X${O}_${U}`);const z=ri(nA,_,C);z&&Kt(o.jijiWonjin,`#${p}X${O}_${z}`);const V=ri(rA,_,C);V&&Kt(o.jijiGwimun,`#${p}X${O}_${V}`);const J=ri(iA,_,C);if(J)Kt(o.jijiHyeong,`#${p}X${O}_${J}`);else{const Y=ri(aA,_,C);Y?Kt(o.jijiHyeong,`#${p}X${O}_${Y}`):_===C&&oA.has(_)&&Kt(o.jijiHyeong,`#${p}X${O}_${_}${C}`)}const Q=ri(sA,_,C);Q&&Kt(o.amhap,`#${p}X${O}_${Q}`)}for(const T of lp){if(!T.members.includes(_))continue;const N=T.members.filter(P=>P!==_),O=l.map((P,C)=>({b:P,pos:dn[C]})).filter(P=>P.b&&N.includes(P.b));if(new Set(O.map(P=>P.b)).size===2){const[P,C]=O.map(D=>D.pos).sort((D,$)=>dn.indexOf(D)-dn.indexOf($));Kt(o.jijiSamhap,`#${p}X${P}X${C}_(${T.name})`)}}for(const T of eP){if(!T.members.includes(_))continue;const N=T.members.filter(P=>P!==_),O=l.map((P,C)=>({b:P,pos:dn[C]})).filter(P=>P.b&&N.includes(P.b));if(new Set(O.map(P=>P.b)).size===2){const[P,C]=O.map(D=>D.pos).sort((D,$)=>dn.indexOf(D)-dn.indexOf($));Kt(o.jijiHyeong,`#${p}X${P}X${C}_${T.name}`),T.name===""&&(f=!0),T.name===""&&(h=!0)}}const k=[...r.map((T,N)=>({b:Mk[Ci(T)]??Ci(T),pos:dn[N]}))];for(const T of N4){const N=k.filter(O=>T.members.includes(O.b));if(new Set(N.map(O=>O.b)).size===3){const O=N.map(P=>P.pos).join("X");Kt(o.jijiBanghap,`#${O}_(${T.name})`)}}}{const p=[],g=[["",e.daewoon],["",e.sewoon],["",e.wolwoon],["",e.ilwoon]];for(const[x,S]of g){const _=Re(S??"");_.length>=2&&p.push({kind:x,b:Ci(_)})}if(p.length>=2){const x=r.map((S,_)=>({pos:dn[_],b:Ci(S)}));for(const S of eP)for(let _=0;_<p.length;_++)for(let k=_+1;k<p.length;k++){const T=p[_],N=p[k];for(const O of x){const P=new Set([O.b,T.b,N.b]);if(P.size===3&&S.members.every(C=>P.has(C))){const C=[T.kind,N.kind].sort(($,H)=>QM.indexOf($)-QM.indexOf(H)).join("X"),D=`${O.pos}X${C}`;Kt(o.jijiHyeong,`#${D}_${S.name}`),S.name===""&&(f=!0),S.name===""&&(h=!0)}}}}}return(f||h)&&(o.jijiHyeong=o.jijiHyeong.filter(p=>!(f&&/(||)/.test(p)||h&&/(||)/.test(p)))),P4(ere(o))}function ere(e){const t=/(|||)X(|||)/,n={...e};for(const r of Object.keys(e)){if(r==="title")continue;const i=e[r];Array.isArray(i)&&(n[r]=i.filter(a=>!t.test(a??"")))}return n}const tre={:"",:"",:"",:"",:""},rP={:"",:"",:"",:"",:""},nre={:"",:"",:"",:"",:""},rre={:"",:"",:"",:"",:""},ire={:.15,:.1,:-.15,:-.2,:-.25};function are(e,t){const n=Array.from(new Set(t)).sort((r,i)=>r-i);if(n.length<3)return!1;for(let r=0;r<n.length;r++){const i=n[r],a=n[r+1],o=n[r+2];if(!(a==null||o==null)&&o-i<=2&&(e===i||e===a||e===o))return!0}return!1}function ore(e){const t=e.includes(ai.month),n=are(ai.month,e)||e.length>=3;return t&&n?"":t||e.length>=2?"":""}function sre(e,t,n,r){const i=r===""?2:r===""?1:.5;e[t]=(e[t]??0)-i,e[n]=(e[n]??0)+i}function lre(e,t,n={}){const{includeBanghap:r=!0,includeSamhap:i=!0}=n,a=[Re(e[0]??""),Re(e[1]??""),Re(e[2]??""),Re(e[3]??"")],o=a.map(h=>Ci(h)).filter(Boolean),l=[],u={...t},f=(h,p)=>{const g=[];for(let T=0;T<a.length;T++){const N=Ci(a[T]??"");p.members.includes(N)&&g.push(T)}if(!p.members.every(T=>o.includes(T)))return;const S=ore(g),_=p.out,k=rP[_];sre(u,k,_,S),l.push({type:h,name:p.name,out:p.out,strength:S})};if(i)for(const h of lp)f("",h);if(r)for(const h of N4)f("",h);return{applied:l,score:u,strengthAdj:ire,shengNext:tre,shengPrev:rP,ke:nre,keInv:rre}}function tb(e){return dn[e]}function iP(e){const t=new Map,n=new Map;for(let r=0;r<4;r++){const i=Re(e[r]??""),a=Qy(i),o=Ci(i);a&&t.set(a,[...t.get(a)??[],r]),o&&n.set(o,[...n.get(o)??[],r])}return{stemPos:t,branchPos:n}}function Lh(e,t,n){const r=[];for(const i of t)for(const a of n)r.push(`#${tb(i)}X${tb(a)}_${e}`);return r}function cre(e,t){const n=iP(e),r=iP(t),i={:[],:[],:[],:[],:[],:[],:[],:[],:[],:[],:[],:[],:[],:[]},a=(l,u)=>{l.includes(u)||l.push(u)};for(const{pair:[l,u],label:f}of Z2){const h=[...n.stemPos.get(l)??[],...n.stemPos.get(u)??[]],p=[...r.stemPos.get(l)??[],...r.stemPos.get(u)??[]];if(h.length&&p.length)for(const g of Lh(f,h,p))a(i.,g)}for(const{pair:[l,u],label:f}of X2){const h=[...n.stemPos.get(l)??[],...n.stemPos.get(u)??[]],p=[...r.stemPos.get(l)??[],...r.stemPos.get(u)??[]];if(h.length&&p.length)for(const g of Lh(f,h,p))a(i.,g)}const o=(l,u)=>{const f=Array.from(n.branchPos.keys()),h=Array.from(r.branchPos.keys());for(const p of f)for(const g of h){const x=ri(u,p,g);if(!x)continue;const S=n.branchPos.get(p)??[],_=r.branchPos.get(g)??[];for(const k of Lh(x,S,_))a(i[l],k)}};o("",J2),o("",Q2),o("",eA),o("",tA),o("",nA),o("",rA),o("",iA),o("",aA);for(const l of oA){const u=n.branchPos.get(l)??[],f=r.branchPos.get(l)??[];if(!(!u.length||!f.length))for(const h of Lh(`${l}`,u,f))a(i.,h)}for(const{label:l,pair:[u,f]}of sA){const h=[...n.branchPos.get(u)??[],...n.branchPos.get(f)??[]],p=[...r.branchPos.get(u)??[],...r.branchPos.get(f)??[]];if(!(!h.length||!p.length))for(const g of Lh(l,h,p))a(i.,g)}{const l=Array.from(n.stemPos.keys()),u=Array.from(r.stemPos.keys());for(const f of l)for(const h of u){const p=n.stemPos.get(f)??[],g=r.stemPos.get(h)??[];for(const x of p){const S=Ci(Re(e[x]??"")),_=`${f}${S}`;if(eb.has(_))for(const k of g){const T=Ci(Re(t[k]??""));`${h}${T}`===_&&a(i.,`#${tb(x)}X${tb(k)}_${_}`)}}}}return i}const D4=new Set(Object.keys(In)),R4=new Set(Object.keys(Kn)),ure=e=>e.slice(0,1),dre=e=>e.slice(-1);function cs(e){return Bd.has(e)?e:D4.has(e)?In[e]??e:e}function wr(e){return ym.has(e)?e:R4.has(e)?Kn[e]??e:e}function po(e){return cs(ure(e))}function Ht(e){return wr(dre(e))}function fre(e){if(!e)return null;const t=Array.from(String(e));let n=null,r=null;for(const i of t)!n&&(Bd.has(i)||D4.has(i))&&(n=cs(i)),(ym.has(i)||R4.has(i))&&(r=wr(i));return n&&r?{stem:n,branch:r}:null}function hre(e){return e.map(Ht)}function w0(e,t,n="classic"){const r=po(t),i=Ht(t),a=(n==="hgc"?dv:uv)[i]??[];return[r,...a].includes(e)}const Pk=[["",""],["",""],["",""],["",""],["",""],["",""]],Dk=[["",""],["",""],["",""],["",""],["",""],["",""]],mre=new Set(["","","",""]),L4=[["",""],["",""]],pre=[{set:new Set(["","","","","","","","","",""]),voids:["",""]},{set:new Set(["","","","","","","","","",""]),voids:["",""]},{set:new Set(["","","","","","","","","",""]),voids:["",""]},{set:new Set(["","","","","","","","","",""]),voids:["",""]},{set:new Set(["","","","","","","","","",""]),voids:["",""]},{set:new Set(["","","","","","","","","",""]),voids:["",""]}];function fm(e,t,n){const r=wr(t),i=wr(n);for(const[a,o]of e)if(a===r&&o===i||a===i&&o===r)return!0;return!1}function aP(e,t,n){const r=wr(t),i=wr(n);for(const[a,o]of e)if(a===r&&o===i||a===i&&o===r)return`${a}${o}`;return`${r}${i}`}function nb(e){for(const t of pre)if(t.set.has(e))return t.voids;return null}function Rk(e){const t=wr(e),n=[{group:new Set(["","",""]),years:new Set(["","",""])},{group:new Set(["","",""]),years:new Set(["","",""])},{group:new Set(["","",""]),years:new Set(["","",""])},{group:new Set(["","",""]),years:new Set(["","",""])}];for(const r of n)if(r.group.has(t))return Array.from(r.years);return null}const Hn={2:4,1:3,3:2,0:1},kd={1:4,2:3,0:2,3:1},Se={year:0,month:1,day:2,hour:3};function gre(e){return e===3?"si":e===2?"il":e===1?"wol":"yeon"}const ru=e=>e===0?"":e===1?"":e===2?"":"",mf=e=>e==="dae"?"":e==="se"?"":e==="wol"?"":"",yre=(e,t)=>`#X${ru(t)}_${e}`,Rd=(e,t,n)=>t===Se.month&&n===Se.day?`#X_${e}`:t===Se.year&&n===Se.month?`#X_${e}`:t===Se.year&&n===Se.day?`#X_${e}`:t===Se.month&&n===Se.hour?`#X_${e}`:t===Se.day&&n===Se.hour?`#X_${e}`:`#${ru(t)}X${ru(n)}_${e}`,S0=(e,t)=>`#${ru(t)}_${e}`,I4=(e,t)=>`#X${ru(t)}_${e}`,bre=(e,t)=>`#(${e==="day"?"":""})X${ru(t)}_`,ld=e=>`#_${e}`,cd=(e,t)=>`#X${mf(t)}_${e}`,Ih=(e,t)=>`#X${mf(t)}_${e}`,Qw=(e,t,n)=>`#${ru(n)}X${mf(t)}_${e}`,vre=(e,t)=>`#(${t==="day"?"":""})_${mf(e)}_`,xre=(e,t)=>`#(${t==="day"?"":""})X${mf(e)}_`,oP=(e,t)=>`#X${mf(e)}_${t}`;function Lk(e,t){const n=wr(e),r=[Se.day,Se.month,Se.hour,Se.year];for(const i of r)if(Ht(t[i])===n)return{pos:i,weight:Hn[i]??0};return null}function cA(e,t,n){return Ht(t[n])===wr(e)?{pos:n,weight:Hn[n]}:null}function _re(e,t){const n=cs(e),r=[Se.day,Se.month,Se.hour,Se.year];for(const i of r)if(po(t[i])===n)return{pos:i,weight:Hn[i]??0};return null}const wre=e=>(Array.isArray(e)?e:String(e).split("")).map(t=>wr(t.trim())).filter(Boolean),cn=e=>Object.fromEntries(Object.entries(e).map(([t,n])=>[cs(t),wre(n)])),Sre=cn({:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),$4=cn({:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),kre=cn({:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),Ere=cn({:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),Are=cn({:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),Tre=cn({:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),Ore=cn({:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),B4=cn({:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),jre=cn({:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),Nre=cn({:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),Cre=cn({:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),Mre=cn({:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),Pre=cn({:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),z4=cn({:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),Dre=cn({:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),Rre=cn({:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),sP=cn({:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),Lre=cn({:"",:"",:"",:""}),Ire=cn({:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),lP=cn({:"",:"",:""}),cP=cn({:"",:"",:""}),$re=cn({:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),U4=cn({:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),F4=cn({:"",:"",:"",:"",:"",:"",:""}),Bre=e=>(Array.isArray(e)?e:String(e).split("")).map(t=>wr(t.trim())).filter(Boolean),va=e=>Object.fromEntries(Object.entries(e).map(([t,n])=>[wr(t),(Array.isArray(n)?n:[n]).map(r=>wr(r))])),Ev=e=>Object.fromEntries(Object.entries(e).map(([t,n])=>[wr(t),Bre(n)])),H4={:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},G4={:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},q4={:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},Y4={:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},zre=va({:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),uP=va({:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),Ure=Ev({:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),Fre=Ev({:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),Hre=Ev({:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),Gre=Ev({:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),qre=va({:["",""],:["",""],:["",""],:["",""],:["",""],:["",""],:["",""],:["",""],:["",""],:["",""],:["",""],:["",""]}),Yre=va({:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),Kre=va({:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),Wre=va({:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),Vre=va({:["",""],:["",""],:["",""],:["",""],:["",""],:["",""],:["",""],:["",""],:["",""],:["",""],:["",""],:["",""]}),K4=va({:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),Zre=va({:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),Xre=va({:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),Jre=va({:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),Qre=va({:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),hn=e=>Object.fromEntries(Object.entries(e).map(([t,n])=>[wr(t),(Array.isArray(n)?n:[n]).map(r=>wr(r))])),eie=hn({:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),W4=hn({:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),tie=hn({:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),nie=hn({:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),rie=hn({:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),V4=hn({:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),iie=hn({:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),aie=hn({:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),oie=hn({:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),sie=hn({:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),lie=hn({:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),Z4=hn({:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),cie=hn({:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),uie=hn({:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),die=hn({:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),fie=hn({:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),hie=hn({:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),mie=hn({:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),X4=hn({:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),pie=Z4,gie=W4,yie=X4,bie=hn({:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),vie=V4,xie=hn({:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),_ie=hn({:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),wie=hn({:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""});function cp(e,t){e.push(t)}function e1(e,t,n,r,i=0){const a=kd[n]>=kd[r]?n:r;e.push({name:Rd(t,n,r),weight:Hn[a]+i,pos:a})}function Sie(e,t,n,r,i){const a=Ht(e[Se.year]),o=t[a];if(!o)return;const l=n==="MONTH"?[Se.month]:n==="DAY"?[Se.day]:n==="HOUR"?[Se.hour]:[Se.year,Se.month,Se.day,Se.hour];for(const u of o)for(const f of l){const h=cA(u,e,f);h&&cp(i,{name:Rd(r,Se.year,f),weight:h.weight,pos:f})}}function kie(e,t,n,r){const i=Ht(e[Se.month]),a=t[i];if(!a)return;const o=cs(a),l=_re(o,e);l&&cp(r,{name:I4(n,l.pos),weight:l.weight,pos:l.pos})}function dP(e,t,n,r,i="ALL"){const a=Ht(e[Se.month]),o=t[a];if(!o)return;const l=i==="YEAR"?[Se.year]:i==="DAY"?[Se.day]:i==="HOUR"?[Se.hour]:i==="DAY_HOUR"?[Se.day,Se.hour]:[Se.year,Se.month,Se.day,Se.hour];for(const u of o)for(const f of l){const h=cA(u,e,f);if(!h)continue;const p=f===Se.month?`#_${n}`:I4(n,f);cp(r,{name:p,weight:h.weight,pos:f})}}function fP(e,t,n,r){const i=Ht(e[Se.month]),a=t[i];if(!a)return;const o=e[Se.day];a.includes(o)&&cp(r,{name:Rd(n,Se.month,Se.day),weight:Hn[Se.day],pos:Se.day})}function hP(e,t,n,r,i){const a=po(e[Se.day]),o=t[a];if(!o)return;const l=i==="DAY"?[Se.day]:i==="HOUR"?[Se.hour]:[Se.year,Se.month,Se.day,Se.hour];for(const u of o)for(const f of l){const h=cA(u,e,f);h&&cp(r,{name:yre(n,f),weight:h.weight,pos:f})}}function Eie({natal:e,daewoon:t,basis:n}){const r=po(e[Se.day]),i=Ht(e[Se.day]),a=Ht(e[Se.month]),o=Ht(e[Se.year]),l=hre(e),u=[],f=[],h=[[eie,"MONTH",""],[W4,"DAY",""],[nie,"MONTH",""],[rie,"MONTH",""],[iie,"ALL",""],[aie,"HOUR",""],[oie,"ALL",""],[sie,"ALL",""],[lie,"ALL",""],[Z4,"ALL",""],[cie,"ALL",""],[uie,"ALL",""],[die,"ALL",""],[fie,"ALL",""],[hie,"ALL",""],[mie,"ALL",""],[X4,"ALL",""],[pie,"ALL",""],[gie,"ALL",""],[yie,"ALL",""],[bie,"ALL",""],[vie,"ALL",""],[xie,"ALL",""],[_ie,"ALL",""],[wie,"ALL",""]];for(const[P,C,D]of h)Sie(e,P,C,D,f);const p=[[H4,""],[G4,""],[q4,""],[Y4,""]];for(const[P,C]of p)kie(e,P,C,u);const g=[[zre,"","ALL"],[uP,"","YEAR"],[uP,"","DAY"],[qre,"","ALL"],[Yre,"","ALL"],[Kre,"","ALL"],[Wre,"","ALL"],[Vre,"","ALL"]];for(const[P,C,D]of g)dP(e,P,C,f,D);const x=[[K4,"","ALL"],[Zre,"","DAY_HOUR"],[Xre,"","DAY_HOUR"],[Jre,"","ALL"],[Qre,"","ALL"]];for(const[P,C,D]of x)dP(e,P,C,u,D);const S=[[Ure,""],[Gre,""]];for(const[P,C]of S)fP(e,P,C,u);const _=[[Fre,""],[Hre,""]];for(const[P,C]of _)fP(e,P,C,f);const k=[[Sre,"","ALL"],[$4,"","ALL"],[kre,"","ALL"],[Ere,"","ALL"],[Are,"","ALL"],[Tre,"","ALL"],[Ore,"","ALL"],[B4,"","ALL"],[jre,"","ALL"],[Nre,"","ALL"],[Cre,"","ALL"],[Mre,"","ALL"],[Pre,"","ALL"],[$re,"","ALL"]];for(const[P,C,D]of k)hP(e,P,C,u,D);const T=[[z4,"","ALL"],[Dre,"","ALL"],[Rre,"","ALL"],[sP,"","DAY"],[sP,"","HOUR"],[lP,"","DAY"],[lP,"","HOUR"],[cP,"","DAY"],[cP,"","HOUR"],[Lre,"","DAY"],[Ire,"","ALL"],[U4,"","ALL"]];for(const[P,C,D]of T)hP(e,P,C,f,D);if(new Set(["","","",""]).has(e[Se.day])){f.push({name:ld(""),weight:Hn[Se.day],pos:Se.day});for(const C of[Se.year,Se.month,Se.hour])e[C]===e[Se.day]&&f.push({name:S0("",C),weight:Hn[C],pos:C})}{const P=F4[r];if(P)for(const C of[Se.year,Se.month,Se.day,Se.hour]){const D=po(e[C]),$=Ht(e[C]);D===r&&P.includes($)&&f.push({name:S0("",C),weight:Hn[C],pos:C})}}for(const[P,C]of L4){const D=Lk(P,e),$=Lk(C,e);D&&$&&e1(f,"",D.pos,$.pos)}{const P=new Set(["",""]),C=new Set(["","","",""]);for(let D=0;D<=3;D++){const $=po(e[D]),H=Ht(e[D]);(P.has($)||C.has(H))&&f.push({name:S0("",D),weight:Hn[D],pos:D})}}{const P=e[Se.hour],C=($,H)=>$.includes(r)&&H.includes(P);(C(["",""],["",""])||C(["",""],["",""])||C(["",""],["",""])||C(["",""],["",""])||C(["",""],["",""]))&&f.push({name:ld(""),weight:Hn[Se.hour],pos:Se.hour})}["","","",""].every(P=>l.includes(P))&&u.push({name:ld(""),weight:Hn[Se.day],pos:Se.day});{const P=e[Se.day],C=e[Se.hour];(P===""&&C===""||P===""&&C==="")&&f.push({name:Rd("",Se.day,Se.hour),weight:Hn[Se.hour],pos:Se.hour})}{const P=Ht(e[Se.year]),C=new Set(l.slice(1)),D=(H,q)=>H.every(K=>C.has(K))&&P===q;(D(["","",""],"")||D(["","",""],"")||D(["","",""],"")||D(["","",""],""))&&u.push({name:ld(""),weight:Hn[Se.day],pos:Se.day})}(e[Se.day]===""||e[Se.day]==="")&&u.push({name:ld(""),weight:Hn[Se.day],pos:Se.day});{const C={:{rok:"",maStem:""},:{rok:"",maStem:""},:{rok:"",maStem:""},:{rok:"",maStem:""},:{rok:"",maStem:""},:{rok:"",maStem:""},:{rok:"",maStem:""},:{rok:"",maStem:""},:{rok:"",maStem:""},:{rok:"",maStem:""}}[r];C&&e.some($=>Ht($)===C.rok)&&po(e[Se.hour])===C.maStem&&u.push({name:Rd("",Se.day,Se.hour),weight:Hn[Se.hour],pos:Se.hour})}{const P=Ht(e[Se.hour]),D={:{rok:"",ma:"",rokStem:"",maStem:""},:{rok:"",ma:"",rokStem:"",maStem:""},:{rok:"",ma:"",rokStem:"",maStem:""},:{rok:"",ma:"",rokStem:"",maStem:""},:{rok:"",ma:"",rokStem:"",maStem:""},:{rok:"",ma:"",rokStem:"",maStem:""},:{rok:"",ma:"",rokStem:"",maStem:""},:{rok:"",ma:"",rokStem:"",maStem:""},:{rok:"",ma:"",rokStem:"",maStem:""},:{rok:"",ma:"",rokStem:"",maStem:""}}[r];if(D){const $=i===D.rok,H=P===D.ma,q=w0(D.rokStem,e[Se.day],"classic")||w0(D.rokStem,e[Se.hour],"classic"),K=w0(D.maStem,e[Se.day],"classic")||w0(D.maStem,e[Se.hour],"classic");$&&H&&(q||K)&&u.push({name:Rd("",Se.day,Se.hour),weight:Hn[Se.hour],pos:Se.hour})}}{const P=new Set(["","","","","",""]),C=e.map(po),D=e.map(Ht),$=C.concat(D).filter(U=>P.has(U)).length,H=t?po(t):"",q=t?Ht(t):"",K=P.has(H)||P.has(q);($>=4||$===3&&K)&&f.push({name:ld(""),weight:Hn[Se.day],pos:Se.day})}{const P=new Set(["",""]),C=new Set(["",""]);for(let D=0;D<=3;D++){const $=po(e[D]),H=Ht(e[D]);(P.has($)||C.has(H))&&f.push({name:S0("",D),weight:Hn[D],pos:D})}}{const P=[[Se.year,Se.month],[Se.year,Se.day],[Se.month,Se.day],[Se.month,Se.hour],[Se.day,Se.hour]];for(const[C,D]of P){const $=Ht(e[C]),H=Ht(e[D]);if(fm(Pk,$,H)){const q=aP(Pk,$,H);e1(f,`${q}`,C,D)}}}{const P=[[Se.year,Se.month,0],[Se.month,Se.day,1],[Se.month,Se.hour,0],[Se.day,Se.hour,0]];for(const[C,D,$]of P){const H=Ht(e[C]),q=Ht(e[D]);if(fm(Dk,H,q)){const K=aP(Dk,H,q),U=($?1:0)+(mre.has(H+q)?1:0);e1(f,`${K}`,C,D,U)}}}const N=nb(e[Se.day]),O=nb(e[Se.year]);{const P=(n?.voidBasis??"day")==="day"?N:O;if(P){const[C,D]=P.map(wr);for(const $ of[Se.year,Se.month,Se.day,Se.hour]){const H=Ht(e[$]);(H===C||H===D)&&f.push({name:bre(n?.voidBasis??"day",$),weight:Hn[$],pos:$})}}}return{goodPos:u,badPos:f,dayVoid:N,yearVoid:O,dStem:r,dBranch:i,mBranch:a,yBranch:o,branches:l}}function k0({src:e,luck:t,natal:n,dStem:r,dBranch:i,mBranch:a,yBranch:o,branches:l,dayVoid:u,yearVoid:f,basis:h}){const p=[],g=[],x=(N,O)=>{N.includes(O)||N.push(O)},S=fre(t??null);if(!S)return{good:p,bad:g};const _=S.branch,k=S.stem;cs(H4[a]??"")===k&&x(p,Ih("",e)),cs(G4[a]??"")===k&&x(p,Ih("",e)),cs(q4[a]??"")===k&&x(p,Ih("",e)),cs(Y4[a]??"")===k&&x(p,Ih("",e)),K4[a]?.includes(_)&&x(p,Ih("",e)),$4[r]?.includes(_)&&x(p,cd("",e)),B4[r]?.includes(_)&&x(p,cd("",e)),z4[r]?.includes(_)&&x(g,cd("",e)),U4[r]?.includes(_)&&x(g,cd("",e)),F4[r]?.includes(_)&&x(g,cd("",e)),e==="se"&&(tie[o]?.includes(_)&&x(g,oP(e,"")),V4[o]?.includes(_)&&x(g,oP(e,"")));for(const N of l)if(fm(L4,_,N)){const O=Lk(N,n)?.pos;O!==void 0&&x(g,Qw("",e,O));break}new Set(["",""]).has(r)&&new Set(["","","",""]).has(_)&&x(g,cd("",e));const T=(h?.voidBasis??"day")==="day"?u:f;T&&(_===T[0]||_===T[1])&&x(g,vre(e,h?.voidBasis??"day"));for(let N=0;N<=3;N++){const O=Ht(n[N]);fm(Pk,_,O)&&x(g,Qw("",e,N)),fm(Dk,_,O)&&x(g,Qw("",e,N))}if(e==="se"){const N=(h?.samjaeBasis??"day")==="day"?i:o,O=N?Rk(N):null;O&&O.includes(_)&&x(g,xre(e,h?.samjaeBasis??"day"))}return{good:p,bad:g}}const Aie=/^#(|||)X\1_/,Tie=e=>Aie.test(e);function mP(e){const t=new Map;for(const n of e){if(Tie(n.name))continue;const r=`${n.name}@${n.pos}`,i=t.get(r);(!i||n.weight>i.weight)&&t.set(r,n)}return Array.from(t.values()).sort((n,r)=>r.weight!==n.weight?r.weight-n.weight:n.name.localeCompare(r.name,"ko"))}function Oie(e){const t=e.lastIndexOf("_");return t>=0?e.slice(t+1):e}const jie=new Set(["",""]);function Nie(e){return jie.has(e)?!0:e.endsWith("")||e.endsWith("")}function pP(e){const t=new Map;for(const r of e){const i=Oie(r.name);t.has(i)||t.set(i,[]),t.get(i).push(r)}const n=[];for(const[r,i]of t)if(Nie(r))n.push(...i);else{const a=i.sort((o,l)=>kd[o.pos]!==kd[l.pos]?kd[l.pos]-kd[o.pos]:l.weight-o.weight)[0];n.push(a)}return n}function gP(e,t){const n={si:[],il:[],yeon:[],wol:[]},r=gre;for(const i of e)n[r(i.pos)].push(i.name);return n}function qd({natal:e,daewoon:t,sewoon:n,wolwoon:r,ilwoon:i,basis:a}){const{goodPos:o,badPos:l,dayVoid:u,yearVoid:f,dStem:h,dBranch:p,mBranch:g,yBranch:x,branches:S}=Eie({natal:e,daewoon:t,basis:a}),_=pP(mP(o)),k=pP(mP(l)),T=gP(_),N=gP(k),O=k0({src:"dae",luck:t??null,natal:e,dStem:h,dBranch:p,mBranch:g,yBranch:x,branches:S,dayVoid:u,yearVoid:f,basis:a}),P=k0({src:"se",luck:n??null,natal:e,dStem:h,dBranch:p,mBranch:g,yBranch:x,branches:S,dayVoid:u,yearVoid:f,basis:a}),C=k0({src:"wol",luck:r??null,natal:e,dStem:h,dBranch:p,mBranch:g,yBranch:x,branches:S,dayVoid:u,yearVoid:f,basis:a}),D=k0({src:"il",luck:i??null,natal:e,dStem:h,dBranch:p,mBranch:g,yBranch:x,branches:S,dayVoid:u,yearVoid:f,basis:a});return{good:{...T,dae:O.good,se:P.good,wolun:C.good,ilun:D.good},bad:{...N,dae:O.bad,se:P.bad,wolun:C.bad,ilun:D.bad},meta:{voidPair:{day:nb(e[Se.day])??void 0,year:nb(e[Se.year])??void 0},samjaeYears:{day:Rk(Ht(e[Se.day]))??void 0,year:Rk(Ht(e[Se.year]))??void 0},currentBasis:{voidBasis:a?.voidBasis??"day",samjaeBasis:a?.samjaeBasis??"day"}}}}function Cie(e){return typeof e=="object"&&e!==null}function pf(e){const t=k4;return Cie(t)&&("Classic"in t||"Modern"in t||"classic"in t||"modern"in t)?e==="classic"?t.Classic:t.Modern:e}const yP=["","","","","","","","","",""],Mie=["","","","","","","","","","","",""],Pie=["","","","","","","","","","","",""];function Die(e){const t=fv(e);return t===""||t===""?0:t===""||t===""?2:t===""||t===""?4:t===""||t===""?6:8}function Rie(e,t){const n=Die(e);return(t?Pie:Mie).map((i,a)=>`${yP[(n+a)%10]??yP[0]}${i}`)}function hm(e){const t=n=>n.toString().padStart(2,"0");return`${e.getFullYear()} ${t(e.getMonth()+1)} ${t(e.getDate())} ${t(e.getHours())} ${t(e.getMinutes())}`}function bP(e){return e<10?`0${e}`:`${e}`}function J4(e){return`${bP(e.getHours())}:${bP(e.getMinutes())}`}function uA(e){return!e||e===""?!0:!/^\d{4}$/.test(e)}function vP(e,t){if(!e||!/^\d{8}$/.test(e))return"";const n=e.slice(0,4),r=e.slice(4,6),i=e.slice(6,8),a=`${n}-${r}-${i}`;return!t||uA(t)?a:`${a} ${t.slice(0,2)}:${t.slice(2,4)}`}function Lie(e,t,n){if(n)return"";const r=(e??"").trim();if(r)return r;const i=t instanceof Date?t:new Date(t);return Number.isNaN(i.getTime())?"":J4(i)}const xP=["","/",""],Iie="/";function Q4(e,t){return e&&xP.includes(e)?e:t&&xP.includes(t)?t:Iie}function _P(e){return e===""}function $ie(e){return e===""?"":""}function Bie(e){switch(e){case"":return 1;case"":return 2;case"":return 3;case"":default:return 0}}const zie=e=>e instanceof Date&&!Number.isNaN(e.getTime());function wP(e,t){const n=uA(e.birthTime);let r=Number(e.birthDay?.slice(0,4)??2e3),i=Number(e.birthDay?.slice(4,6)??1),a=Number(e.birthDay?.slice(6,8)??1);if(e.calendarType==="lunar"){const O=Hi(r,i,a);r=O.getFullYear(),i=O.getMonth()+1,a=O.getDate()}const o=n?4:Number(e.birthTime?.slice(0,2)??4),l=n?30:Number(e.birthTime?.slice(2,4)??30),u=new Date(r,i-1,a,o,l,0,0),f=!e.birthPlace||e.birthPlace.name===""||!e.birthPlace.lon,h=f?127.5:e.birthPlace.lon,p=zie(e.corrected);let g;p?g=e.corrected:f?g=u:g=rp(u,h,n);const x=t?new Date(g.getTime()-3600*1e3):g,S=Q4(e.mingSikType),_=at(x,h),k=Et(x,h),T=gt(x,S),N=n?null:Fa(x,S);return{corrected:x,year:{stem:_.charAt(0),branch:_.charAt(1)},month:{stem:k.charAt(0),branch:k.charAt(1)},day:{stem:T.charAt(0),branch:T.charAt(1)},hour:N?{stem:N.charAt(0),branch:N.charAt(1)}:null}}const Uie=[{keys:["",""],label:"",elem:""},{keys:["",""],label:"",elem:""},{keys:["",""],label:"",elem:""},{keys:["",""],label:"",elem:""},{keys:["",""],label:"",elem:""},{keys:["",""],label:"",elem:""},{keys:["",""],label:"",elem:""},{keys:["",""],label:"",elem:""},{keys:["",""],label:"",elem:""},{keys:["",""],label:"",elem:""},{keys:["",""],label:"",elem:""},{keys:["",""],label:"",elem:""},{keys:["",""],label:"",elem:""},{keys:["",""],label:"",elem:""},{keys:["",""],label:"",elem:""},{keys:["",""],label:"",elem:""},{keys:["",""],label:"",elem:""},{keys:["",""],label:"",elem:""},{keys:["",""],label:"",elem:""},{keys:["",""],label:"",elem:""},{keys:["",""],label:"",elem:""},{keys:["",""],label:"",elem:""},{keys:["",""],label:"",elem:""},{keys:["",""],label:"",elem:""},{keys:["",""],label:"",elem:""},{keys:["",""],label:"",elem:""},{keys:["",""],label:"",elem:""},{keys:["",""],label:"",elem:""},{keys:["",""],label:"",elem:""},{keys:["",""],label:"",elem:""}],Fie=(()=>{const e={};for(const t of Uie){const[n,r]=t.keys;e[n]={label:t.label,elem:t.elem},e[r]={label:t.label,elem:t.elem}}return e})(),Hie={:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""};function Gie(e,t){const n=`${fv(e)}${m2(t)}`;return Fie[n]??null}function qie(e){switch(e){case"":return"bg-green-600 text-white";case"":return"bg-red-600 text-white";case"":return"bg-yellow-600 text-white";case"":return"bg-gray-500 text-white";case"":return"bg-blue-700 text-white";default:return"bg-neutral-700 text-white"}}function Yie(e){switch(Hie[m2(e)]){case"":return"bg-green-600 text-white border-green-600";case"":return"bg-red-600 text-white border-red-600";case"":return"bg-yellow-500 text-white border-yellow-500";case"":return"bg-gray-400 text-white border-gray-400";case"":return"bg-blue-900 text-white border-blue-600";default:return"bg-neutral-700 text-white border-neutral-700"}}function Kie({stem:e,branch:t}){const n=Gie(e,t);if(!n)return null;const r=qie(n.elem);return b.jsx("span",{className:`inline-block px-1.5 py-[2px] rounded ${r} border border-white/10 text-nowrap`,title:`${n.label}  ${n.elem}`,children:n.label})}function SP({value:e,kind:t,charType:n,thinEum:r,highlighted:i}){const{settings:a}=Tn(),o=Ui(e,t,a),l=ui(e,t,n),u=Ha(e,t),f=r&&u?"font-thin":"font-bold",h=i?"border-purple-500 border-3":"border-neutral-200 dark:border-neutral-800";return b.jsx("div",{className:`w-11 h-11 sm:w-14 sm:h-14 md:w-14 md:h-14 rounded-md ${o}
                  flex items-center justify-center border ${h}`,children:b.jsx("span",{className:`text-[24px] md:text-2xl ${f} `,children:l})})}function e7({title:e,data:t,dayStem:n,charType:r,thinEum:i,showSipSin:a,showUnseong:o,showShinsal:l,showNabeum:u,hiddenMode:f,hiddenStemMode:h,calcUnseong:p,calcShinsal:g,size:x="regular",highlightedStem:S=!1,highlightedBranch:_=!1}){const k=x==="compact"?"py-1 text-center text-xs tracking-wider":"px-2 py-1 text-center text-xs tracking-wider",T=x==="compact"?"py-2":"p-2";return b.jsxs("div",{className:"rounded-xl bg-white dark:bg-neutral-900 border border-neutral-200 dark:border-neutral-800 overflow-hidden",children:[b.jsx("div",{className:`${k} bg-neutral-50 dark:bg-neutral-800/60 text-neutral-600 dark:text-neutral-300`,children:e}),b.jsx("div",{className:`${T} flex flex-col items-center gap-1`,children:t?b.jsxs(b.Fragment,{children:[a&&b.jsx("div",{className:"text-xs text-neutral-500 dark:text-neutral-400",children:ha(n,{stem:t.stem})}),b.jsx(SP,{value:t.stem,kind:"stem",charType:r,thinEum:i,highlighted:S}),b.jsx(SP,{value:t.branch,kind:"branch",charType:r,thinEum:i,highlighted:_}),b.jsx(UB,{branch:t.branch,dayStem:n,mode:f,mapping:h}),(o||l||u)&&b.jsxs("div",{className:"text-[11px] text-neutral-500 dark:text-neutral-400 mt-1 text-center space-y-0.5 w-full",children:[o&&b.jsx("div",{children:p(t.branch)}),l&&b.jsx("div",{children:g(t.branch)}),u&&b.jsx(Kie,{stem:t.stem,branch:t.branch})]})]}):b.jsx("span",{className:"text-xs text-neutral-500 dark:text-neutral-400",children:" "})})]})}const Wie=(e,t,n,r)=>{let i=e.data.stem,a=e.data.branch;return e.key==="daeun"&&t&&(i=t.charAt(0),a=t.charAt(1)),e.key==="seun"&&n&&(i=n.charAt(0),a=n.charAt(1)),e.key==="wolun"&&r&&(i=r.charAt(0),a=r.charAt(1)),{stem:i,branch:a}};function Vie({cards:e,isDesktop:t,dayStem:n,charType:r,thinEum:i,showSipSin:a,showUnseong:o,showShinsal:l,showNabeum:u,hiddenMode:f,hiddenStemMode:h,calcUnseong:p,calcShinsal:g,daeGz:x,seGz:S,wolGz:_,highlightMap:k={}}){const T=t?"regular":"compact",N=e.length===1?"grid-cols-1":e.length===2?"grid-cols-2":"grid-cols-3",O="rounded-lg bg-white dark:bg-neutral-900 text-neutral-900 dark:text-white border border-neutral-200 dark:border-neutral-700 shadow",P=t?"px-3 py-1 text-md text-neutral-600 dark:text-neutral-300":"px-3 py-1 text-[11px] text-neutral-600 dark:text-neutral-300",C=t?`grid gap-2 p-3 ${N}`:`grid gap-1 p-0 ${N}`;return b.jsxs("div",{className:O,children:[b.jsx("div",{className:P,children:b.jsx("b",{children:""})}),b.jsx("div",{className:"pb-2",children:b.jsx("div",{className:C,children:e.map(D=>{const $=Wie(D,x,S,_),H=k[D.key]??{stem:!1,branch:!1};return b.jsx(e7,{title:D.label,data:$,dayStem:n,charType:r,thinEum:i,showSipSin:a,showUnseong:o,showShinsal:l,showNabeum:u,hiddenMode:f,hiddenStemMode:h,calcUnseong:p,calcShinsal:g,size:T,highlightedStem:H.stem,highlightedBranch:H.branch},D.key)})})})]})}function Zie({pillars:e,isDesktop:t,dayStem:n,charType:r,thinEum:i,showSipSin:a,showUnseong:o,showShinsal:l,showNabeum:u,hiddenMode:f,hiddenStemMode:h,calcUnseong:p,calcShinsal:g,highlightMap:x={}}){const S=t?"regular":"compact",_=t?"px-3 py-1 text-md text-neutral-600 dark:text-neutral-300":"px-3 py-1 text-[11px] text-neutral-600 dark:text-neutral-300",k=t?"grid grid-cols-4 gap-2 p-3":"grid grid-cols-4 gap-1";return b.jsxs("div",{className:"flex-2 rounded-lg bg-white dark:bg-neutral-900 text-neutral-900 dark:text-white border border-neutral-200 dark:border-neutral-700 shadow",children:[b.jsx("div",{className:_,children:b.jsx("b",{children:""})}),b.jsx("div",{className:t?"pb-2":"px-1 pb-2",children:b.jsx("div",{className:k,children:e.map(T=>{const N=x[T.key]??{stem:!1,branch:!1};return b.jsx(e7,{title:T.label,data:T.data,dayStem:n,charType:r,thinEum:i,showSipSin:a,showUnseong:o,showShinsal:l,showNabeum:u,hiddenMode:f,hiddenStemMode:h,calcUnseong:p,calcShinsal:g,size:S,highlightedStem:N.stem,highlightedBranch:N.branch},T.key)})})})]})}function Xie({hourCandidates:e,useInsi:t,onToggleRule:n,manualHour:r,onSelectHour:i}){return b.jsxs("div",{className:"mt-4 p-3 border rounded bg-neutral-50 dark:bg-neutral-800",children:[b.jsxs("div",{className:"flex items-center justify-between mb-2",children:[b.jsx("span",{className:"font-semibold text-sm text-neutral-700 dark:text-neutral-300",children:" "}),b.jsx("button",{onClick:n,className:"px-2 py-1 text-xs rounded border bg-white dark:bg-neutral-900 border-neutral-300 dark:border-neutral-600 cursor-pointer",children:t?" : ":" : "})]}),b.jsx("div",{className:"grid grid-cols-4 gap-2",children:e.map(a=>{const o=a.charAt(0),l=a.charAt(1),u=r?.stem===o&&r?.branch===l;return b.jsx("button",{onClick:()=>i(o,l),className:`p-2 text-xs rounded border cursor-pointer ${u?Yie(l):"bg-white dark:bg-neutral-900 text-neutral-700 dark:text-neutral-200 border-neutral-300 dark:border-neutral-600"}`,title:`${a} ( )`,children:a},a)})})]})}function Jie(e){const i=e.trim().replace(/^#?(|||)(X(|||))?_/u,"").replace(/\((|||)\)$/u,"").replace(/\s+/g," ").trim(),a=i.includes("_")?i.split("_").pop()??i:i;return a.includes("")?"":a.includes("")?"":a.includes("")?"":a===""||a===""||a===""?"":a}const $h={:{title:"()",kind:"",oneLine:"   .",bullets:["  ,  / ."]},:{title:"()",kind:"",oneLine:"    ."},:{title:"()",kind:"",oneLine:"   ."},:{title:"()",kind:"",oneLine:"   ."},:{title:"() / ",kind:"",oneLine:"   ."},:{title:"()",kind:"",oneLine:"    ."},:{title:"()",kind:"",oneLine:"   ."},:{title:"()",kind:"",oneLine:" ,    ."},:{title:"()",kind:"",oneLine:"  (  ) ."},:{title:"()",kind:"",oneLine:"     ."},:{title:"()",kind:"",oneLine:"    ."},:{title:"()",kind:"",oneLine:"  / ."},:{title:"()",kind:"",oneLine:"    ."},:{title:"()",kind:"",oneLine:"()   ."},:{title:"()",kind:"",oneLine:"  ()  ."},:{title:"()",kind:"",oneLine:"  :   ."},:{title:"()",kind:"",oneLine:"    ."},:{title:"()",kind:"",oneLine:"    ."},:{title:"()",kind:"",oneLine:"/  ."},:{title:"()",kind:"",oneLine:"  ."},:{title:"()",kind:"",oneLine:"   ."},:{title:"()",kind:"",oneLine:"   ."},:{title:"() / ",kind:"",oneLine:"   ."},:{title:"()",kind:"",oneLine:"    ."},:{title:"()",kind:"",oneLine:"//     ."},:{title:"()",kind:"",oneLine:"  :   ."},:{title:"()",kind:"",oneLine:"   : //."},:{title:"",kind:"",oneLine:"  :   ."},:{title:"",kind:"",oneLine:"  :  ."},:{title:"()",kind:"",oneLine:"//     ."},:{title:"()",kind:"",oneLine:"    ."},:{title:"()",kind:"",oneLine:" //  ."},:{title:"()",kind:"",oneLine:"   ."},:{title:"()",kind:"",oneLine:"  : ."},:{title:"()",kind:"",oneLine:": /  ."},:{title:"",kind:"",oneLine:" : //  ."},:{title:"()",kind:"",oneLine:"   ."},:{title:"()",kind:"",oneLine:"  ."},:{title:"()",kind:"",oneLine:" / :   ."},:{title:"()",kind:"",oneLine:"()  ."},:{title:"()",kind:"",oneLine:"   ."},:{title:"()",kind:"",oneLine:"/ :  ."},:{title:"()",kind:"",oneLine:"   ."},:{title:"()",kind:"",oneLine:"   ."},:{title:"()",kind:"",oneLine:"   ."},:{title:"()",kind:"",oneLine:" / :    ."},:{title:"()",kind:"",oneLine:" :   / ."},:{title:"",kind:"",oneLine:"   ."},:{title:"()",kind:"",oneLine:"() //  ."},:{title:"()",kind:"",oneLine:" :      ."},:{title:"()",kind:"",oneLine:" ."},:{title:"()",kind:"",oneLine:"  :  ."},:{title:"()",kind:"",oneLine:"//    ."},:{title:"()",kind:"",oneLine:"    : ."},:{title:"",kind:"",oneLine:"  : //."},:{title:"()",kind:"",oneLine:"/  ."},:{title:"()",kind:"",oneLine:"  : ."},:{title:"()",kind:"",oneLine:" : /  ."},:{title:"()",kind:"",oneLine:"  :  ."},:{title:"()",kind:"",oneLine:" () ."},:{title:"()",kind:"",oneLine:"   ."},:{title:"",kind:"",oneLine:":  ."},:{title:"",kind:"",oneLine:" /  ."},:{title:"()",kind:"",oneLine:"/ :  ."},:{title:"()",kind:"",oneLine:"/ :  ."},:{title:"()",kind:"",oneLine:" /   ."},:{title:"",kind:"",oneLine:"    ."},:{title:"()",kind:"",oneLine:" /.   ."},:{title:"()",kind:"",oneLine:"  .   ."},:{title:"()",kind:"",oneLine:" /    ."},:{title:"()",kind:"",oneLine:" :  ."},:{title:"()",kind:"",oneLine:"  :  ."},:{title:"()",kind:"",oneLine:"   :  ."},:{title:"()",kind:"",oneLine:" :  /."},:{title:"",kind:"",oneLine:"     ."},:{title:"()",kind:"",oneLine:" /  ."},:{title:"()",kind:"",oneLine:"  :   ."},:{title:"()",kind:"",oneLine:"  : /  ."},:{title:"()",kind:"",oneLine:"  : // ."},:{title:"()",kind:"",oneLine:"   :  ."},:{title:"()",kind:"",oneLine:"//   ."},:{title:"()",kind:"",oneLine:"/  :  ."},:{title:"()",kind:"",oneLine:"/    ."},:{title:"()",kind:"",oneLine:" : ."}};function Qie(e){const t=Jie(e),n=$h[t];if(n)return n;if(t.endsWith("")){const r=t.replace(/$/,"");if($h[r])return $h[r]}else{const r=`${t}`;if($h[r])return $h[r]}return{title:t||"",kind:"",oneLine:" "}}function eae(e){const t=`${e.title}  ${e.kind}`,n=e.oneLine,r=(e.bullets??[]).map(i=>`- ${i}`).join(`
`);return r?`${t}
${n}
${r}`:`${t}
${n}`}function uo({columnKey:e,title:t,goodTags:n,badTags:r,isDesktop:i,openTagKey:a,setOpenTagKey:o}){const l=Ik(n,rb),u=Ik(r,rb),f=i||l.length>0,h=i||u.length>0;return!i&&l.length===0&&u.length===0?null:b.jsxs("div",{className:"flex-1 rounded-md border border-neutral-200 dark:border-neutral-800 p-1 desk:p-2",children:[b.jsx("div",{className:"text-[11px] text-neutral-500 dark:text-neutral-400 mb-1",children:t}),b.jsxs("div",{className:"space-y-2",children:[b.jsxs("div",{children:[f&&b.jsx("div",{className:"text-[10px] text-emerald-600 dark:text-emerald-400 mb-1",children:""}),b.jsx(kP,{tags:n,idPrefix:`${e}-good`,isDesktop:i,openTagKey:a,setOpenTagKey:o})]}),b.jsxs("div",{children:[h&&b.jsx("div",{className:"text-[10px] text-rose-600 dark:text-rose-400 mb-1",children:""}),b.jsx(kP,{tags:r,idPrefix:`${e}-bad`,isDesktop:i,openTagKey:a,setOpenTagKey:o})]})]})]})}function kP({tags:e,idPrefix:t,isDesktop:n,openTagKey:r,setOpenTagKey:i}){const a=Ik(e,rb);return a.length===0?n?b.jsx("div",{className:"text-[11px] text-neutral-400 text-center",children:""}):null:b.jsx("div",{className:"flex flex-row flex-wrap desk:flex-col gap-1",children:a.map((o,l)=>{const u=`${t}-${l}`;return b.jsx(tae,{tag:o,id:u,openTagKey:r,setOpenTagKey:i},u)})})}function tae({tag:e,id:t,openTagKey:n,setOpenTagKey:r}){const i=n===t,a=Qie(e),o=a?eae(a):"",l=rb(e),u=w.useRef(null),f=w.useRef(null),[h,p]=w.useState("center");return w.useLayoutEffect(()=>{if(!i)return;const g=f.current;if(!g)return;const x=g.getBoundingClientRect(),_=Math.min(300,window.innerWidth-16*2),k=x.left,T=window.innerWidth-x.right;T<_/2&&k>T?p("right"):k<_/2&&T>k?p("left"):p("center")},[i]),w.useLayoutEffect(()=>{if(!i)return;const g=x=>{const S=x.target;!u.current||S&&u.current.contains(S)||r(null)};return document.addEventListener("mousedown",g),document.addEventListener("touchstart",g),()=>{document.removeEventListener("mousedown",g),document.removeEventListener("touchstart",g)}},[i,r]),b.jsxs("div",{ref:u,className:"relative",children:[b.jsx("button",{ref:f,type:"button",onClick:()=>r(i?null:t),className:["px-1 desk:px-2 py-1 text-[12px] desk:text-[11px] text-center  rounded border desk:break-keep w-full cursor-pointer ",i?"bg-purple-500/20 text-purple-200 border-purple-500":"bg-neutral-50 dark:bg-neutral-800 text-neutral-600 dark:text-neutral-300 border-neutral-200 dark:border-neutral-700"].join(" "),title:l,children:l}),a&&i&&b.jsx("div",{className:["absolute top-full mt-2 z-50",h==="left"?"left-0":h==="right"?"right-0":"left-1/2 -translate-x-1/2"].join(" "),children:b.jsx("div",{className:"relative whitespace-pre-wrap break-words break-keep rounded-md border border-neutral-700 bg-neutral-900 text-neutral-100 text-[10px] leading-4 p-2 shadow-lg text-center",style:{width:"min(190px, calc(100vw - 24px))"},children:o})})]})}function rb(e){const t=e.replace(/^#/,""),n=t.split("_"),r=n.length>1?n[n.length-1]:t,i=r.split(" ").filter(Boolean);return i.length>0?i[i.length-1]:r}function Ik(e,t){const n=new Set,r=[];for(const i of e){const a=t(i);n.has(a)||(n.add(a),r.push(i))}return r}function nae({isDesktop:e,exposureLevel:t,relationChips:n,relationByPillar:r,activeRelationTag:i,onToggleRelationTag:a,showRelationBox:o,showEtcShinsalBox:l,etcShinsalGood:u,etcShinsalBad:f}){const[h,p]=w.useState(!0),[g,x]=w.useState(!0),[S,_]=w.useState(null);return b.jsxs(b.Fragment,{children:[o&&b.jsx("div",{className:"px-2 desk:px-0 py-2",children:b.jsxs("div",{className:"rounded-lg border border-neutral-200 dark:border-neutral-800 bg-white dark:bg-neutral-900 p-2",children:[b.jsxs("button",{type:"button",onClick:()=>p(k=>!k),className:"w-full flex items-center justify-between text-xs text-neutral-600 dark:text-neutral-300 mb-1 cursor-pointer",children:[b.jsx("span",{children:""}),b.jsx("span",{className:"text-[10px]",children:h?"":""})]}),h&&b.jsxs(b.Fragment,{children:[b.jsx("div",{className:"text-[11px] text-amber-600 dark:text-amber-300 mb-2",children:"     ."}),n.length===0?b.jsx("div",{className:"text-xs text-neutral-400",children:"  ."}):b.jsxs("div",{className:"grid w-full gap-2 desk:gap-4 grid-cols-1",style:{gridTemplateColumns:e?t>=3?"4fr 5fr":t>=2?"3.5fr 6.5fr":t>=1?"2fr 8fr":"1fr":void 0},children:[b.jsx("div",{className:"order-2 desk:order-1 flex-4 grid grid-cols-1 gap-1 desk:gap-2",style:{gridTemplateColumns:e?`repeat(${t>=3?3:t>=2?2:t>=1?1:0}, minmax(60px, 1fr))`:void 0},children:(e?[t>=3&&b.jsx(fo,{title:"",tags:r.luck.wol,activeTag:i,onToggle:a},"wol"),t>=2&&b.jsx(fo,{title:"",tags:r.luck.se,activeTag:i,onToggle:a},"se"),t>=1&&b.jsx(fo,{title:"",tags:r.luck.dae,activeTag:i,onToggle:a},"dae")]:[t>=1&&b.jsx(fo,{title:"",tags:r.luck.dae,activeTag:i,onToggle:a},"dae"),t>=2&&b.jsx(fo,{title:"",tags:r.luck.se,activeTag:i,onToggle:a},"se"),t>=3&&b.jsx(fo,{title:"",tags:r.luck.wol,activeTag:i,onToggle:a},"wol")]).filter(Boolean)}),b.jsxs("div",{className:"order-1 desk:order-2 flex flex-col desk:flex-row flex-5 gap-1 desk:gap-2",children:[b.jsx(fo,{title:"",tags:r.natal.hour,activeTag:i,onToggle:a}),b.jsx(fo,{title:"",tags:r.natal.day,activeTag:i,onToggle:a}),b.jsx(fo,{title:"",tags:r.natal.month,activeTag:i,onToggle:a}),b.jsx(fo,{title:"",tags:r.natal.year,activeTag:i,onToggle:a})]})]})]})]})}),l&&b.jsx("div",{className:"px-2 desk:px-0 py-2",children:b.jsxs("div",{className:"rounded-lg border border-neutral-200 dark:border-neutral-800 bg-white dark:bg-neutral-900 p-2",children:[b.jsxs("button",{type:"button",onClick:()=>x(k=>!k),className:"w-full flex items-center justify-between text-xs text-neutral-600 dark:text-neutral-300 mb-1 cursor-pointer",children:[b.jsx("span",{children:""}),b.jsx("span",{className:"text-[10px]",children:g?"":""})]}),g&&b.jsxs(b.Fragment,{children:[b.jsx("div",{className:"text-[11px] text-amber-600 dark:text-amber-300 mb-2",children:"       ."}),EP(u)||EP(f)?b.jsxs("div",{className:"grid w-full gap-2 desk:gap-4 grid-cols-1",style:{gridTemplateColumns:e?t>=3?"4fr 5fr":t>=2?"3.5fr 6.5fr":t>=1?"2fr 8fr":"1fr":void 0},children:[b.jsx("div",{className:"order-2 desk:order-1 flex-4 grid grid-cols-1 gap-1 desk:gap-2",style:{gridTemplateColumns:e?`repeat(${t>=3?3:t>=2?2:t>=1?1:0}, minmax(60px, 1fr))`:void 0},children:(e?[t>=3&&b.jsx(uo,{columnKey:"etc-luck-wol",title:"",goodTags:u.luck.wol,badTags:f.luck.wol,isDesktop:e,openTagKey:S,setOpenTagKey:_},"luck-wol"),t>=2&&b.jsx(uo,{columnKey:"etc-luck-se",title:"",goodTags:u.luck.se,badTags:f.luck.se,isDesktop:e,openTagKey:S,setOpenTagKey:_},"luck-se"),t>=1&&b.jsx(uo,{columnKey:"etc-luck-dae",title:"",goodTags:u.luck.dae,badTags:f.luck.dae,isDesktop:e,openTagKey:S,setOpenTagKey:_},"luck-dae")]:[t>=1&&b.jsx(uo,{columnKey:"etc-luck-dae",title:"",goodTags:u.luck.dae,badTags:f.luck.dae,isDesktop:e,openTagKey:S,setOpenTagKey:_},"luck-dae"),t>=2&&b.jsx(uo,{columnKey:"etc-luck-se",title:"",goodTags:u.luck.se,badTags:f.luck.se,isDesktop:e,openTagKey:S,setOpenTagKey:_},"luck-se"),t>=3&&b.jsx(uo,{columnKey:"etc-luck-wol",title:"",goodTags:u.luck.wol,badTags:f.luck.wol,isDesktop:e,openTagKey:S,setOpenTagKey:_},"luck-wol")]).filter(Boolean)}),b.jsxs("div",{className:"order-1 desk:order-2 flex flex-col desk:flex-row flex-5 gap-1 desk:gap-2",children:[b.jsx(uo,{columnKey:"etc-natal-hour",title:"",goodTags:u.natal.hour,badTags:f.natal.hour,isDesktop:e,openTagKey:S,setOpenTagKey:_}),b.jsx(uo,{columnKey:"etc-natal-day",title:"",goodTags:u.natal.day,badTags:f.natal.day,isDesktop:e,openTagKey:S,setOpenTagKey:_}),b.jsx(uo,{columnKey:"etc-natal-month",title:"",goodTags:u.natal.month,badTags:f.natal.month,isDesktop:e,openTagKey:S,setOpenTagKey:_}),b.jsx(uo,{columnKey:"etc-natal-year",title:"",goodTags:u.natal.year,badTags:f.natal.year,isDesktop:e,openTagKey:S,setOpenTagKey:_})]})]}):b.jsx("div",{className:"text-xs text-neutral-400",children:"  ."})]})]})})]})}function fo({title:e,tags:t,activeTag:n,onToggle:r}){return b.jsxs("div",{className:"flex-1 rounded-md border border-neutral-200 dark:border-neutral-800 p-1 desk:p-2",children:[b.jsx("div",{className:"text-[11px] text-neutral-500 dark:text-neutral-400 mb-1",children:e}),t.length===0?b.jsx("div",{className:"text-[11px] text-neutral-400 text-center",children:""}):b.jsx("div",{className:"flex flex-row desk:flex-col gap-1",children:t.map(i=>{const a=n===i;return b.jsx("button",{type:"button",onClick:()=>r(a?null:i),className:["px-1 desk:px-2 py-1 text-[12px] desk:text-[11px] rounded border transition desk:break-keep cursor-pointer",a?"bg-purple-500 text-white border-purple-500":"bg-neutral-50 dark:bg-neutral-800 text-neutral-600 dark:text-neutral-300 border-neutral-200 dark:border-neutral-700"].join(" "),title:i,children:rae(i)},i)})})]})}function rae(e){const t=e.replace(/^#/,""),n=t.split("_");return(n.length>1?n.slice(1).join("_"):t).replace(/_/g," ")}function EP(e){const{natal:t,luck:n}=e;return t.hour.length>0||t.day.length>0||t.month.length>0||t.year.length>0||n.dae.length>0||n.se.length>0||n.wol.length>0}function AP(e){return String(e).padStart(2,"0")}function iae(e,t,n){if(!e||e.length<8)return vP(e,t);const r=vP(e,t);if(n!=="lunar")return r;try{const i=Number(e.slice(0,4)),a=Number(e.slice(4,6)),o=Number(e.slice(6,8)),l=Hi(i,a,o);return` ${`${l.getFullYear()}.${AP(l.getMonth()+1)}.${AP(l.getDate())}`} ( ${r})`}catch{return` ${r}`}}function aae({data:e,hourTable:t}){const{date:n}=di(),r=Tn(Ne=>Ne.settings),i=r.showNabeum??!0,a=r.showRelationBox??!0,o=r.showEtcShinsal??!0,l=Q4(e.mingSikType,t),u=!e.birthPlace||e.birthPlace.name===""||!e.birthPlace.lon?127.5:e.birthPlace.lon,{solarY:f,solarM:h,solarD:p}=w.useMemo(()=>{let Ne=Number(e.birthDay?.slice(0,4)??2e3),_e=Number(e.birthDay?.slice(4,6)??1),je=Number(e.birthDay?.slice(6,8)??1);if(e.calendarType==="lunar"){const Ie=Hi(Ne,_e,je);Ne=Ie.getFullYear(),_e=Ie.getMonth()+1,je=Ie.getDate()}return{solarY:Ne,solarM:_e,solarD:je}},[e.birthDay,e.calendarType]),[g,x]=w.useState(!1);w.useEffect(()=>{f&&h&&p&&x(Wy(f,h,p))},[f,h,p]);const S=uA(e.birthTime),[_,k]=w.useState(()=>wP(e,g));w.useEffect(()=>{k(wP(e,g))},[e,g]);const T=Lie(e.correctedLocal,_.corrected,S),N=e.id??`${e.birthDay}-${e.birthTime}-${e.name??""}`,O=_.day.stem,[P,C]=w.useState(null),[D,$]=w.useState(()=>_P(e.mingSikType));w.useEffect(()=>{C(null),$(_P(e.mingSikType))},[N,e.mingSikType]),w.useEffect(()=>{pe(null)},[N]);const H=w.useMemo(()=>Rie(O,D),[D,O]),q=P??_.hour,K=Qm(Ne=>Ne.setManualHour),U=(Ne,_e)=>{const je={stem:Ne,branch:_e};C(je),K(je)},z=$ie(r.sinsalBase)===""?_.day.branch:_.year.branch,V=Ne=>r.showSibiUnseong?jo(O,Ne):null,J=Ne=>r.showSibiSinsal?No({baseBranch:z,targetBranch:Ne,era:pf(r.sinsalMode),gaehwa:r.sinsalBloom}):null,Q=zne(e,l),Y=bne({query:"(min-width: 992px)"}),Z=r.hiddenStem==="regular"?"main":"all",re=Bie(r.exposure),ue=re===0?[]:Q.filter(Ne=>(Ne.key==="daeun"?1:Ne.key==="seun"?2:3)<=re),se=Wy(f,h,p),B=()=>x(Ne=>!Ne),W=V2(e,t,n),ae=W.dae.gz,X=W.se.gz,oe=W.wol.gz,[me,pe]=w.useState(null),be=w.useMemo(()=>{const Ne=_e=>_e?.stem&&_e?.branch?`${_e.stem}${_e.branch}`:"";return Sl({natal:[Ne(_.year),Ne(_.month),Ne(_.day),Ne(q)],daewoon:ae??void 0,sewoon:X??void 0,wolwoon:oe??void 0})},[_,q,ae,X,oe]),ne=w.useMemo(()=>{const Ne=[...be.cheonganHap,...be.cheonganChung,...be.jijiSamhap,...be.jijiBanhap,...be.jijiBanghap,...be.jijiYukhap,...be.jijiChung,...be.jijiHyeong,...be.jijiPa,...be.jijiHae,...be.amhap,...be.ganjiAmhap].filter(_e=>_e&&_e!=="#");return Array.from(new Set(Ne))},[be]),Oe=w.useMemo(()=>{const Ne=(je,Ie)=>{je.includes(Ie)||je.push(Ie)},_e={luck:{wol:[],se:[],dae:[]},natal:{hour:[],day:[],month:[],year:[]}};for(const je of ne){const Ve=(je.replace(/^#/,"").split("_")[0]??"").split("X").filter(Boolean);Ve.includes("")&&Ne(_e.luck.wol,je),Ve.includes("")&&Ne(_e.luck.se,je),Ve.includes("")&&Ne(_e.luck.dae,je),Ve.includes("")&&Ne(_e.natal.hour,je),Ve.includes("")&&Ne(_e.natal.day,je),Ve.includes("")&&Ne(_e.natal.month,je),Ve.includes("")&&Ne(_e.natal.year,je)}return _e},[ne]),Ce=w.useMemo(()=>{const Ne=Ie=>Ie?.stem&&Ie?.branch?`${Ie.stem}${Ie.branch}`:"",_e=qd({natal:[Ne(_.year),Ne(_.month),Ne(_.day),Ne(q)],daewoon:ae??void 0,sewoon:X??void 0,wolwoon:oe??void 0}),je=Ie=>Array.from(new Set(Ie.filter(Ve=>Ve&&Ve!=="#")));return{good:{natal:{hour:je(_e.good.si??[]),day:je(_e.good.il??[]),month:je(_e.good.wol??[]),year:je(_e.good.yeon??[])},luck:{dae:je(_e.good.dae??[]),se:je(_e.good.se??[]),wol:je(_e.good.wolun??[])}},bad:{natal:{hour:je(_e.bad.si??[]),day:je(_e.bad.il??[]),month:je(_e.bad.wol??[]),year:je(_e.bad.yeon??[])},luck:{dae:je(_e.bad.dae??[]),se:je(_e.bad.se??[]),wol:je(_e.bad.wolun??[])}}}},[_,q,ae,X,oe]),ve=w.useMemo(()=>{const Ne={},_e=(je,Ie)=>{for(const Ve of je)Ne[Ve]=Ie};return _e(be.cheonganHap,"stem"),_e(be.cheonganChung,"stem"),_e(be.jijiSamhap,"branch"),_e(be.jijiBanhap,"branch"),_e(be.jijiBanghap,"branch"),_e(be.jijiYukhap,"branch"),_e(be.jijiChung,"branch"),_e(be.jijiHyeong,"branch"),_e(be.jijiPa,"branch"),_e(be.jijiHae,"branch"),_e(be.amhap,"branch"),_e(be.ganjiAmhap,"both"),Ne},[be]),Ze=w.useMemo(()=>{if(!me)return{};const Ne=ve[me]??"branch",je=(me.replace(/^#/,"").split("_")[0]??"").split("X").filter(Boolean),Ie={:"year",:"month",:"day",:"hour",:"daeun",:"seun",:"wolun",:"ilun"},Ve={};for(const bt of je){const xt=Ie[bt];if(!xt)continue;const Pt=Ve[xt]??{stem:!1,branch:!1};Ne==="stem"?Pt.stem=!0:(Ne==="branch"||(Pt.stem=!0),Pt.branch=!0),Ve[xt]=Pt}return Ve},[me,ve]);return b.jsxs("div",{className:"w-full max-w-[640px] mx-auto",children:[b.jsxs("div",{className:"mb-1 gap-2 p-2",children:[b.jsxs("div",{children:[b.jsxs("div",{className:"text-md desk:text-xl font-bold text-neutral-900 dark:text-neutral-100",children:[(e.name?.trim()||"")+" ",b.jsxs("span",{className:"text-sm text-neutral-500 dark:text-neutral-400 mr-2",children:["(",e.gender,")"]}),se&&b.jsxs("button",{onClick:B,className:`px-2 py-0.5 text-xs rounded cursor-pointer border
                  ${g?"bg-red-600 text-white border-red-600":"bg-neutral-100 text-neutral-700 border-neutral-300 dark:bg-neutral-800 dark:text-neutral-200 dark:border-neutral-700"}`,children:[" ",g?"ON":"OFF"]})]}),b.jsxs("div",{className:"text-xs desk:text-sm text-neutral-600 dark:text-neutral-400",children:[iae(e.birthDay,e.birthTime,e.calendarType)," : ",T]})]}),b.jsxs("div",{className:"text-xs text-neutral-500 dark:text-neutral-400",children:[e.birthPlace?.name?`: ${e.birthPlace.name}`:""," /  : ",u.toFixed(2),"  ",l," "]})]}),b.jsxs("div",{className:`grid gap-2 p-2 desk:p-0 ${ue.length===0?"grid-cols-1":ue.length===1?"grid-cols-[2fr_8fr]":ue.length===2?"grid-cols-[3.5fr_6.5fr]":"grid-cols-[4fr_5fr]"}`,children:[ue.length>0&&b.jsx(Vie,{cards:ue,isDesktop:Y,dayStem:O,charType:r.charType,thinEum:r.thinEum,showSipSin:r.showSipSin,showUnseong:r.showSibiUnseong,showShinsal:r.showSibiSinsal,showNabeum:i,hiddenMode:Z,hiddenStemMode:r.hiddenStemMode,calcUnseong:V,calcShinsal:J,daeGz:ae,seGz:X,wolGz:oe,highlightMap:Ze}),b.jsx(Zie,{isDesktop:Y,dayStem:O,charType:r.charType,thinEum:r.thinEum,showSipSin:r.showSipSin,showUnseong:r.showSibiUnseong,showShinsal:r.showSibiSinsal,showNabeum:i,hiddenMode:Z,hiddenStemMode:r.hiddenStemMode,calcUnseong:V,calcShinsal:J,highlightMap:Ze,pillars:[{key:"hour",label:"",data:q},{key:"day",label:"",data:_.day},{key:"month",label:"",data:_.month},{key:"year",label:"",data:_.year}]})]}),b.jsx(nae,{isDesktop:Y,exposureLevel:re,relationChips:ne,relationByPillar:Oe,activeRelationTag:me,onToggleRelationTag:pe,showRelationBox:a,showEtcShinsalBox:o,etcShinsalGood:Ce.good,etcShinsalBad:Ce.bad}),S&&b.jsx(Xie,{hourCandidates:H,useInsi:D,onToggleRule:()=>$(Ne=>!Ne),manualHour:P,onSelectHour:U})]})}function Av(e,t){const n=e.length;if(n===0||!t)return 0;const r=e[0].at.getTime(),i=e[n-1].at.getTime(),a=t.getTime();if(a<=r)return 0;if(a>=i)return n-1;for(let o=0;o<n-1;o+=1){const l=e[o].at.getTime(),u=e[o+1].at.getTime();if(a>=l&&a<u)return o}return 0}const oae=!1,TP=e=>e<10?`0${e}`:`${e}`;function Tv(e){const t=e,n=typeof t.birthDay=="string"?t.birthDay:"",r=typeof t.calendarType=="string"?t.calendarType:"solar";if(n.length<8)return e;const i=Number(n.slice(0,4)),a=Number(n.slice(4,6)),o=Number(n.slice(6,8)),l=["isLeap","isLeapMonth","leapMonth","leap","lunarLeap"];let u=!1;for(const f of l){const h=t[f];if(typeof h=="boolean"){u=h;break}if(typeof h=="number"){u=h===1;break}if(typeof h=="string"){u=h==="1"||h.toLowerCase()==="true";break}}if(r==="lunar")try{const f=Hi(i,a,o,0,0),h=`${f.getFullYear()}${TP(f.getMonth()+1)}${TP(f.getDate())}`;return{...e,birthDay:h,calendarType:"solar"}}catch{return e}return e}function sae({data:e}){const t=fu(e),n=w.useMemo(()=>{const C=Tv(e);return jl(C)},[e]),r=w.useMemo(()=>{const C=e.mingSikType??"/";return gt(n,C).charAt(0)},[n,e.mingSikType]),{date:i,setFromEvent:a}=di(),o=w.useMemo(()=>Av(t,i),[t,i]),l=Tn(C=>C.settings),{charType:u,thinEum:f,showSipSin:h,showSibiUnseong:p,showSibiSinsal:g,sinsalBase:x,sinsalMode:S,sinsalBloom:_}=l,k=!e.birthPlace||e.birthPlace.name===""||e.birthPlace.lon===0?127.5:e.birthPlace.lon,T=e.mingSikType??"/",N=x===""?gt(n,T).charAt(1):at(n,k).charAt(1),O=C=>p?jo(r,C):null,P=C=>g?No({baseBranch:N,targetBranch:C,era:pf(S),gaehwa:!!_}):null;return b.jsxs("div",{className:"w-full max-w-[640px] mx-auto rounded-xl bg-white dark:bg-neutral-900 border border-neutral-200 dark:border-neutral-800 overflow-hidden",children:[b.jsx("div",{className:"px-3 py-2 text-sm font-semibold tracking-wider bg-neutral-50 dark:bg-neutral-800/60 text-neutral-700 dark:text-neutral-300",children:""}),b.jsx("div",{className:"flex gap-0.5 desk:gap-1 py-2 desk:p-2 flex-row-reverse",children:t.map((C,D)=>{const $=C.gz.charAt(0),H=C.gz.charAt(1),q=lae(n,C.at),K=D===o,U=ui($,"stem",u),z=ui(H,"branch",u),V=Ha($,"stem"),J=Ha(H,"branch"),Q=f&&V?"font-thin":"font-bold",Y=f&&J?"font-thin":"font-bold",Z=O(H),re=P(H);return b.jsxs("div",{onClick:()=>a(C,""),className:`flex-1 rounded-sm desk:rounded-lg bg-white dark:bg-neutral-900 overflow-hidden cursor-pointer ${K?"border border-yellow-500":"border border-neutral-200 dark:border-neutral-800 hover:border-yellow-500"}`,title:`${C.gz}  ${C.at.toLocaleDateString()}`,children:[b.jsx("div",{className:"desk:px-2 py-1 text-center text-[10px] bg-neutral-50 dark:bg-neutral-800/60 text-neutral-600 dark:text-neutral-300",children:q}),b.jsxs("div",{className:"p-2 flex flex-col items-center gap-0.5",children:[h&&b.jsx("div",{className:"text-[10px] text-neutral-500 dark:text-neutral-400 text-nowrap",children:ha(r,{stem:$})}),b.jsx("div",{className:`w-8 h-8 md:w-10 md:h-10 rounded-sm md:rounded-lg flex items-center justify-center border border-neutral-200 dark:border-neutral-800 ${Ui($,"stem",l)}`,children:b.jsx("span",{className:`text-[20px] md:text-xl ${Q}`,children:U})}),b.jsx("div",{className:`w-8 h-8 md:w-10 md:h-10 rounded-sm md:rounded-lg flex items-center justify-center border border-neutral-200 dark:border-neutral-800 ${Ui(H,"branch",l)}`,children:b.jsx("span",{className:`text-[20px] md:text-xl ${Y}`,children:z})}),h&&b.jsx("div",{className:"text-[10px] text-neutral-500 dark:text-neutral-400 text-nowrap",children:ha(r,{branch:H})}),(p||g)&&b.jsxs("div",{className:"text-[10px] text-neutral-500 dark:text-neutral-400 mt-1 text-center space-y-0.5 text-nowrap",children:[p&&b.jsx("div",{children:Z}),g&&b.jsx("div",{children:re})]})]})]},`${C.gz}-${D}`)})})]})}function lae(e,t){const r=(t.getTime()-e.getTime())/(365.2425*24*60*60*1e3);return Math.max(0,Math.round(r))}function Ov(e,t){const n=e,r=typeof n.isUnknownTime=="boolean"?n.isUnknownTime:!1,i=typeof n.birthTime=="string"&&/^(?:\d{4}|\d{2}:\d{2})$/.test(n.birthTime),a=typeof n.birthHour=="number",o=typeof n.birthMinute=="number";if(r||!(i||a||o)){const u=new Date(t);return u.setDate(u.getDate()+1),u.setHours(4,30,0,0),u}return t}function t1(e){return new Date(e,6,2,12,0,0,0)}function cae(e,t){return t-e+1}function uae({data:e,list:t,onSelect:n}){const r=Tn($=>$.settings),{date:i,setFromEvent:a}=di(),[o,l]=w.useState(()=>t);w.useEffect(()=>{t&&t.length>0&&l(t)},[t]);const u=jl(e),f=w.useMemo(()=>Ov(e,u),[e,u]),h=w.useMemo(()=>f.getFullYear(),[f]),p=!e.birthPlace||e.birthPlace.name===""||e.birthPlace.lon===0?127.5:e.birthPlace.lon,g=w.useMemo(()=>{if(!i)return[];const $=i.getFullYear(),H=t1($),q=at(H,p);return[{at:H,gz:q}]},[i,p]),x=t.length>0?t:o.length>0?o:g,S=w.useMemo(()=>[...x].sort(($,H)=>$.at.getTime()-H.at.getTime()),[x]),_=w.useMemo(()=>{if(S.length===0)return 0;const $=Av(S,i);return $<0?0:$>=S.length?S.length-1:$},[S,i]),[k,T]=w.useState(null);w.useEffect(()=>{T(null)},[i,S]);const N=k??_,O=w.useMemo(()=>{const $=Tv(e);return jl($)},[e]),P=e.mingSikType??"/",C=w.useMemo(()=>gt(O,P).charAt(0),[O,P]),D=w.useMemo(()=>r.sinsalBase===""?gt(f,P).charAt(1):at(f,p).charAt(1),[f,P,p,r.sinsalBase]);return b.jsxs("div",{className:"w-full max-w-[640px] mx-auto rounded-xl bg-white dark:bg-neutral-900 border border-neutral-200 dark:border-neutral-800 overflow-hidden",children:[b.jsx("div",{className:"px-3 py-2 text-sm font-semibold tracking-wider bg-neutral-50 dark:bg-neutral-800/60 text-neutral-700 dark:text-neutral-300",children:""}),b.jsx("div",{className:"flex gap-0.5 desk:gap-1 py-2 desk:p-2 flex-row-reverse",children:S.map(($,H)=>{const q=$.at.getFullYear(),K=t1(q),U=at(K,p),z=U.charAt(0),V=U.charAt(1),J=H===N,Q=ui(z,"stem",r.charType),Y=ui(V,"branch",r.charType),Z=Ha(z,"stem"),re=Ha(V,"branch"),ue=r.thinEum&&Z?"font-thin":"font-bold",se=r.thinEum&&re?"font-thin":"font-bold",B=r.showSibiUnseong?jo(C,V):null,W=r.showSibiSinsal?No({baseBranch:D,targetBranch:V,era:pf(r.sinsalMode),gaehwa:!!r.sinsalBloom}):null,ae=cae(h,q);return b.jsxs("div",{onClick:()=>{if(H===0){T(H);return}T(H);const X=t1(q),oe=at(X,p);a({at:X,gz:oe},""),n&&(typeof queueMicrotask<"u"?queueMicrotask(()=>n(q)):Promise.resolve().then(()=>n(q)))},className:`flex-1 rounded-sm desk:rounded-lg bg-white dark:bg-neutral-900 overflow-hidden cursor-pointer ${J?"border border-yellow-500":"border border-neutral-200 dark:border-neutral-800 hover:border-yellow-500"}`,title:`${U}  ${$.at.toLocaleDateString()}  ${ae}`,children:[b.jsxs("div",{className:"desk:px-2 py-1 text-center text-[10px] bg-neutral-100 dark:bg-neutral-800/60 text-neutral-700 dark:text-neutral-200",children:[ae,""]}),b.jsx("div",{className:"desk:px-2 py-1 text-center text-[10px] bg-neutral-50 dark:bg-neutral-800/60 text-neutral-600 dark:text-neutral-300",children:q}),b.jsxs("div",{className:"p-2 flex flex-col items-center gap-1",children:[r.showSipSin&&b.jsx("div",{className:"text-[10px] text-neutral-500 dark:text-neutral-400 text-nowrap",children:ha(C,{stem:z})}),b.jsx("div",{className:`w-8 h-8 md:w-10 md:h-10 rounded-sm md:rounded-lg flex items-center justify-center border ${Ui(z,"stem",r)}`,children:b.jsx("span",{className:`text-[20px] md:text-xl ${ue}`,children:Q})}),b.jsx("div",{className:`w-8 h-8 md:w-10 md:h-10 rounded-sm md:rounded-lg flex items-center justify-center border ${Ui(V,"branch",r)}`,children:b.jsx("span",{className:`text-[20px] md:text-xl ${se}`,children:Y})}),r.showSipSin&&b.jsx("div",{className:"text-[10px] text-neutral-500 dark:text-neutral-400 text-nowrap",children:ha(C,{branch:V})}),(r.showSibiUnseong||r.showSibiSinsal)&&b.jsxs("div",{className:"text-[10px] text-neutral-500 dark:text-neutral-400 text-center text-nowrap",children:[r.showSibiUnseong&&B&&b.jsx("div",{children:B}),r.showSibiSinsal&&W&&b.jsx("div",{children:W})]})]})]},`${q}-${$.gz||H}`)})})]})}const dae=new Set(["","","","","","","","","","","",""]);function fae(e){const t=new Date(e.getFullYear(),e.getMonth()+1),n=t.getFullYear(),i=[...fa(new Date(n-1,5,15,12,0))??[],...fa(new Date(n,5,15,12,0))??[],...fa(new Date(n+1,5,15,12,0))??[]].map(u=>({name:String(u.name),date:new Date(u.date)})).sort((u,f)=>u.date.getTime()-f.date.getTime()).filter(u=>dae.has(u.name));let a=i.findIndex((u,f)=>i[f].date<=t&&t<i[f+1]?.date);a<0&&(a=0);const o=i[a],l=i[a+1];return{start:new Date(o.date.getFullYear(),o.date.getMonth(),o.date.getDate(),0,0,0,0),end:new Date(l.date.getFullYear(),l.date.getMonth(),l.date.getDate(),0,0,0,0),cur:o,next:l}}const hae=new Set(["","","","","","","","","","","",""]);function mae(e){return new Date(e.getFullYear(),e.getMonth(),e.getDate(),23,59,0,0)}function pae(e){const t=new Intl.DateTimeFormat("ko-KR",{timeZone:"Asia/Seoul",month:"numeric"}).formatToParts(e);return Number(t.find(n=>n.type==="month")?.value??e.getMonth()+1)}function n1(e){return new Date(e,5,15,12,0,0,0)}function gae(e){const n=[...fa(n1(e-1))??[],...fa(n1(e))??[],...fa(n1(e+1))??[]].map(l=>({name:String(l.name),date:new Date(l.date)})).sort((l,u)=>l.date.getTime()-u.date.getTime()).filter(l=>hae.has(l.name)),r=new Date(e,0,1,0,0,0,0),i=new Date(e+1,0,1,0,0,0,0),a=n.findIndex(l=>l.name===""&&l.date>=r&&l.date<i);if(a===-1)return[];const o=[];for(let l=0;l<12;l++){const u=n[a+l];if(!u)break;const f=new Date(u.date),h=mae(f);o.push({name:u.name,termAt:f,at00:h})}return o}function yae({data:e,activeYear:t,onSelect:n,onSelectMonth:r}){const i=Tn(k=>k.settings),a=!e.birthPlace||e.birthPlace.name===""||e.birthPlace.lon===0?127.5:e.birthPlace.lon,o=jl(e),l=w.useMemo(()=>Ov(e,o),[e,o]),u=w.useMemo(()=>{const k=Tv(e);return jl(k)},[e]),f=e.mingSikType??"/",h=w.useMemo(()=>gt(u,f).charAt(0),[u,f]),p=i.sinsalBase===""?gt(l,f).charAt(1):at(l,a).charAt(1),g=w.useMemo(()=>t?gae(t).map(T=>{const N=T.termAt,O=new Date(T.termAt.getTime()+1860*1e3),P=Et(O,a);return{at:N,gz:P,term:T.name,termAt:T.termAt}}):[],[t,a]),{date:x,setFromEvent:S}=di(),_=Av(g,x);return b.jsxs("div",{className:"w-full max-w-[640px] mx-auto rounded-xl bg-white dark:bg-neutral-900 border border-neutral-200 dark:border-neutral-800 overflow-hidden",children:[b.jsx("div",{className:"px-3 py-2 text-sm font-semibold tracking-wider bg-neutral-50 dark:bg-neutral-800/60 text-neutral-700 dark:text-neutral-300",children:""}),b.jsx("div",{className:"flex gap-0.5 desk:gap-1 py-2 desk:p-2 flex-row-reverse",children:g.map((k,T)=>{const N=k.gz.charAt(0),O=k.gz.charAt(1),P=`${pae(k.at)}`,C=T===_,D=ui(N,"stem",i.charType),$=ui(O,"branch",i.charType),H=Ha(N,"stem"),q=Ha(O,"branch"),K=i.thinEum&&H?"font-thin":"font-bold",U=i.thinEum&&q?"font-thin":"font-bold",z=i.showSibiUnseong?jo(h,O):null,V=i.showSibiSinsal?No({baseBranch:p,targetBranch:O,era:pf(i.sinsalMode),gaehwa:!!i.sinsalBloom}):null;return b.jsxs("div",{onClick:()=>{r(k.at);const J=new Date(k.at),{start:Q}=fae(J);n?.(Q.getFullYear(),Q.getMonth()),S({at:J,gz:Et(J,a)},"")},className:`flex-1 rounded-sm desk:rounded-lg bg-white dark:bg-neutral-900 overflow-hidden cursor-pointer ${C?"border border-yellow-500":"border border-neutral-200 dark:border-neutral-800 hover:border-yellow-500"}`,title:`${k.term}   ${k.gz}  ${k.termAt.toLocaleString()}`,children:[b.jsx("div",{className:"desk:px-2 py-1 text-center text-[10px] bg-neutral-50 dark:bg-neutral-800/60 text-neutral-600 dark:text-neutral-300",children:P}),b.jsxs("div",{className:"p-2 flex flex-col items-center gap-1",children:[i.showSipSin&&b.jsx("div",{className:"text-[10px] text-neutral-500 dark:text-neutral-400 text-nowrap",children:ha(h,{stem:N})}),b.jsx("div",{className:`w-7 h-7 sm:w-8 sm:h-8 md:w-10 md:h-10 rounded-sm md:rounded-lg flex items-center justify-center border border-neutral-200 dark:border-neutral-800 ${Ui(N,"stem",i)}`,children:b.jsx("span",{className:`text-base md:text-xl ${K}`,children:D})}),b.jsx("div",{className:`w-7 h-7 sm:w-8 sm:h-8 md:w-10 md:h-10 rounded-sm md:rounded-lg flex items-center justify-center border border-neutral-200 dark:border-neutral-800 ${Ui(O,"branch",i)}`,children:b.jsx("span",{className:`text-base md:text-xl ${U}`,children:$})}),i.showSipSin&&b.jsx("div",{className:"text-[10px] text-neutral-500 dark:text-neutral-400 text-nowrap",children:ha(h,{branch:O})}),(i.showSibiUnseong||i.showSibiSinsal)&&b.jsxs("div",{className:"text-[10px] text-neutral-500 dark:text-neutral-400 text-center text-nowrap",children:[i.showSibiUnseong&&z&&b.jsx("div",{children:z}),i.showSibiSinsal&&V&&b.jsx("div",{children:V})]}),b.jsx("div",{className:"text-[10px] text-neutral-400 dark:text-neutral-500 text-nowrap",children:k.term})]})]},`${k.term}-${k.at.toISOString()}`)})})]})}function bae(){const e=Tn(r=>r.settings),{date:t,setFromEvent:n}=di();return{settings:e,pickedDate:t,setFromEvent:n}}const vae=(e,t)=>new Date(e,t,15,12,0,0,0),$k=e=>{const t=new Date(e);return t.setHours(23,59,0,0),t},xae=new Set(["","","","","","","","","","","",""]),t7=e=>[...fa(new Date(e-1,5,15,12,0))??[],...fa(new Date(e,5,15,12,0))??[],...fa(new Date(e+1,5,15,12,0))??[]].map(n=>({name:String(n.name),date:new Date(n.date)})).sort((n,r)=>n.date.getTime()-r.date.getTime()),_ae=e=>{const t=t7(e.getFullYear()),n=t.filter(o=>xae.has(o.name));if(n.length<12){const o=t.findIndex(f=>f.date>e),l=t[Math.max(0,o-1)],u=t[Math.min(t.length-1,o)];return{start:new Date(l.date),end:new Date(u.date),cur:l,next:u}}let r=n.findIndex(o=>o.date>e)-1;r<0&&(r=n.length-1);const i=n[r],a=n[(r+1)%n.length];return{start:new Date(i.date),end:new Date(a.date),cur:i,next:a}},wae=e=>{if(!e)return null;const t=new Intl.DateTimeFormat("ko-KR",{timeZone:"Asia/Seoul",month:"numeric",day:"numeric",hour:"2-digit",minute:"2-digit",hour12:!1}).formatToParts(e);let n="",r="",i="",a="";for(const o of t)o.type==="month"&&(n=o.value),o.type==="day"&&(r=o.value),o.type==="hour"&&(i=o.value),o.type==="minute"&&(a=o.value);return`${n}/${r} ${i}:${a}`};function Sae({data:e,year:t,month:n,selectedMonth:r,settings:i,pickedDate:a}){const o=i.ilunRule||"/",l=w.useMemo(()=>{const H=Tv(e);return jl(H)},[e]),u=w.useMemo(()=>l?gt(l,o).charAt(0):void 0,[l,o]),f=w.useMemo(()=>e?jl(e):null,[e]),h=w.useMemo(()=>e&&f?Ov(e,f):null,[e,f]),p=e&&e.birthPlace&&e.birthPlace.name!==""&&e.birthPlace.lon!==0?e.birthPlace.lon:127.5,g=e&&h?i.sinsalBase===""?gt(h,o).charAt(1):at(h,p).charAt(1):null,x=w.useMemo(()=>vae(t,n),[t,n]),S=w.useMemo(()=>a?$k(new Date(a)):null,[a]),_=w.useMemo(()=>r?$k(r):null,[r]),k=w.useMemo(()=>S??_??x,[S,_,x]),{start:T,end:N,cur:O,next:P}=w.useMemo(()=>_ae(k),[k]),C=w.useMemo(()=>{const H=[],q=new Date(T);for(;q<N;)H.push(new Date(q)),q.setDate(q.getDate()+1);return H},[T,N]),D=w.useMemo(()=>{const H=t7(k.getFullYear()),q=H.filter(U=>U.date>=T&&U.date<N),K=H.find(U=>U.date>=N);return K?[...q,K]:q},[k,T,N]),$=w.useMemo(()=>{const H=[];let q=[];const K=new Date(T).getDay();for(let U=0;U<K;U+=1)q.push(null);for(const U of C)q.length===7&&(H.push(q),q=[]),q.push(U);for(;q.length<7;)q.push(null);return H.push(q),H},[C,T]);return{rule:o,dayStem:u,baseBranch:g,pickerNoon:S,termMarks:D,weeks:$,cur:O??null,next:P??null}}function kae({setFromEvent:e}){return{handleDayClick:w.useCallback(n=>{e({at:n},"")},[e])}}function Eae({data:e,year:t,month:n,selectedMonth:r}){const i=bae(),a=Sae({data:e,year:t,month:n,selectedMonth:r,settings:i.settings,pickedDate:i.pickedDate}),o=kae({setFromEvent:i.setFromEvent});return b.jsxs("div",{className:"w-full max-w-[800px] mx-auto mb-4 rounded-xl bg-white dark:bg-neutral-900 border border-neutral-200 dark:border-neutral-800 overflow-hidden",children:[b.jsx("div",{className:"flex justify-center items-center px-2 desk:px-4 py-2 bg-neutral-50 dark:bg-neutral-800/60",children:b.jsxs("div",{className:"text-center text-[11px] desk:text-sm font-semibold text-neutral-700 dark:text-neutral-200",children:[a.cur?.name?b.jsxs(b.Fragment,{children:[a.cur.name," "," ~ ",a.next?.name??""]}):`${t} ${n}`,a.termMarks.length>0&&b.jsxs("div",{className:"mt-0.5 text-[10px] desk:text-xs font-normal text-neutral-500 dark:text-neutral-400",children:["[",a.termMarks.map((l,u)=>b.jsxs("span",{children:[l.name," ",wae(l.date),u<a.termMarks.length-1?"  ":""]},`${l.name}_${l.date.getTime()}_${u}`)),"]"]})]})}),b.jsx("div",{className:"grid grid-cols-7 text-center text-xs bg-neutral-100 dark:bg-neutral-800 text-neutral-600 dark:text-neutral-300",children:["","","","","","",""].map(l=>b.jsx("div",{className:"py-1",children:l},l))}),b.jsx("div",{className:"grid grid-cols-7 gap-px bg-neutral-200 dark:bg-neutral-800",children:a.weeks.map((l,u)=>l.map((f,h)=>{if(!f)return b.jsx("div",{className:"bg-white dark:bg-neutral-900"},`${u}-${h}`);const p=$k(f),g=new Date,x=p.getFullYear()===g.getFullYear()&&p.getMonth()===g.getMonth()&&p.getDate()===g.getDate(),_=!!a.pickerNoon&&p.getFullYear()===a.pickerNoon.getFullYear()&&p.getMonth()===a.pickerNoon.getMonth()&&p.getDate()===a.pickerNoon.getDate()||!a.pickerNoon&&x,k=hY(p,a.rule),T=k.charAt(0),N=k.charAt(1),O=ui(T,"stem",i.settings.charType),P=ui(N,"branch",i.settings.charType),C=i.settings.thinEum&&Ha(T,"stem")?"font-thin":"font-bold",D=i.settings.thinEum&&Ha(N,"branch")?"font-thin":"font-bold",$=!!a.dayStem&&i.settings.showSipSin,H=!!a.dayStem&&i.settings.showSibiUnseong,q=!!a.dayStem&&a.baseBranch!=null&&i.settings.showSibiSinsal,K=$?ha(a.dayStem,{stem:T}):"",U=$?ha(a.dayStem,{branch:N}):"",z=H?jo(a.dayStem,N):"",V=q?No({baseBranch:a.baseBranch,targetBranch:N,era:pf(i.settings.sinsalMode),gaehwa:!!i.settings.sinsalBloom}):"",J=a.termMarks.find(Q=>Q.date.getFullYear()===p.getFullYear()&&Q.date.getMonth()===p.getMonth()&&Q.date.getDate()===p.getDate());return b.jsxs("div",{onClick:()=>o.handleDayClick(p),className:`space-y-1 bg-white dark:bg-neutral-900 flex flex-col items-center justify-start p-1 text-xs border cursor-pointer ${_?"border-yellow-500":"border-neutral-200 dark:border-neutral-800"}`,title:`${k} (${p.toLocaleDateString()})`,children:[b.jsxs("div",{className:"text-neutral-600 dark:text-neutral-400 flex items-center gap-1",children:[b.jsx("span",{children:p.getDate()}),J&&b.jsx("span",{className:"text-[10px] text-nowrap px-1 rounded bg-amber-100 text-amber-700 dark:bg-amber-900/40 dark:text-amber-200",children:J.name})]}),$&&b.jsx("div",{className:"text-[10px] text-neutral-500 dark:text-neutral-400",children:K}),b.jsx("div",{className:`w-8 h-8 rounded flex items-center justify-center text-base ${Ui(T,"stem",i.settings)}`,children:b.jsx("span",{className:C,children:O})}),b.jsx("div",{className:`w-8 h-8 rounded flex items-center justify-center text-base ${Ui(N,"branch",i.settings)}`,children:b.jsx("span",{className:D,children:P})}),$&&b.jsx("div",{className:"text-[10px] text-neutral-500 dark:text-neutral-400",children:U}),(H||q)&&b.jsxs("div",{className:"text-[10px] text-neutral-500 dark:text-neutral-400 text-center space-y-0.5",children:[H&&z&&b.jsx("div",{children:z}),q&&V&&b.jsx("div",{children:V})]})]},f.toISOString())}))})]})}function OP(e,t){const n=e.at.getFullYear(),r=t?t.at.getFullYear():n+10,i=[];for(let a=n;a<r;a++){const o=Gn(a,315);let l=a;new Date<o&&(l=a-1);const f=at(new Date(l,1,10));i.push({at:o,gz:f})}return i}function Aae({data:e}){const t=fu(e),[n,r]=w.useState(null),[i,a]=w.useState(null),[o,l]=w.useState("il"),[u,f]=w.useState(null);w.useEffect(()=>{if(!t.length)return;const S=new Date,_=t.findIndex((k,T)=>{const N=t[T+1]?.at;return S>=k.at&&(!N||S<N)});_!==-1&&r(_)},[t]),w.useEffect(()=>{if(n===null)return;const S=t[n],_=t[n+1];if(!S)return;const k=OP(S,_),T=new Date;k.findIndex((O,P)=>{const C=k[P+1]?.at;return T>=O.at&&(!C||T<C)})!==-1&&a({year:T.getFullYear(),month:T.getMonth()})},[n,t]);const h=V2(e),{date:p}=di(),g=p.getMonth()+1===1?p.getFullYear()-1:p.getFullYear(),x=w.useMemo(()=>{if(!h?.dae?.gz)return[];const S=t.findIndex((T,N)=>{const O=t[N+1]?.at;return h.dae.at>=T.at&&(!O||h.dae.at<O)});if(S===-1)return[];const _=t[S],k=t[S+1];return OP(_,k)},[t,h?.dae]);return b.jsxs("div",{className:"w-full space-y-4",children:[b.jsx(sae,{data:e}),o==="se"||o==="wol"||o==="il"?b.jsx(uae,{data:e,list:x,onSelect:()=>{l("wol")}}):null,o==="wol"||o==="il"?b.jsx(yae,{data:e,activeYear:g,onSelect:(S,_)=>{a({year:S,month:_}),l("il")},onSelectMonth:f}):null,o==="il"&&i&&b.jsx(Eae,{data:e,year:i.year,month:i.month+1,selectedMonth:u})]})}const Tae=new Set(tY),Oae=new Set(nY);function jP(e){return typeof e=="string"&&e.length>=2&&Tae.has(e[0])&&Oae.has(e[1])}function Oi(e,...t){if(jP(e))return e;for(const n of t)if(jP(n))return n;return""}const jae={:0,:2,:4,:6,:8,:10,:12,:14,:16,:18,:20,:22};function E0(e,t){let n=null;const r=t.getTime();for(const i of e)if(i.at.getTime()<=r)n=i;else break;return n}function Nae({data:e}){const t=Tn(K=>K.settings),{manualHour:n}=Qm(),{showSibiUnseong:r,showSibiSinsal:i,sinsalBase:a,sinsalMode:o,sinsalBloom:l}=t,{date:u}=di(),f=w.useMemo(()=>ap(e),[e]),h=w.useMemo(()=>kv(f),[f]),p=w.useMemo(()=>W2(f,"/"),[f]),g=w.useMemo(()=>fv(p.day?.charAt(0)??""),[p.day]),x=!e.birthTime||e.birthTime==="",S=w.useMemo(()=>A4(h,p.hour,e.dir??"forward",120,"/"),[h,p.hour,e.dir]),_=w.useMemo(()=>O4(S,p.day,e.dir??"forward",""),[S,p.day,e.dir]),k=w.useMemo(()=>sp(h,p.month,e.dir??"forward",120,f.birthPlace?.lon??127.5),[h,p.month,e.dir,f.birthPlace?.lon]),T=w.useMemo(()=>j4(k,p.year,e.dir??"forward","",h),[k,p.year,e.dir,h]),N=w.useMemo(()=>{const K=S?.events?.[0];return K?{at:K.at,from:Oi(p.hour),to:Oi(K.gz)}:null},[S?.events,p.hour]),O=w.useMemo(()=>{const K=k?.events?.[0];return k?.firstChange?{at:k.firstChange,from:Oi(p.month),to:Oi(K?.gz??p.month)}:null},[k?.firstChange,k?.events,p.month]),P=w.useMemo(()=>{const K=x?n?n.stem+n.branch:"":Oi(E0(S.events,u)?.gz,p.hour);let U;if(x&&n){const z=u.getFullYear(),V=u.getMonth(),J=u.getDate(),Q=jae[n.branch]??0,Y=new Date(z,V,J,Q,0),Z=gt(Y,e.mingSikType??"/");U=Oi(Z,p.day)}else U=Oi(E0(_.events,u)?.gz,p.day);return{si:K,il:U,wl:Oi(E0(k.events,u)?.gz,p.month),yn:Oi(E0(T.events,u)?.gz,p.year)}},[u,S.events,_.events,k.events,T.events,p,x,n,e.mingSikType]),C=w.useMemo(()=>({si:Oi(Fa(u,"/")),il:Oi(gt(u,"/")),wl:Oi(Et(u)),yn:Oi(at(u))}),[u]),D=w.useMemo(()=>a===""?p.day.charAt(1):p.year.charAt(1),[a,p.day,p.year]),$=w.useMemo(()=>pf(o),[o]),H=K=>{if(!K)return{unseong:"",shinsal:""};const U=ui(g,"stem",""),z=ui(K.charAt(1),"branch",""),V=ui(D,"branch","");return{unseong:r&&jo(U,z)||"",shinsal:i&&No({baseBranch:V,targetBranch:z,era:$,gaehwa:!!l})||""}},q=(K,U,z="myoun")=>{const V=U,{unseong:J,shinsal:Q}=U?H(U):{unseong:"",shinsal:""},Y=z==="myoun"&&x&&(K===""||K==="");return b.jsx(xd,{label:K,gz:V,dayStem:g,settings:t,unseongText:U?J:"",shinsalText:U?Q:"",hideBranchSipSin:!0,size:"sm",isUnknownTime:Y},`${z}-${K}`)};return b.jsxs("div",{className:"w-full max-w-[640px] mx-auto mb-4 px-2 py-4 desk:p-4 bg-white dark:bg-neutral-950 text-neutral-900 dark:text-neutral-100 rounded-xl shadow border border-neutral-200 dark:border-neutral-800",children:[b.jsx("header",{className:"flex flex-wrap items-center gap-3 justify-between mb-4",children:b.jsxs("div",{className:"font-semibold text-xs desk:text-sm",children:[" +   "," ",b.jsxs("span",{className:"text-neutral-500 dark:text-neutral-400",children:["(: ",hm(h),")"]})]})}),b.jsxs("div",{className:"grid grid-cols-2 gap-2 desk:gap-4 mb-6",children:[b.jsxs("div",{children:[b.jsx("label",{className:"block text-xs mb-2 text-neutral-600 dark:text-neutral-300",children:""}),b.jsxs("div",{className:"grid grid-cols-4 gap-1 desk:gap-2",children:[q("",P.si,"myoun"),q("",P.il,"myoun"),q("",P.wl,"myoun"),q("",P.yn,"myoun")]})]}),b.jsxs("div",{children:[b.jsx("label",{className:"block text-xs mb-2 text-neutral-600 dark:text-neutral-300",children:" "}),b.jsxs("div",{className:"grid grid-cols-4 gap-1 desk:gap-2",children:[q("",C.si,"live"),q("",C.il,"live"),q("",C.wl,"live"),q("",C.yn,"live")]})]})]}),b.jsxs("div",{className:"mt-4 text-xs text-neutral-700 dark:text-neutral-300 space-y-1",children:[b.jsx("div",{className:"font-semibold",children:"  "}),b.jsxs("div",{children:[":"," ",N?`${hm(N.at)} (${N.from}  ${N.to})`:" "]}),b.jsxs("div",{children:[":"," ",O?`${hm(O.at)} (${O.from}  ${O.to})`:" "]})]})]})}const NP=["","","","","","","","","",""],Cae={:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},Mae={:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},Pae={:"",:"",:"",:"",:""},Dae={:"",:"",:"",:"",:""},Rae={:"",:"",:"",:"",:""},Lae={:"",:"",:"",:"",:""};function Iae(e,t){switch(e){case"":return t;case"":return Pae[t];case"":return Rae[t];case"":return Lae[t];case"":return Dae[t];default:return t}}function $ae({data:e,perStemElementScaled:t,elementPercent:n,dayStem:r,width:i=280,height:a=280,revKey:o}){const l=i,u=a,f=l/2,h=u/2,p=Math.min(l,u)*.37,g=w.useMemo(()=>{const O=(r??"").charAt(0);return Mae[O]??null},[r]),x=O=>Math.PI/2+2*-Math.PI*O/5,S=w.useMemo(()=>e.map((O,P)=>({...O,x:f+p*Math.cos(x(P)),y:h-p*Math.sin(x(P))})),[e,f,h,p]),[_,k]=w.useState(0),T=w.useRef(""),N=w.useMemo(()=>{const O=e.map(D=>`${D.name}:${D.value}`).join(","),P=NP.map(D=>`${D}:${t?.[D]??0}`).join(","),C=n?`:${n.??0},:${n.??0},:${n.??0},:${n.??0},:${n.??0}`:"el:none";return[o??"",O,P,C,r??""].join("||")},[o,e,t,r,n]);return w.useEffect(()=>{N!==T.current&&(T.current=N,k(O=>O+1))},[N]),b.jsx("div",{className:"w-full",children:b.jsxs("svg",{width:l,height:u,className:"mx-auto pt-2",children:[S.map((O,P)=>{const C=S[(P+2)%5];return b.jsx("line",{x1:O.x,y1:O.y,x2:C.x,y2:C.y,stroke:"#94a3b8",strokeWidth:1},`line-${P}`)}),S.map((O,P)=>{const C=S[(P+1)%5],D=(O.x+C.x)/2,$=(O.y+C.y)/2,H=D-f,q=$-h,K=1.5,U=f+H*K,z=h+q*K;return b.jsx("path",{d:`M${O.x},${O.y} Q${U},${z} ${C.x},${C.y}`,stroke:"#ef4444",strokeWidth:1.5,fill:"none",markerEnd:"url(#arrow)"},`curve-${P}`)}),b.jsx("defs",{children:b.jsx("marker",{id:"arrow",markerWidth:"6",markerHeight:"6",refX:"5",refY:"3",orient:"auto",children:b.jsx("path",{d:"M0,0 L6,3 L0,6 Z",fill:"#ef4444"})})}),S.map(O=>{const P=O.name,C=g?Iae(P,g):null,D=C?NP.filter($=>Cae[$]===C).map($=>[$,t?.[$]??0]):[];return b.jsxs("g",{transform:`translate(${O.x},${O.y})`,children:[b.jsx("circle",{r:33,fill:O.color??"#334155",opacity:O.value===0?.7:1}),b.jsxs("text",{textAnchor:"middle",dy:"-6",fontSize:14,className:"fill-white font-semibold",children:[O.name," ",O.value]}),D.map(([$,H],q)=>b.jsxs("text",{textAnchor:"middle",dy:8+q*11,fontSize:10,className:"fill-white",children:[$," ",Math.round(H)]},$))]},`${O.name}-${O.value}`)})]},_)})}const Bae=[{name:"",min:0,max:10},{name:"",min:10,max:20},{name:"",min:20,max:35},{name:"",min:35,max:45},{name:"",min:45,max:55},{name:"",min:55,max:65},{name:"",min:65,max:80},{name:"",min:80,max:100.0001}];function dA(e){return Math.max(0,Math.min(100,e))}function n7(e){const t=dA(e);return Bae.find(r=>t>=r.min&&t<r.max)?.name??""}const zae=[10,20,35,45,55,65,80];function Uae({value:e}){const t=w.useMemo(()=>dA(e),[e]),n=w.useMemo(()=>n7(t),[t]);return b.jsxs("div",{className:"w-full mx-auto p-2 desk:p-4 bg-neutral-100 dark:bg-neutral-800 rounded-xl",children:[b.jsxs("div",{className:"flex justify-between text-[11px] text-neutral-400 mb-1",children:[b.jsx("span",{children:""}),b.jsx("span",{children:""}),b.jsx("span",{children:""})]}),b.jsxs("div",{className:"relative h-4 rounded bg-gradient-to-r from-blue-500 via-yellow-400 to-red-500",children:[zae.map(r=>b.jsx("div",{className:"absolute top-0 h-4 w-[1px] bg-black/30",style:{left:`${r}%`},title:`${r}%`},r)),b.jsx("div",{className:"absolute top-0 h-4 w-[1px] bg-black/40",style:{left:"50%"},title:"50%"}),b.jsx("div",{className:"absolute -top-1 h-6 w-2 bg-white rounded shadow-sm",style:{left:`${t}%`,transform:"translateX(-50%)"},"aria-label":`  ${t}%`})]}),b.jsxs("div",{className:"mt-2 flex items-center gap-2",children:[b.jsx("span",{className:"inline-flex items-center px-2 py-0.5 rounded-full text-xs border border-neutral-600 text-neutral-700 dark:text-neutral-200",children:n}),b.jsxs("span",{className:"text-xs text-neutral-400",children:[t.toFixed(1),"%"]})]})]})}function Bh(e,t){if(e==="#")return"bg-neutral-100 text-neutral-500 border-neutral-200 dark:bg-neutral-900 dark:text-neutral-500 dark:border-neutral-700";switch(t){case"natal":return"bg-violet-100 text-violet-800 border-violet-200 dark:bg-violet-900/30 dark:text-violet-200 dark:border-violet-800";case"dae":return"bg-blue-100 text-blue-800 border-blue-200 dark:bg-blue-900/30 dark:text-blue-200 dark:border-blue-800";case"se":return"bg-green-100 text-green-800 border-green-200 dark:bg-green-900/30 dark:text-green-200 dark:border-green-800";case"wol":return"bg-orange-100 text-orange-800 border-orange-200 dark:bg-orange-900/30 dark:text-orange-200 dark:border-orange-800";case"il":return"bg-red-100 text-red-800 border-red-200 dark:bg-red-900/30 dark:text-red-200 dark:border-red-800";default:return""}}function ra({label:e,natal:t,dae:n,se:r,wol:i,il:a}){const o=n.length+r.length+i.length+a.length>0,l=t.length>0?t:["#"],u=o?l.filter(p=>p!=="#"):l,h=u.some(p=>p!=="#")||n.length>0||r.length>0||i.length>0||a.length>0?"shrink-0 w-20 text-xs font-semibold text-orange-700 dark:text-orange-300 mt-1":"shrink-0 w-20 text-xs font-semibold text-neutral-700 dark:text-neutral-400 mt-1";return b.jsxs("div",{className:"flex items-start gap-3 p-1 rounded-sm",children:[b.jsx("div",{className:h,children:e}),b.jsxs("div",{className:"flex flex-wrap gap-2",children:[u.map((p,g)=>b.jsx("span",{className:"text-xs px-2 py-1 rounded-full border whitespace-nowrap "+Bh(p,"natal"),children:p},`natal-${g}`)),n.map((p,g)=>b.jsx("span",{className:"text-xs px-2 py-1 rounded-full border whitespace-nowrap "+Bh(p,"dae"),children:p},`dae-${g}`)),r.map((p,g)=>b.jsx("span",{className:"text-xs px-2 py-1 rounded-full border whitespace-nowrap "+Bh(p,"se"),children:p},`se-${g}`)),i.map((p,g)=>b.jsx("span",{className:"text-xs px-2 py-1 rounded-full border whitespace-nowrap "+Bh(p,"wol"),children:p},`wol-${g}`)),a.map((p,g)=>b.jsx("span",{className:"text-xs px-2 py-1 rounded-full border whitespace-nowrap "+Bh(p,"il"),children:p},`il-${g}`))]})]})}function Bk(e){return Array.isArray(e)?e:[]}function A0(e,t){const n=new Set(Bk(e));return Bk(t).filter(i=>!n.has(i))}function Fae({pillars:e,daewoon:t,sewoon:n,wolwoon:r,ilwoon:i,tab:a=""}){const o=lA(e),l=Sl({natal:e}),u=t?Sl({natal:e,daewoon:t}):l,f=n?Sl({natal:e,daewoon:t,sewoon:n}):u,h=r?Sl({natal:e,daewoon:t,sewoon:n,wolwoon:r}):f,p=i?Sl({natal:e,daewoon:t,sewoon:n,wolwoon:r,ilwoon:i}):h,g=_=>({natal:Bk(o[_]),dae:A0(l[_],u[_]),se:A0(u[_],f[_]),wol:A0(f[_],h[_]),il:A0(h[_],p[_])}),x={cheonganHap:g("cheonganHap"),cheonganChung:g("cheonganChung"),jijiSamhap:g("jijiSamhap"),jijiBanhap:g("jijiBanhap"),jijiBanghap:g("jijiBanghap"),jijiYukhap:g("jijiYukhap"),amhap:g("amhap"),ganjiAmhap:g("ganjiAmhap"),jijiChung:g("jijiChung"),jijiHyeong:g("jijiHyeong"),jijiPa:g("jijiPa"),jijiHae:g("jijiHae")},S=_=>a===""?{natal:_.natal,dae:[],se:[],wol:[],il:[]}:a===""?{natal:_.natal,dae:_.dae,se:[],wol:[],il:[]}:a===""?{natal:_.natal,dae:_.dae,se:_.se,wol:[],il:[]}:a===""?{natal:_.natal,dae:_.dae,se:_.se,wol:_.wol,il:[]}:a===""?{natal:_.natal,dae:_.dae,se:_.se,wol:_.wol,il:_.il}:{natal:[],dae:[],se:[],wol:[],il:[]};return b.jsxs("div",{className:"rounded-xl p-4 bg-neutral-100 dark:bg-neutral-900 text-neutral-900 dark:text-neutral-100 space-y-2",children:[b.jsx("div",{className:"text-base font-bold mb-1",children:""}),b.jsx(ra,{label:"",...S(x.cheonganHap)}),b.jsx(ra,{label:"",...S(x.cheonganChung)}),b.jsx("div",{className:"border-t border-neutral-200 dark:border-neutral-800 my-2"}),b.jsx(ra,{label:"",...S(x.jijiSamhap)}),b.jsx(ra,{label:"",...S(x.jijiBanhap)}),b.jsx(ra,{label:"",...S(x.jijiBanghap)}),b.jsx(ra,{label:"",...S(x.jijiYukhap)}),b.jsx(ra,{label:"",...S(x.amhap)}),b.jsx(ra,{label:"",...S(x.ganjiAmhap)}),b.jsx(ra,{label:"",...S(x.jijiChung)}),b.jsx(ra,{label:"",...S(x.jijiHyeong)}),b.jsx(ra,{label:"",...S(x.jijiPa)}),b.jsx(ra,{label:"",...S(x.jijiHae)})]})}function Hae(e,t){if(e==="#")return"bg-neutral-100 text-neutral-500 border-neutral-200 dark:bg-neutral-900 dark:text-neutral-500 dark:border-neutral-700";switch(t){case"natal":return"bg-violet-100 text-violet-800 border-violet-200 dark:bg-violet-900/30 dark:text-violet-200 dark:border-violet-800";case"dae":return"bg-blue-100 text-blue-800 border-blue-200 dark:bg-blue-900/30 dark:text-blue-200 dark:border-blue-800";case"se":return"bg-green-100 text-green-800 border-green-200 dark:bg-green-900/30 dark:text-green-200 dark:border-green-800";case"wol":return"bg-orange-100 text-orange-800 border-orange-200 dark:bg-orange-900/30 dark:text-orange-200 dark:border-orange-800";case"il":return"bg-red-100 text-red-800 border-red-200 dark:bg-red-900/30 dark:text-red-200 dark:border-red-800";default:return""}}function Gae({items:e,source:t}){const n=e.length>0?e:["#"];return b.jsx("div",{className:"flex flex-wrap gap-2",children:n.map((r,i)=>b.jsx("span",{className:"text-xs px-2 py-1 rounded-full border whitespace-nowrap "+Hae(r,t),children:r},`${t}-${i}-${r}`))})}function CP({title:e,rows:t}){return b.jsxs("div",{className:"space-y-2 desk:flex-1 desk:px-1",children:[b.jsx("div",{className:"text-md font-bold text-neutral-800 dark:text-neutral-200 mt-2",children:e}),t.map(n=>{const i=n.items.some(a=>a!=="#")?"shrink-0 w-12 text-xs font-semibold text-orange-700 dark:text-orange-300 mt-1":"shrink-0 w-12 text-xs font-semibold text-neutral-700 dark:text-neutral-300 mt-1";return b.jsxs("div",{className:"flex items-start gap-3 p-1 rounded-sm",children:[b.jsx("div",{className:i,children:n.label}),b.jsx(Gae,{items:n.items.length>0?n.items:["#"],source:n.source})]},`${e}-${n.label}`)})]})}function qae({pillars:e,daewoon:t,sewoon:n,wolwoon:r,ilwoon:i,tab:a=""}){const{settings:o}=Tn(),[l,u]=w.useState(""),[f,h]=w.useState("");w.useEffect(()=>{o.sinsalBase===""?(u(""),h("")):(u(""),h(""))},[o.sinsalBase]);const p=w.useMemo(()=>({voidBasis:l===""?"day":"year",samjaeBasis:f===""?"day":"year"}),[l,f]),g=w.useMemo(()=>qd({natal:e,daewoon:t,sewoon:n,wolwoon:r,ilwoon:i,basis:p}),[e,t,n,r,i,p]),{good:x,bad:S,meta:_}=g,k=K=>K.map(U=>U==="#"?U:` ${U}`),T=(K,U)=>{const z=["natal"];return U===""&&z.push("natal"),U===""&&z.push("natal","dae"),U===""&&z.push("natal","dae","se"),U===""&&z.push("natal","dae","se","wol"),U===""&&z.push("natal","dae","se","wol","il"),K.filter(V=>z.includes(V.source))},N=[{label:"",items:k(x.si),source:"natal"},{label:"",items:k(x.il),source:"natal"},{label:"",items:k(x.wol),source:"natal"},{label:"",items:k(x.yeon),source:"natal"},{label:"",items:x.dae,source:"dae"},{label:"",items:x.se,source:"se"},{label:"",items:x.wolun,source:"wol"},{label:"",items:x.ilun,source:"il"}],O=[{label:"",items:k(S.si),source:"natal"},{label:"",items:k(S.il),source:"natal"},{label:"",items:k(S.wol),source:"natal"},{label:"",items:k(S.yeon),source:"natal"},{label:"",items:S.dae,source:"dae"},{label:"",items:S.se,source:"se"},{label:"",items:S.wolun,source:"wol"},{label:"",items:S.ilun,source:"il"}],P=T(N,a),C=T(O,a),D=_.voidPair.day?`(${_.voidPair.day.join("")})`:"()",$=_.voidPair.year?`(${_.voidPair.year.join("")})`:"()",H=_.samjaeYears.day?`(${_.samjaeYears.day.join("")})`:"()",q=_.samjaeYears.year?`(${_.samjaeYears.year.join("")})`:"()";return b.jsxs("div",{className:"rounded-xl p-4 bg-neutral-100 dark:bg-neutral-900 text-neutral-900 dark:text-neutral-100 space-y-2",children:[b.jsx("div",{className:"text-base font-bold mb-1",children:"(/)"}),b.jsxs("div",{className:"flex flex-wrap items-center gap-3 text-xs",children:[b.jsxs("div",{className:"flex items-center gap-2",children:[b.jsx("label",{className:"text-neutral-600 dark:text-neutral-300",children:" "}),b.jsxs("select",{value:l,onChange:K=>u(K.target.value),className:"px-2 h-30 rounded border border-neutral-300 dark:border-neutral-700 bg-white dark:bg-neutral-800",children:[b.jsx("option",{value:"",children:D}),b.jsx("option",{value:"",children:$})]})]}),b.jsxs("div",{className:"flex items-center gap-2",children:[b.jsx("label",{className:"text-neutral-600 dark:text-neutral-300",children:" "}),b.jsxs("select",{value:f,onChange:K=>h(K.target.value),className:"px-2 h-30 rounded border border-neutral-300 dark:border-neutral-700 bg-white dark:bg-neutral-800",children:[b.jsx("option",{value:"",children:H}),b.jsx("option",{value:"",children:q})]})]})]}),b.jsxs("div",{className:"desk:flex",children:[b.jsx(CP,{title:"()",rows:P}),b.jsx("div",{className:"block desk:hidden border-t border-neutral-200 dark:border-neutral-800 mt-4 mb-3"}),b.jsx(CP,{title:"()",rows:C})]})]})}const sa={year:0,month:1,day:2,hour:3},r7={[sa.year]:.3,[sa.month]:.5,[sa.day]:.3,[sa.hour]:.3},i7={[sa.year]:.15,[sa.month]:.2,[sa.day]:0,[sa.hour]:.15},Yae=e=>ym.has(e)?e:Kn[e]??e,Kae=e=>Bd.has(e)?e:In[e]??e,Wae=e=>typeof e=="string"&&e.length>=2?Yae(e.slice(-1)):"",Vae=e=>typeof e=="string"&&e.length>=1?Kae(e.slice(0,1)):"",vn=(e,t,n,r)=>({han:e,nan:t,jo:n,seup:r}),Zae={:vn(2,0,.5,2),:vn(2,0,0,2),:vn(2,0,0,2),:vn(0,2,2,0),:vn(0,2,2,0),:vn(0,2,1,2),:vn(0,2,2,.5),:vn(0,2,2,0),:vn(0,2,2,1),:vn(2,0,0,2),:vn(2,0,0,2),:vn(2,0,1,1)},Xae={:vn(0,1,1,0),:vn(0,1,1,0),:vn(0,2,2,0),:vn(0,2,2,0),:vn(0,0,1,0),:vn(0,0,0,1),:vn(1,0,0,1),:vn(1,0,0,1),:vn(2,0,0,2),:vn(2,0,0,2)},MP=e=>Math.max(0,Math.min(100,e));function PP(e,t){const n=Math.max(0,e),r=Math.max(0,t),i=n+r;return i<=0?50:r/i*100}function Jae(e){let t=0,n=0,r=0,i=0;return[sa.year,sa.month,sa.day,sa.hour].forEach(a=>{const o=Zae[Wae(e[a])],l=Xae[Vae(e[a])],u=r7[a],f=i7[a];u>0&&o&&(t+=o.han*u,n+=o.nan*u,r+=o.jo*u,i+=o.seup*u),f>0&&l&&(t+=l.han*f,n+=l.nan*f,r+=l.jo*f,i+=l.seup*f)}),{han:t,nan:n,jo:r,seup:i}}function Qae(e){const t=Array.isArray(e)?e.slice(0,4):[];for(;t.length<4;)t.push("");return t.map(n=>typeof n=="string"?n:"")}function eoe(e){const t=Qae(e);return w.useMemo(()=>{const{han:n,nan:r,jo:i,seup:a}=Jae(t),o=PP(n,r),l=PP(a,i);return{hanNanPct:MP(o),joSeupPct:MP(l),raw:{han:n,nan:r,jo:i,seup:a},weights:{branch:r7,stem:i7}}},[t])}function DP({label:e,percent:t,leftHint:n,midHint:r,rightHint:i}){const a=w.useMemo(()=>Math.max(0,Math.min(100,t)),[t]),o=[10,20,35,45,55,65,80];return b.jsxs("div",{className:"w-full mx-auto p-2 desk:p-4 bg-neutral-100 dark:bg-neutral-800 rounded-xl",children:[b.jsxs("div",{className:"flex justify-between text-[11px] text-neutral-400 mb-1",children:[b.jsx("span",{children:n}),b.jsx("span",{children:r}),b.jsx("span",{children:i})]}),b.jsxs("div",{className:"relative h-4 rounded bg-gradient-to-r from-blue-500 via-yellow-400 to-red-500",children:[o.map(l=>b.jsx("div",{className:"absolute top-0 h-4 w-[1px] bg-black/30",style:{left:`${l}%`},title:`${l}%`},l)),b.jsx("div",{className:"absolute top-0 h-4 w-[1px] bg-black/40",style:{left:"50%"},title:"50%"}),b.jsx("div",{className:"absolute -top-1 h-6 w-2 bg-white rounded shadow-sm",style:{left:`${a}%`,transform:"translateX(-50%)"},"aria-label":`${e} ${a.toFixed(1)}%`})]}),b.jsxs("div",{className:"mt-2 flex items-center gap-2",children:[b.jsx("span",{className:"inline-flex items-center px-2 py-0.5 rounded-full text-xs border border-neutral-600 text-neutral-700 dark:text-neutral-200",children:e}),b.jsxs("span",{className:"text-xs text-neutral-400",children:[a.toFixed(1),"%"]})]})]})}function toe({natal:e}){const{hanNanPct:t,joSeupPct:n}=eoe(e);return b.jsxs("div",{className:"flex gap-2",children:[b.jsx(DP,{label:"",percent:t,leftHint:"",midHint:"",rightHint:""}),b.jsx(DP,{label:"",percent:n,leftHint:"",midHint:"",rightHint:""})]})}const $r={:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},Ra={:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},noe={:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},ib={:"",:"",:"",:"",:""},a7={:"",:"",:"",:"",:""},jm={:"",:"",:"",:"",:""},o7={:"",:"",:"",:"",:""},roe={:{:{stem:"",w:10},:{stem:"",w:20}},:{:{stem:"",w:9},:{stem:"",w:3},:{stem:"",w:18}},:{:{stem:"",w:7},:{stem:"",w:7},:{stem:"",w:16}},:{:{stem:"",w:10},:{stem:"",w:20}},:{:{stem:"",w:9},:{stem:"",w:3},:{stem:"",w:18}},:{:{stem:"",w:7},:{stem:"",w:7},:{stem:"",w:16}},:{:{stem:"",w:10},:{stem:"",w:9},:{stem:"",w:11}},:{:{stem:"",w:9},:{stem:"",w:3},:{stem:"",w:18}},:{:{stem:"",w:7},:{stem:"",w:7},:{stem:"",w:16}},:{:{stem:"",w:10},:{stem:"",w:20}},:{:{stem:"",w:9},:{stem:"",w:3},:{stem:"",w:18}},:{:{stem:"",w:7},:{stem:"",w:7},:{stem:"",w:16}}},ioe={:{:{stem:"",w:100}},:{:{stem:"",w:20},:{stem:"",w:30},:{stem:"",w:50}},:{:{stem:"",w:30},:{stem:"",w:70}},:{:{stem:"",w:100}},:{:{stem:"",w:20},:{stem:"",w:30},:{stem:"",w:50}},:{:{stem:"",w:30},:{stem:"",w:70}},:{:{stem:"",w:100}},:{:{stem:"",w:20},:{stem:"",w:30},:{stem:"",w:50}},:{:{stem:"",w:30},:{stem:"",w:70}},:{:{stem:"",w:100}},:{:{stem:"",w:20},:{stem:"",w:30},:{stem:"",w:50}},:{:{stem:"",w:30},:{stem:"",w:70}}};function fA(e){return e===""||e===""||e===""||e===""||e===""||e===""||e===""||e===""||e===""||e===""||e===""||e===""}function s7(e){return(typeof e=="string"?e.trim().toLowerCase():"")==="hgc"?"hgc":"classic"}function hA(e){return e==="hgc"?ioe:roe}const aoe={:["","",""],:["","",""],:["","",""],:["","",""],:["","",""],:["","",""],:["","",""],:["","",""],:["","",""],:["","",""],:["","",""],:["","",""]},r1={:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},l7={:"",:"",:"",:"",:""},c7={:"",:"",:"",:""},ooe=[{a:"",b:"",to:""},{a:"",b:"",to:""},{a:"",b:"",to:""},{a:"",b:"",to:""},{a:"",b:"",to:""}],soe=[["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""]],loe={:!0,:!1,:!0,:!1,:!0,:!1,:!0,:!1,:!0,:!1},Ye=(e,t)=>`${e}${t}`,Ni=(e,t,n)=>`${e}${t}${n}`,coe={:["",""],:["",""],:["",""],:["",""],:["",""],:["",""],:["",""],:["",""],:["",""],:["",""],:["",""],:["",""]},RP={[Ye("","")]:[""],[Ye("","")]:["",""],[Ye("","")]:["",""],[Ye("","")]:[""],[Ye("","")]:[""],[Ye("","")]:[""],[Ye("","")]:["",""],[Ye("","")]:[""],[Ye("","")]:[""],[Ye("","")]:[""],[Ye("","")]:[""],[Ye("","")]:[""],[Ye("","")]:[""],[Ye("","")]:[""],[Ye("","")]:[""],[Ye("","")]:[""],[Ye("","")]:[""],[Ye("","")]:[""],[Ye("","")]:[""],[Ye("","")]:[""],[Ye("","")]:[""],[Ye("","")]:[""],[Ye("","")]:[""],[Ye("","")]:[""],[Ye("","")]:[""],[Ye("","")]:[""],[Ye("","")]:[""],[Ye("","")]:[""],[Ye("","")]:[""],[Ye("","")]:[""],[Ye("","")]:[""],[Ye("","")]:[""],[Ye("","")]:[""],[Ye("","")]:[""],[Ye("","")]:[""],[Ye("","")]:[""],[Ye("","")]:[""],[Ye("","")]:[""],[Ye("","")]:[""],[Ye("","")]:[""],[Ye("","")]:[""],[Ye("","")]:[""],[Ye("","")]:[""],[Ye("","")]:[""],[Ye("","")]:[""],[Ye("","")]:[""],[Ye("","")]:[""],[Ye("","")]:["",""],[Ye("","")]:[""],[Ye("","")]:[""],[Ye("","")]:[""],[Ye("","")]:[""],[Ye("","")]:[""],[Ye("","")]:[""],[Ye("","")]:[""]},LP={[Ni("","","")]:[""],[Ni("","","")]:[""],[Ni("","","")]:[""],[Ni("","","")]:[""],[Ni("","","")]:[""],[Ni("","","")]:[""],[Ni("","","")]:[""],[Ni("","","")]:[""],[Ni("","","")]:[""],[Ni("","","")]:[""],[Ni("","","")]:["",""]},uoe={:"",:"",:"",:"",:"",:"",:"",:"",:"",:""};function la(e){return["","","","",""].includes(e)}function doe(e){return["","","","","",""].includes(e)}const i1=e=>({:"",:"",:"",:"",:"",:"",:"",:"",:"",:""})[e]??e,aa=e=>e&&e.length>=1?e.charAt(0):"",kn=e=>e&&e.length>=2?e.charAt(1):"",foe=e=>Array.from(new Set(e));function hoe(e,t){const n=aoe[e];if(!n)return!1;const r=new Set(t.filter(Boolean));return n.filter(a=>a!==e).every(a=>r.has(a))}function moe(e){return $r[e]??""}function La(e,t){const n=$r[e],r=$r[t];if(!n||!r)return"";let i;r===n?i="":r===ib[n]?i="":r===jm[n]?i="":r===o7[n]?i="":r===a7[n]?i="":i="";const a=la(e)===la(t);switch(i){case"":return a?"":"";case"":return a?"":"";case"":return a?"":"";case"":return a?"":"";case"":return a?"":""}}function poe(e,t){const n=$r[e],r=Ra[t];if(!n||!r)return"";let i;r===n?i="":r===ib[n]?i="":r===jm[n]?i="":r===o7[n]?i="":r===a7[n]?i="":i="";const a=doe(t)===la(e);switch(i){case"":return a?"":"";case"":return a?"":"";case"":return a?"":"";case"":return a?"":"";case"":return a?"":""}}function goe(e){return{:"",:"",:"",:"",:""}[e]??""}function zk(e,t){const n=moe(e),r=la(e);let i;t===n?i="":ib[n]===t?i="":ib[t]===n?i="":jm[n]===t?i="":jm[t]===n?i="":i="";const a=r===la(goe(t));switch(i){case"":return a?"":"";case"":return a?"":"";case"":return a?"":"";case"":return a?"":"";case"":return a?"":""}}const yoe={:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},boe=e=>/^(|||||||||)$/.test(e);function voe(e){return e?boe(e)?e:yoe[e]??"":""}function T0(e){return voe(aa(e))}function xoe(e){return e?.charAt(0)??""}function _oe(e){return e?.charAt(1)??""}function woe(e,t,n){const[r,i,a,o]=(e??[]).slice(0,4),l=fe=>(fe?.length??0)>=1?fe.charAt(0):"",u=fe=>(fe?.length??0)>=2?fe.charAt(1):"",f=[r,i,a,o].map(l).filter(Boolean),h=new Set(Object.keys(Ra)),p=[r,i,a,o].map(u).filter(fe=>!!fe&&h.has(fe)),g=l(a),x=loe[g]??!1,S=new Set,_=t==="classic"?uv:dv,k=new Set(["","","","","","","","","",""]),T=fe=>(_[fe]??[]).filter(Pe=>k.has(Pe)),N=(fe,Pe)=>{const Be=Ra[Pe];return Be?zk(fe,Be):null},O={:0,:0,:0,:0,:0};for(const fe of f){const Pe=$r[fe];Pe&&(O[Pe]+=10)}const P=[];for(const fe of p){const Pe=noe[fe];Pe&&P.push(Pe);const Be=Ra[fe];Be&&(O[Be]+=6)}const D=[...f,...P].map(fe=>La(g,fe)),$={:["",""],:["",""],:["",""],:["",""],:["",""]},H=fe=>D.filter(Pe=>Pe===fe).length,q=fe=>D.filter(Pe=>$[fe].includes(Pe)).length,K=p[1],U=!!g&&uoe[g]===K,z=n.elementPercent100;z.>=20&&z.>=20&&z.>=15&&S.add("");const V=[r,i,a,o].filter(Boolean),J=[];for(const fe of V){const Pe=fe.charAt(0),Be=fe.charAt(1);J.push(La(g,Pe)),J.push(N(g,Be))}const Q=(fe,Pe)=>{const Be=(lt,jt)=>!!lt&&!!jt&&fe.includes(lt)&&Pe.includes(jt)||Pe.includes(lt)&&fe.includes(jt);for(let lt=0;lt+1<J.length;lt+=2)if(Be(J[lt],J[lt+1]))return!0;return!1},Y=fe=>J.some(Pe=>!!Pe&&fe.includes(Pe)),Z=H("")+H(""),re=H(""),ue=q(""),se=q(""),B=Q(["",""],["",""]);if((re>=1||Z>=2)&&ue>=1&&Z>ue&&se<=1&&B&&S.add(""),Y($.)&&Y($.)&&Q($.,$.)){const fe=D.includes("");S.add(fe?"":"")}q("")>=2&&q("")>=2&&Math.abs(q("")-q(""))<=1&&q("")<=1&&q("")<=1&&S.add("");const W=H(""),ae=H(""),X=H("")+H(""),oe=H("")+H(""),me=q("");ae>=2&&X>=1&&O.+O.>=20&&S.add(""),ae>=2&&oe>=1&&O.+O.>=20&&S.add(""),ae>=2&&oe>=1&&O.+O.>=20&&Q([""],["",""])&&me<=1&&S.add(""),W>=2&&oe>=1&&O.+O.>=20&&Q([""],["",""])&&me<=1&&S.add("");const pe=(fe,Pe)=>{const Be=$r[fe],lt=Ra[Pe];return!!Be&&!!lt&&Be===lt},be=[r,i,a,o].filter(Boolean),ne=u(a),Oe=pe(g,ne),Ce=be.map(fe=>fe.charAt(0)).filter(fe=>["",""].includes(La(g,fe)));let ve=!1;for(const fe of be){const Pe=fe.charAt(0),Be=fe.charAt(1);if(Ce.includes(Pe)&&pe(Pe,Be)){ve=!0;break}}Oe&&ve&&S.add(""),q("")>=3&&q("")>=.5*(q("")+q("")+q("")+q(""))&&S.add(""),q("")>=3&&q("")>=.5*(q("")+q("")+q("")+q(""))&&S.add(""),q("")>=3&&q("")>=1&&S.add(""),q("")>=3&&q("")+q("")<=1&&S.add("");const Ze=H("");q("")+q("")>=2&&Ze===1&&q("")>=1&&S.add(""),Ze>=2&&X+q("")>=3&&S.add("");const Ne=W+ae;(W>=2||Ne>=2)&&oe>=1&&Ne>oe&&S.add(""),ae>=2&&oe>=1&&Ne>oe&&S.add("");const _e=H(""),je=H("");_e>=2&&Ze+je>=1&&S.add(""),_e>=2&&Ze+je===0&&S.add(""),x&&_e>=2&&Ze>=1&&S.add(""),!x&&_e>=2&&Ze>=1&&S.add(""),H("")>=2&&H("")>=1&&S.add(""),H("")>=1&&H("")>=1&&Q([""],[""])&&S.add(""),U&&Ze>=1&&q("")+q("")>=2&&S.add("");const Ie=[u(r),u(i),u(a),u(o)].filter(Boolean),Ve=[r?.charAt(0),i?.charAt(0),o?.charAt(0)].filter(Boolean),bt=new Set(Ve.map(fe=>La(g,fe))),xt=new Set(Ie.flatMap(fe=>{const Pe=Ra[fe];return Pe?[zk(g,Pe)]:[]})),Pt=new Set(Ie.flatMap(fe=>T(fe).map(Pe=>La(g,Pe))));return["","","","",""].forEach(fe=>{const Pe=$[fe],Be=Pe.some(yt=>bt.has(yt)),lt=Pe.some(yt=>xt.has(yt)),jt=Pe.some(yt=>Pt.has(yt));!Be&&!lt&&!jt?S.add(`${fe}`):!Be&&!lt&&jt&&S.add(`${fe}`)}),Array.from(S)}const Soe=e=>{const t={:0,:0,:0,:0,:0};for(const n of e){const r=aa(n),i=kn(n),a=$r[r],o=Ra[i];a&&(t[a]+=10),o&&(t[o]+=6)}return t};function koe(e){const{pillars:t,dayStem:n,monthBranch:r,mapping:i}=e,[a,o,l,u]=(t??[]).slice(0,4),f=[aa(a),aa(o),aa(l),aa(u)].filter(Boolean),h=[kn(a),kn(o),kn(l),kn(u)].filter(Boolean),p=$r[n],g=f.map(fe=>La(n,fe)),x=[],S=fe=>f.filter(Pe=>Pe===fe).length,_=fe=>h.filter(Pe=>Pe===fe).length,k=fe=>fe.every(Pe=>h.includes(Pe)),T=fe=>g.some(Pe=>fe.includes(Pe)),N=aa(o),O=fe=>la(fe),P=()=>{const fe=f.map(Pe=>$r[Pe]);return fe.length===4&&fe.every(Pe=>Pe===fe[0])},C=()=>{if(f.length!==4)return!1;const fe=f.map(O),Pe=fe[0]&&!fe[1]&&fe[2]&&!fe[3],Be=!fe[0]&&fe[1]&&!fe[2]&&fe[3];return Pe||Be};la(n)&&l7[n]===r&&x.push("");const D=[["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""]];for(const[fe,Pe]of D)if(n===fe&&r===Pe){x.push("");break}!la(n)&&c7[n]===r&&x.push("");const $=r1[n];$&&kn(l)===$&&p===Ra[kn(l)]&&x.push(""),$&&kn(u)===$&&p===Ra[kn(u)]&&x.push("");const H=[a,o,l,u].map(xoe),q=[a,o,l,u].map(_oe);for(const fe of H);for(const fe of q);const K=i==="hgc"?dv:uv;function U(fe){return(K[fe]??[]).filter(Pe=>["","","","","","","","","",""].includes(Pe))}const z=[a,o,l,u].filter(Boolean),J=z.flatMap(fe=>[fe.charAt(0),fe.charAt(1)]).flatMap(fe=>{try{if(["","","","","","","","","",""].includes(fe))return[La(n,fe)];if(["","","","","","","","","","","",""].includes(fe)){const Pe=poe(n,fe),Be=U(fe).map(lt=>La(n,lt));return[Pe,...Be]}return[]}catch{return[]}}),Q=fe=>J.some(Pe=>fe.includes(Pe)),Y=(fe,Pe)=>{const Be=[],lt=[];for(const yt of z){const Jn=yt.charAt(0),gi=yt.charAt(1);Be.push(La(n,Jn));const yi=Ra[gi];yi?lt.push(zk(n,yi)):lt.push(null)}const jt=(yt,Jn)=>!!yt&&!!Jn&&(fe.includes(yt)&&Pe.includes(Jn)||Pe.includes(yt)&&fe.includes(Jn));for(let yt=0;yt<Be.length;yt++)if(jt(Be[yt],lt[yt]))return!0;for(let yt=0;yt<Be.length-1;yt++)if(jt(Be[yt],Be[yt+1])||jt(lt[yt],lt[yt+1]))return!0;return!1},Z={:["",""],:["",""],:["",""],:["",""]};Q([...Z.])&&Q([...Z.])&&Y([...Z.],[...Z.])&&x.push(""),Q([...Z.])&&Q([...Z.])&&Y([...Z.],[...Z.])&&x.push("");const re=fe=>g.filter(Pe=>fe.includes(Pe)).length,ue=re(["",""]),se=re([""]),B=re([""]),W=re(["",""]),ae=re(["",""]),X=re(["",""]);se>=1&&ue>=1&&ue>=se&&B<=se&&x.push("");const oe=re([""]);oe>=1&&W>=1&&oe>=W&&x.push(""),g.includes("")&&W>=1&&x.push("");const pe=Soe(t),be=Object.entries(pe).sort((fe,Pe)=>Pe[1]-fe[1]),ne=be[0];if(ne&&ne[1]>=60&&x.push(`(${ne[0]})`),be.length>=2){const[fe,Pe]=be[0],[,Be]=be[1];Pe>=75&&Pe-Be>=12&&p!==fe&&x.push(`(${fe})`)}for(const fe of ooe){const Pe=f.includes(fe.a),Be=f.includes(fe.b);if(!Pe||!Be)continue;const lt=fe.to,jt=pe[lt]??0,yt=$r[fe.a],Jn=$r[fe.b],gi=Math.max(pe[yt]??0,pe[Jn]??0),yi=Ra[r]===lt,Ds=Object.entries(pe).sort((mn,bi)=>bi[1]-mn[1])[0]?.[0]===lt;let qt=!1;jt>=60&&(yi||Ds)&&gi<=20&&jt-gi>=20&&(x.push(`(${lt})`),qt=!0),!qt&&jt>=50&&(yi||Ds)&&gi<=25&&(x.push(`(${lt})`),qt=!0),!qt&&jt>=35&&x.push(`(${lt})`)}const Oe=`${aa(u)}${kn(u)}`;["",""].includes(n)&&["","",""].includes(Oe)&&x.push(""),["","","",""].includes(kn(u))&&x.push(""),["",""].includes(n)&&(kn(l)===""||kn(o)==="")&&!h.includes("")&&x.push("");const Ce=f.some(fe=>fe===""||fe===""),ve=h.some(fe=>fe===""||fe==="");["",""].includes(kn(l))&&!Ce&&!ve&&x.push(""),["","",""].every(fe=>f.includes(fe))&&x.push(""),["","",""].every(fe=>f.includes(fe))&&x.push(""),["","",""].every(fe=>f.includes(fe))&&x.push("");const Ze=Object.values(pe).sort((fe,Pe)=>Pe-fe);Ze.length>=3&&Ze[0]-Ze[2]<=8&&Ze[0]+Ze[1]+Ze[2]>=80&&x.push(""),ae>=1&&X>=1&&Math.abs(ae-X)<=1&&x.push(""),k(["","","",""])&&x.push(""),k(["","","",""])&&x.push(""),k(["","","",""])&&x.push(""),h.length===4&&h.every(fe=>fe===h[0])&&x.push(""),f.length===4&&P()&&C()&&x.push(""),t.every(fe=>fe&&fe===t[0])&&x.push(""),f.length===4&&f.every(fe=>fe===f[0])&&h.length===4&&h.every(fe=>fe===h[0])&&x.push(""),ue>=1&&(kn(l)===r1[n]||kn(u)===r1[n])&&x.push(""),S("")>=3&&k(["","",""])&&["","",""].includes(kn(l))&&x.push("");const _e=n===""||n==="",je=[["","",""],["","",""]],Ie=[["","",""],["","",""]];_e&&(je.some(fe=>k(fe))||Ie.some(fe=>k(fe)))&&x.push("");const Ve=new Set(["","","","","",""]),bt=`${aa(l)}${kn(l)}`;if(Ve.has(bt)&&_("")>=2&&(T(["",""])||h.includes("")||h.includes("")||T(["",""])||x.push("")),new Set(["","","","","",""]).has(bt)&&_("")>=2&&h.includes("")&&x.push(""),n===""&&`${aa(u)}${kn(u)}`==""){const fe=La(n,N);!["","","",""].includes(fe)&&T(["",""])&&!h.includes("")&&!h.includes("")&&x.push("")}return new Set(["","",""]).has(bt)&&`${aa(u)}${kn(u)}`==""&&!h.includes("")&&!T(["",""])&&x.push(""),bt===""&&_("")+_("")>=2&&x.push(""),(bt===""||bt==="")&&_("")>=2&&!T(["",""])&&!h.includes("")&&x.push(""),n===""&&k(["","",""])&&x.push(""),bt===""&&`${aa(u)}${kn(u)}`==""&&x.push(""),foe(x)}function Eoe(e){const t=[];for(const n of e)switch(n.kind){case"BUNIL_PICK":t.push(`: ${n.from} `);break;case"WANGJI_FIXED_JUNGI":t.push(":   ");break;case"SAENGJI_EMITTED_ONE":t.push(`: ${n.from}  `);break;case"SAENGJI_EMITTED_MULTI":t.push(`:      ${n.from} `);break;case"SAENGJI_NOT_EMITTED_USE_JUNGI":t.push(":    ");break;case"GOJI_SAMHAP_USE_JUNGI":t.push(":     ");break;case"GOJI_EARLY_JEOLIP_USE_CHOGI":t.push(":  +12    ");break;case"GOJI_LATE_JEOLIP_USE_JUNGI":t.push(":  +12    ");break;case"NEUTRALIZED":t.push(":   / ");break;case"EX_GEONLOK":t.push(": /   ");break;case"EX_YANGIN":t.push(":    ");break;case"EX_WOLGEOP":t.push(":    ");break;case"EX_EXCLUDED_BIGEOP":t.push(": /  ");break}return t}function Aoe(e){return e===""?"()":{:"",:"",:"",:"",:"",:"",:"",:""}[e]??"-"}const IP=1e3*60*60*24;function O0(e){return Date.UTC(e.getFullYear(),e.getMonth(),e.getDate())}function Toe(e){let t=fa(e);const n=t[0]?.date;if(n&&e.getTime()<n.getTime()){const r=new Date(e);r.setFullYear(e.getFullYear()-1),t=fa(r)}return t}function Ooe(e){const t=coe[e];return Array.isArray(t)&&t.length>0?t[0]:null}function joe(e,t){const n=Ooe(e);if(!n)return null;const r=Toe(t),i=r.findIndex(f=>f.name===n);if(i<0)return null;const a=r[i]?.date,o=r[i+1]?.date;if(!a)return null;const l=Math.floor((O0(t)-O0(a))/IP)+1,u=o?Math.max(1,Math.floor((O0(o)-O0(a))/IP)):30;return{dayIdx:l<1?1:l,spanDays:u}}function Noe(e){return(e.?.w??0)+(e.?.w??0)+e..w}function Coe(e,t,n){const r=Math.max(1,Noe(e)),i=Math.max(1,Math.min(n,t)),a=Math.max(1,Math.min(r,Math.ceil(i*r/n))),o=e.?.w??0,l=e.?.w??0;return e.&&a<=o?{stem:e..stem,from:""}:e.&&a<=o+l?{stem:e..stem,from:""}:{stem:e..stem,from:""}}function u7(e){const{dayStem:t,monthBranch:n,date:r,pillars:i,emittedStems:a=[],otherBranches:o=[],isNeutralized:l,mapping:u}=e,f=[],h=s7(u),p=hA(h);if(!fA(n))return{:"-",:"-",:"-",:"-",:"-",:"-",:[],reason:["  "],reasonTokens:[]};const g=p[n];if(!g)return{:"-",:"-",:"-",:"-",:"-",:"-",:[],reason:["  "],reasonTokens:[]};const x={:g.?{stem:i1(g..stem),w:g..w}:void 0,:g.?{stem:i1(g..stem),w:g..w}:void 0,:{stem:i1(g..stem),w:g..w}},S=x..stem;let _=S;const k=joe(n,r);if(["","","",""].includes(n)&&hoe(n,o)&&x.)_=x..stem,f.push({kind:"GOJI_SAMHAP_USE_JUNGI"});else if(k){const z=Coe(x,k.dayIdx,k.spanDays);_=z.stem,f.push({kind:"BUNIL_PICK",from:z.from})}else _=S,f.push({kind:"BUNIL_FALLBACK_USE_WOLRYEONG"});function T(z,V){if(!z)return!1;if(V.includes(z))return!0;const J=$r[z];return J?V.some(Q=>$r[Q]===J):!1}let N="";_&&T(_,a)&&!l?.(_)?(N=_,f.push({kind:"DANRYEONG_CONFIRMED_BY_EMIT"})):_&&l?.(_)&&f.push({kind:"NEUTRALIZED"});const O=N||S;let P="";const C=$r[O];if(C){const z=Object.entries(jm).find(([,V])=>V===C)?.[0]??null;z&&(P=Object.entries($r).find(([J,Q])=>Q===z&&la(J)===la(O))?.[0]??"")}let D="-";const $=La(t,O),H=soe.some(([z,V])=>z===t&&V===n),q=la(t)&&l7[t]===n,K=!la(t)&&c7[t]===n;$===""||$===""?H?(D="",f.push({kind:"EX_GEONLOK"})):q?(D="",f.push({kind:"EX_YANGIN"})):K?(D="",f.push({kind:"EX_WOLGEOP"})):f.push({kind:"EX_EXCLUDED_BIGEOP"}):D=Aoe($);const U=koe({pillars:i,dayStem:t,monthBranch:n,mapping:u});return{:S,:_,:N||"-",:O||"-",:P||"-",:D,:U,reason:Eoe(f),reasonTokens:f}}function Moe(e){const[t,n,r,i]=e,a=T0(i),o=T0(r),l=T0(n),u=T0(t),f=[],h=[[a,o],[o,l],[l,u]];for(const[g,x]of h){if(!g||!x)continue;const S=Ye(g,x),_=RP[S];_?.length&&f.push(..._);const k=Ye(x,g);if(k!==S){const T=RP[k];T?.length&&f.push(...T)}}const p=[[a,o,l],[o,l,u]];for(const[g,x,S]of p){if(!g||!x||!S)continue;const _=Ni(g,x,S),k=LP[_];k?.length&&f.push(...k);const T=Ni(S,x,g);if(T!==_){const N=LP[T];N?.length&&f.push(...N)}}return Array.from(new Set(f))}const Poe=["","","","",""];function Doe(e){return Poe.includes(e)}function Roe(e){const t=/^(.+?)\((.+)\)$/.exec(e.trim());return t?{base:t[1].trim(),inner:t[2].trim()}:{base:e.trim()}}function zh(e,t){if(!t)return e;const n=(Doe(t),t);return`${e}(${n})`}const Loe={:{title:"",short:"    ."},:{title:"",short:"    ."},:{title:"",short:"    ."},:{title:"",short:"   ."},:{title:"",short:"   ."},:{title:"",short:"     ."},:{title:"",short:"   ."},:{title:"",short:"   ."},:{title:"",short:"   ."},:{title:"",short:"    ."},:{title:"",short:"     ."},:{title:"",short:"    ."},:{title:"",short:"    ."},:{title:"",short:"   ."},:{title:"",short:"    ."},:{title:"",short:"    ."},:{title:"",short:"    ."},:{title:"",short:" 3    ."},:{title:"",short:"    ."},:{title:"",short:"    ."},:{title:"",short:"    ."},:{title:"",short:"    ."},:{title:"",short:"   ."},:{title:"",short:"     ."},:{title:"",short:"     ."},:{title:"",short:"     ."},:{title:"",short:"     ."},:{title:"",short:"    ."},:{title:"",short:"    ."},:{title:"",short:"    ."},:{title:"",short:"    ."},:{title:"",short:"   ."},:{title:"",short:"   ."},:{title:"",short:"    ."},:{title:"",short:"    ."},:{title:"",short:"   ."},:{title:"",short:"   ."}},Ioe={:e=>({title:zh("",e),short:"     ."}),:e=>({title:zh("",e),short:"   ."}),:e=>({title:zh("",e),short:"   ."}),:e=>({title:zh("",e),short:"    ."}),:e=>({title:zh("",e),short:"    ."})};function $oe(e){const{base:t,inner:n}=Roe(e);return t===""||t===""||t===""||t===""||t===""?Ioe[t](n):Loe[t]}function Boe(e){const t=$oe(e);if(t)return t.detail?`${t.short}

${t.detail}`:t.short}const zoe=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),$P={:"   .   .",:"   .",:"  .",:"    .",:"  .",:"  .  .",:"   .",:"  .   .",:"   .",:"  .",:"   .",:"   .",:"  .",:"   .",:"   .",:"   .",:"   .",:"   .",:"  .",:"  .",:"   .",:"    .",:"   .",:"   .",:"   .",:"   .",:"   .",:"   .",:"  .",:"   .",:"  .  .",:"   .",:"   .",:"  .",:"  .",:"   .",:"    .",:"      .",:"  .",:"  .",:"    .",:"  .",:"  .",:"   .",:"  .",:"   .",:"   .",:"   .",:"   .",:"  .",:"  .",:"  .",:"    .",:"   .",:"  .",:"    .",:"     .",:"   .",:"  .",:"     .",:"    .",:"   .",:"    .",:"    .",:"   .",:"   .",:" .",:"   .",:"   .",:"   .",:"   ."};function Uoe(e){if(zoe($P,e))return $P[e]}const BP={:"(/)",:"(/)",:"(/)",:"(/)",:"(/)"},Foe={:{title:"",short:"    .",detail:"       ."},:{title:"",short:"      .",detail:"  +     ."},:{title:"",short:"     .",detail:"  +     ."},:{title:"",short:"     .",detail:"  +  ."},:{title:"",short:"      .",detail:"     ."},:{title:"",short:"    ."},:{title:"",short:"    .",detail:"  +    ."},:{title:"",short:"()    .",hint:"     "},:{title:"",short:"     ."},:{title:"",short:"    ."},:{title:"",short:"  +    ."},:{title:"",short:"   ."},:{title:"",short:"   ."},:{title:"",short:"    ."},:{title:"",short:"   ."},:{title:"",short:"      ."},:{title:"",short:"    ."},:{title:"",short:"      ."},:{title:"",short:"    ."},:{title:"",short:"       ."},:{title:"",short:"    ."},:{title:"",short:"     ."},:{title:"",short:"     ."},:{title:"",short:"    ."}};function Hoe(e){const t=/^(|)(||||)$/.exec(e);if(!t)return null;const n=t[1],r=t[2];return n===""?{kind:"",group:r}:{kind:"",group:r}}function Goe(e,t){return e===""?{title:`${t}`,short:`${BP[t]}() //   .`,hint:"( ) +  +   "}:{title:`${t}`,short:`${BP[t]}()     .`,hint:" X /  O"}}function qoe(e){const t=Hoe(e);return t?Goe(t.kind,t.group):Foe[e]}function Yoe(e){const t=qoe(e);if(t)return t.detail?`${t.short}

${t.detail}`:t.short}const Koe={:{title:"",text:"()  /  .   ."},:{title:"",text:" (//)     .  ."},:{title:"",text:"       .     ."},:{title:"",text:" (/)    ( ).    ."},:{title:"",text:" (/)   ,           ."}};function Woe(e){return Koe[e]?.text}const Voe=e=>{switch(e){case"":return"( )";case"":return"";case"":return"()"}},Zoe={BUNIL_PICK:{title:"",text:"    //     ."},BUNIL_FALLBACK_USE_WOLRYEONG:{title:" ",text:"    ()    ."},DANRYEONG_CONFIRMED_BY_EMIT:{title:" ",text:"      ."},WANGJI_FIXED_JUNGI:{title:"",text:"       ."},SAENGJI_EMITTED_ONE:{title:" ",text:"        ."},SAENGJI_EMITTED_MULTI:{title:"  ",text:"          ."},SAENGJI_NOT_EMITTED_USE_JUNGI:{title:" ",text:"        ."},GOJI_SAMHAP_USE_JUNGI:{title:" + ",text:"      ."},GOJI_EARLY_JEOLIP_USE_CHOGI:{title:" +  ",text:"   12    ."},GOJI_LATE_JEOLIP_USE_JUNGI:{title:" +  ",text:"   12    ."},NEUTRALIZED:{title:"",text:"       ."},EX_GEONLOK:{title:" ",text:"       ."},EX_YANGIN:{title:" ",text:"       ."},EX_WOLGEOP:{title:" ",text:"        ."},EX_EXCLUDED_BIGEOP:{title:" ",text:"   ."}},Xoe={:{title:"",text:"      ."},:{title:"",text:"      ."},:{title:"",text:"      ."},:{title:"",text:"      ."},:{title:"",text:"      ."},:{title:"",text:"      ."},"()":{title:"()",text:"      ."},:{title:"",text:"      ."},:{title:"",text:"      ."},:{title:"",text:"/       ."},:{title:"",text:"/        ."},:{title:"",text:"/       ."}},Joe=e=>e.replace(/^\s*:\s*/,"").trim();function Qoe(e){const t=Joe(e);return Xoe[t]}function ese(e){const t=Zoe[e.kind];if(t)return"from"in e?{...t,text:`${t.text} ( : ${Voe(e.from)})`}:t}function tse(e){const{pillars:t,tab:n,birthDate:r,emittedStems:i,otherBranches:a,isNeutralized:o,mapping:l,unified:u}=e,[f,h,p,g]=t,x=X=>X&&X.length>=1?X.charAt(0):"",S=X=>X&&X.length>=2?X.charAt(1):"",_=S(h),k=x(p),T=r instanceof Date&&!Number.isNaN(r.getTime())?r:new Date,N=[x(f),x(h),x(p),x(g)].filter(X=>!!(X&&X.length===1)),O=[S(f),S(p),S(g)].filter(X=>!!(X&&X.length===1)),P=u7({dayStem:k,monthBranch:_,date:T,pillars:t,emittedStems:i??N,otherBranches:a??O,isNeutralized:o,mapping:l}),C=P.reasonTokens??[],D=P.reason??[],$=[` : ${P.||"-"}`,` : ${P.||"-"}`,` : ${P.||"-"}`,` : ${P.||"-"}`,` : ${P.||"-"}`],H=[` : ${P.||"-"}`],q=Array.isArray(P.)&&P..length>0?P..map(X=>` : ${X}`):[" : -"],K=Moe(t),U=[...K.length?K.map(X=>`${X}`):[]],V=[...woe(t,l,u)],J=({text:X,color:oe})=>{const me={violet:"bg-violet-100 text-violet-800 border-violet-200 dark:bg-violet-900/30 dark:text-violet-200 dark:border-violet-800",amber:"bg-amber-100 text-amber-800 border-amber-200 dark:bg-amber-900/30 dark:text-amber-200 dark:border-amber-800",blue:"bg-blue-100 text-blue-800 border-blue-200 dark:bg-blue-900/30 dark:text-blue-200 dark:border-blue-800",green:"bg-green-100 text-green-800 border-green-200 dark:bg-green-900/30 dark:text-green-200 dark:border-green-800",red:"bg-red-100 text-red-800 border-red-200 dark:bg-red-900/30 dark:text-red-200 dark:border-red-800"};return b.jsx("span",{className:`inline-block text-xs px-2 py-1 rounded-full border whitespace-nowrap ${me[oe]}`,title:X,children:X})},Q=({children:X})=>b.jsx("li",{className:"!flex flex-wrap gap-1 p-1 rounded-sm",children:X}),[Y,Z]=w.useState(null),re=({text:X})=>{const oe=X.replace(/^\s*:\s*/,"").trim(),me=w.useMemo(()=>Boe(oe),[oe]),pe=`outer:${oe}`,be=Y===pe;return me?b.jsxs("span",{className:"relative inline-flex",children:[b.jsx("button",{type:"button",onClick:()=>Z(be?null:pe),className:"inline-flex cursor-pointer",title:me,children:b.jsx(J,{text:X,color:"blue"})}),be&&b.jsx("div",{className:"absolute z-10 left-0 top-full mt-1 w-[180px] text-[11px] leading-4 rounded-md border border-neutral-200 dark:border-neutral-700 bg-white dark:bg-neutral-900 text-neutral-700 dark:text-neutral-200 p-2 shadow text-center",children:me})]}):b.jsx(J,{text:X,color:"blue"})},ue=({text:X})=>{const oe=X.trim(),me=w.useMemo(()=>Uoe(oe),[oe]),pe=`mulsang:${oe}`,be=Y===pe;return me?b.jsxs("span",{className:"relative inline-flex",children:[b.jsx("button",{type:"button",onClick:()=>Z(be?null:pe),className:"inline-flex cursor-pointer",title:me,children:b.jsx(J,{text:X,color:"green"})}),be&&b.jsx("div",{className:"absolute z-10 left-0 top-full mt-1 w-[180px] text-[11px] leading-4 rounded-md border border-neutral-200 dark:border-neutral-700 bg-white dark:bg-neutral-900 text-neutral-700 dark:text-neutral-200 p-2 shadow text-center",children:me})]}):b.jsx(J,{text:X,color:"green"})},se=({text:X})=>{const oe=X.trim(),me=w.useMemo(()=>Yoe(oe),[oe]),pe=`structure:${oe}`,be=Y===pe;return me?b.jsxs("span",{className:"relative inline-flex",children:[b.jsx("button",{type:"button",onClick:()=>Z(be?null:pe),className:"inline-flex cursor-pointer",title:me,children:b.jsx(J,{text:X,color:"red"})}),be&&b.jsx("div",{className:"absolute z-10 left-0 top-full mt-1 w-[180px] text-[11px] leading-4 rounded-md border border-neutral-200 dark:border-neutral-700 bg-white dark:bg-neutral-900 text-neutral-700 dark:text-neutral-200 p-2 shadow text-center",children:me})]}):b.jsx(J,{text:X,color:"red"})},B=({text:X,color:oe})=>{const me=X.trim(),pe=me.split(":")[0]?.trim()??me,be=w.useMemo(()=>Woe(pe),[pe]),ne=`term:${pe}`,Oe=Y===ne;return be?b.jsxs("span",{className:"relative inline-flex",children:[b.jsx("button",{type:"button",onClick:()=>Z(Oe?null:ne),className:"inline-flex cursor-pointer",title:be,children:b.jsx(J,{text:X,color:oe})}),Oe&&b.jsx("div",{className:"absolute z-10 left-0 top-full mt-1 w-[180px] text-[11px] leading-4 rounded-md border border-neutral-200 dark:border-neutral-700 bg-white dark:bg-neutral-900 text-neutral-700 dark:text-neutral-200 p-2 shadow text-center",children:be})]}):b.jsx(J,{text:X,color:oe})},W=({text:X})=>{const oe=w.useMemo(()=>Qoe(X),[X]),me=`naegyeok:${X}`,pe=Y===me;return oe?b.jsxs("span",{className:"relative inline-flex",children:[b.jsx("button",{type:"button",onClick:()=>Z(pe?null:me),className:"inline-flex cursor-pointer",title:oe.text,children:b.jsx(J,{text:X,color:"amber"})}),pe&&b.jsx("div",{className:"absolute z-10 left-0 top-full mt-1 w-[200px] text-[11px] leading-4 rounded-md border border-neutral-200 dark:border-neutral-700 bg-white dark:bg-neutral-900 text-neutral-700 dark:text-neutral-200 p-2 shadow text-center",children:oe.text})]}):b.jsx(J,{text:X,color:"amber"})},ae=({token:X,fallback:oe,idx:me})=>{const pe=ese(X),be=pe?.title??oe,ne=pe?.text??oe,Oe=`reason:${X.kind}:${"from"in X?X.from:""}:${me}`,Ce=Y===Oe;return b.jsxs("span",{className:"relative inline-flex",children:[b.jsx("button",{type:"button",onClick:()=>Z(Ce?null:Oe),className:"inline-flex cursor-pointer",title:ne,children:b.jsx(J,{text:be,color:"amber"})}),Ce&&b.jsx("div",{className:"absolute z-10 left-0 top-full mt-1 w-[200px] text-[11px] leading-4 rounded-md border border-neutral-200 dark:border-neutral-700 bg-white dark:bg-neutral-900 text-neutral-700 dark:text-neutral-200 p-2 shadow text-center",children:ne})]})};return b.jsxs("div",{className:"p-4 rounded-xl bg-neutral-100 dark:bg-neutral-900 space-y-3 text-sm","data-revkey":`gyeok:${n}|${t.join("")}|${$.join(",")}|${H.join(",")}|${q.join(",")}`,children:[b.jsx("div",{className:"font-bold text-base",children:"   "}),b.jsx("div",{className:"text-xs text-amber-500 dark:text-amber-400 mb-2",children:"*        ."}),b.jsxs("ul",{className:"space-y-1",children:[b.jsx(Q,{children:$.map(X=>b.jsx(B,{text:X,color:"violet"},X))}),b.jsx(Q,{children:H.map(X=>b.jsx(W,{text:X},X))}),b.jsx(Q,{children:q.map(X=>b.jsx(re,{text:X},X))}),b.jsx(Q,{children:U.map(X=>b.jsx(ue,{text:X},X))}),b.jsx(Q,{children:V.map(X=>b.jsx(se,{text:X},X))})]}),C.length>0?b.jsxs("div",{className:"mt-2",children:[b.jsx("div",{className:"text-xs text-neutral-600 dark:text-neutral-400",children:" "}),b.jsx("div",{className:"mt-1",children:b.jsx(Q,{children:C.map((X,oe)=>b.jsx(ae,{token:X,fallback:D[oe]??X.kind,idx:oe},`${X.kind}-${oe}`))})})]}):P.reason.length>0?b.jsxs("div",{className:"mt-2 text-xs text-neutral-600 dark:text-neutral-400",children:[": ",P.reason.join(" / ")]}):null]})}const nse=Object.fromEntries(Ka..map((e,t)=>[e,Ur[t]])),rse=Object.fromEntries(Ur.map((e,t)=>[e,Ka.[t]])),ise=Object.fromEntries(Ka..map((e,t)=>[e,ci[t]])),ase=Object.fromEntries(ci.map((e,t)=>[e,Ka.[t]])),ose=e=>nse[e]??e,sse=e=>ise[e]??e,lse=e=>rse[e]??e,cse=e=>ase[e]??e;function use(e){const t={...e};for(const n of Object.keys(e)){const r=/[]/.test(n)?ose(n):lse(n);r&&t[r]===void 0&&(t[r]=e[n])}return t}function mA(e){const t={...e};for(const n of Object.keys(e)){const r=/[]/.test(n)?sse(n):cse(n);r&&t[r]===void 0&&(t[r]=e[n])}return t}const dse={:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},fse={:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},d7={:[{stem:"",ratio:1,main:!0}],:[{stem:"",ratio:1,main:!0}],:[{stem:"",ratio:.2},{stem:"",ratio:.3},{stem:"",ratio:.5,main:!0}],:[{stem:"",ratio:.2},{stem:"",ratio:.3},{stem:"",ratio:.5,main:!0}],:[{stem:"",ratio:.3},{stem:"",ratio:.7,main:!0}],:[{stem:"",ratio:.3},{stem:"",ratio:.7,main:!0}],:[{stem:"",ratio:1,main:!0}],:[{stem:"",ratio:1,main:!0}],:[{stem:"",ratio:.2},{stem:"",ratio:.3},{stem:"",ratio:.5,main:!0}],:[{stem:"",ratio:.2},{stem:"",ratio:.3},{stem:"",ratio:.5,main:!0}],:[{stem:"",ratio:.3},{stem:"",ratio:.7,main:!0}],:[{stem:"",ratio:.3},{stem:"",ratio:.7,main:!0}],:[{stem:"",ratio:1,main:!0}],:[{stem:"",ratio:1,main:!0}],:[{stem:"",ratio:.2},{stem:"",ratio:.3},{stem:"",ratio:.5,main:!0}],:[{stem:"",ratio:.2},{stem:"",ratio:.3},{stem:"",ratio:.5,main:!0}],:[{stem:"",ratio:.3},{stem:"",ratio:.7,main:!0}],:[{stem:"",ratio:.3},{stem:"",ratio:.7,main:!0}],:[{stem:"",ratio:1,main:!0}],:[{stem:"",ratio:1,main:!0}],:[{stem:"",ratio:.2},{stem:"",ratio:.3},{stem:"",ratio:.5,main:!0}],:[{stem:"",ratio:.2},{stem:"",ratio:.3},{stem:"",ratio:.5,main:!0}],:[{stem:"",ratio:.3},{stem:"",ratio:.7,main:!0}],:[{stem:"",ratio:.3},{stem:"",ratio:.7,main:!0}]},hse={...d7,:[{stem:"",ratio:.2},{stem:"",ratio:.3},{stem:"",ratio:.5,main:!0}],:[{stem:"",ratio:.2},{stem:"",ratio:.3},{stem:"",ratio:.5,main:!0}],:[{stem:"",ratio:.2},{stem:"",ratio:.2},{stem:"",ratio:1,main:!0}],:[{stem:"",ratio:.2},{stem:"",ratio:.2},{stem:"",ratio:1,main:!0}],:[{stem:"",ratio:.2},{stem:"",ratio:.3},{stem:"",ratio:.7,main:!0}],:[{stem:"",ratio:.2},{stem:"",ratio:.3},{stem:"",ratio:.7,main:!0}],:[{stem:"",ratio:.2},{stem:"",ratio:.3},{stem:"",ratio:.7,main:!0}],:[{stem:"",ratio:.2},{stem:"",ratio:.3},{stem:"",ratio:.7,main:!0}]},zP=use(dse),UP=mA(fse);mA(d7);mA(hse);const mse=["","","","",""];function pse(){const[e,t]=w.useState("   "),[n,r]=w.useState(""),[i,a]=w.useState(!0);return{bigTab:e,setBigTab:t,blendTab:n,setBlendTab:r,demoteAbsent:i,setDemoteAbsent:a}}const gse={:{:"#13B713",:"#DC143C",:"#F0B100",:"#a0a0a0",:"#353535"},:{:"#DC143C",:"#F0B100",:"#a0a0a0",:"#353535",:"#13B713"},:{:"#F0B100",:"#a0a0a0",:"#353535",:"#13B713",:"#DC143C"},:{:"#a0a0a0",:"#353535",:"#13B713",:"#DC143C",:"#F0B100"},:{:"#353535",:"#13B713",:"#DC143C",:"#F0B100",:"#a0a0a0"}},yse={:"",:"",:"",:"",:"",:"",:"",:"",:"",:""};function f7(e){const t=yse[e]??"";return gse[t]}const bse=Object.fromEntries(Ka..map((e,t)=>[e,Ur[t]])),vse=Object.fromEntries(Ur.map((e,t)=>[e,Ka.[t]])),xse=Object.fromEntries(Ka..map((e,t)=>[e,ci[t]])),_se=Object.fromEntries(ci.map((e,t)=>[e,Ka.[t]])),wse=e=>bse[e]??e,Sse=e=>xse[e]??e,kse=e=>vse[e]??e,Ese=e=>_se[e]??e;function h7(e){const t={...e};for(const n of Object.keys(e)){if(n.length<2)continue;const r=n.charAt(0),i=n.charAt(1),a=/[]/.test(r)||/[]/.test(i)?`${wse(r)}${Sse(i)}`:`${kse(r)}${Ese(i)}`;t[a]===void 0&&(t[a]=e[n])}return t}const m7={:1,:.2,:1,:1,:.5,:.7,:0,:.5,:1,:1,:0,:1,:0,:0,:.3,:0,:.5,:.3,:0,:0,:.3,:0,:.8,:.3,:0,:.5,:0,:0,:.3,:.3,:0,:.3,:0,:0,:.8,:0,:0,:.8,:0,:0,:.5,:0,:1,:.5,:0,:0,:.7,:0,:1,:.5,:.7,:0,:.2,:.7,:1,:.7,:.7,:1,:.2,:.7},Ase={...m7,:.8,:.3,:.5,:.5,:.2,:.2,:.8,:.2},Tse=h7(m7),Ose=h7(Ase),jse={:"",:"",:"",:"",:""},Nse={:"",:"",:"",:"",:""},Cse={:"",:"",:"",:"",:""},Mse={:"",:"",:"",:"",:""},Pse=e=>In[e]??e,Dse=e=>Kn[e]??e;function p7(e){return!e||e.length<2?"":`${Pse(e[0])}${Dse(e[1])}`}const g7=e=>e&&e.length>=1?e[0]:"",y7=e=>e&&e.length>=2?e[1]:"";function b7(e){return{:e,:jse[e],:Nse[e],:Cse[e],:Mse[e]}}const v7={:["","","","","","","",""],:["","","","","","","",""],:["","","","","","","",""],:["","","","","","","",""],:["","","","","","","","","","","",""],:["","","","","","","","","","","",""],:["","","","","","","","","","","",""],:["","","","","","","","","","","",""],:["","","","","","","",""],:["","","","","","","",""]};function Rse(e,t){const n=(e??[]).slice(0,4).map(p7);if(n.length!==4||n.some(g=>g.length<2))return{flags:{:{:!1,:!1,:!1},:{:!1,:!1,:!1},:{:!1,:!1,:!1},:{:!1,:!1,:!1},:{:!1,:!1,:!1}},monthBranch:"",dayEl:""};const r=g7(n[2]),i=r===""||r===""?"":r===""||r===""?"":r===""||r===""?"":r===""||r===""?"":"",a=n.map(g=>y7(g)),o={:{:!1,:!1,:!1},:{:!1,:!1,:!1},:{:!1,:!1,:!1},:{:!1,:!1,:!1},:{:!1,:!1,:!1}},l=v7[r]??[],u=a[1];l.includes(u)&&(o..=!0,o..=!0);const f=a[2];l.includes(f)&&(o..=!0,o..=!0);const h=b7(i).,p=t[h]??0;return o..=p>=30,{flags:o,monthBranch:u,dayEl:i}}function x7(e,t){const n=(e??[]).slice(0,4).map(p7);if(n.length<3||n[0].length<2||n[1].length<2||n[2].length<2){const S={:!1,:!1,:!1};return{flags:{:{...S},:{...S},:{...S},:{...S},:{...S},:{...S},:{...S},:{...S},:{...S},:{...S}},monthBranch:"",dayEl:""}}const r=g7(n[2]),i=r===""||r===""?"":r===""||r===""?"":r===""||r===""?"":r===""||r===""?"":"",a=n.map(S=>y7(S)),o={:!1,:!1,:!1},l={:{...o},:{...o},:{...o},:{...o},:{...o},:{...o},:{...o},:{...o},:{...o},:{...o}},u=v7[r]??[],f=a[1];u.includes(f)&&(l..=!0,l..=!0,l..=!0,l..=!0);const h=a[2];u.includes(h)&&(l..=!0,l..=!0,l..=!0,l..=!0);const p=b7(i).;return(t[p]??0)>=30&&(l..=!0,l..=!0,l..=!0,l..=!0),{flags:l,monthBranch:f,dayEl:i}}const Lse=Object.fromEntries(Object.entries(In).map(([e,t])=>[t,e])),Ise=Object.fromEntries(Object.entries(Kn).map(([e,t])=>[t,e])),$se=e=>In[e]??e,Bse=e=>Kn[e]??e;function zse(e){return!e||e.length<2?"":`${$se(e[0])}${Bse(e[1])}`}function Nc(e){return zP[e]??zP[Lse[e]??""]}function Cc(e){return UP[e]??UP[Ise[e]??""]}const a1=["year","month","day","hour"],Use={year:{stem:10,branch:10},month:{stem:15,branch:30},day:{stem:25,branch:25},hour:{stem:15,branch:15}},Fse={year:{stem:10,branch:10},month:{stem:15,branch:45},day:{stem:25,branch:40},hour:{stem:15,branch:12.5}},Hse=new Set(["","","","",""]),Gse=new Set(["","","","","",""]),qse=new Set(["","","",""]),o1=e=>Hse.has(e)?"":"",s1=e=>{const t=Gse.has(e)?"":"";return qse.has(e)?t===""?"":"":t};function FP(e){const t=e.reduce((l,u)=>l+u,0);if(t<=0)return e.map(()=>0);const n=e.map(l=>l*100/t),r=n.map(l=>Math.floor(l+.5)),i=100-r.reduce((l,u)=>l+u,0);if(i===0)return r;const a=n.map((l,u)=>({i:u,frac:l-Math.floor(l+.5)})).sort((l,u)=>u.frac-l.frac),o=r.slice();if(i>0)for(let l=0;l<i;l++)o[a[l].i]+=1;else for(let l=0;l<-i;l++)o[a[a.length-1-l].i]-=1;return o}function Yse(e,t){return e===0?t?1:.8:e===1?t?.6:.5:t?.3:.2}const j0={:.15,:.1,:-.15,:-.2,:-.25},ys={:"",:"",:"",:"",:""},iu={:"",:"",:"",:"",:""},So={:"",:"",:"",:"",:""},jv={:"",:"",:"",:"",:""};function N0(e,t){return e===t?"":ys[t]===e?"":ys[e]===t?"":So[e]===t?"":So[t]===e?"":""}const Mc=e=>e&&e.length>=1?e[0]:"",Pc=e=>e&&e.length>=2?e[1]:"";function Kse(e,t){const n=e.reduce((u,f)=>u+f,0);if(n<=0||t<=0)return new Array(e.length).fill(0);const r=e.map(u=>u/n*t),i=r.map(u=>Math.floor(u));let a=t-i.reduce((u,f)=>u+f,0);const o=r.map((u,f)=>({i:f,frac:u-Math.floor(u)})).sort((u,f)=>f.frac-u.frac),l=i.slice();for(let u=0;u<o.length&&a>0;u++)l[o[u].i]+=1,a-=1;return l}function HP(e,t){switch(e){case"":return t;case"":return ys[t];case"":return So[t];case"":return jv[t];case"":return iu[t];default:return t}}const GP={:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},Wse=["","","","",""],Vse={:{a:"",b:"",aVal:0,bVal:0},:{a:"",b:"",aVal:0,bVal:0},:{a:"",b:"",aVal:0,bVal:0},:{a:"",b:"",aVal:0,bVal:0},:{a:"",b:"",aVal:0,bVal:0}},qP={:0,:0,:0,:0,:0,:0,:0,:0,:0,:0},Zse={:{:!1,:!1,:!1},:{:!1,:!1,:!1},:{:!1,:!1,:!1},:{:!1,:!1,:!1},:{:!1,:!1,:!1}};function Xse(e){return e.length===4&&!!e[0]&&e[0].length>=2&&!!e[1]&&e[1].length>=2&&!!e[2]&&e[2].length>=2}function Jse(e){const t=Wse.map(n=>({name:n,value:0,color:"#999999"}));return{overlay:{totalsSub:{...qP},perStemAugBare:{},perStemAugFull:{}},totals:t,perTenGod:{...Vse},PerTenGodSub:{...qP},elementScoreRaw:e,deukFlags:{...Zse},perStemElement:{},perStemElementScaled:{},stemScoreRaw:{},elementPercent100:{:0,:0,:0,:0,:0}}}function Qse(e,t){const n=e[2]?.[0]??"",r=t??n;return{dayStem:r,dayEl:r===""||r===""?"":r===""||r===""?"":r===""||r===""?"":r===""||r===""?"":""}}function Uk(e){const{pillars:t,dayStem:n,mode:r,debug:i,useHarmonyOverlay:a,criteriaMode:o,luck:l}=e,u=o==="modern"?Use:Fse,f=r==="classic"?Ose:Tse,h={:0,:0,:0,:0,:0},p={},g=(t??[]).slice(0,4).map(zse);if(!Xse(g))return Jse(h);const{dayStem:x,dayEl:S}=Qse(g,n),_=[{val:0},{val:0},{val:0},{val:0}],k=[[],[],[],[]];for(const B of g){if(!B)continue;const W=B.charAt(0),ae=B.charAt(1);p[W]=(p[W]??0)+50;const X=GP[ae];X&&(p[X]=(p[X]??0)+50)}for(let B=0;B<4;B++){const W=g[B];if(!W||W.length<2)continue;const ae=a1[B],X=Mc(W),oe=Pc(W),me=u[ae],pe=Nc(X);pe&&(h[pe]+=me.stem,_[B]={stem:X,el:pe,pol:o1(X),val:me.stem});const be=Cc(oe);be&&(h[be]+=me.branch,k[B].push({el:be,pol:s1(oe),val:me.branch}))}for(let B=0;B<4;B++){const W=g[B];if(!W||W.length<2)continue;const ae=a1[B],X=f[W]??0;if(X===0)continue;const oe=Mc(W),me=Nc(oe);if(!me)continue;const pe=u[ae].stem*X;h[me]+=pe,_[B].val+=pe}for(let B=0;B<4;B++){const W=g[B];if(!W||W.length<2)continue;const ae=Pc(W),X=Cc(ae);if(!X)continue;const oe=u[a1[B]].branch,me=s1(ae);let pe=0;const be=[B];B-1>=0&&be.push(B-1),B+1<=3&&be.push(B+1),B-2>=0&&be.push(B-2),B+2<=3&&be.push(B+2);const ne=Array.from(new Set(be));for(const Oe of ne){if(!g[Oe]||g[Oe].length<2)continue;const Ce=Mc(g[Oe]),ve=Nc(Ce);if(!ve||ve!==X)continue;const Ze=o1(Ce)===me,Ne=Math.abs(Oe-B),_e=Yse(Ne,Ze);pe+=oe*_e}pe!==0&&(h[X]+=pe,k[B].push({el:X,pol:me,val:pe}))}for(let B=0;B<4;B++){const W=g[B];if(!W||W.length<2)continue;const ae=Mc(W),X=Nc(ae);if(!X)continue;let oe=0;const me=Pc(g[B]),pe=Cc(me);pe&&(oe+=j0[N0(X,pe)]);const be=B===0?[1]:B===3?[2]:[B-1,B+1];for(const Oe of be){const Ce=Mc(g[Oe]),ve=Nc(Ce);ve&&(oe+=j0[N0(X,ve)])}const ne=_[B].val;if(ne!==0&&oe!==0){const Oe=Math.round(ne*(1+oe)*10)/10,Ce=Oe-ne;h[X]+=Ce,_[B].val=Oe}}for(let B=0;B<4;B++){const W=g[B];if(!W||W.length<2)continue;const ae=Pc(W),X=Cc(ae);if(!X)continue;let oe=0;const me=Mc(g[B]),pe=Nc(me);pe&&(oe+=j0[N0(X,pe)]);const be=B===0?[1]:B===3?[2]:[B-1,B+1];for(const Oe of be){if(!g[Oe]||g[Oe].length<2)continue;const Ce=Pc(g[Oe]),ve=Cc(Ce);ve&&(oe+=j0[N0(X,ve)])}const ne=k[B].reduce((Oe,Ce)=>Oe+Ce.val,0);if(ne!==0&&oe!==0){const Ce=Math.round(ne*(1+oe)*10)/10-ne;h[X]+=Ce,k[B].length>0&&(k[B][0].val+=Ce)}}a&&lre(g,h);const T={dae:{stem:.04,branch:.04},se:{stem:.03,branch:.03},wol:{stem:.02,branch:.02},il:{stem:.01,branch:.01}},N=[];if(!(!l||l.tab==="")){let B=function(W,ae){const X=W?Re(W):"";if(!X||X.length<2)return;const oe=Mc(X),me=Pc(X),pe=Nc(oe),be=Cc(me),ne=Math.max(1,(h.??0)+(h.??0)+(h.??0)+(h.??0)+(h.??0)),Oe=T[ae];if(pe){const Ce=Math.round(ne*Oe.stem);h[pe]+=Ce,N.push({stem:oe,el:pe,pol:o1(oe),val:Ce})}if(be){const Ce=Math.round(ne*Oe.branch);h[be]+=Ce,N.push({el:be,pol:s1(me),val:Ce})}};B(l.dae,"dae"),(l.tab===""||l.tab===""||l.tab==="")&&B(l.se,"se"),(l.tab===""||l.tab==="")&&B(l.wol,"wol"),l.tab===""&&B(l.il,"il")}const O={:0,:0,:0,:0,:0};Object.entries(h).forEach(([B,W])=>{const ae=q(B,S);O[ae]+=W});const P=["","","","",""],C=FP(P.map(B=>O[B])),D=f7(x),$=P.map((B,W)=>({name:B,value:C[W],color:D[B]})),H={:0,:0,:0,:0,:0,:0,:0,:0,:0,:0};function q(B,W){return B===W?"":ys[W]===B?"":So[W]===B?"":So[B]===W?"":iu[W]===B?"":""}function K(B,W){switch(q(B,S)){case"":H.+=W*.5,H.+=W*.5;break;case"":H.+=W*.5,H.+=W*.5;break;case"":H.+=W*.5,H.+=W*.5;break;case"":H.+=W*.5,H.+=W*.5;break;case"":H.+=W*.5,H.+=W*.5;break}}Object.entries(h).forEach(([B,W])=>{W>0&&K(B,W)});const U={:{a:"",b:"",aVal:0,bVal:0},:{a:"",b:"",aVal:0,bVal:0},:{a:"",b:"",aVal:0,bVal:0},:{a:"",b:"",aVal:0,bVal:0},:{a:"",b:"",aVal:0,bVal:0}};for(const B of P){const W=$.find(be=>be.name===B)?.value??0,ae=U[B].a,X=U[B].b,oe=H[ae]??0,me=H[X]??0,pe=oe+me;if(pe>0){const be=Math.floor(W*oe/pe+.5),ne=W-be;U[B].aVal=be,U[B].bVal=ne}else U[B].aVal=Math.floor(W/2+.5),U[B].bVal=W-U[B].aVal}const{flags:z}=Rse(g,h),V={};_.forEach(B=>{if(B.stem&&B.el&&B.val){const W=`${B.stem}${B.el}`;V[W]=(V[W]??0)+B.val}});for(let B=0;B<4;B++){const W=g[B];if(!W||W.length<2)continue;const ae=Pc(W),X=GP[ae],oe=Cc(ae);if(!X||!oe)continue;const me=`${X}${oe}`,pe=k[B].reduce((be,ne)=>be+ne.val,0);V[me]=(V[me]??0)+pe}const J=["","","","","","","","","",""],Q={};J.forEach(B=>{Q[B]=0}),P.forEach(B=>{const W=$.find(ne=>ne.name===B)?.value??0,ae=HP(B,S),X=Object.entries(V).filter(([ne])=>ne.endsWith(ae)),oe=X.map(([ne])=>ne),me=X.map(([,ne])=>ne),pe=Math.max(0,Math.round(W*10)),be=Kse(me.length?me:[1,1],pe);if(oe.length===2)Q[oe[0]]=(be[0]??Math.round(pe/2))/10,Q[oe[1]]=(be[1]??pe-(be[0]??0))/10;else if(oe.length===1)Q[oe[0]]=pe/10;else{const ne=ae===""?["",""]:ae===""?["",""]:ae===""?["",""]:ae===""?["",""]:["",""],Oe=Math.floor(pe/2),Ce=pe-Oe;Q[ne[0]]+=Oe/10,Q[ne[1]]+=Ce/10}});const Y=["","","","",""],Z={:0,:0,:0,:0,:0};for(const B of $){const W=HP(B.name,S);Z[W]+=B.value}const re=FP(Y.map(B=>Z[B])),ue={:re[0],:re[1],:re[2],:re[3],:re[4]};return i&&console.log({elementScore:h,totals:$,perTenGod:U,perStemRaw:V,perStemElementScaled:Q,elementPercent100:ue}),{overlay:{totalsSub:H,perStemAugBare:V,perStemAugFull:Q},totals:$,perTenGod:U,PerTenGodSub:H,stemScoreRaw:p,elementScoreRaw:h,deukFlags:z,perStemElement:V,perStemElementScaled:Q,elementPercent100:ue}}const C0={:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},ele=["","","","",""];function YP(e){return ele.includes(e)}const tle={:"",:"",:"",:"",:""},nle={:"",:"",:"",:"",:""},rle={:"",:"",:"",:"",:""},ile={:"",:"",:"",:"",:""},Fk={:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},ale=["","","","","","","","","",""],ole={natal:50,dae:30,se:20,wol:7,il:3};function ab(e){if(!e)return null;const t=e.trim();if(["","","","","","","","","",""].includes(t))return t;if(In[t])return In[t];if(["","","","","","","","","","","",""].includes(t))return C0[t]??null;if(Kn[t])return C0[Kn[t]]??null;const n=t.charAt(0);return In[n]?In[n]:["","","","","","","","","",""].includes(n)?n:Kn[n]?C0[Kn[n]]??null:["","","","","","","","","","","",""].includes(n)?C0[n]??null:null}function sle(e,t){const n=Fk[e],r=Fk[t];if(!n||!r)return"";let i;r===n?i="":r===tle[n]?i="":r===nle[n]?i="":r===rle[n]?i="":r===ile[n]?i="":i="";const a=YP(e)===YP(t);switch(i){case"":return a?"":"";case"":return a?"":"";case"":return a?"":"";case"":return a?"":"";case"":return a?"":""}}function ob(e){const t=Object.entries(e),n=t.reduce((f,[,h])=>f+(h>0?h:0),0);if(n<=0)return Object.fromEntries(t.map(([f])=>[f,0]));const r=t.map(([f,h])=>[f,(h>0?h:0)*100/n]),i=r.map(([f,h])=>[f,Math.round(h)]);let a=i.reduce((f,[,h])=>f+h,0);const o=r.map(([f,h])=>[f,h-Math.round(h)]).sort((f,h)=>h[1]-f[1]),l=Object.fromEntries(i.map(([f,h])=>[f,h]));let u=0;for(;a<100&&u<o.length;)l[o[u][0]]+=1,a+=1,u+=1;return l}function KP(e,t){const n={:0,:0,:0,:0,:0,:0,:0,:0,:0,:0};for(const[r,i]of Object.entries(e??{})){if(i<=0)continue;const a=ab(r);if(!a)continue;const o=sle(t,a);n[o]+=i}return ob(n)}function lle(e){return{:{a:"",b:"",aVal:e.,bVal:e.},:{a:"",b:"",aVal:e.,bVal:e.},:{a:"",b:"",aVal:e.,bVal:e.},:{a:"",b:"",aVal:e.,bVal:e.},:{a:"",b:"",aVal:e.,bVal:e.}}}function WP(e){const t={};for(const[n,r]of Object.entries(e??{})){if(r<=0)continue;const i=ab(n);i&&(t[i]=(t[i]??0)+r)}return t}function VP(e){const n={...{:0,:0,:0,:0,:0,:0,:0,:0,:0,:0}};for(const r of ale){const i=Fk[r],a=`${r}${i}`;n[a]=Math.max(0,Math.round(e[r]??0))}return n}function ZP(e){const t=["","","","",""],n={:0,:0,:0,:0,:0};for(const r of t)typeof e[r]=="number"&&(n[r]=e[r]);return n}function cle(e,t){const n=t?.dae?M0(t.dae):{},r=t?.se?M0(t.se):{},i=t?.wol?M0(t.wol):{},a=t?.il?M0(t.il):{},o={},l=[{kind:"natal",bare:e},{kind:"dae",bare:n},{kind:"se",bare:r},{kind:"wol",bare:i},{kind:"il",bare:a}];for(const{kind:f,bare:h}of l){const p=ole[f];if(!h||Object.keys(h).length===0)continue;const g=ob(h);for(const[x,S]of Object.entries(g))o[x]=(o[x]??0)+S*p}const u=Object.values(o).reduce((f,h)=>f+h,0);if(u>0)for(const f of Object.keys(o))o[f]=o[f]/u*100;return o}function ule(e){if(!e)return[];const t=ab(e.charAt(0)),n=ab(e.charAt(1));return[t,n].filter(Boolean)}function M0(e){const t=ule(e),n={};for(const r of t)n[r]=(n[r]??0)+1;return n}function Nv(e){const{natal:t,tab:n,chain:r,hourKey:i="unified"}=e,a=[Re(t[0]??""),Re(t[1]??""),Re(t[2]??""),Re(t[3]??"")],o=a[2]?.charAt(0)??"",{hiddenStemMode:l,hiddenStem:u}=Kc,f=l==="classic"?"classic":"hgc",h=r?{tab:n,dae:r.dae?Re(r.dae):void 0,se:(n===""||n===""||n==="")&&r.se?Re(r.se):void 0,wol:(n===""||n==="")&&r.wol?Re(r.wol):void 0,il:n===""&&r.il?Re(r.il):void 0}:{tab:n},p=Uk({pillars:a,dayStem:o,mode:f,criteriaMode:"modern",useHarmonyOverlay:!0,luck:h}),g=Uk({pillars:a,dayStem:o,mode:f,criteriaMode:"modern",useHarmonyOverlay:!0,luck:{tab:"",dae:void 0,se:void 0,wol:void 0,il:void 0}}),x=WP(p.perStemElementScaled),S=n===""?x:cle(x,r),_=ob(S),k=KP(S,o),T=lle(k),N=VP(_),O=WP(g.perStemElementScaled),P=KP(O,o),C=ob(O),D=VP(C);return{elementScoreRaw:p.elementScoreRaw,elementPercent100:p.elementPercent100,totals:p.totals,perStemElementScaled:p.perStemElementScaled,dayStem:o,mergedStems:_,perTenGodSub:k,perTenGod:T,overlay:{totalsSub:k,perStemAugBare:S,perStemAugFull:N},natalFixed:{elementScoreRaw:ZP(g.elementScoreRaw),elementPercent100:ZP(g.elementPercent100),totalsSub:P,overlay:{totalsSub:P,perStemAugBare:O,perStemAugFull:D}}}}const go=["","","","",""],Cl={:0,:0,:0,:0,:0},dle=[{name:"",min:0,max:10},{name:"",min:10,max:20},{name:"",min:20,max:35},{name:"",min:35,max:45},{name:"",min:45,max:55},{name:"",min:55,max:65},{name:"",min:65,max:80},{name:"",min:80,max:100.0001}],fle={:{temp:"cold",wet:"wet"},:{temp:"cold",wet:"wet"},:{temp:"cold",wet:"wet"},:{temp:"mild",wet:"normal"},:{temp:"mild",wet:"normal"},:{temp:"mild",wet:"wet"},:{temp:"hot",wet:"normal"},:{temp:"hot",wet:"dry"},:{temp:"hot",wet:"wet"},:{temp:"mild",wet:"dry"},:{temp:"mild",wet:"dry"},:{temp:"mild",wet:"dry"}},l1=24,hle=[[60,0],[55,.01],[50,.03],[45,.06],[40,.1],[35,.18],[30,.32],[27,.48],[24,.62]],sb=20;Object.fromEntries(Object.entries(In).map(([e,t])=>[t,e]));Object.fromEntries(Object.entries(Kn).map(([e,t])=>[t,e]));const _7={:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},mle={:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""};function w7(e){return Math.max(0,Math.min(100,e))}function Yd(e,t,n){return Math.max(t,Math.min(n,e))}function ple(e){const t=w7(e);return dle.find(n=>t>=n.min&&t<n.max)?.name??""}function gle(e){const t=e?.[2]?.charAt(0)??"";return _7[t]??null}function yle(e){return(e?.[1]?.charAt(1)??"")||null}function S7(e){return jv[e]}function ble(e){return e?{peer:e,resource:iu[e],leak:ys[e],wealth:So[e],officer:S7(e)}:null}function vle(e){const t={...Cl};for(const n of e){if(!n)continue;const r=n.charAt(0),i=n.charAt(1),a=_7[r],o=mle[i];a&&(t[a]+=10),o&&(t[o]+=6)}return t}function xle(e){const t=Object.values(e).reduce((r,i)=>r+i,0);if(t<=0)return{:20,:20,:20,:20,:20};const n={...Cl};return go.forEach(r=>{n[r]=e[r]/t*100}),n}function _le(e){if(!e||e.length===0)return null;const t=e.reduce((r,i)=>r+(i?.value??0),0)||0;if(t<=0)return null;const n=r=>e.find(i=>i.name===r)?.value??0;return w7((n("")+n(""))/t*100)}function wle(e,t){return!e||!t?null:t===e?"":ys[e]===t?"":So[e]===t?"":S7(e)===t?"":iu[e]===t?"":null}function Sle(e){for(const[t,n]of hle)if(e>=t)return n;return 1}const XP=(e,t)=>Yd((sb-(t[e]??0))/sb,0,1),JP=(e,t)=>Yd(((t[e]??0)-sb)/sb,0,1);function kle(e,t,n,r){const i=wle(e,n);if(!e||!i)return 0;const a=Yd((50-t)/50,0,1),o=Yd((t-50)/50,0,1),l=XP(n,r),u=JP(n,r),f=XP(e,r),h=JP(e,r),p=6.5;let g=0;if(a>0)switch(i){case"":g=+(.3+.4*f+.15*l)*a;break;case"":g=+(.18+.45*f)*a;break;case"":g=-(.08+.2*(1-l)+.1*h)*a;break;case"":g=-(.22+.25*(1-l)+.1*(1-f))*a;break;case"":g=-(.35+.25*(1-l)+.1*(1-f))*a;break}else if(o>0)switch(i){case"":g=-(.25+.25*(1-l)+.2*h)*o;break;case"":g=-(.28+.2*h)*o;break;case"":g=+(.18+.2*l+.15*h)*o;break;case"":g=+(.22+.25*l+.1*h)*o;break;case"":g=+(.2+.2*l)*o;break}else switch(i){case"":g=.08*(f+l);break;case"":g=.05*f-.03*h;break;case"":g=.02*l-.02*u;break;case"":g=.01*l-.06*u;break;case"":g=-.05*(1-l);break}return Math.round(p*g*10)/10}function Ele(e,t,n){const r=["","",""].includes(t),i=["","","",""].includes(t),a={...Cl};if(r){const o=ys[e],l=So[e],u=jv[e];a[o]+=28,a[l]+=22,a[u]+=20,n.get(o)?.push(":    ()"),n.get(l)?.push(":     "),n.get(u)?.push(":     ")}if(i){const o=iu[e],l=e;a[o]+=28,a[l]+=22,n.get(o)?.push(":     "),n.get(l)?.push(":     ")}return a}function QP(e,t){if(!e)return{...Cl};const n=fle[e]??{temp:"mild",wet:"normal"},r={...Cl};return n.temp==="cold"?(r.+=16,r.+=6,t.get("")?.push(":   "),t.get("")?.push(":  ")):n.temp==="hot"&&(r.+=14,r.+=6,t.get("")?.push(":   "),t.get("")?.push(":  ")),n.wet==="wet"?(r.+=8,r.+=4,t.get("")?.push(":   "),t.get("")?.push(":  ")):n.wet==="dry"&&(r.+=8,r.+=4,t.get("")?.push(":   "),t.get("")?.push(":  ")),r}function eD(e,t){const n={...Cl};for(const r of go){const i=So[r],a=Math.max(0,(e[r]??0)-(e[i]??0));if(a<=0)continue;const o=ys[r],l=Math.round(a*.35);l>0&&(n[o]+=l,t.get(o)?.push(`: ${r}${i} `))}return n}function tD(e,t){const n={...Cl},r=Object.entries(e),i=Math.min(...r.map(([,o])=>o)),a=r.filter(([,o])=>o<=Math.max(6,i));for(const[o]of a)n[o]+=12,t.get(o)?.push(":  ");return n}const P0=()=>new Map(go.map(e=>[e,[]]));function Kd(e,t){const n=gle(e),r=yle(e),i=vle(e),a=xle(i);let o=_le(t);if(o==null)if(!n)o=50;else{const U=n,z=iu[n],V=Object.values(i).reduce((J,Q)=>J+Q,0)||1;o=Math.min(100,Math.max(0,((i[U]??0)+(i[z]??0))/V*100))}const l=ple(o),u={...Cl},f=P0();if(n){const U=Ele(n,l,f);go.forEach(z=>{u[z]+=U[z]??0})}const h=QP(r,f);go.forEach(U=>{u[U]+=h[U]??0});const p=eD(i,f);go.forEach(U=>{u[U]+=p[U]??0});const g=tD(i,f);go.forEach(U=>{u[U]+=g[U]??0});const x=ble(n),S={:0,:0,:0,:0,:0};if(Array.isArray(t))for(const U of t)S[U.name]=U.value;if(o>=45&&o<=55&&x){const U=S.>=30||S.>=Math.max(S.,S.,S.,S.)+5;o<=50?(u[x.resource]+=14,f.get(x.resource)?.push(": -"),u[x.peer]+=10,f.get(x.peer)?.push(": -"),u[x.leak]+=6,f.get(x.leak)?.push(": -"),u[x.wealth]+=3,f.get(x.wealth)?.push(": -"),U&&(u[x.officer]=Math.round(u[x.officer]*.8*10)/10,f.get(x.officer)?.push(":   "))):(u[x.leak]+=14,f.get(x.leak)?.push(": -"),u[x.wealth]+=10,f.get(x.wealth)?.push(": -"),u[x.officer]+=6,f.get(x.officer)?.push(": -"),u[x.resource]+=3,f.get(x.resource)?.push(": -"))}go.forEach(U=>{const z=kle(n,o,U,a);u[U]=Yd(Math.round((u[U]+z)*10)/10,0,999)});const k=o<50;go.forEach(U=>{const z=a[U]??0,V=k&&n===U;if(z>=l1&&!V){const J=Sle(z);u[U]=Math.round(u[U]*J*10)/10;const Q=Math.min(14,Math.max(0,Math.ceil((z-l1)*.5)));Q>0&&(u[U]=Yd(u[U]-Q,0,999)),f.get(U)?.push(" ()")}});const T={:[],:[],:[],:[],:[]};if(n){const U=ys[n],z=So[n],V=jv[n],J=n,Q=iu[n];T[U].push(""),T[z].push(""),T[V].push(""),T[J].push(""),T[Q].push("")}const N={:(i.??0)>0,:(i.??0)>0,:(i.??0)>0,:(i.??0)>0,:(i.??0)>0},O=U=>{const z=a[U]??0;return z>=l1&&!(k&&n===U)?z>=55?4:z>=45?3:2:N[U]?0:1},P=QP(r,P0()),C=eD(i,P0()),D=tD(i,P0()),$=go.map(U=>({element:U,score:Math.round(u[U]*10)/10,via:Ale(U,P,C,D),reasons:(f.get(U)??[]).slice(),tenGodHints:T[U]})).sort((U,z)=>{const V=O(U.element),J=O(z.element);return V!==J?V-J:z.score!==U.score?z.score-U.score:U.element.localeCompare(z.element)}),H=Tle(l,P,C,D),q={:0,:0,:0,:0,:0},K=t?t.reduce((U,z)=>(U[z.name]=z.value,U),{...q}):void 0;return{chosenType:H,ordered:$,debug:{band:l,overallPct:o,elementScore:i,tenGodTotals:K,monthBranch:r??void 0}}}function Ale(e,t,n,r){const i=[];return(t[e]??0)>0&&i.push(""),(n[e]??0)>0&&i.push(""),(r[e]??0)>0&&i.push(""),i.length===0&&i.push(""),i}function Tle(e,t,n,r){if(["","","",""].includes(e))return"";const a=f=>Object.values(f).reduce((h,p)=>h+p,0),o=a(t),l=a(n),u=a(r);return o>Math.max(l,u)?"":l>=u?"":""}function Ole(e){const t=e.reduce((l,u)=>l+u,0);if(t<=0)return e.map(()=>0);const n=e.map(l=>l*100/t),r=n.map(l=>Math.round(l));let a=100-r.reduce((l,u)=>l+u,0);const o=n.map((l,u)=>({i:u,f:l-Math.round(l)})).sort((l,u)=>u.f-l.f);for(let l=0;l<o.length&&a>0;l++)r[o[l].i]+=1,a-=1;return r}const nD=["","","","",""];function jle(e,t){const n=[Re(e[0]??""),Re(e[1]??""),Re(e[2]??""),Re(e[3]??"")],{elementScoreRaw:r}=Uk({pillars:n,criteriaMode:t?.criteriaMode??"modern",useHarmonyOverlay:t?.useHarmonyOverlay??!0,luck:void 0}),i=nD.map(l=>r[l]??0),a=Ole(i),o={:0,:0,:0,:0,:0};return nD.forEach((l,u)=>{o[l]=a[u]}),o}function k7(e,t){const n=jle(e,t),r=Re(e[2]??"").charAt(0),a={:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}[r];if(!a)return 0;const o={:"",:"",:"",:"",:""},l=n[a]??0,u=n[o[a]]??0;return l+u*.7}const Wd={:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},E7={:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},D0={:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},Nle=["","","","",""];function rD(e){return Nle.includes(e)}const Cle={:"",:"",:"",:"",:""},Mle={:"",:"",:"",:"",:""},Ple={:"",:"",:"",:"",:""},Dle={:"",:"",:"",:"",:""};function Nm(e){if(!e)return null;const t=e.trim();if(["","","","","","","","","",""].includes(t))return t;if(In[t])return In[t];if(["","","","","","","","","","","",""].includes(t))return D0[t]??null;if(Kn[t])return D0[Kn[t]]??null;const n=t.charAt(0);return In[n]?In[n]:["","","","","","","","","",""].includes(n)?n:Kn[n]?D0[Kn[n]]??null:["","","","","","","","","","","",""].includes(n)?D0[n]??null:null}function Rle(e,t){const n=Wd[e],r=Wd[t];if(!n||!r)return"";let i;r===n?i="":r===Cle[n]?i="":r===Mle[n]?i="":r===Ple[n]?i="":r===Dle[n]?i="":i="";const a=rD(e)===rD(t);switch(i){case"":return a?"":"";case"":return a?"":"";case"":return a?"":"";case"":return a?"":"";case"":return a?"":""}}function Lle(e){switch(e){case"":case"":return"";case"":case"":return"";case"":case"":return"";case"":case"":return"";case"":case"":return""}}function Cv(e){const t=Object.entries(e),n=t.reduce((f,[,h])=>f+(h>0?h:0),0);if(n<=0)return Object.fromEntries(t.map(([f])=>[f,0]));const r=t.map(([f,h])=>[f,(h>0?h:0)*100/n]),i=r.map(([f,h])=>[f,Math.floor(h)]);let a=i.reduce((f,[,h])=>f+h,0);const o=r.map(([f,h])=>[f,h-Math.floor(h)]).sort((f,h)=>h[1]-f[1]),l=Object.fromEntries(i.map(([f,h])=>[f,h]));let u=0;for(;a<100&&u<o.length;)l[o[u][0]]+=1,a+=1,u+=1;return l}function Ile(e){const t={:0,:0,:0,:0,:0};for(const[n,r]of Object.entries(e??{})){const i=Wd[Nm(n)];i&&r>0&&(t[i]+=r)}return Cv(t)}function $le(e,t){const n={:0,:0,:0,:0,:0,:0,:0,:0,:0,:0};for(const[r,i]of Object.entries(e??{})){if(i<=0)continue;const a=Nm(r);if(!a)continue;const o=Rle(t,a);n[o]+=i}return n}function Ble(e){const t={:0,:0,:0,:0,:0};for(const[n,r]of Object.entries(e)){const i=Lle(n);t[i]+=r}return Cv(t)}function iD(e){const t=Array.isArray(e)?e.slice(0,4):[];for(;t.length<4;)t.push("");return t.map((n,r)=>{const i=Re(n??"");return i||(r<=2?"--":"")})}function A7(e,t){const n=!!t?.includeBranches,r={:!1,:!1,:!1,:!1,:!1};for(const i of e){if(!i)continue;const a=Wd[i.charAt(0)];if(a&&(r[a]=!0),n){const o=E7[i.charAt(1)];o&&(r[o]=!0)}}return r}function T7(e){const t={:0,:0,:0,:0,:0};for(const n of e){if(!n)continue;const r=Wd[n.charAt(0)],i=E7[n.charAt(1)];r&&(t[r]+=10),i&&(t[i]+=6)}return t}function c1(e){return e[0]?.length===2&&e[1]?.length===2&&e[2]?.length===2}const zle=["","","","","","","","","",""];function Ule(e){const t={};for(const[n,r]of Object.entries(e??{})){if(r<=0)continue;const i=Nm(n);i&&(t[i]=(t[i]??0)+r)}return t}function Fle(e){const n={...{:0,:0,:0,:0,:0,:0,:0,:0,:0,:0}};for(const r of zle){const i=Wd[r],a=`${r}${i}`;n[a]=Math.max(0,Math.round(e[r]??0))}return n}const Hle={natal:50,dae:30,se:20,wol:7,il:3};function Gle(e){const t={};for(const{kind:r,bare:i}of e){const a=Hle[r]??0;if(a<=0)continue;const o=Cv(i);for(const[l,u]of Object.entries(o))t[l]=(t[l]??0)+u*a}const n=Object.values(t).reduce((r,i)=>r+i,0);if(n>0)for(const r of Object.keys(t))t[r]=t[r]/n*100;return t}function qle(e){if(!e)return[];const t=Nm(e.charAt(0)),n=Nm(e.charAt(1));return[t,n].filter(Boolean)}function R0(e){const t=qle(e),n={};for(const r of t)n[r]=(n[r]??0)+1;return n}const Hk=["","","","",""];function Yle(e){const t=(e??"").trim(),n=t?t[t.length-1]:"";return["","",""].includes(n)?"WINTER":["","",""].includes(n)?"SUMMER":["","",""].includes(n)?"SPRING":["","",""].includes(n)?"AUTUMN":"UNKNOWN"}function Kle(e,t){const n=Hk.filter(u=>t[u]),r=n.map(u=>e[u]??0),i=r.length?Math.max(...r):0,a=r.length?Math.min(...r):0,o=Math.round(i-a),l=n.length>=3&&o<=12;return{presentEls:n,spread:o,balancedPresent:l}}function pA(e){return/||wood/i.test(e)?"":/||fire/i.test(e)?"":/||earth/i.test(e)?"":/||metal/i.test(e)?"":/||water/i.test(e)?"":null}function Wle(e){switch(e){case"":return"";case"":return"";case"":return"";case"":return"";case"":return""}}function aD(e){switch(e){case"":return"";case"":return"";case"":return"";case"":return"";case"":return""}}function Vle(e){const n=[["",""],["",""],["",""],["",""],["",""]],r=[];for(const[i,a]of n){const o=e[i]??0,l=e[a]??0;if(o<20||l<20)continue;let u=null,f=null;if(aD(i)===a)u=i,f=a;else if(aD(a)===i)u=a,f=i;else continue;const h=Wle(u),p=`${u}()${f}    ${h}( )`;r.push({a:i,b:a,controller:u,controlled:f,mediator:h,reason:p})}return r}function gA(e,t){const n=Math.max(.1,1-t/120);return Math.max(0,Math.round(e*n))}function Uh(e,t,n){return n?e.map(r=>!r.elNorm||t[r.elNorm]?r:{...r,score:0,reasons:[...r.reasons,":    0"]}):e}function Fh(e,t,n){const r=i=>i?t[i]:!1;return[...e].sort((i,a)=>{if(n){const o=r(i.elNorm)?1:0,l=r(a.elNorm)?1:0;if(o!==l)return l-o}return a.score!==i.score?a.score-i.score:(i.elNorm??i.element).localeCompare(a.elNorm??a.element,"ko")})}function Zle(e,t){const n=(e??"").trim(),r=n?n[n.length-1]:"",i=new Set(["","",""]),a=new Set(["","",""]),o=new Set(["","",""]),l=new Set(["","",""]);let u=[];return i.has(r)?u=[{el:"",base:110,why:"():     "},{el:"",base:60,why:" :      "}]:a.has(r)?u=[{el:"",base:110,why:"():     "},{el:"",base:70,why:" :   () "}]:o.has(r)?u=[{el:"",base:90,why:"():     /"},{el:"",base:55,why:" : ()    "}]:l.has(r)?u=[{el:"",base:85,why:"():     "},{el:"",base:75,why:"():     "}]:u=[{el:"",base:60,why:":       ()"},{el:"",base:60,why:":       ()"}],u.map(f=>({element:f.el,elNorm:f.el,score:gA(f.base,t[f.el]??0),reasons:[f.why,` ${f.el}  ${Math.round(t[f.el]??0)}%`]}))}function Xle(e){const t=Vle(e);if(!t.length)return{applicable:!1,items:[],note:"       "};const n=new Map;for(const i of t){const a=e[i.a]??0,o=e[i.b]??0,l=Math.min(a,o),u=95+Math.round(l/2),f=n.get(i.mediator),h=[i.reason,`(${i.a} ${Math.round(a)}%  ${i.b} ${Math.round(o)}%)`,` : ${i.controller}${i.mediator}${i.controlled}`];f?n.set(i.mediator,{score:Math.max(f.score,u),reasons:[...f.reasons,...h]}):n.set(i.mediator,{score:u,reasons:h})}return{applicable:!0,items:Array.from(n.entries()).map(([i,a])=>({element:i,elNorm:i,score:gA(a.score,e[i]??0),reasons:a.reasons})),note:"////       ( )  "}}function Jle(e,t){let n="",r=e.??0;for(const f of Hk){const h=e[f]??0;h<r&&(r=h,n=f)}const i=Hk.some(f=>!t[f]);if(!(i||r<=8))return{applicable:!1,items:[],note:"    ( )  "};const l=gA((i?85:70)+Math.round((8-Math.min(8,r))*6),e[n]??0);return{applicable:!0,items:[{element:n,elNorm:n,score:l,reasons:[i?"():  /  ":"():      ",`  ${n} = ${Math.round(r)}%`]}],note:" ()  ( 8% )      "}}function yA(e){const{eokbuList:t,monthGz:n,elemPct:r,presentMap:i,demoteAbsent:a,gyeokgukList:o}=e,l=Fh(Uh(t,i,a),i,a),u=Fh(Uh(Zle(n,r),i,a),i,a),f=Yle(n),h=Kle(r,i),p=f==="WINTER"||f==="SUMMER"?.85:.55,g=1.25,x=Xle(r),S=Fh(Uh(x.items,i,a),i,a),_=Jle(r,i),k=Fh(Uh(_.items,i,a),i,a),T=Array.isArray(o)?o:[],N=T.length>0,O=Fh(Uh(T,i,a),i,a),P=z=>Math.max(0,...z.map(V=>Number.isFinite(V.score)?V.score:0)),D=[{kind:"EOKBU",title:"",marker:"",priority:1,weight:g,applicable:l.length>0,note:"1.  /()  ",candidates:l},{kind:"JOHU",title:"",marker:"",priority:2,weight:p,applicable:!0,note:f==="WINTER"?"2. ()   ":f==="SUMMER"?"2. ()   ":"2.    ,   ",candidates:u},{kind:"TONGGWAN",title:"",marker:"",priority:3,weight:.7,applicable:x.applicable,note:x.note,candidates:S},{kind:"BYEONGYAK",title:"",marker:"",priority:3,weight:.7,applicable:_.applicable,note:_.note,candidates:k},{kind:"GYEOKGUK",title:"",marker:"",priority:4,weight:.55,applicable:N,note:N?"/     ( )":"  (//  )",candidates:O}].map(z=>{const V=P(z.candidates),J=z.candidates[0];let Q=0;if(z.applicable&&J){if(Q=J.score*z.weight,z.kind==="EOKBU"&&!h.balancedPresent){const Y=Math.min(35,Math.round(h.spread*.9));Q+=Y}z.kind==="EOKBU"&&h.balancedPresent&&(Q*=.75),J.elNorm&&!i[J.elNorm]&&(Q*=.25)}return{...z,maxScore:V,fitScore:Math.round(Q),finalScore:Math.round(Q)}}).sort((z,V)=>z.priority-V.priority),$=[...D].filter(z=>z.applicable&&z.candidates.length>0).sort((z,V)=>V.fitScore!==z.fitScore?V.fitScore-z.fitScore:z.priority-V.priority)[0],H=Math.max(0,...D.map(z=>z.fitScore)),q=$?.kind??null,K=D.map(z=>{if(!q)return z;if(z.kind===q){const V=z.fitScore<H?H+1:z.fitScore;return{...z,finalScore:V}}return{...z,finalScore:z.fitScore}}),U=q?K.find(z=>z.kind===q)??null:null;return{bestKind:q,best:U,groups:K}}const Qle={:"",:"",:"",:"",:""},ece={:"",:"",:"",:"",:""},tce={:"",:"",:"",:"",:""},nce={:"",:"",:"",:"",:""};function u1(e){switch(e){case"":case"":case"":case"":return"";case"":case"":case"":case"":return"";case"":case"":case"":case"":return"";case"":case"":case"":case"":return"";case"":case"":case"":case"":return"";default:return null}}function rce(e){const t=(e||"").trim();return!t||t==="-"?null:t.includes("")?"":t.includes("")?"":t.includes("")?"":t.includes("")?"":t.includes("")?"":t.includes("")||t.includes("")?"":t.includes("")?"":t.includes("")?"":t.includes("")||t.includes("")?"":t.includes("")?"":null}function ice(e){return e===""||e===""?"":e===""||e===""?"":e===""||e===""?"":e===""||e===""?"":""}function ace(e,t){switch(t){case"":return e;case"":return Qle[e];case"":return tce[e];case"":return nce[e];case"":return ece[e]}}function oce(e,t){const n=new Map,r=(u,f,h)=>{if(!u)return;const p=n.get(u);if(!p){n.set(u,{element:u,score:f,reasons:[h]});return}p.score=Math.max(p.score,f),p.reasons=p.reasons.includes(h)?p.reasons:[...p.reasons,h]},i=u1(t),a=rce(e.);if(i&&a){const u=ice(a),f=ace(i,u);r(f,92,` ${e.}  ${u} (${f})`)}const o=u1(e.);o&&r(o,86,` ${e.}  (${o})`);const l=u1(e.);return l&&r(l,70,` ${e.}  (${l})`),Array.from(n.values()).sort((u,f)=>f.score-u.score)}const Hh=e=>e&&e.length>=1?e.charAt(0):"",L0=e=>e&&e.length>=2?e.charAt(1):"";function sce(e){const t=String(e??"");if(!/^\d{8}$/.test(t))return new Date;const n=Number(t.slice(0,4)),r=Number(t.slice(4,6)),i=Number(t.slice(6,8)),a=new Date(n,r-1,i,12,0,0,0);return Number.isNaN(a.getTime())?new Date:a}function lce({data:e,pillars:t,lunarPillars:n,daewoonGzProp:r,blendTab:i,demoteAbsent:a}){const{date:o,yearGZ:l,monthGZ:u,dayGZ:f}=di(),h=w.useMemo(()=>Re(l),[l]),p=w.useMemo(()=>Re(u),[u]),g=w.useMemo(()=>Re(f),[f]),x=fu(e,e?.mingSikType),S=w.useMemo(()=>{if(!x?.length)return 0;const _e=x.findIndex((je,Ie)=>{const Ve=x[Ie+1]?.at;return o>=je.at&&(!Ve||o<Ve)});return _e!==-1?_e:o<x[0].at?0:x.length-1},[x,o]),_=w.useMemo(()=>{const _e=r??x?.[S]?.gz??"";return Re(_e)||null},[r,x,S]),{manualHour:k}=Qm(),T=e.mingSikType??"/",N=w.useMemo(()=>iD(t),[t]),O=w.useMemo(()=>iD(n),[n]),P=w.useMemo(()=>{const _e=[...N];return(!_e[3]||_e[3]===""||_e[3]==="--")&&k&&(_e[3]=k.stem+k.branch),_e},[N,k]),C=w.useMemo(()=>{const _e=[...O];return(!_e[3]||_e[3]===""||_e[3]==="--")&&k&&(_e[3]=k.stem+k.branch),_e},[O,k]),D=w.useMemo(()=>{const _e=Number(e.birthDay?.slice(0,4)),je=Number(e.birthDay?.slice(4,6)),Ie=Number(e.birthDay?.slice(6,8));if(!Number.isFinite(_e)||!Number.isFinite(je)||!Number.isFinite(Ie))return null;const Ve=new Date(_e,je-1,Ie,12,0,0,0),bt=Re(at(Ve)||""),xt=Re(Et(Ve)||""),Pt=Re(gt(Ve,T)||"");return[bt,xt,Pt,""]},[e.birthDay,T]),$=c1(P),H=c1(C),K=(e.calendarType==="lunar"?"lunar":"solar")==="lunar"?H?"lunar":$?"solar":"lunar":$?"solar":H?"lunar":"solar",U=w.useMemo(()=>{const je=[...K==="lunar"?H?C:$?P:D??["","","",""]:$?P:H?C:D??["","","",""]];return(!je[3]||je[3]===""||je[3]==="--")&&k&&(je[3]=k.stem+k.branch),je[3]==="--"&&(je[3]=""),je},[K,$,H,P,C,D,k]),z=w.useMemo(()=>Hh(U[2]??""),[U]),V=w.useMemo(()=>L0(U[1]??""),[U]),J=w.useMemo(()=>sce(e.birthDay),[e.birthDay]),Q=w.useMemo(()=>k?k.stem+k.branch:U[3]||"",[k,U]),Y=w.useMemo(()=>({dae:i!==""?_??null:null,se:i===""||i===""||i===""?h??null:null,wol:i===""||i===""?p??null:null,il:i===""?g??null:null}),[i,_,h,p,g]),Z=w.useMemo(()=>Nv({natal:U,tab:i,chain:Y,hourKey:Q}),[U,i,Y,Q]),re=w.useMemo(()=>{if(!Z)return null;const _e=Ule(Z.perStemElementScaled),je=Y.dae?R0(Y.dae):{},Ie=Y.se?R0(Y.se):{},Ve=Y.wol?R0(Y.wol):{},bt=Y.il?R0(Y.il):{},xt=Gle([{kind:"natal",bare:_e},{kind:"dae",bare:je},{kind:"se",bare:Ie},{kind:"wol",bare:Ve},{kind:"il",bare:bt}]),Pt=Cv(xt),fe=Fle(Pt),Pe=$le(xt,Z.dayStem),Be=Ble(Pe),lt=Ile(xt);return{perStemAugBare:xt,perStemAugFull:fe,elemPct100:lt,totalsMain:Be,totalsSub:Pe}},[Z,Y]),ue=w.useMemo(()=>A7(U,{includeBranches:!0}),[U]),se=w.useMemo(()=>["","","","",""].some(_e=>!ue[_e]),[ue]),B=re?.elemPct100??Z?.elementPercent100??T7(U),W=w.useMemo(()=>{if(!Z||!re)return[];const _e=f7(Z.dayStem);return Object.entries(re.totalsMain).map(([je,Ie])=>({name:je,value:Ie,color:_e[je]}))},[Z,re]),ae=re?.elemPct100??{:0,:0,:0,:0,:0},X=re?.totalsSub??null,oe=w.useMemo(()=>[i,_??"",h??"",p??"",g??"",o?.toISOString?.()??"",Q].join("|"),[i,_,h,p,g,o,Q]),me=w.useMemo(()=>{const _e=X?Object.entries(X).sort(([Ie],[Ve])=>Ie.localeCompare(Ve)).map(([Ie,Ve])=>`${Ie}:${Ve}`).join(","):"none",je=W.map(Ie=>`${Ie.name}:${Ie.value}`).join(",");return`${oe}||${U.join("")}||${je}||${_e}`},[oe,U,W,X]),pe=typeof Kd=="function"?Kd(U,Z?.totals):null,be=w.useMemo(()=>(pe?.ordered??[]).map(je=>{const Ie=je.element??"",Ve=/||wood/i.test(Ie)?"":/||fire/i.test(Ie)?"":/||earth/i.test(Ie)?"":/||metal/i.test(Ie)?"":/||water/i.test(Ie)?"":null,bt=typeof je.score=="number"?je.score:Ve?B[Ve]??0:0,xt=Array.isArray(je.reasons)?je.reasons:[];return{element:Ie,elNorm:Ve,score:bt,reasons:xt}}),[pe,B]),ne=w.useMemo(()=>be.map(_e=>({element:_e.element,elNorm:_e.elNorm,score:_e.score,reasons:_e.reasons})),[be]),Oe=w.useMemo(()=>{if(!z||!V)return[];const[_e,je,Ie,Ve]=U,bt=[Hh(_e),Hh(je),Hh(Ie),Hh(Ve)].filter(Boolean),xt=[L0(_e),L0(Ie),L0(Ve)].filter(Boolean),Pt=u7({dayStem:z,monthBranch:V,date:J,pillars:U,emittedStems:bt,otherBranches:xt}),fe=oce(Pt,z),Pe=Be=>/||wood/i.test(Be)?"":/||fire/i.test(Be)?"":/||earth/i.test(Be)?"":/||metal/i.test(Be)?"":/||water/i.test(Be)?"":null;return(fe??[]).map(Be=>({element:Be.element,elNorm:Pe(Be.element),score:Number.isFinite(Be.score)?Be.score:0,reasons:Array.isArray(Be.reasons)?Be.reasons:[]}))},[U,z,V,J]),Ce=w.useMemo(()=>{const _e=U[1]||"";return yA({eokbuList:ne,monthGz:_e,elemPct:B,presentMap:ue,demoteAbsent:a,gyeokgukList:Oe})},[U,ne,B,ue,a,Oe]),ve=w.useMemo(()=>{const _e=Ce.best;return _e?.candidates?.length?_e.candidates.map(je=>({element:je.element,elNorm:je.elNorm,score:je.score,reasons:je.reasons})):be},[Ce,be]),Ze=w.useMemo(()=>Math.max(0,...ve.map(_e=>Number.isFinite(_e.score)?_e.score:0)),[ve]),Ne=w.useMemo(()=>k7(U,{criteriaMode:"modern",useHarmonyOverlay:!0}),[U]);return{seGz:h,wolGz:p,ilGz:g,daewoonGz:_,activePillars:U,chain:Y,unified:Z,overlay:re,chartData:W,elementPct:ae,tenSubTotals100:X,hourKeyForUi:Q,revKey:me,yongshinMulti:Ce,yongshinRecommend:Ce,yongshinList:ve,maxScore:Ze,hasAbsent:se,dayElementPercent:Ne,isValidActive:c1(U)}}function cce(e){if(typeof e!="object"||e===null)return!1;const t=e,n=t.at,r=t.gz;return n instanceof Date&&!Number.isNaN(n.getTime())&&typeof r=="string"}function uce(e){const t=new Date(e,1,15,12,0,0,0);return Re(at(t)||"")}function dce(e,t){return(e?.ordered??[]).map(r=>{const i=r.element??"",a=pA(i),o=typeof r.score=="number"?r.score:a?t[a]??0:0;return{element:i,elNorm:a,score:o,reasons:Array.isArray(r.reasons)?r.reasons:[]}})}const fce={:"",:"",:"",:"",:"",:"",:"",:"",:"",:""};function lb(e){return fce[e]??null}function hce(e,t){const n={:!1,:!1,:!1,:!1,:!1},r=hA(t);for(const i of e){const a=i?.charAt(0)??"",o=i?.charAt(1)??"",l=lb(a);if(l&&(n[l]=!0),fA(o)){const u=r[o],f=[u.,u.,u.].filter(Boolean);for(const h of f){const p=lb(h.stem);p&&h.w>0&&(n[p]=!0)}}}return n}function mce(e,t){const n=hA(t),r={:0,:0,:0,:0,:0};for(const o of e){const l=o?.charAt(0)??"",u=o?.charAt(1)??"",f=lb(l);if(f&&(r[f]+=50),fA(u)){const h=n[u],p=[h.,h.,h.].filter(Boolean),g=p.reduce((S,_)=>S+(Number.isFinite(_.w)?_.w:0),0),x=g>0?g:1;for(const S of p){const _=lb(S.stem);_&&(r[_]+=50*S.w/x)}}}const i=r.+r.+r.+r.+r.,a=i>0?i:1;return{:r./a*100,:r./a*100,:r./a*100,:r./a*100,:r./a*100}}function pce(e,t,n){return e||mce(t,n)}function gce(e){const{data:t,pillars:n,hourKey:r,demoteAbsent:i,gyeokgukList:a,hiddenStemMode:o}=e,l=w.useMemo(()=>s7(o),[o]),u=fu(t,t?.mingSikType),f=w.useMemo(()=>Array.isArray(u)?u.filter(cce).slice(0,10):[],[u]),[h,p]=w.useState(0),[g,x]=w.useState(0),S=Math.max(0,Math.min(f.length-1,h)),_=f[S]??null,k=w.useMemo(()=>{if(!_)return[];const q=_.at.getFullYear();return Array.from({length:10},(K,U)=>{const z=q+U;return{year:z,gz:uce(z)}})},[_]),T=g==null?null:Math.max(0,Math.min(k.length-1,g)),N=T==null?null:k[T]??null,O=w.useMemo(()=>hce(n,l),[n,l]),P=w.useMemo(()=>["","","","",""].some(q=>!O[q]),[O]),C=w.useMemo(()=>{const q=_?Re(_.gz):null,K=N?Re(N.gz):null;return{dae:q||null,se:K||null,wol:null,il:null}},[_,N]),D=w.useMemo(()=>C.se?"":"",[C.se]),$=w.useMemo(()=>{const q=_?`${_.at.getFullYear()}~ ${Re(_.gz)}`:" -",K=N?` / ${N.year} ${Re(N.gz)}`:"";return`${q}${K}`},[_,N]),H=w.useMemo(()=>{if(!_)return null;const q=Nv({natal:n,tab:D,chain:C,hourKey:r}),K=pce(q?.elementPercent100,n,l),U=typeof Kd=="function"?Kd(n,q?.totals):null,z=dce(U,K);return yA({eokbuList:z,monthGz:n[1]||"",elemPct:K,presentMap:O,demoteAbsent:i,gyeokgukList:Array.isArray(a)?a:null})},[_,n,D,C,r,O,i,a,l]);return{daeIndex:S,setDaeIndex:p,seIndex:T,setSeIndex:x,dae10:f,se10:k,chain:C,tab:D,label:$,recommend:H,presentMap:O,hasAbsent:P}}const yce={EOKBU:"",JOHU:"",TONGGWAN:"",BYEONGYAK:"",GYEOKGUK:""};function Gk(e){return e?yce[e]??e:""}function bce(e){if(typeof e!="object"||e===null)return!1;const t=e;return t.at instanceof Date&&!Number.isNaN(t.at.getTime())&&typeof t.gz=="string"}function vce(e){const t=new Date(e,1,15,12,0,0,0);return Re(at(t)||"")}function d1(e){const t=e?.best??null,n=t?.candidates?.[0]??null,r=t?.kind??null,i=n?.element??null,a=n?.elNorm??(n?.element?pA(n.element):null),o=typeof t?.fitScore=="number"?t.fitScore:0,l=r&&i?`${Gk(r)}:${i}`:r?`${Gk(r)}:`:"";return{kind:r,top1:i,top1ElNorm:a,fit:o,label:l,result:e}}function xce(e,t){return(e?.ordered??[]).map(r=>{const i=r.element??"",a=pA(i),o=typeof r.score=="number"?r.score:a?t[a]??0:0;return{element:i,elNorm:a,score:o,reasons:Array.isArray(r.reasons)?r.reasons:[]}})}function oD(e){const{pillars:t,hourKey:n,chain:r,tab:i,demoteAbsent:a,presentMap:o,gyeokgukList:l}=e,u=Nv({natal:t,tab:i,chain:r,hourKey:n}),f=u?.elementPercent100??T7(t),h=typeof Kd=="function"?Kd(t,u?.totals):null,p=xce(h,f);return yA({eokbuList:p,monthGz:t[1]||"",elemPct:f,presentMap:o,demoteAbsent:a,gyeokgukList:Array.isArray(l)?l:null})}function _ce(e){const t=[];for(const n of e){const r=t[t.length-1];if(!r){t.push({fromYear:n.year,toYear:n.year,snap:n.snap});continue}r.snap.label===n.snap.label?r.toYear=n.year:t.push({fromYear:n.year,toYear:n.year,snap:n.snap})}return t}const yo=({text:e,tone:t="base",onClick:n,title:r})=>{const i=t==="pick"?"bg-violet-100 text-violet-800 border-violet-200 dark:bg-violet-900/30 dark:text-violet-200 dark:border-violet-800":t==="diff"?"bg-amber-100 text-amber-800 border-amber-200 dark:bg-amber-900/30 dark:text-amber-200 dark:border-amber-800 cursor-pointer":"bg-neutral-200 dark:bg-neutral-800 text-neutral-700 dark:text-neutral-300 border-neutral-200 dark:border-neutral-700",a=b.jsx("span",{className:`inline-flex items-center text-[11px] px-2 py-0.5 rounded-full border whitespace-nowrap ${i}`,title:r,children:e});return n?b.jsx("button",{type:"button",className:"inline-flex",onClick:n,title:r,children:a}):a};function sD({snap:e}){const t=e.result?.best??null,n=t?.candidates?.slice(0,3)??[];return t?b.jsxs("div",{className:"mt-2 rounded-lg border border-neutral-200 dark:border-neutral-800 bg-white dark:bg-neutral-900 p-3",children:[b.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[b.jsx(yo,{text:`: ${Gk(t.kind)}`,tone:"pick"}),b.jsx(yo,{text:` ${t.fitScore}`}),n[0]?.element?b.jsx(yo,{text:`1 ${n[0].element}`,tone:"diff"}):null]}),t.note?b.jsx("div",{className:"mt-2 text-xs text-neutral-600 dark:text-neutral-400 whitespace-normal break-words",children:t.note}):null,n.length?b.jsx("ul",{className:"mt-2 space-y-2",children:n.map((r,i)=>b.jsx("li",{className:"text-xs",children:b.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[b.jsx(yo,{text:`${i+1} ${r.element}`}),b.jsx(yo,{text:` ${r.score}`}),(r.reasons??[]).slice(0,4).map((a,o)=>b.jsx(yo,{text:a},o))]})},`${r.elNorm??r.element}-${i}`))}):b.jsx("div",{className:"mt-2 text-xs text-neutral-600 dark:text-neutral-400",children:" "})]}):b.jsx("div",{className:"text-xs text-neutral-600 dark:text-neutral-400",children:" "})}function wce(e){const{data:t,pillars:n,hourKey:r,demoteAbsent:i,natal:a}=e,o=w.useMemo(()=>A7(n,{includeBranches:!0}),[n]),l=fu(t,t?.mingSikType),u=w.useMemo(()=>Array.isArray(l)?l.filter(bce).slice(0,10):[],[l]),f=w.useMemo(()=>d1(a),[a]),[h,p]=w.useState(null),g=_=>p(k=>k===_?null:_),x=w.useMemo(()=>u.map((_,k)=>{const T=Re(_.gz)||"",O=oD({pillars:n,hourKey:r,chain:{dae:T||null,se:null,wol:null,il:null},tab:"",demoteAbsent:i,presentMap:o}),P=d1(O),C=_.at.getFullYear(),D=Array.from({length:10},(U,z)=>{const V=C+z,J=vce(V),Y=oD({pillars:n,hourKey:r,chain:{dae:T||null,se:J||null,wol:null,il:null},tab:"",demoteAbsent:i,presentMap:o}),Z=d1(Y);return{year:V,snap:Z}}),H=_ce(D).filter(U=>U.snap.top1ElNorm!==P.top1ElNorm),q=P.top1ElNorm!==f.top1ElNorm,K=q||H.length>0;return{idx:k,dae:_,daeLabel:`${C}~ ${T||""}`,daeSnap:P,daeDiffFromNatal:q,segDiffOnly:H,hasAnyChange:K}}).filter(_=>_.hasAnyChange),[u,n,r,i,o,f.top1ElNorm]),S=w.useMemo(()=>x.some(_=>_.hasAnyChange),[x]);return b.jsxs("div",{className:"rounded-xl bg-neutral-100 dark:bg-neutral-900 p-4 space-y-3",children:[b.jsxs("div",{className:"flex items-center justify-between gap-2",children:[b.jsx("div",{className:"text-sm font-bold",children:"  "}),b.jsxs("div",{className:"text-xs text-neutral-600 dark:text-neutral-400 whitespace-normal break-words",children:["(): ",f.label," /  ",f.fit]})]}),S?b.jsx("div",{className:"space-y-3",children:x.map(_=>{const k=`dae:${_.idx}`,T=h===k;return b.jsxs("div",{className:"rounded-lg border border-neutral-200 dark:border-neutral-800 bg-white dark:bg-neutral-900 p-3",children:[b.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[b.jsx(yo,{text:` ${_.daeLabel}`,tone:"base"}),b.jsx(yo,{text:` ${_.daeSnap.label} ( ${_.daeSnap.fit})`,tone:_.daeDiffFromNatal?"diff":"base",onClick:()=>g(k),title:" (top3) "}),_.daeDiffFromNatal?b.jsx(yo,{text:" ",tone:"diff"}):null]}),_.segDiffOnly.length?b.jsx("div",{className:"mt-2 flex flex-wrap gap-2",children:_.segDiffOnly.map((N,O)=>{const P=`seg:${_.idx}:${O}`,C=h===P,D=N.fromYear===N.toYear?`${N.fromYear}`:`${N.fromYear}~${N.toYear}`;return b.jsxs("div",{className:"inline-flex flex-col",children:[b.jsx("div",{className:"flex items-center gap-2",children:b.jsx(yo,{text:` ${D}  ${N.snap.label} ( ${N.snap.fit})`,tone:"diff",onClick:()=>g(P),title:" (top3) "})}),C?b.jsx(sD,{snap:N.snap}):null]},P)})}):null,T?b.jsx(sD,{snap:_.daeSnap}):null]},k)})}):b.jsx("div",{className:"w-full p-3 rounded-xl bg-neutral-100 dark:bg-neutral-900 text-sm text-neutral-600 dark:text-neutral-400 text-center",children:"  ."})]})}function Sce(e,t){if(t<=0)return"12%";const n=Math.round(e/t*100);return`${Math.max(2,Math.min(100,n))}%`}function kce(e){return e.slice(0,3)}const mm=({text:e,tone:t="base"})=>{const n=t==="best"?"bg-violet-100 text-violet-800 border-violet-200 dark:bg-violet-900/30 dark:text-violet-200 dark:border-violet-800":"bg-neutral-200 dark:bg-neutral-800 text-neutral-700 dark:text-neutral-300";return b.jsx("span",{className:`text-[11px] px-2 py-0.5 rounded-full border border-transparent ${n}`,children:e})};function Ece({g:e,isBest:t}){const n=kce(e.candidates);return b.jsxs("details",{open:t,className:"rounded-lg border border-neutral-200 dark:border-neutral-800 bg-white dark:bg-neutral-900",children:[b.jsx("summary",{className:"list-none cursor-pointer px-3 py-2 flex flex-col gap-2",children:b.jsxs("div",{className:"flex flex-wrap items-start gap-2",children:[b.jsxs("span",{className:"text-xs px-2 py-0.5 rounded-full bg-neutral-200 dark:bg-neutral-800 text-neutral-800 dark:text-neutral-200",children:[e.marker," ",e.title]}),b.jsx("span",{className:"max-w-[62%] text-xs text-neutral-600 dark:text-neutral-400 whitespace-normal break-words",children:e.note}),!e.applicable&&b.jsx(mm,{text:" "}),t&&b.jsx(mm,{text:" ",tone:"best"}),b.jsx(mm,{text:` ${e.fitScore}`})]})}),b.jsx("div",{className:"px-3 pb-3 pt-1",children:n.length===0?b.jsx("div",{className:"text-xs text-neutral-600 dark:text-neutral-400",children:" "}):b.jsx("ul",{className:"space-y-2",children:n.map((r,i)=>b.jsxs("li",{className:"flex items-start justify-between gap-3 rounded-lg border border-neutral-200 dark:border-neutral-800 p-2",children:[b.jsxs("div",{className:"flex items-center gap-2",children:[b.jsxs("span",{className:"text-xs px-2 py-0.5 rounded-full bg-neutral-200 dark:bg-neutral-800 text-neutral-800 dark:text-neutral-200",children:[i+1,""]}),b.jsx("span",{className:"text-sm font-semibold",children:r.element})]}),b.jsxs("div",{className:"flex-1",children:[b.jsx("div",{className:"mt-1 h-1.5 w-full rounded bg-neutral-300 dark:bg-neutral-800 overflow-hidden",children:b.jsx("div",{className:"h-1.5 rounded bg-white dark:bg-neutral-100",style:{width:Sce(r.score??0,e.maxScore)},title:` ${r.score}`})}),b.jsx("div",{className:"mt-2 flex flex-wrap gap-1.5",children:(r.reasons??[]).slice(0,6).map((a,o)=>b.jsx("span",{className:"text-[11px] px-2 py-0.5 rounded-full bg-neutral-200 dark:bg-neutral-800 text-neutral-700 dark:text-neutral-300",children:a},o))})]})]},`${e.kind}-${r.elNorm??r.element}-${i}`))})})]})}function Ace({best:e}){const t=e?.candidates?.[0]??null;return b.jsxs("div",{className:"rounded-lg border border-neutral-200 dark:border-neutral-800 p-3 bg-white/60 dark:bg-neutral-950/20",children:[b.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[b.jsx("span",{className:"text-xs px-2 py-0.5 rounded-full bg-neutral-200 dark:bg-neutral-800 text-neutral-800 dark:text-neutral-200",children:" "}),b.jsx("div",{className:"text-sm font-semibold",children:e?b.jsxs(b.Fragment,{children:[b.jsx("span",{className:"mr-1",children:e.marker}),e.title]}):""}),t?.element?b.jsx(mm,{text:`1: ${t.element}`}):null,e?.fitScore!=null?b.jsx(mm,{text:` ${e.fitScore}`}):null]}),e?.note?b.jsx("div",{className:"mt-2 text-xs text-neutral-600 dark:text-neutral-400 leading-relaxed whitespace-normal break-words",children:e.note}):null]})}function Tce({recommend:e,data:t,pillars:n,hourKey:r,demoteAbsent:i,hiddenStemMode:a}){const o=e,l=gce({data:t,pillars:n,hourKey:r,demoteAbsent:i,hiddenStemMode:a});return b.jsxs("div",{className:"w-full p-4 rounded-xl bg-neutral-100 dark:bg-neutral-900 space-y-4",children:[b.jsxs("div",{className:"space-y-3",children:[b.jsxs("div",{className:"flex items-center justify-between gap-2",children:[b.jsx("div",{className:"text-sm font-bold",children:"  ()"}),l.hasAbsent?b.jsxs("span",{className:"text-xs text-neutral-600 dark:text-neutral-400",children:["*   ",i?" ( ON)":""]}):null]}),b.jsx(Ace,{best:o.best}),b.jsx("div",{className:"space-y-2",children:o.groups.map(u=>b.jsx(Ece,{g:u,isBest:o.bestKind===u.kind},u.kind))})]}),b.jsx(wce,{data:t,pillars:n,hourKey:r,demoteAbsent:i,natal:e})]})}const lD=e=>e<10?`0${e}`:`${e}`;function Oce(e){const t=e,n=typeof t.birthDay=="string"?t.birthDay:"",r=typeof t.calendarType=="string"?t.calendarType:"solar";if(n.length<8)return e;const i=Number(n.slice(0,4)),a=Number(n.slice(4,6)),o=Number(n.slice(6,8));if(r==="lunar")try{const l=Hi(i,a,o),u=`${l.getFullYear()}${lD(l.getMonth()+1)}${lD(l.getDate())}`;return{...e,birthDay:u,calendarType:"solar"}}catch{return e}return e}function jce(e){if(typeof e!="number"&&typeof e!="string")return null;const t=String(e);if(!/^\d{8}$/.test(t))return null;const n=Number(t.slice(0,4)),r=Number(t.slice(4,6)),i=Number(t.slice(6,8)),a=new Date(n,r-1,i);return Number.isNaN(a.getTime())?null:a}const Nce=["  ","   ","","",""];function Cce(e){return e==="  "||e===""}function Mce({data:e,pillars:t,lunarPillars:n,daewoonGz:r}){const i=Tn(p=>p.settings),a=pse(),o=Oce(e),l=jce(o.birthDay)||void 0,u=on(p=>p.canUseAdvancedReportNow()),f=lce({data:o,pillars:t,lunarPillars:n,daewoonGzProp:r,blendTab:a.blendTab,demoteAbsent:a.demoteAbsent}),h=w.useMemo(()=>"    100   ! (  )",[]);return f.isValidActive?b.jsxs("div",{className:"space-y-4 mb-4",children:[b.jsx("div",{className:"flex gap-2 justify-center flex-wrap",children:mse.map(p=>b.jsx("button",{onClick:()=>a.setBlendTab(p),className:"px-2 py-1 text-xs rounded border cursor-pointer "+(a.blendTab===p?"bg-yellow-500 text-black border-yellow-600":"bg-neutral-400 dark:bg-neutral-900 text-neutral-100 dark:text-neutral-300 border-neutral-400 dark:border-neutral-700"),children:p},p))}),b.jsx("div",{className:"flex gap-2 mb-4 justify-center flex-wrap",children:Nce.map(p=>{const g=!u&&Cce(p),x=a.bigTab===p;return b.jsxs("button",{title:g?h:void 0,onClick:()=>a.setBigTab(p),className:"px-3 py-1 text-sm rounded border cursor-pointer "+(g?"opacity-60 ":"")+(x?"bg-violet-500 text-white border-violet-600":"bg-neutral-400 dark:bg-neutral-900 text-neutral-100 dark:text-neutral-300 border-neutral-400 dark:border-neutral-700"),children:[p,g?" ":""]},p)})}),a.bigTab===""&&b.jsx(Fae,{pillars:f.activePillars,daewoon:f.daewoonGz||void 0,sewoon:f.seGz||void 0,wolwoon:f.wolGz||void 0,ilwoon:f.ilGz||void 0,tab:a.blendTab},`harm-${a.blendTab}-${f.hourKeyForUi}`),a.bigTab==="   "&&b.jsxs("div",{className:"space-y-4",children:[b.jsx($ae,{data:f.chartData,revKey:f.revKey,perStemElementScaled:f.overlay?.perStemAugFull,elementPercent:f.elementPct,dayStem:f.activePillars[2]?.charAt(0)??null},`pentagon-${f.revKey}`),b.jsx(Uae,{value:f.dayElementPercent}),b.jsx(toe,{natal:f.activePillars})]}),a.bigTab===""&&!u&&b.jsxs("div",{className:"p-4 rounded-xl border border-neutral-300 dark:border-neutral-700 bg-neutral-50 dark:bg-neutral-900 text-sm text-neutral-600 dark:text-neutral-300 text-center",children:["   ",b.jsx("b",{children:""}),"   .   100  !"]}),a.bigTab===""&&u&&b.jsx(Tce,{recommend:f.yongshinMulti,data:o,pillars:f.activePillars,hourKey:f.hourKeyForUi,demoteAbsent:a.demoteAbsent,hiddenStemMode:i.hiddenStemMode},`yongshin-${a.blendTab}-${f.hourKeyForUi}`),a.bigTab===""&&b.jsx(qae,{pillars:f.activePillars,daewoon:f.daewoonGz||void 0,sewoon:f.seGz||void 0,wolwoon:f.wolGz||void 0,ilwoon:f.ilGz||void 0,tab:a.blendTab},`shin-${a.blendTab}-${f.hourKeyForUi}`),a.bigTab==="  "&&!u&&b.jsxs("div",{className:"p-4 rounded-xl border border-neutral-300 dark:border-neutral-700 bg-neutral-50 dark:bg-neutral-900 text-sm text-neutral-600 dark:text-neutral-300 text-center",children:["   ",b.jsx("b",{children:"  "}),"   .   100  !"]}),a.bigTab==="  "&&u&&b.jsx(tse,{unified:f.unified,pillars:f.activePillars,tab:a.blendTab,mapping:i.hiddenStemMode,birthDate:l},`gyeok-${a.blendTab}-${f.hourKeyForUi}`)]}):b.jsx("div",{className:"p-4 rounded-xl bg-neutral-100 dark:bg-neutral-900 text-sm",children:"   ."})}const I0=e=>typeof e=="string"&&e.length>=2,Pce=e=>!Array.isArray(e)||e.length!==4?!1:I0(e[0])&&I0(e[1])&&I0(e[2])&&(e[3]===""||I0(e[3]));function Dce({data:e}){const[t,n]=w.useState("un"),r=on(u=>u.canUseMyoViewerNow());w.useEffect(()=>{t==="myoun"&&!r&&n("un")},[t,r]);const i=w.useMemo(()=>{try{const u=ap(e);return jl(u)}catch{return new Date}},[e]),a=w.useMemo(()=>Ov(e,i),[e,i]),o=!e.birthTime||e.birthTime==="",l=w.useMemo(()=>{try{const u=at(a,e.birthPlace?.lon),f=Et(a,e.birthPlace?.lon),h=gt(a,e.mingSikType),p=o?"":Fa(a,e.mingSikType);return[u,f,h,p]}catch{return[]}},[a,e?.mingSikType,e?.birthPlace?.lon,o]);return b.jsxs("div",{className:"w-[96%] max-w-[640px] mx-auto",children:[b.jsxs("div",{className:"flex border-b border-neutral-700 mb-4",children:[b.jsx("button",{onClick:()=>n("un"),className:`px-2 desk:px-4 py-2 text-xs desk:text-sm cursor-pointer border-b hover:border-purple-500 hover:text-purple-500 font-bold ${t==="un"?"border-purple-500 text-purple-500":"border-transparent text-neutral-400"}`,children:" "}),r?b.jsx("button",{onClick:()=>n("myoun"),className:`px-2 desk:px-4 py-2 text-xs desk:text-sm cursor-pointer border-b hover:border-purple-500 hover:text-purple-500 font-bold ${t==="myoun"?"border-purple-500 text-purple-500":"border-transparent text-neutral-400"}`,children:" "}):null,b.jsx("button",{onClick:()=>n("report"),className:`px-2 desk:px-4 py-2 text-xs desk:text-sm cursor-pointer border-b hover:border-purple-500 hover:text-purple-500 font-bold ${t==="report"?"border-purple-500 text-purple-500":"border-transparent text-neutral-400"}`,children:" "})]}),t==="un"&&b.jsx(Aae,{data:e}),t==="myoun"&&r&&b.jsx(Nae,{data:e}),t==="report"&&b.jsx(Mce,{data:e,pillars:Pce(l)?l:[]})]})}/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rce=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),Lce=e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(t,n,r)=>r?r.toUpperCase():n.toLowerCase()),cD=e=>{const t=Lce(e);return t.charAt(0).toUpperCase()+t.slice(1)},O7=(...e)=>e.filter((t,n,r)=>!!t&&t.trim()!==""&&r.indexOf(t)===n).join(" ").trim(),Ice=e=>{for(const t in e)if(t.startsWith("aria-")||t==="role"||t==="title")return!0};/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var $ce={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bce=w.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:i="",children:a,iconNode:o,...l},u)=>w.createElement("svg",{ref:u,...$ce,width:t,height:t,stroke:e,strokeWidth:r?Number(n)*24/Number(t):n,className:O7("lucide",i),...!a&&!Ice(l)&&{"aria-hidden":"true"},...l},[...o.map(([f,h])=>w.createElement(f,h)),...Array.isArray(a)?a:[a]]));/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hi=(e,t)=>{const n=w.forwardRef(({className:r,...i},a)=>w.createElement(Bce,{ref:a,iconNode:t,className:O7(`lucide-${Rce(cD(e))}`,`lucide-${e}`,r),...i}));return n.displayName=cD(e),n};/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zce=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],Uce=hi("chevron-down",zce);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fce=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],Hce=hi("chevron-up",Fce);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gce=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],qce=hi("circle-x",Gce);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yce=[["path",{d:"M19.414 14.414C21 12.828 22 11.5 22 9.5a5.5 5.5 0 0 0-9.591-3.676.6.6 0 0 1-.818.001A5.5 5.5 0 0 0 2 9.5c0 2.3 1.5 4 3 5.5l5.535 5.362a2 2 0 0 0 2.879.052 2.12 2.12 0 0 0-.004-3 2.124 2.124 0 1 0 3-3 2.124 2.124 0 0 0 3.004 0 2 2 0 0 0 0-2.828l-1.881-1.882a2.41 2.41 0 0 0-3.409 0l-1.71 1.71a2 2 0 0 1-2.828 0 2 2 0 0 1 0-2.828l2.823-2.762",key:"17lmqv"}]],Kce=hi("heart-handshake",Yce);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wce=[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-6a2 2 0 0 1 2.582 0l7 6A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"r6nss1"}]],Vce=hi("house",Wce);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zce=[["path",{d:"m10 17 5-5-5-5",key:"1bsop3"}],["path",{d:"M15 12H3",key:"6jk70r"}],["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}]],j7=hi("log-in",Zce);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xce=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],Jce=hi("log-out",Xce);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qce=[["path",{d:"M4 5h16",key:"1tepv9"}],["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 19h16",key:"1djgab"}]],eue=hi("menu",Qce);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tue=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],nue=hi("plus",tue);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rue=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],iue=hi("settings",rue);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aue=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}],["path",{d:"M7 21v-2a2 2 0 0 1 2-2h6a2 2 0 0 1 2 2v2",key:"1m6ac2"}]],oue=hi("square-user",aue);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sue=[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]],N7=hi("star",sue);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lue=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]],cue=hi("user-plus",lue);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uue=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],cb=hi("x",uue);function due({onOpenSidebar:e,onAddNew:t,onOpenCustom:n,isLoggedIn:r}){const i=_r(O=>O.list.length),a=on(O=>O.canAddMyeongsik),[o,l]=w.useState(!1);w.useEffect(()=>{let O=!0;Me.auth.getSession().then(({data:C})=>{O&&l(!!C.session?.user)});const{data:P}=Me.auth.onAuthStateChange((C,D)=>{l(!!D?.user)});return()=>{O=!1,P.subscription.unsubscribe()}},[]);const u=r||o,f=a(i),h=!f.ok,p=h?f.message:"",g=()=>{if(h){jd(p||"   ");return}t()},x=()=>{if(h){jd(p||"   ");return}n()},S=()=>{ls.getState().openWith("HEADER")},_="w-8 h-8 sm:w-10 sm:h-10 flex items-center justify-center rounded-md text-white focus:outline-none focus:ring-2 focus:ring-purple-500 transition-colors",k="bg-purple-600 hover:bg-purple-700 dark:bg-purple-600 dark:hover:bg-purple-500 cursor-pointer",T="bg-orange-600 hover:bg-orange-700 dark:bg-orange-600 dark:hover:bg-orange-500 cursor-pointer",N="bg-neutral-300 dark:bg-neutral-800 text-neutral-100 cursor-not-allowed opacity-80";return b.jsx("header",{className:"fixed min-w-[320px] top-0 left-0 right-0 bg-white dark:bg-neutral-950 border-b border-neutral-200 dark:border-neutral-800 z-55 px-2 desk:px-3 transition-colors",children:b.jsxs("div",{className:"relative max-w-[640px] w-full mx-auto h-12 sm:h-14 flex justify-between items-center",children:[b.jsx("button",{type:"button",onClick:e,"aria-label":" ",className:"p-2 rounded-full text-neutral-700 dark:text-neutral-200 hover:bg-neutral-100 dark:hover:bg-neutral-800 hover:text-purple-600 dark:hover:text-purple-400 focus:outline-none focus:ring-2 focus:ring-purple-500 cursor-pointer transition-colors",children:b.jsx(eue,{size:22})}),b.jsx("h1",{className:"absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 mx-auto text-base sm:text-lg font-bold tracking-tight text-neutral-900 dark:text-neutral-100",children:""}),b.jsxs("div",{className:"flex gap-2",children:[b.jsxs("button",{type:"button",onClick:g,"aria-label":" ",disabled:h,title:" ",className:`${_} ${h?N:k}`,children:[b.jsx(cue,{size:18}),h?b.jsx("span",{className:"ml-1 text-[12px]",children:""}):null]}),b.jsxs("button",{type:"button",onClick:x,"aria-label":"  ",disabled:h,title:"  ",className:`${_} ${h?N:T}`,children:[b.jsx(oue,{size:18}),h?b.jsx("span",{className:"ml-1 text-[12px]",children:""}):null]}),!u&&b.jsx("button",{type:"button",onClick:S,"aria-label":"",title:"",className:"text-xs cursor-pointer",children:b.jsx("ins",{children:""})})]})]})})}function fue(e){w.useEffect(()=>{const t=e??H3()??(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light");q3(t),e&&G3(e)},[e])}const C7=["theme","hiddenStem","hiddenStemMode","sinsalMode","sinsalBase","sinsalBloom","exposure","charType","thinEum","visibility","difficultyMode"];function hue(e){return typeof e=="string"&&C7.includes(e)}function qk(e){const t=Array.isArray(e)?e.filter(hue):[],n=C7.filter(r=>!t.includes(r));return[...t,...n]}function Yk(e){return{...Kc,...e,sectionOrder:qk(e.sectionOrder)}}function mue(e,t){return e.theme??t.theme??"dark"}function pue({open:e,settings:t}){const n=w.useMemo(()=>qk(t.sectionOrder),[t.sectionOrder]),r=w.useMemo(()=>Yk(t),[t]),[i,a]=w.useState(n),[o,l]=w.useState(r),[u,f]=w.useState(null),[h,p]=w.useState(!1);return w.useEffect(()=>{if(!e||h)return;const x=qk(t.sectionOrder);l({...Yk(t),sectionOrder:x}),a(x),p(!1)},[e,t,h]),{order:i,setOrder:a,localSettings:o,setLocalSettings:l,updateSetting:(x,S)=>{l(_=>{const k={..._,[x]:S};return p(!0),k})},toastMessage:u,setToastMessage:f,dirty:h,setDirty:p}}function gue(){try{typeof window<"u"&&window.localStorage.removeItem("settings_v1")}catch{}}function M7(e){G3(e)}function yue({setSettings:e,saveToServer:t}){return{applyChanges:w.useCallback(async(r,i,a)=>{const o={...Yk(r),sectionOrder:i};gue(),e(o),o.theme&&M7(o.theme),await t(!0),a()},[e,t])}}function bue({open:e,onClose:t}){const{settings:n,setSettings:r,saveToServer:i}=Tn(),a=pue({open:e,settings:n}),o=yue({setSettings:r,saveToServer:i}),l=()=>a.setToastMessage(null),u=mue(a.localSettings,n);fue(u),w.useEffect(()=>{M7(u)},[u]);const f=()=>{o.applyChanges(a.localSettings,a.order,()=>{a.setToastMessage(" "),a.setDirty(!1),t()})},h=g=>{const{destination:x,source:S}=g;if(!x||x.index===S.index)return;const _=Array.from(a.order),[k]=_.splice(S.index,1);_.splice(x.index,0,k),a.setOrder(_)},p=g=>{switch(g){case"theme":return b.jsx(Ca,{title:"",children:b.jsx(vue,{value:a.localSettings.theme??"dark",onChange:x=>a.updateSetting("theme",x)})});case"hiddenStem":return b.jsx(Ca,{title:"  ",children:b.jsx(ud,{value:a.localSettings.hiddenStem,onChange:x=>a.updateSetting("hiddenStem",x),options:[{label:"",value:"all"},{label:" ",value:"regular"}]})});case"hiddenStemMode":return b.jsx(Ca,{title:" ",children:b.jsx(ud,{value:a.localSettings.hiddenStemMode,onChange:x=>a.updateSetting("hiddenStemMode",x),options:[{label:"",value:"classic"},{label:"",value:"hgc"}]})});case"sinsalMode":return b.jsx(Ca,{title:"",children:b.jsx(ud,{value:a.localSettings.sinsalMode,onChange:x=>a.updateSetting("sinsalMode",x),options:[{label:"",value:"classic"},{label:"",value:"modern"}]})});case"sinsalBase":return b.jsx(Ca,{title:"",children:b.jsx(ud,{value:a.localSettings.sinsalBase,onChange:x=>a.updateSetting("sinsalBase",x),options:[{label:"",value:""},{label:"",value:""}]})});case"sinsalBloom":return b.jsx(Ca,{title:" ",children:b.jsx(ho,{label:" ",checked:!!a.localSettings.sinsalBloom,onChange:x=>a.updateSetting("sinsalBloom",x)})});case"exposure":return b.jsx(Ca,{title:" ",children:b.jsx(ud,{value:a.localSettings.exposure,onChange:x=>a.updateSetting("exposure",x),options:[{label:"",value:""},{label:"",value:""},{label:"",value:""},{label:"",value:""}]})});case"charType":return b.jsx(Ca,{title:" ",children:b.jsx(ud,{value:a.localSettings.charType,onChange:x=>a.updateSetting("charType",x),options:[{label:"",value:""},{label:"",value:""}]})});case"thinEum":return b.jsx(Ca,{title:" ",children:b.jsx(ho,{label:" ",checked:!!a.localSettings.thinEum,onChange:x=>a.updateSetting("thinEum",x)})});case"visibility":return b.jsx(Ca,{title:" ",children:b.jsxs("div",{className:"space-y-2 w-full max-w-[180px] mx-auto",children:[b.jsx(ho,{label:" ",checked:!!a.localSettings.showSipSin,onChange:x=>a.updateSetting("showSipSin",x)}),b.jsx(ho,{label:" ",checked:!!a.localSettings.showSibiUnseong,onChange:x=>a.updateSetting("showSibiUnseong",x)}),b.jsx(ho,{label:" ",checked:!!a.localSettings.showSibiSinsal,onChange:x=>a.updateSetting("showSibiSinsal",x)}),b.jsx(ho,{label:" ",checked:!!a.localSettings.showNabeum,onChange:x=>a.updateSetting("showNabeum",x)}),b.jsx(ho,{label:" BOX ",checked:!!a.localSettings.showEtcShinsal,onChange:x=>a.updateSetting("showEtcShinsal",x)}),b.jsx(ho,{label:" BOX ",checked:!!a.localSettings.showRelationBox,onChange:x=>a.updateSetting("showRelationBox",x)}),b.jsx(ho,{label:" BOX ",checked:!!a.localSettings.showPromptBox,onChange:x=>a.updateSetting("showPromptBox",x)})]})});case"difficultyMode":return b.jsx(Ca,{title:" UP ver.",children:b.jsx(ho,{label:" UP ",checked:!!a.localSettings.difficultyMode,onChange:x=>a.updateSetting("difficultyMode",x)})});default:return null}};return b.jsxs(b.Fragment,{children:[b.jsx("style",{children:"[data-rbd-drag-handle-context-id]{touch-action:none!important}"}),b.jsx("div",{className:`fixed inset-0 bg-black/60 transition-opacity duration-300 z-90 ${e?"opacity-100 pointer-events-auto":"opacity-0 pointer-events-none"}`,onClick:t}),b.jsxs("div",{className:`fixed inset-x-0 mx-auto w-full max-w-[640px] h-[88dvh] bg-white text-neutral-900 dark:bg-neutral-950 dark:text-white shadow-lg rounded-t-2xl transition-bottom duration-300 z-99 ${e?"bottom-0":"bottom-[-88dvh]"}`,children:[b.jsx("div",{className:"flex justify-between items-center p-4 border-b border-neutral-200 dark:border-neutral-800",children:b.jsxs("div",{className:"flex items-center gap-2",children:[b.jsx("h2",{className:"text-lg font-bold",children:""}),b.jsx("button",{onClick:f,className:"px-3 py-1 rounded bg-indigo-600 hover:bg-indigo-500 text-white text-sm cursor-pointer",children:""})]})}),e&&b.jsx(np,{onDragEnd:h,children:b.jsx(hf,{droppableId:"settings-sections",children:g=>b.jsxs("ul",{ref:g.innerRef,...g.droppableProps,className:"flex flex-col gap-2 p-4 overflow-y-auto max-h-[80dvh] list-none",children:[a.order.map((x,S)=>b.jsx(ff,{draggableId:x,index:S,children:_=>b.jsxs("li",{ref:_.innerRef,..._.draggableProps,..._.dragHandleProps,className:"!flex justify-between items-center bg-white dark:bg-neutral-800 p-2 rounded border text-sm desk:text-base select-none cursor-grab active:cursor-grabbing",children:[b.jsx("span",{className:"mr-2 select-none text-neutral-500",children:"::"}),b.jsx("div",{className:"flex-1 min-w-0",children:p(x)})]})},x)),g.placeholder]})})})]}),a.toastMessage&&b.jsx(b4,{message:a.toastMessage,onClose:l,ms:1800})]})}function vue({value:e,onChange:t}){const n=e==="dark";return b.jsxs("button",{"data-no-drag":!0,onClick:()=>t(n?"light":"dark"),className:"flex items-center gap-2 px-3 py-1.5 rounded-md border text-sm cursor-pointer border-neutral-300 bg-white hover:bg-neutral-100 text-neutral-700 dark:border-neutral-700 dark:bg-neutral-900 dark:hover:bg-neutral-800 dark:text-neutral-200",title:"/ ","aria-pressed":n,children:[b.jsx("span",{className:"inline-block w-10 h-5 bg-neutral-300 rounded-full relative after:content-[''] after:w-4 after:h-4 after:bg-white after:rounded-full after:absolute after:top-0.5 after:left-0.5 after:transition-all dark:bg-neutral-700"}),b.jsx("span",{children:n?"":""})]})}function Ca({title:e,children:t}){return b.jsxs("div",{className:"p-3 rounded-lg bg-neutral-50 border border-neutral-200 text-neutral-900 dark:bg-neutral-900 dark:border-neutral-800 dark:text-neutral-100 space-y-3",children:[b.jsx("h3",{className:"text-sm font-semibold text-center",children:e}),b.jsx("div",{className:"flex justify-center",children:t})]})}function ud({value:e,onChange:t,options:n}){return b.jsx("div",{"data-no-drag":!0,className:"inline-flex rounded-md overflow-hidden border border-neutral-300 bg-white dark:border-neutral-700 dark:bg-neutral-800",onMouseDown:r=>r.stopPropagation(),onTouchStart:r=>r.stopPropagation(),children:n.map(r=>{const i=e===r.value;return b.jsx("button",{type:"button",onClick:()=>t(r.value),className:`px-3 py-1 text-sm transition-colors ${i?"bg-indigo-600 text-white":"text-neutral-700 hover:bg-neutral-100 dark:text-neutral-300 dark:hover:bg-neutral-700 cursor-pointer"}`,children:r.label},r.value)})})}function ho({label:e,checked:t,onChange:n}){const r=`switch-${e}`;return b.jsxs("label",{"data-no-drag":!0,htmlFor:r,className:"flex items-center justify-between w-full max-w-[180px] text-sm cursor-pointer",children:[b.jsx("span",{children:e}),b.jsx("input",{id:r,type:"checkbox",checked:t,onChange:i=>n(i.target.checked),className:"peer hidden"}),b.jsx("span",{className:"w-10 h-5 bg-neutral-300 rounded-full relative after:content-[''] after:w-4 after:h-4 after:bg-white after:rounded-full after:absolute after:top-0.5 after:left-0.5 after:transition-all peer-checked:bg-green-600 peer-checked:after:translate-x-5 dark:bg-neutral-700 dark:peer-checked:bg-green-600"})]})}function xue({onShowToday:e,onShowCouple:t}){const[n,r]=w.useState(!1),[i,a]=w.useState(!1),[o,l]=w.useState(!1),u=async()=>{if(!i){a(!0);try{const{error:g}=await Me.auth.signOut();if(g)throw g;window.location.reload()}catch(g){console.error(g),alert(" .  ."),a(!1)}}},f="var(--bottom-dock, 0px)",h="env(safe-area-inset-bottom, 0px)",p={bottom:f,height:`calc(64px + ${h})`,paddingBottom:h};return b.jsxs(b.Fragment,{children:[b.jsx("div",{className:"fixed min-w-[320px] h-[64px] left-0 right-0 bg-white border-t border-neutral-200 py-2 text-xs sm:text-sm z-50 dark:bg-neutral-950 dark:border-neutral-800",style:p,children:b.jsxs("nav",{className:"flex justify-around items-center max-w-[640px] w-full mx-auto",children:[b.jsx($0,{icon:b.jsx(Vce,{size:22}),label:" ",onClick:e}),b.jsx($0,{icon:b.jsx(Kce,{size:22}),label:"",onClick:t}),b.jsx($0,{icon:b.jsx(iue,{size:22}),label:"",onClick:()=>r(!0)}),b.jsx($0,{icon:b.jsx(Jce,{size:22}),label:"",onClick:()=>l(!0),disabled:i})]})}),b.jsx(bue,{open:n,onClose:()=>r(!1)}),o&&b.jsx("div",{className:"fixed inset-0 z-[120] flex items-center justify-center bg-black/50",onClick:()=>l(!1),children:b.jsxs("div",{className:"w-full max-w-sm bg-white dark:bg-neutral-900 text-neutral-900 dark:text-neutral-100 p-6 rounded-xl shadow-xl",onClick:g=>g.stopPropagation(),children:[b.jsx("h3",{className:"text-lg font-bold mb-4",children:" ?"}),b.jsxs("div",{className:"flex gap-3",children:[b.jsx("button",{type:"button",className:"flex-1 py-2 rounded-lg bg-neutral-200 dark:bg-neutral-800 text-neutral-900 dark:text-neutral-100 cursor-pointer",onClick:()=>l(!1),children:""}),b.jsx("button",{type:"button",className:"flex-1 py-2 rounded-lg bg-red-600 text-white hover:bg-red-700 cursor-pointer",onClick:()=>{l(!1),u()},children:""})]})]})})]})}function $0({icon:e,label:t,onClick:n,disabled:r}){return b.jsxs("button",{onClick:n,disabled:r,className:"flex flex-col items-center justify-center text-neutral-600 hover:text-purple-600 transition-colors cursor-pointer disabled:opacity-50 disabled:cursor-not-allowed dark:text-neutral-300 dark:hover:text-purple-400",children:[e,b.jsx("span",{className:"mt-1",children:t})]})}const P7=e=>e.map(t=>typeof t=="string"?t.trim():"").filter(t=>t!==""),ub=e=>P7(e).join(""),_ue=()=>{const[e,t]=w.useState(()=>{if(typeof window>"u")return{};try{const u=localStorage.getItem(HM);return u?JSON.parse(u):{}}catch{return{}}});w.useEffect(()=>{if(!(typeof window>"u"))try{localStorage.setItem(HM,JSON.stringify(e))}catch{}},[e]);const[n,r]=w.useState({}),[i,a]=w.useState(""),[o,l]=w.useState(()=>{const u=Zy(),f=Xy(),h=f.length?dm(u,f):u;return _d(h,e)});return w.useEffect(()=>{l(u=>{const f=_d(u,e);return ub(f)===ub(u)?u:f})},[e]),w.useEffect(()=>{r(u=>{const f={...u};for(const h of o)f[h]===void 0&&(f[h]=!0);return f})},[o]),{folderFavMap:e,setFolderFavMap:t,folderOpenMap:n,setFolderOpenMap:r,newFolderName:i,setNewFolderName:a,orderedFolders:o,setOrderedFolders:l}},wue=({list:e,orderedFolders:t})=>{const{grouped:n,unassignedItems:r}=w.useMemo(()=>{const i=H2(e,t),a={};for(const o of t)a[o]=i[o]??[];return{grouped:a,unassignedItems:i[si]??[]}},[e,t]);return{grouped:n,unassignedItems:r}},Gh=async()=>{const{data:e,error:t}=await Me.auth.getUser();return t||!e.user?null:e.user.id},Sue=async e=>{const{data:t,error:n}=await Me.from("user_custom_folders").select("folder_name").eq("user_id",e);return n&&n.code==="PGRST205"?{data:[],error:n,disabled:!0}:n?{data:[],error:n}:{data:(t??[]).map(a=>a.folder_name?a.folder_name.trim():"").filter(a=>a!==""),error:null}},kue=async e=>{const{data:t,error:n}=await Me.from("user_folder_order").select("folder_name, sort_order").eq("user_id",e).order("sort_order",{ascending:!0,nullsFirst:!0});return n?{data:[],error:n}:{data:(t??[]).map(a=>a.folder_name?String(a.folder_name):"").filter(a=>a.trim()!==""),error:null}},Eue=async(e,t)=>{const n=t.filter(i=>typeof i=="string"&&i.trim()!=="").map((i,a)=>({user_id:e,folder_name:i.trim(),sort_order:a+1,updated_at:new Date().toISOString()}));if(!n.length){const{error:i}=await Me.from("user_folder_order").delete().eq("user_id",e);return{data:null,error:i}}const{error:r}=await Me.from("user_folder_order").upsert(n,{onConflict:"user_id,folder_name"});return{data:null,error:r}},Aue=async(e,t)=>{const{error:n}=await Me.from("user_folder_order").delete().eq("user_id",e).eq("folder_name",t);return{data:null,error:n}},Tue=async(e,t)=>{const{error:n}=await Me.from("user_custom_folders").upsert({user_id:e,folder_name:t,updated_at:new Date().toISOString()});return n&&n.code==="PGRST205"?{data:null,error:n,disabled:!0}:{data:null,error:n}},Oue=async(e,t)=>{const{error:n}=await Me.from("user_custom_folders").delete().eq("user_id",e).eq("folder_name",t);return n&&n.code==="PGRST205"?{data:null,error:n,disabled:!0}:{data:null,error:n}},jue=({folderFavMap:e,setFolderFavMap:t,setOrderedFolders:n,unsetFolderForFolder:r})=>{const[i,a]=w.useState(!1),o=w.useRef(e),l=w.useRef(!1),u=w.useRef(!1);w.useEffect(()=>{o.current=e},[e]),w.useEffect(()=>{(async()=>{if(i)return;const N=await Gh();if(!N)return;try{if(!u.current){const $=await Sue(N);$.disabled&&(u.current=!0),$.error?console.error("load custom folders from server error:",$.error):$.data.length&&K2($.data)}}catch($){console.error("load custom folders exception:",$)}const O=await kue(N);if(O.error){console.error("load folder order from server error:",O.error),a(!0);return}const P=Zy(),C=O.data,D=C.length?dm(P,C):dm(P,Xy());n(_d(D,o.current)),C.length&&Sd(C),a(!0)})()},[i,n]);const f=w.useCallback(async T=>{const N=await Gh();if(!N)return;const O=await Eue(N,T);O.error&&console.error("save folder order to server error:",O.error)},[]),h=w.useRef(null),p=w.useRef(null),g=w.useRef(""),x=w.useCallback((T,N)=>{const O=P7(T),P=ub(O);if(P&&P===g.current)return;h.current=O;const C=async()=>{const D=h.current;if(h.current=null,!D)return;const $=ub(D);$&&$===g.current||(await f(D),g.current=$)};if(N?.immediate){p.current&&(window.clearTimeout(p.current),p.current=null),C();return}p.current&&window.clearTimeout(p.current),p.current=window.setTimeout(()=>{p.current=null,C()},300)},[f]);w.useEffect(()=>()=>{p.current&&(window.clearTimeout(p.current),p.current=null);const T=h.current;h.current=null,T&&T.length&&f(T)},[f]),w.useEffect(()=>{if(typeof window>"u")return;const T=()=>{if(l.current){l.current=!1;return}const N=Zy(),O=Xy(),P=O.length?dm(N,O):N;n(_d(P,o.current))};return window.addEventListener(Nl,T),()=>window.removeEventListener(Nl,T)},[n]);const S=w.useCallback(T=>{const{source:N,destination:O,type:P}=T;if(!O||P!=="FOLDER")return;const C=N.index,D=O.index;C!==D&&n($=>{if(!$.length)return $;const H=[...$],[q]=H.splice(C,1);H.splice(D,0,q);const K=_d(H,o.current);return l.current=!0,Sd(K),x(K),K})},[x,n]),_=w.useCallback(T=>{const N=T.trim();!N||N===fn||(y4(N),(async()=>{if(u.current)return;const O=await Gh();if(!O)return;const P=await Tue(O,N);P.disabled&&(u.current=!0),P.error&&console.error("save custom folder error:",P.error)})(),n(O=>{if(O.includes(N))return O;const P=[...O,N],C=_d(P,o.current);return Sd(C),x(C,{immediate:!0}),C}))},[x,n]),k=w.useCallback(T=>{r(T),t(N=>{const O={...N};return delete O[T],O}),n(N=>{const O=N.filter(P=>P!==T);return Sd(O),x(O,{immediate:!0}),(async()=>{const P=await Gh();if(!P)return;const C=await Aue(P,T);C.error&&console.error("delete folder order entry error:",C.error)})(),O}),m4.includes(T)?_te(T):(xte(T),(async()=>{if(u.current)return;const N=await Gh();if(!N)return;const O=await Oue(N,T);O.disabled&&(u.current=!0),O.error&&console.error("delete custom folder error:",O.error)})())},[x,t,n,r]);return{handleDragEnd:S,createFolder:_,deleteFolder:k,UNASSIGNED_LABEL:fn}};function Nue(e,t){const n=_ue(),r=wue({list:e,orderedFolders:n.orderedFolders}),i=jue({folderFavMap:n.folderFavMap,setFolderFavMap:n.setFolderFavMap,setOrderedFolders:n.setOrderedFolders,unsetFolderForFolder:t.unsetFolderForFolder});return{folderFavMap:n.folderFavMap,setFolderFavMap:n.setFolderFavMap,folderOpenMap:n.folderOpenMap,setFolderOpenMap:n.setFolderOpenMap,newFolderName:n.newFolderName,setNewFolderName:n.setNewFolderName,orderedFolders:n.orderedFolders,grouped:r.grouped,unassignedItems:r.unassignedItems,handleDragEnd:i.handleDragEnd,createFolder:i.createFolder,deleteFolder:i.deleteFolder,UNASSIGNED_LABEL:i.UNASSIGNED_LABEL}}function Cue({onClose:e,onAddNew:t,isLoggedIn:n,onLogin:r}){const i=_r(h=>h.list.length),o=on(h=>h.canAddMyeongsik)(i),l=!o.ok,u=l?o.message:"",f=()=>{if(l){jd(u||"   ");return}t()};return b.jsxs("div",{className:"flex justify-between items-center w-full h-12 desk:h-16 p-4 border-b border-neutral-200 dark:border-neutral-800",children:[b.jsx("h2",{className:"text-lg font-bold",children:" "}),b.jsxs("div",{className:"flex items-center gap-2",children:[!n&&b.jsxs("button",{type:"button",onClick:r,className:`inline-flex items-center gap-1 px-3 py-1.5 rounded text-sm cursor-pointer
                       bg-neutral-200 text-neutral-800 hover:bg-neutral-300
                       dark:bg-neutral-800 dark:text-neutral-100 dark:hover:bg-neutral-700`,title:"",children:[b.jsx(j7,{size:16})," "]}),b.jsxs("button",{type:"button",onClick:f,disabled:l,title:u,className:l?"inline-flex items-center gap-1 px-3 py-1.5 rounded text-sm bg-neutral-200 text-neutral-500 dark:bg-neutral-800 dark:text-neutral-400 cursor-not-allowed opacity-80":"inline-flex items-center gap-1 px-3 py-1.5 rounded text-sm cursor-pointer bg-purple-600 hover:bg-purple-500 text-white",children:[b.jsx(nue,{size:16}),"  ",l?"":""]}),b.jsx("button",{type:"button",onClick:e,className:"p-1 rounded cursor-pointer hover:bg-neutral-100 dark:hover:bg-neutral-900","aria-label":" ",title:"",children:b.jsx(cb,{size:22})})]})]})}function Mue({search:e,setSearch:t,searchMode:n,setSearchMode:r,isFiltering:i,totalMatches:a}){return b.jsx("div",{className:"mb-3 sticky top-[-16px] z-10 pb-2 pt-2 bg-white dark:bg-neutral-950 z-50",children:b.jsxs("div",{className:"flex items-center gap-2",children:[b.jsxs("select",{value:n,onChange:o=>r(o.target.value),className:"h-30 text-xs rounded px-2 py-1 cursor-pointer bg-white dark:bg-neutral-900 border border-neutral-300 dark:border-neutral-700 text-neutral-900 dark:text-neutral-100 focus:outline-none focus:ring-2 focus:ring-amber-500/40",children:[b.jsx("option",{value:"name",children:""}),b.jsx("option",{value:"ganji",children:""}),b.jsx("option",{value:"birth",children:""})]}),b.jsxs("div",{className:"relative flex-1",children:[b.jsx("input",{type:"text",value:e,onChange:o=>t(o.target.value),placeholder:n==="name"?" ":n==="ganji"?"  (: )":"  (: 19961229, 1996-12-29)",className:"w-full pl-7 pr-8 py-1 h-30 rounded bg-white dark:bg-neutral-900 border border-neutral-300 dark:border-neutral-700 text-[16px] text-neutral-900 dark:text-neutral-100 placeholder-neutral-400 dark:placeholder-neutral-500 focus:outline-none focus:ring-2 focus:ring-amber-500/40"}),e&&b.jsx("button",{type:"button",onClick:()=>t(""),className:"absolute right-2 top-1/2 -translate-y-1/2 opacity-60 hover:opacity-100","aria-label":" ",title:" ",children:b.jsx(qce,{size:16})})]}),i&&b.jsxs("span",{className:"text-xs text-neutral-500 dark:text-neutral-400 whitespace-nowrap",children:[a,""]})]})})}function Pue({newFolderName:e,setNewFolderName:t,onCreate:n,isFiltering:r}){return b.jsxs(b.Fragment,{children:[b.jsxs("div",{className:"flex items-center mb-2 gap-2",children:[b.jsx("input",{type:"text",value:e,onChange:i=>t(i.target.value),placeholder:"  ",className:"flex-1 w-[60%] px-2 py-1 rounded h-30 bg-white dark:bg-neutral-900 border border-neutral-300 dark:border-neutral-700 text-sm text-neutral-900 dark:text-neutral-100 placeholder-neutral-400 dark:placeholder-neutral-500",onClick:i=>i.stopPropagation()}),b.jsx("button",{type:"button",className:"px-3 rounded h-30 text-sm cursor-pointer bg-neutral-100 hover:bg-neutral-200 dark:bg-neutral-800 dark:hover:bg-neutral-700 text-neutral-900 dark:text-neutral-100 border border-neutral-200 dark:border-neutral-700",onClick:i=>{i.stopPropagation(),n()},children:""})]}),b.jsx("p",{className:"text-xs text-neutral-600 dark:text-neutral-400 mb-2",children:r?"   .":"/      ."})]})}function uD({droppableId:e,items:t,isDropDisabled:n,className:r}){return b.jsx(hf,{droppableId:e,type:"ITEM",direction:"vertical",ignoreContainerClipping:!0,isDropDisabled:n,children:i=>b.jsx("div",{ref:i.innerRef,...i.droppableProps,className:r,children:b.jsxs("ul",{className:"flex flex-col gap-2",children:[t,i.placeholder]})})})}function Due({folderName:e,folderIndex:t,isOpen:n,isFavorite:r,itemCount:i,isDragDisabled:a,onToggleOpen:o,onToggleFavorite:l,onDelete:u,inner:f}){return b.jsx(ff,{draggableId:`folder-${e}`,index:t,isDragDisabled:a,children:h=>b.jsxs("div",{ref:h.innerRef,...h.draggableProps,...h.dragHandleProps,className:"mb-4 cursor-grab active:cursor-grabbing select-none",children:[b.jsxs("div",{className:"flex items-center justify-between px-2 py-2 rounded bg-neutral-50 dark:bg-neutral-900/70 border border-neutral-200 dark:border-neutral-800 text-neutral-800 dark:text-neutral-200",children:[b.jsxs("div",{className:"flex items-center gap-2",children:[b.jsxs("button",{type:"button",onClick:p=>{p.stopPropagation(),o()},className:"inline-flex items-center gap-1 text-sm font-semibold cursor-pointer",children:[n?b.jsx(Hce,{size:16}):b.jsx(Uce,{size:16}),b.jsx("span",{className:"text-sm font-semibold",children:e})]}),b.jsx("button",{type:"button",onClick:p=>{p.stopPropagation(),l()},className:`p-1 rounded cursor-pointer ${r?"text-yellow-400":"text-neutral-400"} hover:text-yellow-400`,"aria-label":"  ",title:r?" ":"",children:b.jsx(N7,{size:16,fill:r?"currentColor":"none"})})]}),b.jsxs("div",{className:"flex items-center gap-2",children:[b.jsxs("span",{className:"opacity-60 text-xs",children:[i,""]}),b.jsx("button",{type:"button",onClick:p=>{p.stopPropagation(),u()},className:"px-2 py-1 rounded text-xs cursor-pointer border border-red-300 dark:border-red-700 text-red-700 dark:text-red-300 hover:bg-red-50 dark:hover:bg-red-900/30",children:""})]})]}),n?f:null]})},`folder-${e}`)}const Rue=()=>({canManage:on(()=>!0)}),Mv="";function Lue(e,t){if(!/^\d{8}$/.test(e))return e||"";const n=e.slice(0,4),r=e.slice(4,6),i=e.slice(6,8);return t&&/^\d{4}$/.test(t)?`${n} ${r} ${i} ${t.slice(0,2)}:${t.slice(2,4)}`:t===Mv?`${n} ${r} ${i} ( )`:`${n} ${r} ${i}`}function Iue(e){if(!e||e==="")return"";const t=e.split(/[\s,]+/).filter(Boolean);if(t.length===0)return"";const n=o=>t.find(l=>o.some(u=>l.endsWith(u))),r=n(["","","","",""]),i=n(["","","","","",""]);return t.length===1||!n(["","","","","","","","","","",""])&&!n(["","","","","",""])?e:r&&i?`${r} ${i}`:r||e}function $ue(e,t,n){if(n)return Mv;const r=(e??"").trim();if(r)return r;const i=t instanceof Date?t:new Date(t);return Number.isNaN(i.getTime())?"":J4(i)}function dD(e){return(e.ganji??"").replace(/\r\n/g,`
`).replace(/\s*null\s*/gi,"").trim()}function Bue(e){const t=dD(e),n=String(e.birthDay??"").trim();if(!/^\d{8}$/.test(n))return t;const r=Number(n.slice(0,4)),i=Number(n.slice(4,6)),a=Number(n.slice(6,8));if(!Wy(r,i,a)||!e.birthTime||e.birthTime===Mv)return t;const o=Number(e.birthTime.slice(0,2)),l=e.birthTime.slice(2,4),u=o-1<0?23:o-1,f=String(u).padStart(2,"0")+l,h=e.corrected instanceof Date?e.corrected:new Date(e.corrected);if(Number.isNaN(h.getTime()))return t;const p=new Date(h.getTime()-3600*1e3),g=z2({...e,birthTime:f,corrected:p});return dD({...e,...g})}function zue(e){const t=String(e??"").trim();if(/^\d{8}$/.test(t)){const r=Number(t.slice(0,4));return Number.isFinite(r)?r:NaN}const n=new Date(t);return Number.isNaN(n.getTime())?NaN:n.getFullYear()}function Uue(e,t){return Number.isNaN(e)?0:t-e+1}function Fue(e){return{...e,transition:e?.transform?"transform 0.15s ease":"none"}}function Hue(e){return e===""?"":e===""?"":e??""}function Gue({m:e,memoOpen:t,isDragDisabled:n}){const r=n,i=`item:${e.id}`,a=Bue(e),o=Iue(e.birthPlace?.name),l=e.relationship?.trim()?e.relationship:" ",u=Hue(e.gender),f=!e.birthTime||e.birthTime===Mv,h=$ue(e.correctedLocal,e.corrected,f),p=!!(o||h),g=Lue(e.birthDay,e.birthTime),x=e.calendarType==="lunar"?"":"",S=zue(e.birthDay),_=Uue(S,new Date().getFullYear()),k=!!(e.memo&&e.memo.trim()!==""),T=t?" ":" ",N=e.mingSikType??"/",O=r?" ":"::",P=e.favorite?" ":"";return{keyId:i,dragDisabled:r,dragHandleLabel:O,ganji:a,placeDisplay:o,relationshipLabel:l,genderLabel:u,birthDisplay:g,calendarLabel:x,correctedLabel:h,showMetaLine:p,showMemo:k,memoToggleLabel:T,age:_,mingSikTypeValue:N,favoriteLabel:P,editLabel:"",deleteLabel:"",getDragStyle:Fue}}const que=({m:e,unassignedLabel:t,onToggleMemo:n,onChangeFolder:r,onChangeMingSikType:i,onView:a,onEdit:o,onDelete:l,onToggleFavorite:u})=>{const f=w.useCallback(k=>{k?.stopPropagation(),n(e.id)},[n,e.id]),h=w.useCallback(k=>{k?.stopPropagation(),a(e)},[a,e]),p=w.useCallback(k=>{k?.stopPropagation(),o(e)},[o,e]),g=w.useCallback(k=>{k?.stopPropagation(),l(e)},[l,e]),x=w.useCallback(k=>{k?.stopPropagation(),u(e.id)},[u,e.id]),S=w.useCallback(k=>{const T=k===t?void 0:k;r(e.id,T)},[r,e.id,t]),_=w.useCallback(k=>{i(e,k)},[i,e]);return{handleToggleMemo:f,handleView:h,handleEdit:p,handleDelete:g,handleToggleFavorite:x,handleFolderChange:S,handleMingSikTypeChange:_}};function fD({m:e,index:t,orderedFolders:n,unassignedLabel:r,isDragDisabled:i,memoOpen:a,onToggleMemo:o,onChangeFolder:l,onChangeMingSikType:u,onView:f,onEdit:h,onDelete:p,onToggleFavorite:g}){Rue();const x=Gue({m:e,memoOpen:a,isDragDisabled:i}),S=que({m:e,unassignedLabel:r,onToggleMemo:o,onChangeFolder:l,onChangeMingSikType:u,onView:f,onEdit:h,onDelete:p,onToggleFavorite:g});return b.jsx(ff,{draggableId:x.keyId,index:t,isDragDisabled:i,children:_=>b.jsx("li",{ref:_.innerRef,..._.draggableProps,..._.dragHandleProps,style:_.draggableProps.style,className:`list-none select-none rounded-xl border bg-white dark:bg-neutral-900 border-neutral-200 dark:border-neutral-800 text-neutral-900 dark:text-neutral-100 ${i?"cursor-default":"cursor-grab active:cursor-grabbing"}`,children:b.jsxs("div",{className:"p-3",children:[b.jsxs("div",{className:"flex items-center gap-2",children:[b.jsxs("div",{className:"font-semibold text-sm desk:text-base",children:[e.name," (",x.age," ",x.genderLabel,")"]}),b.jsx("span",{className:"opacity-40",children:""}),b.jsx("div",{className:"text-sm text-neutral-600 dark:text-neutral-300",children:x.relationshipLabel}),b.jsx("span",{className:"ml-auto opacity-50 select-none",children:x.dragHandleLabel})]}),b.jsxs("div",{className:"text-sm text-neutral-600 dark:text-neutral-300 mt-1",children:[x.birthDisplay,", ",x.calendarLabel]}),x.showMetaLine&&b.jsxs("div",{className:"text-sm text-neutral-500 dark:text-neutral-400",children:[x.placeDisplay,x.correctedLabel&&b.jsxs("span",{className:"opacity-70",children:["  ",x.correctedLabel]})]}),x.ganji&&b.jsx("div",{className:"text-sm text-neutral-800 dark:text-neutral-200 mt-1 whitespace-pre-wrap break-keep",children:x.ganji}),x.showMemo&&b.jsxs("div",{children:[b.jsx("button",{type:"button",className:"text-xs text-neutral-500 dark:text-neutral-400 hover:text-neutral-800 dark:hover:text-neutral-200 inline-flex items-center gap-1 cursor-pointer",onClick:S.handleToggleMemo,children:x.memoToggleLabel}),b.jsx("div",{className:a?"mt-1 text-sm text-neutral-800 dark:text-neutral-200 whitespace-pre-wrap":"hidden",children:e.memo})]}),b.jsxs("div",{className:"flex flex-wrap gap-2 mt-3",children:[b.jsx("select",{className:"h-30 text-xs rounded px-2 py-1 bg-white dark:bg-neutral-900 border border-neutral-300 dark:border-neutral-700 text-neutral-900 dark:text-neutral-100 focus:outline-none focus:ring-2 focus:ring-amber-500/40 cursor-pointer",value:e.folder??r,onClick:k=>k.stopPropagation(),onChange:k=>{k.stopPropagation(),S.handleFolderChange(k.target.value)},children:[r,...n].map(k=>b.jsx("option",{value:k,children:k},k))}),b.jsxs("select",{className:"h-30 text-xs rounded px-2 py-1 bg-white dark:bg-neutral-900 border border-neutral-300 dark:border-neutral-700 text-neutral-900 dark:text-neutral-100 focus:outline-none focus:ring-2 focus:ring-amber-500/40 cursor-pointer",value:x.mingSikTypeValue,onClick:k=>k.stopPropagation(),onChange:k=>{k.stopPropagation(),S.handleMingSikTypeChange(k.target.value)},children:[b.jsx("option",{value:"",children:""}),b.jsx("option",{value:"/",children:"/"}),b.jsx("option",{value:"",children:""})]})]}),b.jsxs("div",{className:"flex gap-2 mt-3",children:[b.jsx("button",{type:"button",onClick:S.handleView,className:"px-3 py-1 rounded text-white text-sm cursor-pointer bg-indigo-600 hover:bg-indigo-500",children:""}),b.jsx("button",{type:"button",title:"",onClick:S.handleEdit,className:"px-3 py-1 rounded text-white text-sm bg-amber-600 hover:bg-amber-500 cursor-pointer",children:x.editLabel}),b.jsx("button",{type:"button",title:"",onClick:S.handleDelete,className:"px-3 py-1 rounded text-white text-sm bg-red-600 hover:bg-red-500 cursor-pointer",children:x.deleteLabel}),b.jsx("button",{type:"button",title:x.favoriteLabel,onClick:S.handleToggleFavorite,className:`ml-auto p-1 rounded cursor-pointer ${e.favorite?"text-yellow-400":"text-neutral-400"} hover:text-yellow-400`,"aria-label":x.favoriteLabel,children:b.jsx(N7,{size:16,fill:e.favorite?"currentColor":"none"})})]})]})})},x.keyId)}const Yue="list:__unassigned__",Kue=e=>`list:${e}`,hD=e=>{if(!e.startsWith("list:"))return;const t=e.slice(5);return t==="__unassigned__"?void 0:t},Wue=({search:e,searchMode:t,orderedFolders:n,grouped:r,unassignedItems:i})=>{const a=c4(e),{filteredUnassigned:o,filteredGrouped:l,totalMatches:u}=w.useMemo(()=>nte({search:e,searchMode:t,orderedFolders:n,unassignedItems:i,grouped:r}),[e,t,n,i,r]);return{isFiltering:a,filteredUnassigned:o,filteredGrouped:l,totalMatches:u}},Vue=({list:e,orderedFolders:t})=>{const[n,r]=w.useState(""),[i,a]=w.useState("name"),[o,l]=w.useState({}),u=w.useRef(null),f=w.useRef(null);return w.useEffect(()=>{if(f.current==null)return;const g=u.current;g&&(g.scrollTop=f.current,f.current=null)},[e,t]),{search:n,setSearch:r,searchMode:i,setSearchMode:a,memoOpenMap:o,toggleMemo:g=>{l(x=>({...x,[g]:!x[g]}))},scrollRef:u,stashScrollTop:()=>{const g=u.current;g&&(f.current=g.scrollTop)}}},mD=()=>{typeof window>"u"||window.dispatchEvent(new Event(Nl))},Zue=({orderedFolders:e,isFiltering:t,handleFolderDragEnd:n,moveItemByDnD:r,update:i,remove:a,onView:o,onClose:l,onDeleteView:u,folderFavMap:f,setFolderFavMap:h,setFolderOpenMap:p,createFolder:g,deleteFolder:x,newFolderName:S,setNewFolderName:_,stashScrollTop:k})=>{const T=w.useCallback((K,U)=>{i(K,{folder:U})},[i]),N=w.useCallback((K,U)=>{const z={...K,mingSikType:U},V=z2(z);i(K.id,{mingSikType:U,...V}),o({...z,...V}),l()},[i,o,l]),O=w.useCallback(K=>{o(K),l()},[o,l]),P=w.useCallback(K=>{confirm(`'${K.name}'  ?`)&&(a(K.id),u&&u())},[a,u]),C=w.useCallback(()=>{const K=S.trim();K&&(g(K),_(""),mD())},[S,g,_]),D=w.useCallback(K=>{if(f[K]){alert(`'${K}'   .
   .`);return}confirm(`'${K}'  ?
(   )`)&&(x(K),mD())},[f,x]),$=w.useCallback(K=>{p(U=>({...U,[K]:!U[K]}))},[p]),H=w.useCallback(K=>{h(U=>({...U,[K]:!U[K]}))},[h]);return{handleDrop:w.useCallback(K=>{const{type:U,source:z,destination:V,draggableId:J}=K;if(V&&!t){if(k(),U==="FOLDER"){n(K);return}if(U==="ITEM"){if(!J.replace(/^item:/,""))return;const Y=hD(z.droppableId),Z=hD(V.droppableId);r({orderedFolders:e,sourceFolder:Y,sourceIndex:z.index,destinationFolder:Z,destinationIndex:V.index})}}},[t,k,n,r,e]),changeFolder:T,changeMingSikType:N,viewAndClose:O,requestDelete:P,createFolderAndNotify:C,requestDeleteFolder:D,toggleFolderOpen:$,toggleFolderFavorite:H}};function Xue({open:e,onClose:t,onView:n,onAddNew:r,onEdit:i,onDeleteView:a}){const{list:o,remove:l,update:u,moveItemByDnD:f,toggleFavoriteWithReorder:h,unsetFolderForFolder:p}=_r(),{folderFavMap:g,setFolderFavMap:x,folderOpenMap:S,setFolderOpenMap:_,newFolderName:k,setNewFolderName:T,orderedFolders:N,grouped:O,unassignedItems:P,handleDragEnd:C,createFolder:D,deleteFolder:$,UNASSIGNED_LABEL:H}=Nue(o,{unsetFolderForFolder:p}),q=Vue({list:o,orderedFolders:N}),{isFiltering:K,filteredUnassigned:U,filteredGrouped:z,totalMatches:V}=Wue({search:q.search,searchMode:q.searchMode,orderedFolders:N,unassignedItems:P,grouped:O}),J=Zue({orderedFolders:N,isFiltering:K,handleFolderDragEnd:C,moveItemByDnD:f,update:u,remove:l,onView:n,onClose:t,onDeleteView:a,folderFavMap:g,setFolderFavMap:x,setFolderOpenMap:_,createFolder:D,deleteFolder:$,newFolderName:k,setNewFolderName:T,stashScrollTop:q.stashScrollTop}),Q=()=>{ls.getState().openWith("HEADER")};return b.jsxs(b.Fragment,{children:[b.jsx("div",{className:`fixed inset-0 bg-black/70 transition-opacity duration-300 z-100 ${e?"opacity-100 pointer-events-auto":"opacity-0 pointer-events-none"}`,onClick:t}),b.jsxs("div",{className:`fixed top-0 left-0 h-[100dvh] min-w-[320px] w-full desk:w-1/3
                    bg-white dark:bg-neutral-950
                    text-neutral-900 dark:text-white
                    shadow-lg z-101 transition-[left] duration-300
                    overflow-hidden
                    ${e?"left-0":"left-[-100%]"}`,children:[b.jsx(Cue,{onClose:t,onAddNew:()=>{r(),t()},onLogin:()=>{Q()},isLoggedIn:!1}),b.jsx(np,{onDragEnd:J.handleDrop,children:b.jsxs("div",{ref:q.scrollRef,className:"p-4 h-[calc(100%-56px)] overflow-y-auto overscroll-contain",style:{touchAction:"pan-y"},children:[b.jsx(Mue,{search:q.search,setSearch:q.setSearch,searchMode:q.searchMode,setSearchMode:q.setSearchMode,isFiltering:K,totalMatches:V}),b.jsx(Pue,{newFolderName:k,setNewFolderName:T,isFiltering:K,onCreate:J.createFolderAndNotify}),b.jsx(uD,{droppableId:Yue,isDropDisabled:K,className:"mb-6",items:U.map((Y,Z)=>b.jsx(fD,{m:Y,index:Z,orderedFolders:N,unassignedLabel:H,isDragDisabled:K,memoOpen:!!q.memoOpenMap[Y.id],onToggleMemo:q.toggleMemo,onChangeFolder:J.changeFolder,onChangeMingSikType:J.changeMingSikType,onView:J.viewAndClose,onEdit:re=>i(re),onDelete:J.requestDelete,onToggleFavorite:re=>void h(re,N)},Y.id))}),b.jsx(hf,{droppableId:"folders:root",type:"FOLDER",direction:"vertical",ignoreContainerClipping:!0,isDropDisabled:K,children:Y=>b.jsxs("div",{ref:Y.innerRef,...Y.droppableProps,children:[N.map((Z,re)=>{const ue=Kue(Z),se=z[Z]||[],B=!!S[Z],W=!!g[Z];return b.jsx(Due,{folderName:Z,folderIndex:re,isOpen:B,isFavorite:W,itemCount:se.length,isDragDisabled:K,onToggleOpen:()=>J.toggleFolderOpen(Z),onToggleFavorite:()=>J.toggleFolderFavorite(Z),onDelete:()=>J.requestDeleteFolder(Z),inner:b.jsx(uD,{droppableId:ue,isDropDisabled:K,className:"mt-2",items:se.map((ae,X)=>b.jsx(fD,{m:ae,index:X,orderedFolders:N,unassignedLabel:H,isDragDisabled:K,memoOpen:!!q.memoOpenMap[ae.id],onToggleMemo:q.toggleMemo,onChangeFolder:J.changeFolder,onChangeMingSikType:J.changeMingSikType,onView:J.viewAndClose,onEdit:oe=>i(oe),onDelete:J.requestDelete,onToggleFavorite:oe=>void h(oe,N)},ae.id))})},`folder-${Z}`)}),Y.placeholder]})})]})})]})]})}function pD(e){return{...e,calendarType:e.calendarType??"solar"}}function gD(e){return!e.birthTime||e.birthTime===""}function yD(e){return!e.birthPlace||e.birthPlace.name===""}function Jue(e,t){if(t!=="lunar"||!e||e.length!==8)return null;try{const n=Number(e.slice(0,4)),r=Number(e.slice(4,6)),i=Number(e.slice(6,8)),a=Hi(n,r,i),o=String(a.getMonth()+1).padStart(2,"0"),l=String(a.getDate()).padStart(2,"0");return`  ${a.getFullYear()}-${o}-${l}`}catch(n){const r=n instanceof Error?n.message:void 0;return`  ${r?`: ${r}`:""}`}}const D7="ms_folders";function Que(){try{const e=JSON.parse(localStorage.getItem(D7)||"[]");return Array.isArray(e)?e:[]}catch{return[]}}function ede(e){localStorage.setItem(D7,JSON.stringify(e))}function tde(e){const[t,n]=w.useState(!1),[r,i]=w.useState(()=>pD(e)),[a,o]=w.useState(gD(e)),[l,u]=w.useState(yD(e)),[f,h]=w.useState([]);return w.useEffect(()=>{h(Que())},[]),{isEditing:t,setIsEditing:n,form:r,setForm:i,updateForm:(x,S)=>{i(_=>({..._,[x]:S}))},unknownTime:a,setUnknownTime:o,unknownPlace:l,setUnknownPlace:u,customFolders:f,setCustomFolders:h,resetForm:()=>{i(pD(e)),o(gD(e)),u(yD(e))}}}const R7=["","","","","",""];function nde(e,t){const n=Array.from(new Set(e.map(a=>a.folder).filter(Boolean))),r=new Set([...R7,...t,...n]),i=Array.from(r).sort((a,o)=>a.localeCompare(o));return[fn,...i]}function rde({list:e,customFolders:t,form:n}){const r=w.useMemo(()=>nde(e,t),[e,t]),i=w.useMemo(()=>Jue(n.birthDay,n.calendarType),[n.birthDay,n.calendarType]);return{folderOptions:r,lunarPreview:i}}function ide(e,t,n){if(!e.name||e.name.trim()==="")return" .";const r=U2(e.birthDay??"",e.calendarType??"solar");if(!r.ok)return r.message;const i=F2(e.birthTime??"",t);return i.ok?!n&&!e.birthPlace?"   '' .":null:i.message}function ade({item:e,form:t,unknownTime:n,unknownPlace:r,customFolders:i,setCustomFolders:a,update:o,remove:l,onClose:u,onSaved:f}){return{save:()=>{const g=ide(t,n,r);if(g){alert(g);return}const x=Xc(t.folder===fn?void 0:t.folder),S=a4({id:e.id,name:t.name,birthDay:t.birthDay??"",calendarType:t.calendarType??"solar",birthTime:t.birthTime,unknownTime:n,gender:t.gender,birthPlace:t.birthPlace,unknownPlace:r,relationship:t.relationship,memo:t.memo,folder:x,mingSikType:t.mingSikType,favorite:e.favorite,deletedAt:e.deletedAt??null,sortOrder:e.sortOrder,dateObj:e.dateObj},{requireName:!0});if(!S.ok){alert(S.message);return}const _={...e,...S.value};if(_.folder&&!R7.includes(_.folder)&&!i.includes(_.folder)){const k=[...i,_.folder];a(k),ede(k)}o(e.id,_),f?.(),u?.()},removeThis:()=>{confirm(`'${e.name}'  ?`)&&l(e.id)}}}const f1="w-full rounded p-2 border transition-colors duration-200 bg-white text-neutral-900 placeholder-neutral-400 border-neutral-300 focus:outline-none focus:ring-2 focus:ring-violet-500 focus:border-transparent dark:bg-neutral-900 dark:text-neutral-100 dark:placeholder-neutral-500 dark:border-neutral-700 dark:focus:ring-violet-400",ode="w-full rounded p-2 border transition-colors duration-200 bg-white text-neutral-900 border-neutral-300 focus:outline-none focus:ring-2 focus:ring-violet-500 focus:border-transparent dark:bg-neutral-900 dark:text-neutral-100 dark:border-neutral-700 dark:focus:ring-violet-400",sde="w-full rounded p-2 border min-h-28 transition-colors duration-200 bg-white text-neutral-900 placeholder-neutral-400 border-neutral-300 focus:outline-none focus:ring-2 focus:ring-violet-500 focus:border-transparent dark:bg-neutral-900 dark:text-neutral-100 dark:placeholder-neutral-500 dark:border-neutral-700 dark:focus:ring-violet-400",is="block text-sm mb-1 font-medium text-neutral-800 dark:text-neutral-200",lde="text-xs text-neutral-500 dark:text-neutral-400",B0="accent-violet-600 dark:accent-violet-400",bD="accent-violet-600 dark:accent-violet-400",Pv="px-3 py-1.5 rounded text-sm font-medium transition-colors duration-200 focus:outline-none focus:ring-2 focus:ring-offset-2 dark:focus:ring-offset-neutral-900",cde=`${Pv} bg-amber-600 text-white hover:bg-amber-500 dark:bg-amber-600 dark:hover:bg-amber-500 cursor-pointer`,ude=`${Pv} bg-red-600 text-white hover:bg-red-500 dark:bg-red-600 dark:hover:bg-red-500 cursor-pointer`,vD=`${Pv} bg-neutral-800 text-white hover:bg-neutral-700 dark:bg-neutral-700 dark:hover:bg-neutral-600 cursor-pointer`,dde=`${Pv} bg-green-600 text-white hover:bg-green-500 dark:bg-green-600 dark:hover:bg-green-500 cursor-pointer`;function fde({item:e,onClose:t}){const{list:n,update:r,remove:i}=_r(),a=tde(e),o=rde({list:n,customFolders:a.customFolders,form:a.form}),l=ade({item:e,form:a.form,unknownTime:a.unknownTime,unknownPlace:a.unknownPlace,customFolders:a.customFolders,setCustomFolders:a.setCustomFolders,update:r,remove:i,onClose:t,onSaved:()=>a.setIsEditing(!1)});return a.isEditing?b.jsxs("div",{className:"space-y-4 max-h-[calc(90dvh_-_40px)] overflow-auto transition-colors duration-200 bg-white text-neutral-900 dark:bg-neutral-950 dark:text-neutral-100 p-4 rounded-xl",children:[b.jsx("h3",{className:"text-lg font-bold",children:" "}),b.jsxs("div",{children:[b.jsx("label",{className:is,children:""}),b.jsx("input",{className:f1,value:a.form.name||"",onChange:u=>a.updateForm("name",u.target.value),placeholder:""})]}),b.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3",children:[b.jsxs("div",{children:[b.jsx("label",{className:is,children:" (YYYYMMDD)"}),b.jsx("input",{className:f1,value:a.form.birthDay||"",onChange:u=>a.updateForm("birthDay",u.target.value.replace(/\D/g,"").slice(0,8)),inputMode:"numeric",maxLength:8,placeholder:": 19900101"}),b.jsxs("div",{className:"flex gap-4 mt-2 items-center justify-between",children:[b.jsxs("div",{className:"flex gap-4",children:[b.jsxs("span",{className:"inline-flex items-center gap-1",children:[b.jsx("input",{type:"radio",className:B0,name:"calendarType",checked:a.form.calendarType==="solar",onChange:()=>a.updateForm("calendarType","solar"),id:"editor_calendar_solar"}),b.jsx("label",{htmlFor:"editor_calendar_solar",className:"inline-flex items-center gap-1 text-sm text-neutral-800 dark:text-neutral-200 cursor-pointer",children:""})]}),b.jsxs("span",{className:"inline-flex items-center gap-1",children:[b.jsx("input",{type:"radio",className:B0,name:"calendarType",checked:a.form.calendarType==="lunar",onChange:()=>a.updateForm("calendarType","lunar"),id:"editor_calendar_lunar"}),b.jsx("label",{htmlFor:"editor_calendar_lunar",className:"inline-flex items-center gap-1 text-sm text-neutral-800 dark:text-neutral-200 cursor-pointer",children:""})]})]}),o.lunarPreview&&b.jsx("span",{className:lde,children:o.lunarPreview})]})]}),b.jsxs("div",{children:[b.jsx("label",{className:is,children:"  (HHMM)"}),b.jsx("input",{className:`${f1} disabled:opacity-50`,value:a.unknownTime?"":a.form.birthTime||"",onChange:u=>a.updateForm("birthTime",u.target.value.replace(/\D/g,"").slice(0,4)),inputMode:"numeric",maxLength:4,placeholder:": 1524",disabled:a.unknownTime}),b.jsxs("div",{className:"mt-1 text-sm flex items-center gap-2",children:[b.jsx("input",{type:"checkbox",className:bD,checked:a.unknownTime,onChange:u=>a.setUnknownTime(u.target.checked),id:"editor_birthTimeX"}),b.jsx("label",{htmlFor:"editor_birthTimeX",className:"text-neutral-800 dark:text-neutral-200 cursor-pointer",children:""})]})]})]}),b.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3",children:[b.jsxs("div",{children:[b.jsx("label",{className:is,children:" "}),b.jsx("div",{className:"flex gap-4 text-sm",children:["","/",""].map(u=>{const f=`editor_ming_${u}`;return b.jsxs("span",{className:"inline-flex items-center gap-1",children:[b.jsx("input",{type:"radio",className:B0,name:"mingSikType",checked:(a.form.mingSikType??"")===u,onChange:()=>a.updateForm("mingSikType",u),id:f}),b.jsx("label",{htmlFor:f,className:"text-neutral-800 dark:text-neutral-200 cursor-pointer",children:u})]},u)})})]}),b.jsxs("div",{children:[b.jsx("label",{className:is,children:""}),b.jsx("div",{className:"flex gap-4 text-sm",children:["",""].map(u=>{const f=`editor_gender_${u}`;return b.jsxs("span",{className:"inline-flex items-center gap-1",children:[b.jsx("input",{type:"radio",className:B0,name:"gender",value:u,checked:a.form.gender===u,onChange:h=>a.updateForm("gender",h.target.value),id:f}),b.jsx("label",{htmlFor:f,className:"text-neutral-800 dark:text-neutral-200 cursor-pointer",children:u})]},u)})})]})]}),b.jsxs("div",{children:[b.jsx("label",{className:is,children:" "}),b.jsx(GB,{onSelect:u=>a.updateForm("birthPlace",u),value:a.unknownPlace?"":a.form.birthPlace?.name??""}),b.jsxs("div",{className:"mt-1 text-sm flex items-center gap-2",children:[b.jsx("input",{type:"checkbox",className:bD,checked:a.unknownPlace,onChange:u=>a.setUnknownPlace(u.target.checked),id:"editor_birthPlaceX"}),b.jsx("label",{htmlFor:"editor_birthPlaceX",className:"text-neutral-800 dark:text-neutral-200 cursor-pointer",children:""})]})]}),b.jsxs("div",{children:[b.jsx("label",{className:is,children:""}),b.jsx(h4,{value:a.form.relationship||"",onChange:u=>a.updateForm("relationship",u)})]}),b.jsxs("div",{children:[b.jsx("label",{className:is,children:""}),b.jsx("select",{className:ode,value:a.form.folder??fn,onChange:u=>{const f=u.target.value;f===fn?a.updateForm("folder",void 0):a.updateForm("folder",f)},children:o.folderOptions.map(u=>b.jsx("option",{value:u===fn?fn:u,children:u},u))})]}),b.jsxs("div",{children:[b.jsx("label",{className:is,children:""}),b.jsx("textarea",{className:sde,value:a.form.memo||"",onChange:u=>a.updateForm("memo",u.target.value),placeholder:" "})]}),b.jsxs("div",{className:"flex gap-2 justify-end",children:[b.jsx("button",{className:vD,onClick:()=>{a.resetForm(),a.setIsEditing(!1)},children:""}),b.jsx("button",{className:dde,onClick:l.save,children:""})]})]}):b.jsxs("div",{className:"p-4 space-y-3 transition-colors duration-200 bg-white text-neutral-900 dark:bg-neutral-950 dark:text-neutral-100",children:[b.jsxs("div",{className:"flex items-center justify-between",children:[b.jsxs("h3",{className:"text-lg font-bold",children:[" ",e.name," "]}),b.jsxs("div",{className:"flex gap-2",children:[b.jsx("button",{className:cde,onClick:()=>a.setIsEditing(!0),children:""}),b.jsx("button",{className:ude,onClick:l.removeThis,children:""}),t&&b.jsx("button",{className:vD,onClick:t,children:""})]})]}),b.jsxs("div",{className:"text-sm text-neutral-700 dark:text-neutral-300",children:[b.jsxs("div",{children:[": ",e.gender]}),b.jsxs("div",{children:["/: ",e.birthDay," ",e.birthTime===""?"( )":e.birthTime,","," ",e.calendarType==="lunar"?"":""]}),b.jsxs("div",{children:[": ",e.correctedLocal||"-"]}),b.jsxs("div",{children:[": ",e.birthPlace?.name||"-"]}),b.jsxs("div",{children:[": ",e.relationship||"-"]}),b.jsxs("div",{children:[": ",e.folder??fn]})]}),e.ganji&&b.jsx("div",{className:"text-sm text-red-500 whitespace-pre-wrap",children:e.ganji}),e.memo&&b.jsxs("div",{className:"text-sm whitespace-pre-wrap text-neutral-800 dark:text-neutral-200",children:[b.jsx("p",{className:"mb-1 font-semibold",children:""}),e.memo]})]})}function hde({children:e}){const t=ba(),[n,r]=w.useState(!1),i=[{label:" ",href:"/admin/dashboard"},{label:"  ",href:"/admin/user"},{label:"  ",href:"/admin/logs"}];return b.jsxs("div",{className:"flex min-h-screen bg-neutral-950 text-white",children:[b.jsxs("aside",{className:`
          fixed top-0 left-0 h-full bg-neutral-900 border-r border-neutral-800 
          transition-all z-50

          desk:w-60 desk:translate-x-0
          ${n?"w-60 translate-x-0":"-translate-x-full"}
        `,children:[b.jsxs("div",{className:"p-4 font-bold text-lg flex items-center justify-between",children:[b.jsx("span",{className:"desk:block hidden",children:""}),b.jsx("button",{className:"desk:hidden text-neutral-400 hover:text-white",onClick:()=>r(!1),children:""})]}),b.jsx("nav",{className:"mt-4 flex flex-col gap-1 px-2",children:i.map(a=>{const o=t.pathname.startsWith(a.href);return b.jsx("a",{href:a.href,className:`
                  block px-3 py-2 rounded-md text-sm
                  ${o?"bg-neutral-800 text-yellow-400":"text-neutral-300 hover:bg-neutral-800"}
                `,children:a.label},a.href)})})]}),b.jsxs("main",{className:"flex-1 flex flex-col desk:ml-60",children:[b.jsxs("header",{className:"h-14 border-b border-neutral-800 bg-neutral-900 flex items-center px-4 justify-between",children:[b.jsx("button",{className:"desk:hidden text-neutral-300",onClick:()=>r(!0),children:""}),b.jsx("div",{className:"font-semibold",children:" "}),b.jsx("button",{className:"text-sm text-neutral-400 hover:text-white cursor-pointer",onClick:()=>window.location.href="/",children:" "})]}),b.jsx("div",{className:"flex-1",children:e})]})]})}function mde(){const[e,t]=w.useState(null),[n,r]=w.useState(!0);return w.useEffect(()=>{(async()=>{const{data:a}=await Me.auth.getUser(),o=a.user?.id;if(!o){t(null),r(!1);return}const{data:l}=await Me.from("admin_roles").select("role").eq("user_id",o).maybeSingle();t(l?.role??null),r(!1)})()},[]),{role:e,loading:n}}function pde({allow:e,children:t}){const{role:n,loading:r}=mde();return r?b.jsx("div",{className:"text-white p-6",children:"Checking permission..."}):!n||!e.includes(n)?b.jsx("div",{className:"text-red-400 p-6",children:" ."}):b.jsx(b.Fragment,{children:t})}function L7(e){var t,n,r="";if(typeof e=="string"||typeof e=="number")r+=e;else if(typeof e=="object")if(Array.isArray(e)){var i=e.length;for(t=0;t<i;t++)e[t]&&(n=L7(e[t]))&&(r&&(r+=" "),r+=n)}else for(n in e)e[n]&&(r&&(r+=" "),r+=n);return r}function Qt(){for(var e,t,n=0,r="",i=arguments.length;n<i;n++)(e=arguments[n])&&(t=L7(e))&&(r&&(r+=" "),r+=t);return r}var gde=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"];function bA(e){if(typeof e!="string")return!1;var t=gde;return t.includes(e)}var yde=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],bde=new Set(yde);function I7(e){return typeof e!="string"?!1:bde.has(e)}function $7(e){return typeof e=="string"&&e.startsWith("data-")}function Ga(e){if(typeof e!="object"||e===null)return{};var t={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(I7(n)||$7(n))&&(t[n]=e[n]);return t}function Dv(e){if(e==null)return null;if(w.isValidElement(e)&&typeof e.props=="object"&&e.props!==null){var t=e.props;return Ga(t)}return typeof e=="object"&&!Array.isArray(e)?Ga(e):null}function ma(e){var t={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(I7(n)||$7(n)||bA(n))&&(t[n]=e[n]);return t}function vde(e){return e==null?null:w.isValidElement(e)?ma(e.props):typeof e=="object"&&!Array.isArray(e)?ma(e):null}var xde=["children","width","height","viewBox","className","style","title","desc"];function Kk(){return Kk=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Kk.apply(null,arguments)}function _de(e,t){if(e==null)return{};var n,r,i=wde(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function wde(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var B7=w.forwardRef((e,t)=>{var{children:n,width:r,height:i,viewBox:a,className:o,style:l,title:u,desc:f}=e,h=_de(e,xde),p=a||{width:r,height:i,x:0,y:0},g=Qt("recharts-surface",o);return w.createElement("svg",Kk({},ma(h),{className:g,width:r,height:i,style:l,viewBox:"".concat(p.x," ").concat(p.y," ").concat(p.width," ").concat(p.height),ref:t}),w.createElement("title",null,u),w.createElement("desc",null,f),n)}),Sde=["children","className"];function Wk(){return Wk=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Wk.apply(null,arguments)}function kde(e,t){if(e==null)return{};var n,r,i=Ede(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function Ede(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var ko=w.forwardRef((e,t)=>{var{children:n,className:r}=e,i=kde(e,Sde),a=Qt("recharts-layer",r);return w.createElement("g",Wk({className:a},ma(i),{ref:t}),n)}),Ade=w.createContext(null);function xn(e){return function(){return e}}const Vk=Math.PI,Zk=2*Vk,$c=1e-6,Tde=Zk-$c;function z7(e){this._+=e[0];for(let t=1,n=e.length;t<n;++t)this._+=arguments[t]+e[t]}function Ode(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return z7;const n=10**t;return function(r){this._+=r[0];for(let i=1,a=r.length;i<a;++i)this._+=Math.round(arguments[i]*n)/n+r[i]}}class jde{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?z7:Ode(t)}moveTo(t,n){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,n){this._append`L${this._x1=+t},${this._y1=+n}`}quadraticCurveTo(t,n,r,i){this._append`Q${+t},${+n},${this._x1=+r},${this._y1=+i}`}bezierCurveTo(t,n,r,i,a,o){this._append`C${+t},${+n},${+r},${+i},${this._x1=+a},${this._y1=+o}`}arcTo(t,n,r,i,a){if(t=+t,n=+n,r=+r,i=+i,a=+a,a<0)throw new Error(`negative radius: ${a}`);let o=this._x1,l=this._y1,u=r-t,f=i-n,h=o-t,p=l-n,g=h*h+p*p;if(this._x1===null)this._append`M${this._x1=t},${this._y1=n}`;else if(g>$c)if(!(Math.abs(p*u-f*h)>$c)||!a)this._append`L${this._x1=t},${this._y1=n}`;else{let x=r-o,S=i-l,_=u*u+f*f,k=x*x+S*S,T=Math.sqrt(_),N=Math.sqrt(g),O=a*Math.tan((Vk-Math.acos((_+g-k)/(2*T*N)))/2),P=O/N,C=O/T;Math.abs(P-1)>$c&&this._append`L${t+P*h},${n+P*p}`,this._append`A${a},${a},0,0,${+(p*x>h*S)},${this._x1=t+C*u},${this._y1=n+C*f}`}}arc(t,n,r,i,a,o){if(t=+t,n=+n,r=+r,o=!!o,r<0)throw new Error(`negative radius: ${r}`);let l=r*Math.cos(i),u=r*Math.sin(i),f=t+l,h=n+u,p=1^o,g=o?i-a:a-i;this._x1===null?this._append`M${f},${h}`:(Math.abs(this._x1-f)>$c||Math.abs(this._y1-h)>$c)&&this._append`L${f},${h}`,r&&(g<0&&(g=g%Zk+Zk),g>Tde?this._append`A${r},${r},0,1,${p},${t-l},${n-u}A${r},${r},0,1,${p},${this._x1=f},${this._y1=h}`:g>$c&&this._append`A${r},${r},0,${+(g>=Vk)},${p},${this._x1=t+r*Math.cos(a)},${this._y1=n+r*Math.sin(a)}`)}rect(t,n,r,i){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+n}h${r=+r}v${+i}h${-r}Z`}toString(){return this._}}function U7(e){let t=3;return e.digits=function(n){if(!arguments.length)return t;if(n==null)t=null;else{const r=Math.floor(n);if(!(r>=0))throw new RangeError(`invalid digits: ${n}`);t=r}return e},()=>new jde(t)}function vA(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function F7(e){this._context=e}F7.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}};function Rv(e){return new F7(e)}function H7(e){return e[0]}function G7(e){return e[1]}function q7(e,t){var n=xn(!0),r=null,i=Rv,a=null,o=U7(l);e=typeof e=="function"?e:e===void 0?H7:xn(e),t=typeof t=="function"?t:t===void 0?G7:xn(t);function l(u){var f,h=(u=vA(u)).length,p,g=!1,x;for(r==null&&(a=i(x=o())),f=0;f<=h;++f)!(f<h&&n(p=u[f],f,u))===g&&((g=!g)?a.lineStart():a.lineEnd()),g&&a.point(+e(p,f,u),+t(p,f,u));if(x)return a=null,x+""||null}return l.x=function(u){return arguments.length?(e=typeof u=="function"?u:xn(+u),l):e},l.y=function(u){return arguments.length?(t=typeof u=="function"?u:xn(+u),l):t},l.defined=function(u){return arguments.length?(n=typeof u=="function"?u:xn(!!u),l):n},l.curve=function(u){return arguments.length?(i=u,r!=null&&(a=i(r)),l):i},l.context=function(u){return arguments.length?(u==null?r=a=null:a=i(r=u),l):r},l}function z0(e,t,n){var r=null,i=xn(!0),a=null,o=Rv,l=null,u=U7(f);e=typeof e=="function"?e:e===void 0?H7:xn(+e),t=typeof t=="function"?t:xn(t===void 0?0:+t),n=typeof n=="function"?n:n===void 0?G7:xn(+n);function f(p){var g,x,S,_=(p=vA(p)).length,k,T=!1,N,O=new Array(_),P=new Array(_);for(a==null&&(l=o(N=u())),g=0;g<=_;++g){if(!(g<_&&i(k=p[g],g,p))===T)if(T=!T)x=g,l.areaStart(),l.lineStart();else{for(l.lineEnd(),l.lineStart(),S=g-1;S>=x;--S)l.point(O[S],P[S]);l.lineEnd(),l.areaEnd()}T&&(O[g]=+e(k,g,p),P[g]=+t(k,g,p),l.point(r?+r(k,g,p):O[g],n?+n(k,g,p):P[g]))}if(N)return l=null,N+""||null}function h(){return q7().defined(i).curve(o).context(a)}return f.x=function(p){return arguments.length?(e=typeof p=="function"?p:xn(+p),r=null,f):e},f.x0=function(p){return arguments.length?(e=typeof p=="function"?p:xn(+p),f):e},f.x1=function(p){return arguments.length?(r=p==null?null:typeof p=="function"?p:xn(+p),f):r},f.y=function(p){return arguments.length?(t=typeof p=="function"?p:xn(+p),n=null,f):t},f.y0=function(p){return arguments.length?(t=typeof p=="function"?p:xn(+p),f):t},f.y1=function(p){return arguments.length?(n=p==null?null:typeof p=="function"?p:xn(+p),f):n},f.lineX0=f.lineY0=function(){return h().x(e).y(t)},f.lineY1=function(){return h().x(e).y(n)},f.lineX1=function(){return h().x(r).y(t)},f.defined=function(p){return arguments.length?(i=typeof p=="function"?p:xn(!!p),f):i},f.curve=function(p){return arguments.length?(o=p,a!=null&&(l=o(a)),f):o},f.context=function(p){return arguments.length?(p==null?a=l=null:l=o(a=p),f):a},f}class Y7{constructor(t,n){this._context=t,this._x=n}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(t,n){switch(t=+t,n=+n,this._point){case 0:{this._point=1,this._line?this._context.lineTo(t,n):this._context.moveTo(t,n);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+t)/2,this._y0,this._x0,n,t,n):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+n)/2,t,this._y0,t,n);break}}this._x0=t,this._y0=n}}function Nde(e){return new Y7(e,!0)}function Cde(e){return new Y7(e,!1)}function db(){}function fb(e,t,n){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+n)/6)}function K7(e){this._context=e}K7.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:fb(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:fb(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function Mde(e){return new K7(e)}function W7(e){this._context=e}W7.prototype={areaStart:db,areaEnd:db,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:fb(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function Pde(e){return new W7(e)}function V7(e){this._context=e}V7.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+e)/6,r=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(n,r):this._context.moveTo(n,r);break;case 3:this._point=4;default:fb(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function Dde(e){return new V7(e)}function Z7(e){this._context=e}Z7.prototype={areaStart:db,areaEnd:db,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}};function Rde(e){return new Z7(e)}function xD(e){return e<0?-1:1}function _D(e,t,n){var r=e._x1-e._x0,i=t-e._x1,a=(e._y1-e._y0)/(r||i<0&&-0),o=(n-e._y1)/(i||r<0&&-0),l=(a*i+o*r)/(r+i);return(xD(a)+xD(o))*Math.min(Math.abs(a),Math.abs(o),.5*Math.abs(l))||0}function wD(e,t){var n=e._x1-e._x0;return n?(3*(e._y1-e._y0)/n-t)/2:t}function h1(e,t,n){var r=e._x0,i=e._y0,a=e._x1,o=e._y1,l=(a-r)/3;e._context.bezierCurveTo(r+l,i+l*t,a-l,o-l*n,a,o)}function hb(e){this._context=e}hb.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:h1(this,this._t0,wD(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var n=NaN;if(e=+e,t=+t,!(e===this._x1&&t===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,h1(this,wD(this,n=_D(this,e,t)),n);break;default:h1(this,this._t0,n=_D(this,e,t));break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=n}}};function X7(e){this._context=new J7(e)}(X7.prototype=Object.create(hb.prototype)).point=function(e,t){hb.prototype.point.call(this,t,e)};function J7(e){this._context=e}J7.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,n,r,i,a){this._context.bezierCurveTo(t,e,r,n,a,i)}};function Lde(e){return new hb(e)}function Ide(e){return new X7(e)}function Q7(e){this._context=e}Q7.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,n=e.length;if(n)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),n===2)this._context.lineTo(e[1],t[1]);else for(var r=SD(e),i=SD(t),a=0,o=1;o<n;++a,++o)this._context.bezierCurveTo(r[0][a],i[0][a],r[1][a],i[1][a],e[o],t[o]);(this._line||this._line!==0&&n===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}};function SD(e){var t,n=e.length-1,r,i=new Array(n),a=new Array(n),o=new Array(n);for(i[0]=0,a[0]=2,o[0]=e[0]+2*e[1],t=1;t<n-1;++t)i[t]=1,a[t]=4,o[t]=4*e[t]+2*e[t+1];for(i[n-1]=2,a[n-1]=7,o[n-1]=8*e[n-1]+e[n],t=1;t<n;++t)r=i[t]/a[t-1],a[t]-=r,o[t]-=r*o[t-1];for(i[n-1]=o[n-1]/a[n-1],t=n-2;t>=0;--t)i[t]=(o[t]-i[t+1])/a[t];for(a[n-1]=(e[n]+i[n-1])/2,t=0;t<n-1;++t)a[t]=2*e[t+1]-i[t+1];return[i,a]}function $de(e){return new Q7(e)}function Lv(e,t){this._context=e,this._t=t}Lv.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var n=this._x*(1-this._t)+e*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,t)}break}}this._x=e,this._y=t}};function Bde(e){return new Lv(e,.5)}function zde(e){return new Lv(e,0)}function Ude(e){return new Lv(e,1)}function Vd(e,t){if((o=e.length)>1)for(var n=1,r,i,a=e[t[0]],o,l=a.length;n<o;++n)for(i=a,a=e[t[n]],r=0;r<l;++r)a[r][1]+=a[r][0]=isNaN(i[r][1])?i[r][0]:i[r][1]}function Xk(e){for(var t=e.length,n=new Array(t);--t>=0;)n[t]=t;return n}function Fde(e,t){return e[t]}function Hde(e){const t=[];return t.key=e,t}function Gde(){var e=xn([]),t=Xk,n=Vd,r=Fde;function i(a){var o=Array.from(e.apply(this,arguments),Hde),l,u=o.length,f=-1,h;for(const p of a)for(l=0,++f;l<u;++l)(o[l][f]=[0,+r(p,o[l].key,f,a)]).data=p;for(l=0,h=vA(t(o));l<u;++l)o[h[l]].index=l;return n(o,h),o}return i.keys=function(a){return arguments.length?(e=typeof a=="function"?a:xn(Array.from(a)),i):e},i.value=function(a){return arguments.length?(r=typeof a=="function"?a:xn(+a),i):r},i.order=function(a){return arguments.length?(t=a==null?Xk:typeof a=="function"?a:xn(Array.from(a)),i):t},i.offset=function(a){return arguments.length?(n=a??Vd,i):n},i}function qde(e,t){if((r=e.length)>0){for(var n,r,i=0,a=e[0].length,o;i<a;++i){for(o=n=0;n<r;++n)o+=e[n][i][1]||0;if(o)for(n=0;n<r;++n)e[n][i][1]/=o}Vd(e,t)}}function Yde(e,t){if((i=e.length)>0){for(var n=0,r=e[t[0]],i,a=r.length;n<a;++n){for(var o=0,l=0;o<i;++o)l+=e[o][n][1]||0;r[n][1]+=r[n][0]=-l/2}Vd(e,t)}}function Kde(e,t){if(!(!((o=e.length)>0)||!((a=(i=e[t[0]]).length)>0))){for(var n=0,r=1,i,a,o;r<a;++r){for(var l=0,u=0,f=0;l<o;++l){for(var h=e[t[l]],p=h[r][1]||0,g=h[r-1][1]||0,x=(p-g)/2,S=0;S<l;++S){var _=e[t[S]],k=_[r][1]||0,T=_[r-1][1]||0;x+=k-T}u+=p,f+=x*p}i[r-1][1]+=i[r-1][0]=n,u&&(n-=f/u)}i[r-1][1]+=i[r-1][0]=n,Vd(e,t)}}var m1={},p1={},kD;function Wde(){return kD||(kD=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return n==="__proto__"}e.isUnsafeProperty=t})(p1)),p1}var g1={},ED;function e6(){return ED||(ED=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){switch(typeof n){case"number":case"symbol":return!1;case"string":return n.includes(".")||n.includes("[")||n.includes("]")}}e.isDeepKey=t})(g1)),g1}var y1={},AD;function xA(){return AD||(AD=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return typeof n=="string"||typeof n=="symbol"?n:Object.is(n?.valueOf?.(),-0)?"-0":String(n)}e.toKey=t})(y1)),y1}var b1={},v1={},TD;function Vde(){return TD||(TD=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){if(n==null)return"";if(typeof n=="string")return n;if(Array.isArray(n))return n.map(t).join(",");const r=String(n);return r==="0"&&Object.is(Number(n),-0)?"-0":r}e.toString=t})(v1)),v1}var OD;function _A(){return OD||(OD=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Vde(),n=xA();function r(i){if(Array.isArray(i))return i.map(n.toKey);if(typeof i=="symbol")return[i];i=t.toString(i);const a=[],o=i.length;if(o===0)return a;let l=0,u="",f="",h=!1;for(i.charCodeAt(0)===46&&(a.push(""),l++);l<o;){const p=i[l];f?p==="\\"&&l+1<o?(l++,u+=i[l]):p===f?f="":u+=p:h?p==='"'||p==="'"?f=p:p==="]"?(h=!1,a.push(u),u=""):u+=p:p==="["?(h=!0,u&&(a.push(u),u="")):p==="."?u&&(a.push(u),u=""):u+=p,l++}return u&&a.push(u),a}e.toPath=r})(b1)),b1}var jD;function wA(){return jD||(jD=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Wde(),n=e6(),r=xA(),i=_A();function a(l,u,f){if(l==null)return f;switch(typeof u){case"string":{if(t.isUnsafeProperty(u))return f;const h=l[u];return h===void 0?n.isDeepKey(u)?a(l,i.toPath(u),f):f:h}case"number":case"symbol":{typeof u=="number"&&(u=r.toKey(u));const h=l[u];return h===void 0?f:h}default:{if(Array.isArray(u))return o(l,u,f);if(Object.is(u?.valueOf(),-0)?u="-0":u=String(u),t.isUnsafeProperty(u))return f;const h=l[u];return h===void 0?f:h}}}function o(l,u,f){if(u.length===0)return f;let h=l;for(let p=0;p<u.length;p++){if(h==null||t.isUnsafeProperty(u[p]))return f;h=h[u[p]]}return h===void 0?f:h}e.get=a})(m1)),m1}var x1,ND;function Zde(){return ND||(ND=1,x1=wA().get),x1}var Xde=Zde();const Iv=fi(Xde);var ca=e=>e===0?0:e>0?1:-1,qa=e=>typeof e=="number"&&e!=+e,bs=e=>typeof e=="string"&&e.indexOf("%")===e.length-1,We=e=>(typeof e=="number"||e instanceof Number)&&!qa(e),Eo=e=>We(e)||typeof e=="string",Jde=0,Cm=e=>{var t=++Jde;return"".concat(e||"").concat(t)},Ml=function(t,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!We(t)&&typeof t!="string")return r;var a;if(bs(t)){if(n==null)return r;var o=t.indexOf("%");a=n*parseFloat(t.slice(0,o))/100}else a=+t;return qa(a)&&(a=r),i&&n!=null&&a>n&&(a=n),a},t6=e=>{if(!Array.isArray(e))return!1;for(var t=e.length,n={},r=0;r<t;r++)if(!n[e[r]])n[e[r]]=!0;else return!0;return!1};function bo(e,t,n){return We(e)&&We(t)?e+n*(t-e):t}function n6(e,t,n){if(!(!e||!e.length))return e.find(r=>r&&(typeof t=="function"?t(r):Iv(r,t))===n)}var xr=e=>e===null||typeof e>"u",SA=e=>xr(e)?e:"".concat(e.charAt(0).toUpperCase()).concat(e.slice(1));function Qde(e){return e!=null}function up(){}var r6=e=>"radius"in e&&"startAngle"in e&&"endAngle"in e,kA=(e,t)=>{if(!e||typeof e=="function"||typeof e=="boolean")return null;var n=e;if(w.isValidElement(e)&&(n=e.props),typeof n!="object"&&typeof n!="function")return null;var r={};return Object.keys(n).forEach(i=>{bA(i)&&(r[i]=(a=>n[i](n,a)))}),r},efe=(e,t,n)=>r=>(e(t,n,r),null),tfe=(e,t,n)=>{if(e===null||typeof e!="object"&&typeof e!="function")return null;var r=null;return Object.keys(e).forEach(i=>{var a=e[i];bA(i)&&typeof a=="function"&&(r||(r={}),r[i]=efe(a,t,n))}),r};function CD(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function nfe(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?CD(Object(n),!0).forEach(function(r){rfe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):CD(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function rfe(e,t,n){return(t=ife(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ife(e){var t=afe(e,"string");return typeof t=="symbol"?t:t+""}function afe(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Gi(e,t){var n=nfe({},e),r=t,i=Object.keys(t),a=i.reduce((o,l)=>(o[l]===void 0&&r[l]!==void 0&&(o[l]=r[l]),o),n);return a}var _1={},w1={},MD;function ofe(){return MD||(MD=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n,r){const i=new Map;for(let a=0;a<n.length;a++){const o=n[a],l=r(o);i.has(l)||i.set(l,o)}return Array.from(i.values())}e.uniqBy=t})(w1)),w1}var S1={},PD;function i6(){return PD||(PD=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return n}e.identity=t})(S1)),S1}var k1={},E1={},A1={},DD;function sfe(){return DD||(DD=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return Number.isSafeInteger(n)&&n>=0}e.isLength=t})(A1)),A1}var RD;function EA(){return RD||(RD=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=sfe();function n(r){return r!=null&&typeof r!="function"&&t.isLength(r.length)}e.isArrayLike=n})(E1)),E1}var T1={},LD;function lfe(){return LD||(LD=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return typeof n=="object"&&n!==null}e.isObjectLike=t})(T1)),T1}var ID;function cfe(){return ID||(ID=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=EA(),n=lfe();function r(i){return n.isObjectLike(i)&&t.isArrayLike(i)}e.isArrayLikeObject=r})(k1)),k1}var O1={},j1={},$D;function ufe(){return $D||($D=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=wA();function n(r){return function(i){return t.get(i,r)}}e.property=n})(j1)),j1}var N1={},C1={},M1={},P1={},BD;function a6(){return BD||(BD=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return n!==null&&(typeof n=="object"||typeof n=="function")}e.isObject=t})(P1)),P1}var D1={},zD;function o6(){return zD||(zD=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return n==null||typeof n!="object"&&typeof n!="function"}e.isPrimitive=t})(D1)),D1}var R1={},UD;function s6(){return UD||(UD=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n,r){return n===r||Number.isNaN(n)&&Number.isNaN(r)}e.eq=t})(R1)),R1}var FD;function dfe(){return FD||(FD=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=a6(),n=o6(),r=s6();function i(h,p,g){return typeof g!="function"?i(h,p,()=>{}):a(h,p,function x(S,_,k,T,N,O){const P=g(S,_,k,T,N,O);return P!==void 0?!!P:a(S,_,x,O)},new Map)}function a(h,p,g,x){if(p===h)return!0;switch(typeof p){case"object":return o(h,p,g,x);case"function":return Object.keys(p).length>0?a(h,{...p},g,x):r.eq(h,p);default:return t.isObject(h)?typeof p=="string"?p==="":!0:r.eq(h,p)}}function o(h,p,g,x){if(p==null)return!0;if(Array.isArray(p))return u(h,p,g,x);if(p instanceof Map)return l(h,p,g,x);if(p instanceof Set)return f(h,p,g,x);const S=Object.keys(p);if(h==null)return S.length===0;if(S.length===0)return!0;if(x?.has(p))return x.get(p)===h;x?.set(p,h);try{for(let _=0;_<S.length;_++){const k=S[_];if(!n.isPrimitive(h)&&!(k in h)||p[k]===void 0&&h[k]!==void 0||p[k]===null&&h[k]!==null||!g(h[k],p[k],k,h,p,x))return!1}return!0}finally{x?.delete(p)}}function l(h,p,g,x){if(p.size===0)return!0;if(!(h instanceof Map))return!1;for(const[S,_]of p.entries()){const k=h.get(S);if(g(k,_,S,h,p,x)===!1)return!1}return!0}function u(h,p,g,x){if(p.length===0)return!0;if(!Array.isArray(h))return!1;const S=new Set;for(let _=0;_<p.length;_++){const k=p[_];let T=!1;for(let N=0;N<h.length;N++){if(S.has(N))continue;const O=h[N];let P=!1;if(g(O,k,_,h,p,x)&&(P=!0),P){S.add(N),T=!0;break}}if(!T)return!1}return!0}function f(h,p,g,x){return p.size===0?!0:h instanceof Set?u([...h],[...p],g,x):!1}e.isMatchWith=i,e.isSetMatch=f})(M1)),M1}var HD;function l6(){return HD||(HD=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=dfe();function n(r,i){return t.isMatchWith(r,i,()=>{})}e.isMatch=n})(C1)),C1}var L1={},I1={},$1={},GD;function ffe(){return GD||(GD=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return Object.getOwnPropertySymbols(n).filter(r=>Object.prototype.propertyIsEnumerable.call(n,r))}e.getSymbols=t})($1)),$1}var B1={},qD;function c6(){return qD||(qD=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return n==null?n===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(n)}e.getTag=t})(B1)),B1}var z1={},YD;function u6(){return YD||(YD=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t="[object RegExp]",n="[object String]",r="[object Number]",i="[object Boolean]",a="[object Arguments]",o="[object Symbol]",l="[object Date]",u="[object Map]",f="[object Set]",h="[object Array]",p="[object Function]",g="[object ArrayBuffer]",x="[object Object]",S="[object Error]",_="[object DataView]",k="[object Uint8Array]",T="[object Uint8ClampedArray]",N="[object Uint16Array]",O="[object Uint32Array]",P="[object BigUint64Array]",C="[object Int8Array]",D="[object Int16Array]",$="[object Int32Array]",H="[object BigInt64Array]",q="[object Float32Array]",K="[object Float64Array]";e.argumentsTag=a,e.arrayBufferTag=g,e.arrayTag=h,e.bigInt64ArrayTag=H,e.bigUint64ArrayTag=P,e.booleanTag=i,e.dataViewTag=_,e.dateTag=l,e.errorTag=S,e.float32ArrayTag=q,e.float64ArrayTag=K,e.functionTag=p,e.int16ArrayTag=D,e.int32ArrayTag=$,e.int8ArrayTag=C,e.mapTag=u,e.numberTag=r,e.objectTag=x,e.regexpTag=t,e.setTag=f,e.stringTag=n,e.symbolTag=o,e.uint16ArrayTag=N,e.uint32ArrayTag=O,e.uint8ArrayTag=k,e.uint8ClampedArrayTag=T})(z1)),z1}var U1={},KD;function hfe(){return KD||(KD=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return ArrayBuffer.isView(n)&&!(n instanceof DataView)}e.isTypedArray=t})(U1)),U1}var WD;function d6(){return WD||(WD=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=ffe(),n=c6(),r=u6(),i=o6(),a=hfe();function o(h,p){return l(h,void 0,h,new Map,p)}function l(h,p,g,x=new Map,S=void 0){const _=S?.(h,p,g,x);if(_!==void 0)return _;if(i.isPrimitive(h))return h;if(x.has(h))return x.get(h);if(Array.isArray(h)){const k=new Array(h.length);x.set(h,k);for(let T=0;T<h.length;T++)k[T]=l(h[T],T,g,x,S);return Object.hasOwn(h,"index")&&(k.index=h.index),Object.hasOwn(h,"input")&&(k.input=h.input),k}if(h instanceof Date)return new Date(h.getTime());if(h instanceof RegExp){const k=new RegExp(h.source,h.flags);return k.lastIndex=h.lastIndex,k}if(h instanceof Map){const k=new Map;x.set(h,k);for(const[T,N]of h)k.set(T,l(N,T,g,x,S));return k}if(h instanceof Set){const k=new Set;x.set(h,k);for(const T of h)k.add(l(T,void 0,g,x,S));return k}if(typeof Buffer<"u"&&Buffer.isBuffer(h))return h.subarray();if(a.isTypedArray(h)){const k=new(Object.getPrototypeOf(h)).constructor(h.length);x.set(h,k);for(let T=0;T<h.length;T++)k[T]=l(h[T],T,g,x,S);return k}if(h instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&h instanceof SharedArrayBuffer)return h.slice(0);if(h instanceof DataView){const k=new DataView(h.buffer.slice(0),h.byteOffset,h.byteLength);return x.set(h,k),u(k,h,g,x,S),k}if(typeof File<"u"&&h instanceof File){const k=new File([h],h.name,{type:h.type});return x.set(h,k),u(k,h,g,x,S),k}if(typeof Blob<"u"&&h instanceof Blob){const k=new Blob([h],{type:h.type});return x.set(h,k),u(k,h,g,x,S),k}if(h instanceof Error){const k=new h.constructor;return x.set(h,k),k.message=h.message,k.name=h.name,k.stack=h.stack,k.cause=h.cause,u(k,h,g,x,S),k}if(h instanceof Boolean){const k=new Boolean(h.valueOf());return x.set(h,k),u(k,h,g,x,S),k}if(h instanceof Number){const k=new Number(h.valueOf());return x.set(h,k),u(k,h,g,x,S),k}if(h instanceof String){const k=new String(h.valueOf());return x.set(h,k),u(k,h,g,x,S),k}if(typeof h=="object"&&f(h)){const k=Object.create(Object.getPrototypeOf(h));return x.set(h,k),u(k,h,g,x,S),k}return h}function u(h,p,g=h,x,S){const _=[...Object.keys(p),...t.getSymbols(p)];for(let k=0;k<_.length;k++){const T=_[k],N=Object.getOwnPropertyDescriptor(h,T);(N==null||N.writable)&&(h[T]=l(p[T],T,g,x,S))}}function f(h){switch(n.getTag(h)){case r.argumentsTag:case r.arrayTag:case r.arrayBufferTag:case r.dataViewTag:case r.booleanTag:case r.dateTag:case r.float32ArrayTag:case r.float64ArrayTag:case r.int8ArrayTag:case r.int16ArrayTag:case r.int32ArrayTag:case r.mapTag:case r.numberTag:case r.objectTag:case r.regexpTag:case r.setTag:case r.stringTag:case r.symbolTag:case r.uint8ArrayTag:case r.uint8ClampedArrayTag:case r.uint16ArrayTag:case r.uint32ArrayTag:return!0;default:return!1}}e.cloneDeepWith=o,e.cloneDeepWithImpl=l,e.copyProperties=u})(I1)),I1}var VD;function mfe(){return VD||(VD=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=d6();function n(r){return t.cloneDeepWithImpl(r,void 0,r,new Map,void 0)}e.cloneDeep=n})(L1)),L1}var ZD;function pfe(){return ZD||(ZD=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=l6(),n=mfe();function r(i){return i=n.cloneDeep(i),a=>t.isMatch(a,i)}e.matches=r})(N1)),N1}var F1={},H1={},G1={},XD;function gfe(){return XD||(XD=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=d6(),n=u6();function r(i,a){return t.cloneDeepWith(i,(o,l,u,f)=>{const h=a?.(o,l,u,f);if(h!==void 0)return h;if(typeof i=="object")switch(Object.prototype.toString.call(i)){case n.numberTag:case n.stringTag:case n.booleanTag:{const p=new i.constructor(i?.valueOf());return t.copyProperties(p,i),p}case n.argumentsTag:{const p={};return t.copyProperties(p,i),p.length=i.length,p[Symbol.iterator]=i[Symbol.iterator],p}default:return}})}e.cloneDeepWith=r})(G1)),G1}var JD;function yfe(){return JD||(JD=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=gfe();function n(r){return t.cloneDeepWith(r)}e.cloneDeep=n})(H1)),H1}var q1={},Y1={},QD;function f6(){return QD||(QD=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=/^(?:0|[1-9]\d*)$/;function n(r,i=Number.MAX_SAFE_INTEGER){switch(typeof r){case"number":return Number.isInteger(r)&&r>=0&&r<i;case"symbol":return!1;case"string":return t.test(r)}}e.isIndex=n})(Y1)),Y1}var K1={},eR;function bfe(){return eR||(eR=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=c6();function n(r){return r!==null&&typeof r=="object"&&t.getTag(r)==="[object Arguments]"}e.isArguments=n})(K1)),K1}var tR;function vfe(){return tR||(tR=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=e6(),n=f6(),r=bfe(),i=_A();function a(o,l){let u;if(Array.isArray(l)?u=l:typeof l=="string"&&t.isDeepKey(l)&&o?.[l]==null?u=i.toPath(l):u=[l],u.length===0)return!1;let f=o;for(let h=0;h<u.length;h++){const p=u[h];if((f==null||!Object.hasOwn(f,p))&&!((Array.isArray(f)||r.isArguments(f))&&n.isIndex(p)&&p<f.length))return!1;f=f[p]}return!0}e.has=a})(q1)),q1}var nR;function xfe(){return nR||(nR=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=l6(),n=xA(),r=yfe(),i=wA(),a=vfe();function o(l,u){switch(typeof l){case"object":{Object.is(l?.valueOf(),-0)&&(l="-0");break}case"number":{l=n.toKey(l);break}}return u=r.cloneDeep(u),function(f){const h=i.get(f,l);return h===void 0?a.has(f,l):u===void 0?h===void 0:t.isMatch(h,u)}}e.matchesProperty=o})(F1)),F1}var rR;function _fe(){return rR||(rR=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=i6(),n=ufe(),r=pfe(),i=xfe();function a(o){if(o==null)return t.identity;switch(typeof o){case"function":return o;case"object":return Array.isArray(o)&&o.length===2?i.matchesProperty(o[0],o[1]):r.matches(o);case"string":case"symbol":case"number":return n.property(o)}}e.iteratee=a})(O1)),O1}var iR;function wfe(){return iR||(iR=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=ofe(),n=i6(),r=cfe(),i=_fe();function a(o,l=n.identity){return r.isArrayLikeObject(o)?t.uniqBy(Array.from(o),i.iteratee(l)):[]}e.uniqBy=a})(_1)),_1}var W1,aR;function Sfe(){return aR||(aR=1,W1=wfe().uniqBy),W1}var kfe=Sfe();const oR=fi(kfe);function Efe(e,t,n){return t===!0?oR(e,n):typeof t=="function"?oR(e,t):e}var V1={exports:{}},Z1={},X1={exports:{}},J1={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var sR;function Afe(){if(sR)return J1;sR=1;var e=nf();function t(p,g){return p===g&&(p!==0||1/p===1/g)||p!==p&&g!==g}var n=typeof Object.is=="function"?Object.is:t,r=e.useState,i=e.useEffect,a=e.useLayoutEffect,o=e.useDebugValue;function l(p,g){var x=g(),S=r({inst:{value:x,getSnapshot:g}}),_=S[0].inst,k=S[1];return a(function(){_.value=x,_.getSnapshot=g,u(_)&&k({inst:_})},[p,x,g]),i(function(){return u(_)&&k({inst:_}),p(function(){u(_)&&k({inst:_})})},[p]),o(x),x}function u(p){var g=p.getSnapshot;p=p.value;try{var x=g();return!n(p,x)}catch{return!0}}function f(p,g){return g()}var h=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?f:l;return J1.useSyncExternalStore=e.useSyncExternalStore!==void 0?e.useSyncExternalStore:h,J1}var lR;function Tfe(){return lR||(lR=1,X1.exports=Afe()),X1.exports}/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var cR;function Ofe(){if(cR)return Z1;cR=1;var e=nf(),t=Tfe();function n(f,h){return f===h&&(f!==0||1/f===1/h)||f!==f&&h!==h}var r=typeof Object.is=="function"?Object.is:n,i=t.useSyncExternalStore,a=e.useRef,o=e.useEffect,l=e.useMemo,u=e.useDebugValue;return Z1.useSyncExternalStoreWithSelector=function(f,h,p,g,x){var S=a(null);if(S.current===null){var _={hasValue:!1,value:null};S.current=_}else _=S.current;S=l(function(){function T(D){if(!N){if(N=!0,O=D,D=g(D),x!==void 0&&_.hasValue){var $=_.value;if(x($,D))return P=$}return P=D}if($=P,r(O,D))return $;var H=g(D);return x!==void 0&&x($,H)?(O=D,$):(O=D,P=H)}var N=!1,O,P,C=p===void 0?null:p;return[function(){return T(h())},C===null?void 0:function(){return T(C())}]},[h,p,g,x]);var k=i(f,S[0],S[1]);return o(function(){_.hasValue=!0,_.value=k},[k]),u(k),k},Z1}var uR;function jfe(){return uR||(uR=1,V1.exports=Ofe()),V1.exports}var Nfe=jfe(),AA=w.createContext(null),Cfe=e=>e,cr=()=>{var e=w.useContext(AA);return e?e.store.dispatch:Cfe},vy=()=>{},Mfe=()=>vy,Pfe=(e,t)=>e===t;function Je(e){var t=w.useContext(AA);return Nfe.useSyncExternalStoreWithSelector(t?t.subscription.addNestedSub:Mfe,t?t.store.getState:vy,t?t.store.getState:vy,t?e:vy,Pfe)}function Dfe(e,t=`expected a function, instead received ${typeof e}`){if(typeof e!="function")throw new TypeError(t)}function Rfe(e,t=`expected an object, instead received ${typeof e}`){if(typeof e!="object")throw new TypeError(t)}function Lfe(e,t="expected all items to be functions, instead received the following types: "){if(!e.every(n=>typeof n=="function")){const n=e.map(r=>typeof r=="function"?`function ${r.name||"unnamed"}()`:typeof r).join(", ");throw new TypeError(`${t}[${n}]`)}}var dR=e=>Array.isArray(e)?e:[e];function Ife(e){const t=Array.isArray(e[0])?e[0]:e;return Lfe(t,"createSelector expects all input-selectors to be functions, but received the following types: "),t}function $fe(e,t){const n=[],{length:r}=e;for(let i=0;i<r;i++)n.push(e[i].apply(null,t));return n}var Bfe=class{constructor(e){this.value=e}deref(){return this.value}},zfe=typeof WeakRef<"u"?WeakRef:Bfe,Ufe=0,fR=1;function U0(){return{s:Ufe,v:void 0,o:null,p:null}}function h6(e,t={}){let n=U0();const{resultEqualityCheck:r}=t;let i,a=0;function o(){let l=n;const{length:u}=arguments;for(let p=0,g=u;p<g;p++){const x=arguments[p];if(typeof x=="function"||typeof x=="object"&&x!==null){let S=l.o;S===null&&(l.o=S=new WeakMap);const _=S.get(x);_===void 0?(l=U0(),S.set(x,l)):l=_}else{let S=l.p;S===null&&(l.p=S=new Map);const _=S.get(x);_===void 0?(l=U0(),S.set(x,l)):l=_}}const f=l;let h;if(l.s===fR)h=l.v;else if(h=e.apply(null,arguments),a++,r){const p=i?.deref?.()??i;p!=null&&r(p,h)&&(h=p,a!==0&&a--),i=typeof h=="object"&&h!==null||typeof h=="function"?new zfe(h):h}return f.s=fR,f.v=h,h}return o.clearCache=()=>{n=U0(),o.resetResultsCount()},o.resultsCount=()=>a,o.resetResultsCount=()=>{a=0},o}function Ffe(e,...t){const n=typeof e=="function"?{memoize:e,memoizeOptions:t}:e,r=(...i)=>{let a=0,o=0,l,u={},f=i.pop();typeof f=="object"&&(u=f,f=i.pop()),Dfe(f,`createSelector expects an output function after the inputs, but received: [${typeof f}]`);const h={...n,...u},{memoize:p,memoizeOptions:g=[],argsMemoize:x=h6,argsMemoizeOptions:S=[]}=h,_=dR(g),k=dR(S),T=Ife(i),N=p(function(){return a++,f.apply(null,arguments)},..._),O=x(function(){o++;const C=$fe(T,arguments);return l=N.apply(null,C),l},...k);return Object.assign(O,{resultFunc:f,memoizedResultFunc:N,dependencies:T,dependencyRecomputations:()=>o,resetDependencyRecomputations:()=>{o=0},lastResult:()=>l,recomputations:()=>a,resetRecomputations:()=>{a=0},memoize:p,argsMemoize:x})};return Object.assign(r,{withTypes:()=>r}),r}var we=Ffe(h6),Hfe=Object.assign((e,t=we)=>{Rfe(e,`createStructuredSelector expects first argument to be an object where each property is a selector, instead received a ${typeof e}`);const n=Object.keys(e),r=n.map(a=>e[a]);return t(r,(...a)=>a.reduce((o,l,u)=>(o[n[u]]=l,o),{}))},{withTypes:()=>Hfe}),Q1={},eS={},tS={},hR;function Gfe(){return hR||(hR=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return typeof r=="symbol"?1:r===null?2:r===void 0?3:r!==r?4:0}const n=(r,i,a)=>{if(r!==i){const o=t(r),l=t(i);if(o===l&&o===0){if(r<i)return a==="desc"?1:-1;if(r>i)return a==="desc"?-1:1}return a==="desc"?l-o:o-l}return 0};e.compareValues=n})(tS)),tS}var nS={},rS={},mR;function m6(){return mR||(mR=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return typeof n=="symbol"||n instanceof Symbol}e.isSymbol=t})(rS)),rS}var pR;function qfe(){return pR||(pR=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=m6(),n=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,r=/^\w*$/;function i(a,o){return Array.isArray(a)?!1:typeof a=="number"||typeof a=="boolean"||a==null||t.isSymbol(a)?!0:typeof a=="string"&&(r.test(a)||!n.test(a))||o!=null&&Object.hasOwn(o,a)}e.isKey=i})(nS)),nS}var gR;function Yfe(){return gR||(gR=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Gfe(),n=qfe(),r=_A();function i(a,o,l,u){if(a==null)return[];l=u?void 0:l,Array.isArray(a)||(a=Object.values(a)),Array.isArray(o)||(o=o==null?[null]:[o]),o.length===0&&(o=[null]),Array.isArray(l)||(l=l==null?[]:[l]),l=l.map(x=>String(x));const f=(x,S)=>{let _=x;for(let k=0;k<S.length&&_!=null;++k)_=_[S[k]];return _},h=(x,S)=>S==null||x==null?S:typeof x=="object"&&"key"in x?Object.hasOwn(S,x.key)?S[x.key]:f(S,x.path):typeof x=="function"?x(S):Array.isArray(x)?f(S,x):typeof S=="object"?S[x]:S,p=o.map(x=>(Array.isArray(x)&&x.length===1&&(x=x[0]),x==null||typeof x=="function"||Array.isArray(x)||n.isKey(x)?x:{key:x,path:r.toPath(x)}));return a.map(x=>({original:x,criteria:p.map(S=>h(S,x))})).slice().sort((x,S)=>{for(let _=0;_<p.length;_++){const k=t.compareValues(x.criteria[_],S.criteria[_],l[_]);if(k!==0)return k}return 0}).map(x=>x.original)}e.orderBy=i})(eS)),eS}var iS={},yR;function Kfe(){return yR||(yR=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n,r=1){const i=[],a=Math.floor(r),o=(l,u)=>{for(let f=0;f<l.length;f++){const h=l[f];Array.isArray(h)&&u<a?o(h,u+1):i.push(h)}};return o(n,0),i}e.flatten=t})(iS)),iS}var aS={},bR;function p6(){return bR||(bR=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=f6(),n=EA(),r=a6(),i=s6();function a(o,l,u){return r.isObject(u)&&(typeof l=="number"&&n.isArrayLike(u)&&t.isIndex(l)&&l<u.length||typeof l=="string"&&l in u)?i.eq(u[l],o):!1}e.isIterateeCall=a})(aS)),aS}var vR;function Wfe(){return vR||(vR=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Yfe(),n=Kfe(),r=p6();function i(a,...o){const l=o.length;return l>1&&r.isIterateeCall(a,o[0],o[1])?o=[]:l>2&&r.isIterateeCall(o[0],o[1],o[2])&&(o=[o[0]]),t.orderBy(a,n.flatten(o),["asc"])}e.sortBy=i})(Q1)),Q1}var oS,xR;function Vfe(){return xR||(xR=1,oS=Wfe().sortBy),oS}var Zfe=Vfe();const $v=fi(Zfe);var g6=e=>e.legend.settings,Xfe=e=>e.legend.size,Jfe=e=>e.legend.payload;we([Jfe,g6],(e,t)=>{var{itemSorter:n}=t,r=e.flat(1);return n?$v(r,n):r});var F0=1;function Qfe(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],[t,n]=w.useState({height:0,left:0,top:0,width:0}),r=w.useCallback(i=>{if(i!=null){var a=i.getBoundingClientRect(),o={height:a.height,left:a.left,top:a.top,width:a.width};(Math.abs(o.height-t.height)>F0||Math.abs(o.left-t.left)>F0||Math.abs(o.top-t.top)>F0||Math.abs(o.width-t.width)>F0)&&n({height:o.height,left:o.left,top:o.top,width:o.width})}},[t.width,t.height,t.top,t.left,...e]);return[t,r]}var y6=Symbol.for("immer-nothing"),_R=Symbol.for("immer-draftable"),Fr=Symbol.for("immer-state");function Ia(e,...t){throw new Error(`[Immer] minified error nr: ${e}. Full error at: https://bit.ly/3cXEKWf`)}var Li=Object,Zd=Li.getPrototypeOf,mb="constructor",Bv="prototype",Jk="configurable",pb="enumerable",xy="writable",Mm="value",vs=e=>!!e&&!!e[Fr];function Ya(e){return e?b6(e)||zv(e)||!!e[_R]||!!e[mb]?.[_R]||Uv(e)||Fv(e):!1}var ehe=Li[Bv][mb].toString(),wR=new WeakMap;function b6(e){if(!e||!TA(e))return!1;const t=Zd(e);if(t===null||t===Li[Bv])return!0;const n=Li.hasOwnProperty.call(t,mb)&&t[mb];if(n===Object)return!0;if(!vd(n))return!1;let r=wR.get(n);return r===void 0&&(r=Function.toString.call(n),wR.set(n,r)),r===ehe}function dp(e,t,n=!0){fp(e)===0?(n?Reflect.ownKeys(e):Li.keys(e)).forEach(i=>{t(i,e[i],e)}):e.forEach((r,i)=>t(i,r,e))}function fp(e){const t=e[Fr];return t?t.type_:zv(e)?1:Uv(e)?2:Fv(e)?3:0}var SR=(e,t,n=fp(e))=>n===2?e.has(t):Li[Bv].hasOwnProperty.call(e,t),Qk=(e,t,n=fp(e))=>n===2?e.get(t):e[t],gb=(e,t,n,r=fp(e))=>{r===2?e.set(t,n):r===3?e.add(n):e[t]=n};function the(e,t){return e===t?e!==0||1/e===1/t:e!==e&&t!==t}var zv=Array.isArray,Uv=e=>e instanceof Map,Fv=e=>e instanceof Set,TA=e=>typeof e=="object",vd=e=>typeof e=="function",sS=e=>typeof e=="boolean",as=e=>e.copy_||e.base_,OA=e=>e.modified_?e.copy_:e.base_;function eE(e,t){if(Uv(e))return new Map(e);if(Fv(e))return new Set(e);if(zv(e))return Array[Bv].slice.call(e);const n=b6(e);if(t===!0||t==="class_only"&&!n){const r=Li.getOwnPropertyDescriptors(e);delete r[Fr];let i=Reflect.ownKeys(r);for(let a=0;a<i.length;a++){const o=i[a],l=r[o];l[xy]===!1&&(l[xy]=!0,l[Jk]=!0),(l.get||l.set)&&(r[o]={[Jk]:!0,[xy]:!0,[pb]:l[pb],[Mm]:e[o]})}return Li.create(Zd(e),r)}else{const r=Zd(e);if(r!==null&&n)return{...e};const i=Li.create(r);return Li.assign(i,e)}}function jA(e,t=!1){return Hv(e)||vs(e)||!Ya(e)||(fp(e)>1&&Li.defineProperties(e,{set:H0,add:H0,clear:H0,delete:H0}),Li.freeze(e),t&&dp(e,(n,r)=>{jA(r,!0)},!1)),e}function nhe(){Ia(2)}var H0={[Mm]:nhe};function Hv(e){return e===null||!TA(e)?!0:Li.isFrozen(e)}var yb="MapSet",tE="Patches",v6={};function Xd(e){const t=v6[e];return t||Ia(0,e),t}var rhe=e=>!!v6[e],Pm,x6=()=>Pm,ihe=(e,t)=>({drafts_:[],parent_:e,immer_:t,canAutoFreeze_:!0,unfinalizedDrafts_:0,handledSet_:new Set,processedForPatches_:new Set,mapSetPlugin_:rhe(yb)?Xd(yb):void 0});function kR(e,t){t&&(e.patchPlugin_=Xd(tE),e.patches_=[],e.inversePatches_=[],e.patchListener_=t)}function nE(e){rE(e),e.drafts_.forEach(ahe),e.drafts_=null}function rE(e){e===Pm&&(Pm=e.parent_)}var ER=e=>Pm=ihe(Pm,e);function ahe(e){const t=e[Fr];t.type_===0||t.type_===1?t.revoke_():t.revoked_=!0}function AR(e,t){t.unfinalizedDrafts_=t.drafts_.length;const n=t.drafts_[0];if(e!==void 0&&e!==n){n[Fr].modified_&&(nE(t),Ia(4)),Ya(e)&&(e=TR(t,e));const{patchPlugin_:i}=t;i&&i.generateReplacementPatches_(n[Fr].base_,e,t)}else e=TR(t,n);return ohe(t,e,!0),nE(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),e!==y6?e:void 0}function TR(e,t){if(Hv(t))return t;const n=t[Fr];if(!n)return NA(t,e.handledSet_,e);if(!Gv(n,e))return t;if(!n.modified_)return n.base_;if(!n.finalized_){const{callbacks_:r}=n;if(r)for(;r.length>0;)r.pop()(e);S6(n,e)}return n.copy_}function ohe(e,t,n=!1){!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&jA(t,n)}function _6(e){e.finalized_=!0,e.scope_.unfinalizedDrafts_--}var Gv=(e,t)=>e.scope_===t,she=[];function w6(e,t,n,r){const i=as(e),a=e.type_;if(r!==void 0&&Qk(i,r,a)===t){gb(i,r,n,a);return}if(!e.draftLocations_){const l=e.draftLocations_=new Map;dp(i,(u,f)=>{if(vs(f)){const h=l.get(f)||[];h.push(u),l.set(f,h)}})}const o=e.draftLocations_.get(t)??she;for(const l of o)gb(i,l,n,a)}function lhe(e,t,n){e.callbacks_.push(function(i){const a=t;if(!a||!Gv(a,i))return;i.mapSetPlugin_?.fixSetContents(a);const o=OA(a);w6(e,a.draft_??a,o,n),S6(a,i)})}function S6(e,t){if(e.modified_&&!e.finalized_&&(e.type_===3||(e.assigned_?.size??0)>0)){const{patchPlugin_:r}=t;if(r){const i=r.getPath(e);i&&r.generatePatches_(e,i,t)}_6(e)}}function che(e,t,n){const{scope_:r}=e;if(vs(n)){const i=n[Fr];Gv(i,r)&&i.callbacks_.push(function(){_y(e);const o=OA(i);w6(e,n,o,t)})}else Ya(n)&&e.callbacks_.push(function(){const a=as(e);Qk(a,t,e.type_)===n&&r.drafts_.length>1&&(e.assigned_.get(t)??!1)===!0&&e.copy_&&NA(Qk(e.copy_,t,e.type_),r.handledSet_,r)})}function NA(e,t,n){return!n.immer_.autoFreeze_&&n.unfinalizedDrafts_<1||vs(e)||t.has(e)||!Ya(e)||Hv(e)||(t.add(e),dp(e,(r,i)=>{if(vs(i)){const a=i[Fr];if(Gv(a,n)){const o=OA(a);gb(e,r,o,e.type_),_6(a)}}else Ya(i)&&NA(i,t,n)})),e}function uhe(e,t){const n=zv(e),r={type_:n?1:0,scope_:t?t.scope_:x6(),modified_:!1,finalized_:!1,assigned_:void 0,parent_:t,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1,callbacks_:void 0};let i=r,a=CA;n&&(i=[r],a=Dm);const{revoke:o,proxy:l}=Proxy.revocable(i,a);return r.draft_=l,r.revoke_=o,[l,r]}var CA={get(e,t){if(t===Fr)return e;const n=as(e);if(!SR(n,t,e.type_))return dhe(e,n,t);const r=n[t];if(e.finalized_||!Ya(r))return r;if(r===lS(e.base_,t)){_y(e);const i=e.type_===1?+t:t,a=aE(e.scope_,r,e,i);return e.copy_[i]=a}return r},has(e,t){return t in as(e)},ownKeys(e){return Reflect.ownKeys(as(e))},set(e,t,n){const r=k6(as(e),t);if(r?.set)return r.set.call(e.draft_,n),!0;if(!e.modified_){const i=lS(as(e),t),a=i?.[Fr];if(a&&a.base_===n)return e.copy_[t]=n,e.assigned_.set(t,!1),!0;if(the(n,i)&&(n!==void 0||SR(e.base_,t,e.type_)))return!0;_y(e),iE(e)}return e.copy_[t]===n&&(n!==void 0||t in e.copy_)||Number.isNaN(n)&&Number.isNaN(e.copy_[t])||(e.copy_[t]=n,e.assigned_.set(t,!0),che(e,t,n)),!0},deleteProperty(e,t){return _y(e),lS(e.base_,t)!==void 0||t in e.base_?(e.assigned_.set(t,!1),iE(e)):e.assigned_.delete(t),e.copy_&&delete e.copy_[t],!0},getOwnPropertyDescriptor(e,t){const n=as(e),r=Reflect.getOwnPropertyDescriptor(n,t);return r&&{[xy]:!0,[Jk]:e.type_!==1||t!=="length",[pb]:r[pb],[Mm]:n[t]}},defineProperty(){Ia(11)},getPrototypeOf(e){return Zd(e.base_)},setPrototypeOf(){Ia(12)}},Dm={};dp(CA,(e,t)=>{Dm[e]=function(){const n=arguments;return n[0]=n[0][0],t.apply(this,n)}});Dm.deleteProperty=function(e,t){return Dm.set.call(this,e,t,void 0)};Dm.set=function(e,t,n){return CA.set.call(this,e[0],t,n,e[0])};function lS(e,t){const n=e[Fr];return(n?as(n):e)[t]}function dhe(e,t,n){const r=k6(t,n);return r?Mm in r?r[Mm]:r.get?.call(e.draft_):void 0}function k6(e,t){if(!(t in e))return;let n=Zd(e);for(;n;){const r=Object.getOwnPropertyDescriptor(n,t);if(r)return r;n=Zd(n)}}function iE(e){e.modified_||(e.modified_=!0,e.parent_&&iE(e.parent_))}function _y(e){e.copy_||(e.assigned_=new Map,e.copy_=eE(e.base_,e.scope_.immer_.useStrictShallowCopy_))}var fhe=class{constructor(t){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.useStrictIteration_=!1,this.produce=(n,r,i)=>{if(vd(n)&&!vd(r)){const o=r;r=n;const l=this;return function(f=o,...h){return l.produce(f,p=>r.call(this,p,...h))}}vd(r)||Ia(6),i!==void 0&&!vd(i)&&Ia(7);let a;if(Ya(n)){const o=ER(this),l=aE(o,n,void 0);let u=!0;try{a=r(l),u=!1}finally{u?nE(o):rE(o)}return kR(o,i),AR(a,o)}else if(!n||!TA(n)){if(a=r(n),a===void 0&&(a=n),a===y6&&(a=void 0),this.autoFreeze_&&jA(a,!0),i){const o=[],l=[];Xd(tE).generateReplacementPatches_(n,a,{patches_:o,inversePatches_:l}),i(o,l)}return a}else Ia(1,n)},this.produceWithPatches=(n,r)=>{if(vd(n))return(l,...u)=>this.produceWithPatches(l,f=>n(f,...u));let i,a;return[this.produce(n,r,(l,u)=>{i=l,a=u}),i,a]},sS(t?.autoFreeze)&&this.setAutoFreeze(t.autoFreeze),sS(t?.useStrictShallowCopy)&&this.setUseStrictShallowCopy(t.useStrictShallowCopy),sS(t?.useStrictIteration)&&this.setUseStrictIteration(t.useStrictIteration)}createDraft(t){Ya(t)||Ia(8),vs(t)&&(t=Ua(t));const n=ER(this),r=aE(n,t,void 0);return r[Fr].isManual_=!0,rE(n),r}finishDraft(t,n){const r=t&&t[Fr];(!r||!r.isManual_)&&Ia(9);const{scope_:i}=r;return kR(i,n),AR(void 0,i)}setAutoFreeze(t){this.autoFreeze_=t}setUseStrictShallowCopy(t){this.useStrictShallowCopy_=t}setUseStrictIteration(t){this.useStrictIteration_=t}shouldUseStrictIteration(){return this.useStrictIteration_}applyPatches(t,n){let r;for(r=n.length-1;r>=0;r--){const a=n[r];if(a.path.length===0&&a.op==="replace"){t=a.value;break}}r>-1&&(n=n.slice(r+1));const i=Xd(tE).applyPatches_;return vs(t)?i(t,n):this.produce(t,a=>i(a,n))}};function aE(e,t,n,r){const[i,a]=Uv(t)?Xd(yb).proxyMap_(t,n):Fv(t)?Xd(yb).proxySet_(t,n):uhe(t,n);return(n?.scope_??x6()).drafts_.push(i),a.callbacks_=n?.callbacks_??[],a.key_=r,n&&r!==void 0?lhe(n,a,r):a.callbacks_.push(function(u){u.mapSetPlugin_?.fixSetContents(a);const{patchPlugin_:f}=u;a.modified_&&f&&f.generatePatches_(a,[],u)}),i}function Ua(e){return vs(e)||Ia(10,e),E6(e)}function E6(e){if(!Ya(e)||Hv(e))return e;const t=e[Fr];let n,r=!0;if(t){if(!t.modified_)return t.base_;t.finalized_=!0,n=eE(e,t.scope_.immer_.useStrictShallowCopy_),r=t.scope_.immer_.shouldUseStrictIteration()}else n=eE(e,!0);return dp(n,(i,a)=>{gb(n,i,E6(a))},r),t&&(t.finalized_=!1),n}var hhe=new fhe,A6=hhe.produce;function T6(e){return({dispatch:n,getState:r})=>i=>a=>typeof a=="function"?a(n,r,e):i(a)}var mhe=T6(),phe=T6,ghe=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?xm:xm.apply(null,arguments)};function pa(e,t){function n(...r){if(t){let i=t(...r);if(!i)throw new Error(Bi(0));return{type:e,payload:i.payload,..."meta"in i&&{meta:i.meta},..."error"in i&&{error:i.error}}}return{type:e,payload:r[0]}}return n.toString=()=>`${e}`,n.type=e,n.match=r=>KB(r)&&r.type===e,n}var O6=class im extends Array{constructor(...t){super(...t),Object.setPrototypeOf(this,im.prototype)}static get[Symbol.species](){return im}concat(...t){return super.concat.apply(this,t)}prepend(...t){return t.length===1&&Array.isArray(t[0])?new im(...t[0].concat(this)):new im(...t.concat(this))}};function OR(e){return Ya(e)?A6(e,()=>{}):e}function G0(e,t,n){return e.has(t)?e.get(t):e.set(t,n(t)).get(t)}function yhe(e){return typeof e=="boolean"}var bhe=()=>function(t){const{thunk:n=!0,immutableCheck:r=!0,serializableCheck:i=!0,actionCreatorCheck:a=!0}=t??{};let o=new O6;return n&&(yhe(n)?o.push(mhe):o.push(phe(n.extraArgument))),o},j6="RTK_autoBatch",an=()=>e=>({payload:e,meta:{[j6]:!0}}),jR=e=>t=>{setTimeout(t,e)},N6=(e={type:"raf"})=>t=>(...n)=>{const r=t(...n);let i=!0,a=!1,o=!1;const l=new Set,u=e.type==="tick"?queueMicrotask:e.type==="raf"?typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:jR(10):e.type==="callback"?e.queueNotification:jR(e.timeout),f=()=>{o=!1,a&&(a=!1,l.forEach(h=>h()))};return Object.assign({},r,{subscribe(h){const p=()=>i&&h(),g=r.subscribe(p);return l.add(h),()=>{g(),l.delete(h)}},dispatch(h){try{return i=!h?.meta?.[j6],a=!i,a&&(o||(o=!0,u(f))),r.dispatch(h)}finally{i=!0}}})},vhe=e=>function(n){const{autoBatch:r=!0}=n??{};let i=new O6(e);return r&&i.push(N6(typeof r=="object"?r:void 0)),i};function xhe(e){const t=bhe(),{reducer:n=void 0,middleware:r,devTools:i=!0,preloadedState:a=void 0,enhancers:o=void 0}=e||{};let l;if(typeof n=="function")l=n;else if(p2(n))l=qB(n);else throw new Error(Bi(1));let u;typeof r=="function"?u=r(t):u=t();let f=xm;i&&(f=ghe({trace:!1,...typeof i=="object"&&i}));const h=YB(...u),p=vhe(h);let g=typeof o=="function"?o(p):p();const x=f(...g);return g2(l,a,x)}function C6(e){const t={},n=[];let r;const i={addCase(a,o){const l=typeof a=="string"?a:a.type;if(!l)throw new Error(Bi(28));if(l in t)throw new Error(Bi(29));return t[l]=o,i},addAsyncThunk(a,o){return o.pending&&(t[a.pending.type]=o.pending),o.rejected&&(t[a.rejected.type]=o.rejected),o.fulfilled&&(t[a.fulfilled.type]=o.fulfilled),o.settled&&n.push({matcher:a.settled,reducer:o.settled}),i},addMatcher(a,o){return n.push({matcher:a,reducer:o}),i},addDefaultCase(a){return r=a,i}};return e(i),[t,n,r]}function _he(e){return typeof e=="function"}function whe(e,t){let[n,r,i]=C6(t),a;if(_he(e))a=()=>OR(e());else{const l=OR(e);a=()=>l}function o(l=a(),u){let f=[n[u.type],...r.filter(({matcher:h})=>h(u)).map(({reducer:h})=>h)];return f.filter(h=>!!h).length===0&&(f=[i]),f.reduce((h,p)=>{if(p)if(vs(h)){const x=p(h,u);return x===void 0?h:x}else{if(Ya(h))return A6(h,g=>p(g,u));{const g=p(h,u);if(g===void 0){if(h===null)return h;throw Error("A case reducer on a non-draftable value must not return undefined")}return g}}return h},l)}return o.getInitialState=a,o}var She="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",khe=(e=21)=>{let t="",n=e;for(;n--;)t+=She[Math.random()*64|0];return t},Ehe=Symbol.for("rtk-slice-createasyncthunk");function Ahe(e,t){return`${e}/${t}`}function The({creators:e}={}){const t=e?.asyncThunk?.[Ehe];return function(r){const{name:i,reducerPath:a=i}=r;if(!i)throw new Error(Bi(11));const o=(typeof r.reducers=="function"?r.reducers(jhe()):r.reducers)||{},l=Object.keys(o),u={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},f={addCase(O,P){const C=typeof O=="string"?O:O.type;if(!C)throw new Error(Bi(12));if(C in u.sliceCaseReducersByType)throw new Error(Bi(13));return u.sliceCaseReducersByType[C]=P,f},addMatcher(O,P){return u.sliceMatchers.push({matcher:O,reducer:P}),f},exposeAction(O,P){return u.actionCreators[O]=P,f},exposeCaseReducer(O,P){return u.sliceCaseReducersByName[O]=P,f}};l.forEach(O=>{const P=o[O],C={reducerName:O,type:Ahe(i,O),createNotation:typeof r.reducers=="function"};Che(P)?Phe(C,P,f,t):Nhe(C,P,f)});function h(){const[O={},P=[],C=void 0]=typeof r.extraReducers=="function"?C6(r.extraReducers):[r.extraReducers],D={...O,...u.sliceCaseReducersByType};return whe(r.initialState,$=>{for(let H in D)$.addCase(H,D[H]);for(let H of u.sliceMatchers)$.addMatcher(H.matcher,H.reducer);for(let H of P)$.addMatcher(H.matcher,H.reducer);C&&$.addDefaultCase(C)})}const p=O=>O,g=new Map,x=new WeakMap;let S;function _(O,P){return S||(S=h()),S(O,P)}function k(){return S||(S=h()),S.getInitialState()}function T(O,P=!1){function C($){let H=$[O];return typeof H>"u"&&P&&(H=G0(x,C,k)),H}function D($=p){const H=G0(g,P,()=>new WeakMap);return G0(H,$,()=>{const q={};for(const[K,U]of Object.entries(r.selectors??{}))q[K]=Ohe(U,$,()=>G0(x,$,k),P);return q})}return{reducerPath:O,getSelectors:D,get selectors(){return D(C)},selectSlice:C}}const N={name:i,reducer:_,actions:u.actionCreators,caseReducers:u.sliceCaseReducersByName,getInitialState:k,...T(a),injectInto(O,{reducerPath:P,...C}={}){const D=P??a;return O.inject({reducerPath:D,reducer:_},C),{...N,...T(D,!0)}}};return N}}function Ohe(e,t,n,r){function i(a,...o){let l=t(a);return typeof l>"u"&&r&&(l=n()),e(l,...o)}return i.unwrapped=e,i}var mi=The();function jhe(){function e(t,n){return{_reducerDefinitionType:"asyncThunk",payloadCreator:t,...n}}return e.withTypes=()=>e,{reducer(t){return Object.assign({[t.name](...n){return t(...n)}}[t.name],{_reducerDefinitionType:"reducer"})},preparedReducer(t,n){return{_reducerDefinitionType:"reducerWithPrepare",prepare:t,reducer:n}},asyncThunk:e}}function Nhe({type:e,reducerName:t,createNotation:n},r,i){let a,o;if("reducer"in r){if(n&&!Mhe(r))throw new Error(Bi(17));a=r.reducer,o=r.prepare}else a=r;i.addCase(e,a).exposeCaseReducer(t,a).exposeAction(t,o?pa(e,o):pa(e))}function Che(e){return e._reducerDefinitionType==="asyncThunk"}function Mhe(e){return e._reducerDefinitionType==="reducerWithPrepare"}function Phe({type:e,reducerName:t},n,r,i){if(!i)throw new Error(Bi(18));const{payloadCreator:a,fulfilled:o,pending:l,rejected:u,settled:f,options:h}=n,p=i(e,a,h);r.exposeAction(t,p),o&&r.addCase(p.fulfilled,o),l&&r.addCase(p.pending,l),u&&r.addCase(p.rejected,u),f&&r.addMatcher(p.settled,f),r.exposeCaseReducer(t,{fulfilled:o||q0,pending:l||q0,rejected:u||q0,settled:f||q0})}function q0(){}var Dhe="task",M6="listener",P6="completed",MA="cancelled",Rhe=`task-${MA}`,Lhe=`task-${P6}`,oE=`${M6}-${MA}`,Ihe=`${M6}-${P6}`,qv=class{constructor(e){this.code=e,this.message=`${Dhe} ${MA} (reason: ${e})`}name="TaskAbortError";message},PA=(e,t)=>{if(typeof e!="function")throw new TypeError(Bi(32))},bb=()=>{},D6=(e,t=bb)=>(e.catch(t),e),R6=(e,t)=>(e.addEventListener("abort",t,{once:!0}),()=>e.removeEventListener("abort",t)),Jc=e=>{if(e.aborted)throw new qv(e.reason)};function L6(e,t){let n=bb;return new Promise((r,i)=>{const a=()=>i(new qv(e.reason));if(e.aborted){a();return}n=R6(e,a),t.finally(()=>n()).then(r,i)}).finally(()=>{n=bb})}var $he=async(e,t)=>{try{return await Promise.resolve(),{status:"ok",value:await e()}}catch(n){return{status:n instanceof qv?"cancelled":"rejected",error:n}}finally{t?.()}},vb=e=>t=>D6(L6(e,t).then(n=>(Jc(e),n))),I6=e=>{const t=vb(e);return n=>t(new Promise(r=>setTimeout(r,n)))},{assign:Ld}=Object,NR={},Yv="listenerMiddleware",Bhe=(e,t)=>{const n=r=>R6(e,()=>r.abort(e.reason));return(r,i)=>{PA(r);const a=new AbortController;n(a);const o=$he(async()=>{Jc(e),Jc(a.signal);const l=await r({pause:vb(a.signal),delay:I6(a.signal),signal:a.signal});return Jc(a.signal),l},()=>a.abort(Lhe));return i?.autoJoin&&t.push(o.catch(bb)),{result:vb(e)(o),cancel(){a.abort(Rhe)}}}},zhe=(e,t)=>{const n=async(r,i)=>{Jc(t);let a=()=>{};const l=[new Promise((u,f)=>{let h=e({predicate:r,effect:(p,g)=>{g.unsubscribe(),u([p,g.getState(),g.getOriginalState()])}});a=()=>{h(),f()}})];i!=null&&l.push(new Promise(u=>setTimeout(u,i,null)));try{const u=await L6(t,Promise.race(l));return Jc(t),u}finally{a()}};return(r,i)=>D6(n(r,i))},$6=e=>{let{type:t,actionCreator:n,matcher:r,predicate:i,effect:a}=e;if(t)i=pa(t).match;else if(n)t=n.type,i=n.match;else if(r)i=r;else if(!i)throw new Error(Bi(21));return PA(a),{predicate:i,type:t,effect:a}},B6=Ld(e=>{const{type:t,predicate:n,effect:r}=$6(e);return{id:khe(),effect:r,type:t,predicate:n,pending:new Set,unsubscribe:()=>{throw new Error(Bi(22))}}},{withTypes:()=>B6}),CR=(e,t)=>{const{type:n,effect:r,predicate:i}=$6(t);return Array.from(e.values()).find(a=>(typeof n=="string"?a.type===n:a.predicate===i)&&a.effect===r)},sE=e=>{e.pending.forEach(t=>{t.abort(oE)})},Uhe=(e,t)=>()=>{for(const n of t.keys())sE(n);e.clear()},MR=(e,t,n)=>{try{e(t,n)}catch(r){setTimeout(()=>{throw r},0)}},z6=Ld(pa(`${Yv}/add`),{withTypes:()=>z6}),Fhe=pa(`${Yv}/removeAll`),U6=Ld(pa(`${Yv}/remove`),{withTypes:()=>U6}),Hhe=(...e)=>{console.error(`${Yv}/error`,...e)},hp=(e={})=>{const t=new Map,n=new Map,r=x=>{const S=n.get(x)??0;n.set(x,S+1)},i=x=>{const S=n.get(x)??1;S===1?n.delete(x):n.set(x,S-1)},{extra:a,onError:o=Hhe}=e;PA(o);const l=x=>(x.unsubscribe=()=>t.delete(x.id),t.set(x.id,x),S=>{x.unsubscribe(),S?.cancelActive&&sE(x)}),u=x=>{const S=CR(t,x)??B6(x);return l(S)};Ld(u,{withTypes:()=>u});const f=x=>{const S=CR(t,x);return S&&(S.unsubscribe(),x.cancelActive&&sE(S)),!!S};Ld(f,{withTypes:()=>f});const h=async(x,S,_,k)=>{const T=new AbortController,N=zhe(u,T.signal),O=[];try{x.pending.add(T),r(x),await Promise.resolve(x.effect(S,Ld({},_,{getOriginalState:k,condition:(P,C)=>N(P,C).then(Boolean),take:N,delay:I6(T.signal),pause:vb(T.signal),extra:a,signal:T.signal,fork:Bhe(T.signal,O),unsubscribe:x.unsubscribe,subscribe:()=>{t.set(x.id,x)},cancelActiveListeners:()=>{x.pending.forEach((P,C,D)=>{P!==T&&(P.abort(oE),D.delete(P))})},cancel:()=>{T.abort(oE),x.pending.delete(T)},throwIfCancelled:()=>{Jc(T.signal)}})))}catch(P){P instanceof qv||MR(o,P,{raisedBy:"effect"})}finally{await Promise.all(O),T.abort(Ihe),i(x),x.pending.delete(T)}},p=Uhe(t,n);return{middleware:x=>S=>_=>{if(!KB(_))return S(_);if(z6.match(_))return u(_.payload);if(Fhe.match(_)){p();return}if(U6.match(_))return f(_.payload);let k=x.getState();const T=()=>{if(k===NR)throw new Error(Bi(23));return k};let N;try{if(N=S(_),t.size>0){const O=x.getState(),P=Array.from(t.values());for(const C of P){let D=!1;try{D=C.predicate(_,O,k)}catch($){D=!1,MR(o,$,{raisedBy:"predicate"})}D&&h(C,_,x,T)}}}finally{k=NR}return N},startListening:u,stopListening:f,clearListeners:p}};function Bi(e){return`Minified Redux Toolkit error #${e}; visit https://redux-toolkit.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var Ghe={layoutType:"horizontal",width:0,height:0,margin:{top:5,right:5,bottom:5,left:5},scale:1},F6=mi({name:"chartLayout",initialState:Ghe,reducers:{setLayout(e,t){e.layoutType=t.payload},setChartSize(e,t){e.width=t.payload.width,e.height=t.payload.height},setMargin(e,t){var n,r,i,a;e.margin.top=(n=t.payload.top)!==null&&n!==void 0?n:0,e.margin.right=(r=t.payload.right)!==null&&r!==void 0?r:0,e.margin.bottom=(i=t.payload.bottom)!==null&&i!==void 0?i:0,e.margin.left=(a=t.payload.left)!==null&&a!==void 0?a:0},setScale(e,t){e.scale=t.payload}}}),{setMargin:qhe,setLayout:Yhe,setChartSize:Khe,setScale:Whe}=F6.actions,Vhe=F6.reducer;function H6(e,t,n){return Array.isArray(e)&&e&&t+n!==0?e.slice(t,n+1):e}function PR(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Ed(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?PR(Object(n),!0).forEach(function(r){Zhe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):PR(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Zhe(e,t,n){return(t=Xhe(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Xhe(e){var t=Jhe(e,"string");return typeof t=="symbol"?t:t+""}function Jhe(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Nr(e,t,n){return xr(e)||xr(t)?n:Eo(t)?Iv(e,t,n):typeof t=="function"?t(e):n}var Qhe=(e,t,n)=>{if(t&&n){var{width:r,height:i}=n,{align:a,verticalAlign:o,layout:l}=t;if((l==="vertical"||l==="horizontal"&&o==="middle")&&a!=="center"&&We(e[a]))return Ed(Ed({},e),{},{[a]:e[a]+(r||0)});if((l==="horizontal"||l==="vertical"&&a==="center")&&o!=="middle"&&We(e[o]))return Ed(Ed({},e),{},{[o]:e[o]+(i||0)})}return e},Es=(e,t)=>e==="horizontal"&&t==="xAxis"||e==="vertical"&&t==="yAxis"||e==="centric"&&t==="angleAxis"||e==="radial"&&t==="radiusAxis",G6=(e,t,n,r)=>{if(r)return e.map(l=>l.coordinate);var i,a,o=e.map(l=>(l.coordinate===t&&(i=!0),l.coordinate===n&&(a=!0),l.coordinate));return i||o.push(t),a||o.push(n),o},q6=(e,t,n)=>{if(!e)return null;var{duplicateDomain:r,type:i,range:a,scale:o,realScaleType:l,isCategorical:u,categoricalDomain:f,tickCount:h,ticks:p,niceTicks:g,axisType:x}=e;if(!o)return null;var S=l==="scaleBand"&&o.bandwidth?o.bandwidth()/2:2,_=i==="category"&&o.bandwidth?o.bandwidth()/S:0;if(_=x==="angleAxis"&&a&&a.length>=2?ca(a[0]-a[1])*2*_:_,p||g){var k=(p||g||[]).map((T,N)=>{var O=r?r.indexOf(T):T;return{coordinate:o(O)+_,value:T,offset:_,index:N}});return k.filter(T=>!qa(T.coordinate))}return u&&f?f.map((T,N)=>({coordinate:o(T)+_,value:T,index:N,offset:_})):o.ticks&&h!=null?o.ticks(h).map((T,N)=>({coordinate:o(T)+_,value:T,offset:_,index:N})):o.domain().map((T,N)=>({coordinate:o(T)+_,value:r?r[T]:T,index:N,offset:_}))},DR=1e-4,eme=e=>{var t=e.domain();if(!(!t||t.length<=2)){var n=t.length,r=e.range(),i=Math.min(r[0],r[1])-DR,a=Math.max(r[0],r[1])+DR,o=e(t[0]),l=e(t[n-1]);(o<i||o>a||l<i||l>a)&&e.domain([t[0],t[n-1]])}},tme=e=>{var t=e.length;if(!(t<=0))for(var n=0,r=e[0].length;n<r;++n)for(var i=0,a=0,o=0;o<t;++o){var l=qa(e[o][n][1])?e[o][n][0]:e[o][n][1];l>=0?(e[o][n][0]=i,e[o][n][1]=i+l,i=e[o][n][1]):(e[o][n][0]=a,e[o][n][1]=a+l,a=e[o][n][1])}},nme=e=>{var t=e.length;if(!(t<=0))for(var n=0,r=e[0].length;n<r;++n)for(var i=0,a=0;a<t;++a){var o=qa(e[a][n][1])?e[a][n][0]:e[a][n][1];o>=0?(e[a][n][0]=i,e[a][n][1]=i+o,i=e[a][n][1]):(e[a][n][0]=0,e[a][n][1]=0)}},rme={sign:tme,expand:qde,none:Vd,silhouette:Yde,wiggle:Kde,positive:nme},ime=(e,t,n)=>{var r=rme[n],i=Gde().keys(t).value((a,o)=>Number(Nr(a,o,0))).order(Xk).offset(r);return i(e)};function ame(e){return e==null?void 0:String(e)}function RR(e){var{axis:t,ticks:n,bandSize:r,entry:i,index:a,dataKey:o}=e;if(t.type==="category"){if(!t.allowDuplicatedCategory&&t.dataKey&&!xr(i[t.dataKey])){var l=n6(n,"value",i[t.dataKey]);if(l)return l.coordinate+r/2}return n[a]?n[a].coordinate+r/2:null}var u=Nr(i,xr(o)?t.dataKey:o);return xr(u)?null:t.scale(u)}var ome=e=>{var t=e.flat(2).filter(We);return[Math.min(...t),Math.max(...t)]},sme=e=>[e[0]===1/0?0:e[0],e[1]===-1/0?0:e[1]],lme=(e,t,n)=>{if(e!=null)return sme(Object.keys(e).reduce((r,i)=>{var a=e[i],{stackedData:o}=a,l=o.reduce((u,f)=>{var h=H6(f,t,n),p=ome(h);return[Math.min(u[0],p[0]),Math.max(u[1],p[1])]},[1/0,-1/0]);return[Math.min(l[0],r[0]),Math.max(l[1],r[1])]},[1/0,-1/0]))},LR=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,IR=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,xb=(e,t,n)=>{if(e&&e.scale&&e.scale.bandwidth){var r=e.scale.bandwidth();if(!n||r>0)return r}if(e&&t&&t.length>=2){for(var i=$v(t,h=>h.coordinate),a=1/0,o=1,l=i.length;o<l;o++){var u=i[o],f=i[o-1];a=Math.min((u.coordinate||0)-(f.coordinate||0),a)}return a===1/0?0:a}return n?void 0:0};function $R(e){var{tooltipEntrySettings:t,dataKey:n,payload:r,value:i,name:a}=e;return Ed(Ed({},t),{},{dataKey:n,payload:r,value:i,name:a})}function Y6(e,t){if(e)return String(e);if(typeof t=="string")return t}var cme=(e,t)=>{if(t==="horizontal")return e.chartX;if(t==="vertical")return e.chartY},ume=(e,t)=>t==="centric"?e.angle:e.radius,As=e=>e.layout.width,Ts=e=>e.layout.height,dme=e=>e.layout.scale,K6=e=>e.layout.margin,Kv=we(e=>e.cartesianAxis.xAxis,e=>Object.values(e)),Wv=we(e=>e.cartesianAxis.yAxis,e=>Object.values(e)),fme="data-recharts-item-index",hme="data-recharts-item-data-key",mp=60;function BR(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Y0(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?BR(Object(n),!0).forEach(function(r){mme(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):BR(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function mme(e,t,n){return(t=pme(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function pme(e){var t=gme(e,"string");return typeof t=="symbol"?t:t+""}function gme(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var yme=e=>e.brush.height;function bme(e){var t=Wv(e);return t.reduce((n,r)=>{if(r.orientation==="left"&&!r.mirror&&!r.hide){var i=typeof r.width=="number"?r.width:mp;return n+i}return n},0)}function vme(e){var t=Wv(e);return t.reduce((n,r)=>{if(r.orientation==="right"&&!r.mirror&&!r.hide){var i=typeof r.width=="number"?r.width:mp;return n+i}return n},0)}function xme(e){var t=Kv(e);return t.reduce((n,r)=>r.orientation==="top"&&!r.mirror&&!r.hide?n+r.height:n,0)}function _me(e){var t=Kv(e);return t.reduce((n,r)=>r.orientation==="bottom"&&!r.mirror&&!r.hide?n+r.height:n,0)}var Sr=we([As,Ts,K6,yme,bme,vme,xme,_me,g6,Xfe],(e,t,n,r,i,a,o,l,u,f)=>{var h={left:(n.left||0)+i,right:(n.right||0)+a},p={top:(n.top||0)+o,bottom:(n.bottom||0)+l},g=Y0(Y0({},p),h),x=g.bottom;g.bottom+=r,g=Qhe(g,u,f);var S=e-g.left-g.right,_=t-g.top-g.bottom;return Y0(Y0({brushBottom:x},g),{},{width:Math.max(S,0),height:Math.max(_,0)})}),wme=we(Sr,e=>({x:e.left,y:e.top,width:e.width,height:e.height})),W6=we(As,Ts,(e,t)=>({x:0,y:0,width:e,height:t})),Sme=w.createContext(null),pi=()=>w.useContext(Sme)!=null,Vv=e=>e.brush,Zv=we([Vv,Sr,K6],(e,t,n)=>({height:e.height,x:We(e.x)?e.x:t.left,y:We(e.y)?e.y:t.top+t.height+t.brushBottom-(n?.bottom||0),width:We(e.width)?e.width:t.width})),cS={},uS={},dS={},zR;function kme(){return zR||(zR=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n,r,{signal:i,edges:a}={}){let o,l=null;const u=a!=null&&a.includes("leading"),f=a==null||a.includes("trailing"),h=()=>{l!==null&&(n.apply(o,l),o=void 0,l=null)},p=()=>{f&&h(),_()};let g=null;const x=()=>{g!=null&&clearTimeout(g),g=setTimeout(()=>{g=null,p()},r)},S=()=>{g!==null&&(clearTimeout(g),g=null)},_=()=>{S(),o=void 0,l=null},k=()=>{h()},T=function(...N){if(i?.aborted)return;o=this,l=N;const O=g==null;x(),u&&O&&h()};return T.schedule=x,T.cancel=_,T.flush=k,i?.addEventListener("abort",_,{once:!0}),T}e.debounce=t})(dS)),dS}var UR;function Eme(){return UR||(UR=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=kme();function n(r,i=0,a={}){typeof a!="object"&&(a={});const{leading:o=!1,trailing:l=!0,maxWait:u}=a,f=Array(2);o&&(f[0]="leading"),l&&(f[1]="trailing");let h,p=null;const g=t.debounce(function(..._){h=r.apply(this,_),p=null},i,{edges:f}),x=function(..._){return u!=null&&(p===null&&(p=Date.now()),Date.now()-p>=u)?(h=r.apply(this,_),p=Date.now(),g.cancel(),g.schedule(),h):(g.apply(this,_),h)},S=()=>(g.flush(),h);return x.cancel=g.cancel,x.flush=S,x}e.debounce=n})(uS)),uS}var FR;function Ame(){return FR||(FR=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Eme();function n(r,i=0,a={}){const{leading:o=!0,trailing:l=!0}=a;return t.debounce(r,i,{leading:o,maxWait:i,trailing:l})}e.throttle=n})(cS)),cS}var fS,HR;function Tme(){return HR||(HR=1,fS=Ame().throttle),fS}var Ome=Tme();const jme=fi(Ome);var _b=function(t,n){for(var r=arguments.length,i=new Array(r>2?r-2:0),a=2;a<r;a++)i[a-2]=arguments[a];if(typeof console<"u"&&console.warn&&(n===void 0&&console.warn("LogUtils requires an error message argument"),!t))if(n===void 0)console.warn("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var o=0;console.warn(n.replace(/%s/g,()=>i[o++]))}},V6=(e,t,n)=>{var{width:r="100%",height:i="100%",aspect:a,maxHeight:o}=n,l=bs(r)?e:Number(r),u=bs(i)?t:Number(i);return a&&a>0&&(l?u=l/a:u&&(l=u*a),o&&u!=null&&u>o&&(u=o)),{calculatedWidth:l,calculatedHeight:u}},Nme={width:0,height:0,overflow:"visible"},Cme={width:0,overflowX:"visible"},Mme={height:0,overflowY:"visible"},Pme={},Dme=e=>{var{width:t,height:n}=e,r=bs(t),i=bs(n);return r&&i?Nme:r?Cme:i?Mme:Pme};function Rme(e){var{width:t,height:n,aspect:r}=e,i=t,a=n;return i===void 0&&a===void 0?(i="100%",a="100%"):i===void 0?i=r&&r>0?void 0:"100%":a===void 0&&(a=r&&r>0?void 0:"100%"),{width:i,height:a}}function _n(e){return Number.isFinite(e)}function Ao(e){return typeof e=="number"&&e>0&&Number.isFinite(e)}function lE(){return lE=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},lE.apply(null,arguments)}function GR(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function qR(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?GR(Object(n),!0).forEach(function(r){Lme(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):GR(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Lme(e,t,n){return(t=Ime(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Ime(e){var t=$me(e,"string");return typeof t=="symbol"?t:t+""}function $me(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Z6=w.createContext({width:-1,height:-1});function Bme(e){return Ao(e.width)&&Ao(e.height)}function X6(e){var{children:t,width:n,height:r}=e,i=w.useMemo(()=>({width:n,height:r}),[n,r]);return Bme(i)?w.createElement(Z6.Provider,{value:i},t):null}var DA=()=>w.useContext(Z6),zme=w.forwardRef((e,t)=>{var{aspect:n,initialDimension:r={width:-1,height:-1},width:i,height:a,minWidth:o=0,minHeight:l,maxHeight:u,children:f,debounce:h=0,id:p,className:g,onResize:x,style:S={}}=e,_=w.useRef(null),k=w.useRef();k.current=x,w.useImperativeHandle(t,()=>_.current);var[T,N]=w.useState({containerWidth:r.width,containerHeight:r.height}),O=w.useCallback((H,q)=>{N(K=>{var U=Math.round(H),z=Math.round(q);return K.containerWidth===U&&K.containerHeight===z?K:{containerWidth:U,containerHeight:z}})},[]);w.useEffect(()=>{if(_.current==null||typeof ResizeObserver>"u")return up;var H=z=>{var V,{width:J,height:Q}=z[0].contentRect;O(J,Q),(V=k.current)===null||V===void 0||V.call(k,J,Q)};h>0&&(H=jme(H,h,{trailing:!0,leading:!1}));var q=new ResizeObserver(H),{width:K,height:U}=_.current.getBoundingClientRect();return O(K,U),q.observe(_.current),()=>{q.disconnect()}},[O,h]);var{containerWidth:P,containerHeight:C}=T;_b(!n||n>0,"The aspect(%s) must be greater than zero.",n);var{calculatedWidth:D,calculatedHeight:$}=V6(P,C,{width:i,height:a,aspect:n,maxHeight:u});return _b(D!=null&&D>0||$!=null&&$>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,D,$,i,a,o,l,n),w.createElement("div",{id:p?"".concat(p):void 0,className:Qt("recharts-responsive-container",g),style:qR(qR({},S),{},{width:i,height:a,minWidth:o,minHeight:l,maxHeight:u}),ref:_},w.createElement("div",{style:Dme({width:i,height:a})},w.createElement(X6,{width:D,height:$},f)))}),Ume=w.forwardRef((e,t)=>{var n=DA();if(Ao(n.width)&&Ao(n.height))return e.children;var{width:r,height:i}=Rme({width:e.width,height:e.height,aspect:e.aspect}),{calculatedWidth:a,calculatedHeight:o}=V6(void 0,void 0,{width:r,height:i,aspect:e.aspect,maxHeight:e.maxHeight});return We(a)&&We(o)?w.createElement(X6,{width:a,height:o},e.children):w.createElement(zme,lE({},e,{width:r,height:i,ref:t}))});function J6(e){if(e)return{x:e.x,y:e.y,upperWidth:"upperWidth"in e?e.upperWidth:e.width,lowerWidth:"lowerWidth"in e?e.lowerWidth:e.width,width:e.width,height:e.height}}var Xv=()=>{var e,t=pi(),n=Je(wme),r=Je(Zv),i=(e=Je(Vv))===null||e===void 0?void 0:e.padding;return!t||!r||!i?n:{width:r.width-i.left-i.right,height:r.height-i.top-i.bottom,x:i.left,y:i.top}},Fme={top:0,bottom:0,left:0,right:0,width:0,height:0,brushBottom:0},Q6=()=>{var e;return(e=Je(Sr))!==null&&e!==void 0?e:Fme},e9=()=>Je(As),t9=()=>Je(Ts),Vt=e=>e.layout.layoutType,pp=()=>Je(Vt),Hme=()=>{var e=pp();if(e==="horizontal"||e==="vertical")return e},Gme=()=>{var e=pp();return e!==void 0},Jv=e=>{var t=cr(),n=pi(),{width:r,height:i}=e,a=DA(),o=r,l=i;return a&&(o=a.width>0?a.width:r,l=a.height>0?a.height:i),w.useEffect(()=>{!n&&Ao(o)&&Ao(l)&&t(Khe({width:o,height:l}))},[t,n,o,l]),null},n9=Symbol.for("immer-nothing"),YR=Symbol.for("immer-draftable"),Fi=Symbol.for("immer-state");function $a(e,...t){throw new Error(`[Immer] minified error nr: ${e}. Full error at: https://bit.ly/3cXEKWf`)}var Rm=Object.getPrototypeOf;function Jd(e){return!!e&&!!e[Fi]}function au(e){return e?r9(e)||Array.isArray(e)||!!e[YR]||!!e.constructor?.[YR]||gp(e)||ex(e):!1}var qme=Object.prototype.constructor.toString(),KR=new WeakMap;function r9(e){if(!e||typeof e!="object")return!1;const t=Object.getPrototypeOf(e);if(t===null||t===Object.prototype)return!0;const n=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;if(n===Object)return!0;if(typeof n!="function")return!1;let r=KR.get(n);return r===void 0&&(r=Function.toString.call(n),KR.set(n,r)),r===qme}function wb(e,t,n=!0){Qv(e)===0?(n?Reflect.ownKeys(e):Object.keys(e)).forEach(i=>{t(i,e[i],e)}):e.forEach((r,i)=>t(i,r,e))}function Qv(e){const t=e[Fi];return t?t.type_:Array.isArray(e)?1:gp(e)?2:ex(e)?3:0}function cE(e,t){return Qv(e)===2?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function i9(e,t,n){const r=Qv(e);r===2?e.set(t,n):r===3?e.add(n):e[t]=n}function Yme(e,t){return e===t?e!==0||1/e===1/t:e!==e&&t!==t}function gp(e){return e instanceof Map}function ex(e){return e instanceof Set}function Bc(e){return e.copy_||e.base_}function uE(e,t){if(gp(e))return new Map(e);if(ex(e))return new Set(e);if(Array.isArray(e))return Array.prototype.slice.call(e);const n=r9(e);if(t===!0||t==="class_only"&&!n){const r=Object.getOwnPropertyDescriptors(e);delete r[Fi];let i=Reflect.ownKeys(r);for(let a=0;a<i.length;a++){const o=i[a],l=r[o];l.writable===!1&&(l.writable=!0,l.configurable=!0),(l.get||l.set)&&(r[o]={configurable:!0,writable:!0,enumerable:l.enumerable,value:e[o]})}return Object.create(Rm(e),r)}else{const r=Rm(e);if(r!==null&&n)return{...e};const i=Object.create(r);return Object.assign(i,e)}}function RA(e,t=!1){return tx(e)||Jd(e)||!au(e)||(Qv(e)>1&&Object.defineProperties(e,{set:K0,add:K0,clear:K0,delete:K0}),Object.freeze(e),t&&Object.values(e).forEach(n=>RA(n,!0))),e}function Kme(){$a(2)}var K0={value:Kme};function tx(e){return e===null||typeof e!="object"?!0:Object.isFrozen(e)}var Wme={};function ou(e){const t=Wme[e];return t||$a(0,e),t}var Lm;function a9(){return Lm}function Vme(e,t){return{drafts_:[],parent_:e,immer_:t,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function WR(e,t){t&&(ou("Patches"),e.patches_=[],e.inversePatches_=[],e.patchListener_=t)}function dE(e){fE(e),e.drafts_.forEach(Zme),e.drafts_=null}function fE(e){e===Lm&&(Lm=e.parent_)}function VR(e){return Lm=Vme(Lm,e)}function Zme(e){const t=e[Fi];t.type_===0||t.type_===1?t.revoke_():t.revoked_=!0}function ZR(e,t){t.unfinalizedDrafts_=t.drafts_.length;const n=t.drafts_[0];return e!==void 0&&e!==n?(n[Fi].modified_&&(dE(t),$a(4)),au(e)&&(e=Sb(t,e),t.parent_||kb(t,e)),t.patches_&&ou("Patches").generateReplacementPatches_(n[Fi].base_,e,t.patches_,t.inversePatches_)):e=Sb(t,n,[]),dE(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),e!==n9?e:void 0}function Sb(e,t,n){if(tx(t))return t;const r=e.immer_.shouldUseStrictIteration(),i=t[Fi];if(!i)return wb(t,(a,o)=>XR(e,i,t,a,o,n),r),t;if(i.scope_!==e)return t;if(!i.modified_)return kb(e,i.base_,!0),i.base_;if(!i.finalized_){i.finalized_=!0,i.scope_.unfinalizedDrafts_--;const a=i.copy_;let o=a,l=!1;i.type_===3&&(o=new Set(a),a.clear(),l=!0),wb(o,(u,f)=>XR(e,i,a,u,f,n,l),r),kb(e,a,!1),n&&e.patches_&&ou("Patches").generatePatches_(i,n,e.patches_,e.inversePatches_)}return i.copy_}function XR(e,t,n,r,i,a,o){if(i==null||typeof i!="object"&&!o)return;const l=tx(i);if(!(l&&!o)){if(Jd(i)){const u=a&&t&&t.type_!==3&&!cE(t.assigned_,r)?a.concat(r):void 0,f=Sb(e,i,u);if(i9(n,r,f),Jd(f))e.canAutoFreeze_=!1;else return}else o&&n.add(i);if(au(i)&&!l){if(!e.immer_.autoFreeze_&&e.unfinalizedDrafts_<1||t&&t.base_&&t.base_[r]===i&&l)return;Sb(e,i),(!t||!t.scope_.parent_)&&typeof r!="symbol"&&(gp(n)?n.has(r):Object.prototype.propertyIsEnumerable.call(n,r))&&kb(e,i)}}}function kb(e,t,n=!1){!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&RA(t,n)}function Xme(e,t){const n=Array.isArray(e),r={type_:n?1:0,scope_:t?t.scope_:a9(),modified_:!1,finalized_:!1,assigned_:{},parent_:t,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1};let i=r,a=LA;n&&(i=[r],a=Im);const{revoke:o,proxy:l}=Proxy.revocable(i,a);return r.draft_=l,r.revoke_=o,l}var LA={get(e,t){if(t===Fi)return e;const n=Bc(e);if(!cE(n,t))return Jme(e,n,t);const r=n[t];return e.finalized_||!au(r)?r:r===hS(e.base_,t)?(mS(e),e.copy_[t]=mE(r,e)):r},has(e,t){return t in Bc(e)},ownKeys(e){return Reflect.ownKeys(Bc(e))},set(e,t,n){const r=o9(Bc(e),t);if(r?.set)return r.set.call(e.draft_,n),!0;if(!e.modified_){const i=hS(Bc(e),t),a=i?.[Fi];if(a&&a.base_===n)return e.copy_[t]=n,e.assigned_[t]=!1,!0;if(Yme(n,i)&&(n!==void 0||cE(e.base_,t)))return!0;mS(e),hE(e)}return e.copy_[t]===n&&(n!==void 0||t in e.copy_)||Number.isNaN(n)&&Number.isNaN(e.copy_[t])||(e.copy_[t]=n,e.assigned_[t]=!0),!0},deleteProperty(e,t){return hS(e.base_,t)!==void 0||t in e.base_?(e.assigned_[t]=!1,mS(e),hE(e)):delete e.assigned_[t],e.copy_&&delete e.copy_[t],!0},getOwnPropertyDescriptor(e,t){const n=Bc(e),r=Reflect.getOwnPropertyDescriptor(n,t);return r&&{writable:!0,configurable:e.type_!==1||t!=="length",enumerable:r.enumerable,value:n[t]}},defineProperty(){$a(11)},getPrototypeOf(e){return Rm(e.base_)},setPrototypeOf(){$a(12)}},Im={};wb(LA,(e,t)=>{Im[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}});Im.deleteProperty=function(e,t){return Im.set.call(this,e,t,void 0)};Im.set=function(e,t,n){return LA.set.call(this,e[0],t,n,e[0])};function hS(e,t){const n=e[Fi];return(n?Bc(n):e)[t]}function Jme(e,t,n){const r=o9(t,n);return r?"value"in r?r.value:r.get?.call(e.draft_):void 0}function o9(e,t){if(!(t in e))return;let n=Rm(e);for(;n;){const r=Object.getOwnPropertyDescriptor(n,t);if(r)return r;n=Rm(n)}}function hE(e){e.modified_||(e.modified_=!0,e.parent_&&hE(e.parent_))}function mS(e){e.copy_||(e.copy_=uE(e.base_,e.scope_.immer_.useStrictShallowCopy_))}var Qme=class{constructor(e){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.useStrictIteration_=!0,this.produce=(t,n,r)=>{if(typeof t=="function"&&typeof n!="function"){const a=n;n=t;const o=this;return function(u=a,...f){return o.produce(u,h=>n.call(this,h,...f))}}typeof n!="function"&&$a(6),r!==void 0&&typeof r!="function"&&$a(7);let i;if(au(t)){const a=VR(this),o=mE(t,void 0);let l=!0;try{i=n(o),l=!1}finally{l?dE(a):fE(a)}return WR(a,r),ZR(i,a)}else if(!t||typeof t!="object"){if(i=n(t),i===void 0&&(i=t),i===n9&&(i=void 0),this.autoFreeze_&&RA(i,!0),r){const a=[],o=[];ou("Patches").generateReplacementPatches_(t,i,a,o),r(a,o)}return i}else $a(1,t)},this.produceWithPatches=(t,n)=>{if(typeof t=="function")return(o,...l)=>this.produceWithPatches(o,u=>t(u,...l));let r,i;return[this.produce(t,n,(o,l)=>{r=o,i=l}),r,i]},typeof e?.autoFreeze=="boolean"&&this.setAutoFreeze(e.autoFreeze),typeof e?.useStrictShallowCopy=="boolean"&&this.setUseStrictShallowCopy(e.useStrictShallowCopy),typeof e?.useStrictIteration=="boolean"&&this.setUseStrictIteration(e.useStrictIteration)}createDraft(e){au(e)||$a(8),Jd(e)&&(e=epe(e));const t=VR(this),n=mE(e,void 0);return n[Fi].isManual_=!0,fE(t),n}finishDraft(e,t){const n=e&&e[Fi];(!n||!n.isManual_)&&$a(9);const{scope_:r}=n;return WR(r,t),ZR(void 0,r)}setAutoFreeze(e){this.autoFreeze_=e}setUseStrictShallowCopy(e){this.useStrictShallowCopy_=e}setUseStrictIteration(e){this.useStrictIteration_=e}shouldUseStrictIteration(){return this.useStrictIteration_}applyPatches(e,t){let n;for(n=t.length-1;n>=0;n--){const i=t[n];if(i.path.length===0&&i.op==="replace"){e=i.value;break}}n>-1&&(t=t.slice(n+1));const r=ou("Patches").applyPatches_;return Jd(e)?r(e,t):this.produce(e,i=>r(i,t))}};function mE(e,t){const n=gp(e)?ou("MapSet").proxyMap_(e,t):ex(e)?ou("MapSet").proxySet_(e,t):Xme(e,t);return(t?t.scope_:a9()).drafts_.push(n),n}function epe(e){return Jd(e)||$a(10,e),s9(e)}function s9(e){if(!au(e)||tx(e))return e;const t=e[Fi];let n,r=!0;if(t){if(!t.modified_)return t.base_;t.finalized_=!0,n=uE(e,t.scope_.immer_.useStrictShallowCopy_),r=t.scope_.immer_.shouldUseStrictIteration()}else n=uE(e,!0);return wb(n,(i,a)=>{i9(n,i,s9(a))},r),t&&(t.finalized_=!1),n}var tpe=new Qme;tpe.produce;var npe={settings:{layout:"horizontal",align:"center",verticalAlign:"middle",itemSorter:"value"},size:{width:0,height:0},payload:[]},l9=mi({name:"legend",initialState:npe,reducers:{setLegendSize(e,t){e.size.width=t.payload.width,e.size.height=t.payload.height},setLegendSettings(e,t){e.settings.align=t.payload.align,e.settings.layout=t.payload.layout,e.settings.verticalAlign=t.payload.verticalAlign,e.settings.itemSorter=t.payload.itemSorter},addLegendPayload:{reducer(e,t){e.payload.push(t.payload)},prepare:an()},replaceLegendPayload:{reducer(e,t){var{prev:n,next:r}=t.payload,i=Ua(e).payload.indexOf(n);i>-1&&(e.payload[i]=r)},prepare:an()},removeLegendPayload:{reducer(e,t){var n=Ua(e).payload.indexOf(t.payload);n>-1&&e.payload.splice(n,1)},prepare:an()}}}),{setLegendSize:lje,setLegendSettings:cje,addLegendPayload:rpe,replaceLegendPayload:ipe,removeLegendPayload:ape}=l9.actions,ope=l9.reducer;function pE(){return pE=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},pE.apply(null,arguments)}function JR(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function pS(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?JR(Object(n),!0).forEach(function(r){spe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):JR(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function spe(e,t,n){return(t=lpe(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function lpe(e){var t=cpe(e,"string");return typeof t=="symbol"?t:t+""}function cpe(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function upe(e){return Array.isArray(e)&&Eo(e[0])&&Eo(e[1])?e.join(" ~ "):e}var dpe=e=>{var{separator:t=" : ",contentStyle:n={},itemStyle:r={},labelStyle:i={},payload:a,formatter:o,itemSorter:l,wrapperClassName:u,labelClassName:f,label:h,labelFormatter:p,accessibilityLayer:g=!1}=e,x=()=>{if(a&&a.length){var C={padding:0,margin:0},D=(l?$v(a,l):a).map(($,H)=>{if($.type==="none")return null;var q=$.formatter||o||upe,{value:K,name:U}=$,z=K,V=U;if(q){var J=q(K,U,$,H,a);if(Array.isArray(J))[z,V]=J;else if(J!=null)z=J;else return null}var Q=pS({display:"block",paddingTop:4,paddingBottom:4,color:$.color||"#000"},r);return w.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(H),style:Q},Eo(V)?w.createElement("span",{className:"recharts-tooltip-item-name"},V):null,Eo(V)?w.createElement("span",{className:"recharts-tooltip-item-separator"},t):null,w.createElement("span",{className:"recharts-tooltip-item-value"},z),w.createElement("span",{className:"recharts-tooltip-item-unit"},$.unit||""))});return w.createElement("ul",{className:"recharts-tooltip-item-list",style:C},D)}return null},S=pS({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},n),_=pS({margin:0},i),k=!xr(h),T=k?h:"",N=Qt("recharts-default-tooltip",u),O=Qt("recharts-tooltip-label",f);k&&p&&a!==void 0&&a!==null&&(T=p(h,a));var P=g?{role:"status","aria-live":"assertive"}:{};return w.createElement("div",pE({className:N,style:S},P),w.createElement("p",{className:O,style:_},w.isValidElement(T)?T:"".concat(T)),x())},qh="recharts-tooltip-wrapper",fpe={visibility:"hidden"};function hpe(e){var{coordinate:t,translateX:n,translateY:r}=e;return Qt(qh,{["".concat(qh,"-right")]:We(n)&&t&&We(t.x)&&n>=t.x,["".concat(qh,"-left")]:We(n)&&t&&We(t.x)&&n<t.x,["".concat(qh,"-bottom")]:We(r)&&t&&We(t.y)&&r>=t.y,["".concat(qh,"-top")]:We(r)&&t&&We(t.y)&&r<t.y})}function QR(e){var{allowEscapeViewBox:t,coordinate:n,key:r,offsetTopLeft:i,position:a,reverseDirection:o,tooltipDimension:l,viewBox:u,viewBoxDimension:f}=e;if(a&&We(a[r]))return a[r];var h=n[r]-l-(i>0?i:0),p=n[r]+i;if(t[r])return o[r]?h:p;var g=u[r];if(g==null)return 0;if(o[r]){var x=h,S=g;return x<S?Math.max(p,g):Math.max(h,g)}if(f==null)return 0;var _=p+l,k=g+f;return _>k?Math.max(h,g):Math.max(p,g)}function mpe(e){var{translateX:t,translateY:n,useTranslate3d:r}=e;return{transform:r?"translate3d(".concat(t,"px, ").concat(n,"px, 0)"):"translate(".concat(t,"px, ").concat(n,"px)")}}function ppe(e){var{allowEscapeViewBox:t,coordinate:n,offsetTopLeft:r,position:i,reverseDirection:a,tooltipBox:o,useTranslate3d:l,viewBox:u}=e,f,h,p;return o.height>0&&o.width>0&&n?(h=QR({allowEscapeViewBox:t,coordinate:n,key:"x",offsetTopLeft:r,position:i,reverseDirection:a,tooltipDimension:o.width,viewBox:u,viewBoxDimension:u.width}),p=QR({allowEscapeViewBox:t,coordinate:n,key:"y",offsetTopLeft:r,position:i,reverseDirection:a,tooltipDimension:o.height,viewBox:u,viewBoxDimension:u.height}),f=mpe({translateX:h,translateY:p,useTranslate3d:l})):f=fpe,{cssProperties:f,cssClasses:hpe({translateX:h,translateY:p,coordinate:n})}}function eL(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function W0(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?eL(Object(n),!0).forEach(function(r){gE(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):eL(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function gE(e,t,n){return(t=gpe(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function gpe(e){var t=ype(e,"string");return typeof t=="symbol"?t:t+""}function ype(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class bpe extends w.PureComponent{constructor(){super(...arguments),gE(this,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0}}),gE(this,"handleKeyDown",t=>{if(t.key==="Escape"){var n,r,i,a;this.setState({dismissed:!0,dismissedAtCoordinate:{x:(n=(r=this.props.coordinate)===null||r===void 0?void 0:r.x)!==null&&n!==void 0?n:0,y:(i=(a=this.props.coordinate)===null||a===void 0?void 0:a.y)!==null&&i!==void 0?i:0}})}})}componentDidMount(){document.addEventListener("keydown",this.handleKeyDown)}componentWillUnmount(){document.removeEventListener("keydown",this.handleKeyDown)}componentDidUpdate(){var t,n;this.state.dismissed&&(((t=this.props.coordinate)===null||t===void 0?void 0:t.x)!==this.state.dismissedAtCoordinate.x||((n=this.props.coordinate)===null||n===void 0?void 0:n.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}render(){var{active:t,allowEscapeViewBox:n,animationDuration:r,animationEasing:i,children:a,coordinate:o,hasPayload:l,isAnimationActive:u,offset:f,position:h,reverseDirection:p,useTranslate3d:g,viewBox:x,wrapperStyle:S,lastBoundingBox:_,innerRef:k,hasPortalFromProps:T}=this.props,{cssClasses:N,cssProperties:O}=ppe({allowEscapeViewBox:n,coordinate:o,offsetTopLeft:f,position:h,reverseDirection:p,tooltipBox:{height:_.height,width:_.width},useTranslate3d:g,viewBox:x}),P=T?{}:W0(W0({transition:u&&t?"transform ".concat(r,"ms ").concat(i):void 0},O),{},{pointerEvents:"none",visibility:!this.state.dismissed&&t&&l?"visible":"hidden",position:"absolute",top:0,left:0}),C=W0(W0({},P),{},{visibility:!this.state.dismissed&&t&&l?"visible":"hidden"},S);return w.createElement("div",{xmlns:"http://www.w3.org/1999/xhtml",tabIndex:-1,className:N,style:C,ref:k},a)}}var c9=()=>{var e;return(e=Je(t=>t.rootProps.accessibilityLayer))!==null&&e!==void 0?e:!0};function yE(){return yE=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},yE.apply(null,arguments)}function tL(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function nL(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?tL(Object(n),!0).forEach(function(r){vpe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):tL(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function vpe(e,t,n){return(t=xpe(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function xpe(e){var t=_pe(e,"string");return typeof t=="symbol"?t:t+""}function _pe(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var rL={curveBasisClosed:Pde,curveBasisOpen:Dde,curveBasis:Mde,curveBumpX:Nde,curveBumpY:Cde,curveLinearClosed:Rde,curveLinear:Rv,curveMonotoneX:Lde,curveMonotoneY:Ide,curveNatural:$de,curveStep:Bde,curveStepAfter:Ude,curveStepBefore:zde},Eb=e=>_n(e.x)&&_n(e.y),iL=e=>e.base!=null&&Eb(e.base)&&Eb(e),Yh=e=>e.x,Kh=e=>e.y,wpe=(e,t)=>{if(typeof e=="function")return e;var n="curve".concat(SA(e));return(n==="curveMonotone"||n==="curveBump")&&t?rL["".concat(n).concat(t==="vertical"?"Y":"X")]:rL[n]||Rv},Spe=e=>{var{type:t="linear",points:n=[],baseLine:r,layout:i,connectNulls:a=!1}=e,o=wpe(t,i),l=a?n.filter(Eb):n,u;if(Array.isArray(r)){var f=n.map((x,S)=>nL(nL({},x),{},{base:r[S]}));i==="vertical"?u=z0().y(Kh).x1(Yh).x0(x=>x.base.x):u=z0().x(Yh).y1(Kh).y0(x=>x.base.y);var h=u.defined(iL).curve(o),p=a?f.filter(iL):f;return h(p)}i==="vertical"&&We(r)?u=z0().y(Kh).x1(Yh).x0(r):We(r)?u=z0().x(Yh).y1(Kh).y0(r):u=q7().x(Yh).y(Kh);var g=u.defined(Eb).curve(o);return g(l)},wy=e=>{var{className:t,points:n,path:r,pathRef:i}=e;if((!n||!n.length)&&!r)return null;var a=n&&n.length?Spe(e):r;return w.createElement("path",yE({},Ga(e),kA(e),{className:Qt("recharts-curve",t),d:a===null?void 0:a,ref:i}))},kpe=["x","y","top","left","width","height","className"];function bE(){return bE=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},bE.apply(null,arguments)}function aL(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Epe(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?aL(Object(n),!0).forEach(function(r){Ape(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):aL(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Ape(e,t,n){return(t=Tpe(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Tpe(e){var t=Ope(e,"string");return typeof t=="symbol"?t:t+""}function Ope(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function jpe(e,t){if(e==null)return{};var n,r,i=Npe(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function Npe(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var Cpe=(e,t,n,r,i,a)=>"M".concat(e,",").concat(i,"v").concat(r,"M").concat(a,",").concat(t,"h").concat(n),Mpe=e=>{var{x:t=0,y:n=0,top:r=0,left:i=0,width:a=0,height:o=0,className:l}=e,u=jpe(e,kpe),f=Epe({x:t,y:n,top:r,left:i,width:a,height:o},u);return!We(t)||!We(n)||!We(a)||!We(o)||!We(r)||!We(i)?null:w.createElement("path",bE({},ma(f),{className:Qt("recharts-cross",l),d:Cpe(t,n,a,o,r,i)}))};function Ppe(e,t,n,r){var i=r/2;return{stroke:"none",fill:"#ccc",x:e==="horizontal"?t.x-i:n.left+.5,y:e==="horizontal"?n.top+.5:t.y-i,width:e==="horizontal"?r:n.width-1,height:e==="horizontal"?n.height-1:r}}function oL(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function sL(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?oL(Object(n),!0).forEach(function(r){Dpe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):oL(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Dpe(e,t,n){return(t=Rpe(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Rpe(e){var t=Lpe(e,"string");return typeof t=="symbol"?t:t+""}function Lpe(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Ipe=e=>e.replace(/([A-Z])/g,t=>"-".concat(t.toLowerCase())),$pe=(e,t,n)=>e.map(r=>"".concat(Ipe(r)," ").concat(t,"ms ").concat(n)).join(","),Bpe=(e,t)=>[Object.keys(e),Object.keys(t)].reduce((n,r)=>n.filter(i=>r.includes(i))),$m=(e,t)=>Object.keys(t).reduce((n,r)=>sL(sL({},n),{},{[r]:e(r,t[r])}),{});function lL(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Yn(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?lL(Object(n),!0).forEach(function(r){zpe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):lL(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function zpe(e,t,n){return(t=Upe(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Upe(e){var t=Fpe(e,"string");return typeof t=="symbol"?t:t+""}function Fpe(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Ab=(e,t,n)=>e+(t-e)*n,vE=e=>{var{from:t,to:n}=e;return t!==n},u9=(e,t,n)=>{var r=$m((i,a)=>{if(vE(a)){var[o,l]=e(a.from,a.to,a.velocity);return Yn(Yn({},a),{},{from:o,velocity:l})}return a},t);return n<1?$m((i,a)=>vE(a)?Yn(Yn({},a),{},{velocity:Ab(a.velocity,r[i].velocity,n),from:Ab(a.from,r[i].from,n)}):a,t):u9(e,r,n-1)};function Hpe(e,t,n,r,i,a){var o,l=r.reduce((g,x)=>Yn(Yn({},g),{},{[x]:{from:e[x],velocity:0,to:t[x]}}),{}),u=()=>$m((g,x)=>x.from,l),f=()=>!Object.values(l).filter(vE).length,h=null,p=g=>{o||(o=g);var x=g-o,S=x/n.dt;l=u9(n,l,S),i(Yn(Yn(Yn({},e),t),u())),o=g,f()||(h=a.setTimeout(p))};return()=>(h=a.setTimeout(p),()=>{var g;(g=h)===null||g===void 0||g()})}function Gpe(e,t,n,r,i,a,o){var l=null,u=i.reduce((p,g)=>Yn(Yn({},p),{},{[g]:[e[g],t[g]]}),{}),f,h=p=>{f||(f=p);var g=(p-f)/r,x=$m((_,k)=>Ab(...k,n(g)),u);if(a(Yn(Yn(Yn({},e),t),x)),g<1)l=o.setTimeout(h);else{var S=$m((_,k)=>Ab(...k,n(1)),u);a(Yn(Yn(Yn({},e),t),S))}};return()=>(l=o.setTimeout(h),()=>{var p;(p=l)===null||p===void 0||p()})}const qpe=(e,t,n,r,i,a)=>{var o=Bpe(e,t);return n==null?()=>(i(Yn(Yn({},e),t)),()=>{}):n.isStepper===!0?Hpe(e,t,n,o,i,a):Gpe(e,t,n,r,o,i,a)};var Tb=1e-4,d9=(e,t)=>[0,3*e,3*t-6*e,3*e-3*t+1],f9=(e,t)=>e.map((n,r)=>n*t**r).reduce((n,r)=>n+r),cL=(e,t)=>n=>{var r=d9(e,t);return f9(r,n)},Ype=(e,t)=>n=>{var r=d9(e,t),i=[...r.map((a,o)=>a*o).slice(1),0];return f9(i,n)},Kpe=function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];if(n.length===1)switch(n[0]){case"linear":return[0,0,1,1];case"ease":return[.25,.1,.25,1];case"ease-in":return[.42,0,1,1];case"ease-out":return[.42,0,.58,1];case"ease-in-out":return[0,0,.58,1];default:{var i,a=n[0].split("(");if(a[0]==="cubic-bezier"&&((i=a[1])===null||i===void 0?void 0:i.split(")")[0].split(",").length)===4){var o=a[1].split(")")[0].split(",").map(l=>parseFloat(l));return[o[0],o[1],o[2],o[3]]}}}return n.length===4?n:[0,0,1,1]},Wpe=(e,t,n,r)=>{var i=cL(e,n),a=cL(t,r),o=Ype(e,n),l=f=>f>1?1:f<0?0:f,u=f=>{for(var h=f>1?1:f,p=h,g=0;g<8;++g){var x=i(p)-h,S=o(p);if(Math.abs(x-h)<Tb||S<Tb)return a(p);p=l(p-x/S)}return a(p)};return u.isStepper=!1,u},uL=function(){return Wpe(...Kpe(...arguments))},Vpe=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},{stiff:n=100,damping:r=8,dt:i=17}=t,a=(o,l,u)=>{var f=-(o-l)*n,h=u*r,p=u+(f-h)*i/1e3,g=u*i/1e3+o;return Math.abs(g-l)<Tb&&Math.abs(p)<Tb?[l,0]:[g,p]};return a.isStepper=!0,a.dt=i,a},Zpe=e=>{if(typeof e=="string")switch(e){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return uL(e);case"spring":return Vpe();default:if(e.split("(")[0]==="cubic-bezier")return uL(e)}return typeof e=="function"?e:null};function Xpe(e){var t,n=()=>null,r=!1,i=null,a=o=>{if(!r){if(Array.isArray(o)){if(!o.length)return;var l=o,[u,...f]=l;if(typeof u=="number"){i=e.setTimeout(a.bind(null,f),u);return}a(u),i=e.setTimeout(a.bind(null,f));return}typeof o=="string"&&(t=o,n(t)),typeof o=="object"&&(t=o,n(t)),typeof o=="function"&&o()}};return{stop:()=>{r=!0},start:o=>{r=!1,i&&(i(),i=null),a(o)},subscribe:o=>(n=o,()=>{n=()=>null}),getTimeoutController:()=>e}}class Jpe{setTimeout(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=performance.now(),i=null,a=o=>{o-r>=n?t(o):typeof requestAnimationFrame=="function"&&(i=requestAnimationFrame(a))};return i=requestAnimationFrame(a),()=>{i!=null&&cancelAnimationFrame(i)}}}function Qpe(){return Xpe(new Jpe)}var ege=w.createContext(Qpe);function tge(e,t){var n=w.useContext(ege);return w.useMemo(()=>t??n(e),[e,t,n])}var nge=()=>!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout),gf={devToolsEnabled:!1,isSsr:nge()},rge={begin:0,duration:1e3,easing:"ease",isActive:!0,canBegin:!0,onAnimationEnd:()=>{},onAnimationStart:()=>{}},dL={t:0},gS={t:1};function h9(e){var t=Gi(e,rge),{isActive:n,canBegin:r,duration:i,easing:a,begin:o,onAnimationEnd:l,onAnimationStart:u,children:f}=t,h=n==="auto"?!gf.isSsr:n,p=tge(t.animationId,t.animationManager),[g,x]=w.useState(h?dL:gS),S=w.useRef(null);return w.useEffect(()=>{h||x(gS)},[h]),w.useEffect(()=>{if(!h||!r)return up;var _=qpe(dL,gS,Zpe(a),i,x,p.getTimeoutController()),k=()=>{S.current=_()};return p.start([u,o,k,i,l]),()=>{p.stop(),S.current&&S.current(),l()}},[h,r,i,a,o,u,l,p]),f(g.t)}function m9(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"animation-",n=w.useRef(Cm(t)),r=w.useRef(e);return r.current!==e&&(n.current=Cm(t),r.current=e),n.current}var ige=["radius"],age=["radius"];function fL(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function hL(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?fL(Object(n),!0).forEach(function(r){oge(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):fL(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function oge(e,t,n){return(t=sge(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function sge(e){var t=lge(e,"string");return typeof t=="symbol"?t:t+""}function lge(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Ob(){return Ob=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ob.apply(null,arguments)}function mL(e,t){if(e==null)return{};var n,r,i=cge(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function cge(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var pL=(e,t,n,r,i)=>{var a=Math.min(Math.abs(n)/2,Math.abs(r)/2),o=r>=0?1:-1,l=n>=0?1:-1,u=r>=0&&n>=0||r<0&&n<0?1:0,f;if(a>0&&i instanceof Array){for(var h=[0,0,0,0],p=0,g=4;p<g;p++)h[p]=i[p]>a?a:i[p];f="M".concat(e,",").concat(t+o*h[0]),h[0]>0&&(f+="A ".concat(h[0],",").concat(h[0],",0,0,").concat(u,",").concat(e+l*h[0],",").concat(t)),f+="L ".concat(e+n-l*h[1],",").concat(t),h[1]>0&&(f+="A ".concat(h[1],",").concat(h[1],",0,0,").concat(u,`,
        `).concat(e+n,",").concat(t+o*h[1])),f+="L ".concat(e+n,",").concat(t+r-o*h[2]),h[2]>0&&(f+="A ".concat(h[2],",").concat(h[2],",0,0,").concat(u,`,
        `).concat(e+n-l*h[2],",").concat(t+r)),f+="L ".concat(e+l*h[3],",").concat(t+r),h[3]>0&&(f+="A ".concat(h[3],",").concat(h[3],",0,0,").concat(u,`,
        `).concat(e,",").concat(t+r-o*h[3])),f+="Z"}else if(a>0&&i===+i&&i>0){var x=Math.min(a,i);f="M ".concat(e,",").concat(t+o*x,`
            A `).concat(x,",").concat(x,",0,0,").concat(u,",").concat(e+l*x,",").concat(t,`
            L `).concat(e+n-l*x,",").concat(t,`
            A `).concat(x,",").concat(x,",0,0,").concat(u,",").concat(e+n,",").concat(t+o*x,`
            L `).concat(e+n,",").concat(t+r-o*x,`
            A `).concat(x,",").concat(x,",0,0,").concat(u,",").concat(e+n-l*x,",").concat(t+r,`
            L `).concat(e+l*x,",").concat(t+r,`
            A `).concat(x,",").concat(x,",0,0,").concat(u,",").concat(e,",").concat(t+r-o*x," Z")}else f="M ".concat(e,",").concat(t," h ").concat(n," v ").concat(r," h ").concat(-n," Z");return f},gL={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},uge=e=>{var t=Gi(e,gL),n=w.useRef(null),[r,i]=w.useState(-1);w.useEffect(()=>{if(n.current&&n.current.getTotalLength)try{var Z=n.current.getTotalLength();Z&&i(Z)}catch{}},[]);var{x:a,y:o,width:l,height:u,radius:f,className:h}=t,{animationEasing:p,animationDuration:g,animationBegin:x,isAnimationActive:S,isUpdateAnimationActive:_}=t,k=w.useRef(l),T=w.useRef(u),N=w.useRef(a),O=w.useRef(o),P=w.useMemo(()=>({x:a,y:o,width:l,height:u,radius:f}),[a,o,l,u,f]),C=m9(P,"rectangle-");if(a!==+a||o!==+o||l!==+l||u!==+u||l===0||u===0)return null;var D=Qt("recharts-rectangle",h);if(!_){var $=ma(t),{radius:H}=$,q=mL($,ige);return w.createElement("path",Ob({},q,{radius:typeof f=="number"?f:void 0,className:D,d:pL(a,o,l,u,f)}))}var K=k.current,U=T.current,z=N.current,V=O.current,J="0px ".concat(r===-1?1:r,"px"),Q="".concat(r,"px 0px"),Y=$pe(["strokeDasharray"],g,typeof p=="string"?p:gL.animationEasing);return w.createElement(h9,{animationId:C,key:C,canBegin:r>0,duration:g,easing:p,isActive:_,begin:x},Z=>{var re=bo(K,l,Z),ue=bo(U,u,Z),se=bo(z,a,Z),B=bo(V,o,Z);n.current&&(k.current=re,T.current=ue,N.current=se,O.current=B);var W;S?Z>0?W={transition:Y,strokeDasharray:Q}:W={strokeDasharray:J}:W={strokeDasharray:Q};var ae=ma(t),{radius:X}=ae,oe=mL(ae,age);return w.createElement("path",Ob({},oe,{radius:typeof f=="number"?f:void 0,className:D,d:pL(se,B,re,ue,f),ref:n,style:hL(hL({},W),t.style)}))})};function yL(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function bL(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?yL(Object(n),!0).forEach(function(r){dge(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):yL(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function dge(e,t,n){return(t=fge(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function fge(e){var t=hge(e,"string");return typeof t=="symbol"?t:t+""}function hge(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var jb=Math.PI/180,mge=e=>e*180/Math.PI,vr=(e,t,n,r)=>({x:e+Math.cos(-jb*r)*n,y:t+Math.sin(-jb*r)*n}),pge=function(t,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(t-(r.left||0)-(r.right||0)),Math.abs(n-(r.top||0)-(r.bottom||0)))/2},gge=(e,t)=>{var{x:n,y:r}=e,{x:i,y:a}=t;return Math.sqrt((n-i)**2+(r-a)**2)},yge=(e,t)=>{var{x:n,y:r}=e,{cx:i,cy:a}=t,o=gge({x:n,y:r},{x:i,y:a});if(o<=0)return{radius:o,angle:0};var l=(n-i)/o,u=Math.acos(l);return r>a&&(u=2*Math.PI-u),{radius:o,angle:mge(u),angleInRadian:u}},bge=e=>{var{startAngle:t,endAngle:n}=e,r=Math.floor(t/360),i=Math.floor(n/360),a=Math.min(r,i);return{startAngle:t-a*360,endAngle:n-a*360}},vge=(e,t)=>{var{startAngle:n,endAngle:r}=t,i=Math.floor(n/360),a=Math.floor(r/360),o=Math.min(i,a);return e+o*360},xge=(e,t)=>{var{chartX:n,chartY:r}=e,{radius:i,angle:a}=yge({x:n,y:r},t),{innerRadius:o,outerRadius:l}=t;if(i<o||i>l||i===0)return null;var{startAngle:u,endAngle:f}=bge(t),h=a,p;if(u<=f){for(;h>f;)h-=360;for(;h<u;)h+=360;p=h>=u&&h<=f}else{for(;h>u;)h-=360;for(;h<f;)h+=360;p=h>=f&&h<=u}return p?bL(bL({},t),{},{radius:i,angle:vge(h,t)}):null};function p9(e){var{cx:t,cy:n,radius:r,startAngle:i,endAngle:a}=e,o=vr(t,n,r,i),l=vr(t,n,r,a);return{points:[o,l],cx:t,cy:n,radius:r,startAngle:i,endAngle:a}}function xE(){return xE=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},xE.apply(null,arguments)}var _ge=(e,t)=>{var n=ca(t-e),r=Math.min(Math.abs(t-e),359.999);return n*r},V0=e=>{var{cx:t,cy:n,radius:r,angle:i,sign:a,isExternal:o,cornerRadius:l,cornerIsExternal:u}=e,f=l*(o?1:-1)+r,h=Math.asin(l/f)/jb,p=u?i:i+a*h,g=vr(t,n,f,p),x=vr(t,n,r,p),S=u?i-a*h:i,_=vr(t,n,f*Math.cos(h*jb),S);return{center:g,circleTangency:x,lineTangency:_,theta:h}},g9=e=>{var{cx:t,cy:n,innerRadius:r,outerRadius:i,startAngle:a,endAngle:o}=e,l=_ge(a,o),u=a+l,f=vr(t,n,i,a),h=vr(t,n,i,u),p="M ".concat(f.x,",").concat(f.y,`
    A `).concat(i,",").concat(i,`,0,
    `).concat(+(Math.abs(l)>180),",").concat(+(a>u),`,
    `).concat(h.x,",").concat(h.y,`
  `);if(r>0){var g=vr(t,n,r,a),x=vr(t,n,r,u);p+="L ".concat(x.x,",").concat(x.y,`
            A `).concat(r,",").concat(r,`,0,
            `).concat(+(Math.abs(l)>180),",").concat(+(a<=u),`,
            `).concat(g.x,",").concat(g.y," Z")}else p+="L ".concat(t,",").concat(n," Z");return p},wge=e=>{var{cx:t,cy:n,innerRadius:r,outerRadius:i,cornerRadius:a,forceCornerRadius:o,cornerIsExternal:l,startAngle:u,endAngle:f}=e,h=ca(f-u),{circleTangency:p,lineTangency:g,theta:x}=V0({cx:t,cy:n,radius:i,angle:u,sign:h,cornerRadius:a,cornerIsExternal:l}),{circleTangency:S,lineTangency:_,theta:k}=V0({cx:t,cy:n,radius:i,angle:f,sign:-h,cornerRadius:a,cornerIsExternal:l}),T=l?Math.abs(u-f):Math.abs(u-f)-x-k;if(T<0)return o?"M ".concat(g.x,",").concat(g.y,`
        a`).concat(a,",").concat(a,",0,0,1,").concat(a*2,`,0
        a`).concat(a,",").concat(a,",0,0,1,").concat(-a*2,`,0
      `):g9({cx:t,cy:n,innerRadius:r,outerRadius:i,startAngle:u,endAngle:f});var N="M ".concat(g.x,",").concat(g.y,`
    A`).concat(a,",").concat(a,",0,0,").concat(+(h<0),",").concat(p.x,",").concat(p.y,`
    A`).concat(i,",").concat(i,",0,").concat(+(T>180),",").concat(+(h<0),",").concat(S.x,",").concat(S.y,`
    A`).concat(a,",").concat(a,",0,0,").concat(+(h<0),",").concat(_.x,",").concat(_.y,`
  `);if(r>0){var{circleTangency:O,lineTangency:P,theta:C}=V0({cx:t,cy:n,radius:r,angle:u,sign:h,isExternal:!0,cornerRadius:a,cornerIsExternal:l}),{circleTangency:D,lineTangency:$,theta:H}=V0({cx:t,cy:n,radius:r,angle:f,sign:-h,isExternal:!0,cornerRadius:a,cornerIsExternal:l}),q=l?Math.abs(u-f):Math.abs(u-f)-C-H;if(q<0&&a===0)return"".concat(N,"L").concat(t,",").concat(n,"Z");N+="L".concat($.x,",").concat($.y,`
      A`).concat(a,",").concat(a,",0,0,").concat(+(h<0),",").concat(D.x,",").concat(D.y,`
      A`).concat(r,",").concat(r,",0,").concat(+(q>180),",").concat(+(h>0),",").concat(O.x,",").concat(O.y,`
      A`).concat(a,",").concat(a,",0,0,").concat(+(h<0),",").concat(P.x,",").concat(P.y,"Z")}else N+="L".concat(t,",").concat(n,"Z");return N},Sge={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},kge=e=>{var t=Gi(e,Sge),{cx:n,cy:r,innerRadius:i,outerRadius:a,cornerRadius:o,forceCornerRadius:l,cornerIsExternal:u,startAngle:f,endAngle:h,className:p}=t;if(a<i||f===h)return null;var g=Qt("recharts-sector",p),x=a-i,S=Ml(o,x,0,!0),_;return S>0&&Math.abs(f-h)<360?_=wge({cx:n,cy:r,innerRadius:i,outerRadius:a,cornerRadius:Math.min(S,x/2),forceCornerRadius:l,cornerIsExternal:u,startAngle:f,endAngle:h}):_=g9({cx:n,cy:r,innerRadius:i,outerRadius:a,startAngle:f,endAngle:h}),w.createElement("path",xE({},ma(t),{className:g,d:_}))};function Ege(e,t,n){if(e==="horizontal")return[{x:t.x,y:n.top},{x:t.x,y:n.top+n.height}];if(e==="vertical")return[{x:n.left,y:t.y},{x:n.left+n.width,y:t.y}];if(r6(t)){if(e==="centric"){var{cx:r,cy:i,innerRadius:a,outerRadius:o,angle:l}=t,u=vr(r,i,a,l),f=vr(r,i,o,l);return[{x:u.x,y:u.y},{x:f.x,y:f.y}]}return p9(t)}}var yS={},bS={},vS={},vL;function Age(){return vL||(vL=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=m6();function n(r){return t.isSymbol(r)?NaN:Number(r)}e.toNumber=n})(vS)),vS}var xL;function Tge(){return xL||(xL=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Age();function n(r){return r?(r=t.toNumber(r),r===1/0||r===-1/0?(r<0?-1:1)*Number.MAX_VALUE:r===r?r:0):r===0?r:0}e.toFinite=n})(bS)),bS}var _L;function Oge(){return _L||(_L=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=p6(),n=Tge();function r(i,a,o){o&&typeof o!="number"&&t.isIterateeCall(i,a,o)&&(a=o=void 0),i=n.toFinite(i),a===void 0?(a=i,i=0):a=n.toFinite(a),o=o===void 0?i<a?1:-1:n.toFinite(o);const l=Math.max(Math.ceil((a-i)/(o||1)),0),u=new Array(l);for(let f=0;f<l;f++)u[f]=i,i+=o;return u}e.range=r})(yS)),yS}var xS,wL;function jge(){return wL||(wL=1,xS=Oge().range),xS}var Nge=jge();const y9=fi(Nge);function Tl(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function Cge(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function IA(e){let t,n,r;e.length!==2?(t=Tl,n=(l,u)=>Tl(e(l),u),r=(l,u)=>e(l)-u):(t=e===Tl||e===Cge?e:Mge,n=e,r=e);function i(l,u,f=0,h=l.length){if(f<h){if(t(u,u)!==0)return h;do{const p=f+h>>>1;n(l[p],u)<0?f=p+1:h=p}while(f<h)}return f}function a(l,u,f=0,h=l.length){if(f<h){if(t(u,u)!==0)return h;do{const p=f+h>>>1;n(l[p],u)<=0?f=p+1:h=p}while(f<h)}return f}function o(l,u,f=0,h=l.length){const p=i(l,u,f,h-1);return p>f&&r(l[p-1],u)>-r(l[p],u)?p-1:p}return{left:i,center:o,right:a}}function Mge(){return 0}function b9(e){return e===null?NaN:+e}function*Pge(e,t){for(let n of e)n!=null&&(n=+n)>=n&&(yield n)}const Dge=IA(Tl),yp=Dge.right;IA(b9).center;class SL extends Map{constructor(t,n=Ige){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),t!=null)for(const[r,i]of t)this.set(r,i)}get(t){return super.get(kL(this,t))}has(t){return super.has(kL(this,t))}set(t,n){return super.set(Rge(this,t),n)}delete(t){return super.delete(Lge(this,t))}}function kL({_intern:e,_key:t},n){const r=t(n);return e.has(r)?e.get(r):n}function Rge({_intern:e,_key:t},n){const r=t(n);return e.has(r)?e.get(r):(e.set(r,n),n)}function Lge({_intern:e,_key:t},n){const r=t(n);return e.has(r)&&(n=e.get(r),e.delete(r)),n}function Ige(e){return e!==null&&typeof e=="object"?e.valueOf():e}function $ge(e=Tl){if(e===Tl)return v9;if(typeof e!="function")throw new TypeError("compare is not a function");return(t,n)=>{const r=e(t,n);return r||r===0?r:(e(n,n)===0)-(e(t,t)===0)}}function v9(e,t){return(e==null||!(e>=e))-(t==null||!(t>=t))||(e<t?-1:e>t?1:0)}const Bge=Math.sqrt(50),zge=Math.sqrt(10),Uge=Math.sqrt(2);function Nb(e,t,n){const r=(t-e)/Math.max(0,n),i=Math.floor(Math.log10(r)),a=r/Math.pow(10,i),o=a>=Bge?10:a>=zge?5:a>=Uge?2:1;let l,u,f;return i<0?(f=Math.pow(10,-i)/o,l=Math.round(e*f),u=Math.round(t*f),l/f<e&&++l,u/f>t&&--u,f=-f):(f=Math.pow(10,i)*o,l=Math.round(e/f),u=Math.round(t/f),l*f<e&&++l,u*f>t&&--u),u<l&&.5<=n&&n<2?Nb(e,t,n*2):[l,u,f]}function _E(e,t,n){if(t=+t,e=+e,n=+n,!(n>0))return[];if(e===t)return[e];const r=t<e,[i,a,o]=r?Nb(t,e,n):Nb(e,t,n);if(!(a>=i))return[];const l=a-i+1,u=new Array(l);if(r)if(o<0)for(let f=0;f<l;++f)u[f]=(a-f)/-o;else for(let f=0;f<l;++f)u[f]=(a-f)*o;else if(o<0)for(let f=0;f<l;++f)u[f]=(i+f)/-o;else for(let f=0;f<l;++f)u[f]=(i+f)*o;return u}function wE(e,t,n){return t=+t,e=+e,n=+n,Nb(e,t,n)[2]}function SE(e,t,n){t=+t,e=+e,n=+n;const r=t<e,i=r?wE(t,e,n):wE(e,t,n);return(r?-1:1)*(i<0?1/-i:i)}function EL(e,t){let n;for(const r of e)r!=null&&(n<r||n===void 0&&r>=r)&&(n=r);return n}function AL(e,t){let n;for(const r of e)r!=null&&(n>r||n===void 0&&r>=r)&&(n=r);return n}function x9(e,t,n=0,r=1/0,i){if(t=Math.floor(t),n=Math.floor(Math.max(0,n)),r=Math.floor(Math.min(e.length-1,r)),!(n<=t&&t<=r))return e;for(i=i===void 0?v9:$ge(i);r>n;){if(r-n>600){const u=r-n+1,f=t-n+1,h=Math.log(u),p=.5*Math.exp(2*h/3),g=.5*Math.sqrt(h*p*(u-p)/u)*(f-u/2<0?-1:1),x=Math.max(n,Math.floor(t-f*p/u+g)),S=Math.min(r,Math.floor(t+(u-f)*p/u+g));x9(e,t,x,S,i)}const a=e[t];let o=n,l=r;for(Wh(e,n,t),i(e[r],a)>0&&Wh(e,n,r);o<l;){for(Wh(e,o,l),++o,--l;i(e[o],a)<0;)++o;for(;i(e[l],a)>0;)--l}i(e[n],a)===0?Wh(e,n,l):(++l,Wh(e,l,r)),l<=t&&(n=l+1),t<=l&&(r=l-1)}return e}function Wh(e,t,n){const r=e[t];e[t]=e[n],e[n]=r}function Fge(e,t,n){if(e=Float64Array.from(Pge(e)),!(!(r=e.length)||isNaN(t=+t))){if(t<=0||r<2)return AL(e);if(t>=1)return EL(e);var r,i=(r-1)*t,a=Math.floor(i),o=EL(x9(e,a).subarray(0,a+1)),l=AL(e.subarray(a+1));return o+(l-o)*(i-a)}}function Hge(e,t,n=b9){if(!(!(r=e.length)||isNaN(t=+t))){if(t<=0||r<2)return+n(e[0],0,e);if(t>=1)return+n(e[r-1],r-1,e);var r,i=(r-1)*t,a=Math.floor(i),o=+n(e[a],a,e),l=+n(e[a+1],a+1,e);return o+(l-o)*(i-a)}}function Gge(e,t,n){e=+e,t=+t,n=(i=arguments.length)<2?(t=e,e=0,1):i<3?1:+n;for(var r=-1,i=Math.max(0,Math.ceil((t-e)/n))|0,a=new Array(i);++r<i;)a[r]=e+r*n;return a}function xa(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}function Os(e,t){switch(arguments.length){case 0:break;case 1:{typeof e=="function"?this.interpolator(e):this.range(e);break}default:{this.domain(e),typeof t=="function"?this.interpolator(t):this.range(t);break}}return this}const kE=Symbol("implicit");function $A(){var e=new SL,t=[],n=[],r=kE;function i(a){let o=e.get(a);if(o===void 0){if(r!==kE)return r;e.set(a,o=t.push(a)-1)}return n[o%n.length]}return i.domain=function(a){if(!arguments.length)return t.slice();t=[],e=new SL;for(const o of a)e.has(o)||e.set(o,t.push(o)-1);return i},i.range=function(a){return arguments.length?(n=Array.from(a),i):n.slice()},i.unknown=function(a){return arguments.length?(r=a,i):r},i.copy=function(){return $A(t,n).unknown(r)},xa.apply(i,arguments),i}function BA(){var e=$A().unknown(void 0),t=e.domain,n=e.range,r=0,i=1,a,o,l=!1,u=0,f=0,h=.5;delete e.unknown;function p(){var g=t().length,x=i<r,S=x?i:r,_=x?r:i;a=(_-S)/Math.max(1,g-u+f*2),l&&(a=Math.floor(a)),S+=(_-S-a*(g-u))*h,o=a*(1-u),l&&(S=Math.round(S),o=Math.round(o));var k=Gge(g).map(function(T){return S+a*T});return n(x?k.reverse():k)}return e.domain=function(g){return arguments.length?(t(g),p()):t()},e.range=function(g){return arguments.length?([r,i]=g,r=+r,i=+i,p()):[r,i]},e.rangeRound=function(g){return[r,i]=g,r=+r,i=+i,l=!0,p()},e.bandwidth=function(){return o},e.step=function(){return a},e.round=function(g){return arguments.length?(l=!!g,p()):l},e.padding=function(g){return arguments.length?(u=Math.min(1,f=+g),p()):u},e.paddingInner=function(g){return arguments.length?(u=Math.min(1,g),p()):u},e.paddingOuter=function(g){return arguments.length?(f=+g,p()):f},e.align=function(g){return arguments.length?(h=Math.max(0,Math.min(1,g)),p()):h},e.copy=function(){return BA(t(),[r,i]).round(l).paddingInner(u).paddingOuter(f).align(h)},xa.apply(p(),arguments)}function _9(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return _9(t())},e}function qge(){return _9(BA.apply(null,arguments).paddingInner(1))}function zA(e,t,n){e.prototype=t.prototype=n,n.constructor=e}function w9(e,t){var n=Object.create(e.prototype);for(var r in t)n[r]=t[r];return n}function bp(){}var Bm=.7,Cb=1/Bm,Id="\\s*([+-]?\\d+)\\s*",zm="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",wo="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",Yge=/^#([0-9a-f]{3,8})$/,Kge=new RegExp(`^rgb\\(${Id},${Id},${Id}\\)$`),Wge=new RegExp(`^rgb\\(${wo},${wo},${wo}\\)$`),Vge=new RegExp(`^rgba\\(${Id},${Id},${Id},${zm}\\)$`),Zge=new RegExp(`^rgba\\(${wo},${wo},${wo},${zm}\\)$`),Xge=new RegExp(`^hsl\\(${zm},${wo},${wo}\\)$`),Jge=new RegExp(`^hsla\\(${zm},${wo},${wo},${zm}\\)$`),TL={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};zA(bp,Um,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:OL,formatHex:OL,formatHex8:Qge,formatHsl:e0e,formatRgb:jL,toString:jL});function OL(){return this.rgb().formatHex()}function Qge(){return this.rgb().formatHex8()}function e0e(){return S9(this).formatHsl()}function jL(){return this.rgb().formatRgb()}function Um(e){var t,n;return e=(e+"").trim().toLowerCase(),(t=Yge.exec(e))?(n=t[1].length,t=parseInt(t[1],16),n===6?NL(t):n===3?new li(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):n===8?Z0(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):n===4?Z0(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=Kge.exec(e))?new li(t[1],t[2],t[3],1):(t=Wge.exec(e))?new li(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=Vge.exec(e))?Z0(t[1],t[2],t[3],t[4]):(t=Zge.exec(e))?Z0(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=Xge.exec(e))?PL(t[1],t[2]/100,t[3]/100,1):(t=Jge.exec(e))?PL(t[1],t[2]/100,t[3]/100,t[4]):TL.hasOwnProperty(e)?NL(TL[e]):e==="transparent"?new li(NaN,NaN,NaN,0):null}function NL(e){return new li(e>>16&255,e>>8&255,e&255,1)}function Z0(e,t,n,r){return r<=0&&(e=t=n=NaN),new li(e,t,n,r)}function t0e(e){return e instanceof bp||(e=Um(e)),e?(e=e.rgb(),new li(e.r,e.g,e.b,e.opacity)):new li}function EE(e,t,n,r){return arguments.length===1?t0e(e):new li(e,t,n,r??1)}function li(e,t,n,r){this.r=+e,this.g=+t,this.b=+n,this.opacity=+r}zA(li,EE,w9(bp,{brighter(e){return e=e==null?Cb:Math.pow(Cb,e),new li(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?Bm:Math.pow(Bm,e),new li(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new li(Qc(this.r),Qc(this.g),Qc(this.b),Mb(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:CL,formatHex:CL,formatHex8:n0e,formatRgb:ML,toString:ML}));function CL(){return`#${Wc(this.r)}${Wc(this.g)}${Wc(this.b)}`}function n0e(){return`#${Wc(this.r)}${Wc(this.g)}${Wc(this.b)}${Wc((isNaN(this.opacity)?1:this.opacity)*255)}`}function ML(){const e=Mb(this.opacity);return`${e===1?"rgb(":"rgba("}${Qc(this.r)}, ${Qc(this.g)}, ${Qc(this.b)}${e===1?")":`, ${e})`}`}function Mb(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function Qc(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function Wc(e){return e=Qc(e),(e<16?"0":"")+e.toString(16)}function PL(e,t,n,r){return r<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new Ba(e,t,n,r)}function S9(e){if(e instanceof Ba)return new Ba(e.h,e.s,e.l,e.opacity);if(e instanceof bp||(e=Um(e)),!e)return new Ba;if(e instanceof Ba)return e;e=e.rgb();var t=e.r/255,n=e.g/255,r=e.b/255,i=Math.min(t,n,r),a=Math.max(t,n,r),o=NaN,l=a-i,u=(a+i)/2;return l?(t===a?o=(n-r)/l+(n<r)*6:n===a?o=(r-t)/l+2:o=(t-n)/l+4,l/=u<.5?a+i:2-a-i,o*=60):l=u>0&&u<1?0:o,new Ba(o,l,u,e.opacity)}function r0e(e,t,n,r){return arguments.length===1?S9(e):new Ba(e,t,n,r??1)}function Ba(e,t,n,r){this.h=+e,this.s=+t,this.l=+n,this.opacity=+r}zA(Ba,r0e,w9(bp,{brighter(e){return e=e==null?Cb:Math.pow(Cb,e),new Ba(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?Bm:Math.pow(Bm,e),new Ba(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*t,i=2*n-r;return new li(_S(e>=240?e-240:e+120,i,r),_S(e,i,r),_S(e<120?e+240:e-120,i,r),this.opacity)},clamp(){return new Ba(DL(this.h),X0(this.s),X0(this.l),Mb(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=Mb(this.opacity);return`${e===1?"hsl(":"hsla("}${DL(this.h)}, ${X0(this.s)*100}%, ${X0(this.l)*100}%${e===1?")":`, ${e})`}`}}));function DL(e){return e=(e||0)%360,e<0?e+360:e}function X0(e){return Math.max(0,Math.min(1,e||0))}function _S(e,t,n){return(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)*255}const UA=e=>()=>e;function i0e(e,t){return function(n){return e+n*t}}function a0e(e,t,n){return e=Math.pow(e,n),t=Math.pow(t,n)-e,n=1/n,function(r){return Math.pow(e+r*t,n)}}function o0e(e){return(e=+e)==1?k9:function(t,n){return n-t?a0e(t,n,e):UA(isNaN(t)?n:t)}}function k9(e,t){var n=t-e;return n?i0e(e,n):UA(isNaN(e)?t:e)}const RL=(function e(t){var n=o0e(t);function r(i,a){var o=n((i=EE(i)).r,(a=EE(a)).r),l=n(i.g,a.g),u=n(i.b,a.b),f=k9(i.opacity,a.opacity);return function(h){return i.r=o(h),i.g=l(h),i.b=u(h),i.opacity=f(h),i+""}}return r.gamma=e,r})(1);function s0e(e,t){t||(t=[]);var n=e?Math.min(t.length,e.length):0,r=t.slice(),i;return function(a){for(i=0;i<n;++i)r[i]=e[i]*(1-a)+t[i]*a;return r}}function l0e(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function c0e(e,t){var n=t?t.length:0,r=e?Math.min(n,e.length):0,i=new Array(r),a=new Array(n),o;for(o=0;o<r;++o)i[o]=yf(e[o],t[o]);for(;o<n;++o)a[o]=t[o];return function(l){for(o=0;o<r;++o)a[o]=i[o](l);return a}}function u0e(e,t){var n=new Date;return e=+e,t=+t,function(r){return n.setTime(e*(1-r)+t*r),n}}function Pb(e,t){return e=+e,t=+t,function(n){return e*(1-n)+t*n}}function d0e(e,t){var n={},r={},i;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(i in t)i in e?n[i]=yf(e[i],t[i]):r[i]=t[i];return function(a){for(i in n)r[i]=n[i](a);return r}}var AE=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,wS=new RegExp(AE.source,"g");function f0e(e){return function(){return e}}function h0e(e){return function(t){return e(t)+""}}function m0e(e,t){var n=AE.lastIndex=wS.lastIndex=0,r,i,a,o=-1,l=[],u=[];for(e=e+"",t=t+"";(r=AE.exec(e))&&(i=wS.exec(t));)(a=i.index)>n&&(a=t.slice(n,a),l[o]?l[o]+=a:l[++o]=a),(r=r[0])===(i=i[0])?l[o]?l[o]+=i:l[++o]=i:(l[++o]=null,u.push({i:o,x:Pb(r,i)})),n=wS.lastIndex;return n<t.length&&(a=t.slice(n),l[o]?l[o]+=a:l[++o]=a),l.length<2?u[0]?h0e(u[0].x):f0e(t):(t=u.length,function(f){for(var h=0,p;h<t;++h)l[(p=u[h]).i]=p.x(f);return l.join("")})}function yf(e,t){var n=typeof t,r;return t==null||n==="boolean"?UA(t):(n==="number"?Pb:n==="string"?(r=Um(t))?(t=r,RL):m0e:t instanceof Um?RL:t instanceof Date?u0e:l0e(t)?s0e:Array.isArray(t)?c0e:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?d0e:Pb)(e,t)}function FA(e,t){return e=+e,t=+t,function(n){return Math.round(e*(1-n)+t*n)}}function p0e(e,t){t===void 0&&(t=e,e=yf);for(var n=0,r=t.length-1,i=t[0],a=new Array(r<0?0:r);n<r;)a[n]=e(i,i=t[++n]);return function(o){var l=Math.max(0,Math.min(r-1,Math.floor(o*=r)));return a[l](o-l)}}function g0e(e){return function(){return e}}function Db(e){return+e}var LL=[0,1];function Br(e){return e}function TE(e,t){return(t-=e=+e)?function(n){return(n-e)/t}:g0e(isNaN(t)?NaN:.5)}function y0e(e,t){var n;return e>t&&(n=e,e=t,t=n),function(r){return Math.max(e,Math.min(t,r))}}function b0e(e,t,n){var r=e[0],i=e[1],a=t[0],o=t[1];return i<r?(r=TE(i,r),a=n(o,a)):(r=TE(r,i),a=n(a,o)),function(l){return a(r(l))}}function v0e(e,t,n){var r=Math.min(e.length,t.length)-1,i=new Array(r),a=new Array(r),o=-1;for(e[r]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++o<r;)i[o]=TE(e[o],e[o+1]),a[o]=n(t[o],t[o+1]);return function(l){var u=yp(e,l,1,r)-1;return a[u](i[u](l))}}function vp(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function nx(){var e=LL,t=LL,n=yf,r,i,a,o=Br,l,u,f;function h(){var g=Math.min(e.length,t.length);return o!==Br&&(o=y0e(e[0],e[g-1])),l=g>2?v0e:b0e,u=f=null,p}function p(g){return g==null||isNaN(g=+g)?a:(u||(u=l(e.map(r),t,n)))(r(o(g)))}return p.invert=function(g){return o(i((f||(f=l(t,e.map(r),Pb)))(g)))},p.domain=function(g){return arguments.length?(e=Array.from(g,Db),h()):e.slice()},p.range=function(g){return arguments.length?(t=Array.from(g),h()):t.slice()},p.rangeRound=function(g){return t=Array.from(g),n=FA,h()},p.clamp=function(g){return arguments.length?(o=g?!0:Br,h()):o!==Br},p.interpolate=function(g){return arguments.length?(n=g,h()):n},p.unknown=function(g){return arguments.length?(a=g,p):a},function(g,x){return r=g,i=x,h()}}function HA(){return nx()(Br,Br)}function x0e(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function Rb(e,t){if((n=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var n,r=e.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+e.slice(n+1)]}function Qd(e){return e=Rb(Math.abs(e)),e?e[1]:NaN}function _0e(e,t){return function(n,r){for(var i=n.length,a=[],o=0,l=e[0],u=0;i>0&&l>0&&(u+l+1>r&&(l=Math.max(1,r-u)),a.push(n.substring(i-=l,i+l)),!((u+=l+1)>r));)l=e[o=(o+1)%e.length];return a.reverse().join(t)}}function w0e(e){return function(t){return t.replace(/[0-9]/g,function(n){return e[+n]})}}var S0e=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Fm(e){if(!(t=S0e.exec(e)))throw new Error("invalid format: "+e);var t;return new GA({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}Fm.prototype=GA.prototype;function GA(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}GA.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function k0e(e){e:for(var t=e.length,n=1,r=-1,i;n<t;++n)switch(e[n]){case".":r=i=n;break;case"0":r===0&&(r=n),i=n;break;default:if(!+e[n])break e;r>0&&(r=0);break}return r>0?e.slice(0,r)+e.slice(i+1):e}var E9;function E0e(e,t){var n=Rb(e,t);if(!n)return e+"";var r=n[0],i=n[1],a=i-(E9=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,o=r.length;return a===o?r:a>o?r+new Array(a-o+1).join("0"):a>0?r.slice(0,a)+"."+r.slice(a):"0."+new Array(1-a).join("0")+Rb(e,Math.max(0,t+a-1))[0]}function IL(e,t){var n=Rb(e,t);if(!n)return e+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}const $L={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:x0e,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>IL(e*100,t),r:IL,s:E0e,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function BL(e){return e}var zL=Array.prototype.map,UL=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function A0e(e){var t=e.grouping===void 0||e.thousands===void 0?BL:_0e(zL.call(e.grouping,Number),e.thousands+""),n=e.currency===void 0?"":e.currency[0]+"",r=e.currency===void 0?"":e.currency[1]+"",i=e.decimal===void 0?".":e.decimal+"",a=e.numerals===void 0?BL:w0e(zL.call(e.numerals,String)),o=e.percent===void 0?"%":e.percent+"",l=e.minus===void 0?"":e.minus+"",u=e.nan===void 0?"NaN":e.nan+"";function f(p){p=Fm(p);var g=p.fill,x=p.align,S=p.sign,_=p.symbol,k=p.zero,T=p.width,N=p.comma,O=p.precision,P=p.trim,C=p.type;C==="n"?(N=!0,C="g"):$L[C]||(O===void 0&&(O=12),P=!0,C="g"),(k||g==="0"&&x==="=")&&(k=!0,g="0",x="=");var D=_==="$"?n:_==="#"&&/[boxX]/.test(C)?"0"+C.toLowerCase():"",$=_==="$"?r:/[%p]/.test(C)?o:"",H=$L[C],q=/[defgprs%]/.test(C);O=O===void 0?6:/[gprs]/.test(C)?Math.max(1,Math.min(21,O)):Math.max(0,Math.min(20,O));function K(U){var z=D,V=$,J,Q,Y;if(C==="c")V=H(U)+V,U="";else{U=+U;var Z=U<0||1/U<0;if(U=isNaN(U)?u:H(Math.abs(U),O),P&&(U=k0e(U)),Z&&+U==0&&S!=="+"&&(Z=!1),z=(Z?S==="("?S:l:S==="-"||S==="("?"":S)+z,V=(C==="s"?UL[8+E9/3]:"")+V+(Z&&S==="("?")":""),q){for(J=-1,Q=U.length;++J<Q;)if(Y=U.charCodeAt(J),48>Y||Y>57){V=(Y===46?i+U.slice(J+1):U.slice(J))+V,U=U.slice(0,J);break}}}N&&!k&&(U=t(U,1/0));var re=z.length+U.length+V.length,ue=re<T?new Array(T-re+1).join(g):"";switch(N&&k&&(U=t(ue+U,ue.length?T-V.length:1/0),ue=""),x){case"<":U=z+U+V+ue;break;case"=":U=z+ue+U+V;break;case"^":U=ue.slice(0,re=ue.length>>1)+z+U+V+ue.slice(re);break;default:U=ue+z+U+V;break}return a(U)}return K.toString=function(){return p+""},K}function h(p,g){var x=f((p=Fm(p),p.type="f",p)),S=Math.max(-8,Math.min(8,Math.floor(Qd(g)/3)))*3,_=Math.pow(10,-S),k=UL[8+S/3];return function(T){return x(_*T)+k}}return{format:f,formatPrefix:h}}var J0,qA,A9;T0e({thousands:",",grouping:[3],currency:["$",""]});function T0e(e){return J0=A0e(e),qA=J0.format,A9=J0.formatPrefix,J0}function O0e(e){return Math.max(0,-Qd(Math.abs(e)))}function j0e(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(Qd(t)/3)))*3-Qd(Math.abs(e)))}function N0e(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,Qd(t)-Qd(e))+1}function T9(e,t,n,r){var i=SE(e,t,n),a;switch(r=Fm(r??",f"),r.type){case"s":{var o=Math.max(Math.abs(e),Math.abs(t));return r.precision==null&&!isNaN(a=j0e(i,o))&&(r.precision=a),A9(r,o)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(a=N0e(i,Math.max(Math.abs(e),Math.abs(t))))&&(r.precision=a-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(a=O0e(i))&&(r.precision=a-(r.type==="%")*2);break}}return qA(r)}function Ll(e){var t=e.domain;return e.ticks=function(n){var r=t();return _E(r[0],r[r.length-1],n??10)},e.tickFormat=function(n,r){var i=t();return T9(i[0],i[i.length-1],n??10,r)},e.nice=function(n){n==null&&(n=10);var r=t(),i=0,a=r.length-1,o=r[i],l=r[a],u,f,h=10;for(l<o&&(f=o,o=l,l=f,f=i,i=a,a=f);h-- >0;){if(f=wE(o,l,n),f===u)return r[i]=o,r[a]=l,t(r);if(f>0)o=Math.floor(o/f)*f,l=Math.ceil(l/f)*f;else if(f<0)o=Math.ceil(o*f)/f,l=Math.floor(l*f)/f;else break;u=f}return e},e}function O9(){var e=HA();return e.copy=function(){return vp(e,O9())},xa.apply(e,arguments),Ll(e)}function j9(e){var t;function n(r){return r==null||isNaN(r=+r)?t:r}return n.invert=n,n.domain=n.range=function(r){return arguments.length?(e=Array.from(r,Db),n):e.slice()},n.unknown=function(r){return arguments.length?(t=r,n):t},n.copy=function(){return j9(e).unknown(t)},e=arguments.length?Array.from(e,Db):[0,1],Ll(n)}function N9(e,t){e=e.slice();var n=0,r=e.length-1,i=e[n],a=e[r],o;return a<i&&(o=n,n=r,r=o,o=i,i=a,a=o),e[n]=t.floor(i),e[r]=t.ceil(a),e}function FL(e){return Math.log(e)}function HL(e){return Math.exp(e)}function C0e(e){return-Math.log(-e)}function M0e(e){return-Math.exp(-e)}function P0e(e){return isFinite(e)?+("1e"+e):e<0?0:e}function D0e(e){return e===10?P0e:e===Math.E?Math.exp:t=>Math.pow(e,t)}function R0e(e){return e===Math.E?Math.log:e===10&&Math.log10||e===2&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}function GL(e){return(t,n)=>-e(-t,n)}function YA(e){const t=e(FL,HL),n=t.domain;let r=10,i,a;function o(){return i=R0e(r),a=D0e(r),n()[0]<0?(i=GL(i),a=GL(a),e(C0e,M0e)):e(FL,HL),t}return t.base=function(l){return arguments.length?(r=+l,o()):r},t.domain=function(l){return arguments.length?(n(l),o()):n()},t.ticks=l=>{const u=n();let f=u[0],h=u[u.length-1];const p=h<f;p&&([f,h]=[h,f]);let g=i(f),x=i(h),S,_;const k=l==null?10:+l;let T=[];if(!(r%1)&&x-g<k){if(g=Math.floor(g),x=Math.ceil(x),f>0){for(;g<=x;++g)for(S=1;S<r;++S)if(_=g<0?S/a(-g):S*a(g),!(_<f)){if(_>h)break;T.push(_)}}else for(;g<=x;++g)for(S=r-1;S>=1;--S)if(_=g>0?S/a(-g):S*a(g),!(_<f)){if(_>h)break;T.push(_)}T.length*2<k&&(T=_E(f,h,k))}else T=_E(g,x,Math.min(x-g,k)).map(a);return p?T.reverse():T},t.tickFormat=(l,u)=>{if(l==null&&(l=10),u==null&&(u=r===10?"s":","),typeof u!="function"&&(!(r%1)&&(u=Fm(u)).precision==null&&(u.trim=!0),u=qA(u)),l===1/0)return u;const f=Math.max(1,r*l/t.ticks().length);return h=>{let p=h/a(Math.round(i(h)));return p*r<r-.5&&(p*=r),p<=f?u(h):""}},t.nice=()=>n(N9(n(),{floor:l=>a(Math.floor(i(l))),ceil:l=>a(Math.ceil(i(l)))})),t}function C9(){const e=YA(nx()).domain([1,10]);return e.copy=()=>vp(e,C9()).base(e.base()),xa.apply(e,arguments),e}function qL(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function YL(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function KA(e){var t=1,n=e(qL(t),YL(t));return n.constant=function(r){return arguments.length?e(qL(t=+r),YL(t)):t},Ll(n)}function M9(){var e=KA(nx());return e.copy=function(){return vp(e,M9()).constant(e.constant())},xa.apply(e,arguments)}function KL(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function L0e(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function I0e(e){return e<0?-e*e:e*e}function WA(e){var t=e(Br,Br),n=1;function r(){return n===1?e(Br,Br):n===.5?e(L0e,I0e):e(KL(n),KL(1/n))}return t.exponent=function(i){return arguments.length?(n=+i,r()):n},Ll(t)}function VA(){var e=WA(nx());return e.copy=function(){return vp(e,VA()).exponent(e.exponent())},xa.apply(e,arguments),e}function $0e(){return VA.apply(null,arguments).exponent(.5)}function WL(e){return Math.sign(e)*e*e}function B0e(e){return Math.sign(e)*Math.sqrt(Math.abs(e))}function P9(){var e=HA(),t=[0,1],n=!1,r;function i(a){var o=B0e(e(a));return isNaN(o)?r:n?Math.round(o):o}return i.invert=function(a){return e.invert(WL(a))},i.domain=function(a){return arguments.length?(e.domain(a),i):e.domain()},i.range=function(a){return arguments.length?(e.range((t=Array.from(a,Db)).map(WL)),i):t.slice()},i.rangeRound=function(a){return i.range(a).round(!0)},i.round=function(a){return arguments.length?(n=!!a,i):n},i.clamp=function(a){return arguments.length?(e.clamp(a),i):e.clamp()},i.unknown=function(a){return arguments.length?(r=a,i):r},i.copy=function(){return P9(e.domain(),t).round(n).clamp(e.clamp()).unknown(r)},xa.apply(i,arguments),Ll(i)}function D9(){var e=[],t=[],n=[],r;function i(){var o=0,l=Math.max(1,t.length);for(n=new Array(l-1);++o<l;)n[o-1]=Hge(e,o/l);return a}function a(o){return o==null||isNaN(o=+o)?r:t[yp(n,o)]}return a.invertExtent=function(o){var l=t.indexOf(o);return l<0?[NaN,NaN]:[l>0?n[l-1]:e[0],l<n.length?n[l]:e[e.length-1]]},a.domain=function(o){if(!arguments.length)return e.slice();e=[];for(let l of o)l!=null&&!isNaN(l=+l)&&e.push(l);return e.sort(Tl),i()},a.range=function(o){return arguments.length?(t=Array.from(o),i()):t.slice()},a.unknown=function(o){return arguments.length?(r=o,a):r},a.quantiles=function(){return n.slice()},a.copy=function(){return D9().domain(e).range(t).unknown(r)},xa.apply(a,arguments)}function R9(){var e=0,t=1,n=1,r=[.5],i=[0,1],a;function o(u){return u!=null&&u<=u?i[yp(r,u,0,n)]:a}function l(){var u=-1;for(r=new Array(n);++u<n;)r[u]=((u+1)*t-(u-n)*e)/(n+1);return o}return o.domain=function(u){return arguments.length?([e,t]=u,e=+e,t=+t,l()):[e,t]},o.range=function(u){return arguments.length?(n=(i=Array.from(u)).length-1,l()):i.slice()},o.invertExtent=function(u){var f=i.indexOf(u);return f<0?[NaN,NaN]:f<1?[e,r[0]]:f>=n?[r[n-1],t]:[r[f-1],r[f]]},o.unknown=function(u){return arguments.length&&(a=u),o},o.thresholds=function(){return r.slice()},o.copy=function(){return R9().domain([e,t]).range(i).unknown(a)},xa.apply(Ll(o),arguments)}function L9(){var e=[.5],t=[0,1],n,r=1;function i(a){return a!=null&&a<=a?t[yp(e,a,0,r)]:n}return i.domain=function(a){return arguments.length?(e=Array.from(a),r=Math.min(e.length,t.length-1),i):e.slice()},i.range=function(a){return arguments.length?(t=Array.from(a),r=Math.min(e.length,t.length-1),i):t.slice()},i.invertExtent=function(a){var o=t.indexOf(a);return[e[o-1],e[o]]},i.unknown=function(a){return arguments.length?(n=a,i):n},i.copy=function(){return L9().domain(e).range(t).unknown(n)},xa.apply(i,arguments)}const SS=new Date,kS=new Date;function Wn(e,t,n,r){function i(a){return e(a=arguments.length===0?new Date:new Date(+a)),a}return i.floor=a=>(e(a=new Date(+a)),a),i.ceil=a=>(e(a=new Date(a-1)),t(a,1),e(a),a),i.round=a=>{const o=i(a),l=i.ceil(a);return a-o<l-a?o:l},i.offset=(a,o)=>(t(a=new Date(+a),o==null?1:Math.floor(o)),a),i.range=(a,o,l)=>{const u=[];if(a=i.ceil(a),l=l==null?1:Math.floor(l),!(a<o)||!(l>0))return u;let f;do u.push(f=new Date(+a)),t(a,l),e(a);while(f<a&&a<o);return u},i.filter=a=>Wn(o=>{if(o>=o)for(;e(o),!a(o);)o.setTime(o-1)},(o,l)=>{if(o>=o)if(l<0)for(;++l<=0;)for(;t(o,-1),!a(o););else for(;--l>=0;)for(;t(o,1),!a(o););}),n&&(i.count=(a,o)=>(SS.setTime(+a),kS.setTime(+o),e(SS),e(kS),Math.floor(n(SS,kS))),i.every=a=>(a=Math.floor(a),!isFinite(a)||!(a>0)?null:a>1?i.filter(r?o=>r(o)%a===0:o=>i.count(0,o)%a===0):i)),i}const Lb=Wn(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);Lb.every=e=>(e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?Wn(t=>{t.setTime(Math.floor(t/e)*e)},(t,n)=>{t.setTime(+t+n*e)},(t,n)=>(n-t)/e):Lb);Lb.range;const us=1e3,ua=us*60,ds=ua*60,xs=ds*24,ZA=xs*7,VL=xs*30,ES=xs*365,Vc=Wn(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*us)},(e,t)=>(t-e)/us,e=>e.getUTCSeconds());Vc.range;const XA=Wn(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*us)},(e,t)=>{e.setTime(+e+t*ua)},(e,t)=>(t-e)/ua,e=>e.getMinutes());XA.range;const JA=Wn(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*ua)},(e,t)=>(t-e)/ua,e=>e.getUTCMinutes());JA.range;const QA=Wn(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*us-e.getMinutes()*ua)},(e,t)=>{e.setTime(+e+t*ds)},(e,t)=>(t-e)/ds,e=>e.getHours());QA.range;const eT=Wn(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*ds)},(e,t)=>(t-e)/ds,e=>e.getUTCHours());eT.range;const xp=Wn(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*ua)/xs,e=>e.getDate()-1);xp.range;const rx=Wn(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/xs,e=>e.getUTCDate()-1);rx.range;const I9=Wn(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/xs,e=>Math.floor(e/xs));I9.range;function hu(e){return Wn(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(t,n)=>{t.setDate(t.getDate()+n*7)},(t,n)=>(n-t-(n.getTimezoneOffset()-t.getTimezoneOffset())*ua)/ZA)}const ix=hu(0),Ib=hu(1),z0e=hu(2),U0e=hu(3),ef=hu(4),F0e=hu(5),H0e=hu(6);ix.range;Ib.range;z0e.range;U0e.range;ef.range;F0e.range;H0e.range;function mu(e){return Wn(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(t,n)=>{t.setUTCDate(t.getUTCDate()+n*7)},(t,n)=>(n-t)/ZA)}const ax=mu(0),$b=mu(1),G0e=mu(2),q0e=mu(3),tf=mu(4),Y0e=mu(5),K0e=mu(6);ax.range;$b.range;G0e.range;q0e.range;tf.range;Y0e.range;K0e.range;const tT=Wn(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+(t.getFullYear()-e.getFullYear())*12,e=>e.getMonth());tT.range;const nT=Wn(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+(t.getUTCFullYear()-e.getUTCFullYear())*12,e=>e.getUTCMonth());nT.range;const _s=Wn(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear());_s.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:Wn(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,n)=>{t.setFullYear(t.getFullYear()+n*e)});_s.range;const ws=Wn(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());ws.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:Wn(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,n)=>{t.setUTCFullYear(t.getUTCFullYear()+n*e)});ws.range;function $9(e,t,n,r,i,a){const o=[[Vc,1,us],[Vc,5,5*us],[Vc,15,15*us],[Vc,30,30*us],[a,1,ua],[a,5,5*ua],[a,15,15*ua],[a,30,30*ua],[i,1,ds],[i,3,3*ds],[i,6,6*ds],[i,12,12*ds],[r,1,xs],[r,2,2*xs],[n,1,ZA],[t,1,VL],[t,3,3*VL],[e,1,ES]];function l(f,h,p){const g=h<f;g&&([f,h]=[h,f]);const x=p&&typeof p.range=="function"?p:u(f,h,p),S=x?x.range(f,+h+1):[];return g?S.reverse():S}function u(f,h,p){const g=Math.abs(h-f)/p,x=IA(([,,k])=>k).right(o,g);if(x===o.length)return e.every(SE(f/ES,h/ES,p));if(x===0)return Lb.every(Math.max(SE(f,h,p),1));const[S,_]=o[g/o[x-1][2]<o[x][2]/g?x-1:x];return S.every(_)}return[l,u]}const[W0e,V0e]=$9(ws,nT,ax,I9,eT,JA),[Z0e,X0e]=$9(_s,tT,ix,xp,QA,XA);function AS(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function TS(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function Vh(e,t,n){return{y:e,m:t,d:n,H:0,M:0,S:0,L:0}}function J0e(e){var t=e.dateTime,n=e.date,r=e.time,i=e.periods,a=e.days,o=e.shortDays,l=e.months,u=e.shortMonths,f=Zh(i),h=Xh(i),p=Zh(a),g=Xh(a),x=Zh(o),S=Xh(o),_=Zh(l),k=Xh(l),T=Zh(u),N=Xh(u),O={a:Z,A:re,b:ue,B:se,c:null,d:tI,e:tI,f:_ye,g:Cye,G:Pye,H:bye,I:vye,j:xye,L:B9,m:wye,M:Sye,p:B,q:W,Q:iI,s:aI,S:kye,u:Eye,U:Aye,V:Tye,w:Oye,W:jye,x:null,X:null,y:Nye,Y:Mye,Z:Dye,"%":rI},P={a:ae,A:X,b:oe,B:me,c:null,d:nI,e:nI,f:$ye,g:Wye,G:Zye,H:Rye,I:Lye,j:Iye,L:U9,m:Bye,M:zye,p:pe,q:be,Q:iI,s:aI,S:Uye,u:Fye,U:Hye,V:Gye,w:qye,W:Yye,x:null,X:null,y:Kye,Y:Vye,Z:Xye,"%":rI},C={a:K,A:U,b:z,B:V,c:J,d:QL,e:QL,f:mye,g:JL,G:XL,H:eI,I:eI,j:uye,L:hye,m:cye,M:dye,p:q,q:lye,Q:gye,s:yye,S:fye,u:rye,U:iye,V:aye,w:nye,W:oye,x:Q,X:Y,y:JL,Y:XL,Z:sye,"%":pye};O.x=D(n,O),O.X=D(r,O),O.c=D(t,O),P.x=D(n,P),P.X=D(r,P),P.c=D(t,P);function D(ne,Oe){return function(Ce){var ve=[],Ze=-1,Ne=0,_e=ne.length,je,Ie,Ve;for(Ce instanceof Date||(Ce=new Date(+Ce));++Ze<_e;)ne.charCodeAt(Ze)===37&&(ve.push(ne.slice(Ne,Ze)),(Ie=ZL[je=ne.charAt(++Ze)])!=null?je=ne.charAt(++Ze):Ie=je==="e"?" ":"0",(Ve=Oe[je])&&(je=Ve(Ce,Ie)),ve.push(je),Ne=Ze+1);return ve.push(ne.slice(Ne,Ze)),ve.join("")}}function $(ne,Oe){return function(Ce){var ve=Vh(1900,void 0,1),Ze=H(ve,ne,Ce+="",0),Ne,_e;if(Ze!=Ce.length)return null;if("Q"in ve)return new Date(ve.Q);if("s"in ve)return new Date(ve.s*1e3+("L"in ve?ve.L:0));if(Oe&&!("Z"in ve)&&(ve.Z=0),"p"in ve&&(ve.H=ve.H%12+ve.p*12),ve.m===void 0&&(ve.m="q"in ve?ve.q:0),"V"in ve){if(ve.V<1||ve.V>53)return null;"w"in ve||(ve.w=1),"Z"in ve?(Ne=TS(Vh(ve.y,0,1)),_e=Ne.getUTCDay(),Ne=_e>4||_e===0?$b.ceil(Ne):$b(Ne),Ne=rx.offset(Ne,(ve.V-1)*7),ve.y=Ne.getUTCFullYear(),ve.m=Ne.getUTCMonth(),ve.d=Ne.getUTCDate()+(ve.w+6)%7):(Ne=AS(Vh(ve.y,0,1)),_e=Ne.getDay(),Ne=_e>4||_e===0?Ib.ceil(Ne):Ib(Ne),Ne=xp.offset(Ne,(ve.V-1)*7),ve.y=Ne.getFullYear(),ve.m=Ne.getMonth(),ve.d=Ne.getDate()+(ve.w+6)%7)}else("W"in ve||"U"in ve)&&("w"in ve||(ve.w="u"in ve?ve.u%7:"W"in ve?1:0),_e="Z"in ve?TS(Vh(ve.y,0,1)).getUTCDay():AS(Vh(ve.y,0,1)).getDay(),ve.m=0,ve.d="W"in ve?(ve.w+6)%7+ve.W*7-(_e+5)%7:ve.w+ve.U*7-(_e+6)%7);return"Z"in ve?(ve.H+=ve.Z/100|0,ve.M+=ve.Z%100,TS(ve)):AS(ve)}}function H(ne,Oe,Ce,ve){for(var Ze=0,Ne=Oe.length,_e=Ce.length,je,Ie;Ze<Ne;){if(ve>=_e)return-1;if(je=Oe.charCodeAt(Ze++),je===37){if(je=Oe.charAt(Ze++),Ie=C[je in ZL?Oe.charAt(Ze++):je],!Ie||(ve=Ie(ne,Ce,ve))<0)return-1}else if(je!=Ce.charCodeAt(ve++))return-1}return ve}function q(ne,Oe,Ce){var ve=f.exec(Oe.slice(Ce));return ve?(ne.p=h.get(ve[0].toLowerCase()),Ce+ve[0].length):-1}function K(ne,Oe,Ce){var ve=x.exec(Oe.slice(Ce));return ve?(ne.w=S.get(ve[0].toLowerCase()),Ce+ve[0].length):-1}function U(ne,Oe,Ce){var ve=p.exec(Oe.slice(Ce));return ve?(ne.w=g.get(ve[0].toLowerCase()),Ce+ve[0].length):-1}function z(ne,Oe,Ce){var ve=T.exec(Oe.slice(Ce));return ve?(ne.m=N.get(ve[0].toLowerCase()),Ce+ve[0].length):-1}function V(ne,Oe,Ce){var ve=_.exec(Oe.slice(Ce));return ve?(ne.m=k.get(ve[0].toLowerCase()),Ce+ve[0].length):-1}function J(ne,Oe,Ce){return H(ne,t,Oe,Ce)}function Q(ne,Oe,Ce){return H(ne,n,Oe,Ce)}function Y(ne,Oe,Ce){return H(ne,r,Oe,Ce)}function Z(ne){return o[ne.getDay()]}function re(ne){return a[ne.getDay()]}function ue(ne){return u[ne.getMonth()]}function se(ne){return l[ne.getMonth()]}function B(ne){return i[+(ne.getHours()>=12)]}function W(ne){return 1+~~(ne.getMonth()/3)}function ae(ne){return o[ne.getUTCDay()]}function X(ne){return a[ne.getUTCDay()]}function oe(ne){return u[ne.getUTCMonth()]}function me(ne){return l[ne.getUTCMonth()]}function pe(ne){return i[+(ne.getUTCHours()>=12)]}function be(ne){return 1+~~(ne.getUTCMonth()/3)}return{format:function(ne){var Oe=D(ne+="",O);return Oe.toString=function(){return ne},Oe},parse:function(ne){var Oe=$(ne+="",!1);return Oe.toString=function(){return ne},Oe},utcFormat:function(ne){var Oe=D(ne+="",P);return Oe.toString=function(){return ne},Oe},utcParse:function(ne){var Oe=$(ne+="",!0);return Oe.toString=function(){return ne},Oe}}}var ZL={"-":"",_:" ",0:"0"},ur=/^\s*\d+/,Q0e=/^%/,eye=/[\\^$*+?|[\]().{}]/g;function At(e,t,n){var r=e<0?"-":"",i=(r?-e:e)+"",a=i.length;return r+(a<n?new Array(n-a+1).join(t)+i:i)}function tye(e){return e.replace(eye,"\\$&")}function Zh(e){return new RegExp("^(?:"+e.map(tye).join("|")+")","i")}function Xh(e){return new Map(e.map((t,n)=>[t.toLowerCase(),n]))}function nye(e,t,n){var r=ur.exec(t.slice(n,n+1));return r?(e.w=+r[0],n+r[0].length):-1}function rye(e,t,n){var r=ur.exec(t.slice(n,n+1));return r?(e.u=+r[0],n+r[0].length):-1}function iye(e,t,n){var r=ur.exec(t.slice(n,n+2));return r?(e.U=+r[0],n+r[0].length):-1}function aye(e,t,n){var r=ur.exec(t.slice(n,n+2));return r?(e.V=+r[0],n+r[0].length):-1}function oye(e,t,n){var r=ur.exec(t.slice(n,n+2));return r?(e.W=+r[0],n+r[0].length):-1}function XL(e,t,n){var r=ur.exec(t.slice(n,n+4));return r?(e.y=+r[0],n+r[0].length):-1}function JL(e,t,n){var r=ur.exec(t.slice(n,n+2));return r?(e.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function sye(e,t,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(n,n+6));return r?(e.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function lye(e,t,n){var r=ur.exec(t.slice(n,n+1));return r?(e.q=r[0]*3-3,n+r[0].length):-1}function cye(e,t,n){var r=ur.exec(t.slice(n,n+2));return r?(e.m=r[0]-1,n+r[0].length):-1}function QL(e,t,n){var r=ur.exec(t.slice(n,n+2));return r?(e.d=+r[0],n+r[0].length):-1}function uye(e,t,n){var r=ur.exec(t.slice(n,n+3));return r?(e.m=0,e.d=+r[0],n+r[0].length):-1}function eI(e,t,n){var r=ur.exec(t.slice(n,n+2));return r?(e.H=+r[0],n+r[0].length):-1}function dye(e,t,n){var r=ur.exec(t.slice(n,n+2));return r?(e.M=+r[0],n+r[0].length):-1}function fye(e,t,n){var r=ur.exec(t.slice(n,n+2));return r?(e.S=+r[0],n+r[0].length):-1}function hye(e,t,n){var r=ur.exec(t.slice(n,n+3));return r?(e.L=+r[0],n+r[0].length):-1}function mye(e,t,n){var r=ur.exec(t.slice(n,n+6));return r?(e.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function pye(e,t,n){var r=Q0e.exec(t.slice(n,n+1));return r?n+r[0].length:-1}function gye(e,t,n){var r=ur.exec(t.slice(n));return r?(e.Q=+r[0],n+r[0].length):-1}function yye(e,t,n){var r=ur.exec(t.slice(n));return r?(e.s=+r[0],n+r[0].length):-1}function tI(e,t){return At(e.getDate(),t,2)}function bye(e,t){return At(e.getHours(),t,2)}function vye(e,t){return At(e.getHours()%12||12,t,2)}function xye(e,t){return At(1+xp.count(_s(e),e),t,3)}function B9(e,t){return At(e.getMilliseconds(),t,3)}function _ye(e,t){return B9(e,t)+"000"}function wye(e,t){return At(e.getMonth()+1,t,2)}function Sye(e,t){return At(e.getMinutes(),t,2)}function kye(e,t){return At(e.getSeconds(),t,2)}function Eye(e){var t=e.getDay();return t===0?7:t}function Aye(e,t){return At(ix.count(_s(e)-1,e),t,2)}function z9(e){var t=e.getDay();return t>=4||t===0?ef(e):ef.ceil(e)}function Tye(e,t){return e=z9(e),At(ef.count(_s(e),e)+(_s(e).getDay()===4),t,2)}function Oye(e){return e.getDay()}function jye(e,t){return At(Ib.count(_s(e)-1,e),t,2)}function Nye(e,t){return At(e.getFullYear()%100,t,2)}function Cye(e,t){return e=z9(e),At(e.getFullYear()%100,t,2)}function Mye(e,t){return At(e.getFullYear()%1e4,t,4)}function Pye(e,t){var n=e.getDay();return e=n>=4||n===0?ef(e):ef.ceil(e),At(e.getFullYear()%1e4,t,4)}function Dye(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+At(t/60|0,"0",2)+At(t%60,"0",2)}function nI(e,t){return At(e.getUTCDate(),t,2)}function Rye(e,t){return At(e.getUTCHours(),t,2)}function Lye(e,t){return At(e.getUTCHours()%12||12,t,2)}function Iye(e,t){return At(1+rx.count(ws(e),e),t,3)}function U9(e,t){return At(e.getUTCMilliseconds(),t,3)}function $ye(e,t){return U9(e,t)+"000"}function Bye(e,t){return At(e.getUTCMonth()+1,t,2)}function zye(e,t){return At(e.getUTCMinutes(),t,2)}function Uye(e,t){return At(e.getUTCSeconds(),t,2)}function Fye(e){var t=e.getUTCDay();return t===0?7:t}function Hye(e,t){return At(ax.count(ws(e)-1,e),t,2)}function F9(e){var t=e.getUTCDay();return t>=4||t===0?tf(e):tf.ceil(e)}function Gye(e,t){return e=F9(e),At(tf.count(ws(e),e)+(ws(e).getUTCDay()===4),t,2)}function qye(e){return e.getUTCDay()}function Yye(e,t){return At($b.count(ws(e)-1,e),t,2)}function Kye(e,t){return At(e.getUTCFullYear()%100,t,2)}function Wye(e,t){return e=F9(e),At(e.getUTCFullYear()%100,t,2)}function Vye(e,t){return At(e.getUTCFullYear()%1e4,t,4)}function Zye(e,t){var n=e.getUTCDay();return e=n>=4||n===0?tf(e):tf.ceil(e),At(e.getUTCFullYear()%1e4,t,4)}function Xye(){return"+0000"}function rI(){return"%"}function iI(e){return+e}function aI(e){return Math.floor(+e/1e3)}var dd,H9,G9;Jye({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function Jye(e){return dd=J0e(e),H9=dd.format,dd.parse,G9=dd.utcFormat,dd.utcParse,dd}function Qye(e){return new Date(e)}function ebe(e){return e instanceof Date?+e:+new Date(+e)}function rT(e,t,n,r,i,a,o,l,u,f){var h=HA(),p=h.invert,g=h.domain,x=f(".%L"),S=f(":%S"),_=f("%I:%M"),k=f("%I %p"),T=f("%a %d"),N=f("%b %d"),O=f("%B"),P=f("%Y");function C(D){return(u(D)<D?x:l(D)<D?S:o(D)<D?_:a(D)<D?k:r(D)<D?i(D)<D?T:N:n(D)<D?O:P)(D)}return h.invert=function(D){return new Date(p(D))},h.domain=function(D){return arguments.length?g(Array.from(D,ebe)):g().map(Qye)},h.ticks=function(D){var $=g();return e($[0],$[$.length-1],D??10)},h.tickFormat=function(D,$){return $==null?C:f($)},h.nice=function(D){var $=g();return(!D||typeof D.range!="function")&&(D=t($[0],$[$.length-1],D??10)),D?g(N9($,D)):h},h.copy=function(){return vp(h,rT(e,t,n,r,i,a,o,l,u,f))},h}function tbe(){return xa.apply(rT(Z0e,X0e,_s,tT,ix,xp,QA,XA,Vc,H9).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function nbe(){return xa.apply(rT(W0e,V0e,ws,nT,ax,rx,eT,JA,Vc,G9).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function ox(){var e=0,t=1,n,r,i,a,o=Br,l=!1,u;function f(p){return p==null||isNaN(p=+p)?u:o(i===0?.5:(p=(a(p)-n)*i,l?Math.max(0,Math.min(1,p)):p))}f.domain=function(p){return arguments.length?([e,t]=p,n=a(e=+e),r=a(t=+t),i=n===r?0:1/(r-n),f):[e,t]},f.clamp=function(p){return arguments.length?(l=!!p,f):l},f.interpolator=function(p){return arguments.length?(o=p,f):o};function h(p){return function(g){var x,S;return arguments.length?([x,S]=g,o=p(x,S),f):[o(0),o(1)]}}return f.range=h(yf),f.rangeRound=h(FA),f.unknown=function(p){return arguments.length?(u=p,f):u},function(p){return a=p,n=p(e),r=p(t),i=n===r?0:1/(r-n),f}}function Il(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function q9(){var e=Ll(ox()(Br));return e.copy=function(){return Il(e,q9())},Os.apply(e,arguments)}function Y9(){var e=YA(ox()).domain([1,10]);return e.copy=function(){return Il(e,Y9()).base(e.base())},Os.apply(e,arguments)}function K9(){var e=KA(ox());return e.copy=function(){return Il(e,K9()).constant(e.constant())},Os.apply(e,arguments)}function iT(){var e=WA(ox());return e.copy=function(){return Il(e,iT()).exponent(e.exponent())},Os.apply(e,arguments)}function rbe(){return iT.apply(null,arguments).exponent(.5)}function W9(){var e=[],t=Br;function n(r){if(r!=null&&!isNaN(r=+r))return t((yp(e,r,1)-1)/(e.length-1))}return n.domain=function(r){if(!arguments.length)return e.slice();e=[];for(let i of r)i!=null&&!isNaN(i=+i)&&e.push(i);return e.sort(Tl),n},n.interpolator=function(r){return arguments.length?(t=r,n):t},n.range=function(){return e.map((r,i)=>t(i/(e.length-1)))},n.quantiles=function(r){return Array.from({length:r+1},(i,a)=>Fge(e,a/r))},n.copy=function(){return W9(t).domain(e)},Os.apply(n,arguments)}function sx(){var e=0,t=.5,n=1,r=1,i,a,o,l,u,f=Br,h,p=!1,g;function x(_){return isNaN(_=+_)?g:(_=.5+((_=+h(_))-a)*(r*_<r*a?l:u),f(p?Math.max(0,Math.min(1,_)):_))}x.domain=function(_){return arguments.length?([e,t,n]=_,i=h(e=+e),a=h(t=+t),o=h(n=+n),l=i===a?0:.5/(a-i),u=a===o?0:.5/(o-a),r=a<i?-1:1,x):[e,t,n]},x.clamp=function(_){return arguments.length?(p=!!_,x):p},x.interpolator=function(_){return arguments.length?(f=_,x):f};function S(_){return function(k){var T,N,O;return arguments.length?([T,N,O]=k,f=p0e(_,[T,N,O]),x):[f(0),f(.5),f(1)]}}return x.range=S(yf),x.rangeRound=S(FA),x.unknown=function(_){return arguments.length?(g=_,x):g},function(_){return h=_,i=_(e),a=_(t),o=_(n),l=i===a?0:.5/(a-i),u=a===o?0:.5/(o-a),r=a<i?-1:1,x}}function V9(){var e=Ll(sx()(Br));return e.copy=function(){return Il(e,V9())},Os.apply(e,arguments)}function Z9(){var e=YA(sx()).domain([.1,1,10]);return e.copy=function(){return Il(e,Z9()).base(e.base())},Os.apply(e,arguments)}function X9(){var e=KA(sx());return e.copy=function(){return Il(e,X9()).constant(e.constant())},Os.apply(e,arguments)}function aT(){var e=WA(sx());return e.copy=function(){return Il(e,aT()).exponent(e.exponent())},Os.apply(e,arguments)}function ibe(){return aT.apply(null,arguments).exponent(.5)}const am=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:BA,scaleDiverging:V9,scaleDivergingLog:Z9,scaleDivergingPow:aT,scaleDivergingSqrt:ibe,scaleDivergingSymlog:X9,scaleIdentity:j9,scaleImplicit:kE,scaleLinear:O9,scaleLog:C9,scaleOrdinal:$A,scalePoint:qge,scalePow:VA,scaleQuantile:D9,scaleQuantize:R9,scaleRadial:P9,scaleSequential:q9,scaleSequentialLog:Y9,scaleSequentialPow:iT,scaleSequentialQuantile:W9,scaleSequentialSqrt:rbe,scaleSequentialSymlog:K9,scaleSqrt:$0e,scaleSymlog:M9,scaleThreshold:L9,scaleTime:tbe,scaleUtc:nbe,tickFormat:T9},Symbol.toStringTag,{value:"Module"}));var $l=e=>e.chartData,abe=we([$l],e=>{var t=e.chartData!=null?e.chartData.length-1:0;return{chartData:e.chartData,computedData:e.computedData,dataEndIndex:t,dataStartIndex:0}}),oT=(e,t,n,r)=>r?abe(e):$l(e);function Pl(e){if(Array.isArray(e)&&e.length===2){var[t,n]=e;if(_n(t)&&_n(n))return!0}return!1}function oI(e,t,n){return n?e:[Math.min(e[0],t[0]),Math.max(e[1],t[1])]}function J9(e,t){if(t&&typeof e!="function"&&Array.isArray(e)&&e.length===2){var[n,r]=e,i,a;if(_n(n))i=n;else if(typeof n=="function")return;if(_n(r))a=r;else if(typeof r=="function")return;var o=[i,a];if(Pl(o))return o}}function obe(e,t,n){if(!(!n&&t==null)){if(typeof e=="function"&&t!=null)try{var r=e(t,n);if(Pl(r))return oI(r,t,n)}catch{}if(Array.isArray(e)&&e.length===2){var[i,a]=e,o,l;if(i==="auto")t!=null&&(o=Math.min(...t));else if(We(i))o=i;else if(typeof i=="function")try{t!=null&&(o=i(t?.[0]))}catch{}else if(typeof i=="string"&&LR.test(i)){var u=LR.exec(i);if(u==null||t==null)o=void 0;else{var f=+u[1];o=t[0]-f}}else o=t?.[0];if(a==="auto")t!=null&&(l=Math.max(...t));else if(We(a))l=a;else if(typeof a=="function")try{t!=null&&(l=a(t?.[1]))}catch{}else if(typeof a=="string"&&IR.test(a)){var h=IR.exec(a);if(h==null||t==null)l=void 0;else{var p=+h[1];l=t[1]+p}}else l=t?.[1];var g=[o,l];if(Pl(g))return t==null?g:oI(g,t,n)}}}var bf=1e9,sbe={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},lT,sn=!0,ga="[DecimalError] ",eu=ga+"Invalid argument: ",sT=ga+"Exponent out of range: ",vf=Math.floor,zc=Math.pow,lbe=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,Di,or=1e7,Jt=7,Q9=9007199254740991,Bb=vf(Q9/Jt),$e={};$e.absoluteValue=$e.abs=function(){var e=new this.constructor(this);return e.s&&(e.s=1),e};$e.comparedTo=$e.cmp=function(e){var t,n,r,i,a=this;if(e=new a.constructor(e),a.s!==e.s)return a.s||-e.s;if(a.e!==e.e)return a.e>e.e^a.s<0?1:-1;for(r=a.d.length,i=e.d.length,t=0,n=r<i?r:i;t<n;++t)if(a.d[t]!==e.d[t])return a.d[t]>e.d[t]^a.s<0?1:-1;return r===i?0:r>i^a.s<0?1:-1};$e.decimalPlaces=$e.dp=function(){var e=this,t=e.d.length-1,n=(t-e.e)*Jt;if(t=e.d[t],t)for(;t%10==0;t/=10)n--;return n<0?0:n};$e.dividedBy=$e.div=function(e){return hs(this,new this.constructor(e))};$e.dividedToIntegerBy=$e.idiv=function(e){var t=this,n=t.constructor;return Gt(hs(t,new n(e),0,1),n.precision)};$e.equals=$e.eq=function(e){return!this.cmp(e)};$e.exponent=function(){return $n(this)};$e.greaterThan=$e.gt=function(e){return this.cmp(e)>0};$e.greaterThanOrEqualTo=$e.gte=function(e){return this.cmp(e)>=0};$e.isInteger=$e.isint=function(){return this.e>this.d.length-2};$e.isNegative=$e.isneg=function(){return this.s<0};$e.isPositive=$e.ispos=function(){return this.s>0};$e.isZero=function(){return this.s===0};$e.lessThan=$e.lt=function(e){return this.cmp(e)<0};$e.lessThanOrEqualTo=$e.lte=function(e){return this.cmp(e)<1};$e.logarithm=$e.log=function(e){var t,n=this,r=n.constructor,i=r.precision,a=i+5;if(e===void 0)e=new r(10);else if(e=new r(e),e.s<1||e.eq(Di))throw Error(ga+"NaN");if(n.s<1)throw Error(ga+(n.s?"NaN":"-Infinity"));return n.eq(Di)?new r(0):(sn=!1,t=hs(Hm(n,a),Hm(e,a),a),sn=!0,Gt(t,i))};$e.minus=$e.sub=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?n8(t,e):e8(t,(e.s=-e.s,e))};$e.modulo=$e.mod=function(e){var t,n=this,r=n.constructor,i=r.precision;if(e=new r(e),!e.s)throw Error(ga+"NaN");return n.s?(sn=!1,t=hs(n,e,0,1).times(e),sn=!0,n.minus(t)):Gt(new r(n),i)};$e.naturalExponential=$e.exp=function(){return t8(this)};$e.naturalLogarithm=$e.ln=function(){return Hm(this)};$e.negated=$e.neg=function(){var e=new this.constructor(this);return e.s=-e.s||0,e};$e.plus=$e.add=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?e8(t,e):n8(t,(e.s=-e.s,e))};$e.precision=$e.sd=function(e){var t,n,r,i=this;if(e!==void 0&&e!==!!e&&e!==1&&e!==0)throw Error(eu+e);if(t=$n(i)+1,r=i.d.length-1,n=r*Jt+1,r=i.d[r],r){for(;r%10==0;r/=10)n--;for(r=i.d[0];r>=10;r/=10)n++}return e&&t>n?t:n};$e.squareRoot=$e.sqrt=function(){var e,t,n,r,i,a,o,l=this,u=l.constructor;if(l.s<1){if(!l.s)return new u(0);throw Error(ga+"NaN")}for(e=$n(l),sn=!1,i=Math.sqrt(+l),i==0||i==1/0?(t=xo(l.d),(t.length+e)%2==0&&(t+="0"),i=Math.sqrt(t),e=vf((e+1)/2)-(e<0||e%2),i==1/0?t="5e"+e:(t=i.toExponential(),t=t.slice(0,t.indexOf("e")+1)+e),r=new u(t)):r=new u(i.toString()),n=u.precision,i=o=n+3;;)if(a=r,r=a.plus(hs(l,a,o+2)).times(.5),xo(a.d).slice(0,o)===(t=xo(r.d)).slice(0,o)){if(t=t.slice(o-3,o+1),i==o&&t=="4999"){if(Gt(a,n+1,0),a.times(a).eq(l)){r=a;break}}else if(t!="9999")break;o+=4}return sn=!0,Gt(r,n)};$e.times=$e.mul=function(e){var t,n,r,i,a,o,l,u,f,h=this,p=h.constructor,g=h.d,x=(e=new p(e)).d;if(!h.s||!e.s)return new p(0);for(e.s*=h.s,n=h.e+e.e,u=g.length,f=x.length,u<f&&(a=g,g=x,x=a,o=u,u=f,f=o),a=[],o=u+f,r=o;r--;)a.push(0);for(r=f;--r>=0;){for(t=0,i=u+r;i>r;)l=a[i]+x[r]*g[i-r-1]+t,a[i--]=l%or|0,t=l/or|0;a[i]=(a[i]+t)%or|0}for(;!a[--o];)a.pop();return t?++n:a.shift(),e.d=a,e.e=n,sn?Gt(e,p.precision):e};$e.toDecimalPlaces=$e.todp=function(e,t){var n=this,r=n.constructor;return n=new r(n),e===void 0?n:(To(e,0,bf),t===void 0?t=r.rounding:To(t,0,8),Gt(n,e+$n(n)+1,t))};$e.toExponential=function(e,t){var n,r=this,i=r.constructor;return e===void 0?n=su(r,!0):(To(e,0,bf),t===void 0?t=i.rounding:To(t,0,8),r=Gt(new i(r),e+1,t),n=su(r,!0,e+1)),n};$e.toFixed=function(e,t){var n,r,i=this,a=i.constructor;return e===void 0?su(i):(To(e,0,bf),t===void 0?t=a.rounding:To(t,0,8),r=Gt(new a(i),e+$n(i)+1,t),n=su(r.abs(),!1,e+$n(r)+1),i.isneg()&&!i.isZero()?"-"+n:n)};$e.toInteger=$e.toint=function(){var e=this,t=e.constructor;return Gt(new t(e),$n(e)+1,t.rounding)};$e.toNumber=function(){return+this};$e.toPower=$e.pow=function(e){var t,n,r,i,a,o,l=this,u=l.constructor,f=12,h=+(e=new u(e));if(!e.s)return new u(Di);if(l=new u(l),!l.s){if(e.s<1)throw Error(ga+"Infinity");return l}if(l.eq(Di))return l;if(r=u.precision,e.eq(Di))return Gt(l,r);if(t=e.e,n=e.d.length-1,o=t>=n,a=l.s,o){if((n=h<0?-h:h)<=Q9){for(i=new u(Di),t=Math.ceil(r/Jt+4),sn=!1;n%2&&(i=i.times(l),lI(i.d,t)),n=vf(n/2),n!==0;)l=l.times(l),lI(l.d,t);return sn=!0,e.s<0?new u(Di).div(i):Gt(i,r)}}else if(a<0)throw Error(ga+"NaN");return a=a<0&&e.d[Math.max(t,n)]&1?-1:1,l.s=1,sn=!1,i=e.times(Hm(l,r+f)),sn=!0,i=t8(i),i.s=a,i};$e.toPrecision=function(e,t){var n,r,i=this,a=i.constructor;return e===void 0?(n=$n(i),r=su(i,n<=a.toExpNeg||n>=a.toExpPos)):(To(e,1,bf),t===void 0?t=a.rounding:To(t,0,8),i=Gt(new a(i),e,t),n=$n(i),r=su(i,e<=n||n<=a.toExpNeg,e)),r};$e.toSignificantDigits=$e.tosd=function(e,t){var n=this,r=n.constructor;return e===void 0?(e=r.precision,t=r.rounding):(To(e,1,bf),t===void 0?t=r.rounding:To(t,0,8)),Gt(new r(n),e,t)};$e.toString=$e.valueOf=$e.val=$e.toJSON=$e[Symbol.for("nodejs.util.inspect.custom")]=function(){var e=this,t=$n(e),n=e.constructor;return su(e,t<=n.toExpNeg||t>=n.toExpPos)};function e8(e,t){var n,r,i,a,o,l,u,f,h=e.constructor,p=h.precision;if(!e.s||!t.s)return t.s||(t=new h(e)),sn?Gt(t,p):t;if(u=e.d,f=t.d,o=e.e,i=t.e,u=u.slice(),a=o-i,a){for(a<0?(r=u,a=-a,l=f.length):(r=f,i=o,l=u.length),o=Math.ceil(p/Jt),l=o>l?o+1:l+1,a>l&&(a=l,r.length=1),r.reverse();a--;)r.push(0);r.reverse()}for(l=u.length,a=f.length,l-a<0&&(a=l,r=f,f=u,u=r),n=0;a;)n=(u[--a]=u[a]+f[a]+n)/or|0,u[a]%=or;for(n&&(u.unshift(n),++i),l=u.length;u[--l]==0;)u.pop();return t.d=u,t.e=i,sn?Gt(t,p):t}function To(e,t,n){if(e!==~~e||e<t||e>n)throw Error(eu+e)}function xo(e){var t,n,r,i=e.length-1,a="",o=e[0];if(i>0){for(a+=o,t=1;t<i;t++)r=e[t]+"",n=Jt-r.length,n&&(a+=bl(n)),a+=r;o=e[t],r=o+"",n=Jt-r.length,n&&(a+=bl(n))}else if(o===0)return"0";for(;o%10===0;)o/=10;return a+o}var hs=(function(){function e(r,i){var a,o=0,l=r.length;for(r=r.slice();l--;)a=r[l]*i+o,r[l]=a%or|0,o=a/or|0;return o&&r.unshift(o),r}function t(r,i,a,o){var l,u;if(a!=o)u=a>o?1:-1;else for(l=u=0;l<a;l++)if(r[l]!=i[l]){u=r[l]>i[l]?1:-1;break}return u}function n(r,i,a){for(var o=0;a--;)r[a]-=o,o=r[a]<i[a]?1:0,r[a]=o*or+r[a]-i[a];for(;!r[0]&&r.length>1;)r.shift()}return function(r,i,a,o){var l,u,f,h,p,g,x,S,_,k,T,N,O,P,C,D,$,H,q=r.constructor,K=r.s==i.s?1:-1,U=r.d,z=i.d;if(!r.s)return new q(r);if(!i.s)throw Error(ga+"Division by zero");for(u=r.e-i.e,$=z.length,C=U.length,x=new q(K),S=x.d=[],f=0;z[f]==(U[f]||0);)++f;if(z[f]>(U[f]||0)&&--u,a==null?N=a=q.precision:o?N=a+($n(r)-$n(i))+1:N=a,N<0)return new q(0);if(N=N/Jt+2|0,f=0,$==1)for(h=0,z=z[0],N++;(f<C||h)&&N--;f++)O=h*or+(U[f]||0),S[f]=O/z|0,h=O%z|0;else{for(h=or/(z[0]+1)|0,h>1&&(z=e(z,h),U=e(U,h),$=z.length,C=U.length),P=$,_=U.slice(0,$),k=_.length;k<$;)_[k++]=0;H=z.slice(),H.unshift(0),D=z[0],z[1]>=or/2&&++D;do h=0,l=t(z,_,$,k),l<0?(T=_[0],$!=k&&(T=T*or+(_[1]||0)),h=T/D|0,h>1?(h>=or&&(h=or-1),p=e(z,h),g=p.length,k=_.length,l=t(p,_,g,k),l==1&&(h--,n(p,$<g?H:z,g))):(h==0&&(l=h=1),p=z.slice()),g=p.length,g<k&&p.unshift(0),n(_,p,k),l==-1&&(k=_.length,l=t(z,_,$,k),l<1&&(h++,n(_,$<k?H:z,k))),k=_.length):l===0&&(h++,_=[0]),S[f++]=h,l&&_[0]?_[k++]=U[P]||0:(_=[U[P]],k=1);while((P++<C||_[0]!==void 0)&&N--)}return S[0]||S.shift(),x.e=u,Gt(x,o?a+$n(x)+1:a)}})();function t8(e,t){var n,r,i,a,o,l,u=0,f=0,h=e.constructor,p=h.precision;if($n(e)>16)throw Error(sT+$n(e));if(!e.s)return new h(Di);for(sn=!1,l=p,o=new h(.03125);e.abs().gte(.1);)e=e.times(o),f+=5;for(r=Math.log(zc(2,f))/Math.LN10*2+5|0,l+=r,n=i=a=new h(Di),h.precision=l;;){if(i=Gt(i.times(e),l),n=n.times(++u),o=a.plus(hs(i,n,l)),xo(o.d).slice(0,l)===xo(a.d).slice(0,l)){for(;f--;)a=Gt(a.times(a),l);return h.precision=p,t==null?(sn=!0,Gt(a,p)):a}a=o}}function $n(e){for(var t=e.e*Jt,n=e.d[0];n>=10;n/=10)t++;return t}function OS(e,t,n){if(t>e.LN10.sd())throw sn=!0,n&&(e.precision=n),Error(ga+"LN10 precision limit exceeded");return Gt(new e(e.LN10),t)}function bl(e){for(var t="";e--;)t+="0";return t}function Hm(e,t){var n,r,i,a,o,l,u,f,h,p=1,g=10,x=e,S=x.d,_=x.constructor,k=_.precision;if(x.s<1)throw Error(ga+(x.s?"NaN":"-Infinity"));if(x.eq(Di))return new _(0);if(t==null?(sn=!1,f=k):f=t,x.eq(10))return t==null&&(sn=!0),OS(_,f);if(f+=g,_.precision=f,n=xo(S),r=n.charAt(0),a=$n(x),Math.abs(a)<15e14){for(;r<7&&r!=1||r==1&&n.charAt(1)>3;)x=x.times(e),n=xo(x.d),r=n.charAt(0),p++;a=$n(x),r>1?(x=new _("0."+n),a++):x=new _(r+"."+n.slice(1))}else return u=OS(_,f+2,k).times(a+""),x=Hm(new _(r+"."+n.slice(1)),f-g).plus(u),_.precision=k,t==null?(sn=!0,Gt(x,k)):x;for(l=o=x=hs(x.minus(Di),x.plus(Di),f),h=Gt(x.times(x),f),i=3;;){if(o=Gt(o.times(h),f),u=l.plus(hs(o,new _(i),f)),xo(u.d).slice(0,f)===xo(l.d).slice(0,f))return l=l.times(2),a!==0&&(l=l.plus(OS(_,f+2,k).times(a+""))),l=hs(l,new _(p),f),_.precision=k,t==null?(sn=!0,Gt(l,k)):l;l=u,i+=2}}function sI(e,t){var n,r,i;for((n=t.indexOf("."))>-1&&(t=t.replace(".","")),(r=t.search(/e/i))>0?(n<0&&(n=r),n+=+t.slice(r+1),t=t.substring(0,r)):n<0&&(n=t.length),r=0;t.charCodeAt(r)===48;)++r;for(i=t.length;t.charCodeAt(i-1)===48;)--i;if(t=t.slice(r,i),t){if(i-=r,n=n-r-1,e.e=vf(n/Jt),e.d=[],r=(n+1)%Jt,n<0&&(r+=Jt),r<i){for(r&&e.d.push(+t.slice(0,r)),i-=Jt;r<i;)e.d.push(+t.slice(r,r+=Jt));t=t.slice(r),r=Jt-t.length}else r-=i;for(;r--;)t+="0";if(e.d.push(+t),sn&&(e.e>Bb||e.e<-Bb))throw Error(sT+n)}else e.s=0,e.e=0,e.d=[0];return e}function Gt(e,t,n){var r,i,a,o,l,u,f,h,p=e.d;for(o=1,a=p[0];a>=10;a/=10)o++;if(r=t-o,r<0)r+=Jt,i=t,f=p[h=0];else{if(h=Math.ceil((r+1)/Jt),a=p.length,h>=a)return e;for(f=a=p[h],o=1;a>=10;a/=10)o++;r%=Jt,i=r-Jt+o}if(n!==void 0&&(a=zc(10,o-i-1),l=f/a%10|0,u=t<0||p[h+1]!==void 0||f%a,u=n<4?(l||u)&&(n==0||n==(e.s<0?3:2)):l>5||l==5&&(n==4||u||n==6&&(r>0?i>0?f/zc(10,o-i):0:p[h-1])%10&1||n==(e.s<0?8:7))),t<1||!p[0])return u?(a=$n(e),p.length=1,t=t-a-1,p[0]=zc(10,(Jt-t%Jt)%Jt),e.e=vf(-t/Jt)||0):(p.length=1,p[0]=e.e=e.s=0),e;if(r==0?(p.length=h,a=1,h--):(p.length=h+1,a=zc(10,Jt-r),p[h]=i>0?(f/zc(10,o-i)%zc(10,i)|0)*a:0),u)for(;;)if(h==0){(p[0]+=a)==or&&(p[0]=1,++e.e);break}else{if(p[h]+=a,p[h]!=or)break;p[h--]=0,a=1}for(r=p.length;p[--r]===0;)p.pop();if(sn&&(e.e>Bb||e.e<-Bb))throw Error(sT+$n(e));return e}function n8(e,t){var n,r,i,a,o,l,u,f,h,p,g=e.constructor,x=g.precision;if(!e.s||!t.s)return t.s?t.s=-t.s:t=new g(e),sn?Gt(t,x):t;if(u=e.d,p=t.d,r=t.e,f=e.e,u=u.slice(),o=f-r,o){for(h=o<0,h?(n=u,o=-o,l=p.length):(n=p,r=f,l=u.length),i=Math.max(Math.ceil(x/Jt),l)+2,o>i&&(o=i,n.length=1),n.reverse(),i=o;i--;)n.push(0);n.reverse()}else{for(i=u.length,l=p.length,h=i<l,h&&(l=i),i=0;i<l;i++)if(u[i]!=p[i]){h=u[i]<p[i];break}o=0}for(h&&(n=u,u=p,p=n,t.s=-t.s),l=u.length,i=p.length-l;i>0;--i)u[l++]=0;for(i=p.length;i>o;){if(u[--i]<p[i]){for(a=i;a&&u[--a]===0;)u[a]=or-1;--u[a],u[i]+=or}u[i]-=p[i]}for(;u[--l]===0;)u.pop();for(;u[0]===0;u.shift())--r;return u[0]?(t.d=u,t.e=r,sn?Gt(t,x):t):new g(0)}function su(e,t,n){var r,i=$n(e),a=xo(e.d),o=a.length;return t?(n&&(r=n-o)>0?a=a.charAt(0)+"."+a.slice(1)+bl(r):o>1&&(a=a.charAt(0)+"."+a.slice(1)),a=a+(i<0?"e":"e+")+i):i<0?(a="0."+bl(-i-1)+a,n&&(r=n-o)>0&&(a+=bl(r))):i>=o?(a+=bl(i+1-o),n&&(r=n-i-1)>0&&(a=a+"."+bl(r))):((r=i+1)<o&&(a=a.slice(0,r)+"."+a.slice(r)),n&&(r=n-o)>0&&(i+1===o&&(a+="."),a+=bl(r))),e.s<0?"-"+a:a}function lI(e,t){if(e.length>t)return e.length=t,!0}function r8(e){var t,n,r;function i(a){var o=this;if(!(o instanceof i))return new i(a);if(o.constructor=i,a instanceof i){o.s=a.s,o.e=a.e,o.d=(a=a.d)?a.slice():a;return}if(typeof a=="number"){if(a*0!==0)throw Error(eu+a);if(a>0)o.s=1;else if(a<0)a=-a,o.s=-1;else{o.s=0,o.e=0,o.d=[0];return}if(a===~~a&&a<1e7){o.e=0,o.d=[a];return}return sI(o,a.toString())}else if(typeof a!="string")throw Error(eu+a);if(a.charCodeAt(0)===45?(a=a.slice(1),o.s=-1):o.s=1,lbe.test(a))sI(o,a);else throw Error(eu+a)}if(i.prototype=$e,i.ROUND_UP=0,i.ROUND_DOWN=1,i.ROUND_CEIL=2,i.ROUND_FLOOR=3,i.ROUND_HALF_UP=4,i.ROUND_HALF_DOWN=5,i.ROUND_HALF_EVEN=6,i.ROUND_HALF_CEIL=7,i.ROUND_HALF_FLOOR=8,i.clone=r8,i.config=i.set=cbe,e===void 0&&(e={}),e)for(r=["precision","rounding","toExpNeg","toExpPos","LN10"],t=0;t<r.length;)e.hasOwnProperty(n=r[t++])||(e[n]=this[n]);return i.config(e),i}function cbe(e){if(!e||typeof e!="object")throw Error(ga+"Object expected");var t,n,r,i=["precision",1,bf,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(t=0;t<i.length;t+=3)if((r=e[n=i[t]])!==void 0)if(vf(r)===r&&r>=i[t+1]&&r<=i[t+2])this[n]=r;else throw Error(eu+n+": "+r);if((r=e[n="LN10"])!==void 0)if(r==Math.LN10)this[n]=new this(r);else throw Error(eu+n+": "+r);return this}var lT=r8(sbe);Di=new lT(1);const Lt=lT;var ube=e=>e,i8={},a8=e=>e===i8,cI=e=>function t(){return arguments.length===0||arguments.length===1&&a8(arguments.length<=0?void 0:arguments[0])?t:e(...arguments)},o8=(e,t)=>e===1?t:cI(function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];var a=r.filter(o=>o!==i8).length;return a>=e?t(...r):o8(e-a,cI(function(){for(var o=arguments.length,l=new Array(o),u=0;u<o;u++)l[u]=arguments[u];var f=r.map(h=>a8(h)?l.shift():h);return t(...f,...l)}))}),dbe=e=>o8(e.length,e),OE=(e,t)=>{for(var n=[],r=e;r<t;++r)n[r-e]=r;return n},fbe=dbe((e,t)=>Array.isArray(t)?t.map(e):Object.keys(t).map(n=>t[n]).map(e)),hbe=function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];if(!n.length)return ube;var i=n.reverse(),a=i[0],o=i.slice(1);return function(){return o.reduce((l,u)=>u(l),a(...arguments))}},jE=e=>Array.isArray(e)?e.reverse():e.split("").reverse().join("");function s8(e){var t;return e===0?t=1:t=Math.floor(new Lt(e).abs().log(10).toNumber())+1,t}function l8(e,t,n){for(var r=new Lt(e),i=0,a=[];r.lt(t)&&i<1e5;)a.push(r.toNumber()),r=r.add(n),i++;return a}var c8=e=>{var[t,n]=e,[r,i]=[t,n];return t>n&&([r,i]=[n,t]),[r,i]},u8=(e,t,n)=>{if(e.lte(0))return new Lt(0);var r=s8(e.toNumber()),i=new Lt(10).pow(r),a=e.div(i),o=r!==1?.05:.1,l=new Lt(Math.ceil(a.div(o).toNumber())).add(n).mul(o),u=l.mul(i);return t?new Lt(u.toNumber()):new Lt(Math.ceil(u.toNumber()))},mbe=(e,t,n)=>{var r=new Lt(1),i=new Lt(e);if(!i.isint()&&n){var a=Math.abs(e);a<1?(r=new Lt(10).pow(s8(e)-1),i=new Lt(Math.floor(i.div(r).toNumber())).mul(r)):a>1&&(i=new Lt(Math.floor(e)))}else e===0?i=new Lt(Math.floor((t-1)/2)):n||(i=new Lt(Math.floor(e)));var o=Math.floor((t-1)/2),l=hbe(fbe(u=>i.add(new Lt(u-o).mul(r)).toNumber()),OE);return l(0,t)},d8=function(t,n,r,i){var a=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((n-t)/(r-1)))return{step:new Lt(0),tickMin:new Lt(0),tickMax:new Lt(0)};var o=u8(new Lt(n).sub(t).div(r-1),i,a),l;t<=0&&n>=0?l=new Lt(0):(l=new Lt(t).add(n).div(2),l=l.sub(new Lt(l).mod(o)));var u=Math.ceil(l.sub(t).div(o).toNumber()),f=Math.ceil(new Lt(n).sub(l).div(o).toNumber()),h=u+f+1;return h>r?d8(t,n,r,i,a+1):(h<r&&(f=n>0?f+(r-h):f,u=n>0?u:u+(r-h)),{step:o,tickMin:l.sub(new Lt(u).mul(o)),tickMax:l.add(new Lt(f).mul(o))})},pbe=function(t){var[n,r]=t,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,o=Math.max(i,2),[l,u]=c8([n,r]);if(l===-1/0||u===1/0){var f=u===1/0?[l,...OE(0,i-1).map(()=>1/0)]:[...OE(0,i-1).map(()=>-1/0),u];return n>r?jE(f):f}if(l===u)return mbe(l,i,a);var{step:h,tickMin:p,tickMax:g}=d8(l,u,o,a,0),x=l8(p,g.add(new Lt(.1).mul(h)),h);return n>r?jE(x):x},gbe=function(t,n){var[r,i]=t,a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,[o,l]=c8([r,i]);if(o===-1/0||l===1/0)return[r,i];if(o===l)return[o];var u=Math.max(n,2),f=u8(new Lt(l).sub(o).div(u-1),a,0),h=[...l8(new Lt(o),new Lt(l),f),l];return a===!1&&(h=h.map(p=>Math.round(p))),r>i?jE(h):h},ybe=e=>e.rootProps.barCategoryGap,lx=e=>e.rootProps.stackOffset,f8=e=>e.rootProps.reverseStackOrder,cT=e=>e.options.chartName,uT=e=>e.rootProps.syncId,h8=e=>e.rootProps.syncMethod,dT=e=>e.options.eventEmitter,bbe=e=>e.rootProps.baseValue,zr={grid:-100,barBackground:-50,area:100,cursorRectangle:200,bar:300,line:400,axis:500,scatter:600,activeBar:1e3,cursorLine:1100,activeDot:1200,label:2e3},os={allowDuplicatedCategory:!0,angleAxisId:0,reversed:!1,scale:"auto",tick:!0,type:"category"},Mi={allowDataOverflow:!1,allowDuplicatedCategory:!0,radiusAxisId:0,scale:"auto",tick:!0,tickCount:5,type:"number"},cx=(e,t)=>{if(!(!e||!t))return e!=null&&e.reversed?[t[1],t[0]]:t},vbe={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:!1,dataKey:void 0,domain:void 0,id:os.angleAxisId,includeHidden:!1,name:void 0,reversed:os.reversed,scale:os.scale,tick:os.tick,tickCount:void 0,ticks:void 0,type:os.type,unit:void 0},xbe={allowDataOverflow:Mi.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:Mi.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:Mi.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:Mi.scale,tick:Mi.tick,tickCount:Mi.tickCount,ticks:void 0,type:Mi.type,unit:void 0},_be={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:os.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:os.angleAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:os.scale,tick:os.tick,tickCount:void 0,ticks:void 0,type:"number",unit:void 0},wbe={allowDataOverflow:Mi.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:Mi.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:Mi.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:Mi.scale,tick:Mi.tick,tickCount:Mi.tickCount,ticks:void 0,type:"category",unit:void 0},fT=(e,t)=>e.polarAxis.angleAxis[t]!=null?e.polarAxis.angleAxis[t]:e.layout.layoutType==="radial"?_be:vbe,hT=(e,t)=>e.polarAxis.radiusAxis[t]!=null?e.polarAxis.radiusAxis[t]:e.layout.layoutType==="radial"?wbe:xbe,ux=e=>e.polarOptions,mT=we([As,Ts,Sr],pge),m8=we([ux,mT],(e,t)=>{if(e!=null)return Ml(e.innerRadius,t,0)}),p8=we([ux,mT],(e,t)=>{if(e!=null)return Ml(e.outerRadius,t,t*.8)}),Sbe=e=>{if(e==null)return[0,0];var{startAngle:t,endAngle:n}=e;return[t,n]},g8=we([ux],Sbe);we([fT,g8],cx);var y8=we([mT,m8,p8],(e,t,n)=>{if(!(e==null||t==null||n==null))return[t,n]});we([hT,y8],cx);var b8=we([Vt,ux,m8,p8,As,Ts],(e,t,n,r,i,a)=>{if(!(e!=="centric"&&e!=="radial"||t==null||n==null||r==null)){var{cx:o,cy:l,startAngle:u,endAngle:f}=t;return{cx:Ml(o,i,i/2),cy:Ml(l,a,a/2),innerRadius:n,outerRadius:r,startAngle:u,endAngle:f,clockWise:!1}}}),Vn=(e,t)=>t,dx=(e,t,n)=>n;function pT(e){return e?.id}function v8(e,t,n){var{chartData:r=[]}=t,{allowDuplicatedCategory:i,dataKey:a}=n,o=new Map;return e.forEach(l=>{var u,f=(u=l.data)!==null&&u!==void 0?u:r;if(!(f==null||f.length===0)){var h=pT(l);f.forEach((p,g)=>{var x=a==null||i?g:String(Nr(p,a,null)),S=Nr(p,l.dataKey,0),_;o.has(x)?_=o.get(x):_={},Object.assign(_,{[h]:S}),o.set(x,_)})}}),Array.from(o.values())}function gT(e){return e.stackId!=null&&e.dataKey!=null}var fx=(e,t)=>e===t?!0:e==null||t==null?!1:e[0]===t[0]&&e[1]===t[1];function hx(e,t){return Array.isArray(e)&&Array.isArray(t)&&e.length===0&&t.length===0?!0:e===t}function kbe(e,t){if(e.length===t.length){for(var n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0}return!1}var Zn=e=>{var t=Vt(e);return t==="horizontal"?"xAxis":t==="vertical"?"yAxis":t==="centric"?"angleAxis":"radiusAxis"},xf=e=>e.tooltip.settings.axisId;function uI(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function zb(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?uI(Object(n),!0).forEach(function(r){Ebe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):uI(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Ebe(e,t,n){return(t=Abe(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Abe(e){var t=Tbe(e,"string");return typeof t=="symbol"?t:t+""}function Tbe(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var NE=[0,"auto"],rr={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:void 0,height:30,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"bottom",padding:{left:0,right:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"category",unit:void 0},x8=(e,t)=>e.cartesianAxis.xAxis[t],js=(e,t)=>{var n=x8(e,t);return n??rr},ir={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:NE,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"left",padding:{top:0,bottom:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"number",unit:void 0,width:mp},_8=(e,t)=>e.cartesianAxis.yAxis[t],Ns=(e,t)=>{var n=_8(e,t);return n??ir},Obe={domain:[0,"auto"],includeHidden:!1,reversed:!1,allowDataOverflow:!1,allowDuplicatedCategory:!1,dataKey:void 0,id:0,name:"",range:[64,64],scale:"auto",type:"number",unit:""},yT=(e,t)=>{var n=e.cartesianAxis.zAxis[t];return n??Obe},Hr=(e,t,n)=>{switch(t){case"xAxis":return js(e,n);case"yAxis":return Ns(e,n);case"zAxis":return yT(e,n);case"angleAxis":return fT(e,n);case"radiusAxis":return hT(e,n);default:throw new Error("Unexpected axis type: ".concat(t))}},jbe=(e,t,n)=>{switch(t){case"xAxis":return js(e,n);case"yAxis":return Ns(e,n);default:throw new Error("Unexpected axis type: ".concat(t))}},_p=(e,t,n)=>{switch(t){case"xAxis":return js(e,n);case"yAxis":return Ns(e,n);case"angleAxis":return fT(e,n);case"radiusAxis":return hT(e,n);default:throw new Error("Unexpected axis type: ".concat(t))}},w8=e=>e.graphicalItems.cartesianItems.some(t=>t.type==="bar")||e.graphicalItems.polarItems.some(t=>t.type==="radialBar");function S8(e,t){return n=>{switch(e){case"xAxis":return"xAxisId"in n&&n.xAxisId===t;case"yAxis":return"yAxisId"in n&&n.yAxisId===t;case"zAxis":return"zAxisId"in n&&n.zAxisId===t;case"angleAxis":return"angleAxisId"in n&&n.angleAxisId===t;case"radiusAxis":return"radiusAxisId"in n&&n.radiusAxisId===t;default:return!1}}}var k8=e=>e.graphicalItems.cartesianItems,Nbe=we([Vn,dx],S8),E8=(e,t,n)=>e.filter(n).filter(r=>t?.includeHidden===!0?!0:!r.hide),wp=we([k8,Hr,Nbe],E8,{memoizeOptions:{resultEqualityCheck:hx}}),A8=we([wp],e=>e.filter(t=>t.type==="area"||t.type==="bar").filter(gT)),T8=e=>e.filter(t=>!("stackId"in t)||t.stackId===void 0),Cbe=we([wp],T8),O8=e=>e.map(t=>t.data).filter(Boolean).flat(1),Mbe=we([wp],O8,{memoizeOptions:{resultEqualityCheck:hx}}),j8=(e,t)=>{var{chartData:n=[],dataStartIndex:r,dataEndIndex:i}=t;return e.length>0?e:n.slice(r,i+1)},bT=we([Mbe,oT],j8),N8=(e,t,n)=>t?.dataKey!=null?e.map(r=>({value:Nr(r,t.dataKey)})):n.length>0?n.map(r=>r.dataKey).flatMap(r=>e.map(i=>({value:Nr(i,r)}))):e.map(r=>({value:r})),mx=we([bT,Hr,wp],N8);function C8(e,t){switch(e){case"xAxis":return t.direction==="x";case"yAxis":return t.direction==="y";default:return!1}}function Sy(e){if(Eo(e)||e instanceof Date){var t=Number(e);if(_n(t))return t}}function dI(e){if(Array.isArray(e)){var t=[Sy(e[0]),Sy(e[1])];return Pl(t)?t:void 0}var n=Sy(e);if(n!=null)return[n,n]}function Ss(e){return e.map(Sy).filter(Qde)}function Pbe(e,t,n){return!n||typeof t!="number"||qa(t)?[]:n.length?Ss(n.flatMap(r=>{var i=Nr(e,r.dataKey),a,o;if(Array.isArray(i)?[a,o]=i:a=o=i,!(!_n(a)||!_n(o)))return[t-a,t+o]})):[]}var Xn=e=>{var t=Zn(e),n=xf(e);return _p(e,t,n)},Sp=we([Xn],e=>e?.dataKey),Dbe=we([A8,oT,Xn],v8),M8=(e,t,n,r)=>{var i={},a=t.reduce((o,l)=>(l.stackId==null||(o[l.stackId]==null&&(o[l.stackId]=[]),o[l.stackId].push(l)),o),i);return Object.fromEntries(Object.entries(a).map(o=>{var[l,u]=o,f=r?[...u].reverse():u,h=f.map(pT);return[l,{stackedData:ime(e,h,n),graphicalItems:f}]}))},CE=we([Dbe,A8,lx,f8],M8),P8=(e,t,n,r)=>{var{dataStartIndex:i,dataEndIndex:a}=t;if(r==null&&n!=="zAxis"){var o=lme(e,i,a);if(!(o!=null&&o[0]===0&&o[1]===0))return o}},Rbe=we([Hr],e=>e.allowDataOverflow),vT=e=>{var t;if(e==null||!("domain"in e))return NE;if(e.domain!=null)return e.domain;if(e.ticks!=null){if(e.type==="number"){var n=Ss(e.ticks);return[Math.min(...n),Math.max(...n)]}if(e.type==="category")return e.ticks.map(String)}return(t=e?.domain)!==null&&t!==void 0?t:NE},D8=we([Hr],vT),R8=we([D8,Rbe],J9),Lbe=we([CE,$l,Vn,R8],P8,{memoizeOptions:{resultEqualityCheck:fx}}),xT=e=>e.errorBars,Ibe=(e,t,n)=>e.flatMap(r=>t[r.id]).filter(Boolean).filter(r=>C8(n,r)),Ub=function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var i=n.filter(Boolean);if(i.length!==0){var a=i.flat(),o=Math.min(...a),l=Math.max(...a);return[o,l]}},L8=(e,t,n,r,i)=>{var a,o;if(n.length>0&&e.forEach(l=>{n.forEach(u=>{var f,h,p=(f=r[u.id])===null||f===void 0?void 0:f.filter(T=>C8(i,T)),g=Nr(l,(h=t.dataKey)!==null&&h!==void 0?h:u.dataKey),x=Pbe(l,g,p);if(x.length>=2){var S=Math.min(...x),_=Math.max(...x);(a==null||S<a)&&(a=S),(o==null||_>o)&&(o=_)}var k=dI(g);k!=null&&(a=a==null?k[0]:Math.min(a,k[0]),o=o==null?k[1]:Math.max(o,k[1]))})}),t?.dataKey!=null&&e.forEach(l=>{var u=dI(Nr(l,t.dataKey));u!=null&&(a=a==null?u[0]:Math.min(a,u[0]),o=o==null?u[1]:Math.max(o,u[1]))}),_n(a)&&_n(o))return[a,o]},$be=we([bT,Hr,Cbe,xT,Vn],L8,{memoizeOptions:{resultEqualityCheck:fx}});function Bbe(e){var{value:t}=e;if(Eo(t)||t instanceof Date)return t}var zbe=(e,t,n)=>{var r=e.map(Bbe).filter(i=>i!=null);return n&&(t.dataKey==null||t.allowDuplicatedCategory&&t6(r))?y9(0,e.length):t.allowDuplicatedCategory?r:Array.from(new Set(r))},I8=e=>e.referenceElements.dots,_f=(e,t,n)=>e.filter(r=>r.ifOverflow==="extendDomain").filter(r=>t==="xAxis"?r.xAxisId===n:r.yAxisId===n),Ube=we([I8,Vn,dx],_f),$8=e=>e.referenceElements.areas,Fbe=we([$8,Vn,dx],_f),B8=e=>e.referenceElements.lines,Hbe=we([B8,Vn,dx],_f),z8=(e,t)=>{var n=Ss(e.map(r=>t==="xAxis"?r.x:r.y));if(n.length!==0)return[Math.min(...n),Math.max(...n)]},Gbe=we(Ube,Vn,z8),U8=(e,t)=>{var n=Ss(e.flatMap(r=>[t==="xAxis"?r.x1:r.y1,t==="xAxis"?r.x2:r.y2]));if(n.length!==0)return[Math.min(...n),Math.max(...n)]},qbe=we([Fbe,Vn],U8);function Ybe(e){var t;if(e.x!=null)return Ss([e.x]);var n=(t=e.segment)===null||t===void 0?void 0:t.map(r=>r.x);return n==null||n.length===0?[]:Ss(n)}function Kbe(e){var t;if(e.y!=null)return Ss([e.y]);var n=(t=e.segment)===null||t===void 0?void 0:t.map(r=>r.y);return n==null||n.length===0?[]:Ss(n)}var F8=(e,t)=>{var n=e.flatMap(r=>t==="xAxis"?Ybe(r):Kbe(r));if(n.length!==0)return[Math.min(...n),Math.max(...n)]},Wbe=we([Hbe,Vn],F8),Vbe=we(Gbe,Wbe,qbe,(e,t,n)=>Ub(e,n,t)),H8=(e,t,n,r,i,a,o,l)=>{if(n!=null)return n;var u=o==="vertical"&&l==="xAxis"||o==="horizontal"&&l==="yAxis",f=u?Ub(r,a,i):Ub(a,i);return obe(t,f,e.allowDataOverflow)},Zbe=we([Hr,D8,R8,Lbe,$be,Vbe,Vt,Vn],H8,{memoizeOptions:{resultEqualityCheck:fx}}),Xbe=[0,1],G8=(e,t,n,r,i,a,o)=>{if(!((e==null||n==null||n.length===0)&&o===void 0)){var{dataKey:l,type:u}=e,f=Es(t,a);if(f&&l==null){var h;return y9(0,(h=n?.length)!==null&&h!==void 0?h:0)}return u==="category"?zbe(r,e,f):i==="expand"?Xbe:o}},_T=we([Hr,Vt,bT,mx,lx,Vn,Zbe],G8),q8=(e,t,n,r,i)=>{if(e!=null){var{scale:a,type:o}=e;if(a==="auto")return t==="radial"&&i==="radiusAxis"?"band":t==="radial"&&i==="angleAxis"?"linear":o==="category"&&r&&(r.indexOf("LineChart")>=0||r.indexOf("AreaChart")>=0||r.indexOf("ComposedChart")>=0&&!n)?"point":o==="category"?"band":"linear";if(typeof a=="string"){var l="scale".concat(SA(a));return l in am?l:"point"}}},kp=we([Hr,Vt,w8,cT,Vn],q8);function Jbe(e){if(e!=null){if(e in am)return am[e]();var t="scale".concat(SA(e));if(t in am)return am[t]()}}function wT(e,t,n,r){if(!(n==null||r==null)){if(typeof e.scale=="function")return e.scale.copy().domain(n).range(r);var i=Jbe(t);if(i!=null){var a=i.domain(n).range(r);return eme(a),a}}}var Y8=(e,t,n)=>{var r=vT(t);if(!(n!=="auto"&&n!=="linear")){if(t!=null&&t.tickCount&&Array.isArray(r)&&(r[0]==="auto"||r[1]==="auto")&&Pl(e))return pbe(e,t.tickCount,t.allowDecimals);if(t!=null&&t.tickCount&&t.type==="number"&&Pl(e))return gbe(e,t.tickCount,t.allowDecimals)}},ST=we([_T,_p,kp],Y8),K8=(e,t,n,r)=>{if(r!=="angleAxis"&&e?.type==="number"&&Pl(t)&&Array.isArray(n)&&n.length>0){var i=t[0],a=n[0],o=t[1],l=n[n.length-1];return[Math.min(i,a),Math.max(o,l)]}return t},Qbe=we([Hr,_T,ST,Vn],K8),eve=we(mx,Hr,(e,t)=>{if(!(!t||t.type!=="number")){var n=1/0,r=Array.from(Ss(e.map(l=>l.value))).sort((l,u)=>l-u);if(r.length<2)return 1/0;var i=r[r.length-1]-r[0];if(i===0)return 1/0;for(var a=0;a<r.length-1;a++){var o=r[a+1]-r[a];n=Math.min(n,o)}return n/i}}),W8=we(eve,Vt,ybe,Sr,(e,t,n,r)=>r,(e,t,n,r,i)=>{if(!_n(e))return 0;var a=t==="vertical"?r.height:r.width;if(i==="gap")return e*a/2;if(i==="no-gap"){var o=Ml(n,e*a),l=e*a/2;return l-o-(l-o)/a*o}return 0}),tve=(e,t)=>{var n=js(e,t);return n==null||typeof n.padding!="string"?0:W8(e,"xAxis",t,n.padding)},nve=(e,t)=>{var n=Ns(e,t);return n==null||typeof n.padding!="string"?0:W8(e,"yAxis",t,n.padding)},rve=we(js,tve,(e,t)=>{var n,r;if(e==null)return{left:0,right:0};var{padding:i}=e;return typeof i=="string"?{left:t,right:t}:{left:((n=i.left)!==null&&n!==void 0?n:0)+t,right:((r=i.right)!==null&&r!==void 0?r:0)+t}}),ive=we(Ns,nve,(e,t)=>{var n,r;if(e==null)return{top:0,bottom:0};var{padding:i}=e;return typeof i=="string"?{top:t,bottom:t}:{top:((n=i.top)!==null&&n!==void 0?n:0)+t,bottom:((r=i.bottom)!==null&&r!==void 0?r:0)+t}}),ave=we([Sr,rve,Zv,Vv,(e,t,n)=>n],(e,t,n,r,i)=>{var{padding:a}=r;return i?[a.left,n.width-a.right]:[e.left+t.left,e.left+e.width-t.right]}),ove=we([Sr,Vt,ive,Zv,Vv,(e,t,n)=>n],(e,t,n,r,i,a)=>{var{padding:o}=i;return a?[r.height-o.bottom,o.top]:t==="horizontal"?[e.top+e.height-n.bottom,e.top+n.top]:[e.top+n.top,e.top+e.height-n.bottom]}),Ep=(e,t,n,r)=>{var i;switch(t){case"xAxis":return ave(e,n,r);case"yAxis":return ove(e,n,r);case"zAxis":return(i=yT(e,n))===null||i===void 0?void 0:i.range;case"angleAxis":return g8(e);case"radiusAxis":return y8(e,n);default:return}},V8=we([Hr,Ep],cx),wf=we([Hr,kp,Qbe,V8],wT);we([wp,xT,Vn],Ibe);function Z8(e,t){return e.id<t.id?-1:e.id>t.id?1:0}var px=(e,t)=>t,gx=(e,t,n)=>n,sve=we(Kv,px,gx,(e,t,n)=>e.filter(r=>r.orientation===t).filter(r=>r.mirror===n).sort(Z8)),lve=we(Wv,px,gx,(e,t,n)=>e.filter(r=>r.orientation===t).filter(r=>r.mirror===n).sort(Z8)),X8=(e,t)=>({width:e.width,height:t.height}),cve=(e,t)=>{var n=typeof t.width=="number"?t.width:mp;return{width:n,height:e.height}},uve=we(Sr,js,X8),dve=(e,t,n)=>{switch(t){case"top":return e.top;case"bottom":return n-e.bottom;default:return 0}},fve=(e,t,n)=>{switch(t){case"left":return e.left;case"right":return n-e.right;default:return 0}},hve=we(Ts,Sr,sve,px,gx,(e,t,n,r,i)=>{var a={},o;return n.forEach(l=>{var u=X8(t,l);o==null&&(o=dve(t,r,e));var f=r==="top"&&!i||r==="bottom"&&i;a[l.id]=o-Number(f)*u.height,o+=(f?-1:1)*u.height}),a}),mve=we(As,Sr,lve,px,gx,(e,t,n,r,i)=>{var a={},o;return n.forEach(l=>{var u=cve(t,l);o==null&&(o=fve(t,r,e));var f=r==="left"&&!i||r==="right"&&i;a[l.id]=o-Number(f)*u.width,o+=(f?-1:1)*u.width}),a}),pve=(e,t)=>{var n=js(e,t);if(n!=null)return hve(e,n.orientation,n.mirror)},gve=we([Sr,js,pve,(e,t)=>t],(e,t,n,r)=>{if(t!=null){var i=n?.[r];return i==null?{x:e.left,y:0}:{x:e.left,y:i}}}),yve=(e,t)=>{var n=Ns(e,t);if(n!=null)return mve(e,n.orientation,n.mirror)},bve=we([Sr,Ns,yve,(e,t)=>t],(e,t,n,r)=>{if(t!=null){var i=n?.[r];return i==null?{x:0,y:e.top}:{x:i,y:e.top}}}),vve=we(Sr,Ns,(e,t)=>{var n=typeof t.width=="number"?t.width:mp;return{width:n,height:e.height}}),J8=(e,t,n,r)=>{if(n!=null){var{allowDuplicatedCategory:i,type:a,dataKey:o}=n,l=Es(e,r),u=t.map(f=>f.value);if(o&&l&&a==="category"&&i&&t6(u))return u}},kT=we([Vt,mx,Hr,Vn],J8),Q8=(e,t,n,r)=>{if(!(n==null||n.dataKey==null)){var{type:i,scale:a}=n,o=Es(e,r);if(o&&(i==="number"||a!=="auto"))return t.map(l=>l.value)}},ET=we([Vt,mx,_p,Vn],Q8),fI=we([Vt,jbe,kp,wf,kT,ET,Ep,ST,Vn],(e,t,n,r,i,a,o,l,u)=>{if(t!=null){var f=Es(e,u);return{angle:t.angle,interval:t.interval,minTickGap:t.minTickGap,orientation:t.orientation,tick:t.tick,tickCount:t.tickCount,tickFormatter:t.tickFormatter,ticks:t.ticks,type:t.type,unit:t.unit,axisType:u,categoricalDomain:a,duplicateDomain:i,isCategorical:f,niceTicks:l,range:o,realScaleType:n,scale:r}}}),xve=(e,t,n,r,i,a,o,l,u)=>{if(!(t==null||r==null)){var f=Es(e,u),{type:h,ticks:p,tickCount:g}=t,x=n==="scaleBand"&&typeof r.bandwidth=="function"?r.bandwidth()/2:2,S=h==="category"&&r.bandwidth?r.bandwidth()/x:0;S=u==="angleAxis"&&a!=null&&a.length>=2?ca(a[0]-a[1])*2*S:S;var _=p||i;if(_){var k=_.map((T,N)=>{var O=o?o.indexOf(T):T;return{index:N,coordinate:r(O)+S,value:T,offset:S}});return k.filter(T=>_n(T.coordinate))}return f&&l?l.map((T,N)=>({coordinate:r(T)+S,value:T,index:N,offset:S})).filter(T=>_n(T.coordinate)):r.ticks?r.ticks(g).map(T=>({coordinate:r(T)+S,value:T,offset:S})):r.domain().map((T,N)=>({coordinate:r(T)+S,value:o?o[T]:T,index:N,offset:S}))}},ez=we([Vt,_p,kp,wf,ST,Ep,kT,ET,Vn],xve),_ve=(e,t,n,r,i,a,o)=>{if(!(t==null||n==null||r==null||r[0]===r[1])){var l=Es(e,o),{tickCount:u}=t,f=0;return f=o==="angleAxis"&&r?.length>=2?ca(r[0]-r[1])*2*f:f,l&&a?a.map((h,p)=>({coordinate:n(h)+f,value:h,index:p,offset:f})):n.ticks?n.ticks(u).map(h=>({coordinate:n(h)+f,value:h,offset:f})):n.domain().map((h,p)=>({coordinate:n(h)+f,value:i?i[h]:h,index:p,offset:f}))}},tz=we([Vt,_p,wf,Ep,kT,ET,Vn],_ve),nz=we(Hr,wf,(e,t)=>{if(!(e==null||t==null))return zb(zb({},e),{},{scale:t})}),wve=we([Hr,kp,_T,V8],wT);we((e,t,n)=>yT(e,n),wve,(e,t)=>{if(!(e==null||t==null))return zb(zb({},e),{},{scale:t})});var Sve=we([Vt,Kv,Wv],(e,t,n)=>{switch(e){case"horizontal":return t.some(r=>r.reversed)?"right-to-left":"left-to-right";case"vertical":return n.some(r=>r.reversed)?"bottom-to-top":"top-to-bottom";case"centric":case"radial":return"left-to-right";default:return}}),rz=e=>e.options.defaultTooltipEventType,iz=e=>e.options.validateTooltipEventTypes;function az(e,t,n){if(e==null)return t;var r=e?"axis":"item";return n==null?t:n.includes(r)?r:t}function AT(e,t){var n=rz(e),r=iz(e);return az(t,n,r)}function kve(e){return Je(t=>AT(t,e))}var oz=(e,t)=>{var n,r=Number(t);if(!(qa(r)||t==null))return r>=0?e==null||(n=e[r])===null||n===void 0?void 0:n.value:void 0},Eve=e=>e.tooltip.settings,kl={active:!1,index:null,dataKey:void 0,graphicalItemId:void 0,coordinate:void 0},Ave={itemInteraction:{click:kl,hover:kl},axisInteraction:{click:kl,hover:kl},keyboardInteraction:kl,syncInteraction:{active:!1,index:null,dataKey:void 0,label:void 0,coordinate:void 0,sourceViewBox:void 0,graphicalItemId:void 0},tooltipItemPayloads:[],settings:{shared:void 0,trigger:"hover",axisId:0,active:!1,defaultIndex:void 0}},sz=mi({name:"tooltip",initialState:Ave,reducers:{addTooltipEntrySettings:{reducer(e,t){e.tooltipItemPayloads.push(t.payload)},prepare:an()},replaceTooltipEntrySettings:{reducer(e,t){var{prev:n,next:r}=t.payload,i=Ua(e).tooltipItemPayloads.indexOf(n);i>-1&&(e.tooltipItemPayloads[i]=r)},prepare:an()},removeTooltipEntrySettings:{reducer(e,t){var n=Ua(e).tooltipItemPayloads.indexOf(t.payload);n>-1&&e.tooltipItemPayloads.splice(n,1)},prepare:an()},setTooltipSettingsState(e,t){e.settings=t.payload},setActiveMouseOverItemIndex(e,t){e.syncInteraction.active=!1,e.keyboardInteraction.active=!1,e.itemInteraction.hover.active=!0,e.itemInteraction.hover.index=t.payload.activeIndex,e.itemInteraction.hover.dataKey=t.payload.activeDataKey,e.itemInteraction.hover.graphicalItemId=t.payload.activeGraphicalItemId,e.itemInteraction.hover.coordinate=t.payload.activeCoordinate},mouseLeaveChart(e){e.itemInteraction.hover.active=!1,e.axisInteraction.hover.active=!1},mouseLeaveItem(e){e.itemInteraction.hover.active=!1},setActiveClickItemIndex(e,t){e.syncInteraction.active=!1,e.itemInteraction.click.active=!0,e.keyboardInteraction.active=!1,e.itemInteraction.click.index=t.payload.activeIndex,e.itemInteraction.click.dataKey=t.payload.activeDataKey,e.itemInteraction.click.graphicalItemId=t.payload.activeGraphicalItemId,e.itemInteraction.click.coordinate=t.payload.activeCoordinate},setMouseOverAxisIndex(e,t){e.syncInteraction.active=!1,e.axisInteraction.hover.active=!0,e.keyboardInteraction.active=!1,e.axisInteraction.hover.index=t.payload.activeIndex,e.axisInteraction.hover.dataKey=t.payload.activeDataKey,e.axisInteraction.hover.coordinate=t.payload.activeCoordinate},setMouseClickAxisIndex(e,t){e.syncInteraction.active=!1,e.keyboardInteraction.active=!1,e.axisInteraction.click.active=!0,e.axisInteraction.click.index=t.payload.activeIndex,e.axisInteraction.click.dataKey=t.payload.activeDataKey,e.axisInteraction.click.coordinate=t.payload.activeCoordinate},setSyncInteraction(e,t){e.syncInteraction=t.payload},setKeyboardInteraction(e,t){e.keyboardInteraction.active=t.payload.active,e.keyboardInteraction.index=t.payload.activeIndex,e.keyboardInteraction.coordinate=t.payload.activeCoordinate,e.keyboardInteraction.dataKey=t.payload.activeDataKey}}}),{addTooltipEntrySettings:Tve,replaceTooltipEntrySettings:Ove,removeTooltipEntrySettings:jve,setTooltipSettingsState:Nve,setActiveMouseOverItemIndex:Cve,mouseLeaveItem:uje,mouseLeaveChart:lz,setActiveClickItemIndex:dje,setMouseOverAxisIndex:cz,setMouseClickAxisIndex:Mve,setSyncInteraction:ME,setKeyboardInteraction:PE}=sz.actions,Pve=sz.reducer;function hI(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Q0(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?hI(Object(n),!0).forEach(function(r){Dve(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):hI(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Dve(e,t,n){return(t=Rve(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Rve(e){var t=Lve(e,"string");return typeof t=="symbol"?t:t+""}function Lve(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Ive(e,t,n){return t==="axis"?n==="click"?e.axisInteraction.click:e.axisInteraction.hover:n==="click"?e.itemInteraction.click:e.itemInteraction.hover}function $ve(e){return e.index!=null}var uz=(e,t,n,r)=>{if(t==null)return kl;var i=Ive(e,t,n);if(i==null)return kl;if(i.active)return i;if(e.keyboardInteraction.active)return e.keyboardInteraction;if(e.syncInteraction.active&&e.syncInteraction.index!=null)return e.syncInteraction;var a=e.settings.active===!0;if($ve(i)){if(a)return Q0(Q0({},i),{},{active:!0})}else if(r!=null)return{active:!0,coordinate:void 0,dataKey:void 0,index:r,graphicalItemId:void 0};return Q0(Q0({},kl),{},{coordinate:i.coordinate})};function Bve(e){if(typeof e=="number")return Number.isFinite(e)?e:void 0;if(e instanceof Date){var t=e.valueOf();return Number.isFinite(t)?t:void 0}var n=Number(e);return Number.isFinite(n)?n:void 0}function zve(e,t){var n=Bve(e),r=t[0],i=t[1];if(n===void 0)return!1;var a=Math.min(r,i),o=Math.max(r,i);return n>=a&&n<=o}function Uve(e,t,n){if(n==null||t==null)return!0;var r=Nr(e,t);return r==null||!Pl(n)?!0:zve(r,n)}var TT=(e,t,n,r)=>{var i=e?.index;if(i==null)return null;var a=Number(i);if(!_n(a))return i;var o=0,l=1/0;t.length>0&&(l=t.length-1);var u=Math.max(o,Math.min(a,l)),f=t[u];return f==null||Uve(f,n,r)?String(u):null},dz=(e,t,n,r,i,a,o,l)=>{if(!(a==null||l==null)){var u=o[0],f=u==null?void 0:l(u.positions,a);if(f!=null)return f;var h=i?.[Number(a)];if(h)switch(n){case"horizontal":return{x:h.coordinate,y:(r.top+t)/2};default:return{x:(r.left+e)/2,y:h.coordinate}}}},fz=(e,t,n,r)=>{if(t==="axis")return e.tooltipItemPayloads;if(e.tooltipItemPayloads.length===0)return[];var i;return n==="hover"?i=e.itemInteraction.hover.dataKey:i=e.itemInteraction.click.dataKey,i==null&&r!=null?[e.tooltipItemPayloads[0]]:e.tooltipItemPayloads.filter(a=>{var o;return((o=a.settings)===null||o===void 0?void 0:o.dataKey)===i})},Ap=e=>e.options.tooltipPayloadSearcher,Sf=e=>e.tooltip;function mI(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function pI(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?mI(Object(n),!0).forEach(function(r){Fve(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):mI(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Fve(e,t,n){return(t=Hve(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Hve(e){var t=Gve(e,"string");return typeof t=="symbol"?t:t+""}function Gve(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function qve(e,t){return e??t}var hz=(e,t,n,r,i,a,o)=>{if(!(t==null||a==null)){var{chartData:l,computedData:u,dataStartIndex:f,dataEndIndex:h}=n,p=[];return e.reduce((g,x)=>{var S,{dataDefinedOnItem:_,settings:k}=x,T=qve(_,l),N=Array.isArray(T)?H6(T,f,h):T,O=(S=k?.dataKey)!==null&&S!==void 0?S:r,P=k?.nameKey,C;if(r&&Array.isArray(N)&&!Array.isArray(N[0])&&o==="axis"?C=n6(N,r,i):C=a(N,t,u,P),Array.isArray(C))C.forEach($=>{var H=pI(pI({},k),{},{name:$.name,unit:$.unit,color:void 0,fill:void 0});g.push($R({tooltipEntrySettings:H,dataKey:$.dataKey,payload:$.payload,value:Nr($.payload,$.dataKey),name:$.name}))});else{var D;g.push($R({tooltipEntrySettings:k,dataKey:O,payload:C,value:Nr(C,O),name:(D=Nr(C,P))!==null&&D!==void 0?D:k?.name}))}return g},p)}},OT=we([Xn,Vt,w8,cT,Zn],q8),Yve=we([e=>e.graphicalItems.cartesianItems,e=>e.graphicalItems.polarItems],(e,t)=>[...e,...t]),Kve=we([Zn,xf],S8),Tp=we([Yve,Xn,Kve],E8,{memoizeOptions:{resultEqualityCheck:hx}}),Wve=we([Tp],e=>e.filter(gT)),Vve=we([Tp],O8,{memoizeOptions:{resultEqualityCheck:hx}}),kf=we([Vve,$l],j8),Zve=we([Wve,$l,Xn],v8),jT=we([kf,Xn,Tp],N8),mz=we([Xn],vT),Xve=we([Xn],e=>e.allowDataOverflow),pz=we([mz,Xve],J9),Jve=we([Tp],e=>e.filter(gT)),Qve=we([Zve,Jve,lx,f8],M8),exe=we([Qve,$l,Zn,pz],P8),txe=we([Tp],T8),nxe=we([kf,Xn,txe,xT,Zn],L8,{memoizeOptions:{resultEqualityCheck:fx}}),rxe=we([I8,Zn,xf],_f),ixe=we([rxe,Zn],z8),axe=we([$8,Zn,xf],_f),oxe=we([axe,Zn],U8),sxe=we([B8,Zn,xf],_f),lxe=we([sxe,Zn],F8),cxe=we([ixe,lxe,oxe],Ub),uxe=we([Xn,mz,pz,exe,nxe,cxe,Vt,Zn],H8),Op=we([Xn,Vt,kf,jT,lx,Zn,uxe],G8),dxe=we([Op,Xn,OT],Y8),fxe=we([Xn,Op,dxe,Zn],K8),gz=e=>{var t=Zn(e),n=xf(e),r=!1;return Ep(e,t,n,r)},yz=we([Xn,gz],cx),bz=we([Xn,OT,fxe,yz],wT),hxe=we([Vt,jT,Xn,Zn],J8),mxe=we([Vt,jT,Xn,Zn],Q8),pxe=(e,t,n,r,i,a,o,l)=>{if(t){var{type:u}=t,f=Es(e,l);if(r){var h=n==="scaleBand"&&r.bandwidth?r.bandwidth()/2:2,p=u==="category"&&r.bandwidth?r.bandwidth()/h:0;return p=l==="angleAxis"&&i!=null&&i?.length>=2?ca(i[0]-i[1])*2*p:p,f&&o?o.map((g,x)=>({coordinate:r(g)+p,value:g,index:x,offset:p})):r.domain().map((g,x)=>({coordinate:r(g)+p,value:a?a[g]:g,index:x,offset:p}))}}},Cs=we([Vt,Xn,OT,bz,gz,hxe,mxe,Zn],pxe),NT=we([rz,iz,Eve],(e,t,n)=>az(n.shared,e,t)),vz=e=>e.tooltip.settings.trigger,CT=e=>e.tooltip.settings.defaultIndex,jp=we([Sf,NT,vz,CT],uz),Gm=we([jp,kf,Sp,Op],TT),xz=we([Cs,Gm],oz),gxe=we([jp],e=>{if(e)return e.dataKey});we([jp],e=>{if(e)return e.graphicalItemId});var _z=we([Sf,NT,vz,CT],fz),yxe=we([As,Ts,Vt,Sr,Cs,CT,_z,Ap],dz),bxe=we([jp,yxe],(e,t)=>e!=null&&e.coordinate?e.coordinate:t),vxe=we([jp],e=>e.active),xxe=we([_z,Gm,$l,Sp,xz,Ap,NT],hz),_xe=we([xxe],e=>{if(e!=null){var t=e.map(n=>n.payload).filter(n=>n!=null);return Array.from(new Set(t))}});function gI(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function yI(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?gI(Object(n),!0).forEach(function(r){wxe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):gI(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function wxe(e,t,n){return(t=Sxe(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Sxe(e){var t=kxe(e,"string");return typeof t=="symbol"?t:t+""}function kxe(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Exe=()=>Je(Xn),Axe=()=>{var e=Exe(),t=Je(Cs),n=Je(bz);return xb(!e||!n?void 0:yI(yI({},e),{},{scale:n}),t)};function bI(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function fd(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?bI(Object(n),!0).forEach(function(r){Txe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):bI(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Txe(e,t,n){return(t=Oxe(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Oxe(e){var t=jxe(e,"string");return typeof t=="symbol"?t:t+""}function jxe(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Nxe=(e,t,n,r)=>{var i=t.find(a=>a&&a.index===n);if(i){if(e==="horizontal")return{x:i.coordinate,y:r.chartY};if(e==="vertical")return{x:r.chartX,y:i.coordinate}}return{x:0,y:0}},Cxe=(e,t,n,r)=>{var i=t.find(f=>f&&f.index===n);if(i){if(e==="centric"){var a=i.coordinate,{radius:o}=r;return fd(fd(fd({},r),vr(r.cx,r.cy,o,a)),{},{angle:a,radius:o})}var l=i.coordinate,{angle:u}=r;return fd(fd(fd({},r),vr(r.cx,r.cy,l,u)),{},{angle:u,radius:l})}return{angle:0,clockWise:!1,cx:0,cy:0,endAngle:0,innerRadius:0,outerRadius:0,radius:0,startAngle:0,x:0,y:0}};function Mxe(e,t){var{chartX:n,chartY:r}=e;return n>=t.left&&n<=t.left+t.width&&r>=t.top&&r<=t.top+t.height}var wz=(e,t,n,r,i)=>{var a,o=-1,l=(a=t?.length)!==null&&a!==void 0?a:0;if(l<=1||e==null)return 0;if(r==="angleAxis"&&i!=null&&Math.abs(Math.abs(i[1]-i[0])-360)<=1e-6)for(var u=0;u<l;u++){var f=u>0?n[u-1].coordinate:n[l-1].coordinate,h=n[u].coordinate,p=u>=l-1?n[0].coordinate:n[u+1].coordinate,g=void 0;if(ca(h-f)!==ca(p-h)){var x=[];if(ca(p-h)===ca(i[1]-i[0])){g=p;var S=h+i[1]-i[0];x[0]=Math.min(S,(S+f)/2),x[1]=Math.max(S,(S+f)/2)}else{g=f;var _=p+i[1]-i[0];x[0]=Math.min(h,(_+h)/2),x[1]=Math.max(h,(_+h)/2)}var k=[Math.min(h,(g+h)/2),Math.max(h,(g+h)/2)];if(e>k[0]&&e<=k[1]||e>=x[0]&&e<=x[1]){({index:o}=n[u]);break}}else{var T=Math.min(f,p),N=Math.max(f,p);if(e>(T+h)/2&&e<=(N+h)/2){({index:o}=n[u]);break}}}else if(t){for(var O=0;O<l;O++)if(O===0&&e<=(t[O].coordinate+t[O+1].coordinate)/2||O>0&&O<l-1&&e>(t[O].coordinate+t[O-1].coordinate)/2&&e<=(t[O].coordinate+t[O+1].coordinate)/2||O===l-1&&e>(t[O].coordinate+t[O-1].coordinate)/2){({index:o}=t[O]);break}}return o},Sz=()=>Je(cT),MT=(e,t)=>t,kz=(e,t,n)=>n,PT=(e,t,n,r)=>r,Pxe=we(Cs,e=>$v(e,t=>t.coordinate)),DT=we([Sf,MT,kz,PT],uz),RT=we([DT,kf,Sp,Op],TT),Dxe=(e,t,n)=>{if(t!=null){var r=Sf(e);return t==="axis"?n==="hover"?r.axisInteraction.hover.dataKey:r.axisInteraction.click.dataKey:n==="hover"?r.itemInteraction.hover.dataKey:r.itemInteraction.click.dataKey}},Ez=we([Sf,MT,kz,PT],fz),Fb=we([As,Ts,Vt,Sr,Cs,PT,Ez,Ap],dz),Rxe=we([DT,Fb],(e,t)=>{var n;return(n=e.coordinate)!==null&&n!==void 0?n:t}),Az=we([Cs,RT],oz),Lxe=we([Ez,RT,$l,Sp,Az,Ap,MT],hz),Ixe=we([DT,RT],(e,t)=>({isActive:e.active&&t!=null,activeIndex:t})),$xe=(e,t,n,r,i,a,o)=>{if(!(!e||!n||!r||!i)&&Mxe(e,o)){var l=cme(e,t),u=wz(l,a,i,n,r),f=Nxe(t,i,u,e);return{activeIndex:String(u),activeCoordinate:f}}},Bxe=(e,t,n,r,i,a,o)=>{if(!(!e||!r||!i||!a||!n)){var l=xge(e,n);if(l){var u=ume(l,t),f=wz(u,o,a,r,i),h=Cxe(t,a,f,l);return{activeIndex:String(f),activeCoordinate:h}}}},zxe=(e,t,n,r,i,a,o,l)=>{if(!(!e||!t||!r||!i||!a))return t==="horizontal"||t==="vertical"?$xe(e,t,r,i,a,o,l):Bxe(e,t,n,r,i,a,o)},Uxe=we(e=>e.zIndex.zIndexMap,(e,t)=>t,(e,t,n)=>n,(e,t,n)=>{if(t!=null){var r=e[t];if(r!=null)return n?r.panoramaElementId:r.elementId}}),Fxe=we(e=>e.zIndex.zIndexMap,e=>{var t=Object.keys(e).map(r=>parseInt(r,10)).concat(Object.values(zr)),n=Array.from(new Set(t));return n.sort((r,i)=>r-i)},{memoizeOptions:{resultEqualityCheck:kbe}});function vI(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function xI(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?vI(Object(n),!0).forEach(function(r){Hxe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):vI(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Hxe(e,t,n){return(t=Gxe(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Gxe(e){var t=qxe(e,"string");return typeof t=="symbol"?t:t+""}function qxe(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Yxe={},Kxe={zIndexMap:Object.values(zr).reduce((e,t)=>xI(xI({},e),{},{[t]:{elementId:void 0,panoramaElementId:void 0,consumers:0}}),Yxe)},Wxe=new Set(Object.values(zr));function Vxe(e){return Wxe.has(e)}var Tz=mi({name:"zIndex",initialState:Kxe,reducers:{registerZIndexPortal:{reducer:(e,t)=>{var{zIndex:n}=t.payload;e.zIndexMap[n]?e.zIndexMap[n].consumers+=1:e.zIndexMap[n]={consumers:1,elementId:void 0,panoramaElementId:void 0}},prepare:an()},unregisterZIndexPortal:{reducer:(e,t)=>{var{zIndex:n}=t.payload;e.zIndexMap[n]&&(e.zIndexMap[n].consumers-=1,e.zIndexMap[n].consumers<=0&&!Vxe(n)&&delete e.zIndexMap[n])},prepare:an()},registerZIndexPortalId:{reducer:(e,t)=>{var{zIndex:n,elementId:r,isPanorama:i}=t.payload;e.zIndexMap[n]?i?e.zIndexMap[n].panoramaElementId=r:e.zIndexMap[n].elementId=r:e.zIndexMap[n]={consumers:0,elementId:i?void 0:r,panoramaElementId:i?r:void 0}},prepare:an()},unregisterZIndexPortalId:{reducer:(e,t)=>{var{zIndex:n}=t.payload;e.zIndexMap[n]&&(t.payload.isPanorama?e.zIndexMap[n].panoramaElementId=void 0:e.zIndexMap[n].elementId=void 0)},prepare:an()}}}),{registerZIndexPortal:Zxe,unregisterZIndexPortal:Xxe,registerZIndexPortalId:Jxe,unregisterZIndexPortalId:Qxe}=Tz.actions,e_e=Tz.reducer;function Ms(e){var{zIndex:t,children:n}=e,r=Gme(),i=r&&t!==void 0&&t!==0,a=pi(),o=cr();w.useLayoutEffect(()=>i?(o(Zxe({zIndex:t})),()=>{o(Xxe({zIndex:t}))}):up,[o,t,i]);var l=Je(f=>Uxe(f,t,a));if(!i)return n;if(!l)return null;var u=document.getElementById(l);return u?of.createPortal(n,u):null}function DE(){return DE=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},DE.apply(null,arguments)}function _I(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function ey(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?_I(Object(n),!0).forEach(function(r){t_e(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):_I(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function t_e(e,t,n){return(t=n_e(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function n_e(e){var t=r_e(e,"string");return typeof t=="symbol"?t:t+""}function r_e(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function i_e(e){var{cursor:t,cursorComp:n,cursorProps:r}=e;return w.isValidElement(t)?w.cloneElement(t,r):w.createElement(n,r)}function a_e(e){var t,{coordinate:n,payload:r,index:i,offset:a,tooltipAxisBandSize:o,layout:l,cursor:u,tooltipEventType:f,chartName:h}=e,p=n,g=r,x=i;if(!u||!p||h!=="ScatterChart"&&f!=="axis")return null;var S,_,k;if(h==="ScatterChart")S=p,_=Mpe,k=zr.cursorLine;else if(h==="BarChart")S=Ppe(l,p,a,o),_=uge,k=zr.cursorRectangle;else if(l==="radial"&&r6(p)){var{cx:T,cy:N,radius:O,startAngle:P,endAngle:C}=p9(p);S={cx:T,cy:N,startAngle:P,endAngle:C,innerRadius:O,outerRadius:O},_=kge,k=zr.cursorLine}else S={points:Ege(l,p,a)},_=wy,k=zr.cursorLine;var D=typeof u=="object"&&"className"in u?u.className:void 0,$=ey(ey(ey(ey({stroke:"#ccc",pointerEvents:"none"},a),S),Dv(u)),{},{payload:g,payloadIndex:x,className:Qt("recharts-tooltip-cursor",D)});return w.createElement(Ms,{zIndex:(t=e.zIndex)!==null&&t!==void 0?t:k},w.createElement(i_e,{cursor:u,cursorComp:_,cursorProps:$}))}function o_e(e){var t=Axe(),n=Q6(),r=pp(),i=Sz();return t==null||n==null||r==null||i==null?null:w.createElement(a_e,DE({},e,{offset:n,layout:r,tooltipAxisBandSize:t,chartName:i}))}var Oz=w.createContext(null),s_e=()=>w.useContext(Oz),jS={exports:{}},wI;function l_e(){return wI||(wI=1,(function(e){var t=Object.prototype.hasOwnProperty,n="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(n=!1));function i(u,f,h){this.fn=u,this.context=f,this.once=h||!1}function a(u,f,h,p,g){if(typeof h!="function")throw new TypeError("The listener must be a function");var x=new i(h,p||u,g),S=n?n+f:f;return u._events[S]?u._events[S].fn?u._events[S]=[u._events[S],x]:u._events[S].push(x):(u._events[S]=x,u._eventsCount++),u}function o(u,f){--u._eventsCount===0?u._events=new r:delete u._events[f]}function l(){this._events=new r,this._eventsCount=0}l.prototype.eventNames=function(){var f=[],h,p;if(this._eventsCount===0)return f;for(p in h=this._events)t.call(h,p)&&f.push(n?p.slice(1):p);return Object.getOwnPropertySymbols?f.concat(Object.getOwnPropertySymbols(h)):f},l.prototype.listeners=function(f){var h=n?n+f:f,p=this._events[h];if(!p)return[];if(p.fn)return[p.fn];for(var g=0,x=p.length,S=new Array(x);g<x;g++)S[g]=p[g].fn;return S},l.prototype.listenerCount=function(f){var h=n?n+f:f,p=this._events[h];return p?p.fn?1:p.length:0},l.prototype.emit=function(f,h,p,g,x,S){var _=n?n+f:f;if(!this._events[_])return!1;var k=this._events[_],T=arguments.length,N,O;if(k.fn){switch(k.once&&this.removeListener(f,k.fn,void 0,!0),T){case 1:return k.fn.call(k.context),!0;case 2:return k.fn.call(k.context,h),!0;case 3:return k.fn.call(k.context,h,p),!0;case 4:return k.fn.call(k.context,h,p,g),!0;case 5:return k.fn.call(k.context,h,p,g,x),!0;case 6:return k.fn.call(k.context,h,p,g,x,S),!0}for(O=1,N=new Array(T-1);O<T;O++)N[O-1]=arguments[O];k.fn.apply(k.context,N)}else{var P=k.length,C;for(O=0;O<P;O++)switch(k[O].once&&this.removeListener(f,k[O].fn,void 0,!0),T){case 1:k[O].fn.call(k[O].context);break;case 2:k[O].fn.call(k[O].context,h);break;case 3:k[O].fn.call(k[O].context,h,p);break;case 4:k[O].fn.call(k[O].context,h,p,g);break;default:if(!N)for(C=1,N=new Array(T-1);C<T;C++)N[C-1]=arguments[C];k[O].fn.apply(k[O].context,N)}}return!0},l.prototype.on=function(f,h,p){return a(this,f,h,p,!1)},l.prototype.once=function(f,h,p){return a(this,f,h,p,!0)},l.prototype.removeListener=function(f,h,p,g){var x=n?n+f:f;if(!this._events[x])return this;if(!h)return o(this,x),this;var S=this._events[x];if(S.fn)S.fn===h&&(!g||S.once)&&(!p||S.context===p)&&o(this,x);else{for(var _=0,k=[],T=S.length;_<T;_++)(S[_].fn!==h||g&&!S[_].once||p&&S[_].context!==p)&&k.push(S[_]);k.length?this._events[x]=k.length===1?k[0]:k:o(this,x)}return this},l.prototype.removeAllListeners=function(f){var h;return f?(h=n?n+f:f,this._events[h]&&o(this,h)):(this._events=new r,this._eventsCount=0),this},l.prototype.off=l.prototype.removeListener,l.prototype.addListener=l.prototype.on,l.prefixed=n,l.EventEmitter=l,e.exports=l})(jS)),jS.exports}var c_e=l_e();const u_e=fi(c_e);var qm=new u_e,RE="recharts.syncEvent.tooltip",SI="recharts.syncEvent.brush";function d_e(e,t){if(t){var n=Number.parseInt(t,10);if(!qa(n))return e?.[n]}}var f_e={chartName:"",tooltipPayloadSearcher:void 0,eventEmitter:void 0,defaultTooltipEventType:"axis"},jz=mi({name:"options",initialState:f_e,reducers:{createEventEmitter:e=>{e.eventEmitter==null&&(e.eventEmitter=Symbol("rechartsEventEmitter"))}}}),h_e=jz.reducer,{createEventEmitter:m_e}=jz.actions;function p_e(e){return e.tooltip.syncInteraction}var g_e={chartData:void 0,computedData:void 0,dataStartIndex:0,dataEndIndex:0},Nz=mi({name:"chartData",initialState:g_e,reducers:{setChartData(e,t){if(e.chartData=t.payload,t.payload==null){e.dataStartIndex=0,e.dataEndIndex=0;return}t.payload.length>0&&e.dataEndIndex!==t.payload.length-1&&(e.dataEndIndex=t.payload.length-1)},setComputedData(e,t){e.computedData=t.payload},setDataStartEndIndexes(e,t){var{startIndex:n,endIndex:r}=t.payload;n!=null&&(e.dataStartIndex=n),r!=null&&(e.dataEndIndex=r)}}}),{setChartData:kI,setDataStartEndIndexes:y_e,setComputedData:fje}=Nz.actions,b_e=Nz.reducer,v_e=["x","y"];function EI(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function hd(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?EI(Object(n),!0).forEach(function(r){x_e(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):EI(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function x_e(e,t,n){return(t=__e(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function __e(e){var t=w_e(e,"string");return typeof t=="symbol"?t:t+""}function w_e(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function S_e(e,t){if(e==null)return{};var n,r,i=k_e(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function k_e(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function E_e(){var e=Je(uT),t=Je(dT),n=cr(),r=Je(h8),i=Je(Cs),a=pp(),o=Xv(),l=Je(u=>u.rootProps.className);w.useEffect(()=>{if(e==null)return up;var u=(f,h,p)=>{if(t!==p&&e===f){if(r==="index"){var g;if(o&&h!==null&&h!==void 0&&(g=h.payload)!==null&&g!==void 0&&g.coordinate&&h.payload.sourceViewBox){var x=h.payload.coordinate,{x:S,y:_}=x,k=S_e(x,v_e),{x:T,y:N,width:O,height:P}=h.payload.sourceViewBox,C=hd(hd({},k),{},{x:o.x+(O?(S-T)/O:0)*o.width,y:o.y+(P?(_-N)/P:0)*o.height});n(hd(hd({},h),{},{payload:hd(hd({},h.payload),{},{coordinate:C})}))}else n(h);return}if(i!=null){var D;if(typeof r=="function"){var $={activeTooltipIndex:h.payload.index==null?void 0:Number(h.payload.index),isTooltipActive:h.payload.active,activeIndex:h.payload.index==null?void 0:Number(h.payload.index),activeLabel:h.payload.label,activeDataKey:h.payload.dataKey,activeCoordinate:h.payload.coordinate},H=r(i,$);D=i[H]}else r==="value"&&(D=i.find(Y=>String(Y.value)===h.payload.label));var{coordinate:q}=h.payload;if(D==null||h.payload.active===!1||q==null||o==null){n(ME({active:!1,coordinate:void 0,dataKey:void 0,index:null,label:void 0,sourceViewBox:void 0,graphicalItemId:void 0}));return}var{x:K,y:U}=q,z=Math.min(K,o.x+o.width),V=Math.min(U,o.y+o.height),J={x:a==="horizontal"?D.coordinate:z,y:a==="horizontal"?V:D.coordinate},Q=ME({active:h.payload.active,coordinate:J,dataKey:h.payload.dataKey,index:String(D.index),label:h.payload.label,sourceViewBox:h.payload.sourceViewBox,graphicalItemId:h.payload.graphicalItemId});n(Q)}}};return qm.on(RE,u),()=>{qm.off(RE,u)}},[l,n,t,e,r,i,a,o])}function A_e(){var e=Je(uT),t=Je(dT),n=cr();w.useEffect(()=>{if(e==null)return up;var r=(i,a,o)=>{t!==o&&e===i&&n(y_e(a))};return qm.on(SI,r),()=>{qm.off(SI,r)}},[n,t,e])}function T_e(){var e=cr();w.useEffect(()=>{e(m_e())},[e]),E_e(),A_e()}function O_e(e,t,n,r,i,a){var o=Je(x=>Dxe(x,e,t)),l=Je(dT),u=Je(uT),f=Je(h8),h=Je(p_e),p=h?.active,g=Xv();w.useEffect(()=>{if(!p&&u!=null&&l!=null){var x=ME({active:a,coordinate:n,dataKey:o,index:i,label:typeof r=="number"?String(r):r,sourceViewBox:g,graphicalItemId:void 0});qm.emit(RE,u,x,l)}},[p,n,o,i,r,l,u,f,a,g])}function AI(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function TI(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?AI(Object(n),!0).forEach(function(r){j_e(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):AI(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function j_e(e,t,n){return(t=N_e(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function N_e(e){var t=C_e(e,"string");return typeof t=="symbol"?t:t+""}function C_e(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function M_e(e){return e.dataKey}function P_e(e,t){return w.isValidElement(e)?w.cloneElement(e,t):typeof e=="function"?w.createElement(e,t):w.createElement(dpe,t)}var OI=[],D_e={allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",axisId:0,contentStyle:{},cursor:!0,filterNull:!0,isAnimationActive:"auto",itemSorter:"name",itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,wrapperStyle:{}};function R_e(e){var t,n,r=Gi(e,D_e),{active:i,allowEscapeViewBox:a,animationDuration:o,animationEasing:l,content:u,filterNull:f,isAnimationActive:h,offset:p,payloadUniqBy:g,position:x,reverseDirection:S,useTranslate3d:_,wrapperStyle:k,cursor:T,shared:N,trigger:O,defaultIndex:P,portal:C,axisId:D}=r,$=cr(),H=typeof P=="number"?String(P):P;w.useEffect(()=>{$(Nve({shared:N,trigger:O,axisId:D,active:i,defaultIndex:H}))},[$,N,O,D,i,H]);var q=Xv(),K=c9(),U=kve(N),{activeIndex:z,isActive:V}=(t=Je(pe=>Ixe(pe,U,O,H)))!==null&&t!==void 0?t:{},J=Je(pe=>Lxe(pe,U,O,H)),Q=Je(pe=>Az(pe,U,O,H)),Y=Je(pe=>Rxe(pe,U,O,H)),Z=J,re=s_e(),ue=(n=i??V)!==null&&n!==void 0?n:!1,[se,B]=Qfe([Z,ue]),W=U==="axis"?Q:void 0;O_e(U,O,Y,W,z,ue);var ae=C??re;if(ae==null||q==null||U==null)return null;var X=Z??OI;ue||(X=OI),f&&X.length&&(X=Efe(X.filter(pe=>pe.value!=null&&(pe.hide!==!0||r.includeHidden)),g,M_e));var oe=X.length>0,me=w.createElement(bpe,{allowEscapeViewBox:a,animationDuration:o,animationEasing:l,isAnimationActive:h,active:ue,coordinate:Y,hasPayload:oe,offset:p,position:x,reverseDirection:S,useTranslate3d:_,viewBox:q,wrapperStyle:k,lastBoundingBox:se,innerRef:B,hasPortalFromProps:!!C},P_e(u,TI(TI({},r),{},{payload:X,label:W,active:ue,activeIndex:z,coordinate:Y,accessibilityLayer:K})));return w.createElement(w.Fragment,null,of.createPortal(me,ae),ue&&w.createElement(o_e,{cursor:T,tooltipEventType:U,coordinate:Y,payload:X,index:z}))}function L_e(e,t,n){return(t=I_e(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function I_e(e){var t=$_e(e,"string");return typeof t=="symbol"?t:t+""}function $_e(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class B_e{constructor(t){L_e(this,"cache",new Map),this.maxSize=t}get(t){var n=this.cache.get(t);return n!==void 0&&(this.cache.delete(t),this.cache.set(t,n)),n}set(t,n){if(this.cache.has(t))this.cache.delete(t);else if(this.cache.size>=this.maxSize){var r=this.cache.keys().next().value;r!=null&&this.cache.delete(r)}this.cache.set(t,n)}clear(){this.cache.clear()}size(){return this.cache.size}}function jI(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function z_e(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?jI(Object(n),!0).forEach(function(r){U_e(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):jI(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function U_e(e,t,n){return(t=F_e(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function F_e(e){var t=H_e(e,"string");return typeof t=="symbol"?t:t+""}function H_e(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var G_e={cacheSize:2e3,enableCache:!0},Cz=z_e({},G_e),NI=new B_e(Cz.cacheSize),q_e={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},CI="recharts_measurement_span";function Y_e(e,t){var n=t.fontSize||"",r=t.fontFamily||"",i=t.fontWeight||"",a=t.fontStyle||"",o=t.letterSpacing||"",l=t.textTransform||"";return"".concat(e,"|").concat(n,"|").concat(r,"|").concat(i,"|").concat(a,"|").concat(o,"|").concat(l)}var MI=(e,t)=>{try{var n=document.getElementById(CI);n||(n=document.createElement("span"),n.setAttribute("id",CI),n.setAttribute("aria-hidden","true"),document.body.appendChild(n)),Object.assign(n.style,q_e,t),n.textContent="".concat(e);var r=n.getBoundingClientRect();return{width:r.width,height:r.height}}catch{return{width:0,height:0}}},pm=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t==null||gf.isSsr)return{width:0,height:0};if(!Cz.enableCache)return MI(t,n);var r=Y_e(t,n),i=NI.get(r);if(i)return i;var a=MI(t,n);return NI.set(r,a),a},PI=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,DI=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,K_e=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,W_e=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,Mz={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},V_e=Object.keys(Mz),Ad="NaN";function Z_e(e,t){return e*Mz[t]}class ii{static parse(t){var n,[,r,i]=(n=W_e.exec(t))!==null&&n!==void 0?n:[];return new ii(parseFloat(r),i??"")}constructor(t,n){this.num=t,this.unit=n,this.num=t,this.unit=n,qa(t)&&(this.unit=""),n!==""&&!K_e.test(n)&&(this.num=NaN,this.unit=""),V_e.includes(n)&&(this.num=Z_e(t,n),this.unit="px")}add(t){return this.unit!==t.unit?new ii(NaN,""):new ii(this.num+t.num,this.unit)}subtract(t){return this.unit!==t.unit?new ii(NaN,""):new ii(this.num-t.num,this.unit)}multiply(t){return this.unit!==""&&t.unit!==""&&this.unit!==t.unit?new ii(NaN,""):new ii(this.num*t.num,this.unit||t.unit)}divide(t){return this.unit!==""&&t.unit!==""&&this.unit!==t.unit?new ii(NaN,""):new ii(this.num/t.num,this.unit||t.unit)}toString(){return"".concat(this.num).concat(this.unit)}isNaN(){return qa(this.num)}}function Pz(e){if(e.includes(Ad))return Ad;for(var t=e;t.includes("*")||t.includes("/");){var n,[,r,i,a]=(n=PI.exec(t))!==null&&n!==void 0?n:[],o=ii.parse(r??""),l=ii.parse(a??""),u=i==="*"?o.multiply(l):o.divide(l);if(u.isNaN())return Ad;t=t.replace(PI,u.toString())}for(;t.includes("+")||/.-\d+(?:\.\d+)?/.test(t);){var f,[,h,p,g]=(f=DI.exec(t))!==null&&f!==void 0?f:[],x=ii.parse(h??""),S=ii.parse(g??""),_=p==="+"?x.add(S):x.subtract(S);if(_.isNaN())return Ad;t=t.replace(DI,_.toString())}return t}var RI=/\(([^()]*)\)/;function X_e(e){for(var t=e,n;(n=RI.exec(t))!=null;){var[,r]=n;t=t.replace(RI,Pz(r))}return t}function J_e(e){var t=e.replace(/\s+/g,"");return t=X_e(t),t=Pz(t),t}function Q_e(e){try{return J_e(e)}catch{return Ad}}function NS(e){var t=Q_e(e.slice(5,-1));return t===Ad?"":t}var ewe=["x","y","lineHeight","capHeight","fill","scaleToFit","textAnchor","verticalAnchor"],twe=["dx","dy","angle","className","breakAll"];function LE(){return LE=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},LE.apply(null,arguments)}function LI(e,t){if(e==null)return{};var n,r,i=nwe(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function nwe(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var Dz=/[ \f\n\r\t\v\u2028\u2029]+/,Rz=e=>{var{children:t,breakAll:n,style:r}=e;try{var i=[];xr(t)||(n?i=t.toString().split(""):i=t.toString().split(Dz));var a=i.map(l=>({word:l,width:pm(l,r).width})),o=n?0:pm("",r).width;return{wordsWithComputedWidth:a,spaceWidth:o}}catch{return null}};function rwe(e){return e==="start"||e==="middle"||e==="end"||e==="inherit"}var Lz=(e,t,n,r)=>e.reduce((i,a)=>{var{word:o,width:l}=a,u=i[i.length-1];if(u&&l!=null&&(t==null||r||u.width+l+n<Number(t)))u.words.push(o),u.width+=l+n;else{var f={words:[o],width:l};i.push(f)}return i},[]),Iz=e=>e.reduce((t,n)=>t.width>n.width?t:n),iwe="",II=(e,t,n,r,i,a,o,l)=>{var u=e.slice(0,t),f=Rz({breakAll:n,style:r,children:u+iwe});if(!f)return[!1,[]];var h=Lz(f.wordsWithComputedWidth,a,o,l),p=h.length>i||Iz(h).width>Number(a);return[p,h]},awe=(e,t,n,r,i)=>{var{maxLines:a,children:o,style:l,breakAll:u}=e,f=We(a),h=String(o),p=Lz(t,r,n,i);if(!f||i)return p;var g=p.length>a||Iz(p).width>Number(r);if(!g)return p;for(var x=0,S=h.length-1,_=0,k;x<=S&&_<=h.length-1;){var T=Math.floor((x+S)/2),N=T-1,[O,P]=II(h,N,u,l,a,r,n,i),[C]=II(h,T,u,l,a,r,n,i);if(!O&&!C&&(x=T+1),O&&C&&(S=T-1),!O&&C){k=P;break}_++}return k||p},$I=e=>{var t=xr(e)?[]:e.toString().split(Dz);return[{words:t,width:void 0}]},owe=e=>{var{width:t,scaleToFit:n,children:r,style:i,breakAll:a,maxLines:o}=e;if((t||n)&&!gf.isSsr){var l,u,f=Rz({breakAll:a,children:r,style:i});if(f){var{wordsWithComputedWidth:h,spaceWidth:p}=f;l=h,u=p}else return $I(r);return awe({breakAll:a,children:r,maxLines:o,style:i},l,u,t,!!n)}return $I(r)},$z="#808080",swe={angle:0,breakAll:!1,capHeight:"0.71em",fill:$z,lineHeight:"1em",scaleToFit:!1,textAnchor:"start",verticalAnchor:"end",x:0,y:0},LT=w.forwardRef((e,t)=>{var n=Gi(e,swe),{x:r,y:i,lineHeight:a,capHeight:o,fill:l,scaleToFit:u,textAnchor:f,verticalAnchor:h}=n,p=LI(n,ewe),g=w.useMemo(()=>owe({breakAll:p.breakAll,children:p.children,maxLines:p.maxLines,scaleToFit:u,style:p.style,width:p.width}),[p.breakAll,p.children,p.maxLines,u,p.style,p.width]),{dx:x,dy:S,angle:_,className:k,breakAll:T}=p,N=LI(p,twe);if(!Eo(r)||!Eo(i)||g.length===0)return null;var O=Number(r)+(We(x)?x:0),P=Number(i)+(We(S)?S:0);if(!_n(O)||!_n(P))return null;var C;switch(h){case"start":C=NS("calc(".concat(o,")"));break;case"middle":C=NS("calc(".concat((g.length-1)/2," * -").concat(a," + (").concat(o," / 2))"));break;default:C=NS("calc(".concat(g.length-1," * -").concat(a,")"));break}var D=[];if(u){var $=g[0].width,{width:H}=p;D.push("scale(".concat(We(H)&&We($)?H/$:1,")"))}return _&&D.push("rotate(".concat(_,", ").concat(O,", ").concat(P,")")),D.length&&(N.transform=D.join(" ")),w.createElement("text",LE({},ma(N),{ref:t,x:O,y:P,className:Qt("recharts-text",k),textAnchor:f,fill:l.includes("url")?$z:l}),g.map((q,K)=>{var U=q.words.join(T?"":" ");return w.createElement("tspan",{x:O,dy:K===0?C:a,key:"".concat(U,"-").concat(K)},U)}))});LT.displayName="Text";var lwe=["labelRef"];function cwe(e,t){if(e==null)return{};var n,r,i=uwe(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function uwe(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function BI(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function En(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?BI(Object(n),!0).forEach(function(r){dwe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):BI(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function dwe(e,t,n){return(t=fwe(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function fwe(e){var t=hwe(e,"string");return typeof t=="symbol"?t:t+""}function hwe(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function ss(){return ss=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ss.apply(null,arguments)}var Bz=w.createContext(null),mwe=e=>{var{x:t,y:n,upperWidth:r,lowerWidth:i,width:a,height:o,children:l}=e,u=w.useMemo(()=>({x:t,y:n,upperWidth:r,lowerWidth:i,width:a,height:o}),[t,n,r,i,a,o]);return w.createElement(Bz.Provider,{value:u},l)},zz=()=>{var e=w.useContext(Bz),t=Xv();return e||J6(t)},pwe=w.createContext(null),gwe=()=>{var e=w.useContext(pwe),t=Je(b8);return e||t},ywe=e=>{var{value:t,formatter:n}=e,r=xr(e.children)?t:e.children;return typeof n=="function"?n(r):r},IT=e=>e!=null&&typeof e=="function",bwe=(e,t)=>{var n=ca(t-e),r=Math.min(Math.abs(t-e),360);return n*r},vwe=(e,t,n,r,i)=>{var{offset:a,className:o}=e,{cx:l,cy:u,innerRadius:f,outerRadius:h,startAngle:p,endAngle:g,clockWise:x}=i,S=(f+h)/2,_=bwe(p,g),k=_>=0?1:-1,T,N;switch(t){case"insideStart":T=p+k*a,N=x;break;case"insideEnd":T=g-k*a,N=!x;break;case"end":T=g+k*a,N=x;break;default:throw new Error("Unsupported position ".concat(t))}N=_<=0?N:!N;var O=vr(l,u,S,T),P=vr(l,u,S,T+(N?1:-1)*359),C="M".concat(O.x,",").concat(O.y,`
    A`).concat(S,",").concat(S,",0,1,").concat(N?0:1,`,
    `).concat(P.x,",").concat(P.y),D=xr(e.id)?Cm("recharts-radial-line-"):e.id;return w.createElement("text",ss({},r,{dominantBaseline:"central",className:Qt("recharts-radial-bar-label",o)}),w.createElement("defs",null,w.createElement("path",{id:D,d:C})),w.createElement("textPath",{xlinkHref:"#".concat(D)},n))},xwe=(e,t,n)=>{var{cx:r,cy:i,innerRadius:a,outerRadius:o,startAngle:l,endAngle:u}=e,f=(l+u)/2;if(n==="outside"){var{x:h,y:p}=vr(r,i,o+t,f);return{x:h,y:p,textAnchor:h>=r?"start":"end",verticalAnchor:"middle"}}if(n==="center")return{x:r,y:i,textAnchor:"middle",verticalAnchor:"middle"};if(n==="centerTop")return{x:r,y:i,textAnchor:"middle",verticalAnchor:"start"};if(n==="centerBottom")return{x:r,y:i,textAnchor:"middle",verticalAnchor:"end"};var g=(a+o)/2,{x,y:S}=vr(r,i,g,f);return{x,y:S,textAnchor:"middle",verticalAnchor:"middle"}},IE=e=>"cx"in e&&We(e.cx),_we=(e,t)=>{var{parentViewBox:n,offset:r,position:i}=e,a;n!=null&&!IE(n)&&(a=n);var{x:o,y:l,upperWidth:u,lowerWidth:f,height:h}=t,p=o,g=o+(u-f)/2,x=(p+g)/2,S=(u+f)/2,_=p+u/2,k=h>=0?1:-1,T=k*r,N=k>0?"end":"start",O=k>0?"start":"end",P=u>=0?1:-1,C=P*r,D=P>0?"end":"start",$=P>0?"start":"end";if(i==="top"){var H={x:p+u/2,y:l-T,textAnchor:"middle",verticalAnchor:N};return En(En({},H),a?{height:Math.max(l-a.y,0),width:u}:{})}if(i==="bottom"){var q={x:g+f/2,y:l+h+T,textAnchor:"middle",verticalAnchor:O};return En(En({},q),a?{height:Math.max(a.y+a.height-(l+h),0),width:f}:{})}if(i==="left"){var K={x:x-C,y:l+h/2,textAnchor:D,verticalAnchor:"middle"};return En(En({},K),a?{width:Math.max(K.x-a.x,0),height:h}:{})}if(i==="right"){var U={x:x+S+C,y:l+h/2,textAnchor:$,verticalAnchor:"middle"};return En(En({},U),a?{width:Math.max(a.x+a.width-U.x,0),height:h}:{})}var z=a?{width:S,height:h}:{};return i==="insideLeft"?En({x:x+C,y:l+h/2,textAnchor:$,verticalAnchor:"middle"},z):i==="insideRight"?En({x:x+S-C,y:l+h/2,textAnchor:D,verticalAnchor:"middle"},z):i==="insideTop"?En({x:p+u/2,y:l+T,textAnchor:"middle",verticalAnchor:O},z):i==="insideBottom"?En({x:g+f/2,y:l+h-T,textAnchor:"middle",verticalAnchor:N},z):i==="insideTopLeft"?En({x:p+C,y:l+T,textAnchor:$,verticalAnchor:O},z):i==="insideTopRight"?En({x:p+u-C,y:l+T,textAnchor:D,verticalAnchor:O},z):i==="insideBottomLeft"?En({x:g+C,y:l+h-T,textAnchor:$,verticalAnchor:N},z):i==="insideBottomRight"?En({x:g+f-C,y:l+h-T,textAnchor:D,verticalAnchor:N},z):i&&typeof i=="object"&&(We(i.x)||bs(i.x))&&(We(i.y)||bs(i.y))?En({x:o+Ml(i.x,S),y:l+Ml(i.y,h),textAnchor:"end",verticalAnchor:"end"},z):En({x:_,y:l+h/2,textAnchor:"middle",verticalAnchor:"middle"},z)},wwe={angle:0,offset:5,zIndex:zr.label,position:"middle",textBreakAll:!1};function vl(e){var t=Gi(e,wwe),{viewBox:n,position:r,value:i,children:a,content:o,className:l="",textBreakAll:u,labelRef:f}=t,h=gwe(),p=zz(),g=r==="center"?p:h??p,x,S,_;if(n==null?x=g:IE(n)?x=n:x=J6(n),!x||xr(i)&&xr(a)&&!w.isValidElement(o)&&typeof o!="function")return null;var k=En(En({},t),{},{viewBox:x});if(w.isValidElement(o)){var{labelRef:T}=k,N=cwe(k,lwe);return w.cloneElement(o,N)}if(typeof o=="function"){if(S=w.createElement(o,k),w.isValidElement(S))return S}else S=ywe(t);var O=ma(t);if(IE(x)){if(r==="insideStart"||r==="insideEnd"||r==="end")return vwe(t,r,S,O,x);_=xwe(x,t.offset,t.position)}else _=_we(t,x);return w.createElement(Ms,{zIndex:t.zIndex},w.createElement(LT,ss({ref:f,className:Qt("recharts-label",l)},O,_,{textAnchor:rwe(O.textAnchor)?O.textAnchor:_.textAnchor,breakAll:u}),S))}vl.displayName="Label";var Swe=(e,t,n)=>{if(!e)return null;var r={viewBox:t,labelRef:n};return e===!0?w.createElement(vl,ss({key:"label-implicit"},r)):Eo(e)?w.createElement(vl,ss({key:"label-implicit",value:e},r)):w.isValidElement(e)?e.type===vl?w.cloneElement(e,En({key:"label-implicit"},r)):w.createElement(vl,ss({key:"label-implicit",content:e},r)):IT(e)?w.createElement(vl,ss({key:"label-implicit",content:e},r)):e&&typeof e=="object"?w.createElement(vl,ss({},e,{key:"label-implicit"},r)):null};function kwe(e){var{label:t,labelRef:n}=e,r=zz();return Swe(t,r,n)||null}var CS={},MS={},zI;function Ewe(){return zI||(zI=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return n[n.length-1]}e.last=t})(MS)),MS}var PS={},UI;function Awe(){return UI||(UI=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return Array.isArray(n)?n:Array.from(n)}e.toArray=t})(PS)),PS}var FI;function Twe(){return FI||(FI=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Ewe(),n=Awe(),r=EA();function i(a){if(r.isArrayLike(a))return t.last(n.toArray(a))}e.last=i})(CS)),CS}var DS,HI;function Owe(){return HI||(HI=1,DS=Twe().last),DS}var jwe=Owe();const Nwe=fi(jwe);var Cwe=["valueAccessor"],Mwe=["dataKey","clockWise","id","textBreakAll","zIndex"];function Hb(){return Hb=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Hb.apply(null,arguments)}function GI(e,t){if(e==null)return{};var n,r,i=Pwe(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function Pwe(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var Dwe=e=>Array.isArray(e.value)?Nwe(e.value):e.value,Uz=w.createContext(void 0),Rwe=Uz.Provider,Fz=w.createContext(void 0);Fz.Provider;function Lwe(){return w.useContext(Uz)}function Iwe(){return w.useContext(Fz)}function ky(e){var{valueAccessor:t=Dwe}=e,n=GI(e,Cwe),{dataKey:r,clockWise:i,id:a,textBreakAll:o,zIndex:l}=n,u=GI(n,Mwe),f=Lwe(),h=Iwe(),p=f||h;return!p||!p.length?null:w.createElement(Ms,{zIndex:l??zr.label},w.createElement(ko,{className:"recharts-label-list"},p.map((g,x)=>{var S,_=xr(r)?t(g,x):Nr(g&&g.payload,r),k=xr(a)?{}:{id:"".concat(a,"-").concat(x)};return w.createElement(vl,Hb({key:"label-".concat(x)},ma(g),u,k,{fill:(S=n.fill)!==null&&S!==void 0?S:g.fill,parentViewBox:g.parentViewBox,value:_,textBreakAll:o,viewBox:g.viewBox,index:x,zIndex:0}))})))}ky.displayName="LabelList";function $we(e){var{label:t}=e;return t?t===!0?w.createElement(ky,{key:"labelList-implicit"}):w.isValidElement(t)||IT(t)?w.createElement(ky,{key:"labelList-implicit",content:t}):typeof t=="object"?w.createElement(ky,Hb({key:"labelList-implicit"},t,{type:String(t.type)})):null:null}function $E(){return $E=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},$E.apply(null,arguments)}var Hz=e=>{var{cx:t,cy:n,r,className:i}=e,a=Qt("recharts-dot",i);return We(t)&&We(n)&&We(r)?w.createElement("circle",$E({},Ga(e),kA(e),{className:a,cx:t,cy:n,r})):null},Bwe={radiusAxis:{},angleAxis:{}},Gz=mi({name:"polarAxis",initialState:Bwe,reducers:{addRadiusAxis(e,t){e.radiusAxis[t.payload.id]=t.payload},removeRadiusAxis(e,t){delete e.radiusAxis[t.payload.id]},addAngleAxis(e,t){e.angleAxis[t.payload.id]=t.payload},removeAngleAxis(e,t){delete e.angleAxis[t.payload.id]}}}),{addRadiusAxis:hje,removeRadiusAxis:mje,addAngleAxis:pje,removeAngleAxis:gje}=Gz.actions,zwe=Gz.reducer,RS={exports:{}},Ct={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var qI;function Uwe(){if(qI)return Ct;qI=1;var e=typeof Symbol=="function"&&Symbol.for,t=e?Symbol.for("react.element"):60103,n=e?Symbol.for("react.portal"):60106,r=e?Symbol.for("react.fragment"):60107,i=e?Symbol.for("react.strict_mode"):60108,a=e?Symbol.for("react.profiler"):60114,o=e?Symbol.for("react.provider"):60109,l=e?Symbol.for("react.context"):60110,u=e?Symbol.for("react.async_mode"):60111,f=e?Symbol.for("react.concurrent_mode"):60111,h=e?Symbol.for("react.forward_ref"):60112,p=e?Symbol.for("react.suspense"):60113,g=e?Symbol.for("react.suspense_list"):60120,x=e?Symbol.for("react.memo"):60115,S=e?Symbol.for("react.lazy"):60116,_=e?Symbol.for("react.block"):60121,k=e?Symbol.for("react.fundamental"):60117,T=e?Symbol.for("react.responder"):60118,N=e?Symbol.for("react.scope"):60119;function O(C){if(typeof C=="object"&&C!==null){var D=C.$$typeof;switch(D){case t:switch(C=C.type,C){case u:case f:case r:case a:case i:case p:return C;default:switch(C=C&&C.$$typeof,C){case l:case h:case S:case x:case o:return C;default:return D}}case n:return D}}}function P(C){return O(C)===f}return Ct.AsyncMode=u,Ct.ConcurrentMode=f,Ct.ContextConsumer=l,Ct.ContextProvider=o,Ct.Element=t,Ct.ForwardRef=h,Ct.Fragment=r,Ct.Lazy=S,Ct.Memo=x,Ct.Portal=n,Ct.Profiler=a,Ct.StrictMode=i,Ct.Suspense=p,Ct.isAsyncMode=function(C){return P(C)||O(C)===u},Ct.isConcurrentMode=P,Ct.isContextConsumer=function(C){return O(C)===l},Ct.isContextProvider=function(C){return O(C)===o},Ct.isElement=function(C){return typeof C=="object"&&C!==null&&C.$$typeof===t},Ct.isForwardRef=function(C){return O(C)===h},Ct.isFragment=function(C){return O(C)===r},Ct.isLazy=function(C){return O(C)===S},Ct.isMemo=function(C){return O(C)===x},Ct.isPortal=function(C){return O(C)===n},Ct.isProfiler=function(C){return O(C)===a},Ct.isStrictMode=function(C){return O(C)===i},Ct.isSuspense=function(C){return O(C)===p},Ct.isValidElementType=function(C){return typeof C=="string"||typeof C=="function"||C===r||C===f||C===a||C===i||C===p||C===g||typeof C=="object"&&C!==null&&(C.$$typeof===S||C.$$typeof===x||C.$$typeof===o||C.$$typeof===l||C.$$typeof===h||C.$$typeof===k||C.$$typeof===T||C.$$typeof===N||C.$$typeof===_)},Ct.typeOf=O,Ct}var YI;function Fwe(){return YI||(YI=1,RS.exports=Uwe()),RS.exports}Fwe();var qz=e=>e&&typeof e=="object"&&"clipDot"in e?!!e.clipDot:!0;function Hwe(e){var{tooltipEntrySettings:t}=e,n=cr(),r=pi(),i=w.useRef(null);return w.useLayoutEffect(()=>{r||(i.current===null?n(Tve(t)):i.current!==t&&n(Ove({prev:i.current,next:t})),i.current=t)},[t,n,r]),w.useLayoutEffect(()=>()=>{i.current&&(n(jve(i.current)),i.current=null)},[n]),null}function Gwe(e){var{legendPayload:t}=e,n=cr(),r=pi(),i=w.useRef(null);return w.useLayoutEffect(()=>{r||(i.current===null?n(rpe(t)):i.current!==t&&n(ipe({prev:i.current,next:t})),i.current=t)},[n,r,t]),w.useLayoutEffect(()=>()=>{i.current&&(n(ape(i.current)),i.current=null)},[n]),null}var LS,qwe=()=>{var[e]=w.useState(()=>Cm("uid-"));return e},Ywe=(LS=_H.useId)!==null&&LS!==void 0?LS:qwe;function Yz(e,t){var n=Ywe();return t||(e?"".concat(e,"-").concat(n):n)}var Kwe=w.createContext(void 0),Wwe=e=>{var{id:t,type:n,children:r}=e,i=Yz("recharts-".concat(n),t);return w.createElement(Kwe.Provider,{value:i},r(i))},Vwe={cartesianItems:[],polarItems:[]},Kz=mi({name:"graphicalItems",initialState:Vwe,reducers:{addCartesianGraphicalItem:{reducer(e,t){e.cartesianItems.push(t.payload)},prepare:an()},replaceCartesianGraphicalItem:{reducer(e,t){var{prev:n,next:r}=t.payload,i=Ua(e).cartesianItems.indexOf(n);i>-1&&(e.cartesianItems[i]=r)},prepare:an()},removeCartesianGraphicalItem:{reducer(e,t){var n=Ua(e).cartesianItems.indexOf(t.payload);n>-1&&e.cartesianItems.splice(n,1)},prepare:an()},addPolarGraphicalItem:{reducer(e,t){e.polarItems.push(t.payload)},prepare:an()},removePolarGraphicalItem:{reducer(e,t){var n=Ua(e).polarItems.indexOf(t.payload);n>-1&&e.polarItems.splice(n,1)},prepare:an()}}}),{addCartesianGraphicalItem:Zwe,replaceCartesianGraphicalItem:Xwe,removeCartesianGraphicalItem:Jwe,addPolarGraphicalItem:yje,removePolarGraphicalItem:bje}=Kz.actions,Qwe=Kz.reducer,e1e=e=>{var t=cr(),n=w.useRef(null);return w.useLayoutEffect(()=>{n.current===null?t(Zwe(e)):n.current!==e&&t(Xwe({prev:n.current,next:e})),n.current=e},[t,e]),w.useLayoutEffect(()=>()=>{n.current&&(t(Jwe(n.current)),n.current=null)},[t]),null},t1e=w.memo(e1e),n1e=["points"];function KI(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function IS(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?KI(Object(n),!0).forEach(function(r){r1e(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):KI(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function r1e(e,t,n){return(t=i1e(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function i1e(e){var t=a1e(e,"string");return typeof t=="symbol"?t:t+""}function a1e(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Gb(){return Gb=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Gb.apply(null,arguments)}function o1e(e,t){if(e==null)return{};var n,r,i=s1e(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function s1e(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function l1e(e){var{option:t,dotProps:n,className:r}=e;if(w.isValidElement(t))return w.cloneElement(t,n);if(typeof t=="function")return t(n);var i=Qt(r,typeof t!="boolean"?t.className:""),a=n??{},{points:o}=a,l=o1e(a,n1e);return w.createElement(Hz,Gb({},l,{className:i}))}function c1e(e,t){return e==null?!1:t?!0:e.length===1}function u1e(e){var{points:t,dot:n,className:r,dotClassName:i,dataKey:a,baseProps:o,needClip:l,clipPathId:u,zIndex:f=zr.scatter}=e;if(!c1e(t,n))return null;var h=qz(n),p=vde(n),g=t.map((S,_)=>{var k,T,N=IS(IS(IS({r:3},o),p),{},{index:_,cx:(k=S.x)!==null&&k!==void 0?k:void 0,cy:(T=S.y)!==null&&T!==void 0?T:void 0,dataKey:a,value:S.value,payload:S.payload,points:t});return w.createElement(l1e,{key:"dot-".concat(_),option:n,dotProps:N,className:i})}),x={};return l&&u!=null&&(x.clipPath="url(#clipPath-".concat(h?"":"dots-").concat(u,")")),w.createElement(Ms,{zIndex:f},w.createElement(ko,Gb({className:r},x),g))}function WI(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function VI(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?WI(Object(n),!0).forEach(function(r){d1e(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):WI(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function d1e(e,t,n){return(t=f1e(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function f1e(e){var t=h1e(e,"string");return typeof t=="symbol"?t:t+""}function h1e(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var m1e={xAxis:{},yAxis:{},zAxis:{}},Wz=mi({name:"cartesianAxis",initialState:m1e,reducers:{addXAxis:{reducer(e,t){e.xAxis[t.payload.id]=t.payload},prepare:an()},replaceXAxis:{reducer(e,t){var{prev:n,next:r}=t.payload;e.xAxis[n.id]!==void 0&&(n.id!==r.id&&delete e.xAxis[n.id],e.xAxis[r.id]=r)},prepare:an()},removeXAxis:{reducer(e,t){delete e.xAxis[t.payload.id]},prepare:an()},addYAxis:{reducer(e,t){e.yAxis[t.payload.id]=t.payload},prepare:an()},replaceYAxis:{reducer(e,t){var{prev:n,next:r}=t.payload;e.yAxis[n.id]!==void 0&&(n.id!==r.id&&delete e.yAxis[n.id],e.yAxis[r.id]=r)},prepare:an()},removeYAxis:{reducer(e,t){delete e.yAxis[t.payload.id]},prepare:an()},addZAxis:{reducer(e,t){e.zAxis[t.payload.id]=t.payload},prepare:an()},replaceZAxis:{reducer(e,t){var{prev:n,next:r}=t.payload;e.zAxis[n.id]!==void 0&&(n.id!==r.id&&delete e.zAxis[n.id],e.zAxis[r.id]=r)},prepare:an()},removeZAxis:{reducer(e,t){delete e.zAxis[t.payload.id]},prepare:an()},updateYAxisWidth(e,t){var{id:n,width:r}=t.payload,i=e.yAxis[n];if(i){var a=i.widthHistory||[];if(a.length===3&&a[0]===a[2]&&r===a[1]&&r!==i.width&&Math.abs(r-a[0])<=1)return;var o=[...a,r].slice(-3);e.yAxis[n]=VI(VI({},e.yAxis[n]),{},{width:r,widthHistory:o})}}}}),{addXAxis:p1e,replaceXAxis:g1e,removeXAxis:y1e,addYAxis:b1e,replaceYAxis:v1e,removeYAxis:x1e,addZAxis:vje,replaceZAxis:xje,removeZAxis:_je,updateYAxisWidth:_1e}=Wz.actions,w1e=Wz.reducer,S1e=we([Sr],e=>({top:e.top,bottom:e.bottom,left:e.left,right:e.right})),k1e=we([S1e,As,Ts],(e,t,n)=>{if(!(!e||t==null||n==null))return{x:e.left,y:e.top,width:Math.max(0,t-e.left-e.right),height:Math.max(0,n-e.top-e.bottom)}}),$T=()=>Je(k1e),E1e=()=>Je(_xe);function ZI(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function $S(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?ZI(Object(n),!0).forEach(function(r){A1e(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ZI(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function A1e(e,t,n){return(t=T1e(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function T1e(e){var t=O1e(e,"string");return typeof t=="symbol"?t:t+""}function O1e(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var j1e=e=>{var{point:t,childIndex:n,mainColor:r,activeDot:i,dataKey:a,clipPath:o}=e;if(i===!1||t.x==null||t.y==null)return null;var l={index:n,dataKey:a,cx:t.x,cy:t.y,r:4,fill:r??"none",strokeWidth:2,stroke:"#fff",payload:t.payload,value:t.value},u=$S($S($S({},l),Dv(i)),kA(i)),f;return w.isValidElement(i)?f=w.cloneElement(i,u):typeof i=="function"?f=i(u):f=w.createElement(Hz,u),w.createElement(ko,{className:"recharts-active-dot",clipPath:o},f)};function XI(e){var{points:t,mainColor:n,activeDot:r,itemDataKey:i,clipPath:a,zIndex:o=zr.activeDot}=e,l=Je(Gm),u=E1e();if(t==null||u==null)return null;var f=t.find(h=>u.includes(h.payload));return xr(f)?null:w.createElement(Ms,{zIndex:o},w.createElement(j1e,{point:f,childIndex:Number(l),mainColor:n,dataKey:i,activeDot:r,clipPath:a}))}var N1e={},Vz=mi({name:"errorBars",initialState:N1e,reducers:{addErrorBar:(e,t)=>{var{itemId:n,errorBar:r}=t.payload;e[n]||(e[n]=[]),e[n].push(r)},replaceErrorBar:(e,t)=>{var{itemId:n,prev:r,next:i}=t.payload;e[n]&&(e[n]=e[n].map(a=>a.dataKey===r.dataKey&&a.direction===r.direction?i:a))},removeErrorBar:(e,t)=>{var{itemId:n,errorBar:r}=t.payload;e[n]&&(e[n]=e[n].filter(i=>i.dataKey!==r.dataKey||i.direction!==r.direction))}}}),{addErrorBar:wje,replaceErrorBar:Sje,removeErrorBar:kje}=Vz.actions,C1e=Vz.reducer;function Zz(e,t){var n,r,i=Je(f=>js(f,e)),a=Je(f=>Ns(f,t)),o=(n=i?.allowDataOverflow)!==null&&n!==void 0?n:rr.allowDataOverflow,l=(r=a?.allowDataOverflow)!==null&&r!==void 0?r:ir.allowDataOverflow,u=o||l;return{needClip:u,needClipX:o,needClipY:l}}function M1e(e){var{xAxisId:t,yAxisId:n,clipPathId:r}=e,i=$T(),{needClipX:a,needClipY:o,needClip:l}=Zz(t,n);if(!l||!i)return null;var{x:u,y:f,width:h,height:p}=i;return w.createElement("clipPath",{id:"clipPath-".concat(r)},w.createElement("rect",{x:a?u:u-h/2,y:o?f:f-p/2,width:a?h:h*2,height:o?p:p*2}))}var P1e=new Set(["axisLine","tickLine","activeBar","activeDot","activeLabel","activeShape","allowEscapeViewBox","background","cursor","dot","label","line","margin","padding","position","shape","style","tick","wrapperStyle"]);function D1e(e,t){return e==null&&t==null?!0:typeof e=="number"&&typeof t=="number"?e===t||e!==e&&t!==t:e===t}function BT(e,t){var n=new Set([...Object.keys(e),...Object.keys(t)]);for(var r of n)if(P1e.has(r)){if(e[r]==null&&t[r]==null)continue;if(!gy(e[r],t[r]))return!1}else if(!D1e(e[r],t[r]))return!1;return!0}var R1e=e=>{var{chartData:t}=e,n=cr(),r=pi();return w.useEffect(()=>r?()=>{}:(n(kI(t)),()=>{n(kI(void 0))}),[t,n,r]),null},JI={x:0,y:0,width:0,height:0,padding:{top:0,right:0,bottom:0,left:0}},Xz=mi({name:"brush",initialState:JI,reducers:{setBrushSettings(e,t){return t.payload==null?JI:t.payload}}}),{setBrushSettings:Eje}=Xz.actions,L1e=Xz.reducer;function I1e(e,t,n){return(t=$1e(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function $1e(e){var t=B1e(e,"string");return typeof t=="symbol"?t:t+""}function B1e(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class zT{static create(t){return new zT(t)}constructor(t){this.scale=t}get domain(){return this.scale.domain}get range(){return this.scale.range}get rangeMin(){return this.range()[0]}get rangeMax(){return this.range()[1]}get bandwidth(){return this.scale.bandwidth}apply(t){var{bandAware:n,position:r}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t!==void 0){if(r)switch(r){case"start":return this.scale(t);case"middle":{var i=this.bandwidth?this.bandwidth()/2:0;return this.scale(t)+i}case"end":{var a=this.bandwidth?this.bandwidth():0;return this.scale(t)+a}default:return this.scale(t)}if(n){var o=this.bandwidth?this.bandwidth()/2:0;return this.scale(t)+o}return this.scale(t)}}isInRange(t){var n=this.range(),r=n[0],i=n[n.length-1];return r<=i?t>=r&&t<=i:t>=i&&t<=r}}I1e(zT,"EPS",1e-4);function z1e(e){return(e%180+180)%180}var U1e=function(t){var{width:n,height:r}=t,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,a=z1e(i),o=a*Math.PI/180,l=Math.atan(r/n),u=o>l&&o<Math.PI-l?r/Math.sin(o):n/Math.cos(o);return Math.abs(u)},F1e={dots:[],areas:[],lines:[]},Jz=mi({name:"referenceElements",initialState:F1e,reducers:{addDot:(e,t)=>{e.dots.push(t.payload)},removeDot:(e,t)=>{var n=Ua(e).dots.findIndex(r=>r===t.payload);n!==-1&&e.dots.splice(n,1)},addArea:(e,t)=>{e.areas.push(t.payload)},removeArea:(e,t)=>{var n=Ua(e).areas.findIndex(r=>r===t.payload);n!==-1&&e.areas.splice(n,1)},addLine:(e,t)=>{e.lines.push(t.payload)},removeLine:(e,t)=>{var n=Ua(e).lines.findIndex(r=>r===t.payload);n!==-1&&e.lines.splice(n,1)}}}),{addDot:Aje,removeDot:Tje,addArea:Oje,removeArea:jje,addLine:Nje,removeLine:Cje}=Jz.actions,H1e=Jz.reducer,G1e=w.createContext(void 0),q1e=e=>{var{children:t}=e,[n]=w.useState("".concat(Cm("recharts"),"-clip")),r=$T();if(r==null)return null;var{x:i,y:a,width:o,height:l}=r;return w.createElement(G1e.Provider,{value:n},w.createElement("defs",null,w.createElement("clipPath",{id:n},w.createElement("rect",{x:i,y:a,height:l,width:o}))),t)};function Qz(e,t){if(t<1)return[];if(t===1)return e;for(var n=[],r=0;r<e.length;r+=t)n.push(e[r]);return n}function Y1e(e,t,n){var r={width:e.width+t.width,height:e.height+t.height};return U1e(r,n)}function K1e(e,t,n){var r=n==="width",{x:i,y:a,width:o,height:l}=e;return t===1?{start:r?i:a,end:r?i+o:a+l}:{start:r?i+o:a+l,end:r?i:a}}function qb(e,t,n,r,i){if(e*t<e*r||e*t>e*i)return!1;var a=n();return e*(t-e*a/2-r)>=0&&e*(t+e*a/2-i)<=0}function W1e(e,t){return Qz(e,t+1)}function V1e(e,t,n,r,i){for(var a=(r||[]).slice(),{start:o,end:l}=t,u=0,f=1,h=o,p=function(){var S=r?.[u];if(S===void 0)return{v:Qz(r,f)};var _=u,k,T=()=>(k===void 0&&(k=n(S,_)),k),N=S.coordinate,O=u===0||qb(e,N,T,h,l);O||(u=0,h=o,f+=1),O&&(h=N+e*(T()/2+i),u+=f)},g;f<=a.length;)if(g=p(),g)return g.v;return[]}function QI(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Or(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?QI(Object(n),!0).forEach(function(r){Z1e(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):QI(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Z1e(e,t,n){return(t=X1e(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function X1e(e){var t=J1e(e,"string");return typeof t=="symbol"?t:t+""}function J1e(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Q1e(e,t,n,r,i){for(var a=(r||[]).slice(),o=a.length,{start:l}=t,{end:u}=t,f=function(g){var x=a[g],S,_=()=>(S===void 0&&(S=n(x,g)),S);if(g===o-1){var k=e*(x.coordinate+e*_()/2-u);a[g]=x=Or(Or({},x),{},{tickCoord:k>0?x.coordinate-k*e:x.coordinate})}else a[g]=x=Or(Or({},x),{},{tickCoord:x.coordinate});if(x.tickCoord!=null){var T=qb(e,x.tickCoord,_,l,u);T&&(u=x.tickCoord-e*(_()/2+i),a[g]=Or(Or({},x),{},{isShow:!0}))}},h=o-1;h>=0;h--)f(h);return a}function eSe(e,t,n,r,i,a){var o=(r||[]).slice(),l=o.length,{start:u,end:f}=t;if(a){var h=r[l-1],p=n(h,l-1),g=e*(h.coordinate+e*p/2-f);if(o[l-1]=h=Or(Or({},h),{},{tickCoord:g>0?h.coordinate-g*e:h.coordinate}),h.tickCoord!=null){var x=qb(e,h.tickCoord,()=>p,u,f);x&&(f=h.tickCoord-e*(p/2+i),o[l-1]=Or(Or({},h),{},{isShow:!0}))}}for(var S=a?l-1:l,_=function(N){var O=o[N],P,C=()=>(P===void 0&&(P=n(O,N)),P);if(N===0){var D=e*(O.coordinate-e*C()/2-u);o[N]=O=Or(Or({},O),{},{tickCoord:D<0?O.coordinate-D*e:O.coordinate})}else o[N]=O=Or(Or({},O),{},{tickCoord:O.coordinate});if(O.tickCoord!=null){var $=qb(e,O.tickCoord,C,u,f);$&&(u=O.tickCoord+e*(C()/2+i),o[N]=Or(Or({},O),{},{isShow:!0}))}},k=0;k<S;k++)_(k);return o}function UT(e,t,n){var{tick:r,ticks:i,viewBox:a,minTickGap:o,orientation:l,interval:u,tickFormatter:f,unit:h,angle:p}=e;if(!i||!i.length||!r)return[];if(We(u)||gf.isSsr){var g;return(g=W1e(i,We(u)?u:0))!==null&&g!==void 0?g:[]}var x=[],S=l==="top"||l==="bottom"?"width":"height",_=h&&S==="width"?pm(h,{fontSize:t,letterSpacing:n}):{width:0,height:0},k=(O,P)=>{var C=typeof f=="function"?f(O.value,P):O.value;return S==="width"?Y1e(pm(C,{fontSize:t,letterSpacing:n}),_,p):pm(C,{fontSize:t,letterSpacing:n})[S]},T=i.length>=2?ca(i[1].coordinate-i[0].coordinate):1,N=K1e(a,T,S);return u==="equidistantPreserveStart"?V1e(T,N,k,i,o):(u==="preserveStart"||u==="preserveStartEnd"?x=eSe(T,N,k,i,o,u==="preserveStartEnd"):x=Q1e(T,N,k,i,o),x.filter(O=>O.isShow))}var tSe=e=>{var{ticks:t,label:n,labelGapWithTick:r=5,tickSize:i=0,tickMargin:a=0}=e,o=0;if(t){Array.from(t).forEach(h=>{if(h){var p=h.getBoundingClientRect();p.width>o&&(o=p.width)}});var l=n?n.getBoundingClientRect().width:0,u=i+a,f=o+u+l+(n?r:0);return Math.round(f)}return 0},nSe=["axisLine","width","height","className","hide","ticks","axisType"];function rSe(e,t){if(e==null)return{};var n,r,i=iSe(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function iSe(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function lu(){return lu=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},lu.apply(null,arguments)}function e3(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Ln(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?e3(Object(n),!0).forEach(function(r){aSe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):e3(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function aSe(e,t,n){return(t=oSe(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function oSe(e){var t=sSe(e,"string");return typeof t=="symbol"?t:t+""}function sSe(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var ms={x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd",zIndex:zr.axis};function lSe(e){var{x:t,y:n,width:r,height:i,orientation:a,mirror:o,axisLine:l,otherSvgProps:u}=e;if(!l)return null;var f=Ln(Ln(Ln({},u),Ga(l)),{},{fill:"none"});if(a==="top"||a==="bottom"){var h=+(a==="top"&&!o||a==="bottom"&&o);f=Ln(Ln({},f),{},{x1:t,y1:n+h*i,x2:t+r,y2:n+h*i})}else{var p=+(a==="left"&&!o||a==="right"&&o);f=Ln(Ln({},f),{},{x1:t+p*r,y1:n,x2:t+p*r,y2:n+i})}return w.createElement("line",lu({},f,{className:Qt("recharts-cartesian-axis-line",Iv(l,"className"))}))}function cSe(e,t,n,r,i,a,o,l,u){var f,h,p,g,x,S,_=l?-1:1,k=e.tickSize||o,T=We(e.tickCoord)?e.tickCoord:e.coordinate;switch(a){case"top":f=h=e.coordinate,g=n+ +!l*i,p=g-_*k,S=p-_*u,x=T;break;case"left":p=g=e.coordinate,h=t+ +!l*r,f=h-_*k,x=f-_*u,S=T;break;case"right":p=g=e.coordinate,h=t+ +l*r,f=h+_*k,x=f+_*u,S=T;break;default:f=h=e.coordinate,g=n+ +l*i,p=g+_*k,S=p+_*u,x=T;break}return{line:{x1:f,y1:p,x2:h,y2:g},tick:{x,y:S}}}function uSe(e,t){switch(e){case"left":return t?"start":"end";case"right":return t?"end":"start";default:return"middle"}}function dSe(e,t){switch(e){case"left":case"right":return"middle";case"top":return t?"start":"end";default:return t?"end":"start"}}function fSe(e){var{option:t,tickProps:n,value:r}=e,i,a=Qt(n.className,"recharts-cartesian-axis-tick-value");if(w.isValidElement(t))i=w.cloneElement(t,Ln(Ln({},n),{},{className:a}));else if(typeof t=="function")i=t(Ln(Ln({},n),{},{className:a}));else{var o="recharts-cartesian-axis-tick-value";typeof t!="boolean"&&(o=Qt(o,t?.className)),i=w.createElement(LT,lu({},n,{className:o}),r)}return i}var hSe=w.forwardRef((e,t)=>{var{ticks:n=[],tick:r,tickLine:i,stroke:a,tickFormatter:o,unit:l,padding:u,tickTextProps:f,orientation:h,mirror:p,x:g,y:x,width:S,height:_,tickSize:k,tickMargin:T,fontSize:N,letterSpacing:O,getTicksConfig:P,events:C,axisType:D}=e,$=UT(Ln(Ln({},P),{},{ticks:n}),N,O),H=uSe(h,p),q=dSe(h,p),K=Ga(P),U=Dv(r),z={};typeof i=="object"&&(z=i);var V=Ln(Ln({},K),{},{fill:"none"},z),J=$.map(Z=>Ln({entry:Z},cSe(Z,g,x,S,_,h,k,p,T))),Q=J.map(Z=>{var{entry:re,line:ue}=Z;return w.createElement(ko,{className:"recharts-cartesian-axis-tick",key:"tick-".concat(re.value,"-").concat(re.coordinate,"-").concat(re.tickCoord)},i&&w.createElement("line",lu({},V,ue,{className:Qt("recharts-cartesian-axis-tick-line",Iv(i,"className"))})))}),Y=J.map((Z,re)=>{var{entry:ue,tick:se}=Z,B=Ln(Ln(Ln(Ln({textAnchor:H,verticalAnchor:q},K),{},{stroke:"none",fill:a},U),se),{},{index:re,payload:ue,visibleTicksCount:$.length,tickFormatter:o,padding:u},f);return w.createElement(ko,lu({className:"recharts-cartesian-axis-tick-label",key:"tick-label-".concat(ue.value,"-").concat(ue.coordinate,"-").concat(ue.tickCoord)},tfe(C,ue,re)),r&&w.createElement(fSe,{option:r,tickProps:B,value:"".concat(typeof o=="function"?o(ue.value,re):ue.value).concat(l||"")}))});return w.createElement("g",{className:"recharts-cartesian-axis-ticks recharts-".concat(D,"-ticks")},Y.length>0&&w.createElement(Ms,{zIndex:zr.label},w.createElement("g",{className:"recharts-cartesian-axis-tick-labels recharts-".concat(D,"-tick-labels"),ref:t},Y)),Q.length>0&&w.createElement("g",{className:"recharts-cartesian-axis-tick-lines recharts-".concat(D,"-tick-lines")},Q))}),mSe=w.forwardRef((e,t)=>{var{axisLine:n,width:r,height:i,className:a,hide:o,ticks:l,axisType:u}=e,f=rSe(e,nSe),[h,p]=w.useState(""),[g,x]=w.useState(""),S=w.useRef(null);w.useImperativeHandle(t,()=>({getCalculatedWidth:()=>{var k;return tSe({ticks:S.current,label:(k=e.labelRef)===null||k===void 0?void 0:k.current,labelGapWithTick:5,tickSize:e.tickSize,tickMargin:e.tickMargin})}}));var _=w.useCallback(k=>{if(k){var T=k.getElementsByClassName("recharts-cartesian-axis-tick-value");S.current=T;var N=T[0];if(N){var O=window.getComputedStyle(N),P=O.fontSize,C=O.letterSpacing;(P!==h||C!==g)&&(p(P),x(C))}}},[h,g]);return o||r!=null&&r<=0||i!=null&&i<=0?null:w.createElement(Ms,{zIndex:e.zIndex},w.createElement(ko,{className:Qt("recharts-cartesian-axis",a)},w.createElement(lSe,{x:e.x,y:e.y,width:r,height:i,orientation:e.orientation,mirror:e.mirror,axisLine:n,otherSvgProps:Ga(e)}),w.createElement(hSe,{ref:_,axisType:u,events:f,fontSize:h,getTicksConfig:e,height:e.height,letterSpacing:g,mirror:e.mirror,orientation:e.orientation,padding:e.padding,stroke:e.stroke,tick:e.tick,tickFormatter:e.tickFormatter,tickLine:e.tickLine,tickMargin:e.tickMargin,tickSize:e.tickSize,tickTextProps:e.tickTextProps,ticks:l,unit:e.unit,width:e.width,x:e.x,y:e.y}),w.createElement(mwe,{x:e.x,y:e.y,width:e.width,height:e.height,lowerWidth:e.width,upperWidth:e.width},w.createElement(kwe,{label:e.label,labelRef:e.labelRef}),e.children)))}),FT=w.forwardRef((e,t)=>{var n=Gi(e,ms);return w.createElement(mSe,lu({},n,{ref:t}))});FT.displayName="CartesianAxis";var pSe=["x1","y1","x2","y2","key"],gSe=["offset"],ySe=["xAxisId","yAxisId"],bSe=["xAxisId","yAxisId"];function t3(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function jr(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?t3(Object(n),!0).forEach(function(r){vSe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):t3(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function vSe(e,t,n){return(t=xSe(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function xSe(e){var t=_Se(e,"string");return typeof t=="symbol"?t:t+""}function _Se(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Zc(){return Zc=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Zc.apply(null,arguments)}function Yb(e,t){if(e==null)return{};var n,r,i=wSe(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function wSe(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var SSe=e=>{var{fill:t}=e;if(!t||t==="none")return null;var{fillOpacity:n,x:r,y:i,width:a,height:o,ry:l}=e;return w.createElement("rect",{x:r,y:i,ry:l,width:a,height:o,stroke:"none",fill:t,fillOpacity:n,className:"recharts-cartesian-grid-bg"})};function eU(e){var{option:t,lineItemProps:n}=e,r;if(w.isValidElement(t))r=w.cloneElement(t,n);else if(typeof t=="function")r=t(n);else{var i,{x1:a,y1:o,x2:l,y2:u,key:f}=n,h=Yb(n,pSe),p=(i=Ga(h))!==null&&i!==void 0?i:{},{offset:g}=p,x=Yb(p,gSe);r=w.createElement("line",Zc({},x,{x1:a,y1:o,x2:l,y2:u,fill:"none",key:f}))}return r}function kSe(e){var{x:t,width:n,horizontal:r=!0,horizontalPoints:i}=e;if(!r||!i||!i.length)return null;var{xAxisId:a,yAxisId:o}=e,l=Yb(e,ySe),u=i.map((f,h)=>{var p=jr(jr({},l),{},{x1:t,y1:f,x2:t+n,y2:f,key:"line-".concat(h),index:h});return w.createElement(eU,{key:"line-".concat(h),option:r,lineItemProps:p})});return w.createElement("g",{className:"recharts-cartesian-grid-horizontal"},u)}function ESe(e){var{y:t,height:n,vertical:r=!0,verticalPoints:i}=e;if(!r||!i||!i.length)return null;var{xAxisId:a,yAxisId:o}=e,l=Yb(e,bSe),u=i.map((f,h)=>{var p=jr(jr({},l),{},{x1:f,y1:t,x2:f,y2:t+n,key:"line-".concat(h),index:h});return w.createElement(eU,{option:r,lineItemProps:p,key:"line-".concat(h)})});return w.createElement("g",{className:"recharts-cartesian-grid-vertical"},u)}function ASe(e){var{horizontalFill:t,fillOpacity:n,x:r,y:i,width:a,height:o,horizontalPoints:l,horizontal:u=!0}=e;if(!u||!t||!t.length||l==null)return null;var f=l.map(p=>Math.round(p+i-i)).sort((p,g)=>p-g);i!==f[0]&&f.unshift(0);var h=f.map((p,g)=>{var x=!f[g+1],S=x?i+o-p:f[g+1]-p;if(S<=0)return null;var _=g%t.length;return w.createElement("rect",{key:"react-".concat(g),y:p,x:r,height:S,width:a,stroke:"none",fill:t[_],fillOpacity:n,className:"recharts-cartesian-grid-bg"})});return w.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},h)}function TSe(e){var{vertical:t=!0,verticalFill:n,fillOpacity:r,x:i,y:a,width:o,height:l,verticalPoints:u}=e;if(!t||!n||!n.length)return null;var f=u.map(p=>Math.round(p+i-i)).sort((p,g)=>p-g);i!==f[0]&&f.unshift(0);var h=f.map((p,g)=>{var x=!f[g+1],S=x?i+o-p:f[g+1]-p;if(S<=0)return null;var _=g%n.length;return w.createElement("rect",{key:"react-".concat(g),x:p,y:a,width:S,height:l,stroke:"none",fill:n[_],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return w.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},h)}var OSe=(e,t)=>{var{xAxis:n,width:r,height:i,offset:a}=e;return G6(UT(jr(jr(jr({},ms),n),{},{ticks:q6(n),viewBox:{x:0,y:0,width:r,height:i}})),a.left,a.left+a.width,t)},jSe=(e,t)=>{var{yAxis:n,width:r,height:i,offset:a}=e;return G6(UT(jr(jr(jr({},ms),n),{},{ticks:q6(n),viewBox:{x:0,y:0,width:r,height:i}})),a.top,a.top+a.height,t)},NSe={horizontal:!0,vertical:!0,horizontalPoints:[],verticalPoints:[],stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[],xAxisId:0,yAxisId:0,syncWithTicks:!1,zIndex:zr.grid};function tU(e){var t=e9(),n=t9(),r=Q6(),i=jr(jr({},Gi(e,NSe)),{},{x:We(e.x)?e.x:r.left,y:We(e.y)?e.y:r.top,width:We(e.width)?e.width:r.width,height:We(e.height)?e.height:r.height}),{xAxisId:a,yAxisId:o,x:l,y:u,width:f,height:h,syncWithTicks:p,horizontalValues:g,verticalValues:x}=i,S=pi(),_=Je(q=>fI(q,"xAxis",a,S)),k=Je(q=>fI(q,"yAxis",o,S));if(!Ao(f)||!Ao(h)||!We(l)||!We(u))return null;var T=i.verticalCoordinatesGenerator||OSe,N=i.horizontalCoordinatesGenerator||jSe,{horizontalPoints:O,verticalPoints:P}=i;if((!O||!O.length)&&typeof N=="function"){var C=g&&g.length,D=N({yAxis:k?jr(jr({},k),{},{ticks:C?g:k.ticks}):void 0,width:t??f,height:n??h,offset:r},C?!0:p);_b(Array.isArray(D),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(typeof D,"]")),Array.isArray(D)&&(O=D)}if((!P||!P.length)&&typeof T=="function"){var $=x&&x.length,H=T({xAxis:_?jr(jr({},_),{},{ticks:$?x:_.ticks}):void 0,width:t??f,height:n??h,offset:r},$?!0:p);_b(Array.isArray(H),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(typeof H,"]")),Array.isArray(H)&&(P=H)}return w.createElement(Ms,{zIndex:i.zIndex},w.createElement("g",{className:"recharts-cartesian-grid"},w.createElement(SSe,{fill:i.fill,fillOpacity:i.fillOpacity,x:i.x,y:i.y,width:i.width,height:i.height,ry:i.ry}),w.createElement(ASe,Zc({},i,{horizontalPoints:O})),w.createElement(TSe,Zc({},i,{verticalPoints:P})),w.createElement(kSe,Zc({},i,{offset:r,horizontalPoints:O,xAxis:_,yAxis:k})),w.createElement(ESe,Zc({},i,{offset:r,verticalPoints:P,xAxis:_,yAxis:k}))))}tU.displayName="CartesianGrid";function CSe(e){var t=Dv(e),n=3,r=2;if(t!=null){var{r:i,strokeWidth:a}=t,o=Number(i),l=Number(a);return(Number.isNaN(o)||o<0)&&(o=n),(Number.isNaN(l)||l<0)&&(l=r),{r:o,strokeWidth:l}}return{r:n,strokeWidth:r}}var nU=(e,t,n,r)=>nz(e,"xAxis",t,r),rU=(e,t,n,r)=>tz(e,"xAxis",t,r),iU=(e,t,n,r)=>nz(e,"yAxis",n,r),aU=(e,t,n,r)=>tz(e,"yAxis",n,r),MSe=we([Vt,nU,iU,rU,aU],(e,t,n,r,i)=>Es(e,"xAxis")?xb(t,r,!1):xb(n,i,!1)),PSe=(e,t,n,r,i)=>i,oU=we([k8,PSe],(e,t)=>e.filter(n=>n.type==="area").find(n=>n.id===t)),DSe=(e,t,n,r,i)=>{var a,o=oU(e,t,n,r,i);if(o!=null){var l=Vt(e),u=Es(l,"xAxis"),f;if(u?f=CE(e,"yAxis",n,r):f=CE(e,"xAxis",t,r),f!=null){var{stackId:h}=o,p=pT(o);if(!(h==null||p==null)){var g=(a=f[h])===null||a===void 0?void 0:a.stackedData;return g?.find(x=>x.key===p)}}}},RSe=we([Vt,nU,iU,rU,aU,DSe,oT,MSe,oU,bbe],(e,t,n,r,i,a,o,l,u,f)=>{var{chartData:h,dataStartIndex:p,dataEndIndex:g}=o;if(!(u==null||e!=="horizontal"&&e!=="vertical"||t==null||n==null||r==null||i==null||r.length===0||i.length===0||l==null)){var{data:x}=u,S;if(x&&x.length>0?S=x:S=h?.slice(p,g+1),S!=null)return eke({layout:e,xAxis:t,yAxis:n,xAxisTicks:r,yAxisTicks:i,dataStartIndex:p,areaSettings:u,stackedData:a,displayedData:S,chartBaseValue:f,bandSize:l})}}),LSe=["id"],ISe=["activeDot","animationBegin","animationDuration","animationEasing","connectNulls","dot","fill","fillOpacity","hide","isAnimationActive","legendType","stroke","xAxisId","yAxisId"];function tu(){return tu=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},tu.apply(null,arguments)}function sU(e,t){if(e==null)return{};var n,r,i=$Se(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function $Se(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function n3(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Td(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?n3(Object(n),!0).forEach(function(r){BSe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):n3(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function BSe(e,t,n){return(t=zSe(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function zSe(e){var t=USe(e,"string");return typeof t=="symbol"?t:t+""}function USe(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Kb(e,t){return e&&e!=="none"?e:t}var FSe=e=>{var{dataKey:t,name:n,stroke:r,fill:i,legendType:a,hide:o}=e;return[{inactive:o,dataKey:t,type:a,color:Kb(r,i),value:Y6(n,t),payload:e}]},HSe=w.memo(e=>{var{dataKey:t,data:n,stroke:r,strokeWidth:i,fill:a,name:o,hide:l,unit:u,tooltipType:f}=e,h={dataDefinedOnItem:n,positions:void 0,settings:{stroke:r,strokeWidth:i,fill:a,dataKey:t,nameKey:void 0,name:Y6(o,t),hide:l,type:f,color:Kb(r,a),unit:u}};return w.createElement(Hwe,{tooltipEntrySettings:h})});function GSe(e){var{clipPathId:t,points:n,props:r}=e,{needClip:i,dot:a,dataKey:o}=r,l=Ga(r);return w.createElement(u1e,{points:n,dot:a,className:"recharts-area-dots",dotClassName:"recharts-area-dot",dataKey:o,baseProps:l,needClip:i,clipPathId:t})}function qSe(e){var{showLabels:t,children:n,points:r}=e,i=r.map(a=>{var o,l,u={x:(o=a.x)!==null&&o!==void 0?o:0,y:(l=a.y)!==null&&l!==void 0?l:0,width:0,lowerWidth:0,upperWidth:0,height:0};return Td(Td({},u),{},{value:a.value,payload:a.payload,parentViewBox:void 0,viewBox:u,fill:void 0})});return w.createElement(Rwe,{value:t?i:void 0},n)}function r3(e){var{points:t,baseLine:n,needClip:r,clipPathId:i,props:a}=e,{layout:o,type:l,stroke:u,connectNulls:f,isRange:h}=a,{id:p}=a,g=sU(a,LSe),x=Ga(g),S=ma(g);return w.createElement(w.Fragment,null,t?.length>1&&w.createElement(ko,{clipPath:r?"url(#clipPath-".concat(i,")"):void 0},w.createElement(wy,tu({},S,{id:p,points:t,connectNulls:f,type:l,baseLine:n,layout:o,stroke:"none",className:"recharts-area-area"})),u!=="none"&&w.createElement(wy,tu({},x,{className:"recharts-area-curve",layout:o,type:l,connectNulls:f,fill:"none",points:t})),u!=="none"&&h&&w.createElement(wy,tu({},x,{className:"recharts-area-curve",layout:o,type:l,connectNulls:f,fill:"none",points:n}))),w.createElement(GSe,{points:t,props:g,clipPathId:i}))}function YSe(e){var{alpha:t,baseLine:n,points:r,strokeWidth:i}=e,a=r[0].y,o=r[r.length-1].y;if(!_n(a)||!_n(o))return null;var l=t*Math.abs(a-o),u=Math.max(...r.map(f=>f.x||0));return We(n)?u=Math.max(n,u):n&&Array.isArray(n)&&n.length&&(u=Math.max(...n.map(f=>f.x||0),u)),We(u)?w.createElement("rect",{x:0,y:a<o?a:a-l,width:u+(i?parseInt("".concat(i),10):1),height:Math.floor(l)}):null}function KSe(e){var{alpha:t,baseLine:n,points:r,strokeWidth:i}=e,a=r[0].x,o=r[r.length-1].x;if(!_n(a)||!_n(o))return null;var l=t*Math.abs(a-o),u=Math.max(...r.map(f=>f.y||0));return We(n)?u=Math.max(n,u):n&&Array.isArray(n)&&n.length&&(u=Math.max(...n.map(f=>f.y||0),u)),We(u)?w.createElement("rect",{x:a<o?a:a-l,y:0,width:l,height:Math.floor(u+(i?parseInt("".concat(i),10):1))}):null}function WSe(e){var{alpha:t,layout:n,points:r,baseLine:i,strokeWidth:a}=e;return n==="vertical"?w.createElement(YSe,{alpha:t,points:r,baseLine:i,strokeWidth:a}):w.createElement(KSe,{alpha:t,points:r,baseLine:i,strokeWidth:a})}function VSe(e){var{needClip:t,clipPathId:n,props:r,previousPointsRef:i,previousBaselineRef:a}=e,{points:o,baseLine:l,isAnimationActive:u,animationBegin:f,animationDuration:h,animationEasing:p,onAnimationStart:g,onAnimationEnd:x}=r,S=w.useMemo(()=>({points:o,baseLine:l}),[o,l]),_=m9(S,"recharts-area-"),k=Hme(),[T,N]=w.useState(!1),O=!T,P=w.useCallback(()=>{typeof x=="function"&&x(),N(!1)},[x]),C=w.useCallback(()=>{typeof g=="function"&&g(),N(!0)},[g]);if(k==null)return null;var D=i.current,$=a.current;return w.createElement(qSe,{showLabels:O,points:o},r.children,w.createElement(h9,{animationId:_,begin:f,duration:h,isActive:u,easing:p,onAnimationEnd:P,onAnimationStart:C,key:_},H=>{if(D){var q=D.length/o.length,K=H===1?o:o.map((z,V)=>{var J=Math.floor(V*q);if(D[J]){var Q=D[J];return Td(Td({},z),{},{x:bo(Q.x,z.x,H),y:bo(Q.y,z.y,H)})}return z}),U;return We(l)?U=bo($,l,H):xr(l)||qa(l)?U=bo($,0,H):U=l.map((z,V)=>{var J=Math.floor(V*q);if(Array.isArray($)&&$[J]){var Q=$[J];return Td(Td({},z),{},{x:bo(Q.x,z.x,H),y:bo(Q.y,z.y,H)})}return z}),H>0&&(i.current=K,a.current=U),w.createElement(r3,{points:K,baseLine:U,needClip:t,clipPathId:n,props:r})}return H>0&&(i.current=o,a.current=l),w.createElement(ko,null,u&&w.createElement("defs",null,w.createElement("clipPath",{id:"animationClipPath-".concat(n)},w.createElement(WSe,{alpha:H,points:o,baseLine:l,layout:k,strokeWidth:r.strokeWidth}))),w.createElement(ko,{clipPath:"url(#animationClipPath-".concat(n,")")},w.createElement(r3,{points:o,baseLine:l,needClip:t,clipPathId:n,props:r})))}),w.createElement($we,{label:r.label}))}function ZSe(e){var{needClip:t,clipPathId:n,props:r}=e,i=w.useRef(null),a=w.useRef();return w.createElement(VSe,{needClip:t,clipPathId:n,props:r,previousPointsRef:i,previousBaselineRef:a})}class XSe extends w.PureComponent{render(){var{hide:t,dot:n,points:r,className:i,top:a,left:o,needClip:l,xAxisId:u,yAxisId:f,width:h,height:p,id:g,baseLine:x,zIndex:S}=this.props;if(t)return null;var _=Qt("recharts-area",i),k=g,{r:T,strokeWidth:N}=CSe(n),O=qz(n),P=T*2+N,C=l?"url(#clipPath-".concat(O?"":"dots-").concat(k,")"):void 0;return w.createElement(Ms,{zIndex:S},w.createElement(ko,{className:_},l&&w.createElement("defs",null,w.createElement(M1e,{clipPathId:k,xAxisId:u,yAxisId:f}),!O&&w.createElement("clipPath",{id:"clipPath-dots-".concat(k)},w.createElement("rect",{x:o-P/2,y:a-P/2,width:h+P,height:p+P}))),w.createElement(ZSe,{needClip:l,clipPathId:k,props:this.props})),w.createElement(XI,{points:r,mainColor:Kb(this.props.stroke,this.props.fill),itemDataKey:this.props.dataKey,activeDot:this.props.activeDot,clipPath:C}),this.props.isRange&&Array.isArray(x)&&w.createElement(XI,{points:x,mainColor:Kb(this.props.stroke,this.props.fill),itemDataKey:this.props.dataKey,activeDot:this.props.activeDot,clipPath:C}))}}var lU={activeDot:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",connectNulls:!1,dot:!1,fill:"#3182bd",fillOpacity:.6,hide:!1,isAnimationActive:"auto",legendType:"line",stroke:"#3182bd",strokeWidth:1,type:"linear",label:!1,xAxisId:0,yAxisId:0,zIndex:zr.area};function JSe(e){var t,n=Gi(e,lU),{activeDot:r,animationBegin:i,animationDuration:a,animationEasing:o,connectNulls:l,dot:u,fill:f,fillOpacity:h,hide:p,isAnimationActive:g,legendType:x,stroke:S,xAxisId:_,yAxisId:k}=n,T=sU(n,ISe),N=pp(),O=Sz(),{needClip:P}=Zz(_,k),C=pi(),{points:D,isRange:$,baseLine:H}=(t=Je(J=>RSe(J,_,k,C,e.id)))!==null&&t!==void 0?t:{},q=$T();if(N!=="horizontal"&&N!=="vertical"||q==null||O!=="AreaChart"&&O!=="ComposedChart")return null;var{height:K,width:U,x:z,y:V}=q;return!D||!D.length?null:w.createElement(XSe,tu({},T,{activeDot:r,animationBegin:i,animationDuration:a,animationEasing:o,baseLine:H,connectNulls:l,dot:u,fill:f,fillOpacity:h,height:K,hide:p,layout:N,isAnimationActive:g==="auto"?!gf.isSsr:g,isRange:$,legendType:x,needClip:P,points:D,stroke:S,width:U,left:z,top:V,xAxisId:_,yAxisId:k}))}var QSe=(e,t,n,r,i)=>{var a=n??t;if(We(a))return a;var o=e==="horizontal"?i:r,l=o.scale.domain();if(o.type==="number"){var u=Math.max(l[0],l[1]),f=Math.min(l[0],l[1]);return a==="dataMin"?f:a==="dataMax"||u<0?u:Math.max(Math.min(l[0],l[1]),0)}return a==="dataMin"?l[0]:a==="dataMax"?l[1]:l[0]};function eke(e){var{areaSettings:{connectNulls:t,baseValue:n,dataKey:r},stackedData:i,layout:a,chartBaseValue:o,xAxis:l,yAxis:u,displayedData:f,dataStartIndex:h,xAxisTicks:p,yAxisTicks:g,bandSize:x}=e,S=i&&i.length,_=QSe(a,o,n,l,u),k=a==="horizontal",T=!1,N=f.map((P,C)=>{var D;S?D=i[h+C]:(D=Nr(P,r),Array.isArray(D)?T=!0:D=[_,D]);var $=D[1]==null||S&&!t&&Nr(P,r)==null;return k?{x:RR({axis:l,ticks:p,bandSize:x,entry:P,index:C}),y:$?null:u.scale(D[1]),value:D,payload:P}:{x:$?null:l.scale(D[1]),y:RR({axis:u,ticks:g,bandSize:x,entry:P,index:C}),value:D,payload:P}}),O;return S||T?O=N.map(P=>{var C=Array.isArray(P.value)?P.value[0]:null;return k?{x:P.x,y:C!=null&&P.y!=null?u.scale(C):null,payload:P.payload}:{x:C!=null?l.scale(C):null,y:P.y,payload:P.payload}}):O=k?u.scale(_):l.scale(_),{points:N,baseLine:O,isRange:T}}function tke(e){var t=Gi(e,lU),n=pi();return w.createElement(Wwe,{id:t.id,type:"area"},r=>w.createElement(w.Fragment,null,w.createElement(Gwe,{legendPayload:FSe(t)}),w.createElement(HSe,{dataKey:t.dataKey,data:t.data,stroke:t.stroke,strokeWidth:t.strokeWidth,fill:t.fill,name:t.name,hide:t.hide,unit:t.unit,tooltipType:t.tooltipType}),w.createElement(t1e,{type:"area",id:r,data:t.data,dataKey:t.dataKey,xAxisId:t.xAxisId,yAxisId:t.yAxisId,zAxisId:0,stackId:ame(t.stackId),hide:t.hide,barSize:void 0,baseValue:t.baseValue,isPanorama:n,connectNulls:t.connectNulls}),w.createElement(JSe,tu({},t,{id:r}))))}var cU=w.memo(tke,BT);cU.displayName="Area";var nke=["domain","range"],rke=["domain","range"];function i3(e,t){if(e==null)return{};var n,r,i=ike(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function ike(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function a3(e,t){return e===t?!0:Array.isArray(e)&&e.length===2&&Array.isArray(t)&&t.length===2?e[0]===t[0]&&e[1]===t[1]:!1}function uU(e,t){if(e===t)return!0;var{domain:n,range:r}=e,i=i3(e,nke),{domain:a,range:o}=t,l=i3(t,rke);return!a3(n,a)||!a3(r,o)?!1:BT(i,l)}var ake=["dangerouslySetInnerHTML","ticks"],oke=["id"];function BE(){return BE=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},BE.apply(null,arguments)}function o3(e,t){if(e==null)return{};var n,r,i=ske(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function ske(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function lke(e){var t=cr(),n=w.useRef(null);return w.useLayoutEffect(()=>{n.current===null?t(p1e(e)):n.current!==e&&t(g1e({prev:n.current,next:e})),n.current=e},[e,t]),w.useLayoutEffect(()=>()=>{n.current&&(t(y1e(n.current)),n.current=null)},[t]),null}var cke=e=>{var{xAxisId:t,className:n}=e,r=Je(W6),i=pi(),a="xAxis",o=Je(k=>wf(k,a,t,i)),l=Je(k=>ez(k,a,t,i)),u=Je(k=>uve(k,t)),f=Je(k=>gve(k,t)),h=Je(k=>x8(k,t));if(u==null||f==null||h==null)return null;var{dangerouslySetInnerHTML:p,ticks:g}=e,x=o3(e,ake),{id:S}=h,_=o3(h,oke);return w.createElement(FT,BE({},x,_,{scale:o,x:f.x,y:f.y,width:u.width,height:u.height,className:Qt("recharts-".concat(a," ").concat(a),n),viewBox:r,ticks:l,axisType:a}))},uke={allowDataOverflow:rr.allowDataOverflow,allowDecimals:rr.allowDecimals,allowDuplicatedCategory:rr.allowDuplicatedCategory,angle:rr.angle,axisLine:ms.axisLine,height:rr.height,hide:!1,includeHidden:rr.includeHidden,interval:rr.interval,minTickGap:rr.minTickGap,mirror:rr.mirror,orientation:rr.orientation,padding:rr.padding,reversed:rr.reversed,scale:rr.scale,tick:rr.tick,tickCount:rr.tickCount,tickLine:ms.tickLine,tickSize:ms.tickSize,type:rr.type,xAxisId:0},dke=e=>{var t=Gi(e,uke);return w.createElement(w.Fragment,null,w.createElement(lke,{allowDataOverflow:t.allowDataOverflow,allowDecimals:t.allowDecimals,allowDuplicatedCategory:t.allowDuplicatedCategory,angle:t.angle,dataKey:t.dataKey,domain:t.domain,height:t.height,hide:t.hide,id:t.xAxisId,includeHidden:t.includeHidden,interval:t.interval,minTickGap:t.minTickGap,mirror:t.mirror,name:t.name,orientation:t.orientation,padding:t.padding,reversed:t.reversed,scale:t.scale,tick:t.tick,tickCount:t.tickCount,tickFormatter:t.tickFormatter,ticks:t.ticks,type:t.type,unit:t.unit}),w.createElement(cke,t))},dU=w.memo(dke,uU);dU.displayName="XAxis";var fke=["dangerouslySetInnerHTML","ticks"],hke=["id"];function zE(){return zE=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},zE.apply(null,arguments)}function s3(e,t){if(e==null)return{};var n,r,i=mke(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function mke(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function pke(e){var t=cr(),n=w.useRef(null);return w.useLayoutEffect(()=>{n.current===null?t(b1e(e)):n.current!==e&&t(v1e({prev:n.current,next:e})),n.current=e},[e,t]),w.useLayoutEffect(()=>()=>{n.current&&(t(x1e(n.current)),n.current=null)},[t]),null}var gke=e=>{var{yAxisId:t,className:n,width:r,label:i}=e,a=w.useRef(null),o=w.useRef(null),l=Je(W6),u=pi(),f=cr(),h="yAxis",p=Je(C=>wf(C,h,t,u)),g=Je(C=>vve(C,t)),x=Je(C=>bve(C,t)),S=Je(C=>ez(C,h,t,u)),_=Je(C=>_8(C,t));if(w.useLayoutEffect(()=>{if(!(r!=="auto"||!g||IT(i)||w.isValidElement(i)||_==null)){var C=a.current;if(C){var D=C.getCalculatedWidth();Math.round(g.width)!==Math.round(D)&&f(_1e({id:t,width:D}))}}},[S,g,f,i,t,r,_]),g==null||x==null||_==null)return null;var{dangerouslySetInnerHTML:k,ticks:T}=e,N=s3(e,fke),{id:O}=_,P=s3(_,hke);return w.createElement(FT,zE({},N,P,{ref:a,labelRef:o,scale:p,x:x.x,y:x.y,tickTextProps:r==="auto"?{width:void 0}:{width:r},width:g.width,height:g.height,className:Qt("recharts-".concat(h," ").concat(h),n),viewBox:l,ticks:S,axisType:h}))},yke={allowDataOverflow:ir.allowDataOverflow,allowDecimals:ir.allowDecimals,allowDuplicatedCategory:ir.allowDuplicatedCategory,angle:ir.angle,axisLine:ms.axisLine,hide:!1,includeHidden:ir.includeHidden,interval:ir.interval,minTickGap:ir.minTickGap,mirror:ir.mirror,orientation:ir.orientation,padding:ir.padding,reversed:ir.reversed,scale:ir.scale,tick:ir.tick,tickCount:ir.tickCount,tickLine:ms.tickLine,tickSize:ms.tickSize,type:ir.type,width:ir.width,yAxisId:0},bke=e=>{var t=Gi(e,yke);return w.createElement(w.Fragment,null,w.createElement(pke,{interval:t.interval,id:t.yAxisId,scale:t.scale,type:t.type,domain:t.domain,allowDataOverflow:t.allowDataOverflow,dataKey:t.dataKey,allowDuplicatedCategory:t.allowDuplicatedCategory,allowDecimals:t.allowDecimals,tickCount:t.tickCount,padding:t.padding,includeHidden:t.includeHidden,reversed:t.reversed,ticks:t.ticks,width:t.width,orientation:t.orientation,mirror:t.mirror,hide:t.hide,unit:t.unit,name:t.name,angle:t.angle,minTickGap:t.minTickGap,tick:t.tick,tickFormatter:t.tickFormatter}),w.createElement(gke,t))},fU=w.memo(bke,uU);fU.displayName="YAxis";var vke=(e,t)=>t,HT=we([vke,Vt,b8,Zn,yz,Cs,Pxe,Sr],zxe),GT=e=>{var t=e.currentTarget.getBoundingClientRect(),n=t.width/e.currentTarget.offsetWidth,r=t.height/e.currentTarget.offsetHeight;return{chartX:Math.round((e.clientX-t.left)/n),chartY:Math.round((e.clientY-t.top)/r)}},hU=pa("mouseClick"),mU=hp();mU.startListening({actionCreator:hU,effect:(e,t)=>{var n=e.payload,r=HT(t.getState(),GT(n));r?.activeIndex!=null&&t.dispatch(Mve({activeIndex:r.activeIndex,activeDataKey:void 0,activeCoordinate:r.activeCoordinate}))}});var UE=pa("mouseMove"),pU=hp(),ty=null;pU.startListening({actionCreator:UE,effect:(e,t)=>{var n=e.payload;ty!==null&&cancelAnimationFrame(ty);var r=GT(n);ty=requestAnimationFrame(()=>{var i=t.getState(),a=AT(i,i.tooltip.settings.shared);if(a==="axis"){var o=HT(i,r);o?.activeIndex!=null?t.dispatch(cz({activeIndex:o.activeIndex,activeDataKey:void 0,activeCoordinate:o.activeCoordinate})):t.dispatch(lz())}ty=null})}});var l3={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,barSize:void 0,className:void 0,maxBarSize:void 0,stackOffset:"none",syncId:void 0,syncMethod:"index",baseValue:void 0,reverseStackOrder:!1},gU=mi({name:"rootProps",initialState:l3,reducers:{updateOptions:(e,t)=>{var n;e.accessibilityLayer=t.payload.accessibilityLayer,e.barCategoryGap=t.payload.barCategoryGap,e.barGap=(n=t.payload.barGap)!==null&&n!==void 0?n:l3.barGap,e.barSize=t.payload.barSize,e.maxBarSize=t.payload.maxBarSize,e.stackOffset=t.payload.stackOffset,e.syncId=t.payload.syncId,e.syncMethod=t.payload.syncMethod,e.className=t.payload.className,e.baseValue=t.payload.baseValue,e.reverseStackOrder=t.payload.reverseStackOrder}}}),xke=gU.reducer,{updateOptions:_ke}=gU.actions,yU=mi({name:"polarOptions",initialState:null,reducers:{updatePolarOptions:(e,t)=>t.payload}}),{updatePolarOptions:Mje}=yU.actions,wke=yU.reducer,bU=pa("keyDown"),vU=pa("focus"),qT=hp();qT.startListening({actionCreator:bU,effect:(e,t)=>{var n=t.getState(),r=n.rootProps.accessibilityLayer!==!1;if(r){var{keyboardInteraction:i}=n.tooltip,a=e.payload;if(!(a!=="ArrowRight"&&a!=="ArrowLeft"&&a!=="Enter")){var o=TT(i,kf(n),Sp(n),Op(n)),l=o==null?-1:Number(o);if(!(!Number.isFinite(l)||l<0)){var u=Cs(n);if(a==="Enter"){var f=Fb(n,"axis","hover",String(i.index));t.dispatch(PE({active:!i.active,activeIndex:i.index,activeDataKey:i.dataKey,activeCoordinate:f}));return}var h=Sve(n),p=h==="left-to-right"?1:-1,g=a==="ArrowRight"?1:-1,x=l+g*p;if(!(u==null||x>=u.length||x<0)){var S=Fb(n,"axis","hover",String(x));t.dispatch(PE({active:!0,activeIndex:x.toString(),activeDataKey:void 0,activeCoordinate:S}))}}}}}});qT.startListening({actionCreator:vU,effect:(e,t)=>{var n=t.getState(),r=n.rootProps.accessibilityLayer!==!1;if(r){var{keyboardInteraction:i}=n.tooltip;if(!i.active&&i.index==null){var a="0",o=Fb(n,"axis","hover",String(a));t.dispatch(PE({activeDataKey:void 0,active:!0,activeIndex:a,activeCoordinate:o}))}}}});var ia=pa("externalEvent"),xU=hp(),BS=new Map;xU.startListening({actionCreator:ia,effect:(e,t)=>{var{handler:n,reactEvent:r}=e.payload;if(n!=null){r.persist();var i=r.type,a=BS.get(i);a!==void 0&&cancelAnimationFrame(a);var o=requestAnimationFrame(()=>{try{var l=t.getState(),u={activeCoordinate:bxe(l),activeDataKey:gxe(l),activeIndex:Gm(l),activeLabel:xz(l),activeTooltipIndex:Gm(l),isTooltipActive:vxe(l)};n(u,r)}finally{BS.delete(i)}});BS.set(i,o)}}});var Ske=we([Sf],e=>e.tooltipItemPayloads),kke=we([Ske,Ap,(e,t,n)=>t,(e,t,n)=>n],(e,t,n,r)=>{var i=e.find(l=>l.settings.dataKey===r);if(i!=null){var{positions:a}=i;if(a!=null){var o=t(a,n);return o}}}),_U=pa("touchMove"),wU=hp();wU.startListening({actionCreator:_U,effect:(e,t)=>{var n=e.payload;if(!(n.touches==null||n.touches.length===0)){var r=t.getState(),i=AT(r,r.tooltip.settings.shared);if(i==="axis"){var a=HT(r,GT({clientX:n.touches[0].clientX,clientY:n.touches[0].clientY,currentTarget:n.currentTarget}));a?.activeIndex!=null&&t.dispatch(cz({activeIndex:a.activeIndex,activeDataKey:void 0,activeCoordinate:a.activeCoordinate}))}else if(i==="item"){var o,l=n.touches[0];if(document.elementFromPoint==null)return;var u=document.elementFromPoint(l.clientX,l.clientY);if(!u||!u.getAttribute)return;var f=u.getAttribute(fme),h=(o=u.getAttribute(hme))!==null&&o!==void 0?o:void 0,p=kke(t.getState(),f,h);t.dispatch(Cve({activeDataKey:h,activeIndex:f,activeCoordinate:p}))}}}});var Eke=qB({brush:L1e,cartesianAxis:w1e,chartData:b_e,errorBars:C1e,graphicalItems:Qwe,layout:Vhe,legend:ope,options:h_e,polarAxis:zwe,polarOptions:wke,referenceElements:H1e,rootProps:xke,tooltip:Pve,zIndex:e_e}),Ake=function(t){return xhe({reducer:Eke,preloadedState:t,middleware:n=>{var r;return n({serializableCheck:!1,immutableCheck:!["commonjs","es6","production"].includes((r="es6")!==null&&r!==void 0?r:"")}).concat([mU.middleware,pU.middleware,qT.middleware,xU.middleware,wU.middleware])},enhancers:n=>{var r=n;return typeof n=="function"&&(r=n()),r.concat(N6({type:"raf"}))},devTools:gf.devToolsEnabled})};function Tke(e){var{preloadedState:t,children:n,reduxStoreName:r}=e,i=pi(),a=w.useRef(null);if(i)return n;a.current==null&&(a.current=Ake(t));var o=AA;return w.createElement(e5,{context:o,store:a.current},n)}function Oke(e){var{layout:t,margin:n}=e,r=cr(),i=pi();return w.useEffect(()=>{i||(r(Yhe(t)),r(qhe(n)))},[r,i,t,n]),null}var jke=w.memo(Oke,BT);function Nke(e){var t=cr();return w.useEffect(()=>{t(_ke(e))},[t,e]),null}function c3(e){var{zIndex:t,isPanorama:n}=e,r=n?"recharts-zindex-panorama-":"recharts-zindex-",i=Yz("".concat(r).concat(t)),a=cr();return w.useLayoutEffect(()=>(a(Jxe({zIndex:t,elementId:i,isPanorama:n})),()=>{a(Qxe({zIndex:t,isPanorama:n}))}),[a,t,i,n]),w.createElement("g",{tabIndex:-1,id:i})}function u3(e){var{children:t,isPanorama:n}=e,r=Je(Fxe);if(!r||r.length===0)return t;var i=r.filter(o=>o<0),a=r.filter(o=>o>0);return w.createElement(w.Fragment,null,i.map(o=>w.createElement(c3,{key:o,zIndex:o,isPanorama:n})),t,a.map(o=>w.createElement(c3,{key:o,zIndex:o,isPanorama:n})))}var Cke=["children"];function Mke(e,t){if(e==null)return{};var n,r,i=Pke(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function Pke(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function Wb(){return Wb=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Wb.apply(null,arguments)}var Dke={width:"100%",height:"100%",display:"block"},Rke=w.forwardRef((e,t)=>{var n=e9(),r=t9(),i=c9();if(!Ao(n)||!Ao(r))return null;var{children:a,otherAttributes:o,title:l,desc:u}=e,f,h;return o!=null&&(typeof o.tabIndex=="number"?f=o.tabIndex:f=i?0:void 0,typeof o.role=="string"?h=o.role:h=i?"application":void 0),w.createElement(B7,Wb({},o,{title:l,desc:u,role:h,tabIndex:f,width:n,height:r,style:Dke,ref:t}),a)}),Lke=e=>{var{children:t}=e,n=Je(Zv);if(!n)return null;var{width:r,height:i,y:a,x:o}=n;return w.createElement(B7,{width:r,height:i,x:o,y:a},t)},d3=w.forwardRef((e,t)=>{var{children:n}=e,r=Mke(e,Cke),i=pi();return i?w.createElement(Lke,null,w.createElement(u3,{isPanorama:!0},n)):w.createElement(Rke,Wb({ref:t},r),w.createElement(u3,{isPanorama:!1},n))});function Ike(){var e=cr(),[t,n]=w.useState(null),r=Je(dme);return w.useEffect(()=>{if(t!=null){var i=t.getBoundingClientRect(),a=i.width/t.offsetWidth;_n(a)&&a!==r&&e(Whe(a))}},[t,e,r]),n}function f3(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function $ke(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?f3(Object(n),!0).forEach(function(r){Bke(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):f3(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Bke(e,t,n){return(t=zke(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function zke(e){var t=Uke(e,"string");return typeof t=="symbol"?t:t+""}function Uke(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function cu(){return cu=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},cu.apply(null,arguments)}var Fke=()=>(T_e(),null);function Vb(e){if(typeof e=="number")return e;if(typeof e=="string"){var t=parseFloat(e);if(!Number.isNaN(t))return t}return 0}var Hke=w.forwardRef((e,t)=>{var n,r,i=w.useRef(null),[a,o]=w.useState({containerWidth:Vb((n=e.style)===null||n===void 0?void 0:n.width),containerHeight:Vb((r=e.style)===null||r===void 0?void 0:r.height)}),l=w.useCallback((f,h)=>{o(p=>{var g=Math.round(f),x=Math.round(h);return p.containerWidth===g&&p.containerHeight===x?p:{containerWidth:g,containerHeight:x}})},[]),u=w.useCallback(f=>{if(typeof t=="function"&&t(f),f!=null&&typeof ResizeObserver<"u"){var{width:h,height:p}=f.getBoundingClientRect();l(h,p);var g=S=>{var{width:_,height:k}=S[0].contentRect;l(_,k)},x=new ResizeObserver(g);x.observe(f),i.current=x}},[t,l]);return w.useEffect(()=>()=>{var f=i.current;f?.disconnect()},[l]),w.createElement(w.Fragment,null,w.createElement(Jv,{width:a.containerWidth,height:a.containerHeight}),w.createElement("div",cu({ref:u},e)))}),Gke=w.forwardRef((e,t)=>{var{width:n,height:r}=e,[i,a]=w.useState({containerWidth:Vb(n),containerHeight:Vb(r)}),o=w.useCallback((u,f)=>{a(h=>{var p=Math.round(u),g=Math.round(f);return h.containerWidth===p&&h.containerHeight===g?h:{containerWidth:p,containerHeight:g}})},[]),l=w.useCallback(u=>{if(typeof t=="function"&&t(u),u!=null){var{width:f,height:h}=u.getBoundingClientRect();o(f,h)}},[t,o]);return w.createElement(w.Fragment,null,w.createElement(Jv,{width:i.containerWidth,height:i.containerHeight}),w.createElement("div",cu({ref:l},e)))}),qke=w.forwardRef((e,t)=>{var{width:n,height:r}=e;return w.createElement(w.Fragment,null,w.createElement(Jv,{width:n,height:r}),w.createElement("div",cu({ref:t},e)))}),Yke=w.forwardRef((e,t)=>{var{width:n,height:r}=e;return bs(n)||bs(r)?w.createElement(Gke,cu({},e,{ref:t})):w.createElement(qke,cu({},e,{ref:t}))});function Kke(e){return e===!0?Hke:Yke}var Wke=w.forwardRef((e,t)=>{var{children:n,className:r,height:i,onClick:a,onContextMenu:o,onDoubleClick:l,onMouseDown:u,onMouseEnter:f,onMouseLeave:h,onMouseMove:p,onMouseUp:g,onTouchEnd:x,onTouchMove:S,onTouchStart:_,style:k,width:T,responsive:N,dispatchTouchEvents:O=!0}=e,P=w.useRef(null),C=cr(),[D,$]=w.useState(null),[H,q]=w.useState(null),K=Ike(),U=DA(),z=U?.width>0?U.width:T,V=U?.height>0?U.height:i,J=w.useCallback(ne=>{K(ne),typeof t=="function"&&t(ne),$(ne),q(ne),ne!=null&&(P.current=ne)},[K,t,$,q]),Q=w.useCallback(ne=>{C(hU(ne)),C(ia({handler:a,reactEvent:ne}))},[C,a]),Y=w.useCallback(ne=>{C(UE(ne)),C(ia({handler:f,reactEvent:ne}))},[C,f]),Z=w.useCallback(ne=>{C(lz()),C(ia({handler:h,reactEvent:ne}))},[C,h]),re=w.useCallback(ne=>{C(UE(ne)),C(ia({handler:p,reactEvent:ne}))},[C,p]),ue=w.useCallback(()=>{C(vU())},[C]),se=w.useCallback(ne=>{C(bU(ne.key))},[C]),B=w.useCallback(ne=>{C(ia({handler:o,reactEvent:ne}))},[C,o]),W=w.useCallback(ne=>{C(ia({handler:l,reactEvent:ne}))},[C,l]),ae=w.useCallback(ne=>{C(ia({handler:u,reactEvent:ne}))},[C,u]),X=w.useCallback(ne=>{C(ia({handler:g,reactEvent:ne}))},[C,g]),oe=w.useCallback(ne=>{C(ia({handler:_,reactEvent:ne}))},[C,_]),me=w.useCallback(ne=>{O&&C(_U(ne)),C(ia({handler:S,reactEvent:ne}))},[C,O,S]),pe=w.useCallback(ne=>{C(ia({handler:x,reactEvent:ne}))},[C,x]),be=Kke(N);return w.createElement(Oz.Provider,{value:D},w.createElement(Ade.Provider,{value:H},w.createElement(be,{width:z??k?.width,height:V??k?.height,className:Qt("recharts-wrapper",r),style:$ke({position:"relative",cursor:"default",width:z,height:V},k),onClick:Q,onContextMenu:B,onDoubleClick:W,onFocus:ue,onKeyDown:se,onMouseDown:ae,onMouseEnter:Y,onMouseLeave:Z,onMouseMove:re,onMouseUp:X,onTouchEnd:pe,onTouchMove:me,onTouchStart:oe,ref:J},w.createElement(Fke,null),n)))}),Vke=["width","height","responsive","children","className","style","compact","title","desc"];function Zke(e,t){if(e==null)return{};var n,r,i=Xke(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function Xke(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var Jke=w.forwardRef((e,t)=>{var{width:n,height:r,responsive:i,children:a,className:o,style:l,compact:u,title:f,desc:h}=e,p=Zke(e,Vke),g=Ga(p);return u?w.createElement(w.Fragment,null,w.createElement(Jv,{width:n,height:r}),w.createElement(d3,{otherAttributes:g,title:f,desc:h},a)):w.createElement(Wke,{className:o,style:l,width:n,height:r,responsive:i??!1,onClick:e.onClick,onMouseLeave:e.onMouseLeave,onMouseEnter:e.onMouseEnter,onMouseMove:e.onMouseMove,onMouseDown:e.onMouseDown,onMouseUp:e.onMouseUp,onContextMenu:e.onContextMenu,onDoubleClick:e.onDoubleClick,onTouchStart:e.onTouchStart,onTouchMove:e.onTouchMove,onTouchEnd:e.onTouchEnd},w.createElement(d3,{otherAttributes:g,title:f,desc:h,ref:t},w.createElement(q1e,null,a)))});function FE(){return FE=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},FE.apply(null,arguments)}var Qke={top:5,right:5,bottom:5,left:5},eEe={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,layout:"horizontal",margin:Qke,responsive:!1,reverseStackOrder:!1,stackOffset:"none",syncMethod:"index"},tEe=w.forwardRef(function(t,n){var r,i=Gi(t.categoricalChartProps,eEe),{chartName:a,defaultTooltipEventType:o,validateTooltipEventTypes:l,tooltipPayloadSearcher:u,categoricalChartProps:f}=t,h={chartName:a,defaultTooltipEventType:o,validateTooltipEventTypes:l,tooltipPayloadSearcher:u,eventEmitter:void 0};return w.createElement(Tke,{preloadedState:{options:h},reduxStoreName:(r=f.id)!==null&&r!==void 0?r:a},w.createElement(R1e,{chartData:f.data}),w.createElement(jke,{layout:i.layout,margin:i.margin}),w.createElement(Nke,{baseValue:i.baseValue,accessibilityLayer:i.accessibilityLayer,barCategoryGap:i.barCategoryGap,maxBarSize:i.maxBarSize,stackOffset:i.stackOffset,barGap:i.barGap,barSize:i.barSize,syncId:i.syncId,syncMethod:i.syncMethod,className:i.className,reverseStackOrder:i.reverseStackOrder}),w.createElement(Jke,FE({},i,{ref:n})))}),nEe=["axis"],rEe=w.forwardRef((e,t)=>w.createElement(tEe,{chartName:"AreaChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:nEe,tooltipPayloadSearcher:d_e,categoricalChartProps:e,ref:t}));function h3(){const[e,t]=w.useState(0),[n,r]=w.useState(0),[i,a]=w.useState(0),[o,l]=w.useState(0),[u,f]=w.useState([]),[h,p]=w.useState([]),g=w.useMemo(()=>{const k=new Date;return k.setHours(0,0,0,0),k},[]),x=w.useCallback(async()=>{const{count:k}=await Me.from("profiles").select("*",{count:"exact",head:!0});t(k||0);const{count:T}=await Me.from("myeongsik").select("*",{count:"exact",head:!0});r(T||0);const{count:N}=await Me.from("profiles").select("*",{count:"exact",head:!0}).gte("created_at",g.toISOString());a(N||0);const{count:O}=await Me.from("myeongsik").select("*",{count:"exact",head:!0}).gte("created_at",g.toISOString());l(O||0)},[g]),S=w.useCallback(async()=>{const k=new Date;k.setDate(k.getDate()-30);const{data:T}=await Me.from("profiles").select("created_at").gte("created_at",k.toISOString()).order("created_at",{ascending:!0}),N={};(T||[]).forEach(P=>{const C=new Date(P.created_at).toISOString().slice(0,10);N[C]=(N[C]||0)+1});const O=Object.entries(N).map(([P,C])=>({day:P,count:C}));f(O)},[]),_=w.useCallback(async()=>{const k=new Date;k.setDate(k.getDate()-30);const{data:T}=await Me.from("myeongsik").select("created_at").gte("created_at",k.toISOString()).order("created_at",{ascending:!0}),N={};(T||[]).forEach(P=>{const C=new Date(P.created_at).toISOString().slice(0,10);N[C]=(N[C]||0)+1});const O=Object.entries(N).map(([P,C])=>({day:P,count:C}));p(O)},[]);return w.useEffect(()=>{x(),S(),_()},[x,S,_]),b.jsx(pde,{allow:["admin","operator","viewer"],children:b.jsxs("div",{className:"p-6 text-white",children:[b.jsx("h1",{className:"text-2xl font-bold mb-6",children:"Dashboard"}),b.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4 mb-10",children:[b.jsx(ny,{label:" ",value:e}),b.jsx(ny,{label:"  ",value:n}),b.jsx(ny,{label:" ",value:i}),b.jsx(ny,{label:"  ",value:o})]}),b.jsxs("section",{className:"mb-10",children:[b.jsx("h2",{className:"text-xl font-semibold mb-3",children:" 30  "}),b.jsx(m3,{data:u})]}),b.jsxs("section",{children:[b.jsx("h2",{className:"text-xl font-semibold mb-3",children:" 30  "}),b.jsx(m3,{data:h})]})]})})}function ny({label:e,value:t}){return b.jsxs("div",{className:"p-4 bg-neutral-900 border border-neutral-700 rounded-lg",children:[b.jsx("div",{className:"text-neutral-400 text-sm",children:e}),b.jsx("div",{className:"text-3xl font-bold mt-1",children:t})]})}function m3({data:e}){return b.jsx("div",{className:"w-full h-64 bg-neutral-900 border border-neutral-700 rounded-lg p-2 text-xs",children:b.jsx(Ume,{width:"100%",height:"100%",children:b.jsxs(rEe,{data:e,children:[b.jsx(tU,{strokeDasharray:"3 3",stroke:"#333"}),b.jsx(dU,{dataKey:"day",stroke:"#bbb"}),b.jsx(fU,{stroke:"#bbb"}),b.jsx(R_e,{}),b.jsx(cU,{type:"monotone",dataKey:"count",stroke:"#8884d8",fill:"#8884d855"})]})})})}function iEe(){const[e,t]=w.useState(""),[n,r]=w.useState(1),[i,a]=w.useState({});return{search:e,setSearch:t,page:n,setPage:r,draftByUser:i,setDraftByUser:a,setDraft:(l,u)=>{a(f=>{const h=f[l]??{plan:"FREE",startDate:"",endDate:"",saving:!1};return{...f,[l]:{...h,...u}}})}}}const SU=[{value:"FREE",label:"FREE ()"},{value:"BASIC",label:"BASIC (ON)"},{value:"PRO",label:"PRO (OFF)"}];function aEe(e){return e==="FREE"||e==="BASIC"||e==="PRO"}function oEe(e){return typeof e!="string"?null:wd(e)}function p3(e){return String(e).padStart(2,"0")}function Zb(e){if(!e)return"";const t=new Date(e);if(Number.isNaN(t.getTime()))return"";const n=t.getFullYear(),r=p3(t.getMonth()+1),i=p3(t.getDate());return`${n}-${r}-${i}`}const Jh=e=>e<10?`0${e}`:`${e}`,sEe=e=>String(e).padStart(3,"0");function g3(e,t){const n=/^(\d{4})-(\d{2})-(\d{2})$/.exec(e);if(!n)throw new Error("Invalid date input");const r=Number(n[1]),i=Number(n[2]),a=Number(n[3]),o=t?23:0,l=t?59:0,u=t?59:0,f=t?999:0;return`${r}-${Jh(i)}-${Jh(a)}T${Jh(o)}:${Jh(l)}:${Jh(u)}.${sEe(f)}+09:00`}function lEe(e){const t=Vy(e),n=t.maxMyeongsik===null?9999:t.maxMyeongsik;return{plan:e,max_myeongsik:n,can_manage_myeongsik:t.canManageMyeongsik,can_use_luck_tabs:t.canUseLuckTabs,can_use_multi_mode:t.canUseMultiMode,can_use_all_prompts:t.canUseAllPrompts}}function cEe(e){const t=e??"FREE";return SU.find(n=>n.value===t)?.label??String(t)}function uEe(e){const t=e?.starts_at?Zb(e.starts_at):"",n=e?.expires_at?Zb(e.expires_at):"";return!t&&!n?" ":t&&!n?`${t} ~ ()`:!t&&n?`( ) ~ ${n}`:`${t} ~ ${n}`}const HE=20;function dEe(e,t){const n=(t-1)*HE;return e.slice(n,n+HE)}function fEe(e){return Math.max(1,Math.ceil(e.length/HE))}function hEe(e){return typeof e=="boolean"?e:null}function mEe(e){const{userIds:t,profiles:n,myeongsikRows:r,entRows:i,activityRows:a}=e,o=new Map;for(const h of a)o.set(h.user_id,h);const l={};for(const h of n){const p=h.user_id||h.id;p&&(l[p]=h)}const u={};for(const h of i){const p=oEe(h.plan);u[h.user_id]={user_id:h.user_id,plan:p,starts_at:h.starts_at??null,expires_at:h.expires_at??null,can_use_myo_viewer:hEe(h.can_use_myo_viewer)}}const f={};for(const h of t){const p=o.get(h)??null;f[h]={user_id:h,profile:l[h]||null,myeongsikCount:0,lastCreatedAt:null,ent:u[h]||null,lastSeenAt:p?.last_seen_at??null,lastSeenPath:p?.last_path??null,totalActiveMs:p?.total_active_ms??null}}for(const h of r){const p=f[h.user_id];if(!p)continue;p.myeongsikCount+=1;const g=p.lastCreatedAt,x=h.created_at??null;if(!x)continue;if(!g){p.lastCreatedAt=x;continue}const S=Date.parse(g),_=Date.parse(x);Number.isFinite(_)&&(!Number.isFinite(S)||_>S)&&(p.lastCreatedAt=x)}return t.map(h=>f[h])}function pEe(e,t){const n={...e};for(const r of t){const i=r.ent,a=i?.plan??"FREE",o=Zb(i?.starts_at??null),l=Zb(i?.expires_at??null),u=i?.can_use_myo_viewer===!0?"ON":"OFF",f=n[r.user_id];if(!f){n[r.user_id]={plan:a,startDate:o,endDate:l,saving:!1,myoViewer:u};continue}f.saving||(f.plan!==a||f.startDate!==o||f.endDate!==l||f.myoViewer!==u)&&(n[r.user_id]={...f,plan:a,startDate:o,endDate:l,myoViewer:u})}return n}async function gEe(e){const t=e.trim(),n=/^[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}$/i.test(t),r=`%${t}%`,i=new Set;if(!t){const[a,o]=await Promise.all([Me.from("profiles").select("user_id").limit(1e3),Me.from("user_entitlements").select("user_id").limit(1e3)]);if(a.error)throw new Error(a.error.message);if(o.error)throw new Error(o.error.message);return(a.data??[]).forEach(l=>l.user_id&&i.add(l.user_id)),(o.data??[]).forEach(l=>l.user_id&&i.add(l.user_id)),Array.from(i)}{let a=Me.from("profiles").select("user_id").limit(1e3);n?a=a.eq("user_id",t):a=a.or(`name.ilike.${r},nickname.ilike.${r},email.ilike.${r}`);const{data:o,error:l}=await a;if(l)throw new Error(l.message);(o??[]).forEach(u=>u.user_id&&i.add(u.user_id))}{let a=Me.from("user_entitlements").select("user_id").limit(1e3);n&&(a=a.eq("user_id",t));const{data:o,error:l}=await a;if(l)throw new Error(l.message);(o??[]).forEach(u=>u.user_id&&i.add(u.user_id))}{let a=Me.from("myeongsik").select("user_id").limit(1e3);n?a=a.eq("user_id",t):a=a.or(`name.ilike.${r},birth_json->>birthDay.ilike.${r}`);const{data:o,error:l}=await a;if(l)throw new Error(l.message);(o??[]).forEach(u=>u.user_id&&i.add(u.user_id))}return Array.from(i)}async function yEe(e){const{data:t,error:n}=await Me.from("profiles").select("id,user_id,name,nickname,email").in("user_id",e);if(n)throw new Error(n.message);return t||[]}async function bEe(e){const{data:t,error:n}=await Me.from("myeongsik").select("user_id, created_at").in("user_id",e).order("created_at",{ascending:!1});if(n)throw new Error(n.message);return t||[]}async function vEe(e){const{data:t,error:n}=await Me.from("user_entitlements").select("user_id,plan,starts_at,expires_at,can_use_myo_viewer").in("user_id",e);if(n)throw new Error(n.message);return t||[]}async function xEe(e){const{error:t}=await Me.from("user_entitlements").upsert(e,{onConflict:"user_id"});if(t)throw t}async function _Ee(e){if(!e.length)return[];const{data:t,error:n}=await Me.from("user_activity").select("user_id,last_seen_at,last_path,total_active_ms").in("user_id",e);if(n)throw n;return t??[]}function wEe(){const[e,t]=w.useState([]),[n,r]=w.useState([]),[i,a]=w.useState(!1),[o,l]=w.useState(null),u=w.useCallback(async(p,g)=>{a(!0),l(null);try{const x=await gEe(p);t(x),g()}catch(x){l(x instanceof Error?x.message:"Unknown error")}finally{a(!1)}},[]),f=w.useCallback(async p=>{if(!p.length){r([]);return}a(!0),l(null);try{const g=p.length?p:["__NO_MATCH__"],[x,S,_,k]=await Promise.all([yEe(g),bEe(g),vEe(g),_Ee(g)]),T=mEe({userIds:g,profiles:x,myeongsikRows:S,entRows:_,activityRows:k});r(T)}catch(g){l(g instanceof Error?g.message:"Error")}finally{a(!1)}},[]),h=w.useCallback(async(p,g,x,S)=>{if(g){x(p,{saving:!0});try{const _=lEe(g.plan),k=g.startDate?g3(g.startDate,!1):null,T=g.endDate?g3(g.endDate,!0):null,N=g.myoViewer==="ON",O={user_id:p,..._,starts_at:k,expires_at:T,can_use_myo_viewer:N};await xEe(O),x(p,{saving:!1,lastSavedAt:Date.now()}),await S()}catch(_){x(p,{saving:!1}),l(_ instanceof Error?_.message:" ")}}},[]);return{userIds:e,summaries:n,loading:i,error:o,setError:l,fetchUserIdList:u,fetchSummaries:f,saveEntitlements:h}}function SEe(e){if(!e)return" ";const t=Date.parse(e);if(!Number.isFinite(t))return" ";const n=Date.now()-t,r=Math.floor(n/1e3);if(r<15)return"";if(r<60)return`${r} `;const i=Math.floor(r/60);if(i<60)return`${i} `;const a=Math.floor(i/60);return a<24?`${a} `:`${Math.floor(a/24)} `}function y3(e){if(!e||e<=0)return"0";const t=Math.floor(e/1e3),n=Math.floor(t/86400),r=Math.floor(t%86400/3600),i=Math.floor(t%3600/60);return n>=1?`${n} ${r}`:r>=1?`${r} ${i}`:`${i}`}function kEe(){const e=iEe(),{search:t,setSearch:n,page:r,setPage:i,draftByUser:a,setDraftByUser:o,setDraft:l}=e,{userIds:u,summaries:f,loading:h,error:p,fetchUserIdList:g,fetchSummaries:x,saveEntitlements:S}=wEe(),_=w.useMemo(()=>dEe(u,r),[u,r]),k=w.useMemo(()=>fEe(u),[u]);return w.useEffect(()=>{g(t,()=>i(1))},[g,t,i]),w.useEffect(()=>{x(_)},[x,_]),w.useEffect(()=>{o(T=>pEe(T,f))},[f,o]),b.jsxs("div",{className:"p-6 text-white",children:[b.jsx("h1",{className:"text-2xl font-bold mb-4",children:"Users"}),b.jsx("input",{className:"px-3 py-2 bg-neutral-800 border border-neutral-700 rounded w-full max-w-sm mb-4",placeholder:"Search user (name, email, birth, userId...)",value:t,onChange:T=>n(T.target.value)}),p&&b.jsx("div",{className:"text-red-400 mb-2",children:p}),h&&b.jsx("div",{children:"Loading..."}),b.jsx("div",{className:"space-y-3",children:f.map(T=>{const N=T.profile?.name||T.profile?.nickname||"(no profile)",O=T.profile?.email||"",P=a[T.user_id]??{plan:"FREE",startDate:"",endDate:"",myoViewer:"OFF",saving:!1,lastSavedAt:void 0},C=Date.now(),D=(T.ent?.starts_at?Date.parse(T.ent.starts_at)<=C:!0)&&(T.ent?.expires_at?Date.parse(T.ent.expires_at)>C:!0),$=D?T.ent?.plan:"FREE",H=T.ent?.can_use_myo_viewer===!0?"ON":"OFF",q=T.lastSeenAt??null,K=q?Date.parse(q):NaN,U=Number.isFinite(K)&&C-K<120*1e3,z=T.totalActiveMs??null;return b.jsxs("div",{className:"p-4 bg-neutral-900 border border-neutral-700 rounded-lg hover:bg-neutral-800",children:[b.jsxs("div",{className:"font-semibold text-lg flex items-center justify-between gap-3",children:[b.jsxs("div",{className:"min-w-0 flex items-center gap-2",children:[b.jsx("span",{className:"text-nowrap mr-1",children:N}),O?b.jsxs("span",{className:"text-sm text-neutral-400 truncate",children:["(",O,")"]}):null,b.jsxs("span",{className:`text-[11px] px-2 py-0.5 rounded-full border ${U?"bg-emerald-900/40 border-emerald-700 text-emerald-300":"bg-neutral-800 border-neutral-700 text-neutral-300"}`,title:q?new Date(q).toLocaleString():" ",children:[U?"":"","  ",SEe(q)]}),b.jsxs("span",{className:"text-[11px] px-2 py-0.5 rounded-full border bg-neutral-800 border-neutral-700 text-neutral-300",title:" ",children:[" ",y3(z)]})]}),b.jsx("span",{className:"text-neutral-500 text-sm shrink-0",children:T.user_id})]}),b.jsxs("div",{className:"text-sm text-neutral-400 mt-1",children:[" ",T.myeongsikCount,"",q?b.jsxs(b.Fragment,{children:["    ",new Date(q).toLocaleString()]}):b.jsx(b.Fragment,{children:"     "}),b.jsxs(b.Fragment,{children:["   ",y3(z)]})]}),b.jsxs("div",{className:"text-sm text-neutral-400 mt-1",children:[" ",cEe($),"  ",uEe(T.ent),"    ",H,!D&&T.ent?.plan&&T.ent.plan!=="FREE"?" ()":""]}),b.jsxs("div",{className:"mt-3 flex flex-col gap-2",children:[b.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[b.jsx("label",{className:"text-xs text-neutral-400",children:""}),b.jsx("input",{type:"date",className:"px-2 py-1 bg-neutral-800 border border-neutral-700 rounded text-sm",value:P.startDate,onChange:V=>l(T.user_id,{startDate:V.target.value})}),b.jsx("span",{className:"text-neutral-500",children:"~"}),b.jsx("label",{className:"text-xs text-neutral-400",children:""}),b.jsx("input",{type:"date",className:"px-2 py-1 bg-neutral-800 border border-neutral-700 rounded text-sm",value:P.endDate,onChange:V=>l(T.user_id,{endDate:V.target.value})}),b.jsx("select",{className:"px-2 py-1 bg-neutral-800 border border-neutral-700 rounded text-sm",value:P.plan,onChange:V=>{const J=V.target.value;aEe(J)&&l(T.user_id,{plan:J})},children:SU.map(V=>b.jsx("option",{value:V.value,children:V.label},V.value))}),b.jsxs("select",{className:"px-2 py-1 bg-neutral-800 border border-neutral-700 rounded text-sm",value:P.myoViewer,onChange:V=>{const J=V.target.value==="OFF"?"OFF":"ON";l(T.user_id,{myoViewer:J})},children:[b.jsx("option",{value:"ON",children:"  ON"}),b.jsx("option",{value:"OFF",children:"  OFF"})]}),b.jsx("button",{type:"button",disabled:P.saving,onClick:()=>void S(T.user_id,P,e.setDraft,()=>x(_)),className:"px-3 py-1 rounded bg-purple-600 hover:bg-purple-500 disabled:opacity-50 cursor-pointer",children:P.saving?" ...":""}),b.jsx("button",{type:"button",onClick:()=>location.href=`/admin/user/${T.user_id}`,className:"px-3 py-1 rounded bg-neutral-700 hover:bg-neutral-600 cursor-pointer",children:""})]}),P.lastSavedAt!=null?b.jsxs("div",{className:"text-xs text-emerald-400",children:["  ",new Date(P.lastSavedAt).toLocaleString()]}):null]})]},T.user_id)})}),b.jsxs("div",{className:"flex items-center justify-center gap-3 mt-6",children:[b.jsx("button",{disabled:r<=1,onClick:()=>i(T=>T-1),className:"px-3 py-1 border border-neutral-700 rounded disabled:opacity-50",children:""}),b.jsxs("span",{children:[r," / ",k]}),b.jsx("button",{disabled:r>=k,onClick:()=>i(T=>T+1),className:"px-3 py-1 border border-neutral-700 rounded disabled:opacity-50",children:""})]})]})}function EEe(){const[e,t]=w.useState(null),[n,r]=w.useState([]),[i,a]=w.useState(!1);return{profile:e,setProfile:t,myeongsikList:n,setMyeongsikList:r,saving:i,setSaving:a}}function AEe(e){return{isDisabled:!!e?.disabled_at,hasProfile:!!e}}async function YT({action:e,targetUserId:t,targetRecordId:n,payload:r={}}){const a=(await Me.auth.getSession()).data.session?.user?.id;a&&await Me.from("audit_logs").insert({action:e,target_user_id:t??null,target_record_id:n??null,actor_admin_id:a,payload:r})}const TEe=async e=>{const{data:t}=await Me.from("profiles").select("*").eq("user_id",e).maybeSingle();return t??null},OEe=async e=>{const{data:t}=await Me.from("myeongsik").select("*").eq("user_id",e).order("created_at",{ascending:!1});return t??[]},jEe=async e=>{await Me.from("profiles").insert({user_id:e,name:"",nickname:"",email:"",mgr_memo:""})},NEe=async(e,t)=>{await Me.from("profiles").update({name:t.name,nickname:t.nickname,email:t.email,mgr_memo:t.mgr_memo}).eq("user_id",e)},CEe=async(e,t)=>{await Me.from("profiles").update({disabled_at:t}).eq("user_id",e)},MEe=async e=>{await Me.from("profiles").update({disabled_at:null}).eq("user_id",e),await Me.from("myeongsik").update({deleted_at:null}).eq("user_id",e),await YT({action:"restore_account",targetUserId:e,payload:{source:"admin_user_detail"}})},PEe=async e=>{await Me.from("myeongsik").update({deleted_at:null}).eq("user_id",e),await YT({action:"restore_myeongsik_all",targetUserId:e,payload:{source:"admin_user_detail"}})},DEe=async(e,t,n)=>{await Me.from("myeongsik").update({deleted_at:n}).eq("id",t),await YT({action:n?"delete_myeongsik":"restore_myeongsik",targetUserId:e,targetRecordId:t,payload:{deleted_at:n,source:"admin_user_detail"}})};function REe({userId:e,profile:t,setProfile:n,setMyeongsikList:r,setSaving:i}){const a=w.useCallback(async()=>{const _=await TEe(e);n(_)},[e,n]),o=w.useCallback(async()=>{const _=await OEe(e);r(_)},[e,r]);w.useEffect(()=>{a(),o()},[a,o]);const l=w.useCallback(async()=>{i(!0),await jEe(e),i(!1),await a()},[e,i,a]),u=w.useCallback(async()=>{t&&(i(!0),await NEe(e,t),i(!1),await a())},[t,e,i,a]),f=w.useCallback(async()=>{if(!t)return;const _=t.disabled_at?null:new Date().toISOString();await CEe(e,_),await a()},[t,e,a]),h=w.useCallback(async()=>{i(!0),await MEe(e),i(!1),await a(),await o()},[e,i,a,o]),p=w.useCallback(async()=>{i(!0),await PEe(e),i(!1),await o()},[e,i,o]),g=w.useCallback(_=>{const k=typeof window<"u"?window.location.origin:"",T=_?`${k}/impersonate?userId=${e}&myeongsikId=${_}`:`${k}/impersonate?userId=${e}`;window.open(T,"_blank")},[e]),x=w.useCallback(async(_,k)=>{const T=k?null:new Date().toISOString();await DEe(e,_,T),await o()},[e,o]),S=w.useCallback(_=>{window.location.href=_},[]);return{handleCreateProfile:l,handleSaveProfile:u,toggleDisable:f,handleRestoreAccount:h,handleRestoreAllMyeongsik:p,handleViewAsUser:g,toggleDeleteMyeongsik:x,goTo:S}}function LEe({params:e}){const t=e.userId,n=EEe(),r=AEe(n.profile),i=REe({userId:t,profile:n.profile,setProfile:n.setProfile,setMyeongsikList:n.setMyeongsikList,setSaving:n.setSaving});return b.jsxs("div",{className:"p-6 text-white",children:[b.jsx("button",{className:"mb-4 underline cursor-pointer",onClick:()=>i.goTo("/admin/user"),children:"  "}),b.jsx("h1",{className:"text-2xl font-bold mb-4",children:" "}),b.jsxs("div",{className:"p-4 bg-neutral-900 border border-neutral-700 rounded-lg mb-6",children:[b.jsx("div",{className:"flex items-center justify-between mb-3",children:b.jsxs("div",{className:"flex items-center gap-3",children:[b.jsx("h2",{className:"text-xl font-semibold",children:""}),b.jsx("button",{className:"px-3 py-1 bg-blue-700 text-xs rounded cursor-pointer",onClick:()=>i.handleViewAsUser(),children:" ( )"})]})}),!r.hasProfile&&b.jsx("button",{onClick:i.handleCreateProfile,className:"px-3 py-2 bg-blue-600 rounded cursor-pointer",disabled:n.saving,children:" "}),r.hasProfile&&n.profile&&b.jsxs("div",{className:"space-y-3",children:[b.jsxs("div",{children:[b.jsx("label",{children:""}),b.jsx("input",{className:"w-full p-2 bg-neutral-800 border border-neutral-600 rounded",value:n.profile.name??"",onChange:a=>n.setProfile({...n.profile,name:a.target.value})})]}),b.jsxs("div",{children:[b.jsx("label",{children:""}),b.jsx("input",{className:"w-full p-2 bg-neutral-800 border border-neutral-600 rounded",value:n.profile.nickname??"",onChange:a=>n.setProfile({...n.profile,nickname:a.target.value})})]}),b.jsxs("div",{children:[b.jsx("label",{children:"Email"}),b.jsx("input",{className:"w-full p-2 bg-neutral-800 border border-neutral-600 rounded",value:n.profile.email??"",onChange:a=>n.setProfile({...n.profile,email:a.target.value})})]}),b.jsxs("div",{children:[b.jsx("label",{children:" "}),b.jsx("textarea",{className:"w-full p-2 bg-neutral-800 border border-neutral-600 rounded",rows:3,value:n.profile.mgr_memo??"",onChange:a=>n.setProfile({...n.profile,mgr_memo:a.target.value})})]}),b.jsxs("div",{className:"flex gap-2",children:[b.jsx("button",{onClick:i.handleSaveProfile,className:"px-3 py-2 bg-green-600 rounded cursor-pointer text-xs",disabled:n.saving,children:""}),r.isDisabled&&b.jsx("button",{onClick:i.handleRestoreAccount,className:"px-3 py-2 bg-blue-600 rounded cursor-pointer text-xs",disabled:n.saving,children:" "}),b.jsx("button",{onClick:i.toggleDisable,className:`px-3 py-2 rounded cursor-pointer text-xs ${r.isDisabled?"bg-yellow-600":"bg-gray-600"}`,children:r.isDisabled?" ":" "})]})]})]}),b.jsxs("div",{className:"p-4 bg-neutral-900 border border-neutral-700 rounded-lg",children:[b.jsxs("div",{className:"flex items-center justify-between mb-4",children:[b.jsx("h2",{className:"text-xl font-semibold",children:" "}),b.jsx("button",{className:"px-3 py-2 bg-blue-700 rounded text-xs cursor-pointer",onClick:i.handleRestoreAllMyeongsik,disabled:n.saving,children:"  "})]}),n.myeongsikList.map(a=>b.jsx("div",{className:"p-3 bg-neutral-800 border border-neutral-700 rounded mb-3",children:b.jsxs("div",{className:"flex items-center justify-between",children:[b.jsxs("div",{children:[b.jsx("div",{className:"font-semibold",children:a.name||"(no name)"}),b.jsxs("div",{className:"text-sm text-neutral-400",children:["Birth: ",a.birth_json?.birthDay??"-","  ",a.created_at?new Date(a.created_at).toLocaleString():"-"]})]}),b.jsxs("div",{className:"flex gap-2",children:[b.jsx("button",{className:"text-nowrap px-2 py-1 border border-blue-500 text-blue-100 rounded cursor-pointer text-xs",onClick:()=>i.handleViewAsUser(a.id),children:"  ( )"}),b.jsx("button",{className:"text-nowrap px-2 py-1 border border-neutral-500 rounded cursor-pointer text-xs",onClick:()=>i.goTo(`/admin/myeongsik/${a.id}`),children:""}),b.jsx("button",{className:`px-2 py-1 rounded cursor-pointer text-xs text-nowrap ${a.deleted_at?"bg-green-600":"bg-red-600"}`,onClick:()=>i.toggleDeleteMyeongsik(a.id,a.deleted_at),children:a.deleted_at?"":""})]})]})},a.id)),n.myeongsikList.length===0&&b.jsx("div",{className:"text-neutral-400",children:" ."})]})]})}function IEe({open:e,onClose:t,children:n}){return e?b.jsx("div",{className:"fixed inset-0 bg-black/70 z-50 flex items-center justify-center",children:b.jsxs("div",{className:"bg-neutral-900 border border-neutral-700 rounded-lg p-6 max-w-2xl w-full relative",children:[b.jsx("button",{className:"absolute top-3 right-3 text-neutral-400 hover:text-white",onClick:t,children:""}),b.jsx("div",{className:"max-h-[70vh] overflow-y-auto",children:n})]})}):null}const b3=50;function $Ee(){const[e,t]=w.useState(null),[n,r]=w.useState(!1),[i,a]=w.useState([]),[o,l]=w.useState(1),[u,f]=w.useState("all"),[h,p]=w.useState("all"),[g,x]=w.useState("30"),[S,_]=w.useState(""),[k,T]=w.useState(!1),N=w.useCallback(async P=>{await Me.from("audit_logs").delete().eq("id",P),a(C=>C.filter(D=>D.id!==P))},[]),O=w.useCallback(async()=>{T(!0);const P=new Date;g!=="all"&&P.setDate(P.getDate()-Number(g));let C=Me.from("audit_logs").select("*").order("created_at",{ascending:!1}).range((o-1)*b3,o*b3-1);g!=="all"&&(C=C.gte("created_at",P.toISOString())),u!=="all"&&(C=C.eq("action",u)),h!=="all"&&(C=C.eq("actor_admin_id",h));const{data:D}=await C;let $=D||[];if(S.trim()!==""){const H=S.toLowerCase();$=$.filter(q=>(JSON.stringify(q).toLowerCase()+(q.payload?JSON.stringify(q.payload).toLowerCase():"")).includes(H))}a($),T(!1)},[o,u,h,g,S]);return w.useEffect(()=>{O()},[O]),b.jsxs("div",{className:"p-6 text-white",children:[b.jsx("h1",{className:"text-2xl font-bold mb-6",children:"Audit Logs"}),b.jsxs("div",{className:"mb-6 grid grid-cols-1 md:grid-cols-4 gap-3",children:[b.jsxs("select",{className:"p-2 bg-neutral-800 rounded border border-neutral-600",value:u,onChange:P=>f(P.target.value),children:[b.jsx("option",{value:"all",children:" Action"}),b.jsx("option",{value:"delete_myeongsik",children:" "}),b.jsx("option",{value:"restore_myeongsik",children:" "}),b.jsx("option",{value:"update_profile",children:" "}),b.jsx("option",{value:"impersonate_user",children:""})]}),b.jsxs("select",{className:"p-2 bg-neutral-800 rounded border border-neutral-600",value:h,onChange:P=>p(P.target.value),children:[b.jsx("option",{value:"all",children:" "}),b.jsx("option",{value:"",children:""}),b.jsx("option",{value:"system",children:"System"})]}),b.jsxs("select",{className:"p-2 bg-neutral-800 rounded border border-neutral-600",value:g,onChange:P=>x(P.target.value),children:[b.jsx("option",{value:"1",children:"24"}),b.jsx("option",{value:"7",children:"7"}),b.jsx("option",{value:"30",children:"30"}),b.jsx("option",{value:"all",children:""})]}),b.jsx("input",{className:"p-2 bg-neutral-800 rounded border border-neutral-600",placeholder:" (payload )",value:S,onChange:P=>_(P.target.value)})]}),k?b.jsx("div",{children:"Loading..."}):i.map(P=>b.jsxs("div",{className:"p-4 bg-neutral-900 border border-neutral-700 rounded mb-4 cursor-pointer hover:bg-neutral-800",onClick:()=>{t(P),r(!0)},children:[b.jsxs("div",{className:"flex items-center justify-between gap-3",children:[b.jsx("div",{className:"font-semibold text-lg",children:P.action}),b.jsx("button",{className:"px-2 py-1 text-xs bg-red-700 hover:bg-red-600 rounded cursor-pointer",onClick:C=>{C.stopPropagation(),N(P.id)},children:""})]}),b.jsxs("div",{className:"text-sm mt-1 text-neutral-400",children:[b.jsxs("div",{children:["Actor: ",P.actor_admin_id]}),b.jsxs("div",{children:["Target User: ",P.target_user_id||"-"]}),b.jsxs("div",{children:["Target Record: ",P.target_record_id||"-"]}),b.jsxs("div",{children:["Time: ",new Date(P.created_at).toLocaleString()]})]}),P.payload&&b.jsx("pre",{className:"mt-3 text-xs bg-neutral-800 p-2 rounded",children:JSON.stringify(P.payload,null,2)})]},P.id)),b.jsxs("div",{className:"flex items-center justify-center gap-3 mt-6",children:[b.jsx("button",{className:"px-3 py-1 bg-neutral-800 border border-neutral-600 rounded disabled:opacity-40 cursor-pointer",disabled:o===1,onClick:()=>l(P=>P-1),children:" "}),b.jsxs("span",{className:"text-neutral-400",children:["Page ",o]}),b.jsx("button",{className:"px-3 py-1 bg-neutral-800 border border-neutral-600 rounded cursor-pointer",onClick:()=>l(P=>P+1),children:" "})]}),b.jsx(IEe,{open:n,onClose:()=>r(!1),children:e&&b.jsxs("div",{children:[b.jsx("h2",{className:"text-xl font-bold mb-3",children:e.action}),b.jsxs("div",{className:"text-sm text-neutral-400 space-y-1 mb-4",children:[b.jsxs("div",{children:["Actor: ",e.actor_admin_id]}),b.jsxs("div",{children:["Target User: ",e.target_user_id??"-"]}),b.jsxs("div",{children:["Target Record: ",e.target_record_id??"-"]}),b.jsxs("div",{children:["Time: ",new Date(e.created_at).toLocaleString()]})]}),b.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Payload"}),b.jsx("pre",{className:"text-xs bg-neutral-800 p-3 rounded whitespace-pre-wrap",children:JSON.stringify(e.payload,null,2)})]})})]})}const BEe="15b517b3-3d97-41a6-ae17-563abd163a36".split(",").map(e=>e.trim()).filter(Boolean);function kU(){const[e,t]=w.useState(!1),[n,r]=w.useState(!1);if(w.useEffect(()=>{(async()=>{const{data:l}=await Me.auth.getUser(),u=l.user?.id;r(!!u&&BEe.includes(u)),t(!0)})()},[]),!e)return b.jsx("div",{className:"p-6 text-white",children:"  ...!"});if(!n)return b.jsx("div",{className:"p-6 text-white",children:"  "});const i=window.location.pathname;let a=b.jsx(h3,{});if(i.startsWith("/admin/user/")){const o=i.replace("/admin/user/","");a=b.jsx(LEe,{params:{userId:o}})}else i.startsWith("/admin/user")?a=b.jsx(kEe,{}):i.startsWith("/admin/logs")?a=b.jsx($Ee,{}):i.startsWith("/admin/dashboard")&&(a=b.jsx(h3,{}));return b.jsx(hde,{children:a})}function zEe({pillarsA:e,pillarsB:t}){const n=cre(e,t);return b.jsxs("div",{className:"rounded-xl p-4 bg-neutral-100 dark:bg-neutral-900 text-neutral-900 dark:text-neutral-100 space-y-2",children:[b.jsx("div",{className:"text-sm font-bold mb-3",children:"   "}),Object.entries(n).map(([r,i])=>i.length>0?b.jsxs("div",{className:"flex gap-2 text-xs",children:[b.jsx("span",{className:"shrink-0 w-20 text-xs font-semibold text-neutral-700 dark:text-neutral-400 mt-1",children:r}),b.jsx("div",{className:"flex flex-wrap gap-2",children:i.map((a,o)=>b.jsx("span",{className:"text-xs px-2 py-1 rounded-full border whitespace-nowrap bg-violet-100 text-violet-800 border-violet-200 dark:bg-violet-900/30 dark:text-violet-200 dark:border-violet-800",children:a},o))})]},r):null)]})}const UEe=["","","","","","","","","",""],FEe=["","","","","","","","","",""],HEe=["","","","","","","","","","","",""],GEe=["","","","","","","","","","","",""],qEe=new Set([...UEe,...FEe]),YEe=new Set([...HEe,...GEe]);function KEe(e){return typeof e=="object"&&e!==null}function v3(e){return typeof e=="string"&&e.length>=2&&qEe.has(e[0])&&YEe.has(e[1])}function rn(e,...t){if(v3(e))return e;for(const n of t)if(v3(n))return n;return""}function ry(e,t){let n=null;const r=t.getTime();for(const i of e)if(i.at.getTime()<=r)n=i;else break;return n}function WEe(e){const t=n=>String(n).padStart(2,"0");return`${e.getFullYear()}-${t(e.getMonth()+1)}-${t(e.getDate())}T${t(e.getHours())}:${t(e.getMinutes())}`}function x3(e){if(!e)return null;const t=/^(\d{4})-(\d{2})-(\d{2})T(\d{2}):(\d{2})$/.exec(e);if(!t)return null;const[,n,r,i,a,o]=t,l=new Date(+n,+r-1,+i,+a,+o);return Number.isNaN(l.getTime())?null:l}function Xb(e){const t=e;return typeof t.name=="string"&&t.name?t.name:typeof t.title=="string"&&t.title?t.title:typeof t.memo=="string"&&t.memo?t.memo:" "}function VEe(e){const t=Number(e.birthDay.slice(0,4)),n=Number(e.birthDay.slice(4,6)),r=Number(e.birthDay.slice(6,8));let i=0,a=0;const o=e;return typeof o.birthTime=="string"&&o.birthTime.length>=4&&(i=Number(o.birthTime.slice(0,2)),a=Number(o.birthTime.slice(2,4))),{y:t,m:n,d:r,hh:i,mm:a}}function yx(e){const{y:t,m:n,d:r,hh:i,mm:a}=VEe(e),o=e.corrected instanceof Date&&!Number.isNaN(e.corrected.getTime())?e.corrected:new Date(t,n-1,r,i,a),l=o.getHours(),u=o.getMinutes();return e.calendarType==="lunar"?Hi(t,n,r,l,u):new Date(t,n-1,r,l,u)}function ZEe(e){const t=yx(e);return`${Xb(e)}-${t.toISOString()}`}function md(e){const t=e;return typeof t.id=="string"&&t.id?t.id:ZEe(e)}function XEe(e){return KEe(e)&&("Classic"in e||"Modern"in e||"classic"in e||"modern"in e)}function JEe(e){const t=k4;return XEe(t)?e==="classic"?t.Classic:t.Modern:e}function QEe(e){if(!e)return"";const t=e,n=l=>typeof t[l]=="string"?String(t[l]).trim().toLowerCase():null,r=l=>typeof t[l]=="boolean"?t[l]:null,i=[n("gender"),n("sex"),n("genderType"),n(""),n("sexType"),n("g")].filter(l=>!!l);for(const l of i){if(["","","male","m","boy","man"].includes(l))return"";if(["","","female","f","girl","woman"].includes(l))return""}const a=r("isMale"),o=r("isFemale");return a===!0?"":o===!0?"":""}const zS="people_picker_order_v1";function e2e(e,t,n){const r=e.slice(),[i]=r.splice(t,1);return r.splice(n,0,i),r}function _3({open:e,list:t,onSelect:n,onClose:r}){const[i,a]=w.useState("");w.useEffect(()=>{e||a("")},[e]);const o=w.useMemo(()=>t.map(md),[t]),l=w.useMemo(()=>new Set(o),[o]),[u,f]=w.useState([]);w.useEffect(()=>{const _=localStorage.getItem(zS),k=_?JSON.parse(_):[],T=k.filter(O=>l.has(O)),N=[...T,...o.filter(O=>!T.includes(O))];f(N),JSON.stringify(N)!==JSON.stringify(k)&&localStorage.setItem(zS,JSON.stringify(N))},[o,l]);const h=_=>{f(_),localStorage.setItem(zS,JSON.stringify(_))},p=w.useMemo(()=>{const _=new Map(t.map(O=>[md(O),O])),k=[];for(const O of u){const P=_.get(O);P&&k.push(P)}_.forEach((O,P)=>{u.includes(P)||k.push(O)});const T=[],N=[];for(const O of k)(typeof O.relationship=="string"?O.relationship.trim():"")===""?T.push(O):N.push(O);return[...T,...N]},[t,u]),g=w.useMemo(()=>{const _=i.trim().toLowerCase();return _?p.filter(k=>{const T=typeof k.relationship=="string"?k.relationship.trim():"";return`${Xb(k)} ${T}`.toLowerCase().includes(_)}):p},[p,i]),x=i.trim()==="",S=_=>{const{destination:k,source:T}=_;if(!k||!x||k.index===T.index)return;const N=g.map(md),O=e2e(N,T.index,k.index),C=p.map(md).filter($=>!N.includes($)),D=[...O,...C].filter(($,H,q)=>q.indexOf($)===H);h(D)};return b.jsxs(b.Fragment,{children:[b.jsx("style",{children:"[data-rbd-drag-handle-context-id]{touch-action:none!important}"}),b.jsx("div",{className:`fixed inset-0 bg-black/60 transition-opacity duration-200 z-[1000] ${e?"opacity-100 pointer-events-auto":"opacity-0 pointer-events-none"}`,onClick:r}),b.jsxs("div",{className:`fixed bottom-0 inset-x-0 mx-auto w-full max-w-[640px] max-h-[80dvh] bg-white dark:bg-neutral-950 rounded-t-2xl border border-neutral-200 dark:border-neutral-800 p-4 overflow-auto transition-transform duration-300 z-[1001] ${e?"translate-y-0":"translate-y-full"}`,children:[b.jsxs("div",{className:"flex items-center justify-between mb-3",children:[b.jsx("h3",{className:"text-sm font-semibold text-neutral-900 dark:text-neutral-200",children:" "}),b.jsx("button",{onClick:r,className:"text-neutral-500 hover:text-neutral-900 dark:text-neutral-400 dark:hover:text-white text-sm cursor-pointer",children:""})]}),b.jsxs("div",{className:"mb-3",children:[b.jsx("input",{value:i,onChange:_=>a(_.target.value),placeholder:" ",className:"w-full px-3 py-2 rounded border border-neutral-300 dark:border-neutral-700 bg-white dark:bg-neutral-900 text-sm"}),b.jsx("div",{className:"text-[11px] text-neutral-500 mt-1",children:"    ."})]}),b.jsx(np,{onDragEnd:S,children:b.jsx(hf,{droppableId:"people-picker",children:_=>b.jsxs("ul",{className:"space-y-2",ref:_.innerRef,..._.droppableProps,children:[g.map((k,T)=>{const N=yx(k),O=typeof k.relationship=="string"?k.relationship.trim():"",P=O||" ",C=Xb(k),D=O&&C===" "?O:C;return b.jsx(ff,{draggableId:md(k),index:T,isDragDisabled:!x,children:$=>b.jsx("li",{ref:$.innerRef,...$.draggableProps,...$.dragHandleProps,className:"flex items-center justify-between gap-2 px-3 py-2 rounded border border-neutral-200 dark:border-neutral-800 bg-white dark:bg-neutral-900",children:b.jsxs("button",{onClick:()=>n(k),className:"flex-1 text-left cursor-pointer",children:[b.jsxs("div",{className:"flex items-center gap-2 text-sm text-neutral-900 dark:text-neutral-100",children:[b.jsx("span",{children:D}),b.jsx("span",{className:`text-[10px] px-1.5 py-0.5 rounded border border-neutral-300 dark:border-neutral-700 ${O?"text-neutral-600 dark:text-neutral-300":"text-neutral-400 dark:text-neutral-500"}`,children:P})]}),b.jsx("div",{className:"text-neutral-500 dark:text-neutral-400 text-xs",children:hm(N)})]})})},md(k))}),_.placeholder]})})})]})]})}function US({label:e,gzHour:t,gzDay:n,gzMonth:r,gzYear:i,dayStem:a,cardSettings:o,sinsalBaseBranch:l,sinsalMode:u,sinsalBloom:f}){const h=_=>{const k=o.showSibiUnseong?jo(a,_):"",T=o.showSibiSinsal?No({baseBranch:l,targetBranch:_,era:JEe(u),gaehwa:!!f}):"";return{unseongText:k||void 0,shinsalText:T||void 0}},p=rn(t).charAt(1),g=rn(n).charAt(1),x=rn(r).charAt(1),S=rn(i).charAt(1);return b.jsxs("div",{className:"rounded-lg border bg-white dark:bg-neutral-900 border-neutral-200 dark:border-neutral-800 py-2 desk:p-2",children:[b.jsx("div",{className:"px-2 py-1 text-xs text-neutral-600 dark:text-neutral-300",children:e}),b.jsx("div",{className:"grid grid-cols-4 gap-1 text-neutral-900 dark:text-white",children:[["",rn(t),p],["",rn(n),g],["",rn(r),x],["",rn(i),S]].map(([_,k,T])=>{const{unseongText:N,shinsalText:O}=h(T);return b.jsx(xd,{label:_,gz:k,dayStem:a,settings:Tn.getState().settings,unseongText:N,shinsalText:O,hideBranchSipSin:!0,size:"sm"},`${e}-${_}`)})})]})}function pd({label:e,data:t,mode:n,effectiveDate:r,onPick:i}){const a=Tn(D=>D.settings),o=w.useMemo(()=>t?yx(t):null,[t]),l="/",u=rn(o?Fa(o,l):void 0),f=rn(o?gt(o,l):void 0),h=rn(o?Et(o):void 0),p=rn(o?at(o):void 0),g=w.useMemo(()=>f.charAt(0)||"",[f]),x=o,S=w.useMemo(()=>{const D=t?.birthPlace;return!D||D.name===""||!D.lon?127.5:D.lon},[t]),_=t?.mingSikType??l,k=w.useMemo(()=>{const D=x?gt(x,_).charAt(1):f.charAt(1)||"",$=x?at(x,S).charAt(1):p.charAt(1)||"";return(a.sinsalBase??"")===""?D:$},[a.sinsalBase,x,_,S,f,p]),T=w.useMemo(()=>{if(n!==""||!o||!t)return null;try{const D=A4(o,u,t.dir,120,t.mingSikType),$=O4(D,f,t.dir,t.DayChangeRule),H=sp(o,h,t.dir,120,t?.birthPlace?.lon??127.5),q=j4(H,p,t.dir,t.DayChangeRule,o),K=r;return{si:rn(ry(D.events,K)?.gz,u),il:rn(ry($.events,K)?.gz,f),wl:rn(ry(H.events,K)?.gz,h),yn:rn(ry(q.events,K)?.gz,p)}}catch{return null}},[n,o,u,f,h,p,r,t]),N=w.useMemo(()=>{if(n!=="")return null;const D=r;return{si:rn(Fa(D,l)),il:rn(gt(D,l)),wl:rn(Et(D)),yn:rn(at(D))}},[n,r]),O=t?Xb(t):"",P=o?hm(o):"",C=t?QEe(t):"";return t?b.jsxs("div",{className:"space-y-2",children:[b.jsx("button",{onClick:i,className:"px-3 py-1 rounded text-xs bg-neutral-900 dark:bg-white text-white dark:text-neutral-900 border border-neutral-900 dark:border-white hover:opacity-90 cursor-pointer",title:"  ",children:" "}),b.jsxs("div",{className:"text-[11px] text-neutral-600 dark:text-neutral-300",children:[b.jsx("span",{className:"font-semibold text-neutral-900 dark:text-neutral-200",children:e}),b.jsx("span",{className:"ml-2 text-neutral-900 dark:text-neutral-50",children:O}),C&&b.jsxs("span",{className:"ml-1 text-neutral-500 dark:text-neutral-400",children:[" ",C]}),P&&b.jsx("span",{className:"block desk:inline-block mt-1 text-neutral-500 dark:text-neutral-400 text-[10px]",children:P})]}),n===""&&b.jsx(US,{label:"",gzHour:u,gzDay:f,gzMonth:h,gzYear:p,dayStem:g,cardSettings:a,sinsalBaseBranch:k,sinsalMode:a.sinsalMode,sinsalBloom:!!a.sinsalBloom}),n===""&&T&&b.jsx(US,{label:"",gzHour:T.si,gzDay:T.il,gzMonth:T.wl,gzYear:T.yn,dayStem:g,cardSettings:a,sinsalBaseBranch:k,sinsalMode:a.sinsalMode,sinsalBloom:!!a.sinsalBloom}),n===""&&N&&b.jsx(US,{label:"",gzHour:N.si,gzDay:N.il,gzMonth:N.wl,gzYear:N.yn,dayStem:g,cardSettings:a,sinsalBaseBranch:k,sinsalMode:a.sinsalMode,sinsalBloom:!!a.sinsalBloom})]}):b.jsx("div",{className:"flex items-center justify-center h-48 rounded-lg border border-dashed bg-white dark:bg-neutral-900 border-neutral-300 dark:border-neutral-700",children:b.jsx("button",{onClick:i,className:"px-3 py-2 rounded bg-neutral-900 dark:bg-white text-white dark:text-neutral-900 text-sm hover:opacity-90 cursor-pointer",children:" "})})}function t2e({people:e=[]}){const[t,n]=w.useState(),[r,i]=w.useState(),[a,o]=w.useState(!1),[l,u]=w.useState(!1),f=w.useRef(new Date),[h,p]=w.useState(()=>WEe(f.current)),g=w.useRef(x3(h)??f.current),x=w.useMemo(()=>{const P=x3(h);return P&&(g.current=P),g.current},[h]),[S,_]=w.useState(!1),[k,T]=w.useState(!1);function N(P){if(!P)return["","","",""];try{const C=yx(P),D="/",$={hour:rn(Fa(C,D)),day:rn(gt(C,D)),month:rn(Et(C)),year:rn(at(C))};return[$.year,$.month,$.day,$.hour]}catch{return["","","",""]}}const O=on(P=>P.canUseMyoViewerNow());return b.jsxs(b.Fragment,{children:[b.jsxs("div",{className:"w-[96%] max-w-[640px] mx-auto bg-white dark:bg-neutral-950 text-neutral-900 dark:text-neutral-100 rounded-xl shadow border border-neutral-200 dark:border-neutral-800 px-2 py-4 desk:p-4",children:[b.jsxs("header",{className:"flex gap-3 justify-between items-center mb-4",children:[b.jsx("div",{className:"font-semibold text-sm text-neutral-900 dark:text-neutral-200",children:" "}),b.jsxs("div",{className:"flex items-center gap-4 text-xs text-neutral-600 dark:text-neutral-400",children:[O?b.jsxs("label",{className:"flex items-center gap-1 cursor-pointer",children:[b.jsx("input",{type:"checkbox",checked:a,onChange:P=>o(P.target.checked),className:"accent-indigo-500"})," "]}):null,b.jsx("button",{onClick:()=>u(P=>!P),className:"px-2 py-1 rounded border border-neutral-300 dark:border-neutral-700 hover:border-indigo-500 text-neutral-700 dark:text-neutral-300 bg-white dark:bg-neutral-900 cursor-pointer",children:l?" ":" "})]})]}),b.jsxs("div",{className:"grid grid-cols-2 gap-2 desk:gap-4",children:[b.jsx(pd,{label:" A",data:t,mode:"",effectiveDate:x,onPick:()=>_(!0)}),b.jsx(pd,{label:" B",data:r,mode:"",effectiveDate:x,onPick:()=>T(!0)}),a&&t&&b.jsx(pd,{label:" A",data:t,mode:"",effectiveDate:x,onPick:()=>_(!0)}),a&&r&&b.jsx(pd,{label:" B",data:r,mode:"",effectiveDate:x,onPick:()=>T(!0)}),l&&t&&b.jsx(pd,{label:" A",data:t,mode:"",effectiveDate:x,onPick:()=>_(!0)}),l&&r&&b.jsx(pd,{label:" B",data:r,mode:"",effectiveDate:x,onPick:()=>T(!0)})]}),t&&r&&b.jsx("div",{className:"mt-4",children:b.jsx(zEe,{pillarsA:N(t),pillarsB:N(r)})}),b.jsxs("div",{className:"mt-4 max-w-[260px] mx-auto text-center",children:[b.jsx("label",{className:"min-w-0 block text-xs text-neutral-600 dark:text-neutral-400 mb-2",children:" /"}),b.jsx("input",{type:"datetime-local",value:h,onChange:P=>p(P.target.value),className:"min-w-0 bg-white dark:bg-neutral-900 border border-neutral-300 dark:border-neutral-700 rounded px-3 py-1 text-xs w-[260px] max-w-[260px] box-border overflow-x-hidden text-neutral-900 dark:text-neutral-100 h-30",min:"1900-01-01T00:00",max:"2100-12-31T23:59"})]})]}),b.jsx(_3,{open:S,list:e||[],onSelect:P=>{n(P),_(!1)},onClose:()=>_(!1)}),b.jsx(_3,{open:k,list:e||[],onSelect:P=>{i(P),T(!1)},onClose:()=>T(!1)})]})}function n2e(){const[e,t]=w.useState(!1),[n,r]=w.useState(!1),i=async()=>{try{const{data:{user:a}}=await Me.auth.getUser();if(!a){alert("  .");return}const o=a.id,l=new Date().toISOString();await Me.from("profiles").update({disabled_at:l}).eq("id",o),await Me.from("myeongsik").update({deleted_at:l}).eq("user_id",o),await Me.auth.signOut(),alert(" .   ."),window.location.href="/"}catch(a){console.error(a),alert("    .")}};return b.jsxs(b.Fragment,{children:[b.jsxs("footer",{className:"py-8 pb-[calc(64px+env(safe-area-inset-bottom,0px)+var(--bottom-dock,0px))] px-4 border-t border-neutral-200 dark:border-neutral-700",children:[b.jsx("div",{className:"text-center text-[12px] text-orange-600 dark:text-orange-300",children:"Copyright  2025 Hwarim96. All rights reserved."}),b.jsxs("div",{className:"flex justify-center items-center gap-4 mt-3",children:[b.jsx("button",{onClick:()=>t(!0),className:"text-[12px] text-neutral-500 dark:text-neutral-300 underline cursor-pointer hover:text-orange-500 transition",children:" "}),b.jsx("button",{onClick:()=>r(!0),className:"text-[12px] text-red-500 underline hover:text-red-400 transition cursor-pointer",children:""})]})]}),e&&b.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50",onClick:()=>t(!1),children:b.jsxs("div",{className:"w-full max-w-lg bg-white dark:bg-neutral-900 text-neutral-900 dark:text-neutral-200 p-6 rounded-xl shadow-xl relative animate-fadeInUp",onClick:a=>a.stopPropagation(),children:[b.jsx("h2",{className:"text-lg font-bold mb-4",children:" "}),b.jsxs("div",{className:"text-sm leading-relaxed max-h-[60vh] overflow-y-auto pr-2",children:[b.jsx("p",{className:"mb-2",children:"     ,    ."}),b.jsx("p",{className:"font-semibold mt-4 mb-1",children:"1.  "}),b.jsxs("p",{className:"mb-2",children:["   (, )",b.jsx("br",{}),"       ( ,  )"]}),b.jsx("p",{className:"font-semibold mt-4 mb-1",children:"2.  "}),b.jsxs("p",{className:"mb-2",children:["     ",b.jsx("br",{}),"    /  ",b.jsx("br",{}),"      "]}),b.jsx("p",{className:"font-semibold mt-4 mb-1",children:"3.  "}),b.jsxs("p",{className:"mb-2",children:["     ",b.jsx("br",{}),"         "]}),b.jsx("p",{className:"font-semibold mt-4 mb-1",children:"4. 3 "}),b.jsx("p",{className:"mb-2",children:"   3  ."}),b.jsx("p",{className:"font-semibold mt-4 mb-1",children:"5. "}),b.jsx("p",{className:"mb-2",children:" Supabase /DB    ."}),b.jsx("p",{className:"font-semibold mt-4 mb-1",children:"6. "}),b.jsx("p",{children:"   : unique950318@gmail.com"})]}),b.jsx("button",{onClick:()=>t(!1),className:"cursor-pointer mt-4 w-full py-2 bg-neutral-900 dark:bg-neutral-700 text-white rounded-lg hover:bg-neutral-800 transition",children:""})]})}),n&&b.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50",onClick:()=>r(!1),children:b.jsxs("div",{className:"w-full max-w-sm bg-white dark:bg-neutral-900 text-neutral-900 dark:text-neutral-200 p-6 rounded-xl shadow-xl relative animate-fadeInUp",onClick:a=>a.stopPropagation(),children:[b.jsx("h2",{className:"text-lg font-bold mb-4 text-red-500",children:" ?"}),b.jsxs("p",{className:"text-sm leading-relaxed mb-6",children:["        .",b.jsx("br",{}),"    ."]}),b.jsxs("div",{className:"flex gap-3",children:[b.jsx("button",{onClick:()=>r(!1),className:"cursor-pointer flex-1 py-2 bg-neutral-300 dark:bg-neutral-700 text-black dark:text-white rounded-lg hover:bg-neutral-400 transition",children:""}),b.jsx("button",{onClick:i,className:"cursor-pointer flex-1 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition",children:""})]})]})})]})}function r2e(e){const t=e.getFullYear(),n=String(e.getMonth()+1).padStart(2,"0"),r=String(e.getDate()).padStart(2,"0");return`${t}-${n}-${r}`}function w3(e){if(!/^\d{4}-\d{2}-\d{2}$/.test(e))return null;const[t,n,r]=e.split("-"),i=Number(t),a=Number(n),o=Number(r);return!Number.isFinite(i)||!Number.isFinite(a)||!Number.isFinite(o)||a<1||a>12||o<1||o>31?null:{y:i,m:a,d:o}}function EU({date:e,onChange:t,min:n="1900-01-01",max:r="2100-12-31"}){const i=w.useMemo(()=>e instanceof Date&&!Number.isNaN(e.getTime())?e:new Date,[e]),a=w.useMemo(()=>r2e(i),[i]),[o,l]=w.useState(a);w.useEffect(()=>{l(a)},[a]);const u=w.useRef(null),f=g=>{l(g);const x=w3(g);if(!x)return;const{y:S,m:_,d:k}=x,T=new Date(S,_,0).getDate(),N=Math.min(k,T),O=i.getHours(),P=i.getMinutes(),C=i.getSeconds(),D=i.getMilliseconds(),$=new Date(S,_-1,N,O,P,C,D);Number.isNaN($.getTime())||t($)},h=g=>{if(!g)return;l(g);const x=w3(g);if(!x)return;const{y:S,m:_,d:k}=x,T=i.getHours(),N=i.getMinutes(),O=i.getSeconds(),P=i.getMilliseconds(),C=new Date(S,_-1,k,T,N,O,P);Number.isNaN(C.getTime())||t(C)},p=()=>{const g=u.current;if(g){if(typeof g.showPicker=="function"){g.showPicker();return}g.focus(),g.click()}};return b.jsxs("div",{className:"flex items-center gap-2",children:[b.jsx("input",{type:"text",inputMode:"numeric",placeholder:"YYYY-MM-DD",value:o,onChange:g=>f(g.target.value),className:"w-[140px] h-30 rounded-md border border-neutral-300 dark:border-neutral-700 bg-transparent px-2 py-1 text-base desk:text-sm","aria-label":"()"}),b.jsx("button",{type:"button",onClick:p,className:"rounded-md border border-neutral-300 dark:border-neutral-700 bg-transparent px-2 py-1 text-sm text-neutral-600 dark:text-neutral-300 hover:bg-neutral-100 dark:hover:bg-neutral-900","aria-label":" ",title:"",children:""}),b.jsx("input",{ref:u,type:"date",value:o,onChange:g=>h(g.target.value),min:n,max:r,className:"sr-only","aria-hidden":"true",tabIndex:-1})]})}function i2e({ms:e}){const{date:t,setDate:n}=di(),r=w.useMemo(()=>{const u=typeof e.id=="string"?e.id:"";if(u)return u;const f=typeof e.birthDay=="string"||typeof e.birthDay=="number"?String(e.birthDay):"",h=typeof e.birthTime=="string"?e.birthTime:"";return[typeof e.ganji=="string"?e.ganji:"",f,h].filter(Boolean).join("|")},[e]);w.useEffect(()=>{n(new Date)},[r]);const i=V2(e),a=t instanceof Date&&!Number.isNaN(t.getTime())?t:new Date,o=w.useMemo(()=>{const u=typeof e.ganji=="string"?e.ganji:"",f=i?.dae?.gz?`${i.dae.gz}`:null,h=i?.se?.gz?`${i.se.gz}`:null,p=i?.wol?.gz?`${i.wol.gz}`:null,g=[f,h,p].filter(Boolean).join(" ");return[u,g].filter(Boolean).join(" + ")},[e.ganji,i]),l=u=>{n(u)};return b.jsxs("div",{className:"max-w-[640px] mx-auto mb-4 rounded-xl border border-neutral-200 dark:border-neutral-800 bg-white dark:bg-neutral-950 p-3 space-y-3",children:[o&&b.jsx("div",{className:"text-center text-sm font-medium text-neutral-800 dark:text-neutral-200",children:o}),b.jsx("div",{className:"grid grid-cols-1 gap-3",children:b.jsxs("label",{className:"w-full flex justify-center items-center",children:[b.jsx("span",{className:"text-sm text-neutral-500 mr-4",children:""}),b.jsx(EU,{date:a,onChange:l,min:"1900-01-01",max:"2100-12-31"})]})})]})}function a2e({useWoldu:e,useSiju:t,hourRule:n,gender:r,onToggleWoldu:i,onToggleSiju:a,onChangeHourRule:o,onChangeGender:l}){return b.jsxs("div",{className:"flex flex-wrap items-center gap-6 mb-4",children:[b.jsxs("div",{children:[b.jsx("p",{className:"font-medium mb-2",children:"/"}),b.jsxs("span",{className:"mr-3 chkContainer",children:[b.jsx("input",{type:"checkbox",id:"useWoldu",checked:e,onChange:u=>i(u.target.checked)}),b.jsx("label",{htmlFor:"useWoldu",className:"ml-1",children:" "})]}),b.jsxs("span",{className:"chkContainer",children:[b.jsx("input",{type:"checkbox",id:"useSidu",checked:t,onChange:u=>a(u.target.checked)}),b.jsx("label",{htmlFor:"useSidu",className:"ml-1",children:" "})]})]}),b.jsxs("div",{children:[b.jsx("p",{className:"font-medium mb-2",children:" "}),b.jsxs("span",{className:"mr-3 chkContainer",children:[b.jsx("input",{type:"radio",id:"jasi",checked:n==="",onChange:()=>o("")}),b.jsx("label",{htmlFor:"jasi",className:"ml-1",children:""})]}),b.jsxs("span",{className:"chkContainer",children:[b.jsx("input",{type:"radio",id:"insi",checked:n==="",onChange:()=>o("")}),b.jsx("label",{htmlFor:"insi",className:"ml-1",children:""})]})]}),b.jsxs("div",{children:[b.jsx("p",{className:"font-medium mb-2",children:""}),b.jsxs("span",{className:"mr-3 chkContainer",children:[b.jsx("input",{type:"radio",id:"male",checked:r==="male",onChange:()=>l("male")}),b.jsx("label",{htmlFor:"male",className:"ml-1",children:""})]}),b.jsxs("span",{className:"chkContainer",children:[b.jsx("input",{type:"radio",id:"female",checked:r==="female",onChange:()=>l("female")}),b.jsx("label",{htmlFor:"female",className:"ml-1",children:""})]})]})]})}function o2e({pillars:e,active:t,canEnterOthers:n,onActivate:r}){return b.jsx("div",{className:"grid grid-cols-4 gap-2 mb-4",children:[["hourStem",""],["dayStem",""],["monthStem",""],["yearStem",""],["hourBranch",""],["dayBranch",""],["monthBranch",""],["yearBranch",""]].map(([i,a])=>{const o=!n&&!(i==="yearStem"||i==="yearBranch"||i==="dayStem"||i==="dayBranch"),l=t===i;return b.jsxs("button",{onClick:()=>!o&&r(i),disabled:o,className:["border rounded p-2 text-center cursor-pointer",l?"border-purple-500 bg-purple-100 dark:bg-purple-900/30":"border-neutral-300 dark:border-neutral-700",o?"opacity-50 cursor-not-allowed":""].join(" "),children:[a,b.jsx("br",{}),b.jsx("span",{className:"font-bold",children:e[i]??"-"})]},i)})})}function s2e({results:e,selectedRow:t,onSelectRow:n,gender:r}){return e?e.length===0?b.jsx("div",{className:"p-4 text-neutral-500",children:"  ."}):b.jsxs("table",{className:"w-full text-xs",children:[b.jsx("thead",{className:"sticky top-0 bg-neutral-50 dark:bg-neutral-800",children:b.jsxs("tr",{children:[b.jsx("th",{className:"p-1 text-center",children:""}),b.jsx("th",{className:"p-1 text-center",children:""}),b.jsx("th",{className:"p-1 text-center",children:""}),b.jsx("th",{className:"p-1 text-center",children:""}),b.jsx("th",{className:"p-1 text-center",children:""}),b.jsx("th",{className:"p-1 text-center",children:""}),b.jsx("th",{className:"p-1 text-center",children:""})]})}),b.jsx("tbody",{children:e.map((i,a)=>b.jsxs("tr",{className:"border-t border-neutral-200 dark:border-neutral-800",children:[b.jsx("td",{className:"p-1 text-center",children:b.jsxs("span",{className:"chkContainer",children:[b.jsx("input",{type:"radio",name:"selectRow",id:`selectRow-${a}`,checked:t===a,onChange:()=>n(a)}),b.jsx("label",{htmlFor:`selectRow-${a}`,children:"ON"})]})}),b.jsx("td",{className:"p-1 text-center",children:i.date}),b.jsx("td",{className:"p-1 text-center",children:i.year}),b.jsx("td",{className:"p-1 text-center",children:i.month}),b.jsx("td",{className:"p-1 text-center",children:i.day}),b.jsx("td",{className:"p-1 text-center",children:b.jsx("div",{className:"flex flex-wrap gap-1",children:i.hourSlots.map((o,l)=>b.jsx("span",{className:"inline-flex items-center mx-auto gap-1 px-1 py-0.5 rounded bg-neutral-100 dark:bg-neutral-800 border border-neutral-200 dark:border-neutral-700",children:b.jsx("b",{children:o.branch})},l))})}),b.jsx("td",{className:"p-1 text-center",children:r==="male"?"":""})]},`${i.date}-${a}`))})]}):b.jsx("div",{className:"p-2 text-neutral-500 text-sm text-center",children:"    ."})}function l2e({toast:e,showToast4:t,searchToast:n,error:r}){return b.jsxs(b.Fragment,{children:[e&&b.jsx("div",{className:"pointer-events-none fixed left-1/2 -translate-x-1/2 top-6 z-[1100] border border-white/30",children:b.jsx("div",{className:"px-4 py-2 rounded-md bg-black/80 text-white text-sm shadow-lg",children:e})}),t&&b.jsx("div",{className:"fixed inset-0 flex items-center justify-center z-[2000]",children:b.jsx("div",{className:"bg-black text-white px-4 py-2 rounded-lg shadow-lg",children:" 4  ."})}),n&&b.jsx("div",{className:"fixed inset-0 flex items-center justify-center z-[2000]",children:b.jsxs("div",{className:"bg-black text-white px-4 py-2 rounded-lg shadow-lg text-center",children:["  .",b.jsx("br",{}),"   ."]})}),r&&b.jsx("div",{className:"mt-3 text-xs text-red-600 text-center",children:r})]})}function c2e({choices:e,onChoose:t}){return!e||e.length===0?null:b.jsxs("div",{className:"mb-3",children:[b.jsx("p",{className:"text-sm mb-1",children:"  ."}),b.jsx("div",{className:"flex gap-2",children:e.map(n=>b.jsx("button",{onClick:()=>t(n),className:"flex-1 px-2 py-1 border rounded hover:bg-orange-100 dark:hover:bg-orange-800 cursor-pointer",children:n},n))})]})}const KT=["","","","","","","","","",""],Np=["","","","","","","","","","","",""],u2e={:0,:1,:2,:3,:4,:5,:6,:7,:8,:9},AU=["","","","","","","","","","","",""],d2e=Np,f2e=AU,h2e=["23:00~0:59","01:00~2:59","03:00~4:59","05:00~6:59","07:00~8:59","09:00~10:59","11:00~12:59","13:00~14:59","15:00~16:59","17:00~18:59","19:00~20:59","21:00~22:59"],m2e={:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},p2e={:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""};function Ym(e,t){let n;e===""||e===""?n="":e===""||e===""?n="":e===""||e===""?n="":e===""||e===""?n="":n="";const r=u2e[n],i=AU.indexOf(t),a=(r+(i>=0?i:0))%10;return KT[a]}function bx(e,t){const n=t===""?d2e:f2e,r=e===""||e===""?0:e===""||e===""?2:e===""||e===""?4:e===""||e===""?6:8,i=Np.reduce((a,o)=>(a[o]="",a),{});for(let a=0;a<12;a++){const o=KT[(r+a)%10],l=n[a];i[l]=`${o}${l}`}return i}const g2e={:{hh:0,mi:0},:{hh:2,mi:0},:{hh:4,mi:0},:{hh:6,mi:0},:{hh:8,mi:0},:{hh:10,mi:0},:{hh:12,mi:0},:{hh:14,mi:0},:{hh:16,mi:0},:{hh:18,mi:0},:{hh:20,mi:0},:{hh:22,mi:0}};function y2e(e){return e==="yearStem"?"yearBranch":e==="yearBranch"?"yearStem":e==="monthStem"?"monthBranch":e==="monthBranch"?"monthStem":e==="dayStem"?"dayBranch":e==="dayBranch"?"dayStem":e==="hourStem"?"hourBranch":"hourStem"}function b2e({active:e,pillars:t,activeIsStem:n,activeIsBranch:r,onSelect:i,settingsObj:a}){return e?b.jsxs("div",{className:"w-full",children:[n&&b.jsxs("div",{children:[b.jsx("p",{className:"font-medium mb-2",children:""}),b.jsx("div",{className:"grid grid-cols-5 gap-2",children:KT.map(o=>b.jsx("button",{onClick:()=>i(o),className:`border rounded px-2 py-1 cursor-pointer ${Ui(o,"stem",a)}`,children:o},o))})]}),r&&b.jsxs("div",{children:[b.jsx("p",{className:"font-medium mb-2",children:""}),b.jsx("div",{className:"grid grid-cols-6 gap-2",children:Np.filter(o=>{const l=y2e(e),u=t[l];return u?p2e[o]===m2e[u]:!0}).map(o=>b.jsx("button",{onClick:()=>i(o),className:`border rounded px-2 py-1 cursor-pointer ${Ui(o,"branch",a)}`,children:o},o))})]})]}):b.jsx("div",{className:"text-sm text-neutral-500 p-2 border rounded w-full text-center",children:"   ."})}function v2e(){const[e,t]=w.useState({}),[n,r]=w.useState(null),[i,a]=w.useState(null),[o,l]=w.useState(!0),[u,f]=w.useState(!0),[h,p]=w.useState(""),[g,x]=w.useState("male"),[S,_]=w.useState(null),[k,T]=w.useState(!1),[N,O]=w.useState(null),[P,C]=w.useState({gender:"",mingSikType:"/",DayChangeRule:"",calendarType:"solar"}),[D,$]=w.useState(!1),[H,q]=w.useState(null),[K,U]=w.useState(null),[z,V]=w.useState(!1),[J,Q]=w.useState(!1),Y=Z=>{U(Z),setTimeout(()=>U(null),1800)};return w.useEffect(()=>{if(!z)return;const Z=setTimeout(()=>V(!1),2e3);return()=>clearTimeout(Z)},[z]),w.useEffect(()=>{if(!J)return;const Z=setTimeout(()=>Q(!1),2e3);return()=>clearTimeout(Z)},[J]),{pillars:e,setPillars:t,active:n,setActive:r,monthBranchChoices:i,setMonthBranchChoices:a,useWoldu:o,setUseWoldu:l,useSiju:u,setUseSiju:f,hourRule:h,setHourRule:p,gender:g,setGender:x,results:S,setResults:_,searching:k,setSearching:T,selectedRow:N,setSelectedRow:O,form:P,setForm:C,unknownPlace:D,setUnknownPlace:$,error:H,setError:q,toast:K,showToast4:z,setShowToast:V,searchToast:J,setSearchToast:Q,showToast:Y}}function TU(e){return!!(e.yearStem&&e.yearBranch&&e.monthStem&&e.monthBranch&&e.dayStem&&e.dayBranch&&e.hourStem&&e.hourBranch)}function S3(e,t){return Np.filter(n=>Ym(e,n)===t)}function k3(e,t,n){if(!n||!e.yearStem)return{next:e,monthBranchChoices:null};const r={...e};if(!r.yearStem)return{next:r,monthBranchChoices:null};if(t==="monthStem"&&r.monthStem){const i=S3(r.yearStem,r.monthStem);return i.length>=2?{next:r,monthBranchChoices:i.slice(0,2)}:(i.length===1&&(r.monthBranch=i[0]),{next:r,monthBranchChoices:null})}if(t==="monthBranch"&&r.monthBranch)return r.monthStem=Ym(r.yearStem,r.monthBranch),{next:r,monthBranchChoices:null};if(t==="yearStem")if(r.monthStem&&!r.monthBranch){const i=S3(r.yearStem,r.monthStem);if(i.length>=2)return{next:r,monthBranchChoices:i.slice(0,2)};i.length===1&&(r.monthBranch=i[0])}else r.monthBranch&&!r.monthStem&&(r.monthStem=Ym(r.yearStem,r.monthBranch));return{next:r,monthBranchChoices:null}}function x2e(e,t,n,r){if(!n||!e.dayStem)return e;const i={...e};if(!i.dayStem)return i;const a=bx(i.dayStem,r),o=u=>Object.entries(a).find(([,f])=>f.startsWith(u)),l=u=>a[u];if(t==="hourStem"&&i.hourStem){const u=o(i.hourStem);return u&&(i.hourBranch=u[0]),i}if(t==="hourBranch"&&i.hourBranch){const u=l(i.hourBranch);return u&&(i.hourStem=u.slice(0,1)),i}if(t==="dayStem"){if(i.hourStem&&!i.hourBranch){const u=o(i.hourStem);u&&(i.hourBranch=u[0])}else if(i.hourBranch&&!i.hourStem){const u=l(i.hourBranch);u&&(i.hourStem=u.slice(0,1))}}return i}function _2e(e,t){return!t||!e.yearStem?!1:e.monthBranch&&e.monthStem?Ym(e.yearStem,e.monthBranch)!==e.monthStem:!1}function w2e(e,t,n){if(!t||!e.dayStem)return!1;if(e.hourBranch&&e.hourStem){const i=bx(e.dayStem,n)[e.hourBranch];return i?i.slice(0,1)!==e.hourStem:!1}return!1}function FS(e,t,n){const i=bx(e,t)[n];return i?i.slice(0,1):null}function S2e({pillars:e,setPillars:t,active:n,setActive:r,monthBranchChoices:i,setMonthBranchChoices:a,useWoldu:o,setUseWoldu:l,useSiju:u,setUseSiju:f,hourRule:h,setHourRule:p,setResults:g,setError:x,showToast:S}){const _=o||u,k=!!(e.yearStem&&e.yearBranch),T=!!(e.dayStem&&e.dayBranch),N=!_||k||T,O=!!n&&n.endsWith("Stem"),P=!!n&&n.endsWith("Branch"),C=w.useMemo(()=>TU(e),[e]);return w.useEffect(()=>{if(!(!u||!e.dayStem||!e.hourBranch)&&(e.hourBranch===""||e.hourBranch==="")){const z=FS(e.dayStem,h,e.hourBranch);z&&t(V=>({...V,hourStem:z}))}},[h,u,e.dayStem,e.hourBranch,t]),{needStartFromYearOrDay:_,canEnterOthers:N,activeIsStem:O,activeIsBranch:P,filledAll:C,monthBranchChoices:i,handleSelect:z=>{if(!n)return;if(!N&&!(n==="yearStem"||n==="yearBranch"||n==="dayStem"||n==="dayBranch")){x("/      ."),setTimeout(()=>x(null),1500);return}let J={...e,[n]:z};if(n==="yearStem"||n==="monthStem"||n==="monthBranch"){const Z=k3(J,n,o);J=Z.next,a(Z.monthBranchChoices)}(n==="dayStem"||n==="hourStem"||n==="hourBranch")&&(J=x2e(J,n,u,h));let Q=!1;_2e(J,o)&&(l(!1),Q=!0),w2e(J,u,h)&&(f(!1),Q=!0),Q&&S("/  .  ."),t(J),g(null),r(n==="yearStem"?"yearBranch":n==="yearBranch"?"yearStem":n==="monthStem"?"monthBranch":n==="monthBranch"?"monthStem":n==="dayStem"?"dayBranch":n==="dayBranch"?"dayStem":n==="hourStem"?"hourBranch":"hourStem"),setTimeout(()=>{const Z={...J};if(Z.yearStem&&Z.yearBranch&&!Z.monthStem){r("monthStem");return}if(Z.monthStem&&Z.monthBranch&&!Z.dayStem){r("dayStem");return}if(Z.dayStem&&Z.dayBranch&&!Z.hourStem){r("hourStem");return}},0)},handleMonthBranchChoice:z=>{let V={...e,monthBranch:z};a(null),V=k3(V,"monthBranch",o).next,t(V),r("dayStem")},clearAll:()=>{t({}),g(null),x(null),r(null),a(null)},onToggleWoldu:z=>{g(null),z&&t(V=>{const J={...V};return J.yearStem&&J.monthBranch&&(J.monthStem=Ym(J.yearStem,J.monthBranch)),J}),l(z)},onToggleSiju:z=>{g(null),z&&t(V=>{const J={...V};if(J.dayStem&&J.hourBranch){const Q=FS(J.dayStem,h,J.hourBranch);Q&&(J.hourStem=Q)}return J}),f(z)},onChangeHourRule:z=>{if(g(null),p(z),u&&e.dayStem&&e.hourBranch&&(e.hourBranch===""||e.hourBranch==="")){const V=FS(e.dayStem,z,e.hourBranch);V&&t(J=>({...J,hourStem:V}))}}}}function k2e(e){const{selectedRow:t,results:n,gender:r,hourRule:i,form:a,unknownPlace:o}=e,l=t!==null?n?.filter((K,U)=>U===t)??[]:[];if(l.length===0)return{error:"  ."};const u=l[0],f=i===""?"/":"",[h,p,g]=u.date.split("-").map(Number);let x=0,S=0;if(u.hourSlots.length>0){const K=u.hourSlots[0].branch,U=g2e[K];U&&(x=U.hh,S=U.mi)}const _=new Date(h,p-1,g,x,S),k=_,T="",N=r==="male"?"":"",O=E2e(u.year.charAt(0),N),P=at(k,127.5),C=Et(k,127.5),D=gt(k,f),$=Fa(k,f),H=[`: ${P} ${C} ${D}`,$?`${$}`:null].filter(Boolean).join(" ");return{payload:{id:x4(),name:"",birthDay:`${h}${String(p).padStart(2,"0")}${String(g).padStart(2,"0")}`,birthTime:`${String(x).padStart(2,"0")}${String(S).padStart(2,"0")}`,gender:N,birthPlace:o?{name:"",lat:0,lon:127.5}:a.birthPlace??{name:"",lat:0,lon:127.5},relationship:a.relationship??"",memo:a.memo??"",folder:Xc(a.folder),mingSikType:a.mingSikType??"/",DayChangeRule:a.mingSikType===""?"":"",calendarType:a.calendarType??"solar",ganjiText:`: ${u.year} ${u.month} ${u.day} ${u.hour}`,ganji:H,dayStem:u.day.charAt(0),dateObj:_,corrected:k,correctedLocal:T,dir:O,favorite:!1}}}function E2e(e,t){const r=["","","","","","","","","",""].includes(e),i=t==="";return r?i?"forward":"backward":i?"backward":"forward"}function A2e(e){_r.getState().add(e)}function T2e(e,t,n,r=300){if(!e.yearStem||!e.yearBranch)return[];if(!e.monthStem||!e.monthBranch)return[];if(!e.dayStem||!e.dayBranch)return[];if(!e.hourStem||!e.hourBranch)return[];const i=`${e.yearStem}${e.yearBranch}`,a=`${e.monthStem}${e.monthBranch}`,o=`${e.dayStem}${e.dayBranch}`,l=`${e.hourStem}${e.hourBranch}`,u=[],f=new Date(1900,0,1,12,0,0),h=new Date(2100,11,31,12,0,0);for(let p=f.getTime();p<=h.getTime();p+=24*3600*1e3){const g=new Date(p),x=at(g);if(x!==i)continue;const S=Et(g);if(S!==a)continue;const _=gt(g,n);if(_!==o)continue;const k=bx(e.dayStem,t),T=[];for(let N=0;N<12;N++){const O=Np[N];k[O]===l&&T.push({branch:O,time:h2e[N]})}if(T.length!==0&&(u.push({date:`${g.getFullYear()}-${String(g.getMonth()+1).padStart(2,"0")}-${String(g.getDate()).padStart(2,"0")}`,year:x,month:S,day:_,hour:l,hourSlots:T}),u.length>=r))break}return u}function O2e({pillars:e,hourRule:t,results:n,selectedRow:r,gender:i,form:a,unknownPlace:o,setResults:l,setSearching:u,setError:f,setSearchToast:h,setForm:p,setUnknownPlace:g,showToast:x,onSave:S,onClose:_}){return{doSearch:()=>{if(l(null),f(null),!TU(e)){f(" 4  .");return}u(!0);try{const O=T2e(e,t,t===""?"/":"");O.length===0&&f("  . (: 1900~2100)"),l(O)}catch(N){N instanceof Error?f(N.message):f(String(N))}finally{u(!1)}},handleSave:()=>{const N=k2e({selectedRow:r,results:n,gender:i,hourRule:t,form:a,unknownPlace:o});if("error"in N){h(!0);return}of.flushSync(()=>{A2e(N.payload)}),S(N.payload),x(" !"),p({gender:"",mingSikType:"/",DayChangeRule:"",calendarType:"solar"}),g(!1),_()}}}function j2e({open:e,onClose:t,onSave:n}){const{settings:r}=Tn(),i=v2e(),a=S2e({pillars:i.pillars,setPillars:i.setPillars,active:i.active,setActive:i.setActive,monthBranchChoices:i.monthBranchChoices,setMonthBranchChoices:i.setMonthBranchChoices,useWoldu:i.useWoldu,setUseWoldu:i.setUseWoldu,useSiju:i.useSiju,setUseSiju:i.setUseSiju,hourRule:i.hourRule,setHourRule:i.setHourRule,setResults:i.setResults,setError:i.setError,showToast:i.showToast}),o=O2e({pillars:i.pillars,hourRule:i.hourRule,results:i.results,selectedRow:i.selectedRow,gender:i.gender,form:i.form,unknownPlace:i.unknownPlace,setResults:i.setResults,setSearching:i.setSearching,setError:i.setError,setSearchToast:i.setSearchToast,setForm:i.setForm,setUnknownPlace:i.setUnknownPlace,showToast:i.showToast,onSave:n,onClose:t});return e?b.jsx("div",{className:"fixed min-w-[320px] inset-0 z-[1000] flex items-center justify-center bg-black/50",children:b.jsxs("div",{className:"bg-white max-w-[360px] dark:bg-neutral-900 rounded-xl shadow-xl w-full max-w-5xl p-4 relative",children:[b.jsx("button",{onClick:t,className:"absolute top-3 right-3 text-neutral-500 hover:text-neutral-800 dark:hover:text-neutral-200 cursor-pointer","aria-label":"",children:b.jsx(cb,{size:20})}),b.jsx("h2",{className:"text-lg font-semibold mb-4",children:"  "}),b.jsx(a2e,{useWoldu:i.useWoldu,useSiju:i.useSiju,hourRule:i.hourRule,gender:i.gender,onToggleWoldu:a.onToggleWoldu,onToggleSiju:a.onToggleSiju,onChangeHourRule:a.onChangeHourRule,onChangeGender:i.setGender}),a.needStartFromYearOrDay&&!a.canEnterOthers&&b.jsxs("div",{className:"mb-3 text-sm text-orange-700 bg-orange-50 dark:text-orange-300 dark:bg-orange-900/30 rounded p-2 text-center",children:["/  . ",b.jsx("br",{}),b.jsx("b",{children:""}),"  ",b.jsx("b",{children:""})," ."]}),b.jsx(o2e,{pillars:i.pillars,active:i.active,canEnterOthers:a.canEnterOthers,onActivate:i.setActive}),b.jsx(c2e,{choices:i.monthBranchChoices,onChoose:a.handleMonthBranchChoice}),b.jsx("div",{className:"flex w-full flex-wrap gap-6 mb-4",children:b.jsx(b2e,{active:i.active,pillars:i.pillars,activeIsStem:a.activeIsStem,activeIsBranch:a.activeIsBranch,onSelect:a.handleSelect,settingsObj:r})}),b.jsxs("div",{className:"flex justify-between items-center gap-3 mb-4",children:[b.jsx("span",{children:b.jsx("button",{type:"button",onClick:()=>{if(!a.filledAll){i.setShowToast(!0);return}o.doSearch()},disabled:i.searching,className:"px-2 py-1 rounded-md bg-blue-600 text-white disabled:opacity-50 cursor-pointer",children:i.searching?"..":""})}),b.jsxs("span",{className:"flex items-center gap-2",children:[b.jsx("button",{type:"button",onClick:a.clearAll,className:"px-2 py-1 rounded-md bg-red-600 border border-neutral-300 dark:border-neutral-700 cursor-pointer",children:""}),b.jsx("button",{type:"button",onClick:o.handleSave,className:"px-2 py-1 rounded-md border bg-yellow-600 border-neutral-300 dark:border-neutral-700 cursor-pointer",children:""})]})]}),b.jsx("div",{className:"max-h-[40vh] overflow-auto rounded border border-neutral-200 dark:border-neutral-800",children:b.jsx(s2e,{results:i.results,selectedRow:i.selectedRow,onSelectRow:i.setSelectedRow,gender:i.gender})}),b.jsx(l2e,{toast:i.toast,showToast4:i.showToast4,searchToast:i.searchToast,error:i.error})]})}):null}function N2e({copiedInfo:e,copiedAll:t,canCopyInfo:n,canCopyAll:r,lockTitle:i,onCopyInfoOnly:a,onCopyAll:o}){const l=i?" ":"";return b.jsxs("div",{className:"flex flex-col desk:flex-row desk:items-center desk:justify-between gap-2",children:[b.jsx("div",{className:"text-sm font-semibold text-neutral-700 dark:text-neutral-200",children:"AI  "}),b.jsxs("div",{className:"flex gap-2 w-full desk:w-auto",children:[b.jsx("button",{type:"button",onClick:a,disabled:!n,title:n?void 0:i,className:["w-full desk:w-auto px-3 py-1 rounded-md text-xs whitespace-nowrap border",n?"cursor-pointer":"cursor-not-allowed opacity-50",e?"bg-green-600 text-white border-green-600":n?"bg-orange-600 text-white dark:bg-orange-600":"bg-orange-600/70 text-white border-orange-600/50"].join(" "),children:e?"":`  ${n?"":l}`}),b.jsx("button",{type:"button",onClick:o,disabled:!r,title:r?void 0:i,className:["w-full desk:w-auto px-3 py-1 rounded-md text-xs whitespace-nowrap",r?"cursor-pointer":"cursor-not-allowed opacity-50",t?"bg-green-600 text-white":"bg-neutral-900 text-white dark:bg-yellow-500 dark:text-black"].join(" "),children:t?"":`  ${r?"":l}`})]})]})}function C2e({sections:e,toggleSection:t}){return b.jsxs("div",{className:"mt-3 border-t pt-2",children:[b.jsx("div",{className:"text-[11px] font-semibold mb-2 text-neutral-700 dark:text-neutral-200",children:"   "}),b.jsxs("div",{className:"grid grid-cols-4 desk:grid-cols-8 gap-2 text-[11px] text-neutral-700 dark:text-neutral-200",children:[b.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[b.jsx("input",{type:"checkbox",checked:e.twelveUnseong,onChange:()=>t("twelveUnseong"),className:"w-3 h-3"}),""]}),b.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[b.jsx("input",{type:"checkbox",checked:e.twelveShinsal,onChange:()=>t("twelveShinsal"),className:"w-3 h-3"}),""]}),b.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[b.jsx("input",{type:"checkbox",checked:e.shinsal,onChange:()=>t("shinsal"),className:"w-3 h-3"})," "]}),b.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[b.jsx("input",{type:"checkbox",checked:e.nabeum,onChange:()=>t("nabeum"),className:"w-3 h-3"}),""]})]})]})}function M2e({tone:e,toneMeta:t,setTone:n,friendMode:r,setFriendMode:i,teacherMode:a,setTeacherMode:o}){return b.jsxs("div",{className:"w-full mt-2 p-2 border rounded-md bg-neutral-50 dark:bg-neutral-800",children:[b.jsx("div",{className:"text-xs font-semibold mb-1 text-neutral-700 dark:text-neutral-200",children:"  "}),b.jsx("div",{className:"flex gap-1.5 mb-2",children:Object.keys(t).map(l=>b.jsx("button",{type:"button",onClick:()=>n(l),className:`flex-1 p-1 text-[10px] rounded border cursor-pointer ${e===l?"bg-neutral-900 text-white dark:bg-yellow-500 dark:text-black":"bg-white dark:bg-neutral-700 text-neutral-700 dark:text-neutral-200"}`,children:t[l].label},l))}),b.jsx("div",{className:"text-[11px] whitespace-pre-line text-neutral-600 dark:text-neutral-300 leading-4",children:t[e].desc}),b.jsxs("div",{className:"mt-2 flex items-center gap-2",children:[b.jsxs("div",{className:"mr-1 flex items-center gap-2",children:[b.jsx("input",{type:"checkbox",id:"friendMode",checked:r,onChange:i,className:"w-3 h-3"}),b.jsx("label",{htmlFor:"friendMode",className:"text-[11px] text-neutral-700 dark:text-neutral-200 cursor-pointer",children:" "})]}),b.jsxs("div",{className:"flex items-center gap-2",children:[b.jsx("input",{type:"checkbox",id:"teacherMode",checked:a,onChange:o,className:"w-3 h-3"}),b.jsx("label",{htmlFor:"teacherMode",className:"text-[11px] text-neutral-700 dark:text-neutral-200 cursor-pointer",children:" (/)"})]})]})]})}function P2e({mainCategory:e,subCategory:t,mainCategoryMeta:n,currentSubList:r,onMainCategoryChange:i,onSubCategoryChange:a}){return b.jsxs("div",{className:"flex flex-wrap gap-2 items-center",children:[b.jsx("select",{value:e,onChange:o=>i(o.target.value),className:"px-2.5 h-30 h-8 text-[11px] rounded-md border bg-white dark:bg-neutral-800 text-neutral-700 dark:text-neutral-200 border-neutral-200 dark:border-neutral-700",children:Object.keys(n).map(o=>b.jsx("option",{value:o,children:n[o].label},o))}),r.length>0&&b.jsx("select",{value:t,onChange:o=>a(o.target.value),className:"px-2.5 h-30 h-8 text-[11px] rounded-md border bg-white dark:bg-neutral-800 text-neutral-700 dark:text-neutral-200 border-neutral-200 dark:border-neutral-700",children:r.map(o=>b.jsx("option",{value:o.key,children:o.label},o.key))})]})}function D2e({visible:e,relationMode:t,setRelationMode:n,partnerId:r,setPartnerId:i,partnerOptions:a}){return e?b.jsxs("div",{className:"flex flex-col gap-1.5 text-[11px] text-neutral-700 dark:text-neutral-200",children:[b.jsxs("div",{className:"flex items-center gap-2",children:[b.jsx("span",{className:"font-semibold",children:" "}),b.jsxs("div",{className:"inline-flex rounded-full border border-neutral-200 dark:border-neutral-700 overflow-hidden",children:[b.jsx("button",{type:"button",onClick:()=>n("solo"),className:`px-3 py-1 cursor-pointer ${t==="solo"?"bg-neutral-900 text-white dark:bg-yellow-500 dark:text-black":"bg-neutral-50 dark:bg-neutral-800 text-neutral-600 dark:text-neutral-300"}`,children:" "}),b.jsx("button",{type:"button",onClick:()=>n("couple"),className:`px-3 py-1 cursor-pointer ${t==="couple"?"bg-neutral-900 text-white dark:bg-yellow-500 dark:text-black":"bg-neutral-50 dark:bg-neutral-800 text-neutral-600 dark:text-neutral-300"}`,children:" "})]})]}),t==="couple"&&b.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[b.jsx("span",{className:"font-semibold",children:"  "}),b.jsxs("select",{value:r,onChange:o=>i(o.target.value),className:"min-w-[180px] h-30 px-2 py-1 border rounded bg-white dark:bg-neutral-800",children:[b.jsx("option",{value:"",children:" "}),a.map(o=>b.jsx("option",{value:o.id,children:o.label},o.id))]})]})]}):null}function R2e({isMultiMode:e,setIsMultiMode:t,canUseMultiMode:n}){const r=!n;return b.jsxs("div",{className:"flex gap-2",children:[b.jsx("button",{type:"button",onClick:()=>t(!1),className:`px-3 py-1.5 text-xs rounded-md border cursor-pointer ${e?"bg-neutral-100 dark:bg-neutral-800 text-neutral-600 dark:text-neutral-300":"bg-neutral-900 text-white dark:bg-yellow-500 dark:text-black"}`,children:" "}),b.jsxs("button",{type:"button",onClick:()=>t(!0),disabled:r,title:r?" .":" (  )",className:`px-3 py-1.5 text-xs rounded-md border transition-colors ${r?"bg-neutral-200 text-neutral-500 dark:bg-neutral-800 dark:text-neutral-400 cursor-not-allowed opacity-70":e?"bg-neutral-900 text-white dark:bg-yellow-500 dark:text-black cursor-pointer":"bg-neutral-100 dark:bg-neutral-800 text-neutral-600 dark:text-neutral-300 cursor-pointer"}`,children:[" (  ) ",r?"":""]})]})}function L2e({tabs:e,activeTab:t,setActiveTab:n,date:r,setDate:i,canUseLuckTabs:a}){return b.jsxs(b.Fragment,{children:[b.jsxs("div",{className:"flex desk:justify-between flex-col desk:flex-row gap-2",children:[b.jsx("div",{className:"flex gap-1 flex-wrap",children:e.map(o=>{const l=!a&&o!=="",u=!l&&t===o;return b.jsxs("button",{type:"button",onClick:()=>{l||n(o)},disabled:l,title:l?" .":o,className:["px-2 py-1 text-xs rounded-md border transition-colors",l?"bg-neutral-200 text-neutral-500 dark:bg-neutral-800 dark:text-neutral-400 cursor-not-allowed opacity-70":"cursor-pointer",u?"bg-neutral-900 text-white dark:bg-yellow-500 dark:text-black":l?"":"bg-neutral-100 dark:bg-neutral-800 text-neutral-600 dark:text-neutral-300"].join(" "),children:[o," ",l?"":""]},o)})}),b.jsx(EU,{date:r,onChange:i})]}),b.jsxs("div",{className:"text-[11px] text-neutral-500 dark:text-neutral-400",children:[b.jsx("p",{children:"      ."}),b.jsx("p",{children:"     ."}),b.jsx("p",{children:"      ."})]})]})}function I2e({multiTab:e,setMultiTab:t,daeList:n,selectedDaeIdx:r,onToggleDae:i,seStartYear:a,seEndYear:o,onSeStartChange:l,onSeEndChange:u,onSeStartBlur:f,onSeEndBlur:h,seYearsCount:p,wolStartDate:g,wolEndDate:x,onWolStartChange:S,onWolEndChange:_,onWolStartBlur:k,onWolEndBlur:T,wolMonthsCount:N,ilStartDate:O,ilEndDate:P,onIlStartChange:C,onIlEndChange:D,onIlStartBlur:$,onIlEndBlur:H,ilDaysCount:q}){return b.jsxs("div",{className:"space-y-3 p-3 bg-neutral-50 dark:bg-neutral-800 rounded-lg",children:[b.jsx("div",{className:"flex gap-1.5 border-b pb-2",children:["","","",""].map(K=>b.jsx("button",{type:"button",onClick:()=>t(K),className:`px-3 py-1.5 text-xs rounded-md cursor-pointer transition-colors ${e===K?"bg-blue-600 text-white font-semibold":"bg-white dark:bg-neutral-700 text-neutral-600 dark:text-neutral-300 hover:bg-neutral-100 dark:hover:bg-neutral-600"}`,children:K},K))}),e===""&&b.jsxs("div",{children:[b.jsx("div",{className:"text-xs font-semibold mb-2 text-neutral-700 dark:text-neutral-200",children:"  (  )"}),b.jsx("div",{className:"grid grid-cols-2 gap-1.5",children:n.map((K,U)=>b.jsxs("button",{type:"button",onClick:()=>i(U),className:`px-2 py-1.5 text-xs rounded border cursor-pointer text-left ${r.includes(U)?"bg-blue-600 text-white border-blue-600":"bg-white dark:bg-neutral-700 border-neutral-300 dark:border-neutral-600"}`,children:[b.jsx("div",{className:"font-mono",children:K.gz}),b.jsxs("div",{className:"text-[10px] opacity-80",children:[K.age," (",K.startYear,"~",K.endYear,")"]})]},U))})]}),e===""&&b.jsxs("div",{children:[b.jsx("div",{className:"text-xs font-semibold mb-2 text-neutral-700 dark:text-neutral-200",children:"  ( 10)"}),b.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[b.jsx("input",{type:"number",value:a,onChange:K=>l(Number(K.target.value)),onBlur:f,className:"w-24 px-2 h-30 text-xs border rounded bg-white dark:bg-neutral-700"}),b.jsx("span",{className:"text-xs",children:"~"}),b.jsx("input",{type:"number",value:o,onChange:K=>u(Number(K.target.value)),onBlur:h,className:"w-24 px-2 h-30 text-xs border rounded bg-white dark:bg-neutral-700"})]}),b.jsxs("div",{className:"text-[10px] text-neutral-500 dark:text-neutral-400 mt-1",children:[" : ",p,""]})]}),e===""&&b.jsxs("div",{children:[b.jsx("div",{className:"text-xs font-semibold mb-2 text-neutral-700 dark:text-neutral-200",children:"  ( 12)"}),b.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[b.jsx("input",{type:"month",value:g,onChange:K=>S(K.target.value),onBlur:k,className:"px-2 py-1 text-xs border rounded bg-white dark:bg-neutral-700"}),b.jsx("span",{className:"text-xs",children:"~"}),b.jsx("input",{type:"month",value:x,onChange:K=>_(K.target.value),onBlur:T,className:"px-2 py-1 text-xs border rounded bg-white dark:bg-neutral-700"})]}),b.jsxs("div",{className:"text-[10px] text-neutral-500 dark:text-neutral-400 mt-1",children:[" : ",N,""]})]}),e===""&&b.jsxs("div",{children:[b.jsx("div",{className:"text-xs font-semibold mb-2 text-neutral-700 dark:text-neutral-200",children:"  ( 30)"}),b.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[b.jsx("input",{type:"date",value:O,onChange:K=>C(K.target.value),onBlur:$,className:"px-2 py-1 text-xs border rounded bg-white dark:bg-neutral-700"}),b.jsx("span",{className:"text-xs",children:"~"}),b.jsx("input",{type:"date",value:P,onChange:K=>D(K.target.value),onBlur:H,className:"px-2 py-1 text-xs border rounded bg-white dark:bg-neutral-700"})]}),b.jsxs("div",{className:"text-[10px] text-neutral-500 dark:text-neutral-400 mt-1",children:[" : ",q,""]})]}),b.jsxs("div",{className:"text-[11px] text-neutral-500 dark:text-neutral-400",children:[b.jsxs("p",{children:[" ",e,"   ."]}),b.jsx("p",{children:"    ."})]})]})}function $2e({questionDraft:e,onChangeDraft:t,onAddQuestion:n,extraQuestions:r,onClearAll:i,onRemoveQuestion:a,locked:o=!1,lockTitle:l}){const u=l?" ":"";return b.jsxs("div",{className:"space-y-1",children:[b.jsxs("div",{className:"flex items-center justify-between gap-2",children:[b.jsx("div",{className:"text-xs font-semibold text-neutral-700 dark:text-neutral-200",children:"   ()"}),r.length>0&&b.jsx("button",{type:"button",onClick:i,disabled:o,title:o?l:void 0,className:"px-2 py-1 text-[10px] rounded-md border border-neutral-300 dark:border-neutral-600 text-neutral-500 dark:text-neutral-300 cursor-pointer",children:" "})]}),b.jsx("textarea",{value:e,onChange:t,readOnly:o,disabled:o,title:o?l:void 0,placeholder:" AI     , ' '  .",rows:3,className:"w-full placeholder:text-xs text-[16px] desk:text-xs rounded-md border bg-white dark:bg-neutral-800 p-2"}),b.jsxs("div",{className:"mb-4 text-center",children:[b.jsx("button",{type:"button",onClick:n,disabled:o,title:o?l:void 0,className:["w-full desk:max-w-[160px] px-1 py-1.5 text-xs rounded-md border",o?"cursor-not-allowed opacity-50 bg-neutral-400 text-white dark:bg-neutral-700":"bg-neutral-900 text-white dark:bg-yellow-500 dark:text-black cursor-pointer"].join(" "),children:o?` ${u}`:" "}),r.length>0&&b.jsxs("div",{className:"flex-1 text-[11px] text-neutral-500 dark:text-neutral-400 text-right",children:["  ",r.length,""]})]}),r.length>0&&b.jsx("ul",{className:"mt-1 space-y-1 max-h-24 overflow-y-auto text-[11px] text-neutral-700 dark:text-neutral-200",children:r.map((f,h)=>b.jsxs("li",{className:"flex gap-1 items-start",children:[b.jsxs("span",{className:"shrink-0",children:[h+1,"."]}),b.jsx("span",{className:"whitespace-pre-wrap break-words flex-1",children:f}),b.jsx("button",{type:"button",onClick:()=>a(h),disabled:o,title:o?l:void 0,className:["shrink-0 ml-2 text-[10px]",o?"text-neutral-400 cursor-not-allowed":"text-red-500 hover:underline"].join(" "),children:""})]},h))})]})}function B2e({value:e,lockSelection:t=!1}){return t?b.jsx("div",{className:"w-full h-[320px] text-xs font-mono rounded-md border bg-neutral-50 dark:bg-neutral-800 p-2 select-none flex items-center justify-center text-center text-neutral-500","aria-readonly":"true",children:" ,  ."}):b.jsx("textarea",{readOnly:!0,value:e,placeholder:"   .",className:"w-full h-[320px] text-xs font-mono rounded-md border bg-neutral-50 dark:bg-neutral-800 p-2 overflow-y-auto resize-none"})}const z2e={analysis:{label:"",desc:`-   ,   
- //    
-   `},mentor:{label:"",desc:`-   
-     
-    `},dryHumor:{label:" ",desc:`-     
-   `},softWarm:{label:" ",desc:`-   
-  `},etc:{label:" ",desc:"-     "}},U2e=["","","","",""],F2e={personality:{label:"    "},lifeFlow:{label:"   "},love:{label:"    "},career:{label:"    "},money:{label:"    "},family:{label:"      "},baby:{label:"    "},health:{label:"    "},move:{label:"     "},social:{label:"  "},compat:{label:"   "},risk:{label:"  "},meta:{label:"    "},etc:{label:"  "}},E3={personality:[{key:"overview",label:"  "},{key:"personality_basic",label:" "},{key:"personality_shadow",label:""},{key:"personality_relationshipStyle",label:" "},{key:"personality_workStyle",label:" "},{key:"personality_stressPattern",label:" "}],lifeFlow:[{key:"overview",label:"  "},{key:"lifeFlow_cycle",label:" "},{key:"lifeFlow_turningPoint",label:""},{key:"lifeFlow_peak",label:""},{key:"lifeFlow_down",label:""},{key:"lifeFlow_theme",label:"  "}],love:[{key:"love_pattern",label:" "},{key:"love_timing",label:"/ "},{key:"love_partner",label:" "},{key:"love_current",label:" /"},{key:"love_breakup",label:" "},{key:"love_marriageChange",label:"/ "}],career:[{key:"career_aptitude",label:" "},{key:"career_mode",label:" vs "},{key:"career_jobChange",label:"/ "},{key:"career_promotion",label:""},{key:"career_study",label:""},{key:"career_exam",label:""}],money:[{key:"overview",label:"  "},{key:"money_flow",label:" "},{key:"money_income",label:""},{key:"money_spending",label:" "},{key:"money_saving",label:"/ "},{key:"money_asset",label:" "},{key:"money_debt",label:"/ "},{key:"money_invest",label:" "},{key:"money_bigEvent",label:"  "}],family:[{key:"overview",label:"  "},{key:"family_origin",label:"/ "},{key:"family_current",label:" /"},{key:"family_parents",label:" "},{key:"family_siblings",label:" "},{key:"family_children",label:"/"},{key:"family_care",label:" "}],baby:[{key:"overview",label:" "},{key:"baby_pregnancy",label:"  "},{key:"baby_birth",label:"  "},{key:"baby_selection",label:"  "}],health:[{key:"overview",label:" "},{key:"health_overall",label:""},{key:"health_physical",label:" "},{key:"health_mental",label:""},{key:"health_stress",label:" "},{key:"health_accident",label:" "}],move:[{key:"overview",label:" "},{key:"move_timing",label:" "},{key:"move_chance",label:" "},{key:"move_targetHouse",label:"  "},{key:"move_environment",label:"  "},{key:"move_finance",label:" "}],social:[{key:"overview",label:"  "},{key:"social_overall",label:" "},{key:"social_friend",label:" "},{key:"social_workspace",label:" "},{key:"social_network",label:""},{key:"social_conflict",label:" "}],compat:[{key:"overview",label:" "},{key:"compat_overall",label:"  "},{key:"compat_love",label:"/ "},{key:"compat_marriage",label:"  "},{key:"compat_work",label:"/ "},{key:"compat_family",label:" "},{key:"compat_friend",label:" "}],risk:[{key:"overview",label:" "},{key:"risk_money",label:" "},{key:"risk_relationship",label:" "},{key:"risk_health",label:" "},{key:"risk_lawsuit",label:"/ "},{key:"risk_burnout",label:" "}],meta:[{key:"overview",label:"  "},{key:"meta_structure",label:"  "},{key:"meta_cycle",label:"  "},{key:"meta_trigger",label:" "},{key:"meta_usage",label:" "}],etc:[]};function H2e(){const[e,t]=w.useState(null);return w.useEffect(()=>{let n=!0;return Me.auth.getUser().then(({data:r})=>{n&&t(r.user?.id??null)}),()=>{n=!1}},[]),e}const G2e={twelveUnseong:!0,twelveShinsal:!0,shinsal:!0,nabeum:!0},Jb=Rl(e=>({sections:G2e,setSections:t=>e({sections:t}),toggleSection:t=>e(n=>({sections:{...n.sections,[t]:!n.sections[t]}}))})),HS=1e3*60*60*24;function GS(e,t){return(t.getFullYear()-e.getFullYear())*12+(t.getMonth()-e.getMonth())}function iy(e){return`${e.getFullYear()}-${String(e.getMonth()+1).padStart(2,"0")}`}function ay(e){return`${e.getFullYear()}-${String(e.getMonth()+1).padStart(2,"0")}-${String(e.getDate()).padStart(2,"0")}`}function A3(){const e=new Date,t=e.getFullYear(),n=String(e.getMonth()+1).padStart(2,"0"),r=String(e.getDate()).padStart(2,"0");return`${t}-${n}-${r}`}function T3(){const e=new Date;return`${e.getFullYear()}-${String(e.getMonth()+1).padStart(2,"0")}`}function q2e(){const e=new Date().getFullYear(),[t,n]=w.useState(e),[r,i]=w.useState(e),[a,o]=w.useState(()=>T3()),[l,u]=w.useState(()=>T3()),[f,h]=w.useState(()=>A3()),[p,g]=w.useState(()=>A3()),x=Q=>{n(Q)},S=Q=>{i(Q)},_=()=>{const Q=t;let Y=r;Y<Q&&(Y=Q),Y-Q>9&&(Y=Q+9),i(Y)},k=()=>{let Q=t;const Y=r;Y<Q&&(Q=Y),Y-Q>9&&(Q=Y-9),n(Q)},T=w.useMemo(()=>{if(!Number.isFinite(t)||!Number.isFinite(r))return 0;const Q=r-t+1;return Q>0?Q:0},[t,r]),N=w.useMemo(()=>{const Q=[];if(!Number.isFinite(t)||!Number.isFinite(r))return Q;for(let Y=t;Y<=r&&Q.length<10;Y++)Q.push(Y);return Q},[t,r]),O=Q=>{o(Q)},P=Q=>{u(Q)},C=()=>{const[Q,Y]=a.split("-").map(Number),[Z,re]=l.split("-").map(Number),ue=new Date(Q,Y-1),se=new Date(Z,re-1);if(se<ue){u(iy(ue));return}if(GS(ue,se)>11){const W=new Date(ue);W.setMonth(ue.getMonth()+11),u(iy(W))}},D=()=>{const[Q,Y]=a.split("-").map(Number),[Z,re]=l.split("-").map(Number),ue=new Date(Q,Y-1),se=new Date(Z,re-1);if(se<ue){o(iy(se));return}if(GS(ue,se)>11){const W=new Date(se);W.setMonth(se.getMonth()-11),o(iy(W))}},$=w.useMemo(()=>{const[Q,Y]=(a||"").split("-").map(Number),[Z,re]=(l||"").split("-").map(Number);if(!Number.isFinite(Q)||!Number.isFinite(Y)||!Number.isFinite(Z)||!Number.isFinite(re))return 0;const ue=new Date(Q,Y-1,1),se=new Date(Z,re-1,1),B=GS(ue,se)+1;return B>0?B:0},[a,l]),H=w.useMemo(()=>{const Q=[],[Y,Z]=a.split("-").map(Number),[re,ue]=l.split("-").map(Number),se=new Date(Y,Z-1),B=new Date(re,ue-1);if(Number.isNaN(se.getTime())||Number.isNaN(B.getTime()))return Q;for(;se<=B&&Q.length<12;)Q.push(`${se.getFullYear()}-${String(se.getMonth()+1).padStart(2,"0")}`),se.setMonth(se.getMonth()+1);return Q},[a,l]),q=Q=>{h(Q)},K=Q=>{g(Q)},U=()=>{if(!f||!p)return;const[Q,Y,Z]=f.split("-").map(Number),[re,ue,se]=p.split("-").map(Number),B=new Date(Q,Y-1,Z,4,0,0),W=new Date(re,ue-1,se,4,0,0);if(W<B){g(ay(B));return}if(Math.floor((W.getTime()-B.getTime())/HS)>7){const X=new Date(B);X.setDate(B.getDate()+6),g(ay(X))}},z=()=>{if(!f||!p)return;const[Q,Y,Z]=f.split("-").map(Number),[re,ue,se]=p.split("-").map(Number),B=new Date(Q,Y-1,Z,4,0,0),W=new Date(re,ue-1,se,4,0,0);if(B>W){h(ay(W));return}if(Math.floor((W.getTime()-B.getTime())/HS)>7){const X=new Date(W);X.setDate(W.getDate()-6),h(ay(X))}},V=w.useMemo(()=>{const[Q,Y,Z]=(f||"").split("-").map(Number),[re,ue,se]=(p||"").split("-").map(Number);if(!Number.isFinite(Q)||!Number.isFinite(Y)||!Number.isFinite(Z)||!Number.isFinite(re)||!Number.isFinite(ue)||!Number.isFinite(se))return 0;const B=new Date(Q,Y-1,Z,4,0,0),W=new Date(re,ue-1,se,4,0,0),ae=Math.floor((W.getTime()-B.getTime())/HS)+1;return ae>0?ae:0},[f,p]),J=w.useMemo(()=>{const Q=[],[Y,Z,re]=f.split("-").map(Number),[ue,se,B]=p.split("-").map(Number),W=new Date(Y,Z-1,re,4,0,0),ae=new Date(ue,se-1,B,4,0,0);if(Number.isNaN(W.getTime())||Number.isNaN(ae.getTime()))return Q;const X=new Date(W);for(;X<=ae&&Q.length<31;){const oe=X.getFullYear(),me=String(X.getMonth()+1).padStart(2,"0"),pe=String(X.getDate()).padStart(2,"0");Q.push(`${oe}-${me}-${pe}`),X.setDate(X.getDate()+1)}return Q},[f,p]);return{seStartYear:t,seEndYear:r,wolStartYM:a,wolEndYM:l,ilStartDate:f,ilEndDate:p,onSeStartChange:x,onSeEndChange:S,onSeStartBlur:_,onSeEndBlur:k,onWolStartChange:O,onWolEndChange:P,onWolStartBlur:C,onWolEndBlur:D,onIlStartChange:q,onIlEndChange:K,onIlStartBlur:U,onIlEndBlur:z,seYearsCount:T,wolMonthsCount:$,ilDaysCount:V,seYearsList:N,wolMonthsList:H,ilDaysList:J}}function Y2e({msId:e,canUseMultiMode:t,canUseLuckTabs:n}){const r=Jb(se=>se.sections),i=Jb(se=>se.toggleSection),[a,o]=w.useState("analysis"),[l,u]=w.useState(!1),[f,h]=w.useState(!1),[p,g]=w.useState(""),[x,S]=w.useState("personality"),[_,k]=w.useState("overview"),[T,N]=w.useState("solo"),[O,P]=w.useState(""),[C,D]=w.useState(!1),[$,H]=w.useState(""),[q,K]=w.useState([]),[U,z]=w.useState(""),[V,J]=w.useState([]),Q=q2e();w.useEffect(()=>{x!=="love"&&x!=="compat"&&(N("solo"),g(""))},[x]),w.useEffect(()=>{!t&&C&&D(!1)},[t,C]),w.useEffect(()=>{!n&&O!==""&&P("")},[n,O]),w.useEffect(()=>{$!==""&&K([])},[$]),w.useEffect(()=>{z(""),J([])},[e]);function Y(){const se=U.trim();se&&(J(B=>[...B,se]),z(""))}function Z(se){J(B=>B.filter((W,ae)=>ae!==se))}function re(){J([])}function ue(se){K(B=>B.includes(se)?B.filter(W=>W!==se):[...B,se])}return{sections:r,toggleSection:i,tone:a,setTone:o,friendMode:l,setFriendMode:u,teacherMode:f,setTeacherMode:h,partnerId:p,setPartnerId:g,mainCategory:x,setMainCategory:S,subCategory:_,setSubCategory:k,relationMode:T,setRelationMode:N,activeTab:O,setActiveTab:P,isMultiMode:C,setIsMultiMode:D,multiTab:$,setMultiTab:H,selectedDaeIdx:q,setSelectedDaeIdx:K,handleToggleDae:ue,rangeControls:Q,questionDraft:U,setQuestionDraft:z,extraQuestions:V,setExtraQuestions:J,handleAddQuestion:Y,handleRemoveQuestion:Z,handleClearQuestions:re}}const OU=Rl(e=>({shinsalBase:"",shinsalEra:"",shinsalGaehwa:!1,hiddenStemMode:"hgc",setShinsalBase:t=>e({shinsalBase:t}),setShinsalEra:t=>e({shinsalEra:t}),setShinsalGaehwa:t=>e({shinsalGaehwa:t}),setHiddenStemMode:t=>e({hiddenStemMode:t})}));function WT(e){if(!e)return["","","",""];let t=Number(e.birthDay?.slice(0,4)??2e3),n=Number(e.birthDay?.slice(4,6)??1),r=Number(e.birthDay?.slice(6,8)??1);if(e.calendarType==="lunar"){const O=Hi(t,n,r);t=O.getFullYear(),n=O.getMonth()+1,r=O.getDate()}const i=!e.birthTime||e.birthTime==="",a=i?4:Number(e.birthTime.slice(0,2)),o=i?30:Number(e.birthTime.slice(2,4)),l=new Date(t,n-1,r,a,o,0,0),u=!e.birthPlace||e.birthPlace.name===""||!e.birthPlace.lon?127.5:e.birthPlace.lon,f=rp(l,u,i),h=e.mingSikType??"/",p=at(f,u),g=Et(f,u),x=gt(f,h),S=i?null:Fa(f,h),_=Re(p),k=Re(g),T=Re(x),N=S?Re(S):"";return[_,k,T,N]}function jU(e){const t=new Date(e.corrected),n=WT(e),r=n[0].charAt(0),a=["","","","",""].includes(r),o=e.gender==="",l=o&&a||!o&&!a?"forward":"backward",u=sp(t,n[1],l,120,e.birthPlace?.lon??127.5),f=u.firstChange;if(!f)return[];const h=[];let p=Re(u.events[0]?.gz??n[1]);for(let g=0;g<10;g++){const x=new Date(f);if(x.setFullYear(x.getFullYear()+g*10),g>0){const S=u.events[g];S&&(p=Re(S.gz))}h.push(`${x.getFullYear()} ${String(x.getMonth()+1).padStart(2,"0")} ${p}  `)}return h}const K2e=["- AI     ,      . (, ,   )","-   ,  . (     )","-  /    .","- , , , ,       ,    .","-     , (~, ~  ) .","-    .","-  JSON/      .","-       .","-         .","-   ,    ."],W2e=["- :     . ////  .","- :  ,  .    . //   .","- : ~  //     .    .","- , /      , ////   .",""," ( )","-  + (///)  /","-      +   ","- :   +    ","-  + :      ()   ","-  :  ","- : /(  )",""," ","-  .  /  /  ","-   =  . 1~2 "];function V2e(e,t){e.push("### ()");const n=t?W2e:K2e;e.push(...n)}function Z2e(e,t){const{mode:n,tab:r,isStudyTone:i}=t,a=(...o)=>e.push(...o);n==="single"?r?i?a("","##  ()",`-  : (${r})  ,    ( + / )  .`,"-     /      ()  ."):a("","##  ()",`-    (${r})   ,         .`,"-   ,          ."):a("","##  ()","-   ,      /  ."):i?a("","##  ()","-       .    .","-      (/// )  1~2 ."):a("","##  ()","-  (///)  ,           ."),i&&e.push("- (teacherMode)     ,   .","-      (/ / )  1~2 .")}function X2e(e,t){const{topic:n,subTopic:r,relationMode:i,isStudyTone:a}=t,o=(...l)=>e.push(...l);switch(n){case"personality":return a?o("","## ()","-     //   .","-    .   + /(   ) +   ,   .","-   :   XX  YY .   .","-        .","1)   : /, , /,        ,      .","2)   :    VS   ,   VS   ,  VS      . ","3) /:   ,     , /        . ","4)   : //  ,    ,       . ","5)  :     ,    ,       ."):o("","## ()","-  /  .","-         .","-        .","1)   : /, , /,        ,      .","2)   :    VS   ,   VS   ,  VS      . ","3) /:   ,     , /        . ","4)   : //  ,    ,       . ","5)  :     ,    ,       ."),r==="personality_shadow"&&o("-    ,    / ,    ."),r==="personality_relationshipStyle"&&o("-  / ,   /  ."),r==="personality_workStyle"&&o("-     /    ."),r==="personality_stressPattern"&&o("-       ."),!0;case"lifeFlow":return a?o("","## ( )","-   . //    .","-   :   +  () + /  +   .","-    /  ."):o("","## ( )","-       .","-     ."),r==="lifeFlow_turningPoint"&&o("-   A/B ,     ."),!0;case"love":return a?o("","## ()","-   : /////// .","- ( )   . +      .","- ///  /  () ."):o("","## ()","- //   .","-  ,   ,    ."),i==="solo"?o("-  :  / ,     ."):i==="couple"&&o("-  :        (//)  ."),!0;case"career":return a?o("","## ()","-  : ///// / .","- ///        .","- (//)   ,  +  ."):o("","## ()","- ///   ."),r==="career_jobChange"&&o("-    / ."),r==="career_promotion"&&o("-     //   ."),!0;case"money":return a?o("","## ()","-   :  /, / ,   , /, , , /  .","-    .   +   +    /  .","-  (    )    ."):o("","## ()","- //   ."),r==="money_debt"&&o("- //   (// )."),r==="money_bigEvent"&&o("-          ."),!0}return!1}function J2e(e,t){const{topic:n,subTopic:r,isStudyTone:i}=t,a=(...o)=>e.push(...o);switch(n){case"family":return i?a("","## ()","-  : /  ,   ,  /,   , / .","- /     ,   ."):a("","## ()","- /   ."),!0;case"baby":return i?a("","## ()","-  :  /,  ,    .","-  /   .  / /  ."):a("","## ()","- //   ."),!0;case"health":return i?a("","## ()","-   : ,   , /, /.","-   .  //      .","-   + /      ."):a("","## ()","- /   ."),r==="health_accident"&&a("-  /(/// ) ."),!0;case"move":return i?a("","## ()","-    : , , , / ,  .","- ()()(/)    .","- /  /    ."):a("","## ()","- /  ."),!0;case"social":return i?a("","## ()","-  ////   .","- ()/()/()     ."):a("","## ()","- /   ."),!0;case"compat":return i?a("","## ( )","-    ,        .","- // ,  //   ."):a("","## ( )","- /    ."),!0;case"risk":return i?a("","## ()","-  .        .","- //  + /    ."):a("","## ()","- /   ."),!0;case"meta":return i?a("","## ()","-    ,        .","- ,  3~7 .   "):a("","## ()","-       ."),!0}return!1}function Q2e(e,t){X2e(e,t)||J2e(e,t)}function eAe(e){return e==="multi"?"multi":"single"}function NU(e){const{topic:t,subTopic:n,timeMode:r="single",tab:i,relationMode:a,teacherMode:o}=e;if(!t)return"";const l=eAe(r),u=[],f=o===!0;return V2e(u,f),t==="etc"||(Z2e(u,{mode:l,tab:i,isStudyTone:f}),Q2e(u,{topic:t,subTopic:n,relationMode:a,isStudyTone:f})),u.join(`
`)}const tAe=!1,O3=e=>e<10?`0${e}`:`${e}`;function nAe(e){const t=e,n=typeof t.birthDay=="string"?t.birthDay:"",r=typeof t.calendarType=="string"?t.calendarType:"solar";if(n.length<8)return e;const i=Number(n.slice(0,4)),a=Number(n.slice(4,6)),o=Number(n.slice(6,8));if(r==="lunar")try{const l=Hi(i,a,o,0,0),u=`${l.getFullYear()}${O3(l.getMonth()+1)}${O3(l.getDate())}`;return{...e,birthDay:u,calendarType:"solar"}}catch{return e}return e}const om={:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},sm={:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},uu={:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},oy={:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},rAe=["","","","",""];function j3(e){return rAe.includes(e)}const CU={:"",:"",:"",:"",:""},MU={:"",:"",:"",:"",:""},PU={:"",:"",:"",:"",:""},DU={:"",:"",:"",:"",:""};function GE(e){if(!e)return null;const t=e.trim();if(["","","","","","","","","",""].includes(t))return t;if(om[t])return om[t];if(["","","","","","","","","","","",""].includes(t))return oy[t]??null;if(sm[t])return oy[sm[t]]??null;const n=t.charAt(0);return om[n]?om[n]:["","","","","","","","","",""].includes(n)?n:sm[n]?oy[sm[n]]??null:["","","","","","","","","","","",""].includes(n)?oy[n]??null:null}function iAe(e){const t={};for(const[n,r]of Object.entries(e??{})){if(r<=0)continue;const i=GE(n);i&&(t[i]=(t[i]??0)+r)}return t}function aAe(e){if(!e)return[];const t=GE(e.charAt(0)),n=GE(e.charAt(1));return[t,n].filter(Boolean)}function sy(e){const t=aAe(e),n={};for(const r of t)n[r]=(n[r]??0)+1;return n}function oAe(e,t){const n=uu[e],r=uu[t];if(!n||!r)return"";let i;r===n?i="":r===CU[n]?i="":r===MU[n]?i="":r===PU[n]?i="":r===DU[n]?i="":i="";const a=j3(e)===j3(t);switch(i){case"":return a?"":"";case"":return a?"":"";case"":return a?"":"";case"":return a?"":"";case"":return a?"":""}}function RU(e,t){return t===e?"":t===CU[e]?"":t===MU[e]?"":t===PU[e]?"":t===DU[e]?"":""}function LU(e){const t=Object.entries(e),n=t.reduce((f,[,h])=>f+(h>0?h:0),0);if(n<=0)return Object.fromEntries(t.map(([f])=>[f,0]));const r=t.map(([f,h])=>[f,(h>0?h:0)*100/n]),i=r.map(([f,h])=>[f,Math.floor(h)]);let a=i.reduce((f,[,h])=>f+h,0);const o=r.map(([f,h])=>[f,h-Math.floor(h)]).sort((f,h)=>h[1]-f[1]),l=Object.fromEntries(i.map(([f,h])=>[f,h]));let u=0;for(;a<100&&u<o.length;)l[o[u][0]]+=1,a+=1,u+=1;return l}const sAe={:{name:"",element:"",brief:"  ",keywords:" "},:{name:"",element:"",brief:"  ",keywords:" "},:{name:"",element:"",brief:"  ",keywords:" "},:{name:"",element:"",brief:"  ",keywords:" "},:{name:"",element:"",brief:"  ",keywords:""},:{name:"",element:"",brief:"  ",keywords:""},:{name:"",element:"",brief:" ",keywords:""},:{name:"",element:"",brief:" ",keywords:""},:{name:"",element:"",brief:" ",keywords:""},:{name:"",element:"",brief:" ",keywords:""},:{name:"",element:"",brief:" ",keywords:""},:{name:"",element:"",brief:" ",keywords:""},:{name:"",element:"",brief:"  ",keywords:""},:{name:"",element:"",brief:"  ",keywords:""},:{name:"",element:"",brief:"  ",keywords:""},:{name:"",element:"",brief:"  ",keywords:""},:{name:"",element:"",brief:"  ",keywords:" "},:{name:"",element:"",brief:"  ",keywords:" "},:{name:"",element:"",brief:"",keywords:""},:{name:"",element:"",brief:"",keywords:""},:{name:"",element:"",brief:"()",keywords:""},:{name:"",element:"",brief:"()",keywords:""},:{name:"",element:"",brief:" ",keywords:""},:{name:"",element:"",brief:" ",keywords:""},:{name:"",element:"",brief:"",keywords:"/"},:{name:"",element:"",brief:"",keywords:"/"},:{name:"",element:"",brief:" ",keywords:" "},:{name:"",element:"",brief:" ",keywords:" "},:{name:"",element:"",brief:"  ",keywords:" "},:{name:"",element:"",brief:"  ",keywords:" "},:{name:"",element:"",brief:" ",keywords:"/"},:{name:"",element:"",brief:" ",keywords:"/"},:{name:"",element:"",brief:"",keywords:""},:{name:"",element:"",brief:"",keywords:""},:{name:"",element:"",brief:" ",keywords:""},:{name:"",element:"",brief:" ",keywords:""},:{name:"",element:"",brief:"()",keywords:""},:{name:"",element:"",brief:"()",keywords:""},:{name:"",element:"",brief:"()",keywords:""},:{name:"",element:"",brief:"()",keywords:""},:{name:"",element:"",brief:"(  )",keywords:""},:{name:"",element:"",brief:"(  )",keywords:""},:{name:"",element:"",brief:"()",keywords:" "},:{name:"",element:"",brief:"()",keywords:" "},:{name:"",element:"",brief:"  ",keywords:" "},:{name:"",element:"",brief:"  ",keywords:" "},:{name:"",element:"",brief:" ",keywords:" "},:{name:"",element:"",brief:" ",keywords:" "},:{name:"",element:"",brief:"",keywords:""},:{name:"",element:"",brief:"",keywords:""},:{name:"",element:"",brief:"   ",keywords:" "},:{name:"",element:"",brief:"   ",keywords:" "},:{name:"",element:"",brief:"",keywords:""},:{name:"",element:"",brief:"",keywords:""},:{name:"",element:"",brief:"  ",keywords:""},:{name:"",element:"",brief:"  ",keywords:""},:{name:"",element:"",brief:"",keywords:""},:{name:"",element:"",brief:"",keywords:""},:{name:"",element:"",brief:"  ",keywords:""},:{name:"",element:"",brief:"  ",keywords:""}},lAe=e=>{if(!e||e.length<2)return e;const t=e.charAt(0),n=e.charAt(1),r=om[t]??t,i=sm[n]??n;return`${r}${i}`},VT=e=>{const t=lAe(e),n=sAe[t];return n?{...n,code:t}:null};function IU(e,t){const n=nAe(e),r=n.birthDay??"",i=r.slice(0,4),a=r.slice(4,6),o=r.slice(6,8);let l="";if(n.corrected instanceof Date&&!Number.isNaN(n.corrected.getTime())){const u=String(n.corrected.getHours()).padStart(2,"0"),f=String(n.corrected.getMinutes()).padStart(2,"0");l=t?"":`${u}:${f}`}return`${i} ${a} ${o}  ${l}`}function cAe(e){const t={:0,:0,:0,:0,:0};for(const[n,r]of Object.entries(e)){const i=uu[n];i&&(t[i]+=r)}return t}function uAe(e,t){const n={:0,:0,:0,:0,:0,:0,:0,:0,:0,:0};for(const[r,i]of Object.entries(e)){if(i<=0)continue;const a=oAe(t,r);n[a]+=i}return n}function dAe(e){return{:e.+e.,:e.+e.,:e.+e.,:e.+e.,:e.+e.}}const fAe={natal:50,dae:30,se:20,wol:7,il:3};function hAe(e){const t={};for(const{kind:r,bare:i}of e){const a=fAe[r]??0;if(a<=0)continue;const o=LU(i);for(const[l,u]of Object.entries(o))t[l]=(t[l]??0)+u*a}const n=Object.values(t).reduce((r,i)=>r+i,0);if(n>0)for(const r of Object.keys(t))t[r]=t[r]/n*100;return t}function $U(e,t,n){const r=iAe(e.perStemElementScaled),i=t!==""&&n?.dae?sy(n.dae):{},a=(t===""||t===""||t==="")&&n?.se?sy(n.se):{},o=(t===""||t==="")&&n?.wol?sy(n.wol):{},l=t===""&&n?.il?sy(n.il):{},u=hAe([{kind:"natal",bare:r},{kind:"dae",bare:i},{kind:"se",bare:a},{kind:"wol",bare:o},{kind:"il",bare:l}]),f=LU(u),h=cAe(f),p=uAe(f,e.dayStem),g=dAe(p);return{perStemAugBare:f,elementPercent:h,totalsSub:p,totalsMain:g}}function BU(e){return!e.birthTime||e.birthTime===""}function zU(e,t){return t[3]?["","","",""]:["","",""]}function mAe(e,t){return e.map((n,r)=>t[r]??"")}const pAe=e=>typeof e=="object"&&e!==null&&!Array.isArray(e);function Qb(e){if(e!=null){if(Array.isArray(e)){const t=e.map(n=>Qb(n)).filter(n=>n!==void 0);return t.length>0?t:void 0}if(pAe(e)){const t={};for(const[n,r]of Object.entries(e)){const i=Qb(r);i!==void 0&&(t[n]=i)}return Object.keys(t).length>0?t:void 0}return e}}function gAe(e){return e==null?"":typeof e=="string"?e:typeof e=="number"||typeof e=="boolean"?String(e):""}function yAe(e,t){const n=Qb(e);if(n===void 0)return"";const r=gAe(n);if(r!=="")return r;const i=JSON.stringify(n,null,2);return t==="plain"?i:["```json",i,"```"].join(`
`)}function UU(e,t,n){const r=yAe(t,n);return r.trim()?`## ${e}
${r}`:""}const qn=(e,t)=>UU(e,t,"plain"),Lr=(e,t)=>UU(e,t,"fenced"),bAe=(e,t)=>{if(!e)return{};const n=t,r=l=>{if(!l)return;const u={};for(const[f,h]of Object.entries(l)){if(!Array.isArray(h))continue;const p=h.filter(g=>typeof g=="string"&&g.includes(n));p.length>0&&(u[f]=p)}return Object.keys(u).length>0?u:void 0},i=r(e.good),a=r(e.bad),o={};return i&&(o.good=i),a&&(o.bad=a),o},vAe=(e,t)=>{const n={};if(!e||typeof e!="object")return n;for(const[r,i]of Object.entries(e)){if(!Array.isArray(i))continue;const a=Array.from(new Set(i.filter(o=>typeof o=="string"&&o.includes(t))));a.length>0&&(n[r]=a)}return n};function qE(e,t){return Object.fromEntries(Object.entries(e).map(([n,r])=>[`${n}(${RU(t,n)})`,r]))}function xAe(e){const{tab:t,natal:n,posLabels:r,chain:i}=e,a=[];for(let l=0;l<r.length;l++){const u=n[l]??"";u&&a.push({kind:"natal",pos:r[l],gz:u})}if(t===""||!i)return a;const o=[...a];return i.dae&&o.push({kind:"luck",pos:"",gz:i.dae}),(t===""||t===""||t==="")&&i.se&&o.push({kind:"luck",pos:"",gz:i.se}),(t===""||t==="")&&i.wol&&o.push({kind:"luck",pos:"",gz:i.wol}),t===""&&i.il&&o.push({kind:"luck",pos:"",gz:i.il}),o}function _Ae(e,t){if(!t)return"()";const n=[];return(e===""||e===""||e===""||e==="")&&t.dae&&n.push(`:${Re(t.dae)}`),(e===""||e===""||e==="")&&t.se&&n.push(`:${Re(t.se)}`),(e===""||e==="")&&t.wol&&n.push(`:${Re(t.wol)}`),e===""&&t.il&&n.push(`:${Re(t.il)}`),n.length>0?n.join(" / "):"()"}function FU(e){const{ms:t,natal:n,chain:r,basis:i,tab:a,unified:o,percent:l,category:u,topic:f,subTopic:h,relationMode:p,teacherMode:g,sections:x}=e,S=x?.tenGod??!0,_=x?.twelveUnseong??!0,k=x?.twelveShinsal??!0,T=x?.shinsal??!0,N=x?.nabeum??!0,O=BU(t),P=Re(n[3]??""),C=!!P,D=[Re(n[0]??""),Re(n[1]??""),Re(n[2]??""),P],$=jU(t).slice(0,10),H=Sl({natal:D,daewoon:a!==""?r?.dae??void 0:void 0,sewoon:a===""||a===""||a===""?r?.se??void 0:void 0,wolwoon:a===""||a===""?r?.wol??void 0:void 0,ilwoon:a===""?r?.il??void 0:void 0}),q=qd({natal:D,daewoon:a!==""?r?.dae??void 0:void 0,sewoon:a===""||a===""||a===""?r?.se??void 0:void 0,wolwoon:a===""||a===""?r?.wol??void 0:void 0,ilwoon:a===""?r?.il??void 0:void 0}),{shinsalEra:K,shinsalGaehwa:U,shinsalBase:z}=OU.getState(),V=z===""?D[0]?.charAt(1)??"":D[2]?.charAt(1)??"",J=$U(o,a,r),Q=J.elementPercent,Y=J.totalsSub,{flags:Z}=x7(D,o.elementScoreRaw),re=`${u} (${l.toFixed(1)}%)  ${[` ${Z..||Z..||Z..||Z..?"":""}`,` ${Z..||Z..||Z..||Z..?"":""}`,` ${Z..||Z..?"":""}`].join(", ")}`,ue=zU(t,D),se=o.dayStem,B=uu[se]??uu[o.dayStem]??"",W=[` : ${t.name??""} (${IU(t,O)}) : ${t.gender}`,` ${D[0]} ${D[1]} ${D[2]}`+(C?` ${D[3]}`:""),`: ${_Ae(a,r)}`].join(`
`),ae=[];ae.push(Lr("  (10)",$)),ae.push(Lr("",re)),ae.push(Lr("(  )",qE(o.natalFixed.elementPercent100,B))),a!==""&&ae.push(Lr(`(=${a})`,qE(Q,B))),S&&(ae.push(Lr(" ( 10 100)",o.natalFixed.totalsSub)),a!==""&&ae.push(Lr(` ( 10=${a} 100)`,Y)));const X=xAe({tab:a,natal:D,posLabels:ue,chain:r});if(_){const ne=X.map(({pos:Oe,gz:Ce})=>({pos:Oe,gz:Ce,unseong:jo(D[2]?.charAt(0)??"",Ce.charAt(1))}));ae.push(Lr("(+ )",ne))}if(k){const ne=X.map(({pos:Oe,gz:Ce})=>({pos:Oe,gz:Ce,shinsal:No({baseBranch:V,targetBranch:Ce.charAt(1),era:K,gaehwa:U})}));ae.push(Lr("(+  )",ne))}if(N){const ne=[];for(const Oe of X){const Ce=VT(Oe.gz);if(!Ce){Oe.kind==="natal"&&ne.push({pos:Oe.pos,gz:Oe.gz,nabeum:null});continue}ne.push({pos:Oe.pos,gz:Oe.gz,nabeum:Ce.name,element:Ce.element,code:Ce.code})}ae.push(Lr("(+ )",ne))}if(ae.push(Lr("()",lA(ue.map((ne,Oe)=>D[Oe]??"")))),ae.push(Lr("( :  )",H)),T)if(a===""){const ne=qd({natal:D,daewoon:null,sewoon:null,wolwoon:null,ilwoon:null,basis:i});ae.push(Lr("( )",{good:ne.good,bad:ne.bad,meta:ne.meta}))}else ae.push(Lr(`( =${a})`,q));const oe=ae.filter(ne=>ne&&ne.trim().length>0).join(`

`),me=NU({topic:f,subTopic:h,timeMode:"single",tab:a,relationMode:p,teacherMode:g}),pe=["-----","  ","","1.       (////)  .","2.  ,        ."];me&&pe.push("","  ( )",me);const be=pe.join(`
`);return{header:W,body:oe,guide:be}}function wAe(e){const{header:t,body:n,guide:r}=FU(e);return[t,n,r].join(`

`)}function _o(e){const{scope:t,infoText:n,gz:r,chain:i,natal:a,relationArgs:o,basis:l,unified:u,dayEl:f,baseDayStem:h,show:p,shinsalSettings:g,harmonyMode:x="scope",includeBasicInfo:S=!0}=e,_=$U(u,t,i),k=Sl({natal:a,daewoon:o.daewoon,sewoon:o.sewoon,wolwoon:o.wolwoon,ilwoon:o.ilwoon}),T=p.shinsal?qd({natal:a,daewoon:o.daewoon,sewoon:o.sewoon,wolwoon:o.wolwoon,ilwoon:o.ilwoon,basis:l}):null,N=p.nabeum?VT(r):null,O=p.twelveUnseong?jo(h,r.charAt(1)):null,P=p.twelveShinsal?No({baseBranch:g.baseBranch,targetBranch:r.charAt(1),era:g.era,gaehwa:g.gaehwa}):null,C=x==="full"?k:vAe(k,t);return{...S?{:n,:r}:{},:qE(_.elementPercent,f),...p.tenGod?{:_.totalsSub}:{},:C,...p.shinsal?{:bAe(T,t)}:{},...p.nabeum?{:N?{gz:r,nabeum:N.name,element:N.element,code:N.code}:null}:{},...p.twelveUnseong?{:{pos:t,gz:r,unseong:O}}:{},...p.twelveShinsal?{:{pos:t,gz:r,shinsal:P}}:{}}}function SAe(e){const{selectedDaeList:t,daeList:n,natal:r,basis:i,unified:a,dayEl:o,baseDayStem:l,show:u,shinsalSettings:f}=e;if(n.length===0||t.length===0)return[];const h=[];for(const p of t){const g={dae:p.gz,se:null,wol:null,il:null},x=_o({scope:"",infoText:`${p.age} ${p.gz} (${p.startYear}~${p.endYear})`,gz:p.gz,chain:g,natal:r,relationArgs:{daewoon:p.gz,sewoon:void 0,wolwoon:void 0,ilwoon:void 0},basis:i,unified:a,dayEl:o,baseDayStem:l,show:u,shinsalSettings:f,harmonyMode:"full",includeBasicInfo:!1});h.push(qn(`${p.age} ${p.gz} (${p.startYear}~${p.endYear})`,x))}return h.filter(p=>p.trim().length>0)}function ZT(e){return new Date(e.startYear,(e.startMonth??1)-1,e.startDay??1)}function HU(e,t){const n=e[t],r=e[t+1];return r?ZT(r):new Date(n.endYear+1,0,1)}function GU(e,t,n,r){return e<r&&t>n}function qU(e,t,n){const r=new Date(t,0,1),i=new Date(n+1,0,1),a=[];for(let o=0;o<e.length;o++){const l=e[o],u=ZT(l),f=HU(e,o);GU(u,f,r,i)&&(a.some(h=>h.gz===l.gz&&h.startYear===l.startYear)||a.push(l))}return a}function YU(e,t){return qU(e,t,t)}function ev(e,t,n){const r=new Date(t,n-1,1),i=new Date(t,n,1),a=[];for(let o=0;o<e.length;o++){const l=e[o],u=ZT(l),f=HU(e,o);GU(u,f,r,i)&&(a.some(h=>h.gz===l.gz&&h.startYear===l.startYear)||a.push(l))}return a}function KU(e){const t=315569259747e-1,i=Date.UTC(1900,1,4,7,15,0)+(e-1900)*t+3*t/24,a=new Date(i);return new Date(a.getTime()+540*60*1e3)}function tv(e,t){const n=[],r=new Date(e,t-1,15,0,0,0),i=new Date(e,t,1,15,0,0),a=KU(e),o=at(new Date(e-1,5,15)),l=at(new Date(e,5,15)),u=at(new Date(e+1,5,15));if(i<=a)o&&n.push(Re(o));else if(r>=a)l&&n.push(Re(l));else if(o&&n.push(Re(o)),l){const f=Re(l);n.includes(f)||n.push(f)}if(t===12&&u){const f=Re(u);n.includes(f)||n.push(f)}return n}function kAe(e,t){const n=KU(e),r=new Date(e,t-1,1),i=[];return r<n&&i.push(e-1),r>=n&&i.push(e),t===12&&i.push(e+1),i}function EAe(e){const{seYears:t,daeList:n,natal:r,basis:i,unified:a,dayEl:o,baseDayStem:l,show:u,shinsalSettings:f}=e;if(t.length===0)return[];const h=[],p=t[0],g=t[t.length-1],x=qU(n,p,g);if(x.length>0){const S=p,_=at(new Date(S,5,15)),k=Re(_||""),T={:x.map(N=>{const O={dae:N.gz,se:k||null,wol:null,il:null};return _o({scope:"",infoText:`${N.age} ${N.gz} (${N.startYear}~${N.endYear})`,gz:N.gz,chain:O,natal:r,relationArgs:{daewoon:N.gz,sewoon:k||void 0,wolwoon:void 0,ilwoon:void 0},basis:i,unified:a,dayEl:o,baseDayStem:l,show:u,shinsalSettings:f,harmonyMode:"scope",includeBasicInfo:!0})})};h.push(qn("",T))}for(const S of t){const _=at(new Date(S,5,15)),k=YU(n,S),T=k.length>0?k[0]:null,N=Re(_||""),O={dae:T?T.gz:null,se:N||null,wol:null,il:null},P=_o({scope:"",infoText:`${S} ${N}`,gz:N,chain:O,natal:r,relationArgs:{daewoon:T?.gz,sewoon:N||void 0,wolwoon:void 0,ilwoon:void 0},basis:i,unified:a,dayEl:o,baseDayStem:l,show:u,shinsalSettings:f,harmonyMode:"scope",includeBasicInfo:!0});h.push(qn(` ${S}`,{:P}))}return h.filter(S=>S.trim().length>0)}function AAe(e){const{wolMonths:t,daeList:n,natal:r,basis:i,unified:a,dayEl:o,baseDayStem:l,show:u,shinsalSettings:f}=e;if(t.length===0)return[];const h=[],p=[],g=new Map;for(const T of t){const[N,O]=T.split("-").map(Number),P=ev(n,N,O);for(const $ of P)p.some(H=>H.gz===$.gz&&H.startYear===$.startYear)||p.push($);const C=kAe(N,O);tv(N,O).forEach(($,H)=>{const q=C[H]??C[C.length-1];g.has($)||g.set($,{year:q,month:O})})}const[x]=t[0].split("-").map(Number),S=at(new Date(x,5,15)),_=Re(S||"");if(p.length>0){const T={:p.map(N=>{const O={dae:N.gz,se:_||null,wol:null,il:null};return _o({scope:"",infoText:`${N.age} ${N.gz} (${N.startYear}~${N.endYear})`,gz:N.gz,chain:O,natal:r,relationArgs:{daewoon:N.gz,sewoon:_||void 0,wolwoon:void 0,ilwoon:void 0},basis:i,unified:a,dayEl:o,baseDayStem:l,show:u,shinsalSettings:f,harmonyMode:"scope",includeBasicInfo:!0})})};h.push(qn("",T))}const k=Array.from(g.keys());if(k.length>0){const T={:k.map(N=>{const P=g.get(N).year,D=YU(n,P)[0]??p[0]??null,$={dae:D?D.gz:null,se:N,wol:null,il:null};return _o({scope:"",infoText:`${P} ${N}`,gz:N,chain:$,natal:r,relationArgs:{daewoon:D?.gz,sewoon:N,wolwoon:void 0,ilwoon:void 0},basis:i,unified:a,dayEl:o,baseDayStem:l,show:u,shinsalSettings:f,harmonyMode:"scope",includeBasicInfo:!0})})};h.push(qn("",T))}for(const T of t){const[N,O]=T.split("-").map(Number),P=new Date(N,O-1,15),C=Et(P),D=ev(n,N,O),$=D.length>0?D[0]:null,H=tv(N,O),q=H.length>0?H[H.length-1]:"",K=Re(C||""),U={dae:$?$.gz:null,se:q||null,wol:K,il:null},z=_o({scope:"",infoText:`${T} ${K}`,gz:K,chain:U,natal:r,relationArgs:{daewoon:$?.gz,sewoon:q||void 0,wolwoon:K,ilwoon:void 0},basis:i,unified:a,dayEl:o,baseDayStem:l,show:u,shinsalSettings:f,harmonyMode:"scope",includeBasicInfo:!0});h.push(qn(` ${T}`,{:z}))}return h.filter(T=>T.trim().length>0)}function TAe(e){const{ilDays:t,daeList:n,natal:r,basis:i,unified:a,dayEl:o,baseDayStem:l,show:u,shinsalSettings:f,dayBoundaryRule:h}=e;if(t.length===0)return[];const p=[],[g,x,S]=t[0].split("-").map(Number),_=new Date(g,x-1,S,4,0);if(!Number.isNaN(_.getTime())){const k=ev(n,g,x),T=k.length>0?k[0]:null,N=tv(g,x),O=N.length>0?N[N.length-1]:"",P=Et(new Date(g,x-1,15)),C=gt(_,h),D=Re(P||""),$=Re(O||""),H=Re(C||"");if(T){const q={dae:T.gz,se:$,wol:D,il:H},K=_o({scope:"",infoText:`${T.age} ${T.gz} (${T.startYear}~${T.endYear})`,gz:T.gz,chain:q,natal:r,relationArgs:{daewoon:T.gz,sewoon:$,wolwoon:D,ilwoon:H},basis:i,unified:a,dayEl:o,baseDayStem:l,show:u,shinsalSettings:f,harmonyMode:"scope",includeBasicInfo:!0});p.push(qn("",K))}if($){const q={dae:T?T.gz:null,se:$,wol:D,il:H},K=_o({scope:"",infoText:`${g} ${$}`,gz:$,chain:q,natal:r,relationArgs:{daewoon:T?.gz,sewoon:$,wolwoon:D,ilwoon:H},basis:i,unified:a,dayEl:o,baseDayStem:l,show:u,shinsalSettings:f,harmonyMode:"scope",includeBasicInfo:!0});p.push(qn("",K))}if(D){const q={dae:T?T.gz:null,se:$,wol:D,il:H},K=_o({scope:"",infoText:`${g}-${String(x).padStart(2,"0")} ${D}`,gz:D,chain:q,natal:r,relationArgs:{daewoon:T?.gz,sewoon:$,wolwoon:D,ilwoon:H},basis:i,unified:a,dayEl:o,baseDayStem:l,show:u,shinsalSettings:f,harmonyMode:"scope",includeBasicInfo:!0});p.push(qn("",K))}}for(const k of t){const[T,N,O]=k.split("-").map(Number),P=new Date(T,N-1,O,4,0);if(Number.isNaN(P.getTime()))continue;const C=ev(n,T,N),D=C.length>0?C[0]:null,$=tv(T,N),H=$.length>0?$[$.length-1]:"",q=Et(new Date(T,N-1,15)),K=gt(P,h),U=Re(q||""),z=Re(H||""),V=Re(K||""),J={dae:D?D.gz:null,se:z||null,wol:U,il:V},Q=_o({scope:"",infoText:`${k} ${V}`,gz:V,chain:J,natal:r,relationArgs:{daewoon:D?.gz,sewoon:z||void 0,wolwoon:U||void 0,ilwoon:V||void 0},basis:i,unified:a,dayEl:o,baseDayStem:l,show:u,shinsalSettings:f,harmonyMode:"scope",includeBasicInfo:!0});p.push(qn(` ${k}`,{:Q}))}return p.filter(k=>k.trim().length>0)}function WU(e){const{ms:t,natal:n,basis:r,includeTenGod:i,unified:a,percent:o,category:l,selectedDaeList:u,daeList:f,seYears:h,wolMonths:p,ilDays:g,topic:x,subTopic:S,timeMode:_,teacherMode:k,sections:T}=e,N=BU(t),O=Re(n[3]??""),P=!!O,C=t.mingSikType??"/",D=[Re(n[0]??""),Re(n[1]??""),Re(n[2]??""),O],$=zU(t,D),H=D[2]?.charAt(0)??"",q=uu[H]??uu[a.dayStem]??"",K=!!i&&(T?.tenGod??!0),U=T?.twelveUnseong??!0,z=T?.twelveShinsal??!0,V=T?.shinsal??!0,J=T?.nabeum??!0,{shinsalBase:Q,shinsalEra:Y,shinsalGaehwa:Z}=OU.getState(),re=Q===""?D[0]?.charAt(1)??"":D[2]?.charAt(1)??"",ue=IU(t,N),se=[` : ${t.name??""} (${ue}) : ${t.gender}`,` ${D[0]} ${D[1]} ${D[2]}`+(P?` ${D[3]}`:"")].join(`
`),B=[],{flags:W}=x7(D,a.elementScoreRaw),ae=`${l} (${o.toFixed(1)}%)  ${[` ${W..||W..||W..||W..?"":""}`,` ${W..||W..||W..||W..?"":""}`,` ${W..||W..||W..||W..?"":""}`].join("  ")}`;if(B.push(qn("",ae)),B.push(qn("()",Object.fromEntries(Object.entries(a.natalFixed.elementPercent100).map(([pe,be])=>[`${pe}(${RU(q,pe)})`,be])))),K&&B.push(qn(" ( 10 100)",a.natalFixed.totalsSub)),U){const pe=Object.fromEntries($.map((be,ne)=>[be,jo(H,(D[ne]??"").charAt(1))]));B.push(qn("()",pe))}if(z){const pe=Object.fromEntries($.map((be,ne)=>[be,No({baseBranch:re,targetBranch:(D[ne]??"").charAt(1),era:Y,gaehwa:Z})]));B.push(qn("()",pe))}B.push(qn("//",W));const X=lA(mAe($,D));if(B.push(qn("()",X)),V){const pe=qd({natal:D,daewoon:null,sewoon:null,wolwoon:null,ilwoon:null,basis:r});B.push(qn("()",pe))}if(J){const pe=Object.fromEntries($.map((be,ne)=>{const Oe=D[ne]??"",Ce=VT(Oe);return[be,Ce?{gz:Oe,nabeum:Ce.name,element:Ce.element,code:Ce.code}:null]}));B.push(qn("()",pe))}f.length>0&&u.length>0&&B.push(...SAe({selectedDaeList:u,daeList:f,natal:D,basis:r,unified:a,dayEl:q,baseDayStem:H,show:{tenGod:K,twelveUnseong:U,twelveShinsal:z,shinsal:V,nabeum:J},shinsalSettings:{baseBranch:re,era:Y,gaehwa:Z}})),h.length>0&&B.push(...EAe({seYears:h,daeList:f,natal:D,basis:r,unified:a,dayEl:q,baseDayStem:H,show:{tenGod:K,twelveUnseong:U,twelveShinsal:z,shinsal:V,nabeum:J},shinsalSettings:{baseBranch:re,era:Y,gaehwa:Z}})),p.length>0&&B.push(...AAe({wolMonths:p,daeList:f,natal:D,basis:r,unified:a,dayEl:q,baseDayStem:H,show:{tenGod:K,twelveUnseong:U,twelveShinsal:z,shinsal:V,nabeum:J},shinsalSettings:{baseBranch:re,era:Y,gaehwa:Z}})),g.length>0&&B.push(...TAe({ilDays:g,daeList:f,natal:D,basis:r,unified:a,dayEl:q,baseDayStem:H,show:{tenGod:K,twelveUnseong:U,twelveShinsal:z,shinsal:V,nabeum:J},shinsalSettings:{baseBranch:re,era:Y,gaehwa:Z},dayBoundaryRule:C}));const oe=NU({topic:x,subTopic:S,timeMode:_,teacherMode:k}),me=(Qb(B.join(`

`))??"").toString();return{header:se,body:me,guide:oe}}function OAe(e){const{header:t,body:n,guide:r}=WU(e);return[t,"",n,"",r].join(`
`)}function XT(e){if(!e)return null;const t=e.name||"";let n="";if(e.birthDay&&e.birthDay.length===8){const o=e.birthDay.slice(0,4),l=e.birthDay.slice(4,6),u=e.birthDay.slice(6,8);n=`${o}-${l}-${u}`}else e.birthDay&&(n=e.birthDay);let r="";if(e.birthTime&&e.birthTime.trim().length>0){const l=e.birthTime.trim().padEnd(4,"0").slice(0,4),u=l.slice(0,2),f=l.slice(2,4);r=`${u}:${f}`}let i="";e.birthPlace&&typeof e.birthPlace=="object"&&(i=e.birthPlace.name||"");const a=e.ganji||e.ganjiText||"";return{name:t,birthDate:n,birthTime:r,birthPlace:i,ganjiText:a}}function jAe(e){const{header:t,body:n}=FU(e),r=e.relationMode==="couple"?XT(e.partnerMs??null):null,i=r?Lr("  ",r):"";return[t,n,i].filter(a=>a&&a.trim().length>0).join(`

`)}function NAe(e){const{header:t,body:n}=WU(e),r=e.relationMode==="couple"?XT(e.partnerMs??null):null,i=r?Lr("  ",r):"";return[t,n,i].filter(a=>a&&a.trim().length>0).join(`

`)}function CAe(e){const t=(e??"").trim();if(!t)return"";const n=[/\r?\n-----\s*\r?\n/,/\r?\n?\s*\s*/,/\r?\n?\s*\s*/,/\r?\n##\s*\s*/,/\r?\n##\s*/,/\r?\n?###\s*/,/\r?\n?\s*\s*/,/\r?\n?\s*\s*/];let r=-1;for(const i of n){const a=t.search(i);a>=0&&(r=r<0?a:Math.min(r,a))}return r>=0?t.slice(0,r).trimEnd():t}function MAe(e){switch(e){case"analysis":return`   ,   .
`;case"mentor":return`     .
`;case"dryHumor":return`    .
`;case"softWarm":return`    .
`;default:return""}}function PAe(e){return e?`    .
`:""}function DAe(e,t){if(e!=="couple")return"";const n=XT(t);return n?["","","[  -   ]","",`-  : ${n.name}`,`-  : ${n.birthDate}`,`-  : ${n.birthTime}`,`-  : ${n.birthPlace}`,`- ${n.ganjiText}`,"","   /  ,","      .",""].join(`
`):""}function $d(e){return Re(e)}function RAe(e){return e[0]?.length===2&&e[1]?.length===2&&e[2]?.length===2}function N3(e){const t=Array.isArray(e)?e.slice(0,4):[];for(;t.length<4;)t.push("");return t.map((n,r)=>{const i=Re(n??"");return i||(r<=2?"--":"")})}function LAe(e,t,n){if(e)return{dae:e.dae??null,se:e.se??null,wol:e.wol??null,il:e.il??null};const r=$d(at(t)||""),i=$d(Et(t)||""),a=$d(gt(t,n)||"");return{dae:null,se:r||null,wol:i||null,il:a||null}}function IAe(e,t){const n=N3(e),r=N3(t);return{solarKo:n,lunarKo:r}}function YE(e,t,n){const r=[...e];return n&&(!r[3]||r[3]===""||r[3]==="--")&&t&&(r[3]=t.stem+t.branch),r}function $Ae(e,t,n){return e?"solar":t?"lunar":"solar"}function BAe(e,t,n,r,i,a,o,l){return YE(e==="lunar"?n?i:t?r:a??["","","",""]:t?r:n?i:a??["","","",""],o,l)}function zAe(e,t){const n=Number(e.birthDay?.slice(0,4)),r=Number(e.birthDay?.slice(4,6)),i=Number(e.birthDay?.slice(6,8));if(!Number.isFinite(n)||!Number.isFinite(r)||!Number.isFinite(i))return null;const a=new Date(n,r-1,i,12,4,0,0),o=$d(at(a)||""),l=$d(Et(a)||""),u=$d(gt(a,t)||"");return[o,l,u,""]}function UAe(e,t){return t&&e?e.stem+e.branch:""}function FAe(e,t,n){const i=[...WT(e)];return n&&t&&t.length===2&&(i[3]=t),i}function HAe(e){const t=k7(e,{criteriaMode:"modern",useHarmonyOverlay:!0}),n=dA(t);return{percent:n,category:n7(n)}}function GAe(e){const t=jU(e).slice(0,10),n=e.birthDay?Number(e.birthDay.slice(0,4)):0;return t.map((r,i)=>{const a=r.match(/(\d{4})\s+(\d{1,2})\s+([-]{2})\s+/),o=a?Number(a[1]):0,l=a?Number(a[2]):1,u=1,f=a?a[3]:"",h=n>0?KAe(n,o):i*10;return{gz:f,age:h,startYear:o,startMonth:l,startDay:u,endYear:o+10}})}function qAe(e,t){return e.filter(n=>n.id!==t).map(n=>{const r=(n.name??"").trim()||" ",i=n.birthDay?n.birthDay:"",a=i?`${r} (${i})`:r;return{id:n.id,label:a}})}function YAe(e,t){if(!e)return"";if(t.length===0)return e;const n=["","-----","     ","",...t.map((r,i)=>`${i+1}. ${r}`)];return`${e}
${n.join(`
`)}`}function C3(e){return RAe(e)}function KAe(e,t){return t-e+1}function WAe({ms:e,natal:t,lunarPillars:n,chain:r,basis:i,includeTenGod:a=!1,canUseMultiMode:o,canUseLuckTabs:l,input:u}){const{tone:f,friendMode:h,teacherMode:p,partnerId:g,mainCategory:x,subCategory:S,relationMode:_,activeTab:k,isMultiMode:T,multiTab:N,selectedDaeIdx:O,rangeControls:P,extraQuestions:C,sections:D}=u,$=_r(qt=>qt.list),{date:H,setDate:q}=di();w.useEffect(()=>{q(new Date)},[e.id,q]);const K=w.useMemo(()=>g?$.find(qt=>qt.id===g)??null:null,[g,$]),U=e.mingSikType??"/",z=w.useMemo(()=>H??new Date,[H]),V=w.useMemo(()=>LAe(r,z,U),[r,z,U]),J=w.useMemo(()=>l?V:{dae:null,se:null,wol:null,il:null},[l,V]),Q=Qm(qt=>qt.manualHour),Y=!e.birthTime||e.birthTime===""||!/^\d{4}$/.test(e.birthTime??""),{solarKo:Z,lunarKo:re}=w.useMemo(()=>IAe(t,n),[t,n]),ue=w.useMemo(()=>YE(Z,Q,Y),[Z,Q,Y]),se=w.useMemo(()=>YE(re,Q,Y),[re,Q,Y]),B=w.useMemo(()=>zAe(e,U),[e,U]),W=C3(ue),ae=C3(se),X=$Ae(W,ae),oe=w.useMemo(()=>BAe(X,W,ae,ue,se,B,Q,Y),[X,W,ae,ue,se,B,Q,Y]),me=w.useMemo(()=>Y&&Q?Q.stem+Q.branch:oe[3]||"",[Q,oe,Y]),pe=UAe(Q,Y),be=w.useMemo(()=>FAe(e,pe,Y),[e,pe,Y]),ne=l?k:"",Oe=x==="love"||x==="compat",ve=Oe&&_==="couple"?K??null:null,Ze=Oe?_:void 0,Ne=w.useMemo(()=>Nv({natal:be,tab:ne,chain:J,hourKey:me}),[be,ne,J,me]),{percent:_e,category:je}=w.useMemo(()=>HAe(be),[be]),Ie=w.useMemo(()=>GAe(e),[e]),Ve=w.useMemo(()=>qAe($??[],e.id),[$,e.id]),bt=w.useMemo(()=>O.map(qt=>Ie[qt]).filter(qt=>!!qt),[O,Ie]),xt=w.useMemo(()=>N===""?P.seYearsList:[],[N,P.seYearsList]),Pt=w.useMemo(()=>N===""?P.wolMonthsList:[],[N,P.wolMonthsList]),fe=w.useMemo(()=>N===""?P.ilDaysList:[],[N,P.ilDaysList]),Pe=w.useMemo(()=>e?wAe({ms:e,natal:be,chain:J,basis:i,tab:ne,unified:Ne,percent:_e,category:je,topic:x,subTopic:S,relationMode:_,teacherMode:p,sections:D}):"",[e,i,a,ne,J,Ne,_e,je,be,x,S,_,ve,p,D]),Be=w.useMemo(()=>!e||!T||!o?"":OAe({ms:e,natal:be,basis:i,includeTenGod:a,unified:Ne,percent:_e,category:je,selectedDaeList:bt,daeList:Ie,seYears:xt,wolMonths:Pt,ilDays:fe,topic:x,subTopic:S,timeMode:"multi",teacherMode:p,sections:D}),[e,T,o,xt,bt,Ie,Pt,fe,be,i,a,Ne,_e,je,x,S,Ze,ve,p,h,D]),lt=w.useMemo(()=>DAe(_,K),[_,K]),jt=T?Be:Pe,yt=w.useMemo(()=>MAe(f),[f]),Jn=w.useMemo(()=>PAe(h),[h]),gi=w.useMemo(()=>jt||lt?`${jt}${lt}
${yt}${Jn}`:"",[yt,Jn,jt,lt]),yi=w.useMemo(()=>YAe(gi,C),[gi,C]),Ps=w.useMemo(()=>e?T?NAe({ms:e,natal:be,basis:i,includeTenGod:a,unified:Ne,percent:_e,category:je,selectedDaeList:bt,daeList:Ie,seYears:xt,wolMonths:Pt,ilDays:fe,topic:x,subTopic:S,timeMode:"multi",relationMode:Ze,partnerMs:ve,teacherMode:p,sections:D}):jAe({ms:e,natal:be,chain:J,basis:i,tab:ne,unified:Ne,percent:_e,category:je,topic:x,subTopic:S,relationMode:_,partnerMs:ve,teacherMode:p,sections:D}):"",[e,T,be,i,a,Ne,_e,je,bt,Ie,xt,Pt,fe,x,S,_,Ze,ve,p,h,D,J,ne]),Ds=w.useMemo(()=>{const qt=Ps.trim();if(qt)return qt;const mn=CAe(jt).trim();return mn||jt.trim()},[Ps,jt]);return{date:H,setDate:q,partnerMs:K,partnerOptions:Ve,daeList:Ie,tabForLogic:ne,baseText:jt,basePrompt:gi,finalText:yi,infoOnlyText:Ds,allowManualHour:Y,activePillars:oe}}function M3(e,t=1200){const[n,r]=w.useState(!1),i=!!(e&&e.trim().length>0),a=w.useCallback(async()=>{if(i)try{await navigator.clipboard.writeText(e),r(!0),setTimeout(()=>r(!1),t)}catch{r(!1)}},[i,e,t]);return{copied:n,canCopy:i,onCopy:a}}function VAe(e,t){const{copied:n,canCopy:r,onCopy:i}=M3(e),{copied:a,canCopy:o,onCopy:l}=M3(t);return{copiedAll:n,copiedInfo:a,canCopyAll:r,canCopyInfo:o,onCopyAll:i,onCopyInfoOnly:l}}function ZAe({ms:e,natal:t,lunarPillars:n,chain:r,basis:i,includeTenGod:a=!1}){const o=_r(K=>K._rtUserId),u=H2e()??o??null,f=on(K=>K.loaded),h=on(K=>K.userId),p=on(K=>K.plan),g=w.useMemo(()=>wd(!u||!f||h!==u?"FREE":p??null),[u,f,h,p]),x=w.useMemo(()=>Vy(g),[g]),S=x.canUseMultiMode,_=x.canUseLuckTabs,k=x.canUseAllPrompts?"full":"locked",T=Y2e({msId:e.id,canUseMultiMode:S,canUseLuckTabs:_}),N=WAe({ms:e,natal:t,lunarPillars:n,chain:r,basis:i,includeTenGod:a,canUseMultiMode:S,canUseLuckTabs:_,input:T}),{copiedAll:O,copiedInfo:P,canCopyAll:C,canCopyInfo:D,onCopyAll:$,onCopyInfoOnly:H}=VAe(N.finalText,N.infoOnlyText);function q(K,U){T.setMainCategory(K),T.setSubCategory(U?.[0]?.key??"overview")}return{sections:T.sections,toggleSection:T.toggleSection,tone:T.tone,setTone:T.setTone,friendMode:T.friendMode,setFriendMode:T.setFriendMode,teacherMode:T.teacherMode,setTeacherMode:T.setTeacherMode,date:N.date,setDate:N.setDate,planTier:g,promptAccess:k,canUseMultiMode:S,canUseLuckTabs:_,partnerId:T.partnerId,setPartnerId:T.setPartnerId,partnerMs:N.partnerMs,mainCategory:T.mainCategory,subCategory:T.subCategory,setSubCategory:T.setSubCategory,relationMode:T.relationMode,setRelationMode:T.setRelationMode,activeTab:T.activeTab,setActiveTab:T.setActiveTab,isMultiMode:T.isMultiMode,setIsMultiMode:T.setIsMultiMode,multiTab:T.multiTab,setMultiTab:T.setMultiTab,selectedDaeIdx:T.selectedDaeIdx,handleToggleDae:T.handleToggleDae,rangeControls:T.rangeControls,partnerOptions:N.partnerOptions,daeList:N.daeList,tabForLogic:N.tabForLogic,baseText:N.baseText,basePrompt:N.basePrompt,finalText:N.finalText,infoOnlyText:N.infoOnlyText,copiedAll:O,copiedInfo:P,canCopyAll:k==="full"&&C,canCopyInfo:k==="full"&&D,onCopyAll:$,onCopyInfoOnly:H,handleMainCategoryChange:q,setQuestionDraft:T.setQuestionDraft,questionDraft:T.questionDraft,extraQuestions:T.extraQuestions,setExtraQuestions:T.setExtraQuestions,handleAddQuestion:T.handleAddQuestion,handleRemoveQuestion:T.handleRemoveQuestion,handleClearQuestions:T.handleClearQuestions,allowManualHour:N.allowManualHour,activePillars:N.activePillars}}function XAe({ms:e,natal:t,chain:n,basis:r,lunarPillars:i,includeTenGod:a=!1}){const o=ZAe({ms:e,natal:t,chain:n,basis:r,lunarPillars:i,includeTenGod:a}),l=E3[o.mainCategory];if(!e)return b.jsx("div",{className:"p-4 border rounded bg-neutral-50 dark:bg-neutral-900 text-sm text-neutral-500",children:"  ."});const u=o.promptAccess!=="full",f=u?"    . ":void 0,h=!u&&o.canCopyInfo,p=!u&&o.canCopyAll;return b.jsxs("div",{className:"relative rounded-xl border border-neutral-200 dark:border-neutral-800 bg-white dark:bg-neutral-900 p-3 space-y-3",children:[u?b.jsx("div",{className:"absolute inset-0 z-10 rounded-xl bg-white/70 dark:bg-neutral-900/70 backdrop-blur-[1px] flex items-center justify-center p-4",children:b.jsxs("div",{className:"max-w-sm text-center border border-neutral-300 dark:border-neutral-700 rounded-xl bg-white dark:bg-neutral-900 px-4 py-3 shadow-sm",children:[b.jsx("div",{className:"text-lg font-semibold",children:"  "}),b.jsxs("div",{className:"text-sm text-neutral-600 dark:text-neutral-300 mt-1",children:["   /  .",b.jsx("br",{}),"    100   ! (  )"]})]})}):null,b.jsx(N2e,{copiedInfo:o.copiedInfo,copiedAll:o.copiedAll,canCopyInfo:h,canCopyAll:p,lockTitle:f,onCopyInfoOnly:o.onCopyInfoOnly,onCopyAll:o.onCopyAll}),b.jsx(C2e,{sections:o.sections,toggleSection:o.toggleSection}),b.jsx(M2e,{tone:o.tone,toneMeta:z2e,setTone:o.setTone,friendMode:o.friendMode,setFriendMode:g=>o.setFriendMode(g.target.checked),teacherMode:o.teacherMode,setTeacherMode:g=>o.setTeacherMode(g.target.checked)}),b.jsx(P2e,{mainCategory:o.mainCategory,subCategory:o.subCategory,mainCategoryMeta:F2e,currentSubList:l,onMainCategoryChange:g=>o.handleMainCategoryChange(g,E3[g]),onSubCategoryChange:o.setSubCategory}),b.jsx(D2e,{visible:o.mainCategory==="love"||o.mainCategory==="compat",relationMode:o.relationMode,setRelationMode:o.setRelationMode,partnerId:o.partnerId,setPartnerId:o.setPartnerId,partnerOptions:o.partnerOptions}),b.jsx(R2e,{isMultiMode:o.canUseMultiMode?o.isMultiMode:!1,setIsMultiMode:g=>{!o.canUseMultiMode&&g||o.setIsMultiMode(g)},canUseMultiMode:o.canUseMultiMode}),o.isMultiMode?b.jsx(I2e,{multiTab:o.multiTab,setMultiTab:o.setMultiTab,daeList:o.daeList.map(g=>({gz:g.gz,age:g.age,startYear:g.startYear,endYear:g.endYear})),selectedDaeIdx:o.selectedDaeIdx,onToggleDae:o.handleToggleDae,seStartYear:o.rangeControls.seStartYear,seEndYear:o.rangeControls.seEndYear,onSeStartChange:o.rangeControls.onSeStartChange,onSeEndChange:o.rangeControls.onSeEndChange,onSeStartBlur:o.rangeControls.onSeStartBlur,onSeEndBlur:o.rangeControls.onSeEndBlur,seYearsCount:o.rangeControls.seYearsCount,wolStartDate:o.rangeControls.wolStartYM,wolEndDate:o.rangeControls.wolEndYM,onWolStartChange:o.rangeControls.onWolStartChange,onWolEndChange:o.rangeControls.onWolEndChange,onWolStartBlur:o.rangeControls.onWolStartBlur,onWolEndBlur:o.rangeControls.onWolEndBlur,wolMonthsCount:o.rangeControls.wolMonthsCount,ilStartDate:o.rangeControls.ilStartDate,ilEndDate:o.rangeControls.ilEndDate,onIlStartChange:o.rangeControls.onIlStartChange,onIlEndChange:o.rangeControls.onIlEndChange,onIlStartBlur:o.rangeControls.onIlStartBlur,onIlEndBlur:o.rangeControls.onIlEndBlur,ilDaysCount:o.rangeControls.ilDaysCount}):b.jsx(L2e,{tabs:U2e,activeTab:o.tabForLogic,setActiveTab:g=>{!o.canUseLuckTabs&&g!==""||o.setActiveTab(g)},date:o.date,setDate:o.setDate,canUseLuckTabs:o.canUseLuckTabs}),b.jsx($2e,{questionDraft:o.questionDraft,onChangeDraft:g=>o.setQuestionDraft(g.target.value),onAddQuestion:o.handleAddQuestion,extraQuestions:o.extraQuestions,onClearAll:o.handleClearQuestions,onRemoveQuestion:o.handleRemoveQuestion,locked:u,lockTitle:f}),b.jsx(B2e,{value:o.finalText,lockSelection:u})]})}function JAe(){const[e,t]=w.useState(null),[n,r]=w.useState(!1),[i,a]=w.useState(!1),[o]=w.useState(()=>typeof window>"u"?!1:window.location.pathname.startsWith("/admin"));return{userId:e,setUserId:t,authChecked:n,setAuthChecked:r,isLoggedIn:i,setIsLoggedIn:a,adminMode:o}}function QAe(){const e=_r(r=>r.loading),t=Tn(r=>r.loaded),n=on(r=>r.loaded);return{loading:e,settingsLoaded:t,entLoaded:n}}const P3="app_session_started_at_ms",eTe=7200*1e3;function tTe(){const e=sessionStorage.getItem(P3),t=e?Number(e):NaN;if(!Number.isFinite(t)||t<=0){const n=Date.now();return sessionStorage.setItem(P3,String(n)),n}return t}function nTe(e=Date.now()){const t=tTe();return Math.max(0,e-t)}function rTe(e,t=Date.now()){return nTe(t)>=e}async function iTe(e,t){const{data:n,error:r}=await Me.from("user_settings_kv").select("value").eq("user_id",e).eq("setting_key",t).maybeSingle();if(r)throw r;return n?.value??null}async function aTe(e,t,n){const{error:r}=await Me.from("user_settings_kv").upsert({user_id:e,setting_key:t,value:n},{onConflict:"user_id,setting_key"});if(r)throw r}const oTe=e=>typeof e=="object"&&e!==null&&!Array.isArray(e);function Od(e){if(e===null)return"null";if(e===void 0)return"undefined";const t=typeof e;return t==="string"?JSON.stringify(e):t==="number"||t==="boolean"?String(e):Array.isArray(e)?`[${e.map(Od).join(",")}]`:oTe(e)?`{${Object.keys(e).sort().map(i=>`${JSON.stringify(i)}:${Od(e[i])}`).join(",")}}`:e instanceof Date?`{"$date":${JSON.stringify(e.toISOString())}}`:JSON.stringify(String(e))}function sTe(e,t){let n=null;return(...r)=>{n!==null&&window.clearTimeout(n),n=window.setTimeout(()=>{n=null,e(...r)},t)}}function lTe(e,t){const n=t.debounceMs??400;let r=!1,i=null,a=Od(t.select(t.store.getState()));const o=sTe(async p=>{try{await aTe(e,t.dbKey,p),a=Od(p)}catch(g){console.error(`[settings] save failed key=${t.dbKey}`,g)}},n),l=p=>{r=!0;try{t.apply(p),a=Od(p)}finally{r=!1}},u=p=>{t.validate&&!t.validate(p)||l(p)},f=async()=>{const p=await iTe(e,t.dbKey);p!==null&&u(p)};i=t.store.subscribe(p=>{if(r)return;const g=t.select(p);Od(g)!==a&&o(g)});const h=()=>{i&&i(),i=null};return{dbKey:t.dbKey,loadFromDb:f,applyRemote:u,stop:h}}function cTe(e){if(typeof e!="object"||e===null)return!1;const t=e;return["twelveUnseong","twelveShinsal","shinsal","nabeum"].every(r=>typeof t[r]=="boolean")}function qS(e){return typeof e=="object"&&e!==null&&!Array.isArray(e)}function uTe(e){w.useEffect(()=>{if(!e)return;const t=[];t.push(lTe(e,{dbKey:"promptCopy.sections",store:Jb,select:o=>o.sections,apply:o=>Jb.setState({sections:o}),validate:cTe,debounceMs:250})),Promise.all(t.map(o=>o.loadFromDb())).catch(o=>{console.error("[settings] initial load failed",o)});const n=[{table:"user_settings_kv",filterByUserId:!0}],r=new Map,i=(o,l,u)=>{const f=r.get(o);f&&window.clearTimeout(f);const h=window.setTimeout(()=>{r.delete(o),u()},l);r.set(o,h)},a=Me.channel(`app-sync:${e}`);for(const o of n)a.on("postgres_changes",{event:"*",schema:"public",table:o.table,...o.filterByUserId?{filter:`user_id=eq.${e}`}:{}},l=>{if(rTe(eTe)){window.location.reload();return}if(o.table==="user_settings_kv"){if(!qS(l))return;const u=l.new,f=l.old,h=_=>qS(_)&&typeof _.setting_key=="string"?_.setting_key:null,p=_=>qS(_)?_.value:null,g=h(u)??h(f);if(!g)return;const x=t.find(_=>_.dbKey===g);if(!x)return;const S=typeof l.eventType=="string"?l.eventType:"";if(S==="INSERT"||S==="UPDATE"){x.applyRemote(p(u));return}x.loadFromDb();return}if(o.onChange){const u=typeof o.debounceMs=="number"?o.debounceMs:0;u>0?i(o.table,u,()=>o.onChange?.(l)):o.onChange(l)}});return a.subscribe(),()=>{for(const o of t)o.stop();for(const[,o]of r)window.clearTimeout(o);r.clear(),Me.removeChannel(a)}},[e])}function dTe({setUserId:e,setIsLoggedIn:t,setAuthChecked:n}){w.useEffect(()=>{const r=Me;(async()=>{const{data:o,error:l}=await r.auth.getSession();if(l){t(!1),e(null),n(!0);return}const u=o.session?.user?.id??null;t(!!o.session),e(u),n(!0)})();const{data:{subscription:a}}=r.auth.onAuthStateChange((o,l)=>{const u=l?.user?.id??null;t(!!l),e(u),n(!0),l||_r.getState().stopRealtime()});return()=>{a.unsubscribe()}},[n,t,e])}function fTe(e){dTe({setUserId:e.setUserId,setIsLoggedIn:e.setIsLoggedIn,setAuthChecked:e.setAuthChecked}),uTe(e.userId);const t=_r(a=>a.migrateLocalToServer),n=_r(a=>a.loadFromServer),r=Tn(a=>a.loadFromServer),i=on(a=>a.loadFromServer);w.useEffect(()=>{e.isLoggedIn&&i()},[e.isLoggedIn,i]),w.useEffect(()=>{e.isLoggedIn&&(async()=>(await i(),await t(),await n(),await r()))()},[e.isLoggedIn,i,t,n,r])}function hTe(e){const[t,n]=w.useState(()=>e.length>0?e[0].id:""),[r,i]=w.useState(!1),[a,o]=w.useState(!1),[l,u]=w.useState(null),[f,h]=w.useState(!0),[p,g]=w.useState(!1),[x,S]=w.useState(!1);return{currentId:t,setCurrentId:n,wizardOpen:r,setWizardOpen:i,showSidebar:a,setShowSidebar:o,editing:l,setEditing:u,showToday:f,setShowToday:h,showCouple:p,setShowCouple:g,openCustom:x,setOpenCustom:S}}function mTe(e){const t=di(i=>i.date),n=di(i=>i.rule),r=fu(e);return w.useMemo(()=>{if(!e)return{dae:null,se:null,wol:null,il:null};const i=Av(r,t),a=i>=0?r[i]?.gz??null:null,o=at(t),l=Et(t),u=gt(t,n);return{dae:a,se:o,wol:l,il:u}},[e,r,t,n])}const pTe=e=>typeof e=="string"&&e.length>=2,gTe=e=>Array.isArray(e)&&e.length===4&&e.every(pTe);function yTe({list:e,currentId:t,settings:n,emptyMs:r}){const i=w.useMemo(()=>e.find(g=>g.id===t)??e[0],[e,t]),a=e.length>0&&!!i&&typeof i.birthDay=="string",o=a?i:r,l=w.useMemo(()=>WT(o),[o]),u=mTe(o),f=on(g=>g.canAddMyeongsik(e.length).ok),h=n.sinsalBase===""?"day":"year",p=n.sinsalBase===""?"day":"year";return{current:i,hasCurrent:a,msForHooks:o,natal:l,chain:u,isValidPillars:gTe,canAdd:f,voidBasis:h,samjaeBasis:p}}function bTe({canAdd:e,hasCurrent:t,current:n,isLoggedIn:r,setWizardOpen:i,setOpenCustom:a,setShowSidebar:o,setShowToday:l,setShowCouple:u,setCurrentId:f,setEditing:h}){const{settings:p,saveToServer:g,loaded:x}=Tn();w.useEffect(()=>{!r||!x||g()},[r,x,p,g]);const S=w.useCallback(()=>{if(!e){An.error("   1   .");return}i(!0)},[e,i]),_=w.useCallback(()=>{if(!e){An.error("   1   .");return}a(!0)},[e,a]),k=w.useCallback(C=>{f(C.id),o(!1),l(!1),u(!1);const D=new Date;D.setHours(12,0,0,0),di.getState().setDate(D),t&&n?.id===C.id&&(l(!1),u(!1),o(!1))},[n,t,f,o,l,u]),T=w.useCallback(C=>{h(C),f(C.id),o(!1),l(!1),u(!1)},[h,f,o,l,u]),N=w.useCallback(()=>{const C=_r.getState().list[0]?.id??"";f(C),l(!0),u(!1)},[f,l,u]),O=w.useCallback(C=>{f(C.id),l(!1),u(!1),o(!1),requestAnimationFrame(()=>i(!1))},[f,l,u,o,i]),P=w.useCallback(C=>{f(C.id),l(!1),u(!1),o(!1)},[f,l,u,o]);return{openAdd:S,openCustomModal:_,handleSidebarView:k,handleSidebarEdit:T,handleSidebarDeleteView:N,handleWizardSave:O,handleCustomSave:P}}const VU="https://t1.daumcdn.net/kas/static/ba.min.js",vTe="//t1.daumcdn.net/kas/static/ba.min.js";let Qh=null,em=null;function ZU(){return typeof window<"u"&&typeof document<"u"}function D3(e){return typeof e=="object"&&e!==null}function XU(){if(!ZU())return!1;const e=window;if(!D3(e))return!1;const t=e.adfit;return D3(t)?typeof t.destroy=="function":!1}function JU(){return Array.from(document.querySelectorAll(`script[src="${VU}"], script[src="${vTe}"]`))}function QU(e){return e.getAttribute("data-adfit-scan")==="1"}function xTe(){const t=JU().filter(n=>!QU(n));if(!(t.length<=1))for(let n=1;n<t.length;n+=1){const r=t[n];r.parentNode?.removeChild(r)}}function R3(){return document.body??document.head??document.documentElement}function YS(e,t){return new Promise((n,r)=>{let i=!1;const a=()=>{e.removeEventListener("load",u),e.removeEventListener("error",f)},o=()=>{i||(i=!0,a(),n())},l=()=>{i||(i=!0,a(),r(new Error("AdFit script load failed")))},u=()=>o(),f=()=>l();e.addEventListener("load",u),e.addEventListener("error",f),window.setTimeout(()=>{XU(),o()},t)})}function L3(e){const t=document.createElement("script");return t.async=!0,t.type="text/javascript",t.charset="utf-8",t.src=VU,e?t.setAttribute("data-adfit-scan","1"):t.setAttribute("data-adfit-managed","1"),t}function KE(e){return ZU()?(e?.mode??"boot")==="boot"?Qh||(Qh=(async()=>{if(xTe(),XU())return{inserted:!1};const r=JU().filter(a=>!QU(a))[0];if(r)return await YS(r,2500),{inserted:!1};const i=L3(!1);return R3().appendChild(i),await YS(i,4e3),{inserted:!0}})().finally(()=>{Qh=null}),Qh):em||(em=(async()=>{const n=L3(!0);R3().appendChild(n);try{return await YS(n,4e3),{inserted:!0}}finally{n.parentNode?.removeChild(n)}})().finally(()=>{em=null}),em):Promise.resolve({inserted:!1})}function _Te({enabled:e}){return w.useEffect(()=>{e&&KE({mode:"boot"})},[e]),null}function I3(e){return typeof e=="object"&&e!==null}function wTe(e){const t=window;if(!I3(t))return;const n=t.adfit;if(!I3(n))return;const r=n.destroy;if(typeof r=="function")try{r.call(n,e)}catch{}}function Uc({adUnit:e,width:t,height:n,enabled:r=!0,isVisible:i=!0,className:a,wrapperStyle:o,reserveSpace:l=!0}){const u=w.useRef(!1),f=w.useRef(!1),h=w.useMemo(()=>({...l?{width:"100%",minHeight:n,display:"flex",justifyContent:"center",alignItems:"flex-start"}:{width:"100%"},...o}),[n,l,o]);return w.useEffect(()=>{if(!r||u.current)return;u.current=!0;let p=!1;return(async()=>{try{if(await KE({mode:"boot"}),p)return}catch{}})(),()=>{p=!0}},[r]),w.useEffect(()=>{if(!r||!i||f.current)return;f.current=!0;let p=!1;return(async()=>{try{if(await KE({mode:"scan"}),p)return}catch{}})(),()=>{p=!0}},[r,i]),w.useEffect(()=>()=>{wTe(e),u.current=!1,f.current=!1},[e]),r?b.jsx("div",{className:a,style:h,children:b.jsx("div",{style:l?{width:t,height:n}:void 0,children:b.jsx("ins",{className:"kakao_ad_area",style:{display:"none"},"data-ad-unit":e,"data-ad-width":String(t),"data-ad-height":String(n)})})}):null}function $3(){return Date.now()}function STe(e){try{const t=localStorage.getItem(e);if(!t)return 0;const n=Number(t);return Number.isFinite(n)?n:0}catch{return 0}}function kTe(e,t){try{localStorage.setItem(e,String(t))}catch{}}function ETe({enabled:e,adUnit:t,width:n,height:r,showAfterScrollY:i=180,hideForHours:a=3,rightPx:o=16,topPx:l=120,breakpointClassName:u="hidden desk:block"}){const f=w.useMemo(()=>`adfit_side_hide_until:${t}`,[t]),[h,p]=w.useState(!1),[g,x]=w.useState(!1),[S,_]=w.useState(!1);if(w.useEffect(()=>{if(!e){p(!1),x(!1),_(!1);return}if(STe(f)>$3()){_(!0),p(!1),x(!1);return}_(!1),x(!0);let N=0;const O=()=>{N||(N=window.requestAnimationFrame(()=>{N=0;const P=window.scrollY||0;p(P>=i)}))};return O(),window.addEventListener("scroll",O,{passive:!0}),()=>{N&&window.cancelAnimationFrame(N),window.removeEventListener("scroll",O)}},[e,i,f]),!e||S)return null;const k=()=>{kTe(f,$3()+a*60*60*1e3),_(!0),p(!1),x(!1)};return b.jsx("div",{className:u,style:{position:"fixed",right:o,top:l,zIndex:60,pointerEvents:"none",visibility:h?"visible":"hidden",opacity:h?1:0,transition:"opacity 150ms ease"},children:b.jsx("div",{style:{pointerEvents:h?"auto":"none"},children:b.jsxs("div",{style:{borderRadius:12,background:"rgba(0,0,0,0.04)",backdropFilter:"blur(6px)",padding:8},children:[b.jsx("div",{style:{display:"flex",justifyContent:"flex-end"},children:b.jsx("button",{type:"button",onClick:k,"aria-label":" ",style:{border:0,background:"transparent",cursor:"pointer",fontSize:14,padding:"6px 8px"},children:""})}),b.jsx(Uc,{enabled:g,isVisible:h,adUnit:t,width:n,height:r,wrapperStyle:{display:"flex",justifyContent:"center"}})]})})})}function eF(){const[e,t]=w.useState(!1),[n,r]=w.useState(!1),[i,a]=w.useState(!1),[o,l]=w.useState(!1),[u,f]=w.useState(!1);w.useEffect(()=>{document.title=" - //";const x=window.setTimeout(()=>t(!0),50),S=window.setTimeout(()=>r(!0),250),_=window.setTimeout(()=>a(!0),450);return()=>{window.clearTimeout(x),window.clearTimeout(S),window.clearTimeout(_)}},[]);const h=()=>u?!0:(jd.error(`   
  .`),!1),p=async()=>{if(!h())return;const{error:x}=await Me.auth.signInWithOAuth({provider:"google",options:{redirectTo:`${window.location.origin}/`}});x&&(console.error("Google Login Error:",x),jd.error("   ."))},g=async()=>{if(!h())return;const{error:x}=await Me.auth.signInWithOAuth({provider:"kakao",options:{redirectTo:`${window.location.origin}/`}});x&&(console.error("Kakao Login Error:",x),jd.error("   ."))};return b.jsxs("main",{className:`relative py-6 max-h-[70vh] overflow-auto bg-neutral-950 text-white transition-opacity duration-500 ${e?"opacity-100":"opacity-0"}`,children:[b.jsxs("header",{className:`transform transition-all duration-500 mb-8 ${n?"translate-y-0 opacity-100":"translate-y-4 opacity-0"} text-center max-w-[680px]`,children:[b.jsx("h1",{className:"text-3xl font-bold tracking-tight mb-2",children:""}),b.jsxs("p",{className:"text-sm text-neutral-300 leading-relaxed",children:["      /       .",b.jsx("br",{}),"   /     "]})]}),b.jsxs("section",{className:`w-full max-w-sm mx-auto rounded-2xl bg-neutral-900 p-4 shadow-xl border border-neutral-800 transition-all duration-500 ${i?"opacity-100 translate-y-0":"opacity-0 translate-y-6"}`,"aria-label":"",children:[b.jsx("h2",{className:"mb-2 text-2xl font-bold tracking-tight text-center",children:""}),b.jsxs("p",{className:"mb-5 text-sm text-neutral-400 text-center leading-relaxed",children:["  .",b.jsx("br",{}),"      "]}),b.jsx("div",{className:"mb-5 space-y-2",children:b.jsxs("label",{className:"flex items-start gap-2 text-sm text-neutral-300 cursor-pointer",children:[b.jsx("input",{type:"checkbox",checked:u,onChange:()=>f(!u),className:"mt-[2px]"}),b.jsxs("span",{children:["  .",b.jsx("button",{type:"button",onClick:()=>l(!0),className:"ml-1 underline text-orange-400 hover:text-orange-300 cursor-pointer",children:"( )"})]})]})}),b.jsxs("div",{className:"space-y-2",children:[b.jsxs("button",{type:"button",onClick:p,disabled:!u,"aria-disabled":!u,className:`flex items-center justify-center gap-3 w-full py-3 rounded-lg font-medium text-sm shadow transition-all 
              ${u?"bg-white text-black hover:bg-neutral-100 active:scale-[0.98] cursor-pointer":"bg-neutral-700 text-neutral-400 cursor-not-allowed"}`,children:[b.jsx("img",{src:"https://www.gstatic.com/firebasejs/ui/2.0.0/images/auth/google.svg",alt:"Google Logo",className:"w-5 h-5 opacity-90"}),b.jsx("span",{children:"  "})]}),b.jsxs("button",{type:"button",onClick:g,disabled:!u,"aria-disabled":!u,className:`flex items-center justify-center gap-3 w-full py-3 rounded-lg font-medium text-sm shadow transition-all
              ${u?"bg-[#FEE500] text-black hover:brightness-95 active:scale-[0.98] cursor-pointer":"bg-neutral-700 text-neutral-400 cursor-not-allowed"}`,children:[b.jsx("img",{src:"/icons/KakaoTalk_logo.png",alt:"KakaoTalk",className:"h-5"}),b.jsx("span",{children:" "})]})]}),b.jsxs("div",{className:"mt-6 border-t border-neutral-800 pt-4 text-xs text-neutral-400 leading-relaxed",children:[b.jsx("p",{className:"font-semibold text-neutral-300 mb-2",children:"    "}),b.jsxs("ul",{className:"list-disc pl-5 space-y-1",children:[b.jsx("li",{children:" /  "}),b.jsx("li",{children:"    "}),b.jsx("li",{children:"/ (  )"})]}),b.jsx("p",{className:"mt-3 text-[11px] text-neutral-500",children:": unique950318@gmail.com   "})]})]}),b.jsx(p$,{position:"top-center",toastOptions:{duration:2e3}}),o&&b.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50",onClick:()=>l(!1),children:b.jsxs("div",{className:"w-full max-w-lg bg-white dark:bg-neutral-900 text-neutral-900 dark:text-neutral-200 p-6 rounded-xl shadow-xl relative animate-fadeInUp",onClick:x=>x.stopPropagation(),children:[b.jsx("h3",{className:"text-lg font-bold mb-4",children:" "}),b.jsxs("div",{className:"text-sm leading-relaxed max-h-[60vh] overflow-y-auto pr-2",children:[b.jsx("p",{className:"mb-2",children:"( )     ,      ."}),b.jsx("p",{className:"font-semibold mt-4 mb-1",children:"1.  "}),b.jsxs("p",{className:"mb-2",children:["   ,  (,  )",b.jsx("br",{}),"       ( ,  )"]}),b.jsx("p",{className:"font-semibold mt-4 mb-1",children:"2.  "}),b.jsxs("p",{className:"mb-2",children:["     ",b.jsx("br",{}),"      ",b.jsx("br",{}),"      "]}),b.jsx("p",{className:"font-semibold mt-4 mb-1",children:"3.  "}),b.jsxs("p",{className:"mb-2",children:["     ",b.jsx("br",{}),"           "]}),b.jsx("p",{className:"font-semibold mt-4 mb-1",children:"4. 3 "}),b.jsx("p",{className:"mb-2",children:"          ."}),b.jsx("p",{className:"font-semibold mt-4 mb-1",children:"5. "}),b.jsx("p",{className:"mb-2",children:" Supabase        ."}),b.jsx("p",{className:"font-semibold mt-4 mb-1",children:"6. "}),b.jsx("p",{children:"   : unique950318@gmail.com"})]}),b.jsx("button",{onClick:()=>l(!1),className:"mt-4 w-full py-2 bg-neutral-900 dark:bg-neutral-700 text-white rounded-lg hover:bg-neutral-800 transition cursor-pointer",children:""})]})})]})}function ATe(e){switch(e){case"PERSIST_SAVE":return"    !";case"ADD_LIMIT":return"    !";case"HEADER":return"";default:return""}}function TTe(){const e=ls(i=>i.open),t=ls(i=>i.reason),n=ls(i=>i.close),r=w.useMemo(()=>ATe(t),[t]);return w.useEffect(()=>{if(!e)return;const i=a=>{a.key==="Escape"&&n()};return window.addEventListener("keydown",i),()=>window.removeEventListener("keydown",i)},[e,n]),w.useEffect(()=>{const{data:i}=Me.auth.onAuthStateChange((a,o)=>{o?.user&&(on.getState().loadFromServer(),Tn.getState().loadFromServer(),_r.getState().loadFromServer(),ls.getState().close())});return()=>i.subscription.unsubscribe()},[]),e?b.jsx("div",{className:"fixed inset-0 z-[9999] bg-black/60 flex items-center justify-center p-4",onClick:n,role:"dialog","aria-modal":"true",children:b.jsxs("div",{className:"w-full max-w-[520px] rounded-2xl bg-white dark:bg-neutral-950 border border-neutral-200 dark:border-neutral-800 shadow-xl overflow-hidden",onClick:i=>i.stopPropagation(),children:[b.jsxs("div",{className:"flex items-center justify-between px-4 py-2 border-b border-neutral-200 dark:border-neutral-800",children:[b.jsx("div",{className:"text-sm font-semibold text-neutral-900 dark:text-neutral-100",children:r}),b.jsx("button",{type:"button",onClick:n,className:`w-8 h-8 rounded-full flex items-center justify-center
                       bg-neutral-100 hover:bg-neutral-200
                       dark:bg-neutral-800 dark:hover:bg-neutral-700
                       text-neutral-700 dark:text-neutral-200 cursor-pointer`,"aria-label":"",title:"",children:""})]}),b.jsx("div",{className:"p-4",children:b.jsx(eF,{})})]})}):null}function OTe(){const e=ls(t=>t.openWith);return b.jsx("div",{className:"max-w-[640px] mx-auto px-3",children:b.jsxs("div",{className:`rounded-xl border border-amber-300/60 bg-amber-50 text-amber-950
                      dark:border-amber-500/30 dark:bg-amber-950/30 dark:text-amber-100
                      shadow-sm px-4 py-3 flex items-center justify-between gap-3`,children:[b.jsxs("div",{className:"min-w-0",children:[b.jsx("div",{className:"text-sm font-semibold truncate",children:"   "}),b.jsx("div",{className:"text-xs opacity-90 mt-0.5 leading-relaxed",children:" /   ."})]}),b.jsxs("button",{type:"button",onClick:()=>e("PERSIST_SAVE"),className:`shrink-0 inline-flex items-center gap-1.5
                     px-3 py-2 rounded-lg text-xs font-semibold
                     bg-amber-500 hover:bg-amber-600 text-white
                     border border-amber-600/30
                     cursor-pointer`,"aria-label":"",title:"",children:[b.jsx(j7,{size:16}),""]})]})})}const B3="DAN-GW4jrUdfiXklZ12U",z3="DAN-CeRuC0yKzSAs5Gju",jTe="DAN-G16gewnPhZou1D9y",NTe="DAN-rdKe9ZODmrZR4hho",CTe="DAN-INfSKh1pW2cEtWNu",MTe={id:"empty",name:"",birthDay:"",birthTime:"",gender:"",birthPlace:{name:"",lat:0,lon:0},relationship:"",memo:"",folder:"",mingSikType:"/",DayChangeRule:"",favorite:!1,dateObj:new Date,corrected:new Date,correctedLocal:"",dayStem:"",ganjiText:"",ganji:"",calendarType:"solar",dir:"forward"};function PTe(){const e=JAe();fTe(e);const t=QAe();return e.authChecked?e.isLoggedIn&&e.adminMode?b.jsx(kU,{}):e.isLoggedIn&&(!t.entLoaded||!t.settingsLoaded)?b.jsx("main",{className:"flex min-h-screen items-center justify-center",children:b.jsx("p",{className:"text-sm text-neutral-500",children:"  ..."})}):b.jsx(DTe,{isLoggedIn:e.isLoggedIn}):b.jsx("main",{className:"flex min-h-screen items-center justify-center",children:b.jsx("p",{className:"text-sm text-neutral-500",children:"   ..."})})}function DTe({isLoggedIn:e}){const{list:t}=_r(),n=Tn(g=>g.settings),r=hTe(t),i=yTe({list:t,currentId:r.currentId,settings:n,emptyMs:MTe}),a=bTe({canAdd:i.canAdd,hasCurrent:i.hasCurrent,current:i.current,isLoggedIn:e,setWizardOpen:r.setWizardOpen,setOpenCustom:r.setOpenCustom,setShowSidebar:r.setShowSidebar,setShowToday:r.setShowToday,setShowCouple:r.setShowCouple,setCurrentId:r.setCurrentId,setEditing:r.setEditing}),o=on(g=>g.shouldShowAdsNow()),l=i.hasCurrent&&!r.showToday&&!r.showCouple&&!r.wizardOpen&&!r.editing,u=!e&&i.hasCurrent&&l,f=!e&&!l,[h,p]=w.useState(!1);return b.jsxs("div",{className:"min-h-screen pb-16",children:[b.jsx(_Te,{enabled:o}),b.jsx("div",{className:"hidden desk:block",children:b.jsx(ETe,{enabled:o,adUnit:CTe,width:160,height:600,showAfterScrollY:0,hideForHours:24,rightPx:16,topPx:120,breakpointClassName:"hidden xl:block"})}),b.jsx(due,{isLoggedIn:e,onOpenSidebar:()=>r.setShowSidebar(!0),onAddNew:a.openAdd,onOpenCustom:a.openCustomModal}),b.jsx(TTe,{}),h&&b.jsxs("div",{className:"fixed inset-0 z-[210] bg-black/70 flex items-center justify-center",children:[b.jsx("div",{className:"w-full max-w-[420px] max-h-[90dvh] overflow-auto rounded-2xl",children:b.jsx(eF,{})}),b.jsx("button",{className:"fixed top-4 right-4 text-white text-2xl",onClick:()=>p(!1),children:""})]}),b.jsx(j2e,{open:r.openCustom,onClose:()=>r.setOpenCustom(!1),onSave:a.handleCustomSave}),b.jsx(p$,{position:"top-center"}),b.jsx(Xue,{open:r.showSidebar,onClose:()=>r.setShowSidebar(!1),onView:a.handleSidebarView,onAddNew:a.openAdd,onEdit:a.handleSidebarEdit,onDeleteView:a.handleSidebarDeleteView}),f&&b.jsx("div",{className:"absolute w-full l-0 mt-14 desk:mt-16 text-xs desk:text-base text-amber-500 dark:text-amber-400 text-center",children:" .    ."}),r.showToday&&b.jsx(YW,{}),r.wizardOpen&&b.jsxs(b.Fragment,{children:[b.jsx("div",{id:"wizard-dim",className:"bg-black opacity-80 fixed inset-0 w-full min-h-full z-99"}),b.jsx("div",{className:"absolute inset-0 transition-opacity duration-150 opacity-100 z-100",children:b.jsx("div",{className:"py-6 pb-16 overflow-y-auto min-h-[100dvh]",children:b.jsx(Gte,{onSave:a.handleWizardSave,onClose:()=>r.setWizardOpen(!1)})})})]}),i.hasCurrent&&!r.showToday&&!r.showCouple&&b.jsxs("div",{className:"pt-16",children:[u&&b.jsx("div",{children:b.jsx(OTe,{})}),b.jsx("div",{className:"pb-4",children:b.jsx(aae,{data:i.current,hourTable:i.current?.mingSikType??"/"})}),b.jsx("div",{children:b.jsx(Dce,{data:i.current})}),b.jsx(i2e,{ms:i.current}),o&&l&&n.showPromptBox&&b.jsxs("div",{className:"max-w-[760px] mx-auto px-3 mt-6 mb-2",children:[b.jsx("div",{className:"hidden md:block",children:b.jsx(Uc,{enabled:!0,adUnit:z3,width:728,height:90})}),b.jsx("div",{className:"md:hidden",children:b.jsx(Uc,{enabled:!0,adUnit:B3,width:320,height:50})})]}),n.showPromptBox&&b.jsx("div",{className:"max-w-[640px] mx-auto mb-8",children:b.jsx(XAe,{ms:i.current,natal:i.isValidPillars(i.natal)?i.natal:[],chain:i.chain,basis:{voidBasis:i.voidBasis,samjaeBasis:i.samjaeBasis},includeTenGod:!0,lunarPillars:[]})}),o&&l&&b.jsxs("div",{className:"max-w-[760px] mx-auto px-3 pb-6",children:[b.jsx("div",{className:"hidden md:block",children:b.jsx(Uc,{enabled:!0,adUnit:NTe,width:728,height:90})}),b.jsx("div",{className:"md:hidden",children:b.jsx(Uc,{enabled:!0,adUnit:jTe,width:320,height:50})})]})]}),r.showCouple&&b.jsx("div",{className:"pt-18 pb-4",children:b.jsx(t2e,{people:t})}),o&&!l&&b.jsxs("div",{className:"max-w-[760px] mx-auto px-3 mt-1 mb-2",children:[b.jsx("div",{className:"hidden md:block",children:b.jsx(Uc,{enabled:!0,adUnit:z3,width:728,height:90})}),b.jsx("div",{className:"md:hidden",children:b.jsx(Uc,{enabled:!0,adUnit:B3,width:320,height:50})})]}),r.editing&&b.jsx("div",{className:"fixed inset-0 z-55 flex items-center justify-center bg-black/60",children:b.jsx("div",{className:"overflow-auto bg-white dark:bg-neutral-950 p-4 rounded-xl w-full max-h-[90dvh] max-w-xl shadow-lg",children:b.jsx(fde,{item:r.editing,onClose:()=>r.setEditing(null)})})}),b.jsx(xue,{onShowToday:()=>{r.setShowToday(!0),r.setShowCouple(!1)},onShowCouple:()=>{r.setShowCouple(!0),r.setShowToday(!1)}}),b.jsx(n2e,{})]})}function RTe(){const e=ba(),[t,n]=w.useState(null),[r,i]=w.useState(null);return w.useEffect(()=>{if(e.pathname!=="/impersonate")return;const a=new URLSearchParams(e.search);n(a.get("userId")),i(a.get("myeongsikId"))},[e.pathname,e.search]),b.jsxs("div",{className:"p-4 text-white",children:[b.jsx("div",{className:"text-sm text-neutral-400",children:"Impersonate"}),b.jsxs("div",{className:"mt-2",children:["userId: ",t??"(none)"]}),b.jsxs("div",{className:"mt-1",children:["myeongsikId: ",r??"(none)"]})]})}function LTe(){const e=ba(),t=JE(),[n,r]=w.useState("  ...");return w.useEffect(()=>{(async()=>{try{const a=new URLSearchParams(e.search),o=a.get("error"),l=a.get("error_description");if(o){r(` : ${decodeURIComponent(l??o)}`);return}const u=a.get("code");if(!u){r(" code . (redirectTo/PKCE  )");return}const{error:f}=await Me.auth.exchangeCodeForSession(u);if(f){r(`  : ${f.message}`);return}t("/",{replace:!0})}catch(a){r(a instanceof Error?a.message:"   ")}})()},[e.search,t]),b.jsx("main",{className:"min-h-screen flex items-center justify-center",children:b.jsx("p",{className:"text-sm text-neutral-500",children:n})})}function ITe(e){return typeof e=="object"&&e!==null}function $Te(e){if(!ITe(e))return null;const t=typeof e.ok=="boolean"?e.ok:void 0,n=typeof e.total_active_ms=="number"?e.total_active_ms:void 0,r=typeof e.upgraded_to_basic=="boolean"?e.upgraded_to_basic:void 0;return{ok:t,total_active_ms:n,upgraded_to_basic:r}}function tF({enabled:e=!0,intervalMs:t=6e4,path:n,onBasicUnlocked:r,onTotalActiveMs:i}){const a=w.useRef(!1),o=w.useRef(""),l=w.useRef(!1),u=w.useRef(null),f=w.useRef(null),h=w.useRef(null),p=w.useRef(0);return w.useEffect(()=>{o.current=n??""},[n]),w.useEffect(()=>{let g=null;return(async()=>{const{data:S}=await Me.auth.getSession();u.current=S.session?.user?.id??null;const k=Me.auth.onAuthStateChange((T,N)=>{u.current=N?.user?.id??null,l.current=!1}).data?.subscription;k&&typeof k.unsubscribe=="function"&&(g=()=>k.unsubscribe())})(),()=>{g&&g()}},[]),w.useEffect(()=>{if(!e)return;const g=async _=>{if(document.visibilityState!=="visible")return;const k=Date.now();if(!(_!=="init"&&k-p.current<1e4)&&(p.current=k,!a.current)){a.current=!0;try{if(!u.current)return;const N=o.current||null,{data:O,error:P}=await Me.rpc("ping_activity",{p_last_path:N});if(P)return;const C=$Te(O);if(!C)return;typeof C.total_active_ms=="number"&&i?.(C.total_active_ms),C.upgraded_to_basic===!0&&!l.current&&(l.current=!0,r?.())}finally{a.current=!1}}};g("init");const x=Math.floor(Math.random()*5e3);h.current=window.setTimeout(()=>{g("interval"),f.current=window.setInterval(()=>void g("interval"),t)},x);const S=()=>{document.visibilityState==="visible"&&g("visible")};return document.addEventListener("visibilitychange",S),()=>{document.removeEventListener("visibilitychange",S),h.current!==null&&(window.clearTimeout(h.current),h.current=null),f.current!==null&&(window.clearInterval(f.current),f.current=null)}},[e,t,r,i]),null}function BTe(){const e=_r(i=>i.loadFromServer),t=Tn(i=>i.loadFromServer),n=on(i=>i.loadFromServer),r=w.useCallback(()=>{n(),t(),e()},[n,t,e]);return w.useEffect(()=>{r();const{data:i}=Me.auth.onAuthStateChange(()=>{r()});return()=>{i.subscription.unsubscribe()}},[r]),null}function zTe(e){try{const t=localStorage.getItem(e);if(!t)return 0;const n=Number(t);return Number.isFinite(n)?n:0}catch{return 0}}function UTe(e,t){try{localStorage.setItem(e,String(t))}catch{}}function FTe(e){return e<=0?0:Math.floor(Math.random()*e)}function HTe({enabled:e=!0,href:t="https://open.kakao.com/o/sjBRz57h",hintTexts:n=["    !","    !"," .",",  ."," ,   ,  !"],hideHintHours:r=24,cycleMs:i=4200,mobilePaddingX:a=0,bottomDockCssVarName:o="--bottom-dock"}){const l=w.useMemo(()=>"kakao_chat_hint_hide_until",[]),[u,f]=w.useState(!1),[h,p]=w.useState(()=>FTe(n.length)),g=w.useRef(null),x=w.useCallback(k=>{if(typeof document>"u")return;const T=`${Math.max(0,Math.floor(k))}px`;document.documentElement.style.setProperty(o,T)},[o]);if(w.useEffect(()=>{if(n.length<=0){p(0);return}p(k=>k%n.length)},[n.length]),w.useEffect(()=>{if(!e){f(!1);return}const k=zTe(l),T=Date.now();if(k>T){f(!1);return}const N=window.setTimeout(()=>f(!0),900);return()=>window.clearTimeout(N)},[e,l]),w.useEffect(()=>{if(!e||!u||n.length<=1)return;const k=window.setInterval(()=>{p(T=>T+1>=n.length?0:T+1)},i);return()=>window.clearInterval(k)},[e,u,n.length,i]),w.useEffect(()=>{if(!e||!u){x(0);return}const k=g.current;if(!k){x(0);return}const T=()=>{const N=Math.ceil(k.getBoundingClientRect().height);x(N)};if(T(),typeof ResizeObserver<"u"){const N=new ResizeObserver(T);return N.observe(k),()=>{N.disconnect(),x(0)}}return window.addEventListener("resize",T),()=>{window.removeEventListener("resize",T),x(0)}},[e,u,x]),!e)return null;const S=()=>{UTe(l,Date.now()+r*60*60*1e3),f(!1),x(0)},_=n[h]??"";return b.jsxs(b.Fragment,{children:[b.jsx("style",{children:`
        @keyframes hintFadeCycle {
          0%   { opacity: 0; transform: translate3d(0, 6px, 0); }
          14%  { opacity: 1; transform: translate3d(0, 0, 0); }
          78%  { opacity: 1; transform: translate3d(0, 0, 0); }
          100% { opacity: 0; transform: translate3d(0, -2px, 0); }
        }
      `}),u&&n.length>0?b.jsx("div",{ref:g,className:"desk:hidden fixed left-0 right-0 bottom-0 z-[99] pointer-events-none",style:{paddingLeft:a,paddingRight:a,paddingBottom:0},children:b.jsxs("div",{className:"pointer-events-auto w-full border border-neutral-700 bg-neutral-900/95 text-white shadow-lg",style:{display:"grid",gridTemplateColumns:"1fr auto",alignItems:"center",gap:10,padding:"4px 8px"},children:[b.jsx("div",{className:"min-w-0 text-xs whitespace-nowrap overflow-hidden text-ellipsis",style:{animationName:"hintFadeCycle",animationDuration:`${i}ms`,animationTimingFunction:"ease-in-out",animationIterationCount:"infinite"},title:_,children:_}),b.jsxs("div",{style:{display:"flex",alignItems:"center",gap:8},children:[b.jsx("button",{type:"button",onClick:S,"aria-label":" ",title:"",className:"w-8 h-8 rounded-full bg-neutral-800 border border-neutral-700 text-[14px] flex items-center justify-center hover:bg-neutral-700",children:b.jsx(cb,{})}),b.jsx("a",{href:t,target:"_blank",rel:"noopener noreferrer","aria-label":"  ",title:"( )",className:`w-8 h-8 rounded-full bg-neutral-800 hover:bg-neutral-700 border border-neutral-700
                           flex items-center justify-center transition-colors`,children:b.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none","aria-hidden":"true",children:[b.jsx("path",{d:"M4 5.5C4 4.12 5.12 3 6.5 3h11C18.88 3 20 4.12 20 5.5v7C20 13.88 18.88 15 17.5 15H10l-4.5 4V15H6.5C5.12 15 4 13.88 4 12.5v-7Z",stroke:"currentColor",strokeWidth:"1.8",strokeLinejoin:"round"}),b.jsx("path",{d:"M7.5 7.5h9M7.5 10.5h6",stroke:"currentColor",strokeWidth:"1.8",strokeLinecap:"round"})]})})]})]})}):null,b.jsxs("div",{className:"hidden desk:block fixed right-5 bottom-5 z-[999]",children:[u&&n.length>0&&b.jsx("div",{className:"absolute bottom-14 right-0 w-max max-w-[260px]",children:b.jsxs("div",{className:"relative rounded-xl bg-neutral-900 text-white border border-neutral-700 shadow-lg px-3 py-2 text-xs whitespace-pre-line",style:{animationName:"hintFadeCycle",animationDuration:`${i}ms`,animationTimingFunction:"ease-in-out",animationIterationCount:"infinite"},children:[_,b.jsx("button",{type:"button",onClick:S,className:"absolute -top-2 -right-2 w-6 h-6 rounded-full bg-neutral-800 border border-neutral-700 text-[12px] flex items-center justify-center hover:bg-neutral-700 cursor-pointer","aria-label":" ",title:"",children:b.jsx(cb,{size:12})}),b.jsx("div",{className:"absolute -bottom-2 right-4 w-0 h-0 border-l-8 border-r-8 border-t-8 border-l-transparent border-r-transparent border-t-neutral-900"})]})}),b.jsx("a",{href:t,target:"_blank",rel:"noopener noreferrer","aria-label":"  ",title:"( )",className:`flex items-center justify-center w-12 h-12 rounded-full shadow-lg
                     bg-neutral-800 hover:bg-neutral-700 border border-neutral-700 transition-colors`,children:b.jsxs("svg",{width:"22",height:"22",viewBox:"0 0 24 24",fill:"none","aria-hidden":"true",children:[b.jsx("path",{d:"M4 5.5C4 4.12 5.12 3 6.5 3h11C18.88 3 20 4.12 20 5.5v7C20 13.88 18.88 15 17.5 15H10l-4.5 4V15H6.5C5.12 15 4 13.88 4 12.5v-7Z",stroke:"currentColor",strokeWidth:"1.8",strokeLinejoin:"round"}),b.jsx("path",{d:"M7.5 7.5h9M7.5 10.5h6",stroke:"currentColor",strokeWidth:"1.8",strokeLinecap:"round"})]})})]})]})}function GTe(e){const t=["#F87171","#FBBF24","#34D399","#60A5FA","#A78BFA","#F472B6"],n=[];for(let r=0;r<e;r+=1)n.push({leftPct:Math.random()*100,size:6+Math.floor(Math.random()*8),delayMs:Math.floor(Math.random()*300),durationMs:1200+Math.floor(Math.random()*900),rotate:Math.floor(Math.random()*360),driftPx:-40+Math.floor(Math.random()*80),color:t[r%t.length]});return n}function qTe({open:e,onClose:t}){const n=w.useMemo(()=>GTe(48),[]);return w.useEffect(()=>{if(!e)return;const r=a=>{a.key==="Escape"&&t()};window.addEventListener("keydown",r);const i=window.setTimeout(()=>t(),6e3);return()=>{window.removeEventListener("keydown",r),window.clearTimeout(i)}},[e,t]),e?b.jsxs("div",{className:"fixed inset-0 z-[2000] flex items-center justify-center",children:[b.jsx("style",{children:`
        @keyframes confettiFall {
          0%   { transform: translate3d(var(--dx), -20px, 0) rotate(var(--rot)); opacity: 0; }
          10%  { opacity: 1; }
          100% { transform: translate3d(var(--dx), 560px, 0) rotate(calc(var(--rot) + 360deg)); opacity: 0; }
        }
        @keyframes pop {
          0% { transform: scale(0.98); opacity: 0; }
          100% { transform: scale(1); opacity: 1; }
        }
      `}),b.jsx("div",{className:"absolute inset-0 bg-black/60",onClick:t}),b.jsx("div",{className:"absolute inset-0 overflow-hidden pointer-events-none",children:n.map((r,i)=>{const a={position:"absolute",top:0,left:`${r.leftPct}%`,width:r.size,height:Math.max(8,r.size+6),background:r.color,borderRadius:2,transform:`rotate(${r.rotate}deg)`,animation:`confettiFall ${r.durationMs}ms ease-out ${r.delayMs}ms forwards`,"--dx":`${r.driftPx}px`,"--rot":`${r.rotate}deg`};return b.jsx("span",{style:a},i)})}),b.jsxs("div",{className:`relative w-[92%] max-w-[420px] rounded-2xl bg-white dark:bg-neutral-950
                   border border-neutral-200 dark:border-neutral-800 shadow-xl p-5`,style:{animation:"pop 160ms ease-out"},children:[b.jsxs("div",{className:"text-center",children:[b.jsx("div",{className:"text-3xl mb-2",children:""}),b.jsx("div",{className:"text-xl font-extrabold text-neutral-900 dark:text-neutral-50",children:"BASIC  !"}),b.jsx("div",{className:"mt-2 text-sm text-neutral-600 dark:text-neutral-300",children:"     ! "})]}),b.jsx("div",{className:"mt-4 flex justify-center gap-2",children:b.jsx("button",{type:"button",onClick:t,className:"px-4 py-2 rounded-lg bg-neutral-900 text-white hover:bg-neutral-800 cursor-pointer",children:""})})]})]}):null}function U3(e){if(typeof e!="string")return"FREE";const t=e.toUpperCase();return t==="BASIC"?"BASIC":t==="PRO"?"PRO":"FREE"}function YTe(){const e=ba(),t=e.pathname+e.search,n=!e.pathname.startsWith("/admin")&&!e.pathname.startsWith("/impersonate")&&!e.pathname.startsWith("/auth/callback"),[r,i]=w.useState(!1),a=on(g=>g.loaded),o=on(g=>g.loading),l=on(g=>g.userId),u=on(g=>U3(g.plan)),f=w.useRef(!1);w.useEffect(()=>{n&&(a||o||on.getState().loadFromServer())},[n,a,o]);const h=w.useCallback(async()=>{if(f.current)return;f.current=!0;const{data:g,error:x}=await Me.rpc("mark_basic_celebrated");if(x){console.warn("[basic celebration] rpc error:",x.message);return}g===!0&&i(!0)},[]);w.useEffect(()=>{n&&a&&l&&u==="BASIC"&&h()},[n,a,l,u,h]);const p=w.useCallback(()=>{(async()=>(await on.getState().loadFromServer(),U3(on.getState().plan)==="BASIC"&&(f.current=!1,await h())))()},[h]);return b.jsxs(b.Fragment,{children:[b.jsx(tF,{enabled:n,path:t,onBasicUnlocked:p}),b.jsx(HTe,{enabled:n}),b.jsx(qTe,{open:r,onClose:()=>i(!1)})]})}function KTe(){return b.jsxs(b.Fragment,{children:[b.jsx(BTe,{}),b.jsx(YTe,{}),b.jsx(tF,{}),b.jsxs(xG,{children:[b.jsx(gd,{path:"/auth/callback",element:b.jsx(LTe,{})}),b.jsx(gd,{path:"/",element:b.jsx(PTe,{})}),b.jsx(gd,{path:"/admin",element:b.jsx(kU,{})}),b.jsx(gd,{path:"/impersonate",element:b.jsx(RTe,{})}),b.jsx(gd,{path:"*",element:b.jsx(bG,{to:"/",replace:!0})})]})]})}TH.createRoot(document.getElementById("root")).render(b.jsx(w.StrictMode,{children:b.jsx(HG,{children:b.jsx(KTe,{})})}));
